<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2210.03809] Retrieval Augmented Visual Question Answering with Outside Knowledge</title><meta property="og:description" content="Outside-Knowledge Visual Question Answering (OK-VQA) is a challenging VQA task that requires retrieval of external knowledge to answer questions about images.
Recent OK-VQA systems use Dense Passage Retrieval (DPR) to …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Retrieval Augmented Visual Question Answering with Outside Knowledge">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Retrieval Augmented Visual Question Answering with Outside Knowledge">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2210.03809">

<!--Generated on Thu Mar 14 01:57:30 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Retrieval Augmented Visual Question Answering with Outside Knowledge</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Weizhe Lin
<br class="ltx_break">Department of Engineering
<br class="ltx_break">University of Cambridge 
<br class="ltx_break">United Kingdom 
<br class="ltx_break"><span id="id1.1.id1" class="ltx_text ltx_font_typewriter">wl356@cam.ac.uk</span> 
<br class="ltx_break">&amp;Bill Byrne 
<br class="ltx_break">Department of Engineering
<br class="ltx_break">University of Cambridge 
<br class="ltx_break">United Kingdom 
<br class="ltx_break"><span id="id2.2.id2" class="ltx_text ltx_font_typewriter">bill.byrne@eng.cam.ac.uk</span> 
<br class="ltx_break">
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id3.id1" class="ltx_p">Outside-Knowledge Visual Question Answering (OK-VQA) is a challenging VQA task that requires retrieval of external knowledge to answer questions about images.
Recent OK-VQA systems use Dense Passage Retrieval (DPR) to retrieve documents from external knowledge bases, such as Wikipedia, but with DPR trained separately from answer generation, introducing a potential limit on the overall system performance.
Instead, we propose a joint training scheme which includes differentiable DPR integrated with answer generation so that the system can be trained in an end-to-end fashion.
Our experiments show that our scheme outperforms recent OK-VQA systems with strong DPR for retrieval.
We also introduce new diagnostic metrics to analyze how retrieval and generation interact.
The strong retrieval ability of our model significantly reduces the number of retrieved documents needed in training, yielding significant benefits in answer quality and computation required for training.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Visual Question Answering (VQA) is a challenging problem that lies at the intersection of Computer Vision, Natural Language Processing, and Information Retrieval.
The objective in VQA is to read an image and provide an answer to an accompanying question about the image content.
Current approaches to VQA employ deep-learning-based systems to jointly understand images and text.
</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">VQA is particularly challenging when the answer to the question is not directly available in the image.
In <span id="S1.p2.1.1" class="ltx_text ltx_font_italic">Knowledge-based</span> VQA (KB-VQA), the VQA system must access external knowledge sources to find a correct and complete answer.
The Ouside-Knowledge VQA task (OK-VQA) <cite class="ltx_cite ltx_citemacro_cite">Marino et al. (<a href="#bib.bib29" title="" class="ltx_ref">2019</a>)</cite> consists of questions that requires general knowledge and simple inference to answer (Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
Such questions are even hard for humans.
Unlike other KB-VQA datasets (e.g. FVQA <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib41" title="" class="ltx_ref">2017</a>)</cite>) which provide an associated knowledge base, OK-VQA encourages using any outside knowledge in answering questions.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2210.03809/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="156" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>OK-VQA contains questions whose answer cannot be found within the image.</figcaption>
</figure>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">The need to adapt and refresh knowledge sources motivates the study of KB-VQA systems that can extract knowledge from both structured (e.g. ConceptNet <cite class="ltx_cite ltx_citemacro_cite">Speer et al. (<a href="#bib.bib38" title="" class="ltx_ref">2017</a>)</cite>) and unstructured knowledge representations (e.g. Wikipedia passages).
Recent designs <cite class="ltx_cite ltx_citemacro_cite">Luo et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>); Gao et al. (<a href="#bib.bib8" title="" class="ltx_ref">2022</a>)</cite> approach VQA in two distinct steps: (1) <span id="S1.p3.1.1" class="ltx_text ltx_font_italic">Knowledge Retrieval</span> extracts documents from a large knowledge base; (2) <span id="S1.p3.1.2" class="ltx_text ltx_font_italic">Answer Generation</span> produces an answer from these documents. Knowledge Retrieval can be done via
Dense Passage Retrieval (DPR) <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a href="#bib.bib17" title="" class="ltx_ref">2020</a>)</cite>, which
consists of a question encoder and a document encoder (both Transformer-based) that encode questions and documents into separate dense representations.
The DPR system is trained to assign higher scores to documents intended to be helpful in answering questions, so that document sets can be retrieved and passed to Answer Generation.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Knowledge Retrieval based on DPR is powerful but has some readily observed limitations, particularly in model training.
Firstly, whether a retrieved document is useful in answering a question cannot be easily determined, even if an answer is provided.
Prior work <cite class="ltx_cite ltx_citemacro_cite">Qu et al. (<a href="#bib.bib32" title="" class="ltx_ref">2021</a>); Luo et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite> has addressed this problem using “<span id="S1.p4.1.1" class="ltx_text ltx_font_italic">Pseudo Relevance Labels</span>” which are based on whether a document contains a given answer.
However, these are only a weak signal of potential relevance and may encourage DPR to retrieve misleading documents.
Secondly, the document retriever and answer generator are trained separately.
To ensure that the answer generator sees relevant documents in training, systems can retrieve large numbers of documents (<math id="S1.p4.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S1.p4.1.m1.1a"><mo id="S1.p4.1.m1.1.1" xref="S1.p4.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S1.p4.1.m1.1b"><csymbol cd="latexml" id="S1.p4.1.m1.1.1.cmml" xref="S1.p4.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.1.m1.1c">\sim</annotation></semantics></math>50+) <cite class="ltx_cite ltx_citemacro_cite">Gao et al. (<a href="#bib.bib8" title="" class="ltx_ref">2022</a>); Gui et al. (<a href="#bib.bib10" title="" class="ltx_ref">2021</a>)</cite>, but at the cost of slower training and more GPU usage, and also possibly presenting misleading material to the answer generator.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Joint training of the retriever and answer generator offers a solution to these problems. The aim is twofold: (1) to improve the retrieval of documents truly relevant to providing a given answer; and (2) to reject documents with pseudo relevance but not actual relevance.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">Retrieval Augmented Generation (RAG) <cite class="ltx_cite ltx_citemacro_cite">Lewis et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite> has shown that end-to-end joint training of a DPR-based QA system can outperform baseline two-step systems. A notable feature of RAG is a loss function that incorporates marginalized likelihoods over retrieved documents such that the training score of a document is increased whenever it improves prediction.</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">However, in preliminary OK-VQA experiments we found that RAG did not perform well.
Our investigations found that a good portion of OK-VQA training questions are answerable in closed-book form (i.e. using pre-trained models such as T5 <cite class="ltx_cite ltx_citemacro_cite">Raffel et al. (<a href="#bib.bib34" title="" class="ltx_ref">2020</a>)</cite>) with information extracted only from the image,
with the unintended consequence that the RAG loss function awards credit to documents that did not actually contribute to answering a question.
We also found that difficult questions that are unanswerable with the knowledge available to retrieval were more prevalent in OK-VQA than in the Open QA datasets (e.g. Natural Questions <cite class="ltx_cite ltx_citemacro_cite">Kwiatkowski et al. (<a href="#bib.bib19" title="" class="ltx_ref">2019</a>)</cite>) on which RAG was developed. In both of these scenarios, the RAG loss function leads to counter-intuitive adjustments to the document scores used in training the retrieval model, leading to decreased VQA performance.</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p">Motivated by these findings, we propose a novel neural-retrieval-in-the-loop framework for joint training of the retriever and the answer generator. We formulate a loss function that avoids sending misleading signals to the retrieval model in the presence of irrelevant documents. This formalism combines both pseudo relevance labels and model predictions to refine document scores in training.
We find significantly better performance on OK-VQA compared to RAG.
In this paper:
</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We present a novel joint training framework <span id="S1.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">R</span>etrieval <span id="S1.I1.i1.p1.1.2" class="ltx_text ltx_font_bold">A</span>ugmented <span id="S1.I1.i1.p1.1.3" class="ltx_text ltx_font_bold">V</span>isual <span id="S1.I1.i1.p1.1.4" class="ltx_text ltx_font_bold">Q</span>uestion <span id="S1.I1.i1.p1.1.5" class="ltx_text ltx_font_bold">A</span>nswering (RA-VQA) for Knowledge Retrieval and Answer Generation that improves over RAG and two-step baseline systems based on DPR <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a href="#bib.bib17" title="" class="ltx_ref">2020</a>)</cite>.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;padding-top:-3.0pt;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We investigate visually grounded features transformed into ‘language space’ and assess their contribution to OK-VQA performance.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;padding-top:-3.0pt;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We study the role of document retrieval in KB-VQA and evaluate its interaction with retrieval-augmented generation.
We also show that retrieval becomes more efficient in joint training, requiring retrieval of relatively few (<math id="S1.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="\sim 5" display="inline"><semantics id="S1.I1.i3.p1.1.m1.1a"><mrow id="S1.I1.i3.p1.1.m1.1.1" xref="S1.I1.i3.p1.1.m1.1.1.cmml"><mi id="S1.I1.i3.p1.1.m1.1.1.2" xref="S1.I1.i3.p1.1.m1.1.1.2.cmml"></mi><mo id="S1.I1.i3.p1.1.m1.1.1.1" xref="S1.I1.i3.p1.1.m1.1.1.1.cmml">∼</mo><mn id="S1.I1.i3.p1.1.m1.1.1.3" xref="S1.I1.i3.p1.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S1.I1.i3.p1.1.m1.1b"><apply id="S1.I1.i3.p1.1.m1.1.1.cmml" xref="S1.I1.i3.p1.1.m1.1.1"><csymbol cd="latexml" id="S1.I1.i3.p1.1.m1.1.1.1.cmml" xref="S1.I1.i3.p1.1.m1.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S1.I1.i3.p1.1.m1.1.1.2.cmml" xref="S1.I1.i3.p1.1.m1.1.1.2">absent</csymbol><cn type="integer" id="S1.I1.i3.p1.1.m1.1.1.3.cmml" xref="S1.I1.i3.p1.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.i3.p1.1.m1.1c">\sim 5</annotation></semantics></math>) documents in training.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p"><span id="S2.p1.1.1" class="ltx_text ltx_font_bold">Open-domain QA systems.</span> These QA systems are designed to answer questions from datasets such as Natural Questions <cite class="ltx_cite ltx_citemacro_cite">Kwiatkowski et al. (<a href="#bib.bib19" title="" class="ltx_ref">2019</a>)</cite>.
The knowledge needed to answer questions can be in pre-trained models <cite class="ltx_cite ltx_citemacro_cite">Roberts et al. (<a href="#bib.bib35" title="" class="ltx_ref">2020</a>)</cite>, knowledge-graphs (KGs) <cite class="ltx_cite ltx_citemacro_cite">Lin et al. (<a href="#bib.bib25" title="" class="ltx_ref">2019</a>); Feng et al. (<a href="#bib.bib6" title="" class="ltx_ref">2020</a>); Lv et al. (<a href="#bib.bib27" title="" class="ltx_ref">2020</a>); Saffari et al. (<a href="#bib.bib36" title="" class="ltx_ref">2021</a>)</cite> or document collections <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib3" title="" class="ltx_ref">2017</a>); Izacard and Grave (<a href="#bib.bib13" title="" class="ltx_ref">2021</a>); Guu et al. (<a href="#bib.bib12" title="" class="ltx_ref">2020</a>); Lee et al. (<a href="#bib.bib20" title="" class="ltx_ref">2019</a>); Lewis et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite>.
In retrieval-based systems, differential retrieval can be combined with extractive question answering, as in REALM <cite class="ltx_cite ltx_citemacro_cite">Guu et al. (<a href="#bib.bib12" title="" class="ltx_ref">2020</a>)</cite> and ORQA <cite class="ltx_cite ltx_citemacro_cite">Lee et al. (<a href="#bib.bib20" title="" class="ltx_ref">2019</a>)</cite>, as well as with generative answer generation, as in RAG <cite class="ltx_cite ltx_citemacro_cite">Lewis et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite>.</p>
</div>
<div id="S2.p2" class="ltx_para ltx_noindent">
<p id="S2.p2.1" class="ltx_p"><span id="S2.p2.1.1" class="ltx_text ltx_font_bold">VQA Systems.</span> Modelling vision and language is central to VQA.
Models can aggregate visual and textual features via cross-modality fusion <cite class="ltx_cite ltx_citemacro_cite">Yu et al. (<a href="#bib.bib47" title="" class="ltx_ref">2018</a>); Singh et al. (<a href="#bib.bib37" title="" class="ltx_ref">2019</a>); Yu et al. (<a href="#bib.bib46" title="" class="ltx_ref">2019</a>); Jiang et al. (<a href="#bib.bib15" title="" class="ltx_ref">2020</a>); Guo et al. (<a href="#bib.bib11" title="" class="ltx_ref">2021</a>)</cite>.
Systems can also be pre-trained on large vision-and-language collections <cite class="ltx_cite ltx_citemacro_cite">Jia et al. (<a href="#bib.bib14" title="" class="ltx_ref">2021</a>)</cite> and then fine-tuned for VQA tasks <cite class="ltx_cite ltx_citemacro_cite">Tan and Bansal (<a href="#bib.bib39" title="" class="ltx_ref">2019</a>); Chen et al. (<a href="#bib.bib4" title="" class="ltx_ref">2020</a>); Gan et al. (<a href="#bib.bib7" title="" class="ltx_ref">2020</a>); Li et al. (<a href="#bib.bib24" title="" class="ltx_ref">2020b</a>); Wang et al. (<a href="#bib.bib42" title="" class="ltx_ref">2022</a>); Zhang et al. (<a href="#bib.bib48" title="" class="ltx_ref">2021</a>); Li et al. (<a href="#bib.bib23" title="" class="ltx_ref">2021</a>)</cite> with VQA datasets such as VQA 2.0 <cite class="ltx_cite ltx_citemacro_cite">Antol et al. (<a href="#bib.bib1" title="" class="ltx_ref">2015</a>)</cite>.</p>
</div>
<div id="S2.p3" class="ltx_para ltx_noindent">
<p id="S2.p3.1" class="ltx_p"><span id="S2.p3.1.1" class="ltx_text ltx_font_bold">Knowledge-based VQA Systems.</span> KB-VQA can access both structured data, such as ConceptNet and other KGs <cite class="ltx_cite ltx_citemacro_cite">Narasimhan et al. (<a href="#bib.bib30" title="" class="ltx_ref">2018a</a>); Garderes et al. (<a href="#bib.bib9" title="" class="ltx_ref">2020</a>); Li et al. (<a href="#bib.bib22" title="" class="ltx_ref">2020a</a>); Wu et al. (<a href="#bib.bib44" title="" class="ltx_ref">2022</a>); Marino et al. (<a href="#bib.bib28" title="" class="ltx_ref">2021</a>)</cite>, as well as unstructured data such as Wikipedia passages <cite class="ltx_cite ltx_citemacro_cite">Wu et al. (<a href="#bib.bib44" title="" class="ltx_ref">2022</a>); Gao et al. (<a href="#bib.bib8" title="" class="ltx_ref">2022</a>); Gui et al. (<a href="#bib.bib10" title="" class="ltx_ref">2021</a>)</cite>. A variety of multimodal approaches have been explored to access external knowledge.
ConceptBERT <cite class="ltx_cite ltx_citemacro_cite">Garderes et al. (<a href="#bib.bib9" title="" class="ltx_ref">2020</a>)</cite> uses attention to aggregate graph node embeddings from ConceptNet.
KRISP <cite class="ltx_cite ltx_citemacro_cite">Marino et al. (<a href="#bib.bib28" title="" class="ltx_ref">2021</a>)</cite> uses a “symbolic knowledge module” to match ConceptNet KG entities with language/visual elements in questions.
MAVEx <cite class="ltx_cite ltx_citemacro_citep">(Wu et al., <a href="#bib.bib44" title="" class="ltx_ref">2022</a>)</cite> uses multiple information sources (Google Images, Wikipedia sentences, and ConceptNet) to validate promising answer candidates.
VRR <cite class="ltx_cite ltx_citemacro_citep">(Luo et al., <a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite> uses Google Search in a retriever-reader pipeline to perform open-ended answer generation.</p>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p">We also note unpublished contemporaneous work on OK-VQA at the time of submission.
TRiG <cite class="ltx_cite ltx_citemacro_cite">Gao et al. (<a href="#bib.bib8" title="" class="ltx_ref">2022</a>)</cite> shows that it is feasible to transform images into textual features for VQA. The features used are similar to those presented here,
although without an emphasis on the role of knowledge retrieval.
PICa <cite class="ltx_cite ltx_citemacro_cite">Yang et al. (<a href="#bib.bib45" title="" class="ltx_ref">2022</a>)</cite> ‘prompts’ GPT-3 with descriptive captions generated from images,
and KAT <cite class="ltx_cite ltx_citemacro_cite">Gui et al. (<a href="#bib.bib10" title="" class="ltx_ref">2021</a>)</cite> exploits an ensemble of DPR, T5, and GPT-3 to
improve OK-VQA performance.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Methodology</h2>

<figure id="S3.F2" class="ltx_figure"><img src="/html/2210.03809/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="484" height="177" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Model overview. (1) Using object detection/image captioning/Optical Character Recognition to transform visual signals into language space.
(2) Dense Passage Retrieval retrieves documents that are expected to be helpful from the knowledge database; (3) Training the retriever <math id="S3.F2.4.m1.1" class="ltx_Math" alttext="p_{\theta}" display="inline"><semantics id="S3.F2.4.m1.1b"><msub id="S3.F2.4.m1.1.1" xref="S3.F2.4.m1.1.1.cmml"><mi id="S3.F2.4.m1.1.1.2" xref="S3.F2.4.m1.1.1.2.cmml">p</mi><mi id="S3.F2.4.m1.1.1.3" xref="S3.F2.4.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.F2.4.m1.1c"><apply id="S3.F2.4.m1.1.1.cmml" xref="S3.F2.4.m1.1.1"><csymbol cd="ambiguous" id="S3.F2.4.m1.1.1.1.cmml" xref="S3.F2.4.m1.1.1">subscript</csymbol><ci id="S3.F2.4.m1.1.1.2.cmml" xref="S3.F2.4.m1.1.1.2">𝑝</ci><ci id="S3.F2.4.m1.1.1.3.cmml" xref="S3.F2.4.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.4.m1.1d">p_{\theta}</annotation></semantics></math> and the answer generator <math id="S3.F2.5.m2.1" class="ltx_Math" alttext="p_{\phi}" display="inline"><semantics id="S3.F2.5.m2.1b"><msub id="S3.F2.5.m2.1.1" xref="S3.F2.5.m2.1.1.cmml"><mi id="S3.F2.5.m2.1.1.2" xref="S3.F2.5.m2.1.1.2.cmml">p</mi><mi id="S3.F2.5.m2.1.1.3" xref="S3.F2.5.m2.1.1.3.cmml">ϕ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.F2.5.m2.1c"><apply id="S3.F2.5.m2.1.1.cmml" xref="S3.F2.5.m2.1.1"><csymbol cd="ambiguous" id="S3.F2.5.m2.1.1.1.cmml" xref="S3.F2.5.m2.1.1">subscript</csymbol><ci id="S3.F2.5.m2.1.1.2.cmml" xref="S3.F2.5.m2.1.1.2">𝑝</ci><ci id="S3.F2.5.m2.1.1.3.cmml" xref="S3.F2.5.m2.1.1.3">italic-ϕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.5.m2.1d">p_{\phi}</annotation></semantics></math> together using our proposed RA-VQA loss.
(4) The answer with highest joint probability <math id="S3.F2.6.m3.3" class="ltx_Math" alttext="p_{\theta}(z_{i}|x)p_{\phi}(y_{i}|x,z_{i})" display="inline"><semantics id="S3.F2.6.m3.3b"><mrow id="S3.F2.6.m3.3.3" xref="S3.F2.6.m3.3.3.cmml"><msub id="S3.F2.6.m3.3.3.4" xref="S3.F2.6.m3.3.3.4.cmml"><mi id="S3.F2.6.m3.3.3.4.2" xref="S3.F2.6.m3.3.3.4.2.cmml">p</mi><mi id="S3.F2.6.m3.3.3.4.3" xref="S3.F2.6.m3.3.3.4.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.F2.6.m3.3.3.3" xref="S3.F2.6.m3.3.3.3.cmml">​</mo><mrow id="S3.F2.6.m3.2.2.1.1" xref="S3.F2.6.m3.2.2.1.1.1.cmml"><mo stretchy="false" id="S3.F2.6.m3.2.2.1.1.2" xref="S3.F2.6.m3.2.2.1.1.1.cmml">(</mo><mrow id="S3.F2.6.m3.2.2.1.1.1" xref="S3.F2.6.m3.2.2.1.1.1.cmml"><msub id="S3.F2.6.m3.2.2.1.1.1.2" xref="S3.F2.6.m3.2.2.1.1.1.2.cmml"><mi id="S3.F2.6.m3.2.2.1.1.1.2.2" xref="S3.F2.6.m3.2.2.1.1.1.2.2.cmml">z</mi><mi id="S3.F2.6.m3.2.2.1.1.1.2.3" xref="S3.F2.6.m3.2.2.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S3.F2.6.m3.2.2.1.1.1.1" xref="S3.F2.6.m3.2.2.1.1.1.1.cmml">|</mo><mi id="S3.F2.6.m3.2.2.1.1.1.3" xref="S3.F2.6.m3.2.2.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S3.F2.6.m3.2.2.1.1.3" xref="S3.F2.6.m3.2.2.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.F2.6.m3.3.3.3b" xref="S3.F2.6.m3.3.3.3.cmml">​</mo><msub id="S3.F2.6.m3.3.3.5" xref="S3.F2.6.m3.3.3.5.cmml"><mi id="S3.F2.6.m3.3.3.5.2" xref="S3.F2.6.m3.3.3.5.2.cmml">p</mi><mi id="S3.F2.6.m3.3.3.5.3" xref="S3.F2.6.m3.3.3.5.3.cmml">ϕ</mi></msub><mo lspace="0em" rspace="0em" id="S3.F2.6.m3.3.3.3c" xref="S3.F2.6.m3.3.3.3.cmml">​</mo><mrow id="S3.F2.6.m3.3.3.2.1" xref="S3.F2.6.m3.3.3.2.1.1.cmml"><mo stretchy="false" id="S3.F2.6.m3.3.3.2.1.2" xref="S3.F2.6.m3.3.3.2.1.1.cmml">(</mo><mrow id="S3.F2.6.m3.3.3.2.1.1" xref="S3.F2.6.m3.3.3.2.1.1.cmml"><msub id="S3.F2.6.m3.3.3.2.1.1.3" xref="S3.F2.6.m3.3.3.2.1.1.3.cmml"><mi id="S3.F2.6.m3.3.3.2.1.1.3.2" xref="S3.F2.6.m3.3.3.2.1.1.3.2.cmml">y</mi><mi id="S3.F2.6.m3.3.3.2.1.1.3.3" xref="S3.F2.6.m3.3.3.2.1.1.3.3.cmml">i</mi></msub><mo fence="false" id="S3.F2.6.m3.3.3.2.1.1.2" xref="S3.F2.6.m3.3.3.2.1.1.2.cmml">|</mo><mrow id="S3.F2.6.m3.3.3.2.1.1.1.1" xref="S3.F2.6.m3.3.3.2.1.1.1.2.cmml"><mi id="S3.F2.6.m3.1.1" xref="S3.F2.6.m3.1.1.cmml">x</mi><mo id="S3.F2.6.m3.3.3.2.1.1.1.1.2" xref="S3.F2.6.m3.3.3.2.1.1.1.2.cmml">,</mo><msub id="S3.F2.6.m3.3.3.2.1.1.1.1.1" xref="S3.F2.6.m3.3.3.2.1.1.1.1.1.cmml"><mi id="S3.F2.6.m3.3.3.2.1.1.1.1.1.2" xref="S3.F2.6.m3.3.3.2.1.1.1.1.1.2.cmml">z</mi><mi id="S3.F2.6.m3.3.3.2.1.1.1.1.1.3" xref="S3.F2.6.m3.3.3.2.1.1.1.1.1.3.cmml">i</mi></msub></mrow></mrow><mo stretchy="false" id="S3.F2.6.m3.3.3.2.1.3" xref="S3.F2.6.m3.3.3.2.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.6.m3.3c"><apply id="S3.F2.6.m3.3.3.cmml" xref="S3.F2.6.m3.3.3"><times id="S3.F2.6.m3.3.3.3.cmml" xref="S3.F2.6.m3.3.3.3"></times><apply id="S3.F2.6.m3.3.3.4.cmml" xref="S3.F2.6.m3.3.3.4"><csymbol cd="ambiguous" id="S3.F2.6.m3.3.3.4.1.cmml" xref="S3.F2.6.m3.3.3.4">subscript</csymbol><ci id="S3.F2.6.m3.3.3.4.2.cmml" xref="S3.F2.6.m3.3.3.4.2">𝑝</ci><ci id="S3.F2.6.m3.3.3.4.3.cmml" xref="S3.F2.6.m3.3.3.4.3">𝜃</ci></apply><apply id="S3.F2.6.m3.2.2.1.1.1.cmml" xref="S3.F2.6.m3.2.2.1.1"><csymbol cd="latexml" id="S3.F2.6.m3.2.2.1.1.1.1.cmml" xref="S3.F2.6.m3.2.2.1.1.1.1">conditional</csymbol><apply id="S3.F2.6.m3.2.2.1.1.1.2.cmml" xref="S3.F2.6.m3.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.F2.6.m3.2.2.1.1.1.2.1.cmml" xref="S3.F2.6.m3.2.2.1.1.1.2">subscript</csymbol><ci id="S3.F2.6.m3.2.2.1.1.1.2.2.cmml" xref="S3.F2.6.m3.2.2.1.1.1.2.2">𝑧</ci><ci id="S3.F2.6.m3.2.2.1.1.1.2.3.cmml" xref="S3.F2.6.m3.2.2.1.1.1.2.3">𝑖</ci></apply><ci id="S3.F2.6.m3.2.2.1.1.1.3.cmml" xref="S3.F2.6.m3.2.2.1.1.1.3">𝑥</ci></apply><apply id="S3.F2.6.m3.3.3.5.cmml" xref="S3.F2.6.m3.3.3.5"><csymbol cd="ambiguous" id="S3.F2.6.m3.3.3.5.1.cmml" xref="S3.F2.6.m3.3.3.5">subscript</csymbol><ci id="S3.F2.6.m3.3.3.5.2.cmml" xref="S3.F2.6.m3.3.3.5.2">𝑝</ci><ci id="S3.F2.6.m3.3.3.5.3.cmml" xref="S3.F2.6.m3.3.3.5.3">italic-ϕ</ci></apply><apply id="S3.F2.6.m3.3.3.2.1.1.cmml" xref="S3.F2.6.m3.3.3.2.1"><csymbol cd="latexml" id="S3.F2.6.m3.3.3.2.1.1.2.cmml" xref="S3.F2.6.m3.3.3.2.1.1.2">conditional</csymbol><apply id="S3.F2.6.m3.3.3.2.1.1.3.cmml" xref="S3.F2.6.m3.3.3.2.1.1.3"><csymbol cd="ambiguous" id="S3.F2.6.m3.3.3.2.1.1.3.1.cmml" xref="S3.F2.6.m3.3.3.2.1.1.3">subscript</csymbol><ci id="S3.F2.6.m3.3.3.2.1.1.3.2.cmml" xref="S3.F2.6.m3.3.3.2.1.1.3.2">𝑦</ci><ci id="S3.F2.6.m3.3.3.2.1.1.3.3.cmml" xref="S3.F2.6.m3.3.3.2.1.1.3.3">𝑖</ci></apply><list id="S3.F2.6.m3.3.3.2.1.1.1.2.cmml" xref="S3.F2.6.m3.3.3.2.1.1.1.1"><ci id="S3.F2.6.m3.1.1.cmml" xref="S3.F2.6.m3.1.1">𝑥</ci><apply id="S3.F2.6.m3.3.3.2.1.1.1.1.1.cmml" xref="S3.F2.6.m3.3.3.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.F2.6.m3.3.3.2.1.1.1.1.1.1.cmml" xref="S3.F2.6.m3.3.3.2.1.1.1.1.1">subscript</csymbol><ci id="S3.F2.6.m3.3.3.2.1.1.1.1.1.2.cmml" xref="S3.F2.6.m3.3.3.2.1.1.1.1.1.2">𝑧</ci><ci id="S3.F2.6.m3.3.3.2.1.1.1.1.1.3.cmml" xref="S3.F2.6.m3.3.3.2.1.1.1.1.1.3">𝑖</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.6.m3.3d">p_{\theta}(z_{i}|x)p_{\phi}(y_{i}|x,z_{i})</annotation></semantics></math> is selected.</figcaption>
</figure>
<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">We present our RA-VQA framework that consists of: (1) Vision-to-Language Transformation (Sec. <a href="#S3.SS1" title="3.1 Vision-to-Language Transformation ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>); (2) Weakly-supervised Dense Passage Retrieval (Sec. <a href="#S3.SS2" title="3.2 Weakly-supervised Dense Passage Retrieval ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>); (3) Joint Training of Retrieval and Answer Generation (Sec. <a href="#S3.SS3" title="3.3 RA-VQA: Joint Training of Document Retrieval and Answer Generation ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a>).</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Vision-to-Language Transformation</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">Prior work has established that images can be transformed into text such that large pre-trained language-based Transformers (e.g. BERT <cite class="ltx_cite ltx_citemacro_cite">Devlin et al. (<a href="#bib.bib5" title="" class="ltx_ref">2019</a>)</cite>, GPT-2 <cite class="ltx_cite ltx_citemacro_cite">Radford et al. (<a href="#bib.bib33" title="" class="ltx_ref">2019</a>)</cite>, and T5) can be applied to VQA tasks <cite class="ltx_cite ltx_citemacro_cite">Luo et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>); Yang et al. (<a href="#bib.bib45" title="" class="ltx_ref">2022</a>)</cite>.
Systems can be based on straightforward image caption, but we have found improvements by introducing additional visually-grounded features.
In RA-VQA, each image is represented by visual objects and their attributes, image caption, and any text strings detected within the image.
We use an object detection model VinVL <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a href="#bib.bib48" title="" class="ltx_ref">2021</a>)</cite> that was pre-trained on large object detection datasets to extract visual elements and their attributes (e.g. color and material).</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.5" class="ltx_p">Formally, for an image <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mi id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">I</annotation></semantics></math> we use VinVL to extract a set of visual objects <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="\{o_{i}\}" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mrow id="S3.SS1.p2.2.m2.1.1.1" xref="S3.SS1.p2.2.m2.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.2.m2.1.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">{</mo><msub id="S3.SS1.p2.2.m2.1.1.1.1" xref="S3.SS1.p2.2.m2.1.1.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.1.1.2" xref="S3.SS1.p2.2.m2.1.1.1.1.2.cmml">o</mi><mi id="S3.SS1.p2.2.m2.1.1.1.1.3" xref="S3.SS1.p2.2.m2.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS1.p2.2.m2.1.1.1.3" xref="S3.SS1.p2.2.m2.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><set id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.1"><apply id="S3.SS1.p2.2.m2.1.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.1.1.2">𝑜</ci><ci id="S3.SS1.p2.2.m2.1.1.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.1.1.3">𝑖</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">\{o_{i}\}</annotation></semantics></math>, along with a set of text attributes for each visual object <math id="S3.SS1.p2.3.m3.3" class="ltx_Math" alttext="\{a_{i,j}\}" display="inline"><semantics id="S3.SS1.p2.3.m3.3a"><mrow id="S3.SS1.p2.3.m3.3.3.1" xref="S3.SS1.p2.3.m3.3.3.2.cmml"><mo stretchy="false" id="S3.SS1.p2.3.m3.3.3.1.2" xref="S3.SS1.p2.3.m3.3.3.2.cmml">{</mo><msub id="S3.SS1.p2.3.m3.3.3.1.1" xref="S3.SS1.p2.3.m3.3.3.1.1.cmml"><mi id="S3.SS1.p2.3.m3.3.3.1.1.2" xref="S3.SS1.p2.3.m3.3.3.1.1.2.cmml">a</mi><mrow id="S3.SS1.p2.3.m3.2.2.2.4" xref="S3.SS1.p2.3.m3.2.2.2.3.cmml"><mi id="S3.SS1.p2.3.m3.1.1.1.1" xref="S3.SS1.p2.3.m3.1.1.1.1.cmml">i</mi><mo id="S3.SS1.p2.3.m3.2.2.2.4.1" xref="S3.SS1.p2.3.m3.2.2.2.3.cmml">,</mo><mi id="S3.SS1.p2.3.m3.2.2.2.2" xref="S3.SS1.p2.3.m3.2.2.2.2.cmml">j</mi></mrow></msub><mo stretchy="false" id="S3.SS1.p2.3.m3.3.3.1.3" xref="S3.SS1.p2.3.m3.3.3.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.3b"><set id="S3.SS1.p2.3.m3.3.3.2.cmml" xref="S3.SS1.p2.3.m3.3.3.1"><apply id="S3.SS1.p2.3.m3.3.3.1.1.cmml" xref="S3.SS1.p2.3.m3.3.3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.3.3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.3.3.1.1">subscript</csymbol><ci id="S3.SS1.p2.3.m3.3.3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.3.3.1.1.2">𝑎</ci><list id="S3.SS1.p2.3.m3.2.2.2.3.cmml" xref="S3.SS1.p2.3.m3.2.2.2.4"><ci id="S3.SS1.p2.3.m3.1.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1.1.1">𝑖</ci><ci id="S3.SS1.p2.3.m3.2.2.2.2.cmml" xref="S3.SS1.p2.3.m3.2.2.2.2">𝑗</ci></list></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.3c">\{a_{i,j}\}</annotation></semantics></math>.
Visual objects and their attributes are extracted by VinVL at confidence thresholds <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="0.8" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mn id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">0.8</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><cn type="float" id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">0.8</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">0.8</annotation></semantics></math> and <math id="S3.SS1.p2.5.m5.1" class="ltx_Math" alttext="0.6" display="inline"><semantics id="S3.SS1.p2.5.m5.1a"><mn id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml">0.6</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><cn type="float" id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">0.6</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">0.6</annotation></semantics></math>, respectively.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p">Image captioning is performed to extract relationships and interactions among visual elements such as “a woman holding a knife cuts a cake”.
The pre-trained captioning model Oscar+ <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a href="#bib.bib48" title="" class="ltx_ref">2021</a>)</cite> is applied to process visual features extracted from the VinVL model to generate a caption for the image.
To answer questions related to text strings in images (e.g. “which language is the book written in?”), Google OCR (Optical Character Recognition) APIs are used to extract text strings from each image.</p>
</div>
<div id="S3.SS1.p4" class="ltx_para">
<p id="S3.SS1.p4.6" class="ltx_p">Hence, a VQA training set <math id="S3.SS1.p4.1.m1.4" class="ltx_Math" alttext="\{(I,q,\mathcal{S})\}" display="inline"><semantics id="S3.SS1.p4.1.m1.4a"><mrow id="S3.SS1.p4.1.m1.4.4.1" xref="S3.SS1.p4.1.m1.4.4.2.cmml"><mo stretchy="false" id="S3.SS1.p4.1.m1.4.4.1.2" xref="S3.SS1.p4.1.m1.4.4.2.cmml">{</mo><mrow id="S3.SS1.p4.1.m1.4.4.1.1.2" xref="S3.SS1.p4.1.m1.4.4.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p4.1.m1.4.4.1.1.2.1" xref="S3.SS1.p4.1.m1.4.4.1.1.1.cmml">(</mo><mi id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml">I</mi><mo id="S3.SS1.p4.1.m1.4.4.1.1.2.2" xref="S3.SS1.p4.1.m1.4.4.1.1.1.cmml">,</mo><mi id="S3.SS1.p4.1.m1.2.2" xref="S3.SS1.p4.1.m1.2.2.cmml">q</mi><mo id="S3.SS1.p4.1.m1.4.4.1.1.2.3" xref="S3.SS1.p4.1.m1.4.4.1.1.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.1.m1.3.3" xref="S3.SS1.p4.1.m1.3.3.cmml">𝒮</mi><mo stretchy="false" id="S3.SS1.p4.1.m1.4.4.1.1.2.4" xref="S3.SS1.p4.1.m1.4.4.1.1.1.cmml">)</mo></mrow><mo stretchy="false" id="S3.SS1.p4.1.m1.4.4.1.3" xref="S3.SS1.p4.1.m1.4.4.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.4b"><set id="S3.SS1.p4.1.m1.4.4.2.cmml" xref="S3.SS1.p4.1.m1.4.4.1"><vector id="S3.SS1.p4.1.m1.4.4.1.1.1.cmml" xref="S3.SS1.p4.1.m1.4.4.1.1.2"><ci id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">𝐼</ci><ci id="S3.SS1.p4.1.m1.2.2.cmml" xref="S3.SS1.p4.1.m1.2.2">𝑞</ci><ci id="S3.SS1.p4.1.m1.3.3.cmml" xref="S3.SS1.p4.1.m1.3.3">𝒮</ci></vector></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.4c">\{(I,q,\mathcal{S})\}</annotation></semantics></math>, where <math id="S3.SS1.p4.2.m2.1" class="ltx_Math" alttext="\mathcal{S}" display="inline"><semantics id="S3.SS1.p4.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.1b"><ci id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.1c">\mathcal{S}</annotation></semantics></math> is a set of answers to a question <math id="S3.SS1.p4.3.m3.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.SS1.p4.3.m3.1a"><mi id="S3.SS1.p4.3.m3.1.1" xref="S3.SS1.p4.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.3.m3.1b"><ci id="S3.SS1.p4.3.m3.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.3.m3.1c">q</annotation></semantics></math> about <math id="S3.SS1.p4.4.m4.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S3.SS1.p4.4.m4.1a"><mi id="S3.SS1.p4.4.m4.1.1" xref="S3.SS1.p4.4.m4.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.4.m4.1b"><ci id="S3.SS1.p4.4.m4.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.4.m4.1c">I</annotation></semantics></math>, can be transformed into a text-only training set <math id="S3.SS1.p4.5.m5.3" class="ltx_Math" alttext="{\mathcal{T}}=\{(x,\mathcal{S})\}" display="inline"><semantics id="S3.SS1.p4.5.m5.3a"><mrow id="S3.SS1.p4.5.m5.3.3" xref="S3.SS1.p4.5.m5.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.5.m5.3.3.3" xref="S3.SS1.p4.5.m5.3.3.3.cmml">𝒯</mi><mo id="S3.SS1.p4.5.m5.3.3.2" xref="S3.SS1.p4.5.m5.3.3.2.cmml">=</mo><mrow id="S3.SS1.p4.5.m5.3.3.1.1" xref="S3.SS1.p4.5.m5.3.3.1.2.cmml"><mo stretchy="false" id="S3.SS1.p4.5.m5.3.3.1.1.2" xref="S3.SS1.p4.5.m5.3.3.1.2.cmml">{</mo><mrow id="S3.SS1.p4.5.m5.3.3.1.1.1.2" xref="S3.SS1.p4.5.m5.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p4.5.m5.3.3.1.1.1.2.1" xref="S3.SS1.p4.5.m5.3.3.1.1.1.1.cmml">(</mo><mi id="S3.SS1.p4.5.m5.1.1" xref="S3.SS1.p4.5.m5.1.1.cmml">x</mi><mo id="S3.SS1.p4.5.m5.3.3.1.1.1.2.2" xref="S3.SS1.p4.5.m5.3.3.1.1.1.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.5.m5.2.2" xref="S3.SS1.p4.5.m5.2.2.cmml">𝒮</mi><mo stretchy="false" id="S3.SS1.p4.5.m5.3.3.1.1.1.2.3" xref="S3.SS1.p4.5.m5.3.3.1.1.1.1.cmml">)</mo></mrow><mo stretchy="false" id="S3.SS1.p4.5.m5.3.3.1.1.3" xref="S3.SS1.p4.5.m5.3.3.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.5.m5.3b"><apply id="S3.SS1.p4.5.m5.3.3.cmml" xref="S3.SS1.p4.5.m5.3.3"><eq id="S3.SS1.p4.5.m5.3.3.2.cmml" xref="S3.SS1.p4.5.m5.3.3.2"></eq><ci id="S3.SS1.p4.5.m5.3.3.3.cmml" xref="S3.SS1.p4.5.m5.3.3.3">𝒯</ci><set id="S3.SS1.p4.5.m5.3.3.1.2.cmml" xref="S3.SS1.p4.5.m5.3.3.1.1"><interval closure="open" id="S3.SS1.p4.5.m5.3.3.1.1.1.1.cmml" xref="S3.SS1.p4.5.m5.3.3.1.1.1.2"><ci id="S3.SS1.p4.5.m5.1.1.cmml" xref="S3.SS1.p4.5.m5.1.1">𝑥</ci><ci id="S3.SS1.p4.5.m5.2.2.cmml" xref="S3.SS1.p4.5.m5.2.2">𝒮</ci></interval></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.5.m5.3c">{\mathcal{T}}=\{(x,\mathcal{S})\}</annotation></semantics></math> that we use for RA-VQA. The string <math id="S3.SS1.p4.6.m6.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS1.p4.6.m6.1a"><mi id="S3.SS1.p4.6.m6.1.1" xref="S3.SS1.p4.6.m6.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.6.m6.1b"><ci id="S3.SS1.p4.6.m6.1.1.cmml" xref="S3.SS1.p4.6.m6.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.6.m6.1c">x</annotation></semantics></math> contains all the text features extracted from the image (the question, the textual attributes for each identified visual object, the generated caption, and any OCR’d text), with special tokens marking the start and end of each type of feature (Fig. <a href="#S3.F2" title="Figure 2 ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>).</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Weakly-supervised Dense Passage Retrieval</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.8" class="ltx_p">Dense Passage Retrieval in RA-VQA consists of a query encoder <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{F}_{q}" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><msub id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml">ℱ</mi><mi id="S3.SS2.p1.1.m1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.2">ℱ</ci><ci id="S3.SS2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">\mathcal{F}_{q}</annotation></semantics></math> and a document encoder <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{F}_{d}" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">ℱ</mi><mi id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">ℱ</ci><ci id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">\mathcal{F}_{d}</annotation></semantics></math>, both as Transformer-like encoders.
The aim is to retrieve <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">K</annotation></semantics></math> documents from an external knowledge database <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="{\mathcal{Z}}=\{z_{i}\}_{i=1}^{N^{d}}" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><mrow id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.4.m4.1.1.3" xref="S3.SS2.p1.4.m4.1.1.3.cmml">𝒵</mi><mo id="S3.SS2.p1.4.m4.1.1.2" xref="S3.SS2.p1.4.m4.1.1.2.cmml">=</mo><msubsup id="S3.SS2.p1.4.m4.1.1.1" xref="S3.SS2.p1.4.m4.1.1.1.cmml"><mrow id="S3.SS2.p1.4.m4.1.1.1.1.1.1" xref="S3.SS2.p1.4.m4.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p1.4.m4.1.1.1.1.1.1.2" xref="S3.SS2.p1.4.m4.1.1.1.1.1.2.cmml">{</mo><msub id="S3.SS2.p1.4.m4.1.1.1.1.1.1.1" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.2" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.3" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.p1.4.m4.1.1.1.1.1.1.3" xref="S3.SS2.p1.4.m4.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p1.4.m4.1.1.1.1.3" xref="S3.SS2.p1.4.m4.1.1.1.1.3.cmml"><mi id="S3.SS2.p1.4.m4.1.1.1.1.3.2" xref="S3.SS2.p1.4.m4.1.1.1.1.3.2.cmml">i</mi><mo id="S3.SS2.p1.4.m4.1.1.1.1.3.1" xref="S3.SS2.p1.4.m4.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.p1.4.m4.1.1.1.1.3.3" xref="S3.SS2.p1.4.m4.1.1.1.1.3.3.cmml">1</mn></mrow><msup id="S3.SS2.p1.4.m4.1.1.1.3" xref="S3.SS2.p1.4.m4.1.1.1.3.cmml"><mi id="S3.SS2.p1.4.m4.1.1.1.3.2" xref="S3.SS2.p1.4.m4.1.1.1.3.2.cmml">N</mi><mi id="S3.SS2.p1.4.m4.1.1.1.3.3" xref="S3.SS2.p1.4.m4.1.1.1.3.3.cmml">d</mi></msup></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><apply id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1"><eq id="S3.SS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.2"></eq><ci id="S3.SS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3">𝒵</ci><apply id="S3.SS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.1">superscript</csymbol><apply id="S3.SS2.p1.4.m4.1.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.1">subscript</csymbol><set id="S3.SS2.p1.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1"><apply id="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S3.SS2.p1.4.m4.1.1.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.3"><eq id="S3.SS2.p1.4.m4.1.1.1.1.3.1.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.3.1"></eq><ci id="S3.SS2.p1.4.m4.1.1.1.1.3.2.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS2.p1.4.m4.1.1.1.1.3.3.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS2.p1.4.m4.1.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.3.1.cmml" xref="S3.SS2.p1.4.m4.1.1.1.3">superscript</csymbol><ci id="S3.SS2.p1.4.m4.1.1.1.3.2.cmml" xref="S3.SS2.p1.4.m4.1.1.1.3.2">𝑁</ci><ci id="S3.SS2.p1.4.m4.1.1.1.3.3.cmml" xref="S3.SS2.p1.4.m4.1.1.1.3.3">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">{\mathcal{Z}}=\{z_{i}\}_{i=1}^{N^{d}}</annotation></semantics></math> (e.g. Wikipedia passages) that are expected to be useful for answering a question.
DPR encodes questions and documents separately into dense feature vectors
<math id="S3.SS2.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{F}_{q}(x)\in{\mathbf{R}}^{h}" display="inline"><semantics id="S3.SS2.p1.5.m5.1a"><mrow id="S3.SS2.p1.5.m5.1.2" xref="S3.SS2.p1.5.m5.1.2.cmml"><mrow id="S3.SS2.p1.5.m5.1.2.2" xref="S3.SS2.p1.5.m5.1.2.2.cmml"><msub id="S3.SS2.p1.5.m5.1.2.2.2" xref="S3.SS2.p1.5.m5.1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.5.m5.1.2.2.2.2" xref="S3.SS2.p1.5.m5.1.2.2.2.2.cmml">ℱ</mi><mi id="S3.SS2.p1.5.m5.1.2.2.2.3" xref="S3.SS2.p1.5.m5.1.2.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p1.5.m5.1.2.2.1" xref="S3.SS2.p1.5.m5.1.2.2.1.cmml">​</mo><mrow id="S3.SS2.p1.5.m5.1.2.2.3.2" xref="S3.SS2.p1.5.m5.1.2.2.cmml"><mo stretchy="false" id="S3.SS2.p1.5.m5.1.2.2.3.2.1" xref="S3.SS2.p1.5.m5.1.2.2.cmml">(</mo><mi id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml">x</mi><mo stretchy="false" id="S3.SS2.p1.5.m5.1.2.2.3.2.2" xref="S3.SS2.p1.5.m5.1.2.2.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p1.5.m5.1.2.1" xref="S3.SS2.p1.5.m5.1.2.1.cmml">∈</mo><msup id="S3.SS2.p1.5.m5.1.2.3" xref="S3.SS2.p1.5.m5.1.2.3.cmml"><mi id="S3.SS2.p1.5.m5.1.2.3.2" xref="S3.SS2.p1.5.m5.1.2.3.2.cmml">𝐑</mi><mi id="S3.SS2.p1.5.m5.1.2.3.3" xref="S3.SS2.p1.5.m5.1.2.3.3.cmml">h</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><apply id="S3.SS2.p1.5.m5.1.2.cmml" xref="S3.SS2.p1.5.m5.1.2"><in id="S3.SS2.p1.5.m5.1.2.1.cmml" xref="S3.SS2.p1.5.m5.1.2.1"></in><apply id="S3.SS2.p1.5.m5.1.2.2.cmml" xref="S3.SS2.p1.5.m5.1.2.2"><times id="S3.SS2.p1.5.m5.1.2.2.1.cmml" xref="S3.SS2.p1.5.m5.1.2.2.1"></times><apply id="S3.SS2.p1.5.m5.1.2.2.2.cmml" xref="S3.SS2.p1.5.m5.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.2.2.2.1.cmml" xref="S3.SS2.p1.5.m5.1.2.2.2">subscript</csymbol><ci id="S3.SS2.p1.5.m5.1.2.2.2.2.cmml" xref="S3.SS2.p1.5.m5.1.2.2.2.2">ℱ</ci><ci id="S3.SS2.p1.5.m5.1.2.2.2.3.cmml" xref="S3.SS2.p1.5.m5.1.2.2.2.3">𝑞</ci></apply><ci id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">𝑥</ci></apply><apply id="S3.SS2.p1.5.m5.1.2.3.cmml" xref="S3.SS2.p1.5.m5.1.2.3"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.2.3.1.cmml" xref="S3.SS2.p1.5.m5.1.2.3">superscript</csymbol><ci id="S3.SS2.p1.5.m5.1.2.3.2.cmml" xref="S3.SS2.p1.5.m5.1.2.3.2">𝐑</ci><ci id="S3.SS2.p1.5.m5.1.2.3.3.cmml" xref="S3.SS2.p1.5.m5.1.2.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">\mathcal{F}_{q}(x)\in{\mathbf{R}}^{h}</annotation></semantics></math> and
<math id="S3.SS2.p1.6.m6.1" class="ltx_Math" alttext="\mathcal{F}_{d}(z)\in{\mathbf{R}}^{h}" display="inline"><semantics id="S3.SS2.p1.6.m6.1a"><mrow id="S3.SS2.p1.6.m6.1.2" xref="S3.SS2.p1.6.m6.1.2.cmml"><mrow id="S3.SS2.p1.6.m6.1.2.2" xref="S3.SS2.p1.6.m6.1.2.2.cmml"><msub id="S3.SS2.p1.6.m6.1.2.2.2" xref="S3.SS2.p1.6.m6.1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.6.m6.1.2.2.2.2" xref="S3.SS2.p1.6.m6.1.2.2.2.2.cmml">ℱ</mi><mi id="S3.SS2.p1.6.m6.1.2.2.2.3" xref="S3.SS2.p1.6.m6.1.2.2.2.3.cmml">d</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p1.6.m6.1.2.2.1" xref="S3.SS2.p1.6.m6.1.2.2.1.cmml">​</mo><mrow id="S3.SS2.p1.6.m6.1.2.2.3.2" xref="S3.SS2.p1.6.m6.1.2.2.cmml"><mo stretchy="false" id="S3.SS2.p1.6.m6.1.2.2.3.2.1" xref="S3.SS2.p1.6.m6.1.2.2.cmml">(</mo><mi id="S3.SS2.p1.6.m6.1.1" xref="S3.SS2.p1.6.m6.1.1.cmml">z</mi><mo stretchy="false" id="S3.SS2.p1.6.m6.1.2.2.3.2.2" xref="S3.SS2.p1.6.m6.1.2.2.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p1.6.m6.1.2.1" xref="S3.SS2.p1.6.m6.1.2.1.cmml">∈</mo><msup id="S3.SS2.p1.6.m6.1.2.3" xref="S3.SS2.p1.6.m6.1.2.3.cmml"><mi id="S3.SS2.p1.6.m6.1.2.3.2" xref="S3.SS2.p1.6.m6.1.2.3.2.cmml">𝐑</mi><mi id="S3.SS2.p1.6.m6.1.2.3.3" xref="S3.SS2.p1.6.m6.1.2.3.3.cmml">h</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m6.1b"><apply id="S3.SS2.p1.6.m6.1.2.cmml" xref="S3.SS2.p1.6.m6.1.2"><in id="S3.SS2.p1.6.m6.1.2.1.cmml" xref="S3.SS2.p1.6.m6.1.2.1"></in><apply id="S3.SS2.p1.6.m6.1.2.2.cmml" xref="S3.SS2.p1.6.m6.1.2.2"><times id="S3.SS2.p1.6.m6.1.2.2.1.cmml" xref="S3.SS2.p1.6.m6.1.2.2.1"></times><apply id="S3.SS2.p1.6.m6.1.2.2.2.cmml" xref="S3.SS2.p1.6.m6.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m6.1.2.2.2.1.cmml" xref="S3.SS2.p1.6.m6.1.2.2.2">subscript</csymbol><ci id="S3.SS2.p1.6.m6.1.2.2.2.2.cmml" xref="S3.SS2.p1.6.m6.1.2.2.2.2">ℱ</ci><ci id="S3.SS2.p1.6.m6.1.2.2.2.3.cmml" xref="S3.SS2.p1.6.m6.1.2.2.2.3">𝑑</ci></apply><ci id="S3.SS2.p1.6.m6.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1">𝑧</ci></apply><apply id="S3.SS2.p1.6.m6.1.2.3.cmml" xref="S3.SS2.p1.6.m6.1.2.3"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m6.1.2.3.1.cmml" xref="S3.SS2.p1.6.m6.1.2.3">superscript</csymbol><ci id="S3.SS2.p1.6.m6.1.2.3.2.cmml" xref="S3.SS2.p1.6.m6.1.2.3.2">𝐑</ci><ci id="S3.SS2.p1.6.m6.1.2.3.3.cmml" xref="S3.SS2.p1.6.m6.1.2.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m6.1c">\mathcal{F}_{d}(z)\in{\mathbf{R}}^{h}</annotation></semantics></math>.
A scoring function is used to retrieve documents for each question as the inner product between the representations of <math id="S3.SS2.p1.7.m7.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS2.p1.7.m7.1a"><mi id="S3.SS2.p1.7.m7.1.1" xref="S3.SS2.p1.7.m7.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m7.1b"><ci id="S3.SS2.p1.7.m7.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m7.1c">x</annotation></semantics></math> and <math id="S3.SS2.p1.8.m8.1" class="ltx_Math" alttext="z" display="inline"><semantics id="S3.SS2.p1.8.m8.1a"><mi id="S3.SS2.p1.8.m8.1.1" xref="S3.SS2.p1.8.m8.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m8.1b"><ci id="S3.SS2.p1.8.m8.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m8.1c">z</annotation></semantics></math></p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.4" class="ltx_Math" alttext="{r}(x,z)=\mathcal{F}^{\top}_{q}(x)\mathcal{F}_{d}(z)" display="block"><semantics id="S3.E1.m1.4a"><mrow id="S3.E1.m1.4.5" xref="S3.E1.m1.4.5.cmml"><mrow id="S3.E1.m1.4.5.2" xref="S3.E1.m1.4.5.2.cmml"><mi id="S3.E1.m1.4.5.2.2" xref="S3.E1.m1.4.5.2.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.4.5.2.1" xref="S3.E1.m1.4.5.2.1.cmml">​</mo><mrow id="S3.E1.m1.4.5.2.3.2" xref="S3.E1.m1.4.5.2.3.1.cmml"><mo stretchy="false" id="S3.E1.m1.4.5.2.3.2.1" xref="S3.E1.m1.4.5.2.3.1.cmml">(</mo><mi id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">x</mi><mo id="S3.E1.m1.4.5.2.3.2.2" xref="S3.E1.m1.4.5.2.3.1.cmml">,</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">z</mi><mo stretchy="false" id="S3.E1.m1.4.5.2.3.2.3" xref="S3.E1.m1.4.5.2.3.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.4.5.1" xref="S3.E1.m1.4.5.1.cmml">=</mo><mrow id="S3.E1.m1.4.5.3" xref="S3.E1.m1.4.5.3.cmml"><msubsup id="S3.E1.m1.4.5.3.2" xref="S3.E1.m1.4.5.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.4.5.3.2.2.2" xref="S3.E1.m1.4.5.3.2.2.2.cmml">ℱ</mi><mi id="S3.E1.m1.4.5.3.2.3" xref="S3.E1.m1.4.5.3.2.3.cmml">q</mi><mo id="S3.E1.m1.4.5.3.2.2.3" xref="S3.E1.m1.4.5.3.2.2.3.cmml">⊤</mo></msubsup><mo lspace="0em" rspace="0em" id="S3.E1.m1.4.5.3.1" xref="S3.E1.m1.4.5.3.1.cmml">​</mo><mrow id="S3.E1.m1.4.5.3.3.2" xref="S3.E1.m1.4.5.3.cmml"><mo stretchy="false" id="S3.E1.m1.4.5.3.3.2.1" xref="S3.E1.m1.4.5.3.cmml">(</mo><mi id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml">x</mi><mo stretchy="false" id="S3.E1.m1.4.5.3.3.2.2" xref="S3.E1.m1.4.5.3.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E1.m1.4.5.3.1a" xref="S3.E1.m1.4.5.3.1.cmml">​</mo><msub id="S3.E1.m1.4.5.3.4" xref="S3.E1.m1.4.5.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.4.5.3.4.2" xref="S3.E1.m1.4.5.3.4.2.cmml">ℱ</mi><mi id="S3.E1.m1.4.5.3.4.3" xref="S3.E1.m1.4.5.3.4.3.cmml">d</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.4.5.3.1b" xref="S3.E1.m1.4.5.3.1.cmml">​</mo><mrow id="S3.E1.m1.4.5.3.5.2" xref="S3.E1.m1.4.5.3.cmml"><mo stretchy="false" id="S3.E1.m1.4.5.3.5.2.1" xref="S3.E1.m1.4.5.3.cmml">(</mo><mi id="S3.E1.m1.4.4" xref="S3.E1.m1.4.4.cmml">z</mi><mo stretchy="false" id="S3.E1.m1.4.5.3.5.2.2" xref="S3.E1.m1.4.5.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.4b"><apply id="S3.E1.m1.4.5.cmml" xref="S3.E1.m1.4.5"><eq id="S3.E1.m1.4.5.1.cmml" xref="S3.E1.m1.4.5.1"></eq><apply id="S3.E1.m1.4.5.2.cmml" xref="S3.E1.m1.4.5.2"><times id="S3.E1.m1.4.5.2.1.cmml" xref="S3.E1.m1.4.5.2.1"></times><ci id="S3.E1.m1.4.5.2.2.cmml" xref="S3.E1.m1.4.5.2.2">𝑟</ci><interval closure="open" id="S3.E1.m1.4.5.2.3.1.cmml" xref="S3.E1.m1.4.5.2.3.2"><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">𝑥</ci><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">𝑧</ci></interval></apply><apply id="S3.E1.m1.4.5.3.cmml" xref="S3.E1.m1.4.5.3"><times id="S3.E1.m1.4.5.3.1.cmml" xref="S3.E1.m1.4.5.3.1"></times><apply id="S3.E1.m1.4.5.3.2.cmml" xref="S3.E1.m1.4.5.3.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.5.3.2.1.cmml" xref="S3.E1.m1.4.5.3.2">subscript</csymbol><apply id="S3.E1.m1.4.5.3.2.2.cmml" xref="S3.E1.m1.4.5.3.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.5.3.2.2.1.cmml" xref="S3.E1.m1.4.5.3.2">superscript</csymbol><ci id="S3.E1.m1.4.5.3.2.2.2.cmml" xref="S3.E1.m1.4.5.3.2.2.2">ℱ</ci><csymbol cd="latexml" id="S3.E1.m1.4.5.3.2.2.3.cmml" xref="S3.E1.m1.4.5.3.2.2.3">top</csymbol></apply><ci id="S3.E1.m1.4.5.3.2.3.cmml" xref="S3.E1.m1.4.5.3.2.3">𝑞</ci></apply><ci id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3">𝑥</ci><apply id="S3.E1.m1.4.5.3.4.cmml" xref="S3.E1.m1.4.5.3.4"><csymbol cd="ambiguous" id="S3.E1.m1.4.5.3.4.1.cmml" xref="S3.E1.m1.4.5.3.4">subscript</csymbol><ci id="S3.E1.m1.4.5.3.4.2.cmml" xref="S3.E1.m1.4.5.3.4.2">ℱ</ci><ci id="S3.E1.m1.4.5.3.4.3.cmml" xref="S3.E1.m1.4.5.3.4.3">𝑑</ci></apply><ci id="S3.E1.m1.4.4.cmml" xref="S3.E1.m1.4.4">𝑧</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.4c">{r}(x,z)=\mathcal{F}^{\top}_{q}(x)\mathcal{F}_{d}(z)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p1.15" class="ltx_p">RA-VQA training aims to maximize <math id="S3.SS2.p1.9.m1.2" class="ltx_Math" alttext="{r}(x,z)" display="inline"><semantics id="S3.SS2.p1.9.m1.2a"><mrow id="S3.SS2.p1.9.m1.2.3" xref="S3.SS2.p1.9.m1.2.3.cmml"><mi id="S3.SS2.p1.9.m1.2.3.2" xref="S3.SS2.p1.9.m1.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.9.m1.2.3.1" xref="S3.SS2.p1.9.m1.2.3.1.cmml">​</mo><mrow id="S3.SS2.p1.9.m1.2.3.3.2" xref="S3.SS2.p1.9.m1.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS2.p1.9.m1.2.3.3.2.1" xref="S3.SS2.p1.9.m1.2.3.3.1.cmml">(</mo><mi id="S3.SS2.p1.9.m1.1.1" xref="S3.SS2.p1.9.m1.1.1.cmml">x</mi><mo id="S3.SS2.p1.9.m1.2.3.3.2.2" xref="S3.SS2.p1.9.m1.2.3.3.1.cmml">,</mo><mi id="S3.SS2.p1.9.m1.2.2" xref="S3.SS2.p1.9.m1.2.2.cmml">z</mi><mo stretchy="false" id="S3.SS2.p1.9.m1.2.3.3.2.3" xref="S3.SS2.p1.9.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m1.2b"><apply id="S3.SS2.p1.9.m1.2.3.cmml" xref="S3.SS2.p1.9.m1.2.3"><times id="S3.SS2.p1.9.m1.2.3.1.cmml" xref="S3.SS2.p1.9.m1.2.3.1"></times><ci id="S3.SS2.p1.9.m1.2.3.2.cmml" xref="S3.SS2.p1.9.m1.2.3.2">𝑟</ci><interval closure="open" id="S3.SS2.p1.9.m1.2.3.3.1.cmml" xref="S3.SS2.p1.9.m1.2.3.3.2"><ci id="S3.SS2.p1.9.m1.1.1.cmml" xref="S3.SS2.p1.9.m1.1.1">𝑥</ci><ci id="S3.SS2.p1.9.m1.2.2.cmml" xref="S3.SS2.p1.9.m1.2.2">𝑧</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m1.2c">{r}(x,z)</annotation></semantics></math> when document <math id="S3.SS2.p1.10.m2.1" class="ltx_Math" alttext="z" display="inline"><semantics id="S3.SS2.p1.10.m2.1a"><mi id="S3.SS2.p1.10.m2.1.1" xref="S3.SS2.p1.10.m2.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.m2.1b"><ci id="S3.SS2.p1.10.m2.1.1.cmml" xref="S3.SS2.p1.10.m2.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.10.m2.1c">z</annotation></semantics></math> is relevant to answering the question. As discussed in Sec. <a href="#S1" title="1 Introduction ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>,
the relevance between <math id="S3.SS2.p1.11.m3.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.SS2.p1.11.m3.1a"><mi id="S3.SS2.p1.11.m3.1.1" xref="S3.SS2.p1.11.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.11.m3.1b"><ci id="S3.SS2.p1.11.m3.1.1.cmml" xref="S3.SS2.p1.11.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.11.m3.1c">q</annotation></semantics></math> and <math id="S3.SS2.p1.12.m4.1" class="ltx_Math" alttext="z" display="inline"><semantics id="S3.SS2.p1.12.m4.1a"><mi id="S3.SS2.p1.12.m4.1.1" xref="S3.SS2.p1.12.m4.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.12.m4.1b"><ci id="S3.SS2.p1.12.m4.1.1.cmml" xref="S3.SS2.p1.12.m4.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.12.m4.1c">z</annotation></semantics></math> cannot be easily obtained and “pseudo relevance labels” serve as a proxy.
We use a pseudo relevance function <math id="S3.SS2.p1.13.m5.2" class="ltx_Math" alttext="H(z,\mathcal{S})" display="inline"><semantics id="S3.SS2.p1.13.m5.2a"><mrow id="S3.SS2.p1.13.m5.2.3" xref="S3.SS2.p1.13.m5.2.3.cmml"><mi id="S3.SS2.p1.13.m5.2.3.2" xref="S3.SS2.p1.13.m5.2.3.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.13.m5.2.3.1" xref="S3.SS2.p1.13.m5.2.3.1.cmml">​</mo><mrow id="S3.SS2.p1.13.m5.2.3.3.2" xref="S3.SS2.p1.13.m5.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS2.p1.13.m5.2.3.3.2.1" xref="S3.SS2.p1.13.m5.2.3.3.1.cmml">(</mo><mi id="S3.SS2.p1.13.m5.1.1" xref="S3.SS2.p1.13.m5.1.1.cmml">z</mi><mo id="S3.SS2.p1.13.m5.2.3.3.2.2" xref="S3.SS2.p1.13.m5.2.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.13.m5.2.2" xref="S3.SS2.p1.13.m5.2.2.cmml">𝒮</mi><mo stretchy="false" id="S3.SS2.p1.13.m5.2.3.3.2.3" xref="S3.SS2.p1.13.m5.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.13.m5.2b"><apply id="S3.SS2.p1.13.m5.2.3.cmml" xref="S3.SS2.p1.13.m5.2.3"><times id="S3.SS2.p1.13.m5.2.3.1.cmml" xref="S3.SS2.p1.13.m5.2.3.1"></times><ci id="S3.SS2.p1.13.m5.2.3.2.cmml" xref="S3.SS2.p1.13.m5.2.3.2">𝐻</ci><interval closure="open" id="S3.SS2.p1.13.m5.2.3.3.1.cmml" xref="S3.SS2.p1.13.m5.2.3.3.2"><ci id="S3.SS2.p1.13.m5.1.1.cmml" xref="S3.SS2.p1.13.m5.1.1">𝑧</ci><ci id="S3.SS2.p1.13.m5.2.2.cmml" xref="S3.SS2.p1.13.m5.2.2">𝒮</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.13.m5.2c">H(z,\mathcal{S})</annotation></semantics></math> which is 1 if <math id="S3.SS2.p1.14.m6.1" class="ltx_Math" alttext="z" display="inline"><semantics id="S3.SS2.p1.14.m6.1a"><mi id="S3.SS2.p1.14.m6.1.1" xref="S3.SS2.p1.14.m6.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.14.m6.1b"><ci id="S3.SS2.p1.14.m6.1.1.cmml" xref="S3.SS2.p1.14.m6.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.14.m6.1c">z</annotation></semantics></math> contains an answer in <math id="S3.SS2.p1.15.m7.1" class="ltx_Math" alttext="\mathcal{S}" display="inline"><semantics id="S3.SS2.p1.15.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.15.m7.1.1" xref="S3.SS2.p1.15.m7.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.15.m7.1b"><ci id="S3.SS2.p1.15.m7.1.1.cmml" xref="S3.SS2.p1.15.m7.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.15.m7.1c">\mathcal{S}</annotation></semantics></math> (by string match), and 0 otherwise.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.7" class="ltx_p">For each question-answer pair <math id="S3.SS2.p2.1.m1.2" class="ltx_Math" alttext="(x,\mathcal{S})" display="inline"><semantics id="S3.SS2.p2.1.m1.2a"><mrow id="S3.SS2.p2.1.m1.2.3.2" xref="S3.SS2.p2.1.m1.2.3.1.cmml"><mo stretchy="false" id="S3.SS2.p2.1.m1.2.3.2.1" xref="S3.SS2.p2.1.m1.2.3.1.cmml">(</mo><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">x</mi><mo id="S3.SS2.p2.1.m1.2.3.2.2" xref="S3.SS2.p2.1.m1.2.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.1.m1.2.2" xref="S3.SS2.p2.1.m1.2.2.cmml">𝒮</mi><mo stretchy="false" id="S3.SS2.p2.1.m1.2.3.2.3" xref="S3.SS2.p2.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.2b"><interval closure="open" id="S3.SS2.p2.1.m1.2.3.1.cmml" xref="S3.SS2.p2.1.m1.2.3.2"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝑥</ci><ci id="S3.SS2.p2.1.m1.2.2.cmml" xref="S3.SS2.p2.1.m1.2.2">𝒮</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.2c">(x,\mathcal{S})</annotation></semantics></math> one positive document <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="z^{+}(x)" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><mrow id="S3.SS2.p2.2.m2.1.2" xref="S3.SS2.p2.2.m2.1.2.cmml"><msup id="S3.SS2.p2.2.m2.1.2.2" xref="S3.SS2.p2.2.m2.1.2.2.cmml"><mi id="S3.SS2.p2.2.m2.1.2.2.2" xref="S3.SS2.p2.2.m2.1.2.2.2.cmml">z</mi><mo id="S3.SS2.p2.2.m2.1.2.2.3" xref="S3.SS2.p2.2.m2.1.2.2.3.cmml">+</mo></msup><mo lspace="0em" rspace="0em" id="S3.SS2.p2.2.m2.1.2.1" xref="S3.SS2.p2.2.m2.1.2.1.cmml">​</mo><mrow id="S3.SS2.p2.2.m2.1.2.3.2" xref="S3.SS2.p2.2.m2.1.2.cmml"><mo stretchy="false" id="S3.SS2.p2.2.m2.1.2.3.2.1" xref="S3.SS2.p2.2.m2.1.2.cmml">(</mo><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">x</mi><mo stretchy="false" id="S3.SS2.p2.2.m2.1.2.3.2.2" xref="S3.SS2.p2.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.2.cmml" xref="S3.SS2.p2.2.m2.1.2"><times id="S3.SS2.p2.2.m2.1.2.1.cmml" xref="S3.SS2.p2.2.m2.1.2.1"></times><apply id="S3.SS2.p2.2.m2.1.2.2.cmml" xref="S3.SS2.p2.2.m2.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.2.2.1.cmml" xref="S3.SS2.p2.2.m2.1.2.2">superscript</csymbol><ci id="S3.SS2.p2.2.m2.1.2.2.2.cmml" xref="S3.SS2.p2.2.m2.1.2.2.2">𝑧</ci><plus id="S3.SS2.p2.2.m2.1.2.2.3.cmml" xref="S3.SS2.p2.2.m2.1.2.2.3"></plus></apply><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">z^{+}(x)</annotation></semantics></math> is extracted for training.
In-batch negative sampling is used:
all documents in a training batch other than
<math id="S3.SS2.p2.3.m3.1" class="ltx_Math" alttext="z^{+}(x)" display="inline"><semantics id="S3.SS2.p2.3.m3.1a"><mrow id="S3.SS2.p2.3.m3.1.2" xref="S3.SS2.p2.3.m3.1.2.cmml"><msup id="S3.SS2.p2.3.m3.1.2.2" xref="S3.SS2.p2.3.m3.1.2.2.cmml"><mi id="S3.SS2.p2.3.m3.1.2.2.2" xref="S3.SS2.p2.3.m3.1.2.2.2.cmml">z</mi><mo id="S3.SS2.p2.3.m3.1.2.2.3" xref="S3.SS2.p2.3.m3.1.2.2.3.cmml">+</mo></msup><mo lspace="0em" rspace="0em" id="S3.SS2.p2.3.m3.1.2.1" xref="S3.SS2.p2.3.m3.1.2.1.cmml">​</mo><mrow id="S3.SS2.p2.3.m3.1.2.3.2" xref="S3.SS2.p2.3.m3.1.2.cmml"><mo stretchy="false" id="S3.SS2.p2.3.m3.1.2.3.2.1" xref="S3.SS2.p2.3.m3.1.2.cmml">(</mo><mi id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml">x</mi><mo stretchy="false" id="S3.SS2.p2.3.m3.1.2.3.2.2" xref="S3.SS2.p2.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.2.cmml" xref="S3.SS2.p2.3.m3.1.2"><times id="S3.SS2.p2.3.m3.1.2.1.cmml" xref="S3.SS2.p2.3.m3.1.2.1"></times><apply id="S3.SS2.p2.3.m3.1.2.2.cmml" xref="S3.SS2.p2.3.m3.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.2.2.1.cmml" xref="S3.SS2.p2.3.m3.1.2.2">superscript</csymbol><ci id="S3.SS2.p2.3.m3.1.2.2.2.cmml" xref="S3.SS2.p2.3.m3.1.2.2.2">𝑧</ci><plus id="S3.SS2.p2.3.m3.1.2.2.3.cmml" xref="S3.SS2.p2.3.m3.1.2.2.3"></plus></apply><ci id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">z^{+}(x)</annotation></semantics></math>
are considered to be negative for <math id="S3.SS2.p2.4.m4.2" class="ltx_Math" alttext="(x,\mathcal{S})" display="inline"><semantics id="S3.SS2.p2.4.m4.2a"><mrow id="S3.SS2.p2.4.m4.2.3.2" xref="S3.SS2.p2.4.m4.2.3.1.cmml"><mo stretchy="false" id="S3.SS2.p2.4.m4.2.3.2.1" xref="S3.SS2.p2.4.m4.2.3.1.cmml">(</mo><mi id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml">x</mi><mo id="S3.SS2.p2.4.m4.2.3.2.2" xref="S3.SS2.p2.4.m4.2.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.4.m4.2.2" xref="S3.SS2.p2.4.m4.2.2.cmml">𝒮</mi><mo stretchy="false" id="S3.SS2.p2.4.m4.2.3.2.3" xref="S3.SS2.p2.4.m4.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.2b"><interval closure="open" id="S3.SS2.p2.4.m4.2.3.1.cmml" xref="S3.SS2.p2.4.m4.2.3.2"><ci id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">𝑥</ci><ci id="S3.SS2.p2.4.m4.2.2.cmml" xref="S3.SS2.p2.4.m4.2.2">𝒮</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.2c">(x,\mathcal{S})</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a href="#bib.bib17" title="" class="ltx_ref">2020</a>)</cite>.
Denoting the negative documents as <math id="S3.SS2.p2.5.m5.2" class="ltx_Math" alttext="{\mathcal{N}}(x,\mathcal{S})" display="inline"><semantics id="S3.SS2.p2.5.m5.2a"><mrow id="S3.SS2.p2.5.m5.2.3" xref="S3.SS2.p2.5.m5.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.5.m5.2.3.2" xref="S3.SS2.p2.5.m5.2.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.5.m5.2.3.1" xref="S3.SS2.p2.5.m5.2.3.1.cmml">​</mo><mrow id="S3.SS2.p2.5.m5.2.3.3.2" xref="S3.SS2.p2.5.m5.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS2.p2.5.m5.2.3.3.2.1" xref="S3.SS2.p2.5.m5.2.3.3.1.cmml">(</mo><mi id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml">x</mi><mo id="S3.SS2.p2.5.m5.2.3.3.2.2" xref="S3.SS2.p2.5.m5.2.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.5.m5.2.2" xref="S3.SS2.p2.5.m5.2.2.cmml">𝒮</mi><mo stretchy="false" id="S3.SS2.p2.5.m5.2.3.3.2.3" xref="S3.SS2.p2.5.m5.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.2b"><apply id="S3.SS2.p2.5.m5.2.3.cmml" xref="S3.SS2.p2.5.m5.2.3"><times id="S3.SS2.p2.5.m5.2.3.1.cmml" xref="S3.SS2.p2.5.m5.2.3.1"></times><ci id="S3.SS2.p2.5.m5.2.3.2.cmml" xref="S3.SS2.p2.5.m5.2.3.2">𝒩</ci><interval closure="open" id="S3.SS2.p2.5.m5.2.3.3.1.cmml" xref="S3.SS2.p2.5.m5.2.3.3.2"><ci id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">𝑥</ci><ci id="S3.SS2.p2.5.m5.2.2.cmml" xref="S3.SS2.p2.5.m5.2.2">𝒮</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.2c">{\mathcal{N}}(x,\mathcal{S})</annotation></semantics></math> and the score of the positive document as <math id="S3.SS2.p2.6.m6.1" class="ltx_Math" alttext="\widehat{r}^{+}(x)" display="inline"><semantics id="S3.SS2.p2.6.m6.1a"><mrow id="S3.SS2.p2.6.m6.1.2" xref="S3.SS2.p2.6.m6.1.2.cmml"><msup id="S3.SS2.p2.6.m6.1.2.2" xref="S3.SS2.p2.6.m6.1.2.2.cmml"><mover accent="true" id="S3.SS2.p2.6.m6.1.2.2.2" xref="S3.SS2.p2.6.m6.1.2.2.2.cmml"><mi id="S3.SS2.p2.6.m6.1.2.2.2.2" xref="S3.SS2.p2.6.m6.1.2.2.2.2.cmml">r</mi><mo id="S3.SS2.p2.6.m6.1.2.2.2.1" xref="S3.SS2.p2.6.m6.1.2.2.2.1.cmml">^</mo></mover><mo id="S3.SS2.p2.6.m6.1.2.2.3" xref="S3.SS2.p2.6.m6.1.2.2.3.cmml">+</mo></msup><mo lspace="0em" rspace="0em" id="S3.SS2.p2.6.m6.1.2.1" xref="S3.SS2.p2.6.m6.1.2.1.cmml">​</mo><mrow id="S3.SS2.p2.6.m6.1.2.3.2" xref="S3.SS2.p2.6.m6.1.2.cmml"><mo stretchy="false" id="S3.SS2.p2.6.m6.1.2.3.2.1" xref="S3.SS2.p2.6.m6.1.2.cmml">(</mo><mi id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml">x</mi><mo stretchy="false" id="S3.SS2.p2.6.m6.1.2.3.2.2" xref="S3.SS2.p2.6.m6.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><apply id="S3.SS2.p2.6.m6.1.2.cmml" xref="S3.SS2.p2.6.m6.1.2"><times id="S3.SS2.p2.6.m6.1.2.1.cmml" xref="S3.SS2.p2.6.m6.1.2.1"></times><apply id="S3.SS2.p2.6.m6.1.2.2.cmml" xref="S3.SS2.p2.6.m6.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m6.1.2.2.1.cmml" xref="S3.SS2.p2.6.m6.1.2.2">superscript</csymbol><apply id="S3.SS2.p2.6.m6.1.2.2.2.cmml" xref="S3.SS2.p2.6.m6.1.2.2.2"><ci id="S3.SS2.p2.6.m6.1.2.2.2.1.cmml" xref="S3.SS2.p2.6.m6.1.2.2.2.1">^</ci><ci id="S3.SS2.p2.6.m6.1.2.2.2.2.cmml" xref="S3.SS2.p2.6.m6.1.2.2.2.2">𝑟</ci></apply><plus id="S3.SS2.p2.6.m6.1.2.2.3.cmml" xref="S3.SS2.p2.6.m6.1.2.2.3"></plus></apply><ci id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">\widehat{r}^{+}(x)</annotation></semantics></math> leads to the DPR loss <math id="S3.SS2.p2.7.m7.1" class="ltx_Math" alttext="{\mathcal{L}}_{DPR}" display="inline"><semantics id="S3.SS2.p2.7.m7.1a"><msub id="S3.SS2.p2.7.m7.1.1" xref="S3.SS2.p2.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.7.m7.1.1.2" xref="S3.SS2.p2.7.m7.1.1.2.cmml">ℒ</mi><mrow id="S3.SS2.p2.7.m7.1.1.3" xref="S3.SS2.p2.7.m7.1.1.3.cmml"><mi id="S3.SS2.p2.7.m7.1.1.3.2" xref="S3.SS2.p2.7.m7.1.1.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.7.m7.1.1.3.1" xref="S3.SS2.p2.7.m7.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.7.m7.1.1.3.3" xref="S3.SS2.p2.7.m7.1.1.3.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.7.m7.1.1.3.1a" xref="S3.SS2.p2.7.m7.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p2.7.m7.1.1.3.4" xref="S3.SS2.p2.7.m7.1.1.3.4.cmml">R</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m7.1b"><apply id="S3.SS2.p2.7.m7.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.7.m7.1.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p2.7.m7.1.1.2.cmml" xref="S3.SS2.p2.7.m7.1.1.2">ℒ</ci><apply id="S3.SS2.p2.7.m7.1.1.3.cmml" xref="S3.SS2.p2.7.m7.1.1.3"><times id="S3.SS2.p2.7.m7.1.1.3.1.cmml" xref="S3.SS2.p2.7.m7.1.1.3.1"></times><ci id="S3.SS2.p2.7.m7.1.1.3.2.cmml" xref="S3.SS2.p2.7.m7.1.1.3.2">𝐷</ci><ci id="S3.SS2.p2.7.m7.1.1.3.3.cmml" xref="S3.SS2.p2.7.m7.1.1.3.3">𝑃</ci><ci id="S3.SS2.p2.7.m7.1.1.3.4.cmml" xref="S3.SS2.p2.7.m7.1.1.3.4">𝑅</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m7.1c">{\mathcal{L}}_{DPR}</annotation></semantics></math> :</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.14" class="ltx_Math" alttext="-\sum_{(x,\mathcal{S})\in\mathcal{T}}\log{\frac{\exp{(\widehat{r}^{+}(x))}}{\exp{(\widehat{r}^{+}(x))}+\displaystyle\sum_{z\in{\mathcal{N}}(x,\mathcal{S})}\exp{(\widehat{r}(x,z))}}}\vspace{-0.4cm}" display="block"><semantics id="S3.E2.m1.14a"><mrow id="S3.E2.m1.14.15" xref="S3.E2.m1.14.15.cmml"><mo id="S3.E2.m1.14.15a" xref="S3.E2.m1.14.15.cmml">−</mo><mrow id="S3.E2.m1.14.15.2" xref="S3.E2.m1.14.15.2.cmml"><munder id="S3.E2.m1.14.15.2.1" xref="S3.E2.m1.14.15.2.1.cmml"><mo movablelimits="false" id="S3.E2.m1.14.15.2.1.2" xref="S3.E2.m1.14.15.2.1.2.cmml">∑</mo><mrow id="S3.E2.m1.2.2.2" xref="S3.E2.m1.2.2.2.cmml"><mrow id="S3.E2.m1.2.2.2.4.2" xref="S3.E2.m1.2.2.2.4.1.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.2.4.2.1" xref="S3.E2.m1.2.2.2.4.1.cmml">(</mo><mi id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml">x</mi><mo id="S3.E2.m1.2.2.2.4.2.2" xref="S3.E2.m1.2.2.2.4.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.2.cmml">𝒮</mi><mo stretchy="false" id="S3.E2.m1.2.2.2.4.2.3" xref="S3.E2.m1.2.2.2.4.1.cmml">)</mo></mrow><mo id="S3.E2.m1.2.2.2.3" xref="S3.E2.m1.2.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.2.2.2.5" xref="S3.E2.m1.2.2.2.5.cmml">𝒯</mi></mrow></munder><mrow id="S3.E2.m1.14.15.2.2" xref="S3.E2.m1.14.15.2.2.cmml"><mi id="S3.E2.m1.14.15.2.2.1" xref="S3.E2.m1.14.15.2.2.1.cmml">log</mi><mo lspace="0.167em" id="S3.E2.m1.14.15.2.2a" xref="S3.E2.m1.14.15.2.2.cmml">⁡</mo><mfrac id="S3.E2.m1.14.14" xref="S3.E2.m1.14.14.cmml"><mrow id="S3.E2.m1.5.5.3.3" xref="S3.E2.m1.5.5.3.4.cmml"><mi id="S3.E2.m1.4.4.2.2" xref="S3.E2.m1.4.4.2.2.cmml">exp</mi><mo id="S3.E2.m1.5.5.3.3a" xref="S3.E2.m1.5.5.3.4.cmml">⁡</mo><mrow id="S3.E2.m1.5.5.3.3.1" xref="S3.E2.m1.5.5.3.4.cmml"><mo stretchy="false" id="S3.E2.m1.5.5.3.3.1.2" xref="S3.E2.m1.5.5.3.4.cmml">(</mo><mrow id="S3.E2.m1.5.5.3.3.1.1" xref="S3.E2.m1.5.5.3.3.1.1.cmml"><msup id="S3.E2.m1.5.5.3.3.1.1.2" xref="S3.E2.m1.5.5.3.3.1.1.2.cmml"><mover accent="true" id="S3.E2.m1.5.5.3.3.1.1.2.2" xref="S3.E2.m1.5.5.3.3.1.1.2.2.cmml"><mi id="S3.E2.m1.5.5.3.3.1.1.2.2.2" xref="S3.E2.m1.5.5.3.3.1.1.2.2.2.cmml">r</mi><mo id="S3.E2.m1.5.5.3.3.1.1.2.2.1" xref="S3.E2.m1.5.5.3.3.1.1.2.2.1.cmml">^</mo></mover><mo id="S3.E2.m1.5.5.3.3.1.1.2.3" xref="S3.E2.m1.5.5.3.3.1.1.2.3.cmml">+</mo></msup><mo lspace="0em" rspace="0em" id="S3.E2.m1.5.5.3.3.1.1.1" xref="S3.E2.m1.5.5.3.3.1.1.1.cmml">​</mo><mrow id="S3.E2.m1.5.5.3.3.1.1.3.2" xref="S3.E2.m1.5.5.3.3.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.5.5.3.3.1.1.3.2.1" xref="S3.E2.m1.5.5.3.3.1.1.cmml">(</mo><mi id="S3.E2.m1.3.3.1.1" xref="S3.E2.m1.3.3.1.1.cmml">x</mi><mo stretchy="false" id="S3.E2.m1.5.5.3.3.1.1.3.2.2" xref="S3.E2.m1.5.5.3.3.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E2.m1.5.5.3.3.1.3" xref="S3.E2.m1.5.5.3.4.cmml">)</mo></mrow></mrow><mrow id="S3.E2.m1.14.14.12" xref="S3.E2.m1.14.14.12.cmml"><mrow id="S3.E2.m1.13.13.11.8.1" xref="S3.E2.m1.13.13.11.8.2.cmml"><mi id="S3.E2.m1.9.9.7.4" xref="S3.E2.m1.9.9.7.4.cmml">exp</mi><mo id="S3.E2.m1.13.13.11.8.1a" xref="S3.E2.m1.13.13.11.8.2.cmml">⁡</mo><mrow id="S3.E2.m1.13.13.11.8.1.1" xref="S3.E2.m1.13.13.11.8.2.cmml"><mo stretchy="false" id="S3.E2.m1.13.13.11.8.1.1.2" xref="S3.E2.m1.13.13.11.8.2.cmml">(</mo><mrow id="S3.E2.m1.13.13.11.8.1.1.1" xref="S3.E2.m1.13.13.11.8.1.1.1.cmml"><msup id="S3.E2.m1.13.13.11.8.1.1.1.2" xref="S3.E2.m1.13.13.11.8.1.1.1.2.cmml"><mover accent="true" id="S3.E2.m1.13.13.11.8.1.1.1.2.2" xref="S3.E2.m1.13.13.11.8.1.1.1.2.2.cmml"><mi id="S3.E2.m1.13.13.11.8.1.1.1.2.2.2" xref="S3.E2.m1.13.13.11.8.1.1.1.2.2.2.cmml">r</mi><mo id="S3.E2.m1.13.13.11.8.1.1.1.2.2.1" xref="S3.E2.m1.13.13.11.8.1.1.1.2.2.1.cmml">^</mo></mover><mo id="S3.E2.m1.13.13.11.8.1.1.1.2.3" xref="S3.E2.m1.13.13.11.8.1.1.1.2.3.cmml">+</mo></msup><mo lspace="0em" rspace="0em" id="S3.E2.m1.13.13.11.8.1.1.1.1" xref="S3.E2.m1.13.13.11.8.1.1.1.1.cmml">​</mo><mrow id="S3.E2.m1.13.13.11.8.1.1.1.3.2" xref="S3.E2.m1.13.13.11.8.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.13.13.11.8.1.1.1.3.2.1" xref="S3.E2.m1.13.13.11.8.1.1.1.cmml">(</mo><mi id="S3.E2.m1.8.8.6.3" xref="S3.E2.m1.8.8.6.3.cmml">x</mi><mo stretchy="false" id="S3.E2.m1.13.13.11.8.1.1.1.3.2.2" xref="S3.E2.m1.13.13.11.8.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E2.m1.13.13.11.8.1.1.3" xref="S3.E2.m1.13.13.11.8.2.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.14.14.12.10" xref="S3.E2.m1.14.14.12.10.cmml">+</mo><mrow id="S3.E2.m1.14.14.12.9" xref="S3.E2.m1.14.14.12.9.cmml"><mstyle displaystyle="true" id="S3.E2.m1.14.14.12.9.2" xref="S3.E2.m1.14.14.12.9.2.cmml"><munder id="S3.E2.m1.14.14.12.9.2a" xref="S3.E2.m1.14.14.12.9.2.cmml"><mo movablelimits="false" id="S3.E2.m1.14.14.12.9.2.2" xref="S3.E2.m1.14.14.12.9.2.2.cmml">∑</mo><mrow id="S3.E2.m1.7.7.5.2.2" xref="S3.E2.m1.7.7.5.2.2.cmml"><mi id="S3.E2.m1.7.7.5.2.2.4" xref="S3.E2.m1.7.7.5.2.2.4.cmml">z</mi><mo id="S3.E2.m1.7.7.5.2.2.3" xref="S3.E2.m1.7.7.5.2.2.3.cmml">∈</mo><mrow id="S3.E2.m1.7.7.5.2.2.5" xref="S3.E2.m1.7.7.5.2.2.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.7.7.5.2.2.5.2" xref="S3.E2.m1.7.7.5.2.2.5.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.7.7.5.2.2.5.1" xref="S3.E2.m1.7.7.5.2.2.5.1.cmml">​</mo><mrow id="S3.E2.m1.7.7.5.2.2.5.3.2" xref="S3.E2.m1.7.7.5.2.2.5.3.1.cmml"><mo stretchy="false" id="S3.E2.m1.7.7.5.2.2.5.3.2.1" xref="S3.E2.m1.7.7.5.2.2.5.3.1.cmml">(</mo><mi id="S3.E2.m1.6.6.4.1.1.1" xref="S3.E2.m1.6.6.4.1.1.1.cmml">x</mi><mo id="S3.E2.m1.7.7.5.2.2.5.3.2.2" xref="S3.E2.m1.7.7.5.2.2.5.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.7.7.5.2.2.2" xref="S3.E2.m1.7.7.5.2.2.2.cmml">𝒮</mi><mo stretchy="false" id="S3.E2.m1.7.7.5.2.2.5.3.2.3" xref="S3.E2.m1.7.7.5.2.2.5.3.1.cmml">)</mo></mrow></mrow></mrow></munder></mstyle><mrow id="S3.E2.m1.14.14.12.9.1.1" xref="S3.E2.m1.14.14.12.9.1.2.cmml"><mi id="S3.E2.m1.12.12.10.7" xref="S3.E2.m1.12.12.10.7.cmml">exp</mi><mo id="S3.E2.m1.14.14.12.9.1.1a" xref="S3.E2.m1.14.14.12.9.1.2.cmml">⁡</mo><mrow id="S3.E2.m1.14.14.12.9.1.1.1" xref="S3.E2.m1.14.14.12.9.1.2.cmml"><mo stretchy="false" id="S3.E2.m1.14.14.12.9.1.1.1.2" xref="S3.E2.m1.14.14.12.9.1.2.cmml">(</mo><mrow id="S3.E2.m1.14.14.12.9.1.1.1.1" xref="S3.E2.m1.14.14.12.9.1.1.1.1.cmml"><mover accent="true" id="S3.E2.m1.14.14.12.9.1.1.1.1.2" xref="S3.E2.m1.14.14.12.9.1.1.1.1.2.cmml"><mi id="S3.E2.m1.14.14.12.9.1.1.1.1.2.2" xref="S3.E2.m1.14.14.12.9.1.1.1.1.2.2.cmml">r</mi><mo id="S3.E2.m1.14.14.12.9.1.1.1.1.2.1" xref="S3.E2.m1.14.14.12.9.1.1.1.1.2.1.cmml">^</mo></mover><mo lspace="0em" rspace="0em" id="S3.E2.m1.14.14.12.9.1.1.1.1.1" xref="S3.E2.m1.14.14.12.9.1.1.1.1.1.cmml">​</mo><mrow id="S3.E2.m1.14.14.12.9.1.1.1.1.3.2" xref="S3.E2.m1.14.14.12.9.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S3.E2.m1.14.14.12.9.1.1.1.1.3.2.1" xref="S3.E2.m1.14.14.12.9.1.1.1.1.3.1.cmml">(</mo><mi id="S3.E2.m1.10.10.8.5" xref="S3.E2.m1.10.10.8.5.cmml">x</mi><mo id="S3.E2.m1.14.14.12.9.1.1.1.1.3.2.2" xref="S3.E2.m1.14.14.12.9.1.1.1.1.3.1.cmml">,</mo><mi id="S3.E2.m1.11.11.9.6" xref="S3.E2.m1.11.11.9.6.cmml">z</mi><mo stretchy="false" id="S3.E2.m1.14.14.12.9.1.1.1.1.3.2.3" xref="S3.E2.m1.14.14.12.9.1.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E2.m1.14.14.12.9.1.1.1.3" xref="S3.E2.m1.14.14.12.9.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.14b"><apply id="S3.E2.m1.14.15.cmml" xref="S3.E2.m1.14.15"><minus id="S3.E2.m1.14.15.1.cmml" xref="S3.E2.m1.14.15"></minus><apply id="S3.E2.m1.14.15.2.cmml" xref="S3.E2.m1.14.15.2"><apply id="S3.E2.m1.14.15.2.1.cmml" xref="S3.E2.m1.14.15.2.1"><csymbol cd="ambiguous" id="S3.E2.m1.14.15.2.1.1.cmml" xref="S3.E2.m1.14.15.2.1">subscript</csymbol><sum id="S3.E2.m1.14.15.2.1.2.cmml" xref="S3.E2.m1.14.15.2.1.2"></sum><apply id="S3.E2.m1.2.2.2.cmml" xref="S3.E2.m1.2.2.2"><in id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.3"></in><interval closure="open" id="S3.E2.m1.2.2.2.4.1.cmml" xref="S3.E2.m1.2.2.2.4.2"><ci id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1">𝑥</ci><ci id="S3.E2.m1.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2">𝒮</ci></interval><ci id="S3.E2.m1.2.2.2.5.cmml" xref="S3.E2.m1.2.2.2.5">𝒯</ci></apply></apply><apply id="S3.E2.m1.14.15.2.2.cmml" xref="S3.E2.m1.14.15.2.2"><log id="S3.E2.m1.14.15.2.2.1.cmml" xref="S3.E2.m1.14.15.2.2.1"></log><apply id="S3.E2.m1.14.14.cmml" xref="S3.E2.m1.14.14"><divide id="S3.E2.m1.14.14.13.cmml" xref="S3.E2.m1.14.14"></divide><apply id="S3.E2.m1.5.5.3.4.cmml" xref="S3.E2.m1.5.5.3.3"><exp id="S3.E2.m1.4.4.2.2.cmml" xref="S3.E2.m1.4.4.2.2"></exp><apply id="S3.E2.m1.5.5.3.3.1.1.cmml" xref="S3.E2.m1.5.5.3.3.1.1"><times id="S3.E2.m1.5.5.3.3.1.1.1.cmml" xref="S3.E2.m1.5.5.3.3.1.1.1"></times><apply id="S3.E2.m1.5.5.3.3.1.1.2.cmml" xref="S3.E2.m1.5.5.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.3.3.1.1.2.1.cmml" xref="S3.E2.m1.5.5.3.3.1.1.2">superscript</csymbol><apply id="S3.E2.m1.5.5.3.3.1.1.2.2.cmml" xref="S3.E2.m1.5.5.3.3.1.1.2.2"><ci id="S3.E2.m1.5.5.3.3.1.1.2.2.1.cmml" xref="S3.E2.m1.5.5.3.3.1.1.2.2.1">^</ci><ci id="S3.E2.m1.5.5.3.3.1.1.2.2.2.cmml" xref="S3.E2.m1.5.5.3.3.1.1.2.2.2">𝑟</ci></apply><plus id="S3.E2.m1.5.5.3.3.1.1.2.3.cmml" xref="S3.E2.m1.5.5.3.3.1.1.2.3"></plus></apply><ci id="S3.E2.m1.3.3.1.1.cmml" xref="S3.E2.m1.3.3.1.1">𝑥</ci></apply></apply><apply id="S3.E2.m1.14.14.12.cmml" xref="S3.E2.m1.14.14.12"><plus id="S3.E2.m1.14.14.12.10.cmml" xref="S3.E2.m1.14.14.12.10"></plus><apply id="S3.E2.m1.13.13.11.8.2.cmml" xref="S3.E2.m1.13.13.11.8.1"><exp id="S3.E2.m1.9.9.7.4.cmml" xref="S3.E2.m1.9.9.7.4"></exp><apply id="S3.E2.m1.13.13.11.8.1.1.1.cmml" xref="S3.E2.m1.13.13.11.8.1.1.1"><times id="S3.E2.m1.13.13.11.8.1.1.1.1.cmml" xref="S3.E2.m1.13.13.11.8.1.1.1.1"></times><apply id="S3.E2.m1.13.13.11.8.1.1.1.2.cmml" xref="S3.E2.m1.13.13.11.8.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.13.13.11.8.1.1.1.2.1.cmml" xref="S3.E2.m1.13.13.11.8.1.1.1.2">superscript</csymbol><apply id="S3.E2.m1.13.13.11.8.1.1.1.2.2.cmml" xref="S3.E2.m1.13.13.11.8.1.1.1.2.2"><ci id="S3.E2.m1.13.13.11.8.1.1.1.2.2.1.cmml" xref="S3.E2.m1.13.13.11.8.1.1.1.2.2.1">^</ci><ci id="S3.E2.m1.13.13.11.8.1.1.1.2.2.2.cmml" xref="S3.E2.m1.13.13.11.8.1.1.1.2.2.2">𝑟</ci></apply><plus id="S3.E2.m1.13.13.11.8.1.1.1.2.3.cmml" xref="S3.E2.m1.13.13.11.8.1.1.1.2.3"></plus></apply><ci id="S3.E2.m1.8.8.6.3.cmml" xref="S3.E2.m1.8.8.6.3">𝑥</ci></apply></apply><apply id="S3.E2.m1.14.14.12.9.cmml" xref="S3.E2.m1.14.14.12.9"><apply id="S3.E2.m1.14.14.12.9.2.cmml" xref="S3.E2.m1.14.14.12.9.2"><csymbol cd="ambiguous" id="S3.E2.m1.14.14.12.9.2.1.cmml" xref="S3.E2.m1.14.14.12.9.2">subscript</csymbol><sum id="S3.E2.m1.14.14.12.9.2.2.cmml" xref="S3.E2.m1.14.14.12.9.2.2"></sum><apply id="S3.E2.m1.7.7.5.2.2.cmml" xref="S3.E2.m1.7.7.5.2.2"><in id="S3.E2.m1.7.7.5.2.2.3.cmml" xref="S3.E2.m1.7.7.5.2.2.3"></in><ci id="S3.E2.m1.7.7.5.2.2.4.cmml" xref="S3.E2.m1.7.7.5.2.2.4">𝑧</ci><apply id="S3.E2.m1.7.7.5.2.2.5.cmml" xref="S3.E2.m1.7.7.5.2.2.5"><times id="S3.E2.m1.7.7.5.2.2.5.1.cmml" xref="S3.E2.m1.7.7.5.2.2.5.1"></times><ci id="S3.E2.m1.7.7.5.2.2.5.2.cmml" xref="S3.E2.m1.7.7.5.2.2.5.2">𝒩</ci><interval closure="open" id="S3.E2.m1.7.7.5.2.2.5.3.1.cmml" xref="S3.E2.m1.7.7.5.2.2.5.3.2"><ci id="S3.E2.m1.6.6.4.1.1.1.cmml" xref="S3.E2.m1.6.6.4.1.1.1">𝑥</ci><ci id="S3.E2.m1.7.7.5.2.2.2.cmml" xref="S3.E2.m1.7.7.5.2.2.2">𝒮</ci></interval></apply></apply></apply><apply id="S3.E2.m1.14.14.12.9.1.2.cmml" xref="S3.E2.m1.14.14.12.9.1.1"><exp id="S3.E2.m1.12.12.10.7.cmml" xref="S3.E2.m1.12.12.10.7"></exp><apply id="S3.E2.m1.14.14.12.9.1.1.1.1.cmml" xref="S3.E2.m1.14.14.12.9.1.1.1.1"><times id="S3.E2.m1.14.14.12.9.1.1.1.1.1.cmml" xref="S3.E2.m1.14.14.12.9.1.1.1.1.1"></times><apply id="S3.E2.m1.14.14.12.9.1.1.1.1.2.cmml" xref="S3.E2.m1.14.14.12.9.1.1.1.1.2"><ci id="S3.E2.m1.14.14.12.9.1.1.1.1.2.1.cmml" xref="S3.E2.m1.14.14.12.9.1.1.1.1.2.1">^</ci><ci id="S3.E2.m1.14.14.12.9.1.1.1.1.2.2.cmml" xref="S3.E2.m1.14.14.12.9.1.1.1.1.2.2">𝑟</ci></apply><interval closure="open" id="S3.E2.m1.14.14.12.9.1.1.1.1.3.1.cmml" xref="S3.E2.m1.14.14.12.9.1.1.1.1.3.2"><ci id="S3.E2.m1.10.10.8.5.cmml" xref="S3.E2.m1.10.10.8.5">𝑥</ci><ci id="S3.E2.m1.11.11.9.6.cmml" xref="S3.E2.m1.11.11.9.6">𝑧</ci></interval></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.14c">-\sum_{(x,\mathcal{S})\in\mathcal{T}}\log{\frac{\exp{(\widehat{r}^{+}(x))}}{\exp{(\widehat{r}^{+}(x))}+\displaystyle\sum_{z\in{\mathcal{N}}(x,\mathcal{S})}\exp{(\widehat{r}(x,z))}}}\vspace{-0.4cm}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>RA-VQA: Joint Training of Document Retrieval and Answer Generation</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.5" class="ltx_p">Given a full query string <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mi id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">x</annotation></semantics></math> extracted from the image-question pair <math id="S3.SS3.p1.2.m2.2" class="ltx_Math" alttext="(I,q)" display="inline"><semantics id="S3.SS3.p1.2.m2.2a"><mrow id="S3.SS3.p1.2.m2.2.3.2" xref="S3.SS3.p1.2.m2.2.3.1.cmml"><mo stretchy="false" id="S3.SS3.p1.2.m2.2.3.2.1" xref="S3.SS3.p1.2.m2.2.3.1.cmml">(</mo><mi id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml">I</mi><mo id="S3.SS3.p1.2.m2.2.3.2.2" xref="S3.SS3.p1.2.m2.2.3.1.cmml">,</mo><mi id="S3.SS3.p1.2.m2.2.2" xref="S3.SS3.p1.2.m2.2.2.cmml">q</mi><mo stretchy="false" id="S3.SS3.p1.2.m2.2.3.2.3" xref="S3.SS3.p1.2.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.2b"><interval closure="open" id="S3.SS3.p1.2.m2.2.3.1.cmml" xref="S3.SS3.p1.2.m2.2.3.2"><ci id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">𝐼</ci><ci id="S3.SS3.p1.2.m2.2.2.cmml" xref="S3.SS3.p1.2.m2.2.2">𝑞</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.2c">(I,q)</annotation></semantics></math>, DPR returns the <math id="S3.SS3.p1.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS3.p1.3.m3.1a"><mi id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><ci id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">K</annotation></semantics></math> highest scoring documents <math id="S3.SS3.p1.4.m4.1" class="ltx_Math" alttext="\{z_{k}\}_{k=1}^{K}" display="inline"><semantics id="S3.SS3.p1.4.m4.1a"><msubsup id="S3.SS3.p1.4.m4.1.1" xref="S3.SS3.p1.4.m4.1.1.cmml"><mrow id="S3.SS3.p1.4.m4.1.1.1.1.1" xref="S3.SS3.p1.4.m4.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS3.p1.4.m4.1.1.1.1.1.2" xref="S3.SS3.p1.4.m4.1.1.1.1.2.cmml">{</mo><msub id="S3.SS3.p1.4.m4.1.1.1.1.1.1" xref="S3.SS3.p1.4.m4.1.1.1.1.1.1.cmml"><mi id="S3.SS3.p1.4.m4.1.1.1.1.1.1.2" xref="S3.SS3.p1.4.m4.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.SS3.p1.4.m4.1.1.1.1.1.1.3" xref="S3.SS3.p1.4.m4.1.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="S3.SS3.p1.4.m4.1.1.1.1.1.3" xref="S3.SS3.p1.4.m4.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS3.p1.4.m4.1.1.1.3" xref="S3.SS3.p1.4.m4.1.1.1.3.cmml"><mi id="S3.SS3.p1.4.m4.1.1.1.3.2" xref="S3.SS3.p1.4.m4.1.1.1.3.2.cmml">k</mi><mo id="S3.SS3.p1.4.m4.1.1.1.3.1" xref="S3.SS3.p1.4.m4.1.1.1.3.1.cmml">=</mo><mn id="S3.SS3.p1.4.m4.1.1.1.3.3" xref="S3.SS3.p1.4.m4.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS3.p1.4.m4.1.1.3" xref="S3.SS3.p1.4.m4.1.1.3.cmml">K</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.1b"><apply id="S3.SS3.p1.4.m4.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1">superscript</csymbol><apply id="S3.SS3.p1.4.m4.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.1.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1">subscript</csymbol><set id="S3.SS3.p1.4.m4.1.1.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1"><apply id="S3.SS3.p1.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p1.4.m4.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.SS3.p1.4.m4.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.SS3.p1.4.m4.1.1.1.3.cmml" xref="S3.SS3.p1.4.m4.1.1.1.3"><eq id="S3.SS3.p1.4.m4.1.1.1.3.1.cmml" xref="S3.SS3.p1.4.m4.1.1.1.3.1"></eq><ci id="S3.SS3.p1.4.m4.1.1.1.3.2.cmml" xref="S3.SS3.p1.4.m4.1.1.1.3.2">𝑘</ci><cn type="integer" id="S3.SS3.p1.4.m4.1.1.1.3.3.cmml" xref="S3.SS3.p1.4.m4.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS3.p1.4.m4.1.1.3.cmml" xref="S3.SS3.p1.4.m4.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.1c">\{z_{k}\}_{k=1}^{K}</annotation></semantics></math>.
The score assigned by the document retriever <math id="S3.SS3.p1.5.m5.1" class="ltx_math_unparsed" alttext="p_{\theta}(\cdot|x)" display="inline"><semantics id="S3.SS3.p1.5.m5.1a"><mrow id="S3.SS3.p1.5.m5.1b"><msub id="S3.SS3.p1.5.m5.1.1"><mi id="S3.SS3.p1.5.m5.1.1.2">p</mi><mi id="S3.SS3.p1.5.m5.1.1.3">θ</mi></msub><mrow id="S3.SS3.p1.5.m5.1.2"><mo stretchy="false" id="S3.SS3.p1.5.m5.1.2.1">(</mo><mo lspace="0em" rspace="0em" id="S3.SS3.p1.5.m5.1.2.2">⋅</mo><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS3.p1.5.m5.1.2.3">|</mo><mi id="S3.SS3.p1.5.m5.1.2.4">x</mi><mo stretchy="false" id="S3.SS3.p1.5.m5.1.2.5">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS3.p1.5.m5.1c">p_{\theta}(\cdot|x)</annotation></semantics></math> to a retrieved document is</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.7" class="ltx_Math" alttext="p_{\theta}(z_{k}|x)=\frac{\exp(\widehat{r}(x,z_{k}))}{\sum_{j=1}^{K}\exp(\widehat{r}(x,z_{j}))}\vspace{-0.2cm}" display="block"><semantics id="S3.E3.m1.7a"><mrow id="S3.E3.m1.7.7" xref="S3.E3.m1.7.7.cmml"><mrow id="S3.E3.m1.7.7.1" xref="S3.E3.m1.7.7.1.cmml"><msub id="S3.E3.m1.7.7.1.3" xref="S3.E3.m1.7.7.1.3.cmml"><mi id="S3.E3.m1.7.7.1.3.2" xref="S3.E3.m1.7.7.1.3.2.cmml">p</mi><mi id="S3.E3.m1.7.7.1.3.3" xref="S3.E3.m1.7.7.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.7.7.1.2" xref="S3.E3.m1.7.7.1.2.cmml">​</mo><mrow id="S3.E3.m1.7.7.1.1.1" xref="S3.E3.m1.7.7.1.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.7.7.1.1.1.2" xref="S3.E3.m1.7.7.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.7.7.1.1.1.1" xref="S3.E3.m1.7.7.1.1.1.1.cmml"><msub id="S3.E3.m1.7.7.1.1.1.1.2" xref="S3.E3.m1.7.7.1.1.1.1.2.cmml"><mi id="S3.E3.m1.7.7.1.1.1.1.2.2" xref="S3.E3.m1.7.7.1.1.1.1.2.2.cmml">z</mi><mi id="S3.E3.m1.7.7.1.1.1.1.2.3" xref="S3.E3.m1.7.7.1.1.1.1.2.3.cmml">k</mi></msub><mo fence="false" id="S3.E3.m1.7.7.1.1.1.1.1" xref="S3.E3.m1.7.7.1.1.1.1.1.cmml">|</mo><mi id="S3.E3.m1.7.7.1.1.1.1.3" xref="S3.E3.m1.7.7.1.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S3.E3.m1.7.7.1.1.1.3" xref="S3.E3.m1.7.7.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.7.7.2" xref="S3.E3.m1.7.7.2.cmml">=</mo><mfrac id="S3.E3.m1.6.6" xref="S3.E3.m1.6.6.cmml"><mrow id="S3.E3.m1.3.3.3.3" xref="S3.E3.m1.3.3.3.4.cmml"><mi id="S3.E3.m1.2.2.2.2" xref="S3.E3.m1.2.2.2.2.cmml">exp</mi><mo id="S3.E3.m1.3.3.3.3a" xref="S3.E3.m1.3.3.3.4.cmml">⁡</mo><mrow id="S3.E3.m1.3.3.3.3.1" xref="S3.E3.m1.3.3.3.4.cmml"><mo stretchy="false" id="S3.E3.m1.3.3.3.3.1.2" xref="S3.E3.m1.3.3.3.4.cmml">(</mo><mrow id="S3.E3.m1.3.3.3.3.1.1" xref="S3.E3.m1.3.3.3.3.1.1.cmml"><mover accent="true" id="S3.E3.m1.3.3.3.3.1.1.3" xref="S3.E3.m1.3.3.3.3.1.1.3.cmml"><mi id="S3.E3.m1.3.3.3.3.1.1.3.2" xref="S3.E3.m1.3.3.3.3.1.1.3.2.cmml">r</mi><mo id="S3.E3.m1.3.3.3.3.1.1.3.1" xref="S3.E3.m1.3.3.3.3.1.1.3.1.cmml">^</mo></mover><mo lspace="0em" rspace="0em" id="S3.E3.m1.3.3.3.3.1.1.2" xref="S3.E3.m1.3.3.3.3.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.3.3.3.3.1.1.1.1" xref="S3.E3.m1.3.3.3.3.1.1.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.3.3.3.3.1.1.1.1.2" xref="S3.E3.m1.3.3.3.3.1.1.1.2.cmml">(</mo><mi id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml">x</mi><mo id="S3.E3.m1.3.3.3.3.1.1.1.1.3" xref="S3.E3.m1.3.3.3.3.1.1.1.2.cmml">,</mo><msub id="S3.E3.m1.3.3.3.3.1.1.1.1.1" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.cmml"><mi id="S3.E3.m1.3.3.3.3.1.1.1.1.1.2" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E3.m1.3.3.3.3.1.1.1.1.1.3" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="S3.E3.m1.3.3.3.3.1.1.1.1.4" xref="S3.E3.m1.3.3.3.3.1.1.1.2.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E3.m1.3.3.3.3.1.3" xref="S3.E3.m1.3.3.3.4.cmml">)</mo></mrow></mrow><mrow id="S3.E3.m1.6.6.6" xref="S3.E3.m1.6.6.6.cmml"><msubsup id="S3.E3.m1.6.6.6.4" xref="S3.E3.m1.6.6.6.4.cmml"><mo id="S3.E3.m1.6.6.6.4.2.2" xref="S3.E3.m1.6.6.6.4.2.2.cmml">∑</mo><mrow id="S3.E3.m1.6.6.6.4.2.3" xref="S3.E3.m1.6.6.6.4.2.3.cmml"><mi id="S3.E3.m1.6.6.6.4.2.3.2" xref="S3.E3.m1.6.6.6.4.2.3.2.cmml">j</mi><mo id="S3.E3.m1.6.6.6.4.2.3.1" xref="S3.E3.m1.6.6.6.4.2.3.1.cmml">=</mo><mn id="S3.E3.m1.6.6.6.4.2.3.3" xref="S3.E3.m1.6.6.6.4.2.3.3.cmml">1</mn></mrow><mi id="S3.E3.m1.6.6.6.4.3" xref="S3.E3.m1.6.6.6.4.3.cmml">K</mi></msubsup><mrow id="S3.E3.m1.6.6.6.3.1" xref="S3.E3.m1.6.6.6.3.2.cmml"><mi id="S3.E3.m1.5.5.5.2" xref="S3.E3.m1.5.5.5.2.cmml">exp</mi><mo id="S3.E3.m1.6.6.6.3.1a" xref="S3.E3.m1.6.6.6.3.2.cmml">⁡</mo><mrow id="S3.E3.m1.6.6.6.3.1.1" xref="S3.E3.m1.6.6.6.3.2.cmml"><mo stretchy="false" id="S3.E3.m1.6.6.6.3.1.1.2" xref="S3.E3.m1.6.6.6.3.2.cmml">(</mo><mrow id="S3.E3.m1.6.6.6.3.1.1.1" xref="S3.E3.m1.6.6.6.3.1.1.1.cmml"><mover accent="true" id="S3.E3.m1.6.6.6.3.1.1.1.3" xref="S3.E3.m1.6.6.6.3.1.1.1.3.cmml"><mi id="S3.E3.m1.6.6.6.3.1.1.1.3.2" xref="S3.E3.m1.6.6.6.3.1.1.1.3.2.cmml">r</mi><mo id="S3.E3.m1.6.6.6.3.1.1.1.3.1" xref="S3.E3.m1.6.6.6.3.1.1.1.3.1.cmml">^</mo></mover><mo lspace="0em" rspace="0em" id="S3.E3.m1.6.6.6.3.1.1.1.2" xref="S3.E3.m1.6.6.6.3.1.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.6.6.6.3.1.1.1.1.1" xref="S3.E3.m1.6.6.6.3.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.6.6.6.3.1.1.1.1.1.2" xref="S3.E3.m1.6.6.6.3.1.1.1.1.2.cmml">(</mo><mi id="S3.E3.m1.4.4.4.1" xref="S3.E3.m1.4.4.4.1.cmml">x</mi><mo id="S3.E3.m1.6.6.6.3.1.1.1.1.1.3" xref="S3.E3.m1.6.6.6.3.1.1.1.1.2.cmml">,</mo><msub id="S3.E3.m1.6.6.6.3.1.1.1.1.1.1" xref="S3.E3.m1.6.6.6.3.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.6.6.6.3.1.1.1.1.1.1.2" xref="S3.E3.m1.6.6.6.3.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E3.m1.6.6.6.3.1.1.1.1.1.1.3" xref="S3.E3.m1.6.6.6.3.1.1.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S3.E3.m1.6.6.6.3.1.1.1.1.1.4" xref="S3.E3.m1.6.6.6.3.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E3.m1.6.6.6.3.1.1.3" xref="S3.E3.m1.6.6.6.3.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.7b"><apply id="S3.E3.m1.7.7.cmml" xref="S3.E3.m1.7.7"><eq id="S3.E3.m1.7.7.2.cmml" xref="S3.E3.m1.7.7.2"></eq><apply id="S3.E3.m1.7.7.1.cmml" xref="S3.E3.m1.7.7.1"><times id="S3.E3.m1.7.7.1.2.cmml" xref="S3.E3.m1.7.7.1.2"></times><apply id="S3.E3.m1.7.7.1.3.cmml" xref="S3.E3.m1.7.7.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.1.3.1.cmml" xref="S3.E3.m1.7.7.1.3">subscript</csymbol><ci id="S3.E3.m1.7.7.1.3.2.cmml" xref="S3.E3.m1.7.7.1.3.2">𝑝</ci><ci id="S3.E3.m1.7.7.1.3.3.cmml" xref="S3.E3.m1.7.7.1.3.3">𝜃</ci></apply><apply id="S3.E3.m1.7.7.1.1.1.1.cmml" xref="S3.E3.m1.7.7.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.7.7.1.1.1.1.1.cmml" xref="S3.E3.m1.7.7.1.1.1.1.1">conditional</csymbol><apply id="S3.E3.m1.7.7.1.1.1.1.2.cmml" xref="S3.E3.m1.7.7.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.1.1.1.1.2.1.cmml" xref="S3.E3.m1.7.7.1.1.1.1.2">subscript</csymbol><ci id="S3.E3.m1.7.7.1.1.1.1.2.2.cmml" xref="S3.E3.m1.7.7.1.1.1.1.2.2">𝑧</ci><ci id="S3.E3.m1.7.7.1.1.1.1.2.3.cmml" xref="S3.E3.m1.7.7.1.1.1.1.2.3">𝑘</ci></apply><ci id="S3.E3.m1.7.7.1.1.1.1.3.cmml" xref="S3.E3.m1.7.7.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S3.E3.m1.6.6.cmml" xref="S3.E3.m1.6.6"><divide id="S3.E3.m1.6.6.7.cmml" xref="S3.E3.m1.6.6"></divide><apply id="S3.E3.m1.3.3.3.4.cmml" xref="S3.E3.m1.3.3.3.3"><exp id="S3.E3.m1.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2"></exp><apply id="S3.E3.m1.3.3.3.3.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1"><times id="S3.E3.m1.3.3.3.3.1.1.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.2"></times><apply id="S3.E3.m1.3.3.3.3.1.1.3.cmml" xref="S3.E3.m1.3.3.3.3.1.1.3"><ci id="S3.E3.m1.3.3.3.3.1.1.3.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.3.1">^</ci><ci id="S3.E3.m1.3.3.3.3.1.1.3.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.3.2">𝑟</ci></apply><interval closure="open" id="S3.E3.m1.3.3.3.3.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1"><ci id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1">𝑥</ci><apply id="S3.E3.m1.3.3.3.3.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.2">𝑧</ci><ci id="S3.E3.m1.3.3.3.3.1.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.3">𝑘</ci></apply></interval></apply></apply><apply id="S3.E3.m1.6.6.6.cmml" xref="S3.E3.m1.6.6.6"><apply id="S3.E3.m1.6.6.6.4.cmml" xref="S3.E3.m1.6.6.6.4"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.6.4.1.cmml" xref="S3.E3.m1.6.6.6.4">superscript</csymbol><apply id="S3.E3.m1.6.6.6.4.2.cmml" xref="S3.E3.m1.6.6.6.4"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.6.4.2.1.cmml" xref="S3.E3.m1.6.6.6.4">subscript</csymbol><sum id="S3.E3.m1.6.6.6.4.2.2.cmml" xref="S3.E3.m1.6.6.6.4.2.2"></sum><apply id="S3.E3.m1.6.6.6.4.2.3.cmml" xref="S3.E3.m1.6.6.6.4.2.3"><eq id="S3.E3.m1.6.6.6.4.2.3.1.cmml" xref="S3.E3.m1.6.6.6.4.2.3.1"></eq><ci id="S3.E3.m1.6.6.6.4.2.3.2.cmml" xref="S3.E3.m1.6.6.6.4.2.3.2">𝑗</ci><cn type="integer" id="S3.E3.m1.6.6.6.4.2.3.3.cmml" xref="S3.E3.m1.6.6.6.4.2.3.3">1</cn></apply></apply><ci id="S3.E3.m1.6.6.6.4.3.cmml" xref="S3.E3.m1.6.6.6.4.3">𝐾</ci></apply><apply id="S3.E3.m1.6.6.6.3.2.cmml" xref="S3.E3.m1.6.6.6.3.1"><exp id="S3.E3.m1.5.5.5.2.cmml" xref="S3.E3.m1.5.5.5.2"></exp><apply id="S3.E3.m1.6.6.6.3.1.1.1.cmml" xref="S3.E3.m1.6.6.6.3.1.1.1"><times id="S3.E3.m1.6.6.6.3.1.1.1.2.cmml" xref="S3.E3.m1.6.6.6.3.1.1.1.2"></times><apply id="S3.E3.m1.6.6.6.3.1.1.1.3.cmml" xref="S3.E3.m1.6.6.6.3.1.1.1.3"><ci id="S3.E3.m1.6.6.6.3.1.1.1.3.1.cmml" xref="S3.E3.m1.6.6.6.3.1.1.1.3.1">^</ci><ci id="S3.E3.m1.6.6.6.3.1.1.1.3.2.cmml" xref="S3.E3.m1.6.6.6.3.1.1.1.3.2">𝑟</ci></apply><interval closure="open" id="S3.E3.m1.6.6.6.3.1.1.1.1.2.cmml" xref="S3.E3.m1.6.6.6.3.1.1.1.1.1"><ci id="S3.E3.m1.4.4.4.1.cmml" xref="S3.E3.m1.4.4.4.1">𝑥</ci><apply id="S3.E3.m1.6.6.6.3.1.1.1.1.1.1.cmml" xref="S3.E3.m1.6.6.6.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.6.3.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.6.6.6.3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.6.6.6.3.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.6.6.6.3.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.E3.m1.6.6.6.3.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.6.6.6.3.1.1.1.1.1.1.3">𝑗</ci></apply></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.7c">p_{\theta}(z_{k}|x)=\frac{\exp(\widehat{r}(x,z_{k}))}{\sum_{j=1}^{K}\exp(\widehat{r}(x,z_{j}))}\vspace{-0.2cm}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.2" class="ltx_p">Open-ended answer generation for each retrieved document <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><msub id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mi id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml">z</mi><mi id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2">𝑧</ci><ci id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">z_{k}</annotation></semantics></math> is performed with a generative model, such as T5, with parameters <math id="S3.SS3.p2.2.m2.1" class="ltx_Math" alttext="\phi" display="inline"><semantics id="S3.SS3.p2.2.m2.1a"><mi id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><ci id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">\phi</annotation></semantics></math>:</p>
<table id="S3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E4.m1.2" class="ltx_Math" alttext="y_{k}=\operatornamewithlimits{argmax}_{y}p_{\phi}(y|x,z_{k})\vspace{-0.2cm}" display="block"><semantics id="S3.E4.m1.2a"><mrow id="S3.E4.m1.2.2" xref="S3.E4.m1.2.2.cmml"><msub id="S3.E4.m1.2.2.3" xref="S3.E4.m1.2.2.3.cmml"><mi id="S3.E4.m1.2.2.3.2" xref="S3.E4.m1.2.2.3.2.cmml">y</mi><mi id="S3.E4.m1.2.2.3.3" xref="S3.E4.m1.2.2.3.3.cmml">k</mi></msub><mo rspace="0.1389em" id="S3.E4.m1.2.2.2" xref="S3.E4.m1.2.2.2.cmml">=</mo><mrow id="S3.E4.m1.2.2.1" xref="S3.E4.m1.2.2.1.cmml"><mrow id="S3.E4.m1.2.2.1.3" xref="S3.E4.m1.2.2.1.3.cmml"><munder id="S3.E4.m1.2.2.1.3.1" xref="S3.E4.m1.2.2.1.3.1.cmml"><mo lspace="0.1389em" rspace="0.167em" id="S3.E4.m1.2.2.1.3.1.2" xref="S3.E4.m1.2.2.1.3.1.2.cmml">argmax</mo><mi id="S3.E4.m1.2.2.1.3.1.3" xref="S3.E4.m1.2.2.1.3.1.3.cmml">y</mi></munder><msub id="S3.E4.m1.2.2.1.3.2" xref="S3.E4.m1.2.2.1.3.2.cmml"><mi id="S3.E4.m1.2.2.1.3.2.2" xref="S3.E4.m1.2.2.1.3.2.2.cmml">p</mi><mi id="S3.E4.m1.2.2.1.3.2.3" xref="S3.E4.m1.2.2.1.3.2.3.cmml">ϕ</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E4.m1.2.2.1.2" xref="S3.E4.m1.2.2.1.2.cmml">​</mo><mrow id="S3.E4.m1.2.2.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.2.2.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.3.cmml">y</mi><mo fence="false" id="S3.E4.m1.2.2.1.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.2.cmml">|</mo><mrow id="S3.E4.m1.2.2.1.1.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.1.2.cmml"><mi id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml">x</mi><mo id="S3.E4.m1.2.2.1.1.1.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.1.2.cmml">,</mo><msub id="S3.E4.m1.2.2.1.1.1.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E4.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.3.cmml">k</mi></msub></mrow></mrow><mo stretchy="false" id="S3.E4.m1.2.2.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.2b"><apply id="S3.E4.m1.2.2.cmml" xref="S3.E4.m1.2.2"><eq id="S3.E4.m1.2.2.2.cmml" xref="S3.E4.m1.2.2.2"></eq><apply id="S3.E4.m1.2.2.3.cmml" xref="S3.E4.m1.2.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.3.1.cmml" xref="S3.E4.m1.2.2.3">subscript</csymbol><ci id="S3.E4.m1.2.2.3.2.cmml" xref="S3.E4.m1.2.2.3.2">𝑦</ci><ci id="S3.E4.m1.2.2.3.3.cmml" xref="S3.E4.m1.2.2.3.3">𝑘</ci></apply><apply id="S3.E4.m1.2.2.1.cmml" xref="S3.E4.m1.2.2.1"><times id="S3.E4.m1.2.2.1.2.cmml" xref="S3.E4.m1.2.2.1.2"></times><apply id="S3.E4.m1.2.2.1.3.cmml" xref="S3.E4.m1.2.2.1.3"><apply id="S3.E4.m1.2.2.1.3.1.cmml" xref="S3.E4.m1.2.2.1.3.1"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.3.1.1.cmml" xref="S3.E4.m1.2.2.1.3.1">subscript</csymbol><ci id="S3.E4.m1.2.2.1.3.1.2.cmml" xref="S3.E4.m1.2.2.1.3.1.2">argmax</ci><ci id="S3.E4.m1.2.2.1.3.1.3.cmml" xref="S3.E4.m1.2.2.1.3.1.3">𝑦</ci></apply><apply id="S3.E4.m1.2.2.1.3.2.cmml" xref="S3.E4.m1.2.2.1.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.3.2.1.cmml" xref="S3.E4.m1.2.2.1.3.2">subscript</csymbol><ci id="S3.E4.m1.2.2.1.3.2.2.cmml" xref="S3.E4.m1.2.2.1.3.2.2">𝑝</ci><ci id="S3.E4.m1.2.2.1.3.2.3.cmml" xref="S3.E4.m1.2.2.1.3.2.3">italic-ϕ</ci></apply></apply><apply id="S3.E4.m1.2.2.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1"><csymbol cd="latexml" id="S3.E4.m1.2.2.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2">conditional</csymbol><ci id="S3.E4.m1.2.2.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3">𝑦</ci><list id="S3.E4.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1"><ci id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1">𝑥</ci><apply id="S3.E4.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.E4.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.3">𝑘</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.2c">y_{k}=\operatornamewithlimits{argmax}_{y}p_{\phi}(y|x,z_{k})\vspace{-0.2cm}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS3.p3" class="ltx_para">
<p id="S3.SS3.p3.15" class="ltx_p">For each document <math id="S3.SS3.p3.1.m1.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="S3.SS3.p3.1.m1.1a"><msub id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml"><mi id="S3.SS3.p3.1.m1.1.1.2" xref="S3.SS3.p3.1.m1.1.1.2.cmml">z</mi><mi id="S3.SS3.p3.1.m1.1.1.3" xref="S3.SS3.p3.1.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><apply id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.1.m1.1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p3.1.m1.1.1.2.cmml" xref="S3.SS3.p3.1.m1.1.1.2">𝑧</ci><ci id="S3.SS3.p3.1.m1.1.1.3.cmml" xref="S3.SS3.p3.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">z_{k}</annotation></semantics></math> retrieved for a training item <math id="S3.SS3.p3.2.m2.2" class="ltx_Math" alttext="(x,\mathcal{S})" display="inline"><semantics id="S3.SS3.p3.2.m2.2a"><mrow id="S3.SS3.p3.2.m2.2.3.2" xref="S3.SS3.p3.2.m2.2.3.1.cmml"><mo stretchy="false" id="S3.SS3.p3.2.m2.2.3.2.1" xref="S3.SS3.p3.2.m2.2.3.1.cmml">(</mo><mi id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml">x</mi><mo id="S3.SS3.p3.2.m2.2.3.2.2" xref="S3.SS3.p3.2.m2.2.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p3.2.m2.2.2" xref="S3.SS3.p3.2.m2.2.2.cmml">𝒮</mi><mo stretchy="false" id="S3.SS3.p3.2.m2.2.3.2.3" xref="S3.SS3.p3.2.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.2b"><interval closure="open" id="S3.SS3.p3.2.m2.2.3.1.cmml" xref="S3.SS3.p3.2.m2.2.3.2"><ci id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1">𝑥</ci><ci id="S3.SS3.p3.2.m2.2.2.cmml" xref="S3.SS3.p3.2.m2.2.2">𝒮</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.2c">(x,\mathcal{S})</annotation></semantics></math>, we train the answer generator to produce the answer string <math id="S3.SS3.p3.3.m3.1" class="ltx_Math" alttext="s^{\ast}_{k}" display="inline"><semantics id="S3.SS3.p3.3.m3.1a"><msubsup id="S3.SS3.p3.3.m3.1.1" xref="S3.SS3.p3.3.m3.1.1.cmml"><mi id="S3.SS3.p3.3.m3.1.1.2.2" xref="S3.SS3.p3.3.m3.1.1.2.2.cmml">s</mi><mi id="S3.SS3.p3.3.m3.1.1.3" xref="S3.SS3.p3.3.m3.1.1.3.cmml">k</mi><mo id="S3.SS3.p3.3.m3.1.1.2.3" xref="S3.SS3.p3.3.m3.1.1.2.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m3.1b"><apply id="S3.SS3.p3.3.m3.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.3.m3.1.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1">subscript</csymbol><apply id="S3.SS3.p3.3.m3.1.1.2.cmml" xref="S3.SS3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.3.m3.1.1.2.1.cmml" xref="S3.SS3.p3.3.m3.1.1">superscript</csymbol><ci id="S3.SS3.p3.3.m3.1.1.2.2.cmml" xref="S3.SS3.p3.3.m3.1.1.2.2">𝑠</ci><ci id="S3.SS3.p3.3.m3.1.1.2.3.cmml" xref="S3.SS3.p3.3.m3.1.1.2.3">∗</ci></apply><ci id="S3.SS3.p3.3.m3.1.1.3.cmml" xref="S3.SS3.p3.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m3.1c">s^{\ast}_{k}</annotation></semantics></math> from the concatenation of <math id="S3.SS3.p3.4.m4.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS3.p3.4.m4.1a"><mi id="S3.SS3.p3.4.m4.1.1" xref="S3.SS3.p3.4.m4.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.4.m4.1b"><ci id="S3.SS3.p3.4.m4.1.1.cmml" xref="S3.SS3.p3.4.m4.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.4.m4.1c">x</annotation></semantics></math> and <math id="S3.SS3.p3.5.m5.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="S3.SS3.p3.5.m5.1a"><msub id="S3.SS3.p3.5.m5.1.1" xref="S3.SS3.p3.5.m5.1.1.cmml"><mi id="S3.SS3.p3.5.m5.1.1.2" xref="S3.SS3.p3.5.m5.1.1.2.cmml">z</mi><mi id="S3.SS3.p3.5.m5.1.1.3" xref="S3.SS3.p3.5.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.5.m5.1b"><apply id="S3.SS3.p3.5.m5.1.1.cmml" xref="S3.SS3.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.5.m5.1.1.1.cmml" xref="S3.SS3.p3.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p3.5.m5.1.1.2.cmml" xref="S3.SS3.p3.5.m5.1.1.2">𝑧</ci><ci id="S3.SS3.p3.5.m5.1.1.3.cmml" xref="S3.SS3.p3.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.5.m5.1c">z_{k}</annotation></semantics></math> (as shown in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>).
We select the most popular<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>There are 5 annotators for each OKVQA question. The popularity of an answer is measured by the number of annotators who voted for it.</span></span></span> human response <math id="S3.SS3.p3.6.m6.1" class="ltx_Math" alttext="s^{\ast}_{k}" display="inline"><semantics id="S3.SS3.p3.6.m6.1a"><msubsup id="S3.SS3.p3.6.m6.1.1" xref="S3.SS3.p3.6.m6.1.1.cmml"><mi id="S3.SS3.p3.6.m6.1.1.2.2" xref="S3.SS3.p3.6.m6.1.1.2.2.cmml">s</mi><mi id="S3.SS3.p3.6.m6.1.1.3" xref="S3.SS3.p3.6.m6.1.1.3.cmml">k</mi><mo id="S3.SS3.p3.6.m6.1.1.2.3" xref="S3.SS3.p3.6.m6.1.1.2.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.6.m6.1b"><apply id="S3.SS3.p3.6.m6.1.1.cmml" xref="S3.SS3.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.6.m6.1.1.1.cmml" xref="S3.SS3.p3.6.m6.1.1">subscript</csymbol><apply id="S3.SS3.p3.6.m6.1.1.2.cmml" xref="S3.SS3.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.6.m6.1.1.2.1.cmml" xref="S3.SS3.p3.6.m6.1.1">superscript</csymbol><ci id="S3.SS3.p3.6.m6.1.1.2.2.cmml" xref="S3.SS3.p3.6.m6.1.1.2.2">𝑠</ci><ci id="S3.SS3.p3.6.m6.1.1.2.3.cmml" xref="S3.SS3.p3.6.m6.1.1.2.3">∗</ci></apply><ci id="S3.SS3.p3.6.m6.1.1.3.cmml" xref="S3.SS3.p3.6.m6.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.6.m6.1c">s^{\ast}_{k}</annotation></semantics></math> from <math id="S3.SS3.p3.7.m7.1" class="ltx_Math" alttext="\mathcal{S}" display="inline"><semantics id="S3.SS3.p3.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p3.7.m7.1.1" xref="S3.SS3.p3.7.m7.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.7.m7.1b"><ci id="S3.SS3.p3.7.m7.1.1.cmml" xref="S3.SS3.p3.7.m7.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.7.m7.1c">\mathcal{S}</annotation></semantics></math> such that <math id="S3.SS3.p3.8.m8.1" class="ltx_Math" alttext="s^{\ast}_{k}" display="inline"><semantics id="S3.SS3.p3.8.m8.1a"><msubsup id="S3.SS3.p3.8.m8.1.1" xref="S3.SS3.p3.8.m8.1.1.cmml"><mi id="S3.SS3.p3.8.m8.1.1.2.2" xref="S3.SS3.p3.8.m8.1.1.2.2.cmml">s</mi><mi id="S3.SS3.p3.8.m8.1.1.3" xref="S3.SS3.p3.8.m8.1.1.3.cmml">k</mi><mo id="S3.SS3.p3.8.m8.1.1.2.3" xref="S3.SS3.p3.8.m8.1.1.2.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.8.m8.1b"><apply id="S3.SS3.p3.8.m8.1.1.cmml" xref="S3.SS3.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.8.m8.1.1.1.cmml" xref="S3.SS3.p3.8.m8.1.1">subscript</csymbol><apply id="S3.SS3.p3.8.m8.1.1.2.cmml" xref="S3.SS3.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.8.m8.1.1.2.1.cmml" xref="S3.SS3.p3.8.m8.1.1">superscript</csymbol><ci id="S3.SS3.p3.8.m8.1.1.2.2.cmml" xref="S3.SS3.p3.8.m8.1.1.2.2">𝑠</ci><ci id="S3.SS3.p3.8.m8.1.1.2.3.cmml" xref="S3.SS3.p3.8.m8.1.1.2.3">∗</ci></apply><ci id="S3.SS3.p3.8.m8.1.1.3.cmml" xref="S3.SS3.p3.8.m8.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.8.m8.1c">s^{\ast}_{k}</annotation></semantics></math> is contained in <math id="S3.SS3.p3.9.m9.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="S3.SS3.p3.9.m9.1a"><msub id="S3.SS3.p3.9.m9.1.1" xref="S3.SS3.p3.9.m9.1.1.cmml"><mi id="S3.SS3.p3.9.m9.1.1.2" xref="S3.SS3.p3.9.m9.1.1.2.cmml">z</mi><mi id="S3.SS3.p3.9.m9.1.1.3" xref="S3.SS3.p3.9.m9.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.9.m9.1b"><apply id="S3.SS3.p3.9.m9.1.1.cmml" xref="S3.SS3.p3.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.9.m9.1.1.1.cmml" xref="S3.SS3.p3.9.m9.1.1">subscript</csymbol><ci id="S3.SS3.p3.9.m9.1.1.2.cmml" xref="S3.SS3.p3.9.m9.1.1.2">𝑧</ci><ci id="S3.SS3.p3.9.m9.1.1.3.cmml" xref="S3.SS3.p3.9.m9.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.9.m9.1c">z_{k}</annotation></semantics></math>; in the case that <math id="S3.SS3.p3.10.m10.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="S3.SS3.p3.10.m10.1a"><msub id="S3.SS3.p3.10.m10.1.1" xref="S3.SS3.p3.10.m10.1.1.cmml"><mi id="S3.SS3.p3.10.m10.1.1.2" xref="S3.SS3.p3.10.m10.1.1.2.cmml">z</mi><mi id="S3.SS3.p3.10.m10.1.1.3" xref="S3.SS3.p3.10.m10.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.10.m10.1b"><apply id="S3.SS3.p3.10.m10.1.1.cmml" xref="S3.SS3.p3.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.10.m10.1.1.1.cmml" xref="S3.SS3.p3.10.m10.1.1">subscript</csymbol><ci id="S3.SS3.p3.10.m10.1.1.2.cmml" xref="S3.SS3.p3.10.m10.1.1.2">𝑧</ci><ci id="S3.SS3.p3.10.m10.1.1.3.cmml" xref="S3.SS3.p3.10.m10.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.10.m10.1c">z_{k}</annotation></semantics></math> does not contain any answer, the most popular answer <math id="S3.SS3.p3.11.m11.1" class="ltx_Math" alttext="s^{\ast}\in{\mathcal{S}}" display="inline"><semantics id="S3.SS3.p3.11.m11.1a"><mrow id="S3.SS3.p3.11.m11.1.1" xref="S3.SS3.p3.11.m11.1.1.cmml"><msup id="S3.SS3.p3.11.m11.1.1.2" xref="S3.SS3.p3.11.m11.1.1.2.cmml"><mi id="S3.SS3.p3.11.m11.1.1.2.2" xref="S3.SS3.p3.11.m11.1.1.2.2.cmml">s</mi><mo id="S3.SS3.p3.11.m11.1.1.2.3" xref="S3.SS3.p3.11.m11.1.1.2.3.cmml">∗</mo></msup><mo id="S3.SS3.p3.11.m11.1.1.1" xref="S3.SS3.p3.11.m11.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p3.11.m11.1.1.3" xref="S3.SS3.p3.11.m11.1.1.3.cmml">𝒮</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.11.m11.1b"><apply id="S3.SS3.p3.11.m11.1.1.cmml" xref="S3.SS3.p3.11.m11.1.1"><in id="S3.SS3.p3.11.m11.1.1.1.cmml" xref="S3.SS3.p3.11.m11.1.1.1"></in><apply id="S3.SS3.p3.11.m11.1.1.2.cmml" xref="S3.SS3.p3.11.m11.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p3.11.m11.1.1.2.1.cmml" xref="S3.SS3.p3.11.m11.1.1.2">superscript</csymbol><ci id="S3.SS3.p3.11.m11.1.1.2.2.cmml" xref="S3.SS3.p3.11.m11.1.1.2.2">𝑠</ci><ci id="S3.SS3.p3.11.m11.1.1.2.3.cmml" xref="S3.SS3.p3.11.m11.1.1.2.3">∗</ci></apply><ci id="S3.SS3.p3.11.m11.1.1.3.cmml" xref="S3.SS3.p3.11.m11.1.1.3">𝒮</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.11.m11.1c">s^{\ast}\in{\mathcal{S}}</annotation></semantics></math> is selected <math id="S3.SS3.p3.12.m12.1" class="ltx_Math" alttext="s^{\ast}_{k}=s^{\ast}" display="inline"><semantics id="S3.SS3.p3.12.m12.1a"><mrow id="S3.SS3.p3.12.m12.1.1" xref="S3.SS3.p3.12.m12.1.1.cmml"><msubsup id="S3.SS3.p3.12.m12.1.1.2" xref="S3.SS3.p3.12.m12.1.1.2.cmml"><mi id="S3.SS3.p3.12.m12.1.1.2.2.2" xref="S3.SS3.p3.12.m12.1.1.2.2.2.cmml">s</mi><mi id="S3.SS3.p3.12.m12.1.1.2.3" xref="S3.SS3.p3.12.m12.1.1.2.3.cmml">k</mi><mo id="S3.SS3.p3.12.m12.1.1.2.2.3" xref="S3.SS3.p3.12.m12.1.1.2.2.3.cmml">∗</mo></msubsup><mo id="S3.SS3.p3.12.m12.1.1.1" xref="S3.SS3.p3.12.m12.1.1.1.cmml">=</mo><msup id="S3.SS3.p3.12.m12.1.1.3" xref="S3.SS3.p3.12.m12.1.1.3.cmml"><mi id="S3.SS3.p3.12.m12.1.1.3.2" xref="S3.SS3.p3.12.m12.1.1.3.2.cmml">s</mi><mo id="S3.SS3.p3.12.m12.1.1.3.3" xref="S3.SS3.p3.12.m12.1.1.3.3.cmml">∗</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.12.m12.1b"><apply id="S3.SS3.p3.12.m12.1.1.cmml" xref="S3.SS3.p3.12.m12.1.1"><eq id="S3.SS3.p3.12.m12.1.1.1.cmml" xref="S3.SS3.p3.12.m12.1.1.1"></eq><apply id="S3.SS3.p3.12.m12.1.1.2.cmml" xref="S3.SS3.p3.12.m12.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p3.12.m12.1.1.2.1.cmml" xref="S3.SS3.p3.12.m12.1.1.2">subscript</csymbol><apply id="S3.SS3.p3.12.m12.1.1.2.2.cmml" xref="S3.SS3.p3.12.m12.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p3.12.m12.1.1.2.2.1.cmml" xref="S3.SS3.p3.12.m12.1.1.2">superscript</csymbol><ci id="S3.SS3.p3.12.m12.1.1.2.2.2.cmml" xref="S3.SS3.p3.12.m12.1.1.2.2.2">𝑠</ci><ci id="S3.SS3.p3.12.m12.1.1.2.2.3.cmml" xref="S3.SS3.p3.12.m12.1.1.2.2.3">∗</ci></apply><ci id="S3.SS3.p3.12.m12.1.1.2.3.cmml" xref="S3.SS3.p3.12.m12.1.1.2.3">𝑘</ci></apply><apply id="S3.SS3.p3.12.m12.1.1.3.cmml" xref="S3.SS3.p3.12.m12.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p3.12.m12.1.1.3.1.cmml" xref="S3.SS3.p3.12.m12.1.1.3">superscript</csymbol><ci id="S3.SS3.p3.12.m12.1.1.3.2.cmml" xref="S3.SS3.p3.12.m12.1.1.3.2">𝑠</ci><ci id="S3.SS3.p3.12.m12.1.1.3.3.cmml" xref="S3.SS3.p3.12.m12.1.1.3.3">∗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.12.m12.1c">s^{\ast}_{k}=s^{\ast}</annotation></semantics></math>.
Through this design, we customize the generation target <math id="S3.SS3.p3.13.m13.1" class="ltx_Math" alttext="s^{\ast}_{k}" display="inline"><semantics id="S3.SS3.p3.13.m13.1a"><msubsup id="S3.SS3.p3.13.m13.1.1" xref="S3.SS3.p3.13.m13.1.1.cmml"><mi id="S3.SS3.p3.13.m13.1.1.2.2" xref="S3.SS3.p3.13.m13.1.1.2.2.cmml">s</mi><mi id="S3.SS3.p3.13.m13.1.1.3" xref="S3.SS3.p3.13.m13.1.1.3.cmml">k</mi><mo id="S3.SS3.p3.13.m13.1.1.2.3" xref="S3.SS3.p3.13.m13.1.1.2.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.13.m13.1b"><apply id="S3.SS3.p3.13.m13.1.1.cmml" xref="S3.SS3.p3.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.13.m13.1.1.1.cmml" xref="S3.SS3.p3.13.m13.1.1">subscript</csymbol><apply id="S3.SS3.p3.13.m13.1.1.2.cmml" xref="S3.SS3.p3.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.13.m13.1.1.2.1.cmml" xref="S3.SS3.p3.13.m13.1.1">superscript</csymbol><ci id="S3.SS3.p3.13.m13.1.1.2.2.cmml" xref="S3.SS3.p3.13.m13.1.1.2.2">𝑠</ci><ci id="S3.SS3.p3.13.m13.1.1.2.3.cmml" xref="S3.SS3.p3.13.m13.1.1.2.3">∗</ci></apply><ci id="S3.SS3.p3.13.m13.1.1.3.cmml" xref="S3.SS3.p3.13.m13.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.13.m13.1c">s^{\ast}_{k}</annotation></semantics></math> for each retrieved document instead of training all <math id="S3.SS3.p3.14.m14.2" class="ltx_Math" alttext="(x,z_{k})" display="inline"><semantics id="S3.SS3.p3.14.m14.2a"><mrow id="S3.SS3.p3.14.m14.2.2.1" xref="S3.SS3.p3.14.m14.2.2.2.cmml"><mo stretchy="false" id="S3.SS3.p3.14.m14.2.2.1.2" xref="S3.SS3.p3.14.m14.2.2.2.cmml">(</mo><mi id="S3.SS3.p3.14.m14.1.1" xref="S3.SS3.p3.14.m14.1.1.cmml">x</mi><mo id="S3.SS3.p3.14.m14.2.2.1.3" xref="S3.SS3.p3.14.m14.2.2.2.cmml">,</mo><msub id="S3.SS3.p3.14.m14.2.2.1.1" xref="S3.SS3.p3.14.m14.2.2.1.1.cmml"><mi id="S3.SS3.p3.14.m14.2.2.1.1.2" xref="S3.SS3.p3.14.m14.2.2.1.1.2.cmml">z</mi><mi id="S3.SS3.p3.14.m14.2.2.1.1.3" xref="S3.SS3.p3.14.m14.2.2.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="S3.SS3.p3.14.m14.2.2.1.4" xref="S3.SS3.p3.14.m14.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.14.m14.2b"><interval closure="open" id="S3.SS3.p3.14.m14.2.2.2.cmml" xref="S3.SS3.p3.14.m14.2.2.1"><ci id="S3.SS3.p3.14.m14.1.1.cmml" xref="S3.SS3.p3.14.m14.1.1">𝑥</ci><apply id="S3.SS3.p3.14.m14.2.2.1.1.cmml" xref="S3.SS3.p3.14.m14.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.14.m14.2.2.1.1.1.cmml" xref="S3.SS3.p3.14.m14.2.2.1.1">subscript</csymbol><ci id="S3.SS3.p3.14.m14.2.2.1.1.2.cmml" xref="S3.SS3.p3.14.m14.2.2.1.1.2">𝑧</ci><ci id="S3.SS3.p3.14.m14.2.2.1.1.3.cmml" xref="S3.SS3.p3.14.m14.2.2.1.1.3">𝑘</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.14.m14.2c">(x,z_{k})</annotation></semantics></math> pairs towards the most popular human response <math id="S3.SS3.p3.15.m15.1" class="ltx_Math" alttext="s^{\ast}" display="inline"><semantics id="S3.SS3.p3.15.m15.1a"><msup id="S3.SS3.p3.15.m15.1.1" xref="S3.SS3.p3.15.m15.1.1.cmml"><mi id="S3.SS3.p3.15.m15.1.1.2" xref="S3.SS3.p3.15.m15.1.1.2.cmml">s</mi><mo id="S3.SS3.p3.15.m15.1.1.3" xref="S3.SS3.p3.15.m15.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.15.m15.1b"><apply id="S3.SS3.p3.15.m15.1.1.cmml" xref="S3.SS3.p3.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.15.m15.1.1.1.cmml" xref="S3.SS3.p3.15.m15.1.1">superscript</csymbol><ci id="S3.SS3.p3.15.m15.1.1.2.cmml" xref="S3.SS3.p3.15.m15.1.1.2">𝑠</ci><ci id="S3.SS3.p3.15.m15.1.1.3.cmml" xref="S3.SS3.p3.15.m15.1.1.3">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.15.m15.1c">s^{\ast}</annotation></semantics></math>. This has been proved to improve the system performance (Appendix <a href="#A2.SS1" title="B.1 Full Version of Table 1 ‣ Appendix B Supplementary Tables and Figures ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1</span></a>).</p>
</div>
<div id="S3.SS3.p4" class="ltx_para">
<p id="S3.SS3.p4.1" class="ltx_p">We identify two subsets of the retrieved documents <math id="S3.SS3.p4.1.m1.1" class="ltx_Math" alttext="\{z_{k}\}_{k=1}^{K}" display="inline"><semantics id="S3.SS3.p4.1.m1.1a"><msubsup id="S3.SS3.p4.1.m1.1.1" xref="S3.SS3.p4.1.m1.1.1.cmml"><mrow id="S3.SS3.p4.1.m1.1.1.1.1.1" xref="S3.SS3.p4.1.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS3.p4.1.m1.1.1.1.1.1.2" xref="S3.SS3.p4.1.m1.1.1.1.1.2.cmml">{</mo><msub id="S3.SS3.p4.1.m1.1.1.1.1.1.1" xref="S3.SS3.p4.1.m1.1.1.1.1.1.1.cmml"><mi id="S3.SS3.p4.1.m1.1.1.1.1.1.1.2" xref="S3.SS3.p4.1.m1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.SS3.p4.1.m1.1.1.1.1.1.1.3" xref="S3.SS3.p4.1.m1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="S3.SS3.p4.1.m1.1.1.1.1.1.3" xref="S3.SS3.p4.1.m1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS3.p4.1.m1.1.1.1.3" xref="S3.SS3.p4.1.m1.1.1.1.3.cmml"><mi id="S3.SS3.p4.1.m1.1.1.1.3.2" xref="S3.SS3.p4.1.m1.1.1.1.3.2.cmml">k</mi><mo id="S3.SS3.p4.1.m1.1.1.1.3.1" xref="S3.SS3.p4.1.m1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS3.p4.1.m1.1.1.1.3.3" xref="S3.SS3.p4.1.m1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS3.p4.1.m1.1.1.3" xref="S3.SS3.p4.1.m1.1.1.3.cmml">K</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.1.m1.1b"><apply id="S3.SS3.p4.1.m1.1.1.cmml" xref="S3.SS3.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.1.m1.1.1.2.cmml" xref="S3.SS3.p4.1.m1.1.1">superscript</csymbol><apply id="S3.SS3.p4.1.m1.1.1.1.cmml" xref="S3.SS3.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.1.m1.1.1.1.2.cmml" xref="S3.SS3.p4.1.m1.1.1">subscript</csymbol><set id="S3.SS3.p4.1.m1.1.1.1.1.2.cmml" xref="S3.SS3.p4.1.m1.1.1.1.1.1"><apply id="S3.SS3.p4.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p4.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p4.1.m1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.SS3.p4.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p4.1.m1.1.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.SS3.p4.1.m1.1.1.1.3.cmml" xref="S3.SS3.p4.1.m1.1.1.1.3"><eq id="S3.SS3.p4.1.m1.1.1.1.3.1.cmml" xref="S3.SS3.p4.1.m1.1.1.1.3.1"></eq><ci id="S3.SS3.p4.1.m1.1.1.1.3.2.cmml" xref="S3.SS3.p4.1.m1.1.1.1.3.2">𝑘</ci><cn type="integer" id="S3.SS3.p4.1.m1.1.1.1.3.3.cmml" xref="S3.SS3.p4.1.m1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS3.p4.1.m1.1.1.3.cmml" xref="S3.SS3.p4.1.m1.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.1.m1.1c">\{z_{k}\}_{k=1}^{K}</annotation></semantics></math> based on pseudo relevance labels and model predictions:</p>
<table id="S3.E5" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E5X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E5X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle{\mathcal{P}}^{+}(x,\mathcal{S})" display="inline"><semantics id="S3.E5X.2.1.1.m1.2a"><mrow id="S3.E5X.2.1.1.m1.2.3" xref="S3.E5X.2.1.1.m1.2.3.cmml"><msup id="S3.E5X.2.1.1.m1.2.3.2" xref="S3.E5X.2.1.1.m1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5X.2.1.1.m1.2.3.2.2" xref="S3.E5X.2.1.1.m1.2.3.2.2.cmml">𝒫</mi><mo id="S3.E5X.2.1.1.m1.2.3.2.3" xref="S3.E5X.2.1.1.m1.2.3.2.3.cmml">+</mo></msup><mo lspace="0em" rspace="0em" id="S3.E5X.2.1.1.m1.2.3.1" xref="S3.E5X.2.1.1.m1.2.3.1.cmml">​</mo><mrow id="S3.E5X.2.1.1.m1.2.3.3.2" xref="S3.E5X.2.1.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S3.E5X.2.1.1.m1.2.3.3.2.1" xref="S3.E5X.2.1.1.m1.2.3.3.1.cmml">(</mo><mi id="S3.E5X.2.1.1.m1.1.1" xref="S3.E5X.2.1.1.m1.1.1.cmml">x</mi><mo id="S3.E5X.2.1.1.m1.2.3.3.2.2" xref="S3.E5X.2.1.1.m1.2.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E5X.2.1.1.m1.2.2" xref="S3.E5X.2.1.1.m1.2.2.cmml">𝒮</mi><mo stretchy="false" id="S3.E5X.2.1.1.m1.2.3.3.2.3" xref="S3.E5X.2.1.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5X.2.1.1.m1.2b"><apply id="S3.E5X.2.1.1.m1.2.3.cmml" xref="S3.E5X.2.1.1.m1.2.3"><times id="S3.E5X.2.1.1.m1.2.3.1.cmml" xref="S3.E5X.2.1.1.m1.2.3.1"></times><apply id="S3.E5X.2.1.1.m1.2.3.2.cmml" xref="S3.E5X.2.1.1.m1.2.3.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.2.3.2.1.cmml" xref="S3.E5X.2.1.1.m1.2.3.2">superscript</csymbol><ci id="S3.E5X.2.1.1.m1.2.3.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.3.2.2">𝒫</ci><plus id="S3.E5X.2.1.1.m1.2.3.2.3.cmml" xref="S3.E5X.2.1.1.m1.2.3.2.3"></plus></apply><interval closure="open" id="S3.E5X.2.1.1.m1.2.3.3.1.cmml" xref="S3.E5X.2.1.1.m1.2.3.3.2"><ci id="S3.E5X.2.1.1.m1.1.1.cmml" xref="S3.E5X.2.1.1.m1.1.1">𝑥</ci><ci id="S3.E5X.2.1.1.m1.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.2">𝒮</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5X.2.1.1.m1.2c">\displaystyle{\mathcal{P}}^{+}(x,\mathcal{S})</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E5X.3.2.2.m1.3" class="ltx_Math" alttext="\displaystyle=\{k:y_{k}=s_{k}^{\ast}\land H(z_{k},\mathcal{S})=1\};" display="inline"><semantics id="S3.E5X.3.2.2.m1.3a"><mrow id="S3.E5X.3.2.2.m1.3.3.1" xref="S3.E5X.3.2.2.m1.3.3.1.1.cmml"><mrow id="S3.E5X.3.2.2.m1.3.3.1.1" xref="S3.E5X.3.2.2.m1.3.3.1.1.cmml"><mi id="S3.E5X.3.2.2.m1.3.3.1.1.3" xref="S3.E5X.3.2.2.m1.3.3.1.1.3.cmml"></mi><mo id="S3.E5X.3.2.2.m1.3.3.1.1.2" xref="S3.E5X.3.2.2.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E5X.3.2.2.m1.3.3.1.1.1.1" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.2.cmml"><mo stretchy="false" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.2" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.2.1.cmml">{</mo><mi id="S3.E5X.3.2.2.m1.2.2" xref="S3.E5X.3.2.2.m1.2.2.cmml">k</mi><mo lspace="0.278em" rspace="0.278em" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.3" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.2.1.cmml">:</mo><mrow id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.cmml"><msub id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3.cmml"><mi id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3.2" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3.2.cmml">y</mi><mi id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3.3" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3.3.cmml">k</mi></msub><mo id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.4" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.4.cmml">=</mo><mrow id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.cmml"><msubsup id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.cmml"><mi id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.2" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.2.cmml">s</mi><mi id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.3" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.3.cmml">k</mi><mo id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.3" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.3.cmml">∗</mo></msubsup><mo id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.2" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.2.cmml">∧</mo><mrow id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.cmml"><mi id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.3" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.3.cmml">H</mi><mo lspace="0em" rspace="0em" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.2" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.2" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">(</mo><msub id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.3" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E5X.3.2.2.m1.1.1" xref="S3.E5X.3.2.2.m1.1.1.cmml">𝒮</mi><mo stretchy="false" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.4" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.5" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.5.cmml">=</mo><mn id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.6" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.6.cmml">1</mn></mrow><mo stretchy="false" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.4" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.2.1.cmml">}</mo></mrow></mrow><mo id="S3.E5X.3.2.2.m1.3.3.1.2" xref="S3.E5X.3.2.2.m1.3.3.1.1.cmml">;</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5X.3.2.2.m1.3b"><apply id="S3.E5X.3.2.2.m1.3.3.1.1.cmml" xref="S3.E5X.3.2.2.m1.3.3.1"><eq id="S3.E5X.3.2.2.m1.3.3.1.1.2.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.2"></eq><csymbol cd="latexml" id="S3.E5X.3.2.2.m1.3.3.1.1.3.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.3">absent</csymbol><apply id="S3.E5X.3.2.2.m1.3.3.1.1.1.2.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1"><csymbol cd="latexml" id="S3.E5X.3.2.2.m1.3.3.1.1.1.2.1.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.2">conditional-set</csymbol><ci id="S3.E5X.3.2.2.m1.2.2.cmml" xref="S3.E5X.3.2.2.m1.2.2">𝑘</ci><apply id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1"><and id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1a.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1"></and><apply id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1b.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1"><eq id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.4.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.4"></eq><apply id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3.1.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3.2.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3.2">𝑦</ci><ci id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3.3.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.3.3">𝑘</ci></apply><apply id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1"><and id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.2"></and><apply id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.1.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3">superscript</csymbol><apply id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.2">𝑠</ci><ci id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.3">𝑘</ci></apply><ci id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.3.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.3.3">∗</ci></apply><apply id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1"><times id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.2"></times><ci id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.3">𝐻</ci><interval closure="open" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1"><apply id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><ci id="S3.E5X.3.2.2.m1.1.1.cmml" xref="S3.E5X.3.2.2.m1.1.1">𝒮</ci></interval></apply></apply></apply><apply id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1c.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1"><eq id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.5.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.5"></eq><share href="#S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.1.cmml" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1d.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1"></share><cn type="integer" id="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.6.cmml" xref="S3.E5X.3.2.2.m1.3.3.1.1.1.1.1.6">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5X.3.2.2.m1.3c">\displaystyle=\{k:y_{k}=s_{k}^{\ast}\land H(z_{k},\mathcal{S})=1\};</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(5)</span></td>
</tr>
<tr id="S3.E5Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E5Xa.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle{\mathcal{P}}^{-}(x,\mathcal{S})" display="inline"><semantics id="S3.E5Xa.2.1.1.m1.2a"><mrow id="S3.E5Xa.2.1.1.m1.2.3" xref="S3.E5Xa.2.1.1.m1.2.3.cmml"><msup id="S3.E5Xa.2.1.1.m1.2.3.2" xref="S3.E5Xa.2.1.1.m1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5Xa.2.1.1.m1.2.3.2.2" xref="S3.E5Xa.2.1.1.m1.2.3.2.2.cmml">𝒫</mi><mo id="S3.E5Xa.2.1.1.m1.2.3.2.3" xref="S3.E5Xa.2.1.1.m1.2.3.2.3.cmml">−</mo></msup><mo lspace="0em" rspace="0em" id="S3.E5Xa.2.1.1.m1.2.3.1" xref="S3.E5Xa.2.1.1.m1.2.3.1.cmml">​</mo><mrow id="S3.E5Xa.2.1.1.m1.2.3.3.2" xref="S3.E5Xa.2.1.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S3.E5Xa.2.1.1.m1.2.3.3.2.1" xref="S3.E5Xa.2.1.1.m1.2.3.3.1.cmml">(</mo><mi id="S3.E5Xa.2.1.1.m1.1.1" xref="S3.E5Xa.2.1.1.m1.1.1.cmml">x</mi><mo id="S3.E5Xa.2.1.1.m1.2.3.3.2.2" xref="S3.E5Xa.2.1.1.m1.2.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E5Xa.2.1.1.m1.2.2" xref="S3.E5Xa.2.1.1.m1.2.2.cmml">𝒮</mi><mo stretchy="false" id="S3.E5Xa.2.1.1.m1.2.3.3.2.3" xref="S3.E5Xa.2.1.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5Xa.2.1.1.m1.2b"><apply id="S3.E5Xa.2.1.1.m1.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.3"><times id="S3.E5Xa.2.1.1.m1.2.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.3.1"></times><apply id="S3.E5Xa.2.1.1.m1.2.3.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.3.2"><csymbol cd="ambiguous" id="S3.E5Xa.2.1.1.m1.2.3.2.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.3.2">superscript</csymbol><ci id="S3.E5Xa.2.1.1.m1.2.3.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.3.2.2">𝒫</ci><minus id="S3.E5Xa.2.1.1.m1.2.3.2.3.cmml" xref="S3.E5Xa.2.1.1.m1.2.3.2.3"></minus></apply><interval closure="open" id="S3.E5Xa.2.1.1.m1.2.3.3.1.cmml" xref="S3.E5Xa.2.1.1.m1.2.3.3.2"><ci id="S3.E5Xa.2.1.1.m1.1.1.cmml" xref="S3.E5Xa.2.1.1.m1.1.1">𝑥</ci><ci id="S3.E5Xa.2.1.1.m1.2.2.cmml" xref="S3.E5Xa.2.1.1.m1.2.2">𝒮</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5Xa.2.1.1.m1.2c">\displaystyle{\mathcal{P}}^{-}(x,\mathcal{S})</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E5Xa.3.2.2.m1.3" class="ltx_Math" alttext="\displaystyle=\{k:y_{k}\neq s_{k}^{\ast}\land H(z_{k},\mathcal{S})=0\}." display="inline"><semantics id="S3.E5Xa.3.2.2.m1.3a"><mrow id="S3.E5Xa.3.2.2.m1.3.3.1" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.cmml"><mrow id="S3.E5Xa.3.2.2.m1.3.3.1.1" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.cmml"><mi id="S3.E5Xa.3.2.2.m1.3.3.1.1.3" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.3.cmml"></mi><mo id="S3.E5Xa.3.2.2.m1.3.3.1.1.2" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.2.cmml"><mo stretchy="false" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.2" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.2.1.cmml">{</mo><mi id="S3.E5Xa.3.2.2.m1.2.2" xref="S3.E5Xa.3.2.2.m1.2.2.cmml">k</mi><mo lspace="0.278em" rspace="0.278em" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.3" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.2.1.cmml">:</mo><mrow id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.cmml"><msub id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3.cmml"><mi id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3.2" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3.2.cmml">y</mi><mi id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3.3" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3.3.cmml">k</mi></msub><mo id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.4" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.4.cmml">≠</mo><mrow id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.cmml"><msubsup id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.cmml"><mi id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.2" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.2.cmml">s</mi><mi id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.3" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.3.cmml">k</mi><mo id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.3" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.3.cmml">∗</mo></msubsup><mo id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.2" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.2.cmml">∧</mo><mrow id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.cmml"><mi id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.3" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.3.cmml">H</mi><mo lspace="0em" rspace="0em" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.2" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.2" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">(</mo><msub id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.3" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E5Xa.3.2.2.m1.1.1" xref="S3.E5Xa.3.2.2.m1.1.1.cmml">𝒮</mi><mo stretchy="false" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.4" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.5" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.5.cmml">=</mo><mn id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.6" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.6.cmml">0</mn></mrow><mo stretchy="false" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.4" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.2.1.cmml">}</mo></mrow></mrow><mo lspace="0em" id="S3.E5Xa.3.2.2.m1.3.3.1.2" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5Xa.3.2.2.m1.3b"><apply id="S3.E5Xa.3.2.2.m1.3.3.1.1.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1"><eq id="S3.E5Xa.3.2.2.m1.3.3.1.1.2.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.2"></eq><csymbol cd="latexml" id="S3.E5Xa.3.2.2.m1.3.3.1.1.3.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.3">absent</csymbol><apply id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.2.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1"><csymbol cd="latexml" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.2.1.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.2">conditional-set</csymbol><ci id="S3.E5Xa.3.2.2.m1.2.2.cmml" xref="S3.E5Xa.3.2.2.m1.2.2">𝑘</ci><apply id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1"><and id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1a.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1"></and><apply id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1b.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1"><neq id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.4.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.4"></neq><apply id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3.1.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3.2.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3.2">𝑦</ci><ci id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3.3.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.3.3">𝑘</ci></apply><apply id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1"><and id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.2"></and><apply id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.1.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3">superscript</csymbol><apply id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.2">𝑠</ci><ci id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.2.3">𝑘</ci></apply><ci id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.3.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.3.3">∗</ci></apply><apply id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1"><times id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.2"></times><ci id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.3">𝐻</ci><interval closure="open" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1"><apply id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><ci id="S3.E5Xa.3.2.2.m1.1.1.cmml" xref="S3.E5Xa.3.2.2.m1.1.1">𝒮</ci></interval></apply></apply></apply><apply id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1c.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1"><eq id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.5.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.5"></eq><share href="#S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.1.cmml" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1d.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1"></share><cn type="integer" id="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.6.cmml" xref="S3.E5Xa.3.2.2.m1.3.3.1.1.1.1.1.6">0</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5Xa.3.2.2.m1.3c">\displaystyle=\{k:y_{k}\neq s_{k}^{\ast}\land H(z_{k},\mathcal{S})=0\}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p id="S3.SS3.p4.8" class="ltx_p"><math id="S3.SS3.p4.2.m1.1" class="ltx_Math" alttext="{\mathcal{P}}^{+}" display="inline"><semantics id="S3.SS3.p4.2.m1.1a"><msup id="S3.SS3.p4.2.m1.1.1" xref="S3.SS3.p4.2.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p4.2.m1.1.1.2" xref="S3.SS3.p4.2.m1.1.1.2.cmml">𝒫</mi><mo id="S3.SS3.p4.2.m1.1.1.3" xref="S3.SS3.p4.2.m1.1.1.3.cmml">+</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.2.m1.1b"><apply id="S3.SS3.p4.2.m1.1.1.cmml" xref="S3.SS3.p4.2.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.2.m1.1.1.1.cmml" xref="S3.SS3.p4.2.m1.1.1">superscript</csymbol><ci id="S3.SS3.p4.2.m1.1.1.2.cmml" xref="S3.SS3.p4.2.m1.1.1.2">𝒫</ci><plus id="S3.SS3.p4.2.m1.1.1.3.cmml" xref="S3.SS3.p4.2.m1.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.2.m1.1c">{\mathcal{P}}^{+}</annotation></semantics></math> are indices of pseudo relevant documents that also help the model generate popular answers whereas <math id="S3.SS3.p4.3.m2.1" class="ltx_Math" alttext="{\mathcal{P}}^{-}" display="inline"><semantics id="S3.SS3.p4.3.m2.1a"><msup id="S3.SS3.p4.3.m2.1.1" xref="S3.SS3.p4.3.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p4.3.m2.1.1.2" xref="S3.SS3.p4.3.m2.1.1.2.cmml">𝒫</mi><mo id="S3.SS3.p4.3.m2.1.1.3" xref="S3.SS3.p4.3.m2.1.1.3.cmml">−</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.3.m2.1b"><apply id="S3.SS3.p4.3.m2.1.1.cmml" xref="S3.SS3.p4.3.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.3.m2.1.1.1.cmml" xref="S3.SS3.p4.3.m2.1.1">superscript</csymbol><ci id="S3.SS3.p4.3.m2.1.1.2.cmml" xref="S3.SS3.p4.3.m2.1.1.2">𝒫</ci><minus id="S3.SS3.p4.3.m2.1.1.3.cmml" xref="S3.SS3.p4.3.m2.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.3.m2.1c">{\mathcal{P}}^{-}</annotation></semantics></math> identifies documents not expected to benefit answer generation.
In joint training, we intend to increase the scores of documents in <math id="S3.SS3.p4.4.m3.1" class="ltx_Math" alttext="{\mathcal{P}}^{+}" display="inline"><semantics id="S3.SS3.p4.4.m3.1a"><msup id="S3.SS3.p4.4.m3.1.1" xref="S3.SS3.p4.4.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p4.4.m3.1.1.2" xref="S3.SS3.p4.4.m3.1.1.2.cmml">𝒫</mi><mo id="S3.SS3.p4.4.m3.1.1.3" xref="S3.SS3.p4.4.m3.1.1.3.cmml">+</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.4.m3.1b"><apply id="S3.SS3.p4.4.m3.1.1.cmml" xref="S3.SS3.p4.4.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.4.m3.1.1.1.cmml" xref="S3.SS3.p4.4.m3.1.1">superscript</csymbol><ci id="S3.SS3.p4.4.m3.1.1.2.cmml" xref="S3.SS3.p4.4.m3.1.1.2">𝒫</ci><plus id="S3.SS3.p4.4.m3.1.1.3.cmml" xref="S3.SS3.p4.4.m3.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.4.m3.1c">{\mathcal{P}}^{+}</annotation></semantics></math> while decreasing the scores for those in <math id="S3.SS3.p4.5.m4.1" class="ltx_Math" alttext="{\mathcal{P}}^{-}" display="inline"><semantics id="S3.SS3.p4.5.m4.1a"><msup id="S3.SS3.p4.5.m4.1.1" xref="S3.SS3.p4.5.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p4.5.m4.1.1.2" xref="S3.SS3.p4.5.m4.1.1.2.cmml">𝒫</mi><mo id="S3.SS3.p4.5.m4.1.1.3" xref="S3.SS3.p4.5.m4.1.1.3.cmml">−</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.5.m4.1b"><apply id="S3.SS3.p4.5.m4.1.1.cmml" xref="S3.SS3.p4.5.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.5.m4.1.1.1.cmml" xref="S3.SS3.p4.5.m4.1.1">superscript</csymbol><ci id="S3.SS3.p4.5.m4.1.1.2.cmml" xref="S3.SS3.p4.5.m4.1.1.2">𝒫</ci><minus id="S3.SS3.p4.5.m4.1.1.3.cmml" xref="S3.SS3.p4.5.m4.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.5.m4.1c">{\mathcal{P}}^{-}</annotation></semantics></math>.
<math id="S3.SS3.p4.6.m5.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="S3.SS3.p4.6.m5.1a"><msub id="S3.SS3.p4.6.m5.1.1" xref="S3.SS3.p4.6.m5.1.1.cmml"><mi id="S3.SS3.p4.6.m5.1.1.2" xref="S3.SS3.p4.6.m5.1.1.2.cmml">z</mi><mi id="S3.SS3.p4.6.m5.1.1.3" xref="S3.SS3.p4.6.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.6.m5.1b"><apply id="S3.SS3.p4.6.m5.1.1.cmml" xref="S3.SS3.p4.6.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.6.m5.1.1.1.cmml" xref="S3.SS3.p4.6.m5.1.1">subscript</csymbol><ci id="S3.SS3.p4.6.m5.1.1.2.cmml" xref="S3.SS3.p4.6.m5.1.1.2">𝑧</ci><ci id="S3.SS3.p4.6.m5.1.1.3.cmml" xref="S3.SS3.p4.6.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.6.m5.1c">z_{k}</annotation></semantics></math> will be put into the negative set if it does not contain any answer (<math id="S3.SS3.p4.7.m6.2" class="ltx_Math" alttext="H(z_{k},S)=0" display="inline"><semantics id="S3.SS3.p4.7.m6.2a"><mrow id="S3.SS3.p4.7.m6.2.2" xref="S3.SS3.p4.7.m6.2.2.cmml"><mrow id="S3.SS3.p4.7.m6.2.2.1" xref="S3.SS3.p4.7.m6.2.2.1.cmml"><mi id="S3.SS3.p4.7.m6.2.2.1.3" xref="S3.SS3.p4.7.m6.2.2.1.3.cmml">H</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.7.m6.2.2.1.2" xref="S3.SS3.p4.7.m6.2.2.1.2.cmml">​</mo><mrow id="S3.SS3.p4.7.m6.2.2.1.1.1" xref="S3.SS3.p4.7.m6.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.SS3.p4.7.m6.2.2.1.1.1.2" xref="S3.SS3.p4.7.m6.2.2.1.1.2.cmml">(</mo><msub id="S3.SS3.p4.7.m6.2.2.1.1.1.1" xref="S3.SS3.p4.7.m6.2.2.1.1.1.1.cmml"><mi id="S3.SS3.p4.7.m6.2.2.1.1.1.1.2" xref="S3.SS3.p4.7.m6.2.2.1.1.1.1.2.cmml">z</mi><mi id="S3.SS3.p4.7.m6.2.2.1.1.1.1.3" xref="S3.SS3.p4.7.m6.2.2.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.SS3.p4.7.m6.2.2.1.1.1.3" xref="S3.SS3.p4.7.m6.2.2.1.1.2.cmml">,</mo><mi id="S3.SS3.p4.7.m6.1.1" xref="S3.SS3.p4.7.m6.1.1.cmml">S</mi><mo stretchy="false" id="S3.SS3.p4.7.m6.2.2.1.1.1.4" xref="S3.SS3.p4.7.m6.2.2.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p4.7.m6.2.2.2" xref="S3.SS3.p4.7.m6.2.2.2.cmml">=</mo><mn id="S3.SS3.p4.7.m6.2.2.3" xref="S3.SS3.p4.7.m6.2.2.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.7.m6.2b"><apply id="S3.SS3.p4.7.m6.2.2.cmml" xref="S3.SS3.p4.7.m6.2.2"><eq id="S3.SS3.p4.7.m6.2.2.2.cmml" xref="S3.SS3.p4.7.m6.2.2.2"></eq><apply id="S3.SS3.p4.7.m6.2.2.1.cmml" xref="S3.SS3.p4.7.m6.2.2.1"><times id="S3.SS3.p4.7.m6.2.2.1.2.cmml" xref="S3.SS3.p4.7.m6.2.2.1.2"></times><ci id="S3.SS3.p4.7.m6.2.2.1.3.cmml" xref="S3.SS3.p4.7.m6.2.2.1.3">𝐻</ci><interval closure="open" id="S3.SS3.p4.7.m6.2.2.1.1.2.cmml" xref="S3.SS3.p4.7.m6.2.2.1.1.1"><apply id="S3.SS3.p4.7.m6.2.2.1.1.1.1.cmml" xref="S3.SS3.p4.7.m6.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.7.m6.2.2.1.1.1.1.1.cmml" xref="S3.SS3.p4.7.m6.2.2.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p4.7.m6.2.2.1.1.1.1.2.cmml" xref="S3.SS3.p4.7.m6.2.2.1.1.1.1.2">𝑧</ci><ci id="S3.SS3.p4.7.m6.2.2.1.1.1.1.3.cmml" xref="S3.SS3.p4.7.m6.2.2.1.1.1.1.3">𝑘</ci></apply><ci id="S3.SS3.p4.7.m6.1.1.cmml" xref="S3.SS3.p4.7.m6.1.1">𝑆</ci></interval></apply><cn type="integer" id="S3.SS3.p4.7.m6.2.2.3.cmml" xref="S3.SS3.p4.7.m6.2.2.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.7.m6.2c">H(z_{k},S)=0</annotation></semantics></math>) and the generation is incorrect (<math id="S3.SS3.p4.8.m7.1" class="ltx_Math" alttext="y_{k}\neq s_{k}^{*}" display="inline"><semantics id="S3.SS3.p4.8.m7.1a"><mrow id="S3.SS3.p4.8.m7.1.1" xref="S3.SS3.p4.8.m7.1.1.cmml"><msub id="S3.SS3.p4.8.m7.1.1.2" xref="S3.SS3.p4.8.m7.1.1.2.cmml"><mi id="S3.SS3.p4.8.m7.1.1.2.2" xref="S3.SS3.p4.8.m7.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p4.8.m7.1.1.2.3" xref="S3.SS3.p4.8.m7.1.1.2.3.cmml">k</mi></msub><mo id="S3.SS3.p4.8.m7.1.1.1" xref="S3.SS3.p4.8.m7.1.1.1.cmml">≠</mo><msubsup id="S3.SS3.p4.8.m7.1.1.3" xref="S3.SS3.p4.8.m7.1.1.3.cmml"><mi id="S3.SS3.p4.8.m7.1.1.3.2.2" xref="S3.SS3.p4.8.m7.1.1.3.2.2.cmml">s</mi><mi id="S3.SS3.p4.8.m7.1.1.3.2.3" xref="S3.SS3.p4.8.m7.1.1.3.2.3.cmml">k</mi><mo id="S3.SS3.p4.8.m7.1.1.3.3" xref="S3.SS3.p4.8.m7.1.1.3.3.cmml">∗</mo></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.8.m7.1b"><apply id="S3.SS3.p4.8.m7.1.1.cmml" xref="S3.SS3.p4.8.m7.1.1"><neq id="S3.SS3.p4.8.m7.1.1.1.cmml" xref="S3.SS3.p4.8.m7.1.1.1"></neq><apply id="S3.SS3.p4.8.m7.1.1.2.cmml" xref="S3.SS3.p4.8.m7.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p4.8.m7.1.1.2.1.cmml" xref="S3.SS3.p4.8.m7.1.1.2">subscript</csymbol><ci id="S3.SS3.p4.8.m7.1.1.2.2.cmml" xref="S3.SS3.p4.8.m7.1.1.2.2">𝑦</ci><ci id="S3.SS3.p4.8.m7.1.1.2.3.cmml" xref="S3.SS3.p4.8.m7.1.1.2.3">𝑘</ci></apply><apply id="S3.SS3.p4.8.m7.1.1.3.cmml" xref="S3.SS3.p4.8.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p4.8.m7.1.1.3.1.cmml" xref="S3.SS3.p4.8.m7.1.1.3">superscript</csymbol><apply id="S3.SS3.p4.8.m7.1.1.3.2.cmml" xref="S3.SS3.p4.8.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p4.8.m7.1.1.3.2.1.cmml" xref="S3.SS3.p4.8.m7.1.1.3">subscript</csymbol><ci id="S3.SS3.p4.8.m7.1.1.3.2.2.cmml" xref="S3.SS3.p4.8.m7.1.1.3.2.2">𝑠</ci><ci id="S3.SS3.p4.8.m7.1.1.3.2.3.cmml" xref="S3.SS3.p4.8.m7.1.1.3.2.3">𝑘</ci></apply><times id="S3.SS3.p4.8.m7.1.1.3.3.cmml" xref="S3.SS3.p4.8.m7.1.1.3.3"></times></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.8.m7.1c">y_{k}\neq s_{k}^{*}</annotation></semantics></math>).<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>Note that in this case <math id="footnote2.m1.2" class="ltx_Math" alttext="H(z_{k},S)=0" display="inline"><semantics id="footnote2.m1.2b"><mrow id="footnote2.m1.2.2" xref="footnote2.m1.2.2.cmml"><mrow id="footnote2.m1.2.2.1" xref="footnote2.m1.2.2.1.cmml"><mi id="footnote2.m1.2.2.1.3" xref="footnote2.m1.2.2.1.3.cmml">H</mi><mo lspace="0em" rspace="0em" id="footnote2.m1.2.2.1.2" xref="footnote2.m1.2.2.1.2.cmml">​</mo><mrow id="footnote2.m1.2.2.1.1.1" xref="footnote2.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="footnote2.m1.2.2.1.1.1.2" xref="footnote2.m1.2.2.1.1.2.cmml">(</mo><msub id="footnote2.m1.2.2.1.1.1.1" xref="footnote2.m1.2.2.1.1.1.1.cmml"><mi id="footnote2.m1.2.2.1.1.1.1.2" xref="footnote2.m1.2.2.1.1.1.1.2.cmml">z</mi><mi id="footnote2.m1.2.2.1.1.1.1.3" xref="footnote2.m1.2.2.1.1.1.1.3.cmml">k</mi></msub><mo id="footnote2.m1.2.2.1.1.1.3" xref="footnote2.m1.2.2.1.1.2.cmml">,</mo><mi id="footnote2.m1.1.1" xref="footnote2.m1.1.1.cmml">S</mi><mo stretchy="false" id="footnote2.m1.2.2.1.1.1.4" xref="footnote2.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow><mo id="footnote2.m1.2.2.2" xref="footnote2.m1.2.2.2.cmml">=</mo><mn id="footnote2.m1.2.2.3" xref="footnote2.m1.2.2.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="footnote2.m1.2c"><apply id="footnote2.m1.2.2.cmml" xref="footnote2.m1.2.2"><eq id="footnote2.m1.2.2.2.cmml" xref="footnote2.m1.2.2.2"></eq><apply id="footnote2.m1.2.2.1.cmml" xref="footnote2.m1.2.2.1"><times id="footnote2.m1.2.2.1.2.cmml" xref="footnote2.m1.2.2.1.2"></times><ci id="footnote2.m1.2.2.1.3.cmml" xref="footnote2.m1.2.2.1.3">𝐻</ci><interval closure="open" id="footnote2.m1.2.2.1.1.2.cmml" xref="footnote2.m1.2.2.1.1.1"><apply id="footnote2.m1.2.2.1.1.1.1.cmml" xref="footnote2.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="footnote2.m1.2.2.1.1.1.1.1.cmml" xref="footnote2.m1.2.2.1.1.1.1">subscript</csymbol><ci id="footnote2.m1.2.2.1.1.1.1.2.cmml" xref="footnote2.m1.2.2.1.1.1.1.2">𝑧</ci><ci id="footnote2.m1.2.2.1.1.1.1.3.cmml" xref="footnote2.m1.2.2.1.1.1.1.3">𝑘</ci></apply><ci id="footnote2.m1.1.1.cmml" xref="footnote2.m1.1.1">𝑆</ci></interval></apply><cn type="integer" id="footnote2.m1.2.2.3.cmml" xref="footnote2.m1.2.2.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote2.m1.2d">H(z_{k},S)=0</annotation></semantics></math> already implies that <math id="footnote2.m2.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="footnote2.m2.1b"><msub id="footnote2.m2.1.1" xref="footnote2.m2.1.1.cmml"><mi id="footnote2.m2.1.1.2" xref="footnote2.m2.1.1.2.cmml">z</mi><mi id="footnote2.m2.1.1.3" xref="footnote2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="footnote2.m2.1c"><apply id="footnote2.m2.1.1.cmml" xref="footnote2.m2.1.1"><csymbol cd="ambiguous" id="footnote2.m2.1.1.1.cmml" xref="footnote2.m2.1.1">subscript</csymbol><ci id="footnote2.m2.1.1.2.cmml" xref="footnote2.m2.1.1.2">𝑧</ci><ci id="footnote2.m2.1.1.3.cmml" xref="footnote2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote2.m2.1d">z_{k}</annotation></semantics></math> does not contain any answer and thus <math id="footnote2.m3.1" class="ltx_Math" alttext="s_{k}^{*}=s^{*}" display="inline"><semantics id="footnote2.m3.1b"><mrow id="footnote2.m3.1.1" xref="footnote2.m3.1.1.cmml"><msubsup id="footnote2.m3.1.1.2" xref="footnote2.m3.1.1.2.cmml"><mi id="footnote2.m3.1.1.2.2.2" xref="footnote2.m3.1.1.2.2.2.cmml">s</mi><mi id="footnote2.m3.1.1.2.2.3" xref="footnote2.m3.1.1.2.2.3.cmml">k</mi><mo id="footnote2.m3.1.1.2.3" xref="footnote2.m3.1.1.2.3.cmml">∗</mo></msubsup><mo id="footnote2.m3.1.1.1" xref="footnote2.m3.1.1.1.cmml">=</mo><msup id="footnote2.m3.1.1.3" xref="footnote2.m3.1.1.3.cmml"><mi id="footnote2.m3.1.1.3.2" xref="footnote2.m3.1.1.3.2.cmml">s</mi><mo id="footnote2.m3.1.1.3.3" xref="footnote2.m3.1.1.3.3.cmml">∗</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="footnote2.m3.1c"><apply id="footnote2.m3.1.1.cmml" xref="footnote2.m3.1.1"><eq id="footnote2.m3.1.1.1.cmml" xref="footnote2.m3.1.1.1"></eq><apply id="footnote2.m3.1.1.2.cmml" xref="footnote2.m3.1.1.2"><csymbol cd="ambiguous" id="footnote2.m3.1.1.2.1.cmml" xref="footnote2.m3.1.1.2">superscript</csymbol><apply id="footnote2.m3.1.1.2.2.cmml" xref="footnote2.m3.1.1.2"><csymbol cd="ambiguous" id="footnote2.m3.1.1.2.2.1.cmml" xref="footnote2.m3.1.1.2">subscript</csymbol><ci id="footnote2.m3.1.1.2.2.2.cmml" xref="footnote2.m3.1.1.2.2.2">𝑠</ci><ci id="footnote2.m3.1.1.2.2.3.cmml" xref="footnote2.m3.1.1.2.2.3">𝑘</ci></apply><times id="footnote2.m3.1.1.2.3.cmml" xref="footnote2.m3.1.1.2.3"></times></apply><apply id="footnote2.m3.1.1.3.cmml" xref="footnote2.m3.1.1.3"><csymbol cd="ambiguous" id="footnote2.m3.1.1.3.1.cmml" xref="footnote2.m3.1.1.3">superscript</csymbol><ci id="footnote2.m3.1.1.3.2.cmml" xref="footnote2.m3.1.1.3.2">𝑠</ci><times id="footnote2.m3.1.1.3.3.cmml" xref="footnote2.m3.1.1.3.3"></times></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote2.m3.1d">s_{k}^{*}=s^{*}</annotation></semantics></math>.</span></span></span>
This is motivated by our intention to reduce scores for those documents that contain no answers and fail to answer questions.</p>
</div>
<div id="S3.SS3.p5" class="ltx_para">
<p id="S3.SS3.p5.1" class="ltx_p">Formally, joint training of retrieval and answer generation is achieved with a loss <math id="S3.SS3.p5.1.m1.1" class="ltx_Math" alttext="{\mathcal{L}}_{RA-VQA}" display="inline"><semantics id="S3.SS3.p5.1.m1.1a"><msub id="S3.SS3.p5.1.m1.1.1" xref="S3.SS3.p5.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p5.1.m1.1.1.2" xref="S3.SS3.p5.1.m1.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.p5.1.m1.1.1.3" xref="S3.SS3.p5.1.m1.1.1.3.cmml"><mrow id="S3.SS3.p5.1.m1.1.1.3.2" xref="S3.SS3.p5.1.m1.1.1.3.2.cmml"><mi id="S3.SS3.p5.1.m1.1.1.3.2.2" xref="S3.SS3.p5.1.m1.1.1.3.2.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p5.1.m1.1.1.3.2.1" xref="S3.SS3.p5.1.m1.1.1.3.2.1.cmml">​</mo><mi id="S3.SS3.p5.1.m1.1.1.3.2.3" xref="S3.SS3.p5.1.m1.1.1.3.2.3.cmml">A</mi></mrow><mo id="S3.SS3.p5.1.m1.1.1.3.1" xref="S3.SS3.p5.1.m1.1.1.3.1.cmml">−</mo><mrow id="S3.SS3.p5.1.m1.1.1.3.3" xref="S3.SS3.p5.1.m1.1.1.3.3.cmml"><mi id="S3.SS3.p5.1.m1.1.1.3.3.2" xref="S3.SS3.p5.1.m1.1.1.3.3.2.cmml">V</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p5.1.m1.1.1.3.3.1" xref="S3.SS3.p5.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p5.1.m1.1.1.3.3.3" xref="S3.SS3.p5.1.m1.1.1.3.3.3.cmml">Q</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p5.1.m1.1.1.3.3.1a" xref="S3.SS3.p5.1.m1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS3.p5.1.m1.1.1.3.3.4" xref="S3.SS3.p5.1.m1.1.1.3.3.4.cmml">A</mi></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.1.m1.1b"><apply id="S3.SS3.p5.1.m1.1.1.cmml" xref="S3.SS3.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.1.m1.1.1.1.cmml" xref="S3.SS3.p5.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p5.1.m1.1.1.2.cmml" xref="S3.SS3.p5.1.m1.1.1.2">ℒ</ci><apply id="S3.SS3.p5.1.m1.1.1.3.cmml" xref="S3.SS3.p5.1.m1.1.1.3"><minus id="S3.SS3.p5.1.m1.1.1.3.1.cmml" xref="S3.SS3.p5.1.m1.1.1.3.1"></minus><apply id="S3.SS3.p5.1.m1.1.1.3.2.cmml" xref="S3.SS3.p5.1.m1.1.1.3.2"><times id="S3.SS3.p5.1.m1.1.1.3.2.1.cmml" xref="S3.SS3.p5.1.m1.1.1.3.2.1"></times><ci id="S3.SS3.p5.1.m1.1.1.3.2.2.cmml" xref="S3.SS3.p5.1.m1.1.1.3.2.2">𝑅</ci><ci id="S3.SS3.p5.1.m1.1.1.3.2.3.cmml" xref="S3.SS3.p5.1.m1.1.1.3.2.3">𝐴</ci></apply><apply id="S3.SS3.p5.1.m1.1.1.3.3.cmml" xref="S3.SS3.p5.1.m1.1.1.3.3"><times id="S3.SS3.p5.1.m1.1.1.3.3.1.cmml" xref="S3.SS3.p5.1.m1.1.1.3.3.1"></times><ci id="S3.SS3.p5.1.m1.1.1.3.3.2.cmml" xref="S3.SS3.p5.1.m1.1.1.3.3.2">𝑉</ci><ci id="S3.SS3.p5.1.m1.1.1.3.3.3.cmml" xref="S3.SS3.p5.1.m1.1.1.3.3.3">𝑄</ci><ci id="S3.SS3.p5.1.m1.1.1.3.3.4.cmml" xref="S3.SS3.p5.1.m1.1.1.3.3.4">𝐴</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.1.m1.1c">{\mathcal{L}}_{RA-VQA}</annotation></semantics></math> that reflects both model predictions and pseudo relevance:</p>
<table id="S3.E6" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E6X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E6X.2.1.1.m1.1" class="ltx_Math" alttext="\displaystyle-" display="inline"><semantics id="S3.E6X.2.1.1.m1.1a"><mo id="S3.E6X.2.1.1.m1.1.1" xref="S3.E6X.2.1.1.m1.1.1.cmml">−</mo><annotation-xml encoding="MathML-Content" id="S3.E6X.2.1.1.m1.1b"><minus id="S3.E6X.2.1.1.m1.1.1.cmml" xref="S3.E6X.2.1.1.m1.1.1"></minus></annotation-xml><annotation encoding="application/x-tex" id="S3.E6X.2.1.1.m1.1c">\displaystyle-</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E6X.3.2.2.m1.3" class="ltx_math_unparsed" alttext="\displaystyle\sum_{(x,\mathcal{S})\in\mathcal{T}}\big{(}\sum_{k=1}^{K}\log p_{\phi}(s^{\ast}_{k}|x,z_{k})" display="inline"><semantics id="S3.E6X.3.2.2.m1.3a"><mrow id="S3.E6X.3.2.2.m1.3b"><mstyle displaystyle="true" id="S3.E6X.3.2.2.m1.3.4"><munder id="S3.E6X.3.2.2.m1.3.4a"><mo movablelimits="false" id="S3.E6X.3.2.2.m1.3.4.2">∑</mo><mrow id="S3.E6X.3.2.2.m1.2.2.2"><mrow id="S3.E6X.3.2.2.m1.2.2.2.4.2"><mo stretchy="false" id="S3.E6X.3.2.2.m1.2.2.2.4.2.1">(</mo><mi id="S3.E6X.3.2.2.m1.1.1.1.1">x</mi><mo id="S3.E6X.3.2.2.m1.2.2.2.4.2.2">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E6X.3.2.2.m1.2.2.2.2">𝒮</mi><mo stretchy="false" id="S3.E6X.3.2.2.m1.2.2.2.4.2.3">)</mo></mrow><mo id="S3.E6X.3.2.2.m1.2.2.2.3">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E6X.3.2.2.m1.2.2.2.5">𝒯</mi></mrow></munder></mstyle><mrow id="S3.E6X.3.2.2.m1.3.5"><mo maxsize="120%" minsize="120%" id="S3.E6X.3.2.2.m1.3.5.1">(</mo><mstyle displaystyle="true" id="S3.E6X.3.2.2.m1.3.5.2"><munderover id="S3.E6X.3.2.2.m1.3.5.2a"><mo movablelimits="false" id="S3.E6X.3.2.2.m1.3.5.2.2.2">∑</mo><mrow id="S3.E6X.3.2.2.m1.3.5.2.2.3"><mi id="S3.E6X.3.2.2.m1.3.5.2.2.3.2">k</mi><mo id="S3.E6X.3.2.2.m1.3.5.2.2.3.1">=</mo><mn id="S3.E6X.3.2.2.m1.3.5.2.2.3.3">1</mn></mrow><mi id="S3.E6X.3.2.2.m1.3.5.2.3">K</mi></munderover></mstyle><mi id="S3.E6X.3.2.2.m1.3.5.3">log</mi><msub id="S3.E6X.3.2.2.m1.3.5.4"><mi id="S3.E6X.3.2.2.m1.3.5.4.2">p</mi><mi id="S3.E6X.3.2.2.m1.3.5.4.3">ϕ</mi></msub><mrow id="S3.E6X.3.2.2.m1.3.5.5"><mo stretchy="false" id="S3.E6X.3.2.2.m1.3.5.5.1">(</mo><msubsup id="S3.E6X.3.2.2.m1.3.5.5.2"><mi id="S3.E6X.3.2.2.m1.3.5.5.2.2.2">s</mi><mi id="S3.E6X.3.2.2.m1.3.5.5.2.3">k</mi><mo id="S3.E6X.3.2.2.m1.3.5.5.2.2.3">∗</mo></msubsup><mo fence="false" rspace="0.167em" stretchy="false" id="S3.E6X.3.2.2.m1.3.5.5.3">|</mo><mi id="S3.E6X.3.2.2.m1.3.3">x</mi><mo id="S3.E6X.3.2.2.m1.3.5.5.4">,</mo><msub id="S3.E6X.3.2.2.m1.3.5.5.5"><mi id="S3.E6X.3.2.2.m1.3.5.5.5.2">z</mi><mi id="S3.E6X.3.2.2.m1.3.5.5.5.3">k</mi></msub><mo stretchy="false" id="S3.E6X.3.2.2.m1.3.5.5.6">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S3.E6X.3.2.2.m1.3c">\displaystyle\sum_{(x,\mathcal{S})\in\mathcal{T}}\big{(}\sum_{k=1}^{K}\log p_{\phi}(s^{\ast}_{k}|x,z_{k})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(6)</span></td>
</tr>
<tr id="S3.E6Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E6Xa.2.1.1.m1.4" class="ltx_math_unparsed" alttext="\displaystyle+\sum_{k\in{\mathcal{P}}^{+}(x,\mathcal{S})}\log p_{\theta}(z_{k}|x)-\sum_{k\in{\mathcal{P}}^{-}(x,\mathcal{S})}\log p_{\theta}(z_{k}|x)~{}\big{)}" display="inline"><semantics id="S3.E6Xa.2.1.1.m1.4a"><mrow id="S3.E6Xa.2.1.1.m1.4b"><mo id="S3.E6Xa.2.1.1.m1.4.5">+</mo><mstyle displaystyle="true" id="S3.E6Xa.2.1.1.m1.4.6"><munder id="S3.E6Xa.2.1.1.m1.4.6a"><mo movablelimits="false" id="S3.E6Xa.2.1.1.m1.4.6.2">∑</mo><mrow id="S3.E6Xa.2.1.1.m1.2.2.2"><mi id="S3.E6Xa.2.1.1.m1.2.2.2.4">k</mi><mo id="S3.E6Xa.2.1.1.m1.2.2.2.3">∈</mo><mrow id="S3.E6Xa.2.1.1.m1.2.2.2.5"><msup id="S3.E6Xa.2.1.1.m1.2.2.2.5.2"><mi class="ltx_font_mathcaligraphic" id="S3.E6Xa.2.1.1.m1.2.2.2.5.2.2">𝒫</mi><mo id="S3.E6Xa.2.1.1.m1.2.2.2.5.2.3">+</mo></msup><mo lspace="0em" rspace="0em" id="S3.E6Xa.2.1.1.m1.2.2.2.5.1">​</mo><mrow id="S3.E6Xa.2.1.1.m1.2.2.2.5.3.2"><mo stretchy="false" id="S3.E6Xa.2.1.1.m1.2.2.2.5.3.2.1">(</mo><mi id="S3.E6Xa.2.1.1.m1.1.1.1.1">x</mi><mo id="S3.E6Xa.2.1.1.m1.2.2.2.5.3.2.2">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E6Xa.2.1.1.m1.2.2.2.2">𝒮</mi><mo stretchy="false" id="S3.E6Xa.2.1.1.m1.2.2.2.5.3.2.3">)</mo></mrow></mrow></mrow></munder></mstyle><mi id="S3.E6Xa.2.1.1.m1.4.7">log</mi><msub id="S3.E6Xa.2.1.1.m1.4.8"><mi id="S3.E6Xa.2.1.1.m1.4.8.2">p</mi><mi id="S3.E6Xa.2.1.1.m1.4.8.3">θ</mi></msub><mrow id="S3.E6Xa.2.1.1.m1.4.9"><mo stretchy="false" id="S3.E6Xa.2.1.1.m1.4.9.1">(</mo><msub id="S3.E6Xa.2.1.1.m1.4.9.2"><mi id="S3.E6Xa.2.1.1.m1.4.9.2.2">z</mi><mi id="S3.E6Xa.2.1.1.m1.4.9.2.3">k</mi></msub><mo fence="false" rspace="0.167em" stretchy="false" id="S3.E6Xa.2.1.1.m1.4.9.3">|</mo><mi id="S3.E6Xa.2.1.1.m1.4.9.4">x</mi><mo stretchy="false" id="S3.E6Xa.2.1.1.m1.4.9.5">)</mo></mrow><mo id="S3.E6Xa.2.1.1.m1.4.10">−</mo><mstyle displaystyle="true" id="S3.E6Xa.2.1.1.m1.4.11"><munder id="S3.E6Xa.2.1.1.m1.4.11a"><mo movablelimits="false" id="S3.E6Xa.2.1.1.m1.4.11.2">∑</mo><mrow id="S3.E6Xa.2.1.1.m1.4.4.2"><mi id="S3.E6Xa.2.1.1.m1.4.4.2.4">k</mi><mo id="S3.E6Xa.2.1.1.m1.4.4.2.3">∈</mo><mrow id="S3.E6Xa.2.1.1.m1.4.4.2.5"><msup id="S3.E6Xa.2.1.1.m1.4.4.2.5.2"><mi class="ltx_font_mathcaligraphic" id="S3.E6Xa.2.1.1.m1.4.4.2.5.2.2">𝒫</mi><mo id="S3.E6Xa.2.1.1.m1.4.4.2.5.2.3">−</mo></msup><mo lspace="0em" rspace="0em" id="S3.E6Xa.2.1.1.m1.4.4.2.5.1">​</mo><mrow id="S3.E6Xa.2.1.1.m1.4.4.2.5.3.2"><mo stretchy="false" id="S3.E6Xa.2.1.1.m1.4.4.2.5.3.2.1">(</mo><mi id="S3.E6Xa.2.1.1.m1.3.3.1.1">x</mi><mo id="S3.E6Xa.2.1.1.m1.4.4.2.5.3.2.2">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E6Xa.2.1.1.m1.4.4.2.2">𝒮</mi><mo stretchy="false" id="S3.E6Xa.2.1.1.m1.4.4.2.5.3.2.3">)</mo></mrow></mrow></mrow></munder></mstyle><mi id="S3.E6Xa.2.1.1.m1.4.12">log</mi><msub id="S3.E6Xa.2.1.1.m1.4.13"><mi id="S3.E6Xa.2.1.1.m1.4.13.2">p</mi><mi id="S3.E6Xa.2.1.1.m1.4.13.3">θ</mi></msub><mrow id="S3.E6Xa.2.1.1.m1.4.14"><mo stretchy="false" id="S3.E6Xa.2.1.1.m1.4.14.1">(</mo><msub id="S3.E6Xa.2.1.1.m1.4.14.2"><mi id="S3.E6Xa.2.1.1.m1.4.14.2.2">z</mi><mi id="S3.E6Xa.2.1.1.m1.4.14.2.3">k</mi></msub><mo fence="false" rspace="0.167em" stretchy="false" id="S3.E6Xa.2.1.1.m1.4.14.3">|</mo><mi id="S3.E6Xa.2.1.1.m1.4.14.4">x</mi><mo rspace="0.330em" stretchy="false" id="S3.E6Xa.2.1.1.m1.4.14.5">)</mo></mrow><mo maxsize="120%" minsize="120%" id="S3.E6Xa.2.1.1.m1.4.15">)</mo></mrow><annotation encoding="application/x-tex" id="S3.E6Xa.2.1.1.m1.4c">\displaystyle+\sum_{k\in{\mathcal{P}}^{+}(x,\mathcal{S})}\log p_{\theta}(z_{k}|x)-\sum_{k\in{\mathcal{P}}^{-}(x,\mathcal{S})}\log p_{\theta}(z_{k}|x)~{}\big{)}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
</div>
<div id="S3.SS3.p6" class="ltx_para">
<p id="S3.SS3.p6.1" class="ltx_p">The first term in the loss improves answer generation from queries and retrieved documents, taken together.
The remaining terms affect document retrieval:
the second term encourages retrieval of documents that are not only pseudo relevant but also lead to production of correct answers, while the third term works to remove irrelevant items from the top ranked retrieved documents.</p>
</div>
<figure id="S3.F3" class="ltx_figure"><img src="/html/2210.03809/assets/x3.png" id="S3.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="158" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Information flow between the retriever and the answer generator.</figcaption>
</figure>
<div id="S3.SS3.p7" class="ltx_para">
<p id="S3.SS3.p7.2" class="ltx_p">The information flow is demonstrated in Fig. <a href="#S3.F3" title="Figure 3 ‣ 3.3 RA-VQA: Joint Training of Document Retrieval and Answer Generation ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.
Retrieval and generation complement each other in training: pseudo relevance labels and model predictions provide positive and negative signals to improve retrieval,
and the improved retrieval leads to improved answer generation by training towards <math id="S3.SS3.p7.1.m1.1" class="ltx_Math" alttext="s^{\ast}_{k}" display="inline"><semantics id="S3.SS3.p7.1.m1.1a"><msubsup id="S3.SS3.p7.1.m1.1.1" xref="S3.SS3.p7.1.m1.1.1.cmml"><mi id="S3.SS3.p7.1.m1.1.1.2.2" xref="S3.SS3.p7.1.m1.1.1.2.2.cmml">s</mi><mi id="S3.SS3.p7.1.m1.1.1.3" xref="S3.SS3.p7.1.m1.1.1.3.cmml">k</mi><mo id="S3.SS3.p7.1.m1.1.1.2.3" xref="S3.SS3.p7.1.m1.1.1.2.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p7.1.m1.1b"><apply id="S3.SS3.p7.1.m1.1.1.cmml" xref="S3.SS3.p7.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p7.1.m1.1.1.1.cmml" xref="S3.SS3.p7.1.m1.1.1">subscript</csymbol><apply id="S3.SS3.p7.1.m1.1.1.2.cmml" xref="S3.SS3.p7.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p7.1.m1.1.1.2.1.cmml" xref="S3.SS3.p7.1.m1.1.1">superscript</csymbol><ci id="S3.SS3.p7.1.m1.1.1.2.2.cmml" xref="S3.SS3.p7.1.m1.1.1.2.2">𝑠</ci><ci id="S3.SS3.p7.1.m1.1.1.2.3.cmml" xref="S3.SS3.p7.1.m1.1.1.2.3">∗</ci></apply><ci id="S3.SS3.p7.1.m1.1.1.3.cmml" xref="S3.SS3.p7.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p7.1.m1.1c">s^{\ast}_{k}</annotation></semantics></math>, a customized generation target for each retrieved document <math id="S3.SS3.p7.2.m2.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="S3.SS3.p7.2.m2.1a"><msub id="S3.SS3.p7.2.m2.1.1" xref="S3.SS3.p7.2.m2.1.1.cmml"><mi id="S3.SS3.p7.2.m2.1.1.2" xref="S3.SS3.p7.2.m2.1.1.2.cmml">z</mi><mi id="S3.SS3.p7.2.m2.1.1.3" xref="S3.SS3.p7.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p7.2.m2.1b"><apply id="S3.SS3.p7.2.m2.1.1.cmml" xref="S3.SS3.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p7.2.m2.1.1.1.cmml" xref="S3.SS3.p7.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p7.2.m2.1.1.2.cmml" xref="S3.SS3.p7.2.m2.1.1.2">𝑧</ci><ci id="S3.SS3.p7.2.m2.1.1.3.cmml" xref="S3.SS3.p7.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p7.2.m2.1c">z_{k}</annotation></semantics></math>.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>RA-VQA Generation</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.2" class="ltx_p">Given an image query <math id="S3.SS4.p1.1.m1.2" class="ltx_Math" alttext="(I,q)" display="inline"><semantics id="S3.SS4.p1.1.m1.2a"><mrow id="S3.SS4.p1.1.m1.2.3.2" xref="S3.SS4.p1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S3.SS4.p1.1.m1.2.3.2.1" xref="S3.SS4.p1.1.m1.2.3.1.cmml">(</mo><mi id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml">I</mi><mo id="S3.SS4.p1.1.m1.2.3.2.2" xref="S3.SS4.p1.1.m1.2.3.1.cmml">,</mo><mi id="S3.SS4.p1.1.m1.2.2" xref="S3.SS4.p1.1.m1.2.2.cmml">q</mi><mo stretchy="false" id="S3.SS4.p1.1.m1.2.3.2.3" xref="S3.SS4.p1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.2b"><interval closure="open" id="S3.SS4.p1.1.m1.2.3.1.cmml" xref="S3.SS4.p1.1.m1.2.3.2"><ci id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">𝐼</ci><ci id="S3.SS4.p1.1.m1.2.2.cmml" xref="S3.SS4.p1.1.m1.2.2">𝑞</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.2c">(I,q)</annotation></semantics></math>, a full query <math id="S3.SS4.p1.2.m2.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS4.p1.2.m2.1a"><mi id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b"><ci id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">x</annotation></semantics></math> is created (Sec. <a href="#S3.SS1" title="3.1 Vision-to-Language Transformation ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>) and
answer generation searches for the answer with the highest joint probability:</p>
<table id="S3.E7" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E7X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E7X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\{z_{k}\}_{k=1}^{K}={\operatornamewithlimits{argmax}_{z}}^{K}p_{\theta}(z|x)" display="inline"><semantics id="S3.E7X.2.1.1.m1.2a"><mrow id="S3.E7X.2.1.1.m1.2.2" xref="S3.E7X.2.1.1.m1.2.2.cmml"><msubsup id="S3.E7X.2.1.1.m1.1.1.1" xref="S3.E7X.2.1.1.m1.1.1.1.cmml"><mrow id="S3.E7X.2.1.1.m1.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E7X.2.1.1.m1.1.1.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.1.1.1.1.1.2.cmml">{</mo><msub id="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="S3.E7X.2.1.1.m1.1.1.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.E7X.2.1.1.m1.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.1.1.1.1.3.cmml"><mi id="S3.E7X.2.1.1.m1.1.1.1.1.3.2" xref="S3.E7X.2.1.1.m1.1.1.1.1.3.2.cmml">k</mi><mo id="S3.E7X.2.1.1.m1.1.1.1.1.3.1" xref="S3.E7X.2.1.1.m1.1.1.1.1.3.1.cmml">=</mo><mn id="S3.E7X.2.1.1.m1.1.1.1.1.3.3" xref="S3.E7X.2.1.1.m1.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.E7X.2.1.1.m1.1.1.1.3" xref="S3.E7X.2.1.1.m1.1.1.1.3.cmml">K</mi></msubsup><mo rspace="0.1389em" id="S3.E7X.2.1.1.m1.2.2.3" xref="S3.E7X.2.1.1.m1.2.2.3.cmml">=</mo><mrow id="S3.E7X.2.1.1.m1.2.2.2" xref="S3.E7X.2.1.1.m1.2.2.2.cmml"><mrow id="S3.E7X.2.1.1.m1.2.2.2.3" xref="S3.E7X.2.1.1.m1.2.2.2.3.cmml"><msup id="S3.E7X.2.1.1.m1.2.2.2.3.1" xref="S3.E7X.2.1.1.m1.2.2.2.3.1.cmml"><munder id="S3.E7X.2.1.1.m1.2.2.2.3.1a" xref="S3.E7X.2.1.1.m1.2.2.2.3.1.cmml"><mo lspace="0.1389em" rspace="0.167em" id="S3.E7X.2.1.1.m1.2.2.2.3.1.2.2" xref="S3.E7X.2.1.1.m1.2.2.2.3.1.2.2.cmml">argmax</mo><mi id="S3.E7X.2.1.1.m1.2.2.2.3.1.2.3" xref="S3.E7X.2.1.1.m1.2.2.2.3.1.2.3.cmml">z</mi></munder><mi id="S3.E7X.2.1.1.m1.2.2.2.3.1.3" xref="S3.E7X.2.1.1.m1.2.2.2.3.1.3.cmml">K</mi></msup><msub id="S3.E7X.2.1.1.m1.2.2.2.3.2" xref="S3.E7X.2.1.1.m1.2.2.2.3.2.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.2.3.2.2" xref="S3.E7X.2.1.1.m1.2.2.2.3.2.2.cmml">p</mi><mi id="S3.E7X.2.1.1.m1.2.2.2.3.2.3" xref="S3.E7X.2.1.1.m1.2.2.2.3.2.3.cmml">θ</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E7X.2.1.1.m1.2.2.2.2" xref="S3.E7X.2.1.1.m1.2.2.2.2.cmml">​</mo><mrow id="S3.E7X.2.1.1.m1.2.2.2.1.1" xref="S3.E7X.2.1.1.m1.2.2.2.1.1.1.cmml"><mo stretchy="false" id="S3.E7X.2.1.1.m1.2.2.2.1.1.2" xref="S3.E7X.2.1.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.E7X.2.1.1.m1.2.2.2.1.1.1" xref="S3.E7X.2.1.1.m1.2.2.2.1.1.1.cmml"><mi id="S3.E7X.2.1.1.m1.2.2.2.1.1.1.2" xref="S3.E7X.2.1.1.m1.2.2.2.1.1.1.2.cmml">z</mi><mo fence="false" id="S3.E7X.2.1.1.m1.2.2.2.1.1.1.1" xref="S3.E7X.2.1.1.m1.2.2.2.1.1.1.1.cmml">|</mo><mi id="S3.E7X.2.1.1.m1.2.2.2.1.1.1.3" xref="S3.E7X.2.1.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S3.E7X.2.1.1.m1.2.2.2.1.1.3" xref="S3.E7X.2.1.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7X.2.1.1.m1.2b"><apply id="S3.E7X.2.1.1.m1.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2"><eq id="S3.E7X.2.1.1.m1.2.2.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.3"></eq><apply id="S3.E7X.2.1.1.m1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.1.1.1"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.1.1.1">superscript</csymbol><apply id="S3.E7X.2.1.1.m1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.1.1.1"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.1.1.1">subscript</csymbol><set id="S3.E7X.2.1.1.m1.1.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.1.1.1.1.1.1"><apply id="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.1.1.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.E7X.2.1.1.m1.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.1.1.1.1.3"><eq id="S3.E7X.2.1.1.m1.1.1.1.1.3.1.cmml" xref="S3.E7X.2.1.1.m1.1.1.1.1.3.1"></eq><ci id="S3.E7X.2.1.1.m1.1.1.1.1.3.2.cmml" xref="S3.E7X.2.1.1.m1.1.1.1.1.3.2">𝑘</ci><cn type="integer" id="S3.E7X.2.1.1.m1.1.1.1.1.3.3.cmml" xref="S3.E7X.2.1.1.m1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.E7X.2.1.1.m1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.1.1.1.3">𝐾</ci></apply><apply id="S3.E7X.2.1.1.m1.2.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.2"><times id="S3.E7X.2.1.1.m1.2.2.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.2"></times><apply id="S3.E7X.2.1.1.m1.2.2.2.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3"><apply id="S3.E7X.2.1.1.m1.2.2.2.3.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3.1"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.2.2.2.3.1.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3.1">superscript</csymbol><apply id="S3.E7X.2.1.1.m1.2.2.2.3.1.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3.1"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.2.2.2.3.1.2.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3.1">subscript</csymbol><ci id="S3.E7X.2.1.1.m1.2.2.2.3.1.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3.1.2.2">argmax</ci><ci id="S3.E7X.2.1.1.m1.2.2.2.3.1.2.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3.1.2.3">𝑧</ci></apply><ci id="S3.E7X.2.1.1.m1.2.2.2.3.1.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3.1.3">𝐾</ci></apply><apply id="S3.E7X.2.1.1.m1.2.2.2.3.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3.2"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.2.2.2.3.2.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3.2">subscript</csymbol><ci id="S3.E7X.2.1.1.m1.2.2.2.3.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3.2.2">𝑝</ci><ci id="S3.E7X.2.1.1.m1.2.2.2.3.2.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.3.2.3">𝜃</ci></apply></apply><apply id="S3.E7X.2.1.1.m1.2.2.2.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S3.E7X.2.1.1.m1.2.2.2.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.1.1.1.1">conditional</csymbol><ci id="S3.E7X.2.1.1.m1.2.2.2.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.1.1.1.2">𝑧</ci><ci id="S3.E7X.2.1.1.m1.2.2.2.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7X.2.1.1.m1.2c">\displaystyle\{z_{k}\}_{k=1}^{K}={\operatornamewithlimits{argmax}_{z}}^{K}p_{\theta}(z|x)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(7)</span></td>
</tr>
<tr id="S3.E7Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E7Xa.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\widehat{y},\widehat{z}" display="inline"><semantics id="S3.E7Xa.2.1.1.m1.2a"><mrow id="S3.E7Xa.2.1.1.m1.2.3.2" xref="S3.E7Xa.2.1.1.m1.2.3.1.cmml"><mover accent="true" id="S3.E7Xa.2.1.1.m1.1.1" xref="S3.E7Xa.2.1.1.m1.1.1.cmml"><mi id="S3.E7Xa.2.1.1.m1.1.1.2" xref="S3.E7Xa.2.1.1.m1.1.1.2.cmml">y</mi><mo id="S3.E7Xa.2.1.1.m1.1.1.1" xref="S3.E7Xa.2.1.1.m1.1.1.1.cmml">^</mo></mover><mo id="S3.E7Xa.2.1.1.m1.2.3.2.1" xref="S3.E7Xa.2.1.1.m1.2.3.1.cmml">,</mo><mover accent="true" id="S3.E7Xa.2.1.1.m1.2.2" xref="S3.E7Xa.2.1.1.m1.2.2.cmml"><mi id="S3.E7Xa.2.1.1.m1.2.2.2" xref="S3.E7Xa.2.1.1.m1.2.2.2.cmml">z</mi><mo id="S3.E7Xa.2.1.1.m1.2.2.1" xref="S3.E7Xa.2.1.1.m1.2.2.1.cmml">^</mo></mover></mrow><annotation-xml encoding="MathML-Content" id="S3.E7Xa.2.1.1.m1.2b"><list id="S3.E7Xa.2.1.1.m1.2.3.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.3.2"><apply id="S3.E7Xa.2.1.1.m1.1.1.cmml" xref="S3.E7Xa.2.1.1.m1.1.1"><ci id="S3.E7Xa.2.1.1.m1.1.1.1.cmml" xref="S3.E7Xa.2.1.1.m1.1.1.1">^</ci><ci id="S3.E7Xa.2.1.1.m1.1.1.2.cmml" xref="S3.E7Xa.2.1.1.m1.1.1.2">𝑦</ci></apply><apply id="S3.E7Xa.2.1.1.m1.2.2.cmml" xref="S3.E7Xa.2.1.1.m1.2.2"><ci id="S3.E7Xa.2.1.1.m1.2.2.1.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.1">^</ci><ci id="S3.E7Xa.2.1.1.m1.2.2.2.cmml" xref="S3.E7Xa.2.1.1.m1.2.2.2">𝑧</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.E7Xa.2.1.1.m1.2c">\displaystyle\widehat{y},\widehat{z}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E7Xa.3.2.2.m1.5" class="ltx_Math" alttext="\displaystyle=\operatornamewithlimits{argmax}_{y,z_{k}}p_{\phi}(y|x,z_{k})~{}p_{\theta}(z_{k}|x)" display="inline"><semantics id="S3.E7Xa.3.2.2.m1.5a"><mrow id="S3.E7Xa.3.2.2.m1.5.5" xref="S3.E7Xa.3.2.2.m1.5.5.cmml"><mi id="S3.E7Xa.3.2.2.m1.5.5.4" xref="S3.E7Xa.3.2.2.m1.5.5.4.cmml"></mi><mo rspace="0.1389em" id="S3.E7Xa.3.2.2.m1.5.5.3" xref="S3.E7Xa.3.2.2.m1.5.5.3.cmml">=</mo><mrow id="S3.E7Xa.3.2.2.m1.5.5.2" xref="S3.E7Xa.3.2.2.m1.5.5.2.cmml"><mrow id="S3.E7Xa.3.2.2.m1.5.5.2.4" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.cmml"><munder id="S3.E7Xa.3.2.2.m1.5.5.2.4.1" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.1.cmml"><mo lspace="0.1389em" rspace="0.167em" id="S3.E7Xa.3.2.2.m1.5.5.2.4.1.2" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.1.2.cmml">argmax</mo><mrow id="S3.E7Xa.3.2.2.m1.2.2.2.2" xref="S3.E7Xa.3.2.2.m1.2.2.2.3.cmml"><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.cmml">y</mi><mo id="S3.E7Xa.3.2.2.m1.2.2.2.2.2" xref="S3.E7Xa.3.2.2.m1.2.2.2.3.cmml">,</mo><msub id="S3.E7Xa.3.2.2.m1.2.2.2.2.1" xref="S3.E7Xa.3.2.2.m1.2.2.2.2.1.cmml"><mi id="S3.E7Xa.3.2.2.m1.2.2.2.2.1.2" xref="S3.E7Xa.3.2.2.m1.2.2.2.2.1.2.cmml">z</mi><mi id="S3.E7Xa.3.2.2.m1.2.2.2.2.1.3" xref="S3.E7Xa.3.2.2.m1.2.2.2.2.1.3.cmml">k</mi></msub></mrow></munder><msub id="S3.E7Xa.3.2.2.m1.5.5.2.4.2" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.2.cmml"><mi id="S3.E7Xa.3.2.2.m1.5.5.2.4.2.2" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.2.2.cmml">p</mi><mi id="S3.E7Xa.3.2.2.m1.5.5.2.4.2.3" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.2.3.cmml">ϕ</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E7Xa.3.2.2.m1.5.5.2.3" xref="S3.E7Xa.3.2.2.m1.5.5.2.3.cmml">​</mo><mrow id="S3.E7Xa.3.2.2.m1.4.4.1.1.1" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.cmml"><mo stretchy="false" id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.2" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.cmml"><mi id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.3" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.3.cmml">y</mi><mo fence="false" id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.2" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.2.cmml">|</mo><mrow id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.2.cmml"><mi id="S3.E7Xa.3.2.2.m1.3.3" xref="S3.E7Xa.3.2.2.m1.3.3.cmml">x</mi><mo id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.2.cmml">,</mo><msub id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.cmml"><mi id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.2" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.3" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.3.cmml">k</mi></msub></mrow></mrow><mo stretchy="false" id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.3" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.cmml">)</mo></mrow><mo lspace="0.330em" rspace="0em" id="S3.E7Xa.3.2.2.m1.5.5.2.3a" xref="S3.E7Xa.3.2.2.m1.5.5.2.3.cmml">​</mo><msub id="S3.E7Xa.3.2.2.m1.5.5.2.5" xref="S3.E7Xa.3.2.2.m1.5.5.2.5.cmml"><mi id="S3.E7Xa.3.2.2.m1.5.5.2.5.2" xref="S3.E7Xa.3.2.2.m1.5.5.2.5.2.cmml">p</mi><mi id="S3.E7Xa.3.2.2.m1.5.5.2.5.3" xref="S3.E7Xa.3.2.2.m1.5.5.2.5.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E7Xa.3.2.2.m1.5.5.2.3b" xref="S3.E7Xa.3.2.2.m1.5.5.2.3.cmml">​</mo><mrow id="S3.E7Xa.3.2.2.m1.5.5.2.2.1" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.cmml"><mo stretchy="false" id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.2" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.cmml">(</mo><mrow id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.cmml"><msub id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2.cmml"><mi id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2.2" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2.2.cmml">z</mi><mi id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2.3" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2.3.cmml">k</mi></msub><mo fence="false" id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.1" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.1.cmml">|</mo><mi id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.3" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.3" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7Xa.3.2.2.m1.5b"><apply id="S3.E7Xa.3.2.2.m1.5.5.cmml" xref="S3.E7Xa.3.2.2.m1.5.5"><eq id="S3.E7Xa.3.2.2.m1.5.5.3.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.3"></eq><csymbol cd="latexml" id="S3.E7Xa.3.2.2.m1.5.5.4.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.4">absent</csymbol><apply id="S3.E7Xa.3.2.2.m1.5.5.2.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2"><times id="S3.E7Xa.3.2.2.m1.5.5.2.3.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.3"></times><apply id="S3.E7Xa.3.2.2.m1.5.5.2.4.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.4"><apply id="S3.E7Xa.3.2.2.m1.5.5.2.4.1.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.1"><csymbol cd="ambiguous" id="S3.E7Xa.3.2.2.m1.5.5.2.4.1.1.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.1">subscript</csymbol><ci id="S3.E7Xa.3.2.2.m1.5.5.2.4.1.2.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.1.2">argmax</ci><list id="S3.E7Xa.3.2.2.m1.2.2.2.3.cmml" xref="S3.E7Xa.3.2.2.m1.2.2.2.2"><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1">𝑦</ci><apply id="S3.E7Xa.3.2.2.m1.2.2.2.2.1.cmml" xref="S3.E7Xa.3.2.2.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.E7Xa.3.2.2.m1.2.2.2.2.1.1.cmml" xref="S3.E7Xa.3.2.2.m1.2.2.2.2.1">subscript</csymbol><ci id="S3.E7Xa.3.2.2.m1.2.2.2.2.1.2.cmml" xref="S3.E7Xa.3.2.2.m1.2.2.2.2.1.2">𝑧</ci><ci id="S3.E7Xa.3.2.2.m1.2.2.2.2.1.3.cmml" xref="S3.E7Xa.3.2.2.m1.2.2.2.2.1.3">𝑘</ci></apply></list></apply><apply id="S3.E7Xa.3.2.2.m1.5.5.2.4.2.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.2"><csymbol cd="ambiguous" id="S3.E7Xa.3.2.2.m1.5.5.2.4.2.1.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.2">subscript</csymbol><ci id="S3.E7Xa.3.2.2.m1.5.5.2.4.2.2.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.2.2">𝑝</ci><ci id="S3.E7Xa.3.2.2.m1.5.5.2.4.2.3.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.4.2.3">italic-ϕ</ci></apply></apply><apply id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.cmml" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1"><csymbol cd="latexml" id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.2.cmml" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.2">conditional</csymbol><ci id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.3.cmml" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.3">𝑦</ci><list id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1"><ci id="S3.E7Xa.3.2.2.m1.3.3.cmml" xref="S3.E7Xa.3.2.2.m1.3.3">𝑥</ci><apply id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.3.cmml" xref="S3.E7Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.3">𝑘</ci></apply></list></apply><apply id="S3.E7Xa.3.2.2.m1.5.5.2.5.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.5"><csymbol cd="ambiguous" id="S3.E7Xa.3.2.2.m1.5.5.2.5.1.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.5">subscript</csymbol><ci id="S3.E7Xa.3.2.2.m1.5.5.2.5.2.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.5.2">𝑝</ci><ci id="S3.E7Xa.3.2.2.m1.5.5.2.5.3.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.5.3">𝜃</ci></apply><apply id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1"><csymbol cd="latexml" id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.1.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.1">conditional</csymbol><apply id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2.1.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2">subscript</csymbol><ci id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2.2.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2.2">𝑧</ci><ci id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2.3.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.2.3">𝑘</ci></apply><ci id="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.3.cmml" xref="S3.E7Xa.3.2.2.m1.5.5.2.2.1.1.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7Xa.3.2.2.m1.5c">\displaystyle=\operatornamewithlimits{argmax}_{y,z_{k}}p_{\phi}(y|x,z_{k})~{}p_{\theta}(z_{k}|x)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p id="S3.SS4.p1.3" class="ltx_p">Answers reflect both generation and retrieval models and retrieval confidence plays a strong role, unlike some prior work such as <cite class="ltx_cite ltx_citemacro_citet">Luo et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
</section>
<section id="S3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5 </span>Pre-Computed FAISS Document Indices</h3>

<div id="S3.SS5.p1" class="ltx_para">
<p id="S3.SS5.p1.2" class="ltx_p">Since repeated computation of embeddings for all documents is costly, we follow  <cite class="ltx_cite ltx_citemacro_citet">Lewis et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite> who find that it is enough to train only the question encoder <math id="S3.SS5.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{F}_{q}" display="inline"><semantics id="S3.SS5.p1.1.m1.1a"><msub id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS5.p1.1.m1.1.1.2" xref="S3.SS5.p1.1.m1.1.1.2.cmml">ℱ</mi><mi id="S3.SS5.p1.1.m1.1.1.3" xref="S3.SS5.p1.1.m1.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><apply id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.1.m1.1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.p1.1.m1.1.1.2.cmml" xref="S3.SS5.p1.1.m1.1.1.2">ℱ</ci><ci id="S3.SS5.p1.1.m1.1.1.3.cmml" xref="S3.SS5.p1.1.m1.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">\mathcal{F}_{q}</annotation></semantics></math> and leave document encoder <math id="S3.SS5.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{F}_{d}" display="inline"><semantics id="S3.SS5.p1.2.m2.1a"><msub id="S3.SS5.p1.2.m2.1.1" xref="S3.SS5.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS5.p1.2.m2.1.1.2" xref="S3.SS5.p1.2.m2.1.1.2.cmml">ℱ</mi><mi id="S3.SS5.p1.2.m2.1.1.3" xref="S3.SS5.p1.2.m2.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.2.m2.1b"><apply id="S3.SS5.p1.2.m2.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.2.m2.1.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.p1.2.m2.1.1.2.cmml" xref="S3.SS5.p1.2.m2.1.1.2">ℱ</ci><ci id="S3.SS5.p1.2.m2.1.1.3.cmml" xref="S3.SS5.p1.2.m2.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.2.m2.1c">\mathcal{F}_{d}</annotation></semantics></math> fixed.
As shown in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, document embeddings are pre-extracted with a pre-trained DPR document encoder.
The FAISS system <cite class="ltx_cite ltx_citemacro_cite">Johnson et al. (<a href="#bib.bib16" title="" class="ltx_ref">2019</a>)</cite> is used to index all document embeddings which enables fast nearest neighbour search with sub-linear time complexity.
In training, question embeddings are generated dynamically and documents with highest scores are retrieved using the pre-computed index.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Datasets and RA-VQA Configurations</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">OK-VQA <cite class="ltx_cite ltx_citemacro_cite">Marino et al. (<a href="#bib.bib29" title="" class="ltx_ref">2019</a>)</cite> is currently the largest knowledge-based VQA dataset.
It consists of 14,031 images and 14,055 questions. These questions are split into a training set (9,009 questions) and a test set (5046 questions).
In addition to understanding images and questions, external knowledge sources are needed to answer questions.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">As outside knowledge we use the knowledge corpus collected by <cite class="ltx_cite ltx_citemacro_citet">Luo et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite> from Google Search.
We use the corpus <span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_typewriter">GS-full</span> which consists of 168,306 documents covering training and test questions.
In Appendix <a href="#A2.SS1" title="B.1 Full Version of Table 1 ‣ Appendix B Supplementary Tables and Figures ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1</span></a> we also report on <span id="S4.SS1.p2.1.2" class="ltx_text ltx_font_typewriter">GS-train</span>, which contains documents relevant to OK-VQA training set questions only.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p"><span id="S4.SS1.p3.1.1" class="ltx_text ltx_font_italic">Pre-training:</span> We start with pre-trained versions of BERT-base and T5-large as the document retriever and the answer generator, respectively.
The retriever was refined by training it on <span id="S4.SS1.p3.1.2" class="ltx_text ltx_font_typewriter">GS-full</span> under the DPR loss (Equation <a href="#S3.E2" title="In 3.2 Weakly-supervised Dense Passage Retrieval ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>) with pseudo relevance labels released by <cite class="ltx_cite ltx_citemacro_citet">Luo et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite>.
The already strong retriever serves as a good starting point for all DPR-based models presented in this paper (including RA-VQA and our replication of baselines in the literature).</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.1" class="ltx_p"><span id="S4.SS1.p4.1.1" class="ltx_text ltx_font_italic">OK-VQA Fine-tuning:</span>
Our <span id="S4.SS1.p4.1.2" class="ltx_text ltx_font_bold">RA-VQA</span> framework trains the answer generator and the retriever jointly under Equation <a href="#S3.E6" title="In 3.3 RA-VQA: Joint Training of Document Retrieval and Answer Generation ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<div id="S4.SS1.p5" class="ltx_para">
<p id="S4.SS1.p5.3" class="ltx_p">We also report on variants of RA-VQA, to investigate the contribution of various model components to overall performance: 
<br class="ltx_break"><span id="S4.SS1.p5.3.1" class="ltx_text ltx_font_bold">RA-VQA-NoDPR</span> omits retrieval entirely so that answers are generated by the fine-tuned T5 alone. RA-VQA generation in Equation <a href="#S3.E7" title="In 3.4 RA-VQA Generation ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> simplifies to</p>
<table id="S4.E8" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E8.m1.1" class="ltx_Math" alttext="\widehat{y}_{NoDPR}=\operatornamewithlimits{argmax}_{y}p_{\phi}(y|x)\vspace{-0.3cm}" display="block"><semantics id="S4.E8.m1.1a"><mrow id="S4.E8.m1.1.1" xref="S4.E8.m1.1.1.cmml"><msub id="S4.E8.m1.1.1.3" xref="S4.E8.m1.1.1.3.cmml"><mover accent="true" id="S4.E8.m1.1.1.3.2" xref="S4.E8.m1.1.1.3.2.cmml"><mi id="S4.E8.m1.1.1.3.2.2" xref="S4.E8.m1.1.1.3.2.2.cmml">y</mi><mo id="S4.E8.m1.1.1.3.2.1" xref="S4.E8.m1.1.1.3.2.1.cmml">^</mo></mover><mrow id="S4.E8.m1.1.1.3.3" xref="S4.E8.m1.1.1.3.3.cmml"><mi id="S4.E8.m1.1.1.3.3.2" xref="S4.E8.m1.1.1.3.3.2.cmml">N</mi><mo lspace="0em" rspace="0em" id="S4.E8.m1.1.1.3.3.1" xref="S4.E8.m1.1.1.3.3.1.cmml">​</mo><mi id="S4.E8.m1.1.1.3.3.3" xref="S4.E8.m1.1.1.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.E8.m1.1.1.3.3.1a" xref="S4.E8.m1.1.1.3.3.1.cmml">​</mo><mi id="S4.E8.m1.1.1.3.3.4" xref="S4.E8.m1.1.1.3.3.4.cmml">D</mi><mo lspace="0em" rspace="0em" id="S4.E8.m1.1.1.3.3.1b" xref="S4.E8.m1.1.1.3.3.1.cmml">​</mo><mi id="S4.E8.m1.1.1.3.3.5" xref="S4.E8.m1.1.1.3.3.5.cmml">P</mi><mo lspace="0em" rspace="0em" id="S4.E8.m1.1.1.3.3.1c" xref="S4.E8.m1.1.1.3.3.1.cmml">​</mo><mi id="S4.E8.m1.1.1.3.3.6" xref="S4.E8.m1.1.1.3.3.6.cmml">R</mi></mrow></msub><mo rspace="0.1389em" id="S4.E8.m1.1.1.2" xref="S4.E8.m1.1.1.2.cmml">=</mo><mrow id="S4.E8.m1.1.1.1" xref="S4.E8.m1.1.1.1.cmml"><mrow id="S4.E8.m1.1.1.1.3" xref="S4.E8.m1.1.1.1.3.cmml"><munder id="S4.E8.m1.1.1.1.3.1" xref="S4.E8.m1.1.1.1.3.1.cmml"><mo lspace="0.1389em" rspace="0.167em" id="S4.E8.m1.1.1.1.3.1.2" xref="S4.E8.m1.1.1.1.3.1.2.cmml">argmax</mo><mi id="S4.E8.m1.1.1.1.3.1.3" xref="S4.E8.m1.1.1.1.3.1.3.cmml">y</mi></munder><msub id="S4.E8.m1.1.1.1.3.2" xref="S4.E8.m1.1.1.1.3.2.cmml"><mi id="S4.E8.m1.1.1.1.3.2.2" xref="S4.E8.m1.1.1.1.3.2.2.cmml">p</mi><mi id="S4.E8.m1.1.1.1.3.2.3" xref="S4.E8.m1.1.1.1.3.2.3.cmml">ϕ</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S4.E8.m1.1.1.1.2" xref="S4.E8.m1.1.1.1.2.cmml">​</mo><mrow id="S4.E8.m1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E8.m1.1.1.1.1.1.2" xref="S4.E8.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E8.m1.1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.1.cmml"><mi id="S4.E8.m1.1.1.1.1.1.1.2" xref="S4.E8.m1.1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S4.E8.m1.1.1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.E8.m1.1.1.1.1.1.1.3" xref="S4.E8.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S4.E8.m1.1.1.1.1.1.3" xref="S4.E8.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E8.m1.1b"><apply id="S4.E8.m1.1.1.cmml" xref="S4.E8.m1.1.1"><eq id="S4.E8.m1.1.1.2.cmml" xref="S4.E8.m1.1.1.2"></eq><apply id="S4.E8.m1.1.1.3.cmml" xref="S4.E8.m1.1.1.3"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.3.1.cmml" xref="S4.E8.m1.1.1.3">subscript</csymbol><apply id="S4.E8.m1.1.1.3.2.cmml" xref="S4.E8.m1.1.1.3.2"><ci id="S4.E8.m1.1.1.3.2.1.cmml" xref="S4.E8.m1.1.1.3.2.1">^</ci><ci id="S4.E8.m1.1.1.3.2.2.cmml" xref="S4.E8.m1.1.1.3.2.2">𝑦</ci></apply><apply id="S4.E8.m1.1.1.3.3.cmml" xref="S4.E8.m1.1.1.3.3"><times id="S4.E8.m1.1.1.3.3.1.cmml" xref="S4.E8.m1.1.1.3.3.1"></times><ci id="S4.E8.m1.1.1.3.3.2.cmml" xref="S4.E8.m1.1.1.3.3.2">𝑁</ci><ci id="S4.E8.m1.1.1.3.3.3.cmml" xref="S4.E8.m1.1.1.3.3.3">𝑜</ci><ci id="S4.E8.m1.1.1.3.3.4.cmml" xref="S4.E8.m1.1.1.3.3.4">𝐷</ci><ci id="S4.E8.m1.1.1.3.3.5.cmml" xref="S4.E8.m1.1.1.3.3.5">𝑃</ci><ci id="S4.E8.m1.1.1.3.3.6.cmml" xref="S4.E8.m1.1.1.3.3.6">𝑅</ci></apply></apply><apply id="S4.E8.m1.1.1.1.cmml" xref="S4.E8.m1.1.1.1"><times id="S4.E8.m1.1.1.1.2.cmml" xref="S4.E8.m1.1.1.1.2"></times><apply id="S4.E8.m1.1.1.1.3.cmml" xref="S4.E8.m1.1.1.1.3"><apply id="S4.E8.m1.1.1.1.3.1.cmml" xref="S4.E8.m1.1.1.1.3.1"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.3.1.1.cmml" xref="S4.E8.m1.1.1.1.3.1">subscript</csymbol><ci id="S4.E8.m1.1.1.1.3.1.2.cmml" xref="S4.E8.m1.1.1.1.3.1.2">argmax</ci><ci id="S4.E8.m1.1.1.1.3.1.3.cmml" xref="S4.E8.m1.1.1.1.3.1.3">𝑦</ci></apply><apply id="S4.E8.m1.1.1.1.3.2.cmml" xref="S4.E8.m1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.3.2.1.cmml" xref="S4.E8.m1.1.1.1.3.2">subscript</csymbol><ci id="S4.E8.m1.1.1.1.3.2.2.cmml" xref="S4.E8.m1.1.1.1.3.2.2">𝑝</ci><ci id="S4.E8.m1.1.1.1.3.2.3.cmml" xref="S4.E8.m1.1.1.1.3.2.3">italic-ϕ</ci></apply></apply><apply id="S4.E8.m1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E8.m1.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.E8.m1.1.1.1.1.1.1.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.2">𝑦</ci><ci id="S4.E8.m1.1.1.1.1.1.1.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E8.m1.1c">\widehat{y}_{NoDPR}=\operatornamewithlimits{argmax}_{y}p_{\phi}(y|x)\vspace{-0.3cm}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p id="S4.SS1.p5.4" class="ltx_p"><span id="S4.SS1.p5.4.1" class="ltx_text ltx_font_bold">RA-VQA-FrDPR</span> leaves the retriever frozen after pre-training and fine-tunes the generator only. 
<br class="ltx_break"><span id="S4.SS1.p5.4.2" class="ltx_text ltx_font_bold">RA-VQA-NoPR</span> is a version of RA-VQA in which document retrieval is trained only with model predictions.
The loss function is as Equation <a href="#S3.E6" title="In 3.3 RA-VQA: Joint Training of Document Retrieval and Answer Generation ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, but with positive and negative document sets defined as</p>
<table id="S4.E9" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S4.E9X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E9X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle{\mathcal{P}}_{NoPR}^{+}(x,\mathcal{S})" display="inline"><semantics id="S4.E9X.2.1.1.m1.2a"><mrow id="S4.E9X.2.1.1.m1.2.3" xref="S4.E9X.2.1.1.m1.2.3.cmml"><msubsup id="S4.E9X.2.1.1.m1.2.3.2" xref="S4.E9X.2.1.1.m1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E9X.2.1.1.m1.2.3.2.2.2" xref="S4.E9X.2.1.1.m1.2.3.2.2.2.cmml">𝒫</mi><mrow id="S4.E9X.2.1.1.m1.2.3.2.2.3" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.cmml"><mi id="S4.E9X.2.1.1.m1.2.3.2.2.3.2" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.2.cmml">N</mi><mo lspace="0em" rspace="0em" id="S4.E9X.2.1.1.m1.2.3.2.2.3.1" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.1.cmml">​</mo><mi id="S4.E9X.2.1.1.m1.2.3.2.2.3.3" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.E9X.2.1.1.m1.2.3.2.2.3.1a" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.1.cmml">​</mo><mi id="S4.E9X.2.1.1.m1.2.3.2.2.3.4" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.4.cmml">P</mi><mo lspace="0em" rspace="0em" id="S4.E9X.2.1.1.m1.2.3.2.2.3.1b" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.1.cmml">​</mo><mi id="S4.E9X.2.1.1.m1.2.3.2.2.3.5" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.5.cmml">R</mi></mrow><mo id="S4.E9X.2.1.1.m1.2.3.2.3" xref="S4.E9X.2.1.1.m1.2.3.2.3.cmml">+</mo></msubsup><mo lspace="0em" rspace="0em" id="S4.E9X.2.1.1.m1.2.3.1" xref="S4.E9X.2.1.1.m1.2.3.1.cmml">​</mo><mrow id="S4.E9X.2.1.1.m1.2.3.3.2" xref="S4.E9X.2.1.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S4.E9X.2.1.1.m1.2.3.3.2.1" xref="S4.E9X.2.1.1.m1.2.3.3.1.cmml">(</mo><mi id="S4.E9X.2.1.1.m1.1.1" xref="S4.E9X.2.1.1.m1.1.1.cmml">x</mi><mo id="S4.E9X.2.1.1.m1.2.3.3.2.2" xref="S4.E9X.2.1.1.m1.2.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.E9X.2.1.1.m1.2.2" xref="S4.E9X.2.1.1.m1.2.2.cmml">𝒮</mi><mo stretchy="false" id="S4.E9X.2.1.1.m1.2.3.3.2.3" xref="S4.E9X.2.1.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E9X.2.1.1.m1.2b"><apply id="S4.E9X.2.1.1.m1.2.3.cmml" xref="S4.E9X.2.1.1.m1.2.3"><times id="S4.E9X.2.1.1.m1.2.3.1.cmml" xref="S4.E9X.2.1.1.m1.2.3.1"></times><apply id="S4.E9X.2.1.1.m1.2.3.2.cmml" xref="S4.E9X.2.1.1.m1.2.3.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.2.3.2.1.cmml" xref="S4.E9X.2.1.1.m1.2.3.2">superscript</csymbol><apply id="S4.E9X.2.1.1.m1.2.3.2.2.cmml" xref="S4.E9X.2.1.1.m1.2.3.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.2.3.2.2.1.cmml" xref="S4.E9X.2.1.1.m1.2.3.2">subscript</csymbol><ci id="S4.E9X.2.1.1.m1.2.3.2.2.2.cmml" xref="S4.E9X.2.1.1.m1.2.3.2.2.2">𝒫</ci><apply id="S4.E9X.2.1.1.m1.2.3.2.2.3.cmml" xref="S4.E9X.2.1.1.m1.2.3.2.2.3"><times id="S4.E9X.2.1.1.m1.2.3.2.2.3.1.cmml" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.1"></times><ci id="S4.E9X.2.1.1.m1.2.3.2.2.3.2.cmml" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.2">𝑁</ci><ci id="S4.E9X.2.1.1.m1.2.3.2.2.3.3.cmml" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.3">𝑜</ci><ci id="S4.E9X.2.1.1.m1.2.3.2.2.3.4.cmml" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.4">𝑃</ci><ci id="S4.E9X.2.1.1.m1.2.3.2.2.3.5.cmml" xref="S4.E9X.2.1.1.m1.2.3.2.2.3.5">𝑅</ci></apply></apply><plus id="S4.E9X.2.1.1.m1.2.3.2.3.cmml" xref="S4.E9X.2.1.1.m1.2.3.2.3"></plus></apply><interval closure="open" id="S4.E9X.2.1.1.m1.2.3.3.1.cmml" xref="S4.E9X.2.1.1.m1.2.3.3.2"><ci id="S4.E9X.2.1.1.m1.1.1.cmml" xref="S4.E9X.2.1.1.m1.1.1">𝑥</ci><ci id="S4.E9X.2.1.1.m1.2.2.cmml" xref="S4.E9X.2.1.1.m1.2.2">𝒮</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9X.2.1.1.m1.2c">\displaystyle{\mathcal{P}}_{NoPR}^{+}(x,\mathcal{S})</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S4.E9X.3.2.2.m1.2" class="ltx_Math" alttext="\displaystyle=\{k:y_{k}=s_{k}^{\ast}\};" display="inline"><semantics id="S4.E9X.3.2.2.m1.2a"><mrow id="S4.E9X.3.2.2.m1.2.2.1" xref="S4.E9X.3.2.2.m1.2.2.1.1.cmml"><mrow id="S4.E9X.3.2.2.m1.2.2.1.1" xref="S4.E9X.3.2.2.m1.2.2.1.1.cmml"><mi id="S4.E9X.3.2.2.m1.2.2.1.1.3" xref="S4.E9X.3.2.2.m1.2.2.1.1.3.cmml"></mi><mo id="S4.E9X.3.2.2.m1.2.2.1.1.2" xref="S4.E9X.3.2.2.m1.2.2.1.1.2.cmml">=</mo><mrow id="S4.E9X.3.2.2.m1.2.2.1.1.1.1" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.2.cmml"><mo stretchy="false" id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.2" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.2.1.cmml">{</mo><mi id="S4.E9X.3.2.2.m1.1.1" xref="S4.E9X.3.2.2.m1.1.1.cmml">k</mi><mo lspace="0.278em" rspace="0.278em" id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.3" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.2.1.cmml">:</mo><mrow id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.cmml"><msub id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2.cmml"><mi id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2.2" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2.3" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2.3.cmml">k</mi></msub><mo id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml">=</mo><msubsup id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.cmml"><mi id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.2.2" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.2.2.cmml">s</mi><mi id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.2.3" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.2.3.cmml">k</mi><mo id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.3" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.3.cmml">∗</mo></msubsup></mrow><mo stretchy="false" id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.4" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.2.1.cmml">}</mo></mrow></mrow><mo id="S4.E9X.3.2.2.m1.2.2.1.2" xref="S4.E9X.3.2.2.m1.2.2.1.1.cmml">;</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E9X.3.2.2.m1.2b"><apply id="S4.E9X.3.2.2.m1.2.2.1.1.cmml" xref="S4.E9X.3.2.2.m1.2.2.1"><eq id="S4.E9X.3.2.2.m1.2.2.1.1.2.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.2"></eq><csymbol cd="latexml" id="S4.E9X.3.2.2.m1.2.2.1.1.3.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.3">absent</csymbol><apply id="S4.E9X.3.2.2.m1.2.2.1.1.1.2.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1"><csymbol cd="latexml" id="S4.E9X.3.2.2.m1.2.2.1.1.1.2.1.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.2">conditional-set</csymbol><ci id="S4.E9X.3.2.2.m1.1.1.cmml" xref="S4.E9X.3.2.2.m1.1.1">𝑘</ci><apply id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1"><eq id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.1"></eq><apply id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2.2.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2.3.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3">superscript</csymbol><apply id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.2.1.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.2.2.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.2.2">𝑠</ci><ci id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.2.3.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.2.3">𝑘</ci></apply><ci id="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S4.E9X.3.2.2.m1.2.2.1.1.1.1.1.3.3">∗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9X.3.2.2.m1.2c">\displaystyle=\{k:y_{k}=s_{k}^{\ast}\};</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(9)</span></td>
</tr>
<tr id="S4.E9Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E9Xa.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle{\mathcal{P}}_{NoPR}^{-}(x,\mathcal{S})" display="inline"><semantics id="S4.E9Xa.2.1.1.m1.2a"><mrow id="S4.E9Xa.2.1.1.m1.2.3" xref="S4.E9Xa.2.1.1.m1.2.3.cmml"><msubsup id="S4.E9Xa.2.1.1.m1.2.3.2" xref="S4.E9Xa.2.1.1.m1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E9Xa.2.1.1.m1.2.3.2.2.2" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.2.cmml">𝒫</mi><mrow id="S4.E9Xa.2.1.1.m1.2.3.2.2.3" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.cmml"><mi id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.2" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.2.cmml">N</mi><mo lspace="0em" rspace="0em" id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.1" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.1.cmml">​</mo><mi id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.3" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.1a" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.1.cmml">​</mo><mi id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.4" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.4.cmml">P</mi><mo lspace="0em" rspace="0em" id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.1b" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.1.cmml">​</mo><mi id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.5" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.5.cmml">R</mi></mrow><mo id="S4.E9Xa.2.1.1.m1.2.3.2.3" xref="S4.E9Xa.2.1.1.m1.2.3.2.3.cmml">−</mo></msubsup><mo lspace="0em" rspace="0em" id="S4.E9Xa.2.1.1.m1.2.3.1" xref="S4.E9Xa.2.1.1.m1.2.3.1.cmml">​</mo><mrow id="S4.E9Xa.2.1.1.m1.2.3.3.2" xref="S4.E9Xa.2.1.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S4.E9Xa.2.1.1.m1.2.3.3.2.1" xref="S4.E9Xa.2.1.1.m1.2.3.3.1.cmml">(</mo><mi id="S4.E9Xa.2.1.1.m1.1.1" xref="S4.E9Xa.2.1.1.m1.1.1.cmml">x</mi><mo id="S4.E9Xa.2.1.1.m1.2.3.3.2.2" xref="S4.E9Xa.2.1.1.m1.2.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.E9Xa.2.1.1.m1.2.2" xref="S4.E9Xa.2.1.1.m1.2.2.cmml">𝒮</mi><mo stretchy="false" id="S4.E9Xa.2.1.1.m1.2.3.3.2.3" xref="S4.E9Xa.2.1.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E9Xa.2.1.1.m1.2b"><apply id="S4.E9Xa.2.1.1.m1.2.3.cmml" xref="S4.E9Xa.2.1.1.m1.2.3"><times id="S4.E9Xa.2.1.1.m1.2.3.1.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.1"></times><apply id="S4.E9Xa.2.1.1.m1.2.3.2.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2"><csymbol cd="ambiguous" id="S4.E9Xa.2.1.1.m1.2.3.2.1.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2">superscript</csymbol><apply id="S4.E9Xa.2.1.1.m1.2.3.2.2.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2"><csymbol cd="ambiguous" id="S4.E9Xa.2.1.1.m1.2.3.2.2.1.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2">subscript</csymbol><ci id="S4.E9Xa.2.1.1.m1.2.3.2.2.2.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.2">𝒫</ci><apply id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3"><times id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.1.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.1"></times><ci id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.2.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.2">𝑁</ci><ci id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.3.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.3">𝑜</ci><ci id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.4.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.4">𝑃</ci><ci id="S4.E9Xa.2.1.1.m1.2.3.2.2.3.5.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2.2.3.5">𝑅</ci></apply></apply><minus id="S4.E9Xa.2.1.1.m1.2.3.2.3.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.2.3"></minus></apply><interval closure="open" id="S4.E9Xa.2.1.1.m1.2.3.3.1.cmml" xref="S4.E9Xa.2.1.1.m1.2.3.3.2"><ci id="S4.E9Xa.2.1.1.m1.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.1.1">𝑥</ci><ci id="S4.E9Xa.2.1.1.m1.2.2.cmml" xref="S4.E9Xa.2.1.1.m1.2.2">𝒮</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9Xa.2.1.1.m1.2c">\displaystyle{\mathcal{P}}_{NoPR}^{-}(x,\mathcal{S})</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S4.E9Xa.3.2.2.m1.2" class="ltx_Math" alttext="\displaystyle=\{k:y_{k}\neq s_{k}^{\ast}\}." display="inline"><semantics id="S4.E9Xa.3.2.2.m1.2a"><mrow id="S4.E9Xa.3.2.2.m1.2.2.1" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.cmml"><mrow id="S4.E9Xa.3.2.2.m1.2.2.1.1" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.cmml"><mi id="S4.E9Xa.3.2.2.m1.2.2.1.1.3" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.3.cmml"></mi><mo id="S4.E9Xa.3.2.2.m1.2.2.1.1.2" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.2.cmml">=</mo><mrow id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.2.cmml"><mo stretchy="false" id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.2" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.2.1.cmml">{</mo><mi id="S4.E9Xa.3.2.2.m1.1.1" xref="S4.E9Xa.3.2.2.m1.1.1.cmml">k</mi><mo lspace="0.278em" rspace="0.278em" id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.3" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.2.1.cmml">:</mo><mrow id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.cmml"><msub id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2.cmml"><mi id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2.3" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2.3.cmml">k</mi></msub><mo id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.1.cmml">≠</mo><msubsup id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.cmml"><mi id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.2" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.2.cmml">s</mi><mi id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.3" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.3.cmml">k</mi><mo id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.3" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.3.cmml">∗</mo></msubsup></mrow><mo stretchy="false" id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.4" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.2.1.cmml">}</mo></mrow></mrow><mo lspace="0em" id="S4.E9Xa.3.2.2.m1.2.2.1.2" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E9Xa.3.2.2.m1.2b"><apply id="S4.E9Xa.3.2.2.m1.2.2.1.1.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1"><eq id="S4.E9Xa.3.2.2.m1.2.2.1.1.2.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.2"></eq><csymbol cd="latexml" id="S4.E9Xa.3.2.2.m1.2.2.1.1.3.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.3">absent</csymbol><apply id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.2.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1"><csymbol cd="latexml" id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.2.1.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.2">conditional-set</csymbol><ci id="S4.E9Xa.3.2.2.m1.1.1.cmml" xref="S4.E9Xa.3.2.2.m1.1.1">𝑘</ci><apply id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1"><neq id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.1.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.1"></neq><apply id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2.3.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3">superscript</csymbol><apply id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.1.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.2.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.2">𝑠</ci><ci id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.3.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.2.3">𝑘</ci></apply><ci id="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S4.E9Xa.3.2.2.m1.2.2.1.1.1.1.1.3.3">∗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9Xa.3.2.2.m1.2c">\displaystyle=\{k:y_{k}\neq s_{k}^{\ast}\}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p id="S4.SS1.p5.2" class="ltx_p"><span id="S4.SS1.p5.2.1" class="ltx_text ltx_font_bold">RA-VQA-NoCT</span> replaces the customized generation targets by the single most popular response (<math id="S4.SS1.p5.1.m1.1" class="ltx_Math" alttext="s_{k}^{\ast}" display="inline"><semantics id="S4.SS1.p5.1.m1.1a"><msubsup id="S4.SS1.p5.1.m1.1.1" xref="S4.SS1.p5.1.m1.1.1.cmml"><mi id="S4.SS1.p5.1.m1.1.1.2.2" xref="S4.SS1.p5.1.m1.1.1.2.2.cmml">s</mi><mi id="S4.SS1.p5.1.m1.1.1.2.3" xref="S4.SS1.p5.1.m1.1.1.2.3.cmml">k</mi><mo id="S4.SS1.p5.1.m1.1.1.3" xref="S4.SS1.p5.1.m1.1.1.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.1.m1.1b"><apply id="S4.SS1.p5.1.m1.1.1.cmml" xref="S4.SS1.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p5.1.m1.1.1.1.cmml" xref="S4.SS1.p5.1.m1.1.1">superscript</csymbol><apply id="S4.SS1.p5.1.m1.1.1.2.cmml" xref="S4.SS1.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p5.1.m1.1.1.2.1.cmml" xref="S4.SS1.p5.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p5.1.m1.1.1.2.2.cmml" xref="S4.SS1.p5.1.m1.1.1.2.2">𝑠</ci><ci id="S4.SS1.p5.1.m1.1.1.2.3.cmml" xref="S4.SS1.p5.1.m1.1.1.2.3">𝑘</ci></apply><ci id="S4.SS1.p5.1.m1.1.1.3.cmml" xref="S4.SS1.p5.1.m1.1.1.3">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.1.m1.1c">s_{k}^{\ast}</annotation></semantics></math> becomes <math id="S4.SS1.p5.2.m2.1" class="ltx_Math" alttext="s^{\ast}" display="inline"><semantics id="S4.SS1.p5.2.m2.1a"><msup id="S4.SS1.p5.2.m2.1.1" xref="S4.SS1.p5.2.m2.1.1.cmml"><mi id="S4.SS1.p5.2.m2.1.1.2" xref="S4.SS1.p5.2.m2.1.1.2.cmml">s</mi><mo id="S4.SS1.p5.2.m2.1.1.3" xref="S4.SS1.p5.2.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.2.m2.1b"><apply id="S4.SS1.p5.2.m2.1.1.cmml" xref="S4.SS1.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p5.2.m2.1.1.1.cmml" xref="S4.SS1.p5.2.m2.1.1">superscript</csymbol><ci id="S4.SS1.p5.2.m2.1.1.2.cmml" xref="S4.SS1.p5.2.m2.1.1.2">𝑠</ci><ci id="S4.SS1.p5.2.m2.1.1.3.cmml" xref="S4.SS1.p5.2.m2.1.1.3">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.2.m2.1c">s^{\ast}</annotation></semantics></math> in Equation <a href="#S3.E6" title="In 3.3 RA-VQA: Joint Training of Document Retrieval and Answer Generation ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>) so that the generator is trained to produce the same answer from every retrieved document.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Evaluation</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">The following metrics are applied to assess the quality of individual answers generated and documents retrieved.
Average scores are then computed over the evaluation set. The average of 3 runs with different seeds is reported.</p>
</div>
<section id="S4.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1 </span>Answer Evaluation</h4>

<div id="S4.SS2.SSS1.p1" class="ltx_para">
<p id="S4.SS2.SSS1.p1.1" class="ltx_p"><span id="S4.SS2.SSS1.p1.1.1" class="ltx_text ltx_font_bold">VQA Score</span>: We follow <cite class="ltx_cite ltx_citemacro_citet">Marino et al. (<a href="#bib.bib29" title="" class="ltx_ref">2019</a>)</cite> to compute VQA Scores using pre-processed human annotations <math id="S4.SS2.SSS1.p1.1.m1.1" class="ltx_Math" alttext="{\mathcal{S}}" display="inline"><semantics id="S4.SS2.SSS1.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p1.1.m1.1.1" xref="S4.SS2.SSS1.p1.1.m1.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.1.m1.1b"><ci id="S4.SS2.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS1.p1.1.m1.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.1.m1.1c">{\mathcal{S}}</annotation></semantics></math>:</p>
<table id="S4.E10" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E10.m1.6" class="ltx_Math" alttext="\text{VQAScore}(y,\mathcal{S})=\min\big{(}\frac{\#_{\mathcal{S}}(y)}{3},1\big{)},\vspace{-0.2cm}" display="block"><semantics id="S4.E10.m1.6a"><mrow id="S4.E10.m1.6.6.1" xref="S4.E10.m1.6.6.1.1.cmml"><mrow id="S4.E10.m1.6.6.1.1" xref="S4.E10.m1.6.6.1.1.cmml"><mrow id="S4.E10.m1.6.6.1.1.2" xref="S4.E10.m1.6.6.1.1.2.cmml"><mtext id="S4.E10.m1.6.6.1.1.2.2" xref="S4.E10.m1.6.6.1.1.2.2a.cmml">VQAScore</mtext><mo lspace="0em" rspace="0em" id="S4.E10.m1.6.6.1.1.2.1" xref="S4.E10.m1.6.6.1.1.2.1.cmml">​</mo><mrow id="S4.E10.m1.6.6.1.1.2.3.2" xref="S4.E10.m1.6.6.1.1.2.3.1.cmml"><mo stretchy="false" id="S4.E10.m1.6.6.1.1.2.3.2.1" xref="S4.E10.m1.6.6.1.1.2.3.1.cmml">(</mo><mi id="S4.E10.m1.2.2" xref="S4.E10.m1.2.2.cmml">y</mi><mo id="S4.E10.m1.6.6.1.1.2.3.2.2" xref="S4.E10.m1.6.6.1.1.2.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.E10.m1.3.3" xref="S4.E10.m1.3.3.cmml">𝒮</mi><mo stretchy="false" id="S4.E10.m1.6.6.1.1.2.3.2.3" xref="S4.E10.m1.6.6.1.1.2.3.1.cmml">)</mo></mrow></mrow><mo id="S4.E10.m1.6.6.1.1.1" xref="S4.E10.m1.6.6.1.1.1.cmml">=</mo><mrow id="S4.E10.m1.6.6.1.1.3.2" xref="S4.E10.m1.6.6.1.1.3.1.cmml"><mi id="S4.E10.m1.4.4" xref="S4.E10.m1.4.4.cmml">min</mi><mo id="S4.E10.m1.6.6.1.1.3.2a" xref="S4.E10.m1.6.6.1.1.3.1.cmml">⁡</mo><mrow id="S4.E10.m1.6.6.1.1.3.2.1" xref="S4.E10.m1.6.6.1.1.3.1.cmml"><mo maxsize="120%" minsize="120%" id="S4.E10.m1.6.6.1.1.3.2.1.1" xref="S4.E10.m1.6.6.1.1.3.1.cmml">(</mo><mfrac id="S4.E10.m1.1.1" xref="S4.E10.m1.1.1.cmml"><mrow id="S4.E10.m1.1.1.1" xref="S4.E10.m1.1.1.1.cmml"><msub id="S4.E10.m1.1.1.1.3" xref="S4.E10.m1.1.1.1.3.cmml"><mi mathvariant="normal" id="S4.E10.m1.1.1.1.3.2" xref="S4.E10.m1.1.1.1.3.2.cmml">#</mi><mi class="ltx_font_mathcaligraphic" id="S4.E10.m1.1.1.1.3.3" xref="S4.E10.m1.1.1.1.3.3.cmml">𝒮</mi></msub><mo lspace="0em" rspace="0em" id="S4.E10.m1.1.1.1.2" xref="S4.E10.m1.1.1.1.2.cmml">​</mo><mrow id="S4.E10.m1.1.1.1.4.2" xref="S4.E10.m1.1.1.1.cmml"><mo stretchy="false" id="S4.E10.m1.1.1.1.4.2.1" xref="S4.E10.m1.1.1.1.cmml">(</mo><mi id="S4.E10.m1.1.1.1.1" xref="S4.E10.m1.1.1.1.1.cmml">y</mi><mo stretchy="false" id="S4.E10.m1.1.1.1.4.2.2" xref="S4.E10.m1.1.1.1.cmml">)</mo></mrow></mrow><mn id="S4.E10.m1.1.1.3" xref="S4.E10.m1.1.1.3.cmml">3</mn></mfrac><mo id="S4.E10.m1.6.6.1.1.3.2.1.2" xref="S4.E10.m1.6.6.1.1.3.1.cmml">,</mo><mn id="S4.E10.m1.5.5" xref="S4.E10.m1.5.5.cmml">1</mn><mo maxsize="120%" minsize="120%" id="S4.E10.m1.6.6.1.1.3.2.1.3" xref="S4.E10.m1.6.6.1.1.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E10.m1.6.6.1.2" xref="S4.E10.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E10.m1.6b"><apply id="S4.E10.m1.6.6.1.1.cmml" xref="S4.E10.m1.6.6.1"><eq id="S4.E10.m1.6.6.1.1.1.cmml" xref="S4.E10.m1.6.6.1.1.1"></eq><apply id="S4.E10.m1.6.6.1.1.2.cmml" xref="S4.E10.m1.6.6.1.1.2"><times id="S4.E10.m1.6.6.1.1.2.1.cmml" xref="S4.E10.m1.6.6.1.1.2.1"></times><ci id="S4.E10.m1.6.6.1.1.2.2a.cmml" xref="S4.E10.m1.6.6.1.1.2.2"><mtext id="S4.E10.m1.6.6.1.1.2.2.cmml" xref="S4.E10.m1.6.6.1.1.2.2">VQAScore</mtext></ci><interval closure="open" id="S4.E10.m1.6.6.1.1.2.3.1.cmml" xref="S4.E10.m1.6.6.1.1.2.3.2"><ci id="S4.E10.m1.2.2.cmml" xref="S4.E10.m1.2.2">𝑦</ci><ci id="S4.E10.m1.3.3.cmml" xref="S4.E10.m1.3.3">𝒮</ci></interval></apply><apply id="S4.E10.m1.6.6.1.1.3.1.cmml" xref="S4.E10.m1.6.6.1.1.3.2"><min id="S4.E10.m1.4.4.cmml" xref="S4.E10.m1.4.4"></min><apply id="S4.E10.m1.1.1.cmml" xref="S4.E10.m1.1.1"><divide id="S4.E10.m1.1.1.2.cmml" xref="S4.E10.m1.1.1"></divide><apply id="S4.E10.m1.1.1.1.cmml" xref="S4.E10.m1.1.1.1"><times id="S4.E10.m1.1.1.1.2.cmml" xref="S4.E10.m1.1.1.1.2"></times><apply id="S4.E10.m1.1.1.1.3.cmml" xref="S4.E10.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.1.1.1.3.1.cmml" xref="S4.E10.m1.1.1.1.3">subscript</csymbol><ci id="S4.E10.m1.1.1.1.3.2.cmml" xref="S4.E10.m1.1.1.1.3.2">#</ci><ci id="S4.E10.m1.1.1.1.3.3.cmml" xref="S4.E10.m1.1.1.1.3.3">𝒮</ci></apply><ci id="S4.E10.m1.1.1.1.1.cmml" xref="S4.E10.m1.1.1.1.1">𝑦</ci></apply><cn type="integer" id="S4.E10.m1.1.1.3.cmml" xref="S4.E10.m1.1.1.3">3</cn></apply><cn type="integer" id="S4.E10.m1.5.5.cmml" xref="S4.E10.m1.5.5">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E10.m1.6c">\text{VQAScore}(y,\mathcal{S})=\min\big{(}\frac{\#_{\mathcal{S}}(y)}{3},1\big{)},\vspace{-0.2cm}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
<p id="S4.SS2.SSS1.p1.3" class="ltx_p">where <math id="S4.SS2.SSS1.p1.2.m1.1" class="ltx_Math" alttext="\#_{\mathcal{S}}(y)" display="inline"><semantics id="S4.SS2.SSS1.p1.2.m1.1a"><mrow id="S4.SS2.SSS1.p1.2.m1.1.2" xref="S4.SS2.SSS1.p1.2.m1.1.2.cmml"><msub id="S4.SS2.SSS1.p1.2.m1.1.2.2" xref="S4.SS2.SSS1.p1.2.m1.1.2.2.cmml"><mi mathvariant="normal" id="S4.SS2.SSS1.p1.2.m1.1.2.2.2" xref="S4.SS2.SSS1.p1.2.m1.1.2.2.2.cmml">#</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p1.2.m1.1.2.2.3" xref="S4.SS2.SSS1.p1.2.m1.1.2.2.3.cmml">𝒮</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS2.SSS1.p1.2.m1.1.2.1" xref="S4.SS2.SSS1.p1.2.m1.1.2.1.cmml">​</mo><mrow id="S4.SS2.SSS1.p1.2.m1.1.2.3.2" xref="S4.SS2.SSS1.p1.2.m1.1.2.cmml"><mo stretchy="false" id="S4.SS2.SSS1.p1.2.m1.1.2.3.2.1" xref="S4.SS2.SSS1.p1.2.m1.1.2.cmml">(</mo><mi id="S4.SS2.SSS1.p1.2.m1.1.1" xref="S4.SS2.SSS1.p1.2.m1.1.1.cmml">y</mi><mo stretchy="false" id="S4.SS2.SSS1.p1.2.m1.1.2.3.2.2" xref="S4.SS2.SSS1.p1.2.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.2.m1.1b"><apply id="S4.SS2.SSS1.p1.2.m1.1.2.cmml" xref="S4.SS2.SSS1.p1.2.m1.1.2"><times id="S4.SS2.SSS1.p1.2.m1.1.2.1.cmml" xref="S4.SS2.SSS1.p1.2.m1.1.2.1"></times><apply id="S4.SS2.SSS1.p1.2.m1.1.2.2.cmml" xref="S4.SS2.SSS1.p1.2.m1.1.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p1.2.m1.1.2.2.1.cmml" xref="S4.SS2.SSS1.p1.2.m1.1.2.2">subscript</csymbol><ci id="S4.SS2.SSS1.p1.2.m1.1.2.2.2.cmml" xref="S4.SS2.SSS1.p1.2.m1.1.2.2.2">#</ci><ci id="S4.SS2.SSS1.p1.2.m1.1.2.2.3.cmml" xref="S4.SS2.SSS1.p1.2.m1.1.2.2.3">𝒮</ci></apply><ci id="S4.SS2.SSS1.p1.2.m1.1.1.cmml" xref="S4.SS2.SSS1.p1.2.m1.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.2.m1.1c">\#_{\mathcal{S}}(y)</annotation></semantics></math> is the number of annotators who answered <math id="S4.SS2.SSS1.p1.3.m2.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S4.SS2.SSS1.p1.3.m2.1a"><mi id="S4.SS2.SSS1.p1.3.m2.1.1" xref="S4.SS2.SSS1.p1.3.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.3.m2.1b"><ci id="S4.SS2.SSS1.p1.3.m2.1.1.cmml" xref="S4.SS2.SSS1.p1.3.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.3.m2.1c">y</annotation></semantics></math>.
This score ensures that a model is partially rewarded even if it generates one of the less popular answers from amongst the human responses.</p>
</div>
<div id="S4.SS2.SSS1.p2" class="ltx_para">
<p id="S4.SS2.SSS1.p2.1" class="ltx_p"><span id="S4.SS2.SSS1.p2.1.1" class="ltx_text ltx_font_bold">Exact Match (EM)</span>
treats annotated answers equally:
<math id="S4.SS2.SSS1.p2.1.m1.6" class="ltx_Math" alttext="\text{EM}(y,\mathcal{S})=\min(\#_{\mathcal{S}}(y),1)" display="inline"><semantics id="S4.SS2.SSS1.p2.1.m1.6a"><mrow id="S4.SS2.SSS1.p2.1.m1.6.6" xref="S4.SS2.SSS1.p2.1.m1.6.6.cmml"><mrow id="S4.SS2.SSS1.p2.1.m1.6.6.3" xref="S4.SS2.SSS1.p2.1.m1.6.6.3.cmml"><mtext id="S4.SS2.SSS1.p2.1.m1.6.6.3.2" xref="S4.SS2.SSS1.p2.1.m1.6.6.3.2a.cmml">EM</mtext><mo lspace="0em" rspace="0em" id="S4.SS2.SSS1.p2.1.m1.6.6.3.1" xref="S4.SS2.SSS1.p2.1.m1.6.6.3.1.cmml">​</mo><mrow id="S4.SS2.SSS1.p2.1.m1.6.6.3.3.2" xref="S4.SS2.SSS1.p2.1.m1.6.6.3.3.1.cmml"><mo stretchy="false" id="S4.SS2.SSS1.p2.1.m1.6.6.3.3.2.1" xref="S4.SS2.SSS1.p2.1.m1.6.6.3.3.1.cmml">(</mo><mi id="S4.SS2.SSS1.p2.1.m1.1.1" xref="S4.SS2.SSS1.p2.1.m1.1.1.cmml">y</mi><mo id="S4.SS2.SSS1.p2.1.m1.6.6.3.3.2.2" xref="S4.SS2.SSS1.p2.1.m1.6.6.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p2.1.m1.2.2" xref="S4.SS2.SSS1.p2.1.m1.2.2.cmml">𝒮</mi><mo stretchy="false" id="S4.SS2.SSS1.p2.1.m1.6.6.3.3.2.3" xref="S4.SS2.SSS1.p2.1.m1.6.6.3.3.1.cmml">)</mo></mrow></mrow><mo id="S4.SS2.SSS1.p2.1.m1.6.6.2" xref="S4.SS2.SSS1.p2.1.m1.6.6.2.cmml">=</mo><mrow id="S4.SS2.SSS1.p2.1.m1.6.6.1.1" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.2.cmml"><mi id="S4.SS2.SSS1.p2.1.m1.4.4" xref="S4.SS2.SSS1.p2.1.m1.4.4.cmml">min</mi><mo id="S4.SS2.SSS1.p2.1.m1.6.6.1.1a" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.2.cmml">⁡</mo><mrow id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.2.cmml"><mo stretchy="false" id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.2" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.2.cmml">(</mo><mrow id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.cmml"><msub id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2.cmml"><mi mathvariant="normal" id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2.2" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2.2.cmml">#</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2.3" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2.3.cmml">𝒮</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.1" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.1.cmml">​</mo><mrow id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.3.2" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.3.2.1" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.cmml">(</mo><mi id="S4.SS2.SSS1.p2.1.m1.3.3" xref="S4.SS2.SSS1.p2.1.m1.3.3.cmml">y</mi><mo stretchy="false" id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.3.2.2" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.3" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.2.cmml">,</mo><mn id="S4.SS2.SSS1.p2.1.m1.5.5" xref="S4.SS2.SSS1.p2.1.m1.5.5.cmml">1</mn><mo stretchy="false" id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.4" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.1.m1.6b"><apply id="S4.SS2.SSS1.p2.1.m1.6.6.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6"><eq id="S4.SS2.SSS1.p2.1.m1.6.6.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.2"></eq><apply id="S4.SS2.SSS1.p2.1.m1.6.6.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.3"><times id="S4.SS2.SSS1.p2.1.m1.6.6.3.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.3.1"></times><ci id="S4.SS2.SSS1.p2.1.m1.6.6.3.2a.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.3.2"><mtext id="S4.SS2.SSS1.p2.1.m1.6.6.3.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.3.2">EM</mtext></ci><interval closure="open" id="S4.SS2.SSS1.p2.1.m1.6.6.3.3.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.3.3.2"><ci id="S4.SS2.SSS1.p2.1.m1.1.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1">𝑦</ci><ci id="S4.SS2.SSS1.p2.1.m1.2.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.2.2">𝒮</ci></interval></apply><apply id="S4.SS2.SSS1.p2.1.m1.6.6.1.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1"><min id="S4.SS2.SSS1.p2.1.m1.4.4.cmml" xref="S4.SS2.SSS1.p2.1.m1.4.4"></min><apply id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1"><times id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.1"></times><apply id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2.2.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2.2">#</ci><ci id="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.6.6.1.1.1.1.2.3">𝒮</ci></apply><ci id="S4.SS2.SSS1.p2.1.m1.3.3.cmml" xref="S4.SS2.SSS1.p2.1.m1.3.3">𝑦</ci></apply><cn type="integer" id="S4.SS2.SSS1.p2.1.m1.5.5.cmml" xref="S4.SS2.SSS1.p2.1.m1.5.5">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.1.m1.6c">\text{EM}(y,\mathcal{S})=\min(\#_{\mathcal{S}}(y),1)</annotation></semantics></math> .</p>
</div>
</section>
<section id="S4.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.2 </span>Retrieval Evaluation</h4>

<div id="S4.SS2.SSS2.p1" class="ltx_para">
<p id="S4.SS2.SSS2.p1.1" class="ltx_p">Following <cite class="ltx_cite ltx_citemacro_citet">Luo et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite>, we use pseudo relevance to ascertain whether the retrieved documents are relevant to the response.
It concerns pseudo relevance instead of actual relevance but is still a reasonable metric for retrieval evaluation.</p>
</div>
<div id="S4.SS2.SSS2.p2" class="ltx_para">
<p id="S4.SS2.SSS2.p2.1" class="ltx_p"><span id="S4.SS2.SSS2.p2.1.1" class="ltx_text ltx_font_bold">Pseudo Relevance Recall (PRRecall)@K</span> measures how likely the retrieved <math id="S4.SS2.SSS2.p2.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS2.SSS2.p2.1.m1.1a"><mi id="S4.SS2.SSS2.p2.1.m1.1.1" xref="S4.SS2.SSS2.p2.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p2.1.m1.1b"><ci id="S4.SS2.SSS2.p2.1.m1.1.1.cmml" xref="S4.SS2.SSS2.p2.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p2.1.m1.1c">K</annotation></semantics></math> documents contains at least one positive document:</p>
<table id="S4.E11" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E11.m1.4" class="ltx_Math" alttext="\text{PRRecall@K}=\min\big{(}\sum_{k=1}^{K}H(z_{k},{\mathcal{S}}),1\big{)}." display="block"><semantics id="S4.E11.m1.4a"><mrow id="S4.E11.m1.4.4.1" xref="S4.E11.m1.4.4.1.1.cmml"><mrow id="S4.E11.m1.4.4.1.1" xref="S4.E11.m1.4.4.1.1.cmml"><mtext id="S4.E11.m1.4.4.1.1.3" xref="S4.E11.m1.4.4.1.1.3a.cmml">PRRecall@K</mtext><mo id="S4.E11.m1.4.4.1.1.2" xref="S4.E11.m1.4.4.1.1.2.cmml">=</mo><mrow id="S4.E11.m1.4.4.1.1.1.1" xref="S4.E11.m1.4.4.1.1.1.2.cmml"><mi id="S4.E11.m1.2.2" xref="S4.E11.m1.2.2.cmml">min</mi><mo id="S4.E11.m1.4.4.1.1.1.1a" xref="S4.E11.m1.4.4.1.1.1.2.cmml">⁡</mo><mrow id="S4.E11.m1.4.4.1.1.1.1.1" xref="S4.E11.m1.4.4.1.1.1.2.cmml"><mo maxsize="120%" minsize="120%" id="S4.E11.m1.4.4.1.1.1.1.1.2" xref="S4.E11.m1.4.4.1.1.1.2.cmml">(</mo><mrow id="S4.E11.m1.4.4.1.1.1.1.1.1" xref="S4.E11.m1.4.4.1.1.1.1.1.1.cmml"><munderover id="S4.E11.m1.4.4.1.1.1.1.1.1.2" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.cmml"><mo lspace="0em" movablelimits="false" id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.2" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.cmml"><mi id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.2" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.2.cmml">k</mi><mo id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.1" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.3" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S4.E11.m1.4.4.1.1.1.1.1.1.2.3" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.3.cmml">K</mi></munderover><mrow id="S4.E11.m1.4.4.1.1.1.1.1.1.1" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.cmml"><mi id="S4.E11.m1.4.4.1.1.1.1.1.1.1.3" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.3.cmml">H</mi><mo lspace="0em" rspace="0em" id="S4.E11.m1.4.4.1.1.1.1.1.1.1.2" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.2" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.2.cmml">(</mo><msub id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.3" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.E11.m1.1.1" xref="S4.E11.m1.1.1.cmml">𝒮</mi><mo stretchy="false" id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.4" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E11.m1.4.4.1.1.1.1.1.3" xref="S4.E11.m1.4.4.1.1.1.2.cmml">,</mo><mn id="S4.E11.m1.3.3" xref="S4.E11.m1.3.3.cmml">1</mn><mo maxsize="120%" minsize="120%" id="S4.E11.m1.4.4.1.1.1.1.1.4" xref="S4.E11.m1.4.4.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="S4.E11.m1.4.4.1.2" xref="S4.E11.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E11.m1.4b"><apply id="S4.E11.m1.4.4.1.1.cmml" xref="S4.E11.m1.4.4.1"><eq id="S4.E11.m1.4.4.1.1.2.cmml" xref="S4.E11.m1.4.4.1.1.2"></eq><ci id="S4.E11.m1.4.4.1.1.3a.cmml" xref="S4.E11.m1.4.4.1.1.3"><mtext id="S4.E11.m1.4.4.1.1.3.cmml" xref="S4.E11.m1.4.4.1.1.3">PRRecall@K</mtext></ci><apply id="S4.E11.m1.4.4.1.1.1.2.cmml" xref="S4.E11.m1.4.4.1.1.1.1"><min id="S4.E11.m1.2.2.cmml" xref="S4.E11.m1.2.2"></min><apply id="S4.E11.m1.4.4.1.1.1.1.1.1.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1"><apply id="S4.E11.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E11.m1.4.4.1.1.1.1.1.1.2.1.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2">superscript</csymbol><apply id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.1.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2">subscript</csymbol><sum id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.2"></sum><apply id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3"><eq id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.1.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.1"></eq><ci id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.2.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.2">𝑘</ci><cn type="integer" id="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.3.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S4.E11.m1.4.4.1.1.1.1.1.1.2.3.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.2.3">𝐾</ci></apply><apply id="S4.E11.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1"><times id="S4.E11.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.2"></times><ci id="S4.E11.m1.4.4.1.1.1.1.1.1.1.3.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.3">𝐻</ci><interval closure="open" id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1"><apply id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E11.m1.4.4.1.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><ci id="S4.E11.m1.1.1.cmml" xref="S4.E11.m1.1.1">𝒮</ci></interval></apply></apply><cn type="integer" id="S4.E11.m1.3.3.cmml" xref="S4.E11.m1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E11.m1.4c">\text{PRRecall@K}=\min\big{(}\sum_{k=1}^{K}H(z_{k},{\mathcal{S}}),1\big{)}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section id="S4.SS2.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.3 </span>Integrated System Evaluation</h4>

<div id="S4.SS2.SSS3.p1" class="ltx_para">
<p id="S4.SS2.SSS3.p1.1" class="ltx_p">The above methods evaluate retrieval and answer generation as separate processes.
We propose additional metrics that assess how the two processes behave in an integrated VQA system.</p>
</div>
<div id="S4.SS2.SSS3.p2" class="ltx_para">
<p id="S4.SS2.SSS3.p2.1" class="ltx_p">The <span id="S4.SS2.SSS3.p2.1.1" class="ltx_text ltx_font_bold">Hit Success Ratio (HSR)</span> counts questions that require external knowledge to answer:</p>
<table id="S4.E12" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E12.m1.1" class="ltx_Math" alttext="HSR=\mathbbm{1}\big{\{}\widehat{y}\in{\mathcal{S}}\land\widehat{y}_{NoDPR}\notin{\mathcal{S}}\big{\}}.\vspace{-0.1cm}" display="block"><semantics id="S4.E12.m1.1a"><mrow id="S4.E12.m1.1.1.1" xref="S4.E12.m1.1.1.1.1.cmml"><mrow id="S4.E12.m1.1.1.1.1" xref="S4.E12.m1.1.1.1.1.cmml"><mrow id="S4.E12.m1.1.1.1.1.3" xref="S4.E12.m1.1.1.1.1.3.cmml"><mi id="S4.E12.m1.1.1.1.1.3.2" xref="S4.E12.m1.1.1.1.1.3.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="S4.E12.m1.1.1.1.1.3.1" xref="S4.E12.m1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.E12.m1.1.1.1.1.3.3" xref="S4.E12.m1.1.1.1.1.3.3.cmml">S</mi><mo lspace="0em" rspace="0em" id="S4.E12.m1.1.1.1.1.3.1a" xref="S4.E12.m1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.E12.m1.1.1.1.1.3.4" xref="S4.E12.m1.1.1.1.1.3.4.cmml">R</mi></mrow><mo id="S4.E12.m1.1.1.1.1.2" xref="S4.E12.m1.1.1.1.1.2.cmml">=</mo><mrow id="S4.E12.m1.1.1.1.1.1" xref="S4.E12.m1.1.1.1.1.1.cmml"><mn id="S4.E12.m1.1.1.1.1.1.3" xref="S4.E12.m1.1.1.1.1.1.3.cmml">𝟙</mn><mo lspace="0em" rspace="0em" id="S4.E12.m1.1.1.1.1.1.2" xref="S4.E12.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S4.E12.m1.1.1.1.1.1.1.1" xref="S4.E12.m1.1.1.1.1.1.1.2.cmml"><mo maxsize="120%" minsize="120%" id="S4.E12.m1.1.1.1.1.1.1.1.2" xref="S4.E12.m1.1.1.1.1.1.1.2.cmml">{</mo><mrow id="S4.E12.m1.1.1.1.1.1.1.1.1" xref="S4.E12.m1.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S4.E12.m1.1.1.1.1.1.1.1.1.2" xref="S4.E12.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.E12.m1.1.1.1.1.1.1.1.1.2.2" xref="S4.E12.m1.1.1.1.1.1.1.1.1.2.2.cmml">y</mi><mo id="S4.E12.m1.1.1.1.1.1.1.1.1.2.1" xref="S4.E12.m1.1.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mo id="S4.E12.m1.1.1.1.1.1.1.1.1.3" xref="S4.E12.m1.1.1.1.1.1.1.1.1.3.cmml">∈</mo><mrow id="S4.E12.m1.1.1.1.1.1.1.1.1.4" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E12.m1.1.1.1.1.1.1.1.1.4.2" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.2.cmml">𝒮</mi><mo id="S4.E12.m1.1.1.1.1.1.1.1.1.4.1" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.1.cmml">∧</mo><msub id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.cmml"><mover accent="true" id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2.cmml"><mi id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2.2" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2.2.cmml">y</mi><mo id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2.1" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2.1.cmml">^</mo></mover><mrow id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.cmml"><mi id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.2" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.2.cmml">N</mi><mo lspace="0em" rspace="0em" id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.1" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.3" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.1a" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.4" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.4.cmml">D</mi><mo lspace="0em" rspace="0em" id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.1b" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.5" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.5.cmml">P</mi><mo lspace="0em" rspace="0em" id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.1c" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.6" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.6.cmml">R</mi></mrow></msub></mrow><mo id="S4.E12.m1.1.1.1.1.1.1.1.1.5" xref="S4.E12.m1.1.1.1.1.1.1.1.1.5.cmml">∉</mo><mi class="ltx_font_mathcaligraphic" id="S4.E12.m1.1.1.1.1.1.1.1.1.6" xref="S4.E12.m1.1.1.1.1.1.1.1.1.6.cmml">𝒮</mi></mrow><mo maxsize="120%" minsize="120%" id="S4.E12.m1.1.1.1.1.1.1.1.3" xref="S4.E12.m1.1.1.1.1.1.1.2.cmml">}</mo></mrow></mrow></mrow><mo lspace="0em" id="S4.E12.m1.1.1.1.2" xref="S4.E12.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E12.m1.1b"><apply id="S4.E12.m1.1.1.1.1.cmml" xref="S4.E12.m1.1.1.1"><eq id="S4.E12.m1.1.1.1.1.2.cmml" xref="S4.E12.m1.1.1.1.1.2"></eq><apply id="S4.E12.m1.1.1.1.1.3.cmml" xref="S4.E12.m1.1.1.1.1.3"><times id="S4.E12.m1.1.1.1.1.3.1.cmml" xref="S4.E12.m1.1.1.1.1.3.1"></times><ci id="S4.E12.m1.1.1.1.1.3.2.cmml" xref="S4.E12.m1.1.1.1.1.3.2">𝐻</ci><ci id="S4.E12.m1.1.1.1.1.3.3.cmml" xref="S4.E12.m1.1.1.1.1.3.3">𝑆</ci><ci id="S4.E12.m1.1.1.1.1.3.4.cmml" xref="S4.E12.m1.1.1.1.1.3.4">𝑅</ci></apply><apply id="S4.E12.m1.1.1.1.1.1.cmml" xref="S4.E12.m1.1.1.1.1.1"><times id="S4.E12.m1.1.1.1.1.1.2.cmml" xref="S4.E12.m1.1.1.1.1.1.2"></times><cn type="integer" id="S4.E12.m1.1.1.1.1.1.3.cmml" xref="S4.E12.m1.1.1.1.1.1.3">1</cn><set id="S4.E12.m1.1.1.1.1.1.1.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1"><apply id="S4.E12.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1"><and id="S4.E12.m1.1.1.1.1.1.1.1.1a.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1"></and><apply id="S4.E12.m1.1.1.1.1.1.1.1.1b.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1"><in id="S4.E12.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.3"></in><apply id="S4.E12.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.2"><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.2.1">^</ci><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.2.2">𝑦</ci></apply><apply id="S4.E12.m1.1.1.1.1.1.1.1.1.4.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4"><and id="S4.E12.m1.1.1.1.1.1.1.1.1.4.1.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.1"></and><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.4.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.2">𝒮</ci><apply id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3"><csymbol cd="ambiguous" id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.1.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3">subscript</csymbol><apply id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2"><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2.1.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2.1">^</ci><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.2.2">𝑦</ci></apply><apply id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3"><times id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.1"></times><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.2">𝑁</ci><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.3.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.3">𝑜</ci><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.4.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.4">𝐷</ci><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.5.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.5">𝑃</ci><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.6.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.4.3.3.6">𝑅</ci></apply></apply></apply></apply><apply id="S4.E12.m1.1.1.1.1.1.1.1.1c.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1"><notin id="S4.E12.m1.1.1.1.1.1.1.1.1.5.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.5"></notin><share href="#S4.E12.m1.1.1.1.1.1.1.1.1.4.cmml" id="S4.E12.m1.1.1.1.1.1.1.1.1d.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1"></share><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.6.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.6">𝒮</ci></apply></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E12.m1.1c">HSR=\mathbbm{1}\big{\{}\widehat{y}\in{\mathcal{S}}\land\widehat{y}_{NoDPR}\notin{\mathcal{S}}\big{\}}.\vspace{-0.1cm}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
<p id="S4.SS2.SSS3.p2.2" class="ltx_p">HSR reflects the value of incorporating external documents into answer generation.</p>
</div>
<div id="S4.SS2.SSS3.p3" class="ltx_para">
<p id="S4.SS2.SSS3.p3.1" class="ltx_p">By contrast, <span id="S4.SS2.SSS3.p3.1.1" class="ltx_text ltx_font_bold">Free Success Rate (FSR)</span> counts questions that can be answered without external knowledge.</p>
<table id="S4.E13" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E13.m1.1" class="ltx_Math" alttext="FSR=\mathbbm{1}\big{\{}\widehat{y}\in{\mathcal{S}}\land\widehat{y}_{NoDPR}\in{\mathcal{S}}\big{\}}.\vspace{-0.1cm}" display="block"><semantics id="S4.E13.m1.1a"><mrow id="S4.E13.m1.1.1.1" xref="S4.E13.m1.1.1.1.1.cmml"><mrow id="S4.E13.m1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.cmml"><mrow id="S4.E13.m1.1.1.1.1.3" xref="S4.E13.m1.1.1.1.1.3.cmml"><mi id="S4.E13.m1.1.1.1.1.3.2" xref="S4.E13.m1.1.1.1.1.3.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="S4.E13.m1.1.1.1.1.3.1" xref="S4.E13.m1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.E13.m1.1.1.1.1.3.3" xref="S4.E13.m1.1.1.1.1.3.3.cmml">S</mi><mo lspace="0em" rspace="0em" id="S4.E13.m1.1.1.1.1.3.1a" xref="S4.E13.m1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.E13.m1.1.1.1.1.3.4" xref="S4.E13.m1.1.1.1.1.3.4.cmml">R</mi></mrow><mo id="S4.E13.m1.1.1.1.1.2" xref="S4.E13.m1.1.1.1.1.2.cmml">=</mo><mrow id="S4.E13.m1.1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.1.cmml"><mn id="S4.E13.m1.1.1.1.1.1.3" xref="S4.E13.m1.1.1.1.1.1.3.cmml">𝟙</mn><mo lspace="0em" rspace="0em" id="S4.E13.m1.1.1.1.1.1.2" xref="S4.E13.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S4.E13.m1.1.1.1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.1.1.2.cmml"><mo maxsize="120%" minsize="120%" id="S4.E13.m1.1.1.1.1.1.1.1.2" xref="S4.E13.m1.1.1.1.1.1.1.2.cmml">{</mo><mrow id="S4.E13.m1.1.1.1.1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S4.E13.m1.1.1.1.1.1.1.1.1.2" xref="S4.E13.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.E13.m1.1.1.1.1.1.1.1.1.2.2" xref="S4.E13.m1.1.1.1.1.1.1.1.1.2.2.cmml">y</mi><mo id="S4.E13.m1.1.1.1.1.1.1.1.1.2.1" xref="S4.E13.m1.1.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mo id="S4.E13.m1.1.1.1.1.1.1.1.1.3" xref="S4.E13.m1.1.1.1.1.1.1.1.1.3.cmml">∈</mo><mrow id="S4.E13.m1.1.1.1.1.1.1.1.1.4" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E13.m1.1.1.1.1.1.1.1.1.4.2" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.2.cmml">𝒮</mi><mo id="S4.E13.m1.1.1.1.1.1.1.1.1.4.1" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.1.cmml">∧</mo><msub id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.cmml"><mover accent="true" id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2.cmml"><mi id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2.2" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2.2.cmml">y</mi><mo id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2.1" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2.1.cmml">^</mo></mover><mrow id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.cmml"><mi id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.2" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.2.cmml">N</mi><mo lspace="0em" rspace="0em" id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.1" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.3" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.1a" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.4" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.4.cmml">D</mi><mo lspace="0em" rspace="0em" id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.1b" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.5" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.5.cmml">P</mi><mo lspace="0em" rspace="0em" id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.1c" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml">​</mo><mi id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.6" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.6.cmml">R</mi></mrow></msub></mrow><mo id="S4.E13.m1.1.1.1.1.1.1.1.1.5" xref="S4.E13.m1.1.1.1.1.1.1.1.1.5.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E13.m1.1.1.1.1.1.1.1.1.6" xref="S4.E13.m1.1.1.1.1.1.1.1.1.6.cmml">𝒮</mi></mrow><mo maxsize="120%" minsize="120%" id="S4.E13.m1.1.1.1.1.1.1.1.3" xref="S4.E13.m1.1.1.1.1.1.1.2.cmml">}</mo></mrow></mrow></mrow><mo lspace="0em" id="S4.E13.m1.1.1.1.2" xref="S4.E13.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E13.m1.1b"><apply id="S4.E13.m1.1.1.1.1.cmml" xref="S4.E13.m1.1.1.1"><eq id="S4.E13.m1.1.1.1.1.2.cmml" xref="S4.E13.m1.1.1.1.1.2"></eq><apply id="S4.E13.m1.1.1.1.1.3.cmml" xref="S4.E13.m1.1.1.1.1.3"><times id="S4.E13.m1.1.1.1.1.3.1.cmml" xref="S4.E13.m1.1.1.1.1.3.1"></times><ci id="S4.E13.m1.1.1.1.1.3.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2">𝐹</ci><ci id="S4.E13.m1.1.1.1.1.3.3.cmml" xref="S4.E13.m1.1.1.1.1.3.3">𝑆</ci><ci id="S4.E13.m1.1.1.1.1.3.4.cmml" xref="S4.E13.m1.1.1.1.1.3.4">𝑅</ci></apply><apply id="S4.E13.m1.1.1.1.1.1.cmml" xref="S4.E13.m1.1.1.1.1.1"><times id="S4.E13.m1.1.1.1.1.1.2.cmml" xref="S4.E13.m1.1.1.1.1.1.2"></times><cn type="integer" id="S4.E13.m1.1.1.1.1.1.3.cmml" xref="S4.E13.m1.1.1.1.1.1.3">1</cn><set id="S4.E13.m1.1.1.1.1.1.1.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1"><apply id="S4.E13.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1"><and id="S4.E13.m1.1.1.1.1.1.1.1.1a.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1"></and><apply id="S4.E13.m1.1.1.1.1.1.1.1.1b.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1"><in id="S4.E13.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.3"></in><apply id="S4.E13.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.2"><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.2.1">^</ci><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.2.2">𝑦</ci></apply><apply id="S4.E13.m1.1.1.1.1.1.1.1.1.4.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4"><and id="S4.E13.m1.1.1.1.1.1.1.1.1.4.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.1"></and><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.4.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.2">𝒮</ci><apply id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3">subscript</csymbol><apply id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2"><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2.1">^</ci><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.2.2">𝑦</ci></apply><apply id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3"><times id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.1"></times><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.2">𝑁</ci><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.3">𝑜</ci><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.4.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.4">𝐷</ci><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.5.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.5">𝑃</ci><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.6.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.4.3.3.6">𝑅</ci></apply></apply></apply></apply><apply id="S4.E13.m1.1.1.1.1.1.1.1.1c.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1"><in id="S4.E13.m1.1.1.1.1.1.1.1.1.5.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.5"></in><share href="#S4.E13.m1.1.1.1.1.1.1.1.1.4.cmml" id="S4.E13.m1.1.1.1.1.1.1.1.1d.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1"></share><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.6.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.6">𝒮</ci></apply></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E13.m1.1c">FSR=\mathbbm{1}\big{\{}\widehat{y}\in{\mathcal{S}}\land\widehat{y}_{NoDPR}\in{\mathcal{S}}\big{\}}.\vspace{-0.1cm}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(13)</span></td>
</tr></tbody>
</table>
<p id="S4.SS2.SSS3.p3.2" class="ltx_p">A high FSR suggests a model can generate correct answers ‘freely’ without being distracted by retrieved documents if they are not needed.</p>
</div>
<div id="S4.SS2.SSS3.p4" class="ltx_para">
<p id="S4.SS2.SSS3.p4.7" class="ltx_p">We also assess performance as a function of the number of documents retrieved during training and testing,
<math id="S4.SS2.SSS3.p4.1.m1.1" class="ltx_Math" alttext="\mathbf{K_{\text{{train}}}}" display="inline"><semantics id="S4.SS2.SSS3.p4.1.m1.1a"><msub id="S4.SS2.SSS3.p4.1.m1.1.1" xref="S4.SS2.SSS3.p4.1.m1.1.1.cmml"><mi id="S4.SS2.SSS3.p4.1.m1.1.1.2" xref="S4.SS2.SSS3.p4.1.m1.1.1.2.cmml">𝐊</mi><mtext class="ltx_mathvariant_bold" id="S4.SS2.SSS3.p4.1.m1.1.1.3" xref="S4.SS2.SSS3.p4.1.m1.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p4.1.m1.1b"><apply id="S4.SS2.SSS3.p4.1.m1.1.1.cmml" xref="S4.SS2.SSS3.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p4.1.m1.1.1.1.cmml" xref="S4.SS2.SSS3.p4.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p4.1.m1.1.1.2.cmml" xref="S4.SS2.SSS3.p4.1.m1.1.1.2">𝐊</ci><ci id="S4.SS2.SSS3.p4.1.m1.1.1.3a.cmml" xref="S4.SS2.SSS3.p4.1.m1.1.1.3"><mtext class="ltx_mathvariant_bold" mathsize="70%" id="S4.SS2.SSS3.p4.1.m1.1.1.3.cmml" xref="S4.SS2.SSS3.p4.1.m1.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p4.1.m1.1c">\mathbf{K_{\text{{train}}}}</annotation></semantics></math> and <math id="S4.SS2.SSS3.p4.2.m2.1" class="ltx_Math" alttext="\mathbf{K_{\text{{test}}}}" display="inline"><semantics id="S4.SS2.SSS3.p4.2.m2.1a"><msub id="S4.SS2.SSS3.p4.2.m2.1.1" xref="S4.SS2.SSS3.p4.2.m2.1.1.cmml"><mi id="S4.SS2.SSS3.p4.2.m2.1.1.2" xref="S4.SS2.SSS3.p4.2.m2.1.1.2.cmml">𝐊</mi><mtext class="ltx_mathvariant_bold" id="S4.SS2.SSS3.p4.2.m2.1.1.3" xref="S4.SS2.SSS3.p4.2.m2.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p4.2.m2.1b"><apply id="S4.SS2.SSS3.p4.2.m2.1.1.cmml" xref="S4.SS2.SSS3.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p4.2.m2.1.1.1.cmml" xref="S4.SS2.SSS3.p4.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p4.2.m2.1.1.2.cmml" xref="S4.SS2.SSS3.p4.2.m2.1.1.2">𝐊</ci><ci id="S4.SS2.SSS3.p4.2.m2.1.1.3a.cmml" xref="S4.SS2.SSS3.p4.2.m2.1.1.3"><mtext class="ltx_mathvariant_bold" mathsize="70%" id="S4.SS2.SSS3.p4.2.m2.1.1.3.cmml" xref="S4.SS2.SSS3.p4.2.m2.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p4.2.m2.1c">\mathbf{K_{\text{{test}}}}</annotation></semantics></math>.
In practice, <math id="S4.SS2.SSS3.p4.3.m3.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="S4.SS2.SSS3.p4.3.m3.1a"><msub id="S4.SS2.SSS3.p4.3.m3.1.1" xref="S4.SS2.SSS3.p4.3.m3.1.1.cmml"><mi id="S4.SS2.SSS3.p4.3.m3.1.1.2" xref="S4.SS2.SSS3.p4.3.m3.1.1.2.cmml">K</mi><mtext id="S4.SS2.SSS3.p4.3.m3.1.1.3" xref="S4.SS2.SSS3.p4.3.m3.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p4.3.m3.1b"><apply id="S4.SS2.SSS3.p4.3.m3.1.1.cmml" xref="S4.SS2.SSS3.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p4.3.m3.1.1.1.cmml" xref="S4.SS2.SSS3.p4.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p4.3.m3.1.1.2.cmml" xref="S4.SS2.SSS3.p4.3.m3.1.1.2">𝐾</ci><ci id="S4.SS2.SSS3.p4.3.m3.1.1.3a.cmml" xref="S4.SS2.SSS3.p4.3.m3.1.1.3"><mtext mathsize="70%" id="S4.SS2.SSS3.p4.3.m3.1.1.3.cmml" xref="S4.SS2.SSS3.p4.3.m3.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p4.3.m3.1c">K_{\text{train}}</annotation></semantics></math> has the greater effect on GPU usage, since a large <math id="S4.SS2.SSS3.p4.4.m4.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="S4.SS2.SSS3.p4.4.m4.1a"><msub id="S4.SS2.SSS3.p4.4.m4.1.1" xref="S4.SS2.SSS3.p4.4.m4.1.1.cmml"><mi id="S4.SS2.SSS3.p4.4.m4.1.1.2" xref="S4.SS2.SSS3.p4.4.m4.1.1.2.cmml">K</mi><mtext id="S4.SS2.SSS3.p4.4.m4.1.1.3" xref="S4.SS2.SSS3.p4.4.m4.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p4.4.m4.1b"><apply id="S4.SS2.SSS3.p4.4.m4.1.1.cmml" xref="S4.SS2.SSS3.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p4.4.m4.1.1.1.cmml" xref="S4.SS2.SSS3.p4.4.m4.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p4.4.m4.1.1.2.cmml" xref="S4.SS2.SSS3.p4.4.m4.1.1.2">𝐾</ci><ci id="S4.SS2.SSS3.p4.4.m4.1.1.3a.cmml" xref="S4.SS2.SSS3.p4.4.m4.1.1.3"><mtext mathsize="70%" id="S4.SS2.SSS3.p4.4.m4.1.1.3.cmml" xref="S4.SS2.SSS3.p4.4.m4.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p4.4.m4.1c">K_{\text{train}}</annotation></semantics></math> requires at least <math id="S4.SS2.SSS3.p4.5.m5.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="S4.SS2.SSS3.p4.5.m5.1a"><msub id="S4.SS2.SSS3.p4.5.m5.1.1" xref="S4.SS2.SSS3.p4.5.m5.1.1.cmml"><mi id="S4.SS2.SSS3.p4.5.m5.1.1.2" xref="S4.SS2.SSS3.p4.5.m5.1.1.2.cmml">K</mi><mtext id="S4.SS2.SSS3.p4.5.m5.1.1.3" xref="S4.SS2.SSS3.p4.5.m5.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p4.5.m5.1b"><apply id="S4.SS2.SSS3.p4.5.m5.1.1.cmml" xref="S4.SS2.SSS3.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p4.5.m5.1.1.1.cmml" xref="S4.SS2.SSS3.p4.5.m5.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p4.5.m5.1.1.2.cmml" xref="S4.SS2.SSS3.p4.5.m5.1.1.2">𝐾</ci><ci id="S4.SS2.SSS3.p4.5.m5.1.1.3a.cmml" xref="S4.SS2.SSS3.p4.5.m5.1.1.3"><mtext mathsize="70%" id="S4.SS2.SSS3.p4.5.m5.1.1.3.cmml" xref="S4.SS2.SSS3.p4.5.m5.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p4.5.m5.1c">K_{\text{train}}</annotation></semantics></math> forward passes for each question and an Adam-like optimizer must compute and store the associated gradients <cite class="ltx_cite ltx_citemacro_cite">Kingma and Ba (<a href="#bib.bib18" title="" class="ltx_ref">2015</a>)</cite>.
In contrast, GPU memory required during testing is significantly less, as there is no optimizer involved.
We are in particular interested in the ability of knowledge-augmented systems that can be robustly trained with small <math id="S4.SS2.SSS3.p4.6.m6.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="S4.SS2.SSS3.p4.6.m6.1a"><msub id="S4.SS2.SSS3.p4.6.m6.1.1" xref="S4.SS2.SSS3.p4.6.m6.1.1.cmml"><mi id="S4.SS2.SSS3.p4.6.m6.1.1.2" xref="S4.SS2.SSS3.p4.6.m6.1.1.2.cmml">K</mi><mtext id="S4.SS2.SSS3.p4.6.m6.1.1.3" xref="S4.SS2.SSS3.p4.6.m6.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p4.6.m6.1b"><apply id="S4.SS2.SSS3.p4.6.m6.1.1.cmml" xref="S4.SS2.SSS3.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p4.6.m6.1.1.1.cmml" xref="S4.SS2.SSS3.p4.6.m6.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p4.6.m6.1.1.2.cmml" xref="S4.SS2.SSS3.p4.6.m6.1.1.2">𝐾</ci><ci id="S4.SS2.SSS3.p4.6.m6.1.1.3a.cmml" xref="S4.SS2.SSS3.p4.6.m6.1.1.3"><mtext mathsize="70%" id="S4.SS2.SSS3.p4.6.m6.1.1.3.cmml" xref="S4.SS2.SSS3.p4.6.m6.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p4.6.m6.1c">K_{\text{train}}</annotation></semantics></math> while yielding improved performance with large <math id="S4.SS2.SSS3.p4.7.m7.1" class="ltx_Math" alttext="K_{\text{test}}" display="inline"><semantics id="S4.SS2.SSS3.p4.7.m7.1a"><msub id="S4.SS2.SSS3.p4.7.m7.1.1" xref="S4.SS2.SSS3.p4.7.m7.1.1.cmml"><mi id="S4.SS2.SSS3.p4.7.m7.1.1.2" xref="S4.SS2.SSS3.p4.7.m7.1.1.2.cmml">K</mi><mtext id="S4.SS2.SSS3.p4.7.m7.1.1.3" xref="S4.SS2.SSS3.p4.7.m7.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p4.7.m7.1b"><apply id="S4.SS2.SSS3.p4.7.m7.1.1.cmml" xref="S4.SS2.SSS3.p4.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p4.7.m7.1.1.1.cmml" xref="S4.SS2.SSS3.p4.7.m7.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p4.7.m7.1.1.2.cmml" xref="S4.SS2.SSS3.p4.7.m7.1.1.2">𝐾</ci><ci id="S4.SS2.SSS3.p4.7.m7.1.1.3a.cmml" xref="S4.SS2.SSS3.p4.7.m7.1.1.3"><mtext mathsize="70%" id="S4.SS2.SSS3.p4.7.m7.1.1.3.cmml" xref="S4.SS2.SSS3.p4.7.m7.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p4.7.m7.1c">K_{\text{test}}</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Baseline Systems</h3>

<section id="S4.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.1 </span>Retrieval Augmented Generation</h4>

<div id="S4.SS3.SSS1.p1" class="ltx_para">
<p id="S4.SS3.SSS1.p1.1" class="ltx_p">RAG <cite class="ltx_cite ltx_citemacro_cite">Lewis et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite>
is based on DPR and an answer generator that are trained jointly
by approximately marginalizing the probability of <math id="S4.SS3.SSS1.p1.1.m1.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S4.SS3.SSS1.p1.1.m1.1a"><mi id="S4.SS3.SSS1.p1.1.m1.1.1" xref="S4.SS3.SSS1.p1.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.1.m1.1b"><ci id="S4.SS3.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.1.m1.1c">y</annotation></semantics></math> over the retrieved documents.
In the notation of Sec. <a href="#S3" title="3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>:</p>
<table id="S4.E14" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S4.E14X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E14X.2.1.1.m1.1" class="ltx_Math" alttext="\displaystyle p_{RAG}(y|x)\approx" display="inline"><semantics id="S4.E14X.2.1.1.m1.1a"><mrow id="S4.E14X.2.1.1.m1.1.1" xref="S4.E14X.2.1.1.m1.1.1.cmml"><mrow id="S4.E14X.2.1.1.m1.1.1.1" xref="S4.E14X.2.1.1.m1.1.1.1.cmml"><msub id="S4.E14X.2.1.1.m1.1.1.1.3" xref="S4.E14X.2.1.1.m1.1.1.1.3.cmml"><mi id="S4.E14X.2.1.1.m1.1.1.1.3.2" xref="S4.E14X.2.1.1.m1.1.1.1.3.2.cmml">p</mi><mrow id="S4.E14X.2.1.1.m1.1.1.1.3.3" xref="S4.E14X.2.1.1.m1.1.1.1.3.3.cmml"><mi id="S4.E14X.2.1.1.m1.1.1.1.3.3.2" xref="S4.E14X.2.1.1.m1.1.1.1.3.3.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S4.E14X.2.1.1.m1.1.1.1.3.3.1" xref="S4.E14X.2.1.1.m1.1.1.1.3.3.1.cmml">​</mo><mi id="S4.E14X.2.1.1.m1.1.1.1.3.3.3" xref="S4.E14X.2.1.1.m1.1.1.1.3.3.3.cmml">A</mi><mo lspace="0em" rspace="0em" id="S4.E14X.2.1.1.m1.1.1.1.3.3.1a" xref="S4.E14X.2.1.1.m1.1.1.1.3.3.1.cmml">​</mo><mi id="S4.E14X.2.1.1.m1.1.1.1.3.3.4" xref="S4.E14X.2.1.1.m1.1.1.1.3.3.4.cmml">G</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S4.E14X.2.1.1.m1.1.1.1.2" xref="S4.E14X.2.1.1.m1.1.1.1.2.cmml">​</mo><mrow id="S4.E14X.2.1.1.m1.1.1.1.1.1" xref="S4.E14X.2.1.1.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E14X.2.1.1.m1.1.1.1.1.1.2" xref="S4.E14X.2.1.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E14X.2.1.1.m1.1.1.1.1.1.1" xref="S4.E14X.2.1.1.m1.1.1.1.1.1.1.cmml"><mi id="S4.E14X.2.1.1.m1.1.1.1.1.1.1.2" xref="S4.E14X.2.1.1.m1.1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S4.E14X.2.1.1.m1.1.1.1.1.1.1.1" xref="S4.E14X.2.1.1.m1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.E14X.2.1.1.m1.1.1.1.1.1.1.3" xref="S4.E14X.2.1.1.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S4.E14X.2.1.1.m1.1.1.1.1.1.3" xref="S4.E14X.2.1.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E14X.2.1.1.m1.1.1.2" xref="S4.E14X.2.1.1.m1.1.1.2.cmml">≈</mo><mi id="S4.E14X.2.1.1.m1.1.1.3" xref="S4.E14X.2.1.1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S4.E14X.2.1.1.m1.1b"><apply id="S4.E14X.2.1.1.m1.1.1.cmml" xref="S4.E14X.2.1.1.m1.1.1"><approx id="S4.E14X.2.1.1.m1.1.1.2.cmml" xref="S4.E14X.2.1.1.m1.1.1.2"></approx><apply id="S4.E14X.2.1.1.m1.1.1.1.cmml" xref="S4.E14X.2.1.1.m1.1.1.1"><times id="S4.E14X.2.1.1.m1.1.1.1.2.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.2"></times><apply id="S4.E14X.2.1.1.m1.1.1.1.3.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E14X.2.1.1.m1.1.1.1.3.1.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.3">subscript</csymbol><ci id="S4.E14X.2.1.1.m1.1.1.1.3.2.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.3.2">𝑝</ci><apply id="S4.E14X.2.1.1.m1.1.1.1.3.3.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.3.3"><times id="S4.E14X.2.1.1.m1.1.1.1.3.3.1.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.3.3.1"></times><ci id="S4.E14X.2.1.1.m1.1.1.1.3.3.2.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.3.3.2">𝑅</ci><ci id="S4.E14X.2.1.1.m1.1.1.1.3.3.3.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.3.3.3">𝐴</ci><ci id="S4.E14X.2.1.1.m1.1.1.1.3.3.4.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.3.3.4">𝐺</ci></apply></apply><apply id="S4.E14X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E14X.2.1.1.m1.1.1.1.1.1.1.1.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.E14X.2.1.1.m1.1.1.1.1.1.1.2.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.1.1.1.2">𝑦</ci><ci id="S4.E14X.2.1.1.m1.1.1.1.1.1.1.3.cmml" xref="S4.E14X.2.1.1.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><csymbol cd="latexml" id="S4.E14X.2.1.1.m1.1.1.3.cmml" xref="S4.E14X.2.1.1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E14X.2.1.1.m1.1c">\displaystyle p_{RAG}(y|x)\approx</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S4.E14X.3.2.2.m1.3" class="ltx_Math" alttext="\displaystyle\sum_{k=1}^{K}p_{\phi}(y|x,z_{k})~{}p_{\theta}(z_{k}|x)" display="inline"><semantics id="S4.E14X.3.2.2.m1.3a"><mrow id="S4.E14X.3.2.2.m1.3.3" xref="S4.E14X.3.2.2.m1.3.3.cmml"><mstyle displaystyle="true" id="S4.E14X.3.2.2.m1.3.3.3" xref="S4.E14X.3.2.2.m1.3.3.3.cmml"><munderover id="S4.E14X.3.2.2.m1.3.3.3a" xref="S4.E14X.3.2.2.m1.3.3.3.cmml"><mo movablelimits="false" id="S4.E14X.3.2.2.m1.3.3.3.2.2" xref="S4.E14X.3.2.2.m1.3.3.3.2.2.cmml">∑</mo><mrow id="S4.E14X.3.2.2.m1.3.3.3.2.3" xref="S4.E14X.3.2.2.m1.3.3.3.2.3.cmml"><mi id="S4.E14X.3.2.2.m1.3.3.3.2.3.2" xref="S4.E14X.3.2.2.m1.3.3.3.2.3.2.cmml">k</mi><mo id="S4.E14X.3.2.2.m1.3.3.3.2.3.1" xref="S4.E14X.3.2.2.m1.3.3.3.2.3.1.cmml">=</mo><mn id="S4.E14X.3.2.2.m1.3.3.3.2.3.3" xref="S4.E14X.3.2.2.m1.3.3.3.2.3.3.cmml">1</mn></mrow><mi id="S4.E14X.3.2.2.m1.3.3.3.3" xref="S4.E14X.3.2.2.m1.3.3.3.3.cmml">K</mi></munderover></mstyle><mrow id="S4.E14X.3.2.2.m1.3.3.2" xref="S4.E14X.3.2.2.m1.3.3.2.cmml"><msub id="S4.E14X.3.2.2.m1.3.3.2.4" xref="S4.E14X.3.2.2.m1.3.3.2.4.cmml"><mi id="S4.E14X.3.2.2.m1.3.3.2.4.2" xref="S4.E14X.3.2.2.m1.3.3.2.4.2.cmml">p</mi><mi id="S4.E14X.3.2.2.m1.3.3.2.4.3" xref="S4.E14X.3.2.2.m1.3.3.2.4.3.cmml">ϕ</mi></msub><mo lspace="0em" rspace="0em" id="S4.E14X.3.2.2.m1.3.3.2.3" xref="S4.E14X.3.2.2.m1.3.3.2.3.cmml">​</mo><mrow id="S4.E14X.3.2.2.m1.2.2.1.1.1" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S4.E14X.3.2.2.m1.2.2.1.1.1.2" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S4.E14X.3.2.2.m1.2.2.1.1.1.1" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.cmml"><mi id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.3" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.3.cmml">y</mi><mo fence="false" id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.2" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.2.cmml">|</mo><mrow id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.2.cmml"><mi id="S4.E14X.3.2.2.m1.1.1" xref="S4.E14X.3.2.2.m1.1.1.cmml">x</mi><mo id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.2" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.2.cmml">,</mo><msub id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.cmml">k</mi></msub></mrow></mrow><mo stretchy="false" id="S4.E14X.3.2.2.m1.2.2.1.1.1.3" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.cmml">)</mo></mrow><mo lspace="0.330em" rspace="0em" id="S4.E14X.3.2.2.m1.3.3.2.3a" xref="S4.E14X.3.2.2.m1.3.3.2.3.cmml">​</mo><msub id="S4.E14X.3.2.2.m1.3.3.2.5" xref="S4.E14X.3.2.2.m1.3.3.2.5.cmml"><mi id="S4.E14X.3.2.2.m1.3.3.2.5.2" xref="S4.E14X.3.2.2.m1.3.3.2.5.2.cmml">p</mi><mi id="S4.E14X.3.2.2.m1.3.3.2.5.3" xref="S4.E14X.3.2.2.m1.3.3.2.5.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S4.E14X.3.2.2.m1.3.3.2.3b" xref="S4.E14X.3.2.2.m1.3.3.2.3.cmml">​</mo><mrow id="S4.E14X.3.2.2.m1.3.3.2.2.1" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.cmml"><mo stretchy="false" id="S4.E14X.3.2.2.m1.3.3.2.2.1.2" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.cmml">(</mo><mrow id="S4.E14X.3.2.2.m1.3.3.2.2.1.1" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.cmml"><msub id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2.cmml"><mi id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2.2" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2.2.cmml">z</mi><mi id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2.3" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2.3.cmml">k</mi></msub><mo fence="false" id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.1" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.1.cmml">|</mo><mi id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.3" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S4.E14X.3.2.2.m1.3.3.2.2.1.3" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E14X.3.2.2.m1.3b"><apply id="S4.E14X.3.2.2.m1.3.3.cmml" xref="S4.E14X.3.2.2.m1.3.3"><apply id="S4.E14X.3.2.2.m1.3.3.3.cmml" xref="S4.E14X.3.2.2.m1.3.3.3"><csymbol cd="ambiguous" id="S4.E14X.3.2.2.m1.3.3.3.1.cmml" xref="S4.E14X.3.2.2.m1.3.3.3">superscript</csymbol><apply id="S4.E14X.3.2.2.m1.3.3.3.2.cmml" xref="S4.E14X.3.2.2.m1.3.3.3"><csymbol cd="ambiguous" id="S4.E14X.3.2.2.m1.3.3.3.2.1.cmml" xref="S4.E14X.3.2.2.m1.3.3.3">subscript</csymbol><sum id="S4.E14X.3.2.2.m1.3.3.3.2.2.cmml" xref="S4.E14X.3.2.2.m1.3.3.3.2.2"></sum><apply id="S4.E14X.3.2.2.m1.3.3.3.2.3.cmml" xref="S4.E14X.3.2.2.m1.3.3.3.2.3"><eq id="S4.E14X.3.2.2.m1.3.3.3.2.3.1.cmml" xref="S4.E14X.3.2.2.m1.3.3.3.2.3.1"></eq><ci id="S4.E14X.3.2.2.m1.3.3.3.2.3.2.cmml" xref="S4.E14X.3.2.2.m1.3.3.3.2.3.2">𝑘</ci><cn type="integer" id="S4.E14X.3.2.2.m1.3.3.3.2.3.3.cmml" xref="S4.E14X.3.2.2.m1.3.3.3.2.3.3">1</cn></apply></apply><ci id="S4.E14X.3.2.2.m1.3.3.3.3.cmml" xref="S4.E14X.3.2.2.m1.3.3.3.3">𝐾</ci></apply><apply id="S4.E14X.3.2.2.m1.3.3.2.cmml" xref="S4.E14X.3.2.2.m1.3.3.2"><times id="S4.E14X.3.2.2.m1.3.3.2.3.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.3"></times><apply id="S4.E14X.3.2.2.m1.3.3.2.4.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.4"><csymbol cd="ambiguous" id="S4.E14X.3.2.2.m1.3.3.2.4.1.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.4">subscript</csymbol><ci id="S4.E14X.3.2.2.m1.3.3.2.4.2.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.4.2">𝑝</ci><ci id="S4.E14X.3.2.2.m1.3.3.2.4.3.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.4.3">italic-ϕ</ci></apply><apply id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.cmml" xref="S4.E14X.3.2.2.m1.2.2.1.1.1"><csymbol cd="latexml" id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.2.cmml" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.2">conditional</csymbol><ci id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.3.cmml" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.3">𝑦</ci><list id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.2.cmml" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1"><ci id="S4.E14X.3.2.2.m1.1.1.cmml" xref="S4.E14X.3.2.2.m1.1.1">𝑥</ci><apply id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S4.E14X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3">𝑘</ci></apply></list></apply><apply id="S4.E14X.3.2.2.m1.3.3.2.5.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.5"><csymbol cd="ambiguous" id="S4.E14X.3.2.2.m1.3.3.2.5.1.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.5">subscript</csymbol><ci id="S4.E14X.3.2.2.m1.3.3.2.5.2.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.5.2">𝑝</ci><ci id="S4.E14X.3.2.2.m1.3.3.2.5.3.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.5.3">𝜃</ci></apply><apply id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.2.1"><csymbol cd="latexml" id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.1.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.1">conditional</csymbol><apply id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2"><csymbol cd="ambiguous" id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2.1.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2">subscript</csymbol><ci id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2.2.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2.2">𝑧</ci><ci id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2.3.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.2.3">𝑘</ci></apply><ci id="S4.E14X.3.2.2.m1.3.3.2.2.1.1.3.cmml" xref="S4.E14X.3.2.2.m1.3.3.2.2.1.1.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E14X.3.2.2.m1.3c">\displaystyle\sum_{k=1}^{K}p_{\phi}(y|x,z_{k})~{}p_{\theta}(z_{k}|x)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(14)</span></td>
</tr>
</tbody>
</table>
<p id="S4.SS3.SSS1.p1.4" class="ltx_p">The answer generator and the retriever are jointly trained by optimizing the RAG loss: <math id="S4.SS3.SSS1.p1.2.m1.4" class="ltx_Math" alttext="-\sum_{(x,\mathcal{S})\in\mathcal{T}}\log\big{(}p_{RAG}(s^{\ast}|x)\big{)}" display="inline"><semantics id="S4.SS3.SSS1.p1.2.m1.4a"><mrow id="S4.SS3.SSS1.p1.2.m1.4.4" xref="S4.SS3.SSS1.p1.2.m1.4.4.cmml"><mo id="S4.SS3.SSS1.p1.2.m1.4.4a" xref="S4.SS3.SSS1.p1.2.m1.4.4.cmml">−</mo><mrow id="S4.SS3.SSS1.p1.2.m1.4.4.1" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.cmml"><msub id="S4.SS3.SSS1.p1.2.m1.4.4.1.2" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.2.cmml"><mo id="S4.SS3.SSS1.p1.2.m1.4.4.1.2.2" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.2.2.cmml">∑</mo><mrow id="S4.SS3.SSS1.p1.2.m1.2.2.2" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.cmml"><mrow id="S4.SS3.SSS1.p1.2.m1.2.2.2.4.2" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.4.1.cmml"><mo stretchy="false" id="S4.SS3.SSS1.p1.2.m1.2.2.2.4.2.1" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.4.1.cmml">(</mo><mi id="S4.SS3.SSS1.p1.2.m1.1.1.1.1" xref="S4.SS3.SSS1.p1.2.m1.1.1.1.1.cmml">x</mi><mo id="S4.SS3.SSS1.p1.2.m1.2.2.2.4.2.2" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.4.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p1.2.m1.2.2.2.2" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.2.cmml">𝒮</mi><mo stretchy="false" id="S4.SS3.SSS1.p1.2.m1.2.2.2.4.2.3" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.4.1.cmml">)</mo></mrow><mo id="S4.SS3.SSS1.p1.2.m1.2.2.2.3" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS1.p1.2.m1.2.2.2.5" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.5.cmml">𝒯</mi></mrow></msub><mrow id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.2.cmml"><mi id="S4.SS3.SSS1.p1.2.m1.3.3" xref="S4.SS3.SSS1.p1.2.m1.3.3.cmml">log</mi><mo id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1a" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.2.cmml">⁡</mo><mrow id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.2.cmml"><mo maxsize="120%" minsize="120%" id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.2" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.2.cmml">(</mo><mrow id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.cmml"><msub id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.cmml"><mi id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.2" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.2.cmml">p</mi><mrow id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.cmml"><mi id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.2" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.1" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.3" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.3.cmml">A</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.1a" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.4" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.4.cmml">G</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.2" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.2.cmml">​</mo><mrow id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.2" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.cmml"><msup id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2.2" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2.2.cmml">s</mi><mo id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2.3" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2.3.cmml">∗</mo></msup><mo fence="false" id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.3" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.3" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo maxsize="120%" minsize="120%" id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.3" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.2.m1.4b"><apply id="S4.SS3.SSS1.p1.2.m1.4.4.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4"><minus id="S4.SS3.SSS1.p1.2.m1.4.4.2.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4"></minus><apply id="S4.SS3.SSS1.p1.2.m1.4.4.1.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1"><apply id="S4.SS3.SSS1.p1.2.m1.4.4.1.2.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.2.m1.4.4.1.2.1.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.2">subscript</csymbol><sum id="S4.SS3.SSS1.p1.2.m1.4.4.1.2.2.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.2.2"></sum><apply id="S4.SS3.SSS1.p1.2.m1.2.2.2.cmml" xref="S4.SS3.SSS1.p1.2.m1.2.2.2"><in id="S4.SS3.SSS1.p1.2.m1.2.2.2.3.cmml" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.3"></in><interval closure="open" id="S4.SS3.SSS1.p1.2.m1.2.2.2.4.1.cmml" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.4.2"><ci id="S4.SS3.SSS1.p1.2.m1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p1.2.m1.1.1.1.1">𝑥</ci><ci id="S4.SS3.SSS1.p1.2.m1.2.2.2.2.cmml" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.2">𝒮</ci></interval><ci id="S4.SS3.SSS1.p1.2.m1.2.2.2.5.cmml" xref="S4.SS3.SSS1.p1.2.m1.2.2.2.5">𝒯</ci></apply></apply><apply id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.2.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1"><log id="S4.SS3.SSS1.p1.2.m1.3.3.cmml" xref="S4.SS3.SSS1.p1.2.m1.3.3"></log><apply id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1"><times id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.2"></times><apply id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.1.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.2.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.2">𝑝</ci><apply id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3"><times id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.1.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.1"></times><ci id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.2.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.2">𝑅</ci><ci id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.3.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.3">𝐴</ci><ci id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.4.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.3.3.4">𝐺</ci></apply></apply><apply id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2">superscript</csymbol><ci id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.2.3">∗</ci></apply><ci id="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS1.p1.2.m1.4.4.1.1.1.1.1.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.2.m1.4c">-\sum_{(x,\mathcal{S})\in\mathcal{T}}\log\big{(}p_{RAG}(s^{\ast}|x)\big{)}</annotation></semantics></math>.

The rationale is that <math id="S4.SS3.SSS1.p1.3.m2.1" class="ltx_Math" alttext="p_{\theta}(z_{k}|x)" display="inline"><semantics id="S4.SS3.SSS1.p1.3.m2.1a"><mrow id="S4.SS3.SSS1.p1.3.m2.1.1" xref="S4.SS3.SSS1.p1.3.m2.1.1.cmml"><msub id="S4.SS3.SSS1.p1.3.m2.1.1.3" xref="S4.SS3.SSS1.p1.3.m2.1.1.3.cmml"><mi id="S4.SS3.SSS1.p1.3.m2.1.1.3.2" xref="S4.SS3.SSS1.p1.3.m2.1.1.3.2.cmml">p</mi><mi id="S4.SS3.SSS1.p1.3.m2.1.1.3.3" xref="S4.SS3.SSS1.p1.3.m2.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS1.p1.3.m2.1.1.2" xref="S4.SS3.SSS1.p1.3.m2.1.1.2.cmml">​</mo><mrow id="S4.SS3.SSS1.p1.3.m2.1.1.1.1" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.2" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.cmml"><msub id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2.cmml"><mi id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2.2" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2.2.cmml">z</mi><mi id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2.3" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2.3.cmml">k</mi></msub><mo fence="false" id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.1" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.1.cmml">|</mo><mi id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.3" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.3" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.3.m2.1b"><apply id="S4.SS3.SSS1.p1.3.m2.1.1.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1"><times id="S4.SS3.SSS1.p1.3.m2.1.1.2.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.2"></times><apply id="S4.SS3.SSS1.p1.3.m2.1.1.3.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.3.m2.1.1.3.1.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS1.p1.3.m2.1.1.3.2.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.3.2">𝑝</ci><ci id="S4.SS3.SSS1.p1.3.m2.1.1.3.3.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.3.3">𝜃</ci></apply><apply id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1"><csymbol cd="latexml" id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.1">conditional</csymbol><apply id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2.1.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2.2.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2.2">𝑧</ci><ci id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2.3.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.2.3">𝑘</ci></apply><ci id="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS1.p1.3.m2.1.1.1.1.1.3">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.3.m2.1c">p_{\theta}(z_{k}|x)</annotation></semantics></math> will increase if <math id="S4.SS3.SSS1.p1.4.m3.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="S4.SS3.SSS1.p1.4.m3.1a"><msub id="S4.SS3.SSS1.p1.4.m3.1.1" xref="S4.SS3.SSS1.p1.4.m3.1.1.cmml"><mi id="S4.SS3.SSS1.p1.4.m3.1.1.2" xref="S4.SS3.SSS1.p1.4.m3.1.1.2.cmml">z</mi><mi id="S4.SS3.SSS1.p1.4.m3.1.1.3" xref="S4.SS3.SSS1.p1.4.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.4.m3.1b"><apply id="S4.SS3.SSS1.p1.4.m3.1.1.cmml" xref="S4.SS3.SSS1.p1.4.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.4.m3.1.1.1.cmml" xref="S4.SS3.SSS1.p1.4.m3.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.4.m3.1.1.2.cmml" xref="S4.SS3.SSS1.p1.4.m3.1.1.2">𝑧</ci><ci id="S4.SS3.SSS1.p1.4.m3.1.1.3.cmml" xref="S4.SS3.SSS1.p1.4.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.4.m3.1c">z_{k}</annotation></semantics></math> has a positive impact on answer generation <cite class="ltx_cite ltx_citemacro_cite">Lewis et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite>.
We consider RAG as an important baseline and have carefully replicated its published implementation<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a target="_blank" href="https://github.com/huggingface/transformers/tree/master/examples/research_projects/rag" title="" class="ltx_ref ltx_href">The authors released RAG in huggingface.</a></span></span></span>.</p>
</div>
</section>
<section id="S4.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.2 </span>Baseline Systems in the Literature</h4>

<figure id="S4.T1" class="ltx_table">
<table id="S4.T1.23" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T1.2.2" class="ltx_tr">
<td id="S4.T1.2.2.3" class="ltx_td ltx_align_left ltx_border_tt">Model</td>
<td id="S4.T1.2.2.4" class="ltx_td ltx_align_center ltx_border_tt">T5</td>
<td id="S4.T1.2.2.5" class="ltx_td ltx_align_center ltx_border_tt">GPT-3</td>
<td id="S4.T1.1.1.1" class="ltx_td ltx_align_left ltx_border_tt"><math id="S4.T1.1.1.1.m1.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="S4.T1.1.1.1.m1.1a"><msub id="S4.T1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.m1.1.1.cmml"><mi id="S4.T1.1.1.1.m1.1.1.2" xref="S4.T1.1.1.1.m1.1.1.2.cmml">K</mi><mtext id="S4.T1.1.1.1.m1.1.1.3" xref="S4.T1.1.1.1.m1.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.m1.1b"><apply id="S4.T1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.1.1.1.m1.1.1.1.cmml" xref="S4.T1.1.1.1.m1.1.1">subscript</csymbol><ci id="S4.T1.1.1.1.m1.1.1.2.cmml" xref="S4.T1.1.1.1.m1.1.1.2">𝐾</ci><ci id="S4.T1.1.1.1.m1.1.1.3a.cmml" xref="S4.T1.1.1.1.m1.1.1.3"><mtext mathsize="70%" id="S4.T1.1.1.1.m1.1.1.3.cmml" xref="S4.T1.1.1.1.m1.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.m1.1c">K_{\text{train}}</annotation></semantics></math></td>
<td id="S4.T1.2.2.2" class="ltx_td ltx_align_left ltx_border_tt"><math id="S4.T1.2.2.2.m1.1" class="ltx_Math" alttext="K_{\text{test}}" display="inline"><semantics id="S4.T1.2.2.2.m1.1a"><msub id="S4.T1.2.2.2.m1.1.1" xref="S4.T1.2.2.2.m1.1.1.cmml"><mi id="S4.T1.2.2.2.m1.1.1.2" xref="S4.T1.2.2.2.m1.1.1.2.cmml">K</mi><mtext id="S4.T1.2.2.2.m1.1.1.3" xref="S4.T1.2.2.2.m1.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T1.2.2.2.m1.1b"><apply id="S4.T1.2.2.2.m1.1.1.cmml" xref="S4.T1.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.2.2.2.m1.1.1.1.cmml" xref="S4.T1.2.2.2.m1.1.1">subscript</csymbol><ci id="S4.T1.2.2.2.m1.1.1.2.cmml" xref="S4.T1.2.2.2.m1.1.1.2">𝐾</ci><ci id="S4.T1.2.2.2.m1.1.1.3a.cmml" xref="S4.T1.2.2.2.m1.1.1.3"><mtext mathsize="70%" id="S4.T1.2.2.2.m1.1.1.3.cmml" xref="S4.T1.2.2.2.m1.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.2.2.m1.1c">K_{\text{test}}</annotation></semantics></math></td>
<td id="S4.T1.2.2.6" class="ltx_td ltx_align_left ltx_border_tt">Knowl. Src.</td>
<td id="S4.T1.2.2.7" class="ltx_td ltx_align_center ltx_border_tt">PRRecall</td>
<td id="S4.T1.2.2.8" class="ltx_td ltx_align_center ltx_border_tt">HSR / FSR</td>
<td id="S4.T1.2.2.9" class="ltx_td ltx_align_center ltx_border_tt">H/F</td>
<td id="S4.T1.2.2.10" class="ltx_td ltx_align_center ltx_border_tt">EM</td>
<td id="S4.T1.2.2.11" class="ltx_td ltx_align_center ltx_border_tt">VQA</td>
</tr>
<tr id="S4.T1.4.4" class="ltx_tr">
<td id="S4.T1.4.4.3" class="ltx_td ltx_align_left ltx_border_t">ConceptBERT</td>
<td id="S4.T1.3.3.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T1.3.3.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.3.3.1.m1.1a"><mo id="S4.T1.3.3.1.m1.1.1" xref="S4.T1.3.3.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.3.3.1.m1.1b"><times id="S4.T1.3.3.1.m1.1.1.cmml" xref="S4.T1.3.3.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.3.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.4.4.2" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T1.4.4.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.4.4.2.m1.1a"><mo id="S4.T1.4.4.2.m1.1.1" xref="S4.T1.4.4.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.4.4.2.m1.1b"><times id="S4.T1.4.4.2.m1.1.1.cmml" xref="S4.T1.4.4.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.4.2.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.4.4.4" class="ltx_td ltx_align_left ltx_border_t">-</td>
<td id="S4.T1.4.4.5" class="ltx_td ltx_align_left ltx_border_t">-</td>
<td id="S4.T1.4.4.6" class="ltx_td ltx_align_left ltx_border_t">C</td>
<td id="S4.T1.4.4.7" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.4.4.8" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.4.4.9" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.4.4.10" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.4.4.11" class="ltx_td ltx_align_center ltx_border_t">33.66</td>
</tr>
<tr id="S4.T1.6.6" class="ltx_tr">
<td id="S4.T1.6.6.3" class="ltx_td ltx_align_left">KRISP</td>
<td id="S4.T1.5.5.1" class="ltx_td ltx_align_center"><math id="S4.T1.5.5.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.5.5.1.m1.1a"><mo id="S4.T1.5.5.1.m1.1.1" xref="S4.T1.5.5.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.5.5.1.m1.1b"><times id="S4.T1.5.5.1.m1.1.1.cmml" xref="S4.T1.5.5.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.5.5.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.6.6.2" class="ltx_td ltx_align_center"><math id="S4.T1.6.6.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.6.6.2.m1.1a"><mo id="S4.T1.6.6.2.m1.1.1" xref="S4.T1.6.6.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.6.6.2.m1.1b"><times id="S4.T1.6.6.2.m1.1.1.cmml" xref="S4.T1.6.6.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.6.6.2.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.6.6.4" class="ltx_td ltx_align_left">-</td>
<td id="S4.T1.6.6.5" class="ltx_td ltx_align_left">-</td>
<td id="S4.T1.6.6.6" class="ltx_td ltx_align_left">C + W</td>
<td id="S4.T1.6.6.7" class="ltx_td"></td>
<td id="S4.T1.6.6.8" class="ltx_td"></td>
<td id="S4.T1.6.6.9" class="ltx_td"></td>
<td id="S4.T1.6.6.10" class="ltx_td"></td>
<td id="S4.T1.6.6.11" class="ltx_td ltx_align_center">38.35</td>
</tr>
<tr id="S4.T1.8.8" class="ltx_tr">
<td id="S4.T1.8.8.3" class="ltx_td ltx_align_left">VRR</td>
<td id="S4.T1.7.7.1" class="ltx_td ltx_align_center"><math id="S4.T1.7.7.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.7.7.1.m1.1a"><mo id="S4.T1.7.7.1.m1.1.1" xref="S4.T1.7.7.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.7.7.1.m1.1b"><times id="S4.T1.7.7.1.m1.1.1.cmml" xref="S4.T1.7.7.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.7.7.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.8.8.2" class="ltx_td ltx_align_center"><math id="S4.T1.8.8.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.8.8.2.m1.1a"><mo id="S4.T1.8.8.2.m1.1.1" xref="S4.T1.8.8.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.8.8.2.m1.1b"><times id="S4.T1.8.8.2.m1.1.1.cmml" xref="S4.T1.8.8.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.8.8.2.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.8.8.4" class="ltx_td ltx_align_left">100</td>
<td id="S4.T1.8.8.5" class="ltx_td ltx_align_left">100</td>
<td id="S4.T1.8.8.6" class="ltx_td ltx_align_left">GS</td>
<td id="S4.T1.8.8.7" class="ltx_td"></td>
<td id="S4.T1.8.8.8" class="ltx_td"></td>
<td id="S4.T1.8.8.9" class="ltx_td"></td>
<td id="S4.T1.8.8.10" class="ltx_td"></td>
<td id="S4.T1.8.8.11" class="ltx_td ltx_align_center">45.08</td>
</tr>
<tr id="S4.T1.10.10" class="ltx_tr">
<td id="S4.T1.10.10.3" class="ltx_td ltx_align_left">MAVEx</td>
<td id="S4.T1.9.9.1" class="ltx_td ltx_align_center"><math id="S4.T1.9.9.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.9.9.1.m1.1a"><mo id="S4.T1.9.9.1.m1.1.1" xref="S4.T1.9.9.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.9.9.1.m1.1b"><times id="S4.T1.9.9.1.m1.1.1.cmml" xref="S4.T1.9.9.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.9.9.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.10.10.2" class="ltx_td ltx_align_center"><math id="S4.T1.10.10.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.10.10.2.m1.1a"><mo id="S4.T1.10.10.2.m1.1.1" xref="S4.T1.10.10.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.10.10.2.m1.1b"><times id="S4.T1.10.10.2.m1.1.1.cmml" xref="S4.T1.10.10.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.10.10.2.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.10.10.4" class="ltx_td ltx_align_left">-</td>
<td id="S4.T1.10.10.5" class="ltx_td ltx_align_left">-</td>
<td id="S4.T1.10.10.6" class="ltx_td ltx_align_left">W + C + GI</td>
<td id="S4.T1.10.10.7" class="ltx_td"></td>
<td id="S4.T1.10.10.8" class="ltx_td"></td>
<td id="S4.T1.10.10.9" class="ltx_td"></td>
<td id="S4.T1.10.10.10" class="ltx_td"></td>
<td id="S4.T1.10.10.11" class="ltx_td ltx_align_center">39.40</td>
</tr>
<tr id="S4.T1.11.11" class="ltx_tr">
<td id="S4.T1.11.11.2" class="ltx_td ltx_align_left">KAT-T5</td>
<td id="S4.T1.11.11.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.11.11.1" class="ltx_td ltx_align_center"><math id="S4.T1.11.11.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.11.11.1.m1.1a"><mo id="S4.T1.11.11.1.m1.1.1" xref="S4.T1.11.11.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.11.11.1.m1.1b"><times id="S4.T1.11.11.1.m1.1.1.cmml" xref="S4.T1.11.11.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.11.11.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.11.11.4" class="ltx_td ltx_align_left">40</td>
<td id="S4.T1.11.11.5" class="ltx_td ltx_align_left">40</td>
<td id="S4.T1.11.11.6" class="ltx_td ltx_align_left">W</td>
<td id="S4.T1.11.11.7" class="ltx_td"></td>
<td id="S4.T1.11.11.8" class="ltx_td"></td>
<td id="S4.T1.11.11.9" class="ltx_td"></td>
<td id="S4.T1.11.11.10" class="ltx_td"></td>
<td id="S4.T1.11.11.11" class="ltx_td ltx_align_center">44.25</td>
</tr>
<tr id="S4.T1.12.12" class="ltx_tr">
<td id="S4.T1.12.12.2" class="ltx_td ltx_align_left">TRiG</td>
<td id="S4.T1.12.12.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.12.12.1" class="ltx_td ltx_align_center"><math id="S4.T1.12.12.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.12.12.1.m1.1a"><mo id="S4.T1.12.12.1.m1.1.1" xref="S4.T1.12.12.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.12.12.1.m1.1b"><times id="S4.T1.12.12.1.m1.1.1.cmml" xref="S4.T1.12.12.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.12.12.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.12.12.4" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.12.12.5" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.12.12.6" class="ltx_td ltx_align_left">W</td>
<td id="S4.T1.12.12.7" class="ltx_td"></td>
<td id="S4.T1.12.12.8" class="ltx_td"></td>
<td id="S4.T1.12.12.9" class="ltx_td"></td>
<td id="S4.T1.12.12.10" class="ltx_td ltx_align_center">49.21</td>
<td id="S4.T1.12.12.11" class="ltx_td ltx_align_center">45.51</td>
</tr>
<tr id="S4.T1.13.13" class="ltx_tr">
<td id="S4.T1.13.13.2" class="ltx_td ltx_align_left">TRiG</td>
<td id="S4.T1.13.13.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.13.13.1" class="ltx_td ltx_align_center"><math id="S4.T1.13.13.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.13.13.1.m1.1a"><mo id="S4.T1.13.13.1.m1.1.1" xref="S4.T1.13.13.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.13.13.1.m1.1b"><times id="S4.T1.13.13.1.m1.1.1.cmml" xref="S4.T1.13.13.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.13.13.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.13.13.4" class="ltx_td ltx_align_left">100</td>
<td id="S4.T1.13.13.5" class="ltx_td ltx_align_left">100</td>
<td id="S4.T1.13.13.6" class="ltx_td ltx_align_left">W</td>
<td id="S4.T1.13.13.7" class="ltx_td"></td>
<td id="S4.T1.13.13.8" class="ltx_td"></td>
<td id="S4.T1.13.13.9" class="ltx_td"></td>
<td id="S4.T1.13.13.10" class="ltx_td ltx_align_center">53.59</td>
<td id="S4.T1.13.13.11" class="ltx_td ltx_align_center">49.35</td>
</tr>
<tr id="S4.T1.14.14" class="ltx_tr">
<td id="S4.T1.14.14.2" class="ltx_td ltx_align_left">TRiG-Ensemble</td>
<td id="S4.T1.14.14.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.14.14.1" class="ltx_td ltx_align_center"><math id="S4.T1.14.14.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.14.14.1.m1.1a"><mo id="S4.T1.14.14.1.m1.1.1" xref="S4.T1.14.14.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.14.14.1.m1.1b"><times id="S4.T1.14.14.1.m1.1.1.cmml" xref="S4.T1.14.14.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.14.14.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.14.14.4" class="ltx_td ltx_align_left">100</td>
<td id="S4.T1.14.14.5" class="ltx_td ltx_align_left">100</td>
<td id="S4.T1.14.14.6" class="ltx_td ltx_align_left">W</td>
<td id="S4.T1.14.14.7" class="ltx_td"></td>
<td id="S4.T1.14.14.8" class="ltx_td"></td>
<td id="S4.T1.14.14.9" class="ltx_td"></td>
<td id="S4.T1.14.14.10" class="ltx_td ltx_align_center">54.73</td>
<td id="S4.T1.14.14.11" class="ltx_td ltx_align_center">50.50</td>
</tr>
<tr id="S4.T1.15.15" class="ltx_tr">
<td id="S4.T1.15.15.2" class="ltx_td ltx_align_left">TRiG*</td>
<td id="S4.T1.15.15.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.15.15.1" class="ltx_td ltx_align_center"><math id="S4.T1.15.15.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.15.15.1.m1.1a"><mo id="S4.T1.15.15.1.m1.1.1" xref="S4.T1.15.15.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.15.15.1.m1.1b"><times id="S4.T1.15.15.1.m1.1.1.cmml" xref="S4.T1.15.15.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.15.15.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.15.15.4" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.15.15.5" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.15.15.6" class="ltx_td ltx_align_left">GS</td>
<td id="S4.T1.15.15.7" class="ltx_td"></td>
<td id="S4.T1.15.15.8" class="ltx_td"></td>
<td id="S4.T1.15.15.9" class="ltx_td"></td>
<td id="S4.T1.15.15.10" class="ltx_td ltx_align_center">52.79</td>
<td id="S4.T1.15.15.11" class="ltx_td ltx_align_center">48.32</td>
</tr>
<tr id="S4.T1.16.16" class="ltx_tr">
<td id="S4.T1.16.16.2" class="ltx_td ltx_align_left">RAG*</td>
<td id="S4.T1.16.16.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.16.16.1" class="ltx_td ltx_align_center"><math id="S4.T1.16.16.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.16.16.1.m1.1a"><mo id="S4.T1.16.16.1.m1.1.1" xref="S4.T1.16.16.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.16.16.1.m1.1b"><times id="S4.T1.16.16.1.m1.1.1.cmml" xref="S4.T1.16.16.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.16.16.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.16.16.4" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.16.16.5" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.16.16.6" class="ltx_td ltx_align_left">GS</td>
<td id="S4.T1.16.16.7" class="ltx_td ltx_align_center">82.34</td>
<td id="S4.T1.16.16.8" class="ltx_td ltx_align_center">12.28 / 40.24</td>
<td id="S4.T1.16.16.9" class="ltx_td ltx_align_center">0.31</td>
<td id="S4.T1.16.16.10" class="ltx_td ltx_align_center">52.52</td>
<td id="S4.T1.16.16.11" class="ltx_td ltx_align_center">48.22</td>
</tr>
<tr id="S4.T1.17.17" class="ltx_tr">
<td id="S4.T1.17.17.2" class="ltx_td ltx_align_left">RA-VQA (Ours)</td>
<td id="S4.T1.17.17.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.17.17.1" class="ltx_td ltx_align_center"><math id="S4.T1.17.17.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.17.17.1.m1.1a"><mo id="S4.T1.17.17.1.m1.1.1" xref="S4.T1.17.17.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.17.17.1.m1.1b"><times id="S4.T1.17.17.1.m1.1.1.cmml" xref="S4.T1.17.17.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.17.17.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.17.17.4" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.17.17.5" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.17.17.6" class="ltx_td ltx_align_left">GS</td>
<td id="S4.T1.17.17.7" class="ltx_td ltx_align_center">82.84</td>
<td id="S4.T1.17.17.8" class="ltx_td ltx_align_center">16.75 / 41.97</td>
<td id="S4.T1.17.17.9" class="ltx_td ltx_align_center">0.40</td>
<td id="S4.T1.17.17.10" class="ltx_td ltx_align_center">58.72</td>
<td id="S4.T1.17.17.11" class="ltx_td ltx_align_center">53.81</td>
</tr>
<tr id="S4.T1.18.18" class="ltx_tr">
<td id="S4.T1.18.18.2" class="ltx_td ltx_align_left">RA-VQA (Ours)</td>
<td id="S4.T1.18.18.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.18.18.1" class="ltx_td ltx_align_center"><math id="S4.T1.18.18.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.18.18.1.m1.1a"><mo id="S4.T1.18.18.1.m1.1.1" xref="S4.T1.18.18.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.18.18.1.m1.1b"><times id="S4.T1.18.18.1.m1.1.1.cmml" xref="S4.T1.18.18.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.18.18.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.18.18.4" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.18.18.5" class="ltx_td ltx_align_left">50</td>
<td id="S4.T1.18.18.6" class="ltx_td ltx_align_left">GS</td>
<td id="S4.T1.18.18.7" class="ltx_td ltx_align_center">96.55</td>
<td id="S4.T1.18.18.8" class="ltx_td ltx_align_center">17.32 / 42.09</td>
<td id="S4.T1.18.18.9" class="ltx_td ltx_align_center"><span id="S4.T1.18.18.9.1" class="ltx_text ltx_font_bold">0.41</span></td>
<td id="S4.T1.18.18.10" class="ltx_td ltx_align_center"><span id="S4.T1.18.18.10.1" class="ltx_text ltx_font_bold">59.41</span></td>
<td id="S4.T1.18.18.11" class="ltx_td ltx_align_center"><span id="S4.T1.18.18.11.1" class="ltx_text ltx_font_bold">54.48</span></td>
</tr>
<tr id="S4.T1.23.24.1" class="ltx_tr">
<td id="S4.T1.23.24.1.1" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T1.23.24.1.1.1" class="ltx_text ltx_font_italic">Ablation Study</span></td>
<td id="S4.T1.23.24.1.2" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.24.1.3" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.24.1.4" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.24.1.5" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.24.1.6" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.24.1.7" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.24.1.8" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.24.1.9" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.24.1.10" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.24.1.11" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="S4.T1.19.19" class="ltx_tr">
<td id="S4.T1.19.19.2" class="ltx_td ltx_align_left ltx_border_t">RA-VQA-FrDPR</td>
<td id="S4.T1.19.19.3" class="ltx_td ltx_align_center ltx_border_t">✓</td>
<td id="S4.T1.19.19.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T1.19.19.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.19.19.1.m1.1a"><mo id="S4.T1.19.19.1.m1.1.1" xref="S4.T1.19.19.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.19.19.1.m1.1b"><times id="S4.T1.19.19.1.m1.1.1.cmml" xref="S4.T1.19.19.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.19.19.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.19.19.4" class="ltx_td ltx_align_left ltx_border_t">5</td>
<td id="S4.T1.19.19.5" class="ltx_td ltx_align_left ltx_border_t">5</td>
<td id="S4.T1.19.19.6" class="ltx_td ltx_align_left ltx_border_t">GS</td>
<td id="S4.T1.19.19.7" class="ltx_td ltx_align_center ltx_border_t">81.25</td>
<td id="S4.T1.19.19.8" class="ltx_td ltx_align_center ltx_border_t">15.01 / 40.76</td>
<td id="S4.T1.19.19.9" class="ltx_td ltx_align_center ltx_border_t">0.37</td>
<td id="S4.T1.19.19.10" class="ltx_td ltx_align_center ltx_border_t">55.77</td>
<td id="S4.T1.19.19.11" class="ltx_td ltx_align_center ltx_border_t">51.22</td>
</tr>
<tr id="S4.T1.20.20" class="ltx_tr">
<td id="S4.T1.20.20.2" class="ltx_td ltx_align_left">RA-VQA-NoPR</td>
<td id="S4.T1.20.20.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.20.20.1" class="ltx_td ltx_align_center"><math id="S4.T1.20.20.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.20.20.1.m1.1a"><mo id="S4.T1.20.20.1.m1.1.1" xref="S4.T1.20.20.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.20.20.1.m1.1b"><times id="S4.T1.20.20.1.m1.1.1.cmml" xref="S4.T1.20.20.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.20.20.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.20.20.4" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.20.20.5" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.20.20.6" class="ltx_td ltx_align_left">GS</td>
<td id="S4.T1.20.20.7" class="ltx_td ltx_align_center">77.67</td>
<td id="S4.T1.20.20.8" class="ltx_td ltx_align_center">15.97 / 41.83</td>
<td id="S4.T1.20.20.9" class="ltx_td ltx_align_center">0.38</td>
<td id="S4.T1.20.20.10" class="ltx_td ltx_align_center">57.80</td>
<td id="S4.T1.20.20.11" class="ltx_td ltx_align_center">52.98</td>
</tr>
<tr id="S4.T1.21.21" class="ltx_tr">
<td id="S4.T1.21.21.2" class="ltx_td ltx_align_left">RA-VQA-NoCT</td>
<td id="S4.T1.21.21.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.21.21.1" class="ltx_td ltx_align_center"><math id="S4.T1.21.21.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.21.21.1.m1.1a"><mo id="S4.T1.21.21.1.m1.1.1" xref="S4.T1.21.21.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.21.21.1.m1.1b"><times id="S4.T1.21.21.1.m1.1.1.cmml" xref="S4.T1.21.21.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.21.21.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.21.21.4" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.21.21.5" class="ltx_td ltx_align_left">5</td>
<td id="S4.T1.21.21.6" class="ltx_td ltx_align_left">GS</td>
<td id="S4.T1.21.21.7" class="ltx_td ltx_align_center">83.77</td>
<td id="S4.T1.21.21.8" class="ltx_td ltx_align_center">14.55 / 42.96</td>
<td id="S4.T1.21.21.9" class="ltx_td ltx_align_center">0.33</td>
<td id="S4.T1.21.21.10" class="ltx_td ltx_align_center">57.51</td>
<td id="S4.T1.21.21.11" class="ltx_td ltx_align_center">52.67</td>
</tr>
<tr id="S4.T1.22.22" class="ltx_tr">
<td id="S4.T1.22.22.1" class="ltx_td ltx_align_left ltx_border_t" colspan="7"><span id="S4.T1.22.22.1.1" class="ltx_text ltx_font_italic">GPT-3-based Systems (<math id="S4.T1.22.22.1.1.m1.1" class="ltx_Math" alttext="&gt;" display="inline"><semantics id="S4.T1.22.22.1.1.m1.1a"><mo id="S4.T1.22.22.1.1.m1.1.1" xref="S4.T1.22.22.1.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="S4.T1.22.22.1.1.m1.1b"><gt id="S4.T1.22.22.1.1.m1.1.1.cmml" xref="S4.T1.22.22.1.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.22.22.1.1.m1.1c">&gt;</annotation></semantics></math>175 Billion Parameters)</span></td>
<td id="S4.T1.22.22.2" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.22.22.3" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.22.22.4" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.22.22.5" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="S4.T1.23.23" class="ltx_tr">
<td id="S4.T1.23.23.2" class="ltx_td ltx_align_left ltx_border_t">PICa</td>
<td id="S4.T1.23.23.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T1.23.23.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.23.23.1.m1.1a"><mo id="S4.T1.23.23.1.m1.1.1" xref="S4.T1.23.23.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.23.23.1.m1.1b"><times id="S4.T1.23.23.1.m1.1.1.cmml" xref="S4.T1.23.23.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.23.23.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T1.23.23.3" class="ltx_td ltx_align_center ltx_border_t">✓</td>
<td id="S4.T1.23.23.4" class="ltx_td ltx_align_left ltx_border_t">-</td>
<td id="S4.T1.23.23.5" class="ltx_td ltx_align_left ltx_border_t">-</td>
<td id="S4.T1.23.23.6" class="ltx_td ltx_align_left ltx_border_t">GPT-3</td>
<td id="S4.T1.23.23.7" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.23.8" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.23.9" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.23.10" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.23.23.11" class="ltx_td ltx_align_center ltx_border_t">48.00</td>
</tr>
<tr id="S4.T1.23.25.2" class="ltx_tr">
<td id="S4.T1.23.25.2.1" class="ltx_td ltx_align_left">KAT-Knowledge-T5</td>
<td id="S4.T1.23.25.2.2" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.23.25.2.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T1.23.25.2.4" class="ltx_td ltx_align_left">40</td>
<td id="S4.T1.23.25.2.5" class="ltx_td ltx_align_left">40</td>
<td id="S4.T1.23.25.2.6" class="ltx_td ltx_align_left">W + GPT-3</td>
<td id="S4.T1.23.25.2.7" class="ltx_td"></td>
<td id="S4.T1.23.25.2.8" class="ltx_td"></td>
<td id="S4.T1.23.25.2.9" class="ltx_td"></td>
<td id="S4.T1.23.25.2.10" class="ltx_td"></td>
<td id="S4.T1.23.25.2.11" class="ltx_td ltx_align_center">51.97</td>
</tr>
<tr id="S4.T1.23.26.3" class="ltx_tr">
<td id="S4.T1.23.26.3.1" class="ltx_td ltx_align_left ltx_border_bb">KAT-Ensemble</td>
<td id="S4.T1.23.26.3.2" class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td id="S4.T1.23.26.3.3" class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td id="S4.T1.23.26.3.4" class="ltx_td ltx_align_left ltx_border_bb">40</td>
<td id="S4.T1.23.26.3.5" class="ltx_td ltx_align_left ltx_border_bb">40</td>
<td id="S4.T1.23.26.3.6" class="ltx_td ltx_align_left ltx_border_bb">W + GPT-3</td>
<td id="S4.T1.23.26.3.7" class="ltx_td ltx_border_bb"></td>
<td id="S4.T1.23.26.3.8" class="ltx_td ltx_border_bb"></td>
<td id="S4.T1.23.26.3.9" class="ltx_td ltx_border_bb"></td>
<td id="S4.T1.23.26.3.10" class="ltx_td ltx_border_bb"></td>
<td id="S4.T1.23.26.3.11" class="ltx_td ltx_align_center ltx_border_bb">54.41</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>RA-VQA vs. Baseline Systems.
Knowledge Sources: <span id="S4.T1.34.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">C</span>onceptNet; <span id="S4.T1.35.2" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">W</span>ikipedia; <span id="S4.T1.36.3" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">G</span>oogle <span id="S4.T1.37.4" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">S</span>earch; <span id="S4.T1.38.5" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">G</span>oogle <span id="S4.T1.39.6" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">I</span>mages; <span id="S4.T1.40.7" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">GPT-3</span> closed book knowledge.
<span id="S4.T1.41.8" class="ltx_text ltx_framed ltx_framed_underline">H/F</span>: HSR to FSR ratio.
PRRecall, HSR, FSR, and EM are reported in percentage (%).
PRRecall is reported at the corresponding <math id="S4.T1.25.m1.1" class="ltx_Math" alttext="K_{\text{test}}" display="inline"><semantics id="S4.T1.25.m1.1b"><msub id="S4.T1.25.m1.1.1" xref="S4.T1.25.m1.1.1.cmml"><mi id="S4.T1.25.m1.1.1.2" xref="S4.T1.25.m1.1.1.2.cmml">K</mi><mtext id="S4.T1.25.m1.1.1.3" xref="S4.T1.25.m1.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T1.25.m1.1c"><apply id="S4.T1.25.m1.1.1.cmml" xref="S4.T1.25.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.25.m1.1.1.1.cmml" xref="S4.T1.25.m1.1.1">subscript</csymbol><ci id="S4.T1.25.m1.1.1.2.cmml" xref="S4.T1.25.m1.1.1.2">𝐾</ci><ci id="S4.T1.25.m1.1.1.3a.cmml" xref="S4.T1.25.m1.1.1.3"><mtext mathsize="70%" id="S4.T1.25.m1.1.1.3.cmml" xref="S4.T1.25.m1.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.25.m1.1d">K_{\text{test}}</annotation></semantics></math>.
</figcaption>
</figure>
<div id="S4.SS3.SSS2.p1" class="ltx_para">
<p id="S4.SS3.SSS2.p1.1" class="ltx_p">We compare against the published OK-VQA results from systems described in Sec. <a href="#S2" title="2 Related Work ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>: <span id="S4.SS3.SSS2.p1.1.1" class="ltx_text ltx_font_bold">ConceptBERT</span>, <span id="S4.SS3.SSS2.p1.1.2" class="ltx_text ltx_font_bold">KRISP</span>, <span id="S4.SS3.SSS2.p1.1.3" class="ltx_text ltx_font_bold">MAVEx</span>, and <span id="S4.SS3.SSS2.p1.1.4" class="ltx_text ltx_font_bold">VRR</span>.
We also report performance against unpublished (non peer-reviewed) systems <span id="S4.SS3.SSS2.p1.1.5" class="ltx_text ltx_font_bold">TRiG<span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note"><span id="footnote4.1.1.1" class="ltx_text ltx_font_medium">4</span></span><span id="footnote4.5" class="ltx_text ltx_font_medium">At the time of submission, TRiG has not been published.</span></span></span></span></span>, <span id="S4.SS3.SSS2.p1.1.6" class="ltx_text ltx_font_bold">PICa</span>, and <span id="S4.SS3.SSS2.p1.1.7" class="ltx_text ltx_font_bold">KAT</span>.
<span id="S4.SS3.SSS2.p1.1.8" class="ltx_text ltx_font_bold">TRiG</span> uses a similar image-to-text transform as this work, so to enable fair comparison with our model we replicate their knowledge fusing method with our features.
Baseline results are reported in Table <a href="#S4.T1" title="Table 1 ‣ 4.3.2 Baseline Systems in the Literature ‣ 4.3 Baseline Systems ‣ 4 Experiments ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>;
baseline results marked <span id="S4.SS3.SSS2.p1.1.9" class="ltx_text ltx_font_bold">*</span> are our own.
<span id="S4.SS3.SSS2.p1.1.10" class="ltx_text ltx_font_bold">TRiG*</span>, our own implementation of TRiG, concatenates <math id="S4.SS3.SSS2.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS3.SSS2.p1.1.m1.1a"><mi id="S4.SS3.SSS2.p1.1.m1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.1.m1.1b"><ci id="S4.SS3.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.1.m1.1c">K</annotation></semantics></math> encoder outputs for the decoder to use in generation.</p>
</div>
<div id="S4.SS3.SSS2.p2" class="ltx_para">
<p id="S4.SS3.SSS2.p2.2" class="ltx_p">We make some particular observations. Our TRiG* improves over the results released in its paper (VQA Score of 48.32 vs 45.51) at <math id="S4.SS3.SSS2.p2.1.m1.1" class="ltx_Math" alttext="K_{\text{train}}=K_{\text{test}}=5" display="inline"><semantics id="S4.SS3.SSS2.p2.1.m1.1a"><mrow id="S4.SS3.SSS2.p2.1.m1.1.1" xref="S4.SS3.SSS2.p2.1.m1.1.1.cmml"><msub id="S4.SS3.SSS2.p2.1.m1.1.1.2" xref="S4.SS3.SSS2.p2.1.m1.1.1.2.cmml"><mi id="S4.SS3.SSS2.p2.1.m1.1.1.2.2" xref="S4.SS3.SSS2.p2.1.m1.1.1.2.2.cmml">K</mi><mtext id="S4.SS3.SSS2.p2.1.m1.1.1.2.3" xref="S4.SS3.SSS2.p2.1.m1.1.1.2.3a.cmml">train</mtext></msub><mo id="S4.SS3.SSS2.p2.1.m1.1.1.3" xref="S4.SS3.SSS2.p2.1.m1.1.1.3.cmml">=</mo><msub id="S4.SS3.SSS2.p2.1.m1.1.1.4" xref="S4.SS3.SSS2.p2.1.m1.1.1.4.cmml"><mi id="S4.SS3.SSS2.p2.1.m1.1.1.4.2" xref="S4.SS3.SSS2.p2.1.m1.1.1.4.2.cmml">K</mi><mtext id="S4.SS3.SSS2.p2.1.m1.1.1.4.3" xref="S4.SS3.SSS2.p2.1.m1.1.1.4.3a.cmml">test</mtext></msub><mo id="S4.SS3.SSS2.p2.1.m1.1.1.5" xref="S4.SS3.SSS2.p2.1.m1.1.1.5.cmml">=</mo><mn id="S4.SS3.SSS2.p2.1.m1.1.1.6" xref="S4.SS3.SSS2.p2.1.m1.1.1.6.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.1.m1.1b"><apply id="S4.SS3.SSS2.p2.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1"><and id="S4.SS3.SSS2.p2.1.m1.1.1a.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1"></and><apply id="S4.SS3.SSS2.p2.1.m1.1.1b.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1"><eq id="S4.SS3.SSS2.p2.1.m1.1.1.3.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.3"></eq><apply id="S4.SS3.SSS2.p2.1.m1.1.1.2.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.1.m1.1.1.2.1.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.1.m1.1.1.2.2.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.2.2">𝐾</ci><ci id="S4.SS3.SSS2.p2.1.m1.1.1.2.3a.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.2.3"><mtext mathsize="70%" id="S4.SS3.SSS2.p2.1.m1.1.1.2.3.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.2.3">train</mtext></ci></apply><apply id="S4.SS3.SSS2.p2.1.m1.1.1.4.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.4"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.1.m1.1.1.4.1.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.4">subscript</csymbol><ci id="S4.SS3.SSS2.p2.1.m1.1.1.4.2.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.4.2">𝐾</ci><ci id="S4.SS3.SSS2.p2.1.m1.1.1.4.3a.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.4.3"><mtext mathsize="70%" id="S4.SS3.SSS2.p2.1.m1.1.1.4.3.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.4.3">test</mtext></ci></apply></apply><apply id="S4.SS3.SSS2.p2.1.m1.1.1c.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1"><eq id="S4.SS3.SSS2.p2.1.m1.1.1.5.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.5"></eq><share href="#S4.SS3.SSS2.p2.1.m1.1.1.4.cmml" id="S4.SS3.SSS2.p2.1.m1.1.1d.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1"></share><cn type="integer" id="S4.SS3.SSS2.p2.1.m1.1.1.6.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.6">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.1.m1.1c">K_{\text{train}}=K_{\text{test}}=5</annotation></semantics></math>; TRiG and TRiG Ensemble both benefit from more retrieved documents in training and testing (<math id="S4.SS3.SSS2.p2.2.m2.1" class="ltx_Math" alttext="K_{\text{train}}=K_{\text{test}}=100" display="inline"><semantics id="S4.SS3.SSS2.p2.2.m2.1a"><mrow id="S4.SS3.SSS2.p2.2.m2.1.1" xref="S4.SS3.SSS2.p2.2.m2.1.1.cmml"><msub id="S4.SS3.SSS2.p2.2.m2.1.1.2" xref="S4.SS3.SSS2.p2.2.m2.1.1.2.cmml"><mi id="S4.SS3.SSS2.p2.2.m2.1.1.2.2" xref="S4.SS3.SSS2.p2.2.m2.1.1.2.2.cmml">K</mi><mtext id="S4.SS3.SSS2.p2.2.m2.1.1.2.3" xref="S4.SS3.SSS2.p2.2.m2.1.1.2.3a.cmml">train</mtext></msub><mo id="S4.SS3.SSS2.p2.2.m2.1.1.3" xref="S4.SS3.SSS2.p2.2.m2.1.1.3.cmml">=</mo><msub id="S4.SS3.SSS2.p2.2.m2.1.1.4" xref="S4.SS3.SSS2.p2.2.m2.1.1.4.cmml"><mi id="S4.SS3.SSS2.p2.2.m2.1.1.4.2" xref="S4.SS3.SSS2.p2.2.m2.1.1.4.2.cmml">K</mi><mtext id="S4.SS3.SSS2.p2.2.m2.1.1.4.3" xref="S4.SS3.SSS2.p2.2.m2.1.1.4.3a.cmml">test</mtext></msub><mo id="S4.SS3.SSS2.p2.2.m2.1.1.5" xref="S4.SS3.SSS2.p2.2.m2.1.1.5.cmml">=</mo><mn id="S4.SS3.SSS2.p2.2.m2.1.1.6" xref="S4.SS3.SSS2.p2.2.m2.1.1.6.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.2.m2.1b"><apply id="S4.SS3.SSS2.p2.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1"><and id="S4.SS3.SSS2.p2.2.m2.1.1a.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1"></and><apply id="S4.SS3.SSS2.p2.2.m2.1.1b.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1"><eq id="S4.SS3.SSS2.p2.2.m2.1.1.3.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.3"></eq><apply id="S4.SS3.SSS2.p2.2.m2.1.1.2.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.2.m2.1.1.2.1.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.2.m2.1.1.2.2.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.2.2">𝐾</ci><ci id="S4.SS3.SSS2.p2.2.m2.1.1.2.3a.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.2.3"><mtext mathsize="70%" id="S4.SS3.SSS2.p2.2.m2.1.1.2.3.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.2.3">train</mtext></ci></apply><apply id="S4.SS3.SSS2.p2.2.m2.1.1.4.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.4"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.2.m2.1.1.4.1.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.4">subscript</csymbol><ci id="S4.SS3.SSS2.p2.2.m2.1.1.4.2.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.4.2">𝐾</ci><ci id="S4.SS3.SSS2.p2.2.m2.1.1.4.3a.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.4.3"><mtext mathsize="70%" id="S4.SS3.SSS2.p2.2.m2.1.1.4.3.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.4.3">test</mtext></ci></apply></apply><apply id="S4.SS3.SSS2.p2.2.m2.1.1c.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1"><eq id="S4.SS3.SSS2.p2.2.m2.1.1.5.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.5"></eq><share href="#S4.SS3.SSS2.p2.2.m2.1.1.4.cmml" id="S4.SS3.SSS2.p2.2.m2.1.1d.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1"></share><cn type="integer" id="S4.SS3.SSS2.p2.2.m2.1.1.6.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.6">100</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.2.m2.1c">K_{\text{train}}=K_{\text{test}}=100</annotation></semantics></math>), although at great computational cost. Best performance with KAT-T5 and VRR similarly requires large document collections in training and in test.</p>
</div>
<div id="S4.SS3.SSS2.p3" class="ltx_para">
<p id="S4.SS3.SSS2.p3.1" class="ltx_p">We include results from GPT-3 based systems because they are amongst the best in the literature, but we note that GPT-3 is so much bigger than T5 (175 billion parameters in GPT-3 v.s. 770 million in T5-large) that simply switching a system implementation from T5 to GPT-3 can give significant improvements: KAT-T5 achieved a 44.25 VQA Score while ensembling it with GPT-3 yields 54.41;
and GPT-3 alone already achieved good performance with prompting (PICa with 48.00 VQA Score). Our RA-VQA system is based on T5, but we still find competitive results even in comparison to systems incorporating GPT-3 (54.48 vs 54.41 of KAT-Ensemble).</p>
</div>
</section>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>RA-VQA Performance Analysis</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.3" class="ltx_p">We find that RA-VQA matches or improves over all baseline systems with a VQA Score of 54.48.
This is with a configuration of <math id="S4.SS4.p1.1.m1.1" class="ltx_Math" alttext="K_{\text{train}}=5" display="inline"><semantics id="S4.SS4.p1.1.m1.1a"><mrow id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml"><msub id="S4.SS4.p1.1.m1.1.1.2" xref="S4.SS4.p1.1.m1.1.1.2.cmml"><mi id="S4.SS4.p1.1.m1.1.1.2.2" xref="S4.SS4.p1.1.m1.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.p1.1.m1.1.1.2.3" xref="S4.SS4.p1.1.m1.1.1.2.3a.cmml">train</mtext></msub><mo id="S4.SS4.p1.1.m1.1.1.1" xref="S4.SS4.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS4.p1.1.m1.1.1.3" xref="S4.SS4.p1.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><apply id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1"><eq id="S4.SS4.p1.1.m1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1.1"></eq><apply id="S4.SS4.p1.1.m1.1.1.2.cmml" xref="S4.SS4.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p1.1.m1.1.1.2.1.cmml" xref="S4.SS4.p1.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS4.p1.1.m1.1.1.2.2.cmml" xref="S4.SS4.p1.1.m1.1.1.2.2">𝐾</ci><ci id="S4.SS4.p1.1.m1.1.1.2.3a.cmml" xref="S4.SS4.p1.1.m1.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.p1.1.m1.1.1.2.3.cmml" xref="S4.SS4.p1.1.m1.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="S4.SS4.p1.1.m1.1.1.3.cmml" xref="S4.SS4.p1.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">K_{\text{train}}=5</annotation></semantics></math> and <math id="S4.SS4.p1.2.m2.1" class="ltx_Math" alttext="K_{\text{test}}=50" display="inline"><semantics id="S4.SS4.p1.2.m2.1a"><mrow id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml"><msub id="S4.SS4.p1.2.m2.1.1.2" xref="S4.SS4.p1.2.m2.1.1.2.cmml"><mi id="S4.SS4.p1.2.m2.1.1.2.2" xref="S4.SS4.p1.2.m2.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.p1.2.m2.1.1.2.3" xref="S4.SS4.p1.2.m2.1.1.2.3a.cmml">test</mtext></msub><mo id="S4.SS4.p1.2.m2.1.1.1" xref="S4.SS4.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS4.p1.2.m2.1.1.3" xref="S4.SS4.p1.2.m2.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><apply id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1"><eq id="S4.SS4.p1.2.m2.1.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1"></eq><apply id="S4.SS4.p1.2.m2.1.1.2.cmml" xref="S4.SS4.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p1.2.m2.1.1.2.1.cmml" xref="S4.SS4.p1.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS4.p1.2.m2.1.1.2.2.cmml" xref="S4.SS4.p1.2.m2.1.1.2.2">𝐾</ci><ci id="S4.SS4.p1.2.m2.1.1.2.3a.cmml" xref="S4.SS4.p1.2.m2.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.p1.2.m2.1.1.2.3.cmml" xref="S4.SS4.p1.2.m2.1.1.2.3">test</mtext></ci></apply><cn type="integer" id="S4.SS4.p1.2.m2.1.1.3.cmml" xref="S4.SS4.p1.2.m2.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">K_{\text{test}}=50</annotation></semantics></math>,
thus validating our claim that RA-VQA can use a large number of retrieved documents in testing (50) while using relatively few retrieved documents in training (5).
We find that reducing the number of retrieved documents in test (<math id="S4.SS4.p1.3.m3.1" class="ltx_Math" alttext="K_{\text{test}}=5" display="inline"><semantics id="S4.SS4.p1.3.m3.1a"><mrow id="S4.SS4.p1.3.m3.1.1" xref="S4.SS4.p1.3.m3.1.1.cmml"><msub id="S4.SS4.p1.3.m3.1.1.2" xref="S4.SS4.p1.3.m3.1.1.2.cmml"><mi id="S4.SS4.p1.3.m3.1.1.2.2" xref="S4.SS4.p1.3.m3.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.p1.3.m3.1.1.2.3" xref="S4.SS4.p1.3.m3.1.1.2.3a.cmml">test</mtext></msub><mo id="S4.SS4.p1.3.m3.1.1.1" xref="S4.SS4.p1.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS4.p1.3.m3.1.1.3" xref="S4.SS4.p1.3.m3.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.3.m3.1b"><apply id="S4.SS4.p1.3.m3.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1"><eq id="S4.SS4.p1.3.m3.1.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1.1"></eq><apply id="S4.SS4.p1.3.m3.1.1.2.cmml" xref="S4.SS4.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p1.3.m3.1.1.2.1.cmml" xref="S4.SS4.p1.3.m3.1.1.2">subscript</csymbol><ci id="S4.SS4.p1.3.m3.1.1.2.2.cmml" xref="S4.SS4.p1.3.m3.1.1.2.2">𝐾</ci><ci id="S4.SS4.p1.3.m3.1.1.2.3a.cmml" xref="S4.SS4.p1.3.m3.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.p1.3.m3.1.1.2.3.cmml" xref="S4.SS4.p1.3.m3.1.1.2.3">test</mtext></ci></apply><cn type="integer" id="S4.SS4.p1.3.m3.1.1.3.cmml" xref="S4.SS4.p1.3.m3.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.3.m3.1c">K_{\text{test}}=5</annotation></semantics></math>) reduces the VQA Score, but still yields performance better than all baselines except the KAT ensemble.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.2" class="ltx_p">We also find that RA-VQA performs well relative to GPT-3 baselines.
RA-VQA yields a higher VQA score than KAT-Knowledge-T5 (54.48 vs. 51.97) and matches the KAT-Ensemble system.
We emphasize that RA-VQA is significantly smaller in terms of parameters (and in model pre-training data) than these GPT-3 based systems and that training RA-VQA requires much less memory (<math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="K_{\text{train}}=5" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><mrow id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml"><msub id="S4.SS4.p2.1.m1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.2.cmml"><mi id="S4.SS4.p2.1.m1.1.1.2.2" xref="S4.SS4.p2.1.m1.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.p2.1.m1.1.1.2.3" xref="S4.SS4.p2.1.m1.1.1.2.3a.cmml">train</mtext></msub><mo id="S4.SS4.p2.1.m1.1.1.1" xref="S4.SS4.p2.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS4.p2.1.m1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><apply id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1"><eq id="S4.SS4.p2.1.m1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1"></eq><apply id="S4.SS4.p2.1.m1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.1.1.2.1.cmml" xref="S4.SS4.p2.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS4.p2.1.m1.1.1.2.2.cmml" xref="S4.SS4.p2.1.m1.1.1.2.2">𝐾</ci><ci id="S4.SS4.p2.1.m1.1.1.2.3a.cmml" xref="S4.SS4.p2.1.m1.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.p2.1.m1.1.1.2.3.cmml" xref="S4.SS4.p2.1.m1.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="S4.SS4.p2.1.m1.1.1.3.cmml" xref="S4.SS4.p2.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">K_{\text{train}}=5</annotation></semantics></math> vs <math id="S4.SS4.p2.2.m2.1" class="ltx_Math" alttext="K_{\text{train}}=40" display="inline"><semantics id="S4.SS4.p2.2.m2.1a"><mrow id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml"><msub id="S4.SS4.p2.2.m2.1.1.2" xref="S4.SS4.p2.2.m2.1.1.2.cmml"><mi id="S4.SS4.p2.2.m2.1.1.2.2" xref="S4.SS4.p2.2.m2.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.p2.2.m2.1.1.2.3" xref="S4.SS4.p2.2.m2.1.1.2.3a.cmml">train</mtext></msub><mo id="S4.SS4.p2.2.m2.1.1.1" xref="S4.SS4.p2.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS4.p2.2.m2.1.1.3" xref="S4.SS4.p2.2.m2.1.1.3.cmml">40</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><apply id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1"><eq id="S4.SS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1.1"></eq><apply id="S4.SS4.p2.2.m2.1.1.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p2.2.m2.1.1.2.1.cmml" xref="S4.SS4.p2.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS4.p2.2.m2.1.1.2.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2.2">𝐾</ci><ci id="S4.SS4.p2.2.m2.1.1.2.3a.cmml" xref="S4.SS4.p2.2.m2.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.p2.2.m2.1.1.2.3.cmml" xref="S4.SS4.p2.2.m2.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="S4.SS4.p2.2.m2.1.1.3.cmml" xref="S4.SS4.p2.2.m2.1.1.3">40</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">K_{\text{train}}=40</annotation></semantics></math>).</p>
</div>
<section id="S4.SS4.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.4.1 </span>Contributions of Query Features and DPR to Overall Performance</h4>

<figure id="S4.T2" class="ltx_table">
<table id="S4.T2.10" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.10.11.1" class="ltx_tr">
<th id="S4.T2.10.11.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">Model</th>
<th id="S4.T2.10.11.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Q</th>
<th id="S4.T2.10.11.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">O</th>
<th id="S4.T2.10.11.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">A</th>
<th id="S4.T2.10.11.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">C</th>
<th id="S4.T2.10.11.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">T</th>
<th id="S4.T2.10.11.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">VQA Score</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.4.4" class="ltx_tr">
<td id="S4.T2.4.4.5" class="ltx_td ltx_align_left ltx_border_t">RA-VQA-NoDPR</td>
<td id="S4.T2.4.4.6" class="ltx_td ltx_align_center ltx_border_t">✓</td>
<td id="S4.T2.1.1.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T2.1.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.1.1.1.m1.1a"><mo id="S4.T2.1.1.1.m1.1.1" xref="S4.T2.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.m1.1b"><times id="S4.T2.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T2.2.2.2" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T2.2.2.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.2.2.2.m1.1a"><mo id="S4.T2.2.2.2.m1.1.1" xref="S4.T2.2.2.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.m1.1b"><times id="S4.T2.2.2.2.m1.1.1.cmml" xref="S4.T2.2.2.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T2.3.3.3" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T2.3.3.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.3.3.3.m1.1a"><mo id="S4.T2.3.3.3.m1.1.1" xref="S4.T2.3.3.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.3.m1.1b"><times id="S4.T2.3.3.3.m1.1.1.cmml" xref="S4.T2.3.3.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.3.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T2.4.4.4" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T2.4.4.4.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.4.4.4.m1.1a"><mo id="S4.T2.4.4.4.m1.1.1" xref="S4.T2.4.4.4.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.4.m1.1b"><times id="S4.T2.4.4.4.m1.1.1.cmml" xref="S4.T2.4.4.4.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.4.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T2.4.4.7" class="ltx_td ltx_align_center ltx_border_t">28.05</td>
</tr>
<tr id="S4.T2.7.7" class="ltx_tr">
<td id="S4.T2.7.7.4" class="ltx_td ltx_align_left">RA-VQA-NoDPR</td>
<td id="S4.T2.7.7.5" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.7.7.6" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.5.5.1" class="ltx_td ltx_align_center"><math id="S4.T2.5.5.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.5.5.1.m1.1a"><mo id="S4.T2.5.5.1.m1.1.1" xref="S4.T2.5.5.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.1.m1.1b"><times id="S4.T2.5.5.1.m1.1.1.cmml" xref="S4.T2.5.5.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T2.6.6.2" class="ltx_td ltx_align_center"><math id="S4.T2.6.6.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.6.6.2.m1.1a"><mo id="S4.T2.6.6.2.m1.1.1" xref="S4.T2.6.6.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.2.m1.1b"><times id="S4.T2.6.6.2.m1.1.1.cmml" xref="S4.T2.6.6.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.2.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T2.7.7.3" class="ltx_td ltx_align_center"><math id="S4.T2.7.7.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.7.7.3.m1.1a"><mo id="S4.T2.7.7.3.m1.1.1" xref="S4.T2.7.7.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.7.7.3.m1.1b"><times id="S4.T2.7.7.3.m1.1.1.cmml" xref="S4.T2.7.7.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.7.7.3.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T2.7.7.7" class="ltx_td ltx_align_center">40.95</td>
</tr>
<tr id="S4.T2.9.9" class="ltx_tr">
<td id="S4.T2.9.9.3" class="ltx_td ltx_align_left">RA-VQA-NoDPR</td>
<td id="S4.T2.9.9.4" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.9.9.5" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.9.9.6" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.8.8.1" class="ltx_td ltx_align_center"><math id="S4.T2.8.8.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.8.8.1.m1.1a"><mo id="S4.T2.8.8.1.m1.1.1" xref="S4.T2.8.8.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.8.8.1.m1.1b"><times id="S4.T2.8.8.1.m1.1.1.cmml" xref="S4.T2.8.8.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.8.8.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T2.9.9.2" class="ltx_td ltx_align_center"><math id="S4.T2.9.9.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.9.9.2.m1.1a"><mo id="S4.T2.9.9.2.m1.1.1" xref="S4.T2.9.9.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.9.9.2.m1.1b"><times id="S4.T2.9.9.2.m1.1.1.cmml" xref="S4.T2.9.9.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.9.9.2.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T2.9.9.7" class="ltx_td ltx_align_center">42.14</td>
</tr>
<tr id="S4.T2.10.10" class="ltx_tr">
<td id="S4.T2.10.10.2" class="ltx_td ltx_align_left">RA-VQA-NoDPR</td>
<td id="S4.T2.10.10.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.10.4" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.10.5" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.10.6" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.10.1" class="ltx_td ltx_align_center"><math id="S4.T2.10.10.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.10.10.1.m1.1a"><mo id="S4.T2.10.10.1.m1.1.1" xref="S4.T2.10.10.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.10.10.1.m1.1b"><times id="S4.T2.10.10.1.m1.1.1.cmml" xref="S4.T2.10.10.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.10.10.1.m1.1c">\times</annotation></semantics></math></td>
<td id="S4.T2.10.10.7" class="ltx_td ltx_align_center">45.31</td>
</tr>
<tr id="S4.T2.10.12.1" class="ltx_tr">
<td id="S4.T2.10.12.1.1" class="ltx_td ltx_align_left">RA-VQA-NoDPR</td>
<td id="S4.T2.10.12.1.2" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.12.1.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.12.1.4" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.12.1.5" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.12.1.6" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.12.1.7" class="ltx_td ltx_align_center">46.16</td>
</tr>
<tr id="S4.T2.10.13.2" class="ltx_tr">
<td id="S4.T2.10.13.2.1" class="ltx_td ltx_align_left">RA-VQA-FrDPR</td>
<td id="S4.T2.10.13.2.2" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.13.2.3" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.13.2.4" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.13.2.5" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.13.2.6" class="ltx_td ltx_align_center">✓</td>
<td id="S4.T2.10.13.2.7" class="ltx_td ltx_align_center">51.22</td>
</tr>
<tr id="S4.T2.10.14.3" class="ltx_tr">
<td id="S4.T2.10.14.3.1" class="ltx_td ltx_align_left ltx_border_bb">RA-VQA</td>
<td id="S4.T2.10.14.3.2" class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td id="S4.T2.10.14.3.3" class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td id="S4.T2.10.14.3.4" class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td id="S4.T2.10.14.3.5" class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td id="S4.T2.10.14.3.6" class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td id="S4.T2.10.14.3.7" class="ltx_td ltx_align_center ltx_border_bb">53.81</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Ablation study on input features and system configurations: <span id="S4.T2.18.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">Q</span>uestions; <span id="S4.T2.19.2" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">O</span>bjects; <span id="S4.T2.20.3" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">A</span>ttributes associated with objects; <span id="S4.T2.21.4" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">C</span>aptions; visible <span id="S4.T2.22.5" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">T</span>ext from OCR. <math id="S4.T2.12.m1.1" class="ltx_Math" alttext="K=5" display="inline"><semantics id="S4.T2.12.m1.1b"><mrow id="S4.T2.12.m1.1.1" xref="S4.T2.12.m1.1.1.cmml"><mi id="S4.T2.12.m1.1.1.2" xref="S4.T2.12.m1.1.1.2.cmml">K</mi><mo id="S4.T2.12.m1.1.1.1" xref="S4.T2.12.m1.1.1.1.cmml">=</mo><mn id="S4.T2.12.m1.1.1.3" xref="S4.T2.12.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.12.m1.1c"><apply id="S4.T2.12.m1.1.1.cmml" xref="S4.T2.12.m1.1.1"><eq id="S4.T2.12.m1.1.1.1.cmml" xref="S4.T2.12.m1.1.1.1"></eq><ci id="S4.T2.12.m1.1.1.2.cmml" xref="S4.T2.12.m1.1.1.2">𝐾</ci><cn type="integer" id="S4.T2.12.m1.1.1.3.cmml" xref="S4.T2.12.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.12.m1.1d">K=5</annotation></semantics></math> in RA-VQA and RA-VQA-FrDPR.</figcaption>
</figure>
<div id="S4.SS4.SSS1.p1" class="ltx_para">
<p id="S4.SS4.SSS1.p1.1" class="ltx_p">A detailed ablation study on input features is presented in Table <a href="#S4.T2" title="Table 2 ‣ 4.4.1 Contributions of Query Features and DPR to Overall Performance ‣ 4.4 RA-VQA Performance Analysis ‣ 4 Experiments ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
As shown, the T5 model fine-tuned on OK-VQA achieves a 28.05 VQA Score.
The VQA Score increases to 46.16 as objects, object attributes, image captions, and OCR texts are incorporated into RA-VQA-NoDPR.
With <math id="S4.SS4.SSS1.p1.1.m1.1" class="ltx_Math" alttext="5" display="inline"><semantics id="S4.SS4.SSS1.p1.1.m1.1a"><mn id="S4.SS4.SSS1.p1.1.m1.1.1" xref="S4.SS4.SSS1.p1.1.m1.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS1.p1.1.m1.1b"><cn type="integer" id="S4.SS4.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS4.SSS1.p1.1.m1.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS1.p1.1.m1.1c">5</annotation></semantics></math> retrieved documents, RA-VQA-FrDPR yields a 51.22 VQA Score, with a further improvement (53.81 VQA Score) in full training of retrieval and answer generation, confirming that outside knowledge is needed to answer OK-VQA questions.</p>
</div>
</section>
<section id="S4.SS4.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.4.2 </span>Benefits of Integrated Training</h4>

<div id="S4.SS4.SSS2.p1" class="ltx_para">
<p id="S4.SS4.SSS2.p1.1" class="ltx_p">Joint training is a key benefit of our proposed RA-VQA framework: model predictions combine with pseudo relevance labels to improve retrieval, and the resulting improved retrieval in turn provides customized answer generation targets.
To quantify these effects,
we take RA-VQA-FrDPR as a starting point (Table <a href="#S4.T1" title="Table 1 ‣ 4.3.2 Baseline Systems in the Literature ‣ 4.3 Baseline Systems ‣ 4 Experiments ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). Comparing it with other RA-VQA models suggests that DPR training in itself is necessary, as using only pre-trained DPR (RA-VQA-FrDPR) leads to weaker VQA Score (51.22).
Using model predictions alone in joint DPR training (RA-VQA-NoPR) leads to a higher VQA Score (52.98 vs 51.22), but a significantly lower PRRecall (77.67% vs 81.25%).
The model decides to remove some pseudo relevant documents but achieves better performance.
This points to a potential problem that can arise. Pseudo relevance is only an imperfect indication of true relevance and so is not an ideal criteria on its own. Training DPR to retrieve pseudo relevant documents could result in misleading documents being used in answer generation.</p>
</div>
<div id="S4.SS4.SSS2.p2" class="ltx_para">
<p id="S4.SS4.SSS2.p2.1" class="ltx_p">Using both pseudo relevance labels and model predictions in DPR training (RA-VQA) improves VQA Score to 53.81 and notably improves PRRecall to 82.84%.
Including pseudo relevance ensures that potentially useful documents are retained, even while the generator is still learning to use them.</p>
</div>
<div id="S4.SS4.SSS2.p3" class="ltx_para">
<p id="S4.SS4.SSS2.p3.1" class="ltx_p">We also note that when generation targets are not customized for each retrieved document (RA-VQA-NoCT), VQA Score drops by 1.14 relative to RA-VQA, showing that customized generation targets play an important role in the overall system:
by training the model to extract the reliable answers available in retrieved documents, answer generation and retrieval are both improved.</p>
</div>
</section>
<section id="S4.SS4.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.4.3 </span>Interaction of Retrieval and Generation</h4>

<div id="S4.SS4.SSS3.p1" class="ltx_para">
<p id="S4.SS4.SSS3.p1.1" class="ltx_p">Table <a href="#S4.T1" title="Table 1 ‣ 4.3.2 Baseline Systems in the Literature ‣ 4.3 Baseline Systems ‣ 4 Experiments ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> also reports our investigation into the interaction between document retrieval and answer generation.
In comparing RA-VQA-FrDPR (frozen DPR) to RA-VQA,
we see that joint training of DPR yields not only improved EM but also significantly higher HSR (+1.74%) and FSR (+1.21%).
Manual inspection of OK-VQA reveals that there are many general knowledge questions. For example, document retrieval is not needed to answer the question "Is this television working?" in reference to a picture of a broken television lying in a field. A high FSR indicates good performance on such questions.
By contrast, a high HSR reflects the ability to use document retrieval to answer the questions that truly require external documents.
</p>
</div>
<div id="S4.SS4.SSS3.p2" class="ltx_para">
<p id="S4.SS4.SSS3.p2.1" class="ltx_p">Both EM and HSR are further improved for <math id="S4.SS4.SSS3.p2.1.m1.1" class="ltx_Math" alttext="K_{\text{test}}=50" display="inline"><semantics id="S4.SS4.SSS3.p2.1.m1.1a"><mrow id="S4.SS4.SSS3.p2.1.m1.1.1" xref="S4.SS4.SSS3.p2.1.m1.1.1.cmml"><msub id="S4.SS4.SSS3.p2.1.m1.1.1.2" xref="S4.SS4.SSS3.p2.1.m1.1.1.2.cmml"><mi id="S4.SS4.SSS3.p2.1.m1.1.1.2.2" xref="S4.SS4.SSS3.p2.1.m1.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.SSS3.p2.1.m1.1.1.2.3" xref="S4.SS4.SSS3.p2.1.m1.1.1.2.3a.cmml">test</mtext></msub><mo id="S4.SS4.SSS3.p2.1.m1.1.1.1" xref="S4.SS4.SSS3.p2.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS4.SSS3.p2.1.m1.1.1.3" xref="S4.SS4.SSS3.p2.1.m1.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS3.p2.1.m1.1b"><apply id="S4.SS4.SSS3.p2.1.m1.1.1.cmml" xref="S4.SS4.SSS3.p2.1.m1.1.1"><eq id="S4.SS4.SSS3.p2.1.m1.1.1.1.cmml" xref="S4.SS4.SSS3.p2.1.m1.1.1.1"></eq><apply id="S4.SS4.SSS3.p2.1.m1.1.1.2.cmml" xref="S4.SS4.SSS3.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.SSS3.p2.1.m1.1.1.2.1.cmml" xref="S4.SS4.SSS3.p2.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS4.SSS3.p2.1.m1.1.1.2.2.cmml" xref="S4.SS4.SSS3.p2.1.m1.1.1.2.2">𝐾</ci><ci id="S4.SS4.SSS3.p2.1.m1.1.1.2.3a.cmml" xref="S4.SS4.SSS3.p2.1.m1.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.SSS3.p2.1.m1.1.1.2.3.cmml" xref="S4.SS4.SSS3.p2.1.m1.1.1.2.3">test</mtext></ci></apply><cn type="integer" id="S4.SS4.SSS3.p2.1.m1.1.1.3.cmml" xref="S4.SS4.SSS3.p2.1.m1.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS3.p2.1.m1.1c">K_{\text{test}}=50</annotation></semantics></math> in RA-VQA, with little change in FSR. The increased HSR to FSR ratio (0.41 vs. 0.40) indicates that RA-VQA is using these additional retrieved documents to answer the questions that need outside knowledge.</p>
</div>
<div id="S4.SS4.SSS3.p3" class="ltx_para">
<p id="S4.SS4.SSS3.p3.1" class="ltx_p">HSR and FSR also explain the relatively weak performance of RAG*.
We see that although RAG* and RA-VQA-FrDPR have similar FSRs, RAG* has higher PRRecall but lower HSR (by -2.73%).
This suggests RAG*’s DPR model is not well matched to its answer generator. The result is that retrieved documents remain unexploited.
In manual examination of gradients of document scores in training, we find anecdotally that adjustments to document scores are often counter-intuitive:
documents that do not contain answers can still have their scores upvoted if
the answer generator happens to find a correct answer by relying only on the ability of T5 model.
This works against a model’s ability to find answers in retrieved documents even when those documents are relevant.</p>
</div>
</section>
<section id="S4.SS4.SSS4" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.4.4 </span>Effects of <math id="S4.SS4.SSS4.1.m1.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="S4.SS4.SSS4.1.m1.1b"><msub id="S4.SS4.SSS4.1.m1.1.1" xref="S4.SS4.SSS4.1.m1.1.1.cmml"><mi id="S4.SS4.SSS4.1.m1.1.1.2" xref="S4.SS4.SSS4.1.m1.1.1.2.cmml">K</mi><mtext id="S4.SS4.SSS4.1.m1.1.1.3" xref="S4.SS4.SSS4.1.m1.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.1.m1.1c"><apply id="S4.SS4.SSS4.1.m1.1.1.cmml" xref="S4.SS4.SSS4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.SSS4.1.m1.1.1.1.cmml" xref="S4.SS4.SSS4.1.m1.1.1">subscript</csymbol><ci id="S4.SS4.SSS4.1.m1.1.1.2.cmml" xref="S4.SS4.SSS4.1.m1.1.1.2">𝐾</ci><ci id="S4.SS4.SSS4.1.m1.1.1.3a.cmml" xref="S4.SS4.SSS4.1.m1.1.1.3"><mtext mathsize="70%" id="S4.SS4.SSS4.1.m1.1.1.3.cmml" xref="S4.SS4.SSS4.1.m1.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.1.m1.1d">K_{\text{train}}</annotation></semantics></math>
</h4>

<figure id="S4.F4" class="ltx_figure"><img src="/html/2210.03809/assets/x4.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_img_square" width="396" height="418" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>VQA Scores against <math id="S4.F4.5.m1.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="S4.F4.5.m1.1b"><msub id="S4.F4.5.m1.1.1" xref="S4.F4.5.m1.1.1.cmml"><mi id="S4.F4.5.m1.1.1.2" xref="S4.F4.5.m1.1.1.2.cmml">K</mi><mtext id="S4.F4.5.m1.1.1.3" xref="S4.F4.5.m1.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.F4.5.m1.1c"><apply id="S4.F4.5.m1.1.1.cmml" xref="S4.F4.5.m1.1.1"><csymbol cd="ambiguous" id="S4.F4.5.m1.1.1.1.cmml" xref="S4.F4.5.m1.1.1">subscript</csymbol><ci id="S4.F4.5.m1.1.1.2.cmml" xref="S4.F4.5.m1.1.1.2">𝐾</ci><ci id="S4.F4.5.m1.1.1.3a.cmml" xref="S4.F4.5.m1.1.1.3"><mtext mathsize="70%" id="S4.F4.5.m1.1.1.3.cmml" xref="S4.F4.5.m1.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.5.m1.1d">K_{\text{train}}</annotation></semantics></math>.
Dashed line: <math id="S4.F4.6.m2.1" class="ltx_Math" alttext="K_{\text{test}}=K_{\text{train}}" display="inline"><semantics id="S4.F4.6.m2.1b"><mrow id="S4.F4.6.m2.1.1" xref="S4.F4.6.m2.1.1.cmml"><msub id="S4.F4.6.m2.1.1.2" xref="S4.F4.6.m2.1.1.2.cmml"><mi id="S4.F4.6.m2.1.1.2.2" xref="S4.F4.6.m2.1.1.2.2.cmml">K</mi><mtext id="S4.F4.6.m2.1.1.2.3" xref="S4.F4.6.m2.1.1.2.3a.cmml">test</mtext></msub><mo id="S4.F4.6.m2.1.1.1" xref="S4.F4.6.m2.1.1.1.cmml">=</mo><msub id="S4.F4.6.m2.1.1.3" xref="S4.F4.6.m2.1.1.3.cmml"><mi id="S4.F4.6.m2.1.1.3.2" xref="S4.F4.6.m2.1.1.3.2.cmml">K</mi><mtext id="S4.F4.6.m2.1.1.3.3" xref="S4.F4.6.m2.1.1.3.3a.cmml">train</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.6.m2.1c"><apply id="S4.F4.6.m2.1.1.cmml" xref="S4.F4.6.m2.1.1"><eq id="S4.F4.6.m2.1.1.1.cmml" xref="S4.F4.6.m2.1.1.1"></eq><apply id="S4.F4.6.m2.1.1.2.cmml" xref="S4.F4.6.m2.1.1.2"><csymbol cd="ambiguous" id="S4.F4.6.m2.1.1.2.1.cmml" xref="S4.F4.6.m2.1.1.2">subscript</csymbol><ci id="S4.F4.6.m2.1.1.2.2.cmml" xref="S4.F4.6.m2.1.1.2.2">𝐾</ci><ci id="S4.F4.6.m2.1.1.2.3a.cmml" xref="S4.F4.6.m2.1.1.2.3"><mtext mathsize="70%" id="S4.F4.6.m2.1.1.2.3.cmml" xref="S4.F4.6.m2.1.1.2.3">test</mtext></ci></apply><apply id="S4.F4.6.m2.1.1.3.cmml" xref="S4.F4.6.m2.1.1.3"><csymbol cd="ambiguous" id="S4.F4.6.m2.1.1.3.1.cmml" xref="S4.F4.6.m2.1.1.3">subscript</csymbol><ci id="S4.F4.6.m2.1.1.3.2.cmml" xref="S4.F4.6.m2.1.1.3.2">𝐾</ci><ci id="S4.F4.6.m2.1.1.3.3a.cmml" xref="S4.F4.6.m2.1.1.3.3"><mtext mathsize="70%" id="S4.F4.6.m2.1.1.3.3.cmml" xref="S4.F4.6.m2.1.1.3.3">train</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.6.m2.1d">K_{\text{test}}=K_{\text{train}}</annotation></semantics></math>;
solid line: <math id="S4.F4.7.m3.1" class="ltx_Math" alttext="K_{\text{test}}=50" display="inline"><semantics id="S4.F4.7.m3.1b"><mrow id="S4.F4.7.m3.1.1" xref="S4.F4.7.m3.1.1.cmml"><msub id="S4.F4.7.m3.1.1.2" xref="S4.F4.7.m3.1.1.2.cmml"><mi id="S4.F4.7.m3.1.1.2.2" xref="S4.F4.7.m3.1.1.2.2.cmml">K</mi><mtext id="S4.F4.7.m3.1.1.2.3" xref="S4.F4.7.m3.1.1.2.3a.cmml">test</mtext></msub><mo id="S4.F4.7.m3.1.1.1" xref="S4.F4.7.m3.1.1.1.cmml">=</mo><mn id="S4.F4.7.m3.1.1.3" xref="S4.F4.7.m3.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.7.m3.1c"><apply id="S4.F4.7.m3.1.1.cmml" xref="S4.F4.7.m3.1.1"><eq id="S4.F4.7.m3.1.1.1.cmml" xref="S4.F4.7.m3.1.1.1"></eq><apply id="S4.F4.7.m3.1.1.2.cmml" xref="S4.F4.7.m3.1.1.2"><csymbol cd="ambiguous" id="S4.F4.7.m3.1.1.2.1.cmml" xref="S4.F4.7.m3.1.1.2">subscript</csymbol><ci id="S4.F4.7.m3.1.1.2.2.cmml" xref="S4.F4.7.m3.1.1.2.2">𝐾</ci><ci id="S4.F4.7.m3.1.1.2.3a.cmml" xref="S4.F4.7.m3.1.1.2.3"><mtext mathsize="70%" id="S4.F4.7.m3.1.1.2.3.cmml" xref="S4.F4.7.m3.1.1.2.3">test</mtext></ci></apply><cn type="integer" id="S4.F4.7.m3.1.1.3.cmml" xref="S4.F4.7.m3.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.7.m3.1d">K_{\text{test}}=50</annotation></semantics></math>.
Our proposed model achieves the best performance when additional documents are retrieved in test (<math id="S4.F4.8.m4.1" class="ltx_Math" alttext="K_{\text{test}}=50" display="inline"><semantics id="S4.F4.8.m4.1b"><mrow id="S4.F4.8.m4.1.1" xref="S4.F4.8.m4.1.1.cmml"><msub id="S4.F4.8.m4.1.1.2" xref="S4.F4.8.m4.1.1.2.cmml"><mi id="S4.F4.8.m4.1.1.2.2" xref="S4.F4.8.m4.1.1.2.2.cmml">K</mi><mtext id="S4.F4.8.m4.1.1.2.3" xref="S4.F4.8.m4.1.1.2.3a.cmml">test</mtext></msub><mo id="S4.F4.8.m4.1.1.1" xref="S4.F4.8.m4.1.1.1.cmml">=</mo><mn id="S4.F4.8.m4.1.1.3" xref="S4.F4.8.m4.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.8.m4.1c"><apply id="S4.F4.8.m4.1.1.cmml" xref="S4.F4.8.m4.1.1"><eq id="S4.F4.8.m4.1.1.1.cmml" xref="S4.F4.8.m4.1.1.1"></eq><apply id="S4.F4.8.m4.1.1.2.cmml" xref="S4.F4.8.m4.1.1.2"><csymbol cd="ambiguous" id="S4.F4.8.m4.1.1.2.1.cmml" xref="S4.F4.8.m4.1.1.2">subscript</csymbol><ci id="S4.F4.8.m4.1.1.2.2.cmml" xref="S4.F4.8.m4.1.1.2.2">𝐾</ci><ci id="S4.F4.8.m4.1.1.2.3a.cmml" xref="S4.F4.8.m4.1.1.2.3"><mtext mathsize="70%" id="S4.F4.8.m4.1.1.2.3.cmml" xref="S4.F4.8.m4.1.1.2.3">test</mtext></ci></apply><cn type="integer" id="S4.F4.8.m4.1.1.3.cmml" xref="S4.F4.8.m4.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.8.m4.1d">K_{\text{test}}=50</annotation></semantics></math>). This holds even for models trained to retrieve fewer documents.
</figcaption>
</figure>
<div id="S4.SS4.SSS4.p1" class="ltx_para">
<p id="S4.SS4.SSS4.p1.10" class="ltx_p">As noted, retrieving a large collection of documents in training is costly (large <math id="S4.SS4.SSS4.p1.1.m1.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="S4.SS4.SSS4.p1.1.m1.1a"><msub id="S4.SS4.SSS4.p1.1.m1.1.1" xref="S4.SS4.SSS4.p1.1.m1.1.1.cmml"><mi id="S4.SS4.SSS4.p1.1.m1.1.1.2" xref="S4.SS4.SSS4.p1.1.m1.1.1.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p1.1.m1.1.1.3" xref="S4.SS4.SSS4.p1.1.m1.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p1.1.m1.1b"><apply id="S4.SS4.SSS4.p1.1.m1.1.1.cmml" xref="S4.SS4.SSS4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p1.1.m1.1.1.1.cmml" xref="S4.SS4.SSS4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS4.SSS4.p1.1.m1.1.1.2.cmml" xref="S4.SS4.SSS4.p1.1.m1.1.1.2">𝐾</ci><ci id="S4.SS4.SSS4.p1.1.m1.1.1.3a.cmml" xref="S4.SS4.SSS4.p1.1.m1.1.1.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p1.1.m1.1.1.3.cmml" xref="S4.SS4.SSS4.p1.1.m1.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p1.1.m1.1c">K_{\text{train}}</annotation></semantics></math>).
Fig. <a href="#S4.F4" title='Figure 4 ‣ 4.4.4 Effects of 𝐾_"train" ‣ 4.4 RA-VQA Performance Analysis ‣ 4 Experiments ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge' class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows that RA-VQA can be trained with relatively few retrieved documents (<math id="S4.SS4.SSS4.p1.2.m2.1" class="ltx_Math" alttext="K_{\text{train}}=5" display="inline"><semantics id="S4.SS4.SSS4.p1.2.m2.1a"><mrow id="S4.SS4.SSS4.p1.2.m2.1.1" xref="S4.SS4.SSS4.p1.2.m2.1.1.cmml"><msub id="S4.SS4.SSS4.p1.2.m2.1.1.2" xref="S4.SS4.SSS4.p1.2.m2.1.1.2.cmml"><mi id="S4.SS4.SSS4.p1.2.m2.1.1.2.2" xref="S4.SS4.SSS4.p1.2.m2.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p1.2.m2.1.1.2.3" xref="S4.SS4.SSS4.p1.2.m2.1.1.2.3a.cmml">train</mtext></msub><mo id="S4.SS4.SSS4.p1.2.m2.1.1.1" xref="S4.SS4.SSS4.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS4.SSS4.p1.2.m2.1.1.3" xref="S4.SS4.SSS4.p1.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p1.2.m2.1b"><apply id="S4.SS4.SSS4.p1.2.m2.1.1.cmml" xref="S4.SS4.SSS4.p1.2.m2.1.1"><eq id="S4.SS4.SSS4.p1.2.m2.1.1.1.cmml" xref="S4.SS4.SSS4.p1.2.m2.1.1.1"></eq><apply id="S4.SS4.SSS4.p1.2.m2.1.1.2.cmml" xref="S4.SS4.SSS4.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p1.2.m2.1.1.2.1.cmml" xref="S4.SS4.SSS4.p1.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS4.SSS4.p1.2.m2.1.1.2.2.cmml" xref="S4.SS4.SSS4.p1.2.m2.1.1.2.2">𝐾</ci><ci id="S4.SS4.SSS4.p1.2.m2.1.1.2.3a.cmml" xref="S4.SS4.SSS4.p1.2.m2.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p1.2.m2.1.1.2.3.cmml" xref="S4.SS4.SSS4.p1.2.m2.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="S4.SS4.SSS4.p1.2.m2.1.1.3.cmml" xref="S4.SS4.SSS4.p1.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p1.2.m2.1c">K_{\text{train}}=5</annotation></semantics></math>).
We gradually increase <math id="S4.SS4.SSS4.p1.3.m3.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="S4.SS4.SSS4.p1.3.m3.1a"><msub id="S4.SS4.SSS4.p1.3.m3.1.1" xref="S4.SS4.SSS4.p1.3.m3.1.1.cmml"><mi id="S4.SS4.SSS4.p1.3.m3.1.1.2" xref="S4.SS4.SSS4.p1.3.m3.1.1.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p1.3.m3.1.1.3" xref="S4.SS4.SSS4.p1.3.m3.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p1.3.m3.1b"><apply id="S4.SS4.SSS4.p1.3.m3.1.1.cmml" xref="S4.SS4.SSS4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p1.3.m3.1.1.1.cmml" xref="S4.SS4.SSS4.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS4.SSS4.p1.3.m3.1.1.2.cmml" xref="S4.SS4.SSS4.p1.3.m3.1.1.2">𝐾</ci><ci id="S4.SS4.SSS4.p1.3.m3.1.1.3a.cmml" xref="S4.SS4.SSS4.p1.3.m3.1.1.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p1.3.m3.1.1.3.cmml" xref="S4.SS4.SSS4.p1.3.m3.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p1.3.m3.1c">K_{\text{train}}</annotation></semantics></math> while fixing <math id="S4.SS4.SSS4.p1.4.m4.1" class="ltx_Math" alttext="K_{\text{test}}=K_{\text{train}}" display="inline"><semantics id="S4.SS4.SSS4.p1.4.m4.1a"><mrow id="S4.SS4.SSS4.p1.4.m4.1.1" xref="S4.SS4.SSS4.p1.4.m4.1.1.cmml"><msub id="S4.SS4.SSS4.p1.4.m4.1.1.2" xref="S4.SS4.SSS4.p1.4.m4.1.1.2.cmml"><mi id="S4.SS4.SSS4.p1.4.m4.1.1.2.2" xref="S4.SS4.SSS4.p1.4.m4.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p1.4.m4.1.1.2.3" xref="S4.SS4.SSS4.p1.4.m4.1.1.2.3a.cmml">test</mtext></msub><mo id="S4.SS4.SSS4.p1.4.m4.1.1.1" xref="S4.SS4.SSS4.p1.4.m4.1.1.1.cmml">=</mo><msub id="S4.SS4.SSS4.p1.4.m4.1.1.3" xref="S4.SS4.SSS4.p1.4.m4.1.1.3.cmml"><mi id="S4.SS4.SSS4.p1.4.m4.1.1.3.2" xref="S4.SS4.SSS4.p1.4.m4.1.1.3.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p1.4.m4.1.1.3.3" xref="S4.SS4.SSS4.p1.4.m4.1.1.3.3a.cmml">train</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p1.4.m4.1b"><apply id="S4.SS4.SSS4.p1.4.m4.1.1.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1"><eq id="S4.SS4.SSS4.p1.4.m4.1.1.1.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1.1"></eq><apply id="S4.SS4.SSS4.p1.4.m4.1.1.2.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p1.4.m4.1.1.2.1.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1.2">subscript</csymbol><ci id="S4.SS4.SSS4.p1.4.m4.1.1.2.2.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1.2.2">𝐾</ci><ci id="S4.SS4.SSS4.p1.4.m4.1.1.2.3a.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p1.4.m4.1.1.2.3.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1.2.3">test</mtext></ci></apply><apply id="S4.SS4.SSS4.p1.4.m4.1.1.3.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p1.4.m4.1.1.3.1.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1.3">subscript</csymbol><ci id="S4.SS4.SSS4.p1.4.m4.1.1.3.2.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1.3.2">𝐾</ci><ci id="S4.SS4.SSS4.p1.4.m4.1.1.3.3a.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1.3.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p1.4.m4.1.1.3.3.cmml" xref="S4.SS4.SSS4.p1.4.m4.1.1.3.3">train</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p1.4.m4.1c">K_{\text{test}}=K_{\text{train}}</annotation></semantics></math> (dash lines) and <math id="S4.SS4.SSS4.p1.5.m5.1" class="ltx_Math" alttext="K_{\text{test}}=50" display="inline"><semantics id="S4.SS4.SSS4.p1.5.m5.1a"><mrow id="S4.SS4.SSS4.p1.5.m5.1.1" xref="S4.SS4.SSS4.p1.5.m5.1.1.cmml"><msub id="S4.SS4.SSS4.p1.5.m5.1.1.2" xref="S4.SS4.SSS4.p1.5.m5.1.1.2.cmml"><mi id="S4.SS4.SSS4.p1.5.m5.1.1.2.2" xref="S4.SS4.SSS4.p1.5.m5.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p1.5.m5.1.1.2.3" xref="S4.SS4.SSS4.p1.5.m5.1.1.2.3a.cmml">test</mtext></msub><mo id="S4.SS4.SSS4.p1.5.m5.1.1.1" xref="S4.SS4.SSS4.p1.5.m5.1.1.1.cmml">=</mo><mn id="S4.SS4.SSS4.p1.5.m5.1.1.3" xref="S4.SS4.SSS4.p1.5.m5.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p1.5.m5.1b"><apply id="S4.SS4.SSS4.p1.5.m5.1.1.cmml" xref="S4.SS4.SSS4.p1.5.m5.1.1"><eq id="S4.SS4.SSS4.p1.5.m5.1.1.1.cmml" xref="S4.SS4.SSS4.p1.5.m5.1.1.1"></eq><apply id="S4.SS4.SSS4.p1.5.m5.1.1.2.cmml" xref="S4.SS4.SSS4.p1.5.m5.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p1.5.m5.1.1.2.1.cmml" xref="S4.SS4.SSS4.p1.5.m5.1.1.2">subscript</csymbol><ci id="S4.SS4.SSS4.p1.5.m5.1.1.2.2.cmml" xref="S4.SS4.SSS4.p1.5.m5.1.1.2.2">𝐾</ci><ci id="S4.SS4.SSS4.p1.5.m5.1.1.2.3a.cmml" xref="S4.SS4.SSS4.p1.5.m5.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p1.5.m5.1.1.2.3.cmml" xref="S4.SS4.SSS4.p1.5.m5.1.1.2.3">test</mtext></ci></apply><cn type="integer" id="S4.SS4.SSS4.p1.5.m5.1.1.3.cmml" xref="S4.SS4.SSS4.p1.5.m5.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p1.5.m5.1c">K_{\text{test}}=50</annotation></semantics></math> (solid lines).
RA-VQA achieves consistent performance (<math id="S4.SS4.SSS4.p1.6.m6.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S4.SS4.SSS4.p1.6.m6.1a"><mo id="S4.SS4.SSS4.p1.6.m6.1.1" xref="S4.SS4.SSS4.p1.6.m6.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p1.6.m6.1b"><csymbol cd="latexml" id="S4.SS4.SSS4.p1.6.m6.1.1.cmml" xref="S4.SS4.SSS4.p1.6.m6.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p1.6.m6.1c">\sim</annotation></semantics></math>54.4 VQA Score) at <math id="S4.SS4.SSS4.p1.7.m7.1" class="ltx_Math" alttext="K_{\text{train}}\geq 5" display="inline"><semantics id="S4.SS4.SSS4.p1.7.m7.1a"><mrow id="S4.SS4.SSS4.p1.7.m7.1.1" xref="S4.SS4.SSS4.p1.7.m7.1.1.cmml"><msub id="S4.SS4.SSS4.p1.7.m7.1.1.2" xref="S4.SS4.SSS4.p1.7.m7.1.1.2.cmml"><mi id="S4.SS4.SSS4.p1.7.m7.1.1.2.2" xref="S4.SS4.SSS4.p1.7.m7.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p1.7.m7.1.1.2.3" xref="S4.SS4.SSS4.p1.7.m7.1.1.2.3a.cmml">train</mtext></msub><mo id="S4.SS4.SSS4.p1.7.m7.1.1.1" xref="S4.SS4.SSS4.p1.7.m7.1.1.1.cmml">≥</mo><mn id="S4.SS4.SSS4.p1.7.m7.1.1.3" xref="S4.SS4.SSS4.p1.7.m7.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p1.7.m7.1b"><apply id="S4.SS4.SSS4.p1.7.m7.1.1.cmml" xref="S4.SS4.SSS4.p1.7.m7.1.1"><geq id="S4.SS4.SSS4.p1.7.m7.1.1.1.cmml" xref="S4.SS4.SSS4.p1.7.m7.1.1.1"></geq><apply id="S4.SS4.SSS4.p1.7.m7.1.1.2.cmml" xref="S4.SS4.SSS4.p1.7.m7.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p1.7.m7.1.1.2.1.cmml" xref="S4.SS4.SSS4.p1.7.m7.1.1.2">subscript</csymbol><ci id="S4.SS4.SSS4.p1.7.m7.1.1.2.2.cmml" xref="S4.SS4.SSS4.p1.7.m7.1.1.2.2">𝐾</ci><ci id="S4.SS4.SSS4.p1.7.m7.1.1.2.3a.cmml" xref="S4.SS4.SSS4.p1.7.m7.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p1.7.m7.1.1.2.3.cmml" xref="S4.SS4.SSS4.p1.7.m7.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="S4.SS4.SSS4.p1.7.m7.1.1.3.cmml" xref="S4.SS4.SSS4.p1.7.m7.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p1.7.m7.1c">K_{\text{train}}\geq 5</annotation></semantics></math> and <math id="S4.SS4.SSS4.p1.8.m8.1" class="ltx_Math" alttext="K_{\text{test}}=50" display="inline"><semantics id="S4.SS4.SSS4.p1.8.m8.1a"><mrow id="S4.SS4.SSS4.p1.8.m8.1.1" xref="S4.SS4.SSS4.p1.8.m8.1.1.cmml"><msub id="S4.SS4.SSS4.p1.8.m8.1.1.2" xref="S4.SS4.SSS4.p1.8.m8.1.1.2.cmml"><mi id="S4.SS4.SSS4.p1.8.m8.1.1.2.2" xref="S4.SS4.SSS4.p1.8.m8.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p1.8.m8.1.1.2.3" xref="S4.SS4.SSS4.p1.8.m8.1.1.2.3a.cmml">test</mtext></msub><mo id="S4.SS4.SSS4.p1.8.m8.1.1.1" xref="S4.SS4.SSS4.p1.8.m8.1.1.1.cmml">=</mo><mn id="S4.SS4.SSS4.p1.8.m8.1.1.3" xref="S4.SS4.SSS4.p1.8.m8.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p1.8.m8.1b"><apply id="S4.SS4.SSS4.p1.8.m8.1.1.cmml" xref="S4.SS4.SSS4.p1.8.m8.1.1"><eq id="S4.SS4.SSS4.p1.8.m8.1.1.1.cmml" xref="S4.SS4.SSS4.p1.8.m8.1.1.1"></eq><apply id="S4.SS4.SSS4.p1.8.m8.1.1.2.cmml" xref="S4.SS4.SSS4.p1.8.m8.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p1.8.m8.1.1.2.1.cmml" xref="S4.SS4.SSS4.p1.8.m8.1.1.2">subscript</csymbol><ci id="S4.SS4.SSS4.p1.8.m8.1.1.2.2.cmml" xref="S4.SS4.SSS4.p1.8.m8.1.1.2.2">𝐾</ci><ci id="S4.SS4.SSS4.p1.8.m8.1.1.2.3a.cmml" xref="S4.SS4.SSS4.p1.8.m8.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p1.8.m8.1.1.2.3.cmml" xref="S4.SS4.SSS4.p1.8.m8.1.1.2.3">test</mtext></ci></apply><cn type="integer" id="S4.SS4.SSS4.p1.8.m8.1.1.3.cmml" xref="S4.SS4.SSS4.p1.8.m8.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p1.8.m8.1c">K_{\text{test}}=50</annotation></semantics></math>, which suggests that our joint training scheme is able to gather most useful knowledge into a top-<math id="S4.SS4.SSS4.p1.9.m9.1" class="ltx_Math" alttext="50" display="inline"><semantics id="S4.SS4.SSS4.p1.9.m9.1a"><mn id="S4.SS4.SSS4.p1.9.m9.1.1" xref="S4.SS4.SSS4.p1.9.m9.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p1.9.m9.1b"><cn type="integer" id="S4.SS4.SSS4.p1.9.m9.1.1.cmml" xref="S4.SS4.SSS4.p1.9.m9.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p1.9.m9.1c">50</annotation></semantics></math> list even when the model is trained to retrieve fewer documents.
This is not the case for the frozen DPR systems which require increasing <math id="S4.SS4.SSS4.p1.10.m10.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="S4.SS4.SSS4.p1.10.m10.1a"><msub id="S4.SS4.SSS4.p1.10.m10.1.1" xref="S4.SS4.SSS4.p1.10.m10.1.1.cmml"><mi id="S4.SS4.SSS4.p1.10.m10.1.1.2" xref="S4.SS4.SSS4.p1.10.m10.1.1.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p1.10.m10.1.1.3" xref="S4.SS4.SSS4.p1.10.m10.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p1.10.m10.1b"><apply id="S4.SS4.SSS4.p1.10.m10.1.1.cmml" xref="S4.SS4.SSS4.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p1.10.m10.1.1.1.cmml" xref="S4.SS4.SSS4.p1.10.m10.1.1">subscript</csymbol><ci id="S4.SS4.SSS4.p1.10.m10.1.1.2.cmml" xref="S4.SS4.SSS4.p1.10.m10.1.1.2">𝐾</ci><ci id="S4.SS4.SSS4.p1.10.m10.1.1.3a.cmml" xref="S4.SS4.SSS4.p1.10.m10.1.1.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p1.10.m10.1.1.3.cmml" xref="S4.SS4.SSS4.p1.10.m10.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p1.10.m10.1c">K_{\text{train}}</annotation></semantics></math> to obtain best performance.
RA-VQA’s superior performance shows that joint training of retrieval and generation yields clear benefits in computation and answer quality.</p>
</div>
<div id="S4.SS4.SSS4.p2" class="ltx_para">
<p id="S4.SS4.SSS4.p2.3" class="ltx_p">We also note that <math id="S4.SS4.SSS4.p2.1.m1.1" class="ltx_Math" alttext="K_{\text{train}}=5" display="inline"><semantics id="S4.SS4.SSS4.p2.1.m1.1a"><mrow id="S4.SS4.SSS4.p2.1.m1.1.1" xref="S4.SS4.SSS4.p2.1.m1.1.1.cmml"><msub id="S4.SS4.SSS4.p2.1.m1.1.1.2" xref="S4.SS4.SSS4.p2.1.m1.1.1.2.cmml"><mi id="S4.SS4.SSS4.p2.1.m1.1.1.2.2" xref="S4.SS4.SSS4.p2.1.m1.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p2.1.m1.1.1.2.3" xref="S4.SS4.SSS4.p2.1.m1.1.1.2.3a.cmml">train</mtext></msub><mo id="S4.SS4.SSS4.p2.1.m1.1.1.1" xref="S4.SS4.SSS4.p2.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS4.SSS4.p2.1.m1.1.1.3" xref="S4.SS4.SSS4.p2.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p2.1.m1.1b"><apply id="S4.SS4.SSS4.p2.1.m1.1.1.cmml" xref="S4.SS4.SSS4.p2.1.m1.1.1"><eq id="S4.SS4.SSS4.p2.1.m1.1.1.1.cmml" xref="S4.SS4.SSS4.p2.1.m1.1.1.1"></eq><apply id="S4.SS4.SSS4.p2.1.m1.1.1.2.cmml" xref="S4.SS4.SSS4.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p2.1.m1.1.1.2.1.cmml" xref="S4.SS4.SSS4.p2.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS4.SSS4.p2.1.m1.1.1.2.2.cmml" xref="S4.SS4.SSS4.p2.1.m1.1.1.2.2">𝐾</ci><ci id="S4.SS4.SSS4.p2.1.m1.1.1.2.3a.cmml" xref="S4.SS4.SSS4.p2.1.m1.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p2.1.m1.1.1.2.3.cmml" xref="S4.SS4.SSS4.p2.1.m1.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="S4.SS4.SSS4.p2.1.m1.1.1.3.cmml" xref="S4.SS4.SSS4.p2.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p2.1.m1.1c">K_{\text{train}}=5</annotation></semantics></math> is an optimal design choice that strikes a balance between training computational cost and system performance.
The green curves at <math id="S4.SS4.SSS4.p2.2.m2.1" class="ltx_Math" alttext="K_{\text{train}}&lt;5" display="inline"><semantics id="S4.SS4.SSS4.p2.2.m2.1a"><mrow id="S4.SS4.SSS4.p2.2.m2.1.1" xref="S4.SS4.SSS4.p2.2.m2.1.1.cmml"><msub id="S4.SS4.SSS4.p2.2.m2.1.1.2" xref="S4.SS4.SSS4.p2.2.m2.1.1.2.cmml"><mi id="S4.SS4.SSS4.p2.2.m2.1.1.2.2" xref="S4.SS4.SSS4.p2.2.m2.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p2.2.m2.1.1.2.3" xref="S4.SS4.SSS4.p2.2.m2.1.1.2.3a.cmml">train</mtext></msub><mo id="S4.SS4.SSS4.p2.2.m2.1.1.1" xref="S4.SS4.SSS4.p2.2.m2.1.1.1.cmml">&lt;</mo><mn id="S4.SS4.SSS4.p2.2.m2.1.1.3" xref="S4.SS4.SSS4.p2.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p2.2.m2.1b"><apply id="S4.SS4.SSS4.p2.2.m2.1.1.cmml" xref="S4.SS4.SSS4.p2.2.m2.1.1"><lt id="S4.SS4.SSS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.SSS4.p2.2.m2.1.1.1"></lt><apply id="S4.SS4.SSS4.p2.2.m2.1.1.2.cmml" xref="S4.SS4.SSS4.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p2.2.m2.1.1.2.1.cmml" xref="S4.SS4.SSS4.p2.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS4.SSS4.p2.2.m2.1.1.2.2.cmml" xref="S4.SS4.SSS4.p2.2.m2.1.1.2.2">𝐾</ci><ci id="S4.SS4.SSS4.p2.2.m2.1.1.2.3a.cmml" xref="S4.SS4.SSS4.p2.2.m2.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p2.2.m2.1.1.2.3.cmml" xref="S4.SS4.SSS4.p2.2.m2.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="S4.SS4.SSS4.p2.2.m2.1.1.3.cmml" xref="S4.SS4.SSS4.p2.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p2.2.m2.1c">K_{\text{train}}&lt;5</annotation></semantics></math> also suggest that it is beneficial to include at least 5 documents in training.
This is because <math id="S4.SS4.SSS4.p2.3.m3.1" class="ltx_Math" alttext="K_{\text{train}}\geq 5" display="inline"><semantics id="S4.SS4.SSS4.p2.3.m3.1a"><mrow id="S4.SS4.SSS4.p2.3.m3.1.1" xref="S4.SS4.SSS4.p2.3.m3.1.1.cmml"><msub id="S4.SS4.SSS4.p2.3.m3.1.1.2" xref="S4.SS4.SSS4.p2.3.m3.1.1.2.cmml"><mi id="S4.SS4.SSS4.p2.3.m3.1.1.2.2" xref="S4.SS4.SSS4.p2.3.m3.1.1.2.2.cmml">K</mi><mtext id="S4.SS4.SSS4.p2.3.m3.1.1.2.3" xref="S4.SS4.SSS4.p2.3.m3.1.1.2.3a.cmml">train</mtext></msub><mo id="S4.SS4.SSS4.p2.3.m3.1.1.1" xref="S4.SS4.SSS4.p2.3.m3.1.1.1.cmml">≥</mo><mn id="S4.SS4.SSS4.p2.3.m3.1.1.3" xref="S4.SS4.SSS4.p2.3.m3.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS4.p2.3.m3.1b"><apply id="S4.SS4.SSS4.p2.3.m3.1.1.cmml" xref="S4.SS4.SSS4.p2.3.m3.1.1"><geq id="S4.SS4.SSS4.p2.3.m3.1.1.1.cmml" xref="S4.SS4.SSS4.p2.3.m3.1.1.1"></geq><apply id="S4.SS4.SSS4.p2.3.m3.1.1.2.cmml" xref="S4.SS4.SSS4.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.SSS4.p2.3.m3.1.1.2.1.cmml" xref="S4.SS4.SSS4.p2.3.m3.1.1.2">subscript</csymbol><ci id="S4.SS4.SSS4.p2.3.m3.1.1.2.2.cmml" xref="S4.SS4.SSS4.p2.3.m3.1.1.2.2">𝐾</ci><ci id="S4.SS4.SSS4.p2.3.m3.1.1.2.3a.cmml" xref="S4.SS4.SSS4.p2.3.m3.1.1.2.3"><mtext mathsize="70%" id="S4.SS4.SSS4.p2.3.m3.1.1.2.3.cmml" xref="S4.SS4.SSS4.p2.3.m3.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="S4.SS4.SSS4.p2.3.m3.1.1.3.cmml" xref="S4.SS4.SSS4.p2.3.m3.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS4.p2.3.m3.1c">K_{\text{train}}\geq 5</annotation></semantics></math> offers a good PRRecall (over 80%), which provides documents of higher quality for training the system.</p>
</div>
</section>
</section>
<section id="S4.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5 </span>Additional Analyses</h3>

<div id="S4.SS5.p1" class="ltx_para">
<p id="S4.SS5.p1.1" class="ltx_p">We redirect readers to other interesting analyses (e.g. an analysis of computational cost) and case studies in Appendices <a href="#A2" title="Appendix B Supplementary Tables and Figures ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>-<a href="#A5" title="Appendix E Case Study ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">E</span></a>.</p>
</div>
<div id="S4.SS5.p2" class="ltx_para">
<p id="S4.SS5.p2.1" class="ltx_p">In addition, in Appendix <a href="#A6" title="Appendix F Generalizing RAVQA to Other Datasets ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">F</span></a>, we evaluate our proposed framework on another popular Knowledge-based VQA dataset, FVQA (Fact-based VQA) <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib41" title="" class="ltx_ref">2017</a>)</cite>.
Similarly, the RA-VQA framework with joint training achieves better results over the baseline systems with a frozen DPR component, showing the generalizability of our proposed framework.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">Retrieval-Augmented Visual Question Answering is a novel modelling framework for integrated training of DPR and answer generation.
We have evaluated RA-VQA on the OK-VQA task and we find significantly better performance than the independent training of component system.
Through diagnostic metrics such as HSR and FSR we analysed the interaction between retrieval and generation, and have also shown how RA-VQA’s gains arise relative to
other approaches, such as RAG.
As a further practical benefit, we found that RA-VQA can be used with larger numbers of retrieved documents than were used in system training, yielding computational savings without sacrificing performance.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p">The code for this paper will be released at <a target="_blank" href="https://github.com/LinWeizheDragon/Retrieval-Augmented-Visual-Question-Answering" title="" class="ltx_ref ltx_href">https://github.com/LinWeizheDragon/Retrieval-Augmented-Visual-Question-Answering</a>.</p>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Acknowledgement</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">W. Lin was supported by a Research Studentship funded by Toyota Motor Europe (RG92562(24020)). We thank our colleagues, Daniel Olmeda Reino (Toyota Motor Europe) and Jonas Ambeck (Toyota Motor Europe), who provided insight and expertise in this project.</p>
</div>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.1" class="ltx_p">We thank Zhilin Wang (University of Washington) and Alexandru Coca (University of Cambridge) for comments that greatly improved the manuscript.
We would also like to thank all the reviewers for their knowledgeable reviews.</p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Limitations</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">One possible limitation is that some relevant information (such as relative positioning of objects in the image) could be lost in transforming images independently of the information being sought. Extracting visual features based on queries could be a natural next step, although query-specific processing of the image collection would be computationally expensive.</p>
</div>
<div id="S7.p2" class="ltx_para">
<p id="S7.p2.1" class="ltx_p">We selected the Google Search corpus  <cite class="ltx_cite ltx_citemacro_cite">Luo et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite> as the knowledge base for our question answering system. Its advantages are that it is large, openly available, and can be readily used to replicate the results in this paper.
However some visual question types (e.g. ‘Is the athlete right or left handed?’) could plausibly require both complex reasoning and more closely relevant documents from additional knowledge sources (such as Wikipedia).
Our system may be limited with respect to these considerations.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Antol et al. (2015)</span>
<span class="ltx_bibblock">
Stanislaw Antol, Aishwarya Agrawal, Jiasen Lu, Margaret Mitchell, Dhruv Batra,
C Lawrence Zitnick, and Devi Parikh. 2015.

</span>
<span class="ltx_bibblock">Vqa: Visual question answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE international conference on computer
vision</em>, pages 2425–2433.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Auer et al. (2007)</span>
<span class="ltx_bibblock">
Sören Auer, Christian Bizer, Georgi Kobilarov, Jens Lehmann, Richard
Cyganiak, and Zachary Ives. 2007.

</span>
<span class="ltx_bibblock">Dbpedia: A nucleus for a web of open data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">The semantic web</em>, pages 722–735. Springer.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2017)</span>
<span class="ltx_bibblock">
Danqi Chen, Adam Fisch, Jason Weston, and Antoine Bordes. 2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/P17-1171" title="" class="ltx_ref ltx_href">Reading Wikipedia to
answer open-domain questions</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 55th Annual Meeting of the Association
for Computational Linguistics (Volume 1: Long Papers)</em>, pages 1870–1879,
Vancouver, Canada. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2020)</span>
<span class="ltx_bibblock">
Yen-Chun Chen, Linjie Li, Licheng Yu, Ahmed El Kholy, Faisal Ahmed, Zhe Gan,
Yu Cheng, and Jingjing Liu. 2020.

</span>
<span class="ltx_bibblock">Uniter: Universal image-text representation learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">European conference on computer vision</em>, pages 104–120.
Springer.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devlin et al. (2019)</span>
<span class="ltx_bibblock">
Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova. 2019.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/N19-1423" title="" class="ltx_ref ltx_href">BERT: Pre-training of
deep bidirectional transformers for language understanding</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2019 Conference of the North American
Chapter of the Association for Computational Linguistics</em>. ACL.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Feng et al. (2020)</span>
<span class="ltx_bibblock">
Yanlin Feng, Xinyue Chen, Bill Yuchen Lin, Peifeng Wang, Jun Yan, and Xiang
Ren. 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/2020.emnlp-main.99" title="" class="ltx_ref ltx_href">Scalable
multi-hop relational reasoning for knowledge-aware question answering</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2020 Conference on Empirical Methods in
Natural Language Processing (EMNLP)</em>, pages 1295–1309, Online. Association
for Computational Linguistics.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gan et al. (2020)</span>
<span class="ltx_bibblock">
Zhe Gan, Yen-Chun Chen, Linjie Li, Chen Zhu, Yu Cheng, and Jingjing Liu. 2020.

</span>
<span class="ltx_bibblock">Large-scale adversarial training for vision-and-language
representation learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
33:6616–6628.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2022)</span>
<span class="ltx_bibblock">
Feng Gao, Qing Ping, Govind Thattai, Aishwarya Reganti, Ying Nian Wu, and Prem
Natarajan. 2022.

</span>
<span class="ltx_bibblock">Transform-retrieve-generate: Natural language-centric
outside-knowledge visual question answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, pages 5067–5077.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Garderes et al. (2020)</span>
<span class="ltx_bibblock">
François Garderes, Maryam Ziaeefard, Baptiste Abeloos, and Freddy Lecue.
2020.

</span>
<span class="ltx_bibblock">Conceptbert: Concept-aware representation for visual question
answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2020 Conference on Empirical Methods in
Natural Language Processing: Findings</em>, pages 489–498.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gui et al. (2021)</span>
<span class="ltx_bibblock">
Liangke Gui, Borui Wang, Qiuyuan Huang, Alex Hauptmann, Yonatan Bisk, and
Jianfeng Gao. 2021.

</span>
<span class="ltx_bibblock">Kat: A knowledge augmented transformer for vision-and-language.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2112.08614</em>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al. (2021)</span>
<span class="ltx_bibblock">
Dalu Guo, Chang Xu, and Dacheng Tao. 2021.

</span>
<span class="ltx_bibblock">Bilinear graph networks for visual question answering.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Neural Networks and Learning Systems</em>.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guu et al. (2020)</span>
<span class="ltx_bibblock">
Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Ming-Wei Chang. 2020.

</span>
<span class="ltx_bibblock">Realm: Retrieval-augmented language model pre-training.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 37th International Conference on Machine
Learning</em>, ICML’20. JMLR.org.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard and Grave (2021)</span>
<span class="ltx_bibblock">
Gautier Izacard and Edouard Grave. 2021.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/2021.eacl-main.74" title="" class="ltx_ref ltx_href">Leveraging
passage retrieval with generative models for open domain question answering</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 16th Conference of the European Chapter
of the Association for Computational Linguistics: Main Volume</em>, pages
874–880, Online. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jia et al. (2021)</span>
<span class="ltx_bibblock">
Chao Jia, Yinfei Yang, Ye Xia, Yi-Ting Chen, Zarana Parekh, Hieu Pham, Quoc Le,
Yun-Hsuan Sung, Zhen Li, and Tom Duerig. 2021.

</span>
<span class="ltx_bibblock">Scaling up visual and vision-language representation learning with
noisy text supervision.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, pages
4904–4916. PMLR.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2020)</span>
<span class="ltx_bibblock">
Huaizu Jiang, Ishan Misra, Marcus Rohrbach, Erik Learned-Miller, and Xinlei
Chen. 2020.

</span>
<span class="ltx_bibblock">In defense of grid features for visual question answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, pages 10267–10276.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Johnson et al. (2019)</span>
<span class="ltx_bibblock">
Jeff Johnson, Matthijs Douze, and Hervé Jégou. 2019.

</span>
<span class="ltx_bibblock">Billion-scale similarity search with GPUs.

</span>
<span class="ltx_bibblock"><em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Big Data</em>, 7(3):535–547.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al. (2020)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oguz, Sewon Min, Patrick Lewis, Ledell Wu, Sergey
Edunov, Danqi Chen, and Wen-tau Yih. 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/2020.emnlp-main.550" title="" class="ltx_ref ltx_href">Dense
passage retrieval for open-domain question answering</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2020 Conference on Empirical Methods in
Natural Language Processing (EMNLP)</em>, pages 6769–6781, Online. Association
for Computational Linguistics.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kingma and Ba (2015)</span>
<span class="ltx_bibblock">
Diederik P. Kingma and Jimmy Ba. 2015.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/1412.6980" title="" class="ltx_ref ltx_href">Adam: A method for
stochastic optimization</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">3rd International Conference on Learning Representations,
ICLR 2015, San Diego, CA, USA, May 7-9, 2015, Conference Track
Proceedings</em>.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kwiatkowski et al. (2019)</span>
<span class="ltx_bibblock">
Tom Kwiatkowski, Jennimaria Palomaki, Olivia Redfield, Michael Collins, Ankur
Parikh, Chris Alberti, Danielle Epstein, Illia Polosukhin, Jacob Devlin,
Kenton Lee, et al. 2019.

</span>
<span class="ltx_bibblock">Natural questions: a benchmark for question answering research.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">Transactions of the Association for Computational Linguistics</em>,
7:453–466.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lee et al. (2019)</span>
<span class="ltx_bibblock">
Kenton Lee, Ming-Wei Chang, and Kristina Toutanova. 2019.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/P19-1612" title="" class="ltx_ref ltx_href">Latent retrieval for
weakly supervised open domain question answering</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 57th Annual Meeting of the Association
for Computational Linguistics</em>, pages 6086–6096, Florence, Italy.
Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir
Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim
Rocktäschel, et al. 2020.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
33:9459–9474.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020a)</span>
<span class="ltx_bibblock">
Guohao Li, Xin Wang, and Wenwu Zhu. 2020a.

</span>
<span class="ltx_bibblock">Boosting visual question answering with context-aware knowledge
aggregation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 28th ACM International Conference on
Multimedia</em>, pages 1227–1235.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2021)</span>
<span class="ltx_bibblock">
Wei Li, Can Gao, Guocheng Niu, Xinyan Xiao, Hao Liu, Jiachen Liu, Hua Wu, and
Haifeng Wang. 2021.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/2021.acl-long.202" title="" class="ltx_ref ltx_href">UNIMO:
Towards unified-modal understanding and generation via cross-modal
contrastive learning</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 59th Annual Meeting of the Association
for Computational Linguistics and the 11th International Joint Conference on
Natural Language Processing (Volume 1: Long Papers)</em>, pages 2592–2607,
Online. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020b)</span>
<span class="ltx_bibblock">
Xiujun Li, Xi Yin, Chunyuan Li, Pengchuan Zhang, Xiaowei Hu, Lei Zhang, Lijuan
Wang, Houdong Hu, Li Dong, Furu Wei, et al. 2020b.

</span>
<span class="ltx_bibblock">Oscar: Object-semantics aligned pre-training for vision-language
tasks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">European Conference on Computer Vision</em>, pages 121–137.
Springer.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2019)</span>
<span class="ltx_bibblock">
Bill Yuchen Lin, Xinyue Chen, Jamin Chen, and Xiang Ren. 2019.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/D19-1282" title="" class="ltx_ref ltx_href">KagNet:
Knowledge-aware graph networks for commonsense reasoning</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2019 Conference on Empirical Methods in
Natural Language Processing and the 9th International Joint Conference on
Natural Language Processing (EMNLP-IJCNLP)</em>, pages 2829–2839, Hong Kong,
China. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. (2021)</span>
<span class="ltx_bibblock">
Man Luo, Yankai Zeng, Pratyay Banerjee, and Chitta Baral. 2021.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://aclanthology.org/2021.emnlp-main.517" title="" class="ltx_ref ltx_href">Weakly-supervised visual-retriever-reader for knowledge-based question
answering</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2021 Conference on Empirical Methods in
Natural Language Processing</em>, pages 6417–6431, Online and Punta Cana,
Dominican Republic. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lv et al. (2020)</span>
<span class="ltx_bibblock">
Shangwen Lv, Daya Guo, Jingjing Xu, Duyu Tang, Nan Duan, Ming Gong, Linjun
Shou, Daxin Jiang, Guihong Cao, and Songlin Hu. 2020.

</span>
<span class="ltx_bibblock">Graph-based reasoning over heterogeneous external knowledge for
commonsense question answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">Proceedings of the AAAI Conference on Artificial
Intelligence</em>, volume 34, pages 8449–8456.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Marino et al. (2021)</span>
<span class="ltx_bibblock">
Kenneth Marino, Xinlei Chen, Devi Parikh, Abhinav Gupta, and Marcus Rohrbach.
2021.

</span>
<span class="ltx_bibblock">Krisp: Integrating implicit and symbolic knowledge for open-domain
knowledge-based vqa.

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, pages 14111–14121.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Marino et al. (2019)</span>
<span class="ltx_bibblock">
Kenneth Marino, Mohammad Rastegari, Ali Farhadi, and Roozbeh Mottaghi. 2019.

</span>
<span class="ltx_bibblock">Ok-vqa: A visual question answering benchmark requiring external
knowledge.

</span>
<span class="ltx_bibblock">In <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, pages 3195–3204.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Narasimhan et al. (2018a)</span>
<span class="ltx_bibblock">
Medhini Narasimhan, Svetlana Lazebnik, and Alexander Schwing.
2018a.

</span>
<span class="ltx_bibblock">Out of the box: Reasoning with graph convolution nets for factual
visual question answering.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, 31.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Narasimhan et al. (2018b)</span>
<span class="ltx_bibblock">
Medhini Narasimhan, Svetlana Lazebnik, and Alexander Schwing.
2018b.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://proceedings.neurips.cc/paper/2018/file/c26820b8a4c1b3c2aa868d6d57e14a79-Paper.pdf" title="" class="ltx_ref ltx_href">Out of the box: Reasoning with graph convolution nets for factual visual
question answering</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
volume 31. Curran Associates, Inc.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qu et al. (2021)</span>
<span class="ltx_bibblock">
Chen Qu, Hamed Zamani, Liu Yang, W Bruce Croft, and Erik Learned-Miller. 2021.

</span>
<span class="ltx_bibblock">Passage retrieval for outside-knowledge visual question answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 44th International ACM SIGIR Conference
on Research and Development in Information Retrieval</em>, pages 1753–1757.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2019)</span>
<span class="ltx_bibblock">
Alec Radford, Jeffrey Wu, Rewon Child, David Luan, Dario Amodei, Ilya
Sutskever, et al. 2019.

</span>
<span class="ltx_bibblock">Language models are unsupervised multitask learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">OpenAI blog</em>, 1(8):9.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Raffel et al. (2020)</span>
<span class="ltx_bibblock">
Colin Raffel, Noam Shazeer, Adam Roberts, Katherine Lee, Sharan Narang, Michael
Matena, Yanqi Zhou, Wei Li, and Peter J. Liu. 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://jmlr.org/papers/v21/20-074.html" title="" class="ltx_ref ltx_href">Exploring the limits
of transfer learning with a unified text-to-text transformer</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">Journal of Machine Learning Research</em>, 21(140):1–67.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Roberts et al. (2020)</span>
<span class="ltx_bibblock">
Adam Roberts, Colin Raffel, and Noam Shazeer. 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/2020.emnlp-main.437" title="" class="ltx_ref ltx_href">How much
knowledge can you pack into the parameters of a language model?</a>

</span>
<span class="ltx_bibblock">In <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2020 Conference on Empirical Methods in
Natural Language Processing (EMNLP)</em>, pages 5418–5426, Online. Association
for Computational Linguistics.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saffari et al. (2021)</span>
<span class="ltx_bibblock">
Amir Saffari, Armin Oliya, Priyanka Sen, and Tom Ayoola. 2021.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/2021.emnlp-main.345" title="" class="ltx_ref ltx_href">End-to-end
entity resolution and question answering using differentiable knowledge
graphs</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2021 Conference on Empirical Methods in
Natural Language Processing</em>, pages 4193–4200, Online and Punta Cana,
Dominican Republic. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Singh et al. (2019)</span>
<span class="ltx_bibblock">
Amanpreet Singh, Vivek Natarajan, Meet Shah, Yu Jiang, Xinlei Chen, Dhruv
Batra, Devi Parikh, and Marcus Rohrbach. 2019.

</span>
<span class="ltx_bibblock">Towards vqa models that can read.

</span>
<span class="ltx_bibblock">In <em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, pages 8317–8326.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Speer et al. (2017)</span>
<span class="ltx_bibblock">
Robyn Speer, Joshua Chin, and Catherine Havasi. 2017.

</span>
<span class="ltx_bibblock">Conceptnet 5.5: An open multilingual graph of general knowledge.

</span>
<span class="ltx_bibblock">In <em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">Thirty-first AAAI conference on artificial intelligence</em>.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tan and Bansal (2019)</span>
<span class="ltx_bibblock">
Hao Tan and Mohit Bansal. 2019.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/D19-1514" title="" class="ltx_ref ltx_href">LXMERT: Learning
cross-modality encoder representations from transformers</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2019 Conference on Empirical Methods in
Natural Language Processing and the 9th International Joint Conference on
Natural Language Processing (EMNLP-IJCNLP)</em>, pages 5100–5111, Hong Kong,
China. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tandon et al. (2017)</span>
<span class="ltx_bibblock">
Niket Tandon, Gerard De Melo, and Gerhard Weikum. 2017.

</span>
<span class="ltx_bibblock">Webchild 2.0: Fine-grained commonsense knowledge distillation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">Proceedings of ACL 2017, System Demonstrations</em>, pages
115–120.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2017)</span>
<span class="ltx_bibblock">
Peng Wang, Qi Wu, Chunhua Shen, Anthony Dick, and Anton Van Den Hengel. 2017.

</span>
<span class="ltx_bibblock">Fvqa: Fact-based visual question answering.

</span>
<span class="ltx_bibblock"><em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">IEEE transactions on pattern analysis and machine
intelligence</em>, 40(10):2413–2427.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2022)</span>
<span class="ltx_bibblock">
Zirui Wang, Jiahui Yu, Adams Wei Yu, Zihang Dai, Yulia Tsvetkov, and Yuan Cao.
2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://openreview.net/forum?id=GUrhfTuf_3" title="" class="ltx_ref ltx_href">SimVLM: Simple
visual language model pretraining with weak supervision</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wolf et al. (2020)</span>
<span class="ltx_bibblock">
Thomas Wolf, Lysandre Debut, Victor Sanh, Julien Chaumond, Clement Delangue,
Anthony Moi, Pierric Cistac, Tim Rault, Rémi Louf, Morgan Funtowicz, Joe
Davison, Sam Shleifer, Patrick von Platen, Clara Ma, Yacine Jernite, Julien
Plu, Canwen Xu, Teven Le Scao, Sylvain Gugger, Mariama Drame, Quentin Lhoest,
and Alexander M. Rush. 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.aclweb.org/anthology/2020.emnlp-demos.6" title="" class="ltx_ref ltx_href">Transformers: State-of-the-art natural language processing</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2020 Conference on Empirical Methods in
Natural Language Processing: System Demonstrations</em>, pages 38–45, Online.
Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2022)</span>
<span class="ltx_bibblock">
Jialin Wu, Jiasen Lu, Ashish Sabharwal, and Roozbeh Mottaghi. 2022.

</span>
<span class="ltx_bibblock">Multi-modal answer validation for knowledge-based vqa.

</span>
<span class="ltx_bibblock">In <em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">Proceedings of the AAAI Conference on Artificial
Intelligence</em>, volume 36, pages 2712–2721.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2022)</span>
<span class="ltx_bibblock">
Zhengyuan Yang, Zhe Gan, Jianfeng Wang, Xiaowei Hu, Yumao Lu, Zicheng Liu, and
Lijuan Wang. 2022.

</span>
<span class="ltx_bibblock">An empirical study of gpt-3 for few-shot knowledge-based vqa.

</span>
<span class="ltx_bibblock">In <em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">Proceedings of the AAAI Conference on Artificial
Intelligence</em>, volume 36, pages 3081–3089.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2019)</span>
<span class="ltx_bibblock">
Zhou Yu, Jun Yu, Yuhao Cui, Dacheng Tao, and Qi Tian. 2019.

</span>
<span class="ltx_bibblock">Deep modular co-attention networks for visual question answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib46.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF conference on computer vision
and pattern recognition</em>, pages 6281–6290.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2018)</span>
<span class="ltx_bibblock">
Zhou Yu, Jun Yu, Chenchao Xiang, Jianping Fan, and Dacheng Tao. 2018.

</span>
<span class="ltx_bibblock">Beyond bilinear: Generalized multimodal factorized high-order pooling
for visual question answering.

</span>
<span class="ltx_bibblock"><em id="bib.bib47.1.1" class="ltx_emph ltx_font_italic">IEEE transactions on neural networks and learning systems</em>,
29(12):5947–5959.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2021)</span>
<span class="ltx_bibblock">
Pengchuan Zhang, Xiujun Li, Xiaowei Hu, Jianwei Yang, Lei Zhang, Lijuan Wang,
Yejin Choi, and Jianfeng Gao. 2021.

</span>
<span class="ltx_bibblock">Vinvl: Revisiting visual representations in vision-language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib48.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, pages 5579–5588.

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al. (2020)</span>
<span class="ltx_bibblock">
Zihao Zhu, Jing Yu, Yujing Wang, Yajing Sun, Yue Hu, and Qi Wu. 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.24963/ijcai.2020/153" title="" class="ltx_ref ltx_href">Mucko: Multi-layer
cross-modal knowledge reasoning for fact-based visual question answering</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib49.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Twenty-Ninth International Joint
Conference on Artificial Intelligence, IJCAI-20</em>, pages 1097–1103.
International Joint Conferences on Artificial Intelligence Organization.

</span>
<span class="ltx_bibblock">Main track.

</span>
</li>
</ul>
</section>
<figure id="A0.T3" class="ltx_table">
<table id="A0.T3.5" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A0.T3.5.5" class="ltx_tr">
<th id="A0.T3.5.5.6" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" rowspan="2"><span id="A0.T3.5.5.6.1" class="ltx_text">Models</span></th>
<th id="A0.T3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2"><math id="A0.T3.1.1.1.m1.1" class="ltx_Math" alttext="K=5" display="inline"><semantics id="A0.T3.1.1.1.m1.1a"><mrow id="A0.T3.1.1.1.m1.1.1" xref="A0.T3.1.1.1.m1.1.1.cmml"><mi id="A0.T3.1.1.1.m1.1.1.2" xref="A0.T3.1.1.1.m1.1.1.2.cmml">K</mi><mo id="A0.T3.1.1.1.m1.1.1.1" xref="A0.T3.1.1.1.m1.1.1.1.cmml">=</mo><mn id="A0.T3.1.1.1.m1.1.1.3" xref="A0.T3.1.1.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A0.T3.1.1.1.m1.1b"><apply id="A0.T3.1.1.1.m1.1.1.cmml" xref="A0.T3.1.1.1.m1.1.1"><eq id="A0.T3.1.1.1.m1.1.1.1.cmml" xref="A0.T3.1.1.1.m1.1.1.1"></eq><ci id="A0.T3.1.1.1.m1.1.1.2.cmml" xref="A0.T3.1.1.1.m1.1.1.2">𝐾</ci><cn type="integer" id="A0.T3.1.1.1.m1.1.1.3.cmml" xref="A0.T3.1.1.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T3.1.1.1.m1.1c">K=5</annotation></semantics></math></th>
<th id="A0.T3.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2"><math id="A0.T3.2.2.2.m1.1" class="ltx_Math" alttext="K=10" display="inline"><semantics id="A0.T3.2.2.2.m1.1a"><mrow id="A0.T3.2.2.2.m1.1.1" xref="A0.T3.2.2.2.m1.1.1.cmml"><mi id="A0.T3.2.2.2.m1.1.1.2" xref="A0.T3.2.2.2.m1.1.1.2.cmml">K</mi><mo id="A0.T3.2.2.2.m1.1.1.1" xref="A0.T3.2.2.2.m1.1.1.1.cmml">=</mo><mn id="A0.T3.2.2.2.m1.1.1.3" xref="A0.T3.2.2.2.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="A0.T3.2.2.2.m1.1b"><apply id="A0.T3.2.2.2.m1.1.1.cmml" xref="A0.T3.2.2.2.m1.1.1"><eq id="A0.T3.2.2.2.m1.1.1.1.cmml" xref="A0.T3.2.2.2.m1.1.1.1"></eq><ci id="A0.T3.2.2.2.m1.1.1.2.cmml" xref="A0.T3.2.2.2.m1.1.1.2">𝐾</ci><cn type="integer" id="A0.T3.2.2.2.m1.1.1.3.cmml" xref="A0.T3.2.2.2.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T3.2.2.2.m1.1c">K=10</annotation></semantics></math></th>
<th id="A0.T3.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2"><math id="A0.T3.3.3.3.m1.1" class="ltx_Math" alttext="K=20" display="inline"><semantics id="A0.T3.3.3.3.m1.1a"><mrow id="A0.T3.3.3.3.m1.1.1" xref="A0.T3.3.3.3.m1.1.1.cmml"><mi id="A0.T3.3.3.3.m1.1.1.2" xref="A0.T3.3.3.3.m1.1.1.2.cmml">K</mi><mo id="A0.T3.3.3.3.m1.1.1.1" xref="A0.T3.3.3.3.m1.1.1.1.cmml">=</mo><mn id="A0.T3.3.3.3.m1.1.1.3" xref="A0.T3.3.3.3.m1.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="A0.T3.3.3.3.m1.1b"><apply id="A0.T3.3.3.3.m1.1.1.cmml" xref="A0.T3.3.3.3.m1.1.1"><eq id="A0.T3.3.3.3.m1.1.1.1.cmml" xref="A0.T3.3.3.3.m1.1.1.1"></eq><ci id="A0.T3.3.3.3.m1.1.1.2.cmml" xref="A0.T3.3.3.3.m1.1.1.2">𝐾</ci><cn type="integer" id="A0.T3.3.3.3.m1.1.1.3.cmml" xref="A0.T3.3.3.3.m1.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T3.3.3.3.m1.1c">K=20</annotation></semantics></math></th>
<th id="A0.T3.4.4.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2"><math id="A0.T3.4.4.4.m1.1" class="ltx_Math" alttext="K=50" display="inline"><semantics id="A0.T3.4.4.4.m1.1a"><mrow id="A0.T3.4.4.4.m1.1.1" xref="A0.T3.4.4.4.m1.1.1.cmml"><mi id="A0.T3.4.4.4.m1.1.1.2" xref="A0.T3.4.4.4.m1.1.1.2.cmml">K</mi><mo id="A0.T3.4.4.4.m1.1.1.1" xref="A0.T3.4.4.4.m1.1.1.1.cmml">=</mo><mn id="A0.T3.4.4.4.m1.1.1.3" xref="A0.T3.4.4.4.m1.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="A0.T3.4.4.4.m1.1b"><apply id="A0.T3.4.4.4.m1.1.1.cmml" xref="A0.T3.4.4.4.m1.1.1"><eq id="A0.T3.4.4.4.m1.1.1.1.cmml" xref="A0.T3.4.4.4.m1.1.1.1"></eq><ci id="A0.T3.4.4.4.m1.1.1.2.cmml" xref="A0.T3.4.4.4.m1.1.1.2">𝐾</ci><cn type="integer" id="A0.T3.4.4.4.m1.1.1.3.cmml" xref="A0.T3.4.4.4.m1.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T3.4.4.4.m1.1c">K=50</annotation></semantics></math></th>
<th id="A0.T3.5.5.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2"><math id="A0.T3.5.5.5.m1.1" class="ltx_Math" alttext="K_{\text{test}}=5" display="inline"><semantics id="A0.T3.5.5.5.m1.1a"><mrow id="A0.T3.5.5.5.m1.1.1" xref="A0.T3.5.5.5.m1.1.1.cmml"><msub id="A0.T3.5.5.5.m1.1.1.2" xref="A0.T3.5.5.5.m1.1.1.2.cmml"><mi id="A0.T3.5.5.5.m1.1.1.2.2" xref="A0.T3.5.5.5.m1.1.1.2.2.cmml">K</mi><mtext id="A0.T3.5.5.5.m1.1.1.2.3" xref="A0.T3.5.5.5.m1.1.1.2.3a.cmml">test</mtext></msub><mo id="A0.T3.5.5.5.m1.1.1.1" xref="A0.T3.5.5.5.m1.1.1.1.cmml">=</mo><mn id="A0.T3.5.5.5.m1.1.1.3" xref="A0.T3.5.5.5.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A0.T3.5.5.5.m1.1b"><apply id="A0.T3.5.5.5.m1.1.1.cmml" xref="A0.T3.5.5.5.m1.1.1"><eq id="A0.T3.5.5.5.m1.1.1.1.cmml" xref="A0.T3.5.5.5.m1.1.1.1"></eq><apply id="A0.T3.5.5.5.m1.1.1.2.cmml" xref="A0.T3.5.5.5.m1.1.1.2"><csymbol cd="ambiguous" id="A0.T3.5.5.5.m1.1.1.2.1.cmml" xref="A0.T3.5.5.5.m1.1.1.2">subscript</csymbol><ci id="A0.T3.5.5.5.m1.1.1.2.2.cmml" xref="A0.T3.5.5.5.m1.1.1.2.2">𝐾</ci><ci id="A0.T3.5.5.5.m1.1.1.2.3a.cmml" xref="A0.T3.5.5.5.m1.1.1.2.3"><mtext mathsize="70%" id="A0.T3.5.5.5.m1.1.1.2.3.cmml" xref="A0.T3.5.5.5.m1.1.1.2.3">test</mtext></ci></apply><cn type="integer" id="A0.T3.5.5.5.m1.1.1.3.cmml" xref="A0.T3.5.5.5.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T3.5.5.5.m1.1c">K_{\text{test}}=5</annotation></semantics></math></th>
</tr>
<tr id="A0.T3.5.6.1" class="ltx_tr">
<th id="A0.T3.5.6.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">P</th>
<th id="A0.T3.5.6.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">R</th>
<th id="A0.T3.5.6.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">P</th>
<th id="A0.T3.5.6.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">R</th>
<th id="A0.T3.5.6.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">P</th>
<th id="A0.T3.5.6.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">R</th>
<th id="A0.T3.5.6.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">P</th>
<th id="A0.T3.5.6.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">R</th>
<th id="A0.T3.5.6.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">EM</th>
<th id="A0.T3.5.6.1.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">VQA Score</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A0.T3.5.7.1" class="ltx_tr">
<th id="A0.T3.5.7.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">VRR <cite class="ltx_cite ltx_citemacro_cite">Luo et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite>
</th>
<td id="A0.T3.5.7.1.2" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="A0.T3.5.7.1.3" class="ltx_td ltx_align_center ltx_border_t">80.40</td>
<td id="A0.T3.5.7.1.4" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="A0.T3.5.7.1.5" class="ltx_td ltx_align_center ltx_border_t">88.55</td>
<td id="A0.T3.5.7.1.6" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="A0.T3.5.7.1.7" class="ltx_td ltx_align_center ltx_border_t">93.22</td>
<td id="A0.T3.5.7.1.8" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="A0.T3.5.7.1.9" class="ltx_td ltx_align_center ltx_border_t"><span id="A0.T3.5.7.1.9.1" class="ltx_text ltx_font_bold">97.11</span></td>
<td id="A0.T3.5.7.1.10" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="A0.T3.5.7.1.11" class="ltx_td ltx_align_center ltx_border_t">42.54</td>
</tr>
<tr id="A0.T3.5.8.2" class="ltx_tr">
<th id="A0.T3.5.8.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">RA-VQA-FrDPR</th>
<td id="A0.T3.5.8.2.2" class="ltx_td ltx_align_center">51.82</td>
<td id="A0.T3.5.8.2.3" class="ltx_td ltx_align_center">81.25</td>
<td id="A0.T3.5.8.2.4" class="ltx_td ltx_align_center">49.20</td>
<td id="A0.T3.5.8.2.5" class="ltx_td ltx_align_center">88.51</td>
<td id="A0.T3.5.8.2.6" class="ltx_td ltx_align_center">45.98</td>
<td id="A0.T3.5.8.2.7" class="ltx_td ltx_align_center">92.98</td>
<td id="A0.T3.5.8.2.8" class="ltx_td ltx_align_center">41.24</td>
<td id="A0.T3.5.8.2.9" class="ltx_td ltx_align_center">96.75</td>
<td id="A0.T3.5.8.2.10" class="ltx_td ltx_align_center">55.77</td>
<td id="A0.T3.5.8.2.11" class="ltx_td ltx_align_center">51.22</td>
</tr>
<tr id="A0.T3.5.9.3" class="ltx_tr">
<th id="A0.T3.5.9.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">RA-VQA</th>
<td id="A0.T3.5.9.3.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A0.T3.5.9.3.2.1" class="ltx_text ltx_font_bold">57.39</span></td>
<td id="A0.T3.5.9.3.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A0.T3.5.9.3.3.1" class="ltx_text ltx_font_bold">82.84</span></td>
<td id="A0.T3.5.9.3.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A0.T3.5.9.3.4.1" class="ltx_text ltx_font_bold">54.83</span></td>
<td id="A0.T3.5.9.3.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="A0.T3.5.9.3.5.1" class="ltx_text ltx_font_bold">89.00</span></td>
<td id="A0.T3.5.9.3.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A0.T3.5.9.3.6.1" class="ltx_text ltx_font_bold">51.48</span></td>
<td id="A0.T3.5.9.3.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="A0.T3.5.9.3.7.1" class="ltx_text ltx_font_bold">93.62</span></td>
<td id="A0.T3.5.9.3.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="A0.T3.5.9.3.8.1" class="ltx_text ltx_font_bold">46.36</span></td>
<td id="A0.T3.5.9.3.9" class="ltx_td ltx_align_center ltx_border_bb">96.47</td>
<td id="A0.T3.5.9.3.10" class="ltx_td ltx_align_center ltx_border_bb"><span id="A0.T3.5.9.3.10.1" class="ltx_text ltx_font_bold">58.72</span></td>
<td id="A0.T3.5.9.3.11" class="ltx_td ltx_align_center ltx_border_bb"><span id="A0.T3.5.9.3.11.1" class="ltx_text ltx_font_bold">53.81</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Comparing retrieval performance of VRR and our RA-VQA models. The same knowledge corpus (<span id="A0.T3.17.1" class="ltx_text ltx_font_typewriter">GS-full</span>) was used. <span id="A0.T3.18.2" class="ltx_text ltx_framed ltx_framed_underline">P</span>: Pseudo Relevance Precision; <span id="A0.T3.19.3" class="ltx_text ltx_framed ltx_framed_underline">R</span>: Pseudo Relevance Recall; <span id="A0.T3.20.4" class="ltx_text ltx_framed ltx_framed_underline">EM</span>: Exact Match. <span id="A0.T3.21.5" class="ltx_text ltx_framed ltx_framed_underline">P</span> under <math id="A0.T3.9.m1.1" class="ltx_Math" alttext="K=5" display="inline"><semantics id="A0.T3.9.m1.1b"><mrow id="A0.T3.9.m1.1.1" xref="A0.T3.9.m1.1.1.cmml"><mi id="A0.T3.9.m1.1.1.2" xref="A0.T3.9.m1.1.1.2.cmml">K</mi><mo id="A0.T3.9.m1.1.1.1" xref="A0.T3.9.m1.1.1.1.cmml">=</mo><mn id="A0.T3.9.m1.1.1.3" xref="A0.T3.9.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A0.T3.9.m1.1c"><apply id="A0.T3.9.m1.1.1.cmml" xref="A0.T3.9.m1.1.1"><eq id="A0.T3.9.m1.1.1.1.cmml" xref="A0.T3.9.m1.1.1.1"></eq><ci id="A0.T3.9.m1.1.1.2.cmml" xref="A0.T3.9.m1.1.1.2">𝐾</ci><cn type="integer" id="A0.T3.9.m1.1.1.3.cmml" xref="A0.T3.9.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T3.9.m1.1d">K=5</annotation></semantics></math> refers to PRPrec@5. VRR was trained on <math id="A0.T3.10.m2.1" class="ltx_Math" alttext="K_{\text{train}}=100" display="inline"><semantics id="A0.T3.10.m2.1b"><mrow id="A0.T3.10.m2.1.1" xref="A0.T3.10.m2.1.1.cmml"><msub id="A0.T3.10.m2.1.1.2" xref="A0.T3.10.m2.1.1.2.cmml"><mi id="A0.T3.10.m2.1.1.2.2" xref="A0.T3.10.m2.1.1.2.2.cmml">K</mi><mtext id="A0.T3.10.m2.1.1.2.3" xref="A0.T3.10.m2.1.1.2.3a.cmml">train</mtext></msub><mo id="A0.T3.10.m2.1.1.1" xref="A0.T3.10.m2.1.1.1.cmml">=</mo><mn id="A0.T3.10.m2.1.1.3" xref="A0.T3.10.m2.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="A0.T3.10.m2.1c"><apply id="A0.T3.10.m2.1.1.cmml" xref="A0.T3.10.m2.1.1"><eq id="A0.T3.10.m2.1.1.1.cmml" xref="A0.T3.10.m2.1.1.1"></eq><apply id="A0.T3.10.m2.1.1.2.cmml" xref="A0.T3.10.m2.1.1.2"><csymbol cd="ambiguous" id="A0.T3.10.m2.1.1.2.1.cmml" xref="A0.T3.10.m2.1.1.2">subscript</csymbol><ci id="A0.T3.10.m2.1.1.2.2.cmml" xref="A0.T3.10.m2.1.1.2.2">𝐾</ci><ci id="A0.T3.10.m2.1.1.2.3a.cmml" xref="A0.T3.10.m2.1.1.2.3"><mtext mathsize="70%" id="A0.T3.10.m2.1.1.2.3.cmml" xref="A0.T3.10.m2.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="A0.T3.10.m2.1.1.3.cmml" xref="A0.T3.10.m2.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T3.10.m2.1d">K_{\text{train}}=100</annotation></semantics></math>, while RA-VQAs were trained on <math id="A0.T3.11.m3.1" class="ltx_Math" alttext="K_{\text{train}}=5" display="inline"><semantics id="A0.T3.11.m3.1b"><mrow id="A0.T3.11.m3.1.1" xref="A0.T3.11.m3.1.1.cmml"><msub id="A0.T3.11.m3.1.1.2" xref="A0.T3.11.m3.1.1.2.cmml"><mi id="A0.T3.11.m3.1.1.2.2" xref="A0.T3.11.m3.1.1.2.2.cmml">K</mi><mtext id="A0.T3.11.m3.1.1.2.3" xref="A0.T3.11.m3.1.1.2.3a.cmml">train</mtext></msub><mo id="A0.T3.11.m3.1.1.1" xref="A0.T3.11.m3.1.1.1.cmml">=</mo><mn id="A0.T3.11.m3.1.1.3" xref="A0.T3.11.m3.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A0.T3.11.m3.1c"><apply id="A0.T3.11.m3.1.1.cmml" xref="A0.T3.11.m3.1.1"><eq id="A0.T3.11.m3.1.1.1.cmml" xref="A0.T3.11.m3.1.1.1"></eq><apply id="A0.T3.11.m3.1.1.2.cmml" xref="A0.T3.11.m3.1.1.2"><csymbol cd="ambiguous" id="A0.T3.11.m3.1.1.2.1.cmml" xref="A0.T3.11.m3.1.1.2">subscript</csymbol><ci id="A0.T3.11.m3.1.1.2.2.cmml" xref="A0.T3.11.m3.1.1.2.2">𝐾</ci><ci id="A0.T3.11.m3.1.1.2.3a.cmml" xref="A0.T3.11.m3.1.1.2.3"><mtext mathsize="70%" id="A0.T3.11.m3.1.1.2.3.cmml" xref="A0.T3.11.m3.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="A0.T3.11.m3.1.1.3.cmml" xref="A0.T3.11.m3.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T3.11.m3.1d">K_{\text{train}}=5</annotation></semantics></math>.</figcaption>
</figure>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Training Details and Artifacts</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.8" class="ltx_p">Adam <cite class="ltx_cite ltx_citemacro_cite">Kingma and Ba (<a href="#bib.bib18" title="" class="ltx_ref">2015</a>)</cite> was used in this paper.
In DPR pre-training, the retriever was trained for 6 epochs with a constant learning rate <math id="A1.p1.1.m1.1" class="ltx_Math" alttext="10^{-5}" display="inline"><semantics id="A1.p1.1.m1.1a"><msup id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml"><mn id="A1.p1.1.m1.1.1.2" xref="A1.p1.1.m1.1.1.2.cmml">10</mn><mrow id="A1.p1.1.m1.1.1.3" xref="A1.p1.1.m1.1.1.3.cmml"><mo id="A1.p1.1.m1.1.1.3a" xref="A1.p1.1.m1.1.1.3.cmml">−</mo><mn id="A1.p1.1.m1.1.1.3.2" xref="A1.p1.1.m1.1.1.3.2.cmml">5</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><apply id="A1.p1.1.m1.1.1.cmml" xref="A1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A1.p1.1.m1.1.1.1.cmml" xref="A1.p1.1.m1.1.1">superscript</csymbol><cn type="integer" id="A1.p1.1.m1.1.1.2.cmml" xref="A1.p1.1.m1.1.1.2">10</cn><apply id="A1.p1.1.m1.1.1.3.cmml" xref="A1.p1.1.m1.1.1.3"><minus id="A1.p1.1.m1.1.1.3.1.cmml" xref="A1.p1.1.m1.1.1.3"></minus><cn type="integer" id="A1.p1.1.m1.1.1.3.2.cmml" xref="A1.p1.1.m1.1.1.3.2">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">10^{-5}</annotation></semantics></math>.
In RA-VQA training (including RAG*), the learning rates are <math id="A1.p1.2.m2.1" class="ltx_Math" alttext="10^{-5}" display="inline"><semantics id="A1.p1.2.m2.1a"><msup id="A1.p1.2.m2.1.1" xref="A1.p1.2.m2.1.1.cmml"><mn id="A1.p1.2.m2.1.1.2" xref="A1.p1.2.m2.1.1.2.cmml">10</mn><mrow id="A1.p1.2.m2.1.1.3" xref="A1.p1.2.m2.1.1.3.cmml"><mo id="A1.p1.2.m2.1.1.3a" xref="A1.p1.2.m2.1.1.3.cmml">−</mo><mn id="A1.p1.2.m2.1.1.3.2" xref="A1.p1.2.m2.1.1.3.2.cmml">5</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="A1.p1.2.m2.1b"><apply id="A1.p1.2.m2.1.1.cmml" xref="A1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A1.p1.2.m2.1.1.1.cmml" xref="A1.p1.2.m2.1.1">superscript</csymbol><cn type="integer" id="A1.p1.2.m2.1.1.2.cmml" xref="A1.p1.2.m2.1.1.2">10</cn><apply id="A1.p1.2.m2.1.1.3.cmml" xref="A1.p1.2.m2.1.1.3"><minus id="A1.p1.2.m2.1.1.3.1.cmml" xref="A1.p1.2.m2.1.1.3"></minus><cn type="integer" id="A1.p1.2.m2.1.1.3.2.cmml" xref="A1.p1.2.m2.1.1.3.2">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.2.m2.1c">10^{-5}</annotation></semantics></math> for the retriever, and <math id="A1.p1.3.m3.1" class="ltx_Math" alttext="6\times 10^{-5}" display="inline"><semantics id="A1.p1.3.m3.1a"><mrow id="A1.p1.3.m3.1.1" xref="A1.p1.3.m3.1.1.cmml"><mn id="A1.p1.3.m3.1.1.2" xref="A1.p1.3.m3.1.1.2.cmml">6</mn><mo lspace="0.222em" rspace="0.222em" id="A1.p1.3.m3.1.1.1" xref="A1.p1.3.m3.1.1.1.cmml">×</mo><msup id="A1.p1.3.m3.1.1.3" xref="A1.p1.3.m3.1.1.3.cmml"><mn id="A1.p1.3.m3.1.1.3.2" xref="A1.p1.3.m3.1.1.3.2.cmml">10</mn><mrow id="A1.p1.3.m3.1.1.3.3" xref="A1.p1.3.m3.1.1.3.3.cmml"><mo id="A1.p1.3.m3.1.1.3.3a" xref="A1.p1.3.m3.1.1.3.3.cmml">−</mo><mn id="A1.p1.3.m3.1.1.3.3.2" xref="A1.p1.3.m3.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.3.m3.1b"><apply id="A1.p1.3.m3.1.1.cmml" xref="A1.p1.3.m3.1.1"><times id="A1.p1.3.m3.1.1.1.cmml" xref="A1.p1.3.m3.1.1.1"></times><cn type="integer" id="A1.p1.3.m3.1.1.2.cmml" xref="A1.p1.3.m3.1.1.2">6</cn><apply id="A1.p1.3.m3.1.1.3.cmml" xref="A1.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="A1.p1.3.m3.1.1.3.1.cmml" xref="A1.p1.3.m3.1.1.3">superscript</csymbol><cn type="integer" id="A1.p1.3.m3.1.1.3.2.cmml" xref="A1.p1.3.m3.1.1.3.2">10</cn><apply id="A1.p1.3.m3.1.1.3.3.cmml" xref="A1.p1.3.m3.1.1.3.3"><minus id="A1.p1.3.m3.1.1.3.3.1.cmml" xref="A1.p1.3.m3.1.1.3.3"></minus><cn type="integer" id="A1.p1.3.m3.1.1.3.3.2.cmml" xref="A1.p1.3.m3.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.3.m3.1c">6\times 10^{-5}</annotation></semantics></math> for the answer generator, linearly decaying to <math id="A1.p1.4.m4.1" class="ltx_Math" alttext="0" display="inline"><semantics id="A1.p1.4.m4.1a"><mn id="A1.p1.4.m4.1.1" xref="A1.p1.4.m4.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="A1.p1.4.m4.1b"><cn type="integer" id="A1.p1.4.m4.1.1.cmml" xref="A1.p1.4.m4.1.1">0</cn></annotation-xml></semantics></math> after <math id="A1.p1.5.m5.1" class="ltx_Math" alttext="10" display="inline"><semantics id="A1.p1.5.m5.1a"><mn id="A1.p1.5.m5.1.1" xref="A1.p1.5.m5.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="A1.p1.5.m5.1b"><cn type="integer" id="A1.p1.5.m5.1.1.cmml" xref="A1.p1.5.m5.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.5.m5.1c">10</annotation></semantics></math> epochs.
In the training of RA-VQA-NoDPR and TRiG*, the initial learning rate is <math id="A1.p1.6.m6.1" class="ltx_Math" alttext="6\times 10^{-5}" display="inline"><semantics id="A1.p1.6.m6.1a"><mrow id="A1.p1.6.m6.1.1" xref="A1.p1.6.m6.1.1.cmml"><mn id="A1.p1.6.m6.1.1.2" xref="A1.p1.6.m6.1.1.2.cmml">6</mn><mo lspace="0.222em" rspace="0.222em" id="A1.p1.6.m6.1.1.1" xref="A1.p1.6.m6.1.1.1.cmml">×</mo><msup id="A1.p1.6.m6.1.1.3" xref="A1.p1.6.m6.1.1.3.cmml"><mn id="A1.p1.6.m6.1.1.3.2" xref="A1.p1.6.m6.1.1.3.2.cmml">10</mn><mrow id="A1.p1.6.m6.1.1.3.3" xref="A1.p1.6.m6.1.1.3.3.cmml"><mo id="A1.p1.6.m6.1.1.3.3a" xref="A1.p1.6.m6.1.1.3.3.cmml">−</mo><mn id="A1.p1.6.m6.1.1.3.3.2" xref="A1.p1.6.m6.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.6.m6.1b"><apply id="A1.p1.6.m6.1.1.cmml" xref="A1.p1.6.m6.1.1"><times id="A1.p1.6.m6.1.1.1.cmml" xref="A1.p1.6.m6.1.1.1"></times><cn type="integer" id="A1.p1.6.m6.1.1.2.cmml" xref="A1.p1.6.m6.1.1.2">6</cn><apply id="A1.p1.6.m6.1.1.3.cmml" xref="A1.p1.6.m6.1.1.3"><csymbol cd="ambiguous" id="A1.p1.6.m6.1.1.3.1.cmml" xref="A1.p1.6.m6.1.1.3">superscript</csymbol><cn type="integer" id="A1.p1.6.m6.1.1.3.2.cmml" xref="A1.p1.6.m6.1.1.3.2">10</cn><apply id="A1.p1.6.m6.1.1.3.3.cmml" xref="A1.p1.6.m6.1.1.3.3"><minus id="A1.p1.6.m6.1.1.3.3.1.cmml" xref="A1.p1.6.m6.1.1.3.3"></minus><cn type="integer" id="A1.p1.6.m6.1.1.3.3.2.cmml" xref="A1.p1.6.m6.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.6.m6.1c">6\times 10^{-5}</annotation></semantics></math>.
Empirically, the checkpoints at epoch 6 were used in testing.
All experiments were run on Nvidia A-100 GPU clusters.
With <math id="A1.p1.7.m7.1" class="ltx_Math" alttext="K_{\text{train}}=5" display="inline"><semantics id="A1.p1.7.m7.1a"><mrow id="A1.p1.7.m7.1.1" xref="A1.p1.7.m7.1.1.cmml"><msub id="A1.p1.7.m7.1.1.2" xref="A1.p1.7.m7.1.1.2.cmml"><mi id="A1.p1.7.m7.1.1.2.2" xref="A1.p1.7.m7.1.1.2.2.cmml">K</mi><mtext id="A1.p1.7.m7.1.1.2.3" xref="A1.p1.7.m7.1.1.2.3a.cmml">train</mtext></msub><mo id="A1.p1.7.m7.1.1.1" xref="A1.p1.7.m7.1.1.1.cmml">=</mo><mn id="A1.p1.7.m7.1.1.3" xref="A1.p1.7.m7.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.7.m7.1b"><apply id="A1.p1.7.m7.1.1.cmml" xref="A1.p1.7.m7.1.1"><eq id="A1.p1.7.m7.1.1.1.cmml" xref="A1.p1.7.m7.1.1.1"></eq><apply id="A1.p1.7.m7.1.1.2.cmml" xref="A1.p1.7.m7.1.1.2"><csymbol cd="ambiguous" id="A1.p1.7.m7.1.1.2.1.cmml" xref="A1.p1.7.m7.1.1.2">subscript</csymbol><ci id="A1.p1.7.m7.1.1.2.2.cmml" xref="A1.p1.7.m7.1.1.2.2">𝐾</ci><ci id="A1.p1.7.m7.1.1.2.3a.cmml" xref="A1.p1.7.m7.1.1.2.3"><mtext mathsize="70%" id="A1.p1.7.m7.1.1.2.3.cmml" xref="A1.p1.7.m7.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="A1.p1.7.m7.1.1.3.cmml" xref="A1.p1.7.m7.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.7.m7.1c">K_{\text{train}}=5</annotation></semantics></math>, the RA-VQA training takes around 5 hours (10 epochs) while testing takes 5 minutes.
The time cost increases as <math id="A1.p1.8.m8.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="A1.p1.8.m8.1a"><msub id="A1.p1.8.m8.1.1" xref="A1.p1.8.m8.1.1.cmml"><mi id="A1.p1.8.m8.1.1.2" xref="A1.p1.8.m8.1.1.2.cmml">K</mi><mtext id="A1.p1.8.m8.1.1.3" xref="A1.p1.8.m8.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="A1.p1.8.m8.1b"><apply id="A1.p1.8.m8.1.1.cmml" xref="A1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="A1.p1.8.m8.1.1.1.cmml" xref="A1.p1.8.m8.1.1">subscript</csymbol><ci id="A1.p1.8.m8.1.1.2.cmml" xref="A1.p1.8.m8.1.1.2">𝐾</ci><ci id="A1.p1.8.m8.1.1.3a.cmml" xref="A1.p1.8.m8.1.1.3"><mtext mathsize="70%" id="A1.p1.8.m8.1.1.3.cmml" xref="A1.p1.8.m8.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.8.m8.1c">K_{\text{train}}</annotation></semantics></math> increases, approximately linearly.</p>
</div>
<div id="A1.p2" class="ltx_para">
<p id="A1.p2.1" class="ltx_p">Pre-trained model parameters (e.g. T5-large and BERT-base) are provided by huggingface <cite class="ltx_cite ltx_citemacro_cite">Wolf et al. (<a href="#bib.bib43" title="" class="ltx_ref">2020</a>)</cite> accompanied by Python libraries (under Apache License 2.0).
FAISS <cite class="ltx_cite ltx_citemacro_cite">Johnson et al. (<a href="#bib.bib16" title="" class="ltx_ref">2019</a>)</cite> is under MIT License.</p>
</div>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Supplementary Tables and Figures</h2>

<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">Limited by space available, we present supplementary tables and figures in this section, offering more findings to readers.</p>
</div>
<section id="A2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Full Version of Table <a href="#S4.T1" title="Table 1 ‣ 4.3.2 Baseline Systems in the Literature ‣ 4.3 Baseline Systems ‣ 4 Experiments ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>
</h3>

<div id="A2.SS1.p1" class="ltx_para">
<p id="A2.SS1.p1.1" class="ltx_p">We provide the full version of Table <a href="#S4.T1" title="Table 1 ‣ 4.3.2 Baseline Systems in the Literature ‣ 4.3 Baseline Systems ‣ 4 Experiments ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> in Table <a href="#A6.T8" title="Table 8 ‣ Appendix F Generalizing RAVQA to Other Datasets ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>.
Some more discussions about customized generation target in joint training is provided.</p>
</div>
<div id="A2.SS1.p2" class="ltx_para">
<p id="A2.SS1.p2.4" class="ltx_p">As noted, RA-VQA improves retrieval with the feedback of model predictions, and in turn the improved retrieval leads to improved answer generation by training towards <math id="A2.SS1.p2.1.m1.1" class="ltx_Math" alttext="s_{k}^{\ast}" display="inline"><semantics id="A2.SS1.p2.1.m1.1a"><msubsup id="A2.SS1.p2.1.m1.1.1" xref="A2.SS1.p2.1.m1.1.1.cmml"><mi id="A2.SS1.p2.1.m1.1.1.2.2" xref="A2.SS1.p2.1.m1.1.1.2.2.cmml">s</mi><mi id="A2.SS1.p2.1.m1.1.1.2.3" xref="A2.SS1.p2.1.m1.1.1.2.3.cmml">k</mi><mo id="A2.SS1.p2.1.m1.1.1.3" xref="A2.SS1.p2.1.m1.1.1.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.1.m1.1b"><apply id="A2.SS1.p2.1.m1.1.1.cmml" xref="A2.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="A2.SS1.p2.1.m1.1.1.1.cmml" xref="A2.SS1.p2.1.m1.1.1">superscript</csymbol><apply id="A2.SS1.p2.1.m1.1.1.2.cmml" xref="A2.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="A2.SS1.p2.1.m1.1.1.2.1.cmml" xref="A2.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="A2.SS1.p2.1.m1.1.1.2.2.cmml" xref="A2.SS1.p2.1.m1.1.1.2.2">𝑠</ci><ci id="A2.SS1.p2.1.m1.1.1.2.3.cmml" xref="A2.SS1.p2.1.m1.1.1.2.3">𝑘</ci></apply><ci id="A2.SS1.p2.1.m1.1.1.3.cmml" xref="A2.SS1.p2.1.m1.1.1.3">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.1.m1.1c">s_{k}^{\ast}</annotation></semantics></math>, a customized generation target for each retrieved document <math id="A2.SS1.p2.2.m2.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="A2.SS1.p2.2.m2.1a"><msub id="A2.SS1.p2.2.m2.1.1" xref="A2.SS1.p2.2.m2.1.1.cmml"><mi id="A2.SS1.p2.2.m2.1.1.2" xref="A2.SS1.p2.2.m2.1.1.2.cmml">z</mi><mi id="A2.SS1.p2.2.m2.1.1.3" xref="A2.SS1.p2.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.2.m2.1b"><apply id="A2.SS1.p2.2.m2.1.1.cmml" xref="A2.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="A2.SS1.p2.2.m2.1.1.1.cmml" xref="A2.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="A2.SS1.p2.2.m2.1.1.2.cmml" xref="A2.SS1.p2.2.m2.1.1.2">𝑧</ci><ci id="A2.SS1.p2.2.m2.1.1.3.cmml" xref="A2.SS1.p2.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.2.m2.1c">z_{k}</annotation></semantics></math>.
We remove this interaction from RA-VQA models by enforcing <math id="A2.SS1.p2.3.m3.1" class="ltx_Math" alttext="s_{k}^{\ast}=s^{\ast}" display="inline"><semantics id="A2.SS1.p2.3.m3.1a"><mrow id="A2.SS1.p2.3.m3.1.1" xref="A2.SS1.p2.3.m3.1.1.cmml"><msubsup id="A2.SS1.p2.3.m3.1.1.2" xref="A2.SS1.p2.3.m3.1.1.2.cmml"><mi id="A2.SS1.p2.3.m3.1.1.2.2.2" xref="A2.SS1.p2.3.m3.1.1.2.2.2.cmml">s</mi><mi id="A2.SS1.p2.3.m3.1.1.2.2.3" xref="A2.SS1.p2.3.m3.1.1.2.2.3.cmml">k</mi><mo id="A2.SS1.p2.3.m3.1.1.2.3" xref="A2.SS1.p2.3.m3.1.1.2.3.cmml">∗</mo></msubsup><mo id="A2.SS1.p2.3.m3.1.1.1" xref="A2.SS1.p2.3.m3.1.1.1.cmml">=</mo><msup id="A2.SS1.p2.3.m3.1.1.3" xref="A2.SS1.p2.3.m3.1.1.3.cmml"><mi id="A2.SS1.p2.3.m3.1.1.3.2" xref="A2.SS1.p2.3.m3.1.1.3.2.cmml">s</mi><mo id="A2.SS1.p2.3.m3.1.1.3.3" xref="A2.SS1.p2.3.m3.1.1.3.3.cmml">∗</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.3.m3.1b"><apply id="A2.SS1.p2.3.m3.1.1.cmml" xref="A2.SS1.p2.3.m3.1.1"><eq id="A2.SS1.p2.3.m3.1.1.1.cmml" xref="A2.SS1.p2.3.m3.1.1.1"></eq><apply id="A2.SS1.p2.3.m3.1.1.2.cmml" xref="A2.SS1.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="A2.SS1.p2.3.m3.1.1.2.1.cmml" xref="A2.SS1.p2.3.m3.1.1.2">superscript</csymbol><apply id="A2.SS1.p2.3.m3.1.1.2.2.cmml" xref="A2.SS1.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="A2.SS1.p2.3.m3.1.1.2.2.1.cmml" xref="A2.SS1.p2.3.m3.1.1.2">subscript</csymbol><ci id="A2.SS1.p2.3.m3.1.1.2.2.2.cmml" xref="A2.SS1.p2.3.m3.1.1.2.2.2">𝑠</ci><ci id="A2.SS1.p2.3.m3.1.1.2.2.3.cmml" xref="A2.SS1.p2.3.m3.1.1.2.2.3">𝑘</ci></apply><ci id="A2.SS1.p2.3.m3.1.1.2.3.cmml" xref="A2.SS1.p2.3.m3.1.1.2.3">∗</ci></apply><apply id="A2.SS1.p2.3.m3.1.1.3.cmml" xref="A2.SS1.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="A2.SS1.p2.3.m3.1.1.3.1.cmml" xref="A2.SS1.p2.3.m3.1.1.3">superscript</csymbol><ci id="A2.SS1.p2.3.m3.1.1.3.2.cmml" xref="A2.SS1.p2.3.m3.1.1.3.2">𝑠</ci><ci id="A2.SS1.p2.3.m3.1.1.3.3.cmml" xref="A2.SS1.p2.3.m3.1.1.3.3">∗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.3.m3.1c">s_{k}^{\ast}=s^{\ast}</annotation></semantics></math> (the most popular human response), independent of the retrieved <math id="A2.SS1.p2.4.m4.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="A2.SS1.p2.4.m4.1a"><msub id="A2.SS1.p2.4.m4.1.1" xref="A2.SS1.p2.4.m4.1.1.cmml"><mi id="A2.SS1.p2.4.m4.1.1.2" xref="A2.SS1.p2.4.m4.1.1.2.cmml">z</mi><mi id="A2.SS1.p2.4.m4.1.1.3" xref="A2.SS1.p2.4.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.4.m4.1b"><apply id="A2.SS1.p2.4.m4.1.1.cmml" xref="A2.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="A2.SS1.p2.4.m4.1.1.1.cmml" xref="A2.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="A2.SS1.p2.4.m4.1.1.2.cmml" xref="A2.SS1.p2.4.m4.1.1.2">𝑧</ci><ci id="A2.SS1.p2.4.m4.1.1.3.cmml" xref="A2.SS1.p2.4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.4.m4.1c">z_{k}</annotation></semantics></math>.
The ablated models are denoted with a <span id="A2.SS1.p2.4.1" class="ltx_text ltx_font_typewriter">*-NoCT</span> suffix.</p>
</div>
<div id="A2.SS1.p3" class="ltx_para">
<p id="A2.SS1.p3.1" class="ltx_p">As shown in Table <a href="#A6.T8" title="Table 8 ‣ Appendix F Generalizing RAVQA to Other Datasets ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, customizing generation targets for each retrieved <math id="A2.SS1.p3.1.m1.1" class="ltx_Math" alttext="z_{k}" display="inline"><semantics id="A2.SS1.p3.1.m1.1a"><msub id="A2.SS1.p3.1.m1.1.1" xref="A2.SS1.p3.1.m1.1.1.cmml"><mi id="A2.SS1.p3.1.m1.1.1.2" xref="A2.SS1.p3.1.m1.1.1.2.cmml">z</mi><mi id="A2.SS1.p3.1.m1.1.1.3" xref="A2.SS1.p3.1.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A2.SS1.p3.1.m1.1b"><apply id="A2.SS1.p3.1.m1.1.1.cmml" xref="A2.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="A2.SS1.p3.1.m1.1.1.1.cmml" xref="A2.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="A2.SS1.p3.1.m1.1.1.2.cmml" xref="A2.SS1.p3.1.m1.1.1.2">𝑧</ci><ci id="A2.SS1.p3.1.m1.1.1.3.cmml" xref="A2.SS1.p3.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p3.1.m1.1c">z_{k}</annotation></semantics></math> in training yields performance boost for both RA-VQA-FrDPR and RA-VQA, showing that this supervision signal is beneficial to overall system performance.
We also notice that the improvement to RA-VQA (+1.14 VQA Score) is larger compared to RA-VQA-FrDPR (+0.56 VQA Score), showing that customizing the generation target brings more benefits when the retrieval is improved within our proposed RA-VQA joint training framework.
This further confirms that the two components, retrieval and answer generation, complement each other bi-directionally.</p>
</div>
</section>
<section id="A2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Retrieval Performance of RA-VQA</h3>

<div id="A2.SS2.p1" class="ltx_para">
<p id="A2.SS2.p1.1" class="ltx_p">In addition to Pseudo Relevance Recall (PRRecall) introduced in the paper, we further evaluate retrieval performance with <span id="A2.SS2.p1.1.1" class="ltx_text ltx_font_bold">Pseudo Relevance Precision (PRPrec)@K</span>, which is calculated as the rate of pseudo positive documents in all the <math id="A2.SS2.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A2.SS2.p1.1.m1.1a"><mi id="A2.SS2.p1.1.m1.1.1" xref="A2.SS2.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.1.m1.1b"><ci id="A2.SS2.p1.1.m1.1.1.cmml" xref="A2.SS2.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.1.m1.1c">K</annotation></semantics></math> documents retrieved for a question:</p>
<table id="A2.E15" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="A2.E15.m1.2" class="ltx_Math" alttext="\text{PRPrec@K}=\frac{1}{K}\sum_{k=1}^{K}H(z_{k},{\mathcal{S}})" display="block"><semantics id="A2.E15.m1.2a"><mrow id="A2.E15.m1.2.2" xref="A2.E15.m1.2.2.cmml"><mtext id="A2.E15.m1.2.2.3" xref="A2.E15.m1.2.2.3a.cmml">PRPrec@K</mtext><mo id="A2.E15.m1.2.2.2" xref="A2.E15.m1.2.2.2.cmml">=</mo><mrow id="A2.E15.m1.2.2.1" xref="A2.E15.m1.2.2.1.cmml"><mfrac id="A2.E15.m1.2.2.1.3" xref="A2.E15.m1.2.2.1.3.cmml"><mn id="A2.E15.m1.2.2.1.3.2" xref="A2.E15.m1.2.2.1.3.2.cmml">1</mn><mi id="A2.E15.m1.2.2.1.3.3" xref="A2.E15.m1.2.2.1.3.3.cmml">K</mi></mfrac><mo lspace="0em" rspace="0em" id="A2.E15.m1.2.2.1.2" xref="A2.E15.m1.2.2.1.2.cmml">​</mo><mrow id="A2.E15.m1.2.2.1.1" xref="A2.E15.m1.2.2.1.1.cmml"><munderover id="A2.E15.m1.2.2.1.1.2" xref="A2.E15.m1.2.2.1.1.2.cmml"><mo movablelimits="false" id="A2.E15.m1.2.2.1.1.2.2.2" xref="A2.E15.m1.2.2.1.1.2.2.2.cmml">∑</mo><mrow id="A2.E15.m1.2.2.1.1.2.2.3" xref="A2.E15.m1.2.2.1.1.2.2.3.cmml"><mi id="A2.E15.m1.2.2.1.1.2.2.3.2" xref="A2.E15.m1.2.2.1.1.2.2.3.2.cmml">k</mi><mo id="A2.E15.m1.2.2.1.1.2.2.3.1" xref="A2.E15.m1.2.2.1.1.2.2.3.1.cmml">=</mo><mn id="A2.E15.m1.2.2.1.1.2.2.3.3" xref="A2.E15.m1.2.2.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="A2.E15.m1.2.2.1.1.2.3" xref="A2.E15.m1.2.2.1.1.2.3.cmml">K</mi></munderover><mrow id="A2.E15.m1.2.2.1.1.1" xref="A2.E15.m1.2.2.1.1.1.cmml"><mi id="A2.E15.m1.2.2.1.1.1.3" xref="A2.E15.m1.2.2.1.1.1.3.cmml">H</mi><mo lspace="0em" rspace="0em" id="A2.E15.m1.2.2.1.1.1.2" xref="A2.E15.m1.2.2.1.1.1.2.cmml">​</mo><mrow id="A2.E15.m1.2.2.1.1.1.1.1" xref="A2.E15.m1.2.2.1.1.1.1.2.cmml"><mo stretchy="false" id="A2.E15.m1.2.2.1.1.1.1.1.2" xref="A2.E15.m1.2.2.1.1.1.1.2.cmml">(</mo><msub id="A2.E15.m1.2.2.1.1.1.1.1.1" xref="A2.E15.m1.2.2.1.1.1.1.1.1.cmml"><mi id="A2.E15.m1.2.2.1.1.1.1.1.1.2" xref="A2.E15.m1.2.2.1.1.1.1.1.1.2.cmml">z</mi><mi id="A2.E15.m1.2.2.1.1.1.1.1.1.3" xref="A2.E15.m1.2.2.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="A2.E15.m1.2.2.1.1.1.1.1.3" xref="A2.E15.m1.2.2.1.1.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="A2.E15.m1.1.1" xref="A2.E15.m1.1.1.cmml">𝒮</mi><mo stretchy="false" id="A2.E15.m1.2.2.1.1.1.1.1.4" xref="A2.E15.m1.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.E15.m1.2b"><apply id="A2.E15.m1.2.2.cmml" xref="A2.E15.m1.2.2"><eq id="A2.E15.m1.2.2.2.cmml" xref="A2.E15.m1.2.2.2"></eq><ci id="A2.E15.m1.2.2.3a.cmml" xref="A2.E15.m1.2.2.3"><mtext id="A2.E15.m1.2.2.3.cmml" xref="A2.E15.m1.2.2.3">PRPrec@K</mtext></ci><apply id="A2.E15.m1.2.2.1.cmml" xref="A2.E15.m1.2.2.1"><times id="A2.E15.m1.2.2.1.2.cmml" xref="A2.E15.m1.2.2.1.2"></times><apply id="A2.E15.m1.2.2.1.3.cmml" xref="A2.E15.m1.2.2.1.3"><divide id="A2.E15.m1.2.2.1.3.1.cmml" xref="A2.E15.m1.2.2.1.3"></divide><cn type="integer" id="A2.E15.m1.2.2.1.3.2.cmml" xref="A2.E15.m1.2.2.1.3.2">1</cn><ci id="A2.E15.m1.2.2.1.3.3.cmml" xref="A2.E15.m1.2.2.1.3.3">𝐾</ci></apply><apply id="A2.E15.m1.2.2.1.1.cmml" xref="A2.E15.m1.2.2.1.1"><apply id="A2.E15.m1.2.2.1.1.2.cmml" xref="A2.E15.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="A2.E15.m1.2.2.1.1.2.1.cmml" xref="A2.E15.m1.2.2.1.1.2">superscript</csymbol><apply id="A2.E15.m1.2.2.1.1.2.2.cmml" xref="A2.E15.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="A2.E15.m1.2.2.1.1.2.2.1.cmml" xref="A2.E15.m1.2.2.1.1.2">subscript</csymbol><sum id="A2.E15.m1.2.2.1.1.2.2.2.cmml" xref="A2.E15.m1.2.2.1.1.2.2.2"></sum><apply id="A2.E15.m1.2.2.1.1.2.2.3.cmml" xref="A2.E15.m1.2.2.1.1.2.2.3"><eq id="A2.E15.m1.2.2.1.1.2.2.3.1.cmml" xref="A2.E15.m1.2.2.1.1.2.2.3.1"></eq><ci id="A2.E15.m1.2.2.1.1.2.2.3.2.cmml" xref="A2.E15.m1.2.2.1.1.2.2.3.2">𝑘</ci><cn type="integer" id="A2.E15.m1.2.2.1.1.2.2.3.3.cmml" xref="A2.E15.m1.2.2.1.1.2.2.3.3">1</cn></apply></apply><ci id="A2.E15.m1.2.2.1.1.2.3.cmml" xref="A2.E15.m1.2.2.1.1.2.3">𝐾</ci></apply><apply id="A2.E15.m1.2.2.1.1.1.cmml" xref="A2.E15.m1.2.2.1.1.1"><times id="A2.E15.m1.2.2.1.1.1.2.cmml" xref="A2.E15.m1.2.2.1.1.1.2"></times><ci id="A2.E15.m1.2.2.1.1.1.3.cmml" xref="A2.E15.m1.2.2.1.1.1.3">𝐻</ci><interval closure="open" id="A2.E15.m1.2.2.1.1.1.1.2.cmml" xref="A2.E15.m1.2.2.1.1.1.1.1"><apply id="A2.E15.m1.2.2.1.1.1.1.1.1.cmml" xref="A2.E15.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.E15.m1.2.2.1.1.1.1.1.1.1.cmml" xref="A2.E15.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="A2.E15.m1.2.2.1.1.1.1.1.1.2.cmml" xref="A2.E15.m1.2.2.1.1.1.1.1.1.2">𝑧</ci><ci id="A2.E15.m1.2.2.1.1.1.1.1.1.3.cmml" xref="A2.E15.m1.2.2.1.1.1.1.1.1.3">𝑘</ci></apply><ci id="A2.E15.m1.1.1.cmml" xref="A2.E15.m1.1.1">𝒮</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.E15.m1.2c">\text{PRPrec@K}=\frac{1}{K}\sum_{k=1}^{K}H(z_{k},{\mathcal{S}})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(15)</span></td>
</tr></tbody>
</table>
<p id="A2.SS2.p1.2" class="ltx_p">where <math id="A2.SS2.p1.2.m1.1" class="ltx_Math" alttext="H(\cdot)" display="inline"><semantics id="A2.SS2.p1.2.m1.1a"><mrow id="A2.SS2.p1.2.m1.1.2" xref="A2.SS2.p1.2.m1.1.2.cmml"><mi id="A2.SS2.p1.2.m1.1.2.2" xref="A2.SS2.p1.2.m1.1.2.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="A2.SS2.p1.2.m1.1.2.1" xref="A2.SS2.p1.2.m1.1.2.1.cmml">​</mo><mrow id="A2.SS2.p1.2.m1.1.2.3.2" xref="A2.SS2.p1.2.m1.1.2.cmml"><mo stretchy="false" id="A2.SS2.p1.2.m1.1.2.3.2.1" xref="A2.SS2.p1.2.m1.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="A2.SS2.p1.2.m1.1.1" xref="A2.SS2.p1.2.m1.1.1.cmml">⋅</mo><mo stretchy="false" id="A2.SS2.p1.2.m1.1.2.3.2.2" xref="A2.SS2.p1.2.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.2.m1.1b"><apply id="A2.SS2.p1.2.m1.1.2.cmml" xref="A2.SS2.p1.2.m1.1.2"><times id="A2.SS2.p1.2.m1.1.2.1.cmml" xref="A2.SS2.p1.2.m1.1.2.1"></times><ci id="A2.SS2.p1.2.m1.1.2.2.cmml" xref="A2.SS2.p1.2.m1.1.2.2">𝐻</ci><ci id="A2.SS2.p1.2.m1.1.1.cmml" xref="A2.SS2.p1.2.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.2.m1.1c">H(\cdot)</annotation></semantics></math> is the pseudo relevance function introduced in Sec. <a href="#S3.SS2" title="3.2 Weakly-supervised Dense Passage Retrieval ‣ 3 Methodology ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>.</p>
</div>
<figure id="A2.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A2.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.03809/assets/x5.png" id="A2.F5.sf1.g1" class="ltx_graphics ltx_img_landscape" width="368" height="295" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>VQA Score vs <math id="A2.F5.sf1.2.m1.1" class="ltx_Math" alttext="K_{\text{test}}" display="inline"><semantics id="A2.F5.sf1.2.m1.1b"><msub id="A2.F5.sf1.2.m1.1.1" xref="A2.F5.sf1.2.m1.1.1.cmml"><mi id="A2.F5.sf1.2.m1.1.1.2" xref="A2.F5.sf1.2.m1.1.1.2.cmml">K</mi><mtext id="A2.F5.sf1.2.m1.1.1.3" xref="A2.F5.sf1.2.m1.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="A2.F5.sf1.2.m1.1c"><apply id="A2.F5.sf1.2.m1.1.1.cmml" xref="A2.F5.sf1.2.m1.1.1"><csymbol cd="ambiguous" id="A2.F5.sf1.2.m1.1.1.1.cmml" xref="A2.F5.sf1.2.m1.1.1">subscript</csymbol><ci id="A2.F5.sf1.2.m1.1.1.2.cmml" xref="A2.F5.sf1.2.m1.1.1.2">𝐾</ci><ci id="A2.F5.sf1.2.m1.1.1.3a.cmml" xref="A2.F5.sf1.2.m1.1.1.3"><mtext mathsize="70%" id="A2.F5.sf1.2.m1.1.1.3.cmml" xref="A2.F5.sf1.2.m1.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.F5.sf1.2.m1.1d">K_{\text{test}}</annotation></semantics></math></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A2.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.03809/assets/x6.png" id="A2.F5.sf2.g1" class="ltx_graphics ltx_img_landscape" width="355" height="284" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Recall vs <math id="A2.F5.sf2.2.m1.1" class="ltx_Math" alttext="K_{\text{test}}" display="inline"><semantics id="A2.F5.sf2.2.m1.1b"><msub id="A2.F5.sf2.2.m1.1.1" xref="A2.F5.sf2.2.m1.1.1.cmml"><mi id="A2.F5.sf2.2.m1.1.1.2" xref="A2.F5.sf2.2.m1.1.1.2.cmml">K</mi><mtext id="A2.F5.sf2.2.m1.1.1.3" xref="A2.F5.sf2.2.m1.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="A2.F5.sf2.2.m1.1c"><apply id="A2.F5.sf2.2.m1.1.1.cmml" xref="A2.F5.sf2.2.m1.1.1"><csymbol cd="ambiguous" id="A2.F5.sf2.2.m1.1.1.1.cmml" xref="A2.F5.sf2.2.m1.1.1">subscript</csymbol><ci id="A2.F5.sf2.2.m1.1.1.2.cmml" xref="A2.F5.sf2.2.m1.1.1.2">𝐾</ci><ci id="A2.F5.sf2.2.m1.1.1.3a.cmml" xref="A2.F5.sf2.2.m1.1.1.3"><mtext mathsize="70%" id="A2.F5.sf2.2.m1.1.1.3.cmml" xref="A2.F5.sf2.2.m1.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.F5.sf2.2.m1.1d">K_{\text{test}}</annotation></semantics></math> </figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Comparison of model performance as more documents are retrieved in testing. These models are all trained with <math id="A2.F5.3.m1.1" class="ltx_Math" alttext="K_{\text{train}}=5" display="inline"><semantics id="A2.F5.3.m1.1b"><mrow id="A2.F5.3.m1.1.1" xref="A2.F5.3.m1.1.1.cmml"><msub id="A2.F5.3.m1.1.1.2" xref="A2.F5.3.m1.1.1.2.cmml"><mi id="A2.F5.3.m1.1.1.2.2" xref="A2.F5.3.m1.1.1.2.2.cmml">K</mi><mtext id="A2.F5.3.m1.1.1.2.3" xref="A2.F5.3.m1.1.1.2.3a.cmml">train</mtext></msub><mo id="A2.F5.3.m1.1.1.1" xref="A2.F5.3.m1.1.1.1.cmml">=</mo><mn id="A2.F5.3.m1.1.1.3" xref="A2.F5.3.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.F5.3.m1.1c"><apply id="A2.F5.3.m1.1.1.cmml" xref="A2.F5.3.m1.1.1"><eq id="A2.F5.3.m1.1.1.1.cmml" xref="A2.F5.3.m1.1.1.1"></eq><apply id="A2.F5.3.m1.1.1.2.cmml" xref="A2.F5.3.m1.1.1.2"><csymbol cd="ambiguous" id="A2.F5.3.m1.1.1.2.1.cmml" xref="A2.F5.3.m1.1.1.2">subscript</csymbol><ci id="A2.F5.3.m1.1.1.2.2.cmml" xref="A2.F5.3.m1.1.1.2.2">𝐾</ci><ci id="A2.F5.3.m1.1.1.2.3a.cmml" xref="A2.F5.3.m1.1.1.2.3"><mtext mathsize="70%" id="A2.F5.3.m1.1.1.2.3.cmml" xref="A2.F5.3.m1.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="A2.F5.3.m1.1.1.3.cmml" xref="A2.F5.3.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.F5.3.m1.1d">K_{\text{train}}=5</annotation></semantics></math>.
In RA-VQA full joint training (green), combining model predictions with pseudo relevance labels yields higher PRRecall at low <math id="A2.F5.4.m2.1" class="ltx_Math" alttext="K_{\text{test}}" display="inline"><semantics id="A2.F5.4.m2.1b"><msub id="A2.F5.4.m2.1.1" xref="A2.F5.4.m2.1.1.cmml"><mi id="A2.F5.4.m2.1.1.2" xref="A2.F5.4.m2.1.1.2.cmml">K</mi><mtext id="A2.F5.4.m2.1.1.3" xref="A2.F5.4.m2.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="A2.F5.4.m2.1c"><apply id="A2.F5.4.m2.1.1.cmml" xref="A2.F5.4.m2.1.1"><csymbol cd="ambiguous" id="A2.F5.4.m2.1.1.1.cmml" xref="A2.F5.4.m2.1.1">subscript</csymbol><ci id="A2.F5.4.m2.1.1.2.cmml" xref="A2.F5.4.m2.1.1.2">𝐾</ci><ci id="A2.F5.4.m2.1.1.3a.cmml" xref="A2.F5.4.m2.1.1.3"><mtext mathsize="70%" id="A2.F5.4.m2.1.1.3.cmml" xref="A2.F5.4.m2.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.F5.4.m2.1d">K_{\text{test}}</annotation></semantics></math>, showing that full joint training improves retrieval;
RA-VQA-NoPR (orange), which uses only model predictions in training, achieves a higher VQA Score with lower Pseudo Relevance Recall compared to the RA-VQA-FrDPR with frozen DPR in training (blue), which suggests that Pseudo Relevance is only an approximate measurement of actual relevance.</figcaption>
</figure>
<div id="A2.SS2.p2" class="ltx_para">
<p id="A2.SS2.p2.1" class="ltx_p">The success of our RA-VQA model can be further explained by Table <a href="#A0.T3" title="Table 3 ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.
As expected, RA-VQA-FrDPR (pre-trained DPR) achieves similar retrieval performance as VRR <cite class="ltx_cite ltx_citemacro_cite">Luo et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite> since they are both based on DPR and are trained with the same pseudo-relevance-based labels.
Our proposed RA-VQA, with a substantial improvement in Recall over RA-VQA-FrDPR (82.84 PRRecall@5 vs 81.25 PRRecall@5), achieves significantly higher Precision (57.39 PRPrec@5 vs 51.82 PRPrec@5).
This also yields substantial improvements to both EM (+3.05%) and VQA Score (+2.59%).
This suggests that training the retriever jointly presents more potentially relevant documents to answer generation, improving the quality of the top-ranked documents.</p>
</div>
</section>
<section id="A2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>Effects of Retrieving More Documents in Test</h3>

<div id="A2.SS3.p1" class="ltx_para">
<p id="A2.SS3.p1.1" class="ltx_p">Fig. <a href="#A2.F5" title="Figure 5 ‣ B.2 Retrieval Performance of RA-VQA ‣ Appendix B Supplementary Tables and Figures ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> presents the change of VQA Score and PRRecall as additional documents are retrieved in test (increasing <math id="A2.SS3.p1.1.m1.1" class="ltx_Math" alttext="K_{\text{test}}" display="inline"><semantics id="A2.SS3.p1.1.m1.1a"><msub id="A2.SS3.p1.1.m1.1.1" xref="A2.SS3.p1.1.m1.1.1.cmml"><mi id="A2.SS3.p1.1.m1.1.1.2" xref="A2.SS3.p1.1.m1.1.1.2.cmml">K</mi><mtext id="A2.SS3.p1.1.m1.1.1.3" xref="A2.SS3.p1.1.m1.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="A2.SS3.p1.1.m1.1b"><apply id="A2.SS3.p1.1.m1.1.1.cmml" xref="A2.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A2.SS3.p1.1.m1.1.1.1.cmml" xref="A2.SS3.p1.1.m1.1.1">subscript</csymbol><ci id="A2.SS3.p1.1.m1.1.1.2.cmml" xref="A2.SS3.p1.1.m1.1.1.2">𝐾</ci><ci id="A2.SS3.p1.1.m1.1.1.3a.cmml" xref="A2.SS3.p1.1.m1.1.1.3"><mtext mathsize="70%" id="A2.SS3.p1.1.m1.1.1.3.cmml" xref="A2.SS3.p1.1.m1.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p1.1.m1.1c">K_{\text{test}}</annotation></semantics></math>).</p>
</div>
<div id="A2.SS3.p2" class="ltx_para">
<p id="A2.SS3.p2.2" class="ltx_p">PRRecall is improved dramatically as <math id="A2.SS3.p2.1.m1.1" class="ltx_Math" alttext="K_{\text{test}}" display="inline"><semantics id="A2.SS3.p2.1.m1.1a"><msub id="A2.SS3.p2.1.m1.1.1" xref="A2.SS3.p2.1.m1.1.1.cmml"><mi id="A2.SS3.p2.1.m1.1.1.2" xref="A2.SS3.p2.1.m1.1.1.2.cmml">K</mi><mtext id="A2.SS3.p2.1.m1.1.1.3" xref="A2.SS3.p2.1.m1.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.1.m1.1b"><apply id="A2.SS3.p2.1.m1.1.1.cmml" xref="A2.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="A2.SS3.p2.1.m1.1.1.1.cmml" xref="A2.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="A2.SS3.p2.1.m1.1.1.2.cmml" xref="A2.SS3.p2.1.m1.1.1.2">𝐾</ci><ci id="A2.SS3.p2.1.m1.1.1.3a.cmml" xref="A2.SS3.p2.1.m1.1.1.3"><mtext mathsize="70%" id="A2.SS3.p2.1.m1.1.1.3.cmml" xref="A2.SS3.p2.1.m1.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.1.m1.1c">K_{\text{test}}</annotation></semantics></math> increases from 5 to 50, after which only marginal improvement is observed.
Similarly, the VQA Score of these models is improved as more documents are presented in test, and the performance peaks at <math id="A2.SS3.p2.2.m2.1" class="ltx_Math" alttext="K_{\text{test}}\sim 50" display="inline"><semantics id="A2.SS3.p2.2.m2.1a"><mrow id="A2.SS3.p2.2.m2.1.1" xref="A2.SS3.p2.2.m2.1.1.cmml"><msub id="A2.SS3.p2.2.m2.1.1.2" xref="A2.SS3.p2.2.m2.1.1.2.cmml"><mi id="A2.SS3.p2.2.m2.1.1.2.2" xref="A2.SS3.p2.2.m2.1.1.2.2.cmml">K</mi><mtext id="A2.SS3.p2.2.m2.1.1.2.3" xref="A2.SS3.p2.2.m2.1.1.2.3a.cmml">test</mtext></msub><mo id="A2.SS3.p2.2.m2.1.1.1" xref="A2.SS3.p2.2.m2.1.1.1.cmml">∼</mo><mn id="A2.SS3.p2.2.m2.1.1.3" xref="A2.SS3.p2.2.m2.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.2.m2.1b"><apply id="A2.SS3.p2.2.m2.1.1.cmml" xref="A2.SS3.p2.2.m2.1.1"><csymbol cd="latexml" id="A2.SS3.p2.2.m2.1.1.1.cmml" xref="A2.SS3.p2.2.m2.1.1.1">similar-to</csymbol><apply id="A2.SS3.p2.2.m2.1.1.2.cmml" xref="A2.SS3.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="A2.SS3.p2.2.m2.1.1.2.1.cmml" xref="A2.SS3.p2.2.m2.1.1.2">subscript</csymbol><ci id="A2.SS3.p2.2.m2.1.1.2.2.cmml" xref="A2.SS3.p2.2.m2.1.1.2.2">𝐾</ci><ci id="A2.SS3.p2.2.m2.1.1.2.3a.cmml" xref="A2.SS3.p2.2.m2.1.1.2.3"><mtext mathsize="70%" id="A2.SS3.p2.2.m2.1.1.2.3.cmml" xref="A2.SS3.p2.2.m2.1.1.2.3">test</mtext></ci></apply><cn type="integer" id="A2.SS3.p2.2.m2.1.1.3.cmml" xref="A2.SS3.p2.2.m2.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.2.m2.1c">K_{\text{test}}\sim 50</annotation></semantics></math>.
This suggests that including more additional documents in test is more likely to include the truly relevant document to help answer the question yet along with more distracting and misleading documents.</p>
</div>
<div id="A2.SS3.p3" class="ltx_para">
<p id="A2.SS3.p3.1" class="ltx_p">RA-VQA-NoPR (introduced in Sec. <a href="#S4.SS1" title="4.1 Datasets and RA-VQA Configurations ‣ 4 Experiments ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>), which uses only model predictions in training to adjust document scores without pseudo relevance labels, yields a significantly lower PRRecall curve (orange curve in Fig. <a href="#A2.F5.sf2" title="In Figure 5 ‣ B.2 Retrieval Performance of RA-VQA ‣ Appendix B Supplementary Tables and Figures ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(b)</span></a>) than RA-VQA-FrDPR (blue curve) across all <math id="A2.SS3.p3.1.m1.1" class="ltx_Math" alttext="K_{\text{test}}" display="inline"><semantics id="A2.SS3.p3.1.m1.1a"><msub id="A2.SS3.p3.1.m1.1.1" xref="A2.SS3.p3.1.m1.1.1.cmml"><mi id="A2.SS3.p3.1.m1.1.1.2" xref="A2.SS3.p3.1.m1.1.1.2.cmml">K</mi><mtext id="A2.SS3.p3.1.m1.1.1.3" xref="A2.SS3.p3.1.m1.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="A2.SS3.p3.1.m1.1b"><apply id="A2.SS3.p3.1.m1.1.1.cmml" xref="A2.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="A2.SS3.p3.1.m1.1.1.1.cmml" xref="A2.SS3.p3.1.m1.1.1">subscript</csymbol><ci id="A2.SS3.p3.1.m1.1.1.2.cmml" xref="A2.SS3.p3.1.m1.1.1.2">𝐾</ci><ci id="A2.SS3.p3.1.m1.1.1.3a.cmml" xref="A2.SS3.p3.1.m1.1.1.3"><mtext mathsize="70%" id="A2.SS3.p3.1.m1.1.1.3.cmml" xref="A2.SS3.p3.1.m1.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p3.1.m1.1c">K_{\text{test}}</annotation></semantics></math>s, but achieves much higher VQA performance (Fig. <a href="#A2.F5.sf1" title="In Figure 5 ‣ B.2 Retrieval Performance of RA-VQA ‣ Appendix B Supplementary Tables and Figures ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(a)</span></a>).
This further confirms that Pseudo Relevance Labels are a weak signal and a high PRRecall does not necessarily guarantee to gather truly relevant knowledge in retrieval.</p>
</div>
</section>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Evaluation of Computational Cost</h2>

<figure id="A3.T4" class="ltx_table">
<table id="A3.T4.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T4.3.4.1" class="ltx_tr">
<th id="A3.T4.3.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">Model</th>
<th id="A3.T4.3.4.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">GPU memory</th>
<th id="A3.T4.3.4.1.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">Wall time</th>
<th id="A3.T4.3.4.1.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">Batch Size</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T4.1.1" class="ltx_tr">
<td id="A3.T4.1.1.2" class="ltx_td ltx_align_left ltx_border_t">RAVQA</td>
<td id="A3.T4.1.1.3" class="ltx_td ltx_align_left ltx_border_t">70G</td>
<td id="A3.T4.1.1.4" class="ltx_td ltx_align_left ltx_border_t">180 min</td>
<td id="A3.T4.1.1.1" class="ltx_td ltx_align_left ltx_border_t">2 <math id="A3.T4.1.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T4.1.1.1.m1.1a"><mo id="A3.T4.1.1.1.m1.1.1" xref="A3.T4.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T4.1.1.1.m1.1b"><times id="A3.T4.1.1.1.m1.1.1.cmml" xref="A3.T4.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.1.1.1.m1.1c">\times</annotation></semantics></math> 16</td>
</tr>
<tr id="A3.T4.2.2" class="ltx_tr">
<td id="A3.T4.2.2.2" class="ltx_td ltx_align_left">RAVQA-FrDPR</td>
<td id="A3.T4.2.2.3" class="ltx_td ltx_align_left">67G</td>
<td id="A3.T4.2.2.4" class="ltx_td ltx_align_left">160 min</td>
<td id="A3.T4.2.2.1" class="ltx_td ltx_align_left">4 <math id="A3.T4.2.2.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T4.2.2.1.m1.1a"><mo id="A3.T4.2.2.1.m1.1.1" xref="A3.T4.2.2.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T4.2.2.1.m1.1b"><times id="A3.T4.2.2.1.m1.1.1.cmml" xref="A3.T4.2.2.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.2.2.1.m1.1c">\times</annotation></semantics></math> 8</td>
</tr>
<tr id="A3.T4.3.3" class="ltx_tr">
<td id="A3.T4.3.3.2" class="ltx_td ltx_align_left ltx_border_bb">TRiG*</td>
<td id="A3.T4.3.3.3" class="ltx_td ltx_align_left ltx_border_bb">70G</td>
<td id="A3.T4.3.3.4" class="ltx_td ltx_align_left ltx_border_bb">220 min</td>
<td id="A3.T4.3.3.1" class="ltx_td ltx_align_left ltx_border_bb">16 <math id="A3.T4.3.3.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T4.3.3.1.m1.1a"><mo id="A3.T4.3.3.1.m1.1.1" xref="A3.T4.3.3.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T4.3.3.1.m1.1b"><times id="A3.T4.3.3.1.m1.1.1.cmml" xref="A3.T4.3.3.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.3.3.1.m1.1c">\times</annotation></semantics></math> 2</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Comparing computational cost of models. GPU memory: total GPU memory occupied in runtime (approximately); Wall time: the required training time for 8 epochs; Batch Size: <span id="A3.T4.5.1" class="ltx_text ltx_font_typewriter">per_device_batch_size<math id="A3.T4.5.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T4.5.1.m1.1b"><mo id="A3.T4.5.1.m1.1.1" xref="A3.T4.5.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T4.5.1.m1.1c"><times id="A3.T4.5.1.m1.1.1.cmml" xref="A3.T4.5.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.5.1.m1.1d">\times</annotation></semantics></math></span> <span id="A3.T4.7.2" class="ltx_text ltx_font_typewriter">gradient_accumulation_steps</span>. The statistics was collected using one Nvidia A100 GPU (80G).</figcaption>
</figure>
<div id="A3.p1" class="ltx_para">
<p id="A3.p1.1" class="ltx_p">As shown in Fig. <a href="#A3.T4" title="Table 4 ‣ Appendix C Evaluation of Computational Cost ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, comparing with the DPR baseline, the wall time is increased by only 20 mins for RAVQA joint training. Our method does not significantly increase the computation needs. In comparing with TRiG, the total training time is also reduced; this is because TRiG concatenates all <math id="A3.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A3.p1.1.m1.1a"><mi id="A3.p1.1.m1.1.1" xref="A3.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A3.p1.1.m1.1b"><ci id="A3.p1.1.m1.1.1.cmml" xref="A3.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.1.m1.1c">K</annotation></semantics></math> hidden states for decoding <cite class="ltx_cite ltx_citemacro_cite">Gao et al. (<a href="#bib.bib8" title="" class="ltx_ref">2022</a>)</cite>, which is computationally expensive.</p>
</div>
<figure id="A3.T5" class="ltx_table">
<table id="A3.T5.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T5.3.4.1" class="ltx_tr">
<th id="A3.T5.3.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt">Model</th>
<th id="A3.T5.3.4.1.2" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">Wall Time (8 epochs)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T5.1.1" class="ltx_tr">
<th id="A3.T5.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">RAVQA <math id="A3.T5.1.1.1.m1.1" class="ltx_Math" alttext="K_{\text{train}}=5" display="inline"><semantics id="A3.T5.1.1.1.m1.1a"><mrow id="A3.T5.1.1.1.m1.1.1" xref="A3.T5.1.1.1.m1.1.1.cmml"><msub id="A3.T5.1.1.1.m1.1.1.2" xref="A3.T5.1.1.1.m1.1.1.2.cmml"><mi id="A3.T5.1.1.1.m1.1.1.2.2" xref="A3.T5.1.1.1.m1.1.1.2.2.cmml">K</mi><mtext id="A3.T5.1.1.1.m1.1.1.2.3" xref="A3.T5.1.1.1.m1.1.1.2.3a.cmml">train</mtext></msub><mo id="A3.T5.1.1.1.m1.1.1.1" xref="A3.T5.1.1.1.m1.1.1.1.cmml">=</mo><mn id="A3.T5.1.1.1.m1.1.1.3" xref="A3.T5.1.1.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.T5.1.1.1.m1.1b"><apply id="A3.T5.1.1.1.m1.1.1.cmml" xref="A3.T5.1.1.1.m1.1.1"><eq id="A3.T5.1.1.1.m1.1.1.1.cmml" xref="A3.T5.1.1.1.m1.1.1.1"></eq><apply id="A3.T5.1.1.1.m1.1.1.2.cmml" xref="A3.T5.1.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="A3.T5.1.1.1.m1.1.1.2.1.cmml" xref="A3.T5.1.1.1.m1.1.1.2">subscript</csymbol><ci id="A3.T5.1.1.1.m1.1.1.2.2.cmml" xref="A3.T5.1.1.1.m1.1.1.2.2">𝐾</ci><ci id="A3.T5.1.1.1.m1.1.1.2.3a.cmml" xref="A3.T5.1.1.1.m1.1.1.2.3"><mtext mathsize="70%" id="A3.T5.1.1.1.m1.1.1.2.3.cmml" xref="A3.T5.1.1.1.m1.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="A3.T5.1.1.1.m1.1.1.3.cmml" xref="A3.T5.1.1.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T5.1.1.1.m1.1c">K_{\text{train}}=5</annotation></semantics></math>
</th>
<td id="A3.T5.1.1.2" class="ltx_td ltx_align_right ltx_border_t">3 hrs</td>
</tr>
<tr id="A3.T5.2.2" class="ltx_tr">
<th id="A3.T5.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">RAVQA <math id="A3.T5.2.2.1.m1.1" class="ltx_Math" alttext="K_{\text{train}}=10" display="inline"><semantics id="A3.T5.2.2.1.m1.1a"><mrow id="A3.T5.2.2.1.m1.1.1" xref="A3.T5.2.2.1.m1.1.1.cmml"><msub id="A3.T5.2.2.1.m1.1.1.2" xref="A3.T5.2.2.1.m1.1.1.2.cmml"><mi id="A3.T5.2.2.1.m1.1.1.2.2" xref="A3.T5.2.2.1.m1.1.1.2.2.cmml">K</mi><mtext id="A3.T5.2.2.1.m1.1.1.2.3" xref="A3.T5.2.2.1.m1.1.1.2.3a.cmml">train</mtext></msub><mo id="A3.T5.2.2.1.m1.1.1.1" xref="A3.T5.2.2.1.m1.1.1.1.cmml">=</mo><mn id="A3.T5.2.2.1.m1.1.1.3" xref="A3.T5.2.2.1.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.T5.2.2.1.m1.1b"><apply id="A3.T5.2.2.1.m1.1.1.cmml" xref="A3.T5.2.2.1.m1.1.1"><eq id="A3.T5.2.2.1.m1.1.1.1.cmml" xref="A3.T5.2.2.1.m1.1.1.1"></eq><apply id="A3.T5.2.2.1.m1.1.1.2.cmml" xref="A3.T5.2.2.1.m1.1.1.2"><csymbol cd="ambiguous" id="A3.T5.2.2.1.m1.1.1.2.1.cmml" xref="A3.T5.2.2.1.m1.1.1.2">subscript</csymbol><ci id="A3.T5.2.2.1.m1.1.1.2.2.cmml" xref="A3.T5.2.2.1.m1.1.1.2.2">𝐾</ci><ci id="A3.T5.2.2.1.m1.1.1.2.3a.cmml" xref="A3.T5.2.2.1.m1.1.1.2.3"><mtext mathsize="70%" id="A3.T5.2.2.1.m1.1.1.2.3.cmml" xref="A3.T5.2.2.1.m1.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="A3.T5.2.2.1.m1.1.1.3.cmml" xref="A3.T5.2.2.1.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T5.2.2.1.m1.1c">K_{\text{train}}=10</annotation></semantics></math>
</th>
<td id="A3.T5.2.2.2" class="ltx_td ltx_align_right">7 hrs</td>
</tr>
<tr id="A3.T5.3.3" class="ltx_tr">
<th id="A3.T5.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">RAVQA <math id="A3.T5.3.3.1.m1.1" class="ltx_Math" alttext="K_{\text{train}}=15" display="inline"><semantics id="A3.T5.3.3.1.m1.1a"><mrow id="A3.T5.3.3.1.m1.1.1" xref="A3.T5.3.3.1.m1.1.1.cmml"><msub id="A3.T5.3.3.1.m1.1.1.2" xref="A3.T5.3.3.1.m1.1.1.2.cmml"><mi id="A3.T5.3.3.1.m1.1.1.2.2" xref="A3.T5.3.3.1.m1.1.1.2.2.cmml">K</mi><mtext id="A3.T5.3.3.1.m1.1.1.2.3" xref="A3.T5.3.3.1.m1.1.1.2.3a.cmml">train</mtext></msub><mo id="A3.T5.3.3.1.m1.1.1.1" xref="A3.T5.3.3.1.m1.1.1.1.cmml">=</mo><mn id="A3.T5.3.3.1.m1.1.1.3" xref="A3.T5.3.3.1.m1.1.1.3.cmml">15</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.T5.3.3.1.m1.1b"><apply id="A3.T5.3.3.1.m1.1.1.cmml" xref="A3.T5.3.3.1.m1.1.1"><eq id="A3.T5.3.3.1.m1.1.1.1.cmml" xref="A3.T5.3.3.1.m1.1.1.1"></eq><apply id="A3.T5.3.3.1.m1.1.1.2.cmml" xref="A3.T5.3.3.1.m1.1.1.2"><csymbol cd="ambiguous" id="A3.T5.3.3.1.m1.1.1.2.1.cmml" xref="A3.T5.3.3.1.m1.1.1.2">subscript</csymbol><ci id="A3.T5.3.3.1.m1.1.1.2.2.cmml" xref="A3.T5.3.3.1.m1.1.1.2.2">𝐾</ci><ci id="A3.T5.3.3.1.m1.1.1.2.3a.cmml" xref="A3.T5.3.3.1.m1.1.1.2.3"><mtext mathsize="70%" id="A3.T5.3.3.1.m1.1.1.2.3.cmml" xref="A3.T5.3.3.1.m1.1.1.2.3">train</mtext></ci></apply><cn type="integer" id="A3.T5.3.3.1.m1.1.1.3.cmml" xref="A3.T5.3.3.1.m1.1.1.3">15</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T5.3.3.1.m1.1c">K_{\text{train}}=15</annotation></semantics></math>
</th>
<td id="A3.T5.3.3.2" class="ltx_td ltx_align_right ltx_border_bb">12 hrs</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Wall time of the RAVQA model with an increasing <math id="A3.T5.6.m1.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="A3.T5.6.m1.1b"><msub id="A3.T5.6.m1.1.1" xref="A3.T5.6.m1.1.1.cmml"><mi id="A3.T5.6.m1.1.1.2" xref="A3.T5.6.m1.1.1.2.cmml">K</mi><mtext id="A3.T5.6.m1.1.1.3" xref="A3.T5.6.m1.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="A3.T5.6.m1.1c"><apply id="A3.T5.6.m1.1.1.cmml" xref="A3.T5.6.m1.1.1"><csymbol cd="ambiguous" id="A3.T5.6.m1.1.1.1.cmml" xref="A3.T5.6.m1.1.1">subscript</csymbol><ci id="A3.T5.6.m1.1.1.2.cmml" xref="A3.T5.6.m1.1.1.2">𝐾</ci><ci id="A3.T5.6.m1.1.1.3a.cmml" xref="A3.T5.6.m1.1.1.3"><mtext mathsize="70%" id="A3.T5.6.m1.1.1.3.cmml" xref="A3.T5.6.m1.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T5.6.m1.1d">K_{\text{train}}</annotation></semantics></math>. More time is required for training 8 epochs as <math id="A3.T5.7.m2.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="A3.T5.7.m2.1b"><msub id="A3.T5.7.m2.1.1" xref="A3.T5.7.m2.1.1.cmml"><mi id="A3.T5.7.m2.1.1.2" xref="A3.T5.7.m2.1.1.2.cmml">K</mi><mtext id="A3.T5.7.m2.1.1.3" xref="A3.T5.7.m2.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="A3.T5.7.m2.1c"><apply id="A3.T5.7.m2.1.1.cmml" xref="A3.T5.7.m2.1.1"><csymbol cd="ambiguous" id="A3.T5.7.m2.1.1.1.cmml" xref="A3.T5.7.m2.1.1">subscript</csymbol><ci id="A3.T5.7.m2.1.1.2.cmml" xref="A3.T5.7.m2.1.1.2">𝐾</ci><ci id="A3.T5.7.m2.1.1.3a.cmml" xref="A3.T5.7.m2.1.1.3"><mtext mathsize="70%" id="A3.T5.7.m2.1.1.3.cmml" xref="A3.T5.7.m2.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T5.7.m2.1d">K_{\text{train}}</annotation></semantics></math> increases.</figcaption>
</figure>
<div id="A3.p2" class="ltx_para">
<p id="A3.p2.4" class="ltx_p">As <math id="A3.p2.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A3.p2.1.m1.1a"><mi id="A3.p2.1.m1.1.1" xref="A3.p2.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A3.p2.1.m1.1b"><ci id="A3.p2.1.m1.1.1.cmml" xref="A3.p2.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.1.m1.1c">K</annotation></semantics></math> increases, the DPR-based system takes significantly more time to train. This is a real issue for other DPR-based systems that use very high <math id="A3.p2.2.m2.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="A3.p2.2.m2.1a"><msub id="A3.p2.2.m2.1.1" xref="A3.p2.2.m2.1.1.cmml"><mi id="A3.p2.2.m2.1.1.2" xref="A3.p2.2.m2.1.1.2.cmml">K</mi><mtext id="A3.p2.2.m2.1.1.3" xref="A3.p2.2.m2.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="A3.p2.2.m2.1b"><apply id="A3.p2.2.m2.1.1.cmml" xref="A3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="A3.p2.2.m2.1.1.1.cmml" xref="A3.p2.2.m2.1.1">subscript</csymbol><ci id="A3.p2.2.m2.1.1.2.cmml" xref="A3.p2.2.m2.1.1.2">𝐾</ci><ci id="A3.p2.2.m2.1.1.3a.cmml" xref="A3.p2.2.m2.1.1.3"><mtext mathsize="70%" id="A3.p2.2.m2.1.1.3.cmml" xref="A3.p2.2.m2.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.2.m2.1c">K_{\text{train}}</annotation></semantics></math> (e.g. TRiG, KAT), but not the case for our framework: we verified in Sec.<a href="#S4.SS4.SSS4" title='4.4.4 Effects of 𝐾_"train" ‣ 4.4 RA-VQA Performance Analysis ‣ 4 Experiments ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge' class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.4.4</span></a> that <math id="A3.p2.3.m3.1" class="ltx_Math" alttext="K=5" display="inline"><semantics id="A3.p2.3.m3.1a"><mrow id="A3.p2.3.m3.1.1" xref="A3.p2.3.m3.1.1.cmml"><mi id="A3.p2.3.m3.1.1.2" xref="A3.p2.3.m3.1.1.2.cmml">K</mi><mo id="A3.p2.3.m3.1.1.1" xref="A3.p2.3.m3.1.1.1.cmml">=</mo><mn id="A3.p2.3.m3.1.1.3" xref="A3.p2.3.m3.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.p2.3.m3.1b"><apply id="A3.p2.3.m3.1.1.cmml" xref="A3.p2.3.m3.1.1"><eq id="A3.p2.3.m3.1.1.1.cmml" xref="A3.p2.3.m3.1.1.1"></eq><ci id="A3.p2.3.m3.1.1.2.cmml" xref="A3.p2.3.m3.1.1.2">𝐾</ci><cn type="integer" id="A3.p2.3.m3.1.1.3.cmml" xref="A3.p2.3.m3.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.3.m3.1c">K=5</annotation></semantics></math> achieves almost the same results as <math id="A3.p2.4.m4.1" class="ltx_Math" alttext="K\geq 10" display="inline"><semantics id="A3.p2.4.m4.1a"><mrow id="A3.p2.4.m4.1.1" xref="A3.p2.4.m4.1.1.cmml"><mi id="A3.p2.4.m4.1.1.2" xref="A3.p2.4.m4.1.1.2.cmml">K</mi><mo id="A3.p2.4.m4.1.1.1" xref="A3.p2.4.m4.1.1.1.cmml">≥</mo><mn id="A3.p2.4.m4.1.1.3" xref="A3.p2.4.m4.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.p2.4.m4.1b"><apply id="A3.p2.4.m4.1.1.cmml" xref="A3.p2.4.m4.1.1"><geq id="A3.p2.4.m4.1.1.1.cmml" xref="A3.p2.4.m4.1.1.1"></geq><ci id="A3.p2.4.m4.1.1.2.cmml" xref="A3.p2.4.m4.1.1.2">𝐾</ci><cn type="integer" id="A3.p2.4.m4.1.1.3.cmml" xref="A3.p2.4.m4.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.4.m4.1c">K\geq 10</annotation></semantics></math>, which is a desirable feature that can significantly reduce the required computation cost for achieving the best performance.</p>
</div>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Random Guess with OK-VQA Questions</h2>

<figure id="A4.T6" class="ltx_table">
<table id="A4.T6.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A4.T6.1.1.1" class="ltx_tr">
<th id="A4.T6.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt">Question</th>
<th id="A4.T6.1.1.1.2" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">Prediction</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A4.T6.1.2.1" class="ltx_tr">
<th id="A4.T6.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">What type of bird is this?</th>
<td id="A4.T6.1.2.1.2" class="ltx_td ltx_align_right ltx_border_t">hawk</td>
</tr>
<tr id="A4.T6.1.3.2" class="ltx_tr">
<th id="A4.T6.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What time of day is it?</th>
<td id="A4.T6.1.3.2.2" class="ltx_td ltx_align_right">afternoon</td>
</tr>
<tr id="A4.T6.1.4.3" class="ltx_tr">
<th id="A4.T6.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What kind of dog is this?</th>
<td id="A4.T6.1.4.3.2" class="ltx_td ltx_align_right">chihuaha</td>
</tr>
<tr id="A4.T6.1.5.4" class="ltx_tr">
<th id="A4.T6.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What kind of bird is this?</th>
<td id="A4.T6.1.5.4.2" class="ltx_td ltx_align_right">hawk</td>
</tr>
<tr id="A4.T6.1.6.5" class="ltx_tr">
<th id="A4.T6.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What sport is this?</th>
<td id="A4.T6.1.6.5.2" class="ltx_td ltx_align_right">horse race</td>
</tr>
<tr id="A4.T6.1.7.6" class="ltx_tr">
<th id="A4.T6.1.7.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What breed of horse is that?</th>
<td id="A4.T6.1.7.6.2" class="ltx_td ltx_align_right">clydesdale</td>
</tr>
<tr id="A4.T6.1.8.7" class="ltx_tr">
<th id="A4.T6.1.8.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What century is this?</th>
<td id="A4.T6.1.8.7.2" class="ltx_td ltx_align_right">19th</td>
</tr>
<tr id="A4.T6.1.9.8" class="ltx_tr">
<th id="A4.T6.1.9.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What kind of birds are these?</th>
<td id="A4.T6.1.9.8.2" class="ltx_td ltx_align_right">pigeon</td>
</tr>
<tr id="A4.T6.1.10.9" class="ltx_tr">
<th id="A4.T6.1.10.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What city is this?</th>
<td id="A4.T6.1.10.9.2" class="ltx_td ltx_align_right">new york</td>
</tr>
<tr id="A4.T6.1.11.10" class="ltx_tr">
<th id="A4.T6.1.11.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What is the weather like?</th>
<td id="A4.T6.1.11.10.2" class="ltx_td ltx_align_right">rainy</td>
</tr>
<tr id="A4.T6.1.12.11" class="ltx_tr">
<th id="A4.T6.1.12.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What do these animals eat?</th>
<td id="A4.T6.1.12.11.2" class="ltx_td ltx_align_right">grass</td>
</tr>
<tr id="A4.T6.1.13.12" class="ltx_tr">
<th id="A4.T6.1.13.12.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What activity is this?</th>
<td id="A4.T6.1.13.12.2" class="ltx_td ltx_align_right">skateboard</td>
</tr>
<tr id="A4.T6.1.14.13" class="ltx_tr">
<th id="A4.T6.1.14.13.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">How long do these animals live?</th>
<td id="A4.T6.1.14.13.2" class="ltx_td ltx_align_right">20 years</td>
</tr>
<tr id="A4.T6.1.15.14" class="ltx_tr">
<th id="A4.T6.1.15.14.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What type of train is this?</th>
<td id="A4.T6.1.15.14.2" class="ltx_td ltx_align_right">passenger</td>
</tr>
<tr id="A4.T6.1.16.15" class="ltx_tr">
<th id="A4.T6.1.16.15.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What is this used for?</th>
<td id="A4.T6.1.16.15.2" class="ltx_td ltx_align_right">travel</td>
</tr>
<tr id="A4.T6.1.17.16" class="ltx_tr">
<th id="A4.T6.1.17.16.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What is this room used for?</th>
<td id="A4.T6.1.17.16.2" class="ltx_td ltx_align_right">sleep</td>
</tr>
<tr id="A4.T6.1.18.17" class="ltx_tr">
<th id="A4.T6.1.18.17.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What kind of bird is that?</th>
<td id="A4.T6.1.18.17.2" class="ltx_td ltx_align_right">hawk</td>
</tr>
<tr id="A4.T6.1.19.18" class="ltx_tr">
<th id="A4.T6.1.19.18.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What food does the animal eat?</th>
<td id="A4.T6.1.19.18.2" class="ltx_td ltx_align_right">cat food</td>
</tr>
<tr id="A4.T6.1.20.19" class="ltx_tr">
<th id="A4.T6.1.20.19.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What type of dog is this?</th>
<td id="A4.T6.1.20.19.2" class="ltx_td ltx_align_right">chihuaha</td>
</tr>
<tr id="A4.T6.1.21.20" class="ltx_tr">
<th id="A4.T6.1.21.20.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What food do these animals eat?</th>
<td id="A4.T6.1.21.20.2" class="ltx_td ltx_align_right">cat food</td>
</tr>
<tr id="A4.T6.1.22.21" class="ltx_tr">
<th id="A4.T6.1.22.21.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What place is this?</th>
<td id="A4.T6.1.22.21.2" class="ltx_td ltx_align_right">switzerland</td>
</tr>
<tr id="A4.T6.1.23.22" class="ltx_tr">
<th id="A4.T6.1.23.22.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">What breed of cat is this?</th>
<td id="A4.T6.1.23.22.2" class="ltx_td ltx_align_right">calico</td>
</tr>
<tr id="A4.T6.1.24.23" class="ltx_tr">
<th id="A4.T6.1.24.23.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">What season is this?</th>
<td id="A4.T6.1.24.23.2" class="ltx_td ltx_align_right ltx_border_bb">winter</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Example of random guesses with only question input.
Random guess achieved a good VQA Score by matching to the answers by chance.
But the OK-VQA questions are still not directly answerable without access to the associated images.
</figcaption>
</figure>
<div id="A4.p1" class="ltx_para">
<p id="A4.p1.2" class="ltx_p">From the feature ablation study we found that our RA-VQA-NoDPR achieved <math id="A4.p1.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="A4.p1.1.m1.1a"><mo id="A4.p1.1.m1.1.1" xref="A4.p1.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="A4.p1.1.m1.1b"><csymbol cd="latexml" id="A4.p1.1.m1.1.1.cmml" xref="A4.p1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.p1.1.m1.1c">\sim</annotation></semantics></math>28 VQA Score relying on only questions.
This is due to the fact that <math id="A4.p1.2.m2.1" class="ltx_Math" alttext="\sim 75\%" display="inline"><semantics id="A4.p1.2.m2.1a"><mrow id="A4.p1.2.m2.1.1" xref="A4.p1.2.m2.1.1.cmml"><mi id="A4.p1.2.m2.1.1.2" xref="A4.p1.2.m2.1.1.2.cmml"></mi><mo id="A4.p1.2.m2.1.1.1" xref="A4.p1.2.m2.1.1.1.cmml">∼</mo><mrow id="A4.p1.2.m2.1.1.3" xref="A4.p1.2.m2.1.1.3.cmml"><mn id="A4.p1.2.m2.1.1.3.2" xref="A4.p1.2.m2.1.1.3.2.cmml">75</mn><mo id="A4.p1.2.m2.1.1.3.1" xref="A4.p1.2.m2.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.p1.2.m2.1b"><apply id="A4.p1.2.m2.1.1.cmml" xref="A4.p1.2.m2.1.1"><csymbol cd="latexml" id="A4.p1.2.m2.1.1.1.cmml" xref="A4.p1.2.m2.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="A4.p1.2.m2.1.1.2.cmml" xref="A4.p1.2.m2.1.1.2">absent</csymbol><apply id="A4.p1.2.m2.1.1.3.cmml" xref="A4.p1.2.m2.1.1.3"><csymbol cd="latexml" id="A4.p1.2.m2.1.1.3.1.cmml" xref="A4.p1.2.m2.1.1.3.1">percent</csymbol><cn type="integer" id="A4.p1.2.m2.1.1.3.2.cmml" xref="A4.p1.2.m2.1.1.3.2">75</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.p1.2.m2.1c">\sim 75\%</annotation></semantics></math> of answers to training questions appear in the answers to test questions.
As shown in Table <a href="#A4.T6" title="Table 6 ‣ Appendix D Random Guess with OK-VQA Questions ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, for each distinct question, the model learned to generate the same answer without access to the associated images.
These random guesses can match to the answers of some test questions by chance, leading to a good VQA Score.
By inspection we report that most of the successful cases are random guesses, and these questions are still not directly answerable without reading the associated images.</p>
</div>
</section>
<section id="A5" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Case Study</h2>

<figure id="A5.F6" class="ltx_figure"><img src="/html/2210.03809/assets/x7.png" id="A5.F6.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="461" height="581" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>A case study comparing RA-VQA-FrDPR (baseline) and our RA-VQA that benefits from joint training of retrieval and answer generation.</figcaption>
</figure>
<div id="A5.p1" class="ltx_para">
<p id="A5.p1.1" class="ltx_p">We present a case study in Fig. <a href="#A5.F6" title="Figure 6 ‣ Appendix E Case Study ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> to compare RA-VQA-FrDPR and our proposed RA-VQA framework.
Conclusions are provided to each case in the figure.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A6" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix F </span>Generalizing RAVQA to Other Datasets</h2>

<div id="A6.p1" class="ltx_para">
<p id="A6.p1.1" class="ltx_p">We are also interested in whether this approach is also generalisable to other similar VQA tasks that may benefit from improved passage retrieval.</p>
</div>
<div id="A6.p2" class="ltx_para">
<p id="A6.p2.1" class="ltx_p">We implement our framework on another knowledge-based VQA task, Fact-based VQA (FVQA) <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib41" title="" class="ltx_ref">2017</a>)</cite>.
This dataset contains commonsense factoid VQA questions, such as “Question: which object in the image can cut you? Answer: the knife”.
In contrast to OKVQA where no knowledge base is provided, FVQA grounds each question-answer pair with a fact (a triplet from several ‘common sense’ knowledge bases, including ConceptNet <cite class="ltx_cite ltx_citemacro_cite">Speer et al. (<a href="#bib.bib38" title="" class="ltx_ref">2017</a>)</cite>, Webchild <cite class="ltx_cite ltx_citemacro_cite">Tandon et al. (<a href="#bib.bib40" title="" class="ltx_ref">2017</a>)</cite>, and DBpedia <cite class="ltx_cite ltx_citemacro_cite">Auer et al. (<a href="#bib.bib2" title="" class="ltx_ref">2007</a>)</cite>).
A triplet contains a head node, a relation, and a tail node (e.g. [Car] <span id="A6.p2.1.1" class="ltx_text ltx_font_typewriter">/r/HasA</span> [4 wheels]).
To cope with passage retrieval, these knowledge triplets are flattened into surface texts (e.g. “[car] has [4 wheels]”) such that DPR can be directly applied to retrieve them.
We replace pseudo relevance with ground-truth relevance since relevant triplets for answering questions are given.</p>
</div>
<div id="A6.p3" class="ltx_para">
<p id="A6.p3.2" class="ltx_p">The metrics used for assessing performance are Accuracy and Recall, with their standard deviations of 5 splits.
Accuracy counts the portion of questions that are successfully answered, while Recall@<math id="A6.p3.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A6.p3.1.m1.1a"><mi id="A6.p3.1.m1.1.1" xref="A6.p3.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A6.p3.1.m1.1b"><ci id="A6.p3.1.m1.1.1.cmml" xref="A6.p3.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A6.p3.1.m1.1c">K</annotation></semantics></math> measures how likely the retrieved <math id="A6.p3.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A6.p3.2.m2.1a"><mi id="A6.p3.2.m2.1.1" xref="A6.p3.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A6.p3.2.m2.1b"><ci id="A6.p3.2.m2.1.1.cmml" xref="A6.p3.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A6.p3.2.m2.1c">K</annotation></semantics></math> knowledge triplets contain the answer node.
Since FVQA was designed for answer selection instead of open-ended answer generation, prior works used accuracy as “whether the answer node is successfully selected from all KG nodes”.
To enable fair evaluation with our open-ended framework, in calculating accuracy, a question is considered successfully answered if the answer node is the closest node to the generated answer string (shortest in Levenshtein distance).
For example, the generated answer ‘knives’ is still a valid answer since the answer node ‘[knife]’ can be matched with a shortest Levenshtein distance.</p>
</div>
<div id="A6.p4" class="ltx_para">
<p id="A6.p4.1" class="ltx_p">The significance of performance is guaranteed by reporting the average of 5 splits (as in the official FVQA evaluation).
In total we trained 5 DPR models and 5 <math id="A6.p4.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.p4.1.m1.1a"><mo id="A6.p4.1.m1.1.1" xref="A6.p4.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.p4.1.m1.1b"><times id="A6.p4.1.m1.1.1.cmml" xref="A6.p4.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.p4.1.m1.1c">\times</annotation></semantics></math> 3 models (RAVQA, RAVQA-FrDPR, and RAVQA-NoDPR) with the same hyperparameters. Each split has approximately half questions for training and the remaining for testing.</p>
</div>
<div id="A6.p5" class="ltx_para">
<p id="A6.p5.1" class="ltx_p">We compare with three systems in prior work:</p>
</div>
<div id="A6.p6" class="ltx_para">
<p id="A6.p6.1" class="ltx_p">(1) FVQA <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib41" title="" class="ltx_ref">2017</a>)</cite>: the baseline system provided in the official FVQA dataset paper.</p>
</div>
<div id="A6.p7" class="ltx_para">
<p id="A6.p7.1" class="ltx_p">(2) GCN <cite class="ltx_cite ltx_citemacro_cite">Narasimhan et al. (<a href="#bib.bib31" title="" class="ltx_ref">2018b</a>)</cite>: a model that leverages graph convolutional networks (GCNs) to aggregate features from visual/language/fact modalities.</p>
</div>
<div id="A6.p8" class="ltx_para">
<p id="A6.p8.1" class="ltx_p">(3) Mucko <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib49" title="" class="ltx_ref">2020</a>)</cite>: the current state-of-the-art system that uses GCNs to combine visual, fact, and semantic graphs.</p>
</div>
<figure id="A6.T7" class="ltx_table">
<table id="A6.T7.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A6.T7.1.1.1" class="ltx_tr">
<th id="A6.T7.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt">Model</th>
<th id="A6.T7.1.1.1.2" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">Accuracy (Std.)</th>
<th id="A6.T7.1.1.1.3" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">Recall@5 (Std.)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A6.T7.1.2.1" class="ltx_tr">
<th id="A6.T7.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Mucko</th>
<td id="A6.T7.1.2.1.2" class="ltx_td ltx_align_right ltx_border_t">73.06 (  –  )</td>
<td id="A6.T7.1.2.1.3" class="ltx_td ltx_align_right ltx_border_t">-</td>
</tr>
<tr id="A6.T7.1.3.2" class="ltx_tr">
<th id="A6.T7.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="A6.T7.1.3.2.1.1" class="ltx_text ltx_font_bold">RAVQA</span></th>
<td id="A6.T7.1.3.2.2" class="ltx_td ltx_align_right">69.88 (0.13)</td>
<td id="A6.T7.1.3.2.3" class="ltx_td ltx_align_right">68.77 (0.87)</td>
</tr>
<tr id="A6.T7.1.4.3" class="ltx_tr">
<th id="A6.T7.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">GCN</th>
<td id="A6.T7.1.4.3.2" class="ltx_td ltx_align_right">69.35 (  –  )</td>
<td id="A6.T7.1.4.3.3" class="ltx_td ltx_align_right">-</td>
</tr>
<tr id="A6.T7.1.5.4" class="ltx_tr">
<th id="A6.T7.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="A6.T7.1.5.4.1.1" class="ltx_text ltx_font_bold">RAVQA-FrDPR</span></th>
<td id="A6.T7.1.5.4.2" class="ltx_td ltx_align_right">68.81 (0.59)</td>
<td id="A6.T7.1.5.4.3" class="ltx_td ltx_align_right">64.54 (0.80)</td>
</tr>
<tr id="A6.T7.1.6.5" class="ltx_tr">
<th id="A6.T7.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><span id="A6.T7.1.6.5.1.1" class="ltx_text ltx_font_bold">RAVQA-NoDPR</span></th>
<td id="A6.T7.1.6.5.2" class="ltx_td ltx_align_right">67.93 (0.82)</td>
<td id="A6.T7.1.6.5.3" class="ltx_td ltx_align_right">-</td>
</tr>
<tr id="A6.T7.1.7.6" class="ltx_tr">
<th id="A6.T7.1.7.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">FVQA</th>
<td id="A6.T7.1.7.6.2" class="ltx_td ltx_align_right ltx_border_bb">58.76 (0.92)</td>
<td id="A6.T7.1.7.6.3" class="ltx_td ltx_align_right ltx_border_bb">-</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>Model performance on the FVQA dataset (sorted by accuracy).
Our proposed systems are in bold.</figcaption>
</figure>
<div id="A6.p9" class="ltx_para">
<p id="A6.p9.1" class="ltx_p">As shown in Table <a href="#A6.T7" title="Table 7 ‣ Appendix F Generalizing RAVQA to Other Datasets ‣ Retrieval Augmented Visual Question Answering with Outside Knowledge" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>, RAVQA-NoDPR achieves an already strong result (67.93% accuracy) compared to early work in FVQA, showing that the extracted vision-to-language features are useful and text-based Transformers are able to learn to answer commonsense VQA questions well without accessing the provided knowledge graph (ConceptNet).
The incorporation of DPR boosts the performance to 68.81% with 64.54% Recall@5, showing that retrieval works as expected and the retrieved knowledge triplets are exploited in answer generation.
The joint training scheme improves the retrieval (64.54% to 68.77% Recall@5) as well as the overall performance (68.81% to 69.88% Accuracy).
This demonstrates that our proposed joint training framework is generalizable to other KB-VQA tasks, though the passages used in retrieval are simply flattened surface texts of KG triplets.</p>
</div>
<div id="A6.p10" class="ltx_para">
<p id="A6.p10.1" class="ltx_p">In comparing with other systems in the FVQA benchmark, our best system ranks second without an explicit design for leveraging KG structures.
This shows the power of open-ended answer generation with text-based Transformers.
But we emphasise that better performance could be achieved through designing a more specialised retrieval component for the structured knowledge base used in this task.</p>
</div>
<div id="A6.p11" class="ltx_para">
<p id="A6.p11.1" class="ltx_p">To summarise, our system shows great generalizability in an external KB-VQA task that was constructed very differently.
Therefore, the proposed framework can serve as a strong basis for future improvements.</p>
</div>
<figure id="A6.T8" class="ltx_table">
<table id="A6.T8.24" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A6.T8.2.2" class="ltx_tr">
<td id="A6.T8.2.2.3" class="ltx_td ltx_align_left ltx_border_tt">Model</td>
<td id="A6.T8.2.2.4" class="ltx_td ltx_align_center ltx_border_tt">T5</td>
<td id="A6.T8.2.2.5" class="ltx_td ltx_align_center ltx_border_tt">GPT-3</td>
<td id="A6.T8.1.1.1" class="ltx_td ltx_align_left ltx_border_tt"><math id="A6.T8.1.1.1.m1.1" class="ltx_Math" alttext="K_{\text{train}}" display="inline"><semantics id="A6.T8.1.1.1.m1.1a"><msub id="A6.T8.1.1.1.m1.1.1" xref="A6.T8.1.1.1.m1.1.1.cmml"><mi id="A6.T8.1.1.1.m1.1.1.2" xref="A6.T8.1.1.1.m1.1.1.2.cmml">K</mi><mtext id="A6.T8.1.1.1.m1.1.1.3" xref="A6.T8.1.1.1.m1.1.1.3a.cmml">train</mtext></msub><annotation-xml encoding="MathML-Content" id="A6.T8.1.1.1.m1.1b"><apply id="A6.T8.1.1.1.m1.1.1.cmml" xref="A6.T8.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="A6.T8.1.1.1.m1.1.1.1.cmml" xref="A6.T8.1.1.1.m1.1.1">subscript</csymbol><ci id="A6.T8.1.1.1.m1.1.1.2.cmml" xref="A6.T8.1.1.1.m1.1.1.2">𝐾</ci><ci id="A6.T8.1.1.1.m1.1.1.3a.cmml" xref="A6.T8.1.1.1.m1.1.1.3"><mtext mathsize="70%" id="A6.T8.1.1.1.m1.1.1.3.cmml" xref="A6.T8.1.1.1.m1.1.1.3">train</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.1.1.1.m1.1c">K_{\text{train}}</annotation></semantics></math></td>
<td id="A6.T8.2.2.2" class="ltx_td ltx_align_left ltx_border_tt"><math id="A6.T8.2.2.2.m1.1" class="ltx_Math" alttext="K_{\text{test}}" display="inline"><semantics id="A6.T8.2.2.2.m1.1a"><msub id="A6.T8.2.2.2.m1.1.1" xref="A6.T8.2.2.2.m1.1.1.cmml"><mi id="A6.T8.2.2.2.m1.1.1.2" xref="A6.T8.2.2.2.m1.1.1.2.cmml">K</mi><mtext id="A6.T8.2.2.2.m1.1.1.3" xref="A6.T8.2.2.2.m1.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="A6.T8.2.2.2.m1.1b"><apply id="A6.T8.2.2.2.m1.1.1.cmml" xref="A6.T8.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="A6.T8.2.2.2.m1.1.1.1.cmml" xref="A6.T8.2.2.2.m1.1.1">subscript</csymbol><ci id="A6.T8.2.2.2.m1.1.1.2.cmml" xref="A6.T8.2.2.2.m1.1.1.2">𝐾</ci><ci id="A6.T8.2.2.2.m1.1.1.3a.cmml" xref="A6.T8.2.2.2.m1.1.1.3"><mtext mathsize="70%" id="A6.T8.2.2.2.m1.1.1.3.cmml" xref="A6.T8.2.2.2.m1.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.2.2.2.m1.1c">K_{\text{test}}</annotation></semantics></math></td>
<td id="A6.T8.2.2.6" class="ltx_td ltx_align_left ltx_border_tt">Knowl. Src.</td>
<td id="A6.T8.2.2.7" class="ltx_td ltx_align_center ltx_border_tt">PRRecall</td>
<td id="A6.T8.2.2.8" class="ltx_td ltx_align_center ltx_border_tt">EM</td>
<td id="A6.T8.2.2.9" class="ltx_td ltx_align_right ltx_border_tt">VQA Score</td>
</tr>
<tr id="A6.T8.4.4" class="ltx_tr">
<td id="A6.T8.4.4.3" class="ltx_td ltx_align_left ltx_border_t">ConceptBERT</td>
<td id="A6.T8.3.3.1" class="ltx_td ltx_align_center ltx_border_t"><math id="A6.T8.3.3.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.3.3.1.m1.1a"><mo id="A6.T8.3.3.1.m1.1.1" xref="A6.T8.3.3.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.3.3.1.m1.1b"><times id="A6.T8.3.3.1.m1.1.1.cmml" xref="A6.T8.3.3.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.3.3.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.4.4.2" class="ltx_td ltx_align_center ltx_border_t"><math id="A6.T8.4.4.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.4.4.2.m1.1a"><mo id="A6.T8.4.4.2.m1.1.1" xref="A6.T8.4.4.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.4.4.2.m1.1b"><times id="A6.T8.4.4.2.m1.1.1.cmml" xref="A6.T8.4.4.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.4.4.2.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.4.4.4" class="ltx_td ltx_align_left ltx_border_t">-</td>
<td id="A6.T8.4.4.5" class="ltx_td ltx_align_left ltx_border_t">-</td>
<td id="A6.T8.4.4.6" class="ltx_td ltx_align_left ltx_border_t">C</td>
<td id="A6.T8.4.4.7" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.4.4.8" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.4.4.9" class="ltx_td ltx_align_right ltx_border_t">33.66</td>
</tr>
<tr id="A6.T8.6.6" class="ltx_tr">
<td id="A6.T8.6.6.3" class="ltx_td ltx_align_left">KRISP</td>
<td id="A6.T8.5.5.1" class="ltx_td ltx_align_center"><math id="A6.T8.5.5.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.5.5.1.m1.1a"><mo id="A6.T8.5.5.1.m1.1.1" xref="A6.T8.5.5.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.5.5.1.m1.1b"><times id="A6.T8.5.5.1.m1.1.1.cmml" xref="A6.T8.5.5.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.5.5.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.6.6.2" class="ltx_td ltx_align_center"><math id="A6.T8.6.6.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.6.6.2.m1.1a"><mo id="A6.T8.6.6.2.m1.1.1" xref="A6.T8.6.6.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.6.6.2.m1.1b"><times id="A6.T8.6.6.2.m1.1.1.cmml" xref="A6.T8.6.6.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.6.6.2.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.6.6.4" class="ltx_td ltx_align_left">-</td>
<td id="A6.T8.6.6.5" class="ltx_td ltx_align_left">-</td>
<td id="A6.T8.6.6.6" class="ltx_td ltx_align_left">C + W</td>
<td id="A6.T8.6.6.7" class="ltx_td"></td>
<td id="A6.T8.6.6.8" class="ltx_td"></td>
<td id="A6.T8.6.6.9" class="ltx_td ltx_align_right">38.35</td>
</tr>
<tr id="A6.T8.8.8" class="ltx_tr">
<td id="A6.T8.8.8.3" class="ltx_td ltx_align_left">VRR</td>
<td id="A6.T8.7.7.1" class="ltx_td ltx_align_center"><math id="A6.T8.7.7.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.7.7.1.m1.1a"><mo id="A6.T8.7.7.1.m1.1.1" xref="A6.T8.7.7.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.7.7.1.m1.1b"><times id="A6.T8.7.7.1.m1.1.1.cmml" xref="A6.T8.7.7.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.7.7.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.8.8.2" class="ltx_td ltx_align_center"><math id="A6.T8.8.8.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.8.8.2.m1.1a"><mo id="A6.T8.8.8.2.m1.1.1" xref="A6.T8.8.8.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.8.8.2.m1.1b"><times id="A6.T8.8.8.2.m1.1.1.cmml" xref="A6.T8.8.8.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.8.8.2.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.8.8.4" class="ltx_td ltx_align_left">100</td>
<td id="A6.T8.8.8.5" class="ltx_td ltx_align_left">100</td>
<td id="A6.T8.8.8.6" class="ltx_td ltx_align_left">GS (trn/full)</td>
<td id="A6.T8.8.8.7" class="ltx_td"></td>
<td id="A6.T8.8.8.8" class="ltx_td"></td>
<td id="A6.T8.8.8.9" class="ltx_td ltx_align_right">39.22 / 45.08</td>
</tr>
<tr id="A6.T8.10.10" class="ltx_tr">
<td id="A6.T8.10.10.3" class="ltx_td ltx_align_left">MAVEx</td>
<td id="A6.T8.9.9.1" class="ltx_td ltx_align_center"><math id="A6.T8.9.9.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.9.9.1.m1.1a"><mo id="A6.T8.9.9.1.m1.1.1" xref="A6.T8.9.9.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.9.9.1.m1.1b"><times id="A6.T8.9.9.1.m1.1.1.cmml" xref="A6.T8.9.9.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.9.9.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.10.10.2" class="ltx_td ltx_align_center"><math id="A6.T8.10.10.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.10.10.2.m1.1a"><mo id="A6.T8.10.10.2.m1.1.1" xref="A6.T8.10.10.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.10.10.2.m1.1b"><times id="A6.T8.10.10.2.m1.1.1.cmml" xref="A6.T8.10.10.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.10.10.2.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.10.10.4" class="ltx_td ltx_align_left">-</td>
<td id="A6.T8.10.10.5" class="ltx_td ltx_align_left">-</td>
<td id="A6.T8.10.10.6" class="ltx_td ltx_align_left">W + C + GI</td>
<td id="A6.T8.10.10.7" class="ltx_td"></td>
<td id="A6.T8.10.10.8" class="ltx_td"></td>
<td id="A6.T8.10.10.9" class="ltx_td ltx_align_right">39.40</td>
</tr>
<tr id="A6.T8.11.11" class="ltx_tr">
<td id="A6.T8.11.11.2" class="ltx_td ltx_align_left">KAT-T5</td>
<td id="A6.T8.11.11.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.11.11.1" class="ltx_td ltx_align_center"><math id="A6.T8.11.11.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.11.11.1.m1.1a"><mo id="A6.T8.11.11.1.m1.1.1" xref="A6.T8.11.11.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.11.11.1.m1.1b"><times id="A6.T8.11.11.1.m1.1.1.cmml" xref="A6.T8.11.11.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.11.11.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.11.11.4" class="ltx_td ltx_align_left">40</td>
<td id="A6.T8.11.11.5" class="ltx_td ltx_align_left">40</td>
<td id="A6.T8.11.11.6" class="ltx_td ltx_align_left">W</td>
<td id="A6.T8.11.11.7" class="ltx_td"></td>
<td id="A6.T8.11.11.8" class="ltx_td"></td>
<td id="A6.T8.11.11.9" class="ltx_td ltx_align_right">44.25</td>
</tr>
<tr id="A6.T8.12.12" class="ltx_tr">
<td id="A6.T8.12.12.2" class="ltx_td ltx_align_left">TRiG</td>
<td id="A6.T8.12.12.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.12.12.1" class="ltx_td ltx_align_center"><math id="A6.T8.12.12.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.12.12.1.m1.1a"><mo id="A6.T8.12.12.1.m1.1.1" xref="A6.T8.12.12.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.12.12.1.m1.1b"><times id="A6.T8.12.12.1.m1.1.1.cmml" xref="A6.T8.12.12.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.12.12.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.12.12.4" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.12.12.5" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.12.12.6" class="ltx_td ltx_align_left">W</td>
<td id="A6.T8.12.12.7" class="ltx_td"></td>
<td id="A6.T8.12.12.8" class="ltx_td ltx_align_center">49.21</td>
<td id="A6.T8.12.12.9" class="ltx_td ltx_align_right">45.51</td>
</tr>
<tr id="A6.T8.13.13" class="ltx_tr">
<td id="A6.T8.13.13.2" class="ltx_td ltx_align_left">TRiG</td>
<td id="A6.T8.13.13.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.13.13.1" class="ltx_td ltx_align_center"><math id="A6.T8.13.13.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.13.13.1.m1.1a"><mo id="A6.T8.13.13.1.m1.1.1" xref="A6.T8.13.13.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.13.13.1.m1.1b"><times id="A6.T8.13.13.1.m1.1.1.cmml" xref="A6.T8.13.13.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.13.13.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.13.13.4" class="ltx_td ltx_align_left">100</td>
<td id="A6.T8.13.13.5" class="ltx_td ltx_align_left">100</td>
<td id="A6.T8.13.13.6" class="ltx_td ltx_align_left">W</td>
<td id="A6.T8.13.13.7" class="ltx_td"></td>
<td id="A6.T8.13.13.8" class="ltx_td ltx_align_center">53.59</td>
<td id="A6.T8.13.13.9" class="ltx_td ltx_align_right">49.35</td>
</tr>
<tr id="A6.T8.14.14" class="ltx_tr">
<td id="A6.T8.14.14.2" class="ltx_td ltx_align_left">TRiG-Ensemble</td>
<td id="A6.T8.14.14.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.14.14.1" class="ltx_td ltx_align_center"><math id="A6.T8.14.14.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.14.14.1.m1.1a"><mo id="A6.T8.14.14.1.m1.1.1" xref="A6.T8.14.14.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.14.14.1.m1.1b"><times id="A6.T8.14.14.1.m1.1.1.cmml" xref="A6.T8.14.14.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.14.14.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.14.14.4" class="ltx_td ltx_align_left">100</td>
<td id="A6.T8.14.14.5" class="ltx_td ltx_align_left">100</td>
<td id="A6.T8.14.14.6" class="ltx_td ltx_align_left">W</td>
<td id="A6.T8.14.14.7" class="ltx_td"></td>
<td id="A6.T8.14.14.8" class="ltx_td ltx_align_center">54.73</td>
<td id="A6.T8.14.14.9" class="ltx_td ltx_align_right">50.50</td>
</tr>
<tr id="A6.T8.15.15" class="ltx_tr">
<td id="A6.T8.15.15.2" class="ltx_td ltx_align_left">TRiG*</td>
<td id="A6.T8.15.15.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.15.15.1" class="ltx_td ltx_align_center"><math id="A6.T8.15.15.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.15.15.1.m1.1a"><mo id="A6.T8.15.15.1.m1.1.1" xref="A6.T8.15.15.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.15.15.1.m1.1b"><times id="A6.T8.15.15.1.m1.1.1.cmml" xref="A6.T8.15.15.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.15.15.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.15.15.4" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.15.15.5" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.15.15.6" class="ltx_td ltx_align_left">GS (trn/full)</td>
<td id="A6.T8.15.15.7" class="ltx_td"></td>
<td id="A6.T8.15.15.8" class="ltx_td ltx_align_center">52.79</td>
<td id="A6.T8.15.15.9" class="ltx_td ltx_align_right">45.11 / 48.32</td>
</tr>
<tr id="A6.T8.16.16" class="ltx_tr">
<td id="A6.T8.16.16.2" class="ltx_td ltx_align_left">RAG*</td>
<td id="A6.T8.16.16.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.16.16.1" class="ltx_td ltx_align_center"><math id="A6.T8.16.16.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.16.16.1.m1.1a"><mo id="A6.T8.16.16.1.m1.1.1" xref="A6.T8.16.16.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.16.16.1.m1.1b"><times id="A6.T8.16.16.1.m1.1.1.cmml" xref="A6.T8.16.16.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.16.16.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.16.16.4" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.16.16.5" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.16.16.6" class="ltx_td ltx_align_left">GS (trn/full)</td>
<td id="A6.T8.16.16.7" class="ltx_td ltx_align_center">82.34</td>
<td id="A6.T8.16.16.8" class="ltx_td ltx_align_center">52.52</td>
<td id="A6.T8.16.16.9" class="ltx_td ltx_align_right">44.90 / 48.22</td>
</tr>
<tr id="A6.T8.17.17" class="ltx_tr">
<td id="A6.T8.17.17.2" class="ltx_td ltx_align_left">RA-VQA (Ours)</td>
<td id="A6.T8.17.17.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.17.17.1" class="ltx_td ltx_align_center"><math id="A6.T8.17.17.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.17.17.1.m1.1a"><mo id="A6.T8.17.17.1.m1.1.1" xref="A6.T8.17.17.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.17.17.1.m1.1b"><times id="A6.T8.17.17.1.m1.1.1.cmml" xref="A6.T8.17.17.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.17.17.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.17.17.4" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.17.17.5" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.17.17.6" class="ltx_td ltx_align_left">GS (trn/full)</td>
<td id="A6.T8.17.17.7" class="ltx_td ltx_align_center">82.84</td>
<td id="A6.T8.17.17.8" class="ltx_td ltx_align_center">58.72</td>
<td id="A6.T8.17.17.9" class="ltx_td ltx_align_right">48.77 / 53.81</td>
</tr>
<tr id="A6.T8.18.18" class="ltx_tr">
<td id="A6.T8.18.18.2" class="ltx_td ltx_align_left">RA-VQA (Ours)</td>
<td id="A6.T8.18.18.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.18.18.1" class="ltx_td ltx_align_center"><math id="A6.T8.18.18.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.18.18.1.m1.1a"><mo id="A6.T8.18.18.1.m1.1.1" xref="A6.T8.18.18.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.18.18.1.m1.1b"><times id="A6.T8.18.18.1.m1.1.1.cmml" xref="A6.T8.18.18.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.18.18.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.18.18.4" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.18.18.5" class="ltx_td ltx_align_left">50</td>
<td id="A6.T8.18.18.6" class="ltx_td ltx_align_left">GS (trn/full)</td>
<td id="A6.T8.18.18.7" class="ltx_td ltx_align_center">96.55</td>
<td id="A6.T8.18.18.8" class="ltx_td ltx_align_center"><span id="A6.T8.18.18.8.1" class="ltx_text ltx_font_bold">59.41</span></td>
<td id="A6.T8.18.18.9" class="ltx_td ltx_align_right">49.24 / <span id="A6.T8.18.18.9.1" class="ltx_text ltx_font_bold">54.48</span>
</td>
</tr>
<tr id="A6.T8.24.25.1" class="ltx_tr">
<td id="A6.T8.24.25.1.1" class="ltx_td ltx_align_left ltx_border_t"><span id="A6.T8.24.25.1.1.1" class="ltx_text ltx_font_italic">Ablation Study</span></td>
<td id="A6.T8.24.25.1.2" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.24.25.1.3" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.24.25.1.4" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.24.25.1.5" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.24.25.1.6" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.24.25.1.7" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.24.25.1.8" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.24.25.1.9" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="A6.T8.19.19" class="ltx_tr">
<td id="A6.T8.19.19.2" class="ltx_td ltx_align_left ltx_border_t">RA-VQA-FrDPR</td>
<td id="A6.T8.19.19.3" class="ltx_td ltx_align_center ltx_border_t">✓</td>
<td id="A6.T8.19.19.1" class="ltx_td ltx_align_center ltx_border_t"><math id="A6.T8.19.19.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.19.19.1.m1.1a"><mo id="A6.T8.19.19.1.m1.1.1" xref="A6.T8.19.19.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.19.19.1.m1.1b"><times id="A6.T8.19.19.1.m1.1.1.cmml" xref="A6.T8.19.19.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.19.19.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.19.19.4" class="ltx_td ltx_align_left ltx_border_t">5</td>
<td id="A6.T8.19.19.5" class="ltx_td ltx_align_left ltx_border_t">5</td>
<td id="A6.T8.19.19.6" class="ltx_td ltx_align_left ltx_border_t">GS (trn/full)</td>
<td id="A6.T8.19.19.7" class="ltx_td ltx_align_center ltx_border_t">81.25</td>
<td id="A6.T8.19.19.8" class="ltx_td ltx_align_center ltx_border_t">55.77</td>
<td id="A6.T8.19.19.9" class="ltx_td ltx_align_right ltx_border_t">47.05 / 51.22</td>
</tr>
<tr id="A6.T8.20.20" class="ltx_tr">
<td id="A6.T8.20.20.2" class="ltx_td ltx_align_left">RA-VQA-NoPR</td>
<td id="A6.T8.20.20.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.20.20.1" class="ltx_td ltx_align_center"><math id="A6.T8.20.20.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.20.20.1.m1.1a"><mo id="A6.T8.20.20.1.m1.1.1" xref="A6.T8.20.20.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.20.20.1.m1.1b"><times id="A6.T8.20.20.1.m1.1.1.cmml" xref="A6.T8.20.20.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.20.20.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.20.20.4" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.20.20.5" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.20.20.6" class="ltx_td ltx_align_left">GS (full)</td>
<td id="A6.T8.20.20.7" class="ltx_td ltx_align_center">77.67</td>
<td id="A6.T8.20.20.8" class="ltx_td ltx_align_center">57.80</td>
<td id="A6.T8.20.20.9" class="ltx_td ltx_align_right">52.98</td>
</tr>
<tr id="A6.T8.21.21" class="ltx_tr">
<td id="A6.T8.21.21.2" class="ltx_td ltx_align_left">RA-VQA-FrDPR-NoCT</td>
<td id="A6.T8.21.21.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.21.21.1" class="ltx_td ltx_align_center"><math id="A6.T8.21.21.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.21.21.1.m1.1a"><mo id="A6.T8.21.21.1.m1.1.1" xref="A6.T8.21.21.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.21.21.1.m1.1b"><times id="A6.T8.21.21.1.m1.1.1.cmml" xref="A6.T8.21.21.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.21.21.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.21.21.4" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.21.21.5" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.21.21.6" class="ltx_td ltx_align_left">GS (full)</td>
<td id="A6.T8.21.21.7" class="ltx_td ltx_align_center">81.25</td>
<td id="A6.T8.21.21.8" class="ltx_td ltx_align_center">54.99</td>
<td id="A6.T8.21.21.9" class="ltx_td ltx_align_right">50.66</td>
</tr>
<tr id="A6.T8.22.22" class="ltx_tr">
<td id="A6.T8.22.22.2" class="ltx_td ltx_align_left">RA-VQA-NoCT</td>
<td id="A6.T8.22.22.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.22.22.1" class="ltx_td ltx_align_center"><math id="A6.T8.22.22.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.22.22.1.m1.1a"><mo id="A6.T8.22.22.1.m1.1.1" xref="A6.T8.22.22.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.22.22.1.m1.1b"><times id="A6.T8.22.22.1.m1.1.1.cmml" xref="A6.T8.22.22.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.22.22.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.22.22.4" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.22.22.5" class="ltx_td ltx_align_left">5</td>
<td id="A6.T8.22.22.6" class="ltx_td ltx_align_left">GS (full)</td>
<td id="A6.T8.22.22.7" class="ltx_td ltx_align_center">83.77</td>
<td id="A6.T8.22.22.8" class="ltx_td ltx_align_center">57.51</td>
<td id="A6.T8.22.22.9" class="ltx_td ltx_align_right">52.67</td>
</tr>
<tr id="A6.T8.23.23" class="ltx_tr">
<td id="A6.T8.23.23.1" class="ltx_td ltx_align_left ltx_border_t" colspan="7"><span id="A6.T8.23.23.1.1" class="ltx_text ltx_font_italic">GPT-3-based Systems (<math id="A6.T8.23.23.1.1.m1.1" class="ltx_Math" alttext="&gt;" display="inline"><semantics id="A6.T8.23.23.1.1.m1.1a"><mo id="A6.T8.23.23.1.1.m1.1.1" xref="A6.T8.23.23.1.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A6.T8.23.23.1.1.m1.1b"><gt id="A6.T8.23.23.1.1.m1.1.1.cmml" xref="A6.T8.23.23.1.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.23.23.1.1.m1.1c">&gt;</annotation></semantics></math>175 Billion Parameters)</span></td>
<td id="A6.T8.23.23.2" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.23.23.3" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="A6.T8.24.24" class="ltx_tr">
<td id="A6.T8.24.24.2" class="ltx_td ltx_align_left ltx_border_t">PICa</td>
<td id="A6.T8.24.24.1" class="ltx_td ltx_align_center ltx_border_t"><math id="A6.T8.24.24.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A6.T8.24.24.1.m1.1a"><mo id="A6.T8.24.24.1.m1.1.1" xref="A6.T8.24.24.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A6.T8.24.24.1.m1.1b"><times id="A6.T8.24.24.1.m1.1.1.cmml" xref="A6.T8.24.24.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.24.24.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A6.T8.24.24.3" class="ltx_td ltx_align_center ltx_border_t">✓</td>
<td id="A6.T8.24.24.4" class="ltx_td ltx_align_left ltx_border_t">-</td>
<td id="A6.T8.24.24.5" class="ltx_td ltx_align_left ltx_border_t">-</td>
<td id="A6.T8.24.24.6" class="ltx_td ltx_align_left ltx_border_t">GPT-3</td>
<td id="A6.T8.24.24.7" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.24.24.8" class="ltx_td ltx_border_t"></td>
<td id="A6.T8.24.24.9" class="ltx_td ltx_align_right ltx_border_t">48.00</td>
</tr>
<tr id="A6.T8.24.26.2" class="ltx_tr">
<td id="A6.T8.24.26.2.1" class="ltx_td ltx_align_left">KAT-Knowledge-T5</td>
<td id="A6.T8.24.26.2.2" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.24.26.2.3" class="ltx_td ltx_align_center">✓</td>
<td id="A6.T8.24.26.2.4" class="ltx_td ltx_align_left">40</td>
<td id="A6.T8.24.26.2.5" class="ltx_td ltx_align_left">40</td>
<td id="A6.T8.24.26.2.6" class="ltx_td ltx_align_left">W + GPT-3</td>
<td id="A6.T8.24.26.2.7" class="ltx_td"></td>
<td id="A6.T8.24.26.2.8" class="ltx_td"></td>
<td id="A6.T8.24.26.2.9" class="ltx_td ltx_align_right">51.97</td>
</tr>
<tr id="A6.T8.24.27.3" class="ltx_tr">
<td id="A6.T8.24.27.3.1" class="ltx_td ltx_align_left ltx_border_bb">KAT-Ensemble</td>
<td id="A6.T8.24.27.3.2" class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td id="A6.T8.24.27.3.3" class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td id="A6.T8.24.27.3.4" class="ltx_td ltx_align_left ltx_border_bb">40</td>
<td id="A6.T8.24.27.3.5" class="ltx_td ltx_align_left ltx_border_bb">40</td>
<td id="A6.T8.24.27.3.6" class="ltx_td ltx_align_left ltx_border_bb">W + GPT-3</td>
<td id="A6.T8.24.27.3.7" class="ltx_td ltx_border_bb"></td>
<td id="A6.T8.24.27.3.8" class="ltx_td ltx_border_bb"></td>
<td id="A6.T8.24.27.3.9" class="ltx_td ltx_align_right ltx_border_bb">54.41</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 8: </span>Full table of RA-VQA vs Baseline Systems.
Knowledge Sources: <span id="A6.T8.34.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">C</span>onceptNet; <span id="A6.T8.35.2" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">W</span>ikipedia; <span id="A6.T8.36.3" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">G</span>oogle <span id="A6.T8.37.4" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">S</span>earch; <span id="A6.T8.38.5" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">G</span>oogle <span id="A6.T8.39.6" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">I</span>mages; <span id="A6.T8.40.7" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">GPT-3</span> closed book knowledge. ‘GS (trn/full)’ indicates if the Google Search data is constrained to contain only documents relevant to training questions.
PRRecall, HSR, FSR, and EM are reported on ‘GS (full)’ systems as percentage (%).
PRRecall is reported at the corresponding <math id="A6.T8.26.m1.1" class="ltx_Math" alttext="K_{\text{test}}" display="inline"><semantics id="A6.T8.26.m1.1b"><msub id="A6.T8.26.m1.1.1" xref="A6.T8.26.m1.1.1.cmml"><mi id="A6.T8.26.m1.1.1.2" xref="A6.T8.26.m1.1.1.2.cmml">K</mi><mtext id="A6.T8.26.m1.1.1.3" xref="A6.T8.26.m1.1.1.3a.cmml">test</mtext></msub><annotation-xml encoding="MathML-Content" id="A6.T8.26.m1.1c"><apply id="A6.T8.26.m1.1.1.cmml" xref="A6.T8.26.m1.1.1"><csymbol cd="ambiguous" id="A6.T8.26.m1.1.1.1.cmml" xref="A6.T8.26.m1.1.1">subscript</csymbol><ci id="A6.T8.26.m1.1.1.2.cmml" xref="A6.T8.26.m1.1.1.2">𝐾</ci><ci id="A6.T8.26.m1.1.1.3a.cmml" xref="A6.T8.26.m1.1.1.3"><mtext mathsize="70%" id="A6.T8.26.m1.1.1.3.cmml" xref="A6.T8.26.m1.1.1.3">test</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.T8.26.m1.1d">K_{\text{test}}</annotation></semantics></math>.
</figcaption>
</figure>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2210.03808" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2210.03809" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2210.03809">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2210.03809" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2210.03810" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Mar 14 01:57:30 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
