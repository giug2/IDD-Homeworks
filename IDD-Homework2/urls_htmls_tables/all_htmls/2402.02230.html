<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2402.02230] Federated Learning with Differential Privacy</title><meta property="og:description" content="Federated learning (FL), as a type of distributed machine learning, is capable of significantly preserving client’s private data from being shared among different parties. Nevertheless, private information can still be…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Learning with Differential Privacy">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Learning with Differential Privacy">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2402.02230">

<!--Generated on Tue Mar  5 17:59:08 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Federated Learning with Differential Privacy</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Adrien Banse1, Jan Kreischer2, Xavier Oliva i Jürgens3
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">1Exchange student at EPFL, Switzerland from UCLouvain, Belgium
</span>
<span class="ltx_contact ltx_role_affiliation">2Exchange student at EPFL, Switzerland from Universität Zürich, Switzerland
</span>
<span class="ltx_contact ltx_role_affiliation">3Student at EPFL, Switzerland
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Federated learning (FL), as a type of distributed machine learning, is capable of significantly preserving client’s private data from being shared among different parties. Nevertheless, private information can still be divulged by analyzing uploaded parameter weights from clients. In this report, we showcase our empirical benchmark of the effect of the number of clients and the addition of differential privacy (DP) mechanisms on the performance of the model on different types of data. Our results show that non-i.i.d and small datasets have the highest decrease in performance in a distributed and differentially private setting.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">The training of deep-learning models usually requires large and diverse datasets. In many areas, gathering large datasets is difficult and requires the collaboration of multiple institutions. Especially in medicine, patient data is spread among multiple entities. While each party might not have enough data to robustly train a model for a specific task, the union of their datasets can potentially lead to successful data insights. Especially for rare diseases, data sharing among many entities, which can be located in different countries, is crucial. However, medical data contains much private information and is potentially identifiable, making it especially sensitive with regard to privacy. Legal regulations, such as GDPR in Europe, contain specific clauses describing the privacy requirements that medical data has to comply with.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">To address these important limitations, privacy-preserving techniques are gaining momentum, as they can enable to perform machine learning (ML) algorithms on sensitive data. Especially federated machine learning, a non-cryptographic approach for privacy-preserving training of ML models, has been increasingly studied in the last years <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. This will be covered in section <a href="#S2" title="II Theoretical Background ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Another privacy-enhancing technology used for training ML models is differential privacy (DP). DP algorithms aim at quantifying and setting an upper-bound to the privacy loss of an individual when entering their private data into a dataset. They rely on incorporating random noise to the data or model. DP has also been used in the federated setting <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, where to collectively train a model, multiple parties exchange or send differentially private model updates to a central server to protect against an honest-but-curious adversary. This will be covered in section <a href="#S2.SS2" title="II-B Differential Privacy ‣ II Theoretical Background ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">II-B</span></span></a>.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In this project, we will focus on cross-silo federated machine learning with differential privacy.
The three questions we want to answer are the following.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">1) How does the level of data distribution affect model accuracy, i.e. the convergence of the optimization process?</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">2) How does differential privacy affect model accuracy?</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">3) Is it applicable to small, more realistic datasets?</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p">We will perform experiments for both i.i.d., where all of the data is independently and identically distributed, and non-i.i.d cases. Finally, we will apply our FL-DP algorithm on a small medical dataset.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Theoretical Background</span>
</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS1.5.1.1" class="ltx_text">II-A</span> </span><span id="S2.SS1.6.2" class="ltx_text ltx_font_italic">Federated Machine Learning</span>
</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">In federated learning, the data remains under the control of their owners, which we designate as clients, and a central server coordinates the training by sending the global model directly to the clients, which then update the model with their data. The updated models from the clients are sent back to the central server and averaged to obtain an updated version of the global model. This is done via the <span id="S2.SS1.p1.1.1" class="ltx_text ltx_font_typewriter">FedAvg</span> (Federated Averaging) algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, described in Algorithm <a href="#algorithm1" title="In -A Algorithms ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> in Appendix <a href="#A0.SS1" title="-A Algorithms ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">-A</span></span></a>.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS2.5.1.1" class="ltx_text">II-B</span> </span><span id="S2.SS2.6.2" class="ltx_text ltx_font_italic">Differential Privacy</span>
</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">In this project, we focus on cross-silo federated learning, where data is distributed between organizations with high computational resources, like hospitals or banks. The biggest challenge in this setting usually lies on the data security side.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">The adversarial model in this setting includes both the central server and any of the clients. The central server observes the updated parameters of all clients, while a client observes its own updates and the new global model parameters after every round. The problem lies in the fact that the model parameters might leak information about the training data. The adversary’s goal is to infer whether a given record was in the client’s training data (membership inference) or learn properties about the client’s training data (property inference).</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.5" class="ltx_p">(<math id="S2.SS2.p3.1.m1.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S2.SS2.p3.1.m1.1a"><mi id="S2.SS2.p3.1.m1.1.1" xref="S2.SS2.p3.1.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.1.m1.1b"><ci id="S2.SS2.p3.1.m1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.1.m1.1c">\epsilon</annotation></semantics></math>, <math id="S2.SS2.p3.2.m2.1" class="ltx_Math" alttext="\delta" display="inline"><semantics id="S2.SS2.p3.2.m2.1a"><mi id="S2.SS2.p3.2.m2.1.1" xref="S2.SS2.p3.2.m2.1.1.cmml">δ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.2.m2.1b"><ci id="S2.SS2.p3.2.m2.1.1.cmml" xref="S2.SS2.p3.2.m2.1.1">𝛿</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.2.m2.1c">\delta</annotation></semantics></math>)-DP provides a strong criterion for privacy preservation of distributed data processing systems. Here, <math id="S2.SS2.p3.3.m3.1" class="ltx_Math" alttext="\epsilon&gt;0" display="inline"><semantics id="S2.SS2.p3.3.m3.1a"><mrow id="S2.SS2.p3.3.m3.1.1" xref="S2.SS2.p3.3.m3.1.1.cmml"><mi id="S2.SS2.p3.3.m3.1.1.2" xref="S2.SS2.p3.3.m3.1.1.2.cmml">ϵ</mi><mo id="S2.SS2.p3.3.m3.1.1.1" xref="S2.SS2.p3.3.m3.1.1.1.cmml">&gt;</mo><mn id="S2.SS2.p3.3.m3.1.1.3" xref="S2.SS2.p3.3.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.3.m3.1b"><apply id="S2.SS2.p3.3.m3.1.1.cmml" xref="S2.SS2.p3.3.m3.1.1"><gt id="S2.SS2.p3.3.m3.1.1.1.cmml" xref="S2.SS2.p3.3.m3.1.1.1"></gt><ci id="S2.SS2.p3.3.m3.1.1.2.cmml" xref="S2.SS2.p3.3.m3.1.1.2">italic-ϵ</ci><cn type="integer" id="S2.SS2.p3.3.m3.1.1.3.cmml" xref="S2.SS2.p3.3.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.3.m3.1c">\epsilon&gt;0</annotation></semantics></math> is the distinguishable bound of all outputs on two neighboring datasets (pairs of databases <math id="S2.SS2.p3.4.m4.2" class="ltx_Math" alttext="(\mathcal{D},\mathcal{D}_{-r})" display="inline"><semantics id="S2.SS2.p3.4.m4.2a"><mrow id="S2.SS2.p3.4.m4.2.2.1" xref="S2.SS2.p3.4.m4.2.2.2.cmml"><mo stretchy="false" id="S2.SS2.p3.4.m4.2.2.1.2" xref="S2.SS2.p3.4.m4.2.2.2.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p3.4.m4.1.1" xref="S2.SS2.p3.4.m4.1.1.cmml">𝒟</mi><mo id="S2.SS2.p3.4.m4.2.2.1.3" xref="S2.SS2.p3.4.m4.2.2.2.cmml">,</mo><msub id="S2.SS2.p3.4.m4.2.2.1.1" xref="S2.SS2.p3.4.m4.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p3.4.m4.2.2.1.1.2" xref="S2.SS2.p3.4.m4.2.2.1.1.2.cmml">𝒟</mi><mrow id="S2.SS2.p3.4.m4.2.2.1.1.3" xref="S2.SS2.p3.4.m4.2.2.1.1.3.cmml"><mo id="S2.SS2.p3.4.m4.2.2.1.1.3a" xref="S2.SS2.p3.4.m4.2.2.1.1.3.cmml">−</mo><mi id="S2.SS2.p3.4.m4.2.2.1.1.3.2" xref="S2.SS2.p3.4.m4.2.2.1.1.3.2.cmml">r</mi></mrow></msub><mo stretchy="false" id="S2.SS2.p3.4.m4.2.2.1.4" xref="S2.SS2.p3.4.m4.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.4.m4.2b"><interval closure="open" id="S2.SS2.p3.4.m4.2.2.2.cmml" xref="S2.SS2.p3.4.m4.2.2.1"><ci id="S2.SS2.p3.4.m4.1.1.cmml" xref="S2.SS2.p3.4.m4.1.1">𝒟</ci><apply id="S2.SS2.p3.4.m4.2.2.1.1.cmml" xref="S2.SS2.p3.4.m4.2.2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.4.m4.2.2.1.1.1.cmml" xref="S2.SS2.p3.4.m4.2.2.1.1">subscript</csymbol><ci id="S2.SS2.p3.4.m4.2.2.1.1.2.cmml" xref="S2.SS2.p3.4.m4.2.2.1.1.2">𝒟</ci><apply id="S2.SS2.p3.4.m4.2.2.1.1.3.cmml" xref="S2.SS2.p3.4.m4.2.2.1.1.3"><minus id="S2.SS2.p3.4.m4.2.2.1.1.3.1.cmml" xref="S2.SS2.p3.4.m4.2.2.1.1.3"></minus><ci id="S2.SS2.p3.4.m4.2.2.1.1.3.2.cmml" xref="S2.SS2.p3.4.m4.2.2.1.1.3.2">𝑟</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.4.m4.2c">(\mathcal{D},\mathcal{D}_{-r})</annotation></semantics></math> differing only in one row <math id="S2.SS2.p3.5.m5.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S2.SS2.p3.5.m5.1a"><mi id="S2.SS2.p3.5.m5.1.1" xref="S2.SS2.p3.5.m5.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.5.m5.1b"><ci id="S2.SS2.p3.5.m5.1.1.cmml" xref="S2.SS2.p3.5.m5.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.5.m5.1c">r</annotation></semantics></math>. In other words, the removal or addition of a single record in the database should not substantially affect the values of the computed function/statistics.</p>
<table id="S2.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex1.m1.3" class="ltx_Math" alttext="\log{\frac{\text{P}[A(\mathcal{D})=O]}{\text{P}[A(\mathcal{D}_{-r})=O]}}&lt;\epsilon\text{ with probability }1-\delta" display="block"><semantics id="S2.Ex1.m1.3a"><mrow id="S2.Ex1.m1.3.4" xref="S2.Ex1.m1.3.4.cmml"><mrow id="S2.Ex1.m1.3.4.2" xref="S2.Ex1.m1.3.4.2.cmml"><mi id="S2.Ex1.m1.3.4.2.1" xref="S2.Ex1.m1.3.4.2.1.cmml">log</mi><mo lspace="0.167em" id="S2.Ex1.m1.3.4.2a" xref="S2.Ex1.m1.3.4.2.cmml">⁡</mo><mfrac id="S2.Ex1.m1.3.3" xref="S2.Ex1.m1.3.3.cmml"><mrow id="S2.Ex1.m1.2.2.2" xref="S2.Ex1.m1.2.2.2.cmml"><mtext id="S2.Ex1.m1.2.2.2.4" xref="S2.Ex1.m1.2.2.2.4a.cmml">P</mtext><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mrow id="S2.Ex1.m1.2.2.2.2.1" xref="S2.Ex1.m1.2.2.2.2.2.cmml"><mo stretchy="false" id="S2.Ex1.m1.2.2.2.2.1.2" xref="S2.Ex1.m1.2.2.2.2.2.1.cmml">[</mo><mrow id="S2.Ex1.m1.2.2.2.2.1.1" xref="S2.Ex1.m1.2.2.2.2.1.1.cmml"><mrow id="S2.Ex1.m1.2.2.2.2.1.1.2" xref="S2.Ex1.m1.2.2.2.2.1.1.2.cmml"><mi id="S2.Ex1.m1.2.2.2.2.1.1.2.2" xref="S2.Ex1.m1.2.2.2.2.1.1.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.2.1.1.2.1" xref="S2.Ex1.m1.2.2.2.2.1.1.2.1.cmml">​</mo><mrow id="S2.Ex1.m1.2.2.2.2.1.1.2.3.2" xref="S2.Ex1.m1.2.2.2.2.1.1.2.cmml"><mo stretchy="false" id="S2.Ex1.m1.2.2.2.2.1.1.2.3.2.1" xref="S2.Ex1.m1.2.2.2.2.1.1.2.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S2.Ex1.m1.1.1.1.1" xref="S2.Ex1.m1.1.1.1.1.cmml">𝒟</mi><mo stretchy="false" id="S2.Ex1.m1.2.2.2.2.1.1.2.3.2.2" xref="S2.Ex1.m1.2.2.2.2.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.Ex1.m1.2.2.2.2.1.1.1" xref="S2.Ex1.m1.2.2.2.2.1.1.1.cmml">=</mo><mi id="S2.Ex1.m1.2.2.2.2.1.1.3" xref="S2.Ex1.m1.2.2.2.2.1.1.3.cmml">O</mi></mrow><mo stretchy="false" id="S2.Ex1.m1.2.2.2.2.1.3" xref="S2.Ex1.m1.2.2.2.2.2.1.cmml">]</mo></mrow></mrow><mrow id="S2.Ex1.m1.3.3.3" xref="S2.Ex1.m1.3.3.3.cmml"><mtext id="S2.Ex1.m1.3.3.3.3" xref="S2.Ex1.m1.3.3.3.3a.cmml">P</mtext><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.3.3.3.2" xref="S2.Ex1.m1.3.3.3.2.cmml">​</mo><mrow id="S2.Ex1.m1.3.3.3.1.1" xref="S2.Ex1.m1.3.3.3.1.2.cmml"><mo stretchy="false" id="S2.Ex1.m1.3.3.3.1.1.2" xref="S2.Ex1.m1.3.3.3.1.2.1.cmml">[</mo><mrow id="S2.Ex1.m1.3.3.3.1.1.1" xref="S2.Ex1.m1.3.3.3.1.1.1.cmml"><mrow id="S2.Ex1.m1.3.3.3.1.1.1.1" xref="S2.Ex1.m1.3.3.3.1.1.1.1.cmml"><mi id="S2.Ex1.m1.3.3.3.1.1.1.1.3" xref="S2.Ex1.m1.3.3.3.1.1.1.1.3.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.3.3.3.1.1.1.1.2" xref="S2.Ex1.m1.3.3.3.1.1.1.1.2.cmml">​</mo><mrow id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.2" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.cmml">(</mo><msub id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.2" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.2.cmml">𝒟</mi><mrow id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3.cmml"><mo id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3a" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3.cmml">−</mo><mi id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3.2" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3.2.cmml">r</mi></mrow></msub><mo stretchy="false" id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.3" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.Ex1.m1.3.3.3.1.1.1.2" xref="S2.Ex1.m1.3.3.3.1.1.1.2.cmml">=</mo><mi id="S2.Ex1.m1.3.3.3.1.1.1.3" xref="S2.Ex1.m1.3.3.3.1.1.1.3.cmml">O</mi></mrow><mo stretchy="false" id="S2.Ex1.m1.3.3.3.1.1.3" xref="S2.Ex1.m1.3.3.3.1.2.1.cmml">]</mo></mrow></mrow></mfrac></mrow><mo id="S2.Ex1.m1.3.4.1" xref="S2.Ex1.m1.3.4.1.cmml">&lt;</mo><mrow id="S2.Ex1.m1.3.4.3" xref="S2.Ex1.m1.3.4.3.cmml"><mrow id="S2.Ex1.m1.3.4.3.2" xref="S2.Ex1.m1.3.4.3.2.cmml"><mi id="S2.Ex1.m1.3.4.3.2.2" xref="S2.Ex1.m1.3.4.3.2.2.cmml">ϵ</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.3.4.3.2.1" xref="S2.Ex1.m1.3.4.3.2.1.cmml">​</mo><mtext id="S2.Ex1.m1.3.4.3.2.3" xref="S2.Ex1.m1.3.4.3.2.3a.cmml"> with probability </mtext><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.3.4.3.2.1a" xref="S2.Ex1.m1.3.4.3.2.1.cmml">​</mo><mn id="S2.Ex1.m1.3.4.3.2.4" xref="S2.Ex1.m1.3.4.3.2.4.cmml">1</mn></mrow><mo id="S2.Ex1.m1.3.4.3.1" xref="S2.Ex1.m1.3.4.3.1.cmml">−</mo><mi id="S2.Ex1.m1.3.4.3.3" xref="S2.Ex1.m1.3.4.3.3.cmml">δ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1.m1.3b"><apply id="S2.Ex1.m1.3.4.cmml" xref="S2.Ex1.m1.3.4"><lt id="S2.Ex1.m1.3.4.1.cmml" xref="S2.Ex1.m1.3.4.1"></lt><apply id="S2.Ex1.m1.3.4.2.cmml" xref="S2.Ex1.m1.3.4.2"><log id="S2.Ex1.m1.3.4.2.1.cmml" xref="S2.Ex1.m1.3.4.2.1"></log><apply id="S2.Ex1.m1.3.3.cmml" xref="S2.Ex1.m1.3.3"><divide id="S2.Ex1.m1.3.3.4.cmml" xref="S2.Ex1.m1.3.3"></divide><apply id="S2.Ex1.m1.2.2.2.cmml" xref="S2.Ex1.m1.2.2.2"><times id="S2.Ex1.m1.2.2.2.3.cmml" xref="S2.Ex1.m1.2.2.2.3"></times><ci id="S2.Ex1.m1.2.2.2.4a.cmml" xref="S2.Ex1.m1.2.2.2.4"><mtext id="S2.Ex1.m1.2.2.2.4.cmml" xref="S2.Ex1.m1.2.2.2.4">P</mtext></ci><apply id="S2.Ex1.m1.2.2.2.2.2.cmml" xref="S2.Ex1.m1.2.2.2.2.1"><csymbol cd="latexml" id="S2.Ex1.m1.2.2.2.2.2.1.cmml" xref="S2.Ex1.m1.2.2.2.2.1.2">delimited-[]</csymbol><apply id="S2.Ex1.m1.2.2.2.2.1.1.cmml" xref="S2.Ex1.m1.2.2.2.2.1.1"><eq id="S2.Ex1.m1.2.2.2.2.1.1.1.cmml" xref="S2.Ex1.m1.2.2.2.2.1.1.1"></eq><apply id="S2.Ex1.m1.2.2.2.2.1.1.2.cmml" xref="S2.Ex1.m1.2.2.2.2.1.1.2"><times id="S2.Ex1.m1.2.2.2.2.1.1.2.1.cmml" xref="S2.Ex1.m1.2.2.2.2.1.1.2.1"></times><ci id="S2.Ex1.m1.2.2.2.2.1.1.2.2.cmml" xref="S2.Ex1.m1.2.2.2.2.1.1.2.2">𝐴</ci><ci id="S2.Ex1.m1.1.1.1.1.cmml" xref="S2.Ex1.m1.1.1.1.1">𝒟</ci></apply><ci id="S2.Ex1.m1.2.2.2.2.1.1.3.cmml" xref="S2.Ex1.m1.2.2.2.2.1.1.3">𝑂</ci></apply></apply></apply><apply id="S2.Ex1.m1.3.3.3.cmml" xref="S2.Ex1.m1.3.3.3"><times id="S2.Ex1.m1.3.3.3.2.cmml" xref="S2.Ex1.m1.3.3.3.2"></times><ci id="S2.Ex1.m1.3.3.3.3a.cmml" xref="S2.Ex1.m1.3.3.3.3"><mtext id="S2.Ex1.m1.3.3.3.3.cmml" xref="S2.Ex1.m1.3.3.3.3">P</mtext></ci><apply id="S2.Ex1.m1.3.3.3.1.2.cmml" xref="S2.Ex1.m1.3.3.3.1.1"><csymbol cd="latexml" id="S2.Ex1.m1.3.3.3.1.2.1.cmml" xref="S2.Ex1.m1.3.3.3.1.1.2">delimited-[]</csymbol><apply id="S2.Ex1.m1.3.3.3.1.1.1.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1"><eq id="S2.Ex1.m1.3.3.3.1.1.1.2.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1.2"></eq><apply id="S2.Ex1.m1.3.3.3.1.1.1.1.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1.1"><times id="S2.Ex1.m1.3.3.3.1.1.1.1.2.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1.1.2"></times><ci id="S2.Ex1.m1.3.3.3.1.1.1.1.3.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1.1.3">𝐴</ci><apply id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1">subscript</csymbol><ci id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.2.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.2">𝒟</ci><apply id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3"><minus id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3.1.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3"></minus><ci id="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3.2.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1.1.1.1.1.3.2">𝑟</ci></apply></apply></apply><ci id="S2.Ex1.m1.3.3.3.1.1.1.3.cmml" xref="S2.Ex1.m1.3.3.3.1.1.1.3">𝑂</ci></apply></apply></apply></apply></apply><apply id="S2.Ex1.m1.3.4.3.cmml" xref="S2.Ex1.m1.3.4.3"><minus id="S2.Ex1.m1.3.4.3.1.cmml" xref="S2.Ex1.m1.3.4.3.1"></minus><apply id="S2.Ex1.m1.3.4.3.2.cmml" xref="S2.Ex1.m1.3.4.3.2"><times id="S2.Ex1.m1.3.4.3.2.1.cmml" xref="S2.Ex1.m1.3.4.3.2.1"></times><ci id="S2.Ex1.m1.3.4.3.2.2.cmml" xref="S2.Ex1.m1.3.4.3.2.2">italic-ϵ</ci><ci id="S2.Ex1.m1.3.4.3.2.3a.cmml" xref="S2.Ex1.m1.3.4.3.2.3"><mtext id="S2.Ex1.m1.3.4.3.2.3.cmml" xref="S2.Ex1.m1.3.4.3.2.3"> with probability </mtext></ci><cn type="integer" id="S2.Ex1.m1.3.4.3.2.4.cmml" xref="S2.Ex1.m1.3.4.3.2.4">1</cn></apply><ci id="S2.Ex1.m1.3.4.3.3.cmml" xref="S2.Ex1.m1.3.4.3.3">𝛿</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1.m1.3c">\log{\frac{\text{P}[A(\mathcal{D})=O]}{\text{P}[A(\mathcal{D}_{-r})=O]}}&lt;\epsilon\text{ with probability }1-\delta</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S2.SS2.p3.8" class="ltx_p">Thus, <math id="S2.SS2.p3.6.m1.1" class="ltx_Math" alttext="\delta" display="inline"><semantics id="S2.SS2.p3.6.m1.1a"><mi id="S2.SS2.p3.6.m1.1.1" xref="S2.SS2.p3.6.m1.1.1.cmml">δ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.6.m1.1b"><ci id="S2.SS2.p3.6.m1.1.1.cmml" xref="S2.SS2.p3.6.m1.1.1">𝛿</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.6.m1.1c">\delta</annotation></semantics></math> represents the probability that the ratio of the probabilities for two neighboring datasets cannot be bounded by <math id="S2.SS2.p3.7.m2.1" class="ltx_Math" alttext="e^{\epsilon}" display="inline"><semantics id="S2.SS2.p3.7.m2.1a"><msup id="S2.SS2.p3.7.m2.1.1" xref="S2.SS2.p3.7.m2.1.1.cmml"><mi id="S2.SS2.p3.7.m2.1.1.2" xref="S2.SS2.p3.7.m2.1.1.2.cmml">e</mi><mi id="S2.SS2.p3.7.m2.1.1.3" xref="S2.SS2.p3.7.m2.1.1.3.cmml">ϵ</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.7.m2.1b"><apply id="S2.SS2.p3.7.m2.1.1.cmml" xref="S2.SS2.p3.7.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.7.m2.1.1.1.cmml" xref="S2.SS2.p3.7.m2.1.1">superscript</csymbol><ci id="S2.SS2.p3.7.m2.1.1.2.cmml" xref="S2.SS2.p3.7.m2.1.1.2">𝑒</ci><ci id="S2.SS2.p3.7.m2.1.1.3.cmml" xref="S2.SS2.p3.7.m2.1.1.3">italic-ϵ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.7.m2.1c">e^{\epsilon}</annotation></semantics></math>). Typically, values of <math id="S2.SS2.p3.8.m3.1" class="ltx_Math" alttext="\delta" display="inline"><semantics id="S2.SS2.p3.8.m3.1a"><mi id="S2.SS2.p3.8.m3.1.1" xref="S2.SS2.p3.8.m3.1.1.cmml">δ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.8.m3.1b"><ci id="S2.SS2.p3.8.m3.1.1.cmml" xref="S2.SS2.p3.8.m3.1.1">𝛿</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.8.m3.1c">\delta</annotation></semantics></math> that are less than the inverse of any polynomial in the size of the database are used.</p>
</div>
<div id="S2.SS2.p4" class="ltx_para">
<p id="S2.SS2.p4.1" class="ltx_p">There are three ways to apply differential privacy to Machine Learning: objective perturbation, gradient perturbation and output perturbation.
For deep learning applications, we can not derive sensitivity bounds for the objective and output and have to use gradient perturbation.
We use <span id="S2.SS2.p4.1.1" class="ltx_text ltx_font_typewriter">PyTorch</span>’s module <span id="S2.SS2.p4.1.2" class="ltx_text ltx_font_typewriter">Opacus</span>, that uses gradient perturbation with the advanced composition method. It injects noise at every iteration by using the gradient clipping technique <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> (see Algorithm <a href="#algorithm2" title="In -A Algorithms ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> in Appendix <a href="#A0.SS1" title="-A Algorithms ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">-A</span></span></a>).</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">Models and Methods</span>
</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS1.5.1.1" class="ltx_text">III-A</span> </span><span id="S3.SS1.6.2" class="ltx_text ltx_font_italic">Datasets and models</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">In this section, we shortly describe the datasets used for the numerical experiments, as well as the model used to classify them.</p>
</div>
<section id="S3.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S3.SS1.SSS1.5.1.1" class="ltx_text">III-A</span>1 </span>MNIST</h4>

<div id="S3.SS1.SSS1.p1" class="ltx_para">
<p id="S3.SS1.SSS1.p1.1" class="ltx_p">is a widely used database comprising thousands of <math id="S3.SS1.SSS1.p1.1.m1.1" class="ltx_Math" alttext="28\times 28" display="inline"><semantics id="S3.SS1.SSS1.p1.1.m1.1a"><mrow id="S3.SS1.SSS1.p1.1.m1.1.1" xref="S3.SS1.SSS1.p1.1.m1.1.1.cmml"><mn id="S3.SS1.SSS1.p1.1.m1.1.1.2" xref="S3.SS1.SSS1.p1.1.m1.1.1.2.cmml">28</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS1.p1.1.m1.1.1.1" xref="S3.SS1.SSS1.p1.1.m1.1.1.1.cmml">×</mo><mn id="S3.SS1.SSS1.p1.1.m1.1.1.3" xref="S3.SS1.SSS1.p1.1.m1.1.1.3.cmml">28</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.1.m1.1b"><apply id="S3.SS1.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS1.p1.1.m1.1.1"><times id="S3.SS1.SSS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.SSS1.p1.1.m1.1.1.1"></times><cn type="integer" id="S3.SS1.SSS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.SSS1.p1.1.m1.1.1.2">28</cn><cn type="integer" id="S3.SS1.SSS1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.SSS1.p1.1.m1.1.1.3">28</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.1.m1.1c">28\times 28</annotation></semantics></math> pixels images of 10 different handwritten digits (which means there are 10 different classes). The samples are randomly and equally distributed among clients, we say that the data is i.i.d.. We use the Convolution Neural Network (CNN) defined in the <span id="S3.SS1.SSS1.p1.1.1" class="ltx_text ltx_font_typewriter">PyTorch</span>’s examples GitHub repository <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>. 60 000 data points were used for training, and 10 000 for testing.</p>
</div>
</section>
<section id="S3.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S3.SS1.SSS2.5.1.1" class="ltx_text">III-A</span>2 </span>FEMNIST</h4>

<div id="S3.SS1.SSS2.p1" class="ltx_para">
<p id="S3.SS1.SSS2.p1.1" class="ltx_p">(from the LEAF benchmark <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>) is also a database consisting of <math id="S3.SS1.SSS2.p1.1.m1.1" class="ltx_Math" alttext="28\times 28" display="inline"><semantics id="S3.SS1.SSS2.p1.1.m1.1a"><mrow id="S3.SS1.SSS2.p1.1.m1.1.1" xref="S3.SS1.SSS2.p1.1.m1.1.1.cmml"><mn id="S3.SS1.SSS2.p1.1.m1.1.1.2" xref="S3.SS1.SSS2.p1.1.m1.1.1.2.cmml">28</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS2.p1.1.m1.1.1.1" xref="S3.SS1.SSS2.p1.1.m1.1.1.1.cmml">×</mo><mn id="S3.SS1.SSS2.p1.1.m1.1.1.3" xref="S3.SS1.SSS2.p1.1.m1.1.1.3.cmml">28</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p1.1.m1.1b"><apply id="S3.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1"><times id="S3.SS1.SSS2.p1.1.m1.1.1.1.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1.1"></times><cn type="integer" id="S3.SS1.SSS2.p1.1.m1.1.1.2.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1.2">28</cn><cn type="integer" id="S3.SS1.SSS2.p1.1.m1.1.1.3.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1.3">28</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p1.1.m1.1c">28\times 28</annotation></semantics></math> images of 10 different handwritten digits (letters are discarded). The difference between MNIST and FEMNIST datasets is that the partitioning of the data is now based on the writer of the digit. It means that the underlying distribution of data for each user is now consistent with the raw data, yielding a non-i.i.d. dataset. We use the same CNN, and same training/testing dataset sizes as for MNIST.</p>
</div>
</section>
<section id="S3.SS1.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S3.SS1.SSS3.5.1.1" class="ltx_text">III-A</span>3 </span>Medical dataset</h4>

<div id="S3.SS1.SSS3.p1" class="ltx_para">
<p id="S3.SS1.SSS3.p1.1" class="ltx_p">In order to tackle more realistic scenarios as explained in Section <a href="#S1" title="I Introduction ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>, we use a database of medical records of 120 patients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>. The aim is to predict whether patients suffer from inflammation of urinary bladder and/or nephritis of renal pelvis origin. In this work, we focus on the pathology. The medical data is randomly split onto the clients, representing hospitals. There are 6 attributes, namely temperature of the patient, occurrence of nausea, lumbar pain, urine pushing, micturition pains, and burning of urethra, itch, swelling of urethra outlet. We used logistic regression to tackle this classification problem. 96 data points were used for training, and 24 for testing.</p>
</div>
</section>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS2.5.1.1" class="ltx_text">III-B</span> </span><span id="S3.SS2.6.2" class="ltx_text ltx_font_italic">Experimental setup</span>
</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">The parameters for the experiments are set as follows:
The learning rate of SGD is set to <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="0.01" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mn id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">0.01</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><cn type="float" id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">0.01</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">0.01</annotation></semantics></math>. The number of client epochs per round is set to 1 (to avoid the clients falling in different local minima) for the MNIST and FEMNIST database, 100 for the medical dataset.
The number of global rounds is set to 30. We set the batch size of all clients to 128 for MNIST and FEMNIST, and 8 for the medical dataset.</p>
</div>
<section id="S3.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S3.SS2.SSS1.5.1.1" class="ltx_text">III-B</span>1 </span>First Experiment</h4>

<div id="S3.SS2.SSS1.p1" class="ltx_para">
<p id="S3.SS2.SSS1.p1.1" class="ltx_p">In order to see the impact of federated learning, we will leave all training parameters fixed and perform federated learning for <math id="S3.SS2.SSS1.p1.1.m1.3" class="ltx_Math" alttext="\texttt{nr\_clients}\in\{1,5,10\}" display="inline"><semantics id="S3.SS2.SSS1.p1.1.m1.3a"><mrow id="S3.SS2.SSS1.p1.1.m1.3.4" xref="S3.SS2.SSS1.p1.1.m1.3.4.cmml"><mtext class="ltx_mathvariant_monospace" id="S3.SS2.SSS1.p1.1.m1.3.4.2" xref="S3.SS2.SSS1.p1.1.m1.3.4.2a.cmml">nr_clients</mtext><mo id="S3.SS2.SSS1.p1.1.m1.3.4.1" xref="S3.SS2.SSS1.p1.1.m1.3.4.1.cmml">∈</mo><mrow id="S3.SS2.SSS1.p1.1.m1.3.4.3.2" xref="S3.SS2.SSS1.p1.1.m1.3.4.3.1.cmml"><mo stretchy="false" id="S3.SS2.SSS1.p1.1.m1.3.4.3.2.1" xref="S3.SS2.SSS1.p1.1.m1.3.4.3.1.cmml">{</mo><mn id="S3.SS2.SSS1.p1.1.m1.1.1" xref="S3.SS2.SSS1.p1.1.m1.1.1.cmml">1</mn><mo id="S3.SS2.SSS1.p1.1.m1.3.4.3.2.2" xref="S3.SS2.SSS1.p1.1.m1.3.4.3.1.cmml">,</mo><mn id="S3.SS2.SSS1.p1.1.m1.2.2" xref="S3.SS2.SSS1.p1.1.m1.2.2.cmml">5</mn><mo id="S3.SS2.SSS1.p1.1.m1.3.4.3.2.3" xref="S3.SS2.SSS1.p1.1.m1.3.4.3.1.cmml">,</mo><mn id="S3.SS2.SSS1.p1.1.m1.3.3" xref="S3.SS2.SSS1.p1.1.m1.3.3.cmml">10</mn><mo stretchy="false" id="S3.SS2.SSS1.p1.1.m1.3.4.3.2.4" xref="S3.SS2.SSS1.p1.1.m1.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.1.m1.3b"><apply id="S3.SS2.SSS1.p1.1.m1.3.4.cmml" xref="S3.SS2.SSS1.p1.1.m1.3.4"><in id="S3.SS2.SSS1.p1.1.m1.3.4.1.cmml" xref="S3.SS2.SSS1.p1.1.m1.3.4.1"></in><ci id="S3.SS2.SSS1.p1.1.m1.3.4.2a.cmml" xref="S3.SS2.SSS1.p1.1.m1.3.4.2"><mtext class="ltx_mathvariant_monospace" id="S3.SS2.SSS1.p1.1.m1.3.4.2.cmml" xref="S3.SS2.SSS1.p1.1.m1.3.4.2">nr_clients</mtext></ci><set id="S3.SS2.SSS1.p1.1.m1.3.4.3.1.cmml" xref="S3.SS2.SSS1.p1.1.m1.3.4.3.2"><cn type="integer" id="S3.SS2.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1">1</cn><cn type="integer" id="S3.SS2.SSS1.p1.1.m1.2.2.cmml" xref="S3.SS2.SSS1.p1.1.m1.2.2">5</cn><cn type="integer" id="S3.SS2.SSS1.p1.1.m1.3.3.cmml" xref="S3.SS2.SSS1.p1.1.m1.3.3">10</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.1.m1.3c">\texttt{nr\_clients}\in\{1,5,10\}</annotation></semantics></math> Note that the amount of data points remains constant but more distributed.</p>
</div>
</section>
<section id="S3.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S3.SS2.SSS2.5.1.1" class="ltx_text">III-B</span>2 </span>Second Experiment</h4>

<div id="S3.SS2.SSS2.p1" class="ltx_para">
<p id="S3.SS2.SSS2.p1.6" class="ltx_p">We reuse the previous training setting, but fix <math id="S3.SS2.SSS2.p1.1.m1.1" class="ltx_Math" alttext="\texttt{nr\_clients}=10" display="inline"><semantics id="S3.SS2.SSS2.p1.1.m1.1a"><mrow id="S3.SS2.SSS2.p1.1.m1.1.1" xref="S3.SS2.SSS2.p1.1.m1.1.1.cmml"><mtext class="ltx_mathvariant_monospace" id="S3.SS2.SSS2.p1.1.m1.1.1.2" xref="S3.SS2.SSS2.p1.1.m1.1.1.2a.cmml">nr_clients</mtext><mo id="S3.SS2.SSS2.p1.1.m1.1.1.1" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.cmml">=</mo><mn id="S3.SS2.SSS2.p1.1.m1.1.1.3" xref="S3.SS2.SSS2.p1.1.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.1.m1.1b"><apply id="S3.SS2.SSS2.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1"><eq id="S3.SS2.SSS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1"></eq><ci id="S3.SS2.SSS2.p1.1.m1.1.1.2a.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.2"><mtext class="ltx_mathvariant_monospace" id="S3.SS2.SSS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.2">nr_clients</mtext></ci><cn type="integer" id="S3.SS2.SSS2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.1.m1.1c">\texttt{nr\_clients}=10</annotation></semantics></math>.
Now, we want to analyze the effect of differential privacy on performance and convergence.
We set the clipping threshold of the gradient to <math id="S3.SS2.SSS2.p1.2.m2.1" class="ltx_Math" alttext="1.2" display="inline"><semantics id="S3.SS2.SSS2.p1.2.m2.1a"><mn id="S3.SS2.SSS2.p1.2.m2.1.1" xref="S3.SS2.SSS2.p1.2.m2.1.1.cmml">1.2</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.2.m2.1b"><cn type="float" id="S3.SS2.SSS2.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p1.2.m2.1.1">1.2</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.2.m2.1c">1.2</annotation></semantics></math>.
We set the privacy parameter <math id="S3.SS2.SSS2.p1.3.m3.1" class="ltx_Math" alttext="\delta" display="inline"><semantics id="S3.SS2.SSS2.p1.3.m3.1a"><mi id="S3.SS2.SSS2.p1.3.m3.1.1" xref="S3.SS2.SSS2.p1.3.m3.1.1.cmml">δ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.3.m3.1b"><ci id="S3.SS2.SSS2.p1.3.m3.1.1.cmml" xref="S3.SS2.SSS2.p1.3.m3.1.1">𝛿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.3.m3.1c">\delta</annotation></semantics></math> to <math id="S3.SS2.SSS2.p1.4.m4.1" class="ltx_Math" alttext="\frac{1}{2n}" display="inline"><semantics id="S3.SS2.SSS2.p1.4.m4.1a"><mfrac id="S3.SS2.SSS2.p1.4.m4.1.1" xref="S3.SS2.SSS2.p1.4.m4.1.1.cmml"><mn id="S3.SS2.SSS2.p1.4.m4.1.1.2" xref="S3.SS2.SSS2.p1.4.m4.1.1.2.cmml">1</mn><mrow id="S3.SS2.SSS2.p1.4.m4.1.1.3" xref="S3.SS2.SSS2.p1.4.m4.1.1.3.cmml"><mn id="S3.SS2.SSS2.p1.4.m4.1.1.3.2" xref="S3.SS2.SSS2.p1.4.m4.1.1.3.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S3.SS2.SSS2.p1.4.m4.1.1.3.1" xref="S3.SS2.SSS2.p1.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS2.SSS2.p1.4.m4.1.1.3.3" xref="S3.SS2.SSS2.p1.4.m4.1.1.3.3.cmml">n</mi></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.4.m4.1b"><apply id="S3.SS2.SSS2.p1.4.m4.1.1.cmml" xref="S3.SS2.SSS2.p1.4.m4.1.1"><divide id="S3.SS2.SSS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.SSS2.p1.4.m4.1.1"></divide><cn type="integer" id="S3.SS2.SSS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.SSS2.p1.4.m4.1.1.2">1</cn><apply id="S3.SS2.SSS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.SSS2.p1.4.m4.1.1.3"><times id="S3.SS2.SSS2.p1.4.m4.1.1.3.1.cmml" xref="S3.SS2.SSS2.p1.4.m4.1.1.3.1"></times><cn type="integer" id="S3.SS2.SSS2.p1.4.m4.1.1.3.2.cmml" xref="S3.SS2.SSS2.p1.4.m4.1.1.3.2">2</cn><ci id="S3.SS2.SSS2.p1.4.m4.1.1.3.3.cmml" xref="S3.SS2.SSS2.p1.4.m4.1.1.3.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.4.m4.1c">\frac{1}{2n}</annotation></semantics></math>.
We compare the training loss and final accuracy with various protection levels for 10 clients, using <math id="S3.SS2.SSS2.p1.5.m5.3" class="ltx_Math" alttext="\epsilon\in\{10,50,100\}" display="inline"><semantics id="S3.SS2.SSS2.p1.5.m5.3a"><mrow id="S3.SS2.SSS2.p1.5.m5.3.4" xref="S3.SS2.SSS2.p1.5.m5.3.4.cmml"><mi id="S3.SS2.SSS2.p1.5.m5.3.4.2" xref="S3.SS2.SSS2.p1.5.m5.3.4.2.cmml">ϵ</mi><mo id="S3.SS2.SSS2.p1.5.m5.3.4.1" xref="S3.SS2.SSS2.p1.5.m5.3.4.1.cmml">∈</mo><mrow id="S3.SS2.SSS2.p1.5.m5.3.4.3.2" xref="S3.SS2.SSS2.p1.5.m5.3.4.3.1.cmml"><mo stretchy="false" id="S3.SS2.SSS2.p1.5.m5.3.4.3.2.1" xref="S3.SS2.SSS2.p1.5.m5.3.4.3.1.cmml">{</mo><mn id="S3.SS2.SSS2.p1.5.m5.1.1" xref="S3.SS2.SSS2.p1.5.m5.1.1.cmml">10</mn><mo id="S3.SS2.SSS2.p1.5.m5.3.4.3.2.2" xref="S3.SS2.SSS2.p1.5.m5.3.4.3.1.cmml">,</mo><mn id="S3.SS2.SSS2.p1.5.m5.2.2" xref="S3.SS2.SSS2.p1.5.m5.2.2.cmml">50</mn><mo id="S3.SS2.SSS2.p1.5.m5.3.4.3.2.3" xref="S3.SS2.SSS2.p1.5.m5.3.4.3.1.cmml">,</mo><mn id="S3.SS2.SSS2.p1.5.m5.3.3" xref="S3.SS2.SSS2.p1.5.m5.3.3.cmml">100</mn><mo stretchy="false" id="S3.SS2.SSS2.p1.5.m5.3.4.3.2.4" xref="S3.SS2.SSS2.p1.5.m5.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.5.m5.3b"><apply id="S3.SS2.SSS2.p1.5.m5.3.4.cmml" xref="S3.SS2.SSS2.p1.5.m5.3.4"><in id="S3.SS2.SSS2.p1.5.m5.3.4.1.cmml" xref="S3.SS2.SSS2.p1.5.m5.3.4.1"></in><ci id="S3.SS2.SSS2.p1.5.m5.3.4.2.cmml" xref="S3.SS2.SSS2.p1.5.m5.3.4.2">italic-ϵ</ci><set id="S3.SS2.SSS2.p1.5.m5.3.4.3.1.cmml" xref="S3.SS2.SSS2.p1.5.m5.3.4.3.2"><cn type="integer" id="S3.SS2.SSS2.p1.5.m5.1.1.cmml" xref="S3.SS2.SSS2.p1.5.m5.1.1">10</cn><cn type="integer" id="S3.SS2.SSS2.p1.5.m5.2.2.cmml" xref="S3.SS2.SSS2.p1.5.m5.2.2">50</cn><cn type="integer" id="S3.SS2.SSS2.p1.5.m5.3.3.cmml" xref="S3.SS2.SSS2.p1.5.m5.3.3">100</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.5.m5.3c">\epsilon\in\{10,50,100\}</annotation></semantics></math>. Every round, every client uses a privacy budget of <math id="S3.SS2.SSS2.p1.6.m6.1" class="ltx_Math" alttext="\frac{\epsilon}{\texttt{nr\_rounds}}" display="inline"><semantics id="S3.SS2.SSS2.p1.6.m6.1a"><mfrac id="S3.SS2.SSS2.p1.6.m6.1.1" xref="S3.SS2.SSS2.p1.6.m6.1.1.cmml"><mi id="S3.SS2.SSS2.p1.6.m6.1.1.2" xref="S3.SS2.SSS2.p1.6.m6.1.1.2.cmml">ϵ</mi><mtext class="ltx_mathvariant_monospace" id="S3.SS2.SSS2.p1.6.m6.1.1.3" xref="S3.SS2.SSS2.p1.6.m6.1.1.3a.cmml">nr_rounds</mtext></mfrac><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.6.m6.1b"><apply id="S3.SS2.SSS2.p1.6.m6.1.1.cmml" xref="S3.SS2.SSS2.p1.6.m6.1.1"><divide id="S3.SS2.SSS2.p1.6.m6.1.1.1.cmml" xref="S3.SS2.SSS2.p1.6.m6.1.1"></divide><ci id="S3.SS2.SSS2.p1.6.m6.1.1.2.cmml" xref="S3.SS2.SSS2.p1.6.m6.1.1.2">italic-ϵ</ci><ci id="S3.SS2.SSS2.p1.6.m6.1.1.3a.cmml" xref="S3.SS2.SSS2.p1.6.m6.1.1.3"><mtext class="ltx_mathvariant_monospace" mathsize="70%" id="S3.SS2.SSS2.p1.6.m6.1.1.3.cmml" xref="S3.SS2.SSS2.p1.6.m6.1.1.3">nr_rounds</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.6.m6.1c">\frac{\epsilon}{\texttt{nr\_rounds}}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.SSS2.p2" class="ltx_para">
<p id="S3.SS2.SSS2.p2.1" class="ltx_p">We report the testing accuracy of the global model, as well as its loss for every training round.</p>
</div>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">Results</span>
</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS1.5.1.1" class="ltx_text">IV-A</span> </span><span id="S4.SS1.6.2" class="ltx_text ltx_font_italic">MNIST</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">Results of the first experiment are shown in Figure <a href="#S4.F1.sf1" title="In Figure 1 ‣ IV-A MNIST ‣ IV Results ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1a</span></a>, and results of the second experiment are shown in Figure <a href="#S4.F1.sf2" title="In Figure 1 ‣ IV-A MNIST ‣ IV Results ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1b</span></a>.</p>
</div>
<figure id="S4.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F1.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2402.02230/assets/x1.png" id="S4.F1.sf1.g1" class="ltx_graphics ltx_img_square" width="221" height="221" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>Accuracy and loss for different numbers of clients.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F1.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2402.02230/assets/x2.png" id="S4.F1.sf2.g1" class="ltx_graphics ltx_img_square" width="221" height="221" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Accuracy and loss for different values of <math id="S4.F1.sf2.2.m1.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S4.F1.sf2.2.m1.1b"><mi id="S4.F1.sf2.2.m1.1.1" xref="S4.F1.sf2.2.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S4.F1.sf2.2.m1.1c"><ci id="S4.F1.sf2.2.m1.1.1.cmml" xref="S4.F1.sf2.2.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F1.sf2.2.m1.1d">\epsilon</annotation></semantics></math>, with 10 clients.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>MNIST database</figcaption>
</figure>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">Concerning the first experiment, as expected, one can clearly observe that the more clients there are, the slower the learning process.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.5" class="ltx_p">Regarding the second experiment, one can see that the learning is faster when we go from a privacy budget of <math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="\epsilon=10" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><mrow id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml"><mi id="S4.SS1.p3.1.m1.1.1.2" xref="S4.SS1.p3.1.m1.1.1.2.cmml">ϵ</mi><mo id="S4.SS1.p3.1.m1.1.1.1" xref="S4.SS1.p3.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.p3.1.m1.1.1.3" xref="S4.SS1.p3.1.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><apply id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1"><eq id="S4.SS1.p3.1.m1.1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1.1"></eq><ci id="S4.SS1.p3.1.m1.1.1.2.cmml" xref="S4.SS1.p3.1.m1.1.1.2">italic-ϵ</ci><cn type="integer" id="S4.SS1.p3.1.m1.1.1.3.cmml" xref="S4.SS1.p3.1.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">\epsilon=10</annotation></semantics></math> to <math id="S4.SS1.p3.2.m2.1" class="ltx_Math" alttext="\epsilon=50" display="inline"><semantics id="S4.SS1.p3.2.m2.1a"><mrow id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml"><mi id="S4.SS1.p3.2.m2.1.1.2" xref="S4.SS1.p3.2.m2.1.1.2.cmml">ϵ</mi><mo id="S4.SS1.p3.2.m2.1.1.1" xref="S4.SS1.p3.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS1.p3.2.m2.1.1.3" xref="S4.SS1.p3.2.m2.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b"><apply id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1"><eq id="S4.SS1.p3.2.m2.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1"></eq><ci id="S4.SS1.p3.2.m2.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.2">italic-ϵ</ci><cn type="integer" id="S4.SS1.p3.2.m2.1.1.3.cmml" xref="S4.SS1.p3.2.m2.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">\epsilon=50</annotation></semantics></math>. The same observation can be made for the transition from <math id="S4.SS1.p3.3.m3.1" class="ltx_Math" alttext="\epsilon=50" display="inline"><semantics id="S4.SS1.p3.3.m3.1a"><mrow id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml"><mi id="S4.SS1.p3.3.m3.1.1.2" xref="S4.SS1.p3.3.m3.1.1.2.cmml">ϵ</mi><mo id="S4.SS1.p3.3.m3.1.1.1" xref="S4.SS1.p3.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS1.p3.3.m3.1.1.3" xref="S4.SS1.p3.3.m3.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.1b"><apply id="S4.SS1.p3.3.m3.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1"><eq id="S4.SS1.p3.3.m3.1.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1.1"></eq><ci id="S4.SS1.p3.3.m3.1.1.2.cmml" xref="S4.SS1.p3.3.m3.1.1.2">italic-ϵ</ci><cn type="integer" id="S4.SS1.p3.3.m3.1.1.3.cmml" xref="S4.SS1.p3.3.m3.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.3.m3.1c">\epsilon=50</annotation></semantics></math> to <math id="S4.SS1.p3.4.m4.1" class="ltx_Math" alttext="\epsilon=100" display="inline"><semantics id="S4.SS1.p3.4.m4.1a"><mrow id="S4.SS1.p3.4.m4.1.1" xref="S4.SS1.p3.4.m4.1.1.cmml"><mi id="S4.SS1.p3.4.m4.1.1.2" xref="S4.SS1.p3.4.m4.1.1.2.cmml">ϵ</mi><mo id="S4.SS1.p3.4.m4.1.1.1" xref="S4.SS1.p3.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS1.p3.4.m4.1.1.3" xref="S4.SS1.p3.4.m4.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.4.m4.1b"><apply id="S4.SS1.p3.4.m4.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1"><eq id="S4.SS1.p3.4.m4.1.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1.1"></eq><ci id="S4.SS1.p3.4.m4.1.1.2.cmml" xref="S4.SS1.p3.4.m4.1.1.2">italic-ϵ</ci><cn type="integer" id="S4.SS1.p3.4.m4.1.1.3.cmml" xref="S4.SS1.p3.4.m4.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.4.m4.1c">\epsilon=100</annotation></semantics></math> by looking at the testing loss graph. However, we can observe that the improvement is not proportional to <math id="S4.SS1.p3.5.m5.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S4.SS1.p3.5.m5.1a"><mi id="S4.SS1.p3.5.m5.1.1" xref="S4.SS1.p3.5.m5.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.5.m5.1b"><ci id="S4.SS1.p3.5.m5.1.1.cmml" xref="S4.SS1.p3.5.m5.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.5.m5.1c">\epsilon</annotation></semantics></math> since we observe a less important change for the second transition. The three privacy setups lead to the same final accuracy though.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.3" class="ltx_p">Finally, one can observe on Figure <a href="#S4.F1.sf1" title="In Figure 1 ‣ IV-A MNIST ‣ IV Results ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1a</span></a> and Figure <a href="#S4.F1.sf2" title="In Figure 1 ‣ IV-A MNIST ‣ IV Results ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1b</span></a> the difference of convergence of SGD with and without privacy in a federated learning context. Without privacy, SGD achieves more than <math id="S4.SS1.p4.1.m1.1.1.m1.3" class="ltx_markedasmath" alttext="95\text{\,}\mathrm{\char 37\relax}" display="inline"><semantics id="S4.SS1.p4.1.m1.1.1.m1.3a"><mrow id="S4.SS1.p4.1.m1.1.1.m1.3.3" xref="S4.SS1.p4.1.m1.1.1.m1.3.3.cmml"><mn id="S4.SS1.p4.1.m1.1.1.m1.1.1.1.1.1.1" xref="S4.SS1.p4.1.m1.1.1.m1.1.1.1.1.1.1.cmml">95</mn><mtext id="S4.SS1.p4.1.m1.1.1.m1.2.2.2.2.2.2" xref="S4.SS1.p4.1.m1.1.1.m1.2.2.2.2.2.2.cmml"> </mtext><mi class="ltx_unit" mathvariant="normal" id="S4.SS1.p4.1.m1.1.1.m1.3.3.3.3.3.3" xref="S4.SS1.p4.1.m1.1.1.m1.3.3.3.3.3.3.cmml">%</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1.1.m1.3b"><apply id="S4.SS1.p4.1.m1.1.1.m1.3.3.cmml" xref="S4.SS1.p4.1.m1.1.1.m1.3.3"><csymbol cd="latexml" id="S4.SS1.p4.1.m1.1.1.m1.2.2.2.2.2.2.cmml" xref="S4.SS1.p4.1.m1.1.1.m1.2.2.2.2.2.2">times</csymbol><cn type="integer" id="S4.SS1.p4.1.m1.1.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1.m1.1.1.1.1.1.1">95</cn><csymbol cd="latexml" id="S4.SS1.p4.1.m1.1.1.m1.3.3.3.3.3.3.cmml" xref="S4.SS1.p4.1.m1.1.1.m1.3.3.3.3.3.3">percent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1.1.m1.3c">95\text{\,}\mathrm{\char 37\relax}</annotation></semantics></math> of testing accuracy, while only <math id="S4.SS1.p4.2.m2.1.1.m1.3" class="ltx_markedasmath" alttext="75\text{\,}\mathrm{\char 37\relax}" display="inline"><semantics id="S4.SS1.p4.2.m2.1.1.m1.3a"><mrow id="S4.SS1.p4.2.m2.1.1.m1.3.3" xref="S4.SS1.p4.2.m2.1.1.m1.3.3.cmml"><mn id="S4.SS1.p4.2.m2.1.1.m1.1.1.1.1.1.1" xref="S4.SS1.p4.2.m2.1.1.m1.1.1.1.1.1.1.cmml">75</mn><mtext id="S4.SS1.p4.2.m2.1.1.m1.2.2.2.2.2.2" xref="S4.SS1.p4.2.m2.1.1.m1.2.2.2.2.2.2.cmml"> </mtext><mi class="ltx_unit" mathvariant="normal" id="S4.SS1.p4.2.m2.1.1.m1.3.3.3.3.3.3" xref="S4.SS1.p4.2.m2.1.1.m1.3.3.3.3.3.3.cmml">%</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.2.m2.1.1.m1.3b"><apply id="S4.SS1.p4.2.m2.1.1.m1.3.3.cmml" xref="S4.SS1.p4.2.m2.1.1.m1.3.3"><csymbol cd="latexml" id="S4.SS1.p4.2.m2.1.1.m1.2.2.2.2.2.2.cmml" xref="S4.SS1.p4.2.m2.1.1.m1.2.2.2.2.2.2">times</csymbol><cn type="integer" id="S4.SS1.p4.2.m2.1.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1.m1.1.1.1.1.1.1">75</cn><csymbol cd="latexml" id="S4.SS1.p4.2.m2.1.1.m1.3.3.3.3.3.3.cmml" xref="S4.SS1.p4.2.m2.1.1.m1.3.3.3.3.3.3">percent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.2.m2.1.1.m1.3c">75\text{\,}\mathrm{\char 37\relax}</annotation></semantics></math> with privacy, even with a large privacy budget such as <math id="S4.SS1.p4.3.m3.1" class="ltx_Math" alttext="\epsilon=100" display="inline"><semantics id="S4.SS1.p4.3.m3.1a"><mrow id="S4.SS1.p4.3.m3.1.1" xref="S4.SS1.p4.3.m3.1.1.cmml"><mi id="S4.SS1.p4.3.m3.1.1.2" xref="S4.SS1.p4.3.m3.1.1.2.cmml">ϵ</mi><mo id="S4.SS1.p4.3.m3.1.1.1" xref="S4.SS1.p4.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS1.p4.3.m3.1.1.3" xref="S4.SS1.p4.3.m3.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.3.m3.1b"><apply id="S4.SS1.p4.3.m3.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1"><eq id="S4.SS1.p4.3.m3.1.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1.1"></eq><ci id="S4.SS1.p4.3.m3.1.1.2.cmml" xref="S4.SS1.p4.3.m3.1.1.2">italic-ϵ</ci><cn type="integer" id="S4.SS1.p4.3.m3.1.1.3.cmml" xref="S4.SS1.p4.3.m3.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.3.m3.1c">\epsilon=100</annotation></semantics></math>.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS2.5.1.1" class="ltx_text">IV-B</span> </span><span id="S4.SS2.6.2" class="ltx_text ltx_font_italic">FEMNIST</span>
</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Results can be founds in Figure <a href="#S4.F2.sf1" title="In Figure 2 ‣ IV-B FEMNIST ‣ IV Results ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2a</span></a> and Figure <a href="#S4.F2.sf2" title="In Figure 2 ‣ IV-B FEMNIST ‣ IV Results ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2b</span></a>.</p>
</div>
<figure id="S4.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F2.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2402.02230/assets/x3.png" id="S4.F2.sf1.g1" class="ltx_graphics ltx_img_square" width="221" height="221" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>Accuracy and loss for different numbers of clients for the FEMNIST database.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F2.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2402.02230/assets/x4.png" id="S4.F2.sf2.g1" class="ltx_graphics ltx_img_square" width="221" height="221" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Accuracy and loss for different values of <math id="S4.F2.sf2.2.m1.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S4.F2.sf2.2.m1.1b"><mi id="S4.F2.sf2.2.m1.1.1" xref="S4.F2.sf2.2.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S4.F2.sf2.2.m1.1c"><ci id="S4.F2.sf2.2.m1.1.1.cmml" xref="S4.F2.sf2.2.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.sf2.2.m1.1d">\epsilon</annotation></semantics></math>, with 10 clients for the FEMNIST database.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>FEMNIST database</figcaption>
</figure>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">We enlighten two main differences compared to Section <a href="#S4.SS1" title="IV-A MNIST ‣ IV Results ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">IV-A</span></span></a>:</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p">1) While a single client achieves similar accuracy to the regular MNIST dataset, the algorithm takes more global training rounds to converge with an increasing number of clients. After 100 rounds the test accuracy of all models reaches around 98%.</p>
</div>
<div id="S4.SS2.p4" class="ltx_para">
<p id="S4.SS2.p4.1" class="ltx_p">2) When using DP the training process does not really converge anymore, not leading to a viable model for FEMNIST.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS3.5.1.1" class="ltx_text">IV-C</span> </span><span id="S4.SS3.6.2" class="ltx_text ltx_font_italic">Medical dataset</span>
</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">Results can be found on Figure <a href="#S4.F3.sf1" title="In Figure 3 ‣ IV-C Medical dataset ‣ IV Results ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3a</span></a> and Figure <a href="#S4.F3.sf2" title="In Figure 3 ‣ IV-C Medical dataset ‣ IV Results ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3b</span></a>.</p>
</div>
<figure id="S4.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F3.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2402.02230/assets/x5.png" id="S4.F3.sf1.g1" class="ltx_graphics ltx_img_square" width="221" height="221" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>Accuracy and loss for different numbers of clients for the medical database.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F3.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2402.02230/assets/x6.png" id="S4.F3.sf2.g1" class="ltx_graphics ltx_img_square" width="221" height="221" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Accuracy and loss for different values of <math id="S4.F3.sf2.2.m1.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S4.F3.sf2.2.m1.1b"><mi id="S4.F3.sf2.2.m1.1.1" xref="S4.F3.sf2.2.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S4.F3.sf2.2.m1.1c"><ci id="S4.F3.sf2.2.m1.1.1.cmml" xref="S4.F3.sf2.2.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.sf2.2.m1.1d">\epsilon</annotation></semantics></math>, with 10 clients for the medical database.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Medical database</figcaption>
</figure>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p">Again, we enlighten some differences compared to Section <a href="#S4.SS1" title="IV-A MNIST ‣ IV Results ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">IV-A</span></span></a>.</p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.1" class="ltx_p">1) Training shows higher variance with more clients, but all manage to converge.</p>
</div>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.1" class="ltx_p">2) Adding differential privacy, the model accuracy does not get any better. Only for <math id="S4.SS3.p4.1.m1.1" class="ltx_Math" alttext="\epsilon=10" display="inline"><semantics id="S4.SS3.p4.1.m1.1a"><mrow id="S4.SS3.p4.1.m1.1.1" xref="S4.SS3.p4.1.m1.1.1.cmml"><mi id="S4.SS3.p4.1.m1.1.1.2" xref="S4.SS3.p4.1.m1.1.1.2.cmml">ϵ</mi><mo id="S4.SS3.p4.1.m1.1.1.1" xref="S4.SS3.p4.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS3.p4.1.m1.1.1.3" xref="S4.SS3.p4.1.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.1.m1.1b"><apply id="S4.SS3.p4.1.m1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1"><eq id="S4.SS3.p4.1.m1.1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1.1"></eq><ci id="S4.SS3.p4.1.m1.1.1.2.cmml" xref="S4.SS3.p4.1.m1.1.1.2">italic-ϵ</ci><cn type="integer" id="S4.SS3.p4.1.m1.1.1.3.cmml" xref="S4.SS3.p4.1.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.1.m1.1c">\epsilon=10</annotation></semantics></math> the loss decreases, indicating that the global model is improving.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Discussion</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this section we will discuss the results in Section <a href="#S4" title="IV Results ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a> and mention further improvements.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p">During the experiments, we clearly observed the trade-off between privacy and utility. Since, participating clients only optimize using their own data, they can end up in different local minima, making the global model sub-optimal. This leads to a generally slower convergence with a higher number of clients.</p>
</div>
<div id="S5.p3" class="ltx_para">
<p id="S5.p3.1" class="ltx_p">The experiments for the MNIST dataset show that adding noise and gradient clipping makes the maximal accuracy decrease around <math id="S5.p3.1.m1.1.1.m1.3" class="ltx_markedasmath" alttext="20\text{\,}\mathrm{\char 37\relax}" display="inline"><semantics id="S5.p3.1.m1.1.1.m1.3a"><mrow id="S5.p3.1.m1.1.1.m1.3.3" xref="S5.p3.1.m1.1.1.m1.3.3.cmml"><mn id="S5.p3.1.m1.1.1.m1.1.1.1.1.1.1" xref="S5.p3.1.m1.1.1.m1.1.1.1.1.1.1.cmml">20</mn><mtext id="S5.p3.1.m1.1.1.m1.2.2.2.2.2.2" xref="S5.p3.1.m1.1.1.m1.2.2.2.2.2.2.cmml"> </mtext><mi class="ltx_unit" mathvariant="normal" id="S5.p3.1.m1.1.1.m1.3.3.3.3.3.3" xref="S5.p3.1.m1.1.1.m1.3.3.3.3.3.3.cmml">%</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.p3.1.m1.1.1.m1.3b"><apply id="S5.p3.1.m1.1.1.m1.3.3.cmml" xref="S5.p3.1.m1.1.1.m1.3.3"><csymbol cd="latexml" id="S5.p3.1.m1.1.1.m1.2.2.2.2.2.2.cmml" xref="S5.p3.1.m1.1.1.m1.2.2.2.2.2.2">times</csymbol><cn type="integer" id="S5.p3.1.m1.1.1.m1.1.1.1.1.1.1.cmml" xref="S5.p3.1.m1.1.1.m1.1.1.1.1.1.1">20</cn><csymbol cd="latexml" id="S5.p3.1.m1.1.1.m1.3.3.3.3.3.3.cmml" xref="S5.p3.1.m1.1.1.m1.3.3.3.3.3.3">percent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p3.1.m1.1.1.m1.3c">20\text{\,}\mathrm{\char 37\relax}</annotation></semantics></math> for the same number of training rounds, even on i.i.d data. More clients might be needed to average out the noisy updates <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>.</p>
</div>
<div id="S5.p4" class="ltx_para">
<p id="S5.p4.1" class="ltx_p">When it comes to non-i.i.d data, distribution of data in silos makes the global model perform worse. A possible improvement would be to use a d-clique topology (decentralized learning) instead of classical centralized federated learning.</p>
</div>
<div id="S5.p5" class="ltx_para">
<p id="S5.p5.1" class="ltx_p">Regarding small datasets, i.e. more realistic datasets, the results are more worrying: training is more sensitive to DP mechanisms, making it very difficult to learn while effectively preserving privacy. Additionally, they have a higher variance during training.
We had to use bigger values than the standard <math id="S5.p5.1.m1.1" class="ltx_Math" alttext="\epsilon=0.1" display="inline"><semantics id="S5.p5.1.m1.1a"><mrow id="S5.p5.1.m1.1.1" xref="S5.p5.1.m1.1.1.cmml"><mi id="S5.p5.1.m1.1.1.2" xref="S5.p5.1.m1.1.1.2.cmml">ϵ</mi><mo id="S5.p5.1.m1.1.1.1" xref="S5.p5.1.m1.1.1.1.cmml">=</mo><mn id="S5.p5.1.m1.1.1.3" xref="S5.p5.1.m1.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.p5.1.m1.1b"><apply id="S5.p5.1.m1.1.1.cmml" xref="S5.p5.1.m1.1.1"><eq id="S5.p5.1.m1.1.1.1.cmml" xref="S5.p5.1.m1.1.1.1"></eq><ci id="S5.p5.1.m1.1.1.2.cmml" xref="S5.p5.1.m1.1.1.2">italic-ϵ</ci><cn type="float" id="S5.p5.1.m1.1.1.3.cmml" xref="S5.p5.1.m1.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.1.m1.1c">\epsilon=0.1</annotation></semantics></math>, because such a bound was too restrictive to compute a single mini-batch SGD iteration.</p>
</div>
<div id="S5.p6" class="ltx_para">
<p id="S5.p6.1" class="ltx_p">When it comes to limitations of our work, we have to note that we did not focus on hyperparameter tuning and used fix parameters that might not be optimal for the task. Additionally, there are other ways like fully homomorphic encryption (FHE) that protects the data from attacks by encrypting the model.</p>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VI </span><span id="S6.1.1" class="ltx_text ltx_font_smallcaps">Summary</span>
</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">We were able to show that models trained using federated machine learning are able to achieve similar accuracy as models trained on a centralized dataset. However, adding DP mechanisms to preserve the privacy of the data showed a rapid decrease of performance, especially for non-i.i.d or small datasets, which are much more realistic datasets.
</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
H. B. McMahan, E. Moore, D. Ramage, S. Hampson, and B. A. y Arcas,
“Communication-efficient learning of deep networks from decentralized
data,” 2017.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
R. C. Geyer, T. Klein, and M. Nabi, “Differentially private federated
learning: A client level perspective,” 2018.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
F. Tramèr and D. Boneh, “Differentially private learning needs better
features (or much more data),” 2021.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
K. Wei, J. Li, M. Ding, C. Ma, H. H. Yang, F. Farhad, S. Jin, T. Q. S. Quek,
and H. V. Poor, “Federated learning with differential privacy: Algorithms
and performance analysis,” 2019.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
M. Abadi, A. Chu, I. Goodfellow, H. B. McMahan, I. Mironov, K. Talwar, and
L. Zhang, “Deep learning with differential privacy,” <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Proceedings of
the 2016 ACM SIGSAC Conference on Computer and Communications Security</em>, Oct
2016. [Online]. Available: <a target="_blank" href="http://dx.doi.org/10.1145/2976749.2978318" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://dx.doi.org/10.1145/2976749.2978318</a>

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
“<span id="bib.bib6.1.1" class="ltx_text ltx_font_typewriter">PyTorch</span>’s <span id="bib.bib6.2.2" class="ltx_text">MNIST</span> example,”
<a target="_blank" href="https://github.com/pytorch/examples/tree/master/mnist" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/pytorch/examples/tree/master/mnist</a>, (Accessed on
06/09/2021).

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
S. Caldas, S. M. K. Duddu, P. Wu, T. Li, J. Konečný, H. B. McMahan, V. Smith,
and A. Talwalkar, “Leaf: A benchmark for federated settings,” 2019.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
“Uci machine learning repository: Acute inflammations data set,”
<a target="_blank" href="https://archive.ics.uci.edu/ml/datasets/Acute+Inflammations" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://archive.ics.uci.edu/ml/datasets/Acute+Inflammations</a>, (Accessed
on 06/09/2021).

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
T. Yu, E. Bagdasaryan, and V. Shmatikov, “Salvaging federated learning by
local adaptation,” 2020.

</span>
</li>
</ul>
</section>
<section id="A0.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="A0.SS1.5.1.1" class="ltx_text">-A</span> </span><span id="A0.SS1.6.2" class="ltx_text ltx_font_italic">Algorithms</span>
</h3>

<div id="A0.SS1.p1" class="ltx_para">
<p id="A0.SS1.p1.1" class="ltx_p">This section groups algorithms used to train global and client models, using differential privacy (see Section <a href="#S2" title="II Theoretical Background ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a> and Section <a href="#S2.SS2" title="II-B Differential Privacy ‣ II Theoretical Background ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">II-B</span></span></a>).</p>
</div>
<figure id="algorithm1" class="ltx_float ltx_algorithm">
<div id="algorithm1.6" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="algorithm1.6.7" class="ltx_listingline">
<span id="algorithm1.6.7.1" class="ltx_text"><span id="algorithm1.6.7.1.1" class="ltx_text ltx_font_bold">Result:</span> </span>Global model trained
</div>
<div id="algorithm1.1.1" class="ltx_listingline">
<span id="algorithm1.1.1.1" class="ltx_text ltx_font_bold">Initialize: </span> <math id="algorithm1.1.1.m1.1" class="ltx_Math" alttext="\boldsymbol{w^{0}}" display="inline"><semantics id="algorithm1.1.1.m1.1a"><msup id="algorithm1.1.1.m1.1.1" xref="algorithm1.1.1.m1.1.1.cmml"><mi id="algorithm1.1.1.m1.1.1.2" xref="algorithm1.1.1.m1.1.1.2.cmml">𝒘</mi><mn id="algorithm1.1.1.m1.1.1.3" xref="algorithm1.1.1.m1.1.1.3.cmml">𝟎</mn></msup><annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b"><apply id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.1.1.m1.1.1.1.cmml" xref="algorithm1.1.1.m1.1.1">superscript</csymbol><ci id="algorithm1.1.1.m1.1.1.2.cmml" xref="algorithm1.1.1.m1.1.1.2">𝒘</ci><cn type="integer" id="algorithm1.1.1.m1.1.1.3.cmml" xref="algorithm1.1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">\boldsymbol{w^{0}}</annotation></semantics></math> ;
</div>
<div id="algorithm1.2.2" class="ltx_listingline">
<span id="algorithm1.2.2.2" class="ltx_text ltx_font_bold">for</span> <em id="algorithm1.2.2.1" class="ltx_emph">each global round <math id="algorithm1.2.2.1.1.m1.3" class="ltx_Math" alttext="t=0,1,\dots" display="inline"><semantics id="algorithm1.2.2.1.1.m1.3a"><mrow id="algorithm1.2.2.1.1.m1.3.4" xref="algorithm1.2.2.1.1.m1.3.4.cmml"><mi id="algorithm1.2.2.1.1.m1.3.4.2" xref="algorithm1.2.2.1.1.m1.3.4.2.cmml">t</mi><mo id="algorithm1.2.2.1.1.m1.3.4.1" xref="algorithm1.2.2.1.1.m1.3.4.1.cmml">=</mo><mrow id="algorithm1.2.2.1.1.m1.3.4.3.2" xref="algorithm1.2.2.1.1.m1.3.4.3.1.cmml"><mn id="algorithm1.2.2.1.1.m1.1.1" xref="algorithm1.2.2.1.1.m1.1.1.cmml">0</mn><mo id="algorithm1.2.2.1.1.m1.3.4.3.2.1" xref="algorithm1.2.2.1.1.m1.3.4.3.1.cmml">,</mo><mn id="algorithm1.2.2.1.1.m1.2.2" xref="algorithm1.2.2.1.1.m1.2.2.cmml">1</mn><mo id="algorithm1.2.2.1.1.m1.3.4.3.2.2" xref="algorithm1.2.2.1.1.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="algorithm1.2.2.1.1.m1.3.3" xref="algorithm1.2.2.1.1.m1.3.3.cmml">…</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.2.2.1.1.m1.3b"><apply id="algorithm1.2.2.1.1.m1.3.4.cmml" xref="algorithm1.2.2.1.1.m1.3.4"><eq id="algorithm1.2.2.1.1.m1.3.4.1.cmml" xref="algorithm1.2.2.1.1.m1.3.4.1"></eq><ci id="algorithm1.2.2.1.1.m1.3.4.2.cmml" xref="algorithm1.2.2.1.1.m1.3.4.2">𝑡</ci><list id="algorithm1.2.2.1.1.m1.3.4.3.1.cmml" xref="algorithm1.2.2.1.1.m1.3.4.3.2"><cn type="integer" id="algorithm1.2.2.1.1.m1.1.1.cmml" xref="algorithm1.2.2.1.1.m1.1.1">0</cn><cn type="integer" id="algorithm1.2.2.1.1.m1.2.2.cmml" xref="algorithm1.2.2.1.1.m1.2.2">1</cn><ci id="algorithm1.2.2.1.1.m1.3.3.cmml" xref="algorithm1.2.2.1.1.m1.3.3">…</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.2.1.1.m1.3c">t=0,1,\dots</annotation></semantics></math></em> <span id="algorithm1.2.2.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.3.3" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.3.3.2" class="ltx_text ltx_font_bold">for</span> <em id="algorithm1.3.3.1" class="ltx_emph">each client <math id="algorithm1.3.3.1.1.m1.2" class="ltx_Math" alttext="k\in\{1,\dots K\}" display="inline"><semantics id="algorithm1.3.3.1.1.m1.2a"><mrow id="algorithm1.3.3.1.1.m1.2.2" xref="algorithm1.3.3.1.1.m1.2.2.cmml"><mi id="algorithm1.3.3.1.1.m1.2.2.3" xref="algorithm1.3.3.1.1.m1.2.2.3.cmml">k</mi><mo id="algorithm1.3.3.1.1.m1.2.2.2" xref="algorithm1.3.3.1.1.m1.2.2.2.cmml">∈</mo><mrow id="algorithm1.3.3.1.1.m1.2.2.1.1" xref="algorithm1.3.3.1.1.m1.2.2.1.2.cmml"><mo stretchy="false" id="algorithm1.3.3.1.1.m1.2.2.1.1.2" xref="algorithm1.3.3.1.1.m1.2.2.1.2.cmml">{</mo><mn id="algorithm1.3.3.1.1.m1.1.1" xref="algorithm1.3.3.1.1.m1.1.1.cmml">1</mn><mo id="algorithm1.3.3.1.1.m1.2.2.1.1.3" xref="algorithm1.3.3.1.1.m1.2.2.1.2.cmml">,</mo><mrow id="algorithm1.3.3.1.1.m1.2.2.1.1.1" xref="algorithm1.3.3.1.1.m1.2.2.1.1.1.cmml"><mi mathvariant="normal" id="algorithm1.3.3.1.1.m1.2.2.1.1.1.2" xref="algorithm1.3.3.1.1.m1.2.2.1.1.1.2.cmml">…</mi><mo lspace="0em" rspace="0em" id="algorithm1.3.3.1.1.m1.2.2.1.1.1.1" xref="algorithm1.3.3.1.1.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.3.3.1.1.m1.2.2.1.1.1.3" xref="algorithm1.3.3.1.1.m1.2.2.1.1.1.3.cmml">K</mi></mrow><mo stretchy="false" id="algorithm1.3.3.1.1.m1.2.2.1.1.4" xref="algorithm1.3.3.1.1.m1.2.2.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.3.3.1.1.m1.2b"><apply id="algorithm1.3.3.1.1.m1.2.2.cmml" xref="algorithm1.3.3.1.1.m1.2.2"><in id="algorithm1.3.3.1.1.m1.2.2.2.cmml" xref="algorithm1.3.3.1.1.m1.2.2.2"></in><ci id="algorithm1.3.3.1.1.m1.2.2.3.cmml" xref="algorithm1.3.3.1.1.m1.2.2.3">𝑘</ci><set id="algorithm1.3.3.1.1.m1.2.2.1.2.cmml" xref="algorithm1.3.3.1.1.m1.2.2.1.1"><cn type="integer" id="algorithm1.3.3.1.1.m1.1.1.cmml" xref="algorithm1.3.3.1.1.m1.1.1">1</cn><apply id="algorithm1.3.3.1.1.m1.2.2.1.1.1.cmml" xref="algorithm1.3.3.1.1.m1.2.2.1.1.1"><times id="algorithm1.3.3.1.1.m1.2.2.1.1.1.1.cmml" xref="algorithm1.3.3.1.1.m1.2.2.1.1.1.1"></times><ci id="algorithm1.3.3.1.1.m1.2.2.1.1.1.2.cmml" xref="algorithm1.3.3.1.1.m1.2.2.1.1.1.2">…</ci><ci id="algorithm1.3.3.1.1.m1.2.2.1.1.1.3.cmml" xref="algorithm1.3.3.1.1.m1.2.2.1.1.1.3">𝐾</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.3.1.1.m1.2c">k\in\{1,\dots K\}</annotation></semantics></math></em> <span id="algorithm1.3.3.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.5.5" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.4.4.m1.1" class="ltx_Math" alttext="\boldsymbol{w_{k}^{t+1}}\leftarrow" display="inline"><semantics id="algorithm1.4.4.m1.1a"><mrow id="algorithm1.4.4.m1.1.1" xref="algorithm1.4.4.m1.1.1.cmml"><msubsup id="algorithm1.4.4.m1.1.1.2" xref="algorithm1.4.4.m1.1.1.2.cmml"><mi id="algorithm1.4.4.m1.1.1.2.2.2" xref="algorithm1.4.4.m1.1.1.2.2.2.cmml">𝒘</mi><mi id="algorithm1.4.4.m1.1.1.2.2.3" xref="algorithm1.4.4.m1.1.1.2.2.3.cmml">𝒌</mi><mrow id="algorithm1.4.4.m1.1.1.2.3" xref="algorithm1.4.4.m1.1.1.2.3.cmml"><mi id="algorithm1.4.4.m1.1.1.2.3.2" xref="algorithm1.4.4.m1.1.1.2.3.2.cmml">𝒕</mi><mo class="ltx_mathvariant_bold" mathvariant="bold" id="algorithm1.4.4.m1.1.1.2.3.1" xref="algorithm1.4.4.m1.1.1.2.3.1.cmml">+</mo><mn id="algorithm1.4.4.m1.1.1.2.3.3" xref="algorithm1.4.4.m1.1.1.2.3.3.cmml">𝟏</mn></mrow></msubsup><mo stretchy="false" id="algorithm1.4.4.m1.1.1.1" xref="algorithm1.4.4.m1.1.1.1.cmml">←</mo><mi id="algorithm1.4.4.m1.1.1.3" xref="algorithm1.4.4.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.4.4.m1.1b"><apply id="algorithm1.4.4.m1.1.1.cmml" xref="algorithm1.4.4.m1.1.1"><ci id="algorithm1.4.4.m1.1.1.1.cmml" xref="algorithm1.4.4.m1.1.1.1">←</ci><apply id="algorithm1.4.4.m1.1.1.2.cmml" xref="algorithm1.4.4.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.4.4.m1.1.1.2.1.cmml" xref="algorithm1.4.4.m1.1.1.2">superscript</csymbol><apply id="algorithm1.4.4.m1.1.1.2.2.cmml" xref="algorithm1.4.4.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.4.4.m1.1.1.2.2.1.cmml" xref="algorithm1.4.4.m1.1.1.2">subscript</csymbol><ci id="algorithm1.4.4.m1.1.1.2.2.2.cmml" xref="algorithm1.4.4.m1.1.1.2.2.2">𝒘</ci><ci id="algorithm1.4.4.m1.1.1.2.2.3.cmml" xref="algorithm1.4.4.m1.1.1.2.2.3">𝒌</ci></apply><apply id="algorithm1.4.4.m1.1.1.2.3.cmml" xref="algorithm1.4.4.m1.1.1.2.3"><plus id="algorithm1.4.4.m1.1.1.2.3.1.cmml" xref="algorithm1.4.4.m1.1.1.2.3.1"></plus><ci id="algorithm1.4.4.m1.1.1.2.3.2.cmml" xref="algorithm1.4.4.m1.1.1.2.3.2">𝒕</ci><cn type="integer" id="algorithm1.4.4.m1.1.1.2.3.3.cmml" xref="algorithm1.4.4.m1.1.1.2.3.3">1</cn></apply></apply><csymbol cd="latexml" id="algorithm1.4.4.m1.1.1.3.cmml" xref="algorithm1.4.4.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.4.m1.1c">\boldsymbol{w_{k}^{t+1}}\leftarrow</annotation></semantics></math> <span id="algorithm1.5.5.1" class="ltx_text ltx_font_typewriter">ClientUpdate</span>(<math id="algorithm1.5.5.m2.2" class="ltx_Math" alttext="k,\boldsymbol{w^{t}}" display="inline"><semantics id="algorithm1.5.5.m2.2a"><mrow id="algorithm1.5.5.m2.2.2.1" xref="algorithm1.5.5.m2.2.2.2.cmml"><mi id="algorithm1.5.5.m2.1.1" xref="algorithm1.5.5.m2.1.1.cmml">k</mi><mo id="algorithm1.5.5.m2.2.2.1.2" xref="algorithm1.5.5.m2.2.2.2.cmml">,</mo><msup id="algorithm1.5.5.m2.2.2.1.1" xref="algorithm1.5.5.m2.2.2.1.1.cmml"><mi id="algorithm1.5.5.m2.2.2.1.1.2" xref="algorithm1.5.5.m2.2.2.1.1.2.cmml">𝒘</mi><mi id="algorithm1.5.5.m2.2.2.1.1.3" xref="algorithm1.5.5.m2.2.2.1.1.3.cmml">𝒕</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.5.5.m2.2b"><list id="algorithm1.5.5.m2.2.2.2.cmml" xref="algorithm1.5.5.m2.2.2.1"><ci id="algorithm1.5.5.m2.1.1.cmml" xref="algorithm1.5.5.m2.1.1">𝑘</ci><apply id="algorithm1.5.5.m2.2.2.1.1.cmml" xref="algorithm1.5.5.m2.2.2.1.1"><csymbol cd="ambiguous" id="algorithm1.5.5.m2.2.2.1.1.1.cmml" xref="algorithm1.5.5.m2.2.2.1.1">superscript</csymbol><ci id="algorithm1.5.5.m2.2.2.1.1.2.cmml" xref="algorithm1.5.5.m2.2.2.1.1.2">𝒘</ci><ci id="algorithm1.5.5.m2.2.2.1.1.3.cmml" xref="algorithm1.5.5.m2.2.2.1.1.3">𝒕</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.5.m2.2c">k,\boldsymbol{w^{t}}</annotation></semantics></math>)

</div>
<div id="algorithm1.6.8" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="algorithm1.6.6" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="algorithm1.6.6.m1.1" class="ltx_Math" alttext="\boldsymbol{w^{t+1}}=\sum_{k=1}^{K}\frac{n_{k}}{n}\boldsymbol{w^{t+1}_{k}}" display="inline"><semantics id="algorithm1.6.6.m1.1a"><mrow id="algorithm1.6.6.m1.1.1" xref="algorithm1.6.6.m1.1.1.cmml"><msup id="algorithm1.6.6.m1.1.1.2" xref="algorithm1.6.6.m1.1.1.2.cmml"><mi id="algorithm1.6.6.m1.1.1.2.2" xref="algorithm1.6.6.m1.1.1.2.2.cmml">𝒘</mi><mrow id="algorithm1.6.6.m1.1.1.2.3" xref="algorithm1.6.6.m1.1.1.2.3.cmml"><mi id="algorithm1.6.6.m1.1.1.2.3.2" xref="algorithm1.6.6.m1.1.1.2.3.2.cmml">𝒕</mi><mo class="ltx_mathvariant_bold" mathvariant="bold" id="algorithm1.6.6.m1.1.1.2.3.1" xref="algorithm1.6.6.m1.1.1.2.3.1.cmml">+</mo><mn id="algorithm1.6.6.m1.1.1.2.3.3" xref="algorithm1.6.6.m1.1.1.2.3.3.cmml">𝟏</mn></mrow></msup><mo rspace="0.111em" id="algorithm1.6.6.m1.1.1.1" xref="algorithm1.6.6.m1.1.1.1.cmml">=</mo><mrow id="algorithm1.6.6.m1.1.1.3" xref="algorithm1.6.6.m1.1.1.3.cmml"><msubsup id="algorithm1.6.6.m1.1.1.3.1" xref="algorithm1.6.6.m1.1.1.3.1.cmml"><mo id="algorithm1.6.6.m1.1.1.3.1.2.2" xref="algorithm1.6.6.m1.1.1.3.1.2.2.cmml">∑</mo><mrow id="algorithm1.6.6.m1.1.1.3.1.2.3" xref="algorithm1.6.6.m1.1.1.3.1.2.3.cmml"><mi id="algorithm1.6.6.m1.1.1.3.1.2.3.2" xref="algorithm1.6.6.m1.1.1.3.1.2.3.2.cmml">k</mi><mo id="algorithm1.6.6.m1.1.1.3.1.2.3.1" xref="algorithm1.6.6.m1.1.1.3.1.2.3.1.cmml">=</mo><mn id="algorithm1.6.6.m1.1.1.3.1.2.3.3" xref="algorithm1.6.6.m1.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="algorithm1.6.6.m1.1.1.3.1.3" xref="algorithm1.6.6.m1.1.1.3.1.3.cmml">K</mi></msubsup><mrow id="algorithm1.6.6.m1.1.1.3.2" xref="algorithm1.6.6.m1.1.1.3.2.cmml"><mfrac id="algorithm1.6.6.m1.1.1.3.2.2" xref="algorithm1.6.6.m1.1.1.3.2.2.cmml"><msub id="algorithm1.6.6.m1.1.1.3.2.2.2" xref="algorithm1.6.6.m1.1.1.3.2.2.2.cmml"><mi id="algorithm1.6.6.m1.1.1.3.2.2.2.2" xref="algorithm1.6.6.m1.1.1.3.2.2.2.2.cmml">n</mi><mi id="algorithm1.6.6.m1.1.1.3.2.2.2.3" xref="algorithm1.6.6.m1.1.1.3.2.2.2.3.cmml">k</mi></msub><mi id="algorithm1.6.6.m1.1.1.3.2.2.3" xref="algorithm1.6.6.m1.1.1.3.2.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="algorithm1.6.6.m1.1.1.3.2.1" xref="algorithm1.6.6.m1.1.1.3.2.1.cmml">​</mo><msubsup id="algorithm1.6.6.m1.1.1.3.2.3" xref="algorithm1.6.6.m1.1.1.3.2.3.cmml"><mi id="algorithm1.6.6.m1.1.1.3.2.3.2.2" xref="algorithm1.6.6.m1.1.1.3.2.3.2.2.cmml">𝒘</mi><mi id="algorithm1.6.6.m1.1.1.3.2.3.3" xref="algorithm1.6.6.m1.1.1.3.2.3.3.cmml">𝒌</mi><mrow id="algorithm1.6.6.m1.1.1.3.2.3.2.3" xref="algorithm1.6.6.m1.1.1.3.2.3.2.3.cmml"><mi id="algorithm1.6.6.m1.1.1.3.2.3.2.3.2" xref="algorithm1.6.6.m1.1.1.3.2.3.2.3.2.cmml">𝒕</mi><mo class="ltx_mathvariant_bold" mathvariant="bold" id="algorithm1.6.6.m1.1.1.3.2.3.2.3.1" xref="algorithm1.6.6.m1.1.1.3.2.3.2.3.1.cmml">+</mo><mn id="algorithm1.6.6.m1.1.1.3.2.3.2.3.3" xref="algorithm1.6.6.m1.1.1.3.2.3.2.3.3.cmml">𝟏</mn></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.6.6.m1.1b"><apply id="algorithm1.6.6.m1.1.1.cmml" xref="algorithm1.6.6.m1.1.1"><eq id="algorithm1.6.6.m1.1.1.1.cmml" xref="algorithm1.6.6.m1.1.1.1"></eq><apply id="algorithm1.6.6.m1.1.1.2.cmml" xref="algorithm1.6.6.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.6.6.m1.1.1.2.1.cmml" xref="algorithm1.6.6.m1.1.1.2">superscript</csymbol><ci id="algorithm1.6.6.m1.1.1.2.2.cmml" xref="algorithm1.6.6.m1.1.1.2.2">𝒘</ci><apply id="algorithm1.6.6.m1.1.1.2.3.cmml" xref="algorithm1.6.6.m1.1.1.2.3"><plus id="algorithm1.6.6.m1.1.1.2.3.1.cmml" xref="algorithm1.6.6.m1.1.1.2.3.1"></plus><ci id="algorithm1.6.6.m1.1.1.2.3.2.cmml" xref="algorithm1.6.6.m1.1.1.2.3.2">𝒕</ci><cn type="integer" id="algorithm1.6.6.m1.1.1.2.3.3.cmml" xref="algorithm1.6.6.m1.1.1.2.3.3">1</cn></apply></apply><apply id="algorithm1.6.6.m1.1.1.3.cmml" xref="algorithm1.6.6.m1.1.1.3"><apply id="algorithm1.6.6.m1.1.1.3.1.cmml" xref="algorithm1.6.6.m1.1.1.3.1"><csymbol cd="ambiguous" id="algorithm1.6.6.m1.1.1.3.1.1.cmml" xref="algorithm1.6.6.m1.1.1.3.1">superscript</csymbol><apply id="algorithm1.6.6.m1.1.1.3.1.2.cmml" xref="algorithm1.6.6.m1.1.1.3.1"><csymbol cd="ambiguous" id="algorithm1.6.6.m1.1.1.3.1.2.1.cmml" xref="algorithm1.6.6.m1.1.1.3.1">subscript</csymbol><sum id="algorithm1.6.6.m1.1.1.3.1.2.2.cmml" xref="algorithm1.6.6.m1.1.1.3.1.2.2"></sum><apply id="algorithm1.6.6.m1.1.1.3.1.2.3.cmml" xref="algorithm1.6.6.m1.1.1.3.1.2.3"><eq id="algorithm1.6.6.m1.1.1.3.1.2.3.1.cmml" xref="algorithm1.6.6.m1.1.1.3.1.2.3.1"></eq><ci id="algorithm1.6.6.m1.1.1.3.1.2.3.2.cmml" xref="algorithm1.6.6.m1.1.1.3.1.2.3.2">𝑘</ci><cn type="integer" id="algorithm1.6.6.m1.1.1.3.1.2.3.3.cmml" xref="algorithm1.6.6.m1.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="algorithm1.6.6.m1.1.1.3.1.3.cmml" xref="algorithm1.6.6.m1.1.1.3.1.3">𝐾</ci></apply><apply id="algorithm1.6.6.m1.1.1.3.2.cmml" xref="algorithm1.6.6.m1.1.1.3.2"><times id="algorithm1.6.6.m1.1.1.3.2.1.cmml" xref="algorithm1.6.6.m1.1.1.3.2.1"></times><apply id="algorithm1.6.6.m1.1.1.3.2.2.cmml" xref="algorithm1.6.6.m1.1.1.3.2.2"><divide id="algorithm1.6.6.m1.1.1.3.2.2.1.cmml" xref="algorithm1.6.6.m1.1.1.3.2.2"></divide><apply id="algorithm1.6.6.m1.1.1.3.2.2.2.cmml" xref="algorithm1.6.6.m1.1.1.3.2.2.2"><csymbol cd="ambiguous" id="algorithm1.6.6.m1.1.1.3.2.2.2.1.cmml" xref="algorithm1.6.6.m1.1.1.3.2.2.2">subscript</csymbol><ci id="algorithm1.6.6.m1.1.1.3.2.2.2.2.cmml" xref="algorithm1.6.6.m1.1.1.3.2.2.2.2">𝑛</ci><ci id="algorithm1.6.6.m1.1.1.3.2.2.2.3.cmml" xref="algorithm1.6.6.m1.1.1.3.2.2.2.3">𝑘</ci></apply><ci id="algorithm1.6.6.m1.1.1.3.2.2.3.cmml" xref="algorithm1.6.6.m1.1.1.3.2.2.3">𝑛</ci></apply><apply id="algorithm1.6.6.m1.1.1.3.2.3.cmml" xref="algorithm1.6.6.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="algorithm1.6.6.m1.1.1.3.2.3.1.cmml" xref="algorithm1.6.6.m1.1.1.3.2.3">subscript</csymbol><apply id="algorithm1.6.6.m1.1.1.3.2.3.2.cmml" xref="algorithm1.6.6.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="algorithm1.6.6.m1.1.1.3.2.3.2.1.cmml" xref="algorithm1.6.6.m1.1.1.3.2.3">superscript</csymbol><ci id="algorithm1.6.6.m1.1.1.3.2.3.2.2.cmml" xref="algorithm1.6.6.m1.1.1.3.2.3.2.2">𝒘</ci><apply id="algorithm1.6.6.m1.1.1.3.2.3.2.3.cmml" xref="algorithm1.6.6.m1.1.1.3.2.3.2.3"><plus id="algorithm1.6.6.m1.1.1.3.2.3.2.3.1.cmml" xref="algorithm1.6.6.m1.1.1.3.2.3.2.3.1"></plus><ci id="algorithm1.6.6.m1.1.1.3.2.3.2.3.2.cmml" xref="algorithm1.6.6.m1.1.1.3.2.3.2.3.2">𝒕</ci><cn type="integer" id="algorithm1.6.6.m1.1.1.3.2.3.2.3.3.cmml" xref="algorithm1.6.6.m1.1.1.3.2.3.2.3.3">1</cn></apply></apply><ci id="algorithm1.6.6.m1.1.1.3.2.3.3.cmml" xref="algorithm1.6.6.m1.1.1.3.2.3.3">𝒌</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.6.m1.1c">\boldsymbol{w^{t+1}}=\sum_{k=1}^{K}\frac{n_{k}}{n}\boldsymbol{w^{t+1}_{k}}</annotation></semantics></math>;
</div>
<div id="algorithm1.6.9" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="algorithm1.6.10" class="ltx_listingline"> end for
</div>
<div id="algorithm1.6.11" class="ltx_listingline">

</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm1.9.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span><span id="algorithm1.10.2" class="ltx_text ltx_font_typewriter">FedAvg</span> (Federated Averaging)</figcaption>
</figure>
<div id="A0.SS1.p2" class="ltx_para">
<p id="A0.SS1.p2.12" class="ltx_p">In Algorithm <a href="#algorithm1" title="In -A Algorithms ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, <math id="A0.SS1.p2.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A0.SS1.p2.1.m1.1a"><mi id="A0.SS1.p2.1.m1.1.1" xref="A0.SS1.p2.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.1.m1.1b"><ci id="A0.SS1.p2.1.m1.1.1.cmml" xref="A0.SS1.p2.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.1.m1.1c">K</annotation></semantics></math> is the number of clients (each client denoted by <math id="A0.SS1.p2.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A0.SS1.p2.2.m2.1a"><mi id="A0.SS1.p2.2.m2.1.1" xref="A0.SS1.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.2.m2.1b"><ci id="A0.SS1.p2.2.m2.1.1.cmml" xref="A0.SS1.p2.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.2.m2.1c">k</annotation></semantics></math>), <math id="A0.SS1.p2.3.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="A0.SS1.p2.3.m3.1a"><mi id="A0.SS1.p2.3.m3.1.1" xref="A0.SS1.p2.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.3.m3.1b"><ci id="A0.SS1.p2.3.m3.1.1.cmml" xref="A0.SS1.p2.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.3.m3.1c">\alpha</annotation></semantics></math> is the learning rate, <math id="A0.SS1.p2.4.m4.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="A0.SS1.p2.4.m4.1a"><msub id="A0.SS1.p2.4.m4.1.1" xref="A0.SS1.p2.4.m4.1.1.cmml"><mi id="A0.SS1.p2.4.m4.1.1.2" xref="A0.SS1.p2.4.m4.1.1.2.cmml">n</mi><mi id="A0.SS1.p2.4.m4.1.1.3" xref="A0.SS1.p2.4.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.4.m4.1b"><apply id="A0.SS1.p2.4.m4.1.1.cmml" xref="A0.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="A0.SS1.p2.4.m4.1.1.1.cmml" xref="A0.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="A0.SS1.p2.4.m4.1.1.2.cmml" xref="A0.SS1.p2.4.m4.1.1.2">𝑛</ci><ci id="A0.SS1.p2.4.m4.1.1.3.cmml" xref="A0.SS1.p2.4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.4.m4.1c">n_{k}</annotation></semantics></math> is the size of the dataset of client <math id="A0.SS1.p2.5.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A0.SS1.p2.5.m5.1a"><mi id="A0.SS1.p2.5.m5.1.1" xref="A0.SS1.p2.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.5.m5.1b"><ci id="A0.SS1.p2.5.m5.1.1.cmml" xref="A0.SS1.p2.5.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.5.m5.1c">k</annotation></semantics></math>, <math id="A0.SS1.p2.6.m6.1" class="ltx_Math" alttext="n=\sum_{k=1}^{K}n_{k}" display="inline"><semantics id="A0.SS1.p2.6.m6.1a"><mrow id="A0.SS1.p2.6.m6.1.1" xref="A0.SS1.p2.6.m6.1.1.cmml"><mi id="A0.SS1.p2.6.m6.1.1.2" xref="A0.SS1.p2.6.m6.1.1.2.cmml">n</mi><mo rspace="0.111em" id="A0.SS1.p2.6.m6.1.1.1" xref="A0.SS1.p2.6.m6.1.1.1.cmml">=</mo><mrow id="A0.SS1.p2.6.m6.1.1.3" xref="A0.SS1.p2.6.m6.1.1.3.cmml"><msubsup id="A0.SS1.p2.6.m6.1.1.3.1" xref="A0.SS1.p2.6.m6.1.1.3.1.cmml"><mo id="A0.SS1.p2.6.m6.1.1.3.1.2.2" xref="A0.SS1.p2.6.m6.1.1.3.1.2.2.cmml">∑</mo><mrow id="A0.SS1.p2.6.m6.1.1.3.1.2.3" xref="A0.SS1.p2.6.m6.1.1.3.1.2.3.cmml"><mi id="A0.SS1.p2.6.m6.1.1.3.1.2.3.2" xref="A0.SS1.p2.6.m6.1.1.3.1.2.3.2.cmml">k</mi><mo id="A0.SS1.p2.6.m6.1.1.3.1.2.3.1" xref="A0.SS1.p2.6.m6.1.1.3.1.2.3.1.cmml">=</mo><mn id="A0.SS1.p2.6.m6.1.1.3.1.2.3.3" xref="A0.SS1.p2.6.m6.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="A0.SS1.p2.6.m6.1.1.3.1.3" xref="A0.SS1.p2.6.m6.1.1.3.1.3.cmml">K</mi></msubsup><msub id="A0.SS1.p2.6.m6.1.1.3.2" xref="A0.SS1.p2.6.m6.1.1.3.2.cmml"><mi id="A0.SS1.p2.6.m6.1.1.3.2.2" xref="A0.SS1.p2.6.m6.1.1.3.2.2.cmml">n</mi><mi id="A0.SS1.p2.6.m6.1.1.3.2.3" xref="A0.SS1.p2.6.m6.1.1.3.2.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.6.m6.1b"><apply id="A0.SS1.p2.6.m6.1.1.cmml" xref="A0.SS1.p2.6.m6.1.1"><eq id="A0.SS1.p2.6.m6.1.1.1.cmml" xref="A0.SS1.p2.6.m6.1.1.1"></eq><ci id="A0.SS1.p2.6.m6.1.1.2.cmml" xref="A0.SS1.p2.6.m6.1.1.2">𝑛</ci><apply id="A0.SS1.p2.6.m6.1.1.3.cmml" xref="A0.SS1.p2.6.m6.1.1.3"><apply id="A0.SS1.p2.6.m6.1.1.3.1.cmml" xref="A0.SS1.p2.6.m6.1.1.3.1"><csymbol cd="ambiguous" id="A0.SS1.p2.6.m6.1.1.3.1.1.cmml" xref="A0.SS1.p2.6.m6.1.1.3.1">superscript</csymbol><apply id="A0.SS1.p2.6.m6.1.1.3.1.2.cmml" xref="A0.SS1.p2.6.m6.1.1.3.1"><csymbol cd="ambiguous" id="A0.SS1.p2.6.m6.1.1.3.1.2.1.cmml" xref="A0.SS1.p2.6.m6.1.1.3.1">subscript</csymbol><sum id="A0.SS1.p2.6.m6.1.1.3.1.2.2.cmml" xref="A0.SS1.p2.6.m6.1.1.3.1.2.2"></sum><apply id="A0.SS1.p2.6.m6.1.1.3.1.2.3.cmml" xref="A0.SS1.p2.6.m6.1.1.3.1.2.3"><eq id="A0.SS1.p2.6.m6.1.1.3.1.2.3.1.cmml" xref="A0.SS1.p2.6.m6.1.1.3.1.2.3.1"></eq><ci id="A0.SS1.p2.6.m6.1.1.3.1.2.3.2.cmml" xref="A0.SS1.p2.6.m6.1.1.3.1.2.3.2">𝑘</ci><cn type="integer" id="A0.SS1.p2.6.m6.1.1.3.1.2.3.3.cmml" xref="A0.SS1.p2.6.m6.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="A0.SS1.p2.6.m6.1.1.3.1.3.cmml" xref="A0.SS1.p2.6.m6.1.1.3.1.3">𝐾</ci></apply><apply id="A0.SS1.p2.6.m6.1.1.3.2.cmml" xref="A0.SS1.p2.6.m6.1.1.3.2"><csymbol cd="ambiguous" id="A0.SS1.p2.6.m6.1.1.3.2.1.cmml" xref="A0.SS1.p2.6.m6.1.1.3.2">subscript</csymbol><ci id="A0.SS1.p2.6.m6.1.1.3.2.2.cmml" xref="A0.SS1.p2.6.m6.1.1.3.2.2">𝑛</ci><ci id="A0.SS1.p2.6.m6.1.1.3.2.3.cmml" xref="A0.SS1.p2.6.m6.1.1.3.2.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.6.m6.1c">n=\sum_{k=1}^{K}n_{k}</annotation></semantics></math> is the size of the entire dataset. Moreover, <math id="A0.SS1.p2.7.m7.1" class="ltx_Math" alttext="\boldsymbol{w^{t}_{k}}\in\mathbb{R}^{P}" display="inline"><semantics id="A0.SS1.p2.7.m7.1a"><mrow id="A0.SS1.p2.7.m7.1.1" xref="A0.SS1.p2.7.m7.1.1.cmml"><msubsup id="A0.SS1.p2.7.m7.1.1.2" xref="A0.SS1.p2.7.m7.1.1.2.cmml"><mi id="A0.SS1.p2.7.m7.1.1.2.2.2" xref="A0.SS1.p2.7.m7.1.1.2.2.2.cmml">𝒘</mi><mi id="A0.SS1.p2.7.m7.1.1.2.3" xref="A0.SS1.p2.7.m7.1.1.2.3.cmml">𝒌</mi><mi id="A0.SS1.p2.7.m7.1.1.2.2.3" xref="A0.SS1.p2.7.m7.1.1.2.2.3.cmml">𝒕</mi></msubsup><mo id="A0.SS1.p2.7.m7.1.1.1" xref="A0.SS1.p2.7.m7.1.1.1.cmml">∈</mo><msup id="A0.SS1.p2.7.m7.1.1.3" xref="A0.SS1.p2.7.m7.1.1.3.cmml"><mi id="A0.SS1.p2.7.m7.1.1.3.2" xref="A0.SS1.p2.7.m7.1.1.3.2.cmml">ℝ</mi><mi id="A0.SS1.p2.7.m7.1.1.3.3" xref="A0.SS1.p2.7.m7.1.1.3.3.cmml">P</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.7.m7.1b"><apply id="A0.SS1.p2.7.m7.1.1.cmml" xref="A0.SS1.p2.7.m7.1.1"><in id="A0.SS1.p2.7.m7.1.1.1.cmml" xref="A0.SS1.p2.7.m7.1.1.1"></in><apply id="A0.SS1.p2.7.m7.1.1.2.cmml" xref="A0.SS1.p2.7.m7.1.1.2"><csymbol cd="ambiguous" id="A0.SS1.p2.7.m7.1.1.2.1.cmml" xref="A0.SS1.p2.7.m7.1.1.2">subscript</csymbol><apply id="A0.SS1.p2.7.m7.1.1.2.2.cmml" xref="A0.SS1.p2.7.m7.1.1.2"><csymbol cd="ambiguous" id="A0.SS1.p2.7.m7.1.1.2.2.1.cmml" xref="A0.SS1.p2.7.m7.1.1.2">superscript</csymbol><ci id="A0.SS1.p2.7.m7.1.1.2.2.2.cmml" xref="A0.SS1.p2.7.m7.1.1.2.2.2">𝒘</ci><ci id="A0.SS1.p2.7.m7.1.1.2.2.3.cmml" xref="A0.SS1.p2.7.m7.1.1.2.2.3">𝒕</ci></apply><ci id="A0.SS1.p2.7.m7.1.1.2.3.cmml" xref="A0.SS1.p2.7.m7.1.1.2.3">𝒌</ci></apply><apply id="A0.SS1.p2.7.m7.1.1.3.cmml" xref="A0.SS1.p2.7.m7.1.1.3"><csymbol cd="ambiguous" id="A0.SS1.p2.7.m7.1.1.3.1.cmml" xref="A0.SS1.p2.7.m7.1.1.3">superscript</csymbol><ci id="A0.SS1.p2.7.m7.1.1.3.2.cmml" xref="A0.SS1.p2.7.m7.1.1.3.2">ℝ</ci><ci id="A0.SS1.p2.7.m7.1.1.3.3.cmml" xref="A0.SS1.p2.7.m7.1.1.3.3">𝑃</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.7.m7.1c">\boldsymbol{w^{t}_{k}}\in\mathbb{R}^{P}</annotation></semantics></math> is the vector of <math id="A0.SS1.p2.8.m8.1" class="ltx_Math" alttext="P" display="inline"><semantics id="A0.SS1.p2.8.m8.1a"><mi id="A0.SS1.p2.8.m8.1.1" xref="A0.SS1.p2.8.m8.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.8.m8.1b"><ci id="A0.SS1.p2.8.m8.1.1.cmml" xref="A0.SS1.p2.8.m8.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.8.m8.1c">P</annotation></semantics></math> parameters of the local model of client <math id="A0.SS1.p2.9.m9.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A0.SS1.p2.9.m9.1a"><mi id="A0.SS1.p2.9.m9.1.1" xref="A0.SS1.p2.9.m9.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.9.m9.1b"><ci id="A0.SS1.p2.9.m9.1.1.cmml" xref="A0.SS1.p2.9.m9.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.9.m9.1c">k</annotation></semantics></math>, at global round <math id="A0.SS1.p2.10.m10.1" class="ltx_Math" alttext="t" display="inline"><semantics id="A0.SS1.p2.10.m10.1a"><mi id="A0.SS1.p2.10.m10.1.1" xref="A0.SS1.p2.10.m10.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.10.m10.1b"><ci id="A0.SS1.p2.10.m10.1.1.cmml" xref="A0.SS1.p2.10.m10.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.10.m10.1c">t</annotation></semantics></math>, and <math id="A0.SS1.p2.11.m11.1" class="ltx_Math" alttext="\boldsymbol{w^{t}}\in\mathbb{R}^{P}" display="inline"><semantics id="A0.SS1.p2.11.m11.1a"><mrow id="A0.SS1.p2.11.m11.1.1" xref="A0.SS1.p2.11.m11.1.1.cmml"><msup id="A0.SS1.p2.11.m11.1.1.2" xref="A0.SS1.p2.11.m11.1.1.2.cmml"><mi id="A0.SS1.p2.11.m11.1.1.2.2" xref="A0.SS1.p2.11.m11.1.1.2.2.cmml">𝒘</mi><mi id="A0.SS1.p2.11.m11.1.1.2.3" xref="A0.SS1.p2.11.m11.1.1.2.3.cmml">𝒕</mi></msup><mo id="A0.SS1.p2.11.m11.1.1.1" xref="A0.SS1.p2.11.m11.1.1.1.cmml">∈</mo><msup id="A0.SS1.p2.11.m11.1.1.3" xref="A0.SS1.p2.11.m11.1.1.3.cmml"><mi id="A0.SS1.p2.11.m11.1.1.3.2" xref="A0.SS1.p2.11.m11.1.1.3.2.cmml">ℝ</mi><mi id="A0.SS1.p2.11.m11.1.1.3.3" xref="A0.SS1.p2.11.m11.1.1.3.3.cmml">P</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.11.m11.1b"><apply id="A0.SS1.p2.11.m11.1.1.cmml" xref="A0.SS1.p2.11.m11.1.1"><in id="A0.SS1.p2.11.m11.1.1.1.cmml" xref="A0.SS1.p2.11.m11.1.1.1"></in><apply id="A0.SS1.p2.11.m11.1.1.2.cmml" xref="A0.SS1.p2.11.m11.1.1.2"><csymbol cd="ambiguous" id="A0.SS1.p2.11.m11.1.1.2.1.cmml" xref="A0.SS1.p2.11.m11.1.1.2">superscript</csymbol><ci id="A0.SS1.p2.11.m11.1.1.2.2.cmml" xref="A0.SS1.p2.11.m11.1.1.2.2">𝒘</ci><ci id="A0.SS1.p2.11.m11.1.1.2.3.cmml" xref="A0.SS1.p2.11.m11.1.1.2.3">𝒕</ci></apply><apply id="A0.SS1.p2.11.m11.1.1.3.cmml" xref="A0.SS1.p2.11.m11.1.1.3"><csymbol cd="ambiguous" id="A0.SS1.p2.11.m11.1.1.3.1.cmml" xref="A0.SS1.p2.11.m11.1.1.3">superscript</csymbol><ci id="A0.SS1.p2.11.m11.1.1.3.2.cmml" xref="A0.SS1.p2.11.m11.1.1.3.2">ℝ</ci><ci id="A0.SS1.p2.11.m11.1.1.3.3.cmml" xref="A0.SS1.p2.11.m11.1.1.3.3">𝑃</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.11.m11.1c">\boldsymbol{w^{t}}\in\mathbb{R}^{P}</annotation></semantics></math> is the vector of <math id="A0.SS1.p2.12.m12.1" class="ltx_Math" alttext="P" display="inline"><semantics id="A0.SS1.p2.12.m12.1a"><mi id="A0.SS1.p2.12.m12.1.1" xref="A0.SS1.p2.12.m12.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p2.12.m12.1b"><ci id="A0.SS1.p2.12.m12.1.1.cmml" xref="A0.SS1.p2.12.m12.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p2.12.m12.1c">P</annotation></semantics></math> parameters of the global model.</p>
</div>
<div id="A0.SS1.p3" class="ltx_para">
<p id="A0.SS1.p3.1" class="ltx_p">The function <span id="A0.SS1.p3.1.1" class="ltx_text ltx_font_typewriter">ClientUpdate</span> involes privacy (see Section <a href="#S2.SS2" title="II-B Differential Privacy ‣ II Theoretical Background ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">II-B</span></span></a>), and is described in Algorithm <a href="#algorithm2" title="In -A Algorithms ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure id="algorithm2" class="ltx_float ltx_algorithm">
<div id="algorithm2.13" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="algorithm2.3.3" class="ltx_listingline">
<span id="algorithm2.3.3.1" class="ltx_text"><span id="algorithm2.3.3.1.1" class="ltx_text ltx_font_bold">Result:</span> </span><math id="algorithm2.1.1.m1.1" class="ltx_Math" alttext="\boldsymbol{w_{k}^{t+1}}" display="inline"><semantics id="algorithm2.1.1.m1.1a"><msubsup id="algorithm2.1.1.m1.1.1" xref="algorithm2.1.1.m1.1.1.cmml"><mi id="algorithm2.1.1.m1.1.1.2.2" xref="algorithm2.1.1.m1.1.1.2.2.cmml">𝒘</mi><mi id="algorithm2.1.1.m1.1.1.2.3" xref="algorithm2.1.1.m1.1.1.2.3.cmml">𝒌</mi><mrow id="algorithm2.1.1.m1.1.1.3" xref="algorithm2.1.1.m1.1.1.3.cmml"><mi id="algorithm2.1.1.m1.1.1.3.2" xref="algorithm2.1.1.m1.1.1.3.2.cmml">𝒕</mi><mo class="ltx_mathvariant_bold" mathvariant="bold" id="algorithm2.1.1.m1.1.1.3.1" xref="algorithm2.1.1.m1.1.1.3.1.cmml">+</mo><mn id="algorithm2.1.1.m1.1.1.3.3" xref="algorithm2.1.1.m1.1.1.3.3.cmml">𝟏</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="algorithm2.1.1.m1.1b"><apply id="algorithm2.1.1.m1.1.1.cmml" xref="algorithm2.1.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm2.1.1.m1.1.1.1.cmml" xref="algorithm2.1.1.m1.1.1">superscript</csymbol><apply id="algorithm2.1.1.m1.1.1.2.cmml" xref="algorithm2.1.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm2.1.1.m1.1.1.2.1.cmml" xref="algorithm2.1.1.m1.1.1">subscript</csymbol><ci id="algorithm2.1.1.m1.1.1.2.2.cmml" xref="algorithm2.1.1.m1.1.1.2.2">𝒘</ci><ci id="algorithm2.1.1.m1.1.1.2.3.cmml" xref="algorithm2.1.1.m1.1.1.2.3">𝒌</ci></apply><apply id="algorithm2.1.1.m1.1.1.3.cmml" xref="algorithm2.1.1.m1.1.1.3"><plus id="algorithm2.1.1.m1.1.1.3.1.cmml" xref="algorithm2.1.1.m1.1.1.3.1"></plus><ci id="algorithm2.1.1.m1.1.1.3.2.cmml" xref="algorithm2.1.1.m1.1.1.3.2">𝒕</ci><cn type="integer" id="algorithm2.1.1.m1.1.1.3.3.cmml" xref="algorithm2.1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.1.1.m1.1c">\boldsymbol{w_{k}^{t+1}}</annotation></semantics></math> and privacy cost (<math id="algorithm2.2.2.m2.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="algorithm2.2.2.m2.1a"><mi id="algorithm2.2.2.m2.1.1" xref="algorithm2.2.2.m2.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="algorithm2.2.2.m2.1b"><ci id="algorithm2.2.2.m2.1.1.cmml" xref="algorithm2.2.2.m2.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.2.2.m2.1c">\epsilon</annotation></semantics></math>, <math id="algorithm2.3.3.m3.1" class="ltx_Math" alttext="\delta" display="inline"><semantics id="algorithm2.3.3.m3.1a"><mi id="algorithm2.3.3.m3.1.1" xref="algorithm2.3.3.m3.1.1.cmml">δ</mi><annotation-xml encoding="MathML-Content" id="algorithm2.3.3.m3.1b"><ci id="algorithm2.3.3.m3.1.1.cmml" xref="algorithm2.3.3.m3.1.1">𝛿</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.3.3.m3.1c">\delta</annotation></semantics></math>) using a privacy accounting method
</div>
<div id="algorithm2.5.5" class="ltx_listingline">
<span id="algorithm2.5.5.1" class="ltx_text ltx_font_bold">Input:</span> Parameters of the global model at time <math id="algorithm2.4.4.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="algorithm2.4.4.m1.1a"><mi id="algorithm2.4.4.m1.1.1" xref="algorithm2.4.4.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="algorithm2.4.4.m1.1b"><ci id="algorithm2.4.4.m1.1.1.cmml" xref="algorithm2.4.4.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.4.4.m1.1c">t</annotation></semantics></math> <math id="algorithm2.5.5.m2.1" class="ltx_Math" alttext="\boldsymbol{w^{t}}" display="inline"><semantics id="algorithm2.5.5.m2.1a"><msup id="algorithm2.5.5.m2.1.1" xref="algorithm2.5.5.m2.1.1.cmml"><mi id="algorithm2.5.5.m2.1.1.2" xref="algorithm2.5.5.m2.1.1.2.cmml">𝒘</mi><mi id="algorithm2.5.5.m2.1.1.3" xref="algorithm2.5.5.m2.1.1.3.cmml">𝒕</mi></msup><annotation-xml encoding="MathML-Content" id="algorithm2.5.5.m2.1b"><apply id="algorithm2.5.5.m2.1.1.cmml" xref="algorithm2.5.5.m2.1.1"><csymbol cd="ambiguous" id="algorithm2.5.5.m2.1.1.1.cmml" xref="algorithm2.5.5.m2.1.1">superscript</csymbol><ci id="algorithm2.5.5.m2.1.1.2.cmml" xref="algorithm2.5.5.m2.1.1.2">𝒘</ci><ci id="algorithm2.5.5.m2.1.1.3.cmml" xref="algorithm2.5.5.m2.1.1.3">𝒕</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.5.5.m2.1c">\boldsymbol{w^{t}}</annotation></semantics></math>
</div>
<div id="algorithm2.6.6" class="ltx_listingline">
<span id="algorithm2.6.6.2" class="ltx_text ltx_font_bold">for</span> <em id="algorithm2.6.6.1" class="ltx_emph ltx_font_italic"><math id="algorithm2.6.6.1.m1.3" class="ltx_Math" alttext="\text{epoch }e=1,...,E" display="inline"><semantics id="algorithm2.6.6.1.m1.3a"><mrow id="algorithm2.6.6.1.m1.3.4" xref="algorithm2.6.6.1.m1.3.4.cmml"><mrow id="algorithm2.6.6.1.m1.3.4.2" xref="algorithm2.6.6.1.m1.3.4.2.cmml"><mtext id="algorithm2.6.6.1.m1.3.4.2.2" xref="algorithm2.6.6.1.m1.3.4.2.2b.cmml"><em id="algorithm2.6.6.1.m1.3.4.2.2.1nest" class="ltx_emph ltx_font_upright">epoch </em></mtext><mo lspace="0em" rspace="0em" id="algorithm2.6.6.1.m1.3.4.2.1" xref="algorithm2.6.6.1.m1.3.4.2.1.cmml">​</mo><mi id="algorithm2.6.6.1.m1.3.4.2.3" xref="algorithm2.6.6.1.m1.3.4.2.3.cmml">e</mi></mrow><mo id="algorithm2.6.6.1.m1.3.4.1" xref="algorithm2.6.6.1.m1.3.4.1.cmml">=</mo><mrow id="algorithm2.6.6.1.m1.3.4.3.2" xref="algorithm2.6.6.1.m1.3.4.3.1.cmml"><mn id="algorithm2.6.6.1.m1.1.1" xref="algorithm2.6.6.1.m1.1.1.cmml">1</mn><mo id="algorithm2.6.6.1.m1.3.4.3.2.1" xref="algorithm2.6.6.1.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="algorithm2.6.6.1.m1.2.2" xref="algorithm2.6.6.1.m1.2.2.cmml">…</mi><mo id="algorithm2.6.6.1.m1.3.4.3.2.2" xref="algorithm2.6.6.1.m1.3.4.3.1.cmml">,</mo><mi id="algorithm2.6.6.1.m1.3.3" xref="algorithm2.6.6.1.m1.3.3.cmml">E</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.6.6.1.m1.3b"><apply id="algorithm2.6.6.1.m1.3.4.cmml" xref="algorithm2.6.6.1.m1.3.4"><eq id="algorithm2.6.6.1.m1.3.4.1.cmml" xref="algorithm2.6.6.1.m1.3.4.1"></eq><apply id="algorithm2.6.6.1.m1.3.4.2.cmml" xref="algorithm2.6.6.1.m1.3.4.2"><times id="algorithm2.6.6.1.m1.3.4.2.1.cmml" xref="algorithm2.6.6.1.m1.3.4.2.1"></times><ci id="algorithm2.6.6.1.m1.3.4.2.2b.cmml" xref="algorithm2.6.6.1.m1.3.4.2.2"><mtext id="algorithm2.6.6.1.m1.3.4.2.2.cmml" xref="algorithm2.6.6.1.m1.3.4.2.2"><em id="algorithm2.6.6.1.m1.3.4.2.2.1anest" class="ltx_emph ltx_font_upright">epoch </em></mtext></ci><ci id="algorithm2.6.6.1.m1.3.4.2.3.cmml" xref="algorithm2.6.6.1.m1.3.4.2.3">𝑒</ci></apply><list id="algorithm2.6.6.1.m1.3.4.3.1.cmml" xref="algorithm2.6.6.1.m1.3.4.3.2"><cn type="integer" id="algorithm2.6.6.1.m1.1.1.cmml" xref="algorithm2.6.6.1.m1.1.1">1</cn><ci id="algorithm2.6.6.1.m1.2.2.cmml" xref="algorithm2.6.6.1.m1.2.2">…</ci><ci id="algorithm2.6.6.1.m1.3.3.cmml" xref="algorithm2.6.6.1.m1.3.3">𝐸</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.6.6.1.m1.3c">\text{epoch }e=1,...,E</annotation></semantics></math></em> <span id="algorithm2.6.6.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm2.7.7" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
Sample <math id="algorithm2.7.7.m1.1" class="ltx_Math" alttext="\lfloor\frac{n}{B}\rfloor" display="inline"><semantics id="algorithm2.7.7.m1.1a"><mrow id="algorithm2.7.7.m1.1.2.2" xref="algorithm2.7.7.m1.1.2.1.cmml"><mo stretchy="false" id="algorithm2.7.7.m1.1.2.2.1" xref="algorithm2.7.7.m1.1.2.1.1.cmml">⌊</mo><mfrac id="algorithm2.7.7.m1.1.1" xref="algorithm2.7.7.m1.1.1.cmml"><mi id="algorithm2.7.7.m1.1.1.2" xref="algorithm2.7.7.m1.1.1.2.cmml">n</mi><mi id="algorithm2.7.7.m1.1.1.3" xref="algorithm2.7.7.m1.1.1.3.cmml">B</mi></mfrac><mo stretchy="false" id="algorithm2.7.7.m1.1.2.2.2" xref="algorithm2.7.7.m1.1.2.1.1.cmml">⌋</mo></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.7.7.m1.1b"><apply id="algorithm2.7.7.m1.1.2.1.cmml" xref="algorithm2.7.7.m1.1.2.2"><floor id="algorithm2.7.7.m1.1.2.1.1.cmml" xref="algorithm2.7.7.m1.1.2.2.1"></floor><apply id="algorithm2.7.7.m1.1.1.cmml" xref="algorithm2.7.7.m1.1.1"><divide id="algorithm2.7.7.m1.1.1.1.cmml" xref="algorithm2.7.7.m1.1.1"></divide><ci id="algorithm2.7.7.m1.1.1.2.cmml" xref="algorithm2.7.7.m1.1.1.2">𝑛</ci><ci id="algorithm2.7.7.m1.1.1.3.cmml" xref="algorithm2.7.7.m1.1.1.3">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.7.7.m1.1c">\lfloor\frac{n}{B}\rfloor</annotation></semantics></math> batches at random
</div>
<div id="algorithm2.8.8" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2.8.8.2" class="ltx_text ltx_font_bold">for</span> <em id="algorithm2.8.8.1" class="ltx_emph ltx_font_italic"><math id="algorithm2.8.8.1.m1.4" class="ltx_Math" alttext="j=1,\dots,\lfloor\frac{n}{B}\rfloor" display="inline"><semantics id="algorithm2.8.8.1.m1.4a"><mrow id="algorithm2.8.8.1.m1.4.4" xref="algorithm2.8.8.1.m1.4.4.cmml"><mi id="algorithm2.8.8.1.m1.4.4.3" xref="algorithm2.8.8.1.m1.4.4.3.cmml">j</mi><mo id="algorithm2.8.8.1.m1.4.4.2" xref="algorithm2.8.8.1.m1.4.4.2.cmml">=</mo><mrow id="algorithm2.8.8.1.m1.4.4.1.1" xref="algorithm2.8.8.1.m1.4.4.1.2.cmml"><mn id="algorithm2.8.8.1.m1.2.2" xref="algorithm2.8.8.1.m1.2.2.cmml">1</mn><mo id="algorithm2.8.8.1.m1.4.4.1.1.2" xref="algorithm2.8.8.1.m1.4.4.1.2.cmml">,</mo><mi mathvariant="normal" id="algorithm2.8.8.1.m1.3.3" xref="algorithm2.8.8.1.m1.3.3.cmml">…</mi><mo id="algorithm2.8.8.1.m1.4.4.1.1.3" xref="algorithm2.8.8.1.m1.4.4.1.2.cmml">,</mo><mrow id="algorithm2.8.8.1.m1.4.4.1.1.1.2" xref="algorithm2.8.8.1.m1.4.4.1.1.1.1.cmml"><mo stretchy="false" id="algorithm2.8.8.1.m1.4.4.1.1.1.2.1" xref="algorithm2.8.8.1.m1.4.4.1.1.1.1.1.cmml">⌊</mo><mfrac id="algorithm2.8.8.1.m1.1.1" xref="algorithm2.8.8.1.m1.1.1.cmml"><mi id="algorithm2.8.8.1.m1.1.1.2" xref="algorithm2.8.8.1.m1.1.1.2.cmml">n</mi><mi id="algorithm2.8.8.1.m1.1.1.3" xref="algorithm2.8.8.1.m1.1.1.3.cmml">B</mi></mfrac><mo stretchy="false" id="algorithm2.8.8.1.m1.4.4.1.1.1.2.2" xref="algorithm2.8.8.1.m1.4.4.1.1.1.1.1.cmml">⌋</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.8.8.1.m1.4b"><apply id="algorithm2.8.8.1.m1.4.4.cmml" xref="algorithm2.8.8.1.m1.4.4"><eq id="algorithm2.8.8.1.m1.4.4.2.cmml" xref="algorithm2.8.8.1.m1.4.4.2"></eq><ci id="algorithm2.8.8.1.m1.4.4.3.cmml" xref="algorithm2.8.8.1.m1.4.4.3">𝑗</ci><list id="algorithm2.8.8.1.m1.4.4.1.2.cmml" xref="algorithm2.8.8.1.m1.4.4.1.1"><cn type="integer" id="algorithm2.8.8.1.m1.2.2.cmml" xref="algorithm2.8.8.1.m1.2.2">1</cn><ci id="algorithm2.8.8.1.m1.3.3.cmml" xref="algorithm2.8.8.1.m1.3.3">…</ci><apply id="algorithm2.8.8.1.m1.4.4.1.1.1.1.cmml" xref="algorithm2.8.8.1.m1.4.4.1.1.1.2"><floor id="algorithm2.8.8.1.m1.4.4.1.1.1.1.1.cmml" xref="algorithm2.8.8.1.m1.4.4.1.1.1.2.1"></floor><apply id="algorithm2.8.8.1.m1.1.1.cmml" xref="algorithm2.8.8.1.m1.1.1"><divide id="algorithm2.8.8.1.m1.1.1.1.cmml" xref="algorithm2.8.8.1.m1.1.1"></divide><ci id="algorithm2.8.8.1.m1.1.1.2.cmml" xref="algorithm2.8.8.1.m1.1.1.2">𝑛</ci><ci id="algorithm2.8.8.1.m1.1.1.3.cmml" xref="algorithm2.8.8.1.m1.1.1.3">𝐵</ci></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.8.8.1.m1.4c">j=1,\dots,\lfloor\frac{n}{B}\rfloor</annotation></semantics></math></em> <span id="algorithm2.8.8.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm2.9.9" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2.9.9.2" class="ltx_text ltx_font_bold">for</span> <em id="algorithm2.9.9.1" class="ltx_emph ltx_font_italic"><math id="algorithm2.9.9.1.m1.3" class="ltx_Math" alttext="i=1,\dots,B" display="inline"><semantics id="algorithm2.9.9.1.m1.3a"><mrow id="algorithm2.9.9.1.m1.3.4" xref="algorithm2.9.9.1.m1.3.4.cmml"><mi id="algorithm2.9.9.1.m1.3.4.2" xref="algorithm2.9.9.1.m1.3.4.2.cmml">i</mi><mo id="algorithm2.9.9.1.m1.3.4.1" xref="algorithm2.9.9.1.m1.3.4.1.cmml">=</mo><mrow id="algorithm2.9.9.1.m1.3.4.3.2" xref="algorithm2.9.9.1.m1.3.4.3.1.cmml"><mn id="algorithm2.9.9.1.m1.1.1" xref="algorithm2.9.9.1.m1.1.1.cmml">1</mn><mo id="algorithm2.9.9.1.m1.3.4.3.2.1" xref="algorithm2.9.9.1.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="algorithm2.9.9.1.m1.2.2" xref="algorithm2.9.9.1.m1.2.2.cmml">…</mi><mo id="algorithm2.9.9.1.m1.3.4.3.2.2" xref="algorithm2.9.9.1.m1.3.4.3.1.cmml">,</mo><mi id="algorithm2.9.9.1.m1.3.3" xref="algorithm2.9.9.1.m1.3.3.cmml">B</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.9.9.1.m1.3b"><apply id="algorithm2.9.9.1.m1.3.4.cmml" xref="algorithm2.9.9.1.m1.3.4"><eq id="algorithm2.9.9.1.m1.3.4.1.cmml" xref="algorithm2.9.9.1.m1.3.4.1"></eq><ci id="algorithm2.9.9.1.m1.3.4.2.cmml" xref="algorithm2.9.9.1.m1.3.4.2">𝑖</ci><list id="algorithm2.9.9.1.m1.3.4.3.1.cmml" xref="algorithm2.9.9.1.m1.3.4.3.2"><cn type="integer" id="algorithm2.9.9.1.m1.1.1.cmml" xref="algorithm2.9.9.1.m1.1.1">1</cn><ci id="algorithm2.9.9.1.m1.2.2.cmml" xref="algorithm2.9.9.1.m1.2.2">…</ci><ci id="algorithm2.9.9.1.m1.3.3.cmml" xref="algorithm2.9.9.1.m1.3.3">𝐵</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.9.9.1.m1.3c">i=1,\dots,B</annotation></semantics></math></em> <span id="algorithm2.9.9.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm2.13.14" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2.13.14.1" class="ltx_text ltx_font_bold">Compute gradient</span>
</div>
<div id="algorithm2.10.10" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2.10.10.m1.3" class="ltx_Math" alttext="\boldsymbol{g_{j}(x_{i}^{j})}\leftarrow\nabla\mathcal{L}(\boldsymbol{w_{k}},\boldsymbol{x_{i}^{j}})" display="inline"><semantics id="algorithm2.10.10.m1.3a"><mrow id="algorithm2.10.10.m1.3.3" xref="algorithm2.10.10.m1.3.3.cmml"><mrow id="algorithm2.10.10.m1.1.1.1" xref="algorithm2.10.10.m1.1.1.1.cmml"><msub id="algorithm2.10.10.m1.1.1.1.3" xref="algorithm2.10.10.m1.1.1.1.3.cmml"><mi id="algorithm2.10.10.m1.1.1.1.3.2" xref="algorithm2.10.10.m1.1.1.1.3.2.cmml">𝒈</mi><mi id="algorithm2.10.10.m1.1.1.1.3.3" xref="algorithm2.10.10.m1.1.1.1.3.3.cmml">𝒋</mi></msub><mo lspace="0em" rspace="0em" id="algorithm2.10.10.m1.1.1.1.2" xref="algorithm2.10.10.m1.1.1.1.2.cmml">​</mo><mrow id="algorithm2.10.10.m1.1.1.1.1.1" xref="algorithm2.10.10.m1.1.1.1.1.1.1.cmml"><mo class="ltx_mathvariant_bold" mathvariant="bold" stretchy="false" id="algorithm2.10.10.m1.1.1.1.1.1.2" xref="algorithm2.10.10.m1.1.1.1.1.1.1.cmml">(</mo><msubsup id="algorithm2.10.10.m1.1.1.1.1.1.1" xref="algorithm2.10.10.m1.1.1.1.1.1.1.cmml"><mi id="algorithm2.10.10.m1.1.1.1.1.1.1.2.2" xref="algorithm2.10.10.m1.1.1.1.1.1.1.2.2.cmml">𝒙</mi><mi id="algorithm2.10.10.m1.1.1.1.1.1.1.2.3" xref="algorithm2.10.10.m1.1.1.1.1.1.1.2.3.cmml">𝒊</mi><mi id="algorithm2.10.10.m1.1.1.1.1.1.1.3" xref="algorithm2.10.10.m1.1.1.1.1.1.1.3.cmml">𝒋</mi></msubsup><mo class="ltx_mathvariant_bold" mathvariant="bold" stretchy="false" id="algorithm2.10.10.m1.1.1.1.1.1.3" xref="algorithm2.10.10.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="algorithm2.10.10.m1.3.3.4" xref="algorithm2.10.10.m1.3.3.4.cmml">←</mo><mrow id="algorithm2.10.10.m1.3.3.3" xref="algorithm2.10.10.m1.3.3.3.cmml"><mrow id="algorithm2.10.10.m1.3.3.3.4" xref="algorithm2.10.10.m1.3.3.3.4.cmml"><mo rspace="0.167em" id="algorithm2.10.10.m1.3.3.3.4.1" xref="algorithm2.10.10.m1.3.3.3.4.1.cmml">∇</mo><mi class="ltx_font_mathcaligraphic" id="algorithm2.10.10.m1.3.3.3.4.2" xref="algorithm2.10.10.m1.3.3.3.4.2.cmml">ℒ</mi></mrow><mo lspace="0em" rspace="0em" id="algorithm2.10.10.m1.3.3.3.3" xref="algorithm2.10.10.m1.3.3.3.3.cmml">​</mo><mrow id="algorithm2.10.10.m1.3.3.3.2.2" xref="algorithm2.10.10.m1.3.3.3.2.3.cmml"><mo stretchy="false" id="algorithm2.10.10.m1.3.3.3.2.2.3" xref="algorithm2.10.10.m1.3.3.3.2.3.cmml">(</mo><msub id="algorithm2.10.10.m1.2.2.2.1.1.1" xref="algorithm2.10.10.m1.2.2.2.1.1.1.cmml"><mi id="algorithm2.10.10.m1.2.2.2.1.1.1.2" xref="algorithm2.10.10.m1.2.2.2.1.1.1.2.cmml">𝒘</mi><mi id="algorithm2.10.10.m1.2.2.2.1.1.1.3" xref="algorithm2.10.10.m1.2.2.2.1.1.1.3.cmml">𝒌</mi></msub><mo id="algorithm2.10.10.m1.3.3.3.2.2.4" xref="algorithm2.10.10.m1.3.3.3.2.3.cmml">,</mo><msubsup id="algorithm2.10.10.m1.3.3.3.2.2.2" xref="algorithm2.10.10.m1.3.3.3.2.2.2.cmml"><mi id="algorithm2.10.10.m1.3.3.3.2.2.2.2.2" xref="algorithm2.10.10.m1.3.3.3.2.2.2.2.2.cmml">𝒙</mi><mi id="algorithm2.10.10.m1.3.3.3.2.2.2.2.3" xref="algorithm2.10.10.m1.3.3.3.2.2.2.2.3.cmml">𝒊</mi><mi id="algorithm2.10.10.m1.3.3.3.2.2.2.3" xref="algorithm2.10.10.m1.3.3.3.2.2.2.3.cmml">𝒋</mi></msubsup><mo stretchy="false" id="algorithm2.10.10.m1.3.3.3.2.2.5" xref="algorithm2.10.10.m1.3.3.3.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.10.10.m1.3b"><apply id="algorithm2.10.10.m1.3.3.cmml" xref="algorithm2.10.10.m1.3.3"><ci id="algorithm2.10.10.m1.3.3.4.cmml" xref="algorithm2.10.10.m1.3.3.4">←</ci><apply id="algorithm2.10.10.m1.1.1.1.cmml" xref="algorithm2.10.10.m1.1.1.1"><times id="algorithm2.10.10.m1.1.1.1.2.cmml" xref="algorithm2.10.10.m1.1.1.1.2"></times><apply id="algorithm2.10.10.m1.1.1.1.3.cmml" xref="algorithm2.10.10.m1.1.1.1.3"><csymbol cd="ambiguous" id="algorithm2.10.10.m1.1.1.1.3.1.cmml" xref="algorithm2.10.10.m1.1.1.1.3">subscript</csymbol><ci id="algorithm2.10.10.m1.1.1.1.3.2.cmml" xref="algorithm2.10.10.m1.1.1.1.3.2">𝒈</ci><ci id="algorithm2.10.10.m1.1.1.1.3.3.cmml" xref="algorithm2.10.10.m1.1.1.1.3.3">𝒋</ci></apply><apply id="algorithm2.10.10.m1.1.1.1.1.1.1.cmml" xref="algorithm2.10.10.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm2.10.10.m1.1.1.1.1.1.1.1.cmml" xref="algorithm2.10.10.m1.1.1.1.1.1">superscript</csymbol><apply id="algorithm2.10.10.m1.1.1.1.1.1.1.2.cmml" xref="algorithm2.10.10.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm2.10.10.m1.1.1.1.1.1.1.2.1.cmml" xref="algorithm2.10.10.m1.1.1.1.1.1">subscript</csymbol><ci id="algorithm2.10.10.m1.1.1.1.1.1.1.2.2.cmml" xref="algorithm2.10.10.m1.1.1.1.1.1.1.2.2">𝒙</ci><ci id="algorithm2.10.10.m1.1.1.1.1.1.1.2.3.cmml" xref="algorithm2.10.10.m1.1.1.1.1.1.1.2.3">𝒊</ci></apply><ci id="algorithm2.10.10.m1.1.1.1.1.1.1.3.cmml" xref="algorithm2.10.10.m1.1.1.1.1.1.1.3">𝒋</ci></apply></apply><apply id="algorithm2.10.10.m1.3.3.3.cmml" xref="algorithm2.10.10.m1.3.3.3"><times id="algorithm2.10.10.m1.3.3.3.3.cmml" xref="algorithm2.10.10.m1.3.3.3.3"></times><apply id="algorithm2.10.10.m1.3.3.3.4.cmml" xref="algorithm2.10.10.m1.3.3.3.4"><ci id="algorithm2.10.10.m1.3.3.3.4.1.cmml" xref="algorithm2.10.10.m1.3.3.3.4.1">∇</ci><ci id="algorithm2.10.10.m1.3.3.3.4.2.cmml" xref="algorithm2.10.10.m1.3.3.3.4.2">ℒ</ci></apply><interval closure="open" id="algorithm2.10.10.m1.3.3.3.2.3.cmml" xref="algorithm2.10.10.m1.3.3.3.2.2"><apply id="algorithm2.10.10.m1.2.2.2.1.1.1.cmml" xref="algorithm2.10.10.m1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="algorithm2.10.10.m1.2.2.2.1.1.1.1.cmml" xref="algorithm2.10.10.m1.2.2.2.1.1.1">subscript</csymbol><ci id="algorithm2.10.10.m1.2.2.2.1.1.1.2.cmml" xref="algorithm2.10.10.m1.2.2.2.1.1.1.2">𝒘</ci><ci id="algorithm2.10.10.m1.2.2.2.1.1.1.3.cmml" xref="algorithm2.10.10.m1.2.2.2.1.1.1.3">𝒌</ci></apply><apply id="algorithm2.10.10.m1.3.3.3.2.2.2.cmml" xref="algorithm2.10.10.m1.3.3.3.2.2.2"><csymbol cd="ambiguous" id="algorithm2.10.10.m1.3.3.3.2.2.2.1.cmml" xref="algorithm2.10.10.m1.3.3.3.2.2.2">superscript</csymbol><apply id="algorithm2.10.10.m1.3.3.3.2.2.2.2.cmml" xref="algorithm2.10.10.m1.3.3.3.2.2.2"><csymbol cd="ambiguous" id="algorithm2.10.10.m1.3.3.3.2.2.2.2.1.cmml" xref="algorithm2.10.10.m1.3.3.3.2.2.2">subscript</csymbol><ci id="algorithm2.10.10.m1.3.3.3.2.2.2.2.2.cmml" xref="algorithm2.10.10.m1.3.3.3.2.2.2.2.2">𝒙</ci><ci id="algorithm2.10.10.m1.3.3.3.2.2.2.2.3.cmml" xref="algorithm2.10.10.m1.3.3.3.2.2.2.2.3">𝒊</ci></apply><ci id="algorithm2.10.10.m1.3.3.3.2.2.2.3.cmml" xref="algorithm2.10.10.m1.3.3.3.2.2.2.3">𝒋</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.10.10.m1.3c">\boldsymbol{g_{j}(x_{i}^{j})}\leftarrow\nabla\mathcal{L}(\boldsymbol{w_{k}},\boldsymbol{x_{i}^{j}})</annotation></semantics></math>
</div>
<div id="algorithm2.13.15" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2.13.15.1" class="ltx_text ltx_font_bold">Clip gradient</span>
</div>
<div id="algorithm2.11.11" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2.11.11.m1.4" class="ltx_Math" alttext="\boldsymbol{\bar{g}_{j}(x_{i}^{j})}\leftarrow\boldsymbol{g_{j}(x_{i}^{j})}/\text{max}\left(1,\frac{\mathinner{\!\left\lVert\boldsymbol{g_{j}(x_{i}^{j})}\right\rVert}_{2}}{C}\right)" display="inline"><semantics id="algorithm2.11.11.m1.4a"><mrow id="algorithm2.11.11.m1.4.4" xref="algorithm2.11.11.m1.4.4.cmml"><mrow id="algorithm2.11.11.m1.3.3.1" xref="algorithm2.11.11.m1.3.3.1.cmml"><msub id="algorithm2.11.11.m1.3.3.1.3" xref="algorithm2.11.11.m1.3.3.1.3.cmml"><mover accent="true" id="algorithm2.11.11.m1.3.3.1.3.2" xref="algorithm2.11.11.m1.3.3.1.3.2.cmml"><mi id="algorithm2.11.11.m1.3.3.1.3.2.2" xref="algorithm2.11.11.m1.3.3.1.3.2.2.cmml">𝒈</mi><mo class="ltx_mathvariant_bold" mathvariant="bold" id="algorithm2.11.11.m1.3.3.1.3.2.1" xref="algorithm2.11.11.m1.3.3.1.3.2.1.cmml">¯</mo></mover><mi id="algorithm2.11.11.m1.3.3.1.3.3" xref="algorithm2.11.11.m1.3.3.1.3.3.cmml">𝒋</mi></msub><mo lspace="0em" rspace="0em" id="algorithm2.11.11.m1.3.3.1.2" xref="algorithm2.11.11.m1.3.3.1.2.cmml">​</mo><mrow id="algorithm2.11.11.m1.3.3.1.1.1" xref="algorithm2.11.11.m1.3.3.1.1.1.1.cmml"><mo class="ltx_mathvariant_bold" mathvariant="bold" stretchy="false" id="algorithm2.11.11.m1.3.3.1.1.1.2" xref="algorithm2.11.11.m1.3.3.1.1.1.1.cmml">(</mo><msubsup id="algorithm2.11.11.m1.3.3.1.1.1.1" xref="algorithm2.11.11.m1.3.3.1.1.1.1.cmml"><mi id="algorithm2.11.11.m1.3.3.1.1.1.1.2.2" xref="algorithm2.11.11.m1.3.3.1.1.1.1.2.2.cmml">𝒙</mi><mi id="algorithm2.11.11.m1.3.3.1.1.1.1.2.3" xref="algorithm2.11.11.m1.3.3.1.1.1.1.2.3.cmml">𝒊</mi><mi id="algorithm2.11.11.m1.3.3.1.1.1.1.3" xref="algorithm2.11.11.m1.3.3.1.1.1.1.3.cmml">𝒋</mi></msubsup><mo class="ltx_mathvariant_bold" mathvariant="bold" stretchy="false" id="algorithm2.11.11.m1.3.3.1.1.1.3" xref="algorithm2.11.11.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="algorithm2.11.11.m1.4.4.3" xref="algorithm2.11.11.m1.4.4.3.cmml">←</mo><mrow id="algorithm2.11.11.m1.4.4.2" xref="algorithm2.11.11.m1.4.4.2.cmml"><mrow id="algorithm2.11.11.m1.4.4.2.1" xref="algorithm2.11.11.m1.4.4.2.1.cmml"><mrow id="algorithm2.11.11.m1.4.4.2.1.1" xref="algorithm2.11.11.m1.4.4.2.1.1.cmml"><msub id="algorithm2.11.11.m1.4.4.2.1.1.3" xref="algorithm2.11.11.m1.4.4.2.1.1.3.cmml"><mi id="algorithm2.11.11.m1.4.4.2.1.1.3.2" xref="algorithm2.11.11.m1.4.4.2.1.1.3.2.cmml">𝒈</mi><mi id="algorithm2.11.11.m1.4.4.2.1.1.3.3" xref="algorithm2.11.11.m1.4.4.2.1.1.3.3.cmml">𝒋</mi></msub><mo lspace="0em" rspace="0em" id="algorithm2.11.11.m1.4.4.2.1.1.2" xref="algorithm2.11.11.m1.4.4.2.1.1.2.cmml">​</mo><mrow id="algorithm2.11.11.m1.4.4.2.1.1.1.1" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.cmml"><mo class="ltx_mathvariant_bold" mathvariant="bold" stretchy="false" id="algorithm2.11.11.m1.4.4.2.1.1.1.1.2" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.cmml">(</mo><msubsup id="algorithm2.11.11.m1.4.4.2.1.1.1.1.1" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.cmml"><mi id="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.2.2" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.2.2.cmml">𝒙</mi><mi id="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.2.3" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.2.3.cmml">𝒊</mi><mi id="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.3" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.3.cmml">𝒋</mi></msubsup><mo class="ltx_mathvariant_bold" mathvariant="bold" stretchy="false" id="algorithm2.11.11.m1.4.4.2.1.1.1.1.3" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="algorithm2.11.11.m1.4.4.2.1.2" xref="algorithm2.11.11.m1.4.4.2.1.2.cmml">/</mo><mtext id="algorithm2.11.11.m1.4.4.2.1.3" xref="algorithm2.11.11.m1.4.4.2.1.3a.cmml">max</mtext></mrow><mo lspace="0em" rspace="0em" id="algorithm2.11.11.m1.4.4.2.2" xref="algorithm2.11.11.m1.4.4.2.2.cmml">​</mo><mrow id="algorithm2.11.11.m1.4.4.2.3.2" xref="algorithm2.11.11.m1.4.4.2.3.1.cmml"><mo id="algorithm2.11.11.m1.4.4.2.3.2.1" xref="algorithm2.11.11.m1.4.4.2.3.1.cmml">(</mo><mn id="algorithm2.11.11.m1.2.2" xref="algorithm2.11.11.m1.2.2.cmml">1</mn><mo id="algorithm2.11.11.m1.4.4.2.3.2.2" xref="algorithm2.11.11.m1.4.4.2.3.1.cmml">,</mo><mfrac id="algorithm2.11.11.m1.1.1" xref="algorithm2.11.11.m1.1.1.cmml"><msub id="algorithm2.11.11.m1.1.1.1" xref="algorithm2.11.11.m1.1.1.1.cmml"><mrow id="algorithm2.11.11.m1.1.1.1.1.1" xref="algorithm2.11.11.m1.1.1.1.1.2.cmml"><mo fence="true" rspace="0em" stretchy="true" id="algorithm2.11.11.m1.1.1.1.1.1.2" xref="algorithm2.11.11.m1.1.1.1.1.2.1.cmml">∥</mo><mrow id="algorithm2.11.11.m1.1.1.1.1.1.1" xref="algorithm2.11.11.m1.1.1.1.1.1.1.cmml"><msub id="algorithm2.11.11.m1.1.1.1.1.1.1.3" xref="algorithm2.11.11.m1.1.1.1.1.1.1.3.cmml"><mi id="algorithm2.11.11.m1.1.1.1.1.1.1.3.2" xref="algorithm2.11.11.m1.1.1.1.1.1.1.3.2.cmml">𝒈</mi><mi id="algorithm2.11.11.m1.1.1.1.1.1.1.3.3" xref="algorithm2.11.11.m1.1.1.1.1.1.1.3.3.cmml">𝒋</mi></msub><mo lspace="0em" rspace="0em" id="algorithm2.11.11.m1.1.1.1.1.1.1.2" xref="algorithm2.11.11.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.cmml"><mo class="ltx_mathvariant_bold" mathvariant="bold" stretchy="false" id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.2" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.2.2" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.2.2.cmml">𝒙</mi><mi id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.2.3" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.2.3.cmml">𝒊</mi><mi id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.3" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.3.cmml">𝒋</mi></msubsup><mo class="ltx_mathvariant_bold" mathvariant="bold" stretchy="false" id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.3" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo fence="true" lspace="0em" stretchy="true" id="algorithm2.11.11.m1.1.1.1.1.1.3" xref="algorithm2.11.11.m1.1.1.1.1.2.1.cmml">∥</mo></mrow><mn id="algorithm2.11.11.m1.1.1.1.3" xref="algorithm2.11.11.m1.1.1.1.3.cmml">2</mn></msub><mi id="algorithm2.11.11.m1.1.1.3" xref="algorithm2.11.11.m1.1.1.3.cmml">C</mi></mfrac><mo id="algorithm2.11.11.m1.4.4.2.3.2.3" xref="algorithm2.11.11.m1.4.4.2.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.11.11.m1.4b"><apply id="algorithm2.11.11.m1.4.4.cmml" xref="algorithm2.11.11.m1.4.4"><ci id="algorithm2.11.11.m1.4.4.3.cmml" xref="algorithm2.11.11.m1.4.4.3">←</ci><apply id="algorithm2.11.11.m1.3.3.1.cmml" xref="algorithm2.11.11.m1.3.3.1"><times id="algorithm2.11.11.m1.3.3.1.2.cmml" xref="algorithm2.11.11.m1.3.3.1.2"></times><apply id="algorithm2.11.11.m1.3.3.1.3.cmml" xref="algorithm2.11.11.m1.3.3.1.3"><csymbol cd="ambiguous" id="algorithm2.11.11.m1.3.3.1.3.1.cmml" xref="algorithm2.11.11.m1.3.3.1.3">subscript</csymbol><apply id="algorithm2.11.11.m1.3.3.1.3.2.cmml" xref="algorithm2.11.11.m1.3.3.1.3.2"><ci id="algorithm2.11.11.m1.3.3.1.3.2.1.cmml" xref="algorithm2.11.11.m1.3.3.1.3.2.1">bold-¯</ci><ci id="algorithm2.11.11.m1.3.3.1.3.2.2.cmml" xref="algorithm2.11.11.m1.3.3.1.3.2.2">𝒈</ci></apply><ci id="algorithm2.11.11.m1.3.3.1.3.3.cmml" xref="algorithm2.11.11.m1.3.3.1.3.3">𝒋</ci></apply><apply id="algorithm2.11.11.m1.3.3.1.1.1.1.cmml" xref="algorithm2.11.11.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="algorithm2.11.11.m1.3.3.1.1.1.1.1.cmml" xref="algorithm2.11.11.m1.3.3.1.1.1">superscript</csymbol><apply id="algorithm2.11.11.m1.3.3.1.1.1.1.2.cmml" xref="algorithm2.11.11.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="algorithm2.11.11.m1.3.3.1.1.1.1.2.1.cmml" xref="algorithm2.11.11.m1.3.3.1.1.1">subscript</csymbol><ci id="algorithm2.11.11.m1.3.3.1.1.1.1.2.2.cmml" xref="algorithm2.11.11.m1.3.3.1.1.1.1.2.2">𝒙</ci><ci id="algorithm2.11.11.m1.3.3.1.1.1.1.2.3.cmml" xref="algorithm2.11.11.m1.3.3.1.1.1.1.2.3">𝒊</ci></apply><ci id="algorithm2.11.11.m1.3.3.1.1.1.1.3.cmml" xref="algorithm2.11.11.m1.3.3.1.1.1.1.3">𝒋</ci></apply></apply><apply id="algorithm2.11.11.m1.4.4.2.cmml" xref="algorithm2.11.11.m1.4.4.2"><times id="algorithm2.11.11.m1.4.4.2.2.cmml" xref="algorithm2.11.11.m1.4.4.2.2"></times><apply id="algorithm2.11.11.m1.4.4.2.1.cmml" xref="algorithm2.11.11.m1.4.4.2.1"><divide id="algorithm2.11.11.m1.4.4.2.1.2.cmml" xref="algorithm2.11.11.m1.4.4.2.1.2"></divide><apply id="algorithm2.11.11.m1.4.4.2.1.1.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1"><times id="algorithm2.11.11.m1.4.4.2.1.1.2.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.2"></times><apply id="algorithm2.11.11.m1.4.4.2.1.1.3.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.3"><csymbol cd="ambiguous" id="algorithm2.11.11.m1.4.4.2.1.1.3.1.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.3">subscript</csymbol><ci id="algorithm2.11.11.m1.4.4.2.1.1.3.2.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.3.2">𝒈</ci><ci id="algorithm2.11.11.m1.4.4.2.1.1.3.3.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.3.3">𝒋</ci></apply><apply id="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1"><csymbol cd="ambiguous" id="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.1.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1">superscript</csymbol><apply id="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.2.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1"><csymbol cd="ambiguous" id="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.2.1.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1">subscript</csymbol><ci id="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.2.2.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.2.2">𝒙</ci><ci id="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.2.3.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.2.3">𝒊</ci></apply><ci id="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.3.cmml" xref="algorithm2.11.11.m1.4.4.2.1.1.1.1.1.3">𝒋</ci></apply></apply><ci id="algorithm2.11.11.m1.4.4.2.1.3a.cmml" xref="algorithm2.11.11.m1.4.4.2.1.3"><mtext id="algorithm2.11.11.m1.4.4.2.1.3.cmml" xref="algorithm2.11.11.m1.4.4.2.1.3">max</mtext></ci></apply><interval closure="open" id="algorithm2.11.11.m1.4.4.2.3.1.cmml" xref="algorithm2.11.11.m1.4.4.2.3.2"><cn type="integer" id="algorithm2.11.11.m1.2.2.cmml" xref="algorithm2.11.11.m1.2.2">1</cn><apply id="algorithm2.11.11.m1.1.1.cmml" xref="algorithm2.11.11.m1.1.1"><divide id="algorithm2.11.11.m1.1.1.2.cmml" xref="algorithm2.11.11.m1.1.1"></divide><apply id="algorithm2.11.11.m1.1.1.1.cmml" xref="algorithm2.11.11.m1.1.1.1"><csymbol cd="ambiguous" id="algorithm2.11.11.m1.1.1.1.2.cmml" xref="algorithm2.11.11.m1.1.1.1">subscript</csymbol><apply id="algorithm2.11.11.m1.1.1.1.1.2.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1"><csymbol cd="latexml" id="algorithm2.11.11.m1.1.1.1.1.2.1.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.2">delimited-∥∥</csymbol><apply id="algorithm2.11.11.m1.1.1.1.1.1.1.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1"><times id="algorithm2.11.11.m1.1.1.1.1.1.1.2.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.2"></times><apply id="algorithm2.11.11.m1.1.1.1.1.1.1.3.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="algorithm2.11.11.m1.1.1.1.1.1.1.3.1.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="algorithm2.11.11.m1.1.1.1.1.1.1.3.2.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.3.2">𝒈</ci><ci id="algorithm2.11.11.m1.1.1.1.1.1.1.3.3.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.3.3">𝒋</ci></apply><apply id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.2.2">𝒙</ci><ci id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.2.3">𝒊</ci></apply><ci id="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="algorithm2.11.11.m1.1.1.1.1.1.1.1.1.1.3">𝒋</ci></apply></apply></apply><cn type="integer" id="algorithm2.11.11.m1.1.1.1.3.cmml" xref="algorithm2.11.11.m1.1.1.1.3">2</cn></apply><ci id="algorithm2.11.11.m1.1.1.3.cmml" xref="algorithm2.11.11.m1.1.1.3">𝐶</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.11.11.m1.4c">\boldsymbol{\bar{g}_{j}(x_{i}^{j})}\leftarrow\boldsymbol{g_{j}(x_{i}^{j})}/\text{max}\left(1,\frac{\mathinner{\!\left\lVert\boldsymbol{g_{j}(x_{i}^{j})}\right\rVert}_{2}}{C}\right)</annotation></semantics></math>
</div>
<div id="algorithm2.13.16" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="algorithm2.13.17" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="algorithm2.13.18" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="algorithm2.13.18.1" class="ltx_text ltx_font_bold">Add noise</span>
</div>
<div id="algorithm2.12.12" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2.12.12.m1.2" class="ltx_Math" alttext="\boldsymbol{\tilde{g}_{j}}\leftarrow\frac{1}{B}\left(\sum_{i=0}^{B}\boldsymbol{\bar{g}_{j}(x_{i}^{j})}+\mathcal{N}(0,\sigma^{2}C^{2}\boldsymbol{I})\right)" display="inline"><semantics id="algorithm2.12.12.m1.2a"><mrow id="algorithm2.12.12.m1.2.2" xref="algorithm2.12.12.m1.2.2.cmml"><msub id="algorithm2.12.12.m1.2.2.3" xref="algorithm2.12.12.m1.2.2.3.cmml"><mover accent="true" id="algorithm2.12.12.m1.2.2.3.2" xref="algorithm2.12.12.m1.2.2.3.2.cmml"><mi id="algorithm2.12.12.m1.2.2.3.2.2" xref="algorithm2.12.12.m1.2.2.3.2.2.cmml">𝒈</mi><mo class="ltx_mathvariant_bold" mathvariant="bold" id="algorithm2.12.12.m1.2.2.3.2.1" xref="algorithm2.12.12.m1.2.2.3.2.1.cmml">~</mo></mover><mi id="algorithm2.12.12.m1.2.2.3.3" xref="algorithm2.12.12.m1.2.2.3.3.cmml">𝒋</mi></msub><mo stretchy="false" id="algorithm2.12.12.m1.2.2.2" xref="algorithm2.12.12.m1.2.2.2.cmml">←</mo><mrow id="algorithm2.12.12.m1.2.2.1" xref="algorithm2.12.12.m1.2.2.1.cmml"><mfrac id="algorithm2.12.12.m1.2.2.1.3" xref="algorithm2.12.12.m1.2.2.1.3.cmml"><mn id="algorithm2.12.12.m1.2.2.1.3.2" xref="algorithm2.12.12.m1.2.2.1.3.2.cmml">1</mn><mi id="algorithm2.12.12.m1.2.2.1.3.3" xref="algorithm2.12.12.m1.2.2.1.3.3.cmml">B</mi></mfrac><mo lspace="0em" rspace="0em" id="algorithm2.12.12.m1.2.2.1.2" xref="algorithm2.12.12.m1.2.2.1.2.cmml">​</mo><mrow id="algorithm2.12.12.m1.2.2.1.1.1" xref="algorithm2.12.12.m1.2.2.1.1.1.1.cmml"><mo id="algorithm2.12.12.m1.2.2.1.1.1.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="algorithm2.12.12.m1.2.2.1.1.1.1" xref="algorithm2.12.12.m1.2.2.1.1.1.1.cmml"><mrow id="algorithm2.12.12.m1.2.2.1.1.1.1.1" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.cmml"><msubsup id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.cmml"><mo lspace="0em" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.cmml"><mi id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.1" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.3.cmml">0</mn></mrow><mi id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.3.cmml">B</mi></msubsup><mrow id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.cmml"><msub id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.cmml"><mover accent="true" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2.cmml"><mi id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2.2.cmml">𝒈</mi><mo class="ltx_mathvariant_bold" mathvariant="bold" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2.1" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2.1.cmml">¯</mo></mover><mi id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.3.cmml">𝒋</mi></msub><mo lspace="0em" rspace="0em" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.2.cmml">​</mo><mrow id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo class="ltx_mathvariant_bold" mathvariant="bold" stretchy="false" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.2.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.cmml">𝒙</mi><mi id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.2.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.cmml">𝒊</mi><mi id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml">𝒋</mi></msubsup><mo class="ltx_mathvariant_bold" mathvariant="bold" stretchy="false" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="algorithm2.12.12.m1.2.2.1.1.1.1.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.3.cmml">+</mo><mrow id="algorithm2.12.12.m1.2.2.1.1.1.1.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm2.12.12.m1.2.2.1.1.1.1.2.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.3.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="algorithm2.12.12.m1.2.2.1.1.1.1.2.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.2.cmml">​</mo><mrow id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.2.cmml"><mo stretchy="false" id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.2.cmml">(</mo><mn id="algorithm2.12.12.m1.1.1" xref="algorithm2.12.12.m1.1.1.cmml">0</mn><mo id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.2.cmml">,</mo><mrow id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.cmml"><msup id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2.cmml"><mi id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2.2.cmml">σ</mi><mn id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.1" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.1.cmml">​</mo><msup id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3.cmml"><mi id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3.2" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3.2.cmml">C</mi><mn id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.1a" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.1.cmml">​</mo><mi id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.4" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.4.cmml">𝑰</mi></mrow><mo stretchy="false" id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.4" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="algorithm2.12.12.m1.2.2.1.1.1.3" xref="algorithm2.12.12.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.12.12.m1.2b"><apply id="algorithm2.12.12.m1.2.2.cmml" xref="algorithm2.12.12.m1.2.2"><ci id="algorithm2.12.12.m1.2.2.2.cmml" xref="algorithm2.12.12.m1.2.2.2">←</ci><apply id="algorithm2.12.12.m1.2.2.3.cmml" xref="algorithm2.12.12.m1.2.2.3"><csymbol cd="ambiguous" id="algorithm2.12.12.m1.2.2.3.1.cmml" xref="algorithm2.12.12.m1.2.2.3">subscript</csymbol><apply id="algorithm2.12.12.m1.2.2.3.2.cmml" xref="algorithm2.12.12.m1.2.2.3.2"><ci id="algorithm2.12.12.m1.2.2.3.2.1.cmml" xref="algorithm2.12.12.m1.2.2.3.2.1">bold-~</ci><ci id="algorithm2.12.12.m1.2.2.3.2.2.cmml" xref="algorithm2.12.12.m1.2.2.3.2.2">𝒈</ci></apply><ci id="algorithm2.12.12.m1.2.2.3.3.cmml" xref="algorithm2.12.12.m1.2.2.3.3">𝒋</ci></apply><apply id="algorithm2.12.12.m1.2.2.1.cmml" xref="algorithm2.12.12.m1.2.2.1"><times id="algorithm2.12.12.m1.2.2.1.2.cmml" xref="algorithm2.12.12.m1.2.2.1.2"></times><apply id="algorithm2.12.12.m1.2.2.1.3.cmml" xref="algorithm2.12.12.m1.2.2.1.3"><divide id="algorithm2.12.12.m1.2.2.1.3.1.cmml" xref="algorithm2.12.12.m1.2.2.1.3"></divide><cn type="integer" id="algorithm2.12.12.m1.2.2.1.3.2.cmml" xref="algorithm2.12.12.m1.2.2.1.3.2">1</cn><ci id="algorithm2.12.12.m1.2.2.1.3.3.cmml" xref="algorithm2.12.12.m1.2.2.1.3.3">𝐵</ci></apply><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1"><plus id="algorithm2.12.12.m1.2.2.1.1.1.1.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.3"></plus><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1"><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2">superscript</csymbol><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2">subscript</csymbol><sum id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.2"></sum><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3"><eq id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.1"></eq><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.2.3.3">0</cn></apply></apply><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.2.3">𝐵</ci></apply><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1"><times id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.2"></times><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3">subscript</csymbol><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2"><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2.1">bold-¯</ci><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.2.2">𝒈</ci></apply><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.3.3">𝒋</ci></apply><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.2.2">𝒙</ci><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.2.3">𝒊</ci></apply><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.1.1.1.1.1.3">𝒋</ci></apply></apply></apply><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2"><times id="algorithm2.12.12.m1.2.2.1.1.1.1.2.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.2"></times><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.2.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.3">𝒩</ci><interval closure="open" id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1"><cn type="integer" id="algorithm2.12.12.m1.1.1.cmml" xref="algorithm2.12.12.m1.1.1">0</cn><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1"><times id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.1"></times><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2"><csymbol cd="ambiguous" id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2">superscript</csymbol><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2.2">𝜎</ci><cn type="integer" id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.2.3">2</cn></apply><apply id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3"><csymbol cd="ambiguous" id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3.1.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3">superscript</csymbol><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3.2.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3.2">𝐶</ci><cn type="integer" id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3.3.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.3.3">2</cn></apply><ci id="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.4.cmml" xref="algorithm2.12.12.m1.2.2.1.1.1.1.2.1.1.1.4">𝑰</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.12.12.m1.2c">\boldsymbol{\tilde{g}_{j}}\leftarrow\frac{1}{B}\left(\sum_{i=0}^{B}\boldsymbol{\bar{g}_{j}(x_{i}^{j})}+\mathcal{N}(0,\sigma^{2}C^{2}\boldsymbol{I})\right)</annotation></semantics></math>
</div>
<div id="algorithm2.13.19" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2.13.19.1" class="ltx_text ltx_font_bold">Descent</span>
</div>
<div id="algorithm2.13.13" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2.13.13.m1.1" class="ltx_Math" alttext="\boldsymbol{w_{k}}\leftarrow\boldsymbol{w_{k}}-\eta\boldsymbol{\tilde{g}_{j}}" display="inline"><semantics id="algorithm2.13.13.m1.1a"><mrow id="algorithm2.13.13.m1.1.1" xref="algorithm2.13.13.m1.1.1.cmml"><msub id="algorithm2.13.13.m1.1.1.2" xref="algorithm2.13.13.m1.1.1.2.cmml"><mi id="algorithm2.13.13.m1.1.1.2.2" xref="algorithm2.13.13.m1.1.1.2.2.cmml">𝒘</mi><mi id="algorithm2.13.13.m1.1.1.2.3" xref="algorithm2.13.13.m1.1.1.2.3.cmml">𝒌</mi></msub><mo stretchy="false" id="algorithm2.13.13.m1.1.1.1" xref="algorithm2.13.13.m1.1.1.1.cmml">←</mo><mrow id="algorithm2.13.13.m1.1.1.3" xref="algorithm2.13.13.m1.1.1.3.cmml"><msub id="algorithm2.13.13.m1.1.1.3.2" xref="algorithm2.13.13.m1.1.1.3.2.cmml"><mi id="algorithm2.13.13.m1.1.1.3.2.2" xref="algorithm2.13.13.m1.1.1.3.2.2.cmml">𝒘</mi><mi id="algorithm2.13.13.m1.1.1.3.2.3" xref="algorithm2.13.13.m1.1.1.3.2.3.cmml">𝒌</mi></msub><mo id="algorithm2.13.13.m1.1.1.3.1" xref="algorithm2.13.13.m1.1.1.3.1.cmml">−</mo><mrow id="algorithm2.13.13.m1.1.1.3.3" xref="algorithm2.13.13.m1.1.1.3.3.cmml"><mi id="algorithm2.13.13.m1.1.1.3.3.2" xref="algorithm2.13.13.m1.1.1.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="algorithm2.13.13.m1.1.1.3.3.1" xref="algorithm2.13.13.m1.1.1.3.3.1.cmml">​</mo><msub id="algorithm2.13.13.m1.1.1.3.3.3" xref="algorithm2.13.13.m1.1.1.3.3.3.cmml"><mover accent="true" id="algorithm2.13.13.m1.1.1.3.3.3.2" xref="algorithm2.13.13.m1.1.1.3.3.3.2.cmml"><mi id="algorithm2.13.13.m1.1.1.3.3.3.2.2" xref="algorithm2.13.13.m1.1.1.3.3.3.2.2.cmml">𝒈</mi><mo class="ltx_mathvariant_bold" mathvariant="bold" id="algorithm2.13.13.m1.1.1.3.3.3.2.1" xref="algorithm2.13.13.m1.1.1.3.3.3.2.1.cmml">~</mo></mover><mi id="algorithm2.13.13.m1.1.1.3.3.3.3" xref="algorithm2.13.13.m1.1.1.3.3.3.3.cmml">𝒋</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.13.13.m1.1b"><apply id="algorithm2.13.13.m1.1.1.cmml" xref="algorithm2.13.13.m1.1.1"><ci id="algorithm2.13.13.m1.1.1.1.cmml" xref="algorithm2.13.13.m1.1.1.1">←</ci><apply id="algorithm2.13.13.m1.1.1.2.cmml" xref="algorithm2.13.13.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm2.13.13.m1.1.1.2.1.cmml" xref="algorithm2.13.13.m1.1.1.2">subscript</csymbol><ci id="algorithm2.13.13.m1.1.1.2.2.cmml" xref="algorithm2.13.13.m1.1.1.2.2">𝒘</ci><ci id="algorithm2.13.13.m1.1.1.2.3.cmml" xref="algorithm2.13.13.m1.1.1.2.3">𝒌</ci></apply><apply id="algorithm2.13.13.m1.1.1.3.cmml" xref="algorithm2.13.13.m1.1.1.3"><minus id="algorithm2.13.13.m1.1.1.3.1.cmml" xref="algorithm2.13.13.m1.1.1.3.1"></minus><apply id="algorithm2.13.13.m1.1.1.3.2.cmml" xref="algorithm2.13.13.m1.1.1.3.2"><csymbol cd="ambiguous" id="algorithm2.13.13.m1.1.1.3.2.1.cmml" xref="algorithm2.13.13.m1.1.1.3.2">subscript</csymbol><ci id="algorithm2.13.13.m1.1.1.3.2.2.cmml" xref="algorithm2.13.13.m1.1.1.3.2.2">𝒘</ci><ci id="algorithm2.13.13.m1.1.1.3.2.3.cmml" xref="algorithm2.13.13.m1.1.1.3.2.3">𝒌</ci></apply><apply id="algorithm2.13.13.m1.1.1.3.3.cmml" xref="algorithm2.13.13.m1.1.1.3.3"><times id="algorithm2.13.13.m1.1.1.3.3.1.cmml" xref="algorithm2.13.13.m1.1.1.3.3.1"></times><ci id="algorithm2.13.13.m1.1.1.3.3.2.cmml" xref="algorithm2.13.13.m1.1.1.3.3.2">𝜂</ci><apply id="algorithm2.13.13.m1.1.1.3.3.3.cmml" xref="algorithm2.13.13.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="algorithm2.13.13.m1.1.1.3.3.3.1.cmml" xref="algorithm2.13.13.m1.1.1.3.3.3">subscript</csymbol><apply id="algorithm2.13.13.m1.1.1.3.3.3.2.cmml" xref="algorithm2.13.13.m1.1.1.3.3.3.2"><ci id="algorithm2.13.13.m1.1.1.3.3.3.2.1.cmml" xref="algorithm2.13.13.m1.1.1.3.3.3.2.1">bold-~</ci><ci id="algorithm2.13.13.m1.1.1.3.3.3.2.2.cmml" xref="algorithm2.13.13.m1.1.1.3.3.3.2.2">𝒈</ci></apply><ci id="algorithm2.13.13.m1.1.1.3.3.3.3.cmml" xref="algorithm2.13.13.m1.1.1.3.3.3.3">𝒋</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.13.13.m1.1c">\boldsymbol{w_{k}}\leftarrow\boldsymbol{w_{k}}-\eta\boldsymbol{\tilde{g}_{j}}</annotation></semantics></math>

</div>
<div id="algorithm2.13.20" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="algorithm2.13.21" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="algorithm2.13.22" class="ltx_listingline"> end for
</div>
<div id="algorithm2.13.23" class="ltx_listingline">

</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm2.18.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span><span id="algorithm2.19.2" class="ltx_text ltx_font_typewriter">ClientUpdate</span> for client <math id="algorithm2.15.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="algorithm2.15.m1.1b"><mi id="algorithm2.15.m1.1.1" xref="algorithm2.15.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="algorithm2.15.m1.1c"><ci id="algorithm2.15.m1.1.1.cmml" xref="algorithm2.15.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.15.m1.1d">k</annotation></semantics></math></figcaption>
</figure>
<div id="A0.SS1.p4" class="ltx_para">
<p id="A0.SS1.p4.12" class="ltx_p">In Algorithm <a href="#algorithm2" title="In -A Algorithms ‣ Federated Learning with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, <math id="A0.SS1.p4.1.m1.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="A0.SS1.p4.1.m1.1a"><mi id="A0.SS1.p4.1.m1.1.1" xref="A0.SS1.p4.1.m1.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.1.m1.1b"><ci id="A0.SS1.p4.1.m1.1.1.cmml" xref="A0.SS1.p4.1.m1.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.1.m1.1c">\eta</annotation></semantics></math> is the learning rate, <math id="A0.SS1.p4.2.m2.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="A0.SS1.p4.2.m2.1a"><mi id="A0.SS1.p4.2.m2.1.1" xref="A0.SS1.p4.2.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.2.m2.1b"><ci id="A0.SS1.p4.2.m2.1.1.cmml" xref="A0.SS1.p4.2.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.2.m2.1c">\sigma</annotation></semantics></math> is the noise scale, <math id="A0.SS1.p4.3.m3.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A0.SS1.p4.3.m3.1a"><mi id="A0.SS1.p4.3.m3.1.1" xref="A0.SS1.p4.3.m3.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.3.m3.1b"><ci id="A0.SS1.p4.3.m3.1.1.cmml" xref="A0.SS1.p4.3.m3.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.3.m3.1c">C</annotation></semantics></math> is the gradient norm bound, <math id="A0.SS1.p4.4.m4.1" class="ltx_Math" alttext="B" display="inline"><semantics id="A0.SS1.p4.4.m4.1a"><mi id="A0.SS1.p4.4.m4.1.1" xref="A0.SS1.p4.4.m4.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.4.m4.1b"><ci id="A0.SS1.p4.4.m4.1.1.cmml" xref="A0.SS1.p4.4.m4.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.4.m4.1c">B</annotation></semantics></math> is the batch-size, <math id="A0.SS1.p4.5.m5.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A0.SS1.p4.5.m5.1a"><mi id="A0.SS1.p4.5.m5.1.1" xref="A0.SS1.p4.5.m5.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.5.m5.1b"><ci id="A0.SS1.p4.5.m5.1.1.cmml" xref="A0.SS1.p4.5.m5.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.5.m5.1c">E</annotation></semantics></math> is the total number of epochs, <math id="A0.SS1.p4.6.m6.1" class="ltx_Math" alttext="n" display="inline"><semantics id="A0.SS1.p4.6.m6.1a"><mi id="A0.SS1.p4.6.m6.1.1" xref="A0.SS1.p4.6.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.6.m6.1b"><ci id="A0.SS1.p4.6.m6.1.1.cmml" xref="A0.SS1.p4.6.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.6.m6.1c">n</annotation></semantics></math> is the size of the dataset and <math id="A0.SS1.p4.7.m7.1" class="ltx_Math" alttext="\boldsymbol{x}_{i}^{j}" display="inline"><semantics id="A0.SS1.p4.7.m7.1a"><msubsup id="A0.SS1.p4.7.m7.1.1" xref="A0.SS1.p4.7.m7.1.1.cmml"><mi id="A0.SS1.p4.7.m7.1.1.2.2" xref="A0.SS1.p4.7.m7.1.1.2.2.cmml">𝒙</mi><mi id="A0.SS1.p4.7.m7.1.1.2.3" xref="A0.SS1.p4.7.m7.1.1.2.3.cmml">i</mi><mi id="A0.SS1.p4.7.m7.1.1.3" xref="A0.SS1.p4.7.m7.1.1.3.cmml">j</mi></msubsup><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.7.m7.1b"><apply id="A0.SS1.p4.7.m7.1.1.cmml" xref="A0.SS1.p4.7.m7.1.1"><csymbol cd="ambiguous" id="A0.SS1.p4.7.m7.1.1.1.cmml" xref="A0.SS1.p4.7.m7.1.1">superscript</csymbol><apply id="A0.SS1.p4.7.m7.1.1.2.cmml" xref="A0.SS1.p4.7.m7.1.1"><csymbol cd="ambiguous" id="A0.SS1.p4.7.m7.1.1.2.1.cmml" xref="A0.SS1.p4.7.m7.1.1">subscript</csymbol><ci id="A0.SS1.p4.7.m7.1.1.2.2.cmml" xref="A0.SS1.p4.7.m7.1.1.2.2">𝒙</ci><ci id="A0.SS1.p4.7.m7.1.1.2.3.cmml" xref="A0.SS1.p4.7.m7.1.1.2.3">𝑖</ci></apply><ci id="A0.SS1.p4.7.m7.1.1.3.cmml" xref="A0.SS1.p4.7.m7.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.7.m7.1c">\boldsymbol{x}_{i}^{j}</annotation></semantics></math> is the <math id="A0.SS1.p4.8.m8.1" class="ltx_Math" alttext="i" display="inline"><semantics id="A0.SS1.p4.8.m8.1a"><mi id="A0.SS1.p4.8.m8.1.1" xref="A0.SS1.p4.8.m8.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.8.m8.1b"><ci id="A0.SS1.p4.8.m8.1.1.cmml" xref="A0.SS1.p4.8.m8.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.8.m8.1c">i</annotation></semantics></math>-th datapoint in the <math id="A0.SS1.p4.9.m9.1" class="ltx_Math" alttext="j" display="inline"><semantics id="A0.SS1.p4.9.m9.1a"><mi id="A0.SS1.p4.9.m9.1.1" xref="A0.SS1.p4.9.m9.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.9.m9.1b"><ci id="A0.SS1.p4.9.m9.1.1.cmml" xref="A0.SS1.p4.9.m9.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.9.m9.1c">j</annotation></semantics></math>-th batch. <math id="A0.SS1.p4.10.m10.2" class="ltx_Math" alttext="\mathcal{L}(\boldsymbol{w},\boldsymbol{x})" display="inline"><semantics id="A0.SS1.p4.10.m10.2a"><mrow id="A0.SS1.p4.10.m10.2.3" xref="A0.SS1.p4.10.m10.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A0.SS1.p4.10.m10.2.3.2" xref="A0.SS1.p4.10.m10.2.3.2.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="A0.SS1.p4.10.m10.2.3.1" xref="A0.SS1.p4.10.m10.2.3.1.cmml">​</mo><mrow id="A0.SS1.p4.10.m10.2.3.3.2" xref="A0.SS1.p4.10.m10.2.3.3.1.cmml"><mo stretchy="false" id="A0.SS1.p4.10.m10.2.3.3.2.1" xref="A0.SS1.p4.10.m10.2.3.3.1.cmml">(</mo><mi id="A0.SS1.p4.10.m10.1.1" xref="A0.SS1.p4.10.m10.1.1.cmml">𝒘</mi><mo id="A0.SS1.p4.10.m10.2.3.3.2.2" xref="A0.SS1.p4.10.m10.2.3.3.1.cmml">,</mo><mi id="A0.SS1.p4.10.m10.2.2" xref="A0.SS1.p4.10.m10.2.2.cmml">𝒙</mi><mo stretchy="false" id="A0.SS1.p4.10.m10.2.3.3.2.3" xref="A0.SS1.p4.10.m10.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.10.m10.2b"><apply id="A0.SS1.p4.10.m10.2.3.cmml" xref="A0.SS1.p4.10.m10.2.3"><times id="A0.SS1.p4.10.m10.2.3.1.cmml" xref="A0.SS1.p4.10.m10.2.3.1"></times><ci id="A0.SS1.p4.10.m10.2.3.2.cmml" xref="A0.SS1.p4.10.m10.2.3.2">ℒ</ci><interval closure="open" id="A0.SS1.p4.10.m10.2.3.3.1.cmml" xref="A0.SS1.p4.10.m10.2.3.3.2"><ci id="A0.SS1.p4.10.m10.1.1.cmml" xref="A0.SS1.p4.10.m10.1.1">𝒘</ci><ci id="A0.SS1.p4.10.m10.2.2.cmml" xref="A0.SS1.p4.10.m10.2.2">𝒙</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.10.m10.2c">\mathcal{L}(\boldsymbol{w},\boldsymbol{x})</annotation></semantics></math> is the loss corresponding to the datapoint <math id="A0.SS1.p4.11.m11.1" class="ltx_Math" alttext="\boldsymbol{x}" display="inline"><semantics id="A0.SS1.p4.11.m11.1a"><mi id="A0.SS1.p4.11.m11.1.1" xref="A0.SS1.p4.11.m11.1.1.cmml">𝒙</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.11.m11.1b"><ci id="A0.SS1.p4.11.m11.1.1.cmml" xref="A0.SS1.p4.11.m11.1.1">𝒙</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.11.m11.1c">\boldsymbol{x}</annotation></semantics></math>, depending on the parameters <math id="A0.SS1.p4.12.m12.1" class="ltx_Math" alttext="\boldsymbol{w}" display="inline"><semantics id="A0.SS1.p4.12.m12.1a"><mi id="A0.SS1.p4.12.m12.1.1" xref="A0.SS1.p4.12.m12.1.1.cmml">𝒘</mi><annotation-xml encoding="MathML-Content" id="A0.SS1.p4.12.m12.1b"><ci id="A0.SS1.p4.12.m12.1.1.cmml" xref="A0.SS1.p4.12.m12.1.1">𝒘</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.SS1.p4.12.m12.1c">\boldsymbol{w}</annotation></semantics></math>.</p>
</div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2402.02229" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2402.02230" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2402.02230">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2402.02230" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2402.02231" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Mar  5 17:59:08 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
