<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2302.04208] Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III</title><meta property="og:description" content="Background:
Federated learning methods offer the possibility of training machine learning models on privacy-sensitive data sets, which cannot be easily shared. Multiple regulations pose strict requirements on the stora…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2302.04208">

<!--Generated on Fri Mar  1 02:04:29 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div id="p1" class="ltx_para">
<span id="p1.1" class="ltx_ERROR undefined">\NiceMatrixOptions</span>
<p id="p1.2" class="ltx_p">code-for-first-row = <span id="p1.2.1" class="ltx_text" style="color:#0000FF;"> ,
code-for-last-row =  ,
code-for-first-col =  ,
code-for-last-col = 
</span>










 

</p>
</div>
<h1 class="ltx_title ltx_title_document">Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Aron N. Horvath

 
 
<br class="ltx_break">University Zurich 
<br class="ltx_break"><span id="id1.1.id1" class="ltx_text ltx_font_typewriter">aron.horvath@uzh.ch</span> 
<br class="ltx_break">&amp;Matteo Berchier
<span id="footnotex1" class="ltx_note ltx_role_footnotemark"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span>
 
<span id="footnotex2" class="ltx_note ltx_role_footnotemark"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">2</span></span></span></span> 
<br class="ltx_break">University Zurich 
<br class="ltx_break"><span id="id2.2.id2" class="ltx_text ltx_font_typewriter">matteo.berchier@uzh.ch</span> 
<br class="ltx_break">&amp;Farhad Nooralahzadeh
<span id="footnotex3" class="ltx_note ltx_role_footnotemark"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span> 
<br class="ltx_break">University Zurich 
<br class="ltx_break"><span id="id3.3.id3" class="ltx_text ltx_font_typewriter">farhad.nooralahzadeh@uzh.ch</span> 
<br class="ltx_break">&amp;Ahmed Allam
<span id="footnotex4" class="ltx_note ltx_role_footnotemark"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span> 
<br class="ltx_break">University Zurich 
<br class="ltx_break"><span id="id4.4.id4" class="ltx_text ltx_font_typewriter">ahmed.allam@uzh.ch</span> 
<br class="ltx_break">&amp;Michael Krauthammer
<span id="footnotex5" class="ltx_note ltx_role_footnotemark"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span> 
<br class="ltx_break">University Zurich 
<br class="ltx_break"><span id="id5.5.id5" class="ltx_text ltx_font_typewriter">michael.krauthammer@uzh.ch</span>
</span><span class="ltx_author_notes">Chair of Biomedical Informatics, University Hospital of Zurich, Zurich, SwitzerlandThese authors contributed equally to the manuscript</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id6.id1" class="ltx_p"><span id="id6.id1.1" class="ltx_text ltx_font_bold">Background</span>:
Federated learning methods offer the possibility of training machine learning models on privacy-sensitive data sets, which cannot be easily shared. Multiple regulations pose strict requirements on the storage and usage of healthcare data, leading to data being in silos (i.e. <em id="id6.id1.2" class="ltx_emph ltx_font_italic">locked-in</em> at healthcare facilities). The application of federated algorithms on these datasets could accelerate disease diagnostic, drug development, as well as improve patient care.

<br class="ltx_break"><span id="id6.id1.3" class="ltx_text ltx_font_bold">Methods</span>:
We present an extensive evaluation of the impact of different federation and differential privacy techniques when training models on the open-source MIMIC-III dataset.
We analyze a set of parameters influencing a federated model performance, namely data distribution (homogeneous and heterogeneous), communication strategies (communication rounds vs. local training epochs), federation strategies (FedAvg vs. FedProx). Furthermore, we assess and compare two differential privacy (DP) techniques during model training: a stochastic gradient descent-based differential privacy algorithm (DP-SGD), and a sparse vector differential privacy technique (DP-SVT).

<br class="ltx_break"><span id="id6.id1.4" class="ltx_text ltx_font_bold">Results</span>:
Our experiments show that extreme data distributions across sites (imbalance either in the number of patients or the positive label ratios between sites) lead to a deterioration of model performance when trained using the FedAvg strategy. This issue is resolved when using FedProx with the use of appropriate hyperparameter tuning.
Furthermore, the results show that both differential privacy techniques can reach model performances similar to those of models trained without DP, however at the expense of a large quantifiable privacy leakage.

<br class="ltx_break"><span id="id6.id1.5" class="ltx_text ltx_font_bold">Conclusions</span>:
We evaluate empirically the benefits of two federation strategies and propose optimal strategies for the choice of parameters when using differential privacy techniques.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
<div id="p2" class="ltx_para ltx_noindent">
<p id="p2.11" class="ltx_p"><em id="p2.11.1" class="ltx_emph ltx_font_bold ltx_font_italic">K</em><span id="p2.11.2" class="ltx_text ltx_font_bold">eywords</span> federated learning  <math id="p2.1.m1.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="p2.1.m1.1a"><mo id="p2.1.m1.1.1" xref="p2.1.m1.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="p2.1.m1.1b"><ci id="p2.1.m1.1.1.cmml" xref="p2.1.m1.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="p2.1.m1.1c">\cdot</annotation></semantics></math>
federated averaging  <math id="p2.2.m2.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="p2.2.m2.1a"><mo id="p2.2.m2.1.1" xref="p2.2.m2.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="p2.2.m2.1b"><ci id="p2.2.m2.1.1.cmml" xref="p2.2.m2.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="p2.2.m2.1c">\cdot</annotation></semantics></math>
FedAvg  <math id="p2.3.m3.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="p2.3.m3.1a"><mo id="p2.3.m3.1.1" xref="p2.3.m3.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="p2.3.m3.1b"><ci id="p2.3.m3.1.1.cmml" xref="p2.3.m3.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="p2.3.m3.1c">\cdot</annotation></semantics></math>
federated proximity  <math id="p2.4.m4.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="p2.4.m4.1a"><mo id="p2.4.m4.1.1" xref="p2.4.m4.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="p2.4.m4.1b"><ci id="p2.4.m4.1.1.cmml" xref="p2.4.m4.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="p2.4.m4.1c">\cdot</annotation></semantics></math>
FedProx  <math id="p2.5.m5.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="p2.5.m5.1a"><mo id="p2.5.m5.1.1" xref="p2.5.m5.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="p2.5.m5.1b"><ci id="p2.5.m5.1.1.cmml" xref="p2.5.m5.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="p2.5.m5.1c">\cdot</annotation></semantics></math>
differential privacy  <math id="p2.6.m6.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="p2.6.m6.1a"><mo id="p2.6.m6.1.1" xref="p2.6.m6.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="p2.6.m6.1b"><ci id="p2.6.m6.1.1.cmml" xref="p2.6.m6.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="p2.6.m6.1c">\cdot</annotation></semantics></math>
stochastic gradient descent  <math id="p2.7.m7.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="p2.7.m7.1a"><mo id="p2.7.m7.1.1" xref="p2.7.m7.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="p2.7.m7.1b"><ci id="p2.7.m7.1.1.cmml" xref="p2.7.m7.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="p2.7.m7.1c">\cdot</annotation></semantics></math>
sparse vector technique  <math id="p2.8.m8.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="p2.8.m8.1a"><mo id="p2.8.m8.1.1" xref="p2.8.m8.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="p2.8.m8.1b"><ci id="p2.8.m8.1.1.cmml" xref="p2.8.m8.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="p2.8.m8.1c">\cdot</annotation></semantics></math>
DP-SVT  <math id="p2.9.m9.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="p2.9.m9.1a"><mo id="p2.9.m9.1.1" xref="p2.9.m9.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="p2.9.m9.1b"><ci id="p2.9.m9.1.1.cmml" xref="p2.9.m9.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="p2.9.m9.1c">\cdot</annotation></semantics></math>
DP-SGD  <math id="p2.10.m10.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="p2.10.m10.1a"><mo id="p2.10.m10.1.1" xref="p2.10.m10.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="p2.10.m10.1b"><ci id="p2.10.m10.1.1.cmml" xref="p2.10.m10.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="p2.10.m10.1c">\cdot</annotation></semantics></math>
timeseries modelling  <math id="p2.11.m11.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="p2.11.m11.1a"><mo id="p2.11.m11.1.1" xref="p2.11.m11.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="p2.11.m11.1b"><ci id="p2.11.m11.1.1.cmml" xref="p2.11.m11.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="p2.11.m11.1c">\cdot</annotation></semantics></math>
MIMIC-III</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para ltx_noindent">
<p id="S1.p1.1" class="ltx_p">In the past decade, new regulations emerged aimed at protecting consumers’ data rights (collection and usage) and avoiding the increasing number of data breaches and unrestrained data collection by large corporations. These regulations, most notably the General Data Protection Regulation (GDPR)<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, as well as the Health Insurance Portability and Accountability Act (HIPAA)<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> have led companies and institutions to search for new ways of leveraging their data without the need to move/share the data outside of their internal networks.
Federated learning, which emerged from research in distributed learning systems, such as the work of McMahan et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>, has been adopted as a method to avoid infringing on the regulations mentioned above.
Federated learning, allows the training of a global model by coordinating the training procedure of multiple models residing on separate sites (e.g., devices, silos), thus avoiding the need to transfer data outside of an organization’s network. It was initially used to train a model for next-word prediction on smartphones’ keyboards using millions of cell phones <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. Today federated learning is also used in the context of cross-silo training, where siloed data found in hospitals, banks, health insurers, etc., can be leveraged to train machine learning models.</p>
</div>
<section id="S1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.1 </span>Federated Learning (FL)</h3>

<div id="S1.SS1.p1" class="ltx_para ltx_noindent">
<p id="S1.SS1.p1.1" class="ltx_p">Many adaptations to the original federated averaging strategy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> have been proposed in the literature.
Konecny et al. presented a new optimization algorithm for training federated learning models, the so-called Federated Stochastic Variance Reduced Gradient (FSVRG)<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. This algorithm modifies the local gradient calculation to obtain an unbiased estimation of the gradient. They tested it on a binary classification problem (i.e. predicting if a post would get at least a comment) using a dataset of public Google+ posts. They showed that FSVRG could achieve faster convergence when compared with Federated SGD.
Another proposed strategy is the Federated Proximity (FedProx) approach by Li et al.<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> that aimed at tackling the problem of heterogeneity of data across sites. They modified the loss calculation on the sites, by regularizing it with a proximity term (proximity of the local model weights to the federated model weights). They showed that FedProx helps with performance convergence and outperforms FedAvg in situations where sites have highly heterogeneous data distributions (such as non-IID data).</p>
</div>
</section>
<section id="S1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.2 </span>Differential Privacy (DP)</h3>

<div id="S1.SS2.p1" class="ltx_para ltx_noindent">
<p id="S1.SS2.p1.1" class="ltx_p">Federated learning enables training of machine learning models on distributed datasets without the need for centralization (sharing of personal data with the server). Although this protects the client’s data from eavesdropping as well as potential malicious servers, private information can still be extracted/reconstructed from the shared model weights or directly from the final model through so-called inference attacks. These attacks are aimed at identifying whether a specific sample was part of the training or even completely reconstructing the sample itself <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> leading to severe privacy leakage.
To prevent such privacy leakage, one may use differential privacy, which artificially adds noise to the model training procedure (either directly to the samples or to the model weights) to protect privacy. Differential privacy, as introduced by Dwork et al. provides a framework for quantifying the privacy loss for any given sample <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> involved in the training of a machine learning model.</p>
</div>
<div id="S1.SS2.p2" class="ltx_para ltx_noindent">
<p id="S1.SS2.p2.1" class="ltx_p">Stochastic gradient-based differential privacy (DP-SGD) algorithms provide a way to perturb the training procedure by injecting noise during the back-propagation step <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>. Another algorithm for DP is the sparse vector technique (SVT), which applies noise to the model parameters using selection criteria and releases only a portion of model weights (Q) to the central server <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>. Li et al. explored the different parameters of the SVT algorithm and their impact on model’s performance for the federated brain tumor segmentation task <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>.</p>
</div>
</section>
<section id="S1.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.3 </span>Federated Learning on MIMIC-III</h3>

<div id="S1.SS3.p1" class="ltx_para ltx_noindent">
<p id="S1.SS3.p1.1" class="ltx_p">Benchmark datasets are widely used to evaluate novel machine learning solutions against state-of-the-art approaches. In the medical domain, one of the most commonly used dataset is the Medical Information Mart for Intensive Care III (MIMIC III) database offering 4 different tasks from binary classification to multivariate regression <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. In recent years, this data set - particularly the in-hospital mortality prediction task - was also used in studies demonstrating new federated learning frameworks, however without providing an extensive assessment of both the aggregation/federation strategies and the differential privacy approaches on models training and performance.
Sharma et al. showed that federated learning can achieve similar performance as centralized training using only two simulated sites developed with the coMind federated learning toolkit <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>.
Lee et al. deployed a custom federated framework on Amazon Web Services as a proof of concept and presented federated learning on balanced and imbalanced data distribution with three simulated sites achieving comparable accuracy, and precision to the state-of-the-art centralized training <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>.
Budrionis et al. presented a PySyft-based federated learning solution deployed on a Google Compute Engine both with virtual and real workers <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>. In their work, they assessed three different experiment scenarios: (1) simulating different amounts of data availability on a fixed number of sites; (2) assessing the influence of the number of sites; and (3) different data distribution across the sites not only considering the federated model performance but providing an additional benchmark on time-cost of communication rounds and inference.
Sadilek et al. demonstrated that federated learning with 20 simulated sites can achieve similar accuracy compared to centralized training federated learning and in contrast to the previous work it considered differential privacy as a privacy-preserving mechanism <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>.
Lastly, Choudhury et al. also presented a differential-privacy enabled federated learning and evaluated the impact of differential privacy with different levels of guarantees on the final federated model performance <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>.</p>
</div>
</section>
<section id="S1.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.4 </span>Goal / Contribution</h3>

<div id="S1.SS4.p1" class="ltx_para ltx_noindent">
<p id="S1.SS4.p1.1" class="ltx_p">In this paper, we use federated learning to train machine learning models on the Medical Information Mart for Intensive Care III (MIMIC III) data set <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>. We focus on the benchmark task of in-hospital mortality prediction presented by Harutyunyan et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. We aim to provide a comprehensive evaluation of the two most common federation strategies (FedAvg, FedProx) and two differential privacy algorithms (DP-SGD, DP-SVT) with respect to the final model performance and convergence. Furthermore, we test different data distribution setups, both homogeneous (varying number of samples per site)and heterogeneous (class imbalance of positive labels across the different sites).</p>
</div>
</section>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Materials and Methods</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Federated Learning Strategies</h3>

<div id="S2.SS1.p1" class="ltx_para ltx_noindent">
<p id="S2.SS1.p1.1" class="ltx_p">Federated learning algorithms are defined by their aggregation strategy and whether or not they influence the local training procedure. The aggregation strategy defines how the model weights from different sites are to be considered in the calculation of the federated model weights. In this work, we focus on the two most commonly used aggregation strategies, federated averaging (FedAvg) and federated proximity (FedProx).</p>
</div>
<section id="S2.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.1.1 </span>Federated Averaging (FedAvg)</h4>

<div id="S2.SS1.SSS1.p1" class="ltx_para ltx_noindent">
<p id="S2.SS1.SSS1.p1.4" class="ltx_p">The original federation strategy proposed by McMahan et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>, called federated averaging (FedAvg) uses a weighted averaging of the model weights returned by the sites to calculate the federated model weights. The weighting coefficient is the number of samples used at each site for model training divided by the total number of samples across all sites. Eq. <a href="#S2.E1" title="In 2.1.1 Federated Averaging (FedAvg) ‣ 2.1 Federated Learning Strategies ‣ 2 Materials and Methods ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the averaging procedure (<math id="S2.SS1.SSS1.p1.1.m1.1" class="ltx_Math" alttext="w" display="inline"><semantics id="S2.SS1.SSS1.p1.1.m1.1a"><mi id="S2.SS1.SSS1.p1.1.m1.1.1" xref="S2.SS1.SSS1.p1.1.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS1.p1.1.m1.1b"><ci id="S2.SS1.SSS1.p1.1.m1.1.1.cmml" xref="S2.SS1.SSS1.p1.1.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS1.p1.1.m1.1c">w</annotation></semantics></math> are the model weights, <math id="S2.SS1.SSS1.p1.2.m2.1" class="ltx_Math" alttext="N^{(i)}" display="inline"><semantics id="S2.SS1.SSS1.p1.2.m2.1a"><msup id="S2.SS1.SSS1.p1.2.m2.1.2" xref="S2.SS1.SSS1.p1.2.m2.1.2.cmml"><mi id="S2.SS1.SSS1.p1.2.m2.1.2.2" xref="S2.SS1.SSS1.p1.2.m2.1.2.2.cmml">N</mi><mrow id="S2.SS1.SSS1.p1.2.m2.1.1.1.3" xref="S2.SS1.SSS1.p1.2.m2.1.2.cmml"><mo stretchy="false" id="S2.SS1.SSS1.p1.2.m2.1.1.1.3.1" xref="S2.SS1.SSS1.p1.2.m2.1.2.cmml">(</mo><mi id="S2.SS1.SSS1.p1.2.m2.1.1.1.1" xref="S2.SS1.SSS1.p1.2.m2.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.SS1.SSS1.p1.2.m2.1.1.1.3.2" xref="S2.SS1.SSS1.p1.2.m2.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS1.p1.2.m2.1b"><apply id="S2.SS1.SSS1.p1.2.m2.1.2.cmml" xref="S2.SS1.SSS1.p1.2.m2.1.2"><csymbol cd="ambiguous" id="S2.SS1.SSS1.p1.2.m2.1.2.1.cmml" xref="S2.SS1.SSS1.p1.2.m2.1.2">superscript</csymbol><ci id="S2.SS1.SSS1.p1.2.m2.1.2.2.cmml" xref="S2.SS1.SSS1.p1.2.m2.1.2.2">𝑁</ci><ci id="S2.SS1.SSS1.p1.2.m2.1.1.1.1.cmml" xref="S2.SS1.SSS1.p1.2.m2.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS1.p1.2.m2.1c">N^{(i)}</annotation></semantics></math> is the number of samples at the <math id="S2.SS1.SSS1.p1.3.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS1.SSS1.p1.3.m3.1a"><mi id="S2.SS1.SSS1.p1.3.m3.1.1" xref="S2.SS1.SSS1.p1.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS1.p1.3.m3.1b"><ci id="S2.SS1.SSS1.p1.3.m3.1.1.cmml" xref="S2.SS1.SSS1.p1.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS1.p1.3.m3.1c">i</annotation></semantics></math>-th specific site and <math id="S2.SS1.SSS1.p1.4.m4.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S2.SS1.SSS1.p1.4.m4.1a"><mi id="S2.SS1.SSS1.p1.4.m4.1.1" xref="S2.SS1.SSS1.p1.4.m4.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS1.p1.4.m4.1b"><ci id="S2.SS1.SSS1.p1.4.m4.1.1.cmml" xref="S2.SS1.SSS1.p1.4.m4.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS1.p1.4.m4.1c">K</annotation></semantics></math> is the total number of sites):</p>
</div>
<div id="S2.SS1.SSS1.p2" class="ltx_para ltx_noindent">
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.3" class="ltx_Math" alttext="w_{federated}=\frac{1}{\sum_{i=1}^{K}N^{(i)}}\sum_{i=1}^{K}N^{(i)}w_{site}^{(i)}" display="block"><semantics id="S2.E1.m1.3a"><mrow id="S2.E1.m1.3.4" xref="S2.E1.m1.3.4.cmml"><msub id="S2.E1.m1.3.4.2" xref="S2.E1.m1.3.4.2.cmml"><mi id="S2.E1.m1.3.4.2.2" xref="S2.E1.m1.3.4.2.2.cmml">w</mi><mrow id="S2.E1.m1.3.4.2.3" xref="S2.E1.m1.3.4.2.3.cmml"><mi id="S2.E1.m1.3.4.2.3.2" xref="S2.E1.m1.3.4.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.3.1" xref="S2.E1.m1.3.4.2.3.1.cmml">​</mo><mi id="S2.E1.m1.3.4.2.3.3" xref="S2.E1.m1.3.4.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.3.1a" xref="S2.E1.m1.3.4.2.3.1.cmml">​</mo><mi id="S2.E1.m1.3.4.2.3.4" xref="S2.E1.m1.3.4.2.3.4.cmml">d</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.3.1b" xref="S2.E1.m1.3.4.2.3.1.cmml">​</mo><mi id="S2.E1.m1.3.4.2.3.5" xref="S2.E1.m1.3.4.2.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.3.1c" xref="S2.E1.m1.3.4.2.3.1.cmml">​</mo><mi id="S2.E1.m1.3.4.2.3.6" xref="S2.E1.m1.3.4.2.3.6.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.3.1d" xref="S2.E1.m1.3.4.2.3.1.cmml">​</mo><mi id="S2.E1.m1.3.4.2.3.7" xref="S2.E1.m1.3.4.2.3.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.3.1e" xref="S2.E1.m1.3.4.2.3.1.cmml">​</mo><mi id="S2.E1.m1.3.4.2.3.8" xref="S2.E1.m1.3.4.2.3.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.3.1f" xref="S2.E1.m1.3.4.2.3.1.cmml">​</mo><mi id="S2.E1.m1.3.4.2.3.9" xref="S2.E1.m1.3.4.2.3.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.3.1g" xref="S2.E1.m1.3.4.2.3.1.cmml">​</mo><mi id="S2.E1.m1.3.4.2.3.10" xref="S2.E1.m1.3.4.2.3.10.cmml">d</mi></mrow></msub><mo id="S2.E1.m1.3.4.1" xref="S2.E1.m1.3.4.1.cmml">=</mo><mrow id="S2.E1.m1.3.4.3" xref="S2.E1.m1.3.4.3.cmml"><mfrac id="S2.E1.m1.1.1" xref="S2.E1.m1.1.1.cmml"><mn id="S2.E1.m1.1.1.3" xref="S2.E1.m1.1.1.3.cmml">1</mn><mrow id="S2.E1.m1.1.1.1" xref="S2.E1.m1.1.1.1.cmml"><msubsup id="S2.E1.m1.1.1.1.2" xref="S2.E1.m1.1.1.1.2.cmml"><mo id="S2.E1.m1.1.1.1.2.2.2" xref="S2.E1.m1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S2.E1.m1.1.1.1.2.2.3" xref="S2.E1.m1.1.1.1.2.2.3.cmml"><mi id="S2.E1.m1.1.1.1.2.2.3.2" xref="S2.E1.m1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S2.E1.m1.1.1.1.2.2.3.1" xref="S2.E1.m1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S2.E1.m1.1.1.1.2.2.3.3" xref="S2.E1.m1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S2.E1.m1.1.1.1.2.3" xref="S2.E1.m1.1.1.1.2.3.cmml">K</mi></msubsup><msup id="S2.E1.m1.1.1.1.3" xref="S2.E1.m1.1.1.1.3.cmml"><mi id="S2.E1.m1.1.1.1.3.2" xref="S2.E1.m1.1.1.1.3.2.cmml">N</mi><mrow id="S2.E1.m1.1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.3.cmml"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.1.3.1" xref="S2.E1.m1.1.1.1.3.cmml">(</mo><mi id="S2.E1.m1.1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.E1.m1.1.1.1.1.1.3.2" xref="S2.E1.m1.1.1.1.3.cmml">)</mo></mrow></msup></mrow></mfrac><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.3.1" xref="S2.E1.m1.3.4.3.1.cmml">​</mo><mrow id="S2.E1.m1.3.4.3.2" xref="S2.E1.m1.3.4.3.2.cmml"><munderover id="S2.E1.m1.3.4.3.2.1" xref="S2.E1.m1.3.4.3.2.1.cmml"><mo movablelimits="false" id="S2.E1.m1.3.4.3.2.1.2.2" xref="S2.E1.m1.3.4.3.2.1.2.2.cmml">∑</mo><mrow id="S2.E1.m1.3.4.3.2.1.2.3" xref="S2.E1.m1.3.4.3.2.1.2.3.cmml"><mi id="S2.E1.m1.3.4.3.2.1.2.3.2" xref="S2.E1.m1.3.4.3.2.1.2.3.2.cmml">i</mi><mo id="S2.E1.m1.3.4.3.2.1.2.3.1" xref="S2.E1.m1.3.4.3.2.1.2.3.1.cmml">=</mo><mn id="S2.E1.m1.3.4.3.2.1.2.3.3" xref="S2.E1.m1.3.4.3.2.1.2.3.3.cmml">1</mn></mrow><mi id="S2.E1.m1.3.4.3.2.1.3" xref="S2.E1.m1.3.4.3.2.1.3.cmml">K</mi></munderover><mrow id="S2.E1.m1.3.4.3.2.2" xref="S2.E1.m1.3.4.3.2.2.cmml"><msup id="S2.E1.m1.3.4.3.2.2.2" xref="S2.E1.m1.3.4.3.2.2.2.cmml"><mi id="S2.E1.m1.3.4.3.2.2.2.2" xref="S2.E1.m1.3.4.3.2.2.2.2.cmml">N</mi><mrow id="S2.E1.m1.2.2.1.3" xref="S2.E1.m1.3.4.3.2.2.2.cmml"><mo stretchy="false" id="S2.E1.m1.2.2.1.3.1" xref="S2.E1.m1.3.4.3.2.2.2.cmml">(</mo><mi id="S2.E1.m1.2.2.1.1" xref="S2.E1.m1.2.2.1.1.cmml">i</mi><mo stretchy="false" id="S2.E1.m1.2.2.1.3.2" xref="S2.E1.m1.3.4.3.2.2.2.cmml">)</mo></mrow></msup><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.3.2.2.1" xref="S2.E1.m1.3.4.3.2.2.1.cmml">​</mo><msubsup id="S2.E1.m1.3.4.3.2.2.3" xref="S2.E1.m1.3.4.3.2.2.3.cmml"><mi id="S2.E1.m1.3.4.3.2.2.3.2.2" xref="S2.E1.m1.3.4.3.2.2.3.2.2.cmml">w</mi><mrow id="S2.E1.m1.3.4.3.2.2.3.2.3" xref="S2.E1.m1.3.4.3.2.2.3.2.3.cmml"><mi id="S2.E1.m1.3.4.3.2.2.3.2.3.2" xref="S2.E1.m1.3.4.3.2.2.3.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.3.2.2.3.2.3.1" xref="S2.E1.m1.3.4.3.2.2.3.2.3.1.cmml">​</mo><mi id="S2.E1.m1.3.4.3.2.2.3.2.3.3" xref="S2.E1.m1.3.4.3.2.2.3.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.3.2.2.3.2.3.1a" xref="S2.E1.m1.3.4.3.2.2.3.2.3.1.cmml">​</mo><mi id="S2.E1.m1.3.4.3.2.2.3.2.3.4" xref="S2.E1.m1.3.4.3.2.2.3.2.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.3.2.2.3.2.3.1b" xref="S2.E1.m1.3.4.3.2.2.3.2.3.1.cmml">​</mo><mi id="S2.E1.m1.3.4.3.2.2.3.2.3.5" xref="S2.E1.m1.3.4.3.2.2.3.2.3.5.cmml">e</mi></mrow><mrow id="S2.E1.m1.3.3.1.3" xref="S2.E1.m1.3.4.3.2.2.3.cmml"><mo stretchy="false" id="S2.E1.m1.3.3.1.3.1" xref="S2.E1.m1.3.4.3.2.2.3.cmml">(</mo><mi id="S2.E1.m1.3.3.1.1" xref="S2.E1.m1.3.3.1.1.cmml">i</mi><mo stretchy="false" id="S2.E1.m1.3.3.1.3.2" xref="S2.E1.m1.3.4.3.2.2.3.cmml">)</mo></mrow></msubsup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.3b"><apply id="S2.E1.m1.3.4.cmml" xref="S2.E1.m1.3.4"><eq id="S2.E1.m1.3.4.1.cmml" xref="S2.E1.m1.3.4.1"></eq><apply id="S2.E1.m1.3.4.2.cmml" xref="S2.E1.m1.3.4.2"><csymbol cd="ambiguous" id="S2.E1.m1.3.4.2.1.cmml" xref="S2.E1.m1.3.4.2">subscript</csymbol><ci id="S2.E1.m1.3.4.2.2.cmml" xref="S2.E1.m1.3.4.2.2">𝑤</ci><apply id="S2.E1.m1.3.4.2.3.cmml" xref="S2.E1.m1.3.4.2.3"><times id="S2.E1.m1.3.4.2.3.1.cmml" xref="S2.E1.m1.3.4.2.3.1"></times><ci id="S2.E1.m1.3.4.2.3.2.cmml" xref="S2.E1.m1.3.4.2.3.2">𝑓</ci><ci id="S2.E1.m1.3.4.2.3.3.cmml" xref="S2.E1.m1.3.4.2.3.3">𝑒</ci><ci id="S2.E1.m1.3.4.2.3.4.cmml" xref="S2.E1.m1.3.4.2.3.4">𝑑</ci><ci id="S2.E1.m1.3.4.2.3.5.cmml" xref="S2.E1.m1.3.4.2.3.5">𝑒</ci><ci id="S2.E1.m1.3.4.2.3.6.cmml" xref="S2.E1.m1.3.4.2.3.6">𝑟</ci><ci id="S2.E1.m1.3.4.2.3.7.cmml" xref="S2.E1.m1.3.4.2.3.7">𝑎</ci><ci id="S2.E1.m1.3.4.2.3.8.cmml" xref="S2.E1.m1.3.4.2.3.8">𝑡</ci><ci id="S2.E1.m1.3.4.2.3.9.cmml" xref="S2.E1.m1.3.4.2.3.9">𝑒</ci><ci id="S2.E1.m1.3.4.2.3.10.cmml" xref="S2.E1.m1.3.4.2.3.10">𝑑</ci></apply></apply><apply id="S2.E1.m1.3.4.3.cmml" xref="S2.E1.m1.3.4.3"><times id="S2.E1.m1.3.4.3.1.cmml" xref="S2.E1.m1.3.4.3.1"></times><apply id="S2.E1.m1.1.1.cmml" xref="S2.E1.m1.1.1"><divide id="S2.E1.m1.1.1.2.cmml" xref="S2.E1.m1.1.1"></divide><cn type="integer" id="S2.E1.m1.1.1.3.cmml" xref="S2.E1.m1.1.1.3">1</cn><apply id="S2.E1.m1.1.1.1.cmml" xref="S2.E1.m1.1.1.1"><apply id="S2.E1.m1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.2.1.cmml" xref="S2.E1.m1.1.1.1.2">superscript</csymbol><apply id="S2.E1.m1.1.1.1.2.2.cmml" xref="S2.E1.m1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.2.2.1.cmml" xref="S2.E1.m1.1.1.1.2">subscript</csymbol><sum id="S2.E1.m1.1.1.1.2.2.2.cmml" xref="S2.E1.m1.1.1.1.2.2.2"></sum><apply id="S2.E1.m1.1.1.1.2.2.3.cmml" xref="S2.E1.m1.1.1.1.2.2.3"><eq id="S2.E1.m1.1.1.1.2.2.3.1.cmml" xref="S2.E1.m1.1.1.1.2.2.3.1"></eq><ci id="S2.E1.m1.1.1.1.2.2.3.2.cmml" xref="S2.E1.m1.1.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="S2.E1.m1.1.1.1.2.2.3.3.cmml" xref="S2.E1.m1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S2.E1.m1.1.1.1.2.3.cmml" xref="S2.E1.m1.1.1.1.2.3">𝐾</ci></apply><apply id="S2.E1.m1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.3.1.cmml" xref="S2.E1.m1.1.1.1.3">superscript</csymbol><ci id="S2.E1.m1.1.1.1.3.2.cmml" xref="S2.E1.m1.1.1.1.3.2">𝑁</ci><ci id="S2.E1.m1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E1.m1.3.4.3.2.cmml" xref="S2.E1.m1.3.4.3.2"><apply id="S2.E1.m1.3.4.3.2.1.cmml" xref="S2.E1.m1.3.4.3.2.1"><csymbol cd="ambiguous" id="S2.E1.m1.3.4.3.2.1.1.cmml" xref="S2.E1.m1.3.4.3.2.1">superscript</csymbol><apply id="S2.E1.m1.3.4.3.2.1.2.cmml" xref="S2.E1.m1.3.4.3.2.1"><csymbol cd="ambiguous" id="S2.E1.m1.3.4.3.2.1.2.1.cmml" xref="S2.E1.m1.3.4.3.2.1">subscript</csymbol><sum id="S2.E1.m1.3.4.3.2.1.2.2.cmml" xref="S2.E1.m1.3.4.3.2.1.2.2"></sum><apply id="S2.E1.m1.3.4.3.2.1.2.3.cmml" xref="S2.E1.m1.3.4.3.2.1.2.3"><eq id="S2.E1.m1.3.4.3.2.1.2.3.1.cmml" xref="S2.E1.m1.3.4.3.2.1.2.3.1"></eq><ci id="S2.E1.m1.3.4.3.2.1.2.3.2.cmml" xref="S2.E1.m1.3.4.3.2.1.2.3.2">𝑖</ci><cn type="integer" id="S2.E1.m1.3.4.3.2.1.2.3.3.cmml" xref="S2.E1.m1.3.4.3.2.1.2.3.3">1</cn></apply></apply><ci id="S2.E1.m1.3.4.3.2.1.3.cmml" xref="S2.E1.m1.3.4.3.2.1.3">𝐾</ci></apply><apply id="S2.E1.m1.3.4.3.2.2.cmml" xref="S2.E1.m1.3.4.3.2.2"><times id="S2.E1.m1.3.4.3.2.2.1.cmml" xref="S2.E1.m1.3.4.3.2.2.1"></times><apply id="S2.E1.m1.3.4.3.2.2.2.cmml" xref="S2.E1.m1.3.4.3.2.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.3.4.3.2.2.2.1.cmml" xref="S2.E1.m1.3.4.3.2.2.2">superscript</csymbol><ci id="S2.E1.m1.3.4.3.2.2.2.2.cmml" xref="S2.E1.m1.3.4.3.2.2.2.2">𝑁</ci><ci id="S2.E1.m1.2.2.1.1.cmml" xref="S2.E1.m1.2.2.1.1">𝑖</ci></apply><apply id="S2.E1.m1.3.4.3.2.2.3.cmml" xref="S2.E1.m1.3.4.3.2.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.3.4.3.2.2.3.1.cmml" xref="S2.E1.m1.3.4.3.2.2.3">superscript</csymbol><apply id="S2.E1.m1.3.4.3.2.2.3.2.cmml" xref="S2.E1.m1.3.4.3.2.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.3.4.3.2.2.3.2.1.cmml" xref="S2.E1.m1.3.4.3.2.2.3">subscript</csymbol><ci id="S2.E1.m1.3.4.3.2.2.3.2.2.cmml" xref="S2.E1.m1.3.4.3.2.2.3.2.2">𝑤</ci><apply id="S2.E1.m1.3.4.3.2.2.3.2.3.cmml" xref="S2.E1.m1.3.4.3.2.2.3.2.3"><times id="S2.E1.m1.3.4.3.2.2.3.2.3.1.cmml" xref="S2.E1.m1.3.4.3.2.2.3.2.3.1"></times><ci id="S2.E1.m1.3.4.3.2.2.3.2.3.2.cmml" xref="S2.E1.m1.3.4.3.2.2.3.2.3.2">𝑠</ci><ci id="S2.E1.m1.3.4.3.2.2.3.2.3.3.cmml" xref="S2.E1.m1.3.4.3.2.2.3.2.3.3">𝑖</ci><ci id="S2.E1.m1.3.4.3.2.2.3.2.3.4.cmml" xref="S2.E1.m1.3.4.3.2.2.3.2.3.4">𝑡</ci><ci id="S2.E1.m1.3.4.3.2.2.3.2.3.5.cmml" xref="S2.E1.m1.3.4.3.2.2.3.2.3.5">𝑒</ci></apply></apply><ci id="S2.E1.m1.3.3.1.1.cmml" xref="S2.E1.m1.3.3.1.1">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.3c">w_{federated}=\frac{1}{\sum_{i=1}^{K}N^{(i)}}\sum_{i=1}^{K}N^{(i)}w_{site}^{(i)}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS1.SSS1.p3" class="ltx_para ltx_noindent">
<p id="S2.SS1.SSS1.p3.1" class="ltx_p">This federation strategy shows promising results for cases with clients having IID data sets. However, this strategy biases the final federated model towards the model trained on the client with the most samples. In their paper, McMahan et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> tested the FedAvg strategy on an image classification problems (MNIST and CIFAR-10 image classification) and language model for next character prediction (dataset built from The Complete Works of William Shakespeare). The authors use a convolutional neural network and recurrent neural network (long-short term memory - LSTM<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>) for their model architectures. They generated high-quality trained models for both tasks using FedAvg, and showed that the training procedure works even with few rounds of communication between local sites and a central server. However, one of the main drawbacks of federated averaging is that the <em id="S2.SS1.SSS1.p3.1.1" class="ltx_emph ltx_font_italic">unconstrained</em> training procedure on each site leads the model weights to diverge considerably from the federated model weights (in particular for scenarios where the sites have different data label distributions such as non-IID data scenario).</p>
</div>
</section>
<section id="S2.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.1.2 </span>Federated Proximity (FedProx)</h4>

<div id="S2.SS1.SSS2.p1" class="ltx_para ltx_noindent">
<p id="S2.SS1.SSS2.p1.4" class="ltx_p">Federated proximity (FedProx), proposed by Li et al.<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, aims to address the main drawback of federated averaging mentioned above. This federation strategy constrains the training procedure on the sites to reduce the divergence of the trained model weights from the federated model weights (so-called <em id="S2.SS1.SSS2.p1.4.1" class="ltx_emph ltx_font_italic">client drift</em>). The authors propose the addition of a regularization term (i.e., L2-norm squared) in the loss calculation on the site.
This regularization term can lead to a slower convergence rate of the federated model training, however, it is expected to smooth the convergence curves as updates to the federated model are smaller and more consistent across sites. Eq. <a href="#S2.E2" title="In 2.1.2 Federated Proximity (FedProx) ‣ 2.1 Federated Learning Strategies ‣ 2 Materials and Methods ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows how the local loss calculation on the site is modified to reduce client drift at <math id="S2.SS1.SSS2.p1.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS1.SSS2.p1.1.m1.1a"><mi id="S2.SS1.SSS2.p1.1.m1.1.1" xref="S2.SS1.SSS2.p1.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS2.p1.1.m1.1b"><ci id="S2.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S2.SS1.SSS2.p1.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS2.p1.1.m1.1c">i</annotation></semantics></math>-th communication round and<math id="S2.SS1.SSS2.p1.2.m2.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S2.SS1.SSS2.p1.2.m2.1a"><mi id="S2.SS1.SSS2.p1.2.m2.1.1" xref="S2.SS1.SSS2.p1.2.m2.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS2.p1.2.m2.1b"><ci id="S2.SS1.SSS2.p1.2.m2.1.1.cmml" xref="S2.SS1.SSS2.p1.2.m2.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS2.p1.2.m2.1c">j</annotation></semantics></math>-th local training epoch (<math id="S2.SS1.SSS2.p1.3.m3.1" class="ltx_Math" alttext="w" display="inline"><semantics id="S2.SS1.SSS2.p1.3.m3.1a"><mi id="S2.SS1.SSS2.p1.3.m3.1.1" xref="S2.SS1.SSS2.p1.3.m3.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS2.p1.3.m3.1b"><ci id="S2.SS1.SSS2.p1.3.m3.1.1.cmml" xref="S2.SS1.SSS2.p1.3.m3.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS2.p1.3.m3.1c">w</annotation></semantics></math> are the model weights and <math id="S2.SS1.SSS2.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="S2.SS1.SSS2.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.SSS2.p1.4.m4.1.1" xref="S2.SS1.SSS2.p1.4.m4.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS2.p1.4.m4.1b"><ci id="S2.SS1.SSS2.p1.4.m4.1.1.cmml" xref="S2.SS1.SSS2.p1.4.m4.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS2.p1.4.m4.1c">\mathcal{L}</annotation></semantics></math> is the loss computed on the site for backpropagation):</p>
</div>
<div id="S2.SS1.SSS2.p2" class="ltx_para ltx_noindent">
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.5" class="ltx_Math" alttext="\mathcal{L}_{site}^{(j)}=\mathcal{L}_{site}^{(j)}+\frac{1}{2}\mu\lVert w_{site}^{(j)}-w_{federated}^{(i)}\rVert^{2}" display="block"><semantics id="S2.E2.m1.5a"><mrow id="S2.E2.m1.5.5" xref="S2.E2.m1.5.5.cmml"><msubsup id="S2.E2.m1.5.5.3" xref="S2.E2.m1.5.5.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.5.5.3.2.2" xref="S2.E2.m1.5.5.3.2.2.cmml">ℒ</mi><mrow id="S2.E2.m1.5.5.3.2.3" xref="S2.E2.m1.5.5.3.2.3.cmml"><mi id="S2.E2.m1.5.5.3.2.3.2" xref="S2.E2.m1.5.5.3.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.3.2.3.1" xref="S2.E2.m1.5.5.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.3.2.3.3" xref="S2.E2.m1.5.5.3.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.3.2.3.1a" xref="S2.E2.m1.5.5.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.3.2.3.4" xref="S2.E2.m1.5.5.3.2.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.3.2.3.1b" xref="S2.E2.m1.5.5.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.3.2.3.5" xref="S2.E2.m1.5.5.3.2.3.5.cmml">e</mi></mrow><mrow id="S2.E2.m1.1.1.1.3" xref="S2.E2.m1.5.5.3.cmml"><mo stretchy="false" id="S2.E2.m1.1.1.1.3.1" xref="S2.E2.m1.5.5.3.cmml">(</mo><mi id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml">j</mi><mo stretchy="false" id="S2.E2.m1.1.1.1.3.2" xref="S2.E2.m1.5.5.3.cmml">)</mo></mrow></msubsup><mo id="S2.E2.m1.5.5.2" xref="S2.E2.m1.5.5.2.cmml">=</mo><mrow id="S2.E2.m1.5.5.1" xref="S2.E2.m1.5.5.1.cmml"><msubsup id="S2.E2.m1.5.5.1.3" xref="S2.E2.m1.5.5.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.5.5.1.3.2.2" xref="S2.E2.m1.5.5.1.3.2.2.cmml">ℒ</mi><mrow id="S2.E2.m1.5.5.1.3.2.3" xref="S2.E2.m1.5.5.1.3.2.3.cmml"><mi id="S2.E2.m1.5.5.1.3.2.3.2" xref="S2.E2.m1.5.5.1.3.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.3.2.3.1" xref="S2.E2.m1.5.5.1.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.3.2.3.3" xref="S2.E2.m1.5.5.1.3.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.3.2.3.1a" xref="S2.E2.m1.5.5.1.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.3.2.3.4" xref="S2.E2.m1.5.5.1.3.2.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.3.2.3.1b" xref="S2.E2.m1.5.5.1.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.3.2.3.5" xref="S2.E2.m1.5.5.1.3.2.3.5.cmml">e</mi></mrow><mrow id="S2.E2.m1.2.2.1.3" xref="S2.E2.m1.5.5.1.3.cmml"><mo stretchy="false" id="S2.E2.m1.2.2.1.3.1" xref="S2.E2.m1.5.5.1.3.cmml">(</mo><mi id="S2.E2.m1.2.2.1.1" xref="S2.E2.m1.2.2.1.1.cmml">j</mi><mo stretchy="false" id="S2.E2.m1.2.2.1.3.2" xref="S2.E2.m1.5.5.1.3.cmml">)</mo></mrow></msubsup><mo id="S2.E2.m1.5.5.1.2" xref="S2.E2.m1.5.5.1.2.cmml">+</mo><mrow id="S2.E2.m1.5.5.1.1" xref="S2.E2.m1.5.5.1.1.cmml"><mfrac id="S2.E2.m1.5.5.1.1.3" xref="S2.E2.m1.5.5.1.1.3.cmml"><mn id="S2.E2.m1.5.5.1.1.3.2" xref="S2.E2.m1.5.5.1.1.3.2.cmml">1</mn><mn id="S2.E2.m1.5.5.1.1.3.3" xref="S2.E2.m1.5.5.1.1.3.3.cmml">2</mn></mfrac><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.2" xref="S2.E2.m1.5.5.1.1.2.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.4" xref="S2.E2.m1.5.5.1.1.4.cmml">μ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.2a" xref="S2.E2.m1.5.5.1.1.2.cmml">​</mo><msup id="S2.E2.m1.5.5.1.1.1" xref="S2.E2.m1.5.5.1.1.1.cmml"><mrow id="S2.E2.m1.5.5.1.1.1.1.1" xref="S2.E2.m1.5.5.1.1.1.1.2.cmml"><mo fence="true" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.2" xref="S2.E2.m1.5.5.1.1.1.1.2.1.cmml">∥</mo><mrow id="S2.E2.m1.5.5.1.1.1.1.1.1" xref="S2.E2.m1.5.5.1.1.1.1.1.1.cmml"><msubsup id="S2.E2.m1.5.5.1.1.1.1.1.1.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.cmml"><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.2.cmml">w</mi><mrow id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.cmml"><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.1" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.1a" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.4" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.1b" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.5" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.5.cmml">e</mi></mrow><mrow id="S2.E2.m1.3.3.1.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E2.m1.3.3.1.3.1" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.cmml">(</mo><mi id="S2.E2.m1.3.3.1.1" xref="S2.E2.m1.3.3.1.1.cmml">j</mi><mo stretchy="false" id="S2.E2.m1.3.3.1.3.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.cmml">)</mo></mrow></msubsup><mo id="S2.E2.m1.5.5.1.1.1.1.1.1.1" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.cmml">−</mo><msubsup id="S2.E2.m1.5.5.1.1.1.1.1.1.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.cmml"><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.2.cmml">w</mi><mrow id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.cmml"><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1a" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.4" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.4.cmml">d</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1b" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.5" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1c" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.6" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.6.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1d" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.7" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1e" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.8" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1f" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.9" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1g" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.10" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.10.cmml">d</mi></mrow><mrow id="S2.E2.m1.4.4.1.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S2.E2.m1.4.4.1.3.1" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.cmml">(</mo><mi id="S2.E2.m1.4.4.1.1" xref="S2.E2.m1.4.4.1.1.cmml">i</mi><mo stretchy="false" id="S2.E2.m1.4.4.1.3.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.cmml">)</mo></mrow></msubsup></mrow><mo fence="true" lspace="0em" id="S2.E2.m1.5.5.1.1.1.1.1.3" xref="S2.E2.m1.5.5.1.1.1.1.2.1.cmml">∥</mo></mrow><mn id="S2.E2.m1.5.5.1.1.1.3" xref="S2.E2.m1.5.5.1.1.1.3.cmml">2</mn></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.5b"><apply id="S2.E2.m1.5.5.cmml" xref="S2.E2.m1.5.5"><eq id="S2.E2.m1.5.5.2.cmml" xref="S2.E2.m1.5.5.2"></eq><apply id="S2.E2.m1.5.5.3.cmml" xref="S2.E2.m1.5.5.3"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.3.1.cmml" xref="S2.E2.m1.5.5.3">superscript</csymbol><apply id="S2.E2.m1.5.5.3.2.cmml" xref="S2.E2.m1.5.5.3"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.3.2.1.cmml" xref="S2.E2.m1.5.5.3">subscript</csymbol><ci id="S2.E2.m1.5.5.3.2.2.cmml" xref="S2.E2.m1.5.5.3.2.2">ℒ</ci><apply id="S2.E2.m1.5.5.3.2.3.cmml" xref="S2.E2.m1.5.5.3.2.3"><times id="S2.E2.m1.5.5.3.2.3.1.cmml" xref="S2.E2.m1.5.5.3.2.3.1"></times><ci id="S2.E2.m1.5.5.3.2.3.2.cmml" xref="S2.E2.m1.5.5.3.2.3.2">𝑠</ci><ci id="S2.E2.m1.5.5.3.2.3.3.cmml" xref="S2.E2.m1.5.5.3.2.3.3">𝑖</ci><ci id="S2.E2.m1.5.5.3.2.3.4.cmml" xref="S2.E2.m1.5.5.3.2.3.4">𝑡</ci><ci id="S2.E2.m1.5.5.3.2.3.5.cmml" xref="S2.E2.m1.5.5.3.2.3.5">𝑒</ci></apply></apply><ci id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1">𝑗</ci></apply><apply id="S2.E2.m1.5.5.1.cmml" xref="S2.E2.m1.5.5.1"><plus id="S2.E2.m1.5.5.1.2.cmml" xref="S2.E2.m1.5.5.1.2"></plus><apply id="S2.E2.m1.5.5.1.3.cmml" xref="S2.E2.m1.5.5.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.3.1.cmml" xref="S2.E2.m1.5.5.1.3">superscript</csymbol><apply id="S2.E2.m1.5.5.1.3.2.cmml" xref="S2.E2.m1.5.5.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.3.2.1.cmml" xref="S2.E2.m1.5.5.1.3">subscript</csymbol><ci id="S2.E2.m1.5.5.1.3.2.2.cmml" xref="S2.E2.m1.5.5.1.3.2.2">ℒ</ci><apply id="S2.E2.m1.5.5.1.3.2.3.cmml" xref="S2.E2.m1.5.5.1.3.2.3"><times id="S2.E2.m1.5.5.1.3.2.3.1.cmml" xref="S2.E2.m1.5.5.1.3.2.3.1"></times><ci id="S2.E2.m1.5.5.1.3.2.3.2.cmml" xref="S2.E2.m1.5.5.1.3.2.3.2">𝑠</ci><ci id="S2.E2.m1.5.5.1.3.2.3.3.cmml" xref="S2.E2.m1.5.5.1.3.2.3.3">𝑖</ci><ci id="S2.E2.m1.5.5.1.3.2.3.4.cmml" xref="S2.E2.m1.5.5.1.3.2.3.4">𝑡</ci><ci id="S2.E2.m1.5.5.1.3.2.3.5.cmml" xref="S2.E2.m1.5.5.1.3.2.3.5">𝑒</ci></apply></apply><ci id="S2.E2.m1.2.2.1.1.cmml" xref="S2.E2.m1.2.2.1.1">𝑗</ci></apply><apply id="S2.E2.m1.5.5.1.1.cmml" xref="S2.E2.m1.5.5.1.1"><times id="S2.E2.m1.5.5.1.1.2.cmml" xref="S2.E2.m1.5.5.1.1.2"></times><apply id="S2.E2.m1.5.5.1.1.3.cmml" xref="S2.E2.m1.5.5.1.1.3"><divide id="S2.E2.m1.5.5.1.1.3.1.cmml" xref="S2.E2.m1.5.5.1.1.3"></divide><cn type="integer" id="S2.E2.m1.5.5.1.1.3.2.cmml" xref="S2.E2.m1.5.5.1.1.3.2">1</cn><cn type="integer" id="S2.E2.m1.5.5.1.1.3.3.cmml" xref="S2.E2.m1.5.5.1.1.3.3">2</cn></apply><ci id="S2.E2.m1.5.5.1.1.4.cmml" xref="S2.E2.m1.5.5.1.1.4">𝜇</ci><apply id="S2.E2.m1.5.5.1.1.1.cmml" xref="S2.E2.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.1.1.2.cmml" xref="S2.E2.m1.5.5.1.1.1">superscript</csymbol><apply id="S2.E2.m1.5.5.1.1.1.1.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1"><csymbol cd="latexml" id="S2.E2.m1.5.5.1.1.1.1.2.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.2">delimited-∥∥</csymbol><apply id="S2.E2.m1.5.5.1.1.1.1.1.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1"><minus id="S2.E2.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1"></minus><apply id="S2.E2.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.1.1.1.1.1.2.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2">superscript</csymbol><apply id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.2">𝑤</ci><apply id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3"><times id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.1"></times><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.2">𝑠</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.3.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.3">𝑖</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.4.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.4">𝑡</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.5.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.2.3.5">𝑒</ci></apply></apply><ci id="S2.E2.m1.3.3.1.1.cmml" xref="S2.E2.m1.3.3.1.1">𝑗</ci></apply><apply id="S2.E2.m1.5.5.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3">superscript</csymbol><apply id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.2">𝑤</ci><apply id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3"><times id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.1"></times><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.2">𝑓</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.3.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.3">𝑒</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.4.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.4">𝑑</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.5.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.5">𝑒</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.6.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.6">𝑟</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.7.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.7">𝑎</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.8.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.8">𝑡</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.9.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.9">𝑒</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.10.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.3.2.3.10">𝑑</ci></apply></apply><ci id="S2.E2.m1.4.4.1.1.cmml" xref="S2.E2.m1.4.4.1.1">𝑖</ci></apply></apply></apply><cn type="integer" id="S2.E2.m1.5.5.1.1.1.3.cmml" xref="S2.E2.m1.5.5.1.1.1.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.5c">\mathcal{L}_{site}^{(j)}=\mathcal{L}_{site}^{(j)}+\frac{1}{2}\mu\lVert w_{site}^{(j)}-w_{federated}^{(i)}\rVert^{2}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS1.SSS2.p3" class="ltx_para ltx_noindent">
<p id="S2.SS1.SSS2.p3.1" class="ltx_p">When the regularization parameter <math id="S2.SS1.SSS2.p3.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S2.SS1.SSS2.p3.1.m1.1a"><mi id="S2.SS1.SSS2.p3.1.m1.1.1" xref="S2.SS1.SSS2.p3.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS2.p3.1.m1.1b"><ci id="S2.SS1.SSS2.p3.1.m1.1.1.cmml" xref="S2.SS1.SSS2.p3.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS2.p3.1.m1.1c">\mu</annotation></semantics></math> is set equal to 0, FedProx is equivalent to FedAvg. It’s important to mention that the regularization procedure on the site can be used in combination with any aggregation strategy on the server-side.</p>
</div>
<div id="S2.SS1.SSS2.p4" class="ltx_para ltx_noindent">
<p id="S2.SS1.SSS2.p4.1" class="ltx_p">Table <a href="#S2.T1" title="Table 1 ‣ 2.1.2 Federated Proximity (FedProx) ‣ 2.1 Federated Learning Strategies ‣ 2 Materials and Methods ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the key differences between the presented federation strategies:</p>
</div>
<figure id="S2.T1" class="ltx_table">
<table id="S2.T1.2" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S2.T1.2.3" class="ltx_tr">
<td id="S2.T1.2.3.1" class="ltx_td ltx_align_left ltx_border_tt"><span id="S2.T1.2.3.1.1" class="ltx_text ltx_font_bold">Domain</span></td>
<td id="S2.T1.2.3.2" class="ltx_td ltx_align_center ltx_border_tt"><span id="S2.T1.2.3.2.1" class="ltx_text ltx_font_bold">FedAvg</span></td>
<td id="S2.T1.2.3.3" class="ltx_td ltx_align_center ltx_border_tt"><span id="S2.T1.2.3.3.1" class="ltx_text ltx_font_bold">FedProx</span></td>
</tr>
<tr id="S2.T1.2.4" class="ltx_tr">
<td id="S2.T1.2.4.1" class="ltx_td ltx_align_left ltx_border_tt"><span id="S2.T1.2.4.1.1" class="ltx_text ltx_font_italic">Model merging</span></td>
<td id="S2.T1.2.4.2" class="ltx_td ltx_align_center ltx_border_tt">
<span id="S2.T1.2.4.2.1" class="ltx_text"></span> <span id="S2.T1.2.4.2.2" class="ltx_text">
<span id="S2.T1.2.4.2.2.1" class="ltx_tabular ltx_align_middle">
<span id="S2.T1.2.4.2.2.1.1" class="ltx_tr">
<span id="S2.T1.2.4.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Weighted averaging of</span></span>
<span id="S2.T1.2.4.2.2.1.2" class="ltx_tr">
<span id="S2.T1.2.4.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">model weights</span></span>
</span></span><span id="S2.T1.2.4.2.3" class="ltx_text"></span></td>
<td id="S2.T1.2.4.3" class="ltx_td ltx_align_center ltx_border_tt">
<span id="S2.T1.2.4.3.1" class="ltx_text"></span> <span id="S2.T1.2.4.3.2" class="ltx_text">
<span id="S2.T1.2.4.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S2.T1.2.4.3.2.1.1" class="ltx_tr">
<span id="S2.T1.2.4.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Weighted averaging of</span></span>
<span id="S2.T1.2.4.3.2.1.2" class="ltx_tr">
<span id="S2.T1.2.4.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">model weights</span></span>
</span></span><span id="S2.T1.2.4.3.3" class="ltx_text"></span></td>
</tr>
<tr id="S2.T1.2.2" class="ltx_tr">
<td id="S2.T1.2.2.3" class="ltx_td ltx_align_left ltx_border_bb"><span id="S2.T1.2.2.3.1" class="ltx_text ltx_font_italic">Local training procedure</span></td>
<td id="S2.T1.1.1.1" class="ltx_td ltx_align_center ltx_border_bb"><math id="S2.T1.1.1.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{site}^{(j)}" display="inline"><semantics id="S2.T1.1.1.1.m1.1a"><msubsup id="S2.T1.1.1.1.m1.1.2" xref="S2.T1.1.1.1.m1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.T1.1.1.1.m1.1.2.2.2" xref="S2.T1.1.1.1.m1.1.2.2.2.cmml">ℒ</mi><mrow id="S2.T1.1.1.1.m1.1.2.2.3" xref="S2.T1.1.1.1.m1.1.2.2.3.cmml"><mi id="S2.T1.1.1.1.m1.1.2.2.3.2" xref="S2.T1.1.1.1.m1.1.2.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.T1.1.1.1.m1.1.2.2.3.1" xref="S2.T1.1.1.1.m1.1.2.2.3.1.cmml">​</mo><mi id="S2.T1.1.1.1.m1.1.2.2.3.3" xref="S2.T1.1.1.1.m1.1.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.T1.1.1.1.m1.1.2.2.3.1a" xref="S2.T1.1.1.1.m1.1.2.2.3.1.cmml">​</mo><mi id="S2.T1.1.1.1.m1.1.2.2.3.4" xref="S2.T1.1.1.1.m1.1.2.2.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.T1.1.1.1.m1.1.2.2.3.1b" xref="S2.T1.1.1.1.m1.1.2.2.3.1.cmml">​</mo><mi id="S2.T1.1.1.1.m1.1.2.2.3.5" xref="S2.T1.1.1.1.m1.1.2.2.3.5.cmml">e</mi></mrow><mrow id="S2.T1.1.1.1.m1.1.1.1.3" xref="S2.T1.1.1.1.m1.1.2.cmml"><mo stretchy="false" id="S2.T1.1.1.1.m1.1.1.1.3.1" xref="S2.T1.1.1.1.m1.1.2.cmml">(</mo><mi id="S2.T1.1.1.1.m1.1.1.1.1" xref="S2.T1.1.1.1.m1.1.1.1.1.cmml">j</mi><mo stretchy="false" id="S2.T1.1.1.1.m1.1.1.1.3.2" xref="S2.T1.1.1.1.m1.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.T1.1.1.1.m1.1b"><apply id="S2.T1.1.1.1.m1.1.2.cmml" xref="S2.T1.1.1.1.m1.1.2"><csymbol cd="ambiguous" id="S2.T1.1.1.1.m1.1.2.1.cmml" xref="S2.T1.1.1.1.m1.1.2">superscript</csymbol><apply id="S2.T1.1.1.1.m1.1.2.2.cmml" xref="S2.T1.1.1.1.m1.1.2"><csymbol cd="ambiguous" id="S2.T1.1.1.1.m1.1.2.2.1.cmml" xref="S2.T1.1.1.1.m1.1.2">subscript</csymbol><ci id="S2.T1.1.1.1.m1.1.2.2.2.cmml" xref="S2.T1.1.1.1.m1.1.2.2.2">ℒ</ci><apply id="S2.T1.1.1.1.m1.1.2.2.3.cmml" xref="S2.T1.1.1.1.m1.1.2.2.3"><times id="S2.T1.1.1.1.m1.1.2.2.3.1.cmml" xref="S2.T1.1.1.1.m1.1.2.2.3.1"></times><ci id="S2.T1.1.1.1.m1.1.2.2.3.2.cmml" xref="S2.T1.1.1.1.m1.1.2.2.3.2">𝑠</ci><ci id="S2.T1.1.1.1.m1.1.2.2.3.3.cmml" xref="S2.T1.1.1.1.m1.1.2.2.3.3">𝑖</ci><ci id="S2.T1.1.1.1.m1.1.2.2.3.4.cmml" xref="S2.T1.1.1.1.m1.1.2.2.3.4">𝑡</ci><ci id="S2.T1.1.1.1.m1.1.2.2.3.5.cmml" xref="S2.T1.1.1.1.m1.1.2.2.3.5">𝑒</ci></apply></apply><ci id="S2.T1.1.1.1.m1.1.1.1.1.cmml" xref="S2.T1.1.1.1.m1.1.1.1.1">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.T1.1.1.1.m1.1c">\mathcal{L}_{site}^{(j)}</annotation></semantics></math></td>
<td id="S2.T1.2.2.2" class="ltx_td ltx_align_center ltx_border_bb">
<span id="S2.T1.2.2.2.2" class="ltx_text"></span> <span id="S2.T1.2.2.2.1" class="ltx_text">
<span id="S2.T1.2.2.2.1.1" class="ltx_tabular ltx_align_middle">
<span id="S2.T1.2.2.2.1.1.1" class="ltx_tr">
<span id="S2.T1.2.2.2.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><math id="S2.T1.2.2.2.1.1.1.1.m1.4" class="ltx_Math" alttext="\mathcal{L}_{site}^{(j)}+\frac{1}{2}\mu\lVert w_{site}^{(j)}-w_{federated}^{(i)}\rVert^{2}" display="inline"><semantics id="S2.T1.2.2.2.1.1.1.1.m1.4a"><mrow id="S2.T1.2.2.2.1.1.1.1.m1.4.4" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.cmml"><msubsup id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.2.cmml">ℒ</mi><mrow id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.cmml"><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.1" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.1a" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.4" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.1b" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.5" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.5.cmml">e</mi></mrow><mrow id="S2.T1.2.2.2.1.1.1.1.m1.1.1.1.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.cmml"><mo stretchy="false" id="S2.T1.2.2.2.1.1.1.1.m1.1.1.1.3.1" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.cmml">(</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.1.1.1.1" xref="S2.T1.2.2.2.1.1.1.1.m1.1.1.1.1.cmml">j</mi><mo stretchy="false" id="S2.T1.2.2.2.1.1.1.1.m1.1.1.1.3.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.cmml">)</mo></mrow></msubsup><mo id="S2.T1.2.2.2.1.1.1.1.m1.4.4.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.2.cmml">+</mo><mrow id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.cmml"><mfrac id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3.cmml"><mn id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3.2.cmml">1</mn><mn id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3.3.cmml">2</mn></mfrac><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.2.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.4" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.4.cmml">μ</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.2a" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.2.cmml">​</mo><msup id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.cmml"><mrow id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.2.cmml"><mo fence="true" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.2.1.cmml">∥</mo><mrow id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.cmml"><msubsup id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.cmml"><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.2.cmml">w</mi><mrow id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.cmml"><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.1" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.1a" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.4" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.1b" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.5" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.5.cmml">e</mi></mrow><mrow id="S2.T1.2.2.2.1.1.1.1.m1.2.2.1.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.T1.2.2.2.1.1.1.1.m1.2.2.1.3.1" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.cmml">(</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.2.2.1.1" xref="S2.T1.2.2.2.1.1.1.1.m1.2.2.1.1.cmml">j</mi><mo stretchy="false" id="S2.T1.2.2.2.1.1.1.1.m1.2.2.1.3.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.cmml">)</mo></mrow></msubsup><mo id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.1" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.1.cmml">−</mo><msubsup id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.cmml"><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.2.cmml">w</mi><mrow id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.cmml"><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1a" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.4" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.4.cmml">d</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1b" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.5" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1c" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.6" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.6.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1d" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.7" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1e" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.8" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1f" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.9" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1g" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.10" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.10.cmml">d</mi></mrow><mrow id="S2.T1.2.2.2.1.1.1.1.m1.3.3.1.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S2.T1.2.2.2.1.1.1.1.m1.3.3.1.3.1" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.cmml">(</mo><mi id="S2.T1.2.2.2.1.1.1.1.m1.3.3.1.1" xref="S2.T1.2.2.2.1.1.1.1.m1.3.3.1.1.cmml">i</mi><mo stretchy="false" id="S2.T1.2.2.2.1.1.1.1.m1.3.3.1.3.2" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.cmml">)</mo></mrow></msubsup></mrow><mo fence="true" lspace="0em" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.2.1.cmml">∥</mo></mrow><mn id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.3" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.3.cmml">2</mn></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.T1.2.2.2.1.1.1.1.m1.4b"><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4"><plus id="S2.T1.2.2.2.1.1.1.1.m1.4.4.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.2"></plus><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3"><csymbol cd="ambiguous" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3">superscript</csymbol><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3"><csymbol cd="ambiguous" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3">subscript</csymbol><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.2">ℒ</ci><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3"><times id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.1"></times><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.2">𝑠</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.3.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.3">𝑖</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.4.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.4">𝑡</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.5.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.3.2.3.5">𝑒</ci></apply></apply><ci id="S2.T1.2.2.2.1.1.1.1.m1.1.1.1.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.1.1.1.1">𝑗</ci></apply><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1"><times id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.2"></times><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3"><divide id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3"></divide><cn type="integer" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3.2">1</cn><cn type="integer" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3.3.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.3.3">2</cn></apply><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.4.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.4">𝜇</ci><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1"><csymbol cd="ambiguous" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1">superscript</csymbol><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1"><csymbol cd="latexml" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.2.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.2">delimited-∥∥</csymbol><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1"><minus id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.1"></minus><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2">superscript</csymbol><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2">subscript</csymbol><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.2">𝑤</ci><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3"><times id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.1"></times><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.2">𝑠</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.3.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.3">𝑖</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.4.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.4">𝑡</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.5.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.2.2.3.5">𝑒</ci></apply></apply><ci id="S2.T1.2.2.2.1.1.1.1.m1.2.2.1.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.2.2.1.1">𝑗</ci></apply><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3">superscript</csymbol><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3">subscript</csymbol><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.2">𝑤</ci><apply id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3"><times id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.1"></times><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.2.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.2">𝑓</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.3.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.3">𝑒</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.4.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.4">𝑑</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.5.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.5">𝑒</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.6.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.6">𝑟</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.7.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.7">𝑎</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.8.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.8">𝑡</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.9.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.9">𝑒</ci><ci id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.10.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.1.1.1.3.2.3.10">𝑑</ci></apply></apply><ci id="S2.T1.2.2.2.1.1.1.1.m1.3.3.1.1.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.3.3.1.1">𝑖</ci></apply></apply></apply><cn type="integer" id="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.3.cmml" xref="S2.T1.2.2.2.1.1.1.1.m1.4.4.1.1.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.T1.2.2.2.1.1.1.1.m1.4c">\mathcal{L}_{site}^{(j)}+\frac{1}{2}\mu\lVert w_{site}^{(j)}-w_{federated}^{(i)}\rVert^{2}</annotation></semantics></math></span></span>
</span></span><span id="S2.T1.2.2.2.3" class="ltx_text"></span></td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Comparison of federation strategies.</figcaption>
</figure>
</section>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Differential Privacy (DP)</h3>

<div id="S2.SS2.p1" class="ltx_para ltx_noindent">
<p id="S2.SS2.p1.1" class="ltx_p">Although federated learning can preserve the local data privacy to a certain extent, it can be vulnerable to malicious acts such as model inference attacks leading to privacy leakage <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>. For example, inference attacks can reveal properties of the training samples such as sex, age or race <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, or even partially reconstruct the original images up to a certain level where someone can recognize its content <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>. One approach to ameliorate these issues is the use of privacy-preserving mechanisms, such as differential privacy (DP), to reduce the risk of privacy leakage in federated learning systems <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para ltx_noindent">
<p id="S2.SS2.p2.1" class="ltx_p">In this paper we focus on differential privacy-based algorithms. The formal concept of differential privacy (DP) was introduced by Dwork et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>. Their formal definition of a differentially private algorithm is given by Eq. <a href="#S2.E3" title="In 2.2 Differential Privacy (DP) ‣ 2 Materials and Methods ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. An algorithm is <math id="S2.SS2.p2.1.m1.2" class="ltx_Math" alttext="(\varepsilon,\delta)" display="inline"><semantics id="S2.SS2.p2.1.m1.2a"><mrow id="S2.SS2.p2.1.m1.2.3.2" xref="S2.SS2.p2.1.m1.2.3.1.cmml"><mo stretchy="false" id="S2.SS2.p2.1.m1.2.3.2.1" xref="S2.SS2.p2.1.m1.2.3.1.cmml">(</mo><mi id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml">ε</mi><mo id="S2.SS2.p2.1.m1.2.3.2.2" xref="S2.SS2.p2.1.m1.2.3.1.cmml">,</mo><mi id="S2.SS2.p2.1.m1.2.2" xref="S2.SS2.p2.1.m1.2.2.cmml">δ</mi><mo stretchy="false" id="S2.SS2.p2.1.m1.2.3.2.3" xref="S2.SS2.p2.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.2b"><interval closure="open" id="S2.SS2.p2.1.m1.2.3.1.cmml" xref="S2.SS2.p2.1.m1.2.3.2"><ci id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">𝜀</ci><ci id="S2.SS2.p2.1.m1.2.2.cmml" xref="S2.SS2.p2.1.m1.2.2">𝛿</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.2c">(\varepsilon,\delta)</annotation></semantics></math>-differentially private, if:</p>
</div>
<div id="S2.SS2.p3" class="ltx_para ltx_noindent">
<table id="S2.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E3.m1.5" class="ltx_Math" alttext="\text{Pr}\left[\mathcal{M}(D)\in\mathcal{S}\right]\leq\exp{(\varepsilon)}\text{Pr}\left[\mathcal{M}(D^{\prime})\in\mathcal{S}\right]+\delta" display="block"><semantics id="S2.E3.m1.5a"><mrow id="S2.E3.m1.5.5" xref="S2.E3.m1.5.5.cmml"><mrow id="S2.E3.m1.4.4.1" xref="S2.E3.m1.4.4.1.cmml"><mtext id="S2.E3.m1.4.4.1.3" xref="S2.E3.m1.4.4.1.3a.cmml">Pr</mtext><mo lspace="0em" rspace="0em" id="S2.E3.m1.4.4.1.2" xref="S2.E3.m1.4.4.1.2.cmml">​</mo><mrow id="S2.E3.m1.4.4.1.1.1" xref="S2.E3.m1.4.4.1.1.2.cmml"><mo id="S2.E3.m1.4.4.1.1.1.2" xref="S2.E3.m1.4.4.1.1.2.1.cmml">[</mo><mrow id="S2.E3.m1.4.4.1.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.cmml"><mrow id="S2.E3.m1.4.4.1.1.1.1.2" xref="S2.E3.m1.4.4.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.4.4.1.1.1.1.2.2" xref="S2.E3.m1.4.4.1.1.1.1.2.2.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.4.4.1.1.1.1.2.1" xref="S2.E3.m1.4.4.1.1.1.1.2.1.cmml">​</mo><mrow id="S2.E3.m1.4.4.1.1.1.1.2.3.2" xref="S2.E3.m1.4.4.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E3.m1.4.4.1.1.1.1.2.3.2.1" xref="S2.E3.m1.4.4.1.1.1.1.2.cmml">(</mo><mi id="S2.E3.m1.1.1" xref="S2.E3.m1.1.1.cmml">D</mi><mo stretchy="false" id="S2.E3.m1.4.4.1.1.1.1.2.3.2.2" xref="S2.E3.m1.4.4.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.4.4.1.1.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.4.4.1.1.1.1.3" xref="S2.E3.m1.4.4.1.1.1.1.3.cmml">𝒮</mi></mrow><mo id="S2.E3.m1.4.4.1.1.1.3" xref="S2.E3.m1.4.4.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E3.m1.5.5.3" xref="S2.E3.m1.5.5.3.cmml">≤</mo><mrow id="S2.E3.m1.5.5.2" xref="S2.E3.m1.5.5.2.cmml"><mrow id="S2.E3.m1.5.5.2.1" xref="S2.E3.m1.5.5.2.1.cmml"><mrow id="S2.E3.m1.5.5.2.1.3.2" xref="S2.E3.m1.5.5.2.1.3.1.cmml"><mi id="S2.E3.m1.2.2" xref="S2.E3.m1.2.2.cmml">exp</mi><mo id="S2.E3.m1.5.5.2.1.3.2a" xref="S2.E3.m1.5.5.2.1.3.1.cmml">⁡</mo><mrow id="S2.E3.m1.5.5.2.1.3.2.1" xref="S2.E3.m1.5.5.2.1.3.1.cmml"><mo stretchy="false" id="S2.E3.m1.5.5.2.1.3.2.1.1" xref="S2.E3.m1.5.5.2.1.3.1.cmml">(</mo><mi id="S2.E3.m1.3.3" xref="S2.E3.m1.3.3.cmml">ε</mi><mo stretchy="false" id="S2.E3.m1.5.5.2.1.3.2.1.2" xref="S2.E3.m1.5.5.2.1.3.1.cmml">)</mo></mrow></mrow><mo lspace="0em" rspace="0em" id="S2.E3.m1.5.5.2.1.2" xref="S2.E3.m1.5.5.2.1.2.cmml">​</mo><mtext id="S2.E3.m1.5.5.2.1.4" xref="S2.E3.m1.5.5.2.1.4a.cmml">Pr</mtext><mo lspace="0em" rspace="0em" id="S2.E3.m1.5.5.2.1.2a" xref="S2.E3.m1.5.5.2.1.2.cmml">​</mo><mrow id="S2.E3.m1.5.5.2.1.1.1" xref="S2.E3.m1.5.5.2.1.1.2.cmml"><mo id="S2.E3.m1.5.5.2.1.1.1.2" xref="S2.E3.m1.5.5.2.1.1.2.1.cmml">[</mo><mrow id="S2.E3.m1.5.5.2.1.1.1.1" xref="S2.E3.m1.5.5.2.1.1.1.1.cmml"><mrow id="S2.E3.m1.5.5.2.1.1.1.1.1" xref="S2.E3.m1.5.5.2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.5.5.2.1.1.1.1.1.3" xref="S2.E3.m1.5.5.2.1.1.1.1.1.3.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.5.5.2.1.1.1.1.1.2" xref="S2.E3.m1.5.5.2.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.2" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.2" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.2.cmml">D</mi><mo id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.3" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.3.cmml">′</mo></msup><mo stretchy="false" id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.5.5.2.1.1.1.1.2" xref="S2.E3.m1.5.5.2.1.1.1.1.2.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.5.5.2.1.1.1.1.3" xref="S2.E3.m1.5.5.2.1.1.1.1.3.cmml">𝒮</mi></mrow><mo id="S2.E3.m1.5.5.2.1.1.1.3" xref="S2.E3.m1.5.5.2.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E3.m1.5.5.2.2" xref="S2.E3.m1.5.5.2.2.cmml">+</mo><mi id="S2.E3.m1.5.5.2.3" xref="S2.E3.m1.5.5.2.3.cmml">δ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.5b"><apply id="S2.E3.m1.5.5.cmml" xref="S2.E3.m1.5.5"><leq id="S2.E3.m1.5.5.3.cmml" xref="S2.E3.m1.5.5.3"></leq><apply id="S2.E3.m1.4.4.1.cmml" xref="S2.E3.m1.4.4.1"><times id="S2.E3.m1.4.4.1.2.cmml" xref="S2.E3.m1.4.4.1.2"></times><ci id="S2.E3.m1.4.4.1.3a.cmml" xref="S2.E3.m1.4.4.1.3"><mtext id="S2.E3.m1.4.4.1.3.cmml" xref="S2.E3.m1.4.4.1.3">Pr</mtext></ci><apply id="S2.E3.m1.4.4.1.1.2.cmml" xref="S2.E3.m1.4.4.1.1.1"><csymbol cd="latexml" id="S2.E3.m1.4.4.1.1.2.1.cmml" xref="S2.E3.m1.4.4.1.1.1.2">delimited-[]</csymbol><apply id="S2.E3.m1.4.4.1.1.1.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1"><in id="S2.E3.m1.4.4.1.1.1.1.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1"></in><apply id="S2.E3.m1.4.4.1.1.1.1.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.2"><times id="S2.E3.m1.4.4.1.1.1.1.2.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.2.1"></times><ci id="S2.E3.m1.4.4.1.1.1.1.2.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.2.2">ℳ</ci><ci id="S2.E3.m1.1.1.cmml" xref="S2.E3.m1.1.1">𝐷</ci></apply><ci id="S2.E3.m1.4.4.1.1.1.1.3.cmml" xref="S2.E3.m1.4.4.1.1.1.1.3">𝒮</ci></apply></apply></apply><apply id="S2.E3.m1.5.5.2.cmml" xref="S2.E3.m1.5.5.2"><plus id="S2.E3.m1.5.5.2.2.cmml" xref="S2.E3.m1.5.5.2.2"></plus><apply id="S2.E3.m1.5.5.2.1.cmml" xref="S2.E3.m1.5.5.2.1"><times id="S2.E3.m1.5.5.2.1.2.cmml" xref="S2.E3.m1.5.5.2.1.2"></times><apply id="S2.E3.m1.5.5.2.1.3.1.cmml" xref="S2.E3.m1.5.5.2.1.3.2"><exp id="S2.E3.m1.2.2.cmml" xref="S2.E3.m1.2.2"></exp><ci id="S2.E3.m1.3.3.cmml" xref="S2.E3.m1.3.3">𝜀</ci></apply><ci id="S2.E3.m1.5.5.2.1.4a.cmml" xref="S2.E3.m1.5.5.2.1.4"><mtext id="S2.E3.m1.5.5.2.1.4.cmml" xref="S2.E3.m1.5.5.2.1.4">Pr</mtext></ci><apply id="S2.E3.m1.5.5.2.1.1.2.cmml" xref="S2.E3.m1.5.5.2.1.1.1"><csymbol cd="latexml" id="S2.E3.m1.5.5.2.1.1.2.1.cmml" xref="S2.E3.m1.5.5.2.1.1.1.2">delimited-[]</csymbol><apply id="S2.E3.m1.5.5.2.1.1.1.1.cmml" xref="S2.E3.m1.5.5.2.1.1.1.1"><in id="S2.E3.m1.5.5.2.1.1.1.1.2.cmml" xref="S2.E3.m1.5.5.2.1.1.1.1.2"></in><apply id="S2.E3.m1.5.5.2.1.1.1.1.1.cmml" xref="S2.E3.m1.5.5.2.1.1.1.1.1"><times id="S2.E3.m1.5.5.2.1.1.1.1.1.2.cmml" xref="S2.E3.m1.5.5.2.1.1.1.1.1.2"></times><ci id="S2.E3.m1.5.5.2.1.1.1.1.1.3.cmml" xref="S2.E3.m1.5.5.2.1.1.1.1.1.3">ℳ</ci><apply id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.2">𝐷</ci><ci id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.1.3">′</ci></apply></apply><ci id="S2.E3.m1.5.5.2.1.1.1.1.3.cmml" xref="S2.E3.m1.5.5.2.1.1.1.1.3">𝒮</ci></apply></apply></apply><ci id="S2.E3.m1.5.5.2.3.cmml" xref="S2.E3.m1.5.5.2.3">𝛿</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.5c">\text{Pr}\left[\mathcal{M}(D)\in\mathcal{S}\right]\leq\exp{(\varepsilon)}\text{Pr}\left[\mathcal{M}(D^{\prime})\in\mathcal{S}\right]+\delta</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS2.p4" class="ltx_para ltx_noindent">
<p id="S2.SS2.p4.6" class="ltx_p">holds for any model output <math id="S2.SS2.p4.1.m1.1" class="ltx_Math" alttext="\mathcal{S}\subseteq\text{Range}(\mathcal{M})" display="inline"><semantics id="S2.SS2.p4.1.m1.1a"><mrow id="S2.SS2.p4.1.m1.1.2" xref="S2.SS2.p4.1.m1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p4.1.m1.1.2.2" xref="S2.SS2.p4.1.m1.1.2.2.cmml">𝒮</mi><mo id="S2.SS2.p4.1.m1.1.2.1" xref="S2.SS2.p4.1.m1.1.2.1.cmml">⊆</mo><mrow id="S2.SS2.p4.1.m1.1.2.3" xref="S2.SS2.p4.1.m1.1.2.3.cmml"><mtext id="S2.SS2.p4.1.m1.1.2.3.2" xref="S2.SS2.p4.1.m1.1.2.3.2a.cmml">Range</mtext><mo lspace="0em" rspace="0em" id="S2.SS2.p4.1.m1.1.2.3.1" xref="S2.SS2.p4.1.m1.1.2.3.1.cmml">​</mo><mrow id="S2.SS2.p4.1.m1.1.2.3.3.2" xref="S2.SS2.p4.1.m1.1.2.3.cmml"><mo stretchy="false" id="S2.SS2.p4.1.m1.1.2.3.3.2.1" xref="S2.SS2.p4.1.m1.1.2.3.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p4.1.m1.1.1" xref="S2.SS2.p4.1.m1.1.1.cmml">ℳ</mi><mo stretchy="false" id="S2.SS2.p4.1.m1.1.2.3.3.2.2" xref="S2.SS2.p4.1.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.1.m1.1b"><apply id="S2.SS2.p4.1.m1.1.2.cmml" xref="S2.SS2.p4.1.m1.1.2"><subset id="S2.SS2.p4.1.m1.1.2.1.cmml" xref="S2.SS2.p4.1.m1.1.2.1"></subset><ci id="S2.SS2.p4.1.m1.1.2.2.cmml" xref="S2.SS2.p4.1.m1.1.2.2">𝒮</ci><apply id="S2.SS2.p4.1.m1.1.2.3.cmml" xref="S2.SS2.p4.1.m1.1.2.3"><times id="S2.SS2.p4.1.m1.1.2.3.1.cmml" xref="S2.SS2.p4.1.m1.1.2.3.1"></times><ci id="S2.SS2.p4.1.m1.1.2.3.2a.cmml" xref="S2.SS2.p4.1.m1.1.2.3.2"><mtext id="S2.SS2.p4.1.m1.1.2.3.2.cmml" xref="S2.SS2.p4.1.m1.1.2.3.2">Range</mtext></ci><ci id="S2.SS2.p4.1.m1.1.1.cmml" xref="S2.SS2.p4.1.m1.1.1">ℳ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.1.m1.1c">\mathcal{S}\subseteq\text{Range}(\mathcal{M})</annotation></semantics></math> and for any two data sets <math id="S2.SS2.p4.2.m2.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S2.SS2.p4.2.m2.1a"><mi id="S2.SS2.p4.2.m2.1.1" xref="S2.SS2.p4.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.2.m2.1b"><ci id="S2.SS2.p4.2.m2.1.1.cmml" xref="S2.SS2.p4.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.2.m2.1c">D</annotation></semantics></math> and <math id="S2.SS2.p4.3.m3.1" class="ltx_Math" alttext="D^{\prime}" display="inline"><semantics id="S2.SS2.p4.3.m3.1a"><msup id="S2.SS2.p4.3.m3.1.1" xref="S2.SS2.p4.3.m3.1.1.cmml"><mi id="S2.SS2.p4.3.m3.1.1.2" xref="S2.SS2.p4.3.m3.1.1.2.cmml">D</mi><mo id="S2.SS2.p4.3.m3.1.1.3" xref="S2.SS2.p4.3.m3.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.3.m3.1b"><apply id="S2.SS2.p4.3.m3.1.1.cmml" xref="S2.SS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.3.m3.1.1.1.cmml" xref="S2.SS2.p4.3.m3.1.1">superscript</csymbol><ci id="S2.SS2.p4.3.m3.1.1.2.cmml" xref="S2.SS2.p4.3.m3.1.1.2">𝐷</ci><ci id="S2.SS2.p4.3.m3.1.1.3.cmml" xref="S2.SS2.p4.3.m3.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.3.m3.1c">D^{\prime}</annotation></semantics></math> differing only in a single item. If <math id="S2.SS2.p4.4.m4.1" class="ltx_Math" alttext="\delta=0" display="inline"><semantics id="S2.SS2.p4.4.m4.1a"><mrow id="S2.SS2.p4.4.m4.1.1" xref="S2.SS2.p4.4.m4.1.1.cmml"><mi id="S2.SS2.p4.4.m4.1.1.2" xref="S2.SS2.p4.4.m4.1.1.2.cmml">δ</mi><mo id="S2.SS2.p4.4.m4.1.1.1" xref="S2.SS2.p4.4.m4.1.1.1.cmml">=</mo><mn id="S2.SS2.p4.4.m4.1.1.3" xref="S2.SS2.p4.4.m4.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.4.m4.1b"><apply id="S2.SS2.p4.4.m4.1.1.cmml" xref="S2.SS2.p4.4.m4.1.1"><eq id="S2.SS2.p4.4.m4.1.1.1.cmml" xref="S2.SS2.p4.4.m4.1.1.1"></eq><ci id="S2.SS2.p4.4.m4.1.1.2.cmml" xref="S2.SS2.p4.4.m4.1.1.2">𝛿</ci><cn type="integer" id="S2.SS2.p4.4.m4.1.1.3.cmml" xref="S2.SS2.p4.4.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.4.m4.1c">\delta=0</annotation></semantics></math>, then the algorithm <math id="S2.SS2.p4.5.m5.1" class="ltx_Math" alttext="\mathcal{M}" display="inline"><semantics id="S2.SS2.p4.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p4.5.m5.1.1" xref="S2.SS2.p4.5.m5.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.5.m5.1b"><ci id="S2.SS2.p4.5.m5.1.1.cmml" xref="S2.SS2.p4.5.m5.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.5.m5.1c">\mathcal{M}</annotation></semantics></math> is said to be <math id="S2.SS2.p4.6.m6.1" class="ltx_Math" alttext="\varepsilon" display="inline"><semantics id="S2.SS2.p4.6.m6.1a"><mi id="S2.SS2.p4.6.m6.1.1" xref="S2.SS2.p4.6.m6.1.1.cmml">ε</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.6.m6.1b"><ci id="S2.SS2.p4.6.m6.1.1.cmml" xref="S2.SS2.p4.6.m6.1.1">𝜀</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.6.m6.1c">\varepsilon</annotation></semantics></math>-differentially private. Dwork et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> provide an interpretation of the privacy guarantees that differential privacy offers to individual samples in a data set (e.g., patient), namely <span id="S2.SS2.p4.6.1" class="ltx_text ltx_font_italic">"… differential privacy promises that the probability of harm was not significantly increased by their [patient] choice to participate [in the data set]…"</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>.</p>
</div>
<div id="S2.SS2.p5" class="ltx_para ltx_noindent">
<p id="S2.SS2.p5.1" class="ltx_p">Differential privacy algorithms can be broadly divided into two main categories: (1) global/central differential privacy, and (2) local differential privacy. Global differential privacy is used to avoid information leaking from one site to another through the merging procedure on the central server (malicious site attack). An example is when one site provides malicious model weights updates that can be leveraged to reconstruct another site model weights. On the other hand, local differential privacy is used to avoid information leaking from one site to the central server (malicious server attack).</p>
</div>
<div id="S2.SS2.p6" class="ltx_para ltx_noindent">
<p id="S2.SS2.p6.1" class="ltx_p">In this paper, we focus on local differential privacy approaches using (1) stochastic gradient descent-based DP (DP-SGD), and (2) the sparse vector technique DP (DP-SVT).</p>
</div>
<section id="S2.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.2.1 </span>Stochastic Gradient Descent-based Differential Privacy (DP-SGD)</h4>

<div id="S2.SS2.SSS1.p1" class="ltx_para ltx_noindent">
<p id="S2.SS2.SSS1.p1.1" class="ltx_p">The method was proposed by Abadi et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> and is widely implemented in various Python packages, such as Opacus for PyTorch <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> and TensorFlow Privacy for TensorFlow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. DP-SGD is an attractive method for applying differential privacy to deep learning models since it closely mimics the classic stochastic gradient descent-based training of neural networks and is applicable to almost all network architectures.
This method directly introduces differential privacy during the model training by perturbing the model gradients. To achieve this, the DP-SGD algorithm calculates per sample gradients, clips them to a predefined threshold, and then aggregates them into a batch gradient. As a final step, DP-SGD adds Gaussian noise to the batch gradient before updating the model parameters (Alg. <a href="#alg1" title="Algorithm 1 ‣ 2.2.1 Stochastic Gradient Descent-based Differential Privacy (DP-SGD) ‣ 2.2 Differential Privacy (DP) ‣ 2 Materials and Methods ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).</p>
</div>
<figure id="alg1" class="ltx_float ltx_minipage ltx_align_center ltx_align_middle ltx_framed ltx_framed_top" style="width:390.3pt;">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Federated Stochastic Gradient Descent Differential Privacy (DP-SGD) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite></figcaption>
<div id="alg1.3" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span>Noise multiplier <math id="alg1.l1.m1.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="alg1.l1.m1.1a"><mi id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">\sigma</annotation></semantics></math>, gradient norm threshold <math id="alg1.l1.m2.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="alg1.l1.m2.1a"><mi id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><ci id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">\gamma</annotation></semantics></math>

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span>Number of batches <math id="alg1.l2.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="alg1.l2.m1.1a"><mi id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><ci id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">B</annotation></semantics></math>, <math id="alg1.l2.m2.1" class="ltx_Math" alttext="j" display="inline"><semantics id="alg1.l2.m2.1a"><mi id="alg1.l2.m2.1.1" xref="alg1.l2.m2.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="alg1.l2.m2.1b"><ci id="alg1.l2.m2.1.1.cmml" xref="alg1.l2.m2.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m2.1c">j</annotation></semantics></math>-th batch samples <math id="alg1.l2.m3.5" class="ltx_Math" alttext="\{x_{1}^{(j)},...,x_{N}^{(j)}\}" display="inline"><semantics id="alg1.l2.m3.5a"><mrow id="alg1.l2.m3.5.5.2" xref="alg1.l2.m3.5.5.3.cmml"><mo stretchy="false" id="alg1.l2.m3.5.5.2.3" xref="alg1.l2.m3.5.5.3.cmml">{</mo><msubsup id="alg1.l2.m3.4.4.1.1" xref="alg1.l2.m3.4.4.1.1.cmml"><mi id="alg1.l2.m3.4.4.1.1.2.2" xref="alg1.l2.m3.4.4.1.1.2.2.cmml">x</mi><mn id="alg1.l2.m3.4.4.1.1.2.3" xref="alg1.l2.m3.4.4.1.1.2.3.cmml">1</mn><mrow id="alg1.l2.m3.1.1.1.3" xref="alg1.l2.m3.4.4.1.1.cmml"><mo stretchy="false" id="alg1.l2.m3.1.1.1.3.1" xref="alg1.l2.m3.4.4.1.1.cmml">(</mo><mi id="alg1.l2.m3.1.1.1.1" xref="alg1.l2.m3.1.1.1.1.cmml">j</mi><mo stretchy="false" id="alg1.l2.m3.1.1.1.3.2" xref="alg1.l2.m3.4.4.1.1.cmml">)</mo></mrow></msubsup><mo id="alg1.l2.m3.5.5.2.4" xref="alg1.l2.m3.5.5.3.cmml">,</mo><mi mathvariant="normal" id="alg1.l2.m3.3.3" xref="alg1.l2.m3.3.3.cmml">…</mi><mo id="alg1.l2.m3.5.5.2.5" xref="alg1.l2.m3.5.5.3.cmml">,</mo><msubsup id="alg1.l2.m3.5.5.2.2" xref="alg1.l2.m3.5.5.2.2.cmml"><mi id="alg1.l2.m3.5.5.2.2.2.2" xref="alg1.l2.m3.5.5.2.2.2.2.cmml">x</mi><mi id="alg1.l2.m3.5.5.2.2.2.3" xref="alg1.l2.m3.5.5.2.2.2.3.cmml">N</mi><mrow id="alg1.l2.m3.2.2.1.3" xref="alg1.l2.m3.5.5.2.2.cmml"><mo stretchy="false" id="alg1.l2.m3.2.2.1.3.1" xref="alg1.l2.m3.5.5.2.2.cmml">(</mo><mi id="alg1.l2.m3.2.2.1.1" xref="alg1.l2.m3.2.2.1.1.cmml">j</mi><mo stretchy="false" id="alg1.l2.m3.2.2.1.3.2" xref="alg1.l2.m3.5.5.2.2.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="alg1.l2.m3.5.5.2.6" xref="alg1.l2.m3.5.5.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m3.5b"><set id="alg1.l2.m3.5.5.3.cmml" xref="alg1.l2.m3.5.5.2"><apply id="alg1.l2.m3.4.4.1.1.cmml" xref="alg1.l2.m3.4.4.1.1"><csymbol cd="ambiguous" id="alg1.l2.m3.4.4.1.1.1.cmml" xref="alg1.l2.m3.4.4.1.1">superscript</csymbol><apply id="alg1.l2.m3.4.4.1.1.2.cmml" xref="alg1.l2.m3.4.4.1.1"><csymbol cd="ambiguous" id="alg1.l2.m3.4.4.1.1.2.1.cmml" xref="alg1.l2.m3.4.4.1.1">subscript</csymbol><ci id="alg1.l2.m3.4.4.1.1.2.2.cmml" xref="alg1.l2.m3.4.4.1.1.2.2">𝑥</ci><cn type="integer" id="alg1.l2.m3.4.4.1.1.2.3.cmml" xref="alg1.l2.m3.4.4.1.1.2.3">1</cn></apply><ci id="alg1.l2.m3.1.1.1.1.cmml" xref="alg1.l2.m3.1.1.1.1">𝑗</ci></apply><ci id="alg1.l2.m3.3.3.cmml" xref="alg1.l2.m3.3.3">…</ci><apply id="alg1.l2.m3.5.5.2.2.cmml" xref="alg1.l2.m3.5.5.2.2"><csymbol cd="ambiguous" id="alg1.l2.m3.5.5.2.2.1.cmml" xref="alg1.l2.m3.5.5.2.2">superscript</csymbol><apply id="alg1.l2.m3.5.5.2.2.2.cmml" xref="alg1.l2.m3.5.5.2.2"><csymbol cd="ambiguous" id="alg1.l2.m3.5.5.2.2.2.1.cmml" xref="alg1.l2.m3.5.5.2.2">subscript</csymbol><ci id="alg1.l2.m3.5.5.2.2.2.2.cmml" xref="alg1.l2.m3.5.5.2.2.2.2">𝑥</ci><ci id="alg1.l2.m3.5.5.2.2.2.3.cmml" xref="alg1.l2.m3.5.5.2.2.2.3">𝑁</ci></apply><ci id="alg1.l2.m3.2.2.1.1.cmml" xref="alg1.l2.m3.2.2.1.1">𝑗</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m3.5c">\{x_{1}^{(j)},...,x_{N}^{(j)}\}</annotation></semantics></math>, learning rate <math id="alg1.l2.m4.1" class="ltx_Math" alttext="\eta_{j}" display="inline"><semantics id="alg1.l2.m4.1a"><msub id="alg1.l2.m4.1.1" xref="alg1.l2.m4.1.1.cmml"><mi id="alg1.l2.m4.1.1.2" xref="alg1.l2.m4.1.1.2.cmml">η</mi><mi id="alg1.l2.m4.1.1.3" xref="alg1.l2.m4.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l2.m4.1b"><apply id="alg1.l2.m4.1.1.cmml" xref="alg1.l2.m4.1.1"><csymbol cd="ambiguous" id="alg1.l2.m4.1.1.1.cmml" xref="alg1.l2.m4.1.1">subscript</csymbol><ci id="alg1.l2.m4.1.1.2.cmml" xref="alg1.l2.m4.1.1.2">𝜂</ci><ci id="alg1.l2.m4.1.1.3.cmml" xref="alg1.l2.m4.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m4.1c">\eta_{j}</annotation></semantics></math>, loss function <math id="alg1.l2.m5.2" class="ltx_Math" alttext="\mathcal{L}(\textbf{w},x)" display="inline"><semantics id="alg1.l2.m5.2a"><mrow id="alg1.l2.m5.2.3" xref="alg1.l2.m5.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l2.m5.2.3.2" xref="alg1.l2.m5.2.3.2.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m5.2.3.1" xref="alg1.l2.m5.2.3.1.cmml">​</mo><mrow id="alg1.l2.m5.2.3.3.2" xref="alg1.l2.m5.2.3.3.1.cmml"><mo stretchy="false" id="alg1.l2.m5.2.3.3.2.1" xref="alg1.l2.m5.2.3.3.1.cmml">(</mo><mtext class="ltx_mathvariant_bold" id="alg1.l2.m5.1.1" xref="alg1.l2.m5.1.1a.cmml">w</mtext><mo id="alg1.l2.m5.2.3.3.2.2" xref="alg1.l2.m5.2.3.3.1.cmml">,</mo><mi id="alg1.l2.m5.2.2" xref="alg1.l2.m5.2.2.cmml">x</mi><mo stretchy="false" id="alg1.l2.m5.2.3.3.2.3" xref="alg1.l2.m5.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m5.2b"><apply id="alg1.l2.m5.2.3.cmml" xref="alg1.l2.m5.2.3"><times id="alg1.l2.m5.2.3.1.cmml" xref="alg1.l2.m5.2.3.1"></times><ci id="alg1.l2.m5.2.3.2.cmml" xref="alg1.l2.m5.2.3.2">ℒ</ci><interval closure="open" id="alg1.l2.m5.2.3.3.1.cmml" xref="alg1.l2.m5.2.3.3.2"><ci id="alg1.l2.m5.1.1a.cmml" xref="alg1.l2.m5.1.1"><mtext class="ltx_mathvariant_bold" id="alg1.l2.m5.1.1.cmml" xref="alg1.l2.m5.1.1">w</mtext></ci><ci id="alg1.l2.m5.2.2.cmml" xref="alg1.l2.m5.2.2">𝑥</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m5.2c">\mathcal{L}(\textbf{w},x)</annotation></semantics></math>

</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span>Federated model weights <math id="alg1.l3.m1.1" class="ltx_Math" alttext="\textbf{w}_{federated}" display="inline"><semantics id="alg1.l3.m1.1a"><msub id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2a.cmml">w</mtext><mrow id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml"><mi id="alg1.l3.m1.1.1.3.2" xref="alg1.l3.m1.1.1.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.3.1" xref="alg1.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l3.m1.1.1.3.3" xref="alg1.l3.m1.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.3.1a" xref="alg1.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l3.m1.1.1.3.4" xref="alg1.l3.m1.1.1.3.4.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.3.1b" xref="alg1.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l3.m1.1.1.3.5" xref="alg1.l3.m1.1.1.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.3.1c" xref="alg1.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l3.m1.1.1.3.6" xref="alg1.l3.m1.1.1.3.6.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.3.1d" xref="alg1.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l3.m1.1.1.3.7" xref="alg1.l3.m1.1.1.3.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.3.1e" xref="alg1.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l3.m1.1.1.3.8" xref="alg1.l3.m1.1.1.3.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.3.1f" xref="alg1.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l3.m1.1.1.3.9" xref="alg1.l3.m1.1.1.3.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.3.1g" xref="alg1.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l3.m1.1.1.3.10" xref="alg1.l3.m1.1.1.3.10.cmml">d</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1">subscript</csymbol><ci id="alg1.l3.m1.1.1.2a.cmml" xref="alg1.l3.m1.1.1.2"><mtext class="ltx_mathvariant_bold" id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">w</mtext></ci><apply id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3"><times id="alg1.l3.m1.1.1.3.1.cmml" xref="alg1.l3.m1.1.1.3.1"></times><ci id="alg1.l3.m1.1.1.3.2.cmml" xref="alg1.l3.m1.1.1.3.2">𝑓</ci><ci id="alg1.l3.m1.1.1.3.3.cmml" xref="alg1.l3.m1.1.1.3.3">𝑒</ci><ci id="alg1.l3.m1.1.1.3.4.cmml" xref="alg1.l3.m1.1.1.3.4">𝑑</ci><ci id="alg1.l3.m1.1.1.3.5.cmml" xref="alg1.l3.m1.1.1.3.5">𝑒</ci><ci id="alg1.l3.m1.1.1.3.6.cmml" xref="alg1.l3.m1.1.1.3.6">𝑟</ci><ci id="alg1.l3.m1.1.1.3.7.cmml" xref="alg1.l3.m1.1.1.3.7">𝑎</ci><ci id="alg1.l3.m1.1.1.3.8.cmml" xref="alg1.l3.m1.1.1.3.8">𝑡</ci><ci id="alg1.l3.m1.1.1.3.9.cmml" xref="alg1.l3.m1.1.1.3.9">𝑒</ci><ci id="alg1.l3.m1.1.1.3.10.cmml" xref="alg1.l3.m1.1.1.3.10">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">\textbf{w}_{federated}</annotation></semantics></math>

</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span>Starting model weights: <math id="alg1.l4.m1.1" class="ltx_Math" alttext="\textbf{w}_{0}\leftarrow\textbf{w}_{federated}" display="inline"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><msub id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l4.m1.1.1.2.2" xref="alg1.l4.m1.1.1.2.2a.cmml">w</mtext><mn id="alg1.l4.m1.1.1.2.3" xref="alg1.l4.m1.1.1.2.3.cmml">0</mn></msub><mo stretchy="false" id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml">←</mo><msub id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l4.m1.1.1.3.2" xref="alg1.l4.m1.1.1.3.2a.cmml">w</mtext><mrow id="alg1.l4.m1.1.1.3.3" xref="alg1.l4.m1.1.1.3.3.cmml"><mi id="alg1.l4.m1.1.1.3.3.2" xref="alg1.l4.m1.1.1.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.3.1" xref="alg1.l4.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.l4.m1.1.1.3.3.3" xref="alg1.l4.m1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.3.1a" xref="alg1.l4.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.l4.m1.1.1.3.3.4" xref="alg1.l4.m1.1.1.3.3.4.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.3.1b" xref="alg1.l4.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.l4.m1.1.1.3.3.5" xref="alg1.l4.m1.1.1.3.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.3.1c" xref="alg1.l4.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.l4.m1.1.1.3.3.6" xref="alg1.l4.m1.1.1.3.3.6.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.3.1d" xref="alg1.l4.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.l4.m1.1.1.3.3.7" xref="alg1.l4.m1.1.1.3.3.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.3.1e" xref="alg1.l4.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.l4.m1.1.1.3.3.8" xref="alg1.l4.m1.1.1.3.3.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.3.1f" xref="alg1.l4.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.l4.m1.1.1.3.3.9" xref="alg1.l4.m1.1.1.3.3.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.3.1g" xref="alg1.l4.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.l4.m1.1.1.3.3.10" xref="alg1.l4.m1.1.1.3.3.10.cmml">d</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><ci id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1">←</ci><apply id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.2.1.cmml" xref="alg1.l4.m1.1.1.2">subscript</csymbol><ci id="alg1.l4.m1.1.1.2.2a.cmml" xref="alg1.l4.m1.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="alg1.l4.m1.1.1.2.2.cmml" xref="alg1.l4.m1.1.1.2.2">w</mtext></ci><cn type="integer" id="alg1.l4.m1.1.1.2.3.cmml" xref="alg1.l4.m1.1.1.2.3">0</cn></apply><apply id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.3.1.cmml" xref="alg1.l4.m1.1.1.3">subscript</csymbol><ci id="alg1.l4.m1.1.1.3.2a.cmml" xref="alg1.l4.m1.1.1.3.2"><mtext class="ltx_mathvariant_bold" id="alg1.l4.m1.1.1.3.2.cmml" xref="alg1.l4.m1.1.1.3.2">w</mtext></ci><apply id="alg1.l4.m1.1.1.3.3.cmml" xref="alg1.l4.m1.1.1.3.3"><times id="alg1.l4.m1.1.1.3.3.1.cmml" xref="alg1.l4.m1.1.1.3.3.1"></times><ci id="alg1.l4.m1.1.1.3.3.2.cmml" xref="alg1.l4.m1.1.1.3.3.2">𝑓</ci><ci id="alg1.l4.m1.1.1.3.3.3.cmml" xref="alg1.l4.m1.1.1.3.3.3">𝑒</ci><ci id="alg1.l4.m1.1.1.3.3.4.cmml" xref="alg1.l4.m1.1.1.3.3.4">𝑑</ci><ci id="alg1.l4.m1.1.1.3.3.5.cmml" xref="alg1.l4.m1.1.1.3.3.5">𝑒</ci><ci id="alg1.l4.m1.1.1.3.3.6.cmml" xref="alg1.l4.m1.1.1.3.3.6">𝑟</ci><ci id="alg1.l4.m1.1.1.3.3.7.cmml" xref="alg1.l4.m1.1.1.3.3.7">𝑎</ci><ci id="alg1.l4.m1.1.1.3.3.8.cmml" xref="alg1.l4.m1.1.1.3.3.8">𝑡</ci><ci id="alg1.l4.m1.1.1.3.3.9.cmml" xref="alg1.l4.m1.1.1.3.3.9">𝑒</ci><ci id="alg1.l4.m1.1.1.3.3.10.cmml" xref="alg1.l4.m1.1.1.3.3.10">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">\textbf{w}_{0}\leftarrow\textbf{w}_{federated}</annotation></semantics></math>

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span><span id="alg1.l5.1" class="ltx_text ltx_font_bold">for each</span> batch <math id="alg1.l5.m1.3" class="ltx_Math" alttext="j\in 1,...,B" display="inline"><semantics id="alg1.l5.m1.3a"><mrow id="alg1.l5.m1.3.4" xref="alg1.l5.m1.3.4.cmml"><mi id="alg1.l5.m1.3.4.2" xref="alg1.l5.m1.3.4.2.cmml">j</mi><mo id="alg1.l5.m1.3.4.1" xref="alg1.l5.m1.3.4.1.cmml">∈</mo><mrow id="alg1.l5.m1.3.4.3.2" xref="alg1.l5.m1.3.4.3.1.cmml"><mn id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml">1</mn><mo id="alg1.l5.m1.3.4.3.2.1" xref="alg1.l5.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l5.m1.2.2" xref="alg1.l5.m1.2.2.cmml">…</mi><mo id="alg1.l5.m1.3.4.3.2.2" xref="alg1.l5.m1.3.4.3.1.cmml">,</mo><mi id="alg1.l5.m1.3.3" xref="alg1.l5.m1.3.3.cmml">B</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.3b"><apply id="alg1.l5.m1.3.4.cmml" xref="alg1.l5.m1.3.4"><in id="alg1.l5.m1.3.4.1.cmml" xref="alg1.l5.m1.3.4.1"></in><ci id="alg1.l5.m1.3.4.2.cmml" xref="alg1.l5.m1.3.4.2">𝑗</ci><list id="alg1.l5.m1.3.4.3.1.cmml" xref="alg1.l5.m1.3.4.3.2"><cn type="integer" id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1">1</cn><ci id="alg1.l5.m1.2.2.cmml" xref="alg1.l5.m1.2.2">…</ci><ci id="alg1.l5.m1.3.3.cmml" xref="alg1.l5.m1.3.3">𝐵</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.3c">j\in 1,...,B</annotation></semantics></math> <span id="alg1.l5.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>     <span id="alg1.l6.1" class="ltx_text ltx_font_bold">for each</span> batch sample <math id="alg1.l6.m1.3" class="ltx_Math" alttext="i\in 1,...,N" display="inline"><semantics id="alg1.l6.m1.3a"><mrow id="alg1.l6.m1.3.4" xref="alg1.l6.m1.3.4.cmml"><mi id="alg1.l6.m1.3.4.2" xref="alg1.l6.m1.3.4.2.cmml">i</mi><mo id="alg1.l6.m1.3.4.1" xref="alg1.l6.m1.3.4.1.cmml">∈</mo><mrow id="alg1.l6.m1.3.4.3.2" xref="alg1.l6.m1.3.4.3.1.cmml"><mn id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml">1</mn><mo id="alg1.l6.m1.3.4.3.2.1" xref="alg1.l6.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l6.m1.2.2" xref="alg1.l6.m1.2.2.cmml">…</mi><mo id="alg1.l6.m1.3.4.3.2.2" xref="alg1.l6.m1.3.4.3.1.cmml">,</mo><mi id="alg1.l6.m1.3.3" xref="alg1.l6.m1.3.3.cmml">N</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.3b"><apply id="alg1.l6.m1.3.4.cmml" xref="alg1.l6.m1.3.4"><in id="alg1.l6.m1.3.4.1.cmml" xref="alg1.l6.m1.3.4.1"></in><ci id="alg1.l6.m1.3.4.2.cmml" xref="alg1.l6.m1.3.4.2">𝑖</ci><list id="alg1.l6.m1.3.4.3.1.cmml" xref="alg1.l6.m1.3.4.3.2"><cn type="integer" id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1">1</cn><ci id="alg1.l6.m1.2.2.cmml" xref="alg1.l6.m1.2.2">…</ci><ci id="alg1.l6.m1.3.3.cmml" xref="alg1.l6.m1.3.3">𝑁</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.3c">i\in 1,...,N</annotation></semantics></math> <span id="alg1.l6.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>         Compute sample gradient <math id="alg1.l7.m1.5" class="ltx_Math" alttext="\textbf{g}_{i,j-1}\leftarrow\nabla_{\textbf{w}_{j-1}}\mathcal{L}\left(\textbf{w}_{j-1},x_{i}^{(j)}\right)" display="inline"><semantics id="alg1.l7.m1.5a"><mrow id="alg1.l7.m1.5.5" xref="alg1.l7.m1.5.5.cmml"><msub id="alg1.l7.m1.5.5.4" xref="alg1.l7.m1.5.5.4.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l7.m1.5.5.4.2" xref="alg1.l7.m1.5.5.4.2a.cmml">g</mtext><mrow id="alg1.l7.m1.2.2.2.2" xref="alg1.l7.m1.2.2.2.3.cmml"><mi id="alg1.l7.m1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l7.m1.2.2.2.2.2" xref="alg1.l7.m1.2.2.2.3.cmml">,</mo><mrow id="alg1.l7.m1.2.2.2.2.1" xref="alg1.l7.m1.2.2.2.2.1.cmml"><mi id="alg1.l7.m1.2.2.2.2.1.2" xref="alg1.l7.m1.2.2.2.2.1.2.cmml">j</mi><mo id="alg1.l7.m1.2.2.2.2.1.1" xref="alg1.l7.m1.2.2.2.2.1.1.cmml">−</mo><mn id="alg1.l7.m1.2.2.2.2.1.3" xref="alg1.l7.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow></msub><mo stretchy="false" id="alg1.l7.m1.5.5.3" xref="alg1.l7.m1.5.5.3.cmml">←</mo><mrow id="alg1.l7.m1.5.5.2" xref="alg1.l7.m1.5.5.2.cmml"><mrow id="alg1.l7.m1.5.5.2.4" xref="alg1.l7.m1.5.5.2.4.cmml"><msub id="alg1.l7.m1.5.5.2.4.1" xref="alg1.l7.m1.5.5.2.4.1.cmml"><mo rspace="0.167em" id="alg1.l7.m1.5.5.2.4.1.2" xref="alg1.l7.m1.5.5.2.4.1.2.cmml">∇</mo><msub id="alg1.l7.m1.5.5.2.4.1.3" xref="alg1.l7.m1.5.5.2.4.1.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l7.m1.5.5.2.4.1.3.2" xref="alg1.l7.m1.5.5.2.4.1.3.2a.cmml">w</mtext><mrow id="alg1.l7.m1.5.5.2.4.1.3.3" xref="alg1.l7.m1.5.5.2.4.1.3.3.cmml"><mi id="alg1.l7.m1.5.5.2.4.1.3.3.2" xref="alg1.l7.m1.5.5.2.4.1.3.3.2.cmml">j</mi><mo id="alg1.l7.m1.5.5.2.4.1.3.3.1" xref="alg1.l7.m1.5.5.2.4.1.3.3.1.cmml">−</mo><mn id="alg1.l7.m1.5.5.2.4.1.3.3.3" xref="alg1.l7.m1.5.5.2.4.1.3.3.3.cmml">1</mn></mrow></msub></msub><mi class="ltx_font_mathcaligraphic" id="alg1.l7.m1.5.5.2.4.2" xref="alg1.l7.m1.5.5.2.4.2.cmml">ℒ</mi></mrow><mo lspace="0em" rspace="0em" id="alg1.l7.m1.5.5.2.3" xref="alg1.l7.m1.5.5.2.3.cmml">​</mo><mrow id="alg1.l7.m1.5.5.2.2.2" xref="alg1.l7.m1.5.5.2.2.3.cmml"><mo id="alg1.l7.m1.5.5.2.2.2.3" xref="alg1.l7.m1.5.5.2.2.3.cmml">(</mo><msub id="alg1.l7.m1.4.4.1.1.1.1" xref="alg1.l7.m1.4.4.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l7.m1.4.4.1.1.1.1.2" xref="alg1.l7.m1.4.4.1.1.1.1.2a.cmml">w</mtext><mrow id="alg1.l7.m1.4.4.1.1.1.1.3" xref="alg1.l7.m1.4.4.1.1.1.1.3.cmml"><mi id="alg1.l7.m1.4.4.1.1.1.1.3.2" xref="alg1.l7.m1.4.4.1.1.1.1.3.2.cmml">j</mi><mo id="alg1.l7.m1.4.4.1.1.1.1.3.1" xref="alg1.l7.m1.4.4.1.1.1.1.3.1.cmml">−</mo><mn id="alg1.l7.m1.4.4.1.1.1.1.3.3" xref="alg1.l7.m1.4.4.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="alg1.l7.m1.5.5.2.2.2.4" xref="alg1.l7.m1.5.5.2.2.3.cmml">,</mo><msubsup id="alg1.l7.m1.5.5.2.2.2.2" xref="alg1.l7.m1.5.5.2.2.2.2.cmml"><mi id="alg1.l7.m1.5.5.2.2.2.2.2.2" xref="alg1.l7.m1.5.5.2.2.2.2.2.2.cmml">x</mi><mi id="alg1.l7.m1.5.5.2.2.2.2.2.3" xref="alg1.l7.m1.5.5.2.2.2.2.2.3.cmml">i</mi><mrow id="alg1.l7.m1.3.3.1.3" xref="alg1.l7.m1.5.5.2.2.2.2.cmml"><mo stretchy="false" id="alg1.l7.m1.3.3.1.3.1" xref="alg1.l7.m1.5.5.2.2.2.2.cmml">(</mo><mi id="alg1.l7.m1.3.3.1.1" xref="alg1.l7.m1.3.3.1.1.cmml">j</mi><mo stretchy="false" id="alg1.l7.m1.3.3.1.3.2" xref="alg1.l7.m1.5.5.2.2.2.2.cmml">)</mo></mrow></msubsup><mo id="alg1.l7.m1.5.5.2.2.2.5" xref="alg1.l7.m1.5.5.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.5b"><apply id="alg1.l7.m1.5.5.cmml" xref="alg1.l7.m1.5.5"><ci id="alg1.l7.m1.5.5.3.cmml" xref="alg1.l7.m1.5.5.3">←</ci><apply id="alg1.l7.m1.5.5.4.cmml" xref="alg1.l7.m1.5.5.4"><csymbol cd="ambiguous" id="alg1.l7.m1.5.5.4.1.cmml" xref="alg1.l7.m1.5.5.4">subscript</csymbol><ci id="alg1.l7.m1.5.5.4.2a.cmml" xref="alg1.l7.m1.5.5.4.2"><mtext class="ltx_mathvariant_bold" id="alg1.l7.m1.5.5.4.2.cmml" xref="alg1.l7.m1.5.5.4.2">g</mtext></ci><list id="alg1.l7.m1.2.2.2.3.cmml" xref="alg1.l7.m1.2.2.2.2"><ci id="alg1.l7.m1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1">𝑖</ci><apply id="alg1.l7.m1.2.2.2.2.1.cmml" xref="alg1.l7.m1.2.2.2.2.1"><minus id="alg1.l7.m1.2.2.2.2.1.1.cmml" xref="alg1.l7.m1.2.2.2.2.1.1"></minus><ci id="alg1.l7.m1.2.2.2.2.1.2.cmml" xref="alg1.l7.m1.2.2.2.2.1.2">𝑗</ci><cn type="integer" id="alg1.l7.m1.2.2.2.2.1.3.cmml" xref="alg1.l7.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="alg1.l7.m1.5.5.2.cmml" xref="alg1.l7.m1.5.5.2"><times id="alg1.l7.m1.5.5.2.3.cmml" xref="alg1.l7.m1.5.5.2.3"></times><apply id="alg1.l7.m1.5.5.2.4.cmml" xref="alg1.l7.m1.5.5.2.4"><apply id="alg1.l7.m1.5.5.2.4.1.cmml" xref="alg1.l7.m1.5.5.2.4.1"><csymbol cd="ambiguous" id="alg1.l7.m1.5.5.2.4.1.1.cmml" xref="alg1.l7.m1.5.5.2.4.1">subscript</csymbol><ci id="alg1.l7.m1.5.5.2.4.1.2.cmml" xref="alg1.l7.m1.5.5.2.4.1.2">∇</ci><apply id="alg1.l7.m1.5.5.2.4.1.3.cmml" xref="alg1.l7.m1.5.5.2.4.1.3"><csymbol cd="ambiguous" id="alg1.l7.m1.5.5.2.4.1.3.1.cmml" xref="alg1.l7.m1.5.5.2.4.1.3">subscript</csymbol><ci id="alg1.l7.m1.5.5.2.4.1.3.2a.cmml" xref="alg1.l7.m1.5.5.2.4.1.3.2"><mtext class="ltx_mathvariant_bold" mathsize="70%" id="alg1.l7.m1.5.5.2.4.1.3.2.cmml" xref="alg1.l7.m1.5.5.2.4.1.3.2">w</mtext></ci><apply id="alg1.l7.m1.5.5.2.4.1.3.3.cmml" xref="alg1.l7.m1.5.5.2.4.1.3.3"><minus id="alg1.l7.m1.5.5.2.4.1.3.3.1.cmml" xref="alg1.l7.m1.5.5.2.4.1.3.3.1"></minus><ci id="alg1.l7.m1.5.5.2.4.1.3.3.2.cmml" xref="alg1.l7.m1.5.5.2.4.1.3.3.2">𝑗</ci><cn type="integer" id="alg1.l7.m1.5.5.2.4.1.3.3.3.cmml" xref="alg1.l7.m1.5.5.2.4.1.3.3.3">1</cn></apply></apply></apply><ci id="alg1.l7.m1.5.5.2.4.2.cmml" xref="alg1.l7.m1.5.5.2.4.2">ℒ</ci></apply><interval closure="open" id="alg1.l7.m1.5.5.2.2.3.cmml" xref="alg1.l7.m1.5.5.2.2.2"><apply id="alg1.l7.m1.4.4.1.1.1.1.cmml" xref="alg1.l7.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.4.4.1.1.1.1.1.cmml" xref="alg1.l7.m1.4.4.1.1.1.1">subscript</csymbol><ci id="alg1.l7.m1.4.4.1.1.1.1.2a.cmml" xref="alg1.l7.m1.4.4.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="alg1.l7.m1.4.4.1.1.1.1.2.cmml" xref="alg1.l7.m1.4.4.1.1.1.1.2">w</mtext></ci><apply id="alg1.l7.m1.4.4.1.1.1.1.3.cmml" xref="alg1.l7.m1.4.4.1.1.1.1.3"><minus id="alg1.l7.m1.4.4.1.1.1.1.3.1.cmml" xref="alg1.l7.m1.4.4.1.1.1.1.3.1"></minus><ci id="alg1.l7.m1.4.4.1.1.1.1.3.2.cmml" xref="alg1.l7.m1.4.4.1.1.1.1.3.2">𝑗</ci><cn type="integer" id="alg1.l7.m1.4.4.1.1.1.1.3.3.cmml" xref="alg1.l7.m1.4.4.1.1.1.1.3.3">1</cn></apply></apply><apply id="alg1.l7.m1.5.5.2.2.2.2.cmml" xref="alg1.l7.m1.5.5.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l7.m1.5.5.2.2.2.2.1.cmml" xref="alg1.l7.m1.5.5.2.2.2.2">superscript</csymbol><apply id="alg1.l7.m1.5.5.2.2.2.2.2.cmml" xref="alg1.l7.m1.5.5.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l7.m1.5.5.2.2.2.2.2.1.cmml" xref="alg1.l7.m1.5.5.2.2.2.2">subscript</csymbol><ci id="alg1.l7.m1.5.5.2.2.2.2.2.2.cmml" xref="alg1.l7.m1.5.5.2.2.2.2.2.2">𝑥</ci><ci id="alg1.l7.m1.5.5.2.2.2.2.2.3.cmml" xref="alg1.l7.m1.5.5.2.2.2.2.2.3">𝑖</ci></apply><ci id="alg1.l7.m1.3.3.1.1.cmml" xref="alg1.l7.m1.3.3.1.1">𝑗</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.5c">\textbf{g}_{i,j-1}\leftarrow\nabla_{\textbf{w}_{j-1}}\mathcal{L}\left(\textbf{w}_{j-1},x_{i}^{(j)}\right)</annotation></semantics></math>

</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span>         Clip sample gradient <math id="alg1.l8.m1.6" class="ltx_Math" alttext="\bar{\textbf{g}}_{i,j-1}\leftarrow clip\left(\textbf{g}_{i,j-1},\gamma\right)" display="inline"><semantics id="alg1.l8.m1.6a"><mrow id="alg1.l8.m1.6.6" xref="alg1.l8.m1.6.6.cmml"><msub id="alg1.l8.m1.6.6.3" xref="alg1.l8.m1.6.6.3.cmml"><mover accent="true" id="alg1.l8.m1.6.6.3.2" xref="alg1.l8.m1.6.6.3.2.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l8.m1.6.6.3.2.2" xref="alg1.l8.m1.6.6.3.2.2a.cmml">g</mtext><mo id="alg1.l8.m1.6.6.3.2.1" xref="alg1.l8.m1.6.6.3.2.1.cmml">¯</mo></mover><mrow id="alg1.l8.m1.2.2.2.2" xref="alg1.l8.m1.2.2.2.3.cmml"><mi id="alg1.l8.m1.1.1.1.1" xref="alg1.l8.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l8.m1.2.2.2.2.2" xref="alg1.l8.m1.2.2.2.3.cmml">,</mo><mrow id="alg1.l8.m1.2.2.2.2.1" xref="alg1.l8.m1.2.2.2.2.1.cmml"><mi id="alg1.l8.m1.2.2.2.2.1.2" xref="alg1.l8.m1.2.2.2.2.1.2.cmml">j</mi><mo id="alg1.l8.m1.2.2.2.2.1.1" xref="alg1.l8.m1.2.2.2.2.1.1.cmml">−</mo><mn id="alg1.l8.m1.2.2.2.2.1.3" xref="alg1.l8.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow></msub><mo stretchy="false" id="alg1.l8.m1.6.6.2" xref="alg1.l8.m1.6.6.2.cmml">←</mo><mrow id="alg1.l8.m1.6.6.1" xref="alg1.l8.m1.6.6.1.cmml"><mi id="alg1.l8.m1.6.6.1.3" xref="alg1.l8.m1.6.6.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.6.6.1.2" xref="alg1.l8.m1.6.6.1.2.cmml">​</mo><mi id="alg1.l8.m1.6.6.1.4" xref="alg1.l8.m1.6.6.1.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.6.6.1.2a" xref="alg1.l8.m1.6.6.1.2.cmml">​</mo><mi id="alg1.l8.m1.6.6.1.5" xref="alg1.l8.m1.6.6.1.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.6.6.1.2b" xref="alg1.l8.m1.6.6.1.2.cmml">​</mo><mi id="alg1.l8.m1.6.6.1.6" xref="alg1.l8.m1.6.6.1.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.6.6.1.2c" xref="alg1.l8.m1.6.6.1.2.cmml">​</mo><mrow id="alg1.l8.m1.6.6.1.1.1" xref="alg1.l8.m1.6.6.1.1.2.cmml"><mo id="alg1.l8.m1.6.6.1.1.1.2" xref="alg1.l8.m1.6.6.1.1.2.cmml">(</mo><msub id="alg1.l8.m1.6.6.1.1.1.1" xref="alg1.l8.m1.6.6.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l8.m1.6.6.1.1.1.1.2" xref="alg1.l8.m1.6.6.1.1.1.1.2a.cmml">g</mtext><mrow id="alg1.l8.m1.4.4.2.2" xref="alg1.l8.m1.4.4.2.3.cmml"><mi id="alg1.l8.m1.3.3.1.1" xref="alg1.l8.m1.3.3.1.1.cmml">i</mi><mo id="alg1.l8.m1.4.4.2.2.2" xref="alg1.l8.m1.4.4.2.3.cmml">,</mo><mrow id="alg1.l8.m1.4.4.2.2.1" xref="alg1.l8.m1.4.4.2.2.1.cmml"><mi id="alg1.l8.m1.4.4.2.2.1.2" xref="alg1.l8.m1.4.4.2.2.1.2.cmml">j</mi><mo id="alg1.l8.m1.4.4.2.2.1.1" xref="alg1.l8.m1.4.4.2.2.1.1.cmml">−</mo><mn id="alg1.l8.m1.4.4.2.2.1.3" xref="alg1.l8.m1.4.4.2.2.1.3.cmml">1</mn></mrow></mrow></msub><mo id="alg1.l8.m1.6.6.1.1.1.3" xref="alg1.l8.m1.6.6.1.1.2.cmml">,</mo><mi id="alg1.l8.m1.5.5" xref="alg1.l8.m1.5.5.cmml">γ</mi><mo id="alg1.l8.m1.6.6.1.1.1.4" xref="alg1.l8.m1.6.6.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.6b"><apply id="alg1.l8.m1.6.6.cmml" xref="alg1.l8.m1.6.6"><ci id="alg1.l8.m1.6.6.2.cmml" xref="alg1.l8.m1.6.6.2">←</ci><apply id="alg1.l8.m1.6.6.3.cmml" xref="alg1.l8.m1.6.6.3"><csymbol cd="ambiguous" id="alg1.l8.m1.6.6.3.1.cmml" xref="alg1.l8.m1.6.6.3">subscript</csymbol><apply id="alg1.l8.m1.6.6.3.2.cmml" xref="alg1.l8.m1.6.6.3.2"><ci id="alg1.l8.m1.6.6.3.2.1.cmml" xref="alg1.l8.m1.6.6.3.2.1">¯</ci><ci id="alg1.l8.m1.6.6.3.2.2a.cmml" xref="alg1.l8.m1.6.6.3.2.2"><mtext class="ltx_mathvariant_bold" id="alg1.l8.m1.6.6.3.2.2.cmml" xref="alg1.l8.m1.6.6.3.2.2">g</mtext></ci></apply><list id="alg1.l8.m1.2.2.2.3.cmml" xref="alg1.l8.m1.2.2.2.2"><ci id="alg1.l8.m1.1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1.1">𝑖</ci><apply id="alg1.l8.m1.2.2.2.2.1.cmml" xref="alg1.l8.m1.2.2.2.2.1"><minus id="alg1.l8.m1.2.2.2.2.1.1.cmml" xref="alg1.l8.m1.2.2.2.2.1.1"></minus><ci id="alg1.l8.m1.2.2.2.2.1.2.cmml" xref="alg1.l8.m1.2.2.2.2.1.2">𝑗</ci><cn type="integer" id="alg1.l8.m1.2.2.2.2.1.3.cmml" xref="alg1.l8.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="alg1.l8.m1.6.6.1.cmml" xref="alg1.l8.m1.6.6.1"><times id="alg1.l8.m1.6.6.1.2.cmml" xref="alg1.l8.m1.6.6.1.2"></times><ci id="alg1.l8.m1.6.6.1.3.cmml" xref="alg1.l8.m1.6.6.1.3">𝑐</ci><ci id="alg1.l8.m1.6.6.1.4.cmml" xref="alg1.l8.m1.6.6.1.4">𝑙</ci><ci id="alg1.l8.m1.6.6.1.5.cmml" xref="alg1.l8.m1.6.6.1.5">𝑖</ci><ci id="alg1.l8.m1.6.6.1.6.cmml" xref="alg1.l8.m1.6.6.1.6">𝑝</ci><interval closure="open" id="alg1.l8.m1.6.6.1.1.2.cmml" xref="alg1.l8.m1.6.6.1.1.1"><apply id="alg1.l8.m1.6.6.1.1.1.1.cmml" xref="alg1.l8.m1.6.6.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.6.6.1.1.1.1.1.cmml" xref="alg1.l8.m1.6.6.1.1.1.1">subscript</csymbol><ci id="alg1.l8.m1.6.6.1.1.1.1.2a.cmml" xref="alg1.l8.m1.6.6.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="alg1.l8.m1.6.6.1.1.1.1.2.cmml" xref="alg1.l8.m1.6.6.1.1.1.1.2">g</mtext></ci><list id="alg1.l8.m1.4.4.2.3.cmml" xref="alg1.l8.m1.4.4.2.2"><ci id="alg1.l8.m1.3.3.1.1.cmml" xref="alg1.l8.m1.3.3.1.1">𝑖</ci><apply id="alg1.l8.m1.4.4.2.2.1.cmml" xref="alg1.l8.m1.4.4.2.2.1"><minus id="alg1.l8.m1.4.4.2.2.1.1.cmml" xref="alg1.l8.m1.4.4.2.2.1.1"></minus><ci id="alg1.l8.m1.4.4.2.2.1.2.cmml" xref="alg1.l8.m1.4.4.2.2.1.2">𝑗</ci><cn type="integer" id="alg1.l8.m1.4.4.2.2.1.3.cmml" xref="alg1.l8.m1.4.4.2.2.1.3">1</cn></apply></list></apply><ci id="alg1.l8.m1.5.5.cmml" xref="alg1.l8.m1.5.5">𝛾</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.6c">\bar{\textbf{g}}_{i,j-1}\leftarrow clip\left(\textbf{g}_{i,j-1},\gamma\right)</annotation></semantics></math>

</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9:</span>     <span id="alg1.l9.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l9.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10:</span>     Compute batch gradient by adding noise <math id="alg1.l10.m1.4" class="ltx_Math" alttext="\tilde{\textbf{g}}_{j-1}\leftarrow\frac{1}{N}\left(\sum_{i}\bar{\textbf{g}}_{i,j-1}+\mathcal{N}\left(0,\sigma^{2}\gamma^{2}\textbf{I}\right)\right)" display="inline"><semantics id="alg1.l10.m1.4a"><mrow id="alg1.l10.m1.4.4" xref="alg1.l10.m1.4.4.cmml"><msub id="alg1.l10.m1.4.4.3" xref="alg1.l10.m1.4.4.3.cmml"><mover accent="true" id="alg1.l10.m1.4.4.3.2" xref="alg1.l10.m1.4.4.3.2.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l10.m1.4.4.3.2.2" xref="alg1.l10.m1.4.4.3.2.2a.cmml">g</mtext><mo id="alg1.l10.m1.4.4.3.2.1" xref="alg1.l10.m1.4.4.3.2.1.cmml">~</mo></mover><mrow id="alg1.l10.m1.4.4.3.3" xref="alg1.l10.m1.4.4.3.3.cmml"><mi id="alg1.l10.m1.4.4.3.3.2" xref="alg1.l10.m1.4.4.3.3.2.cmml">j</mi><mo id="alg1.l10.m1.4.4.3.3.1" xref="alg1.l10.m1.4.4.3.3.1.cmml">−</mo><mn id="alg1.l10.m1.4.4.3.3.3" xref="alg1.l10.m1.4.4.3.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="alg1.l10.m1.4.4.2" xref="alg1.l10.m1.4.4.2.cmml">←</mo><mrow id="alg1.l10.m1.4.4.1" xref="alg1.l10.m1.4.4.1.cmml"><mfrac id="alg1.l10.m1.4.4.1.3" xref="alg1.l10.m1.4.4.1.3.cmml"><mn id="alg1.l10.m1.4.4.1.3.2" xref="alg1.l10.m1.4.4.1.3.2.cmml">1</mn><mi id="alg1.l10.m1.4.4.1.3.3" xref="alg1.l10.m1.4.4.1.3.3.cmml">N</mi></mfrac><mo lspace="0em" rspace="0em" id="alg1.l10.m1.4.4.1.2" xref="alg1.l10.m1.4.4.1.2.cmml">​</mo><mrow id="alg1.l10.m1.4.4.1.1.1" xref="alg1.l10.m1.4.4.1.1.1.1.cmml"><mo id="alg1.l10.m1.4.4.1.1.1.2" xref="alg1.l10.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="alg1.l10.m1.4.4.1.1.1.1" xref="alg1.l10.m1.4.4.1.1.1.1.cmml"><mrow id="alg1.l10.m1.4.4.1.1.1.1.3" xref="alg1.l10.m1.4.4.1.1.1.1.3.cmml"><msub id="alg1.l10.m1.4.4.1.1.1.1.3.1" xref="alg1.l10.m1.4.4.1.1.1.1.3.1.cmml"><mo lspace="0em" id="alg1.l10.m1.4.4.1.1.1.1.3.1.2" xref="alg1.l10.m1.4.4.1.1.1.1.3.1.2.cmml">∑</mo><mi id="alg1.l10.m1.4.4.1.1.1.1.3.1.3" xref="alg1.l10.m1.4.4.1.1.1.1.3.1.3.cmml">i</mi></msub><msub id="alg1.l10.m1.4.4.1.1.1.1.3.2" xref="alg1.l10.m1.4.4.1.1.1.1.3.2.cmml"><mover accent="true" id="alg1.l10.m1.4.4.1.1.1.1.3.2.2" xref="alg1.l10.m1.4.4.1.1.1.1.3.2.2.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l10.m1.4.4.1.1.1.1.3.2.2.2" xref="alg1.l10.m1.4.4.1.1.1.1.3.2.2.2a.cmml">g</mtext><mo id="alg1.l10.m1.4.4.1.1.1.1.3.2.2.1" xref="alg1.l10.m1.4.4.1.1.1.1.3.2.2.1.cmml">¯</mo></mover><mrow id="alg1.l10.m1.2.2.2.2" xref="alg1.l10.m1.2.2.2.3.cmml"><mi id="alg1.l10.m1.1.1.1.1" xref="alg1.l10.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l10.m1.2.2.2.2.2" xref="alg1.l10.m1.2.2.2.3.cmml">,</mo><mrow id="alg1.l10.m1.2.2.2.2.1" xref="alg1.l10.m1.2.2.2.2.1.cmml"><mi id="alg1.l10.m1.2.2.2.2.1.2" xref="alg1.l10.m1.2.2.2.2.1.2.cmml">j</mi><mo id="alg1.l10.m1.2.2.2.2.1.1" xref="alg1.l10.m1.2.2.2.2.1.1.cmml">−</mo><mn id="alg1.l10.m1.2.2.2.2.1.3" xref="alg1.l10.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow></msub></mrow><mo id="alg1.l10.m1.4.4.1.1.1.1.2" xref="alg1.l10.m1.4.4.1.1.1.1.2.cmml">+</mo><mrow id="alg1.l10.m1.4.4.1.1.1.1.1" xref="alg1.l10.m1.4.4.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l10.m1.4.4.1.1.1.1.1.3" xref="alg1.l10.m1.4.4.1.1.1.1.1.3.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="alg1.l10.m1.4.4.1.1.1.1.1.2" xref="alg1.l10.m1.4.4.1.1.1.1.1.2.cmml">​</mo><mrow id="alg1.l10.m1.4.4.1.1.1.1.1.1.1" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.2.cmml"><mo id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.2" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.2.cmml">(</mo><mn id="alg1.l10.m1.3.3" xref="alg1.l10.m1.3.3.cmml">0</mn><mo id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.3" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.2.cmml">,</mo><mrow id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.cmml"><msup id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2.cmml"><mi id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2.2" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2.2.cmml">σ</mi><mn id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2.3" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.1" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.1.cmml">​</mo><msup id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3.cmml"><mi id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3.2" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3.2.cmml">γ</mi><mn id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3.3" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.1a" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.1.cmml">​</mo><mtext class="ltx_mathvariant_bold" id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.4" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.4a.cmml">I</mtext></mrow><mo id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.4" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="alg1.l10.m1.4.4.1.1.1.3" xref="alg1.l10.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.4b"><apply id="alg1.l10.m1.4.4.cmml" xref="alg1.l10.m1.4.4"><ci id="alg1.l10.m1.4.4.2.cmml" xref="alg1.l10.m1.4.4.2">←</ci><apply id="alg1.l10.m1.4.4.3.cmml" xref="alg1.l10.m1.4.4.3"><csymbol cd="ambiguous" id="alg1.l10.m1.4.4.3.1.cmml" xref="alg1.l10.m1.4.4.3">subscript</csymbol><apply id="alg1.l10.m1.4.4.3.2.cmml" xref="alg1.l10.m1.4.4.3.2"><ci id="alg1.l10.m1.4.4.3.2.1.cmml" xref="alg1.l10.m1.4.4.3.2.1">~</ci><ci id="alg1.l10.m1.4.4.3.2.2a.cmml" xref="alg1.l10.m1.4.4.3.2.2"><mtext class="ltx_mathvariant_bold" id="alg1.l10.m1.4.4.3.2.2.cmml" xref="alg1.l10.m1.4.4.3.2.2">g</mtext></ci></apply><apply id="alg1.l10.m1.4.4.3.3.cmml" xref="alg1.l10.m1.4.4.3.3"><minus id="alg1.l10.m1.4.4.3.3.1.cmml" xref="alg1.l10.m1.4.4.3.3.1"></minus><ci id="alg1.l10.m1.4.4.3.3.2.cmml" xref="alg1.l10.m1.4.4.3.3.2">𝑗</ci><cn type="integer" id="alg1.l10.m1.4.4.3.3.3.cmml" xref="alg1.l10.m1.4.4.3.3.3">1</cn></apply></apply><apply id="alg1.l10.m1.4.4.1.cmml" xref="alg1.l10.m1.4.4.1"><times id="alg1.l10.m1.4.4.1.2.cmml" xref="alg1.l10.m1.4.4.1.2"></times><apply id="alg1.l10.m1.4.4.1.3.cmml" xref="alg1.l10.m1.4.4.1.3"><divide id="alg1.l10.m1.4.4.1.3.1.cmml" xref="alg1.l10.m1.4.4.1.3"></divide><cn type="integer" id="alg1.l10.m1.4.4.1.3.2.cmml" xref="alg1.l10.m1.4.4.1.3.2">1</cn><ci id="alg1.l10.m1.4.4.1.3.3.cmml" xref="alg1.l10.m1.4.4.1.3.3">𝑁</ci></apply><apply id="alg1.l10.m1.4.4.1.1.1.1.cmml" xref="alg1.l10.m1.4.4.1.1.1"><plus id="alg1.l10.m1.4.4.1.1.1.1.2.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.2"></plus><apply id="alg1.l10.m1.4.4.1.1.1.1.3.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.3"><apply id="alg1.l10.m1.4.4.1.1.1.1.3.1.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.3.1"><csymbol cd="ambiguous" id="alg1.l10.m1.4.4.1.1.1.1.3.1.1.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.3.1">subscript</csymbol><sum id="alg1.l10.m1.4.4.1.1.1.1.3.1.2.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.3.1.2"></sum><ci id="alg1.l10.m1.4.4.1.1.1.1.3.1.3.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.3.1.3">𝑖</ci></apply><apply id="alg1.l10.m1.4.4.1.1.1.1.3.2.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l10.m1.4.4.1.1.1.1.3.2.1.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.3.2">subscript</csymbol><apply id="alg1.l10.m1.4.4.1.1.1.1.3.2.2.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.3.2.2"><ci id="alg1.l10.m1.4.4.1.1.1.1.3.2.2.1.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.3.2.2.1">¯</ci><ci id="alg1.l10.m1.4.4.1.1.1.1.3.2.2.2a.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.3.2.2.2"><mtext class="ltx_mathvariant_bold" id="alg1.l10.m1.4.4.1.1.1.1.3.2.2.2.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.3.2.2.2">g</mtext></ci></apply><list id="alg1.l10.m1.2.2.2.3.cmml" xref="alg1.l10.m1.2.2.2.2"><ci id="alg1.l10.m1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1">𝑖</ci><apply id="alg1.l10.m1.2.2.2.2.1.cmml" xref="alg1.l10.m1.2.2.2.2.1"><minus id="alg1.l10.m1.2.2.2.2.1.1.cmml" xref="alg1.l10.m1.2.2.2.2.1.1"></minus><ci id="alg1.l10.m1.2.2.2.2.1.2.cmml" xref="alg1.l10.m1.2.2.2.2.1.2">𝑗</ci><cn type="integer" id="alg1.l10.m1.2.2.2.2.1.3.cmml" xref="alg1.l10.m1.2.2.2.2.1.3">1</cn></apply></list></apply></apply><apply id="alg1.l10.m1.4.4.1.1.1.1.1.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1"><times id="alg1.l10.m1.4.4.1.1.1.1.1.2.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.2"></times><ci id="alg1.l10.m1.4.4.1.1.1.1.1.3.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.3">𝒩</ci><interval closure="open" id="alg1.l10.m1.4.4.1.1.1.1.1.1.2.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1"><cn type="integer" id="alg1.l10.m1.3.3.cmml" xref="alg1.l10.m1.3.3">0</cn><apply id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1"><times id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.1"></times><apply id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2">superscript</csymbol><ci id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2.2">𝜎</ci><cn type="integer" id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.2.3">2</cn></apply><apply id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3.1.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3.2.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3.2">𝛾</ci><cn type="integer" id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3.3.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.3.3">2</cn></apply><ci id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.4a.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.4"><mtext class="ltx_mathvariant_bold" id="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.4.cmml" xref="alg1.l10.m1.4.4.1.1.1.1.1.1.1.1.4">I</mtext></ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.4c">\tilde{\textbf{g}}_{j-1}\leftarrow\frac{1}{N}\left(\sum_{i}\bar{\textbf{g}}_{i,j-1}+\mathcal{N}\left(0,\sigma^{2}\gamma^{2}\textbf{I}\right)\right)</annotation></semantics></math>

</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11:</span>     Gradient descent <math id="alg1.l11.m1.1" class="ltx_Math" alttext="\textbf{w}_{j}\leftarrow\textbf{w}_{j-1}-\eta_{j}\tilde{\textbf{g}}_{j-1}" display="inline"><semantics id="alg1.l11.m1.1a"><mrow id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml"><msub id="alg1.l11.m1.1.1.2" xref="alg1.l11.m1.1.1.2.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l11.m1.1.1.2.2" xref="alg1.l11.m1.1.1.2.2a.cmml">w</mtext><mi id="alg1.l11.m1.1.1.2.3" xref="alg1.l11.m1.1.1.2.3.cmml">j</mi></msub><mo stretchy="false" id="alg1.l11.m1.1.1.1" xref="alg1.l11.m1.1.1.1.cmml">←</mo><mrow id="alg1.l11.m1.1.1.3" xref="alg1.l11.m1.1.1.3.cmml"><msub id="alg1.l11.m1.1.1.3.2" xref="alg1.l11.m1.1.1.3.2.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l11.m1.1.1.3.2.2" xref="alg1.l11.m1.1.1.3.2.2a.cmml">w</mtext><mrow id="alg1.l11.m1.1.1.3.2.3" xref="alg1.l11.m1.1.1.3.2.3.cmml"><mi id="alg1.l11.m1.1.1.3.2.3.2" xref="alg1.l11.m1.1.1.3.2.3.2.cmml">j</mi><mo id="alg1.l11.m1.1.1.3.2.3.1" xref="alg1.l11.m1.1.1.3.2.3.1.cmml">−</mo><mn id="alg1.l11.m1.1.1.3.2.3.3" xref="alg1.l11.m1.1.1.3.2.3.3.cmml">1</mn></mrow></msub><mo id="alg1.l11.m1.1.1.3.1" xref="alg1.l11.m1.1.1.3.1.cmml">−</mo><mrow id="alg1.l11.m1.1.1.3.3" xref="alg1.l11.m1.1.1.3.3.cmml"><msub id="alg1.l11.m1.1.1.3.3.2" xref="alg1.l11.m1.1.1.3.3.2.cmml"><mi id="alg1.l11.m1.1.1.3.3.2.2" xref="alg1.l11.m1.1.1.3.3.2.2.cmml">η</mi><mi id="alg1.l11.m1.1.1.3.3.2.3" xref="alg1.l11.m1.1.1.3.3.2.3.cmml">j</mi></msub><mo lspace="0em" rspace="0em" id="alg1.l11.m1.1.1.3.3.1" xref="alg1.l11.m1.1.1.3.3.1.cmml">​</mo><msub id="alg1.l11.m1.1.1.3.3.3" xref="alg1.l11.m1.1.1.3.3.3.cmml"><mover accent="true" id="alg1.l11.m1.1.1.3.3.3.2" xref="alg1.l11.m1.1.1.3.3.3.2.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l11.m1.1.1.3.3.3.2.2" xref="alg1.l11.m1.1.1.3.3.3.2.2a.cmml">g</mtext><mo id="alg1.l11.m1.1.1.3.3.3.2.1" xref="alg1.l11.m1.1.1.3.3.3.2.1.cmml">~</mo></mover><mrow id="alg1.l11.m1.1.1.3.3.3.3" xref="alg1.l11.m1.1.1.3.3.3.3.cmml"><mi id="alg1.l11.m1.1.1.3.3.3.3.2" xref="alg1.l11.m1.1.1.3.3.3.3.2.cmml">j</mi><mo id="alg1.l11.m1.1.1.3.3.3.3.1" xref="alg1.l11.m1.1.1.3.3.3.3.1.cmml">−</mo><mn id="alg1.l11.m1.1.1.3.3.3.3.3" xref="alg1.l11.m1.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><apply id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1"><ci id="alg1.l11.m1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1">←</ci><apply id="alg1.l11.m1.1.1.2.cmml" xref="alg1.l11.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.2.1.cmml" xref="alg1.l11.m1.1.1.2">subscript</csymbol><ci id="alg1.l11.m1.1.1.2.2a.cmml" xref="alg1.l11.m1.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="alg1.l11.m1.1.1.2.2.cmml" xref="alg1.l11.m1.1.1.2.2">w</mtext></ci><ci id="alg1.l11.m1.1.1.2.3.cmml" xref="alg1.l11.m1.1.1.2.3">𝑗</ci></apply><apply id="alg1.l11.m1.1.1.3.cmml" xref="alg1.l11.m1.1.1.3"><minus id="alg1.l11.m1.1.1.3.1.cmml" xref="alg1.l11.m1.1.1.3.1"></minus><apply id="alg1.l11.m1.1.1.3.2.cmml" xref="alg1.l11.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.3.2.1.cmml" xref="alg1.l11.m1.1.1.3.2">subscript</csymbol><ci id="alg1.l11.m1.1.1.3.2.2a.cmml" xref="alg1.l11.m1.1.1.3.2.2"><mtext class="ltx_mathvariant_bold" id="alg1.l11.m1.1.1.3.2.2.cmml" xref="alg1.l11.m1.1.1.3.2.2">w</mtext></ci><apply id="alg1.l11.m1.1.1.3.2.3.cmml" xref="alg1.l11.m1.1.1.3.2.3"><minus id="alg1.l11.m1.1.1.3.2.3.1.cmml" xref="alg1.l11.m1.1.1.3.2.3.1"></minus><ci id="alg1.l11.m1.1.1.3.2.3.2.cmml" xref="alg1.l11.m1.1.1.3.2.3.2">𝑗</ci><cn type="integer" id="alg1.l11.m1.1.1.3.2.3.3.cmml" xref="alg1.l11.m1.1.1.3.2.3.3">1</cn></apply></apply><apply id="alg1.l11.m1.1.1.3.3.cmml" xref="alg1.l11.m1.1.1.3.3"><times id="alg1.l11.m1.1.1.3.3.1.cmml" xref="alg1.l11.m1.1.1.3.3.1"></times><apply id="alg1.l11.m1.1.1.3.3.2.cmml" xref="alg1.l11.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.3.3.2.1.cmml" xref="alg1.l11.m1.1.1.3.3.2">subscript</csymbol><ci id="alg1.l11.m1.1.1.3.3.2.2.cmml" xref="alg1.l11.m1.1.1.3.3.2.2">𝜂</ci><ci id="alg1.l11.m1.1.1.3.3.2.3.cmml" xref="alg1.l11.m1.1.1.3.3.2.3">𝑗</ci></apply><apply id="alg1.l11.m1.1.1.3.3.3.cmml" xref="alg1.l11.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.3.3.3.1.cmml" xref="alg1.l11.m1.1.1.3.3.3">subscript</csymbol><apply id="alg1.l11.m1.1.1.3.3.3.2.cmml" xref="alg1.l11.m1.1.1.3.3.3.2"><ci id="alg1.l11.m1.1.1.3.3.3.2.1.cmml" xref="alg1.l11.m1.1.1.3.3.3.2.1">~</ci><ci id="alg1.l11.m1.1.1.3.3.3.2.2a.cmml" xref="alg1.l11.m1.1.1.3.3.3.2.2"><mtext class="ltx_mathvariant_bold" id="alg1.l11.m1.1.1.3.3.3.2.2.cmml" xref="alg1.l11.m1.1.1.3.3.3.2.2">g</mtext></ci></apply><apply id="alg1.l11.m1.1.1.3.3.3.3.cmml" xref="alg1.l11.m1.1.1.3.3.3.3"><minus id="alg1.l11.m1.1.1.3.3.3.3.1.cmml" xref="alg1.l11.m1.1.1.3.3.3.3.1"></minus><ci id="alg1.l11.m1.1.1.3.3.3.3.2.cmml" xref="alg1.l11.m1.1.1.3.3.3.3.2">𝑗</ci><cn type="integer" id="alg1.l11.m1.1.1.3.3.3.3.3.cmml" xref="alg1.l11.m1.1.1.3.3.3.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">\textbf{w}_{j}\leftarrow\textbf{w}_{j-1}-\eta_{j}\tilde{\textbf{g}}_{j-1}</annotation></semantics></math>

</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12:</span><span id="alg1.l12.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l12.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13:</span>Differentially private model weights <math id="alg1.l13.m1.1" class="ltx_Math" alttext="\textbf{w}_{B}" display="inline"><semantics id="alg1.l13.m1.1a"><msub id="alg1.l13.m1.1.1" xref="alg1.l13.m1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l13.m1.1.1.2" xref="alg1.l13.m1.1.1.2a.cmml">w</mtext><mi id="alg1.l13.m1.1.1.3" xref="alg1.l13.m1.1.1.3.cmml">B</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l13.m1.1b"><apply id="alg1.l13.m1.1.1.cmml" xref="alg1.l13.m1.1.1"><csymbol cd="ambiguous" id="alg1.l13.m1.1.1.1.cmml" xref="alg1.l13.m1.1.1">subscript</csymbol><ci id="alg1.l13.m1.1.1.2a.cmml" xref="alg1.l13.m1.1.1.2"><mtext class="ltx_mathvariant_bold" id="alg1.l13.m1.1.1.2.cmml" xref="alg1.l13.m1.1.1.2">w</mtext></ci><ci id="alg1.l13.m1.1.1.3.cmml" xref="alg1.l13.m1.1.1.3">𝐵</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m1.1c">\textbf{w}_{B}</annotation></semantics></math>

</div>
</div>
</figure>
</section>
<section id="S2.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.2.2 </span>Sparse Vector Technique Differential Privacy (DP-SVT)</h4>

<div id="S2.SS2.SSS2.p1" class="ltx_para ltx_noindent">
<p id="S2.SS2.SSS2.p1.3" class="ltx_p">We implemented the algorithm proposed by Li et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>, that combines selective parameter update (i.e., sharing only a subset of all model weights with the server) with the sparse vector technique (SVT) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>. The sparse vector technique works according to the algorithm described in Alg. <a href="#alg2" title="Algorithm 2 ‣ 2.2.2 Sparse Vector Technique Differential Privacy (DP-SVT) ‣ 2.2 Differential Privacy (DP) ‣ 2 Materials and Methods ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, where <math id="S2.SS2.SSS2.p1.1.m1.1" class="ltx_Math" alttext="Lap(x)" display="inline"><semantics id="S2.SS2.SSS2.p1.1.m1.1a"><mrow id="S2.SS2.SSS2.p1.1.m1.1.2" xref="S2.SS2.SSS2.p1.1.m1.1.2.cmml"><mi id="S2.SS2.SSS2.p1.1.m1.1.2.2" xref="S2.SS2.SSS2.p1.1.m1.1.2.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS2.p1.1.m1.1.2.1" xref="S2.SS2.SSS2.p1.1.m1.1.2.1.cmml">​</mo><mi id="S2.SS2.SSS2.p1.1.m1.1.2.3" xref="S2.SS2.SSS2.p1.1.m1.1.2.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS2.p1.1.m1.1.2.1a" xref="S2.SS2.SSS2.p1.1.m1.1.2.1.cmml">​</mo><mi id="S2.SS2.SSS2.p1.1.m1.1.2.4" xref="S2.SS2.SSS2.p1.1.m1.1.2.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.SS2.SSS2.p1.1.m1.1.2.1b" xref="S2.SS2.SSS2.p1.1.m1.1.2.1.cmml">​</mo><mrow id="S2.SS2.SSS2.p1.1.m1.1.2.5.2" xref="S2.SS2.SSS2.p1.1.m1.1.2.cmml"><mo stretchy="false" id="S2.SS2.SSS2.p1.1.m1.1.2.5.2.1" xref="S2.SS2.SSS2.p1.1.m1.1.2.cmml">(</mo><mi id="S2.SS2.SSS2.p1.1.m1.1.1" xref="S2.SS2.SSS2.p1.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S2.SS2.SSS2.p1.1.m1.1.2.5.2.2" xref="S2.SS2.SSS2.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS2.p1.1.m1.1b"><apply id="S2.SS2.SSS2.p1.1.m1.1.2.cmml" xref="S2.SS2.SSS2.p1.1.m1.1.2"><times id="S2.SS2.SSS2.p1.1.m1.1.2.1.cmml" xref="S2.SS2.SSS2.p1.1.m1.1.2.1"></times><ci id="S2.SS2.SSS2.p1.1.m1.1.2.2.cmml" xref="S2.SS2.SSS2.p1.1.m1.1.2.2">𝐿</ci><ci id="S2.SS2.SSS2.p1.1.m1.1.2.3.cmml" xref="S2.SS2.SSS2.p1.1.m1.1.2.3">𝑎</ci><ci id="S2.SS2.SSS2.p1.1.m1.1.2.4.cmml" xref="S2.SS2.SSS2.p1.1.m1.1.2.4">𝑝</ci><ci id="S2.SS2.SSS2.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS2.p1.1.m1.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS2.p1.1.m1.1c">Lap(x)</annotation></semantics></math> is the Laplace distribution with location parameter <math id="S2.SS2.SSS2.p1.2.m2.1" class="ltx_Math" alttext="\mu=0" display="inline"><semantics id="S2.SS2.SSS2.p1.2.m2.1a"><mrow id="S2.SS2.SSS2.p1.2.m2.1.1" xref="S2.SS2.SSS2.p1.2.m2.1.1.cmml"><mi id="S2.SS2.SSS2.p1.2.m2.1.1.2" xref="S2.SS2.SSS2.p1.2.m2.1.1.2.cmml">μ</mi><mo id="S2.SS2.SSS2.p1.2.m2.1.1.1" xref="S2.SS2.SSS2.p1.2.m2.1.1.1.cmml">=</mo><mn id="S2.SS2.SSS2.p1.2.m2.1.1.3" xref="S2.SS2.SSS2.p1.2.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS2.p1.2.m2.1b"><apply id="S2.SS2.SSS2.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS2.p1.2.m2.1.1"><eq id="S2.SS2.SSS2.p1.2.m2.1.1.1.cmml" xref="S2.SS2.SSS2.p1.2.m2.1.1.1"></eq><ci id="S2.SS2.SSS2.p1.2.m2.1.1.2.cmml" xref="S2.SS2.SSS2.p1.2.m2.1.1.2">𝜇</ci><cn type="integer" id="S2.SS2.SSS2.p1.2.m2.1.1.3.cmml" xref="S2.SS2.SSS2.p1.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS2.p1.2.m2.1c">\mu=0</annotation></semantics></math> and scale parameter <math id="S2.SS2.SSS2.p1.3.m3.1" class="ltx_Math" alttext="b=x" display="inline"><semantics id="S2.SS2.SSS2.p1.3.m3.1a"><mrow id="S2.SS2.SSS2.p1.3.m3.1.1" xref="S2.SS2.SSS2.p1.3.m3.1.1.cmml"><mi id="S2.SS2.SSS2.p1.3.m3.1.1.2" xref="S2.SS2.SSS2.p1.3.m3.1.1.2.cmml">b</mi><mo id="S2.SS2.SSS2.p1.3.m3.1.1.1" xref="S2.SS2.SSS2.p1.3.m3.1.1.1.cmml">=</mo><mi id="S2.SS2.SSS2.p1.3.m3.1.1.3" xref="S2.SS2.SSS2.p1.3.m3.1.1.3.cmml">x</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS2.p1.3.m3.1b"><apply id="S2.SS2.SSS2.p1.3.m3.1.1.cmml" xref="S2.SS2.SSS2.p1.3.m3.1.1"><eq id="S2.SS2.SSS2.p1.3.m3.1.1.1.cmml" xref="S2.SS2.SSS2.p1.3.m3.1.1.1"></eq><ci id="S2.SS2.SSS2.p1.3.m3.1.1.2.cmml" xref="S2.SS2.SSS2.p1.3.m3.1.1.2">𝑏</ci><ci id="S2.SS2.SSS2.p1.3.m3.1.1.3.cmml" xref="S2.SS2.SSS2.p1.3.m3.1.1.3">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS2.p1.3.m3.1c">b=x</annotation></semantics></math>.</p>
</div>
<figure id="alg2" class="ltx_float ltx_minipage ltx_align_center ltx_align_middle ltx_framed ltx_framed_top" style="width:390.3pt;">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.2.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> Sparse Vector Technique (SVT)<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite></figcaption>
<div id="alg2.3" class="ltx_listing ltx_listing">
<div id="alg2.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span>Privacy budgets for gradient query <math id="alg2.l1.m1.1" class="ltx_Math" alttext="\varepsilon_{1}" display="inline"><semantics id="alg2.l1.m1.1a"><msub id="alg2.l1.m1.1.1" xref="alg2.l1.m1.1.1.cmml"><mi id="alg2.l1.m1.1.1.2" xref="alg2.l1.m1.1.1.2.cmml">ε</mi><mn id="alg2.l1.m1.1.1.3" xref="alg2.l1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="alg2.l1.m1.1b"><apply id="alg2.l1.m1.1.1.cmml" xref="alg2.l1.m1.1.1"><csymbol cd="ambiguous" id="alg2.l1.m1.1.1.1.cmml" xref="alg2.l1.m1.1.1">subscript</csymbol><ci id="alg2.l1.m1.1.1.2.cmml" xref="alg2.l1.m1.1.1.2">𝜀</ci><cn type="integer" id="alg2.l1.m1.1.1.3.cmml" xref="alg2.l1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m1.1c">\varepsilon_{1}</annotation></semantics></math>, threshold <math id="alg2.l1.m2.1" class="ltx_Math" alttext="\varepsilon_{2}" display="inline"><semantics id="alg2.l1.m2.1a"><msub id="alg2.l1.m2.1.1" xref="alg2.l1.m2.1.1.cmml"><mi id="alg2.l1.m2.1.1.2" xref="alg2.l1.m2.1.1.2.cmml">ε</mi><mn id="alg2.l1.m2.1.1.3" xref="alg2.l1.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="alg2.l1.m2.1b"><apply id="alg2.l1.m2.1.1.cmml" xref="alg2.l1.m2.1.1"><csymbol cd="ambiguous" id="alg2.l1.m2.1.1.1.cmml" xref="alg2.l1.m2.1.1">subscript</csymbol><ci id="alg2.l1.m2.1.1.2.cmml" xref="alg2.l1.m2.1.1.2">𝜀</ci><cn type="integer" id="alg2.l1.m2.1.1.3.cmml" xref="alg2.l1.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m2.1c">\varepsilon_{2}</annotation></semantics></math> and answer <math id="alg2.l1.m3.1" class="ltx_Math" alttext="\varepsilon_{3}" display="inline"><semantics id="alg2.l1.m3.1a"><msub id="alg2.l1.m3.1.1" xref="alg2.l1.m3.1.1.cmml"><mi id="alg2.l1.m3.1.1.2" xref="alg2.l1.m3.1.1.2.cmml">ε</mi><mn id="alg2.l1.m3.1.1.3" xref="alg2.l1.m3.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="alg2.l1.m3.1b"><apply id="alg2.l1.m3.1.1.cmml" xref="alg2.l1.m3.1.1"><csymbol cd="ambiguous" id="alg2.l1.m3.1.1.1.cmml" xref="alg2.l1.m3.1.1">subscript</csymbol><ci id="alg2.l1.m3.1.1.2.cmml" xref="alg2.l1.m3.1.1.2">𝜀</ci><cn type="integer" id="alg2.l1.m3.1.1.3.cmml" xref="alg2.l1.m3.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m3.1c">\varepsilon_{3}</annotation></semantics></math>

</div>
<div id="alg2.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span>Gradient clipping threshold <math id="alg2.l2.m1.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="alg2.l2.m1.1a"><mi id="alg2.l2.m1.1.1" xref="alg2.l2.m1.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="alg2.l2.m1.1b"><ci id="alg2.l2.m1.1.1.cmml" xref="alg2.l2.m1.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m1.1c">\gamma</annotation></semantics></math>, portion to release <math id="alg2.l2.m2.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="alg2.l2.m2.1a"><mi id="alg2.l2.m2.1.1" xref="alg2.l2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="alg2.l2.m2.1b"><ci id="alg2.l2.m2.1.1.cmml" xref="alg2.l2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m2.1c">Q</annotation></semantics></math>, local training epochs <math id="alg2.l2.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg2.l2.m3.1a"><mi id="alg2.l2.m3.1.1" xref="alg2.l2.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg2.l2.m3.1b"><ci id="alg2.l2.m3.1.1.cmml" xref="alg2.l2.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m3.1c">N</annotation></semantics></math>

</div>
<div id="alg2.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span>Model weights updates <math id="alg2.l3.m1.1" class="ltx_Math" alttext="\Delta\textbf{w}=\textbf{w}_{local}^{final}-\textbf{w}_{federated}" display="inline"><semantics id="alg2.l3.m1.1a"><mrow id="alg2.l3.m1.1.1" xref="alg2.l3.m1.1.1.cmml"><mrow id="alg2.l3.m1.1.1.2" xref="alg2.l3.m1.1.1.2.cmml"><mi mathvariant="normal" id="alg2.l3.m1.1.1.2.2" xref="alg2.l3.m1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.2.1" xref="alg2.l3.m1.1.1.2.1.cmml">​</mo><mtext class="ltx_mathvariant_bold" id="alg2.l3.m1.1.1.2.3" xref="alg2.l3.m1.1.1.2.3a.cmml">w</mtext></mrow><mo id="alg2.l3.m1.1.1.1" xref="alg2.l3.m1.1.1.1.cmml">=</mo><mrow id="alg2.l3.m1.1.1.3" xref="alg2.l3.m1.1.1.3.cmml"><msubsup id="alg2.l3.m1.1.1.3.2" xref="alg2.l3.m1.1.1.3.2.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l3.m1.1.1.3.2.2.2" xref="alg2.l3.m1.1.1.3.2.2.2a.cmml">w</mtext><mrow id="alg2.l3.m1.1.1.3.2.2.3" xref="alg2.l3.m1.1.1.3.2.2.3.cmml"><mi id="alg2.l3.m1.1.1.3.2.2.3.2" xref="alg2.l3.m1.1.1.3.2.2.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.2.2.3.1" xref="alg2.l3.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.2.2.3.3" xref="alg2.l3.m1.1.1.3.2.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.2.2.3.1a" xref="alg2.l3.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.2.2.3.4" xref="alg2.l3.m1.1.1.3.2.2.3.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.2.2.3.1b" xref="alg2.l3.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.2.2.3.5" xref="alg2.l3.m1.1.1.3.2.2.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.2.2.3.1c" xref="alg2.l3.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.2.2.3.6" xref="alg2.l3.m1.1.1.3.2.2.3.6.cmml">l</mi></mrow><mrow id="alg2.l3.m1.1.1.3.2.3" xref="alg2.l3.m1.1.1.3.2.3.cmml"><mi id="alg2.l3.m1.1.1.3.2.3.2" xref="alg2.l3.m1.1.1.3.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.2.3.1" xref="alg2.l3.m1.1.1.3.2.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.2.3.3" xref="alg2.l3.m1.1.1.3.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.2.3.1a" xref="alg2.l3.m1.1.1.3.2.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.2.3.4" xref="alg2.l3.m1.1.1.3.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.2.3.1b" xref="alg2.l3.m1.1.1.3.2.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.2.3.5" xref="alg2.l3.m1.1.1.3.2.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.2.3.1c" xref="alg2.l3.m1.1.1.3.2.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.2.3.6" xref="alg2.l3.m1.1.1.3.2.3.6.cmml">l</mi></mrow></msubsup><mo id="alg2.l3.m1.1.1.3.1" xref="alg2.l3.m1.1.1.3.1.cmml">−</mo><msub id="alg2.l3.m1.1.1.3.3" xref="alg2.l3.m1.1.1.3.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l3.m1.1.1.3.3.2" xref="alg2.l3.m1.1.1.3.3.2a.cmml">w</mtext><mrow id="alg2.l3.m1.1.1.3.3.3" xref="alg2.l3.m1.1.1.3.3.3.cmml"><mi id="alg2.l3.m1.1.1.3.3.3.2" xref="alg2.l3.m1.1.1.3.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.3.3.1" xref="alg2.l3.m1.1.1.3.3.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.3.3.3" xref="alg2.l3.m1.1.1.3.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.3.3.1a" xref="alg2.l3.m1.1.1.3.3.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.3.3.4" xref="alg2.l3.m1.1.1.3.3.3.4.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.3.3.1b" xref="alg2.l3.m1.1.1.3.3.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.3.3.5" xref="alg2.l3.m1.1.1.3.3.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.3.3.1c" xref="alg2.l3.m1.1.1.3.3.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.3.3.6" xref="alg2.l3.m1.1.1.3.3.3.6.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.3.3.1d" xref="alg2.l3.m1.1.1.3.3.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.3.3.7" xref="alg2.l3.m1.1.1.3.3.3.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.3.3.1e" xref="alg2.l3.m1.1.1.3.3.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.3.3.8" xref="alg2.l3.m1.1.1.3.3.3.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.3.3.1f" xref="alg2.l3.m1.1.1.3.3.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.3.3.9" xref="alg2.l3.m1.1.1.3.3.3.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.3.3.1g" xref="alg2.l3.m1.1.1.3.3.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.3.3.10" xref="alg2.l3.m1.1.1.3.3.3.10.cmml">d</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l3.m1.1b"><apply id="alg2.l3.m1.1.1.cmml" xref="alg2.l3.m1.1.1"><eq id="alg2.l3.m1.1.1.1.cmml" xref="alg2.l3.m1.1.1.1"></eq><apply id="alg2.l3.m1.1.1.2.cmml" xref="alg2.l3.m1.1.1.2"><times id="alg2.l3.m1.1.1.2.1.cmml" xref="alg2.l3.m1.1.1.2.1"></times><ci id="alg2.l3.m1.1.1.2.2.cmml" xref="alg2.l3.m1.1.1.2.2">Δ</ci><ci id="alg2.l3.m1.1.1.2.3a.cmml" xref="alg2.l3.m1.1.1.2.3"><mtext class="ltx_mathvariant_bold" id="alg2.l3.m1.1.1.2.3.cmml" xref="alg2.l3.m1.1.1.2.3">w</mtext></ci></apply><apply id="alg2.l3.m1.1.1.3.cmml" xref="alg2.l3.m1.1.1.3"><minus id="alg2.l3.m1.1.1.3.1.cmml" xref="alg2.l3.m1.1.1.3.1"></minus><apply id="alg2.l3.m1.1.1.3.2.cmml" xref="alg2.l3.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg2.l3.m1.1.1.3.2.1.cmml" xref="alg2.l3.m1.1.1.3.2">superscript</csymbol><apply id="alg2.l3.m1.1.1.3.2.2.cmml" xref="alg2.l3.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg2.l3.m1.1.1.3.2.2.1.cmml" xref="alg2.l3.m1.1.1.3.2">subscript</csymbol><ci id="alg2.l3.m1.1.1.3.2.2.2a.cmml" xref="alg2.l3.m1.1.1.3.2.2.2"><mtext class="ltx_mathvariant_bold" id="alg2.l3.m1.1.1.3.2.2.2.cmml" xref="alg2.l3.m1.1.1.3.2.2.2">w</mtext></ci><apply id="alg2.l3.m1.1.1.3.2.2.3.cmml" xref="alg2.l3.m1.1.1.3.2.2.3"><times id="alg2.l3.m1.1.1.3.2.2.3.1.cmml" xref="alg2.l3.m1.1.1.3.2.2.3.1"></times><ci id="alg2.l3.m1.1.1.3.2.2.3.2.cmml" xref="alg2.l3.m1.1.1.3.2.2.3.2">𝑙</ci><ci id="alg2.l3.m1.1.1.3.2.2.3.3.cmml" xref="alg2.l3.m1.1.1.3.2.2.3.3">𝑜</ci><ci id="alg2.l3.m1.1.1.3.2.2.3.4.cmml" xref="alg2.l3.m1.1.1.3.2.2.3.4">𝑐</ci><ci id="alg2.l3.m1.1.1.3.2.2.3.5.cmml" xref="alg2.l3.m1.1.1.3.2.2.3.5">𝑎</ci><ci id="alg2.l3.m1.1.1.3.2.2.3.6.cmml" xref="alg2.l3.m1.1.1.3.2.2.3.6">𝑙</ci></apply></apply><apply id="alg2.l3.m1.1.1.3.2.3.cmml" xref="alg2.l3.m1.1.1.3.2.3"><times id="alg2.l3.m1.1.1.3.2.3.1.cmml" xref="alg2.l3.m1.1.1.3.2.3.1"></times><ci id="alg2.l3.m1.1.1.3.2.3.2.cmml" xref="alg2.l3.m1.1.1.3.2.3.2">𝑓</ci><ci id="alg2.l3.m1.1.1.3.2.3.3.cmml" xref="alg2.l3.m1.1.1.3.2.3.3">𝑖</ci><ci id="alg2.l3.m1.1.1.3.2.3.4.cmml" xref="alg2.l3.m1.1.1.3.2.3.4">𝑛</ci><ci id="alg2.l3.m1.1.1.3.2.3.5.cmml" xref="alg2.l3.m1.1.1.3.2.3.5">𝑎</ci><ci id="alg2.l3.m1.1.1.3.2.3.6.cmml" xref="alg2.l3.m1.1.1.3.2.3.6">𝑙</ci></apply></apply><apply id="alg2.l3.m1.1.1.3.3.cmml" xref="alg2.l3.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg2.l3.m1.1.1.3.3.1.cmml" xref="alg2.l3.m1.1.1.3.3">subscript</csymbol><ci id="alg2.l3.m1.1.1.3.3.2a.cmml" xref="alg2.l3.m1.1.1.3.3.2"><mtext class="ltx_mathvariant_bold" id="alg2.l3.m1.1.1.3.3.2.cmml" xref="alg2.l3.m1.1.1.3.3.2">w</mtext></ci><apply id="alg2.l3.m1.1.1.3.3.3.cmml" xref="alg2.l3.m1.1.1.3.3.3"><times id="alg2.l3.m1.1.1.3.3.3.1.cmml" xref="alg2.l3.m1.1.1.3.3.3.1"></times><ci id="alg2.l3.m1.1.1.3.3.3.2.cmml" xref="alg2.l3.m1.1.1.3.3.3.2">𝑓</ci><ci id="alg2.l3.m1.1.1.3.3.3.3.cmml" xref="alg2.l3.m1.1.1.3.3.3.3">𝑒</ci><ci id="alg2.l3.m1.1.1.3.3.3.4.cmml" xref="alg2.l3.m1.1.1.3.3.3.4">𝑑</ci><ci id="alg2.l3.m1.1.1.3.3.3.5.cmml" xref="alg2.l3.m1.1.1.3.3.3.5">𝑒</ci><ci id="alg2.l3.m1.1.1.3.3.3.6.cmml" xref="alg2.l3.m1.1.1.3.3.3.6">𝑟</ci><ci id="alg2.l3.m1.1.1.3.3.3.7.cmml" xref="alg2.l3.m1.1.1.3.3.3.7">𝑎</ci><ci id="alg2.l3.m1.1.1.3.3.3.8.cmml" xref="alg2.l3.m1.1.1.3.3.3.8">𝑡</ci><ci id="alg2.l3.m1.1.1.3.3.3.9.cmml" xref="alg2.l3.m1.1.1.3.3.3.9">𝑒</ci><ci id="alg2.l3.m1.1.1.3.3.3.10.cmml" xref="alg2.l3.m1.1.1.3.3.3.10">𝑑</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m1.1c">\Delta\textbf{w}=\textbf{w}_{local}^{final}-\textbf{w}_{federated}</annotation></semantics></math>

</div>
<div id="alg2.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span>Normalize weight updates by epochs: <math id="alg2.l4.m1.1" class="ltx_Math" alttext="\Delta\bar{\textbf{w}}=\Delta\textbf{w}/N" display="inline"><semantics id="alg2.l4.m1.1a"><mrow id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml"><mrow id="alg2.l4.m1.1.1.2" xref="alg2.l4.m1.1.1.2.cmml"><mi mathvariant="normal" id="alg2.l4.m1.1.1.2.2" xref="alg2.l4.m1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l4.m1.1.1.2.1" xref="alg2.l4.m1.1.1.2.1.cmml">​</mo><mover accent="true" id="alg2.l4.m1.1.1.2.3" xref="alg2.l4.m1.1.1.2.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l4.m1.1.1.2.3.2" xref="alg2.l4.m1.1.1.2.3.2a.cmml">w</mtext><mo id="alg2.l4.m1.1.1.2.3.1" xref="alg2.l4.m1.1.1.2.3.1.cmml">¯</mo></mover></mrow><mo id="alg2.l4.m1.1.1.1" xref="alg2.l4.m1.1.1.1.cmml">=</mo><mrow id="alg2.l4.m1.1.1.3" xref="alg2.l4.m1.1.1.3.cmml"><mrow id="alg2.l4.m1.1.1.3.2" xref="alg2.l4.m1.1.1.3.2.cmml"><mi mathvariant="normal" id="alg2.l4.m1.1.1.3.2.2" xref="alg2.l4.m1.1.1.3.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l4.m1.1.1.3.2.1" xref="alg2.l4.m1.1.1.3.2.1.cmml">​</mo><mtext class="ltx_mathvariant_bold" id="alg2.l4.m1.1.1.3.2.3" xref="alg2.l4.m1.1.1.3.2.3a.cmml">w</mtext></mrow><mo id="alg2.l4.m1.1.1.3.1" xref="alg2.l4.m1.1.1.3.1.cmml">/</mo><mi id="alg2.l4.m1.1.1.3.3" xref="alg2.l4.m1.1.1.3.3.cmml">N</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l4.m1.1b"><apply id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1"><eq id="alg2.l4.m1.1.1.1.cmml" xref="alg2.l4.m1.1.1.1"></eq><apply id="alg2.l4.m1.1.1.2.cmml" xref="alg2.l4.m1.1.1.2"><times id="alg2.l4.m1.1.1.2.1.cmml" xref="alg2.l4.m1.1.1.2.1"></times><ci id="alg2.l4.m1.1.1.2.2.cmml" xref="alg2.l4.m1.1.1.2.2">Δ</ci><apply id="alg2.l4.m1.1.1.2.3.cmml" xref="alg2.l4.m1.1.1.2.3"><ci id="alg2.l4.m1.1.1.2.3.1.cmml" xref="alg2.l4.m1.1.1.2.3.1">¯</ci><ci id="alg2.l4.m1.1.1.2.3.2a.cmml" xref="alg2.l4.m1.1.1.2.3.2"><mtext class="ltx_mathvariant_bold" id="alg2.l4.m1.1.1.2.3.2.cmml" xref="alg2.l4.m1.1.1.2.3.2">w</mtext></ci></apply></apply><apply id="alg2.l4.m1.1.1.3.cmml" xref="alg2.l4.m1.1.1.3"><divide id="alg2.l4.m1.1.1.3.1.cmml" xref="alg2.l4.m1.1.1.3.1"></divide><apply id="alg2.l4.m1.1.1.3.2.cmml" xref="alg2.l4.m1.1.1.3.2"><times id="alg2.l4.m1.1.1.3.2.1.cmml" xref="alg2.l4.m1.1.1.3.2.1"></times><ci id="alg2.l4.m1.1.1.3.2.2.cmml" xref="alg2.l4.m1.1.1.3.2.2">Δ</ci><ci id="alg2.l4.m1.1.1.3.2.3a.cmml" xref="alg2.l4.m1.1.1.3.2.3"><mtext class="ltx_mathvariant_bold" id="alg2.l4.m1.1.1.3.2.3.cmml" xref="alg2.l4.m1.1.1.3.2.3">w</mtext></ci></apply><ci id="alg2.l4.m1.1.1.3.3.cmml" xref="alg2.l4.m1.1.1.3.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m1.1c">\Delta\bar{\textbf{w}}=\Delta\textbf{w}/N</annotation></semantics></math>

</div>
<div id="alg2.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span>Sensitivity: <math id="alg2.l5.m1.1" class="ltx_Math" alttext="s\leftarrow 2\gamma" display="inline"><semantics id="alg2.l5.m1.1a"><mrow id="alg2.l5.m1.1.1" xref="alg2.l5.m1.1.1.cmml"><mi id="alg2.l5.m1.1.1.2" xref="alg2.l5.m1.1.1.2.cmml">s</mi><mo stretchy="false" id="alg2.l5.m1.1.1.1" xref="alg2.l5.m1.1.1.1.cmml">←</mo><mrow id="alg2.l5.m1.1.1.3" xref="alg2.l5.m1.1.1.3.cmml"><mn id="alg2.l5.m1.1.1.3.2" xref="alg2.l5.m1.1.1.3.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.3.1" xref="alg2.l5.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.3.3" xref="alg2.l5.m1.1.1.3.3.cmml">γ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l5.m1.1b"><apply id="alg2.l5.m1.1.1.cmml" xref="alg2.l5.m1.1.1"><ci id="alg2.l5.m1.1.1.1.cmml" xref="alg2.l5.m1.1.1.1">←</ci><ci id="alg2.l5.m1.1.1.2.cmml" xref="alg2.l5.m1.1.1.2">𝑠</ci><apply id="alg2.l5.m1.1.1.3.cmml" xref="alg2.l5.m1.1.1.3"><times id="alg2.l5.m1.1.1.3.1.cmml" xref="alg2.l5.m1.1.1.3.1"></times><cn type="integer" id="alg2.l5.m1.1.1.3.2.cmml" xref="alg2.l5.m1.1.1.3.2">2</cn><ci id="alg2.l5.m1.1.1.3.3.cmml" xref="alg2.l5.m1.1.1.3.3">𝛾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.m1.1c">s\leftarrow 2\gamma</annotation></semantics></math> <span id="alg2.l5.1" class="ltx_text" style="float:right;"><math id="alg2.l5.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg2.l5.1.m1.1a"><mo id="alg2.l5.1.m1.1.1" xref="alg2.l5.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg2.l5.1.m1.1b"><ci id="alg2.l5.1.m1.1.1.cmml" xref="alg2.l5.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.1.m1.1c">\triangleright</annotation></semantics></math> Default value
</span>
</div>
<div id="alg2.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>Number of releasable weights: <math id="alg2.l6.m1.1" class="ltx_Math" alttext="q\leftarrow size(\Delta\bar{\textbf{w}})\cdot Q" display="inline"><semantics id="alg2.l6.m1.1a"><mrow id="alg2.l6.m1.1.1" xref="alg2.l6.m1.1.1.cmml"><mi id="alg2.l6.m1.1.1.3" xref="alg2.l6.m1.1.1.3.cmml">q</mi><mo stretchy="false" id="alg2.l6.m1.1.1.2" xref="alg2.l6.m1.1.1.2.cmml">←</mo><mrow id="alg2.l6.m1.1.1.1" xref="alg2.l6.m1.1.1.1.cmml"><mrow id="alg2.l6.m1.1.1.1.1" xref="alg2.l6.m1.1.1.1.1.cmml"><mi id="alg2.l6.m1.1.1.1.1.3" xref="alg2.l6.m1.1.1.1.1.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg2.l6.m1.1.1.1.1.2" xref="alg2.l6.m1.1.1.1.1.2.cmml">​</mo><mi id="alg2.l6.m1.1.1.1.1.4" xref="alg2.l6.m1.1.1.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l6.m1.1.1.1.1.2a" xref="alg2.l6.m1.1.1.1.1.2.cmml">​</mo><mi id="alg2.l6.m1.1.1.1.1.5" xref="alg2.l6.m1.1.1.1.1.5.cmml">z</mi><mo lspace="0em" rspace="0em" id="alg2.l6.m1.1.1.1.1.2b" xref="alg2.l6.m1.1.1.1.1.2.cmml">​</mo><mi id="alg2.l6.m1.1.1.1.1.6" xref="alg2.l6.m1.1.1.1.1.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l6.m1.1.1.1.1.2c" xref="alg2.l6.m1.1.1.1.1.2.cmml">​</mo><mrow id="alg2.l6.m1.1.1.1.1.1.1" xref="alg2.l6.m1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l6.m1.1.1.1.1.1.1.2" xref="alg2.l6.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg2.l6.m1.1.1.1.1.1.1.1" xref="alg2.l6.m1.1.1.1.1.1.1.1.cmml"><mi mathvariant="normal" id="alg2.l6.m1.1.1.1.1.1.1.1.2" xref="alg2.l6.m1.1.1.1.1.1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l6.m1.1.1.1.1.1.1.1.1" xref="alg2.l6.m1.1.1.1.1.1.1.1.1.cmml">​</mo><mover accent="true" id="alg2.l6.m1.1.1.1.1.1.1.1.3" xref="alg2.l6.m1.1.1.1.1.1.1.1.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l6.m1.1.1.1.1.1.1.1.3.2" xref="alg2.l6.m1.1.1.1.1.1.1.1.3.2a.cmml">w</mtext><mo id="alg2.l6.m1.1.1.1.1.1.1.1.3.1" xref="alg2.l6.m1.1.1.1.1.1.1.1.3.1.cmml">¯</mo></mover></mrow><mo rspace="0.055em" stretchy="false" id="alg2.l6.m1.1.1.1.1.1.1.3" xref="alg2.l6.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="alg2.l6.m1.1.1.1.2" xref="alg2.l6.m1.1.1.1.2.cmml">⋅</mo><mi id="alg2.l6.m1.1.1.1.3" xref="alg2.l6.m1.1.1.1.3.cmml">Q</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l6.m1.1b"><apply id="alg2.l6.m1.1.1.cmml" xref="alg2.l6.m1.1.1"><ci id="alg2.l6.m1.1.1.2.cmml" xref="alg2.l6.m1.1.1.2">←</ci><ci id="alg2.l6.m1.1.1.3.cmml" xref="alg2.l6.m1.1.1.3">𝑞</ci><apply id="alg2.l6.m1.1.1.1.cmml" xref="alg2.l6.m1.1.1.1"><ci id="alg2.l6.m1.1.1.1.2.cmml" xref="alg2.l6.m1.1.1.1.2">⋅</ci><apply id="alg2.l6.m1.1.1.1.1.cmml" xref="alg2.l6.m1.1.1.1.1"><times id="alg2.l6.m1.1.1.1.1.2.cmml" xref="alg2.l6.m1.1.1.1.1.2"></times><ci id="alg2.l6.m1.1.1.1.1.3.cmml" xref="alg2.l6.m1.1.1.1.1.3">𝑠</ci><ci id="alg2.l6.m1.1.1.1.1.4.cmml" xref="alg2.l6.m1.1.1.1.1.4">𝑖</ci><ci id="alg2.l6.m1.1.1.1.1.5.cmml" xref="alg2.l6.m1.1.1.1.1.5">𝑧</ci><ci id="alg2.l6.m1.1.1.1.1.6.cmml" xref="alg2.l6.m1.1.1.1.1.6">𝑒</ci><apply id="alg2.l6.m1.1.1.1.1.1.1.1.cmml" xref="alg2.l6.m1.1.1.1.1.1.1"><times id="alg2.l6.m1.1.1.1.1.1.1.1.1.cmml" xref="alg2.l6.m1.1.1.1.1.1.1.1.1"></times><ci id="alg2.l6.m1.1.1.1.1.1.1.1.2.cmml" xref="alg2.l6.m1.1.1.1.1.1.1.1.2">Δ</ci><apply id="alg2.l6.m1.1.1.1.1.1.1.1.3.cmml" xref="alg2.l6.m1.1.1.1.1.1.1.1.3"><ci id="alg2.l6.m1.1.1.1.1.1.1.1.3.1.cmml" xref="alg2.l6.m1.1.1.1.1.1.1.1.3.1">¯</ci><ci id="alg2.l6.m1.1.1.1.1.1.1.1.3.2a.cmml" xref="alg2.l6.m1.1.1.1.1.1.1.1.3.2"><mtext class="ltx_mathvariant_bold" id="alg2.l6.m1.1.1.1.1.1.1.1.3.2.cmml" xref="alg2.l6.m1.1.1.1.1.1.1.1.3.2">w</mtext></ci></apply></apply></apply><ci id="alg2.l6.m1.1.1.1.3.cmml" xref="alg2.l6.m1.1.1.1.3">𝑄</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l6.m1.1c">q\leftarrow size(\Delta\bar{\textbf{w}})\cdot Q</annotation></semantics></math>

</div>
<div id="alg2.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>Privacy budget for threshold: <math id="alg2.l7.m1.1" class="ltx_Math" alttext="\varepsilon_{2}\leftarrow\left(2qs\right)^{\frac{2}{3}}\cdot\varepsilon_{1}" display="inline"><semantics id="alg2.l7.m1.1a"><mrow id="alg2.l7.m1.1.1" xref="alg2.l7.m1.1.1.cmml"><msub id="alg2.l7.m1.1.1.3" xref="alg2.l7.m1.1.1.3.cmml"><mi id="alg2.l7.m1.1.1.3.2" xref="alg2.l7.m1.1.1.3.2.cmml">ε</mi><mn id="alg2.l7.m1.1.1.3.3" xref="alg2.l7.m1.1.1.3.3.cmml">2</mn></msub><mo stretchy="false" id="alg2.l7.m1.1.1.2" xref="alg2.l7.m1.1.1.2.cmml">←</mo><mrow id="alg2.l7.m1.1.1.1" xref="alg2.l7.m1.1.1.1.cmml"><msup id="alg2.l7.m1.1.1.1.1" xref="alg2.l7.m1.1.1.1.1.cmml"><mrow id="alg2.l7.m1.1.1.1.1.1.1" xref="alg2.l7.m1.1.1.1.1.1.1.1.cmml"><mo id="alg2.l7.m1.1.1.1.1.1.1.2" xref="alg2.l7.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg2.l7.m1.1.1.1.1.1.1.1" xref="alg2.l7.m1.1.1.1.1.1.1.1.cmml"><mn id="alg2.l7.m1.1.1.1.1.1.1.1.2" xref="alg2.l7.m1.1.1.1.1.1.1.1.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.1.1.1.1.1.1" xref="alg2.l7.m1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.1.1.1.1.1.3" xref="alg2.l7.m1.1.1.1.1.1.1.1.3.cmml">q</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.1.1.1.1.1.1a" xref="alg2.l7.m1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.1.1.1.1.1.4" xref="alg2.l7.m1.1.1.1.1.1.1.1.4.cmml">s</mi></mrow><mo rspace="0.055em" id="alg2.l7.m1.1.1.1.1.1.1.3" xref="alg2.l7.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mfrac id="alg2.l7.m1.1.1.1.1.3" xref="alg2.l7.m1.1.1.1.1.3.cmml"><mn id="alg2.l7.m1.1.1.1.1.3.2" xref="alg2.l7.m1.1.1.1.1.3.2.cmml">2</mn><mn id="alg2.l7.m1.1.1.1.1.3.3" xref="alg2.l7.m1.1.1.1.1.3.3.cmml">3</mn></mfrac></msup><mo rspace="0.222em" id="alg2.l7.m1.1.1.1.2" xref="alg2.l7.m1.1.1.1.2.cmml">⋅</mo><msub id="alg2.l7.m1.1.1.1.3" xref="alg2.l7.m1.1.1.1.3.cmml"><mi id="alg2.l7.m1.1.1.1.3.2" xref="alg2.l7.m1.1.1.1.3.2.cmml">ε</mi><mn id="alg2.l7.m1.1.1.1.3.3" xref="alg2.l7.m1.1.1.1.3.3.cmml">1</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l7.m1.1b"><apply id="alg2.l7.m1.1.1.cmml" xref="alg2.l7.m1.1.1"><ci id="alg2.l7.m1.1.1.2.cmml" xref="alg2.l7.m1.1.1.2">←</ci><apply id="alg2.l7.m1.1.1.3.cmml" xref="alg2.l7.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l7.m1.1.1.3.1.cmml" xref="alg2.l7.m1.1.1.3">subscript</csymbol><ci id="alg2.l7.m1.1.1.3.2.cmml" xref="alg2.l7.m1.1.1.3.2">𝜀</ci><cn type="integer" id="alg2.l7.m1.1.1.3.3.cmml" xref="alg2.l7.m1.1.1.3.3">2</cn></apply><apply id="alg2.l7.m1.1.1.1.cmml" xref="alg2.l7.m1.1.1.1"><ci id="alg2.l7.m1.1.1.1.2.cmml" xref="alg2.l7.m1.1.1.1.2">⋅</ci><apply id="alg2.l7.m1.1.1.1.1.cmml" xref="alg2.l7.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l7.m1.1.1.1.1.2.cmml" xref="alg2.l7.m1.1.1.1.1">superscript</csymbol><apply id="alg2.l7.m1.1.1.1.1.1.1.1.cmml" xref="alg2.l7.m1.1.1.1.1.1.1"><times id="alg2.l7.m1.1.1.1.1.1.1.1.1.cmml" xref="alg2.l7.m1.1.1.1.1.1.1.1.1"></times><cn type="integer" id="alg2.l7.m1.1.1.1.1.1.1.1.2.cmml" xref="alg2.l7.m1.1.1.1.1.1.1.1.2">2</cn><ci id="alg2.l7.m1.1.1.1.1.1.1.1.3.cmml" xref="alg2.l7.m1.1.1.1.1.1.1.1.3">𝑞</ci><ci id="alg2.l7.m1.1.1.1.1.1.1.1.4.cmml" xref="alg2.l7.m1.1.1.1.1.1.1.1.4">𝑠</ci></apply><apply id="alg2.l7.m1.1.1.1.1.3.cmml" xref="alg2.l7.m1.1.1.1.1.3"><divide id="alg2.l7.m1.1.1.1.1.3.1.cmml" xref="alg2.l7.m1.1.1.1.1.3"></divide><cn type="integer" id="alg2.l7.m1.1.1.1.1.3.2.cmml" xref="alg2.l7.m1.1.1.1.1.3.2">2</cn><cn type="integer" id="alg2.l7.m1.1.1.1.1.3.3.cmml" xref="alg2.l7.m1.1.1.1.1.3.3">3</cn></apply></apply><apply id="alg2.l7.m1.1.1.1.3.cmml" xref="alg2.l7.m1.1.1.1.3"><csymbol cd="ambiguous" id="alg2.l7.m1.1.1.1.3.1.cmml" xref="alg2.l7.m1.1.1.1.3">subscript</csymbol><ci id="alg2.l7.m1.1.1.1.3.2.cmml" xref="alg2.l7.m1.1.1.1.3.2">𝜀</ci><cn type="integer" id="alg2.l7.m1.1.1.1.3.3.cmml" xref="alg2.l7.m1.1.1.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l7.m1.1c">\varepsilon_{2}\leftarrow\left(2qs\right)^{\frac{2}{3}}\cdot\varepsilon_{1}</annotation></semantics></math> <span id="alg2.l7.1" class="ltx_text" style="float:right;"><math id="alg2.l7.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg2.l7.1.m1.1a"><mo id="alg2.l7.1.m1.1.1" xref="alg2.l7.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg2.l7.1.m1.1b"><ci id="alg2.l7.1.m1.1.1.cmml" xref="alg2.l7.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l7.1.m1.1c">\triangleright</annotation></semantics></math> Default value
</span>
</div>
<div id="alg2.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span>Threshold: <math id="alg2.l8.m1.1" class="ltx_Math" alttext="\tau\leftarrow Percentile_{Q}\left(\lvert\Delta\bar{\textbf{w}}\rvert\right)" display="inline"><semantics id="alg2.l8.m1.1a"><mrow id="alg2.l8.m1.1.1" xref="alg2.l8.m1.1.1.cmml"><mi id="alg2.l8.m1.1.1.3" xref="alg2.l8.m1.1.1.3.cmml">τ</mi><mo stretchy="false" id="alg2.l8.m1.1.1.2" xref="alg2.l8.m1.1.1.2.cmml">←</mo><mrow id="alg2.l8.m1.1.1.1" xref="alg2.l8.m1.1.1.1.cmml"><mi id="alg2.l8.m1.1.1.1.3" xref="alg2.l8.m1.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1.2" xref="alg2.l8.m1.1.1.1.2.cmml">​</mo><mi id="alg2.l8.m1.1.1.1.4" xref="alg2.l8.m1.1.1.1.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1.2a" xref="alg2.l8.m1.1.1.1.2.cmml">​</mo><mi id="alg2.l8.m1.1.1.1.5" xref="alg2.l8.m1.1.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1.2b" xref="alg2.l8.m1.1.1.1.2.cmml">​</mo><mi id="alg2.l8.m1.1.1.1.6" xref="alg2.l8.m1.1.1.1.6.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1.2c" xref="alg2.l8.m1.1.1.1.2.cmml">​</mo><mi id="alg2.l8.m1.1.1.1.7" xref="alg2.l8.m1.1.1.1.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1.2d" xref="alg2.l8.m1.1.1.1.2.cmml">​</mo><mi id="alg2.l8.m1.1.1.1.8" xref="alg2.l8.m1.1.1.1.8.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1.2e" xref="alg2.l8.m1.1.1.1.2.cmml">​</mo><mi id="alg2.l8.m1.1.1.1.9" xref="alg2.l8.m1.1.1.1.9.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1.2f" xref="alg2.l8.m1.1.1.1.2.cmml">​</mo><mi id="alg2.l8.m1.1.1.1.10" xref="alg2.l8.m1.1.1.1.10.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1.2g" xref="alg2.l8.m1.1.1.1.2.cmml">​</mo><mi id="alg2.l8.m1.1.1.1.11" xref="alg2.l8.m1.1.1.1.11.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1.2h" xref="alg2.l8.m1.1.1.1.2.cmml">​</mo><msub id="alg2.l8.m1.1.1.1.12" xref="alg2.l8.m1.1.1.1.12.cmml"><mi id="alg2.l8.m1.1.1.1.12.2" xref="alg2.l8.m1.1.1.1.12.2.cmml">e</mi><mi id="alg2.l8.m1.1.1.1.12.3" xref="alg2.l8.m1.1.1.1.12.3.cmml">Q</mi></msub><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1.2i" xref="alg2.l8.m1.1.1.1.2.cmml">​</mo><mrow id="alg2.l8.m1.1.1.1.1.1" xref="alg2.l8.m1.1.1.1.cmml"><mo id="alg2.l8.m1.1.1.1.1.1.2" xref="alg2.l8.m1.1.1.1.cmml">(</mo><mrow id="alg2.l8.m1.1.1.1.1.1.1.1" xref="alg2.l8.m1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="alg2.l8.m1.1.1.1.1.1.1.1.2" xref="alg2.l8.m1.1.1.1.1.1.1.2.1.cmml">|</mo><mrow id="alg2.l8.m1.1.1.1.1.1.1.1.1" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.cmml"><mi mathvariant="normal" id="alg2.l8.m1.1.1.1.1.1.1.1.1.2" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1.1.1.1.1.1.1" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mover accent="true" id="alg2.l8.m1.1.1.1.1.1.1.1.1.3" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l8.m1.1.1.1.1.1.1.1.1.3.2" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.3.2a.cmml">w</mtext><mo id="alg2.l8.m1.1.1.1.1.1.1.1.1.3.1" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.3.1.cmml">¯</mo></mover></mrow><mo stretchy="false" id="alg2.l8.m1.1.1.1.1.1.1.1.3" xref="alg2.l8.m1.1.1.1.1.1.1.2.1.cmml">|</mo></mrow><mo id="alg2.l8.m1.1.1.1.1.1.3" xref="alg2.l8.m1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l8.m1.1b"><apply id="alg2.l8.m1.1.1.cmml" xref="alg2.l8.m1.1.1"><ci id="alg2.l8.m1.1.1.2.cmml" xref="alg2.l8.m1.1.1.2">←</ci><ci id="alg2.l8.m1.1.1.3.cmml" xref="alg2.l8.m1.1.1.3">𝜏</ci><apply id="alg2.l8.m1.1.1.1.cmml" xref="alg2.l8.m1.1.1.1"><times id="alg2.l8.m1.1.1.1.2.cmml" xref="alg2.l8.m1.1.1.1.2"></times><ci id="alg2.l8.m1.1.1.1.3.cmml" xref="alg2.l8.m1.1.1.1.3">𝑃</ci><ci id="alg2.l8.m1.1.1.1.4.cmml" xref="alg2.l8.m1.1.1.1.4">𝑒</ci><ci id="alg2.l8.m1.1.1.1.5.cmml" xref="alg2.l8.m1.1.1.1.5">𝑟</ci><ci id="alg2.l8.m1.1.1.1.6.cmml" xref="alg2.l8.m1.1.1.1.6">𝑐</ci><ci id="alg2.l8.m1.1.1.1.7.cmml" xref="alg2.l8.m1.1.1.1.7">𝑒</ci><ci id="alg2.l8.m1.1.1.1.8.cmml" xref="alg2.l8.m1.1.1.1.8">𝑛</ci><ci id="alg2.l8.m1.1.1.1.9.cmml" xref="alg2.l8.m1.1.1.1.9">𝑡</ci><ci id="alg2.l8.m1.1.1.1.10.cmml" xref="alg2.l8.m1.1.1.1.10">𝑖</ci><ci id="alg2.l8.m1.1.1.1.11.cmml" xref="alg2.l8.m1.1.1.1.11">𝑙</ci><apply id="alg2.l8.m1.1.1.1.12.cmml" xref="alg2.l8.m1.1.1.1.12"><csymbol cd="ambiguous" id="alg2.l8.m1.1.1.1.12.1.cmml" xref="alg2.l8.m1.1.1.1.12">subscript</csymbol><ci id="alg2.l8.m1.1.1.1.12.2.cmml" xref="alg2.l8.m1.1.1.1.12.2">𝑒</ci><ci id="alg2.l8.m1.1.1.1.12.3.cmml" xref="alg2.l8.m1.1.1.1.12.3">𝑄</ci></apply><apply id="alg2.l8.m1.1.1.1.1.1.1.2.cmml" xref="alg2.l8.m1.1.1.1.1.1.1.1"><abs id="alg2.l8.m1.1.1.1.1.1.1.2.1.cmml" xref="alg2.l8.m1.1.1.1.1.1.1.1.2"></abs><apply id="alg2.l8.m1.1.1.1.1.1.1.1.1.cmml" xref="alg2.l8.m1.1.1.1.1.1.1.1.1"><times id="alg2.l8.m1.1.1.1.1.1.1.1.1.1.cmml" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.1"></times><ci id="alg2.l8.m1.1.1.1.1.1.1.1.1.2.cmml" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.2">Δ</ci><apply id="alg2.l8.m1.1.1.1.1.1.1.1.1.3.cmml" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.3"><ci id="alg2.l8.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.3.1">¯</ci><ci id="alg2.l8.m1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.3.2"><mtext class="ltx_mathvariant_bold" id="alg2.l8.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="alg2.l8.m1.1.1.1.1.1.1.1.1.3.2">w</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m1.1c">\tau\leftarrow Percentile_{Q}\left(\lvert\Delta\bar{\textbf{w}}\rvert\right)</annotation></semantics></math>

</div>
<div id="alg2.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9:</span>Noisy threshold: <math id="alg2.l9.m1.1" class="ltx_Math" alttext="\hat{\tau}\leftarrow\tau+Lap\left(\frac{s}{\varepsilon_{2}}\right)" display="inline"><semantics id="alg2.l9.m1.1a"><mrow id="alg2.l9.m1.1.2" xref="alg2.l9.m1.1.2.cmml"><mover accent="true" id="alg2.l9.m1.1.2.2" xref="alg2.l9.m1.1.2.2.cmml"><mi id="alg2.l9.m1.1.2.2.2" xref="alg2.l9.m1.1.2.2.2.cmml">τ</mi><mo id="alg2.l9.m1.1.2.2.1" xref="alg2.l9.m1.1.2.2.1.cmml">^</mo></mover><mo stretchy="false" id="alg2.l9.m1.1.2.1" xref="alg2.l9.m1.1.2.1.cmml">←</mo><mrow id="alg2.l9.m1.1.2.3" xref="alg2.l9.m1.1.2.3.cmml"><mi id="alg2.l9.m1.1.2.3.2" xref="alg2.l9.m1.1.2.3.2.cmml">τ</mi><mo id="alg2.l9.m1.1.2.3.1" xref="alg2.l9.m1.1.2.3.1.cmml">+</mo><mrow id="alg2.l9.m1.1.2.3.3" xref="alg2.l9.m1.1.2.3.3.cmml"><mi id="alg2.l9.m1.1.2.3.3.2" xref="alg2.l9.m1.1.2.3.3.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.2.3.3.1" xref="alg2.l9.m1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l9.m1.1.2.3.3.3" xref="alg2.l9.m1.1.2.3.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.2.3.3.1a" xref="alg2.l9.m1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l9.m1.1.2.3.3.4" xref="alg2.l9.m1.1.2.3.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.2.3.3.1b" xref="alg2.l9.m1.1.2.3.3.1.cmml">​</mo><mrow id="alg2.l9.m1.1.2.3.3.5.2" xref="alg2.l9.m1.1.1.cmml"><mo id="alg2.l9.m1.1.2.3.3.5.2.1" xref="alg2.l9.m1.1.1.cmml">(</mo><mfrac id="alg2.l9.m1.1.1" xref="alg2.l9.m1.1.1.cmml"><mi id="alg2.l9.m1.1.1.2" xref="alg2.l9.m1.1.1.2.cmml">s</mi><msub id="alg2.l9.m1.1.1.3" xref="alg2.l9.m1.1.1.3.cmml"><mi id="alg2.l9.m1.1.1.3.2" xref="alg2.l9.m1.1.1.3.2.cmml">ε</mi><mn id="alg2.l9.m1.1.1.3.3" xref="alg2.l9.m1.1.1.3.3.cmml">2</mn></msub></mfrac><mo id="alg2.l9.m1.1.2.3.3.5.2.2" xref="alg2.l9.m1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l9.m1.1b"><apply id="alg2.l9.m1.1.2.cmml" xref="alg2.l9.m1.1.2"><ci id="alg2.l9.m1.1.2.1.cmml" xref="alg2.l9.m1.1.2.1">←</ci><apply id="alg2.l9.m1.1.2.2.cmml" xref="alg2.l9.m1.1.2.2"><ci id="alg2.l9.m1.1.2.2.1.cmml" xref="alg2.l9.m1.1.2.2.1">^</ci><ci id="alg2.l9.m1.1.2.2.2.cmml" xref="alg2.l9.m1.1.2.2.2">𝜏</ci></apply><apply id="alg2.l9.m1.1.2.3.cmml" xref="alg2.l9.m1.1.2.3"><plus id="alg2.l9.m1.1.2.3.1.cmml" xref="alg2.l9.m1.1.2.3.1"></plus><ci id="alg2.l9.m1.1.2.3.2.cmml" xref="alg2.l9.m1.1.2.3.2">𝜏</ci><apply id="alg2.l9.m1.1.2.3.3.cmml" xref="alg2.l9.m1.1.2.3.3"><times id="alg2.l9.m1.1.2.3.3.1.cmml" xref="alg2.l9.m1.1.2.3.3.1"></times><ci id="alg2.l9.m1.1.2.3.3.2.cmml" xref="alg2.l9.m1.1.2.3.3.2">𝐿</ci><ci id="alg2.l9.m1.1.2.3.3.3.cmml" xref="alg2.l9.m1.1.2.3.3.3">𝑎</ci><ci id="alg2.l9.m1.1.2.3.3.4.cmml" xref="alg2.l9.m1.1.2.3.3.4">𝑝</ci><apply id="alg2.l9.m1.1.1.cmml" xref="alg2.l9.m1.1.2.3.3.5.2"><divide id="alg2.l9.m1.1.1.1.cmml" xref="alg2.l9.m1.1.2.3.3.5.2"></divide><ci id="alg2.l9.m1.1.1.2.cmml" xref="alg2.l9.m1.1.1.2">𝑠</ci><apply id="alg2.l9.m1.1.1.3.cmml" xref="alg2.l9.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l9.m1.1.1.3.1.cmml" xref="alg2.l9.m1.1.1.3">subscript</csymbol><ci id="alg2.l9.m1.1.1.3.2.cmml" xref="alg2.l9.m1.1.1.3.2">𝜀</ci><cn type="integer" id="alg2.l9.m1.1.1.3.3.cmml" xref="alg2.l9.m1.1.1.3.3">2</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m1.1c">\hat{\tau}\leftarrow\tau+Lap\left(\frac{s}{\varepsilon_{2}}\right)</annotation></semantics></math>

</div>
<div id="alg2.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10:</span>List of releasable weight updates: <math id="alg2.l10.m1.1" class="ltx_Math" alttext="\Delta\hat{\textbf{w}}\leftarrow\emptyset" display="inline"><semantics id="alg2.l10.m1.1a"><mrow id="alg2.l10.m1.1.1" xref="alg2.l10.m1.1.1.cmml"><mrow id="alg2.l10.m1.1.1.2" xref="alg2.l10.m1.1.1.2.cmml"><mi mathvariant="normal" id="alg2.l10.m1.1.1.2.2" xref="alg2.l10.m1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l10.m1.1.1.2.1" xref="alg2.l10.m1.1.1.2.1.cmml">​</mo><mover accent="true" id="alg2.l10.m1.1.1.2.3" xref="alg2.l10.m1.1.1.2.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l10.m1.1.1.2.3.2" xref="alg2.l10.m1.1.1.2.3.2a.cmml">w</mtext><mo id="alg2.l10.m1.1.1.2.3.1" xref="alg2.l10.m1.1.1.2.3.1.cmml">^</mo></mover></mrow><mo stretchy="false" id="alg2.l10.m1.1.1.1" xref="alg2.l10.m1.1.1.1.cmml">←</mo><mi mathvariant="normal" id="alg2.l10.m1.1.1.3" xref="alg2.l10.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l10.m1.1b"><apply id="alg2.l10.m1.1.1.cmml" xref="alg2.l10.m1.1.1"><ci id="alg2.l10.m1.1.1.1.cmml" xref="alg2.l10.m1.1.1.1">←</ci><apply id="alg2.l10.m1.1.1.2.cmml" xref="alg2.l10.m1.1.1.2"><times id="alg2.l10.m1.1.1.2.1.cmml" xref="alg2.l10.m1.1.1.2.1"></times><ci id="alg2.l10.m1.1.1.2.2.cmml" xref="alg2.l10.m1.1.1.2.2">Δ</ci><apply id="alg2.l10.m1.1.1.2.3.cmml" xref="alg2.l10.m1.1.1.2.3"><ci id="alg2.l10.m1.1.1.2.3.1.cmml" xref="alg2.l10.m1.1.1.2.3.1">^</ci><ci id="alg2.l10.m1.1.1.2.3.2a.cmml" xref="alg2.l10.m1.1.1.2.3.2"><mtext class="ltx_mathvariant_bold" id="alg2.l10.m1.1.1.2.3.2.cmml" xref="alg2.l10.m1.1.1.2.3.2">w</mtext></ci></apply></apply><emptyset id="alg2.l10.m1.1.1.3.cmml" xref="alg2.l10.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l10.m1.1c">\Delta\hat{\textbf{w}}\leftarrow\emptyset</annotation></semantics></math>

</div>
<div id="alg2.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11:</span><span id="alg2.l11.1" class="ltx_text ltx_font_bold">while</span> <math id="alg2.l11.m1.1" class="ltx_Math" alttext="size(\Delta\hat{\textbf{w}})\less q" display="inline"><semantics id="alg2.l11.m1.1a"><mrow id="alg2.l11.m1.1.1" xref="alg2.l11.m1.1.1.cmml"><mi id="alg2.l11.m1.1.1.3" xref="alg2.l11.m1.1.1.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.2" xref="alg2.l11.m1.1.1.2.cmml">​</mo><mi id="alg2.l11.m1.1.1.4" xref="alg2.l11.m1.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.2a" xref="alg2.l11.m1.1.1.2.cmml">​</mo><mi id="alg2.l11.m1.1.1.5" xref="alg2.l11.m1.1.1.5.cmml">z</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.2b" xref="alg2.l11.m1.1.1.2.cmml">​</mo><mi id="alg2.l11.m1.1.1.6" xref="alg2.l11.m1.1.1.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.2c" xref="alg2.l11.m1.1.1.2.cmml">​</mo><mrow id="alg2.l11.m1.1.1.1.1" xref="alg2.l11.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l11.m1.1.1.1.1.2" xref="alg2.l11.m1.1.1.1.1.1.cmml">(</mo><mrow id="alg2.l11.m1.1.1.1.1.1" xref="alg2.l11.m1.1.1.1.1.1.cmml"><mi mathvariant="normal" id="alg2.l11.m1.1.1.1.1.1.2" xref="alg2.l11.m1.1.1.1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.1.1.1.1" xref="alg2.l11.m1.1.1.1.1.1.1.cmml">​</mo><mover accent="true" id="alg2.l11.m1.1.1.1.1.1.3" xref="alg2.l11.m1.1.1.1.1.1.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l11.m1.1.1.1.1.1.3.2" xref="alg2.l11.m1.1.1.1.1.1.3.2a.cmml">w</mtext><mo id="alg2.l11.m1.1.1.1.1.1.3.1" xref="alg2.l11.m1.1.1.1.1.1.3.1.cmml">^</mo></mover></mrow><mo stretchy="false" id="alg2.l11.m1.1.1.1.1.3" xref="alg2.l11.m1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.2d" xref="alg2.l11.m1.1.1.2.cmml">​</mo><merror class="ltx_ERROR undefined undefined" id="alg2.l11.m1.1.1.7" xref="alg2.l11.m1.1.1.7b.cmml"><mtext id="alg2.l11.m1.1.1.7a" xref="alg2.l11.m1.1.1.7b.cmml">\less</mtext></merror><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.2e" xref="alg2.l11.m1.1.1.2.cmml">​</mo><mi id="alg2.l11.m1.1.1.8" xref="alg2.l11.m1.1.1.8.cmml">q</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l11.m1.1b"><apply id="alg2.l11.m1.1.1.cmml" xref="alg2.l11.m1.1.1"><times id="alg2.l11.m1.1.1.2.cmml" xref="alg2.l11.m1.1.1.2"></times><ci id="alg2.l11.m1.1.1.3.cmml" xref="alg2.l11.m1.1.1.3">𝑠</ci><ci id="alg2.l11.m1.1.1.4.cmml" xref="alg2.l11.m1.1.1.4">𝑖</ci><ci id="alg2.l11.m1.1.1.5.cmml" xref="alg2.l11.m1.1.1.5">𝑧</ci><ci id="alg2.l11.m1.1.1.6.cmml" xref="alg2.l11.m1.1.1.6">𝑒</ci><apply id="alg2.l11.m1.1.1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1.1"><times id="alg2.l11.m1.1.1.1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1"></times><ci id="alg2.l11.m1.1.1.1.1.1.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.2">Δ</ci><apply id="alg2.l11.m1.1.1.1.1.1.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.3"><ci id="alg2.l11.m1.1.1.1.1.1.3.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.3.1">^</ci><ci id="alg2.l11.m1.1.1.1.1.1.3.2a.cmml" xref="alg2.l11.m1.1.1.1.1.1.3.2"><mtext class="ltx_mathvariant_bold" id="alg2.l11.m1.1.1.1.1.1.3.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.3.2">w</mtext></ci></apply></apply><ci id="alg2.l11.m1.1.1.7b.cmml" xref="alg2.l11.m1.1.1.7"><merror class="ltx_ERROR undefined undefined" id="alg2.l11.m1.1.1.7.cmml" xref="alg2.l11.m1.1.1.7"><mtext id="alg2.l11.m1.1.1.7a.cmml" xref="alg2.l11.m1.1.1.7">\less</mtext></merror></ci><ci id="alg2.l11.m1.1.1.8.cmml" xref="alg2.l11.m1.1.1.8">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l11.m1.1c">size(\Delta\hat{\textbf{w}})\less q</annotation></semantics></math> <span id="alg2.l11.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg2.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12:</span>     Choose a random weight update <math id="alg2.l12.m1.1" class="ltx_Math" alttext="\Delta\bar{w}_{i}" display="inline"><semantics id="alg2.l12.m1.1a"><mrow id="alg2.l12.m1.1.1" xref="alg2.l12.m1.1.1.cmml"><mi mathvariant="normal" id="alg2.l12.m1.1.1.2" xref="alg2.l12.m1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l12.m1.1.1.1" xref="alg2.l12.m1.1.1.1.cmml">​</mo><msub id="alg2.l12.m1.1.1.3" xref="alg2.l12.m1.1.1.3.cmml"><mover accent="true" id="alg2.l12.m1.1.1.3.2" xref="alg2.l12.m1.1.1.3.2.cmml"><mi id="alg2.l12.m1.1.1.3.2.2" xref="alg2.l12.m1.1.1.3.2.2.cmml">w</mi><mo id="alg2.l12.m1.1.1.3.2.1" xref="alg2.l12.m1.1.1.3.2.1.cmml">¯</mo></mover><mi id="alg2.l12.m1.1.1.3.3" xref="alg2.l12.m1.1.1.3.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg2.l12.m1.1b"><apply id="alg2.l12.m1.1.1.cmml" xref="alg2.l12.m1.1.1"><times id="alg2.l12.m1.1.1.1.cmml" xref="alg2.l12.m1.1.1.1"></times><ci id="alg2.l12.m1.1.1.2.cmml" xref="alg2.l12.m1.1.1.2">Δ</ci><apply id="alg2.l12.m1.1.1.3.cmml" xref="alg2.l12.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l12.m1.1.1.3.1.cmml" xref="alg2.l12.m1.1.1.3">subscript</csymbol><apply id="alg2.l12.m1.1.1.3.2.cmml" xref="alg2.l12.m1.1.1.3.2"><ci id="alg2.l12.m1.1.1.3.2.1.cmml" xref="alg2.l12.m1.1.1.3.2.1">¯</ci><ci id="alg2.l12.m1.1.1.3.2.2.cmml" xref="alg2.l12.m1.1.1.3.2.2">𝑤</ci></apply><ci id="alg2.l12.m1.1.1.3.3.cmml" xref="alg2.l12.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l12.m1.1c">\Delta\bar{w}_{i}</annotation></semantics></math> from <math id="alg2.l12.m2.1" class="ltx_Math" alttext="\Delta\bar{\textbf{w}}" display="inline"><semantics id="alg2.l12.m2.1a"><mrow id="alg2.l12.m2.1.1" xref="alg2.l12.m2.1.1.cmml"><mi mathvariant="normal" id="alg2.l12.m2.1.1.2" xref="alg2.l12.m2.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l12.m2.1.1.1" xref="alg2.l12.m2.1.1.1.cmml">​</mo><mover accent="true" id="alg2.l12.m2.1.1.3" xref="alg2.l12.m2.1.1.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l12.m2.1.1.3.2" xref="alg2.l12.m2.1.1.3.2a.cmml">w</mtext><mo id="alg2.l12.m2.1.1.3.1" xref="alg2.l12.m2.1.1.3.1.cmml">¯</mo></mover></mrow><annotation-xml encoding="MathML-Content" id="alg2.l12.m2.1b"><apply id="alg2.l12.m2.1.1.cmml" xref="alg2.l12.m2.1.1"><times id="alg2.l12.m2.1.1.1.cmml" xref="alg2.l12.m2.1.1.1"></times><ci id="alg2.l12.m2.1.1.2.cmml" xref="alg2.l12.m2.1.1.2">Δ</ci><apply id="alg2.l12.m2.1.1.3.cmml" xref="alg2.l12.m2.1.1.3"><ci id="alg2.l12.m2.1.1.3.1.cmml" xref="alg2.l12.m2.1.1.3.1">¯</ci><ci id="alg2.l12.m2.1.1.3.2a.cmml" xref="alg2.l12.m2.1.1.3.2"><mtext class="ltx_mathvariant_bold" id="alg2.l12.m2.1.1.3.2.cmml" xref="alg2.l12.m2.1.1.3.2">w</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l12.m2.1c">\Delta\bar{\textbf{w}}</annotation></semantics></math>

</div>
<div id="alg2.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13:</span>     Compute the weight update query: <math id="alg2.l13.m1.3" class="ltx_Math" alttext="\Delta w_{i}^{query}\leftarrow clip(\lvert\Delta\bar{w}_{i}\rvert,\gamma)+Lap\left(\frac{qs}{\varepsilon_{1}}\right)" display="inline"><semantics id="alg2.l13.m1.3a"><mrow id="alg2.l13.m1.3.3" xref="alg2.l13.m1.3.3.cmml"><mrow id="alg2.l13.m1.3.3.3" xref="alg2.l13.m1.3.3.3.cmml"><mi mathvariant="normal" id="alg2.l13.m1.3.3.3.2" xref="alg2.l13.m1.3.3.3.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.3.1" xref="alg2.l13.m1.3.3.3.1.cmml">​</mo><msubsup id="alg2.l13.m1.3.3.3.3" xref="alg2.l13.m1.3.3.3.3.cmml"><mi id="alg2.l13.m1.3.3.3.3.2.2" xref="alg2.l13.m1.3.3.3.3.2.2.cmml">w</mi><mi id="alg2.l13.m1.3.3.3.3.2.3" xref="alg2.l13.m1.3.3.3.3.2.3.cmml">i</mi><mrow id="alg2.l13.m1.3.3.3.3.3" xref="alg2.l13.m1.3.3.3.3.3.cmml"><mi id="alg2.l13.m1.3.3.3.3.3.2" xref="alg2.l13.m1.3.3.3.3.3.2.cmml">q</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.3.3.3.1" xref="alg2.l13.m1.3.3.3.3.3.1.cmml">​</mo><mi id="alg2.l13.m1.3.3.3.3.3.3" xref="alg2.l13.m1.3.3.3.3.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.3.3.3.1a" xref="alg2.l13.m1.3.3.3.3.3.1.cmml">​</mo><mi id="alg2.l13.m1.3.3.3.3.3.4" xref="alg2.l13.m1.3.3.3.3.3.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.3.3.3.1b" xref="alg2.l13.m1.3.3.3.3.3.1.cmml">​</mo><mi id="alg2.l13.m1.3.3.3.3.3.5" xref="alg2.l13.m1.3.3.3.3.3.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.3.3.3.1c" xref="alg2.l13.m1.3.3.3.3.3.1.cmml">​</mo><mi id="alg2.l13.m1.3.3.3.3.3.6" xref="alg2.l13.m1.3.3.3.3.3.6.cmml">y</mi></mrow></msubsup></mrow><mo stretchy="false" id="alg2.l13.m1.3.3.2" xref="alg2.l13.m1.3.3.2.cmml">←</mo><mrow id="alg2.l13.m1.3.3.1" xref="alg2.l13.m1.3.3.1.cmml"><mrow id="alg2.l13.m1.3.3.1.1" xref="alg2.l13.m1.3.3.1.1.cmml"><mi id="alg2.l13.m1.3.3.1.1.3" xref="alg2.l13.m1.3.3.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.1.1.2" xref="alg2.l13.m1.3.3.1.1.2.cmml">​</mo><mi id="alg2.l13.m1.3.3.1.1.4" xref="alg2.l13.m1.3.3.1.1.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.1.1.2a" xref="alg2.l13.m1.3.3.1.1.2.cmml">​</mo><mi id="alg2.l13.m1.3.3.1.1.5" xref="alg2.l13.m1.3.3.1.1.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.1.1.2b" xref="alg2.l13.m1.3.3.1.1.2.cmml">​</mo><mi id="alg2.l13.m1.3.3.1.1.6" xref="alg2.l13.m1.3.3.1.1.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.1.1.2c" xref="alg2.l13.m1.3.3.1.1.2.cmml">​</mo><mrow id="alg2.l13.m1.3.3.1.1.1.1" xref="alg2.l13.m1.3.3.1.1.1.2.cmml"><mo stretchy="false" id="alg2.l13.m1.3.3.1.1.1.1.2" xref="alg2.l13.m1.3.3.1.1.1.2.cmml">(</mo><mrow id="alg2.l13.m1.3.3.1.1.1.1.1.1" xref="alg2.l13.m1.3.3.1.1.1.1.1.2.cmml"><mo stretchy="false" id="alg2.l13.m1.3.3.1.1.1.1.1.1.2" xref="alg2.l13.m1.3.3.1.1.1.1.1.2.1.cmml">|</mo><mrow id="alg2.l13.m1.3.3.1.1.1.1.1.1.1" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.cmml"><mi mathvariant="normal" id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.2" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.1" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.1.cmml">​</mo><msub id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.cmml"><mover accent="true" id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2.cmml"><mi id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2.2" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2.2.cmml">w</mi><mo id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2.1" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2.1.cmml">¯</mo></mover><mi id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.3" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo stretchy="false" id="alg2.l13.m1.3.3.1.1.1.1.1.1.3" xref="alg2.l13.m1.3.3.1.1.1.1.1.2.1.cmml">|</mo></mrow><mo id="alg2.l13.m1.3.3.1.1.1.1.3" xref="alg2.l13.m1.3.3.1.1.1.2.cmml">,</mo><mi id="alg2.l13.m1.1.1" xref="alg2.l13.m1.1.1.cmml">γ</mi><mo stretchy="false" id="alg2.l13.m1.3.3.1.1.1.1.4" xref="alg2.l13.m1.3.3.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="alg2.l13.m1.3.3.1.2" xref="alg2.l13.m1.3.3.1.2.cmml">+</mo><mrow id="alg2.l13.m1.3.3.1.3" xref="alg2.l13.m1.3.3.1.3.cmml"><mi id="alg2.l13.m1.3.3.1.3.2" xref="alg2.l13.m1.3.3.1.3.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.1.3.1" xref="alg2.l13.m1.3.3.1.3.1.cmml">​</mo><mi id="alg2.l13.m1.3.3.1.3.3" xref="alg2.l13.m1.3.3.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.1.3.1a" xref="alg2.l13.m1.3.3.1.3.1.cmml">​</mo><mi id="alg2.l13.m1.3.3.1.3.4" xref="alg2.l13.m1.3.3.1.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.3.3.1.3.1b" xref="alg2.l13.m1.3.3.1.3.1.cmml">​</mo><mrow id="alg2.l13.m1.3.3.1.3.5.2" xref="alg2.l13.m1.2.2.cmml"><mo id="alg2.l13.m1.3.3.1.3.5.2.1" xref="alg2.l13.m1.2.2.cmml">(</mo><mfrac id="alg2.l13.m1.2.2" xref="alg2.l13.m1.2.2.cmml"><mrow id="alg2.l13.m1.2.2.2" xref="alg2.l13.m1.2.2.2.cmml"><mi id="alg2.l13.m1.2.2.2.2" xref="alg2.l13.m1.2.2.2.2.cmml">q</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.2.2.2.1" xref="alg2.l13.m1.2.2.2.1.cmml">​</mo><mi id="alg2.l13.m1.2.2.2.3" xref="alg2.l13.m1.2.2.2.3.cmml">s</mi></mrow><msub id="alg2.l13.m1.2.2.3" xref="alg2.l13.m1.2.2.3.cmml"><mi id="alg2.l13.m1.2.2.3.2" xref="alg2.l13.m1.2.2.3.2.cmml">ε</mi><mn id="alg2.l13.m1.2.2.3.3" xref="alg2.l13.m1.2.2.3.3.cmml">1</mn></msub></mfrac><mo id="alg2.l13.m1.3.3.1.3.5.2.2" xref="alg2.l13.m1.2.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l13.m1.3b"><apply id="alg2.l13.m1.3.3.cmml" xref="alg2.l13.m1.3.3"><ci id="alg2.l13.m1.3.3.2.cmml" xref="alg2.l13.m1.3.3.2">←</ci><apply id="alg2.l13.m1.3.3.3.cmml" xref="alg2.l13.m1.3.3.3"><times id="alg2.l13.m1.3.3.3.1.cmml" xref="alg2.l13.m1.3.3.3.1"></times><ci id="alg2.l13.m1.3.3.3.2.cmml" xref="alg2.l13.m1.3.3.3.2">Δ</ci><apply id="alg2.l13.m1.3.3.3.3.cmml" xref="alg2.l13.m1.3.3.3.3"><csymbol cd="ambiguous" id="alg2.l13.m1.3.3.3.3.1.cmml" xref="alg2.l13.m1.3.3.3.3">superscript</csymbol><apply id="alg2.l13.m1.3.3.3.3.2.cmml" xref="alg2.l13.m1.3.3.3.3"><csymbol cd="ambiguous" id="alg2.l13.m1.3.3.3.3.2.1.cmml" xref="alg2.l13.m1.3.3.3.3">subscript</csymbol><ci id="alg2.l13.m1.3.3.3.3.2.2.cmml" xref="alg2.l13.m1.3.3.3.3.2.2">𝑤</ci><ci id="alg2.l13.m1.3.3.3.3.2.3.cmml" xref="alg2.l13.m1.3.3.3.3.2.3">𝑖</ci></apply><apply id="alg2.l13.m1.3.3.3.3.3.cmml" xref="alg2.l13.m1.3.3.3.3.3"><times id="alg2.l13.m1.3.3.3.3.3.1.cmml" xref="alg2.l13.m1.3.3.3.3.3.1"></times><ci id="alg2.l13.m1.3.3.3.3.3.2.cmml" xref="alg2.l13.m1.3.3.3.3.3.2">𝑞</ci><ci id="alg2.l13.m1.3.3.3.3.3.3.cmml" xref="alg2.l13.m1.3.3.3.3.3.3">𝑢</ci><ci id="alg2.l13.m1.3.3.3.3.3.4.cmml" xref="alg2.l13.m1.3.3.3.3.3.4">𝑒</ci><ci id="alg2.l13.m1.3.3.3.3.3.5.cmml" xref="alg2.l13.m1.3.3.3.3.3.5">𝑟</ci><ci id="alg2.l13.m1.3.3.3.3.3.6.cmml" xref="alg2.l13.m1.3.3.3.3.3.6">𝑦</ci></apply></apply></apply><apply id="alg2.l13.m1.3.3.1.cmml" xref="alg2.l13.m1.3.3.1"><plus id="alg2.l13.m1.3.3.1.2.cmml" xref="alg2.l13.m1.3.3.1.2"></plus><apply id="alg2.l13.m1.3.3.1.1.cmml" xref="alg2.l13.m1.3.3.1.1"><times id="alg2.l13.m1.3.3.1.1.2.cmml" xref="alg2.l13.m1.3.3.1.1.2"></times><ci id="alg2.l13.m1.3.3.1.1.3.cmml" xref="alg2.l13.m1.3.3.1.1.3">𝑐</ci><ci id="alg2.l13.m1.3.3.1.1.4.cmml" xref="alg2.l13.m1.3.3.1.1.4">𝑙</ci><ci id="alg2.l13.m1.3.3.1.1.5.cmml" xref="alg2.l13.m1.3.3.1.1.5">𝑖</ci><ci id="alg2.l13.m1.3.3.1.1.6.cmml" xref="alg2.l13.m1.3.3.1.1.6">𝑝</ci><interval closure="open" id="alg2.l13.m1.3.3.1.1.1.2.cmml" xref="alg2.l13.m1.3.3.1.1.1.1"><apply id="alg2.l13.m1.3.3.1.1.1.1.1.2.cmml" xref="alg2.l13.m1.3.3.1.1.1.1.1.1"><abs id="alg2.l13.m1.3.3.1.1.1.1.1.2.1.cmml" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.2"></abs><apply id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.cmml" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1"><times id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.1"></times><ci id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.2">Δ</ci><apply id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.1.cmml" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3">subscript</csymbol><apply id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2.cmml" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2"><ci id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2.1.cmml" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2.1">¯</ci><ci id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2.2.cmml" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.2.2">𝑤</ci></apply><ci id="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.3.cmml" xref="alg2.l13.m1.3.3.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><ci id="alg2.l13.m1.1.1.cmml" xref="alg2.l13.m1.1.1">𝛾</ci></interval></apply><apply id="alg2.l13.m1.3.3.1.3.cmml" xref="alg2.l13.m1.3.3.1.3"><times id="alg2.l13.m1.3.3.1.3.1.cmml" xref="alg2.l13.m1.3.3.1.3.1"></times><ci id="alg2.l13.m1.3.3.1.3.2.cmml" xref="alg2.l13.m1.3.3.1.3.2">𝐿</ci><ci id="alg2.l13.m1.3.3.1.3.3.cmml" xref="alg2.l13.m1.3.3.1.3.3">𝑎</ci><ci id="alg2.l13.m1.3.3.1.3.4.cmml" xref="alg2.l13.m1.3.3.1.3.4">𝑝</ci><apply id="alg2.l13.m1.2.2.cmml" xref="alg2.l13.m1.3.3.1.3.5.2"><divide id="alg2.l13.m1.2.2.1.cmml" xref="alg2.l13.m1.3.3.1.3.5.2"></divide><apply id="alg2.l13.m1.2.2.2.cmml" xref="alg2.l13.m1.2.2.2"><times id="alg2.l13.m1.2.2.2.1.cmml" xref="alg2.l13.m1.2.2.2.1"></times><ci id="alg2.l13.m1.2.2.2.2.cmml" xref="alg2.l13.m1.2.2.2.2">𝑞</ci><ci id="alg2.l13.m1.2.2.2.3.cmml" xref="alg2.l13.m1.2.2.2.3">𝑠</ci></apply><apply id="alg2.l13.m1.2.2.3.cmml" xref="alg2.l13.m1.2.2.3"><csymbol cd="ambiguous" id="alg2.l13.m1.2.2.3.1.cmml" xref="alg2.l13.m1.2.2.3">subscript</csymbol><ci id="alg2.l13.m1.2.2.3.2.cmml" xref="alg2.l13.m1.2.2.3.2">𝜀</ci><cn type="integer" id="alg2.l13.m1.2.2.3.3.cmml" xref="alg2.l13.m1.2.2.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l13.m1.3c">\Delta w_{i}^{query}\leftarrow clip(\lvert\Delta\bar{w}_{i}\rvert,\gamma)+Lap\left(\frac{qs}{\varepsilon_{1}}\right)</annotation></semantics></math>

</div>
<div id="alg2.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14:</span>     <span id="alg2.l14.1" class="ltx_text ltx_font_bold">if</span> <math id="alg2.l14.m1.1" class="ltx_Math" alttext="\Delta w_{i}^{query}\geq\hat{\tau}" display="inline"><semantics id="alg2.l14.m1.1a"><mrow id="alg2.l14.m1.1.1" xref="alg2.l14.m1.1.1.cmml"><mrow id="alg2.l14.m1.1.1.2" xref="alg2.l14.m1.1.1.2.cmml"><mi mathvariant="normal" id="alg2.l14.m1.1.1.2.2" xref="alg2.l14.m1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l14.m1.1.1.2.1" xref="alg2.l14.m1.1.1.2.1.cmml">​</mo><msubsup id="alg2.l14.m1.1.1.2.3" xref="alg2.l14.m1.1.1.2.3.cmml"><mi id="alg2.l14.m1.1.1.2.3.2.2" xref="alg2.l14.m1.1.1.2.3.2.2.cmml">w</mi><mi id="alg2.l14.m1.1.1.2.3.2.3" xref="alg2.l14.m1.1.1.2.3.2.3.cmml">i</mi><mrow id="alg2.l14.m1.1.1.2.3.3" xref="alg2.l14.m1.1.1.2.3.3.cmml"><mi id="alg2.l14.m1.1.1.2.3.3.2" xref="alg2.l14.m1.1.1.2.3.3.2.cmml">q</mi><mo lspace="0em" rspace="0em" id="alg2.l14.m1.1.1.2.3.3.1" xref="alg2.l14.m1.1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l14.m1.1.1.2.3.3.3" xref="alg2.l14.m1.1.1.2.3.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg2.l14.m1.1.1.2.3.3.1a" xref="alg2.l14.m1.1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l14.m1.1.1.2.3.3.4" xref="alg2.l14.m1.1.1.2.3.3.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l14.m1.1.1.2.3.3.1b" xref="alg2.l14.m1.1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l14.m1.1.1.2.3.3.5" xref="alg2.l14.m1.1.1.2.3.3.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l14.m1.1.1.2.3.3.1c" xref="alg2.l14.m1.1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l14.m1.1.1.2.3.3.6" xref="alg2.l14.m1.1.1.2.3.3.6.cmml">y</mi></mrow></msubsup></mrow><mo id="alg2.l14.m1.1.1.1" xref="alg2.l14.m1.1.1.1.cmml">≥</mo><mover accent="true" id="alg2.l14.m1.1.1.3" xref="alg2.l14.m1.1.1.3.cmml"><mi id="alg2.l14.m1.1.1.3.2" xref="alg2.l14.m1.1.1.3.2.cmml">τ</mi><mo id="alg2.l14.m1.1.1.3.1" xref="alg2.l14.m1.1.1.3.1.cmml">^</mo></mover></mrow><annotation-xml encoding="MathML-Content" id="alg2.l14.m1.1b"><apply id="alg2.l14.m1.1.1.cmml" xref="alg2.l14.m1.1.1"><geq id="alg2.l14.m1.1.1.1.cmml" xref="alg2.l14.m1.1.1.1"></geq><apply id="alg2.l14.m1.1.1.2.cmml" xref="alg2.l14.m1.1.1.2"><times id="alg2.l14.m1.1.1.2.1.cmml" xref="alg2.l14.m1.1.1.2.1"></times><ci id="alg2.l14.m1.1.1.2.2.cmml" xref="alg2.l14.m1.1.1.2.2">Δ</ci><apply id="alg2.l14.m1.1.1.2.3.cmml" xref="alg2.l14.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg2.l14.m1.1.1.2.3.1.cmml" xref="alg2.l14.m1.1.1.2.3">superscript</csymbol><apply id="alg2.l14.m1.1.1.2.3.2.cmml" xref="alg2.l14.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg2.l14.m1.1.1.2.3.2.1.cmml" xref="alg2.l14.m1.1.1.2.3">subscript</csymbol><ci id="alg2.l14.m1.1.1.2.3.2.2.cmml" xref="alg2.l14.m1.1.1.2.3.2.2">𝑤</ci><ci id="alg2.l14.m1.1.1.2.3.2.3.cmml" xref="alg2.l14.m1.1.1.2.3.2.3">𝑖</ci></apply><apply id="alg2.l14.m1.1.1.2.3.3.cmml" xref="alg2.l14.m1.1.1.2.3.3"><times id="alg2.l14.m1.1.1.2.3.3.1.cmml" xref="alg2.l14.m1.1.1.2.3.3.1"></times><ci id="alg2.l14.m1.1.1.2.3.3.2.cmml" xref="alg2.l14.m1.1.1.2.3.3.2">𝑞</ci><ci id="alg2.l14.m1.1.1.2.3.3.3.cmml" xref="alg2.l14.m1.1.1.2.3.3.3">𝑢</ci><ci id="alg2.l14.m1.1.1.2.3.3.4.cmml" xref="alg2.l14.m1.1.1.2.3.3.4">𝑒</ci><ci id="alg2.l14.m1.1.1.2.3.3.5.cmml" xref="alg2.l14.m1.1.1.2.3.3.5">𝑟</ci><ci id="alg2.l14.m1.1.1.2.3.3.6.cmml" xref="alg2.l14.m1.1.1.2.3.3.6">𝑦</ci></apply></apply></apply><apply id="alg2.l14.m1.1.1.3.cmml" xref="alg2.l14.m1.1.1.3"><ci id="alg2.l14.m1.1.1.3.1.cmml" xref="alg2.l14.m1.1.1.3.1">^</ci><ci id="alg2.l14.m1.1.1.3.2.cmml" xref="alg2.l14.m1.1.1.3.2">𝜏</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l14.m1.1c">\Delta w_{i}^{query}\geq\hat{\tau}</annotation></semantics></math> <span id="alg2.l14.2" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg2.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15:</span>         Compute the weight update answer: <math id="alg2.l15.m1.3" class="ltx_Math" alttext="\Delta w_{i}^{answer}\leftarrow clip\left(\Delta\bar{w}_{i}+Lap\left(\frac{qs}{\varepsilon_{3}}\right),\gamma\right)" display="inline"><semantics id="alg2.l15.m1.3a"><mrow id="alg2.l15.m1.3.3" xref="alg2.l15.m1.3.3.cmml"><mrow id="alg2.l15.m1.3.3.3" xref="alg2.l15.m1.3.3.3.cmml"><mi mathvariant="normal" id="alg2.l15.m1.3.3.3.2" xref="alg2.l15.m1.3.3.3.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.3.1" xref="alg2.l15.m1.3.3.3.1.cmml">​</mo><msubsup id="alg2.l15.m1.3.3.3.3" xref="alg2.l15.m1.3.3.3.3.cmml"><mi id="alg2.l15.m1.3.3.3.3.2.2" xref="alg2.l15.m1.3.3.3.3.2.2.cmml">w</mi><mi id="alg2.l15.m1.3.3.3.3.2.3" xref="alg2.l15.m1.3.3.3.3.2.3.cmml">i</mi><mrow id="alg2.l15.m1.3.3.3.3.3" xref="alg2.l15.m1.3.3.3.3.3.cmml"><mi id="alg2.l15.m1.3.3.3.3.3.2" xref="alg2.l15.m1.3.3.3.3.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.3.3.3.1" xref="alg2.l15.m1.3.3.3.3.3.1.cmml">​</mo><mi id="alg2.l15.m1.3.3.3.3.3.3" xref="alg2.l15.m1.3.3.3.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.3.3.3.1a" xref="alg2.l15.m1.3.3.3.3.3.1.cmml">​</mo><mi id="alg2.l15.m1.3.3.3.3.3.4" xref="alg2.l15.m1.3.3.3.3.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.3.3.3.1b" xref="alg2.l15.m1.3.3.3.3.3.1.cmml">​</mo><mi id="alg2.l15.m1.3.3.3.3.3.5" xref="alg2.l15.m1.3.3.3.3.3.5.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.3.3.3.1c" xref="alg2.l15.m1.3.3.3.3.3.1.cmml">​</mo><mi id="alg2.l15.m1.3.3.3.3.3.6" xref="alg2.l15.m1.3.3.3.3.3.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.3.3.3.1d" xref="alg2.l15.m1.3.3.3.3.3.1.cmml">​</mo><mi id="alg2.l15.m1.3.3.3.3.3.7" xref="alg2.l15.m1.3.3.3.3.3.7.cmml">r</mi></mrow></msubsup></mrow><mo stretchy="false" id="alg2.l15.m1.3.3.2" xref="alg2.l15.m1.3.3.2.cmml">←</mo><mrow id="alg2.l15.m1.3.3.1" xref="alg2.l15.m1.3.3.1.cmml"><mi id="alg2.l15.m1.3.3.1.3" xref="alg2.l15.m1.3.3.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.1.2" xref="alg2.l15.m1.3.3.1.2.cmml">​</mo><mi id="alg2.l15.m1.3.3.1.4" xref="alg2.l15.m1.3.3.1.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.1.2a" xref="alg2.l15.m1.3.3.1.2.cmml">​</mo><mi id="alg2.l15.m1.3.3.1.5" xref="alg2.l15.m1.3.3.1.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.1.2b" xref="alg2.l15.m1.3.3.1.2.cmml">​</mo><mi id="alg2.l15.m1.3.3.1.6" xref="alg2.l15.m1.3.3.1.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.1.2c" xref="alg2.l15.m1.3.3.1.2.cmml">​</mo><mrow id="alg2.l15.m1.3.3.1.1.1" xref="alg2.l15.m1.3.3.1.1.2.cmml"><mo id="alg2.l15.m1.3.3.1.1.1.2" xref="alg2.l15.m1.3.3.1.1.2.cmml">(</mo><mrow id="alg2.l15.m1.3.3.1.1.1.1" xref="alg2.l15.m1.3.3.1.1.1.1.cmml"><mrow id="alg2.l15.m1.3.3.1.1.1.1.2" xref="alg2.l15.m1.3.3.1.1.1.1.2.cmml"><mi mathvariant="normal" id="alg2.l15.m1.3.3.1.1.1.1.2.2" xref="alg2.l15.m1.3.3.1.1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.1.1.1.1.2.1" xref="alg2.l15.m1.3.3.1.1.1.1.2.1.cmml">​</mo><msub id="alg2.l15.m1.3.3.1.1.1.1.2.3" xref="alg2.l15.m1.3.3.1.1.1.1.2.3.cmml"><mover accent="true" id="alg2.l15.m1.3.3.1.1.1.1.2.3.2" xref="alg2.l15.m1.3.3.1.1.1.1.2.3.2.cmml"><mi id="alg2.l15.m1.3.3.1.1.1.1.2.3.2.2" xref="alg2.l15.m1.3.3.1.1.1.1.2.3.2.2.cmml">w</mi><mo id="alg2.l15.m1.3.3.1.1.1.1.2.3.2.1" xref="alg2.l15.m1.3.3.1.1.1.1.2.3.2.1.cmml">¯</mo></mover><mi id="alg2.l15.m1.3.3.1.1.1.1.2.3.3" xref="alg2.l15.m1.3.3.1.1.1.1.2.3.3.cmml">i</mi></msub></mrow><mo id="alg2.l15.m1.3.3.1.1.1.1.1" xref="alg2.l15.m1.3.3.1.1.1.1.1.cmml">+</mo><mrow id="alg2.l15.m1.3.3.1.1.1.1.3" xref="alg2.l15.m1.3.3.1.1.1.1.3.cmml"><mi id="alg2.l15.m1.3.3.1.1.1.1.3.2" xref="alg2.l15.m1.3.3.1.1.1.1.3.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.1.1.1.1.3.1" xref="alg2.l15.m1.3.3.1.1.1.1.3.1.cmml">​</mo><mi id="alg2.l15.m1.3.3.1.1.1.1.3.3" xref="alg2.l15.m1.3.3.1.1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.1.1.1.1.3.1a" xref="alg2.l15.m1.3.3.1.1.1.1.3.1.cmml">​</mo><mi id="alg2.l15.m1.3.3.1.1.1.1.3.4" xref="alg2.l15.m1.3.3.1.1.1.1.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.3.3.1.1.1.1.3.1b" xref="alg2.l15.m1.3.3.1.1.1.1.3.1.cmml">​</mo><mrow id="alg2.l15.m1.3.3.1.1.1.1.3.5.2" xref="alg2.l15.m1.1.1.cmml"><mo id="alg2.l15.m1.3.3.1.1.1.1.3.5.2.1" xref="alg2.l15.m1.1.1.cmml">(</mo><mfrac id="alg2.l15.m1.1.1" xref="alg2.l15.m1.1.1.cmml"><mrow id="alg2.l15.m1.1.1.2" xref="alg2.l15.m1.1.1.2.cmml"><mi id="alg2.l15.m1.1.1.2.2" xref="alg2.l15.m1.1.1.2.2.cmml">q</mi><mo lspace="0em" rspace="0em" id="alg2.l15.m1.1.1.2.1" xref="alg2.l15.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l15.m1.1.1.2.3" xref="alg2.l15.m1.1.1.2.3.cmml">s</mi></mrow><msub id="alg2.l15.m1.1.1.3" xref="alg2.l15.m1.1.1.3.cmml"><mi id="alg2.l15.m1.1.1.3.2" xref="alg2.l15.m1.1.1.3.2.cmml">ε</mi><mn id="alg2.l15.m1.1.1.3.3" xref="alg2.l15.m1.1.1.3.3.cmml">3</mn></msub></mfrac><mo id="alg2.l15.m1.3.3.1.1.1.1.3.5.2.2" xref="alg2.l15.m1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="alg2.l15.m1.3.3.1.1.1.3" xref="alg2.l15.m1.3.3.1.1.2.cmml">,</mo><mi id="alg2.l15.m1.2.2" xref="alg2.l15.m1.2.2.cmml">γ</mi><mo id="alg2.l15.m1.3.3.1.1.1.4" xref="alg2.l15.m1.3.3.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l15.m1.3b"><apply id="alg2.l15.m1.3.3.cmml" xref="alg2.l15.m1.3.3"><ci id="alg2.l15.m1.3.3.2.cmml" xref="alg2.l15.m1.3.3.2">←</ci><apply id="alg2.l15.m1.3.3.3.cmml" xref="alg2.l15.m1.3.3.3"><times id="alg2.l15.m1.3.3.3.1.cmml" xref="alg2.l15.m1.3.3.3.1"></times><ci id="alg2.l15.m1.3.3.3.2.cmml" xref="alg2.l15.m1.3.3.3.2">Δ</ci><apply id="alg2.l15.m1.3.3.3.3.cmml" xref="alg2.l15.m1.3.3.3.3"><csymbol cd="ambiguous" id="alg2.l15.m1.3.3.3.3.1.cmml" xref="alg2.l15.m1.3.3.3.3">superscript</csymbol><apply id="alg2.l15.m1.3.3.3.3.2.cmml" xref="alg2.l15.m1.3.3.3.3"><csymbol cd="ambiguous" id="alg2.l15.m1.3.3.3.3.2.1.cmml" xref="alg2.l15.m1.3.3.3.3">subscript</csymbol><ci id="alg2.l15.m1.3.3.3.3.2.2.cmml" xref="alg2.l15.m1.3.3.3.3.2.2">𝑤</ci><ci id="alg2.l15.m1.3.3.3.3.2.3.cmml" xref="alg2.l15.m1.3.3.3.3.2.3">𝑖</ci></apply><apply id="alg2.l15.m1.3.3.3.3.3.cmml" xref="alg2.l15.m1.3.3.3.3.3"><times id="alg2.l15.m1.3.3.3.3.3.1.cmml" xref="alg2.l15.m1.3.3.3.3.3.1"></times><ci id="alg2.l15.m1.3.3.3.3.3.2.cmml" xref="alg2.l15.m1.3.3.3.3.3.2">𝑎</ci><ci id="alg2.l15.m1.3.3.3.3.3.3.cmml" xref="alg2.l15.m1.3.3.3.3.3.3">𝑛</ci><ci id="alg2.l15.m1.3.3.3.3.3.4.cmml" xref="alg2.l15.m1.3.3.3.3.3.4">𝑠</ci><ci id="alg2.l15.m1.3.3.3.3.3.5.cmml" xref="alg2.l15.m1.3.3.3.3.3.5">𝑤</ci><ci id="alg2.l15.m1.3.3.3.3.3.6.cmml" xref="alg2.l15.m1.3.3.3.3.3.6">𝑒</ci><ci id="alg2.l15.m1.3.3.3.3.3.7.cmml" xref="alg2.l15.m1.3.3.3.3.3.7">𝑟</ci></apply></apply></apply><apply id="alg2.l15.m1.3.3.1.cmml" xref="alg2.l15.m1.3.3.1"><times id="alg2.l15.m1.3.3.1.2.cmml" xref="alg2.l15.m1.3.3.1.2"></times><ci id="alg2.l15.m1.3.3.1.3.cmml" xref="alg2.l15.m1.3.3.1.3">𝑐</ci><ci id="alg2.l15.m1.3.3.1.4.cmml" xref="alg2.l15.m1.3.3.1.4">𝑙</ci><ci id="alg2.l15.m1.3.3.1.5.cmml" xref="alg2.l15.m1.3.3.1.5">𝑖</ci><ci id="alg2.l15.m1.3.3.1.6.cmml" xref="alg2.l15.m1.3.3.1.6">𝑝</ci><interval closure="open" id="alg2.l15.m1.3.3.1.1.2.cmml" xref="alg2.l15.m1.3.3.1.1.1"><apply id="alg2.l15.m1.3.3.1.1.1.1.cmml" xref="alg2.l15.m1.3.3.1.1.1.1"><plus id="alg2.l15.m1.3.3.1.1.1.1.1.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.1"></plus><apply id="alg2.l15.m1.3.3.1.1.1.1.2.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.2"><times id="alg2.l15.m1.3.3.1.1.1.1.2.1.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.2.1"></times><ci id="alg2.l15.m1.3.3.1.1.1.1.2.2.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.2.2">Δ</ci><apply id="alg2.l15.m1.3.3.1.1.1.1.2.3.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.2.3"><csymbol cd="ambiguous" id="alg2.l15.m1.3.3.1.1.1.1.2.3.1.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.2.3">subscript</csymbol><apply id="alg2.l15.m1.3.3.1.1.1.1.2.3.2.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.2.3.2"><ci id="alg2.l15.m1.3.3.1.1.1.1.2.3.2.1.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.2.3.2.1">¯</ci><ci id="alg2.l15.m1.3.3.1.1.1.1.2.3.2.2.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.2.3.2.2">𝑤</ci></apply><ci id="alg2.l15.m1.3.3.1.1.1.1.2.3.3.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.2.3.3">𝑖</ci></apply></apply><apply id="alg2.l15.m1.3.3.1.1.1.1.3.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.3"><times id="alg2.l15.m1.3.3.1.1.1.1.3.1.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.3.1"></times><ci id="alg2.l15.m1.3.3.1.1.1.1.3.2.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.3.2">𝐿</ci><ci id="alg2.l15.m1.3.3.1.1.1.1.3.3.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.3.3">𝑎</ci><ci id="alg2.l15.m1.3.3.1.1.1.1.3.4.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.3.4">𝑝</ci><apply id="alg2.l15.m1.1.1.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.3.5.2"><divide id="alg2.l15.m1.1.1.1.cmml" xref="alg2.l15.m1.3.3.1.1.1.1.3.5.2"></divide><apply id="alg2.l15.m1.1.1.2.cmml" xref="alg2.l15.m1.1.1.2"><times id="alg2.l15.m1.1.1.2.1.cmml" xref="alg2.l15.m1.1.1.2.1"></times><ci id="alg2.l15.m1.1.1.2.2.cmml" xref="alg2.l15.m1.1.1.2.2">𝑞</ci><ci id="alg2.l15.m1.1.1.2.3.cmml" xref="alg2.l15.m1.1.1.2.3">𝑠</ci></apply><apply id="alg2.l15.m1.1.1.3.cmml" xref="alg2.l15.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l15.m1.1.1.3.1.cmml" xref="alg2.l15.m1.1.1.3">subscript</csymbol><ci id="alg2.l15.m1.1.1.3.2.cmml" xref="alg2.l15.m1.1.1.3.2">𝜀</ci><cn type="integer" id="alg2.l15.m1.1.1.3.3.cmml" xref="alg2.l15.m1.1.1.3.3">3</cn></apply></apply></apply></apply><ci id="alg2.l15.m1.2.2.cmml" xref="alg2.l15.m1.2.2">𝛾</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l15.m1.3c">\Delta w_{i}^{answer}\leftarrow clip\left(\Delta\bar{w}_{i}+Lap\left(\frac{qs}{\varepsilon_{3}}\right),\gamma\right)</annotation></semantics></math>

</div>
<div id="alg2.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16:</span>         Release the answer by appending <math id="alg2.l16.m1.1" class="ltx_Math" alttext="\Delta w_{i}^{answer}" display="inline"><semantics id="alg2.l16.m1.1a"><mrow id="alg2.l16.m1.1.1" xref="alg2.l16.m1.1.1.cmml"><mi mathvariant="normal" id="alg2.l16.m1.1.1.2" xref="alg2.l16.m1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.1" xref="alg2.l16.m1.1.1.1.cmml">​</mo><msubsup id="alg2.l16.m1.1.1.3" xref="alg2.l16.m1.1.1.3.cmml"><mi id="alg2.l16.m1.1.1.3.2.2" xref="alg2.l16.m1.1.1.3.2.2.cmml">w</mi><mi id="alg2.l16.m1.1.1.3.2.3" xref="alg2.l16.m1.1.1.3.2.3.cmml">i</mi><mrow id="alg2.l16.m1.1.1.3.3" xref="alg2.l16.m1.1.1.3.3.cmml"><mi id="alg2.l16.m1.1.1.3.3.2" xref="alg2.l16.m1.1.1.3.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.3.3.1" xref="alg2.l16.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.3.3.3" xref="alg2.l16.m1.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.3.3.1a" xref="alg2.l16.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.3.3.4" xref="alg2.l16.m1.1.1.3.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.3.3.1b" xref="alg2.l16.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.3.3.5" xref="alg2.l16.m1.1.1.3.3.5.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.3.3.1c" xref="alg2.l16.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.3.3.6" xref="alg2.l16.m1.1.1.3.3.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.3.3.1d" xref="alg2.l16.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.3.3.7" xref="alg2.l16.m1.1.1.3.3.7.cmml">r</mi></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="alg2.l16.m1.1b"><apply id="alg2.l16.m1.1.1.cmml" xref="alg2.l16.m1.1.1"><times id="alg2.l16.m1.1.1.1.cmml" xref="alg2.l16.m1.1.1.1"></times><ci id="alg2.l16.m1.1.1.2.cmml" xref="alg2.l16.m1.1.1.2">Δ</ci><apply id="alg2.l16.m1.1.1.3.cmml" xref="alg2.l16.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l16.m1.1.1.3.1.cmml" xref="alg2.l16.m1.1.1.3">superscript</csymbol><apply id="alg2.l16.m1.1.1.3.2.cmml" xref="alg2.l16.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l16.m1.1.1.3.2.1.cmml" xref="alg2.l16.m1.1.1.3">subscript</csymbol><ci id="alg2.l16.m1.1.1.3.2.2.cmml" xref="alg2.l16.m1.1.1.3.2.2">𝑤</ci><ci id="alg2.l16.m1.1.1.3.2.3.cmml" xref="alg2.l16.m1.1.1.3.2.3">𝑖</ci></apply><apply id="alg2.l16.m1.1.1.3.3.cmml" xref="alg2.l16.m1.1.1.3.3"><times id="alg2.l16.m1.1.1.3.3.1.cmml" xref="alg2.l16.m1.1.1.3.3.1"></times><ci id="alg2.l16.m1.1.1.3.3.2.cmml" xref="alg2.l16.m1.1.1.3.3.2">𝑎</ci><ci id="alg2.l16.m1.1.1.3.3.3.cmml" xref="alg2.l16.m1.1.1.3.3.3">𝑛</ci><ci id="alg2.l16.m1.1.1.3.3.4.cmml" xref="alg2.l16.m1.1.1.3.3.4">𝑠</ci><ci id="alg2.l16.m1.1.1.3.3.5.cmml" xref="alg2.l16.m1.1.1.3.3.5">𝑤</ci><ci id="alg2.l16.m1.1.1.3.3.6.cmml" xref="alg2.l16.m1.1.1.3.3.6">𝑒</ci><ci id="alg2.l16.m1.1.1.3.3.7.cmml" xref="alg2.l16.m1.1.1.3.3.7">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l16.m1.1c">\Delta w_{i}^{answer}</annotation></semantics></math> to <math id="alg2.l16.m2.1" class="ltx_Math" alttext="\Delta\hat{\textbf{w}}" display="inline"><semantics id="alg2.l16.m2.1a"><mrow id="alg2.l16.m2.1.1" xref="alg2.l16.m2.1.1.cmml"><mi mathvariant="normal" id="alg2.l16.m2.1.1.2" xref="alg2.l16.m2.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m2.1.1.1" xref="alg2.l16.m2.1.1.1.cmml">​</mo><mover accent="true" id="alg2.l16.m2.1.1.3" xref="alg2.l16.m2.1.1.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l16.m2.1.1.3.2" xref="alg2.l16.m2.1.1.3.2a.cmml">w</mtext><mo id="alg2.l16.m2.1.1.3.1" xref="alg2.l16.m2.1.1.3.1.cmml">^</mo></mover></mrow><annotation-xml encoding="MathML-Content" id="alg2.l16.m2.1b"><apply id="alg2.l16.m2.1.1.cmml" xref="alg2.l16.m2.1.1"><times id="alg2.l16.m2.1.1.1.cmml" xref="alg2.l16.m2.1.1.1"></times><ci id="alg2.l16.m2.1.1.2.cmml" xref="alg2.l16.m2.1.1.2">Δ</ci><apply id="alg2.l16.m2.1.1.3.cmml" xref="alg2.l16.m2.1.1.3"><ci id="alg2.l16.m2.1.1.3.1.cmml" xref="alg2.l16.m2.1.1.3.1">^</ci><ci id="alg2.l16.m2.1.1.3.2a.cmml" xref="alg2.l16.m2.1.1.3.2"><mtext class="ltx_mathvariant_bold" id="alg2.l16.m2.1.1.3.2.cmml" xref="alg2.l16.m2.1.1.3.2">w</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l16.m2.1c">\Delta\hat{\textbf{w}}</annotation></semantics></math>

</div>
<div id="alg2.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17:</span>     <span id="alg2.l17.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l17.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg2.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18:</span><span id="alg2.l18.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l18.2" class="ltx_text ltx_font_bold">while</span>
</div>
<div id="alg2.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19:</span>Rescale weight updates: <math id="alg2.l19.m1.1" class="ltx_Math" alttext="\Delta\textbf{w}_{release}\leftarrow\Delta\hat{\textbf{w}}\cdot N" display="inline"><semantics id="alg2.l19.m1.1a"><mrow id="alg2.l19.m1.1.1" xref="alg2.l19.m1.1.1.cmml"><mrow id="alg2.l19.m1.1.1.2" xref="alg2.l19.m1.1.1.2.cmml"><mi mathvariant="normal" id="alg2.l19.m1.1.1.2.2" xref="alg2.l19.m1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l19.m1.1.1.2.1" xref="alg2.l19.m1.1.1.2.1.cmml">​</mo><msub id="alg2.l19.m1.1.1.2.3" xref="alg2.l19.m1.1.1.2.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l19.m1.1.1.2.3.2" xref="alg2.l19.m1.1.1.2.3.2a.cmml">w</mtext><mrow id="alg2.l19.m1.1.1.2.3.3" xref="alg2.l19.m1.1.1.2.3.3.cmml"><mi id="alg2.l19.m1.1.1.2.3.3.2" xref="alg2.l19.m1.1.1.2.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l19.m1.1.1.2.3.3.1" xref="alg2.l19.m1.1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l19.m1.1.1.2.3.3.3" xref="alg2.l19.m1.1.1.2.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l19.m1.1.1.2.3.3.1a" xref="alg2.l19.m1.1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l19.m1.1.1.2.3.3.4" xref="alg2.l19.m1.1.1.2.3.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l19.m1.1.1.2.3.3.1b" xref="alg2.l19.m1.1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l19.m1.1.1.2.3.3.5" xref="alg2.l19.m1.1.1.2.3.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l19.m1.1.1.2.3.3.1c" xref="alg2.l19.m1.1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l19.m1.1.1.2.3.3.6" xref="alg2.l19.m1.1.1.2.3.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l19.m1.1.1.2.3.3.1d" xref="alg2.l19.m1.1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l19.m1.1.1.2.3.3.7" xref="alg2.l19.m1.1.1.2.3.3.7.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg2.l19.m1.1.1.2.3.3.1e" xref="alg2.l19.m1.1.1.2.3.3.1.cmml">​</mo><mi id="alg2.l19.m1.1.1.2.3.3.8" xref="alg2.l19.m1.1.1.2.3.3.8.cmml">e</mi></mrow></msub></mrow><mo stretchy="false" id="alg2.l19.m1.1.1.1" xref="alg2.l19.m1.1.1.1.cmml">←</mo><mrow id="alg2.l19.m1.1.1.3" xref="alg2.l19.m1.1.1.3.cmml"><mrow id="alg2.l19.m1.1.1.3.2" xref="alg2.l19.m1.1.1.3.2.cmml"><mi mathvariant="normal" id="alg2.l19.m1.1.1.3.2.2" xref="alg2.l19.m1.1.1.3.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l19.m1.1.1.3.2.1" xref="alg2.l19.m1.1.1.3.2.1.cmml">​</mo><mover accent="true" id="alg2.l19.m1.1.1.3.2.3" xref="alg2.l19.m1.1.1.3.2.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l19.m1.1.1.3.2.3.2" xref="alg2.l19.m1.1.1.3.2.3.2a.cmml">w</mtext><mo id="alg2.l19.m1.1.1.3.2.3.1" xref="alg2.l19.m1.1.1.3.2.3.1.cmml">^</mo></mover></mrow><mo lspace="0.222em" rspace="0.222em" id="alg2.l19.m1.1.1.3.1" xref="alg2.l19.m1.1.1.3.1.cmml">⋅</mo><mi id="alg2.l19.m1.1.1.3.3" xref="alg2.l19.m1.1.1.3.3.cmml">N</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l19.m1.1b"><apply id="alg2.l19.m1.1.1.cmml" xref="alg2.l19.m1.1.1"><ci id="alg2.l19.m1.1.1.1.cmml" xref="alg2.l19.m1.1.1.1">←</ci><apply id="alg2.l19.m1.1.1.2.cmml" xref="alg2.l19.m1.1.1.2"><times id="alg2.l19.m1.1.1.2.1.cmml" xref="alg2.l19.m1.1.1.2.1"></times><ci id="alg2.l19.m1.1.1.2.2.cmml" xref="alg2.l19.m1.1.1.2.2">Δ</ci><apply id="alg2.l19.m1.1.1.2.3.cmml" xref="alg2.l19.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg2.l19.m1.1.1.2.3.1.cmml" xref="alg2.l19.m1.1.1.2.3">subscript</csymbol><ci id="alg2.l19.m1.1.1.2.3.2a.cmml" xref="alg2.l19.m1.1.1.2.3.2"><mtext class="ltx_mathvariant_bold" id="alg2.l19.m1.1.1.2.3.2.cmml" xref="alg2.l19.m1.1.1.2.3.2">w</mtext></ci><apply id="alg2.l19.m1.1.1.2.3.3.cmml" xref="alg2.l19.m1.1.1.2.3.3"><times id="alg2.l19.m1.1.1.2.3.3.1.cmml" xref="alg2.l19.m1.1.1.2.3.3.1"></times><ci id="alg2.l19.m1.1.1.2.3.3.2.cmml" xref="alg2.l19.m1.1.1.2.3.3.2">𝑟</ci><ci id="alg2.l19.m1.1.1.2.3.3.3.cmml" xref="alg2.l19.m1.1.1.2.3.3.3">𝑒</ci><ci id="alg2.l19.m1.1.1.2.3.3.4.cmml" xref="alg2.l19.m1.1.1.2.3.3.4">𝑙</ci><ci id="alg2.l19.m1.1.1.2.3.3.5.cmml" xref="alg2.l19.m1.1.1.2.3.3.5">𝑒</ci><ci id="alg2.l19.m1.1.1.2.3.3.6.cmml" xref="alg2.l19.m1.1.1.2.3.3.6">𝑎</ci><ci id="alg2.l19.m1.1.1.2.3.3.7.cmml" xref="alg2.l19.m1.1.1.2.3.3.7">𝑠</ci><ci id="alg2.l19.m1.1.1.2.3.3.8.cmml" xref="alg2.l19.m1.1.1.2.3.3.8">𝑒</ci></apply></apply></apply><apply id="alg2.l19.m1.1.1.3.cmml" xref="alg2.l19.m1.1.1.3"><ci id="alg2.l19.m1.1.1.3.1.cmml" xref="alg2.l19.m1.1.1.3.1">⋅</ci><apply id="alg2.l19.m1.1.1.3.2.cmml" xref="alg2.l19.m1.1.1.3.2"><times id="alg2.l19.m1.1.1.3.2.1.cmml" xref="alg2.l19.m1.1.1.3.2.1"></times><ci id="alg2.l19.m1.1.1.3.2.2.cmml" xref="alg2.l19.m1.1.1.3.2.2">Δ</ci><apply id="alg2.l19.m1.1.1.3.2.3.cmml" xref="alg2.l19.m1.1.1.3.2.3"><ci id="alg2.l19.m1.1.1.3.2.3.1.cmml" xref="alg2.l19.m1.1.1.3.2.3.1">^</ci><ci id="alg2.l19.m1.1.1.3.2.3.2a.cmml" xref="alg2.l19.m1.1.1.3.2.3.2"><mtext class="ltx_mathvariant_bold" id="alg2.l19.m1.1.1.3.2.3.2.cmml" xref="alg2.l19.m1.1.1.3.2.3.2">w</mtext></ci></apply></apply><ci id="alg2.l19.m1.1.1.3.3.cmml" xref="alg2.l19.m1.1.1.3.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l19.m1.1c">\Delta\textbf{w}_{release}\leftarrow\Delta\hat{\textbf{w}}\cdot N</annotation></semantics></math>

</div>
<div id="alg2.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20:</span>Release weight updates <math id="alg2.l20.m1.1" class="ltx_Math" alttext="\Delta\textbf{w}_{release}" display="inline"><semantics id="alg2.l20.m1.1a"><mrow id="alg2.l20.m1.1.1" xref="alg2.l20.m1.1.1.cmml"><mi mathvariant="normal" id="alg2.l20.m1.1.1.2" xref="alg2.l20.m1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.1" xref="alg2.l20.m1.1.1.1.cmml">​</mo><msub id="alg2.l20.m1.1.1.3" xref="alg2.l20.m1.1.1.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg2.l20.m1.1.1.3.2" xref="alg2.l20.m1.1.1.3.2a.cmml">w</mtext><mrow id="alg2.l20.m1.1.1.3.3" xref="alg2.l20.m1.1.1.3.3.cmml"><mi id="alg2.l20.m1.1.1.3.3.2" xref="alg2.l20.m1.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.3.3.1" xref="alg2.l20.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.3.3.3" xref="alg2.l20.m1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.3.3.1a" xref="alg2.l20.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.3.3.4" xref="alg2.l20.m1.1.1.3.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.3.3.1b" xref="alg2.l20.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.3.3.5" xref="alg2.l20.m1.1.1.3.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.3.3.1c" xref="alg2.l20.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.3.3.6" xref="alg2.l20.m1.1.1.3.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.3.3.1d" xref="alg2.l20.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.3.3.7" xref="alg2.l20.m1.1.1.3.3.7.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.3.3.1e" xref="alg2.l20.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.3.3.8" xref="alg2.l20.m1.1.1.3.3.8.cmml">e</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg2.l20.m1.1b"><apply id="alg2.l20.m1.1.1.cmml" xref="alg2.l20.m1.1.1"><times id="alg2.l20.m1.1.1.1.cmml" xref="alg2.l20.m1.1.1.1"></times><ci id="alg2.l20.m1.1.1.2.cmml" xref="alg2.l20.m1.1.1.2">Δ</ci><apply id="alg2.l20.m1.1.1.3.cmml" xref="alg2.l20.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l20.m1.1.1.3.1.cmml" xref="alg2.l20.m1.1.1.3">subscript</csymbol><ci id="alg2.l20.m1.1.1.3.2a.cmml" xref="alg2.l20.m1.1.1.3.2"><mtext class="ltx_mathvariant_bold" id="alg2.l20.m1.1.1.3.2.cmml" xref="alg2.l20.m1.1.1.3.2">w</mtext></ci><apply id="alg2.l20.m1.1.1.3.3.cmml" xref="alg2.l20.m1.1.1.3.3"><times id="alg2.l20.m1.1.1.3.3.1.cmml" xref="alg2.l20.m1.1.1.3.3.1"></times><ci id="alg2.l20.m1.1.1.3.3.2.cmml" xref="alg2.l20.m1.1.1.3.3.2">𝑟</ci><ci id="alg2.l20.m1.1.1.3.3.3.cmml" xref="alg2.l20.m1.1.1.3.3.3">𝑒</ci><ci id="alg2.l20.m1.1.1.3.3.4.cmml" xref="alg2.l20.m1.1.1.3.3.4">𝑙</ci><ci id="alg2.l20.m1.1.1.3.3.5.cmml" xref="alg2.l20.m1.1.1.3.3.5">𝑒</ci><ci id="alg2.l20.m1.1.1.3.3.6.cmml" xref="alg2.l20.m1.1.1.3.3.6">𝑎</ci><ci id="alg2.l20.m1.1.1.3.3.7.cmml" xref="alg2.l20.m1.1.1.3.3.7">𝑠</ci><ci id="alg2.l20.m1.1.1.3.3.8.cmml" xref="alg2.l20.m1.1.1.3.3.8">𝑒</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l20.m1.1c">\Delta\textbf{w}_{release}</annotation></semantics></math>

</div>
</div>
</figure>
<div id="S2.SS2.SSS2.p2" class="ltx_para ltx_noindent">
<p id="S2.SS2.SSS2.p2.1" class="ltx_p">The sparse vector technique for differential privacy (DP-SVT) is executed only once per communication round in a federated scenario and is thus considerably faster to compute than its DP-SGD counterpart. Furthermore, DP-SVT can be applied to model weights trained with a number of different optimization algorithms beyond stochastic gradient descent, as it makes no assumption on how the weights deltas are computed.</p>
</div>
</section>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Dataset - Medical Information Mart for Intensive Care III (MIMIC III)</h3>

<div id="S2.SS3.p1" class="ltx_para ltx_noindent">
<p id="S2.SS3.p1.1" class="ltx_p">The MIMIC-III database contains data collected during 53,423 separate hospital admissions, covering 38,597 adult patients (above 16 years of age) at the Beth Israel Deaconess Medical Center in Boston between 2001 and 2008 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>. The dataset is a staple of machine learning research in healthcare where Harutyunyan et al. presented a set of four benchmark tasks for timeseries modeling on the MIMIC-III data, consisting of (a) in-hospital mortality prediction, (b) decompensation prediction, (c) phenotyping and (d) length of stay prediction along with open-sourced data pre-processing pipeline for reproducibility <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. For the scope of this paper, we decided to focus on the benchmark task of (a) in-hospital mortality prediction. 
<br class="ltx_break"></p>
</div>
<div id="S2.SS3.p2" class="ltx_para ltx_noindent">
<p id="S2.SS3.p2.1" class="ltx_p"><span id="S2.SS3.p2.1.1" class="ltx_text ltx_font_bold">Benchmark Task - In-hospital Mortality Prediction</span></p>
</div>
<div id="S2.SS3.p3" class="ltx_para ltx_noindent">
<p id="S2.SS3.p3.1" class="ltx_p">For this benchmark, Harutyunyan et al. use a selection of 17 clinical variables extracted from the CHARTEVENTS and LABEVENTS tables of the MIMIC-III dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. The variables and their type are listed in Table <a href="#S2.T2" title="Table 2 ‣ 2.3 Dataset - Medical Information Mart for Intensive Care III (MIMIC III) ‣ 2 Materials and Methods ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. Given a sequence of measurements (i.e. features in Table <a href="#S2.T2" title="Table 2 ‣ 2.3 Dataset - Medical Information Mart for Intensive Care III (MIMIC III) ‣ 2 Materials and Methods ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>) collected during the first 48 hours of a patient’s stay in the ICU, the aim is to predict in-hospital mortality within 30 days of ICU admission.</p>
</div>
<figure id="S2.T2" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_1">
<table id="S2.T2.1" class="ltx_tabular ltx_centering ltx_figure_panel ltx_align_middle">
<tr id="S2.T2.1.1" class="ltx_tr">
<td id="S2.T2.1.1.1" class="ltx_td ltx_align_left ltx_border_tt"><span id="S2.T2.1.1.1.1" class="ltx_text ltx_font_bold">Type</span></td>
<td id="S2.T2.1.1.2" class="ltx_td ltx_align_left ltx_border_tt"><span id="S2.T2.1.1.2.1" class="ltx_text ltx_font_bold">Variable</span></td>
<td id="S2.T2.1.1.3" class="ltx_td ltx_align_center ltx_border_tt"><span id="S2.T2.1.1.3.1" class="ltx_text ltx_font_bold">Modeled as</span></td>
<td id="S2.T2.1.1.4" class="ltx_td ltx_align_center ltx_border_tt"><span id="S2.T2.1.1.4.1" class="ltx_text ltx_font_bold"># of features</span></td>
</tr>
<tr id="S2.T2.1.2" class="ltx_tr">
<td id="S2.T2.1.2.1" class="ltx_td ltx_align_left ltx_border_tt">Standard measure</td>
<td id="S2.T2.1.2.2" class="ltx_td ltx_align_left ltx_border_tt">Height</td>
<td id="S2.T2.1.2.3" class="ltx_td ltx_align_center ltx_border_tt">Continuous</td>
<td id="S2.T2.1.2.4" class="ltx_td ltx_align_center ltx_border_tt">1</td>
</tr>
<tr id="S2.T2.1.3" class="ltx_tr">
<td id="S2.T2.1.3.1" class="ltx_td ltx_align_left">Standard measure</td>
<td id="S2.T2.1.3.2" class="ltx_td ltx_align_left">Weight</td>
<td id="S2.T2.1.3.3" class="ltx_td ltx_align_center">Continuous</td>
<td id="S2.T2.1.3.4" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="S2.T2.1.4" class="ltx_tr">
<td id="S2.T2.1.4.1" class="ltx_td ltx_align_left ltx_border_t">Vital sign</td>
<td id="S2.T2.1.4.2" class="ltx_td ltx_align_left ltx_border_t">Temperature</td>
<td id="S2.T2.1.4.3" class="ltx_td ltx_align_center ltx_border_t">Continuous</td>
<td id="S2.T2.1.4.4" class="ltx_td ltx_align_center ltx_border_t">1</td>
</tr>
<tr id="S2.T2.1.5" class="ltx_tr">
<td id="S2.T2.1.5.1" class="ltx_td ltx_align_left">Vital sign</td>
<td id="S2.T2.1.5.2" class="ltx_td ltx_align_left">Heart rate</td>
<td id="S2.T2.1.5.3" class="ltx_td ltx_align_center">Continuous</td>
<td id="S2.T2.1.5.4" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="S2.T2.1.6" class="ltx_tr">
<td id="S2.T2.1.6.1" class="ltx_td ltx_align_left">Vital sign</td>
<td id="S2.T2.1.6.2" class="ltx_td ltx_align_left">Mean blood pressure</td>
<td id="S2.T2.1.6.3" class="ltx_td ltx_align_center">Continuous</td>
<td id="S2.T2.1.6.4" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="S2.T2.1.7" class="ltx_tr">
<td id="S2.T2.1.7.1" class="ltx_td ltx_align_left">Vital sign</td>
<td id="S2.T2.1.7.2" class="ltx_td ltx_align_left">Diastolic blood pressure</td>
<td id="S2.T2.1.7.3" class="ltx_td ltx_align_center">Continuous</td>
<td id="S2.T2.1.7.4" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="S2.T2.1.8" class="ltx_tr">
<td id="S2.T2.1.8.1" class="ltx_td ltx_align_left">Vital sign</td>
<td id="S2.T2.1.8.2" class="ltx_td ltx_align_left">Systolic blood pressure</td>
<td id="S2.T2.1.8.3" class="ltx_td ltx_align_center">Continuous</td>
<td id="S2.T2.1.8.4" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="S2.T2.1.9" class="ltx_tr">
<td id="S2.T2.1.9.1" class="ltx_td ltx_align_left">Vital sign</td>
<td id="S2.T2.1.9.2" class="ltx_td ltx_align_left">Capillary refill rate</td>
<td id="S2.T2.1.9.3" class="ltx_td ltx_align_center">Categorical</td>
<td id="S2.T2.1.9.4" class="ltx_td ltx_align_center">2</td>
</tr>
<tr id="S2.T2.1.10" class="ltx_tr">
<td id="S2.T2.1.10.1" class="ltx_td ltx_align_left">Vital sign</td>
<td id="S2.T2.1.10.2" class="ltx_td ltx_align_left">Oxygen saturation</td>
<td id="S2.T2.1.10.3" class="ltx_td ltx_align_center">Continuous</td>
<td id="S2.T2.1.10.4" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="S2.T2.1.11" class="ltx_tr">
<td id="S2.T2.1.11.1" class="ltx_td ltx_align_left">Vital sign</td>
<td id="S2.T2.1.11.2" class="ltx_td ltx_align_left">Respiratory rate</td>
<td id="S2.T2.1.11.3" class="ltx_td ltx_align_center">Continuous</td>
<td id="S2.T2.1.11.4" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="S2.T2.1.12" class="ltx_tr">
<td id="S2.T2.1.12.1" class="ltx_td ltx_align_left">Vital sign</td>
<td id="S2.T2.1.12.2" class="ltx_td ltx_align_left">Fraction inspired oxygen</td>
<td id="S2.T2.1.12.3" class="ltx_td ltx_align_center">Continuous</td>
<td id="S2.T2.1.12.4" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="S2.T2.1.13" class="ltx_tr">
<td id="S2.T2.1.13.1" class="ltx_td ltx_align_left ltx_border_t">Laboratory test</td>
<td id="S2.T2.1.13.2" class="ltx_td ltx_align_left ltx_border_t">Glucose</td>
<td id="S2.T2.1.13.3" class="ltx_td ltx_align_center ltx_border_t">Continuous</td>
<td id="S2.T2.1.13.4" class="ltx_td ltx_align_center ltx_border_t">1</td>
</tr>
<tr id="S2.T2.1.14" class="ltx_tr">
<td id="S2.T2.1.14.1" class="ltx_td ltx_align_left">Laboratory test</td>
<td id="S2.T2.1.14.2" class="ltx_td ltx_align_left">pH</td>
<td id="S2.T2.1.14.3" class="ltx_td ltx_align_center">Continuous</td>
<td id="S2.T2.1.14.4" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="S2.T2.1.15" class="ltx_tr">
<td id="S2.T2.1.15.1" class="ltx_td ltx_align_left ltx_border_t">Score / scale</td>
<td id="S2.T2.1.15.2" class="ltx_td ltx_align_left ltx_border_t">Glasgow coma scale - Eye opening</td>
<td id="S2.T2.1.15.3" class="ltx_td ltx_align_center ltx_border_t">Categorical</td>
<td id="S2.T2.1.15.4" class="ltx_td ltx_align_center ltx_border_t">8<sup id="S2.T2.1.15.4.1" class="ltx_sup">*</sup>
</td>
</tr>
<tr id="S2.T2.1.16" class="ltx_tr">
<td id="S2.T2.1.16.1" class="ltx_td ltx_align_left">Score / scale</td>
<td id="S2.T2.1.16.2" class="ltx_td ltx_align_left">Glasgow coma scale - Verbal response</td>
<td id="S2.T2.1.16.3" class="ltx_td ltx_align_center">Categorical</td>
<td id="S2.T2.1.16.4" class="ltx_td ltx_align_center">12<sup id="S2.T2.1.16.4.1" class="ltx_sup">*</sup>
</td>
</tr>
<tr id="S2.T2.1.17" class="ltx_tr">
<td id="S2.T2.1.17.1" class="ltx_td ltx_align_left">Score / scale</td>
<td id="S2.T2.1.17.2" class="ltx_td ltx_align_left">Glasgow coma scale - Motor response</td>
<td id="S2.T2.1.17.3" class="ltx_td ltx_align_center">Categorical</td>
<td id="S2.T2.1.17.4" class="ltx_td ltx_align_center">12<sup id="S2.T2.1.17.4.1" class="ltx_sup">*</sup>
</td>
</tr>
<tr id="S2.T2.1.18" class="ltx_tr">
<td id="S2.T2.1.18.1" class="ltx_td ltx_align_left ltx_border_bb">Score / scale</td>
<td id="S2.T2.1.18.2" class="ltx_td ltx_align_left ltx_border_bb">Glasgow coma scale - Total</td>
<td id="S2.T2.1.18.3" class="ltx_td ltx_align_center ltx_border_bb">Categorical</td>
<td id="S2.T2.1.18.4" class="ltx_td ltx_align_center ltx_border_bb">13</td>
</tr>
</table>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<ul id="S2.I1" class="ltx_itemize ltx_centering ltx_figure_panel">
<li id="S2.I1.ix1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">*</span> 
<div id="S2.I1.ix1.p1" class="ltx_para ltx_noindent">
<p id="S2.I1.ix1.p1.1" class="ltx_p">According to the official Glasgow coma scale <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> there are 5 categories for eye opening, 6 categories for verbal response and 7 categories for motor response</p>
</div>
</li>
</ul>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Features used in the MIMIC-III in-hospital mortality benchmark task <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. For each feature an additional mask is calculated to represent if a features was measured (true) or imputed (false), leading to a total of 76 features.</figcaption>
</figure>
<div id="S2.SS3.p4" class="ltx_para ltx_noindent">
<p id="S2.SS3.p4.1" class="ltx_p">The pre-processing procedure, including the filtering criteria for patients to be included, is described in great detail in Harutyunyan et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>.</p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4 </span>Modelling - Neural Network Architecture</h3>

<div id="S2.SS4.p1" class="ltx_para ltx_noindent">
<p id="S2.SS4.p1.3" class="ltx_p">Patients’ data were represented as a set of multivariate timeseries describing their trajectories up to the time of prediction.
In a first step, for a given patient’s sequence, we embedded the input features at each time point using an embedding layer of size equal to 16 neurons followed by a rectified linear activation function (ReLU) and a dropout layer with probability <math id="S2.SS4.p1.1.m1.1" class="ltx_Math" alttext="p=0.3" display="inline"><semantics id="S2.SS4.p1.1.m1.1a"><mrow id="S2.SS4.p1.1.m1.1.1" xref="S2.SS4.p1.1.m1.1.1.cmml"><mi id="S2.SS4.p1.1.m1.1.1.2" xref="S2.SS4.p1.1.m1.1.1.2.cmml">p</mi><mo id="S2.SS4.p1.1.m1.1.1.1" xref="S2.SS4.p1.1.m1.1.1.1.cmml">=</mo><mn id="S2.SS4.p1.1.m1.1.1.3" xref="S2.SS4.p1.1.m1.1.1.3.cmml">0.3</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.1.m1.1b"><apply id="S2.SS4.p1.1.m1.1.1.cmml" xref="S2.SS4.p1.1.m1.1.1"><eq id="S2.SS4.p1.1.m1.1.1.1.cmml" xref="S2.SS4.p1.1.m1.1.1.1"></eq><ci id="S2.SS4.p1.1.m1.1.1.2.cmml" xref="S2.SS4.p1.1.m1.1.1.2">𝑝</ci><cn type="float" id="S2.SS4.p1.1.m1.1.1.3.cmml" xref="S2.SS4.p1.1.m1.1.1.3">0.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.1.m1.1c">p=0.3</annotation></semantics></math>. Then the embedded representation at each time point is fed to a bidirectional recurrent neural network with long-short term memory (RNN-LSTM) cells <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> to capture the sequential/time dependency among the embedded features. A second dropout layer was used with probability <math id="S2.SS4.p1.2.m2.1" class="ltx_Math" alttext="p=0.3" display="inline"><semantics id="S2.SS4.p1.2.m2.1a"><mrow id="S2.SS4.p1.2.m2.1.1" xref="S2.SS4.p1.2.m2.1.1.cmml"><mi id="S2.SS4.p1.2.m2.1.1.2" xref="S2.SS4.p1.2.m2.1.1.2.cmml">p</mi><mo id="S2.SS4.p1.2.m2.1.1.1" xref="S2.SS4.p1.2.m2.1.1.1.cmml">=</mo><mn id="S2.SS4.p1.2.m2.1.1.3" xref="S2.SS4.p1.2.m2.1.1.3.cmml">0.3</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.2.m2.1b"><apply id="S2.SS4.p1.2.m2.1.1.cmml" xref="S2.SS4.p1.2.m2.1.1"><eq id="S2.SS4.p1.2.m2.1.1.1.cmml" xref="S2.SS4.p1.2.m2.1.1.1"></eq><ci id="S2.SS4.p1.2.m2.1.1.2.cmml" xref="S2.SS4.p1.2.m2.1.1.2">𝑝</ci><cn type="float" id="S2.SS4.p1.2.m2.1.1.3.cmml" xref="S2.SS4.p1.2.m2.1.1.3">0.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.2.m2.1c">p=0.3</annotation></semantics></math>. Lastly, the output layer used an embedding layer (affine transformation) followed by <math id="S2.SS4.p1.3.m3.1" class="ltx_Math" alttext="sigmoid" display="inline"><semantics id="S2.SS4.p1.3.m3.1a"><mrow id="S2.SS4.p1.3.m3.1.1" xref="S2.SS4.p1.3.m3.1.1.cmml"><mi id="S2.SS4.p1.3.m3.1.1.2" xref="S2.SS4.p1.3.m3.1.1.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.3.m3.1.1.1" xref="S2.SS4.p1.3.m3.1.1.1.cmml">​</mo><mi id="S2.SS4.p1.3.m3.1.1.3" xref="S2.SS4.p1.3.m3.1.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.3.m3.1.1.1a" xref="S2.SS4.p1.3.m3.1.1.1.cmml">​</mo><mi id="S2.SS4.p1.3.m3.1.1.4" xref="S2.SS4.p1.3.m3.1.1.4.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.3.m3.1.1.1b" xref="S2.SS4.p1.3.m3.1.1.1.cmml">​</mo><mi id="S2.SS4.p1.3.m3.1.1.5" xref="S2.SS4.p1.3.m3.1.1.5.cmml">m</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.3.m3.1.1.1c" xref="S2.SS4.p1.3.m3.1.1.1.cmml">​</mo><mi id="S2.SS4.p1.3.m3.1.1.6" xref="S2.SS4.p1.3.m3.1.1.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.3.m3.1.1.1d" xref="S2.SS4.p1.3.m3.1.1.1.cmml">​</mo><mi id="S2.SS4.p1.3.m3.1.1.7" xref="S2.SS4.p1.3.m3.1.1.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.3.m3.1.1.1e" xref="S2.SS4.p1.3.m3.1.1.1.cmml">​</mo><mi id="S2.SS4.p1.3.m3.1.1.8" xref="S2.SS4.p1.3.m3.1.1.8.cmml">d</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.3.m3.1b"><apply id="S2.SS4.p1.3.m3.1.1.cmml" xref="S2.SS4.p1.3.m3.1.1"><times id="S2.SS4.p1.3.m3.1.1.1.cmml" xref="S2.SS4.p1.3.m3.1.1.1"></times><ci id="S2.SS4.p1.3.m3.1.1.2.cmml" xref="S2.SS4.p1.3.m3.1.1.2">𝑠</ci><ci id="S2.SS4.p1.3.m3.1.1.3.cmml" xref="S2.SS4.p1.3.m3.1.1.3">𝑖</ci><ci id="S2.SS4.p1.3.m3.1.1.4.cmml" xref="S2.SS4.p1.3.m3.1.1.4">𝑔</ci><ci id="S2.SS4.p1.3.m3.1.1.5.cmml" xref="S2.SS4.p1.3.m3.1.1.5">𝑚</ci><ci id="S2.SS4.p1.3.m3.1.1.6.cmml" xref="S2.SS4.p1.3.m3.1.1.6">𝑜</ci><ci id="S2.SS4.p1.3.m3.1.1.7.cmml" xref="S2.SS4.p1.3.m3.1.1.7">𝑖</ci><ci id="S2.SS4.p1.3.m3.1.1.8.cmml" xref="S2.SS4.p1.3.m3.1.1.8">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.3.m3.1c">sigmoid</annotation></semantics></math> activation function to compute the probability of the target outcome (i.e. in-hospital mortality).
For model training, we used the Adam optimizer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> with an initial learning rate of 0.001 and a batch size of 64 as fixed hyperparameters.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experimental Setup</h2>

<div id="S3.p1" class="ltx_para ltx_noindent">
<p id="S3.p1.1" class="ltx_p">The simulated scenarios consist of two sites (simulating two separate hospitals) and a federation server. The data used on the two sites is based on the MIMIC-III benchmark task. We systematically varied the distribution of data between the two sites, to simulate increasingly unbalanced scenarios in two separate cases: changing (1) the number of samples per site and (2) the number of samples with positive label per site.
Additionally, we evaluated two federated learning strategies (FedAvg and FedProx), as well as two differential privacy methods (DP-SGD and DP-SVT).
We assessed the models performance on a held-out test set (3’236 patients) and using bootstrapping (resampling 10’000 times the test set) to compute the average area under the ROC (AUROC) and the precision-recall curves (AUPRC) metrics.
In order to provide a baseline for performance comparisons, we trained the same neural network exclusively on the available local data in each configuration.</p>
</div>
<figure id="S3.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><img src="/html/2302.04208/assets/figures/m&amp;m/ParametricStudy_AB.png" id="S3.F1.1.g1" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" width="598" height="105" alt="Refer to caption"></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1"><img src="/html/2302.04208/assets/figures/m&amp;m/ParametricStudy_CD.png" id="S3.F1.2.g2" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" width="598" height="96" alt="Refer to caption"></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1"><img src="/html/2302.04208/assets/figures/m&amp;m/ParametricStudy_EF.png" id="S3.F1.3.g3" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" width="479" height="137" alt="Refer to caption"></div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>
Overview of explored parameters.

<br class="ltx_break"><span id="S3.F1.6.1" class="ltx_text ltx_font_bold">Data Distributions</span>:
<span id="S3.F1.7.2" class="ltx_text ltx_font_italic">(A) Homogeneous</span>: The number of samples at each site is progressively changed from 50-50% to 5-95%, while the negative to positive labels ratio is kept constant.
<span id="S3.F1.8.3" class="ltx_text ltx_font_italic">(B) Heterogeneous</span>: The split of positive labels across the two sites is progressively increased from 50-50% to 95-5%, while the total number of patients per site is kept constant (50% in Site #1 and 50% in Site #2).

<br class="ltx_break"><span id="S3.F1.9.4" class="ltx_text ltx_font_bold">Federation Strategies</span>:
<span id="S3.F1.10.5" class="ltx_text ltx_font_italic">(C) Communication Frequency</span>: The number of used communication rounds and the corresponding number of local training epochs. All scenario reach a total of 64 accumulated epochs.
<span id="S3.F1.11.6" class="ltx_text ltx_font_italic">(D) Aggregation Algorithms</span>: federated averaging (FedAvg) and federated proximity (FedProx) are evaluated on data distributions in tables A-B. For federated proximity we explore different values of the regularization parameter <math id="S3.F1.4.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S3.F1.4.m1.1b"><mi id="S3.F1.4.m1.1.1" xref="S3.F1.4.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S3.F1.4.m1.1c"><ci id="S3.F1.4.m1.1.1.cmml" xref="S3.F1.4.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.4.m1.1d">\mu</annotation></semantics></math>.

<br class="ltx_break"><span id="S3.F1.12.7" class="ltx_text ltx_font_bold">Differential Privacy</span>:
<span id="S3.F1.13.8" class="ltx_text ltx_font_italic">(E) Stochastic Gradient Descent (DP-SGD)</span>: The noise perturbation is continuously increased through the noise multiplier parameter. We use different gradient norms.
<span id="S3.F1.14.9" class="ltx_text ltx_font_italic">(F) Sparse Vector Technique (DP-SVT)</span>: The noise parameter <math id="S3.F1.5.m2.1" class="ltx_Math" alttext="\epsilon_{1}" display="inline"><semantics id="S3.F1.5.m2.1b"><msub id="S3.F1.5.m2.1.1" xref="S3.F1.5.m2.1.1.cmml"><mi id="S3.F1.5.m2.1.1.2" xref="S3.F1.5.m2.1.1.2.cmml">ϵ</mi><mn id="S3.F1.5.m2.1.1.3" xref="S3.F1.5.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.F1.5.m2.1c"><apply id="S3.F1.5.m2.1.1.cmml" xref="S3.F1.5.m2.1.1"><csymbol cd="ambiguous" id="S3.F1.5.m2.1.1.1.cmml" xref="S3.F1.5.m2.1.1">subscript</csymbol><ci id="S3.F1.5.m2.1.1.2.cmml" xref="S3.F1.5.m2.1.1.2">italic-ϵ</ci><cn type="integer" id="S3.F1.5.m2.1.1.3.cmml" xref="S3.F1.5.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.5.m2.1d">\epsilon_{1}</annotation></semantics></math> is continuously increased, while the number of shared model parameters is also varied (portion to release Q going from 20 to 50%). Gradient clipping is used for further regularization of the updated weights shared with the server.
</figcaption>
</figure>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Data Distributions</h3>

<div id="S3.SS1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS1.p1.1" class="ltx_p">We considered two data distribution scenarios, homogeneous and heterogeneous. In the homogeneous data distribution case, the sites only differ in the available amount of data (i.e., number of patient samples), while keeping the share of patients with a positive label (i.e., in-hospital mortality in the MIMIC-III case) constant. Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-A shows the exact data splits chosen for the parametric study and the corresponding icons used in the follow-up figures.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para ltx_noindent">
<p id="S3.SS1.p2.1" class="ltx_p">In the heterogeneous data distribution case, the number of patients samples per site is kept constant, while the patient samples with a positive label are split between the two sites in increasingly unbalanced ratios, 50-50% up to 95-5% (Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-B). For these experiments we mainly used the AUPRC metric for evaluation.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Communication Rounds</h3>

<div id="S3.SS2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS2.p1.1" class="ltx_p">To evaluate the impact of communication rounds (R) and number of local training epochs (E) on the model performance, we trained federated models on each of the data distributions scenarios (i.e. homogeneous and heterogeneous) separately with the following communication rounds/epoch configurations: 2/32, 4/16, 8/8, 16/4, 32/2 (Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-C).</p>
</div>
<section id="S3.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.1 </span>Aggregation Methods</h4>

<div id="S3.SS2.SSS1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS2.SSS1.p1.3" class="ltx_p">We compare the performance of the federated averaging (FedAvg) and the federated proximity (FedProx) strategies on the heterogeneous data distributions scenario (Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-B). For the FedProx strategy, we vary the value of the regularization parameter <math id="S3.SS2.SSS1.p1.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S3.SS2.SSS1.p1.1.m1.1a"><mi id="S3.SS2.SSS1.p1.1.m1.1.1" xref="S3.SS2.SSS1.p1.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.1.m1.1b"><ci id="S3.SS2.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.1.m1.1c">\mu</annotation></semantics></math> from <math id="S3.SS2.SSS1.p1.2.m2.1" class="ltx_Math" alttext="1e-5" display="inline"><semantics id="S3.SS2.SSS1.p1.2.m2.1a"><mrow id="S3.SS2.SSS1.p1.2.m2.1.1" xref="S3.SS2.SSS1.p1.2.m2.1.1.cmml"><mrow id="S3.SS2.SSS1.p1.2.m2.1.1.2" xref="S3.SS2.SSS1.p1.2.m2.1.1.2.cmml"><mn id="S3.SS2.SSS1.p1.2.m2.1.1.2.2" xref="S3.SS2.SSS1.p1.2.m2.1.1.2.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S3.SS2.SSS1.p1.2.m2.1.1.2.1" xref="S3.SS2.SSS1.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="S3.SS2.SSS1.p1.2.m2.1.1.2.3" xref="S3.SS2.SSS1.p1.2.m2.1.1.2.3.cmml">e</mi></mrow><mo id="S3.SS2.SSS1.p1.2.m2.1.1.1" xref="S3.SS2.SSS1.p1.2.m2.1.1.1.cmml">−</mo><mn id="S3.SS2.SSS1.p1.2.m2.1.1.3" xref="S3.SS2.SSS1.p1.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.2.m2.1b"><apply id="S3.SS2.SSS1.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1"><minus id="S3.SS2.SSS1.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.1"></minus><apply id="S3.SS2.SSS1.p1.2.m2.1.1.2.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.2"><times id="S3.SS2.SSS1.p1.2.m2.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.2.1"></times><cn type="integer" id="S3.SS2.SSS1.p1.2.m2.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.2.2">1</cn><ci id="S3.SS2.SSS1.p1.2.m2.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.2.3">𝑒</ci></apply><cn type="integer" id="S3.SS2.SSS1.p1.2.m2.1.1.3.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.2.m2.1c">1e-5</annotation></semantics></math> (weak regularization) to <math id="S3.SS2.SSS1.p1.3.m3.1" class="ltx_Math" alttext="1e-2" display="inline"><semantics id="S3.SS2.SSS1.p1.3.m3.1a"><mrow id="S3.SS2.SSS1.p1.3.m3.1.1" xref="S3.SS2.SSS1.p1.3.m3.1.1.cmml"><mrow id="S3.SS2.SSS1.p1.3.m3.1.1.2" xref="S3.SS2.SSS1.p1.3.m3.1.1.2.cmml"><mn id="S3.SS2.SSS1.p1.3.m3.1.1.2.2" xref="S3.SS2.SSS1.p1.3.m3.1.1.2.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S3.SS2.SSS1.p1.3.m3.1.1.2.1" xref="S3.SS2.SSS1.p1.3.m3.1.1.2.1.cmml">​</mo><mi id="S3.SS2.SSS1.p1.3.m3.1.1.2.3" xref="S3.SS2.SSS1.p1.3.m3.1.1.2.3.cmml">e</mi></mrow><mo id="S3.SS2.SSS1.p1.3.m3.1.1.1" xref="S3.SS2.SSS1.p1.3.m3.1.1.1.cmml">−</mo><mn id="S3.SS2.SSS1.p1.3.m3.1.1.3" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.3.m3.1b"><apply id="S3.SS2.SSS1.p1.3.m3.1.1.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1"><minus id="S3.SS2.SSS1.p1.3.m3.1.1.1.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.1"></minus><apply id="S3.SS2.SSS1.p1.3.m3.1.1.2.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.2"><times id="S3.SS2.SSS1.p1.3.m3.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.2.1"></times><cn type="integer" id="S3.SS2.SSS1.p1.3.m3.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.2.2">1</cn><ci id="S3.SS2.SSS1.p1.3.m3.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.2.3">𝑒</ci></apply><cn type="integer" id="S3.SS2.SSS1.p1.3.m3.1.1.3.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.3.m3.1c">1e-2</annotation></semantics></math> (strong regularization), as described in Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-D.</p>
</div>
</section>
<section id="S3.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.2 </span>Differential Privacy</h4>

<div id="S3.SS2.SSS2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS2.SSS2.p1.1" class="ltx_p">We evaluate the two differential privacy mechanisms described in Sec. <a href="#S2.SS2" title="2.2 Differential Privacy (DP) ‣ 2 Materials and Methods ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.2</span></a> using two sites with a homogeneous data distribution of 50/50% samples per site.
In the case of the Differential Privacy-Stochastic Gradient Descent (DP-SGD), we systematically varied the noise multiplier and gradient norm parameters according to Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-E.
For the Differential Privacy Sparse Vector Technique (DP-SVT) algorithm, we varied the gradient query noise (<math id="S3.SS2.SSS2.p1.1.m1.1" class="ltx_Math" alttext="\epsilon_{1}" display="inline"><semantics id="S3.SS2.SSS2.p1.1.m1.1a"><msub id="S3.SS2.SSS2.p1.1.m1.1.1" xref="S3.SS2.SSS2.p1.1.m1.1.1.cmml"><mi id="S3.SS2.SSS2.p1.1.m1.1.1.2" xref="S3.SS2.SSS2.p1.1.m1.1.1.2.cmml">ϵ</mi><mn id="S3.SS2.SSS2.p1.1.m1.1.1.3" xref="S3.SS2.SSS2.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.1.m1.1b"><apply id="S3.SS2.SSS2.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.2">italic-ϵ</ci><cn type="integer" id="S3.SS2.SSS2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.1.m1.1c">\epsilon_{1}</annotation></semantics></math>), the gradient clipping and the portion to release (Q: percentage of model parameters shared at each communication round) as presented in Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-F.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Results and Discussion</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Communication rounds</h3>

<div id="S4.SS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.p1.1" class="ltx_p">We assess the impact of the number of communication rounds and local training epochs by training federated models up to 64 accumulated training epochs using different rounds vs. epochs configurations. The parameters changing in this experiment are: number of samples per site ( <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-A), number of samples with positive labels (Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-B) and communication frequencies (Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-C). All models are trained using the FedAvg federation strategy with no differential privacy (DP). We assessed the resulting model performance on a hold-out test set (3’236 samples) using the AUROC and AUPRC metrics. The goal of the experiment is to understand the trade-offs between communication rounds and local training epochs and to understand how to optimize these parameters for different data distributions.</p>
</div>
<figure id="S4.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F2.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2302.04208/assets/figures/results/m3/heatmap_ho_AUROC_epoch_vs_rounds.png" id="S4.F2.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="419" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F2.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2302.04208/assets/figures/results/m3/heatmap_ho_AUPRC_epoch_vs_rounds.png" id="S4.F2.2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="419" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F2.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2302.04208/assets/figures/results/m3/heatmap_he_AUROC_epoch_vs_rounds.png" id="S4.F2.3.g1" class="ltx_graphics ltx_img_landscape" width="598" height="419" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F2.4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2302.04208/assets/figures/results/m3/heatmap_he_AUPRC_epoch_vs_rounds.png" id="S4.F2.4.g1" class="ltx_graphics ltx_img_landscape" width="598" height="419" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Federated models performance - Communication rounds vs local training epochs: the models were trained in the following communication round/epoch configurations up to an accumulated 64 epochs: 32/2, 4/16, 8/8, 4/16, 2/32 on all homogeneous and heterogeneous data distributions. We used federated averaging (FedAvg) as federation strategy. Top panels: AUROC and AUPRC-based model performance on homogeneous data distributions. Bottom panels: AUROC and AUPRC-based model performance on heterogeneous data distributions.</figcaption>
</figure>
<div id="S4.SS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS1.p2.1" class="ltx_p">Figure <a href="#S4.F2" title="Figure 2 ‣ 4.1 Communication rounds ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the AUROC (red heat maps) and the AUPRC (blue heat maps) performance for federated models trained using different data distributions (x-axis) and different communication rounds / local training epochs (y-axis). The upper row of heat maps shows the federated model performance for an increasingly unbalance number of samples per site, starting from a 50/50% to a 5/95% distribution of samples. The heat maps show that the federated averaging (FedAvg) aggregation strategy can achieve similar performances (both AUROC and AUPRC) independent of the distribution of samples among sites.
The bottom row of Figure <a href="#S4.F3" title="Figure 3 ‣ 4.2.1 Homogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the same heat maps for the different heterogeneous data distributions, where the number of samples per site is kept constant, but the number of positive samples is modified, going from a 50/50% to a 5/95% split of the positive samples across the two sites. The heat maps suggest that federated averaging (FedAvg) aggregation strategy incurs performance degradation (both for AUROC and AUPRC) when the label distributions become more and more unbalanced between the two sites. Furthermore, Figure <a href="#S4.F3" title="Figure 3 ‣ 4.2.1 Homogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> bottom right panel shows that the AUPRC performance degradation is also dependent on the number of communication rounds, where setups with higher number of communication rounds scored higher results than the ones with fewer communication rounds.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Data Distributions</h3>

<div id="S4.SS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.p1.1" class="ltx_p">We performed all following federated training experiments using 8 communication rounds, and at each communication round the model was trained locally for 8 epochs (same as middle row of heat-maps in Fig. <a href="#S4.F2" title="Figure 2 ‣ 4.1 Communication rounds ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>). In general, federated models outperformed the baseline models (trained exclusively on the on-site data) on the hold-out test set, for most of the evaluated data distribution scenarios (Figure <a href="#S4.F3" title="Figure 3 ‣ 4.2.1 Homogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, <a href="#S4.F4" title="Figure 4 ‣ 4.2.2 Heterogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>).
In particular, with an increasingly unbalanced number of samples and positive label sample distributions, the performance of the baseline models significantly diverged from each other (between Site # and Site #2). Besides the federated averaging (FedAvg) aggregation strategy, we also assessed the federated proximity (FedProx) aggregation strategy with different regularization parameters <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">\mu</annotation></semantics></math> for the heterogeneous data distribution case.</p>
</div>
<section id="S4.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1 </span>Homogeneous Data Distribution</h4>

<div id="S4.SS2.SSS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS1.p1.1" class="ltx_p">In this set of experiments, we distributed the available patients between Site #1 and Site #2 according to data distribution described in Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-A, while keeping the ratio of positive to negative labels on each site constant. We used the FedAvg strategy to train the federated model. Figure <a href="#S4.F3" title="Figure 3 ‣ 4.2.1 Homogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows that the federated models outperform the locally trained baseline in almost all cases, both for the AUROC, as well as the AUPRC metric. However, Figure <a href="#S4.F3" title="Figure 3 ‣ 4.2.1 Homogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> also shows, that the best performance improvement for federated models is achieved when sites have a similar number of samples and positive labels.</p>
</div>
<figure id="S4.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F3.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2302.04208/assets/figures/results/m3/ho_auroc_r8e8_seed_2.png" id="S4.F3.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="475" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F3.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2302.04208/assets/figures/results/m3/ho_auprc_r8e8_seed_2.png" id="S4.F3.2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="475" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Federated vs. silo-based training on homogeneous data splits - model performances (AUROC and AUPRC) on a hold-out test set. Local per-site training (red and blue columns) was performed on the individual sites, while the federated training (green columns) was performed using the simulated sites described in Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. The red-dashed line displays the performance of the model trained in the optimal case scenario (all data available for training in a silo-based manner).</figcaption>
</figure>
</section>
<section id="S4.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.2 </span>Heterogeneous Data Distribution</h4>

<div id="S4.SS2.SSS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS2.p1.1" class="ltx_p">We simulated differences in label distribution between the two sites as follows: given N=100 patients with positive labels in the total dataset, we progressively shifted patients with positive labels from one site to the other. Starting with a 50:50% split between Site #1 and Site #2, we moved positive patients from Site 1 to Site 2, ending with a 5:95% split. Differences in patient counts were made up by moving negatively labeled patients from Site #2 to Site #1.</p>
</div>
<div id="S4.SS2.SSS2.p2" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS2.p2.2" class="ltx_p">The federated model was trained with both the Federated Averaging (FedAvg) and the Federated Proximity (FedProx) algorithms, with the latter being more beneficial for data scenarios with differences in label ratios. In the case of FedProx, we varied the parameter <math id="S4.SS2.SSS2.p2.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S4.SS2.SSS2.p2.1.m1.1a"><mi id="S4.SS2.SSS2.p2.1.m1.1.1" xref="S4.SS2.SSS2.p2.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p2.1.m1.1b"><ci id="S4.SS2.SSS2.p2.1.m1.1.1.cmml" xref="S4.SS2.SSS2.p2.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p2.1.m1.1c">\mu</annotation></semantics></math> (regularization parameter) according to Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-D. In this set of experiments, we used only the AUPRC metric to compare the different scenarios due to the change in label distribution between the different data distributions. The goal of this experiment is to compare the performance of two federation strategies, in particular what performance improvements can be generated by using the FedProx algorithm.
Figure <a href="#S4.F4" title="Figure 4 ‣ 4.2.2 Heterogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows, that for almost all heterogeneous data splits explored, federated proximity could further improve the performance of the federated averaging-based model. However, Figure <a href="#S4.F4" title="Figure 4 ‣ 4.2.2 Heterogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> right shows that in order to achieve this increase in performance, the model developer has to conduct a hyper-parameter search for the optimal federated proximity parameter <math id="S4.SS2.SSS2.p2.2.m2.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S4.SS2.SSS2.p2.2.m2.1a"><mi id="S4.SS2.SSS2.p2.2.m2.1.1" xref="S4.SS2.SSS2.p2.2.m2.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p2.2.m2.1b"><ci id="S4.SS2.SSS2.p2.2.m2.1.1.cmml" xref="S4.SS2.SSS2.p2.2.m2.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p2.2.m2.1c">\mu</annotation></semantics></math>.</p>
</div>
<figure id="S4.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2302.04208/assets/figures/results/m3/he_auprc_r8e8_seed_2.png" id="S4.F4.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="474" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2302.04208/assets/figures/results/m3/he_auprc_fedprox_r8e8_seed_2.png" id="S4.F4.2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="464" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Silo, Federated averaging (FedAvg) and Federated proximity (FedProx) training on heterogeneous data splits - model performance (AUPRC) on a hold-out test set. Left panel: Silo training (red and blue columns) was performed on the individual sites, while the federated training using FedAvg (green columns) was performed using the simulated sites described in Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Right panel: Federated Averaging (green columns) and federated proximity (violet columns with different transparency based on the regularization parameter <math id="S4.F4.5.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S4.F4.5.m1.1b"><mi id="S4.F4.5.m1.1.1" xref="S4.F4.5.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S4.F4.5.m1.1c"><ci id="S4.F4.5.m1.1.1.cmml" xref="S4.F4.5.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.5.m1.1d">\mu</annotation></semantics></math>). The explored data splits and choice of the <math id="S4.F4.6.m2.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S4.F4.6.m2.1b"><mi id="S4.F4.6.m2.1.1" xref="S4.F4.6.m2.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S4.F4.6.m2.1c"><ci id="S4.F4.6.m2.1.1.cmml" xref="S4.F4.6.m2.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.6.m2.1d">\mu</annotation></semantics></math> parameter are defined in Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-B,D. The performance of the model trained in the optimal case scenario (all data available for training in a silo-based manner) is displayed with a red-dashed line.</figcaption>
</figure>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2302.04208/assets/figures/results/m3/DP-SGD.png" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="270" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Differential Privacy – Stochastic Gradient Descent: AUROC performance of the federated model on a hold-out test set for three different gradient norms (panels A-C) and different noise multipliers (individual lines within each panel).</figcaption>
</figure>
</section>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Differential Privacy</h3>

<div id="S4.SS3.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.p1.1" class="ltx_p">As part of the parametric study, we also evaluated two different differential privacy (DP) techniques. While the DP-Stochastic Gradient Descent (DP-SGD) mechanism directly perturbs the model weights during each back-propagation step, the DP-Sparse Vector Technique (DP-SVT) only applies perturbation to the trained model weight prior to communicating them to the server using selective sharing and the sparse vector technique (SVT).
The key motivation for our choice of these techniques originates from the problems that each technique solves, the former approach allows for a lower privacy cost (due to a tighter estimation of its privacy cost upper bound), while the latter provides flexibility to developers as it can be used with any type of model (beyond neural networks) and can be applied post-training (beneficial for open platforms, where developers can write their own models and it’s difficult to enforce the use of DP-SGD).</p>
</div>
<section id="S4.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.1 </span>Stochastic Gradient Descent (DP-SGD)</h4>

<div id="S4.SS3.SSS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.SSS1.p1.1" class="ltx_p">We evaluated the stochastic gradient descent (SGD)-based differential privacy mechanism by using a homogeneous data distribution with 50:50% data allocation at each site (Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-A, 50-50), as well as a training procedure consisting of 8 local training epochs and 8 communication rounds (Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-C, R8E8). Furthermore, we varied the maximal gradient norm (clipping parameter) and noise multiplier parameter (Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-E) of the differential privacy mechanism. The goal of this experiment is to understand how the gradient norm and noise multiplier interact and whether optimal combinations of the parameters can be achieved.</p>
</div>
<div id="S4.SS3.SSS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS3.SSS1.p2.1" class="ltx_p">Figure <a href="#S4.F5" title="Figure 5 ‣ 4.2.2 Heterogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows that independent of the gradient norm used, larger noise multipliers result in lower model performance and slower model convergence. The different gradient norms tested (Figure <a href="#S4.F5" title="Figure 5 ‣ 4.2.2 Heterogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> A-C) influence the final models performance; when a large gradient norm is used (e.g., <math id="S4.SS3.SSS1.p2.1.m1.1" class="ltx_Math" alttext="1.0" display="inline"><semantics id="S4.SS3.SSS1.p2.1.m1.1a"><mn id="S4.SS3.SSS1.p2.1.m1.1.1" xref="S4.SS3.SSS1.p2.1.m1.1.1.cmml">1.0</mn><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p2.1.m1.1b"><cn type="float" id="S4.SS3.SSS1.p2.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p2.1.m1.1.1">1.0</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p2.1.m1.1c">1.0</annotation></semantics></math>) the model can achieve performance levels similar to federated models trained without differential privacy (for low noise multiplier levels).</p>
</div>
</section>
<section id="S4.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.2 </span>Sparse Vector Technique (DP-SVT)</h4>

<div id="S4.SS3.SSS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.SSS2.p1.1" class="ltx_p">We evaluated the sparse vector technique (SVT)-based differential privacy mechanism by using a homogeneous data distribution with 50:50% data allocation at each site (Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-A, 50-50), as well as a training procedure consisting of 8 local training epochs and 8 communication rounds (Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-C, R8E8). Furthermore, we varied the <math id="S4.SS3.SSS2.p1.1.m1.1" class="ltx_Math" alttext="\varepsilon_{1}" display="inline"><semantics id="S4.SS3.SSS2.p1.1.m1.1a"><msub id="S4.SS3.SSS2.p1.1.m1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.cmml"><mi id="S4.SS3.SSS2.p1.1.m1.1.1.2" xref="S4.SS3.SSS2.p1.1.m1.1.1.2.cmml">ε</mi><mn id="S4.SS3.SSS2.p1.1.m1.1.1.3" xref="S4.SS3.SSS2.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.1.m1.1b"><apply id="S4.SS3.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.1.m1.1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p1.1.m1.1.1.2.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S4.SS3.SSS2.p1.1.m1.1.1.3.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.1.m1.1c">\varepsilon_{1}</annotation></semantics></math> noise parameter, gradient clipping, and the percentage of model parameters shared between the local and the federated site at each communication round (Q) according to Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-F) of the DP-SVT algorithm.</p>
</div>
<div id="S4.SS3.SSS2.p2" class="ltx_para ltx_noindent">
<p id="S4.SS3.SSS2.p2.1" class="ltx_p">Figure <a href="#S4.F6" title="Figure 6 ‣ 4.3.2 Sparse Vector Technique (DP-SVT) ‣ 4.3 Differential Privacy ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> shows that sharing larger number of model parameters results in higher performance (red, violet and brown curves). Interestingly, increases in noise parameter (e1) did not result in lower model performance across the different parameter settings. Gradient clipping resulted in slightly lower model performance.</p>
</div>
<figure id="S4.F6" class="ltx_figure"><img src="/html/2302.04208/assets/figures/results/m3/DP-SVT.png" id="S4.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="263" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Differential Privacy – Sparse Vector Technique: Performance of the federated model on a hold-out test set. Panel A shows the performance convergence curve for different percentages of model parameters shared at each communication round (Q) and different noise parameters (<math id="S4.F6.2.m1.1" class="ltx_Math" alttext="\varepsilon_{1}" display="inline"><semantics id="S4.F6.2.m1.1b"><msub id="S4.F6.2.m1.1.1" xref="S4.F6.2.m1.1.1.cmml"><mi id="S4.F6.2.m1.1.1.2" xref="S4.F6.2.m1.1.1.2.cmml">ε</mi><mn id="S4.F6.2.m1.1.1.3" xref="S4.F6.2.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.F6.2.m1.1c"><apply id="S4.F6.2.m1.1.1.cmml" xref="S4.F6.2.m1.1.1"><csymbol cd="ambiguous" id="S4.F6.2.m1.1.1.1.cmml" xref="S4.F6.2.m1.1.1">subscript</csymbol><ci id="S4.F6.2.m1.1.1.2.cmml" xref="S4.F6.2.m1.1.1.2">𝜀</ci><cn type="integer" id="S4.F6.2.m1.1.1.3.cmml" xref="S4.F6.2.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F6.2.m1.1d">\varepsilon_{1}</annotation></semantics></math>) with gradient clipping enabled, while panel B shows the same set of parameters with gradient clipping disabled.</figcaption>
</figure>
</section>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Comparison</h3>

<div id="S4.SS4.p1" class="ltx_para ltx_noindent">
<p id="S4.SS4.p1.1" class="ltx_p">We compared the performance (AUROC) and privacy leakage (measured by the parameter <math id="S4.SS4.p1.1.m1.1" class="ltx_Math" alttext="\varepsilon" display="inline"><semantics id="S4.SS4.p1.1.m1.1a"><mi id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml">ε</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">𝜀</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">\varepsilon</annotation></semantics></math>) for the two presented differential privacy mechanisms (DP-SGD and DP-SVT), by using a homogeneous data distribution with 50:50% data allocation at each site (Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-A, 50-50), as well as a training procedure consisting of 8 local training epochs and 8 communication rounds (Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-C, R8E8). We used the federated averaging (FedAvg) strategy to train the federated model.
Furthermore, for each differential privacy mechanisms we varied its mechanism specific parameters according to Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-E for DP-SGD and Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Experimental Setup ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>-F for DP-SVT.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para ltx_noindent">
<p id="S4.SS4.p2.3" class="ltx_p">Figure <a href="#S4.F7" title="Figure 7 ‣ 4.4 Comparison ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows the trade-off in performance when choosing larger noise multipliers (DP-SGD) and higher <math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="1/\varepsilon_{1}" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><mrow id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml"><mn id="S4.SS4.p2.1.m1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.2.cmml">1</mn><mo id="S4.SS4.p2.1.m1.1.1.1" xref="S4.SS4.p2.1.m1.1.1.1.cmml">/</mo><msub id="S4.SS4.p2.1.m1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.3.cmml"><mi id="S4.SS4.p2.1.m1.1.1.3.2" xref="S4.SS4.p2.1.m1.1.1.3.2.cmml">ε</mi><mn id="S4.SS4.p2.1.m1.1.1.3.3" xref="S4.SS4.p2.1.m1.1.1.3.3.cmml">1</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><apply id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1"><divide id="S4.SS4.p2.1.m1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1"></divide><cn type="integer" id="S4.SS4.p2.1.m1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.2">1</cn><apply id="S4.SS4.p2.1.m1.1.1.3.cmml" xref="S4.SS4.p2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.1.1.3.1.cmml" xref="S4.SS4.p2.1.m1.1.1.3">subscript</csymbol><ci id="S4.SS4.p2.1.m1.1.1.3.2.cmml" xref="S4.SS4.p2.1.m1.1.1.3.2">𝜀</ci><cn type="integer" id="S4.SS4.p2.1.m1.1.1.3.3.cmml" xref="S4.SS4.p2.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">1/\varepsilon_{1}</annotation></semantics></math> (DP-SVT). Particularly of interest is the upper bound estimation of the privacy leakage (right y-axis), which shows that the privacy leakage and the noise multiplier have a roughly inverse linear relationship (in log-log scaled diagram). Therefore, choosing a larger noise multiplier can lead to a small AUROC performance decrease, while at the same time reducing the privacy leakage by orders of magnitude (Figure <a href="#S4.F7" title="Figure 7 ‣ 4.4 Comparison ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> - Panel left). The same can be observed for the DP-SVT algorithm and its corresponding <math id="S4.SS4.p2.2.m2.1" class="ltx_Math" alttext="\varepsilon_{1}" display="inline"><semantics id="S4.SS4.p2.2.m2.1a"><msub id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml"><mi id="S4.SS4.p2.2.m2.1.1.2" xref="S4.SS4.p2.2.m2.1.1.2.cmml">ε</mi><mn id="S4.SS4.p2.2.m2.1.1.3" xref="S4.SS4.p2.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><apply id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS4.p2.2.m2.1.1.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2">𝜀</ci><cn type="integer" id="S4.SS4.p2.2.m2.1.1.3.cmml" xref="S4.SS4.p2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">\varepsilon_{1}</annotation></semantics></math> parameter (Figure <a href="#S4.F7" title="Figure 7 ‣ 4.4 Comparison ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> - Panel right). The AUROC performance decreases slightly when decreasing <math id="S4.SS4.p2.3.m3.1" class="ltx_Math" alttext="\varepsilon_{1}" display="inline"><semantics id="S4.SS4.p2.3.m3.1a"><msub id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml"><mi id="S4.SS4.p2.3.m3.1.1.2" xref="S4.SS4.p2.3.m3.1.1.2.cmml">ε</mi><mn id="S4.SS4.p2.3.m3.1.1.3" xref="S4.SS4.p2.3.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><apply id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.3.m3.1.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS4.p2.3.m3.1.1.2.cmml" xref="S4.SS4.p2.3.m3.1.1.2">𝜀</ci><cn type="integer" id="S4.SS4.p2.3.m3.1.1.3.cmml" xref="S4.SS4.p2.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">\varepsilon_{1}</annotation></semantics></math>, while at the same time the privacy leakage decreases by two orders of magnitude.</p>
</div>
<figure id="S4.F7" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F7.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2302.04208/assets/figures/results/m3/dp-sgd_noise_vs_auroc_r8e8_seed_2.png" id="S4.F7.1.g1" class="ltx_graphics ltx_img_square" width="598" height="531" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F7.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2302.04208/assets/figures/results/m3/dp-svt_e1_vs_auroc_r8e8_seed_2.png" id="S4.F7.2.g1" class="ltx_graphics ltx_img_square" width="598" height="527" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Differential Privacy - Performance vs. privacy leakage trade-off. Left panel: various noise multipliers and gradient clipping parameters for DP-SGD. Right panel: various <math id="S4.F7.4.m1.1" class="ltx_Math" alttext="1/\varepsilon_{1}" display="inline"><semantics id="S4.F7.4.m1.1b"><mrow id="S4.F7.4.m1.1.1" xref="S4.F7.4.m1.1.1.cmml"><mn id="S4.F7.4.m1.1.1.2" xref="S4.F7.4.m1.1.1.2.cmml">1</mn><mo id="S4.F7.4.m1.1.1.1" xref="S4.F7.4.m1.1.1.1.cmml">/</mo><msub id="S4.F7.4.m1.1.1.3" xref="S4.F7.4.m1.1.1.3.cmml"><mi id="S4.F7.4.m1.1.1.3.2" xref="S4.F7.4.m1.1.1.3.2.cmml">ε</mi><mn id="S4.F7.4.m1.1.1.3.3" xref="S4.F7.4.m1.1.1.3.3.cmml">1</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.F7.4.m1.1c"><apply id="S4.F7.4.m1.1.1.cmml" xref="S4.F7.4.m1.1.1"><divide id="S4.F7.4.m1.1.1.1.cmml" xref="S4.F7.4.m1.1.1.1"></divide><cn type="integer" id="S4.F7.4.m1.1.1.2.cmml" xref="S4.F7.4.m1.1.1.2">1</cn><apply id="S4.F7.4.m1.1.1.3.cmml" xref="S4.F7.4.m1.1.1.3"><csymbol cd="ambiguous" id="S4.F7.4.m1.1.1.3.1.cmml" xref="S4.F7.4.m1.1.1.3">subscript</csymbol><ci id="S4.F7.4.m1.1.1.3.2.cmml" xref="S4.F7.4.m1.1.1.3.2">𝜀</ci><cn type="integer" id="S4.F7.4.m1.1.1.3.3.cmml" xref="S4.F7.4.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F7.4.m1.1d">1/\varepsilon_{1}</annotation></semantics></math> and gradient clipping parameters for DP-SVT.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Discussion &amp; Conclusion</h2>

<div id="S5.p1" class="ltx_para ltx_noindent">
<p id="S5.p1.1" class="ltx_p">We presented a trade-off analysis of the different parameters that influence the final performance of models trained on the open-source MIMIC-III dataset using federated learning algorithms, and differential privacy techniques.</p>
</div>
<div id="S5.p2" class="ltx_para ltx_noindent">
<p id="S5.p2.1" class="ltx_p">In Section <a href="#S4.SS2.SSS1" title="4.2.1 Homogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.1</span></a>, we presented the performance of federated models trained using two separate sites. Our results (Fig. <a href="#S4.F3" title="Figure 3 ‣ 4.2.1 Homogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>) demonstrate a significant performance improvement in AUROC and AUPRC metrics for models trained using federated averaging (FedAvg) compared to models trained on local data (i.e. in silos training). Overall, the performance of the federated models is on average slightly below the performance of a model trained on the full dataset in one central location. The presented results are in line with the ones reported by Budrionis et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> on their performance analysis of the PySyft federated learning framework on the MIMIC-III dataset. They used 32 separate sites with same number of samples per site, and achieved a federated model performance close to a model trained on the full dataset, as shown in our experiments as well.</p>
</div>
<div id="S5.p3" class="ltx_para ltx_noindent">
<p id="S5.p3.2" class="ltx_p">In Section <a href="#S4.SS2.SSS2" title="4.2.2 Heterogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2.2</span></a> we showed the performance gains that can be achieved using FedProx compared to FedAvg when the data is distributed heterogeneously across the federated sites / nodes. These results are in line with the work by Li et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, which compared the training loss of FedAvg with FedProx and showed that the proximity term improves performance by stabilizing the training loss over different communication rounds. This is further highlighted in our work in Fig. <a href="#S4.F4" title="Figure 4 ‣ 4.2.2 Heterogeneous Data Distribution ‣ 4.2 Data Distributions ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, where FedProx showed to be particularly useful for cases where the data distribution across sites is highly heterogeneous. As the data distribution approaches homogeneity, FedProx performs comparable to FedAvg.
Additionally, the choice of the proximity penalization parameter <math id="S5.p3.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S5.p3.1.m1.1a"><mi id="S5.p3.1.m1.1.1" xref="S5.p3.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S5.p3.1.m1.1b"><ci id="S5.p3.1.m1.1.1.cmml" xref="S5.p3.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p3.1.m1.1c">\mu</annotation></semantics></math> plays an important role in the performance of the final federated model. Therefore, further research on per-site optimization of the proximity parameter <math id="S5.p3.2.m2.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S5.p3.2.m2.1a"><mi id="S5.p3.2.m2.1.1" xref="S5.p3.2.m2.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S5.p3.2.m2.1b"><ci id="S5.p3.2.m2.1.1.cmml" xref="S5.p3.2.m2.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p3.2.m2.1c">\mu</annotation></semantics></math> could lead to further performance improvement. Currently, a simple, yet computationally expensive strategy is to use grid-search (as we have done in our experiments) to optimize this hyper-parameter.</p>
</div>
<div id="S5.p4" class="ltx_para ltx_noindent">
<p id="S5.p4.1" class="ltx_p">Furthermore, our analysis of the training epochs versus communication rounds in Fig. <a href="#S4.F2" title="Figure 2 ‣ 4.1 Communication rounds ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, highlights the need for a strategy to select these two hyper-parameters before the model training starts because of their influence on the final models performance. A conservative choice of the parameters can be set by
choosing a high number of communication rounds and a relatively small number of local training epochs, as this would avoid divergence of the model parameters at the different sites during the local training procedure.</p>
</div>
<div id="S5.p5" class="ltx_para ltx_noindent">
<p id="S5.p5.1" class="ltx_p">Lastly, we compared the performance of federated models trained with two separate differential privacy techniques aimed at reducing the privacy leakage through model memorization or adversarial attacks (in Section <a href="#S4.SS3" title="4.3 Differential Privacy ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>). The results suggest that using differential privacy would lead to a reduction in final models performance. However, we observe a higher noise injection leads to a relatively small reduction in model performance of ca. 5%, while reducing the privacy leakage by up to 6 orders of magnitude at the same time (Fig. <a href="#S4.F7" title="Figure 7 ‣ 4.4 Comparison ‣ 4 Results and Discussion ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>).</p>
</div>
<div id="S5.p6" class="ltx_para ltx_noindent">
<p id="S5.p6.1" class="ltx_p">Further work is required for quantifying the privacy risk for a single patient record when using differential privacy strategies. As of writing, the authors are not aware of legislation addressing the privacy risks deriving from sharing models trained on private data.</p>
<div class="ltx_pagination ltx_role_newpage"></div>
</div>
<section id="S5.SSx1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">Competing interests</h3>

<div id="S5.SSx1.p1" class="ltx_para ltx_noindent">
<p id="S5.SSx1.p1.1" class="ltx_p">The authors declare that they have no competing interests.</p>
</div>
</section>
<section id="S5.SSx2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">Acknowledgements</h3>

<div id="S5.SSx2.p1" class="ltx_para ltx_noindent">
<p id="S5.SSx2.p1.1" class="ltx_p">This work was funded by the Swiss Innovation Agency (Innosuisse) through the grant Nr. 42089.1.</p>
</div>
</section>
<section id="S5.SSx3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">Author’s contributions</h3>

<div id="S5.SSx3.p1" class="ltx_para ltx_noindent">
<p id="S5.SSx3.p1.1" class="ltx_p">ANH and MB contributed equally to the writing of the manuscript and to the development of the code base. FN contributed to the development of the machine learning model and training infrastructure. AA and MK provided scientific guidance, edited and reviewed the manuscript.</p>
</div>
</section>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acronyms</h2>

<div id="Sx1.p1" class="ltx_para ltx_noindent">
<table id="Sx1.p1.1" class="ltx_tabular ltx_align_middle">
<tr id="Sx1.p1.1.1" class="ltx_tr">
<td id="Sx1.p1.1.1.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.1.1.1" class="ltx_text ltx_font_bold">IID</span></td>
<td id="Sx1.p1.1.1.2" class="ltx_td ltx_align_left">Independent and identically distributed</td>
</tr>
<tr id="Sx1.p1.1.2" class="ltx_tr">
<td id="Sx1.p1.1.2.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.2.1.1" class="ltx_text ltx_font_bold">FL</span></td>
<td id="Sx1.p1.1.2.2" class="ltx_td ltx_align_left">Federated Learning</td>
</tr>
<tr id="Sx1.p1.1.3" class="ltx_tr">
<td id="Sx1.p1.1.3.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.3.1.1" class="ltx_text ltx_font_bold">DP</span></td>
<td id="Sx1.p1.1.3.2" class="ltx_td ltx_align_left">Differential Privacy</td>
</tr>
<tr id="Sx1.p1.1.4" class="ltx_tr">
<td id="Sx1.p1.1.4.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.4.1.1" class="ltx_text ltx_font_bold">DP-SGD</span></td>
<td id="Sx1.p1.1.4.2" class="ltx_td ltx_align_left">Stochastic Gradient Descent Differential Privacy</td>
</tr>
<tr id="Sx1.p1.1.5" class="ltx_tr">
<td id="Sx1.p1.1.5.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.5.1.1" class="ltx_text ltx_font_bold">DP-SVT</span></td>
<td id="Sx1.p1.1.5.2" class="ltx_td ltx_align_left">Sparse Vector Technique Differential Privacy</td>
</tr>
<tr id="Sx1.p1.1.6" class="ltx_tr">
<td id="Sx1.p1.1.6.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.6.1.1" class="ltx_text ltx_font_bold">SVT</span></td>
<td id="Sx1.p1.1.6.2" class="ltx_td ltx_align_left">Sparse Vector Technique</td>
</tr>
<tr id="Sx1.p1.1.7" class="ltx_tr">
<td id="Sx1.p1.1.7.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.7.1.1" class="ltx_text ltx_font_bold">SGD</span></td>
<td id="Sx1.p1.1.7.2" class="ltx_td ltx_align_left">Stochastic Gradient Descent</td>
</tr>
<tr id="Sx1.p1.1.8" class="ltx_tr">
<td id="Sx1.p1.1.8.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.8.1.1" class="ltx_text ltx_font_bold">ReLU</span></td>
<td id="Sx1.p1.1.8.2" class="ltx_td ltx_align_left">Rectified Linear Activation Unit</td>
</tr>
<tr id="Sx1.p1.1.9" class="ltx_tr">
<td id="Sx1.p1.1.9.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.9.1.1" class="ltx_text ltx_font_bold">SVRG</span></td>
<td id="Sx1.p1.1.9.2" class="ltx_td ltx_align_left">Stochastic Variance Reduced Gradient</td>
</tr>
<tr id="Sx1.p1.1.10" class="ltx_tr">
<td id="Sx1.p1.1.10.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.10.1.1" class="ltx_text ltx_font_bold">FSVRG</span></td>
<td id="Sx1.p1.1.10.2" class="ltx_td ltx_align_left">Federated Stochastic Variance Reduced Gradient</td>
</tr>
<tr id="Sx1.p1.1.11" class="ltx_tr">
<td id="Sx1.p1.1.11.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.11.1.1" class="ltx_text ltx_font_bold">LSTM</span></td>
<td id="Sx1.p1.1.11.2" class="ltx_td ltx_align_left">Long-Short Term Memory</td>
</tr>
<tr id="Sx1.p1.1.12" class="ltx_tr">
<td id="Sx1.p1.1.12.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.12.1.1" class="ltx_text ltx_font_bold">ROC</span></td>
<td id="Sx1.p1.1.12.2" class="ltx_td ltx_align_left">Receiver Operating Characteristic</td>
</tr>
<tr id="Sx1.p1.1.13" class="ltx_tr">
<td id="Sx1.p1.1.13.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.13.1.1" class="ltx_text ltx_font_bold">PR</span></td>
<td id="Sx1.p1.1.13.2" class="ltx_td ltx_align_left">Precision-Recall</td>
</tr>
<tr id="Sx1.p1.1.14" class="ltx_tr">
<td id="Sx1.p1.1.14.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.14.1.1" class="ltx_text ltx_font_bold">AUC-ROC</span></td>
<td id="Sx1.p1.1.14.2" class="ltx_td ltx_align_left">Area Under the Receiver Operating Characteristics Curve</td>
</tr>
<tr id="Sx1.p1.1.15" class="ltx_tr">
<td id="Sx1.p1.1.15.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.15.1.1" class="ltx_text ltx_font_bold">AUROC</span></td>
<td id="Sx1.p1.1.15.2" class="ltx_td ltx_align_left">Equivalent to AUC-ROC</td>
</tr>
<tr id="Sx1.p1.1.16" class="ltx_tr">
<td id="Sx1.p1.1.16.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.16.1.1" class="ltx_text ltx_font_bold">AUC-PR</span></td>
<td id="Sx1.p1.1.16.2" class="ltx_td ltx_align_left">Area under the Precision Recall Curve</td>
</tr>
<tr id="Sx1.p1.1.17" class="ltx_tr">
<td id="Sx1.p1.1.17.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.17.1.1" class="ltx_text ltx_font_bold">AUPRC</span></td>
<td id="Sx1.p1.1.17.2" class="ltx_td ltx_align_left">Equivalent to AUC-PR</td>
</tr>
<tr id="Sx1.p1.1.18" class="ltx_tr">
<td id="Sx1.p1.1.18.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.18.1.1" class="ltx_text ltx_font_bold">RMSE</span></td>
<td id="Sx1.p1.1.18.2" class="ltx_td ltx_align_left">Root mean-square error</td>
</tr>
<tr id="Sx1.p1.1.19" class="ltx_tr">
<td id="Sx1.p1.1.19.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.19.1.1" class="ltx_text ltx_font_bold">MAE</span></td>
<td id="Sx1.p1.1.19.2" class="ltx_td ltx_align_left">Mean absolute error</td>
</tr>
<tr id="Sx1.p1.1.20" class="ltx_tr">
<td id="Sx1.p1.1.20.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.20.1.1" class="ltx_text ltx_font_bold">NLL</span></td>
<td id="Sx1.p1.1.20.2" class="ltx_td ltx_align_left">Negative Log-Likelihood</td>
</tr>
<tr id="Sx1.p1.1.21" class="ltx_tr">
<td id="Sx1.p1.1.21.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.21.1.1" class="ltx_text ltx_font_bold">ICD-10</span></td>
<td id="Sx1.p1.1.21.2" class="ltx_td ltx_align_left">International Classification of Disease (version 10)</td>
</tr>
<tr id="Sx1.p1.1.22" class="ltx_tr">
<td id="Sx1.p1.1.22.1" class="ltx_td ltx_align_left"><span id="Sx1.p1.1.22.1.1" class="ltx_text ltx_font_bold">MIMIC-III</span></td>
<td id="Sx1.p1.1.22.2" class="ltx_td ltx_align_left">Medical Information Mart for Intensive Care III</td>
</tr>
</table>
<div class="ltx_pagination ltx_role_newpage"></div>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Parliament", E.:
General Data Protection Regulation (GDPR)
(2016).
<a target="_blank" href="https://gdpr-info.eu/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://gdpr-info.eu/</a>


</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
States", U.:
Health Insurance Portability and Accountability Act of 1996 (HIPAA).
U.S. Dept. of Labor, Employee Benefits Security Administration
(1996).
<a target="_blank" href="https://www.govinfo.gov/app/details/PLAW-104publ191/related" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.govinfo.gov/app/details/PLAW-104publ191/related</a>


</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
McMahan, H.B.,
Moore, E.,
Ramage, D.,
Hampson, S.,
y Arcas, B.A.:
Communication-efficient learning of deep networks from decentralized data
(2016)


</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Konečný, J.,
McMahan, H.B.,
Ramage, D.,
Richtárik, P.:
Federated optimization: Distributed machine learning for on-device intelligence
(2016)


</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Li, T.,
Sahu, A.K.,
Zaheer, M.,
Sanjabi, M.,
Talwalkar, A.,
Smith, V.:
Federated optimization in heterogeneous networks
(2018)


</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Melis, L.,
Song, C.,
Cristofaro, E.D.,
Shmatikov, V.:
Exploiting unintended feature leakage in collaborative learning
(2018)


</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Geiping, J.,
Bauermeister, H.,
Dröge, H.,
Moeller, M.:
Inverting gradients – how easy is it to break privacy in federated learning?
(2020)


</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Boenisch, F.,
Dziedzic, A.,
Schuster, R.,
Shamsabadi, A.S.,
Shumailov, I.,
Papernot, N.:
When the curious abandon honesty: Federated learning is not private
(2021)


</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Dwork, C.,
Roth, A.:
The algorithmic foundations of differential privacy.
Foundations and Trends in Theoretical Computer Science
<span id="bib.bib9.1.1" class="ltx_text ltx_font_bold">9</span>,
211–487
(2013).
doi:<span id="bib.bib9.2.2" class="ltx_text ltx_font_sansserif">10.1561/0400000042</span>


</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Abadi, M.,
McMahan, H.B.,
Chu, A.,
Mironov, I.,
Zhang, L.,
Goodfellow, I.,
Talwar, K.:
Deep learning with differential privacy,
vol. 24-28-October-2016,
pp. 308–318.
Association for Computing Machinery, ???
(2016).
doi:<span id="bib.bib10.1.1" class="ltx_text ltx_font_sansserif">10.1145/2976749.2978318</span>


</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Li, W.,
Milletarì, F.,
Xu, D.,
Rieke, N.,
Hancox, J.,
Zhu, W.,
Baust, M.,
Cheng, Y.,
Ourselin, S.,
Cardoso, M.J.,
Feng, A.:
Privacy-preserving federated brain tumour segmentation
(2019)


</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Lyu, M.,
Su, D.,
Li, N.:
Understanding the sparse vector technique for differential privacy,
pp. 637–648
(2017).
doi:<span id="bib.bib12.1.1" class="ltx_text ltx_font_sansserif">10.14778/3055330.3055331</span>


</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Johnson, A.E.W.,
Pollard, T.J.,
Shen, L.,
Lehman, L.W.H.,
Feng, M.,
Ghassemi, M.,
Moody, B.,
Szolovits, P.,
Celi, L.A.,
Mark, R.G.:
Mimic-iii, a freely accessible critical care database.
Scientific Data
<span id="bib.bib13.1.1" class="ltx_text ltx_font_bold">3</span>
(2016).
doi:<span id="bib.bib13.2.2" class="ltx_text ltx_font_sansserif">10.1038/sdata.2016.35</span>


</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Harutyunyan, H.,
Khachatrian, H.,
Kale, D.C.,
Steeg, G.V.,
Galstyan, A.:
Multitask learning and benchmarking with clinical time series data.
Scientific Data
<span id="bib.bib14.1.1" class="ltx_text ltx_font_bold">6</span>
(2019).
doi:<span id="bib.bib14.2.2" class="ltx_text ltx_font_sansserif">10.1038/s41597-019-0103-9</span>


</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Sharma, P.,
Shamout, F.E.,
Clifton, D.A.:
Preserving patient privacy while training a predictive model of in-hospital
mortality
(2019)


</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Lee, G.H.,
Shin, S.Y.:
Federated learning on clinical benchmark data: Performance assessment.
Journal of Medical Internet Research
<span id="bib.bib16.1.1" class="ltx_text ltx_font_bold">22</span>
(2020).
doi:<span id="bib.bib16.2.2" class="ltx_text ltx_font_sansserif">10.2196/20891</span>


</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Budrionis, A.,
Miara, M.,
Miara, P.,
Wilk, S.,
Bellika, J.G.:
Benchmarking pysyft federated learning framework on mimic-iii
dataset.
IEEE Access
(2021).
doi:<span id="bib.bib17.1.1" class="ltx_text ltx_font_sansserif">10.1109/ACCESS.2021.3105929</span>


</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Sadilek, A.,
Liu, L.,
Nguyen, D.,
Kamruzzaman, M.,
Serghiou, S.,
Rader, B.,
Ingerman, A.,
Mellem, S.,
Kairouz, P.,
Nsoesie, E.O.,
MacFarlane, J.,
Vullikanti, A.,
Marathe, M.,
Eastham, P.,
Brownstein, J.S.,
y. Arcas, B.A.,
Howell, M.D.,
Hernandez, J.:
Privacy-first health research with federated learning.
npj Digital Medicine
<span id="bib.bib18.1.1" class="ltx_text ltx_font_bold">4</span>
(2021).
doi:<span id="bib.bib18.2.2" class="ltx_text ltx_font_sansserif">10.1038/s41746-021-00489-2</span>


</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Choudhury, O.,
Gkoulalas-Divanis, A.,
Salonidis, T.,
Sylla, I.,
Park, Y.,
Hsu, G.,
Das, A.:
Differential privacy-enabled federated learning for sensitive health data
(2019)


</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Hochreiter, S.,
Schmidhuber, J.:
Long short-term memory.
Neural Computation
<span id="bib.bib20.1.1" class="ltx_text ltx_font_bold">9</span>,
1735–1780
(1997)


</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Yin, X.,
Zhu, Y.,
Hu, J.:
A comprehensive survey of privacy-preserving federated learning: A
taxonomy, review, and future directions,
vol. 54.
Association for Computing Machinery, ???
(2021).
doi:<span id="bib.bib21.1.1" class="ltx_text ltx_font_sansserif">10.1145/3460427</span>


</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Opacus for PyTorch library.
<a target="_blank" href="https://opacus.ai/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://opacus.ai/</a>


</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
TensorFlow Privacy.
<a target="_blank" href="https://github.com/tensorflow/privacy" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/tensorflow/privacy</a>


</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
of Physicians, R.C.,
of glasgow, S.:
Glasgow coma scale: Do it this way


</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Kingma, D.P.,
Ba, J.:
Adam: A method for stochastic optimization
(2014)


</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Parametric Study</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Federated proximity</h3>

<div id="A1.SS1.p1" class="ltx_para ltx_noindent">
<p id="A1.SS1.p1.2" class="ltx_p">Figure <a href="#A1.F8" title="Figure 8 ‣ A.1 Federated proximity ‣ Appendix A Parametric Study ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> shows that larger values of the proximity parameter <math id="A1.SS1.p1.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="A1.SS1.p1.1.m1.1a"><mi id="A1.SS1.p1.1.m1.1.1" xref="A1.SS1.p1.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.1.m1.1b"><ci id="A1.SS1.p1.1.m1.1.1.cmml" xref="A1.SS1.p1.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.1.m1.1c">\mu</annotation></semantics></math> (larger than 1e-3) have a strong influence on the performance converge of the federated model. In particular, for a choice of <math id="A1.SS1.p1.2.m2.1" class="ltx_Math" alttext="\mu=" display="inline"><semantics id="A1.SS1.p1.2.m2.1a"><mrow id="A1.SS1.p1.2.m2.1.1" xref="A1.SS1.p1.2.m2.1.1.cmml"><mi id="A1.SS1.p1.2.m2.1.1.2" xref="A1.SS1.p1.2.m2.1.1.2.cmml">μ</mi><mo id="A1.SS1.p1.2.m2.1.1.1" xref="A1.SS1.p1.2.m2.1.1.1.cmml">=</mo><mi id="A1.SS1.p1.2.m2.1.1.3" xref="A1.SS1.p1.2.m2.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.2.m2.1b"><apply id="A1.SS1.p1.2.m2.1.1.cmml" xref="A1.SS1.p1.2.m2.1.1"><eq id="A1.SS1.p1.2.m2.1.1.1.cmml" xref="A1.SS1.p1.2.m2.1.1.1"></eq><ci id="A1.SS1.p1.2.m2.1.1.2.cmml" xref="A1.SS1.p1.2.m2.1.1.2">𝜇</ci><csymbol cd="latexml" id="A1.SS1.p1.2.m2.1.1.3.cmml" xref="A1.SS1.p1.2.m2.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.2.m2.1c">\mu=</annotation></semantics></math>1e-1, the proximity term in the loss calculation is hindering the training procedure, as we see that the performance is not improving and remains at its initial level.</p>
</div>
<div id="A1.SS1.p2" class="ltx_para ltx_noindent">
<p id="A1.SS1.p2.3" class="ltx_p">Figure <a href="#A1.F9" title="Figure 9 ‣ A.1 Federated proximity ‣ Appendix A Parametric Study ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> confirms this observation, by showing the magnitude of the local model weight changes in-between communication rounds. With increasing values of <math id="A1.SS1.p2.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="A1.SS1.p2.1.m1.1a"><mi id="A1.SS1.p2.1.m1.1.1" xref="A1.SS1.p2.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.1.m1.1b"><ci id="A1.SS1.p2.1.m1.1.1.cmml" xref="A1.SS1.p2.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.1.m1.1c">\mu</annotation></semantics></math> the magnitude of the weight changes is impacted, up to the point where it converges towards <math id="A1.SS1.p2.2.m2.1" class="ltx_Math" alttext="0" display="inline"><semantics id="A1.SS1.p2.2.m2.1a"><mn id="A1.SS1.p2.2.m2.1.1" xref="A1.SS1.p2.2.m2.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.2.m2.1b"><cn type="integer" id="A1.SS1.p2.2.m2.1.1.cmml" xref="A1.SS1.p2.2.m2.1.1">0</cn></annotation-xml></semantics></math> for federated models trained using a proximity parameters <math id="A1.SS1.p2.3.m3.1" class="ltx_Math" alttext="\mu=" display="inline"><semantics id="A1.SS1.p2.3.m3.1a"><mrow id="A1.SS1.p2.3.m3.1.1" xref="A1.SS1.p2.3.m3.1.1.cmml"><mi id="A1.SS1.p2.3.m3.1.1.2" xref="A1.SS1.p2.3.m3.1.1.2.cmml">μ</mi><mo id="A1.SS1.p2.3.m3.1.1.1" xref="A1.SS1.p2.3.m3.1.1.1.cmml">=</mo><mi id="A1.SS1.p2.3.m3.1.1.3" xref="A1.SS1.p2.3.m3.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.3.m3.1b"><apply id="A1.SS1.p2.3.m3.1.1.cmml" xref="A1.SS1.p2.3.m3.1.1"><eq id="A1.SS1.p2.3.m3.1.1.1.cmml" xref="A1.SS1.p2.3.m3.1.1.1"></eq><ci id="A1.SS1.p2.3.m3.1.1.2.cmml" xref="A1.SS1.p2.3.m3.1.1.2">𝜇</ci><csymbol cd="latexml" id="A1.SS1.p2.3.m3.1.1.3.cmml" xref="A1.SS1.p2.3.m3.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.3.m3.1c">\mu=</annotation></semantics></math>1e-1. The saw-tooth pattern visible in Figure <a href="#A1.F9" title="Figure 9 ‣ A.1 Federated proximity ‣ Appendix A Parametric Study ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> is expected, as the local model weights are expected to diverge from the federated model weights during local training. Upon receiving the new federated model weights, the magnitude of the difference resets to a lower level.</p>
</div>
<div id="A1.SS1.p3" class="ltx_para ltx_noindent">
<p id="A1.SS1.p3.1" class="ltx_p">Figure <a href="#A1.F8" title="Figure 8 ‣ A.1 Federated proximity ‣ Appendix A Parametric Study ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, <a href="#A1.F9" title="Figure 9 ‣ A.1 Federated proximity ‣ Appendix A Parametric Study ‣ Exploratory Analysis of Federated Learning Methods with Differential Privacy on MIMIC-III" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> reinforce the recommendation that a hyper-parameter search for the parameter <math id="A1.SS1.p3.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="A1.SS1.p3.1.m1.1a"><mi id="A1.SS1.p3.1.m1.1.1" xref="A1.SS1.p3.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p3.1.m1.1b"><ci id="A1.SS1.p3.1.m1.1.1.cmml" xref="A1.SS1.p3.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p3.1.m1.1c">\mu</annotation></semantics></math> is required during federated training to achieve optimal results.</p>
</div>
<figure id="A1.F8" class="ltx_figure"><img src="/html/2302.04208/assets/figures/results/m3/he_fedprox_mu_dependency_r8e8_seed_2.png" id="A1.F8.g1" class="ltx_graphics ltx_centering ltx_img_square" width="299" height="296" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>The convergence behavior of the federated learning model is strongly influenced by the choice of the parameter <math id="A1.F8.2.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="A1.F8.2.m1.1b"><mi id="A1.F8.2.m1.1.1" xref="A1.F8.2.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A1.F8.2.m1.1c"><ci id="A1.F8.2.m1.1.1.cmml" xref="A1.F8.2.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.F8.2.m1.1d">\mu</annotation></semantics></math>. Large values hinder the learning procedure by over-enforcing proximity to the federated weights, while small values have a diminishing impact on the federated model convergence.</figcaption>
</figure>
<figure id="A1.F9" class="ltx_figure"><img src="/html/2302.04208/assets/figures/results/m3/he_fedprox_loss_r8e8_seed_2.png" id="A1.F9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="333" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>The figure displays the L2-norm component of the federated proximity loss term. The training was performed with 8 communication rounds and 8 local training epochs using sites with 50/50% label distribution. The characteristic saw-tooth pattern is expected, as at each communication round the sites receive the new federated model weights and restart the training procedure</figcaption>
</figure>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2302.04207" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2302.04208" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2302.04208">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2302.04208" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2302.04209" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Fri Mar  1 02:04:29 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
