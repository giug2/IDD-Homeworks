<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2303.02278] Federated Virtual Learning on Heterogeneous Data with Local-global Distillation</title><meta property="og:description" content="Despite Federated Learning (FL)’s trend for learning machine learning models in a distributed manner, it is susceptible to performance drops when training on heterogeneous data. In addition, FL inevitability faces the …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Virtual Learning on Heterogeneous Data with Local-global Distillation">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Virtual Learning on Heterogeneous Data with Local-global Distillation">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2303.02278">

<!--Generated on Thu Feb 29 22:51:42 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Federated Virtual Learning on Heterogeneous Data with Local-global Distillation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Chun-Yin Huang 
<br class="ltx_break">Electrical and Computer Engineering
<br class="ltx_break">University of British Columbia
<br class="ltx_break">Vancouver, Canada
<br class="ltx_break"><span id="id1.1.id1" class="ltx_text ltx_font_typewriter">chunyinh@ece.ubc.ca</span> 
<br class="ltx_break">&amp;Ruinan Jin 
<br class="ltx_break">Computer Science
<br class="ltx_break">University of British Columbia
<br class="ltx_break">Vancouver, Canada
<br class="ltx_break"><span id="id2.2.id2" class="ltx_text ltx_font_typewriter">ruinanjin@alumni.ubc.ca</span> 
<br class="ltx_break">Can Zhao 
<br class="ltx_break">NVIDIA 
<br class="ltx_break">Santa Clara, USA 
<br class="ltx_break"><span id="id3.3.id3" class="ltx_text ltx_font_typewriter">canz@nvidia.com</span> 
<br class="ltx_break">&amp;Daguang Xu 
<br class="ltx_break">NVIDIA 
<br class="ltx_break">Santa Clara, USA 
<br class="ltx_break"><span id="id4.4.id4" class="ltx_text ltx_font_typewriter">daguangx@nvidia.com</span> 
<br class="ltx_break">&amp;Xiaoxiao Li 
<br class="ltx_break">Electrical and Computer Engineering
<br class="ltx_break">University of British Columbia
<br class="ltx_break">Vancouver, Canada
<br class="ltx_break"><span id="id5.5.id5" class="ltx_text ltx_font_typewriter">xiaoxiao.li@ece.ubc.ca</span> 
<br class="ltx_break">
</span><span class="ltx_author_notes">Corresponding author.</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id6.id1" class="ltx_p">Despite Federated Learning (FL)’s trend for learning machine learning models in a distributed manner, it is susceptible to performance drops when training on heterogeneous data. In addition, FL inevitability faces the challenges of synchronization, efficiency, and privacy. Recently, dataset distillation has been explored in order to improve the efficiency and scalability of FL by creating a smaller, synthetic dataset that retains the performance of a model trained on the local private datasets. <em id="id6.id1.1" class="ltx_emph ltx_font_italic">We discover that using distilled local datasets can amplify the heterogeneity issue in FL.</em> To address this, we propose a new method, called <span id="id6.id1.2" class="ltx_text ltx_font_bold">Fed</span>erated Virtual Learning on Heterogeneous Data with <span id="id6.id1.3" class="ltx_text ltx_font_bold">L</span>ocal-<span id="id6.id1.4" class="ltx_text ltx_font_bold">G</span>lobal <span id="id6.id1.5" class="ltx_text ltx_font_bold">D</span>istillation (<span id="id6.id1.6" class="ltx_text ltx_font_smallcaps">FedLGD</span>), which trains FL using a smaller synthetic dataset (referred as <em id="id6.id1.7" class="ltx_emph ltx_font_italic">virtual data</em>) created through a combination of local and global dataset distillation.
Specifically, to handle synchronization and class imbalance, we propose iterative distribution matching to allow clients to have the same amount of balanced <em id="id6.id1.8" class="ltx_emph ltx_font_italic">local virtual data</em>; to harmonize the domain shifts, we use federated gradient matching to distill <em id="id6.id1.9" class="ltx_emph ltx_font_italic">global virtual data</em> that are shared with clients without hindering data privacy to rectify heterogeneous local training via enforcing local-global feature similarity. We experiment on both benchmark and real-world datasets that contain heterogeneous data from different sources, and further scale up to an FL scenario that contains large number of clients with heterogeneous and class imbalance data. Our method outperforms <span id="id6.id1.10" class="ltx_text ltx_font_italic">state-of-the-art</span> heterogeneous FL algorithms under various settings with a very limited amount of distilled virtual data.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated Learning (FL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite> has become a popular solution for different institutions to collaboratively train machine learning models without pooling private data together. Typically, it involves a central server and multiple local clients; then the model is trained via aggregation of local network parameter updates on the server side iteratively. FL is widely accepted in many areas, such as computer vision, natural language processing, and medical image analysis <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib41" title="" class="ltx_ref">41</a>]</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">On the one hand, clients with different amounts of data cause asynchronization and affect the efficiency of FL systems. Dataset distillation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib46" title="" class="ltx_ref">46</a>, <a href="#bib.bib44" title="" class="ltx_ref">44</a>, <a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite> addresses the issue by only summarizing smaller synthetic datasets from the private local datasets to ensure each client owns the same amount of data. We refer this underexplored strategy as <em id="S1.p2.1.1" class="ltx_emph ltx_font_italic">federated virtual learning</em>, as the models are trained from synthetic data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>. These methods have been found to perform better than model-synchronization-based FL approaches while requiring fewer server-client interactions.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">On the other hand, due to different data collection protocols, data from different clients inevitably face heterogeneity problems with domain shift, which means data may not be independent and identically distributed (iid) among clients. Heterogeneous data distribution among clients becomes a key challenge in FL, as aggregating model parameters from non-iid feature distributions suffers from client drift <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> and diverges the global model update<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">We observe that using locally distilled datasets can amplify the heterogeneity issue. Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the tSNE plots of two different datasets, USPS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite> and SynthDigits <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, each considered as a client. tSNE takes the original and distilled virtual images as input and embeds them into 2D planes. One can observe that the distribution becomes diverse after distillation.</p>
</div>
<figure id="S1.F1" class="ltx_figure ltx_align_floatright"><img src="/html/2303.02278/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="226" height="98" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span><span id="S1.F1.4.2" class="ltx_text" style="font-size:90%;">Distilled local datasets can worsen heterogeneity in FL. tSNE plots of (a) original datasets and (b) distilled virtual datasets of USPS (client 0) and SynthDigits (client 1). The two distributions are marked in <span id="S1.F1.4.2.1" class="ltx_text" style="color:#FF0000;">red</span> and <span id="S1.F1.4.2.2" class="ltx_text" style="color:#0000FF;">blue</span>. We observe fewer overlapped <math id="S1.F1.3.1.m1.1" class="ltx_Math" alttext="\circ" display="inline"><semantics id="S1.F1.3.1.m1.1b"><mo id="S1.F1.3.1.m1.1.1" xref="S1.F1.3.1.m1.1.1.cmml">∘</mo><annotation-xml encoding="MathML-Content" id="S1.F1.3.1.m1.1c"><compose id="S1.F1.3.1.m1.1.1.cmml" xref="S1.F1.3.1.m1.1.1"></compose></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.3.1.m1.1d">\circ</annotation></semantics></math> and <math id="S1.F1.4.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S1.F1.4.2.m2.1b"><mo id="S1.F1.4.2.m2.1.1" xref="S1.F1.4.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S1.F1.4.2.m2.1c"><times id="S1.F1.4.2.m2.1.1.cmml" xref="S1.F1.4.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.4.2.m2.1d">\times</annotation></semantics></math> in (b) compared with (a), indicating higher heterogeneity between two clients after distillation.</span></figcaption>
</figure>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">To alleviate the problem of data heterogeneity in classical FL settings, two main orthogonal approaches can be taken. <em id="S1.p5.1.1" class="ltx_emph ltx_font_italic">Approach 1</em> aims to minimize the difference between the local and global model parameters to improve convergence <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>. <em id="S1.p5.1.2" class="ltx_emph ltx_font_italic">Approach 2</em> enforces consistency in local embedded features using anchors and regularization loss <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib47" title="" class="ltx_ref">47</a>, <a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite>. The first approach can be easily applied to distilled local datasets, while the second approach has limitations when adapting to federated virtual learning.
Specifically, VHL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> samples global anchors from untrained StyleGAN  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> suffers performance drop when handling amplified heterogeneity after dataset distillation.
Other methods, such as those that rely on external global data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite>, or feature sharing from clients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite>, are less practical, as they pose greater data privacy risks compared to classical FL settings<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Note that FedFA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite>, and FedFM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite> are unpublished works proposed concurrently with our work</span></span></span>.
<em id="S1.p5.1.3" class="ltx_emph ltx_font_italic">Without hindering data privacy,</em> developing strategies following <em id="S1.p5.1.4" class="ltx_emph ltx_font_italic">approach 2</em> for federated virtual learning on heterogeneous data remains open questions on <em id="S1.p5.1.5" class="ltx_emph ltx_font_italic">1) how to set up global anchors for locally distilled datasets and 2) how to select the proper regularization loss(es).</em></p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">To this end,
we propose <span id="S1.p6.1.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>, a federated virtual learning method with local and global distillation.
We propose <em id="S1.p6.1.2" class="ltx_emph ltx_font_italic"><span id="S1.p6.1.2.1" class="ltx_text ltx_framed ltx_framed_underline">iterative distribution matching</span></em> in local distillation by comparing the feature distribution of real and synthetic data using an evolving feature extractor. The local distillation results in smaller sets with balanced class distributions, achieving efficiency and synchronization while avoiding class imbalance. <span id="S1.p6.1.3" class="ltx_text ltx_font_smallcaps">FedLGD</span> updates the local model on local distilled synthetic datasets (named <em id="S1.p6.1.4" class="ltx_emph ltx_font_italic">local virtual data</em>).
We found that training FL with local virtual data can exacerbate heterogeneity in feature space if clients’ data has domain shift (Figure. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
Therefore, unlike previously proposed federated virtual learning methods that rely solely on local distillation  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib40" title="" class="ltx_ref">40</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, we also propose a novel and efficient method, <em id="S1.p6.1.5" class="ltx_emph ltx_font_italic"><span id="S1.p6.1.5.1" class="ltx_text ltx_framed ltx_framed_underline">federated gradient matching</span></em>, that integrated well with FL to distill global virtual data as anchors on the server side. This approach aims to alleviate domain shifts among clients by promoting similarity between local and global features. Note that we only share local model parameters w.r.t. distilled data. Thus, the privacy of local original data is preserved.
We conclude our contributions as follows:
</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">This paper focuses on an important but underexplored FL setting in which local models are trained on small distilled datasets, which we refer to as <em id="S1.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">federated virtual learning</em>. We design two effective and efficient dataset distillation methods for FL.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We are <em id="S1.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">the first</em> to reveal that when datasets are distilled from clients’ data with domain shift, the heterogeneity problem can be <em id="S1.I1.i2.p1.1.2" class="ltx_emph ltx_font_italic">exacerbated</em> in the federated virtual learning setting.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We propose to address the heterogeneity problem by mapping clients to similar features regularized by gradually updated global virtual data using averaged client gradients.</p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p id="S1.I1.i4.p1.1" class="ltx_p">Through comprehensive experiments on benchmark and real-world datasets, we show that <span id="S1.I1.i4.p1.1.1" class="ltx_text ltx_font_smallcaps">FedLGD</span> outperforms existing state-of-the-art FL algorithms.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Dataset Distillation</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">Data distillation aims to improve data efficiency by distilling the most essential feature in a large-scale dataset (e.g., datasets comprising billions of data points) into a certain terse and high-fidelity dataset.
For example, Gradient Matching <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite> is proposed to make the deep neural network produce similar gradients for both the terse synthetic images and the original large-scale dataset. Besides, <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> proposes matching the model training trajectory between real and synthetic data to guide the update for distillation. Another popular way of conducting data distillation is through Distribution Matching <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite>. This strategy instead, attempts to match the distribution of the smaller synthetic dataset with the original large-scale dataset. It significantly improves the distillation efficiency. Moreover, recent studies have justified that data distillation also preserves privacy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, which is critical in federated learning. In practice, dataset distillation is used in healthcare for medical data sharing for privacy protection <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>.
Other modern data distillation strategies can be found here <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Heterogeneous Federated Learning</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">FL performance downgrading on non-iid data is a critical challenge. A variety of FL algorithms have been proposed ranging from global aggregation to local optimization to handle this heterogeneous issue.
<em id="S2.SS2.p1.1.1" class="ltx_emph ltx_font_italic">Global aggregation</em> improves the global model exchange process for better unitizing the updated client models to create a powerful server model. FedNova <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> notices an imbalance among different local models caused by different levels of training stage (e.g., certain clients train more epochs than others) and tackles such imbalance by normalizing and scaling the local updates accordingly. Meanwhile, FedAvgM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> applies the momentum to server model aggregation to stabilize the optimization. Furthermore, there are strategies to refine the server model from learning client models such as FedDF <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> and FedFTG <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite>.
<em id="S2.SS2.p1.1.2" class="ltx_emph ltx_font_italic">Local training optimization</em> aims to explore the local objective to tackle the non-iid issue in FL system. FedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> straightly adds <math id="S2.SS2.p1.1.m1.1" class="ltx_Math" alttext="L_{2}" display="inline"><semantics id="S2.SS2.p1.1.m1.1a"><msub id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml"><mi id="S2.SS2.p1.1.m1.1.1.2" xref="S2.SS2.p1.1.m1.1.1.2.cmml">L</mi><mn id="S2.SS2.p1.1.m1.1.1.3" xref="S2.SS2.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><apply id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.1.m1.1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p1.1.m1.1.1.2.cmml" xref="S2.SS2.p1.1.m1.1.1.2">𝐿</ci><cn type="integer" id="S2.SS2.p1.1.m1.1.1.3.cmml" xref="S2.SS2.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">L_{2}</annotation></semantics></math> norm to regularize the client model and previous server model. Scaffold <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> adds the variance reduction term to mitigate the “clients-drift". Also, MOON <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> brings mode-level contrastive learning to maximize the similarity between model representations to stable the local training. There is another line of works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> proposed to use a global <span id="S2.SS2.p1.1.3" class="ltx_text ltx_font_italic">anchor</span> to regularize local training. Global anchor can be either a set of virtual global data or global virtual representations in feature space. However, in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>, the empirical global anchor selection may not be suitable for data from every distribution as they don’t update the anchor according to the training datasets.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Datasets Distillation for FL</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">Dataset distillation for FL is an emerging topic that has attracted attention due to its benefit for efficient FL systems. It trains model on distilled synthetic datasets, thus we refer it as federated virtual learning. It can help with FL synchronization and improve training efficiency by condensing every client’s data into a small set.
To the best of our knowledge, there are few published works on distillation in FL. Concurrently with our work, some studies <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib40" title="" class="ltx_ref">40</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> distill datasets locally and share the distilled datasets with other clients/servers. Although privacy is protected against <span id="S2.SS3.p1.1.1" class="ltx_text ltx_font_italic">currently</span> existing attack models, we consider sharing local distilled data a dangerous move. Furthermore, none of the existing work has addressed the heterogeneity issue.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>

<figure id="S3.F2" class="ltx_figure"><img src="/html/2303.02278/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="438" height="246" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span><span id="S3.F2.12.6" class="ltx_text" style="font-size:90%;">Overview pipeline for <span id="S3.F2.12.6.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>. We assume <math id="S3.F2.7.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.F2.7.1.m1.1b"><mi id="S3.F2.7.1.m1.1.1" xref="S3.F2.7.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.F2.7.1.m1.1c"><ci id="S3.F2.7.1.m1.1.1.cmml" xref="S3.F2.7.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.7.1.m1.1d">T</annotation></semantics></math> FL rounds will be performed, among which we will define the selected distillation rounds as <math id="S3.F2.8.2.m2.1" class="ltx_Math" alttext="\tau\in[T]" display="inline"><semantics id="S3.F2.8.2.m2.1b"><mrow id="S3.F2.8.2.m2.1.2" xref="S3.F2.8.2.m2.1.2.cmml"><mi id="S3.F2.8.2.m2.1.2.2" xref="S3.F2.8.2.m2.1.2.2.cmml">τ</mi><mo id="S3.F2.8.2.m2.1.2.1" xref="S3.F2.8.2.m2.1.2.1.cmml">∈</mo><mrow id="S3.F2.8.2.m2.1.2.3.2" xref="S3.F2.8.2.m2.1.2.3.1.cmml"><mo stretchy="false" id="S3.F2.8.2.m2.1.2.3.2.1" xref="S3.F2.8.2.m2.1.2.3.1.1.cmml">[</mo><mi id="S3.F2.8.2.m2.1.1" xref="S3.F2.8.2.m2.1.1.cmml">T</mi><mo stretchy="false" id="S3.F2.8.2.m2.1.2.3.2.2" xref="S3.F2.8.2.m2.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.8.2.m2.1c"><apply id="S3.F2.8.2.m2.1.2.cmml" xref="S3.F2.8.2.m2.1.2"><in id="S3.F2.8.2.m2.1.2.1.cmml" xref="S3.F2.8.2.m2.1.2.1"></in><ci id="S3.F2.8.2.m2.1.2.2.cmml" xref="S3.F2.8.2.m2.1.2.2">𝜏</ci><apply id="S3.F2.8.2.m2.1.2.3.1.cmml" xref="S3.F2.8.2.m2.1.2.3.2"><csymbol cd="latexml" id="S3.F2.8.2.m2.1.2.3.1.1.cmml" xref="S3.F2.8.2.m2.1.2.3.2.1">delimited-[]</csymbol><ci id="S3.F2.8.2.m2.1.1.cmml" xref="S3.F2.8.2.m2.1.1">𝑇</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.8.2.m2.1d">\tau\in[T]</annotation></semantics></math> for local-global iteration.
For selected rounds (<math id="S3.F2.9.3.m3.1" class="ltx_Math" alttext="t\in\tau" display="inline"><semantics id="S3.F2.9.3.m3.1b"><mrow id="S3.F2.9.3.m3.1.1" xref="S3.F2.9.3.m3.1.1.cmml"><mi id="S3.F2.9.3.m3.1.1.2" xref="S3.F2.9.3.m3.1.1.2.cmml">t</mi><mo id="S3.F2.9.3.m3.1.1.1" xref="S3.F2.9.3.m3.1.1.1.cmml">∈</mo><mi id="S3.F2.9.3.m3.1.1.3" xref="S3.F2.9.3.m3.1.1.3.cmml">τ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.9.3.m3.1c"><apply id="S3.F2.9.3.m3.1.1.cmml" xref="S3.F2.9.3.m3.1.1"><in id="S3.F2.9.3.m3.1.1.1.cmml" xref="S3.F2.9.3.m3.1.1.1"></in><ci id="S3.F2.9.3.m3.1.1.2.cmml" xref="S3.F2.9.3.m3.1.1.2">𝑡</ci><ci id="S3.F2.9.3.m3.1.1.3.cmml" xref="S3.F2.9.3.m3.1.1.3">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.9.3.m3.1d">t\in\tau</annotation></semantics></math>), clients will update local models (d) and refine the local virtual data with the latest network parameters (c), while the server uses aggregated gradients from cross-entropy loss (<math id="S3.F2.10.4.m4.1" class="ltx_Math" alttext="\mathcal{L_{\rm CE}}" display="inline"><semantics id="S3.F2.10.4.m4.1b"><msub id="S3.F2.10.4.m4.1.1" xref="S3.F2.10.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.F2.10.4.m4.1.1.2" xref="S3.F2.10.4.m4.1.1.2.cmml">ℒ</mi><mi id="S3.F2.10.4.m4.1.1.3" xref="S3.F2.10.4.m4.1.1.3.cmml">CE</mi></msub><annotation-xml encoding="MathML-Content" id="S3.F2.10.4.m4.1c"><apply id="S3.F2.10.4.m4.1.1.cmml" xref="S3.F2.10.4.m4.1.1"><csymbol cd="ambiguous" id="S3.F2.10.4.m4.1.1.1.cmml" xref="S3.F2.10.4.m4.1.1">subscript</csymbol><ci id="S3.F2.10.4.m4.1.1.2.cmml" xref="S3.F2.10.4.m4.1.1.2">ℒ</ci><ci id="S3.F2.10.4.m4.1.1.3.cmml" xref="S3.F2.10.4.m4.1.1.3">CE</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.10.4.m4.1d">\mathcal{L_{\rm CE}}</annotation></semantics></math>) to update global virtual data (a) and update the global model (b). We term this procedure Iterative Local-global Distillation. For the unselected rounds (<math id="S3.F2.11.5.m5.1" class="ltx_Math" alttext="t\in T\backslash\tau" display="inline"><semantics id="S3.F2.11.5.m5.1b"><mrow id="S3.F2.11.5.m5.1.1" xref="S3.F2.11.5.m5.1.1.cmml"><mi id="S3.F2.11.5.m5.1.1.2" xref="S3.F2.11.5.m5.1.1.2.cmml">t</mi><mo id="S3.F2.11.5.m5.1.1.1" xref="S3.F2.11.5.m5.1.1.1.cmml">∈</mo><mrow id="S3.F2.11.5.m5.1.1.3" xref="S3.F2.11.5.m5.1.1.3.cmml"><mi id="S3.F2.11.5.m5.1.1.3.2" xref="S3.F2.11.5.m5.1.1.3.2.cmml">T</mi><mo lspace="0.222em" rspace="0.222em" id="S3.F2.11.5.m5.1.1.3.1" xref="S3.F2.11.5.m5.1.1.3.1.cmml">\</mo><mi id="S3.F2.11.5.m5.1.1.3.3" xref="S3.F2.11.5.m5.1.1.3.3.cmml">τ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.11.5.m5.1c"><apply id="S3.F2.11.5.m5.1.1.cmml" xref="S3.F2.11.5.m5.1.1"><in id="S3.F2.11.5.m5.1.1.1.cmml" xref="S3.F2.11.5.m5.1.1.1"></in><ci id="S3.F2.11.5.m5.1.1.2.cmml" xref="S3.F2.11.5.m5.1.1.2">𝑡</ci><apply id="S3.F2.11.5.m5.1.1.3.cmml" xref="S3.F2.11.5.m5.1.1.3"><ci id="S3.F2.11.5.m5.1.1.3.1.cmml" xref="S3.F2.11.5.m5.1.1.3.1">\</ci><ci id="S3.F2.11.5.m5.1.1.3.2.cmml" xref="S3.F2.11.5.m5.1.1.3.2">𝑇</ci><ci id="S3.F2.11.5.m5.1.1.3.3.cmml" xref="S3.F2.11.5.m5.1.1.3.3">𝜏</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.11.5.m5.1d">t\in T\backslash\tau</annotation></semantics></math>), we perform ordinary FL pipeline on local virtual data with regularization loss (<math id="S3.F2.12.6.m6.1" class="ltx_Math" alttext="\mathcal{L_{\rm Con}}" display="inline"><semantics id="S3.F2.12.6.m6.1b"><msub id="S3.F2.12.6.m6.1.1" xref="S3.F2.12.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.F2.12.6.m6.1.1.2" xref="S3.F2.12.6.m6.1.1.2.cmml">ℒ</mi><mi id="S3.F2.12.6.m6.1.1.3" xref="S3.F2.12.6.m6.1.1.3.cmml">Con</mi></msub><annotation-xml encoding="MathML-Content" id="S3.F2.12.6.m6.1c"><apply id="S3.F2.12.6.m6.1.1.cmml" xref="S3.F2.12.6.m6.1.1"><csymbol cd="ambiguous" id="S3.F2.12.6.m6.1.1.1.cmml" xref="S3.F2.12.6.m6.1.1">subscript</csymbol><ci id="S3.F2.12.6.m6.1.1.2.cmml" xref="S3.F2.12.6.m6.1.1.2">ℒ</ci><ci id="S3.F2.12.6.m6.1.1.3.cmml" xref="S3.F2.12.6.m6.1.1.3">Con</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.12.6.m6.1d">\mathcal{L_{\rm Con}}</annotation></semantics></math>) on global virtual data.
</span></figcaption>
</figure>
<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we will describe the problem setup, introduce the key technical contributions and rationale of the design for <span id="S3.p1.1.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>, and explain the overall training pipeline.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Setup for Federated Virtual Learning</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.4" class="ltx_p">We start with describing the classical FL setting. Suppose there are <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">N</annotation></semantics></math> parties who own local datasets (<math id="S3.SS1.p1.2.m2.3" class="ltx_Math" alttext="D_{1},\dots,D_{N}" display="inline"><semantics id="S3.SS1.p1.2.m2.3a"><mrow id="S3.SS1.p1.2.m2.3.3.2" xref="S3.SS1.p1.2.m2.3.3.3.cmml"><msub id="S3.SS1.p1.2.m2.2.2.1.1" xref="S3.SS1.p1.2.m2.2.2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.2.2.1.1.2" xref="S3.SS1.p1.2.m2.2.2.1.1.2.cmml">D</mi><mn id="S3.SS1.p1.2.m2.2.2.1.1.3" xref="S3.SS1.p1.2.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.2.m2.3.3.2.3" xref="S3.SS1.p1.2.m2.3.3.3.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">…</mi><mo id="S3.SS1.p1.2.m2.3.3.2.4" xref="S3.SS1.p1.2.m2.3.3.3.cmml">,</mo><msub id="S3.SS1.p1.2.m2.3.3.2.2" xref="S3.SS1.p1.2.m2.3.3.2.2.cmml"><mi id="S3.SS1.p1.2.m2.3.3.2.2.2" xref="S3.SS1.p1.2.m2.3.3.2.2.2.cmml">D</mi><mi id="S3.SS1.p1.2.m2.3.3.2.2.3" xref="S3.SS1.p1.2.m2.3.3.2.2.3.cmml">N</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.3b"><list id="S3.SS1.p1.2.m2.3.3.3.cmml" xref="S3.SS1.p1.2.m2.3.3.2"><apply id="S3.SS1.p1.2.m2.2.2.1.1.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.2.2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.2.2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1.2">𝐷</ci><cn type="integer" id="S3.SS1.p1.2.m2.2.2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1.3">1</cn></apply><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">…</ci><apply id="S3.SS1.p1.2.m2.3.3.2.2.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.3.3.2.2.1.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2">subscript</csymbol><ci id="S3.SS1.p1.2.m2.3.3.2.2.2.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2.2">𝐷</ci><ci id="S3.SS1.p1.2.m2.3.3.2.2.3.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2.3">𝑁</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.3c">D_{1},\dots,D_{N}</annotation></semantics></math>), and the goal of a classical FL system, such as FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>, is to train a global model with parameters <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">\theta</annotation></semantics></math> on the distributed datasets (<math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="D\equiv\bigcup_{i\in[N]}D_{i}" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><mrow id="S3.SS1.p1.4.m4.1.2" xref="S3.SS1.p1.4.m4.1.2.cmml"><mi id="S3.SS1.p1.4.m4.1.2.2" xref="S3.SS1.p1.4.m4.1.2.2.cmml">D</mi><mo rspace="0.111em" id="S3.SS1.p1.4.m4.1.2.1" xref="S3.SS1.p1.4.m4.1.2.1.cmml">≡</mo><mrow id="S3.SS1.p1.4.m4.1.2.3" xref="S3.SS1.p1.4.m4.1.2.3.cmml"><msub id="S3.SS1.p1.4.m4.1.2.3.1" xref="S3.SS1.p1.4.m4.1.2.3.1.cmml"><mo id="S3.SS1.p1.4.m4.1.2.3.1.2" xref="S3.SS1.p1.4.m4.1.2.3.1.2.cmml">⋃</mo><mrow id="S3.SS1.p1.4.m4.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.3.cmml">i</mi><mo id="S3.SS1.p1.4.m4.1.1.1.2" xref="S3.SS1.p1.4.m4.1.1.1.2.cmml">∈</mo><mrow id="S3.SS1.p1.4.m4.1.1.1.4.2" xref="S3.SS1.p1.4.m4.1.1.1.4.1.cmml"><mo stretchy="false" id="S3.SS1.p1.4.m4.1.1.1.4.2.1" xref="S3.SS1.p1.4.m4.1.1.1.4.1.1.cmml">[</mo><mi id="S3.SS1.p1.4.m4.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.cmml">N</mi><mo stretchy="false" id="S3.SS1.p1.4.m4.1.1.1.4.2.2" xref="S3.SS1.p1.4.m4.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><msub id="S3.SS1.p1.4.m4.1.2.3.2" xref="S3.SS1.p1.4.m4.1.2.3.2.cmml"><mi id="S3.SS1.p1.4.m4.1.2.3.2.2" xref="S3.SS1.p1.4.m4.1.2.3.2.2.cmml">D</mi><mi id="S3.SS1.p1.4.m4.1.2.3.2.3" xref="S3.SS1.p1.4.m4.1.2.3.2.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.2.cmml" xref="S3.SS1.p1.4.m4.1.2"><equivalent id="S3.SS1.p1.4.m4.1.2.1.cmml" xref="S3.SS1.p1.4.m4.1.2.1"></equivalent><ci id="S3.SS1.p1.4.m4.1.2.2.cmml" xref="S3.SS1.p1.4.m4.1.2.2">𝐷</ci><apply id="S3.SS1.p1.4.m4.1.2.3.cmml" xref="S3.SS1.p1.4.m4.1.2.3"><apply id="S3.SS1.p1.4.m4.1.2.3.1.cmml" xref="S3.SS1.p1.4.m4.1.2.3.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.2.3.1.1.cmml" xref="S3.SS1.p1.4.m4.1.2.3.1">subscript</csymbol><union id="S3.SS1.p1.4.m4.1.2.3.1.2.cmml" xref="S3.SS1.p1.4.m4.1.2.3.1.2"></union><apply id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1"><in id="S3.SS1.p1.4.m4.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.2"></in><ci id="S3.SS1.p1.4.m4.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.3">𝑖</ci><apply id="S3.SS1.p1.4.m4.1.1.1.4.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.4.2"><csymbol cd="latexml" id="S3.SS1.p1.4.m4.1.1.1.4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S3.SS1.p1.4.m4.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1">𝑁</ci></apply></apply></apply><apply id="S3.SS1.p1.4.m4.1.2.3.2.cmml" xref="S3.SS1.p1.4.m4.1.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.2.3.2.1.cmml" xref="S3.SS1.p1.4.m4.1.2.3.2">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.2.3.2.2.cmml" xref="S3.SS1.p1.4.m4.1.2.3.2.2">𝐷</ci><ci id="S3.SS1.p1.4.m4.1.2.3.2.3.cmml" xref="S3.SS1.p1.4.m4.1.2.3.2.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">D\equiv\bigcup_{i\in[N]}D_{i}</annotation></semantics></math>)). The objective function is written as:</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.5" class="ltx_Math" alttext="\mathcal{L}(\theta)=\sum_{i=1}^{N}\frac{|D_{i}|}{|D|}\mathcal{L}_{i}(\theta)," display="block"><semantics id="S3.E1.m1.5a"><mrow id="S3.E1.m1.5.5.1" xref="S3.E1.m1.5.5.1.1.cmml"><mrow id="S3.E1.m1.5.5.1.1" xref="S3.E1.m1.5.5.1.1.cmml"><mrow id="S3.E1.m1.5.5.1.1.2" xref="S3.E1.m1.5.5.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.5.5.1.1.2.2" xref="S3.E1.m1.5.5.1.1.2.2.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.5.5.1.1.2.1" xref="S3.E1.m1.5.5.1.1.2.1.cmml">​</mo><mrow id="S3.E1.m1.5.5.1.1.2.3.2" xref="S3.E1.m1.5.5.1.1.2.cmml"><mo stretchy="false" id="S3.E1.m1.5.5.1.1.2.3.2.1" xref="S3.E1.m1.5.5.1.1.2.cmml">(</mo><mi id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml">θ</mi><mo stretchy="false" id="S3.E1.m1.5.5.1.1.2.3.2.2" xref="S3.E1.m1.5.5.1.1.2.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S3.E1.m1.5.5.1.1.1" xref="S3.E1.m1.5.5.1.1.1.cmml">=</mo><mrow id="S3.E1.m1.5.5.1.1.3" xref="S3.E1.m1.5.5.1.1.3.cmml"><munderover id="S3.E1.m1.5.5.1.1.3.1" xref="S3.E1.m1.5.5.1.1.3.1.cmml"><mo movablelimits="false" id="S3.E1.m1.5.5.1.1.3.1.2.2" xref="S3.E1.m1.5.5.1.1.3.1.2.2.cmml">∑</mo><mrow id="S3.E1.m1.5.5.1.1.3.1.2.3" xref="S3.E1.m1.5.5.1.1.3.1.2.3.cmml"><mi id="S3.E1.m1.5.5.1.1.3.1.2.3.2" xref="S3.E1.m1.5.5.1.1.3.1.2.3.2.cmml">i</mi><mo id="S3.E1.m1.5.5.1.1.3.1.2.3.1" xref="S3.E1.m1.5.5.1.1.3.1.2.3.1.cmml">=</mo><mn id="S3.E1.m1.5.5.1.1.3.1.2.3.3" xref="S3.E1.m1.5.5.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E1.m1.5.5.1.1.3.1.3" xref="S3.E1.m1.5.5.1.1.3.1.3.cmml">N</mi></munderover><mrow id="S3.E1.m1.5.5.1.1.3.2" xref="S3.E1.m1.5.5.1.1.3.2.cmml"><mfrac id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml"><mrow id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E1.m1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.2.1.cmml">|</mo><msub id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.2.cmml">D</mi><mi id="S3.E1.m1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E1.m1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S3.E1.m1.2.2.2.3" xref="S3.E1.m1.2.2.2.2.cmml"><mo stretchy="false" id="S3.E1.m1.2.2.2.3.1" xref="S3.E1.m1.2.2.2.2.1.cmml">|</mo><mi id="S3.E1.m1.2.2.2.1" xref="S3.E1.m1.2.2.2.1.cmml">D</mi><mo stretchy="false" id="S3.E1.m1.2.2.2.3.2" xref="S3.E1.m1.2.2.2.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S3.E1.m1.5.5.1.1.3.2.1" xref="S3.E1.m1.5.5.1.1.3.2.1.cmml">​</mo><msub id="S3.E1.m1.5.5.1.1.3.2.2" xref="S3.E1.m1.5.5.1.1.3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.5.5.1.1.3.2.2.2" xref="S3.E1.m1.5.5.1.1.3.2.2.2.cmml">ℒ</mi><mi id="S3.E1.m1.5.5.1.1.3.2.2.3" xref="S3.E1.m1.5.5.1.1.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.5.5.1.1.3.2.1a" xref="S3.E1.m1.5.5.1.1.3.2.1.cmml">​</mo><mrow id="S3.E1.m1.5.5.1.1.3.2.3.2" xref="S3.E1.m1.5.5.1.1.3.2.cmml"><mo stretchy="false" id="S3.E1.m1.5.5.1.1.3.2.3.2.1" xref="S3.E1.m1.5.5.1.1.3.2.cmml">(</mo><mi id="S3.E1.m1.4.4" xref="S3.E1.m1.4.4.cmml">θ</mi><mo stretchy="false" id="S3.E1.m1.5.5.1.1.3.2.3.2.2" xref="S3.E1.m1.5.5.1.1.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E1.m1.5.5.1.2" xref="S3.E1.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.5b"><apply id="S3.E1.m1.5.5.1.1.cmml" xref="S3.E1.m1.5.5.1"><eq id="S3.E1.m1.5.5.1.1.1.cmml" xref="S3.E1.m1.5.5.1.1.1"></eq><apply id="S3.E1.m1.5.5.1.1.2.cmml" xref="S3.E1.m1.5.5.1.1.2"><times id="S3.E1.m1.5.5.1.1.2.1.cmml" xref="S3.E1.m1.5.5.1.1.2.1"></times><ci id="S3.E1.m1.5.5.1.1.2.2.cmml" xref="S3.E1.m1.5.5.1.1.2.2">ℒ</ci><ci id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3">𝜃</ci></apply><apply id="S3.E1.m1.5.5.1.1.3.cmml" xref="S3.E1.m1.5.5.1.1.3"><apply id="S3.E1.m1.5.5.1.1.3.1.cmml" xref="S3.E1.m1.5.5.1.1.3.1"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.3.1.1.cmml" xref="S3.E1.m1.5.5.1.1.3.1">superscript</csymbol><apply id="S3.E1.m1.5.5.1.1.3.1.2.cmml" xref="S3.E1.m1.5.5.1.1.3.1"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.3.1.2.1.cmml" xref="S3.E1.m1.5.5.1.1.3.1">subscript</csymbol><sum id="S3.E1.m1.5.5.1.1.3.1.2.2.cmml" xref="S3.E1.m1.5.5.1.1.3.1.2.2"></sum><apply id="S3.E1.m1.5.5.1.1.3.1.2.3.cmml" xref="S3.E1.m1.5.5.1.1.3.1.2.3"><eq id="S3.E1.m1.5.5.1.1.3.1.2.3.1.cmml" xref="S3.E1.m1.5.5.1.1.3.1.2.3.1"></eq><ci id="S3.E1.m1.5.5.1.1.3.1.2.3.2.cmml" xref="S3.E1.m1.5.5.1.1.3.1.2.3.2">𝑖</ci><cn type="integer" id="S3.E1.m1.5.5.1.1.3.1.2.3.3.cmml" xref="S3.E1.m1.5.5.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E1.m1.5.5.1.1.3.1.3.cmml" xref="S3.E1.m1.5.5.1.1.3.1.3">𝑁</ci></apply><apply id="S3.E1.m1.5.5.1.1.3.2.cmml" xref="S3.E1.m1.5.5.1.1.3.2"><times id="S3.E1.m1.5.5.1.1.3.2.1.cmml" xref="S3.E1.m1.5.5.1.1.3.2.1"></times><apply id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2"><divide id="S3.E1.m1.2.2.3.cmml" xref="S3.E1.m1.2.2"></divide><apply id="S3.E1.m1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1"><abs id="S3.E1.m1.1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2"></abs><apply id="S3.E1.m1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.2">𝐷</ci><ci id="S3.E1.m1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.E1.m1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.3"><abs id="S3.E1.m1.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.3.1"></abs><ci id="S3.E1.m1.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.1">𝐷</ci></apply></apply><apply id="S3.E1.m1.5.5.1.1.3.2.2.cmml" xref="S3.E1.m1.5.5.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.3.2.2.1.cmml" xref="S3.E1.m1.5.5.1.1.3.2.2">subscript</csymbol><ci id="S3.E1.m1.5.5.1.1.3.2.2.2.cmml" xref="S3.E1.m1.5.5.1.1.3.2.2.2">ℒ</ci><ci id="S3.E1.m1.5.5.1.1.3.2.2.3.cmml" xref="S3.E1.m1.5.5.1.1.3.2.2.3">𝑖</ci></apply><ci id="S3.E1.m1.4.4.cmml" xref="S3.E1.m1.4.4">𝜃</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.5c">\mathcal{L}(\theta)=\sum_{i=1}^{N}\frac{|D_{i}|}{|D|}\mathcal{L}_{i}(\theta),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p1.6" class="ltx_p">where <math id="S3.SS1.p1.5.m1.1" class="ltx_Math" alttext="\mathcal{L}_{i}(w)" display="inline"><semantics id="S3.SS1.p1.5.m1.1a"><mrow id="S3.SS1.p1.5.m1.1.2" xref="S3.SS1.p1.5.m1.1.2.cmml"><msub id="S3.SS1.p1.5.m1.1.2.2" xref="S3.SS1.p1.5.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.5.m1.1.2.2.2" xref="S3.SS1.p1.5.m1.1.2.2.2.cmml">ℒ</mi><mi id="S3.SS1.p1.5.m1.1.2.2.3" xref="S3.SS1.p1.5.m1.1.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p1.5.m1.1.2.1" xref="S3.SS1.p1.5.m1.1.2.1.cmml">​</mo><mrow id="S3.SS1.p1.5.m1.1.2.3.2" xref="S3.SS1.p1.5.m1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p1.5.m1.1.2.3.2.1" xref="S3.SS1.p1.5.m1.1.2.cmml">(</mo><mi id="S3.SS1.p1.5.m1.1.1" xref="S3.SS1.p1.5.m1.1.1.cmml">w</mi><mo stretchy="false" id="S3.SS1.p1.5.m1.1.2.3.2.2" xref="S3.SS1.p1.5.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m1.1b"><apply id="S3.SS1.p1.5.m1.1.2.cmml" xref="S3.SS1.p1.5.m1.1.2"><times id="S3.SS1.p1.5.m1.1.2.1.cmml" xref="S3.SS1.p1.5.m1.1.2.1"></times><apply id="S3.SS1.p1.5.m1.1.2.2.cmml" xref="S3.SS1.p1.5.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m1.1.2.2.1.cmml" xref="S3.SS1.p1.5.m1.1.2.2">subscript</csymbol><ci id="S3.SS1.p1.5.m1.1.2.2.2.cmml" xref="S3.SS1.p1.5.m1.1.2.2.2">ℒ</ci><ci id="S3.SS1.p1.5.m1.1.2.2.3.cmml" xref="S3.SS1.p1.5.m1.1.2.2.3">𝑖</ci></apply><ci id="S3.SS1.p1.5.m1.1.1.cmml" xref="S3.SS1.p1.5.m1.1.1">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m1.1c">\mathcal{L}_{i}(w)</annotation></semantics></math> is the empirical loss of client <math id="S3.SS1.p1.6.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p1.6.m2.1a"><mi id="S3.SS1.p1.6.m2.1.1" xref="S3.SS1.p1.6.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m2.1b"><ci id="S3.SS1.p1.6.m2.1.1.cmml" xref="S3.SS1.p1.6.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m2.1c">i</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.8" class="ltx_p">In practice, different clients in FL may have variant amounts of training samples, leading to asynchronized updates. In this work, we focus on a new type of FL training method – federated virtual learning, that trains on distilled datasets for efficiency and synchronization (discussed in Sec.<a href="#S2.SS3" title="2.3 Datasets Distillation for FL ‣ 2 Related Work ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.3</span></a>.) Federated virtual learning synthesizes local virtual data <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="\tilde{D}_{i}" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><msub id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mover accent="true" id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml"><mi id="S3.SS1.p2.1.m1.1.1.2.2" xref="S3.SS1.p2.1.m1.1.1.2.2.cmml">D</mi><mo id="S3.SS1.p2.1.m1.1.1.2.1" xref="S3.SS1.p2.1.m1.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">subscript</csymbol><apply id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2"><ci id="S3.SS1.p2.1.m1.1.1.2.1.cmml" xref="S3.SS1.p2.1.m1.1.1.2.1">~</ci><ci id="S3.SS1.p2.1.m1.1.1.2.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2.2">𝐷</ci></apply><ci id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\tilde{D}_{i}</annotation></semantics></math> for client <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">i</annotation></semantics></math> for <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="i\in[N]" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mrow id="S3.SS1.p2.3.m3.1.2" xref="S3.SS1.p2.3.m3.1.2.cmml"><mi id="S3.SS1.p2.3.m3.1.2.2" xref="S3.SS1.p2.3.m3.1.2.2.cmml">i</mi><mo id="S3.SS1.p2.3.m3.1.2.1" xref="S3.SS1.p2.3.m3.1.2.1.cmml">∈</mo><mrow id="S3.SS1.p2.3.m3.1.2.3.2" xref="S3.SS1.p2.3.m3.1.2.3.1.cmml"><mo stretchy="false" id="S3.SS1.p2.3.m3.1.2.3.2.1" xref="S3.SS1.p2.3.m3.1.2.3.1.1.cmml">[</mo><mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">N</mi><mo stretchy="false" id="S3.SS1.p2.3.m3.1.2.3.2.2" xref="S3.SS1.p2.3.m3.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.2.cmml" xref="S3.SS1.p2.3.m3.1.2"><in id="S3.SS1.p2.3.m3.1.2.1.cmml" xref="S3.SS1.p2.3.m3.1.2.1"></in><ci id="S3.SS1.p2.3.m3.1.2.2.cmml" xref="S3.SS1.p2.3.m3.1.2.2">𝑖</ci><apply id="S3.SS1.p2.3.m3.1.2.3.1.cmml" xref="S3.SS1.p2.3.m3.1.2.3.2"><csymbol cd="latexml" id="S3.SS1.p2.3.m3.1.2.3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.2.3.2.1">delimited-[]</csymbol><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">i\in[N]</annotation></semantics></math> and form <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="\tilde{D}\equiv\bigcup_{i\in[N]}\tilde{D}_{i}" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mrow id="S3.SS1.p2.4.m4.1.2" xref="S3.SS1.p2.4.m4.1.2.cmml"><mover accent="true" id="S3.SS1.p2.4.m4.1.2.2" xref="S3.SS1.p2.4.m4.1.2.2.cmml"><mi id="S3.SS1.p2.4.m4.1.2.2.2" xref="S3.SS1.p2.4.m4.1.2.2.2.cmml">D</mi><mo id="S3.SS1.p2.4.m4.1.2.2.1" xref="S3.SS1.p2.4.m4.1.2.2.1.cmml">~</mo></mover><mo rspace="0.111em" id="S3.SS1.p2.4.m4.1.2.1" xref="S3.SS1.p2.4.m4.1.2.1.cmml">≡</mo><mrow id="S3.SS1.p2.4.m4.1.2.3" xref="S3.SS1.p2.4.m4.1.2.3.cmml"><msub id="S3.SS1.p2.4.m4.1.2.3.1" xref="S3.SS1.p2.4.m4.1.2.3.1.cmml"><mo id="S3.SS1.p2.4.m4.1.2.3.1.2" xref="S3.SS1.p2.4.m4.1.2.3.1.2.cmml">⋃</mo><mrow id="S3.SS1.p2.4.m4.1.1.1" xref="S3.SS1.p2.4.m4.1.1.1.cmml"><mi id="S3.SS1.p2.4.m4.1.1.1.3" xref="S3.SS1.p2.4.m4.1.1.1.3.cmml">i</mi><mo id="S3.SS1.p2.4.m4.1.1.1.2" xref="S3.SS1.p2.4.m4.1.1.1.2.cmml">∈</mo><mrow id="S3.SS1.p2.4.m4.1.1.1.4.2" xref="S3.SS1.p2.4.m4.1.1.1.4.1.cmml"><mo stretchy="false" id="S3.SS1.p2.4.m4.1.1.1.4.2.1" xref="S3.SS1.p2.4.m4.1.1.1.4.1.1.cmml">[</mo><mi id="S3.SS1.p2.4.m4.1.1.1.1" xref="S3.SS1.p2.4.m4.1.1.1.1.cmml">N</mi><mo stretchy="false" id="S3.SS1.p2.4.m4.1.1.1.4.2.2" xref="S3.SS1.p2.4.m4.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><msub id="S3.SS1.p2.4.m4.1.2.3.2" xref="S3.SS1.p2.4.m4.1.2.3.2.cmml"><mover accent="true" id="S3.SS1.p2.4.m4.1.2.3.2.2" xref="S3.SS1.p2.4.m4.1.2.3.2.2.cmml"><mi id="S3.SS1.p2.4.m4.1.2.3.2.2.2" xref="S3.SS1.p2.4.m4.1.2.3.2.2.2.cmml">D</mi><mo id="S3.SS1.p2.4.m4.1.2.3.2.2.1" xref="S3.SS1.p2.4.m4.1.2.3.2.2.1.cmml">~</mo></mover><mi id="S3.SS1.p2.4.m4.1.2.3.2.3" xref="S3.SS1.p2.4.m4.1.2.3.2.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.2.cmml" xref="S3.SS1.p2.4.m4.1.2"><equivalent id="S3.SS1.p2.4.m4.1.2.1.cmml" xref="S3.SS1.p2.4.m4.1.2.1"></equivalent><apply id="S3.SS1.p2.4.m4.1.2.2.cmml" xref="S3.SS1.p2.4.m4.1.2.2"><ci id="S3.SS1.p2.4.m4.1.2.2.1.cmml" xref="S3.SS1.p2.4.m4.1.2.2.1">~</ci><ci id="S3.SS1.p2.4.m4.1.2.2.2.cmml" xref="S3.SS1.p2.4.m4.1.2.2.2">𝐷</ci></apply><apply id="S3.SS1.p2.4.m4.1.2.3.cmml" xref="S3.SS1.p2.4.m4.1.2.3"><apply id="S3.SS1.p2.4.m4.1.2.3.1.cmml" xref="S3.SS1.p2.4.m4.1.2.3.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.2.3.1.1.cmml" xref="S3.SS1.p2.4.m4.1.2.3.1">subscript</csymbol><union id="S3.SS1.p2.4.m4.1.2.3.1.2.cmml" xref="S3.SS1.p2.4.m4.1.2.3.1.2"></union><apply id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1.1"><in id="S3.SS1.p2.4.m4.1.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.1.2"></in><ci id="S3.SS1.p2.4.m4.1.1.1.3.cmml" xref="S3.SS1.p2.4.m4.1.1.1.3">𝑖</ci><apply id="S3.SS1.p2.4.m4.1.1.1.4.1.cmml" xref="S3.SS1.p2.4.m4.1.1.1.4.2"><csymbol cd="latexml" id="S3.SS1.p2.4.m4.1.1.1.4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S3.SS1.p2.4.m4.1.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1.1.1">𝑁</ci></apply></apply></apply><apply id="S3.SS1.p2.4.m4.1.2.3.2.cmml" xref="S3.SS1.p2.4.m4.1.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.2.3.2.1.cmml" xref="S3.SS1.p2.4.m4.1.2.3.2">subscript</csymbol><apply id="S3.SS1.p2.4.m4.1.2.3.2.2.cmml" xref="S3.SS1.p2.4.m4.1.2.3.2.2"><ci id="S3.SS1.p2.4.m4.1.2.3.2.2.1.cmml" xref="S3.SS1.p2.4.m4.1.2.3.2.2.1">~</ci><ci id="S3.SS1.p2.4.m4.1.2.3.2.2.2.cmml" xref="S3.SS1.p2.4.m4.1.2.3.2.2.2">𝐷</ci></apply><ci id="S3.SS1.p2.4.m4.1.2.3.2.3.cmml" xref="S3.SS1.p2.4.m4.1.2.3.2.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">\tilde{D}\equiv\bigcup_{i\in[N]}\tilde{D}_{i}</annotation></semantics></math>. Typically, <math id="S3.SS1.p2.5.m5.2" class="ltx_Math" alttext="|\tilde{D}_{i}|\ll|{D}_{i}|" display="inline"><semantics id="S3.SS1.p2.5.m5.2a"><mrow id="S3.SS1.p2.5.m5.2.2" xref="S3.SS1.p2.5.m5.2.2.cmml"><mrow id="S3.SS1.p2.5.m5.1.1.1.1" xref="S3.SS1.p2.5.m5.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.5.m5.1.1.1.1.2" xref="S3.SS1.p2.5.m5.1.1.1.2.1.cmml">|</mo><msub id="S3.SS1.p2.5.m5.1.1.1.1.1" xref="S3.SS1.p2.5.m5.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS1.p2.5.m5.1.1.1.1.1.2" xref="S3.SS1.p2.5.m5.1.1.1.1.1.2.cmml"><mi id="S3.SS1.p2.5.m5.1.1.1.1.1.2.2" xref="S3.SS1.p2.5.m5.1.1.1.1.1.2.2.cmml">D</mi><mo id="S3.SS1.p2.5.m5.1.1.1.1.1.2.1" xref="S3.SS1.p2.5.m5.1.1.1.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS1.p2.5.m5.1.1.1.1.1.3" xref="S3.SS1.p2.5.m5.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS1.p2.5.m5.1.1.1.1.3" xref="S3.SS1.p2.5.m5.1.1.1.2.1.cmml">|</mo></mrow><mo id="S3.SS1.p2.5.m5.2.2.3" xref="S3.SS1.p2.5.m5.2.2.3.cmml">≪</mo><mrow id="S3.SS1.p2.5.m5.2.2.2.1" xref="S3.SS1.p2.5.m5.2.2.2.2.cmml"><mo stretchy="false" id="S3.SS1.p2.5.m5.2.2.2.1.2" xref="S3.SS1.p2.5.m5.2.2.2.2.1.cmml">|</mo><msub id="S3.SS1.p2.5.m5.2.2.2.1.1" xref="S3.SS1.p2.5.m5.2.2.2.1.1.cmml"><mi id="S3.SS1.p2.5.m5.2.2.2.1.1.2" xref="S3.SS1.p2.5.m5.2.2.2.1.1.2.cmml">D</mi><mi id="S3.SS1.p2.5.m5.2.2.2.1.1.3" xref="S3.SS1.p2.5.m5.2.2.2.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS1.p2.5.m5.2.2.2.1.3" xref="S3.SS1.p2.5.m5.2.2.2.2.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.2b"><apply id="S3.SS1.p2.5.m5.2.2.cmml" xref="S3.SS1.p2.5.m5.2.2"><csymbol cd="latexml" id="S3.SS1.p2.5.m5.2.2.3.cmml" xref="S3.SS1.p2.5.m5.2.2.3">much-less-than</csymbol><apply id="S3.SS1.p2.5.m5.1.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1"><abs id="S3.SS1.p2.5.m5.1.1.1.2.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.2"></abs><apply id="S3.SS1.p2.5.m5.1.1.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1">subscript</csymbol><apply id="S3.SS1.p2.5.m5.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.2"><ci id="S3.SS1.p2.5.m5.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.2.1">~</ci><ci id="S3.SS1.p2.5.m5.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.2.2">𝐷</ci></apply><ci id="S3.SS1.p2.5.m5.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.SS1.p2.5.m5.2.2.2.2.cmml" xref="S3.SS1.p2.5.m5.2.2.2.1"><abs id="S3.SS1.p2.5.m5.2.2.2.2.1.cmml" xref="S3.SS1.p2.5.m5.2.2.2.1.2"></abs><apply id="S3.SS1.p2.5.m5.2.2.2.1.1.cmml" xref="S3.SS1.p2.5.m5.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.2.2.2.1.1.1.cmml" xref="S3.SS1.p2.5.m5.2.2.2.1.1">subscript</csymbol><ci id="S3.SS1.p2.5.m5.2.2.2.1.1.2.cmml" xref="S3.SS1.p2.5.m5.2.2.2.1.1.2">𝐷</ci><ci id="S3.SS1.p2.5.m5.2.2.2.1.1.3.cmml" xref="S3.SS1.p2.5.m5.2.2.2.1.1.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.2c">|\tilde{D}_{i}|\ll|{D}_{i}|</annotation></semantics></math> and <math id="S3.SS1.p2.6.m6.2" class="ltx_Math" alttext="|\tilde{D}_{i}|=|\tilde{D}_{j}|" display="inline"><semantics id="S3.SS1.p2.6.m6.2a"><mrow id="S3.SS1.p2.6.m6.2.2" xref="S3.SS1.p2.6.m6.2.2.cmml"><mrow id="S3.SS1.p2.6.m6.1.1.1.1" xref="S3.SS1.p2.6.m6.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.6.m6.1.1.1.1.2" xref="S3.SS1.p2.6.m6.1.1.1.2.1.cmml">|</mo><msub id="S3.SS1.p2.6.m6.1.1.1.1.1" xref="S3.SS1.p2.6.m6.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS1.p2.6.m6.1.1.1.1.1.2" xref="S3.SS1.p2.6.m6.1.1.1.1.1.2.cmml"><mi id="S3.SS1.p2.6.m6.1.1.1.1.1.2.2" xref="S3.SS1.p2.6.m6.1.1.1.1.1.2.2.cmml">D</mi><mo id="S3.SS1.p2.6.m6.1.1.1.1.1.2.1" xref="S3.SS1.p2.6.m6.1.1.1.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS1.p2.6.m6.1.1.1.1.1.3" xref="S3.SS1.p2.6.m6.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS1.p2.6.m6.1.1.1.1.3" xref="S3.SS1.p2.6.m6.1.1.1.2.1.cmml">|</mo></mrow><mo id="S3.SS1.p2.6.m6.2.2.3" xref="S3.SS1.p2.6.m6.2.2.3.cmml">=</mo><mrow id="S3.SS1.p2.6.m6.2.2.2.1" xref="S3.SS1.p2.6.m6.2.2.2.2.cmml"><mo stretchy="false" id="S3.SS1.p2.6.m6.2.2.2.1.2" xref="S3.SS1.p2.6.m6.2.2.2.2.1.cmml">|</mo><msub id="S3.SS1.p2.6.m6.2.2.2.1.1" xref="S3.SS1.p2.6.m6.2.2.2.1.1.cmml"><mover accent="true" id="S3.SS1.p2.6.m6.2.2.2.1.1.2" xref="S3.SS1.p2.6.m6.2.2.2.1.1.2.cmml"><mi id="S3.SS1.p2.6.m6.2.2.2.1.1.2.2" xref="S3.SS1.p2.6.m6.2.2.2.1.1.2.2.cmml">D</mi><mo id="S3.SS1.p2.6.m6.2.2.2.1.1.2.1" xref="S3.SS1.p2.6.m6.2.2.2.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS1.p2.6.m6.2.2.2.1.1.3" xref="S3.SS1.p2.6.m6.2.2.2.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S3.SS1.p2.6.m6.2.2.2.1.3" xref="S3.SS1.p2.6.m6.2.2.2.2.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.2b"><apply id="S3.SS1.p2.6.m6.2.2.cmml" xref="S3.SS1.p2.6.m6.2.2"><eq id="S3.SS1.p2.6.m6.2.2.3.cmml" xref="S3.SS1.p2.6.m6.2.2.3"></eq><apply id="S3.SS1.p2.6.m6.1.1.1.2.cmml" xref="S3.SS1.p2.6.m6.1.1.1.1"><abs id="S3.SS1.p2.6.m6.1.1.1.2.1.cmml" xref="S3.SS1.p2.6.m6.1.1.1.1.2"></abs><apply id="S3.SS1.p2.6.m6.1.1.1.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1.1.1.1">subscript</csymbol><apply id="S3.SS1.p2.6.m6.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.6.m6.1.1.1.1.1.2"><ci id="S3.SS1.p2.6.m6.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p2.6.m6.1.1.1.1.1.2.1">~</ci><ci id="S3.SS1.p2.6.m6.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p2.6.m6.1.1.1.1.1.2.2">𝐷</ci></apply><ci id="S3.SS1.p2.6.m6.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.6.m6.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.SS1.p2.6.m6.2.2.2.2.cmml" xref="S3.SS1.p2.6.m6.2.2.2.1"><abs id="S3.SS1.p2.6.m6.2.2.2.2.1.cmml" xref="S3.SS1.p2.6.m6.2.2.2.1.2"></abs><apply id="S3.SS1.p2.6.m6.2.2.2.1.1.cmml" xref="S3.SS1.p2.6.m6.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.2.2.2.1.1.1.cmml" xref="S3.SS1.p2.6.m6.2.2.2.1.1">subscript</csymbol><apply id="S3.SS1.p2.6.m6.2.2.2.1.1.2.cmml" xref="S3.SS1.p2.6.m6.2.2.2.1.1.2"><ci id="S3.SS1.p2.6.m6.2.2.2.1.1.2.1.cmml" xref="S3.SS1.p2.6.m6.2.2.2.1.1.2.1">~</ci><ci id="S3.SS1.p2.6.m6.2.2.2.1.1.2.2.cmml" xref="S3.SS1.p2.6.m6.2.2.2.1.1.2.2">𝐷</ci></apply><ci id="S3.SS1.p2.6.m6.2.2.2.1.1.3.cmml" xref="S3.SS1.p2.6.m6.2.2.2.1.1.3">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.2c">|\tilde{D}_{i}|=|\tilde{D}_{j}|</annotation></semantics></math>. A basic setup for federated virtual learning is to replace <math id="S3.SS1.p2.7.m7.1" class="ltx_Math" alttext="D_{i}" display="inline"><semantics id="S3.SS1.p2.7.m7.1a"><msub id="S3.SS1.p2.7.m7.1.1" xref="S3.SS1.p2.7.m7.1.1.cmml"><mi id="S3.SS1.p2.7.m7.1.1.2" xref="S3.SS1.p2.7.m7.1.1.2.cmml">D</mi><mi id="S3.SS1.p2.7.m7.1.1.3" xref="S3.SS1.p2.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.1b"><apply id="S3.SS1.p2.7.m7.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.1.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.p2.7.m7.1.1.2.cmml" xref="S3.SS1.p2.7.m7.1.1.2">𝐷</ci><ci id="S3.SS1.p2.7.m7.1.1.3.cmml" xref="S3.SS1.p2.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.1c">D_{i}</annotation></semantics></math> with <math id="S3.SS1.p2.8.m8.1" class="ltx_Math" alttext="\tilde{D}_{i}" display="inline"><semantics id="S3.SS1.p2.8.m8.1a"><msub id="S3.SS1.p2.8.m8.1.1" xref="S3.SS1.p2.8.m8.1.1.cmml"><mover accent="true" id="S3.SS1.p2.8.m8.1.1.2" xref="S3.SS1.p2.8.m8.1.1.2.cmml"><mi id="S3.SS1.p2.8.m8.1.1.2.2" xref="S3.SS1.p2.8.m8.1.1.2.2.cmml">D</mi><mo id="S3.SS1.p2.8.m8.1.1.2.1" xref="S3.SS1.p2.8.m8.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS1.p2.8.m8.1.1.3" xref="S3.SS1.p2.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m8.1b"><apply id="S3.SS1.p2.8.m8.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1">subscript</csymbol><apply id="S3.SS1.p2.8.m8.1.1.2.cmml" xref="S3.SS1.p2.8.m8.1.1.2"><ci id="S3.SS1.p2.8.m8.1.1.2.1.cmml" xref="S3.SS1.p2.8.m8.1.1.2.1">~</ci><ci id="S3.SS1.p2.8.m8.1.1.2.2.cmml" xref="S3.SS1.p2.8.m8.1.1.2.2">𝐷</ci></apply><ci id="S3.SS1.p2.8.m8.1.1.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m8.1c">\tilde{D}_{i}</annotation></semantics></math> in Eq (<a href="#S3.E1" title="In 3.1 Setup for Federated Virtual Learning ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>), namely FL model is trained on the virtual datasets. As suggested in FedDM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite>, the clients should not share gradients w.r.t. the original data for privacy concern.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Overall Pipeline</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">The overall pipeline of our proposed method contains three stages, including <em id="S3.SS2.p1.1.1" class="ltx_emph ltx_font_italic">1) initialization, 2) iterative local-global distillation, and 3) federated virtual learning.</em> We depict the overview of <span id="S3.SS2.p1.1.2" class="ltx_text ltx_font_smallcaps">FedLGD</span> pipeline in Figure <a href="#S3.F2" title="Figure 2 ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. However, FL is inevitability affected by several challenges, including synchronization, efficiency, privacy, and heterogeneity. Specifically, we outline <span id="S3.SS2.p1.1.3" class="ltx_text ltx_font_smallcaps">FedLGD</span> as follows:</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.3" class="ltx_p">We begin with the initialization of the clients’ local virtual data <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="\tilde{D}^{c}" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><msup id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mover accent="true" id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml"><mi id="S3.SS2.p2.1.m1.1.1.2.2" xref="S3.SS2.p2.1.m1.1.1.2.2.cmml">D</mi><mo id="S3.SS2.p2.1.m1.1.1.2.1" xref="S3.SS2.p2.1.m1.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml">c</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">superscript</csymbol><apply id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2"><ci id="S3.SS2.p2.1.m1.1.1.2.1.cmml" xref="S3.SS2.p2.1.m1.1.1.2.1">~</ci><ci id="S3.SS2.p2.1.m1.1.1.2.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2.2">𝐷</ci></apply><ci id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">\tilde{D}^{c}</annotation></semantics></math> by performing initial rounds of distribution matching (DM) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite>. Meanwhile, the server will initialize global virtual data <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="\tilde{D}^{g}" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><msup id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mover accent="true" id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2.2" xref="S3.SS2.p2.2.m2.1.1.2.2.cmml">D</mi><mo id="S3.SS2.p2.2.m2.1.1.2.1" xref="S3.SS2.p2.2.m2.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml">g</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">superscript</csymbol><apply id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2"><ci id="S3.SS2.p2.2.m2.1.1.2.1.cmml" xref="S3.SS2.p2.2.m2.1.1.2.1">~</ci><ci id="S3.SS2.p2.2.m2.1.1.2.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2.2">𝐷</ci></apply><ci id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">\tilde{D}^{g}</annotation></semantics></math> and network parameters <math id="S3.SS2.p2.3.m3.1" class="ltx_Math" alttext="\theta^{g}_{0}" display="inline"><semantics id="S3.SS2.p2.3.m3.1a"><msubsup id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2.2" xref="S3.SS2.p2.3.m3.1.1.2.2.cmml">θ</mi><mn id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml">0</mn><mi id="S3.SS2.p2.3.m3.1.1.2.3" xref="S3.SS2.p2.3.m3.1.1.2.3.cmml">g</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">subscript</csymbol><apply id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.2.1.cmml" xref="S3.SS2.p2.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.2.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2.2">𝜃</ci><ci id="S3.SS2.p2.3.m3.1.1.2.3.cmml" xref="S3.SS2.p2.3.m3.1.1.2.3">𝑔</ci></apply><cn type="integer" id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">\theta^{g}_{0}</annotation></semantics></math>. In this stage, we generate the same amount of class-balanced virtual data for each client and server.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.7" class="ltx_p">Then, we will refine our local and global virtual data using our proposed <em id="S3.SS2.p3.7.1" class="ltx_emph ltx_font_italic">local-global</em> distillation strategies in Sec. <a href="#S3.SS3.SSS1" title="3.3.1 Local Data Distillation ‣ 3.3 FL with Local-Global Dataset Distillation ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3.1</span></a> and <a href="#S3.SS3.SSS2" title="3.3.2 Global Data Distillation ‣ 3.3 FL with Local-Global Dataset Distillation ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3.2</span></a>. This step is performed for a few selected iterations (e.g. <math id="S3.SS2.p3.1.m1.3" class="ltx_Math" alttext="\tau=\{0,5,10\}" display="inline"><semantics id="S3.SS2.p3.1.m1.3a"><mrow id="S3.SS2.p3.1.m1.3.4" xref="S3.SS2.p3.1.m1.3.4.cmml"><mi id="S3.SS2.p3.1.m1.3.4.2" xref="S3.SS2.p3.1.m1.3.4.2.cmml">τ</mi><mo id="S3.SS2.p3.1.m1.3.4.1" xref="S3.SS2.p3.1.m1.3.4.1.cmml">=</mo><mrow id="S3.SS2.p3.1.m1.3.4.3.2" xref="S3.SS2.p3.1.m1.3.4.3.1.cmml"><mo stretchy="false" id="S3.SS2.p3.1.m1.3.4.3.2.1" xref="S3.SS2.p3.1.m1.3.4.3.1.cmml">{</mo><mn id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml">0</mn><mo id="S3.SS2.p3.1.m1.3.4.3.2.2" xref="S3.SS2.p3.1.m1.3.4.3.1.cmml">,</mo><mn id="S3.SS2.p3.1.m1.2.2" xref="S3.SS2.p3.1.m1.2.2.cmml">5</mn><mo id="S3.SS2.p3.1.m1.3.4.3.2.3" xref="S3.SS2.p3.1.m1.3.4.3.1.cmml">,</mo><mn id="S3.SS2.p3.1.m1.3.3" xref="S3.SS2.p3.1.m1.3.3.cmml">10</mn><mo stretchy="false" id="S3.SS2.p3.1.m1.3.4.3.2.4" xref="S3.SS2.p3.1.m1.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.3b"><apply id="S3.SS2.p3.1.m1.3.4.cmml" xref="S3.SS2.p3.1.m1.3.4"><eq id="S3.SS2.p3.1.m1.3.4.1.cmml" xref="S3.SS2.p3.1.m1.3.4.1"></eq><ci id="S3.SS2.p3.1.m1.3.4.2.cmml" xref="S3.SS2.p3.1.m1.3.4.2">𝜏</ci><set id="S3.SS2.p3.1.m1.3.4.3.1.cmml" xref="S3.SS2.p3.1.m1.3.4.3.2"><cn type="integer" id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">0</cn><cn type="integer" id="S3.SS2.p3.1.m1.2.2.cmml" xref="S3.SS2.p3.1.m1.2.2">5</cn><cn type="integer" id="S3.SS2.p3.1.m1.3.3.cmml" xref="S3.SS2.p3.1.m1.3.3">10</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.3c">\tau=\{0,5,10\}</annotation></semantics></math>) to update <math id="S3.SS2.p3.2.m2.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S3.SS2.p3.2.m2.1a"><mi id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><ci id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">\theta</annotation></semantics></math> using <math id="S3.SS2.p3.3.m3.1" class="ltx_Math" alttext="\mathcal{L}_{\rm CE}" display="inline"><semantics id="S3.SS2.p3.3.m3.1a"><msub id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p3.3.m3.1.1.2" xref="S3.SS2.p3.3.m3.1.1.2.cmml">ℒ</mi><mi id="S3.SS2.p3.3.m3.1.1.3" xref="S3.SS2.p3.3.m3.1.1.3.cmml">CE</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><apply id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.1.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p3.3.m3.1.1.2.cmml" xref="S3.SS2.p3.3.m3.1.1.2">ℒ</ci><ci id="S3.SS2.p3.3.m3.1.1.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3">CE</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">\mathcal{L}_{\rm CE}</annotation></semantics></math> (Eq <a href="#S3.E3" title="In 3.3.1 Local Data Distillation ‣ 3.3 FL with Local-Global Dataset Distillation ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>), <math id="S3.SS2.p3.4.m4.1" class="ltx_Math" alttext="\tilde{D}^{g}" display="inline"><semantics id="S3.SS2.p3.4.m4.1a"><msup id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml"><mover accent="true" id="S3.SS2.p3.4.m4.1.1.2" xref="S3.SS2.p3.4.m4.1.1.2.cmml"><mi id="S3.SS2.p3.4.m4.1.1.2.2" xref="S3.SS2.p3.4.m4.1.1.2.2.cmml">D</mi><mo id="S3.SS2.p3.4.m4.1.1.2.1" xref="S3.SS2.p3.4.m4.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS2.p3.4.m4.1.1.3" xref="S3.SS2.p3.4.m4.1.1.3.cmml">g</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.1b"><apply id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">superscript</csymbol><apply id="S3.SS2.p3.4.m4.1.1.2.cmml" xref="S3.SS2.p3.4.m4.1.1.2"><ci id="S3.SS2.p3.4.m4.1.1.2.1.cmml" xref="S3.SS2.p3.4.m4.1.1.2.1">~</ci><ci id="S3.SS2.p3.4.m4.1.1.2.2.cmml" xref="S3.SS2.p3.4.m4.1.1.2.2">𝐷</ci></apply><ci id="S3.SS2.p3.4.m4.1.1.3.cmml" xref="S3.SS2.p3.4.m4.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.1c">\tilde{D}^{g}</annotation></semantics></math> using <math id="S3.SS2.p3.5.m5.1" class="ltx_Math" alttext="\mathcal{L}_{\rm Dist}" display="inline"><semantics id="S3.SS2.p3.5.m5.1a"><msub id="S3.SS2.p3.5.m5.1.1" xref="S3.SS2.p3.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p3.5.m5.1.1.2" xref="S3.SS2.p3.5.m5.1.1.2.cmml">ℒ</mi><mi id="S3.SS2.p3.5.m5.1.1.3" xref="S3.SS2.p3.5.m5.1.1.3.cmml">Dist</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.1b"><apply id="S3.SS2.p3.5.m5.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.1.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p3.5.m5.1.1.2.cmml" xref="S3.SS2.p3.5.m5.1.1.2">ℒ</ci><ci id="S3.SS2.p3.5.m5.1.1.3.cmml" xref="S3.SS2.p3.5.m5.1.1.3">Dist</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.1c">\mathcal{L}_{\rm Dist}</annotation></semantics></math> (Eq <a href="#S3.E5" title="In 3.3.2 Global Data Distillation ‣ 3.3 FL with Local-Global Dataset Distillation ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>), and <math id="S3.SS2.p3.6.m6.1" class="ltx_Math" alttext="\tilde{D}^{c}" display="inline"><semantics id="S3.SS2.p3.6.m6.1a"><msup id="S3.SS2.p3.6.m6.1.1" xref="S3.SS2.p3.6.m6.1.1.cmml"><mover accent="true" id="S3.SS2.p3.6.m6.1.1.2" xref="S3.SS2.p3.6.m6.1.1.2.cmml"><mi id="S3.SS2.p3.6.m6.1.1.2.2" xref="S3.SS2.p3.6.m6.1.1.2.2.cmml">D</mi><mo id="S3.SS2.p3.6.m6.1.1.2.1" xref="S3.SS2.p3.6.m6.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS2.p3.6.m6.1.1.3" xref="S3.SS2.p3.6.m6.1.1.3.cmml">c</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.6.m6.1b"><apply id="S3.SS2.p3.6.m6.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.1.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1">superscript</csymbol><apply id="S3.SS2.p3.6.m6.1.1.2.cmml" xref="S3.SS2.p3.6.m6.1.1.2"><ci id="S3.SS2.p3.6.m6.1.1.2.1.cmml" xref="S3.SS2.p3.6.m6.1.1.2.1">~</ci><ci id="S3.SS2.p3.6.m6.1.1.2.2.cmml" xref="S3.SS2.p3.6.m6.1.1.2.2">𝐷</ci></apply><ci id="S3.SS2.p3.6.m6.1.1.3.cmml" xref="S3.SS2.p3.6.m6.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.6.m6.1c">\tilde{D}^{c}</annotation></semantics></math> using <math id="S3.SS2.p3.7.m7.1" class="ltx_Math" alttext="\mathcal{L}_{\rm MMD}" display="inline"><semantics id="S3.SS2.p3.7.m7.1a"><msub id="S3.SS2.p3.7.m7.1.1" xref="S3.SS2.p3.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p3.7.m7.1.1.2" xref="S3.SS2.p3.7.m7.1.1.2.cmml">ℒ</mi><mi id="S3.SS2.p3.7.m7.1.1.3" xref="S3.SS2.p3.7.m7.1.1.3.cmml">MMD</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.7.m7.1b"><apply id="S3.SS2.p3.7.m7.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.7.m7.1.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p3.7.m7.1.1.2.cmml" xref="S3.SS2.p3.7.m7.1.1.2">ℒ</ci><ci id="S3.SS2.p3.7.m7.1.1.3.cmml" xref="S3.SS2.p3.7.m7.1.1.3">MMD</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.7.m7.1c">\mathcal{L}_{\rm MMD}</annotation></semantics></math> (Eq <a href="#S3.E2" title="In 3.3.1 Local Data Distillation ‣ 3.3 FL with Local-Global Dataset Distillation ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>) in early training epochs. For each selected iterations, the server and clients will update their virtual data for a few distillation steps.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.6" class="ltx_p">Finally, after refining local and global virtual data <math id="S3.SS2.p4.1.m1.1" class="ltx_Math" alttext="\tilde{D}^{g}" display="inline"><semantics id="S3.SS2.p4.1.m1.1a"><msup id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><mover accent="true" id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2.2" xref="S3.SS2.p4.1.m1.1.1.2.2.cmml">D</mi><mo id="S3.SS2.p4.1.m1.1.1.2.1" xref="S3.SS2.p4.1.m1.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml">g</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">superscript</csymbol><apply id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2"><ci id="S3.SS2.p4.1.m1.1.1.2.1.cmml" xref="S3.SS2.p4.1.m1.1.1.2.1">~</ci><ci id="S3.SS2.p4.1.m1.1.1.2.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2.2">𝐷</ci></apply><ci id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">\tilde{D}^{g}</annotation></semantics></math> and <math id="S3.SS2.p4.2.m2.1" class="ltx_Math" alttext="\tilde{D}^{c}" display="inline"><semantics id="S3.SS2.p4.2.m2.1a"><msup id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><mover accent="true" id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2.2" xref="S3.SS2.p4.2.m2.1.1.2.2.cmml">D</mi><mo id="S3.SS2.p4.2.m2.1.1.2.1" xref="S3.SS2.p4.2.m2.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml">c</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">superscript</csymbol><apply id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2"><ci id="S3.SS2.p4.2.m2.1.1.2.1.cmml" xref="S3.SS2.p4.2.m2.1.1.2.1">~</ci><ci id="S3.SS2.p4.2.m2.1.1.2.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2.2">𝐷</ci></apply><ci id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">\tilde{D}^{c}</annotation></semantics></math>, we continue federated virtual learning in stage 3 on local virtual data <math id="S3.SS2.p4.3.m3.1" class="ltx_Math" alttext="\tilde{D}^{c}" display="inline"><semantics id="S3.SS2.p4.3.m3.1a"><msup id="S3.SS2.p4.3.m3.1.1" xref="S3.SS2.p4.3.m3.1.1.cmml"><mover accent="true" id="S3.SS2.p4.3.m3.1.1.2" xref="S3.SS2.p4.3.m3.1.1.2.cmml"><mi id="S3.SS2.p4.3.m3.1.1.2.2" xref="S3.SS2.p4.3.m3.1.1.2.2.cmml">D</mi><mo id="S3.SS2.p4.3.m3.1.1.2.1" xref="S3.SS2.p4.3.m3.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS2.p4.3.m3.1.1.3" xref="S3.SS2.p4.3.m3.1.1.3.cmml">c</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m3.1b"><apply id="S3.SS2.p4.3.m3.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.1.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1">superscript</csymbol><apply id="S3.SS2.p4.3.m3.1.1.2.cmml" xref="S3.SS2.p4.3.m3.1.1.2"><ci id="S3.SS2.p4.3.m3.1.1.2.1.cmml" xref="S3.SS2.p4.3.m3.1.1.2.1">~</ci><ci id="S3.SS2.p4.3.m3.1.1.2.2.cmml" xref="S3.SS2.p4.3.m3.1.1.2.2">𝐷</ci></apply><ci id="S3.SS2.p4.3.m3.1.1.3.cmml" xref="S3.SS2.p4.3.m3.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m3.1c">\tilde{D}^{c}</annotation></semantics></math> using <math id="S3.SS2.p4.4.m4.1" class="ltx_Math" alttext="\mathcal{L}_{\rm total}" display="inline"><semantics id="S3.SS2.p4.4.m4.1a"><msub id="S3.SS2.p4.4.m4.1.1" xref="S3.SS2.p4.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p4.4.m4.1.1.2" xref="S3.SS2.p4.4.m4.1.1.2.cmml">ℒ</mi><mi id="S3.SS2.p4.4.m4.1.1.3" xref="S3.SS2.p4.4.m4.1.1.3.cmml">total</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m4.1b"><apply id="S3.SS2.p4.4.m4.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.4.m4.1.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p4.4.m4.1.1.2.cmml" xref="S3.SS2.p4.4.m4.1.1.2">ℒ</ci><ci id="S3.SS2.p4.4.m4.1.1.3.cmml" xref="S3.SS2.p4.4.m4.1.1.3">total</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m4.1c">\mathcal{L}_{\rm total}</annotation></semantics></math> (Eq <a href="#S3.E3" title="In 3.3.1 Local Data Distillation ‣ 3.3 FL with Local-Global Dataset Distillation ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>), with <math id="S3.SS2.p4.5.m5.1" class="ltx_Math" alttext="\tilde{D}^{g}" display="inline"><semantics id="S3.SS2.p4.5.m5.1a"><msup id="S3.SS2.p4.5.m5.1.1" xref="S3.SS2.p4.5.m5.1.1.cmml"><mover accent="true" id="S3.SS2.p4.5.m5.1.1.2" xref="S3.SS2.p4.5.m5.1.1.2.cmml"><mi id="S3.SS2.p4.5.m5.1.1.2.2" xref="S3.SS2.p4.5.m5.1.1.2.2.cmml">D</mi><mo id="S3.SS2.p4.5.m5.1.1.2.1" xref="S3.SS2.p4.5.m5.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS2.p4.5.m5.1.1.3" xref="S3.SS2.p4.5.m5.1.1.3.cmml">g</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.5.m5.1b"><apply id="S3.SS2.p4.5.m5.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.5.m5.1.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1">superscript</csymbol><apply id="S3.SS2.p4.5.m5.1.1.2.cmml" xref="S3.SS2.p4.5.m5.1.1.2"><ci id="S3.SS2.p4.5.m5.1.1.2.1.cmml" xref="S3.SS2.p4.5.m5.1.1.2.1">~</ci><ci id="S3.SS2.p4.5.m5.1.1.2.2.cmml" xref="S3.SS2.p4.5.m5.1.1.2.2">𝐷</ci></apply><ci id="S3.SS2.p4.5.m5.1.1.3.cmml" xref="S3.SS2.p4.5.m5.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.5.m5.1c">\tilde{D}^{g}</annotation></semantics></math> as regularization anchor to calculate <math id="S3.SS2.p4.6.m6.1" class="ltx_Math" alttext="\mathcal{L}_{\rm Con}" display="inline"><semantics id="S3.SS2.p4.6.m6.1a"><msub id="S3.SS2.p4.6.m6.1.1" xref="S3.SS2.p4.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p4.6.m6.1.1.2" xref="S3.SS2.p4.6.m6.1.1.2.cmml">ℒ</mi><mi id="S3.SS2.p4.6.m6.1.1.3" xref="S3.SS2.p4.6.m6.1.1.3.cmml">Con</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.6.m6.1b"><apply id="S3.SS2.p4.6.m6.1.1.cmml" xref="S3.SS2.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.6.m6.1.1.1.cmml" xref="S3.SS2.p4.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p4.6.m6.1.1.2.cmml" xref="S3.SS2.p4.6.m6.1.1.2">ℒ</ci><ci id="S3.SS2.p4.6.m6.1.1.3.cmml" xref="S3.SS2.p4.6.m6.1.1.3">Con</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.6.m6.1c">\mathcal{L}_{\rm Con}</annotation></semantics></math> (Eq. <a href="#S3.E4" title="In 3.3.1 Local Data Distillation ‣ 3.3 FL with Local-Global Dataset Distillation ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>). We provide implementation details, an algorithm box, and an anonymous link to our code in the Appendix.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>FL with Local-Global Dataset Distillation</h3>

<section id="S3.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.3.1 </span>Local Data Distillation</h4>

<div id="S3.SS3.SSS1.p1" class="ltx_para">
<p id="S3.SS3.SSS1.p1.1" class="ltx_p">Our purpose is to decrease the number of local data to achieve efficient training to meet the following goals. First of all, we hope to synthesize virtual data conditional on class labels to achieve class-balanced virtual datasets.
Second, we hope to distill local data that is best suited for the classification task. Last but not least, the process should be efficient due to the limited computational resource locally. To this end, we design Iterative Distribution Matching to fulfill our purpose.
</p>
</div>
<div id="S3.SS3.SSS1.p2" class="ltx_para ltx_noindent">
<p id="S3.SS3.SSS1.p2.9" class="ltx_p"><span id="S3.SS3.SSS1.p2.9.1" class="ltx_text ltx_font_bold">Iterative distribution matching.</span> We aim to gradually improve distillation quality during FL training. To begin with, we split a model into two parts, feature extractor <math id="S3.SS3.SSS1.p2.1.m1.1" class="ltx_Math" alttext="\psi" display="inline"><semantics id="S3.SS3.SSS1.p2.1.m1.1a"><mi id="S3.SS3.SSS1.p2.1.m1.1.1" xref="S3.SS3.SSS1.p2.1.m1.1.1.cmml">ψ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.1.m1.1b"><ci id="S3.SS3.SSS1.p2.1.m1.1.1.cmml" xref="S3.SS3.SSS1.p2.1.m1.1.1">𝜓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.1.m1.1c">\psi</annotation></semantics></math> (shown as <math id="S3.SS3.SSS1.p2.2.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S3.SS3.SSS1.p2.2.m2.1a"><mi id="S3.SS3.SSS1.p2.2.m2.1.1" xref="S3.SS3.SSS1.p2.2.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.2.m2.1b"><ci id="S3.SS3.SSS1.p2.2.m2.1.1.cmml" xref="S3.SS3.SSS1.p2.2.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.2.m2.1c">E</annotation></semantics></math> in figure <a href="#S3.F2" title="Figure 2 ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>) and classification head <math id="S3.SS3.SSS1.p2.3.m3.1" class="ltx_Math" alttext="h" display="inline"><semantics id="S3.SS3.SSS1.p2.3.m3.1a"><mi id="S3.SS3.SSS1.p2.3.m3.1.1" xref="S3.SS3.SSS1.p2.3.m3.1.1.cmml">h</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.3.m3.1b"><ci id="S3.SS3.SSS1.p2.3.m3.1.1.cmml" xref="S3.SS3.SSS1.p2.3.m3.1.1">ℎ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.3.m3.1c">h</annotation></semantics></math> (shown as <math id="S3.SS3.SSS1.p2.4.m4.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.SS3.SSS1.p2.4.m4.1a"><mi id="S3.SS3.SSS1.p2.4.m4.1.1" xref="S3.SS3.SSS1.p2.4.m4.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.4.m4.1b"><ci id="S3.SS3.SSS1.p2.4.m4.1.1.cmml" xref="S3.SS3.SSS1.p2.4.m4.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.4.m4.1c">C</annotation></semantics></math> in figure <a href="#S3.F2" title="Figure 2 ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>). The whole classification model is defined as <math id="S3.SS3.SSS1.p2.5.m5.1" class="ltx_Math" alttext="f^{\theta}=h\circ\psi" display="inline"><semantics id="S3.SS3.SSS1.p2.5.m5.1a"><mrow id="S3.SS3.SSS1.p2.5.m5.1.1" xref="S3.SS3.SSS1.p2.5.m5.1.1.cmml"><msup id="S3.SS3.SSS1.p2.5.m5.1.1.2" xref="S3.SS3.SSS1.p2.5.m5.1.1.2.cmml"><mi id="S3.SS3.SSS1.p2.5.m5.1.1.2.2" xref="S3.SS3.SSS1.p2.5.m5.1.1.2.2.cmml">f</mi><mi id="S3.SS3.SSS1.p2.5.m5.1.1.2.3" xref="S3.SS3.SSS1.p2.5.m5.1.1.2.3.cmml">θ</mi></msup><mo id="S3.SS3.SSS1.p2.5.m5.1.1.1" xref="S3.SS3.SSS1.p2.5.m5.1.1.1.cmml">=</mo><mrow id="S3.SS3.SSS1.p2.5.m5.1.1.3" xref="S3.SS3.SSS1.p2.5.m5.1.1.3.cmml"><mi id="S3.SS3.SSS1.p2.5.m5.1.1.3.2" xref="S3.SS3.SSS1.p2.5.m5.1.1.3.2.cmml">h</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.SSS1.p2.5.m5.1.1.3.1" xref="S3.SS3.SSS1.p2.5.m5.1.1.3.1.cmml">∘</mo><mi id="S3.SS3.SSS1.p2.5.m5.1.1.3.3" xref="S3.SS3.SSS1.p2.5.m5.1.1.3.3.cmml">ψ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.5.m5.1b"><apply id="S3.SS3.SSS1.p2.5.m5.1.1.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1"><eq id="S3.SS3.SSS1.p2.5.m5.1.1.1.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1.1"></eq><apply id="S3.SS3.SSS1.p2.5.m5.1.1.2.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.5.m5.1.1.2.1.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1.2">superscript</csymbol><ci id="S3.SS3.SSS1.p2.5.m5.1.1.2.2.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1.2.2">𝑓</ci><ci id="S3.SS3.SSS1.p2.5.m5.1.1.2.3.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1.2.3">𝜃</ci></apply><apply id="S3.SS3.SSS1.p2.5.m5.1.1.3.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1.3"><compose id="S3.SS3.SSS1.p2.5.m5.1.1.3.1.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1.3.1"></compose><ci id="S3.SS3.SSS1.p2.5.m5.1.1.3.2.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1.3.2">ℎ</ci><ci id="S3.SS3.SSS1.p2.5.m5.1.1.3.3.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1.3.3">𝜓</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.5.m5.1c">f^{\theta}=h\circ\psi</annotation></semantics></math>.
The high-level idea of distribution matching can be described as follows. Given a feature extractor <math id="S3.SS3.SSS1.p2.6.m6.1" class="ltx_Math" alttext="\psi:\mathbb{R}^{d}\to\mathbb{R}^{d^{\prime}}" display="inline"><semantics id="S3.SS3.SSS1.p2.6.m6.1a"><mrow id="S3.SS3.SSS1.p2.6.m6.1.1" xref="S3.SS3.SSS1.p2.6.m6.1.1.cmml"><mi id="S3.SS3.SSS1.p2.6.m6.1.1.2" xref="S3.SS3.SSS1.p2.6.m6.1.1.2.cmml">ψ</mi><mo lspace="0.278em" rspace="0.278em" id="S3.SS3.SSS1.p2.6.m6.1.1.1" xref="S3.SS3.SSS1.p2.6.m6.1.1.1.cmml">:</mo><mrow id="S3.SS3.SSS1.p2.6.m6.1.1.3" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.cmml"><msup id="S3.SS3.SSS1.p2.6.m6.1.1.3.2" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.2.cmml"><mi id="S3.SS3.SSS1.p2.6.m6.1.1.3.2.2" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.2.2.cmml">ℝ</mi><mi id="S3.SS3.SSS1.p2.6.m6.1.1.3.2.3" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.2.3.cmml">d</mi></msup><mo stretchy="false" id="S3.SS3.SSS1.p2.6.m6.1.1.3.1" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.1.cmml">→</mo><msup id="S3.SS3.SSS1.p2.6.m6.1.1.3.3" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3.cmml"><mi id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.2" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3.2.cmml">ℝ</mi><msup id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3.cmml"><mi id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3.2" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3.2.cmml">d</mi><mo id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3.3" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3.3.cmml">′</mo></msup></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.6.m6.1b"><apply id="S3.SS3.SSS1.p2.6.m6.1.1.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1"><ci id="S3.SS3.SSS1.p2.6.m6.1.1.1.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.1">:</ci><ci id="S3.SS3.SSS1.p2.6.m6.1.1.2.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.2">𝜓</ci><apply id="S3.SS3.SSS1.p2.6.m6.1.1.3.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3"><ci id="S3.SS3.SSS1.p2.6.m6.1.1.3.1.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.1">→</ci><apply id="S3.SS3.SSS1.p2.6.m6.1.1.3.2.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.6.m6.1.1.3.2.1.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.2">superscript</csymbol><ci id="S3.SS3.SSS1.p2.6.m6.1.1.3.2.2.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.2.2">ℝ</ci><ci id="S3.SS3.SSS1.p2.6.m6.1.1.3.2.3.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.2.3">𝑑</ci></apply><apply id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.1.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3">superscript</csymbol><ci id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.2.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3.2">ℝ</ci><apply id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3.1.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3">superscript</csymbol><ci id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3.2.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3.2">𝑑</ci><ci id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3.3.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3.3.3">′</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.6.m6.1c">\psi:\mathbb{R}^{d}\to\mathbb{R}^{d^{\prime}}</annotation></semantics></math> , we want to generate <math id="S3.SS3.SSS1.p2.7.m7.1" class="ltx_Math" alttext="\tilde{D}" display="inline"><semantics id="S3.SS3.SSS1.p2.7.m7.1a"><mover accent="true" id="S3.SS3.SSS1.p2.7.m7.1.1" xref="S3.SS3.SSS1.p2.7.m7.1.1.cmml"><mi id="S3.SS3.SSS1.p2.7.m7.1.1.2" xref="S3.SS3.SSS1.p2.7.m7.1.1.2.cmml">D</mi><mo id="S3.SS3.SSS1.p2.7.m7.1.1.1" xref="S3.SS3.SSS1.p2.7.m7.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.7.m7.1b"><apply id="S3.SS3.SSS1.p2.7.m7.1.1.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1"><ci id="S3.SS3.SSS1.p2.7.m7.1.1.1.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1.1">~</ci><ci id="S3.SS3.SSS1.p2.7.m7.1.1.2.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1.2">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.7.m7.1c">\tilde{D}</annotation></semantics></math> so that <math id="S3.SS3.SSS1.p2.8.m8.2" class="ltx_Math" alttext="P_{\psi}(D)\approx P_{\psi}(\tilde{D})" display="inline"><semantics id="S3.SS3.SSS1.p2.8.m8.2a"><mrow id="S3.SS3.SSS1.p2.8.m8.2.3" xref="S3.SS3.SSS1.p2.8.m8.2.3.cmml"><mrow id="S3.SS3.SSS1.p2.8.m8.2.3.2" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.cmml"><msub id="S3.SS3.SSS1.p2.8.m8.2.3.2.2" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.2.cmml"><mi id="S3.SS3.SSS1.p2.8.m8.2.3.2.2.2" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.2.2.cmml">P</mi><mi id="S3.SS3.SSS1.p2.8.m8.2.3.2.2.3" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.2.3.cmml">ψ</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.SSS1.p2.8.m8.2.3.2.1" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.1.cmml">​</mo><mrow id="S3.SS3.SSS1.p2.8.m8.2.3.2.3.2" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.cmml"><mo stretchy="false" id="S3.SS3.SSS1.p2.8.m8.2.3.2.3.2.1" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.cmml">(</mo><mi id="S3.SS3.SSS1.p2.8.m8.1.1" xref="S3.SS3.SSS1.p2.8.m8.1.1.cmml">D</mi><mo stretchy="false" id="S3.SS3.SSS1.p2.8.m8.2.3.2.3.2.2" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.cmml">)</mo></mrow></mrow><mo id="S3.SS3.SSS1.p2.8.m8.2.3.1" xref="S3.SS3.SSS1.p2.8.m8.2.3.1.cmml">≈</mo><mrow id="S3.SS3.SSS1.p2.8.m8.2.3.3" xref="S3.SS3.SSS1.p2.8.m8.2.3.3.cmml"><msub id="S3.SS3.SSS1.p2.8.m8.2.3.3.2" xref="S3.SS3.SSS1.p2.8.m8.2.3.3.2.cmml"><mi id="S3.SS3.SSS1.p2.8.m8.2.3.3.2.2" xref="S3.SS3.SSS1.p2.8.m8.2.3.3.2.2.cmml">P</mi><mi id="S3.SS3.SSS1.p2.8.m8.2.3.3.2.3" xref="S3.SS3.SSS1.p2.8.m8.2.3.3.2.3.cmml">ψ</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.SSS1.p2.8.m8.2.3.3.1" xref="S3.SS3.SSS1.p2.8.m8.2.3.3.1.cmml">​</mo><mrow id="S3.SS3.SSS1.p2.8.m8.2.3.3.3.2" xref="S3.SS3.SSS1.p2.8.m8.2.2.cmml"><mo stretchy="false" id="S3.SS3.SSS1.p2.8.m8.2.3.3.3.2.1" xref="S3.SS3.SSS1.p2.8.m8.2.2.cmml">(</mo><mover accent="true" id="S3.SS3.SSS1.p2.8.m8.2.2" xref="S3.SS3.SSS1.p2.8.m8.2.2.cmml"><mi id="S3.SS3.SSS1.p2.8.m8.2.2.2" xref="S3.SS3.SSS1.p2.8.m8.2.2.2.cmml">D</mi><mo id="S3.SS3.SSS1.p2.8.m8.2.2.1" xref="S3.SS3.SSS1.p2.8.m8.2.2.1.cmml">~</mo></mover><mo stretchy="false" id="S3.SS3.SSS1.p2.8.m8.2.3.3.3.2.2" xref="S3.SS3.SSS1.p2.8.m8.2.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.8.m8.2b"><apply id="S3.SS3.SSS1.p2.8.m8.2.3.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3"><approx id="S3.SS3.SSS1.p2.8.m8.2.3.1.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.1"></approx><apply id="S3.SS3.SSS1.p2.8.m8.2.3.2.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.2"><times id="S3.SS3.SSS1.p2.8.m8.2.3.2.1.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.1"></times><apply id="S3.SS3.SSS1.p2.8.m8.2.3.2.2.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.2"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.8.m8.2.3.2.2.1.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.2">subscript</csymbol><ci id="S3.SS3.SSS1.p2.8.m8.2.3.2.2.2.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.2.2">𝑃</ci><ci id="S3.SS3.SSS1.p2.8.m8.2.3.2.2.3.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.2.2.3">𝜓</ci></apply><ci id="S3.SS3.SSS1.p2.8.m8.1.1.cmml" xref="S3.SS3.SSS1.p2.8.m8.1.1">𝐷</ci></apply><apply id="S3.SS3.SSS1.p2.8.m8.2.3.3.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.3"><times id="S3.SS3.SSS1.p2.8.m8.2.3.3.1.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.3.1"></times><apply id="S3.SS3.SSS1.p2.8.m8.2.3.3.2.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.3.2"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.8.m8.2.3.3.2.1.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.3.2">subscript</csymbol><ci id="S3.SS3.SSS1.p2.8.m8.2.3.3.2.2.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.3.2.2">𝑃</ci><ci id="S3.SS3.SSS1.p2.8.m8.2.3.3.2.3.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.3.2.3">𝜓</ci></apply><apply id="S3.SS3.SSS1.p2.8.m8.2.2.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.3.3.3.2"><ci id="S3.SS3.SSS1.p2.8.m8.2.2.1.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.2.1">~</ci><ci id="S3.SS3.SSS1.p2.8.m8.2.2.2.cmml" xref="S3.SS3.SSS1.p2.8.m8.2.2.2">𝐷</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.8.m8.2c">P_{\psi}(D)\approx P_{\psi}(\tilde{D})</annotation></semantics></math> where <math id="S3.SS3.SSS1.p2.9.m9.1" class="ltx_Math" alttext="P" display="inline"><semantics id="S3.SS3.SSS1.p2.9.m9.1a"><mi id="S3.SS3.SSS1.p2.9.m9.1.1" xref="S3.SS3.SSS1.p2.9.m9.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.9.m9.1b"><ci id="S3.SS3.SSS1.p2.9.m9.1.1.cmml" xref="S3.SS3.SSS1.p2.9.m9.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.9.m9.1c">P</annotation></semantics></math> is the distribution in feature space.
To distill local data during FL efficiently that best fits our task, we intend to use the up-to-date server model’s feature extractor as our kernel function to distill better virtual data. Since we can’t obtain ground truth distribution of local data, we utilize empirical maximum mean discrepancy (MMD) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> as our loss function for local virtual distillation:</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.9" class="ltx_Math" alttext="\mathcal{L}_{\rm MMD}\!=\!\sum_{k}^{K}||\frac{1}{|D^{c}_{k}|}\sum_{i=1}^{|D^{c}_{k}|}\psi^{t}(x_{i})\!-\!\frac{1}{|\tilde{D}^{c,t}_{k}|}\sum_{j=1}^{|\tilde{D}^{c,t}_{k}|}\psi^{t}(\tilde{x}_{j}^{t})||^{2}," display="block"><semantics id="S3.E2.m1.9a"><mrow id="S3.E2.m1.9.9.1" xref="S3.E2.m1.9.9.1.1.cmml"><mrow id="S3.E2.m1.9.9.1.1" xref="S3.E2.m1.9.9.1.1.cmml"><msub id="S3.E2.m1.9.9.1.1.3" xref="S3.E2.m1.9.9.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.9.9.1.1.3.2" xref="S3.E2.m1.9.9.1.1.3.2.cmml">ℒ</mi><mi id="S3.E2.m1.9.9.1.1.3.3" xref="S3.E2.m1.9.9.1.1.3.3.cmml">MMD</mi></msub><mo lspace="0.108em" rspace="0.0539em" id="S3.E2.m1.9.9.1.1.2" xref="S3.E2.m1.9.9.1.1.2.cmml">=</mo><mrow id="S3.E2.m1.9.9.1.1.1" xref="S3.E2.m1.9.9.1.1.1.cmml"><munderover id="S3.E2.m1.9.9.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.2.cmml"><mo lspace="0.0539em" movablelimits="false" rspace="0em" id="S3.E2.m1.9.9.1.1.1.2.2.2" xref="S3.E2.m1.9.9.1.1.1.2.2.2.cmml">∑</mo><mi id="S3.E2.m1.9.9.1.1.1.2.2.3" xref="S3.E2.m1.9.9.1.1.1.2.2.3.cmml">k</mi><mi id="S3.E2.m1.9.9.1.1.1.2.3" xref="S3.E2.m1.9.9.1.1.1.2.3.cmml">K</mi></munderover><msup id="S3.E2.m1.9.9.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.cmml"><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.cmml"><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.cmml"><mfrac id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml"><mn id="S3.E2.m1.1.1.3" xref="S3.E2.m1.1.1.3.cmml">1</mn><mrow id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E2.m1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.2.1.cmml">|</mo><msubsup id="S3.E2.m1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.1.1.1.1.1.2.2" xref="S3.E2.m1.1.1.1.1.1.2.2.cmml">D</mi><mi id="S3.E2.m1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.3.cmml">k</mi><mi id="S3.E2.m1.1.1.1.1.1.2.3" xref="S3.E2.m1.1.1.1.1.1.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="S3.E2.m1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.cmml"><munderover id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.cmml"><mo movablelimits="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.cmml"><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.E2.m1.2.2.1.1" xref="S3.E2.m1.2.2.1.2.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2" xref="S3.E2.m1.2.2.1.2.1.cmml">|</mo><msubsup id="S3.E2.m1.2.2.1.1.1" xref="S3.E2.m1.2.2.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.1.2.2" xref="S3.E2.m1.2.2.1.1.1.2.2.cmml">D</mi><mi id="S3.E2.m1.2.2.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.3.cmml">k</mi><mi id="S3.E2.m1.2.2.1.1.1.2.3" xref="S3.E2.m1.2.2.1.1.1.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="S3.E2.m1.2.2.1.1.3" xref="S3.E2.m1.2.2.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.cmml"><msup id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.2.cmml">ψ</mi><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.3.cmml">t</mi></msup><mo lspace="0em" rspace="0em" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0.052em" rspace="0.052em" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.3.cmml">−</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.cmml"><mfrac id="S3.E2.m1.5.5" xref="S3.E2.m1.5.5.cmml"><mn id="S3.E2.m1.5.5.5" xref="S3.E2.m1.5.5.5.cmml">1</mn><mrow id="S3.E2.m1.5.5.3.3" xref="S3.E2.m1.5.5.3.4.cmml"><mo stretchy="false" id="S3.E2.m1.5.5.3.3.2" xref="S3.E2.m1.5.5.3.4.1.cmml">|</mo><msubsup id="S3.E2.m1.5.5.3.3.1" xref="S3.E2.m1.5.5.3.3.1.cmml"><mover accent="true" id="S3.E2.m1.5.5.3.3.1.2.2" xref="S3.E2.m1.5.5.3.3.1.2.2.cmml"><mi id="S3.E2.m1.5.5.3.3.1.2.2.2" xref="S3.E2.m1.5.5.3.3.1.2.2.2.cmml">D</mi><mo id="S3.E2.m1.5.5.3.3.1.2.2.1" xref="S3.E2.m1.5.5.3.3.1.2.2.1.cmml">~</mo></mover><mi id="S3.E2.m1.5.5.3.3.1.3" xref="S3.E2.m1.5.5.3.3.1.3.cmml">k</mi><mrow id="S3.E2.m1.4.4.2.2.2.4" xref="S3.E2.m1.4.4.2.2.2.3.cmml"><mi id="S3.E2.m1.3.3.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.cmml">c</mi><mo id="S3.E2.m1.4.4.2.2.2.4.1" xref="S3.E2.m1.4.4.2.2.2.3.cmml">,</mo><mi id="S3.E2.m1.4.4.2.2.2.2" xref="S3.E2.m1.4.4.2.2.2.2.cmml">t</mi></mrow></msubsup><mo stretchy="false" id="S3.E2.m1.5.5.3.3.3" xref="S3.E2.m1.5.5.3.4.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.cmml">​</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.cmml"><munderover id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.cmml"><mo movablelimits="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.2.cmml">∑</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.cmml"><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.2.cmml">j</mi><mo id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.E2.m1.8.8.3.3" xref="S3.E2.m1.8.8.3.4.cmml"><mo stretchy="false" id="S3.E2.m1.8.8.3.3.2" xref="S3.E2.m1.8.8.3.4.1.cmml">|</mo><msubsup id="S3.E2.m1.8.8.3.3.1" xref="S3.E2.m1.8.8.3.3.1.cmml"><mover accent="true" id="S3.E2.m1.8.8.3.3.1.2.2" xref="S3.E2.m1.8.8.3.3.1.2.2.cmml"><mi id="S3.E2.m1.8.8.3.3.1.2.2.2" xref="S3.E2.m1.8.8.3.3.1.2.2.2.cmml">D</mi><mo id="S3.E2.m1.8.8.3.3.1.2.2.1" xref="S3.E2.m1.8.8.3.3.1.2.2.1.cmml">~</mo></mover><mi id="S3.E2.m1.8.8.3.3.1.3" xref="S3.E2.m1.8.8.3.3.1.3.cmml">k</mi><mrow id="S3.E2.m1.7.7.2.2.2.4" xref="S3.E2.m1.7.7.2.2.2.3.cmml"><mi id="S3.E2.m1.6.6.1.1.1.1" xref="S3.E2.m1.6.6.1.1.1.1.cmml">c</mi><mo id="S3.E2.m1.7.7.2.2.2.4.1" xref="S3.E2.m1.7.7.2.2.2.3.cmml">,</mo><mi id="S3.E2.m1.7.7.2.2.2.2" xref="S3.E2.m1.7.7.2.2.2.2.cmml">t</mi></mrow></msubsup><mo stretchy="false" id="S3.E2.m1.8.8.3.3.3" xref="S3.E2.m1.8.8.3.4.1.cmml">|</mo></mrow></munderover><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.cmml"><msup id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3.cmml"><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3.2.cmml">ψ</mi><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3.3.cmml">t</mi></msup><mo lspace="0em" rspace="0em" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.cmml"><mover accent="true" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2.cmml"><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2.2" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2.2.cmml">x</mi><mo id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2.1" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.3.cmml">j</mi><mi id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.3.cmml">t</mi></msubsup><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E2.m1.9.9.1.1.1.1.3" xref="S3.E2.m1.9.9.1.1.1.1.3.cmml">2</mn></msup></mrow></mrow><mo id="S3.E2.m1.9.9.1.2" xref="S3.E2.m1.9.9.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.9b"><apply id="S3.E2.m1.9.9.1.1.cmml" xref="S3.E2.m1.9.9.1"><eq id="S3.E2.m1.9.9.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.2"></eq><apply id="S3.E2.m1.9.9.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.3.1.cmml" xref="S3.E2.m1.9.9.1.1.3">subscript</csymbol><ci id="S3.E2.m1.9.9.1.1.3.2.cmml" xref="S3.E2.m1.9.9.1.1.3.2">ℒ</ci><ci id="S3.E2.m1.9.9.1.1.3.3.cmml" xref="S3.E2.m1.9.9.1.1.3.3">MMD</ci></apply><apply id="S3.E2.m1.9.9.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1"><apply id="S3.E2.m1.9.9.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.2">superscript</csymbol><apply id="S3.E2.m1.9.9.1.1.1.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.2.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.2">subscript</csymbol><sum id="S3.E2.m1.9.9.1.1.1.2.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.2.2.2"></sum><ci id="S3.E2.m1.9.9.1.1.1.2.2.3.cmml" xref="S3.E2.m1.9.9.1.1.1.2.2.3">𝑘</ci></apply><ci id="S3.E2.m1.9.9.1.1.1.2.3.cmml" xref="S3.E2.m1.9.9.1.1.1.2.3">𝐾</ci></apply><apply id="S3.E2.m1.9.9.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1">superscript</csymbol><apply id="S3.E2.m1.9.9.1.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.9.9.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.2">norm</csymbol><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1"><minus id="S3.E2.m1.9.9.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.3"></minus><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1"><times id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1"><divide id="S3.E2.m1.1.1.2.cmml" xref="S3.E2.m1.1.1"></divide><cn type="integer" id="S3.E2.m1.1.1.3.cmml" xref="S3.E2.m1.1.1.3">1</cn><apply id="S3.E2.m1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1"><abs id="S3.E2.m1.1.1.1.2.1.cmml" xref="S3.E2.m1.1.1.1.1.2"></abs><apply id="S3.E2.m1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1">subscript</csymbol><apply id="S3.E2.m1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.1.1.1.1.1">superscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.1.1.1.1.1.2.2">𝐷</ci><ci id="S3.E2.m1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.1.1.1.1.1.2.3">𝑐</ci></apply><ci id="S3.E2.m1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.3">𝑘</ci></apply></apply></apply><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1"><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.2"></sum><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3"><eq id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.1"></eq><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.2.2.1.2.cmml" xref="S3.E2.m1.2.2.1.1"><abs id="S3.E2.m1.2.2.1.2.1.cmml" xref="S3.E2.m1.2.2.1.1.2"></abs><apply id="S3.E2.m1.2.2.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1">subscript</csymbol><apply id="S3.E2.m1.2.2.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1">superscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.2.2">𝐷</ci><ci id="S3.E2.m1.2.2.1.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.2.3">𝑐</ci></apply><ci id="S3.E2.m1.2.2.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.3">𝑘</ci></apply></apply></apply><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1"><times id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.2">𝜓</ci><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.3">𝑡</ci></apply><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></apply><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2"><times id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.2"></times><apply id="S3.E2.m1.5.5.cmml" xref="S3.E2.m1.5.5"><divide id="S3.E2.m1.5.5.4.cmml" xref="S3.E2.m1.5.5"></divide><cn type="integer" id="S3.E2.m1.5.5.5.cmml" xref="S3.E2.m1.5.5.5">1</cn><apply id="S3.E2.m1.5.5.3.4.cmml" xref="S3.E2.m1.5.5.3.3"><abs id="S3.E2.m1.5.5.3.4.1.cmml" xref="S3.E2.m1.5.5.3.3.2"></abs><apply id="S3.E2.m1.5.5.3.3.1.cmml" xref="S3.E2.m1.5.5.3.3.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.3.3.1.1.cmml" xref="S3.E2.m1.5.5.3.3.1">subscript</csymbol><apply id="S3.E2.m1.5.5.3.3.1.2.cmml" xref="S3.E2.m1.5.5.3.3.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.3.3.1.2.1.cmml" xref="S3.E2.m1.5.5.3.3.1">superscript</csymbol><apply id="S3.E2.m1.5.5.3.3.1.2.2.cmml" xref="S3.E2.m1.5.5.3.3.1.2.2"><ci id="S3.E2.m1.5.5.3.3.1.2.2.1.cmml" xref="S3.E2.m1.5.5.3.3.1.2.2.1">~</ci><ci id="S3.E2.m1.5.5.3.3.1.2.2.2.cmml" xref="S3.E2.m1.5.5.3.3.1.2.2.2">𝐷</ci></apply><list id="S3.E2.m1.4.4.2.2.2.3.cmml" xref="S3.E2.m1.4.4.2.2.2.4"><ci id="S3.E2.m1.3.3.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1">𝑐</ci><ci id="S3.E2.m1.4.4.2.2.2.2.cmml" xref="S3.E2.m1.4.4.2.2.2.2">𝑡</ci></list></apply><ci id="S3.E2.m1.5.5.3.3.1.3.cmml" xref="S3.E2.m1.5.5.3.3.1.3">𝑘</ci></apply></apply></apply><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1"><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2">superscript</csymbol><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2">subscript</csymbol><sum id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.2"></sum><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3"><eq id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.1"></eq><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.2">𝑗</ci><cn type="integer" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.8.8.3.4.cmml" xref="S3.E2.m1.8.8.3.3"><abs id="S3.E2.m1.8.8.3.4.1.cmml" xref="S3.E2.m1.8.8.3.3.2"></abs><apply id="S3.E2.m1.8.8.3.3.1.cmml" xref="S3.E2.m1.8.8.3.3.1"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.3.3.1.1.cmml" xref="S3.E2.m1.8.8.3.3.1">subscript</csymbol><apply id="S3.E2.m1.8.8.3.3.1.2.cmml" xref="S3.E2.m1.8.8.3.3.1"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.3.3.1.2.1.cmml" xref="S3.E2.m1.8.8.3.3.1">superscript</csymbol><apply id="S3.E2.m1.8.8.3.3.1.2.2.cmml" xref="S3.E2.m1.8.8.3.3.1.2.2"><ci id="S3.E2.m1.8.8.3.3.1.2.2.1.cmml" xref="S3.E2.m1.8.8.3.3.1.2.2.1">~</ci><ci id="S3.E2.m1.8.8.3.3.1.2.2.2.cmml" xref="S3.E2.m1.8.8.3.3.1.2.2.2">𝐷</ci></apply><list id="S3.E2.m1.7.7.2.2.2.3.cmml" xref="S3.E2.m1.7.7.2.2.2.4"><ci id="S3.E2.m1.6.6.1.1.1.1.cmml" xref="S3.E2.m1.6.6.1.1.1.1">𝑐</ci><ci id="S3.E2.m1.7.7.2.2.2.2.cmml" xref="S3.E2.m1.7.7.2.2.2.2">𝑡</ci></list></apply><ci id="S3.E2.m1.8.8.3.3.1.3.cmml" xref="S3.E2.m1.8.8.3.3.1.3">𝑘</ci></apply></apply></apply><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1"><times id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.2"></times><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3">superscript</csymbol><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3.2">𝜓</ci><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.3.3">𝑡</ci></apply><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1">superscript</csymbol><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1">subscript</csymbol><apply id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2"><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2.1.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2.1">~</ci><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.2.2">𝑥</ci></apply><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.2.3">𝑗</ci></apply><ci id="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.1.1.1.2.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></apply></apply></apply><cn type="integer" id="S3.E2.m1.9.9.1.1.1.1.3.cmml" xref="S3.E2.m1.9.9.1.1.1.1.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.9c">\mathcal{L}_{\rm MMD}\!=\!\sum_{k}^{K}||\frac{1}{|D^{c}_{k}|}\sum_{i=1}^{|D^{c}_{k}|}\psi^{t}(x_{i})\!-\!\frac{1}{|\tilde{D}^{c,t}_{k}|}\sum_{j=1}^{|\tilde{D}^{c,t}_{k}|}\psi^{t}(\tilde{x}_{j}^{t})||^{2},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.SSS1.p2.15" class="ltx_p">where <math id="S3.SS3.SSS1.p2.10.m1.1" class="ltx_Math" alttext="\psi^{t}" display="inline"><semantics id="S3.SS3.SSS1.p2.10.m1.1a"><msup id="S3.SS3.SSS1.p2.10.m1.1.1" xref="S3.SS3.SSS1.p2.10.m1.1.1.cmml"><mi id="S3.SS3.SSS1.p2.10.m1.1.1.2" xref="S3.SS3.SSS1.p2.10.m1.1.1.2.cmml">ψ</mi><mi id="S3.SS3.SSS1.p2.10.m1.1.1.3" xref="S3.SS3.SSS1.p2.10.m1.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.10.m1.1b"><apply id="S3.SS3.SSS1.p2.10.m1.1.1.cmml" xref="S3.SS3.SSS1.p2.10.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.10.m1.1.1.1.cmml" xref="S3.SS3.SSS1.p2.10.m1.1.1">superscript</csymbol><ci id="S3.SS3.SSS1.p2.10.m1.1.1.2.cmml" xref="S3.SS3.SSS1.p2.10.m1.1.1.2">𝜓</ci><ci id="S3.SS3.SSS1.p2.10.m1.1.1.3.cmml" xref="S3.SS3.SSS1.p2.10.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.10.m1.1c">\psi^{t}</annotation></semantics></math> and <math id="S3.SS3.SSS1.p2.11.m2.2" class="ltx_Math" alttext="\tilde{D}^{c,t}" display="inline"><semantics id="S3.SS3.SSS1.p2.11.m2.2a"><msup id="S3.SS3.SSS1.p2.11.m2.2.3" xref="S3.SS3.SSS1.p2.11.m2.2.3.cmml"><mover accent="true" id="S3.SS3.SSS1.p2.11.m2.2.3.2" xref="S3.SS3.SSS1.p2.11.m2.2.3.2.cmml"><mi id="S3.SS3.SSS1.p2.11.m2.2.3.2.2" xref="S3.SS3.SSS1.p2.11.m2.2.3.2.2.cmml">D</mi><mo id="S3.SS3.SSS1.p2.11.m2.2.3.2.1" xref="S3.SS3.SSS1.p2.11.m2.2.3.2.1.cmml">~</mo></mover><mrow id="S3.SS3.SSS1.p2.11.m2.2.2.2.4" xref="S3.SS3.SSS1.p2.11.m2.2.2.2.3.cmml"><mi id="S3.SS3.SSS1.p2.11.m2.1.1.1.1" xref="S3.SS3.SSS1.p2.11.m2.1.1.1.1.cmml">c</mi><mo id="S3.SS3.SSS1.p2.11.m2.2.2.2.4.1" xref="S3.SS3.SSS1.p2.11.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS3.SSS1.p2.11.m2.2.2.2.2" xref="S3.SS3.SSS1.p2.11.m2.2.2.2.2.cmml">t</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.11.m2.2b"><apply id="S3.SS3.SSS1.p2.11.m2.2.3.cmml" xref="S3.SS3.SSS1.p2.11.m2.2.3"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.11.m2.2.3.1.cmml" xref="S3.SS3.SSS1.p2.11.m2.2.3">superscript</csymbol><apply id="S3.SS3.SSS1.p2.11.m2.2.3.2.cmml" xref="S3.SS3.SSS1.p2.11.m2.2.3.2"><ci id="S3.SS3.SSS1.p2.11.m2.2.3.2.1.cmml" xref="S3.SS3.SSS1.p2.11.m2.2.3.2.1">~</ci><ci id="S3.SS3.SSS1.p2.11.m2.2.3.2.2.cmml" xref="S3.SS3.SSS1.p2.11.m2.2.3.2.2">𝐷</ci></apply><list id="S3.SS3.SSS1.p2.11.m2.2.2.2.3.cmml" xref="S3.SS3.SSS1.p2.11.m2.2.2.2.4"><ci id="S3.SS3.SSS1.p2.11.m2.1.1.1.1.cmml" xref="S3.SS3.SSS1.p2.11.m2.1.1.1.1">𝑐</ci><ci id="S3.SS3.SSS1.p2.11.m2.2.2.2.2.cmml" xref="S3.SS3.SSS1.p2.11.m2.2.2.2.2">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.11.m2.2c">\tilde{D}^{c,t}</annotation></semantics></math> are the server feature extractor and local virtual data from the latest global iteration <math id="S3.SS3.SSS1.p2.12.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS3.SSS1.p2.12.m3.1a"><mi id="S3.SS3.SSS1.p2.12.m3.1.1" xref="S3.SS3.SSS1.p2.12.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.12.m3.1b"><ci id="S3.SS3.SSS1.p2.12.m3.1.1.cmml" xref="S3.SS3.SSS1.p2.12.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.12.m3.1c">t</annotation></semantics></math>. Following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>, <a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite>, we apply the differentiable Siamese augmentation on virtual data <math id="S3.SS3.SSS1.p2.13.m4.1" class="ltx_Math" alttext="\tilde{D}^{c}" display="inline"><semantics id="S3.SS3.SSS1.p2.13.m4.1a"><msup id="S3.SS3.SSS1.p2.13.m4.1.1" xref="S3.SS3.SSS1.p2.13.m4.1.1.cmml"><mover accent="true" id="S3.SS3.SSS1.p2.13.m4.1.1.2" xref="S3.SS3.SSS1.p2.13.m4.1.1.2.cmml"><mi id="S3.SS3.SSS1.p2.13.m4.1.1.2.2" xref="S3.SS3.SSS1.p2.13.m4.1.1.2.2.cmml">D</mi><mo id="S3.SS3.SSS1.p2.13.m4.1.1.2.1" xref="S3.SS3.SSS1.p2.13.m4.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS3.SSS1.p2.13.m4.1.1.3" xref="S3.SS3.SSS1.p2.13.m4.1.1.3.cmml">c</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.13.m4.1b"><apply id="S3.SS3.SSS1.p2.13.m4.1.1.cmml" xref="S3.SS3.SSS1.p2.13.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.13.m4.1.1.1.cmml" xref="S3.SS3.SSS1.p2.13.m4.1.1">superscript</csymbol><apply id="S3.SS3.SSS1.p2.13.m4.1.1.2.cmml" xref="S3.SS3.SSS1.p2.13.m4.1.1.2"><ci id="S3.SS3.SSS1.p2.13.m4.1.1.2.1.cmml" xref="S3.SS3.SSS1.p2.13.m4.1.1.2.1">~</ci><ci id="S3.SS3.SSS1.p2.13.m4.1.1.2.2.cmml" xref="S3.SS3.SSS1.p2.13.m4.1.1.2.2">𝐷</ci></apply><ci id="S3.SS3.SSS1.p2.13.m4.1.1.3.cmml" xref="S3.SS3.SSS1.p2.13.m4.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.13.m4.1c">\tilde{D}^{c}</annotation></semantics></math>. <math id="S3.SS3.SSS1.p2.14.m5.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS3.SSS1.p2.14.m5.1a"><mi id="S3.SS3.SSS1.p2.14.m5.1.1" xref="S3.SS3.SSS1.p2.14.m5.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.14.m5.1b"><ci id="S3.SS3.SSS1.p2.14.m5.1.1.cmml" xref="S3.SS3.SSS1.p2.14.m5.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.14.m5.1c">K</annotation></semantics></math> is the total number of classes, and we sum over MMD loss calculated per class <math id="S3.SS3.SSS1.p2.15.m6.1" class="ltx_Math" alttext="k\in[K]" display="inline"><semantics id="S3.SS3.SSS1.p2.15.m6.1a"><mrow id="S3.SS3.SSS1.p2.15.m6.1.2" xref="S3.SS3.SSS1.p2.15.m6.1.2.cmml"><mi id="S3.SS3.SSS1.p2.15.m6.1.2.2" xref="S3.SS3.SSS1.p2.15.m6.1.2.2.cmml">k</mi><mo id="S3.SS3.SSS1.p2.15.m6.1.2.1" xref="S3.SS3.SSS1.p2.15.m6.1.2.1.cmml">∈</mo><mrow id="S3.SS3.SSS1.p2.15.m6.1.2.3.2" xref="S3.SS3.SSS1.p2.15.m6.1.2.3.1.cmml"><mo stretchy="false" id="S3.SS3.SSS1.p2.15.m6.1.2.3.2.1" xref="S3.SS3.SSS1.p2.15.m6.1.2.3.1.1.cmml">[</mo><mi id="S3.SS3.SSS1.p2.15.m6.1.1" xref="S3.SS3.SSS1.p2.15.m6.1.1.cmml">K</mi><mo stretchy="false" id="S3.SS3.SSS1.p2.15.m6.1.2.3.2.2" xref="S3.SS3.SSS1.p2.15.m6.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.15.m6.1b"><apply id="S3.SS3.SSS1.p2.15.m6.1.2.cmml" xref="S3.SS3.SSS1.p2.15.m6.1.2"><in id="S3.SS3.SSS1.p2.15.m6.1.2.1.cmml" xref="S3.SS3.SSS1.p2.15.m6.1.2.1"></in><ci id="S3.SS3.SSS1.p2.15.m6.1.2.2.cmml" xref="S3.SS3.SSS1.p2.15.m6.1.2.2">𝑘</ci><apply id="S3.SS3.SSS1.p2.15.m6.1.2.3.1.cmml" xref="S3.SS3.SSS1.p2.15.m6.1.2.3.2"><csymbol cd="latexml" id="S3.SS3.SSS1.p2.15.m6.1.2.3.1.1.cmml" xref="S3.SS3.SSS1.p2.15.m6.1.2.3.2.1">delimited-[]</csymbol><ci id="S3.SS3.SSS1.p2.15.m6.1.1.cmml" xref="S3.SS3.SSS1.p2.15.m6.1.1">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.15.m6.1c">k\in[K]</annotation></semantics></math>. In such a way, we can generate balanced local virtual data by optimizing the same number of virtual data per class.</p>
</div>
<div id="S3.SS3.SSS1.p3" class="ltx_para">
<p id="S3.SS3.SSS1.p3.1" class="ltx_p">Although such an efficient distillation strategy is inspired by DM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite>, we highlight the key difference that DM uses randomly initialized deep neural networks to extract features, whereas we use trained FL models with task-specific supervised loss. We believe <span id="S3.SS3.SSS1.p3.1.1" class="ltx_text ltx_font_italic">iterative updating</span> on the clients’ data using the up-to-date network parameters can generate better task-specific local virtual data. Our intuition comes from the recent success of the empirical neural tangent kernel for data distribution learning and matching <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>. Especially, the feature extractor of the model trained with <span id="S3.SS3.SSS1.p3.1.2" class="ltx_text ltx_font_smallcaps">FedLGD</span> could obtain feature information from other clients, which further harmonize the domain shift between clients.
We apply DM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite> to the baseline FL methods and demonstrate the effectiveness of our proposed iterative strategy in Sec. <a href="#S4" title="4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. Furthermore, note that <span id="S3.SS3.SSS1.p3.1.3" class="ltx_text ltx_font_smallcaps">FedLGD</span> only requires a few hundreds of local distillations steps using the local model’s feature distribution, which is more computationally efficient than other bi-level dataset distillation methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>.</p>
</div>
<div id="S3.SS3.SSS1.p4" class="ltx_para ltx_noindent">
<p id="S3.SS3.SSS1.p4.17" class="ltx_p"><span id="S3.SS3.SSS1.p4.17.1" class="ltx_text ltx_font_bold">Harmonizing local heterogeneity with global anchors.</span>
Data collected in different sites may have different distributions due to different collecting protocols and populations. Such heterogeneity will degrade the performance of FL. Worse yet, we found increased data heterogeneity among clients when federatively training with distilled local virtual data (see Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). We aim to alleviate the dataset shift by adding a regularization term in feature space to our total loss function for local model updating, which is inspired by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>:</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.2" class="ltx_Math" alttext="\mathcal{L}_{\rm total}=\mathcal{L}_{\rm CE}(\tilde{D}^{g},\tilde{D}^{c};\theta)+\lambda\mathcal{L}_{\rm Con}(\tilde{D}^{g},\tilde{D}^{c})," display="block"><semantics id="S3.E3.m1.2a"><mrow id="S3.E3.m1.2.2.1" xref="S3.E3.m1.2.2.1.1.cmml"><mrow id="S3.E3.m1.2.2.1.1" xref="S3.E3.m1.2.2.1.1.cmml"><msub id="S3.E3.m1.2.2.1.1.6" xref="S3.E3.m1.2.2.1.1.6.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.2.1.1.6.2" xref="S3.E3.m1.2.2.1.1.6.2.cmml">ℒ</mi><mi id="S3.E3.m1.2.2.1.1.6.3" xref="S3.E3.m1.2.2.1.1.6.3.cmml">total</mi></msub><mo id="S3.E3.m1.2.2.1.1.5" xref="S3.E3.m1.2.2.1.1.5.cmml">=</mo><mrow id="S3.E3.m1.2.2.1.1.4" xref="S3.E3.m1.2.2.1.1.4.cmml"><mrow id="S3.E3.m1.2.2.1.1.2.2" xref="S3.E3.m1.2.2.1.1.2.2.cmml"><msub id="S3.E3.m1.2.2.1.1.2.2.4" xref="S3.E3.m1.2.2.1.1.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.2.1.1.2.2.4.2" xref="S3.E3.m1.2.2.1.1.2.2.4.2.cmml">ℒ</mi><mi id="S3.E3.m1.2.2.1.1.2.2.4.3" xref="S3.E3.m1.2.2.1.1.2.2.4.3.cmml">CE</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.2.2.1.1.2.2.3" xref="S3.E3.m1.2.2.1.1.2.2.3.cmml">​</mo><mrow id="S3.E3.m1.2.2.1.1.2.2.2.2" xref="S3.E3.m1.2.2.1.1.2.2.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.2.2.1.1.2.2.2.2.3" xref="S3.E3.m1.2.2.1.1.2.2.2.3.cmml">(</mo><msup id="S3.E3.m1.2.2.1.1.1.1.1.1.1" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.E3.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E3.m1.2.2.1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1.2.2.cmml">D</mi><mo id="S3.E3.m1.2.2.1.1.1.1.1.1.1.2.1" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1.2.1.cmml">~</mo></mover><mi id="S3.E3.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1.3.cmml">g</mi></msup><mo id="S3.E3.m1.2.2.1.1.2.2.2.2.4" xref="S3.E3.m1.2.2.1.1.2.2.2.3.cmml">,</mo><msup id="S3.E3.m1.2.2.1.1.2.2.2.2.2" xref="S3.E3.m1.2.2.1.1.2.2.2.2.2.cmml"><mover accent="true" id="S3.E3.m1.2.2.1.1.2.2.2.2.2.2" xref="S3.E3.m1.2.2.1.1.2.2.2.2.2.2.cmml"><mi id="S3.E3.m1.2.2.1.1.2.2.2.2.2.2.2" xref="S3.E3.m1.2.2.1.1.2.2.2.2.2.2.2.cmml">D</mi><mo id="S3.E3.m1.2.2.1.1.2.2.2.2.2.2.1" xref="S3.E3.m1.2.2.1.1.2.2.2.2.2.2.1.cmml">~</mo></mover><mi id="S3.E3.m1.2.2.1.1.2.2.2.2.2.3" xref="S3.E3.m1.2.2.1.1.2.2.2.2.2.3.cmml">c</mi></msup><mo id="S3.E3.m1.2.2.1.1.2.2.2.2.5" xref="S3.E3.m1.2.2.1.1.2.2.2.3.cmml">;</mo><mi id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml">θ</mi><mo stretchy="false" id="S3.E3.m1.2.2.1.1.2.2.2.2.6" xref="S3.E3.m1.2.2.1.1.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.2.2.1.1.4.5" xref="S3.E3.m1.2.2.1.1.4.5.cmml">+</mo><mrow id="S3.E3.m1.2.2.1.1.4.4" xref="S3.E3.m1.2.2.1.1.4.4.cmml"><mi id="S3.E3.m1.2.2.1.1.4.4.4" xref="S3.E3.m1.2.2.1.1.4.4.4.cmml">λ</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.2.2.1.1.4.4.3" xref="S3.E3.m1.2.2.1.1.4.4.3.cmml">​</mo><msub id="S3.E3.m1.2.2.1.1.4.4.5" xref="S3.E3.m1.2.2.1.1.4.4.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.2.1.1.4.4.5.2" xref="S3.E3.m1.2.2.1.1.4.4.5.2.cmml">ℒ</mi><mi id="S3.E3.m1.2.2.1.1.4.4.5.3" xref="S3.E3.m1.2.2.1.1.4.4.5.3.cmml">Con</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.2.2.1.1.4.4.3a" xref="S3.E3.m1.2.2.1.1.4.4.3.cmml">​</mo><mrow id="S3.E3.m1.2.2.1.1.4.4.2.2" xref="S3.E3.m1.2.2.1.1.4.4.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.2.2.1.1.4.4.2.2.3" xref="S3.E3.m1.2.2.1.1.4.4.2.3.cmml">(</mo><msup id="S3.E3.m1.2.2.1.1.3.3.1.1.1" xref="S3.E3.m1.2.2.1.1.3.3.1.1.1.cmml"><mover accent="true" id="S3.E3.m1.2.2.1.1.3.3.1.1.1.2" xref="S3.E3.m1.2.2.1.1.3.3.1.1.1.2.cmml"><mi id="S3.E3.m1.2.2.1.1.3.3.1.1.1.2.2" xref="S3.E3.m1.2.2.1.1.3.3.1.1.1.2.2.cmml">D</mi><mo id="S3.E3.m1.2.2.1.1.3.3.1.1.1.2.1" xref="S3.E3.m1.2.2.1.1.3.3.1.1.1.2.1.cmml">~</mo></mover><mi id="S3.E3.m1.2.2.1.1.3.3.1.1.1.3" xref="S3.E3.m1.2.2.1.1.3.3.1.1.1.3.cmml">g</mi></msup><mo id="S3.E3.m1.2.2.1.1.4.4.2.2.4" xref="S3.E3.m1.2.2.1.1.4.4.2.3.cmml">,</mo><msup id="S3.E3.m1.2.2.1.1.4.4.2.2.2" xref="S3.E3.m1.2.2.1.1.4.4.2.2.2.cmml"><mover accent="true" id="S3.E3.m1.2.2.1.1.4.4.2.2.2.2" xref="S3.E3.m1.2.2.1.1.4.4.2.2.2.2.cmml"><mi id="S3.E3.m1.2.2.1.1.4.4.2.2.2.2.2" xref="S3.E3.m1.2.2.1.1.4.4.2.2.2.2.2.cmml">D</mi><mo id="S3.E3.m1.2.2.1.1.4.4.2.2.2.2.1" xref="S3.E3.m1.2.2.1.1.4.4.2.2.2.2.1.cmml">~</mo></mover><mi id="S3.E3.m1.2.2.1.1.4.4.2.2.2.3" xref="S3.E3.m1.2.2.1.1.4.4.2.2.2.3.cmml">c</mi></msup><mo stretchy="false" id="S3.E3.m1.2.2.1.1.4.4.2.2.5" xref="S3.E3.m1.2.2.1.1.4.4.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E3.m1.2.2.1.2" xref="S3.E3.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.2b"><apply id="S3.E3.m1.2.2.1.1.cmml" xref="S3.E3.m1.2.2.1"><eq id="S3.E3.m1.2.2.1.1.5.cmml" xref="S3.E3.m1.2.2.1.1.5"></eq><apply id="S3.E3.m1.2.2.1.1.6.cmml" xref="S3.E3.m1.2.2.1.1.6"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.6.1.cmml" xref="S3.E3.m1.2.2.1.1.6">subscript</csymbol><ci id="S3.E3.m1.2.2.1.1.6.2.cmml" xref="S3.E3.m1.2.2.1.1.6.2">ℒ</ci><ci id="S3.E3.m1.2.2.1.1.6.3.cmml" xref="S3.E3.m1.2.2.1.1.6.3">total</ci></apply><apply id="S3.E3.m1.2.2.1.1.4.cmml" xref="S3.E3.m1.2.2.1.1.4"><plus id="S3.E3.m1.2.2.1.1.4.5.cmml" xref="S3.E3.m1.2.2.1.1.4.5"></plus><apply id="S3.E3.m1.2.2.1.1.2.2.cmml" xref="S3.E3.m1.2.2.1.1.2.2"><times id="S3.E3.m1.2.2.1.1.2.2.3.cmml" xref="S3.E3.m1.2.2.1.1.2.2.3"></times><apply id="S3.E3.m1.2.2.1.1.2.2.4.cmml" xref="S3.E3.m1.2.2.1.1.2.2.4"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.2.2.4.1.cmml" xref="S3.E3.m1.2.2.1.1.2.2.4">subscript</csymbol><ci id="S3.E3.m1.2.2.1.1.2.2.4.2.cmml" xref="S3.E3.m1.2.2.1.1.2.2.4.2">ℒ</ci><ci id="S3.E3.m1.2.2.1.1.2.2.4.3.cmml" xref="S3.E3.m1.2.2.1.1.2.2.4.3">CE</ci></apply><vector id="S3.E3.m1.2.2.1.1.2.2.2.3.cmml" xref="S3.E3.m1.2.2.1.1.2.2.2.2"><apply id="S3.E3.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E3.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1.2"><ci id="S3.E3.m1.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1.2.1">~</ci><ci id="S3.E3.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1.2.2">𝐷</ci></apply><ci id="S3.E3.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1.3">𝑔</ci></apply><apply id="S3.E3.m1.2.2.1.1.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.2.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.1.1.2.2.2.2.2">superscript</csymbol><apply id="S3.E3.m1.2.2.1.1.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.1.1.2.2.2.2.2.2"><ci id="S3.E3.m1.2.2.1.1.2.2.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.1.1.2.2.2.2.2.2.1">~</ci><ci id="S3.E3.m1.2.2.1.1.2.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.1.1.2.2.2.2.2.2.2">𝐷</ci></apply><ci id="S3.E3.m1.2.2.1.1.2.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.1.1.2.2.2.2.2.3">𝑐</ci></apply><ci id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1">𝜃</ci></vector></apply><apply id="S3.E3.m1.2.2.1.1.4.4.cmml" xref="S3.E3.m1.2.2.1.1.4.4"><times id="S3.E3.m1.2.2.1.1.4.4.3.cmml" xref="S3.E3.m1.2.2.1.1.4.4.3"></times><ci id="S3.E3.m1.2.2.1.1.4.4.4.cmml" xref="S3.E3.m1.2.2.1.1.4.4.4">𝜆</ci><apply id="S3.E3.m1.2.2.1.1.4.4.5.cmml" xref="S3.E3.m1.2.2.1.1.4.4.5"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.4.4.5.1.cmml" xref="S3.E3.m1.2.2.1.1.4.4.5">subscript</csymbol><ci id="S3.E3.m1.2.2.1.1.4.4.5.2.cmml" xref="S3.E3.m1.2.2.1.1.4.4.5.2">ℒ</ci><ci id="S3.E3.m1.2.2.1.1.4.4.5.3.cmml" xref="S3.E3.m1.2.2.1.1.4.4.5.3">Con</ci></apply><interval closure="open" id="S3.E3.m1.2.2.1.1.4.4.2.3.cmml" xref="S3.E3.m1.2.2.1.1.4.4.2.2"><apply id="S3.E3.m1.2.2.1.1.3.3.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.3.3.1.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.3.3.1.1.1">superscript</csymbol><apply id="S3.E3.m1.2.2.1.1.3.3.1.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.3.3.1.1.1.2"><ci id="S3.E3.m1.2.2.1.1.3.3.1.1.1.2.1.cmml" xref="S3.E3.m1.2.2.1.1.3.3.1.1.1.2.1">~</ci><ci id="S3.E3.m1.2.2.1.1.3.3.1.1.1.2.2.cmml" xref="S3.E3.m1.2.2.1.1.3.3.1.1.1.2.2">𝐷</ci></apply><ci id="S3.E3.m1.2.2.1.1.3.3.1.1.1.3.cmml" xref="S3.E3.m1.2.2.1.1.3.3.1.1.1.3">𝑔</ci></apply><apply id="S3.E3.m1.2.2.1.1.4.4.2.2.2.cmml" xref="S3.E3.m1.2.2.1.1.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.4.4.2.2.2.1.cmml" xref="S3.E3.m1.2.2.1.1.4.4.2.2.2">superscript</csymbol><apply id="S3.E3.m1.2.2.1.1.4.4.2.2.2.2.cmml" xref="S3.E3.m1.2.2.1.1.4.4.2.2.2.2"><ci id="S3.E3.m1.2.2.1.1.4.4.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.1.1.4.4.2.2.2.2.1">~</ci><ci id="S3.E3.m1.2.2.1.1.4.4.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.1.1.4.4.2.2.2.2.2">𝐷</ci></apply><ci id="S3.E3.m1.2.2.1.1.4.4.2.2.2.3.cmml" xref="S3.E3.m1.2.2.1.1.4.4.2.2.2.3">𝑐</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.2c">\mathcal{L}_{\rm total}=\mathcal{L}_{\rm CE}(\tilde{D}^{g},\tilde{D}^{c};\theta)+\lambda\mathcal{L}_{\rm Con}(\tilde{D}^{g},\tilde{D}^{c}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.SSS1.p4.18" class="ltx_p">and</p>
<table id="S3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E4.m1.7" class="ltx_Math" alttext="\mathcal{L}_{\rm Con}\!=\!\sum_{i\in I}\frac{-1}{|P(i)|}\!\sum_{p\in P(i)}\!{\rm log}\frac{{\rm exp}(z_{g}\cdot z_{p}/\tau_{temp})}{\sum_{a\in A(i)}{\rm exp}(z_{g}\cdot z_{a}/\tau_{temp})}," display="block"><semantics id="S3.E4.m1.7a"><mrow id="S3.E4.m1.7.7.1" xref="S3.E4.m1.7.7.1.1.cmml"><mrow id="S3.E4.m1.7.7.1.1" xref="S3.E4.m1.7.7.1.1.cmml"><msub id="S3.E4.m1.7.7.1.1.2" xref="S3.E4.m1.7.7.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.7.7.1.1.2.2" xref="S3.E4.m1.7.7.1.1.2.2.cmml">ℒ</mi><mi id="S3.E4.m1.7.7.1.1.2.3" xref="S3.E4.m1.7.7.1.1.2.3.cmml">Con</mi></msub><mo lspace="0.108em" rspace="0.0539em" id="S3.E4.m1.7.7.1.1.1" xref="S3.E4.m1.7.7.1.1.1.cmml">=</mo><mrow id="S3.E4.m1.7.7.1.1.3" xref="S3.E4.m1.7.7.1.1.3.cmml"><munder id="S3.E4.m1.7.7.1.1.3.1" xref="S3.E4.m1.7.7.1.1.3.1.cmml"><mo lspace="0.0539em" movablelimits="false" id="S3.E4.m1.7.7.1.1.3.1.2" xref="S3.E4.m1.7.7.1.1.3.1.2.cmml">∑</mo><mrow id="S3.E4.m1.7.7.1.1.3.1.3" xref="S3.E4.m1.7.7.1.1.3.1.3.cmml"><mi id="S3.E4.m1.7.7.1.1.3.1.3.2" xref="S3.E4.m1.7.7.1.1.3.1.3.2.cmml">i</mi><mo id="S3.E4.m1.7.7.1.1.3.1.3.1" xref="S3.E4.m1.7.7.1.1.3.1.3.1.cmml">∈</mo><mi id="S3.E4.m1.7.7.1.1.3.1.3.3" xref="S3.E4.m1.7.7.1.1.3.1.3.3.cmml">I</mi></mrow></munder><mrow id="S3.E4.m1.7.7.1.1.3.2" xref="S3.E4.m1.7.7.1.1.3.2.cmml"><mfrac id="S3.E4.m1.2.2" xref="S3.E4.m1.2.2.cmml"><mrow id="S3.E4.m1.2.2.4" xref="S3.E4.m1.2.2.4.cmml"><mo id="S3.E4.m1.2.2.4a" xref="S3.E4.m1.2.2.4.cmml">−</mo><mn id="S3.E4.m1.2.2.4.2" xref="S3.E4.m1.2.2.4.2.cmml">1</mn></mrow><mrow id="S3.E4.m1.2.2.2.2" xref="S3.E4.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.2.2.2" xref="S3.E4.m1.2.2.2.3.1.cmml">|</mo><mrow id="S3.E4.m1.2.2.2.2.1" xref="S3.E4.m1.2.2.2.2.1.cmml"><mi id="S3.E4.m1.2.2.2.2.1.2" xref="S3.E4.m1.2.2.2.2.1.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.2.2.2.2.1.1" xref="S3.E4.m1.2.2.2.2.1.1.cmml">​</mo><mrow id="S3.E4.m1.2.2.2.2.1.3.2" xref="S3.E4.m1.2.2.2.2.1.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.2.2.1.3.2.1" xref="S3.E4.m1.2.2.2.2.1.cmml">(</mo><mi id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.E4.m1.2.2.2.2.1.3.2.2" xref="S3.E4.m1.2.2.2.2.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E4.m1.2.2.2.2.3" xref="S3.E4.m1.2.2.2.3.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S3.E4.m1.7.7.1.1.3.2.1" xref="S3.E4.m1.7.7.1.1.3.2.1.cmml">​</mo><mrow id="S3.E4.m1.7.7.1.1.3.2.2" xref="S3.E4.m1.7.7.1.1.3.2.2.cmml"><munder id="S3.E4.m1.7.7.1.1.3.2.2.1" xref="S3.E4.m1.7.7.1.1.3.2.2.1.cmml"><mo movablelimits="false" id="S3.E4.m1.7.7.1.1.3.2.2.1.2" xref="S3.E4.m1.7.7.1.1.3.2.2.1.2.cmml">∑</mo><mrow id="S3.E4.m1.3.3.1" xref="S3.E4.m1.3.3.1.cmml"><mi id="S3.E4.m1.3.3.1.3" xref="S3.E4.m1.3.3.1.3.cmml">p</mi><mo id="S3.E4.m1.3.3.1.2" xref="S3.E4.m1.3.3.1.2.cmml">∈</mo><mrow id="S3.E4.m1.3.3.1.4" xref="S3.E4.m1.3.3.1.4.cmml"><mi id="S3.E4.m1.3.3.1.4.2" xref="S3.E4.m1.3.3.1.4.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.3.3.1.4.1" xref="S3.E4.m1.3.3.1.4.1.cmml">​</mo><mrow id="S3.E4.m1.3.3.1.4.3.2" xref="S3.E4.m1.3.3.1.4.cmml"><mo stretchy="false" id="S3.E4.m1.3.3.1.4.3.2.1" xref="S3.E4.m1.3.3.1.4.cmml">(</mo><mi id="S3.E4.m1.3.3.1.1" xref="S3.E4.m1.3.3.1.1.cmml">i</mi><mo stretchy="false" id="S3.E4.m1.3.3.1.4.3.2.2" xref="S3.E4.m1.3.3.1.4.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S3.E4.m1.7.7.1.1.3.2.2.2" xref="S3.E4.m1.7.7.1.1.3.2.2.2.cmml"><mi id="S3.E4.m1.7.7.1.1.3.2.2.2.2" xref="S3.E4.m1.7.7.1.1.3.2.2.2.2.cmml">log</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.7.7.1.1.3.2.2.2.1" xref="S3.E4.m1.7.7.1.1.3.2.2.2.1.cmml">​</mo><mfrac id="S3.E4.m1.6.6" xref="S3.E4.m1.6.6.cmml"><mrow id="S3.E4.m1.4.4.1" xref="S3.E4.m1.4.4.1.cmml"><mi id="S3.E4.m1.4.4.1.3" xref="S3.E4.m1.4.4.1.3.cmml">exp</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.4.4.1.2" xref="S3.E4.m1.4.4.1.2.cmml">​</mo><mrow id="S3.E4.m1.4.4.1.1.1" xref="S3.E4.m1.4.4.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.4.4.1.1.1.2" xref="S3.E4.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.4.4.1.1.1.1" xref="S3.E4.m1.4.4.1.1.1.1.cmml"><mrow id="S3.E4.m1.4.4.1.1.1.1.2" xref="S3.E4.m1.4.4.1.1.1.1.2.cmml"><msub id="S3.E4.m1.4.4.1.1.1.1.2.2" xref="S3.E4.m1.4.4.1.1.1.1.2.2.cmml"><mi id="S3.E4.m1.4.4.1.1.1.1.2.2.2" xref="S3.E4.m1.4.4.1.1.1.1.2.2.2.cmml">z</mi><mi id="S3.E4.m1.4.4.1.1.1.1.2.2.3" xref="S3.E4.m1.4.4.1.1.1.1.2.2.3.cmml">g</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S3.E4.m1.4.4.1.1.1.1.2.1" xref="S3.E4.m1.4.4.1.1.1.1.2.1.cmml">⋅</mo><msub id="S3.E4.m1.4.4.1.1.1.1.2.3" xref="S3.E4.m1.4.4.1.1.1.1.2.3.cmml"><mi id="S3.E4.m1.4.4.1.1.1.1.2.3.2" xref="S3.E4.m1.4.4.1.1.1.1.2.3.2.cmml">z</mi><mi id="S3.E4.m1.4.4.1.1.1.1.2.3.3" xref="S3.E4.m1.4.4.1.1.1.1.2.3.3.cmml">p</mi></msub></mrow><mo id="S3.E4.m1.4.4.1.1.1.1.1" xref="S3.E4.m1.4.4.1.1.1.1.1.cmml">/</mo><msub id="S3.E4.m1.4.4.1.1.1.1.3" xref="S3.E4.m1.4.4.1.1.1.1.3.cmml"><mi id="S3.E4.m1.4.4.1.1.1.1.3.2" xref="S3.E4.m1.4.4.1.1.1.1.3.2.cmml">τ</mi><mrow id="S3.E4.m1.4.4.1.1.1.1.3.3" xref="S3.E4.m1.4.4.1.1.1.1.3.3.cmml"><mi id="S3.E4.m1.4.4.1.1.1.1.3.3.2" xref="S3.E4.m1.4.4.1.1.1.1.3.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.4.4.1.1.1.1.3.3.1" xref="S3.E4.m1.4.4.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.4.4.1.1.1.1.3.3.3" xref="S3.E4.m1.4.4.1.1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.4.4.1.1.1.1.3.3.1a" xref="S3.E4.m1.4.4.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.4.4.1.1.1.1.3.3.4" xref="S3.E4.m1.4.4.1.1.1.1.3.3.4.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.4.4.1.1.1.1.3.3.1b" xref="S3.E4.m1.4.4.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.4.4.1.1.1.1.3.3.5" xref="S3.E4.m1.4.4.1.1.1.1.3.3.5.cmml">p</mi></mrow></msub></mrow><mo stretchy="false" id="S3.E4.m1.4.4.1.1.1.3" xref="S3.E4.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E4.m1.6.6.3" xref="S3.E4.m1.6.6.3.cmml"><msub id="S3.E4.m1.6.6.3.3" xref="S3.E4.m1.6.6.3.3.cmml"><mo id="S3.E4.m1.6.6.3.3.2" xref="S3.E4.m1.6.6.3.3.2.cmml">∑</mo><mrow id="S3.E4.m1.5.5.2.1.1" xref="S3.E4.m1.5.5.2.1.1.cmml"><mi id="S3.E4.m1.5.5.2.1.1.3" xref="S3.E4.m1.5.5.2.1.1.3.cmml">a</mi><mo id="S3.E4.m1.5.5.2.1.1.2" xref="S3.E4.m1.5.5.2.1.1.2.cmml">∈</mo><mrow id="S3.E4.m1.5.5.2.1.1.4" xref="S3.E4.m1.5.5.2.1.1.4.cmml"><mi id="S3.E4.m1.5.5.2.1.1.4.2" xref="S3.E4.m1.5.5.2.1.1.4.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.5.5.2.1.1.4.1" xref="S3.E4.m1.5.5.2.1.1.4.1.cmml">​</mo><mrow id="S3.E4.m1.5.5.2.1.1.4.3.2" xref="S3.E4.m1.5.5.2.1.1.4.cmml"><mo stretchy="false" id="S3.E4.m1.5.5.2.1.1.4.3.2.1" xref="S3.E4.m1.5.5.2.1.1.4.cmml">(</mo><mi id="S3.E4.m1.5.5.2.1.1.1" xref="S3.E4.m1.5.5.2.1.1.1.cmml">i</mi><mo stretchy="false" id="S3.E4.m1.5.5.2.1.1.4.3.2.2" xref="S3.E4.m1.5.5.2.1.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mrow id="S3.E4.m1.6.6.3.2" xref="S3.E4.m1.6.6.3.2.cmml"><mi id="S3.E4.m1.6.6.3.2.3" xref="S3.E4.m1.6.6.3.2.3.cmml">exp</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.6.6.3.2.2" xref="S3.E4.m1.6.6.3.2.2.cmml">​</mo><mrow id="S3.E4.m1.6.6.3.2.1.1" xref="S3.E4.m1.6.6.3.2.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.6.6.3.2.1.1.2" xref="S3.E4.m1.6.6.3.2.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.6.6.3.2.1.1.1" xref="S3.E4.m1.6.6.3.2.1.1.1.cmml"><mrow id="S3.E4.m1.6.6.3.2.1.1.1.2" xref="S3.E4.m1.6.6.3.2.1.1.1.2.cmml"><msub id="S3.E4.m1.6.6.3.2.1.1.1.2.2" xref="S3.E4.m1.6.6.3.2.1.1.1.2.2.cmml"><mi id="S3.E4.m1.6.6.3.2.1.1.1.2.2.2" xref="S3.E4.m1.6.6.3.2.1.1.1.2.2.2.cmml">z</mi><mi id="S3.E4.m1.6.6.3.2.1.1.1.2.2.3" xref="S3.E4.m1.6.6.3.2.1.1.1.2.2.3.cmml">g</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S3.E4.m1.6.6.3.2.1.1.1.2.1" xref="S3.E4.m1.6.6.3.2.1.1.1.2.1.cmml">⋅</mo><msub id="S3.E4.m1.6.6.3.2.1.1.1.2.3" xref="S3.E4.m1.6.6.3.2.1.1.1.2.3.cmml"><mi id="S3.E4.m1.6.6.3.2.1.1.1.2.3.2" xref="S3.E4.m1.6.6.3.2.1.1.1.2.3.2.cmml">z</mi><mi id="S3.E4.m1.6.6.3.2.1.1.1.2.3.3" xref="S3.E4.m1.6.6.3.2.1.1.1.2.3.3.cmml">a</mi></msub></mrow><mo id="S3.E4.m1.6.6.3.2.1.1.1.1" xref="S3.E4.m1.6.6.3.2.1.1.1.1.cmml">/</mo><msub id="S3.E4.m1.6.6.3.2.1.1.1.3" xref="S3.E4.m1.6.6.3.2.1.1.1.3.cmml"><mi id="S3.E4.m1.6.6.3.2.1.1.1.3.2" xref="S3.E4.m1.6.6.3.2.1.1.1.3.2.cmml">τ</mi><mrow id="S3.E4.m1.6.6.3.2.1.1.1.3.3" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.cmml"><mi id="S3.E4.m1.6.6.3.2.1.1.1.3.3.2" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.6.6.3.2.1.1.1.3.3.1" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.6.6.3.2.1.1.1.3.3.3" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.6.6.3.2.1.1.1.3.3.1a" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.6.6.3.2.1.1.1.3.3.4" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.4.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.6.6.3.2.1.1.1.3.3.1b" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.6.6.3.2.1.1.1.3.3.5" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.5.cmml">p</mi></mrow></msub></mrow><mo stretchy="false" id="S3.E4.m1.6.6.3.2.1.1.3" xref="S3.E4.m1.6.6.3.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow></mrow><mo id="S3.E4.m1.7.7.1.2" xref="S3.E4.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.7b"><apply id="S3.E4.m1.7.7.1.1.cmml" xref="S3.E4.m1.7.7.1"><eq id="S3.E4.m1.7.7.1.1.1.cmml" xref="S3.E4.m1.7.7.1.1.1"></eq><apply id="S3.E4.m1.7.7.1.1.2.cmml" xref="S3.E4.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.2.1.cmml" xref="S3.E4.m1.7.7.1.1.2">subscript</csymbol><ci id="S3.E4.m1.7.7.1.1.2.2.cmml" xref="S3.E4.m1.7.7.1.1.2.2">ℒ</ci><ci id="S3.E4.m1.7.7.1.1.2.3.cmml" xref="S3.E4.m1.7.7.1.1.2.3">Con</ci></apply><apply id="S3.E4.m1.7.7.1.1.3.cmml" xref="S3.E4.m1.7.7.1.1.3"><apply id="S3.E4.m1.7.7.1.1.3.1.cmml" xref="S3.E4.m1.7.7.1.1.3.1"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.3.1.1.cmml" xref="S3.E4.m1.7.7.1.1.3.1">subscript</csymbol><sum id="S3.E4.m1.7.7.1.1.3.1.2.cmml" xref="S3.E4.m1.7.7.1.1.3.1.2"></sum><apply id="S3.E4.m1.7.7.1.1.3.1.3.cmml" xref="S3.E4.m1.7.7.1.1.3.1.3"><in id="S3.E4.m1.7.7.1.1.3.1.3.1.cmml" xref="S3.E4.m1.7.7.1.1.3.1.3.1"></in><ci id="S3.E4.m1.7.7.1.1.3.1.3.2.cmml" xref="S3.E4.m1.7.7.1.1.3.1.3.2">𝑖</ci><ci id="S3.E4.m1.7.7.1.1.3.1.3.3.cmml" xref="S3.E4.m1.7.7.1.1.3.1.3.3">𝐼</ci></apply></apply><apply id="S3.E4.m1.7.7.1.1.3.2.cmml" xref="S3.E4.m1.7.7.1.1.3.2"><times id="S3.E4.m1.7.7.1.1.3.2.1.cmml" xref="S3.E4.m1.7.7.1.1.3.2.1"></times><apply id="S3.E4.m1.2.2.cmml" xref="S3.E4.m1.2.2"><divide id="S3.E4.m1.2.2.3.cmml" xref="S3.E4.m1.2.2"></divide><apply id="S3.E4.m1.2.2.4.cmml" xref="S3.E4.m1.2.2.4"><minus id="S3.E4.m1.2.2.4.1.cmml" xref="S3.E4.m1.2.2.4"></minus><cn type="integer" id="S3.E4.m1.2.2.4.2.cmml" xref="S3.E4.m1.2.2.4.2">1</cn></apply><apply id="S3.E4.m1.2.2.2.3.cmml" xref="S3.E4.m1.2.2.2.2"><abs id="S3.E4.m1.2.2.2.3.1.cmml" xref="S3.E4.m1.2.2.2.2.2"></abs><apply id="S3.E4.m1.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.2.2.1"><times id="S3.E4.m1.2.2.2.2.1.1.cmml" xref="S3.E4.m1.2.2.2.2.1.1"></times><ci id="S3.E4.m1.2.2.2.2.1.2.cmml" xref="S3.E4.m1.2.2.2.2.1.2">𝑃</ci><ci id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1">𝑖</ci></apply></apply></apply><apply id="S3.E4.m1.7.7.1.1.3.2.2.cmml" xref="S3.E4.m1.7.7.1.1.3.2.2"><apply id="S3.E4.m1.7.7.1.1.3.2.2.1.cmml" xref="S3.E4.m1.7.7.1.1.3.2.2.1"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.3.2.2.1.1.cmml" xref="S3.E4.m1.7.7.1.1.3.2.2.1">subscript</csymbol><sum id="S3.E4.m1.7.7.1.1.3.2.2.1.2.cmml" xref="S3.E4.m1.7.7.1.1.3.2.2.1.2"></sum><apply id="S3.E4.m1.3.3.1.cmml" xref="S3.E4.m1.3.3.1"><in id="S3.E4.m1.3.3.1.2.cmml" xref="S3.E4.m1.3.3.1.2"></in><ci id="S3.E4.m1.3.3.1.3.cmml" xref="S3.E4.m1.3.3.1.3">𝑝</ci><apply id="S3.E4.m1.3.3.1.4.cmml" xref="S3.E4.m1.3.3.1.4"><times id="S3.E4.m1.3.3.1.4.1.cmml" xref="S3.E4.m1.3.3.1.4.1"></times><ci id="S3.E4.m1.3.3.1.4.2.cmml" xref="S3.E4.m1.3.3.1.4.2">𝑃</ci><ci id="S3.E4.m1.3.3.1.1.cmml" xref="S3.E4.m1.3.3.1.1">𝑖</ci></apply></apply></apply><apply id="S3.E4.m1.7.7.1.1.3.2.2.2.cmml" xref="S3.E4.m1.7.7.1.1.3.2.2.2"><times id="S3.E4.m1.7.7.1.1.3.2.2.2.1.cmml" xref="S3.E4.m1.7.7.1.1.3.2.2.2.1"></times><ci id="S3.E4.m1.7.7.1.1.3.2.2.2.2.cmml" xref="S3.E4.m1.7.7.1.1.3.2.2.2.2">log</ci><apply id="S3.E4.m1.6.6.cmml" xref="S3.E4.m1.6.6"><divide id="S3.E4.m1.6.6.4.cmml" xref="S3.E4.m1.6.6"></divide><apply id="S3.E4.m1.4.4.1.cmml" xref="S3.E4.m1.4.4.1"><times id="S3.E4.m1.4.4.1.2.cmml" xref="S3.E4.m1.4.4.1.2"></times><ci id="S3.E4.m1.4.4.1.3.cmml" xref="S3.E4.m1.4.4.1.3">exp</ci><apply id="S3.E4.m1.4.4.1.1.1.1.cmml" xref="S3.E4.m1.4.4.1.1.1"><divide id="S3.E4.m1.4.4.1.1.1.1.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1"></divide><apply id="S3.E4.m1.4.4.1.1.1.1.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.2"><ci id="S3.E4.m1.4.4.1.1.1.1.2.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.2.1">⋅</ci><apply id="S3.E4.m1.4.4.1.1.1.1.2.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E4.m1.4.4.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.2.2.2">𝑧</ci><ci id="S3.E4.m1.4.4.1.1.1.1.2.2.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.2.2.3">𝑔</ci></apply><apply id="S3.E4.m1.4.4.1.1.1.1.2.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.1.1.2.3.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E4.m1.4.4.1.1.1.1.2.3.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.2.3.2">𝑧</ci><ci id="S3.E4.m1.4.4.1.1.1.1.2.3.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.2.3.3">𝑝</ci></apply></apply><apply id="S3.E4.m1.4.4.1.1.1.1.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.1.1.3.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.4.4.1.1.1.1.3.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.3.2">𝜏</ci><apply id="S3.E4.m1.4.4.1.1.1.1.3.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.3.3"><times id="S3.E4.m1.4.4.1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.3.3.1"></times><ci id="S3.E4.m1.4.4.1.1.1.1.3.3.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.3.3.2">𝑡</ci><ci id="S3.E4.m1.4.4.1.1.1.1.3.3.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.3.3.3">𝑒</ci><ci id="S3.E4.m1.4.4.1.1.1.1.3.3.4.cmml" xref="S3.E4.m1.4.4.1.1.1.1.3.3.4">𝑚</ci><ci id="S3.E4.m1.4.4.1.1.1.1.3.3.5.cmml" xref="S3.E4.m1.4.4.1.1.1.1.3.3.5">𝑝</ci></apply></apply></apply></apply><apply id="S3.E4.m1.6.6.3.cmml" xref="S3.E4.m1.6.6.3"><apply id="S3.E4.m1.6.6.3.3.cmml" xref="S3.E4.m1.6.6.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.3.3.1.cmml" xref="S3.E4.m1.6.6.3.3">subscript</csymbol><sum id="S3.E4.m1.6.6.3.3.2.cmml" xref="S3.E4.m1.6.6.3.3.2"></sum><apply id="S3.E4.m1.5.5.2.1.1.cmml" xref="S3.E4.m1.5.5.2.1.1"><in id="S3.E4.m1.5.5.2.1.1.2.cmml" xref="S3.E4.m1.5.5.2.1.1.2"></in><ci id="S3.E4.m1.5.5.2.1.1.3.cmml" xref="S3.E4.m1.5.5.2.1.1.3">𝑎</ci><apply id="S3.E4.m1.5.5.2.1.1.4.cmml" xref="S3.E4.m1.5.5.2.1.1.4"><times id="S3.E4.m1.5.5.2.1.1.4.1.cmml" xref="S3.E4.m1.5.5.2.1.1.4.1"></times><ci id="S3.E4.m1.5.5.2.1.1.4.2.cmml" xref="S3.E4.m1.5.5.2.1.1.4.2">𝐴</ci><ci id="S3.E4.m1.5.5.2.1.1.1.cmml" xref="S3.E4.m1.5.5.2.1.1.1">𝑖</ci></apply></apply></apply><apply id="S3.E4.m1.6.6.3.2.cmml" xref="S3.E4.m1.6.6.3.2"><times id="S3.E4.m1.6.6.3.2.2.cmml" xref="S3.E4.m1.6.6.3.2.2"></times><ci id="S3.E4.m1.6.6.3.2.3.cmml" xref="S3.E4.m1.6.6.3.2.3">exp</ci><apply id="S3.E4.m1.6.6.3.2.1.1.1.cmml" xref="S3.E4.m1.6.6.3.2.1.1"><divide id="S3.E4.m1.6.6.3.2.1.1.1.1.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.1"></divide><apply id="S3.E4.m1.6.6.3.2.1.1.1.2.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.2"><ci id="S3.E4.m1.6.6.3.2.1.1.1.2.1.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.2.1">⋅</ci><apply id="S3.E4.m1.6.6.3.2.1.1.1.2.2.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.3.2.1.1.1.2.2.1.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.2.2">subscript</csymbol><ci id="S3.E4.m1.6.6.3.2.1.1.1.2.2.2.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.2.2.2">𝑧</ci><ci id="S3.E4.m1.6.6.3.2.1.1.1.2.2.3.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.2.2.3">𝑔</ci></apply><apply id="S3.E4.m1.6.6.3.2.1.1.1.2.3.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.3.2.1.1.1.2.3.1.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.2.3">subscript</csymbol><ci id="S3.E4.m1.6.6.3.2.1.1.1.2.3.2.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.2.3.2">𝑧</ci><ci id="S3.E4.m1.6.6.3.2.1.1.1.2.3.3.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.2.3.3">𝑎</ci></apply></apply><apply id="S3.E4.m1.6.6.3.2.1.1.1.3.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.3.2.1.1.1.3.1.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.6.6.3.2.1.1.1.3.2.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.3.2">𝜏</ci><apply id="S3.E4.m1.6.6.3.2.1.1.1.3.3.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3"><times id="S3.E4.m1.6.6.3.2.1.1.1.3.3.1.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.1"></times><ci id="S3.E4.m1.6.6.3.2.1.1.1.3.3.2.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.2">𝑡</ci><ci id="S3.E4.m1.6.6.3.2.1.1.1.3.3.3.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.3">𝑒</ci><ci id="S3.E4.m1.6.6.3.2.1.1.1.3.3.4.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.4">𝑚</ci><ci id="S3.E4.m1.6.6.3.2.1.1.1.3.3.5.cmml" xref="S3.E4.m1.6.6.3.2.1.1.1.3.3.5">𝑝</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.7c">\mathcal{L}_{\rm Con}\!=\!\sum_{i\in I}\frac{-1}{|P(i)|}\!\sum_{p\in P(i)}\!{\rm log}\frac{{\rm exp}(z_{g}\cdot z_{p}/\tau_{temp})}{\sum_{a\in A(i)}{\rm exp}(z_{g}\cdot z_{a}/\tau_{temp})},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.SSS1.p4.16" class="ltx_p">where <math id="S3.SS3.SSS1.p4.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\rm CE}" display="inline"><semantics id="S3.SS3.SSS1.p4.1.m1.1a"><msub id="S3.SS3.SSS1.p4.1.m1.1.1" xref="S3.SS3.SSS1.p4.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS1.p4.1.m1.1.1.2" xref="S3.SS3.SSS1.p4.1.m1.1.1.2.cmml">ℒ</mi><mi id="S3.SS3.SSS1.p4.1.m1.1.1.3" xref="S3.SS3.SSS1.p4.1.m1.1.1.3.cmml">CE</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.1.m1.1b"><apply id="S3.SS3.SSS1.p4.1.m1.1.1.cmml" xref="S3.SS3.SSS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p4.1.m1.1.1.1.cmml" xref="S3.SS3.SSS1.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.SSS1.p4.1.m1.1.1.2.cmml" xref="S3.SS3.SSS1.p4.1.m1.1.1.2">ℒ</ci><ci id="S3.SS3.SSS1.p4.1.m1.1.1.3.cmml" xref="S3.SS3.SSS1.p4.1.m1.1.1.3">CE</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.1.m1.1c">\mathcal{L}_{\rm CE}</annotation></semantics></math> is the cross-entropy measured on the virtual data, and <math id="S3.SS3.SSS1.p4.2.m2.1" class="ltx_Math" alttext="\mathcal{L}_{\rm Con}" display="inline"><semantics id="S3.SS3.SSS1.p4.2.m2.1a"><msub id="S3.SS3.SSS1.p4.2.m2.1.1" xref="S3.SS3.SSS1.p4.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS1.p4.2.m2.1.1.2" xref="S3.SS3.SSS1.p4.2.m2.1.1.2.cmml">ℒ</mi><mi id="S3.SS3.SSS1.p4.2.m2.1.1.3" xref="S3.SS3.SSS1.p4.2.m2.1.1.3.cmml">Con</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.2.m2.1b"><apply id="S3.SS3.SSS1.p4.2.m2.1.1.cmml" xref="S3.SS3.SSS1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p4.2.m2.1.1.1.cmml" xref="S3.SS3.SSS1.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.SSS1.p4.2.m2.1.1.2.cmml" xref="S3.SS3.SSS1.p4.2.m2.1.1.2">ℒ</ci><ci id="S3.SS3.SSS1.p4.2.m2.1.1.3.cmml" xref="S3.SS3.SSS1.p4.2.m2.1.1.3">Con</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.2.m2.1c">\mathcal{L}_{\rm Con}</annotation></semantics></math> is the supervised contrastive loss where <math id="S3.SS3.SSS1.p4.3.m3.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S3.SS3.SSS1.p4.3.m3.1a"><mi id="S3.SS3.SSS1.p4.3.m3.1.1" xref="S3.SS3.SSS1.p4.3.m3.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.3.m3.1b"><ci id="S3.SS3.SSS1.p4.3.m3.1.1.cmml" xref="S3.SS3.SSS1.p4.3.m3.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.3.m3.1c">I</annotation></semantics></math> is the collection of all indices, <math id="S3.SS3.SSS1.p4.4.m4.1" class="ltx_Math" alttext="A(i)" display="inline"><semantics id="S3.SS3.SSS1.p4.4.m4.1a"><mrow id="S3.SS3.SSS1.p4.4.m4.1.2" xref="S3.SS3.SSS1.p4.4.m4.1.2.cmml"><mi id="S3.SS3.SSS1.p4.4.m4.1.2.2" xref="S3.SS3.SSS1.p4.4.m4.1.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS1.p4.4.m4.1.2.1" xref="S3.SS3.SSS1.p4.4.m4.1.2.1.cmml">​</mo><mrow id="S3.SS3.SSS1.p4.4.m4.1.2.3.2" xref="S3.SS3.SSS1.p4.4.m4.1.2.cmml"><mo stretchy="false" id="S3.SS3.SSS1.p4.4.m4.1.2.3.2.1" xref="S3.SS3.SSS1.p4.4.m4.1.2.cmml">(</mo><mi id="S3.SS3.SSS1.p4.4.m4.1.1" xref="S3.SS3.SSS1.p4.4.m4.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS3.SSS1.p4.4.m4.1.2.3.2.2" xref="S3.SS3.SSS1.p4.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.4.m4.1b"><apply id="S3.SS3.SSS1.p4.4.m4.1.2.cmml" xref="S3.SS3.SSS1.p4.4.m4.1.2"><times id="S3.SS3.SSS1.p4.4.m4.1.2.1.cmml" xref="S3.SS3.SSS1.p4.4.m4.1.2.1"></times><ci id="S3.SS3.SSS1.p4.4.m4.1.2.2.cmml" xref="S3.SS3.SSS1.p4.4.m4.1.2.2">𝐴</ci><ci id="S3.SS3.SSS1.p4.4.m4.1.1.cmml" xref="S3.SS3.SSS1.p4.4.m4.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.4.m4.1c">A(i)</annotation></semantics></math> indicates all the local and global virtual data indices without <math id="S3.SS3.SSS1.p4.5.m5.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS3.SSS1.p4.5.m5.1a"><mi id="S3.SS3.SSS1.p4.5.m5.1.1" xref="S3.SS3.SSS1.p4.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.5.m5.1b"><ci id="S3.SS3.SSS1.p4.5.m5.1.1.cmml" xref="S3.SS3.SSS1.p4.5.m5.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.5.m5.1c">i</annotation></semantics></math> (i.e. <math id="S3.SS3.SSS1.p4.6.m6.2" class="ltx_Math" alttext="A(i)\equiv I\backslash\{i\}" display="inline"><semantics id="S3.SS3.SSS1.p4.6.m6.2a"><mrow id="S3.SS3.SSS1.p4.6.m6.2.3" xref="S3.SS3.SSS1.p4.6.m6.2.3.cmml"><mrow id="S3.SS3.SSS1.p4.6.m6.2.3.2" xref="S3.SS3.SSS1.p4.6.m6.2.3.2.cmml"><mi id="S3.SS3.SSS1.p4.6.m6.2.3.2.2" xref="S3.SS3.SSS1.p4.6.m6.2.3.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS1.p4.6.m6.2.3.2.1" xref="S3.SS3.SSS1.p4.6.m6.2.3.2.1.cmml">​</mo><mrow id="S3.SS3.SSS1.p4.6.m6.2.3.2.3.2" xref="S3.SS3.SSS1.p4.6.m6.2.3.2.cmml"><mo stretchy="false" id="S3.SS3.SSS1.p4.6.m6.2.3.2.3.2.1" xref="S3.SS3.SSS1.p4.6.m6.2.3.2.cmml">(</mo><mi id="S3.SS3.SSS1.p4.6.m6.1.1" xref="S3.SS3.SSS1.p4.6.m6.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS3.SSS1.p4.6.m6.2.3.2.3.2.2" xref="S3.SS3.SSS1.p4.6.m6.2.3.2.cmml">)</mo></mrow></mrow><mo id="S3.SS3.SSS1.p4.6.m6.2.3.1" xref="S3.SS3.SSS1.p4.6.m6.2.3.1.cmml">≡</mo><mrow id="S3.SS3.SSS1.p4.6.m6.2.3.3" xref="S3.SS3.SSS1.p4.6.m6.2.3.3.cmml"><mi id="S3.SS3.SSS1.p4.6.m6.2.3.3.2" xref="S3.SS3.SSS1.p4.6.m6.2.3.3.2.cmml">I</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.SSS1.p4.6.m6.2.3.3.1" xref="S3.SS3.SSS1.p4.6.m6.2.3.3.1.cmml">\</mo><mrow id="S3.SS3.SSS1.p4.6.m6.2.3.3.3.2" xref="S3.SS3.SSS1.p4.6.m6.2.3.3.3.1.cmml"><mo stretchy="false" id="S3.SS3.SSS1.p4.6.m6.2.3.3.3.2.1" xref="S3.SS3.SSS1.p4.6.m6.2.3.3.3.1.cmml">{</mo><mi id="S3.SS3.SSS1.p4.6.m6.2.2" xref="S3.SS3.SSS1.p4.6.m6.2.2.cmml">i</mi><mo stretchy="false" id="S3.SS3.SSS1.p4.6.m6.2.3.3.3.2.2" xref="S3.SS3.SSS1.p4.6.m6.2.3.3.3.1.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.6.m6.2b"><apply id="S3.SS3.SSS1.p4.6.m6.2.3.cmml" xref="S3.SS3.SSS1.p4.6.m6.2.3"><equivalent id="S3.SS3.SSS1.p4.6.m6.2.3.1.cmml" xref="S3.SS3.SSS1.p4.6.m6.2.3.1"></equivalent><apply id="S3.SS3.SSS1.p4.6.m6.2.3.2.cmml" xref="S3.SS3.SSS1.p4.6.m6.2.3.2"><times id="S3.SS3.SSS1.p4.6.m6.2.3.2.1.cmml" xref="S3.SS3.SSS1.p4.6.m6.2.3.2.1"></times><ci id="S3.SS3.SSS1.p4.6.m6.2.3.2.2.cmml" xref="S3.SS3.SSS1.p4.6.m6.2.3.2.2">𝐴</ci><ci id="S3.SS3.SSS1.p4.6.m6.1.1.cmml" xref="S3.SS3.SSS1.p4.6.m6.1.1">𝑖</ci></apply><apply id="S3.SS3.SSS1.p4.6.m6.2.3.3.cmml" xref="S3.SS3.SSS1.p4.6.m6.2.3.3"><ci id="S3.SS3.SSS1.p4.6.m6.2.3.3.1.cmml" xref="S3.SS3.SSS1.p4.6.m6.2.3.3.1">\</ci><ci id="S3.SS3.SSS1.p4.6.m6.2.3.3.2.cmml" xref="S3.SS3.SSS1.p4.6.m6.2.3.3.2">𝐼</ci><set id="S3.SS3.SSS1.p4.6.m6.2.3.3.3.1.cmml" xref="S3.SS3.SSS1.p4.6.m6.2.3.3.3.2"><ci id="S3.SS3.SSS1.p4.6.m6.2.2.cmml" xref="S3.SS3.SSS1.p4.6.m6.2.2">𝑖</ci></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.6.m6.2c">A(i)\equiv I\backslash\{i\}</annotation></semantics></math>), <math id="S3.SS3.SSS1.p4.7.m7.1" class="ltx_Math" alttext="z=\psi(x)" display="inline"><semantics id="S3.SS3.SSS1.p4.7.m7.1a"><mrow id="S3.SS3.SSS1.p4.7.m7.1.2" xref="S3.SS3.SSS1.p4.7.m7.1.2.cmml"><mi id="S3.SS3.SSS1.p4.7.m7.1.2.2" xref="S3.SS3.SSS1.p4.7.m7.1.2.2.cmml">z</mi><mo id="S3.SS3.SSS1.p4.7.m7.1.2.1" xref="S3.SS3.SSS1.p4.7.m7.1.2.1.cmml">=</mo><mrow id="S3.SS3.SSS1.p4.7.m7.1.2.3" xref="S3.SS3.SSS1.p4.7.m7.1.2.3.cmml"><mi id="S3.SS3.SSS1.p4.7.m7.1.2.3.2" xref="S3.SS3.SSS1.p4.7.m7.1.2.3.2.cmml">ψ</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS1.p4.7.m7.1.2.3.1" xref="S3.SS3.SSS1.p4.7.m7.1.2.3.1.cmml">​</mo><mrow id="S3.SS3.SSS1.p4.7.m7.1.2.3.3.2" xref="S3.SS3.SSS1.p4.7.m7.1.2.3.cmml"><mo stretchy="false" id="S3.SS3.SSS1.p4.7.m7.1.2.3.3.2.1" xref="S3.SS3.SSS1.p4.7.m7.1.2.3.cmml">(</mo><mi id="S3.SS3.SSS1.p4.7.m7.1.1" xref="S3.SS3.SSS1.p4.7.m7.1.1.cmml">x</mi><mo stretchy="false" id="S3.SS3.SSS1.p4.7.m7.1.2.3.3.2.2" xref="S3.SS3.SSS1.p4.7.m7.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.7.m7.1b"><apply id="S3.SS3.SSS1.p4.7.m7.1.2.cmml" xref="S3.SS3.SSS1.p4.7.m7.1.2"><eq id="S3.SS3.SSS1.p4.7.m7.1.2.1.cmml" xref="S3.SS3.SSS1.p4.7.m7.1.2.1"></eq><ci id="S3.SS3.SSS1.p4.7.m7.1.2.2.cmml" xref="S3.SS3.SSS1.p4.7.m7.1.2.2">𝑧</ci><apply id="S3.SS3.SSS1.p4.7.m7.1.2.3.cmml" xref="S3.SS3.SSS1.p4.7.m7.1.2.3"><times id="S3.SS3.SSS1.p4.7.m7.1.2.3.1.cmml" xref="S3.SS3.SSS1.p4.7.m7.1.2.3.1"></times><ci id="S3.SS3.SSS1.p4.7.m7.1.2.3.2.cmml" xref="S3.SS3.SSS1.p4.7.m7.1.2.3.2">𝜓</ci><ci id="S3.SS3.SSS1.p4.7.m7.1.1.cmml" xref="S3.SS3.SSS1.p4.7.m7.1.1">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.7.m7.1c">z=\psi(x)</annotation></semantics></math> is the output of feature extractor, <math id="S3.SS3.SSS1.p4.8.m8.1" class="ltx_Math" alttext="P(i)" display="inline"><semantics id="S3.SS3.SSS1.p4.8.m8.1a"><mrow id="S3.SS3.SSS1.p4.8.m8.1.2" xref="S3.SS3.SSS1.p4.8.m8.1.2.cmml"><mi id="S3.SS3.SSS1.p4.8.m8.1.2.2" xref="S3.SS3.SSS1.p4.8.m8.1.2.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS1.p4.8.m8.1.2.1" xref="S3.SS3.SSS1.p4.8.m8.1.2.1.cmml">​</mo><mrow id="S3.SS3.SSS1.p4.8.m8.1.2.3.2" xref="S3.SS3.SSS1.p4.8.m8.1.2.cmml"><mo stretchy="false" id="S3.SS3.SSS1.p4.8.m8.1.2.3.2.1" xref="S3.SS3.SSS1.p4.8.m8.1.2.cmml">(</mo><mi id="S3.SS3.SSS1.p4.8.m8.1.1" xref="S3.SS3.SSS1.p4.8.m8.1.1.cmml">i</mi><mo stretchy="false" id="S3.SS3.SSS1.p4.8.m8.1.2.3.2.2" xref="S3.SS3.SSS1.p4.8.m8.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.8.m8.1b"><apply id="S3.SS3.SSS1.p4.8.m8.1.2.cmml" xref="S3.SS3.SSS1.p4.8.m8.1.2"><times id="S3.SS3.SSS1.p4.8.m8.1.2.1.cmml" xref="S3.SS3.SSS1.p4.8.m8.1.2.1"></times><ci id="S3.SS3.SSS1.p4.8.m8.1.2.2.cmml" xref="S3.SS3.SSS1.p4.8.m8.1.2.2">𝑃</ci><ci id="S3.SS3.SSS1.p4.8.m8.1.1.cmml" xref="S3.SS3.SSS1.p4.8.m8.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.8.m8.1c">P(i)</annotation></semantics></math> represents the set of images belonging to the same class <math id="S3.SS3.SSS1.p4.9.m9.1" class="ltx_Math" alttext="y_{i}" display="inline"><semantics id="S3.SS3.SSS1.p4.9.m9.1a"><msub id="S3.SS3.SSS1.p4.9.m9.1.1" xref="S3.SS3.SSS1.p4.9.m9.1.1.cmml"><mi id="S3.SS3.SSS1.p4.9.m9.1.1.2" xref="S3.SS3.SSS1.p4.9.m9.1.1.2.cmml">y</mi><mi id="S3.SS3.SSS1.p4.9.m9.1.1.3" xref="S3.SS3.SSS1.p4.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.9.m9.1b"><apply id="S3.SS3.SSS1.p4.9.m9.1.1.cmml" xref="S3.SS3.SSS1.p4.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p4.9.m9.1.1.1.cmml" xref="S3.SS3.SSS1.p4.9.m9.1.1">subscript</csymbol><ci id="S3.SS3.SSS1.p4.9.m9.1.1.2.cmml" xref="S3.SS3.SSS1.p4.9.m9.1.1.2">𝑦</ci><ci id="S3.SS3.SSS1.p4.9.m9.1.1.3.cmml" xref="S3.SS3.SSS1.p4.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.9.m9.1c">y_{i}</annotation></semantics></math> without data <math id="S3.SS3.SSS1.p4.10.m10.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS3.SSS1.p4.10.m10.1a"><mi id="S3.SS3.SSS1.p4.10.m10.1.1" xref="S3.SS3.SSS1.p4.10.m10.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.10.m10.1b"><ci id="S3.SS3.SSS1.p4.10.m10.1.1.cmml" xref="S3.SS3.SSS1.p4.10.m10.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.10.m10.1c">i</annotation></semantics></math>, and <math id="S3.SS3.SSS1.p4.11.m11.1" class="ltx_Math" alttext="\tau_{temp}" display="inline"><semantics id="S3.SS3.SSS1.p4.11.m11.1a"><msub id="S3.SS3.SSS1.p4.11.m11.1.1" xref="S3.SS3.SSS1.p4.11.m11.1.1.cmml"><mi id="S3.SS3.SSS1.p4.11.m11.1.1.2" xref="S3.SS3.SSS1.p4.11.m11.1.1.2.cmml">τ</mi><mrow id="S3.SS3.SSS1.p4.11.m11.1.1.3" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.cmml"><mi id="S3.SS3.SSS1.p4.11.m11.1.1.3.2" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS1.p4.11.m11.1.1.3.1" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS1.p4.11.m11.1.1.3.3" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS1.p4.11.m11.1.1.3.1a" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS1.p4.11.m11.1.1.3.4" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.4.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS1.p4.11.m11.1.1.3.1b" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS1.p4.11.m11.1.1.3.5" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.5.cmml">p</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.11.m11.1b"><apply id="S3.SS3.SSS1.p4.11.m11.1.1.cmml" xref="S3.SS3.SSS1.p4.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p4.11.m11.1.1.1.cmml" xref="S3.SS3.SSS1.p4.11.m11.1.1">subscript</csymbol><ci id="S3.SS3.SSS1.p4.11.m11.1.1.2.cmml" xref="S3.SS3.SSS1.p4.11.m11.1.1.2">𝜏</ci><apply id="S3.SS3.SSS1.p4.11.m11.1.1.3.cmml" xref="S3.SS3.SSS1.p4.11.m11.1.1.3"><times id="S3.SS3.SSS1.p4.11.m11.1.1.3.1.cmml" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.1"></times><ci id="S3.SS3.SSS1.p4.11.m11.1.1.3.2.cmml" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.2">𝑡</ci><ci id="S3.SS3.SSS1.p4.11.m11.1.1.3.3.cmml" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.3">𝑒</ci><ci id="S3.SS3.SSS1.p4.11.m11.1.1.3.4.cmml" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.4">𝑚</ci><ci id="S3.SS3.SSS1.p4.11.m11.1.1.3.5.cmml" xref="S3.SS3.SSS1.p4.11.m11.1.1.3.5">𝑝</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.11.m11.1c">\tau_{temp}</annotation></semantics></math> is a scalar temperature parameter. In such a way, global virtual data can be served for calibration, where <math id="S3.SS3.SSS1.p4.12.m12.1" class="ltx_Math" alttext="z_{g}" display="inline"><semantics id="S3.SS3.SSS1.p4.12.m12.1a"><msub id="S3.SS3.SSS1.p4.12.m12.1.1" xref="S3.SS3.SSS1.p4.12.m12.1.1.cmml"><mi id="S3.SS3.SSS1.p4.12.m12.1.1.2" xref="S3.SS3.SSS1.p4.12.m12.1.1.2.cmml">z</mi><mi id="S3.SS3.SSS1.p4.12.m12.1.1.3" xref="S3.SS3.SSS1.p4.12.m12.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.12.m12.1b"><apply id="S3.SS3.SSS1.p4.12.m12.1.1.cmml" xref="S3.SS3.SSS1.p4.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p4.12.m12.1.1.1.cmml" xref="S3.SS3.SSS1.p4.12.m12.1.1">subscript</csymbol><ci id="S3.SS3.SSS1.p4.12.m12.1.1.2.cmml" xref="S3.SS3.SSS1.p4.12.m12.1.1.2">𝑧</ci><ci id="S3.SS3.SSS1.p4.12.m12.1.1.3.cmml" xref="S3.SS3.SSS1.p4.12.m12.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.12.m12.1c">z_{g}</annotation></semantics></math> is from <math id="S3.SS3.SSS1.p4.13.m13.1" class="ltx_Math" alttext="\tilde{D}^{g}" display="inline"><semantics id="S3.SS3.SSS1.p4.13.m13.1a"><msup id="S3.SS3.SSS1.p4.13.m13.1.1" xref="S3.SS3.SSS1.p4.13.m13.1.1.cmml"><mover accent="true" id="S3.SS3.SSS1.p4.13.m13.1.1.2" xref="S3.SS3.SSS1.p4.13.m13.1.1.2.cmml"><mi id="S3.SS3.SSS1.p4.13.m13.1.1.2.2" xref="S3.SS3.SSS1.p4.13.m13.1.1.2.2.cmml">D</mi><mo id="S3.SS3.SSS1.p4.13.m13.1.1.2.1" xref="S3.SS3.SSS1.p4.13.m13.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS3.SSS1.p4.13.m13.1.1.3" xref="S3.SS3.SSS1.p4.13.m13.1.1.3.cmml">g</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.13.m13.1b"><apply id="S3.SS3.SSS1.p4.13.m13.1.1.cmml" xref="S3.SS3.SSS1.p4.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p4.13.m13.1.1.1.cmml" xref="S3.SS3.SSS1.p4.13.m13.1.1">superscript</csymbol><apply id="S3.SS3.SSS1.p4.13.m13.1.1.2.cmml" xref="S3.SS3.SSS1.p4.13.m13.1.1.2"><ci id="S3.SS3.SSS1.p4.13.m13.1.1.2.1.cmml" xref="S3.SS3.SSS1.p4.13.m13.1.1.2.1">~</ci><ci id="S3.SS3.SSS1.p4.13.m13.1.1.2.2.cmml" xref="S3.SS3.SSS1.p4.13.m13.1.1.2.2">𝐷</ci></apply><ci id="S3.SS3.SSS1.p4.13.m13.1.1.3.cmml" xref="S3.SS3.SSS1.p4.13.m13.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.13.m13.1c">\tilde{D}^{g}</annotation></semantics></math> as an anchor, and <math id="S3.SS3.SSS1.p4.14.m14.1" class="ltx_Math" alttext="z_{p}" display="inline"><semantics id="S3.SS3.SSS1.p4.14.m14.1a"><msub id="S3.SS3.SSS1.p4.14.m14.1.1" xref="S3.SS3.SSS1.p4.14.m14.1.1.cmml"><mi id="S3.SS3.SSS1.p4.14.m14.1.1.2" xref="S3.SS3.SSS1.p4.14.m14.1.1.2.cmml">z</mi><mi id="S3.SS3.SSS1.p4.14.m14.1.1.3" xref="S3.SS3.SSS1.p4.14.m14.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.14.m14.1b"><apply id="S3.SS3.SSS1.p4.14.m14.1.1.cmml" xref="S3.SS3.SSS1.p4.14.m14.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p4.14.m14.1.1.1.cmml" xref="S3.SS3.SSS1.p4.14.m14.1.1">subscript</csymbol><ci id="S3.SS3.SSS1.p4.14.m14.1.1.2.cmml" xref="S3.SS3.SSS1.p4.14.m14.1.1.2">𝑧</ci><ci id="S3.SS3.SSS1.p4.14.m14.1.1.3.cmml" xref="S3.SS3.SSS1.p4.14.m14.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.14.m14.1c">z_{p}</annotation></semantics></math> and <math id="S3.SS3.SSS1.p4.15.m15.1" class="ltx_Math" alttext="z_{a}" display="inline"><semantics id="S3.SS3.SSS1.p4.15.m15.1a"><msub id="S3.SS3.SSS1.p4.15.m15.1.1" xref="S3.SS3.SSS1.p4.15.m15.1.1.cmml"><mi id="S3.SS3.SSS1.p4.15.m15.1.1.2" xref="S3.SS3.SSS1.p4.15.m15.1.1.2.cmml">z</mi><mi id="S3.SS3.SSS1.p4.15.m15.1.1.3" xref="S3.SS3.SSS1.p4.15.m15.1.1.3.cmml">a</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.15.m15.1b"><apply id="S3.SS3.SSS1.p4.15.m15.1.1.cmml" xref="S3.SS3.SSS1.p4.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p4.15.m15.1.1.1.cmml" xref="S3.SS3.SSS1.p4.15.m15.1.1">subscript</csymbol><ci id="S3.SS3.SSS1.p4.15.m15.1.1.2.cmml" xref="S3.SS3.SSS1.p4.15.m15.1.1.2">𝑧</ci><ci id="S3.SS3.SSS1.p4.15.m15.1.1.3.cmml" xref="S3.SS3.SSS1.p4.15.m15.1.1.3">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.15.m15.1c">z_{a}</annotation></semantics></math> are from <math id="S3.SS3.SSS1.p4.16.m16.1" class="ltx_Math" alttext="\tilde{D}^{c}" display="inline"><semantics id="S3.SS3.SSS1.p4.16.m16.1a"><msup id="S3.SS3.SSS1.p4.16.m16.1.1" xref="S3.SS3.SSS1.p4.16.m16.1.1.cmml"><mover accent="true" id="S3.SS3.SSS1.p4.16.m16.1.1.2" xref="S3.SS3.SSS1.p4.16.m16.1.1.2.cmml"><mi id="S3.SS3.SSS1.p4.16.m16.1.1.2.2" xref="S3.SS3.SSS1.p4.16.m16.1.1.2.2.cmml">D</mi><mo id="S3.SS3.SSS1.p4.16.m16.1.1.2.1" xref="S3.SS3.SSS1.p4.16.m16.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS3.SSS1.p4.16.m16.1.1.3" xref="S3.SS3.SSS1.p4.16.m16.1.1.3.cmml">c</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.16.m16.1b"><apply id="S3.SS3.SSS1.p4.16.m16.1.1.cmml" xref="S3.SS3.SSS1.p4.16.m16.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS1.p4.16.m16.1.1.1.cmml" xref="S3.SS3.SSS1.p4.16.m16.1.1">superscript</csymbol><apply id="S3.SS3.SSS1.p4.16.m16.1.1.2.cmml" xref="S3.SS3.SSS1.p4.16.m16.1.1.2"><ci id="S3.SS3.SSS1.p4.16.m16.1.1.2.1.cmml" xref="S3.SS3.SSS1.p4.16.m16.1.1.2.1">~</ci><ci id="S3.SS3.SSS1.p4.16.m16.1.1.2.2.cmml" xref="S3.SS3.SSS1.p4.16.m16.1.1.2.2">𝐷</ci></apply><ci id="S3.SS3.SSS1.p4.16.m16.1.1.3.cmml" xref="S3.SS3.SSS1.p4.16.m16.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.16.m16.1c">\tilde{D}^{c}</annotation></semantics></math>. At this point, a critical problem arises: <span id="S3.SS3.SSS1.p4.16.1" class="ltx_text ltx_font_italic">What global virtual data shall we use?</span></p>
</div>
</section>
<section id="S3.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.3.2 </span>Global Data Distillation</h4>

<div id="S3.SS3.SSS2.p1" class="ltx_para">
<p id="S3.SS3.SSS2.p1.1" class="ltx_p">Here, we provide an affirmative solution to the question of generating global virtual data that can be naturally incorporated into FL pipeline. Although distribution-based matching is efficient, local clients may not share their features due to privacy concerns. Therefore, we propose to leverage local clients’ averaged gradients to distill global virtual data and utilize it in Eq. (<a href="#S3.E4" title="In 3.3.1 Local Data Distillation ‣ 3.3 FL with Local-Global Dataset Distillation ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>). We term our global data distillation method as <em id="S3.SS3.SSS2.p1.1.1" class="ltx_emph ltx_font_italic">Federated Gradient Matching</em>.</p>
</div>
<div id="S3.SS3.SSS2.p2" class="ltx_para ltx_noindent">
<p id="S3.SS3.SSS2.p2.1" class="ltx_p"><span id="S3.SS3.SSS2.p2.1.1" class="ltx_text ltx_font_bold">Federated gradient matching.</span> The concept of gradient-based dataset distillation is to minimize the distance between gradients from model parameters trained by original data and distilled data. It is usually considered as a learning-to-learn problem because the procedure consists of model updates and distilled data updates.
Zhao <em id="S3.SS3.SSS2.p2.1.2" class="ltx_emph ltx_font_italic">et al.</em> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite> studies gradient matching in the centralized setting via bi-level optimization that iteratively optimizes the virtual data and model parameters. However, the implementation in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite> is not appropriate for our specific context because there are two fundamental differences in our settings: 1) for model updating, the gradient-distilled dataset is on the server and will not directly optimize the targeted task; 2) for virtual data update, the ‘optimal’ model comes from the optimized local model aggregation. These two steps can naturally be embedded in local model updating and global virtual data distillation from the aggregated local gradients.
First, we utilize the distance loss <math id="S3.SS3.SSS2.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{Dist}" display="inline"><semantics id="S3.SS3.SSS2.p2.1.m1.1a"><msub id="S3.SS3.SSS2.p2.1.m1.1.1" xref="S3.SS3.SSS2.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS2.p2.1.m1.1.1.2" xref="S3.SS3.SSS2.p2.1.m1.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS2.p2.1.m1.1.1.3" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.cmml"><mi id="S3.SS3.SSS2.p2.1.m1.1.1.3.2" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS2.p2.1.m1.1.1.3.1" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS2.p2.1.m1.1.1.3.3" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS2.p2.1.m1.1.1.3.1a" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS2.p2.1.m1.1.1.3.4" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS2.p2.1.m1.1.1.3.1b" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS3.SSS2.p2.1.m1.1.1.3.5" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.5.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.1.m1.1b"><apply id="S3.SS3.SSS2.p2.1.m1.1.1.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.1.m1.1.1.1.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.SSS2.p2.1.m1.1.1.2.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1.2">ℒ</ci><apply id="S3.SS3.SSS2.p2.1.m1.1.1.3.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1.3"><times id="S3.SS3.SSS2.p2.1.m1.1.1.3.1.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.1"></times><ci id="S3.SS3.SSS2.p2.1.m1.1.1.3.2.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.2">𝐷</ci><ci id="S3.SS3.SSS2.p2.1.m1.1.1.3.3.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.3">𝑖</ci><ci id="S3.SS3.SSS2.p2.1.m1.1.1.3.4.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.4">𝑠</ci><ci id="S3.SS3.SSS2.p2.1.m1.1.1.3.5.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.1.m1.1c">\mathcal{L}_{Dist}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite> for gradient matching:</p>
<table id="S3.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E5.m1.4" class="ltx_Math" alttext="\mathcal{L}_{Dist}=Dist(\bigtriangledown_{\theta}\mathcal{L}_{CE}^{\tilde{D}^{g}}(\theta),\bigtriangledown_{\theta}\mathcal{L}_{CE}^{\tilde{D}^{c}}(\theta))" display="block"><semantics id="S3.E5.m1.4a"><mrow id="S3.E5.m1.4.4" xref="S3.E5.m1.4.4.cmml"><msub id="S3.E5.m1.4.4.4" xref="S3.E5.m1.4.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.4.4.4.2" xref="S3.E5.m1.4.4.4.2.cmml">ℒ</mi><mrow id="S3.E5.m1.4.4.4.3" xref="S3.E5.m1.4.4.4.3.cmml"><mi id="S3.E5.m1.4.4.4.3.2" xref="S3.E5.m1.4.4.4.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.4.4.3.1" xref="S3.E5.m1.4.4.4.3.1.cmml">​</mo><mi id="S3.E5.m1.4.4.4.3.3" xref="S3.E5.m1.4.4.4.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.4.4.3.1a" xref="S3.E5.m1.4.4.4.3.1.cmml">​</mo><mi id="S3.E5.m1.4.4.4.3.4" xref="S3.E5.m1.4.4.4.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.4.4.3.1b" xref="S3.E5.m1.4.4.4.3.1.cmml">​</mo><mi id="S3.E5.m1.4.4.4.3.5" xref="S3.E5.m1.4.4.4.3.5.cmml">t</mi></mrow></msub><mo id="S3.E5.m1.4.4.3" xref="S3.E5.m1.4.4.3.cmml">=</mo><mrow id="S3.E5.m1.4.4.2" xref="S3.E5.m1.4.4.2.cmml"><mi id="S3.E5.m1.4.4.2.4" xref="S3.E5.m1.4.4.2.4.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.4.2.3" xref="S3.E5.m1.4.4.2.3.cmml">​</mo><mi id="S3.E5.m1.4.4.2.5" xref="S3.E5.m1.4.4.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.4.2.3a" xref="S3.E5.m1.4.4.2.3.cmml">​</mo><mi id="S3.E5.m1.4.4.2.6" xref="S3.E5.m1.4.4.2.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.4.2.3b" xref="S3.E5.m1.4.4.2.3.cmml">​</mo><mi id="S3.E5.m1.4.4.2.7" xref="S3.E5.m1.4.4.2.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.4.2.3c" xref="S3.E5.m1.4.4.2.3.cmml">​</mo><mrow id="S3.E5.m1.4.4.2.2.2" xref="S3.E5.m1.4.4.2.2.3.cmml"><mo stretchy="false" id="S3.E5.m1.4.4.2.2.2.3" xref="S3.E5.m1.4.4.2.2.3.cmml">(</mo><mrow id="S3.E5.m1.3.3.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.1.cmml"><msub id="S3.E5.m1.3.3.1.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.1.1.cmml"><mo lspace="0em" rspace="0.222em" id="S3.E5.m1.3.3.1.1.1.1.1.2" xref="S3.E5.m1.3.3.1.1.1.1.1.2.cmml">▽</mo><mi id="S3.E5.m1.3.3.1.1.1.1.1.3" xref="S3.E5.m1.3.3.1.1.1.1.1.3.cmml">θ</mi></msub><mrow id="S3.E5.m1.3.3.1.1.1.1.2" xref="S3.E5.m1.3.3.1.1.1.1.2.cmml"><msubsup id="S3.E5.m1.3.3.1.1.1.1.2.2" xref="S3.E5.m1.3.3.1.1.1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.3.3.1.1.1.1.2.2.2.2" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2.2.cmml">ℒ</mi><mrow id="S3.E5.m1.3.3.1.1.1.1.2.2.2.3" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.cmml"><mi id="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.2" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.1" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.1.cmml">​</mo><mi id="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.3" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.3.cmml">E</mi></mrow><msup id="S3.E5.m1.3.3.1.1.1.1.2.2.3" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.cmml"><mover accent="true" id="S3.E5.m1.3.3.1.1.1.1.2.2.3.2" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.cmml"><mi id="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.2" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.2.cmml">D</mi><mo id="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.1" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.1.cmml">~</mo></mover><mi id="S3.E5.m1.3.3.1.1.1.1.2.2.3.3" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.3.cmml">g</mi></msup></msubsup><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.1.1.1.1.2.1" xref="S3.E5.m1.3.3.1.1.1.1.2.1.cmml">​</mo><mrow id="S3.E5.m1.3.3.1.1.1.1.2.3.2" xref="S3.E5.m1.3.3.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E5.m1.3.3.1.1.1.1.2.3.2.1" xref="S3.E5.m1.3.3.1.1.1.1.2.cmml">(</mo><mi id="S3.E5.m1.1.1" xref="S3.E5.m1.1.1.cmml">θ</mi><mo stretchy="false" id="S3.E5.m1.3.3.1.1.1.1.2.3.2.2" xref="S3.E5.m1.3.3.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo rspace="0em" id="S3.E5.m1.4.4.2.2.2.4" xref="S3.E5.m1.4.4.2.2.3.cmml">,</mo><mrow id="S3.E5.m1.4.4.2.2.2.2" xref="S3.E5.m1.4.4.2.2.2.2.cmml"><msub id="S3.E5.m1.4.4.2.2.2.2.1" xref="S3.E5.m1.4.4.2.2.2.2.1.cmml"><mo lspace="0em" rspace="0.222em" id="S3.E5.m1.4.4.2.2.2.2.1.2" xref="S3.E5.m1.4.4.2.2.2.2.1.2.cmml">▽</mo><mi id="S3.E5.m1.4.4.2.2.2.2.1.3" xref="S3.E5.m1.4.4.2.2.2.2.1.3.cmml">θ</mi></msub><mrow id="S3.E5.m1.4.4.2.2.2.2.2" xref="S3.E5.m1.4.4.2.2.2.2.2.cmml"><msubsup id="S3.E5.m1.4.4.2.2.2.2.2.2" xref="S3.E5.m1.4.4.2.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.4.4.2.2.2.2.2.2.2.2" xref="S3.E5.m1.4.4.2.2.2.2.2.2.2.2.cmml">ℒ</mi><mrow id="S3.E5.m1.4.4.2.2.2.2.2.2.2.3" xref="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.cmml"><mi id="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.2" xref="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.1" xref="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.3" xref="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.3.cmml">E</mi></mrow><msup id="S3.E5.m1.4.4.2.2.2.2.2.2.3" xref="S3.E5.m1.4.4.2.2.2.2.2.2.3.cmml"><mover accent="true" id="S3.E5.m1.4.4.2.2.2.2.2.2.3.2" xref="S3.E5.m1.4.4.2.2.2.2.2.2.3.2.cmml"><mi id="S3.E5.m1.4.4.2.2.2.2.2.2.3.2.2" xref="S3.E5.m1.4.4.2.2.2.2.2.2.3.2.2.cmml">D</mi><mo id="S3.E5.m1.4.4.2.2.2.2.2.2.3.2.1" xref="S3.E5.m1.4.4.2.2.2.2.2.2.3.2.1.cmml">~</mo></mover><mi id="S3.E5.m1.4.4.2.2.2.2.2.2.3.3" xref="S3.E5.m1.4.4.2.2.2.2.2.2.3.3.cmml">c</mi></msup></msubsup><mo lspace="0em" rspace="0em" id="S3.E5.m1.4.4.2.2.2.2.2.1" xref="S3.E5.m1.4.4.2.2.2.2.2.1.cmml">​</mo><mrow id="S3.E5.m1.4.4.2.2.2.2.2.3.2" xref="S3.E5.m1.4.4.2.2.2.2.2.cmml"><mo stretchy="false" id="S3.E5.m1.4.4.2.2.2.2.2.3.2.1" xref="S3.E5.m1.4.4.2.2.2.2.2.cmml">(</mo><mi id="S3.E5.m1.2.2" xref="S3.E5.m1.2.2.cmml">θ</mi><mo stretchy="false" id="S3.E5.m1.4.4.2.2.2.2.2.3.2.2" xref="S3.E5.m1.4.4.2.2.2.2.2.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.E5.m1.4.4.2.2.2.5" xref="S3.E5.m1.4.4.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.4b"><apply id="S3.E5.m1.4.4.cmml" xref="S3.E5.m1.4.4"><eq id="S3.E5.m1.4.4.3.cmml" xref="S3.E5.m1.4.4.3"></eq><apply id="S3.E5.m1.4.4.4.cmml" xref="S3.E5.m1.4.4.4"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.1.cmml" xref="S3.E5.m1.4.4.4">subscript</csymbol><ci id="S3.E5.m1.4.4.4.2.cmml" xref="S3.E5.m1.4.4.4.2">ℒ</ci><apply id="S3.E5.m1.4.4.4.3.cmml" xref="S3.E5.m1.4.4.4.3"><times id="S3.E5.m1.4.4.4.3.1.cmml" xref="S3.E5.m1.4.4.4.3.1"></times><ci id="S3.E5.m1.4.4.4.3.2.cmml" xref="S3.E5.m1.4.4.4.3.2">𝐷</ci><ci id="S3.E5.m1.4.4.4.3.3.cmml" xref="S3.E5.m1.4.4.4.3.3">𝑖</ci><ci id="S3.E5.m1.4.4.4.3.4.cmml" xref="S3.E5.m1.4.4.4.3.4">𝑠</ci><ci id="S3.E5.m1.4.4.4.3.5.cmml" xref="S3.E5.m1.4.4.4.3.5">𝑡</ci></apply></apply><apply id="S3.E5.m1.4.4.2.cmml" xref="S3.E5.m1.4.4.2"><times id="S3.E5.m1.4.4.2.3.cmml" xref="S3.E5.m1.4.4.2.3"></times><ci id="S3.E5.m1.4.4.2.4.cmml" xref="S3.E5.m1.4.4.2.4">𝐷</ci><ci id="S3.E5.m1.4.4.2.5.cmml" xref="S3.E5.m1.4.4.2.5">𝑖</ci><ci id="S3.E5.m1.4.4.2.6.cmml" xref="S3.E5.m1.4.4.2.6">𝑠</ci><ci id="S3.E5.m1.4.4.2.7.cmml" xref="S3.E5.m1.4.4.2.7">𝑡</ci><interval closure="open" id="S3.E5.m1.4.4.2.2.3.cmml" xref="S3.E5.m1.4.4.2.2.2"><apply id="S3.E5.m1.3.3.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1"><apply id="S3.E5.m1.3.3.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.2">▽</ci><ci id="S3.E5.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.3">𝜃</ci></apply><apply id="S3.E5.m1.3.3.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2"><times id="S3.E5.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.1"></times><apply id="S3.E5.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.2.2.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2">superscript</csymbol><apply id="S3.E5.m1.3.3.1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.2.2.2.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E5.m1.3.3.1.1.1.1.2.2.2.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2.2">ℒ</ci><apply id="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2.3"><times id="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.1"></times><ci id="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.2">𝐶</ci><ci id="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2.3.3">𝐸</ci></apply></apply><apply id="S3.E5.m1.3.3.1.1.1.1.2.2.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.2.2.3.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3">superscript</csymbol><apply id="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.2"><ci id="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.1">~</ci><ci id="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.2">𝐷</ci></apply><ci id="S3.E5.m1.3.3.1.1.1.1.2.2.3.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.3">𝑔</ci></apply></apply><ci id="S3.E5.m1.1.1.cmml" xref="S3.E5.m1.1.1">𝜃</ci></apply></apply><apply id="S3.E5.m1.4.4.2.2.2.2.cmml" xref="S3.E5.m1.4.4.2.2.2.2"><apply id="S3.E5.m1.4.4.2.2.2.2.1.cmml" xref="S3.E5.m1.4.4.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.2.2.2.2.1.1.cmml" xref="S3.E5.m1.4.4.2.2.2.2.1">subscript</csymbol><ci id="S3.E5.m1.4.4.2.2.2.2.1.2.cmml" xref="S3.E5.m1.4.4.2.2.2.2.1.2">▽</ci><ci id="S3.E5.m1.4.4.2.2.2.2.1.3.cmml" xref="S3.E5.m1.4.4.2.2.2.2.1.3">𝜃</ci></apply><apply id="S3.E5.m1.4.4.2.2.2.2.2.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2"><times id="S3.E5.m1.4.4.2.2.2.2.2.1.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.1"></times><apply id="S3.E5.m1.4.4.2.2.2.2.2.2.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.2.2.2.2.2.2.1.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2">superscript</csymbol><apply id="S3.E5.m1.4.4.2.2.2.2.2.2.2.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.2.2.2.2.2.2.2.1.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E5.m1.4.4.2.2.2.2.2.2.2.2.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2.2.2">ℒ</ci><apply id="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2.2.3"><times id="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.1.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.1"></times><ci id="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.2.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.2">𝐶</ci><ci id="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.3.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2.2.3.3">𝐸</ci></apply></apply><apply id="S3.E5.m1.4.4.2.2.2.2.2.2.3.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.2.2.2.2.2.2.3.1.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2.3">superscript</csymbol><apply id="S3.E5.m1.4.4.2.2.2.2.2.2.3.2.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2.3.2"><ci id="S3.E5.m1.4.4.2.2.2.2.2.2.3.2.1.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2.3.2.1">~</ci><ci id="S3.E5.m1.4.4.2.2.2.2.2.2.3.2.2.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2.3.2.2">𝐷</ci></apply><ci id="S3.E5.m1.4.4.2.2.2.2.2.2.3.3.cmml" xref="S3.E5.m1.4.4.2.2.2.2.2.2.3.3">𝑐</ci></apply></apply><ci id="S3.E5.m1.2.2.cmml" xref="S3.E5.m1.2.2">𝜃</ci></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.4c">\mathcal{L}_{Dist}=Dist(\bigtriangledown_{\theta}\mathcal{L}_{CE}^{\tilde{D}^{g}}(\theta),\bigtriangledown_{\theta}\mathcal{L}_{CE}^{\tilde{D}^{c}}(\theta))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.SSS2.p2.4" class="ltx_p">where <math id="S3.SS3.SSS2.p2.2.m1.1" class="ltx_Math" alttext="\tilde{D}^{c}" display="inline"><semantics id="S3.SS3.SSS2.p2.2.m1.1a"><msup id="S3.SS3.SSS2.p2.2.m1.1.1" xref="S3.SS3.SSS2.p2.2.m1.1.1.cmml"><mover accent="true" id="S3.SS3.SSS2.p2.2.m1.1.1.2" xref="S3.SS3.SSS2.p2.2.m1.1.1.2.cmml"><mi id="S3.SS3.SSS2.p2.2.m1.1.1.2.2" xref="S3.SS3.SSS2.p2.2.m1.1.1.2.2.cmml">D</mi><mo id="S3.SS3.SSS2.p2.2.m1.1.1.2.1" xref="S3.SS3.SSS2.p2.2.m1.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS3.SSS2.p2.2.m1.1.1.3" xref="S3.SS3.SSS2.p2.2.m1.1.1.3.cmml">c</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.2.m1.1b"><apply id="S3.SS3.SSS2.p2.2.m1.1.1.cmml" xref="S3.SS3.SSS2.p2.2.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.2.m1.1.1.1.cmml" xref="S3.SS3.SSS2.p2.2.m1.1.1">superscript</csymbol><apply id="S3.SS3.SSS2.p2.2.m1.1.1.2.cmml" xref="S3.SS3.SSS2.p2.2.m1.1.1.2"><ci id="S3.SS3.SSS2.p2.2.m1.1.1.2.1.cmml" xref="S3.SS3.SSS2.p2.2.m1.1.1.2.1">~</ci><ci id="S3.SS3.SSS2.p2.2.m1.1.1.2.2.cmml" xref="S3.SS3.SSS2.p2.2.m1.1.1.2.2">𝐷</ci></apply><ci id="S3.SS3.SSS2.p2.2.m1.1.1.3.cmml" xref="S3.SS3.SSS2.p2.2.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.2.m1.1c">\tilde{D}^{c}</annotation></semantics></math> and <math id="S3.SS3.SSS2.p2.3.m2.1" class="ltx_Math" alttext="\tilde{D}^{g}" display="inline"><semantics id="S3.SS3.SSS2.p2.3.m2.1a"><msup id="S3.SS3.SSS2.p2.3.m2.1.1" xref="S3.SS3.SSS2.p2.3.m2.1.1.cmml"><mover accent="true" id="S3.SS3.SSS2.p2.3.m2.1.1.2" xref="S3.SS3.SSS2.p2.3.m2.1.1.2.cmml"><mi id="S3.SS3.SSS2.p2.3.m2.1.1.2.2" xref="S3.SS3.SSS2.p2.3.m2.1.1.2.2.cmml">D</mi><mo id="S3.SS3.SSS2.p2.3.m2.1.1.2.1" xref="S3.SS3.SSS2.p2.3.m2.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS3.SSS2.p2.3.m2.1.1.3" xref="S3.SS3.SSS2.p2.3.m2.1.1.3.cmml">g</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.3.m2.1b"><apply id="S3.SS3.SSS2.p2.3.m2.1.1.cmml" xref="S3.SS3.SSS2.p2.3.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.3.m2.1.1.1.cmml" xref="S3.SS3.SSS2.p2.3.m2.1.1">superscript</csymbol><apply id="S3.SS3.SSS2.p2.3.m2.1.1.2.cmml" xref="S3.SS3.SSS2.p2.3.m2.1.1.2"><ci id="S3.SS3.SSS2.p2.3.m2.1.1.2.1.cmml" xref="S3.SS3.SSS2.p2.3.m2.1.1.2.1">~</ci><ci id="S3.SS3.SSS2.p2.3.m2.1.1.2.2.cmml" xref="S3.SS3.SSS2.p2.3.m2.1.1.2.2">𝐷</ci></apply><ci id="S3.SS3.SSS2.p2.3.m2.1.1.3.cmml" xref="S3.SS3.SSS2.p2.3.m2.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.3.m2.1c">\tilde{D}^{g}</annotation></semantics></math> denote local and global virtual data, <math id="S3.SS3.SSS2.p2.4.m3.1" class="ltx_Math" alttext="\bigtriangledown_{\theta}\mathcal{L}_{CE}^{\tilde{D}^{c}}" display="inline"><semantics id="S3.SS3.SSS2.p2.4.m3.1a"><mrow id="S3.SS3.SSS2.p2.4.m3.1.1" xref="S3.SS3.SSS2.p2.4.m3.1.1.cmml"><msub id="S3.SS3.SSS2.p2.4.m3.1.1.1" xref="S3.SS3.SSS2.p2.4.m3.1.1.1.cmml"><mo id="S3.SS3.SSS2.p2.4.m3.1.1.1.2" xref="S3.SS3.SSS2.p2.4.m3.1.1.1.2.cmml">▽</mo><mi id="S3.SS3.SSS2.p2.4.m3.1.1.1.3" xref="S3.SS3.SSS2.p2.4.m3.1.1.1.3.cmml">θ</mi></msub><msubsup id="S3.SS3.SSS2.p2.4.m3.1.1.2" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.2" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.2.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.cmml"><mi id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.2" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.1" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.1.cmml">​</mo><mi id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.3" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.3.cmml">E</mi></mrow><msup id="S3.SS3.SSS2.p2.4.m3.1.1.2.3" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.3.cmml"><mover accent="true" id="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2.cmml"><mi id="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2.2" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2.2.cmml">D</mi><mo id="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2.1" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2.1.cmml">~</mo></mover><mi id="S3.SS3.SSS2.p2.4.m3.1.1.2.3.3" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.3.3.cmml">c</mi></msup></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.4.m3.1b"><apply id="S3.SS3.SSS2.p2.4.m3.1.1.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1"><apply id="S3.SS3.SSS2.p2.4.m3.1.1.1.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.4.m3.1.1.1.1.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.1">subscript</csymbol><ci id="S3.SS3.SSS2.p2.4.m3.1.1.1.2.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.1.2">▽</ci><ci id="S3.SS3.SSS2.p2.4.m3.1.1.1.3.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.1.3">𝜃</ci></apply><apply id="S3.SS3.SSS2.p2.4.m3.1.1.2.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.4.m3.1.1.2.1.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2">superscript</csymbol><apply id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.1.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2">subscript</csymbol><ci id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.2.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.2.2">ℒ</ci><apply id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3"><times id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.1.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.1"></times><ci id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.2.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.2">𝐶</ci><ci id="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.3.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.2.3.3">𝐸</ci></apply></apply><apply id="S3.SS3.SSS2.p2.4.m3.1.1.2.3.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.4.m3.1.1.2.3.1.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.3">superscript</csymbol><apply id="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2"><ci id="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2.1.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2.1">~</ci><ci id="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2.2.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.3.2.2">𝐷</ci></apply><ci id="S3.SS3.SSS2.p2.4.m3.1.1.2.3.3.cmml" xref="S3.SS3.SSS2.p2.4.m3.1.1.2.3.3">𝑐</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.4.m3.1c">\bigtriangledown_{\theta}\mathcal{L}_{CE}^{\tilde{D}^{c}}</annotation></semantics></math> is the average client gradient.
Then, our proposed federated gradient matching optimize as follows:</p>
<table id="A5.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex1.m1.4" class="ltx_Math" alttext="\displaystyle\min_{D^{g}}\mathcal{L}_{Dist}(\theta)\quad\text{subject to}\quad\theta=\frac{1}{N}\theta^{{c_{i}}^{*}}," display="inline"><semantics id="S3.Ex1.m1.4a"><mrow id="S3.Ex1.m1.4.4.1" xref="S3.Ex1.m1.4.4.1.1.cmml"><mrow id="S3.Ex1.m1.4.4.1.1" xref="S3.Ex1.m1.4.4.1.1.cmml"><mrow id="S3.Ex1.m1.4.4.1.1.1.1" xref="S3.Ex1.m1.4.4.1.1.1.2.cmml"><mrow id="S3.Ex1.m1.4.4.1.1.1.1.1" xref="S3.Ex1.m1.4.4.1.1.1.1.1.cmml"><mrow id="S3.Ex1.m1.4.4.1.1.1.1.1.2" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.cmml"><munder id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.cmml"><mi id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.2" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.2.cmml">min</mi><msup id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3.cmml"><mi id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3.2" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3.2.cmml">D</mi><mi id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3.3" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3.3.cmml">g</mi></msup></munder><mo lspace="0.167em" id="S3.Ex1.m1.4.4.1.1.1.1.1.2a" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.cmml">⁡</mo><msub id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.2" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.2.cmml">ℒ</mi><mrow id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.cmml"><mi id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.2" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.1" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.1.cmml">​</mo><mi id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.3" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.1a" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.1.cmml">​</mo><mi id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.4" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.1b" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.1.cmml">​</mo><mi id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.5" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.5.cmml">t</mi></mrow></msub></mrow><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.4.4.1.1.1.1.1.1" xref="S3.Ex1.m1.4.4.1.1.1.1.1.1.cmml">​</mo><mrow id="S3.Ex1.m1.4.4.1.1.1.1.1.3.2" xref="S3.Ex1.m1.4.4.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex1.m1.4.4.1.1.1.1.1.3.2.1" xref="S3.Ex1.m1.4.4.1.1.1.1.1.cmml">(</mo><mi id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml">θ</mi><mo stretchy="false" id="S3.Ex1.m1.4.4.1.1.1.1.1.3.2.2" xref="S3.Ex1.m1.4.4.1.1.1.1.1.cmml">)</mo></mrow></mrow><mspace width="1em" id="S3.Ex1.m1.4.4.1.1.1.1.2" xref="S3.Ex1.m1.4.4.1.1.1.2.cmml"></mspace><mtext id="S3.Ex1.m1.2.2" xref="S3.Ex1.m1.2.2a.cmml">subject to</mtext><mspace width="1em" id="S3.Ex1.m1.4.4.1.1.1.1.3" xref="S3.Ex1.m1.4.4.1.1.1.2.cmml"></mspace><mi id="S3.Ex1.m1.3.3" xref="S3.Ex1.m1.3.3.cmml">θ</mi></mrow><mo id="S3.Ex1.m1.4.4.1.1.2" xref="S3.Ex1.m1.4.4.1.1.2.cmml">=</mo><mrow id="S3.Ex1.m1.4.4.1.1.3" xref="S3.Ex1.m1.4.4.1.1.3.cmml"><mstyle displaystyle="true" id="S3.Ex1.m1.4.4.1.1.3.2" xref="S3.Ex1.m1.4.4.1.1.3.2.cmml"><mfrac id="S3.Ex1.m1.4.4.1.1.3.2a" xref="S3.Ex1.m1.4.4.1.1.3.2.cmml"><mn id="S3.Ex1.m1.4.4.1.1.3.2.2" xref="S3.Ex1.m1.4.4.1.1.3.2.2.cmml">1</mn><mi id="S3.Ex1.m1.4.4.1.1.3.2.3" xref="S3.Ex1.m1.4.4.1.1.3.2.3.cmml">N</mi></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.4.4.1.1.3.1" xref="S3.Ex1.m1.4.4.1.1.3.1.cmml">​</mo><msup id="S3.Ex1.m1.4.4.1.1.3.3" xref="S3.Ex1.m1.4.4.1.1.3.3.cmml"><mi id="S3.Ex1.m1.4.4.1.1.3.3.2" xref="S3.Ex1.m1.4.4.1.1.3.3.2.cmml">θ</mi><mmultiscripts id="S3.Ex1.m1.4.4.1.1.3.3.3" xref="S3.Ex1.m1.4.4.1.1.3.3.3.cmml"><mi id="S3.Ex1.m1.4.4.1.1.3.3.3.2.2" xref="S3.Ex1.m1.4.4.1.1.3.3.3.2.2.cmml">c</mi><mi id="S3.Ex1.m1.4.4.1.1.3.3.3.2.3" xref="S3.Ex1.m1.4.4.1.1.3.3.3.2.3.cmml">i</mi><mrow id="S3.Ex1.m1.4.4.1.1.3.3.3a" xref="S3.Ex1.m1.4.4.1.1.3.3.3.cmml"></mrow><mrow id="S3.Ex1.m1.4.4.1.1.3.3.3b" xref="S3.Ex1.m1.4.4.1.1.3.3.3.cmml"></mrow><mo id="S3.Ex1.m1.4.4.1.1.3.3.3.3" xref="S3.Ex1.m1.4.4.1.1.3.3.3.3.cmml">∗</mo></mmultiscripts></msup></mrow></mrow><mo id="S3.Ex1.m1.4.4.1.2" xref="S3.Ex1.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.4b"><apply id="S3.Ex1.m1.4.4.1.1.cmml" xref="S3.Ex1.m1.4.4.1"><eq id="S3.Ex1.m1.4.4.1.1.2.cmml" xref="S3.Ex1.m1.4.4.1.1.2"></eq><list id="S3.Ex1.m1.4.4.1.1.1.2.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1"><apply id="S3.Ex1.m1.4.4.1.1.1.1.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1"><times id="S3.Ex1.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.1"></times><apply id="S3.Ex1.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2"><apply id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1">subscript</csymbol><min id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.2.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.2"></min><apply id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3">superscript</csymbol><ci id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3.2.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3.2">𝐷</ci><ci id="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3.3.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.1.3.3">𝑔</ci></apply></apply><apply id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.2">ℒ</ci><apply id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3"><times id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.1"></times><ci id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.2.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.2">𝐷</ci><ci id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.3.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.3">𝑖</ci><ci id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.4.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.4">𝑠</ci><ci id="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.5.cmml" xref="S3.Ex1.m1.4.4.1.1.1.1.1.2.2.3.5">𝑡</ci></apply></apply></apply><ci id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1">𝜃</ci></apply><ci id="S3.Ex1.m1.2.2a.cmml" xref="S3.Ex1.m1.2.2"><mtext id="S3.Ex1.m1.2.2.cmml" xref="S3.Ex1.m1.2.2">subject to</mtext></ci><ci id="S3.Ex1.m1.3.3.cmml" xref="S3.Ex1.m1.3.3">𝜃</ci></list><apply id="S3.Ex1.m1.4.4.1.1.3.cmml" xref="S3.Ex1.m1.4.4.1.1.3"><times id="S3.Ex1.m1.4.4.1.1.3.1.cmml" xref="S3.Ex1.m1.4.4.1.1.3.1"></times><apply id="S3.Ex1.m1.4.4.1.1.3.2.cmml" xref="S3.Ex1.m1.4.4.1.1.3.2"><divide id="S3.Ex1.m1.4.4.1.1.3.2.1.cmml" xref="S3.Ex1.m1.4.4.1.1.3.2"></divide><cn type="integer" id="S3.Ex1.m1.4.4.1.1.3.2.2.cmml" xref="S3.Ex1.m1.4.4.1.1.3.2.2">1</cn><ci id="S3.Ex1.m1.4.4.1.1.3.2.3.cmml" xref="S3.Ex1.m1.4.4.1.1.3.2.3">𝑁</ci></apply><apply id="S3.Ex1.m1.4.4.1.1.3.3.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.3.3.1.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3">superscript</csymbol><ci id="S3.Ex1.m1.4.4.1.1.3.3.2.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.2">𝜃</ci><apply id="S3.Ex1.m1.4.4.1.1.3.3.3.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.3.3.3.1.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.3">superscript</csymbol><apply id="S3.Ex1.m1.4.4.1.1.3.3.3.2.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.1.1.3.3.3.2.1.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.3">subscript</csymbol><ci id="S3.Ex1.m1.4.4.1.1.3.3.3.2.2.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.3.2.2">𝑐</ci><ci id="S3.Ex1.m1.4.4.1.1.3.3.3.2.3.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.3.2.3">𝑖</ci></apply><times id="S3.Ex1.m1.4.4.1.1.3.3.3.3.cmml" xref="S3.Ex1.m1.4.4.1.1.3.3.3.3"></times></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.4c">\displaystyle\min_{D^{g}}\mathcal{L}_{Dist}(\theta)\quad\text{subject to}\quad\theta=\frac{1}{N}\theta^{{c_{i}}^{*}},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS3.SSS2.p2.7" class="ltx_p">where <math id="S3.SS3.SSS2.p2.5.m1.1" class="ltx_Math" alttext="\theta^{{c_{i}}^{*}}=\operatorname*{arg\,min}_{\theta}\mathcal{L}_{i}(\tilde{D}^{c})" display="inline"><semantics id="S3.SS3.SSS2.p2.5.m1.1a"><mrow id="S3.SS3.SSS2.p2.5.m1.1.1" xref="S3.SS3.SSS2.p2.5.m1.1.1.cmml"><msup id="S3.SS3.SSS2.p2.5.m1.1.1.3" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.cmml"><mi id="S3.SS3.SSS2.p2.5.m1.1.1.3.2" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.2.cmml">θ</mi><mmultiscripts id="S3.SS3.SSS2.p2.5.m1.1.1.3.3" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3.cmml"><mi id="S3.SS3.SSS2.p2.5.m1.1.1.3.3.2.2" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3.2.2.cmml">c</mi><mi id="S3.SS3.SSS2.p2.5.m1.1.1.3.3.2.3" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3.2.3.cmml">i</mi><mrow id="S3.SS3.SSS2.p2.5.m1.1.1.3.3a" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3.cmml"></mrow><mrow id="S3.SS3.SSS2.p2.5.m1.1.1.3.3b" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3.cmml"></mrow><mo id="S3.SS3.SSS2.p2.5.m1.1.1.3.3.3" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3.3.cmml">∗</mo></mmultiscripts></msup><mo id="S3.SS3.SSS2.p2.5.m1.1.1.2" xref="S3.SS3.SSS2.p2.5.m1.1.1.2.cmml">=</mo><mrow id="S3.SS3.SSS2.p2.5.m1.1.1.1" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.cmml"><mrow id="S3.SS3.SSS2.p2.5.m1.1.1.1.3" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.cmml"><msub id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.cmml"><mrow id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.cmml"><mi id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.2" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.2.cmml">arg</mi><mo lspace="0.170em" rspace="0em" id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.1" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.1.cmml">​</mo><mi id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.3" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.3.cmml">min</mi></mrow><mi id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.3" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.3.cmml">θ</mi></msub><mo id="S3.SS3.SSS2.p2.5.m1.1.1.1.3a" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.cmml">⁡</mo><msub id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2.2" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2.2.cmml">ℒ</mi><mi id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2.3" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2.3.cmml">i</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.SSS2.p2.5.m1.1.1.1.2" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.2.cmml">​</mo><mrow id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.2" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.cmml">(</mo><msup id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2.cmml"><mi id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2.2" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2.2.cmml">D</mi><mo id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2.1" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.3" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.3.cmml">c</mi></msup><mo stretchy="false" id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.3" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.5.m1.1b"><apply id="S3.SS3.SSS2.p2.5.m1.1.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1"><eq id="S3.SS3.SSS2.p2.5.m1.1.1.2.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.2"></eq><apply id="S3.SS3.SSS2.p2.5.m1.1.1.3.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.5.m1.1.1.3.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.3">superscript</csymbol><ci id="S3.SS3.SSS2.p2.5.m1.1.1.3.2.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.2">𝜃</ci><apply id="S3.SS3.SSS2.p2.5.m1.1.1.3.3.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.5.m1.1.1.3.3.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3">superscript</csymbol><apply id="S3.SS3.SSS2.p2.5.m1.1.1.3.3.2.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.5.m1.1.1.3.3.2.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3">subscript</csymbol><ci id="S3.SS3.SSS2.p2.5.m1.1.1.3.3.2.2.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3.2.2">𝑐</ci><ci id="S3.SS3.SSS2.p2.5.m1.1.1.3.3.2.3.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3.2.3">𝑖</ci></apply><times id="S3.SS3.SSS2.p2.5.m1.1.1.3.3.3.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.3.3.3"></times></apply></apply><apply id="S3.SS3.SSS2.p2.5.m1.1.1.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1"><times id="S3.SS3.SSS2.p2.5.m1.1.1.1.2.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.2"></times><apply id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3"><apply id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1">subscript</csymbol><apply id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2"><times id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.1"></times><ci id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.2.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.2">arg</ci><ci id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.3.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.2.3">min</ci></apply><ci id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.3.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.1.3">𝜃</ci></apply><apply id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2">subscript</csymbol><ci id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2.2.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2.2">ℒ</ci><ci id="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2.3.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.3.2.3">𝑖</ci></apply></apply><apply id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2"><ci id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2.1">~</ci><ci id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.2.2">𝐷</ci></apply><ci id="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS3.SSS2.p2.5.m1.1.1.1.1.1.1.3">𝑐</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.5.m1.1c">\theta^{{c_{i}}^{*}}=\operatorname*{arg\,min}_{\theta}\mathcal{L}_{i}(\tilde{D}^{c})</annotation></semantics></math> is the optimal local model weights of client <math id="S3.SS3.SSS2.p2.6.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS3.SSS2.p2.6.m2.1a"><mi id="S3.SS3.SSS2.p2.6.m2.1.1" xref="S3.SS3.SSS2.p2.6.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.6.m2.1b"><ci id="S3.SS3.SSS2.p2.6.m2.1.1.cmml" xref="S3.SS3.SSS2.p2.6.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.6.m2.1c">i</annotation></semantics></math> at a certain round <math id="S3.SS3.SSS2.p2.7.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS3.SSS2.p2.7.m3.1a"><mi id="S3.SS3.SSS2.p2.7.m3.1.1" xref="S3.SS3.SSS2.p2.7.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.7.m3.1b"><ci id="S3.SS3.SSS2.p2.7.m3.1.1.cmml" xref="S3.SS3.SSS2.p2.7.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.7.m3.1c">t</annotation></semantics></math>.</p>
</div>
<div id="S3.SS3.SSS2.p3" class="ltx_para">
<p id="S3.SS3.SSS2.p3.1" class="ltx_p">Noting that compared with FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>, there is no additional client information shared for global distillation. We also note the approach seems similar to the gradient inversion attack <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite> but we consider averaged gradients w.r.t. local virtual data, and the method potentially defenses inference attack better (Appendix <a href="#A4.SS6" title="D.6 Membership Inference Attack ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D.6</span></a>), which is also implied by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>. Privacy preservation can be further improved by employing differential privacy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, but this is not the main focus of our work.</p>
</div>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiment</h2>

<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span><span id="S4.T1.2.1" class="ltx_text" style="font-size:90%;">Test accuracy for <span id="S4.T1.2.1.1" class="ltx_text ltx_font_typewriter">DIGITS</span> under different images per class (IPC) and model architectures. R and C stand for ResNet18 and ConvNet, respectively, and we set IPC to 10 and 50. There are five clients (MNIST, SVHN, USPS, SynthDigits, and MNIST-M) containing data from different domains. ‘Average’ is the unweighted test accuracy average of all the clients. The best performance under different models is highlighted using <span id="S4.T1.2.1.2" class="ltx_text ltx_font_bold">bold</span>. The best results on ConvNet are marked in <span id="S4.T1.2.1.3" class="ltx_text" style="color:#FF0000;">red</span> and in <span id="S4.T1.2.1.4" class="ltx_text" style="color:#000000;">black</span> for ResNet18.</span></figcaption>
<div id="S4.T1.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:411.9pt;height:251.7pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-30.5pt,18.6pt) scale(0.870902896078474,0.870902896078474) ;">
<table id="S4.T1.3.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.3.1.1.1" class="ltx_tr">
<th id="S4.T1.3.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2"><span id="S4.T1.3.1.1.1.1.1" class="ltx_text ltx_font_typewriter">DIGITS</span></th>
<th id="S4.T1.3.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">MNIST</th>
<th id="S4.T1.3.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">SVHN</th>
<th id="S4.T1.3.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">USPS</th>
<th id="S4.T1.3.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">SynthDigits</th>
<th id="S4.T1.3.1.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">MNIST-M</th>
<th id="S4.T1.3.1.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2">Average</th>
</tr>
<tr id="S4.T1.3.1.2.2" class="ltx_tr">
<th id="S4.T1.3.1.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="2">IPC</th>
<th id="S4.T1.3.1.2.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T1.3.1.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">50</th>
<th id="S4.T1.3.1.2.2.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T1.3.1.2.2.5" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">50</th>
<th id="S4.T1.3.1.2.2.6" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T1.3.1.2.2.7" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">50</th>
<th id="S4.T1.3.1.2.2.8" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T1.3.1.2.2.9" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">50</th>
<th id="S4.T1.3.1.2.2.10" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T1.3.1.2.2.11" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">50</th>
<th id="S4.T1.3.1.2.2.12" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T1.3.1.2.2.13" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t">50</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.3.1.3.1" class="ltx_tr">
<td id="S4.T1.3.1.3.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T1.3.1.3.1.1.1" class="ltx_text">FedAvg</span></td>
<td id="S4.T1.3.1.3.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">R</td>
<td id="S4.T1.3.1.3.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">73.0</td>
<td id="S4.T1.3.1.3.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">92.5</td>
<td id="S4.T1.3.1.3.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">20.5</td>
<td id="S4.T1.3.1.3.1.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">48.9</td>
<td id="S4.T1.3.1.3.1.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">83.0</td>
<td id="S4.T1.3.1.3.1.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">89.7</td>
<td id="S4.T1.3.1.3.1.9" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">13.6</td>
<td id="S4.T1.3.1.3.1.10" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">28.0</td>
<td id="S4.T1.3.1.3.1.11" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">37.8</td>
<td id="S4.T1.3.1.3.1.12" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">72.3</td>
<td id="S4.T1.3.1.3.1.13" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">45.6</td>
<td id="S4.T1.3.1.3.1.14" class="ltx_td ltx_align_left ltx_border_t">66.3</td>
</tr>
<tr id="S4.T1.3.1.4.2" class="ltx_tr">
<td id="S4.T1.3.1.4.2.1" class="ltx_td ltx_align_left ltx_border_r">C</td>
<td id="S4.T1.3.1.4.2.2" class="ltx_td ltx_align_left ltx_border_r">94.0</td>
<td id="S4.T1.3.1.4.2.3" class="ltx_td ltx_align_left ltx_border_r">96.1</td>
<td id="S4.T1.3.1.4.2.4" class="ltx_td ltx_align_left ltx_border_r">65.9</td>
<td id="S4.T1.3.1.4.2.5" class="ltx_td ltx_align_left ltx_border_r">71.7</td>
<td id="S4.T1.3.1.4.2.6" class="ltx_td ltx_align_left ltx_border_r">91.0</td>
<td id="S4.T1.3.1.4.2.7" class="ltx_td ltx_align_left ltx_border_r">92.9</td>
<td id="S4.T1.3.1.4.2.8" class="ltx_td ltx_align_left ltx_border_r">55.5</td>
<td id="S4.T1.3.1.4.2.9" class="ltx_td ltx_align_left ltx_border_r">69.1</td>
<td id="S4.T1.3.1.4.2.10" class="ltx_td ltx_align_left ltx_border_r">73.2</td>
<td id="S4.T1.3.1.4.2.11" class="ltx_td ltx_align_left ltx_border_r">83.3</td>
<td id="S4.T1.3.1.4.2.12" class="ltx_td ltx_align_left ltx_border_r">75.9</td>
<td id="S4.T1.3.1.4.2.13" class="ltx_td ltx_align_left">82.6</td>
</tr>
<tr id="S4.T1.3.1.5.3" class="ltx_tr">
<td id="S4.T1.3.1.5.3.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T1.3.1.5.3.1.1" class="ltx_text">FedProx</span></td>
<td id="S4.T1.3.1.5.3.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">R</td>
<td id="S4.T1.3.1.5.3.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">72.6</td>
<td id="S4.T1.3.1.5.3.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">92.5</td>
<td id="S4.T1.3.1.5.3.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">19.7</td>
<td id="S4.T1.3.1.5.3.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">48.4</td>
<td id="S4.T1.3.1.5.3.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">81.5</td>
<td id="S4.T1.3.1.5.3.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">90.1</td>
<td id="S4.T1.3.1.5.3.9" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">13.2</td>
<td id="S4.T1.3.1.5.3.10" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">27.9</td>
<td id="S4.T1.3.1.5.3.11" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">37.3</td>
<td id="S4.T1.3.1.5.3.12" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">67.9</td>
<td id="S4.T1.3.1.5.3.13" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">44.8</td>
<td id="S4.T1.3.1.5.3.14" class="ltx_td ltx_align_left ltx_border_t">65.3</td>
</tr>
<tr id="S4.T1.3.1.6.4" class="ltx_tr">
<td id="S4.T1.3.1.6.4.1" class="ltx_td ltx_align_left ltx_border_r">C</td>
<td id="S4.T1.3.1.6.4.2" class="ltx_td ltx_align_left ltx_border_r">93.9</td>
<td id="S4.T1.3.1.6.4.3" class="ltx_td ltx_align_left ltx_border_r">96.1</td>
<td id="S4.T1.3.1.6.4.4" class="ltx_td ltx_align_left ltx_border_r">66.0</td>
<td id="S4.T1.3.1.6.4.5" class="ltx_td ltx_align_left ltx_border_r">71.5</td>
<td id="S4.T1.3.1.6.4.6" class="ltx_td ltx_align_left ltx_border_r">90.9</td>
<td id="S4.T1.3.1.6.4.7" class="ltx_td ltx_align_left ltx_border_r">92.9</td>
<td id="S4.T1.3.1.6.4.8" class="ltx_td ltx_align_left ltx_border_r">55.4</td>
<td id="S4.T1.3.1.6.4.9" class="ltx_td ltx_align_left ltx_border_r">69.0</td>
<td id="S4.T1.3.1.6.4.10" class="ltx_td ltx_align_left ltx_border_r">73.7</td>
<td id="S4.T1.3.1.6.4.11" class="ltx_td ltx_align_left ltx_border_r">83.3</td>
<td id="S4.T1.3.1.6.4.12" class="ltx_td ltx_align_left ltx_border_r">76.0</td>
<td id="S4.T1.3.1.6.4.13" class="ltx_td ltx_align_left">82.5</td>
</tr>
<tr id="S4.T1.3.1.7.5" class="ltx_tr">
<td id="S4.T1.3.1.7.5.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T1.3.1.7.5.1.1" class="ltx_text">FedNova</span></td>
<td id="S4.T1.3.1.7.5.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">R</td>
<td id="S4.T1.3.1.7.5.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">75.5</td>
<td id="S4.T1.3.1.7.5.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">92.3</td>
<td id="S4.T1.3.1.7.5.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">17.3</td>
<td id="S4.T1.3.1.7.5.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">50.6</td>
<td id="S4.T1.3.1.7.5.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">80.3</td>
<td id="S4.T1.3.1.7.5.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">90.1</td>
<td id="S4.T1.3.1.7.5.9" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">11.4</td>
<td id="S4.T1.3.1.7.5.10" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">30.5</td>
<td id="S4.T1.3.1.7.5.11" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">38.3</td>
<td id="S4.T1.3.1.7.5.12" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">67.9</td>
<td id="S4.T1.3.1.7.5.13" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">44.6</td>
<td id="S4.T1.3.1.7.5.14" class="ltx_td ltx_align_left ltx_border_t">66.3</td>
</tr>
<tr id="S4.T1.3.1.8.6" class="ltx_tr">
<td id="S4.T1.3.1.8.6.1" class="ltx_td ltx_align_left ltx_border_r">C</td>
<td id="S4.T1.3.1.8.6.2" class="ltx_td ltx_align_left ltx_border_r">94.2</td>
<td id="S4.T1.3.1.8.6.3" class="ltx_td ltx_align_left ltx_border_r">96.2</td>
<td id="S4.T1.3.1.8.6.4" class="ltx_td ltx_align_left ltx_border_r">65.5</td>
<td id="S4.T1.3.1.8.6.5" class="ltx_td ltx_align_left ltx_border_r">73.1</td>
<td id="S4.T1.3.1.8.6.6" class="ltx_td ltx_align_left ltx_border_r">90.6</td>
<td id="S4.T1.3.1.8.6.7" class="ltx_td ltx_align_left ltx_border_r">93.0</td>
<td id="S4.T1.3.1.8.6.8" class="ltx_td ltx_align_left ltx_border_r">56.2</td>
<td id="S4.T1.3.1.8.6.9" class="ltx_td ltx_align_left ltx_border_r">69.1</td>
<td id="S4.T1.3.1.8.6.10" class="ltx_td ltx_align_left ltx_border_r">74.6</td>
<td id="S4.T1.3.1.8.6.11" class="ltx_td ltx_align_left ltx_border_r">83.7</td>
<td id="S4.T1.3.1.8.6.12" class="ltx_td ltx_align_left ltx_border_r">76.2</td>
<td id="S4.T1.3.1.8.6.13" class="ltx_td ltx_align_left">83.0</td>
</tr>
<tr id="S4.T1.3.1.9.7" class="ltx_tr">
<td id="S4.T1.3.1.9.7.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T1.3.1.9.7.1.1" class="ltx_text">Scaffold</span></td>
<td id="S4.T1.3.1.9.7.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">R</td>
<td id="S4.T1.3.1.9.7.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">75.8</td>
<td id="S4.T1.3.1.9.7.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">93.4</td>
<td id="S4.T1.3.1.9.7.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">16.4</td>
<td id="S4.T1.3.1.9.7.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">53.8</td>
<td id="S4.T1.3.1.9.7.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">79.3</td>
<td id="S4.T1.3.1.9.7.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">91.3</td>
<td id="S4.T1.3.1.9.7.9" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">11.2</td>
<td id="S4.T1.3.1.9.7.10" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">34.2</td>
<td id="S4.T1.3.1.9.7.11" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">38.3</td>
<td id="S4.T1.3.1.9.7.12" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">70.8</td>
<td id="S4.T1.3.1.9.7.13" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">44.2</td>
<td id="S4.T1.3.1.9.7.14" class="ltx_td ltx_align_left ltx_border_t">68.7</td>
</tr>
<tr id="S4.T1.3.1.10.8" class="ltx_tr">
<td id="S4.T1.3.1.10.8.1" class="ltx_td ltx_align_left ltx_border_r">C</td>
<td id="S4.T1.3.1.10.8.2" class="ltx_td ltx_align_left ltx_border_r">94.1</td>
<td id="S4.T1.3.1.10.8.3" class="ltx_td ltx_align_left ltx_border_r">96.3</td>
<td id="S4.T1.3.1.10.8.4" class="ltx_td ltx_align_left ltx_border_r">64.9</td>
<td id="S4.T1.3.1.10.8.5" class="ltx_td ltx_align_left ltx_border_r">73.3</td>
<td id="S4.T1.3.1.10.8.6" class="ltx_td ltx_align_left ltx_border_r">90.6</td>
<td id="S4.T1.3.1.10.8.7" class="ltx_td ltx_align_left ltx_border_r">93.4</td>
<td id="S4.T1.3.1.10.8.8" class="ltx_td ltx_align_left ltx_border_r">56.0</td>
<td id="S4.T1.3.1.10.8.9" class="ltx_td ltx_align_left ltx_border_r">70.1</td>
<td id="S4.T1.3.1.10.8.10" class="ltx_td ltx_align_left ltx_border_r">74.6</td>
<td id="S4.T1.3.1.10.8.11" class="ltx_td ltx_align_left ltx_border_r">84.7</td>
<td id="S4.T1.3.1.10.8.12" class="ltx_td ltx_align_left ltx_border_r">76.0</td>
<td id="S4.T1.3.1.10.8.13" class="ltx_td ltx_align_left">83.6</td>
</tr>
<tr id="S4.T1.3.1.11.9" class="ltx_tr">
<td id="S4.T1.3.1.11.9.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T1.3.1.11.9.1.1" class="ltx_text">MOON</span></td>
<td id="S4.T1.3.1.11.9.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">R</td>
<td id="S4.T1.3.1.11.9.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">15.5</td>
<td id="S4.T1.3.1.11.9.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">80.4</td>
<td id="S4.T1.3.1.11.9.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">15.9</td>
<td id="S4.T1.3.1.11.9.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">14.2</td>
<td id="S4.T1.3.1.11.9.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">25.0</td>
<td id="S4.T1.3.1.11.9.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">82.4</td>
<td id="S4.T1.3.1.11.9.9" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">10.0</td>
<td id="S4.T1.3.1.11.9.10" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">11.5</td>
<td id="S4.T1.3.1.11.9.11" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">11.0</td>
<td id="S4.T1.3.1.11.9.12" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">35.4</td>
<td id="S4.T1.3.1.11.9.13" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">15.5</td>
<td id="S4.T1.3.1.11.9.14" class="ltx_td ltx_align_left ltx_border_t">44.8</td>
</tr>
<tr id="S4.T1.3.1.12.10" class="ltx_tr">
<td id="S4.T1.3.1.12.10.1" class="ltx_td ltx_align_left ltx_border_r">C</td>
<td id="S4.T1.3.1.12.10.2" class="ltx_td ltx_align_left ltx_border_r">85.0</td>
<td id="S4.T1.3.1.12.10.3" class="ltx_td ltx_align_left ltx_border_r">95.5</td>
<td id="S4.T1.3.1.12.10.4" class="ltx_td ltx_align_left ltx_border_r">49.2</td>
<td id="S4.T1.3.1.12.10.5" class="ltx_td ltx_align_left ltx_border_r">70.5</td>
<td id="S4.T1.3.1.12.10.6" class="ltx_td ltx_align_left ltx_border_r">83.4</td>
<td id="S4.T1.3.1.12.10.7" class="ltx_td ltx_align_left ltx_border_r">92.0</td>
<td id="S4.T1.3.1.12.10.8" class="ltx_td ltx_align_left ltx_border_r">31.5</td>
<td id="S4.T1.3.1.12.10.9" class="ltx_td ltx_align_left ltx_border_r">67.2</td>
<td id="S4.T1.3.1.12.10.10" class="ltx_td ltx_align_left ltx_border_r">56.9</td>
<td id="S4.T1.3.1.12.10.11" class="ltx_td ltx_align_left ltx_border_r">82.3</td>
<td id="S4.T1.3.1.12.10.12" class="ltx_td ltx_align_left ltx_border_r">61.2</td>
<td id="S4.T1.3.1.12.10.13" class="ltx_td ltx_align_left">81.5</td>
</tr>
<tr id="S4.T1.3.1.13.11" class="ltx_tr">
<td id="S4.T1.3.1.13.11.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T1.3.1.13.11.1.1" class="ltx_text">VHL</span></td>
<td id="S4.T1.3.1.13.11.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">R</td>
<td id="S4.T1.3.1.13.11.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">87.8</td>
<td id="S4.T1.3.1.13.11.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">95.9</td>
<td id="S4.T1.3.1.13.11.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">29.5</td>
<td id="S4.T1.3.1.13.11.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">67.0</td>
<td id="S4.T1.3.1.13.11.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">88.0</td>
<td id="S4.T1.3.1.13.11.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">93.5</td>
<td id="S4.T1.3.1.13.11.9" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">18.2</td>
<td id="S4.T1.3.1.13.11.10" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">60.7</td>
<td id="S4.T1.3.1.13.11.11" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">52.2</td>
<td id="S4.T1.3.1.13.11.12" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">85.7</td>
<td id="S4.T1.3.1.13.11.13" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">55.1</td>
<td id="S4.T1.3.1.13.11.14" class="ltx_td ltx_align_left ltx_border_t">80.5</td>
</tr>
<tr id="S4.T1.3.1.14.12" class="ltx_tr">
<td id="S4.T1.3.1.14.12.1" class="ltx_td ltx_align_left ltx_border_r">C</td>
<td id="S4.T1.3.1.14.12.2" class="ltx_td ltx_align_left ltx_border_r">95.0</td>
<td id="S4.T1.3.1.14.12.3" class="ltx_td ltx_align_left ltx_border_r">96.9</td>
<td id="S4.T1.3.1.14.12.4" class="ltx_td ltx_align_left ltx_border_r"><span id="S4.T1.3.1.14.12.4.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">68.6</span></td>
<td id="S4.T1.3.1.14.12.5" class="ltx_td ltx_align_left ltx_border_r">75.2</td>
<td id="S4.T1.3.1.14.12.6" class="ltx_td ltx_align_left ltx_border_r">92.2</td>
<td id="S4.T1.3.1.14.12.7" class="ltx_td ltx_align_left ltx_border_r">94.4</td>
<td id="S4.T1.3.1.14.12.8" class="ltx_td ltx_align_left ltx_border_r">60.7</td>
<td id="S4.T1.3.1.14.12.9" class="ltx_td ltx_align_left ltx_border_r">72.3</td>
<td id="S4.T1.3.1.14.12.10" class="ltx_td ltx_align_left ltx_border_r">76.1</td>
<td id="S4.T1.3.1.14.12.11" class="ltx_td ltx_align_left ltx_border_r">83.7</td>
<td id="S4.T1.3.1.14.12.12" class="ltx_td ltx_align_left ltx_border_r">78.5</td>
<td id="S4.T1.3.1.14.12.13" class="ltx_td ltx_align_left">84.5</td>
</tr>
<tr id="S4.T1.3.1.15.13" class="ltx_tr">
<td id="S4.T1.3.1.15.13.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T1.3.1.15.13.1.1" class="ltx_text ltx_font_smallcaps">FedLGD</span></td>
<td id="S4.T1.3.1.15.13.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">R</td>
<td id="S4.T1.3.1.15.13.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T1.3.1.15.13.3.1" class="ltx_text ltx_font_bold">92.9</span></td>
<td id="S4.T1.3.1.15.13.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T1.3.1.15.13.4.1" class="ltx_text ltx_font_bold">96.7</span></td>
<td id="S4.T1.3.1.15.13.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T1.3.1.15.13.5.1" class="ltx_text ltx_font_bold">46.9</span></td>
<td id="S4.T1.3.1.15.13.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T1.3.1.15.13.6.1" class="ltx_text ltx_font_bold">73.3</span></td>
<td id="S4.T1.3.1.15.13.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T1.3.1.15.13.7.1" class="ltx_text ltx_font_bold">89.1</span></td>
<td id="S4.T1.3.1.15.13.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T1.3.1.15.13.8.1" class="ltx_text ltx_font_bold">93.9</span></td>
<td id="S4.T1.3.1.15.13.9" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T1.3.1.15.13.9.1" class="ltx_text ltx_font_bold">27.9</span></td>
<td id="S4.T1.3.1.15.13.10" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T1.3.1.15.13.10.1" class="ltx_text ltx_font_bold">72.9</span></td>
<td id="S4.T1.3.1.15.13.11" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T1.3.1.15.13.11.1" class="ltx_text ltx_font_bold">70.8</span></td>
<td id="S4.T1.3.1.15.13.12" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T1.3.1.15.13.12.1" class="ltx_text ltx_font_bold">85.2</span></td>
<td id="S4.T1.3.1.15.13.13" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T1.3.1.15.13.13.1" class="ltx_text ltx_font_bold">65.5</span></td>
<td id="S4.T1.3.1.15.13.14" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T1.3.1.15.13.14.1" class="ltx_text ltx_font_bold">84.4</span></td>
</tr>
<tr id="S4.T1.3.1.16.14" class="ltx_tr">
<td id="S4.T1.3.1.16.14.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r">C</td>
<td id="S4.T1.3.1.16.14.2" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="S4.T1.3.1.16.14.2.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">95.8</span></td>
<td id="S4.T1.3.1.16.14.3" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="S4.T1.3.1.16.14.3.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">97.1</span></td>
<td id="S4.T1.3.1.16.14.4" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r">68.2</td>
<td id="S4.T1.3.1.16.14.5" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="S4.T1.3.1.16.14.5.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">77.3</span></td>
<td id="S4.T1.3.1.16.14.6" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="S4.T1.3.1.16.14.6.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">92.4</span></td>
<td id="S4.T1.3.1.16.14.7" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="S4.T1.3.1.16.14.7.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">94.6</span></td>
<td id="S4.T1.3.1.16.14.8" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="S4.T1.3.1.16.14.8.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">67.4</span></td>
<td id="S4.T1.3.1.16.14.9" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="S4.T1.3.1.16.14.9.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">78.5</span></td>
<td id="S4.T1.3.1.16.14.10" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="S4.T1.3.1.16.14.10.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">79.4</span></td>
<td id="S4.T1.3.1.16.14.11" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="S4.T1.3.1.16.14.11.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">86.1</span></td>
<td id="S4.T1.3.1.16.14.12" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="S4.T1.3.1.16.14.12.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">80.6</span></td>
<td id="S4.T1.3.1.16.14.13" class="ltx_td ltx_align_left ltx_border_bb"><span id="S4.T1.3.1.16.14.13.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">86.7</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">To evaluate <span id="S4.p1.1.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>, we consider the FL setting in which clients obtain data from different domains while performing the same task. Specifically, we compare with multiple baselines on benchmark datasets <span id="S4.p1.1.2" class="ltx_text ltx_font_typewriter">DIGITS</span> (Sec. <a href="#S4.SS2" title="4.2 DIGITS Experiment ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>), where each client has data from completely different open-sourced datasets. The experiment is designed to show that <span id="S4.p1.1.3" class="ltx_text ltx_font_smallcaps">FedLGD</span> can effectively mitigate large domain shifts. Additionally, we evaluate the performance of <span id="S4.p1.1.4" class="ltx_text ltx_font_smallcaps">FedLGD</span> on another benchmark dataset, <span id="S4.p1.1.5" class="ltx_text ltx_font_typewriter">CIFAR10C</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, which collects data from different corrupts yielding data distribution shift and contains a large number of clients, so that we can investigate varied client sampling in FL. The experiment aims to show <span id="S4.p1.1.6" class="ltx_text ltx_font_smallcaps">FedLGD</span>’s feasibility on large-scale FL environments. We also validate the performance under medical datasets, <span id="S4.p1.1.7" class="ltx_text ltx_font_typewriter">RETINA</span>, in Appendix. <a href="#A2" title="Appendix B Experiment Results on Real-world Dataset ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Training and Evaluation Setup</h3>

<div id="S4.SS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.p1.1" class="ltx_p"><span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_bold">Model architecture.</span>
We conduct the ablation study to explore the effect of different deep neural networks’ performance under <span id="S4.SS1.p1.1.2" class="ltx_text ltx_font_smallcaps">FedLGD</span>. Specifically, we adapt ResNet18 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> and ConvNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite> in our study. To achieve the optimal performance, we apply the same architecture to perform both the local distillation task and the classification task, as this combination is justified to have the best output <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>, <a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite>. The detailed model architectures are presented in Appendix <a href="#A4.SS4" title="D.4 Model architecture ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D.4</span></a>.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">Comparison methods.</span>
We compare the performance of downsteam classification tasks using state-of-the-art (SOTA) FL algorithms, FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>, FedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>, FedNova <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>, Scaffold <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, MOON <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>, and VHL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite><span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>The detailed information of the methods can be found in Appendix <a href="#A5" title="Appendix E Other Heterogeneous Federated Learning Methods Used in Comparison ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">E</span></a>.</span></span></span>. We directly use local virtual data from our initialization stage for FL methods other than ours.
We perform classification on client’s testing set and report the test accuracies.
</p>
</div>
<div id="S4.SS1.p3" class="ltx_para ltx_noindent">
<p id="S4.SS1.p3.2" class="ltx_p"><span id="S4.SS1.p3.2.1" class="ltx_text ltx_font_bold">FL training setup.</span> We use the SGD optimizer with a learning rate of <math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="10^{-2}" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><msup id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml"><mn id="S4.SS1.p3.1.m1.1.1.2" xref="S4.SS1.p3.1.m1.1.1.2.cmml">10</mn><mrow id="S4.SS1.p3.1.m1.1.1.3" xref="S4.SS1.p3.1.m1.1.1.3.cmml"><mo id="S4.SS1.p3.1.m1.1.1.3a" xref="S4.SS1.p3.1.m1.1.1.3.cmml">−</mo><mn id="S4.SS1.p3.1.m1.1.1.3.2" xref="S4.SS1.p3.1.m1.1.1.3.2.cmml">2</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><apply id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.1.m1.1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1">superscript</csymbol><cn type="integer" id="S4.SS1.p3.1.m1.1.1.2.cmml" xref="S4.SS1.p3.1.m1.1.1.2">10</cn><apply id="S4.SS1.p3.1.m1.1.1.3.cmml" xref="S4.SS1.p3.1.m1.1.1.3"><minus id="S4.SS1.p3.1.m1.1.1.3.1.cmml" xref="S4.SS1.p3.1.m1.1.1.3"></minus><cn type="integer" id="S4.SS1.p3.1.m1.1.1.3.2.cmml" xref="S4.SS1.p3.1.m1.1.1.3.2">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">10^{-2}</annotation></semantics></math> for <span id="S4.SS1.p3.2.2" class="ltx_text ltx_font_typewriter">DIGITS</span> and <span id="S4.SS1.p3.2.3" class="ltx_text ltx_font_typewriter">CIFAR10C</span>. If not specified, our default setting for local model update epochs is 1, total update rounds is 100, the batch size for local training is 32, and the number of virtual data update iterations (<math id="S4.SS1.p3.2.m2.1" class="ltx_Math" alttext="|\tau|" display="inline"><semantics id="S4.SS1.p3.2.m2.1a"><mrow id="S4.SS1.p3.2.m2.1.2.2" xref="S4.SS1.p3.2.m2.1.2.1.cmml"><mo stretchy="false" id="S4.SS1.p3.2.m2.1.2.2.1" xref="S4.SS1.p3.2.m2.1.2.1.1.cmml">|</mo><mi id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml">τ</mi><mo stretchy="false" id="S4.SS1.p3.2.m2.1.2.2.2" xref="S4.SS1.p3.2.m2.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b"><apply id="S4.SS1.p3.2.m2.1.2.1.cmml" xref="S4.SS1.p3.2.m2.1.2.2"><abs id="S4.SS1.p3.2.m2.1.2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.2.2.1"></abs><ci id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">|\tau|</annotation></semantics></math>) is 10. The numbers of default virtual data distillation steps for clients and server are set to 100 and 500, respectively. Since we only have a few clients for <span id="S4.SS1.p3.2.4" class="ltx_text ltx_font_typewriter">DIGITS</span> and <span id="S4.SS1.p3.2.5" class="ltx_text ltx_font_typewriter">RETINA</span> experiments, we will select all the clients for each iteration, while the client selection for <span id="S4.SS1.p3.2.6" class="ltx_text ltx_font_typewriter">CIFAR10C</span> experiments will be specified in Sec. <a href="#S4.SS3" title="4.3 CIFAR10C Experiment ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>. The experiments are run on NVIDIA GeForce RTX 3090 Graphics cards with PyTorch.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para ltx_noindent">
<p id="S4.SS1.p4.5" class="ltx_p"><span id="S4.SS1.p4.5.1" class="ltx_text ltx_font_bold">Proper Initialization for Distillation.</span>
We propose to initialize the distilled data using statistics from local data to take care of both privacy concerns and model performance. Specifically, each client calculates the statistics of its own data for each class, denoted as <math id="S4.SS1.p4.1.m1.2" class="ltx_Math" alttext="\mu^{c}_{i},\sigma^{c}_{i}" display="inline"><semantics id="S4.SS1.p4.1.m1.2a"><mrow id="S4.SS1.p4.1.m1.2.2.2" xref="S4.SS1.p4.1.m1.2.2.3.cmml"><msubsup id="S4.SS1.p4.1.m1.1.1.1.1" xref="S4.SS1.p4.1.m1.1.1.1.1.cmml"><mi id="S4.SS1.p4.1.m1.1.1.1.1.2.2" xref="S4.SS1.p4.1.m1.1.1.1.1.2.2.cmml">μ</mi><mi id="S4.SS1.p4.1.m1.1.1.1.1.3" xref="S4.SS1.p4.1.m1.1.1.1.1.3.cmml">i</mi><mi id="S4.SS1.p4.1.m1.1.1.1.1.2.3" xref="S4.SS1.p4.1.m1.1.1.1.1.2.3.cmml">c</mi></msubsup><mo id="S4.SS1.p4.1.m1.2.2.2.3" xref="S4.SS1.p4.1.m1.2.2.3.cmml">,</mo><msubsup id="S4.SS1.p4.1.m1.2.2.2.2" xref="S4.SS1.p4.1.m1.2.2.2.2.cmml"><mi id="S4.SS1.p4.1.m1.2.2.2.2.2.2" xref="S4.SS1.p4.1.m1.2.2.2.2.2.2.cmml">σ</mi><mi id="S4.SS1.p4.1.m1.2.2.2.2.3" xref="S4.SS1.p4.1.m1.2.2.2.2.3.cmml">i</mi><mi id="S4.SS1.p4.1.m1.2.2.2.2.2.3" xref="S4.SS1.p4.1.m1.2.2.2.2.2.3.cmml">c</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.2b"><list id="S4.SS1.p4.1.m1.2.2.3.cmml" xref="S4.SS1.p4.1.m1.2.2.2"><apply id="S4.SS1.p4.1.m1.1.1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.1.m1.1.1.1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1">subscript</csymbol><apply id="S4.SS1.p4.1.m1.1.1.1.1.2.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.1.m1.1.1.1.1.2.1.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1">superscript</csymbol><ci id="S4.SS1.p4.1.m1.1.1.1.1.2.2.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1.2.2">𝜇</ci><ci id="S4.SS1.p4.1.m1.1.1.1.1.2.3.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1.2.3">𝑐</ci></apply><ci id="S4.SS1.p4.1.m1.1.1.1.1.3.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.SS1.p4.1.m1.2.2.2.2.cmml" xref="S4.SS1.p4.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p4.1.m1.2.2.2.2.1.cmml" xref="S4.SS1.p4.1.m1.2.2.2.2">subscript</csymbol><apply id="S4.SS1.p4.1.m1.2.2.2.2.2.cmml" xref="S4.SS1.p4.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p4.1.m1.2.2.2.2.2.1.cmml" xref="S4.SS1.p4.1.m1.2.2.2.2">superscript</csymbol><ci id="S4.SS1.p4.1.m1.2.2.2.2.2.2.cmml" xref="S4.SS1.p4.1.m1.2.2.2.2.2.2">𝜎</ci><ci id="S4.SS1.p4.1.m1.2.2.2.2.2.3.cmml" xref="S4.SS1.p4.1.m1.2.2.2.2.2.3">𝑐</ci></apply><ci id="S4.SS1.p4.1.m1.2.2.2.2.3.cmml" xref="S4.SS1.p4.1.m1.2.2.2.2.3">𝑖</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.2c">\mu^{c}_{i},\sigma^{c}_{i}</annotation></semantics></math>, and then initializes the distillation images per class, <math id="S4.SS1.p4.2.m2.2" class="ltx_Math" alttext="x\sim\mathcal{N}(\mu^{c}_{i},\sigma^{c}_{i})" display="inline"><semantics id="S4.SS1.p4.2.m2.2a"><mrow id="S4.SS1.p4.2.m2.2.2" xref="S4.SS1.p4.2.m2.2.2.cmml"><mi id="S4.SS1.p4.2.m2.2.2.4" xref="S4.SS1.p4.2.m2.2.2.4.cmml">x</mi><mo id="S4.SS1.p4.2.m2.2.2.3" xref="S4.SS1.p4.2.m2.2.2.3.cmml">∼</mo><mrow id="S4.SS1.p4.2.m2.2.2.2" xref="S4.SS1.p4.2.m2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p4.2.m2.2.2.2.4" xref="S4.SS1.p4.2.m2.2.2.2.4.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p4.2.m2.2.2.2.3" xref="S4.SS1.p4.2.m2.2.2.2.3.cmml">​</mo><mrow id="S4.SS1.p4.2.m2.2.2.2.2.2" xref="S4.SS1.p4.2.m2.2.2.2.2.3.cmml"><mo stretchy="false" id="S4.SS1.p4.2.m2.2.2.2.2.2.3" xref="S4.SS1.p4.2.m2.2.2.2.2.3.cmml">(</mo><msubsup id="S4.SS1.p4.2.m2.1.1.1.1.1.1" xref="S4.SS1.p4.2.m2.1.1.1.1.1.1.cmml"><mi id="S4.SS1.p4.2.m2.1.1.1.1.1.1.2.2" xref="S4.SS1.p4.2.m2.1.1.1.1.1.1.2.2.cmml">μ</mi><mi id="S4.SS1.p4.2.m2.1.1.1.1.1.1.3" xref="S4.SS1.p4.2.m2.1.1.1.1.1.1.3.cmml">i</mi><mi id="S4.SS1.p4.2.m2.1.1.1.1.1.1.2.3" xref="S4.SS1.p4.2.m2.1.1.1.1.1.1.2.3.cmml">c</mi></msubsup><mo id="S4.SS1.p4.2.m2.2.2.2.2.2.4" xref="S4.SS1.p4.2.m2.2.2.2.2.3.cmml">,</mo><msubsup id="S4.SS1.p4.2.m2.2.2.2.2.2.2" xref="S4.SS1.p4.2.m2.2.2.2.2.2.2.cmml"><mi id="S4.SS1.p4.2.m2.2.2.2.2.2.2.2.2" xref="S4.SS1.p4.2.m2.2.2.2.2.2.2.2.2.cmml">σ</mi><mi id="S4.SS1.p4.2.m2.2.2.2.2.2.2.3" xref="S4.SS1.p4.2.m2.2.2.2.2.2.2.3.cmml">i</mi><mi id="S4.SS1.p4.2.m2.2.2.2.2.2.2.2.3" xref="S4.SS1.p4.2.m2.2.2.2.2.2.2.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="S4.SS1.p4.2.m2.2.2.2.2.2.5" xref="S4.SS1.p4.2.m2.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.2.m2.2b"><apply id="S4.SS1.p4.2.m2.2.2.cmml" xref="S4.SS1.p4.2.m2.2.2"><csymbol cd="latexml" id="S4.SS1.p4.2.m2.2.2.3.cmml" xref="S4.SS1.p4.2.m2.2.2.3">similar-to</csymbol><ci id="S4.SS1.p4.2.m2.2.2.4.cmml" xref="S4.SS1.p4.2.m2.2.2.4">𝑥</ci><apply id="S4.SS1.p4.2.m2.2.2.2.cmml" xref="S4.SS1.p4.2.m2.2.2.2"><times id="S4.SS1.p4.2.m2.2.2.2.3.cmml" xref="S4.SS1.p4.2.m2.2.2.2.3"></times><ci id="S4.SS1.p4.2.m2.2.2.2.4.cmml" xref="S4.SS1.p4.2.m2.2.2.2.4">𝒩</ci><interval closure="open" id="S4.SS1.p4.2.m2.2.2.2.2.3.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.2"><apply id="S4.SS1.p4.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.1.1.1.1.1.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.1.1">subscript</csymbol><apply id="S4.SS1.p4.2.m2.1.1.1.1.1.1.2.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.1.1.1.1.1.1.2.1.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.1.1">superscript</csymbol><ci id="S4.SS1.p4.2.m2.1.1.1.1.1.1.2.2.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.1.1.2.2">𝜇</ci><ci id="S4.SS1.p4.2.m2.1.1.1.1.1.1.2.3.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.1.1.2.3">𝑐</ci></apply><ci id="S4.SS1.p4.2.m2.1.1.1.1.1.1.3.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.SS1.p4.2.m2.2.2.2.2.2.2.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.2.2.2.2.2.2.1.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.2.2">subscript</csymbol><apply id="S4.SS1.p4.2.m2.2.2.2.2.2.2.2.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.2.2.2.2.2.2.2.1.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.2.2">superscript</csymbol><ci id="S4.SS1.p4.2.m2.2.2.2.2.2.2.2.2.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.2.2.2.2">𝜎</ci><ci id="S4.SS1.p4.2.m2.2.2.2.2.2.2.2.3.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.2.2.2.3">𝑐</ci></apply><ci id="S4.SS1.p4.2.m2.2.2.2.2.2.2.3.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.2.m2.2c">x\sim\mathcal{N}(\mu^{c}_{i},\sigma^{c}_{i})</annotation></semantics></math>, where <math id="S4.SS1.p4.3.m3.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S4.SS1.p4.3.m3.1a"><mi id="S4.SS1.p4.3.m3.1.1" xref="S4.SS1.p4.3.m3.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.3.m3.1b"><ci id="S4.SS1.p4.3.m3.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.3.m3.1c">c</annotation></semantics></math> and <math id="S4.SS1.p4.4.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS1.p4.4.m4.1a"><mi id="S4.SS1.p4.4.m4.1.1" xref="S4.SS1.p4.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.4.m4.1b"><ci id="S4.SS1.p4.4.m4.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.4.m4.1c">i</annotation></semantics></math> represent each client and categorical label. The server only needs to aggregate the statistics and initializes the virtual data as <math id="S4.SS1.p4.5.m5.2" class="ltx_Math" alttext="x\sim\mathcal{N}(\mu^{g}_{i},\sigma^{g}_{i})" display="inline"><semantics id="S4.SS1.p4.5.m5.2a"><mrow id="S4.SS1.p4.5.m5.2.2" xref="S4.SS1.p4.5.m5.2.2.cmml"><mi id="S4.SS1.p4.5.m5.2.2.4" xref="S4.SS1.p4.5.m5.2.2.4.cmml">x</mi><mo id="S4.SS1.p4.5.m5.2.2.3" xref="S4.SS1.p4.5.m5.2.2.3.cmml">∼</mo><mrow id="S4.SS1.p4.5.m5.2.2.2" xref="S4.SS1.p4.5.m5.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p4.5.m5.2.2.2.4" xref="S4.SS1.p4.5.m5.2.2.2.4.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p4.5.m5.2.2.2.3" xref="S4.SS1.p4.5.m5.2.2.2.3.cmml">​</mo><mrow id="S4.SS1.p4.5.m5.2.2.2.2.2" xref="S4.SS1.p4.5.m5.2.2.2.2.3.cmml"><mo stretchy="false" id="S4.SS1.p4.5.m5.2.2.2.2.2.3" xref="S4.SS1.p4.5.m5.2.2.2.2.3.cmml">(</mo><msubsup id="S4.SS1.p4.5.m5.1.1.1.1.1.1" xref="S4.SS1.p4.5.m5.1.1.1.1.1.1.cmml"><mi id="S4.SS1.p4.5.m5.1.1.1.1.1.1.2.2" xref="S4.SS1.p4.5.m5.1.1.1.1.1.1.2.2.cmml">μ</mi><mi id="S4.SS1.p4.5.m5.1.1.1.1.1.1.3" xref="S4.SS1.p4.5.m5.1.1.1.1.1.1.3.cmml">i</mi><mi id="S4.SS1.p4.5.m5.1.1.1.1.1.1.2.3" xref="S4.SS1.p4.5.m5.1.1.1.1.1.1.2.3.cmml">g</mi></msubsup><mo id="S4.SS1.p4.5.m5.2.2.2.2.2.4" xref="S4.SS1.p4.5.m5.2.2.2.2.3.cmml">,</mo><msubsup id="S4.SS1.p4.5.m5.2.2.2.2.2.2" xref="S4.SS1.p4.5.m5.2.2.2.2.2.2.cmml"><mi id="S4.SS1.p4.5.m5.2.2.2.2.2.2.2.2" xref="S4.SS1.p4.5.m5.2.2.2.2.2.2.2.2.cmml">σ</mi><mi id="S4.SS1.p4.5.m5.2.2.2.2.2.2.3" xref="S4.SS1.p4.5.m5.2.2.2.2.2.2.3.cmml">i</mi><mi id="S4.SS1.p4.5.m5.2.2.2.2.2.2.2.3" xref="S4.SS1.p4.5.m5.2.2.2.2.2.2.2.3.cmml">g</mi></msubsup><mo stretchy="false" id="S4.SS1.p4.5.m5.2.2.2.2.2.5" xref="S4.SS1.p4.5.m5.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.5.m5.2b"><apply id="S4.SS1.p4.5.m5.2.2.cmml" xref="S4.SS1.p4.5.m5.2.2"><csymbol cd="latexml" id="S4.SS1.p4.5.m5.2.2.3.cmml" xref="S4.SS1.p4.5.m5.2.2.3">similar-to</csymbol><ci id="S4.SS1.p4.5.m5.2.2.4.cmml" xref="S4.SS1.p4.5.m5.2.2.4">𝑥</ci><apply id="S4.SS1.p4.5.m5.2.2.2.cmml" xref="S4.SS1.p4.5.m5.2.2.2"><times id="S4.SS1.p4.5.m5.2.2.2.3.cmml" xref="S4.SS1.p4.5.m5.2.2.2.3"></times><ci id="S4.SS1.p4.5.m5.2.2.2.4.cmml" xref="S4.SS1.p4.5.m5.2.2.2.4">𝒩</ci><interval closure="open" id="S4.SS1.p4.5.m5.2.2.2.2.3.cmml" xref="S4.SS1.p4.5.m5.2.2.2.2.2"><apply id="S4.SS1.p4.5.m5.1.1.1.1.1.1.cmml" xref="S4.SS1.p4.5.m5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.5.m5.1.1.1.1.1.1.1.cmml" xref="S4.SS1.p4.5.m5.1.1.1.1.1.1">subscript</csymbol><apply id="S4.SS1.p4.5.m5.1.1.1.1.1.1.2.cmml" xref="S4.SS1.p4.5.m5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.5.m5.1.1.1.1.1.1.2.1.cmml" xref="S4.SS1.p4.5.m5.1.1.1.1.1.1">superscript</csymbol><ci id="S4.SS1.p4.5.m5.1.1.1.1.1.1.2.2.cmml" xref="S4.SS1.p4.5.m5.1.1.1.1.1.1.2.2">𝜇</ci><ci id="S4.SS1.p4.5.m5.1.1.1.1.1.1.2.3.cmml" xref="S4.SS1.p4.5.m5.1.1.1.1.1.1.2.3">𝑔</ci></apply><ci id="S4.SS1.p4.5.m5.1.1.1.1.1.1.3.cmml" xref="S4.SS1.p4.5.m5.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.SS1.p4.5.m5.2.2.2.2.2.2.cmml" xref="S4.SS1.p4.5.m5.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p4.5.m5.2.2.2.2.2.2.1.cmml" xref="S4.SS1.p4.5.m5.2.2.2.2.2.2">subscript</csymbol><apply id="S4.SS1.p4.5.m5.2.2.2.2.2.2.2.cmml" xref="S4.SS1.p4.5.m5.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p4.5.m5.2.2.2.2.2.2.2.1.cmml" xref="S4.SS1.p4.5.m5.2.2.2.2.2.2">superscript</csymbol><ci id="S4.SS1.p4.5.m5.2.2.2.2.2.2.2.2.cmml" xref="S4.SS1.p4.5.m5.2.2.2.2.2.2.2.2">𝜎</ci><ci id="S4.SS1.p4.5.m5.2.2.2.2.2.2.2.3.cmml" xref="S4.SS1.p4.5.m5.2.2.2.2.2.2.2.3">𝑔</ci></apply><ci id="S4.SS1.p4.5.m5.2.2.2.2.2.2.3.cmml" xref="S4.SS1.p4.5.m5.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.5.m5.2c">x\sim\mathcal{N}(\mu^{g}_{i},\sigma^{g}_{i})</annotation></semantics></math>. In this way, no real data is shared with any participant in the FL system. The comparison results using different initialization methods proposed in previous works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>, <a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite> can be found in Appendix <a href="#A3" title="Appendix C Additional Results and Ablation Studies for FedLGD ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span><span id="S4.SS2.1.1" class="ltx_text ltx_font_typewriter">DIGITS</span> Experiment</h3>

<div id="S4.SS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.p1.2" class="ltx_p"><span id="S4.SS2.p1.2.1" class="ltx_text ltx_font_bold">Datasets.</span>
We use the following datasets for our benchmark experiments: <span id="S4.SS2.p1.2.2" class="ltx_text ltx_font_typewriter">DIGITS</span> = {MNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>, SVHN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>, USPS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>, SynthDigits <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, MNIST-M <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>}. Each dataset in <span id="S4.SS2.p1.2.3" class="ltx_text ltx_font_typewriter">DIGITS</span> contains handwritten, real street and synthetic digit images of <math id="S4.SS2.p1.1.m1.4" class="ltx_Math" alttext="0,1,\cdots,9" display="inline"><semantics id="S4.SS2.p1.1.m1.4a"><mrow id="S4.SS2.p1.1.m1.4.5.2" xref="S4.SS2.p1.1.m1.4.5.1.cmml"><mn id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">0</mn><mo id="S4.SS2.p1.1.m1.4.5.2.1" xref="S4.SS2.p1.1.m1.4.5.1.cmml">,</mo><mn id="S4.SS2.p1.1.m1.2.2" xref="S4.SS2.p1.1.m1.2.2.cmml">1</mn><mo id="S4.SS2.p1.1.m1.4.5.2.2" xref="S4.SS2.p1.1.m1.4.5.1.cmml">,</mo><mi mathvariant="normal" id="S4.SS2.p1.1.m1.3.3" xref="S4.SS2.p1.1.m1.3.3.cmml">⋯</mi><mo id="S4.SS2.p1.1.m1.4.5.2.3" xref="S4.SS2.p1.1.m1.4.5.1.cmml">,</mo><mn id="S4.SS2.p1.1.m1.4.4" xref="S4.SS2.p1.1.m1.4.4.cmml">9</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.4b"><list id="S4.SS2.p1.1.m1.4.5.1.cmml" xref="S4.SS2.p1.1.m1.4.5.2"><cn type="integer" id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">0</cn><cn type="integer" id="S4.SS2.p1.1.m1.2.2.cmml" xref="S4.SS2.p1.1.m1.2.2">1</cn><ci id="S4.SS2.p1.1.m1.3.3.cmml" xref="S4.SS2.p1.1.m1.3.3">⋯</ci><cn type="integer" id="S4.SS2.p1.1.m1.4.4.cmml" xref="S4.SS2.p1.1.m1.4.4">9</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.4c">0,1,\cdots,9</annotation></semantics></math>. As a result, we have 5 clients in the experiments, and image size is <math id="S4.SS2.p1.2.m2.1" class="ltx_Math" alttext="28\times 28" display="inline"><semantics id="S4.SS2.p1.2.m2.1a"><mrow id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mn id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2.cmml">28</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS2.p1.2.m2.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.cmml">×</mo><mn id="S4.SS2.p1.2.m2.1.1.3" xref="S4.SS2.p1.2.m2.1.1.3.cmml">28</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><times id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1"></times><cn type="integer" id="S4.SS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.2">28</cn><cn type="integer" id="S4.SS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.3">28</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">28\times 28</annotation></semantics></math>.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para ltx_noindent">
<p id="S4.SS2.p2.2" class="ltx_p"><span id="S4.SS2.p2.2.1" class="ltx_text ltx_font_bold">Comparison with baselines under various conditions.</span>
To validate the effectiveness of <span id="S4.SS2.p2.2.2" class="ltx_text ltx_font_smallcaps">FedLGD</span>, we first compare it with the alternative FL methods varying on two important factors: Image-per-class (IPC) and different deep neural network architectures (arch).
We use IPC <math id="S4.SS2.p2.1.m1.2" class="ltx_Math" alttext="\in\{10,50\}" display="inline"><semantics id="S4.SS2.p2.1.m1.2a"><mrow id="S4.SS2.p2.1.m1.2.3" xref="S4.SS2.p2.1.m1.2.3.cmml"><mi id="S4.SS2.p2.1.m1.2.3.2" xref="S4.SS2.p2.1.m1.2.3.2.cmml"></mi><mo id="S4.SS2.p2.1.m1.2.3.1" xref="S4.SS2.p2.1.m1.2.3.1.cmml">∈</mo><mrow id="S4.SS2.p2.1.m1.2.3.3.2" xref="S4.SS2.p2.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S4.SS2.p2.1.m1.2.3.3.2.1" xref="S4.SS2.p2.1.m1.2.3.3.1.cmml">{</mo><mn id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">10</mn><mo id="S4.SS2.p2.1.m1.2.3.3.2.2" xref="S4.SS2.p2.1.m1.2.3.3.1.cmml">,</mo><mn id="S4.SS2.p2.1.m1.2.2" xref="S4.SS2.p2.1.m1.2.2.cmml">50</mn><mo stretchy="false" id="S4.SS2.p2.1.m1.2.3.3.2.3" xref="S4.SS2.p2.1.m1.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.2b"><apply id="S4.SS2.p2.1.m1.2.3.cmml" xref="S4.SS2.p2.1.m1.2.3"><in id="S4.SS2.p2.1.m1.2.3.1.cmml" xref="S4.SS2.p2.1.m1.2.3.1"></in><csymbol cd="latexml" id="S4.SS2.p2.1.m1.2.3.2.cmml" xref="S4.SS2.p2.1.m1.2.3.2">absent</csymbol><set id="S4.SS2.p2.1.m1.2.3.3.1.cmml" xref="S4.SS2.p2.1.m1.2.3.3.2"><cn type="integer" id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">10</cn><cn type="integer" id="S4.SS2.p2.1.m1.2.2.cmml" xref="S4.SS2.p2.1.m1.2.2">50</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.2c">\in\{10,50\}</annotation></semantics></math> and arch <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="\in" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><mo id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">∈</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><in id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1"></in></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">\in</annotation></semantics></math> { ResNet18(R), ConvNet(C)} to examine the performance of SOTA models and <span id="S4.SS2.p2.2.3" class="ltx_text ltx_font_smallcaps">FedLGD</span> using distilled <span id="S4.SS2.p2.2.4" class="ltx_text ltx_font_typewriter">DIGITS</span>. Note that we fix IPC = 10 for global virtual data and vary IPC for local virtual data. Table <a href="#S4.T1" title="Table 1 ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the test accuracies of <span id="S4.SS2.p2.2.5" class="ltx_text ltx_font_typewriter">DIGITS</span> experiments. In addition to testing with original test sets, we also show the unweighted averaged test accuracy. One can observe that for each FL algorithm, ConvNet(C) always has the best performance under all IPCs. The observation is consistent with <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite> as more complex architectures may cause over-fitting in training virtual data. It is also shown that using IPC = 50 always outperforms IPC = 10 as expected since more data are available for training. Overall, <span id="S4.SS2.p2.2.6" class="ltx_text ltx_font_smallcaps">FedLGD</span> outperforms other SOTA methods, where on average accuracy, <span id="S4.SS2.p2.2.7" class="ltx_text ltx_font_smallcaps">FedLGD</span> increases the best test accuracy results among the baseline methods of 2.1% (IPC =10, arch = C), 10.4% (IPC =10, arch = R), 2.2% (IPC = 50, arch = C) and 3.9% (IPC =50, arch = R). VHL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> is the closest strategy to <span id="S4.SS2.p2.2.8" class="ltx_text ltx_font_smallcaps">FedLGD</span> and achieves the best performance among the baseline methods, indicating that the feature alignment solutions are promising for handling heterogeneity in federated virtual learning. However, VHL is still worse than <span id="S4.SS2.p2.2.9" class="ltx_text ltx_font_smallcaps">FedLGD</span>, and the performance may result from the differences in synthesizing global virtual data. VHL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> uses untrained StyleGAN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> to generate global virtual data without further updating. On the contrary, we update our global virtual data during FL training.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Averaged test accuracy for <span id="S4.T2.2.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span> with ConvNet.</figcaption>
<div id="S4.T2.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:411.9pt;height:73.9pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-47.7pt,8.5pt) scale(0.812009534140618,0.812009534140618) ;">
<table id="S4.T2.3.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.3.1.1.1" class="ltx_tr">
<th id="S4.T2.3.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2"><span id="S4.T2.3.1.1.1.1.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span></th>
<th id="S4.T2.3.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">FedAvg</th>
<th id="S4.T2.3.1.1.1.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">FedProx</th>
<th id="S4.T2.3.1.1.1.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">FedNova</th>
<th id="S4.T2.3.1.1.1.5" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">Scaffold</th>
<th id="S4.T2.3.1.1.1.6" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">MOON</th>
<th id="S4.T2.3.1.1.1.7" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2">VHL</th>
<th id="S4.T2.3.1.1.1.8" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" colspan="2"><span id="S4.T2.3.1.1.1.8.1" class="ltx_text ltx_font_smallcaps">FedLGD</span></th>
</tr>
<tr id="S4.T2.3.1.2.2" class="ltx_tr">
<th id="S4.T2.3.1.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="2">IPC</th>
<th id="S4.T2.3.1.2.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T2.3.1.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">50</th>
<th id="S4.T2.3.1.2.2.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T2.3.1.2.2.5" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">50</th>
<th id="S4.T2.3.1.2.2.6" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T2.3.1.2.2.7" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">50</th>
<th id="S4.T2.3.1.2.2.8" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T2.3.1.2.2.9" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">50</th>
<th id="S4.T2.3.1.2.2.10" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T2.3.1.2.2.11" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">50</th>
<th id="S4.T2.3.1.2.2.12" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T2.3.1.2.2.13" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">50</th>
<th id="S4.T2.3.1.2.2.14" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">10</th>
<th id="S4.T2.3.1.2.2.15" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t">50</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.3.1.3.1" class="ltx_tr">
<td id="S4.T2.3.1.3.1.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" rowspan="3"><span id="S4.T2.3.1.3.1.1.1" class="ltx_text">Client ratio</span></td>
<td id="S4.T2.3.1.3.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.2</td>
<td id="S4.T2.3.1.3.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">27.0</td>
<td id="S4.T2.3.1.3.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">44.9</td>
<td id="S4.T2.3.1.3.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">27.0</td>
<td id="S4.T2.3.1.3.1.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">44.9</td>
<td id="S4.T2.3.1.3.1.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">26.7</td>
<td id="S4.T2.3.1.3.1.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">34.1</td>
<td id="S4.T2.3.1.3.1.9" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">27.0</td>
<td id="S4.T2.3.1.3.1.10" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">44.9</td>
<td id="S4.T2.3.1.3.1.11" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">20.5</td>
<td id="S4.T2.3.1.3.1.12" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">31.3</td>
<td id="S4.T2.3.1.3.1.13" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">21.8</td>
<td id="S4.T2.3.1.3.1.14" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">45.0</td>
<td id="S4.T2.3.1.3.1.15" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T2.3.1.3.1.15.1" class="ltx_text ltx_font_bold">32.9</span></td>
<td id="S4.T2.3.1.3.1.16" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T2.3.1.3.1.16.1" class="ltx_text ltx_font_bold">46.8</span></td>
</tr>
<tr id="S4.T2.3.1.4.2" class="ltx_tr">
<td id="S4.T2.3.1.4.2.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5</td>
<td id="S4.T2.3.1.4.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">29.8</td>
<td id="S4.T2.3.1.4.2.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">51.4</td>
<td id="S4.T2.3.1.4.2.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">29.8</td>
<td id="S4.T2.3.1.4.2.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">51.4</td>
<td id="S4.T2.3.1.4.2.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">29.6</td>
<td id="S4.T2.3.1.4.2.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">45.9</td>
<td id="S4.T2.3.1.4.2.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">30.6</td>
<td id="S4.T2.3.1.4.2.9" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">51.6</td>
<td id="S4.T2.3.1.4.2.10" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">23.8</td>
<td id="S4.T2.3.1.4.2.11" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">43.2</td>
<td id="S4.T2.3.1.4.2.12" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">29.3</td>
<td id="S4.T2.3.1.4.2.13" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">51.7</td>
<td id="S4.T2.3.1.4.2.14" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="S4.T2.3.1.4.2.14.1" class="ltx_text ltx_font_bold">39.5</span></td>
<td id="S4.T2.3.1.4.2.15" class="ltx_td ltx_align_left ltx_border_t"><span id="S4.T2.3.1.4.2.15.1" class="ltx_text ltx_font_bold">52.8</span></td>
</tr>
<tr id="S4.T2.3.1.5.3" class="ltx_tr">
<td id="S4.T2.3.1.5.3.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">1</td>
<td id="S4.T2.3.1.5.3.2" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">33.0</td>
<td id="S4.T2.3.1.5.3.3" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">54.9</td>
<td id="S4.T2.3.1.5.3.4" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">33.0</td>
<td id="S4.T2.3.1.5.3.5" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">54.9</td>
<td id="S4.T2.3.1.5.3.6" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">30.0</td>
<td id="S4.T2.3.1.5.3.7" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">53.2</td>
<td id="S4.T2.3.1.5.3.8" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">33.8</td>
<td id="S4.T2.3.1.5.3.9" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">54.5</td>
<td id="S4.T2.3.1.5.3.10" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">26.4</td>
<td id="S4.T2.3.1.5.3.11" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">51.6</td>
<td id="S4.T2.3.1.5.3.12" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">34.4</td>
<td id="S4.T2.3.1.5.3.13" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">55.2</td>
<td id="S4.T2.3.1.5.3.14" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T2.3.1.5.3.14.1" class="ltx_text ltx_font_bold">47.6</span></td>
<td id="S4.T2.3.1.5.3.15" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t"><span id="S4.T2.3.1.5.3.15.1" class="ltx_text ltx_font_bold">57.4</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span><span id="S4.SS3.1.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span> Experiment</h3>

<div id="S4.SS3.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.p1.2" class="ltx_p"><span id="S4.SS3.p1.2.1" class="ltx_text ltx_font_bold">Datasets.</span> We conduct real-world FL experiments on <span id="S4.SS3.p1.2.2" class="ltx_text ltx_font_typewriter">CIFAR10C<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note"><span id="footnote3.1.1.1" class="ltx_text ltx_font_serif">3</span></span><span id="footnote3.5" class="ltx_text ltx_font_serif">Cifar10-C is a collection of augmented Cifar10 that applies 19 different corruptions.</span></span></span></span></span>, where, like previous studies <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>, we apply Dirichlet distribution with <math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="\alpha=0.5" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mrow id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml"><mi id="S4.SS3.p1.1.m1.1.1.2" xref="S4.SS3.p1.1.m1.1.1.2.cmml">α</mi><mo id="S4.SS3.p1.1.m1.1.1.1" xref="S4.SS3.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS3.p1.1.m1.1.1.3" xref="S4.SS3.p1.1.m1.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><apply id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1"><eq id="S4.SS3.p1.1.m1.1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1.1"></eq><ci id="S4.SS3.p1.1.m1.1.1.2.cmml" xref="S4.SS3.p1.1.m1.1.1.2">𝛼</ci><cn type="float" id="S4.SS3.p1.1.m1.1.1.3.cmml" xref="S4.SS3.p1.1.m1.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">\alpha=0.5</annotation></semantics></math> to generate 3 partitions on each distorted Cifar10-C <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, resulting in 57 clients each with class imbalanced non-IID datasets. In addition, we apply random client selection with ratio = 0.2, 0.5, and 1 and set image size as <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="28\times 28" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><mrow id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml"><mn id="S4.SS3.p1.2.m2.1.1.2" xref="S4.SS3.p1.2.m2.1.1.2.cmml">28</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p1.2.m2.1.1.1" xref="S4.SS3.p1.2.m2.1.1.1.cmml">×</mo><mn id="S4.SS3.p1.2.m2.1.1.3" xref="S4.SS3.p1.2.m2.1.1.3.cmml">28</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><apply id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1"><times id="S4.SS3.p1.2.m2.1.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1.1"></times><cn type="integer" id="S4.SS3.p1.2.m2.1.1.2.cmml" xref="S4.SS3.p1.2.m2.1.1.2">28</cn><cn type="integer" id="S4.SS3.p1.2.m2.1.1.3.cmml" xref="S4.SS3.p1.2.m2.1.1.3">28</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">28\times 28</annotation></semantics></math>.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para ltx_noindent">
<p id="S4.SS3.p2.1" class="ltx_p"><span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_bold">Comparison with baselines under different client sampling ratios.</span>
The objective of the experiment is to test <span id="S4.SS3.p2.1.2" class="ltx_text ltx_font_smallcaps">FedLGD</span> under popular FL questions: class imbalance, large number of clients, different client sample ratios, and data heterogeneity. One benefit of federated virtual learning is that we can easily handle class imbalance by distilling the same number (IPC) of virtual data. We will vary IPC and fix the model architecture to ConvNet since it is validated that ConvNet yields better performance in virtual training <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>, <a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite>. One can observe from Table <a href="#S4.T2" title="Table 2 ‣ 4.2 DIGITS Experiment ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> that <span id="S4.SS3.p2.1.3" class="ltx_text ltx_font_smallcaps">FedLGD</span> consistently achieves the best performance under different IPC and client sampling ratios. We would like to point out that when IPC=10, the performance boosts are significant, which indicates that <span id="S4.SS3.p2.1.4" class="ltx_text ltx_font_smallcaps">FedLGD</span> is well-suited for FL conditions when there is a large group of clients and each of them has a limited number of data.</p>
</div>
<figure id="S4.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F3.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/x3.png" id="S4.F3.sf1.g1" class="ltx_graphics ltx_img_square" width="111" height="103" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span><span id="S4.F3.sf1.2.1" class="ltx_text" style="font-size:90%;">Comparison of Reg. loss</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F3.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/x4.png" id="S4.F3.sf2.g1" class="ltx_graphics ltx_img_square" width="115" height="105" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span><span id="S4.F3.sf2.2.1" class="ltx_text" style="font-size:90%;">Vary <math id="S4.F3.sf2.2.1.m1.1" class="ltx_Math" alttext="|\tau|" display="inline"><semantics id="S4.F3.sf2.2.1.m1.1b"><mrow id="S4.F3.sf2.2.1.m1.1.2.2" xref="S4.F3.sf2.2.1.m1.1.2.1.cmml"><mo stretchy="false" id="S4.F3.sf2.2.1.m1.1.2.2.1" xref="S4.F3.sf2.2.1.m1.1.2.1.1.cmml">|</mo><mi id="S4.F3.sf2.2.1.m1.1.1" xref="S4.F3.sf2.2.1.m1.1.1.cmml">τ</mi><mo stretchy="false" id="S4.F3.sf2.2.1.m1.1.2.2.2" xref="S4.F3.sf2.2.1.m1.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.sf2.2.1.m1.1c"><apply id="S4.F3.sf2.2.1.m1.1.2.1.cmml" xref="S4.F3.sf2.2.1.m1.1.2.2"><abs id="S4.F3.sf2.2.1.m1.1.2.1.1.cmml" xref="S4.F3.sf2.2.1.m1.1.2.2.1"></abs><ci id="S4.F3.sf2.2.1.m1.1.1.cmml" xref="S4.F3.sf2.2.1.m1.1.1">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.sf2.2.1.m1.1d">|\tau|</annotation></semantics></math></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F3.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/x5.png" id="S4.F3.sf3.g1" class="ltx_graphics ltx_img_square" width="115" height="98" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span><span id="S4.F3.sf3.2.1" class="ltx_text" style="font-size:90%;">Vary <span id="S4.F3.sf3.2.1.1" class="ltx_text ltx_font_italic">steps</span></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F3.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/x6.png" id="S4.F3.sf4.g1" class="ltx_graphics ltx_img_square" width="115" height="97" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span><span id="S4.F3.sf4.2.1" class="ltx_text" style="font-size:90%;">Vary <span id="S4.F3.sf4.2.1.1" class="ltx_text ltx_font_italic">steps</span></span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>(a) Comparison between different regularization losses and their weighting in total loss (<math id="S4.F3.4.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.F3.4.m1.1b"><mi id="S4.F3.4.m1.1.1" xref="S4.F3.4.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.F3.4.m1.1c"><ci id="S4.F3.4.m1.1.1.cmml" xref="S4.F3.4.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.4.m1.1d">\lambda</annotation></semantics></math>). One can observe that supervised contrastive loss gives us better and more stable performance with different coefficient choices. (b) The trade-off between <math id="S4.F3.5.m2.1" class="ltx_Math" alttext="|\tau|" display="inline"><semantics id="S4.F3.5.m2.1b"><mrow id="S4.F3.5.m2.1.2.2" xref="S4.F3.5.m2.1.2.1.cmml"><mo stretchy="false" id="S4.F3.5.m2.1.2.2.1" xref="S4.F3.5.m2.1.2.1.1.cmml">|</mo><mi id="S4.F3.5.m2.1.1" xref="S4.F3.5.m2.1.1.cmml">τ</mi><mo stretchy="false" id="S4.F3.5.m2.1.2.2.2" xref="S4.F3.5.m2.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.5.m2.1c"><apply id="S4.F3.5.m2.1.2.1.cmml" xref="S4.F3.5.m2.1.2.2"><abs id="S4.F3.5.m2.1.2.1.1.cmml" xref="S4.F3.5.m2.1.2.2.1"></abs><ci id="S4.F3.5.m2.1.1.cmml" xref="S4.F3.5.m2.1.1">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.5.m2.1d">|\tau|</annotation></semantics></math> and computation cost. One can observe that the model performance improves with the increasing <math id="S4.F3.6.m3.1" class="ltx_Math" alttext="|\tau|" display="inline"><semantics id="S4.F3.6.m3.1b"><mrow id="S4.F3.6.m3.1.2.2" xref="S4.F3.6.m3.1.2.1.cmml"><mo stretchy="false" id="S4.F3.6.m3.1.2.2.1" xref="S4.F3.6.m3.1.2.1.1.cmml">|</mo><mi id="S4.F3.6.m3.1.1" xref="S4.F3.6.m3.1.1.cmml">τ</mi><mo stretchy="false" id="S4.F3.6.m3.1.2.2.2" xref="S4.F3.6.m3.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.6.m3.1c"><apply id="S4.F3.6.m3.1.2.1.cmml" xref="S4.F3.6.m3.1.2.2"><abs id="S4.F3.6.m3.1.2.1.1.cmml" xref="S4.F3.6.m3.1.2.2.1"></abs><ci id="S4.F3.6.m3.1.1.cmml" xref="S4.F3.6.m3.1.1">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.6.m3.1d">|\tau|</annotation></semantics></math>, which is a trade-off between computation cost and model performance. Vary data updating <span id="S4.F3.11.1" class="ltx_text ltx_font_italic">steps</span> for (c) <span id="S4.F3.12.2" class="ltx_text ltx_font_typewriter">DIGITS</span> and (d) <span id="S4.F3.13.3" class="ltx_text ltx_font_typewriter">CIFAR10C</span>. One can observe that <span id="S4.F3.14.4" class="ltx_text ltx_font_smallcaps">FedLGD</span> yields consistent performance, and the accuracy tends to improve with an increasing number of local and global steps.</figcaption>
</figure>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Ablation studies for <span id="S4.SS4.1.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>
</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.2" class="ltx_p">The success of <span id="S4.SS4.p1.2.1" class="ltx_text ltx_font_smallcaps">FedLGD</span> relies on the novel design of local-global data distillation, where the selection of regularization loss and the number of iterations for data distillation plays a key role. In this section, we study the choice of regularization loss and its weighting (<math id="S4.SS4.p1.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS4.p1.1.m1.1a"><mi id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">\lambda</annotation></semantics></math>) in the total loss function. Recall that among the total FL training epochs, we perform local-global distillation on the selected <math id="S4.SS4.p1.2.m2.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S4.SS4.p1.2.m2.1a"><mi id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><ci id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">\tau</annotation></semantics></math> <span id="S4.SS4.p1.2.2" class="ltx_text ltx_font_italic">iterations</span>, and within each selected <span id="S4.SS4.p1.2.3" class="ltx_text ltx_font_italic">iteration</span>, the server and clients will perform data updating for some pre-defined <span id="S4.SS4.p1.2.4" class="ltx_text ltx_font_italic">steps</span>. The effect of local-global distillation <span id="S4.SS4.p1.2.5" class="ltx_text ltx_font_italic">iterations</span> and data updating <span id="S4.SS4.p1.2.6" class="ltx_text ltx_font_italic">steps</span> will also be discussed. We also perform additional ablation studies such as computation cost and communication overhead in Appendix <a href="#A3" title="Appendix C Additional Results and Ablation Studies for FedLGD ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2303.02278/assets/x7.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="128" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span><span id="S4.F4.2.1" class="ltx_text" style="font-size:90%;">tSNE plots on feature space for FedAvg, <span id="S4.F4.2.1.1" class="ltx_text ltx_font_smallcaps">FedLGD</span> without regularization, and <span id="S4.F4.2.1.2" class="ltx_text ltx_font_smallcaps">FedLGD</span>. One can observe regularizing training with our global virtual data can rectify feature shift among different clients.</span></figcaption>
</figure>
<div id="S4.SS4.p2" class="ltx_para ltx_noindent">
<p id="S4.SS4.p2.3" class="ltx_p"><span id="S4.SS4.p2.3.1" class="ltx_text ltx_font_bold">Effect of regularization loss.</span>
<span id="S4.SS4.p2.3.2" class="ltx_text ltx_font_smallcaps">FedLGD</span> uses supervised contrastive loss <math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\rm Con}" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><msub id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.1.m1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.2.cmml">ℒ</mi><mi id="S4.SS4.p2.1.m1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.3.cmml">Con</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><apply id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS4.p2.1.m1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.2">ℒ</ci><ci id="S4.SS4.p2.1.m1.1.1.3.cmml" xref="S4.SS4.p2.1.m1.1.1.3">Con</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">\mathcal{L}_{\rm Con}</annotation></semantics></math> as a regularization term to encourage local and global virtual data embedding into a similar feature space. To demonstrate the effectiveness of the regularization term in <span id="S4.SS4.p2.3.3" class="ltx_text ltx_font_smallcaps">FedLGD</span>, we perform ablation studies to replace <math id="S4.SS4.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{L}_{\rm Con}" display="inline"><semantics id="S4.SS4.p2.2.m2.1a"><msub id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.2.m2.1.1.2" xref="S4.SS4.p2.2.m2.1.1.2.cmml">ℒ</mi><mi id="S4.SS4.p2.2.m2.1.1.3" xref="S4.SS4.p2.2.m2.1.1.3.cmml">Con</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><apply id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS4.p2.2.m2.1.1.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2">ℒ</ci><ci id="S4.SS4.p2.2.m2.1.1.3.cmml" xref="S4.SS4.p2.2.m2.1.1.3">Con</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">\mathcal{L}_{\rm Con}</annotation></semantics></math> with an alternative distribution similarity measurement, MMD loss, with different <math id="S4.SS4.p2.3.m3.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS4.p2.3.m3.1a"><mi id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><ci id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">\lambda</annotation></semantics></math>’s ranging from 0.1 to 20. Figure <a href="#S4.F3.sf1" title="In Figure 3 ‣ 4.3 CIFAR10C Experiment ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3a</span></a> shows the average test accuracy. Using supervised contrastive loss gives us better and more stable performance with different coefficient choices.</p>
</div>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.2" class="ltx_p">To explain the effect of our proposed regularization loss on feature representations, we embed the latent features before fully-connected layers to a 2D space using tSNE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> shown in Figure <a href="#S4.F4" title="Figure 4 ‣ 4.4 Ablation studies for FedLGD ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. For the model trained with FedAvg (Figure <a href="#S4.F4" title="Figure 4 ‣ 4.4 Ablation studies for FedLGD ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(a)), features from two clients (<math id="S4.SS4.p3.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.SS4.p3.1.m1.1a"><mo id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.1b"><times id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.1c">\times</annotation></semantics></math> and <math id="S4.SS4.p3.2.m2.1" class="ltx_Math" alttext="\circ" display="inline"><semantics id="S4.SS4.p3.2.m2.1a"><mo id="S4.SS4.p3.2.m2.1.1" xref="S4.SS4.p3.2.m2.1.1.cmml">∘</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.2.m2.1b"><compose id="S4.SS4.p3.2.m2.1.1.cmml" xref="S4.SS4.p3.2.m2.1.1"></compose></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.2.m2.1c">\circ</annotation></semantics></math>) are closer to their own distribution regardless of the labels (colors). In Figure <a href="#S4.F4" title="Figure 4 ‣ 4.4 Ablation studies for FedLGD ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(b), we perform virtual FL training but without the regularization term (Eq. <a href="#S3.E4" title="In 3.3.1 Local Data Distillation ‣ 3.3 FL with Local-Global Dataset Distillation ‣ 3 Method ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>). Figure <a href="#S4.F4" title="Figure 4 ‣ 4.4 Ablation studies for FedLGD ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(c) shows <span id="S4.SS4.p3.2.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>, and one can observe that data from different clients with the same label are grouped together. This indicates that our regularization with global virtual data is useful for learning homogeneous feature representations.</p>
</div>
<div id="S4.SS4.p4" class="ltx_para ltx_noindent">
<p id="S4.SS4.p4.6" class="ltx_p"><span id="S4.SS4.p4.1.1" class="ltx_text ltx_font_bold">Analysis of distillation <span id="S4.SS4.p4.1.1.1" class="ltx_text ltx_font_italic">iterations</span> (<math id="S4.SS4.p4.1.1.m1.1" class="ltx_Math" alttext="|\tau|" display="inline"><semantics id="S4.SS4.p4.1.1.m1.1a"><mrow id="S4.SS4.p4.1.1.m1.1.2.2" xref="S4.SS4.p4.1.1.m1.1.2.1.cmml"><mo stretchy="false" id="S4.SS4.p4.1.1.m1.1.2.2.1" xref="S4.SS4.p4.1.1.m1.1.2.1.1.cmml">|</mo><mi id="S4.SS4.p4.1.1.m1.1.1" xref="S4.SS4.p4.1.1.m1.1.1.cmml">τ</mi><mo stretchy="false" id="S4.SS4.p4.1.1.m1.1.2.2.2" xref="S4.SS4.p4.1.1.m1.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.1.1.m1.1b"><apply id="S4.SS4.p4.1.1.m1.1.2.1.cmml" xref="S4.SS4.p4.1.1.m1.1.2.2"><abs id="S4.SS4.p4.1.1.m1.1.2.1.1.cmml" xref="S4.SS4.p4.1.1.m1.1.2.2.1"></abs><ci id="S4.SS4.p4.1.1.m1.1.1.cmml" xref="S4.SS4.p4.1.1.m1.1.1">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.1.1.m1.1c">|\tau|</annotation></semantics></math>).</span>
Figure <a href="#S4.F3.sf2" title="In Figure 3 ‣ 4.3 CIFAR10C Experiment ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3b</span></a> shows the improved averaged test accuracy if we increase the number of distillation iterations with <span id="S4.SS4.p4.6.2" class="ltx_text ltx_font_smallcaps">FedLGD</span>. The base accuracy for <span id="S4.SS4.p4.6.3" class="ltx_text ltx_font_typewriter">DIGITS</span> and <span id="S4.SS4.p4.6.4" class="ltx_text ltx_font_typewriter">CIFAR10C</span> are 85.8 and 55.2, respectively. We fix local and global update <span id="S4.SS4.p4.6.5" class="ltx_text ltx_font_italic">steps</span> to 100 and 500, and the selected iterations (<math id="S4.SS4.p4.2.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S4.SS4.p4.2.m1.1a"><mi id="S4.SS4.p4.2.m1.1.1" xref="S4.SS4.p4.2.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.2.m1.1b"><ci id="S4.SS4.p4.2.m1.1.1.cmml" xref="S4.SS4.p4.2.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.2.m1.1c">\tau</annotation></semantics></math>) are defined as arithmetic sequences with <math id="S4.SS4.p4.3.m2.1" class="ltx_Math" alttext="d=5" display="inline"><semantics id="S4.SS4.p4.3.m2.1a"><mrow id="S4.SS4.p4.3.m2.1.1" xref="S4.SS4.p4.3.m2.1.1.cmml"><mi id="S4.SS4.p4.3.m2.1.1.2" xref="S4.SS4.p4.3.m2.1.1.2.cmml">d</mi><mo id="S4.SS4.p4.3.m2.1.1.1" xref="S4.SS4.p4.3.m2.1.1.1.cmml">=</mo><mn id="S4.SS4.p4.3.m2.1.1.3" xref="S4.SS4.p4.3.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.3.m2.1b"><apply id="S4.SS4.p4.3.m2.1.1.cmml" xref="S4.SS4.p4.3.m2.1.1"><eq id="S4.SS4.p4.3.m2.1.1.1.cmml" xref="S4.SS4.p4.3.m2.1.1.1"></eq><ci id="S4.SS4.p4.3.m2.1.1.2.cmml" xref="S4.SS4.p4.3.m2.1.1.2">𝑑</ci><cn type="integer" id="S4.SS4.p4.3.m2.1.1.3.cmml" xref="S4.SS4.p4.3.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.3.m2.1c">d=5</annotation></semantics></math> (i.e., <math id="S4.SS4.p4.4.m3.3" class="ltx_Math" alttext="\tau=\{0,5,...\}" display="inline"><semantics id="S4.SS4.p4.4.m3.3a"><mrow id="S4.SS4.p4.4.m3.3.4" xref="S4.SS4.p4.4.m3.3.4.cmml"><mi id="S4.SS4.p4.4.m3.3.4.2" xref="S4.SS4.p4.4.m3.3.4.2.cmml">τ</mi><mo id="S4.SS4.p4.4.m3.3.4.1" xref="S4.SS4.p4.4.m3.3.4.1.cmml">=</mo><mrow id="S4.SS4.p4.4.m3.3.4.3.2" xref="S4.SS4.p4.4.m3.3.4.3.1.cmml"><mo stretchy="false" id="S4.SS4.p4.4.m3.3.4.3.2.1" xref="S4.SS4.p4.4.m3.3.4.3.1.cmml">{</mo><mn id="S4.SS4.p4.4.m3.1.1" xref="S4.SS4.p4.4.m3.1.1.cmml">0</mn><mo id="S4.SS4.p4.4.m3.3.4.3.2.2" xref="S4.SS4.p4.4.m3.3.4.3.1.cmml">,</mo><mn id="S4.SS4.p4.4.m3.2.2" xref="S4.SS4.p4.4.m3.2.2.cmml">5</mn><mo id="S4.SS4.p4.4.m3.3.4.3.2.3" xref="S4.SS4.p4.4.m3.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S4.SS4.p4.4.m3.3.3" xref="S4.SS4.p4.4.m3.3.3.cmml">…</mi><mo stretchy="false" id="S4.SS4.p4.4.m3.3.4.3.2.4" xref="S4.SS4.p4.4.m3.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.4.m3.3b"><apply id="S4.SS4.p4.4.m3.3.4.cmml" xref="S4.SS4.p4.4.m3.3.4"><eq id="S4.SS4.p4.4.m3.3.4.1.cmml" xref="S4.SS4.p4.4.m3.3.4.1"></eq><ci id="S4.SS4.p4.4.m3.3.4.2.cmml" xref="S4.SS4.p4.4.m3.3.4.2">𝜏</ci><set id="S4.SS4.p4.4.m3.3.4.3.1.cmml" xref="S4.SS4.p4.4.m3.3.4.3.2"><cn type="integer" id="S4.SS4.p4.4.m3.1.1.cmml" xref="S4.SS4.p4.4.m3.1.1">0</cn><cn type="integer" id="S4.SS4.p4.4.m3.2.2.cmml" xref="S4.SS4.p4.4.m3.2.2">5</cn><ci id="S4.SS4.p4.4.m3.3.3.cmml" xref="S4.SS4.p4.4.m3.3.3">…</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.4.m3.3c">\tau=\{0,5,...\}</annotation></semantics></math>). One can observe that the model performance improves with the increasing <math id="S4.SS4.p4.5.m4.1" class="ltx_Math" alttext="|\tau|" display="inline"><semantics id="S4.SS4.p4.5.m4.1a"><mrow id="S4.SS4.p4.5.m4.1.2.2" xref="S4.SS4.p4.5.m4.1.2.1.cmml"><mo stretchy="false" id="S4.SS4.p4.5.m4.1.2.2.1" xref="S4.SS4.p4.5.m4.1.2.1.1.cmml">|</mo><mi id="S4.SS4.p4.5.m4.1.1" xref="S4.SS4.p4.5.m4.1.1.cmml">τ</mi><mo stretchy="false" id="S4.SS4.p4.5.m4.1.2.2.2" xref="S4.SS4.p4.5.m4.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.5.m4.1b"><apply id="S4.SS4.p4.5.m4.1.2.1.cmml" xref="S4.SS4.p4.5.m4.1.2.2"><abs id="S4.SS4.p4.5.m4.1.2.1.1.cmml" xref="S4.SS4.p4.5.m4.1.2.2.1"></abs><ci id="S4.SS4.p4.5.m4.1.1.cmml" xref="S4.SS4.p4.5.m4.1.1">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.5.m4.1c">|\tau|</annotation></semantics></math>. This is because we obtain better virtual data with more local-global distillation iterations, which is a trade-off between computation cost and model performance. We select <math id="S4.SS4.p4.6.m5.1" class="ltx_Math" alttext="|\tau|=10" display="inline"><semantics id="S4.SS4.p4.6.m5.1a"><mrow id="S4.SS4.p4.6.m5.1.2" xref="S4.SS4.p4.6.m5.1.2.cmml"><mrow id="S4.SS4.p4.6.m5.1.2.2.2" xref="S4.SS4.p4.6.m5.1.2.2.1.cmml"><mo stretchy="false" id="S4.SS4.p4.6.m5.1.2.2.2.1" xref="S4.SS4.p4.6.m5.1.2.2.1.1.cmml">|</mo><mi id="S4.SS4.p4.6.m5.1.1" xref="S4.SS4.p4.6.m5.1.1.cmml">τ</mi><mo stretchy="false" id="S4.SS4.p4.6.m5.1.2.2.2.2" xref="S4.SS4.p4.6.m5.1.2.2.1.1.cmml">|</mo></mrow><mo id="S4.SS4.p4.6.m5.1.2.1" xref="S4.SS4.p4.6.m5.1.2.1.cmml">=</mo><mn id="S4.SS4.p4.6.m5.1.2.3" xref="S4.SS4.p4.6.m5.1.2.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.6.m5.1b"><apply id="S4.SS4.p4.6.m5.1.2.cmml" xref="S4.SS4.p4.6.m5.1.2"><eq id="S4.SS4.p4.6.m5.1.2.1.cmml" xref="S4.SS4.p4.6.m5.1.2.1"></eq><apply id="S4.SS4.p4.6.m5.1.2.2.1.cmml" xref="S4.SS4.p4.6.m5.1.2.2.2"><abs id="S4.SS4.p4.6.m5.1.2.2.1.1.cmml" xref="S4.SS4.p4.6.m5.1.2.2.2.1"></abs><ci id="S4.SS4.p4.6.m5.1.1.cmml" xref="S4.SS4.p4.6.m5.1.1">𝜏</ci></apply><cn type="integer" id="S4.SS4.p4.6.m5.1.2.3.cmml" xref="S4.SS4.p4.6.m5.1.2.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.6.m5.1c">|\tau|=10</annotation></semantics></math> for efficiency trade-off.</p>
</div>
<div id="S4.SS4.p5" class="ltx_para ltx_noindent">
<p id="S4.SS4.p5.1" class="ltx_p"><span id="S4.SS4.p5.1.1" class="ltx_text ltx_font_bold">Robustness on virtual data update <span id="S4.SS4.p5.1.1.1" class="ltx_text ltx_font_italic">steps</span>.</span>
In Figure <a href="#S4.F3.sf3" title="In Figure 3 ‣ 4.3 CIFAR10C Experiment ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3c</span></a> and Figure <a href="#S4.F3.sf4" title="In Figure 3 ‣ 4.3 CIFAR10C Experiment ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3d</span></a>, we fix <math id="S4.SS4.p5.1.m1.1" class="ltx_Math" alttext="|\tau|=10" display="inline"><semantics id="S4.SS4.p5.1.m1.1a"><mrow id="S4.SS4.p5.1.m1.1.2" xref="S4.SS4.p5.1.m1.1.2.cmml"><mrow id="S4.SS4.p5.1.m1.1.2.2.2" xref="S4.SS4.p5.1.m1.1.2.2.1.cmml"><mo stretchy="false" id="S4.SS4.p5.1.m1.1.2.2.2.1" xref="S4.SS4.p5.1.m1.1.2.2.1.1.cmml">|</mo><mi id="S4.SS4.p5.1.m1.1.1" xref="S4.SS4.p5.1.m1.1.1.cmml">τ</mi><mo stretchy="false" id="S4.SS4.p5.1.m1.1.2.2.2.2" xref="S4.SS4.p5.1.m1.1.2.2.1.1.cmml">|</mo></mrow><mo id="S4.SS4.p5.1.m1.1.2.1" xref="S4.SS4.p5.1.m1.1.2.1.cmml">=</mo><mn id="S4.SS4.p5.1.m1.1.2.3" xref="S4.SS4.p5.1.m1.1.2.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.1.m1.1b"><apply id="S4.SS4.p5.1.m1.1.2.cmml" xref="S4.SS4.p5.1.m1.1.2"><eq id="S4.SS4.p5.1.m1.1.2.1.cmml" xref="S4.SS4.p5.1.m1.1.2.1"></eq><apply id="S4.SS4.p5.1.m1.1.2.2.1.cmml" xref="S4.SS4.p5.1.m1.1.2.2.2"><abs id="S4.SS4.p5.1.m1.1.2.2.1.1.cmml" xref="S4.SS4.p5.1.m1.1.2.2.2.1"></abs><ci id="S4.SS4.p5.1.m1.1.1.cmml" xref="S4.SS4.p5.1.m1.1.1">𝜏</ci></apply><cn type="integer" id="S4.SS4.p5.1.m1.1.2.3.cmml" xref="S4.SS4.p5.1.m1.1.2.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.1.m1.1c">|\tau|=10</annotation></semantics></math>, and vary (local, global) data updating steps. One can observe that <span id="S4.SS4.p5.1.2" class="ltx_text ltx_font_smallcaps">FedLGD</span> yields stable performance, and the accuracy slightly improves with an increasing number of local and global steps. Nevertheless, the results are all the best when comparing with the baselines. It is also worth noting that there is still trade-off between <span id="S4.SS4.p5.1.3" class="ltx_text ltx_font_italic">steps</span> and computation cost (See Appendix).</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this paper, we introduce a new approach for FL, called <span id="S5.p1.1.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>. It utilizes virtual data on both client and server sides to train FL models. We are the first to reveal that FL on local virtual data can increase heterogeneity. Furthermore, we propose iterative distribution matching and federated gradient matching to iteratively update local and global virtual data, and apply global virtual regularization to effectively harmonize domain shift. Our experiments on benchmark and real medical datasets show that <span id="S5.p1.1.2" class="ltx_text ltx_font_smallcaps">FedLGD</span> outperforms current state-of-the-art methods in heterogeneous settings. Furthermore, <span id="S5.p1.1.3" class="ltx_text ltx_font_smallcaps">FedLGD</span> can be combined with other heterogenous FL methods such as FedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> and Scaffold <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> to further improve its performance. The potential limitation lies in the additional communication and computation cost in data distillation, but we show that the trade-off is acceptable and can be mitigated by decreasing distillation <span id="S5.p1.1.4" class="ltx_text ltx_font_italic">iterations</span> and <span id="S5.p1.1.5" class="ltx_text ltx_font_italic">steps</span>. Our future direction will be investigating privacy-preserving data generation.
We believe that this work sheds light on how to effectively mitigate data heterogeneity from a dataset distillation perspective and will inspire future work to enhance FL performance, privacy, and efficiency.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Abadi, M., Chu, A., Goodfellow, I., McMahan, H.B., Mironov, I., Talwar, K.,
Zhang, L.: Deep learning with differential privacy. In: Proceedings of the
2016 ACM SIGSAC conference on computer and communications security. pp.
308–318 (2016)

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Batista, F.J.F., Diaz-Aleman, T., Sigut, J., Alayon, S., Arnay, R.,
Angel-Pereira, D.: Rim-one dl: A unified retinal image database for assessing
glaucoma using deep learning. Image Analysis &amp; Stereology <span id="bib.bib2.1.1" class="ltx_text ltx_font_bold">39</span>(3),
161–167 (2020)

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Carlini, N., Chien, S., Nasr, M., Song, S., Terzis, A., Tramer, F.: Membership
inference attacks from first principles. In: 2022 IEEE Symposium on Security
and Privacy (SP). pp. 1897–1914. IEEE (2022)

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Carlini, N., Feldman, V., Nasr, M.: No free lunch in" privacy for free: How
does dataset condensation help privacy". arXiv preprint arXiv:2209.14987
(2022)

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Cazenavette, G., Wang, T., Torralba, A., Efros, A.A., Zhu, J.Y.: Dataset
distillation by matching training trajectories. In: Proceedings of the
IEEE/CVF Conference on Computer Vision and Pattern Recognition. pp.
4750–4759 (2022)

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Diaz-Pinto, A., Morales, S., Naranjo, V., Köhler, T., Mossi, J.M., Navea,
A.: Cnns for automatic glaucoma assessment using fundus images: an extensive
validation. Biomedical engineering online <span id="bib.bib6.1.1" class="ltx_text ltx_font_bold">18</span>(1), 1–19 (2019)

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Dong, T., Zhao, B., Lyu, L.: Privacy for free: How does dataset condensation
help privacy? arXiv preprint arXiv:2206.00240 (2022)

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Franceschi, J.Y., De Bézenac, E., Ayed, I., Chen, M., Lamprier, S.,
Gallinari, P.: A neural tangent kernel perspective of gans. In: International
Conference on Machine Learning. pp. 6660–6704. PMLR (2022)

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Ganin, Y., Lempitsky, V.: Unsupervised domain adaptation by backpropagation.
In: International conference on machine learning. pp. 1180–1189. PMLR (2015)

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Goetz, J., Tewari, A.: Federated learning via synthetic data. arXiv preprint
arXiv:2008.04489 (2020)

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Gretton, A., Borgwardt, K.M., Rasch, M.J., Schölkopf, B., Smola, A.: A
kernel two-sample test. The Journal of Machine Learning Research
<span id="bib.bib11.1.1" class="ltx_text ltx_font_bold">13</span>(1), 723–773 (2012)

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Hard, A., Rao, K., Mathews, R., Ramaswamy, S., Beaufays, F., Augenstein, S.,
Eichner, H., Kiddon, C., Ramage, D.: Federated learning for mobile keyboard
prediction. arXiv preprint arXiv:1811.03604 (2018)

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
He, K., Zhang, X., Ren, S., Sun, J.: Deep residual learning for image
recognition. In: Proceedings of the IEEE conference on computer vision and
pattern recognition. pp. 770–778 (2016)

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Hendrycks, D., Dietterich, T.: Benchmarking neural network robustness to common
corruptions and perturbations. arXiv preprint arXiv:1903.12261 (2019)

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Hsu, T.M.H., Qi, H., Brown, M.: Measuring the effects of non-identical data
distribution for federated visual classification. arXiv preprint
arXiv:1909.06335 (2019)

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Hu, S., Goetz, J., Malik, K., Zhan, H., Liu, Z., Liu, Y.: Fedsynth: Gradient
compression via synthetic data in federated learning. arXiv preprint
arXiv:2204.01273 (2022)

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Hull, J.J.: A database for handwritten text recognition research. IEEE
Transactions on pattern analysis and machine intelligence <span id="bib.bib17.1.1" class="ltx_text ltx_font_bold">16</span>(5),
550–554 (1994)

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Karimireddy, S.P., Kale, S., Mohri, M., Reddi, S., Stich, S., Suresh, A.T.:
Scaffold: Stochastic controlled averaging for federated learning. In:
International Conference on Machine Learning. pp. 5132–5143. PMLR (2020)

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Karras, T., Laine, S., Aila, T.: A style-based generator architecture for
generative adversarial networks. In: Proceedings of the IEEE/CVF conference
on computer vision and pattern recognition. pp. 4401–4410 (2019)

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Khosla, P., Teterwak, P., Wang, C., Sarna, A., Tian, Y., Isola, P., Maschinot,
A., Liu, C., Krishnan, D.: Supervised contrastive learning. Advances in
Neural Information Processing Systems <span id="bib.bib20.1.1" class="ltx_text ltx_font_bold">33</span>, 18661–18673 (2020)

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
LeCun, Y., Bottou, L., Bengio, Y., Haffner, P.: Gradient-based learning applied
to document recognition. Proceedings of the IEEE <span id="bib.bib21.1.1" class="ltx_text ltx_font_bold">86</span>(11),
2278–2324 (1998)

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Li, G., Togo, R., Ogawa, T., Haseyama, M.: Dataset distillation for medical
dataset sharing. arXiv preprint arXiv:2209.14603 (2022)

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Li, Q., Diao, Y., Chen, Q., He, B.: Federated learning on non-iid data silos:
An experimental study. arXiv preprint arXiv:2102.02079 (2021)

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Li, Q., He, B., Song, D.: Model-contrastive federated learning. In: Proceedings
of the IEEE/CVF Conference on Computer Vision and Pattern Recognition. pp.
10713–10722 (2021)

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Li, T., Sahu, A.K., Zaheer, M., Sanjabi, M., Talwalkar, A., Smith, V.:
Federated optimization in heterogeneous networks. Proceedings of Machine
Learning and Systems <span id="bib.bib25.1.1" class="ltx_text ltx_font_bold">2</span>, 429–450 (2020)

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Li, X., Huang, K., Yang, W., Wang, S., Zhang, Z.: On the convergence of fedavg
on non-iid data. International Conference on Learning Representations (2020)

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Lin, T., Kong, L., Stich, S.U., Jaggi, M.: Ensemble distillation for robust
model fusion in federated learning. Advances in Neural Information Processing
Systems <span id="bib.bib27.1.1" class="ltx_text ltx_font_bold">33</span>, 2351–2363 (2020)

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
Van der Maaten, L., Hinton, G.: Visualizing data using t-sne. Journal of
machine learning research <span id="bib.bib28.1.1" class="ltx_text ltx_font_bold">9</span>(11) (2008)

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
McMahan, B., Moore, E., Ramage, D., Hampson, S., y Arcas, B.A.:
Communication-efficient learning of deep networks from decentralized data.
In: Artificial intelligence and statistics. pp. 1273–1282. PMLR (2017)

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
Mohamadi, M.A., Sutherland, D.J.: A fast, well-founded approximation to the
empirical neural tangent kernel. arXiv preprint arXiv:2206.12543 (2022)

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
Netzer, Y., Wang, T., Coates, A., Bissacco, A., Wu, B., Ng, A.Y.: Reading
digits in natural images with unsupervised feature learning (2011)

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
Orlando, J.I., Fu, H., Breda, J.B., van Keer, K., Bathula, D.R., Diaz-Pinto,
A., Fang, R., Heng, P.A., Kim, J., Lee, J., et al.: Refuge challenge: A
unified framework for evaluating automated methods for glaucoma assessment
from fundus photographs. Medical image analysis <span id="bib.bib32.1.1" class="ltx_text ltx_font_bold">59</span>, 101570 (2020)

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
Sachdeva, N., McAuley, J.: Data distillation: A survey. arXiv preprint
arXiv:2301.04272 (2023)

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
Schuster, A.K., Erb, C., Hoffmann, E.M., Dietlein, T., Pfeiffer, N.: The
diagnosis and treatment of glaucoma. Deutsches Ärzteblatt International
<span id="bib.bib34.1.1" class="ltx_text ltx_font_bold">117</span>(13),  225 (2020)

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
Shokri, R., Stronati, M., Song, C., Shmatikov, V.: Membership inference attacks
against machine learning models. In: 2017 IEEE symposium on security and
privacy (SP). pp. 3–18. IEEE (2017)

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
Sivaswamy, J., Krishnadas, S., Joshi, G.D., Jain, M., Tabish, A.U.S.:
Drishti-gs: Retinal image dataset for optic nerve head (onh) segmentation.
In: 2014 IEEE 11th international symposium on biomedical imaging (ISBI). pp.
53–56. IEEE (2014)

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
Tang, Z., Zhang, Y., Shi, S., He, X., Han, B., Chu, X.: Virtual homogeneity
learning: Defending against data heterogeneity in federated learning. arXiv
preprint arXiv:2206.02465 (2022)

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
Wang, J., Liu, Q., Liang, H., Joshi, G., Poor, H.V.: Tackling the objective
inconsistency problem in heterogeneous federated optimization. Advances in
neural information processing systems <span id="bib.bib38.1.1" class="ltx_text ltx_font_bold">33</span>, 7611–7623 (2020)

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
Wang, T., Zhu, J.Y., Torralba, A., Efros, A.A.: Dataset distillation. arXiv
preprint arXiv:1811.10959 (2018)

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock">
Xiong, Y., Wang, R., Cheng, M., Yu, F., Hsieh, C.J.: Feddm: Iterative
distribution matching for communication-efficient federated learning. arXiv
preprint arXiv:2207.09653 (2022)

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock">
Xu, J., Glicksberg, B.S., Su, C., Walker, P., Bian, J., Wang, F.: Federated
learning for healthcare informatics. Journal of Healthcare Informatics
Research <span id="bib.bib41.1.1" class="ltx_text ltx_font_bold">5</span>, 1–19 (2021)

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock">
Ye, R., Ni, Z., Xu, C., Wang, J., Chen, S., Eldar, Y.C.: Fedfm: Anchor-based
feature matching for data heterogeneity in federated learning. arXiv preprint
arXiv:2210.07615 (2022)

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock">
Zhang, L., Shen, L., Ding, L., Tao, D., Duan, L.Y.: Fine-tuning global model
via data-free knowledge distillation for non-iid federated learning. In:
Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern
Recognition. pp. 10174–10183 (2022)

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock">
Zhao, B., Bilen, H.: Dataset condensation with differentiable siamese
augmentation. In: International Conference on Machine Learning. pp.
12674–12685. PMLR (2021)

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock">
Zhao, B., Bilen, H.: Dataset condensation with distribution matching. In:
Proceedings of the IEEE/CVF Winter Conference on Applications of Computer
Vision. pp. 6514–6523 (2023)

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[46]</span>
<span class="ltx_bibblock">
Zhao, B., Mopuri, K.R., Bilen, H.: Dataset condensation with gradient matching.
ICLR <span id="bib.bib46.1.1" class="ltx_text ltx_font_bold">1</span>(2),  3 (2021)

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[47]</span>
<span class="ltx_bibblock">
Zhou, T., Zhang, J., Tsang, D.: Fedfa: Federated learning with feature anchors
to align feature and classifier for heterogeneous data. arXiv preprint
arXiv:2211.09299 (2022)

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[48]</span>
<span class="ltx_bibblock">
Zhu, H., Xu, J., Liu, S., Jin, Y.: Federated learning on non-iid data: A
survey. Neurocomputing <span id="bib.bib48.1.1" class="ltx_text ltx_font_bold">465</span>, 371–390 (2021)

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[49]</span>
<span class="ltx_bibblock">
Zhu, L., Liu, Z., Han, S.: Deep leakage from gradients. Advances in neural
information processing systems <span id="bib.bib49.1.1" class="ltx_text ltx_font_bold">32</span> (2019)

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<div id="p1" class="ltx_para">
<p id="p1.1" class="ltx_p"><span id="p1.1.1" class="ltx_text ltx_font_bold">Road Map of Appendix</span>
Our appendix is organized into five sections. The notation table is in Appendix <a href="#A1" title="Appendix A Notation Table ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>, which contains the mathematical notation and Algorithm <a href="#alg1" title="Algorithm 1 ‣ Appendix A Notation Table ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, which outlines the pipeline of <span id="p1.1.2" class="ltx_text ltx_font_smallcaps">FedLGD</span>. Appendix <a href="#A2" title="Appendix B Experiment Results on Real-world Dataset ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a> shows the results for <span id="p1.1.3" class="ltx_text ltx_font_typewriter">RETINA</span>, a real-world medical dataset. Appendix <a href="#A3" title="Appendix C Additional Results and Ablation Studies for FedLGD ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a> provides a list of ablation studies to analyze <span id="p1.1.4" class="ltx_text ltx_font_smallcaps">FedLGD</span>, including computation cost, communication overhead, convergence rate, and hyper-parameter choices. Appendix <a href="#A4" title="Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D</span></a> lists the details of our experiments: <a href="#A4.SS1" title="D.1 Visualization of the original images ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D.1</span></a> visualizes the original sample images used in our experiments; <a href="#A4.SS2" title="D.2 Visualization of our distilled global and local images ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D.2</span></a> visualizes the local and global distilled images; <a href="#A4.SS3" title="D.3 Visualization of the heterogeneity of the datasets ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D.3</span></a> shows the pixel histogram for the <span id="p1.1.5" class="ltx_text ltx_font_typewriter">DIGITS</span> and <span id="p1.1.6" class="ltx_text ltx_font_typewriter">RETINA</span> datasets for visualizing the heterogeneity of them; <a href="#A4.SS4" title="D.4 Model architecture ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D.4</span></a> shows the model architectures that we used in the experiments; <a href="#A4.SS5" title="D.5 Training details ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D.5</span></a> contains the hyper-parameters that we used to conduct all experiments;
 <a href="#A4.SS6" title="D.6 Membership Inference Attack ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D.6</span></a> provides experiments and analysis for the privacy of <span id="p1.1.7" class="ltx_text ltx_font_smallcaps">FedLGD</span> through membership inference attack. Finally, Appendix <a href="#A5" title="Appendix E Other Heterogeneous Federated Learning Methods Used in Comparison ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">E</span></a> provides a detailed literature review and implementation of the state-of-the-art heterogeneous FL strategies. Our code and model checkpoints are available in this anonymous link: <a target="_blank" href="https://drive.google.com/drive/folders/1Hpy8kgPtxC_NMqK6eALwukFZJB7yf8Vl?usp=sharing" title="" class="ltx_ref ltx_href">https://drive.google.com/drive/folders/1Hpy8kgPtxC_NMqK6eALwukFZJB7yf8Vl?usp=sharing</a><span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>The link was created by a new and anonymous account without leaking any identifiable information.</span></span></span>.</p>
</div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Notation Table</h2>

<figure id="A1.T3" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Important notations used in the paper.</figcaption>
<table id="A1.T3.19" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A1.T3.19.20.1" class="ltx_tr">
<th id="A1.T3.19.20.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt">Notations</th>
<th id="A1.T3.19.20.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">Description</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A1.T3.1.1" class="ltx_tr">
<th id="A1.T3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t"><math id="A1.T3.1.1.1.m1.1" class="ltx_Math" alttext="d" display="inline"><semantics id="A1.T3.1.1.1.m1.1a"><mi id="A1.T3.1.1.1.m1.1.1" xref="A1.T3.1.1.1.m1.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="A1.T3.1.1.1.m1.1b"><ci id="A1.T3.1.1.1.m1.1.1.cmml" xref="A1.T3.1.1.1.m1.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.1.1.1.m1.1c">d</annotation></semantics></math></th>
<td id="A1.T3.1.1.2" class="ltx_td ltx_align_left ltx_border_t">input dimension</td>
</tr>
<tr id="A1.T3.2.2" class="ltx_tr">
<th id="A1.T3.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.2.2.1.m1.1" class="ltx_Math" alttext="d^{\prime}" display="inline"><semantics id="A1.T3.2.2.1.m1.1a"><msup id="A1.T3.2.2.1.m1.1.1" xref="A1.T3.2.2.1.m1.1.1.cmml"><mi id="A1.T3.2.2.1.m1.1.1.2" xref="A1.T3.2.2.1.m1.1.1.2.cmml">d</mi><mo id="A1.T3.2.2.1.m1.1.1.3" xref="A1.T3.2.2.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="A1.T3.2.2.1.m1.1b"><apply id="A1.T3.2.2.1.m1.1.1.cmml" xref="A1.T3.2.2.1.m1.1.1"><csymbol cd="ambiguous" id="A1.T3.2.2.1.m1.1.1.1.cmml" xref="A1.T3.2.2.1.m1.1.1">superscript</csymbol><ci id="A1.T3.2.2.1.m1.1.1.2.cmml" xref="A1.T3.2.2.1.m1.1.1.2">𝑑</ci><ci id="A1.T3.2.2.1.m1.1.1.3.cmml" xref="A1.T3.2.2.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.2.2.1.m1.1c">d^{\prime}</annotation></semantics></math></th>
<td id="A1.T3.2.2.2" class="ltx_td ltx_align_left">feature dimension</td>
</tr>
<tr id="A1.T3.3.3" class="ltx_tr">
<th id="A1.T3.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.3.3.1.m1.1" class="ltx_Math" alttext="f^{\theta}" display="inline"><semantics id="A1.T3.3.3.1.m1.1a"><msup id="A1.T3.3.3.1.m1.1.1" xref="A1.T3.3.3.1.m1.1.1.cmml"><mi id="A1.T3.3.3.1.m1.1.1.2" xref="A1.T3.3.3.1.m1.1.1.2.cmml">f</mi><mi id="A1.T3.3.3.1.m1.1.1.3" xref="A1.T3.3.3.1.m1.1.1.3.cmml">θ</mi></msup><annotation-xml encoding="MathML-Content" id="A1.T3.3.3.1.m1.1b"><apply id="A1.T3.3.3.1.m1.1.1.cmml" xref="A1.T3.3.3.1.m1.1.1"><csymbol cd="ambiguous" id="A1.T3.3.3.1.m1.1.1.1.cmml" xref="A1.T3.3.3.1.m1.1.1">superscript</csymbol><ci id="A1.T3.3.3.1.m1.1.1.2.cmml" xref="A1.T3.3.3.1.m1.1.1.2">𝑓</ci><ci id="A1.T3.3.3.1.m1.1.1.3.cmml" xref="A1.T3.3.3.1.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.3.3.1.m1.1c">f^{\theta}</annotation></semantics></math></th>
<td id="A1.T3.3.3.2" class="ltx_td ltx_align_left">global model</td>
</tr>
<tr id="A1.T3.4.4" class="ltx_tr">
<th id="A1.T3.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.4.4.1.m1.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="A1.T3.4.4.1.m1.1a"><mi id="A1.T3.4.4.1.m1.1.1" xref="A1.T3.4.4.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="A1.T3.4.4.1.m1.1b"><ci id="A1.T3.4.4.1.m1.1.1.cmml" xref="A1.T3.4.4.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.4.4.1.m1.1c">\theta</annotation></semantics></math></th>
<td id="A1.T3.4.4.2" class="ltx_td ltx_align_left">model parameters</td>
</tr>
<tr id="A1.T3.5.5" class="ltx_tr">
<th id="A1.T3.5.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.5.5.1.m1.1" class="ltx_Math" alttext="\psi" display="inline"><semantics id="A1.T3.5.5.1.m1.1a"><mi id="A1.T3.5.5.1.m1.1.1" xref="A1.T3.5.5.1.m1.1.1.cmml">ψ</mi><annotation-xml encoding="MathML-Content" id="A1.T3.5.5.1.m1.1b"><ci id="A1.T3.5.5.1.m1.1.1.cmml" xref="A1.T3.5.5.1.m1.1.1">𝜓</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.5.5.1.m1.1c">\psi</annotation></semantics></math></th>
<td id="A1.T3.5.5.2" class="ltx_td ltx_align_left">feature extractor</td>
</tr>
<tr id="A1.T3.6.6" class="ltx_tr">
<th id="A1.T3.6.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.6.6.1.m1.1" class="ltx_Math" alttext="h" display="inline"><semantics id="A1.T3.6.6.1.m1.1a"><mi id="A1.T3.6.6.1.m1.1.1" xref="A1.T3.6.6.1.m1.1.1.cmml">h</mi><annotation-xml encoding="MathML-Content" id="A1.T3.6.6.1.m1.1b"><ci id="A1.T3.6.6.1.m1.1.1.cmml" xref="A1.T3.6.6.1.m1.1.1">ℎ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.6.6.1.m1.1c">h</annotation></semantics></math></th>
<td id="A1.T3.6.6.2" class="ltx_td ltx_align_left">projection head</td>
</tr>
<tr id="A1.T3.7.7" class="ltx_tr">
<th id="A1.T3.7.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.7.7.1.m1.2" class="ltx_Math" alttext="D^{g},D^{c}" display="inline"><semantics id="A1.T3.7.7.1.m1.2a"><mrow id="A1.T3.7.7.1.m1.2.2.2" xref="A1.T3.7.7.1.m1.2.2.3.cmml"><msup id="A1.T3.7.7.1.m1.1.1.1.1" xref="A1.T3.7.7.1.m1.1.1.1.1.cmml"><mi id="A1.T3.7.7.1.m1.1.1.1.1.2" xref="A1.T3.7.7.1.m1.1.1.1.1.2.cmml">D</mi><mi id="A1.T3.7.7.1.m1.1.1.1.1.3" xref="A1.T3.7.7.1.m1.1.1.1.1.3.cmml">g</mi></msup><mo id="A1.T3.7.7.1.m1.2.2.2.3" xref="A1.T3.7.7.1.m1.2.2.3.cmml">,</mo><msup id="A1.T3.7.7.1.m1.2.2.2.2" xref="A1.T3.7.7.1.m1.2.2.2.2.cmml"><mi id="A1.T3.7.7.1.m1.2.2.2.2.2" xref="A1.T3.7.7.1.m1.2.2.2.2.2.cmml">D</mi><mi id="A1.T3.7.7.1.m1.2.2.2.2.3" xref="A1.T3.7.7.1.m1.2.2.2.2.3.cmml">c</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.T3.7.7.1.m1.2b"><list id="A1.T3.7.7.1.m1.2.2.3.cmml" xref="A1.T3.7.7.1.m1.2.2.2"><apply id="A1.T3.7.7.1.m1.1.1.1.1.cmml" xref="A1.T3.7.7.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="A1.T3.7.7.1.m1.1.1.1.1.1.cmml" xref="A1.T3.7.7.1.m1.1.1.1.1">superscript</csymbol><ci id="A1.T3.7.7.1.m1.1.1.1.1.2.cmml" xref="A1.T3.7.7.1.m1.1.1.1.1.2">𝐷</ci><ci id="A1.T3.7.7.1.m1.1.1.1.1.3.cmml" xref="A1.T3.7.7.1.m1.1.1.1.1.3">𝑔</ci></apply><apply id="A1.T3.7.7.1.m1.2.2.2.2.cmml" xref="A1.T3.7.7.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="A1.T3.7.7.1.m1.2.2.2.2.1.cmml" xref="A1.T3.7.7.1.m1.2.2.2.2">superscript</csymbol><ci id="A1.T3.7.7.1.m1.2.2.2.2.2.cmml" xref="A1.T3.7.7.1.m1.2.2.2.2.2">𝐷</ci><ci id="A1.T3.7.7.1.m1.2.2.2.2.3.cmml" xref="A1.T3.7.7.1.m1.2.2.2.2.3">𝑐</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.7.7.1.m1.2c">D^{g},D^{c}</annotation></semantics></math></th>
<td id="A1.T3.7.7.2" class="ltx_td ltx_align_left">original global and local data</td>
</tr>
<tr id="A1.T3.8.8" class="ltx_tr">
<th id="A1.T3.8.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.8.8.1.m1.2" class="ltx_Math" alttext="\tilde{D}^{g},\tilde{D}^{c}" display="inline"><semantics id="A1.T3.8.8.1.m1.2a"><mrow id="A1.T3.8.8.1.m1.2.2.2" xref="A1.T3.8.8.1.m1.2.2.3.cmml"><msup id="A1.T3.8.8.1.m1.1.1.1.1" xref="A1.T3.8.8.1.m1.1.1.1.1.cmml"><mover accent="true" id="A1.T3.8.8.1.m1.1.1.1.1.2" xref="A1.T3.8.8.1.m1.1.1.1.1.2.cmml"><mi id="A1.T3.8.8.1.m1.1.1.1.1.2.2" xref="A1.T3.8.8.1.m1.1.1.1.1.2.2.cmml">D</mi><mo id="A1.T3.8.8.1.m1.1.1.1.1.2.1" xref="A1.T3.8.8.1.m1.1.1.1.1.2.1.cmml">~</mo></mover><mi id="A1.T3.8.8.1.m1.1.1.1.1.3" xref="A1.T3.8.8.1.m1.1.1.1.1.3.cmml">g</mi></msup><mo id="A1.T3.8.8.1.m1.2.2.2.3" xref="A1.T3.8.8.1.m1.2.2.3.cmml">,</mo><msup id="A1.T3.8.8.1.m1.2.2.2.2" xref="A1.T3.8.8.1.m1.2.2.2.2.cmml"><mover accent="true" id="A1.T3.8.8.1.m1.2.2.2.2.2" xref="A1.T3.8.8.1.m1.2.2.2.2.2.cmml"><mi id="A1.T3.8.8.1.m1.2.2.2.2.2.2" xref="A1.T3.8.8.1.m1.2.2.2.2.2.2.cmml">D</mi><mo id="A1.T3.8.8.1.m1.2.2.2.2.2.1" xref="A1.T3.8.8.1.m1.2.2.2.2.2.1.cmml">~</mo></mover><mi id="A1.T3.8.8.1.m1.2.2.2.2.3" xref="A1.T3.8.8.1.m1.2.2.2.2.3.cmml">c</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.T3.8.8.1.m1.2b"><list id="A1.T3.8.8.1.m1.2.2.3.cmml" xref="A1.T3.8.8.1.m1.2.2.2"><apply id="A1.T3.8.8.1.m1.1.1.1.1.cmml" xref="A1.T3.8.8.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="A1.T3.8.8.1.m1.1.1.1.1.1.cmml" xref="A1.T3.8.8.1.m1.1.1.1.1">superscript</csymbol><apply id="A1.T3.8.8.1.m1.1.1.1.1.2.cmml" xref="A1.T3.8.8.1.m1.1.1.1.1.2"><ci id="A1.T3.8.8.1.m1.1.1.1.1.2.1.cmml" xref="A1.T3.8.8.1.m1.1.1.1.1.2.1">~</ci><ci id="A1.T3.8.8.1.m1.1.1.1.1.2.2.cmml" xref="A1.T3.8.8.1.m1.1.1.1.1.2.2">𝐷</ci></apply><ci id="A1.T3.8.8.1.m1.1.1.1.1.3.cmml" xref="A1.T3.8.8.1.m1.1.1.1.1.3">𝑔</ci></apply><apply id="A1.T3.8.8.1.m1.2.2.2.2.cmml" xref="A1.T3.8.8.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="A1.T3.8.8.1.m1.2.2.2.2.1.cmml" xref="A1.T3.8.8.1.m1.2.2.2.2">superscript</csymbol><apply id="A1.T3.8.8.1.m1.2.2.2.2.2.cmml" xref="A1.T3.8.8.1.m1.2.2.2.2.2"><ci id="A1.T3.8.8.1.m1.2.2.2.2.2.1.cmml" xref="A1.T3.8.8.1.m1.2.2.2.2.2.1">~</ci><ci id="A1.T3.8.8.1.m1.2.2.2.2.2.2.cmml" xref="A1.T3.8.8.1.m1.2.2.2.2.2.2">𝐷</ci></apply><ci id="A1.T3.8.8.1.m1.2.2.2.2.3.cmml" xref="A1.T3.8.8.1.m1.2.2.2.2.3">𝑐</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.8.8.1.m1.2c">\tilde{D}^{g},\tilde{D}^{c}</annotation></semantics></math></th>
<td id="A1.T3.8.8.2" class="ltx_td ltx_align_left">global and local synthetic data</td>
</tr>
<tr id="A1.T3.9.9" class="ltx_tr">
<th id="A1.T3.9.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.9.9.1.m1.2" class="ltx_Math" alttext="\tilde{f}^{g},\tilde{f}^{c}" display="inline"><semantics id="A1.T3.9.9.1.m1.2a"><mrow id="A1.T3.9.9.1.m1.2.2.2" xref="A1.T3.9.9.1.m1.2.2.3.cmml"><msup id="A1.T3.9.9.1.m1.1.1.1.1" xref="A1.T3.9.9.1.m1.1.1.1.1.cmml"><mover accent="true" id="A1.T3.9.9.1.m1.1.1.1.1.2" xref="A1.T3.9.9.1.m1.1.1.1.1.2.cmml"><mi id="A1.T3.9.9.1.m1.1.1.1.1.2.2" xref="A1.T3.9.9.1.m1.1.1.1.1.2.2.cmml">f</mi><mo id="A1.T3.9.9.1.m1.1.1.1.1.2.1" xref="A1.T3.9.9.1.m1.1.1.1.1.2.1.cmml">~</mo></mover><mi id="A1.T3.9.9.1.m1.1.1.1.1.3" xref="A1.T3.9.9.1.m1.1.1.1.1.3.cmml">g</mi></msup><mo id="A1.T3.9.9.1.m1.2.2.2.3" xref="A1.T3.9.9.1.m1.2.2.3.cmml">,</mo><msup id="A1.T3.9.9.1.m1.2.2.2.2" xref="A1.T3.9.9.1.m1.2.2.2.2.cmml"><mover accent="true" id="A1.T3.9.9.1.m1.2.2.2.2.2" xref="A1.T3.9.9.1.m1.2.2.2.2.2.cmml"><mi id="A1.T3.9.9.1.m1.2.2.2.2.2.2" xref="A1.T3.9.9.1.m1.2.2.2.2.2.2.cmml">f</mi><mo id="A1.T3.9.9.1.m1.2.2.2.2.2.1" xref="A1.T3.9.9.1.m1.2.2.2.2.2.1.cmml">~</mo></mover><mi id="A1.T3.9.9.1.m1.2.2.2.2.3" xref="A1.T3.9.9.1.m1.2.2.2.2.3.cmml">c</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.T3.9.9.1.m1.2b"><list id="A1.T3.9.9.1.m1.2.2.3.cmml" xref="A1.T3.9.9.1.m1.2.2.2"><apply id="A1.T3.9.9.1.m1.1.1.1.1.cmml" xref="A1.T3.9.9.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="A1.T3.9.9.1.m1.1.1.1.1.1.cmml" xref="A1.T3.9.9.1.m1.1.1.1.1">superscript</csymbol><apply id="A1.T3.9.9.1.m1.1.1.1.1.2.cmml" xref="A1.T3.9.9.1.m1.1.1.1.1.2"><ci id="A1.T3.9.9.1.m1.1.1.1.1.2.1.cmml" xref="A1.T3.9.9.1.m1.1.1.1.1.2.1">~</ci><ci id="A1.T3.9.9.1.m1.1.1.1.1.2.2.cmml" xref="A1.T3.9.9.1.m1.1.1.1.1.2.2">𝑓</ci></apply><ci id="A1.T3.9.9.1.m1.1.1.1.1.3.cmml" xref="A1.T3.9.9.1.m1.1.1.1.1.3">𝑔</ci></apply><apply id="A1.T3.9.9.1.m1.2.2.2.2.cmml" xref="A1.T3.9.9.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="A1.T3.9.9.1.m1.2.2.2.2.1.cmml" xref="A1.T3.9.9.1.m1.2.2.2.2">superscript</csymbol><apply id="A1.T3.9.9.1.m1.2.2.2.2.2.cmml" xref="A1.T3.9.9.1.m1.2.2.2.2.2"><ci id="A1.T3.9.9.1.m1.2.2.2.2.2.1.cmml" xref="A1.T3.9.9.1.m1.2.2.2.2.2.1">~</ci><ci id="A1.T3.9.9.1.m1.2.2.2.2.2.2.cmml" xref="A1.T3.9.9.1.m1.2.2.2.2.2.2">𝑓</ci></apply><ci id="A1.T3.9.9.1.m1.2.2.2.2.3.cmml" xref="A1.T3.9.9.1.m1.2.2.2.2.3">𝑐</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.9.9.1.m1.2c">\tilde{f}^{g},\tilde{f}^{c}</annotation></semantics></math></th>
<td id="A1.T3.9.9.2" class="ltx_td ltx_align_left">features of global and local synthetic data</td>
</tr>
<tr id="A1.T3.10.10" class="ltx_tr">
<th id="A1.T3.10.10.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.10.10.1.m1.1" class="ltx_Math" alttext="\mathcal{L_{\rm total}}" display="inline"><semantics id="A1.T3.10.10.1.m1.1a"><msub id="A1.T3.10.10.1.m1.1.1" xref="A1.T3.10.10.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.T3.10.10.1.m1.1.1.2" xref="A1.T3.10.10.1.m1.1.1.2.cmml">ℒ</mi><mi id="A1.T3.10.10.1.m1.1.1.3" xref="A1.T3.10.10.1.m1.1.1.3.cmml">total</mi></msub><annotation-xml encoding="MathML-Content" id="A1.T3.10.10.1.m1.1b"><apply id="A1.T3.10.10.1.m1.1.1.cmml" xref="A1.T3.10.10.1.m1.1.1"><csymbol cd="ambiguous" id="A1.T3.10.10.1.m1.1.1.1.cmml" xref="A1.T3.10.10.1.m1.1.1">subscript</csymbol><ci id="A1.T3.10.10.1.m1.1.1.2.cmml" xref="A1.T3.10.10.1.m1.1.1.2">ℒ</ci><ci id="A1.T3.10.10.1.m1.1.1.3.cmml" xref="A1.T3.10.10.1.m1.1.1.3">total</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.10.10.1.m1.1c">\mathcal{L_{\rm total}}</annotation></semantics></math></th>
<td id="A1.T3.10.10.2" class="ltx_td ltx_align_left">total loss function for virtual federated training</td>
</tr>
<tr id="A1.T3.11.11" class="ltx_tr">
<th id="A1.T3.11.11.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.11.11.1.m1.1" class="ltx_Math" alttext="\mathcal{L_{\rm CE}}" display="inline"><semantics id="A1.T3.11.11.1.m1.1a"><msub id="A1.T3.11.11.1.m1.1.1" xref="A1.T3.11.11.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.T3.11.11.1.m1.1.1.2" xref="A1.T3.11.11.1.m1.1.1.2.cmml">ℒ</mi><mi id="A1.T3.11.11.1.m1.1.1.3" xref="A1.T3.11.11.1.m1.1.1.3.cmml">CE</mi></msub><annotation-xml encoding="MathML-Content" id="A1.T3.11.11.1.m1.1b"><apply id="A1.T3.11.11.1.m1.1.1.cmml" xref="A1.T3.11.11.1.m1.1.1"><csymbol cd="ambiguous" id="A1.T3.11.11.1.m1.1.1.1.cmml" xref="A1.T3.11.11.1.m1.1.1">subscript</csymbol><ci id="A1.T3.11.11.1.m1.1.1.2.cmml" xref="A1.T3.11.11.1.m1.1.1.2">ℒ</ci><ci id="A1.T3.11.11.1.m1.1.1.3.cmml" xref="A1.T3.11.11.1.m1.1.1.3">CE</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.11.11.1.m1.1c">\mathcal{L_{\rm CE}}</annotation></semantics></math></th>
<td id="A1.T3.11.11.2" class="ltx_td ltx_align_left">cross-entropy loss</td>
</tr>
<tr id="A1.T3.12.12" class="ltx_tr">
<th id="A1.T3.12.12.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.12.12.1.m1.1" class="ltx_Math" alttext="\mathcal{L_{\rm Dist}}" display="inline"><semantics id="A1.T3.12.12.1.m1.1a"><msub id="A1.T3.12.12.1.m1.1.1" xref="A1.T3.12.12.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.T3.12.12.1.m1.1.1.2" xref="A1.T3.12.12.1.m1.1.1.2.cmml">ℒ</mi><mi id="A1.T3.12.12.1.m1.1.1.3" xref="A1.T3.12.12.1.m1.1.1.3.cmml">Dist</mi></msub><annotation-xml encoding="MathML-Content" id="A1.T3.12.12.1.m1.1b"><apply id="A1.T3.12.12.1.m1.1.1.cmml" xref="A1.T3.12.12.1.m1.1.1"><csymbol cd="ambiguous" id="A1.T3.12.12.1.m1.1.1.1.cmml" xref="A1.T3.12.12.1.m1.1.1">subscript</csymbol><ci id="A1.T3.12.12.1.m1.1.1.2.cmml" xref="A1.T3.12.12.1.m1.1.1.2">ℒ</ci><ci id="A1.T3.12.12.1.m1.1.1.3.cmml" xref="A1.T3.12.12.1.m1.1.1.3">Dist</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.12.12.1.m1.1c">\mathcal{L_{\rm Dist}}</annotation></semantics></math></th>
<td id="A1.T3.12.12.2" class="ltx_td ltx_align_left">Distance loss for gradient matching</td>
</tr>
<tr id="A1.T3.13.13" class="ltx_tr">
<th id="A1.T3.13.13.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.13.13.1.m1.1" class="ltx_Math" alttext="\mathcal{L_{\rm MMD}}" display="inline"><semantics id="A1.T3.13.13.1.m1.1a"><msub id="A1.T3.13.13.1.m1.1.1" xref="A1.T3.13.13.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.T3.13.13.1.m1.1.1.2" xref="A1.T3.13.13.1.m1.1.1.2.cmml">ℒ</mi><mi id="A1.T3.13.13.1.m1.1.1.3" xref="A1.T3.13.13.1.m1.1.1.3.cmml">MMD</mi></msub><annotation-xml encoding="MathML-Content" id="A1.T3.13.13.1.m1.1b"><apply id="A1.T3.13.13.1.m1.1.1.cmml" xref="A1.T3.13.13.1.m1.1.1"><csymbol cd="ambiguous" id="A1.T3.13.13.1.m1.1.1.1.cmml" xref="A1.T3.13.13.1.m1.1.1">subscript</csymbol><ci id="A1.T3.13.13.1.m1.1.1.2.cmml" xref="A1.T3.13.13.1.m1.1.1.2">ℒ</ci><ci id="A1.T3.13.13.1.m1.1.1.3.cmml" xref="A1.T3.13.13.1.m1.1.1.3">MMD</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.13.13.1.m1.1c">\mathcal{L_{\rm MMD}}</annotation></semantics></math></th>
<td id="A1.T3.13.13.2" class="ltx_td ltx_align_left">MMD loss for distribution matching</td>
</tr>
<tr id="A1.T3.14.14" class="ltx_tr">
<th id="A1.T3.14.14.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.14.14.1.m1.1" class="ltx_Math" alttext="\mathcal{L_{\rm Con}}" display="inline"><semantics id="A1.T3.14.14.1.m1.1a"><msub id="A1.T3.14.14.1.m1.1.1" xref="A1.T3.14.14.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.T3.14.14.1.m1.1.1.2" xref="A1.T3.14.14.1.m1.1.1.2.cmml">ℒ</mi><mi id="A1.T3.14.14.1.m1.1.1.3" xref="A1.T3.14.14.1.m1.1.1.3.cmml">Con</mi></msub><annotation-xml encoding="MathML-Content" id="A1.T3.14.14.1.m1.1b"><apply id="A1.T3.14.14.1.m1.1.1.cmml" xref="A1.T3.14.14.1.m1.1.1"><csymbol cd="ambiguous" id="A1.T3.14.14.1.m1.1.1.1.cmml" xref="A1.T3.14.14.1.m1.1.1">subscript</csymbol><ci id="A1.T3.14.14.1.m1.1.1.2.cmml" xref="A1.T3.14.14.1.m1.1.1.2">ℒ</ci><ci id="A1.T3.14.14.1.m1.1.1.3.cmml" xref="A1.T3.14.14.1.m1.1.1.3">Con</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.14.14.1.m1.1c">\mathcal{L_{\rm Con}}</annotation></semantics></math></th>
<td id="A1.T3.14.14.2" class="ltx_td ltx_align_left">Contrastive loss for local training regularization</td>
</tr>
<tr id="A1.T3.15.15" class="ltx_tr">
<th id="A1.T3.15.15.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.15.15.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="A1.T3.15.15.1.m1.1a"><mi id="A1.T3.15.15.1.m1.1.1" xref="A1.T3.15.15.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="A1.T3.15.15.1.m1.1b"><ci id="A1.T3.15.15.1.m1.1.1.cmml" xref="A1.T3.15.15.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.15.15.1.m1.1c">\lambda</annotation></semantics></math></th>
<td id="A1.T3.15.15.2" class="ltx_td ltx_align_left">coefficient for local training regularization term</td>
</tr>
<tr id="A1.T3.16.16" class="ltx_tr">
<th id="A1.T3.16.16.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.16.16.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="A1.T3.16.16.1.m1.1a"><mi id="A1.T3.16.16.1.m1.1.1" xref="A1.T3.16.16.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="A1.T3.16.16.1.m1.1b"><ci id="A1.T3.16.16.1.m1.1.1.cmml" xref="A1.T3.16.16.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.16.16.1.m1.1c">T</annotation></semantics></math></th>
<td id="A1.T3.16.16.2" class="ltx_td ltx_align_left">total training iterations</td>
</tr>
<tr id="A1.T3.17.17" class="ltx_tr">
<th id="A1.T3.17.17.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.17.17.1.m1.1" class="ltx_Math" alttext="T^{\rm c}_{\rm D}" display="inline"><semantics id="A1.T3.17.17.1.m1.1a"><msubsup id="A1.T3.17.17.1.m1.1.1" xref="A1.T3.17.17.1.m1.1.1.cmml"><mi id="A1.T3.17.17.1.m1.1.1.2.2" xref="A1.T3.17.17.1.m1.1.1.2.2.cmml">T</mi><mi mathvariant="normal" id="A1.T3.17.17.1.m1.1.1.3" xref="A1.T3.17.17.1.m1.1.1.3.cmml">D</mi><mi mathvariant="normal" id="A1.T3.17.17.1.m1.1.1.2.3" xref="A1.T3.17.17.1.m1.1.1.2.3.cmml">c</mi></msubsup><annotation-xml encoding="MathML-Content" id="A1.T3.17.17.1.m1.1b"><apply id="A1.T3.17.17.1.m1.1.1.cmml" xref="A1.T3.17.17.1.m1.1.1"><csymbol cd="ambiguous" id="A1.T3.17.17.1.m1.1.1.1.cmml" xref="A1.T3.17.17.1.m1.1.1">subscript</csymbol><apply id="A1.T3.17.17.1.m1.1.1.2.cmml" xref="A1.T3.17.17.1.m1.1.1"><csymbol cd="ambiguous" id="A1.T3.17.17.1.m1.1.1.2.1.cmml" xref="A1.T3.17.17.1.m1.1.1">superscript</csymbol><ci id="A1.T3.17.17.1.m1.1.1.2.2.cmml" xref="A1.T3.17.17.1.m1.1.1.2.2">𝑇</ci><ci id="A1.T3.17.17.1.m1.1.1.2.3.cmml" xref="A1.T3.17.17.1.m1.1.1.2.3">c</ci></apply><ci id="A1.T3.17.17.1.m1.1.1.3.cmml" xref="A1.T3.17.17.1.m1.1.1.3">D</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.17.17.1.m1.1c">T^{\rm c}_{\rm D}</annotation></semantics></math></th>
<td id="A1.T3.17.17.2" class="ltx_td ltx_align_left">local data updating iterations for each call</td>
</tr>
<tr id="A1.T3.18.18" class="ltx_tr">
<th id="A1.T3.18.18.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="A1.T3.18.18.1.m1.1" class="ltx_Math" alttext="T^{\rm g}_{\rm D}" display="inline"><semantics id="A1.T3.18.18.1.m1.1a"><msubsup id="A1.T3.18.18.1.m1.1.1" xref="A1.T3.18.18.1.m1.1.1.cmml"><mi id="A1.T3.18.18.1.m1.1.1.2.2" xref="A1.T3.18.18.1.m1.1.1.2.2.cmml">T</mi><mi mathvariant="normal" id="A1.T3.18.18.1.m1.1.1.3" xref="A1.T3.18.18.1.m1.1.1.3.cmml">D</mi><mi mathvariant="normal" id="A1.T3.18.18.1.m1.1.1.2.3" xref="A1.T3.18.18.1.m1.1.1.2.3.cmml">g</mi></msubsup><annotation-xml encoding="MathML-Content" id="A1.T3.18.18.1.m1.1b"><apply id="A1.T3.18.18.1.m1.1.1.cmml" xref="A1.T3.18.18.1.m1.1.1"><csymbol cd="ambiguous" id="A1.T3.18.18.1.m1.1.1.1.cmml" xref="A1.T3.18.18.1.m1.1.1">subscript</csymbol><apply id="A1.T3.18.18.1.m1.1.1.2.cmml" xref="A1.T3.18.18.1.m1.1.1"><csymbol cd="ambiguous" id="A1.T3.18.18.1.m1.1.1.2.1.cmml" xref="A1.T3.18.18.1.m1.1.1">superscript</csymbol><ci id="A1.T3.18.18.1.m1.1.1.2.2.cmml" xref="A1.T3.18.18.1.m1.1.1.2.2">𝑇</ci><ci id="A1.T3.18.18.1.m1.1.1.2.3.cmml" xref="A1.T3.18.18.1.m1.1.1.2.3">g</ci></apply><ci id="A1.T3.18.18.1.m1.1.1.3.cmml" xref="A1.T3.18.18.1.m1.1.1.3">D</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.18.18.1.m1.1c">T^{\rm g}_{\rm D}</annotation></semantics></math></th>
<td id="A1.T3.18.18.2" class="ltx_td ltx_align_left">global data updating iterations for each call</td>
</tr>
<tr id="A1.T3.19.19" class="ltx_tr">
<th id="A1.T3.19.19.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb"><math id="A1.T3.19.19.1.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="A1.T3.19.19.1.m1.1a"><mi id="A1.T3.19.19.1.m1.1.1" xref="A1.T3.19.19.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="A1.T3.19.19.1.m1.1b"><ci id="A1.T3.19.19.1.m1.1.1.cmml" xref="A1.T3.19.19.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.19.19.1.m1.1c">\tau</annotation></semantics></math></th>
<td id="A1.T3.19.19.2" class="ltx_td ltx_align_left ltx_border_bb">local global distillation iterations</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Federated Virtual Learning with Local-global Distillation</figcaption>
<div id="alg1.3" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<math id="alg1.l1.m1.1" class="ltx_Math" alttext="f^{\theta}" display="inline"><semantics id="alg1.l1.m1.1a"><msup id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mi id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml">f</mi><mi id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml">θ</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1">superscript</csymbol><ci id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2">𝑓</ci><ci id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">f^{\theta}</annotation></semantics></math>: Model, <math id="alg1.l1.m2.1" class="ltx_Math" alttext="\psi^{\theta}" display="inline"><semantics id="alg1.l1.m2.1a"><msup id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml"><mi id="alg1.l1.m2.1.1.2" xref="alg1.l1.m2.1.1.2.cmml">ψ</mi><mi id="alg1.l1.m2.1.1.3" xref="alg1.l1.m2.1.1.3.cmml">θ</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><apply id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1"><csymbol cd="ambiguous" id="alg1.l1.m2.1.1.1.cmml" xref="alg1.l1.m2.1.1">superscript</csymbol><ci id="alg1.l1.m2.1.1.2.cmml" xref="alg1.l1.m2.1.1.2">𝜓</ci><ci id="alg1.l1.m2.1.1.3.cmml" xref="alg1.l1.m2.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">\psi^{\theta}</annotation></semantics></math>: Feature extractor, <math id="alg1.l1.m3.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="alg1.l1.m3.1a"><mi id="alg1.l1.m3.1.1" xref="alg1.l1.m3.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m3.1b"><ci id="alg1.l1.m3.1.1.cmml" xref="alg1.l1.m3.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m3.1c">\theta</annotation></semantics></math>: Model parameters, <math id="alg1.l1.m4.1" class="ltx_Math" alttext="\tilde{D}" display="inline"><semantics id="alg1.l1.m4.1a"><mover accent="true" id="alg1.l1.m4.1.1" xref="alg1.l1.m4.1.1.cmml"><mi id="alg1.l1.m4.1.1.2" xref="alg1.l1.m4.1.1.2.cmml">D</mi><mo id="alg1.l1.m4.1.1.1" xref="alg1.l1.m4.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="alg1.l1.m4.1b"><apply id="alg1.l1.m4.1.1.cmml" xref="alg1.l1.m4.1.1"><ci id="alg1.l1.m4.1.1.1.cmml" xref="alg1.l1.m4.1.1.1">~</ci><ci id="alg1.l1.m4.1.1.2.cmml" xref="alg1.l1.m4.1.1.2">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m4.1c">\tilde{D}</annotation></semantics></math>: Virtual data, <math id="alg1.l1.m5.1" class="ltx_Math" alttext="D" display="inline"><semantics id="alg1.l1.m5.1a"><mi id="alg1.l1.m5.1.1" xref="alg1.l1.m5.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m5.1b"><ci id="alg1.l1.m5.1.1.cmml" xref="alg1.l1.m5.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m5.1c">D</annotation></semantics></math>: Original data, <math id="alg1.l1.m6.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="alg1.l1.m6.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l1.m6.1.1" xref="alg1.l1.m6.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m6.1b"><ci id="alg1.l1.m6.1.1.cmml" xref="alg1.l1.m6.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m6.1c">\mathcal{L}</annotation></semantics></math>: Losses, <math id="alg1.l1.m7.1" class="ltx_Math" alttext="G" display="inline"><semantics id="alg1.l1.m7.1a"><mi id="alg1.l1.m7.1.1" xref="alg1.l1.m7.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m7.1b"><ci id="alg1.l1.m7.1.1.cmml" xref="alg1.l1.m7.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m7.1c">G</annotation></semantics></math>: Gradients.

</div>
<div id="alg1.l2" class="ltx_listingline">
</div>
<div id="alg1.l3" class="ltx_listingline">
<span id="alg1.l3.1" class="ltx_text ltx_font_bold">Distillation Functions:</span>

</div>
<div id="alg1.l4" class="ltx_listingline">
<math id="alg1.l4.m1.2" class="ltx_Math" alttext="\tilde{D}^{\rm c}\leftarrow{\rm DistributionMatch}(D^{\rm c},f^{\theta})" display="inline"><semantics id="alg1.l4.m1.2a"><mrow id="alg1.l4.m1.2.2" xref="alg1.l4.m1.2.2.cmml"><msup id="alg1.l4.m1.2.2.4" xref="alg1.l4.m1.2.2.4.cmml"><mover accent="true" id="alg1.l4.m1.2.2.4.2" xref="alg1.l4.m1.2.2.4.2.cmml"><mi id="alg1.l4.m1.2.2.4.2.2" xref="alg1.l4.m1.2.2.4.2.2.cmml">D</mi><mo id="alg1.l4.m1.2.2.4.2.1" xref="alg1.l4.m1.2.2.4.2.1.cmml">~</mo></mover><mi mathvariant="normal" id="alg1.l4.m1.2.2.4.3" xref="alg1.l4.m1.2.2.4.3.cmml">c</mi></msup><mo stretchy="false" id="alg1.l4.m1.2.2.3" xref="alg1.l4.m1.2.2.3.cmml">←</mo><mrow id="alg1.l4.m1.2.2.2" xref="alg1.l4.m1.2.2.2.cmml"><mi id="alg1.l4.m1.2.2.2.4" xref="alg1.l4.m1.2.2.2.4.cmml">DistributionMatch</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.2.2.2.3" xref="alg1.l4.m1.2.2.2.3.cmml">​</mo><mrow id="alg1.l4.m1.2.2.2.2.2" xref="alg1.l4.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l4.m1.2.2.2.2.2.3" xref="alg1.l4.m1.2.2.2.2.3.cmml">(</mo><msup id="alg1.l4.m1.1.1.1.1.1.1" xref="alg1.l4.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l4.m1.1.1.1.1.1.1.2" xref="alg1.l4.m1.1.1.1.1.1.1.2.cmml">D</mi><mi mathvariant="normal" id="alg1.l4.m1.1.1.1.1.1.1.3" xref="alg1.l4.m1.1.1.1.1.1.1.3.cmml">c</mi></msup><mo id="alg1.l4.m1.2.2.2.2.2.4" xref="alg1.l4.m1.2.2.2.2.3.cmml">,</mo><msup id="alg1.l4.m1.2.2.2.2.2.2" xref="alg1.l4.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l4.m1.2.2.2.2.2.2.2" xref="alg1.l4.m1.2.2.2.2.2.2.2.cmml">f</mi><mi id="alg1.l4.m1.2.2.2.2.2.2.3" xref="alg1.l4.m1.2.2.2.2.2.2.3.cmml">θ</mi></msup><mo stretchy="false" id="alg1.l4.m1.2.2.2.2.2.5" xref="alg1.l4.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.2b"><apply id="alg1.l4.m1.2.2.cmml" xref="alg1.l4.m1.2.2"><ci id="alg1.l4.m1.2.2.3.cmml" xref="alg1.l4.m1.2.2.3">←</ci><apply id="alg1.l4.m1.2.2.4.cmml" xref="alg1.l4.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.4.1.cmml" xref="alg1.l4.m1.2.2.4">superscript</csymbol><apply id="alg1.l4.m1.2.2.4.2.cmml" xref="alg1.l4.m1.2.2.4.2"><ci id="alg1.l4.m1.2.2.4.2.1.cmml" xref="alg1.l4.m1.2.2.4.2.1">~</ci><ci id="alg1.l4.m1.2.2.4.2.2.cmml" xref="alg1.l4.m1.2.2.4.2.2">𝐷</ci></apply><ci id="alg1.l4.m1.2.2.4.3.cmml" xref="alg1.l4.m1.2.2.4.3">c</ci></apply><apply id="alg1.l4.m1.2.2.2.cmml" xref="alg1.l4.m1.2.2.2"><times id="alg1.l4.m1.2.2.2.3.cmml" xref="alg1.l4.m1.2.2.2.3"></times><ci id="alg1.l4.m1.2.2.2.4.cmml" xref="alg1.l4.m1.2.2.2.4">DistributionMatch</ci><interval closure="open" id="alg1.l4.m1.2.2.2.2.3.cmml" xref="alg1.l4.m1.2.2.2.2.2"><apply id="alg1.l4.m1.1.1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1.1.1">superscript</csymbol><ci id="alg1.l4.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.2">𝐷</ci><ci id="alg1.l4.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.3">c</ci></apply><apply id="alg1.l4.m1.2.2.2.2.2.2.cmml" xref="alg1.l4.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l4.m1.2.2.2.2.2.2">superscript</csymbol><ci id="alg1.l4.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l4.m1.2.2.2.2.2.2.2">𝑓</ci><ci id="alg1.l4.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l4.m1.2.2.2.2.2.2.3">𝜃</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.2c">\tilde{D}^{\rm c}\leftarrow{\rm DistributionMatch}(D^{\rm c},f^{\theta})</annotation></semantics></math>

</div>
<div id="alg1.l5" class="ltx_listingline">
<math id="alg1.l5.m1.2" class="ltx_Math" alttext="\tilde{D}^{\rm c}_{\rm t}\leftarrow{\rm IterativeDistributionMatch}(\tilde{D}^{\rm c}_{\rm t-1},f^{\theta}_{\rm t})" display="inline"><semantics id="alg1.l5.m1.2a"><mrow id="alg1.l5.m1.2.2" xref="alg1.l5.m1.2.2.cmml"><msubsup id="alg1.l5.m1.2.2.4" xref="alg1.l5.m1.2.2.4.cmml"><mover accent="true" id="alg1.l5.m1.2.2.4.2.2" xref="alg1.l5.m1.2.2.4.2.2.cmml"><mi id="alg1.l5.m1.2.2.4.2.2.2" xref="alg1.l5.m1.2.2.4.2.2.2.cmml">D</mi><mo id="alg1.l5.m1.2.2.4.2.2.1" xref="alg1.l5.m1.2.2.4.2.2.1.cmml">~</mo></mover><mi mathvariant="normal" id="alg1.l5.m1.2.2.4.3" xref="alg1.l5.m1.2.2.4.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l5.m1.2.2.4.2.3" xref="alg1.l5.m1.2.2.4.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="alg1.l5.m1.2.2.3" xref="alg1.l5.m1.2.2.3.cmml">←</mo><mrow id="alg1.l5.m1.2.2.2" xref="alg1.l5.m1.2.2.2.cmml"><mi id="alg1.l5.m1.2.2.2.4" xref="alg1.l5.m1.2.2.2.4.cmml">IterativeDistributionMatch</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.2.2.2.3" xref="alg1.l5.m1.2.2.2.3.cmml">​</mo><mrow id="alg1.l5.m1.2.2.2.2.2" xref="alg1.l5.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l5.m1.2.2.2.2.2.3" xref="alg1.l5.m1.2.2.2.2.3.cmml">(</mo><msubsup id="alg1.l5.m1.1.1.1.1.1.1" xref="alg1.l5.m1.1.1.1.1.1.1.cmml"><mover accent="true" id="alg1.l5.m1.1.1.1.1.1.1.2.2" xref="alg1.l5.m1.1.1.1.1.1.1.2.2.cmml"><mi id="alg1.l5.m1.1.1.1.1.1.1.2.2.2" xref="alg1.l5.m1.1.1.1.1.1.1.2.2.2.cmml">D</mi><mo id="alg1.l5.m1.1.1.1.1.1.1.2.2.1" xref="alg1.l5.m1.1.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mrow id="alg1.l5.m1.1.1.1.1.1.1.3" xref="alg1.l5.m1.1.1.1.1.1.1.3.cmml"><mi mathvariant="normal" id="alg1.l5.m1.1.1.1.1.1.1.3.2" xref="alg1.l5.m1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="alg1.l5.m1.1.1.1.1.1.1.3.1" xref="alg1.l5.m1.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="alg1.l5.m1.1.1.1.1.1.1.3.3" xref="alg1.l5.m1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow><mi mathvariant="normal" id="alg1.l5.m1.1.1.1.1.1.1.2.3" xref="alg1.l5.m1.1.1.1.1.1.1.2.3.cmml">c</mi></msubsup><mo id="alg1.l5.m1.2.2.2.2.2.4" xref="alg1.l5.m1.2.2.2.2.3.cmml">,</mo><msubsup id="alg1.l5.m1.2.2.2.2.2.2" xref="alg1.l5.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l5.m1.2.2.2.2.2.2.2.2" xref="alg1.l5.m1.2.2.2.2.2.2.2.2.cmml">f</mi><mi mathvariant="normal" id="alg1.l5.m1.2.2.2.2.2.2.3" xref="alg1.l5.m1.2.2.2.2.2.2.3.cmml">t</mi><mi id="alg1.l5.m1.2.2.2.2.2.2.2.3" xref="alg1.l5.m1.2.2.2.2.2.2.2.3.cmml">θ</mi></msubsup><mo stretchy="false" id="alg1.l5.m1.2.2.2.2.2.5" xref="alg1.l5.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.2b"><apply id="alg1.l5.m1.2.2.cmml" xref="alg1.l5.m1.2.2"><ci id="alg1.l5.m1.2.2.3.cmml" xref="alg1.l5.m1.2.2.3">←</ci><apply id="alg1.l5.m1.2.2.4.cmml" xref="alg1.l5.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.4.1.cmml" xref="alg1.l5.m1.2.2.4">subscript</csymbol><apply id="alg1.l5.m1.2.2.4.2.cmml" xref="alg1.l5.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.4.2.1.cmml" xref="alg1.l5.m1.2.2.4">superscript</csymbol><apply id="alg1.l5.m1.2.2.4.2.2.cmml" xref="alg1.l5.m1.2.2.4.2.2"><ci id="alg1.l5.m1.2.2.4.2.2.1.cmml" xref="alg1.l5.m1.2.2.4.2.2.1">~</ci><ci id="alg1.l5.m1.2.2.4.2.2.2.cmml" xref="alg1.l5.m1.2.2.4.2.2.2">𝐷</ci></apply><ci id="alg1.l5.m1.2.2.4.2.3.cmml" xref="alg1.l5.m1.2.2.4.2.3">c</ci></apply><ci id="alg1.l5.m1.2.2.4.3.cmml" xref="alg1.l5.m1.2.2.4.3">t</ci></apply><apply id="alg1.l5.m1.2.2.2.cmml" xref="alg1.l5.m1.2.2.2"><times id="alg1.l5.m1.2.2.2.3.cmml" xref="alg1.l5.m1.2.2.2.3"></times><ci id="alg1.l5.m1.2.2.2.4.cmml" xref="alg1.l5.m1.2.2.2.4">IterativeDistributionMatch</ci><interval closure="open" id="alg1.l5.m1.2.2.2.2.3.cmml" xref="alg1.l5.m1.2.2.2.2.2"><apply id="alg1.l5.m1.1.1.1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l5.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1.1.1.1">subscript</csymbol><apply id="alg1.l5.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l5.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l5.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l5.m1.1.1.1.1.1.1">superscript</csymbol><apply id="alg1.l5.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.2.2"><ci id="alg1.l5.m1.1.1.1.1.1.1.2.2.1.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.2.2.1">~</ci><ci id="alg1.l5.m1.1.1.1.1.1.1.2.2.2.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.2.2.2">𝐷</ci></apply><ci id="alg1.l5.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.2.3">c</ci></apply><apply id="alg1.l5.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.3"><minus id="alg1.l5.m1.1.1.1.1.1.1.3.1.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.3.1"></minus><ci id="alg1.l5.m1.1.1.1.1.1.1.3.2.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.3.2">t</ci><cn type="integer" id="alg1.l5.m1.1.1.1.1.1.1.3.3.cmml" xref="alg1.l5.m1.1.1.1.1.1.1.3.3">1</cn></apply></apply><apply id="alg1.l5.m1.2.2.2.2.2.2.cmml" xref="alg1.l5.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l5.m1.2.2.2.2.2.2">subscript</csymbol><apply id="alg1.l5.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l5.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.2.2.2.2.2.1.cmml" xref="alg1.l5.m1.2.2.2.2.2.2">superscript</csymbol><ci id="alg1.l5.m1.2.2.2.2.2.2.2.2.cmml" xref="alg1.l5.m1.2.2.2.2.2.2.2.2">𝑓</ci><ci id="alg1.l5.m1.2.2.2.2.2.2.2.3.cmml" xref="alg1.l5.m1.2.2.2.2.2.2.2.3">𝜃</ci></apply><ci id="alg1.l5.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l5.m1.2.2.2.2.2.2.3">t</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.2c">\tilde{D}^{\rm c}_{\rm t}\leftarrow{\rm IterativeDistributionMatch}(\tilde{D}^{\rm c}_{\rm t-1},f^{\theta}_{\rm t})</annotation></semantics></math>

</div>
<div id="alg1.l6" class="ltx_listingline">
<math id="alg1.l6.m1.2" class="ltx_Math" alttext="\tilde{D}^{\rm g}_{\rm t+1}\leftarrow{\rm FederatedGradientMatch}(\tilde{D}^{\rm g}_{\rm t},G^{\rm g}_{\rm t})" display="inline"><semantics id="alg1.l6.m1.2a"><mrow id="alg1.l6.m1.2.2" xref="alg1.l6.m1.2.2.cmml"><msubsup id="alg1.l6.m1.2.2.4" xref="alg1.l6.m1.2.2.4.cmml"><mover accent="true" id="alg1.l6.m1.2.2.4.2.2" xref="alg1.l6.m1.2.2.4.2.2.cmml"><mi id="alg1.l6.m1.2.2.4.2.2.2" xref="alg1.l6.m1.2.2.4.2.2.2.cmml">D</mi><mo id="alg1.l6.m1.2.2.4.2.2.1" xref="alg1.l6.m1.2.2.4.2.2.1.cmml">~</mo></mover><mrow id="alg1.l6.m1.2.2.4.3" xref="alg1.l6.m1.2.2.4.3.cmml"><mi mathvariant="normal" id="alg1.l6.m1.2.2.4.3.2" xref="alg1.l6.m1.2.2.4.3.2.cmml">t</mi><mo id="alg1.l6.m1.2.2.4.3.1" xref="alg1.l6.m1.2.2.4.3.1.cmml">+</mo><mn id="alg1.l6.m1.2.2.4.3.3" xref="alg1.l6.m1.2.2.4.3.3.cmml">1</mn></mrow><mi mathvariant="normal" id="alg1.l6.m1.2.2.4.2.3" xref="alg1.l6.m1.2.2.4.2.3.cmml">g</mi></msubsup><mo stretchy="false" id="alg1.l6.m1.2.2.3" xref="alg1.l6.m1.2.2.3.cmml">←</mo><mrow id="alg1.l6.m1.2.2.2" xref="alg1.l6.m1.2.2.2.cmml"><mi id="alg1.l6.m1.2.2.2.4" xref="alg1.l6.m1.2.2.2.4.cmml">FederatedGradientMatch</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.2.2.2.3" xref="alg1.l6.m1.2.2.2.3.cmml">​</mo><mrow id="alg1.l6.m1.2.2.2.2.2" xref="alg1.l6.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.3" xref="alg1.l6.m1.2.2.2.2.3.cmml">(</mo><msubsup id="alg1.l6.m1.1.1.1.1.1.1" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mover accent="true" id="alg1.l6.m1.1.1.1.1.1.1.2.2" xref="alg1.l6.m1.1.1.1.1.1.1.2.2.cmml"><mi id="alg1.l6.m1.1.1.1.1.1.1.2.2.2" xref="alg1.l6.m1.1.1.1.1.1.1.2.2.2.cmml">D</mi><mo id="alg1.l6.m1.1.1.1.1.1.1.2.2.1" xref="alg1.l6.m1.1.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi mathvariant="normal" id="alg1.l6.m1.1.1.1.1.1.1.3" xref="alg1.l6.m1.1.1.1.1.1.1.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l6.m1.1.1.1.1.1.1.2.3" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.cmml">g</mi></msubsup><mo id="alg1.l6.m1.2.2.2.2.2.4" xref="alg1.l6.m1.2.2.2.2.3.cmml">,</mo><msubsup id="alg1.l6.m1.2.2.2.2.2.2" xref="alg1.l6.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l6.m1.2.2.2.2.2.2.2.2" xref="alg1.l6.m1.2.2.2.2.2.2.2.2.cmml">G</mi><mi mathvariant="normal" id="alg1.l6.m1.2.2.2.2.2.2.3" xref="alg1.l6.m1.2.2.2.2.2.2.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l6.m1.2.2.2.2.2.2.2.3" xref="alg1.l6.m1.2.2.2.2.2.2.2.3.cmml">g</mi></msubsup><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.5" xref="alg1.l6.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.2b"><apply id="alg1.l6.m1.2.2.cmml" xref="alg1.l6.m1.2.2"><ci id="alg1.l6.m1.2.2.3.cmml" xref="alg1.l6.m1.2.2.3">←</ci><apply id="alg1.l6.m1.2.2.4.cmml" xref="alg1.l6.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.4.1.cmml" xref="alg1.l6.m1.2.2.4">subscript</csymbol><apply id="alg1.l6.m1.2.2.4.2.cmml" xref="alg1.l6.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.4.2.1.cmml" xref="alg1.l6.m1.2.2.4">superscript</csymbol><apply id="alg1.l6.m1.2.2.4.2.2.cmml" xref="alg1.l6.m1.2.2.4.2.2"><ci id="alg1.l6.m1.2.2.4.2.2.1.cmml" xref="alg1.l6.m1.2.2.4.2.2.1">~</ci><ci id="alg1.l6.m1.2.2.4.2.2.2.cmml" xref="alg1.l6.m1.2.2.4.2.2.2">𝐷</ci></apply><ci id="alg1.l6.m1.2.2.4.2.3.cmml" xref="alg1.l6.m1.2.2.4.2.3">g</ci></apply><apply id="alg1.l6.m1.2.2.4.3.cmml" xref="alg1.l6.m1.2.2.4.3"><plus id="alg1.l6.m1.2.2.4.3.1.cmml" xref="alg1.l6.m1.2.2.4.3.1"></plus><ci id="alg1.l6.m1.2.2.4.3.2.cmml" xref="alg1.l6.m1.2.2.4.3.2">t</ci><cn type="integer" id="alg1.l6.m1.2.2.4.3.3.cmml" xref="alg1.l6.m1.2.2.4.3.3">1</cn></apply></apply><apply id="alg1.l6.m1.2.2.2.cmml" xref="alg1.l6.m1.2.2.2"><times id="alg1.l6.m1.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.3"></times><ci id="alg1.l6.m1.2.2.2.4.cmml" xref="alg1.l6.m1.2.2.2.4">FederatedGradientMatch</ci><interval closure="open" id="alg1.l6.m1.2.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.2.2"><apply id="alg1.l6.m1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1">subscript</csymbol><apply id="alg1.l6.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1">superscript</csymbol><apply id="alg1.l6.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.2"><ci id="alg1.l6.m1.1.1.1.1.1.1.2.2.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.2.1">~</ci><ci id="alg1.l6.m1.1.1.1.1.1.1.2.2.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.2.2">𝐷</ci></apply><ci id="alg1.l6.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3">g</ci></apply><ci id="alg1.l6.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.3">t</ci></apply><apply id="alg1.l6.m1.2.2.2.2.2.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.2">subscript</csymbol><apply id="alg1.l6.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.2.2.2.2.2.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.2">superscript</csymbol><ci id="alg1.l6.m1.2.2.2.2.2.2.2.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.2">𝐺</ci><ci id="alg1.l6.m1.2.2.2.2.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2.3">g</ci></apply><ci id="alg1.l6.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.3">t</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.2c">\tilde{D}^{\rm g}_{\rm t+1}\leftarrow{\rm FederatedGradientMatch}(\tilde{D}^{\rm g}_{\rm t},G^{\rm g}_{\rm t})</annotation></semantics></math>

</div>
<div id="alg1.l7" class="ltx_listingline">
</div>
<div id="alg1.l8" class="ltx_listingline">
<span id="alg1.l8.1" class="ltx_text ltx_font_bold">Initialization:</span>

</div>
<div id="alg1.l9" class="ltx_listingline">
<math id="alg1.l9.m1.2" class="ltx_Math" alttext="\tilde{D}^{\rm c}_{\rm 0}\leftarrow{\rm DistributionMatch}(D^{\rm c}_{\rm rand},f^{\theta}_{\rm rand})" display="inline"><semantics id="alg1.l9.m1.2a"><mrow id="alg1.l9.m1.2.2" xref="alg1.l9.m1.2.2.cmml"><msubsup id="alg1.l9.m1.2.2.4" xref="alg1.l9.m1.2.2.4.cmml"><mover accent="true" id="alg1.l9.m1.2.2.4.2.2" xref="alg1.l9.m1.2.2.4.2.2.cmml"><mi id="alg1.l9.m1.2.2.4.2.2.2" xref="alg1.l9.m1.2.2.4.2.2.2.cmml">D</mi><mo id="alg1.l9.m1.2.2.4.2.2.1" xref="alg1.l9.m1.2.2.4.2.2.1.cmml">~</mo></mover><mn id="alg1.l9.m1.2.2.4.3" xref="alg1.l9.m1.2.2.4.3.cmml">0</mn><mi mathvariant="normal" id="alg1.l9.m1.2.2.4.2.3" xref="alg1.l9.m1.2.2.4.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="alg1.l9.m1.2.2.3" xref="alg1.l9.m1.2.2.3.cmml">←</mo><mrow id="alg1.l9.m1.2.2.2" xref="alg1.l9.m1.2.2.2.cmml"><mi id="alg1.l9.m1.2.2.2.4" xref="alg1.l9.m1.2.2.2.4.cmml">DistributionMatch</mi><mo lspace="0em" rspace="0em" id="alg1.l9.m1.2.2.2.3" xref="alg1.l9.m1.2.2.2.3.cmml">​</mo><mrow id="alg1.l9.m1.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l9.m1.2.2.2.2.2.3" xref="alg1.l9.m1.2.2.2.2.3.cmml">(</mo><msubsup id="alg1.l9.m1.1.1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l9.m1.1.1.1.1.1.1.2.2" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.cmml">D</mi><mi id="alg1.l9.m1.1.1.1.1.1.1.3" xref="alg1.l9.m1.1.1.1.1.1.1.3.cmml">rand</mi><mi mathvariant="normal" id="alg1.l9.m1.1.1.1.1.1.1.2.3" xref="alg1.l9.m1.1.1.1.1.1.1.2.3.cmml">c</mi></msubsup><mo id="alg1.l9.m1.2.2.2.2.2.4" xref="alg1.l9.m1.2.2.2.2.3.cmml">,</mo><msubsup id="alg1.l9.m1.2.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l9.m1.2.2.2.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.2.2.2.2.cmml">f</mi><mi id="alg1.l9.m1.2.2.2.2.2.2.3" xref="alg1.l9.m1.2.2.2.2.2.2.3.cmml">rand</mi><mi id="alg1.l9.m1.2.2.2.2.2.2.2.3" xref="alg1.l9.m1.2.2.2.2.2.2.2.3.cmml">θ</mi></msubsup><mo stretchy="false" id="alg1.l9.m1.2.2.2.2.2.5" xref="alg1.l9.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.2b"><apply id="alg1.l9.m1.2.2.cmml" xref="alg1.l9.m1.2.2"><ci id="alg1.l9.m1.2.2.3.cmml" xref="alg1.l9.m1.2.2.3">←</ci><apply id="alg1.l9.m1.2.2.4.cmml" xref="alg1.l9.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.4.1.cmml" xref="alg1.l9.m1.2.2.4">subscript</csymbol><apply id="alg1.l9.m1.2.2.4.2.cmml" xref="alg1.l9.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.4.2.1.cmml" xref="alg1.l9.m1.2.2.4">superscript</csymbol><apply id="alg1.l9.m1.2.2.4.2.2.cmml" xref="alg1.l9.m1.2.2.4.2.2"><ci id="alg1.l9.m1.2.2.4.2.2.1.cmml" xref="alg1.l9.m1.2.2.4.2.2.1">~</ci><ci id="alg1.l9.m1.2.2.4.2.2.2.cmml" xref="alg1.l9.m1.2.2.4.2.2.2">𝐷</ci></apply><ci id="alg1.l9.m1.2.2.4.2.3.cmml" xref="alg1.l9.m1.2.2.4.2.3">c</ci></apply><cn type="integer" id="alg1.l9.m1.2.2.4.3.cmml" xref="alg1.l9.m1.2.2.4.3">0</cn></apply><apply id="alg1.l9.m1.2.2.2.cmml" xref="alg1.l9.m1.2.2.2"><times id="alg1.l9.m1.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.3"></times><ci id="alg1.l9.m1.2.2.2.4.cmml" xref="alg1.l9.m1.2.2.2.4">DistributionMatch</ci><interval closure="open" id="alg1.l9.m1.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.2"><apply id="alg1.l9.m1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1">subscript</csymbol><apply id="alg1.l9.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1">superscript</csymbol><ci id="alg1.l9.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.2">𝐷</ci><ci id="alg1.l9.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.3">c</ci></apply><ci id="alg1.l9.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.3">rand</ci></apply><apply id="alg1.l9.m1.2.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l9.m1.2.2.2.2.2.2">subscript</csymbol><apply id="alg1.l9.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.2.2.2.2.2.1.cmml" xref="alg1.l9.m1.2.2.2.2.2.2">superscript</csymbol><ci id="alg1.l9.m1.2.2.2.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.2.2">𝑓</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.2.3">𝜃</ci></apply><ci id="alg1.l9.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.3">rand</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.2c">\tilde{D}^{\rm c}_{\rm 0}\leftarrow{\rm DistributionMatch}(D^{\rm c}_{\rm rand},f^{\theta}_{\rm rand})</annotation></semantics></math>
<span id="alg1.l9.1" class="ltx_text" style="float:right;"><math id="alg1.l9.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l9.1.m1.1a"><mo id="alg1.l9.1.m1.1.1" xref="alg1.l9.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l9.1.m1.1b"><ci id="alg1.l9.1.m1.1.1.cmml" xref="alg1.l9.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.1.m1.1c">\triangleright</annotation></semantics></math> Distilled local data for virtual FL training
</span>
</div>
<div id="alg1.l10" class="ltx_listingline">
</div>
<div id="alg1.l11" class="ltx_listingline">
<span id="alg1.l11.1" class="ltx_text ltx_font_bold ltx_font_smallcaps">FedLGD<span id="alg1.l11.1.1" class="ltx_text ltx_font_upright"> Pipeline:</span></span>

</div>
<div id="alg1.l12" class="ltx_listingline">
<span id="alg1.l12.1" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l12.m1.3" class="ltx_Math" alttext="t=1,\dots,T" display="inline"><semantics id="alg1.l12.m1.3a"><mrow id="alg1.l12.m1.3.4" xref="alg1.l12.m1.3.4.cmml"><mi id="alg1.l12.m1.3.4.2" xref="alg1.l12.m1.3.4.2.cmml">t</mi><mo id="alg1.l12.m1.3.4.1" xref="alg1.l12.m1.3.4.1.cmml">=</mo><mrow id="alg1.l12.m1.3.4.3.2" xref="alg1.l12.m1.3.4.3.1.cmml"><mn id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml">1</mn><mo id="alg1.l12.m1.3.4.3.2.1" xref="alg1.l12.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l12.m1.2.2" xref="alg1.l12.m1.2.2.cmml">…</mi><mo id="alg1.l12.m1.3.4.3.2.2" xref="alg1.l12.m1.3.4.3.1.cmml">,</mo><mi id="alg1.l12.m1.3.3" xref="alg1.l12.m1.3.3.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.3b"><apply id="alg1.l12.m1.3.4.cmml" xref="alg1.l12.m1.3.4"><eq id="alg1.l12.m1.3.4.1.cmml" xref="alg1.l12.m1.3.4.1"></eq><ci id="alg1.l12.m1.3.4.2.cmml" xref="alg1.l12.m1.3.4.2">𝑡</ci><list id="alg1.l12.m1.3.4.3.1.cmml" xref="alg1.l12.m1.3.4.3.2"><cn type="integer" id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1">1</cn><ci id="alg1.l12.m1.2.2.cmml" xref="alg1.l12.m1.2.2">…</ci><ci id="alg1.l12.m1.3.3.cmml" xref="alg1.l12.m1.3.3">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.3c">t=1,\dots,T</annotation></semantics></math> <span id="alg1.l12.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l13" class="ltx_listingline">     <span id="alg1.l13.1" class="ltx_text ltx_font_bold">Clients:</span>

</div>
<div id="alg1.l14" class="ltx_listingline">     <span id="alg1.l14.1" class="ltx_text ltx_font_bold">for</span> each selected Client <span id="alg1.l14.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l15" class="ltx_listingline">         <span id="alg1.l15.2" class="ltx_text ltx_font_bold">if</span> <math id="alg1.l15.m1.1" class="ltx_Math" alttext="t\in\tau" display="inline"><semantics id="alg1.l15.m1.1a"><mrow id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml"><mi id="alg1.l15.m1.1.1.2" xref="alg1.l15.m1.1.1.2.cmml">t</mi><mo id="alg1.l15.m1.1.1.1" xref="alg1.l15.m1.1.1.1.cmml">∈</mo><mi id="alg1.l15.m1.1.1.3" xref="alg1.l15.m1.1.1.3.cmml">τ</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m1.1b"><apply id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1"><in id="alg1.l15.m1.1.1.1.cmml" xref="alg1.l15.m1.1.1.1"></in><ci id="alg1.l15.m1.1.1.2.cmml" xref="alg1.l15.m1.1.1.2">𝑡</ci><ci id="alg1.l15.m1.1.1.3.cmml" xref="alg1.l15.m1.1.1.3">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m1.1c">t\in\tau</annotation></semantics></math> <span id="alg1.l15.3" class="ltx_text ltx_font_bold">then</span>
<span id="alg1.l15.1" class="ltx_text" style="float:right;"><math id="alg1.l15.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l15.1.m1.1a"><mo id="alg1.l15.1.m1.1.1" xref="alg1.l15.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l15.1.m1.1b"><ci id="alg1.l15.1.m1.1.1.cmml" xref="alg1.l15.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.1.m1.1c">\triangleright</annotation></semantics></math> Local-global distillation
</span>
</div>
<div id="alg1.l16" class="ltx_listingline">              <math id="alg1.l16.m1.2" class="ltx_Math" alttext="\tilde{D}^{\rm c}_{\rm t}\leftarrow{\rm IterativeDistributionMatch}(\tilde{D}^{\rm c}_{\rm t-1},f^{\theta}_{\rm t})" display="inline"><semantics id="alg1.l16.m1.2a"><mrow id="alg1.l16.m1.2.2" xref="alg1.l16.m1.2.2.cmml"><msubsup id="alg1.l16.m1.2.2.4" xref="alg1.l16.m1.2.2.4.cmml"><mover accent="true" id="alg1.l16.m1.2.2.4.2.2" xref="alg1.l16.m1.2.2.4.2.2.cmml"><mi id="alg1.l16.m1.2.2.4.2.2.2" xref="alg1.l16.m1.2.2.4.2.2.2.cmml">D</mi><mo id="alg1.l16.m1.2.2.4.2.2.1" xref="alg1.l16.m1.2.2.4.2.2.1.cmml">~</mo></mover><mi mathvariant="normal" id="alg1.l16.m1.2.2.4.3" xref="alg1.l16.m1.2.2.4.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l16.m1.2.2.4.2.3" xref="alg1.l16.m1.2.2.4.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="alg1.l16.m1.2.2.3" xref="alg1.l16.m1.2.2.3.cmml">←</mo><mrow id="alg1.l16.m1.2.2.2" xref="alg1.l16.m1.2.2.2.cmml"><mi id="alg1.l16.m1.2.2.2.4" xref="alg1.l16.m1.2.2.2.4.cmml">IterativeDistributionMatch</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.2.2.3" xref="alg1.l16.m1.2.2.2.3.cmml">​</mo><mrow id="alg1.l16.m1.2.2.2.2.2" xref="alg1.l16.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l16.m1.2.2.2.2.2.3" xref="alg1.l16.m1.2.2.2.2.3.cmml">(</mo><msubsup id="alg1.l16.m1.1.1.1.1.1.1" xref="alg1.l16.m1.1.1.1.1.1.1.cmml"><mover accent="true" id="alg1.l16.m1.1.1.1.1.1.1.2.2" xref="alg1.l16.m1.1.1.1.1.1.1.2.2.cmml"><mi id="alg1.l16.m1.1.1.1.1.1.1.2.2.2" xref="alg1.l16.m1.1.1.1.1.1.1.2.2.2.cmml">D</mi><mo id="alg1.l16.m1.1.1.1.1.1.1.2.2.1" xref="alg1.l16.m1.1.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mrow id="alg1.l16.m1.1.1.1.1.1.1.3" xref="alg1.l16.m1.1.1.1.1.1.1.3.cmml"><mi mathvariant="normal" id="alg1.l16.m1.1.1.1.1.1.1.3.2" xref="alg1.l16.m1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="alg1.l16.m1.1.1.1.1.1.1.3.1" xref="alg1.l16.m1.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="alg1.l16.m1.1.1.1.1.1.1.3.3" xref="alg1.l16.m1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow><mi mathvariant="normal" id="alg1.l16.m1.1.1.1.1.1.1.2.3" xref="alg1.l16.m1.1.1.1.1.1.1.2.3.cmml">c</mi></msubsup><mo id="alg1.l16.m1.2.2.2.2.2.4" xref="alg1.l16.m1.2.2.2.2.3.cmml">,</mo><msubsup id="alg1.l16.m1.2.2.2.2.2.2" xref="alg1.l16.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l16.m1.2.2.2.2.2.2.2.2" xref="alg1.l16.m1.2.2.2.2.2.2.2.2.cmml">f</mi><mi mathvariant="normal" id="alg1.l16.m1.2.2.2.2.2.2.3" xref="alg1.l16.m1.2.2.2.2.2.2.3.cmml">t</mi><mi id="alg1.l16.m1.2.2.2.2.2.2.2.3" xref="alg1.l16.m1.2.2.2.2.2.2.2.3.cmml">θ</mi></msubsup><mo stretchy="false" id="alg1.l16.m1.2.2.2.2.2.5" xref="alg1.l16.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l16.m1.2b"><apply id="alg1.l16.m1.2.2.cmml" xref="alg1.l16.m1.2.2"><ci id="alg1.l16.m1.2.2.3.cmml" xref="alg1.l16.m1.2.2.3">←</ci><apply id="alg1.l16.m1.2.2.4.cmml" xref="alg1.l16.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l16.m1.2.2.4.1.cmml" xref="alg1.l16.m1.2.2.4">subscript</csymbol><apply id="alg1.l16.m1.2.2.4.2.cmml" xref="alg1.l16.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l16.m1.2.2.4.2.1.cmml" xref="alg1.l16.m1.2.2.4">superscript</csymbol><apply id="alg1.l16.m1.2.2.4.2.2.cmml" xref="alg1.l16.m1.2.2.4.2.2"><ci id="alg1.l16.m1.2.2.4.2.2.1.cmml" xref="alg1.l16.m1.2.2.4.2.2.1">~</ci><ci id="alg1.l16.m1.2.2.4.2.2.2.cmml" xref="alg1.l16.m1.2.2.4.2.2.2">𝐷</ci></apply><ci id="alg1.l16.m1.2.2.4.2.3.cmml" xref="alg1.l16.m1.2.2.4.2.3">c</ci></apply><ci id="alg1.l16.m1.2.2.4.3.cmml" xref="alg1.l16.m1.2.2.4.3">t</ci></apply><apply id="alg1.l16.m1.2.2.2.cmml" xref="alg1.l16.m1.2.2.2"><times id="alg1.l16.m1.2.2.2.3.cmml" xref="alg1.l16.m1.2.2.2.3"></times><ci id="alg1.l16.m1.2.2.2.4.cmml" xref="alg1.l16.m1.2.2.2.4">IterativeDistributionMatch</ci><interval closure="open" id="alg1.l16.m1.2.2.2.2.3.cmml" xref="alg1.l16.m1.2.2.2.2.2"><apply id="alg1.l16.m1.1.1.1.1.1.1.cmml" xref="alg1.l16.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l16.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l16.m1.1.1.1.1.1.1">subscript</csymbol><apply id="alg1.l16.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l16.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l16.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l16.m1.1.1.1.1.1.1">superscript</csymbol><apply id="alg1.l16.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l16.m1.1.1.1.1.1.1.2.2"><ci id="alg1.l16.m1.1.1.1.1.1.1.2.2.1.cmml" xref="alg1.l16.m1.1.1.1.1.1.1.2.2.1">~</ci><ci id="alg1.l16.m1.1.1.1.1.1.1.2.2.2.cmml" xref="alg1.l16.m1.1.1.1.1.1.1.2.2.2">𝐷</ci></apply><ci id="alg1.l16.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l16.m1.1.1.1.1.1.1.2.3">c</ci></apply><apply id="alg1.l16.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l16.m1.1.1.1.1.1.1.3"><minus id="alg1.l16.m1.1.1.1.1.1.1.3.1.cmml" xref="alg1.l16.m1.1.1.1.1.1.1.3.1"></minus><ci id="alg1.l16.m1.1.1.1.1.1.1.3.2.cmml" xref="alg1.l16.m1.1.1.1.1.1.1.3.2">t</ci><cn type="integer" id="alg1.l16.m1.1.1.1.1.1.1.3.3.cmml" xref="alg1.l16.m1.1.1.1.1.1.1.3.3">1</cn></apply></apply><apply id="alg1.l16.m1.2.2.2.2.2.2.cmml" xref="alg1.l16.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l16.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l16.m1.2.2.2.2.2.2">subscript</csymbol><apply id="alg1.l16.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l16.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l16.m1.2.2.2.2.2.2.2.1.cmml" xref="alg1.l16.m1.2.2.2.2.2.2">superscript</csymbol><ci id="alg1.l16.m1.2.2.2.2.2.2.2.2.cmml" xref="alg1.l16.m1.2.2.2.2.2.2.2.2">𝑓</ci><ci id="alg1.l16.m1.2.2.2.2.2.2.2.3.cmml" xref="alg1.l16.m1.2.2.2.2.2.2.2.3">𝜃</ci></apply><ci id="alg1.l16.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l16.m1.2.2.2.2.2.2.3">t</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m1.2c">\tilde{D}^{\rm c}_{\rm t}\leftarrow{\rm IterativeDistributionMatch}(\tilde{D}^{\rm c}_{\rm t-1},f^{\theta}_{\rm t})</annotation></semantics></math>

</div>
<div id="alg1.l17" class="ltx_listingline">              <math id="alg1.l17.m1.2" class="ltx_Math" alttext="G^{\rm c}_{\rm t}\leftarrow\nabla_{\theta}\mathcal{L}_{\rm CE}(\tilde{D}^{\rm c}_{\rm t},f^{\theta}_{\rm t})" display="inline"><semantics id="alg1.l17.m1.2a"><mrow id="alg1.l17.m1.2.2" xref="alg1.l17.m1.2.2.cmml"><msubsup id="alg1.l17.m1.2.2.4" xref="alg1.l17.m1.2.2.4.cmml"><mi id="alg1.l17.m1.2.2.4.2.2" xref="alg1.l17.m1.2.2.4.2.2.cmml">G</mi><mi mathvariant="normal" id="alg1.l17.m1.2.2.4.3" xref="alg1.l17.m1.2.2.4.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l17.m1.2.2.4.2.3" xref="alg1.l17.m1.2.2.4.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="alg1.l17.m1.2.2.3" xref="alg1.l17.m1.2.2.3.cmml">←</mo><mrow id="alg1.l17.m1.2.2.2" xref="alg1.l17.m1.2.2.2.cmml"><mrow id="alg1.l17.m1.2.2.2.4" xref="alg1.l17.m1.2.2.2.4.cmml"><msub id="alg1.l17.m1.2.2.2.4.1" xref="alg1.l17.m1.2.2.2.4.1.cmml"><mo rspace="0.167em" id="alg1.l17.m1.2.2.2.4.1.2" xref="alg1.l17.m1.2.2.2.4.1.2.cmml">∇</mo><mi id="alg1.l17.m1.2.2.2.4.1.3" xref="alg1.l17.m1.2.2.2.4.1.3.cmml">θ</mi></msub><msub id="alg1.l17.m1.2.2.2.4.2" xref="alg1.l17.m1.2.2.2.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l17.m1.2.2.2.4.2.2" xref="alg1.l17.m1.2.2.2.4.2.2.cmml">ℒ</mi><mi id="alg1.l17.m1.2.2.2.4.2.3" xref="alg1.l17.m1.2.2.2.4.2.3.cmml">CE</mi></msub></mrow><mo lspace="0em" rspace="0em" id="alg1.l17.m1.2.2.2.3" xref="alg1.l17.m1.2.2.2.3.cmml">​</mo><mrow id="alg1.l17.m1.2.2.2.2.2" xref="alg1.l17.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l17.m1.2.2.2.2.2.3" xref="alg1.l17.m1.2.2.2.2.3.cmml">(</mo><msubsup id="alg1.l17.m1.1.1.1.1.1.1" xref="alg1.l17.m1.1.1.1.1.1.1.cmml"><mover accent="true" id="alg1.l17.m1.1.1.1.1.1.1.2.2" xref="alg1.l17.m1.1.1.1.1.1.1.2.2.cmml"><mi id="alg1.l17.m1.1.1.1.1.1.1.2.2.2" xref="alg1.l17.m1.1.1.1.1.1.1.2.2.2.cmml">D</mi><mo id="alg1.l17.m1.1.1.1.1.1.1.2.2.1" xref="alg1.l17.m1.1.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi mathvariant="normal" id="alg1.l17.m1.1.1.1.1.1.1.3" xref="alg1.l17.m1.1.1.1.1.1.1.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l17.m1.1.1.1.1.1.1.2.3" xref="alg1.l17.m1.1.1.1.1.1.1.2.3.cmml">c</mi></msubsup><mo id="alg1.l17.m1.2.2.2.2.2.4" xref="alg1.l17.m1.2.2.2.2.3.cmml">,</mo><msubsup id="alg1.l17.m1.2.2.2.2.2.2" xref="alg1.l17.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l17.m1.2.2.2.2.2.2.2.2" xref="alg1.l17.m1.2.2.2.2.2.2.2.2.cmml">f</mi><mi mathvariant="normal" id="alg1.l17.m1.2.2.2.2.2.2.3" xref="alg1.l17.m1.2.2.2.2.2.2.3.cmml">t</mi><mi id="alg1.l17.m1.2.2.2.2.2.2.2.3" xref="alg1.l17.m1.2.2.2.2.2.2.2.3.cmml">θ</mi></msubsup><mo stretchy="false" id="alg1.l17.m1.2.2.2.2.2.5" xref="alg1.l17.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l17.m1.2b"><apply id="alg1.l17.m1.2.2.cmml" xref="alg1.l17.m1.2.2"><ci id="alg1.l17.m1.2.2.3.cmml" xref="alg1.l17.m1.2.2.3">←</ci><apply id="alg1.l17.m1.2.2.4.cmml" xref="alg1.l17.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l17.m1.2.2.4.1.cmml" xref="alg1.l17.m1.2.2.4">subscript</csymbol><apply id="alg1.l17.m1.2.2.4.2.cmml" xref="alg1.l17.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l17.m1.2.2.4.2.1.cmml" xref="alg1.l17.m1.2.2.4">superscript</csymbol><ci id="alg1.l17.m1.2.2.4.2.2.cmml" xref="alg1.l17.m1.2.2.4.2.2">𝐺</ci><ci id="alg1.l17.m1.2.2.4.2.3.cmml" xref="alg1.l17.m1.2.2.4.2.3">c</ci></apply><ci id="alg1.l17.m1.2.2.4.3.cmml" xref="alg1.l17.m1.2.2.4.3">t</ci></apply><apply id="alg1.l17.m1.2.2.2.cmml" xref="alg1.l17.m1.2.2.2"><times id="alg1.l17.m1.2.2.2.3.cmml" xref="alg1.l17.m1.2.2.2.3"></times><apply id="alg1.l17.m1.2.2.2.4.cmml" xref="alg1.l17.m1.2.2.2.4"><apply id="alg1.l17.m1.2.2.2.4.1.cmml" xref="alg1.l17.m1.2.2.2.4.1"><csymbol cd="ambiguous" id="alg1.l17.m1.2.2.2.4.1.1.cmml" xref="alg1.l17.m1.2.2.2.4.1">subscript</csymbol><ci id="alg1.l17.m1.2.2.2.4.1.2.cmml" xref="alg1.l17.m1.2.2.2.4.1.2">∇</ci><ci id="alg1.l17.m1.2.2.2.4.1.3.cmml" xref="alg1.l17.m1.2.2.2.4.1.3">𝜃</ci></apply><apply id="alg1.l17.m1.2.2.2.4.2.cmml" xref="alg1.l17.m1.2.2.2.4.2"><csymbol cd="ambiguous" id="alg1.l17.m1.2.2.2.4.2.1.cmml" xref="alg1.l17.m1.2.2.2.4.2">subscript</csymbol><ci id="alg1.l17.m1.2.2.2.4.2.2.cmml" xref="alg1.l17.m1.2.2.2.4.2.2">ℒ</ci><ci id="alg1.l17.m1.2.2.2.4.2.3.cmml" xref="alg1.l17.m1.2.2.2.4.2.3">CE</ci></apply></apply><interval closure="open" id="alg1.l17.m1.2.2.2.2.3.cmml" xref="alg1.l17.m1.2.2.2.2.2"><apply id="alg1.l17.m1.1.1.1.1.1.1.cmml" xref="alg1.l17.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l17.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l17.m1.1.1.1.1.1.1">subscript</csymbol><apply id="alg1.l17.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l17.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l17.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l17.m1.1.1.1.1.1.1">superscript</csymbol><apply id="alg1.l17.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l17.m1.1.1.1.1.1.1.2.2"><ci id="alg1.l17.m1.1.1.1.1.1.1.2.2.1.cmml" xref="alg1.l17.m1.1.1.1.1.1.1.2.2.1">~</ci><ci id="alg1.l17.m1.1.1.1.1.1.1.2.2.2.cmml" xref="alg1.l17.m1.1.1.1.1.1.1.2.2.2">𝐷</ci></apply><ci id="alg1.l17.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l17.m1.1.1.1.1.1.1.2.3">c</ci></apply><ci id="alg1.l17.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l17.m1.1.1.1.1.1.1.3">t</ci></apply><apply id="alg1.l17.m1.2.2.2.2.2.2.cmml" xref="alg1.l17.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l17.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l17.m1.2.2.2.2.2.2">subscript</csymbol><apply id="alg1.l17.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l17.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l17.m1.2.2.2.2.2.2.2.1.cmml" xref="alg1.l17.m1.2.2.2.2.2.2">superscript</csymbol><ci id="alg1.l17.m1.2.2.2.2.2.2.2.2.cmml" xref="alg1.l17.m1.2.2.2.2.2.2.2.2">𝑓</ci><ci id="alg1.l17.m1.2.2.2.2.2.2.2.3.cmml" xref="alg1.l17.m1.2.2.2.2.2.2.2.3">𝜃</ci></apply><ci id="alg1.l17.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l17.m1.2.2.2.2.2.2.3">t</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m1.2c">G^{\rm c}_{\rm t}\leftarrow\nabla_{\theta}\mathcal{L}_{\rm CE}(\tilde{D}^{\rm c}_{\rm t},f^{\theta}_{\rm t})</annotation></semantics></math>

</div>
<div id="alg1.l18" class="ltx_listingline">         <span id="alg1.l18.1" class="ltx_text ltx_font_bold">else</span>
</div>
<div id="alg1.l19" class="ltx_listingline">              <math id="alg1.l19.m1.1" class="ltx_Math" alttext="\tilde{D}^{\rm c}_{\rm t}\leftarrow\tilde{D}^{\rm c}_{\rm t-1}" display="inline"><semantics id="alg1.l19.m1.1a"><mrow id="alg1.l19.m1.1.1" xref="alg1.l19.m1.1.1.cmml"><msubsup id="alg1.l19.m1.1.1.2" xref="alg1.l19.m1.1.1.2.cmml"><mover accent="true" id="alg1.l19.m1.1.1.2.2.2" xref="alg1.l19.m1.1.1.2.2.2.cmml"><mi id="alg1.l19.m1.1.1.2.2.2.2" xref="alg1.l19.m1.1.1.2.2.2.2.cmml">D</mi><mo id="alg1.l19.m1.1.1.2.2.2.1" xref="alg1.l19.m1.1.1.2.2.2.1.cmml">~</mo></mover><mi mathvariant="normal" id="alg1.l19.m1.1.1.2.3" xref="alg1.l19.m1.1.1.2.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l19.m1.1.1.2.2.3" xref="alg1.l19.m1.1.1.2.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="alg1.l19.m1.1.1.1" xref="alg1.l19.m1.1.1.1.cmml">←</mo><msubsup id="alg1.l19.m1.1.1.3" xref="alg1.l19.m1.1.1.3.cmml"><mover accent="true" id="alg1.l19.m1.1.1.3.2.2" xref="alg1.l19.m1.1.1.3.2.2.cmml"><mi id="alg1.l19.m1.1.1.3.2.2.2" xref="alg1.l19.m1.1.1.3.2.2.2.cmml">D</mi><mo id="alg1.l19.m1.1.1.3.2.2.1" xref="alg1.l19.m1.1.1.3.2.2.1.cmml">~</mo></mover><mrow id="alg1.l19.m1.1.1.3.3" xref="alg1.l19.m1.1.1.3.3.cmml"><mi mathvariant="normal" id="alg1.l19.m1.1.1.3.3.2" xref="alg1.l19.m1.1.1.3.3.2.cmml">t</mi><mo id="alg1.l19.m1.1.1.3.3.1" xref="alg1.l19.m1.1.1.3.3.1.cmml">−</mo><mn id="alg1.l19.m1.1.1.3.3.3" xref="alg1.l19.m1.1.1.3.3.3.cmml">1</mn></mrow><mi mathvariant="normal" id="alg1.l19.m1.1.1.3.2.3" xref="alg1.l19.m1.1.1.3.2.3.cmml">c</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="alg1.l19.m1.1b"><apply id="alg1.l19.m1.1.1.cmml" xref="alg1.l19.m1.1.1"><ci id="alg1.l19.m1.1.1.1.cmml" xref="alg1.l19.m1.1.1.1">←</ci><apply id="alg1.l19.m1.1.1.2.cmml" xref="alg1.l19.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l19.m1.1.1.2.1.cmml" xref="alg1.l19.m1.1.1.2">subscript</csymbol><apply id="alg1.l19.m1.1.1.2.2.cmml" xref="alg1.l19.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l19.m1.1.1.2.2.1.cmml" xref="alg1.l19.m1.1.1.2">superscript</csymbol><apply id="alg1.l19.m1.1.1.2.2.2.cmml" xref="alg1.l19.m1.1.1.2.2.2"><ci id="alg1.l19.m1.1.1.2.2.2.1.cmml" xref="alg1.l19.m1.1.1.2.2.2.1">~</ci><ci id="alg1.l19.m1.1.1.2.2.2.2.cmml" xref="alg1.l19.m1.1.1.2.2.2.2">𝐷</ci></apply><ci id="alg1.l19.m1.1.1.2.2.3.cmml" xref="alg1.l19.m1.1.1.2.2.3">c</ci></apply><ci id="alg1.l19.m1.1.1.2.3.cmml" xref="alg1.l19.m1.1.1.2.3">t</ci></apply><apply id="alg1.l19.m1.1.1.3.cmml" xref="alg1.l19.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l19.m1.1.1.3.1.cmml" xref="alg1.l19.m1.1.1.3">subscript</csymbol><apply id="alg1.l19.m1.1.1.3.2.cmml" xref="alg1.l19.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l19.m1.1.1.3.2.1.cmml" xref="alg1.l19.m1.1.1.3">superscript</csymbol><apply id="alg1.l19.m1.1.1.3.2.2.cmml" xref="alg1.l19.m1.1.1.3.2.2"><ci id="alg1.l19.m1.1.1.3.2.2.1.cmml" xref="alg1.l19.m1.1.1.3.2.2.1">~</ci><ci id="alg1.l19.m1.1.1.3.2.2.2.cmml" xref="alg1.l19.m1.1.1.3.2.2.2">𝐷</ci></apply><ci id="alg1.l19.m1.1.1.3.2.3.cmml" xref="alg1.l19.m1.1.1.3.2.3">c</ci></apply><apply id="alg1.l19.m1.1.1.3.3.cmml" xref="alg1.l19.m1.1.1.3.3"><minus id="alg1.l19.m1.1.1.3.3.1.cmml" xref="alg1.l19.m1.1.1.3.3.1"></minus><ci id="alg1.l19.m1.1.1.3.3.2.cmml" xref="alg1.l19.m1.1.1.3.3.2">t</ci><cn type="integer" id="alg1.l19.m1.1.1.3.3.3.cmml" xref="alg1.l19.m1.1.1.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l19.m1.1c">\tilde{D}^{\rm c}_{\rm t}\leftarrow\tilde{D}^{\rm c}_{\rm t-1}</annotation></semantics></math>

</div>
<div id="alg1.l20" class="ltx_listingline">              <math id="alg1.l20.m1.2" class="ltx_Math" alttext="G^{\rm c}_{\rm t}\leftarrow\nabla_{\theta}\left(\mathcal{L}_{\rm CE}(\tilde{D}^{\rm c}_{\rm t},f^{\theta}_{\rm t})+\lambda\mathcal{L}_{\rm CON}(\psi^{\theta}_{\rm t}(\tilde{D}^{\rm g}_{\rm t}),\psi^{\theta}_{\rm t}(\tilde{D}^{\rm c}_{\rm t}))\right)" display="inline"><semantics id="alg1.l20.m1.2a"><mrow id="alg1.l20.m1.2.2" xref="alg1.l20.m1.2.2.cmml"><msubsup id="alg1.l20.m1.2.2.4" xref="alg1.l20.m1.2.2.4.cmml"><mi id="alg1.l20.m1.2.2.4.2.2" xref="alg1.l20.m1.2.2.4.2.2.cmml">G</mi><mi mathvariant="normal" id="alg1.l20.m1.2.2.4.3" xref="alg1.l20.m1.2.2.4.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l20.m1.2.2.4.2.3" xref="alg1.l20.m1.2.2.4.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="alg1.l20.m1.2.2.3" xref="alg1.l20.m1.2.2.3.cmml">←</mo><mrow id="alg1.l20.m1.2.2.2.2" xref="alg1.l20.m1.2.2.2.3.cmml"><msub id="alg1.l20.m1.1.1.1.1.1" xref="alg1.l20.m1.1.1.1.1.1.cmml"><mo id="alg1.l20.m1.1.1.1.1.1.2" xref="alg1.l20.m1.1.1.1.1.1.2.cmml">∇</mo><mi id="alg1.l20.m1.1.1.1.1.1.3" xref="alg1.l20.m1.1.1.1.1.1.3.cmml">θ</mi></msub><mrow id="alg1.l20.m1.2.2.2.2.2" xref="alg1.l20.m1.2.2.2.3.cmml"><mo id="alg1.l20.m1.2.2.2.2.2.2" xref="alg1.l20.m1.2.2.2.3.cmml">(</mo><mrow id="alg1.l20.m1.2.2.2.2.2.1" xref="alg1.l20.m1.2.2.2.2.2.1.cmml"><mrow id="alg1.l20.m1.2.2.2.2.2.1.2" xref="alg1.l20.m1.2.2.2.2.2.1.2.cmml"><msub id="alg1.l20.m1.2.2.2.2.2.1.2.4" xref="alg1.l20.m1.2.2.2.2.2.1.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l20.m1.2.2.2.2.2.1.2.4.2" xref="alg1.l20.m1.2.2.2.2.2.1.2.4.2.cmml">ℒ</mi><mi id="alg1.l20.m1.2.2.2.2.2.1.2.4.3" xref="alg1.l20.m1.2.2.2.2.2.1.2.4.3.cmml">CE</mi></msub><mo lspace="0em" rspace="0em" id="alg1.l20.m1.2.2.2.2.2.1.2.3" xref="alg1.l20.m1.2.2.2.2.2.1.2.3.cmml">​</mo><mrow id="alg1.l20.m1.2.2.2.2.2.1.2.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.3.cmml"><mo stretchy="false" id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.3" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.3.cmml">(</mo><msubsup id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.cmml"><mover accent="true" id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2.cmml"><mi id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2.2.cmml">D</mi><mo id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2.1" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi mathvariant="normal" id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.3" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.3" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.3.cmml">c</mi></msubsup><mo id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.4" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.3.cmml">,</mo><msubsup id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.cmml"><mi id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.2.2.cmml">f</mi><mi mathvariant="normal" id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.3" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.3.cmml">t</mi><mi id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.2.3" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.2.3.cmml">θ</mi></msubsup><mo stretchy="false" id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.5" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="alg1.l20.m1.2.2.2.2.2.1.5" xref="alg1.l20.m1.2.2.2.2.2.1.5.cmml">+</mo><mrow id="alg1.l20.m1.2.2.2.2.2.1.4" xref="alg1.l20.m1.2.2.2.2.2.1.4.cmml"><mi id="alg1.l20.m1.2.2.2.2.2.1.4.4" xref="alg1.l20.m1.2.2.2.2.2.1.4.4.cmml">λ</mi><mo lspace="0em" rspace="0em" id="alg1.l20.m1.2.2.2.2.2.1.4.3" xref="alg1.l20.m1.2.2.2.2.2.1.4.3.cmml">​</mo><msub id="alg1.l20.m1.2.2.2.2.2.1.4.5" xref="alg1.l20.m1.2.2.2.2.2.1.4.5.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l20.m1.2.2.2.2.2.1.4.5.2" xref="alg1.l20.m1.2.2.2.2.2.1.4.5.2.cmml">ℒ</mi><mi id="alg1.l20.m1.2.2.2.2.2.1.4.5.3" xref="alg1.l20.m1.2.2.2.2.2.1.4.5.3.cmml">CON</mi></msub><mo lspace="0em" rspace="0em" id="alg1.l20.m1.2.2.2.2.2.1.4.3a" xref="alg1.l20.m1.2.2.2.2.2.1.4.3.cmml">​</mo><mrow id="alg1.l20.m1.2.2.2.2.2.1.4.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.3.cmml"><mo stretchy="false" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.3" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.3.cmml">(</mo><mrow id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.cmml"><msubsup id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.cmml"><mi id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.2.2.cmml">ψ</mi><mi mathvariant="normal" id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.3" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.3.cmml">t</mi><mi id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.2.3" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.2.3.cmml">θ</mi></msubsup><mo lspace="0em" rspace="0em" id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.2" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.2.cmml">​</mo><mrow id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.2" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.cmml">(</mo><msubsup id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.cmml"><mover accent="true" id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2.cmml"><mi id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2.2.cmml">D</mi><mo id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2.1" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi mathvariant="normal" id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.3" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.3" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.3.cmml">g</mi></msubsup><mo stretchy="false" id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.3" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.4" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.3.cmml">,</mo><mrow id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.cmml"><msubsup id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.cmml"><mi id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.2.2.cmml">ψ</mi><mi mathvariant="normal" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.3" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.3.cmml">t</mi><mi id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.2.3" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.2.3.cmml">θ</mi></msubsup><mo lspace="0em" rspace="0em" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.2.cmml">​</mo><mrow id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.cmml"><mo stretchy="false" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.2" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.cmml">(</mo><msubsup id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.cmml"><mover accent="true" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2.cmml"><mi id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2.2" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2.2.cmml">D</mi><mo id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2.1" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2.1.cmml">~</mo></mover><mi mathvariant="normal" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.3" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.3" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.3" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.5" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="alg1.l20.m1.2.2.2.2.2.3" xref="alg1.l20.m1.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l20.m1.2b"><apply id="alg1.l20.m1.2.2.cmml" xref="alg1.l20.m1.2.2"><ci id="alg1.l20.m1.2.2.3.cmml" xref="alg1.l20.m1.2.2.3">←</ci><apply id="alg1.l20.m1.2.2.4.cmml" xref="alg1.l20.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.4.1.cmml" xref="alg1.l20.m1.2.2.4">subscript</csymbol><apply id="alg1.l20.m1.2.2.4.2.cmml" xref="alg1.l20.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.4.2.1.cmml" xref="alg1.l20.m1.2.2.4">superscript</csymbol><ci id="alg1.l20.m1.2.2.4.2.2.cmml" xref="alg1.l20.m1.2.2.4.2.2">𝐺</ci><ci id="alg1.l20.m1.2.2.4.2.3.cmml" xref="alg1.l20.m1.2.2.4.2.3">c</ci></apply><ci id="alg1.l20.m1.2.2.4.3.cmml" xref="alg1.l20.m1.2.2.4.3">t</ci></apply><apply id="alg1.l20.m1.2.2.2.3.cmml" xref="alg1.l20.m1.2.2.2.2"><apply id="alg1.l20.m1.1.1.1.1.1.cmml" xref="alg1.l20.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l20.m1.1.1.1.1.1.1.cmml" xref="alg1.l20.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l20.m1.1.1.1.1.1.2.cmml" xref="alg1.l20.m1.1.1.1.1.1.2">∇</ci><ci id="alg1.l20.m1.1.1.1.1.1.3.cmml" xref="alg1.l20.m1.1.1.1.1.1.3">𝜃</ci></apply><apply id="alg1.l20.m1.2.2.2.2.2.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1"><plus id="alg1.l20.m1.2.2.2.2.2.1.5.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.5"></plus><apply id="alg1.l20.m1.2.2.2.2.2.1.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2"><times id="alg1.l20.m1.2.2.2.2.2.1.2.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.3"></times><apply id="alg1.l20.m1.2.2.2.2.2.1.2.4.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.4"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.2.4.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.4">subscript</csymbol><ci id="alg1.l20.m1.2.2.2.2.2.1.2.4.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.4.2">ℒ</ci><ci id="alg1.l20.m1.2.2.2.2.2.1.2.4.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.4.3">CE</ci></apply><interval closure="open" id="alg1.l20.m1.2.2.2.2.2.1.2.2.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2"><apply id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1">subscript</csymbol><apply id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1">superscript</csymbol><apply id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2"><ci id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2.1">~</ci><ci id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.2.2">𝐷</ci></apply><ci id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.2.3">c</ci></apply><ci id="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.1.1.1.1.3">t</ci></apply><apply id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2">subscript</csymbol><apply id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.2.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2">superscript</csymbol><ci id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.2.2">𝑓</ci><ci id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.2.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.2.3">𝜃</ci></apply><ci id="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.2.2.2.2.3">t</ci></apply></interval></apply><apply id="alg1.l20.m1.2.2.2.2.2.1.4.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4"><times id="alg1.l20.m1.2.2.2.2.2.1.4.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.3"></times><ci id="alg1.l20.m1.2.2.2.2.2.1.4.4.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.4">𝜆</ci><apply id="alg1.l20.m1.2.2.2.2.2.1.4.5.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.5"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.4.5.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.5">subscript</csymbol><ci id="alg1.l20.m1.2.2.2.2.2.1.4.5.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.5.2">ℒ</ci><ci id="alg1.l20.m1.2.2.2.2.2.1.4.5.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.5.3">CON</ci></apply><interval closure="open" id="alg1.l20.m1.2.2.2.2.2.1.4.2.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2"><apply id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1"><times id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.2"></times><apply id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3">subscript</csymbol><apply id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.2.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3">superscript</csymbol><ci id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.2.2">𝜓</ci><ci id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.2.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.2.3">𝜃</ci></apply><ci id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.3.3">t</ci></apply><apply id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1">subscript</csymbol><apply id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1">superscript</csymbol><apply id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2"><ci id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2.1">~</ci><ci id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.2.2">𝐷</ci></apply><ci id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.2.3">g</ci></apply><ci id="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.3.1.1.1.1.1.1.3">t</ci></apply></apply><apply id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2"><times id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.2"></times><apply id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3">subscript</csymbol><apply id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.2.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3">superscript</csymbol><ci id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.2.2">𝜓</ci><ci id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.2.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.2.3">𝜃</ci></apply><ci id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.3.3">t</ci></apply><apply id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1">subscript</csymbol><apply id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1">superscript</csymbol><apply id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2"><ci id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2.1.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2.1">~</ci><ci id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2.2.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.2.2">𝐷</ci></apply><ci id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.2.3">c</ci></apply><ci id="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.3.cmml" xref="alg1.l20.m1.2.2.2.2.2.1.4.2.2.2.1.1.1.3">t</ci></apply></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l20.m1.2c">G^{\rm c}_{\rm t}\leftarrow\nabla_{\theta}\left(\mathcal{L}_{\rm CE}(\tilde{D}^{\rm c}_{\rm t},f^{\theta}_{\rm t})+\lambda\mathcal{L}_{\rm CON}(\psi^{\theta}_{\rm t}(\tilde{D}^{\rm g}_{\rm t}),\psi^{\theta}_{\rm t}(\tilde{D}^{\rm c}_{\rm t}))\right)</annotation></semantics></math>

</div>
<div id="alg1.l21" class="ltx_listingline">         <span id="alg1.l21.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l21.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg1.l22" class="ltx_listingline">         Uploads <math id="alg1.l22.m1.1" class="ltx_Math" alttext="G^{\rm c}_{t}" display="inline"><semantics id="alg1.l22.m1.1a"><msubsup id="alg1.l22.m1.1.1" xref="alg1.l22.m1.1.1.cmml"><mi id="alg1.l22.m1.1.1.2.2" xref="alg1.l22.m1.1.1.2.2.cmml">G</mi><mi id="alg1.l22.m1.1.1.3" xref="alg1.l22.m1.1.1.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l22.m1.1.1.2.3" xref="alg1.l22.m1.1.1.2.3.cmml">c</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l22.m1.1b"><apply id="alg1.l22.m1.1.1.cmml" xref="alg1.l22.m1.1.1"><csymbol cd="ambiguous" id="alg1.l22.m1.1.1.1.cmml" xref="alg1.l22.m1.1.1">subscript</csymbol><apply id="alg1.l22.m1.1.1.2.cmml" xref="alg1.l22.m1.1.1"><csymbol cd="ambiguous" id="alg1.l22.m1.1.1.2.1.cmml" xref="alg1.l22.m1.1.1">superscript</csymbol><ci id="alg1.l22.m1.1.1.2.2.cmml" xref="alg1.l22.m1.1.1.2.2">𝐺</ci><ci id="alg1.l22.m1.1.1.2.3.cmml" xref="alg1.l22.m1.1.1.2.3">c</ci></apply><ci id="alg1.l22.m1.1.1.3.cmml" xref="alg1.l22.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l22.m1.1c">G^{\rm c}_{t}</annotation></semantics></math> to Server

</div>
<div id="alg1.l23" class="ltx_listingline">     <span id="alg1.l23.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l23.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l24" class="ltx_listingline">     <span id="alg1.l24.1" class="ltx_text ltx_font_bold">Server:</span>

</div>
<div id="alg1.l25" class="ltx_listingline">     <math id="alg1.l25.m1.3" class="ltx_Math" alttext="G^{\rm g}_{\rm t}\leftarrow{\rm Aggregate}(G^{\rm 1}_{\rm t},...,G^{\rm c}_{\rm t})" display="inline"><semantics id="alg1.l25.m1.3a"><mrow id="alg1.l25.m1.3.3" xref="alg1.l25.m1.3.3.cmml"><msubsup id="alg1.l25.m1.3.3.4" xref="alg1.l25.m1.3.3.4.cmml"><mi id="alg1.l25.m1.3.3.4.2.2" xref="alg1.l25.m1.3.3.4.2.2.cmml">G</mi><mi mathvariant="normal" id="alg1.l25.m1.3.3.4.3" xref="alg1.l25.m1.3.3.4.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l25.m1.3.3.4.2.3" xref="alg1.l25.m1.3.3.4.2.3.cmml">g</mi></msubsup><mo stretchy="false" id="alg1.l25.m1.3.3.3" xref="alg1.l25.m1.3.3.3.cmml">←</mo><mrow id="alg1.l25.m1.3.3.2" xref="alg1.l25.m1.3.3.2.cmml"><mi id="alg1.l25.m1.3.3.2.4" xref="alg1.l25.m1.3.3.2.4.cmml">Aggregate</mi><mo lspace="0em" rspace="0em" id="alg1.l25.m1.3.3.2.3" xref="alg1.l25.m1.3.3.2.3.cmml">​</mo><mrow id="alg1.l25.m1.3.3.2.2.2" xref="alg1.l25.m1.3.3.2.2.3.cmml"><mo stretchy="false" id="alg1.l25.m1.3.3.2.2.2.3" xref="alg1.l25.m1.3.3.2.2.3.cmml">(</mo><msubsup id="alg1.l25.m1.2.2.1.1.1.1" xref="alg1.l25.m1.2.2.1.1.1.1.cmml"><mi id="alg1.l25.m1.2.2.1.1.1.1.2.2" xref="alg1.l25.m1.2.2.1.1.1.1.2.2.cmml">G</mi><mi mathvariant="normal" id="alg1.l25.m1.2.2.1.1.1.1.3" xref="alg1.l25.m1.2.2.1.1.1.1.3.cmml">t</mi><mn id="alg1.l25.m1.2.2.1.1.1.1.2.3" xref="alg1.l25.m1.2.2.1.1.1.1.2.3.cmml">1</mn></msubsup><mo id="alg1.l25.m1.3.3.2.2.2.4" xref="alg1.l25.m1.3.3.2.2.3.cmml">,</mo><mi mathvariant="normal" id="alg1.l25.m1.1.1" xref="alg1.l25.m1.1.1.cmml">…</mi><mo id="alg1.l25.m1.3.3.2.2.2.5" xref="alg1.l25.m1.3.3.2.2.3.cmml">,</mo><msubsup id="alg1.l25.m1.3.3.2.2.2.2" xref="alg1.l25.m1.3.3.2.2.2.2.cmml"><mi id="alg1.l25.m1.3.3.2.2.2.2.2.2" xref="alg1.l25.m1.3.3.2.2.2.2.2.2.cmml">G</mi><mi mathvariant="normal" id="alg1.l25.m1.3.3.2.2.2.2.3" xref="alg1.l25.m1.3.3.2.2.2.2.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l25.m1.3.3.2.2.2.2.2.3" xref="alg1.l25.m1.3.3.2.2.2.2.2.3.cmml">c</mi></msubsup><mo stretchy="false" id="alg1.l25.m1.3.3.2.2.2.6" xref="alg1.l25.m1.3.3.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l25.m1.3b"><apply id="alg1.l25.m1.3.3.cmml" xref="alg1.l25.m1.3.3"><ci id="alg1.l25.m1.3.3.3.cmml" xref="alg1.l25.m1.3.3.3">←</ci><apply id="alg1.l25.m1.3.3.4.cmml" xref="alg1.l25.m1.3.3.4"><csymbol cd="ambiguous" id="alg1.l25.m1.3.3.4.1.cmml" xref="alg1.l25.m1.3.3.4">subscript</csymbol><apply id="alg1.l25.m1.3.3.4.2.cmml" xref="alg1.l25.m1.3.3.4"><csymbol cd="ambiguous" id="alg1.l25.m1.3.3.4.2.1.cmml" xref="alg1.l25.m1.3.3.4">superscript</csymbol><ci id="alg1.l25.m1.3.3.4.2.2.cmml" xref="alg1.l25.m1.3.3.4.2.2">𝐺</ci><ci id="alg1.l25.m1.3.3.4.2.3.cmml" xref="alg1.l25.m1.3.3.4.2.3">g</ci></apply><ci id="alg1.l25.m1.3.3.4.3.cmml" xref="alg1.l25.m1.3.3.4.3">t</ci></apply><apply id="alg1.l25.m1.3.3.2.cmml" xref="alg1.l25.m1.3.3.2"><times id="alg1.l25.m1.3.3.2.3.cmml" xref="alg1.l25.m1.3.3.2.3"></times><ci id="alg1.l25.m1.3.3.2.4.cmml" xref="alg1.l25.m1.3.3.2.4">Aggregate</ci><vector id="alg1.l25.m1.3.3.2.2.3.cmml" xref="alg1.l25.m1.3.3.2.2.2"><apply id="alg1.l25.m1.2.2.1.1.1.1.cmml" xref="alg1.l25.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l25.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l25.m1.2.2.1.1.1.1">subscript</csymbol><apply id="alg1.l25.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l25.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l25.m1.2.2.1.1.1.1.2.1.cmml" xref="alg1.l25.m1.2.2.1.1.1.1">superscript</csymbol><ci id="alg1.l25.m1.2.2.1.1.1.1.2.2.cmml" xref="alg1.l25.m1.2.2.1.1.1.1.2.2">𝐺</ci><cn type="integer" id="alg1.l25.m1.2.2.1.1.1.1.2.3.cmml" xref="alg1.l25.m1.2.2.1.1.1.1.2.3">1</cn></apply><ci id="alg1.l25.m1.2.2.1.1.1.1.3.cmml" xref="alg1.l25.m1.2.2.1.1.1.1.3">t</ci></apply><ci id="alg1.l25.m1.1.1.cmml" xref="alg1.l25.m1.1.1">…</ci><apply id="alg1.l25.m1.3.3.2.2.2.2.cmml" xref="alg1.l25.m1.3.3.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l25.m1.3.3.2.2.2.2.1.cmml" xref="alg1.l25.m1.3.3.2.2.2.2">subscript</csymbol><apply id="alg1.l25.m1.3.3.2.2.2.2.2.cmml" xref="alg1.l25.m1.3.3.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l25.m1.3.3.2.2.2.2.2.1.cmml" xref="alg1.l25.m1.3.3.2.2.2.2">superscript</csymbol><ci id="alg1.l25.m1.3.3.2.2.2.2.2.2.cmml" xref="alg1.l25.m1.3.3.2.2.2.2.2.2">𝐺</ci><ci id="alg1.l25.m1.3.3.2.2.2.2.2.3.cmml" xref="alg1.l25.m1.3.3.2.2.2.2.2.3">c</ci></apply><ci id="alg1.l25.m1.3.3.2.2.2.2.3.cmml" xref="alg1.l25.m1.3.3.2.2.2.2.3">t</ci></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l25.m1.3c">G^{\rm g}_{\rm t}\leftarrow{\rm Aggregate}(G^{\rm 1}_{\rm t},...,G^{\rm c}_{\rm t})</annotation></semantics></math>

</div>
<div id="alg1.l26" class="ltx_listingline">     <span id="alg1.l26.2" class="ltx_text ltx_font_bold">if</span> <math id="alg1.l26.m1.1" class="ltx_Math" alttext="t\in\tau" display="inline"><semantics id="alg1.l26.m1.1a"><mrow id="alg1.l26.m1.1.1" xref="alg1.l26.m1.1.1.cmml"><mi id="alg1.l26.m1.1.1.2" xref="alg1.l26.m1.1.1.2.cmml">t</mi><mo id="alg1.l26.m1.1.1.1" xref="alg1.l26.m1.1.1.1.cmml">∈</mo><mi id="alg1.l26.m1.1.1.3" xref="alg1.l26.m1.1.1.3.cmml">τ</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l26.m1.1b"><apply id="alg1.l26.m1.1.1.cmml" xref="alg1.l26.m1.1.1"><in id="alg1.l26.m1.1.1.1.cmml" xref="alg1.l26.m1.1.1.1"></in><ci id="alg1.l26.m1.1.1.2.cmml" xref="alg1.l26.m1.1.1.2">𝑡</ci><ci id="alg1.l26.m1.1.1.3.cmml" xref="alg1.l26.m1.1.1.3">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l26.m1.1c">t\in\tau</annotation></semantics></math> <span id="alg1.l26.3" class="ltx_text ltx_font_bold">then</span>
<span id="alg1.l26.1" class="ltx_text" style="float:right;"><math id="alg1.l26.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l26.1.m1.1a"><mo id="alg1.l26.1.m1.1.1" xref="alg1.l26.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l26.1.m1.1b"><ci id="alg1.l26.1.m1.1.1.cmml" xref="alg1.l26.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l26.1.m1.1c">\triangleright</annotation></semantics></math> Local-global distillation
</span>
</div>
<div id="alg1.l27" class="ltx_listingline">         <math id="alg1.l27.m1.2" class="ltx_Math" alttext="\tilde{D}^{\rm g}_{\rm t+1}\leftarrow{\rm FederatedGradientMatch}(\tilde{D}^{\rm g}_{\rm t},G^{\rm g}_{\rm t})" display="inline"><semantics id="alg1.l27.m1.2a"><mrow id="alg1.l27.m1.2.2" xref="alg1.l27.m1.2.2.cmml"><msubsup id="alg1.l27.m1.2.2.4" xref="alg1.l27.m1.2.2.4.cmml"><mover accent="true" id="alg1.l27.m1.2.2.4.2.2" xref="alg1.l27.m1.2.2.4.2.2.cmml"><mi id="alg1.l27.m1.2.2.4.2.2.2" xref="alg1.l27.m1.2.2.4.2.2.2.cmml">D</mi><mo id="alg1.l27.m1.2.2.4.2.2.1" xref="alg1.l27.m1.2.2.4.2.2.1.cmml">~</mo></mover><mrow id="alg1.l27.m1.2.2.4.3" xref="alg1.l27.m1.2.2.4.3.cmml"><mi mathvariant="normal" id="alg1.l27.m1.2.2.4.3.2" xref="alg1.l27.m1.2.2.4.3.2.cmml">t</mi><mo id="alg1.l27.m1.2.2.4.3.1" xref="alg1.l27.m1.2.2.4.3.1.cmml">+</mo><mn id="alg1.l27.m1.2.2.4.3.3" xref="alg1.l27.m1.2.2.4.3.3.cmml">1</mn></mrow><mi mathvariant="normal" id="alg1.l27.m1.2.2.4.2.3" xref="alg1.l27.m1.2.2.4.2.3.cmml">g</mi></msubsup><mo stretchy="false" id="alg1.l27.m1.2.2.3" xref="alg1.l27.m1.2.2.3.cmml">←</mo><mrow id="alg1.l27.m1.2.2.2" xref="alg1.l27.m1.2.2.2.cmml"><mi id="alg1.l27.m1.2.2.2.4" xref="alg1.l27.m1.2.2.2.4.cmml">FederatedGradientMatch</mi><mo lspace="0em" rspace="0em" id="alg1.l27.m1.2.2.2.3" xref="alg1.l27.m1.2.2.2.3.cmml">​</mo><mrow id="alg1.l27.m1.2.2.2.2.2" xref="alg1.l27.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l27.m1.2.2.2.2.2.3" xref="alg1.l27.m1.2.2.2.2.3.cmml">(</mo><msubsup id="alg1.l27.m1.1.1.1.1.1.1" xref="alg1.l27.m1.1.1.1.1.1.1.cmml"><mover accent="true" id="alg1.l27.m1.1.1.1.1.1.1.2.2" xref="alg1.l27.m1.1.1.1.1.1.1.2.2.cmml"><mi id="alg1.l27.m1.1.1.1.1.1.1.2.2.2" xref="alg1.l27.m1.1.1.1.1.1.1.2.2.2.cmml">D</mi><mo id="alg1.l27.m1.1.1.1.1.1.1.2.2.1" xref="alg1.l27.m1.1.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi mathvariant="normal" id="alg1.l27.m1.1.1.1.1.1.1.3" xref="alg1.l27.m1.1.1.1.1.1.1.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l27.m1.1.1.1.1.1.1.2.3" xref="alg1.l27.m1.1.1.1.1.1.1.2.3.cmml">g</mi></msubsup><mo id="alg1.l27.m1.2.2.2.2.2.4" xref="alg1.l27.m1.2.2.2.2.3.cmml">,</mo><msubsup id="alg1.l27.m1.2.2.2.2.2.2" xref="alg1.l27.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l27.m1.2.2.2.2.2.2.2.2" xref="alg1.l27.m1.2.2.2.2.2.2.2.2.cmml">G</mi><mi mathvariant="normal" id="alg1.l27.m1.2.2.2.2.2.2.3" xref="alg1.l27.m1.2.2.2.2.2.2.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l27.m1.2.2.2.2.2.2.2.3" xref="alg1.l27.m1.2.2.2.2.2.2.2.3.cmml">g</mi></msubsup><mo stretchy="false" id="alg1.l27.m1.2.2.2.2.2.5" xref="alg1.l27.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l27.m1.2b"><apply id="alg1.l27.m1.2.2.cmml" xref="alg1.l27.m1.2.2"><ci id="alg1.l27.m1.2.2.3.cmml" xref="alg1.l27.m1.2.2.3">←</ci><apply id="alg1.l27.m1.2.2.4.cmml" xref="alg1.l27.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l27.m1.2.2.4.1.cmml" xref="alg1.l27.m1.2.2.4">subscript</csymbol><apply id="alg1.l27.m1.2.2.4.2.cmml" xref="alg1.l27.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l27.m1.2.2.4.2.1.cmml" xref="alg1.l27.m1.2.2.4">superscript</csymbol><apply id="alg1.l27.m1.2.2.4.2.2.cmml" xref="alg1.l27.m1.2.2.4.2.2"><ci id="alg1.l27.m1.2.2.4.2.2.1.cmml" xref="alg1.l27.m1.2.2.4.2.2.1">~</ci><ci id="alg1.l27.m1.2.2.4.2.2.2.cmml" xref="alg1.l27.m1.2.2.4.2.2.2">𝐷</ci></apply><ci id="alg1.l27.m1.2.2.4.2.3.cmml" xref="alg1.l27.m1.2.2.4.2.3">g</ci></apply><apply id="alg1.l27.m1.2.2.4.3.cmml" xref="alg1.l27.m1.2.2.4.3"><plus id="alg1.l27.m1.2.2.4.3.1.cmml" xref="alg1.l27.m1.2.2.4.3.1"></plus><ci id="alg1.l27.m1.2.2.4.3.2.cmml" xref="alg1.l27.m1.2.2.4.3.2">t</ci><cn type="integer" id="alg1.l27.m1.2.2.4.3.3.cmml" xref="alg1.l27.m1.2.2.4.3.3">1</cn></apply></apply><apply id="alg1.l27.m1.2.2.2.cmml" xref="alg1.l27.m1.2.2.2"><times id="alg1.l27.m1.2.2.2.3.cmml" xref="alg1.l27.m1.2.2.2.3"></times><ci id="alg1.l27.m1.2.2.2.4.cmml" xref="alg1.l27.m1.2.2.2.4">FederatedGradientMatch</ci><interval closure="open" id="alg1.l27.m1.2.2.2.2.3.cmml" xref="alg1.l27.m1.2.2.2.2.2"><apply id="alg1.l27.m1.1.1.1.1.1.1.cmml" xref="alg1.l27.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l27.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l27.m1.1.1.1.1.1.1">subscript</csymbol><apply id="alg1.l27.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l27.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l27.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l27.m1.1.1.1.1.1.1">superscript</csymbol><apply id="alg1.l27.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.2.2"><ci id="alg1.l27.m1.1.1.1.1.1.1.2.2.1.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.2.2.1">~</ci><ci id="alg1.l27.m1.1.1.1.1.1.1.2.2.2.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.2.2.2">𝐷</ci></apply><ci id="alg1.l27.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.2.3">g</ci></apply><ci id="alg1.l27.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.3">t</ci></apply><apply id="alg1.l27.m1.2.2.2.2.2.2.cmml" xref="alg1.l27.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l27.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l27.m1.2.2.2.2.2.2">subscript</csymbol><apply id="alg1.l27.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l27.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l27.m1.2.2.2.2.2.2.2.1.cmml" xref="alg1.l27.m1.2.2.2.2.2.2">superscript</csymbol><ci id="alg1.l27.m1.2.2.2.2.2.2.2.2.cmml" xref="alg1.l27.m1.2.2.2.2.2.2.2.2">𝐺</ci><ci id="alg1.l27.m1.2.2.2.2.2.2.2.3.cmml" xref="alg1.l27.m1.2.2.2.2.2.2.2.3">g</ci></apply><ci id="alg1.l27.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l27.m1.2.2.2.2.2.2.3">t</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l27.m1.2c">\tilde{D}^{\rm g}_{\rm t+1}\leftarrow{\rm FederatedGradientMatch}(\tilde{D}^{\rm g}_{\rm t},G^{\rm g}_{\rm t})</annotation></semantics></math>

</div>
<div id="alg1.l28" class="ltx_listingline">         Send <math id="alg1.l28.m1.1" class="ltx_Math" alttext="\tilde{D}^{\rm g}_{\rm t+1}" display="inline"><semantics id="alg1.l28.m1.1a"><msubsup id="alg1.l28.m1.1.1" xref="alg1.l28.m1.1.1.cmml"><mover accent="true" id="alg1.l28.m1.1.1.2.2" xref="alg1.l28.m1.1.1.2.2.cmml"><mi id="alg1.l28.m1.1.1.2.2.2" xref="alg1.l28.m1.1.1.2.2.2.cmml">D</mi><mo id="alg1.l28.m1.1.1.2.2.1" xref="alg1.l28.m1.1.1.2.2.1.cmml">~</mo></mover><mrow id="alg1.l28.m1.1.1.3" xref="alg1.l28.m1.1.1.3.cmml"><mi mathvariant="normal" id="alg1.l28.m1.1.1.3.2" xref="alg1.l28.m1.1.1.3.2.cmml">t</mi><mo id="alg1.l28.m1.1.1.3.1" xref="alg1.l28.m1.1.1.3.1.cmml">+</mo><mn id="alg1.l28.m1.1.1.3.3" xref="alg1.l28.m1.1.1.3.3.cmml">1</mn></mrow><mi mathvariant="normal" id="alg1.l28.m1.1.1.2.3" xref="alg1.l28.m1.1.1.2.3.cmml">g</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l28.m1.1b"><apply id="alg1.l28.m1.1.1.cmml" xref="alg1.l28.m1.1.1"><csymbol cd="ambiguous" id="alg1.l28.m1.1.1.1.cmml" xref="alg1.l28.m1.1.1">subscript</csymbol><apply id="alg1.l28.m1.1.1.2.cmml" xref="alg1.l28.m1.1.1"><csymbol cd="ambiguous" id="alg1.l28.m1.1.1.2.1.cmml" xref="alg1.l28.m1.1.1">superscript</csymbol><apply id="alg1.l28.m1.1.1.2.2.cmml" xref="alg1.l28.m1.1.1.2.2"><ci id="alg1.l28.m1.1.1.2.2.1.cmml" xref="alg1.l28.m1.1.1.2.2.1">~</ci><ci id="alg1.l28.m1.1.1.2.2.2.cmml" xref="alg1.l28.m1.1.1.2.2.2">𝐷</ci></apply><ci id="alg1.l28.m1.1.1.2.3.cmml" xref="alg1.l28.m1.1.1.2.3">g</ci></apply><apply id="alg1.l28.m1.1.1.3.cmml" xref="alg1.l28.m1.1.1.3"><plus id="alg1.l28.m1.1.1.3.1.cmml" xref="alg1.l28.m1.1.1.3.1"></plus><ci id="alg1.l28.m1.1.1.3.2.cmml" xref="alg1.l28.m1.1.1.3.2">t</ci><cn type="integer" id="alg1.l28.m1.1.1.3.3.cmml" xref="alg1.l28.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l28.m1.1c">\tilde{D}^{\rm g}_{\rm t+1}</annotation></semantics></math> to Clients

</div>
<div id="alg1.l29" class="ltx_listingline">     <span id="alg1.l29.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l29.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg1.l30" class="ltx_listingline">     <math id="alg1.l30.m1.2" class="ltx_Math" alttext="f^{\theta}_{\rm t+1}\leftarrow{\rm ModelUpdate}(G^{\rm g}_{\rm t},f^{\theta}_{\rm t})" display="inline"><semantics id="alg1.l30.m1.2a"><mrow id="alg1.l30.m1.2.2" xref="alg1.l30.m1.2.2.cmml"><msubsup id="alg1.l30.m1.2.2.4" xref="alg1.l30.m1.2.2.4.cmml"><mi id="alg1.l30.m1.2.2.4.2.2" xref="alg1.l30.m1.2.2.4.2.2.cmml">f</mi><mrow id="alg1.l30.m1.2.2.4.3" xref="alg1.l30.m1.2.2.4.3.cmml"><mi mathvariant="normal" id="alg1.l30.m1.2.2.4.3.2" xref="alg1.l30.m1.2.2.4.3.2.cmml">t</mi><mo id="alg1.l30.m1.2.2.4.3.1" xref="alg1.l30.m1.2.2.4.3.1.cmml">+</mo><mn id="alg1.l30.m1.2.2.4.3.3" xref="alg1.l30.m1.2.2.4.3.3.cmml">1</mn></mrow><mi id="alg1.l30.m1.2.2.4.2.3" xref="alg1.l30.m1.2.2.4.2.3.cmml">θ</mi></msubsup><mo stretchy="false" id="alg1.l30.m1.2.2.3" xref="alg1.l30.m1.2.2.3.cmml">←</mo><mrow id="alg1.l30.m1.2.2.2" xref="alg1.l30.m1.2.2.2.cmml"><mi id="alg1.l30.m1.2.2.2.4" xref="alg1.l30.m1.2.2.2.4.cmml">ModelUpdate</mi><mo lspace="0em" rspace="0em" id="alg1.l30.m1.2.2.2.3" xref="alg1.l30.m1.2.2.2.3.cmml">​</mo><mrow id="alg1.l30.m1.2.2.2.2.2" xref="alg1.l30.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l30.m1.2.2.2.2.2.3" xref="alg1.l30.m1.2.2.2.2.3.cmml">(</mo><msubsup id="alg1.l30.m1.1.1.1.1.1.1" xref="alg1.l30.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l30.m1.1.1.1.1.1.1.2.2" xref="alg1.l30.m1.1.1.1.1.1.1.2.2.cmml">G</mi><mi mathvariant="normal" id="alg1.l30.m1.1.1.1.1.1.1.3" xref="alg1.l30.m1.1.1.1.1.1.1.3.cmml">t</mi><mi mathvariant="normal" id="alg1.l30.m1.1.1.1.1.1.1.2.3" xref="alg1.l30.m1.1.1.1.1.1.1.2.3.cmml">g</mi></msubsup><mo id="alg1.l30.m1.2.2.2.2.2.4" xref="alg1.l30.m1.2.2.2.2.3.cmml">,</mo><msubsup id="alg1.l30.m1.2.2.2.2.2.2" xref="alg1.l30.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l30.m1.2.2.2.2.2.2.2.2" xref="alg1.l30.m1.2.2.2.2.2.2.2.2.cmml">f</mi><mi mathvariant="normal" id="alg1.l30.m1.2.2.2.2.2.2.3" xref="alg1.l30.m1.2.2.2.2.2.2.3.cmml">t</mi><mi id="alg1.l30.m1.2.2.2.2.2.2.2.3" xref="alg1.l30.m1.2.2.2.2.2.2.2.3.cmml">θ</mi></msubsup><mo stretchy="false" id="alg1.l30.m1.2.2.2.2.2.5" xref="alg1.l30.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l30.m1.2b"><apply id="alg1.l30.m1.2.2.cmml" xref="alg1.l30.m1.2.2"><ci id="alg1.l30.m1.2.2.3.cmml" xref="alg1.l30.m1.2.2.3">←</ci><apply id="alg1.l30.m1.2.2.4.cmml" xref="alg1.l30.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l30.m1.2.2.4.1.cmml" xref="alg1.l30.m1.2.2.4">subscript</csymbol><apply id="alg1.l30.m1.2.2.4.2.cmml" xref="alg1.l30.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l30.m1.2.2.4.2.1.cmml" xref="alg1.l30.m1.2.2.4">superscript</csymbol><ci id="alg1.l30.m1.2.2.4.2.2.cmml" xref="alg1.l30.m1.2.2.4.2.2">𝑓</ci><ci id="alg1.l30.m1.2.2.4.2.3.cmml" xref="alg1.l30.m1.2.2.4.2.3">𝜃</ci></apply><apply id="alg1.l30.m1.2.2.4.3.cmml" xref="alg1.l30.m1.2.2.4.3"><plus id="alg1.l30.m1.2.2.4.3.1.cmml" xref="alg1.l30.m1.2.2.4.3.1"></plus><ci id="alg1.l30.m1.2.2.4.3.2.cmml" xref="alg1.l30.m1.2.2.4.3.2">t</ci><cn type="integer" id="alg1.l30.m1.2.2.4.3.3.cmml" xref="alg1.l30.m1.2.2.4.3.3">1</cn></apply></apply><apply id="alg1.l30.m1.2.2.2.cmml" xref="alg1.l30.m1.2.2.2"><times id="alg1.l30.m1.2.2.2.3.cmml" xref="alg1.l30.m1.2.2.2.3"></times><ci id="alg1.l30.m1.2.2.2.4.cmml" xref="alg1.l30.m1.2.2.2.4">ModelUpdate</ci><interval closure="open" id="alg1.l30.m1.2.2.2.2.3.cmml" xref="alg1.l30.m1.2.2.2.2.2"><apply id="alg1.l30.m1.1.1.1.1.1.1.cmml" xref="alg1.l30.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l30.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l30.m1.1.1.1.1.1.1">subscript</csymbol><apply id="alg1.l30.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l30.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l30.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l30.m1.1.1.1.1.1.1">superscript</csymbol><ci id="alg1.l30.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l30.m1.1.1.1.1.1.1.2.2">𝐺</ci><ci id="alg1.l30.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l30.m1.1.1.1.1.1.1.2.3">g</ci></apply><ci id="alg1.l30.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l30.m1.1.1.1.1.1.1.3">t</ci></apply><apply id="alg1.l30.m1.2.2.2.2.2.2.cmml" xref="alg1.l30.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l30.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l30.m1.2.2.2.2.2.2">subscript</csymbol><apply id="alg1.l30.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l30.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l30.m1.2.2.2.2.2.2.2.1.cmml" xref="alg1.l30.m1.2.2.2.2.2.2">superscript</csymbol><ci id="alg1.l30.m1.2.2.2.2.2.2.2.2.cmml" xref="alg1.l30.m1.2.2.2.2.2.2.2.2">𝑓</ci><ci id="alg1.l30.m1.2.2.2.2.2.2.2.3.cmml" xref="alg1.l30.m1.2.2.2.2.2.2.2.3">𝜃</ci></apply><ci id="alg1.l30.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l30.m1.2.2.2.2.2.2.3">t</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l30.m1.2c">f^{\theta}_{\rm t+1}\leftarrow{\rm ModelUpdate}(G^{\rm g}_{\rm t},f^{\theta}_{\rm t})</annotation></semantics></math>

</div>
<div id="alg1.l31" class="ltx_listingline">     Send <math id="alg1.l31.m1.1" class="ltx_Math" alttext="f^{\theta}_{\rm t+1}" display="inline"><semantics id="alg1.l31.m1.1a"><msubsup id="alg1.l31.m1.1.1" xref="alg1.l31.m1.1.1.cmml"><mi id="alg1.l31.m1.1.1.2.2" xref="alg1.l31.m1.1.1.2.2.cmml">f</mi><mrow id="alg1.l31.m1.1.1.3" xref="alg1.l31.m1.1.1.3.cmml"><mi mathvariant="normal" id="alg1.l31.m1.1.1.3.2" xref="alg1.l31.m1.1.1.3.2.cmml">t</mi><mo id="alg1.l31.m1.1.1.3.1" xref="alg1.l31.m1.1.1.3.1.cmml">+</mo><mn id="alg1.l31.m1.1.1.3.3" xref="alg1.l31.m1.1.1.3.3.cmml">1</mn></mrow><mi id="alg1.l31.m1.1.1.2.3" xref="alg1.l31.m1.1.1.2.3.cmml">θ</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l31.m1.1b"><apply id="alg1.l31.m1.1.1.cmml" xref="alg1.l31.m1.1.1"><csymbol cd="ambiguous" id="alg1.l31.m1.1.1.1.cmml" xref="alg1.l31.m1.1.1">subscript</csymbol><apply id="alg1.l31.m1.1.1.2.cmml" xref="alg1.l31.m1.1.1"><csymbol cd="ambiguous" id="alg1.l31.m1.1.1.2.1.cmml" xref="alg1.l31.m1.1.1">superscript</csymbol><ci id="alg1.l31.m1.1.1.2.2.cmml" xref="alg1.l31.m1.1.1.2.2">𝑓</ci><ci id="alg1.l31.m1.1.1.2.3.cmml" xref="alg1.l31.m1.1.1.2.3">𝜃</ci></apply><apply id="alg1.l31.m1.1.1.3.cmml" xref="alg1.l31.m1.1.1.3"><plus id="alg1.l31.m1.1.1.3.1.cmml" xref="alg1.l31.m1.1.1.3.1"></plus><ci id="alg1.l31.m1.1.1.3.2.cmml" xref="alg1.l31.m1.1.1.3.2">t</ci><cn type="integer" id="alg1.l31.m1.1.1.3.3.cmml" xref="alg1.l31.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l31.m1.1c">f^{\theta}_{\rm t+1}</annotation></semantics></math> to Clients

</div>
<div id="alg1.l32" class="ltx_listingline">
<span id="alg1.l32.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l32.2" class="ltx_text ltx_font_bold">for</span>
</div>
</div>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Experiment Results on Real-world Dataset</h2>

<figure id="A2.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Test accuracy for <span id="A2.T4.4.1" class="ltx_text ltx_font_typewriter">RETINA</span> experiments under different model architectures and IPC=10. R and C stand for ResNet18 and ConvNet, respectively. We have 4 clients: Drishti(D), Acrima(A), Rim(Ri), and Refuge(Re), respectively. We also show the average test accuracy (Avg). The best results on ConvNet are marked in <span id="A2.T4.5.2" class="ltx_text" style="color:#FF0000;">red</span> and in <span id="A2.T4.6.3" class="ltx_text ltx_font_bold">bold</span> for ResNet18. The same accuracy for different methods is due to the limited number of testing samples.</figcaption>
<table id="A2.T4.7" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T4.7.1.1" class="ltx_tr">
<th id="A2.T4.7.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" colspan="2"><span id="A2.T4.7.1.1.1.1" class="ltx_text ltx_font_typewriter">RETINA</span></th>
<th id="A2.T4.7.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">D</th>
<th id="A2.T4.7.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">A</th>
<th id="A2.T4.7.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">Ri</th>
<th id="A2.T4.7.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">Re</th>
<th id="A2.T4.7.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Avg</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T4.7.2.1" class="ltx_tr">
<th id="A2.T4.7.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="2"><span id="A2.T4.7.2.1.1.1" class="ltx_text">FedAvg</span></th>
<td id="A2.T4.7.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">R</td>
<td id="A2.T4.7.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.6</td>
<td id="A2.T4.7.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">71.0</td>
<td id="A2.T4.7.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">52.0</td>
<td id="A2.T4.7.2.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A2.T4.7.2.1.6.1" class="ltx_text ltx_font_bold">78.5</span></td>
<td id="A2.T4.7.2.1.7" class="ltx_td ltx_align_center ltx_border_t">58.3</td>
</tr>
<tr id="A2.T4.7.3.2" class="ltx_tr">
<td id="A2.T4.7.3.2.1" class="ltx_td ltx_align_center ltx_border_r">C</td>
<td id="A2.T4.7.3.2.2" class="ltx_td ltx_align_center ltx_border_r">69.4</td>
<td id="A2.T4.7.3.2.3" class="ltx_td ltx_align_center ltx_border_r">84.0</td>
<td id="A2.T4.7.3.2.4" class="ltx_td ltx_align_center ltx_border_r"><span id="A2.T4.7.3.2.4.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">88.0</span></td>
<td id="A2.T4.7.3.2.5" class="ltx_td ltx_align_center ltx_border_r">86.5</td>
<td id="A2.T4.7.3.2.6" class="ltx_td ltx_align_center">82.0</td>
</tr>
<tr id="A2.T4.7.4.3" class="ltx_tr">
<th id="A2.T4.7.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="2"><span id="A2.T4.7.4.3.1.1" class="ltx_text">FedProx</span></th>
<td id="A2.T4.7.4.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">R</td>
<td id="A2.T4.7.4.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.6</td>
<td id="A2.T4.7.4.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">70.0</td>
<td id="A2.T4.7.4.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">52.0</td>
<td id="A2.T4.7.4.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A2.T4.7.4.3.6.1" class="ltx_text ltx_font_bold">78.5</span></td>
<td id="A2.T4.7.4.3.7" class="ltx_td ltx_align_center ltx_border_t">58.0</td>
</tr>
<tr id="A2.T4.7.5.4" class="ltx_tr">
<td id="A2.T4.7.5.4.1" class="ltx_td ltx_align_center ltx_border_r">C</td>
<td id="A2.T4.7.5.4.2" class="ltx_td ltx_align_center ltx_border_r">68.4</td>
<td id="A2.T4.7.5.4.3" class="ltx_td ltx_align_center ltx_border_r">84.0</td>
<td id="A2.T4.7.5.4.4" class="ltx_td ltx_align_center ltx_border_r"><span id="A2.T4.7.5.4.4.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">88.0</span></td>
<td id="A2.T4.7.5.4.5" class="ltx_td ltx_align_center ltx_border_r">86.5</td>
<td id="A2.T4.7.5.4.6" class="ltx_td ltx_align_center">81.7</td>
</tr>
<tr id="A2.T4.7.6.5" class="ltx_tr">
<th id="A2.T4.7.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="2"><span id="A2.T4.7.6.5.1.1" class="ltx_text">FedNova</span></th>
<td id="A2.T4.7.6.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">R</td>
<td id="A2.T4.7.6.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.6</td>
<td id="A2.T4.7.6.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">71.0</td>
<td id="A2.T4.7.6.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">52.0</td>
<td id="A2.T4.7.6.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A2.T4.7.6.5.6.1" class="ltx_text ltx_font_bold">78.5</span></td>
<td id="A2.T4.7.6.5.7" class="ltx_td ltx_align_center ltx_border_t">58.3</td>
</tr>
<tr id="A2.T4.7.7.6" class="ltx_tr">
<td id="A2.T4.7.7.6.1" class="ltx_td ltx_align_center ltx_border_r">C</td>
<td id="A2.T4.7.7.6.2" class="ltx_td ltx_align_center ltx_border_r">68.4</td>
<td id="A2.T4.7.7.6.3" class="ltx_td ltx_align_center ltx_border_r">84.0</td>
<td id="A2.T4.7.7.6.4" class="ltx_td ltx_align_center ltx_border_r"><span id="A2.T4.7.7.6.4.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">88.0</span></td>
<td id="A2.T4.7.7.6.5" class="ltx_td ltx_align_center ltx_border_r">86.5</td>
<td id="A2.T4.7.7.6.6" class="ltx_td ltx_align_center">81.7</td>
</tr>
<tr id="A2.T4.7.8.7" class="ltx_tr">
<th id="A2.T4.7.8.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="2"><span id="A2.T4.7.8.7.1.1" class="ltx_text">Scaffold</span></th>
<td id="A2.T4.7.8.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">R</td>
<td id="A2.T4.7.8.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31.6</td>
<td id="A2.T4.7.8.7.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">73.0</td>
<td id="A2.T4.7.8.7.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">49.0</td>
<td id="A2.T4.7.8.7.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A2.T4.7.8.7.6.1" class="ltx_text ltx_font_bold">78.5</span></td>
<td id="A2.T4.7.8.7.7" class="ltx_td ltx_align_center ltx_border_t">58.0</td>
</tr>
<tr id="A2.T4.7.9.8" class="ltx_tr">
<td id="A2.T4.7.9.8.1" class="ltx_td ltx_align_center ltx_border_r">C</td>
<td id="A2.T4.7.9.8.2" class="ltx_td ltx_align_center ltx_border_r">68.4</td>
<td id="A2.T4.7.9.8.3" class="ltx_td ltx_align_center ltx_border_r">84.0</td>
<td id="A2.T4.7.9.8.4" class="ltx_td ltx_align_center ltx_border_r"><span id="A2.T4.7.9.8.4.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">88.0</span></td>
<td id="A2.T4.7.9.8.5" class="ltx_td ltx_align_center ltx_border_r">86.5</td>
<td id="A2.T4.7.9.8.6" class="ltx_td ltx_align_center">81.7</td>
</tr>
<tr id="A2.T4.7.10.9" class="ltx_tr">
<th id="A2.T4.7.10.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="2"><span id="A2.T4.7.10.9.1.1" class="ltx_text">MOON</span></th>
<td id="A2.T4.7.10.9.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">R</td>
<td id="A2.T4.7.10.9.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">42.1</td>
<td id="A2.T4.7.10.9.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">71.0</td>
<td id="A2.T4.7.10.9.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">57.0</td>
<td id="A2.T4.7.10.9.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">70.0</td>
<td id="A2.T4.7.10.9.7" class="ltx_td ltx_align_center ltx_border_t">60.0</td>
</tr>
<tr id="A2.T4.7.11.10" class="ltx_tr">
<td id="A2.T4.7.11.10.1" class="ltx_td ltx_align_center ltx_border_r">C</td>
<td id="A2.T4.7.11.10.2" class="ltx_td ltx_align_center ltx_border_r">57.9</td>
<td id="A2.T4.7.11.10.3" class="ltx_td ltx_align_center ltx_border_r">72.0</td>
<td id="A2.T4.7.11.10.4" class="ltx_td ltx_align_center ltx_border_r">76.0</td>
<td id="A2.T4.7.11.10.5" class="ltx_td ltx_align_center ltx_border_r">85.0</td>
<td id="A2.T4.7.11.10.6" class="ltx_td ltx_align_center">72.7</td>
</tr>
<tr id="A2.T4.7.12.11" class="ltx_tr">
<th id="A2.T4.7.12.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="2"><span id="A2.T4.7.12.11.1.1" class="ltx_text">VHL</span></th>
<td id="A2.T4.7.12.11.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">R</td>
<td id="A2.T4.7.12.11.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">47.4</td>
<td id="A2.T4.7.12.11.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.0</td>
<td id="A2.T4.7.12.11.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">50.0</td>
<td id="A2.T4.7.12.11.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">76.5</td>
<td id="A2.T4.7.12.11.7" class="ltx_td ltx_align_center ltx_border_t">59.0</td>
</tr>
<tr id="A2.T4.7.13.12" class="ltx_tr">
<td id="A2.T4.7.13.12.1" class="ltx_td ltx_align_center ltx_border_r">C</td>
<td id="A2.T4.7.13.12.2" class="ltx_td ltx_align_center ltx_border_r">68.4</td>
<td id="A2.T4.7.13.12.3" class="ltx_td ltx_align_center ltx_border_r">78.0</td>
<td id="A2.T4.7.13.12.4" class="ltx_td ltx_align_center ltx_border_r">81.0</td>
<td id="A2.T4.7.13.12.5" class="ltx_td ltx_align_center ltx_border_r">87.0</td>
<td id="A2.T4.7.13.12.6" class="ltx_td ltx_align_center">78.6</td>
</tr>
<tr id="A2.T4.7.14.13" class="ltx_tr">
<th id="A2.T4.7.14.13.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" rowspan="2"><span id="A2.T4.7.14.13.1.1" class="ltx_text ltx_font_smallcaps">FedLGD</span></th>
<td id="A2.T4.7.14.13.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">R</td>
<td id="A2.T4.7.14.13.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A2.T4.7.14.13.3.1" class="ltx_text ltx_font_bold">57.9</span></td>
<td id="A2.T4.7.14.13.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A2.T4.7.14.13.4.1" class="ltx_text ltx_font_bold">75.0</span></td>
<td id="A2.T4.7.14.13.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A2.T4.7.14.13.5.1" class="ltx_text ltx_font_bold">59.0</span></td>
<td id="A2.T4.7.14.13.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">77.0</td>
<td id="A2.T4.7.14.13.7" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T4.7.14.13.7.1" class="ltx_text ltx_font_bold">67.2</span></td>
</tr>
<tr id="A2.T4.7.15.14" class="ltx_tr">
<td id="A2.T4.7.15.14.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">C</td>
<td id="A2.T4.7.15.14.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A2.T4.7.15.14.2.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">78.9</span></td>
<td id="A2.T4.7.15.14.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A2.T4.7.15.14.3.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">86.0</span></td>
<td id="A2.T4.7.15.14.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A2.T4.7.15.14.4.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">88.0</span></td>
<td id="A2.T4.7.15.14.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A2.T4.7.15.14.5.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">87.5</span></td>
<td id="A2.T4.7.15.14.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A2.T4.7.15.14.6.1" class="ltx_text ltx_font_bold" style="color:#FF0000;">85.1</span></td>
</tr>
</tbody>
</table>
</figure>
<div id="A2.p1" class="ltx_para ltx_noindent">
<p id="A2.p1.1" class="ltx_p"><span id="A2.p1.1.1" class="ltx_text ltx_font_bold">Dataset.</span> For medical dataset, we use the retina image datasets, <span id="A2.p1.1.2" class="ltx_text ltx_font_typewriter">RETINA</span> = {Drishti <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>, Acrima<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, Rim <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>, Refuge <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>}, where each dataset contains retina images from different stations with image size <math id="A2.p1.1.m1.1" class="ltx_Math" alttext="96\times 96" display="inline"><semantics id="A2.p1.1.m1.1a"><mrow id="A2.p1.1.m1.1.1" xref="A2.p1.1.m1.1.1.cmml"><mn id="A2.p1.1.m1.1.1.2" xref="A2.p1.1.m1.1.1.2.cmml">96</mn><mo lspace="0.222em" rspace="0.222em" id="A2.p1.1.m1.1.1.1" xref="A2.p1.1.m1.1.1.1.cmml">×</mo><mn id="A2.p1.1.m1.1.1.3" xref="A2.p1.1.m1.1.1.3.cmml">96</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.p1.1.m1.1b"><apply id="A2.p1.1.m1.1.1.cmml" xref="A2.p1.1.m1.1.1"><times id="A2.p1.1.m1.1.1.1.cmml" xref="A2.p1.1.m1.1.1.1"></times><cn type="integer" id="A2.p1.1.m1.1.1.2.cmml" xref="A2.p1.1.m1.1.1.2">96</cn><cn type="integer" id="A2.p1.1.m1.1.1.3.cmml" xref="A2.p1.1.m1.1.1.3">96</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.1.m1.1c">96\times 96</annotation></semantics></math>, thus forming four clients in FL. We perform binary classification to identify <span id="A2.p1.1.3" class="ltx_text ltx_font_italic">Glaucomatous</span> and <span id="A2.p1.1.4" class="ltx_text ltx_font_italic">Normal</span>. Example images and distributions can be found in Appendix <a href="#A4.SS3" title="D.3 Visualization of the heterogeneity of the datasets ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D.3</span></a>. Each client has a held-out testing set.
In the following experiments, we will use the distilled local virtual training sets for training and test the models on the original testing sets. The sample population statistics for both experiments are available in Table <a href="#A4.T12" title="Table 12 ‣ D.5 Training details ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a> and Table <a href="#A4.T14" title="Table 14 ‣ D.5 Training details ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a> in Appendix <a href="#A4.SS5" title="D.5 Training details ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D.5</span></a>.</p>
</div>
<div id="A2.p2" class="ltx_para ltx_noindent">
<p id="A2.p2.1" class="ltx_p"><span id="A2.p2.1.1" class="ltx_text ltx_font_bold">Comparison with baselines.</span> The results for <span id="A2.p2.1.2" class="ltx_text ltx_font_typewriter">RETINA</span> experiments are shown in Table <a href="#A2.T4" title="Table 4 ‣ Appendix B Experiment Results on Real-world Dataset ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, where D, A, Ri, Re represent Drishti, Acrima, Rim, and Refuge datasets. We only set IPC=10 for this experiment as clients in <span id="A2.p2.1.3" class="ltx_text ltx_font_typewriter">RETINA</span> contain much fewer data points. The learning rate is set to 0.001.
The same as in the previous experiment, we vary arch <math id="A2.p2.1.m1.1" class="ltx_Math" alttext="\in" display="inline"><semantics id="A2.p2.1.m1.1a"><mo id="A2.p2.1.m1.1.1" xref="A2.p2.1.m1.1.1.cmml">∈</mo><annotation-xml encoding="MathML-Content" id="A2.p2.1.m1.1b"><in id="A2.p2.1.m1.1.1.cmml" xref="A2.p2.1.m1.1.1"></in></annotation-xml><annotation encoding="application/x-tex" id="A2.p2.1.m1.1c">\in</annotation></semantics></math> { ConvNet, ResNet18}. Similarly, ConvNet shows the best performance among architectures, and <span id="A2.p2.1.4" class="ltx_text ltx_font_smallcaps">FedLGD</span> has the best performance compared to the other methods w.r.t the unweighted averaged accuracy (Avg) among clients. To be precise, <span id="A2.p2.1.5" class="ltx_text ltx_font_smallcaps">FedLGD</span> increases unweighted averaged test accuracy for 3.1%(versus the best baseline) on ConvNet and 7.2%(versus the best baseline) on ResNet18, respectively. The same accuracy for different methods is due to the limited number of testing samples. We conjecture the reason why VHL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> has lower performance improvement in <span id="A2.p2.1.6" class="ltx_text ltx_font_typewriter">RETINA</span> experiments is that this dataset is in higher dimensional and clinical diagnosis evidence on fine-grained details, <span id="A2.p2.1.7" class="ltx_text ltx_font_italic">e.g.</span>, cup-to-disc ratio and disc rim integrity <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>. Therefore, it is difficult for untrained StyleGAN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> to serve as anchor for this kind of larger images.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Additional Results and Ablation Studies for <span id="A3.1.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>
</h2>

<section id="A3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.1 </span>Different random seeds</h3>

<div id="A3.SS1.p1" class="ltx_para">
<p id="A3.SS1.p1.1" class="ltx_p">To show the consistent performance of <span id="A3.SS1.p1.1.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>, we repeat the experiments for <span id="A3.SS1.p1.1.2" class="ltx_text ltx_font_typewriter">DIGITS</span>, <span id="A3.SS1.p1.1.3" class="ltx_text ltx_font_typewriter">CIFAR10C</span>, and <span id="A3.SS1.p1.1.4" class="ltx_text ltx_font_typewriter">RETINA</span> with three random seeds, and report the validation loss and accuracy curves in Figure <a href="#A3.F5" title="Figure 5 ‣ C.1 Different random seeds ‣ Appendix C Additional Results and Ablation Studies for FedLGD ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> and <a href="#A3.F6" title="Figure 6 ‣ C.1 Different random seeds ‣ Appendix C Additional Results and Ablation Studies for FedLGD ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> (The standard deviations of the curves are plotted as shadows.). We use ConvNet for all the experiments. IPC is set to 50 for <span id="A3.SS1.p1.1.5" class="ltx_text ltx_font_typewriter">CIFAR10C</span> and <span id="A3.SS1.p1.1.6" class="ltx_text ltx_font_typewriter">DIGITS</span>; 10 for <span id="A3.SS1.p1.1.7" class="ltx_text ltx_font_typewriter">RETINA</span>. We use the default hyperparameters for each dataset, and only report FedAvg, FedProx, Scaffold, VHL, which achieves the best performance among baseline as indicated in Table <a href="#S4.T1" title="Table 1 ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, <a href="#S4.T2" title="Table 2 ‣ 4.2 DIGITS Experiment ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, and <a href="#A2.T4" title="Table 4 ‣ Appendix B Experiment Results on Real-world Dataset ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> for clear visualization. One can observe that <span id="A3.SS1.p1.1.8" class="ltx_text ltx_font_smallcaps">FedLGD</span> has faster convergence rate and results in optimal performances compared to other baseline methods.</p>
</div>
<figure id="A3.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A3.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/x8.png" id="A3.F5.sf1.g1" class="ltx_graphics ltx_img_landscape" width="152" height="114" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A3.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/x9.png" id="A3.F5.sf2.g1" class="ltx_graphics ltx_img_landscape" width="147" height="112" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A3.F5.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/x10.png" id="A3.F5.sf3.g1" class="ltx_graphics ltx_img_square" width="152" height="124" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Averaged testing loss for (a) <span id="A3.F5.4.1" class="ltx_text ltx_font_typewriter">DIGITS</span> with IPC = 50, (b) <span id="A3.F5.5.2" class="ltx_text ltx_font_typewriter">CIFAR10C</span> with IPC = 50, and (c) <span id="A3.F5.6.3" class="ltx_text ltx_font_typewriter">RETINA</span> with IPC = 10 experiments.</figcaption>
</figure>
<figure id="A3.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A3.F6.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/x11.png" id="A3.F6.sf1.g1" class="ltx_graphics ltx_img_landscape" width="147" height="113" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A3.F6.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/x12.png" id="A3.F6.sf2.g1" class="ltx_graphics ltx_img_landscape" width="152" height="112" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A3.F6.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/x13.png" id="A3.F6.sf3.g1" class="ltx_graphics ltx_img_landscape" width="147" height="111" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Averaged testing accuracy for (a) <span id="A3.F6.4.1" class="ltx_text ltx_font_typewriter">DIGITS</span> with IPC = 50, (b) <span id="A3.F6.5.2" class="ltx_text ltx_font_typewriter">CIFAR10C</span> with IPC = 50, and (c) <span id="A3.F6.6.3" class="ltx_text ltx_font_typewriter">RETINA</span> with IPC = 10 experiments.</figcaption>
</figure>
</section>
<section id="A3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.2 </span>Different heterogeniety levels of label shift </h3>

<div id="A3.SS2.p1" class="ltx_para">
<p id="A3.SS2.p1.5" class="ltx_p">In the experiment presented in Sec <a href="#S4.SS3" title="4.3 CIFAR10C Experiment ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>, we study <span id="A3.SS2.p1.5.1" class="ltx_text ltx_font_smallcaps">FedLGD</span> under both label and domain shifts, where labels are sampled from Dirichlet distribution. To ensure dataset distillation performance, we ensure that each class at least has 100 samples per client, thus setting the coefficient of Dirichlet distribution <math id="A3.SS2.p1.1.m1.1" class="ltx_Math" alttext="\alpha=2" display="inline"><semantics id="A3.SS2.p1.1.m1.1a"><mrow id="A3.SS2.p1.1.m1.1.1" xref="A3.SS2.p1.1.m1.1.1.cmml"><mi id="A3.SS2.p1.1.m1.1.1.2" xref="A3.SS2.p1.1.m1.1.1.2.cmml">α</mi><mo id="A3.SS2.p1.1.m1.1.1.1" xref="A3.SS2.p1.1.m1.1.1.1.cmml">=</mo><mn id="A3.SS2.p1.1.m1.1.1.3" xref="A3.SS2.p1.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.1.m1.1b"><apply id="A3.SS2.p1.1.m1.1.1.cmml" xref="A3.SS2.p1.1.m1.1.1"><eq id="A3.SS2.p1.1.m1.1.1.1.cmml" xref="A3.SS2.p1.1.m1.1.1.1"></eq><ci id="A3.SS2.p1.1.m1.1.1.2.cmml" xref="A3.SS2.p1.1.m1.1.1.2">𝛼</ci><cn type="integer" id="A3.SS2.p1.1.m1.1.1.3.cmml" xref="A3.SS2.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.1.m1.1c">\alpha=2</annotation></semantics></math> to simulate the worst case of label heterogeneity that meets the quality dataset distillation requirement <span id="footnote5" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>The <math id="footnote5.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="footnote5.m1.1b"><mi id="footnote5.m1.1.1" xref="footnote5.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="footnote5.m1.1c"><ci id="footnote5.m1.1.1.cmml" xref="footnote5.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote5.m1.1d">\alpha</annotation></semantics></math> should be 2 instead of 0.5 in Sec <a href="#S4.SS3" title="4.3 CIFAR10C Experiment ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>.</span></span></span>.
Here, we show the performance with a less heterogeneity level (<math id="A3.SS2.p1.2.m2.1" class="ltx_Math" alttext="\alpha=5" display="inline"><semantics id="A3.SS2.p1.2.m2.1a"><mrow id="A3.SS2.p1.2.m2.1.1" xref="A3.SS2.p1.2.m2.1.1.cmml"><mi id="A3.SS2.p1.2.m2.1.1.2" xref="A3.SS2.p1.2.m2.1.1.2.cmml">α</mi><mo id="A3.SS2.p1.2.m2.1.1.1" xref="A3.SS2.p1.2.m2.1.1.1.cmml">=</mo><mn id="A3.SS2.p1.2.m2.1.1.3" xref="A3.SS2.p1.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.2.m2.1b"><apply id="A3.SS2.p1.2.m2.1.1.cmml" xref="A3.SS2.p1.2.m2.1.1"><eq id="A3.SS2.p1.2.m2.1.1.1.cmml" xref="A3.SS2.p1.2.m2.1.1.1"></eq><ci id="A3.SS2.p1.2.m2.1.1.2.cmml" xref="A3.SS2.p1.2.m2.1.1.2">𝛼</ci><cn type="integer" id="A3.SS2.p1.2.m2.1.1.3.cmml" xref="A3.SS2.p1.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.2.m2.1c">\alpha=5</annotation></semantics></math>) while keeping the other settings the same as those in Sec.<a href="#S4.SS3" title="4.3 CIFAR10C Experiment ‣ 4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>.
The results are shown in Table <a href="#A3.T5" title="Table 5 ‣ C.2 Different heterogeniety levels of label shift ‣ Appendix C Additional Results and Ablation Studies for FedLGD ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. As we expect, the performance drop when the heterogeneity level increases (<math id="A3.SS2.p1.3.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="A3.SS2.p1.3.m3.1a"><mi id="A3.SS2.p1.3.m3.1.1" xref="A3.SS2.p1.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.3.m3.1b"><ci id="A3.SS2.p1.3.m3.1.1.cmml" xref="A3.SS2.p1.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.3.m3.1c">\alpha</annotation></semantics></math> decreases). One can observe that when heterogeneity increases, <span id="A3.SS2.p1.5.2" class="ltx_text ltx_font_smallcaps">FedLGD</span>’s performance drop less except for VHL. We conjecture that VHL yields similar test accuracy for <math id="A3.SS2.p1.4.m4.1" class="ltx_Math" alttext="\alpha=2" display="inline"><semantics id="A3.SS2.p1.4.m4.1a"><mrow id="A3.SS2.p1.4.m4.1.1" xref="A3.SS2.p1.4.m4.1.1.cmml"><mi id="A3.SS2.p1.4.m4.1.1.2" xref="A3.SS2.p1.4.m4.1.1.2.cmml">α</mi><mo id="A3.SS2.p1.4.m4.1.1.1" xref="A3.SS2.p1.4.m4.1.1.1.cmml">=</mo><mn id="A3.SS2.p1.4.m4.1.1.3" xref="A3.SS2.p1.4.m4.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.4.m4.1b"><apply id="A3.SS2.p1.4.m4.1.1.cmml" xref="A3.SS2.p1.4.m4.1.1"><eq id="A3.SS2.p1.4.m4.1.1.1.cmml" xref="A3.SS2.p1.4.m4.1.1.1"></eq><ci id="A3.SS2.p1.4.m4.1.1.2.cmml" xref="A3.SS2.p1.4.m4.1.1.2">𝛼</ci><cn type="integer" id="A3.SS2.p1.4.m4.1.1.3.cmml" xref="A3.SS2.p1.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.4.m4.1c">\alpha=2</annotation></semantics></math> and <math id="A3.SS2.p1.5.m5.1" class="ltx_Math" alttext="\alpha=5" display="inline"><semantics id="A3.SS2.p1.5.m5.1a"><mrow id="A3.SS2.p1.5.m5.1.1" xref="A3.SS2.p1.5.m5.1.1.cmml"><mi id="A3.SS2.p1.5.m5.1.1.2" xref="A3.SS2.p1.5.m5.1.1.2.cmml">α</mi><mo id="A3.SS2.p1.5.m5.1.1.1" xref="A3.SS2.p1.5.m5.1.1.1.cmml">=</mo><mn id="A3.SS2.p1.5.m5.1.1.3" xref="A3.SS2.p1.5.m5.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.5.m5.1b"><apply id="A3.SS2.p1.5.m5.1.1.cmml" xref="A3.SS2.p1.5.m5.1.1"><eq id="A3.SS2.p1.5.m5.1.1.1.cmml" xref="A3.SS2.p1.5.m5.1.1.1"></eq><ci id="A3.SS2.p1.5.m5.1.1.2.cmml" xref="A3.SS2.p1.5.m5.1.1.2">𝛼</ci><cn type="integer" id="A3.SS2.p1.5.m5.1.1.3.cmml" xref="A3.SS2.p1.5.m5.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.5.m5.1c">\alpha=5</annotation></semantics></math> is that it uses fixed global virtual data so that the effectiveness of regularization loss does not improve much even if the heterogeneity level is decreased. Nevertheless, <span id="A3.SS2.p1.5.3" class="ltx_text ltx_font_smallcaps">FedLGD</span> consistently outperforms all the baseline methods.</p>
</div>
<figure id="A3.T5" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Comparison of different <math id="A3.T5.2.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="A3.T5.2.m1.1b"><mi id="A3.T5.2.m1.1.1" xref="A3.T5.2.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="A3.T5.2.m1.1c"><ci id="A3.T5.2.m1.1.1.cmml" xref="A3.T5.2.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T5.2.m1.1d">\alpha</annotation></semantics></math> for Drichilet distribution on <span id="A3.T5.5.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span>.</figcaption>
<div id="A3.T5.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:368.6pt;height:16.8pt;vertical-align:-0.3pt;"><span class="ltx_transformed_inner" style="transform:translate(-418.6pt,18.7pt) scale(0.305655740334214,0.305655740334214) ;">
<table id="A3.T5.3.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T5.3.1.1" class="ltx_tr">
<th id="A3.T5.3.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><math id="A3.T5.3.1.1.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="A3.T5.3.1.1.1.m1.1a"><mi id="A3.T5.3.1.1.1.m1.1.1" xref="A3.T5.3.1.1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="A3.T5.3.1.1.1.m1.1b"><ci id="A3.T5.3.1.1.1.m1.1.1.cmml" xref="A3.T5.3.1.1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T5.3.1.1.1.m1.1c">\alpha</annotation></semantics></math></th>
<th id="A3.T5.3.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>
</th>
<th id="A3.T5.3.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">FedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>
</th>
<th id="A3.T5.3.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">FedNova <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>
</th>
<th id="A3.T5.3.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">Scaffold <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>
</th>
<th id="A3.T5.3.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">MOON <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>
</th>
<th id="A3.T5.3.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">VHL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>
</th>
<th id="A3.T5.3.1.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A3.T5.3.1.1.8.1" class="ltx_text ltx_font_smallcaps">FedLGD</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T5.3.1.2.1" class="ltx_tr">
<th id="A3.T5.3.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">2</th>
<td id="A3.T5.3.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">54.9</td>
<td id="A3.T5.3.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">54.9</td>
<td id="A3.T5.3.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">53.2</td>
<td id="A3.T5.3.1.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">54.5</td>
<td id="A3.T5.3.1.2.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">51.6</td>
<td id="A3.T5.3.1.2.1.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">55.2</td>
<td id="A3.T5.3.1.2.1.8" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T5.3.1.2.1.8.1" class="ltx_text ltx_font_bold">57.4</span></td>
</tr>
<tr id="A3.T5.3.1.3.2" class="ltx_tr">
<th id="A3.T5.3.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t">5</th>
<td id="A3.T5.3.1.3.2.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">55.4</td>
<td id="A3.T5.3.1.3.2.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">55.4</td>
<td id="A3.T5.3.1.3.2.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">55.4</td>
<td id="A3.T5.3.1.3.2.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">55.6</td>
<td id="A3.T5.3.1.3.2.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">51.1</td>
<td id="A3.T5.3.1.3.2.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">55.4</td>
<td id="A3.T5.3.1.3.2.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="A3.T5.3.1.3.2.8.1" class="ltx_text ltx_font_bold">58.1</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="A3.T6" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Computation cost for each epoch. Nc and Ns stand for the number of updating iteration for local and global virtual data, and we defaultly set as <math id="A3.T6.4.m1.1" class="ltx_Math" alttext="100" display="inline"><semantics id="A3.T6.4.m1.1b"><mn id="A3.T6.4.m1.1.1" xref="A3.T6.4.m1.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="A3.T6.4.m1.1c"><cn type="integer" id="A3.T6.4.m1.1.1.cmml" xref="A3.T6.4.m1.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.4.m1.1d">100</annotation></semantics></math> and <math id="A3.T6.5.m2.1" class="ltx_Math" alttext="500" display="inline"><semantics id="A3.T6.5.m2.1b"><mn id="A3.T6.5.m2.1.1" xref="A3.T6.5.m2.1.1.cmml">500</mn><annotation-xml encoding="MathML-Content" id="A3.T6.5.m2.1c"><cn type="integer" id="A3.T6.5.m2.1.1.cmml" xref="A3.T6.5.m2.1.1">500</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.5.m2.1d">500</annotation></semantics></math>, respectively. Note that we only set <math id="A3.T6.6.m3.1" class="ltx_Math" alttext="|\tau|=10" display="inline"><semantics id="A3.T6.6.m3.1b"><mrow id="A3.T6.6.m3.1.2" xref="A3.T6.6.m3.1.2.cmml"><mrow id="A3.T6.6.m3.1.2.2.2" xref="A3.T6.6.m3.1.2.2.1.cmml"><mo stretchy="false" id="A3.T6.6.m3.1.2.2.2.1" xref="A3.T6.6.m3.1.2.2.1.1.cmml">|</mo><mi id="A3.T6.6.m3.1.1" xref="A3.T6.6.m3.1.1.cmml">τ</mi><mo stretchy="false" id="A3.T6.6.m3.1.2.2.2.2" xref="A3.T6.6.m3.1.2.2.1.1.cmml">|</mo></mrow><mo id="A3.T6.6.m3.1.2.1" xref="A3.T6.6.m3.1.2.1.cmml">=</mo><mn id="A3.T6.6.m3.1.2.3" xref="A3.T6.6.m3.1.2.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.T6.6.m3.1c"><apply id="A3.T6.6.m3.1.2.cmml" xref="A3.T6.6.m3.1.2"><eq id="A3.T6.6.m3.1.2.1.cmml" xref="A3.T6.6.m3.1.2.1"></eq><apply id="A3.T6.6.m3.1.2.2.1.cmml" xref="A3.T6.6.m3.1.2.2.2"><abs id="A3.T6.6.m3.1.2.2.1.1.cmml" xref="A3.T6.6.m3.1.2.2.2.1"></abs><ci id="A3.T6.6.m3.1.1.cmml" xref="A3.T6.6.m3.1.1">𝜏</ci></apply><cn type="integer" id="A3.T6.6.m3.1.2.3.cmml" xref="A3.T6.6.m3.1.2.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.6.m3.1d">|\tau|=10</annotation></semantics></math> iterations, which is a relatively small number compare to total epochs(100).</figcaption>
<div id="A3.T6.16" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:346.9pt;height:59.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-35.5pt,6.1pt) scale(0.830096587894692,0.830096587894692) ;">
<table id="A3.T6.16.10" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T6.10.4.4" class="ltx_tr">
<th id="A3.T6.10.4.4.5" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt">Dataset</th>
<th id="A3.T6.10.4.4.6" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt">Vanilla FedAvg</th>
<th id="A3.T6.8.2.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt">
<span id="A3.T6.8.2.2.2.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>(iters <math id="A3.T6.7.1.1.1.m1.1" class="ltx_Math" alttext="\in" display="inline"><semantics id="A3.T6.7.1.1.1.m1.1a"><mo id="A3.T6.7.1.1.1.m1.1.1" xref="A3.T6.7.1.1.1.m1.1.1.cmml">∈</mo><annotation-xml encoding="MathML-Content" id="A3.T6.7.1.1.1.m1.1b"><in id="A3.T6.7.1.1.1.m1.1.1.cmml" xref="A3.T6.7.1.1.1.m1.1.1"></in></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.7.1.1.1.m1.1c">\in</annotation></semantics></math> <math id="A3.T6.8.2.2.2.m2.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="A3.T6.8.2.2.2.m2.1a"><mi id="A3.T6.8.2.2.2.m2.1.1" xref="A3.T6.8.2.2.2.m2.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="A3.T6.8.2.2.2.m2.1b"><ci id="A3.T6.8.2.2.2.m2.1.1.cmml" xref="A3.T6.8.2.2.2.m2.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.8.2.2.2.m2.1c">\tau</annotation></semantics></math>)</th>
<th id="A3.T6.10.4.4.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt">
<span id="A3.T6.10.4.4.4.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>(iters <math id="A3.T6.9.3.3.3.m1.1" class="ltx_Math" alttext="\notin" display="inline"><semantics id="A3.T6.9.3.3.3.m1.1a"><mo id="A3.T6.9.3.3.3.m1.1.1" xref="A3.T6.9.3.3.3.m1.1.1.cmml">∉</mo><annotation-xml encoding="MathML-Content" id="A3.T6.9.3.3.3.m1.1b"><notin id="A3.T6.9.3.3.3.m1.1.1.cmml" xref="A3.T6.9.3.3.3.m1.1.1"></notin></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.9.3.3.3.m1.1c">\notin</annotation></semantics></math> <math id="A3.T6.10.4.4.4.m2.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="A3.T6.10.4.4.4.m2.1a"><mi id="A3.T6.10.4.4.4.m2.1.1" xref="A3.T6.10.4.4.4.m2.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="A3.T6.10.4.4.4.m2.1b"><ci id="A3.T6.10.4.4.4.m2.1.1.cmml" xref="A3.T6.10.4.4.4.m2.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.10.4.4.4.m2.1c">\tau</annotation></semantics></math>)</th>
<th id="A3.T6.10.4.4.7" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">
<span id="A3.T6.10.4.4.7.1" class="ltx_text ltx_font_smallcaps">FedLGD</span>(server)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T6.12.6.6" class="ltx_tr">
<td id="A3.T6.12.6.6.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="A3.T6.12.6.6.3.1" class="ltx_text ltx_font_typewriter">DIGITS</span></td>
<td id="A3.T6.12.6.6.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">238K</td>
<td id="A3.T6.11.5.5.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">2.7K + 3.4K <math id="A3.T6.11.5.5.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T6.11.5.5.1.m1.1a"><mo id="A3.T6.11.5.5.1.m1.1.1" xref="A3.T6.11.5.5.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T6.11.5.5.1.m1.1b"><times id="A3.T6.11.5.5.1.m1.1.1.cmml" xref="A3.T6.11.5.5.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.11.5.5.1.m1.1c">\times</annotation></semantics></math> Nc</td>
<td id="A3.T6.12.6.6.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">4.8K</td>
<td id="A3.T6.12.6.6.2" class="ltx_td ltx_align_left ltx_border_t">2.9K <math id="A3.T6.12.6.6.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T6.12.6.6.2.m1.1a"><mo id="A3.T6.12.6.6.2.m1.1.1" xref="A3.T6.12.6.6.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T6.12.6.6.2.m1.1b"><times id="A3.T6.12.6.6.2.m1.1.1.cmml" xref="A3.T6.12.6.6.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.12.6.6.2.m1.1c">\times</annotation></semantics></math> Ns</td>
</tr>
<tr id="A3.T6.14.8.8" class="ltx_tr">
<td id="A3.T6.14.8.8.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="A3.T6.14.8.8.3.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span></td>
<td id="A3.T6.14.8.8.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">53M</td>
<td id="A3.T6.13.7.7.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">2.7K + 3.4K <math id="A3.T6.13.7.7.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T6.13.7.7.1.m1.1a"><mo id="A3.T6.13.7.7.1.m1.1.1" xref="A3.T6.13.7.7.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T6.13.7.7.1.m1.1b"><times id="A3.T6.13.7.7.1.m1.1.1.cmml" xref="A3.T6.13.7.7.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.13.7.7.1.m1.1c">\times</annotation></semantics></math> Nc</td>
<td id="A3.T6.14.8.8.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">4.8K</td>
<td id="A3.T6.14.8.8.2" class="ltx_td ltx_align_left ltx_border_t">2.9K <math id="A3.T6.14.8.8.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T6.14.8.8.2.m1.1a"><mo id="A3.T6.14.8.8.2.m1.1.1" xref="A3.T6.14.8.8.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T6.14.8.8.2.m1.1b"><times id="A3.T6.14.8.8.2.m1.1.1.cmml" xref="A3.T6.14.8.8.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.14.8.8.2.m1.1c">\times</annotation></semantics></math> Ns</td>
</tr>
<tr id="A3.T6.16.10.10" class="ltx_tr">
<td id="A3.T6.16.10.10.3" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t"><span id="A3.T6.16.10.10.3.1" class="ltx_text ltx_font_typewriter">RETINA</span></td>
<td id="A3.T6.16.10.10.4" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">1.76M</td>
<td id="A3.T6.15.9.9.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">0.7K + 0.9K <math id="A3.T6.15.9.9.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T6.15.9.9.1.m1.1a"><mo id="A3.T6.15.9.9.1.m1.1.1" xref="A3.T6.15.9.9.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T6.15.9.9.1.m1.1b"><times id="A3.T6.15.9.9.1.m1.1.1.cmml" xref="A3.T6.15.9.9.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.15.9.9.1.m1.1c">\times</annotation></semantics></math> Nc</td>
<td id="A3.T6.16.10.10.5" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">1K</td>
<td id="A3.T6.16.10.10.2" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t">0.9K <math id="A3.T6.16.10.10.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T6.16.10.10.2.m1.1a"><mo id="A3.T6.16.10.10.2.m1.1.1" xref="A3.T6.16.10.10.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T6.16.10.10.2.m1.1b"><times id="A3.T6.16.10.10.2.m1.1.1.cmml" xref="A3.T6.16.10.10.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.16.10.10.2.m1.1c">\times</annotation></semantics></math> Ns</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="A3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.3 </span>Computation Cost</h3>

<div id="A3.SS3.p1" class="ltx_para">
<p id="A3.SS3.p1.3" class="ltx_p">Computation cost for <span id="A3.SS3.p1.3.1" class="ltx_text ltx_font_typewriter">DIGITS</span> experiment on each epoch can be found in Table <a href="#A3.T7" title="Table 7 ‣ C.3 Computation Cost ‣ Appendix C Additional Results and Ablation Studies for FedLGD ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>. Nc and Ns stand for the number of updating iterations for local and global virtual data, and as default, we it set as <math id="A3.SS3.p1.1.m1.1" class="ltx_Math" alttext="100" display="inline"><semantics id="A3.SS3.p1.1.m1.1a"><mn id="A3.SS3.p1.1.m1.1.1" xref="A3.SS3.p1.1.m1.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="A3.SS3.p1.1.m1.1b"><cn type="integer" id="A3.SS3.p1.1.m1.1.1.cmml" xref="A3.SS3.p1.1.m1.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p1.1.m1.1c">100</annotation></semantics></math> and <math id="A3.SS3.p1.2.m2.1" class="ltx_Math" alttext="500" display="inline"><semantics id="A3.SS3.p1.2.m2.1a"><mn id="A3.SS3.p1.2.m2.1.1" xref="A3.SS3.p1.2.m2.1.1.cmml">500</mn><annotation-xml encoding="MathML-Content" id="A3.SS3.p1.2.m2.1b"><cn type="integer" id="A3.SS3.p1.2.m2.1.1.cmml" xref="A3.SS3.p1.2.m2.1.1">500</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p1.2.m2.1c">500</annotation></semantics></math>, respectively. The computation costs for <span id="A3.SS3.p1.3.2" class="ltx_text ltx_font_smallcaps">FedLGD</span> in <span id="A3.SS3.p1.3.3" class="ltx_text ltx_font_typewriter">DIGITS</span> and <span id="A3.SS3.p1.3.4" class="ltx_text ltx_font_typewriter">CIFAR10C</span> are identical since we used virtual data with fixed size and number for training. Plugging in the number, clients only need to operate 3.9M FLOPs for total 100 training epochs with <math id="A3.SS3.p1.3.m3.1" class="ltx_Math" alttext="\tau=10" display="inline"><semantics id="A3.SS3.p1.3.m3.1a"><mrow id="A3.SS3.p1.3.m3.1.1" xref="A3.SS3.p1.3.m3.1.1.cmml"><mi id="A3.SS3.p1.3.m3.1.1.2" xref="A3.SS3.p1.3.m3.1.1.2.cmml">τ</mi><mo id="A3.SS3.p1.3.m3.1.1.1" xref="A3.SS3.p1.3.m3.1.1.1.cmml">=</mo><mn id="A3.SS3.p1.3.m3.1.1.3" xref="A3.SS3.p1.3.m3.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p1.3.m3.1b"><apply id="A3.SS3.p1.3.m3.1.1.cmml" xref="A3.SS3.p1.3.m3.1.1"><eq id="A3.SS3.p1.3.m3.1.1.1.cmml" xref="A3.SS3.p1.3.m3.1.1.1"></eq><ci id="A3.SS3.p1.3.m3.1.1.2.cmml" xref="A3.SS3.p1.3.m3.1.1.2">𝜏</ci><cn type="integer" id="A3.SS3.p1.3.m3.1.1.3.cmml" xref="A3.SS3.p1.3.m3.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p1.3.m3.1c">\tau=10</annotation></semantics></math> (our default setting), which is significantly smaller than vanilla FedAvg using original data (23.8M and 5,300M for <span id="A3.SS3.p1.3.5" class="ltx_text ltx_font_typewriter">DIGITS</span> and <span id="A3.SS3.p1.3.6" class="ltx_text ltx_font_typewriter">CIFAR10C</span>, respectively.).</p>
</div>
<figure id="A3.T7" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>Communication overhead for each epoch. Note that the IPC for our global virtual data is 10, and the clients only need to <span id="A3.T7.8.1" class="ltx_text ltx_font_italic">download</span> it for <math id="A3.T7.2.m1.1" class="ltx_Math" alttext="|\tau|=10" display="inline"><semantics id="A3.T7.2.m1.1b"><mrow id="A3.T7.2.m1.1.2" xref="A3.T7.2.m1.1.2.cmml"><mrow id="A3.T7.2.m1.1.2.2.2" xref="A3.T7.2.m1.1.2.2.1.cmml"><mo stretchy="false" id="A3.T7.2.m1.1.2.2.2.1" xref="A3.T7.2.m1.1.2.2.1.1.cmml">|</mo><mi id="A3.T7.2.m1.1.1" xref="A3.T7.2.m1.1.1.cmml">τ</mi><mo stretchy="false" id="A3.T7.2.m1.1.2.2.2.2" xref="A3.T7.2.m1.1.2.2.1.1.cmml">|</mo></mrow><mo id="A3.T7.2.m1.1.2.1" xref="A3.T7.2.m1.1.2.1.cmml">=</mo><mn id="A3.T7.2.m1.1.2.3" xref="A3.T7.2.m1.1.2.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.T7.2.m1.1c"><apply id="A3.T7.2.m1.1.2.cmml" xref="A3.T7.2.m1.1.2"><eq id="A3.T7.2.m1.1.2.1.cmml" xref="A3.T7.2.m1.1.2.1"></eq><apply id="A3.T7.2.m1.1.2.2.1.cmml" xref="A3.T7.2.m1.1.2.2.2"><abs id="A3.T7.2.m1.1.2.2.1.1.cmml" xref="A3.T7.2.m1.1.2.2.2.1"></abs><ci id="A3.T7.2.m1.1.1.cmml" xref="A3.T7.2.m1.1.1">𝜏</ci></apply><cn type="integer" id="A3.T7.2.m1.1.2.3.cmml" xref="A3.T7.2.m1.1.2.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.2.m1.1d">|\tau|=10</annotation></semantics></math> times.</figcaption>
<div id="A3.T7.6" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:260.2pt;height:53.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-2.1pt,0.4pt) scale(0.983800541520568,0.983800541520568) ;">
<table id="A3.T7.6.4" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T7.6.4.5.1" class="ltx_tr">
<th id="A3.T7.6.4.5.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt">Image size</th>
<th id="A3.T7.6.4.5.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt">ConvNet</th>
<th id="A3.T7.6.4.5.1.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt">ResNet18</th>
<th id="A3.T7.6.4.5.1.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">Global virtual data</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T7.4.2.2" class="ltx_tr">
<td id="A3.T7.3.1.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">28 <math id="A3.T7.3.1.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T7.3.1.1.1.m1.1a"><mo id="A3.T7.3.1.1.1.m1.1.1" xref="A3.T7.3.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T7.3.1.1.1.m1.1b"><times id="A3.T7.3.1.1.1.m1.1.1.cmml" xref="A3.T7.3.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.3.1.1.1.m1.1c">\times</annotation></semantics></math> 28</td>
<td id="A3.T7.4.2.2.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">311K</td>
<td id="A3.T7.4.2.2.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">11M</td>
<td id="A3.T7.4.2.2.2" class="ltx_td ltx_align_left ltx_border_t">23K <math id="A3.T7.4.2.2.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T7.4.2.2.2.m1.1a"><mo id="A3.T7.4.2.2.2.m1.1.1" xref="A3.T7.4.2.2.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T7.4.2.2.2.m1.1b"><times id="A3.T7.4.2.2.2.m1.1.1.cmml" xref="A3.T7.4.2.2.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.4.2.2.2.m1.1c">\times</annotation></semantics></math> IPC</td>
</tr>
<tr id="A3.T7.6.4.4" class="ltx_tr">
<td id="A3.T7.5.3.3.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">96 <math id="A3.T7.5.3.3.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T7.5.3.3.1.m1.1a"><mo id="A3.T7.5.3.3.1.m1.1.1" xref="A3.T7.5.3.3.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T7.5.3.3.1.m1.1b"><times id="A3.T7.5.3.3.1.m1.1.1.cmml" xref="A3.T7.5.3.3.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.5.3.3.1.m1.1c">\times</annotation></semantics></math> 96</td>
<td id="A3.T7.6.4.4.3" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">336K</td>
<td id="A3.T7.6.4.4.4" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t">13M</td>
<td id="A3.T7.6.4.4.2" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t">55K <math id="A3.T7.6.4.4.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.T7.6.4.4.2.m1.1a"><mo id="A3.T7.6.4.4.2.m1.1.1" xref="A3.T7.6.4.4.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.T7.6.4.4.2.m1.1b"><times id="A3.T7.6.4.4.2.m1.1.1.cmml" xref="A3.T7.6.4.4.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.6.4.4.2.m1.1c">\times</annotation></semantics></math> IPC</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="A3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.4 </span>Communication Overhead</h3>

<div id="A3.SS4.p1" class="ltx_para">
<p id="A3.SS4.p1.4" class="ltx_p">The communication overhead for each epoch in <span id="A3.SS4.p1.4.1" class="ltx_text ltx_font_typewriter">DIGITS</span> and <span id="A3.SS4.p1.4.2" class="ltx_text ltx_font_typewriter">CIFAR10C</span> experiments are identical since we use same architectures and size of global virtual data (Table. <a href="#A3.T7" title="Table 7 ‣ C.3 Computation Cost ‣ Appendix C Additional Results and Ablation Studies for FedLGD ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> 28 <math id="A3.SS4.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.SS4.p1.1.m1.1a"><mo id="A3.SS4.p1.1.m1.1.1" xref="A3.SS4.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.SS4.p1.1.m1.1b"><times id="A3.SS4.p1.1.m1.1.1.cmml" xref="A3.SS4.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p1.1.m1.1c">\times</annotation></semantics></math> 28). The analysis of <span id="A3.SS4.p1.4.3" class="ltx_text ltx_font_typewriter">RETINA</span> is shown in row 96 <math id="A3.SS4.p1.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A3.SS4.p1.2.m2.1a"><mo id="A3.SS4.p1.2.m2.1.1" xref="A3.SS4.p1.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.SS4.p1.2.m2.1b"><times id="A3.SS4.p1.2.m2.1.1.cmml" xref="A3.SS4.p1.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p1.2.m2.1c">\times</annotation></semantics></math> 96. Note that the IPC for our global virtual data is 10, and the clients only need to <span id="A3.SS4.p1.4.4" class="ltx_text ltx_font_italic">download</span> it for <math id="A3.SS4.p1.3.m3.1" class="ltx_Math" alttext="|\tau|" display="inline"><semantics id="A3.SS4.p1.3.m3.1a"><mrow id="A3.SS4.p1.3.m3.1.2.2" xref="A3.SS4.p1.3.m3.1.2.1.cmml"><mo stretchy="false" id="A3.SS4.p1.3.m3.1.2.2.1" xref="A3.SS4.p1.3.m3.1.2.1.1.cmml">|</mo><mi id="A3.SS4.p1.3.m3.1.1" xref="A3.SS4.p1.3.m3.1.1.cmml">τ</mi><mo stretchy="false" id="A3.SS4.p1.3.m3.1.2.2.2" xref="A3.SS4.p1.3.m3.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.p1.3.m3.1b"><apply id="A3.SS4.p1.3.m3.1.2.1.cmml" xref="A3.SS4.p1.3.m3.1.2.2"><abs id="A3.SS4.p1.3.m3.1.2.1.1.cmml" xref="A3.SS4.p1.3.m3.1.2.2.1"></abs><ci id="A3.SS4.p1.3.m3.1.1.cmml" xref="A3.SS4.p1.3.m3.1.1">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p1.3.m3.1c">|\tau|</annotation></semantics></math> times. Although <span id="A3.SS4.p1.4.5" class="ltx_text ltx_font_smallcaps">FedLGD</span> requires clients to download additional data which is almost double the original Bytes (311K + 230K), we would like to point out that this only happens <math id="A3.SS4.p1.4.m4.1" class="ltx_Math" alttext="|\tau|=10" display="inline"><semantics id="A3.SS4.p1.4.m4.1a"><mrow id="A3.SS4.p1.4.m4.1.2" xref="A3.SS4.p1.4.m4.1.2.cmml"><mrow id="A3.SS4.p1.4.m4.1.2.2.2" xref="A3.SS4.p1.4.m4.1.2.2.1.cmml"><mo stretchy="false" id="A3.SS4.p1.4.m4.1.2.2.2.1" xref="A3.SS4.p1.4.m4.1.2.2.1.1.cmml">|</mo><mi id="A3.SS4.p1.4.m4.1.1" xref="A3.SS4.p1.4.m4.1.1.cmml">τ</mi><mo stretchy="false" id="A3.SS4.p1.4.m4.1.2.2.2.2" xref="A3.SS4.p1.4.m4.1.2.2.1.1.cmml">|</mo></mrow><mo id="A3.SS4.p1.4.m4.1.2.1" xref="A3.SS4.p1.4.m4.1.2.1.cmml">=</mo><mn id="A3.SS4.p1.4.m4.1.2.3" xref="A3.SS4.p1.4.m4.1.2.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.p1.4.m4.1b"><apply id="A3.SS4.p1.4.m4.1.2.cmml" xref="A3.SS4.p1.4.m4.1.2"><eq id="A3.SS4.p1.4.m4.1.2.1.cmml" xref="A3.SS4.p1.4.m4.1.2.1"></eq><apply id="A3.SS4.p1.4.m4.1.2.2.1.cmml" xref="A3.SS4.p1.4.m4.1.2.2.2"><abs id="A3.SS4.p1.4.m4.1.2.2.1.1.cmml" xref="A3.SS4.p1.4.m4.1.2.2.2.1"></abs><ci id="A3.SS4.p1.4.m4.1.1.cmml" xref="A3.SS4.p1.4.m4.1.1">𝜏</ci></apply><cn type="integer" id="A3.SS4.p1.4.m4.1.2.3.cmml" xref="A3.SS4.p1.4.m4.1.2.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p1.4.m4.1c">|\tau|=10</annotation></semantics></math> times, which is a relatively small number compared to total FL training iterations.</p>
</div>
</section>
<section id="A3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.5 </span>Analysis of batch size</h3>

<div id="A3.SS5.p1" class="ltx_para">
<p id="A3.SS5.p1.1" class="ltx_p">Batch size is another factor for training the FL model and our distilled data. We vary the batch size <math id="A3.SS5.p1.1.m1.4" class="ltx_Math" alttext="\in\{8,16,32,64\}" display="inline"><semantics id="A3.SS5.p1.1.m1.4a"><mrow id="A3.SS5.p1.1.m1.4.5" xref="A3.SS5.p1.1.m1.4.5.cmml"><mi id="A3.SS5.p1.1.m1.4.5.2" xref="A3.SS5.p1.1.m1.4.5.2.cmml"></mi><mo id="A3.SS5.p1.1.m1.4.5.1" xref="A3.SS5.p1.1.m1.4.5.1.cmml">∈</mo><mrow id="A3.SS5.p1.1.m1.4.5.3.2" xref="A3.SS5.p1.1.m1.4.5.3.1.cmml"><mo stretchy="false" id="A3.SS5.p1.1.m1.4.5.3.2.1" xref="A3.SS5.p1.1.m1.4.5.3.1.cmml">{</mo><mn id="A3.SS5.p1.1.m1.1.1" xref="A3.SS5.p1.1.m1.1.1.cmml">8</mn><mo id="A3.SS5.p1.1.m1.4.5.3.2.2" xref="A3.SS5.p1.1.m1.4.5.3.1.cmml">,</mo><mn id="A3.SS5.p1.1.m1.2.2" xref="A3.SS5.p1.1.m1.2.2.cmml">16</mn><mo id="A3.SS5.p1.1.m1.4.5.3.2.3" xref="A3.SS5.p1.1.m1.4.5.3.1.cmml">,</mo><mn id="A3.SS5.p1.1.m1.3.3" xref="A3.SS5.p1.1.m1.3.3.cmml">32</mn><mo id="A3.SS5.p1.1.m1.4.5.3.2.4" xref="A3.SS5.p1.1.m1.4.5.3.1.cmml">,</mo><mn id="A3.SS5.p1.1.m1.4.4" xref="A3.SS5.p1.1.m1.4.4.cmml">64</mn><mo stretchy="false" id="A3.SS5.p1.1.m1.4.5.3.2.5" xref="A3.SS5.p1.1.m1.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS5.p1.1.m1.4b"><apply id="A3.SS5.p1.1.m1.4.5.cmml" xref="A3.SS5.p1.1.m1.4.5"><in id="A3.SS5.p1.1.m1.4.5.1.cmml" xref="A3.SS5.p1.1.m1.4.5.1"></in><csymbol cd="latexml" id="A3.SS5.p1.1.m1.4.5.2.cmml" xref="A3.SS5.p1.1.m1.4.5.2">absent</csymbol><set id="A3.SS5.p1.1.m1.4.5.3.1.cmml" xref="A3.SS5.p1.1.m1.4.5.3.2"><cn type="integer" id="A3.SS5.p1.1.m1.1.1.cmml" xref="A3.SS5.p1.1.m1.1.1">8</cn><cn type="integer" id="A3.SS5.p1.1.m1.2.2.cmml" xref="A3.SS5.p1.1.m1.2.2">16</cn><cn type="integer" id="A3.SS5.p1.1.m1.3.3.cmml" xref="A3.SS5.p1.1.m1.3.3">32</cn><cn type="integer" id="A3.SS5.p1.1.m1.4.4.cmml" xref="A3.SS5.p1.1.m1.4.4">64</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS5.p1.1.m1.4c">\in\{8,16,32,64\}</annotation></semantics></math> to train models for <span id="A3.SS5.p1.1.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span> with the fixed default learning rate. We show the effect of batch size in Table <a href="#A3.T8" title="Table 8 ‣ C.5 Analysis of batch size ‣ Appendix C Additional Results and Ablation Studies for FedLGD ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> reported on average testing accuracy. One can observe that the performance is slightly better with moderately smaller batch size which might due to two reasons: 1) more frequent model update locally; and 2) larger model update provides larger gradients, and <span id="A3.SS5.p1.1.2" class="ltx_text ltx_font_smallcaps">FedLGD</span> can benefit from the large gradients to distill higher quality virtual data. Overall, the results are generally stable with different batch size choices.</p>
</div>
<figure id="A3.T8" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 8: </span>Varying batch size in <span id="A3.T8.3.1" class="ltx_text ltx_font_smallcaps">FedLGD</span> on <span id="A3.T8.4.2" class="ltx_text ltx_font_typewriter">CIFAR10C</span>. We report the unweighted accuracy. One can observe that the performance increases when the batch size decreases.</figcaption>
<div id="A3.T8.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:195.1pt;height:37.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(4.5pt,-0.9pt) scale(1.04844553130578,1.04844553130578) ;">
<table id="A3.T8.5.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T8.5.1.1.1" class="ltx_tr">
<th id="A3.T8.5.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt">Batch Size</th>
<th id="A3.T8.5.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">8</th>
<th id="A3.T8.5.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">16</th>
<th id="A3.T8.5.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt">32</th>
<th id="A3.T8.5.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">64</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T8.5.1.2.1" class="ltx_tr">
<th id="A3.T8.5.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t"><span id="A3.T8.5.1.2.1.1.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span></th>
<td id="A3.T8.5.1.2.1.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">59.5</td>
<td id="A3.T8.5.1.2.1.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">58.3</td>
<td id="A3.T8.5.1.2.1.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">57.4</td>
<td id="A3.T8.5.1.2.1.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">56.0</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="A3.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.6 </span>Analysis of Local Epoch</h3>

<div id="A3.SS6.p1" class="ltx_para">
<p id="A3.SS6.p1.1" class="ltx_p">Aggregating at different frequencies is known as an important factor that affects FL behavior. Here, we vary the local epoch <math id="A3.SS6.p1.1.m1.3" class="ltx_Math" alttext="\in\{1,2,5\}" display="inline"><semantics id="A3.SS6.p1.1.m1.3a"><mrow id="A3.SS6.p1.1.m1.3.4" xref="A3.SS6.p1.1.m1.3.4.cmml"><mi id="A3.SS6.p1.1.m1.3.4.2" xref="A3.SS6.p1.1.m1.3.4.2.cmml"></mi><mo id="A3.SS6.p1.1.m1.3.4.1" xref="A3.SS6.p1.1.m1.3.4.1.cmml">∈</mo><mrow id="A3.SS6.p1.1.m1.3.4.3.2" xref="A3.SS6.p1.1.m1.3.4.3.1.cmml"><mo stretchy="false" id="A3.SS6.p1.1.m1.3.4.3.2.1" xref="A3.SS6.p1.1.m1.3.4.3.1.cmml">{</mo><mn id="A3.SS6.p1.1.m1.1.1" xref="A3.SS6.p1.1.m1.1.1.cmml">1</mn><mo id="A3.SS6.p1.1.m1.3.4.3.2.2" xref="A3.SS6.p1.1.m1.3.4.3.1.cmml">,</mo><mn id="A3.SS6.p1.1.m1.2.2" xref="A3.SS6.p1.1.m1.2.2.cmml">2</mn><mo id="A3.SS6.p1.1.m1.3.4.3.2.3" xref="A3.SS6.p1.1.m1.3.4.3.1.cmml">,</mo><mn id="A3.SS6.p1.1.m1.3.3" xref="A3.SS6.p1.1.m1.3.3.cmml">5</mn><mo stretchy="false" id="A3.SS6.p1.1.m1.3.4.3.2.4" xref="A3.SS6.p1.1.m1.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS6.p1.1.m1.3b"><apply id="A3.SS6.p1.1.m1.3.4.cmml" xref="A3.SS6.p1.1.m1.3.4"><in id="A3.SS6.p1.1.m1.3.4.1.cmml" xref="A3.SS6.p1.1.m1.3.4.1"></in><csymbol cd="latexml" id="A3.SS6.p1.1.m1.3.4.2.cmml" xref="A3.SS6.p1.1.m1.3.4.2">absent</csymbol><set id="A3.SS6.p1.1.m1.3.4.3.1.cmml" xref="A3.SS6.p1.1.m1.3.4.3.2"><cn type="integer" id="A3.SS6.p1.1.m1.1.1.cmml" xref="A3.SS6.p1.1.m1.1.1">1</cn><cn type="integer" id="A3.SS6.p1.1.m1.2.2.cmml" xref="A3.SS6.p1.1.m1.2.2">2</cn><cn type="integer" id="A3.SS6.p1.1.m1.3.3.cmml" xref="A3.SS6.p1.1.m1.3.3">5</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS6.p1.1.m1.3c">\in\{1,2,5\}</annotation></semantics></math> to train all baseline models on <span id="A3.SS6.p1.1.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span>. Figure <a href="#A3.F7" title="Figure 7 ‣ C.6 Analysis of Local Epoch ‣ Appendix C Additional Results and Ablation Studies for FedLGD ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows the result of test accuracy under different epochs. One can observe that as the local epoch increases, the performance of <span id="A3.SS6.p1.1.2" class="ltx_text ltx_font_smallcaps">FedLGD</span> would drop a little bit. This is because doing gradient matching requires the model to be trained to an intermediate level, and if local epochs increase, the loss of <span id="A3.SS6.p1.1.3" class="ltx_text ltx_font_typewriter">DIGITS</span> models will drop significantly. However, <span id="A3.SS6.p1.1.4" class="ltx_text ltx_font_smallcaps">FedLGD</span> still consistently outperforms the baseline methods. As our future work, we will investigate the tuning of the learning rate in the early training stage to alleviate the effect.</p>
</div>
<figure id="A3.F7" class="ltx_figure"><img src="/html/2303.02278/assets/x14.png" id="A3.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="226" height="158" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Comparison of model performances under different local epochs with <span id="A3.F7.2.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span>.</figcaption>
</figure>
</section>
<section id="A3.SS7" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.7 </span>Different Initialization for Virtual Images</h3>

<div id="A3.SS7.p1" class="ltx_para">
<p id="A3.SS7.p1.1" class="ltx_p">To validate our proposed initialization for virtual images has the best trade-off between privacy and efficacy, we compare our test accuracy with the models trained with synthetic images initialized by random noise and real images in Table <a href="#A3.T9" title="Table 9 ‣ C.7 Different Initialization for Virtual Images ‣ Appendix C Additional Results and Ablation Studies for FedLGD ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>. To show the effect of initialization under large domain shift, we run experiments on <span id="A3.SS7.p1.1.1" class="ltx_text ltx_font_typewriter">DIGITS</span> dataset. One can observe that our method which utilizes the statistics (<math id="A3.SS7.p1.1.m1.2" class="ltx_Math" alttext="\mu_{i},\sigma_{i}" display="inline"><semantics id="A3.SS7.p1.1.m1.2a"><mrow id="A3.SS7.p1.1.m1.2.2.2" xref="A3.SS7.p1.1.m1.2.2.3.cmml"><msub id="A3.SS7.p1.1.m1.1.1.1.1" xref="A3.SS7.p1.1.m1.1.1.1.1.cmml"><mi id="A3.SS7.p1.1.m1.1.1.1.1.2" xref="A3.SS7.p1.1.m1.1.1.1.1.2.cmml">μ</mi><mi id="A3.SS7.p1.1.m1.1.1.1.1.3" xref="A3.SS7.p1.1.m1.1.1.1.1.3.cmml">i</mi></msub><mo id="A3.SS7.p1.1.m1.2.2.2.3" xref="A3.SS7.p1.1.m1.2.2.3.cmml">,</mo><msub id="A3.SS7.p1.1.m1.2.2.2.2" xref="A3.SS7.p1.1.m1.2.2.2.2.cmml"><mi id="A3.SS7.p1.1.m1.2.2.2.2.2" xref="A3.SS7.p1.1.m1.2.2.2.2.2.cmml">σ</mi><mi id="A3.SS7.p1.1.m1.2.2.2.2.3" xref="A3.SS7.p1.1.m1.2.2.2.2.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A3.SS7.p1.1.m1.2b"><list id="A3.SS7.p1.1.m1.2.2.3.cmml" xref="A3.SS7.p1.1.m1.2.2.2"><apply id="A3.SS7.p1.1.m1.1.1.1.1.cmml" xref="A3.SS7.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="A3.SS7.p1.1.m1.1.1.1.1.1.cmml" xref="A3.SS7.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="A3.SS7.p1.1.m1.1.1.1.1.2.cmml" xref="A3.SS7.p1.1.m1.1.1.1.1.2">𝜇</ci><ci id="A3.SS7.p1.1.m1.1.1.1.1.3.cmml" xref="A3.SS7.p1.1.m1.1.1.1.1.3">𝑖</ci></apply><apply id="A3.SS7.p1.1.m1.2.2.2.2.cmml" xref="A3.SS7.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="A3.SS7.p1.1.m1.2.2.2.2.1.cmml" xref="A3.SS7.p1.1.m1.2.2.2.2">subscript</csymbol><ci id="A3.SS7.p1.1.m1.2.2.2.2.2.cmml" xref="A3.SS7.p1.1.m1.2.2.2.2.2">𝜎</ci><ci id="A3.SS7.p1.1.m1.2.2.2.2.3.cmml" xref="A3.SS7.p1.1.m1.2.2.2.2.3">𝑖</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A3.SS7.p1.1.m1.2c">\mu_{i},\sigma_{i}</annotation></semantics></math>) of local clients as initialization outperforms random noise initialization. Although our performance is slightly worse than the initialization that uses real images from clients, we do not ask the clients to share real images to the server which is more privacy-preserving.</p>
</div>
<figure id="A3.T9" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 9: </span>Comparison of different initialization for synthetic images <span id="A3.T9.5.1" class="ltx_text ltx_font_typewriter">DIGITS</span></figcaption>
<div id="A3.T9.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:368.6pt;height:70.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-4.3pt,0.8pt) scale(0.976977173456798,0.976977173456798) ;">
<table id="A3.T9.3.3" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A3.T9.1.1.1" class="ltx_tr">
<th id="A3.T9.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span id="A3.T9.1.1.1.1.1" class="ltx_text ltx_markedasmath ltx_font_typewriter">CIFAR10C</span></th>
<td id="A3.T9.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">MNIST</td>
<td id="A3.T9.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">SVHN</td>
<td id="A3.T9.1.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">USPS</td>
<td id="A3.T9.1.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">SynthDigits</td>
<td id="A3.T9.1.1.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">MNIST-M</td>
<td id="A3.T9.1.1.1.7" class="ltx_td ltx_align_center ltx_border_tt">Average</td>
</tr>
<tr id="A3.T9.2.2.2" class="ltx_tr">
<th id="A3.T9.2.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Noise (<math id="A3.T9.2.2.2.1.m1.2" class="ltx_Math" alttext="\mathcal{N}(0,1)" display="inline"><semantics id="A3.T9.2.2.2.1.m1.2a"><mrow id="A3.T9.2.2.2.1.m1.2.3" xref="A3.T9.2.2.2.1.m1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A3.T9.2.2.2.1.m1.2.3.2" xref="A3.T9.2.2.2.1.m1.2.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="A3.T9.2.2.2.1.m1.2.3.1" xref="A3.T9.2.2.2.1.m1.2.3.1.cmml">​</mo><mrow id="A3.T9.2.2.2.1.m1.2.3.3.2" xref="A3.T9.2.2.2.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="A3.T9.2.2.2.1.m1.2.3.3.2.1" xref="A3.T9.2.2.2.1.m1.2.3.3.1.cmml">(</mo><mn id="A3.T9.2.2.2.1.m1.1.1" xref="A3.T9.2.2.2.1.m1.1.1.cmml">0</mn><mo id="A3.T9.2.2.2.1.m1.2.3.3.2.2" xref="A3.T9.2.2.2.1.m1.2.3.3.1.cmml">,</mo><mn id="A3.T9.2.2.2.1.m1.2.2" xref="A3.T9.2.2.2.1.m1.2.2.cmml">1</mn><mo stretchy="false" id="A3.T9.2.2.2.1.m1.2.3.3.2.3" xref="A3.T9.2.2.2.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.T9.2.2.2.1.m1.2b"><apply id="A3.T9.2.2.2.1.m1.2.3.cmml" xref="A3.T9.2.2.2.1.m1.2.3"><times id="A3.T9.2.2.2.1.m1.2.3.1.cmml" xref="A3.T9.2.2.2.1.m1.2.3.1"></times><ci id="A3.T9.2.2.2.1.m1.2.3.2.cmml" xref="A3.T9.2.2.2.1.m1.2.3.2">𝒩</ci><interval closure="open" id="A3.T9.2.2.2.1.m1.2.3.3.1.cmml" xref="A3.T9.2.2.2.1.m1.2.3.3.2"><cn type="integer" id="A3.T9.2.2.2.1.m1.1.1.cmml" xref="A3.T9.2.2.2.1.m1.1.1">0</cn><cn type="integer" id="A3.T9.2.2.2.1.m1.2.2.cmml" xref="A3.T9.2.2.2.1.m1.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.2.2.2.1.m1.2c">\mathcal{N}(0,1)</annotation></semantics></math>)</th>
<td id="A3.T9.2.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">96.3</td>
<td id="A3.T9.2.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">75.9</td>
<td id="A3.T9.2.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">93.3</td>
<td id="A3.T9.2.2.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">72.0</td>
<td id="A3.T9.2.2.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">83.7</td>
<td id="A3.T9.2.2.2.7" class="ltx_td ltx_align_center ltx_border_t">84.2</td>
</tr>
<tr id="A3.T9.3.3.3" class="ltx_tr">
<th id="A3.T9.3.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Ours (<math id="A3.T9.3.3.3.1.m1.2" class="ltx_Math" alttext="\mathcal{N}(\mu_{i},\sigma_{i})" display="inline"><semantics id="A3.T9.3.3.3.1.m1.2a"><mrow id="A3.T9.3.3.3.1.m1.2.2" xref="A3.T9.3.3.3.1.m1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A3.T9.3.3.3.1.m1.2.2.4" xref="A3.T9.3.3.3.1.m1.2.2.4.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="A3.T9.3.3.3.1.m1.2.2.3" xref="A3.T9.3.3.3.1.m1.2.2.3.cmml">​</mo><mrow id="A3.T9.3.3.3.1.m1.2.2.2.2" xref="A3.T9.3.3.3.1.m1.2.2.2.3.cmml"><mo stretchy="false" id="A3.T9.3.3.3.1.m1.2.2.2.2.3" xref="A3.T9.3.3.3.1.m1.2.2.2.3.cmml">(</mo><msub id="A3.T9.3.3.3.1.m1.1.1.1.1.1" xref="A3.T9.3.3.3.1.m1.1.1.1.1.1.cmml"><mi id="A3.T9.3.3.3.1.m1.1.1.1.1.1.2" xref="A3.T9.3.3.3.1.m1.1.1.1.1.1.2.cmml">μ</mi><mi id="A3.T9.3.3.3.1.m1.1.1.1.1.1.3" xref="A3.T9.3.3.3.1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A3.T9.3.3.3.1.m1.2.2.2.2.4" xref="A3.T9.3.3.3.1.m1.2.2.2.3.cmml">,</mo><msub id="A3.T9.3.3.3.1.m1.2.2.2.2.2" xref="A3.T9.3.3.3.1.m1.2.2.2.2.2.cmml"><mi id="A3.T9.3.3.3.1.m1.2.2.2.2.2.2" xref="A3.T9.3.3.3.1.m1.2.2.2.2.2.2.cmml">σ</mi><mi id="A3.T9.3.3.3.1.m1.2.2.2.2.2.3" xref="A3.T9.3.3.3.1.m1.2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="A3.T9.3.3.3.1.m1.2.2.2.2.5" xref="A3.T9.3.3.3.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.T9.3.3.3.1.m1.2b"><apply id="A3.T9.3.3.3.1.m1.2.2.cmml" xref="A3.T9.3.3.3.1.m1.2.2"><times id="A3.T9.3.3.3.1.m1.2.2.3.cmml" xref="A3.T9.3.3.3.1.m1.2.2.3"></times><ci id="A3.T9.3.3.3.1.m1.2.2.4.cmml" xref="A3.T9.3.3.3.1.m1.2.2.4">𝒩</ci><interval closure="open" id="A3.T9.3.3.3.1.m1.2.2.2.3.cmml" xref="A3.T9.3.3.3.1.m1.2.2.2.2"><apply id="A3.T9.3.3.3.1.m1.1.1.1.1.1.cmml" xref="A3.T9.3.3.3.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A3.T9.3.3.3.1.m1.1.1.1.1.1.1.cmml" xref="A3.T9.3.3.3.1.m1.1.1.1.1.1">subscript</csymbol><ci id="A3.T9.3.3.3.1.m1.1.1.1.1.1.2.cmml" xref="A3.T9.3.3.3.1.m1.1.1.1.1.1.2">𝜇</ci><ci id="A3.T9.3.3.3.1.m1.1.1.1.1.1.3.cmml" xref="A3.T9.3.3.3.1.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="A3.T9.3.3.3.1.m1.2.2.2.2.2.cmml" xref="A3.T9.3.3.3.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A3.T9.3.3.3.1.m1.2.2.2.2.2.1.cmml" xref="A3.T9.3.3.3.1.m1.2.2.2.2.2">subscript</csymbol><ci id="A3.T9.3.3.3.1.m1.2.2.2.2.2.2.cmml" xref="A3.T9.3.3.3.1.m1.2.2.2.2.2.2">𝜎</ci><ci id="A3.T9.3.3.3.1.m1.2.2.2.2.2.3.cmml" xref="A3.T9.3.3.3.1.m1.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.3.3.3.1.m1.2c">\mathcal{N}(\mu_{i},\sigma_{i})</annotation></semantics></math>)</th>
<td id="A3.T9.3.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">97.1</td>
<td id="A3.T9.3.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">77.3</td>
<td id="A3.T9.3.3.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">94.6</td>
<td id="A3.T9.3.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">78.5</td>
<td id="A3.T9.3.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">86.1</td>
<td id="A3.T9.3.3.3.7" class="ltx_td ltx_align_center ltx_border_t">86.7</td>
</tr>
<tr id="A3.T9.3.3.4.1" class="ltx_tr">
<th id="A3.T9.3.3.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t">Real images</th>
<td id="A3.T9.3.3.4.1.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">97.7</td>
<td id="A3.T9.3.3.4.1.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">78.8</td>
<td id="A3.T9.3.3.4.1.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">94.2</td>
<td id="A3.T9.3.3.4.1.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">82.4</td>
<td id="A3.T9.3.3.4.1.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">89.5</td>
<td id="A3.T9.3.3.4.1.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">88.5</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Experimental details</h2>

<section id="A4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.1 </span>Visualization of the original images</h3>

<section id="A4.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.1.1 </span>Digits dataset</h4>

<figure id="A4.F8" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F8.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/MNIST.png" id="A4.F8.sf1.g1" class="ltx_graphics ltx_img_square" width="120" height="119" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F8.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/SVHN.png" id="A4.F8.sf2.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F8.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/USPS.png" id="A4.F8.sf3.g1" class="ltx_graphics ltx_img_square" width="120" height="117" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F8.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/SynthDigits.png" id="A4.F8.sf4.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F8.sf5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/MNIST-M.png" id="A4.F8.sf5.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(e) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Visualization of the original digits dataset. (a) visualized the MNIST client; (b) visualized the SVHN client; (c) visualized the USPS client; (d) visualized the SynthDigits client; (e) visualized the MNIST-M client.</figcaption>
</figure>
</section>
<section id="A4.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.1.2 </span>Retina dataset</h4>

<figure id="A4.F9" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A4.F9.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/Drishti.png" id="A4.F9.sf1.g1" class="ltx_graphics ltx_img_square" width="120" height="119" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A4.F9.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/Acrima.png" id="A4.F9.sf2.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A4.F9.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/Rim.png" id="A4.F9.sf3.g1" class="ltx_graphics ltx_img_square" width="120" height="121" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A4.F9.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/Refuge.png" id="A4.F9.sf4.g1" class="ltx_graphics ltx_img_square" width="120" height="119" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Visualization of the original retina dataset. (a) visualized the Drishti client; (b) visualized the Acrima client; (c) visualized the Rim client; (d) visualized the Refuge client.</figcaption>
</figure>
</section>
<section id="A4.SS1.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.1.3 </span>Cifar10C dataset</h4>

<figure id="A4.F10" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F10.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10/ConvNet_50_real_client0.png" id="A4.F10.sf1.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F10.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10/ConvNet_50_real_client1.png" id="A4.F10.sf2.g1" class="ltx_graphics ltx_img_square" width="120" height="119" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F10.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10/ConvNet_50_real_client2.png" id="A4.F10.sf3.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F10.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10/ConvNet_50_real_client3.png" id="A4.F10.sf4.g1" class="ltx_graphics ltx_img_square" width="120" height="119" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F10.sf5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10/ConvNet_50_real_client4.png" id="A4.F10.sf5.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(e) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A4.F10.sf6" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10/ConvNet_50_real_client5.png" id="A4.F10.sf6.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(f) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>Visualization of the original <span id="A4.F10.2.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span>. Sampled images from the first six clients.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
<section id="A4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.2 </span>Visualization of our distilled global and local images</h3>

<section id="A4.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.2.1 </span>Digits dataset</h4>

<figure id="A4.F11" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A4.F11.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/ConvNet_50_normal_client0_iter49.png" id="A4.F11.sf1.g1" class="ltx_graphics ltx_img_square" width="120" height="121" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A4.F11.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/ConvNet_50_normal_client1_iter49.png" id="A4.F11.sf2.g1" class="ltx_graphics ltx_img_square" width="120" height="121" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A4.F11.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/ConvNet_50_normal_client2_iter49.png" id="A4.F11.sf3.g1" class="ltx_graphics ltx_img_square" width="120" height="121" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A4.F11.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/ConvNet_50_normal_client3_iter49.png" id="A4.F11.sf4.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A4.F11.sf5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/ConvNet_50_normal_client4_iter49.png" id="A4.F11.sf5.g1" class="ltx_graphics ltx_img_square" width="120" height="123" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(e) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A4.F11.sf6" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/ConvNet_50_normal_global_v2_iter49_local1.png" id="A4.F11.sf6.g1" class="ltx_graphics ltx_img_square" width="120" height="121" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(f) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 11: </span>Visualization of the global and local distilled images from the digits dataset. (a) visualized the MNIST client; (b) visualized the SVHN client; (c) visualized the USPS client; (d) visualized the SynthDigits client; (e) visualized the MNIST-M client; (f) visualized the server distilled data.</figcaption>
</figure>
</section>
<section id="A4.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.2.2 </span>Retina dataset</h4>

<figure id="A4.F12" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F12.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/ConvNet_10_normal_client0_iter49.png" id="A4.F12.sf1.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F12.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/ConvNet_10_normal_client1_iter49.png" id="A4.F12.sf2.g1" class="ltx_graphics ltx_img_square" width="120" height="119" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F12.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/ConvNet_10_normal_client2_iter49.png" id="A4.F12.sf3.g1" class="ltx_graphics ltx_img_square" width="120" height="121" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F12.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/ConvNet_10_normal_client3_iter49.png" id="A4.F12.sf4.g1" class="ltx_graphics ltx_img_square" width="120" height="119" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F12.sf5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/ConvNet_10_normal_global_v2_iter49_local1.png" id="A4.F12.sf5.g1" class="ltx_graphics ltx_img_square" width="120" height="119" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(e) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 12: </span>Visualization of the global and local distilled images from retina dataset. (a) visualized the Drishti client; (b) visualized the Acrima client; (c) visualized the Rim client; (d) visualized the Refuge client; (e) visualized the server distilled data.</figcaption>
</figure>
</section>
<section id="A4.SS2.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.2.3 </span>Cifar10C dataset</h4>

<figure id="A4.F13" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F13.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10Con/ConvNet_50_normal_client0_iter0.png" id="A4.F13.sf1.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F13.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10Con/ConvNet_50_normal_client1_iter0.png" id="A4.F13.sf2.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F13.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10Con/ConvNet_50_normal_client2_iter0.png" id="A4.F13.sf3.g1" class="ltx_graphics ltx_img_square" width="120" height="121" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F13.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10Con/ConvNet_50_normal_client3_iter0.png" id="A4.F13.sf4.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F13.sf5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10Con/ConvNet_50_normal_client4_iter0.png" id="A4.F13.sf5.g1" class="ltx_graphics ltx_img_square" width="120" height="121" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(e) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A4.F13.sf6" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10Con/ConvNet_50_normal_client5_iter0.png" id="A4.F13.sf6.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(f) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A4.F13.sf7" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10Con/ConvNet_50_normal_global_iter49_local1.png" id="A4.F13.sf7.g1" class="ltx_graphics ltx_img_square" width="120" height="119" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(g) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 13: </span>(a)-(f) visualizes the distailled images for the first six clients of <span id="A4.F13.2.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span>. (g) visualizes the global distilled images.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
<section id="A4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.3 </span>Visualization of the heterogeneity of the datasets</h3>

<section id="A4.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.3.1 </span>Digits dataset</h4>

<figure id="A4.F14" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F14.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/digit_histogram/0.png" id="A4.F14.sf1.g1" class="ltx_graphics ltx_img_landscape" width="120" height="90" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>MNIST</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F14.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/digit_histogram/1.png" id="A4.F14.sf2.g1" class="ltx_graphics ltx_img_landscape" width="120" height="90" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>SVHN</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F14.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/digit_histogram/2.png" id="A4.F14.sf3.g1" class="ltx_graphics ltx_img_landscape" width="120" height="90" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span>USPS</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F14.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/digit_histogram/3.png" id="A4.F14.sf4.g1" class="ltx_graphics ltx_img_landscape" width="120" height="90" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span>SynthDigits</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F14.sf5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/digit_histogram/4.png" id="A4.F14.sf5.g1" class="ltx_graphics ltx_img_landscape" width="120" height="90" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(e) </span>MNIST-M</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 14: </span>Histogram for the frequency of each RGB value in original <span id="A4.F14.2.1" class="ltx_text ltx_font_typewriter">DIGITS</span>. The red bar represents the count for R; the green bar represents the frequency of each pixel for G; the blue bar represents the frequency of each pixel for B. One can observe the distributions are very different. Note that figure (a) and figure (c) are both greyscale images with most pixels lying in 0 and 255.</figcaption>
</figure>
</section>
<section id="A4.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.3.2 </span>Retina dataset</h4>

<figure id="A4.F15" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A4.F15.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/retinaCon_hist/0.png" id="A4.F15.sf1.g1" class="ltx_graphics ltx_img_landscape" width="120" height="90" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>Drishti</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A4.F15.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/retinaCon_hist/1.png" id="A4.F15.sf2.g1" class="ltx_graphics ltx_img_landscape" width="120" height="90" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Acrima</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A4.F15.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/retinaCon_hist/2.png" id="A4.F15.sf3.g1" class="ltx_graphics ltx_img_landscape" width="120" height="90" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span>RIM</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A4.F15.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/retinaCon_hist/3.png" id="A4.F15.sf4.g1" class="ltx_graphics ltx_img_landscape" width="120" height="90" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span>REFUGE</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 15: </span>Histogram for the frequency of each RGB value in original <span id="A4.F15.2.1" class="ltx_text ltx_font_typewriter">RETINA</span>. The red bar represents the count for R; the green bar represents the frequency of each pixel for G; the blue bar represents the frequency of each pixel for B.</figcaption>
</figure>
</section>
<section id="A4.SS3.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.3.3 </span>CIFAR10C dataset</h4>

<figure id="A4.F16" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F16.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10_hist/0.png" id="A4.F16.sf1.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F16.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10_hist/1.png" id="A4.F16.sf2.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F16.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10_hist/2.png" id="A4.F16.sf3.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F16.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10_hist/3.png" id="A4.F16.sf4.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<figure id="A4.F16.sf5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10_hist/4.png" id="A4.F16.sf5.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(e) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A4.F16.sf6" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2303.02278/assets/img/cifar10_hist/5.png" id="A4.F16.sf6.g1" class="ltx_graphics ltx_img_square" width="120" height="120" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(f) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 16: </span>Histogram for the frequency of each RGB value in the first six clients of original <span id="A4.F16.2.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span>. The red bar represents the count for R; the green bar represents the frequency of each pixel for G; the blue bar represents the frequency of each pixel for B.</figcaption>
</figure>
</section>
</section>
<section id="A4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.4 </span>Model architecture</h3>

<div id="A4.SS4.p1" class="ltx_para">
<p id="A4.SS4.p1.1" class="ltx_p">For our benchmark experiments, we use ConvNet to both distill the images and train the classifier.</p>
</div>
<figure id="A4.T10" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 10: </span>ResNet 18 architecture. For the convolutional layer (Conv2D), we list parameters with a sequence of input and output dimensions, kernel size, stride, and padding. For the max pooling layer (MaxPool2D), we list kernel and stride. For a fully connected layer (FC), we list input and output dimensions. For the BatchNormalization layer (BN), we list the channel dimension.</figcaption>
<div id="A4.T10.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:240.4pt;height:409.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-1.2pt,2.1pt) scale(0.99,0.99) ;">
<table id="A4.T10.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A4.T10.1.1.1.1" class="ltx_tr">
<th id="A4.T10.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.1.1.1.1" class="ltx_text">Layer</span></th>
<th id="A4.T10.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-top:1pt;padding-bottom:1pt;">Details</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A4.T10.1.1.2.1" class="ltx_tr">
<th id="A4.T10.1.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.2.1.1.1" class="ltx_text">1</span></th>
<td id="A4.T10.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(3, 64, 7, 2, 3), BN(64), ReLU</td>
</tr>
<tr id="A4.T10.1.1.3.2" class="ltx_tr">
<th id="A4.T10.1.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.3.2.1.1" class="ltx_text">2</span></th>
<td id="A4.T10.1.1.3.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(64, 64, 3, 1, 1), BN(64), ReLU</td>
</tr>
<tr id="A4.T10.1.1.4.3" class="ltx_tr">
<th id="A4.T10.1.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.4.3.1.1" class="ltx_text">3</span></th>
<td id="A4.T10.1.1.4.3.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(64, 64, 3, 1, 1), BN(64)</td>
</tr>
<tr id="A4.T10.1.1.5.4" class="ltx_tr">
<th id="A4.T10.1.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.5.4.1.1" class="ltx_text">4</span></th>
<td id="A4.T10.1.1.5.4.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(64, 64, 3, 1, 1), BN(64), ReLU</td>
</tr>
<tr id="A4.T10.1.1.6.5" class="ltx_tr">
<th id="A4.T10.1.1.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.6.5.1.1" class="ltx_text">5</span></th>
<td id="A4.T10.1.1.6.5.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(64, 64, 3, 1, 1), BN(64)</td>
</tr>
<tr id="A4.T10.1.1.7.6" class="ltx_tr">
<th id="A4.T10.1.1.7.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.7.6.1.1" class="ltx_text">6</span></th>
<td id="A4.T10.1.1.7.6.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(64, 128, 3, 2, 1), BN(128), ReLU</td>
</tr>
<tr id="A4.T10.1.1.8.7" class="ltx_tr">
<th id="A4.T10.1.1.8.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.8.7.1.1" class="ltx_text">7</span></th>
<td id="A4.T10.1.1.8.7.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(128, 128, 3, 1, 1), BN(64)</td>
</tr>
<tr id="A4.T10.1.1.9.8" class="ltx_tr">
<th id="A4.T10.1.1.9.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.9.8.1.1" class="ltx_text">8</span></th>
<td id="A4.T10.1.1.9.8.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(64, 128, 1, 2, 0), BN(128)</td>
</tr>
<tr id="A4.T10.1.1.10.9" class="ltx_tr">
<th id="A4.T10.1.1.10.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.10.9.1.1" class="ltx_text">9</span></th>
<td id="A4.T10.1.1.10.9.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(128, 128, 3, 1, 1), BN(128), ReLU</td>
</tr>
<tr id="A4.T10.1.1.11.10" class="ltx_tr">
<th id="A4.T10.1.1.11.10.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.11.10.1.1" class="ltx_text">10</span></th>
<td id="A4.T10.1.1.11.10.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(128, 128, 3, 1, 1), BN(64)</td>
</tr>
<tr id="A4.T10.1.1.12.11" class="ltx_tr">
<th id="A4.T10.1.1.12.11.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.12.11.1.1" class="ltx_text">11</span></th>
<td id="A4.T10.1.1.12.11.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(128, 256, 3, 2, 1), BN(128), ReLU</td>
</tr>
<tr id="A4.T10.1.1.13.12" class="ltx_tr">
<th id="A4.T10.1.1.13.12.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.13.12.1.1" class="ltx_text">12</span></th>
<td id="A4.T10.1.1.13.12.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(256, 256, 3, 1, 1), BN(64)</td>
</tr>
<tr id="A4.T10.1.1.14.13" class="ltx_tr">
<th id="A4.T10.1.1.14.13.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.14.13.1.1" class="ltx_text">13</span></th>
<td id="A4.T10.1.1.14.13.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(128, 256, 1, 2, 0), BN(128)</td>
</tr>
<tr id="A4.T10.1.1.15.14" class="ltx_tr">
<th id="A4.T10.1.1.15.14.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.15.14.1.1" class="ltx_text">14</span></th>
<td id="A4.T10.1.1.15.14.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(256, 256, 3, 1, 1), BN(128), ReLU</td>
</tr>
<tr id="A4.T10.1.1.16.15" class="ltx_tr">
<th id="A4.T10.1.1.16.15.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.16.15.1.1" class="ltx_text">15</span></th>
<td id="A4.T10.1.1.16.15.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(256, 256, 3, 1, 1), BN(64)</td>
</tr>
<tr id="A4.T10.1.1.17.16" class="ltx_tr">
<th id="A4.T10.1.1.17.16.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.17.16.1.1" class="ltx_text">16</span></th>
<td id="A4.T10.1.1.17.16.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(256, 512, 3, 2, 1), BN(512), ReLU</td>
</tr>
<tr id="A4.T10.1.1.18.17" class="ltx_tr">
<th id="A4.T10.1.1.18.17.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.18.17.1.1" class="ltx_text">17</span></th>
<td id="A4.T10.1.1.18.17.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(512, 512, 3, 1, 1), BN(512)</td>
</tr>
<tr id="A4.T10.1.1.19.18" class="ltx_tr">
<th id="A4.T10.1.1.19.18.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.19.18.1.1" class="ltx_text">18</span></th>
<td id="A4.T10.1.1.19.18.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(256, 512, 1, 2, 0), BN(512)</td>
</tr>
<tr id="A4.T10.1.1.20.19" class="ltx_tr">
<th id="A4.T10.1.1.20.19.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.20.19.1.1" class="ltx_text">19</span></th>
<td id="A4.T10.1.1.20.19.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(512, 512, 3, 1, 1), BN(512), ReLU</td>
</tr>
<tr id="A4.T10.1.1.21.20" class="ltx_tr">
<th id="A4.T10.1.1.21.20.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.21.20.1.1" class="ltx_text">20</span></th>
<td id="A4.T10.1.1.21.20.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(512, 512, 3, 1, 1), BN(512)</td>
</tr>
<tr id="A4.T10.1.1.22.21" class="ltx_tr">
<th id="A4.T10.1.1.22.21.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.22.21.1.1" class="ltx_text">21</span></th>
<td id="A4.T10.1.1.22.21.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">AvgPool2D</td>
</tr>
<tr id="A4.T10.1.1.23.22" class="ltx_tr">
<th id="A4.T10.1.1.23.22.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T10.1.1.23.22.1.1" class="ltx_text">22</span></th>
<td id="A4.T10.1.1.23.22.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">FC(512, num_class)</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="A4.T11" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 11: </span>ConvNet architecture. For the convolutional layer (Conv2D), we list parameters with a sequence of input and output dimensions, kernel size, stride, and padding. For the max pooling layer (MaxPool2D), we list kernel and stride. For a fully connected layer (FC), we list the input and output dimensions. For the GroupNormalization layer (GN), we list the channel dimension.</figcaption>
<div id="A4.T11.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:322.6pt;height:89.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-1.6pt,0.4pt) scale(0.99,0.99) ;">
<table id="A4.T11.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A4.T11.1.1.1.1" class="ltx_tr">
<th id="A4.T11.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T11.1.1.1.1.1.1" class="ltx_text">Layer</span></th>
<th id="A4.T11.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-top:1pt;padding-bottom:1pt;">Details</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A4.T11.1.1.2.1" class="ltx_tr">
<th id="A4.T11.1.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T11.1.1.2.1.1.1" class="ltx_text">1</span></th>
<td id="A4.T11.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(3, 128, 3, 1, 1), GN(128), ReLU, AvgPool2d(2,2,0)</td>
</tr>
<tr id="A4.T11.1.1.3.2" class="ltx_tr">
<th id="A4.T11.1.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T11.1.1.3.2.1.1" class="ltx_text">2</span></th>
<td id="A4.T11.1.1.3.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(128, 118, 3, 1, 1), GN(128), ReLU, AvgPool2d(2,2,0)</td>
</tr>
<tr id="A4.T11.1.1.4.3" class="ltx_tr">
<th id="A4.T11.1.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T11.1.1.4.3.1.1" class="ltx_text">3</span></th>
<td id="A4.T11.1.1.4.3.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">Conv2D(128, 128, 3, 1, 1), GN(128), ReLU, AvgPool2d(2,2,0)</td>
</tr>
<tr id="A4.T11.1.1.5.4" class="ltx_tr">
<th id="A4.T11.1.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;"><span id="A4.T11.1.1.5.4.1.1" class="ltx_text">4</span></th>
<td id="A4.T11.1.1.5.4.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-top:1pt;padding-bottom:1pt;">FC(1152, num_class)</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A4.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.5 </span>Training details</h3>

<div id="A4.SS5.p1" class="ltx_para">
<p id="A4.SS5.p1.1" class="ltx_p">We provide detailed settings for experiments conducted in Table <a href="#A4.T12" title="Table 12 ‣ D.5 Training details ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a> for <span id="A4.SS5.p1.1.1" class="ltx_text ltx_font_typewriter">DIGITS</span>, Table <a href="#A4.T13" title="Table 13 ‣ D.5 Training details ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a> for <span id="A4.SS5.p1.1.2" class="ltx_text ltx_font_typewriter">CIFAR10C</span>, and Table <a href="#A4.T14" title="Table 14 ‣ D.5 Training details ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a> for <span id="A4.SS5.p1.1.3" class="ltx_text ltx_font_typewriter">RETINA</span>.</p>
</div>
<figure id="A4.T12" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 12: </span><span id="A4.T12.4.1" class="ltx_text ltx_font_typewriter">DIGITS</span> settings for all federated learning, including the number of training and testing examples, and local update epochs. Image per class is the number of distilled images used for distribution matching only in <span id="A4.T12.5.2" class="ltx_text ltx_font_smallcaps">FedLGD</span>.</figcaption>
<div id="A4.T12.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:132.1pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-50.8pt,15.4pt) scale(0.810250531488015,0.810250531488015) ;">
<table id="A4.T12.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A4.T12.1.1.2.1" class="ltx_tr">
<th id="A4.T12.1.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt">DataSets</th>
<td id="A4.T12.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_tt">MNIST</td>
<td id="A4.T12.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_tt">SVHN</td>
<td id="A4.T12.1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_tt">USPS</td>
<td id="A4.T12.1.1.2.1.5" class="ltx_td ltx_align_center ltx_border_tt">SynthDigits</td>
<td id="A4.T12.1.1.2.1.6" class="ltx_td ltx_align_center ltx_border_tt">MNIST-M</td>
</tr>
<tr id="A4.T12.1.1.3.2" class="ltx_tr">
<th id="A4.T12.1.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">Number of clients</th>
<td id="A4.T12.1.1.3.2.2" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="A4.T12.1.1.3.2.3" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="A4.T12.1.1.3.2.4" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="A4.T12.1.1.3.2.5" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="A4.T12.1.1.3.2.6" class="ltx_td ltx_align_center ltx_border_t">1</td>
</tr>
<tr id="A4.T12.1.1.4.3" class="ltx_tr">
<th id="A4.T12.1.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Number of Training Samples</th>
<td id="A4.T12.1.1.4.3.2" class="ltx_td ltx_align_center">60000</td>
<td id="A4.T12.1.1.4.3.3" class="ltx_td ltx_align_center">73257</td>
<td id="A4.T12.1.1.4.3.4" class="ltx_td ltx_align_center">7291</td>
<td id="A4.T12.1.1.4.3.5" class="ltx_td ltx_align_center">10000</td>
<td id="A4.T12.1.1.4.3.6" class="ltx_td ltx_align_center">10331</td>
</tr>
<tr id="A4.T12.1.1.5.4" class="ltx_tr">
<th id="A4.T12.1.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Number of Testing Samples</th>
<td id="A4.T12.1.1.5.4.2" class="ltx_td ltx_align_center">10000</td>
<td id="A4.T12.1.1.5.4.3" class="ltx_td ltx_align_center">26032</td>
<td id="A4.T12.1.1.5.4.4" class="ltx_td ltx_align_center">2007</td>
<td id="A4.T12.1.1.5.4.5" class="ltx_td ltx_align_center">2000</td>
<td id="A4.T12.1.1.5.4.6" class="ltx_td ltx_align_center">209</td>
</tr>
<tr id="A4.T12.1.1.6.5" class="ltx_tr">
<th id="A4.T12.1.1.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Image per Class</th>
<td id="A4.T12.1.1.6.5.2" class="ltx_td ltx_align_center">10,<span id="A4.T12.1.1.6.5.2.1" class="ltx_text ltx_font_bold">50</span>
</td>
<td id="A4.T12.1.1.6.5.3" class="ltx_td ltx_align_center">10,<span id="A4.T12.1.1.6.5.3.1" class="ltx_text ltx_font_bold">50</span>
</td>
<td id="A4.T12.1.1.6.5.4" class="ltx_td ltx_align_center">10,<span id="A4.T12.1.1.6.5.4.1" class="ltx_text ltx_font_bold">50</span>
</td>
<td id="A4.T12.1.1.6.5.5" class="ltx_td ltx_align_center">10,<span id="A4.T12.1.1.6.5.5.1" class="ltx_text ltx_font_bold">50</span>
</td>
<td id="A4.T12.1.1.6.5.6" class="ltx_td ltx_align_center">10,<span id="A4.T12.1.1.6.5.6.1" class="ltx_text ltx_font_bold">50</span>
</td>
</tr>
<tr id="A4.T12.1.1.7.6" class="ltx_tr">
<th id="A4.T12.1.1.7.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Local Update Epochs</th>
<td id="A4.T12.1.1.7.6.2" class="ltx_td ltx_align_center">
<span id="A4.T12.1.1.7.6.2.1" class="ltx_text ltx_font_bold">1</span>,2,5</td>
<td id="A4.T12.1.1.7.6.3" class="ltx_td ltx_align_center">
<span id="A4.T12.1.1.7.6.3.1" class="ltx_text ltx_font_bold">1</span>,2,5</td>
<td id="A4.T12.1.1.7.6.4" class="ltx_td ltx_align_center">
<span id="A4.T12.1.1.7.6.4.1" class="ltx_text ltx_font_bold">1</span>,2,5</td>
<td id="A4.T12.1.1.7.6.5" class="ltx_td ltx_align_center">
<span id="A4.T12.1.1.7.6.5.1" class="ltx_text ltx_font_bold">1</span>,2,5</td>
<td id="A4.T12.1.1.7.6.6" class="ltx_td ltx_align_center">
<span id="A4.T12.1.1.7.6.6.1" class="ltx_text ltx_font_bold">1</span>,2,5</td>
</tr>
<tr id="A4.T12.1.1.8.7" class="ltx_tr">
<th id="A4.T12.1.1.8.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Local Distillation Update Epochs</th>
<td id="A4.T12.1.1.8.7.2" class="ltx_td ltx_align_center">50, <span id="A4.T12.1.1.8.7.2.1" class="ltx_text ltx_font_bold">100</span>, 200</td>
<td id="A4.T12.1.1.8.7.3" class="ltx_td ltx_align_center">50, <span id="A4.T12.1.1.8.7.3.1" class="ltx_text ltx_font_bold">100</span>, 200</td>
<td id="A4.T12.1.1.8.7.4" class="ltx_td ltx_align_center">50, <span id="A4.T12.1.1.8.7.4.1" class="ltx_text ltx_font_bold">100</span>, 200</td>
<td id="A4.T12.1.1.8.7.5" class="ltx_td ltx_align_center">50, <span id="A4.T12.1.1.8.7.5.1" class="ltx_text ltx_font_bold">100</span>, 200</td>
<td id="A4.T12.1.1.8.7.6" class="ltx_td ltx_align_center">50, <span id="A4.T12.1.1.8.7.6.1" class="ltx_text ltx_font_bold">100</span>, 200</td>
</tr>
<tr id="A4.T12.1.1.9.8" class="ltx_tr">
<th id="A4.T12.1.1.9.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">global Distillation Update Epochs</th>
<td id="A4.T12.1.1.9.8.2" class="ltx_td ltx_align_center">200, <span id="A4.T12.1.1.9.8.2.1" class="ltx_text ltx_font_bold">500</span>, 1000</td>
<td id="A4.T12.1.1.9.8.3" class="ltx_td ltx_align_center">200, <span id="A4.T12.1.1.9.8.3.1" class="ltx_text ltx_font_bold">500</span>, 1000</td>
<td id="A4.T12.1.1.9.8.4" class="ltx_td ltx_align_center">200, <span id="A4.T12.1.1.9.8.4.1" class="ltx_text ltx_font_bold">500</span>, 1000</td>
<td id="A4.T12.1.1.9.8.5" class="ltx_td ltx_align_center">200, <span id="A4.T12.1.1.9.8.5.1" class="ltx_text ltx_font_bold">500</span>, 1000</td>
<td id="A4.T12.1.1.9.8.6" class="ltx_td ltx_align_center">200, <span id="A4.T12.1.1.9.8.6.1" class="ltx_text ltx_font_bold">500</span>, 1000</td>
</tr>
<tr id="A4.T12.1.1.1" class="ltx_tr">
<th id="A4.T12.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r"><math id="A4.T12.1.1.1.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="A4.T12.1.1.1.1.m1.1a"><mi id="A4.T12.1.1.1.1.m1.1.1" xref="A4.T12.1.1.1.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="A4.T12.1.1.1.1.m1.1b"><ci id="A4.T12.1.1.1.1.m1.1.1.cmml" xref="A4.T12.1.1.1.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T12.1.1.1.1.m1.1c">\lambda</annotation></semantics></math></th>
<td id="A4.T12.1.1.1.2" class="ltx_td ltx_align_center ltx_border_bb">10</td>
<td id="A4.T12.1.1.1.3" class="ltx_td ltx_align_center ltx_border_bb">10</td>
<td id="A4.T12.1.1.1.4" class="ltx_td ltx_align_center ltx_border_bb">10</td>
<td id="A4.T12.1.1.1.5" class="ltx_td ltx_align_center ltx_border_bb">10</td>
<td id="A4.T12.1.1.1.6" class="ltx_td ltx_align_center ltx_border_bb">10</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="A4.T13" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 13: </span><span id="A4.T13.5.1" class="ltx_text ltx_font_typewriter">CIFAR10C</span> settings for all federated learning, including the client ratio for training and testing examples, and local update epochs. Image per class is the number of distilled images used for distribution matching only in <span id="A4.T13.6.2" class="ltx_text ltx_font_smallcaps">FedLGD</span>.</figcaption>
<div id="A4.T13.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:346.9pt;height:176.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-20.8pt,10.6pt) scale(0.892848952976418,0.892848952976418) ;">
<table id="A4.T13.2.2" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A4.T13.1.1.1" class="ltx_tr">
<td id="A4.T13.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><math id="A4.T13.1.1.1.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="A4.T13.1.1.1.1.m1.1a"><mi id="A4.T13.1.1.1.1.m1.1.1" xref="A4.T13.1.1.1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="A4.T13.1.1.1.1.m1.1b"><ci id="A4.T13.1.1.1.1.m1.1.1.cmml" xref="A4.T13.1.1.1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T13.1.1.1.1.m1.1c">\alpha</annotation></semantics></math></td>
<td id="A4.T13.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt">2</td>
<td id="A4.T13.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt">5</td>
</tr>
<tr id="A4.T13.2.2.3.1" class="ltx_tr">
<td id="A4.T13.2.2.3.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Number of clients</td>
<td id="A4.T13.2.2.3.1.2" class="ltx_td ltx_align_center ltx_border_t">57</td>
<td id="A4.T13.2.2.3.1.3" class="ltx_td ltx_align_center ltx_border_t">57</td>
</tr>
<tr id="A4.T13.2.2.4.2" class="ltx_tr">
<td id="A4.T13.2.2.4.2.1" class="ltx_td ltx_align_center ltx_border_r">Averaged Number of Training Samples</td>
<td id="A4.T13.2.2.4.2.2" class="ltx_td ltx_align_center">21790</td>
<td id="A4.T13.2.2.4.2.3" class="ltx_td ltx_align_center">15000</td>
</tr>
<tr id="A4.T13.2.2.5.3" class="ltx_tr">
<td id="A4.T13.2.2.5.3.1" class="ltx_td ltx_align_center ltx_border_r">Standard Deviation of of Training Samples</td>
<td id="A4.T13.2.2.5.3.2" class="ltx_td ltx_align_center">6753</td>
<td id="A4.T13.2.2.5.3.3" class="ltx_td ltx_align_center">1453</td>
</tr>
<tr id="A4.T13.2.2.6.4" class="ltx_tr">
<td id="A4.T13.2.2.6.4.1" class="ltx_td ltx_align_center ltx_border_r">Averaged Number of Testing Samples</td>
<td id="A4.T13.2.2.6.4.2" class="ltx_td ltx_align_center">2419</td>
<td id="A4.T13.2.2.6.4.3" class="ltx_td ltx_align_center">1666</td>
</tr>
<tr id="A4.T13.2.2.7.5" class="ltx_tr">
<td id="A4.T13.2.2.7.5.1" class="ltx_td ltx_align_center ltx_border_r">Standard Deviation of Number of Testing Samples</td>
<td id="A4.T13.2.2.7.5.2" class="ltx_td ltx_align_center">742</td>
<td id="A4.T13.2.2.7.5.3" class="ltx_td ltx_align_center">165</td>
</tr>
<tr id="A4.T13.2.2.8.6" class="ltx_tr">
<td id="A4.T13.2.2.8.6.1" class="ltx_td ltx_align_center ltx_border_r">Image per Class</td>
<td id="A4.T13.2.2.8.6.2" class="ltx_td ltx_align_center">10,<span id="A4.T13.2.2.8.6.2.1" class="ltx_text ltx_font_bold">50</span>
</td>
<td id="A4.T13.2.2.8.6.3" class="ltx_td ltx_align_center">10,<span id="A4.T13.2.2.8.6.3.1" class="ltx_text ltx_font_bold">50</span>
</td>
</tr>
<tr id="A4.T13.2.2.9.7" class="ltx_tr">
<td id="A4.T13.2.2.9.7.1" class="ltx_td ltx_align_center ltx_border_r">Local Update Epochs</td>
<td id="A4.T13.2.2.9.7.2" class="ltx_td ltx_align_center">
<span id="A4.T13.2.2.9.7.2.1" class="ltx_text ltx_font_bold">1</span>,2,5</td>
<td id="A4.T13.2.2.9.7.3" class="ltx_td ltx_align_center">
<span id="A4.T13.2.2.9.7.3.1" class="ltx_text ltx_font_bold">1</span>,2,5</td>
</tr>
<tr id="A4.T13.2.2.10.8" class="ltx_tr">
<td id="A4.T13.2.2.10.8.1" class="ltx_td ltx_align_center ltx_border_r">Local Distillation Update Epochs</td>
<td id="A4.T13.2.2.10.8.2" class="ltx_td ltx_align_center">50, <span id="A4.T13.2.2.10.8.2.1" class="ltx_text ltx_font_bold">100</span>, 200</td>
<td id="A4.T13.2.2.10.8.3" class="ltx_td ltx_align_center">50, <span id="A4.T13.2.2.10.8.3.1" class="ltx_text ltx_font_bold">100</span>, 200</td>
</tr>
<tr id="A4.T13.2.2.11.9" class="ltx_tr">
<td id="A4.T13.2.2.11.9.1" class="ltx_td ltx_align_center ltx_border_r">global Distillation Update Epochs</td>
<td id="A4.T13.2.2.11.9.2" class="ltx_td ltx_align_center">200, <span id="A4.T13.2.2.11.9.2.1" class="ltx_text ltx_font_bold">500</span>, 1000</td>
<td id="A4.T13.2.2.11.9.3" class="ltx_td ltx_align_center">200, <span id="A4.T13.2.2.11.9.3.1" class="ltx_text ltx_font_bold">500</span>, 1000</td>
</tr>
<tr id="A4.T13.2.2.2" class="ltx_tr">
<td id="A4.T13.2.2.2.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><math id="A4.T13.2.2.2.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="A4.T13.2.2.2.1.m1.1a"><mi id="A4.T13.2.2.2.1.m1.1.1" xref="A4.T13.2.2.2.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="A4.T13.2.2.2.1.m1.1b"><ci id="A4.T13.2.2.2.1.m1.1.1.cmml" xref="A4.T13.2.2.2.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T13.2.2.2.1.m1.1c">\lambda</annotation></semantics></math></td>
<td id="A4.T13.2.2.2.2" class="ltx_td ltx_align_center ltx_border_bb">1</td>
<td id="A4.T13.2.2.2.3" class="ltx_td ltx_align_center ltx_border_bb">1</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="A4.T14" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 14: </span><span id="A4.T14.4.1" class="ltx_text ltx_font_typewriter">RETINA</span> settings for all federated learning, including the number of training and testing examples and local update epochs. Image per class is the number of distilled images used for distribution matching only in <span id="A4.T14.5.2" class="ltx_text ltx_font_smallcaps">FedLGD</span>.</figcaption>
<div id="A4.T14.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:303.5pt;height:133.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-12.0pt,5.3pt) scale(0.926580042532942,0.926580042532942) ;">
<table id="A4.T14.1.1" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A4.T14.1.1.2.1" class="ltx_tr">
<td id="A4.T14.1.1.2.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">Datasets</td>
<td id="A4.T14.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_tt">Drishti</td>
<td id="A4.T14.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_tt">Acrima</td>
<td id="A4.T14.1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_tt">RIM</td>
<td id="A4.T14.1.1.2.1.5" class="ltx_td ltx_align_center ltx_border_tt">Refuge</td>
</tr>
<tr id="A4.T14.1.1.3.2" class="ltx_tr">
<td id="A4.T14.1.1.3.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Number of clients</td>
<td id="A4.T14.1.1.3.2.2" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="A4.T14.1.1.3.2.3" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="A4.T14.1.1.3.2.4" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="A4.T14.1.1.3.2.5" class="ltx_td ltx_align_center ltx_border_t">1</td>
</tr>
<tr id="A4.T14.1.1.4.3" class="ltx_tr">
<td id="A4.T14.1.1.4.3.1" class="ltx_td ltx_align_center ltx_border_r">Number of Training Samples</td>
<td id="A4.T14.1.1.4.3.2" class="ltx_td ltx_align_center">82</td>
<td id="A4.T14.1.1.4.3.3" class="ltx_td ltx_align_center">605</td>
<td id="A4.T14.1.1.4.3.4" class="ltx_td ltx_align_center">385</td>
<td id="A4.T14.1.1.4.3.5" class="ltx_td ltx_align_center">1000</td>
</tr>
<tr id="A4.T14.1.1.5.4" class="ltx_tr">
<td id="A4.T14.1.1.5.4.1" class="ltx_td ltx_align_center ltx_border_r">Number of Testing Samples</td>
<td id="A4.T14.1.1.5.4.2" class="ltx_td ltx_align_center">19</td>
<td id="A4.T14.1.1.5.4.3" class="ltx_td ltx_align_center">100</td>
<td id="A4.T14.1.1.5.4.4" class="ltx_td ltx_align_center">100</td>
<td id="A4.T14.1.1.5.4.5" class="ltx_td ltx_align_center">200</td>
</tr>
<tr id="A4.T14.1.1.6.5" class="ltx_tr">
<td id="A4.T14.1.1.6.5.1" class="ltx_td ltx_align_center ltx_border_r">Image per class</td>
<td id="A4.T14.1.1.6.5.2" class="ltx_td ltx_align_center">10</td>
<td id="A4.T14.1.1.6.5.3" class="ltx_td ltx_align_center">10</td>
<td id="A4.T14.1.1.6.5.4" class="ltx_td ltx_align_center">10</td>
<td id="A4.T14.1.1.6.5.5" class="ltx_td ltx_align_center">10</td>
</tr>
<tr id="A4.T14.1.1.7.6" class="ltx_tr">
<td id="A4.T14.1.1.7.6.1" class="ltx_td ltx_align_center ltx_border_r">Local Distillation Update Epochs</td>
<td id="A4.T14.1.1.7.6.2" class="ltx_td ltx_align_center">100</td>
<td id="A4.T14.1.1.7.6.3" class="ltx_td ltx_align_center">100</td>
<td id="A4.T14.1.1.7.6.4" class="ltx_td ltx_align_center">100</td>
<td id="A4.T14.1.1.7.6.5" class="ltx_td ltx_align_center">100</td>
</tr>
<tr id="A4.T14.1.1.8.7" class="ltx_tr">
<td id="A4.T14.1.1.8.7.1" class="ltx_td ltx_align_center ltx_border_r">global Distillation Update Epochs</td>
<td id="A4.T14.1.1.8.7.2" class="ltx_td ltx_align_center">500</td>
<td id="A4.T14.1.1.8.7.3" class="ltx_td ltx_align_center">500</td>
<td id="A4.T14.1.1.8.7.4" class="ltx_td ltx_align_center">500</td>
<td id="A4.T14.1.1.8.7.5" class="ltx_td ltx_align_center">500</td>
</tr>
<tr id="A4.T14.1.1.1" class="ltx_tr">
<td id="A4.T14.1.1.1.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><math id="A4.T14.1.1.1.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="A4.T14.1.1.1.1.m1.1a"><mi id="A4.T14.1.1.1.1.m1.1.1" xref="A4.T14.1.1.1.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="A4.T14.1.1.1.1.m1.1b"><ci id="A4.T14.1.1.1.1.m1.1.1.cmml" xref="A4.T14.1.1.1.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T14.1.1.1.1.m1.1c">\lambda</annotation></semantics></math></td>
<td id="A4.T14.1.1.1.2" class="ltx_td ltx_align_center ltx_border_bb">0.1</td>
<td id="A4.T14.1.1.1.3" class="ltx_td ltx_align_center ltx_border_bb">0.1</td>
<td id="A4.T14.1.1.1.4" class="ltx_td ltx_align_center ltx_border_bb">0.1</td>
<td id="A4.T14.1.1.1.5" class="ltx_td ltx_align_center ltx_border_bb">0.1</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A4.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.6 </span>Membership Inference Attack</h3>

<div id="A4.SS6.p1" class="ltx_para">
<p id="A4.SS6.p1.1" class="ltx_p">Studies show that neural networks are prone to suffer from several privacy attacks such as Membership Inference Attacks (MIA) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>.
In MIA, the attackers have a list of <span id="A4.SS6.p1.1.1" class="ltx_text ltx_font_italic">query</span> data, and the purpose is to determine whether the <span id="A4.SS6.p1.1.2" class="ltx_text ltx_font_italic">query</span> data belongs to the original training set. As discussed in  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite>, using distilled data to train a target model can defend against multiple attacks up to a certain level. We will especially apply MIA to test whether our work can defend against privacy attacks. In detail, we perform MIA directly on models trained with FedAvg (using the original data set) and <span id="A4.SS6.p1.1.3" class="ltx_text ltx_font_smallcaps">FedLGD</span> (using the synthetic dataset). We show the attack results in Figure <a href="#A4.F17" title="Figure 17 ‣ D.6 Membership Inference Attack ‣ Appendix D Experimental details ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">17</span></a> following the evaluation in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. If the ROC curve intersects with the diagonal dashed line (representing a random membership classifier) or lies below it (indicating that membership inference performs worse than random chance), it signifies that the approach provides a stronger defense against membership inference compared to the method with a larger area under the ROC curve. It can be observed that models trained with synthetic data exhibit ROC curves that are more closely aligned with or positioned below the diagonal line, suggesting that attacking membership becomes more challenging.</p>
</div>
<figure id="A4.F17" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A4.F17.sf1" class="ltx_figure ltx_figure_panel">
<div id="A4.F17.sf1.1" class="ltx_block ltx_minipage ltx_align_top" style="width:173.4pt;">
<img src="/html/2303.02278/assets/x15.png" id="A4.F17.sf1.1.g1" class="ltx_graphics ltx_img_square" width="438" height="416" alt="Refer to caption">
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>MIA on Synth-Digits</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A4.F17.sf2" class="ltx_figure ltx_figure_panel">
<div id="A4.F17.sf2.1" class="ltx_block ltx_minipage ltx_align_top" style="width:173.4pt;">
<img src="/html/2303.02278/assets/x16.png" id="A4.F17.sf2.1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="438" height="416" alt="Refer to caption">
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>MIA on MNIST-M</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 17: </span>MIA attack results on models trained with FedAvg (using original dataset) and <span id="A4.F17.2.1" class="ltx_text ltx_font_smallcaps">FedLGD</span> (using distilled virtual dataset). If the ROC curve is the same as the diagonal line, it means the membership cannot be inferred. One can observe the ROC curve for the model trained with synthetic data is closer to the diagonal line, which indicates the membership information is harder to be inferred.
</figcaption>
</figure>
</section>
</section>
<section id="A5" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Other Heterogeneous Federated Learning Methods Used in Comparison</h2>

<div id="A5.p1" class="ltx_para">
<p id="A5.p1.1" class="ltx_p">FL trains the central model over a variety of distributed clients that contain non-iid data. We detailed each of the baseline methods we compared in Section <a href="#S4" title="4 Experiment ‣ Federated Virtual Learning on Heterogeneous Data with Local-global Distillation" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> below.</p>
</div>
<section id="A5.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>
</h5>

<div id="A5.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="A5.SS0.SSS0.Px1.p1.1" class="ltx_p">The most popular aggregation strategy in modern FL, Federated Averaging (FedAvg) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>, averages the uploaded clients’ model as the updated server model. Mathematically, the aggregation is represented as <math id="A5.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="w^{t+1}=w^{t}-\eta\sum_{i\in S_{t}}{\frac{|D_{i}|}{n}\Delta w_{k}^{t}}" display="inline"><semantics id="A5.SS0.SSS0.Px1.p1.1.m1.1a"><mrow id="A5.SS0.SSS0.Px1.p1.1.m1.1.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.cmml"><msup id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.cmml"><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.2.cmml">w</mi><mrow id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.cmml"><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.2.cmml">t</mi><mo id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.1" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.1.cmml">+</mo><mn id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.3.cmml">1</mn></mrow></msup><mo id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.1" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.1.cmml">=</mo><mrow id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.cmml"><msup id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2.cmml"><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2.2.cmml">w</mi><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2.3.cmml">t</mi></msup><mo id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.1" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.1.cmml">−</mo><mrow id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.cmml"><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.1" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.1.cmml">​</mo><mrow id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.cmml"><msub id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.cmml"><mo id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.2.cmml">∑</mo><mrow id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.cmml"><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.2.cmml">i</mi><mo id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.1" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.1.cmml">∈</mo><msub id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3.cmml"><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3.2.cmml">S</mi><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3.3.cmml">t</mi></msub></mrow></msub><mrow id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.cmml"><mfrac id="A5.SS0.SSS0.Px1.p1.1.m1.1.1" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.cmml"><mrow id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.2.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.2.1.cmml">|</mo><msub id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml"><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1.2.cmml">D</mi><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.2.1.cmml">|</mo></mrow><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.1" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.1.cmml">​</mo><mi mathvariant="normal" id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.1a" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.1.cmml">​</mo><msubsup id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.cmml"><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.2.2" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.2.2.cmml">w</mi><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.2.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.2.3.cmml">k</mi><mi id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.3" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.3.cmml">t</mi></msubsup></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px1.p1.1.m1.1b"><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2"><eq id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.1"></eq><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2">superscript</csymbol><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.2">𝑤</ci><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3"><plus id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.1"></plus><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.2">𝑡</ci><cn type="integer" id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.2.3.3">1</cn></apply></apply><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3"><minus id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.1"></minus><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2">superscript</csymbol><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2.2">𝑤</ci><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.2.3">𝑡</ci></apply><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3"><times id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.1"></times><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.2">𝜂</ci><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3"><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1">subscript</csymbol><sum id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.2"></sum><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3"><in id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.1"></in><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.2">𝑖</ci><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3.2">𝑆</ci><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2"><times id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.1"></times><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1"><divide id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1"></divide><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1"><abs id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.2.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.2"></abs><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1.2">𝐷</ci><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.1.1.1.3">𝑖</ci></apply></apply><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.1.3">𝑛</ci></apply><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.2">Δ</ci><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3">superscript</csymbol><apply id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.2.1.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.2.2.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.2.2">𝑤</ci><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.2.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.2.3">𝑘</ci></apply><ci id="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.3.cmml" xref="A5.SS0.SSS0.Px1.p1.1.m1.1.2.3.3.3.2.3.3">𝑡</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px1.p1.1.m1.1c">w^{t+1}=w^{t}-\eta\sum_{i\in S_{t}}{\frac{|D_{i}|}{n}\Delta w_{k}^{t}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. Because FedAVG is only capable of handling Non-IID data to a limited degree, current FL studies proposed improvements in either local training or global aggregation based on it.</p>
</div>
</section>
<section id="A5.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">FedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>
</h5>

<div id="A5.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="A5.SS0.SSS0.Px2.p1.5" class="ltx_p">FedProx improves local training by directly adding a <math id="A5.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="L_{2}" display="inline"><semantics id="A5.SS0.SSS0.Px2.p1.1.m1.1a"><msub id="A5.SS0.SSS0.Px2.p1.1.m1.1.1" xref="A5.SS0.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="A5.SS0.SSS0.Px2.p1.1.m1.1.1.2" xref="A5.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml">L</mi><mn id="A5.SS0.SSS0.Px2.p1.1.m1.1.1.3" xref="A5.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px2.p1.1.m1.1b"><apply id="A5.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="A5.SS0.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="A5.SS0.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="A5.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="A5.SS0.SSS0.Px2.p1.1.m1.1.1.2">𝐿</ci><cn type="integer" id="A5.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="A5.SS0.SSS0.Px2.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px2.p1.1.m1.1c">L_{2}</annotation></semantics></math> regularization term, <math id="A5.SS0.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="A5.SS0.SSS0.Px2.p1.2.m2.1a"><mi id="A5.SS0.SSS0.Px2.p1.2.m2.1.1" xref="A5.SS0.SSS0.Px2.p1.2.m2.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px2.p1.2.m2.1b"><ci id="A5.SS0.SSS0.Px2.p1.2.m2.1.1.cmml" xref="A5.SS0.SSS0.Px2.p1.2.m2.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px2.p1.2.m2.1c">\mu</annotation></semantics></math>, <math id="A5.SS0.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="\frac{\mu}{2}||w-w^{t}||^{2}" display="inline"><semantics id="A5.SS0.SSS0.Px2.p1.3.m3.1a"><mrow id="A5.SS0.SSS0.Px2.p1.3.m3.1.1" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.cmml"><mfrac id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3.cmml"><mi id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3.2" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3.2.cmml">μ</mi><mn id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3.3" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3.3.cmml">2</mn></mfrac><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.2" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml">​</mo><msup id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.cmml"><mrow id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.2.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.2.1.cmml">‖</mo><mrow id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.cmml"><mi id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.2.cmml">w</mi><mo id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.1.cmml">−</mo><msup id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.cmml"><mi id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.2" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.2.cmml">w</mi><mi id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.3" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.3" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.cmml">2</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px2.p1.3.m3.1b"><apply id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1"><times id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.2"></times><apply id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3"><divide id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3.1.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3"></divide><ci id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3.2.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3.2">𝜇</ci><cn type="integer" id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3.3.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.3.3">2</cn></apply><apply id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1">superscript</csymbol><apply id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1"><csymbol cd="latexml" id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.2.1.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.2">norm</csymbol><apply id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1"><minus id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.1"></minus><ci id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.2">𝑤</ci><apply id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.1.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3">superscript</csymbol><ci id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.2.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.2">𝑤</ci><ci id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.3.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply><cn type="integer" id="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px2.p1.3.m3.1.1.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px2.p1.3.m3.1c">\frac{\mu}{2}||w-w^{t}||^{2}</annotation></semantics></math> controlled by hyperparameter <math id="A5.SS0.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="A5.SS0.SSS0.Px2.p1.4.m4.1a"><mi id="A5.SS0.SSS0.Px2.p1.4.m4.1.1" xref="A5.SS0.SSS0.Px2.p1.4.m4.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px2.p1.4.m4.1b"><ci id="A5.SS0.SSS0.Px2.p1.4.m4.1.1.cmml" xref="A5.SS0.SSS0.Px2.p1.4.m4.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px2.p1.4.m4.1c">\mu</annotation></semantics></math>, in the local objection function to shorten the distance between the server and the client distance. Namely, this regularization enforces the updated model to be as close to the global optima as possible during aggregation. In our experiment, we carefully tuned <math id="A5.SS0.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="A5.SS0.SSS0.Px2.p1.5.m5.1a"><mi id="A5.SS0.SSS0.Px2.p1.5.m5.1.1" xref="A5.SS0.SSS0.Px2.p1.5.m5.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px2.p1.5.m5.1b"><ci id="A5.SS0.SSS0.Px2.p1.5.m5.1.1.cmml" xref="A5.SS0.SSS0.Px2.p1.5.m5.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px2.p1.5.m5.1c">\mu</annotation></semantics></math> to achieve the current results.</p>
</div>
</section>
<section id="A5.SS0.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">FedNova <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>
</h5>

<div id="A5.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="A5.SS0.SSS0.Px3.p1.1" class="ltx_p">FedNova aims to tackle imbalances in the aggregation stage caused by different levels of training (e.g., a gap in local steps between different clients) before updating from different clients. The idea is to make larger local updates for clients with deep level of local training (e.g., a large local epoch). This way, FedNova scales and normalizes the clients’ model before sending them to the global model. Specifically, it improves its objective from FedAvg to <math id="A5.SS0.SSS0.Px3.p1.1.m1.2" class="ltx_Math" alttext="w^{t+1}=w^{t}-\eta\frac{\sum_{i\in S_{t}}{|D^{i}|\tau_{i}}}{n}\sum_{i\in S_{t}}{\frac{|D^{i}|\Delta w_{k}^{t}}{n\tau_{i}}}" display="inline"><semantics id="A5.SS0.SSS0.Px3.p1.1.m1.2a"><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.2.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.cmml"><msup id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.2.cmml">w</mi><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.2.cmml">t</mi><mo id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.1.cmml">+</mo><mn id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.3.cmml">1</mn></mrow></msup><mo id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.1.cmml">=</mo><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.cmml"><msup id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2.2.cmml">w</mi><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2.3.cmml">t</mi></msup><mo id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.1.cmml">−</mo><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.1.cmml">​</mo><mfrac id="A5.SS0.SSS0.Px3.p1.1.m1.1.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.cmml"><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.cmml"><mstyle displaystyle="false" id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.cmml"><msub id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2a" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.cmml"><mo id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.2.cmml">∑</mo><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.2.cmml">i</mi><mo id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.1.cmml">∈</mo><msub id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3.2.cmml">S</mi><mi id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3.3.cmml">t</mi></msub></mrow></msub></mstyle><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.cmml"><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.2.1.cmml">|</mo><msup id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1.2.cmml">D</mi><mi id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1.3.cmml">i</mi></msup><mo stretchy="false" id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.2.cmml">​</mo><msub id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3.2.cmml">τ</mi><mi id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3.3.cmml">i</mi></msub></mrow></mrow><mi id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.1a" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.1.cmml">​</mo><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.cmml"><msub id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.cmml"><mo id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.2.cmml">∑</mo><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.2.cmml">i</mi><mo id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.1.cmml">∈</mo><msub id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3.2.cmml">S</mi><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3.3.cmml">t</mi></msub></mrow></msub><mfrac id="A5.SS0.SSS0.Px3.p1.1.m1.2.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.cmml"><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.cmml"><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.2.1.cmml">|</mo><msup id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1.2.cmml">D</mi><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1.3.cmml">i</mi></msup><mo stretchy="false" id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.2.cmml">​</mo><mi mathvariant="normal" id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.2a" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.2.cmml">​</mo><msubsup id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.2.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.2.2.cmml">w</mi><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.2.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.2.3.cmml">k</mi><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.3.cmml">t</mi></msubsup></mrow><mrow id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.1" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.1.cmml">​</mo><msub id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3.cmml"><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3.2" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3.2.cmml">τ</mi><mi id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3.3" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3.3.cmml">i</mi></msub></mrow></mfrac></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px3.p1.1.m1.2b"><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3"><eq id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.1"></eq><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2">superscript</csymbol><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.2">𝑤</ci><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3"><plus id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.1"></plus><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.2">𝑡</ci><cn type="integer" id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.2.3.3">1</cn></apply></apply><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3"><minus id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.1"></minus><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2">superscript</csymbol><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2.2">𝑤</ci><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.2.3">𝑡</ci></apply><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3"><times id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.1"></times><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.2">𝜂</ci><apply id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1"><divide id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1"></divide><apply id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1"><apply id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2">subscript</csymbol><sum id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.2"></sum><apply id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3"><in id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.1"></in><ci id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.2">𝑖</ci><apply id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3.2">𝑆</ci><ci id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.2.3.3.3">𝑡</ci></apply></apply></apply><apply id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1"><times id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.2"></times><apply id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1"><abs id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.2.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.2"></abs><apply id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1">superscript</csymbol><ci id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1.2">𝐷</ci><ci id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3.2">𝜏</ci><ci id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><ci id="A5.SS0.SSS0.Px3.p1.1.m1.1.1.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.1.1.3">𝑛</ci></apply><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3"><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1">subscript</csymbol><sum id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.2"></sum><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3"><in id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.1"></in><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.2">𝑖</ci><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3.2">𝑆</ci><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.3.3.3.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2"><divide id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2"></divide><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1"><times id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.2"></times><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1"><abs id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.2.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.2"></abs><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1">superscript</csymbol><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1.2">𝐷</ci><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.1.1.1.3">𝑖</ci></apply></apply><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.3">Δ</ci><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4">superscript</csymbol><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.2.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4">subscript</csymbol><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.2.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.2.2">𝑤</ci><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.2.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.2.3">𝑘</ci></apply><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.1.4.3">𝑡</ci></apply></apply><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3"><times id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.1"></times><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.2">𝑛</ci><apply id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3.1.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3.2.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3.2">𝜏</ci><ci id="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3.3.cmml" xref="A5.SS0.SSS0.Px3.p1.1.m1.2.2.3.3.3">𝑖</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px3.p1.1.m1.2c">w^{t+1}=w^{t}-\eta\frac{\sum_{i\in S_{t}}{|D^{i}|\tau_{i}}}{n}\sum_{i\in S_{t}}{\frac{|D^{i}|\Delta w_{k}^{t}}{n\tau_{i}}}</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>.</p>
</div>
</section>
<section id="A5.SS0.SSS0.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Scaffold <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>
</h5>

<div id="A5.SS0.SSS0.Px4.p1" class="ltx_para">
<p id="A5.SS0.SSS0.Px4.p1.4" class="ltx_p">Scaffold introduces variance reduction techniques to correct the ‘clients drift’ caused by gradient dissimilarity. Specifically, the variance on the server side is represented as <math id="A5.SS0.SSS0.Px4.p1.1.m1.1" class="ltx_Math" alttext="v" display="inline"><semantics id="A5.SS0.SSS0.Px4.p1.1.m1.1a"><mi id="A5.SS0.SSS0.Px4.p1.1.m1.1.1" xref="A5.SS0.SSS0.Px4.p1.1.m1.1.1.cmml">v</mi><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px4.p1.1.m1.1b"><ci id="A5.SS0.SSS0.Px4.p1.1.m1.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.1.m1.1.1">𝑣</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px4.p1.1.m1.1c">v</annotation></semantics></math>, and on the clients’ side is represented as <math id="A5.SS0.SSS0.Px4.p1.2.m2.1" class="ltx_Math" alttext="v_{i}" display="inline"><semantics id="A5.SS0.SSS0.Px4.p1.2.m2.1a"><msub id="A5.SS0.SSS0.Px4.p1.2.m2.1.1" xref="A5.SS0.SSS0.Px4.p1.2.m2.1.1.cmml"><mi id="A5.SS0.SSS0.Px4.p1.2.m2.1.1.2" xref="A5.SS0.SSS0.Px4.p1.2.m2.1.1.2.cmml">v</mi><mi id="A5.SS0.SSS0.Px4.p1.2.m2.1.1.3" xref="A5.SS0.SSS0.Px4.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px4.p1.2.m2.1b"><apply id="A5.SS0.SSS0.Px4.p1.2.m2.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px4.p1.2.m2.1.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.2.m2.1.1">subscript</csymbol><ci id="A5.SS0.SSS0.Px4.p1.2.m2.1.1.2.cmml" xref="A5.SS0.SSS0.Px4.p1.2.m2.1.1.2">𝑣</ci><ci id="A5.SS0.SSS0.Px4.p1.2.m2.1.1.3.cmml" xref="A5.SS0.SSS0.Px4.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px4.p1.2.m2.1c">v_{i}</annotation></semantics></math>. The local control variant is then added as <math id="A5.SS0.SSS0.Px4.p1.3.m3.1" class="ltx_Math" alttext="v_{i}-v+\frac{1}{\tau_{i}\eta}(w^{t}-w_{i}^{t})" display="inline"><semantics id="A5.SS0.SSS0.Px4.p1.3.m3.1a"><mrow id="A5.SS0.SSS0.Px4.p1.3.m3.1.1" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.cmml"><mrow id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.cmml"><msub id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2.cmml"><mi id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2.2" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2.2.cmml">v</mi><mi id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2.3.cmml">i</mi></msub><mo id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.1" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.1.cmml">−</mo><mi id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.3.cmml">v</mi></mrow><mo id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.2" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.2.cmml">+</mo><mrow id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.cmml"><mfrac id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.cmml"><mn id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.2" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.2.cmml">1</mn><mrow id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.cmml"><msub id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2.cmml"><mi id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2.2" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2.2.cmml">τ</mi><mi id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.1" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.1.cmml">​</mo><mi id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.3.cmml">η</mi></mrow></mfrac><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.2" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.2.cmml">​</mo><mrow id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.cmml">(</mo><mrow id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.cmml"><msup id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2.cmml"><mi id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2.2" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2.2.cmml">w</mi><mi id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2.3.cmml">t</mi></msup><mo id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.1.cmml">−</mo><msubsup id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.cmml"><mi id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.2.2" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.2.2.cmml">w</mi><mi id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.2.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.2.3.cmml">i</mi><mi id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.3.cmml">t</mi></msubsup></mrow><mo stretchy="false" id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px4.p1.3.m3.1b"><apply id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1"><plus id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.2.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.2"></plus><apply id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3"><minus id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.1"></minus><apply id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2">subscript</csymbol><ci id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2.2.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2.2">𝑣</ci><ci id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2.3.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.2.3">𝑖</ci></apply><ci id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.3.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.3.3">𝑣</ci></apply><apply id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1"><times id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.2"></times><apply id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3"><divide id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3"></divide><cn type="integer" id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.2.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.2">1</cn><apply id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3"><times id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.1"></times><apply id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2">subscript</csymbol><ci id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2.2.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2.2">𝜏</ci><ci id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2.3.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.2.3">𝑖</ci></apply><ci id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.3.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.3.3">𝜂</ci></apply></apply><apply id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1"><minus id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.1"></minus><apply id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2">superscript</csymbol><ci id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2.2.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2.2">𝑤</ci><ci id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2.3.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3">superscript</csymbol><apply id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.2.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.2.1.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.2.2.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.2.2">𝑤</ci><ci id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.2.3.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.2.3">𝑖</ci></apply><ci id="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.3.cmml" xref="A5.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px4.p1.3.m3.1c">v_{i}-v+\frac{1}{\tau_{i}\eta}(w^{t}-w_{i}^{t})</annotation></semantics></math>. At the same time, the Scaffold adds the drift on the client side as <math id="A5.SS0.SSS0.Px4.p1.4.m4.2" class="ltx_Math" alttext="w^{t}=w^{t}-\eta(\Delta(w_{t};b)-v_{i}^{t}+v)" display="inline"><semantics id="A5.SS0.SSS0.Px4.p1.4.m4.2a"><mrow id="A5.SS0.SSS0.Px4.p1.4.m4.2.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.cmml"><msup id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3.cmml"><mi id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3.2.cmml">w</mi><mi id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3.3.cmml">t</mi></msup><mo id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.2.cmml">=</mo><mrow id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.cmml"><msup id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3.cmml"><mi id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3.2.cmml">w</mi><mi id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3.3.cmml">t</mi></msup><mo id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.2.cmml">−</mo><mrow id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.cmml"><mi id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.3.cmml">η</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.2.cmml">​</mo><mrow id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.cmml">(</mo><mrow id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.cmml"><mrow id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.cmml"><mrow id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.cmml"><mi mathvariant="normal" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.2.cmml">(</mo><msub id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml">w</mi><mi id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.2.cmml">;</mo><mi id="A5.SS0.SSS0.Px4.p1.4.m4.1.1" xref="A5.SS0.SSS0.Px4.p1.4.m4.1.1.cmml">b</mi><mo stretchy="false" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.4" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.2.cmml">−</mo><msubsup id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.cmml"><mi id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.2.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.2.2.cmml">v</mi><mi id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.2.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.2.3.cmml">i</mi><mi id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.3.cmml">t</mi></msubsup></mrow><mo id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.2.cmml">+</mo><mi id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.3.cmml">v</mi></mrow><mo stretchy="false" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.3" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px4.p1.4.m4.2b"><apply id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2"><eq id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.2"></eq><apply id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3">superscript</csymbol><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3.2">𝑤</ci><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3.3.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.3.3">𝑡</ci></apply><apply id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1"><minus id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.2"></minus><apply id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3">superscript</csymbol><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3.2">𝑤</ci><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3.3.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.3.3">𝑡</ci></apply><apply id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1"><times id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.2"></times><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.3.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.3">𝜂</ci><apply id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1"><plus id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.2"></plus><apply id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1"><minus id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.2"></minus><apply id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1"><times id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.2"></times><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.3">Δ</ci><list id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1"><apply id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.2">𝑤</ci><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="A5.SS0.SSS0.Px4.p1.4.m4.1.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.1.1">𝑏</ci></list></apply><apply id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3">superscript</csymbol><apply id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.2.1.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.2.2.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.2.2">𝑣</ci><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.2.3.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.2.3">𝑖</ci></apply><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.3.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply><ci id="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px4.p1.4.m4.2.2.1.1.1.1.1.3">𝑣</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px4.p1.4.m4.2c">w^{t}=w^{t}-\eta(\Delta(w_{t};b)-v_{i}^{t}+v)</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>.</p>
</div>
</section>
<section id="A5.SS0.SSS0.Px5" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Virtual Homogeneous Learning (VHL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>
</h5>

<div id="A5.SS0.SSS0.Px5.p1" class="ltx_para">
<p id="A5.SS0.SSS0.Px5.p1.1" class="ltx_p">VHL proposes to calibrate local feature learning by adding a regularization term with global anchor for local training objectives <math id="A5.SS0.SSS0.Px5.p1.1.m1.14" class="ltx_Math" alttext="\mathbb{E}_{(x,y)\sim P_{k}}l(\rho\circ\psi(x),y)+\mathbb{E}_{(x,y)\sim P_{v}}l(\rho\circ\psi(x),y)+\lambda\mathbb{E}_{y}d(P_{k}(\psi(x)|y),P_{c}(\psi(x)|y))" display="inline"><semantics id="A5.SS0.SSS0.Px5.p1.1.m1.14a"><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.14.14" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.cmml"><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.cmml"><msub id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.3.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.3.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.3.2.cmml">𝔼</mi><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.cmml"><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.4.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.4.1.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.4.2.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.4.1.cmml">(</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.1.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.1.1.1.1.cmml">x</mi><mo id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.4.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.4.1.cmml">,</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.2.cmml">y</mi><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.4.2.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.4.1.cmml">)</mo></mrow><mo id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.3.cmml">∼</mo><msub id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5.2.cmml">P</mi><mi id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5.3.cmml">k</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.2.cmml">​</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.4" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.2a" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.2.cmml">​</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.2.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.2.cmml">(</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.cmml"><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.2.cmml">ρ</mi><mo lspace="0.222em" rspace="0.222em" id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.1.cmml">∘</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.3.cmml">ψ</mi></mrow><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.1.cmml">​</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.3.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.3.2.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.cmml">(</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.5.5" xref="A5.SS0.SSS0.Px5.p1.1.m1.5.5.cmml">x</mi><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.3.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.2.cmml">,</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.6.6" xref="A5.SS0.SSS0.Px5.p1.1.m1.6.6.cmml">y</mi><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.4" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.2.cmml">)</mo></mrow></mrow><mo id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.5" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.5.cmml">+</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.cmml"><msub id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.3.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.3.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.3.2.cmml">𝔼</mi><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.cmml"><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.4.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.4.1.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.4.2.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.4.1.cmml">(</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.3.3.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.3.3.1.1.cmml">x</mi><mo id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.4.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.4.1.cmml">,</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.2.cmml">y</mi><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.4.2.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.4.1.cmml">)</mo></mrow><mo id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.3.cmml">∼</mo><msub id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5.2.cmml">P</mi><mi id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5.3.cmml">v</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.2.cmml">​</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.4" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.2a" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.2.cmml">​</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.2.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.2.cmml">(</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.cmml"><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.2.cmml">ρ</mi><mo lspace="0.222em" rspace="0.222em" id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.1.cmml">∘</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.3.cmml">ψ</mi></mrow><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.1.cmml">​</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.3.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.3.2.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.cmml">(</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.7.7" xref="A5.SS0.SSS0.Px5.p1.1.m1.7.7.cmml">x</mi><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.3.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.2.cmml">,</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.8.8" xref="A5.SS0.SSS0.Px5.p1.1.m1.8.8.cmml">y</mi><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.4" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.2.cmml">)</mo></mrow></mrow><mo id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.5a" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.5.cmml">+</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.4" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.4.cmml">λ</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.3.cmml">​</mo><msub id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5.2.cmml">𝔼</mi><mi id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5.3.cmml">y</mi></msub><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.3a" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.3.cmml">​</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.6" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.6.cmml">d</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.3b" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.3.cmml">​</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.3.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.3.cmml">(</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.cmml"><msub id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3.2.cmml">P</mi><mi id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.2.cmml">​</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.cmml">(</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.cmml"><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.2.cmml">ψ</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.1.cmml">​</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.3.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.3.2.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.cmml">(</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.9.9" xref="A5.SS0.SSS0.Px5.p1.1.m1.9.9.cmml">x</mi><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.3.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo fence="false" id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.1.cmml">|</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.3.cmml">y</mi></mrow><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.4" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.3.cmml">,</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.cmml"><msub id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3.2.cmml">P</mi><mi id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3.3.cmml">c</mi></msub><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.2.cmml">​</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.cmml">(</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.cmml"><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.cmml"><mi id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.2.cmml">ψ</mi><mo lspace="0em" rspace="0em" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.1.cmml">​</mo><mrow id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.3.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.cmml"><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.3.2.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.cmml">(</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.10.10" xref="A5.SS0.SSS0.Px5.p1.1.m1.10.10.cmml">x</mi><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.3.2.2" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.cmml">)</mo></mrow></mrow><mo fence="false" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.1" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.1.cmml">|</mo><mi id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.3.cmml">y</mi></mrow><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.3" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.5" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A5.SS0.SSS0.Px5.p1.1.m1.14b"><apply id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14"><plus id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.5.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.5"></plus><apply id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1"><times id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.2"></times><apply id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.3.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.3.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.3.2">𝔼</ci><apply id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2"><csymbol cd="latexml" id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.3">similar-to</csymbol><interval closure="open" id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.4.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.4.2"><ci id="A5.SS0.SSS0.Px5.p1.1.m1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.1.1.1.1">𝑥</ci><ci id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.2">𝑦</ci></interval><apply id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5">subscript</csymbol><ci id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5.2">𝑃</ci><ci id="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.2.2.2.5.3">𝑘</ci></apply></apply></apply><ci id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.4.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.4">𝑙</ci><interval closure="open" id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1"><apply id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1"><times id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.1"></times><apply id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2"><compose id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.1"></compose><ci id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.2">𝜌</ci><ci id="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.11.11.1.1.1.1.2.3">𝜓</ci></apply><ci id="A5.SS0.SSS0.Px5.p1.1.m1.5.5.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.5.5">𝑥</ci></apply><ci id="A5.SS0.SSS0.Px5.p1.1.m1.6.6.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.6.6">𝑦</ci></interval></apply><apply id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2"><times id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.2"></times><apply id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.3.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.3.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.3.2">𝔼</ci><apply id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2"><csymbol cd="latexml" id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.3">similar-to</csymbol><interval closure="open" id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.4.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.4.2"><ci id="A5.SS0.SSS0.Px5.p1.1.m1.3.3.1.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.3.3.1.1">𝑥</ci><ci id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.2">𝑦</ci></interval><apply id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5">subscript</csymbol><ci id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5.2">𝑃</ci><ci id="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.4.4.2.5.3">𝑣</ci></apply></apply></apply><ci id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.4.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.4">𝑙</ci><interval closure="open" id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1"><apply id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1"><times id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.1"></times><apply id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2"><compose id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.1"></compose><ci id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.2">𝜌</ci><ci id="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.12.12.2.1.1.1.2.3">𝜓</ci></apply><ci id="A5.SS0.SSS0.Px5.p1.1.m1.7.7.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.7.7">𝑥</ci></apply><ci id="A5.SS0.SSS0.Px5.p1.1.m1.8.8.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.8.8">𝑦</ci></interval></apply><apply id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4"><times id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.3"></times><ci id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.4.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.4">𝜆</ci><apply id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5">subscript</csymbol><ci id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5.2">𝔼</ci><ci id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.5.3">𝑦</ci></apply><ci id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.6.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.6">𝑑</ci><interval closure="open" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2"><apply id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1"><times id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.2"></times><apply id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3.2">𝑃</ci><ci id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.3.3">𝑘</ci></apply><apply id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1"><csymbol cd="latexml" id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.1">conditional</csymbol><apply id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2"><times id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.1"></times><ci id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.2.2">𝜓</ci><ci id="A5.SS0.SSS0.Px5.p1.1.m1.9.9.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.9.9">𝑥</ci></apply><ci id="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.13.13.3.1.1.1.1.1.1.3">𝑦</ci></apply></apply><apply id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2"><times id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.2"></times><apply id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3"><csymbol cd="ambiguous" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3">subscript</csymbol><ci id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3.2">𝑃</ci><ci id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.3.3">𝑐</ci></apply><apply id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1"><csymbol cd="latexml" id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.1">conditional</csymbol><apply id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2"><times id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.1.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.1"></times><ci id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.2.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.2.2">𝜓</ci><ci id="A5.SS0.SSS0.Px5.p1.1.m1.10.10.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.10.10">𝑥</ci></apply><ci id="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.3.cmml" xref="A5.SS0.SSS0.Px5.p1.1.m1.14.14.4.2.2.2.1.1.1.3">𝑦</ci></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS0.SSS0.Px5.p1.1.m1.14c">\mathbb{E}_{(x,y)\sim P_{k}}l(\rho\circ\psi(x),y)+\mathbb{E}_{(x,y)\sim P_{v}}l(\rho\circ\psi(x),y)+\lambda\mathbb{E}_{y}d(P_{k}(\psi(x)|y),P_{c}(\psi(x)|y))</annotation></semantics></math>. They theoretically and empirically show that adding the term can improve the FL performance. In the implementation, they use untrained StyleGAN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> to generate global anchor data and leave it unchanged during training.</p>
</div>
<div id="A5.SS0.SSS0.Px5.p2" class="ltx_para">
<p id="A5.SS0.SSS0.Px5.p2.1" class="ltx_p">A comprehensive experimental study of FL can be found here <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. Also, a survey of heterogeneous FL is here <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref">48</a>]</cite>.</p>
</div>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2303.02276" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2303.02278" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2303.02278">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2303.02278" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2303.02279" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Feb 29 22:51:42 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
