<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2110.10223] A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003).</title><meta property="og:description" content="Pervasive computing promotes the installation of connected devices in our living spaces in order to provide services. Two major developments have gained significant momentum recently: an advanced use of edge resources …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003).">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003).">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2110.10223">

<!--Generated on Wed Mar  6 20:30:01 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="
Federated Learning,  algorithm,  evaluation,  Human Activity Recognition.
">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison
<span id="id1.id1" class="ltx_note ltx_role_thanks"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">thanks: </span>This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003).</span></span></span>
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Sannara EK
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Univ. Grenoble Alpes,
<br class="ltx_break">CNRS, Grenoble INP
<br class="ltx_break">LIG F-38000,
<br class="ltx_break">Grenoble, France 
<br class="ltx_break">sannara.ek@gmail.com
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">François PORTET
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Univ. Grenoble Alpes,
<br class="ltx_break">CNRS, Grenoble INP
<br class="ltx_break">LIG F-38000,
<br class="ltx_break">Grenoble, France 
<br class="ltx_break">francois.portet@imag.fr
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Philippe LALANDA
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Univ. Grenoble Alpes,
<br class="ltx_break">CNRS, Grenoble INP
<br class="ltx_break">LIG F-38000,
<br class="ltx_break">Grenoble, France 
<br class="ltx_break">philippe.lalanda@imag.fr
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">German VEGA
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Univ. Grenoble Alpes,
<br class="ltx_break">CNRS, Grenoble INP
<br class="ltx_break">LIG F-38000,
<br class="ltx_break">Grenoble, France 
<br class="ltx_break">german.vega@imag.fr
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id2.id1" class="ltx_p">Pervasive computing promotes the installation of connected devices in our living spaces in order to provide services. Two major developments have gained significant momentum recently: an advanced use of edge resources and the integration of machine learning techniques for engineering applications. This evolution raises major challenges, in particular related to the appropriate distribution of computing elements along an edge-to-cloud continuum. About this, Federated Learning has been recently proposed for distributed model training in the edge. The principle of this approach is to aggregate models learned on distributed clients in order to obtain a new, more general model. The resulting model is then redistributed to clients for further training.
To date, the most popular federated learning algorithm uses coordinate-wise averaging of the model parameters for aggregation. However, it has been shown that this method is not adapted in heterogeneous environments where data is not identically and independently distributed (non-iid). This corresponds directly to some pervasive computing scenarios where heterogeneity of devices and users challenges machine learning with the double objective of generalization and personalization.
In this paper, we propose a novel aggregation algorithm, termed FedDist, which is able to modify its model architecture (here, deep neural network) by identifying dissimilarities between specific neurons amongst the clients. This permits to account for clients’ specificity without impairing generalization. Furthermore, we define a complete method to evaluate federated learning in a realistic way taking generalization and personalization into account.</p>
<p id="id3.id2" class="ltx_p">Using this method, FedDist is extensively tested and compared with three state-of-the-art federated learning algorithms on the pervasive domain of Human Activity Recognition with smartphones.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
Federated Learning, algorithm, evaluation, Human Activity Recognition.

</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Pervasive computing promotes the integration of smart devices in our living spaces to develop services <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. These devices, including sensors, actuators, and computing capabilities, enable the development of various services providing assistance to people, automating the management of infrastructures, or driving industrial processes through data analytics, etc. Many such services are already in place and take on considerable importance in numerous fields and organizations. We are now seeing the emergence of smarter services based on Machine Learning (ML) techniques. For example, such services are already being used to predict parts’ wear rate in smart factories or vehicles <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">The goal of machine learning (ML) is to train an algorithm to automatically make a decision, like a prediction or a classification, by identifying patterns that may be hidden within massive data sets whose exact nature is unknown and therefore cannot be programmed explicitly. Such systems have been tremendously successful in fields like computer vision, natural language processing, or decision making. It is then not surprising that today, there is an increasing demand to apply ML techniques in pervasive domains where traditional solutions cannot be used because of the lack of modeling tools and excessive algorithmic complexity.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Bringing such services into production nevertheless raises several problems. Current implementations are actually based on distributed architectures where models are computed in the cloud, based on data collected by physical devices. These relatively generic models are then deployed and executed on these same devices. This approach is, however, not well adapted to pervasive computing. It undergoes major limitations in terms of security (data collected in physical environments has to be sent up to the cloud), performance (communication latency is not controlled), and even costs (communications can be intensive and expensive). One interesting solution is to make more advanced use of edge resources like gateways or smartphones <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. The notion of the edge was mentioned in 2009 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> and generalized by Cisco Systems in 2014 as a new operational model. The main idea is to place computing and storage functions as close as possible to data sources.
Regarding machine learning, it comes down to offloading some learning tasks in edge resources. In doing so, data to be transferred can be reduced, and reactivity can be improved. Also, privacy can be better preserved since the nature of the exchanged information is modified. However, the lack of computing resources on edge devices and the limited amount of available data (according to learning standards) must be addressed.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Google recently proposed federated learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>, a new machine learning paradigm enhancing the use of edge devices. Federated learning encourages the computation of local models on edge devices and sending them to a cloud server where they are aggregated into a more generic one. The new model is redistributed to devices as a bootstrap model for the next local learning iteration. Federated learning reduces communication costs and improves security because only models are exchanged between the edge and cloud <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>. It has immediately attracted attention as a promising paradigm that can meet the challenges of ML-based pervasive applications. Nevertheless, it has been essentially used in traditional learning fields like computer vision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> and still needs to be adapted to the specificity of the pervasive domain. In that domain, models are more likely to diverge because of data and clients heterogeneity, and because of different data volumes generated by clients. Also, clients evolve at different paces and are connected intermittently, which involves synchronization issues.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">In this paper, we propose a new aggregation algorithm, called FedDist, that has been designed to meet the specific needs of pervasive applications. We also present an extensive set of experiments, based on a well-defined evaluation method, that has been conducted to assess FedDist, as well as three other representative algorithms. Experiments were carried out in the illustrative field of Human Activity Recognition (HAR) on smartphones. This domain aims to automatically identify human physical activities, like running or walking, using sensors embedded in smartphones. HAR is well suited to our FL experiments because activities tend to have generic patterns (an activity involves the same sequence of movements for anybody) while being highly idiosyncratic (data depends on people, devices, the way devices are carried, the environment, etc.) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>.
Furthermore, the collected data is private and should not be sent over the network. HAR has long been addressed as a classification problem where the common approach is to process windows of data streams to extract a vector of features that, in turn, is used to feed a classifier. Many instance-based classifiers such as Bayesian Network, Random Forest, or Support Vector Machines have been used with reasonable success <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. Today, however, the most popular and effective technology is undoubtedly deep neural networks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">The paper is organized as follows. First, some background about federated learning is provided. In particular, the most representative aggregation algorithms are presented. Then, our proposed algorithm, FedDist, is detailed in Section <a href="#S3" title="III FedDist, a new federated learning algorithm ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a>. Then, Section <a href="#S4" title="IV Evaluation Method ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a> details the evaluation method that has been defined to evaluate and compare the different aggregation algorithms. Section <a href="#S5" title="V Experiment and Results ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">V</span></a> presents the experiments and the associated results. Finally, the paper ends with a conclusion based on our main findings and presents open perspectives and future work in Section <a href="#S6" title="VI Conclusion and further work ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">VI</span></a>.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Background</span>
</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS1.4.1.1" class="ltx_text">II-A</span> </span><span id="S2.SS1.5.2" class="ltx_text ltx_font_italic">Federated Learning principles</span>
</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">As introduced before, federated learning promotes the computation of local models on edge devices and the aggregation of these models on a server to produce a new, more generic model that is sent back to all the clients. Clients start learning again from this new model and, after a while, send it to the server to do a new aggregation. This specialization/generalization cycle is repeated until a satisfactory model is obtained. A specialization/generalization cycle is usually called a communication round. After that first model convergence, more rounds may be necessary if new customers arrive or if new data is acquired. This approach is illustrated hereafter by Figure <a href="#S2.F1" title="Figure 1 ‣ II-A Federated Learning principles ‣ II Background ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure id="S2.F1" class="ltx_figure"><img src="/html/2110.10223/assets/fig/fed.png" id="S2.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="344" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Federated learning architecture and principles.</figcaption>
</figure>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">A key point in federated learning is the way specialized models are aggregated at the server. In the case of deep learning, two families of algorithms implementing different strategies can be considered. The first strategy is to emphasize generalization. The aggregation algorithm considers local models in their entirety (all layers and neurons) and builds a new model
that potentially calls into question all layers and all the weights associated with neurons. This approach is exemplified by the FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> and FedMA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> algorithms, which will be detailed next. Let us also mention the FedProx algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> that penalizes clients that diverge too much from the others avoid outliers. The second strategy, in contrast, focuses more on client specialization. Thus, the algorithm does not question certain parts of the local models. Specifically, only the local models’ base layers are sent to the server for generalization, while the last layers are kept unchanged. This approach is exemplified by the FedPer algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, which is presented subsequently.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS2.4.1.1" class="ltx_text">II-B</span> </span><span id="S2.SS2.5.2" class="ltx_text ltx_font_italic">Federated Averaging (FedAvg)</span>
</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">The FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> starts with random initialization of a neural model on a device or, more frequently, on a central server in charge of coordinating and managing model transfers with client devices. Initialization is a major step since it defines the neural model’s structure in terms of layers and neurons. The resulting model is sent to clients to start local training from it. When on-device training is finished, the weights of the local models are sent to the server. Here, aggregation is done in a weighted averaging manner where clients with more data influence more significantly the newly aggregated model. The obtained model is sent back to all the clients, and another communication round can start.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">FedAvg, however, has a naive form of aggregation due to its coordinate wise averaging that may lead to sub-optimal solutions. For instance, with non-Independent and Identically Distributed (non-IID) data, neurons in the same coordinate may be opted for entirely different purposes due to clients’ specialization. Thus, averaging neurons that are drastically different causes decremental results. Also, the training has to go through long learning phases at each round to recover some specialization.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS3.4.1.1" class="ltx_text">II-C</span> </span><span id="S2.SS3.5.2" class="ltx_text ltx_font_italic">Federated Learning with Personalization Layers (FedPer)</span>
</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">The FedPer algorithm is similar to the FedAvg in the way it computes new weights in the aggregated models. However, it differs strongly on the parts of the model that are considered during aggregation. Precisely, clients only communicate the neural model’s base layers to the server and retain the other layers. The underlying idea is that the base layers deal with representation learning and can be advantageously shared by clients through aggregation. The upper layers are more concerned with decision making, which is more specific to each client. In doing so, FedPer helps clients better handle various inputs (in the base layers) while being able to specialize in their particular data (in the upper layers). However, let us note that the aggregated model, on the server-side, is only partial and is not usable for decision-making due to the missing layers. The global approach is illustrated in figure 2.</p>
</div>
<figure id="S2.F2" class="ltx_figure"><img src="/html/2110.10223/assets/fig/FedPer3.png" id="S2.F2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="168" height="144" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>FedPer illustration.</figcaption>
</figure>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p">FedPer can be seen as an adaption of the Transfer Learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> methodology into a federated learning scheme. Studies <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> have shown that it can surpass centralized learning and FedAvg approach in the HAR field (with well-distributed datasets).</p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS4.4.1.1" class="ltx_text">II-D</span> </span><span id="S2.SS4.5.2" class="ltx_text ltx_font_italic">Federated Matched Averaging (FedMA)</span>
</h3>

<div id="S2.SS4.p1" class="ltx_para">
<p id="S2.SS4.p1.1" class="ltx_p">The FedMA algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> is a recent algorithm that performs a more subtle model aggregation. Specifically, FedMA modifies the neural model architecture by incorporating a layer-wise aggregation process where similar neurons can be fused, and new ones can be added. This approach treats the number of nodes in a layer as a sub-problem to solve rather than a hyper-parameter to be set as an extension of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> to convolutional neural networks and recurrent neural networks. FedMA considers that neurons in a neural network layer are permutation invariant to perform a more intelligent aggregation. The algorithm’s central intuition is that all clients can contain neurons that are similar and should be merged together. These neurons can be clustered in a non-parametric way where all neurons in the same cluster are averaged to produce a global neuron. To find which neurons can be fused, the algorithm uses a 2D permutation matrix that is computed iteratively from increasing rank layers. This matrix is calculated thanks to the Beta-Bernoulli Process - Maximum a Posteriori (BBP-MAP) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>. The Hungarian algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> is then used on the resulting matrix to select which local neurons can be fused and decide on which other neurons to be added. Modified layers are incrementally distributed back to clients. Note that the soft-max layer uses weighted averaging, just like FedAvg.</p>
</div>
<figure id="S2.F3" class="ltx_figure"><img src="/html/2110.10223/assets/fig/FedMANEW.png" id="S2.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="220" height="140" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>FedMA illustration (similar neurons in same color).</figcaption>
</figure>
<div id="S2.SS4.p2" class="ltx_para">
<p id="S2.SS4.p2.1" class="ltx_p">Experiments with deep convolutional neural networks and Long short-term memory architectures show that the FedMA algorithm outperforms FedAvg on computer vision data-sets <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. It also appears that communications are reduced at the cost of greater complexity. Calculating the permutation matrix makes the algorithm particularly slow during the aggregation stage.</p>
</div>
</section>
<section id="S2.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS5.4.1.1" class="ltx_text">II-E</span> </span><span id="S2.SS5.5.2" class="ltx_text ltx_font_italic">Synthesis</span>
</h3>

<div id="S2.SS5.p1" class="ltx_para">
<p id="S2.SS5.p1.1" class="ltx_p">Federated learning is a very promising approach but still in its infancy. A major issue today is the lack of structured, extensive tests of the different aggregation algorithms that have been proposed. So far, these algorithms are evaluated independently on traditional learning fields like computer vision, usually on relatively homogeneous data, with no outliers or little divergence at the client-side, although federated learning has been designed to tackle unevenly distributed data<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>.
Also, most studies do not include the influence of the network or consider the client’s behavior.
Further studies are needed to really understand how the server and client models evolve and how well they behave regarding generalization (can a client model work correctly on data that have not been seen beforehand?) and specialization (can a client work well with data that have the same properties as the one used for training?).</p>
</div>
<div id="S2.SS5.p2" class="ltx_para">
<p id="S2.SS5.p2.1" class="ltx_p">Federated learning has not been widely used in the context of pervasive computing. For instance, there are only a few works in the HAR domain <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>, with missing analysis regarding the performance of global and local models on generalization and specialization with different approaches. Additionally, most tests were performed on small and pre-processed datasets collected in laboratory environments. Also, existing algorithms do not consider the specific requirements of pervasive computing, where data are usually skewed, heterogeneous, and non-IID. For instance, FedAvg is bounded to a single model shape with a fixed amount of filters or neurons to tackle an ever-growing problem (since new data and clients keep coming). Finally, contrary to centralized learning, where the model is learned to increase performance on one unique dataset, in FL the objective is to increase all individual clients’ performances. To do so, FL must account for the fact that data, even though in the same domain, might evolve very differently according to the clients and would necessitate adapting the features to be induced (i.e., the representation must be learned again). In order to account for the heterogeneity of clients, a solution must be found to adapt the global model in a way that makes it respect the peculiarity of each client. The FedDist algorithm presented below is our attempt to reach this goal.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">FedDist, a new federated learning algorithm</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we present a novel neuron matching and detail a federated learning algorithm based on a euclidean distance dissimilarity measurement. This algorithm, which includes some elements of FedAvg and FedMA, is called FedDist (Federated Distance) for its emphasis on computing distances of neurons of similar coordinates when comparing clients and server models.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">FedDist recognizes, like FedMA, that some client’s models may diverge because of heterogeneous, non-IID data. This results in neurons that cannot be matched with neurons from other models (because of weights that are too far apart). A naive coordinate averaging approach, like in FedAvg, has very negative effects. Indeed, these diverging neurons are simply erased by the averaging process, while they are actually able to deal with specific situations not encountered by other clients. FedDist also recognizes that the model’s structure is relatively stable, which means that neurons with the same coordinates play a similar role. This view provides an opportunity to build on a coordinate-wise approach.</p>
</div>
<figure id="S3.F4" class="ltx_figure">
<p id="S3.F4.1" class="ltx_p ltx_align_center">‘<img src="/html/2110.10223/assets/fig/FedDist-3.png" id="S3.F4.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="437" alt="Refer to caption"></p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>FedDist unit generating process</figcaption>
</figure>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.1" class="ltx_p">FedDist identifies diverging neurons using euclidean distances. These neurons that are specific to certain clients are added to the aggregated model as new neurons. We believe that this technique is particularly suited for tackling sparse data, where specific features are only found in a small subset of clients or data points. Thus, this new neuron adding scheme can lead to larger models that are able to generalize better. As new neurons are added to a layer, a layer-wise training round is added in order to allow the neurons in the next layers to adjust to the new incoming neurons and weights. To do so, the layer with the new neuron and those below are frozen, and the subsequent layers are trained. This introduces intermediate communication rounds: a full communication round is finished when all layers have been treated, and a new aggregated model is computed. This process is summarized in Figure <a href="#S3.F4" title="Figure 4 ‣ III FedDist, a new federated learning algorithm ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. First, a global server model is computed from all clients (left part of the figure). Outliers are identified using the euclidean distance (upper-right) and added to the aggregated model (lower-right) sent back to the client.</p>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.4" class="ltx_p">The detailed algorithm is presented hereafter (Algorithm <a href="#alg1" title="Algorithm 1 ‣ III FedDist, a new federated learning algorithm ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). It starts by distributing the server model (<math id="S3.p4.1.m1.1" class="ltx_Math" alttext="w_{t}" display="inline"><semantics id="S3.p4.1.m1.1a"><msub id="S3.p4.1.m1.1.1" xref="S3.p4.1.m1.1.1.cmml"><mi id="S3.p4.1.m1.1.1.2" xref="S3.p4.1.m1.1.1.2.cmml">w</mi><mi id="S3.p4.1.m1.1.1.3" xref="S3.p4.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p4.1.m1.1b"><apply id="S3.p4.1.m1.1.1.cmml" xref="S3.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p4.1.m1.1.1.1.cmml" xref="S3.p4.1.m1.1.1">subscript</csymbol><ci id="S3.p4.1.m1.1.1.2.cmml" xref="S3.p4.1.m1.1.1.2">𝑤</ci><ci id="S3.p4.1.m1.1.1.3.cmml" xref="S3.p4.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.1.m1.1c">w_{t}</annotation></semantics></math>) to all clients (<math id="S3.p4.2.m2.1" class="ltx_Math" alttext="w_{tk}" display="inline"><semantics id="S3.p4.2.m2.1a"><msub id="S3.p4.2.m2.1.1" xref="S3.p4.2.m2.1.1.cmml"><mi id="S3.p4.2.m2.1.1.2" xref="S3.p4.2.m2.1.1.2.cmml">w</mi><mrow id="S3.p4.2.m2.1.1.3" xref="S3.p4.2.m2.1.1.3.cmml"><mi id="S3.p4.2.m2.1.1.3.2" xref="S3.p4.2.m2.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.p4.2.m2.1.1.3.1" xref="S3.p4.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.p4.2.m2.1.1.3.3" xref="S3.p4.2.m2.1.1.3.3.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p4.2.m2.1b"><apply id="S3.p4.2.m2.1.1.cmml" xref="S3.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p4.2.m2.1.1.1.cmml" xref="S3.p4.2.m2.1.1">subscript</csymbol><ci id="S3.p4.2.m2.1.1.2.cmml" xref="S3.p4.2.m2.1.1.2">𝑤</ci><apply id="S3.p4.2.m2.1.1.3.cmml" xref="S3.p4.2.m2.1.1.3"><times id="S3.p4.2.m2.1.1.3.1.cmml" xref="S3.p4.2.m2.1.1.3.1"></times><ci id="S3.p4.2.m2.1.1.3.2.cmml" xref="S3.p4.2.m2.1.1.3.2">𝑡</ci><ci id="S3.p4.2.m2.1.1.3.3.cmml" xref="S3.p4.2.m2.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.2.m2.1c">w_{tk}</annotation></semantics></math>). These clients then commit to training locally their own model, where we denote the process as the function <math id="S3.p4.3.m3.1" class="ltx_Math" alttext="ClientUpdate\_start" display="inline"><semantics id="S3.p4.3.m3.1a"><mrow id="S3.p4.3.m3.1.1" xref="S3.p4.3.m3.1.1.cmml"><mi id="S3.p4.3.m3.1.1.2" xref="S3.p4.3.m3.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.3" xref="S3.p4.3.m3.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1a" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.4" xref="S3.p4.3.m3.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1b" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.5" xref="S3.p4.3.m3.1.1.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1c" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.6" xref="S3.p4.3.m3.1.1.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1d" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.7" xref="S3.p4.3.m3.1.1.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1e" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.8" xref="S3.p4.3.m3.1.1.8.cmml">U</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1f" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.9" xref="S3.p4.3.m3.1.1.9.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1g" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.10" xref="S3.p4.3.m3.1.1.10.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1h" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.11" xref="S3.p4.3.m3.1.1.11.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1i" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.12" xref="S3.p4.3.m3.1.1.12.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1j" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.13" xref="S3.p4.3.m3.1.1.13.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1k" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S3.p4.3.m3.1.1.14" xref="S3.p4.3.m3.1.1.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1l" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.15" xref="S3.p4.3.m3.1.1.15.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1m" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.16" xref="S3.p4.3.m3.1.1.16.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1n" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.17" xref="S3.p4.3.m3.1.1.17.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1o" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.18" xref="S3.p4.3.m3.1.1.18.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.p4.3.m3.1.1.1p" xref="S3.p4.3.m3.1.1.1.cmml">​</mo><mi id="S3.p4.3.m3.1.1.19" xref="S3.p4.3.m3.1.1.19.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.3.m3.1b"><apply id="S3.p4.3.m3.1.1.cmml" xref="S3.p4.3.m3.1.1"><times id="S3.p4.3.m3.1.1.1.cmml" xref="S3.p4.3.m3.1.1.1"></times><ci id="S3.p4.3.m3.1.1.2.cmml" xref="S3.p4.3.m3.1.1.2">𝐶</ci><ci id="S3.p4.3.m3.1.1.3.cmml" xref="S3.p4.3.m3.1.1.3">𝑙</ci><ci id="S3.p4.3.m3.1.1.4.cmml" xref="S3.p4.3.m3.1.1.4">𝑖</ci><ci id="S3.p4.3.m3.1.1.5.cmml" xref="S3.p4.3.m3.1.1.5">𝑒</ci><ci id="S3.p4.3.m3.1.1.6.cmml" xref="S3.p4.3.m3.1.1.6">𝑛</ci><ci id="S3.p4.3.m3.1.1.7.cmml" xref="S3.p4.3.m3.1.1.7">𝑡</ci><ci id="S3.p4.3.m3.1.1.8.cmml" xref="S3.p4.3.m3.1.1.8">𝑈</ci><ci id="S3.p4.3.m3.1.1.9.cmml" xref="S3.p4.3.m3.1.1.9">𝑝</ci><ci id="S3.p4.3.m3.1.1.10.cmml" xref="S3.p4.3.m3.1.1.10">𝑑</ci><ci id="S3.p4.3.m3.1.1.11.cmml" xref="S3.p4.3.m3.1.1.11">𝑎</ci><ci id="S3.p4.3.m3.1.1.12.cmml" xref="S3.p4.3.m3.1.1.12">𝑡</ci><ci id="S3.p4.3.m3.1.1.13.cmml" xref="S3.p4.3.m3.1.1.13">𝑒</ci><ci id="S3.p4.3.m3.1.1.14.cmml" xref="S3.p4.3.m3.1.1.14">_</ci><ci id="S3.p4.3.m3.1.1.15.cmml" xref="S3.p4.3.m3.1.1.15">𝑠</ci><ci id="S3.p4.3.m3.1.1.16.cmml" xref="S3.p4.3.m3.1.1.16">𝑡</ci><ci id="S3.p4.3.m3.1.1.17.cmml" xref="S3.p4.3.m3.1.1.17">𝑎</ci><ci id="S3.p4.3.m3.1.1.18.cmml" xref="S3.p4.3.m3.1.1.18">𝑟</ci><ci id="S3.p4.3.m3.1.1.19.cmml" xref="S3.p4.3.m3.1.1.19">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.3.m3.1c">ClientUpdate\_start</annotation></semantics></math>, and send it to the server where a weighted averaging is performed similarly to FedAvg. A pairwise euclidean distance (see equation <a href="#S4.E3" title="In IV-D Metrics ‣ IV Evaluation Method ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> in section <a href="#S4" title="IV Evaluation Method ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a> for details) is iteratively calculated for each unit in a layer between the client models and the aggregated server model to generate a cost-distance matrix (<math id="S3.p4.4.m4.1" class="ltx_Math" alttext="\prod" display="inline"><semantics id="S3.p4.4.m4.1a"><mo id="S3.p4.4.m4.1.1" xref="S3.p4.4.m4.1.1.cmml">∏</mo><annotation-xml encoding="MathML-Content" id="S3.p4.4.m4.1b"><csymbol cd="latexml" id="S3.p4.4.m4.1.1.cmml" xref="S3.p4.4.m4.1.1">product</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.4.m4.1c">\prod</annotation></semantics></math>).</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Federated Distance (FedDist)</figcaption>
<div id="alg1.3" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>L = ModelLayerCount, T = CommunicationRound, K = ClientCount

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>initialize <span id="alg1.l2.2" class="ltx_text ltx_markedasmath ltx_font_italic">w<sub id="alg1.l2.2.1" class="ltx_sub">1</sub> on server</span>

</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span><span id="alg1.l3.2" class="ltx_text ltx_font_bold">for</span> each communication round <math id="alg1.l3.m1.3" class="ltx_Math" alttext="t=1,2,\cdots T" display="inline"><semantics id="alg1.l3.m1.3a"><mrow id="alg1.l3.m1.3.3" xref="alg1.l3.m1.3.3.cmml"><mi id="alg1.l3.m1.3.3.3" xref="alg1.l3.m1.3.3.3.cmml">t</mi><mo id="alg1.l3.m1.3.3.2" xref="alg1.l3.m1.3.3.2.cmml">=</mo><mrow id="alg1.l3.m1.3.3.1.1" xref="alg1.l3.m1.3.3.1.2.cmml"><mn id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">1</mn><mo id="alg1.l3.m1.3.3.1.1.2" xref="alg1.l3.m1.3.3.1.2.cmml">,</mo><mn id="alg1.l3.m1.2.2" xref="alg1.l3.m1.2.2.cmml">2</mn><mo id="alg1.l3.m1.3.3.1.1.3" xref="alg1.l3.m1.3.3.1.2.cmml">,</mo><mrow id="alg1.l3.m1.3.3.1.1.1" xref="alg1.l3.m1.3.3.1.1.1.cmml"><mi mathvariant="normal" id="alg1.l3.m1.3.3.1.1.1.2" xref="alg1.l3.m1.3.3.1.1.1.2.cmml">⋯</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.3.3.1.1.1.1" xref="alg1.l3.m1.3.3.1.1.1.1.cmml">​</mo><mi id="alg1.l3.m1.3.3.1.1.1.3" xref="alg1.l3.m1.3.3.1.1.1.3.cmml">T</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.3b"><apply id="alg1.l3.m1.3.3.cmml" xref="alg1.l3.m1.3.3"><eq id="alg1.l3.m1.3.3.2.cmml" xref="alg1.l3.m1.3.3.2"></eq><ci id="alg1.l3.m1.3.3.3.cmml" xref="alg1.l3.m1.3.3.3">𝑡</ci><list id="alg1.l3.m1.3.3.1.2.cmml" xref="alg1.l3.m1.3.3.1.1"><cn type="integer" id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">1</cn><cn type="integer" id="alg1.l3.m1.2.2.cmml" xref="alg1.l3.m1.2.2">2</cn><apply id="alg1.l3.m1.3.3.1.1.1.cmml" xref="alg1.l3.m1.3.3.1.1.1"><times id="alg1.l3.m1.3.3.1.1.1.1.cmml" xref="alg1.l3.m1.3.3.1.1.1.1"></times><ci id="alg1.l3.m1.3.3.1.1.1.2.cmml" xref="alg1.l3.m1.3.3.1.1.1.2">⋯</ci><ci id="alg1.l3.m1.3.3.1.1.1.3.cmml" xref="alg1.l3.m1.3.3.1.1.1.3">𝑇</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.3c">t=1,2,\cdots T</annotation></semantics></math> <span id="alg1.l3.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>     <span id="alg1.l4.2" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l4.m1.3" class="ltx_Math" alttext="k=1,2,\cdots K" display="inline"><semantics id="alg1.l4.m1.3a"><mrow id="alg1.l4.m1.3.3" xref="alg1.l4.m1.3.3.cmml"><mi id="alg1.l4.m1.3.3.3" xref="alg1.l4.m1.3.3.3.cmml">k</mi><mo id="alg1.l4.m1.3.3.2" xref="alg1.l4.m1.3.3.2.cmml">=</mo><mrow id="alg1.l4.m1.3.3.1.1" xref="alg1.l4.m1.3.3.1.2.cmml"><mn id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">1</mn><mo id="alg1.l4.m1.3.3.1.1.2" xref="alg1.l4.m1.3.3.1.2.cmml">,</mo><mn id="alg1.l4.m1.2.2" xref="alg1.l4.m1.2.2.cmml">2</mn><mo id="alg1.l4.m1.3.3.1.1.3" xref="alg1.l4.m1.3.3.1.2.cmml">,</mo><mrow id="alg1.l4.m1.3.3.1.1.1" xref="alg1.l4.m1.3.3.1.1.1.cmml"><mi mathvariant="normal" id="alg1.l4.m1.3.3.1.1.1.2" xref="alg1.l4.m1.3.3.1.1.1.2.cmml">⋯</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.3.3.1.1.1.1" xref="alg1.l4.m1.3.3.1.1.1.1.cmml">​</mo><mi id="alg1.l4.m1.3.3.1.1.1.3" xref="alg1.l4.m1.3.3.1.1.1.3.cmml">K</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.3b"><apply id="alg1.l4.m1.3.3.cmml" xref="alg1.l4.m1.3.3"><eq id="alg1.l4.m1.3.3.2.cmml" xref="alg1.l4.m1.3.3.2"></eq><ci id="alg1.l4.m1.3.3.3.cmml" xref="alg1.l4.m1.3.3.3">𝑘</ci><list id="alg1.l4.m1.3.3.1.2.cmml" xref="alg1.l4.m1.3.3.1.1"><cn type="integer" id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">1</cn><cn type="integer" id="alg1.l4.m1.2.2.cmml" xref="alg1.l4.m1.2.2">2</cn><apply id="alg1.l4.m1.3.3.1.1.1.cmml" xref="alg1.l4.m1.3.3.1.1.1"><times id="alg1.l4.m1.3.3.1.1.1.1.cmml" xref="alg1.l4.m1.3.3.1.1.1.1"></times><ci id="alg1.l4.m1.3.3.1.1.1.2.cmml" xref="alg1.l4.m1.3.3.1.1.1.2">⋯</ci><ci id="alg1.l4.m1.3.3.1.1.1.3.cmml" xref="alg1.l4.m1.3.3.1.1.1.3">𝐾</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.3c">k=1,2,\cdots K</annotation></semantics></math> <span id="alg1.l4.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>         <math id="alg1.l5.m1.1" class="ltx_Math" alttext="w_{tk}=w_{t}" display="inline"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><msub id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml"><mi id="alg1.l5.m1.1.1.2.2" xref="alg1.l5.m1.1.1.2.2.cmml">w</mi><mrow id="alg1.l5.m1.1.1.2.3" xref="alg1.l5.m1.1.1.2.3.cmml"><mi id="alg1.l5.m1.1.1.2.3.2" xref="alg1.l5.m1.1.1.2.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.1.1.2.3.1" xref="alg1.l5.m1.1.1.2.3.1.cmml">​</mo><mi id="alg1.l5.m1.1.1.2.3.3" xref="alg1.l5.m1.1.1.2.3.3.cmml">k</mi></mrow></msub><mo id="alg1.l5.m1.1.1.1" xref="alg1.l5.m1.1.1.1.cmml">=</mo><msub id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml"><mi id="alg1.l5.m1.1.1.3.2" xref="alg1.l5.m1.1.1.3.2.cmml">w</mi><mi id="alg1.l5.m1.1.1.3.3" xref="alg1.l5.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><eq id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1"></eq><apply id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l5.m1.1.1.2.1.cmml" xref="alg1.l5.m1.1.1.2">subscript</csymbol><ci id="alg1.l5.m1.1.1.2.2.cmml" xref="alg1.l5.m1.1.1.2.2">𝑤</ci><apply id="alg1.l5.m1.1.1.2.3.cmml" xref="alg1.l5.m1.1.1.2.3"><times id="alg1.l5.m1.1.1.2.3.1.cmml" xref="alg1.l5.m1.1.1.2.3.1"></times><ci id="alg1.l5.m1.1.1.2.3.2.cmml" xref="alg1.l5.m1.1.1.2.3.2">𝑡</ci><ci id="alg1.l5.m1.1.1.2.3.3.cmml" xref="alg1.l5.m1.1.1.2.3.3">𝑘</ci></apply></apply><apply id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l5.m1.1.1.3.1.cmml" xref="alg1.l5.m1.1.1.3">subscript</csymbol><ci id="alg1.l5.m1.1.1.3.2.cmml" xref="alg1.l5.m1.1.1.3.2">𝑤</ci><ci id="alg1.l5.m1.1.1.3.3.cmml" xref="alg1.l5.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">w_{tk}=w_{t}</annotation></semantics></math>

</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>         <math id="alg1.l6.m1.1" class="ltx_Math" alttext="w_{tk}\leftarrow" display="inline"><semantics id="alg1.l6.m1.1a"><mrow id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><msub id="alg1.l6.m1.1.1.2" xref="alg1.l6.m1.1.1.2.cmml"><mi id="alg1.l6.m1.1.1.2.2" xref="alg1.l6.m1.1.1.2.2.cmml">w</mi><mrow id="alg1.l6.m1.1.1.2.3" xref="alg1.l6.m1.1.1.2.3.cmml"><mi id="alg1.l6.m1.1.1.2.3.2" xref="alg1.l6.m1.1.1.2.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.3.1" xref="alg1.l6.m1.1.1.2.3.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.3.3" xref="alg1.l6.m1.1.1.2.3.3.cmml">k</mi></mrow></msub><mo stretchy="false" id="alg1.l6.m1.1.1.1" xref="alg1.l6.m1.1.1.1.cmml">←</mo><mi id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><ci id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1">←</ci><apply id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.2.1.cmml" xref="alg1.l6.m1.1.1.2">subscript</csymbol><ci id="alg1.l6.m1.1.1.2.2.cmml" xref="alg1.l6.m1.1.1.2.2">𝑤</ci><apply id="alg1.l6.m1.1.1.2.3.cmml" xref="alg1.l6.m1.1.1.2.3"><times id="alg1.l6.m1.1.1.2.3.1.cmml" xref="alg1.l6.m1.1.1.2.3.1"></times><ci id="alg1.l6.m1.1.1.2.3.2.cmml" xref="alg1.l6.m1.1.1.2.3.2">𝑡</ci><ci id="alg1.l6.m1.1.1.2.3.3.cmml" xref="alg1.l6.m1.1.1.2.3.3">𝑘</ci></apply></apply><csymbol cd="latexml" id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">w_{tk}\leftarrow</annotation></semantics></math> k.ClientUpdate_start(<math id="alg1.l6.m2.1" class="ltx_Math" alttext="w_{tk}" display="inline"><semantics id="alg1.l6.m2.1a"><msub id="alg1.l6.m2.1.1" xref="alg1.l6.m2.1.1.cmml"><mi id="alg1.l6.m2.1.1.2" xref="alg1.l6.m2.1.1.2.cmml">w</mi><mrow id="alg1.l6.m2.1.1.3" xref="alg1.l6.m2.1.1.3.cmml"><mi id="alg1.l6.m2.1.1.3.2" xref="alg1.l6.m2.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m2.1.1.3.1" xref="alg1.l6.m2.1.1.3.1.cmml">​</mo><mi id="alg1.l6.m2.1.1.3.3" xref="alg1.l6.m2.1.1.3.3.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l6.m2.1b"><apply id="alg1.l6.m2.1.1.cmml" xref="alg1.l6.m2.1.1"><csymbol cd="ambiguous" id="alg1.l6.m2.1.1.1.cmml" xref="alg1.l6.m2.1.1">subscript</csymbol><ci id="alg1.l6.m2.1.1.2.cmml" xref="alg1.l6.m2.1.1.2">𝑤</ci><apply id="alg1.l6.m2.1.1.3.cmml" xref="alg1.l6.m2.1.1.3"><times id="alg1.l6.m2.1.1.3.1.cmml" xref="alg1.l6.m2.1.1.3.1"></times><ci id="alg1.l6.m2.1.1.3.2.cmml" xref="alg1.l6.m2.1.1.3.2">𝑡</ci><ci id="alg1.l6.m2.1.1.3.3.cmml" xref="alg1.l6.m2.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m2.1c">w_{tk}</annotation></semantics></math>)

</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>     <span id="alg1.l7.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l7.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>     <math id="alg1.l8.m1.1" class="ltx_Math" alttext="w_{t}\leftarrow" display="inline"><semantics id="alg1.l8.m1.1a"><mrow id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><msub id="alg1.l8.m1.1.1.2" xref="alg1.l8.m1.1.1.2.cmml"><mi id="alg1.l8.m1.1.1.2.2" xref="alg1.l8.m1.1.1.2.2.cmml">w</mi><mi id="alg1.l8.m1.1.1.2.3" xref="alg1.l8.m1.1.1.2.3.cmml">t</mi></msub><mo stretchy="false" id="alg1.l8.m1.1.1.1" xref="alg1.l8.m1.1.1.1.cmml">←</mo><mi id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><ci id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1">←</ci><apply id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.2.1.cmml" xref="alg1.l8.m1.1.1.2">subscript</csymbol><ci id="alg1.l8.m1.1.1.2.2.cmml" xref="alg1.l8.m1.1.1.2.2">𝑤</ci><ci id="alg1.l8.m1.1.1.2.3.cmml" xref="alg1.l8.m1.1.1.2.3">𝑡</ci></apply><csymbol cd="latexml" id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">w_{t}\leftarrow</annotation></semantics></math> <math id="alg1.l8.m2.1" class="ltx_Math" alttext="\sum_{k=1}^{K}" display="inline"><semantics id="alg1.l8.m2.1a"><msubsup id="alg1.l8.m2.1.1" xref="alg1.l8.m2.1.1.cmml"><mo id="alg1.l8.m2.1.1.2.2" xref="alg1.l8.m2.1.1.2.2.cmml">∑</mo><mrow id="alg1.l8.m2.1.1.2.3" xref="alg1.l8.m2.1.1.2.3.cmml"><mi id="alg1.l8.m2.1.1.2.3.2" xref="alg1.l8.m2.1.1.2.3.2.cmml">k</mi><mo id="alg1.l8.m2.1.1.2.3.1" xref="alg1.l8.m2.1.1.2.3.1.cmml">=</mo><mn id="alg1.l8.m2.1.1.2.3.3" xref="alg1.l8.m2.1.1.2.3.3.cmml">1</mn></mrow><mi id="alg1.l8.m2.1.1.3" xref="alg1.l8.m2.1.1.3.cmml">K</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l8.m2.1b"><apply id="alg1.l8.m2.1.1.cmml" xref="alg1.l8.m2.1.1"><csymbol cd="ambiguous" id="alg1.l8.m2.1.1.1.cmml" xref="alg1.l8.m2.1.1">superscript</csymbol><apply id="alg1.l8.m2.1.1.2.cmml" xref="alg1.l8.m2.1.1"><csymbol cd="ambiguous" id="alg1.l8.m2.1.1.2.1.cmml" xref="alg1.l8.m2.1.1">subscript</csymbol><sum id="alg1.l8.m2.1.1.2.2.cmml" xref="alg1.l8.m2.1.1.2.2"></sum><apply id="alg1.l8.m2.1.1.2.3.cmml" xref="alg1.l8.m2.1.1.2.3"><eq id="alg1.l8.m2.1.1.2.3.1.cmml" xref="alg1.l8.m2.1.1.2.3.1"></eq><ci id="alg1.l8.m2.1.1.2.3.2.cmml" xref="alg1.l8.m2.1.1.2.3.2">𝑘</ci><cn type="integer" id="alg1.l8.m2.1.1.2.3.3.cmml" xref="alg1.l8.m2.1.1.2.3.3">1</cn></apply></apply><ci id="alg1.l8.m2.1.1.3.cmml" xref="alg1.l8.m2.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m2.1c">\sum_{k=1}^{K}</annotation></semantics></math> <math id="alg1.l8.m3.1" class="ltx_Math" alttext="\dfrac{n_{k}}{n}" display="inline"><semantics id="alg1.l8.m3.1a"><mstyle displaystyle="true" id="alg1.l8.m3.1.1" xref="alg1.l8.m3.1.1.cmml"><mfrac id="alg1.l8.m3.1.1a" xref="alg1.l8.m3.1.1.cmml"><msub id="alg1.l8.m3.1.1.2" xref="alg1.l8.m3.1.1.2.cmml"><mi id="alg1.l8.m3.1.1.2.2" xref="alg1.l8.m3.1.1.2.2.cmml">n</mi><mi id="alg1.l8.m3.1.1.2.3" xref="alg1.l8.m3.1.1.2.3.cmml">k</mi></msub><mi id="alg1.l8.m3.1.1.3" xref="alg1.l8.m3.1.1.3.cmml">n</mi></mfrac></mstyle><annotation-xml encoding="MathML-Content" id="alg1.l8.m3.1b"><apply id="alg1.l8.m3.1.1.cmml" xref="alg1.l8.m3.1.1"><divide id="alg1.l8.m3.1.1.1.cmml" xref="alg1.l8.m3.1.1"></divide><apply id="alg1.l8.m3.1.1.2.cmml" xref="alg1.l8.m3.1.1.2"><csymbol cd="ambiguous" id="alg1.l8.m3.1.1.2.1.cmml" xref="alg1.l8.m3.1.1.2">subscript</csymbol><ci id="alg1.l8.m3.1.1.2.2.cmml" xref="alg1.l8.m3.1.1.2.2">𝑛</ci><ci id="alg1.l8.m3.1.1.2.3.cmml" xref="alg1.l8.m3.1.1.2.3">𝑘</ci></apply><ci id="alg1.l8.m3.1.1.3.cmml" xref="alg1.l8.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m3.1c">\dfrac{n_{k}}{n}</annotation></semantics></math> <math id="alg1.l8.m4.1" class="ltx_Math" alttext="w_{tk}" display="inline"><semantics id="alg1.l8.m4.1a"><msub id="alg1.l8.m4.1.1" xref="alg1.l8.m4.1.1.cmml"><mi id="alg1.l8.m4.1.1.2" xref="alg1.l8.m4.1.1.2.cmml">w</mi><mrow id="alg1.l8.m4.1.1.3" xref="alg1.l8.m4.1.1.3.cmml"><mi id="alg1.l8.m4.1.1.3.2" xref="alg1.l8.m4.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m4.1.1.3.1" xref="alg1.l8.m4.1.1.3.1.cmml">​</mo><mi id="alg1.l8.m4.1.1.3.3" xref="alg1.l8.m4.1.1.3.3.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l8.m4.1b"><apply id="alg1.l8.m4.1.1.cmml" xref="alg1.l8.m4.1.1"><csymbol cd="ambiguous" id="alg1.l8.m4.1.1.1.cmml" xref="alg1.l8.m4.1.1">subscript</csymbol><ci id="alg1.l8.m4.1.1.2.cmml" xref="alg1.l8.m4.1.1.2">𝑤</ci><apply id="alg1.l8.m4.1.1.3.cmml" xref="alg1.l8.m4.1.1.3"><times id="alg1.l8.m4.1.1.3.1.cmml" xref="alg1.l8.m4.1.1.3.1"></times><ci id="alg1.l8.m4.1.1.3.2.cmml" xref="alg1.l8.m4.1.1.3.2">𝑡</ci><ci id="alg1.l8.m4.1.1.3.3.cmml" xref="alg1.l8.m4.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m4.1c">w_{tk}</annotation></semantics></math>

</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>     <span id="alg1.l9.2" class="ltx_text ltx_font_bold">for</span> each layer <math id="alg1.l9.m1.3" class="ltx_Math" alttext="l=1,2,\cdots L-1" display="inline"><semantics id="alg1.l9.m1.3a"><mrow id="alg1.l9.m1.3.3" xref="alg1.l9.m1.3.3.cmml"><mi id="alg1.l9.m1.3.3.3" xref="alg1.l9.m1.3.3.3.cmml">l</mi><mo id="alg1.l9.m1.3.3.2" xref="alg1.l9.m1.3.3.2.cmml">=</mo><mrow id="alg1.l9.m1.3.3.1.1" xref="alg1.l9.m1.3.3.1.2.cmml"><mn id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml">1</mn><mo id="alg1.l9.m1.3.3.1.1.2" xref="alg1.l9.m1.3.3.1.2.cmml">,</mo><mn id="alg1.l9.m1.2.2" xref="alg1.l9.m1.2.2.cmml">2</mn><mo id="alg1.l9.m1.3.3.1.1.3" xref="alg1.l9.m1.3.3.1.2.cmml">,</mo><mrow id="alg1.l9.m1.3.3.1.1.1" xref="alg1.l9.m1.3.3.1.1.1.cmml"><mrow id="alg1.l9.m1.3.3.1.1.1.2" xref="alg1.l9.m1.3.3.1.1.1.2.cmml"><mi mathvariant="normal" id="alg1.l9.m1.3.3.1.1.1.2.2" xref="alg1.l9.m1.3.3.1.1.1.2.2.cmml">⋯</mi><mo lspace="0em" rspace="0em" id="alg1.l9.m1.3.3.1.1.1.2.1" xref="alg1.l9.m1.3.3.1.1.1.2.1.cmml">​</mo><mi id="alg1.l9.m1.3.3.1.1.1.2.3" xref="alg1.l9.m1.3.3.1.1.1.2.3.cmml">L</mi></mrow><mo id="alg1.l9.m1.3.3.1.1.1.1" xref="alg1.l9.m1.3.3.1.1.1.1.cmml">−</mo><mn id="alg1.l9.m1.3.3.1.1.1.3" xref="alg1.l9.m1.3.3.1.1.1.3.cmml">1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.3b"><apply id="alg1.l9.m1.3.3.cmml" xref="alg1.l9.m1.3.3"><eq id="alg1.l9.m1.3.3.2.cmml" xref="alg1.l9.m1.3.3.2"></eq><ci id="alg1.l9.m1.3.3.3.cmml" xref="alg1.l9.m1.3.3.3">𝑙</ci><list id="alg1.l9.m1.3.3.1.2.cmml" xref="alg1.l9.m1.3.3.1.1"><cn type="integer" id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1">1</cn><cn type="integer" id="alg1.l9.m1.2.2.cmml" xref="alg1.l9.m1.2.2">2</cn><apply id="alg1.l9.m1.3.3.1.1.1.cmml" xref="alg1.l9.m1.3.3.1.1.1"><minus id="alg1.l9.m1.3.3.1.1.1.1.cmml" xref="alg1.l9.m1.3.3.1.1.1.1"></minus><apply id="alg1.l9.m1.3.3.1.1.1.2.cmml" xref="alg1.l9.m1.3.3.1.1.1.2"><times id="alg1.l9.m1.3.3.1.1.1.2.1.cmml" xref="alg1.l9.m1.3.3.1.1.1.2.1"></times><ci id="alg1.l9.m1.3.3.1.1.1.2.2.cmml" xref="alg1.l9.m1.3.3.1.1.1.2.2">⋯</ci><ci id="alg1.l9.m1.3.3.1.1.1.2.3.cmml" xref="alg1.l9.m1.3.3.1.1.1.2.3">𝐿</ci></apply><cn type="integer" id="alg1.l9.m1.3.3.1.1.1.3.cmml" xref="alg1.l9.m1.3.3.1.1.1.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.3c">l=1,2,\cdots L-1</annotation></semantics></math> <span id="alg1.l9.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>         <span id="alg1.l10.2" class="ltx_text ltx_font_bold">for</span> each client <math id="alg1.l10.m1.3" class="ltx_Math" alttext="k=1,2,\cdots K" display="inline"><semantics id="alg1.l10.m1.3a"><mrow id="alg1.l10.m1.3.3" xref="alg1.l10.m1.3.3.cmml"><mi id="alg1.l10.m1.3.3.3" xref="alg1.l10.m1.3.3.3.cmml">k</mi><mo id="alg1.l10.m1.3.3.2" xref="alg1.l10.m1.3.3.2.cmml">=</mo><mrow id="alg1.l10.m1.3.3.1.1" xref="alg1.l10.m1.3.3.1.2.cmml"><mn id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml">1</mn><mo id="alg1.l10.m1.3.3.1.1.2" xref="alg1.l10.m1.3.3.1.2.cmml">,</mo><mn id="alg1.l10.m1.2.2" xref="alg1.l10.m1.2.2.cmml">2</mn><mo id="alg1.l10.m1.3.3.1.1.3" xref="alg1.l10.m1.3.3.1.2.cmml">,</mo><mrow id="alg1.l10.m1.3.3.1.1.1" xref="alg1.l10.m1.3.3.1.1.1.cmml"><mi mathvariant="normal" id="alg1.l10.m1.3.3.1.1.1.2" xref="alg1.l10.m1.3.3.1.1.1.2.cmml">⋯</mi><mo lspace="0em" rspace="0em" id="alg1.l10.m1.3.3.1.1.1.1" xref="alg1.l10.m1.3.3.1.1.1.1.cmml">​</mo><mi id="alg1.l10.m1.3.3.1.1.1.3" xref="alg1.l10.m1.3.3.1.1.1.3.cmml">K</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.3b"><apply id="alg1.l10.m1.3.3.cmml" xref="alg1.l10.m1.3.3"><eq id="alg1.l10.m1.3.3.2.cmml" xref="alg1.l10.m1.3.3.2"></eq><ci id="alg1.l10.m1.3.3.3.cmml" xref="alg1.l10.m1.3.3.3">𝑘</ci><list id="alg1.l10.m1.3.3.1.2.cmml" xref="alg1.l10.m1.3.3.1.1"><cn type="integer" id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1">1</cn><cn type="integer" id="alg1.l10.m1.2.2.cmml" xref="alg1.l10.m1.2.2">2</cn><apply id="alg1.l10.m1.3.3.1.1.1.cmml" xref="alg1.l10.m1.3.3.1.1.1"><times id="alg1.l10.m1.3.3.1.1.1.1.cmml" xref="alg1.l10.m1.3.3.1.1.1.1"></times><ci id="alg1.l10.m1.3.3.1.1.1.2.cmml" xref="alg1.l10.m1.3.3.1.1.1.2">⋯</ci><ci id="alg1.l10.m1.3.3.1.1.1.3.cmml" xref="alg1.l10.m1.3.3.1.1.1.3">𝐾</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.3c">k=1,2,\cdots K</annotation></semantics></math> <span id="alg1.l10.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>              <math id="alg1.l11.m1.2" class="ltx_Math" alttext="\prod_{t}^{l}\Leftarrow calculatePairWiseDistance(w_{t}^{l},w_{tk}^{l})" display="inline"><semantics id="alg1.l11.m1.2a"><mrow id="alg1.l11.m1.2.2" xref="alg1.l11.m1.2.2.cmml"><msubsup id="alg1.l11.m1.2.2.4" xref="alg1.l11.m1.2.2.4.cmml"><mo id="alg1.l11.m1.2.2.4.2.2" xref="alg1.l11.m1.2.2.4.2.2.cmml">∏</mo><mi id="alg1.l11.m1.2.2.4.2.3" xref="alg1.l11.m1.2.2.4.2.3.cmml">t</mi><mi id="alg1.l11.m1.2.2.4.3" xref="alg1.l11.m1.2.2.4.3.cmml">l</mi></msubsup><mo lspace="0.278em" stretchy="false" id="alg1.l11.m1.2.2.3" xref="alg1.l11.m1.2.2.3.cmml">⇐</mo><mrow id="alg1.l11.m1.2.2.2" xref="alg1.l11.m1.2.2.2.cmml"><mi id="alg1.l11.m1.2.2.2.4" xref="alg1.l11.m1.2.2.2.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.5" xref="alg1.l11.m1.2.2.2.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3a" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.6" xref="alg1.l11.m1.2.2.2.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3b" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.7" xref="alg1.l11.m1.2.2.2.7.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3c" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.8" xref="alg1.l11.m1.2.2.2.8.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3d" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.9" xref="alg1.l11.m1.2.2.2.9.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3e" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.10" xref="alg1.l11.m1.2.2.2.10.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3f" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.11" xref="alg1.l11.m1.2.2.2.11.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3g" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.12" xref="alg1.l11.m1.2.2.2.12.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3h" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.13" xref="alg1.l11.m1.2.2.2.13.cmml">P</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3i" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.14" xref="alg1.l11.m1.2.2.2.14.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3j" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.15" xref="alg1.l11.m1.2.2.2.15.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3k" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.16" xref="alg1.l11.m1.2.2.2.16.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3l" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.17" xref="alg1.l11.m1.2.2.2.17.cmml">W</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3m" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.18" xref="alg1.l11.m1.2.2.2.18.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3n" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.19" xref="alg1.l11.m1.2.2.2.19.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3o" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.20" xref="alg1.l11.m1.2.2.2.20.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3p" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.21" xref="alg1.l11.m1.2.2.2.21.cmml">D</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3q" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.22" xref="alg1.l11.m1.2.2.2.22.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3r" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.23" xref="alg1.l11.m1.2.2.2.23.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3s" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.24" xref="alg1.l11.m1.2.2.2.24.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3t" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.25" xref="alg1.l11.m1.2.2.2.25.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3u" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.26" xref="alg1.l11.m1.2.2.2.26.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3v" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.27" xref="alg1.l11.m1.2.2.2.27.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3w" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.28" xref="alg1.l11.m1.2.2.2.28.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.3x" xref="alg1.l11.m1.2.2.2.3.cmml">​</mo><mrow id="alg1.l11.m1.2.2.2.2.2" xref="alg1.l11.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l11.m1.2.2.2.2.2.3" xref="alg1.l11.m1.2.2.2.2.3.cmml">(</mo><msubsup id="alg1.l11.m1.1.1.1.1.1.1" xref="alg1.l11.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l11.m1.1.1.1.1.1.1.2.2" xref="alg1.l11.m1.1.1.1.1.1.1.2.2.cmml">w</mi><mi id="alg1.l11.m1.1.1.1.1.1.1.2.3" xref="alg1.l11.m1.1.1.1.1.1.1.2.3.cmml">t</mi><mi id="alg1.l11.m1.1.1.1.1.1.1.3" xref="alg1.l11.m1.1.1.1.1.1.1.3.cmml">l</mi></msubsup><mo id="alg1.l11.m1.2.2.2.2.2.4" xref="alg1.l11.m1.2.2.2.2.3.cmml">,</mo><msubsup id="alg1.l11.m1.2.2.2.2.2.2" xref="alg1.l11.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l11.m1.2.2.2.2.2.2.2.2" xref="alg1.l11.m1.2.2.2.2.2.2.2.2.cmml">w</mi><mrow id="alg1.l11.m1.2.2.2.2.2.2.2.3" xref="alg1.l11.m1.2.2.2.2.2.2.2.3.cmml"><mi id="alg1.l11.m1.2.2.2.2.2.2.2.3.2" xref="alg1.l11.m1.2.2.2.2.2.2.2.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l11.m1.2.2.2.2.2.2.2.3.1" xref="alg1.l11.m1.2.2.2.2.2.2.2.3.1.cmml">​</mo><mi id="alg1.l11.m1.2.2.2.2.2.2.2.3.3" xref="alg1.l11.m1.2.2.2.2.2.2.2.3.3.cmml">k</mi></mrow><mi id="alg1.l11.m1.2.2.2.2.2.2.3" xref="alg1.l11.m1.2.2.2.2.2.2.3.cmml">l</mi></msubsup><mo stretchy="false" id="alg1.l11.m1.2.2.2.2.2.5" xref="alg1.l11.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.2b"><apply id="alg1.l11.m1.2.2.cmml" xref="alg1.l11.m1.2.2"><ci id="alg1.l11.m1.2.2.3.cmml" xref="alg1.l11.m1.2.2.3">⇐</ci><apply id="alg1.l11.m1.2.2.4.cmml" xref="alg1.l11.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l11.m1.2.2.4.1.cmml" xref="alg1.l11.m1.2.2.4">superscript</csymbol><apply id="alg1.l11.m1.2.2.4.2.cmml" xref="alg1.l11.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l11.m1.2.2.4.2.1.cmml" xref="alg1.l11.m1.2.2.4">subscript</csymbol><csymbol cd="latexml" id="alg1.l11.m1.2.2.4.2.2.cmml" xref="alg1.l11.m1.2.2.4.2.2">product</csymbol><ci id="alg1.l11.m1.2.2.4.2.3.cmml" xref="alg1.l11.m1.2.2.4.2.3">𝑡</ci></apply><ci id="alg1.l11.m1.2.2.4.3.cmml" xref="alg1.l11.m1.2.2.4.3">𝑙</ci></apply><apply id="alg1.l11.m1.2.2.2.cmml" xref="alg1.l11.m1.2.2.2"><times id="alg1.l11.m1.2.2.2.3.cmml" xref="alg1.l11.m1.2.2.2.3"></times><ci id="alg1.l11.m1.2.2.2.4.cmml" xref="alg1.l11.m1.2.2.2.4">𝑐</ci><ci id="alg1.l11.m1.2.2.2.5.cmml" xref="alg1.l11.m1.2.2.2.5">𝑎</ci><ci id="alg1.l11.m1.2.2.2.6.cmml" xref="alg1.l11.m1.2.2.2.6">𝑙</ci><ci id="alg1.l11.m1.2.2.2.7.cmml" xref="alg1.l11.m1.2.2.2.7">𝑐</ci><ci id="alg1.l11.m1.2.2.2.8.cmml" xref="alg1.l11.m1.2.2.2.8">𝑢</ci><ci id="alg1.l11.m1.2.2.2.9.cmml" xref="alg1.l11.m1.2.2.2.9">𝑙</ci><ci id="alg1.l11.m1.2.2.2.10.cmml" xref="alg1.l11.m1.2.2.2.10">𝑎</ci><ci id="alg1.l11.m1.2.2.2.11.cmml" xref="alg1.l11.m1.2.2.2.11">𝑡</ci><ci id="alg1.l11.m1.2.2.2.12.cmml" xref="alg1.l11.m1.2.2.2.12">𝑒</ci><ci id="alg1.l11.m1.2.2.2.13.cmml" xref="alg1.l11.m1.2.2.2.13">𝑃</ci><ci id="alg1.l11.m1.2.2.2.14.cmml" xref="alg1.l11.m1.2.2.2.14">𝑎</ci><ci id="alg1.l11.m1.2.2.2.15.cmml" xref="alg1.l11.m1.2.2.2.15">𝑖</ci><ci id="alg1.l11.m1.2.2.2.16.cmml" xref="alg1.l11.m1.2.2.2.16">𝑟</ci><ci id="alg1.l11.m1.2.2.2.17.cmml" xref="alg1.l11.m1.2.2.2.17">𝑊</ci><ci id="alg1.l11.m1.2.2.2.18.cmml" xref="alg1.l11.m1.2.2.2.18">𝑖</ci><ci id="alg1.l11.m1.2.2.2.19.cmml" xref="alg1.l11.m1.2.2.2.19">𝑠</ci><ci id="alg1.l11.m1.2.2.2.20.cmml" xref="alg1.l11.m1.2.2.2.20">𝑒</ci><ci id="alg1.l11.m1.2.2.2.21.cmml" xref="alg1.l11.m1.2.2.2.21">𝐷</ci><ci id="alg1.l11.m1.2.2.2.22.cmml" xref="alg1.l11.m1.2.2.2.22">𝑖</ci><ci id="alg1.l11.m1.2.2.2.23.cmml" xref="alg1.l11.m1.2.2.2.23">𝑠</ci><ci id="alg1.l11.m1.2.2.2.24.cmml" xref="alg1.l11.m1.2.2.2.24">𝑡</ci><ci id="alg1.l11.m1.2.2.2.25.cmml" xref="alg1.l11.m1.2.2.2.25">𝑎</ci><ci id="alg1.l11.m1.2.2.2.26.cmml" xref="alg1.l11.m1.2.2.2.26">𝑛</ci><ci id="alg1.l11.m1.2.2.2.27.cmml" xref="alg1.l11.m1.2.2.2.27">𝑐</ci><ci id="alg1.l11.m1.2.2.2.28.cmml" xref="alg1.l11.m1.2.2.2.28">𝑒</ci><interval closure="open" id="alg1.l11.m1.2.2.2.2.3.cmml" xref="alg1.l11.m1.2.2.2.2.2"><apply id="alg1.l11.m1.1.1.1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1.1.1.1">superscript</csymbol><apply id="alg1.l11.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l11.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l11.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l11.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l11.m1.1.1.1.1.1.1.2.2">𝑤</ci><ci id="alg1.l11.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l11.m1.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="alg1.l11.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l11.m1.1.1.1.1.1.1.3">𝑙</ci></apply><apply id="alg1.l11.m1.2.2.2.2.2.2.cmml" xref="alg1.l11.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l11.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l11.m1.2.2.2.2.2.2">superscript</csymbol><apply id="alg1.l11.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l11.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l11.m1.2.2.2.2.2.2.2.1.cmml" xref="alg1.l11.m1.2.2.2.2.2.2">subscript</csymbol><ci id="alg1.l11.m1.2.2.2.2.2.2.2.2.cmml" xref="alg1.l11.m1.2.2.2.2.2.2.2.2">𝑤</ci><apply id="alg1.l11.m1.2.2.2.2.2.2.2.3.cmml" xref="alg1.l11.m1.2.2.2.2.2.2.2.3"><times id="alg1.l11.m1.2.2.2.2.2.2.2.3.1.cmml" xref="alg1.l11.m1.2.2.2.2.2.2.2.3.1"></times><ci id="alg1.l11.m1.2.2.2.2.2.2.2.3.2.cmml" xref="alg1.l11.m1.2.2.2.2.2.2.2.3.2">𝑡</ci><ci id="alg1.l11.m1.2.2.2.2.2.2.2.3.3.cmml" xref="alg1.l11.m1.2.2.2.2.2.2.2.3.3">𝑘</ci></apply></apply><ci id="alg1.l11.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l11.m1.2.2.2.2.2.2.3">𝑙</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.2c">\prod_{t}^{l}\Leftarrow calculatePairWiseDistance(w_{t}^{l},w_{tk}^{l})</annotation></semantics></math>

</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>         <span id="alg1.l12.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l12.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span>         <math id="alg1.l13.m1.3" class="ltx_Math" alttext="\mu^{l},\sigma^{l}\Leftarrow calculateMean\&amp;stdOfNeuron(\prod_{t}^{l})" display="inline"><semantics id="alg1.l13.m1.3a"><mrow id="alg1.l13.m1.3.3" xref="alg1.l13.m1.3.3.cmml"><mrow id="alg1.l13.m1.2.2.2.2" xref="alg1.l13.m1.2.2.2.3.cmml"><msup id="alg1.l13.m1.1.1.1.1.1" xref="alg1.l13.m1.1.1.1.1.1.cmml"><mi id="alg1.l13.m1.1.1.1.1.1.2" xref="alg1.l13.m1.1.1.1.1.1.2.cmml">μ</mi><mi id="alg1.l13.m1.1.1.1.1.1.3" xref="alg1.l13.m1.1.1.1.1.1.3.cmml">l</mi></msup><mo id="alg1.l13.m1.2.2.2.2.3" xref="alg1.l13.m1.2.2.2.3.cmml">,</mo><msup id="alg1.l13.m1.2.2.2.2.2" xref="alg1.l13.m1.2.2.2.2.2.cmml"><mi id="alg1.l13.m1.2.2.2.2.2.2" xref="alg1.l13.m1.2.2.2.2.2.2.cmml">σ</mi><mi id="alg1.l13.m1.2.2.2.2.2.3" xref="alg1.l13.m1.2.2.2.2.2.3.cmml">l</mi></msup></mrow><mo stretchy="false" id="alg1.l13.m1.3.3.4" xref="alg1.l13.m1.3.3.4.cmml">⇐</mo><mrow id="alg1.l13.m1.3.3.3" xref="alg1.l13.m1.3.3.3.cmml"><mrow id="alg1.l13.m1.3.3.3.3" xref="alg1.l13.m1.3.3.3.3.cmml"><mi id="alg1.l13.m1.3.3.3.3.2" xref="alg1.l13.m1.3.3.3.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.3" xref="alg1.l13.m1.3.3.3.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1a" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.4" xref="alg1.l13.m1.3.3.3.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1b" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.5" xref="alg1.l13.m1.3.3.3.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1c" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.6" xref="alg1.l13.m1.3.3.3.3.6.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1d" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.7" xref="alg1.l13.m1.3.3.3.3.7.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1e" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.8" xref="alg1.l13.m1.3.3.3.3.8.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1f" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.9" xref="alg1.l13.m1.3.3.3.3.9.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1g" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.10" xref="alg1.l13.m1.3.3.3.3.10.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1h" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.11" xref="alg1.l13.m1.3.3.3.3.11.cmml">M</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1i" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.12" xref="alg1.l13.m1.3.3.3.3.12.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1j" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.13" xref="alg1.l13.m1.3.3.3.3.13.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.3.1k" xref="alg1.l13.m1.3.3.3.3.1.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.3.14" xref="alg1.l13.m1.3.3.3.3.14.cmml">n</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="alg1.l13.m1.3.3.3.2" xref="alg1.l13.m1.3.3.3.2.cmml">&amp;</mo><mrow id="alg1.l13.m1.3.3.3.1" xref="alg1.l13.m1.3.3.3.1.cmml"><mi id="alg1.l13.m1.3.3.3.1.3" xref="alg1.l13.m1.3.3.3.1.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.2" xref="alg1.l13.m1.3.3.3.1.2.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.1.4" xref="alg1.l13.m1.3.3.3.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.2a" xref="alg1.l13.m1.3.3.3.1.2.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.1.5" xref="alg1.l13.m1.3.3.3.1.5.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.2b" xref="alg1.l13.m1.3.3.3.1.2.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.1.6" xref="alg1.l13.m1.3.3.3.1.6.cmml">O</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.2c" xref="alg1.l13.m1.3.3.3.1.2.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.1.7" xref="alg1.l13.m1.3.3.3.1.7.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.2d" xref="alg1.l13.m1.3.3.3.1.2.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.1.8" xref="alg1.l13.m1.3.3.3.1.8.cmml">N</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.2e" xref="alg1.l13.m1.3.3.3.1.2.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.1.9" xref="alg1.l13.m1.3.3.3.1.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.2f" xref="alg1.l13.m1.3.3.3.1.2.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.1.10" xref="alg1.l13.m1.3.3.3.1.10.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.2g" xref="alg1.l13.m1.3.3.3.1.2.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.1.11" xref="alg1.l13.m1.3.3.3.1.11.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.2h" xref="alg1.l13.m1.3.3.3.1.2.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.1.12" xref="alg1.l13.m1.3.3.3.1.12.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.2i" xref="alg1.l13.m1.3.3.3.1.2.cmml">​</mo><mi id="alg1.l13.m1.3.3.3.1.13" xref="alg1.l13.m1.3.3.3.1.13.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.2j" xref="alg1.l13.m1.3.3.3.1.2.cmml">​</mo><mrow id="alg1.l13.m1.3.3.3.1.1.1" xref="alg1.l13.m1.3.3.3.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l13.m1.3.3.3.1.1.1.2" xref="alg1.l13.m1.3.3.3.1.1.1.1.cmml">(</mo><msubsup id="alg1.l13.m1.3.3.3.1.1.1.1" xref="alg1.l13.m1.3.3.3.1.1.1.1.cmml"><mo lspace="0em" rspace="0em" id="alg1.l13.m1.3.3.3.1.1.1.1.2.2" xref="alg1.l13.m1.3.3.3.1.1.1.1.2.2.cmml">∏</mo><mi id="alg1.l13.m1.3.3.3.1.1.1.1.2.3" xref="alg1.l13.m1.3.3.3.1.1.1.1.2.3.cmml">t</mi><mi id="alg1.l13.m1.3.3.3.1.1.1.1.3" xref="alg1.l13.m1.3.3.3.1.1.1.1.3.cmml">l</mi></msubsup><mo stretchy="false" id="alg1.l13.m1.3.3.3.1.1.1.3" xref="alg1.l13.m1.3.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l13.m1.3b"><apply id="alg1.l13.m1.3.3.cmml" xref="alg1.l13.m1.3.3"><ci id="alg1.l13.m1.3.3.4.cmml" xref="alg1.l13.m1.3.3.4">⇐</ci><list id="alg1.l13.m1.2.2.2.3.cmml" xref="alg1.l13.m1.2.2.2.2"><apply id="alg1.l13.m1.1.1.1.1.1.cmml" xref="alg1.l13.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l13.m1.1.1.1.1.1.1.cmml" xref="alg1.l13.m1.1.1.1.1.1">superscript</csymbol><ci id="alg1.l13.m1.1.1.1.1.1.2.cmml" xref="alg1.l13.m1.1.1.1.1.1.2">𝜇</ci><ci id="alg1.l13.m1.1.1.1.1.1.3.cmml" xref="alg1.l13.m1.1.1.1.1.1.3">𝑙</ci></apply><apply id="alg1.l13.m1.2.2.2.2.2.cmml" xref="alg1.l13.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l13.m1.2.2.2.2.2.1.cmml" xref="alg1.l13.m1.2.2.2.2.2">superscript</csymbol><ci id="alg1.l13.m1.2.2.2.2.2.2.cmml" xref="alg1.l13.m1.2.2.2.2.2.2">𝜎</ci><ci id="alg1.l13.m1.2.2.2.2.2.3.cmml" xref="alg1.l13.m1.2.2.2.2.2.3">𝑙</ci></apply></list><apply id="alg1.l13.m1.3.3.3.cmml" xref="alg1.l13.m1.3.3.3"><and id="alg1.l13.m1.3.3.3.2.cmml" xref="alg1.l13.m1.3.3.3.2"></and><apply id="alg1.l13.m1.3.3.3.3.cmml" xref="alg1.l13.m1.3.3.3.3"><times id="alg1.l13.m1.3.3.3.3.1.cmml" xref="alg1.l13.m1.3.3.3.3.1"></times><ci id="alg1.l13.m1.3.3.3.3.2.cmml" xref="alg1.l13.m1.3.3.3.3.2">𝑐</ci><ci id="alg1.l13.m1.3.3.3.3.3.cmml" xref="alg1.l13.m1.3.3.3.3.3">𝑎</ci><ci id="alg1.l13.m1.3.3.3.3.4.cmml" xref="alg1.l13.m1.3.3.3.3.4">𝑙</ci><ci id="alg1.l13.m1.3.3.3.3.5.cmml" xref="alg1.l13.m1.3.3.3.3.5">𝑐</ci><ci id="alg1.l13.m1.3.3.3.3.6.cmml" xref="alg1.l13.m1.3.3.3.3.6">𝑢</ci><ci id="alg1.l13.m1.3.3.3.3.7.cmml" xref="alg1.l13.m1.3.3.3.3.7">𝑙</ci><ci id="alg1.l13.m1.3.3.3.3.8.cmml" xref="alg1.l13.m1.3.3.3.3.8">𝑎</ci><ci id="alg1.l13.m1.3.3.3.3.9.cmml" xref="alg1.l13.m1.3.3.3.3.9">𝑡</ci><ci id="alg1.l13.m1.3.3.3.3.10.cmml" xref="alg1.l13.m1.3.3.3.3.10">𝑒</ci><ci id="alg1.l13.m1.3.3.3.3.11.cmml" xref="alg1.l13.m1.3.3.3.3.11">𝑀</ci><ci id="alg1.l13.m1.3.3.3.3.12.cmml" xref="alg1.l13.m1.3.3.3.3.12">𝑒</ci><ci id="alg1.l13.m1.3.3.3.3.13.cmml" xref="alg1.l13.m1.3.3.3.3.13">𝑎</ci><ci id="alg1.l13.m1.3.3.3.3.14.cmml" xref="alg1.l13.m1.3.3.3.3.14">𝑛</ci></apply><apply id="alg1.l13.m1.3.3.3.1.cmml" xref="alg1.l13.m1.3.3.3.1"><times id="alg1.l13.m1.3.3.3.1.2.cmml" xref="alg1.l13.m1.3.3.3.1.2"></times><ci id="alg1.l13.m1.3.3.3.1.3.cmml" xref="alg1.l13.m1.3.3.3.1.3">𝑠</ci><ci id="alg1.l13.m1.3.3.3.1.4.cmml" xref="alg1.l13.m1.3.3.3.1.4">𝑡</ci><ci id="alg1.l13.m1.3.3.3.1.5.cmml" xref="alg1.l13.m1.3.3.3.1.5">𝑑</ci><ci id="alg1.l13.m1.3.3.3.1.6.cmml" xref="alg1.l13.m1.3.3.3.1.6">𝑂</ci><ci id="alg1.l13.m1.3.3.3.1.7.cmml" xref="alg1.l13.m1.3.3.3.1.7">𝑓</ci><ci id="alg1.l13.m1.3.3.3.1.8.cmml" xref="alg1.l13.m1.3.3.3.1.8">𝑁</ci><ci id="alg1.l13.m1.3.3.3.1.9.cmml" xref="alg1.l13.m1.3.3.3.1.9">𝑒</ci><ci id="alg1.l13.m1.3.3.3.1.10.cmml" xref="alg1.l13.m1.3.3.3.1.10">𝑢</ci><ci id="alg1.l13.m1.3.3.3.1.11.cmml" xref="alg1.l13.m1.3.3.3.1.11">𝑟</ci><ci id="alg1.l13.m1.3.3.3.1.12.cmml" xref="alg1.l13.m1.3.3.3.1.12">𝑜</ci><ci id="alg1.l13.m1.3.3.3.1.13.cmml" xref="alg1.l13.m1.3.3.3.1.13">𝑛</ci><apply id="alg1.l13.m1.3.3.3.1.1.1.1.cmml" xref="alg1.l13.m1.3.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l13.m1.3.3.3.1.1.1.1.1.cmml" xref="alg1.l13.m1.3.3.3.1.1.1">superscript</csymbol><apply id="alg1.l13.m1.3.3.3.1.1.1.1.2.cmml" xref="alg1.l13.m1.3.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l13.m1.3.3.3.1.1.1.1.2.1.cmml" xref="alg1.l13.m1.3.3.3.1.1.1">subscript</csymbol><csymbol cd="latexml" id="alg1.l13.m1.3.3.3.1.1.1.1.2.2.cmml" xref="alg1.l13.m1.3.3.3.1.1.1.1.2.2">product</csymbol><ci id="alg1.l13.m1.3.3.3.1.1.1.1.2.3.cmml" xref="alg1.l13.m1.3.3.3.1.1.1.1.2.3">𝑡</ci></apply><ci id="alg1.l13.m1.3.3.3.1.1.1.1.3.cmml" xref="alg1.l13.m1.3.3.3.1.1.1.1.3">𝑙</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m1.3c">\mu^{l},\sigma^{l}\Leftarrow calculateMean\&amp;stdOfNeuron(\prod_{t}^{l})</annotation></semantics></math>

</div>
<div id="alg1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span>         <math id="alg1.l14.m1.1" class="ltx_Math" alttext="newNeuron=False" display="inline"><semantics id="alg1.l14.m1.1a"><mrow id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml"><mrow id="alg1.l14.m1.1.1.2" xref="alg1.l14.m1.1.1.2.cmml"><mi id="alg1.l14.m1.1.1.2.2" xref="alg1.l14.m1.1.1.2.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.2.1" xref="alg1.l14.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.2.3" xref="alg1.l14.m1.1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.2.1a" xref="alg1.l14.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.2.4" xref="alg1.l14.m1.1.1.2.4.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.2.1b" xref="alg1.l14.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.2.5" xref="alg1.l14.m1.1.1.2.5.cmml">N</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.2.1c" xref="alg1.l14.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.2.6" xref="alg1.l14.m1.1.1.2.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.2.1d" xref="alg1.l14.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.2.7" xref="alg1.l14.m1.1.1.2.7.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.2.1e" xref="alg1.l14.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.2.8" xref="alg1.l14.m1.1.1.2.8.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.2.1f" xref="alg1.l14.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.2.9" xref="alg1.l14.m1.1.1.2.9.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.2.1g" xref="alg1.l14.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.2.10" xref="alg1.l14.m1.1.1.2.10.cmml">n</mi></mrow><mo id="alg1.l14.m1.1.1.1" xref="alg1.l14.m1.1.1.1.cmml">=</mo><mrow id="alg1.l14.m1.1.1.3" xref="alg1.l14.m1.1.1.3.cmml"><mi id="alg1.l14.m1.1.1.3.2" xref="alg1.l14.m1.1.1.3.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.3.1" xref="alg1.l14.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.3.3" xref="alg1.l14.m1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.3.1a" xref="alg1.l14.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.3.4" xref="alg1.l14.m1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.3.1b" xref="alg1.l14.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.3.5" xref="alg1.l14.m1.1.1.3.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.3.1c" xref="alg1.l14.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l14.m1.1.1.3.6" xref="alg1.l14.m1.1.1.3.6.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b"><apply id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1"><eq id="alg1.l14.m1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1"></eq><apply id="alg1.l14.m1.1.1.2.cmml" xref="alg1.l14.m1.1.1.2"><times id="alg1.l14.m1.1.1.2.1.cmml" xref="alg1.l14.m1.1.1.2.1"></times><ci id="alg1.l14.m1.1.1.2.2.cmml" xref="alg1.l14.m1.1.1.2.2">𝑛</ci><ci id="alg1.l14.m1.1.1.2.3.cmml" xref="alg1.l14.m1.1.1.2.3">𝑒</ci><ci id="alg1.l14.m1.1.1.2.4.cmml" xref="alg1.l14.m1.1.1.2.4">𝑤</ci><ci id="alg1.l14.m1.1.1.2.5.cmml" xref="alg1.l14.m1.1.1.2.5">𝑁</ci><ci id="alg1.l14.m1.1.1.2.6.cmml" xref="alg1.l14.m1.1.1.2.6">𝑒</ci><ci id="alg1.l14.m1.1.1.2.7.cmml" xref="alg1.l14.m1.1.1.2.7">𝑢</ci><ci id="alg1.l14.m1.1.1.2.8.cmml" xref="alg1.l14.m1.1.1.2.8">𝑟</ci><ci id="alg1.l14.m1.1.1.2.9.cmml" xref="alg1.l14.m1.1.1.2.9">𝑜</ci><ci id="alg1.l14.m1.1.1.2.10.cmml" xref="alg1.l14.m1.1.1.2.10">𝑛</ci></apply><apply id="alg1.l14.m1.1.1.3.cmml" xref="alg1.l14.m1.1.1.3"><times id="alg1.l14.m1.1.1.3.1.cmml" xref="alg1.l14.m1.1.1.3.1"></times><ci id="alg1.l14.m1.1.1.3.2.cmml" xref="alg1.l14.m1.1.1.3.2">𝐹</ci><ci id="alg1.l14.m1.1.1.3.3.cmml" xref="alg1.l14.m1.1.1.3.3">𝑎</ci><ci id="alg1.l14.m1.1.1.3.4.cmml" xref="alg1.l14.m1.1.1.3.4">𝑙</ci><ci id="alg1.l14.m1.1.1.3.5.cmml" xref="alg1.l14.m1.1.1.3.5">𝑠</ci><ci id="alg1.l14.m1.1.1.3.6.cmml" xref="alg1.l14.m1.1.1.3.6">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">newNeuron=False</annotation></semantics></math>

</div>
<div id="alg1.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span>         <span id="alg1.l15.2" class="ltx_text ltx_font_bold">for</span> each neuron distance <math id="alg1.l15.m1.3" class="ltx_Math" alttext="d=1,2,\cdots D" display="inline"><semantics id="alg1.l15.m1.3a"><mrow id="alg1.l15.m1.3.3" xref="alg1.l15.m1.3.3.cmml"><mi id="alg1.l15.m1.3.3.3" xref="alg1.l15.m1.3.3.3.cmml">d</mi><mo id="alg1.l15.m1.3.3.2" xref="alg1.l15.m1.3.3.2.cmml">=</mo><mrow id="alg1.l15.m1.3.3.1.1" xref="alg1.l15.m1.3.3.1.2.cmml"><mn id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml">1</mn><mo id="alg1.l15.m1.3.3.1.1.2" xref="alg1.l15.m1.3.3.1.2.cmml">,</mo><mn id="alg1.l15.m1.2.2" xref="alg1.l15.m1.2.2.cmml">2</mn><mo id="alg1.l15.m1.3.3.1.1.3" xref="alg1.l15.m1.3.3.1.2.cmml">,</mo><mrow id="alg1.l15.m1.3.3.1.1.1" xref="alg1.l15.m1.3.3.1.1.1.cmml"><mi mathvariant="normal" id="alg1.l15.m1.3.3.1.1.1.2" xref="alg1.l15.m1.3.3.1.1.1.2.cmml">⋯</mi><mo lspace="0em" rspace="0em" id="alg1.l15.m1.3.3.1.1.1.1" xref="alg1.l15.m1.3.3.1.1.1.1.cmml">​</mo><mi id="alg1.l15.m1.3.3.1.1.1.3" xref="alg1.l15.m1.3.3.1.1.1.3.cmml">D</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m1.3b"><apply id="alg1.l15.m1.3.3.cmml" xref="alg1.l15.m1.3.3"><eq id="alg1.l15.m1.3.3.2.cmml" xref="alg1.l15.m1.3.3.2"></eq><ci id="alg1.l15.m1.3.3.3.cmml" xref="alg1.l15.m1.3.3.3">𝑑</ci><list id="alg1.l15.m1.3.3.1.2.cmml" xref="alg1.l15.m1.3.3.1.1"><cn type="integer" id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1">1</cn><cn type="integer" id="alg1.l15.m1.2.2.cmml" xref="alg1.l15.m1.2.2">2</cn><apply id="alg1.l15.m1.3.3.1.1.1.cmml" xref="alg1.l15.m1.3.3.1.1.1"><times id="alg1.l15.m1.3.3.1.1.1.1.cmml" xref="alg1.l15.m1.3.3.1.1.1.1"></times><ci id="alg1.l15.m1.3.3.1.1.1.2.cmml" xref="alg1.l15.m1.3.3.1.1.1.2">⋯</ci><ci id="alg1.l15.m1.3.3.1.1.1.3.cmml" xref="alg1.l15.m1.3.3.1.1.1.3">𝐷</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m1.3c">d=1,2,\cdots D</annotation></semantics></math> in <math id="alg1.l15.m2.1" class="ltx_Math" alttext="\prod_{t}^{l}" display="inline"><semantics id="alg1.l15.m2.1a"><msubsup id="alg1.l15.m2.1.1" xref="alg1.l15.m2.1.1.cmml"><mo id="alg1.l15.m2.1.1.2.2" xref="alg1.l15.m2.1.1.2.2.cmml">∏</mo><mi id="alg1.l15.m2.1.1.2.3" xref="alg1.l15.m2.1.1.2.3.cmml">t</mi><mi id="alg1.l15.m2.1.1.3" xref="alg1.l15.m2.1.1.3.cmml">l</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l15.m2.1b"><apply id="alg1.l15.m2.1.1.cmml" xref="alg1.l15.m2.1.1"><csymbol cd="ambiguous" id="alg1.l15.m2.1.1.1.cmml" xref="alg1.l15.m2.1.1">superscript</csymbol><apply id="alg1.l15.m2.1.1.2.cmml" xref="alg1.l15.m2.1.1"><csymbol cd="ambiguous" id="alg1.l15.m2.1.1.2.1.cmml" xref="alg1.l15.m2.1.1">subscript</csymbol><csymbol cd="latexml" id="alg1.l15.m2.1.1.2.2.cmml" xref="alg1.l15.m2.1.1.2.2">product</csymbol><ci id="alg1.l15.m2.1.1.2.3.cmml" xref="alg1.l15.m2.1.1.2.3">𝑡</ci></apply><ci id="alg1.l15.m2.1.1.3.cmml" xref="alg1.l15.m2.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m2.1c">\prod_{t}^{l}</annotation></semantics></math> <span id="alg1.l15.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l16.1.1.1" class="ltx_text" style="font-size:80%;">16:</span></span>              <math id="alg1.l16.m1.1" class="ltx_Math" alttext="threshold=3*\sigma_{d}^{l}+\mu_{d}^{l}+penaltyFunc(t)" display="inline"><semantics id="alg1.l16.m1.1a"><mrow id="alg1.l16.m1.1.2" xref="alg1.l16.m1.1.2.cmml"><mrow id="alg1.l16.m1.1.2.2" xref="alg1.l16.m1.1.2.2.cmml"><mi id="alg1.l16.m1.1.2.2.2" xref="alg1.l16.m1.1.2.2.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.2.1" xref="alg1.l16.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.2.3" xref="alg1.l16.m1.1.2.2.3.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.2.1a" xref="alg1.l16.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.2.4" xref="alg1.l16.m1.1.2.2.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.2.1b" xref="alg1.l16.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.2.5" xref="alg1.l16.m1.1.2.2.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.2.1c" xref="alg1.l16.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.2.6" xref="alg1.l16.m1.1.2.2.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.2.1d" xref="alg1.l16.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.2.7" xref="alg1.l16.m1.1.2.2.7.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.2.1e" xref="alg1.l16.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.2.8" xref="alg1.l16.m1.1.2.2.8.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.2.1f" xref="alg1.l16.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.2.9" xref="alg1.l16.m1.1.2.2.9.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.2.1g" xref="alg1.l16.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.2.10" xref="alg1.l16.m1.1.2.2.10.cmml">d</mi></mrow><mo id="alg1.l16.m1.1.2.1" xref="alg1.l16.m1.1.2.1.cmml">=</mo><mrow id="alg1.l16.m1.1.2.3" xref="alg1.l16.m1.1.2.3.cmml"><mrow id="alg1.l16.m1.1.2.3.2" xref="alg1.l16.m1.1.2.3.2.cmml"><mn id="alg1.l16.m1.1.2.3.2.2" xref="alg1.l16.m1.1.2.3.2.2.cmml">3</mn><mo lspace="0.222em" rspace="0.222em" id="alg1.l16.m1.1.2.3.2.1" xref="alg1.l16.m1.1.2.3.2.1.cmml">∗</mo><msubsup id="alg1.l16.m1.1.2.3.2.3" xref="alg1.l16.m1.1.2.3.2.3.cmml"><mi id="alg1.l16.m1.1.2.3.2.3.2.2" xref="alg1.l16.m1.1.2.3.2.3.2.2.cmml">σ</mi><mi id="alg1.l16.m1.1.2.3.2.3.2.3" xref="alg1.l16.m1.1.2.3.2.3.2.3.cmml">d</mi><mi id="alg1.l16.m1.1.2.3.2.3.3" xref="alg1.l16.m1.1.2.3.2.3.3.cmml">l</mi></msubsup></mrow><mo id="alg1.l16.m1.1.2.3.1" xref="alg1.l16.m1.1.2.3.1.cmml">+</mo><msubsup id="alg1.l16.m1.1.2.3.3" xref="alg1.l16.m1.1.2.3.3.cmml"><mi id="alg1.l16.m1.1.2.3.3.2.2" xref="alg1.l16.m1.1.2.3.3.2.2.cmml">μ</mi><mi id="alg1.l16.m1.1.2.3.3.2.3" xref="alg1.l16.m1.1.2.3.3.2.3.cmml">d</mi><mi id="alg1.l16.m1.1.2.3.3.3" xref="alg1.l16.m1.1.2.3.3.3.cmml">l</mi></msubsup><mo id="alg1.l16.m1.1.2.3.1a" xref="alg1.l16.m1.1.2.3.1.cmml">+</mo><mrow id="alg1.l16.m1.1.2.3.4" xref="alg1.l16.m1.1.2.3.4.cmml"><mi id="alg1.l16.m1.1.2.3.4.2" xref="alg1.l16.m1.1.2.3.4.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.3.4.1" xref="alg1.l16.m1.1.2.3.4.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.3.4.3" xref="alg1.l16.m1.1.2.3.4.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.3.4.1a" xref="alg1.l16.m1.1.2.3.4.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.3.4.4" xref="alg1.l16.m1.1.2.3.4.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.3.4.1b" xref="alg1.l16.m1.1.2.3.4.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.3.4.5" xref="alg1.l16.m1.1.2.3.4.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.3.4.1c" xref="alg1.l16.m1.1.2.3.4.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.3.4.6" xref="alg1.l16.m1.1.2.3.4.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.3.4.1d" xref="alg1.l16.m1.1.2.3.4.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.3.4.7" xref="alg1.l16.m1.1.2.3.4.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.3.4.1e" xref="alg1.l16.m1.1.2.3.4.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.3.4.8" xref="alg1.l16.m1.1.2.3.4.8.cmml">y</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.3.4.1f" xref="alg1.l16.m1.1.2.3.4.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.3.4.9" xref="alg1.l16.m1.1.2.3.4.9.cmml">F</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.3.4.1g" xref="alg1.l16.m1.1.2.3.4.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.3.4.10" xref="alg1.l16.m1.1.2.3.4.10.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.3.4.1h" xref="alg1.l16.m1.1.2.3.4.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.3.4.11" xref="alg1.l16.m1.1.2.3.4.11.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.3.4.1i" xref="alg1.l16.m1.1.2.3.4.1.cmml">​</mo><mi id="alg1.l16.m1.1.2.3.4.12" xref="alg1.l16.m1.1.2.3.4.12.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.1.2.3.4.1j" xref="alg1.l16.m1.1.2.3.4.1.cmml">​</mo><mrow id="alg1.l16.m1.1.2.3.4.13.2" xref="alg1.l16.m1.1.2.3.4.cmml"><mo stretchy="false" id="alg1.l16.m1.1.2.3.4.13.2.1" xref="alg1.l16.m1.1.2.3.4.cmml">(</mo><mi id="alg1.l16.m1.1.1" xref="alg1.l16.m1.1.1.cmml">t</mi><mo stretchy="false" id="alg1.l16.m1.1.2.3.4.13.2.2" xref="alg1.l16.m1.1.2.3.4.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l16.m1.1b"><apply id="alg1.l16.m1.1.2.cmml" xref="alg1.l16.m1.1.2"><eq id="alg1.l16.m1.1.2.1.cmml" xref="alg1.l16.m1.1.2.1"></eq><apply id="alg1.l16.m1.1.2.2.cmml" xref="alg1.l16.m1.1.2.2"><times id="alg1.l16.m1.1.2.2.1.cmml" xref="alg1.l16.m1.1.2.2.1"></times><ci id="alg1.l16.m1.1.2.2.2.cmml" xref="alg1.l16.m1.1.2.2.2">𝑡</ci><ci id="alg1.l16.m1.1.2.2.3.cmml" xref="alg1.l16.m1.1.2.2.3">ℎ</ci><ci id="alg1.l16.m1.1.2.2.4.cmml" xref="alg1.l16.m1.1.2.2.4">𝑟</ci><ci id="alg1.l16.m1.1.2.2.5.cmml" xref="alg1.l16.m1.1.2.2.5">𝑒</ci><ci id="alg1.l16.m1.1.2.2.6.cmml" xref="alg1.l16.m1.1.2.2.6">𝑠</ci><ci id="alg1.l16.m1.1.2.2.7.cmml" xref="alg1.l16.m1.1.2.2.7">ℎ</ci><ci id="alg1.l16.m1.1.2.2.8.cmml" xref="alg1.l16.m1.1.2.2.8">𝑜</ci><ci id="alg1.l16.m1.1.2.2.9.cmml" xref="alg1.l16.m1.1.2.2.9">𝑙</ci><ci id="alg1.l16.m1.1.2.2.10.cmml" xref="alg1.l16.m1.1.2.2.10">𝑑</ci></apply><apply id="alg1.l16.m1.1.2.3.cmml" xref="alg1.l16.m1.1.2.3"><plus id="alg1.l16.m1.1.2.3.1.cmml" xref="alg1.l16.m1.1.2.3.1"></plus><apply id="alg1.l16.m1.1.2.3.2.cmml" xref="alg1.l16.m1.1.2.3.2"><times id="alg1.l16.m1.1.2.3.2.1.cmml" xref="alg1.l16.m1.1.2.3.2.1"></times><cn type="integer" id="alg1.l16.m1.1.2.3.2.2.cmml" xref="alg1.l16.m1.1.2.3.2.2">3</cn><apply id="alg1.l16.m1.1.2.3.2.3.cmml" xref="alg1.l16.m1.1.2.3.2.3"><csymbol cd="ambiguous" id="alg1.l16.m1.1.2.3.2.3.1.cmml" xref="alg1.l16.m1.1.2.3.2.3">superscript</csymbol><apply id="alg1.l16.m1.1.2.3.2.3.2.cmml" xref="alg1.l16.m1.1.2.3.2.3"><csymbol cd="ambiguous" id="alg1.l16.m1.1.2.3.2.3.2.1.cmml" xref="alg1.l16.m1.1.2.3.2.3">subscript</csymbol><ci id="alg1.l16.m1.1.2.3.2.3.2.2.cmml" xref="alg1.l16.m1.1.2.3.2.3.2.2">𝜎</ci><ci id="alg1.l16.m1.1.2.3.2.3.2.3.cmml" xref="alg1.l16.m1.1.2.3.2.3.2.3">𝑑</ci></apply><ci id="alg1.l16.m1.1.2.3.2.3.3.cmml" xref="alg1.l16.m1.1.2.3.2.3.3">𝑙</ci></apply></apply><apply id="alg1.l16.m1.1.2.3.3.cmml" xref="alg1.l16.m1.1.2.3.3"><csymbol cd="ambiguous" id="alg1.l16.m1.1.2.3.3.1.cmml" xref="alg1.l16.m1.1.2.3.3">superscript</csymbol><apply id="alg1.l16.m1.1.2.3.3.2.cmml" xref="alg1.l16.m1.1.2.3.3"><csymbol cd="ambiguous" id="alg1.l16.m1.1.2.3.3.2.1.cmml" xref="alg1.l16.m1.1.2.3.3">subscript</csymbol><ci id="alg1.l16.m1.1.2.3.3.2.2.cmml" xref="alg1.l16.m1.1.2.3.3.2.2">𝜇</ci><ci id="alg1.l16.m1.1.2.3.3.2.3.cmml" xref="alg1.l16.m1.1.2.3.3.2.3">𝑑</ci></apply><ci id="alg1.l16.m1.1.2.3.3.3.cmml" xref="alg1.l16.m1.1.2.3.3.3">𝑙</ci></apply><apply id="alg1.l16.m1.1.2.3.4.cmml" xref="alg1.l16.m1.1.2.3.4"><times id="alg1.l16.m1.1.2.3.4.1.cmml" xref="alg1.l16.m1.1.2.3.4.1"></times><ci id="alg1.l16.m1.1.2.3.4.2.cmml" xref="alg1.l16.m1.1.2.3.4.2">𝑝</ci><ci id="alg1.l16.m1.1.2.3.4.3.cmml" xref="alg1.l16.m1.1.2.3.4.3">𝑒</ci><ci id="alg1.l16.m1.1.2.3.4.4.cmml" xref="alg1.l16.m1.1.2.3.4.4">𝑛</ci><ci id="alg1.l16.m1.1.2.3.4.5.cmml" xref="alg1.l16.m1.1.2.3.4.5">𝑎</ci><ci id="alg1.l16.m1.1.2.3.4.6.cmml" xref="alg1.l16.m1.1.2.3.4.6">𝑙</ci><ci id="alg1.l16.m1.1.2.3.4.7.cmml" xref="alg1.l16.m1.1.2.3.4.7">𝑡</ci><ci id="alg1.l16.m1.1.2.3.4.8.cmml" xref="alg1.l16.m1.1.2.3.4.8">𝑦</ci><ci id="alg1.l16.m1.1.2.3.4.9.cmml" xref="alg1.l16.m1.1.2.3.4.9">𝐹</ci><ci id="alg1.l16.m1.1.2.3.4.10.cmml" xref="alg1.l16.m1.1.2.3.4.10">𝑢</ci><ci id="alg1.l16.m1.1.2.3.4.11.cmml" xref="alg1.l16.m1.1.2.3.4.11">𝑛</ci><ci id="alg1.l16.m1.1.2.3.4.12.cmml" xref="alg1.l16.m1.1.2.3.4.12">𝑐</ci><ci id="alg1.l16.m1.1.1.cmml" xref="alg1.l16.m1.1.1">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m1.1c">threshold=3*\sigma_{d}^{l}+\mu_{d}^{l}+penaltyFunc(t)</annotation></semantics></math>

</div>
<div id="alg1.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l17.1.1.1" class="ltx_text" style="font-size:80%;">17:</span></span>              <span id="alg1.l17.2" class="ltx_text ltx_font_bold">if</span> <math id="alg1.l17.m1.1" class="ltx_Math" alttext="mean(d)&gt;threshold" display="inline"><semantics id="alg1.l17.m1.1a"><mrow id="alg1.l17.m1.1.2" xref="alg1.l17.m1.1.2.cmml"><mrow id="alg1.l17.m1.1.2.2" xref="alg1.l17.m1.1.2.2.cmml"><mi id="alg1.l17.m1.1.2.2.2" xref="alg1.l17.m1.1.2.2.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.2.1" xref="alg1.l17.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l17.m1.1.2.2.3" xref="alg1.l17.m1.1.2.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.2.1a" xref="alg1.l17.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l17.m1.1.2.2.4" xref="alg1.l17.m1.1.2.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.2.1b" xref="alg1.l17.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l17.m1.1.2.2.5" xref="alg1.l17.m1.1.2.2.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.2.1c" xref="alg1.l17.m1.1.2.2.1.cmml">​</mo><mrow id="alg1.l17.m1.1.2.2.6.2" xref="alg1.l17.m1.1.2.2.cmml"><mo stretchy="false" id="alg1.l17.m1.1.2.2.6.2.1" xref="alg1.l17.m1.1.2.2.cmml">(</mo><mi id="alg1.l17.m1.1.1" xref="alg1.l17.m1.1.1.cmml">d</mi><mo stretchy="false" id="alg1.l17.m1.1.2.2.6.2.2" xref="alg1.l17.m1.1.2.2.cmml">)</mo></mrow></mrow><mo id="alg1.l17.m1.1.2.1" xref="alg1.l17.m1.1.2.1.cmml">&gt;</mo><mrow id="alg1.l17.m1.1.2.3" xref="alg1.l17.m1.1.2.3.cmml"><mi id="alg1.l17.m1.1.2.3.2" xref="alg1.l17.m1.1.2.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.3.1" xref="alg1.l17.m1.1.2.3.1.cmml">​</mo><mi id="alg1.l17.m1.1.2.3.3" xref="alg1.l17.m1.1.2.3.3.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.3.1a" xref="alg1.l17.m1.1.2.3.1.cmml">​</mo><mi id="alg1.l17.m1.1.2.3.4" xref="alg1.l17.m1.1.2.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.3.1b" xref="alg1.l17.m1.1.2.3.1.cmml">​</mo><mi id="alg1.l17.m1.1.2.3.5" xref="alg1.l17.m1.1.2.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.3.1c" xref="alg1.l17.m1.1.2.3.1.cmml">​</mo><mi id="alg1.l17.m1.1.2.3.6" xref="alg1.l17.m1.1.2.3.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.3.1d" xref="alg1.l17.m1.1.2.3.1.cmml">​</mo><mi id="alg1.l17.m1.1.2.3.7" xref="alg1.l17.m1.1.2.3.7.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.3.1e" xref="alg1.l17.m1.1.2.3.1.cmml">​</mo><mi id="alg1.l17.m1.1.2.3.8" xref="alg1.l17.m1.1.2.3.8.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.3.1f" xref="alg1.l17.m1.1.2.3.1.cmml">​</mo><mi id="alg1.l17.m1.1.2.3.9" xref="alg1.l17.m1.1.2.3.9.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.1.2.3.1g" xref="alg1.l17.m1.1.2.3.1.cmml">​</mo><mi id="alg1.l17.m1.1.2.3.10" xref="alg1.l17.m1.1.2.3.10.cmml">d</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l17.m1.1b"><apply id="alg1.l17.m1.1.2.cmml" xref="alg1.l17.m1.1.2"><gt id="alg1.l17.m1.1.2.1.cmml" xref="alg1.l17.m1.1.2.1"></gt><apply id="alg1.l17.m1.1.2.2.cmml" xref="alg1.l17.m1.1.2.2"><times id="alg1.l17.m1.1.2.2.1.cmml" xref="alg1.l17.m1.1.2.2.1"></times><ci id="alg1.l17.m1.1.2.2.2.cmml" xref="alg1.l17.m1.1.2.2.2">𝑚</ci><ci id="alg1.l17.m1.1.2.2.3.cmml" xref="alg1.l17.m1.1.2.2.3">𝑒</ci><ci id="alg1.l17.m1.1.2.2.4.cmml" xref="alg1.l17.m1.1.2.2.4">𝑎</ci><ci id="alg1.l17.m1.1.2.2.5.cmml" xref="alg1.l17.m1.1.2.2.5">𝑛</ci><ci id="alg1.l17.m1.1.1.cmml" xref="alg1.l17.m1.1.1">𝑑</ci></apply><apply id="alg1.l17.m1.1.2.3.cmml" xref="alg1.l17.m1.1.2.3"><times id="alg1.l17.m1.1.2.3.1.cmml" xref="alg1.l17.m1.1.2.3.1"></times><ci id="alg1.l17.m1.1.2.3.2.cmml" xref="alg1.l17.m1.1.2.3.2">𝑡</ci><ci id="alg1.l17.m1.1.2.3.3.cmml" xref="alg1.l17.m1.1.2.3.3">ℎ</ci><ci id="alg1.l17.m1.1.2.3.4.cmml" xref="alg1.l17.m1.1.2.3.4">𝑟</ci><ci id="alg1.l17.m1.1.2.3.5.cmml" xref="alg1.l17.m1.1.2.3.5">𝑒</ci><ci id="alg1.l17.m1.1.2.3.6.cmml" xref="alg1.l17.m1.1.2.3.6">𝑠</ci><ci id="alg1.l17.m1.1.2.3.7.cmml" xref="alg1.l17.m1.1.2.3.7">ℎ</ci><ci id="alg1.l17.m1.1.2.3.8.cmml" xref="alg1.l17.m1.1.2.3.8">𝑜</ci><ci id="alg1.l17.m1.1.2.3.9.cmml" xref="alg1.l17.m1.1.2.3.9">𝑙</ci><ci id="alg1.l17.m1.1.2.3.10.cmml" xref="alg1.l17.m1.1.2.3.10">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m1.1c">mean(d)&gt;threshold</annotation></semantics></math> <span id="alg1.l17.3" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg1.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l18.1.1.1" class="ltx_text" style="font-size:80%;">18:</span></span>                  <math id="alg1.l18.m1.1" class="ltx_Math" alttext="appendNeuronTo(w_{t}^{l})" display="inline"><semantics id="alg1.l18.m1.1a"><mrow id="alg1.l18.m1.1.1" xref="alg1.l18.m1.1.1.cmml"><mi id="alg1.l18.m1.1.1.3" xref="alg1.l18.m1.1.1.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.4" xref="alg1.l18.m1.1.1.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2a" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.5" xref="alg1.l18.m1.1.1.5.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2b" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.6" xref="alg1.l18.m1.1.1.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2c" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.7" xref="alg1.l18.m1.1.1.7.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2d" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.8" xref="alg1.l18.m1.1.1.8.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2e" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.9" xref="alg1.l18.m1.1.1.9.cmml">N</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2f" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.10" xref="alg1.l18.m1.1.1.10.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2g" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.11" xref="alg1.l18.m1.1.1.11.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2h" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.12" xref="alg1.l18.m1.1.1.12.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2i" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.13" xref="alg1.l18.m1.1.1.13.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2j" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.14" xref="alg1.l18.m1.1.1.14.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2k" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.15" xref="alg1.l18.m1.1.1.15.cmml">T</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2l" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mi id="alg1.l18.m1.1.1.16" xref="alg1.l18.m1.1.1.16.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.1.1.2m" xref="alg1.l18.m1.1.1.2.cmml">​</mo><mrow id="alg1.l18.m1.1.1.1.1" xref="alg1.l18.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l18.m1.1.1.1.1.2" xref="alg1.l18.m1.1.1.1.1.1.cmml">(</mo><msubsup id="alg1.l18.m1.1.1.1.1.1" xref="alg1.l18.m1.1.1.1.1.1.cmml"><mi id="alg1.l18.m1.1.1.1.1.1.2.2" xref="alg1.l18.m1.1.1.1.1.1.2.2.cmml">w</mi><mi id="alg1.l18.m1.1.1.1.1.1.2.3" xref="alg1.l18.m1.1.1.1.1.1.2.3.cmml">t</mi><mi id="alg1.l18.m1.1.1.1.1.1.3" xref="alg1.l18.m1.1.1.1.1.1.3.cmml">l</mi></msubsup><mo stretchy="false" id="alg1.l18.m1.1.1.1.1.3" xref="alg1.l18.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l18.m1.1b"><apply id="alg1.l18.m1.1.1.cmml" xref="alg1.l18.m1.1.1"><times id="alg1.l18.m1.1.1.2.cmml" xref="alg1.l18.m1.1.1.2"></times><ci id="alg1.l18.m1.1.1.3.cmml" xref="alg1.l18.m1.1.1.3">𝑎</ci><ci id="alg1.l18.m1.1.1.4.cmml" xref="alg1.l18.m1.1.1.4">𝑝</ci><ci id="alg1.l18.m1.1.1.5.cmml" xref="alg1.l18.m1.1.1.5">𝑝</ci><ci id="alg1.l18.m1.1.1.6.cmml" xref="alg1.l18.m1.1.1.6">𝑒</ci><ci id="alg1.l18.m1.1.1.7.cmml" xref="alg1.l18.m1.1.1.7">𝑛</ci><ci id="alg1.l18.m1.1.1.8.cmml" xref="alg1.l18.m1.1.1.8">𝑑</ci><ci id="alg1.l18.m1.1.1.9.cmml" xref="alg1.l18.m1.1.1.9">𝑁</ci><ci id="alg1.l18.m1.1.1.10.cmml" xref="alg1.l18.m1.1.1.10">𝑒</ci><ci id="alg1.l18.m1.1.1.11.cmml" xref="alg1.l18.m1.1.1.11">𝑢</ci><ci id="alg1.l18.m1.1.1.12.cmml" xref="alg1.l18.m1.1.1.12">𝑟</ci><ci id="alg1.l18.m1.1.1.13.cmml" xref="alg1.l18.m1.1.1.13">𝑜</ci><ci id="alg1.l18.m1.1.1.14.cmml" xref="alg1.l18.m1.1.1.14">𝑛</ci><ci id="alg1.l18.m1.1.1.15.cmml" xref="alg1.l18.m1.1.1.15">𝑇</ci><ci id="alg1.l18.m1.1.1.16.cmml" xref="alg1.l18.m1.1.1.16">𝑜</ci><apply id="alg1.l18.m1.1.1.1.1.1.cmml" xref="alg1.l18.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l18.m1.1.1.1.1.1.1.cmml" xref="alg1.l18.m1.1.1.1.1">superscript</csymbol><apply id="alg1.l18.m1.1.1.1.1.1.2.cmml" xref="alg1.l18.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l18.m1.1.1.1.1.1.2.1.cmml" xref="alg1.l18.m1.1.1.1.1">subscript</csymbol><ci id="alg1.l18.m1.1.1.1.1.1.2.2.cmml" xref="alg1.l18.m1.1.1.1.1.1.2.2">𝑤</ci><ci id="alg1.l18.m1.1.1.1.1.1.2.3.cmml" xref="alg1.l18.m1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="alg1.l18.m1.1.1.1.1.1.3.cmml" xref="alg1.l18.m1.1.1.1.1.1.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l18.m1.1c">appendNeuronTo(w_{t}^{l})</annotation></semantics></math>

</div>
<div id="alg1.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l19.1.1.1" class="ltx_text" style="font-size:80%;">19:</span></span>                  <math id="alg1.l19.m1.1" class="ltx_Math" alttext="newNeuron=True" display="inline"><semantics id="alg1.l19.m1.1a"><mrow id="alg1.l19.m1.1.1" xref="alg1.l19.m1.1.1.cmml"><mrow id="alg1.l19.m1.1.1.2" xref="alg1.l19.m1.1.1.2.cmml"><mi id="alg1.l19.m1.1.1.2.2" xref="alg1.l19.m1.1.1.2.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.1.2.1" xref="alg1.l19.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l19.m1.1.1.2.3" xref="alg1.l19.m1.1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.1.2.1a" xref="alg1.l19.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l19.m1.1.1.2.4" xref="alg1.l19.m1.1.1.2.4.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.1.2.1b" xref="alg1.l19.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l19.m1.1.1.2.5" xref="alg1.l19.m1.1.1.2.5.cmml">N</mi><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.1.2.1c" xref="alg1.l19.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l19.m1.1.1.2.6" xref="alg1.l19.m1.1.1.2.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.1.2.1d" xref="alg1.l19.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l19.m1.1.1.2.7" xref="alg1.l19.m1.1.1.2.7.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.1.2.1e" xref="alg1.l19.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l19.m1.1.1.2.8" xref="alg1.l19.m1.1.1.2.8.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.1.2.1f" xref="alg1.l19.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l19.m1.1.1.2.9" xref="alg1.l19.m1.1.1.2.9.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.1.2.1g" xref="alg1.l19.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l19.m1.1.1.2.10" xref="alg1.l19.m1.1.1.2.10.cmml">n</mi></mrow><mo id="alg1.l19.m1.1.1.1" xref="alg1.l19.m1.1.1.1.cmml">=</mo><mrow id="alg1.l19.m1.1.1.3" xref="alg1.l19.m1.1.1.3.cmml"><mi id="alg1.l19.m1.1.1.3.2" xref="alg1.l19.m1.1.1.3.2.cmml">T</mi><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.1.3.1" xref="alg1.l19.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l19.m1.1.1.3.3" xref="alg1.l19.m1.1.1.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.1.3.1a" xref="alg1.l19.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l19.m1.1.1.3.4" xref="alg1.l19.m1.1.1.3.4.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.1.3.1b" xref="alg1.l19.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l19.m1.1.1.3.5" xref="alg1.l19.m1.1.1.3.5.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l19.m1.1b"><apply id="alg1.l19.m1.1.1.cmml" xref="alg1.l19.m1.1.1"><eq id="alg1.l19.m1.1.1.1.cmml" xref="alg1.l19.m1.1.1.1"></eq><apply id="alg1.l19.m1.1.1.2.cmml" xref="alg1.l19.m1.1.1.2"><times id="alg1.l19.m1.1.1.2.1.cmml" xref="alg1.l19.m1.1.1.2.1"></times><ci id="alg1.l19.m1.1.1.2.2.cmml" xref="alg1.l19.m1.1.1.2.2">𝑛</ci><ci id="alg1.l19.m1.1.1.2.3.cmml" xref="alg1.l19.m1.1.1.2.3">𝑒</ci><ci id="alg1.l19.m1.1.1.2.4.cmml" xref="alg1.l19.m1.1.1.2.4">𝑤</ci><ci id="alg1.l19.m1.1.1.2.5.cmml" xref="alg1.l19.m1.1.1.2.5">𝑁</ci><ci id="alg1.l19.m1.1.1.2.6.cmml" xref="alg1.l19.m1.1.1.2.6">𝑒</ci><ci id="alg1.l19.m1.1.1.2.7.cmml" xref="alg1.l19.m1.1.1.2.7">𝑢</ci><ci id="alg1.l19.m1.1.1.2.8.cmml" xref="alg1.l19.m1.1.1.2.8">𝑟</ci><ci id="alg1.l19.m1.1.1.2.9.cmml" xref="alg1.l19.m1.1.1.2.9">𝑜</ci><ci id="alg1.l19.m1.1.1.2.10.cmml" xref="alg1.l19.m1.1.1.2.10">𝑛</ci></apply><apply id="alg1.l19.m1.1.1.3.cmml" xref="alg1.l19.m1.1.1.3"><times id="alg1.l19.m1.1.1.3.1.cmml" xref="alg1.l19.m1.1.1.3.1"></times><ci id="alg1.l19.m1.1.1.3.2.cmml" xref="alg1.l19.m1.1.1.3.2">𝑇</ci><ci id="alg1.l19.m1.1.1.3.3.cmml" xref="alg1.l19.m1.1.1.3.3">𝑟</ci><ci id="alg1.l19.m1.1.1.3.4.cmml" xref="alg1.l19.m1.1.1.3.4">𝑢</ci><ci id="alg1.l19.m1.1.1.3.5.cmml" xref="alg1.l19.m1.1.1.3.5">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l19.m1.1c">newNeuron=True</annotation></semantics></math>

</div>
<div id="alg1.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l20.1.1.1" class="ltx_text" style="font-size:80%;">20:</span></span>              <span id="alg1.l20.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l20.3" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg1.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l21.1.1.1" class="ltx_text" style="font-size:80%;">21:</span></span>         <span id="alg1.l21.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l21.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l22.1.1.1" class="ltx_text" style="font-size:80%;">22:</span></span>         <span id="alg1.l22.2" class="ltx_text ltx_font_bold">if</span> <math id="alg1.l22.m1.1" class="ltx_Math" alttext="newNeuron" display="inline"><semantics id="alg1.l22.m1.1a"><mrow id="alg1.l22.m1.1.1" xref="alg1.l22.m1.1.1.cmml"><mi id="alg1.l22.m1.1.1.2" xref="alg1.l22.m1.1.1.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.1" xref="alg1.l22.m1.1.1.1.cmml">​</mo><mi id="alg1.l22.m1.1.1.3" xref="alg1.l22.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.1a" xref="alg1.l22.m1.1.1.1.cmml">​</mo><mi id="alg1.l22.m1.1.1.4" xref="alg1.l22.m1.1.1.4.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.1b" xref="alg1.l22.m1.1.1.1.cmml">​</mo><mi id="alg1.l22.m1.1.1.5" xref="alg1.l22.m1.1.1.5.cmml">N</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.1c" xref="alg1.l22.m1.1.1.1.cmml">​</mo><mi id="alg1.l22.m1.1.1.6" xref="alg1.l22.m1.1.1.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.1d" xref="alg1.l22.m1.1.1.1.cmml">​</mo><mi id="alg1.l22.m1.1.1.7" xref="alg1.l22.m1.1.1.7.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.1e" xref="alg1.l22.m1.1.1.1.cmml">​</mo><mi id="alg1.l22.m1.1.1.8" xref="alg1.l22.m1.1.1.8.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.1f" xref="alg1.l22.m1.1.1.1.cmml">​</mo><mi id="alg1.l22.m1.1.1.9" xref="alg1.l22.m1.1.1.9.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.1g" xref="alg1.l22.m1.1.1.1.cmml">​</mo><mi id="alg1.l22.m1.1.1.10" xref="alg1.l22.m1.1.1.10.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l22.m1.1b"><apply id="alg1.l22.m1.1.1.cmml" xref="alg1.l22.m1.1.1"><times id="alg1.l22.m1.1.1.1.cmml" xref="alg1.l22.m1.1.1.1"></times><ci id="alg1.l22.m1.1.1.2.cmml" xref="alg1.l22.m1.1.1.2">𝑛</ci><ci id="alg1.l22.m1.1.1.3.cmml" xref="alg1.l22.m1.1.1.3">𝑒</ci><ci id="alg1.l22.m1.1.1.4.cmml" xref="alg1.l22.m1.1.1.4">𝑤</ci><ci id="alg1.l22.m1.1.1.5.cmml" xref="alg1.l22.m1.1.1.5">𝑁</ci><ci id="alg1.l22.m1.1.1.6.cmml" xref="alg1.l22.m1.1.1.6">𝑒</ci><ci id="alg1.l22.m1.1.1.7.cmml" xref="alg1.l22.m1.1.1.7">𝑢</ci><ci id="alg1.l22.m1.1.1.8.cmml" xref="alg1.l22.m1.1.1.8">𝑟</ci><ci id="alg1.l22.m1.1.1.9.cmml" xref="alg1.l22.m1.1.1.9">𝑜</ci><ci id="alg1.l22.m1.1.1.10.cmml" xref="alg1.l22.m1.1.1.10">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l22.m1.1c">newNeuron</annotation></semantics></math> <span id="alg1.l22.3" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg1.l23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l23.1.1.1" class="ltx_text" style="font-size:80%;">23:</span></span>              <span id="alg1.l23.2" class="ltx_text ltx_font_bold">for</span> each client <math id="alg1.l23.m1.3" class="ltx_Math" alttext="k=1,2,\cdots K" display="inline"><semantics id="alg1.l23.m1.3a"><mrow id="alg1.l23.m1.3.3" xref="alg1.l23.m1.3.3.cmml"><mi id="alg1.l23.m1.3.3.3" xref="alg1.l23.m1.3.3.3.cmml">k</mi><mo id="alg1.l23.m1.3.3.2" xref="alg1.l23.m1.3.3.2.cmml">=</mo><mrow id="alg1.l23.m1.3.3.1.1" xref="alg1.l23.m1.3.3.1.2.cmml"><mn id="alg1.l23.m1.1.1" xref="alg1.l23.m1.1.1.cmml">1</mn><mo id="alg1.l23.m1.3.3.1.1.2" xref="alg1.l23.m1.3.3.1.2.cmml">,</mo><mn id="alg1.l23.m1.2.2" xref="alg1.l23.m1.2.2.cmml">2</mn><mo id="alg1.l23.m1.3.3.1.1.3" xref="alg1.l23.m1.3.3.1.2.cmml">,</mo><mrow id="alg1.l23.m1.3.3.1.1.1" xref="alg1.l23.m1.3.3.1.1.1.cmml"><mi mathvariant="normal" id="alg1.l23.m1.3.3.1.1.1.2" xref="alg1.l23.m1.3.3.1.1.1.2.cmml">⋯</mi><mo lspace="0em" rspace="0em" id="alg1.l23.m1.3.3.1.1.1.1" xref="alg1.l23.m1.3.3.1.1.1.1.cmml">​</mo><mi id="alg1.l23.m1.3.3.1.1.1.3" xref="alg1.l23.m1.3.3.1.1.1.3.cmml">K</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l23.m1.3b"><apply id="alg1.l23.m1.3.3.cmml" xref="alg1.l23.m1.3.3"><eq id="alg1.l23.m1.3.3.2.cmml" xref="alg1.l23.m1.3.3.2"></eq><ci id="alg1.l23.m1.3.3.3.cmml" xref="alg1.l23.m1.3.3.3">𝑘</ci><list id="alg1.l23.m1.3.3.1.2.cmml" xref="alg1.l23.m1.3.3.1.1"><cn type="integer" id="alg1.l23.m1.1.1.cmml" xref="alg1.l23.m1.1.1">1</cn><cn type="integer" id="alg1.l23.m1.2.2.cmml" xref="alg1.l23.m1.2.2">2</cn><apply id="alg1.l23.m1.3.3.1.1.1.cmml" xref="alg1.l23.m1.3.3.1.1.1"><times id="alg1.l23.m1.3.3.1.1.1.1.cmml" xref="alg1.l23.m1.3.3.1.1.1.1"></times><ci id="alg1.l23.m1.3.3.1.1.1.2.cmml" xref="alg1.l23.m1.3.3.1.1.1.2">⋯</ci><ci id="alg1.l23.m1.3.3.1.1.1.3.cmml" xref="alg1.l23.m1.3.3.1.1.1.3">𝐾</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l23.m1.3c">k=1,2,\cdots K</annotation></semantics></math> <span id="alg1.l23.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l24" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l24.3.1.1" class="ltx_text" style="font-size:80%;">24:</span></span>                  <math id="alg1.l24.m1.1" class="ltx_Math" alttext="w_{tk}^{l}=w_{t}^{l}" display="inline"><semantics id="alg1.l24.m1.1a"><mrow id="alg1.l24.m1.1.1" xref="alg1.l24.m1.1.1.cmml"><msubsup id="alg1.l24.m1.1.1.2" xref="alg1.l24.m1.1.1.2.cmml"><mi id="alg1.l24.m1.1.1.2.2.2" xref="alg1.l24.m1.1.1.2.2.2.cmml">w</mi><mrow id="alg1.l24.m1.1.1.2.2.3" xref="alg1.l24.m1.1.1.2.2.3.cmml"><mi id="alg1.l24.m1.1.1.2.2.3.2" xref="alg1.l24.m1.1.1.2.2.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.2.2.3.1" xref="alg1.l24.m1.1.1.2.2.3.1.cmml">​</mo><mi id="alg1.l24.m1.1.1.2.2.3.3" xref="alg1.l24.m1.1.1.2.2.3.3.cmml">k</mi></mrow><mi id="alg1.l24.m1.1.1.2.3" xref="alg1.l24.m1.1.1.2.3.cmml">l</mi></msubsup><mo id="alg1.l24.m1.1.1.1" xref="alg1.l24.m1.1.1.1.cmml">=</mo><msubsup id="alg1.l24.m1.1.1.3" xref="alg1.l24.m1.1.1.3.cmml"><mi id="alg1.l24.m1.1.1.3.2.2" xref="alg1.l24.m1.1.1.3.2.2.cmml">w</mi><mi id="alg1.l24.m1.1.1.3.2.3" xref="alg1.l24.m1.1.1.3.2.3.cmml">t</mi><mi id="alg1.l24.m1.1.1.3.3" xref="alg1.l24.m1.1.1.3.3.cmml">l</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="alg1.l24.m1.1b"><apply id="alg1.l24.m1.1.1.cmml" xref="alg1.l24.m1.1.1"><eq id="alg1.l24.m1.1.1.1.cmml" xref="alg1.l24.m1.1.1.1"></eq><apply id="alg1.l24.m1.1.1.2.cmml" xref="alg1.l24.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l24.m1.1.1.2.1.cmml" xref="alg1.l24.m1.1.1.2">superscript</csymbol><apply id="alg1.l24.m1.1.1.2.2.cmml" xref="alg1.l24.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l24.m1.1.1.2.2.1.cmml" xref="alg1.l24.m1.1.1.2">subscript</csymbol><ci id="alg1.l24.m1.1.1.2.2.2.cmml" xref="alg1.l24.m1.1.1.2.2.2">𝑤</ci><apply id="alg1.l24.m1.1.1.2.2.3.cmml" xref="alg1.l24.m1.1.1.2.2.3"><times id="alg1.l24.m1.1.1.2.2.3.1.cmml" xref="alg1.l24.m1.1.1.2.2.3.1"></times><ci id="alg1.l24.m1.1.1.2.2.3.2.cmml" xref="alg1.l24.m1.1.1.2.2.3.2">𝑡</ci><ci id="alg1.l24.m1.1.1.2.2.3.3.cmml" xref="alg1.l24.m1.1.1.2.2.3.3">𝑘</ci></apply></apply><ci id="alg1.l24.m1.1.1.2.3.cmml" xref="alg1.l24.m1.1.1.2.3">𝑙</ci></apply><apply id="alg1.l24.m1.1.1.3.cmml" xref="alg1.l24.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l24.m1.1.1.3.1.cmml" xref="alg1.l24.m1.1.1.3">superscript</csymbol><apply id="alg1.l24.m1.1.1.3.2.cmml" xref="alg1.l24.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l24.m1.1.1.3.2.1.cmml" xref="alg1.l24.m1.1.1.3">subscript</csymbol><ci id="alg1.l24.m1.1.1.3.2.2.cmml" xref="alg1.l24.m1.1.1.3.2.2">𝑤</ci><ci id="alg1.l24.m1.1.1.3.2.3.cmml" xref="alg1.l24.m1.1.1.3.2.3">𝑡</ci></apply><ci id="alg1.l24.m1.1.1.3.3.cmml" xref="alg1.l24.m1.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l24.m1.1c">w_{tk}^{l}=w_{t}^{l}</annotation></semantics></math>
<span id="alg1.l24.2" class="ltx_text" style="float:right;"><math id="alg1.l24.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l24.1.m1.1a"><mo id="alg1.l24.1.m1.1.1" xref="alg1.l24.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l24.1.m1.1b"><ci id="alg1.l24.1.m1.1.1.cmml" xref="alg1.l24.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l24.1.m1.1c">\triangleright</annotation></semantics></math> Freeze layers <math id="alg1.l24.2.m2.1" class="ltx_Math" alttext="l" display="inline"><semantics id="alg1.l24.2.m2.1a"><mi id="alg1.l24.2.m2.1.1" xref="alg1.l24.2.m2.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="alg1.l24.2.m2.1b"><ci id="alg1.l24.2.m2.1.1.cmml" xref="alg1.l24.2.m2.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l24.2.m2.1c">l</annotation></semantics></math> and below
</span>
</div>
<div id="alg1.l25" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l25.1.1.1" class="ltx_text" style="font-size:80%;">25:</span></span>                  <math id="alg1.l25.m1.1" class="ltx_Math" alttext="w_{tk}^{l}\leftarrow" display="inline"><semantics id="alg1.l25.m1.1a"><mrow id="alg1.l25.m1.1.1" xref="alg1.l25.m1.1.1.cmml"><msubsup id="alg1.l25.m1.1.1.2" xref="alg1.l25.m1.1.1.2.cmml"><mi id="alg1.l25.m1.1.1.2.2.2" xref="alg1.l25.m1.1.1.2.2.2.cmml">w</mi><mrow id="alg1.l25.m1.1.1.2.2.3" xref="alg1.l25.m1.1.1.2.2.3.cmml"><mi id="alg1.l25.m1.1.1.2.2.3.2" xref="alg1.l25.m1.1.1.2.2.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l25.m1.1.1.2.2.3.1" xref="alg1.l25.m1.1.1.2.2.3.1.cmml">​</mo><mi id="alg1.l25.m1.1.1.2.2.3.3" xref="alg1.l25.m1.1.1.2.2.3.3.cmml">k</mi></mrow><mi id="alg1.l25.m1.1.1.2.3" xref="alg1.l25.m1.1.1.2.3.cmml">l</mi></msubsup><mo stretchy="false" id="alg1.l25.m1.1.1.1" xref="alg1.l25.m1.1.1.1.cmml">←</mo><mi id="alg1.l25.m1.1.1.3" xref="alg1.l25.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l25.m1.1b"><apply id="alg1.l25.m1.1.1.cmml" xref="alg1.l25.m1.1.1"><ci id="alg1.l25.m1.1.1.1.cmml" xref="alg1.l25.m1.1.1.1">←</ci><apply id="alg1.l25.m1.1.1.2.cmml" xref="alg1.l25.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l25.m1.1.1.2.1.cmml" xref="alg1.l25.m1.1.1.2">superscript</csymbol><apply id="alg1.l25.m1.1.1.2.2.cmml" xref="alg1.l25.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l25.m1.1.1.2.2.1.cmml" xref="alg1.l25.m1.1.1.2">subscript</csymbol><ci id="alg1.l25.m1.1.1.2.2.2.cmml" xref="alg1.l25.m1.1.1.2.2.2">𝑤</ci><apply id="alg1.l25.m1.1.1.2.2.3.cmml" xref="alg1.l25.m1.1.1.2.2.3"><times id="alg1.l25.m1.1.1.2.2.3.1.cmml" xref="alg1.l25.m1.1.1.2.2.3.1"></times><ci id="alg1.l25.m1.1.1.2.2.3.2.cmml" xref="alg1.l25.m1.1.1.2.2.3.2">𝑡</ci><ci id="alg1.l25.m1.1.1.2.2.3.3.cmml" xref="alg1.l25.m1.1.1.2.2.3.3">𝑘</ci></apply></apply><ci id="alg1.l25.m1.1.1.2.3.cmml" xref="alg1.l25.m1.1.1.2.3">𝑙</ci></apply><csymbol cd="latexml" id="alg1.l25.m1.1.1.3.cmml" xref="alg1.l25.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l25.m1.1c">w_{tk}^{l}\leftarrow</annotation></semantics></math> k.ClientUpdate_start(<math id="alg1.l25.m2.1" class="ltx_math_unparsed" alttext="w_{tk}^{l+1},....,w_{tk}^{L}" display="inline"><semantics id="alg1.l25.m2.1a"><mrow id="alg1.l25.m2.1b"><msubsup id="alg1.l25.m2.1.2"><mi id="alg1.l25.m2.1.2.2.2">w</mi><mrow id="alg1.l25.m2.1.2.2.3"><mi id="alg1.l25.m2.1.2.2.3.2">t</mi><mo lspace="0em" rspace="0em" id="alg1.l25.m2.1.2.2.3.1">​</mo><mi id="alg1.l25.m2.1.2.2.3.3">k</mi></mrow><mrow id="alg1.l25.m2.1.2.3"><mi id="alg1.l25.m2.1.2.3.2">l</mi><mo id="alg1.l25.m2.1.2.3.1">+</mo><mn id="alg1.l25.m2.1.2.3.3">1</mn></mrow></msubsup><mo id="alg1.l25.m2.1.3">,</mo><mi mathvariant="normal" id="alg1.l25.m2.1.1">…</mi><mo lspace="0em" rspace="0.167em" id="alg1.l25.m2.1.4">.</mo><mo id="alg1.l25.m2.1.5">,</mo><msubsup id="alg1.l25.m2.1.6"><mi id="alg1.l25.m2.1.6.2.2">w</mi><mrow id="alg1.l25.m2.1.6.2.3"><mi id="alg1.l25.m2.1.6.2.3.2">t</mi><mo lspace="0em" rspace="0em" id="alg1.l25.m2.1.6.2.3.1">​</mo><mi id="alg1.l25.m2.1.6.2.3.3">k</mi></mrow><mi id="alg1.l25.m2.1.6.3">L</mi></msubsup></mrow><annotation encoding="application/x-tex" id="alg1.l25.m2.1c">w_{tk}^{l+1},....,w_{tk}^{L}</annotation></semantics></math>)

</div>
<div id="alg1.l26" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l26.1.1.1" class="ltx_text" style="font-size:80%;">26:</span></span>                  <math id="alg1.l26.m1.1" class="ltx_Math" alttext="w_{t}\leftarrow" display="inline"><semantics id="alg1.l26.m1.1a"><mrow id="alg1.l26.m1.1.1" xref="alg1.l26.m1.1.1.cmml"><msub id="alg1.l26.m1.1.1.2" xref="alg1.l26.m1.1.1.2.cmml"><mi id="alg1.l26.m1.1.1.2.2" xref="alg1.l26.m1.1.1.2.2.cmml">w</mi><mi id="alg1.l26.m1.1.1.2.3" xref="alg1.l26.m1.1.1.2.3.cmml">t</mi></msub><mo stretchy="false" id="alg1.l26.m1.1.1.1" xref="alg1.l26.m1.1.1.1.cmml">←</mo><mi id="alg1.l26.m1.1.1.3" xref="alg1.l26.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l26.m1.1b"><apply id="alg1.l26.m1.1.1.cmml" xref="alg1.l26.m1.1.1"><ci id="alg1.l26.m1.1.1.1.cmml" xref="alg1.l26.m1.1.1.1">←</ci><apply id="alg1.l26.m1.1.1.2.cmml" xref="alg1.l26.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l26.m1.1.1.2.1.cmml" xref="alg1.l26.m1.1.1.2">subscript</csymbol><ci id="alg1.l26.m1.1.1.2.2.cmml" xref="alg1.l26.m1.1.1.2.2">𝑤</ci><ci id="alg1.l26.m1.1.1.2.3.cmml" xref="alg1.l26.m1.1.1.2.3">𝑡</ci></apply><csymbol cd="latexml" id="alg1.l26.m1.1.1.3.cmml" xref="alg1.l26.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l26.m1.1c">w_{t}\leftarrow</annotation></semantics></math> <math id="alg1.l26.m2.1" class="ltx_Math" alttext="\sum_{k=1}^{K}" display="inline"><semantics id="alg1.l26.m2.1a"><msubsup id="alg1.l26.m2.1.1" xref="alg1.l26.m2.1.1.cmml"><mo id="alg1.l26.m2.1.1.2.2" xref="alg1.l26.m2.1.1.2.2.cmml">∑</mo><mrow id="alg1.l26.m2.1.1.2.3" xref="alg1.l26.m2.1.1.2.3.cmml"><mi id="alg1.l26.m2.1.1.2.3.2" xref="alg1.l26.m2.1.1.2.3.2.cmml">k</mi><mo id="alg1.l26.m2.1.1.2.3.1" xref="alg1.l26.m2.1.1.2.3.1.cmml">=</mo><mn id="alg1.l26.m2.1.1.2.3.3" xref="alg1.l26.m2.1.1.2.3.3.cmml">1</mn></mrow><mi id="alg1.l26.m2.1.1.3" xref="alg1.l26.m2.1.1.3.cmml">K</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l26.m2.1b"><apply id="alg1.l26.m2.1.1.cmml" xref="alg1.l26.m2.1.1"><csymbol cd="ambiguous" id="alg1.l26.m2.1.1.1.cmml" xref="alg1.l26.m2.1.1">superscript</csymbol><apply id="alg1.l26.m2.1.1.2.cmml" xref="alg1.l26.m2.1.1"><csymbol cd="ambiguous" id="alg1.l26.m2.1.1.2.1.cmml" xref="alg1.l26.m2.1.1">subscript</csymbol><sum id="alg1.l26.m2.1.1.2.2.cmml" xref="alg1.l26.m2.1.1.2.2"></sum><apply id="alg1.l26.m2.1.1.2.3.cmml" xref="alg1.l26.m2.1.1.2.3"><eq id="alg1.l26.m2.1.1.2.3.1.cmml" xref="alg1.l26.m2.1.1.2.3.1"></eq><ci id="alg1.l26.m2.1.1.2.3.2.cmml" xref="alg1.l26.m2.1.1.2.3.2">𝑘</ci><cn type="integer" id="alg1.l26.m2.1.1.2.3.3.cmml" xref="alg1.l26.m2.1.1.2.3.3">1</cn></apply></apply><ci id="alg1.l26.m2.1.1.3.cmml" xref="alg1.l26.m2.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l26.m2.1c">\sum_{k=1}^{K}</annotation></semantics></math> <math id="alg1.l26.m3.1" class="ltx_Math" alttext="\dfrac{n_{k}}{n}" display="inline"><semantics id="alg1.l26.m3.1a"><mstyle displaystyle="true" id="alg1.l26.m3.1.1" xref="alg1.l26.m3.1.1.cmml"><mfrac id="alg1.l26.m3.1.1a" xref="alg1.l26.m3.1.1.cmml"><msub id="alg1.l26.m3.1.1.2" xref="alg1.l26.m3.1.1.2.cmml"><mi id="alg1.l26.m3.1.1.2.2" xref="alg1.l26.m3.1.1.2.2.cmml">n</mi><mi id="alg1.l26.m3.1.1.2.3" xref="alg1.l26.m3.1.1.2.3.cmml">k</mi></msub><mi id="alg1.l26.m3.1.1.3" xref="alg1.l26.m3.1.1.3.cmml">n</mi></mfrac></mstyle><annotation-xml encoding="MathML-Content" id="alg1.l26.m3.1b"><apply id="alg1.l26.m3.1.1.cmml" xref="alg1.l26.m3.1.1"><divide id="alg1.l26.m3.1.1.1.cmml" xref="alg1.l26.m3.1.1"></divide><apply id="alg1.l26.m3.1.1.2.cmml" xref="alg1.l26.m3.1.1.2"><csymbol cd="ambiguous" id="alg1.l26.m3.1.1.2.1.cmml" xref="alg1.l26.m3.1.1.2">subscript</csymbol><ci id="alg1.l26.m3.1.1.2.2.cmml" xref="alg1.l26.m3.1.1.2.2">𝑛</ci><ci id="alg1.l26.m3.1.1.2.3.cmml" xref="alg1.l26.m3.1.1.2.3">𝑘</ci></apply><ci id="alg1.l26.m3.1.1.3.cmml" xref="alg1.l26.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l26.m3.1c">\dfrac{n_{k}}{n}</annotation></semantics></math> <math id="alg1.l26.m4.1" class="ltx_Math" alttext="w_{tk}^{l}" display="inline"><semantics id="alg1.l26.m4.1a"><msubsup id="alg1.l26.m4.1.1" xref="alg1.l26.m4.1.1.cmml"><mi id="alg1.l26.m4.1.1.2.2" xref="alg1.l26.m4.1.1.2.2.cmml">w</mi><mrow id="alg1.l26.m4.1.1.2.3" xref="alg1.l26.m4.1.1.2.3.cmml"><mi id="alg1.l26.m4.1.1.2.3.2" xref="alg1.l26.m4.1.1.2.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l26.m4.1.1.2.3.1" xref="alg1.l26.m4.1.1.2.3.1.cmml">​</mo><mi id="alg1.l26.m4.1.1.2.3.3" xref="alg1.l26.m4.1.1.2.3.3.cmml">k</mi></mrow><mi id="alg1.l26.m4.1.1.3" xref="alg1.l26.m4.1.1.3.cmml">l</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l26.m4.1b"><apply id="alg1.l26.m4.1.1.cmml" xref="alg1.l26.m4.1.1"><csymbol cd="ambiguous" id="alg1.l26.m4.1.1.1.cmml" xref="alg1.l26.m4.1.1">superscript</csymbol><apply id="alg1.l26.m4.1.1.2.cmml" xref="alg1.l26.m4.1.1"><csymbol cd="ambiguous" id="alg1.l26.m4.1.1.2.1.cmml" xref="alg1.l26.m4.1.1">subscript</csymbol><ci id="alg1.l26.m4.1.1.2.2.cmml" xref="alg1.l26.m4.1.1.2.2">𝑤</ci><apply id="alg1.l26.m4.1.1.2.3.cmml" xref="alg1.l26.m4.1.1.2.3"><times id="alg1.l26.m4.1.1.2.3.1.cmml" xref="alg1.l26.m4.1.1.2.3.1"></times><ci id="alg1.l26.m4.1.1.2.3.2.cmml" xref="alg1.l26.m4.1.1.2.3.2">𝑡</ci><ci id="alg1.l26.m4.1.1.2.3.3.cmml" xref="alg1.l26.m4.1.1.2.3.3">𝑘</ci></apply></apply><ci id="alg1.l26.m4.1.1.3.cmml" xref="alg1.l26.m4.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l26.m4.1c">w_{tk}^{l}</annotation></semantics></math>

</div>
<div id="alg1.l27" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l27.1.1.1" class="ltx_text" style="font-size:80%;">27:</span></span>              <span id="alg1.l27.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l27.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l28" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l28.1.1.1" class="ltx_text" style="font-size:80%;">28:</span></span>         <span id="alg1.l28.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l28.3" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg1.l29" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l29.1.1.1" class="ltx_text" style="font-size:80%;">29:</span></span>     <span id="alg1.l29.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l29.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l30" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l30.1.1.1" class="ltx_text" style="font-size:80%;">30:</span></span>     <math id="alg1.l30.m1.1" class="ltx_Math" alttext="w_{t+1}\leftarrow" display="inline"><semantics id="alg1.l30.m1.1a"><mrow id="alg1.l30.m1.1.1" xref="alg1.l30.m1.1.1.cmml"><msub id="alg1.l30.m1.1.1.2" xref="alg1.l30.m1.1.1.2.cmml"><mi id="alg1.l30.m1.1.1.2.2" xref="alg1.l30.m1.1.1.2.2.cmml">w</mi><mrow id="alg1.l30.m1.1.1.2.3" xref="alg1.l30.m1.1.1.2.3.cmml"><mi id="alg1.l30.m1.1.1.2.3.2" xref="alg1.l30.m1.1.1.2.3.2.cmml">t</mi><mo id="alg1.l30.m1.1.1.2.3.1" xref="alg1.l30.m1.1.1.2.3.1.cmml">+</mo><mn id="alg1.l30.m1.1.1.2.3.3" xref="alg1.l30.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="alg1.l30.m1.1.1.1" xref="alg1.l30.m1.1.1.1.cmml">←</mo><mi id="alg1.l30.m1.1.1.3" xref="alg1.l30.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l30.m1.1b"><apply id="alg1.l30.m1.1.1.cmml" xref="alg1.l30.m1.1.1"><ci id="alg1.l30.m1.1.1.1.cmml" xref="alg1.l30.m1.1.1.1">←</ci><apply id="alg1.l30.m1.1.1.2.cmml" xref="alg1.l30.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l30.m1.1.1.2.1.cmml" xref="alg1.l30.m1.1.1.2">subscript</csymbol><ci id="alg1.l30.m1.1.1.2.2.cmml" xref="alg1.l30.m1.1.1.2.2">𝑤</ci><apply id="alg1.l30.m1.1.1.2.3.cmml" xref="alg1.l30.m1.1.1.2.3"><plus id="alg1.l30.m1.1.1.2.3.1.cmml" xref="alg1.l30.m1.1.1.2.3.1"></plus><ci id="alg1.l30.m1.1.1.2.3.2.cmml" xref="alg1.l30.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg1.l30.m1.1.1.2.3.3.cmml" xref="alg1.l30.m1.1.1.2.3.3">1</cn></apply></apply><csymbol cd="latexml" id="alg1.l30.m1.1.1.3.cmml" xref="alg1.l30.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l30.m1.1c">w_{t+1}\leftarrow</annotation></semantics></math> <math id="alg1.l30.m2.1" class="ltx_Math" alttext="w_{t}" display="inline"><semantics id="alg1.l30.m2.1a"><msub id="alg1.l30.m2.1.1" xref="alg1.l30.m2.1.1.cmml"><mi id="alg1.l30.m2.1.1.2" xref="alg1.l30.m2.1.1.2.cmml">w</mi><mi id="alg1.l30.m2.1.1.3" xref="alg1.l30.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l30.m2.1b"><apply id="alg1.l30.m2.1.1.cmml" xref="alg1.l30.m2.1.1"><csymbol cd="ambiguous" id="alg1.l30.m2.1.1.1.cmml" xref="alg1.l30.m2.1.1">subscript</csymbol><ci id="alg1.l30.m2.1.1.2.cmml" xref="alg1.l30.m2.1.1.2">𝑤</ci><ci id="alg1.l30.m2.1.1.3.cmml" xref="alg1.l30.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l30.m2.1c">w_{t}</annotation></semantics></math>

</div>
<div id="alg1.l31" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l31.1.1.1" class="ltx_text" style="font-size:80%;">31:</span></span><span id="alg1.l31.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l31.3" class="ltx_text ltx_font_bold">for</span>
</div>
</div>
</figure>
<div id="S3.p5" class="ltx_para">
<p id="S3.p5.2" class="ltx_p">Then, the mean (<math id="S3.p5.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S3.p5.1.m1.1a"><mi id="S3.p5.1.m1.1.1" xref="S3.p5.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S3.p5.1.m1.1b"><ci id="S3.p5.1.m1.1.1.cmml" xref="S3.p5.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.1.m1.1c">\mu</annotation></semantics></math>) and standard deviation (<math id="S3.p5.2.m2.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S3.p5.2.m2.1a"><mi id="S3.p5.2.m2.1.1" xref="S3.p5.2.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S3.p5.2.m2.1b"><ci id="S3.p5.2.m2.1.1.cmml" xref="S3.p5.2.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.2.m2.1c">\sigma</annotation></semantics></math>) of the euclidean distance for every neuron are calculated. The average provides information about the direction taken by most clients. With the normal distribution property, the values less than one standard deviation away from the mean holds for 68.27% of the set, while two standard deviations holds for 95.45% and three standard deviations for 99.73%. Thus, by using this distribution property, we define a threshold as below:

<br class="ltx_break"></p>
</div>
<div id="S3.p6" class="ltx_para">
<p id="S3.p6.1" class="ltx_p"><math id="S3.p6.1.m1.1" class="ltx_Math" alttext="threshold=3*\sigma+\mu+penaltyFunc(comRound)" display="inline"><semantics id="S3.p6.1.m1.1a"><mrow id="S3.p6.1.m1.1.1" xref="S3.p6.1.m1.1.1.cmml"><mrow id="S3.p6.1.m1.1.1.3" xref="S3.p6.1.m1.1.1.3.cmml"><mi id="S3.p6.1.m1.1.1.3.2" xref="S3.p6.1.m1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.3.1" xref="S3.p6.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.3.3" xref="S3.p6.1.m1.1.1.3.3.cmml">h</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.3.1a" xref="S3.p6.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.3.4" xref="S3.p6.1.m1.1.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.3.1b" xref="S3.p6.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.3.5" xref="S3.p6.1.m1.1.1.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.3.1c" xref="S3.p6.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.3.6" xref="S3.p6.1.m1.1.1.3.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.3.1d" xref="S3.p6.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.3.7" xref="S3.p6.1.m1.1.1.3.7.cmml">h</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.3.1e" xref="S3.p6.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.3.8" xref="S3.p6.1.m1.1.1.3.8.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.3.1f" xref="S3.p6.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.3.9" xref="S3.p6.1.m1.1.1.3.9.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.3.1g" xref="S3.p6.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.3.10" xref="S3.p6.1.m1.1.1.3.10.cmml">d</mi></mrow><mo id="S3.p6.1.m1.1.1.2" xref="S3.p6.1.m1.1.1.2.cmml">=</mo><mrow id="S3.p6.1.m1.1.1.1" xref="S3.p6.1.m1.1.1.1.cmml"><mrow id="S3.p6.1.m1.1.1.1.3" xref="S3.p6.1.m1.1.1.1.3.cmml"><mn id="S3.p6.1.m1.1.1.1.3.2" xref="S3.p6.1.m1.1.1.1.3.2.cmml">3</mn><mo lspace="0.222em" rspace="0.222em" id="S3.p6.1.m1.1.1.1.3.1" xref="S3.p6.1.m1.1.1.1.3.1.cmml">∗</mo><mi id="S3.p6.1.m1.1.1.1.3.3" xref="S3.p6.1.m1.1.1.1.3.3.cmml">σ</mi></mrow><mo id="S3.p6.1.m1.1.1.1.2" xref="S3.p6.1.m1.1.1.1.2.cmml">+</mo><mi id="S3.p6.1.m1.1.1.1.4" xref="S3.p6.1.m1.1.1.1.4.cmml">μ</mi><mo id="S3.p6.1.m1.1.1.1.2a" xref="S3.p6.1.m1.1.1.1.2.cmml">+</mo><mrow id="S3.p6.1.m1.1.1.1.1" xref="S3.p6.1.m1.1.1.1.1.cmml"><mi id="S3.p6.1.m1.1.1.1.1.3" xref="S3.p6.1.m1.1.1.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.2" xref="S3.p6.1.m1.1.1.1.1.2.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.4" xref="S3.p6.1.m1.1.1.1.1.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.2a" xref="S3.p6.1.m1.1.1.1.1.2.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.5" xref="S3.p6.1.m1.1.1.1.1.5.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.2b" xref="S3.p6.1.m1.1.1.1.1.2.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.6" xref="S3.p6.1.m1.1.1.1.1.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.2c" xref="S3.p6.1.m1.1.1.1.1.2.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.7" xref="S3.p6.1.m1.1.1.1.1.7.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.2d" xref="S3.p6.1.m1.1.1.1.1.2.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.8" xref="S3.p6.1.m1.1.1.1.1.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.2e" xref="S3.p6.1.m1.1.1.1.1.2.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.9" xref="S3.p6.1.m1.1.1.1.1.9.cmml">y</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.2f" xref="S3.p6.1.m1.1.1.1.1.2.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.10" xref="S3.p6.1.m1.1.1.1.1.10.cmml">F</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.2g" xref="S3.p6.1.m1.1.1.1.1.2.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.11" xref="S3.p6.1.m1.1.1.1.1.11.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.2h" xref="S3.p6.1.m1.1.1.1.1.2.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.12" xref="S3.p6.1.m1.1.1.1.1.12.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.2i" xref="S3.p6.1.m1.1.1.1.1.2.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.13" xref="S3.p6.1.m1.1.1.1.1.13.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.2j" xref="S3.p6.1.m1.1.1.1.1.2.cmml">​</mo><mrow id="S3.p6.1.m1.1.1.1.1.1.1" xref="S3.p6.1.m1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.p6.1.m1.1.1.1.1.1.1.2" xref="S3.p6.1.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.p6.1.m1.1.1.1.1.1.1.1" xref="S3.p6.1.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.p6.1.m1.1.1.1.1.1.1.1.2" xref="S3.p6.1.m1.1.1.1.1.1.1.1.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.1.1.1.1" xref="S3.p6.1.m1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.1.1.1.3" xref="S3.p6.1.m1.1.1.1.1.1.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.1.1.1.1a" xref="S3.p6.1.m1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.1.1.1.4" xref="S3.p6.1.m1.1.1.1.1.1.1.1.4.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.1.1.1.1b" xref="S3.p6.1.m1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.1.1.1.5" xref="S3.p6.1.m1.1.1.1.1.1.1.1.5.cmml">R</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.1.1.1.1c" xref="S3.p6.1.m1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.1.1.1.6" xref="S3.p6.1.m1.1.1.1.1.1.1.1.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.1.1.1.1d" xref="S3.p6.1.m1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.1.1.1.7" xref="S3.p6.1.m1.1.1.1.1.1.1.1.7.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.1.1.1.1e" xref="S3.p6.1.m1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.1.1.1.8" xref="S3.p6.1.m1.1.1.1.1.1.1.1.8.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.p6.1.m1.1.1.1.1.1.1.1.1f" xref="S3.p6.1.m1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.p6.1.m1.1.1.1.1.1.1.1.9" xref="S3.p6.1.m1.1.1.1.1.1.1.1.9.cmml">d</mi></mrow><mo stretchy="false" id="S3.p6.1.m1.1.1.1.1.1.1.3" xref="S3.p6.1.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p6.1.m1.1b"><apply id="S3.p6.1.m1.1.1.cmml" xref="S3.p6.1.m1.1.1"><eq id="S3.p6.1.m1.1.1.2.cmml" xref="S3.p6.1.m1.1.1.2"></eq><apply id="S3.p6.1.m1.1.1.3.cmml" xref="S3.p6.1.m1.1.1.3"><times id="S3.p6.1.m1.1.1.3.1.cmml" xref="S3.p6.1.m1.1.1.3.1"></times><ci id="S3.p6.1.m1.1.1.3.2.cmml" xref="S3.p6.1.m1.1.1.3.2">𝑡</ci><ci id="S3.p6.1.m1.1.1.3.3.cmml" xref="S3.p6.1.m1.1.1.3.3">ℎ</ci><ci id="S3.p6.1.m1.1.1.3.4.cmml" xref="S3.p6.1.m1.1.1.3.4">𝑟</ci><ci id="S3.p6.1.m1.1.1.3.5.cmml" xref="S3.p6.1.m1.1.1.3.5">𝑒</ci><ci id="S3.p6.1.m1.1.1.3.6.cmml" xref="S3.p6.1.m1.1.1.3.6">𝑠</ci><ci id="S3.p6.1.m1.1.1.3.7.cmml" xref="S3.p6.1.m1.1.1.3.7">ℎ</ci><ci id="S3.p6.1.m1.1.1.3.8.cmml" xref="S3.p6.1.m1.1.1.3.8">𝑜</ci><ci id="S3.p6.1.m1.1.1.3.9.cmml" xref="S3.p6.1.m1.1.1.3.9">𝑙</ci><ci id="S3.p6.1.m1.1.1.3.10.cmml" xref="S3.p6.1.m1.1.1.3.10">𝑑</ci></apply><apply id="S3.p6.1.m1.1.1.1.cmml" xref="S3.p6.1.m1.1.1.1"><plus id="S3.p6.1.m1.1.1.1.2.cmml" xref="S3.p6.1.m1.1.1.1.2"></plus><apply id="S3.p6.1.m1.1.1.1.3.cmml" xref="S3.p6.1.m1.1.1.1.3"><times id="S3.p6.1.m1.1.1.1.3.1.cmml" xref="S3.p6.1.m1.1.1.1.3.1"></times><cn type="integer" id="S3.p6.1.m1.1.1.1.3.2.cmml" xref="S3.p6.1.m1.1.1.1.3.2">3</cn><ci id="S3.p6.1.m1.1.1.1.3.3.cmml" xref="S3.p6.1.m1.1.1.1.3.3">𝜎</ci></apply><ci id="S3.p6.1.m1.1.1.1.4.cmml" xref="S3.p6.1.m1.1.1.1.4">𝜇</ci><apply id="S3.p6.1.m1.1.1.1.1.cmml" xref="S3.p6.1.m1.1.1.1.1"><times id="S3.p6.1.m1.1.1.1.1.2.cmml" xref="S3.p6.1.m1.1.1.1.1.2"></times><ci id="S3.p6.1.m1.1.1.1.1.3.cmml" xref="S3.p6.1.m1.1.1.1.1.3">𝑝</ci><ci id="S3.p6.1.m1.1.1.1.1.4.cmml" xref="S3.p6.1.m1.1.1.1.1.4">𝑒</ci><ci id="S3.p6.1.m1.1.1.1.1.5.cmml" xref="S3.p6.1.m1.1.1.1.1.5">𝑛</ci><ci id="S3.p6.1.m1.1.1.1.1.6.cmml" xref="S3.p6.1.m1.1.1.1.1.6">𝑎</ci><ci id="S3.p6.1.m1.1.1.1.1.7.cmml" xref="S3.p6.1.m1.1.1.1.1.7">𝑙</ci><ci id="S3.p6.1.m1.1.1.1.1.8.cmml" xref="S3.p6.1.m1.1.1.1.1.8">𝑡</ci><ci id="S3.p6.1.m1.1.1.1.1.9.cmml" xref="S3.p6.1.m1.1.1.1.1.9">𝑦</ci><ci id="S3.p6.1.m1.1.1.1.1.10.cmml" xref="S3.p6.1.m1.1.1.1.1.10">𝐹</ci><ci id="S3.p6.1.m1.1.1.1.1.11.cmml" xref="S3.p6.1.m1.1.1.1.1.11">𝑢</ci><ci id="S3.p6.1.m1.1.1.1.1.12.cmml" xref="S3.p6.1.m1.1.1.1.1.12">𝑛</ci><ci id="S3.p6.1.m1.1.1.1.1.13.cmml" xref="S3.p6.1.m1.1.1.1.1.13">𝑐</ci><apply id="S3.p6.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.p6.1.m1.1.1.1.1.1.1"><times id="S3.p6.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.p6.1.m1.1.1.1.1.1.1.1.1"></times><ci id="S3.p6.1.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.p6.1.m1.1.1.1.1.1.1.1.2">𝑐</ci><ci id="S3.p6.1.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.p6.1.m1.1.1.1.1.1.1.1.3">𝑜</ci><ci id="S3.p6.1.m1.1.1.1.1.1.1.1.4.cmml" xref="S3.p6.1.m1.1.1.1.1.1.1.1.4">𝑚</ci><ci id="S3.p6.1.m1.1.1.1.1.1.1.1.5.cmml" xref="S3.p6.1.m1.1.1.1.1.1.1.1.5">𝑅</ci><ci id="S3.p6.1.m1.1.1.1.1.1.1.1.6.cmml" xref="S3.p6.1.m1.1.1.1.1.1.1.1.6">𝑜</ci><ci id="S3.p6.1.m1.1.1.1.1.1.1.1.7.cmml" xref="S3.p6.1.m1.1.1.1.1.1.1.1.7">𝑢</ci><ci id="S3.p6.1.m1.1.1.1.1.1.1.1.8.cmml" xref="S3.p6.1.m1.1.1.1.1.1.1.1.8">𝑛</ci><ci id="S3.p6.1.m1.1.1.1.1.1.1.1.9.cmml" xref="S3.p6.1.m1.1.1.1.1.1.1.1.9">𝑑</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.1.m1.1c">threshold=3*\sigma+\mu+penaltyFunc(comRound)</annotation></semantics></math>

<br class="ltx_break"></p>
</div>
<div id="S3.p7" class="ltx_para">
<p id="S3.p7.1" class="ltx_p">A penalty function has also been implemented to raise the threshold as training continues to prevent the never-ending addition of new neurons. If a neuron in any of the clients holds an individual distance above the threshold, it is then added to the server model. The process is performed layer-wise. At each communication round, it is performed on the first layer. Then the first layer is updated and frozen at the client-side. The model is then retrained on the client-side (all already treated layers frozen) to allow the next layers to adjust and adapt to any newly added neuron weights. In this stage, the client model only needs to send back unfrozen layers of the model to reduce communication overhead.</p>
</div>
<div id="S3.p8" class="ltx_para">
<p id="S3.p8.3" class="ltx_p">If we consider all layers of equal size, the average communication overhead with respect to FedAvg is thus <math id="S3.p8.1.m1.1" class="ltx_Math" alttext="\frac{(L-1)}{2}*FedAvg_{cost}" display="inline"><semantics id="S3.p8.1.m1.1a"><mrow id="S3.p8.1.m1.1.2" xref="S3.p8.1.m1.1.2.cmml"><mrow id="S3.p8.1.m1.1.2.2" xref="S3.p8.1.m1.1.2.2.cmml"><mfrac id="S3.p8.1.m1.1.1" xref="S3.p8.1.m1.1.1.cmml"><mrow id="S3.p8.1.m1.1.1.1.1" xref="S3.p8.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.p8.1.m1.1.1.1.1.2" xref="S3.p8.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.p8.1.m1.1.1.1.1.1" xref="S3.p8.1.m1.1.1.1.1.1.cmml"><mi id="S3.p8.1.m1.1.1.1.1.1.2" xref="S3.p8.1.m1.1.1.1.1.1.2.cmml">L</mi><mo id="S3.p8.1.m1.1.1.1.1.1.1" xref="S3.p8.1.m1.1.1.1.1.1.1.cmml">−</mo><mn id="S3.p8.1.m1.1.1.1.1.1.3" xref="S3.p8.1.m1.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S3.p8.1.m1.1.1.1.1.3" xref="S3.p8.1.m1.1.1.1.1.1.cmml">)</mo></mrow><mn id="S3.p8.1.m1.1.1.3" xref="S3.p8.1.m1.1.1.3.cmml">2</mn></mfrac><mo lspace="0.222em" rspace="0.222em" id="S3.p8.1.m1.1.2.2.1" xref="S3.p8.1.m1.1.2.2.1.cmml">∗</mo><mi id="S3.p8.1.m1.1.2.2.2" xref="S3.p8.1.m1.1.2.2.2.cmml">F</mi></mrow><mo lspace="0em" rspace="0em" id="S3.p8.1.m1.1.2.1" xref="S3.p8.1.m1.1.2.1.cmml">​</mo><mi id="S3.p8.1.m1.1.2.3" xref="S3.p8.1.m1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.p8.1.m1.1.2.1a" xref="S3.p8.1.m1.1.2.1.cmml">​</mo><mi id="S3.p8.1.m1.1.2.4" xref="S3.p8.1.m1.1.2.4.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.p8.1.m1.1.2.1b" xref="S3.p8.1.m1.1.2.1.cmml">​</mo><mi id="S3.p8.1.m1.1.2.5" xref="S3.p8.1.m1.1.2.5.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.p8.1.m1.1.2.1c" xref="S3.p8.1.m1.1.2.1.cmml">​</mo><mi id="S3.p8.1.m1.1.2.6" xref="S3.p8.1.m1.1.2.6.cmml">v</mi><mo lspace="0em" rspace="0em" id="S3.p8.1.m1.1.2.1d" xref="S3.p8.1.m1.1.2.1.cmml">​</mo><msub id="S3.p8.1.m1.1.2.7" xref="S3.p8.1.m1.1.2.7.cmml"><mi id="S3.p8.1.m1.1.2.7.2" xref="S3.p8.1.m1.1.2.7.2.cmml">g</mi><mrow id="S3.p8.1.m1.1.2.7.3" xref="S3.p8.1.m1.1.2.7.3.cmml"><mi id="S3.p8.1.m1.1.2.7.3.2" xref="S3.p8.1.m1.1.2.7.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.p8.1.m1.1.2.7.3.1" xref="S3.p8.1.m1.1.2.7.3.1.cmml">​</mo><mi id="S3.p8.1.m1.1.2.7.3.3" xref="S3.p8.1.m1.1.2.7.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.p8.1.m1.1.2.7.3.1a" xref="S3.p8.1.m1.1.2.7.3.1.cmml">​</mo><mi id="S3.p8.1.m1.1.2.7.3.4" xref="S3.p8.1.m1.1.2.7.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.p8.1.m1.1.2.7.3.1b" xref="S3.p8.1.m1.1.2.7.3.1.cmml">​</mo><mi id="S3.p8.1.m1.1.2.7.3.5" xref="S3.p8.1.m1.1.2.7.3.5.cmml">t</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.p8.1.m1.1b"><apply id="S3.p8.1.m1.1.2.cmml" xref="S3.p8.1.m1.1.2"><times id="S3.p8.1.m1.1.2.1.cmml" xref="S3.p8.1.m1.1.2.1"></times><apply id="S3.p8.1.m1.1.2.2.cmml" xref="S3.p8.1.m1.1.2.2"><times id="S3.p8.1.m1.1.2.2.1.cmml" xref="S3.p8.1.m1.1.2.2.1"></times><apply id="S3.p8.1.m1.1.1.cmml" xref="S3.p8.1.m1.1.1"><divide id="S3.p8.1.m1.1.1.2.cmml" xref="S3.p8.1.m1.1.1"></divide><apply id="S3.p8.1.m1.1.1.1.1.1.cmml" xref="S3.p8.1.m1.1.1.1.1"><minus id="S3.p8.1.m1.1.1.1.1.1.1.cmml" xref="S3.p8.1.m1.1.1.1.1.1.1"></minus><ci id="S3.p8.1.m1.1.1.1.1.1.2.cmml" xref="S3.p8.1.m1.1.1.1.1.1.2">𝐿</ci><cn type="integer" id="S3.p8.1.m1.1.1.1.1.1.3.cmml" xref="S3.p8.1.m1.1.1.1.1.1.3">1</cn></apply><cn type="integer" id="S3.p8.1.m1.1.1.3.cmml" xref="S3.p8.1.m1.1.1.3">2</cn></apply><ci id="S3.p8.1.m1.1.2.2.2.cmml" xref="S3.p8.1.m1.1.2.2.2">𝐹</ci></apply><ci id="S3.p8.1.m1.1.2.3.cmml" xref="S3.p8.1.m1.1.2.3">𝑒</ci><ci id="S3.p8.1.m1.1.2.4.cmml" xref="S3.p8.1.m1.1.2.4">𝑑</ci><ci id="S3.p8.1.m1.1.2.5.cmml" xref="S3.p8.1.m1.1.2.5">𝐴</ci><ci id="S3.p8.1.m1.1.2.6.cmml" xref="S3.p8.1.m1.1.2.6">𝑣</ci><apply id="S3.p8.1.m1.1.2.7.cmml" xref="S3.p8.1.m1.1.2.7"><csymbol cd="ambiguous" id="S3.p8.1.m1.1.2.7.1.cmml" xref="S3.p8.1.m1.1.2.7">subscript</csymbol><ci id="S3.p8.1.m1.1.2.7.2.cmml" xref="S3.p8.1.m1.1.2.7.2">𝑔</ci><apply id="S3.p8.1.m1.1.2.7.3.cmml" xref="S3.p8.1.m1.1.2.7.3"><times id="S3.p8.1.m1.1.2.7.3.1.cmml" xref="S3.p8.1.m1.1.2.7.3.1"></times><ci id="S3.p8.1.m1.1.2.7.3.2.cmml" xref="S3.p8.1.m1.1.2.7.3.2">𝑐</ci><ci id="S3.p8.1.m1.1.2.7.3.3.cmml" xref="S3.p8.1.m1.1.2.7.3.3">𝑜</ci><ci id="S3.p8.1.m1.1.2.7.3.4.cmml" xref="S3.p8.1.m1.1.2.7.3.4">𝑠</ci><ci id="S3.p8.1.m1.1.2.7.3.5.cmml" xref="S3.p8.1.m1.1.2.7.3.5">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p8.1.m1.1c">\frac{(L-1)}{2}*FedAvg_{cost}</annotation></semantics></math> since for <math id="S3.p8.2.m2.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.p8.2.m2.1a"><mi id="S3.p8.2.m2.1.1" xref="S3.p8.2.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.p8.2.m2.1b"><ci id="S3.p8.2.m2.1.1.cmml" xref="S3.p8.2.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p8.2.m2.1c">L</annotation></semantics></math> layers, the process is repeated <math id="S3.p8.3.m3.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.p8.3.m3.1a"><mi id="S3.p8.3.m3.1.1" xref="S3.p8.3.m3.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.p8.3.m3.1b"><ci id="S3.p8.3.m3.1.1.cmml" xref="S3.p8.3.m3.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p8.3.m3.1c">L</annotation></semantics></math> times with a decrementing number of layers. In practice, the cost is much lower since layer-wise training is skipped for layers where no unit has been added in the previous layer. Additionally, if all client models become fully saturated with no new neuron added, then layer-wise training is no longer needed, and the learning becomes equivalent to FedAvg.</p>
</div>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">Evaluation Method</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">A proper reproducible evaluation of FL algorithms requires a clear definition of the evaluation method and baseline systems. This section describes the datasets considered in the study, the baseline HAR models, the evaluation strategy, and the evaluation metrics.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS1.4.1.1" class="ltx_text">IV-A</span> </span><span id="S4.SS1.5.2" class="ltx_text ltx_font_italic">HAR Task and Datasets</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">In this paper, we favor reproducibility, heterogeneity, and realistic situations. Hence, the ideal dataset(s) should be: freely accessible, acquired in real-life environments with several participants and devices, include high-class imbalance, and carefully annotated. Furthermore, since FL implies several local learning phases, the dataset should be large enough to simulate an extended period of time.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">Despite HAR Task being well investigated, attempts to benchmark it on smartphones are only recent. As reported in a recent survey <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>, a large number of datasets acquired from smartphones, worn in different ways, with various sensors and sampling frequency, make it difficult to reach a uniformity in tasks, sensors, protocols, time windows, etc.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p">Furthermore, some datasets are very imbalanced because activity distributions among classes are very different. HAR is thus a perfect fit for testing FL in realistic scenarios.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.1" class="ltx_p">In the HAR domain, we have identified more than 20 datasets. A well-known example is the UCI dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite> which has been widely used as a benchmark in the domain. However, this dataset is not realistic (it was acquired in-lab following strict scenarios), and it is small in size (3.6 hours). Since the size is an important requirement of our study, we have selected the REALWORLD dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>, which contains 125 hours of recorded data, including accelerometer and gyroscope readings. Data were collected from 15 subjects in 7 different device/body position configurations, using Samsung Galaxy S4 and LG G Watch R with a sampling rate of 50 Hz. The recording was performed outdoor, where the subjects were told to perform specific activities without any restraints. Eight activities have been labeled in the data: Climbing Down, Climbing Up, Laying, Sitting, Standing, Walking, Jumping, and Running.</p>
</div>
<div id="S4.SS1.p5" class="ltx_para">
<p id="S4.SS1.p5.1" class="ltx_p">This dataset is in-line with a survey on HAR on smartphones <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite> that has shown that the optimal sampling frequency is between 20 Hz and 50Hz and that accelerometers and gyroscopes are the most adequate sensors for classification. We believe the REALWORLD dataset represents well HAR data in the wild and exhibits realistic high-class imbalance (for instance, the ‘standing’ activity represents 14% of the data while the ‘jumping’ one is limited to 2%). Furthermore, the dataset is particularly relevant for the study since each client can be modeled by a single participants’ own data as one would expect in real pervasive computing scenarios.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS2.4.1.1" class="ltx_text">IV-B</span> </span><span id="S4.SS2.5.2" class="ltx_text ltx_font_italic">Baseline HAR models</span>
</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Since FL is a meta-learning scheme, it is important to choose the classification model for the HAR task carefully. State-of-the-art approaches in HAR on smartphones have shown a broad appeal for embracing shallow neural networks.
Table <a href="#S4.T1" title="TABLE I ‣ IV-B Baseline HAR models ‣ IV Evaluation Method ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a> summarizes the performance of recent state-of-the-art models on the UCI test set, which despite its small size and variability, is a <em id="S4.SS2.p1.1.1" class="ltx_emph ltx_font_italic">de facto</em> benchmark in the HAR domain. It can be seen that Convolution Neural Networks (CNNs) models are widely used for HAR due to their ability to model features from raw data. Furthermore, they present a smaller size than more complex neural network architectures, which only slightly outperform basic CNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>. This is an important aspect that helps reduce the costs of communication and on-device computing. It is important to note that these results are not entirely comparable since some models used handcrafted features and sometimes different learning sets.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE I: </span>State-of-the-art models and accuracy on UCI.</figcaption>
<div id="S4.T1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:144pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.1pt,0.0pt) scale(1.00033898794322,1.00033898794322) ;">
<table id="S4.T1.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.1.1.1.1" class="ltx_tr">
<th id="S4.T1.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_l ltx_border_t"><span id="S4.T1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Reference</span></th>
<th id="S4.T1.1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.1.1.1.1.2.1" class="ltx_text ltx_font_bold">Models</span></th>
<th id="S4.T1.1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T1.1.1.1.1.3.1" class="ltx_text ltx_font_bold">Accuracy (%)</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.1.1.2.1" class="ltx_tr">
<td id="S4.T1.1.1.2.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_t">Ronao and Cho, 2016 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>
</td>
<td id="S4.T1.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">3 * Conv + Dense layer</td>
<td id="S4.T1.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">94.79</td>
</tr>
<tr id="S4.T1.1.1.3.2" class="ltx_tr">
<td id="S4.T1.1.1.3.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_t">Jiang and Yin, 2015 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>
</td>
<td id="S4.T1.1.1.3.2.2" class="ltx_td ltx_align_center ltx_border_t">2 Conv + Dense Layer</td>
<td id="S4.T1.1.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">95.18</td>
</tr>
<tr id="S4.T1.1.1.4.3" class="ltx_tr">
<td id="S4.T1.1.1.4.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_t">Ronao and Cho, 2015 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>
</td>
<td id="S4.T1.1.1.4.3.2" class="ltx_td ltx_align_center ltx_border_t">3 * Conv + Dense Layer</td>
<td id="S4.T1.1.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">94.79</td>
</tr>
<tr id="S4.T1.1.1.5.4" class="ltx_tr">
<td id="S4.T1.1.1.5.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_t">Almaslukh, 2017 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>
</td>
<td id="S4.T1.1.1.5.4.2" class="ltx_td ltx_align_center ltx_border_t">2 * Dense Layer (SAE)</td>
<td id="S4.T1.1.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">97.50</td>
</tr>
<tr id="S4.T1.1.1.6.5" class="ltx_tr">
<td id="S4.T1.1.1.6.5.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_t">Ignatov, 2018 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>
</td>
<td id="S4.T1.1.1.6.5.2" class="ltx_td ltx_align_center ltx_border_t">1 * Conv + Dense Layer</td>
<td id="S4.T1.1.1.6.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">96.06</td>
</tr>
<tr id="S4.T1.1.1.7.6" class="ltx_tr">
<td id="S4.T1.1.1.7.6.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_t">Anguita et al., 2013 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>
</td>
<td id="S4.T1.1.1.7.6.2" class="ltx_td ltx_align_center ltx_border_t">SVM</td>
<td id="S4.T1.1.1.7.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">96.37</td>
</tr>
<tr id="S4.T1.1.1.8.7" class="ltx_tr">
<td id="S4.T1.1.1.8.7.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_t">Cho and Yoon, 2018 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>
</td>
<td id="S4.T1.1.1.8.7.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_t">DT + 2 * CNN</td>
<td id="S4.T1.1.1.8.7.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T1.1.1.8.7.3.1" class="ltx_text ltx_font_bold">97.62</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">In our study, we will then use standard CNN models that will be tuned specifically for the task.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS3.4.1.1" class="ltx_text">IV-C</span> </span><span id="S4.SS3.5.2" class="ltx_text ltx_font_italic">Evaluation strategy</span>
</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">For the sake of reproducibility, all our experiments have been performed in simulation mode (like most federated learning evaluations). However, let us note that we have also implemented our approach on real devices, i.e., Google’s Pixel 2, to check the approach’s feasibility. This is not reported here due to a lack of space.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p">As previously explained, the interest of federated learning over classical learning is the ability to merge several client models into a global one in order to improve genericity without degrading specialization. To assess these properties, we then decided to compute three different metrics for each experiment:</p>
<ol id="S4.I1" class="ltx_enumerate">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p"><span id="S4.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Global accuracy</span>. This accuracy is computed by the server with the global model aggregated from all the clients. It tells how well federated learning is able to create a general model and permits to answer the research question "<em id="S4.I1.i1.p1.1.2" class="ltx_emph ltx_font_italic">Does FL bring better global performances than centralized global learning?</em>"</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p"><span id="S4.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Personalization accuracy</span>. This accuracy is computed by the client using its local datasets. It tells how personalized the client models are and permits to answer the research question "<em id="S4.I1.i2.p1.1.2" class="ltx_emph ltx_font_italic">Does FL bring better local performances with already seen data than local learning only?</em>"</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p"><span id="S4.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">Generalization accuracy</span>. This accuracy is computed by the client using the global dataset. It tells how well the client models are able to retain generalization and permits to answer the research question "<em id="S4.I1.i3.p1.1.2" class="ltx_emph ltx_font_italic">Does FL bring better local performances with unfamiliar data than local learning only?</em>" This evaluation is crucial because it qualifies one of the main potential benefits of the federated learning approach.</p>
</div>
</li>
</ol>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.1" class="ltx_p">Another important question of the evaluation is how to model clients. Many FL studies partition a unique dataset into several equally distributed datasets to represent the clients. This is not a realistic way of simulating heterogeneous clients. In our study, each client is represented by the record of a single identified human participant, without combining data from several participants. In that way, the FL algorithm is left dealing with a very personalized local model, which corresponds to realistic settings. Figure <a href="#S4.F5" title="Figure 5 ‣ IV-C Evaluation strategy ‣ IV Evaluation Method ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> illustrates how partitioning has been designed. Each client is represented by a set of records of one participant extracted from REALWORLD.</p>
</div>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2110.10223/assets/fig/eavalscheme.png" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="247" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Depiction of data partitioning/arrangement</figcaption>
</figure>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.1" class="ltx_p">For each client, the dataset is partitioned into a training set and a test set. The test set is used for the local evaluation of each client. These evaluation results are then aggregated to give the <span id="S4.SS3.p4.1.1" class="ltx_text ltx_font_bold">Personalization accuracy</span> evaluation. The concatenation of all client test sets forms the global test set, which is used to evaluate the <span id="S4.SS3.p4.1.2" class="ltx_text ltx_font_bold">Global accuracy</span>. It is also used for the local evaluation of each client. These evaluation results are then aggregated to give the <span id="S4.SS3.p4.1.3" class="ltx_text ltx_font_bold">Generalization accuracy</span> evaluation.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS4.4.1.1" class="ltx_text">IV-D</span> </span><span id="S4.SS4.5.2" class="ltx_text ltx_font_italic">Metrics</span>
</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">For HAR performance metrics, we have used standard classification metrics such as accuracy, precision, and recall. From these, we have computed the F1 score as a complementary measure that gives a per-class evaluation, which is the harmonic mean of precision and recall. It is defined as below:</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<table id="S4.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E1.m1.1" class="ltx_Math" alttext="F_{1\_score}=\dfrac{2\cdot Precision\cdot Recall}{Precision+Recall}" display="block"><semantics id="S4.E1.m1.1a"><mrow id="S4.E1.m1.1.1" xref="S4.E1.m1.1.1.cmml"><msub id="S4.E1.m1.1.1.2" xref="S4.E1.m1.1.1.2.cmml"><mi id="S4.E1.m1.1.1.2.2" xref="S4.E1.m1.1.1.2.2.cmml">F</mi><mrow id="S4.E1.m1.1.1.2.3" xref="S4.E1.m1.1.1.2.3.cmml"><mn id="S4.E1.m1.1.1.2.3.2" xref="S4.E1.m1.1.1.2.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.2.3.1" xref="S4.E1.m1.1.1.2.3.1.cmml">​</mo><mi mathvariant="normal" id="S4.E1.m1.1.1.2.3.3" xref="S4.E1.m1.1.1.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.2.3.1a" xref="S4.E1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.E1.m1.1.1.2.3.4" xref="S4.E1.m1.1.1.2.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.2.3.1b" xref="S4.E1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.E1.m1.1.1.2.3.5" xref="S4.E1.m1.1.1.2.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.2.3.1c" xref="S4.E1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.E1.m1.1.1.2.3.6" xref="S4.E1.m1.1.1.2.3.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.2.3.1d" xref="S4.E1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.E1.m1.1.1.2.3.7" xref="S4.E1.m1.1.1.2.3.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.2.3.1e" xref="S4.E1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.E1.m1.1.1.2.3.8" xref="S4.E1.m1.1.1.2.3.8.cmml">e</mi></mrow></msub><mo id="S4.E1.m1.1.1.1" xref="S4.E1.m1.1.1.1.cmml">=</mo><mfrac id="S4.E1.m1.1.1.3" xref="S4.E1.m1.1.1.3.cmml"><mrow id="S4.E1.m1.1.1.3.2" xref="S4.E1.m1.1.1.3.2.cmml"><mrow id="S4.E1.m1.1.1.3.2.2" xref="S4.E1.m1.1.1.3.2.2.cmml"><mrow id="S4.E1.m1.1.1.3.2.2.2" xref="S4.E1.m1.1.1.3.2.2.2.cmml"><mrow id="S4.E1.m1.1.1.3.2.2.2.2" xref="S4.E1.m1.1.1.3.2.2.2.2.cmml"><mn id="S4.E1.m1.1.1.3.2.2.2.2.2" xref="S4.E1.m1.1.1.3.2.2.2.2.2.cmml">2</mn><mo lspace="0.222em" rspace="0.222em" id="S4.E1.m1.1.1.3.2.2.2.2.1" xref="S4.E1.m1.1.1.3.2.2.2.2.1.cmml">⋅</mo><mi id="S4.E1.m1.1.1.3.2.2.2.2.3" xref="S4.E1.m1.1.1.3.2.2.2.2.3.cmml">P</mi></mrow><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.2.2.1" xref="S4.E1.m1.1.1.3.2.2.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.2.2.3" xref="S4.E1.m1.1.1.3.2.2.2.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.2.2.1a" xref="S4.E1.m1.1.1.3.2.2.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.2.2.4" xref="S4.E1.m1.1.1.3.2.2.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.2.2.1b" xref="S4.E1.m1.1.1.3.2.2.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.2.2.5" xref="S4.E1.m1.1.1.3.2.2.2.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.2.2.1c" xref="S4.E1.m1.1.1.3.2.2.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.2.2.6" xref="S4.E1.m1.1.1.3.2.2.2.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.2.2.1d" xref="S4.E1.m1.1.1.3.2.2.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.2.2.7" xref="S4.E1.m1.1.1.3.2.2.2.7.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.2.2.1e" xref="S4.E1.m1.1.1.3.2.2.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.2.2.8" xref="S4.E1.m1.1.1.3.2.2.2.8.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.2.2.1f" xref="S4.E1.m1.1.1.3.2.2.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.2.2.9" xref="S4.E1.m1.1.1.3.2.2.2.9.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.2.2.1g" xref="S4.E1.m1.1.1.3.2.2.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.2.2.10" xref="S4.E1.m1.1.1.3.2.2.2.10.cmml">n</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S4.E1.m1.1.1.3.2.2.1" xref="S4.E1.m1.1.1.3.2.2.1.cmml">⋅</mo><mi id="S4.E1.m1.1.1.3.2.2.3" xref="S4.E1.m1.1.1.3.2.2.3.cmml">R</mi></mrow><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.1" xref="S4.E1.m1.1.1.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.3" xref="S4.E1.m1.1.1.3.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.1a" xref="S4.E1.m1.1.1.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.4" xref="S4.E1.m1.1.1.3.2.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.1b" xref="S4.E1.m1.1.1.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.5" xref="S4.E1.m1.1.1.3.2.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.1c" xref="S4.E1.m1.1.1.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.6" xref="S4.E1.m1.1.1.3.2.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.2.1d" xref="S4.E1.m1.1.1.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.2.7" xref="S4.E1.m1.1.1.3.2.7.cmml">l</mi></mrow><mrow id="S4.E1.m1.1.1.3.3" xref="S4.E1.m1.1.1.3.3.cmml"><mrow id="S4.E1.m1.1.1.3.3.2" xref="S4.E1.m1.1.1.3.3.2.cmml"><mi id="S4.E1.m1.1.1.3.3.2.2" xref="S4.E1.m1.1.1.3.3.2.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.2.1" xref="S4.E1.m1.1.1.3.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.2.3" xref="S4.E1.m1.1.1.3.3.2.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.2.1a" xref="S4.E1.m1.1.1.3.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.2.4" xref="S4.E1.m1.1.1.3.3.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.2.1b" xref="S4.E1.m1.1.1.3.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.2.5" xref="S4.E1.m1.1.1.3.3.2.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.2.1c" xref="S4.E1.m1.1.1.3.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.2.6" xref="S4.E1.m1.1.1.3.3.2.6.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.2.1d" xref="S4.E1.m1.1.1.3.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.2.7" xref="S4.E1.m1.1.1.3.3.2.7.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.2.1e" xref="S4.E1.m1.1.1.3.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.2.8" xref="S4.E1.m1.1.1.3.3.2.8.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.2.1f" xref="S4.E1.m1.1.1.3.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.2.9" xref="S4.E1.m1.1.1.3.3.2.9.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.2.1g" xref="S4.E1.m1.1.1.3.3.2.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.2.10" xref="S4.E1.m1.1.1.3.3.2.10.cmml">n</mi></mrow><mo id="S4.E1.m1.1.1.3.3.1" xref="S4.E1.m1.1.1.3.3.1.cmml">+</mo><mrow id="S4.E1.m1.1.1.3.3.3" xref="S4.E1.m1.1.1.3.3.3.cmml"><mi id="S4.E1.m1.1.1.3.3.3.2" xref="S4.E1.m1.1.1.3.3.3.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.3.1" xref="S4.E1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.3.3" xref="S4.E1.m1.1.1.3.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.3.1a" xref="S4.E1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.3.4" xref="S4.E1.m1.1.1.3.3.3.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.3.1b" xref="S4.E1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.3.5" xref="S4.E1.m1.1.1.3.3.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.3.1c" xref="S4.E1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.3.6" xref="S4.E1.m1.1.1.3.3.3.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.1.1.3.3.3.1d" xref="S4.E1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S4.E1.m1.1.1.3.3.3.7" xref="S4.E1.m1.1.1.3.3.3.7.cmml">l</mi></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S4.E1.m1.1b"><apply id="S4.E1.m1.1.1.cmml" xref="S4.E1.m1.1.1"><eq id="S4.E1.m1.1.1.1.cmml" xref="S4.E1.m1.1.1.1"></eq><apply id="S4.E1.m1.1.1.2.cmml" xref="S4.E1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.E1.m1.1.1.2.1.cmml" xref="S4.E1.m1.1.1.2">subscript</csymbol><ci id="S4.E1.m1.1.1.2.2.cmml" xref="S4.E1.m1.1.1.2.2">𝐹</ci><apply id="S4.E1.m1.1.1.2.3.cmml" xref="S4.E1.m1.1.1.2.3"><times id="S4.E1.m1.1.1.2.3.1.cmml" xref="S4.E1.m1.1.1.2.3.1"></times><cn type="integer" id="S4.E1.m1.1.1.2.3.2.cmml" xref="S4.E1.m1.1.1.2.3.2">1</cn><ci id="S4.E1.m1.1.1.2.3.3.cmml" xref="S4.E1.m1.1.1.2.3.3">_</ci><ci id="S4.E1.m1.1.1.2.3.4.cmml" xref="S4.E1.m1.1.1.2.3.4">𝑠</ci><ci id="S4.E1.m1.1.1.2.3.5.cmml" xref="S4.E1.m1.1.1.2.3.5">𝑐</ci><ci id="S4.E1.m1.1.1.2.3.6.cmml" xref="S4.E1.m1.1.1.2.3.6">𝑜</ci><ci id="S4.E1.m1.1.1.2.3.7.cmml" xref="S4.E1.m1.1.1.2.3.7">𝑟</ci><ci id="S4.E1.m1.1.1.2.3.8.cmml" xref="S4.E1.m1.1.1.2.3.8">𝑒</ci></apply></apply><apply id="S4.E1.m1.1.1.3.cmml" xref="S4.E1.m1.1.1.3"><divide id="S4.E1.m1.1.1.3.1.cmml" xref="S4.E1.m1.1.1.3"></divide><apply id="S4.E1.m1.1.1.3.2.cmml" xref="S4.E1.m1.1.1.3.2"><times id="S4.E1.m1.1.1.3.2.1.cmml" xref="S4.E1.m1.1.1.3.2.1"></times><apply id="S4.E1.m1.1.1.3.2.2.cmml" xref="S4.E1.m1.1.1.3.2.2"><ci id="S4.E1.m1.1.1.3.2.2.1.cmml" xref="S4.E1.m1.1.1.3.2.2.1">⋅</ci><apply id="S4.E1.m1.1.1.3.2.2.2.cmml" xref="S4.E1.m1.1.1.3.2.2.2"><times id="S4.E1.m1.1.1.3.2.2.2.1.cmml" xref="S4.E1.m1.1.1.3.2.2.2.1"></times><apply id="S4.E1.m1.1.1.3.2.2.2.2.cmml" xref="S4.E1.m1.1.1.3.2.2.2.2"><ci id="S4.E1.m1.1.1.3.2.2.2.2.1.cmml" xref="S4.E1.m1.1.1.3.2.2.2.2.1">⋅</ci><cn type="integer" id="S4.E1.m1.1.1.3.2.2.2.2.2.cmml" xref="S4.E1.m1.1.1.3.2.2.2.2.2">2</cn><ci id="S4.E1.m1.1.1.3.2.2.2.2.3.cmml" xref="S4.E1.m1.1.1.3.2.2.2.2.3">𝑃</ci></apply><ci id="S4.E1.m1.1.1.3.2.2.2.3.cmml" xref="S4.E1.m1.1.1.3.2.2.2.3">𝑟</ci><ci id="S4.E1.m1.1.1.3.2.2.2.4.cmml" xref="S4.E1.m1.1.1.3.2.2.2.4">𝑒</ci><ci id="S4.E1.m1.1.1.3.2.2.2.5.cmml" xref="S4.E1.m1.1.1.3.2.2.2.5">𝑐</ci><ci id="S4.E1.m1.1.1.3.2.2.2.6.cmml" xref="S4.E1.m1.1.1.3.2.2.2.6">𝑖</ci><ci id="S4.E1.m1.1.1.3.2.2.2.7.cmml" xref="S4.E1.m1.1.1.3.2.2.2.7">𝑠</ci><ci id="S4.E1.m1.1.1.3.2.2.2.8.cmml" xref="S4.E1.m1.1.1.3.2.2.2.8">𝑖</ci><ci id="S4.E1.m1.1.1.3.2.2.2.9.cmml" xref="S4.E1.m1.1.1.3.2.2.2.9">𝑜</ci><ci id="S4.E1.m1.1.1.3.2.2.2.10.cmml" xref="S4.E1.m1.1.1.3.2.2.2.10">𝑛</ci></apply><ci id="S4.E1.m1.1.1.3.2.2.3.cmml" xref="S4.E1.m1.1.1.3.2.2.3">𝑅</ci></apply><ci id="S4.E1.m1.1.1.3.2.3.cmml" xref="S4.E1.m1.1.1.3.2.3">𝑒</ci><ci id="S4.E1.m1.1.1.3.2.4.cmml" xref="S4.E1.m1.1.1.3.2.4">𝑐</ci><ci id="S4.E1.m1.1.1.3.2.5.cmml" xref="S4.E1.m1.1.1.3.2.5">𝑎</ci><ci id="S4.E1.m1.1.1.3.2.6.cmml" xref="S4.E1.m1.1.1.3.2.6">𝑙</ci><ci id="S4.E1.m1.1.1.3.2.7.cmml" xref="S4.E1.m1.1.1.3.2.7">𝑙</ci></apply><apply id="S4.E1.m1.1.1.3.3.cmml" xref="S4.E1.m1.1.1.3.3"><plus id="S4.E1.m1.1.1.3.3.1.cmml" xref="S4.E1.m1.1.1.3.3.1"></plus><apply id="S4.E1.m1.1.1.3.3.2.cmml" xref="S4.E1.m1.1.1.3.3.2"><times id="S4.E1.m1.1.1.3.3.2.1.cmml" xref="S4.E1.m1.1.1.3.3.2.1"></times><ci id="S4.E1.m1.1.1.3.3.2.2.cmml" xref="S4.E1.m1.1.1.3.3.2.2">𝑃</ci><ci id="S4.E1.m1.1.1.3.3.2.3.cmml" xref="S4.E1.m1.1.1.3.3.2.3">𝑟</ci><ci id="S4.E1.m1.1.1.3.3.2.4.cmml" xref="S4.E1.m1.1.1.3.3.2.4">𝑒</ci><ci id="S4.E1.m1.1.1.3.3.2.5.cmml" xref="S4.E1.m1.1.1.3.3.2.5">𝑐</ci><ci id="S4.E1.m1.1.1.3.3.2.6.cmml" xref="S4.E1.m1.1.1.3.3.2.6">𝑖</ci><ci id="S4.E1.m1.1.1.3.3.2.7.cmml" xref="S4.E1.m1.1.1.3.3.2.7">𝑠</ci><ci id="S4.E1.m1.1.1.3.3.2.8.cmml" xref="S4.E1.m1.1.1.3.3.2.8">𝑖</ci><ci id="S4.E1.m1.1.1.3.3.2.9.cmml" xref="S4.E1.m1.1.1.3.3.2.9">𝑜</ci><ci id="S4.E1.m1.1.1.3.3.2.10.cmml" xref="S4.E1.m1.1.1.3.3.2.10">𝑛</ci></apply><apply id="S4.E1.m1.1.1.3.3.3.cmml" xref="S4.E1.m1.1.1.3.3.3"><times id="S4.E1.m1.1.1.3.3.3.1.cmml" xref="S4.E1.m1.1.1.3.3.3.1"></times><ci id="S4.E1.m1.1.1.3.3.3.2.cmml" xref="S4.E1.m1.1.1.3.3.3.2">𝑅</ci><ci id="S4.E1.m1.1.1.3.3.3.3.cmml" xref="S4.E1.m1.1.1.3.3.3.3">𝑒</ci><ci id="S4.E1.m1.1.1.3.3.3.4.cmml" xref="S4.E1.m1.1.1.3.3.3.4">𝑐</ci><ci id="S4.E1.m1.1.1.3.3.3.5.cmml" xref="S4.E1.m1.1.1.3.3.3.5">𝑎</ci><ci id="S4.E1.m1.1.1.3.3.3.6.cmml" xref="S4.E1.m1.1.1.3.3.3.6">𝑙</ci><ci id="S4.E1.m1.1.1.3.3.3.7.cmml" xref="S4.E1.m1.1.1.3.3.3.7">𝑙</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E1.m1.1c">F_{1\_score}=\dfrac{2\cdot Precision\cdot Recall}{Precision+Recall}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.1" class="ltx_p">Since HAR datasets are often imbalanced (e.g., "jump" activity far less present than “ walking” activity), we also reported the individual F1 scores’ macro average. The macro F1 score is defined as:</p>
</div>
<div id="S4.SS4.p4" class="ltx_para">
<table id="S4.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E2.m1.2" class="ltx_Math" alttext="macro\ F_{1\_score}=\sum_{i=1}F_{1\_score}(i)/|C|" display="block"><semantics id="S4.E2.m1.2a"><mrow id="S4.E2.m1.2.3" xref="S4.E2.m1.2.3.cmml"><mrow id="S4.E2.m1.2.3.2" xref="S4.E2.m1.2.3.2.cmml"><mi id="S4.E2.m1.2.3.2.2" xref="S4.E2.m1.2.3.2.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.2.1" xref="S4.E2.m1.2.3.2.1.cmml">​</mo><mi id="S4.E2.m1.2.3.2.3" xref="S4.E2.m1.2.3.2.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.2.1a" xref="S4.E2.m1.2.3.2.1.cmml">​</mo><mi id="S4.E2.m1.2.3.2.4" xref="S4.E2.m1.2.3.2.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.2.1b" xref="S4.E2.m1.2.3.2.1.cmml">​</mo><mi id="S4.E2.m1.2.3.2.5" xref="S4.E2.m1.2.3.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.2.1c" xref="S4.E2.m1.2.3.2.1.cmml">​</mo><mi id="S4.E2.m1.2.3.2.6" xref="S4.E2.m1.2.3.2.6.cmml">o</mi><mo lspace="0.500em" rspace="0em" id="S4.E2.m1.2.3.2.1d" xref="S4.E2.m1.2.3.2.1.cmml">​</mo><msub id="S4.E2.m1.2.3.2.7" xref="S4.E2.m1.2.3.2.7.cmml"><mi id="S4.E2.m1.2.3.2.7.2" xref="S4.E2.m1.2.3.2.7.2.cmml">F</mi><mrow id="S4.E2.m1.2.3.2.7.3" xref="S4.E2.m1.2.3.2.7.3.cmml"><mn id="S4.E2.m1.2.3.2.7.3.2" xref="S4.E2.m1.2.3.2.7.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.2.7.3.1" xref="S4.E2.m1.2.3.2.7.3.1.cmml">​</mo><mi mathvariant="normal" id="S4.E2.m1.2.3.2.7.3.3" xref="S4.E2.m1.2.3.2.7.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.2.7.3.1a" xref="S4.E2.m1.2.3.2.7.3.1.cmml">​</mo><mi id="S4.E2.m1.2.3.2.7.3.4" xref="S4.E2.m1.2.3.2.7.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.2.7.3.1b" xref="S4.E2.m1.2.3.2.7.3.1.cmml">​</mo><mi id="S4.E2.m1.2.3.2.7.3.5" xref="S4.E2.m1.2.3.2.7.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.2.7.3.1c" xref="S4.E2.m1.2.3.2.7.3.1.cmml">​</mo><mi id="S4.E2.m1.2.3.2.7.3.6" xref="S4.E2.m1.2.3.2.7.3.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.2.7.3.1d" xref="S4.E2.m1.2.3.2.7.3.1.cmml">​</mo><mi id="S4.E2.m1.2.3.2.7.3.7" xref="S4.E2.m1.2.3.2.7.3.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.2.7.3.1e" xref="S4.E2.m1.2.3.2.7.3.1.cmml">​</mo><mi id="S4.E2.m1.2.3.2.7.3.8" xref="S4.E2.m1.2.3.2.7.3.8.cmml">e</mi></mrow></msub></mrow><mo rspace="0.111em" id="S4.E2.m1.2.3.1" xref="S4.E2.m1.2.3.1.cmml">=</mo><mrow id="S4.E2.m1.2.3.3" xref="S4.E2.m1.2.3.3.cmml"><munder id="S4.E2.m1.2.3.3.1" xref="S4.E2.m1.2.3.3.1.cmml"><mo movablelimits="false" id="S4.E2.m1.2.3.3.1.2" xref="S4.E2.m1.2.3.3.1.2.cmml">∑</mo><mrow id="S4.E2.m1.2.3.3.1.3" xref="S4.E2.m1.2.3.3.1.3.cmml"><mi id="S4.E2.m1.2.3.3.1.3.2" xref="S4.E2.m1.2.3.3.1.3.2.cmml">i</mi><mo id="S4.E2.m1.2.3.3.1.3.1" xref="S4.E2.m1.2.3.3.1.3.1.cmml">=</mo><mn id="S4.E2.m1.2.3.3.1.3.3" xref="S4.E2.m1.2.3.3.1.3.3.cmml">1</mn></mrow></munder><mrow id="S4.E2.m1.2.3.3.2" xref="S4.E2.m1.2.3.3.2.cmml"><mrow id="S4.E2.m1.2.3.3.2.2" xref="S4.E2.m1.2.3.3.2.2.cmml"><msub id="S4.E2.m1.2.3.3.2.2.2" xref="S4.E2.m1.2.3.3.2.2.2.cmml"><mi id="S4.E2.m1.2.3.3.2.2.2.2" xref="S4.E2.m1.2.3.3.2.2.2.2.cmml">F</mi><mrow id="S4.E2.m1.2.3.3.2.2.2.3" xref="S4.E2.m1.2.3.3.2.2.2.3.cmml"><mn id="S4.E2.m1.2.3.3.2.2.2.3.2" xref="S4.E2.m1.2.3.3.2.2.2.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.3.2.2.2.3.1" xref="S4.E2.m1.2.3.3.2.2.2.3.1.cmml">​</mo><mi mathvariant="normal" id="S4.E2.m1.2.3.3.2.2.2.3.3" xref="S4.E2.m1.2.3.3.2.2.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.3.2.2.2.3.1a" xref="S4.E2.m1.2.3.3.2.2.2.3.1.cmml">​</mo><mi id="S4.E2.m1.2.3.3.2.2.2.3.4" xref="S4.E2.m1.2.3.3.2.2.2.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.3.2.2.2.3.1b" xref="S4.E2.m1.2.3.3.2.2.2.3.1.cmml">​</mo><mi id="S4.E2.m1.2.3.3.2.2.2.3.5" xref="S4.E2.m1.2.3.3.2.2.2.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.3.2.2.2.3.1c" xref="S4.E2.m1.2.3.3.2.2.2.3.1.cmml">​</mo><mi id="S4.E2.m1.2.3.3.2.2.2.3.6" xref="S4.E2.m1.2.3.3.2.2.2.3.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.3.2.2.2.3.1d" xref="S4.E2.m1.2.3.3.2.2.2.3.1.cmml">​</mo><mi id="S4.E2.m1.2.3.3.2.2.2.3.7" xref="S4.E2.m1.2.3.3.2.2.2.3.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.3.2.2.2.3.1e" xref="S4.E2.m1.2.3.3.2.2.2.3.1.cmml">​</mo><mi id="S4.E2.m1.2.3.3.2.2.2.3.8" xref="S4.E2.m1.2.3.3.2.2.2.3.8.cmml">e</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.3.3.2.2.1" xref="S4.E2.m1.2.3.3.2.2.1.cmml">​</mo><mrow id="S4.E2.m1.2.3.3.2.2.3.2" xref="S4.E2.m1.2.3.3.2.2.cmml"><mo stretchy="false" id="S4.E2.m1.2.3.3.2.2.3.2.1" xref="S4.E2.m1.2.3.3.2.2.cmml">(</mo><mi id="S4.E2.m1.1.1" xref="S4.E2.m1.1.1.cmml">i</mi><mo stretchy="false" id="S4.E2.m1.2.3.3.2.2.3.2.2" xref="S4.E2.m1.2.3.3.2.2.cmml">)</mo></mrow></mrow><mo id="S4.E2.m1.2.3.3.2.1" xref="S4.E2.m1.2.3.3.2.1.cmml">/</mo><mrow id="S4.E2.m1.2.3.3.2.3.2" xref="S4.E2.m1.2.3.3.2.3.1.cmml"><mo stretchy="false" id="S4.E2.m1.2.3.3.2.3.2.1" xref="S4.E2.m1.2.3.3.2.3.1.1.cmml">|</mo><mi id="S4.E2.m1.2.2" xref="S4.E2.m1.2.2.cmml">C</mi><mo stretchy="false" id="S4.E2.m1.2.3.3.2.3.2.2" xref="S4.E2.m1.2.3.3.2.3.1.1.cmml">|</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E2.m1.2b"><apply id="S4.E2.m1.2.3.cmml" xref="S4.E2.m1.2.3"><eq id="S4.E2.m1.2.3.1.cmml" xref="S4.E2.m1.2.3.1"></eq><apply id="S4.E2.m1.2.3.2.cmml" xref="S4.E2.m1.2.3.2"><times id="S4.E2.m1.2.3.2.1.cmml" xref="S4.E2.m1.2.3.2.1"></times><ci id="S4.E2.m1.2.3.2.2.cmml" xref="S4.E2.m1.2.3.2.2">𝑚</ci><ci id="S4.E2.m1.2.3.2.3.cmml" xref="S4.E2.m1.2.3.2.3">𝑎</ci><ci id="S4.E2.m1.2.3.2.4.cmml" xref="S4.E2.m1.2.3.2.4">𝑐</ci><ci id="S4.E2.m1.2.3.2.5.cmml" xref="S4.E2.m1.2.3.2.5">𝑟</ci><ci id="S4.E2.m1.2.3.2.6.cmml" xref="S4.E2.m1.2.3.2.6">𝑜</ci><apply id="S4.E2.m1.2.3.2.7.cmml" xref="S4.E2.m1.2.3.2.7"><csymbol cd="ambiguous" id="S4.E2.m1.2.3.2.7.1.cmml" xref="S4.E2.m1.2.3.2.7">subscript</csymbol><ci id="S4.E2.m1.2.3.2.7.2.cmml" xref="S4.E2.m1.2.3.2.7.2">𝐹</ci><apply id="S4.E2.m1.2.3.2.7.3.cmml" xref="S4.E2.m1.2.3.2.7.3"><times id="S4.E2.m1.2.3.2.7.3.1.cmml" xref="S4.E2.m1.2.3.2.7.3.1"></times><cn type="integer" id="S4.E2.m1.2.3.2.7.3.2.cmml" xref="S4.E2.m1.2.3.2.7.3.2">1</cn><ci id="S4.E2.m1.2.3.2.7.3.3.cmml" xref="S4.E2.m1.2.3.2.7.3.3">_</ci><ci id="S4.E2.m1.2.3.2.7.3.4.cmml" xref="S4.E2.m1.2.3.2.7.3.4">𝑠</ci><ci id="S4.E2.m1.2.3.2.7.3.5.cmml" xref="S4.E2.m1.2.3.2.7.3.5">𝑐</ci><ci id="S4.E2.m1.2.3.2.7.3.6.cmml" xref="S4.E2.m1.2.3.2.7.3.6">𝑜</ci><ci id="S4.E2.m1.2.3.2.7.3.7.cmml" xref="S4.E2.m1.2.3.2.7.3.7">𝑟</ci><ci id="S4.E2.m1.2.3.2.7.3.8.cmml" xref="S4.E2.m1.2.3.2.7.3.8">𝑒</ci></apply></apply></apply><apply id="S4.E2.m1.2.3.3.cmml" xref="S4.E2.m1.2.3.3"><apply id="S4.E2.m1.2.3.3.1.cmml" xref="S4.E2.m1.2.3.3.1"><csymbol cd="ambiguous" id="S4.E2.m1.2.3.3.1.1.cmml" xref="S4.E2.m1.2.3.3.1">subscript</csymbol><sum id="S4.E2.m1.2.3.3.1.2.cmml" xref="S4.E2.m1.2.3.3.1.2"></sum><apply id="S4.E2.m1.2.3.3.1.3.cmml" xref="S4.E2.m1.2.3.3.1.3"><eq id="S4.E2.m1.2.3.3.1.3.1.cmml" xref="S4.E2.m1.2.3.3.1.3.1"></eq><ci id="S4.E2.m1.2.3.3.1.3.2.cmml" xref="S4.E2.m1.2.3.3.1.3.2">𝑖</ci><cn type="integer" id="S4.E2.m1.2.3.3.1.3.3.cmml" xref="S4.E2.m1.2.3.3.1.3.3">1</cn></apply></apply><apply id="S4.E2.m1.2.3.3.2.cmml" xref="S4.E2.m1.2.3.3.2"><divide id="S4.E2.m1.2.3.3.2.1.cmml" xref="S4.E2.m1.2.3.3.2.1"></divide><apply id="S4.E2.m1.2.3.3.2.2.cmml" xref="S4.E2.m1.2.3.3.2.2"><times id="S4.E2.m1.2.3.3.2.2.1.cmml" xref="S4.E2.m1.2.3.3.2.2.1"></times><apply id="S4.E2.m1.2.3.3.2.2.2.cmml" xref="S4.E2.m1.2.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.E2.m1.2.3.3.2.2.2.1.cmml" xref="S4.E2.m1.2.3.3.2.2.2">subscript</csymbol><ci id="S4.E2.m1.2.3.3.2.2.2.2.cmml" xref="S4.E2.m1.2.3.3.2.2.2.2">𝐹</ci><apply id="S4.E2.m1.2.3.3.2.2.2.3.cmml" xref="S4.E2.m1.2.3.3.2.2.2.3"><times id="S4.E2.m1.2.3.3.2.2.2.3.1.cmml" xref="S4.E2.m1.2.3.3.2.2.2.3.1"></times><cn type="integer" id="S4.E2.m1.2.3.3.2.2.2.3.2.cmml" xref="S4.E2.m1.2.3.3.2.2.2.3.2">1</cn><ci id="S4.E2.m1.2.3.3.2.2.2.3.3.cmml" xref="S4.E2.m1.2.3.3.2.2.2.3.3">_</ci><ci id="S4.E2.m1.2.3.3.2.2.2.3.4.cmml" xref="S4.E2.m1.2.3.3.2.2.2.3.4">𝑠</ci><ci id="S4.E2.m1.2.3.3.2.2.2.3.5.cmml" xref="S4.E2.m1.2.3.3.2.2.2.3.5">𝑐</ci><ci id="S4.E2.m1.2.3.3.2.2.2.3.6.cmml" xref="S4.E2.m1.2.3.3.2.2.2.3.6">𝑜</ci><ci id="S4.E2.m1.2.3.3.2.2.2.3.7.cmml" xref="S4.E2.m1.2.3.3.2.2.2.3.7">𝑟</ci><ci id="S4.E2.m1.2.3.3.2.2.2.3.8.cmml" xref="S4.E2.m1.2.3.3.2.2.2.3.8">𝑒</ci></apply></apply><ci id="S4.E2.m1.1.1.cmml" xref="S4.E2.m1.1.1">𝑖</ci></apply><apply id="S4.E2.m1.2.3.3.2.3.1.cmml" xref="S4.E2.m1.2.3.3.2.3.2"><abs id="S4.E2.m1.2.3.3.2.3.1.1.cmml" xref="S4.E2.m1.2.3.3.2.3.2.1"></abs><ci id="S4.E2.m1.2.2.cmml" xref="S4.E2.m1.2.2">𝐶</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.2c">macro\ F_{1\_score}=\sum_{i=1}F_{1\_score}(i)/|C|</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS4.p5" class="ltx_para">
<p id="S4.SS4.p5.3" class="ltx_p">where <math id="S4.SS4.p5.1.m1.1" class="ltx_Math" alttext="F_{1\_score}(i)" display="inline"><semantics id="S4.SS4.p5.1.m1.1a"><mrow id="S4.SS4.p5.1.m1.1.2" xref="S4.SS4.p5.1.m1.1.2.cmml"><msub id="S4.SS4.p5.1.m1.1.2.2" xref="S4.SS4.p5.1.m1.1.2.2.cmml"><mi id="S4.SS4.p5.1.m1.1.2.2.2" xref="S4.SS4.p5.1.m1.1.2.2.2.cmml">F</mi><mrow id="S4.SS4.p5.1.m1.1.2.2.3" xref="S4.SS4.p5.1.m1.1.2.2.3.cmml"><mn id="S4.SS4.p5.1.m1.1.2.2.3.2" xref="S4.SS4.p5.1.m1.1.2.2.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S4.SS4.p5.1.m1.1.2.2.3.1" xref="S4.SS4.p5.1.m1.1.2.2.3.1.cmml">​</mo><mi mathvariant="normal" id="S4.SS4.p5.1.m1.1.2.2.3.3" xref="S4.SS4.p5.1.m1.1.2.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.SS4.p5.1.m1.1.2.2.3.1a" xref="S4.SS4.p5.1.m1.1.2.2.3.1.cmml">​</mo><mi id="S4.SS4.p5.1.m1.1.2.2.3.4" xref="S4.SS4.p5.1.m1.1.2.2.3.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.SS4.p5.1.m1.1.2.2.3.1b" xref="S4.SS4.p5.1.m1.1.2.2.3.1.cmml">​</mo><mi id="S4.SS4.p5.1.m1.1.2.2.3.5" xref="S4.SS4.p5.1.m1.1.2.2.3.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.SS4.p5.1.m1.1.2.2.3.1c" xref="S4.SS4.p5.1.m1.1.2.2.3.1.cmml">​</mo><mi id="S4.SS4.p5.1.m1.1.2.2.3.6" xref="S4.SS4.p5.1.m1.1.2.2.3.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.SS4.p5.1.m1.1.2.2.3.1d" xref="S4.SS4.p5.1.m1.1.2.2.3.1.cmml">​</mo><mi id="S4.SS4.p5.1.m1.1.2.2.3.7" xref="S4.SS4.p5.1.m1.1.2.2.3.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.SS4.p5.1.m1.1.2.2.3.1e" xref="S4.SS4.p5.1.m1.1.2.2.3.1.cmml">​</mo><mi id="S4.SS4.p5.1.m1.1.2.2.3.8" xref="S4.SS4.p5.1.m1.1.2.2.3.8.cmml">e</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S4.SS4.p5.1.m1.1.2.1" xref="S4.SS4.p5.1.m1.1.2.1.cmml">​</mo><mrow id="S4.SS4.p5.1.m1.1.2.3.2" xref="S4.SS4.p5.1.m1.1.2.cmml"><mo stretchy="false" id="S4.SS4.p5.1.m1.1.2.3.2.1" xref="S4.SS4.p5.1.m1.1.2.cmml">(</mo><mi id="S4.SS4.p5.1.m1.1.1" xref="S4.SS4.p5.1.m1.1.1.cmml">i</mi><mo stretchy="false" id="S4.SS4.p5.1.m1.1.2.3.2.2" xref="S4.SS4.p5.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.1.m1.1b"><apply id="S4.SS4.p5.1.m1.1.2.cmml" xref="S4.SS4.p5.1.m1.1.2"><times id="S4.SS4.p5.1.m1.1.2.1.cmml" xref="S4.SS4.p5.1.m1.1.2.1"></times><apply id="S4.SS4.p5.1.m1.1.2.2.cmml" xref="S4.SS4.p5.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.SS4.p5.1.m1.1.2.2.1.cmml" xref="S4.SS4.p5.1.m1.1.2.2">subscript</csymbol><ci id="S4.SS4.p5.1.m1.1.2.2.2.cmml" xref="S4.SS4.p5.1.m1.1.2.2.2">𝐹</ci><apply id="S4.SS4.p5.1.m1.1.2.2.3.cmml" xref="S4.SS4.p5.1.m1.1.2.2.3"><times id="S4.SS4.p5.1.m1.1.2.2.3.1.cmml" xref="S4.SS4.p5.1.m1.1.2.2.3.1"></times><cn type="integer" id="S4.SS4.p5.1.m1.1.2.2.3.2.cmml" xref="S4.SS4.p5.1.m1.1.2.2.3.2">1</cn><ci id="S4.SS4.p5.1.m1.1.2.2.3.3.cmml" xref="S4.SS4.p5.1.m1.1.2.2.3.3">_</ci><ci id="S4.SS4.p5.1.m1.1.2.2.3.4.cmml" xref="S4.SS4.p5.1.m1.1.2.2.3.4">𝑠</ci><ci id="S4.SS4.p5.1.m1.1.2.2.3.5.cmml" xref="S4.SS4.p5.1.m1.1.2.2.3.5">𝑐</ci><ci id="S4.SS4.p5.1.m1.1.2.2.3.6.cmml" xref="S4.SS4.p5.1.m1.1.2.2.3.6">𝑜</ci><ci id="S4.SS4.p5.1.m1.1.2.2.3.7.cmml" xref="S4.SS4.p5.1.m1.1.2.2.3.7">𝑟</ci><ci id="S4.SS4.p5.1.m1.1.2.2.3.8.cmml" xref="S4.SS4.p5.1.m1.1.2.2.3.8">𝑒</ci></apply></apply><ci id="S4.SS4.p5.1.m1.1.1.cmml" xref="S4.SS4.p5.1.m1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.1.m1.1c">F_{1\_score}(i)</annotation></semantics></math> is the F1 score of the <math id="S4.SS4.p5.2.m2.1" class="ltx_Math" alttext="i^{th}" display="inline"><semantics id="S4.SS4.p5.2.m2.1a"><msup id="S4.SS4.p5.2.m2.1.1" xref="S4.SS4.p5.2.m2.1.1.cmml"><mi id="S4.SS4.p5.2.m2.1.1.2" xref="S4.SS4.p5.2.m2.1.1.2.cmml">i</mi><mrow id="S4.SS4.p5.2.m2.1.1.3" xref="S4.SS4.p5.2.m2.1.1.3.cmml"><mi id="S4.SS4.p5.2.m2.1.1.3.2" xref="S4.SS4.p5.2.m2.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS4.p5.2.m2.1.1.3.1" xref="S4.SS4.p5.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.SS4.p5.2.m2.1.1.3.3" xref="S4.SS4.p5.2.m2.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.2.m2.1b"><apply id="S4.SS4.p5.2.m2.1.1.cmml" xref="S4.SS4.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p5.2.m2.1.1.1.cmml" xref="S4.SS4.p5.2.m2.1.1">superscript</csymbol><ci id="S4.SS4.p5.2.m2.1.1.2.cmml" xref="S4.SS4.p5.2.m2.1.1.2">𝑖</ci><apply id="S4.SS4.p5.2.m2.1.1.3.cmml" xref="S4.SS4.p5.2.m2.1.1.3"><times id="S4.SS4.p5.2.m2.1.1.3.1.cmml" xref="S4.SS4.p5.2.m2.1.1.3.1"></times><ci id="S4.SS4.p5.2.m2.1.1.3.2.cmml" xref="S4.SS4.p5.2.m2.1.1.3.2">𝑡</ci><ci id="S4.SS4.p5.2.m2.1.1.3.3.cmml" xref="S4.SS4.p5.2.m2.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.2.m2.1c">i^{th}</annotation></semantics></math> class and <math id="S4.SS4.p5.3.m3.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S4.SS4.p5.3.m3.1a"><mi id="S4.SS4.p5.3.m3.1.1" xref="S4.SS4.p5.3.m3.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.3.m3.1b"><ci id="S4.SS4.p5.3.m3.1.1.cmml" xref="S4.SS4.p5.3.m3.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.3.m3.1c">C</annotation></semantics></math> is the set of classes. In this way, a model that performs well only with the majority classes will be penalized by the minority classes.</p>
</div>
<div id="S4.SS4.p6" class="ltx_para">
<p id="S4.SS4.p6.1" class="ltx_p">While classification metrics are interesting for assessing final performances, they do not give insight into how each FL algorithm modifies the neural network layers. Indeed, after a few local-epochs of training on local devices, the client and server model weights may differ drastically. In the case of CNNs, a client filter may specialize in detecting a specific feature. After a few communication rounds, the aggregation at the server model should make the first layer of all clients identical with only the final layers still personalized by the local dataset.</p>
</div>
<div id="S4.SS4.p7" class="ltx_para">
<p id="S4.SS4.p7.1" class="ltx_p">To monitor this aspect, we proposed a <em id="S4.SS4.p7.1.1" class="ltx_emph ltx_font_italic">Pair-wise Dissimilarity measure</em> which evaluates how different neurons are between the server and the client model. When the client models are very close, the distance between neurons of different clients should be relatively low. In this work, we used an equivalent of the L2 norm on the difference between two vectors, that is the Euclidean distance between the weight of two neurons as below:</p>
</div>
<div id="S4.SS4.p8" class="ltx_para">
<table id="S4.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E3.m1.4" class="ltx_Math" alttext="\scriptstyle{dist(N_{1},N_{2})=\sqrt{(N_{1}^{w_{1}}-N_{2}^{w_{1}})^{2}+\dots+(N_{1}^{w_{K}}-N_{2}^{w_{K}})^{2}}}" display="block"><semantics id="S4.E3.m1.4a"><mrow id="S4.E3.m1.4.4" xref="S4.E3.m1.4.4.cmml"><mrow id="S4.E3.m1.4.4.2" xref="S4.E3.m1.4.4.2.cmml"><mi mathsize="70%" id="S4.E3.m1.4.4.2.4" xref="S4.E3.m1.4.4.2.4.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.E3.m1.4.4.2.3" xref="S4.E3.m1.4.4.2.3.cmml">​</mo><mi mathsize="70%" id="S4.E3.m1.4.4.2.5" xref="S4.E3.m1.4.4.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.E3.m1.4.4.2.3a" xref="S4.E3.m1.4.4.2.3.cmml">​</mo><mi mathsize="70%" id="S4.E3.m1.4.4.2.6" xref="S4.E3.m1.4.4.2.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.E3.m1.4.4.2.3b" xref="S4.E3.m1.4.4.2.3.cmml">​</mo><mi mathsize="70%" id="S4.E3.m1.4.4.2.7" xref="S4.E3.m1.4.4.2.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.E3.m1.4.4.2.3c" xref="S4.E3.m1.4.4.2.3.cmml">​</mo><mrow id="S4.E3.m1.4.4.2.2.2" xref="S4.E3.m1.4.4.2.2.3.cmml"><mo maxsize="70%" minsize="70%" id="S4.E3.m1.4.4.2.2.2.3" xref="S4.E3.m1.4.4.2.2.3.cmml">(</mo><msub id="S4.E3.m1.3.3.1.1.1.1" xref="S4.E3.m1.3.3.1.1.1.1.cmml"><mi mathsize="70%" id="S4.E3.m1.3.3.1.1.1.1.2" xref="S4.E3.m1.3.3.1.1.1.1.2.cmml">N</mi><mn mathsize="71%" id="S4.E3.m1.3.3.1.1.1.1.3" xref="S4.E3.m1.3.3.1.1.1.1.3.cmml">1</mn></msub><mo mathsize="70%" id="S4.E3.m1.4.4.2.2.2.4" xref="S4.E3.m1.4.4.2.2.3.cmml">,</mo><msub id="S4.E3.m1.4.4.2.2.2.2" xref="S4.E3.m1.4.4.2.2.2.2.cmml"><mi mathsize="70%" id="S4.E3.m1.4.4.2.2.2.2.2" xref="S4.E3.m1.4.4.2.2.2.2.2.cmml">N</mi><mn mathsize="71%" id="S4.E3.m1.4.4.2.2.2.2.3" xref="S4.E3.m1.4.4.2.2.2.2.3.cmml">2</mn></msub><mo maxsize="70%" minsize="70%" id="S4.E3.m1.4.4.2.2.2.5" xref="S4.E3.m1.4.4.2.2.3.cmml">)</mo></mrow></mrow><mo mathsize="70%" id="S4.E3.m1.4.4.3" xref="S4.E3.m1.4.4.3.cmml">=</mo><msqrt id="S4.E3.m1.2.2" xref="S4.E3.m1.2.2.cmml"><mrow id="S4.E3.m1.2.2.2" xref="S4.E3.m1.2.2.2.cmml"><msup id="S4.E3.m1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.cmml"><mrow id="S4.E3.m1.1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.1.cmml"><mo maxsize="70%" minsize="70%" id="S4.E3.m1.1.1.1.1.1.1.2" xref="S4.E3.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E3.m1.1.1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.1.cmml"><msubsup id="S4.E3.m1.1.1.1.1.1.1.1.2" xref="S4.E3.m1.1.1.1.1.1.1.1.2.cmml"><mi mathsize="70%" id="S4.E3.m1.1.1.1.1.1.1.1.2.2.2" xref="S4.E3.m1.1.1.1.1.1.1.1.2.2.2.cmml">N</mi><mn mathsize="71%" id="S4.E3.m1.1.1.1.1.1.1.1.2.2.3" xref="S4.E3.m1.1.1.1.1.1.1.1.2.2.3.cmml">1</mn><msub id="S4.E3.m1.1.1.1.1.1.1.1.2.3" xref="S4.E3.m1.1.1.1.1.1.1.1.2.3.cmml"><mi mathsize="71%" id="S4.E3.m1.1.1.1.1.1.1.1.2.3.2" xref="S4.E3.m1.1.1.1.1.1.1.1.2.3.2.cmml">w</mi><mn id="S4.E3.m1.1.1.1.1.1.1.1.2.3.3" xref="S4.E3.m1.1.1.1.1.1.1.1.2.3.3.cmml">1</mn></msub></msubsup><mo mathsize="70%" id="S4.E3.m1.1.1.1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.1.1.cmml">−</mo><msubsup id="S4.E3.m1.1.1.1.1.1.1.1.3" xref="S4.E3.m1.1.1.1.1.1.1.1.3.cmml"><mi mathsize="70%" id="S4.E3.m1.1.1.1.1.1.1.1.3.2.2" xref="S4.E3.m1.1.1.1.1.1.1.1.3.2.2.cmml">N</mi><mn mathsize="71%" id="S4.E3.m1.1.1.1.1.1.1.1.3.2.3" xref="S4.E3.m1.1.1.1.1.1.1.1.3.2.3.cmml">2</mn><msub id="S4.E3.m1.1.1.1.1.1.1.1.3.3" xref="S4.E3.m1.1.1.1.1.1.1.1.3.3.cmml"><mi mathsize="71%" id="S4.E3.m1.1.1.1.1.1.1.1.3.3.2" xref="S4.E3.m1.1.1.1.1.1.1.1.3.3.2.cmml">w</mi><mn id="S4.E3.m1.1.1.1.1.1.1.1.3.3.3" xref="S4.E3.m1.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></msub></msubsup></mrow><mo maxsize="70%" minsize="70%" id="S4.E3.m1.1.1.1.1.1.1.3" xref="S4.E3.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mn mathsize="71%" id="S4.E3.m1.1.1.1.1.3" xref="S4.E3.m1.1.1.1.1.3.cmml">2</mn></msup><mo mathsize="70%" id="S4.E3.m1.2.2.2.3" xref="S4.E3.m1.2.2.2.3.cmml">+</mo><mi mathsize="70%" mathvariant="normal" id="S4.E3.m1.2.2.2.4" xref="S4.E3.m1.2.2.2.4.cmml">⋯</mi><mo mathsize="70%" id="S4.E3.m1.2.2.2.3a" xref="S4.E3.m1.2.2.2.3.cmml">+</mo><msup id="S4.E3.m1.2.2.2.2" xref="S4.E3.m1.2.2.2.2.cmml"><mrow id="S4.E3.m1.2.2.2.2.1.1" xref="S4.E3.m1.2.2.2.2.1.1.1.cmml"><mo maxsize="70%" minsize="70%" id="S4.E3.m1.2.2.2.2.1.1.2" xref="S4.E3.m1.2.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.E3.m1.2.2.2.2.1.1.1" xref="S4.E3.m1.2.2.2.2.1.1.1.cmml"><msubsup id="S4.E3.m1.2.2.2.2.1.1.1.2" xref="S4.E3.m1.2.2.2.2.1.1.1.2.cmml"><mi mathsize="70%" id="S4.E3.m1.2.2.2.2.1.1.1.2.2.2" xref="S4.E3.m1.2.2.2.2.1.1.1.2.2.2.cmml">N</mi><mn mathsize="71%" id="S4.E3.m1.2.2.2.2.1.1.1.2.2.3" xref="S4.E3.m1.2.2.2.2.1.1.1.2.2.3.cmml">1</mn><msub id="S4.E3.m1.2.2.2.2.1.1.1.2.3" xref="S4.E3.m1.2.2.2.2.1.1.1.2.3.cmml"><mi mathsize="71%" id="S4.E3.m1.2.2.2.2.1.1.1.2.3.2" xref="S4.E3.m1.2.2.2.2.1.1.1.2.3.2.cmml">w</mi><mi id="S4.E3.m1.2.2.2.2.1.1.1.2.3.3" xref="S4.E3.m1.2.2.2.2.1.1.1.2.3.3.cmml">K</mi></msub></msubsup><mo mathsize="70%" id="S4.E3.m1.2.2.2.2.1.1.1.1" xref="S4.E3.m1.2.2.2.2.1.1.1.1.cmml">−</mo><msubsup id="S4.E3.m1.2.2.2.2.1.1.1.3" xref="S4.E3.m1.2.2.2.2.1.1.1.3.cmml"><mi mathsize="70%" id="S4.E3.m1.2.2.2.2.1.1.1.3.2.2" xref="S4.E3.m1.2.2.2.2.1.1.1.3.2.2.cmml">N</mi><mn mathsize="71%" id="S4.E3.m1.2.2.2.2.1.1.1.3.2.3" xref="S4.E3.m1.2.2.2.2.1.1.1.3.2.3.cmml">2</mn><msub id="S4.E3.m1.2.2.2.2.1.1.1.3.3" xref="S4.E3.m1.2.2.2.2.1.1.1.3.3.cmml"><mi mathsize="71%" id="S4.E3.m1.2.2.2.2.1.1.1.3.3.2" xref="S4.E3.m1.2.2.2.2.1.1.1.3.3.2.cmml">w</mi><mi id="S4.E3.m1.2.2.2.2.1.1.1.3.3.3" xref="S4.E3.m1.2.2.2.2.1.1.1.3.3.3.cmml">K</mi></msub></msubsup></mrow><mo maxsize="70%" minsize="70%" id="S4.E3.m1.2.2.2.2.1.1.3" xref="S4.E3.m1.2.2.2.2.1.1.1.cmml">)</mo></mrow><mn mathsize="71%" id="S4.E3.m1.2.2.2.2.3" xref="S4.E3.m1.2.2.2.2.3.cmml">2</mn></msup></mrow></msqrt></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m1.4b"><apply id="S4.E3.m1.4.4.cmml" xref="S4.E3.m1.4.4"><eq id="S4.E3.m1.4.4.3.cmml" xref="S4.E3.m1.4.4.3"></eq><apply id="S4.E3.m1.4.4.2.cmml" xref="S4.E3.m1.4.4.2"><times id="S4.E3.m1.4.4.2.3.cmml" xref="S4.E3.m1.4.4.2.3"></times><ci id="S4.E3.m1.4.4.2.4.cmml" xref="S4.E3.m1.4.4.2.4">𝑑</ci><ci id="S4.E3.m1.4.4.2.5.cmml" xref="S4.E3.m1.4.4.2.5">𝑖</ci><ci id="S4.E3.m1.4.4.2.6.cmml" xref="S4.E3.m1.4.4.2.6">𝑠</ci><ci id="S4.E3.m1.4.4.2.7.cmml" xref="S4.E3.m1.4.4.2.7">𝑡</ci><interval closure="open" id="S4.E3.m1.4.4.2.2.3.cmml" xref="S4.E3.m1.4.4.2.2.2"><apply id="S4.E3.m1.3.3.1.1.1.1.cmml" xref="S4.E3.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S4.E3.m1.3.3.1.1.1.1.1.cmml" xref="S4.E3.m1.3.3.1.1.1.1">subscript</csymbol><ci id="S4.E3.m1.3.3.1.1.1.1.2.cmml" xref="S4.E3.m1.3.3.1.1.1.1.2">𝑁</ci><cn type="integer" id="S4.E3.m1.3.3.1.1.1.1.3.cmml" xref="S4.E3.m1.3.3.1.1.1.1.3">1</cn></apply><apply id="S4.E3.m1.4.4.2.2.2.2.cmml" xref="S4.E3.m1.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.2.2.2.2.1.cmml" xref="S4.E3.m1.4.4.2.2.2.2">subscript</csymbol><ci id="S4.E3.m1.4.4.2.2.2.2.2.cmml" xref="S4.E3.m1.4.4.2.2.2.2.2">𝑁</ci><cn type="integer" id="S4.E3.m1.4.4.2.2.2.2.3.cmml" xref="S4.E3.m1.4.4.2.2.2.2.3">2</cn></apply></interval></apply><apply id="S4.E3.m1.2.2.cmml" xref="S4.E3.m1.2.2"><root id="S4.E3.m1.2.2a.cmml" xref="S4.E3.m1.2.2"></root><apply id="S4.E3.m1.2.2.2.cmml" xref="S4.E3.m1.2.2.2"><plus id="S4.E3.m1.2.2.2.3.cmml" xref="S4.E3.m1.2.2.2.3"></plus><apply id="S4.E3.m1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.1">superscript</csymbol><apply id="S4.E3.m1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1"><minus id="S4.E3.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.1"></minus><apply id="S4.E3.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S4.E3.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E3.m1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.2.2.2">𝑁</ci><cn type="integer" id="S4.E3.m1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.2.2.3">1</cn></apply><apply id="S4.E3.m1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S4.E3.m1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.2.3.2">𝑤</ci><cn type="integer" id="S4.E3.m1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S4.E3.m1.1.1.1.1.1.1.1.3.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S4.E3.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E3.m1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.3.2.2">𝑁</ci><cn type="integer" id="S4.E3.m1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.3.2.3">2</cn></apply><apply id="S4.E3.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S4.E3.m1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.3.3.2">𝑤</ci><cn type="integer" id="S4.E3.m1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply><cn type="integer" id="S4.E3.m1.1.1.1.1.3.cmml" xref="S4.E3.m1.1.1.1.1.3">2</cn></apply><ci id="S4.E3.m1.2.2.2.4.cmml" xref="S4.E3.m1.2.2.2.4">⋯</ci><apply id="S4.E3.m1.2.2.2.2.cmml" xref="S4.E3.m1.2.2.2.2"><csymbol cd="ambiguous" id="S4.E3.m1.2.2.2.2.2.cmml" xref="S4.E3.m1.2.2.2.2">superscript</csymbol><apply id="S4.E3.m1.2.2.2.2.1.1.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1"><minus id="S4.E3.m1.2.2.2.2.1.1.1.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.1"></minus><apply id="S4.E3.m1.2.2.2.2.1.1.1.2.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.E3.m1.2.2.2.2.1.1.1.2.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.2">superscript</csymbol><apply id="S4.E3.m1.2.2.2.2.1.1.1.2.2.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.E3.m1.2.2.2.2.1.1.1.2.2.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.2">subscript</csymbol><ci id="S4.E3.m1.2.2.2.2.1.1.1.2.2.2.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.2.2.2">𝑁</ci><cn type="integer" id="S4.E3.m1.2.2.2.2.1.1.1.2.2.3.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.2.2.3">1</cn></apply><apply id="S4.E3.m1.2.2.2.2.1.1.1.2.3.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.E3.m1.2.2.2.2.1.1.1.2.3.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.2.3">subscript</csymbol><ci id="S4.E3.m1.2.2.2.2.1.1.1.2.3.2.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.2.3.2">𝑤</ci><ci id="S4.E3.m1.2.2.2.2.1.1.1.2.3.3.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.2.3.3">𝐾</ci></apply></apply><apply id="S4.E3.m1.2.2.2.2.1.1.1.3.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S4.E3.m1.2.2.2.2.1.1.1.3.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.3">superscript</csymbol><apply id="S4.E3.m1.2.2.2.2.1.1.1.3.2.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S4.E3.m1.2.2.2.2.1.1.1.3.2.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.3">subscript</csymbol><ci id="S4.E3.m1.2.2.2.2.1.1.1.3.2.2.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.3.2.2">𝑁</ci><cn type="integer" id="S4.E3.m1.2.2.2.2.1.1.1.3.2.3.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.3.2.3">2</cn></apply><apply id="S4.E3.m1.2.2.2.2.1.1.1.3.3.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E3.m1.2.2.2.2.1.1.1.3.3.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.3.3">subscript</csymbol><ci id="S4.E3.m1.2.2.2.2.1.1.1.3.3.2.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.3.3.2">𝑤</ci><ci id="S4.E3.m1.2.2.2.2.1.1.1.3.3.3.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.3.3.3">𝐾</ci></apply></apply></apply><cn type="integer" id="S4.E3.m1.2.2.2.2.3.cmml" xref="S4.E3.m1.2.2.2.2.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.4c">\scriptstyle{dist(N_{1},N_{2})=\sqrt{(N_{1}^{w_{1}}-N_{2}^{w_{1}})^{2}+\dots+(N_{1}^{w_{K}}-N_{2}^{w_{K}})^{2}}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S4.SS4.p8.5" class="ltx_p">where <math id="S4.SS4.p8.1.m1.1" class="ltx_Math" alttext="N_{1}" display="inline"><semantics id="S4.SS4.p8.1.m1.1a"><msub id="S4.SS4.p8.1.m1.1.1" xref="S4.SS4.p8.1.m1.1.1.cmml"><mi id="S4.SS4.p8.1.m1.1.1.2" xref="S4.SS4.p8.1.m1.1.1.2.cmml">N</mi><mn id="S4.SS4.p8.1.m1.1.1.3" xref="S4.SS4.p8.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p8.1.m1.1b"><apply id="S4.SS4.p8.1.m1.1.1.cmml" xref="S4.SS4.p8.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p8.1.m1.1.1.1.cmml" xref="S4.SS4.p8.1.m1.1.1">subscript</csymbol><ci id="S4.SS4.p8.1.m1.1.1.2.cmml" xref="S4.SS4.p8.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.SS4.p8.1.m1.1.1.3.cmml" xref="S4.SS4.p8.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p8.1.m1.1c">N_{1}</annotation></semantics></math> and <math id="S4.SS4.p8.2.m2.1" class="ltx_Math" alttext="N_{2}" display="inline"><semantics id="S4.SS4.p8.2.m2.1a"><msub id="S4.SS4.p8.2.m2.1.1" xref="S4.SS4.p8.2.m2.1.1.cmml"><mi id="S4.SS4.p8.2.m2.1.1.2" xref="S4.SS4.p8.2.m2.1.1.2.cmml">N</mi><mn id="S4.SS4.p8.2.m2.1.1.3" xref="S4.SS4.p8.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p8.2.m2.1b"><apply id="S4.SS4.p8.2.m2.1.1.cmml" xref="S4.SS4.p8.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p8.2.m2.1.1.1.cmml" xref="S4.SS4.p8.2.m2.1.1">subscript</csymbol><ci id="S4.SS4.p8.2.m2.1.1.2.cmml" xref="S4.SS4.p8.2.m2.1.1.2">𝑁</ci><cn type="integer" id="S4.SS4.p8.2.m2.1.1.3.cmml" xref="S4.SS4.p8.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p8.2.m2.1c">N_{2}</annotation></semantics></math> are two different neurons and <math id="S4.SS4.p8.3.m3.1" class="ltx_Math" alttext="w_{i}" display="inline"><semantics id="S4.SS4.p8.3.m3.1a"><msub id="S4.SS4.p8.3.m3.1.1" xref="S4.SS4.p8.3.m3.1.1.cmml"><mi id="S4.SS4.p8.3.m3.1.1.2" xref="S4.SS4.p8.3.m3.1.1.2.cmml">w</mi><mi id="S4.SS4.p8.3.m3.1.1.3" xref="S4.SS4.p8.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p8.3.m3.1b"><apply id="S4.SS4.p8.3.m3.1.1.cmml" xref="S4.SS4.p8.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p8.3.m3.1.1.1.cmml" xref="S4.SS4.p8.3.m3.1.1">subscript</csymbol><ci id="S4.SS4.p8.3.m3.1.1.2.cmml" xref="S4.SS4.p8.3.m3.1.1.2">𝑤</ci><ci id="S4.SS4.p8.3.m3.1.1.3.cmml" xref="S4.SS4.p8.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p8.3.m3.1c">w_{i}</annotation></semantics></math> is the <math id="S4.SS4.p8.4.m4.1" class="ltx_Math" alttext="i^{th}" display="inline"><semantics id="S4.SS4.p8.4.m4.1a"><msup id="S4.SS4.p8.4.m4.1.1" xref="S4.SS4.p8.4.m4.1.1.cmml"><mi id="S4.SS4.p8.4.m4.1.1.2" xref="S4.SS4.p8.4.m4.1.1.2.cmml">i</mi><mrow id="S4.SS4.p8.4.m4.1.1.3" xref="S4.SS4.p8.4.m4.1.1.3.cmml"><mi id="S4.SS4.p8.4.m4.1.1.3.2" xref="S4.SS4.p8.4.m4.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS4.p8.4.m4.1.1.3.1" xref="S4.SS4.p8.4.m4.1.1.3.1.cmml">​</mo><mi id="S4.SS4.p8.4.m4.1.1.3.3" xref="S4.SS4.p8.4.m4.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p8.4.m4.1b"><apply id="S4.SS4.p8.4.m4.1.1.cmml" xref="S4.SS4.p8.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p8.4.m4.1.1.1.cmml" xref="S4.SS4.p8.4.m4.1.1">superscript</csymbol><ci id="S4.SS4.p8.4.m4.1.1.2.cmml" xref="S4.SS4.p8.4.m4.1.1.2">𝑖</ci><apply id="S4.SS4.p8.4.m4.1.1.3.cmml" xref="S4.SS4.p8.4.m4.1.1.3"><times id="S4.SS4.p8.4.m4.1.1.3.1.cmml" xref="S4.SS4.p8.4.m4.1.1.3.1"></times><ci id="S4.SS4.p8.4.m4.1.1.3.2.cmml" xref="S4.SS4.p8.4.m4.1.1.3.2">𝑡</ci><ci id="S4.SS4.p8.4.m4.1.1.3.3.cmml" xref="S4.SS4.p8.4.m4.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p8.4.m4.1c">i^{th}</annotation></semantics></math> of the <math id="S4.SS4.p8.5.m5.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS4.p8.5.m5.1a"><mi id="S4.SS4.p8.5.m5.1.1" xref="S4.SS4.p8.5.m5.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p8.5.m5.1b"><ci id="S4.SS4.p8.5.m5.1.1.cmml" xref="S4.SS4.p8.5.m5.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p8.5.m5.1c">K</annotation></semantics></math> weights of the neurons. A large distance would indicate a strong dissimilarity, while neurons that are very similar to one another should have a small distance.</p>
</div>
<div id="S4.SS4.p9" class="ltx_para">
<p id="S4.SS4.p9.1" class="ltx_p">Such measure is particularly useful to assess how diverging the client weights are from the server ones. This enables to identify clients that become outliers during the learning by constantly diverging from the server model. This measure is also the basis of the distant measure used in FedDist.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Experiment and Results</span>
</h2>

<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS1.4.1.1" class="ltx_text">V-A</span> </span><span id="S5.SS1.5.2" class="ltx_text ltx_font_italic">Settings</span>
</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">The four different algorithms were evaluated using the REALWORLD dataset. Each client has been simulated using data corresponding to the dataset’s individual participant, leading to 15 different clients. Each client dataset was, in turn, partitioned into an 80% – 20% ratio to obtain local train and test datasets. Furthermore, the local test sets were aggregated into a global test set, used to evaluate the genericity/personalization trade-off of the different algorithms.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.1" class="ltx_p">We built and evaluated three models. In the <span id="S5.SS1.p2.1.1" class="ltx_text ltx_font_bold">Global accuracy</span> evaluation, we tested the aggregated model against the combined global dataset. Let us note that this was not possible for the FedPer algorithm, which lacks a global model. In the <span id="S5.SS1.p2.1.2" class="ltx_text ltx_font_bold">Personalization accuracy</span> evaluation, we tested each client model on its own local dataset. In the <span id="S5.SS1.p2.1.3" class="ltx_text ltx_font_bold">Generalization accuracy</span> evaluation, we tested each client model on the combined global dataset. For each evaluation, we computed the accuracy, recall, precision, and F-score.</p>
</div>
<div id="S5.SS1.p3" class="ltx_para">
<p id="S5.SS1.p3.1" class="ltx_p">The input data of the REALWORLD dataset were provided by the Inertial Measurement Unit (IMU) of smartphones. That is the 3-axis accelerometer data with the 3-axis gyroscope data, sampled at 50hz. As common in deep learning approaches (i.e., features are learned and not hand-crafted), no features extraction was applied to let the model build its own representation. The data was preprocessed using channel-wise z-normalization and sampled using a window-frame size of 128 with a 50 overlap of 6 channels of each axis.</p>
</div>
<div id="S5.SS1.p4" class="ltx_para">
<p id="S5.SS1.p4.1" class="ltx_p">All experiments were implemented using TensorFlow 2 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> and run on a Debian 4.19.132-1 version 10 using a GPU GeForce GTX TITAN Black 6GB. We used our own implementation of FedAvg and FedPer to overcome the limitations of TensorFlow Federated (TFF) (memory size) at the time of the experiment. FedMA was adapted from the own code of the authors with minimal modifications. FedDist was entirely implemented by us. The FedAvg, FedMA, and FedPer implementations were able to reproduce the results of the original authors.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS2.4.1.1" class="ltx_text">V-B</span> </span><span id="S5.SS2.5.2" class="ltx_text ltx_font_italic">HAR model with Traditional Learning</span>
</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">To select a state-of-the-art HAR model, we performed several experiments where we trained models without any collaborative techniques. We used Dense Neural Networks (DNNs) and Convolution Neural Networks (CNNs) of different architectures, chosen to limit the model complexity and size. The models were trained during 200 epochs using a mini-batch SGD of size 32, and a dropout rate of 0.50 was employed. Table <a href="#S5.T2" title="TABLE II ‣ V-B HAR model with Traditional Learning ‣ V Experiment and Results ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a> shows the performance of the models trained in a centralized approach on the REALWORLD dataset. All evaluations were performed on the global test set.</p>
</div>
<figure id="S5.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE II: </span>Centralized learning performance with several models on the REALWORLD dataset</figcaption>
<table id="S5.T2.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T2.1.1.1" class="ltx_tr">
<th id="S5.T2.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t">Model Architecture</th>
<th id="S5.T2.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">Acc</th>
<th id="S5.T2.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">F-Score (%)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T2.1.2.1" class="ltx_tr">
<th id="S5.T2.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">196-16C_4M_1024D</th>
<td id="S5.T2.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S5.T2.1.2.1.2.1" class="ltx_text ltx_font_bold">91.39</span></td>
<td id="S5.T2.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S5.T2.1.2.1.3.1" class="ltx_text ltx_font_bold">92.48</span></td>
</tr>
<tr id="S5.T2.1.3.2" class="ltx_tr">
<th id="S5.T2.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r">196-16C_4M_1024D_512D</th>
<td id="S5.T2.1.3.2.2" class="ltx_td ltx_align_center ltx_border_r">89.75</td>
<td id="S5.T2.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r">90.72</td>
</tr>
<tr id="S5.T2.1.4.3" class="ltx_tr">
<th id="S5.T2.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r">1024D_512D</th>
<td id="S5.T2.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r">84.59</td>
<td id="S5.T2.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r">85.90</td>
</tr>
<tr id="S5.T2.1.5.4" class="ltx_tr">
<th id="S5.T2.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r">400D_100D</th>
<td id="S5.T2.1.5.4.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">82.41</td>
<td id="S5.T2.1.5.4.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">84.76</td>
</tr>
</tbody>
</table>
</figure>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.1" class="ltx_p">From the experiment, the best model is 196-16C_4M_1024D. The shape of this model is 196 filters of 16x1 convolution layer, followed by a 4x1 max pool layer, then 1024 units of the dense layer, and finally the softmax layer with 8 units. This model reaches 92.48% of F-Score, which is far above the current state-of-the-art on REALWORLD dataset, which was previously 81% of F-Score <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>. The experiment shows that our CNN model is well-tuned and superior to the state-of-the-art for this dataset. This experiment shows why we have chosen this model for all the subsequent experiments.</p>
</div>
<div id="S5.SS2.p3" class="ltx_para">
<p id="S5.SS2.p3.1" class="ltx_p">We also trained the model on each of the 15 individual client datasets. In that case, the client models’ mean F-Score with this local learning approach on the local test-sets was 96.04%. This result is high but highly biased. If the local models are tested on the global test-set (the combined test-sets of all the clients), the obtained mean F-Score is 51.94%. Hence a model learned on local data is highly personalized but clearly lacks generalization capability (i.e., this is a classical case of over-fitting)</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS3.4.1.1" class="ltx_text">V-C</span> </span><span id="S5.SS3.5.2" class="ltx_text ltx_font_italic">Federated Learning</span>
</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">The four FL algorithms were run using the CNN model architecture defined in the previous section. Before learning, all models were randomly initialized. We experimented with each FL algorithm during 200 communication rounds. The clients were all set to perform local learning for 5 epochs.</p>
</div>
<div id="S5.SS3.p2" class="ltx_para">
<p id="S5.SS3.p2.1" class="ltx_p">Table <a href="#S5.T3" title="TABLE III ‣ V-C Federated Learning ‣ V Experiment and Results ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a> presents the results of the learning. The Centralized Server Global accuracy (92.48%) and Local Personalization accuracy results (96.04%) give the upper limit in terms of generalization and personalization. Among the FL algorithms, FedDist outperforms all other algorithms for the three measures (Global, Personalization, and Generalization accuracy). It exhibits the best trade-off between generalization and personalization (Generalization accuracy = 74.23%). FedAvg is the second-best algorithm (Generalization accuracy = 72.99%) while FedMA (60.09%) and FedPer (53.01%) show a trend towards overfitting but without beating FedDist or FedAvg in terms of personalization. Apart from FedMA, all algorithms seem slow in converging before the 200 communication rounds. We detail the results for each algorithm below.</p>
</div>
<figure id="S5.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE III: </span>Overall results of the learning experiments on the REALWORLD dataset</figcaption>
<div id="S5.T3.13" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:179.6pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-1.8pt,0.7pt) scale(0.99197081458927,0.99197081458927) ;">
<table id="S5.T3.13.13" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T3.13.13.14.1" class="ltx_tr">
<td id="S5.T3.13.13.14.1.1" class="ltx_td ltx_border_l ltx_border_r ltx_border_t"></td>
<td id="S5.T3.13.13.14.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="5">REALWORLD</td>
</tr>
<tr id="S5.T3.13.13.15.2" class="ltx_tr">
<td id="S5.T3.13.13.15.2.1" class="ltx_td ltx_border_l ltx_border_r ltx_border_t"></td>
<td id="S5.T3.13.13.15.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Global</td>
<td id="S5.T3.13.13.15.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Personalization</td>
<td id="S5.T3.13.13.15.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Generalization</td>
<td id="S5.T3.13.13.15.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Server</td>
<td id="S5.T3.13.13.15.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Client</td>
</tr>
<tr id="S5.T3.13.13.16.3" class="ltx_tr">
<td id="S5.T3.13.13.16.3.1" class="ltx_td ltx_border_l ltx_border_r"></td>
<td id="S5.T3.13.13.16.3.2" class="ltx_td ltx_align_center ltx_border_r">F-Score (%)</td>
<td id="S5.T3.13.13.16.3.3" class="ltx_td ltx_align_center ltx_border_r">F-Score (%)</td>
<td id="S5.T3.13.13.16.3.4" class="ltx_td ltx_align_center ltx_border_r">F-Score (%)</td>
<td id="S5.T3.13.13.16.3.5" class="ltx_td ltx_align_center ltx_border_r">Best Rnd</td>
<td id="S5.T3.13.13.16.3.6" class="ltx_td ltx_align_center ltx_border_r">Best Rnd</td>
</tr>
<tr id="S5.T3.13.13.17.4" class="ltx_tr">
<td id="S5.T3.13.13.17.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Centralized</td>
<td id="S5.T3.13.13.17.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S5.T3.13.13.17.4.2.1" class="ltx_text ltx_font_bold">92.48</span></td>
<td id="S5.T3.13.13.17.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">N/A</td>
<td id="S5.T3.13.13.17.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">N/A</td>
<td id="S5.T3.13.13.17.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">197 (Epoch)</td>
<td id="S5.T3.13.13.17.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">N/A</td>
</tr>
<tr id="S5.T3.2.2.2" class="ltx_tr">
<td id="S5.T3.2.2.2.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">Local</td>
<td id="S5.T3.2.2.2.4" class="ltx_td ltx_align_center ltx_border_r">N/A</td>
<td id="S5.T3.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r"><span id="S5.T3.1.1.1.1.1" class="ltx_text ltx_font_bold">96.04 <math id="S5.T3.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.1.1.1.1.1.m1.1a"><mo id="S5.T3.1.1.1.1.1.m1.1.1" xref="S5.T3.1.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.1.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T3.1.1.1.1.1.m1.1.1.cmml" xref="S5.T3.1.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.1.1.1.1.1.m1.1c">\pm</annotation></semantics></math> 1.77</span></td>
<td id="S5.T3.2.2.2.2" class="ltx_td ltx_align_center ltx_border_r">51.94 <math id="S5.T3.2.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.2.2.2.2.m1.1a"><mo id="S5.T3.2.2.2.2.m1.1.1" xref="S5.T3.2.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.2.2.2.2.m1.1b"><csymbol cd="latexml" id="S5.T3.2.2.2.2.m1.1.1.cmml" xref="S5.T3.2.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.2.2.2.2.m1.1c">\pm</annotation></semantics></math> 3.39</td>
<td id="S5.T3.2.2.2.5" class="ltx_td ltx_align_center ltx_border_r">N/A</td>
<td id="S5.T3.2.2.2.6" class="ltx_td ltx_align_center ltx_border_r">198 (Epoch)</td>
</tr>
<tr id="S5.T3.4.4.4" class="ltx_tr">
<td id="S5.T3.4.4.4.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">FedAvg</td>
<td id="S5.T3.4.4.4.4" class="ltx_td ltx_align_center ltx_border_r">83.44</td>
<td id="S5.T3.3.3.3.1" class="ltx_td ltx_align_center ltx_border_r">95.82 <math id="S5.T3.3.3.3.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.3.3.3.1.m1.1a"><mo id="S5.T3.3.3.3.1.m1.1.1" xref="S5.T3.3.3.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.3.3.3.1.m1.1b"><csymbol cd="latexml" id="S5.T3.3.3.3.1.m1.1.1.cmml" xref="S5.T3.3.3.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.3.3.3.1.m1.1c">\pm</annotation></semantics></math> 1.53</td>
<td id="S5.T3.4.4.4.2" class="ltx_td ltx_align_center ltx_border_r">72.99 <math id="S5.T3.4.4.4.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.4.4.4.2.m1.1a"><mo id="S5.T3.4.4.4.2.m1.1.1" xref="S5.T3.4.4.4.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.4.4.4.2.m1.1b"><csymbol cd="latexml" id="S5.T3.4.4.4.2.m1.1.1.cmml" xref="S5.T3.4.4.4.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.4.4.4.2.m1.1c">\pm</annotation></semantics></math> 1.84</td>
<td id="S5.T3.4.4.4.5" class="ltx_td ltx_align_center ltx_border_r">198</td>
<td id="S5.T3.4.4.4.6" class="ltx_td ltx_align_center ltx_border_r">187</td>
</tr>
<tr id="S5.T3.6.6.6" class="ltx_tr">
<td id="S5.T3.6.6.6.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">FedPer</td>
<td id="S5.T3.6.6.6.4" class="ltx_td ltx_align_center ltx_border_r">N/A</td>
<td id="S5.T3.5.5.5.1" class="ltx_td ltx_align_center ltx_border_r">95.46 <math id="S5.T3.5.5.5.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.5.5.5.1.m1.1a"><mo id="S5.T3.5.5.5.1.m1.1.1" xref="S5.T3.5.5.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.5.5.5.1.m1.1b"><csymbol cd="latexml" id="S5.T3.5.5.5.1.m1.1.1.cmml" xref="S5.T3.5.5.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.5.5.5.1.m1.1c">\pm</annotation></semantics></math> 1.62</td>
<td id="S5.T3.6.6.6.2" class="ltx_td ltx_align_center ltx_border_r">53.01 <math id="S5.T3.6.6.6.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.6.6.6.2.m1.1a"><mo id="S5.T3.6.6.6.2.m1.1.1" xref="S5.T3.6.6.6.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.6.6.6.2.m1.1b"><csymbol cd="latexml" id="S5.T3.6.6.6.2.m1.1.1.cmml" xref="S5.T3.6.6.6.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.6.6.6.2.m1.1c">\pm</annotation></semantics></math> 2.93</td>
<td id="S5.T3.6.6.6.5" class="ltx_td ltx_align_center ltx_border_r">N/A</td>
<td id="S5.T3.6.6.6.6" class="ltx_td ltx_align_center ltx_border_r">190</td>
</tr>
<tr id="S5.T3.8.8.8" class="ltx_tr">
<td id="S5.T3.8.8.8.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">FedMA</td>
<td id="S5.T3.8.8.8.4" class="ltx_td ltx_align_center ltx_border_r">78.67</td>
<td id="S5.T3.7.7.7.1" class="ltx_td ltx_align_center ltx_border_r">93.65 <math id="S5.T3.7.7.7.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.7.7.7.1.m1.1a"><mo id="S5.T3.7.7.7.1.m1.1.1" xref="S5.T3.7.7.7.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.7.7.7.1.m1.1b"><csymbol cd="latexml" id="S5.T3.7.7.7.1.m1.1.1.cmml" xref="S5.T3.7.7.7.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.7.7.7.1.m1.1c">\pm</annotation></semantics></math> 2.21</td>
<td id="S5.T3.8.8.8.2" class="ltx_td ltx_align_center ltx_border_r">60.09 <math id="S5.T3.8.8.8.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.8.8.8.2.m1.1a"><mo id="S5.T3.8.8.8.2.m1.1.1" xref="S5.T3.8.8.8.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.8.8.8.2.m1.1b"><csymbol cd="latexml" id="S5.T3.8.8.8.2.m1.1.1.cmml" xref="S5.T3.8.8.8.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.8.8.8.2.m1.1c">\pm</annotation></semantics></math> 1.73</td>
<td id="S5.T3.8.8.8.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S5.T3.8.8.8.5.1" class="ltx_text ltx_font_bold">137</span></td>
<td id="S5.T3.8.8.8.6" class="ltx_td ltx_align_center ltx_border_r"><span id="S5.T3.8.8.8.6.1" class="ltx_text ltx_font_bold">171</span></td>
</tr>
<tr id="S5.T3.10.10.10" class="ltx_tr">
<td id="S5.T3.10.10.10.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">FedDist</td>
<td id="S5.T3.10.10.10.4" class="ltx_td ltx_align_center ltx_border_r">84.52</td>
<td id="S5.T3.9.9.9.1" class="ltx_td ltx_align_center ltx_border_r">95.84 <math id="S5.T3.9.9.9.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.9.9.9.1.m1.1a"><mo id="S5.T3.9.9.9.1.m1.1.1" xref="S5.T3.9.9.9.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.9.9.9.1.m1.1b"><csymbol cd="latexml" id="S5.T3.9.9.9.1.m1.1.1.cmml" xref="S5.T3.9.9.9.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.9.9.9.1.m1.1c">\pm</annotation></semantics></math> 1.59</td>
<td id="S5.T3.10.10.10.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S5.T3.10.10.10.2.1" class="ltx_text ltx_font_bold">74.23 <math id="S5.T3.10.10.10.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.10.10.10.2.1.m1.1a"><mo id="S5.T3.10.10.10.2.1.m1.1.1" xref="S5.T3.10.10.10.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.10.10.10.2.1.m1.1b"><csymbol cd="latexml" id="S5.T3.10.10.10.2.1.m1.1.1.cmml" xref="S5.T3.10.10.10.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.10.10.10.2.1.m1.1c">\pm</annotation></semantics></math> 2.29</span></td>
<td id="S5.T3.10.10.10.5" class="ltx_td ltx_align_center ltx_border_r">196</td>
<td id="S5.T3.10.10.10.6" class="ltx_td ltx_align_center ltx_border_r">191</td>
</tr>
<tr id="S5.T3.13.13.13" class="ltx_tr">
<td id="S5.T3.11.11.11.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r">FedAvg<sub id="S5.T3.11.11.11.1.1" class="ltx_sub"><span id="S5.T3.11.11.11.1.1.1" class="ltx_text ltx_font_italic">FedDist_size</span></sub>
</td>
<td id="S5.T3.13.13.13.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">83.97</td>
<td id="S5.T3.12.12.12.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">95.74 <math id="S5.T3.12.12.12.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.12.12.12.2.m1.1a"><mo id="S5.T3.12.12.12.2.m1.1.1" xref="S5.T3.12.12.12.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.12.12.12.2.m1.1b"><csymbol cd="latexml" id="S5.T3.12.12.12.2.m1.1.1.cmml" xref="S5.T3.12.12.12.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.12.12.12.2.m1.1c">\pm</annotation></semantics></math> 2.35</td>
<td id="S5.T3.13.13.13.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">73.73 <math id="S5.T3.13.13.13.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T3.13.13.13.3.m1.1a"><mo id="S5.T3.13.13.13.3.m1.1.1" xref="S5.T3.13.13.13.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T3.13.13.13.3.m1.1b"><csymbol cd="latexml" id="S5.T3.13.13.13.3.m1.1.1.cmml" xref="S5.T3.13.13.13.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.13.13.13.3.m1.1c">\pm</annotation></semantics></math> 1.54</td>
<td id="S5.T3.13.13.13.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">197</td>
<td id="S5.T3.13.13.13.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">183</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S5.SS3.p3" class="ltx_para">
<p id="S5.SS3.p3.1" class="ltx_p">The FedAvg algorithm, despite its simplicity, seems difficult to beat. As shown in Figure <a href="#S5.F6" title="Figure 6 ‣ V-C Federated Learning ‣ V Experiment and Results ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, with this method, the model at the server level generalizes well on the global test-set with an F-Score of 83.44% accuracy (which is still far from the centralized learning approach of 92.48%). The client model obtained a mean F-Score of 95.82% on the local-test set and 72.99% on the global test set. The learning curve showed in Figure <a href="#S5.F6" title="Figure 6 ‣ V-C Federated Learning ‣ V Experiment and Results ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> exhibits a classic shape where the learning starts with a steep improvement until it reaches a slow monotonic increase after communication round 20. It seems that the performance on the global-test set would be able to grow with more communication rounds further. We highlight that the slower convergence, compared to the traditional learning approach, is due to the averaging property of FedAvg, where it produces effects similar to regularization techniques where we limit over-fitting at the cost of slower convergence. The client level learning is less monotonic with sometimes sharp changes in the standard deviation for the Personalization and Generalization accuracy evaluation. This trait can be attributed due to some clients’ peculiarities.</p>
</div>
<figure id="S5.F6" class="ltx_figure"><img src="/html/2110.10223/assets/fig/fedAvg2LearningAccuracy.png" id="S5.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="300" height="200" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>FedAvg learning over 200 communication rounds</figcaption>
</figure>
<figure id="S5.F7" class="ltx_figure"><img src="/html/2110.10223/assets/fig/fedPerRWCNNLearningAccuracy.png" id="S5.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="269" height="202" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>FedPer learning over 200 communication rounds</figcaption>
</figure>
<div id="S5.SS3.p4" class="ltx_para">
<p id="S5.SS3.p4.1" class="ltx_p">With the FedPer algorithm, only the CNN layer part is communicated to the server while the dense layer (i.e., the personalized layer) is kept local. This scheme might explain why the FedPer algorithm does not succeed in generalizing (Generalization accuracy = 53.01%), as it can be seen in Figure <a href="#S5.F7" title="Figure 7 ‣ V-C Federated Learning ‣ V Experiment and Results ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>. The personalization layer stays too strong, and such the model is not able to react appropriately to new data. However, the results show that even the personalization feature of FedPer is not significantly better than any of the other FL algorithms.</p>
</div>
<div id="S5.SS3.p5" class="ltx_para">
<p id="S5.SS3.p5.1" class="ltx_p">The FedMA algorithm reached an F-Score of 78.67% for the Global accuracy, as exhibited in Figure <a href="#S5.F8" title="Figure 8 ‣ V-C Federated Learning ‣ V Experiment and Results ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>. It has the lowest ability to personalize with some minor drawbacks (Personalization accuracy = 93.65%) while performing moderately on the global test-set (Generalization accuracy = 60.09%). Furthermore, FedMA has a much higher training cost. Indeed, in our experimentation, 5 local epochs are used to train client models. For FedMA, this means a total of 25 local epochs for each communication round (5 local epochs for each of the first and second layer, and another 15 for the softmax layers).</p>
</div>
<div id="S5.SS3.p6" class="ltx_para">
<p id="S5.SS3.p6.1" class="ltx_p">FedDist presents the best performance overall in our experiments. The learning curve shown in Figure <a href="#S5.F9" title="Figure 9 ‣ V-C Federated Learning ‣ V Experiment and Results ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> exhibits a two-step behavior. This is because at a certain point, after many communication rounds, no new neuron or filter is added to the global model, and thus, training can stabilize better onward. This behavior is further enforced with a penalty function that takes the current communication round as input to raise new neurons’ acceptance rate in later rounds. After no new neurons are needed, we expect the late stages of training similar to the FedAvg algorithm. However, the initial step was sufficient to present better performances than FedAvg. In the end, FedDist gets the best Generalization accuracy (e.g., the best trade-off between generalization and personalization) and could even reach more with further training.</p>
</div>
<div id="S5.SS3.p7" class="ltx_para">
<p id="S5.SS3.p7.1" class="ltx_p">The final global model shape, when FedDist stopped adding new filters and neurons, is 222-16C_4M_2250D. From the original size of the CNN, 26 new filters have been added to the convolutional layer, and a total of 1222 neuron units were gained on the dense layer. With the new model size, we then ran another experiment with FedAvg with the same setting (FedAvg<sub id="S5.SS3.p7.1.1" class="ltx_sub"><span id="S5.SS3.p7.1.1.1" class="ltx_text ltx_font_italic">FedDist_size</span></sub> in table <a href="#S5.T3" title="TABLE III ‣ V-C Federated Learning ‣ V Experiment and Results ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a>) and found that the results were short of the original FedDist implementation. Additionally, when compared to the FedAvg approach with the original model size, some benefits were gained in the global and server accuracy at the cost of a slight loss in personalization.</p>
</div>
<figure id="S5.F8" class="ltx_figure"><img src="/html/2110.10223/assets/fig/FedMACNN2LearningAccuracy.png" id="S5.F8.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="282" height="212" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>FedMA learning over 200 communication rounds</figcaption>
</figure>
<figure id="S5.F9" class="ltx_figure"><img src="/html/2110.10223/assets/fig/fedDistAcc.png" id="S5.F9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="288" height="192" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>FedDist learning over 200 communication rounds</figcaption>
</figure>
<figure id="S5.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE IV: </span>FedAvg and FedDist results of the learning experiments on the UCI dataset</figcaption>
<div id="S5.T4.4" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:103.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(28.0pt,-6.7pt) scale(1.14819590294712,1.14819590294712) ;">
<table id="S5.T4.4.4" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T4.4.4.5.1" class="ltx_tr">
<th id="S5.T4.4.4.5.1.1" class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t"></th>
<td id="S5.T4.4.4.5.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="5">UCI</td>
</tr>
<tr id="S5.T4.4.4.6.2" class="ltx_tr">
<th id="S5.T4.4.4.6.2.1" class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t"></th>
<td id="S5.T4.4.4.6.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Global</td>
<td id="S5.T4.4.4.6.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Personalization</td>
<td id="S5.T4.4.4.6.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Generalization</td>
<td id="S5.T4.4.4.6.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Server</td>
<td id="S5.T4.4.4.6.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Client</td>
</tr>
<tr id="S5.T4.4.4.7.3" class="ltx_tr">
<th id="S5.T4.4.4.7.3.1" class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r"></th>
<td id="S5.T4.4.4.7.3.2" class="ltx_td ltx_align_center ltx_border_r">F-Score (%)</td>
<td id="S5.T4.4.4.7.3.3" class="ltx_td ltx_align_center ltx_border_r">F-Score (%)</td>
<td id="S5.T4.4.4.7.3.4" class="ltx_td ltx_align_center ltx_border_r">F-Score (%)</td>
<td id="S5.T4.4.4.7.3.5" class="ltx_td ltx_align_center ltx_border_r">Best Rnd</td>
<td id="S5.T4.4.4.7.3.6" class="ltx_td ltx_align_center ltx_border_r">Best Rnd</td>
</tr>
<tr id="S5.T4.2.2.2" class="ltx_tr">
<th id="S5.T4.2.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">FedAvg</th>
<td id="S5.T4.2.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">96.96</td>
<td id="S5.T4.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">96.73 <math id="S5.T4.1.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T4.1.1.1.1.m1.1a"><mo id="S5.T4.1.1.1.1.m1.1.1" xref="S5.T4.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T4.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T4.1.1.1.1.m1.1.1.cmml" xref="S5.T4.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.1.1.1.1.m1.1c">\pm</annotation></semantics></math> 1.32</td>
<td id="S5.T4.2.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">96.85 <math id="S5.T4.2.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T4.2.2.2.2.m1.1a"><mo id="S5.T4.2.2.2.2.m1.1.1" xref="S5.T4.2.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T4.2.2.2.2.m1.1b"><csymbol cd="latexml" id="S5.T4.2.2.2.2.m1.1.1.cmml" xref="S5.T4.2.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.2.2.2.2.m1.1c">\pm</annotation></semantics></math> 0.21</td>
<td id="S5.T4.2.2.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">194</td>
<td id="S5.T4.2.2.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">198</td>
</tr>
<tr id="S5.T4.4.4.4" class="ltx_tr">
<th id="S5.T4.4.4.4.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r">FedDist</th>
<td id="S5.T4.4.4.4.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">96.96</td>
<td id="S5.T4.3.3.3.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">96.73 <math id="S5.T4.3.3.3.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T4.3.3.3.1.m1.1a"><mo id="S5.T4.3.3.3.1.m1.1.1" xref="S5.T4.3.3.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T4.3.3.3.1.m1.1b"><csymbol cd="latexml" id="S5.T4.3.3.3.1.m1.1.1.cmml" xref="S5.T4.3.3.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.3.3.3.1.m1.1c">\pm</annotation></semantics></math> 1.32</td>
<td id="S5.T4.4.4.4.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">96.85 <math id="S5.T4.4.4.4.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T4.4.4.4.2.m1.1a"><mo id="S5.T4.4.4.4.2.m1.1.1" xref="S5.T4.4.4.4.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T4.4.4.4.2.m1.1b"><csymbol cd="latexml" id="S5.T4.4.4.4.2.m1.1.1.cmml" xref="S5.T4.4.4.4.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.4.4.4.2.m1.1c">\pm</annotation></semantics></math> 0.21</td>
<td id="S5.T4.4.4.4.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">194</td>
<td id="S5.T4.4.4.4.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">198</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S5.SS3.p8" class="ltx_para">
<p id="S5.SS3.p8.1" class="ltx_p">Finally, FedDist and FedAvg were also evaluated on the UCI dataset partitioned into 5 uniformly distributed clients. As shown in table <a href="#S5.T4" title="TABLE IV ‣ V-C Federated Learning ‣ V Experiment and Results ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a>, both algorithms give the same results (96.96% global F-score) in-line with the state of the art (cf. Table <a href="#S4.T1" title="TABLE I ‣ IV-B Baseline HAR models ‣ IV Evaluation Method ‣ A Federated Learning Aggregation Algorithm for Pervasive Computing: Evaluation and Comparison This work has been partially supported by MIAI@Grenoble Alpes (ANR-19-P3IA-0003)." class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>). This outcome can be explained by the fact that FedDist did not add any neuron and thus behaved like FedAvg. This is not surprising since UCI is a very uniform dataset. Nevertheless, this experiment shows that FedDist is versatile enough to adapt to both uniform and heterogeneous datasets.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VI </span><span id="S6.1.1" class="ltx_text ltx_font_smallcaps">Conclusion and further work</span>
</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">Federated Learning (FL) exhibits clear theoretical advantages over classical centralized learning from a pervasive computing perspective. It provides a solution for distributed learning and, to some extent, privacy preservation. However, little is known about the behavior of such a learning approach and how to evaluate it in a realistic pervasive computing situation where devices can be very mobile and highly specific. Up to now, most of the studies about FL have been conducted in the computer vision area, without considerations for the specific needs of pervasive applications. Furthermore, despite a recent and active research effort, as our paper reveals, the standard simple FL algorithm FedAvg is a difficult approach to beat, and more subtle but complex algorithms do not demonstrate a clear superiority. In this paper, our new FL algorithm FedDist unites the efficiency of FedAvg with the flexibility to make the machine learning model evolve over communication rounds. We also introduce a straightforward methodology to evaluate state-of-the-art FL algorithms and FedDist in the context of a HAR from smartphone sensors.</p>
</div>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.1" class="ltx_p">Our evaluation method showed that FedDist clearly outperformed the other FL algorithms on the three measures of generalization and personalization. Indeed, FL should lead to a high degree of adaptation to the device (high client accuracy on its own data) while keeping a high degree of generalization (e.g., prevent over-fitting, high client accuracy on global data). FedAvg also exhibited such behavior, but more complex FL algorithms such as FedMA and FedPer were not able to keep a high degree of generalization and did not show the superior capacity of personalization. One advantage of FedDist over other algorithms is its ability to make the initial CNN model evolves along with communication rounds. Since deciding on the initial size of a NN model is an open problem, the property FedDist computing the number of new specialized neurons to add automatically to a model provides a flexible way to adapt the model architecture to the task. While FedDist is more computationally intensive than FedAvg, it is far less complex than the FedMA algorithm and with better performance on HAR.</p>
</div>
<div id="S6.p3" class="ltx_para">
<p id="S6.p3.1" class="ltx_p">Although these results add credence to the interest of federated learning for pervasive computing, a lot of challenges still remain. The study must be replicated with more datasets and different tasks<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>. We also plan to study the robustness of FL in scenarios such as asynchronous learning (devices come and go), a sudden change in client data, communication issues, heterogeneous population of devices (e.g., traveling device), and mismatches between server data and clients (noisy acquisition). Furthermore, long term studies are needed to optimize communication schedule, and life-long learning effects such as catastrophic forgetting <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>. We also suggest the community set up benchmarks for comparison and replication of research in this area, and we believe that the study presented here is a stepping stone in this direction.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
W. Shi, J. Cao, Q. Zhang, Y. Li, and L. Xu, “Edge computing: Vision
and challenges,” <span id="bib.bib1.1.1" class="ltx_text ltx_font_italic">IEEE Internet of Things Journal</span>, vol. 3, no. 5,
pp. 637–646, 2016.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
C. Becker, C. Julien, P. Lalanda, and F. Zambonelli, “Pervasive computing
middleware: current trends and emerging challenges,” <span id="bib.bib2.1.1" class="ltx_text ltx_font_italic">CCF Transactions
on Pervasive Computing and Interaction</span>, vol. 1, 02 2019.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
A. Gouarir, G. Martinez-Arellano, G. Terrazas, P. Benardos, and S. Ratchev,
“In-process tool wear prediction system based on machine learning techniques
and force analysis,” <span id="bib.bib3.1.1" class="ltx_text ltx_font_italic">Procedia CIRP</span>, vol. 77, pp. 501–504, 01 2018.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
M. Satyanarayanan, P. Bahl, R. Caceres, and N. Davies, “The case for
vm-based cloudlets in mobile computing,” <span id="bib.bib4.1.1" class="ltx_text ltx_font_italic">IEEE Pervasive Computing</span>,
vol. 8, no. 4, pp. 14–23, 2009.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
B. McMahan, E. Moore, D. Ramage, S. Hampson, and B. A. y Arcas,
“Communication-Efficient Learning of Deep Networks from Decentralized
Data,” in <span id="bib.bib5.1.1" class="ltx_text ltx_font_italic">Proceedings of the 20th International Conference on
Artificial Intelligence and Statistics</span> (A. Singh and J. Zhu, eds.), vol. 54
of <span id="bib.bib5.2.2" class="ltx_text ltx_font_italic">Proceedings of Machine Learning Research</span>, (Fort Lauderdale, FL,
USA), pp. 1273–1282, PMLR, 20–22 Apr 2017.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
K. Bonawitz, H. Eichner, W. Grieskamp, D. Huba, A. Ingerman, V. Ivanov,
C. Kiddon, J. Konecný, S. Mazzocchi, H. B. McMahan, T. V. Overveldt,
D. Petrou, D. Ramage, and J. Roselander, “Towards federated learning at
scale: System design,” in <span id="bib.bib6.1.1" class="ltx_text ltx_font_italic">Proceedings of Machine Learning and Systems
2019</span>, 2019.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
J. Konečnỳ, H. B. McMahan, D. Ramage, and P. Richtárik,
“Federated optimization: Distributed machine learning for on-device
intelligence,” <span id="bib.bib7.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1610.02527</span>, 2016.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
W. Y. B. Lim, N. C. Luong, D. T. Hoang, Y. Jiao, Y. C. Liang,
Q. Yang, D. Niyato, and C. Miao, “Federated learning in mobile edge
networks: A comprehensive survey,” <span id="bib.bib8.1.1" class="ltx_text ltx_font_italic">IEEE Communications Surveys
Tutorials</span>, vol. 22, no. 3, pp. 2031–2063, 2020.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
M. Ghuhan Arivazhagan, V. Aggarwal, A. K. Singh, and S. Choudhary,
“Federated Learning with Personalization Layers,” <span id="bib.bib9.1.1" class="ltx_text ltx_font_italic">arXiv e-prints</span>,
p. arXiv:1912.00818, Dec. 2019.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
D. Li and J. Wang, “Fedmd: Heterogenous federated learning via model
distillation,” <span id="bib.bib10.1.1" class="ltx_text ltx_font_italic">ArXiv</span>, vol. abs/1910.03581, 2019.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
H. Wang, M. Yurochkin, Y. Sun, D. Papailiopoulos, and Y. Khazaeni, “Federated
learning with matched averaging,” in <span id="bib.bib11.1.1" class="ltx_text ltx_font_italic">International Conference on
Learning Representations</span>, 2020.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
A. Stisen, H. Blunck, S. Bhattacharya, T. S. Prentow, M. B. Kjærgaard,
A. Dey, T. Sonne, and M. M. Jensen, “Smart devices are different: Assessing
and mitigating mobile sensing heterogeneities for activity recognition,” in
<span id="bib.bib12.1.1" class="ltx_text ltx_font_italic">13th ACM Conference on Embedded Networked Sensor Systems</span>, p. 127–140,
2015.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
O. D. Lara and M. A. Labrador, “A mobile platform for real-time human
activity recognition,” in <span id="bib.bib13.1.1" class="ltx_text ltx_font_italic">2012 IEEE Consumer Communications and
Networking Conference (CCNC)</span>, pp. 667–671, 2012.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
D. Blachon, D. Cokun, and F. Portet, “On-line Context Aware Physical Activity
Recognition from the Accelerometer and Audio Sensors of Smartphones,” in
<span id="bib.bib14.1.1" class="ltx_text ltx_font_italic">European Conference on Ambient Intelligence</span>, vol. 8850 of <span id="bib.bib14.2.2" class="ltx_text ltx_font_italic">Ambient Intelligence</span>, (Eindhoven, Netherlands), pp. 205–220, Springer
International Publishing, 2014.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
A. Ignatov, “Real-time human activity recognition from accelerometer data
using convolutional neural networks,” <span id="bib.bib15.1.1" class="ltx_text ltx_font_italic">Applied Soft Computing</span>, vol. 62,
pp. 915 – 922, 2018.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
H. Cho and S. Yoon, “Divide and conquer-based 1d cnn human activity
recognition using test data sharpening,” <span id="bib.bib16.1.1" class="ltx_text ltx_font_italic">Sensors (Basel, Switzerland)</span>,
vol. 18, 04 2018.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
A. K. Sahu, T. Li, M. Sanjabi, M. Zaheer, A. Talwalkar, and V. Smith,
“Federated optimization in heterogeneous networks,” in <span id="bib.bib17.1.1" class="ltx_text ltx_font_italic">On-Device
Intelligence</span>, 2020.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
S. J. Pan and Q. Yang, “A survey on transfer learning,” <span id="bib.bib18.1.1" class="ltx_text ltx_font_italic">IEEE
Transactions on Knowledge and Data Engineering</span>, vol. 22, no. 10,
pp. 1345–1359, 2010.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Q. Wu, K. He, and X. Chen, “Personalized federated learning for
intelligent iot applications: A cloud-edge based framework,” <span id="bib.bib19.1.1" class="ltx_text ltx_font_italic">IEEE Open
Journal of the Computer Society</span>, vol. 1, pp. 35–44, 2020.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
M. Yurochkin, M. Agarwal, S. Ghosh, K. Greenewald, N. Hoang, and Y. Khazaeni,
“Bayesian nonparametric federated learning of neural networks,” in <span id="bib.bib20.1.1" class="ltx_text ltx_font_italic">Proceedings of the 36th International Conference on Machine Learning</span>
(K. Chaudhuri and R. Salakhutdinov, eds.), vol. 97 of <span id="bib.bib20.2.2" class="ltx_text ltx_font_italic">Proceedings of
Machine Learning Research</span>, (Long Beach, California, USA), pp. 7252–7261,
09–15 Jun 2019.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
R. Thibaux and M. I. Jordan, “Hierarchical beta processes and the indian
buffet process,” in <span id="bib.bib21.1.1" class="ltx_text ltx_font_italic">Proceedings of the Eleventh International
Conference on Artificial Intelligence and Statistics</span> (M. Meila and X. Shen,
eds.), vol. 2 of <span id="bib.bib21.2.2" class="ltx_text ltx_font_italic">Proceedings of Machine Learning Research</span>, (San Juan,
Puerto Rico), pp. 564–571, PMLR, 21–24 Mar 2007.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
H. W. Kuhn, “The hungarian method for the assignment problem,” <span id="bib.bib22.1.1" class="ltx_text ltx_font_italic">Naval
Research Logistics Quarterly</span>, vol. 2, no. 1-2, pp. 83–97, 1955.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
J. Konečný, H. B. McMahan, D. Ramage, and P. Richtárik, “Federated
optimization: Distributed machine learning for on-device intelligence,”
2016.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
K. Sozinov, V. Vlassov, and S. Girdzijauskas, “Human activity
recognition using federated learning,” in <span id="bib.bib24.1.1" class="ltx_text ltx_font_italic">2018 IEEE Intl Conf on
Parallel Distributed Processing with Applications, Ubiquitous Computing
Communications, Big Data Cloud Computing, Social Computing Networking,
Sustainable Computing Communications
(ISPA/IUCC/BDCloud/SocialCom/SustainCom)</span>, pp. 1103–1111, 2018.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
L. Wang, W. Wang, and B. Li, “CMFL: Mitigating communication overhead for
federated learning,” in <span id="bib.bib25.1.1" class="ltx_text ltx_font_italic">2019 IEEE 39th International Conference on
Distributed Computing Systems (ICDCS)</span>, pp. 954–964, 2019.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
V. Smith, C.-K. Chiang, M. Sanjabi, and A. S. Talwalkar, “Federated multi-task
learning,” in <span id="bib.bib26.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems 30</span>
(I. Guyon, U. V. Luxburg, S. Bengio, H. Wallach, R. Fergus, S. Vishwanathan,
and R. Garnett, eds.), pp. 4424–4434, Curran Associates, Inc., 2017.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Y. Chen, X. Qin, J. Wang, C. Yu, and W. Gao, “Fedhealth: A federated
transfer learning framework for wearable healthcare,” <span id="bib.bib27.1.1" class="ltx_text ltx_font_italic">IEEE Intelligent
Systems</span>, vol. 35, no. 4, pp. 83–93, 2020.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
L. Wang, H. Gjoreski, M. Ciliberto, P. Lago, K. Murao, T. Okita, and D. Roggen,
“Summary of the sussex-huawei locomotion-transportation recognition
challenge 2019,” in <span id="bib.bib28.1.1" class="ltx_text ltx_font_italic">Adjunct Proceedings of the 2019 ACM International
Joint Conference on Pervasive and Ubiquitous Computing and Proceedings of the
2019 ACM International Symposium on Wearable Computers</span>, UbiComp/ISWC ’19
Adjunct, (New York, NY, USA), p. 849–856, Association for Computing
Machinery, 2019.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
D. Anguita, A. Ghio, L. Oneto, X. Parra, and J. L. Reyes-Ortiz, “A public
domain dataset for human activity recognition using smartphones,” in <span id="bib.bib29.1.1" class="ltx_text ltx_font_italic">21st European Symposium on Artificial Neural Networks, ESANN 2013, Bruges,
Belgium, April 24-26, 2013</span>, 2013.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
T. Sztyler and H. Stuckenschmidt, “On-body localization of wearable
devices: An investigation of position-aware activity recognition,” in <span id="bib.bib30.1.1" class="ltx_text ltx_font_italic">2016 IEEE International Conference on Pervasive Computing and Communications
(PerCom)</span>, pp. 1–9, 2016.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
W. Sousa Lima, E. Souto, K. El-Khatib, R. Jalali, and J. Gama, “Human activity
recognition using inertial sensors in a smartphone: An overview,” <span id="bib.bib31.1.1" class="ltx_text ltx_font_italic">Sensors</span>, vol. 19, p. 3213, 07 2019.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
J. Wang, Y. Chen, S. Hao, X. Peng, and L. Hu, “Deep learning for sensor-based
activity recognition: A survey,” <span id="bib.bib32.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1707.03502, 2017.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
C. Ronao and S.-B. Cho, “Human activity recognition with smartphone sensors
using deep learning neural networks,” <span id="bib.bib33.1.1" class="ltx_text ltx_font_italic">Expert Systems with
Applications</span>, vol. 59, 04 2016.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
W. Jiang and Z. Yin, “Human activity recognition using wearable sensors by
deep convolutional neural networks,” in <span id="bib.bib34.1.1" class="ltx_text ltx_font_italic">Proceedings of the 23rd ACM
International Conference on Multimedia</span>, MM ’15, (New York, NY, USA),
p. 1307–1310, Association for Computing Machinery, 2015.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
C. A. Ronao and S.-B. Cho, “Deep convolutional neural networks for human
activity recognition with smartphone sensors,” in <span id="bib.bib35.1.1" class="ltx_text ltx_font_italic">Neural Information
Processing</span> (S. Arik, T. Huang, W. K. Lai, and Q. Liu, eds.), (Cham),
pp. 46–53, Springer International Publishing, 2015.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
B. Almaslukh, “An effective deep autoencoder approach for online
smartphone-based human activity recognition,” <span id="bib.bib36.1.1" class="ltx_text ltx_font_italic">International Journal of
Computer Science and Network Security</span>, vol. 17, 04 2017.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
M. Abadi, P. Barham, J. Chen, Z. Chen, A. Davis, J. Dean, M. Devin,
S. Ghemawat, G. Irving, M. Isard, <span id="bib.bib37.1.1" class="ltx_text ltx_font_italic">et al.</span>, “Tensorflow: A system for
large-scale machine learning,” in <span id="bib.bib37.2.2" class="ltx_text ltx_font_italic">12th USENIX Symposium on Operating
Systems Design and Implementation (OSDI 16)</span>, pp. 265–283, 2016.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
A. Brenon, F. Portet, and M. Vacher, “Arcades: A deep model for adaptive
decision making in voice controlled smart-home,” <span id="bib.bib38.1.1" class="ltx_text ltx_font_italic">Pervasive and Mobile
Computing</span>, vol. 49, pp. 92 – 110, 2018.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
Z. Chen and B. Liu, “Lifelong machine learning,” <span id="bib.bib39.1.1" class="ltx_text ltx_font_italic">Synthesis Lectures on
Artificial Intelligence and Machine Learning</span>, vol. 12, no. 3, pp. 1–207,
2018.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2110.10222" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2110.10223" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2110.10223">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2110.10223" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2110.10224" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Mar  6 20:30:01 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
