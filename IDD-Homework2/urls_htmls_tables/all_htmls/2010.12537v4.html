<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2010.12537] TUTA: Tree-based Transformers for Generally Structured Table Pre-training</title><meta property="og:description" content="Tables are widely used with various structures to organize and present data.
Recent attempts on table understanding mainly focus on relational tables, yet overlook to other common table structures.
In this paper, we pr…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="TUTA: Tree-based Transformers for Generally Structured Table Pre-training">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="TUTA: Tree-based Transformers for Generally Structured Table Pre-training">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2010.12537">

<!--Generated on Tue Mar 19 06:21:37 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="self supervision; transformer; generally structured table">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">TUTA: Tree-based Transformers for Generally Structured Table Pre-training</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zhiruo Wang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id3.1.id1" class="ltx_text ltx_affiliation_institution">Carnegie Mellon University</span><span id="id4.2.id2" class="ltx_text ltx_affiliation_streetaddress"></span><span id="id5.3.id3" class="ltx_text ltx_affiliation_city"></span><span id="id6.4.id4" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:zhiruow@andrew.cmu.edu">zhiruow@andrew.cmu.edu</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Haoyu Dong* <math id="id1.1.m1.1" class="ltx_Math" alttext="\dagger" display="inline"><semantics id="id1.1.m1.1a"><mo id="id1.1.m1.1.1" xref="id1.1.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="id1.1.m1.1b"><ci id="id1.1.m1.1.1.cmml" xref="id1.1.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="id1.1.m1.1c">\dagger</annotation></semantics></math>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id7.2.id1" class="ltx_text ltx_affiliation_institution">Microsoft Research</span><span id="id8.3.id2" class="ltx_text ltx_affiliation_streetaddress"></span><span id="id9.4.id3" class="ltx_text ltx_affiliation_city"></span><span id="id10.5.id4" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:hadong@microsoft.com">hadong@microsoft.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ran Jia
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id11.1.id1" class="ltx_text ltx_affiliation_institution">Microsoft Research</span><span id="id12.2.id2" class="ltx_text ltx_affiliation_streetaddress"></span><span id="id13.3.id3" class="ltx_text ltx_affiliation_city"></span><span id="id14.4.id4" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:jia.ran@microsoft.com">jia.ran@microsoft.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jia Li
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id15.1.id1" class="ltx_text ltx_affiliation_institution">Peking university</span><span id="id16.2.id2" class="ltx_text ltx_affiliation_streetaddress"></span><span id="id17.3.id3" class="ltx_text ltx_affiliation_city"></span><span id="id18.4.id4" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:lijiaa@pku.edu.cn">lijiaa@pku.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zhiyi Fu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id19.1.id1" class="ltx_text ltx_affiliation_institution">Peking University</span><span id="id20.2.id2" class="ltx_text ltx_affiliation_streetaddress"></span><span id="id21.3.id3" class="ltx_text ltx_affiliation_city"></span><span id="id22.4.id4" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:ypfzy@pku.edu.cn">ypfzy@pku.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shi Han
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id23.1.id1" class="ltx_text ltx_affiliation_institution">Microsoft Research</span><span id="id24.2.id2" class="ltx_text ltx_affiliation_streetaddress"></span><span id="id25.3.id3" class="ltx_text ltx_affiliation_city"></span><span id="id26.4.id4" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:shihan@microsoft.com">shihan@microsoft.com</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Dongmei Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id27.1.id1" class="ltx_text ltx_affiliation_institution">Microsoft Research</span><span id="id28.2.id2" class="ltx_text ltx_affiliation_streetaddress"></span><span id="id29.3.id3" class="ltx_text ltx_affiliation_city"></span><span id="id30.4.id4" class="ltx_text ltx_affiliation_country"></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:dongmeiz@microsoft.com">dongmeiz@microsoft.com</a>
</span></span></span>
</div>
<div class="ltx_dates">(2021)</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p id="id31.id1" class="ltx_p">Tables are widely used with various structures to organize and present data.
Recent attempts on table understanding mainly focus on relational tables, yet overlook to other common table structures.
In this paper, we propose TUTA, a unified pre-training architecture for understanding generally structured tables.
Noticing that understanding a table requires spatial, hierarchical, and semantic information, we enhance transformers with three novel structure-aware mechanisms.
First, we devise a unified tree-based structure, called a bi-dimensional coordinate tree, to describe both the spatial and hierarchical information of generally structured tables.
Upon this, we propose tree-based attention and position embedding to better capture the spatial and hierarchical information.
Moreover, we devise three progressive pre-training objectives to enable representations at the token, cell, and table levels.
We pre-train TUTA on a wide range of unlabeled web and spreadsheet tables and fine-tune it on two critical tasks in the field of table structure understanding: cell type classification and table type classification.
Experiments show that TUTA is highly effective, achieving state-of-the-art on five widely-studied datasets.
</p>
</div>
<div class="ltx_keywords">self supervision; transformer; generally structured table
</div>
<div class="ltx_acknowledgements">* Equal contribution. Work done during Zhiruo’s internship at Microsoft Research.
</div>
<div class="ltx_acknowledgements">
<math id="id2.m1.1" class="ltx_Math" alttext="\dagger" display="inline"><semantics id="id2.m1.1a"><mo id="id2.m1.1.1" xref="id2.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="id2.m1.1b"><ci id="id2.m1.1.1.cmml" xref="id2.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="id2.m1.1c">\dagger</annotation></semantics></math> Corresponding author.
</div>
<span id="id1" class="ltx_note ltx_note_frontmatter ltx_role_journalyear"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2021</span></span></span><span id="id2" class="ltx_note ltx_note_frontmatter ltx_role_copyright"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmcopyright</span></span></span><span id="id3" class="ltx_note ltx_note_frontmatter ltx_role_conference"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Proceedings of the 27th ACM SIGKDD Conference on Knowledge Discovery and Data Mining; August 14–18, 2021; Virtual Event, Singapore</span></span></span><span id="id4" class="ltx_note ltx_note_frontmatter ltx_role_booktitle"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>Proceedings of the 27th ACM SIGKDD Conference on Knowledge Discovery and Data Mining (KDD ’21), August 14–18, 2021, Virtual Event, Singapore</span></span></span><span id="id5" class="ltx_note ltx_note_frontmatter ltx_role_price"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">price: </span>15.00</span></span></span><span id="id6" class="ltx_note ltx_note_frontmatter ltx_role_doi"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>10.1145/3447548.3467434</span></span></span><span id="id7" class="ltx_note ltx_note_frontmatter ltx_role_isbn"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>978-1-4503-8332-5/21/08</span></span></span><span id="id8" class="ltx_note ltx_note_frontmatter ltx_role_ccs"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Information retrieval</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>

<figure id="S1.F1" class="ltx_figure"><img src="/html/2010.12537/assets/x1.png" id="S1.F1.1.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="257" height="335" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>Examples of generally structured tables. (a) is a relational web table. (b) is an entity web table. (c)(d) are matrix PDF and spreadsheet tables.</figcaption>
</figure>
<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Table, as a key structure to organize and present data, is widely used in webpages, spreadsheets, PDFs, and more.
Unlike sequential NL text, tables usually arrange cells in bi-dimensional matrices with stylistic formatting such as border, merge, alignment, and bold font.
As Figure <a href="#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows, <span id="S1.p1.1.1" class="ltx_text ltx_font_bold">tables are flexible with various structures</span>, such as relational, entity and matrix tables <cite class="ltx_cite ltx_citemacro_citep">(Nishida <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2017</a>)</cite>. To present data more effectively in the bi-dimensional space, real-world tables often use hierarchical structures <cite class="ltx_cite ltx_citemacro_citep">(Chen and
Cafarella, <a href="#bib.bib3" title="" class="ltx_ref">2014</a>; Chen and Cafarella, <a href="#bib.bib2" title="" class="ltx_ref">2013</a>; Dou <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib13" title="" class="ltx_ref">2018</a>)</cite>. For example, Figure <a href="#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> (d) shows a matrix spreadsheet table with both hierarchical top and left headers (“B1:E” and “A3:A2”), shaped by merged cells and indents respectively, to organize data in a compact and hierarchical way for easy look-up or side-by-side comparison.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.2" class="ltx_p">Tables store a great amount of high-value data and gain increasing attention from research community. There is a flurry of research on table understanding tasks, including entity linking in tables <cite class="ltx_cite ltx_citemacro_citep">(Bhagavatula <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib1" title="" class="ltx_ref">2015</a>; Ritze and Bizer, <a href="#bib.bib35" title="" class="ltx_ref">2017</a>; Zhao and He, <a href="#bib.bib47" title="" class="ltx_ref">2019</a>; Deng <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib8" title="" class="ltx_ref">2020</a>)</cite>, column type identification of tables <cite class="ltx_cite ltx_citemacro_citep">(Chen <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib4" title="" class="ltx_ref">2019a</a>; Guo <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib20" title="" class="ltx_ref">2020</a>)</cite>, answering natural language questions over tables <cite class="ltx_cite ltx_citemacro_citep">(Pasupat and
Liang, <a href="#bib.bib32" title="" class="ltx_ref">2015</a>; Yu <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib42" title="" class="ltx_ref">2018</a>; Herzig <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2020</a>; Yin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib41" title="" class="ltx_ref">2020</a>)</cite>, and generating data analysis for tables <cite class="ltx_cite ltx_citemacro_citep">(Zhou <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib48" title="" class="ltx_ref">2020</a>)</cite>.
<span id="S1.p2.2.1" class="ltx_text ltx_font_bold">However, the vast majority of these work only focuses on relational tables</span>, which only account for <math id="S1.p2.1.m1.1" class="ltx_Math" alttext="0.9\%" display="inline"><semantics id="S1.p2.1.m1.1a"><mrow id="S1.p2.1.m1.1.1" xref="S1.p2.1.m1.1.1.cmml"><mn id="S1.p2.1.m1.1.1.2" xref="S1.p2.1.m1.1.1.2.cmml">0.9</mn><mo id="S1.p2.1.m1.1.1.1" xref="S1.p2.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S1.p2.1.m1.1b"><apply id="S1.p2.1.m1.1.1.cmml" xref="S1.p2.1.m1.1.1"><csymbol cd="latexml" id="S1.p2.1.m1.1.1.1.cmml" xref="S1.p2.1.m1.1.1.1">percent</csymbol><cn type="float" id="S1.p2.1.m1.1.1.2.cmml" xref="S1.p2.1.m1.1.1.2">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p2.1.m1.1c">0.9\%</annotation></semantics></math> of commonly crawled web tables<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>http://webdatacommons.org/webtables/</span></span></span> and <math id="S1.p2.2.m2.1" class="ltx_Math" alttext="22.0\%" display="inline"><semantics id="S1.p2.2.m2.1a"><mrow id="S1.p2.2.m2.1.1" xref="S1.p2.2.m2.1.1.cmml"><mn id="S1.p2.2.m2.1.1.2" xref="S1.p2.2.m2.1.1.2.cmml">22.0</mn><mo id="S1.p2.2.m2.1.1.1" xref="S1.p2.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S1.p2.2.m2.1b"><apply id="S1.p2.2.m2.1.1.cmml" xref="S1.p2.2.m2.1.1"><csymbol cd="latexml" id="S1.p2.2.m2.1.1.1.cmml" xref="S1.p2.2.m2.1.1.1">percent</csymbol><cn type="float" id="S1.p2.2.m2.1.1.2.cmml" xref="S1.p2.2.m2.1.1.2">22.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p2.2.m2.1c">22.0\%</annotation></semantics></math> of spreadsheet tables <cite class="ltx_cite ltx_citemacro_citep">(Chen and
Cafarella, <a href="#bib.bib3" title="" class="ltx_ref">2014</a>)</cite>. They overlook other widely used table types such as matrix tables and entity tables. This leads to a large gap between cutting-edge table understanding techniques and variously structured real-world tables. Therefore, it is important to enable table understanding for variously structured tables and make a critical step to mitigate this gap. There are several attempts <cite class="ltx_cite ltx_citemacro_citep">(Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2019a</a>; Gol <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2019</a>; Koci <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib24" title="" class="ltx_ref">2019</a>; Chen and
Cafarella, <a href="#bib.bib3" title="" class="ltx_ref">2014</a>; Chen and Cafarella, <a href="#bib.bib2" title="" class="ltx_ref">2013</a>)</cite> on identifying table hierarchies and cell types to extract relational data from variously structured tables. However, <span id="S1.p2.2.2" class="ltx_text ltx_font_bold">labeling such structural information is very time-consuming and labor-intensive</span>, hence greatly challenges machine learning methods that are rather data-hungry.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Motivated by the success of large-scale pre-trained language models (LMs) <cite class="ltx_cite ltx_citemacro_citep">(Devlin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib9" title="" class="ltx_ref">2018</a>; Radford <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib34" title="" class="ltx_ref">2018</a>)</cite> in numerous NL tasks, one promising way to mitigate the label-shortage challenge is self-supervised pre-training on large volumes of unlabeled tables. <cite class="ltx_cite ltx_citemacro_citep">(Herzig <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2020</a>; Yin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib41" title="" class="ltx_ref">2020</a>)</cite> target question answering over relational tables via joint pre-training of tables and their textual descriptions. <cite class="ltx_cite ltx_citemacro_citep">(Deng <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib8" title="" class="ltx_ref">2020</a>)</cite> attempts to pre-train embeddings on relational tables to enhance table knowledge matching and table augmentation. However, <span id="S1.p3.1.1" class="ltx_text ltx_font_bold">these pre-training methods still only target relational web tables</span> due to their simple structures. In relational tables, each column is homogeneous and described by a column name, so <cite class="ltx_cite ltx_citemacro_citep">(Yin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib41" title="" class="ltx_ref">2020</a>)</cite> augments each data cell with its corresponding column name, and <cite class="ltx_cite ltx_citemacro_citep">(Deng <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib8" title="" class="ltx_ref">2020</a>)</cite> enforces each cell aggregate information from only its row and column.
But clearly, these methods are not suitable for tables of other structures.
For example, Figure <a href="#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> (d) shows a hierarchical matrix table, where cell “D” (‘148,270’) is jointly described by cells in multiple rows and columns: “D” (‘Mortality’), “D2” (‘Males’), “A” (‘Urinary tract’) and “A8” (‘Bladder’), constituting to a relational tuple (‘Mortality’, ‘Males’, ‘Urinary tract’, ‘Bladder’, ‘148,270’) <cite class="ltx_cite ltx_citemacro_citep">(Chen and
Cafarella, <a href="#bib.bib3" title="" class="ltx_ref">2014</a>)</cite>.
Such structural layouts can greatly help human readers to understand tables. Simply treating tables as relational will lose valuable structural information.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Hence, <span id="S1.p4.1.1" class="ltx_text ltx_font_bold">we aim to propose a structure-aware method for generally structured table pre-training.</span>
Fortunately, previous studies show strong commonalities in real-world table structures.
First, tables are arranged in matrices with vertical, horizontal, or both orientations <cite class="ltx_cite ltx_citemacro_citep">(Nishida <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2017</a>)</cite>. Second, tables usually contain headers on the top or left side to describe other cells <cite class="ltx_cite ltx_citemacro_citep">(Zanibbi <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib43" title="" class="ltx_ref">2004</a>; Wang, <a href="#bib.bib40" title="" class="ltx_ref">2016</a>)</cite>. Third, headers are often organized with the hierarchical tree structure <cite class="ltx_cite ltx_citemacro_citep">(Chen and
Cafarella, <a href="#bib.bib3" title="" class="ltx_ref">2014</a>; Chen and Cafarella, <a href="#bib.bib2" title="" class="ltx_ref">2013</a>; Lim and Ng, <a href="#bib.bib28" title="" class="ltx_ref">1999</a>)</cite>, especially in finance and government tables<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>SAUS (Statistical Abstract of US from the Census Bureau) is a widely-studied public dataset, in which most tables contain hierarchical headers.</span></span></span>.
Motivated by these, we propose a <span id="S1.p4.1.2" class="ltx_text ltx_font_bold">bi-dimensional coordinate tree</span>, the first structure to systematically define cell location and cell distance in generally structured tables considering both spatial and hierarchical information.
Upon this, we propose <span id="S1.p4.1.3" class="ltx_text ltx_font_bold">TUTA, a structure-aware method for Table Understanding with Tree-based Attention.</span> TUTA introduces two mechanisms to utilize structural information.
<span id="S1.p4.1.4" class="ltx_text ltx_font_bold">(1)</span>
To encode hierarchical information in TUTA, we devised tree-based positional encodings. Different from explicit tree-based positional encodings based on uni-tree structure <cite class="ltx_cite ltx_citemacro_citep">(Shiv and Quirk, <a href="#bib.bib36" title="" class="ltx_ref">2019</a>)</cite>, TUTA compares both <span id="S1.p4.1.5" class="ltx_text ltx_font_bold">explicit and implicit positional encodings</span> based on bi-tree structure. And to jointly encode hierarchical and spatial information, TUTA combines tree-based coordinates
with rectangular Cartesian coordinates.
<span id="S1.p4.1.6" class="ltx_text ltx_font_bold">(2)</span>
To enable local cells to effectively aggregate their structural neighboring contexts in large bi-dimensional tables, and ignore unrelated or noisy contexts, we devise a <span id="S1.p4.1.7" class="ltx_text ltx_font_bold">structure-aware attention mechanism</span>. Different from the existing practice of bottom-up tree-based attention <cite class="ltx_cite ltx_citemacro_citep">(Nguyen <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib29" title="" class="ltx_ref">2020</a>)</cite> and constituent tree attention <cite class="ltx_cite ltx_citemacro_citep">(Wang <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib39" title="" class="ltx_ref">2019</a>)</cite> in NL domain, TUTA adapts the general idea of graph attention networks <cite class="ltx_cite ltx_citemacro_citep">(Veličković <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib38" title="" class="ltx_ref">2017</a>)</cite> to tree structures to enable both top-down, bottom-up, and peer-to-peer data flow in the bi-tree structure.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Key contributions of this paper are summarized as follows:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">For generally structured tables, we devise a bi-dimensional tree to define cell coordinates and cell distance in generally structured tables.
Based on this bi-tree, we propose TUTA, a structure-aware pre-training method with a distance-aware self-attention. To better incorporate the spatial and structural information, we devise two crucial techniques, called tree position embedding and tree-based attention, that prove to be highly effective throughout experiments.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We employ three novel pre-training tasks in TUTA, including Masked Language Model at the token level (MLM), multi-choice Cloze at the cell level (CLC), and context retrieval at the table level (TCR). During pre-training, TUTA progressively learns token/cell/table representations on a large volume of tables in an unsupervised manner.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">To demonstrate the effectiveness of TUTA, we fine-tune our pre-trained model on two critical tasks in table structure understanding: Cell Type Classification (CTC) and Table Type Classification (TTC). On both tasks, TUTA is the first transformer-based method ever being applied. It achieves state-of-the-art across five widely-studied datasets.</p>
</div>
</li>
</ul>
</div>
<div id="S1.p6" class="ltx_para ltx_noindent">
<p id="S1.p6.1" class="ltx_p">Our code and pre-trained model will be publicly available<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a target="_blank" href="https://github.com/microsoft/TUTA_table_understanding/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/microsoft/TUTA_table_understanding/</a></span></span></span> after internal release and compliance review.</p>
</div>
<figure id="S1.F2" class="ltx_figure"><img src="/html/2010.12537/assets/x2.png" id="S1.F2.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="530" height="200" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>An example to illustrate our proposed tree coordinates and tree distance for generally structured tables. In this example, both the top tree and the left tree contain three levels. Cell “A6” (‘Urinary tract’) is the ‘parent’ node of cells “A7” and “A8”, and has ‘brothers’ including “A3” and “A9”.</figcaption>
</figure>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Preliminaries</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Dataset construction</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">We collect a pre-training corpus of Generally Structured Tables with enlarged volume and diversity in two ways:
(1) <span id="S2.SS1.p1.1.1" class="ltx_text ltx_font_bold">Structure</span>: besides relational tables, we also include other structures like entity and matrix tables <cite class="ltx_cite ltx_citemacro_citep">(Nishida <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2017</a>)</cite>. Extremely small and non-data tables for layout purposes are not used to ensure data quality.
(2) <span id="S2.SS1.p1.1.2" class="ltx_text ltx_font_bold">Document type</span>: besides web tables, we also include spreadsheet tables, which are widely used in government, finance, accounting, and medical domains, hence have large quantity and high quality.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.2" class="ltx_p">We collect <span id="S2.SS1.p2.2.1" class="ltx_text ltx_font_bold">web tables</span> from Wikipedia (WikiTable) and the WDC WebTable Corpus <cite class="ltx_cite ltx_citemacro_citep">(Lehmberg <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2016</a>)</cite>, and <span id="S2.SS1.p2.2.2" class="ltx_text ltx_font_bold">spreadsheet tables</span> from more than <math id="S2.SS1.p2.1.m1.1" class="ltx_Math" alttext="13.5" display="inline"><semantics id="S2.SS1.p2.1.m1.1a"><mn id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml">13.5</mn><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.1b"><cn type="float" id="S2.SS1.p2.1.m1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1">13.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.1c">13.5</annotation></semantics></math> million web-crawled spreadsheet files. We end up built a total of <math id="S2.SS1.p2.2.m2.1" class="ltx_Math" alttext="57.9" display="inline"><semantics id="S2.SS1.p2.2.m2.1a"><mn id="S2.SS1.p2.2.m2.1.1" xref="S2.SS1.p2.2.m2.1.1.cmml">57.9</mn><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.2.m2.1b"><cn type="float" id="S2.SS1.p2.2.m2.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1">57.9</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.2.m2.1c">57.9</annotation></semantics></math><span id="S2.SS1.p2.2.3" class="ltx_text ltx_font_bold"> million</span> tables, owning much greater volume than datasets used by other table pre-training methods. More details of our data collection, filtering, and pre-processing can be found in Appendix <a href="#A1" title="Appendix A Dataset construction ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Bi-dimensional coordinate tree</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">As introduced in Section <a href="#S1" title="1. Introduction ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, tables usually contain headers on top or left to describe other cells <cite class="ltx_cite ltx_citemacro_citep">(Zanibbi <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib43" title="" class="ltx_ref">2004</a>; Wang, <a href="#bib.bib40" title="" class="ltx_ref">2016</a>)</cite>. For example, vertical/horizontal tables usually contain top/left headers, and matrix tables usually contain both the top and left headers <cite class="ltx_cite ltx_citemacro_citep">(Nishida <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2017</a>)</cite>.
Also, a table is regarded as <span id="S2.SS2.p1.1.1" class="ltx_text ltx_font_bold">hierarchical</span> if its header exhibits a multi-layer tree structure <cite class="ltx_cite ltx_citemacro_citep">(Lim and Ng, <a href="#bib.bib28" title="" class="ltx_ref">1999</a>; Chen and
Cafarella, <a href="#bib.bib3" title="" class="ltx_ref">2014</a>)</cite>.
If not, it reduces to a <span id="S2.SS2.p1.1.2" class="ltx_text ltx_font_bold">flat</span> table without any hierarchy.
To generally model various tables using a unified data structure, we propose a novel bi-dimensional coordinate tree that jointly describes the cell location and header hierarchy.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para ltx_noindent">
<p id="S2.SS2.p2.1" class="ltx_p"><span id="S2.SS2.p2.1.1" class="ltx_text ltx_font_bold">Tree-based position</span>  We define the bi-dimensional coordinate tree to be a directed tree, on which each node has a unique parent and an ordered finite list of children. It has two orthogonal sub-trees: a top tree and a left tree.
For a node in the top/left tree, its position can be got from its path from the top/left tree root.
Each table cell maps to respective nodes on the top and left trees.
Positions of its top and left nodes combine to a unique <span id="S2.SS2.p2.1.2" class="ltx_text ltx_font_bold">bi-dimensional tree coordinates</span>.
As shown in Figure <a href="#S1.F2" title="Figure 2 ‣ 1. Introduction ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> (a), the left coordinate of cell “A6” is ¡2¿ since it’s the third child of the left root; successively, ”D8” is the second child of “A6” thus has a left coordinate ¡2,1¿. Using similar methods, “D8” has a top coordinate ¡2,0¿.</p>
</div>
<div id="S2.SS2.p3" class="ltx_para ltx_noindent">
<p id="S2.SS2.p3.6" class="ltx_p"><span id="S2.SS2.p3.6.1" class="ltx_text ltx_font_bold">Tree-based distance</span>  In the top/left tree, each pair of nodes connects through a path, or say, a series of steps, with each step either moving up to the parent or going down to a child.
Motivated by <cite class="ltx_cite ltx_citemacro_citep">(Shiv and Quirk, <a href="#bib.bib36" title="" class="ltx_ref">2019</a>)</cite>, we define the <span id="S2.SS2.p3.6.2" class="ltx_text ltx_font_bold">top/left tree distance</span> of every node pair to be the step number of the shortest path between them. Then, the <span id="S2.SS2.p3.6.3" class="ltx_text ltx_font_bold">bi-tree distance</span> of two cells is the sum of their top and left tree distance.
Figure <a href="#S1.F2" title="Figure 2 ‣ 1. Introduction ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> (b) exemplifies distances against cell “A6” (‘Urinary tract’) in the left header.
<span id="S2.SS2.p3.6.4" class="ltx_text ltx_font_bold">(1)</span> Since “A6” is the parent node of “A8” (‘Bladder’), they are only <math id="S2.SS2.p3.1.m1.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S2.SS2.p3.1.m1.1a"><mn id="S2.SS2.p3.1.m1.1.1" xref="S2.SS2.p3.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.1.m1.1b"><cn type="integer" id="S2.SS2.p3.1.m1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.1.m1.1c">1</annotation></semantics></math> step apart.
<span id="S2.SS2.p3.6.5" class="ltx_text ltx_font_bold">(2)</span> “A6” is the ‘uncle node’ of the cell “A10” (‘Larynx’), so connecting them goes “<math id="S2.SS2.p3.2.m2.1" class="ltx_Math" alttext="A6\rightarrow root\rightarrow A9\rightarrow A10" display="inline"><semantics id="S2.SS2.p3.2.m2.1a"><mrow id="S2.SS2.p3.2.m2.1.1" xref="S2.SS2.p3.2.m2.1.1.cmml"><mrow id="S2.SS2.p3.2.m2.1.1.2" xref="S2.SS2.p3.2.m2.1.1.2.cmml"><mi id="S2.SS2.p3.2.m2.1.1.2.2" xref="S2.SS2.p3.2.m2.1.1.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p3.2.m2.1.1.2.1" xref="S2.SS2.p3.2.m2.1.1.2.1.cmml">​</mo><mn id="S2.SS2.p3.2.m2.1.1.2.3" xref="S2.SS2.p3.2.m2.1.1.2.3.cmml">6</mn></mrow><mo stretchy="false" id="S2.SS2.p3.2.m2.1.1.3" xref="S2.SS2.p3.2.m2.1.1.3.cmml">→</mo><mrow id="S2.SS2.p3.2.m2.1.1.4" xref="S2.SS2.p3.2.m2.1.1.4.cmml"><mi id="S2.SS2.p3.2.m2.1.1.4.2" xref="S2.SS2.p3.2.m2.1.1.4.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p3.2.m2.1.1.4.1" xref="S2.SS2.p3.2.m2.1.1.4.1.cmml">​</mo><mi id="S2.SS2.p3.2.m2.1.1.4.3" xref="S2.SS2.p3.2.m2.1.1.4.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p3.2.m2.1.1.4.1a" xref="S2.SS2.p3.2.m2.1.1.4.1.cmml">​</mo><mi id="S2.SS2.p3.2.m2.1.1.4.4" xref="S2.SS2.p3.2.m2.1.1.4.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p3.2.m2.1.1.4.1b" xref="S2.SS2.p3.2.m2.1.1.4.1.cmml">​</mo><mi id="S2.SS2.p3.2.m2.1.1.4.5" xref="S2.SS2.p3.2.m2.1.1.4.5.cmml">t</mi></mrow><mo stretchy="false" id="S2.SS2.p3.2.m2.1.1.5" xref="S2.SS2.p3.2.m2.1.1.5.cmml">→</mo><mrow id="S2.SS2.p3.2.m2.1.1.6" xref="S2.SS2.p3.2.m2.1.1.6.cmml"><mi id="S2.SS2.p3.2.m2.1.1.6.2" xref="S2.SS2.p3.2.m2.1.1.6.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p3.2.m2.1.1.6.1" xref="S2.SS2.p3.2.m2.1.1.6.1.cmml">​</mo><mn id="S2.SS2.p3.2.m2.1.1.6.3" xref="S2.SS2.p3.2.m2.1.1.6.3.cmml">9</mn></mrow><mo stretchy="false" id="S2.SS2.p3.2.m2.1.1.7" xref="S2.SS2.p3.2.m2.1.1.7.cmml">→</mo><mrow id="S2.SS2.p3.2.m2.1.1.8" xref="S2.SS2.p3.2.m2.1.1.8.cmml"><mi id="S2.SS2.p3.2.m2.1.1.8.2" xref="S2.SS2.p3.2.m2.1.1.8.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p3.2.m2.1.1.8.1" xref="S2.SS2.p3.2.m2.1.1.8.1.cmml">​</mo><mn id="S2.SS2.p3.2.m2.1.1.8.3" xref="S2.SS2.p3.2.m2.1.1.8.3.cmml">10</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.2.m2.1b"><apply id="S2.SS2.p3.2.m2.1.1.cmml" xref="S2.SS2.p3.2.m2.1.1"><and id="S2.SS2.p3.2.m2.1.1a.cmml" xref="S2.SS2.p3.2.m2.1.1"></and><apply id="S2.SS2.p3.2.m2.1.1b.cmml" xref="S2.SS2.p3.2.m2.1.1"><ci id="S2.SS2.p3.2.m2.1.1.3.cmml" xref="S2.SS2.p3.2.m2.1.1.3">→</ci><apply id="S2.SS2.p3.2.m2.1.1.2.cmml" xref="S2.SS2.p3.2.m2.1.1.2"><times id="S2.SS2.p3.2.m2.1.1.2.1.cmml" xref="S2.SS2.p3.2.m2.1.1.2.1"></times><ci id="S2.SS2.p3.2.m2.1.1.2.2.cmml" xref="S2.SS2.p3.2.m2.1.1.2.2">𝐴</ci><cn type="integer" id="S2.SS2.p3.2.m2.1.1.2.3.cmml" xref="S2.SS2.p3.2.m2.1.1.2.3">6</cn></apply><apply id="S2.SS2.p3.2.m2.1.1.4.cmml" xref="S2.SS2.p3.2.m2.1.1.4"><times id="S2.SS2.p3.2.m2.1.1.4.1.cmml" xref="S2.SS2.p3.2.m2.1.1.4.1"></times><ci id="S2.SS2.p3.2.m2.1.1.4.2.cmml" xref="S2.SS2.p3.2.m2.1.1.4.2">𝑟</ci><ci id="S2.SS2.p3.2.m2.1.1.4.3.cmml" xref="S2.SS2.p3.2.m2.1.1.4.3">𝑜</ci><ci id="S2.SS2.p3.2.m2.1.1.4.4.cmml" xref="S2.SS2.p3.2.m2.1.1.4.4">𝑜</ci><ci id="S2.SS2.p3.2.m2.1.1.4.5.cmml" xref="S2.SS2.p3.2.m2.1.1.4.5">𝑡</ci></apply></apply><apply id="S2.SS2.p3.2.m2.1.1c.cmml" xref="S2.SS2.p3.2.m2.1.1"><ci id="S2.SS2.p3.2.m2.1.1.5.cmml" xref="S2.SS2.p3.2.m2.1.1.5">→</ci><share href="#S2.SS2.p3.2.m2.1.1.4.cmml" id="S2.SS2.p3.2.m2.1.1d.cmml" xref="S2.SS2.p3.2.m2.1.1"></share><apply id="S2.SS2.p3.2.m2.1.1.6.cmml" xref="S2.SS2.p3.2.m2.1.1.6"><times id="S2.SS2.p3.2.m2.1.1.6.1.cmml" xref="S2.SS2.p3.2.m2.1.1.6.1"></times><ci id="S2.SS2.p3.2.m2.1.1.6.2.cmml" xref="S2.SS2.p3.2.m2.1.1.6.2">𝐴</ci><cn type="integer" id="S2.SS2.p3.2.m2.1.1.6.3.cmml" xref="S2.SS2.p3.2.m2.1.1.6.3">9</cn></apply></apply><apply id="S2.SS2.p3.2.m2.1.1e.cmml" xref="S2.SS2.p3.2.m2.1.1"><ci id="S2.SS2.p3.2.m2.1.1.7.cmml" xref="S2.SS2.p3.2.m2.1.1.7">→</ci><share href="#S2.SS2.p3.2.m2.1.1.6.cmml" id="S2.SS2.p3.2.m2.1.1f.cmml" xref="S2.SS2.p3.2.m2.1.1"></share><apply id="S2.SS2.p3.2.m2.1.1.8.cmml" xref="S2.SS2.p3.2.m2.1.1.8"><times id="S2.SS2.p3.2.m2.1.1.8.1.cmml" xref="S2.SS2.p3.2.m2.1.1.8.1"></times><ci id="S2.SS2.p3.2.m2.1.1.8.2.cmml" xref="S2.SS2.p3.2.m2.1.1.8.2">𝐴</ci><cn type="integer" id="S2.SS2.p3.2.m2.1.1.8.3.cmml" xref="S2.SS2.p3.2.m2.1.1.8.3">10</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.2.m2.1c">A6\rightarrow root\rightarrow A9\rightarrow A10</annotation></semantics></math>” on the left tree, thus the distance is <math id="S2.SS2.p3.3.m3.1" class="ltx_Math" alttext="3" display="inline"><semantics id="S2.SS2.p3.3.m3.1a"><mn id="S2.SS2.p3.3.m3.1.1" xref="S2.SS2.p3.3.m3.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.3.m3.1b"><cn type="integer" id="S2.SS2.p3.3.m3.1.1.cmml" xref="S2.SS2.p3.3.m3.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.3.m3.1c">3</annotation></semantics></math>.
<span id="S2.SS2.p3.6.6" class="ltx_text ltx_font_bold">(3)</span> “A6” and “C2” (‘Females’) have an even longer distance of <math id="S2.SS2.p3.4.m4.1" class="ltx_Math" alttext="6" display="inline"><semantics id="S2.SS2.p3.4.m4.1a"><mn id="S2.SS2.p3.4.m4.1.1" xref="S2.SS2.p3.4.m4.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.4.m4.1b"><cn type="integer" id="S2.SS2.p3.4.m4.1.1.cmml" xref="S2.SS2.p3.4.m4.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.4.m4.1c">6</annotation></semantics></math>, for it requires moving both on the top (<math id="S2.SS2.p3.5.m5.1" class="ltx_Math" alttext="3" display="inline"><semantics id="S2.SS2.p3.5.m5.1a"><mn id="S2.SS2.p3.5.m5.1.1" xref="S2.SS2.p3.5.m5.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.5.m5.1b"><cn type="integer" id="S2.SS2.p3.5.m5.1.1.cmml" xref="S2.SS2.p3.5.m5.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.5.m5.1c">3</annotation></semantics></math> steps) and left (<math id="S2.SS2.p3.6.m6.1" class="ltx_Math" alttext="3" display="inline"><semantics id="S2.SS2.p3.6.m6.1a"><mn id="S2.SS2.p3.6.m6.1.1" xref="S2.SS2.p3.6.m6.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.6.m6.1b"><cn type="integer" id="S2.SS2.p3.6.m6.1.1.cmml" xref="S2.SS2.p3.6.m6.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.6.m6.1c">3</annotation></semantics></math> steps).</p>
</div>
<div id="S2.SS2.p4" class="ltx_para">
<p id="S2.SS2.p4.3" class="ltx_p">Note that our bi-dimensional coordinate applies generally on both hierarchical tables and flat tables. <span id="S2.SS2.p4.3.1" class="ltx_text ltx_font_bold">In flat tables, tree coordinates degenerate to rectangular Cartesian coordinates</span>, and the distance between two cells in the same row or column is <math id="S2.SS2.p4.1.m1.1" class="ltx_Math" alttext="2" display="inline"><semantics id="S2.SS2.p4.1.m1.1a"><mn id="S2.SS2.p4.1.m1.1.1" xref="S2.SS2.p4.1.m1.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.1.m1.1b"><cn type="integer" id="S2.SS2.p4.1.m1.1.1.cmml" xref="S2.SS2.p4.1.m1.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.1.m1.1c">2</annotation></semantics></math>, otherwise is <math id="S2.SS2.p4.2.m2.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S2.SS2.p4.2.m2.1a"><mn id="S2.SS2.p4.2.m2.1.1" xref="S2.SS2.p4.2.m2.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.2.m2.1b"><cn type="integer" id="S2.SS2.p4.2.m2.1.1.cmml" xref="S2.SS2.p4.2.m2.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.2.m2.1c">4</annotation></semantics></math>. For texts like titles and surrounding NL descriptions, since they are global information to tables, their distances to cells are set to <math id="S2.SS2.p4.3.m3.1" class="ltx_Math" alttext="0" display="inline"><semantics id="S2.SS2.p4.3.m3.1a"><mn id="S2.SS2.p4.3.m3.1.1" xref="S2.SS2.p4.3.m3.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.3.m3.1b"><cn type="integer" id="S2.SS2.p4.3.m3.1.1.cmml" xref="S2.SS2.p4.3.m3.1.1">0</cn></annotation-xml></semantics></math>. This tree-based distance enables effective spatial and hierarchical data-flow via our proposed tree attention in Section <a href="#S3.SS3" title="3.3. Tree attention ‣ 3. TUTA Model ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a>.</p>
</div>
<div id="S2.SS2.p5" class="ltx_para ltx_noindent">
<p id="S2.SS2.p5.1" class="ltx_p"><span id="S2.SS2.p5.1.1" class="ltx_text ltx_font_bold">Tree extraction</span>  includes two steps: (1) detect header regions in tables and (2) extract hierarchies from headers.
Methods of header detection have already achieved high accuracy <cite class="ltx_cite ltx_citemacro_citep">(Fang <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib15" title="" class="ltx_ref">2012</a>; Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2019a</a>)</cite>, we adopt a recent CNN-based method <cite class="ltx_cite ltx_citemacro_citep">(Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2019a</a>)</cite>.
Next, to extract header hierarchies, we consolidate effective heuristics based on common practices of human formatting, such as the merged cells in the top header and indentation levels in the left header.
Besides, since formulas containing SUM or AVERAGE are also strong indications of hierarchies, we also incorporate them in this algorithm.
This approach has desirable performance and interpretability when processing large unlabeled corpus. More details can be found in Appendix <a href="#A2" title="Appendix B Tree extraction ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>.
Since TUTA is a general table pre-training framework based on bi-trees, one can also employ other methods introduced by <cite class="ltx_cite ltx_citemacro_citep">(Lim and Ng, <a href="#bib.bib28" title="" class="ltx_ref">1999</a>; Chen and
Cafarella, <a href="#bib.bib3" title="" class="ltx_ref">2014</a>; Paramonov <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib31" title="" class="ltx_ref">2020</a>)</cite> to extract headers and hierarchies for TUTA.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>TUTA Model</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">Our TUTA model adapts from BERT with four key enhancements:
(1) build the first dedicated vocabulary on a general source of table corpus to better encode common tokens in real-world tables.
(2) introduce tree-based position embeddings to incorporate cell location and header hierarchy.
(3) propose a structure-aware attention mechanism to facilitate semantic flows across structurally neighboring contexts.
(4) devise three pre-training objectives to learn progressively the representations at token, cell, and table levels.
The architecture overview is shown in Figure <a href="#S3.F4" title="Figure 4 ‣ 3.2. Embedding layer ‣ 3. TUTA Model ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Vocabulary construction</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">Different from long texts in NL documents, cell strings in tables often have short lengths and concise meanings, constituting a word distribution very different from that in NL. For example, to be more compact, tables often record measures ‘quantity’ and ‘yards’ using abbreviations ‘qty’ and ‘yds’, or statistical terms ‘average’ and ‘difference’ as ‘avg’ and ‘diff’. Hence, directly using NL vocabularies to parse cell strings is improper.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.2" class="ltx_p">Based on the table corpus introduced in Section <a href="#S2.SS1" title="2.1. Dataset construction ‣ 2. Preliminaries ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.1</span></a>, we build the first dedicated vocabulary for tables using the WordPiece model <cite class="ltx_cite ltx_citemacro_citep">(Devlin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib9" title="" class="ltx_ref">2018</a>)</cite> and get <math id="S3.SS1.p2.1.m1.2" class="ltx_Math" alttext="9,754" display="inline"><semantics id="S3.SS1.p2.1.m1.2a"><mrow id="S3.SS1.p2.1.m1.2.3.2" xref="S3.SS1.p2.1.m1.2.3.1.cmml"><mn id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">9</mn><mo id="S3.SS1.p2.1.m1.2.3.2.1" xref="S3.SS1.p2.1.m1.2.3.1.cmml">,</mo><mn id="S3.SS1.p2.1.m1.2.2" xref="S3.SS1.p2.1.m1.2.2.cmml">754</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.2b"><list id="S3.SS1.p2.1.m1.2.3.1.cmml" xref="S3.SS1.p2.1.m1.2.3.2"><cn type="integer" id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">9</cn><cn type="integer" id="S3.SS1.p2.1.m1.2.2.cmml" xref="S3.SS1.p2.1.m1.2.2">754</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.2c">9,754</annotation></semantics></math> new tokens besides those already in BERT.
We classify the top-<math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="50" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mn id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><cn type="integer" id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">50</annotation></semantics></math> frequent new tokens in Table <a href="#S3.T1" title="Table 1 ‣ 3.1. Vocabulary construction ‣ 3. TUTA Model ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. It shows meaningful and intuitive results. Intriguingly, there are indeed plenty of abbreviations, such as ‘pos’, ‘fg’, and ‘pts’ in the sports domain.
Since NL-form table descriptions like titles also need to be modeled, we merge our table vocabulary with the NL vocabulary <cite class="ltx_cite ltx_citemacro_citep">(Devlin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib9" title="" class="ltx_ref">2018</a>)</cite> to achieve better generalization, then we perform sub-tokenization for table contexts and cell strings using the Wordpiece tokenizer as in <cite class="ltx_cite ltx_citemacro_citep">(Devlin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib9" title="" class="ltx_ref">2018</a>)</cite>.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<div id="S3.T1.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:296.8pt;height:110.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-20.2pt,7.6pt) scale(0.88,0.88) ;">
<table id="S3.T1.3.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.3.1.1.1" class="ltx_tr">
<th id="S3.T1.3.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t">Measures &amp; units</th>
<th id="S3.T1.3.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t">num (number), qty (quantity), yds, dist, att, eur…</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.3.1.2.1" class="ltx_tr">
<td id="S3.T1.3.1.2.1.1" class="ltx_td ltx_align_left ltx_border_t">Statistical terms</td>
<td id="S3.T1.3.1.2.1.2" class="ltx_td ltx_align_left ltx_border_t">avg (average), pct (percentage), tot, chg, div, rnd…</td>
</tr>
<tr id="S3.T1.3.1.3.2" class="ltx_tr">
<td id="S3.T1.3.1.3.2.1" class="ltx_td ltx_align_left ltx_border_t">Date &amp; time</td>
<td id="S3.T1.3.1.3.2.2" class="ltx_td ltx_align_left ltx_border_t">fy (fiscal year), thu (Thursday), the, fri, qtr, yr…</td>
</tr>
<tr id="S3.T1.3.1.4.3" class="ltx_tr">
<td id="S3.T1.3.1.4.3.1" class="ltx_td ltx_align_left ltx_border_t">Sports</td>
<td id="S3.T1.3.1.4.3.2" class="ltx_td ltx_align_left ltx_border_t">pos (position), fg (field goal), pim, slg, obp…</td>
</tr>
<tr id="S3.T1.3.1.5.4" class="ltx_tr">
<td id="S3.T1.3.1.5.4.1" class="ltx_td ltx_border_t"></td>
<td id="S3.T1.3.1.5.4.2" class="ltx_td ltx_align_left ltx_border_t">pld, nd, ast, xxl, px, blk, xxs, ret, lmsc, stl, ef, wkts,</td>
</tr>
<tr id="S3.T1.3.1.6.5" class="ltx_tr">
<td id="S3.T1.3.1.6.5.1" class="ltx_td ltx_align_left">Unsorted</td>
<td id="S3.T1.3.1.6.5.2" class="ltx_td ltx_align_left">fga, wm, adj, tweet, comp, mdns, ppg, bcs, sog,</td>
</tr>
<tr id="S3.T1.3.1.7.6" class="ltx_tr">
<td id="S3.T1.3.1.7.6.1" class="ltx_td ltx_border_b"></td>
<td id="S3.T1.3.1.7.6.2" class="ltx_td ltx_align_left ltx_border_b">chr, xs, fta, mpg, xxxl, sym, url, msrp, lng</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span> Top-<math id="S3.T1.2.2.m1.1" class="ltx_Math" alttext="50" display="inline"><semantics id="S3.T1.2.2.m1.1b"><mn id="S3.T1.2.2.m1.1.1" xref="S3.T1.2.2.m1.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S3.T1.2.2.m1.1c"><cn type="integer" id="S3.T1.2.2.m1.1.1.cmml" xref="S3.T1.2.2.m1.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.2.m1.1d">50</annotation></semantics></math> frequent new tokens in TUTA vocabulary.

</figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Embedding layer</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.5" class="ltx_p">Compared with NL text, tables involve much richer information like text, positions, and formats.
Tokens are jointly embedded by their: in-table position <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="E_{t\_pos}" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><msub id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml"><mi id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml">E</mi><mrow id="S3.SS2.p1.1.m1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.3.cmml"><mi id="S3.SS2.p1.1.m1.1.1.3.2" xref="S3.SS2.p1.1.m1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.1.m1.1.1.3.1" xref="S3.SS2.p1.1.m1.1.1.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p1.1.m1.1.1.3.3" xref="S3.SS2.p1.1.m1.1.1.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.1.m1.1.1.3.1a" xref="S3.SS2.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.1.m1.1.1.3.4" xref="S3.SS2.p1.1.m1.1.1.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.1.m1.1.1.3.1b" xref="S3.SS2.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.1.m1.1.1.3.5" xref="S3.SS2.p1.1.m1.1.1.3.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.1.m1.1.1.3.1c" xref="S3.SS2.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.1.m1.1.1.3.6" xref="S3.SS2.p1.1.m1.1.1.3.6.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.2">𝐸</ci><apply id="S3.SS2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.3"><times id="S3.SS2.p1.1.m1.1.1.3.1.cmml" xref="S3.SS2.p1.1.m1.1.1.3.1"></times><ci id="S3.SS2.p1.1.m1.1.1.3.2.cmml" xref="S3.SS2.p1.1.m1.1.1.3.2">𝑡</ci><ci id="S3.SS2.p1.1.m1.1.1.3.3.cmml" xref="S3.SS2.p1.1.m1.1.1.3.3">_</ci><ci id="S3.SS2.p1.1.m1.1.1.3.4.cmml" xref="S3.SS2.p1.1.m1.1.1.3.4">𝑝</ci><ci id="S3.SS2.p1.1.m1.1.1.3.5.cmml" xref="S3.SS2.p1.1.m1.1.1.3.5">𝑜</ci><ci id="S3.SS2.p1.1.m1.1.1.3.6.cmml" xref="S3.SS2.p1.1.m1.1.1.3.6">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">E_{t\_pos}</annotation></semantics></math>, in-cell position <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="E_{c\_pos}" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mi id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">E</mi><mrow id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml"><mi id="S3.SS2.p1.2.m2.1.1.3.2" xref="S3.SS2.p1.2.m2.1.1.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.2.m2.1.1.3.1" xref="S3.SS2.p1.2.m2.1.1.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p1.2.m2.1.1.3.3" xref="S3.SS2.p1.2.m2.1.1.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.2.m2.1.1.3.1a" xref="S3.SS2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.2.m2.1.1.3.4" xref="S3.SS2.p1.2.m2.1.1.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.2.m2.1.1.3.1b" xref="S3.SS2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.2.m2.1.1.3.5" xref="S3.SS2.p1.2.m2.1.1.3.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.2.m2.1.1.3.1c" xref="S3.SS2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.2.m2.1.1.3.6" xref="S3.SS2.p1.2.m2.1.1.3.6.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">𝐸</ci><apply id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3"><times id="S3.SS2.p1.2.m2.1.1.3.1.cmml" xref="S3.SS2.p1.2.m2.1.1.3.1"></times><ci id="S3.SS2.p1.2.m2.1.1.3.2.cmml" xref="S3.SS2.p1.2.m2.1.1.3.2">𝑐</ci><ci id="S3.SS2.p1.2.m2.1.1.3.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3.3">_</ci><ci id="S3.SS2.p1.2.m2.1.1.3.4.cmml" xref="S3.SS2.p1.2.m2.1.1.3.4">𝑝</ci><ci id="S3.SS2.p1.2.m2.1.1.3.5.cmml" xref="S3.SS2.p1.2.m2.1.1.3.5">𝑜</ci><ci id="S3.SS2.p1.2.m2.1.1.3.6.cmml" xref="S3.SS2.p1.2.m2.1.1.3.6">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">E_{c\_pos}</annotation></semantics></math>, token semantics <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="E_{tok}" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><msub id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml"><mi id="S3.SS2.p1.3.m3.1.1.2" xref="S3.SS2.p1.3.m3.1.1.2.cmml">E</mi><mrow id="S3.SS2.p1.3.m3.1.1.3" xref="S3.SS2.p1.3.m3.1.1.3.cmml"><mi id="S3.SS2.p1.3.m3.1.1.3.2" xref="S3.SS2.p1.3.m3.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.3.m3.1.1.3.1" xref="S3.SS2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.3.m3.1.1.3.3" xref="S3.SS2.p1.3.m3.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.3.m3.1.1.3.1a" xref="S3.SS2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.3.m3.1.1.3.4" xref="S3.SS2.p1.3.m3.1.1.3.4.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><apply id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.2">𝐸</ci><apply id="S3.SS2.p1.3.m3.1.1.3.cmml" xref="S3.SS2.p1.3.m3.1.1.3"><times id="S3.SS2.p1.3.m3.1.1.3.1.cmml" xref="S3.SS2.p1.3.m3.1.1.3.1"></times><ci id="S3.SS2.p1.3.m3.1.1.3.2.cmml" xref="S3.SS2.p1.3.m3.1.1.3.2">𝑡</ci><ci id="S3.SS2.p1.3.m3.1.1.3.3.cmml" xref="S3.SS2.p1.3.m3.1.1.3.3">𝑜</ci><ci id="S3.SS2.p1.3.m3.1.1.3.4.cmml" xref="S3.SS2.p1.3.m3.1.1.3.4">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">E_{tok}</annotation></semantics></math>, numerical properites <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="E_{num}" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><msub id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml"><mi id="S3.SS2.p1.4.m4.1.1.2" xref="S3.SS2.p1.4.m4.1.1.2.cmml">E</mi><mrow id="S3.SS2.p1.4.m4.1.1.3" xref="S3.SS2.p1.4.m4.1.1.3.cmml"><mi id="S3.SS2.p1.4.m4.1.1.3.2" xref="S3.SS2.p1.4.m4.1.1.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.4.m4.1.1.3.1" xref="S3.SS2.p1.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.4.m4.1.1.3.3" xref="S3.SS2.p1.4.m4.1.1.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.4.m4.1.1.3.1a" xref="S3.SS2.p1.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.4.m4.1.1.3.4" xref="S3.SS2.p1.4.m4.1.1.3.4.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><apply id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.2">𝐸</ci><apply id="S3.SS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3"><times id="S3.SS2.p1.4.m4.1.1.3.1.cmml" xref="S3.SS2.p1.4.m4.1.1.3.1"></times><ci id="S3.SS2.p1.4.m4.1.1.3.2.cmml" xref="S3.SS2.p1.4.m4.1.1.3.2">𝑛</ci><ci id="S3.SS2.p1.4.m4.1.1.3.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3.3">𝑢</ci><ci id="S3.SS2.p1.4.m4.1.1.3.4.cmml" xref="S3.SS2.p1.4.m4.1.1.3.4">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">E_{num}</annotation></semantics></math>, and formatting features <math id="S3.SS2.p1.5.m5.1" class="ltx_Math" alttext="E_{fmt}" display="inline"><semantics id="S3.SS2.p1.5.m5.1a"><msub id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml"><mi id="S3.SS2.p1.5.m5.1.1.2" xref="S3.SS2.p1.5.m5.1.1.2.cmml">E</mi><mrow id="S3.SS2.p1.5.m5.1.1.3" xref="S3.SS2.p1.5.m5.1.1.3.cmml"><mi id="S3.SS2.p1.5.m5.1.1.3.2" xref="S3.SS2.p1.5.m5.1.1.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.5.m5.1.1.3.1" xref="S3.SS2.p1.5.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.5.m5.1.1.3.3" xref="S3.SS2.p1.5.m5.1.1.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.5.m5.1.1.3.1a" xref="S3.SS2.p1.5.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p1.5.m5.1.1.3.4" xref="S3.SS2.p1.5.m5.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><apply id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p1.5.m5.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1.2">𝐸</ci><apply id="S3.SS2.p1.5.m5.1.1.3.cmml" xref="S3.SS2.p1.5.m5.1.1.3"><times id="S3.SS2.p1.5.m5.1.1.3.1.cmml" xref="S3.SS2.p1.5.m5.1.1.3.1"></times><ci id="S3.SS2.p1.5.m5.1.1.3.2.cmml" xref="S3.SS2.p1.5.m5.1.1.3.2">𝑓</ci><ci id="S3.SS2.p1.5.m5.1.1.3.3.cmml" xref="S3.SS2.p1.5.m5.1.1.3.3">𝑚</ci><ci id="S3.SS2.p1.5.m5.1.1.3.4.cmml" xref="S3.SS2.p1.5.m5.1.1.3.4">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">E_{fmt}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para ltx_noindent">
<p id="S3.SS2.p2.1" class="ltx_p"><span id="S3.SS2.p2.1.1" class="ltx_text ltx_font_bold">In-table position</span>  As introduced in Section <a href="#S2.SS2" title="2.2. Bi-dimensional coordinate tree ‣ 2. Preliminaries ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.2</span></a>, cells use bi-tree coordinates to store hierarchical information.
For trees of different depths to get coordinates with unified length, we extend top/left tree coordinates to a predefined max length <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">L</annotation></semantics></math>, as detailed in Appendix <a href="#A3.SS1" title="C.1. Data pre-processing ‣ Appendix C Experiment details ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.1</span></a>.
Next, we compare two embedding methods for tree positions.
For one, we adopt the explicit tree embedding in <cite class="ltx_cite ltx_citemacro_citep">(Shiv and Quirk, <a href="#bib.bib36" title="" class="ltx_ref">2019</a>)</cite>. It can be explicitly computed and directly extended to our bi-tree structure. For another, we use randomly initialized weights as implicit embeddings and train them jointly with attention layers as <cite class="ltx_cite ltx_citemacro_citep">(Devlin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib9" title="" class="ltx_ref">2018</a>)</cite>.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.13" class="ltx_p">To further incorporate spatial information, column and row indexes are combined with the top and left coordinates.
As shown in Figure <a href="#S3.F3" title="Figure 3 ‣ 3.2. Embedding layer ‣ 3. TUTA Model ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we assign each level of top and left coordinates with a sub-embedding (size <math id="S3.SS2.p3.1.m1.1" class="ltx_Math" alttext="d_{TL}" display="inline"><semantics id="S3.SS2.p3.1.m1.1a"><msub id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml">d</mi><mrow id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml"><mi id="S3.SS2.p3.1.m1.1.1.3.2" xref="S3.SS2.p3.1.m1.1.1.3.2.cmml">T</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.1.m1.1.1.3.1" xref="S3.SS2.p3.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p3.1.m1.1.1.3.3" xref="S3.SS2.p3.1.m1.1.1.3.3.cmml">L</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2">𝑑</ci><apply id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3"><times id="S3.SS2.p3.1.m1.1.1.3.1.cmml" xref="S3.SS2.p3.1.m1.1.1.3.1"></times><ci id="S3.SS2.p3.1.m1.1.1.3.2.cmml" xref="S3.SS2.p3.1.m1.1.1.3.2">𝑇</ci><ci id="S3.SS2.p3.1.m1.1.1.3.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3.3">𝐿</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">d_{TL}</annotation></semantics></math>), then concatenate them with row and column sub-embeddings (size <math id="S3.SS2.p3.2.m2.1" class="ltx_Math" alttext="d_{RC}" display="inline"><semantics id="S3.SS2.p3.2.m2.1a"><msub id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">d</mi><mrow id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml"><mi id="S3.SS2.p3.2.m2.1.1.3.2" xref="S3.SS2.p3.2.m2.1.1.3.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.2.m2.1.1.3.1" xref="S3.SS2.p3.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p3.2.m2.1.1.3.3" xref="S3.SS2.p3.2.m2.1.1.3.3.cmml">C</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">𝑑</ci><apply id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3"><times id="S3.SS2.p3.2.m2.1.1.3.1.cmml" xref="S3.SS2.p3.2.m2.1.1.3.1"></times><ci id="S3.SS2.p3.2.m2.1.1.3.2.cmml" xref="S3.SS2.p3.2.m2.1.1.3.2">𝑅</ci><ci id="S3.SS2.p3.2.m2.1.1.3.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3">𝐶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">d_{RC}</annotation></semantics></math>).
The joint embeddings are then formulated as <math id="S3.SS2.p3.3.m3.4" class="ltx_Math" alttext="E_{t\_pos}=({W_{t}\cdot x_{t}})\oplus({W_{l}\cdot x_{l}})\oplus({W_{c}\cdot x_{c}})\oplus({W_{r}\cdot x_{r}})" display="inline"><semantics id="S3.SS2.p3.3.m3.4a"><mrow id="S3.SS2.p3.3.m3.4.4" xref="S3.SS2.p3.3.m3.4.4.cmml"><msub id="S3.SS2.p3.3.m3.4.4.6" xref="S3.SS2.p3.3.m3.4.4.6.cmml"><mi id="S3.SS2.p3.3.m3.4.4.6.2" xref="S3.SS2.p3.3.m3.4.4.6.2.cmml">E</mi><mrow id="S3.SS2.p3.3.m3.4.4.6.3" xref="S3.SS2.p3.3.m3.4.4.6.3.cmml"><mi id="S3.SS2.p3.3.m3.4.4.6.3.2" xref="S3.SS2.p3.3.m3.4.4.6.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.3.m3.4.4.6.3.1" xref="S3.SS2.p3.3.m3.4.4.6.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p3.3.m3.4.4.6.3.3" xref="S3.SS2.p3.3.m3.4.4.6.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.3.m3.4.4.6.3.1a" xref="S3.SS2.p3.3.m3.4.4.6.3.1.cmml">​</mo><mi id="S3.SS2.p3.3.m3.4.4.6.3.4" xref="S3.SS2.p3.3.m3.4.4.6.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.3.m3.4.4.6.3.1b" xref="S3.SS2.p3.3.m3.4.4.6.3.1.cmml">​</mo><mi id="S3.SS2.p3.3.m3.4.4.6.3.5" xref="S3.SS2.p3.3.m3.4.4.6.3.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.3.m3.4.4.6.3.1c" xref="S3.SS2.p3.3.m3.4.4.6.3.1.cmml">​</mo><mi id="S3.SS2.p3.3.m3.4.4.6.3.6" xref="S3.SS2.p3.3.m3.4.4.6.3.6.cmml">s</mi></mrow></msub><mo id="S3.SS2.p3.3.m3.4.4.5" xref="S3.SS2.p3.3.m3.4.4.5.cmml">=</mo><mrow id="S3.SS2.p3.3.m3.4.4.4" xref="S3.SS2.p3.3.m3.4.4.4.cmml"><mrow id="S3.SS2.p3.3.m3.1.1.1.1.1" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p3.3.m3.1.1.1.1.1.2" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p3.3.m3.1.1.1.1.1.1" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.cmml"><msub id="S3.SS2.p3.3.m3.1.1.1.1.1.1.2" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.2.cmml"><mi id="S3.SS2.p3.3.m3.1.1.1.1.1.1.2.2" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.2.2.cmml">W</mi><mi id="S3.SS2.p3.3.m3.1.1.1.1.1.1.2.3" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.2.3.cmml">t</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.3.m3.1.1.1.1.1.1.1" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.1.cmml">⋅</mo><msub id="S3.SS2.p3.3.m3.1.1.1.1.1.1.3" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p3.3.m3.1.1.1.1.1.1.3.2" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.SS2.p3.3.m3.1.1.1.1.1.1.3.3" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.3.3.cmml">t</mi></msub></mrow><mo stretchy="false" id="S3.SS2.p3.3.m3.1.1.1.1.1.3" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.SS2.p3.3.m3.4.4.4.5" xref="S3.SS2.p3.3.m3.4.4.4.5.cmml">⊕</mo><mrow id="S3.SS2.p3.3.m3.2.2.2.2.1" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.cmml"><mo stretchy="false" id="S3.SS2.p3.3.m3.2.2.2.2.1.2" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.cmml">(</mo><mrow id="S3.SS2.p3.3.m3.2.2.2.2.1.1" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.cmml"><msub id="S3.SS2.p3.3.m3.2.2.2.2.1.1.2" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.2.cmml"><mi id="S3.SS2.p3.3.m3.2.2.2.2.1.1.2.2" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.2.2.cmml">W</mi><mi id="S3.SS2.p3.3.m3.2.2.2.2.1.1.2.3" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.2.3.cmml">l</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.3.m3.2.2.2.2.1.1.1" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.1.cmml">⋅</mo><msub id="S3.SS2.p3.3.m3.2.2.2.2.1.1.3" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.3.cmml"><mi id="S3.SS2.p3.3.m3.2.2.2.2.1.1.3.2" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.3.2.cmml">x</mi><mi id="S3.SS2.p3.3.m3.2.2.2.2.1.1.3.3" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.3.3.cmml">l</mi></msub></mrow><mo stretchy="false" id="S3.SS2.p3.3.m3.2.2.2.2.1.3" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.cmml">)</mo></mrow><mo id="S3.SS2.p3.3.m3.4.4.4.5a" xref="S3.SS2.p3.3.m3.4.4.4.5.cmml">⊕</mo><mrow id="S3.SS2.p3.3.m3.3.3.3.3.1" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.cmml"><mo stretchy="false" id="S3.SS2.p3.3.m3.3.3.3.3.1.2" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.cmml">(</mo><mrow id="S3.SS2.p3.3.m3.3.3.3.3.1.1" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.cmml"><msub id="S3.SS2.p3.3.m3.3.3.3.3.1.1.2" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.2.cmml"><mi id="S3.SS2.p3.3.m3.3.3.3.3.1.1.2.2" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.2.2.cmml">W</mi><mi id="S3.SS2.p3.3.m3.3.3.3.3.1.1.2.3" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.2.3.cmml">c</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.3.m3.3.3.3.3.1.1.1" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.1.cmml">⋅</mo><msub id="S3.SS2.p3.3.m3.3.3.3.3.1.1.3" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.3.cmml"><mi id="S3.SS2.p3.3.m3.3.3.3.3.1.1.3.2" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.3.2.cmml">x</mi><mi id="S3.SS2.p3.3.m3.3.3.3.3.1.1.3.3" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.3.3.cmml">c</mi></msub></mrow><mo stretchy="false" id="S3.SS2.p3.3.m3.3.3.3.3.1.3" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.cmml">)</mo></mrow><mo id="S3.SS2.p3.3.m3.4.4.4.5b" xref="S3.SS2.p3.3.m3.4.4.4.5.cmml">⊕</mo><mrow id="S3.SS2.p3.3.m3.4.4.4.4.1" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.cmml"><mo stretchy="false" id="S3.SS2.p3.3.m3.4.4.4.4.1.2" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.cmml">(</mo><mrow id="S3.SS2.p3.3.m3.4.4.4.4.1.1" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.cmml"><msub id="S3.SS2.p3.3.m3.4.4.4.4.1.1.2" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.2.cmml"><mi id="S3.SS2.p3.3.m3.4.4.4.4.1.1.2.2" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.2.2.cmml">W</mi><mi id="S3.SS2.p3.3.m3.4.4.4.4.1.1.2.3" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.2.3.cmml">r</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.3.m3.4.4.4.4.1.1.1" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.1.cmml">⋅</mo><msub id="S3.SS2.p3.3.m3.4.4.4.4.1.1.3" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.3.cmml"><mi id="S3.SS2.p3.3.m3.4.4.4.4.1.1.3.2" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.3.2.cmml">x</mi><mi id="S3.SS2.p3.3.m3.4.4.4.4.1.1.3.3" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.3.3.cmml">r</mi></msub></mrow><mo stretchy="false" id="S3.SS2.p3.3.m3.4.4.4.4.1.3" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.4b"><apply id="S3.SS2.p3.3.m3.4.4.cmml" xref="S3.SS2.p3.3.m3.4.4"><eq id="S3.SS2.p3.3.m3.4.4.5.cmml" xref="S3.SS2.p3.3.m3.4.4.5"></eq><apply id="S3.SS2.p3.3.m3.4.4.6.cmml" xref="S3.SS2.p3.3.m3.4.4.6"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.4.4.6.1.cmml" xref="S3.SS2.p3.3.m3.4.4.6">subscript</csymbol><ci id="S3.SS2.p3.3.m3.4.4.6.2.cmml" xref="S3.SS2.p3.3.m3.4.4.6.2">𝐸</ci><apply id="S3.SS2.p3.3.m3.4.4.6.3.cmml" xref="S3.SS2.p3.3.m3.4.4.6.3"><times id="S3.SS2.p3.3.m3.4.4.6.3.1.cmml" xref="S3.SS2.p3.3.m3.4.4.6.3.1"></times><ci id="S3.SS2.p3.3.m3.4.4.6.3.2.cmml" xref="S3.SS2.p3.3.m3.4.4.6.3.2">𝑡</ci><ci id="S3.SS2.p3.3.m3.4.4.6.3.3.cmml" xref="S3.SS2.p3.3.m3.4.4.6.3.3">_</ci><ci id="S3.SS2.p3.3.m3.4.4.6.3.4.cmml" xref="S3.SS2.p3.3.m3.4.4.6.3.4">𝑝</ci><ci id="S3.SS2.p3.3.m3.4.4.6.3.5.cmml" xref="S3.SS2.p3.3.m3.4.4.6.3.5">𝑜</ci><ci id="S3.SS2.p3.3.m3.4.4.6.3.6.cmml" xref="S3.SS2.p3.3.m3.4.4.6.3.6">𝑠</ci></apply></apply><apply id="S3.SS2.p3.3.m3.4.4.4.cmml" xref="S3.SS2.p3.3.m3.4.4.4"><csymbol cd="latexml" id="S3.SS2.p3.3.m3.4.4.4.5.cmml" xref="S3.SS2.p3.3.m3.4.4.4.5">direct-sum</csymbol><apply id="S3.SS2.p3.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1.1.1.1"><ci id="S3.SS2.p3.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.1">⋅</ci><apply id="S3.SS2.p3.3.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.p3.3.m3.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.2.2">𝑊</ci><ci id="S3.SS2.p3.3.m3.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.SS2.p3.3.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p3.3.m3.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.3.2">𝑥</ci><ci id="S3.SS2.p3.3.m3.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p3.3.m3.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply><apply id="S3.SS2.p3.3.m3.2.2.2.2.1.1.cmml" xref="S3.SS2.p3.3.m3.2.2.2.2.1"><ci id="S3.SS2.p3.3.m3.2.2.2.2.1.1.1.cmml" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.1">⋅</ci><apply id="S3.SS2.p3.3.m3.2.2.2.2.1.1.2.cmml" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.2.2.2.2.1.1.2.1.cmml" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.2">subscript</csymbol><ci id="S3.SS2.p3.3.m3.2.2.2.2.1.1.2.2.cmml" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.2.2">𝑊</ci><ci id="S3.SS2.p3.3.m3.2.2.2.2.1.1.2.3.cmml" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.2.3">𝑙</ci></apply><apply id="S3.SS2.p3.3.m3.2.2.2.2.1.1.3.cmml" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.2.2.2.2.1.1.3.1.cmml" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.3">subscript</csymbol><ci id="S3.SS2.p3.3.m3.2.2.2.2.1.1.3.2.cmml" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.3.2">𝑥</ci><ci id="S3.SS2.p3.3.m3.2.2.2.2.1.1.3.3.cmml" xref="S3.SS2.p3.3.m3.2.2.2.2.1.1.3.3">𝑙</ci></apply></apply><apply id="S3.SS2.p3.3.m3.3.3.3.3.1.1.cmml" xref="S3.SS2.p3.3.m3.3.3.3.3.1"><ci id="S3.SS2.p3.3.m3.3.3.3.3.1.1.1.cmml" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.1">⋅</ci><apply id="S3.SS2.p3.3.m3.3.3.3.3.1.1.2.cmml" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.3.3.3.3.1.1.2.1.cmml" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.2">subscript</csymbol><ci id="S3.SS2.p3.3.m3.3.3.3.3.1.1.2.2.cmml" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.2.2">𝑊</ci><ci id="S3.SS2.p3.3.m3.3.3.3.3.1.1.2.3.cmml" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.2.3">𝑐</ci></apply><apply id="S3.SS2.p3.3.m3.3.3.3.3.1.1.3.cmml" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.3.3.3.3.1.1.3.1.cmml" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.3">subscript</csymbol><ci id="S3.SS2.p3.3.m3.3.3.3.3.1.1.3.2.cmml" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.3.2">𝑥</ci><ci id="S3.SS2.p3.3.m3.3.3.3.3.1.1.3.3.cmml" xref="S3.SS2.p3.3.m3.3.3.3.3.1.1.3.3">𝑐</ci></apply></apply><apply id="S3.SS2.p3.3.m3.4.4.4.4.1.1.cmml" xref="S3.SS2.p3.3.m3.4.4.4.4.1"><ci id="S3.SS2.p3.3.m3.4.4.4.4.1.1.1.cmml" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.1">⋅</ci><apply id="S3.SS2.p3.3.m3.4.4.4.4.1.1.2.cmml" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.4.4.4.4.1.1.2.1.cmml" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.2">subscript</csymbol><ci id="S3.SS2.p3.3.m3.4.4.4.4.1.1.2.2.cmml" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.2.2">𝑊</ci><ci id="S3.SS2.p3.3.m3.4.4.4.4.1.1.2.3.cmml" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.2.3">𝑟</ci></apply><apply id="S3.SS2.p3.3.m3.4.4.4.4.1.1.3.cmml" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.4.4.4.4.1.1.3.1.cmml" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.3">subscript</csymbol><ci id="S3.SS2.p3.3.m3.4.4.4.4.1.1.3.2.cmml" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.3.2">𝑥</ci><ci id="S3.SS2.p3.3.m3.4.4.4.4.1.1.3.3.cmml" xref="S3.SS2.p3.3.m3.4.4.4.4.1.1.3.3">𝑟</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.4c">E_{t\_pos}=({W_{t}\cdot x_{t}})\oplus({W_{l}\cdot x_{l}})\oplus({W_{c}\cdot x_{c}})\oplus({W_{r}\cdot x_{r}})</annotation></semantics></math>, where <math id="S3.SS2.p3.4.m4.3" class="ltx_Math" alttext="W_{t},W_{l}\in\mathbb{R}^{d_{TL}\times(\sum_{i=0}^{L-1}G_{i})}" display="inline"><semantics id="S3.SS2.p3.4.m4.3a"><mrow id="S3.SS2.p3.4.m4.3.3" xref="S3.SS2.p3.4.m4.3.3.cmml"><mrow id="S3.SS2.p3.4.m4.3.3.2.2" xref="S3.SS2.p3.4.m4.3.3.2.3.cmml"><msub id="S3.SS2.p3.4.m4.2.2.1.1.1" xref="S3.SS2.p3.4.m4.2.2.1.1.1.cmml"><mi id="S3.SS2.p3.4.m4.2.2.1.1.1.2" xref="S3.SS2.p3.4.m4.2.2.1.1.1.2.cmml">W</mi><mi id="S3.SS2.p3.4.m4.2.2.1.1.1.3" xref="S3.SS2.p3.4.m4.2.2.1.1.1.3.cmml">t</mi></msub><mo id="S3.SS2.p3.4.m4.3.3.2.2.3" xref="S3.SS2.p3.4.m4.3.3.2.3.cmml">,</mo><msub id="S3.SS2.p3.4.m4.3.3.2.2.2" xref="S3.SS2.p3.4.m4.3.3.2.2.2.cmml"><mi id="S3.SS2.p3.4.m4.3.3.2.2.2.2" xref="S3.SS2.p3.4.m4.3.3.2.2.2.2.cmml">W</mi><mi id="S3.SS2.p3.4.m4.3.3.2.2.2.3" xref="S3.SS2.p3.4.m4.3.3.2.2.2.3.cmml">l</mi></msub></mrow><mo id="S3.SS2.p3.4.m4.3.3.3" xref="S3.SS2.p3.4.m4.3.3.3.cmml">∈</mo><msup id="S3.SS2.p3.4.m4.3.3.4" xref="S3.SS2.p3.4.m4.3.3.4.cmml"><mi id="S3.SS2.p3.4.m4.3.3.4.2" xref="S3.SS2.p3.4.m4.3.3.4.2.cmml">ℝ</mi><mrow id="S3.SS2.p3.4.m4.1.1.1" xref="S3.SS2.p3.4.m4.1.1.1.cmml"><msub id="S3.SS2.p3.4.m4.1.1.1.3" xref="S3.SS2.p3.4.m4.1.1.1.3.cmml"><mi id="S3.SS2.p3.4.m4.1.1.1.3.2" xref="S3.SS2.p3.4.m4.1.1.1.3.2.cmml">d</mi><mrow id="S3.SS2.p3.4.m4.1.1.1.3.3" xref="S3.SS2.p3.4.m4.1.1.1.3.3.cmml"><mi id="S3.SS2.p3.4.m4.1.1.1.3.3.2" xref="S3.SS2.p3.4.m4.1.1.1.3.3.2.cmml">T</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.4.m4.1.1.1.3.3.1" xref="S3.SS2.p3.4.m4.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p3.4.m4.1.1.1.3.3.3" xref="S3.SS2.p3.4.m4.1.1.1.3.3.3.cmml">L</mi></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.4.m4.1.1.1.2" xref="S3.SS2.p3.4.m4.1.1.1.2.cmml">×</mo><mrow id="S3.SS2.p3.4.m4.1.1.1.1.1" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p3.4.m4.1.1.1.1.1.2" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p3.4.m4.1.1.1.1.1.1" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.cmml"><mstyle displaystyle="false" id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.cmml"><msubsup id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1a" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.cmml"><mo id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.2" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.2.cmml">∑</mo><mrow id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.2" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.2.cmml">i</mi><mo id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.1" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.1.cmml">=</mo><mn id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.3" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.3.cmml">0</mn></mrow><mrow id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.2" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.2.cmml">L</mi><mo id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.1" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.3" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msubsup></mstyle><msub id="S3.SS2.p3.4.m4.1.1.1.1.1.1.2" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.2.cmml"><mi id="S3.SS2.p3.4.m4.1.1.1.1.1.1.2.2" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.2.2.cmml">G</mi><mi id="S3.SS2.p3.4.m4.1.1.1.1.1.1.2.3" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.2.3.cmml">i</mi></msub></mrow><mo stretchy="false" id="S3.SS2.p3.4.m4.1.1.1.1.1.3" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.3b"><apply id="S3.SS2.p3.4.m4.3.3.cmml" xref="S3.SS2.p3.4.m4.3.3"><in id="S3.SS2.p3.4.m4.3.3.3.cmml" xref="S3.SS2.p3.4.m4.3.3.3"></in><list id="S3.SS2.p3.4.m4.3.3.2.3.cmml" xref="S3.SS2.p3.4.m4.3.3.2.2"><apply id="S3.SS2.p3.4.m4.2.2.1.1.1.cmml" xref="S3.SS2.p3.4.m4.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.2.2.1.1.1.1.cmml" xref="S3.SS2.p3.4.m4.2.2.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.4.m4.2.2.1.1.1.2.cmml" xref="S3.SS2.p3.4.m4.2.2.1.1.1.2">𝑊</ci><ci id="S3.SS2.p3.4.m4.2.2.1.1.1.3.cmml" xref="S3.SS2.p3.4.m4.2.2.1.1.1.3">𝑡</ci></apply><apply id="S3.SS2.p3.4.m4.3.3.2.2.2.cmml" xref="S3.SS2.p3.4.m4.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.3.3.2.2.2.1.cmml" xref="S3.SS2.p3.4.m4.3.3.2.2.2">subscript</csymbol><ci id="S3.SS2.p3.4.m4.3.3.2.2.2.2.cmml" xref="S3.SS2.p3.4.m4.3.3.2.2.2.2">𝑊</ci><ci id="S3.SS2.p3.4.m4.3.3.2.2.2.3.cmml" xref="S3.SS2.p3.4.m4.3.3.2.2.2.3">𝑙</ci></apply></list><apply id="S3.SS2.p3.4.m4.3.3.4.cmml" xref="S3.SS2.p3.4.m4.3.3.4"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.3.3.4.1.cmml" xref="S3.SS2.p3.4.m4.3.3.4">superscript</csymbol><ci id="S3.SS2.p3.4.m4.3.3.4.2.cmml" xref="S3.SS2.p3.4.m4.3.3.4.2">ℝ</ci><apply id="S3.SS2.p3.4.m4.1.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1.1"><times id="S3.SS2.p3.4.m4.1.1.1.2.cmml" xref="S3.SS2.p3.4.m4.1.1.1.2"></times><apply id="S3.SS2.p3.4.m4.1.1.1.3.cmml" xref="S3.SS2.p3.4.m4.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.1.3.1.cmml" xref="S3.SS2.p3.4.m4.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p3.4.m4.1.1.1.3.2.cmml" xref="S3.SS2.p3.4.m4.1.1.1.3.2">𝑑</ci><apply id="S3.SS2.p3.4.m4.1.1.1.3.3.cmml" xref="S3.SS2.p3.4.m4.1.1.1.3.3"><times id="S3.SS2.p3.4.m4.1.1.1.3.3.1.cmml" xref="S3.SS2.p3.4.m4.1.1.1.3.3.1"></times><ci id="S3.SS2.p3.4.m4.1.1.1.3.3.2.cmml" xref="S3.SS2.p3.4.m4.1.1.1.3.3.2">𝑇</ci><ci id="S3.SS2.p3.4.m4.1.1.1.3.3.3.cmml" xref="S3.SS2.p3.4.m4.1.1.1.3.3.3">𝐿</ci></apply></apply><apply id="S3.SS2.p3.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1"><apply id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1">subscript</csymbol><sum id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.2"></sum><apply id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3"><eq id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.1"></eq><ci id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.2">𝑖</ci><cn type="integer" id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.2.3.3">0</cn></apply></apply><apply id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3"><minus id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.1"></minus><ci id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.2">𝐿</ci><cn type="integer" id="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS2.p3.4.m4.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.p3.4.m4.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.2.2">𝐺</ci><ci id="S3.SS2.p3.4.m4.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p3.4.m4.1.1.1.1.1.1.2.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.3c">W_{t},W_{l}\in\mathbb{R}^{d_{TL}\times(\sum_{i=0}^{L-1}G_{i})}</annotation></semantics></math> are implicit tree embedding weights, <math id="S3.SS2.p3.5.m5.2" class="ltx_Math" alttext="x_{t},x_{l}\in\mathbb{R}^{\sum_{i=0}^{L-1}G_{i}}" display="inline"><semantics id="S3.SS2.p3.5.m5.2a"><mrow id="S3.SS2.p3.5.m5.2.2" xref="S3.SS2.p3.5.m5.2.2.cmml"><mrow id="S3.SS2.p3.5.m5.2.2.2.2" xref="S3.SS2.p3.5.m5.2.2.2.3.cmml"><msub id="S3.SS2.p3.5.m5.1.1.1.1.1" xref="S3.SS2.p3.5.m5.1.1.1.1.1.cmml"><mi id="S3.SS2.p3.5.m5.1.1.1.1.1.2" xref="S3.SS2.p3.5.m5.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS2.p3.5.m5.1.1.1.1.1.3" xref="S3.SS2.p3.5.m5.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.SS2.p3.5.m5.2.2.2.2.3" xref="S3.SS2.p3.5.m5.2.2.2.3.cmml">,</mo><msub id="S3.SS2.p3.5.m5.2.2.2.2.2" xref="S3.SS2.p3.5.m5.2.2.2.2.2.cmml"><mi id="S3.SS2.p3.5.m5.2.2.2.2.2.2" xref="S3.SS2.p3.5.m5.2.2.2.2.2.2.cmml">x</mi><mi id="S3.SS2.p3.5.m5.2.2.2.2.2.3" xref="S3.SS2.p3.5.m5.2.2.2.2.2.3.cmml">l</mi></msub></mrow><mo id="S3.SS2.p3.5.m5.2.2.3" xref="S3.SS2.p3.5.m5.2.2.3.cmml">∈</mo><msup id="S3.SS2.p3.5.m5.2.2.4" xref="S3.SS2.p3.5.m5.2.2.4.cmml"><mi id="S3.SS2.p3.5.m5.2.2.4.2" xref="S3.SS2.p3.5.m5.2.2.4.2.cmml">ℝ</mi><mrow id="S3.SS2.p3.5.m5.2.2.4.3" xref="S3.SS2.p3.5.m5.2.2.4.3.cmml"><mstyle displaystyle="false" id="S3.SS2.p3.5.m5.2.2.4.3.1" xref="S3.SS2.p3.5.m5.2.2.4.3.1.cmml"><msubsup id="S3.SS2.p3.5.m5.2.2.4.3.1a" xref="S3.SS2.p3.5.m5.2.2.4.3.1.cmml"><mo id="S3.SS2.p3.5.m5.2.2.4.3.1.2.2" xref="S3.SS2.p3.5.m5.2.2.4.3.1.2.2.cmml">∑</mo><mrow id="S3.SS2.p3.5.m5.2.2.4.3.1.2.3" xref="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.cmml"><mi id="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.2" xref="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.2.cmml">i</mi><mo id="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.1" xref="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.1.cmml">=</mo><mn id="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.3" xref="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.3.cmml">0</mn></mrow><mrow id="S3.SS2.p3.5.m5.2.2.4.3.1.3" xref="S3.SS2.p3.5.m5.2.2.4.3.1.3.cmml"><mi id="S3.SS2.p3.5.m5.2.2.4.3.1.3.2" xref="S3.SS2.p3.5.m5.2.2.4.3.1.3.2.cmml">L</mi><mo id="S3.SS2.p3.5.m5.2.2.4.3.1.3.1" xref="S3.SS2.p3.5.m5.2.2.4.3.1.3.1.cmml">−</mo><mn id="S3.SS2.p3.5.m5.2.2.4.3.1.3.3" xref="S3.SS2.p3.5.m5.2.2.4.3.1.3.3.cmml">1</mn></mrow></msubsup></mstyle><msub id="S3.SS2.p3.5.m5.2.2.4.3.2" xref="S3.SS2.p3.5.m5.2.2.4.3.2.cmml"><mi id="S3.SS2.p3.5.m5.2.2.4.3.2.2" xref="S3.SS2.p3.5.m5.2.2.4.3.2.2.cmml">G</mi><mi id="S3.SS2.p3.5.m5.2.2.4.3.2.3" xref="S3.SS2.p3.5.m5.2.2.4.3.2.3.cmml">i</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.2b"><apply id="S3.SS2.p3.5.m5.2.2.cmml" xref="S3.SS2.p3.5.m5.2.2"><in id="S3.SS2.p3.5.m5.2.2.3.cmml" xref="S3.SS2.p3.5.m5.2.2.3"></in><list id="S3.SS2.p3.5.m5.2.2.2.3.cmml" xref="S3.SS2.p3.5.m5.2.2.2.2"><apply id="S3.SS2.p3.5.m5.1.1.1.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.5.m5.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.5.m5.1.1.1.1.1.2">𝑥</ci><ci id="S3.SS2.p3.5.m5.1.1.1.1.1.3.cmml" xref="S3.SS2.p3.5.m5.1.1.1.1.1.3">𝑡</ci></apply><apply id="S3.SS2.p3.5.m5.2.2.2.2.2.cmml" xref="S3.SS2.p3.5.m5.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.2.2.2.2.2.1.cmml" xref="S3.SS2.p3.5.m5.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p3.5.m5.2.2.2.2.2.2.cmml" xref="S3.SS2.p3.5.m5.2.2.2.2.2.2">𝑥</ci><ci id="S3.SS2.p3.5.m5.2.2.2.2.2.3.cmml" xref="S3.SS2.p3.5.m5.2.2.2.2.2.3">𝑙</ci></apply></list><apply id="S3.SS2.p3.5.m5.2.2.4.cmml" xref="S3.SS2.p3.5.m5.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.2.2.4.1.cmml" xref="S3.SS2.p3.5.m5.2.2.4">superscript</csymbol><ci id="S3.SS2.p3.5.m5.2.2.4.2.cmml" xref="S3.SS2.p3.5.m5.2.2.4.2">ℝ</ci><apply id="S3.SS2.p3.5.m5.2.2.4.3.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3"><apply id="S3.SS2.p3.5.m5.2.2.4.3.1.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.2.2.4.3.1.1.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1">superscript</csymbol><apply id="S3.SS2.p3.5.m5.2.2.4.3.1.2.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.2.2.4.3.1.2.1.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1">subscript</csymbol><sum id="S3.SS2.p3.5.m5.2.2.4.3.1.2.2.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1.2.2"></sum><apply id="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1.2.3"><eq id="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.1.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.1"></eq><ci id="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.2.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.2">𝑖</ci><cn type="integer" id="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.3.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1.2.3.3">0</cn></apply></apply><apply id="S3.SS2.p3.5.m5.2.2.4.3.1.3.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1.3"><minus id="S3.SS2.p3.5.m5.2.2.4.3.1.3.1.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1.3.1"></minus><ci id="S3.SS2.p3.5.m5.2.2.4.3.1.3.2.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1.3.2">𝐿</ci><cn type="integer" id="S3.SS2.p3.5.m5.2.2.4.3.1.3.3.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.1.3.3">1</cn></apply></apply><apply id="S3.SS2.p3.5.m5.2.2.4.3.2.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.2"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.2.2.4.3.2.1.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.2">subscript</csymbol><ci id="S3.SS2.p3.5.m5.2.2.4.3.2.2.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.2.2">𝐺</ci><ci id="S3.SS2.p3.5.m5.2.2.4.3.2.3.cmml" xref="S3.SS2.p3.5.m5.2.2.4.3.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.2c">x_{t},x_{l}\in\mathbb{R}^{\sum_{i=0}^{L-1}G_{i}}</annotation></semantics></math> are concatenated <math id="S3.SS2.p3.6.m6.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS2.p3.6.m6.1a"><mi id="S3.SS2.p3.6.m6.1.1" xref="S3.SS2.p3.6.m6.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.6.m6.1b"><ci id="S3.SS2.p3.6.m6.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.6.m6.1c">L</annotation></semantics></math>-hot vectors for top and left tree coordinates, <math id="S3.SS2.p3.7.m7.1" class="ltx_Math" alttext="W_{r}" display="inline"><semantics id="S3.SS2.p3.7.m7.1a"><msub id="S3.SS2.p3.7.m7.1.1" xref="S3.SS2.p3.7.m7.1.1.cmml"><mi id="S3.SS2.p3.7.m7.1.1.2" xref="S3.SS2.p3.7.m7.1.1.2.cmml">W</mi><mi id="S3.SS2.p3.7.m7.1.1.3" xref="S3.SS2.p3.7.m7.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.7.m7.1b"><apply id="S3.SS2.p3.7.m7.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.7.m7.1.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p3.7.m7.1.1.2.cmml" xref="S3.SS2.p3.7.m7.1.1.2">𝑊</ci><ci id="S3.SS2.p3.7.m7.1.1.3.cmml" xref="S3.SS2.p3.7.m7.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.7.m7.1c">W_{r}</annotation></semantics></math>, <math id="S3.SS2.p3.8.m8.1" class="ltx_Math" alttext="W_{c}" display="inline"><semantics id="S3.SS2.p3.8.m8.1a"><msub id="S3.SS2.p3.8.m8.1.1" xref="S3.SS2.p3.8.m8.1.1.cmml"><mi id="S3.SS2.p3.8.m8.1.1.2" xref="S3.SS2.p3.8.m8.1.1.2.cmml">W</mi><mi id="S3.SS2.p3.8.m8.1.1.3" xref="S3.SS2.p3.8.m8.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.8.m8.1b"><apply id="S3.SS2.p3.8.m8.1.1.cmml" xref="S3.SS2.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.8.m8.1.1.1.cmml" xref="S3.SS2.p3.8.m8.1.1">subscript</csymbol><ci id="S3.SS2.p3.8.m8.1.1.2.cmml" xref="S3.SS2.p3.8.m8.1.1.2">𝑊</ci><ci id="S3.SS2.p3.8.m8.1.1.3.cmml" xref="S3.SS2.p3.8.m8.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.8.m8.1c">W_{c}</annotation></semantics></math> <math id="S3.SS2.p3.9.m9.1" class="ltx_Math" alttext="\in\mathbb{R}^{d_{RC}\times G_{L-1}}" display="inline"><semantics id="S3.SS2.p3.9.m9.1a"><mrow id="S3.SS2.p3.9.m9.1.1" xref="S3.SS2.p3.9.m9.1.1.cmml"><mi id="S3.SS2.p3.9.m9.1.1.2" xref="S3.SS2.p3.9.m9.1.1.2.cmml"></mi><mo id="S3.SS2.p3.9.m9.1.1.1" xref="S3.SS2.p3.9.m9.1.1.1.cmml">∈</mo><msup id="S3.SS2.p3.9.m9.1.1.3" xref="S3.SS2.p3.9.m9.1.1.3.cmml"><mi id="S3.SS2.p3.9.m9.1.1.3.2" xref="S3.SS2.p3.9.m9.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p3.9.m9.1.1.3.3" xref="S3.SS2.p3.9.m9.1.1.3.3.cmml"><msub id="S3.SS2.p3.9.m9.1.1.3.3.2" xref="S3.SS2.p3.9.m9.1.1.3.3.2.cmml"><mi id="S3.SS2.p3.9.m9.1.1.3.3.2.2" xref="S3.SS2.p3.9.m9.1.1.3.3.2.2.cmml">d</mi><mrow id="S3.SS2.p3.9.m9.1.1.3.3.2.3" xref="S3.SS2.p3.9.m9.1.1.3.3.2.3.cmml"><mi id="S3.SS2.p3.9.m9.1.1.3.3.2.3.2" xref="S3.SS2.p3.9.m9.1.1.3.3.2.3.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.9.m9.1.1.3.3.2.3.1" xref="S3.SS2.p3.9.m9.1.1.3.3.2.3.1.cmml">​</mo><mi id="S3.SS2.p3.9.m9.1.1.3.3.2.3.3" xref="S3.SS2.p3.9.m9.1.1.3.3.2.3.3.cmml">C</mi></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.9.m9.1.1.3.3.1" xref="S3.SS2.p3.9.m9.1.1.3.3.1.cmml">×</mo><msub id="S3.SS2.p3.9.m9.1.1.3.3.3" xref="S3.SS2.p3.9.m9.1.1.3.3.3.cmml"><mi id="S3.SS2.p3.9.m9.1.1.3.3.3.2" xref="S3.SS2.p3.9.m9.1.1.3.3.3.2.cmml">G</mi><mrow id="S3.SS2.p3.9.m9.1.1.3.3.3.3" xref="S3.SS2.p3.9.m9.1.1.3.3.3.3.cmml"><mi id="S3.SS2.p3.9.m9.1.1.3.3.3.3.2" xref="S3.SS2.p3.9.m9.1.1.3.3.3.3.2.cmml">L</mi><mo id="S3.SS2.p3.9.m9.1.1.3.3.3.3.1" xref="S3.SS2.p3.9.m9.1.1.3.3.3.3.1.cmml">−</mo><mn id="S3.SS2.p3.9.m9.1.1.3.3.3.3.3" xref="S3.SS2.p3.9.m9.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.9.m9.1b"><apply id="S3.SS2.p3.9.m9.1.1.cmml" xref="S3.SS2.p3.9.m9.1.1"><in id="S3.SS2.p3.9.m9.1.1.1.cmml" xref="S3.SS2.p3.9.m9.1.1.1"></in><csymbol cd="latexml" id="S3.SS2.p3.9.m9.1.1.2.cmml" xref="S3.SS2.p3.9.m9.1.1.2">absent</csymbol><apply id="S3.SS2.p3.9.m9.1.1.3.cmml" xref="S3.SS2.p3.9.m9.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.9.m9.1.1.3.1.cmml" xref="S3.SS2.p3.9.m9.1.1.3">superscript</csymbol><ci id="S3.SS2.p3.9.m9.1.1.3.2.cmml" xref="S3.SS2.p3.9.m9.1.1.3.2">ℝ</ci><apply id="S3.SS2.p3.9.m9.1.1.3.3.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3"><times id="S3.SS2.p3.9.m9.1.1.3.3.1.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.1"></times><apply id="S3.SS2.p3.9.m9.1.1.3.3.2.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS2.p3.9.m9.1.1.3.3.2.1.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.2">subscript</csymbol><ci id="S3.SS2.p3.9.m9.1.1.3.3.2.2.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.2.2">𝑑</ci><apply id="S3.SS2.p3.9.m9.1.1.3.3.2.3.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.2.3"><times id="S3.SS2.p3.9.m9.1.1.3.3.2.3.1.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.2.3.1"></times><ci id="S3.SS2.p3.9.m9.1.1.3.3.2.3.2.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.2.3.2">𝑅</ci><ci id="S3.SS2.p3.9.m9.1.1.3.3.2.3.3.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.2.3.3">𝐶</ci></apply></apply><apply id="S3.SS2.p3.9.m9.1.1.3.3.3.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p3.9.m9.1.1.3.3.3.1.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.3">subscript</csymbol><ci id="S3.SS2.p3.9.m9.1.1.3.3.3.2.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.3.2">𝐺</ci><apply id="S3.SS2.p3.9.m9.1.1.3.3.3.3.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.3.3"><minus id="S3.SS2.p3.9.m9.1.1.3.3.3.3.1.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.3.3.1"></minus><ci id="S3.SS2.p3.9.m9.1.1.3.3.3.3.2.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.3.3.2">𝐿</ci><cn type="integer" id="S3.SS2.p3.9.m9.1.1.3.3.3.3.3.cmml" xref="S3.SS2.p3.9.m9.1.1.3.3.3.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.9.m9.1c">\in\mathbb{R}^{d_{RC}\times G_{L-1}}</annotation></semantics></math> are row and column embedding weights, <math id="S3.SS2.p3.10.m10.2" class="ltx_Math" alttext="x_{r},x_{c}\in\mathbb{R}^{G_{L-1}}" display="inline"><semantics id="S3.SS2.p3.10.m10.2a"><mrow id="S3.SS2.p3.10.m10.2.2" xref="S3.SS2.p3.10.m10.2.2.cmml"><mrow id="S3.SS2.p3.10.m10.2.2.2.2" xref="S3.SS2.p3.10.m10.2.2.2.3.cmml"><msub id="S3.SS2.p3.10.m10.1.1.1.1.1" xref="S3.SS2.p3.10.m10.1.1.1.1.1.cmml"><mi id="S3.SS2.p3.10.m10.1.1.1.1.1.2" xref="S3.SS2.p3.10.m10.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS2.p3.10.m10.1.1.1.1.1.3" xref="S3.SS2.p3.10.m10.1.1.1.1.1.3.cmml">r</mi></msub><mo id="S3.SS2.p3.10.m10.2.2.2.2.3" xref="S3.SS2.p3.10.m10.2.2.2.3.cmml">,</mo><msub id="S3.SS2.p3.10.m10.2.2.2.2.2" xref="S3.SS2.p3.10.m10.2.2.2.2.2.cmml"><mi id="S3.SS2.p3.10.m10.2.2.2.2.2.2" xref="S3.SS2.p3.10.m10.2.2.2.2.2.2.cmml">x</mi><mi id="S3.SS2.p3.10.m10.2.2.2.2.2.3" xref="S3.SS2.p3.10.m10.2.2.2.2.2.3.cmml">c</mi></msub></mrow><mo id="S3.SS2.p3.10.m10.2.2.3" xref="S3.SS2.p3.10.m10.2.2.3.cmml">∈</mo><msup id="S3.SS2.p3.10.m10.2.2.4" xref="S3.SS2.p3.10.m10.2.2.4.cmml"><mi id="S3.SS2.p3.10.m10.2.2.4.2" xref="S3.SS2.p3.10.m10.2.2.4.2.cmml">ℝ</mi><msub id="S3.SS2.p3.10.m10.2.2.4.3" xref="S3.SS2.p3.10.m10.2.2.4.3.cmml"><mi id="S3.SS2.p3.10.m10.2.2.4.3.2" xref="S3.SS2.p3.10.m10.2.2.4.3.2.cmml">G</mi><mrow id="S3.SS2.p3.10.m10.2.2.4.3.3" xref="S3.SS2.p3.10.m10.2.2.4.3.3.cmml"><mi id="S3.SS2.p3.10.m10.2.2.4.3.3.2" xref="S3.SS2.p3.10.m10.2.2.4.3.3.2.cmml">L</mi><mo id="S3.SS2.p3.10.m10.2.2.4.3.3.1" xref="S3.SS2.p3.10.m10.2.2.4.3.3.1.cmml">−</mo><mn id="S3.SS2.p3.10.m10.2.2.4.3.3.3" xref="S3.SS2.p3.10.m10.2.2.4.3.3.3.cmml">1</mn></mrow></msub></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.10.m10.2b"><apply id="S3.SS2.p3.10.m10.2.2.cmml" xref="S3.SS2.p3.10.m10.2.2"><in id="S3.SS2.p3.10.m10.2.2.3.cmml" xref="S3.SS2.p3.10.m10.2.2.3"></in><list id="S3.SS2.p3.10.m10.2.2.2.3.cmml" xref="S3.SS2.p3.10.m10.2.2.2.2"><apply id="S3.SS2.p3.10.m10.1.1.1.1.1.cmml" xref="S3.SS2.p3.10.m10.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.10.m10.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.10.m10.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.10.m10.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.10.m10.1.1.1.1.1.2">𝑥</ci><ci id="S3.SS2.p3.10.m10.1.1.1.1.1.3.cmml" xref="S3.SS2.p3.10.m10.1.1.1.1.1.3">𝑟</ci></apply><apply id="S3.SS2.p3.10.m10.2.2.2.2.2.cmml" xref="S3.SS2.p3.10.m10.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.10.m10.2.2.2.2.2.1.cmml" xref="S3.SS2.p3.10.m10.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p3.10.m10.2.2.2.2.2.2.cmml" xref="S3.SS2.p3.10.m10.2.2.2.2.2.2">𝑥</ci><ci id="S3.SS2.p3.10.m10.2.2.2.2.2.3.cmml" xref="S3.SS2.p3.10.m10.2.2.2.2.2.3">𝑐</ci></apply></list><apply id="S3.SS2.p3.10.m10.2.2.4.cmml" xref="S3.SS2.p3.10.m10.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p3.10.m10.2.2.4.1.cmml" xref="S3.SS2.p3.10.m10.2.2.4">superscript</csymbol><ci id="S3.SS2.p3.10.m10.2.2.4.2.cmml" xref="S3.SS2.p3.10.m10.2.2.4.2">ℝ</ci><apply id="S3.SS2.p3.10.m10.2.2.4.3.cmml" xref="S3.SS2.p3.10.m10.2.2.4.3"><csymbol cd="ambiguous" id="S3.SS2.p3.10.m10.2.2.4.3.1.cmml" xref="S3.SS2.p3.10.m10.2.2.4.3">subscript</csymbol><ci id="S3.SS2.p3.10.m10.2.2.4.3.2.cmml" xref="S3.SS2.p3.10.m10.2.2.4.3.2">𝐺</ci><apply id="S3.SS2.p3.10.m10.2.2.4.3.3.cmml" xref="S3.SS2.p3.10.m10.2.2.4.3.3"><minus id="S3.SS2.p3.10.m10.2.2.4.3.3.1.cmml" xref="S3.SS2.p3.10.m10.2.2.4.3.3.1"></minus><ci id="S3.SS2.p3.10.m10.2.2.4.3.3.2.cmml" xref="S3.SS2.p3.10.m10.2.2.4.3.3.2">𝐿</ci><cn type="integer" id="S3.SS2.p3.10.m10.2.2.4.3.3.3.cmml" xref="S3.SS2.p3.10.m10.2.2.4.3.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.10.m10.2c">x_{r},x_{c}\in\mathbb{R}^{G_{L-1}}</annotation></semantics></math> are one-hot vectors for row and column indexes, <math id="S3.SS2.p3.11.m11.1" class="ltx_Math" alttext="G\in\mathbb{N}^{L}" display="inline"><semantics id="S3.SS2.p3.11.m11.1a"><mrow id="S3.SS2.p3.11.m11.1.1" xref="S3.SS2.p3.11.m11.1.1.cmml"><mi id="S3.SS2.p3.11.m11.1.1.2" xref="S3.SS2.p3.11.m11.1.1.2.cmml">G</mi><mo id="S3.SS2.p3.11.m11.1.1.1" xref="S3.SS2.p3.11.m11.1.1.1.cmml">∈</mo><msup id="S3.SS2.p3.11.m11.1.1.3" xref="S3.SS2.p3.11.m11.1.1.3.cmml"><mi id="S3.SS2.p3.11.m11.1.1.3.2" xref="S3.SS2.p3.11.m11.1.1.3.2.cmml">ℕ</mi><mi id="S3.SS2.p3.11.m11.1.1.3.3" xref="S3.SS2.p3.11.m11.1.1.3.3.cmml">L</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.11.m11.1b"><apply id="S3.SS2.p3.11.m11.1.1.cmml" xref="S3.SS2.p3.11.m11.1.1"><in id="S3.SS2.p3.11.m11.1.1.1.cmml" xref="S3.SS2.p3.11.m11.1.1.1"></in><ci id="S3.SS2.p3.11.m11.1.1.2.cmml" xref="S3.SS2.p3.11.m11.1.1.2">𝐺</ci><apply id="S3.SS2.p3.11.m11.1.1.3.cmml" xref="S3.SS2.p3.11.m11.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.11.m11.1.1.3.1.cmml" xref="S3.SS2.p3.11.m11.1.1.3">superscript</csymbol><ci id="S3.SS2.p3.11.m11.1.1.3.2.cmml" xref="S3.SS2.p3.11.m11.1.1.3.2">ℕ</ci><ci id="S3.SS2.p3.11.m11.1.1.3.3.cmml" xref="S3.SS2.p3.11.m11.1.1.3.3">𝐿</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.11.m11.1c">G\in\mathbb{N}^{L}</annotation></semantics></math> are maximum node degrees for <math id="S3.SS2.p3.12.m12.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS2.p3.12.m12.1a"><mi id="S3.SS2.p3.12.m12.1.1" xref="S3.SS2.p3.12.m12.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.12.m12.1b"><ci id="S3.SS2.p3.12.m12.1.1.cmml" xref="S3.SS2.p3.12.m12.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.12.m12.1c">L</annotation></semantics></math> tree-layers, and <math id="S3.SS2.p3.13.m13.1" class="ltx_Math" alttext="\oplus" display="inline"><semantics id="S3.SS2.p3.13.m13.1a"><mo id="S3.SS2.p3.13.m13.1.1" xref="S3.SS2.p3.13.m13.1.1.cmml">⊕</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.13.m13.1b"><csymbol cd="latexml" id="S3.SS2.p3.13.m13.1.1.cmml" xref="S3.SS2.p3.13.m13.1.1">direct-sum</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.13.m13.1c">\oplus</annotation></semantics></math> represents vector concatenation at the last dimension.</p>
</div>
<figure id="S3.F3" class="ltx_figure"><img src="/html/2010.12537/assets/x3.png" id="S3.F3.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="253" height="51" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>Size specification of in-table position embeddings. </figcaption>
</figure>
<div id="S3.SS2.p4" class="ltx_para ltx_noindent">
<p id="S3.SS2.p4.4" class="ltx_p"><span id="S3.SS2.p4.4.1" class="ltx_text ltx_font_bold">In-cell position</span>  In-cell position is the index of a token inside a cell. Each position can be simply assigned with a trainable embedding: <math id="S3.SS2.p4.1.m1.1" class="ltx_Math" alttext="E_{c\_pos}=W_{c\_pos}\cdot x_{c\_pos}" display="inline"><semantics id="S3.SS2.p4.1.m1.1a"><mrow id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><msub id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2.2" xref="S3.SS2.p4.1.m1.1.1.2.2.cmml">E</mi><mrow id="S3.SS2.p4.1.m1.1.1.2.3" xref="S3.SS2.p4.1.m1.1.1.2.3.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2.3.2" xref="S3.SS2.p4.1.m1.1.1.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.2.3.1" xref="S3.SS2.p4.1.m1.1.1.2.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p4.1.m1.1.1.2.3.3" xref="S3.SS2.p4.1.m1.1.1.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.2.3.1a" xref="S3.SS2.p4.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.2.3.4" xref="S3.SS2.p4.1.m1.1.1.2.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.2.3.1b" xref="S3.SS2.p4.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.2.3.5" xref="S3.SS2.p4.1.m1.1.1.2.3.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.2.3.1c" xref="S3.SS2.p4.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.2.3.6" xref="S3.SS2.p4.1.m1.1.1.2.3.6.cmml">s</mi></mrow></msub><mo id="S3.SS2.p4.1.m1.1.1.1" xref="S3.SS2.p4.1.m1.1.1.1.cmml">=</mo><mrow id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml"><msub id="S3.SS2.p4.1.m1.1.1.3.2" xref="S3.SS2.p4.1.m1.1.1.3.2.cmml"><mi id="S3.SS2.p4.1.m1.1.1.3.2.2" xref="S3.SS2.p4.1.m1.1.1.3.2.2.cmml">W</mi><mrow id="S3.SS2.p4.1.m1.1.1.3.2.3" xref="S3.SS2.p4.1.m1.1.1.3.2.3.cmml"><mi id="S3.SS2.p4.1.m1.1.1.3.2.3.2" xref="S3.SS2.p4.1.m1.1.1.3.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.3.2.3.1" xref="S3.SS2.p4.1.m1.1.1.3.2.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p4.1.m1.1.1.3.2.3.3" xref="S3.SS2.p4.1.m1.1.1.3.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.3.2.3.1a" xref="S3.SS2.p4.1.m1.1.1.3.2.3.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.3.2.3.4" xref="S3.SS2.p4.1.m1.1.1.3.2.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.3.2.3.1b" xref="S3.SS2.p4.1.m1.1.1.3.2.3.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.3.2.3.5" xref="S3.SS2.p4.1.m1.1.1.3.2.3.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.3.2.3.1c" xref="S3.SS2.p4.1.m1.1.1.3.2.3.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.3.2.3.6" xref="S3.SS2.p4.1.m1.1.1.3.2.3.6.cmml">s</mi></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p4.1.m1.1.1.3.1" xref="S3.SS2.p4.1.m1.1.1.3.1.cmml">⋅</mo><msub id="S3.SS2.p4.1.m1.1.1.3.3" xref="S3.SS2.p4.1.m1.1.1.3.3.cmml"><mi id="S3.SS2.p4.1.m1.1.1.3.3.2" xref="S3.SS2.p4.1.m1.1.1.3.3.2.cmml">x</mi><mrow id="S3.SS2.p4.1.m1.1.1.3.3.3" xref="S3.SS2.p4.1.m1.1.1.3.3.3.cmml"><mi id="S3.SS2.p4.1.m1.1.1.3.3.3.2" xref="S3.SS2.p4.1.m1.1.1.3.3.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.3.3.3.1" xref="S3.SS2.p4.1.m1.1.1.3.3.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p4.1.m1.1.1.3.3.3.3" xref="S3.SS2.p4.1.m1.1.1.3.3.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.3.3.3.1a" xref="S3.SS2.p4.1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.3.3.3.4" xref="S3.SS2.p4.1.m1.1.1.3.3.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.3.3.3.1b" xref="S3.SS2.p4.1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.3.3.3.5" xref="S3.SS2.p4.1.m1.1.1.3.3.3.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.1.m1.1.1.3.3.3.1c" xref="S3.SS2.p4.1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S3.SS2.p4.1.m1.1.1.3.3.3.6" xref="S3.SS2.p4.1.m1.1.1.3.3.3.6.cmml">s</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><eq id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1.1"></eq><apply id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.2.1.cmml" xref="S3.SS2.p4.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.2.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2.2">𝐸</ci><apply id="S3.SS2.p4.1.m1.1.1.2.3.cmml" xref="S3.SS2.p4.1.m1.1.1.2.3"><times id="S3.SS2.p4.1.m1.1.1.2.3.1.cmml" xref="S3.SS2.p4.1.m1.1.1.2.3.1"></times><ci id="S3.SS2.p4.1.m1.1.1.2.3.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2.3.2">𝑐</ci><ci id="S3.SS2.p4.1.m1.1.1.2.3.3.cmml" xref="S3.SS2.p4.1.m1.1.1.2.3.3">_</ci><ci id="S3.SS2.p4.1.m1.1.1.2.3.4.cmml" xref="S3.SS2.p4.1.m1.1.1.2.3.4">𝑝</ci><ci id="S3.SS2.p4.1.m1.1.1.2.3.5.cmml" xref="S3.SS2.p4.1.m1.1.1.2.3.5">𝑜</ci><ci id="S3.SS2.p4.1.m1.1.1.2.3.6.cmml" xref="S3.SS2.p4.1.m1.1.1.2.3.6">𝑠</ci></apply></apply><apply id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3"><ci id="S3.SS2.p4.1.m1.1.1.3.1.cmml" xref="S3.SS2.p4.1.m1.1.1.3.1">⋅</ci><apply id="S3.SS2.p4.1.m1.1.1.3.2.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.3.2.1.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.3.2.2.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2.2">𝑊</ci><apply id="S3.SS2.p4.1.m1.1.1.3.2.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2.3"><times id="S3.SS2.p4.1.m1.1.1.3.2.3.1.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2.3.1"></times><ci id="S3.SS2.p4.1.m1.1.1.3.2.3.2.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2.3.2">𝑐</ci><ci id="S3.SS2.p4.1.m1.1.1.3.2.3.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2.3.3">_</ci><ci id="S3.SS2.p4.1.m1.1.1.3.2.3.4.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2.3.4">𝑝</ci><ci id="S3.SS2.p4.1.m1.1.1.3.2.3.5.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2.3.5">𝑜</ci><ci id="S3.SS2.p4.1.m1.1.1.3.2.3.6.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2.3.6">𝑠</ci></apply></apply><apply id="S3.SS2.p4.1.m1.1.1.3.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.3.3.1.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.3.3.2.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.2">𝑥</ci><apply id="S3.SS2.p4.1.m1.1.1.3.3.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.3"><times id="S3.SS2.p4.1.m1.1.1.3.3.3.1.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.3.1"></times><ci id="S3.SS2.p4.1.m1.1.1.3.3.3.2.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.3.2">𝑐</ci><ci id="S3.SS2.p4.1.m1.1.1.3.3.3.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.3.3">_</ci><ci id="S3.SS2.p4.1.m1.1.1.3.3.3.4.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.3.4">𝑝</ci><ci id="S3.SS2.p4.1.m1.1.1.3.3.3.5.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.3.5">𝑜</ci><ci id="S3.SS2.p4.1.m1.1.1.3.3.3.6.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.3.6">𝑠</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">E_{c\_pos}=W_{c\_pos}\cdot x_{c\_pos}</annotation></semantics></math>, where <math id="S3.SS2.p4.2.m2.1" class="ltx_Math" alttext="W_{c\_pos}\in\mathbb{R}^{H\times I}" display="inline"><semantics id="S3.SS2.p4.2.m2.1a"><mrow id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><msub id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2.2" xref="S3.SS2.p4.2.m2.1.1.2.2.cmml">W</mi><mrow id="S3.SS2.p4.2.m2.1.1.2.3" xref="S3.SS2.p4.2.m2.1.1.2.3.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2.3.2" xref="S3.SS2.p4.2.m2.1.1.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.2.m2.1.1.2.3.1" xref="S3.SS2.p4.2.m2.1.1.2.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p4.2.m2.1.1.2.3.3" xref="S3.SS2.p4.2.m2.1.1.2.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.2.m2.1.1.2.3.1a" xref="S3.SS2.p4.2.m2.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p4.2.m2.1.1.2.3.4" xref="S3.SS2.p4.2.m2.1.1.2.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.2.m2.1.1.2.3.1b" xref="S3.SS2.p4.2.m2.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p4.2.m2.1.1.2.3.5" xref="S3.SS2.p4.2.m2.1.1.2.3.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.2.m2.1.1.2.3.1c" xref="S3.SS2.p4.2.m2.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p4.2.m2.1.1.2.3.6" xref="S3.SS2.p4.2.m2.1.1.2.3.6.cmml">s</mi></mrow></msub><mo id="S3.SS2.p4.2.m2.1.1.1" xref="S3.SS2.p4.2.m2.1.1.1.cmml">∈</mo><msup id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml"><mi id="S3.SS2.p4.2.m2.1.1.3.2" xref="S3.SS2.p4.2.m2.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p4.2.m2.1.1.3.3" xref="S3.SS2.p4.2.m2.1.1.3.3.cmml"><mi id="S3.SS2.p4.2.m2.1.1.3.3.2" xref="S3.SS2.p4.2.m2.1.1.3.3.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p4.2.m2.1.1.3.3.1" xref="S3.SS2.p4.2.m2.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p4.2.m2.1.1.3.3.3" xref="S3.SS2.p4.2.m2.1.1.3.3.3.cmml">I</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><in id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1.1"></in><apply id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.2.1.cmml" xref="S3.SS2.p4.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.2.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2.2">𝑊</ci><apply id="S3.SS2.p4.2.m2.1.1.2.3.cmml" xref="S3.SS2.p4.2.m2.1.1.2.3"><times id="S3.SS2.p4.2.m2.1.1.2.3.1.cmml" xref="S3.SS2.p4.2.m2.1.1.2.3.1"></times><ci id="S3.SS2.p4.2.m2.1.1.2.3.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2.3.2">𝑐</ci><ci id="S3.SS2.p4.2.m2.1.1.2.3.3.cmml" xref="S3.SS2.p4.2.m2.1.1.2.3.3">_</ci><ci id="S3.SS2.p4.2.m2.1.1.2.3.4.cmml" xref="S3.SS2.p4.2.m2.1.1.2.3.4">𝑝</ci><ci id="S3.SS2.p4.2.m2.1.1.2.3.5.cmml" xref="S3.SS2.p4.2.m2.1.1.2.3.5">𝑜</ci><ci id="S3.SS2.p4.2.m2.1.1.2.3.6.cmml" xref="S3.SS2.p4.2.m2.1.1.2.3.6">𝑠</ci></apply></apply><apply id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.3.1.cmml" xref="S3.SS2.p4.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.3.2.cmml" xref="S3.SS2.p4.2.m2.1.1.3.2">ℝ</ci><apply id="S3.SS2.p4.2.m2.1.1.3.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3.3"><times id="S3.SS2.p4.2.m2.1.1.3.3.1.cmml" xref="S3.SS2.p4.2.m2.1.1.3.3.1"></times><ci id="S3.SS2.p4.2.m2.1.1.3.3.2.cmml" xref="S3.SS2.p4.2.m2.1.1.3.3.2">𝐻</ci><ci id="S3.SS2.p4.2.m2.1.1.3.3.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3.3.3">𝐼</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">W_{c\_pos}\in\mathbb{R}^{H\times I}</annotation></semantics></math> is the learnable weight, <math id="S3.SS2.p4.3.m3.1" class="ltx_Math" alttext="x_{c\_pos}" display="inline"><semantics id="S3.SS2.p4.3.m3.1a"><msub id="S3.SS2.p4.3.m3.1.1" xref="S3.SS2.p4.3.m3.1.1.cmml"><mi id="S3.SS2.p4.3.m3.1.1.2" xref="S3.SS2.p4.3.m3.1.1.2.cmml">x</mi><mrow id="S3.SS2.p4.3.m3.1.1.3" xref="S3.SS2.p4.3.m3.1.1.3.cmml"><mi id="S3.SS2.p4.3.m3.1.1.3.2" xref="S3.SS2.p4.3.m3.1.1.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.3.m3.1.1.3.1" xref="S3.SS2.p4.3.m3.1.1.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p4.3.m3.1.1.3.3" xref="S3.SS2.p4.3.m3.1.1.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.3.m3.1.1.3.1a" xref="S3.SS2.p4.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p4.3.m3.1.1.3.4" xref="S3.SS2.p4.3.m3.1.1.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.3.m3.1.1.3.1b" xref="S3.SS2.p4.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p4.3.m3.1.1.3.5" xref="S3.SS2.p4.3.m3.1.1.3.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.3.m3.1.1.3.1c" xref="S3.SS2.p4.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p4.3.m3.1.1.3.6" xref="S3.SS2.p4.3.m3.1.1.3.6.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m3.1b"><apply id="S3.SS2.p4.3.m3.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.1.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p4.3.m3.1.1.2.cmml" xref="S3.SS2.p4.3.m3.1.1.2">𝑥</ci><apply id="S3.SS2.p4.3.m3.1.1.3.cmml" xref="S3.SS2.p4.3.m3.1.1.3"><times id="S3.SS2.p4.3.m3.1.1.3.1.cmml" xref="S3.SS2.p4.3.m3.1.1.3.1"></times><ci id="S3.SS2.p4.3.m3.1.1.3.2.cmml" xref="S3.SS2.p4.3.m3.1.1.3.2">𝑐</ci><ci id="S3.SS2.p4.3.m3.1.1.3.3.cmml" xref="S3.SS2.p4.3.m3.1.1.3.3">_</ci><ci id="S3.SS2.p4.3.m3.1.1.3.4.cmml" xref="S3.SS2.p4.3.m3.1.1.3.4">𝑝</ci><ci id="S3.SS2.p4.3.m3.1.1.3.5.cmml" xref="S3.SS2.p4.3.m3.1.1.3.5">𝑜</ci><ci id="S3.SS2.p4.3.m3.1.1.3.6.cmml" xref="S3.SS2.p4.3.m3.1.1.3.6">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m3.1c">x_{c\_pos}</annotation></semantics></math> is the one-hotted position, and <math id="S3.SS2.p4.4.m4.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S3.SS2.p4.4.m4.1a"><mi id="S3.SS2.p4.4.m4.1.1" xref="S3.SS2.p4.4.m4.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m4.1b"><ci id="S3.SS2.p4.4.m4.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m4.1c">I</annotation></semantics></math> is predefined to be the maximum number of tokens in a cell.</p>
</div>
<div id="S3.SS2.p5" class="ltx_para ltx_noindent">
<p id="S3.SS2.p5.10" class="ltx_p"><span id="S3.SS2.p5.10.1" class="ltx_text ltx_font_bold">Token &amp; Number</span>  The token vocabulary is a finite set of size <math id="S3.SS2.p5.1.m1.2" class="ltx_Math" alttext="V=30,522" display="inline"><semantics id="S3.SS2.p5.1.m1.2a"><mrow id="S3.SS2.p5.1.m1.2.3" xref="S3.SS2.p5.1.m1.2.3.cmml"><mi id="S3.SS2.p5.1.m1.2.3.2" xref="S3.SS2.p5.1.m1.2.3.2.cmml">V</mi><mo id="S3.SS2.p5.1.m1.2.3.1" xref="S3.SS2.p5.1.m1.2.3.1.cmml">=</mo><mrow id="S3.SS2.p5.1.m1.2.3.3.2" xref="S3.SS2.p5.1.m1.2.3.3.1.cmml"><mn id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml">30</mn><mo id="S3.SS2.p5.1.m1.2.3.3.2.1" xref="S3.SS2.p5.1.m1.2.3.3.1.cmml">,</mo><mn id="S3.SS2.p5.1.m1.2.2" xref="S3.SS2.p5.1.m1.2.2.cmml">522</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.2b"><apply id="S3.SS2.p5.1.m1.2.3.cmml" xref="S3.SS2.p5.1.m1.2.3"><eq id="S3.SS2.p5.1.m1.2.3.1.cmml" xref="S3.SS2.p5.1.m1.2.3.1"></eq><ci id="S3.SS2.p5.1.m1.2.3.2.cmml" xref="S3.SS2.p5.1.m1.2.3.2">𝑉</ci><list id="S3.SS2.p5.1.m1.2.3.3.1.cmml" xref="S3.SS2.p5.1.m1.2.3.3.2"><cn type="integer" id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1">30</cn><cn type="integer" id="S3.SS2.p5.1.m1.2.2.cmml" xref="S3.SS2.p5.1.m1.2.2">522</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.2c">V=30,522</annotation></semantics></math>, so each token can be simply assigned with a trainable embedding in <math id="S3.SS2.p5.2.m2.1" class="ltx_Math" alttext="W_{tok}\in\mathbb{R}^{H\times V}" display="inline"><semantics id="S3.SS2.p5.2.m2.1a"><mrow id="S3.SS2.p5.2.m2.1.1" xref="S3.SS2.p5.2.m2.1.1.cmml"><msub id="S3.SS2.p5.2.m2.1.1.2" xref="S3.SS2.p5.2.m2.1.1.2.cmml"><mi id="S3.SS2.p5.2.m2.1.1.2.2" xref="S3.SS2.p5.2.m2.1.1.2.2.cmml">W</mi><mrow id="S3.SS2.p5.2.m2.1.1.2.3" xref="S3.SS2.p5.2.m2.1.1.2.3.cmml"><mi id="S3.SS2.p5.2.m2.1.1.2.3.2" xref="S3.SS2.p5.2.m2.1.1.2.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.2.m2.1.1.2.3.1" xref="S3.SS2.p5.2.m2.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p5.2.m2.1.1.2.3.3" xref="S3.SS2.p5.2.m2.1.1.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.2.m2.1.1.2.3.1a" xref="S3.SS2.p5.2.m2.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p5.2.m2.1.1.2.3.4" xref="S3.SS2.p5.2.m2.1.1.2.3.4.cmml">k</mi></mrow></msub><mo id="S3.SS2.p5.2.m2.1.1.1" xref="S3.SS2.p5.2.m2.1.1.1.cmml">∈</mo><msup id="S3.SS2.p5.2.m2.1.1.3" xref="S3.SS2.p5.2.m2.1.1.3.cmml"><mi id="S3.SS2.p5.2.m2.1.1.3.2" xref="S3.SS2.p5.2.m2.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p5.2.m2.1.1.3.3" xref="S3.SS2.p5.2.m2.1.1.3.3.cmml"><mi id="S3.SS2.p5.2.m2.1.1.3.3.2" xref="S3.SS2.p5.2.m2.1.1.3.3.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p5.2.m2.1.1.3.3.1" xref="S3.SS2.p5.2.m2.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p5.2.m2.1.1.3.3.3" xref="S3.SS2.p5.2.m2.1.1.3.3.3.cmml">V</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.1b"><apply id="S3.SS2.p5.2.m2.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1"><in id="S3.SS2.p5.2.m2.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1"></in><apply id="S3.SS2.p5.2.m2.1.1.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.2.1.cmml" xref="S3.SS2.p5.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.2.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2.2">𝑊</ci><apply id="S3.SS2.p5.2.m2.1.1.2.3.cmml" xref="S3.SS2.p5.2.m2.1.1.2.3"><times id="S3.SS2.p5.2.m2.1.1.2.3.1.cmml" xref="S3.SS2.p5.2.m2.1.1.2.3.1"></times><ci id="S3.SS2.p5.2.m2.1.1.2.3.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2.3.2">𝑡</ci><ci id="S3.SS2.p5.2.m2.1.1.2.3.3.cmml" xref="S3.SS2.p5.2.m2.1.1.2.3.3">𝑜</ci><ci id="S3.SS2.p5.2.m2.1.1.2.3.4.cmml" xref="S3.SS2.p5.2.m2.1.1.2.3.4">𝑘</ci></apply></apply><apply id="S3.SS2.p5.2.m2.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.3.1.cmml" xref="S3.SS2.p5.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.3.2.cmml" xref="S3.SS2.p5.2.m2.1.1.3.2">ℝ</ci><apply id="S3.SS2.p5.2.m2.1.1.3.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3"><times id="S3.SS2.p5.2.m2.1.1.3.3.1.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.1"></times><ci id="S3.SS2.p5.2.m2.1.1.3.3.2.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.2">𝐻</ci><ci id="S3.SS2.p5.2.m2.1.1.3.3.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.3">𝑉</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.1c">W_{tok}\in\mathbb{R}^{H\times V}</annotation></semantics></math>.
However, numbers construct an infinite set, so we extract four discrete features and one-hotly encode them: magnitude (<math id="S3.SS2.p5.3.m3.1" class="ltx_Math" alttext="x_{mag}" display="inline"><semantics id="S3.SS2.p5.3.m3.1a"><msub id="S3.SS2.p5.3.m3.1.1" xref="S3.SS2.p5.3.m3.1.1.cmml"><mi id="S3.SS2.p5.3.m3.1.1.2" xref="S3.SS2.p5.3.m3.1.1.2.cmml">x</mi><mrow id="S3.SS2.p5.3.m3.1.1.3" xref="S3.SS2.p5.3.m3.1.1.3.cmml"><mi id="S3.SS2.p5.3.m3.1.1.3.2" xref="S3.SS2.p5.3.m3.1.1.3.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.3.m3.1.1.3.1" xref="S3.SS2.p5.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.3.m3.1.1.3.3" xref="S3.SS2.p5.3.m3.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.3.m3.1.1.3.1a" xref="S3.SS2.p5.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.3.m3.1.1.3.4" xref="S3.SS2.p5.3.m3.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.3.m3.1b"><apply id="S3.SS2.p5.3.m3.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.1.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p5.3.m3.1.1.2.cmml" xref="S3.SS2.p5.3.m3.1.1.2">𝑥</ci><apply id="S3.SS2.p5.3.m3.1.1.3.cmml" xref="S3.SS2.p5.3.m3.1.1.3"><times id="S3.SS2.p5.3.m3.1.1.3.1.cmml" xref="S3.SS2.p5.3.m3.1.1.3.1"></times><ci id="S3.SS2.p5.3.m3.1.1.3.2.cmml" xref="S3.SS2.p5.3.m3.1.1.3.2">𝑚</ci><ci id="S3.SS2.p5.3.m3.1.1.3.3.cmml" xref="S3.SS2.p5.3.m3.1.1.3.3">𝑎</ci><ci id="S3.SS2.p5.3.m3.1.1.3.4.cmml" xref="S3.SS2.p5.3.m3.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.3.m3.1c">x_{mag}</annotation></semantics></math>), precision (<math id="S3.SS2.p5.4.m4.1" class="ltx_Math" alttext="x_{pre}" display="inline"><semantics id="S3.SS2.p5.4.m4.1a"><msub id="S3.SS2.p5.4.m4.1.1" xref="S3.SS2.p5.4.m4.1.1.cmml"><mi id="S3.SS2.p5.4.m4.1.1.2" xref="S3.SS2.p5.4.m4.1.1.2.cmml">x</mi><mrow id="S3.SS2.p5.4.m4.1.1.3" xref="S3.SS2.p5.4.m4.1.1.3.cmml"><mi id="S3.SS2.p5.4.m4.1.1.3.2" xref="S3.SS2.p5.4.m4.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.4.m4.1.1.3.1" xref="S3.SS2.p5.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.4.m4.1.1.3.3" xref="S3.SS2.p5.4.m4.1.1.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.4.m4.1.1.3.1a" xref="S3.SS2.p5.4.m4.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.4.m4.1.1.3.4" xref="S3.SS2.p5.4.m4.1.1.3.4.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.4.m4.1b"><apply id="S3.SS2.p5.4.m4.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m4.1.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p5.4.m4.1.1.2.cmml" xref="S3.SS2.p5.4.m4.1.1.2">𝑥</ci><apply id="S3.SS2.p5.4.m4.1.1.3.cmml" xref="S3.SS2.p5.4.m4.1.1.3"><times id="S3.SS2.p5.4.m4.1.1.3.1.cmml" xref="S3.SS2.p5.4.m4.1.1.3.1"></times><ci id="S3.SS2.p5.4.m4.1.1.3.2.cmml" xref="S3.SS2.p5.4.m4.1.1.3.2">𝑝</ci><ci id="S3.SS2.p5.4.m4.1.1.3.3.cmml" xref="S3.SS2.p5.4.m4.1.1.3.3">𝑟</ci><ci id="S3.SS2.p5.4.m4.1.1.3.4.cmml" xref="S3.SS2.p5.4.m4.1.1.3.4">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.4.m4.1c">x_{pre}</annotation></semantics></math>), first digit (<math id="S3.SS2.p5.5.m5.1" class="ltx_Math" alttext="x_{fst}" display="inline"><semantics id="S3.SS2.p5.5.m5.1a"><msub id="S3.SS2.p5.5.m5.1.1" xref="S3.SS2.p5.5.m5.1.1.cmml"><mi id="S3.SS2.p5.5.m5.1.1.2" xref="S3.SS2.p5.5.m5.1.1.2.cmml">x</mi><mrow id="S3.SS2.p5.5.m5.1.1.3" xref="S3.SS2.p5.5.m5.1.1.3.cmml"><mi id="S3.SS2.p5.5.m5.1.1.3.2" xref="S3.SS2.p5.5.m5.1.1.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.5.m5.1.1.3.1" xref="S3.SS2.p5.5.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.5.m5.1.1.3.3" xref="S3.SS2.p5.5.m5.1.1.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.5.m5.1.1.3.1a" xref="S3.SS2.p5.5.m5.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.5.m5.1.1.3.4" xref="S3.SS2.p5.5.m5.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.5.m5.1b"><apply id="S3.SS2.p5.5.m5.1.1.cmml" xref="S3.SS2.p5.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.5.m5.1.1.1.cmml" xref="S3.SS2.p5.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p5.5.m5.1.1.2.cmml" xref="S3.SS2.p5.5.m5.1.1.2">𝑥</ci><apply id="S3.SS2.p5.5.m5.1.1.3.cmml" xref="S3.SS2.p5.5.m5.1.1.3"><times id="S3.SS2.p5.5.m5.1.1.3.1.cmml" xref="S3.SS2.p5.5.m5.1.1.3.1"></times><ci id="S3.SS2.p5.5.m5.1.1.3.2.cmml" xref="S3.SS2.p5.5.m5.1.1.3.2">𝑓</ci><ci id="S3.SS2.p5.5.m5.1.1.3.3.cmml" xref="S3.SS2.p5.5.m5.1.1.3.3">𝑠</ci><ci id="S3.SS2.p5.5.m5.1.1.3.4.cmml" xref="S3.SS2.p5.5.m5.1.1.3.4">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.5.m5.1c">x_{fst}</annotation></semantics></math>), and last digit (<math id="S3.SS2.p5.6.m6.1" class="ltx_Math" alttext="x_{lst}" display="inline"><semantics id="S3.SS2.p5.6.m6.1a"><msub id="S3.SS2.p5.6.m6.1.1" xref="S3.SS2.p5.6.m6.1.1.cmml"><mi id="S3.SS2.p5.6.m6.1.1.2" xref="S3.SS2.p5.6.m6.1.1.2.cmml">x</mi><mrow id="S3.SS2.p5.6.m6.1.1.3" xref="S3.SS2.p5.6.m6.1.1.3.cmml"><mi id="S3.SS2.p5.6.m6.1.1.3.2" xref="S3.SS2.p5.6.m6.1.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.6.m6.1.1.3.1" xref="S3.SS2.p5.6.m6.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.6.m6.1.1.3.3" xref="S3.SS2.p5.6.m6.1.1.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.6.m6.1.1.3.1a" xref="S3.SS2.p5.6.m6.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.6.m6.1.1.3.4" xref="S3.SS2.p5.6.m6.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.6.m6.1b"><apply id="S3.SS2.p5.6.m6.1.1.cmml" xref="S3.SS2.p5.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.6.m6.1.1.1.cmml" xref="S3.SS2.p5.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p5.6.m6.1.1.2.cmml" xref="S3.SS2.p5.6.m6.1.1.2">𝑥</ci><apply id="S3.SS2.p5.6.m6.1.1.3.cmml" xref="S3.SS2.p5.6.m6.1.1.3"><times id="S3.SS2.p5.6.m6.1.1.3.1.cmml" xref="S3.SS2.p5.6.m6.1.1.3.1"></times><ci id="S3.SS2.p5.6.m6.1.1.3.2.cmml" xref="S3.SS2.p5.6.m6.1.1.3.2">𝑙</ci><ci id="S3.SS2.p5.6.m6.1.1.3.3.cmml" xref="S3.SS2.p5.6.m6.1.1.3.3">𝑠</ci><ci id="S3.SS2.p5.6.m6.1.1.3.4.cmml" xref="S3.SS2.p5.6.m6.1.1.3.4">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.6.m6.1c">x_{lst}</annotation></semantics></math>). They are embeded using weights <math id="S3.SS2.p5.7.m7.1" class="ltx_Math" alttext="W_{mag}" display="inline"><semantics id="S3.SS2.p5.7.m7.1a"><msub id="S3.SS2.p5.7.m7.1.1" xref="S3.SS2.p5.7.m7.1.1.cmml"><mi id="S3.SS2.p5.7.m7.1.1.2" xref="S3.SS2.p5.7.m7.1.1.2.cmml">W</mi><mrow id="S3.SS2.p5.7.m7.1.1.3" xref="S3.SS2.p5.7.m7.1.1.3.cmml"><mi id="S3.SS2.p5.7.m7.1.1.3.2" xref="S3.SS2.p5.7.m7.1.1.3.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.7.m7.1.1.3.1" xref="S3.SS2.p5.7.m7.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.7.m7.1.1.3.3" xref="S3.SS2.p5.7.m7.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.7.m7.1.1.3.1a" xref="S3.SS2.p5.7.m7.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.7.m7.1.1.3.4" xref="S3.SS2.p5.7.m7.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.7.m7.1b"><apply id="S3.SS2.p5.7.m7.1.1.cmml" xref="S3.SS2.p5.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.7.m7.1.1.1.cmml" xref="S3.SS2.p5.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p5.7.m7.1.1.2.cmml" xref="S3.SS2.p5.7.m7.1.1.2">𝑊</ci><apply id="S3.SS2.p5.7.m7.1.1.3.cmml" xref="S3.SS2.p5.7.m7.1.1.3"><times id="S3.SS2.p5.7.m7.1.1.3.1.cmml" xref="S3.SS2.p5.7.m7.1.1.3.1"></times><ci id="S3.SS2.p5.7.m7.1.1.3.2.cmml" xref="S3.SS2.p5.7.m7.1.1.3.2">𝑚</ci><ci id="S3.SS2.p5.7.m7.1.1.3.3.cmml" xref="S3.SS2.p5.7.m7.1.1.3.3">𝑎</ci><ci id="S3.SS2.p5.7.m7.1.1.3.4.cmml" xref="S3.SS2.p5.7.m7.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.7.m7.1c">W_{mag}</annotation></semantics></math>, <math id="S3.SS2.p5.8.m8.1" class="ltx_Math" alttext="W_{pre}" display="inline"><semantics id="S3.SS2.p5.8.m8.1a"><msub id="S3.SS2.p5.8.m8.1.1" xref="S3.SS2.p5.8.m8.1.1.cmml"><mi id="S3.SS2.p5.8.m8.1.1.2" xref="S3.SS2.p5.8.m8.1.1.2.cmml">W</mi><mrow id="S3.SS2.p5.8.m8.1.1.3" xref="S3.SS2.p5.8.m8.1.1.3.cmml"><mi id="S3.SS2.p5.8.m8.1.1.3.2" xref="S3.SS2.p5.8.m8.1.1.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.8.m8.1.1.3.1" xref="S3.SS2.p5.8.m8.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.8.m8.1.1.3.3" xref="S3.SS2.p5.8.m8.1.1.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.8.m8.1.1.3.1a" xref="S3.SS2.p5.8.m8.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.8.m8.1.1.3.4" xref="S3.SS2.p5.8.m8.1.1.3.4.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.8.m8.1b"><apply id="S3.SS2.p5.8.m8.1.1.cmml" xref="S3.SS2.p5.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.8.m8.1.1.1.cmml" xref="S3.SS2.p5.8.m8.1.1">subscript</csymbol><ci id="S3.SS2.p5.8.m8.1.1.2.cmml" xref="S3.SS2.p5.8.m8.1.1.2">𝑊</ci><apply id="S3.SS2.p5.8.m8.1.1.3.cmml" xref="S3.SS2.p5.8.m8.1.1.3"><times id="S3.SS2.p5.8.m8.1.1.3.1.cmml" xref="S3.SS2.p5.8.m8.1.1.3.1"></times><ci id="S3.SS2.p5.8.m8.1.1.3.2.cmml" xref="S3.SS2.p5.8.m8.1.1.3.2">𝑝</ci><ci id="S3.SS2.p5.8.m8.1.1.3.3.cmml" xref="S3.SS2.p5.8.m8.1.1.3.3">𝑟</ci><ci id="S3.SS2.p5.8.m8.1.1.3.4.cmml" xref="S3.SS2.p5.8.m8.1.1.3.4">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.8.m8.1c">W_{pre}</annotation></semantics></math>, <math id="S3.SS2.p5.9.m9.1" class="ltx_Math" alttext="W_{fst}" display="inline"><semantics id="S3.SS2.p5.9.m9.1a"><msub id="S3.SS2.p5.9.m9.1.1" xref="S3.SS2.p5.9.m9.1.1.cmml"><mi id="S3.SS2.p5.9.m9.1.1.2" xref="S3.SS2.p5.9.m9.1.1.2.cmml">W</mi><mrow id="S3.SS2.p5.9.m9.1.1.3" xref="S3.SS2.p5.9.m9.1.1.3.cmml"><mi id="S3.SS2.p5.9.m9.1.1.3.2" xref="S3.SS2.p5.9.m9.1.1.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.9.m9.1.1.3.1" xref="S3.SS2.p5.9.m9.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.9.m9.1.1.3.3" xref="S3.SS2.p5.9.m9.1.1.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.9.m9.1.1.3.1a" xref="S3.SS2.p5.9.m9.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.9.m9.1.1.3.4" xref="S3.SS2.p5.9.m9.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.9.m9.1b"><apply id="S3.SS2.p5.9.m9.1.1.cmml" xref="S3.SS2.p5.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.9.m9.1.1.1.cmml" xref="S3.SS2.p5.9.m9.1.1">subscript</csymbol><ci id="S3.SS2.p5.9.m9.1.1.2.cmml" xref="S3.SS2.p5.9.m9.1.1.2">𝑊</ci><apply id="S3.SS2.p5.9.m9.1.1.3.cmml" xref="S3.SS2.p5.9.m9.1.1.3"><times id="S3.SS2.p5.9.m9.1.1.3.1.cmml" xref="S3.SS2.p5.9.m9.1.1.3.1"></times><ci id="S3.SS2.p5.9.m9.1.1.3.2.cmml" xref="S3.SS2.p5.9.m9.1.1.3.2">𝑓</ci><ci id="S3.SS2.p5.9.m9.1.1.3.3.cmml" xref="S3.SS2.p5.9.m9.1.1.3.3">𝑠</ci><ci id="S3.SS2.p5.9.m9.1.1.3.4.cmml" xref="S3.SS2.p5.9.m9.1.1.3.4">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.9.m9.1c">W_{fst}</annotation></semantics></math> and <math id="S3.SS2.p5.10.m10.1" class="ltx_Math" alttext="W_{lst}" display="inline"><semantics id="S3.SS2.p5.10.m10.1a"><msub id="S3.SS2.p5.10.m10.1.1" xref="S3.SS2.p5.10.m10.1.1.cmml"><mi id="S3.SS2.p5.10.m10.1.1.2" xref="S3.SS2.p5.10.m10.1.1.2.cmml">W</mi><mrow id="S3.SS2.p5.10.m10.1.1.3" xref="S3.SS2.p5.10.m10.1.1.3.cmml"><mi id="S3.SS2.p5.10.m10.1.1.3.2" xref="S3.SS2.p5.10.m10.1.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.10.m10.1.1.3.1" xref="S3.SS2.p5.10.m10.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.10.m10.1.1.3.3" xref="S3.SS2.p5.10.m10.1.1.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.10.m10.1.1.3.1a" xref="S3.SS2.p5.10.m10.1.1.3.1.cmml">​</mo><mi id="S3.SS2.p5.10.m10.1.1.3.4" xref="S3.SS2.p5.10.m10.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.10.m10.1b"><apply id="S3.SS2.p5.10.m10.1.1.cmml" xref="S3.SS2.p5.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.10.m10.1.1.1.cmml" xref="S3.SS2.p5.10.m10.1.1">subscript</csymbol><ci id="S3.SS2.p5.10.m10.1.1.2.cmml" xref="S3.SS2.p5.10.m10.1.1.2">𝑊</ci><apply id="S3.SS2.p5.10.m10.1.1.3.cmml" xref="S3.SS2.p5.10.m10.1.1.3"><times id="S3.SS2.p5.10.m10.1.1.3.1.cmml" xref="S3.SS2.p5.10.m10.1.1.3.1"></times><ci id="S3.SS2.p5.10.m10.1.1.3.2.cmml" xref="S3.SS2.p5.10.m10.1.1.3.2">𝑙</ci><ci id="S3.SS2.p5.10.m10.1.1.3.3.cmml" xref="S3.SS2.p5.10.m10.1.1.3.3">𝑠</ci><ci id="S3.SS2.p5.10.m10.1.1.3.4.cmml" xref="S3.SS2.p5.10.m10.1.1.3.4">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.10.m10.1c">W_{lst}</annotation></semantics></math>, and concatenated at the last dimension:</p>
</div>
<div id="S3.SS2.p6" class="ltx_para ltx_noindent">
<p id="S3.SS2.p6.1" class="ltx_p"><math id="S3.SS2.p6.1.m1.4" class="ltx_Math" alttext="E_{num}=({W_{mag}\cdot x_{mag}})\oplus({W_{pre}\cdot x_{pre}})\oplus({W_{fst}\cdot x_{fst}})\oplus({W_{lst}\cdot x_{lst}})" display="inline"><semantics id="S3.SS2.p6.1.m1.4a"><mrow id="S3.SS2.p6.1.m1.4.4" xref="S3.SS2.p6.1.m1.4.4.cmml"><msub id="S3.SS2.p6.1.m1.4.4.6" xref="S3.SS2.p6.1.m1.4.4.6.cmml"><mi id="S3.SS2.p6.1.m1.4.4.6.2" xref="S3.SS2.p6.1.m1.4.4.6.2.cmml">E</mi><mrow id="S3.SS2.p6.1.m1.4.4.6.3" xref="S3.SS2.p6.1.m1.4.4.6.3.cmml"><mi id="S3.SS2.p6.1.m1.4.4.6.3.2" xref="S3.SS2.p6.1.m1.4.4.6.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.4.4.6.3.1" xref="S3.SS2.p6.1.m1.4.4.6.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.4.4.6.3.3" xref="S3.SS2.p6.1.m1.4.4.6.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.4.4.6.3.1a" xref="S3.SS2.p6.1.m1.4.4.6.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.4.4.6.3.4" xref="S3.SS2.p6.1.m1.4.4.6.3.4.cmml">m</mi></mrow></msub><mo id="S3.SS2.p6.1.m1.4.4.5" xref="S3.SS2.p6.1.m1.4.4.5.cmml">=</mo><mrow id="S3.SS2.p6.1.m1.4.4.4" xref="S3.SS2.p6.1.m1.4.4.4.cmml"><mrow id="S3.SS2.p6.1.m1.1.1.1.1.1" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p6.1.m1.1.1.1.1.1.2" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p6.1.m1.1.1.1.1.1.1" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.cmml"><msub id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.cmml"><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.2" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.2.cmml">W</mi><mrow id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.2" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.1" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.1a" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.4" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.4.cmml">g</mi></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.cmml">⋅</mo><msub id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.2" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.2.cmml">x</mi><mrow id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.2" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.1" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.1a" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.4" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.4.cmml">g</mi></mrow></msub></mrow><mo stretchy="false" id="S3.SS2.p6.1.m1.1.1.1.1.1.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.SS2.p6.1.m1.4.4.4.5" xref="S3.SS2.p6.1.m1.4.4.4.5.cmml">⊕</mo><mrow id="S3.SS2.p6.1.m1.2.2.2.2.1" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.cmml"><mo stretchy="false" id="S3.SS2.p6.1.m1.2.2.2.2.1.2" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.cmml">(</mo><mrow id="S3.SS2.p6.1.m1.2.2.2.2.1.1" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.cmml"><msub id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.cmml"><mi id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.2" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.2.cmml">W</mi><mrow id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.cmml"><mi id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.2" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.1" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.3" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.1a" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.4" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.4.cmml">e</mi></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p6.1.m1.2.2.2.2.1.1.1" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.1.cmml">⋅</mo><msub id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.cmml"><mi id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.2" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.2.cmml">x</mi><mrow id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.cmml"><mi id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.2" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.1" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.3" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.1a" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.4" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.4.cmml">e</mi></mrow></msub></mrow><mo stretchy="false" id="S3.SS2.p6.1.m1.2.2.2.2.1.3" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.cmml">)</mo></mrow><mo id="S3.SS2.p6.1.m1.4.4.4.5a" xref="S3.SS2.p6.1.m1.4.4.4.5.cmml">⊕</mo><mrow id="S3.SS2.p6.1.m1.3.3.3.3.1" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.cmml"><mo stretchy="false" id="S3.SS2.p6.1.m1.3.3.3.3.1.2" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.cmml">(</mo><mrow id="S3.SS2.p6.1.m1.3.3.3.3.1.1" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.cmml"><msub id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.cmml"><mi id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.2" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.2.cmml">W</mi><mrow id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.cmml"><mi id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.2" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.1" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.3" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.1a" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.4" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.4.cmml">t</mi></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p6.1.m1.3.3.3.3.1.1.1" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.1.cmml">⋅</mo><msub id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.cmml"><mi id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.2" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.2.cmml">x</mi><mrow id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.cmml"><mi id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.2" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.1" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.3" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.1a" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.4" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.4.cmml">t</mi></mrow></msub></mrow><mo stretchy="false" id="S3.SS2.p6.1.m1.3.3.3.3.1.3" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.cmml">)</mo></mrow><mo id="S3.SS2.p6.1.m1.4.4.4.5b" xref="S3.SS2.p6.1.m1.4.4.4.5.cmml">⊕</mo><mrow id="S3.SS2.p6.1.m1.4.4.4.4.1" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.cmml"><mo stretchy="false" id="S3.SS2.p6.1.m1.4.4.4.4.1.2" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.cmml">(</mo><mrow id="S3.SS2.p6.1.m1.4.4.4.4.1.1" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.cmml"><msub id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.cmml"><mi id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.2" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.2.cmml">W</mi><mrow id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.cmml"><mi id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.2" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.1" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.3" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.1a" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.4" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.4.cmml">t</mi></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p6.1.m1.4.4.4.4.1.1.1" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.1.cmml">⋅</mo><msub id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.cmml"><mi id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.2" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.2.cmml">x</mi><mrow id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.cmml"><mi id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.2" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.1" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.3" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.1a" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.4" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.4.cmml">t</mi></mrow></msub></mrow><mo stretchy="false" id="S3.SS2.p6.1.m1.4.4.4.4.1.3" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.1.m1.4b"><apply id="S3.SS2.p6.1.m1.4.4.cmml" xref="S3.SS2.p6.1.m1.4.4"><eq id="S3.SS2.p6.1.m1.4.4.5.cmml" xref="S3.SS2.p6.1.m1.4.4.5"></eq><apply id="S3.SS2.p6.1.m1.4.4.6.cmml" xref="S3.SS2.p6.1.m1.4.4.6"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.4.4.6.1.cmml" xref="S3.SS2.p6.1.m1.4.4.6">subscript</csymbol><ci id="S3.SS2.p6.1.m1.4.4.6.2.cmml" xref="S3.SS2.p6.1.m1.4.4.6.2">𝐸</ci><apply id="S3.SS2.p6.1.m1.4.4.6.3.cmml" xref="S3.SS2.p6.1.m1.4.4.6.3"><times id="S3.SS2.p6.1.m1.4.4.6.3.1.cmml" xref="S3.SS2.p6.1.m1.4.4.6.3.1"></times><ci id="S3.SS2.p6.1.m1.4.4.6.3.2.cmml" xref="S3.SS2.p6.1.m1.4.4.6.3.2">𝑛</ci><ci id="S3.SS2.p6.1.m1.4.4.6.3.3.cmml" xref="S3.SS2.p6.1.m1.4.4.6.3.3">𝑢</ci><ci id="S3.SS2.p6.1.m1.4.4.6.3.4.cmml" xref="S3.SS2.p6.1.m1.4.4.6.3.4">𝑚</ci></apply></apply><apply id="S3.SS2.p6.1.m1.4.4.4.cmml" xref="S3.SS2.p6.1.m1.4.4.4"><csymbol cd="latexml" id="S3.SS2.p6.1.m1.4.4.4.5.cmml" xref="S3.SS2.p6.1.m1.4.4.4.5">direct-sum</csymbol><apply id="S3.SS2.p6.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1"><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1">⋅</ci><apply id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.2">𝑊</ci><apply id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3"><times id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.1"></times><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.2">𝑚</ci><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.3">𝑎</ci><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.4.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.3.4">𝑔</ci></apply></apply><apply id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.2">𝑥</ci><apply id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3"><times id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.1"></times><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.2">𝑚</ci><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.3">𝑎</ci><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.4.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.4">𝑔</ci></apply></apply></apply><apply id="S3.SS2.p6.1.m1.2.2.2.2.1.1.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1"><ci id="S3.SS2.p6.1.m1.2.2.2.2.1.1.1.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.1">⋅</ci><apply id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.1.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2">subscript</csymbol><ci id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.2">𝑊</ci><apply id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3"><times id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.1.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.1"></times><ci id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.2">𝑝</ci><ci id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.3.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.3">𝑟</ci><ci id="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.4.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.2.3.4">𝑒</ci></apply></apply><apply id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.1.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3">subscript</csymbol><ci id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.2">𝑥</ci><apply id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3"><times id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.1.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.1"></times><ci id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.2">𝑝</ci><ci id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.3.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.3">𝑟</ci><ci id="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.4.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.1.1.3.3.4">𝑒</ci></apply></apply></apply><apply id="S3.SS2.p6.1.m1.3.3.3.3.1.1.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1"><ci id="S3.SS2.p6.1.m1.3.3.3.3.1.1.1.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.1">⋅</ci><apply id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.1.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2">subscript</csymbol><ci id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.2.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.2">𝑊</ci><apply id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3"><times id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.1.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.1"></times><ci id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.2.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.2">𝑓</ci><ci id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.3.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.3">𝑠</ci><ci id="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.4.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.2.3.4">𝑡</ci></apply></apply><apply id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.1.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3">subscript</csymbol><ci id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.2.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.2">𝑥</ci><apply id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3"><times id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.1.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.1"></times><ci id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.2.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.2">𝑓</ci><ci id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.3.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.3">𝑠</ci><ci id="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.4.cmml" xref="S3.SS2.p6.1.m1.3.3.3.3.1.1.3.3.4">𝑡</ci></apply></apply></apply><apply id="S3.SS2.p6.1.m1.4.4.4.4.1.1.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1"><ci id="S3.SS2.p6.1.m1.4.4.4.4.1.1.1.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.1">⋅</ci><apply id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.1.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2">subscript</csymbol><ci id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.2.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.2">𝑊</ci><apply id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3"><times id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.1.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.1"></times><ci id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.2.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.2">𝑙</ci><ci id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.3.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.3">𝑠</ci><ci id="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.4.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.2.3.4">𝑡</ci></apply></apply><apply id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.1.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3">subscript</csymbol><ci id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.2.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.2">𝑥</ci><apply id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3"><times id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.1.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.1"></times><ci id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.2.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.2">𝑙</ci><ci id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.3.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.3">𝑠</ci><ci id="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.4.cmml" xref="S3.SS2.p6.1.m1.4.4.4.4.1.1.3.3.4">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.1.m1.4c">E_{num}=({W_{mag}\cdot x_{mag}})\oplus({W_{pre}\cdot x_{pre}})\oplus({W_{fst}\cdot x_{fst}})\oplus({W_{lst}\cdot x_{lst}})</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.p7" class="ltx_para ltx_noindent">
<p id="S3.SS2.p7.4" class="ltx_p"><span id="S3.SS2.p7.4.1" class="ltx_text ltx_font_bold">Format</span>  Formats are very helpful for humans to understand tables,
so we use format features to signify if a cell has merge, border, formula, font bold, non-white background color, and non-black font color. See a detailed feature list in Appendix <a href="#A1" title="Appendix A Dataset construction ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>.
We get the joint formatting embedding by linearly transforming these cell-level features:
<math id="S3.SS2.p7.1.m1.1" class="ltx_Math" alttext="E_{fmt}=W_{fmt}\cdot x_{fmt}+b_{fmt}" display="inline"><semantics id="S3.SS2.p7.1.m1.1a"><mrow id="S3.SS2.p7.1.m1.1.1" xref="S3.SS2.p7.1.m1.1.1.cmml"><msub id="S3.SS2.p7.1.m1.1.1.2" xref="S3.SS2.p7.1.m1.1.1.2.cmml"><mi id="S3.SS2.p7.1.m1.1.1.2.2" xref="S3.SS2.p7.1.m1.1.1.2.2.cmml">E</mi><mrow id="S3.SS2.p7.1.m1.1.1.2.3" xref="S3.SS2.p7.1.m1.1.1.2.3.cmml"><mi id="S3.SS2.p7.1.m1.1.1.2.3.2" xref="S3.SS2.p7.1.m1.1.1.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.1.m1.1.1.2.3.1" xref="S3.SS2.p7.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p7.1.m1.1.1.2.3.3" xref="S3.SS2.p7.1.m1.1.1.2.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.1.m1.1.1.2.3.1a" xref="S3.SS2.p7.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p7.1.m1.1.1.2.3.4" xref="S3.SS2.p7.1.m1.1.1.2.3.4.cmml">t</mi></mrow></msub><mo id="S3.SS2.p7.1.m1.1.1.1" xref="S3.SS2.p7.1.m1.1.1.1.cmml">=</mo><mrow id="S3.SS2.p7.1.m1.1.1.3" xref="S3.SS2.p7.1.m1.1.1.3.cmml"><mrow id="S3.SS2.p7.1.m1.1.1.3.2" xref="S3.SS2.p7.1.m1.1.1.3.2.cmml"><msub id="S3.SS2.p7.1.m1.1.1.3.2.2" xref="S3.SS2.p7.1.m1.1.1.3.2.2.cmml"><mi id="S3.SS2.p7.1.m1.1.1.3.2.2.2" xref="S3.SS2.p7.1.m1.1.1.3.2.2.2.cmml">W</mi><mrow id="S3.SS2.p7.1.m1.1.1.3.2.2.3" xref="S3.SS2.p7.1.m1.1.1.3.2.2.3.cmml"><mi id="S3.SS2.p7.1.m1.1.1.3.2.2.3.2" xref="S3.SS2.p7.1.m1.1.1.3.2.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.1.m1.1.1.3.2.2.3.1" xref="S3.SS2.p7.1.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S3.SS2.p7.1.m1.1.1.3.2.2.3.3" xref="S3.SS2.p7.1.m1.1.1.3.2.2.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.1.m1.1.1.3.2.2.3.1a" xref="S3.SS2.p7.1.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S3.SS2.p7.1.m1.1.1.3.2.2.3.4" xref="S3.SS2.p7.1.m1.1.1.3.2.2.3.4.cmml">t</mi></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p7.1.m1.1.1.3.2.1" xref="S3.SS2.p7.1.m1.1.1.3.2.1.cmml">⋅</mo><msub id="S3.SS2.p7.1.m1.1.1.3.2.3" xref="S3.SS2.p7.1.m1.1.1.3.2.3.cmml"><mi id="S3.SS2.p7.1.m1.1.1.3.2.3.2" xref="S3.SS2.p7.1.m1.1.1.3.2.3.2.cmml">x</mi><mrow id="S3.SS2.p7.1.m1.1.1.3.2.3.3" xref="S3.SS2.p7.1.m1.1.1.3.2.3.3.cmml"><mi id="S3.SS2.p7.1.m1.1.1.3.2.3.3.2" xref="S3.SS2.p7.1.m1.1.1.3.2.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.1.m1.1.1.3.2.3.3.1" xref="S3.SS2.p7.1.m1.1.1.3.2.3.3.1.cmml">​</mo><mi id="S3.SS2.p7.1.m1.1.1.3.2.3.3.3" xref="S3.SS2.p7.1.m1.1.1.3.2.3.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.1.m1.1.1.3.2.3.3.1a" xref="S3.SS2.p7.1.m1.1.1.3.2.3.3.1.cmml">​</mo><mi id="S3.SS2.p7.1.m1.1.1.3.2.3.3.4" xref="S3.SS2.p7.1.m1.1.1.3.2.3.3.4.cmml">t</mi></mrow></msub></mrow><mo id="S3.SS2.p7.1.m1.1.1.3.1" xref="S3.SS2.p7.1.m1.1.1.3.1.cmml">+</mo><msub id="S3.SS2.p7.1.m1.1.1.3.3" xref="S3.SS2.p7.1.m1.1.1.3.3.cmml"><mi id="S3.SS2.p7.1.m1.1.1.3.3.2" xref="S3.SS2.p7.1.m1.1.1.3.3.2.cmml">b</mi><mrow id="S3.SS2.p7.1.m1.1.1.3.3.3" xref="S3.SS2.p7.1.m1.1.1.3.3.3.cmml"><mi id="S3.SS2.p7.1.m1.1.1.3.3.3.2" xref="S3.SS2.p7.1.m1.1.1.3.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.1.m1.1.1.3.3.3.1" xref="S3.SS2.p7.1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S3.SS2.p7.1.m1.1.1.3.3.3.3" xref="S3.SS2.p7.1.m1.1.1.3.3.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.1.m1.1.1.3.3.3.1a" xref="S3.SS2.p7.1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S3.SS2.p7.1.m1.1.1.3.3.3.4" xref="S3.SS2.p7.1.m1.1.1.3.3.3.4.cmml">t</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.1.m1.1b"><apply id="S3.SS2.p7.1.m1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1"><eq id="S3.SS2.p7.1.m1.1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1.1"></eq><apply id="S3.SS2.p7.1.m1.1.1.2.cmml" xref="S3.SS2.p7.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p7.1.m1.1.1.2.1.cmml" xref="S3.SS2.p7.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.p7.1.m1.1.1.2.2.cmml" xref="S3.SS2.p7.1.m1.1.1.2.2">𝐸</ci><apply id="S3.SS2.p7.1.m1.1.1.2.3.cmml" xref="S3.SS2.p7.1.m1.1.1.2.3"><times id="S3.SS2.p7.1.m1.1.1.2.3.1.cmml" xref="S3.SS2.p7.1.m1.1.1.2.3.1"></times><ci id="S3.SS2.p7.1.m1.1.1.2.3.2.cmml" xref="S3.SS2.p7.1.m1.1.1.2.3.2">𝑓</ci><ci id="S3.SS2.p7.1.m1.1.1.2.3.3.cmml" xref="S3.SS2.p7.1.m1.1.1.2.3.3">𝑚</ci><ci id="S3.SS2.p7.1.m1.1.1.2.3.4.cmml" xref="S3.SS2.p7.1.m1.1.1.2.3.4">𝑡</ci></apply></apply><apply id="S3.SS2.p7.1.m1.1.1.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3"><plus id="S3.SS2.p7.1.m1.1.1.3.1.cmml" xref="S3.SS2.p7.1.m1.1.1.3.1"></plus><apply id="S3.SS2.p7.1.m1.1.1.3.2.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2"><ci id="S3.SS2.p7.1.m1.1.1.3.2.1.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.1">⋅</ci><apply id="S3.SS2.p7.1.m1.1.1.3.2.2.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.SS2.p7.1.m1.1.1.3.2.2.1.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.2">subscript</csymbol><ci id="S3.SS2.p7.1.m1.1.1.3.2.2.2.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.2.2">𝑊</ci><apply id="S3.SS2.p7.1.m1.1.1.3.2.2.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.2.3"><times id="S3.SS2.p7.1.m1.1.1.3.2.2.3.1.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.2.3.1"></times><ci id="S3.SS2.p7.1.m1.1.1.3.2.2.3.2.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.2.3.2">𝑓</ci><ci id="S3.SS2.p7.1.m1.1.1.3.2.2.3.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.2.3.3">𝑚</ci><ci id="S3.SS2.p7.1.m1.1.1.3.2.2.3.4.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.2.3.4">𝑡</ci></apply></apply><apply id="S3.SS2.p7.1.m1.1.1.3.2.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.SS2.p7.1.m1.1.1.3.2.3.1.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.3">subscript</csymbol><ci id="S3.SS2.p7.1.m1.1.1.3.2.3.2.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.3.2">𝑥</ci><apply id="S3.SS2.p7.1.m1.1.1.3.2.3.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.3.3"><times id="S3.SS2.p7.1.m1.1.1.3.2.3.3.1.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.3.3.1"></times><ci id="S3.SS2.p7.1.m1.1.1.3.2.3.3.2.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.3.3.2">𝑓</ci><ci id="S3.SS2.p7.1.m1.1.1.3.2.3.3.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.3.3.3">𝑚</ci><ci id="S3.SS2.p7.1.m1.1.1.3.2.3.3.4.cmml" xref="S3.SS2.p7.1.m1.1.1.3.2.3.3.4">𝑡</ci></apply></apply></apply><apply id="S3.SS2.p7.1.m1.1.1.3.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p7.1.m1.1.1.3.3.1.cmml" xref="S3.SS2.p7.1.m1.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p7.1.m1.1.1.3.3.2.cmml" xref="S3.SS2.p7.1.m1.1.1.3.3.2">𝑏</ci><apply id="S3.SS2.p7.1.m1.1.1.3.3.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3.3.3"><times id="S3.SS2.p7.1.m1.1.1.3.3.3.1.cmml" xref="S3.SS2.p7.1.m1.1.1.3.3.3.1"></times><ci id="S3.SS2.p7.1.m1.1.1.3.3.3.2.cmml" xref="S3.SS2.p7.1.m1.1.1.3.3.3.2">𝑓</ci><ci id="S3.SS2.p7.1.m1.1.1.3.3.3.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3.3.3.3">𝑚</ci><ci id="S3.SS2.p7.1.m1.1.1.3.3.3.4.cmml" xref="S3.SS2.p7.1.m1.1.1.3.3.3.4">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.1.m1.1c">E_{fmt}=W_{fmt}\cdot x_{fmt}+b_{fmt}</annotation></semantics></math>, where <math id="S3.SS2.p7.2.m2.1" class="ltx_Math" alttext="W_{fmt}\in\mathbb{R}^{H\times F}" display="inline"><semantics id="S3.SS2.p7.2.m2.1a"><mrow id="S3.SS2.p7.2.m2.1.1" xref="S3.SS2.p7.2.m2.1.1.cmml"><msub id="S3.SS2.p7.2.m2.1.1.2" xref="S3.SS2.p7.2.m2.1.1.2.cmml"><mi id="S3.SS2.p7.2.m2.1.1.2.2" xref="S3.SS2.p7.2.m2.1.1.2.2.cmml">W</mi><mrow id="S3.SS2.p7.2.m2.1.1.2.3" xref="S3.SS2.p7.2.m2.1.1.2.3.cmml"><mi id="S3.SS2.p7.2.m2.1.1.2.3.2" xref="S3.SS2.p7.2.m2.1.1.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.2.3.1" xref="S3.SS2.p7.2.m2.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p7.2.m2.1.1.2.3.3" xref="S3.SS2.p7.2.m2.1.1.2.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p7.2.m2.1.1.2.3.1a" xref="S3.SS2.p7.2.m2.1.1.2.3.1.cmml">​</mo><mi id="S3.SS2.p7.2.m2.1.1.2.3.4" xref="S3.SS2.p7.2.m2.1.1.2.3.4.cmml">t</mi></mrow></msub><mo id="S3.SS2.p7.2.m2.1.1.1" xref="S3.SS2.p7.2.m2.1.1.1.cmml">∈</mo><msup id="S3.SS2.p7.2.m2.1.1.3" xref="S3.SS2.p7.2.m2.1.1.3.cmml"><mi id="S3.SS2.p7.2.m2.1.1.3.2" xref="S3.SS2.p7.2.m2.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p7.2.m2.1.1.3.3" xref="S3.SS2.p7.2.m2.1.1.3.3.cmml"><mi id="S3.SS2.p7.2.m2.1.1.3.3.2" xref="S3.SS2.p7.2.m2.1.1.3.3.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p7.2.m2.1.1.3.3.1" xref="S3.SS2.p7.2.m2.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p7.2.m2.1.1.3.3.3" xref="S3.SS2.p7.2.m2.1.1.3.3.3.cmml">F</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.2.m2.1b"><apply id="S3.SS2.p7.2.m2.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1"><in id="S3.SS2.p7.2.m2.1.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1.1"></in><apply id="S3.SS2.p7.2.m2.1.1.2.cmml" xref="S3.SS2.p7.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p7.2.m2.1.1.2.1.cmml" xref="S3.SS2.p7.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS2.p7.2.m2.1.1.2.2.cmml" xref="S3.SS2.p7.2.m2.1.1.2.2">𝑊</ci><apply id="S3.SS2.p7.2.m2.1.1.2.3.cmml" xref="S3.SS2.p7.2.m2.1.1.2.3"><times id="S3.SS2.p7.2.m2.1.1.2.3.1.cmml" xref="S3.SS2.p7.2.m2.1.1.2.3.1"></times><ci id="S3.SS2.p7.2.m2.1.1.2.3.2.cmml" xref="S3.SS2.p7.2.m2.1.1.2.3.2">𝑓</ci><ci id="S3.SS2.p7.2.m2.1.1.2.3.3.cmml" xref="S3.SS2.p7.2.m2.1.1.2.3.3">𝑚</ci><ci id="S3.SS2.p7.2.m2.1.1.2.3.4.cmml" xref="S3.SS2.p7.2.m2.1.1.2.3.4">𝑡</ci></apply></apply><apply id="S3.SS2.p7.2.m2.1.1.3.cmml" xref="S3.SS2.p7.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p7.2.m2.1.1.3.1.cmml" xref="S3.SS2.p7.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS2.p7.2.m2.1.1.3.2.cmml" xref="S3.SS2.p7.2.m2.1.1.3.2">ℝ</ci><apply id="S3.SS2.p7.2.m2.1.1.3.3.cmml" xref="S3.SS2.p7.2.m2.1.1.3.3"><times id="S3.SS2.p7.2.m2.1.1.3.3.1.cmml" xref="S3.SS2.p7.2.m2.1.1.3.3.1"></times><ci id="S3.SS2.p7.2.m2.1.1.3.3.2.cmml" xref="S3.SS2.p7.2.m2.1.1.3.3.2">𝐻</ci><ci id="S3.SS2.p7.2.m2.1.1.3.3.3.cmml" xref="S3.SS2.p7.2.m2.1.1.3.3.3">𝐹</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.2.m2.1c">W_{fmt}\in\mathbb{R}^{H\times F}</annotation></semantics></math>, <math id="S3.SS2.p7.3.m3.1" class="ltx_Math" alttext="b\in\mathbb{R}^{H}" display="inline"><semantics id="S3.SS2.p7.3.m3.1a"><mrow id="S3.SS2.p7.3.m3.1.1" xref="S3.SS2.p7.3.m3.1.1.cmml"><mi id="S3.SS2.p7.3.m3.1.1.2" xref="S3.SS2.p7.3.m3.1.1.2.cmml">b</mi><mo id="S3.SS2.p7.3.m3.1.1.1" xref="S3.SS2.p7.3.m3.1.1.1.cmml">∈</mo><msup id="S3.SS2.p7.3.m3.1.1.3" xref="S3.SS2.p7.3.m3.1.1.3.cmml"><mi id="S3.SS2.p7.3.m3.1.1.3.2" xref="S3.SS2.p7.3.m3.1.1.3.2.cmml">ℝ</mi><mi id="S3.SS2.p7.3.m3.1.1.3.3" xref="S3.SS2.p7.3.m3.1.1.3.3.cmml">H</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.3.m3.1b"><apply id="S3.SS2.p7.3.m3.1.1.cmml" xref="S3.SS2.p7.3.m3.1.1"><in id="S3.SS2.p7.3.m3.1.1.1.cmml" xref="S3.SS2.p7.3.m3.1.1.1"></in><ci id="S3.SS2.p7.3.m3.1.1.2.cmml" xref="S3.SS2.p7.3.m3.1.1.2">𝑏</ci><apply id="S3.SS2.p7.3.m3.1.1.3.cmml" xref="S3.SS2.p7.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p7.3.m3.1.1.3.1.cmml" xref="S3.SS2.p7.3.m3.1.1.3">superscript</csymbol><ci id="S3.SS2.p7.3.m3.1.1.3.2.cmml" xref="S3.SS2.p7.3.m3.1.1.3.2">ℝ</ci><ci id="S3.SS2.p7.3.m3.1.1.3.3.cmml" xref="S3.SS2.p7.3.m3.1.1.3.3">𝐻</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.3.m3.1c">b\in\mathbb{R}^{H}</annotation></semantics></math>, and <math id="S3.SS2.p7.4.m4.1" class="ltx_Math" alttext="F" display="inline"><semantics id="S3.SS2.p7.4.m4.1a"><mi id="S3.SS2.p7.4.m4.1.1" xref="S3.SS2.p7.4.m4.1.1.cmml">F</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.4.m4.1b"><ci id="S3.SS2.p7.4.m4.1.1.cmml" xref="S3.SS2.p7.4.m4.1.1">𝐹</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.4.m4.1c">F</annotation></semantics></math> is the number of formatting features.</p>
</div>
<div id="S3.SS2.p8" class="ltx_para ltx_noindent">
<p id="S3.SS2.p8.1" class="ltx_p">Eventually, the embedding of a token is the sum of all components:
<math id="S3.SS2.p8.1.m1.1" class="ltx_Math" alttext="E=E_{tok}+E_{num}+E_{c\_pos}+E_{t\_pos}+E_{fmt}" display="inline"><semantics id="S3.SS2.p8.1.m1.1a"><mrow id="S3.SS2.p8.1.m1.1.1" xref="S3.SS2.p8.1.m1.1.1.cmml"><mi id="S3.SS2.p8.1.m1.1.1.2" xref="S3.SS2.p8.1.m1.1.1.2.cmml">E</mi><mo id="S3.SS2.p8.1.m1.1.1.1" xref="S3.SS2.p8.1.m1.1.1.1.cmml">=</mo><mrow id="S3.SS2.p8.1.m1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.3.cmml"><msub id="S3.SS2.p8.1.m1.1.1.3.2" xref="S3.SS2.p8.1.m1.1.1.3.2.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.2.2" xref="S3.SS2.p8.1.m1.1.1.3.2.2.cmml">E</mi><mrow id="S3.SS2.p8.1.m1.1.1.3.2.3" xref="S3.SS2.p8.1.m1.1.1.3.2.3.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.2.3.2" xref="S3.SS2.p8.1.m1.1.1.3.2.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.2.3.1" xref="S3.SS2.p8.1.m1.1.1.3.2.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.2.3.3" xref="S3.SS2.p8.1.m1.1.1.3.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.2.3.1a" xref="S3.SS2.p8.1.m1.1.1.3.2.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.2.3.4" xref="S3.SS2.p8.1.m1.1.1.3.2.3.4.cmml">k</mi></mrow></msub><mo id="S3.SS2.p8.1.m1.1.1.3.1" xref="S3.SS2.p8.1.m1.1.1.3.1.cmml">+</mo><msub id="S3.SS2.p8.1.m1.1.1.3.3" xref="S3.SS2.p8.1.m1.1.1.3.3.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.3.2" xref="S3.SS2.p8.1.m1.1.1.3.3.2.cmml">E</mi><mrow id="S3.SS2.p8.1.m1.1.1.3.3.3" xref="S3.SS2.p8.1.m1.1.1.3.3.3.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.3.3.2" xref="S3.SS2.p8.1.m1.1.1.3.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.3.3.1" xref="S3.SS2.p8.1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.3.3.3" xref="S3.SS2.p8.1.m1.1.1.3.3.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.3.3.1a" xref="S3.SS2.p8.1.m1.1.1.3.3.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.3.3.4" xref="S3.SS2.p8.1.m1.1.1.3.3.3.4.cmml">m</mi></mrow></msub><mo id="S3.SS2.p8.1.m1.1.1.3.1a" xref="S3.SS2.p8.1.m1.1.1.3.1.cmml">+</mo><msub id="S3.SS2.p8.1.m1.1.1.3.4" xref="S3.SS2.p8.1.m1.1.1.3.4.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.4.2" xref="S3.SS2.p8.1.m1.1.1.3.4.2.cmml">E</mi><mrow id="S3.SS2.p8.1.m1.1.1.3.4.3" xref="S3.SS2.p8.1.m1.1.1.3.4.3.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.4.3.2" xref="S3.SS2.p8.1.m1.1.1.3.4.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.4.3.1" xref="S3.SS2.p8.1.m1.1.1.3.4.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p8.1.m1.1.1.3.4.3.3" xref="S3.SS2.p8.1.m1.1.1.3.4.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.4.3.1a" xref="S3.SS2.p8.1.m1.1.1.3.4.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.4.3.4" xref="S3.SS2.p8.1.m1.1.1.3.4.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.4.3.1b" xref="S3.SS2.p8.1.m1.1.1.3.4.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.4.3.5" xref="S3.SS2.p8.1.m1.1.1.3.4.3.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.4.3.1c" xref="S3.SS2.p8.1.m1.1.1.3.4.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.4.3.6" xref="S3.SS2.p8.1.m1.1.1.3.4.3.6.cmml">s</mi></mrow></msub><mo id="S3.SS2.p8.1.m1.1.1.3.1b" xref="S3.SS2.p8.1.m1.1.1.3.1.cmml">+</mo><msub id="S3.SS2.p8.1.m1.1.1.3.5" xref="S3.SS2.p8.1.m1.1.1.3.5.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.5.2" xref="S3.SS2.p8.1.m1.1.1.3.5.2.cmml">E</mi><mrow id="S3.SS2.p8.1.m1.1.1.3.5.3" xref="S3.SS2.p8.1.m1.1.1.3.5.3.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.5.3.2" xref="S3.SS2.p8.1.m1.1.1.3.5.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.5.3.1" xref="S3.SS2.p8.1.m1.1.1.3.5.3.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS2.p8.1.m1.1.1.3.5.3.3" xref="S3.SS2.p8.1.m1.1.1.3.5.3.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.5.3.1a" xref="S3.SS2.p8.1.m1.1.1.3.5.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.5.3.4" xref="S3.SS2.p8.1.m1.1.1.3.5.3.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.5.3.1b" xref="S3.SS2.p8.1.m1.1.1.3.5.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.5.3.5" xref="S3.SS2.p8.1.m1.1.1.3.5.3.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.5.3.1c" xref="S3.SS2.p8.1.m1.1.1.3.5.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.5.3.6" xref="S3.SS2.p8.1.m1.1.1.3.5.3.6.cmml">s</mi></mrow></msub><mo id="S3.SS2.p8.1.m1.1.1.3.1c" xref="S3.SS2.p8.1.m1.1.1.3.1.cmml">+</mo><msub id="S3.SS2.p8.1.m1.1.1.3.6" xref="S3.SS2.p8.1.m1.1.1.3.6.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.6.2" xref="S3.SS2.p8.1.m1.1.1.3.6.2.cmml">E</mi><mrow id="S3.SS2.p8.1.m1.1.1.3.6.3" xref="S3.SS2.p8.1.m1.1.1.3.6.3.cmml"><mi id="S3.SS2.p8.1.m1.1.1.3.6.3.2" xref="S3.SS2.p8.1.m1.1.1.3.6.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.6.3.1" xref="S3.SS2.p8.1.m1.1.1.3.6.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.6.3.3" xref="S3.SS2.p8.1.m1.1.1.3.6.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p8.1.m1.1.1.3.6.3.1a" xref="S3.SS2.p8.1.m1.1.1.3.6.3.1.cmml">​</mo><mi id="S3.SS2.p8.1.m1.1.1.3.6.3.4" xref="S3.SS2.p8.1.m1.1.1.3.6.3.4.cmml">t</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.1.m1.1b"><apply id="S3.SS2.p8.1.m1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1"><eq id="S3.SS2.p8.1.m1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1"></eq><ci id="S3.SS2.p8.1.m1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1.2">𝐸</ci><apply id="S3.SS2.p8.1.m1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3"><plus id="S3.SS2.p8.1.m1.1.1.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.1"></plus><apply id="S3.SS2.p8.1.m1.1.1.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.3.2.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.2">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.3.2.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.2.2">𝐸</ci><apply id="S3.SS2.p8.1.m1.1.1.3.2.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.2.3"><times id="S3.SS2.p8.1.m1.1.1.3.2.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.2.3.1"></times><ci id="S3.SS2.p8.1.m1.1.1.3.2.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.2.3.2">𝑡</ci><ci id="S3.SS2.p8.1.m1.1.1.3.2.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.2.3.3">𝑜</ci><ci id="S3.SS2.p8.1.m1.1.1.3.2.3.4.cmml" xref="S3.SS2.p8.1.m1.1.1.3.2.3.4">𝑘</ci></apply></apply><apply id="S3.SS2.p8.1.m1.1.1.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.3.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.3.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.3.2">𝐸</ci><apply id="S3.SS2.p8.1.m1.1.1.3.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.3.3"><times id="S3.SS2.p8.1.m1.1.1.3.3.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.3.3.1"></times><ci id="S3.SS2.p8.1.m1.1.1.3.3.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.3.3.2">𝑛</ci><ci id="S3.SS2.p8.1.m1.1.1.3.3.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.3.3.3">𝑢</ci><ci id="S3.SS2.p8.1.m1.1.1.3.3.3.4.cmml" xref="S3.SS2.p8.1.m1.1.1.3.3.3.4">𝑚</ci></apply></apply><apply id="S3.SS2.p8.1.m1.1.1.3.4.cmml" xref="S3.SS2.p8.1.m1.1.1.3.4"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.3.4.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.4">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.3.4.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.4.2">𝐸</ci><apply id="S3.SS2.p8.1.m1.1.1.3.4.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.4.3"><times id="S3.SS2.p8.1.m1.1.1.3.4.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.4.3.1"></times><ci id="S3.SS2.p8.1.m1.1.1.3.4.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.4.3.2">𝑐</ci><ci id="S3.SS2.p8.1.m1.1.1.3.4.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.4.3.3">_</ci><ci id="S3.SS2.p8.1.m1.1.1.3.4.3.4.cmml" xref="S3.SS2.p8.1.m1.1.1.3.4.3.4">𝑝</ci><ci id="S3.SS2.p8.1.m1.1.1.3.4.3.5.cmml" xref="S3.SS2.p8.1.m1.1.1.3.4.3.5">𝑜</ci><ci id="S3.SS2.p8.1.m1.1.1.3.4.3.6.cmml" xref="S3.SS2.p8.1.m1.1.1.3.4.3.6">𝑠</ci></apply></apply><apply id="S3.SS2.p8.1.m1.1.1.3.5.cmml" xref="S3.SS2.p8.1.m1.1.1.3.5"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.3.5.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.5">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.3.5.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.5.2">𝐸</ci><apply id="S3.SS2.p8.1.m1.1.1.3.5.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.5.3"><times id="S3.SS2.p8.1.m1.1.1.3.5.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.5.3.1"></times><ci id="S3.SS2.p8.1.m1.1.1.3.5.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.5.3.2">𝑡</ci><ci id="S3.SS2.p8.1.m1.1.1.3.5.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.5.3.3">_</ci><ci id="S3.SS2.p8.1.m1.1.1.3.5.3.4.cmml" xref="S3.SS2.p8.1.m1.1.1.3.5.3.4">𝑝</ci><ci id="S3.SS2.p8.1.m1.1.1.3.5.3.5.cmml" xref="S3.SS2.p8.1.m1.1.1.3.5.3.5">𝑜</ci><ci id="S3.SS2.p8.1.m1.1.1.3.5.3.6.cmml" xref="S3.SS2.p8.1.m1.1.1.3.5.3.6">𝑠</ci></apply></apply><apply id="S3.SS2.p8.1.m1.1.1.3.6.cmml" xref="S3.SS2.p8.1.m1.1.1.3.6"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.3.6.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.6">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.3.6.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.6.2">𝐸</ci><apply id="S3.SS2.p8.1.m1.1.1.3.6.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.6.3"><times id="S3.SS2.p8.1.m1.1.1.3.6.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.3.6.3.1"></times><ci id="S3.SS2.p8.1.m1.1.1.3.6.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.3.6.3.2">𝑓</ci><ci id="S3.SS2.p8.1.m1.1.1.3.6.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3.6.3.3">𝑚</ci><ci id="S3.SS2.p8.1.m1.1.1.3.6.3.4.cmml" xref="S3.SS2.p8.1.m1.1.1.3.6.3.4">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.1.m1.1c">E=E_{tok}+E_{num}+E_{c\_pos}+E_{t\_pos}+E_{fmt}</annotation></semantics></math></p>
</div>
<div id="S3.SS2.p9" class="ltx_para ltx_noindent">
<p id="S3.SS2.p9.1" class="ltx_p">More detailed specifications of embedding layers can be found in Appendix <a href="#A3.SS2" title="C.2. Model Configuration ‣ Appendix C Experiment details ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.2</span></a>.</p>
</div>
<figure id="S3.F4" class="ltx_figure"><img src="/html/2010.12537/assets/x4.png" id="S3.F4.1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="257" height="312" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 4. </span> Overview of TUTA architecture. It contains
(1) embedding layers that convert tables to input embeddings,
(2) N-layer transformers to capture semantics and structures,
and (3) final projection layers for pre-training objectives. </figcaption>
</figure>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Tree attention</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">Based on the bi-tree coordinate and distance (Section <a href="#S2.SS2" title="2.2. Bi-dimensional coordinate tree ‣ 2. Preliminaries ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.2</span></a>), we now introduce the tree-based attention. Self-attention is considered to be more parallelizable and efficient than structure-specific models like tree-LSTM and RNN <cite class="ltx_cite ltx_citemacro_citep">(Shiv and Quirk, <a href="#bib.bib36" title="" class="ltx_ref">2019</a>; Nguyen <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib29" title="" class="ltx_ref">2020</a>)</cite>, but is challenged by lots of ‘distraction’ in large bi-dimensional tables. Because in its general formulation, self-attention allows every token to attend to every other token, without any hints on structure (e.g., if two tokens appear in the same cell, appear in the same row/column, or have a hierarchical relationship). Since spatial and hierarchical information is highly important for local cells to aggregate their structurally related contexts and ignore noisy contexts, we aim to devise a structure-aware attention mechanism.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.16" class="ltx_p">Motivated by the general idea of graph attention networks <cite class="ltx_cite ltx_citemacro_citep">(Veličković <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib38" title="" class="ltx_ref">2017</a>)</cite>, we inject the tree structure into the attention mechanism by performing masked attention — using a symmetric binary matrix <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><mi id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">M</annotation></semantics></math> to indicate visibility between tokens.
Given the <math id="S3.SS3.p2.2.m2.1" class="ltx_Math" alttext="i^{th}" display="inline"><semantics id="S3.SS3.p2.2.m2.1a"><msup id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">i</mi><mrow id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml"><mi id="S3.SS3.p2.2.m2.1.1.3.2" xref="S3.SS3.p2.2.m2.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.2.m2.1.1.3.1" xref="S3.SS3.p2.2.m2.1.1.3.1.cmml">​</mo><mi id="S3.SS3.p2.2.m2.1.1.3.3" xref="S3.SS3.p2.2.m2.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">superscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">𝑖</ci><apply id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3"><times id="S3.SS3.p2.2.m2.1.1.3.1.cmml" xref="S3.SS3.p2.2.m2.1.1.3.1"></times><ci id="S3.SS3.p2.2.m2.1.1.3.2.cmml" xref="S3.SS3.p2.2.m2.1.1.3.2">𝑡</ci><ci id="S3.SS3.p2.2.m2.1.1.3.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">i^{th}</annotation></semantics></math> token <math id="S3.SS3.p2.3.m3.1" class="ltx_Math" alttext="tok_{i}" display="inline"><semantics id="S3.SS3.p2.3.m3.1a"><mrow id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml"><mi id="S3.SS3.p2.3.m3.1.1.2" xref="S3.SS3.p2.3.m3.1.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.3.m3.1.1.1" xref="S3.SS3.p2.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS3.p2.3.m3.1.1.3" xref="S3.SS3.p2.3.m3.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.3.m3.1.1.1a" xref="S3.SS3.p2.3.m3.1.1.1.cmml">​</mo><msub id="S3.SS3.p2.3.m3.1.1.4" xref="S3.SS3.p2.3.m3.1.1.4.cmml"><mi id="S3.SS3.p2.3.m3.1.1.4.2" xref="S3.SS3.p2.3.m3.1.1.4.2.cmml">k</mi><mi id="S3.SS3.p2.3.m3.1.1.4.3" xref="S3.SS3.p2.3.m3.1.1.4.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><apply id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1"><times id="S3.SS3.p2.3.m3.1.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1.1"></times><ci id="S3.SS3.p2.3.m3.1.1.2.cmml" xref="S3.SS3.p2.3.m3.1.1.2">𝑡</ci><ci id="S3.SS3.p2.3.m3.1.1.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3">𝑜</ci><apply id="S3.SS3.p2.3.m3.1.1.4.cmml" xref="S3.SS3.p2.3.m3.1.1.4"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.1.1.4.1.cmml" xref="S3.SS3.p2.3.m3.1.1.4">subscript</csymbol><ci id="S3.SS3.p2.3.m3.1.1.4.2.cmml" xref="S3.SS3.p2.3.m3.1.1.4.2">𝑘</ci><ci id="S3.SS3.p2.3.m3.1.1.4.3.cmml" xref="S3.SS3.p2.3.m3.1.1.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">tok_{i}</annotation></semantics></math> in table sequence and its structural neighborhood <math id="S3.SS3.p2.4.m4.1" class="ltx_Math" alttext="SN_{i}" display="inline"><semantics id="S3.SS3.p2.4.m4.1a"><mrow id="S3.SS3.p2.4.m4.1.1" xref="S3.SS3.p2.4.m4.1.1.cmml"><mi id="S3.SS3.p2.4.m4.1.1.2" xref="S3.SS3.p2.4.m4.1.1.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.4.m4.1.1.1" xref="S3.SS3.p2.4.m4.1.1.1.cmml">​</mo><msub id="S3.SS3.p2.4.m4.1.1.3" xref="S3.SS3.p2.4.m4.1.1.3.cmml"><mi id="S3.SS3.p2.4.m4.1.1.3.2" xref="S3.SS3.p2.4.m4.1.1.3.2.cmml">N</mi><mi id="S3.SS3.p2.4.m4.1.1.3.3" xref="S3.SS3.p2.4.m4.1.1.3.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m4.1b"><apply id="S3.SS3.p2.4.m4.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1"><times id="S3.SS3.p2.4.m4.1.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1.1"></times><ci id="S3.SS3.p2.4.m4.1.1.2.cmml" xref="S3.SS3.p2.4.m4.1.1.2">𝑆</ci><apply id="S3.SS3.p2.4.m4.1.1.3.cmml" xref="S3.SS3.p2.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.1.1.3.1.cmml" xref="S3.SS3.p2.4.m4.1.1.3">subscript</csymbol><ci id="S3.SS3.p2.4.m4.1.1.3.2.cmml" xref="S3.SS3.p2.4.m4.1.1.3.2">𝑁</ci><ci id="S3.SS3.p2.4.m4.1.1.3.3.cmml" xref="S3.SS3.p2.4.m4.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m4.1c">SN_{i}</annotation></semantics></math>, we set <math id="S3.SS3.p2.5.m5.2" class="ltx_Math" alttext="M_{i,j}=1" display="inline"><semantics id="S3.SS3.p2.5.m5.2a"><mrow id="S3.SS3.p2.5.m5.2.3" xref="S3.SS3.p2.5.m5.2.3.cmml"><msub id="S3.SS3.p2.5.m5.2.3.2" xref="S3.SS3.p2.5.m5.2.3.2.cmml"><mi id="S3.SS3.p2.5.m5.2.3.2.2" xref="S3.SS3.p2.5.m5.2.3.2.2.cmml">M</mi><mrow id="S3.SS3.p2.5.m5.2.2.2.4" xref="S3.SS3.p2.5.m5.2.2.2.3.cmml"><mi id="S3.SS3.p2.5.m5.1.1.1.1" xref="S3.SS3.p2.5.m5.1.1.1.1.cmml">i</mi><mo id="S3.SS3.p2.5.m5.2.2.2.4.1" xref="S3.SS3.p2.5.m5.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p2.5.m5.2.2.2.2" xref="S3.SS3.p2.5.m5.2.2.2.2.cmml">j</mi></mrow></msub><mo id="S3.SS3.p2.5.m5.2.3.1" xref="S3.SS3.p2.5.m5.2.3.1.cmml">=</mo><mn id="S3.SS3.p2.5.m5.2.3.3" xref="S3.SS3.p2.5.m5.2.3.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m5.2b"><apply id="S3.SS3.p2.5.m5.2.3.cmml" xref="S3.SS3.p2.5.m5.2.3"><eq id="S3.SS3.p2.5.m5.2.3.1.cmml" xref="S3.SS3.p2.5.m5.2.3.1"></eq><apply id="S3.SS3.p2.5.m5.2.3.2.cmml" xref="S3.SS3.p2.5.m5.2.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.5.m5.2.3.2.1.cmml" xref="S3.SS3.p2.5.m5.2.3.2">subscript</csymbol><ci id="S3.SS3.p2.5.m5.2.3.2.2.cmml" xref="S3.SS3.p2.5.m5.2.3.2.2">𝑀</ci><list id="S3.SS3.p2.5.m5.2.2.2.3.cmml" xref="S3.SS3.p2.5.m5.2.2.2.4"><ci id="S3.SS3.p2.5.m5.1.1.1.1.cmml" xref="S3.SS3.p2.5.m5.1.1.1.1">𝑖</ci><ci id="S3.SS3.p2.5.m5.2.2.2.2.cmml" xref="S3.SS3.p2.5.m5.2.2.2.2">𝑗</ci></list></apply><cn type="integer" id="S3.SS3.p2.5.m5.2.3.3.cmml" xref="S3.SS3.p2.5.m5.2.3.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m5.2c">M_{i,j}=1</annotation></semantics></math> if <math id="S3.SS3.p2.6.m6.1" class="ltx_Math" alttext="tok_{j}\in SN_{i}" display="inline"><semantics id="S3.SS3.p2.6.m6.1a"><mrow id="S3.SS3.p2.6.m6.1.1" xref="S3.SS3.p2.6.m6.1.1.cmml"><mrow id="S3.SS3.p2.6.m6.1.1.2" xref="S3.SS3.p2.6.m6.1.1.2.cmml"><mi id="S3.SS3.p2.6.m6.1.1.2.2" xref="S3.SS3.p2.6.m6.1.1.2.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.6.m6.1.1.2.1" xref="S3.SS3.p2.6.m6.1.1.2.1.cmml">​</mo><mi id="S3.SS3.p2.6.m6.1.1.2.3" xref="S3.SS3.p2.6.m6.1.1.2.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.6.m6.1.1.2.1a" xref="S3.SS3.p2.6.m6.1.1.2.1.cmml">​</mo><msub id="S3.SS3.p2.6.m6.1.1.2.4" xref="S3.SS3.p2.6.m6.1.1.2.4.cmml"><mi id="S3.SS3.p2.6.m6.1.1.2.4.2" xref="S3.SS3.p2.6.m6.1.1.2.4.2.cmml">k</mi><mi id="S3.SS3.p2.6.m6.1.1.2.4.3" xref="S3.SS3.p2.6.m6.1.1.2.4.3.cmml">j</mi></msub></mrow><mo id="S3.SS3.p2.6.m6.1.1.1" xref="S3.SS3.p2.6.m6.1.1.1.cmml">∈</mo><mrow id="S3.SS3.p2.6.m6.1.1.3" xref="S3.SS3.p2.6.m6.1.1.3.cmml"><mi id="S3.SS3.p2.6.m6.1.1.3.2" xref="S3.SS3.p2.6.m6.1.1.3.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.6.m6.1.1.3.1" xref="S3.SS3.p2.6.m6.1.1.3.1.cmml">​</mo><msub id="S3.SS3.p2.6.m6.1.1.3.3" xref="S3.SS3.p2.6.m6.1.1.3.3.cmml"><mi id="S3.SS3.p2.6.m6.1.1.3.3.2" xref="S3.SS3.p2.6.m6.1.1.3.3.2.cmml">N</mi><mi id="S3.SS3.p2.6.m6.1.1.3.3.3" xref="S3.SS3.p2.6.m6.1.1.3.3.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.6.m6.1b"><apply id="S3.SS3.p2.6.m6.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1"><in id="S3.SS3.p2.6.m6.1.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1.1"></in><apply id="S3.SS3.p2.6.m6.1.1.2.cmml" xref="S3.SS3.p2.6.m6.1.1.2"><times id="S3.SS3.p2.6.m6.1.1.2.1.cmml" xref="S3.SS3.p2.6.m6.1.1.2.1"></times><ci id="S3.SS3.p2.6.m6.1.1.2.2.cmml" xref="S3.SS3.p2.6.m6.1.1.2.2">𝑡</ci><ci id="S3.SS3.p2.6.m6.1.1.2.3.cmml" xref="S3.SS3.p2.6.m6.1.1.2.3">𝑜</ci><apply id="S3.SS3.p2.6.m6.1.1.2.4.cmml" xref="S3.SS3.p2.6.m6.1.1.2.4"><csymbol cd="ambiguous" id="S3.SS3.p2.6.m6.1.1.2.4.1.cmml" xref="S3.SS3.p2.6.m6.1.1.2.4">subscript</csymbol><ci id="S3.SS3.p2.6.m6.1.1.2.4.2.cmml" xref="S3.SS3.p2.6.m6.1.1.2.4.2">𝑘</ci><ci id="S3.SS3.p2.6.m6.1.1.2.4.3.cmml" xref="S3.SS3.p2.6.m6.1.1.2.4.3">𝑗</ci></apply></apply><apply id="S3.SS3.p2.6.m6.1.1.3.cmml" xref="S3.SS3.p2.6.m6.1.1.3"><times id="S3.SS3.p2.6.m6.1.1.3.1.cmml" xref="S3.SS3.p2.6.m6.1.1.3.1"></times><ci id="S3.SS3.p2.6.m6.1.1.3.2.cmml" xref="S3.SS3.p2.6.m6.1.1.3.2">𝑆</ci><apply id="S3.SS3.p2.6.m6.1.1.3.3.cmml" xref="S3.SS3.p2.6.m6.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS3.p2.6.m6.1.1.3.3.1.cmml" xref="S3.SS3.p2.6.m6.1.1.3.3">subscript</csymbol><ci id="S3.SS3.p2.6.m6.1.1.3.3.2.cmml" xref="S3.SS3.p2.6.m6.1.1.3.3.2">𝑁</ci><ci id="S3.SS3.p2.6.m6.1.1.3.3.3.cmml" xref="S3.SS3.p2.6.m6.1.1.3.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.6.m6.1c">tok_{j}\in SN_{i}</annotation></semantics></math>, otherwise <math id="S3.SS3.p2.7.m7.2" class="ltx_Math" alttext="M_{i,j}=0" display="inline"><semantics id="S3.SS3.p2.7.m7.2a"><mrow id="S3.SS3.p2.7.m7.2.3" xref="S3.SS3.p2.7.m7.2.3.cmml"><msub id="S3.SS3.p2.7.m7.2.3.2" xref="S3.SS3.p2.7.m7.2.3.2.cmml"><mi id="S3.SS3.p2.7.m7.2.3.2.2" xref="S3.SS3.p2.7.m7.2.3.2.2.cmml">M</mi><mrow id="S3.SS3.p2.7.m7.2.2.2.4" xref="S3.SS3.p2.7.m7.2.2.2.3.cmml"><mi id="S3.SS3.p2.7.m7.1.1.1.1" xref="S3.SS3.p2.7.m7.1.1.1.1.cmml">i</mi><mo id="S3.SS3.p2.7.m7.2.2.2.4.1" xref="S3.SS3.p2.7.m7.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p2.7.m7.2.2.2.2" xref="S3.SS3.p2.7.m7.2.2.2.2.cmml">j</mi></mrow></msub><mo id="S3.SS3.p2.7.m7.2.3.1" xref="S3.SS3.p2.7.m7.2.3.1.cmml">=</mo><mn id="S3.SS3.p2.7.m7.2.3.3" xref="S3.SS3.p2.7.m7.2.3.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.7.m7.2b"><apply id="S3.SS3.p2.7.m7.2.3.cmml" xref="S3.SS3.p2.7.m7.2.3"><eq id="S3.SS3.p2.7.m7.2.3.1.cmml" xref="S3.SS3.p2.7.m7.2.3.1"></eq><apply id="S3.SS3.p2.7.m7.2.3.2.cmml" xref="S3.SS3.p2.7.m7.2.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.7.m7.2.3.2.1.cmml" xref="S3.SS3.p2.7.m7.2.3.2">subscript</csymbol><ci id="S3.SS3.p2.7.m7.2.3.2.2.cmml" xref="S3.SS3.p2.7.m7.2.3.2.2">𝑀</ci><list id="S3.SS3.p2.7.m7.2.2.2.3.cmml" xref="S3.SS3.p2.7.m7.2.2.2.4"><ci id="S3.SS3.p2.7.m7.1.1.1.1.cmml" xref="S3.SS3.p2.7.m7.1.1.1.1">𝑖</ci><ci id="S3.SS3.p2.7.m7.2.2.2.2.cmml" xref="S3.SS3.p2.7.m7.2.2.2.2">𝑗</ci></list></apply><cn type="integer" id="S3.SS3.p2.7.m7.2.3.3.cmml" xref="S3.SS3.p2.7.m7.2.3.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.7.m7.2c">M_{i,j}=0</annotation></semantics></math>.
Based on the tree distance in Section <a href="#S2.SS2" title="2.2. Bi-dimensional coordinate tree ‣ 2. Preliminaries ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.2</span></a>, neighbor cells are those within a predefined distance threshold <math id="S3.SS3.p2.8.m8.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S3.SS3.p2.8.m8.1a"><mi id="S3.SS3.p2.8.m8.1.1" xref="S3.SS3.p2.8.m8.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.8.m8.1b"><ci id="S3.SS3.p2.8.m8.1.1.cmml" xref="S3.SS3.p2.8.m8.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.8.m8.1c">D</annotation></semantics></math>, and neighbor tokens are those of the same or neighboring cells.
Smaller <math id="S3.SS3.p2.9.m9.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S3.SS3.p2.9.m9.1a"><mi id="S3.SS3.p2.9.m9.1.1" xref="S3.SS3.p2.9.m9.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.9.m9.1b"><ci id="S3.SS3.p2.9.m9.1.1.cmml" xref="S3.SS3.p2.9.m9.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.9.m9.1c">D</annotation></semantics></math> can enforce local cells to be more “focus”, but when <math id="S3.SS3.p2.10.m10.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S3.SS3.p2.10.m10.1a"><mi id="S3.SS3.p2.10.m10.1.1" xref="S3.SS3.p2.10.m10.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.10.m10.1b"><ci id="S3.SS3.p2.10.m10.1.1.cmml" xref="S3.SS3.p2.10.m10.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.10.m10.1c">D</annotation></semantics></math> is large enough, tree attention works the same with global attention. Succeeding the general attention form of <cite class="ltx_cite ltx_citemacro_citep">(Vaswani <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib37" title="" class="ltx_ref">2017</a>)</cite> using <math id="S3.SS3.p2.11.m11.3" class="ltx_Math" alttext="Q,K,V\in\mathbb{R}^{H\times H}" display="inline"><semantics id="S3.SS3.p2.11.m11.3a"><mrow id="S3.SS3.p2.11.m11.3.4" xref="S3.SS3.p2.11.m11.3.4.cmml"><mrow id="S3.SS3.p2.11.m11.3.4.2.2" xref="S3.SS3.p2.11.m11.3.4.2.1.cmml"><mi id="S3.SS3.p2.11.m11.1.1" xref="S3.SS3.p2.11.m11.1.1.cmml">Q</mi><mo id="S3.SS3.p2.11.m11.3.4.2.2.1" xref="S3.SS3.p2.11.m11.3.4.2.1.cmml">,</mo><mi id="S3.SS3.p2.11.m11.2.2" xref="S3.SS3.p2.11.m11.2.2.cmml">K</mi><mo id="S3.SS3.p2.11.m11.3.4.2.2.2" xref="S3.SS3.p2.11.m11.3.4.2.1.cmml">,</mo><mi id="S3.SS3.p2.11.m11.3.3" xref="S3.SS3.p2.11.m11.3.3.cmml">V</mi></mrow><mo id="S3.SS3.p2.11.m11.3.4.1" xref="S3.SS3.p2.11.m11.3.4.1.cmml">∈</mo><msup id="S3.SS3.p2.11.m11.3.4.3" xref="S3.SS3.p2.11.m11.3.4.3.cmml"><mi id="S3.SS3.p2.11.m11.3.4.3.2" xref="S3.SS3.p2.11.m11.3.4.3.2.cmml">ℝ</mi><mrow id="S3.SS3.p2.11.m11.3.4.3.3" xref="S3.SS3.p2.11.m11.3.4.3.3.cmml"><mi id="S3.SS3.p2.11.m11.3.4.3.3.2" xref="S3.SS3.p2.11.m11.3.4.3.3.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p2.11.m11.3.4.3.3.1" xref="S3.SS3.p2.11.m11.3.4.3.3.1.cmml">×</mo><mi id="S3.SS3.p2.11.m11.3.4.3.3.3" xref="S3.SS3.p2.11.m11.3.4.3.3.3.cmml">H</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.11.m11.3b"><apply id="S3.SS3.p2.11.m11.3.4.cmml" xref="S3.SS3.p2.11.m11.3.4"><in id="S3.SS3.p2.11.m11.3.4.1.cmml" xref="S3.SS3.p2.11.m11.3.4.1"></in><list id="S3.SS3.p2.11.m11.3.4.2.1.cmml" xref="S3.SS3.p2.11.m11.3.4.2.2"><ci id="S3.SS3.p2.11.m11.1.1.cmml" xref="S3.SS3.p2.11.m11.1.1">𝑄</ci><ci id="S3.SS3.p2.11.m11.2.2.cmml" xref="S3.SS3.p2.11.m11.2.2">𝐾</ci><ci id="S3.SS3.p2.11.m11.3.3.cmml" xref="S3.SS3.p2.11.m11.3.3">𝑉</ci></list><apply id="S3.SS3.p2.11.m11.3.4.3.cmml" xref="S3.SS3.p2.11.m11.3.4.3"><csymbol cd="ambiguous" id="S3.SS3.p2.11.m11.3.4.3.1.cmml" xref="S3.SS3.p2.11.m11.3.4.3">superscript</csymbol><ci id="S3.SS3.p2.11.m11.3.4.3.2.cmml" xref="S3.SS3.p2.11.m11.3.4.3.2">ℝ</ci><apply id="S3.SS3.p2.11.m11.3.4.3.3.cmml" xref="S3.SS3.p2.11.m11.3.4.3.3"><times id="S3.SS3.p2.11.m11.3.4.3.3.1.cmml" xref="S3.SS3.p2.11.m11.3.4.3.3.1"></times><ci id="S3.SS3.p2.11.m11.3.4.3.3.2.cmml" xref="S3.SS3.p2.11.m11.3.4.3.3.2">𝐻</ci><ci id="S3.SS3.p2.11.m11.3.4.3.3.3.cmml" xref="S3.SS3.p2.11.m11.3.4.3.3.3">𝐻</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.11.m11.3c">Q,K,V\in\mathbb{R}^{H\times H}</annotation></semantics></math>, our tree-based mask attention simply reads:
<math id="S3.SS3.p2.12.m12.6" class="ltx_Math" alttext="BiTreeAttenion(Q,K,V)=Attention(Q,K,V)\cdot M" display="inline"><semantics id="S3.SS3.p2.12.m12.6a"><mrow id="S3.SS3.p2.12.m12.6.7" xref="S3.SS3.p2.12.m12.6.7.cmml"><mrow id="S3.SS3.p2.12.m12.6.7.2" xref="S3.SS3.p2.12.m12.6.7.2.cmml"><mi id="S3.SS3.p2.12.m12.6.7.2.2" xref="S3.SS3.p2.12.m12.6.7.2.2.cmml">B</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.3" xref="S3.SS3.p2.12.m12.6.7.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1a" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.4" xref="S3.SS3.p2.12.m12.6.7.2.4.cmml">T</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1b" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.5" xref="S3.SS3.p2.12.m12.6.7.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1c" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.6" xref="S3.SS3.p2.12.m12.6.7.2.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1d" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.7" xref="S3.SS3.p2.12.m12.6.7.2.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1e" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.8" xref="S3.SS3.p2.12.m12.6.7.2.8.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1f" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.9" xref="S3.SS3.p2.12.m12.6.7.2.9.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1g" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.10" xref="S3.SS3.p2.12.m12.6.7.2.10.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1h" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.11" xref="S3.SS3.p2.12.m12.6.7.2.11.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1i" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.12" xref="S3.SS3.p2.12.m12.6.7.2.12.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1j" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.13" xref="S3.SS3.p2.12.m12.6.7.2.13.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1k" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.14" xref="S3.SS3.p2.12.m12.6.7.2.14.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1l" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.2.15" xref="S3.SS3.p2.12.m12.6.7.2.15.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.2.1m" xref="S3.SS3.p2.12.m12.6.7.2.1.cmml">​</mo><mrow id="S3.SS3.p2.12.m12.6.7.2.16.2" xref="S3.SS3.p2.12.m12.6.7.2.16.1.cmml"><mo stretchy="false" id="S3.SS3.p2.12.m12.6.7.2.16.2.1" xref="S3.SS3.p2.12.m12.6.7.2.16.1.cmml">(</mo><mi id="S3.SS3.p2.12.m12.1.1" xref="S3.SS3.p2.12.m12.1.1.cmml">Q</mi><mo id="S3.SS3.p2.12.m12.6.7.2.16.2.2" xref="S3.SS3.p2.12.m12.6.7.2.16.1.cmml">,</mo><mi id="S3.SS3.p2.12.m12.2.2" xref="S3.SS3.p2.12.m12.2.2.cmml">K</mi><mo id="S3.SS3.p2.12.m12.6.7.2.16.2.3" xref="S3.SS3.p2.12.m12.6.7.2.16.1.cmml">,</mo><mi id="S3.SS3.p2.12.m12.3.3" xref="S3.SS3.p2.12.m12.3.3.cmml">V</mi><mo stretchy="false" id="S3.SS3.p2.12.m12.6.7.2.16.2.4" xref="S3.SS3.p2.12.m12.6.7.2.16.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p2.12.m12.6.7.1" xref="S3.SS3.p2.12.m12.6.7.1.cmml">=</mo><mrow id="S3.SS3.p2.12.m12.6.7.3" xref="S3.SS3.p2.12.m12.6.7.3.cmml"><mrow id="S3.SS3.p2.12.m12.6.7.3.2" xref="S3.SS3.p2.12.m12.6.7.3.2.cmml"><mi id="S3.SS3.p2.12.m12.6.7.3.2.2" xref="S3.SS3.p2.12.m12.6.7.3.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.3.2.1" xref="S3.SS3.p2.12.m12.6.7.3.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.3.2.3" xref="S3.SS3.p2.12.m12.6.7.3.2.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.3.2.1a" xref="S3.SS3.p2.12.m12.6.7.3.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.3.2.4" xref="S3.SS3.p2.12.m12.6.7.3.2.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.3.2.1b" xref="S3.SS3.p2.12.m12.6.7.3.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.3.2.5" xref="S3.SS3.p2.12.m12.6.7.3.2.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.3.2.1c" xref="S3.SS3.p2.12.m12.6.7.3.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.3.2.6" xref="S3.SS3.p2.12.m12.6.7.3.2.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.3.2.1d" xref="S3.SS3.p2.12.m12.6.7.3.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.3.2.7" xref="S3.SS3.p2.12.m12.6.7.3.2.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.3.2.1e" xref="S3.SS3.p2.12.m12.6.7.3.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.3.2.8" xref="S3.SS3.p2.12.m12.6.7.3.2.8.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.3.2.1f" xref="S3.SS3.p2.12.m12.6.7.3.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.3.2.9" xref="S3.SS3.p2.12.m12.6.7.3.2.9.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.3.2.1g" xref="S3.SS3.p2.12.m12.6.7.3.2.1.cmml">​</mo><mi id="S3.SS3.p2.12.m12.6.7.3.2.10" xref="S3.SS3.p2.12.m12.6.7.3.2.10.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p2.12.m12.6.7.3.2.1h" xref="S3.SS3.p2.12.m12.6.7.3.2.1.cmml">​</mo><mrow id="S3.SS3.p2.12.m12.6.7.3.2.11.2" xref="S3.SS3.p2.12.m12.6.7.3.2.11.1.cmml"><mo stretchy="false" id="S3.SS3.p2.12.m12.6.7.3.2.11.2.1" xref="S3.SS3.p2.12.m12.6.7.3.2.11.1.cmml">(</mo><mi id="S3.SS3.p2.12.m12.4.4" xref="S3.SS3.p2.12.m12.4.4.cmml">Q</mi><mo id="S3.SS3.p2.12.m12.6.7.3.2.11.2.2" xref="S3.SS3.p2.12.m12.6.7.3.2.11.1.cmml">,</mo><mi id="S3.SS3.p2.12.m12.5.5" xref="S3.SS3.p2.12.m12.5.5.cmml">K</mi><mo id="S3.SS3.p2.12.m12.6.7.3.2.11.2.3" xref="S3.SS3.p2.12.m12.6.7.3.2.11.1.cmml">,</mo><mi id="S3.SS3.p2.12.m12.6.6" xref="S3.SS3.p2.12.m12.6.6.cmml">V</mi><mo rspace="0.055em" stretchy="false" id="S3.SS3.p2.12.m12.6.7.3.2.11.2.4" xref="S3.SS3.p2.12.m12.6.7.3.2.11.1.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.SS3.p2.12.m12.6.7.3.1" xref="S3.SS3.p2.12.m12.6.7.3.1.cmml">⋅</mo><mi id="S3.SS3.p2.12.m12.6.7.3.3" xref="S3.SS3.p2.12.m12.6.7.3.3.cmml">M</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.12.m12.6b"><apply id="S3.SS3.p2.12.m12.6.7.cmml" xref="S3.SS3.p2.12.m12.6.7"><eq id="S3.SS3.p2.12.m12.6.7.1.cmml" xref="S3.SS3.p2.12.m12.6.7.1"></eq><apply id="S3.SS3.p2.12.m12.6.7.2.cmml" xref="S3.SS3.p2.12.m12.6.7.2"><times id="S3.SS3.p2.12.m12.6.7.2.1.cmml" xref="S3.SS3.p2.12.m12.6.7.2.1"></times><ci id="S3.SS3.p2.12.m12.6.7.2.2.cmml" xref="S3.SS3.p2.12.m12.6.7.2.2">𝐵</ci><ci id="S3.SS3.p2.12.m12.6.7.2.3.cmml" xref="S3.SS3.p2.12.m12.6.7.2.3">𝑖</ci><ci id="S3.SS3.p2.12.m12.6.7.2.4.cmml" xref="S3.SS3.p2.12.m12.6.7.2.4">𝑇</ci><ci id="S3.SS3.p2.12.m12.6.7.2.5.cmml" xref="S3.SS3.p2.12.m12.6.7.2.5">𝑟</ci><ci id="S3.SS3.p2.12.m12.6.7.2.6.cmml" xref="S3.SS3.p2.12.m12.6.7.2.6">𝑒</ci><ci id="S3.SS3.p2.12.m12.6.7.2.7.cmml" xref="S3.SS3.p2.12.m12.6.7.2.7">𝑒</ci><ci id="S3.SS3.p2.12.m12.6.7.2.8.cmml" xref="S3.SS3.p2.12.m12.6.7.2.8">𝐴</ci><ci id="S3.SS3.p2.12.m12.6.7.2.9.cmml" xref="S3.SS3.p2.12.m12.6.7.2.9">𝑡</ci><ci id="S3.SS3.p2.12.m12.6.7.2.10.cmml" xref="S3.SS3.p2.12.m12.6.7.2.10">𝑡</ci><ci id="S3.SS3.p2.12.m12.6.7.2.11.cmml" xref="S3.SS3.p2.12.m12.6.7.2.11">𝑒</ci><ci id="S3.SS3.p2.12.m12.6.7.2.12.cmml" xref="S3.SS3.p2.12.m12.6.7.2.12">𝑛</ci><ci id="S3.SS3.p2.12.m12.6.7.2.13.cmml" xref="S3.SS3.p2.12.m12.6.7.2.13">𝑖</ci><ci id="S3.SS3.p2.12.m12.6.7.2.14.cmml" xref="S3.SS3.p2.12.m12.6.7.2.14">𝑜</ci><ci id="S3.SS3.p2.12.m12.6.7.2.15.cmml" xref="S3.SS3.p2.12.m12.6.7.2.15">𝑛</ci><vector id="S3.SS3.p2.12.m12.6.7.2.16.1.cmml" xref="S3.SS3.p2.12.m12.6.7.2.16.2"><ci id="S3.SS3.p2.12.m12.1.1.cmml" xref="S3.SS3.p2.12.m12.1.1">𝑄</ci><ci id="S3.SS3.p2.12.m12.2.2.cmml" xref="S3.SS3.p2.12.m12.2.2">𝐾</ci><ci id="S3.SS3.p2.12.m12.3.3.cmml" xref="S3.SS3.p2.12.m12.3.3">𝑉</ci></vector></apply><apply id="S3.SS3.p2.12.m12.6.7.3.cmml" xref="S3.SS3.p2.12.m12.6.7.3"><ci id="S3.SS3.p2.12.m12.6.7.3.1.cmml" xref="S3.SS3.p2.12.m12.6.7.3.1">⋅</ci><apply id="S3.SS3.p2.12.m12.6.7.3.2.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2"><times id="S3.SS3.p2.12.m12.6.7.3.2.1.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2.1"></times><ci id="S3.SS3.p2.12.m12.6.7.3.2.2.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2.2">𝐴</ci><ci id="S3.SS3.p2.12.m12.6.7.3.2.3.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2.3">𝑡</ci><ci id="S3.SS3.p2.12.m12.6.7.3.2.4.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2.4">𝑡</ci><ci id="S3.SS3.p2.12.m12.6.7.3.2.5.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2.5">𝑒</ci><ci id="S3.SS3.p2.12.m12.6.7.3.2.6.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2.6">𝑛</ci><ci id="S3.SS3.p2.12.m12.6.7.3.2.7.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2.7">𝑡</ci><ci id="S3.SS3.p2.12.m12.6.7.3.2.8.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2.8">𝑖</ci><ci id="S3.SS3.p2.12.m12.6.7.3.2.9.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2.9">𝑜</ci><ci id="S3.SS3.p2.12.m12.6.7.3.2.10.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2.10">𝑛</ci><vector id="S3.SS3.p2.12.m12.6.7.3.2.11.1.cmml" xref="S3.SS3.p2.12.m12.6.7.3.2.11.2"><ci id="S3.SS3.p2.12.m12.4.4.cmml" xref="S3.SS3.p2.12.m12.4.4">𝑄</ci><ci id="S3.SS3.p2.12.m12.5.5.cmml" xref="S3.SS3.p2.12.m12.5.5">𝐾</ci><ci id="S3.SS3.p2.12.m12.6.6.cmml" xref="S3.SS3.p2.12.m12.6.6">𝑉</ci></vector></apply><ci id="S3.SS3.p2.12.m12.6.7.3.3.cmml" xref="S3.SS3.p2.12.m12.6.7.3.3">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.12.m12.6c">BiTreeAttenion(Q,K,V)=Attention(Q,K,V)\cdot M</annotation></semantics></math>.
Different from existing methods such as bottom-up tree-based attention <cite class="ltx_cite ltx_citemacro_citep">(Nguyen <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib29" title="" class="ltx_ref">2020</a>)</cite> and constituent tree attention <cite class="ltx_cite ltx_citemacro_citep">(Wang <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib39" title="" class="ltx_ref">2019</a>)</cite> in NL domain, our encoder with tree attention enables both top-down, bottom-up and peer-to-peer data flow in the bi-tree structure.
Since TUTA’s encoder has <math id="S3.SS3.p2.13.m13.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS3.p2.13.m13.1a"><mi id="S3.SS3.p2.13.m13.1.1" xref="S3.SS3.p2.13.m13.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.13.m13.1b"><ci id="S3.SS3.p2.13.m13.1.1.cmml" xref="S3.SS3.p2.13.m13.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.13.m13.1c">N</annotation></semantics></math> stacked layers with attention depth <math id="S3.SS3.p2.14.m14.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S3.SS3.p2.14.m14.1a"><mi id="S3.SS3.p2.14.m14.1.1" xref="S3.SS3.p2.14.m14.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.14.m14.1b"><ci id="S3.SS3.p2.14.m14.1.1.cmml" xref="S3.SS3.p2.14.m14.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.14.m14.1c">D</annotation></semantics></math>, each cell can represent information from its neighborhood with nearly arbitrary depth (<math id="S3.SS3.p2.15.m15.1" class="ltx_Math" alttext="N\times D" display="inline"><semantics id="S3.SS3.p2.15.m15.1a"><mrow id="S3.SS3.p2.15.m15.1.1" xref="S3.SS3.p2.15.m15.1.1.cmml"><mi id="S3.SS3.p2.15.m15.1.1.2" xref="S3.SS3.p2.15.m15.1.1.2.cmml">N</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS3.p2.15.m15.1.1.1" xref="S3.SS3.p2.15.m15.1.1.1.cmml">×</mo><mi id="S3.SS3.p2.15.m15.1.1.3" xref="S3.SS3.p2.15.m15.1.1.3.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.15.m15.1b"><apply id="S3.SS3.p2.15.m15.1.1.cmml" xref="S3.SS3.p2.15.m15.1.1"><times id="S3.SS3.p2.15.m15.1.1.1.cmml" xref="S3.SS3.p2.15.m15.1.1.1"></times><ci id="S3.SS3.p2.15.m15.1.1.2.cmml" xref="S3.SS3.p2.15.m15.1.1.2">𝑁</ci><ci id="S3.SS3.p2.15.m15.1.1.3.cmml" xref="S3.SS3.p2.15.m15.1.1.3">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.15.m15.1c">N\times D</annotation></semantics></math>). In Section <a href="#S4" title="4. Experiments ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, we compare different <math id="S3.SS3.p2.16.m16.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S3.SS3.p2.16.m16.1a"><mi id="S3.SS3.p2.16.m16.1.1" xref="S3.SS3.p2.16.m16.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.16.m16.1b"><ci id="S3.SS3.p2.16.m16.1.1.cmml" xref="S3.SS3.p2.16.m16.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.16.m16.1c">D</annotation></semantics></math> values for ablation studies.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Pre-training objectives</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p">Tables naturally have progressive levels — token, cell, and table levels.
To capture table information in such a progressive routine, we devise novel cell- and table-level objectives in addition to the common objective at the token level, as shown in Figure <a href="#S3.F5" title="Figure 5 ‣ 3.4. Pre-training objectives ‣ 3. TUTA Model ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<div id="S3.SS4.p2" class="ltx_para ltx_noindent">
<p id="S3.SS4.p2.1" class="ltx_p"><span id="S3.SS4.p2.1.1" class="ltx_text ltx_font_bold">Masked language modeling (MLM)</span>  MLM <cite class="ltx_cite ltx_citemacro_citep">(Devlin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib9" title="" class="ltx_ref">2018</a>; Lample and Conneau, <a href="#bib.bib25" title="" class="ltx_ref">2019</a>)</cite> is widely used in NL pre-training.
Besides context learning within each cell by randomly masking individual tokens, we also use a whole-cell masking strategy to capture relationships of neighboring cells.
Motivated by <cite class="ltx_cite ltx_citemacro_citep">(Herzig <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite>, we train token representations by predictions on both table cells and text segments.
MLM is modeled as a multi-classification problem for each masked token with the cross-entropy loss <math id="S3.SS4.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\text{mlm}}" display="inline"><semantics id="S3.SS4.p2.1.m1.1a"><msub id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p2.1.m1.1.1.2" xref="S3.SS4.p2.1.m1.1.1.2.cmml">ℒ</mi><mtext id="S3.SS4.p2.1.m1.1.1.3" xref="S3.SS4.p2.1.m1.1.1.3a.cmml">mlm</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><apply id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.1.m1.1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.p2.1.m1.1.1.2.cmml" xref="S3.SS4.p2.1.m1.1.1.2">ℒ</ci><ci id="S3.SS4.p2.1.m1.1.1.3a.cmml" xref="S3.SS4.p2.1.m1.1.1.3"><mtext mathsize="70%" id="S3.SS4.p2.1.m1.1.1.3.cmml" xref="S3.SS4.p2.1.m1.1.1.3">mlm</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">\mathcal{L}_{\text{mlm}}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS4.p3" class="ltx_para ltx_noindent">
<p id="S3.SS4.p3.1" class="ltx_p"><span id="S3.SS4.p3.1.1" class="ltx_text ltx_font_bold">Cell-level Cloze (CLC)</span>  Cells are basic units to record text, position, and format. So, representations at the cell level are crucial for various tasks such as cell type classification, entity linking, and table question answering. Existing methods <cite class="ltx_cite ltx_citemacro_citep">(Herzig <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2020</a>; Yin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib41" title="" class="ltx_ref">2020</a>; Deng <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib8" title="" class="ltx_ref">2020</a>)</cite> represent a cell by taking its token average, yet neglect the format and token order. Hence, we design a novel task at the cell-level called Cell-Level Cloze. We randomly
select out cell strings from the table as candidate choices, and at each blanked position, encourage the model to retrieve its corresponding string. As shown in Figure <a href="#S3.F5" title="Figure 5 ‣ 3.4. Pre-training objectives ‣ 3. TUTA Model ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, one can view it as a cell-level one-to-one mapping from blanked positions to candidate strings.
Given the representations of blanked positions and candidate strings, we compute pair-wise mapping probabilities using a dot-product attention module <cite class="ltx_cite ltx_citemacro_citep">(Vaswani <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib37" title="" class="ltx_ref">2017</a>)</cite>. Next, we perform at each blanked position a multi-classification over candidate strings and compute a cross-entropy loss <math id="S3.SS4.p3.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\text{clc}}" display="inline"><semantics id="S3.SS4.p3.1.m1.1a"><msub id="S3.SS4.p3.1.m1.1.1" xref="S3.SS4.p3.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p3.1.m1.1.1.2" xref="S3.SS4.p3.1.m1.1.1.2.cmml">ℒ</mi><mtext id="S3.SS4.p3.1.m1.1.1.3" xref="S3.SS4.p3.1.m1.1.1.3a.cmml">clc</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.1.m1.1b"><apply id="S3.SS4.p3.1.m1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.1.m1.1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.p3.1.m1.1.1.2.cmml" xref="S3.SS4.p3.1.m1.1.1.2">ℒ</ci><ci id="S3.SS4.p3.1.m1.1.1.3a.cmml" xref="S3.SS4.p3.1.m1.1.1.3"><mtext mathsize="70%" id="S3.SS4.p3.1.m1.1.1.3.cmml" xref="S3.SS4.p3.1.m1.1.1.3">clc</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.1.m1.1c">\mathcal{L}_{\text{clc}}</annotation></semantics></math>.
Note that, in our attention mechanism, blanked locations can ‘see’ their structural contexts, while candidate strings can only ‘see’ its internal tokens.</p>
</div>
<div id="S3.SS4.p4" class="ltx_para ltx_noindent">
<p id="S3.SS4.p4.1" class="ltx_p"><span id="S3.SS4.p4.1.1" class="ltx_text ltx_font_bold">Table context retrieval (TCR)</span>  Table-level representation is important in two aspects. On the one hand, all local cells in a table constitute an overall meaning; On the other hand, titles and text descriptions are informative global information for cell understanding.
So we propose a novel objective to learn table representations.</p>
</div>
<div id="S3.SS4.p5" class="ltx_para">
<p id="S3.SS4.p5.2" class="ltx_p">Each table is provided with text segments (either positive ones from its own context, or negative ones from irrelevant contexts), from which we use the <math id="S3.SS4.p5.1.m1.1" class="ltx_Math" alttext="[CLS]" display="inline"><semantics id="S3.SS4.p5.1.m1.1a"><mrow id="S3.SS4.p5.1.m1.1.1.1" xref="S3.SS4.p5.1.m1.1.1.2.cmml"><mo stretchy="false" id="S3.SS4.p5.1.m1.1.1.1.2" xref="S3.SS4.p5.1.m1.1.1.2.1.cmml">[</mo><mrow id="S3.SS4.p5.1.m1.1.1.1.1" xref="S3.SS4.p5.1.m1.1.1.1.1.cmml"><mi id="S3.SS4.p5.1.m1.1.1.1.1.2" xref="S3.SS4.p5.1.m1.1.1.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p5.1.m1.1.1.1.1.1" xref="S3.SS4.p5.1.m1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS4.p5.1.m1.1.1.1.1.3" xref="S3.SS4.p5.1.m1.1.1.1.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p5.1.m1.1.1.1.1.1a" xref="S3.SS4.p5.1.m1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS4.p5.1.m1.1.1.1.1.4" xref="S3.SS4.p5.1.m1.1.1.1.1.4.cmml">S</mi></mrow><mo stretchy="false" id="S3.SS4.p5.1.m1.1.1.1.3" xref="S3.SS4.p5.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p5.1.m1.1b"><apply id="S3.SS4.p5.1.m1.1.1.2.cmml" xref="S3.SS4.p5.1.m1.1.1.1"><csymbol cd="latexml" id="S3.SS4.p5.1.m1.1.1.2.1.cmml" xref="S3.SS4.p5.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="S3.SS4.p5.1.m1.1.1.1.1.cmml" xref="S3.SS4.p5.1.m1.1.1.1.1"><times id="S3.SS4.p5.1.m1.1.1.1.1.1.cmml" xref="S3.SS4.p5.1.m1.1.1.1.1.1"></times><ci id="S3.SS4.p5.1.m1.1.1.1.1.2.cmml" xref="S3.SS4.p5.1.m1.1.1.1.1.2">𝐶</ci><ci id="S3.SS4.p5.1.m1.1.1.1.1.3.cmml" xref="S3.SS4.p5.1.m1.1.1.1.1.3">𝐿</ci><ci id="S3.SS4.p5.1.m1.1.1.1.1.4.cmml" xref="S3.SS4.p5.1.m1.1.1.1.1.4">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p5.1.m1.1c">[CLS]</annotation></semantics></math> to retrieve the correct ones.
At the implementation level, given the similarity logit of each text segment against the table representation, TCR is a binary classification problem with cross-entropy loss <math id="S3.SS4.p5.2.m2.1" class="ltx_Math" alttext="\mathcal{L}_{\text{tcr}}" display="inline"><semantics id="S3.SS4.p5.2.m2.1a"><msub id="S3.SS4.p5.2.m2.1.1" xref="S3.SS4.p5.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p5.2.m2.1.1.2" xref="S3.SS4.p5.2.m2.1.1.2.cmml">ℒ</mi><mtext id="S3.SS4.p5.2.m2.1.1.3" xref="S3.SS4.p5.2.m2.1.1.3a.cmml">tcr</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p5.2.m2.1b"><apply id="S3.SS4.p5.2.m2.1.1.cmml" xref="S3.SS4.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p5.2.m2.1.1.1.cmml" xref="S3.SS4.p5.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.p5.2.m2.1.1.2.cmml" xref="S3.SS4.p5.2.m2.1.1.2">ℒ</ci><ci id="S3.SS4.p5.2.m2.1.1.3a.cmml" xref="S3.SS4.p5.2.m2.1.1.3"><mtext mathsize="70%" id="S3.SS4.p5.2.m2.1.1.3.cmml" xref="S3.SS4.p5.2.m2.1.1.3">tcr</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p5.2.m2.1c">\mathcal{L}_{\text{tcr}}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS4.p6" class="ltx_para">
<p id="S3.SS4.p6.1" class="ltx_p">The final objective <math id="S3.SS4.p6.1.m1.1" class="ltx_Math" alttext="\mathcal{L}=\mathcal{L}_{\text{mlm}}+\mathcal{L}_{\text{clc}}+\mathcal{L}_{\text{tcr}}" display="inline"><semantics id="S3.SS4.p6.1.m1.1a"><mrow id="S3.SS4.p6.1.m1.1.1" xref="S3.SS4.p6.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p6.1.m1.1.1.2" xref="S3.SS4.p6.1.m1.1.1.2.cmml">ℒ</mi><mo id="S3.SS4.p6.1.m1.1.1.1" xref="S3.SS4.p6.1.m1.1.1.1.cmml">=</mo><mrow id="S3.SS4.p6.1.m1.1.1.3" xref="S3.SS4.p6.1.m1.1.1.3.cmml"><msub id="S3.SS4.p6.1.m1.1.1.3.2" xref="S3.SS4.p6.1.m1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p6.1.m1.1.1.3.2.2" xref="S3.SS4.p6.1.m1.1.1.3.2.2.cmml">ℒ</mi><mtext id="S3.SS4.p6.1.m1.1.1.3.2.3" xref="S3.SS4.p6.1.m1.1.1.3.2.3a.cmml">mlm</mtext></msub><mo id="S3.SS4.p6.1.m1.1.1.3.1" xref="S3.SS4.p6.1.m1.1.1.3.1.cmml">+</mo><msub id="S3.SS4.p6.1.m1.1.1.3.3" xref="S3.SS4.p6.1.m1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p6.1.m1.1.1.3.3.2" xref="S3.SS4.p6.1.m1.1.1.3.3.2.cmml">ℒ</mi><mtext id="S3.SS4.p6.1.m1.1.1.3.3.3" xref="S3.SS4.p6.1.m1.1.1.3.3.3a.cmml">clc</mtext></msub><mo id="S3.SS4.p6.1.m1.1.1.3.1a" xref="S3.SS4.p6.1.m1.1.1.3.1.cmml">+</mo><msub id="S3.SS4.p6.1.m1.1.1.3.4" xref="S3.SS4.p6.1.m1.1.1.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p6.1.m1.1.1.3.4.2" xref="S3.SS4.p6.1.m1.1.1.3.4.2.cmml">ℒ</mi><mtext id="S3.SS4.p6.1.m1.1.1.3.4.3" xref="S3.SS4.p6.1.m1.1.1.3.4.3a.cmml">tcr</mtext></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p6.1.m1.1b"><apply id="S3.SS4.p6.1.m1.1.1.cmml" xref="S3.SS4.p6.1.m1.1.1"><eq id="S3.SS4.p6.1.m1.1.1.1.cmml" xref="S3.SS4.p6.1.m1.1.1.1"></eq><ci id="S3.SS4.p6.1.m1.1.1.2.cmml" xref="S3.SS4.p6.1.m1.1.1.2">ℒ</ci><apply id="S3.SS4.p6.1.m1.1.1.3.cmml" xref="S3.SS4.p6.1.m1.1.1.3"><plus id="S3.SS4.p6.1.m1.1.1.3.1.cmml" xref="S3.SS4.p6.1.m1.1.1.3.1"></plus><apply id="S3.SS4.p6.1.m1.1.1.3.2.cmml" xref="S3.SS4.p6.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS4.p6.1.m1.1.1.3.2.1.cmml" xref="S3.SS4.p6.1.m1.1.1.3.2">subscript</csymbol><ci id="S3.SS4.p6.1.m1.1.1.3.2.2.cmml" xref="S3.SS4.p6.1.m1.1.1.3.2.2">ℒ</ci><ci id="S3.SS4.p6.1.m1.1.1.3.2.3a.cmml" xref="S3.SS4.p6.1.m1.1.1.3.2.3"><mtext mathsize="70%" id="S3.SS4.p6.1.m1.1.1.3.2.3.cmml" xref="S3.SS4.p6.1.m1.1.1.3.2.3">mlm</mtext></ci></apply><apply id="S3.SS4.p6.1.m1.1.1.3.3.cmml" xref="S3.SS4.p6.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS4.p6.1.m1.1.1.3.3.1.cmml" xref="S3.SS4.p6.1.m1.1.1.3.3">subscript</csymbol><ci id="S3.SS4.p6.1.m1.1.1.3.3.2.cmml" xref="S3.SS4.p6.1.m1.1.1.3.3.2">ℒ</ci><ci id="S3.SS4.p6.1.m1.1.1.3.3.3a.cmml" xref="S3.SS4.p6.1.m1.1.1.3.3.3"><mtext mathsize="70%" id="S3.SS4.p6.1.m1.1.1.3.3.3.cmml" xref="S3.SS4.p6.1.m1.1.1.3.3.3">clc</mtext></ci></apply><apply id="S3.SS4.p6.1.m1.1.1.3.4.cmml" xref="S3.SS4.p6.1.m1.1.1.3.4"><csymbol cd="ambiguous" id="S3.SS4.p6.1.m1.1.1.3.4.1.cmml" xref="S3.SS4.p6.1.m1.1.1.3.4">subscript</csymbol><ci id="S3.SS4.p6.1.m1.1.1.3.4.2.cmml" xref="S3.SS4.p6.1.m1.1.1.3.4.2">ℒ</ci><ci id="S3.SS4.p6.1.m1.1.1.3.4.3a.cmml" xref="S3.SS4.p6.1.m1.1.1.3.4.3"><mtext mathsize="70%" id="S3.SS4.p6.1.m1.1.1.3.4.3.cmml" xref="S3.SS4.p6.1.m1.1.1.3.4.3">tcr</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p6.1.m1.1c">\mathcal{L}=\mathcal{L}_{\text{mlm}}+\mathcal{L}_{\text{clc}}+\mathcal{L}_{\text{tcr}}</annotation></semantics></math>.</p>
</div>
<figure id="S3.F5" class="ltx_figure"><img src="/html/2010.12537/assets/x5.png" id="S3.F5.1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="261" height="260" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 5. </span> An intuitive example of pre-training objectives. </figcaption>
</figure>
</section>
<section id="S3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5. </span>Pre-training details</h3>

<div id="S3.SS5.p1" class="ltx_para">
<p id="S3.SS5.p1.2" class="ltx_p"><span id="S3.SS5.p1.2.1" class="ltx_text ltx_font_bold">Data processing</span>  To get sequential inputs for transformer-based models, we iterate table cells by row and tokenize their strings using the WordPiece Tokenizer.
Each cell has a special leading token <math id="S3.SS5.p1.1.m1.1" class="ltx_Math" alttext="[SEP]" display="inline"><semantics id="S3.SS5.p1.1.m1.1a"><mrow id="S3.SS5.p1.1.m1.1.1.1" xref="S3.SS5.p1.1.m1.1.1.2.cmml"><mo stretchy="false" id="S3.SS5.p1.1.m1.1.1.1.2" xref="S3.SS5.p1.1.m1.1.1.2.1.cmml">[</mo><mrow id="S3.SS5.p1.1.m1.1.1.1.1" xref="S3.SS5.p1.1.m1.1.1.1.1.cmml"><mi id="S3.SS5.p1.1.m1.1.1.1.1.2" xref="S3.SS5.p1.1.m1.1.1.1.1.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="S3.SS5.p1.1.m1.1.1.1.1.1" xref="S3.SS5.p1.1.m1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS5.p1.1.m1.1.1.1.1.3" xref="S3.SS5.p1.1.m1.1.1.1.1.3.cmml">E</mi><mo lspace="0em" rspace="0em" id="S3.SS5.p1.1.m1.1.1.1.1.1a" xref="S3.SS5.p1.1.m1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS5.p1.1.m1.1.1.1.1.4" xref="S3.SS5.p1.1.m1.1.1.1.1.4.cmml">P</mi></mrow><mo stretchy="false" id="S3.SS5.p1.1.m1.1.1.1.3" xref="S3.SS5.p1.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><apply id="S3.SS5.p1.1.m1.1.1.2.cmml" xref="S3.SS5.p1.1.m1.1.1.1"><csymbol cd="latexml" id="S3.SS5.p1.1.m1.1.1.2.1.cmml" xref="S3.SS5.p1.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="S3.SS5.p1.1.m1.1.1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1.1.1"><times id="S3.SS5.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1.1.1.1"></times><ci id="S3.SS5.p1.1.m1.1.1.1.1.2.cmml" xref="S3.SS5.p1.1.m1.1.1.1.1.2">𝑆</ci><ci id="S3.SS5.p1.1.m1.1.1.1.1.3.cmml" xref="S3.SS5.p1.1.m1.1.1.1.1.3">𝐸</ci><ci id="S3.SS5.p1.1.m1.1.1.1.1.4.cmml" xref="S3.SS5.p1.1.m1.1.1.1.1.4">𝑃</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">[SEP]</annotation></semantics></math>, while the textual description uses <math id="S3.SS5.p1.2.m2.1" class="ltx_Math" alttext="[CLS]" display="inline"><semantics id="S3.SS5.p1.2.m2.1a"><mrow id="S3.SS5.p1.2.m2.1.1.1" xref="S3.SS5.p1.2.m2.1.1.2.cmml"><mo stretchy="false" id="S3.SS5.p1.2.m2.1.1.1.2" xref="S3.SS5.p1.2.m2.1.1.2.1.cmml">[</mo><mrow id="S3.SS5.p1.2.m2.1.1.1.1" xref="S3.SS5.p1.2.m2.1.1.1.1.cmml"><mi id="S3.SS5.p1.2.m2.1.1.1.1.2" xref="S3.SS5.p1.2.m2.1.1.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S3.SS5.p1.2.m2.1.1.1.1.1" xref="S3.SS5.p1.2.m2.1.1.1.1.1.cmml">​</mo><mi id="S3.SS5.p1.2.m2.1.1.1.1.3" xref="S3.SS5.p1.2.m2.1.1.1.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="S3.SS5.p1.2.m2.1.1.1.1.1a" xref="S3.SS5.p1.2.m2.1.1.1.1.1.cmml">​</mo><mi id="S3.SS5.p1.2.m2.1.1.1.1.4" xref="S3.SS5.p1.2.m2.1.1.1.1.4.cmml">S</mi></mrow><mo stretchy="false" id="S3.SS5.p1.2.m2.1.1.1.3" xref="S3.SS5.p1.2.m2.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.2.m2.1b"><apply id="S3.SS5.p1.2.m2.1.1.2.cmml" xref="S3.SS5.p1.2.m2.1.1.1"><csymbol cd="latexml" id="S3.SS5.p1.2.m2.1.1.2.1.cmml" xref="S3.SS5.p1.2.m2.1.1.1.2">delimited-[]</csymbol><apply id="S3.SS5.p1.2.m2.1.1.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1.1.1"><times id="S3.SS5.p1.2.m2.1.1.1.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1.1.1.1"></times><ci id="S3.SS5.p1.2.m2.1.1.1.1.2.cmml" xref="S3.SS5.p1.2.m2.1.1.1.1.2">𝐶</ci><ci id="S3.SS5.p1.2.m2.1.1.1.1.3.cmml" xref="S3.SS5.p1.2.m2.1.1.1.1.3">𝐿</ci><ci id="S3.SS5.p1.2.m2.1.1.1.1.4.cmml" xref="S3.SS5.p1.2.m2.1.1.1.1.4">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.2.m2.1c">[CLS]</annotation></semantics></math>.
During pre-training, Wiki, WDC, and spreadsheet tables are iterated in parallel to provide diverse table structures and data characteristics.</p>
</div>
<div id="S3.SS5.p2" class="ltx_para ltx_noindent">
<p id="S3.SS5.p2.4" class="ltx_p"><span id="S3.SS5.p2.4.1" class="ltx_text ltx_font_bold">Model configuration</span>  TUTA is a <math id="S3.SS5.p2.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS5.p2.1.m1.1a"><mi id="S3.SS5.p2.1.m1.1.1" xref="S3.SS5.p2.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.1.m1.1b"><ci id="S3.SS5.p2.1.m1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.1.m1.1c">N</annotation></semantics></math>-layer Transformer encoder with a configuration aligned with BERT<sub id="S3.SS5.p2.4.2" class="ltx_sub"><span id="S3.SS5.p2.4.2.1" class="ltx_text ltx_font_italic">BASE</span></sub>.
To retain BERT’s general-semantic representations, TUTA initializes with its token embedding and encoder weights.
TUTA pre-trains on Tesla V100 GPU and consumes about <math id="S3.SS5.p2.3.m3.1" class="ltx_Math" alttext="16M" display="inline"><semantics id="S3.SS5.p2.3.m3.1a"><mrow id="S3.SS5.p2.3.m3.1.1" xref="S3.SS5.p2.3.m3.1.1.cmml"><mn id="S3.SS5.p2.3.m3.1.1.2" xref="S3.SS5.p2.3.m3.1.1.2.cmml">16</mn><mo lspace="0em" rspace="0em" id="S3.SS5.p2.3.m3.1.1.1" xref="S3.SS5.p2.3.m3.1.1.1.cmml">​</mo><mi id="S3.SS5.p2.3.m3.1.1.3" xref="S3.SS5.p2.3.m3.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.3.m3.1b"><apply id="S3.SS5.p2.3.m3.1.1.cmml" xref="S3.SS5.p2.3.m3.1.1"><times id="S3.SS5.p2.3.m3.1.1.1.cmml" xref="S3.SS5.p2.3.m3.1.1.1"></times><cn type="integer" id="S3.SS5.p2.3.m3.1.1.2.cmml" xref="S3.SS5.p2.3.m3.1.1.2">16</cn><ci id="S3.SS5.p2.3.m3.1.1.3.cmml" xref="S3.SS5.p2.3.m3.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.3.m3.1c">16M</annotation></semantics></math> tables in <math id="S3.SS5.p2.4.m4.1" class="ltx_Math" alttext="2M" display="inline"><semantics id="S3.SS5.p2.4.m4.1a"><mrow id="S3.SS5.p2.4.m4.1.1" xref="S3.SS5.p2.4.m4.1.1.cmml"><mn id="S3.SS5.p2.4.m4.1.1.2" xref="S3.SS5.p2.4.m4.1.1.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S3.SS5.p2.4.m4.1.1.1" xref="S3.SS5.p2.4.m4.1.1.1.cmml">​</mo><mi id="S3.SS5.p2.4.m4.1.1.3" xref="S3.SS5.p2.4.m4.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.4.m4.1b"><apply id="S3.SS5.p2.4.m4.1.1.cmml" xref="S3.SS5.p2.4.m4.1.1"><times id="S3.SS5.p2.4.m4.1.1.1.cmml" xref="S3.SS5.p2.4.m4.1.1.1"></times><cn type="integer" id="S3.SS5.p2.4.m4.1.1.2.cmml" xref="S3.SS5.p2.4.m4.1.1.2">2</cn><ci id="S3.SS5.p2.4.m4.1.1.3.cmml" xref="S3.SS5.p2.4.m4.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.4.m4.1c">2M</annotation></semantics></math> steps.</p>
</div>
<div id="S3.SS5.p3" class="ltx_para">
<p id="S3.SS5.p3.1" class="ltx_p">Refer more details about data and model to Appendix <a href="#A3.SS2" title="C.2. Model Configuration ‣ Appendix C Experiment details ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.2</span></a>.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Experiments</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">Understanding the semantic structures of tables is the initial and critical step for plenty of tasks on tables.
Mainly two tasks receive broad attention: (1) identify the structural type of table cells in the Cell Type Classification (CTC) task; (2) categorize the integrated table structure in Table Type Classification (TTC).</p>
</div>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.1" class="ltx_p">In this section, we first evaluate TUTA on CTC and TTC against competitive baselines.
Then, we perform ablation studies to show the effectiveness of the critical modules of TUTA.
Last, we analyze typical cases to present more insights on the function of TUTA.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Cell Type Classification (CTC)</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">To understand table structures, a key step is to identify fine-grained cell types. CTC has been widely studied <cite class="ltx_cite ltx_citemacro_citep">(Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2019a</a>; Gol <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2019</a>; Koci <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib24" title="" class="ltx_ref">2019</a>; Gonsior <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib19" title="" class="ltx_ref">2020</a>; Pujara, <a href="#bib.bib33" title="" class="ltx_ref">2021</a>)</cite> with several well-annotated datasets. It requires models to capture both semantic and structure information. Therefore, we use CTC to validate the effectiveness of TUTA.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">Datasets</span>  Existing CTC datasets include WebSheet <cite class="ltx_cite ltx_citemacro_citep">(Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2019a</a>)</cite>, deexcelerator (DeEx) <cite class="ltx_cite ltx_citemacro_citep">(Koci <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib24" title="" class="ltx_ref">2019</a>)</cite>, SAUS <cite class="ltx_cite ltx_citemacro_citep">(Gol <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2019</a>)</cite>, and CIUS <cite class="ltx_cite ltx_citemacro_citep">(Gol <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2019</a>)</cite>.
They are collected from different domains (financial, business, agricultural, healthcare, etc.), thus contain tables with various structures and semantics. Table <a href="#S4.T2" title="Table 2 ‣ 4.1. Cell Type Classification (CTC) ‣ 4. Experiments ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows statistics of table size and structure in each annotated dataset.
Note that they adopt two different taxonomies of cell types.
DeEx, SAUS, and CIUS categorize cells into general types: metadata (MD), notes (N), data (D), top attribute (TA), left attribute (LA), and derived (B).
While to enable automatic relational data extraction, WebSheet further defines three fine-grained semantic cell types inside table headers, namely index, index name, and value name <cite class="ltx_cite ltx_citemacro_citep">(Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2019a</a>)</cite>. As Figure <a href="#S4.F6" title="Figure 6 ‣ 4.1. Cell Type Classification (CTC) ‣ 4. Experiments ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> shows, cells of different types play different roles in the process of relational data extraction.</p>
</div>
<figure id="S4.F6" class="ltx_figure"><img src="/html/2010.12537/assets/x6.png" id="S4.F6.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="253" height="115" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 6. </span> An example to illustrate cell types through relational data extraction. Table on the left is a real case in SAUS (simplified due to space). On the right shows corresponding relational tuples.
Different cell types (highlighted by different colors and shapes) play different roles in the process of relational data extraction.</figcaption>
</figure>
<div id="S4.SS1.p3" class="ltx_para ltx_noindent">
<p id="S4.SS1.p3.6" class="ltx_p"><span id="S4.SS1.p3.6.1" class="ltx_text ltx_font_bold">Baselines</span>  We compare TUTA with five strong baselines to verify its effectiveness.
CNN<sup id="S4.SS1.p3.6.2" class="ltx_sup"><span id="S4.SS1.p3.6.2.1" class="ltx_text ltx_font_italic">BERT</span></sup>  <cite class="ltx_cite ltx_citemacro_citep">(Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2019a</a>)</cite>, Bi-LSTM <cite class="ltx_cite ltx_citemacro_citep">(Gol <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2019</a>)</cite>, and PSL<sup id="S4.SS1.p3.6.3" class="ltx_sup"><span id="S4.SS1.p3.6.3.1" class="ltx_text ltx_font_italic">RF</span></sup> <cite class="ltx_cite ltx_citemacro_citep">(Pujara, <a href="#bib.bib33" title="" class="ltx_ref">2021</a>)</cite> are three top existing methods for CTC.
CNN<sup id="S4.SS1.p3.6.4" class="ltx_sup"><span id="S4.SS1.p3.6.4.1" class="ltx_text ltx_font_italic">BERT</span></sup> is a CNN-based method for both cell classification and table range detection using pre-trained BERT. RNN<sup id="S4.SS1.p3.6.5" class="ltx_sup"><span id="S4.SS1.p3.6.5.1" class="ltx_text ltx_font_italic">C+S</span></sup> is a bidirectional LSTM-based method for cell classification using pre-trained cell and format embeddings.
PSL<sup id="S4.SS1.p3.6.6" class="ltx_sup"><span id="S4.SS1.p3.6.6.1" class="ltx_text ltx_font_italic">RF</span></sup> is a hybrid neuro-symbolic approach that combines embedded representations with probabilistic constraints.
We also include two representative table pre-training methods, TAPAS <cite class="ltx_cite ltx_citemacro_citep">(Herzig <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite> and TaBERT <cite class="ltx_cite ltx_citemacro_citep">(Yin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib41" title="" class="ltx_ref">2020</a>)</cite>.
To ensure an unbiased comparison, we download the pre-trained TAPAS and TaBERT models, and fine-tune them using the same CTC head and loss function with TUTA.
Note that, PSL<sup id="S4.SS1.p3.6.7" class="ltx_sup"><span id="S4.SS1.p3.6.7.1" class="ltx_text ltx_font_italic">RF</span></sup> is a relevant yet very recent work evaluated on DeEx, SAUS, and CIUS, so we include it to be a strong baseline.
However, since the code has not been publicly available, we have not evaluated it on WebSheet.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span> Statistics of CTC datasets. </figcaption>
<div id="S4.T2.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:291.3pt;height:136.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-7.7pt,3.6pt) scale(0.95,0.95) ;">
<table id="S4.T2.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T2.1.1.1.1" class="ltx_tr">
<td id="S4.T2.1.1.1.1.1" class="ltx_td ltx_border_t"></td>
<th id="S4.T2.1.1.1.1.2" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t">WebSheet</th>
<th id="S4.T2.1.1.1.1.3" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t">SAUS</th>
<th id="S4.T2.1.1.1.1.4" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t">DeEX</th>
<th id="S4.T2.1.1.1.1.5" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t">CIUS</th>
</tr>
<tr id="S4.T2.1.1.2.2" class="ltx_tr">
<th id="S4.T2.1.1.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t">Number of labeled tables</th>
<th id="S4.T2.1.1.2.2.2" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t">3,503</th>
<th id="S4.T2.1.1.2.2.3" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t">221</th>
<th id="S4.T2.1.1.2.2.4" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t">284</th>
<th id="S4.T2.1.1.2.2.5" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t">248</th>
</tr>
<tr id="S4.T2.1.1.3.3" class="ltx_tr">
<td id="S4.T2.1.1.3.3.1" class="ltx_td ltx_align_left ltx_border_t">Number of labeled cells</td>
<td id="S4.T2.1.1.3.3.2" class="ltx_td ltx_align_right ltx_border_t">1,075k</td>
<td id="S4.T2.1.1.3.3.3" class="ltx_td ltx_align_right ltx_border_t">192k</td>
<td id="S4.T2.1.1.3.3.4" class="ltx_td ltx_align_right ltx_border_t">711k</td>
<td id="S4.T2.1.1.3.3.5" class="ltx_td ltx_align_right ltx_border_t">216k</td>
</tr>
<tr id="S4.T2.1.1.4.4" class="ltx_tr">
<td id="S4.T2.1.1.4.4.1" class="ltx_td ltx_align_left ltx_border_t">Avg. number of rows</td>
<td id="S4.T2.1.1.4.4.2" class="ltx_td ltx_align_right ltx_border_t">33.2</td>
<td id="S4.T2.1.1.4.4.3" class="ltx_td ltx_align_right ltx_border_t">52.5</td>
<td id="S4.T2.1.1.4.4.4" class="ltx_td ltx_align_right ltx_border_t">220.2</td>
<td id="S4.T2.1.1.4.4.5" class="ltx_td ltx_align_right ltx_border_t">68.4</td>
</tr>
<tr id="S4.T2.1.1.5.5" class="ltx_tr">
<td id="S4.T2.1.1.5.5.1" class="ltx_td ltx_align_left ltx_border_t">Avg. number of columns</td>
<td id="S4.T2.1.1.5.5.2" class="ltx_td ltx_align_right ltx_border_t">9.9</td>
<td id="S4.T2.1.1.5.5.3" class="ltx_td ltx_align_right ltx_border_t">17.7</td>
<td id="S4.T2.1.1.5.5.4" class="ltx_td ltx_align_right ltx_border_t">12.7</td>
<td id="S4.T2.1.1.5.5.5" class="ltx_td ltx_align_right ltx_border_t">12.7</td>
</tr>
<tr id="S4.T2.1.1.6.6" class="ltx_tr">
<td id="S4.T2.1.1.6.6.1" class="ltx_td ltx_align_left ltx_border_t">Prop. of hierarchical tables</td>
<td id="S4.T2.1.1.6.6.2" class="ltx_td ltx_align_right ltx_border_t">53.7%</td>
<td id="S4.T2.1.1.6.6.3" class="ltx_td ltx_align_right ltx_border_t">93.7%</td>
<td id="S4.T2.1.1.6.6.4" class="ltx_td ltx_align_right ltx_border_t">43.7%</td>
<td id="S4.T2.1.1.6.6.5" class="ltx_td ltx_align_right ltx_border_t">72.1%</td>
</tr>
<tr id="S4.T2.1.1.7.7" class="ltx_tr">
<td id="S4.T2.1.1.7.7.1" class="ltx_td ltx_align_left ltx_border_t">Prop. of hierarchical top</td>
<td id="S4.T2.1.1.7.7.2" class="ltx_td ltx_align_right ltx_border_t">35.8%</td>
<td id="S4.T2.1.1.7.7.3" class="ltx_td ltx_align_right ltx_border_t">68.8%</td>
<td id="S4.T2.1.1.7.7.4" class="ltx_td ltx_align_right ltx_border_t">28.9%</td>
<td id="S4.T2.1.1.7.7.5" class="ltx_td ltx_align_right ltx_border_t">46.8%</td>
</tr>
<tr id="S4.T2.1.1.8.8" class="ltx_tr">
<td id="S4.T2.1.1.8.8.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_t">Prop. of hierarchical left</td>
<td id="S4.T2.1.1.8.8.2" class="ltx_td ltx_align_right ltx_border_b ltx_border_t">29.3%</td>
<td id="S4.T2.1.1.8.8.3" class="ltx_td ltx_align_right ltx_border_b ltx_border_t">76.0%</td>
<td id="S4.T2.1.1.8.8.4" class="ltx_td ltx_align_right ltx_border_b ltx_border_t">29.2%</td>
<td id="S4.T2.1.1.8.8.5" class="ltx_td ltx_align_right ltx_border_b ltx_border_t">30.2%</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S4.SS1.p4" class="ltx_para ltx_noindent">
<p id="S4.SS1.p4.1" class="ltx_p"><span id="S4.SS1.p4.1.1" class="ltx_text ltx_font_bold">Fine-tune</span>  Tables in CTC datasets are tokenized, embedded, and encoded in the same way as Section <a href="#S3" title="3. TUTA Model ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.
We use the leading <math id="S4.SS1.p4.1.m1.1" class="ltx_Math" alttext="[SEP]" display="inline"><semantics id="S4.SS1.p4.1.m1.1a"><mrow id="S4.SS1.p4.1.m1.1.1.1" xref="S4.SS1.p4.1.m1.1.1.2.cmml"><mo stretchy="false" id="S4.SS1.p4.1.m1.1.1.1.2" xref="S4.SS1.p4.1.m1.1.1.2.1.cmml">[</mo><mrow id="S4.SS1.p4.1.m1.1.1.1.1" xref="S4.SS1.p4.1.m1.1.1.1.1.cmml"><mi id="S4.SS1.p4.1.m1.1.1.1.1.2" xref="S4.SS1.p4.1.m1.1.1.1.1.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p4.1.m1.1.1.1.1.1" xref="S4.SS1.p4.1.m1.1.1.1.1.1.cmml">​</mo><mi id="S4.SS1.p4.1.m1.1.1.1.1.3" xref="S4.SS1.p4.1.m1.1.1.1.1.3.cmml">E</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p4.1.m1.1.1.1.1.1a" xref="S4.SS1.p4.1.m1.1.1.1.1.1.cmml">​</mo><mi id="S4.SS1.p4.1.m1.1.1.1.1.4" xref="S4.SS1.p4.1.m1.1.1.1.1.4.cmml">P</mi></mrow><mo stretchy="false" id="S4.SS1.p4.1.m1.1.1.1.3" xref="S4.SS1.p4.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><apply id="S4.SS1.p4.1.m1.1.1.2.cmml" xref="S4.SS1.p4.1.m1.1.1.1"><csymbol cd="latexml" id="S4.SS1.p4.1.m1.1.1.2.1.cmml" xref="S4.SS1.p4.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="S4.SS1.p4.1.m1.1.1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1"><times id="S4.SS1.p4.1.m1.1.1.1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1.1"></times><ci id="S4.SS1.p4.1.m1.1.1.1.1.2.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1.2">𝑆</ci><ci id="S4.SS1.p4.1.m1.1.1.1.1.3.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1.3">𝐸</ci><ci id="S4.SS1.p4.1.m1.1.1.1.1.4.cmml" xref="S4.SS1.p4.1.m1.1.1.1.1.4">𝑃</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">[SEP]</annotation></semantics></math> of cells to classify their types.
Following <cite class="ltx_cite ltx_citemacro_citep">(Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2019a</a>)</cite> on WebSheet and <cite class="ltx_cite ltx_citemacro_citep">(Gol <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2019</a>)</cite> on DeEx, SAUS, and CIUS, we use the same train/validation/test sets for TUTA and baselines, thus no test tables/cells appear at training.
Please find more details of data processing and model configuration in Appendix <a href="#A3.SS3" title="C.3. Downstream tasks ‣ Appendix C Experiment details ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.3</span></a>.</p>
</div>
<div id="S4.SS1.p5" class="ltx_para ltx_noindent">
<p id="S4.SS1.p5.2" class="ltx_p"><span id="S4.SS1.p5.2.1" class="ltx_text ltx_font_bold">Experiment results</span>  Results are measured using Macro-F1, for it’s a common method to evaluate the overall accuracy over multiple classes. As shown in Table <a href="#S4.T3" title="Table 3 ‣ 4.1. Cell Type Classification (CTC) ‣ 4. Experiments ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, TUTA achieves an averaged macro-F1 of 88.1% on four datasets, outperforming all baselines by a large margin (3.8%+). We observe that RNN<sup id="S4.SS1.p5.2.2" class="ltx_sup"><span id="S4.SS1.p5.2.2.1" class="ltx_text ltx_font_italic">C+S</span></sup> also outperforms TaBERT and TAPAS. It is probably because RNN<sup id="S4.SS1.p5.2.3" class="ltx_sup"><span id="S4.SS1.p5.2.3.1" class="ltx_text ltx_font_italic">C+S</span></sup> is better at capturing spatial information than TAPAS and TaBERT. TAPAS takes spatial information by encoding only the row and column indexes, which can be insufficient for hierarchical tables with complicated headers. TaBERT, without joint coordinates from bi-dimensions, employs row-wise attention and subsequent column-wise attention. Due to such indirect position encoding, it performs not as well on CTC.</p>
</div>
<div id="S4.SS1.p6" class="ltx_para">
<p id="S4.SS1.p6.1" class="ltx_p">In Table <a href="#S4.T3" title="Table 3 ‣ 4.1. Cell Type Classification (CTC) ‣ 4. Experiments ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we also dig deeper into F1-scores for each cell type in WebSheet, where TUTA consistently achieves the highest score.
Note that, WebSheet, to perform relational data extraction, further categorizes the header cells into fine-grained types. This is a quite challenging task, for table headers have diverse semantics under complicated hierarchies. Hence, it significantly demonstrates the superiority of TUTA in discriminating fine-grained cell types.</p>
</div>
<figure id="S4.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3. </span> Results of F1-scores on CTC datasets. IN, I, and VN stand for the IndexName, Index, and ValueName types. </figcaption>
<div id="S4.T3.5.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:287.5pt;height:122.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-25.4pt,10.8pt) scale(0.85,0.85) ;">
<table id="S4.T3.5.5.5" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T3.5.5.5.6.1" class="ltx_tr">
<th id="S4.T3.5.5.5.6.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T3.5.5.5.6.1.1.1" class="ltx_text">(%)</span></th>
<td id="S4.T3.5.5.5.6.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="4">WebSheet</td>
<td id="S4.T3.5.5.5.6.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.5.5.5.6.1.3.1" class="ltx_text">DeEx</span></td>
<td id="S4.T3.5.5.5.6.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.5.5.5.6.1.4.1" class="ltx_text">SAUS</span></td>
<td id="S4.T3.5.5.5.6.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.5.5.5.6.1.5.1" class="ltx_text">CIUS</span></td>
<td id="S4.T3.5.5.5.6.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.5.5.5.6.1.6.1" class="ltx_text">Total</span></td>
</tr>
<tr id="S4.T3.5.5.5.7.2" class="ltx_tr">
<td id="S4.T3.5.5.5.7.2.1" class="ltx_td ltx_align_center">IN</td>
<td id="S4.T3.5.5.5.7.2.2" class="ltx_td ltx_align_center">I</td>
<td id="S4.T3.5.5.5.7.2.3" class="ltx_td ltx_align_center">VN</td>
<td id="S4.T3.5.5.5.7.2.4" class="ltx_td ltx_align_center ltx_border_r">Macro-</td>
<td id="S4.T3.5.5.5.7.2.5" class="ltx_td ltx_align_center ltx_border_r" colspan="3">Macro-</td>
<td id="S4.T3.5.5.5.7.2.6" class="ltx_td ltx_align_center">Avg.</td>
</tr>
<tr id="S4.T3.1.1.1.1" class="ltx_tr">
<th id="S4.T3.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">CNN<math id="S4.T3.1.1.1.1.1.m1.1" class="ltx_Math" alttext="{}^{{}_{{}^{BERT}}}" display="inline"><semantics id="S4.T3.1.1.1.1.1.m1.1a"><msup id="S4.T3.1.1.1.1.1.m1.1.1" xref="S4.T3.1.1.1.1.1.m1.1.1.cmml"><mi id="S4.T3.1.1.1.1.1.m1.1.1a" xref="S4.T3.1.1.1.1.1.m1.1.1.cmml"></mi><msub id="S4.T3.1.1.1.1.1.m1.1.1.1" xref="S4.T3.1.1.1.1.1.m1.1.1.1.cmml"><mi id="S4.T3.1.1.1.1.1.m1.1.1.1a" xref="S4.T3.1.1.1.1.1.m1.1.1.1.cmml"></mi><msup id="S4.T3.1.1.1.1.1.m1.1.1.1.1" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.cmml"><mi id="S4.T3.1.1.1.1.1.m1.1.1.1.1a" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.cmml"></mi><mrow id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.cmml"><mi id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.2" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.2.cmml">B</mi><mo lspace="0em" rspace="0em" id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.1" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.3" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.3.cmml">E</mi><mo lspace="0em" rspace="0em" id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.1a" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.4" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.4.cmml">R</mi><mo lspace="0em" rspace="0em" id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.1b" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.5" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.5.cmml">T</mi></mrow></msup></msub></msup><annotation-xml encoding="MathML-Content" id="S4.T3.1.1.1.1.1.m1.1b"><apply id="S4.T3.1.1.1.1.1.m1.1.1.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1"><apply id="S4.T3.1.1.1.1.1.m1.1.1.1.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.1"><apply id="S4.T3.1.1.1.1.1.m1.1.1.1.1.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1"><apply id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1"><times id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.1.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.1"></times><ci id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.2.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.2">𝐵</ci><ci id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.3.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.3">𝐸</ci><ci id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.4.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.4">𝑅</ci><ci id="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.5.cmml" xref="S4.T3.1.1.1.1.1.m1.1.1.1.1.1.5">𝑇</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.1.1.1.1.1.m1.1c">{}^{{}_{{}^{BERT}}}</annotation></semantics></math>
</th>
<td id="S4.T3.1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_t">69.9</td>
<td id="S4.T3.1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t">86.9</td>
<td id="S4.T3.1.1.1.1.4" class="ltx_td ltx_align_center ltx_border_t">78.4</td>
<td id="S4.T3.1.1.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">78.4</td>
<td id="S4.T3.1.1.1.1.6" class="ltx_td ltx_align_center ltx_border_t">60.8</td>
<td id="S4.T3.1.1.1.1.7" class="ltx_td ltx_align_center ltx_border_t">89.1</td>
<td id="S4.T3.1.1.1.1.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">95.1</td>
<td id="S4.T3.1.1.1.1.9" class="ltx_td ltx_align_center ltx_border_t">80.9</td>
</tr>
<tr id="S4.T3.2.2.2.2" class="ltx_tr">
<th id="S4.T3.2.2.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">RNN<math id="S4.T3.2.2.2.2.1.m1.1" class="ltx_Math" alttext="{}^{{}_{{}^{C+S}}}" display="inline"><semantics id="S4.T3.2.2.2.2.1.m1.1a"><msup id="S4.T3.2.2.2.2.1.m1.1.1" xref="S4.T3.2.2.2.2.1.m1.1.1.cmml"><mi id="S4.T3.2.2.2.2.1.m1.1.1a" xref="S4.T3.2.2.2.2.1.m1.1.1.cmml"></mi><msub id="S4.T3.2.2.2.2.1.m1.1.1.1" xref="S4.T3.2.2.2.2.1.m1.1.1.1.cmml"><mi id="S4.T3.2.2.2.2.1.m1.1.1.1a" xref="S4.T3.2.2.2.2.1.m1.1.1.1.cmml"></mi><msup id="S4.T3.2.2.2.2.1.m1.1.1.1.1" xref="S4.T3.2.2.2.2.1.m1.1.1.1.1.cmml"><mi id="S4.T3.2.2.2.2.1.m1.1.1.1.1a" xref="S4.T3.2.2.2.2.1.m1.1.1.1.1.cmml"></mi><mrow id="S4.T3.2.2.2.2.1.m1.1.1.1.1.1" xref="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.cmml"><mi id="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.2" xref="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.2.cmml">C</mi><mo id="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.1" xref="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.1.cmml">+</mo><mi id="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.3" xref="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.3.cmml">S</mi></mrow></msup></msub></msup><annotation-xml encoding="MathML-Content" id="S4.T3.2.2.2.2.1.m1.1b"><apply id="S4.T3.2.2.2.2.1.m1.1.1.cmml" xref="S4.T3.2.2.2.2.1.m1.1.1"><apply id="S4.T3.2.2.2.2.1.m1.1.1.1.cmml" xref="S4.T3.2.2.2.2.1.m1.1.1.1"><apply id="S4.T3.2.2.2.2.1.m1.1.1.1.1.cmml" xref="S4.T3.2.2.2.2.1.m1.1.1.1.1"><apply id="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.cmml" xref="S4.T3.2.2.2.2.1.m1.1.1.1.1.1"><plus id="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.1.cmml" xref="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.1"></plus><ci id="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.2.cmml" xref="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.2">𝐶</ci><ci id="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.3.cmml" xref="S4.T3.2.2.2.2.1.m1.1.1.1.1.1.3">𝑆</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.2.2.2.1.m1.1c">{}^{{}_{{}^{C+S}}}</annotation></semantics></math>
</th>
<td id="S4.T3.2.2.2.2.2" class="ltx_td ltx_align_center ltx_border_t">75.0</td>
<td id="S4.T3.2.2.2.2.3" class="ltx_td ltx_align_center ltx_border_t">86.6</td>
<td id="S4.T3.2.2.2.2.4" class="ltx_td ltx_align_center ltx_border_t">77.1</td>
<td id="S4.T3.2.2.2.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">79.6</td>
<td id="S4.T3.2.2.2.2.6" class="ltx_td ltx_align_center ltx_border_t">70.5</td>
<td id="S4.T3.2.2.2.2.7" class="ltx_td ltx_align_center ltx_border_t">89.8</td>
<td id="S4.T3.2.2.2.2.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">97.2</td>
<td id="S4.T3.2.2.2.2.9" class="ltx_td ltx_align_center ltx_border_t">84.3</td>
</tr>
<tr id="S4.T3.3.3.3.3" class="ltx_tr">
<th id="S4.T3.3.3.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">PSL<math id="S4.T3.3.3.3.3.1.m1.1" class="ltx_Math" alttext="{}^{{}_{{}^{RF}}}" display="inline"><semantics id="S4.T3.3.3.3.3.1.m1.1a"><msup id="S4.T3.3.3.3.3.1.m1.1.1" xref="S4.T3.3.3.3.3.1.m1.1.1.cmml"><mi id="S4.T3.3.3.3.3.1.m1.1.1a" xref="S4.T3.3.3.3.3.1.m1.1.1.cmml"></mi><msub id="S4.T3.3.3.3.3.1.m1.1.1.1" xref="S4.T3.3.3.3.3.1.m1.1.1.1.cmml"><mi id="S4.T3.3.3.3.3.1.m1.1.1.1a" xref="S4.T3.3.3.3.3.1.m1.1.1.1.cmml"></mi><msup id="S4.T3.3.3.3.3.1.m1.1.1.1.1" xref="S4.T3.3.3.3.3.1.m1.1.1.1.1.cmml"><mi id="S4.T3.3.3.3.3.1.m1.1.1.1.1a" xref="S4.T3.3.3.3.3.1.m1.1.1.1.1.cmml"></mi><mrow id="S4.T3.3.3.3.3.1.m1.1.1.1.1.1" xref="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.cmml"><mi id="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.2" xref="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.1" xref="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.1.cmml">​</mo><mi id="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.3" xref="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.3.cmml">F</mi></mrow></msup></msub></msup><annotation-xml encoding="MathML-Content" id="S4.T3.3.3.3.3.1.m1.1b"><apply id="S4.T3.3.3.3.3.1.m1.1.1.cmml" xref="S4.T3.3.3.3.3.1.m1.1.1"><apply id="S4.T3.3.3.3.3.1.m1.1.1.1.cmml" xref="S4.T3.3.3.3.3.1.m1.1.1.1"><apply id="S4.T3.3.3.3.3.1.m1.1.1.1.1.cmml" xref="S4.T3.3.3.3.3.1.m1.1.1.1.1"><apply id="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.cmml" xref="S4.T3.3.3.3.3.1.m1.1.1.1.1.1"><times id="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.1.cmml" xref="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.1"></times><ci id="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.2.cmml" xref="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.2">𝑅</ci><ci id="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.3.cmml" xref="S4.T3.3.3.3.3.1.m1.1.1.1.1.1.3">𝐹</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.3.3.3.3.1.m1.1c">{}^{{}_{{}^{RF}}}</annotation></semantics></math>
</th>
<td id="S4.T3.3.3.3.3.2" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S4.T3.3.3.3.3.3" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S4.T3.3.3.3.3.4" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S4.T3.3.3.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
<td id="S4.T3.3.3.3.3.6" class="ltx_td ltx_align_center ltx_border_t">62.7</td>
<td id="S4.T3.3.3.3.3.7" class="ltx_td ltx_align_center ltx_border_t">89.4</td>
<td id="S4.T3.3.3.3.3.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">96.7</td>
<td id="S4.T3.3.3.3.3.9" class="ltx_td ltx_align_center ltx_border_t">-</td>
</tr>
<tr id="S4.T3.4.4.4.4" class="ltx_tr">
<th id="S4.T3.4.4.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">TaBERT<math id="S4.T3.4.4.4.4.1.m1.1" class="ltx_Math" alttext="{}^{{}_{{}^{L}}}" display="inline"><semantics id="S4.T3.4.4.4.4.1.m1.1a"><msup id="S4.T3.4.4.4.4.1.m1.1.1" xref="S4.T3.4.4.4.4.1.m1.1.1.cmml"><mi id="S4.T3.4.4.4.4.1.m1.1.1a" xref="S4.T3.4.4.4.4.1.m1.1.1.cmml"></mi><msub id="S4.T3.4.4.4.4.1.m1.1.1.1" xref="S4.T3.4.4.4.4.1.m1.1.1.1.cmml"><mi id="S4.T3.4.4.4.4.1.m1.1.1.1a" xref="S4.T3.4.4.4.4.1.m1.1.1.1.cmml"></mi><msup id="S4.T3.4.4.4.4.1.m1.1.1.1.1" xref="S4.T3.4.4.4.4.1.m1.1.1.1.1.cmml"><mi id="S4.T3.4.4.4.4.1.m1.1.1.1.1a" xref="S4.T3.4.4.4.4.1.m1.1.1.1.1.cmml"></mi><mi id="S4.T3.4.4.4.4.1.m1.1.1.1.1.1" xref="S4.T3.4.4.4.4.1.m1.1.1.1.1.1.cmml">L</mi></msup></msub></msup><annotation-xml encoding="MathML-Content" id="S4.T3.4.4.4.4.1.m1.1b"><apply id="S4.T3.4.4.4.4.1.m1.1.1.cmml" xref="S4.T3.4.4.4.4.1.m1.1.1"><apply id="S4.T3.4.4.4.4.1.m1.1.1.1.cmml" xref="S4.T3.4.4.4.4.1.m1.1.1.1"><apply id="S4.T3.4.4.4.4.1.m1.1.1.1.1.cmml" xref="S4.T3.4.4.4.4.1.m1.1.1.1.1"><ci id="S4.T3.4.4.4.4.1.m1.1.1.1.1.1.cmml" xref="S4.T3.4.4.4.4.1.m1.1.1.1.1.1">𝐿</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.4.4.4.4.1.m1.1c">{}^{{}_{{}^{L}}}</annotation></semantics></math>
</th>
<td id="S4.T3.4.4.4.4.2" class="ltx_td ltx_align_center ltx_border_t">76.8</td>
<td id="S4.T3.4.4.4.4.3" class="ltx_td ltx_align_center ltx_border_t">85.2</td>
<td id="S4.T3.4.4.4.4.4" class="ltx_td ltx_align_center ltx_border_t">75.8</td>
<td id="S4.T3.4.4.4.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">79.3</td>
<td id="S4.T3.4.4.4.4.6" class="ltx_td ltx_align_center ltx_border_t">50.0</td>
<td id="S4.T3.4.4.4.4.7" class="ltx_td ltx_align_center ltx_border_t">78.9</td>
<td id="S4.T3.4.4.4.4.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">92.9</td>
<td id="S4.T3.4.4.4.4.9" class="ltx_td ltx_align_center ltx_border_t">75.3</td>
</tr>
<tr id="S4.T3.5.5.5.5" class="ltx_tr">
<th id="S4.T3.5.5.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">TAPAS<math id="S4.T3.5.5.5.5.1.m1.1" class="ltx_Math" alttext="{}^{{}_{{}^{L}}}" display="inline"><semantics id="S4.T3.5.5.5.5.1.m1.1a"><msup id="S4.T3.5.5.5.5.1.m1.1.1" xref="S4.T3.5.5.5.5.1.m1.1.1.cmml"><mi id="S4.T3.5.5.5.5.1.m1.1.1a" xref="S4.T3.5.5.5.5.1.m1.1.1.cmml"></mi><msub id="S4.T3.5.5.5.5.1.m1.1.1.1" xref="S4.T3.5.5.5.5.1.m1.1.1.1.cmml"><mi id="S4.T3.5.5.5.5.1.m1.1.1.1a" xref="S4.T3.5.5.5.5.1.m1.1.1.1.cmml"></mi><msup id="S4.T3.5.5.5.5.1.m1.1.1.1.1" xref="S4.T3.5.5.5.5.1.m1.1.1.1.1.cmml"><mi id="S4.T3.5.5.5.5.1.m1.1.1.1.1a" xref="S4.T3.5.5.5.5.1.m1.1.1.1.1.cmml"></mi><mi id="S4.T3.5.5.5.5.1.m1.1.1.1.1.1" xref="S4.T3.5.5.5.5.1.m1.1.1.1.1.1.cmml">L</mi></msup></msub></msup><annotation-xml encoding="MathML-Content" id="S4.T3.5.5.5.5.1.m1.1b"><apply id="S4.T3.5.5.5.5.1.m1.1.1.cmml" xref="S4.T3.5.5.5.5.1.m1.1.1"><apply id="S4.T3.5.5.5.5.1.m1.1.1.1.cmml" xref="S4.T3.5.5.5.5.1.m1.1.1.1"><apply id="S4.T3.5.5.5.5.1.m1.1.1.1.1.cmml" xref="S4.T3.5.5.5.5.1.m1.1.1.1.1"><ci id="S4.T3.5.5.5.5.1.m1.1.1.1.1.1.cmml" xref="S4.T3.5.5.5.5.1.m1.1.1.1.1.1">𝐿</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.5.5.5.5.1.m1.1c">{}^{{}_{{}^{L}}}</annotation></semantics></math>
</th>
<td id="S4.T3.5.5.5.5.2" class="ltx_td ltx_align_center ltx_border_t">74.3</td>
<td id="S4.T3.5.5.5.5.3" class="ltx_td ltx_align_center ltx_border_t">88.1</td>
<td id="S4.T3.5.5.5.5.4" class="ltx_td ltx_align_center ltx_border_t">84.6</td>
<td id="S4.T3.5.5.5.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">82.3</td>
<td id="S4.T3.5.5.5.5.6" class="ltx_td ltx_align_center ltx_border_t">68.6</td>
<td id="S4.T3.5.5.5.5.7" class="ltx_td ltx_align_center ltx_border_t">83.9</td>
<td id="S4.T3.5.5.5.5.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">94.1</td>
<td id="S4.T3.5.5.5.5.9" class="ltx_td ltx_align_center ltx_border_t">82.2</td>
</tr>
<tr id="S4.T3.5.5.5.8.3" class="ltx_tr">
<th id="S4.T3.5.5.5.8.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_t">TUTA</th>
<td id="S4.T3.5.5.5.8.3.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_t"><span id="S4.T3.5.5.5.8.3.2.1" class="ltx_text ltx_font_bold">83.4</span></td>
<td id="S4.T3.5.5.5.8.3.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_t"><span id="S4.T3.5.5.5.8.3.3.1" class="ltx_text ltx_font_bold">91.6</span></td>
<td id="S4.T3.5.5.5.8.3.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_t"><span id="S4.T3.5.5.5.8.3.4.1" class="ltx_text ltx_font_bold">84.8</span></td>
<td id="S4.T3.5.5.5.8.3.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T3.5.5.5.8.3.5.1" class="ltx_text ltx_font_bold">86.6</span></td>
<td id="S4.T3.5.5.5.8.3.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_t"><span id="S4.T3.5.5.5.8.3.6.1" class="ltx_text ltx_font_bold">76.6</span></td>
<td id="S4.T3.5.5.5.8.3.7" class="ltx_td ltx_align_center ltx_border_b ltx_border_t"><span id="S4.T3.5.5.5.8.3.7.1" class="ltx_text ltx_font_bold">90.2</span></td>
<td id="S4.T3.5.5.5.8.3.8" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T3.5.5.5.8.3.8.1" class="ltx_text ltx_font_bold">99.0</span></td>
<td id="S4.T3.5.5.5.8.3.9" class="ltx_td ltx_align_center ltx_border_b ltx_border_t"><span id="S4.T3.5.5.5.8.3.9.1" class="ltx_text ltx_font_bold">88.1</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Table Type Classification (TTC)</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">In this section, we use a table-level task, TTC, to further validate the effectiveness of TUTA on grasping table-level information. It is a critical task on table structural type classification, and also receives lots of attention <cite class="ltx_cite ltx_citemacro_citep">(Ghasemi-Gol and
Szekely, <a href="#bib.bib17" title="" class="ltx_ref">2018</a>; Nishida <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2017</a>; Eberius <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib14" title="" class="ltx_ref">2015</a>; Lautert <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib26" title="" class="ltx_ref">2013</a>; Crestan and Pantel, <a href="#bib.bib7" title="" class="ltx_ref">2011</a>)</cite>.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para ltx_noindent">
<p id="S4.SS2.p2.1" class="ltx_p"><span id="S4.SS2.p2.1.1" class="ltx_text ltx_font_bold">Dataset</span>  There are various taxonomies for categorizing table types  <cite class="ltx_cite ltx_citemacro_citep">(Eberius <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib14" title="" class="ltx_ref">2015</a>; Lautert <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib26" title="" class="ltx_ref">2013</a>; Crestan and Pantel, <a href="#bib.bib7" title="" class="ltx_ref">2011</a>)</cite>, however, most datasets are not publicly available, except <span id="S4.SS2.p2.1.2" class="ltx_text ltx_font_slanted">the July 2015 Common Crawl</span> (WCC) in <cite class="ltx_cite ltx_citemacro_citep">(Ghasemi-Gol and
Szekely, <a href="#bib.bib17" title="" class="ltx_ref">2018</a>)</cite>. Fortunately, this dataset annotates with one of the most general web table taxonomy introduced by <cite class="ltx_cite ltx_citemacro_citep">(Crestan and Pantel, <a href="#bib.bib7" title="" class="ltx_ref">2011</a>)</cite>. Tables are categorized into five types: relational (R), entity (E), matrix (M), list (L), and non-data (ND).</p>
</div>
<div id="S4.SS2.p3" class="ltx_para ltx_noindent">
<p id="S4.SS2.p3.1" class="ltx_p"><span id="S4.SS2.p3.1.1" class="ltx_text ltx_font_bold">Baselines</span>  We compare TUTA with five strong baselines on TTC:
(1) DWTC <cite class="ltx_cite ltx_citemacro_citep">(Eberius <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib14" title="" class="ltx_ref">2015</a>)</cite>: a Random Forest method based on expert-engineered global and local features,
(2) TabNet <cite class="ltx_cite ltx_citemacro_citep">(Nishida <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2017</a>)</cite>: a hybrid method combining LSTM and CNN,
(3) TabVec <cite class="ltx_cite ltx_citemacro_citep">(Ghasemi-Gol and
Szekely, <a href="#bib.bib17" title="" class="ltx_ref">2018</a>)</cite>: an unsupervised clustering method based on expert-engineered table-level encodings.
Due to the absence of public code and data for DWTC and TabNet, we borrow their evaluation results on WCC from <cite class="ltx_cite ltx_citemacro_citep">(Ghasemi-Gol and
Szekely, <a href="#bib.bib17" title="" class="ltx_ref">2018</a>)</cite>.
(4)(5) Similarly to CTC, we also include TAPAS-large and TaBERT-large as two strong baselines.</p>
</div>
<div id="S4.SS2.p4" class="ltx_para ltx_noindent">
<p id="S4.SS2.p4.1" class="ltx_p"><span id="S4.SS2.p4.1.1" class="ltx_text ltx_font_bold">Fine-tune</span>  We tokenize, embed, and encode WCC tables as in Section <a href="#S3" title="3. TUTA Model ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.
We use <math id="S4.SS2.p4.1.m1.1" class="ltx_Math" alttext="[CLS]" display="inline"><semantics id="S4.SS2.p4.1.m1.1a"><mrow id="S4.SS2.p4.1.m1.1.1.1" xref="S4.SS2.p4.1.m1.1.1.2.cmml"><mo stretchy="false" id="S4.SS2.p4.1.m1.1.1.1.2" xref="S4.SS2.p4.1.m1.1.1.2.1.cmml">[</mo><mrow id="S4.SS2.p4.1.m1.1.1.1.1" xref="S4.SS2.p4.1.m1.1.1.1.1.cmml"><mi id="S4.SS2.p4.1.m1.1.1.1.1.2" xref="S4.SS2.p4.1.m1.1.1.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p4.1.m1.1.1.1.1.1" xref="S4.SS2.p4.1.m1.1.1.1.1.1.cmml">​</mo><mi id="S4.SS2.p4.1.m1.1.1.1.1.3" xref="S4.SS2.p4.1.m1.1.1.1.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p4.1.m1.1.1.1.1.1a" xref="S4.SS2.p4.1.m1.1.1.1.1.1.cmml">​</mo><mi id="S4.SS2.p4.1.m1.1.1.1.1.4" xref="S4.SS2.p4.1.m1.1.1.1.1.4.cmml">S</mi></mrow><mo stretchy="false" id="S4.SS2.p4.1.m1.1.1.1.3" xref="S4.SS2.p4.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.1.m1.1b"><apply id="S4.SS2.p4.1.m1.1.1.2.cmml" xref="S4.SS2.p4.1.m1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p4.1.m1.1.1.2.1.cmml" xref="S4.SS2.p4.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="S4.SS2.p4.1.m1.1.1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1.1.1"><times id="S4.SS2.p4.1.m1.1.1.1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1.1.1.1"></times><ci id="S4.SS2.p4.1.m1.1.1.1.1.2.cmml" xref="S4.SS2.p4.1.m1.1.1.1.1.2">𝐶</ci><ci id="S4.SS2.p4.1.m1.1.1.1.1.3.cmml" xref="S4.SS2.p4.1.m1.1.1.1.1.3">𝐿</ci><ci id="S4.SS2.p4.1.m1.1.1.1.1.4.cmml" xref="S4.SS2.p4.1.m1.1.1.1.1.4">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.1.m1.1c">[CLS]</annotation></semantics></math> to do multi-type classification.
Following the training and testing pipeline in <cite class="ltx_cite ltx_citemacro_citep">(Ghasemi-Gol and
Szekely, <a href="#bib.bib17" title="" class="ltx_ref">2018</a>)</cite>, we use 10-fold cross-validation.
Read more details about data and parameters in Appendix <a href="#A3.SS3" title="C.3. Downstream tasks ‣ Appendix C Experiment details ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.3</span></a>.</p>
</div>
<div id="S4.SS2.p5" class="ltx_para ltx_noindent">
<p id="S4.SS2.p5.1" class="ltx_p"><span id="S4.SS2.p5.1.1" class="ltx_text ltx_font_bold">Experiment results</span>  Table <a href="#S4.T4" title="Table 4 ‣ 4.2. Table Type Classification (TTC) ‣ 4. Experiments ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> lists F1-scores on five table types and overall macro-F1 scores.
TUTA outperforms all baselines by a large margin (4.0%+) on macro-F1.
Comparison results also show some interesting insights:
(1) Although in the CTC task, TaBERT performs worse than Tapas due to neglecting bi-dimensional cell coordinates, in TTC, TaBERT outperforms TAPAS by a large margin. We think the underlying reason is that the sequent row-wise and column-wise attention helps TaBERT better capture global information than TAPAS.
(2) DWTC achieves a high macro-F1 score, but fails to give correct predictions for the List type. After our study, we find that DWTC uses different table type definitions from WCC, especially for the List type, thus the expert-engineered features are too dedicated to achieving desirable results on WCC. In contrast, representation learning methods are more transferable from one taxonomy to another.
(3) TabNet fails to get reasonable results on most table types <cite class="ltx_cite ltx_citemacro_citep">(Ghasemi-Gol and
Szekely, <a href="#bib.bib17" title="" class="ltx_ref">2018</a>)</cite>. We believe the reason is that the model size of TabNet (a combination of CNN and RNN) is too large to perform well on tiny datasets (WCC has <math id="S4.SS2.p5.1.m1.1" class="ltx_Math" alttext="386" display="inline"><semantics id="S4.SS2.p5.1.m1.1a"><mn id="S4.SS2.p5.1.m1.1.1" xref="S4.SS2.p5.1.m1.1.1.cmml">386</mn><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.1.m1.1b"><cn type="integer" id="S4.SS2.p5.1.m1.1.1.cmml" xref="S4.SS2.p5.1.m1.1.1">386</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.1.m1.1c">386</annotation></semantics></math> annotated tables in total). In contrast, TUTA, TAPAS, and TaBERT can generalize well to downstream tasks via self-supervised pre-training.</p>
</div>
<figure id="S4.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4. </span> Evaluation results on WCC. R, E, M, L, ND stand for relational, entity, matrix, list, and non-data table types. </figcaption>
<table id="S4.T4.2.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.2.2.3.1" class="ltx_tr">
<th id="S4.T4.2.2.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t">(%)</th>
<th id="S4.T4.2.2.3.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">R</th>
<th id="S4.T4.2.2.3.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">E</th>
<th id="S4.T4.2.2.3.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">M</th>
<th id="S4.T4.2.2.3.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">L</th>
<th id="S4.T4.2.2.3.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">ND</th>
<th id="S4.T4.2.2.3.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Macro-F1</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.2.2.4.1" class="ltx_tr">
<th id="S4.T4.2.2.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">DWTC</th>
<td id="S4.T4.2.2.4.1.2" class="ltx_td ltx_align_center ltx_border_t">83.0</td>
<td id="S4.T4.2.2.4.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.2.2.4.1.3.1" class="ltx_text ltx_font_bold">91.0</span></td>
<td id="S4.T4.2.2.4.1.4" class="ltx_td ltx_align_center ltx_border_t">73.0</td>
<td id="S4.T4.2.2.4.1.5" class="ltx_td ltx_align_center ltx_border_t">0.0</td>
<td id="S4.T4.2.2.4.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">79.0</td>
<td id="S4.T4.2.2.4.1.7" class="ltx_td ltx_align_center ltx_border_t">79.0</td>
</tr>
<tr id="S4.T4.2.2.5.2" class="ltx_tr">
<th id="S4.T4.2.2.5.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">TabVec</th>
<td id="S4.T4.2.2.5.2.2" class="ltx_td ltx_align_center ltx_border_t">70.0</td>
<td id="S4.T4.2.2.5.2.3" class="ltx_td ltx_align_center ltx_border_t">53.0</td>
<td id="S4.T4.2.2.5.2.4" class="ltx_td ltx_align_center ltx_border_t">47.0</td>
<td id="S4.T4.2.2.5.2.5" class="ltx_td ltx_align_center ltx_border_t">55.0</td>
<td id="S4.T4.2.2.5.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">71.0</td>
<td id="S4.T4.2.2.5.2.7" class="ltx_td ltx_align_center ltx_border_t">63.0</td>
</tr>
<tr id="S4.T4.2.2.6.3" class="ltx_tr">
<th id="S4.T4.2.2.6.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">TabNet</th>
<td id="S4.T4.2.2.6.3.2" class="ltx_td ltx_align_center ltx_border_t">9.0</td>
<td id="S4.T4.2.2.6.3.3" class="ltx_td ltx_align_center ltx_border_t">41.0</td>
<td id="S4.T4.2.2.6.3.4" class="ltx_td ltx_align_center ltx_border_t">9.0</td>
<td id="S4.T4.2.2.6.3.5" class="ltx_td ltx_align_center ltx_border_t">11.0</td>
<td id="S4.T4.2.2.6.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">25.0</td>
<td id="S4.T4.2.2.6.3.7" class="ltx_td ltx_align_center ltx_border_t">27.0</td>
</tr>
<tr id="S4.T4.1.1.1" class="ltx_tr">
<th id="S4.T4.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">TAPAS<math id="S4.T4.1.1.1.1.m1.1" class="ltx_Math" alttext="{}^{{}_{{}^{L}}}" display="inline"><semantics id="S4.T4.1.1.1.1.m1.1a"><msup id="S4.T4.1.1.1.1.m1.1.1" xref="S4.T4.1.1.1.1.m1.1.1.cmml"><mi id="S4.T4.1.1.1.1.m1.1.1a" xref="S4.T4.1.1.1.1.m1.1.1.cmml"></mi><msub id="S4.T4.1.1.1.1.m1.1.1.1" xref="S4.T4.1.1.1.1.m1.1.1.1.cmml"><mi id="S4.T4.1.1.1.1.m1.1.1.1a" xref="S4.T4.1.1.1.1.m1.1.1.1.cmml"></mi><msup id="S4.T4.1.1.1.1.m1.1.1.1.1" xref="S4.T4.1.1.1.1.m1.1.1.1.1.cmml"><mi id="S4.T4.1.1.1.1.m1.1.1.1.1a" xref="S4.T4.1.1.1.1.m1.1.1.1.1.cmml"></mi><mi id="S4.T4.1.1.1.1.m1.1.1.1.1.1" xref="S4.T4.1.1.1.1.m1.1.1.1.1.1.cmml">L</mi></msup></msub></msup><annotation-xml encoding="MathML-Content" id="S4.T4.1.1.1.1.m1.1b"><apply id="S4.T4.1.1.1.1.m1.1.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1"><apply id="S4.T4.1.1.1.1.m1.1.1.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1.1"><apply id="S4.T4.1.1.1.1.m1.1.1.1.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1.1.1"><ci id="S4.T4.1.1.1.1.m1.1.1.1.1.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1.1.1.1">𝐿</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.1.1.1.1.m1.1c">{}^{{}_{{}^{L}}}</annotation></semantics></math>
</th>
<td id="S4.T4.1.1.1.2" class="ltx_td ltx_align_center ltx_border_t">73.3</td>
<td id="S4.T4.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t">77.4</td>
<td id="S4.T4.1.1.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.1.1.1.4.1" class="ltx_text ltx_font_bold">90.5</span></td>
<td id="S4.T4.1.1.1.5" class="ltx_td ltx_align_center ltx_border_t">80.5</td>
<td id="S4.T4.1.1.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">78.5</td>
<td id="S4.T4.1.1.1.7" class="ltx_td ltx_align_center ltx_border_t">80.0</td>
</tr>
<tr id="S4.T4.2.2.2" class="ltx_tr">
<th id="S4.T4.2.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">TaBERT<math id="S4.T4.2.2.2.1.m1.1" class="ltx_Math" alttext="{}^{{}_{{}^{L}}}" display="inline"><semantics id="S4.T4.2.2.2.1.m1.1a"><msup id="S4.T4.2.2.2.1.m1.1.1" xref="S4.T4.2.2.2.1.m1.1.1.cmml"><mi id="S4.T4.2.2.2.1.m1.1.1a" xref="S4.T4.2.2.2.1.m1.1.1.cmml"></mi><msub id="S4.T4.2.2.2.1.m1.1.1.1" xref="S4.T4.2.2.2.1.m1.1.1.1.cmml"><mi id="S4.T4.2.2.2.1.m1.1.1.1a" xref="S4.T4.2.2.2.1.m1.1.1.1.cmml"></mi><msup id="S4.T4.2.2.2.1.m1.1.1.1.1" xref="S4.T4.2.2.2.1.m1.1.1.1.1.cmml"><mi id="S4.T4.2.2.2.1.m1.1.1.1.1a" xref="S4.T4.2.2.2.1.m1.1.1.1.1.cmml"></mi><mi id="S4.T4.2.2.2.1.m1.1.1.1.1.1" xref="S4.T4.2.2.2.1.m1.1.1.1.1.1.cmml">L</mi></msup></msub></msup><annotation-xml encoding="MathML-Content" id="S4.T4.2.2.2.1.m1.1b"><apply id="S4.T4.2.2.2.1.m1.1.1.cmml" xref="S4.T4.2.2.2.1.m1.1.1"><apply id="S4.T4.2.2.2.1.m1.1.1.1.cmml" xref="S4.T4.2.2.2.1.m1.1.1.1"><apply id="S4.T4.2.2.2.1.m1.1.1.1.1.cmml" xref="S4.T4.2.2.2.1.m1.1.1.1.1"><ci id="S4.T4.2.2.2.1.m1.1.1.1.1.1.cmml" xref="S4.T4.2.2.2.1.m1.1.1.1.1.1">𝐿</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.2.2.1.m1.1c">{}^{{}_{{}^{L}}}</annotation></semantics></math>
</th>
<td id="S4.T4.2.2.2.2" class="ltx_td ltx_align_center ltx_border_t">87.3</td>
<td id="S4.T4.2.2.2.3" class="ltx_td ltx_align_center ltx_border_t">87.5</td>
<td id="S4.T4.2.2.2.4" class="ltx_td ltx_align_center ltx_border_t">70.9</td>
<td id="S4.T4.2.2.2.5" class="ltx_td ltx_align_center ltx_border_t">86.0</td>
<td id="S4.T4.2.2.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">86.2</td>
<td id="S4.T4.2.2.2.7" class="ltx_td ltx_align_center ltx_border_t">83.6</td>
</tr>
<tr id="S4.T4.2.2.7.4" class="ltx_tr">
<th id="S4.T4.2.2.7.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_t">TUTA</th>
<td id="S4.T4.2.2.7.4.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_t"><span id="S4.T4.2.2.7.4.2.1" class="ltx_text ltx_font_bold">88.7</span></td>
<td id="S4.T4.2.2.7.4.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_t">77.9</td>
<td id="S4.T4.2.2.7.4.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_t">81.7</td>
<td id="S4.T4.2.2.7.4.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_t"><span id="S4.T4.2.2.7.4.5.1" class="ltx_text ltx_font_bold">100.0</span></td>
<td id="S4.T4.2.2.7.4.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T4.2.2.7.4.6.1" class="ltx_text ltx_font_bold">89.9</span></td>
<td id="S4.T4.2.2.7.4.7" class="ltx_td ltx_align_center ltx_border_b ltx_border_t"><span id="S4.T4.2.2.7.4.7.1" class="ltx_text ltx_font_bold">87.6</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Ablation studies</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">To validate the effectiveness of Tree-based Attention (TA), Position Embeddings (PE), and three pre-training objectives, we evaluate eight variants of TUTA.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p">We start with <span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_italic">TUTA-base</span> before using position embeddings to prove the function of using and varying TA distances. One variant without TA and three of visible distances <math id="S4.SS3.p2.1.m1.3" class="ltx_Math" alttext="8,4,2" display="inline"><semantics id="S4.SS3.p2.1.m1.3a"><mrow id="S4.SS3.p2.1.m1.3.4.2" xref="S4.SS3.p2.1.m1.3.4.1.cmml"><mn id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml">8</mn><mo id="S4.SS3.p2.1.m1.3.4.2.1" xref="S4.SS3.p2.1.m1.3.4.1.cmml">,</mo><mn id="S4.SS3.p2.1.m1.2.2" xref="S4.SS3.p2.1.m1.2.2.cmml">4</mn><mo id="S4.SS3.p2.1.m1.3.4.2.2" xref="S4.SS3.p2.1.m1.3.4.1.cmml">,</mo><mn id="S4.SS3.p2.1.m1.3.3" xref="S4.SS3.p2.1.m1.3.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.3b"><list id="S4.SS3.p2.1.m1.3.4.1.cmml" xref="S4.SS3.p2.1.m1.3.4.2"><cn type="integer" id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">8</cn><cn type="integer" id="S4.SS3.p2.1.m1.2.2.cmml" xref="S4.SS3.p2.1.m1.2.2">4</cn><cn type="integer" id="S4.SS3.p2.1.m1.3.3.cmml" xref="S4.SS3.p2.1.m1.3.3">2</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.3c">8,4,2</annotation></semantics></math> are tested.</p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p"><span id="S4.I1.i1.p1.1.1" class="ltx_text ltx_font_italic">TUTA-base, w/o TA</span>: cells are globally visible.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p"><span id="S4.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">TUTA-base, TA-8/4/2</span>: cells are visible in a distance of 8/4/2.</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.1" class="ltx_p">Upon this, we keep the distance threshold <math id="S4.SS3.p4.1.m1.1" class="ltx_Math" alttext="D=2" display="inline"><semantics id="S4.SS3.p4.1.m1.1a"><mrow id="S4.SS3.p4.1.m1.1.1" xref="S4.SS3.p4.1.m1.1.1.cmml"><mi id="S4.SS3.p4.1.m1.1.1.2" xref="S4.SS3.p4.1.m1.1.1.2.cmml">D</mi><mo id="S4.SS3.p4.1.m1.1.1.1" xref="S4.SS3.p4.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS3.p4.1.m1.1.1.3" xref="S4.SS3.p4.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.1.m1.1b"><apply id="S4.SS3.p4.1.m1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1"><eq id="S4.SS3.p4.1.m1.1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1.1"></eq><ci id="S4.SS3.p4.1.m1.1.1.2.cmml" xref="S4.SS3.p4.1.m1.1.1.2">𝐷</ci><cn type="integer" id="S4.SS3.p4.1.m1.1.1.3.cmml" xref="S4.SS3.p4.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.1.m1.1c">D=2</annotation></semantics></math> and augment TUTA-base with explicit or implicit positional embeddings.</p>
</div>
<div id="S4.SS3.p5" class="ltx_para">
<ul id="S4.I2" class="ltx_itemize">
<li id="S4.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i1.p1" class="ltx_para">
<p id="S4.I2.i1.p1.1" class="ltx_p"><span id="S4.I2.i1.p1.1.1" class="ltx_text ltx_font_italic">TUTA-implicit</span>: embed positions using trainable weights.</p>
</div>
</li>
<li id="S4.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i2.p1" class="ltx_para">
<p id="S4.I2.i2.p1.1" class="ltx_p"><span id="S4.I2.i2.p1.1.1" class="ltx_text ltx_font_italic">TUTA-explicit</span>: compute positional inputs explicitly as in <cite class="ltx_cite ltx_citemacro_citep">(Shiv and Quirk, <a href="#bib.bib36" title="" class="ltx_ref">2019</a>)</cite>.</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS3.p6" class="ltx_para">
<p id="S4.SS3.p6.1" class="ltx_p">Further, to measure the contribution of each objective, we respectively remove each from the <span id="S4.SS3.p6.1.1" class="ltx_text ltx_font_italic">TUTA-implicit</span> (the best so far).</p>
</div>
<div id="S4.SS3.p7" class="ltx_para">
<ul id="S4.I3" class="ltx_itemize">
<li id="S4.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I3.i1.p1" class="ltx_para">
<p id="S4.I3.i1.p1.1" class="ltx_p"><span id="S4.I3.i1.p1.1.1" class="ltx_text ltx_font_italic">TUTA, w/o MLM</span>; <span id="S4.I3.i1.p1.1.2" class="ltx_text ltx_font_italic">TUTA, w/o CLC</span>; <span id="S4.I3.i1.p1.1.3" class="ltx_text ltx_font_italic">TUTA, w/o TCR</span></p>
</div>
</li>
</ul>
</div>
<figure id="S4.T5" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5. </span> Ablation results on CTC and TTC datasets.</figcaption>
<div id="S4.T5.1" class="ltx_inline-block ltx_transformed_outer" style="width:309.4pt;height:176.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-19.1pt,10.9pt) scale(0.89,0.89) ;">
<table id="S4.T5.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T5.1.1.1.1" class="ltx_tr">
<th id="S4.T5.1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T5.1.1.1.1.1.1" class="ltx_text">Macro-F1 scores (%)</span></th>
<td id="S4.T5.1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="5">CTC</td>
<td id="S4.T5.1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t">TTC</td>
</tr>
<tr id="S4.T5.1.1.2.2" class="ltx_tr">
<td id="S4.T5.1.1.2.2.1" class="ltx_td ltx_align_center">WebSheet</td>
<td id="S4.T5.1.1.2.2.2" class="ltx_td ltx_align_center"><span id="S4.T5.1.1.2.2.2.1" class="ltx_text">DeEx</span></td>
<td id="S4.T5.1.1.2.2.3" class="ltx_td ltx_align_center"><span id="S4.T5.1.1.2.2.3.1" class="ltx_text">SAUS</span></td>
<td id="S4.T5.1.1.2.2.4" class="ltx_td ltx_align_center"><span id="S4.T5.1.1.2.2.4.1" class="ltx_text">CIUS</span></td>
<td id="S4.T5.1.1.2.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T5.1.1.2.2.5.1" class="ltx_text">Avg.</span></td>
<td id="S4.T5.1.1.2.2.6" class="ltx_td ltx_align_center"><span id="S4.T5.1.1.2.2.6.1" class="ltx_text">WCC</span></td>
</tr>
<tr id="S4.T5.1.1.3.3" class="ltx_tr">
<th id="S4.T5.1.1.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">TUTA-base, w/o TA</th>
<td id="S4.T5.1.1.3.3.2" class="ltx_td ltx_align_center ltx_border_t">76.3</td>
<td id="S4.T5.1.1.3.3.3" class="ltx_td ltx_align_center ltx_border_t">70.5</td>
<td id="S4.T5.1.1.3.3.4" class="ltx_td ltx_align_center ltx_border_t">80.0</td>
<td id="S4.T5.1.1.3.3.5" class="ltx_td ltx_align_center ltx_border_t">92.8</td>
<td id="S4.T5.1.1.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">79.9</td>
<td id="S4.T5.1.1.3.3.7" class="ltx_td ltx_align_center ltx_border_t">77.4</td>
</tr>
<tr id="S4.T5.1.1.4.4" class="ltx_tr">
<th id="S4.T5.1.1.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">TUTA-base, TA-8</th>
<td id="S4.T5.1.1.4.4.2" class="ltx_td ltx_align_center">80.0</td>
<td id="S4.T5.1.1.4.4.3" class="ltx_td ltx_align_center">71.1</td>
<td id="S4.T5.1.1.4.4.4" class="ltx_td ltx_align_center">80.5</td>
<td id="S4.T5.1.1.4.4.5" class="ltx_td ltx_align_center">93.2</td>
<td id="S4.T5.1.1.4.4.6" class="ltx_td ltx_align_center ltx_border_r">81.2</td>
<td id="S4.T5.1.1.4.4.7" class="ltx_td ltx_align_center">78.0</td>
</tr>
<tr id="S4.T5.1.1.5.5" class="ltx_tr">
<th id="S4.T5.1.1.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">TUTA-base, TA-4</th>
<td id="S4.T5.1.1.5.5.2" class="ltx_td ltx_align_center">81.5</td>
<td id="S4.T5.1.1.5.5.3" class="ltx_td ltx_align_center">73.8</td>
<td id="S4.T5.1.1.5.5.4" class="ltx_td ltx_align_center">80.9</td>
<td id="S4.T5.1.1.5.5.5" class="ltx_td ltx_align_center">95.6</td>
<td id="S4.T5.1.1.5.5.6" class="ltx_td ltx_align_center ltx_border_r">83.0</td>
<td id="S4.T5.1.1.5.5.7" class="ltx_td ltx_align_center">81.4</td>
</tr>
<tr id="S4.T5.1.1.6.6" class="ltx_tr">
<th id="S4.T5.1.1.6.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">TUTA-base, TA-2</th>
<td id="S4.T5.1.1.6.6.2" class="ltx_td ltx_align_center">84.5</td>
<td id="S4.T5.1.1.6.6.3" class="ltx_td ltx_align_center">75.5</td>
<td id="S4.T5.1.1.6.6.4" class="ltx_td ltx_align_center">84.6</td>
<td id="S4.T5.1.1.6.6.5" class="ltx_td ltx_align_center">96.7</td>
<td id="S4.T5.1.1.6.6.6" class="ltx_td ltx_align_center ltx_border_r">85.3</td>
<td id="S4.T5.1.1.6.6.7" class="ltx_td ltx_align_center">82.4</td>
</tr>
<tr id="S4.T5.1.1.7.7" class="ltx_tr">
<th id="S4.T5.1.1.7.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">TUTA-explicit</th>
<td id="S4.T5.1.1.7.7.2" class="ltx_td ltx_align_center ltx_border_t">86.5</td>
<td id="S4.T5.1.1.7.7.3" class="ltx_td ltx_align_center ltx_border_t">76.0</td>
<td id="S4.T5.1.1.7.7.4" class="ltx_td ltx_align_center ltx_border_t">89.7</td>
<td id="S4.T5.1.1.7.7.5" class="ltx_td ltx_align_center ltx_border_t">98.8</td>
<td id="S4.T5.1.1.7.7.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">87.8</td>
<td id="S4.T5.1.1.7.7.7" class="ltx_td ltx_align_center ltx_border_t">85.0</td>
</tr>
<tr id="S4.T5.1.1.8.8" class="ltx_tr">
<th id="S4.T5.1.1.8.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">TUTA-implicit</th>
<td id="S4.T5.1.1.8.8.2" class="ltx_td ltx_align_center"><span id="S4.T5.1.1.8.8.2.1" class="ltx_text ltx_font_bold">86.6</span></td>
<td id="S4.T5.1.1.8.8.3" class="ltx_td ltx_align_center"><span id="S4.T5.1.1.8.8.3.1" class="ltx_text ltx_font_bold">76.6</span></td>
<td id="S4.T5.1.1.8.8.4" class="ltx_td ltx_align_center"><span id="S4.T5.1.1.8.8.4.1" class="ltx_text ltx_font_bold">90.2</span></td>
<td id="S4.T5.1.1.8.8.5" class="ltx_td ltx_align_center"><span id="S4.T5.1.1.8.8.5.1" class="ltx_text ltx_font_bold">99.0</span></td>
<td id="S4.T5.1.1.8.8.6" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T5.1.1.8.8.6.1" class="ltx_text ltx_font_bold">88.1</span></td>
<td id="S4.T5.1.1.8.8.7" class="ltx_td ltx_align_center"><span id="S4.T5.1.1.8.8.7.1" class="ltx_text ltx_font_bold">87.6</span></td>
</tr>
<tr id="S4.T5.1.1.9.9" class="ltx_tr">
<th id="S4.T5.1.1.9.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">TUTA, w/o MLM</th>
<td id="S4.T5.1.1.9.9.2" class="ltx_td ltx_align_center ltx_border_t">85.4</td>
<td id="S4.T5.1.1.9.9.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T5.1.1.9.9.3.1" class="ltx_text ltx_font_bold">76.6</span></td>
<td id="S4.T5.1.1.9.9.4" class="ltx_td ltx_align_center ltx_border_t">89.2</td>
<td id="S4.T5.1.1.9.9.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T5.1.1.9.9.5.1" class="ltx_text ltx_font_bold">99.0</span></td>
<td id="S4.T5.1.1.9.9.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">87.6</td>
<td id="S4.T5.1.1.9.9.7" class="ltx_td ltx_align_center ltx_border_t">84.0</td>
</tr>
<tr id="S4.T5.1.1.10.10" class="ltx_tr">
<th id="S4.T5.1.1.10.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">TUTA, w/o CLC</th>
<td id="S4.T5.1.1.10.10.2" class="ltx_td ltx_align_center">83.0</td>
<td id="S4.T5.1.1.10.10.3" class="ltx_td ltx_align_center">76.4</td>
<td id="S4.T5.1.1.10.10.4" class="ltx_td ltx_align_center">88.7</td>
<td id="S4.T5.1.1.10.10.5" class="ltx_td ltx_align_center">98.9</td>
<td id="S4.T5.1.1.10.10.6" class="ltx_td ltx_align_center ltx_border_r">86.8</td>
<td id="S4.T5.1.1.10.10.7" class="ltx_td ltx_align_center">82.0</td>
</tr>
<tr id="S4.T5.1.1.11.11" class="ltx_tr">
<th id="S4.T5.1.1.11.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r">TUTA, w/o TCR</th>
<td id="S4.T5.1.1.11.11.2" class="ltx_td ltx_align_center ltx_border_b">85.8</td>
<td id="S4.T5.1.1.11.11.3" class="ltx_td ltx_align_center ltx_border_b"><span id="S4.T5.1.1.11.11.3.1" class="ltx_text ltx_font_bold">76.6</span></td>
<td id="S4.T5.1.1.11.11.4" class="ltx_td ltx_align_center ltx_border_b">88.2</td>
<td id="S4.T5.1.1.11.11.5" class="ltx_td ltx_align_center ltx_border_b"><span id="S4.T5.1.1.11.11.5.1" class="ltx_text ltx_font_bold">99.0</span></td>
<td id="S4.T5.1.1.11.11.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">87.4</td>
<td id="S4.T5.1.1.11.11.7" class="ltx_td ltx_align_center ltx_border_b">81.8</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S4.SS3.p8" class="ltx_para ltx_noindent">
<p id="S4.SS3.p8.1" class="ltx_p"><span id="S4.SS3.p8.1.1" class="ltx_text ltx_font_bold">Experiment results</span>  Table <a href="#S4.T5" title="Table 5 ‣ 4.3. Ablation studies ‣ 4. Experiments ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows the ablation results on CTC and TTC.
It is clear that smaller attention distances help <span id="S4.SS3.p8.1.2" class="ltx_text ltx_font_italic">TUTA-base</span> to achieve better results. In cell type classification, <span id="S4.SS3.p8.1.3" class="ltx_text ltx_font_italic">TUTA-base</span> can only get 79.9% of averaged macro-F1, lower than 82.2% achieved by TAPAS.
But as the distance threshold decreases to 2, <span id="S4.SS3.p8.1.4" class="ltx_text ltx_font_italic">TUTA-base,TA-2</span> improves a lot (5.4%), then outperforms TAPAS by 3.1%.</p>
</div>
<div id="S4.SS3.p9" class="ltx_para">
<p id="S4.SS3.p9.3" class="ltx_p">Further, tree position embeddings improve accuracy as well.
In cell type classification, <span id="S4.SS3.p9.3.1" class="ltx_text ltx_font_italic">TUTA-implicit</span> gets an <math id="S4.SS3.p9.1.m1.1" class="ltx_Math" alttext="88.1\%" display="inline"><semantics id="S4.SS3.p9.1.m1.1a"><mrow id="S4.SS3.p9.1.m1.1.1" xref="S4.SS3.p9.1.m1.1.1.cmml"><mn id="S4.SS3.p9.1.m1.1.1.2" xref="S4.SS3.p9.1.m1.1.1.2.cmml">88.1</mn><mo id="S4.SS3.p9.1.m1.1.1.1" xref="S4.SS3.p9.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p9.1.m1.1b"><apply id="S4.SS3.p9.1.m1.1.1.cmml" xref="S4.SS3.p9.1.m1.1.1"><csymbol cd="latexml" id="S4.SS3.p9.1.m1.1.1.1.cmml" xref="S4.SS3.p9.1.m1.1.1.1">percent</csymbol><cn type="float" id="S4.SS3.p9.1.m1.1.1.2.cmml" xref="S4.SS3.p9.1.m1.1.1.2">88.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p9.1.m1.1c">88.1\%</annotation></semantics></math> macro-F1 on average, which is <math id="S4.SS3.p9.2.m2.1" class="ltx_Math" alttext="2.7\%" display="inline"><semantics id="S4.SS3.p9.2.m2.1a"><mrow id="S4.SS3.p9.2.m2.1.1" xref="S4.SS3.p9.2.m2.1.1.cmml"><mn id="S4.SS3.p9.2.m2.1.1.2" xref="S4.SS3.p9.2.m2.1.1.2.cmml">2.7</mn><mo id="S4.SS3.p9.2.m2.1.1.1" xref="S4.SS3.p9.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p9.2.m2.1b"><apply id="S4.SS3.p9.2.m2.1.1.cmml" xref="S4.SS3.p9.2.m2.1.1"><csymbol cd="latexml" id="S4.SS3.p9.2.m2.1.1.1.cmml" xref="S4.SS3.p9.2.m2.1.1.1">percent</csymbol><cn type="float" id="S4.SS3.p9.2.m2.1.1.2.cmml" xref="S4.SS3.p9.2.m2.1.1.2">2.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p9.2.m2.1c">2.7\%</annotation></semantics></math> higher than its base variant <span id="S4.SS3.p9.3.2" class="ltx_text ltx_font_italic">TA-2</span>, and <math id="S4.SS3.p9.3.m3.1" class="ltx_Math" alttext="0.3\%" display="inline"><semantics id="S4.SS3.p9.3.m3.1a"><mrow id="S4.SS3.p9.3.m3.1.1" xref="S4.SS3.p9.3.m3.1.1.cmml"><mn id="S4.SS3.p9.3.m3.1.1.2" xref="S4.SS3.p9.3.m3.1.1.2.cmml">0.3</mn><mo id="S4.SS3.p9.3.m3.1.1.1" xref="S4.SS3.p9.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p9.3.m3.1b"><apply id="S4.SS3.p9.3.m3.1.1.cmml" xref="S4.SS3.p9.3.m3.1.1"><csymbol cd="latexml" id="S4.SS3.p9.3.m3.1.1.1.cmml" xref="S4.SS3.p9.3.m3.1.1.1">percent</csymbol><cn type="float" id="S4.SS3.p9.3.m3.1.1.2.cmml" xref="S4.SS3.p9.3.m3.1.1.2">0.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p9.3.m3.1c">0.3\%</annotation></semantics></math> higher than <span id="S4.SS3.p9.3.3" class="ltx_text ltx_font_italic">TUTA-explicit</span>.
In table type classification, <span id="S4.SS3.p9.3.4" class="ltx_text ltx_font_italic">TUTA-implicit</span> also outperforms its base variant and <span id="S4.SS3.p9.3.5" class="ltx_text ltx_font_italic">TUTA-explicit</span>.
We infer that, encoding spatial and hierarchical information can significantly improve the accuracy of TUTA.</p>
</div>
<div id="S4.SS3.p10" class="ltx_para">
<p id="S4.SS3.p10.4" class="ltx_p">Moreover, removing any pre-training objectives leads to accuracy drops in both tasks.
In the task of cell type classification, while removing MLM or TCR decreases the average macro-F1 by only around <math id="S4.SS3.p10.1.m1.1" class="ltx_Math" alttext="0.5\%" display="inline"><semantics id="S4.SS3.p10.1.m1.1a"><mrow id="S4.SS3.p10.1.m1.1.1" xref="S4.SS3.p10.1.m1.1.1.cmml"><mn id="S4.SS3.p10.1.m1.1.1.2" xref="S4.SS3.p10.1.m1.1.1.2.cmml">0.5</mn><mo id="S4.SS3.p10.1.m1.1.1.1" xref="S4.SS3.p10.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p10.1.m1.1b"><apply id="S4.SS3.p10.1.m1.1.1.cmml" xref="S4.SS3.p10.1.m1.1.1"><csymbol cd="latexml" id="S4.SS3.p10.1.m1.1.1.1.cmml" xref="S4.SS3.p10.1.m1.1.1.1">percent</csymbol><cn type="float" id="S4.SS3.p10.1.m1.1.1.2.cmml" xref="S4.SS3.p10.1.m1.1.1.2">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p10.1.m1.1c">0.5\%</annotation></semantics></math>, removing CLC leads to a greater drop of <math id="S4.SS3.p10.2.m2.1" class="ltx_Math" alttext="1.3\%" display="inline"><semantics id="S4.SS3.p10.2.m2.1a"><mrow id="S4.SS3.p10.2.m2.1.1" xref="S4.SS3.p10.2.m2.1.1.cmml"><mn id="S4.SS3.p10.2.m2.1.1.2" xref="S4.SS3.p10.2.m2.1.1.2.cmml">1.3</mn><mo id="S4.SS3.p10.2.m2.1.1.1" xref="S4.SS3.p10.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p10.2.m2.1b"><apply id="S4.SS3.p10.2.m2.1.1.cmml" xref="S4.SS3.p10.2.m2.1.1"><csymbol cd="latexml" id="S4.SS3.p10.2.m2.1.1.1.cmml" xref="S4.SS3.p10.2.m2.1.1.1">percent</csymbol><cn type="float" id="S4.SS3.p10.2.m2.1.1.2.cmml" xref="S4.SS3.p10.2.m2.1.1.2">1.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p10.2.m2.1c">1.3\%</annotation></semantics></math>, showing the importance of CLC in this cell-level task.
Note that for SAUS, removing TCR also causes an obvious accuracy drop (2%).
We find that most tables in SAUS have informative titles and descriptions, which provide strong hints to enhance local cell understanding.
In the task of table type classification, removing MLM causes a <math id="S4.SS3.p10.3.m3.1" class="ltx_Math" alttext="3.6\%" display="inline"><semantics id="S4.SS3.p10.3.m3.1a"><mrow id="S4.SS3.p10.3.m3.1.1" xref="S4.SS3.p10.3.m3.1.1.cmml"><mn id="S4.SS3.p10.3.m3.1.1.2" xref="S4.SS3.p10.3.m3.1.1.2.cmml">3.6</mn><mo id="S4.SS3.p10.3.m3.1.1.1" xref="S4.SS3.p10.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p10.3.m3.1b"><apply id="S4.SS3.p10.3.m3.1.1.cmml" xref="S4.SS3.p10.3.m3.1.1"><csymbol cd="latexml" id="S4.SS3.p10.3.m3.1.1.1.cmml" xref="S4.SS3.p10.3.m3.1.1.1">percent</csymbol><cn type="float" id="S4.SS3.p10.3.m3.1.1.2.cmml" xref="S4.SS3.p10.3.m3.1.1.2">3.6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p10.3.m3.1c">3.6\%</annotation></semantics></math> drop, while removing CLC or TCR drops even more by around <math id="S4.SS3.p10.4.m4.1" class="ltx_Math" alttext="6\%" display="inline"><semantics id="S4.SS3.p10.4.m4.1a"><mrow id="S4.SS3.p10.4.m4.1.1" xref="S4.SS3.p10.4.m4.1.1.cmml"><mn id="S4.SS3.p10.4.m4.1.1.2" xref="S4.SS3.p10.4.m4.1.1.2.cmml">6</mn><mo id="S4.SS3.p10.4.m4.1.1.1" xref="S4.SS3.p10.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p10.4.m4.1b"><apply id="S4.SS3.p10.4.m4.1.1.cmml" xref="S4.SS3.p10.4.m4.1.1"><csymbol cd="latexml" id="S4.SS3.p10.4.m4.1.1.1.cmml" xref="S4.SS3.p10.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S4.SS3.p10.4.m4.1.1.2.cmml" xref="S4.SS3.p10.4.m4.1.1.2">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p10.4.m4.1c">6\%</annotation></semantics></math>.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Case studies</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">To facilitate an intuitive understanding, we show two typical cases in the CTC test set to help illustrate the experiment results.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.1" class="ltx_p">Figure <a href="#S4.F7" title="Figure 7 ‣ 4.4. Case studies ‣ 4. Experiments ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> it TUTA prediction on a WebSheet table, where header cells have complex structural and semantic relationships. Though this is a fairly challenging case, TUTA correctly predict all of them.</p>
</div>
<figure id="S4.F7" class="ltx_figure">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7. </span>A case in WebSheet, TUTA well captures the fine-grained cell types in headers.</figcaption><img src="/html/2010.12537/assets/x7.png" id="S4.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="257" height="88" alt="Refer to caption">
</figure>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.1" class="ltx_p">Figure <a href="#S4.F8" title="Figure 8 ‣ 4.4. Case studies ‣ 4. Experiments ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> shows a bad case in SAUS, where “D9” and “E9” are labeled to the ‘Data’ type, yet TUTA classifies them to ‘Derived’ (a derivation of other ‘Data’ cells).
After our study, we find that both the TUTA’s prediction and the ground truth are wrong — “D9” belongs to the ‘Data’ type, but “E9” should be ‘Derived’.</p>
</div>
<div id="S4.SS4.p4" class="ltx_para">
<p id="S4.SS4.p4.1" class="ltx_p">For one, “D9” looks like to be a ‘Derived’ type since its parent, “D8”, is merged on the top. Also, “D8” is a direct child of the top-tree root, thus has a higher tree level than cells like “F8” and “G8”.
These formatting and structural information easily leads the model to view “D9” as ‘Derived’. However, only by iteratively performing possible calculations over data can we know that, “D9” is not a derivation. Though numerical computations exceed our current scope of table understanding in this paper, we do think it reasonable to augment numerical computations in future works.</p>
</div>
<div id="S4.SS4.p5" class="ltx_para">
<p id="S4.SS4.p5.1" class="ltx_p">For another, “E9” is correctly predicted by TUTA. It is a <span id="S4.SS4.p5.1.1" class="ltx_text ltx_font_bold">ground truth error caused by human labelers</span>. It should be a ‘Derived’ cell for it’s indeed the sum of “F9:G9”, even though there is no formula to indicate it.
We think TUTA makes the correct prediction out of two factors:
(1) semantics of the keyword ‘Total’ in its parent cell “E8”,
(2) the large magnitude of number in “E9”.
It demonstrates that TUTA has a fair ability to capture both the structural and semantic information when classifying cells into types.</p>
</div>
<figure id="S4.F8" class="ltx_figure">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8. </span>In a case of SAUS, TUTA associates the structure and semantics between header and data.</figcaption><img src="/html/2010.12537/assets/x8.png" id="S4.F8.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="257" height="141" alt="Refer to caption">
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Related Work</h2>

<div id="S5.p1" class="ltx_para ltx_noindent">
<p id="S5.p1.1" class="ltx_p"><span id="S5.p1.1.1" class="ltx_text ltx_font_bold">Table representation learning</span> Though TUTA is the first effort to pre-train transformers on variously structured tables, a range of prior work has also pre-trained transformers on relational tables.
Table-BERT linearized tables as sentences so that tables can be directly processed by the pre-trained BERT model <cite class="ltx_cite ltx_citemacro_citep">(Chen <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib6" title="" class="ltx_ref">2019c</a>)</cite>.
TAPAS and TaBERT target question answering over relational tables via joint pre-training of tables and their text <cite class="ltx_cite ltx_citemacro_citep">(Herzig <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2020</a>; Yin <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib41" title="" class="ltx_ref">2020</a>)</cite>.
TURL learns representations from relational tables to enhance table knowledge matching and table augmentation <cite class="ltx_cite ltx_citemacro_citep">(Deng <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib8" title="" class="ltx_ref">2020</a>)</cite>, but in TURL, each cell only aggregates information from the located row and column. It’s worth mentioning that, in addition to transformers, prior work has also explored other models. For example, <cite class="ltx_cite ltx_citemacro_citep">(Gol <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2019</a>)</cite> uses continuous bag-of-words and skip-gram to learn cell embeddings;
Table2Vec <cite class="ltx_cite ltx_citemacro_citep">(Zhang <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib45" title="" class="ltx_ref">2019</a>)</cite> adopts skip-gram neural network models to train word embeddings; and TabNet learns token embeddings jointly with the LSTM model <cite class="ltx_cite ltx_citemacro_citep">(Nishida <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2017</a>)</cite>.</p>
</div>
<div id="S5.p2" class="ltx_para ltx_noindent">
<p id="S5.p2.1" class="ltx_p"><span id="S5.p2.1.1" class="ltx_text ltx_font_bold">Neural networks for table understanding</span> Since both semantic and spatial information is crucial for table understanding, lots of neural architectures have been proposed to capture spatial and semantic information jointly. CNNs <cite class="ltx_cite ltx_citemacro_citep">(Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2019a</a>; Chen <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib4" title="" class="ltx_ref">2019a</a>)</cite> are adopted to capture spatial information for web and spreadsheet tables. Bidirectional RNNs and LSTMs are widely adopted in web tables to capture the order of rows and columns <cite class="ltx_cite ltx_citemacro_citep">(Nishida <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2017</a>; Gol <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2019</a>; Fetahu <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib16" title="" class="ltx_ref">2019</a>; Kardas <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib22" title="" class="ltx_ref">2020</a>)</cite>. Later work proposed a hybrid neural network by combining bidirectional RNNs and CNNs in the task of column type prediction <cite class="ltx_cite ltx_citemacro_citep">(Chen <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib5" title="" class="ltx_ref">2019b</a>)</cite>.
Recently, graph neural networks have been explored for table understanding and question answering <cite class="ltx_cite ltx_citemacro_citep">(Zayats <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2021</a>; Zhang <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib46" title="" class="ltx_ref">2020</a>; Koci <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib23" title="" class="ltx_ref">2018</a>)</cite>.
<cite class="ltx_cite ltx_citemacro_citep">(Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib12" title="" class="ltx_ref">2020</a>)</cite> use conditional GANs to recommend good-looking formatting for tables.
TUTA is the first transformer-based method for general table structure understanding and achieves state-of-the-arts on two representative tasks.</p>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Conclusion and Discussion</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this paper, we propose TUTA, a novel structure-aware pre-training model to understand generally structured tables.
TUTA is the first transformer-based method for table structure understanding. It employs two core techniques to capture spatial and hierarchical information in tables: tree attention and tree position embeddings.
Moreover, we devise three pre-training objectives to enable representation learning at token, cell and table levels.
TUTA shows a large margin of improvements over all baselines on five widely-studied datasets in downstream tasks.</p>
</div>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.1" class="ltx_p">TUTA is believed to be effective in other tasks like table Question Answering (QA) and table entity linking as well.
Since current datasets of these tasks only consider relational tables, we aim to extend the scope of them to variously structured tables later on.
Gladly, TUTA’s superior performance on CTC and TTC soundly proves the effectiveness of structure-aware pre-training.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bhagavatula <span id="bib.bib1.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2015]</span>
<span class="ltx_bibblock">
Chandra Sekhar Bhagavatula, Thanapon Noraset, and Doug Downey.

</span>
<span class="ltx_bibblock">Tabel: entity linking in web tables.

</span>
<span class="ltx_bibblock">In <span id="bib.bib1.3.1" class="ltx_text ltx_font_italic">International Semantic Web Conference</span>. Springer, 2015.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen and Cafarella [2013]</span>
<span class="ltx_bibblock">
Zhe Chen and Michael Cafarella.

</span>
<span class="ltx_bibblock">Automatic web spreadsheet data extraction.

</span>
<span class="ltx_bibblock">In <span id="bib.bib2.1.1" class="ltx_text ltx_font_italic">Proceedings of the 3rd International Workshop on Semantic
Search over the Web</span>, 2013.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen and
Cafarella [2014]</span>
<span class="ltx_bibblock">
Zhe Chen and Michael Cafarella.

</span>
<span class="ltx_bibblock">Integrating spreadsheet data via accurate and low-effort extraction.

</span>
<span class="ltx_bibblock">In <span id="bib.bib3.1.1" class="ltx_text ltx_font_italic">Proceedings of the 20th ACM SIGKDD international conference
on Knowledge discovery and data mining</span>, pages 1126–1135, 2014.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen <span id="bib.bib4.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2019a]</span>
<span class="ltx_bibblock">
Jiaoyan Chen, Ernesto Jiménez-Ruiz, Ian Horrocks, and Charles Sutton.

</span>
<span class="ltx_bibblock">Colnet: Embedding the semantics of web tables for column type
prediction.

</span>
<span class="ltx_bibblock">In <span id="bib.bib4.3.1" class="ltx_text ltx_font_italic">Proceedings of the AAAI Conference on Artificial
Intelligence</span>, volume 33, pages 29–36, 2019.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen <span id="bib.bib5.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2019b]</span>
<span class="ltx_bibblock">
Jiaoyan Chen, Ernesto Jiménez-Ruiz, Ian Horrocks, and Charles Sutton.

</span>
<span class="ltx_bibblock">Learning semantic annotations for tabular data.

</span>
<span class="ltx_bibblock"><span id="bib.bib5.3.1" class="ltx_text ltx_font_italic">arXiv preprint:1906.00781</span>, 2019.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen <span id="bib.bib6.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2019c]</span>
<span class="ltx_bibblock">
Wenhu Chen, Hongmin Wang, Jianshu Chen, Yunkai Zhang, Hong Wang, Shiyang Li,
Xiyou Zhou, and William Yang Wang.

</span>
<span class="ltx_bibblock">Tabfact: A large-scale dataset for table-based fact verification.

</span>
<span class="ltx_bibblock"><span id="bib.bib6.3.1" class="ltx_text ltx_font_italic">arXiv preprint:1909.02164</span>, 2019.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Crestan and Pantel [2011]</span>
<span class="ltx_bibblock">
Eric Crestan and Patrick Pantel.

</span>
<span class="ltx_bibblock">Web-scale table census and classification.

</span>
<span class="ltx_bibblock">In <span id="bib.bib7.1.1" class="ltx_text ltx_font_italic">Proceedings of international conference on Web search and
data mining</span>, 2011.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng <span id="bib.bib8.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2020]</span>
<span class="ltx_bibblock">
Xiang Deng, Huan Sun, Alyssa Lees, You Wu, and Cong Yu.

</span>
<span class="ltx_bibblock">Turl: Table understanding through representation learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib8.3.1" class="ltx_text ltx_font_italic">arXiv preprint:2006.14806</span>, 2020.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devlin <span id="bib.bib9.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2018]</span>
<span class="ltx_bibblock">
Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova.

</span>
<span class="ltx_bibblock">Bert: Pre-training of deep bidirectional transformers for language
understanding.

</span>
<span class="ltx_bibblock"><span id="bib.bib9.3.1" class="ltx_text ltx_font_italic">arXiv preprint:1810.04805</span>, 2018.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong <span id="bib.bib10.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2019a]</span>
<span class="ltx_bibblock">
Haoyu Dong, Shijie Liu, Zhouyu Fu, Shi Han, and Dongmei Zhang.

</span>
<span class="ltx_bibblock">Semantic structure extraction for spreadsheet tables with a
multi-task learning architecture.

</span>
<span class="ltx_bibblock">In <span id="bib.bib10.3.1" class="ltx_text ltx_font_italic">Workshop on Document Intelligence at NeurIPS 2019</span>, 2019.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong <span id="bib.bib11.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2019b]</span>
<span class="ltx_bibblock">
Haoyu Dong, Shijie Liu, Shi Han, Zhouyu Fu, and Dongmei Zhang.

</span>
<span class="ltx_bibblock">Tablesense: Spreadsheet table detection with convolutional neural
networks.

</span>
<span class="ltx_bibblock">In <span id="bib.bib11.3.1" class="ltx_text ltx_font_italic">Proceedings of the AAAI Conference on Artificial
Intelligence</span>, volume 33, pages 69–76, 2019.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong <span id="bib.bib12.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2020]</span>
<span class="ltx_bibblock">
Haoyu Dong Dong, Jinyu Wang, Zhouyu Fu, Shi Han, and Dongmei Zhang.

</span>
<span class="ltx_bibblock">Neural formatting for spreadsheet tables.

</span>
<span class="ltx_bibblock">In <span id="bib.bib12.3.1" class="ltx_text ltx_font_italic">Proceedings of the 29th ACM International Conference on
Information &amp; Knowledge Management</span>, pages 305–314, 2020.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dou <span id="bib.bib13.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2018]</span>
<span class="ltx_bibblock">
Wensheng Dou, Shi Han, Liang Xu, Dongmei Zhang, and Jun Wei.

</span>
<span class="ltx_bibblock">Expandable group identification in spreadsheets.

</span>
<span class="ltx_bibblock">In <span id="bib.bib13.3.1" class="ltx_text ltx_font_italic">Proceedings of the 33rd ACM/IEEE International Conference on
Automated Software Engineering</span>, pages 498–508, 2018.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Eberius <span id="bib.bib14.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2015]</span>
<span class="ltx_bibblock">
Julian Eberius, Katrin Braunschweig, and Others.

</span>
<span class="ltx_bibblock">Building the dresden web table corpus: A classification approach.

</span>
<span class="ltx_bibblock">In <span id="bib.bib14.3.1" class="ltx_text ltx_font_italic">2015 IEEE/ACM 2nd International Symposium on Big Data
Computing (BDC)</span>, pages 41–50. IEEE, 2015.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fang <span id="bib.bib15.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2012]</span>
<span class="ltx_bibblock">
Jing Fang, Prasenjit Mitra, Zhi Tang, and C Lee Giles.

</span>
<span class="ltx_bibblock">Table header detection and classification.

</span>
<span class="ltx_bibblock">In <span id="bib.bib15.3.1" class="ltx_text ltx_font_italic">Twenty-Sixth AAAI Conference on Artificial Intelligence</span>,
2012.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fetahu <span id="bib.bib16.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2019]</span>
<span class="ltx_bibblock">
Besnik Fetahu, Avishek Anand, and Maria Koutraki.

</span>
<span class="ltx_bibblock">Tablenet: An approach for determining fine-grained relations for
wikipedia tables.

</span>
<span class="ltx_bibblock">In <span id="bib.bib16.3.1" class="ltx_text ltx_font_italic">The World Wide Web Conference</span>, pages 2736–2742, 2019.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghasemi-Gol and
Szekely [2018]</span>
<span class="ltx_bibblock">
Majid Ghasemi-Gol and Pedro Szekely.

</span>
<span class="ltx_bibblock">Tabvec: Table vectors for classification of web tables.

</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text ltx_font_italic">arXiv preprint:1802.06290</span>, 2018.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gol <span id="bib.bib18.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2019]</span>
<span class="ltx_bibblock">
Majid Ghasemi Gol, Jay Pujara, and Pedro Szekely.

</span>
<span class="ltx_bibblock">Tabular cell classification using pre-trained cell embeddings.

</span>
<span class="ltx_bibblock">In <span id="bib.bib18.3.1" class="ltx_text ltx_font_italic">2019 IEEE International Conference on Data Mining (ICDM)</span>,
pages 230–239. IEEE, 2019.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gonsior <span id="bib.bib19.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2020]</span>
<span class="ltx_bibblock">
Julius Gonsior, Josephine Rehak, Maik Thiele, Elvis Koci, Michael Günther,
and Wolfgang Lehner.

</span>
<span class="ltx_bibblock">Active learning for spreadsheet cell classification.

</span>
<span class="ltx_bibblock">In <span id="bib.bib19.3.1" class="ltx_text ltx_font_italic">EDBT/ICDT Workshops</span>, 2020.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo <span id="bib.bib20.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2020]</span>
<span class="ltx_bibblock">
Tong Guo, Derong Shen, Tiezheng Nie, and Yue Kou.

</span>
<span class="ltx_bibblock">Web table column type detection using deep learning and probability
graph model.

</span>
<span class="ltx_bibblock">In <span id="bib.bib20.3.1" class="ltx_text ltx_font_italic">International Conference on Web Information Systems and
Applications</span>, pages 401–414. Springer, 2020.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Herzig <span id="bib.bib21.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2020]</span>
<span class="ltx_bibblock">
Jonathan Herzig, Paweł Krzysztof Nowak, Thomas Müller, Francesco
Piccinno, and Julian Martin Eisenschlos.

</span>
<span class="ltx_bibblock">Tapas: Weakly supervised table parsing via pre-training.

</span>
<span class="ltx_bibblock"><span id="bib.bib21.3.1" class="ltx_text ltx_font_italic">arXiv preprint:2004.02349</span>, 2020.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kardas <span id="bib.bib22.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2020]</span>
<span class="ltx_bibblock">
Marcin Kardas, Piotr Czapla, Pontus Stenetorp, Sebastian Ruder, Sebastian
Riedel, Ross Taylor, and Robert Stojnic.

</span>
<span class="ltx_bibblock">Axcell: Automatic extraction of results from machine learning papers.

</span>
<span class="ltx_bibblock"><span id="bib.bib22.3.1" class="ltx_text ltx_font_italic">arXiv preprint:2004.14356</span>, 2020.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koci <span id="bib.bib23.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2018]</span>
<span class="ltx_bibblock">
Elvis Koci, Maik Thiele, Wolfgang Lehner, and Oscar Romero.

</span>
<span class="ltx_bibblock">Table recognition in spreadsheets via a graph representation.

</span>
<span class="ltx_bibblock">In <span id="bib.bib23.3.1" class="ltx_text ltx_font_italic">2018 13th IAPR International Workshop on Document Analysis
Systems (DAS)</span>, pages 139–144. IEEE, 2018.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koci <span id="bib.bib24.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2019]</span>
<span class="ltx_bibblock">
Elvis Koci, Maik Thiele, Josephine Rehak, Oscar Romero, and Wolfgang Lehner.

</span>
<span class="ltx_bibblock">Deco: A dataset of annotated spreadsheets for layout and table
recognition.

</span>
<span class="ltx_bibblock">In <span id="bib.bib24.3.1" class="ltx_text ltx_font_italic">International Conference on Document Analysis and
Recognition</span>. IEEE, 2019.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lample and Conneau [2019]</span>
<span class="ltx_bibblock">
Guillaume Lample and Alexis Conneau.

</span>
<span class="ltx_bibblock">Cross-lingual language model pretraining.

</span>
<span class="ltx_bibblock"><span id="bib.bib25.1.1" class="ltx_text ltx_font_italic">arXiv preprint:1901.07291</span>, 2019.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lautert <span id="bib.bib26.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2013]</span>
<span class="ltx_bibblock">
Larissa R Lautert, Marcelo M Scheidt, and Carina F Dorneles.

</span>
<span class="ltx_bibblock">Web table taxonomy and formalization.

</span>
<span class="ltx_bibblock"><span id="bib.bib26.3.1" class="ltx_text ltx_font_italic">ACM SIGMOD Record</span>, 42(3):28–33, 2013.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lehmberg <span id="bib.bib27.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2016]</span>
<span class="ltx_bibblock">
Oliver Lehmberg, Dominique Ritze, Robert Meusel, and Christian Bizer.

</span>
<span class="ltx_bibblock">A large public corpus of web tables containing time and context
metadata.

</span>
<span class="ltx_bibblock">In <span id="bib.bib27.3.1" class="ltx_text ltx_font_italic">Proceedings of the 25th International Conference Companion on
World Wide Web</span>, pages 75–76, 2016.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lim and Ng [1999]</span>
<span class="ltx_bibblock">
Seung-Jin Lim and Yiu-Kai Ng.

</span>
<span class="ltx_bibblock">An automated approach for retrieving hierarchical data from html
tables.

</span>
<span class="ltx_bibblock">In <span id="bib.bib28.1.1" class="ltx_text ltx_font_italic">Proceedings of the eighth international conference on
Information and knowledge management</span>, pages 466–474, 1999.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nguyen <span id="bib.bib29.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2020]</span>
<span class="ltx_bibblock">
Xuan-Phi Nguyen, Shafiq Joty, Steven CH Hoi, and Richard Socher.

</span>
<span class="ltx_bibblock">Tree-structured attention with hierarchical accumulation.

</span>
<span class="ltx_bibblock"><span id="bib.bib29.3.1" class="ltx_text ltx_font_italic">arXiv preprint:2002.08046</span>, 2020.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nishida <span id="bib.bib30.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2017]</span>
<span class="ltx_bibblock">
Kyosuke Nishida, Kugatsu Sadamitsu, Ryuichiro Higashinaka, and Yoshihiro
Matsuo.

</span>
<span class="ltx_bibblock">Understanding the semantic structures of tables with a hybrid deep
neural network architecture.

</span>
<span class="ltx_bibblock">In <span id="bib.bib30.3.1" class="ltx_text ltx_font_italic">Thirty-First AAAI Conference on Artificial Intelligence</span>,
2017.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Paramonov <span id="bib.bib31.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2020]</span>
<span class="ltx_bibblock">
Viacheslav Paramonov, Alexey Shigarov, and Varvara Vetrova.

</span>
<span class="ltx_bibblock">Table header correction algorithm based on heuristics for improving
spreadsheet data extraction.

</span>
<span class="ltx_bibblock">In <span id="bib.bib31.3.1" class="ltx_text ltx_font_italic">International Conference on Information and Software
Technologies</span>. Springer, 2020.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pasupat and
Liang [2015]</span>
<span class="ltx_bibblock">
Panupong Pasupat and Percy Liang.

</span>
<span class="ltx_bibblock">Compositional semantic parsing on semi-structured tables.

</span>
<span class="ltx_bibblock"><span id="bib.bib32.1.1" class="ltx_text ltx_font_italic">arXiv preprint:1508.00305</span>, 2015.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pujara [2021]</span>
<span class="ltx_bibblock">
Kexuan Sun Harsha Rayudu Jay Pujara.

</span>
<span class="ltx_bibblock">A hybrid probabilistic approach for table understanding.

</span>
<span class="ltx_bibblock"><span id="bib.bib33.1.1" class="ltx_text ltx_font_italic">Proceedings of the AAAI Conference on Artificial Intelligence</span>,
2021.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford <span id="bib.bib34.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2018]</span>
<span class="ltx_bibblock">
Alec Radford, Karthik Narasimhan, Tim Salimans, and Ilya Sutskever.

</span>
<span class="ltx_bibblock">Improving language understanding by generative pre-training, 2018.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ritze and Bizer [2017]</span>
<span class="ltx_bibblock">
Dominique Ritze and Christian Bizer.

</span>
<span class="ltx_bibblock">Matching web tables to dbpedia-a feature utility study.

</span>
<span class="ltx_bibblock"><span id="bib.bib35.1.1" class="ltx_text ltx_font_italic">context</span>, 42(41):19–31, 2017.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shiv and Quirk [2019]</span>
<span class="ltx_bibblock">
Vighnesh Shiv and Chris Quirk.

</span>
<span class="ltx_bibblock">Novel positional encodings to enable tree-based transformers.

</span>
<span class="ltx_bibblock">In <span id="bib.bib36.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 2019.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani <span id="bib.bib37.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2017]</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones,
Aidan N Gomez, Łukasz Kaiser, and Illia Polosukhin.

</span>
<span class="ltx_bibblock">Attention is all you need.

</span>
<span class="ltx_bibblock">In <span id="bib.bib37.3.1" class="ltx_text ltx_font_italic">Advances in neural information processing systems</span>, pages
5998–6008, 2017.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Veličković <span id="bib.bib38.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2017]</span>
<span class="ltx_bibblock">
Petar Veličković, Guillem Cucurull, Arantxa Casanova, Adriana Romero,
Pietro Lio, and Yoshua Bengio.

</span>
<span class="ltx_bibblock">Graph attention networks.

</span>
<span class="ltx_bibblock"><span id="bib.bib38.3.1" class="ltx_text ltx_font_italic">arXiv preprint:1710.10903</span>, 2017.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang <span id="bib.bib39.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2019]</span>
<span class="ltx_bibblock">
Yau-Shian Wang, Hung-Yi Lee, and Yun-Nung Chen.

</span>
<span class="ltx_bibblock">Tree transformer: Integrating tree structures into self-attention.

</span>
<span class="ltx_bibblock"><span id="bib.bib39.3.1" class="ltx_text ltx_font_italic">arXiv preprint:1909.06639</span>, 2019.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang [2016]</span>
<span class="ltx_bibblock">
Xinxin Wang.

</span>
<span class="ltx_bibblock">Tabular abstraction, editing, and formatting.

</span>
<span class="ltx_bibblock">2016.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yin <span id="bib.bib41.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2020]</span>
<span class="ltx_bibblock">
Pengcheng Yin, Graham Neubig, Wen-tau Yih, and Sebastian Riedel.

</span>
<span class="ltx_bibblock">Tabert: Pretraining for joint understanding of textual and tabular
data.

</span>
<span class="ltx_bibblock"><span id="bib.bib41.3.1" class="ltx_text ltx_font_italic">arxiv</span>, 2020.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu <span id="bib.bib42.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2018]</span>
<span class="ltx_bibblock">
Tao Yu, Rui Zhang, Kai Yang, Michihiro Yasunaga, Dongxu Wang, Zifan Li, James
Ma, Irene Li, et al.

</span>
<span class="ltx_bibblock">Spider: A large-scale human-labeled dataset for complex and
cross-domain semantic parsing and text-to-sql task.

</span>
<span class="ltx_bibblock"><span id="bib.bib42.3.1" class="ltx_text ltx_font_italic">arXiv preprint:1809.08887</span>, 2018.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zanibbi <span id="bib.bib43.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2004]</span>
<span class="ltx_bibblock">
Richard Zanibbi, Dorothea Blostein, and James R Cordy.

</span>
<span class="ltx_bibblock">A survey of table recognition.

</span>
<span class="ltx_bibblock"><span id="bib.bib43.3.1" class="ltx_text ltx_font_italic">Document Analysis and Recognition</span>, 7(1):1–16, 2004.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zayats <span id="bib.bib44.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2021]</span>
<span class="ltx_bibblock">
Vicky Zayats, Kristina Toutanova, and Mari Ostendorf.

</span>
<span class="ltx_bibblock">Representations for question answering from documents with tables and
text.

</span>
<span class="ltx_bibblock"><span id="bib.bib44.3.1" class="ltx_text ltx_font_italic">ArXiv:2101.10573</span>, 2021.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang <span id="bib.bib45.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2019]</span>
<span class="ltx_bibblock">
Li Zhang, Shuo Zhang, and Krisztian Balog.

</span>
<span class="ltx_bibblock">Table2vec: Neural word and entity embeddings for table population and
retrieval.

</span>
<span class="ltx_bibblock">In <span id="bib.bib45.3.1" class="ltx_text ltx_font_italic">Proceedings of International ACM SIGIR Conference on Research
and Development in Information Retrieval</span>, 2019.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang <span id="bib.bib46.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2020]</span>
<span class="ltx_bibblock">
Xingyao Zhang, Linjun Shou, Jian Pei, Ming Gong, Lijie Wen, and Daxin Jiang.

</span>
<span class="ltx_bibblock">A graph representation of semi-structured data for web question
answering.

</span>
<span class="ltx_bibblock"><span id="bib.bib46.3.1" class="ltx_text ltx_font_italic">arXiv preprint:2010.06801</span>, 2020.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao and He [2019]</span>
<span class="ltx_bibblock">
Chen Zhao and Yeye He.

</span>
<span class="ltx_bibblock">Auto-em: End-to-end fuzzy entity-matching using pre-trained deep
models and transfer learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib47.1.1" class="ltx_text ltx_font_italic">The World Wide Web Conference</span>, pages 2413–2424, 2019.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou <span id="bib.bib48.2.2.1" class="ltx_text ltx_font_italic">et al.</span> [2020]</span>
<span class="ltx_bibblock">
Mengyu Zhou, Wang Tao, Ji Pengxin, and Others.

</span>
<span class="ltx_bibblock">Table2analysis: Modeling and recommendation of common analysis
patterns for multi-dimensional data.

</span>
<span class="ltx_bibblock">In <span id="bib.bib48.3.1" class="ltx_text ltx_font_italic">Proceedings of the AAAI Conference on Artificial
Intelligence</span>, 2020.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Dataset construction</h2>

<div id="A1.p1" class="ltx_para ltx_noindent">
<p id="A1.p1.1" class="ltx_p"><span id="A1.p1.1.1" class="ltx_text ltx_font_bold">Data collection</span>  Two corpus of tables are used at pre-training.</p>
</div>
<div id="A1.p2" class="ltx_para">
<p id="A1.p2.1" class="ltx_p"><span id="A1.p2.1.1" class="ltx_text ltx_font_bold">Web tables</span>  We collect <math id="A1.p2.1.m1.1" class="ltx_Math" alttext="2.62" display="inline"><semantics id="A1.p2.1.m1.1a"><mn id="A1.p2.1.m1.1.1" xref="A1.p2.1.m1.1.1.cmml">2.62</mn><annotation-xml encoding="MathML-Content" id="A1.p2.1.m1.1b"><cn type="float" id="A1.p2.1.m1.1.1.cmml" xref="A1.p2.1.m1.1.1">2.62</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.p2.1.m1.1c">2.62</annotation></semantics></math> million web tables from WikiTable <span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>https://github.com/bfetahu/wiki_tables</span></span></span> and 50.82 million web tables from WDC WebTable Corpus <cite class="ltx_cite ltx_citemacro_citep">[Lehmberg <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2016</a>]</cite>. We also keep their titles, captions, and NL contexts.</p>
</div>
<div id="A1.p3" class="ltx_para">
<p id="A1.p3.3" class="ltx_p"><span id="A1.p3.3.1" class="ltx_text ltx_font_bold">Spreadsheet tables</span>  Spreadsheets are widely used to organize tables<span id="footnote5" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>By estimation, there are around <math id="footnote5.m1.1" class="ltx_Math" alttext="800" display="inline"><semantics id="footnote5.m1.1b"><mn id="footnote5.m1.1.1" xref="footnote5.m1.1.1.cmml">800</mn><annotation-xml encoding="MathML-Content" id="footnote5.m1.1c"><cn type="integer" id="footnote5.m1.1.1.cmml" xref="footnote5.m1.1.1">800</cn></annotation-xml><annotation encoding="application/x-tex" id="footnote5.m1.1d">800</annotation></semantics></math> million spreadsheet users. https://medium.com/grid-spreadsheets-run-the-world/excel-vs-google-sheets-usage-nature-and-numbers-9dfa5d1cadbd</span></span></span>.
We crawl about <math id="A1.p3.1.m1.1" class="ltx_Math" alttext="13.5" display="inline"><semantics id="A1.p3.1.m1.1a"><mn id="A1.p3.1.m1.1.1" xref="A1.p3.1.m1.1.1.cmml">13.5</mn><annotation-xml encoding="MathML-Content" id="A1.p3.1.m1.1b"><cn type="float" id="A1.p3.1.m1.1.1.cmml" xref="A1.p3.1.m1.1.1">13.5</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.1.m1.1c">13.5</annotation></semantics></math> million public spreadsheet files (.xls and .xlsx) from more than <math id="A1.p3.2.m2.1" class="ltx_Math" alttext="1.75" display="inline"><semantics id="A1.p3.2.m2.1a"><mn id="A1.p3.2.m2.1.1" xref="A1.p3.2.m2.1.1.cmml">1.75</mn><annotation-xml encoding="MathML-Content" id="A1.p3.2.m2.1b"><cn type="float" id="A1.p3.2.m2.1.1.cmml" xref="A1.p3.2.m2.1.1">1.75</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.2.m2.1c">1.75</annotation></semantics></math> million web sites. Then we utilize the techniques of TableSense <cite class="ltx_cite ltx_citemacro_citep">[Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib11" title="" class="ltx_ref">2019b</a>]</cite> to detect tables from sheets of each file. In total, we get about <math id="A1.p3.3.m3.1" class="ltx_Math" alttext="115" display="inline"><semantics id="A1.p3.3.m3.1a"><mn id="A1.p3.3.m3.1.1" xref="A1.p3.3.m3.1.1.cmml">115</mn><annotation-xml encoding="MathML-Content" id="A1.p3.3.m3.1b"><cn type="integer" id="A1.p3.3.m3.1.1.cmml" xref="A1.p3.3.m3.1.1">115</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.3.m3.1c">115</annotation></semantics></math> million tables.</p>
</div>
<div id="A1.p4" class="ltx_para ltx_noindent">
<p id="A1.p4.8" class="ltx_p"><span id="A1.p4.8.1" class="ltx_text ltx_font_bold">Pre-processing</span> Since spreadsheets are crawled from various web sites, the tables detected from them are very noisy. We hence perform data cleansing and language filter to build a clean table corpus for pre-training.
First, we filter out tables having extreme table size (number of rows/columns <math id="A1.p4.1.m1.1" class="ltx_Math" alttext="&lt;4" display="inline"><semantics id="A1.p4.1.m1.1a"><mrow id="A1.p4.1.m1.1.1" xref="A1.p4.1.m1.1.1.cmml"><mi id="A1.p4.1.m1.1.1.2" xref="A1.p4.1.m1.1.1.2.cmml"></mi><mo id="A1.p4.1.m1.1.1.1" xref="A1.p4.1.m1.1.1.1.cmml">&lt;</mo><mn id="A1.p4.1.m1.1.1.3" xref="A1.p4.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p4.1.m1.1b"><apply id="A1.p4.1.m1.1.1.cmml" xref="A1.p4.1.m1.1.1"><lt id="A1.p4.1.m1.1.1.1.cmml" xref="A1.p4.1.m1.1.1.1"></lt><csymbol cd="latexml" id="A1.p4.1.m1.1.1.2.cmml" xref="A1.p4.1.m1.1.1.2">absent</csymbol><cn type="integer" id="A1.p4.1.m1.1.1.3.cmml" xref="A1.p4.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.1.m1.1c">&lt;4</annotation></semantics></math>, number of rows <math id="A1.p4.2.m2.1" class="ltx_Math" alttext="&gt;512" display="inline"><semantics id="A1.p4.2.m2.1a"><mrow id="A1.p4.2.m2.1.1" xref="A1.p4.2.m2.1.1.cmml"><mi id="A1.p4.2.m2.1.1.2" xref="A1.p4.2.m2.1.1.2.cmml"></mi><mo id="A1.p4.2.m2.1.1.1" xref="A1.p4.2.m2.1.1.1.cmml">&gt;</mo><mn id="A1.p4.2.m2.1.1.3" xref="A1.p4.2.m2.1.1.3.cmml">512</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p4.2.m2.1b"><apply id="A1.p4.2.m2.1.1.cmml" xref="A1.p4.2.m2.1.1"><gt id="A1.p4.2.m2.1.1.1.cmml" xref="A1.p4.2.m2.1.1.1"></gt><csymbol cd="latexml" id="A1.p4.2.m2.1.1.2.cmml" xref="A1.p4.2.m2.1.1.2">absent</csymbol><cn type="integer" id="A1.p4.2.m2.1.1.3.cmml" xref="A1.p4.2.m2.1.1.3">512</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.2.m2.1c">&gt;512</annotation></semantics></math>, or number of columns <math id="A1.p4.3.m3.1" class="ltx_Math" alttext="&gt;128" display="inline"><semantics id="A1.p4.3.m3.1a"><mrow id="A1.p4.3.m3.1.1" xref="A1.p4.3.m3.1.1.cmml"><mi id="A1.p4.3.m3.1.1.2" xref="A1.p4.3.m3.1.1.2.cmml"></mi><mo id="A1.p4.3.m3.1.1.1" xref="A1.p4.3.m3.1.1.1.cmml">&gt;</mo><mn id="A1.p4.3.m3.1.1.3" xref="A1.p4.3.m3.1.1.3.cmml">128</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p4.3.m3.1b"><apply id="A1.p4.3.m3.1.1.cmml" xref="A1.p4.3.m3.1.1"><gt id="A1.p4.3.m3.1.1.1.cmml" xref="A1.p4.3.m3.1.1.1"></gt><csymbol cd="latexml" id="A1.p4.3.m3.1.1.2.cmml" xref="A1.p4.3.m3.1.1.2">absent</csymbol><cn type="integer" id="A1.p4.3.m3.1.1.3.cmml" xref="A1.p4.3.m3.1.1.3">128</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.3.m3.1c">&gt;128</annotation></semantics></math>), tables with over-deep hierarchical headers (number of top/left header rows/columns <math id="A1.p4.4.m4.1" class="ltx_Math" alttext="&gt;5" display="inline"><semantics id="A1.p4.4.m4.1a"><mrow id="A1.p4.4.m4.1.1" xref="A1.p4.4.m4.1.1.cmml"><mi id="A1.p4.4.m4.1.1.2" xref="A1.p4.4.m4.1.1.2.cmml"></mi><mo id="A1.p4.4.m4.1.1.1" xref="A1.p4.4.m4.1.1.1.cmml">&gt;</mo><mn id="A1.p4.4.m4.1.1.3" xref="A1.p4.4.m4.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p4.4.m4.1b"><apply id="A1.p4.4.m4.1.1.cmml" xref="A1.p4.4.m4.1.1"><gt id="A1.p4.4.m4.1.1.1.cmml" xref="A1.p4.4.m4.1.1.1"></gt><csymbol cd="latexml" id="A1.p4.4.m4.1.1.2.cmml" xref="A1.p4.4.m4.1.1.2">absent</csymbol><cn type="integer" id="A1.p4.4.m4.1.1.3.cmml" xref="A1.p4.4.m4.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.4.m4.1c">&gt;5</annotation></semantics></math>) and tables without any headers. With these rules, we filter <math id="A1.p4.5.m5.1" class="ltx_Math" alttext="52.34\%" display="inline"><semantics id="A1.p4.5.m5.1a"><mrow id="A1.p4.5.m5.1.1" xref="A1.p4.5.m5.1.1.cmml"><mn id="A1.p4.5.m5.1.1.2" xref="A1.p4.5.m5.1.1.2.cmml">52.34</mn><mo id="A1.p4.5.m5.1.1.1" xref="A1.p4.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.p4.5.m5.1b"><apply id="A1.p4.5.m5.1.1.cmml" xref="A1.p4.5.m5.1.1"><csymbol cd="latexml" id="A1.p4.5.m5.1.1.1.cmml" xref="A1.p4.5.m5.1.1.1">percent</csymbol><cn type="float" id="A1.p4.5.m5.1.1.2.cmml" xref="A1.p4.5.m5.1.1.2">52.34</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.5.m5.1c">52.34\%</annotation></semantics></math> tables from the original dataset.
Second, we de-duplicate the filtered data based on table content. After removing the duplicated tables, <math id="A1.p4.6.m6.1" class="ltx_Math" alttext="23.49\%" display="inline"><semantics id="A1.p4.6.m6.1a"><mrow id="A1.p4.6.m6.1.1" xref="A1.p4.6.m6.1.1.cmml"><mn id="A1.p4.6.m6.1.1.2" xref="A1.p4.6.m6.1.1.2.cmml">23.49</mn><mo id="A1.p4.6.m6.1.1.1" xref="A1.p4.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.p4.6.m6.1b"><apply id="A1.p4.6.m6.1.1.cmml" xref="A1.p4.6.m6.1.1"><csymbol cd="latexml" id="A1.p4.6.m6.1.1.1.cmml" xref="A1.p4.6.m6.1.1.1">percent</csymbol><cn type="float" id="A1.p4.6.m6.1.1.2.cmml" xref="A1.p4.6.m6.1.1.2">23.49</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.6.m6.1c">23.49\%</annotation></semantics></math> tables are left.
Third, we use a text analytics tool<span id="footnote6" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>https://azure.microsoft.com/en-us/services/cognitive-services/text-analytics/</span></span></span> for language detection. Among all filtered and de-duplicated tables, about <math id="A1.p4.7.m7.1" class="ltx_Math" alttext="31.76\%" display="inline"><semantics id="A1.p4.7.m7.1a"><mrow id="A1.p4.7.m7.1.1" xref="A1.p4.7.m7.1.1.cmml"><mn id="A1.p4.7.m7.1.1.2" xref="A1.p4.7.m7.1.1.2.cmml">31.76</mn><mo id="A1.p4.7.m7.1.1.1" xref="A1.p4.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.p4.7.m7.1b"><apply id="A1.p4.7.m7.1.1.cmml" xref="A1.p4.7.m7.1.1"><csymbol cd="latexml" id="A1.p4.7.m7.1.1.1.cmml" xref="A1.p4.7.m7.1.1.1">percent</csymbol><cn type="float" id="A1.p4.7.m7.1.1.2.cmml" xref="A1.p4.7.m7.1.1.2">31.76</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.7.m7.1c">31.76\%</annotation></semantics></math> tables are English and used for pre-training. Finally, we get <math id="A1.p4.8.m8.1" class="ltx_Math" alttext="4.49" display="inline"><semantics id="A1.p4.8.m8.1a"><mn id="A1.p4.8.m8.1.1" xref="A1.p4.8.m8.1.1.cmml">4.49</mn><annotation-xml encoding="MathML-Content" id="A1.p4.8.m8.1b"><cn type="float" id="A1.p4.8.m8.1.1.cmml" xref="A1.p4.8.m8.1.1">4.49</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.8.m8.1c">4.49</annotation></semantics></math> million spreadsheet tables for TUTA.</p>
</div>
<figure id="A1.T6" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6. </span> Comparison of datasets for table pre-training.</figcaption>
<div id="A1.T6.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:259.9pt;height:144pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
<table id="A1.T6.1.1" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A1.T6.1.1.1.1" class="ltx_tr">
<td id="A1.T6.1.1.1.1.1" class="ltx_td ltx_border_t"></td>
<td id="A1.T6.1.1.1.1.2" class="ltx_td ltx_align_left ltx_border_t">Data sources</td>
<td id="A1.T6.1.1.1.1.3" class="ltx_td ltx_align_left ltx_border_t">Table types</td>
<td id="A1.T6.1.1.1.1.4" class="ltx_td ltx_align_right ltx_border_t">Total amount</td>
</tr>
<tr id="A1.T6.1.1.2.2" class="ltx_tr">
<td id="A1.T6.1.1.2.2.1" class="ltx_td ltx_align_left ltx_border_t" rowspan="3"><span id="A1.T6.1.1.2.2.1.1" class="ltx_text">TUTA</span></td>
<td id="A1.T6.1.1.2.2.2" class="ltx_td ltx_align_left ltx_border_t">WikiTable</td>
<td id="A1.T6.1.1.2.2.3" class="ltx_td ltx_align_left ltx_border_t" rowspan="3"><span id="A1.T6.1.1.2.2.3.1" class="ltx_text">General</span></td>
<td id="A1.T6.1.1.2.2.4" class="ltx_td ltx_align_right ltx_border_t">2.6 million</td>
</tr>
<tr id="A1.T6.1.1.3.3" class="ltx_tr">
<td id="A1.T6.1.1.3.3.1" class="ltx_td ltx_align_left">WDC</td>
<td id="A1.T6.1.1.3.3.2" class="ltx_td ltx_align_right">50.8 million</td>
</tr>
<tr id="A1.T6.1.1.4.4" class="ltx_tr">
<td id="A1.T6.1.1.4.4.1" class="ltx_td ltx_align_left">Spreadsheet</td>
<td id="A1.T6.1.1.4.4.2" class="ltx_td ltx_align_right">4.5 million</td>
</tr>
<tr id="A1.T6.1.1.5.5" class="ltx_tr">
<td id="A1.T6.1.1.5.5.1" class="ltx_td ltx_align_left ltx_border_t">TAPAS</td>
<td id="A1.T6.1.1.5.5.2" class="ltx_td ltx_align_left ltx_border_t">WikiTable</td>
<td id="A1.T6.1.1.5.5.3" class="ltx_td ltx_align_left ltx_border_t">Relational</td>
<td id="A1.T6.1.1.5.5.4" class="ltx_td ltx_align_right ltx_border_t">6.2 million</td>
</tr>
<tr id="A1.T6.1.1.6.6" class="ltx_tr">
<td id="A1.T6.1.1.6.6.1" class="ltx_td ltx_align_left ltx_border_t" rowspan="2"><span id="A1.T6.1.1.6.6.1.1" class="ltx_text">TaBERT</span></td>
<td id="A1.T6.1.1.6.6.2" class="ltx_td ltx_align_left ltx_border_t">WikiTable</td>
<td id="A1.T6.1.1.6.6.3" class="ltx_td ltx_align_left ltx_border_t" rowspan="2"><span id="A1.T6.1.1.6.6.3.1" class="ltx_text">Relational</span></td>
<td id="A1.T6.1.1.6.6.4" class="ltx_td ltx_align_right ltx_border_t">1.3 million</td>
</tr>
<tr id="A1.T6.1.1.7.7" class="ltx_tr">
<td id="A1.T6.1.1.7.7.1" class="ltx_td ltx_align_left">WDC</td>
<td id="A1.T6.1.1.7.7.2" class="ltx_td ltx_align_right">25.3 million</td>
</tr>
<tr id="A1.T6.1.1.8.8" class="ltx_tr">
<td id="A1.T6.1.1.8.8.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_t">TURL</td>
<td id="A1.T6.1.1.8.8.2" class="ltx_td ltx_align_left ltx_border_b ltx_border_t">WikiTable</td>
<td id="A1.T6.1.1.8.8.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_t">Relational</td>
<td id="A1.T6.1.1.8.8.4" class="ltx_td ltx_align_right ltx_border_b ltx_border_t">0.6 million</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="A1.p5" class="ltx_para ltx_noindent">
<p id="A1.p5.1" class="ltx_p"><span id="A1.p5.1.1" class="ltx_text ltx_font_bold">Feature extraction</span> We use ClosedXML<span id="footnote7" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span>https://github.com/ClosedXML/ClosedXML</span></span></span> to parse spreadsheet files and extract features. For the two web table corpus, tables are serialized to JSON formats, so we just load and parse the JSON files for feature extraction. We unify the featurization schema for web tables and spreadsheet tables as shown in Table <a href="#A1.T7" title="Table 7 ‣ Appendix A Dataset construction ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
<figure id="A1.T7" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7. </span>Feature set of table cells.</figcaption>
<div id="A1.T7.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:297.5pt;height:340.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-16.5pt,18.9pt) scale(0.9,0.9) ;">
<table id="A1.T7.1.1" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A1.T7.1.1.1.1" class="ltx_tr">
<td id="A1.T7.1.1.1.1.1" class="ltx_td ltx_align_left ltx_border_t"><span id="A1.T7.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Description</span></td>
<td id="A1.T7.1.1.1.1.2" class="ltx_td ltx_align_left ltx_border_t"><span id="A1.T7.1.1.1.1.2.1" class="ltx_text ltx_font_bold">Feature value</span></td>
<td id="A1.T7.1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A1.T7.1.1.1.1.3.1" class="ltx_text ltx_font_bold">Default</span></td>
</tr>
<tr id="A1.T7.1.1.2.2" class="ltx_tr">
<td id="A1.T7.1.1.2.2.1" class="ltx_td ltx_align_left ltx_border_t"><span id="A1.T7.1.1.2.2.1.1" class="ltx_text ltx_font_bold">Cell text</span></td>
<td id="A1.T7.1.1.2.2.2" class="ltx_td ltx_border_t"></td>
<td id="A1.T7.1.1.2.2.3" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="A1.T7.1.1.3.3" class="ltx_tr">
<td id="A1.T7.1.1.3.3.1" class="ltx_td ltx_align_left">Cell text</td>
<td id="A1.T7.1.1.3.3.2" class="ltx_td ltx_align_left">token/number list</td>
<td id="A1.T7.1.1.3.3.3" class="ltx_td ltx_align_center">-</td>
</tr>
<tr id="A1.T7.1.1.4.4" class="ltx_tr">
<td id="A1.T7.1.1.4.4.1" class="ltx_td ltx_align_left ltx_border_t"><span id="A1.T7.1.1.4.4.1.1" class="ltx_text ltx_font_bold">Cell position</span></td>
<td id="A1.T7.1.1.4.4.2" class="ltx_td ltx_border_t"></td>
<td id="A1.T7.1.1.4.4.3" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="A1.T7.1.1.5.5" class="ltx_tr">
<td id="A1.T7.1.1.5.5.1" class="ltx_td ltx_align_left">Row/column indexes</td>
<td id="A1.T7.1.1.5.5.2" class="ltx_td ltx_align_left">a pair of integers</td>
<td id="A1.T7.1.1.5.5.3" class="ltx_td ltx_align_center">-</td>
</tr>
<tr id="A1.T7.1.1.6.6" class="ltx_tr">
<td id="A1.T7.1.1.6.6.1" class="ltx_td ltx_align_left">Tree-based coordinates</td>
<td id="A1.T7.1.1.6.6.2" class="ltx_td ltx_align_left">a pair of int tuples</td>
<td id="A1.T7.1.1.6.6.3" class="ltx_td ltx_align_center">-</td>
</tr>
<tr id="A1.T7.1.1.7.7" class="ltx_tr">
<td id="A1.T7.1.1.7.7.1" class="ltx_td ltx_align_left ltx_border_t" colspan="2"><span id="A1.T7.1.1.7.7.1.1" class="ltx_text ltx_font_bold">Merged region</span></td>
<td id="A1.T7.1.1.7.7.2" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="A1.T7.1.1.8.8" class="ltx_tr">
<td id="A1.T7.1.1.8.8.1" class="ltx_td ltx_align_left">The number of merged rows</td>
<td id="A1.T7.1.1.8.8.2" class="ltx_td ltx_align_left">positive integer</td>
<td id="A1.T7.1.1.8.8.3" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="A1.T7.1.1.9.9" class="ltx_tr">
<td id="A1.T7.1.1.9.9.1" class="ltx_td ltx_align_left">The number of merged columns</td>
<td id="A1.T7.1.1.9.9.2" class="ltx_td ltx_align_left">positive integer</td>
<td id="A1.T7.1.1.9.9.3" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="A1.T7.1.1.10.10" class="ltx_tr">
<td id="A1.T7.1.1.10.10.1" class="ltx_td ltx_align_left ltx_border_t" colspan="2"><span id="A1.T7.1.1.10.10.1.1" class="ltx_text ltx_font_bold">Data type</span></td>
<td id="A1.T7.1.1.10.10.2" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="A1.T7.1.1.11.11" class="ltx_tr">
<td id="A1.T7.1.1.11.11.1" class="ltx_td ltx_align_left">If cell string matches a date template</td>
<td id="A1.T7.1.1.11.11.2" class="ltx_td ltx_align_left">0 or 1</td>
<td id="A1.T7.1.1.11.11.3" class="ltx_td ltx_align_center">0</td>
</tr>
<tr id="A1.T7.1.1.12.12" class="ltx_tr">
<td id="A1.T7.1.1.12.12.1" class="ltx_td ltx_align_left">If formula exists in the cell</td>
<td id="A1.T7.1.1.12.12.2" class="ltx_td ltx_align_left">0 or 1</td>
<td id="A1.T7.1.1.12.12.3" class="ltx_td ltx_align_center">0</td>
</tr>
<tr id="A1.T7.1.1.13.13" class="ltx_tr">
<td id="A1.T7.1.1.13.13.1" class="ltx_td ltx_align_left ltx_border_t" colspan="2"><span id="A1.T7.1.1.13.13.1.1" class="ltx_text ltx_font_bold">Cell format</span></td>
<td id="A1.T7.1.1.13.13.2" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="A1.T7.1.1.14.14" class="ltx_tr">
<td id="A1.T7.1.1.14.14.1" class="ltx_td ltx_align_left">If the bold font is applied</td>
<td id="A1.T7.1.1.14.14.2" class="ltx_td ltx_align_left">0 or 1</td>
<td id="A1.T7.1.1.14.14.3" class="ltx_td ltx_align_center">0</td>
</tr>
<tr id="A1.T7.1.1.15.15" class="ltx_tr">
<td id="A1.T7.1.1.15.15.1" class="ltx_td ltx_align_left">If the background color is white</td>
<td id="A1.T7.1.1.15.15.2" class="ltx_td ltx_align_left">0 or 1</td>
<td id="A1.T7.1.1.15.15.3" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="A1.T7.1.1.16.16" class="ltx_tr">
<td id="A1.T7.1.1.16.16.1" class="ltx_td ltx_align_left">If the font color is black</td>
<td id="A1.T7.1.1.16.16.2" class="ltx_td ltx_align_left">0 or 1</td>
<td id="A1.T7.1.1.16.16.3" class="ltx_td ltx_align_center">1</td>
</tr>
<tr id="A1.T7.1.1.17.17" class="ltx_tr">
<td id="A1.T7.1.1.17.17.1" class="ltx_td ltx_align_left ltx_border_t" colspan="2"><span id="A1.T7.1.1.17.17.1.1" class="ltx_text ltx_font_bold">Cell border</span></td>
<td id="A1.T7.1.1.17.17.2" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="A1.T7.1.1.18.18" class="ltx_tr">
<td id="A1.T7.1.1.18.18.1" class="ltx_td ltx_align_left">If cell has a top border</td>
<td id="A1.T7.1.1.18.18.2" class="ltx_td ltx_align_left">0 or 1</td>
<td id="A1.T7.1.1.18.18.3" class="ltx_td ltx_align_center">0</td>
</tr>
<tr id="A1.T7.1.1.19.19" class="ltx_tr">
<td id="A1.T7.1.1.19.19.1" class="ltx_td ltx_align_left">If cell has a bottom border</td>
<td id="A1.T7.1.1.19.19.2" class="ltx_td ltx_align_left">0 or 1</td>
<td id="A1.T7.1.1.19.19.3" class="ltx_td ltx_align_center">0</td>
</tr>
<tr id="A1.T7.1.1.20.20" class="ltx_tr">
<td id="A1.T7.1.1.20.20.1" class="ltx_td ltx_align_left">If cell has a left border</td>
<td id="A1.T7.1.1.20.20.2" class="ltx_td ltx_align_left">0 or 1</td>
<td id="A1.T7.1.1.20.20.3" class="ltx_td ltx_align_center">0</td>
</tr>
<tr id="A1.T7.1.1.21.21" class="ltx_tr">
<td id="A1.T7.1.1.21.21.1" class="ltx_td ltx_align_left ltx_border_b">If cell has a right border</td>
<td id="A1.T7.1.1.21.21.2" class="ltx_td ltx_align_left ltx_border_b">0 or 1</td>
<td id="A1.T7.1.1.21.21.3" class="ltx_td ltx_align_center ltx_border_b">0</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Tree extraction</h2>

<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">Given a detected (top or left) header region by <cite class="ltx_cite ltx_citemacro_citep">[Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2019a</a>]</cite>, we develop a rule-based strategy to extract tree hierarchies out of merged cells, indentation levels, and formulas in data cells. By applying this method on the detected top and left header for each table, we get respective tree hierarchies, then build upon them the bi-dimensional coordinate tree designed for TUTA.</p>
</div>
<div id="A2.p2" class="ltx_para ltx_noindent">
<p id="A2.p2.1" class="ltx_p"><span id="A2.p2.1.1" class="ltx_text ltx_font_bold">Merged cells</span> Merged regions provide spatial alignment and grouping information between levels of headers, thus are useful for finding hierarchical relationships. Specifically, cells covered beneath (or on the right side of) a merged region are often children nodes of the merged parent. Through this inter-level association (usually on the top), we can build a prototype of the hierarchical header tree.</p>
</div>
<div id="A2.p3" class="ltx_para ltx_noindent">
<p id="A2.p3.1" class="ltx_p"><span id="A2.p3.1.1" class="ltx_text ltx_font_bold">Indentation levels</span> Indentation usually appears in left headers to indicate hierarchical levels in both spreadsheet and web tables.
Generally, indentation refers to the visual indentation effect that includes various operation methods. Users can insert various number of spaces and/or tabs to create an indentation effect. Or, they can write cells at different levels into separate columns. In spreadsheets, Excel provides an operation to set indentation level in the cell format menu.
We transform these layout operations into effective heuristics, to extract tree hierarchies from left headers.
By extracting indentation levels based on these three operations, we accordingly assign different hierarchical levels to cells and create the left header tree.</p>
</div>
<div id="A2.p4" class="ltx_para ltx_noindent">
<p id="A2.p4.1" class="ltx_p"><span id="A2.p4.1.1" class="ltx_text ltx_font_bold">Formulas</span> Formula is an important feature, especially in spreadsheet tables that contain information about the calculation relationship between cells. Some formulas indicate the aggregation relationship between cells, for example, SUM and AVERAGE. What’s more, if all cells in a row share the same aggregation formula pattern, the left header node leading this row should be treated as the parent node of other referenced rows. And the columns work similarly. Then, we can get the hierarchical relationship based on formulas. It has a higher priority than indentation levels in our extracting method.</p>
</div>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Experiment details</h2>

<section id="A3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.1. </span>Data pre-processing</h3>

<div id="A3.SS1.p1" class="ltx_para ltx_noindent">
<p id="A3.SS1.p1.4" class="ltx_p"><span id="A3.SS1.p1.4.1" class="ltx_text ltx_font_bold">General pre-processing</span>  In order to control sequences within a reasonable length and prevent unhelpful numerical information, we:
(1) perform a heuristic sampling over cells in the data region, for they often express similar numerics yet introduce limited semantics. By classifying data cells into text- and value-dominant types, we sample out <math id="A3.SS1.p1.1.m1.1" class="ltx_Math" alttext="50\%" display="inline"><semantics id="A3.SS1.p1.1.m1.1a"><mrow id="A3.SS1.p1.1.m1.1.1" xref="A3.SS1.p1.1.m1.1.1.cmml"><mn id="A3.SS1.p1.1.m1.1.1.2" xref="A3.SS1.p1.1.m1.1.1.2.cmml">50</mn><mo id="A3.SS1.p1.1.m1.1.1.1" xref="A3.SS1.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.1.m1.1b"><apply id="A3.SS1.p1.1.m1.1.1.cmml" xref="A3.SS1.p1.1.m1.1.1"><csymbol cd="latexml" id="A3.SS1.p1.1.m1.1.1.1.cmml" xref="A3.SS1.p1.1.m1.1.1.1">percent</csymbol><cn type="integer" id="A3.SS1.p1.1.m1.1.1.2.cmml" xref="A3.SS1.p1.1.m1.1.1.2">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.1.m1.1c">50\%</annotation></semantics></math> in the former and <math id="A3.SS1.p1.2.m2.1" class="ltx_Math" alttext="90\%" display="inline"><semantics id="A3.SS1.p1.2.m2.1a"><mrow id="A3.SS1.p1.2.m2.1.1" xref="A3.SS1.p1.2.m2.1.1.cmml"><mn id="A3.SS1.p1.2.m2.1.1.2" xref="A3.SS1.p1.2.m2.1.1.2.cmml">90</mn><mo id="A3.SS1.p1.2.m2.1.1.1" xref="A3.SS1.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.2.m2.1b"><apply id="A3.SS1.p1.2.m2.1.1.cmml" xref="A3.SS1.p1.2.m2.1.1"><csymbol cd="latexml" id="A3.SS1.p1.2.m2.1.1.1.cmml" xref="A3.SS1.p1.2.m2.1.1.1">percent</csymbol><cn type="integer" id="A3.SS1.p1.2.m2.1.1.2.cmml" xref="A3.SS1.p1.2.m2.1.1.2">90</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.2.m2.1c">90\%</annotation></semantics></math> in the latter.
(2) take at most <math id="A3.SS1.p1.3.m3.1" class="ltx_Math" alttext="8" display="inline"><semantics id="A3.SS1.p1.3.m3.1a"><mn id="A3.SS1.p1.3.m3.1.1" xref="A3.SS1.p1.3.m3.1.1.cmml">8</mn><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.3.m3.1b"><cn type="integer" id="A3.SS1.p1.3.m3.1.1.cmml" xref="A3.SS1.p1.3.m3.1.1">8</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.3.m3.1c">8</annotation></semantics></math> tokens from a cell and <math id="A3.SS1.p1.4.m4.1" class="ltx_Math" alttext="64" display="inline"><semantics id="A3.SS1.p1.4.m4.1a"><mn id="A3.SS1.p1.4.m4.1.1" xref="A3.SS1.p1.4.m4.1.1.cmml">64</mn><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.4.m4.1b"><cn type="integer" id="A3.SS1.p1.4.m4.1.1.cmml" xref="A3.SS1.p1.4.m4.1.1">64</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.4.m4.1c">64</annotation></semantics></math> tokens from a text segment, given empirical studies showing that  99% of the cases meet this condition.</p>
</div>
<div id="A3.SS1.p2" class="ltx_para ltx_noindent">
<p id="A3.SS1.p2.2" class="ltx_p"><span id="A3.SS1.p2.2.1" class="ltx_text ltx_font_bold">Masked Language Model (MLM)</span>  When selecting tokens to be masked, we employ a hybrid strategy of token-wise and whole-cell masking. To be more specific, we first randomly select 15% of the table cells, then for each cell: (1) with a <math id="A3.SS1.p2.1.m1.1" class="ltx_Math" alttext="70\%" display="inline"><semantics id="A3.SS1.p2.1.m1.1a"><mrow id="A3.SS1.p2.1.m1.1.1" xref="A3.SS1.p2.1.m1.1.1.cmml"><mn id="A3.SS1.p2.1.m1.1.1.2" xref="A3.SS1.p2.1.m1.1.1.2.cmml">70</mn><mo id="A3.SS1.p2.1.m1.1.1.1" xref="A3.SS1.p2.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p2.1.m1.1b"><apply id="A3.SS1.p2.1.m1.1.1.cmml" xref="A3.SS1.p2.1.m1.1.1"><csymbol cd="latexml" id="A3.SS1.p2.1.m1.1.1.1.cmml" xref="A3.SS1.p2.1.m1.1.1.1">percent</csymbol><cn type="integer" id="A3.SS1.p2.1.m1.1.1.2.cmml" xref="A3.SS1.p2.1.m1.1.1.2">70</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p2.1.m1.1c">70\%</annotation></semantics></math> probability, mask one random token, or (2) with a <math id="A3.SS1.p2.2.m2.1" class="ltx_Math" alttext="30\%" display="inline"><semantics id="A3.SS1.p2.2.m2.1a"><mrow id="A3.SS1.p2.2.m2.1.1" xref="A3.SS1.p2.2.m2.1.1.cmml"><mn id="A3.SS1.p2.2.m2.1.1.2" xref="A3.SS1.p2.2.m2.1.1.2.cmml">30</mn><mo id="A3.SS1.p2.2.m2.1.1.1" xref="A3.SS1.p2.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p2.2.m2.1b"><apply id="A3.SS1.p2.2.m2.1.1.cmml" xref="A3.SS1.p2.2.m2.1.1"><csymbol cd="latexml" id="A3.SS1.p2.2.m2.1.1.1.cmml" xref="A3.SS1.p2.2.m2.1.1.1">percent</csymbol><cn type="integer" id="A3.SS1.p2.2.m2.1.1.2.cmml" xref="A3.SS1.p2.2.m2.1.1.2">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p2.2.m2.1c">30\%</annotation></semantics></math> chance, mask all of the tokens of that cell.</p>
</div>
<div id="A3.SS1.p3" class="ltx_para ltx_noindent">
<p id="A3.SS1.p3.1" class="ltx_p"><span id="A3.SS1.p3.1.1" class="ltx_text ltx_font_bold">Cell-Level Cloze (CLC)</span>  When choosing cells to be dug out, we assign a higher probability for cells in table headers than those in the data region. Meanwhile, for more attentive training on the structural information, we apply two strategies at cell selection. In one way, we randomly choose cells on the same sub-tree based on our bi-tree structure; in another, cells are randomly taken from different top header rows and left header columns.
In all, around <math id="A3.SS1.p3.1.m1.1" class="ltx_Math" alttext="20\%" display="inline"><semantics id="A3.SS1.p3.1.m1.1a"><mrow id="A3.SS1.p3.1.m1.1.1" xref="A3.SS1.p3.1.m1.1.1.cmml"><mn id="A3.SS1.p3.1.m1.1.1.2" xref="A3.SS1.p3.1.m1.1.1.2.cmml">20</mn><mo id="A3.SS1.p3.1.m1.1.1.1" xref="A3.SS1.p3.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p3.1.m1.1b"><apply id="A3.SS1.p3.1.m1.1.1.cmml" xref="A3.SS1.p3.1.m1.1.1"><csymbol cd="latexml" id="A3.SS1.p3.1.m1.1.1.1.cmml" xref="A3.SS1.p3.1.m1.1.1.1">percent</csymbol><cn type="integer" id="A3.SS1.p3.1.m1.1.1.2.cmml" xref="A3.SS1.p3.1.m1.1.1.2">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p3.1.m1.1c">20\%</annotation></semantics></math> of the cells are selected in each table.</p>
</div>
<div id="A3.SS1.p4" class="ltx_para ltx_noindent">
<p id="A3.SS1.p4.4" class="ltx_p"><span id="A3.SS1.p4.4.1" class="ltx_text ltx_font_bold">Table Context Retrieval (TCR)</span>  We consider table titles and surrounding descriptions to be relevant texts of tables. We split these texts into segments, then provide each table with both positive (from its own context) and negative (from other’s context) ones. Each table has at most three positive segments and three negative segments.
We randomly choose one positive segment and put it after the leading token <math id="A3.SS1.p4.1.m1.1" class="ltx_Math" alttext="[CLS]" display="inline"><semantics id="A3.SS1.p4.1.m1.1a"><mrow id="A3.SS1.p4.1.m1.1.1.1" xref="A3.SS1.p4.1.m1.1.1.2.cmml"><mo stretchy="false" id="A3.SS1.p4.1.m1.1.1.1.2" xref="A3.SS1.p4.1.m1.1.1.2.1.cmml">[</mo><mrow id="A3.SS1.p4.1.m1.1.1.1.1" xref="A3.SS1.p4.1.m1.1.1.1.1.cmml"><mi id="A3.SS1.p4.1.m1.1.1.1.1.2" xref="A3.SS1.p4.1.m1.1.1.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="A3.SS1.p4.1.m1.1.1.1.1.1" xref="A3.SS1.p4.1.m1.1.1.1.1.1.cmml">​</mo><mi id="A3.SS1.p4.1.m1.1.1.1.1.3" xref="A3.SS1.p4.1.m1.1.1.1.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="A3.SS1.p4.1.m1.1.1.1.1.1a" xref="A3.SS1.p4.1.m1.1.1.1.1.1.cmml">​</mo><mi id="A3.SS1.p4.1.m1.1.1.1.1.4" xref="A3.SS1.p4.1.m1.1.1.1.1.4.cmml">S</mi></mrow><mo stretchy="false" id="A3.SS1.p4.1.m1.1.1.1.3" xref="A3.SS1.p4.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p4.1.m1.1b"><apply id="A3.SS1.p4.1.m1.1.1.2.cmml" xref="A3.SS1.p4.1.m1.1.1.1"><csymbol cd="latexml" id="A3.SS1.p4.1.m1.1.1.2.1.cmml" xref="A3.SS1.p4.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="A3.SS1.p4.1.m1.1.1.1.1.cmml" xref="A3.SS1.p4.1.m1.1.1.1.1"><times id="A3.SS1.p4.1.m1.1.1.1.1.1.cmml" xref="A3.SS1.p4.1.m1.1.1.1.1.1"></times><ci id="A3.SS1.p4.1.m1.1.1.1.1.2.cmml" xref="A3.SS1.p4.1.m1.1.1.1.1.2">𝐶</ci><ci id="A3.SS1.p4.1.m1.1.1.1.1.3.cmml" xref="A3.SS1.p4.1.m1.1.1.1.1.3">𝐿</ci><ci id="A3.SS1.p4.1.m1.1.1.1.1.4.cmml" xref="A3.SS1.p4.1.m1.1.1.1.1.4">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p4.1.m1.1c">[CLS]</annotation></semantics></math>. Other segments are assigned with leading <math id="A3.SS1.p4.2.m2.1" class="ltx_Math" alttext="[SEP]" display="inline"><semantics id="A3.SS1.p4.2.m2.1a"><mrow id="A3.SS1.p4.2.m2.1.1.1" xref="A3.SS1.p4.2.m2.1.1.2.cmml"><mo stretchy="false" id="A3.SS1.p4.2.m2.1.1.1.2" xref="A3.SS1.p4.2.m2.1.1.2.1.cmml">[</mo><mrow id="A3.SS1.p4.2.m2.1.1.1.1" xref="A3.SS1.p4.2.m2.1.1.1.1.cmml"><mi id="A3.SS1.p4.2.m2.1.1.1.1.2" xref="A3.SS1.p4.2.m2.1.1.1.1.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="A3.SS1.p4.2.m2.1.1.1.1.1" xref="A3.SS1.p4.2.m2.1.1.1.1.1.cmml">​</mo><mi id="A3.SS1.p4.2.m2.1.1.1.1.3" xref="A3.SS1.p4.2.m2.1.1.1.1.3.cmml">E</mi><mo lspace="0em" rspace="0em" id="A3.SS1.p4.2.m2.1.1.1.1.1a" xref="A3.SS1.p4.2.m2.1.1.1.1.1.cmml">​</mo><mi id="A3.SS1.p4.2.m2.1.1.1.1.4" xref="A3.SS1.p4.2.m2.1.1.1.1.4.cmml">P</mi></mrow><mo stretchy="false" id="A3.SS1.p4.2.m2.1.1.1.3" xref="A3.SS1.p4.2.m2.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p4.2.m2.1b"><apply id="A3.SS1.p4.2.m2.1.1.2.cmml" xref="A3.SS1.p4.2.m2.1.1.1"><csymbol cd="latexml" id="A3.SS1.p4.2.m2.1.1.2.1.cmml" xref="A3.SS1.p4.2.m2.1.1.1.2">delimited-[]</csymbol><apply id="A3.SS1.p4.2.m2.1.1.1.1.cmml" xref="A3.SS1.p4.2.m2.1.1.1.1"><times id="A3.SS1.p4.2.m2.1.1.1.1.1.cmml" xref="A3.SS1.p4.2.m2.1.1.1.1.1"></times><ci id="A3.SS1.p4.2.m2.1.1.1.1.2.cmml" xref="A3.SS1.p4.2.m2.1.1.1.1.2">𝑆</ci><ci id="A3.SS1.p4.2.m2.1.1.1.1.3.cmml" xref="A3.SS1.p4.2.m2.1.1.1.1.3">𝐸</ci><ci id="A3.SS1.p4.2.m2.1.1.1.1.4.cmml" xref="A3.SS1.p4.2.m2.1.1.1.1.4">𝑃</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p4.2.m2.1c">[SEP]</annotation></semantics></math> tokens and padded after the sequence of table tokens.
Note that in our tree-based attention, <math id="A3.SS1.p4.3.m3.1" class="ltx_Math" alttext="[CLS]" display="inline"><semantics id="A3.SS1.p4.3.m3.1a"><mrow id="A3.SS1.p4.3.m3.1.1.1" xref="A3.SS1.p4.3.m3.1.1.2.cmml"><mo stretchy="false" id="A3.SS1.p4.3.m3.1.1.1.2" xref="A3.SS1.p4.3.m3.1.1.2.1.cmml">[</mo><mrow id="A3.SS1.p4.3.m3.1.1.1.1" xref="A3.SS1.p4.3.m3.1.1.1.1.cmml"><mi id="A3.SS1.p4.3.m3.1.1.1.1.2" xref="A3.SS1.p4.3.m3.1.1.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="A3.SS1.p4.3.m3.1.1.1.1.1" xref="A3.SS1.p4.3.m3.1.1.1.1.1.cmml">​</mo><mi id="A3.SS1.p4.3.m3.1.1.1.1.3" xref="A3.SS1.p4.3.m3.1.1.1.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="A3.SS1.p4.3.m3.1.1.1.1.1a" xref="A3.SS1.p4.3.m3.1.1.1.1.1.cmml">​</mo><mi id="A3.SS1.p4.3.m3.1.1.1.1.4" xref="A3.SS1.p4.3.m3.1.1.1.1.4.cmml">S</mi></mrow><mo stretchy="false" id="A3.SS1.p4.3.m3.1.1.1.3" xref="A3.SS1.p4.3.m3.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p4.3.m3.1b"><apply id="A3.SS1.p4.3.m3.1.1.2.cmml" xref="A3.SS1.p4.3.m3.1.1.1"><csymbol cd="latexml" id="A3.SS1.p4.3.m3.1.1.2.1.cmml" xref="A3.SS1.p4.3.m3.1.1.1.2">delimited-[]</csymbol><apply id="A3.SS1.p4.3.m3.1.1.1.1.cmml" xref="A3.SS1.p4.3.m3.1.1.1.1"><times id="A3.SS1.p4.3.m3.1.1.1.1.1.cmml" xref="A3.SS1.p4.3.m3.1.1.1.1.1"></times><ci id="A3.SS1.p4.3.m3.1.1.1.1.2.cmml" xref="A3.SS1.p4.3.m3.1.1.1.1.2">𝐶</ci><ci id="A3.SS1.p4.3.m3.1.1.1.1.3.cmml" xref="A3.SS1.p4.3.m3.1.1.1.1.3">𝐿</ci><ci id="A3.SS1.p4.3.m3.1.1.1.1.4.cmml" xref="A3.SS1.p4.3.m3.1.1.1.1.4">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p4.3.m3.1c">[CLS]</annotation></semantics></math> learns table-level representations and can ‘see’ all table cells, while the <math id="A3.SS1.p4.4.m4.1" class="ltx_Math" alttext="[SEP]" display="inline"><semantics id="A3.SS1.p4.4.m4.1a"><mrow id="A3.SS1.p4.4.m4.1.1.1" xref="A3.SS1.p4.4.m4.1.1.2.cmml"><mo stretchy="false" id="A3.SS1.p4.4.m4.1.1.1.2" xref="A3.SS1.p4.4.m4.1.1.2.1.cmml">[</mo><mrow id="A3.SS1.p4.4.m4.1.1.1.1" xref="A3.SS1.p4.4.m4.1.1.1.1.cmml"><mi id="A3.SS1.p4.4.m4.1.1.1.1.2" xref="A3.SS1.p4.4.m4.1.1.1.1.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="A3.SS1.p4.4.m4.1.1.1.1.1" xref="A3.SS1.p4.4.m4.1.1.1.1.1.cmml">​</mo><mi id="A3.SS1.p4.4.m4.1.1.1.1.3" xref="A3.SS1.p4.4.m4.1.1.1.1.3.cmml">E</mi><mo lspace="0em" rspace="0em" id="A3.SS1.p4.4.m4.1.1.1.1.1a" xref="A3.SS1.p4.4.m4.1.1.1.1.1.cmml">​</mo><mi id="A3.SS1.p4.4.m4.1.1.1.1.4" xref="A3.SS1.p4.4.m4.1.1.1.1.4.cmml">P</mi></mrow><mo stretchy="false" id="A3.SS1.p4.4.m4.1.1.1.3" xref="A3.SS1.p4.4.m4.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p4.4.m4.1b"><apply id="A3.SS1.p4.4.m4.1.1.2.cmml" xref="A3.SS1.p4.4.m4.1.1.1"><csymbol cd="latexml" id="A3.SS1.p4.4.m4.1.1.2.1.cmml" xref="A3.SS1.p4.4.m4.1.1.1.2">delimited-[]</csymbol><apply id="A3.SS1.p4.4.m4.1.1.1.1.cmml" xref="A3.SS1.p4.4.m4.1.1.1.1"><times id="A3.SS1.p4.4.m4.1.1.1.1.1.cmml" xref="A3.SS1.p4.4.m4.1.1.1.1.1"></times><ci id="A3.SS1.p4.4.m4.1.1.1.1.2.cmml" xref="A3.SS1.p4.4.m4.1.1.1.1.2">𝑆</ci><ci id="A3.SS1.p4.4.m4.1.1.1.1.3.cmml" xref="A3.SS1.p4.4.m4.1.1.1.1.3">𝐸</ci><ci id="A3.SS1.p4.4.m4.1.1.1.1.4.cmml" xref="A3.SS1.p4.4.m4.1.1.1.1.4">𝑃</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p4.4.m4.1c">[SEP]</annotation></semantics></math> of each text segment learns text segment representations and only ‘see’s its internal tokens.
Please find more details in our codebase about computations of the attention visibility matrix <span id="footnote8" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note">8</span>https://github.com/microsoft/TUTA_table_understanding/tuta/model/backbones.py</span></span></span>.</p>
</div>
</section>
<section id="A3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.2. </span>Model Configuration</h3>

<div id="A3.SS2.p1" class="ltx_para ltx_noindent">
<p id="A3.SS2.p1.1" class="ltx_p"><span id="A3.SS2.p1.1.1" class="ltx_text ltx_font_bold">Embedding details</span>  Here we specify the embedding modules.</p>
</div>
<div id="A3.SS2.p2" class="ltx_para">
<p id="A3.SS2.p2.14" class="ltx_p">For in-table positions, we empirically set an upper-bound for table size and header shape.
To control the maximum supported tree size, we define a maximum number of tree layers <math id="A3.SS2.p2.1.m1.1" class="ltx_Math" alttext="L=4" display="inline"><semantics id="A3.SS2.p2.1.m1.1a"><mrow id="A3.SS2.p2.1.m1.1.1" xref="A3.SS2.p2.1.m1.1.1.cmml"><mi id="A3.SS2.p2.1.m1.1.1.2" xref="A3.SS2.p2.1.m1.1.1.2.cmml">L</mi><mo id="A3.SS2.p2.1.m1.1.1.1" xref="A3.SS2.p2.1.m1.1.1.1.cmml">=</mo><mn id="A3.SS2.p2.1.m1.1.1.3" xref="A3.SS2.p2.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.1.m1.1b"><apply id="A3.SS2.p2.1.m1.1.1.cmml" xref="A3.SS2.p2.1.m1.1.1"><eq id="A3.SS2.p2.1.m1.1.1.1.cmml" xref="A3.SS2.p2.1.m1.1.1.1"></eq><ci id="A3.SS2.p2.1.m1.1.1.2.cmml" xref="A3.SS2.p2.1.m1.1.1.2">𝐿</ci><cn type="integer" id="A3.SS2.p2.1.m1.1.1.3.cmml" xref="A3.SS2.p2.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.1.m1.1c">L=4</annotation></semantics></math>, and at deeper levels <math id="A3.SS2.p2.2.m2.2" class="ltx_Math" alttext="i\in[0,L]" display="inline"><semantics id="A3.SS2.p2.2.m2.2a"><mrow id="A3.SS2.p2.2.m2.2.3" xref="A3.SS2.p2.2.m2.2.3.cmml"><mi id="A3.SS2.p2.2.m2.2.3.2" xref="A3.SS2.p2.2.m2.2.3.2.cmml">i</mi><mo id="A3.SS2.p2.2.m2.2.3.1" xref="A3.SS2.p2.2.m2.2.3.1.cmml">∈</mo><mrow id="A3.SS2.p2.2.m2.2.3.3.2" xref="A3.SS2.p2.2.m2.2.3.3.1.cmml"><mo stretchy="false" id="A3.SS2.p2.2.m2.2.3.3.2.1" xref="A3.SS2.p2.2.m2.2.3.3.1.cmml">[</mo><mn id="A3.SS2.p2.2.m2.1.1" xref="A3.SS2.p2.2.m2.1.1.cmml">0</mn><mo id="A3.SS2.p2.2.m2.2.3.3.2.2" xref="A3.SS2.p2.2.m2.2.3.3.1.cmml">,</mo><mi id="A3.SS2.p2.2.m2.2.2" xref="A3.SS2.p2.2.m2.2.2.cmml">L</mi><mo stretchy="false" id="A3.SS2.p2.2.m2.2.3.3.2.3" xref="A3.SS2.p2.2.m2.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.2.m2.2b"><apply id="A3.SS2.p2.2.m2.2.3.cmml" xref="A3.SS2.p2.2.m2.2.3"><in id="A3.SS2.p2.2.m2.2.3.1.cmml" xref="A3.SS2.p2.2.m2.2.3.1"></in><ci id="A3.SS2.p2.2.m2.2.3.2.cmml" xref="A3.SS2.p2.2.m2.2.3.2">𝑖</ci><interval closure="closed" id="A3.SS2.p2.2.m2.2.3.3.1.cmml" xref="A3.SS2.p2.2.m2.2.3.3.2"><cn type="integer" id="A3.SS2.p2.2.m2.1.1.cmml" xref="A3.SS2.p2.2.m2.1.1">0</cn><ci id="A3.SS2.p2.2.m2.2.2.cmml" xref="A3.SS2.p2.2.m2.2.2">𝐿</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.2.m2.2c">i\in[0,L]</annotation></semantics></math>, an increasing number of degrees from <math id="A3.SS2.p2.3.m3.1" class="ltx_Math" alttext="32" display="inline"><semantics id="A3.SS2.p2.3.m3.1a"><mn id="A3.SS2.p2.3.m3.1.1" xref="A3.SS2.p2.3.m3.1.1.cmml">32</mn><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.3.m3.1b"><cn type="integer" id="A3.SS2.p2.3.m3.1.1.cmml" xref="A3.SS2.p2.3.m3.1.1">32</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.3.m3.1c">32</annotation></semantics></math>, <math id="A3.SS2.p2.4.m4.1" class="ltx_Math" alttext="32" display="inline"><semantics id="A3.SS2.p2.4.m4.1a"><mn id="A3.SS2.p2.4.m4.1.1" xref="A3.SS2.p2.4.m4.1.1.cmml">32</mn><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.4.m4.1b"><cn type="integer" id="A3.SS2.p2.4.m4.1.1.cmml" xref="A3.SS2.p2.4.m4.1.1">32</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.4.m4.1c">32</annotation></semantics></math>, <math id="A3.SS2.p2.5.m5.1" class="ltx_Math" alttext="64" display="inline"><semantics id="A3.SS2.p2.5.m5.1a"><mn id="A3.SS2.p2.5.m5.1.1" xref="A3.SS2.p2.5.m5.1.1.cmml">64</mn><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.5.m5.1b"><cn type="integer" id="A3.SS2.p2.5.m5.1.1.cmml" xref="A3.SS2.p2.5.m5.1.1">64</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.5.m5.1c">64</annotation></semantics></math>, to <math id="A3.SS2.p2.6.m6.1" class="ltx_Math" alttext="256" display="inline"><semantics id="A3.SS2.p2.6.m6.1a"><mn id="A3.SS2.p2.6.m6.1.1" xref="A3.SS2.p2.6.m6.1.1.cmml">256</mn><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.6.m6.1b"><cn type="integer" id="A3.SS2.p2.6.m6.1.1.cmml" xref="A3.SS2.p2.6.m6.1.1">256</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.6.m6.1c">256</annotation></semantics></math>, thus a maximum number of node degrees <math id="A3.SS2.p2.7.m7.1" class="ltx_Math" alttext="G\in\mathbb{N}^{L}" display="inline"><semantics id="A3.SS2.p2.7.m7.1a"><mrow id="A3.SS2.p2.7.m7.1.1" xref="A3.SS2.p2.7.m7.1.1.cmml"><mi id="A3.SS2.p2.7.m7.1.1.2" xref="A3.SS2.p2.7.m7.1.1.2.cmml">G</mi><mo id="A3.SS2.p2.7.m7.1.1.1" xref="A3.SS2.p2.7.m7.1.1.1.cmml">∈</mo><msup id="A3.SS2.p2.7.m7.1.1.3" xref="A3.SS2.p2.7.m7.1.1.3.cmml"><mi id="A3.SS2.p2.7.m7.1.1.3.2" xref="A3.SS2.p2.7.m7.1.1.3.2.cmml">ℕ</mi><mi id="A3.SS2.p2.7.m7.1.1.3.3" xref="A3.SS2.p2.7.m7.1.1.3.3.cmml">L</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.7.m7.1b"><apply id="A3.SS2.p2.7.m7.1.1.cmml" xref="A3.SS2.p2.7.m7.1.1"><in id="A3.SS2.p2.7.m7.1.1.1.cmml" xref="A3.SS2.p2.7.m7.1.1.1"></in><ci id="A3.SS2.p2.7.m7.1.1.2.cmml" xref="A3.SS2.p2.7.m7.1.1.2">𝐺</ci><apply id="A3.SS2.p2.7.m7.1.1.3.cmml" xref="A3.SS2.p2.7.m7.1.1.3"><csymbol cd="ambiguous" id="A3.SS2.p2.7.m7.1.1.3.1.cmml" xref="A3.SS2.p2.7.m7.1.1.3">superscript</csymbol><ci id="A3.SS2.p2.7.m7.1.1.3.2.cmml" xref="A3.SS2.p2.7.m7.1.1.3.2">ℕ</ci><ci id="A3.SS2.p2.7.m7.1.1.3.3.cmml" xref="A3.SS2.p2.7.m7.1.1.3.3">𝐿</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.7.m7.1c">G\in\mathbb{N}^{L}</annotation></semantics></math> for tree layers.
In another word, a top/left header has at most <math id="A3.SS2.p2.8.m8.1" class="ltx_Math" alttext="L=4" display="inline"><semantics id="A3.SS2.p2.8.m8.1a"><mrow id="A3.SS2.p2.8.m8.1.1" xref="A3.SS2.p2.8.m8.1.1.cmml"><mi id="A3.SS2.p2.8.m8.1.1.2" xref="A3.SS2.p2.8.m8.1.1.2.cmml">L</mi><mo id="A3.SS2.p2.8.m8.1.1.1" xref="A3.SS2.p2.8.m8.1.1.1.cmml">=</mo><mn id="A3.SS2.p2.8.m8.1.1.3" xref="A3.SS2.p2.8.m8.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.8.m8.1b"><apply id="A3.SS2.p2.8.m8.1.1.cmml" xref="A3.SS2.p2.8.m8.1.1"><eq id="A3.SS2.p2.8.m8.1.1.1.cmml" xref="A3.SS2.p2.8.m8.1.1.1"></eq><ci id="A3.SS2.p2.8.m8.1.1.2.cmml" xref="A3.SS2.p2.8.m8.1.1.2">𝐿</ci><cn type="integer" id="A3.SS2.p2.8.m8.1.1.3.cmml" xref="A3.SS2.p2.8.m8.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.8.m8.1c">L=4</annotation></semantics></math> rows/columns; while within the <math id="A3.SS2.p2.9.m9.1" class="ltx_Math" alttext="i^{th}" display="inline"><semantics id="A3.SS2.p2.9.m9.1a"><msup id="A3.SS2.p2.9.m9.1.1" xref="A3.SS2.p2.9.m9.1.1.cmml"><mi id="A3.SS2.p2.9.m9.1.1.2" xref="A3.SS2.p2.9.m9.1.1.2.cmml">i</mi><mrow id="A3.SS2.p2.9.m9.1.1.3" xref="A3.SS2.p2.9.m9.1.1.3.cmml"><mi id="A3.SS2.p2.9.m9.1.1.3.2" xref="A3.SS2.p2.9.m9.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p2.9.m9.1.1.3.1" xref="A3.SS2.p2.9.m9.1.1.3.1.cmml">​</mo><mi id="A3.SS2.p2.9.m9.1.1.3.3" xref="A3.SS2.p2.9.m9.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.9.m9.1b"><apply id="A3.SS2.p2.9.m9.1.1.cmml" xref="A3.SS2.p2.9.m9.1.1"><csymbol cd="ambiguous" id="A3.SS2.p2.9.m9.1.1.1.cmml" xref="A3.SS2.p2.9.m9.1.1">superscript</csymbol><ci id="A3.SS2.p2.9.m9.1.1.2.cmml" xref="A3.SS2.p2.9.m9.1.1.2">𝑖</ci><apply id="A3.SS2.p2.9.m9.1.1.3.cmml" xref="A3.SS2.p2.9.m9.1.1.3"><times id="A3.SS2.p2.9.m9.1.1.3.1.cmml" xref="A3.SS2.p2.9.m9.1.1.3.1"></times><ci id="A3.SS2.p2.9.m9.1.1.3.2.cmml" xref="A3.SS2.p2.9.m9.1.1.3.2">𝑡</ci><ci id="A3.SS2.p2.9.m9.1.1.3.3.cmml" xref="A3.SS2.p2.9.m9.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.9.m9.1c">i^{th}</annotation></semantics></math> row/column, there are at most <math id="A3.SS2.p2.10.m10.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="A3.SS2.p2.10.m10.1a"><msub id="A3.SS2.p2.10.m10.1.1" xref="A3.SS2.p2.10.m10.1.1.cmml"><mi id="A3.SS2.p2.10.m10.1.1.2" xref="A3.SS2.p2.10.m10.1.1.2.cmml">G</mi><mi id="A3.SS2.p2.10.m10.1.1.3" xref="A3.SS2.p2.10.m10.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.10.m10.1b"><apply id="A3.SS2.p2.10.m10.1.1.cmml" xref="A3.SS2.p2.10.m10.1.1"><csymbol cd="ambiguous" id="A3.SS2.p2.10.m10.1.1.1.cmml" xref="A3.SS2.p2.10.m10.1.1">subscript</csymbol><ci id="A3.SS2.p2.10.m10.1.1.2.cmml" xref="A3.SS2.p2.10.m10.1.1.2">𝐺</ci><ci id="A3.SS2.p2.10.m10.1.1.3.cmml" xref="A3.SS2.p2.10.m10.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.10.m10.1c">G_{i}</annotation></semantics></math> cells, where <math id="A3.SS2.p2.11.m11.8" class="ltx_Math" alttext="G=[32,32,64,256],i\in[1,4]" display="inline"><semantics id="A3.SS2.p2.11.m11.8a"><mrow id="A3.SS2.p2.11.m11.8.8.2" xref="A3.SS2.p2.11.m11.8.8.3.cmml"><mrow id="A3.SS2.p2.11.m11.7.7.1.1" xref="A3.SS2.p2.11.m11.7.7.1.1.cmml"><mi id="A3.SS2.p2.11.m11.7.7.1.1.2" xref="A3.SS2.p2.11.m11.7.7.1.1.2.cmml">G</mi><mo id="A3.SS2.p2.11.m11.7.7.1.1.1" xref="A3.SS2.p2.11.m11.7.7.1.1.1.cmml">=</mo><mrow id="A3.SS2.p2.11.m11.7.7.1.1.3.2" xref="A3.SS2.p2.11.m11.7.7.1.1.3.1.cmml"><mo stretchy="false" id="A3.SS2.p2.11.m11.7.7.1.1.3.2.1" xref="A3.SS2.p2.11.m11.7.7.1.1.3.1.cmml">[</mo><mn id="A3.SS2.p2.11.m11.1.1" xref="A3.SS2.p2.11.m11.1.1.cmml">32</mn><mo id="A3.SS2.p2.11.m11.7.7.1.1.3.2.2" xref="A3.SS2.p2.11.m11.7.7.1.1.3.1.cmml">,</mo><mn id="A3.SS2.p2.11.m11.2.2" xref="A3.SS2.p2.11.m11.2.2.cmml">32</mn><mo id="A3.SS2.p2.11.m11.7.7.1.1.3.2.3" xref="A3.SS2.p2.11.m11.7.7.1.1.3.1.cmml">,</mo><mn id="A3.SS2.p2.11.m11.3.3" xref="A3.SS2.p2.11.m11.3.3.cmml">64</mn><mo id="A3.SS2.p2.11.m11.7.7.1.1.3.2.4" xref="A3.SS2.p2.11.m11.7.7.1.1.3.1.cmml">,</mo><mn id="A3.SS2.p2.11.m11.4.4" xref="A3.SS2.p2.11.m11.4.4.cmml">256</mn><mo stretchy="false" id="A3.SS2.p2.11.m11.7.7.1.1.3.2.5" xref="A3.SS2.p2.11.m11.7.7.1.1.3.1.cmml">]</mo></mrow></mrow><mo id="A3.SS2.p2.11.m11.8.8.2.3" xref="A3.SS2.p2.11.m11.8.8.3a.cmml">,</mo><mrow id="A3.SS2.p2.11.m11.8.8.2.2" xref="A3.SS2.p2.11.m11.8.8.2.2.cmml"><mi id="A3.SS2.p2.11.m11.8.8.2.2.2" xref="A3.SS2.p2.11.m11.8.8.2.2.2.cmml">i</mi><mo id="A3.SS2.p2.11.m11.8.8.2.2.1" xref="A3.SS2.p2.11.m11.8.8.2.2.1.cmml">∈</mo><mrow id="A3.SS2.p2.11.m11.8.8.2.2.3.2" xref="A3.SS2.p2.11.m11.8.8.2.2.3.1.cmml"><mo stretchy="false" id="A3.SS2.p2.11.m11.8.8.2.2.3.2.1" xref="A3.SS2.p2.11.m11.8.8.2.2.3.1.cmml">[</mo><mn id="A3.SS2.p2.11.m11.5.5" xref="A3.SS2.p2.11.m11.5.5.cmml">1</mn><mo id="A3.SS2.p2.11.m11.8.8.2.2.3.2.2" xref="A3.SS2.p2.11.m11.8.8.2.2.3.1.cmml">,</mo><mn id="A3.SS2.p2.11.m11.6.6" xref="A3.SS2.p2.11.m11.6.6.cmml">4</mn><mo stretchy="false" id="A3.SS2.p2.11.m11.8.8.2.2.3.2.3" xref="A3.SS2.p2.11.m11.8.8.2.2.3.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.11.m11.8b"><apply id="A3.SS2.p2.11.m11.8.8.3.cmml" xref="A3.SS2.p2.11.m11.8.8.2"><csymbol cd="ambiguous" id="A3.SS2.p2.11.m11.8.8.3a.cmml" xref="A3.SS2.p2.11.m11.8.8.2.3">formulae-sequence</csymbol><apply id="A3.SS2.p2.11.m11.7.7.1.1.cmml" xref="A3.SS2.p2.11.m11.7.7.1.1"><eq id="A3.SS2.p2.11.m11.7.7.1.1.1.cmml" xref="A3.SS2.p2.11.m11.7.7.1.1.1"></eq><ci id="A3.SS2.p2.11.m11.7.7.1.1.2.cmml" xref="A3.SS2.p2.11.m11.7.7.1.1.2">𝐺</ci><list id="A3.SS2.p2.11.m11.7.7.1.1.3.1.cmml" xref="A3.SS2.p2.11.m11.7.7.1.1.3.2"><cn type="integer" id="A3.SS2.p2.11.m11.1.1.cmml" xref="A3.SS2.p2.11.m11.1.1">32</cn><cn type="integer" id="A3.SS2.p2.11.m11.2.2.cmml" xref="A3.SS2.p2.11.m11.2.2">32</cn><cn type="integer" id="A3.SS2.p2.11.m11.3.3.cmml" xref="A3.SS2.p2.11.m11.3.3">64</cn><cn type="integer" id="A3.SS2.p2.11.m11.4.4.cmml" xref="A3.SS2.p2.11.m11.4.4">256</cn></list></apply><apply id="A3.SS2.p2.11.m11.8.8.2.2.cmml" xref="A3.SS2.p2.11.m11.8.8.2.2"><in id="A3.SS2.p2.11.m11.8.8.2.2.1.cmml" xref="A3.SS2.p2.11.m11.8.8.2.2.1"></in><ci id="A3.SS2.p2.11.m11.8.8.2.2.2.cmml" xref="A3.SS2.p2.11.m11.8.8.2.2.2">𝑖</ci><interval closure="closed" id="A3.SS2.p2.11.m11.8.8.2.2.3.1.cmml" xref="A3.SS2.p2.11.m11.8.8.2.2.3.2"><cn type="integer" id="A3.SS2.p2.11.m11.5.5.cmml" xref="A3.SS2.p2.11.m11.5.5">1</cn><cn type="integer" id="A3.SS2.p2.11.m11.6.6.cmml" xref="A3.SS2.p2.11.m11.6.6">4</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.11.m11.8c">G=[32,32,64,256],i\in[1,4]</annotation></semantics></math>.
Note that the last supporting degree, <math id="A3.SS2.p2.12.m12.1" class="ltx_Math" alttext="G_{L-1}=256" display="inline"><semantics id="A3.SS2.p2.12.m12.1a"><mrow id="A3.SS2.p2.12.m12.1.1" xref="A3.SS2.p2.12.m12.1.1.cmml"><msub id="A3.SS2.p2.12.m12.1.1.2" xref="A3.SS2.p2.12.m12.1.1.2.cmml"><mi id="A3.SS2.p2.12.m12.1.1.2.2" xref="A3.SS2.p2.12.m12.1.1.2.2.cmml">G</mi><mrow id="A3.SS2.p2.12.m12.1.1.2.3" xref="A3.SS2.p2.12.m12.1.1.2.3.cmml"><mi id="A3.SS2.p2.12.m12.1.1.2.3.2" xref="A3.SS2.p2.12.m12.1.1.2.3.2.cmml">L</mi><mo id="A3.SS2.p2.12.m12.1.1.2.3.1" xref="A3.SS2.p2.12.m12.1.1.2.3.1.cmml">−</mo><mn id="A3.SS2.p2.12.m12.1.1.2.3.3" xref="A3.SS2.p2.12.m12.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="A3.SS2.p2.12.m12.1.1.1" xref="A3.SS2.p2.12.m12.1.1.1.cmml">=</mo><mn id="A3.SS2.p2.12.m12.1.1.3" xref="A3.SS2.p2.12.m12.1.1.3.cmml">256</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.12.m12.1b"><apply id="A3.SS2.p2.12.m12.1.1.cmml" xref="A3.SS2.p2.12.m12.1.1"><eq id="A3.SS2.p2.12.m12.1.1.1.cmml" xref="A3.SS2.p2.12.m12.1.1.1"></eq><apply id="A3.SS2.p2.12.m12.1.1.2.cmml" xref="A3.SS2.p2.12.m12.1.1.2"><csymbol cd="ambiguous" id="A3.SS2.p2.12.m12.1.1.2.1.cmml" xref="A3.SS2.p2.12.m12.1.1.2">subscript</csymbol><ci id="A3.SS2.p2.12.m12.1.1.2.2.cmml" xref="A3.SS2.p2.12.m12.1.1.2.2">𝐺</ci><apply id="A3.SS2.p2.12.m12.1.1.2.3.cmml" xref="A3.SS2.p2.12.m12.1.1.2.3"><minus id="A3.SS2.p2.12.m12.1.1.2.3.1.cmml" xref="A3.SS2.p2.12.m12.1.1.2.3.1"></minus><ci id="A3.SS2.p2.12.m12.1.1.2.3.2.cmml" xref="A3.SS2.p2.12.m12.1.1.2.3.2">𝐿</ci><cn type="integer" id="A3.SS2.p2.12.m12.1.1.2.3.3.cmml" xref="A3.SS2.p2.12.m12.1.1.2.3.3">1</cn></apply></apply><cn type="integer" id="A3.SS2.p2.12.m12.1.1.3.cmml" xref="A3.SS2.p2.12.m12.1.1.3">256</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.12.m12.1c">G_{L-1}=256</annotation></semantics></math>, accords with both the maximum number of rows and columns, allowing a compatible conversion from a hierarchical coordinate to a flat setting.
When encountering large tables, we can split them into several smaller ones (share the same top or left header) based on detected table headers.
When transforming in-table position to embeddings, each index of the tree coordinate is mapped to a dimension of size <math id="A3.SS2.p2.13.m13.1" class="ltx_Math" alttext="d_{TL}=72" display="inline"><semantics id="A3.SS2.p2.13.m13.1a"><mrow id="A3.SS2.p2.13.m13.1.1" xref="A3.SS2.p2.13.m13.1.1.cmml"><msub id="A3.SS2.p2.13.m13.1.1.2" xref="A3.SS2.p2.13.m13.1.1.2.cmml"><mi id="A3.SS2.p2.13.m13.1.1.2.2" xref="A3.SS2.p2.13.m13.1.1.2.2.cmml">d</mi><mrow id="A3.SS2.p2.13.m13.1.1.2.3" xref="A3.SS2.p2.13.m13.1.1.2.3.cmml"><mi id="A3.SS2.p2.13.m13.1.1.2.3.2" xref="A3.SS2.p2.13.m13.1.1.2.3.2.cmml">T</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p2.13.m13.1.1.2.3.1" xref="A3.SS2.p2.13.m13.1.1.2.3.1.cmml">​</mo><mi id="A3.SS2.p2.13.m13.1.1.2.3.3" xref="A3.SS2.p2.13.m13.1.1.2.3.3.cmml">L</mi></mrow></msub><mo id="A3.SS2.p2.13.m13.1.1.1" xref="A3.SS2.p2.13.m13.1.1.1.cmml">=</mo><mn id="A3.SS2.p2.13.m13.1.1.3" xref="A3.SS2.p2.13.m13.1.1.3.cmml">72</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.13.m13.1b"><apply id="A3.SS2.p2.13.m13.1.1.cmml" xref="A3.SS2.p2.13.m13.1.1"><eq id="A3.SS2.p2.13.m13.1.1.1.cmml" xref="A3.SS2.p2.13.m13.1.1.1"></eq><apply id="A3.SS2.p2.13.m13.1.1.2.cmml" xref="A3.SS2.p2.13.m13.1.1.2"><csymbol cd="ambiguous" id="A3.SS2.p2.13.m13.1.1.2.1.cmml" xref="A3.SS2.p2.13.m13.1.1.2">subscript</csymbol><ci id="A3.SS2.p2.13.m13.1.1.2.2.cmml" xref="A3.SS2.p2.13.m13.1.1.2.2">𝑑</ci><apply id="A3.SS2.p2.13.m13.1.1.2.3.cmml" xref="A3.SS2.p2.13.m13.1.1.2.3"><times id="A3.SS2.p2.13.m13.1.1.2.3.1.cmml" xref="A3.SS2.p2.13.m13.1.1.2.3.1"></times><ci id="A3.SS2.p2.13.m13.1.1.2.3.2.cmml" xref="A3.SS2.p2.13.m13.1.1.2.3.2">𝑇</ci><ci id="A3.SS2.p2.13.m13.1.1.2.3.3.cmml" xref="A3.SS2.p2.13.m13.1.1.2.3.3">𝐿</ci></apply></apply><cn type="integer" id="A3.SS2.p2.13.m13.1.1.3.cmml" xref="A3.SS2.p2.13.m13.1.1.3">72</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.13.m13.1c">d_{TL}=72</annotation></semantics></math>, while row and column indices are embedded to size <math id="A3.SS2.p2.14.m14.1" class="ltx_Math" alttext="d_{RC}=96" display="inline"><semantics id="A3.SS2.p2.14.m14.1a"><mrow id="A3.SS2.p2.14.m14.1.1" xref="A3.SS2.p2.14.m14.1.1.cmml"><msub id="A3.SS2.p2.14.m14.1.1.2" xref="A3.SS2.p2.14.m14.1.1.2.cmml"><mi id="A3.SS2.p2.14.m14.1.1.2.2" xref="A3.SS2.p2.14.m14.1.1.2.2.cmml">d</mi><mrow id="A3.SS2.p2.14.m14.1.1.2.3" xref="A3.SS2.p2.14.m14.1.1.2.3.cmml"><mi id="A3.SS2.p2.14.m14.1.1.2.3.2" xref="A3.SS2.p2.14.m14.1.1.2.3.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p2.14.m14.1.1.2.3.1" xref="A3.SS2.p2.14.m14.1.1.2.3.1.cmml">​</mo><mi id="A3.SS2.p2.14.m14.1.1.2.3.3" xref="A3.SS2.p2.14.m14.1.1.2.3.3.cmml">C</mi></mrow></msub><mo id="A3.SS2.p2.14.m14.1.1.1" xref="A3.SS2.p2.14.m14.1.1.1.cmml">=</mo><mn id="A3.SS2.p2.14.m14.1.1.3" xref="A3.SS2.p2.14.m14.1.1.3.cmml">96</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.14.m14.1b"><apply id="A3.SS2.p2.14.m14.1.1.cmml" xref="A3.SS2.p2.14.m14.1.1"><eq id="A3.SS2.p2.14.m14.1.1.1.cmml" xref="A3.SS2.p2.14.m14.1.1.1"></eq><apply id="A3.SS2.p2.14.m14.1.1.2.cmml" xref="A3.SS2.p2.14.m14.1.1.2"><csymbol cd="ambiguous" id="A3.SS2.p2.14.m14.1.1.2.1.cmml" xref="A3.SS2.p2.14.m14.1.1.2">subscript</csymbol><ci id="A3.SS2.p2.14.m14.1.1.2.2.cmml" xref="A3.SS2.p2.14.m14.1.1.2.2">𝑑</ci><apply id="A3.SS2.p2.14.m14.1.1.2.3.cmml" xref="A3.SS2.p2.14.m14.1.1.2.3"><times id="A3.SS2.p2.14.m14.1.1.2.3.1.cmml" xref="A3.SS2.p2.14.m14.1.1.2.3.1"></times><ci id="A3.SS2.p2.14.m14.1.1.2.3.2.cmml" xref="A3.SS2.p2.14.m14.1.1.2.3.2">𝑅</ci><ci id="A3.SS2.p2.14.m14.1.1.2.3.3.cmml" xref="A3.SS2.p2.14.m14.1.1.2.3.3">𝐶</ci></apply></apply><cn type="integer" id="A3.SS2.p2.14.m14.1.1.3.cmml" xref="A3.SS2.p2.14.m14.1.1.3">96</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.14.m14.1c">d_{RC}=96</annotation></semantics></math>.</p>
</div>
<div id="A3.SS2.p3" class="ltx_para">
<p id="A3.SS2.p3.4" class="ltx_p">For internal position embedding, we keep the first <math id="A3.SS2.p3.1.m1.1" class="ltx_Math" alttext="I=8" display="inline"><semantics id="A3.SS2.p3.1.m1.1a"><mrow id="A3.SS2.p3.1.m1.1.1" xref="A3.SS2.p3.1.m1.1.1.cmml"><mi id="A3.SS2.p3.1.m1.1.1.2" xref="A3.SS2.p3.1.m1.1.1.2.cmml">I</mi><mo id="A3.SS2.p3.1.m1.1.1.1" xref="A3.SS2.p3.1.m1.1.1.1.cmml">=</mo><mn id="A3.SS2.p3.1.m1.1.1.3" xref="A3.SS2.p3.1.m1.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p3.1.m1.1b"><apply id="A3.SS2.p3.1.m1.1.1.cmml" xref="A3.SS2.p3.1.m1.1.1"><eq id="A3.SS2.p3.1.m1.1.1.1.cmml" xref="A3.SS2.p3.1.m1.1.1.1"></eq><ci id="A3.SS2.p3.1.m1.1.1.2.cmml" xref="A3.SS2.p3.1.m1.1.1.2">𝐼</ci><cn type="integer" id="A3.SS2.p3.1.m1.1.1.3.cmml" xref="A3.SS2.p3.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p3.1.m1.1c">I=8</annotation></semantics></math> tokens in each cell and <math id="A3.SS2.p3.2.m2.1" class="ltx_Math" alttext="I=64" display="inline"><semantics id="A3.SS2.p3.2.m2.1a"><mrow id="A3.SS2.p3.2.m2.1.1" xref="A3.SS2.p3.2.m2.1.1.cmml"><mi id="A3.SS2.p3.2.m2.1.1.2" xref="A3.SS2.p3.2.m2.1.1.2.cmml">I</mi><mo id="A3.SS2.p3.2.m2.1.1.1" xref="A3.SS2.p3.2.m2.1.1.1.cmml">=</mo><mn id="A3.SS2.p3.2.m2.1.1.3" xref="A3.SS2.p3.2.m2.1.1.3.cmml">64</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p3.2.m2.1b"><apply id="A3.SS2.p3.2.m2.1.1.cmml" xref="A3.SS2.p3.2.m2.1.1"><eq id="A3.SS2.p3.2.m2.1.1.1.cmml" xref="A3.SS2.p3.2.m2.1.1.1"></eq><ci id="A3.SS2.p3.2.m2.1.1.2.cmml" xref="A3.SS2.p3.2.m2.1.1.2">𝐼</ci><cn type="integer" id="A3.SS2.p3.2.m2.1.1.3.cmml" xref="A3.SS2.p3.2.m2.1.1.3">64</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p3.2.m2.1c">I=64</annotation></semantics></math> for each text segment, given the empirical studies on our corpus showing that over <math id="A3.SS2.p3.3.m3.1" class="ltx_Math" alttext="99\%" display="inline"><semantics id="A3.SS2.p3.3.m3.1a"><mrow id="A3.SS2.p3.3.m3.1.1" xref="A3.SS2.p3.3.m3.1.1.cmml"><mn id="A3.SS2.p3.3.m3.1.1.2" xref="A3.SS2.p3.3.m3.1.1.2.cmml">99</mn><mo id="A3.SS2.p3.3.m3.1.1.1" xref="A3.SS2.p3.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p3.3.m3.1b"><apply id="A3.SS2.p3.3.m3.1.1.cmml" xref="A3.SS2.p3.3.m3.1.1"><csymbol cd="latexml" id="A3.SS2.p3.3.m3.1.1.1.cmml" xref="A3.SS2.p3.3.m3.1.1.1">percent</csymbol><cn type="integer" id="A3.SS2.p3.3.m3.1.1.2.cmml" xref="A3.SS2.p3.3.m3.1.1.2">99</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p3.3.m3.1c">99\%</annotation></semantics></math> of cell strings and texts satisfy this condition. Note that though few (<math id="A3.SS2.p3.4.m4.1" class="ltx_Math" alttext="&lt;1\%" display="inline"><semantics id="A3.SS2.p3.4.m4.1a"><mrow id="A3.SS2.p3.4.m4.1.1" xref="A3.SS2.p3.4.m4.1.1.cmml"><mi id="A3.SS2.p3.4.m4.1.1.2" xref="A3.SS2.p3.4.m4.1.1.2.cmml"></mi><mo id="A3.SS2.p3.4.m4.1.1.1" xref="A3.SS2.p3.4.m4.1.1.1.cmml">&lt;</mo><mrow id="A3.SS2.p3.4.m4.1.1.3" xref="A3.SS2.p3.4.m4.1.1.3.cmml"><mn id="A3.SS2.p3.4.m4.1.1.3.2" xref="A3.SS2.p3.4.m4.1.1.3.2.cmml">1</mn><mo id="A3.SS2.p3.4.m4.1.1.3.1" xref="A3.SS2.p3.4.m4.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p3.4.m4.1b"><apply id="A3.SS2.p3.4.m4.1.1.cmml" xref="A3.SS2.p3.4.m4.1.1"><lt id="A3.SS2.p3.4.m4.1.1.1.cmml" xref="A3.SS2.p3.4.m4.1.1.1"></lt><csymbol cd="latexml" id="A3.SS2.p3.4.m4.1.1.2.cmml" xref="A3.SS2.p3.4.m4.1.1.2">absent</csymbol><apply id="A3.SS2.p3.4.m4.1.1.3.cmml" xref="A3.SS2.p3.4.m4.1.1.3"><csymbol cd="latexml" id="A3.SS2.p3.4.m4.1.1.3.1.cmml" xref="A3.SS2.p3.4.m4.1.1.3.1">percent</csymbol><cn type="integer" id="A3.SS2.p3.4.m4.1.1.3.2.cmml" xref="A3.SS2.p3.4.m4.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p3.4.m4.1c">&lt;1\%</annotation></semantics></math>), it is necessary to trim those length-exceeding cases, for a string too long often introduces noise and produces computational inefficiency.</p>
</div>
<div id="A3.SS2.p4" class="ltx_para">
<p id="A3.SS2.p4.7" class="ltx_p">To embed numbers, magnitude <math id="A3.SS2.p4.1.m1.2" class="ltx_Math" alttext="x_{mag}\in[0,M]" display="inline"><semantics id="A3.SS2.p4.1.m1.2a"><mrow id="A3.SS2.p4.1.m1.2.3" xref="A3.SS2.p4.1.m1.2.3.cmml"><msub id="A3.SS2.p4.1.m1.2.3.2" xref="A3.SS2.p4.1.m1.2.3.2.cmml"><mi id="A3.SS2.p4.1.m1.2.3.2.2" xref="A3.SS2.p4.1.m1.2.3.2.2.cmml">x</mi><mrow id="A3.SS2.p4.1.m1.2.3.2.3" xref="A3.SS2.p4.1.m1.2.3.2.3.cmml"><mi id="A3.SS2.p4.1.m1.2.3.2.3.2" xref="A3.SS2.p4.1.m1.2.3.2.3.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.1.m1.2.3.2.3.1" xref="A3.SS2.p4.1.m1.2.3.2.3.1.cmml">​</mo><mi id="A3.SS2.p4.1.m1.2.3.2.3.3" xref="A3.SS2.p4.1.m1.2.3.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.1.m1.2.3.2.3.1a" xref="A3.SS2.p4.1.m1.2.3.2.3.1.cmml">​</mo><mi id="A3.SS2.p4.1.m1.2.3.2.3.4" xref="A3.SS2.p4.1.m1.2.3.2.3.4.cmml">g</mi></mrow></msub><mo id="A3.SS2.p4.1.m1.2.3.1" xref="A3.SS2.p4.1.m1.2.3.1.cmml">∈</mo><mrow id="A3.SS2.p4.1.m1.2.3.3.2" xref="A3.SS2.p4.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="A3.SS2.p4.1.m1.2.3.3.2.1" xref="A3.SS2.p4.1.m1.2.3.3.1.cmml">[</mo><mn id="A3.SS2.p4.1.m1.1.1" xref="A3.SS2.p4.1.m1.1.1.cmml">0</mn><mo id="A3.SS2.p4.1.m1.2.3.3.2.2" xref="A3.SS2.p4.1.m1.2.3.3.1.cmml">,</mo><mi id="A3.SS2.p4.1.m1.2.2" xref="A3.SS2.p4.1.m1.2.2.cmml">M</mi><mo stretchy="false" id="A3.SS2.p4.1.m1.2.3.3.2.3" xref="A3.SS2.p4.1.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p4.1.m1.2b"><apply id="A3.SS2.p4.1.m1.2.3.cmml" xref="A3.SS2.p4.1.m1.2.3"><in id="A3.SS2.p4.1.m1.2.3.1.cmml" xref="A3.SS2.p4.1.m1.2.3.1"></in><apply id="A3.SS2.p4.1.m1.2.3.2.cmml" xref="A3.SS2.p4.1.m1.2.3.2"><csymbol cd="ambiguous" id="A3.SS2.p4.1.m1.2.3.2.1.cmml" xref="A3.SS2.p4.1.m1.2.3.2">subscript</csymbol><ci id="A3.SS2.p4.1.m1.2.3.2.2.cmml" xref="A3.SS2.p4.1.m1.2.3.2.2">𝑥</ci><apply id="A3.SS2.p4.1.m1.2.3.2.3.cmml" xref="A3.SS2.p4.1.m1.2.3.2.3"><times id="A3.SS2.p4.1.m1.2.3.2.3.1.cmml" xref="A3.SS2.p4.1.m1.2.3.2.3.1"></times><ci id="A3.SS2.p4.1.m1.2.3.2.3.2.cmml" xref="A3.SS2.p4.1.m1.2.3.2.3.2">𝑚</ci><ci id="A3.SS2.p4.1.m1.2.3.2.3.3.cmml" xref="A3.SS2.p4.1.m1.2.3.2.3.3">𝑎</ci><ci id="A3.SS2.p4.1.m1.2.3.2.3.4.cmml" xref="A3.SS2.p4.1.m1.2.3.2.3.4">𝑔</ci></apply></apply><interval closure="closed" id="A3.SS2.p4.1.m1.2.3.3.1.cmml" xref="A3.SS2.p4.1.m1.2.3.3.2"><cn type="integer" id="A3.SS2.p4.1.m1.1.1.cmml" xref="A3.SS2.p4.1.m1.1.1">0</cn><ci id="A3.SS2.p4.1.m1.2.2.cmml" xref="A3.SS2.p4.1.m1.2.2">𝑀</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p4.1.m1.2c">x_{mag}\in[0,M]</annotation></semantics></math>, precision<math id="A3.SS2.p4.2.m2.2" class="ltx_Math" alttext="x_{pre}\in[0,P]" display="inline"><semantics id="A3.SS2.p4.2.m2.2a"><mrow id="A3.SS2.p4.2.m2.2.3" xref="A3.SS2.p4.2.m2.2.3.cmml"><msub id="A3.SS2.p4.2.m2.2.3.2" xref="A3.SS2.p4.2.m2.2.3.2.cmml"><mi id="A3.SS2.p4.2.m2.2.3.2.2" xref="A3.SS2.p4.2.m2.2.3.2.2.cmml">x</mi><mrow id="A3.SS2.p4.2.m2.2.3.2.3" xref="A3.SS2.p4.2.m2.2.3.2.3.cmml"><mi id="A3.SS2.p4.2.m2.2.3.2.3.2" xref="A3.SS2.p4.2.m2.2.3.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.2.m2.2.3.2.3.1" xref="A3.SS2.p4.2.m2.2.3.2.3.1.cmml">​</mo><mi id="A3.SS2.p4.2.m2.2.3.2.3.3" xref="A3.SS2.p4.2.m2.2.3.2.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.2.m2.2.3.2.3.1a" xref="A3.SS2.p4.2.m2.2.3.2.3.1.cmml">​</mo><mi id="A3.SS2.p4.2.m2.2.3.2.3.4" xref="A3.SS2.p4.2.m2.2.3.2.3.4.cmml">e</mi></mrow></msub><mo id="A3.SS2.p4.2.m2.2.3.1" xref="A3.SS2.p4.2.m2.2.3.1.cmml">∈</mo><mrow id="A3.SS2.p4.2.m2.2.3.3.2" xref="A3.SS2.p4.2.m2.2.3.3.1.cmml"><mo stretchy="false" id="A3.SS2.p4.2.m2.2.3.3.2.1" xref="A3.SS2.p4.2.m2.2.3.3.1.cmml">[</mo><mn id="A3.SS2.p4.2.m2.1.1" xref="A3.SS2.p4.2.m2.1.1.cmml">0</mn><mo id="A3.SS2.p4.2.m2.2.3.3.2.2" xref="A3.SS2.p4.2.m2.2.3.3.1.cmml">,</mo><mi id="A3.SS2.p4.2.m2.2.2" xref="A3.SS2.p4.2.m2.2.2.cmml">P</mi><mo stretchy="false" id="A3.SS2.p4.2.m2.2.3.3.2.3" xref="A3.SS2.p4.2.m2.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p4.2.m2.2b"><apply id="A3.SS2.p4.2.m2.2.3.cmml" xref="A3.SS2.p4.2.m2.2.3"><in id="A3.SS2.p4.2.m2.2.3.1.cmml" xref="A3.SS2.p4.2.m2.2.3.1"></in><apply id="A3.SS2.p4.2.m2.2.3.2.cmml" xref="A3.SS2.p4.2.m2.2.3.2"><csymbol cd="ambiguous" id="A3.SS2.p4.2.m2.2.3.2.1.cmml" xref="A3.SS2.p4.2.m2.2.3.2">subscript</csymbol><ci id="A3.SS2.p4.2.m2.2.3.2.2.cmml" xref="A3.SS2.p4.2.m2.2.3.2.2">𝑥</ci><apply id="A3.SS2.p4.2.m2.2.3.2.3.cmml" xref="A3.SS2.p4.2.m2.2.3.2.3"><times id="A3.SS2.p4.2.m2.2.3.2.3.1.cmml" xref="A3.SS2.p4.2.m2.2.3.2.3.1"></times><ci id="A3.SS2.p4.2.m2.2.3.2.3.2.cmml" xref="A3.SS2.p4.2.m2.2.3.2.3.2">𝑝</ci><ci id="A3.SS2.p4.2.m2.2.3.2.3.3.cmml" xref="A3.SS2.p4.2.m2.2.3.2.3.3">𝑟</ci><ci id="A3.SS2.p4.2.m2.2.3.2.3.4.cmml" xref="A3.SS2.p4.2.m2.2.3.2.3.4">𝑒</ci></apply></apply><interval closure="closed" id="A3.SS2.p4.2.m2.2.3.3.1.cmml" xref="A3.SS2.p4.2.m2.2.3.3.2"><cn type="integer" id="A3.SS2.p4.2.m2.1.1.cmml" xref="A3.SS2.p4.2.m2.1.1">0</cn><ci id="A3.SS2.p4.2.m2.2.2.cmml" xref="A3.SS2.p4.2.m2.2.2">𝑃</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p4.2.m2.2c">x_{pre}\in[0,P]</annotation></semantics></math>, the first digit <math id="A3.SS2.p4.3.m3.2" class="ltx_Math" alttext="x_{fst}\in[0,F]" display="inline"><semantics id="A3.SS2.p4.3.m3.2a"><mrow id="A3.SS2.p4.3.m3.2.3" xref="A3.SS2.p4.3.m3.2.3.cmml"><msub id="A3.SS2.p4.3.m3.2.3.2" xref="A3.SS2.p4.3.m3.2.3.2.cmml"><mi id="A3.SS2.p4.3.m3.2.3.2.2" xref="A3.SS2.p4.3.m3.2.3.2.2.cmml">x</mi><mrow id="A3.SS2.p4.3.m3.2.3.2.3" xref="A3.SS2.p4.3.m3.2.3.2.3.cmml"><mi id="A3.SS2.p4.3.m3.2.3.2.3.2" xref="A3.SS2.p4.3.m3.2.3.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.3.m3.2.3.2.3.1" xref="A3.SS2.p4.3.m3.2.3.2.3.1.cmml">​</mo><mi id="A3.SS2.p4.3.m3.2.3.2.3.3" xref="A3.SS2.p4.3.m3.2.3.2.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.3.m3.2.3.2.3.1a" xref="A3.SS2.p4.3.m3.2.3.2.3.1.cmml">​</mo><mi id="A3.SS2.p4.3.m3.2.3.2.3.4" xref="A3.SS2.p4.3.m3.2.3.2.3.4.cmml">t</mi></mrow></msub><mo id="A3.SS2.p4.3.m3.2.3.1" xref="A3.SS2.p4.3.m3.2.3.1.cmml">∈</mo><mrow id="A3.SS2.p4.3.m3.2.3.3.2" xref="A3.SS2.p4.3.m3.2.3.3.1.cmml"><mo stretchy="false" id="A3.SS2.p4.3.m3.2.3.3.2.1" xref="A3.SS2.p4.3.m3.2.3.3.1.cmml">[</mo><mn id="A3.SS2.p4.3.m3.1.1" xref="A3.SS2.p4.3.m3.1.1.cmml">0</mn><mo id="A3.SS2.p4.3.m3.2.3.3.2.2" xref="A3.SS2.p4.3.m3.2.3.3.1.cmml">,</mo><mi id="A3.SS2.p4.3.m3.2.2" xref="A3.SS2.p4.3.m3.2.2.cmml">F</mi><mo stretchy="false" id="A3.SS2.p4.3.m3.2.3.3.2.3" xref="A3.SS2.p4.3.m3.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p4.3.m3.2b"><apply id="A3.SS2.p4.3.m3.2.3.cmml" xref="A3.SS2.p4.3.m3.2.3"><in id="A3.SS2.p4.3.m3.2.3.1.cmml" xref="A3.SS2.p4.3.m3.2.3.1"></in><apply id="A3.SS2.p4.3.m3.2.3.2.cmml" xref="A3.SS2.p4.3.m3.2.3.2"><csymbol cd="ambiguous" id="A3.SS2.p4.3.m3.2.3.2.1.cmml" xref="A3.SS2.p4.3.m3.2.3.2">subscript</csymbol><ci id="A3.SS2.p4.3.m3.2.3.2.2.cmml" xref="A3.SS2.p4.3.m3.2.3.2.2">𝑥</ci><apply id="A3.SS2.p4.3.m3.2.3.2.3.cmml" xref="A3.SS2.p4.3.m3.2.3.2.3"><times id="A3.SS2.p4.3.m3.2.3.2.3.1.cmml" xref="A3.SS2.p4.3.m3.2.3.2.3.1"></times><ci id="A3.SS2.p4.3.m3.2.3.2.3.2.cmml" xref="A3.SS2.p4.3.m3.2.3.2.3.2">𝑓</ci><ci id="A3.SS2.p4.3.m3.2.3.2.3.3.cmml" xref="A3.SS2.p4.3.m3.2.3.2.3.3">𝑠</ci><ci id="A3.SS2.p4.3.m3.2.3.2.3.4.cmml" xref="A3.SS2.p4.3.m3.2.3.2.3.4">𝑡</ci></apply></apply><interval closure="closed" id="A3.SS2.p4.3.m3.2.3.3.1.cmml" xref="A3.SS2.p4.3.m3.2.3.3.2"><cn type="integer" id="A3.SS2.p4.3.m3.1.1.cmml" xref="A3.SS2.p4.3.m3.1.1">0</cn><ci id="A3.SS2.p4.3.m3.2.2.cmml" xref="A3.SS2.p4.3.m3.2.2">𝐹</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p4.3.m3.2c">x_{fst}\in[0,F]</annotation></semantics></math>, and the last digit <math id="A3.SS2.p4.4.m4.2" class="ltx_Math" alttext="x_{lst}\in[0,L]" display="inline"><semantics id="A3.SS2.p4.4.m4.2a"><mrow id="A3.SS2.p4.4.m4.2.3" xref="A3.SS2.p4.4.m4.2.3.cmml"><msub id="A3.SS2.p4.4.m4.2.3.2" xref="A3.SS2.p4.4.m4.2.3.2.cmml"><mi id="A3.SS2.p4.4.m4.2.3.2.2" xref="A3.SS2.p4.4.m4.2.3.2.2.cmml">x</mi><mrow id="A3.SS2.p4.4.m4.2.3.2.3" xref="A3.SS2.p4.4.m4.2.3.2.3.cmml"><mi id="A3.SS2.p4.4.m4.2.3.2.3.2" xref="A3.SS2.p4.4.m4.2.3.2.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.4.m4.2.3.2.3.1" xref="A3.SS2.p4.4.m4.2.3.2.3.1.cmml">​</mo><mi id="A3.SS2.p4.4.m4.2.3.2.3.3" xref="A3.SS2.p4.4.m4.2.3.2.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.4.m4.2.3.2.3.1a" xref="A3.SS2.p4.4.m4.2.3.2.3.1.cmml">​</mo><mi id="A3.SS2.p4.4.m4.2.3.2.3.4" xref="A3.SS2.p4.4.m4.2.3.2.3.4.cmml">t</mi></mrow></msub><mo id="A3.SS2.p4.4.m4.2.3.1" xref="A3.SS2.p4.4.m4.2.3.1.cmml">∈</mo><mrow id="A3.SS2.p4.4.m4.2.3.3.2" xref="A3.SS2.p4.4.m4.2.3.3.1.cmml"><mo stretchy="false" id="A3.SS2.p4.4.m4.2.3.3.2.1" xref="A3.SS2.p4.4.m4.2.3.3.1.cmml">[</mo><mn id="A3.SS2.p4.4.m4.1.1" xref="A3.SS2.p4.4.m4.1.1.cmml">0</mn><mo id="A3.SS2.p4.4.m4.2.3.3.2.2" xref="A3.SS2.p4.4.m4.2.3.3.1.cmml">,</mo><mi id="A3.SS2.p4.4.m4.2.2" xref="A3.SS2.p4.4.m4.2.2.cmml">L</mi><mo stretchy="false" id="A3.SS2.p4.4.m4.2.3.3.2.3" xref="A3.SS2.p4.4.m4.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p4.4.m4.2b"><apply id="A3.SS2.p4.4.m4.2.3.cmml" xref="A3.SS2.p4.4.m4.2.3"><in id="A3.SS2.p4.4.m4.2.3.1.cmml" xref="A3.SS2.p4.4.m4.2.3.1"></in><apply id="A3.SS2.p4.4.m4.2.3.2.cmml" xref="A3.SS2.p4.4.m4.2.3.2"><csymbol cd="ambiguous" id="A3.SS2.p4.4.m4.2.3.2.1.cmml" xref="A3.SS2.p4.4.m4.2.3.2">subscript</csymbol><ci id="A3.SS2.p4.4.m4.2.3.2.2.cmml" xref="A3.SS2.p4.4.m4.2.3.2.2">𝑥</ci><apply id="A3.SS2.p4.4.m4.2.3.2.3.cmml" xref="A3.SS2.p4.4.m4.2.3.2.3"><times id="A3.SS2.p4.4.m4.2.3.2.3.1.cmml" xref="A3.SS2.p4.4.m4.2.3.2.3.1"></times><ci id="A3.SS2.p4.4.m4.2.3.2.3.2.cmml" xref="A3.SS2.p4.4.m4.2.3.2.3.2">𝑙</ci><ci id="A3.SS2.p4.4.m4.2.3.2.3.3.cmml" xref="A3.SS2.p4.4.m4.2.3.2.3.3">𝑠</ci><ci id="A3.SS2.p4.4.m4.2.3.2.3.4.cmml" xref="A3.SS2.p4.4.m4.2.3.2.3.4">𝑡</ci></apply></apply><interval closure="closed" id="A3.SS2.p4.4.m4.2.3.3.1.cmml" xref="A3.SS2.p4.4.m4.2.3.3.2"><cn type="integer" id="A3.SS2.p4.4.m4.1.1.cmml" xref="A3.SS2.p4.4.m4.1.1">0</cn><ci id="A3.SS2.p4.4.m4.2.2.cmml" xref="A3.SS2.p4.4.m4.2.2">𝐿</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p4.4.m4.2c">x_{lst}\in[0,L]</annotation></semantics></math>, where <math id="A3.SS2.p4.5.m5.4" class="ltx_Math" alttext="M,P,F,L=10" display="inline"><semantics id="A3.SS2.p4.5.m5.4a"><mrow id="A3.SS2.p4.5.m5.4.5" xref="A3.SS2.p4.5.m5.4.5.cmml"><mrow id="A3.SS2.p4.5.m5.4.5.2.2" xref="A3.SS2.p4.5.m5.4.5.2.1.cmml"><mi id="A3.SS2.p4.5.m5.1.1" xref="A3.SS2.p4.5.m5.1.1.cmml">M</mi><mo id="A3.SS2.p4.5.m5.4.5.2.2.1" xref="A3.SS2.p4.5.m5.4.5.2.1.cmml">,</mo><mi id="A3.SS2.p4.5.m5.2.2" xref="A3.SS2.p4.5.m5.2.2.cmml">P</mi><mo id="A3.SS2.p4.5.m5.4.5.2.2.2" xref="A3.SS2.p4.5.m5.4.5.2.1.cmml">,</mo><mi id="A3.SS2.p4.5.m5.3.3" xref="A3.SS2.p4.5.m5.3.3.cmml">F</mi><mo id="A3.SS2.p4.5.m5.4.5.2.2.3" xref="A3.SS2.p4.5.m5.4.5.2.1.cmml">,</mo><mi id="A3.SS2.p4.5.m5.4.4" xref="A3.SS2.p4.5.m5.4.4.cmml">L</mi></mrow><mo id="A3.SS2.p4.5.m5.4.5.1" xref="A3.SS2.p4.5.m5.4.5.1.cmml">=</mo><mn id="A3.SS2.p4.5.m5.4.5.3" xref="A3.SS2.p4.5.m5.4.5.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p4.5.m5.4b"><apply id="A3.SS2.p4.5.m5.4.5.cmml" xref="A3.SS2.p4.5.m5.4.5"><eq id="A3.SS2.p4.5.m5.4.5.1.cmml" xref="A3.SS2.p4.5.m5.4.5.1"></eq><list id="A3.SS2.p4.5.m5.4.5.2.1.cmml" xref="A3.SS2.p4.5.m5.4.5.2.2"><ci id="A3.SS2.p4.5.m5.1.1.cmml" xref="A3.SS2.p4.5.m5.1.1">𝑀</ci><ci id="A3.SS2.p4.5.m5.2.2.cmml" xref="A3.SS2.p4.5.m5.2.2">𝑃</ci><ci id="A3.SS2.p4.5.m5.3.3.cmml" xref="A3.SS2.p4.5.m5.3.3">𝐹</ci><ci id="A3.SS2.p4.5.m5.4.4.cmml" xref="A3.SS2.p4.5.m5.4.4">𝐿</ci></list><cn type="integer" id="A3.SS2.p4.5.m5.4.5.3.cmml" xref="A3.SS2.p4.5.m5.4.5.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p4.5.m5.4c">M,P,F,L=10</annotation></semantics></math>. Correspondingly, their embedding weights are <math id="A3.SS2.p4.6.m6.4" class="ltx_Math" alttext="W_{mag},W_{pre},W_{fst},W_{lst}\in\mathbb{R}^{M/P/F/L\times\frac{H}{4}}" display="inline"><semantics id="A3.SS2.p4.6.m6.4a"><mrow id="A3.SS2.p4.6.m6.4.4" xref="A3.SS2.p4.6.m6.4.4.cmml"><mrow id="A3.SS2.p4.6.m6.4.4.4.4" xref="A3.SS2.p4.6.m6.4.4.4.5.cmml"><msub id="A3.SS2.p4.6.m6.1.1.1.1.1" xref="A3.SS2.p4.6.m6.1.1.1.1.1.cmml"><mi id="A3.SS2.p4.6.m6.1.1.1.1.1.2" xref="A3.SS2.p4.6.m6.1.1.1.1.1.2.cmml">W</mi><mrow id="A3.SS2.p4.6.m6.1.1.1.1.1.3" xref="A3.SS2.p4.6.m6.1.1.1.1.1.3.cmml"><mi id="A3.SS2.p4.6.m6.1.1.1.1.1.3.2" xref="A3.SS2.p4.6.m6.1.1.1.1.1.3.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.6.m6.1.1.1.1.1.3.1" xref="A3.SS2.p4.6.m6.1.1.1.1.1.3.1.cmml">​</mo><mi id="A3.SS2.p4.6.m6.1.1.1.1.1.3.3" xref="A3.SS2.p4.6.m6.1.1.1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.6.m6.1.1.1.1.1.3.1a" xref="A3.SS2.p4.6.m6.1.1.1.1.1.3.1.cmml">​</mo><mi id="A3.SS2.p4.6.m6.1.1.1.1.1.3.4" xref="A3.SS2.p4.6.m6.1.1.1.1.1.3.4.cmml">g</mi></mrow></msub><mo id="A3.SS2.p4.6.m6.4.4.4.4.5" xref="A3.SS2.p4.6.m6.4.4.4.5.cmml">,</mo><msub id="A3.SS2.p4.6.m6.2.2.2.2.2" xref="A3.SS2.p4.6.m6.2.2.2.2.2.cmml"><mi id="A3.SS2.p4.6.m6.2.2.2.2.2.2" xref="A3.SS2.p4.6.m6.2.2.2.2.2.2.cmml">W</mi><mrow id="A3.SS2.p4.6.m6.2.2.2.2.2.3" xref="A3.SS2.p4.6.m6.2.2.2.2.2.3.cmml"><mi id="A3.SS2.p4.6.m6.2.2.2.2.2.3.2" xref="A3.SS2.p4.6.m6.2.2.2.2.2.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.6.m6.2.2.2.2.2.3.1" xref="A3.SS2.p4.6.m6.2.2.2.2.2.3.1.cmml">​</mo><mi id="A3.SS2.p4.6.m6.2.2.2.2.2.3.3" xref="A3.SS2.p4.6.m6.2.2.2.2.2.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.6.m6.2.2.2.2.2.3.1a" xref="A3.SS2.p4.6.m6.2.2.2.2.2.3.1.cmml">​</mo><mi id="A3.SS2.p4.6.m6.2.2.2.2.2.3.4" xref="A3.SS2.p4.6.m6.2.2.2.2.2.3.4.cmml">e</mi></mrow></msub><mo id="A3.SS2.p4.6.m6.4.4.4.4.6" xref="A3.SS2.p4.6.m6.4.4.4.5.cmml">,</mo><msub id="A3.SS2.p4.6.m6.3.3.3.3.3" xref="A3.SS2.p4.6.m6.3.3.3.3.3.cmml"><mi id="A3.SS2.p4.6.m6.3.3.3.3.3.2" xref="A3.SS2.p4.6.m6.3.3.3.3.3.2.cmml">W</mi><mrow id="A3.SS2.p4.6.m6.3.3.3.3.3.3" xref="A3.SS2.p4.6.m6.3.3.3.3.3.3.cmml"><mi id="A3.SS2.p4.6.m6.3.3.3.3.3.3.2" xref="A3.SS2.p4.6.m6.3.3.3.3.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.6.m6.3.3.3.3.3.3.1" xref="A3.SS2.p4.6.m6.3.3.3.3.3.3.1.cmml">​</mo><mi id="A3.SS2.p4.6.m6.3.3.3.3.3.3.3" xref="A3.SS2.p4.6.m6.3.3.3.3.3.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.6.m6.3.3.3.3.3.3.1a" xref="A3.SS2.p4.6.m6.3.3.3.3.3.3.1.cmml">​</mo><mi id="A3.SS2.p4.6.m6.3.3.3.3.3.3.4" xref="A3.SS2.p4.6.m6.3.3.3.3.3.3.4.cmml">t</mi></mrow></msub><mo id="A3.SS2.p4.6.m6.4.4.4.4.7" xref="A3.SS2.p4.6.m6.4.4.4.5.cmml">,</mo><msub id="A3.SS2.p4.6.m6.4.4.4.4.4" xref="A3.SS2.p4.6.m6.4.4.4.4.4.cmml"><mi id="A3.SS2.p4.6.m6.4.4.4.4.4.2" xref="A3.SS2.p4.6.m6.4.4.4.4.4.2.cmml">W</mi><mrow id="A3.SS2.p4.6.m6.4.4.4.4.4.3" xref="A3.SS2.p4.6.m6.4.4.4.4.4.3.cmml"><mi id="A3.SS2.p4.6.m6.4.4.4.4.4.3.2" xref="A3.SS2.p4.6.m6.4.4.4.4.4.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.6.m6.4.4.4.4.4.3.1" xref="A3.SS2.p4.6.m6.4.4.4.4.4.3.1.cmml">​</mo><mi id="A3.SS2.p4.6.m6.4.4.4.4.4.3.3" xref="A3.SS2.p4.6.m6.4.4.4.4.4.3.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p4.6.m6.4.4.4.4.4.3.1a" xref="A3.SS2.p4.6.m6.4.4.4.4.4.3.1.cmml">​</mo><mi id="A3.SS2.p4.6.m6.4.4.4.4.4.3.4" xref="A3.SS2.p4.6.m6.4.4.4.4.4.3.4.cmml">t</mi></mrow></msub></mrow><mo id="A3.SS2.p4.6.m6.4.4.5" xref="A3.SS2.p4.6.m6.4.4.5.cmml">∈</mo><msup id="A3.SS2.p4.6.m6.4.4.6" xref="A3.SS2.p4.6.m6.4.4.6.cmml"><mi id="A3.SS2.p4.6.m6.4.4.6.2" xref="A3.SS2.p4.6.m6.4.4.6.2.cmml">ℝ</mi><mrow id="A3.SS2.p4.6.m6.4.4.6.3" xref="A3.SS2.p4.6.m6.4.4.6.3.cmml"><mrow id="A3.SS2.p4.6.m6.4.4.6.3.2" xref="A3.SS2.p4.6.m6.4.4.6.3.2.cmml"><mi id="A3.SS2.p4.6.m6.4.4.6.3.2.2" xref="A3.SS2.p4.6.m6.4.4.6.3.2.2.cmml">M</mi><mo id="A3.SS2.p4.6.m6.4.4.6.3.2.1" xref="A3.SS2.p4.6.m6.4.4.6.3.2.1.cmml">/</mo><mi id="A3.SS2.p4.6.m6.4.4.6.3.2.3" xref="A3.SS2.p4.6.m6.4.4.6.3.2.3.cmml">P</mi><mo id="A3.SS2.p4.6.m6.4.4.6.3.2.1a" xref="A3.SS2.p4.6.m6.4.4.6.3.2.1.cmml">/</mo><mi id="A3.SS2.p4.6.m6.4.4.6.3.2.4" xref="A3.SS2.p4.6.m6.4.4.6.3.2.4.cmml">F</mi><mo id="A3.SS2.p4.6.m6.4.4.6.3.2.1b" xref="A3.SS2.p4.6.m6.4.4.6.3.2.1.cmml">/</mo><mi id="A3.SS2.p4.6.m6.4.4.6.3.2.5" xref="A3.SS2.p4.6.m6.4.4.6.3.2.5.cmml">L</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="A3.SS2.p4.6.m6.4.4.6.3.1" xref="A3.SS2.p4.6.m6.4.4.6.3.1.cmml">×</mo><mfrac id="A3.SS2.p4.6.m6.4.4.6.3.3" xref="A3.SS2.p4.6.m6.4.4.6.3.3.cmml"><mi id="A3.SS2.p4.6.m6.4.4.6.3.3.2" xref="A3.SS2.p4.6.m6.4.4.6.3.3.2.cmml">H</mi><mn id="A3.SS2.p4.6.m6.4.4.6.3.3.3" xref="A3.SS2.p4.6.m6.4.4.6.3.3.3.cmml">4</mn></mfrac></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p4.6.m6.4b"><apply id="A3.SS2.p4.6.m6.4.4.cmml" xref="A3.SS2.p4.6.m6.4.4"><in id="A3.SS2.p4.6.m6.4.4.5.cmml" xref="A3.SS2.p4.6.m6.4.4.5"></in><list id="A3.SS2.p4.6.m6.4.4.4.5.cmml" xref="A3.SS2.p4.6.m6.4.4.4.4"><apply id="A3.SS2.p4.6.m6.1.1.1.1.1.cmml" xref="A3.SS2.p4.6.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="A3.SS2.p4.6.m6.1.1.1.1.1.1.cmml" xref="A3.SS2.p4.6.m6.1.1.1.1.1">subscript</csymbol><ci id="A3.SS2.p4.6.m6.1.1.1.1.1.2.cmml" xref="A3.SS2.p4.6.m6.1.1.1.1.1.2">𝑊</ci><apply id="A3.SS2.p4.6.m6.1.1.1.1.1.3.cmml" xref="A3.SS2.p4.6.m6.1.1.1.1.1.3"><times id="A3.SS2.p4.6.m6.1.1.1.1.1.3.1.cmml" xref="A3.SS2.p4.6.m6.1.1.1.1.1.3.1"></times><ci id="A3.SS2.p4.6.m6.1.1.1.1.1.3.2.cmml" xref="A3.SS2.p4.6.m6.1.1.1.1.1.3.2">𝑚</ci><ci id="A3.SS2.p4.6.m6.1.1.1.1.1.3.3.cmml" xref="A3.SS2.p4.6.m6.1.1.1.1.1.3.3">𝑎</ci><ci id="A3.SS2.p4.6.m6.1.1.1.1.1.3.4.cmml" xref="A3.SS2.p4.6.m6.1.1.1.1.1.3.4">𝑔</ci></apply></apply><apply id="A3.SS2.p4.6.m6.2.2.2.2.2.cmml" xref="A3.SS2.p4.6.m6.2.2.2.2.2"><csymbol cd="ambiguous" id="A3.SS2.p4.6.m6.2.2.2.2.2.1.cmml" xref="A3.SS2.p4.6.m6.2.2.2.2.2">subscript</csymbol><ci id="A3.SS2.p4.6.m6.2.2.2.2.2.2.cmml" xref="A3.SS2.p4.6.m6.2.2.2.2.2.2">𝑊</ci><apply id="A3.SS2.p4.6.m6.2.2.2.2.2.3.cmml" xref="A3.SS2.p4.6.m6.2.2.2.2.2.3"><times id="A3.SS2.p4.6.m6.2.2.2.2.2.3.1.cmml" xref="A3.SS2.p4.6.m6.2.2.2.2.2.3.1"></times><ci id="A3.SS2.p4.6.m6.2.2.2.2.2.3.2.cmml" xref="A3.SS2.p4.6.m6.2.2.2.2.2.3.2">𝑝</ci><ci id="A3.SS2.p4.6.m6.2.2.2.2.2.3.3.cmml" xref="A3.SS2.p4.6.m6.2.2.2.2.2.3.3">𝑟</ci><ci id="A3.SS2.p4.6.m6.2.2.2.2.2.3.4.cmml" xref="A3.SS2.p4.6.m6.2.2.2.2.2.3.4">𝑒</ci></apply></apply><apply id="A3.SS2.p4.6.m6.3.3.3.3.3.cmml" xref="A3.SS2.p4.6.m6.3.3.3.3.3"><csymbol cd="ambiguous" id="A3.SS2.p4.6.m6.3.3.3.3.3.1.cmml" xref="A3.SS2.p4.6.m6.3.3.3.3.3">subscript</csymbol><ci id="A3.SS2.p4.6.m6.3.3.3.3.3.2.cmml" xref="A3.SS2.p4.6.m6.3.3.3.3.3.2">𝑊</ci><apply id="A3.SS2.p4.6.m6.3.3.3.3.3.3.cmml" xref="A3.SS2.p4.6.m6.3.3.3.3.3.3"><times id="A3.SS2.p4.6.m6.3.3.3.3.3.3.1.cmml" xref="A3.SS2.p4.6.m6.3.3.3.3.3.3.1"></times><ci id="A3.SS2.p4.6.m6.3.3.3.3.3.3.2.cmml" xref="A3.SS2.p4.6.m6.3.3.3.3.3.3.2">𝑓</ci><ci id="A3.SS2.p4.6.m6.3.3.3.3.3.3.3.cmml" xref="A3.SS2.p4.6.m6.3.3.3.3.3.3.3">𝑠</ci><ci id="A3.SS2.p4.6.m6.3.3.3.3.3.3.4.cmml" xref="A3.SS2.p4.6.m6.3.3.3.3.3.3.4">𝑡</ci></apply></apply><apply id="A3.SS2.p4.6.m6.4.4.4.4.4.cmml" xref="A3.SS2.p4.6.m6.4.4.4.4.4"><csymbol cd="ambiguous" id="A3.SS2.p4.6.m6.4.4.4.4.4.1.cmml" xref="A3.SS2.p4.6.m6.4.4.4.4.4">subscript</csymbol><ci id="A3.SS2.p4.6.m6.4.4.4.4.4.2.cmml" xref="A3.SS2.p4.6.m6.4.4.4.4.4.2">𝑊</ci><apply id="A3.SS2.p4.6.m6.4.4.4.4.4.3.cmml" xref="A3.SS2.p4.6.m6.4.4.4.4.4.3"><times id="A3.SS2.p4.6.m6.4.4.4.4.4.3.1.cmml" xref="A3.SS2.p4.6.m6.4.4.4.4.4.3.1"></times><ci id="A3.SS2.p4.6.m6.4.4.4.4.4.3.2.cmml" xref="A3.SS2.p4.6.m6.4.4.4.4.4.3.2">𝑙</ci><ci id="A3.SS2.p4.6.m6.4.4.4.4.4.3.3.cmml" xref="A3.SS2.p4.6.m6.4.4.4.4.4.3.3">𝑠</ci><ci id="A3.SS2.p4.6.m6.4.4.4.4.4.3.4.cmml" xref="A3.SS2.p4.6.m6.4.4.4.4.4.3.4">𝑡</ci></apply></apply></list><apply id="A3.SS2.p4.6.m6.4.4.6.cmml" xref="A3.SS2.p4.6.m6.4.4.6"><csymbol cd="ambiguous" id="A3.SS2.p4.6.m6.4.4.6.1.cmml" xref="A3.SS2.p4.6.m6.4.4.6">superscript</csymbol><ci id="A3.SS2.p4.6.m6.4.4.6.2.cmml" xref="A3.SS2.p4.6.m6.4.4.6.2">ℝ</ci><apply id="A3.SS2.p4.6.m6.4.4.6.3.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3"><times id="A3.SS2.p4.6.m6.4.4.6.3.1.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3.1"></times><apply id="A3.SS2.p4.6.m6.4.4.6.3.2.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3.2"><divide id="A3.SS2.p4.6.m6.4.4.6.3.2.1.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3.2.1"></divide><ci id="A3.SS2.p4.6.m6.4.4.6.3.2.2.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3.2.2">𝑀</ci><ci id="A3.SS2.p4.6.m6.4.4.6.3.2.3.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3.2.3">𝑃</ci><ci id="A3.SS2.p4.6.m6.4.4.6.3.2.4.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3.2.4">𝐹</ci><ci id="A3.SS2.p4.6.m6.4.4.6.3.2.5.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3.2.5">𝐿</ci></apply><apply id="A3.SS2.p4.6.m6.4.4.6.3.3.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3.3"><divide id="A3.SS2.p4.6.m6.4.4.6.3.3.1.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3.3"></divide><ci id="A3.SS2.p4.6.m6.4.4.6.3.3.2.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3.3.2">𝐻</ci><cn type="integer" id="A3.SS2.p4.6.m6.4.4.6.3.3.3.cmml" xref="A3.SS2.p4.6.m6.4.4.6.3.3.3">4</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p4.6.m6.4c">W_{mag},W_{pre},W_{fst},W_{lst}\in\mathbb{R}^{M/P/F/L\times\frac{H}{4}}</annotation></semantics></math>, hidden size <math id="A3.SS2.p4.7.m7.1" class="ltx_Math" alttext="H=768" display="inline"><semantics id="A3.SS2.p4.7.m7.1a"><mrow id="A3.SS2.p4.7.m7.1.1" xref="A3.SS2.p4.7.m7.1.1.cmml"><mi id="A3.SS2.p4.7.m7.1.1.2" xref="A3.SS2.p4.7.m7.1.1.2.cmml">H</mi><mo id="A3.SS2.p4.7.m7.1.1.1" xref="A3.SS2.p4.7.m7.1.1.1.cmml">=</mo><mn id="A3.SS2.p4.7.m7.1.1.3" xref="A3.SS2.p4.7.m7.1.1.3.cmml">768</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p4.7.m7.1b"><apply id="A3.SS2.p4.7.m7.1.1.cmml" xref="A3.SS2.p4.7.m7.1.1"><eq id="A3.SS2.p4.7.m7.1.1.1.cmml" xref="A3.SS2.p4.7.m7.1.1.1"></eq><ci id="A3.SS2.p4.7.m7.1.1.2.cmml" xref="A3.SS2.p4.7.m7.1.1.2">𝐻</ci><cn type="integer" id="A3.SS2.p4.7.m7.1.1.3.cmml" xref="A3.SS2.p4.7.m7.1.1.3">768</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p4.7.m7.1c">H=768</annotation></semantics></math>.</p>
</div>
<div id="A3.SS2.p5" class="ltx_para">
<p id="A3.SS2.p5.5" class="ltx_p">For format embeddings, the <math id="A3.SS2.p5.1.m1.1" class="ltx_Math" alttext="F=11" display="inline"><semantics id="A3.SS2.p5.1.m1.1a"><mrow id="A3.SS2.p5.1.m1.1.1" xref="A3.SS2.p5.1.m1.1.1.cmml"><mi id="A3.SS2.p5.1.m1.1.1.2" xref="A3.SS2.p5.1.m1.1.1.2.cmml">F</mi><mo id="A3.SS2.p5.1.m1.1.1.1" xref="A3.SS2.p5.1.m1.1.1.1.cmml">=</mo><mn id="A3.SS2.p5.1.m1.1.1.3" xref="A3.SS2.p5.1.m1.1.1.3.cmml">11</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p5.1.m1.1b"><apply id="A3.SS2.p5.1.m1.1.1.cmml" xref="A3.SS2.p5.1.m1.1.1"><eq id="A3.SS2.p5.1.m1.1.1.1.cmml" xref="A3.SS2.p5.1.m1.1.1.1"></eq><ci id="A3.SS2.p5.1.m1.1.1.2.cmml" xref="A3.SS2.p5.1.m1.1.1.2">𝐹</ci><cn type="integer" id="A3.SS2.p5.1.m1.1.1.3.cmml" xref="A3.SS2.p5.1.m1.1.1.3">11</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p5.1.m1.1c">F=11</annotation></semantics></math> integer cell features <math id="A3.SS2.p5.2.m2.1" class="ltx_Math" alttext="x\in\mathbb{N}^{F}" display="inline"><semantics id="A3.SS2.p5.2.m2.1a"><mrow id="A3.SS2.p5.2.m2.1.1" xref="A3.SS2.p5.2.m2.1.1.cmml"><mi id="A3.SS2.p5.2.m2.1.1.2" xref="A3.SS2.p5.2.m2.1.1.2.cmml">x</mi><mo id="A3.SS2.p5.2.m2.1.1.1" xref="A3.SS2.p5.2.m2.1.1.1.cmml">∈</mo><msup id="A3.SS2.p5.2.m2.1.1.3" xref="A3.SS2.p5.2.m2.1.1.3.cmml"><mi id="A3.SS2.p5.2.m2.1.1.3.2" xref="A3.SS2.p5.2.m2.1.1.3.2.cmml">ℕ</mi><mi id="A3.SS2.p5.2.m2.1.1.3.3" xref="A3.SS2.p5.2.m2.1.1.3.3.cmml">F</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p5.2.m2.1b"><apply id="A3.SS2.p5.2.m2.1.1.cmml" xref="A3.SS2.p5.2.m2.1.1"><in id="A3.SS2.p5.2.m2.1.1.1.cmml" xref="A3.SS2.p5.2.m2.1.1.1"></in><ci id="A3.SS2.p5.2.m2.1.1.2.cmml" xref="A3.SS2.p5.2.m2.1.1.2">𝑥</ci><apply id="A3.SS2.p5.2.m2.1.1.3.cmml" xref="A3.SS2.p5.2.m2.1.1.3"><csymbol cd="ambiguous" id="A3.SS2.p5.2.m2.1.1.3.1.cmml" xref="A3.SS2.p5.2.m2.1.1.3">superscript</csymbol><ci id="A3.SS2.p5.2.m2.1.1.3.2.cmml" xref="A3.SS2.p5.2.m2.1.1.3.2">ℕ</ci><ci id="A3.SS2.p5.2.m2.1.1.3.3.cmml" xref="A3.SS2.p5.2.m2.1.1.3.3">𝐹</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p5.2.m2.1c">x\in\mathbb{N}^{F}</annotation></semantics></math> (as listed in Table <a href="#A1.T6" title="Table 6 ‣ Appendix A Dataset construction ‣ TUTA: Tree-based Transformers for Generally Structured Table Pre-training" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>) undergoes a transformation <math id="A3.SS2.p5.3.m3.1" class="ltx_Math" alttext="E_{fmt}=W_{fmt}\cdot x+b" display="inline"><semantics id="A3.SS2.p5.3.m3.1a"><mrow id="A3.SS2.p5.3.m3.1.1" xref="A3.SS2.p5.3.m3.1.1.cmml"><msub id="A3.SS2.p5.3.m3.1.1.2" xref="A3.SS2.p5.3.m3.1.1.2.cmml"><mi id="A3.SS2.p5.3.m3.1.1.2.2" xref="A3.SS2.p5.3.m3.1.1.2.2.cmml">E</mi><mrow id="A3.SS2.p5.3.m3.1.1.2.3" xref="A3.SS2.p5.3.m3.1.1.2.3.cmml"><mi id="A3.SS2.p5.3.m3.1.1.2.3.2" xref="A3.SS2.p5.3.m3.1.1.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p5.3.m3.1.1.2.3.1" xref="A3.SS2.p5.3.m3.1.1.2.3.1.cmml">​</mo><mi id="A3.SS2.p5.3.m3.1.1.2.3.3" xref="A3.SS2.p5.3.m3.1.1.2.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p5.3.m3.1.1.2.3.1a" xref="A3.SS2.p5.3.m3.1.1.2.3.1.cmml">​</mo><mi id="A3.SS2.p5.3.m3.1.1.2.3.4" xref="A3.SS2.p5.3.m3.1.1.2.3.4.cmml">t</mi></mrow></msub><mo id="A3.SS2.p5.3.m3.1.1.1" xref="A3.SS2.p5.3.m3.1.1.1.cmml">=</mo><mrow id="A3.SS2.p5.3.m3.1.1.3" xref="A3.SS2.p5.3.m3.1.1.3.cmml"><mrow id="A3.SS2.p5.3.m3.1.1.3.2" xref="A3.SS2.p5.3.m3.1.1.3.2.cmml"><msub id="A3.SS2.p5.3.m3.1.1.3.2.2" xref="A3.SS2.p5.3.m3.1.1.3.2.2.cmml"><mi id="A3.SS2.p5.3.m3.1.1.3.2.2.2" xref="A3.SS2.p5.3.m3.1.1.3.2.2.2.cmml">W</mi><mrow id="A3.SS2.p5.3.m3.1.1.3.2.2.3" xref="A3.SS2.p5.3.m3.1.1.3.2.2.3.cmml"><mi id="A3.SS2.p5.3.m3.1.1.3.2.2.3.2" xref="A3.SS2.p5.3.m3.1.1.3.2.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p5.3.m3.1.1.3.2.2.3.1" xref="A3.SS2.p5.3.m3.1.1.3.2.2.3.1.cmml">​</mo><mi id="A3.SS2.p5.3.m3.1.1.3.2.2.3.3" xref="A3.SS2.p5.3.m3.1.1.3.2.2.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p5.3.m3.1.1.3.2.2.3.1a" xref="A3.SS2.p5.3.m3.1.1.3.2.2.3.1.cmml">​</mo><mi id="A3.SS2.p5.3.m3.1.1.3.2.2.3.4" xref="A3.SS2.p5.3.m3.1.1.3.2.2.3.4.cmml">t</mi></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="A3.SS2.p5.3.m3.1.1.3.2.1" xref="A3.SS2.p5.3.m3.1.1.3.2.1.cmml">⋅</mo><mi id="A3.SS2.p5.3.m3.1.1.3.2.3" xref="A3.SS2.p5.3.m3.1.1.3.2.3.cmml">x</mi></mrow><mo id="A3.SS2.p5.3.m3.1.1.3.1" xref="A3.SS2.p5.3.m3.1.1.3.1.cmml">+</mo><mi id="A3.SS2.p5.3.m3.1.1.3.3" xref="A3.SS2.p5.3.m3.1.1.3.3.cmml">b</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p5.3.m3.1b"><apply id="A3.SS2.p5.3.m3.1.1.cmml" xref="A3.SS2.p5.3.m3.1.1"><eq id="A3.SS2.p5.3.m3.1.1.1.cmml" xref="A3.SS2.p5.3.m3.1.1.1"></eq><apply id="A3.SS2.p5.3.m3.1.1.2.cmml" xref="A3.SS2.p5.3.m3.1.1.2"><csymbol cd="ambiguous" id="A3.SS2.p5.3.m3.1.1.2.1.cmml" xref="A3.SS2.p5.3.m3.1.1.2">subscript</csymbol><ci id="A3.SS2.p5.3.m3.1.1.2.2.cmml" xref="A3.SS2.p5.3.m3.1.1.2.2">𝐸</ci><apply id="A3.SS2.p5.3.m3.1.1.2.3.cmml" xref="A3.SS2.p5.3.m3.1.1.2.3"><times id="A3.SS2.p5.3.m3.1.1.2.3.1.cmml" xref="A3.SS2.p5.3.m3.1.1.2.3.1"></times><ci id="A3.SS2.p5.3.m3.1.1.2.3.2.cmml" xref="A3.SS2.p5.3.m3.1.1.2.3.2">𝑓</ci><ci id="A3.SS2.p5.3.m3.1.1.2.3.3.cmml" xref="A3.SS2.p5.3.m3.1.1.2.3.3">𝑚</ci><ci id="A3.SS2.p5.3.m3.1.1.2.3.4.cmml" xref="A3.SS2.p5.3.m3.1.1.2.3.4">𝑡</ci></apply></apply><apply id="A3.SS2.p5.3.m3.1.1.3.cmml" xref="A3.SS2.p5.3.m3.1.1.3"><plus id="A3.SS2.p5.3.m3.1.1.3.1.cmml" xref="A3.SS2.p5.3.m3.1.1.3.1"></plus><apply id="A3.SS2.p5.3.m3.1.1.3.2.cmml" xref="A3.SS2.p5.3.m3.1.1.3.2"><ci id="A3.SS2.p5.3.m3.1.1.3.2.1.cmml" xref="A3.SS2.p5.3.m3.1.1.3.2.1">⋅</ci><apply id="A3.SS2.p5.3.m3.1.1.3.2.2.cmml" xref="A3.SS2.p5.3.m3.1.1.3.2.2"><csymbol cd="ambiguous" id="A3.SS2.p5.3.m3.1.1.3.2.2.1.cmml" xref="A3.SS2.p5.3.m3.1.1.3.2.2">subscript</csymbol><ci id="A3.SS2.p5.3.m3.1.1.3.2.2.2.cmml" xref="A3.SS2.p5.3.m3.1.1.3.2.2.2">𝑊</ci><apply id="A3.SS2.p5.3.m3.1.1.3.2.2.3.cmml" xref="A3.SS2.p5.3.m3.1.1.3.2.2.3"><times id="A3.SS2.p5.3.m3.1.1.3.2.2.3.1.cmml" xref="A3.SS2.p5.3.m3.1.1.3.2.2.3.1"></times><ci id="A3.SS2.p5.3.m3.1.1.3.2.2.3.2.cmml" xref="A3.SS2.p5.3.m3.1.1.3.2.2.3.2">𝑓</ci><ci id="A3.SS2.p5.3.m3.1.1.3.2.2.3.3.cmml" xref="A3.SS2.p5.3.m3.1.1.3.2.2.3.3">𝑚</ci><ci id="A3.SS2.p5.3.m3.1.1.3.2.2.3.4.cmml" xref="A3.SS2.p5.3.m3.1.1.3.2.2.3.4">𝑡</ci></apply></apply><ci id="A3.SS2.p5.3.m3.1.1.3.2.3.cmml" xref="A3.SS2.p5.3.m3.1.1.3.2.3">𝑥</ci></apply><ci id="A3.SS2.p5.3.m3.1.1.3.3.cmml" xref="A3.SS2.p5.3.m3.1.1.3.3">𝑏</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p5.3.m3.1c">E_{fmt}=W_{fmt}\cdot x+b</annotation></semantics></math> by weight <math id="A3.SS2.p5.4.m4.1" class="ltx_Math" alttext="W_{fmt}\in\mathbb{R}^{F\times H}" display="inline"><semantics id="A3.SS2.p5.4.m4.1a"><mrow id="A3.SS2.p5.4.m4.1.1" xref="A3.SS2.p5.4.m4.1.1.cmml"><msub id="A3.SS2.p5.4.m4.1.1.2" xref="A3.SS2.p5.4.m4.1.1.2.cmml"><mi id="A3.SS2.p5.4.m4.1.1.2.2" xref="A3.SS2.p5.4.m4.1.1.2.2.cmml">W</mi><mrow id="A3.SS2.p5.4.m4.1.1.2.3" xref="A3.SS2.p5.4.m4.1.1.2.3.cmml"><mi id="A3.SS2.p5.4.m4.1.1.2.3.2" xref="A3.SS2.p5.4.m4.1.1.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p5.4.m4.1.1.2.3.1" xref="A3.SS2.p5.4.m4.1.1.2.3.1.cmml">​</mo><mi id="A3.SS2.p5.4.m4.1.1.2.3.3" xref="A3.SS2.p5.4.m4.1.1.2.3.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="A3.SS2.p5.4.m4.1.1.2.3.1a" xref="A3.SS2.p5.4.m4.1.1.2.3.1.cmml">​</mo><mi id="A3.SS2.p5.4.m4.1.1.2.3.4" xref="A3.SS2.p5.4.m4.1.1.2.3.4.cmml">t</mi></mrow></msub><mo id="A3.SS2.p5.4.m4.1.1.1" xref="A3.SS2.p5.4.m4.1.1.1.cmml">∈</mo><msup id="A3.SS2.p5.4.m4.1.1.3" xref="A3.SS2.p5.4.m4.1.1.3.cmml"><mi id="A3.SS2.p5.4.m4.1.1.3.2" xref="A3.SS2.p5.4.m4.1.1.3.2.cmml">ℝ</mi><mrow id="A3.SS2.p5.4.m4.1.1.3.3" xref="A3.SS2.p5.4.m4.1.1.3.3.cmml"><mi id="A3.SS2.p5.4.m4.1.1.3.3.2" xref="A3.SS2.p5.4.m4.1.1.3.3.2.cmml">F</mi><mo lspace="0.222em" rspace="0.222em" id="A3.SS2.p5.4.m4.1.1.3.3.1" xref="A3.SS2.p5.4.m4.1.1.3.3.1.cmml">×</mo><mi id="A3.SS2.p5.4.m4.1.1.3.3.3" xref="A3.SS2.p5.4.m4.1.1.3.3.3.cmml">H</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p5.4.m4.1b"><apply id="A3.SS2.p5.4.m4.1.1.cmml" xref="A3.SS2.p5.4.m4.1.1"><in id="A3.SS2.p5.4.m4.1.1.1.cmml" xref="A3.SS2.p5.4.m4.1.1.1"></in><apply id="A3.SS2.p5.4.m4.1.1.2.cmml" xref="A3.SS2.p5.4.m4.1.1.2"><csymbol cd="ambiguous" id="A3.SS2.p5.4.m4.1.1.2.1.cmml" xref="A3.SS2.p5.4.m4.1.1.2">subscript</csymbol><ci id="A3.SS2.p5.4.m4.1.1.2.2.cmml" xref="A3.SS2.p5.4.m4.1.1.2.2">𝑊</ci><apply id="A3.SS2.p5.4.m4.1.1.2.3.cmml" xref="A3.SS2.p5.4.m4.1.1.2.3"><times id="A3.SS2.p5.4.m4.1.1.2.3.1.cmml" xref="A3.SS2.p5.4.m4.1.1.2.3.1"></times><ci id="A3.SS2.p5.4.m4.1.1.2.3.2.cmml" xref="A3.SS2.p5.4.m4.1.1.2.3.2">𝑓</ci><ci id="A3.SS2.p5.4.m4.1.1.2.3.3.cmml" xref="A3.SS2.p5.4.m4.1.1.2.3.3">𝑚</ci><ci id="A3.SS2.p5.4.m4.1.1.2.3.4.cmml" xref="A3.SS2.p5.4.m4.1.1.2.3.4">𝑡</ci></apply></apply><apply id="A3.SS2.p5.4.m4.1.1.3.cmml" xref="A3.SS2.p5.4.m4.1.1.3"><csymbol cd="ambiguous" id="A3.SS2.p5.4.m4.1.1.3.1.cmml" xref="A3.SS2.p5.4.m4.1.1.3">superscript</csymbol><ci id="A3.SS2.p5.4.m4.1.1.3.2.cmml" xref="A3.SS2.p5.4.m4.1.1.3.2">ℝ</ci><apply id="A3.SS2.p5.4.m4.1.1.3.3.cmml" xref="A3.SS2.p5.4.m4.1.1.3.3"><times id="A3.SS2.p5.4.m4.1.1.3.3.1.cmml" xref="A3.SS2.p5.4.m4.1.1.3.3.1"></times><ci id="A3.SS2.p5.4.m4.1.1.3.3.2.cmml" xref="A3.SS2.p5.4.m4.1.1.3.3.2">𝐹</ci><ci id="A3.SS2.p5.4.m4.1.1.3.3.3.cmml" xref="A3.SS2.p5.4.m4.1.1.3.3.3">𝐻</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p5.4.m4.1c">W_{fmt}\in\mathbb{R}^{F\times H}</annotation></semantics></math> and bias <math id="A3.SS2.p5.5.m5.1" class="ltx_Math" alttext="b\in\mathbb{R}^{H}" display="inline"><semantics id="A3.SS2.p5.5.m5.1a"><mrow id="A3.SS2.p5.5.m5.1.1" xref="A3.SS2.p5.5.m5.1.1.cmml"><mi id="A3.SS2.p5.5.m5.1.1.2" xref="A3.SS2.p5.5.m5.1.1.2.cmml">b</mi><mo id="A3.SS2.p5.5.m5.1.1.1" xref="A3.SS2.p5.5.m5.1.1.1.cmml">∈</mo><msup id="A3.SS2.p5.5.m5.1.1.3" xref="A3.SS2.p5.5.m5.1.1.3.cmml"><mi id="A3.SS2.p5.5.m5.1.1.3.2" xref="A3.SS2.p5.5.m5.1.1.3.2.cmml">ℝ</mi><mi id="A3.SS2.p5.5.m5.1.1.3.3" xref="A3.SS2.p5.5.m5.1.1.3.3.cmml">H</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p5.5.m5.1b"><apply id="A3.SS2.p5.5.m5.1.1.cmml" xref="A3.SS2.p5.5.m5.1.1"><in id="A3.SS2.p5.5.m5.1.1.1.cmml" xref="A3.SS2.p5.5.m5.1.1.1"></in><ci id="A3.SS2.p5.5.m5.1.1.2.cmml" xref="A3.SS2.p5.5.m5.1.1.2">𝑏</ci><apply id="A3.SS2.p5.5.m5.1.1.3.cmml" xref="A3.SS2.p5.5.m5.1.1.3"><csymbol cd="ambiguous" id="A3.SS2.p5.5.m5.1.1.3.1.cmml" xref="A3.SS2.p5.5.m5.1.1.3">superscript</csymbol><ci id="A3.SS2.p5.5.m5.1.1.3.2.cmml" xref="A3.SS2.p5.5.m5.1.1.3.2">ℝ</ci><ci id="A3.SS2.p5.5.m5.1.1.3.3.cmml" xref="A3.SS2.p5.5.m5.1.1.3.3">𝐻</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p5.5.m5.1c">b\in\mathbb{R}^{H}</annotation></semantics></math>.</p>
</div>
<div id="A3.SS2.p6" class="ltx_para ltx_noindent">
<p id="A3.SS2.p6.4" class="ltx_p"><span id="A3.SS2.p6.4.1" class="ltx_text ltx_font_bold">Pre-training hyper-parameters</span>  Pre-training TUTA has two stages. First, we use table sequences with no more than <math id="A3.SS2.p6.1.m1.1" class="ltx_Math" alttext="256" display="inline"><semantics id="A3.SS2.p6.1.m1.1a"><mn id="A3.SS2.p6.1.m1.1.1" xref="A3.SS2.p6.1.m1.1.1.cmml">256</mn><annotation-xml encoding="MathML-Content" id="A3.SS2.p6.1.m1.1b"><cn type="integer" id="A3.SS2.p6.1.m1.1.1.cmml" xref="A3.SS2.p6.1.m1.1.1">256</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p6.1.m1.1c">256</annotation></semantics></math> tokens with a batch size of <math id="A3.SS2.p6.2.m2.1" class="ltx_Math" alttext="12" display="inline"><semantics id="A3.SS2.p6.2.m2.1a"><mn id="A3.SS2.p6.2.m2.1.1" xref="A3.SS2.p6.2.m2.1.1.cmml">12</mn><annotation-xml encoding="MathML-Content" id="A3.SS2.p6.2.m2.1b"><cn type="integer" id="A3.SS2.p6.2.m2.1.1.cmml" xref="A3.SS2.p6.2.m2.1.1">12</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p6.2.m2.1c">12</annotation></semantics></math> for the first 1M steps of training. Then, we extend the supporting sequence length to <math id="A3.SS2.p6.3.m3.1" class="ltx_Math" alttext="512" display="inline"><semantics id="A3.SS2.p6.3.m3.1a"><mn id="A3.SS2.p6.3.m3.1.1" xref="A3.SS2.p6.3.m3.1.1.cmml">512</mn><annotation-xml encoding="MathML-Content" id="A3.SS2.p6.3.m3.1b"><cn type="integer" id="A3.SS2.p6.3.m3.1.1.cmml" xref="A3.SS2.p6.3.m3.1.1">512</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p6.3.m3.1c">512</annotation></semantics></math> and continue the training for another 1M steps using a batch size of <math id="A3.SS2.p6.4.m4.1" class="ltx_Math" alttext="4" display="inline"><semantics id="A3.SS2.p6.4.m4.1a"><mn id="A3.SS2.p6.4.m4.1.1" xref="A3.SS2.p6.4.m4.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="A3.SS2.p6.4.m4.1b"><cn type="integer" id="A3.SS2.p6.4.m4.1.1.cmml" xref="A3.SS2.p6.4.m4.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p6.4.m4.1c">4</annotation></semantics></math>.
The above procedures are implemented with PyTorch distributed training. We train TUTA and its variants on 64 Tesla V100 GPUs, and each TUTA variant takes nine days on four Tesla V100 GPUs.</p>
</div>
</section>
<section id="A3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.3. </span>Downstream tasks</h3>

<div id="A3.SS3.p1" class="ltx_para ltx_noindent">
<p id="A3.SS3.p1.1" class="ltx_p"><span id="A3.SS3.p1.1.1" class="ltx_text ltx_font_bold">Cell Type Classification (CTC)</span></p>
</div>
<div id="A3.SS3.p2" class="ltx_para">
<p id="A3.SS3.p2.8" class="ltx_p">We use a fine-tune head for this multi-classification problem.
Given the encoder’s outputs, we use the leading <math id="A3.SS3.p2.1.m1.1" class="ltx_Math" alttext="[SEP]" display="inline"><semantics id="A3.SS3.p2.1.m1.1a"><mrow id="A3.SS3.p2.1.m1.1.1.1" xref="A3.SS3.p2.1.m1.1.1.2.cmml"><mo stretchy="false" id="A3.SS3.p2.1.m1.1.1.1.2" xref="A3.SS3.p2.1.m1.1.1.2.1.cmml">[</mo><mrow id="A3.SS3.p2.1.m1.1.1.1.1" xref="A3.SS3.p2.1.m1.1.1.1.1.cmml"><mi id="A3.SS3.p2.1.m1.1.1.1.1.2" xref="A3.SS3.p2.1.m1.1.1.1.1.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="A3.SS3.p2.1.m1.1.1.1.1.1" xref="A3.SS3.p2.1.m1.1.1.1.1.1.cmml">​</mo><mi id="A3.SS3.p2.1.m1.1.1.1.1.3" xref="A3.SS3.p2.1.m1.1.1.1.1.3.cmml">E</mi><mo lspace="0em" rspace="0em" id="A3.SS3.p2.1.m1.1.1.1.1.1a" xref="A3.SS3.p2.1.m1.1.1.1.1.1.cmml">​</mo><mi id="A3.SS3.p2.1.m1.1.1.1.1.4" xref="A3.SS3.p2.1.m1.1.1.1.1.4.cmml">P</mi></mrow><mo stretchy="false" id="A3.SS3.p2.1.m1.1.1.1.3" xref="A3.SS3.p2.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p2.1.m1.1b"><apply id="A3.SS3.p2.1.m1.1.1.2.cmml" xref="A3.SS3.p2.1.m1.1.1.1"><csymbol cd="latexml" id="A3.SS3.p2.1.m1.1.1.2.1.cmml" xref="A3.SS3.p2.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="A3.SS3.p2.1.m1.1.1.1.1.cmml" xref="A3.SS3.p2.1.m1.1.1.1.1"><times id="A3.SS3.p2.1.m1.1.1.1.1.1.cmml" xref="A3.SS3.p2.1.m1.1.1.1.1.1"></times><ci id="A3.SS3.p2.1.m1.1.1.1.1.2.cmml" xref="A3.SS3.p2.1.m1.1.1.1.1.2">𝑆</ci><ci id="A3.SS3.p2.1.m1.1.1.1.1.3.cmml" xref="A3.SS3.p2.1.m1.1.1.1.1.3">𝐸</ci><ci id="A3.SS3.p2.1.m1.1.1.1.1.4.cmml" xref="A3.SS3.p2.1.m1.1.1.1.1.4">𝑃</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p2.1.m1.1c">[SEP]</annotation></semantics></math> in each cell to represent the whole cell, then perform linear transformations to compute logits over cell types: <math id="A3.SS3.p2.2.m2.1" class="ltx_Math" alttext="p_{c}=W_{2}\cdot~{}gelu(W_{1}\cdot r_{c}+b_{1})+b_{2}" display="inline"><semantics id="A3.SS3.p2.2.m2.1a"><mrow id="A3.SS3.p2.2.m2.1.1" xref="A3.SS3.p2.2.m2.1.1.cmml"><msub id="A3.SS3.p2.2.m2.1.1.3" xref="A3.SS3.p2.2.m2.1.1.3.cmml"><mi id="A3.SS3.p2.2.m2.1.1.3.2" xref="A3.SS3.p2.2.m2.1.1.3.2.cmml">p</mi><mi id="A3.SS3.p2.2.m2.1.1.3.3" xref="A3.SS3.p2.2.m2.1.1.3.3.cmml">c</mi></msub><mo id="A3.SS3.p2.2.m2.1.1.2" xref="A3.SS3.p2.2.m2.1.1.2.cmml">=</mo><mrow id="A3.SS3.p2.2.m2.1.1.1" xref="A3.SS3.p2.2.m2.1.1.1.cmml"><mrow id="A3.SS3.p2.2.m2.1.1.1.1" xref="A3.SS3.p2.2.m2.1.1.1.1.cmml"><mrow id="A3.SS3.p2.2.m2.1.1.1.1.3" xref="A3.SS3.p2.2.m2.1.1.1.1.3.cmml"><msub id="A3.SS3.p2.2.m2.1.1.1.1.3.2" xref="A3.SS3.p2.2.m2.1.1.1.1.3.2.cmml"><mi id="A3.SS3.p2.2.m2.1.1.1.1.3.2.2" xref="A3.SS3.p2.2.m2.1.1.1.1.3.2.2.cmml">W</mi><mn id="A3.SS3.p2.2.m2.1.1.1.1.3.2.3" xref="A3.SS3.p2.2.m2.1.1.1.1.3.2.3.cmml">2</mn></msub><mo lspace="0.222em" rspace="0.552em" id="A3.SS3.p2.2.m2.1.1.1.1.3.1" xref="A3.SS3.p2.2.m2.1.1.1.1.3.1.cmml">⋅</mo><mi id="A3.SS3.p2.2.m2.1.1.1.1.3.3" xref="A3.SS3.p2.2.m2.1.1.1.1.3.3.cmml">g</mi></mrow><mo lspace="0em" rspace="0em" id="A3.SS3.p2.2.m2.1.1.1.1.2" xref="A3.SS3.p2.2.m2.1.1.1.1.2.cmml">​</mo><mi id="A3.SS3.p2.2.m2.1.1.1.1.4" xref="A3.SS3.p2.2.m2.1.1.1.1.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="A3.SS3.p2.2.m2.1.1.1.1.2a" xref="A3.SS3.p2.2.m2.1.1.1.1.2.cmml">​</mo><mi id="A3.SS3.p2.2.m2.1.1.1.1.5" xref="A3.SS3.p2.2.m2.1.1.1.1.5.cmml">l</mi><mo lspace="0em" rspace="0em" id="A3.SS3.p2.2.m2.1.1.1.1.2b" xref="A3.SS3.p2.2.m2.1.1.1.1.2.cmml">​</mo><mi id="A3.SS3.p2.2.m2.1.1.1.1.6" xref="A3.SS3.p2.2.m2.1.1.1.1.6.cmml">u</mi><mo lspace="0em" rspace="0em" id="A3.SS3.p2.2.m2.1.1.1.1.2c" xref="A3.SS3.p2.2.m2.1.1.1.1.2.cmml">​</mo><mrow id="A3.SS3.p2.2.m2.1.1.1.1.1.1" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="A3.SS3.p2.2.m2.1.1.1.1.1.1.2" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.cmml"><mrow id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.cmml"><msub id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2.cmml"><mi id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2.2" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2.2.cmml">W</mi><mn id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2.3" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2.3.cmml">1</mn></msub><mo lspace="0.222em" rspace="0.222em" id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.1" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.1.cmml">⋅</mo><msub id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3.cmml"><mi id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3.2" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3.2.cmml">r</mi><mi id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3.3" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3.3.cmml">c</mi></msub></mrow><mo id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.1" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.cmml">+</mo><msub id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3.cmml"><mi id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3.2" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3.2.cmml">b</mi><mn id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3.3" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3.3.cmml">1</mn></msub></mrow><mo stretchy="false" id="A3.SS3.p2.2.m2.1.1.1.1.1.1.3" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A3.SS3.p2.2.m2.1.1.1.2" xref="A3.SS3.p2.2.m2.1.1.1.2.cmml">+</mo><msub id="A3.SS3.p2.2.m2.1.1.1.3" xref="A3.SS3.p2.2.m2.1.1.1.3.cmml"><mi id="A3.SS3.p2.2.m2.1.1.1.3.2" xref="A3.SS3.p2.2.m2.1.1.1.3.2.cmml">b</mi><mn id="A3.SS3.p2.2.m2.1.1.1.3.3" xref="A3.SS3.p2.2.m2.1.1.1.3.3.cmml">2</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p2.2.m2.1b"><apply id="A3.SS3.p2.2.m2.1.1.cmml" xref="A3.SS3.p2.2.m2.1.1"><eq id="A3.SS3.p2.2.m2.1.1.2.cmml" xref="A3.SS3.p2.2.m2.1.1.2"></eq><apply id="A3.SS3.p2.2.m2.1.1.3.cmml" xref="A3.SS3.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p2.2.m2.1.1.3.1.cmml" xref="A3.SS3.p2.2.m2.1.1.3">subscript</csymbol><ci id="A3.SS3.p2.2.m2.1.1.3.2.cmml" xref="A3.SS3.p2.2.m2.1.1.3.2">𝑝</ci><ci id="A3.SS3.p2.2.m2.1.1.3.3.cmml" xref="A3.SS3.p2.2.m2.1.1.3.3">𝑐</ci></apply><apply id="A3.SS3.p2.2.m2.1.1.1.cmml" xref="A3.SS3.p2.2.m2.1.1.1"><plus id="A3.SS3.p2.2.m2.1.1.1.2.cmml" xref="A3.SS3.p2.2.m2.1.1.1.2"></plus><apply id="A3.SS3.p2.2.m2.1.1.1.1.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1"><times id="A3.SS3.p2.2.m2.1.1.1.1.2.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.2"></times><apply id="A3.SS3.p2.2.m2.1.1.1.1.3.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.3"><ci id="A3.SS3.p2.2.m2.1.1.1.1.3.1.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.3.1">⋅</ci><apply id="A3.SS3.p2.2.m2.1.1.1.1.3.2.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.3.2"><csymbol cd="ambiguous" id="A3.SS3.p2.2.m2.1.1.1.1.3.2.1.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.3.2">subscript</csymbol><ci id="A3.SS3.p2.2.m2.1.1.1.1.3.2.2.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.3.2.2">𝑊</ci><cn type="integer" id="A3.SS3.p2.2.m2.1.1.1.1.3.2.3.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.3.2.3">2</cn></apply><ci id="A3.SS3.p2.2.m2.1.1.1.1.3.3.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.3.3">𝑔</ci></apply><ci id="A3.SS3.p2.2.m2.1.1.1.1.4.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.4">𝑒</ci><ci id="A3.SS3.p2.2.m2.1.1.1.1.5.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.5">𝑙</ci><ci id="A3.SS3.p2.2.m2.1.1.1.1.6.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.6">𝑢</ci><apply id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1"><plus id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.1.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.1"></plus><apply id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2"><ci id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.1.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.1">⋅</ci><apply id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2.1.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2.2.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2.2">𝑊</ci><cn type="integer" id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2.3.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.2.3">1</cn></apply><apply id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3.1.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3.2.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3.2">𝑟</ci><ci id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3.3.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.2.3.3">𝑐</ci></apply></apply><apply id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3.1.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3.2.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3.2">𝑏</ci><cn type="integer" id="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3.3.cmml" xref="A3.SS3.p2.2.m2.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply><apply id="A3.SS3.p2.2.m2.1.1.1.3.cmml" xref="A3.SS3.p2.2.m2.1.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p2.2.m2.1.1.1.3.1.cmml" xref="A3.SS3.p2.2.m2.1.1.1.3">subscript</csymbol><ci id="A3.SS3.p2.2.m2.1.1.1.3.2.cmml" xref="A3.SS3.p2.2.m2.1.1.1.3.2">𝑏</ci><cn type="integer" id="A3.SS3.p2.2.m2.1.1.1.3.3.cmml" xref="A3.SS3.p2.2.m2.1.1.1.3.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p2.2.m2.1c">p_{c}=W_{2}\cdot~{}gelu(W_{1}\cdot r_{c}+b_{1})+b_{2}</annotation></semantics></math>, where <math id="A3.SS3.p2.3.m3.1" class="ltx_Math" alttext="r_{c}\in\mathbb{R}^{H}" display="inline"><semantics id="A3.SS3.p2.3.m3.1a"><mrow id="A3.SS3.p2.3.m3.1.1" xref="A3.SS3.p2.3.m3.1.1.cmml"><msub id="A3.SS3.p2.3.m3.1.1.2" xref="A3.SS3.p2.3.m3.1.1.2.cmml"><mi id="A3.SS3.p2.3.m3.1.1.2.2" xref="A3.SS3.p2.3.m3.1.1.2.2.cmml">r</mi><mi id="A3.SS3.p2.3.m3.1.1.2.3" xref="A3.SS3.p2.3.m3.1.1.2.3.cmml">c</mi></msub><mo id="A3.SS3.p2.3.m3.1.1.1" xref="A3.SS3.p2.3.m3.1.1.1.cmml">∈</mo><msup id="A3.SS3.p2.3.m3.1.1.3" xref="A3.SS3.p2.3.m3.1.1.3.cmml"><mi id="A3.SS3.p2.3.m3.1.1.3.2" xref="A3.SS3.p2.3.m3.1.1.3.2.cmml">ℝ</mi><mi id="A3.SS3.p2.3.m3.1.1.3.3" xref="A3.SS3.p2.3.m3.1.1.3.3.cmml">H</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p2.3.m3.1b"><apply id="A3.SS3.p2.3.m3.1.1.cmml" xref="A3.SS3.p2.3.m3.1.1"><in id="A3.SS3.p2.3.m3.1.1.1.cmml" xref="A3.SS3.p2.3.m3.1.1.1"></in><apply id="A3.SS3.p2.3.m3.1.1.2.cmml" xref="A3.SS3.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="A3.SS3.p2.3.m3.1.1.2.1.cmml" xref="A3.SS3.p2.3.m3.1.1.2">subscript</csymbol><ci id="A3.SS3.p2.3.m3.1.1.2.2.cmml" xref="A3.SS3.p2.3.m3.1.1.2.2">𝑟</ci><ci id="A3.SS3.p2.3.m3.1.1.2.3.cmml" xref="A3.SS3.p2.3.m3.1.1.2.3">𝑐</ci></apply><apply id="A3.SS3.p2.3.m3.1.1.3.cmml" xref="A3.SS3.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p2.3.m3.1.1.3.1.cmml" xref="A3.SS3.p2.3.m3.1.1.3">superscript</csymbol><ci id="A3.SS3.p2.3.m3.1.1.3.2.cmml" xref="A3.SS3.p2.3.m3.1.1.3.2">ℝ</ci><ci id="A3.SS3.p2.3.m3.1.1.3.3.cmml" xref="A3.SS3.p2.3.m3.1.1.3.3">𝐻</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p2.3.m3.1c">r_{c}\in\mathbb{R}^{H}</annotation></semantics></math> is the cell representation, <math id="A3.SS3.p2.4.m4.1" class="ltx_Math" alttext="W_{1}\in\mathbb{R}^{H\times H}" display="inline"><semantics id="A3.SS3.p2.4.m4.1a"><mrow id="A3.SS3.p2.4.m4.1.1" xref="A3.SS3.p2.4.m4.1.1.cmml"><msub id="A3.SS3.p2.4.m4.1.1.2" xref="A3.SS3.p2.4.m4.1.1.2.cmml"><mi id="A3.SS3.p2.4.m4.1.1.2.2" xref="A3.SS3.p2.4.m4.1.1.2.2.cmml">W</mi><mn id="A3.SS3.p2.4.m4.1.1.2.3" xref="A3.SS3.p2.4.m4.1.1.2.3.cmml">1</mn></msub><mo id="A3.SS3.p2.4.m4.1.1.1" xref="A3.SS3.p2.4.m4.1.1.1.cmml">∈</mo><msup id="A3.SS3.p2.4.m4.1.1.3" xref="A3.SS3.p2.4.m4.1.1.3.cmml"><mi id="A3.SS3.p2.4.m4.1.1.3.2" xref="A3.SS3.p2.4.m4.1.1.3.2.cmml">ℝ</mi><mrow id="A3.SS3.p2.4.m4.1.1.3.3" xref="A3.SS3.p2.4.m4.1.1.3.3.cmml"><mi id="A3.SS3.p2.4.m4.1.1.3.3.2" xref="A3.SS3.p2.4.m4.1.1.3.3.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="A3.SS3.p2.4.m4.1.1.3.3.1" xref="A3.SS3.p2.4.m4.1.1.3.3.1.cmml">×</mo><mi id="A3.SS3.p2.4.m4.1.1.3.3.3" xref="A3.SS3.p2.4.m4.1.1.3.3.3.cmml">H</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p2.4.m4.1b"><apply id="A3.SS3.p2.4.m4.1.1.cmml" xref="A3.SS3.p2.4.m4.1.1"><in id="A3.SS3.p2.4.m4.1.1.1.cmml" xref="A3.SS3.p2.4.m4.1.1.1"></in><apply id="A3.SS3.p2.4.m4.1.1.2.cmml" xref="A3.SS3.p2.4.m4.1.1.2"><csymbol cd="ambiguous" id="A3.SS3.p2.4.m4.1.1.2.1.cmml" xref="A3.SS3.p2.4.m4.1.1.2">subscript</csymbol><ci id="A3.SS3.p2.4.m4.1.1.2.2.cmml" xref="A3.SS3.p2.4.m4.1.1.2.2">𝑊</ci><cn type="integer" id="A3.SS3.p2.4.m4.1.1.2.3.cmml" xref="A3.SS3.p2.4.m4.1.1.2.3">1</cn></apply><apply id="A3.SS3.p2.4.m4.1.1.3.cmml" xref="A3.SS3.p2.4.m4.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p2.4.m4.1.1.3.1.cmml" xref="A3.SS3.p2.4.m4.1.1.3">superscript</csymbol><ci id="A3.SS3.p2.4.m4.1.1.3.2.cmml" xref="A3.SS3.p2.4.m4.1.1.3.2">ℝ</ci><apply id="A3.SS3.p2.4.m4.1.1.3.3.cmml" xref="A3.SS3.p2.4.m4.1.1.3.3"><times id="A3.SS3.p2.4.m4.1.1.3.3.1.cmml" xref="A3.SS3.p2.4.m4.1.1.3.3.1"></times><ci id="A3.SS3.p2.4.m4.1.1.3.3.2.cmml" xref="A3.SS3.p2.4.m4.1.1.3.3.2">𝐻</ci><ci id="A3.SS3.p2.4.m4.1.1.3.3.3.cmml" xref="A3.SS3.p2.4.m4.1.1.3.3.3">𝐻</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p2.4.m4.1c">W_{1}\in\mathbb{R}^{H\times H}</annotation></semantics></math> and <math id="A3.SS3.p2.5.m5.1" class="ltx_Math" alttext="W_{2}\in\mathbb{R}^{C\times H}" display="inline"><semantics id="A3.SS3.p2.5.m5.1a"><mrow id="A3.SS3.p2.5.m5.1.1" xref="A3.SS3.p2.5.m5.1.1.cmml"><msub id="A3.SS3.p2.5.m5.1.1.2" xref="A3.SS3.p2.5.m5.1.1.2.cmml"><mi id="A3.SS3.p2.5.m5.1.1.2.2" xref="A3.SS3.p2.5.m5.1.1.2.2.cmml">W</mi><mn id="A3.SS3.p2.5.m5.1.1.2.3" xref="A3.SS3.p2.5.m5.1.1.2.3.cmml">2</mn></msub><mo id="A3.SS3.p2.5.m5.1.1.1" xref="A3.SS3.p2.5.m5.1.1.1.cmml">∈</mo><msup id="A3.SS3.p2.5.m5.1.1.3" xref="A3.SS3.p2.5.m5.1.1.3.cmml"><mi id="A3.SS3.p2.5.m5.1.1.3.2" xref="A3.SS3.p2.5.m5.1.1.3.2.cmml">ℝ</mi><mrow id="A3.SS3.p2.5.m5.1.1.3.3" xref="A3.SS3.p2.5.m5.1.1.3.3.cmml"><mi id="A3.SS3.p2.5.m5.1.1.3.3.2" xref="A3.SS3.p2.5.m5.1.1.3.3.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="A3.SS3.p2.5.m5.1.1.3.3.1" xref="A3.SS3.p2.5.m5.1.1.3.3.1.cmml">×</mo><mi id="A3.SS3.p2.5.m5.1.1.3.3.3" xref="A3.SS3.p2.5.m5.1.1.3.3.3.cmml">H</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p2.5.m5.1b"><apply id="A3.SS3.p2.5.m5.1.1.cmml" xref="A3.SS3.p2.5.m5.1.1"><in id="A3.SS3.p2.5.m5.1.1.1.cmml" xref="A3.SS3.p2.5.m5.1.1.1"></in><apply id="A3.SS3.p2.5.m5.1.1.2.cmml" xref="A3.SS3.p2.5.m5.1.1.2"><csymbol cd="ambiguous" id="A3.SS3.p2.5.m5.1.1.2.1.cmml" xref="A3.SS3.p2.5.m5.1.1.2">subscript</csymbol><ci id="A3.SS3.p2.5.m5.1.1.2.2.cmml" xref="A3.SS3.p2.5.m5.1.1.2.2">𝑊</ci><cn type="integer" id="A3.SS3.p2.5.m5.1.1.2.3.cmml" xref="A3.SS3.p2.5.m5.1.1.2.3">2</cn></apply><apply id="A3.SS3.p2.5.m5.1.1.3.cmml" xref="A3.SS3.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p2.5.m5.1.1.3.1.cmml" xref="A3.SS3.p2.5.m5.1.1.3">superscript</csymbol><ci id="A3.SS3.p2.5.m5.1.1.3.2.cmml" xref="A3.SS3.p2.5.m5.1.1.3.2">ℝ</ci><apply id="A3.SS3.p2.5.m5.1.1.3.3.cmml" xref="A3.SS3.p2.5.m5.1.1.3.3"><times id="A3.SS3.p2.5.m5.1.1.3.3.1.cmml" xref="A3.SS3.p2.5.m5.1.1.3.3.1"></times><ci id="A3.SS3.p2.5.m5.1.1.3.3.2.cmml" xref="A3.SS3.p2.5.m5.1.1.3.3.2">𝐶</ci><ci id="A3.SS3.p2.5.m5.1.1.3.3.3.cmml" xref="A3.SS3.p2.5.m5.1.1.3.3.3">𝐻</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p2.5.m5.1c">W_{2}\in\mathbb{R}^{C\times H}</annotation></semantics></math> are weights, <math id="A3.SS3.p2.6.m6.1" class="ltx_Math" alttext="b_{1}\in\mathbb{R}^{H}" display="inline"><semantics id="A3.SS3.p2.6.m6.1a"><mrow id="A3.SS3.p2.6.m6.1.1" xref="A3.SS3.p2.6.m6.1.1.cmml"><msub id="A3.SS3.p2.6.m6.1.1.2" xref="A3.SS3.p2.6.m6.1.1.2.cmml"><mi id="A3.SS3.p2.6.m6.1.1.2.2" xref="A3.SS3.p2.6.m6.1.1.2.2.cmml">b</mi><mn id="A3.SS3.p2.6.m6.1.1.2.3" xref="A3.SS3.p2.6.m6.1.1.2.3.cmml">1</mn></msub><mo id="A3.SS3.p2.6.m6.1.1.1" xref="A3.SS3.p2.6.m6.1.1.1.cmml">∈</mo><msup id="A3.SS3.p2.6.m6.1.1.3" xref="A3.SS3.p2.6.m6.1.1.3.cmml"><mi id="A3.SS3.p2.6.m6.1.1.3.2" xref="A3.SS3.p2.6.m6.1.1.3.2.cmml">ℝ</mi><mi id="A3.SS3.p2.6.m6.1.1.3.3" xref="A3.SS3.p2.6.m6.1.1.3.3.cmml">H</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p2.6.m6.1b"><apply id="A3.SS3.p2.6.m6.1.1.cmml" xref="A3.SS3.p2.6.m6.1.1"><in id="A3.SS3.p2.6.m6.1.1.1.cmml" xref="A3.SS3.p2.6.m6.1.1.1"></in><apply id="A3.SS3.p2.6.m6.1.1.2.cmml" xref="A3.SS3.p2.6.m6.1.1.2"><csymbol cd="ambiguous" id="A3.SS3.p2.6.m6.1.1.2.1.cmml" xref="A3.SS3.p2.6.m6.1.1.2">subscript</csymbol><ci id="A3.SS3.p2.6.m6.1.1.2.2.cmml" xref="A3.SS3.p2.6.m6.1.1.2.2">𝑏</ci><cn type="integer" id="A3.SS3.p2.6.m6.1.1.2.3.cmml" xref="A3.SS3.p2.6.m6.1.1.2.3">1</cn></apply><apply id="A3.SS3.p2.6.m6.1.1.3.cmml" xref="A3.SS3.p2.6.m6.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p2.6.m6.1.1.3.1.cmml" xref="A3.SS3.p2.6.m6.1.1.3">superscript</csymbol><ci id="A3.SS3.p2.6.m6.1.1.3.2.cmml" xref="A3.SS3.p2.6.m6.1.1.3.2">ℝ</ci><ci id="A3.SS3.p2.6.m6.1.1.3.3.cmml" xref="A3.SS3.p2.6.m6.1.1.3.3">𝐻</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p2.6.m6.1c">b_{1}\in\mathbb{R}^{H}</annotation></semantics></math> and <math id="A3.SS3.p2.7.m7.1" class="ltx_Math" alttext="b_{2}\in\mathbb{R}^{C}" display="inline"><semantics id="A3.SS3.p2.7.m7.1a"><mrow id="A3.SS3.p2.7.m7.1.1" xref="A3.SS3.p2.7.m7.1.1.cmml"><msub id="A3.SS3.p2.7.m7.1.1.2" xref="A3.SS3.p2.7.m7.1.1.2.cmml"><mi id="A3.SS3.p2.7.m7.1.1.2.2" xref="A3.SS3.p2.7.m7.1.1.2.2.cmml">b</mi><mn id="A3.SS3.p2.7.m7.1.1.2.3" xref="A3.SS3.p2.7.m7.1.1.2.3.cmml">2</mn></msub><mo id="A3.SS3.p2.7.m7.1.1.1" xref="A3.SS3.p2.7.m7.1.1.1.cmml">∈</mo><msup id="A3.SS3.p2.7.m7.1.1.3" xref="A3.SS3.p2.7.m7.1.1.3.cmml"><mi id="A3.SS3.p2.7.m7.1.1.3.2" xref="A3.SS3.p2.7.m7.1.1.3.2.cmml">ℝ</mi><mi id="A3.SS3.p2.7.m7.1.1.3.3" xref="A3.SS3.p2.7.m7.1.1.3.3.cmml">C</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p2.7.m7.1b"><apply id="A3.SS3.p2.7.m7.1.1.cmml" xref="A3.SS3.p2.7.m7.1.1"><in id="A3.SS3.p2.7.m7.1.1.1.cmml" xref="A3.SS3.p2.7.m7.1.1.1"></in><apply id="A3.SS3.p2.7.m7.1.1.2.cmml" xref="A3.SS3.p2.7.m7.1.1.2"><csymbol cd="ambiguous" id="A3.SS3.p2.7.m7.1.1.2.1.cmml" xref="A3.SS3.p2.7.m7.1.1.2">subscript</csymbol><ci id="A3.SS3.p2.7.m7.1.1.2.2.cmml" xref="A3.SS3.p2.7.m7.1.1.2.2">𝑏</ci><cn type="integer" id="A3.SS3.p2.7.m7.1.1.2.3.cmml" xref="A3.SS3.p2.7.m7.1.1.2.3">2</cn></apply><apply id="A3.SS3.p2.7.m7.1.1.3.cmml" xref="A3.SS3.p2.7.m7.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p2.7.m7.1.1.3.1.cmml" xref="A3.SS3.p2.7.m7.1.1.3">superscript</csymbol><ci id="A3.SS3.p2.7.m7.1.1.3.2.cmml" xref="A3.SS3.p2.7.m7.1.1.3.2">ℝ</ci><ci id="A3.SS3.p2.7.m7.1.1.3.3.cmml" xref="A3.SS3.p2.7.m7.1.1.3.3">𝐶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p2.7.m7.1c">b_{2}\in\mathbb{R}^{C}</annotation></semantics></math> are bias, and <math id="A3.SS3.p2.8.m8.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A3.SS3.p2.8.m8.1a"><mi id="A3.SS3.p2.8.m8.1.1" xref="A3.SS3.p2.8.m8.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A3.SS3.p2.8.m8.1b"><ci id="A3.SS3.p2.8.m8.1.1.cmml" xref="A3.SS3.p2.8.m8.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p2.8.m8.1c">C</annotation></semantics></math> is the number of cell types. We compute the cross-entropy loss against labels.</p>
</div>
<div id="A3.SS3.p3" class="ltx_para">
<p id="A3.SS3.p3.1" class="ltx_p">When splitting datasets into train, validation, and test, we adopt a table-wise, rather than a cell-wise manner. Since cells in a table are always considered together, none of the cells in test tables have been used for training.</p>
</div>
<div id="A3.SS3.p4" class="ltx_para">
<p id="A3.SS3.p4.4" class="ltx_p">At fine-tuning, we follow <cite class="ltx_cite ltx_citemacro_citep">[Dong <span class="ltx_text ltx_font_italic">et al.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2019a</a>]</cite> and tune our model for <math id="A3.SS3.p4.1.m1.1" class="ltx_Math" alttext="4" display="inline"><semantics id="A3.SS3.p4.1.m1.1a"><mn id="A3.SS3.p4.1.m1.1.1" xref="A3.SS3.p4.1.m1.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="A3.SS3.p4.1.m1.1b"><cn type="integer" id="A3.SS3.p4.1.m1.1.1.cmml" xref="A3.SS3.p4.1.m1.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p4.1.m1.1c">4</annotation></semantics></math> epochs on WebSheet.
For DeEx, SAUS and CIUS, since the number of tables is not as big, we separately tune TUTA for <math id="A3.SS3.p4.2.m2.1" class="ltx_Math" alttext="100" display="inline"><semantics id="A3.SS3.p4.2.m2.1a"><mn id="A3.SS3.p4.2.m2.1.1" xref="A3.SS3.p4.2.m2.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="A3.SS3.p4.2.m2.1b"><cn type="integer" id="A3.SS3.p4.2.m2.1.1.cmml" xref="A3.SS3.p4.2.m2.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p4.2.m2.1c">100</annotation></semantics></math> epochs on five random-split folds and report their average macro f1.
All experiments set the batch size to <math id="A3.SS3.p4.3.m3.1" class="ltx_Math" alttext="4" display="inline"><semantics id="A3.SS3.p4.3.m3.1a"><mn id="A3.SS3.p4.3.m3.1.1" xref="A3.SS3.p4.3.m3.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="A3.SS3.p4.3.m3.1b"><cn type="integer" id="A3.SS3.p4.3.m3.1.1.cmml" xref="A3.SS3.p4.3.m3.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p4.3.m3.1c">4</annotation></semantics></math> and the learning rate to <math id="A3.SS3.p4.4.m4.1" class="ltx_Math" alttext="8\mathrm{e}{-6}" display="inline"><semantics id="A3.SS3.p4.4.m4.1a"><mrow id="A3.SS3.p4.4.m4.1.1" xref="A3.SS3.p4.4.m4.1.1.cmml"><mrow id="A3.SS3.p4.4.m4.1.1.2" xref="A3.SS3.p4.4.m4.1.1.2.cmml"><mn id="A3.SS3.p4.4.m4.1.1.2.2" xref="A3.SS3.p4.4.m4.1.1.2.2.cmml">8</mn><mo lspace="0em" rspace="0em" id="A3.SS3.p4.4.m4.1.1.2.1" xref="A3.SS3.p4.4.m4.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="A3.SS3.p4.4.m4.1.1.2.3" xref="A3.SS3.p4.4.m4.1.1.2.3.cmml">e</mi></mrow><mo id="A3.SS3.p4.4.m4.1.1.1" xref="A3.SS3.p4.4.m4.1.1.1.cmml">−</mo><mn id="A3.SS3.p4.4.m4.1.1.3" xref="A3.SS3.p4.4.m4.1.1.3.cmml">6</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p4.4.m4.1b"><apply id="A3.SS3.p4.4.m4.1.1.cmml" xref="A3.SS3.p4.4.m4.1.1"><minus id="A3.SS3.p4.4.m4.1.1.1.cmml" xref="A3.SS3.p4.4.m4.1.1.1"></minus><apply id="A3.SS3.p4.4.m4.1.1.2.cmml" xref="A3.SS3.p4.4.m4.1.1.2"><times id="A3.SS3.p4.4.m4.1.1.2.1.cmml" xref="A3.SS3.p4.4.m4.1.1.2.1"></times><cn type="integer" id="A3.SS3.p4.4.m4.1.1.2.2.cmml" xref="A3.SS3.p4.4.m4.1.1.2.2">8</cn><ci id="A3.SS3.p4.4.m4.1.1.2.3.cmml" xref="A3.SS3.p4.4.m4.1.1.2.3">e</ci></apply><cn type="integer" id="A3.SS3.p4.4.m4.1.1.3.cmml" xref="A3.SS3.p4.4.m4.1.1.3">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p4.4.m4.1c">8\mathrm{e}{-6}</annotation></semantics></math>.</p>
</div>
<div id="A3.SS3.p5" class="ltx_para ltx_noindent">
<p id="A3.SS3.p5.6" class="ltx_p"><span id="A3.SS3.p5.6.1" class="ltx_text ltx_font_bold">Table Type Classification (TTC)</span>  Similar to CTC, we use a dedicated head to classify table sequences into types.
Taking the leading <math id="A3.SS3.p5.1.m1.1" class="ltx_Math" alttext="[CLS]" display="inline"><semantics id="A3.SS3.p5.1.m1.1a"><mrow id="A3.SS3.p5.1.m1.1.1.1" xref="A3.SS3.p5.1.m1.1.1.2.cmml"><mo stretchy="false" id="A3.SS3.p5.1.m1.1.1.1.2" xref="A3.SS3.p5.1.m1.1.1.2.1.cmml">[</mo><mrow id="A3.SS3.p5.1.m1.1.1.1.1" xref="A3.SS3.p5.1.m1.1.1.1.1.cmml"><mi id="A3.SS3.p5.1.m1.1.1.1.1.2" xref="A3.SS3.p5.1.m1.1.1.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="A3.SS3.p5.1.m1.1.1.1.1.1" xref="A3.SS3.p5.1.m1.1.1.1.1.1.cmml">​</mo><mi id="A3.SS3.p5.1.m1.1.1.1.1.3" xref="A3.SS3.p5.1.m1.1.1.1.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="A3.SS3.p5.1.m1.1.1.1.1.1a" xref="A3.SS3.p5.1.m1.1.1.1.1.1.cmml">​</mo><mi id="A3.SS3.p5.1.m1.1.1.1.1.4" xref="A3.SS3.p5.1.m1.1.1.1.1.4.cmml">S</mi></mrow><mo stretchy="false" id="A3.SS3.p5.1.m1.1.1.1.3" xref="A3.SS3.p5.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p5.1.m1.1b"><apply id="A3.SS3.p5.1.m1.1.1.2.cmml" xref="A3.SS3.p5.1.m1.1.1.1"><csymbol cd="latexml" id="A3.SS3.p5.1.m1.1.1.2.1.cmml" xref="A3.SS3.p5.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="A3.SS3.p5.1.m1.1.1.1.1.cmml" xref="A3.SS3.p5.1.m1.1.1.1.1"><times id="A3.SS3.p5.1.m1.1.1.1.1.1.cmml" xref="A3.SS3.p5.1.m1.1.1.1.1.1"></times><ci id="A3.SS3.p5.1.m1.1.1.1.1.2.cmml" xref="A3.SS3.p5.1.m1.1.1.1.1.2">𝐶</ci><ci id="A3.SS3.p5.1.m1.1.1.1.1.3.cmml" xref="A3.SS3.p5.1.m1.1.1.1.1.3">𝐿</ci><ci id="A3.SS3.p5.1.m1.1.1.1.1.4.cmml" xref="A3.SS3.p5.1.m1.1.1.1.1.4">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p5.1.m1.1c">[CLS]</annotation></semantics></math> of each table to represent the whole table, we compute logics over table types: <math id="A3.SS3.p5.2.m2.1" class="ltx_Math" alttext="p_{t}=W_{2}\cdot~{}gelu(W_{1}\cdot r_{t}+b_{1})+b_{2}" display="inline"><semantics id="A3.SS3.p5.2.m2.1a"><mrow id="A3.SS3.p5.2.m2.1.1" xref="A3.SS3.p5.2.m2.1.1.cmml"><msub id="A3.SS3.p5.2.m2.1.1.3" xref="A3.SS3.p5.2.m2.1.1.3.cmml"><mi id="A3.SS3.p5.2.m2.1.1.3.2" xref="A3.SS3.p5.2.m2.1.1.3.2.cmml">p</mi><mi id="A3.SS3.p5.2.m2.1.1.3.3" xref="A3.SS3.p5.2.m2.1.1.3.3.cmml">t</mi></msub><mo id="A3.SS3.p5.2.m2.1.1.2" xref="A3.SS3.p5.2.m2.1.1.2.cmml">=</mo><mrow id="A3.SS3.p5.2.m2.1.1.1" xref="A3.SS3.p5.2.m2.1.1.1.cmml"><mrow id="A3.SS3.p5.2.m2.1.1.1.1" xref="A3.SS3.p5.2.m2.1.1.1.1.cmml"><mrow id="A3.SS3.p5.2.m2.1.1.1.1.3" xref="A3.SS3.p5.2.m2.1.1.1.1.3.cmml"><msub id="A3.SS3.p5.2.m2.1.1.1.1.3.2" xref="A3.SS3.p5.2.m2.1.1.1.1.3.2.cmml"><mi id="A3.SS3.p5.2.m2.1.1.1.1.3.2.2" xref="A3.SS3.p5.2.m2.1.1.1.1.3.2.2.cmml">W</mi><mn id="A3.SS3.p5.2.m2.1.1.1.1.3.2.3" xref="A3.SS3.p5.2.m2.1.1.1.1.3.2.3.cmml">2</mn></msub><mo lspace="0.222em" rspace="0.552em" id="A3.SS3.p5.2.m2.1.1.1.1.3.1" xref="A3.SS3.p5.2.m2.1.1.1.1.3.1.cmml">⋅</mo><mi id="A3.SS3.p5.2.m2.1.1.1.1.3.3" xref="A3.SS3.p5.2.m2.1.1.1.1.3.3.cmml">g</mi></mrow><mo lspace="0em" rspace="0em" id="A3.SS3.p5.2.m2.1.1.1.1.2" xref="A3.SS3.p5.2.m2.1.1.1.1.2.cmml">​</mo><mi id="A3.SS3.p5.2.m2.1.1.1.1.4" xref="A3.SS3.p5.2.m2.1.1.1.1.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="A3.SS3.p5.2.m2.1.1.1.1.2a" xref="A3.SS3.p5.2.m2.1.1.1.1.2.cmml">​</mo><mi id="A3.SS3.p5.2.m2.1.1.1.1.5" xref="A3.SS3.p5.2.m2.1.1.1.1.5.cmml">l</mi><mo lspace="0em" rspace="0em" id="A3.SS3.p5.2.m2.1.1.1.1.2b" xref="A3.SS3.p5.2.m2.1.1.1.1.2.cmml">​</mo><mi id="A3.SS3.p5.2.m2.1.1.1.1.6" xref="A3.SS3.p5.2.m2.1.1.1.1.6.cmml">u</mi><mo lspace="0em" rspace="0em" id="A3.SS3.p5.2.m2.1.1.1.1.2c" xref="A3.SS3.p5.2.m2.1.1.1.1.2.cmml">​</mo><mrow id="A3.SS3.p5.2.m2.1.1.1.1.1.1" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="A3.SS3.p5.2.m2.1.1.1.1.1.1.2" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.cmml"><mrow id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.cmml"><msub id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2.cmml"><mi id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2.2" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2.2.cmml">W</mi><mn id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2.3" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2.3.cmml">1</mn></msub><mo lspace="0.222em" rspace="0.222em" id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.1" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.1.cmml">⋅</mo><msub id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3.cmml"><mi id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3.2" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3.2.cmml">r</mi><mi id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3.3" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3.3.cmml">t</mi></msub></mrow><mo id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.1" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.1.cmml">+</mo><msub id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3.cmml"><mi id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3.2" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3.2.cmml">b</mi><mn id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3.3" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3.3.cmml">1</mn></msub></mrow><mo stretchy="false" id="A3.SS3.p5.2.m2.1.1.1.1.1.1.3" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A3.SS3.p5.2.m2.1.1.1.2" xref="A3.SS3.p5.2.m2.1.1.1.2.cmml">+</mo><msub id="A3.SS3.p5.2.m2.1.1.1.3" xref="A3.SS3.p5.2.m2.1.1.1.3.cmml"><mi id="A3.SS3.p5.2.m2.1.1.1.3.2" xref="A3.SS3.p5.2.m2.1.1.1.3.2.cmml">b</mi><mn id="A3.SS3.p5.2.m2.1.1.1.3.3" xref="A3.SS3.p5.2.m2.1.1.1.3.3.cmml">2</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p5.2.m2.1b"><apply id="A3.SS3.p5.2.m2.1.1.cmml" xref="A3.SS3.p5.2.m2.1.1"><eq id="A3.SS3.p5.2.m2.1.1.2.cmml" xref="A3.SS3.p5.2.m2.1.1.2"></eq><apply id="A3.SS3.p5.2.m2.1.1.3.cmml" xref="A3.SS3.p5.2.m2.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p5.2.m2.1.1.3.1.cmml" xref="A3.SS3.p5.2.m2.1.1.3">subscript</csymbol><ci id="A3.SS3.p5.2.m2.1.1.3.2.cmml" xref="A3.SS3.p5.2.m2.1.1.3.2">𝑝</ci><ci id="A3.SS3.p5.2.m2.1.1.3.3.cmml" xref="A3.SS3.p5.2.m2.1.1.3.3">𝑡</ci></apply><apply id="A3.SS3.p5.2.m2.1.1.1.cmml" xref="A3.SS3.p5.2.m2.1.1.1"><plus id="A3.SS3.p5.2.m2.1.1.1.2.cmml" xref="A3.SS3.p5.2.m2.1.1.1.2"></plus><apply id="A3.SS3.p5.2.m2.1.1.1.1.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1"><times id="A3.SS3.p5.2.m2.1.1.1.1.2.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.2"></times><apply id="A3.SS3.p5.2.m2.1.1.1.1.3.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.3"><ci id="A3.SS3.p5.2.m2.1.1.1.1.3.1.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.3.1">⋅</ci><apply id="A3.SS3.p5.2.m2.1.1.1.1.3.2.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.3.2"><csymbol cd="ambiguous" id="A3.SS3.p5.2.m2.1.1.1.1.3.2.1.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.3.2">subscript</csymbol><ci id="A3.SS3.p5.2.m2.1.1.1.1.3.2.2.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.3.2.2">𝑊</ci><cn type="integer" id="A3.SS3.p5.2.m2.1.1.1.1.3.2.3.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.3.2.3">2</cn></apply><ci id="A3.SS3.p5.2.m2.1.1.1.1.3.3.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.3.3">𝑔</ci></apply><ci id="A3.SS3.p5.2.m2.1.1.1.1.4.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.4">𝑒</ci><ci id="A3.SS3.p5.2.m2.1.1.1.1.5.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.5">𝑙</ci><ci id="A3.SS3.p5.2.m2.1.1.1.1.6.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.6">𝑢</ci><apply id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1"><plus id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.1.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.1"></plus><apply id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2"><ci id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.1.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.1">⋅</ci><apply id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2.1.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2.2.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2.2">𝑊</ci><cn type="integer" id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2.3.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.2.3">1</cn></apply><apply id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3.1.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3.2.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3.2">𝑟</ci><ci id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3.3.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.2.3.3">𝑡</ci></apply></apply><apply id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3.1.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3.2.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3.2">𝑏</ci><cn type="integer" id="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3.3.cmml" xref="A3.SS3.p5.2.m2.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply><apply id="A3.SS3.p5.2.m2.1.1.1.3.cmml" xref="A3.SS3.p5.2.m2.1.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p5.2.m2.1.1.1.3.1.cmml" xref="A3.SS3.p5.2.m2.1.1.1.3">subscript</csymbol><ci id="A3.SS3.p5.2.m2.1.1.1.3.2.cmml" xref="A3.SS3.p5.2.m2.1.1.1.3.2">𝑏</ci><cn type="integer" id="A3.SS3.p5.2.m2.1.1.1.3.3.cmml" xref="A3.SS3.p5.2.m2.1.1.1.3.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p5.2.m2.1c">p_{t}=W_{2}\cdot~{}gelu(W_{1}\cdot r_{t}+b_{1})+b_{2}</annotation></semantics></math>, where the table representation <math id="A3.SS3.p5.3.m3.1" class="ltx_Math" alttext="r_{t}\in\mathbb{R}^{H}" display="inline"><semantics id="A3.SS3.p5.3.m3.1a"><mrow id="A3.SS3.p5.3.m3.1.1" xref="A3.SS3.p5.3.m3.1.1.cmml"><msub id="A3.SS3.p5.3.m3.1.1.2" xref="A3.SS3.p5.3.m3.1.1.2.cmml"><mi id="A3.SS3.p5.3.m3.1.1.2.2" xref="A3.SS3.p5.3.m3.1.1.2.2.cmml">r</mi><mi id="A3.SS3.p5.3.m3.1.1.2.3" xref="A3.SS3.p5.3.m3.1.1.2.3.cmml">t</mi></msub><mo id="A3.SS3.p5.3.m3.1.1.1" xref="A3.SS3.p5.3.m3.1.1.1.cmml">∈</mo><msup id="A3.SS3.p5.3.m3.1.1.3" xref="A3.SS3.p5.3.m3.1.1.3.cmml"><mi id="A3.SS3.p5.3.m3.1.1.3.2" xref="A3.SS3.p5.3.m3.1.1.3.2.cmml">ℝ</mi><mi id="A3.SS3.p5.3.m3.1.1.3.3" xref="A3.SS3.p5.3.m3.1.1.3.3.cmml">H</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p5.3.m3.1b"><apply id="A3.SS3.p5.3.m3.1.1.cmml" xref="A3.SS3.p5.3.m3.1.1"><in id="A3.SS3.p5.3.m3.1.1.1.cmml" xref="A3.SS3.p5.3.m3.1.1.1"></in><apply id="A3.SS3.p5.3.m3.1.1.2.cmml" xref="A3.SS3.p5.3.m3.1.1.2"><csymbol cd="ambiguous" id="A3.SS3.p5.3.m3.1.1.2.1.cmml" xref="A3.SS3.p5.3.m3.1.1.2">subscript</csymbol><ci id="A3.SS3.p5.3.m3.1.1.2.2.cmml" xref="A3.SS3.p5.3.m3.1.1.2.2">𝑟</ci><ci id="A3.SS3.p5.3.m3.1.1.2.3.cmml" xref="A3.SS3.p5.3.m3.1.1.2.3">𝑡</ci></apply><apply id="A3.SS3.p5.3.m3.1.1.3.cmml" xref="A3.SS3.p5.3.m3.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p5.3.m3.1.1.3.1.cmml" xref="A3.SS3.p5.3.m3.1.1.3">superscript</csymbol><ci id="A3.SS3.p5.3.m3.1.1.3.2.cmml" xref="A3.SS3.p5.3.m3.1.1.3.2">ℝ</ci><ci id="A3.SS3.p5.3.m3.1.1.3.3.cmml" xref="A3.SS3.p5.3.m3.1.1.3.3">𝐻</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p5.3.m3.1c">r_{t}\in\mathbb{R}^{H}</annotation></semantics></math>, weights <math id="A3.SS3.p5.4.m4.2" class="ltx_Math" alttext="W_{1}\in\mathbb{R}^{H\times H},W_{2}\in\mathbb{R}^{C_{t}\times H}" display="inline"><semantics id="A3.SS3.p5.4.m4.2a"><mrow id="A3.SS3.p5.4.m4.2.2.2" xref="A3.SS3.p5.4.m4.2.2.3.cmml"><mrow id="A3.SS3.p5.4.m4.1.1.1.1" xref="A3.SS3.p5.4.m4.1.1.1.1.cmml"><msub id="A3.SS3.p5.4.m4.1.1.1.1.2" xref="A3.SS3.p5.4.m4.1.1.1.1.2.cmml"><mi id="A3.SS3.p5.4.m4.1.1.1.1.2.2" xref="A3.SS3.p5.4.m4.1.1.1.1.2.2.cmml">W</mi><mn id="A3.SS3.p5.4.m4.1.1.1.1.2.3" xref="A3.SS3.p5.4.m4.1.1.1.1.2.3.cmml">1</mn></msub><mo id="A3.SS3.p5.4.m4.1.1.1.1.1" xref="A3.SS3.p5.4.m4.1.1.1.1.1.cmml">∈</mo><msup id="A3.SS3.p5.4.m4.1.1.1.1.3" xref="A3.SS3.p5.4.m4.1.1.1.1.3.cmml"><mi id="A3.SS3.p5.4.m4.1.1.1.1.3.2" xref="A3.SS3.p5.4.m4.1.1.1.1.3.2.cmml">ℝ</mi><mrow id="A3.SS3.p5.4.m4.1.1.1.1.3.3" xref="A3.SS3.p5.4.m4.1.1.1.1.3.3.cmml"><mi id="A3.SS3.p5.4.m4.1.1.1.1.3.3.2" xref="A3.SS3.p5.4.m4.1.1.1.1.3.3.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="A3.SS3.p5.4.m4.1.1.1.1.3.3.1" xref="A3.SS3.p5.4.m4.1.1.1.1.3.3.1.cmml">×</mo><mi id="A3.SS3.p5.4.m4.1.1.1.1.3.3.3" xref="A3.SS3.p5.4.m4.1.1.1.1.3.3.3.cmml">H</mi></mrow></msup></mrow><mo id="A3.SS3.p5.4.m4.2.2.2.3" xref="A3.SS3.p5.4.m4.2.2.3a.cmml">,</mo><mrow id="A3.SS3.p5.4.m4.2.2.2.2" xref="A3.SS3.p5.4.m4.2.2.2.2.cmml"><msub id="A3.SS3.p5.4.m4.2.2.2.2.2" xref="A3.SS3.p5.4.m4.2.2.2.2.2.cmml"><mi id="A3.SS3.p5.4.m4.2.2.2.2.2.2" xref="A3.SS3.p5.4.m4.2.2.2.2.2.2.cmml">W</mi><mn id="A3.SS3.p5.4.m4.2.2.2.2.2.3" xref="A3.SS3.p5.4.m4.2.2.2.2.2.3.cmml">2</mn></msub><mo id="A3.SS3.p5.4.m4.2.2.2.2.1" xref="A3.SS3.p5.4.m4.2.2.2.2.1.cmml">∈</mo><msup id="A3.SS3.p5.4.m4.2.2.2.2.3" xref="A3.SS3.p5.4.m4.2.2.2.2.3.cmml"><mi id="A3.SS3.p5.4.m4.2.2.2.2.3.2" xref="A3.SS3.p5.4.m4.2.2.2.2.3.2.cmml">ℝ</mi><mrow id="A3.SS3.p5.4.m4.2.2.2.2.3.3" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.cmml"><msub id="A3.SS3.p5.4.m4.2.2.2.2.3.3.2" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.2.cmml"><mi id="A3.SS3.p5.4.m4.2.2.2.2.3.3.2.2" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.2.2.cmml">C</mi><mi id="A3.SS3.p5.4.m4.2.2.2.2.3.3.2.3" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.2.3.cmml">t</mi></msub><mo lspace="0.222em" rspace="0.222em" id="A3.SS3.p5.4.m4.2.2.2.2.3.3.1" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.1.cmml">×</mo><mi id="A3.SS3.p5.4.m4.2.2.2.2.3.3.3" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.3.cmml">H</mi></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p5.4.m4.2b"><apply id="A3.SS3.p5.4.m4.2.2.3.cmml" xref="A3.SS3.p5.4.m4.2.2.2"><csymbol cd="ambiguous" id="A3.SS3.p5.4.m4.2.2.3a.cmml" xref="A3.SS3.p5.4.m4.2.2.2.3">formulae-sequence</csymbol><apply id="A3.SS3.p5.4.m4.1.1.1.1.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1"><in id="A3.SS3.p5.4.m4.1.1.1.1.1.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.1"></in><apply id="A3.SS3.p5.4.m4.1.1.1.1.2.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.2"><csymbol cd="ambiguous" id="A3.SS3.p5.4.m4.1.1.1.1.2.1.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.2">subscript</csymbol><ci id="A3.SS3.p5.4.m4.1.1.1.1.2.2.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.2.2">𝑊</ci><cn type="integer" id="A3.SS3.p5.4.m4.1.1.1.1.2.3.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.2.3">1</cn></apply><apply id="A3.SS3.p5.4.m4.1.1.1.1.3.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p5.4.m4.1.1.1.1.3.1.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.3">superscript</csymbol><ci id="A3.SS3.p5.4.m4.1.1.1.1.3.2.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.3.2">ℝ</ci><apply id="A3.SS3.p5.4.m4.1.1.1.1.3.3.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.3.3"><times id="A3.SS3.p5.4.m4.1.1.1.1.3.3.1.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.3.3.1"></times><ci id="A3.SS3.p5.4.m4.1.1.1.1.3.3.2.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.3.3.2">𝐻</ci><ci id="A3.SS3.p5.4.m4.1.1.1.1.3.3.3.cmml" xref="A3.SS3.p5.4.m4.1.1.1.1.3.3.3">𝐻</ci></apply></apply></apply><apply id="A3.SS3.p5.4.m4.2.2.2.2.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2"><in id="A3.SS3.p5.4.m4.2.2.2.2.1.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.1"></in><apply id="A3.SS3.p5.4.m4.2.2.2.2.2.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.2"><csymbol cd="ambiguous" id="A3.SS3.p5.4.m4.2.2.2.2.2.1.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.2">subscript</csymbol><ci id="A3.SS3.p5.4.m4.2.2.2.2.2.2.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.2.2">𝑊</ci><cn type="integer" id="A3.SS3.p5.4.m4.2.2.2.2.2.3.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.2.3">2</cn></apply><apply id="A3.SS3.p5.4.m4.2.2.2.2.3.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.3"><csymbol cd="ambiguous" id="A3.SS3.p5.4.m4.2.2.2.2.3.1.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.3">superscript</csymbol><ci id="A3.SS3.p5.4.m4.2.2.2.2.3.2.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.3.2">ℝ</ci><apply id="A3.SS3.p5.4.m4.2.2.2.2.3.3.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3"><times id="A3.SS3.p5.4.m4.2.2.2.2.3.3.1.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.1"></times><apply id="A3.SS3.p5.4.m4.2.2.2.2.3.3.2.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.2"><csymbol cd="ambiguous" id="A3.SS3.p5.4.m4.2.2.2.2.3.3.2.1.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.2">subscript</csymbol><ci id="A3.SS3.p5.4.m4.2.2.2.2.3.3.2.2.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.2.2">𝐶</ci><ci id="A3.SS3.p5.4.m4.2.2.2.2.3.3.2.3.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.2.3">𝑡</ci></apply><ci id="A3.SS3.p5.4.m4.2.2.2.2.3.3.3.cmml" xref="A3.SS3.p5.4.m4.2.2.2.2.3.3.3">𝐻</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p5.4.m4.2c">W_{1}\in\mathbb{R}^{H\times H},W_{2}\in\mathbb{R}^{C_{t}\times H}</annotation></semantics></math>, biases <math id="A3.SS3.p5.5.m5.2" class="ltx_Math" alttext="b_{1}\in\mathbb{R}^{H},b_{2}\in\mathbb{R}^{C_{t}}" display="inline"><semantics id="A3.SS3.p5.5.m5.2a"><mrow id="A3.SS3.p5.5.m5.2.2.2" xref="A3.SS3.p5.5.m5.2.2.3.cmml"><mrow id="A3.SS3.p5.5.m5.1.1.1.1" xref="A3.SS3.p5.5.m5.1.1.1.1.cmml"><msub id="A3.SS3.p5.5.m5.1.1.1.1.2" xref="A3.SS3.p5.5.m5.1.1.1.1.2.cmml"><mi id="A3.SS3.p5.5.m5.1.1.1.1.2.2" xref="A3.SS3.p5.5.m5.1.1.1.1.2.2.cmml">b</mi><mn id="A3.SS3.p5.5.m5.1.1.1.1.2.3" xref="A3.SS3.p5.5.m5.1.1.1.1.2.3.cmml">1</mn></msub><mo id="A3.SS3.p5.5.m5.1.1.1.1.1" xref="A3.SS3.p5.5.m5.1.1.1.1.1.cmml">∈</mo><msup id="A3.SS3.p5.5.m5.1.1.1.1.3" xref="A3.SS3.p5.5.m5.1.1.1.1.3.cmml"><mi id="A3.SS3.p5.5.m5.1.1.1.1.3.2" xref="A3.SS3.p5.5.m5.1.1.1.1.3.2.cmml">ℝ</mi><mi id="A3.SS3.p5.5.m5.1.1.1.1.3.3" xref="A3.SS3.p5.5.m5.1.1.1.1.3.3.cmml">H</mi></msup></mrow><mo id="A3.SS3.p5.5.m5.2.2.2.3" xref="A3.SS3.p5.5.m5.2.2.3a.cmml">,</mo><mrow id="A3.SS3.p5.5.m5.2.2.2.2" xref="A3.SS3.p5.5.m5.2.2.2.2.cmml"><msub id="A3.SS3.p5.5.m5.2.2.2.2.2" xref="A3.SS3.p5.5.m5.2.2.2.2.2.cmml"><mi id="A3.SS3.p5.5.m5.2.2.2.2.2.2" xref="A3.SS3.p5.5.m5.2.2.2.2.2.2.cmml">b</mi><mn id="A3.SS3.p5.5.m5.2.2.2.2.2.3" xref="A3.SS3.p5.5.m5.2.2.2.2.2.3.cmml">2</mn></msub><mo id="A3.SS3.p5.5.m5.2.2.2.2.1" xref="A3.SS3.p5.5.m5.2.2.2.2.1.cmml">∈</mo><msup id="A3.SS3.p5.5.m5.2.2.2.2.3" xref="A3.SS3.p5.5.m5.2.2.2.2.3.cmml"><mi id="A3.SS3.p5.5.m5.2.2.2.2.3.2" xref="A3.SS3.p5.5.m5.2.2.2.2.3.2.cmml">ℝ</mi><msub id="A3.SS3.p5.5.m5.2.2.2.2.3.3" xref="A3.SS3.p5.5.m5.2.2.2.2.3.3.cmml"><mi id="A3.SS3.p5.5.m5.2.2.2.2.3.3.2" xref="A3.SS3.p5.5.m5.2.2.2.2.3.3.2.cmml">C</mi><mi id="A3.SS3.p5.5.m5.2.2.2.2.3.3.3" xref="A3.SS3.p5.5.m5.2.2.2.2.3.3.3.cmml">t</mi></msub></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p5.5.m5.2b"><apply id="A3.SS3.p5.5.m5.2.2.3.cmml" xref="A3.SS3.p5.5.m5.2.2.2"><csymbol cd="ambiguous" id="A3.SS3.p5.5.m5.2.2.3a.cmml" xref="A3.SS3.p5.5.m5.2.2.2.3">formulae-sequence</csymbol><apply id="A3.SS3.p5.5.m5.1.1.1.1.cmml" xref="A3.SS3.p5.5.m5.1.1.1.1"><in id="A3.SS3.p5.5.m5.1.1.1.1.1.cmml" xref="A3.SS3.p5.5.m5.1.1.1.1.1"></in><apply id="A3.SS3.p5.5.m5.1.1.1.1.2.cmml" xref="A3.SS3.p5.5.m5.1.1.1.1.2"><csymbol cd="ambiguous" id="A3.SS3.p5.5.m5.1.1.1.1.2.1.cmml" xref="A3.SS3.p5.5.m5.1.1.1.1.2">subscript</csymbol><ci id="A3.SS3.p5.5.m5.1.1.1.1.2.2.cmml" xref="A3.SS3.p5.5.m5.1.1.1.1.2.2">𝑏</ci><cn type="integer" id="A3.SS3.p5.5.m5.1.1.1.1.2.3.cmml" xref="A3.SS3.p5.5.m5.1.1.1.1.2.3">1</cn></apply><apply id="A3.SS3.p5.5.m5.1.1.1.1.3.cmml" xref="A3.SS3.p5.5.m5.1.1.1.1.3"><csymbol cd="ambiguous" id="A3.SS3.p5.5.m5.1.1.1.1.3.1.cmml" xref="A3.SS3.p5.5.m5.1.1.1.1.3">superscript</csymbol><ci id="A3.SS3.p5.5.m5.1.1.1.1.3.2.cmml" xref="A3.SS3.p5.5.m5.1.1.1.1.3.2">ℝ</ci><ci id="A3.SS3.p5.5.m5.1.1.1.1.3.3.cmml" xref="A3.SS3.p5.5.m5.1.1.1.1.3.3">𝐻</ci></apply></apply><apply id="A3.SS3.p5.5.m5.2.2.2.2.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2"><in id="A3.SS3.p5.5.m5.2.2.2.2.1.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.1"></in><apply id="A3.SS3.p5.5.m5.2.2.2.2.2.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.2"><csymbol cd="ambiguous" id="A3.SS3.p5.5.m5.2.2.2.2.2.1.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.2">subscript</csymbol><ci id="A3.SS3.p5.5.m5.2.2.2.2.2.2.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.2.2">𝑏</ci><cn type="integer" id="A3.SS3.p5.5.m5.2.2.2.2.2.3.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.2.3">2</cn></apply><apply id="A3.SS3.p5.5.m5.2.2.2.2.3.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.3"><csymbol cd="ambiguous" id="A3.SS3.p5.5.m5.2.2.2.2.3.1.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.3">superscript</csymbol><ci id="A3.SS3.p5.5.m5.2.2.2.2.3.2.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.3.2">ℝ</ci><apply id="A3.SS3.p5.5.m5.2.2.2.2.3.3.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.3.3"><csymbol cd="ambiguous" id="A3.SS3.p5.5.m5.2.2.2.2.3.3.1.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.3.3">subscript</csymbol><ci id="A3.SS3.p5.5.m5.2.2.2.2.3.3.2.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.3.3.2">𝐶</ci><ci id="A3.SS3.p5.5.m5.2.2.2.2.3.3.3.cmml" xref="A3.SS3.p5.5.m5.2.2.2.2.3.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p5.5.m5.2c">b_{1}\in\mathbb{R}^{H},b_{2}\in\mathbb{R}^{C_{t}}</annotation></semantics></math>, and the number of table types <math id="A3.SS3.p5.6.m6.1" class="ltx_Math" alttext="C_{t}=5" display="inline"><semantics id="A3.SS3.p5.6.m6.1a"><mrow id="A3.SS3.p5.6.m6.1.1" xref="A3.SS3.p5.6.m6.1.1.cmml"><msub id="A3.SS3.p5.6.m6.1.1.2" xref="A3.SS3.p5.6.m6.1.1.2.cmml"><mi id="A3.SS3.p5.6.m6.1.1.2.2" xref="A3.SS3.p5.6.m6.1.1.2.2.cmml">C</mi><mi id="A3.SS3.p5.6.m6.1.1.2.3" xref="A3.SS3.p5.6.m6.1.1.2.3.cmml">t</mi></msub><mo id="A3.SS3.p5.6.m6.1.1.1" xref="A3.SS3.p5.6.m6.1.1.1.cmml">=</mo><mn id="A3.SS3.p5.6.m6.1.1.3" xref="A3.SS3.p5.6.m6.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p5.6.m6.1b"><apply id="A3.SS3.p5.6.m6.1.1.cmml" xref="A3.SS3.p5.6.m6.1.1"><eq id="A3.SS3.p5.6.m6.1.1.1.cmml" xref="A3.SS3.p5.6.m6.1.1.1"></eq><apply id="A3.SS3.p5.6.m6.1.1.2.cmml" xref="A3.SS3.p5.6.m6.1.1.2"><csymbol cd="ambiguous" id="A3.SS3.p5.6.m6.1.1.2.1.cmml" xref="A3.SS3.p5.6.m6.1.1.2">subscript</csymbol><ci id="A3.SS3.p5.6.m6.1.1.2.2.cmml" xref="A3.SS3.p5.6.m6.1.1.2.2">𝐶</ci><ci id="A3.SS3.p5.6.m6.1.1.2.3.cmml" xref="A3.SS3.p5.6.m6.1.1.2.3">𝑡</ci></apply><cn type="integer" id="A3.SS3.p5.6.m6.1.1.3.cmml" xref="A3.SS3.p5.6.m6.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p5.6.m6.1c">C_{t}=5</annotation></semantics></math>. Finally, we compute the cross-entropy loss against ground truths. To ensure an unbiased comparison, we also fine-tune TAPAS and TaBERT using the same TTC head and loss function with TUTA.</p>
</div>
<div id="A3.SS3.p6" class="ltx_para">
<p id="A3.SS3.p6.1" class="ltx_p">Since they didn’t specify the details of dataset segmentation, we randomly split tables into train/valid/test sets under the proportion of 8/1/1. Meanwhile, having noticed previous considerations to balance samples across types, we always divide within classes and keep the type distribution in train/valid/test comparable to that of the entire dataset.</p>
</div>
<div id="A3.SS3.p7" class="ltx_para">
<p id="A3.SS3.p7.3" class="ltx_p">During fine-tuning, since TUTA, TAPAS, and TaBERT are all transformer-based models, we use identical hyper-parameters: with a batch size of <math id="A3.SS3.p7.1.m1.1" class="ltx_Math" alttext="2" display="inline"><semantics id="A3.SS3.p7.1.m1.1a"><mn id="A3.SS3.p7.1.m1.1.1" xref="A3.SS3.p7.1.m1.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="A3.SS3.p7.1.m1.1b"><cn type="integer" id="A3.SS3.p7.1.m1.1.1.cmml" xref="A3.SS3.p7.1.m1.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p7.1.m1.1c">2</annotation></semantics></math>, the learning rate of <math id="A3.SS3.p7.2.m2.1" class="ltx_Math" alttext="8\mathrm{e}{-6}" display="inline"><semantics id="A3.SS3.p7.2.m2.1a"><mrow id="A3.SS3.p7.2.m2.1.1" xref="A3.SS3.p7.2.m2.1.1.cmml"><mrow id="A3.SS3.p7.2.m2.1.1.2" xref="A3.SS3.p7.2.m2.1.1.2.cmml"><mn id="A3.SS3.p7.2.m2.1.1.2.2" xref="A3.SS3.p7.2.m2.1.1.2.2.cmml">8</mn><mo lspace="0em" rspace="0em" id="A3.SS3.p7.2.m2.1.1.2.1" xref="A3.SS3.p7.2.m2.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="A3.SS3.p7.2.m2.1.1.2.3" xref="A3.SS3.p7.2.m2.1.1.2.3.cmml">e</mi></mrow><mo id="A3.SS3.p7.2.m2.1.1.1" xref="A3.SS3.p7.2.m2.1.1.1.cmml">−</mo><mn id="A3.SS3.p7.2.m2.1.1.3" xref="A3.SS3.p7.2.m2.1.1.3.cmml">6</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS3.p7.2.m2.1b"><apply id="A3.SS3.p7.2.m2.1.1.cmml" xref="A3.SS3.p7.2.m2.1.1"><minus id="A3.SS3.p7.2.m2.1.1.1.cmml" xref="A3.SS3.p7.2.m2.1.1.1"></minus><apply id="A3.SS3.p7.2.m2.1.1.2.cmml" xref="A3.SS3.p7.2.m2.1.1.2"><times id="A3.SS3.p7.2.m2.1.1.2.1.cmml" xref="A3.SS3.p7.2.m2.1.1.2.1"></times><cn type="integer" id="A3.SS3.p7.2.m2.1.1.2.2.cmml" xref="A3.SS3.p7.2.m2.1.1.2.2">8</cn><ci id="A3.SS3.p7.2.m2.1.1.2.3.cmml" xref="A3.SS3.p7.2.m2.1.1.2.3">e</ci></apply><cn type="integer" id="A3.SS3.p7.2.m2.1.1.3.cmml" xref="A3.SS3.p7.2.m2.1.1.3">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p7.2.m2.1c">8\mathrm{e}{-6}</annotation></semantics></math>, and run <math id="A3.SS3.p7.3.m3.1" class="ltx_Math" alttext="4" display="inline"><semantics id="A3.SS3.p7.3.m3.1a"><mn id="A3.SS3.p7.3.m3.1.1" xref="A3.SS3.p7.3.m3.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="A3.SS3.p7.3.m3.1b"><cn type="integer" id="A3.SS3.p7.3.m3.1.1.cmml" xref="A3.SS3.p7.3.m3.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS3.p7.3.m3.1c">4</annotation></semantics></math> epochs.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2010.12536" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2010.12537" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2010.12537">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2010.12537" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2010.12538" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Mar 19 06:21:37 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
