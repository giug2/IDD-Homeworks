<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[1906.08430] Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects</title><meta property="og:description" content="Visual question answering (VQA) models have been shown to over-rely on linguistic biases in VQA datasets, answering questions “blindly” without considering visual context. Adversarial regularization (AdvReg) aims to ad…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/1906.08430">

<!--Generated on Thu Mar  7 10:52:10 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Adversarial Regularization for Visual Question Answering:
<br class="ltx_break">Strengths, Shortcomings, and Side Effects</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname"><span id="id1.1.id1" class="ltx_text ltx_font_bold">Gabriel Grand<sup id="id1.1.id1.1" class="ltx_sup"><span id="id1.1.id1.1.1" class="ltx_text ltx_font_medium">1</span></sup></span> and <span id="id2.2.id2" class="ltx_text ltx_font_bold">Yonatan Belinkov<sup id="id2.2.id2.1" class="ltx_sup"><span id="id2.2.id2.1.1" class="ltx_text ltx_font_medium">1,2</span></sup></span> 
<br class="ltx_break"><sup id="id3.3.id3" class="ltx_sup">1</sup>Harvard John A. Paulson School of Engineering and Applied Sciences
<br class="ltx_break"><sup id="id4.4.id4" class="ltx_sup">2</sup>MIT Computer Science and Artificial Intelligence Laboratory
<br class="ltx_break">Cambridge, MA, USA
<br class="ltx_break"><span id="id5.5.id5" class="ltx_text ltx_font_typewriter">ggrand@alumni.harvard.edu, belinkov@seas.harvard.edu</span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id6.id1" class="ltx_p">Visual question answering (VQA) models have been shown to over-rely on linguistic biases in VQA datasets, answering questions “blindly” without considering visual context. Adversarial regularization (<span id="id6.id1.1" class="ltx_text">AdvReg</span>) aims to address this issue via an adversary sub-network that encourages the main model to learn a bias-free representation of the question.
In this work, we investigate the strengths and shortcomings of <span id="id6.id1.2" class="ltx_text">AdvReg</span> with the goal of better understanding how it affects inference in VQA models. Despite achieving a new state-of-the-art on VQA-CP, we find that <span id="id6.id1.3" class="ltx_text">AdvReg</span> yields several undesirable side-effects, including unstable gradients and sharply reduced performance on in-domain examples. We demonstrate that gradual introduction of regularization during training helps to alleviate, but not completely solve, these issues.
Through error analyses, we observe that <span id="id6.id1.4" class="ltx_text">AdvReg</span> improves generalization to binary questions, but impairs performance on questions with heterogeneous answer distributions. Qualitatively, we also find that regularized models tend to over-rely on visual features, while ignoring important linguistic cues in the question. Our results suggest that <span id="id6.id1.5" class="ltx_text">AdvReg</span> requires further refinement before it can be considered a viable bias mitigation technique for VQA.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">In recent years, the Visual Question Answering (VQA) community has grown increasingly cognizant of the confounding role that bias plays in VQA research. Many popular VQA datasets have been shown to contain systematic language biases that enable models to cheat by answering questions “blindly” without considering visual context <cite class="ltx_cite ltx_citemacro_citep">(Agrawal et al., <a href="#bib.bib1" title="" class="ltx_ref">2016</a>; Zhang et al., <a href="#bib.bib28" title="" class="ltx_ref">2016</a>; Goyal et al., <a href="#bib.bib10" title="" class="ltx_ref">2017</a>; Agrawal et al., <a href="#bib.bib2" title="" class="ltx_ref">2018</a>)</cite>.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Efforts to address this problem have mainly focused on constructing more balanced datasets <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a href="#bib.bib28" title="" class="ltx_ref">2016</a>; Goyal et al., <a href="#bib.bib10" title="" class="ltx_ref">2017</a>; Johnson et al., <a href="#bib.bib16" title="" class="ltx_ref">2017</a>; Chao et al., <a href="#bib.bib6" title="" class="ltx_ref">2018</a>)</cite>. However, any benchmark that involves crowdsourced data is likely to encode certain cognitive and/or social biases <cite class="ltx_cite ltx_citemacro_citep">(van Miltenburg, <a href="#bib.bib19" title="" class="ltx_ref">2016</a>; Misra et al., <a href="#bib.bib20" title="" class="ltx_ref">2016</a>; Eickhoff, <a href="#bib.bib8" title="" class="ltx_ref">2018</a>)</cite>.
An alternate approach is to develop models that can generalize to novel domains with different biases. In this spirit, <cite class="ltx_cite ltx_citemacro_citet">Agrawal et al. (<a href="#bib.bib2" title="" class="ltx_ref">2018</a>)</cite> introduced VQA under Changing Priors (VQA-CP), a new benchmark in which the distribution of answers varies significantly between train and test splits. Existing models, which tend to rely heavily on the distribution of answers in the training set, perform poorly on VQA-CP <cite class="ltx_cite ltx_citemacro_citep">(Agrawal et al., <a href="#bib.bib2" title="" class="ltx_ref">2018</a>)</cite>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">One approach to mitigating bias that has recently gained interest is a technique called adversarial regularization (<span id="S1.p3.1.1" class="ltx_text">AdvReg</span>). In <span id="S1.p3.1.2" class="ltx_text">AdvReg</span>, an adversary sub-network performs an inference task based on a subset of the input features; in this case, the adversary attempts to predict answers based only on the question. Successful performance by the adversary indicates that the main network has learned a biased input representation. Negated gradient updates from the adversary are backpropagated to a shared encoder to encourage the main network to learn a bias-neutral representation of the question. Recently, <cite class="ltx_cite ltx_citemacro_citet">Ramakrishnan et al. (<a href="#bib.bib22" title="" class="ltx_ref">2018</a>)</cite> applied <span id="S1.p3.1.3" class="ltx_text">AdvReg</span> to VQA and found that it improves generalization to out-of-domain examples on VQA-CP test.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Despite this initial success, <span id="S1.p4.1.1" class="ltx_text">AdvReg</span> is still a relatively new methodology, and its effects on representation learning in neural networks remain largely unknown. In this study, we explore <span id="S1.p4.1.2" class="ltx_text">AdvReg</span> with the goal of better understanding how this technique affects inference in VQA models. We apply <span id="S1.p4.1.3" class="ltx_text">AdvReg</span> to the Pythia VQA architecture <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al., <a href="#bib.bib15" title="" class="ltx_ref">2018b</a>)</cite>, achieving a new state-of-the-art on VQA-CP v1 and v2.
However, we find that <span id="S1.p4.1.4" class="ltx_text">AdvReg</span> yields a number of previously unreported and undesirable side-effects. We first observe that <span id="S1.p4.1.5" class="ltx_text">AdvReg</span> introduces significant noise into gradient updates that creates instability during training. This finding motivates the introduction of a new scheduling technique that gradually introduces regularization over the course of training. We find that scheduling improves gradient stability in the early phases of adversarial training and improves performance on VQA-CP v2. However, even with scheduling, <span id="S1.p4.1.6" class="ltx_text">AdvReg</span> significantly reduces performance on in-domain examples. This side-effect suggests that like many statistical regularization methods, <span id="S1.p4.1.7" class="ltx_text">AdvReg</span> offers a trade-off between in-domain and out-of-domain performance.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">To investigate the strengths and weaknesses of regularized models, we perform quantitative and qualitative error analyses. We find that <span id="S1.p5.1.1" class="ltx_text">AdvReg</span> is especially helpful with Yes/No questions, but reduces performance on questions with heterogeneous answers. We also visualize a number of successes and failures of <span id="S1.p5.1.2" class="ltx_text">AdvReg</span>, revealing that regularized models often ignore linguistic cues in the question and are heavily swayed by salient visual features. These findings suggest an under-utilization of key information in the question.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">The contributions of this work are two-fold. First, we share practical tips for dealing with the idiosyncrasies of <span id="S1.p6.1.1" class="ltx_text">AdvReg</span>. Second, we highlight some core drawbacks of <span id="S1.p6.1.2" class="ltx_text">AdvReg</span> that have not previously been reported in the literature. By drawing attention to these shortcomings, we hope to motivate future efforts to refine <span id="S1.p6.1.3" class="ltx_text">AdvReg</span>.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Biases in VQA datasets</h4>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p1.1" class="ltx_p">A growing body of work points to the existence of biases in popular VQA datasets <cite class="ltx_cite ltx_citemacro_citep">(Agrawal et al., <a href="#bib.bib1" title="" class="ltx_ref">2016</a>; Zhang et al., <a href="#bib.bib28" title="" class="ltx_ref">2016</a>; Jabri et al., <a href="#bib.bib13" title="" class="ltx_ref">2016</a>; Goyal et al., <a href="#bib.bib10" title="" class="ltx_ref">2017</a>; Johnson et al., <a href="#bib.bib16" title="" class="ltx_ref">2017</a>; Chao et al., <a href="#bib.bib6" title="" class="ltx_ref">2018</a>; Agrawal et al., <a href="#bib.bib2" title="" class="ltx_ref">2018</a>; Thomason et al., <a href="#bib.bib25" title="" class="ltx_ref">2019</a>)</cite>. In VQA v1 <cite class="ltx_cite ltx_citemacro_citep">(Antol et al., <a href="#bib.bib4" title="" class="ltx_ref">2015</a>)</cite>, for instance, for questions of the form, “What sport is…?”, the correct answer is “tennis” 41% of the time, and for questions beginning with “Do you see a…?” the correct answer is“yes” 87% of the time <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a href="#bib.bib28" title="" class="ltx_ref">2016</a>)</cite>. By exploiting these biases, models can disregard the image and still achieve high VQA scores.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="S2.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Biases in other language tasks</h4>

<div id="S2.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p1.1" class="ltx_p">Language biases have also been reported in natural language inference (NLI) <cite class="ltx_cite ltx_citemacro_citep">(Gururangan et al., <a href="#bib.bib11" title="" class="ltx_ref">2018</a>; Tsuchiya, <a href="#bib.bib27" title="" class="ltx_ref">2018</a>; Poliak et al., <a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite>, reading comprehension <cite class="ltx_cite ltx_citemacro_citep">(Kaushik and Lipton, <a href="#bib.bib17" title="" class="ltx_ref">2018</a>)</cite>, and story cloze completion <cite class="ltx_cite ltx_citemacro_citep">(Schwartz et al., <a href="#bib.bib23" title="" class="ltx_ref">2017</a>)</cite>. Many of these tasks are concerned with inferring the relationship between two objects. As in VQA, models can often succeed by learning biases associated with one of these objects, while ignoring the other.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Biases in other vision tasks</h4>

<div id="S2.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p1.1" class="ltx_p">Images can also encode certain associative biases. For instance, the Commmon Objects in Context (COCO) image dataset <cite class="ltx_cite ltx_citemacro_citep">(Lin et al., <a href="#bib.bib18" title="" class="ltx_ref">2014</a>)</cite>, which is used in VQA, has been shown to contain prominent gender biases <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al., <a href="#bib.bib30" title="" class="ltx_ref">2017</a>; Hendricks et al., <a href="#bib.bib12" title="" class="ltx_ref">2018</a>)</cite>. Recently, <cite class="ltx_cite ltx_citemacro_citet">Hendricks et al. (<a href="#bib.bib12" title="" class="ltx_ref">2018</a>)</cite> introduced a technique that encourages the assignment of equal gender probability when gender information is occluded from an image. Their Appearance Confusion Loss can be viewed as a vision captioning analogue to AdvReg for VQA.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Mitigating bias</h4>

<div id="S2.SS0.SSS0.Px4.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px4.p1.1" class="ltx_p">Initial efforts to address bias in VQA focused on debiasing existing datasets. VQA v2 introduced complimentary examples with different answers to every question <cite class="ltx_cite ltx_citemacro_citep">(Goyal et al., <a href="#bib.bib10" title="" class="ltx_ref">2017</a>)</cite>. While VQA v2 resulted in a near 50/50 balance for Yes/No questions, the distribution for non-binary questions (e.g., “What type of…?”; “What sport is…?”) remains skewed towards a handful of top answers <cite class="ltx_cite ltx_citemacro_citep">(Goyal et al., <a href="#bib.bib10" title="" class="ltx_ref">2017</a>)</cite>.</p>
</div>
<div id="S2.SS0.SSS0.Px4.p2" class="ltx_para">
<p id="S2.SS0.SSS0.Px4.p2.1" class="ltx_p">Given the difficulty of isolating bias from crowdsourced data, researchers have instead begun to emphasize generalization to new domains with different biases. In this line, <cite class="ltx_cite ltx_citemacro_citet">Agrawal et al. (<a href="#bib.bib2" title="" class="ltx_ref">2018</a>)</cite> introduced VQA-CP, a re-division of the existing VQA datasets in which the distribution of answers per question type is inverted between train and test splits. For instance, in the VQA-CP v1 train split, “tennis” is the most frequent answer for the question “What sport is…?”, while “skiing” is very uncommon; in the test split, this prior is reversed.
Most relevant to our work, <cite class="ltx_cite ltx_citemacro_citet">Ramakrishnan et al. (<a href="#bib.bib22" title="" class="ltx_ref">2018</a>)</cite> applied <span id="S2.SS0.SSS0.Px4.p2.1.1" class="ltx_text">AdvReg</span> to VQA-CP, and found that it improved test performance over a non-regularized model.
Similarly, <cite class="ltx_cite ltx_citemacro_citet">Belinkov et al. (<a href="#bib.bib5" title="" class="ltx_ref">2019</a>)</cite> analyzed the effects of using <span id="S2.SS0.SSS0.Px4.p2.1.2" class="ltx_text">AdvReg</span> to address bias in NLI.
In this work, we analyze the effects of <span id="S2.SS0.SSS0.Px4.p2.1.3" class="ltx_text">AdvReg</span> on VQA models in further detail, complement AdvReg with a scheduling scheme, and point to remaining limitations in its behavior.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Methods</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Adversarial Regularization</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">Many modern VQA architectures adhere to a common modular design <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al., <a href="#bib.bib15" title="" class="ltx_ref">2018b</a>)</cite> consisting of the following four components:</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><math id="S3.I1.i1.p1.1.m1.2" class="ltx_Math" alttext="f_{v}(I;\theta_{v}):I\mapsto v" display="inline"><semantics id="S3.I1.i1.p1.1.m1.2a"><mrow id="S3.I1.i1.p1.1.m1.2.2" xref="S3.I1.i1.p1.1.m1.2.2.cmml"><mrow id="S3.I1.i1.p1.1.m1.2.2.1" xref="S3.I1.i1.p1.1.m1.2.2.1.cmml"><msub id="S3.I1.i1.p1.1.m1.2.2.1.3" xref="S3.I1.i1.p1.1.m1.2.2.1.3.cmml"><mi id="S3.I1.i1.p1.1.m1.2.2.1.3.2" xref="S3.I1.i1.p1.1.m1.2.2.1.3.2.cmml">f</mi><mi id="S3.I1.i1.p1.1.m1.2.2.1.3.3" xref="S3.I1.i1.p1.1.m1.2.2.1.3.3.cmml">v</mi></msub><mo lspace="0em" rspace="0em" id="S3.I1.i1.p1.1.m1.2.2.1.2" xref="S3.I1.i1.p1.1.m1.2.2.1.2.cmml">​</mo><mrow id="S3.I1.i1.p1.1.m1.2.2.1.1.1" xref="S3.I1.i1.p1.1.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.I1.i1.p1.1.m1.2.2.1.1.1.2" xref="S3.I1.i1.p1.1.m1.2.2.1.1.2.cmml">(</mo><mi id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml">I</mi><mo id="S3.I1.i1.p1.1.m1.2.2.1.1.1.3" xref="S3.I1.i1.p1.1.m1.2.2.1.1.2.cmml">;</mo><msub id="S3.I1.i1.p1.1.m1.2.2.1.1.1.1" xref="S3.I1.i1.p1.1.m1.2.2.1.1.1.1.cmml"><mi id="S3.I1.i1.p1.1.m1.2.2.1.1.1.1.2" xref="S3.I1.i1.p1.1.m1.2.2.1.1.1.1.2.cmml">θ</mi><mi id="S3.I1.i1.p1.1.m1.2.2.1.1.1.1.3" xref="S3.I1.i1.p1.1.m1.2.2.1.1.1.1.3.cmml">v</mi></msub><mo rspace="0.278em" stretchy="false" id="S3.I1.i1.p1.1.m1.2.2.1.1.1.4" xref="S3.I1.i1.p1.1.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S3.I1.i1.p1.1.m1.2.2.2" xref="S3.I1.i1.p1.1.m1.2.2.2.cmml">:</mo><mrow id="S3.I1.i1.p1.1.m1.2.2.3" xref="S3.I1.i1.p1.1.m1.2.2.3.cmml"><mi id="S3.I1.i1.p1.1.m1.2.2.3.2" xref="S3.I1.i1.p1.1.m1.2.2.3.2.cmml">I</mi><mo stretchy="false" id="S3.I1.i1.p1.1.m1.2.2.3.1" xref="S3.I1.i1.p1.1.m1.2.2.3.1.cmml">↦</mo><mi id="S3.I1.i1.p1.1.m1.2.2.3.3" xref="S3.I1.i1.p1.1.m1.2.2.3.3.cmml">v</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.2b"><apply id="S3.I1.i1.p1.1.m1.2.2.cmml" xref="S3.I1.i1.p1.1.m1.2.2"><ci id="S3.I1.i1.p1.1.m1.2.2.2.cmml" xref="S3.I1.i1.p1.1.m1.2.2.2">:</ci><apply id="S3.I1.i1.p1.1.m1.2.2.1.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1"><times id="S3.I1.i1.p1.1.m1.2.2.1.2.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.2"></times><apply id="S3.I1.i1.p1.1.m1.2.2.1.3.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.3"><csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.2.2.1.3.1.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.3">subscript</csymbol><ci id="S3.I1.i1.p1.1.m1.2.2.1.3.2.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.3.2">𝑓</ci><ci id="S3.I1.i1.p1.1.m1.2.2.1.3.3.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.3.3">𝑣</ci></apply><list id="S3.I1.i1.p1.1.m1.2.2.1.1.2.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.1.1"><ci id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">𝐼</ci><apply id="S3.I1.i1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S3.I1.i1.p1.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.1.1.1.2">𝜃</ci><ci id="S3.I1.i1.p1.1.m1.2.2.1.1.1.1.3.cmml" xref="S3.I1.i1.p1.1.m1.2.2.1.1.1.1.3">𝑣</ci></apply></list></apply><apply id="S3.I1.i1.p1.1.m1.2.2.3.cmml" xref="S3.I1.i1.p1.1.m1.2.2.3"><csymbol cd="latexml" id="S3.I1.i1.p1.1.m1.2.2.3.1.cmml" xref="S3.I1.i1.p1.1.m1.2.2.3.1">maps-to</csymbol><ci id="S3.I1.i1.p1.1.m1.2.2.3.2.cmml" xref="S3.I1.i1.p1.1.m1.2.2.3.2">𝐼</ci><ci id="S3.I1.i1.p1.1.m1.2.2.3.3.cmml" xref="S3.I1.i1.p1.1.m1.2.2.3.3">𝑣</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.2c">f_{v}(I;\theta_{v}):I\mapsto v</annotation></semantics></math> Image encoder</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><math id="S3.I1.i2.p1.1.m1.2" class="ltx_Math" alttext="f_{q}(Q;\theta_{q}):Q\mapsto q" display="inline"><semantics id="S3.I1.i2.p1.1.m1.2a"><mrow id="S3.I1.i2.p1.1.m1.2.2" xref="S3.I1.i2.p1.1.m1.2.2.cmml"><mrow id="S3.I1.i2.p1.1.m1.2.2.1" xref="S3.I1.i2.p1.1.m1.2.2.1.cmml"><msub id="S3.I1.i2.p1.1.m1.2.2.1.3" xref="S3.I1.i2.p1.1.m1.2.2.1.3.cmml"><mi id="S3.I1.i2.p1.1.m1.2.2.1.3.2" xref="S3.I1.i2.p1.1.m1.2.2.1.3.2.cmml">f</mi><mi id="S3.I1.i2.p1.1.m1.2.2.1.3.3" xref="S3.I1.i2.p1.1.m1.2.2.1.3.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.1.m1.2.2.1.2" xref="S3.I1.i2.p1.1.m1.2.2.1.2.cmml">​</mo><mrow id="S3.I1.i2.p1.1.m1.2.2.1.1.1" xref="S3.I1.i2.p1.1.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.I1.i2.p1.1.m1.2.2.1.1.1.2" xref="S3.I1.i2.p1.1.m1.2.2.1.1.2.cmml">(</mo><mi id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml">Q</mi><mo id="S3.I1.i2.p1.1.m1.2.2.1.1.1.3" xref="S3.I1.i2.p1.1.m1.2.2.1.1.2.cmml">;</mo><msub id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.cmml"><mi id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.2" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.2.cmml">θ</mi><mi id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.3" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.3.cmml">q</mi></msub><mo rspace="0.278em" stretchy="false" id="S3.I1.i2.p1.1.m1.2.2.1.1.1.4" xref="S3.I1.i2.p1.1.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S3.I1.i2.p1.1.m1.2.2.2" xref="S3.I1.i2.p1.1.m1.2.2.2.cmml">:</mo><mrow id="S3.I1.i2.p1.1.m1.2.2.3" xref="S3.I1.i2.p1.1.m1.2.2.3.cmml"><mi id="S3.I1.i2.p1.1.m1.2.2.3.2" xref="S3.I1.i2.p1.1.m1.2.2.3.2.cmml">Q</mi><mo stretchy="false" id="S3.I1.i2.p1.1.m1.2.2.3.1" xref="S3.I1.i2.p1.1.m1.2.2.3.1.cmml">↦</mo><mi id="S3.I1.i2.p1.1.m1.2.2.3.3" xref="S3.I1.i2.p1.1.m1.2.2.3.3.cmml">q</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.2b"><apply id="S3.I1.i2.p1.1.m1.2.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2"><ci id="S3.I1.i2.p1.1.m1.2.2.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.2">:</ci><apply id="S3.I1.i2.p1.1.m1.2.2.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1"><times id="S3.I1.i2.p1.1.m1.2.2.1.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.2"></times><apply id="S3.I1.i2.p1.1.m1.2.2.1.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.3"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.2.2.1.3.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.3">subscript</csymbol><ci id="S3.I1.i2.p1.1.m1.2.2.1.3.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.3.2">𝑓</ci><ci id="S3.I1.i2.p1.1.m1.2.2.1.3.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.3.3">𝑞</ci></apply><list id="S3.I1.i2.p1.1.m1.2.2.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1"><ci id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1">𝑄</ci><apply id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.2">𝜃</ci><ci id="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.1.1.1.1.3">𝑞</ci></apply></list></apply><apply id="S3.I1.i2.p1.1.m1.2.2.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3"><csymbol cd="latexml" id="S3.I1.i2.p1.1.m1.2.2.3.1.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.1">maps-to</csymbol><ci id="S3.I1.i2.p1.1.m1.2.2.3.2.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.2">𝑄</ci><ci id="S3.I1.i2.p1.1.m1.2.2.3.3.cmml" xref="S3.I1.i2.p1.1.m1.2.2.3.3">𝑞</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.2c">f_{q}(Q;\theta_{q}):Q\mapsto q</annotation></semantics></math> Question encoder</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.1" class="ltx_p"><math id="S3.I1.i3.p1.1.m1.5" class="ltx_Math" alttext="f_{z}(v,q;\theta_{z}):v,q\mapsto z" display="inline"><semantics id="S3.I1.i3.p1.1.m1.5a"><mrow id="S3.I1.i3.p1.1.m1.5.5" xref="S3.I1.i3.p1.1.m1.5.5.cmml"><mrow id="S3.I1.i3.p1.1.m1.5.5.1" xref="S3.I1.i3.p1.1.m1.5.5.1.cmml"><msub id="S3.I1.i3.p1.1.m1.5.5.1.3" xref="S3.I1.i3.p1.1.m1.5.5.1.3.cmml"><mi id="S3.I1.i3.p1.1.m1.5.5.1.3.2" xref="S3.I1.i3.p1.1.m1.5.5.1.3.2.cmml">f</mi><mi id="S3.I1.i3.p1.1.m1.5.5.1.3.3" xref="S3.I1.i3.p1.1.m1.5.5.1.3.3.cmml">z</mi></msub><mo lspace="0em" rspace="0em" id="S3.I1.i3.p1.1.m1.5.5.1.2" xref="S3.I1.i3.p1.1.m1.5.5.1.2.cmml">​</mo><mrow id="S3.I1.i3.p1.1.m1.5.5.1.1.1" xref="S3.I1.i3.p1.1.m1.5.5.1.1.2.cmml"><mo stretchy="false" id="S3.I1.i3.p1.1.m1.5.5.1.1.1.2" xref="S3.I1.i3.p1.1.m1.5.5.1.1.2.cmml">(</mo><mi id="S3.I1.i3.p1.1.m1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.cmml">v</mi><mo id="S3.I1.i3.p1.1.m1.5.5.1.1.1.3" xref="S3.I1.i3.p1.1.m1.5.5.1.1.2.cmml">,</mo><mi id="S3.I1.i3.p1.1.m1.2.2" xref="S3.I1.i3.p1.1.m1.2.2.cmml">q</mi><mo id="S3.I1.i3.p1.1.m1.5.5.1.1.1.4" xref="S3.I1.i3.p1.1.m1.5.5.1.1.2.cmml">;</mo><msub id="S3.I1.i3.p1.1.m1.5.5.1.1.1.1" xref="S3.I1.i3.p1.1.m1.5.5.1.1.1.1.cmml"><mi id="S3.I1.i3.p1.1.m1.5.5.1.1.1.1.2" xref="S3.I1.i3.p1.1.m1.5.5.1.1.1.1.2.cmml">θ</mi><mi id="S3.I1.i3.p1.1.m1.5.5.1.1.1.1.3" xref="S3.I1.i3.p1.1.m1.5.5.1.1.1.1.3.cmml">z</mi></msub><mo rspace="0.278em" stretchy="false" id="S3.I1.i3.p1.1.m1.5.5.1.1.1.5" xref="S3.I1.i3.p1.1.m1.5.5.1.1.2.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S3.I1.i3.p1.1.m1.5.5.2" xref="S3.I1.i3.p1.1.m1.5.5.2.cmml">:</mo><mrow id="S3.I1.i3.p1.1.m1.5.5.3" xref="S3.I1.i3.p1.1.m1.5.5.3.cmml"><mrow id="S3.I1.i3.p1.1.m1.5.5.3.2.2" xref="S3.I1.i3.p1.1.m1.5.5.3.2.1.cmml"><mi id="S3.I1.i3.p1.1.m1.3.3" xref="S3.I1.i3.p1.1.m1.3.3.cmml">v</mi><mo id="S3.I1.i3.p1.1.m1.5.5.3.2.2.1" xref="S3.I1.i3.p1.1.m1.5.5.3.2.1.cmml">,</mo><mi id="S3.I1.i3.p1.1.m1.4.4" xref="S3.I1.i3.p1.1.m1.4.4.cmml">q</mi></mrow><mo stretchy="false" id="S3.I1.i3.p1.1.m1.5.5.3.1" xref="S3.I1.i3.p1.1.m1.5.5.3.1.cmml">↦</mo><mi id="S3.I1.i3.p1.1.m1.5.5.3.3" xref="S3.I1.i3.p1.1.m1.5.5.3.3.cmml">z</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.1.m1.5b"><apply id="S3.I1.i3.p1.1.m1.5.5.cmml" xref="S3.I1.i3.p1.1.m1.5.5"><ci id="S3.I1.i3.p1.1.m1.5.5.2.cmml" xref="S3.I1.i3.p1.1.m1.5.5.2">:</ci><apply id="S3.I1.i3.p1.1.m1.5.5.1.cmml" xref="S3.I1.i3.p1.1.m1.5.5.1"><times id="S3.I1.i3.p1.1.m1.5.5.1.2.cmml" xref="S3.I1.i3.p1.1.m1.5.5.1.2"></times><apply id="S3.I1.i3.p1.1.m1.5.5.1.3.cmml" xref="S3.I1.i3.p1.1.m1.5.5.1.3"><csymbol cd="ambiguous" id="S3.I1.i3.p1.1.m1.5.5.1.3.1.cmml" xref="S3.I1.i3.p1.1.m1.5.5.1.3">subscript</csymbol><ci id="S3.I1.i3.p1.1.m1.5.5.1.3.2.cmml" xref="S3.I1.i3.p1.1.m1.5.5.1.3.2">𝑓</ci><ci id="S3.I1.i3.p1.1.m1.5.5.1.3.3.cmml" xref="S3.I1.i3.p1.1.m1.5.5.1.3.3">𝑧</ci></apply><vector id="S3.I1.i3.p1.1.m1.5.5.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.5.5.1.1.1"><ci id="S3.I1.i3.p1.1.m1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1">𝑣</ci><ci id="S3.I1.i3.p1.1.m1.2.2.cmml" xref="S3.I1.i3.p1.1.m1.2.2">𝑞</ci><apply id="S3.I1.i3.p1.1.m1.5.5.1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i3.p1.1.m1.5.5.1.1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.5.5.1.1.1.1">subscript</csymbol><ci id="S3.I1.i3.p1.1.m1.5.5.1.1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.5.5.1.1.1.1.2">𝜃</ci><ci id="S3.I1.i3.p1.1.m1.5.5.1.1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.5.5.1.1.1.1.3">𝑧</ci></apply></vector></apply><apply id="S3.I1.i3.p1.1.m1.5.5.3.cmml" xref="S3.I1.i3.p1.1.m1.5.5.3"><csymbol cd="latexml" id="S3.I1.i3.p1.1.m1.5.5.3.1.cmml" xref="S3.I1.i3.p1.1.m1.5.5.3.1">maps-to</csymbol><list id="S3.I1.i3.p1.1.m1.5.5.3.2.1.cmml" xref="S3.I1.i3.p1.1.m1.5.5.3.2.2"><ci id="S3.I1.i3.p1.1.m1.3.3.cmml" xref="S3.I1.i3.p1.1.m1.3.3">𝑣</ci><ci id="S3.I1.i3.p1.1.m1.4.4.cmml" xref="S3.I1.i3.p1.1.m1.4.4">𝑞</ci></list><ci id="S3.I1.i3.p1.1.m1.5.5.3.3.cmml" xref="S3.I1.i3.p1.1.m1.5.5.3.3">𝑧</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.1.m1.5c">f_{z}(v,q;\theta_{z}):v,q\mapsto z</annotation></semantics></math> Multimodal fusion</p>
</div>
</li>
<li id="S3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i4.p1" class="ltx_para">
<p id="S3.I1.i4.p1.1" class="ltx_p"><math id="S3.I1.i4.p1.1.m1.3" class="ltx_Math" alttext="g_{\text{VQA}}(z;\theta_{\text{VQA}}):z\mapsto P(a)" display="inline"><semantics id="S3.I1.i4.p1.1.m1.3a"><mrow id="S3.I1.i4.p1.1.m1.3.3" xref="S3.I1.i4.p1.1.m1.3.3.cmml"><mrow id="S3.I1.i4.p1.1.m1.3.3.1" xref="S3.I1.i4.p1.1.m1.3.3.1.cmml"><msub id="S3.I1.i4.p1.1.m1.3.3.1.3" xref="S3.I1.i4.p1.1.m1.3.3.1.3.cmml"><mi id="S3.I1.i4.p1.1.m1.3.3.1.3.2" xref="S3.I1.i4.p1.1.m1.3.3.1.3.2.cmml">g</mi><mtext id="S3.I1.i4.p1.1.m1.3.3.1.3.3" xref="S3.I1.i4.p1.1.m1.3.3.1.3.3a.cmml">VQA</mtext></msub><mo lspace="0em" rspace="0em" id="S3.I1.i4.p1.1.m1.3.3.1.2" xref="S3.I1.i4.p1.1.m1.3.3.1.2.cmml">​</mo><mrow id="S3.I1.i4.p1.1.m1.3.3.1.1.1" xref="S3.I1.i4.p1.1.m1.3.3.1.1.2.cmml"><mo stretchy="false" id="S3.I1.i4.p1.1.m1.3.3.1.1.1.2" xref="S3.I1.i4.p1.1.m1.3.3.1.1.2.cmml">(</mo><mi id="S3.I1.i4.p1.1.m1.1.1" xref="S3.I1.i4.p1.1.m1.1.1.cmml">z</mi><mo id="S3.I1.i4.p1.1.m1.3.3.1.1.1.3" xref="S3.I1.i4.p1.1.m1.3.3.1.1.2.cmml">;</mo><msub id="S3.I1.i4.p1.1.m1.3.3.1.1.1.1" xref="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.cmml"><mi id="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.2" xref="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.2.cmml">θ</mi><mtext id="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.3" xref="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.3a.cmml">VQA</mtext></msub><mo rspace="0.278em" stretchy="false" id="S3.I1.i4.p1.1.m1.3.3.1.1.1.4" xref="S3.I1.i4.p1.1.m1.3.3.1.1.2.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S3.I1.i4.p1.1.m1.3.3.2" xref="S3.I1.i4.p1.1.m1.3.3.2.cmml">:</mo><mrow id="S3.I1.i4.p1.1.m1.3.3.3" xref="S3.I1.i4.p1.1.m1.3.3.3.cmml"><mi id="S3.I1.i4.p1.1.m1.3.3.3.2" xref="S3.I1.i4.p1.1.m1.3.3.3.2.cmml">z</mi><mo stretchy="false" id="S3.I1.i4.p1.1.m1.3.3.3.1" xref="S3.I1.i4.p1.1.m1.3.3.3.1.cmml">↦</mo><mrow id="S3.I1.i4.p1.1.m1.3.3.3.3" xref="S3.I1.i4.p1.1.m1.3.3.3.3.cmml"><mi id="S3.I1.i4.p1.1.m1.3.3.3.3.2" xref="S3.I1.i4.p1.1.m1.3.3.3.3.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.I1.i4.p1.1.m1.3.3.3.3.1" xref="S3.I1.i4.p1.1.m1.3.3.3.3.1.cmml">​</mo><mrow id="S3.I1.i4.p1.1.m1.3.3.3.3.3.2" xref="S3.I1.i4.p1.1.m1.3.3.3.3.cmml"><mo stretchy="false" id="S3.I1.i4.p1.1.m1.3.3.3.3.3.2.1" xref="S3.I1.i4.p1.1.m1.3.3.3.3.cmml">(</mo><mi id="S3.I1.i4.p1.1.m1.2.2" xref="S3.I1.i4.p1.1.m1.2.2.cmml">a</mi><mo stretchy="false" id="S3.I1.i4.p1.1.m1.3.3.3.3.3.2.2" xref="S3.I1.i4.p1.1.m1.3.3.3.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i4.p1.1.m1.3b"><apply id="S3.I1.i4.p1.1.m1.3.3.cmml" xref="S3.I1.i4.p1.1.m1.3.3"><ci id="S3.I1.i4.p1.1.m1.3.3.2.cmml" xref="S3.I1.i4.p1.1.m1.3.3.2">:</ci><apply id="S3.I1.i4.p1.1.m1.3.3.1.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1"><times id="S3.I1.i4.p1.1.m1.3.3.1.2.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.2"></times><apply id="S3.I1.i4.p1.1.m1.3.3.1.3.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S3.I1.i4.p1.1.m1.3.3.1.3.1.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.3">subscript</csymbol><ci id="S3.I1.i4.p1.1.m1.3.3.1.3.2.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.3.2">𝑔</ci><ci id="S3.I1.i4.p1.1.m1.3.3.1.3.3a.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.3.3"><mtext mathsize="70%" id="S3.I1.i4.p1.1.m1.3.3.1.3.3.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.3.3">VQA</mtext></ci></apply><list id="S3.I1.i4.p1.1.m1.3.3.1.1.2.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.1.1"><ci id="S3.I1.i4.p1.1.m1.1.1.cmml" xref="S3.I1.i4.p1.1.m1.1.1">𝑧</ci><apply id="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.1.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.1.1.1">subscript</csymbol><ci id="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.2">𝜃</ci><ci id="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.3a.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.3"><mtext mathsize="70%" id="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.3.cmml" xref="S3.I1.i4.p1.1.m1.3.3.1.1.1.1.3">VQA</mtext></ci></apply></list></apply><apply id="S3.I1.i4.p1.1.m1.3.3.3.cmml" xref="S3.I1.i4.p1.1.m1.3.3.3"><csymbol cd="latexml" id="S3.I1.i4.p1.1.m1.3.3.3.1.cmml" xref="S3.I1.i4.p1.1.m1.3.3.3.1">maps-to</csymbol><ci id="S3.I1.i4.p1.1.m1.3.3.3.2.cmml" xref="S3.I1.i4.p1.1.m1.3.3.3.2">𝑧</ci><apply id="S3.I1.i4.p1.1.m1.3.3.3.3.cmml" xref="S3.I1.i4.p1.1.m1.3.3.3.3"><times id="S3.I1.i4.p1.1.m1.3.3.3.3.1.cmml" xref="S3.I1.i4.p1.1.m1.3.3.3.3.1"></times><ci id="S3.I1.i4.p1.1.m1.3.3.3.3.2.cmml" xref="S3.I1.i4.p1.1.m1.3.3.3.3.2">𝑃</ci><ci id="S3.I1.i4.p1.1.m1.2.2.cmml" xref="S3.I1.i4.p1.1.m1.2.2">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i4.p1.1.m1.3c">g_{\text{VQA}}(z;\theta_{\text{VQA}}):z\mapsto P(a)</annotation></semantics></math> Answer classifier</p>
</div>
</li>
</ul>
<p id="S3.SS1.p1.2" class="ltx_p">Composing these components, we obtain the following expression for the base VQA model. This model is trained to minimize cross entropy loss:<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Since the VQA evaluation metric includes ground truth answers from 10 different subjects, we follow the top-performing models in using a soft target, multi-label variant of the cross entropy objective (see <cite class="ltx_cite ltx_citemacro_citet">Teney et al. <a href="#bib.bib24" title="" class="ltx_ref">2018</a></cite>).</span></span></span></p>
<table id="A1.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E1.m1.3" class="ltx_Math" alttext="\displaystyle P(a|I,Q)" display="inline"><semantics id="S3.E1.m1.3a"><mrow id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml"><mi id="S3.E1.m1.3.3.3" xref="S3.E1.m1.3.3.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.3.3.2" xref="S3.E1.m1.3.3.2.cmml">​</mo><mrow id="S3.E1.m1.3.3.1.1" xref="S3.E1.m1.3.3.1.1.1.cmml"><mo stretchy="false" id="S3.E1.m1.3.3.1.1.2" xref="S3.E1.m1.3.3.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.3.3.1.1.1" xref="S3.E1.m1.3.3.1.1.1.cmml"><mi id="S3.E1.m1.3.3.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.2.cmml">a</mi><mo fence="false" id="S3.E1.m1.3.3.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.cmml">|</mo><mrow id="S3.E1.m1.3.3.1.1.1.3.2" xref="S3.E1.m1.3.3.1.1.1.3.1.cmml"><mi id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">I</mi><mo id="S3.E1.m1.3.3.1.1.1.3.2.1" xref="S3.E1.m1.3.3.1.1.1.3.1.cmml">,</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">Q</mi></mrow></mrow><mo stretchy="false" id="S3.E1.m1.3.3.1.1.3" xref="S3.E1.m1.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.3b"><apply id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3"><times id="S3.E1.m1.3.3.2.cmml" xref="S3.E1.m1.3.3.2"></times><ci id="S3.E1.m1.3.3.3.cmml" xref="S3.E1.m1.3.3.3">𝑃</ci><apply id="S3.E1.m1.3.3.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1"><csymbol cd="latexml" id="S3.E1.m1.3.3.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1">conditional</csymbol><ci id="S3.E1.m1.3.3.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.2">𝑎</ci><list id="S3.E1.m1.3.3.1.1.1.3.1.cmml" xref="S3.E1.m1.3.3.1.1.1.3.2"><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">𝐼</ci><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">𝑄</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.3c">\displaystyle P(a|I,Q)</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E1.m2.3" class="ltx_Math" alttext="\displaystyle=g_{\text{VQA}}(f_{z}(f_{v}(I),f_{q}(Q)))" display="inline"><semantics id="S3.E1.m2.3a"><mrow id="S3.E1.m2.3.3" xref="S3.E1.m2.3.3.cmml"><mi id="S3.E1.m2.3.3.3" xref="S3.E1.m2.3.3.3.cmml"></mi><mo id="S3.E1.m2.3.3.2" xref="S3.E1.m2.3.3.2.cmml">=</mo><mrow id="S3.E1.m2.3.3.1" xref="S3.E1.m2.3.3.1.cmml"><msub id="S3.E1.m2.3.3.1.3" xref="S3.E1.m2.3.3.1.3.cmml"><mi id="S3.E1.m2.3.3.1.3.2" xref="S3.E1.m2.3.3.1.3.2.cmml">g</mi><mtext id="S3.E1.m2.3.3.1.3.3" xref="S3.E1.m2.3.3.1.3.3a.cmml">VQA</mtext></msub><mo lspace="0em" rspace="0em" id="S3.E1.m2.3.3.1.2" xref="S3.E1.m2.3.3.1.2.cmml">​</mo><mrow id="S3.E1.m2.3.3.1.1.1" xref="S3.E1.m2.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S3.E1.m2.3.3.1.1.1.2" xref="S3.E1.m2.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m2.3.3.1.1.1.1" xref="S3.E1.m2.3.3.1.1.1.1.cmml"><msub id="S3.E1.m2.3.3.1.1.1.1.4" xref="S3.E1.m2.3.3.1.1.1.1.4.cmml"><mi id="S3.E1.m2.3.3.1.1.1.1.4.2" xref="S3.E1.m2.3.3.1.1.1.1.4.2.cmml">f</mi><mi id="S3.E1.m2.3.3.1.1.1.1.4.3" xref="S3.E1.m2.3.3.1.1.1.1.4.3.cmml">z</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m2.3.3.1.1.1.1.3" xref="S3.E1.m2.3.3.1.1.1.1.3.cmml">​</mo><mrow id="S3.E1.m2.3.3.1.1.1.1.2.2" xref="S3.E1.m2.3.3.1.1.1.1.2.3.cmml"><mo stretchy="false" id="S3.E1.m2.3.3.1.1.1.1.2.2.3" xref="S3.E1.m2.3.3.1.1.1.1.2.3.cmml">(</mo><mrow id="S3.E1.m2.3.3.1.1.1.1.1.1.1" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.cmml"><msub id="S3.E1.m2.3.3.1.1.1.1.1.1.1.2" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E1.m2.3.3.1.1.1.1.1.1.1.2.2" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.2.2.cmml">f</mi><mi id="S3.E1.m2.3.3.1.1.1.1.1.1.1.2.3" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.2.3.cmml">v</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m2.3.3.1.1.1.1.1.1.1.1" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S3.E1.m2.3.3.1.1.1.1.1.1.1.3.2" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E1.m2.3.3.1.1.1.1.1.1.1.3.2.1" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E1.m2.1.1" xref="S3.E1.m2.1.1.cmml">I</mi><mo stretchy="false" id="S3.E1.m2.3.3.1.1.1.1.1.1.1.3.2.2" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m2.3.3.1.1.1.1.2.2.4" xref="S3.E1.m2.3.3.1.1.1.1.2.3.cmml">,</mo><mrow id="S3.E1.m2.3.3.1.1.1.1.2.2.2" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.cmml"><msub id="S3.E1.m2.3.3.1.1.1.1.2.2.2.2" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E1.m2.3.3.1.1.1.1.2.2.2.2.2" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.2.2.cmml">f</mi><mi id="S3.E1.m2.3.3.1.1.1.1.2.2.2.2.3" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m2.3.3.1.1.1.1.2.2.2.1" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.1.cmml">​</mo><mrow id="S3.E1.m2.3.3.1.1.1.1.2.2.2.3.2" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.cmml"><mo stretchy="false" id="S3.E1.m2.3.3.1.1.1.1.2.2.2.3.2.1" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.cmml">(</mo><mi id="S3.E1.m2.2.2" xref="S3.E1.m2.2.2.cmml">Q</mi><mo stretchy="false" id="S3.E1.m2.3.3.1.1.1.1.2.2.2.3.2.2" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E1.m2.3.3.1.1.1.1.2.2.5" xref="S3.E1.m2.3.3.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E1.m2.3.3.1.1.1.3" xref="S3.E1.m2.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m2.3b"><apply id="S3.E1.m2.3.3.cmml" xref="S3.E1.m2.3.3"><eq id="S3.E1.m2.3.3.2.cmml" xref="S3.E1.m2.3.3.2"></eq><csymbol cd="latexml" id="S3.E1.m2.3.3.3.cmml" xref="S3.E1.m2.3.3.3">absent</csymbol><apply id="S3.E1.m2.3.3.1.cmml" xref="S3.E1.m2.3.3.1"><times id="S3.E1.m2.3.3.1.2.cmml" xref="S3.E1.m2.3.3.1.2"></times><apply id="S3.E1.m2.3.3.1.3.cmml" xref="S3.E1.m2.3.3.1.3"><csymbol cd="ambiguous" id="S3.E1.m2.3.3.1.3.1.cmml" xref="S3.E1.m2.3.3.1.3">subscript</csymbol><ci id="S3.E1.m2.3.3.1.3.2.cmml" xref="S3.E1.m2.3.3.1.3.2">𝑔</ci><ci id="S3.E1.m2.3.3.1.3.3a.cmml" xref="S3.E1.m2.3.3.1.3.3"><mtext mathsize="70%" id="S3.E1.m2.3.3.1.3.3.cmml" xref="S3.E1.m2.3.3.1.3.3">VQA</mtext></ci></apply><apply id="S3.E1.m2.3.3.1.1.1.1.cmml" xref="S3.E1.m2.3.3.1.1.1"><times id="S3.E1.m2.3.3.1.1.1.1.3.cmml" xref="S3.E1.m2.3.3.1.1.1.1.3"></times><apply id="S3.E1.m2.3.3.1.1.1.1.4.cmml" xref="S3.E1.m2.3.3.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E1.m2.3.3.1.1.1.1.4.1.cmml" xref="S3.E1.m2.3.3.1.1.1.1.4">subscript</csymbol><ci id="S3.E1.m2.3.3.1.1.1.1.4.2.cmml" xref="S3.E1.m2.3.3.1.1.1.1.4.2">𝑓</ci><ci id="S3.E1.m2.3.3.1.1.1.1.4.3.cmml" xref="S3.E1.m2.3.3.1.1.1.1.4.3">𝑧</ci></apply><interval closure="open" id="S3.E1.m2.3.3.1.1.1.1.2.3.cmml" xref="S3.E1.m2.3.3.1.1.1.1.2.2"><apply id="S3.E1.m2.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1"><times id="S3.E1.m2.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.1"></times><apply id="S3.E1.m2.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m2.3.3.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E1.m2.3.3.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.2.2">𝑓</ci><ci id="S3.E1.m2.3.3.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E1.m2.3.3.1.1.1.1.1.1.1.2.3">𝑣</ci></apply><ci id="S3.E1.m2.1.1.cmml" xref="S3.E1.m2.1.1">𝐼</ci></apply><apply id="S3.E1.m2.3.3.1.1.1.1.2.2.2.cmml" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2"><times id="S3.E1.m2.3.3.1.1.1.1.2.2.2.1.cmml" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.1"></times><apply id="S3.E1.m2.3.3.1.1.1.1.2.2.2.2.cmml" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m2.3.3.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E1.m2.3.3.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.2.2">𝑓</ci><ci id="S3.E1.m2.3.3.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E1.m2.3.3.1.1.1.1.2.2.2.2.3">𝑞</ci></apply><ci id="S3.E1.m2.2.2.cmml" xref="S3.E1.m2.2.2">𝑄</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m2.3c">\displaystyle=g_{\text{VQA}}(f_{z}(f_{v}(I),f_{q}(Q)))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E2.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{\text{VQA}}" display="inline"><semantics id="S3.E2.m1.1a"><msub id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.1.1.2" xref="S3.E2.m1.1.1.2.cmml">ℒ</mi><mtext id="S3.E2.m1.1.1.3" xref="S3.E2.m1.1.1.3a.cmml">VQA</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.E2.m1.1b"><apply id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.cmml" xref="S3.E2.m1.1.1">subscript</csymbol><ci id="S3.E2.m1.1.1.2.cmml" xref="S3.E2.m1.1.1.2">ℒ</ci><ci id="S3.E2.m1.1.1.3a.cmml" xref="S3.E2.m1.1.1.3"><mtext mathsize="70%" id="S3.E2.m1.1.1.3.cmml" xref="S3.E2.m1.1.1.3">VQA</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.1c">\displaystyle\mathcal{L}_{\text{VQA}}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E2.m2.3" class="ltx_Math" alttext="\displaystyle=-\sum_{i}a_{i}\log P(a_{i}|I,Q)" display="inline"><semantics id="S3.E2.m2.3a"><mrow id="S3.E2.m2.3.3" xref="S3.E2.m2.3.3.cmml"><mi id="S3.E2.m2.3.3.3" xref="S3.E2.m2.3.3.3.cmml"></mi><mo id="S3.E2.m2.3.3.2" xref="S3.E2.m2.3.3.2.cmml">=</mo><mrow id="S3.E2.m2.3.3.1" xref="S3.E2.m2.3.3.1.cmml"><mo id="S3.E2.m2.3.3.1a" xref="S3.E2.m2.3.3.1.cmml">−</mo><mrow id="S3.E2.m2.3.3.1.1" xref="S3.E2.m2.3.3.1.1.cmml"><mstyle displaystyle="true" id="S3.E2.m2.3.3.1.1.2" xref="S3.E2.m2.3.3.1.1.2.cmml"><munder id="S3.E2.m2.3.3.1.1.2a" xref="S3.E2.m2.3.3.1.1.2.cmml"><mo movablelimits="false" id="S3.E2.m2.3.3.1.1.2.2" xref="S3.E2.m2.3.3.1.1.2.2.cmml">∑</mo><mi id="S3.E2.m2.3.3.1.1.2.3" xref="S3.E2.m2.3.3.1.1.2.3.cmml">i</mi></munder></mstyle><mrow id="S3.E2.m2.3.3.1.1.1" xref="S3.E2.m2.3.3.1.1.1.cmml"><msub id="S3.E2.m2.3.3.1.1.1.3" xref="S3.E2.m2.3.3.1.1.1.3.cmml"><mi id="S3.E2.m2.3.3.1.1.1.3.2" xref="S3.E2.m2.3.3.1.1.1.3.2.cmml">a</mi><mi id="S3.E2.m2.3.3.1.1.1.3.3" xref="S3.E2.m2.3.3.1.1.1.3.3.cmml">i</mi></msub><mo lspace="0.167em" rspace="0em" id="S3.E2.m2.3.3.1.1.1.2" xref="S3.E2.m2.3.3.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m2.3.3.1.1.1.4" xref="S3.E2.m2.3.3.1.1.1.4.cmml"><mi id="S3.E2.m2.3.3.1.1.1.4.1" xref="S3.E2.m2.3.3.1.1.1.4.1.cmml">log</mi><mo lspace="0.167em" id="S3.E2.m2.3.3.1.1.1.4a" xref="S3.E2.m2.3.3.1.1.1.4.cmml">⁡</mo><mi id="S3.E2.m2.3.3.1.1.1.4.2" xref="S3.E2.m2.3.3.1.1.1.4.2.cmml">P</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E2.m2.3.3.1.1.1.2a" xref="S3.E2.m2.3.3.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m2.3.3.1.1.1.1.1" xref="S3.E2.m2.3.3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m2.3.3.1.1.1.1.1.2" xref="S3.E2.m2.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m2.3.3.1.1.1.1.1.1" xref="S3.E2.m2.3.3.1.1.1.1.1.1.cmml"><msub id="S3.E2.m2.3.3.1.1.1.1.1.1.2" xref="S3.E2.m2.3.3.1.1.1.1.1.1.2.cmml"><mi id="S3.E2.m2.3.3.1.1.1.1.1.1.2.2" xref="S3.E2.m2.3.3.1.1.1.1.1.1.2.2.cmml">a</mi><mi id="S3.E2.m2.3.3.1.1.1.1.1.1.2.3" xref="S3.E2.m2.3.3.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S3.E2.m2.3.3.1.1.1.1.1.1.1" xref="S3.E2.m2.3.3.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S3.E2.m2.3.3.1.1.1.1.1.1.3.2" xref="S3.E2.m2.3.3.1.1.1.1.1.1.3.1.cmml"><mi id="S3.E2.m2.1.1" xref="S3.E2.m2.1.1.cmml">I</mi><mo id="S3.E2.m2.3.3.1.1.1.1.1.1.3.2.1" xref="S3.E2.m2.3.3.1.1.1.1.1.1.3.1.cmml">,</mo><mi id="S3.E2.m2.2.2" xref="S3.E2.m2.2.2.cmml">Q</mi></mrow></mrow><mo stretchy="false" id="S3.E2.m2.3.3.1.1.1.1.1.3" xref="S3.E2.m2.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m2.3b"><apply id="S3.E2.m2.3.3.cmml" xref="S3.E2.m2.3.3"><eq id="S3.E2.m2.3.3.2.cmml" xref="S3.E2.m2.3.3.2"></eq><csymbol cd="latexml" id="S3.E2.m2.3.3.3.cmml" xref="S3.E2.m2.3.3.3">absent</csymbol><apply id="S3.E2.m2.3.3.1.cmml" xref="S3.E2.m2.3.3.1"><minus id="S3.E2.m2.3.3.1.2.cmml" xref="S3.E2.m2.3.3.1"></minus><apply id="S3.E2.m2.3.3.1.1.cmml" xref="S3.E2.m2.3.3.1.1"><apply id="S3.E2.m2.3.3.1.1.2.cmml" xref="S3.E2.m2.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m2.3.3.1.1.2.1.cmml" xref="S3.E2.m2.3.3.1.1.2">subscript</csymbol><sum id="S3.E2.m2.3.3.1.1.2.2.cmml" xref="S3.E2.m2.3.3.1.1.2.2"></sum><ci id="S3.E2.m2.3.3.1.1.2.3.cmml" xref="S3.E2.m2.3.3.1.1.2.3">𝑖</ci></apply><apply id="S3.E2.m2.3.3.1.1.1.cmml" xref="S3.E2.m2.3.3.1.1.1"><times id="S3.E2.m2.3.3.1.1.1.2.cmml" xref="S3.E2.m2.3.3.1.1.1.2"></times><apply id="S3.E2.m2.3.3.1.1.1.3.cmml" xref="S3.E2.m2.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m2.3.3.1.1.1.3.1.cmml" xref="S3.E2.m2.3.3.1.1.1.3">subscript</csymbol><ci id="S3.E2.m2.3.3.1.1.1.3.2.cmml" xref="S3.E2.m2.3.3.1.1.1.3.2">𝑎</ci><ci id="S3.E2.m2.3.3.1.1.1.3.3.cmml" xref="S3.E2.m2.3.3.1.1.1.3.3">𝑖</ci></apply><apply id="S3.E2.m2.3.3.1.1.1.4.cmml" xref="S3.E2.m2.3.3.1.1.1.4"><log id="S3.E2.m2.3.3.1.1.1.4.1.cmml" xref="S3.E2.m2.3.3.1.1.1.4.1"></log><ci id="S3.E2.m2.3.3.1.1.1.4.2.cmml" xref="S3.E2.m2.3.3.1.1.1.4.2">𝑃</ci></apply><apply id="S3.E2.m2.3.3.1.1.1.1.1.1.cmml" xref="S3.E2.m2.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m2.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E2.m2.3.3.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E2.m2.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E2.m2.3.3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m2.3.3.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m2.3.3.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E2.m2.3.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m2.3.3.1.1.1.1.1.1.2.2">𝑎</ci><ci id="S3.E2.m2.3.3.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m2.3.3.1.1.1.1.1.1.2.3">𝑖</ci></apply><list id="S3.E2.m2.3.3.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m2.3.3.1.1.1.1.1.1.3.2"><ci id="S3.E2.m2.1.1.cmml" xref="S3.E2.m2.1.1">𝐼</ci><ci id="S3.E2.m2.2.2.cmml" xref="S3.E2.m2.2.2">𝑄</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m2.3c">\displaystyle=-\sum_{i}a_{i}\log P(a_{i}|I,Q)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.5" class="ltx_p">In <span id="S3.SS1.p2.5.1" class="ltx_text">AdvReg</span>, we introduce an adversarial classifier <math id="S3.SS1.p2.1.m1.2" class="ltx_Math" alttext="g_{\text{ADV}}(q;\theta_{\text{ADV}})" display="inline"><semantics id="S3.SS1.p2.1.m1.2a"><mrow id="S3.SS1.p2.1.m1.2.2" xref="S3.SS1.p2.1.m1.2.2.cmml"><msub id="S3.SS1.p2.1.m1.2.2.3" xref="S3.SS1.p2.1.m1.2.2.3.cmml"><mi id="S3.SS1.p2.1.m1.2.2.3.2" xref="S3.SS1.p2.1.m1.2.2.3.2.cmml">g</mi><mtext id="S3.SS1.p2.1.m1.2.2.3.3" xref="S3.SS1.p2.1.m1.2.2.3.3a.cmml">ADV</mtext></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.1.m1.2.2.2" xref="S3.SS1.p2.1.m1.2.2.2.cmml">​</mo><mrow id="S3.SS1.p2.1.m1.2.2.1.1" xref="S3.SS1.p2.1.m1.2.2.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.1.m1.2.2.1.1.2" xref="S3.SS1.p2.1.m1.2.2.1.2.cmml">(</mo><mi id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">q</mi><mo id="S3.SS1.p2.1.m1.2.2.1.1.3" xref="S3.SS1.p2.1.m1.2.2.1.2.cmml">;</mo><msub id="S3.SS1.p2.1.m1.2.2.1.1.1" xref="S3.SS1.p2.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.2.2.1.1.1.2" xref="S3.SS1.p2.1.m1.2.2.1.1.1.2.cmml">θ</mi><mtext id="S3.SS1.p2.1.m1.2.2.1.1.1.3" xref="S3.SS1.p2.1.m1.2.2.1.1.1.3a.cmml">ADV</mtext></msub><mo stretchy="false" id="S3.SS1.p2.1.m1.2.2.1.1.4" xref="S3.SS1.p2.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.2b"><apply id="S3.SS1.p2.1.m1.2.2.cmml" xref="S3.SS1.p2.1.m1.2.2"><times id="S3.SS1.p2.1.m1.2.2.2.cmml" xref="S3.SS1.p2.1.m1.2.2.2"></times><apply id="S3.SS1.p2.1.m1.2.2.3.cmml" xref="S3.SS1.p2.1.m1.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.2.2.3.1.cmml" xref="S3.SS1.p2.1.m1.2.2.3">subscript</csymbol><ci id="S3.SS1.p2.1.m1.2.2.3.2.cmml" xref="S3.SS1.p2.1.m1.2.2.3.2">𝑔</ci><ci id="S3.SS1.p2.1.m1.2.2.3.3a.cmml" xref="S3.SS1.p2.1.m1.2.2.3.3"><mtext mathsize="70%" id="S3.SS1.p2.1.m1.2.2.3.3.cmml" xref="S3.SS1.p2.1.m1.2.2.3.3">ADV</mtext></ci></apply><list id="S3.SS1.p2.1.m1.2.2.1.2.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝑞</ci><apply id="S3.SS1.p2.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1.1.2">𝜃</ci><ci id="S3.SS1.p2.1.m1.2.2.1.1.1.3a.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1.1.3"><mtext mathsize="70%" id="S3.SS1.p2.1.m1.2.2.1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1.1.3">ADV</mtext></ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.2c">g_{\text{ADV}}(q;\theta_{\text{ADV}})</annotation></semantics></math>, which attempts to infer the correct answer from only the question features. <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="g_{\text{ADV}}" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><msub id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">g</mi><mtext id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3a.cmml">ADV</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">𝑔</ci><ci id="S3.SS1.p2.2.m2.1.1.3a.cmml" xref="S3.SS1.p2.2.m2.1.1.3"><mtext mathsize="70%" id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3">ADV</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">g_{\text{ADV}}</annotation></semantics></math> shares the same question feature extractor <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="f_{q}" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><msub id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><mi id="S3.SS1.p2.3.m3.1.1.2" xref="S3.SS1.p2.3.m3.1.1.2.cmml">f</mi><mi id="S3.SS1.p2.3.m3.1.1.3" xref="S3.SS1.p2.3.m3.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2">𝑓</ci><ci id="S3.SS1.p2.3.m3.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">f_{q}</annotation></semantics></math> as the base VQA model. However, <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="f_{q}" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><msub id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><mi id="S3.SS1.p2.4.m4.1.1.2" xref="S3.SS1.p2.4.m4.1.1.2.cmml">f</mi><mi id="S3.SS1.p2.4.m4.1.1.3" xref="S3.SS1.p2.4.m4.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2">𝑓</ci><ci id="S3.SS1.p2.4.m4.1.1.3.cmml" xref="S3.SS1.p2.4.m4.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">f_{q}</annotation></semantics></math> and <math id="S3.SS1.p2.5.m5.1" class="ltx_Math" alttext="g_{\text{ADV}}" display="inline"><semantics id="S3.SS1.p2.5.m5.1a"><msub id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml"><mi id="S3.SS1.p2.5.m5.1.1.2" xref="S3.SS1.p2.5.m5.1.1.2.cmml">g</mi><mtext id="S3.SS1.p2.5.m5.1.1.3" xref="S3.SS1.p2.5.m5.1.1.3a.cmml">ADV</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2">𝑔</ci><ci id="S3.SS1.p2.5.m5.1.1.3a.cmml" xref="S3.SS1.p2.5.m5.1.1.3"><mtext mathsize="70%" id="S3.SS1.p2.5.m5.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3">ADV</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">g_{\text{ADV}}</annotation></semantics></math> are separated by a gradient reversal layer (GRL). The GRL is a pseudo-function that negates gradients on the backward pass; otherwise, it leaves inputs unchanged:</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.3" class="ltx_Math" alttext="\text{GRL}_{\lambda}(x)=x\hskip 20.00003pt\frac{\partial\text{GRL}_{\lambda}}{\partial x}=-\lambda_{\text{GRL}}" display="block"><semantics id="S3.E3.m1.3a"><mrow id="S3.E3.m1.3.3.2" xref="S3.E3.m1.3.3.3.cmml"><mrow id="S3.E3.m1.2.2.1.1" xref="S3.E3.m1.2.2.1.1.cmml"><mrow id="S3.E3.m1.2.2.1.1.2" xref="S3.E3.m1.2.2.1.1.2.cmml"><msub id="S3.E3.m1.2.2.1.1.2.2" xref="S3.E3.m1.2.2.1.1.2.2.cmml"><mtext id="S3.E3.m1.2.2.1.1.2.2.2" xref="S3.E3.m1.2.2.1.1.2.2.2a.cmml">GRL</mtext><mi id="S3.E3.m1.2.2.1.1.2.2.3" xref="S3.E3.m1.2.2.1.1.2.2.3.cmml">λ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.2.2.1.1.2.1" xref="S3.E3.m1.2.2.1.1.2.1.cmml">​</mo><mrow id="S3.E3.m1.2.2.1.1.2.3.2" xref="S3.E3.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.2.2.1.1.2.3.2.1" xref="S3.E3.m1.2.2.1.1.2.cmml">(</mo><mi id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml">x</mi><mo stretchy="false" id="S3.E3.m1.2.2.1.1.2.3.2.2" xref="S3.E3.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.2.2.1.1.1" xref="S3.E3.m1.2.2.1.1.1.cmml">=</mo><mi id="S3.E3.m1.2.2.1.1.3" xref="S3.E3.m1.2.2.1.1.3.cmml">x</mi></mrow><mspace width="2em" id="S3.E3.m1.3.3.2.3" xref="S3.E3.m1.3.3.3a.cmml"></mspace><mrow id="S3.E3.m1.3.3.2.2" xref="S3.E3.m1.3.3.2.2.cmml"><mfrac id="S3.E3.m1.3.3.2.2.2" xref="S3.E3.m1.3.3.2.2.2.cmml"><mrow id="S3.E3.m1.3.3.2.2.2.2" xref="S3.E3.m1.3.3.2.2.2.2.cmml"><mo rspace="0em" id="S3.E3.m1.3.3.2.2.2.2.1" xref="S3.E3.m1.3.3.2.2.2.2.1.cmml">∂</mo><msub id="S3.E3.m1.3.3.2.2.2.2.2" xref="S3.E3.m1.3.3.2.2.2.2.2.cmml"><mtext id="S3.E3.m1.3.3.2.2.2.2.2.2" xref="S3.E3.m1.3.3.2.2.2.2.2.2a.cmml">GRL</mtext><mi id="S3.E3.m1.3.3.2.2.2.2.2.3" xref="S3.E3.m1.3.3.2.2.2.2.2.3.cmml">λ</mi></msub></mrow><mrow id="S3.E3.m1.3.3.2.2.2.3" xref="S3.E3.m1.3.3.2.2.2.3.cmml"><mo rspace="0em" id="S3.E3.m1.3.3.2.2.2.3.1" xref="S3.E3.m1.3.3.2.2.2.3.1.cmml">∂</mo><mi id="S3.E3.m1.3.3.2.2.2.3.2" xref="S3.E3.m1.3.3.2.2.2.3.2.cmml">x</mi></mrow></mfrac><mo id="S3.E3.m1.3.3.2.2.1" xref="S3.E3.m1.3.3.2.2.1.cmml">=</mo><mrow id="S3.E3.m1.3.3.2.2.3" xref="S3.E3.m1.3.3.2.2.3.cmml"><mo id="S3.E3.m1.3.3.2.2.3a" xref="S3.E3.m1.3.3.2.2.3.cmml">−</mo><msub id="S3.E3.m1.3.3.2.2.3.2" xref="S3.E3.m1.3.3.2.2.3.2.cmml"><mi id="S3.E3.m1.3.3.2.2.3.2.2" xref="S3.E3.m1.3.3.2.2.3.2.2.cmml">λ</mi><mtext id="S3.E3.m1.3.3.2.2.3.2.3" xref="S3.E3.m1.3.3.2.2.3.2.3a.cmml">GRL</mtext></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.3b"><apply id="S3.E3.m1.3.3.3.cmml" xref="S3.E3.m1.3.3.2"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3a.cmml" xref="S3.E3.m1.3.3.2.3">formulae-sequence</csymbol><apply id="S3.E3.m1.2.2.1.1.cmml" xref="S3.E3.m1.2.2.1.1"><eq id="S3.E3.m1.2.2.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1"></eq><apply id="S3.E3.m1.2.2.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.2"><times id="S3.E3.m1.2.2.1.1.2.1.cmml" xref="S3.E3.m1.2.2.1.1.2.1"></times><apply id="S3.E3.m1.2.2.1.1.2.2.cmml" xref="S3.E3.m1.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.2.2.1.cmml" xref="S3.E3.m1.2.2.1.1.2.2">subscript</csymbol><ci id="S3.E3.m1.2.2.1.1.2.2.2a.cmml" xref="S3.E3.m1.2.2.1.1.2.2.2"><mtext id="S3.E3.m1.2.2.1.1.2.2.2.cmml" xref="S3.E3.m1.2.2.1.1.2.2.2">GRL</mtext></ci><ci id="S3.E3.m1.2.2.1.1.2.2.3.cmml" xref="S3.E3.m1.2.2.1.1.2.2.3">𝜆</ci></apply><ci id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1">𝑥</ci></apply><ci id="S3.E3.m1.2.2.1.1.3.cmml" xref="S3.E3.m1.2.2.1.1.3">𝑥</ci></apply><apply id="S3.E3.m1.3.3.2.2.cmml" xref="S3.E3.m1.3.3.2.2"><eq id="S3.E3.m1.3.3.2.2.1.cmml" xref="S3.E3.m1.3.3.2.2.1"></eq><apply id="S3.E3.m1.3.3.2.2.2.cmml" xref="S3.E3.m1.3.3.2.2.2"><divide id="S3.E3.m1.3.3.2.2.2.1.cmml" xref="S3.E3.m1.3.3.2.2.2"></divide><apply id="S3.E3.m1.3.3.2.2.2.2.cmml" xref="S3.E3.m1.3.3.2.2.2.2"><partialdiff id="S3.E3.m1.3.3.2.2.2.2.1.cmml" xref="S3.E3.m1.3.3.2.2.2.2.1"></partialdiff><apply id="S3.E3.m1.3.3.2.2.2.2.2.cmml" xref="S3.E3.m1.3.3.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.2.2.2.2.2.1.cmml" xref="S3.E3.m1.3.3.2.2.2.2.2">subscript</csymbol><ci id="S3.E3.m1.3.3.2.2.2.2.2.2a.cmml" xref="S3.E3.m1.3.3.2.2.2.2.2.2"><mtext id="S3.E3.m1.3.3.2.2.2.2.2.2.cmml" xref="S3.E3.m1.3.3.2.2.2.2.2.2">GRL</mtext></ci><ci id="S3.E3.m1.3.3.2.2.2.2.2.3.cmml" xref="S3.E3.m1.3.3.2.2.2.2.2.3">𝜆</ci></apply></apply><apply id="S3.E3.m1.3.3.2.2.2.3.cmml" xref="S3.E3.m1.3.3.2.2.2.3"><partialdiff id="S3.E3.m1.3.3.2.2.2.3.1.cmml" xref="S3.E3.m1.3.3.2.2.2.3.1"></partialdiff><ci id="S3.E3.m1.3.3.2.2.2.3.2.cmml" xref="S3.E3.m1.3.3.2.2.2.3.2">𝑥</ci></apply></apply><apply id="S3.E3.m1.3.3.2.2.3.cmml" xref="S3.E3.m1.3.3.2.2.3"><minus id="S3.E3.m1.3.3.2.2.3.1.cmml" xref="S3.E3.m1.3.3.2.2.3"></minus><apply id="S3.E3.m1.3.3.2.2.3.2.cmml" xref="S3.E3.m1.3.3.2.2.3.2"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.2.2.3.2.1.cmml" xref="S3.E3.m1.3.3.2.2.3.2">subscript</csymbol><ci id="S3.E3.m1.3.3.2.2.3.2.2.cmml" xref="S3.E3.m1.3.3.2.2.3.2.2">𝜆</ci><ci id="S3.E3.m1.3.3.2.2.3.2.3a.cmml" xref="S3.E3.m1.3.3.2.2.3.2.3"><mtext mathsize="70%" id="S3.E3.m1.3.3.2.2.3.2.3.cmml" xref="S3.E3.m1.3.3.2.2.3.2.3">GRL</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.3c">\text{GRL}_{\lambda}(x)=x\hskip 20.00003pt\frac{\partial\text{GRL}_{\lambda}}{\partial x}=-\lambda_{\text{GRL}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.7" class="ltx_p">where <math id="S3.SS1.p2.6.m1.1" class="ltx_Math" alttext="\lambda_{\text{GRL}}" display="inline"><semantics id="S3.SS1.p2.6.m1.1a"><msub id="S3.SS1.p2.6.m1.1.1" xref="S3.SS1.p2.6.m1.1.1.cmml"><mi id="S3.SS1.p2.6.m1.1.1.2" xref="S3.SS1.p2.6.m1.1.1.2.cmml">λ</mi><mtext id="S3.SS1.p2.6.m1.1.1.3" xref="S3.SS1.p2.6.m1.1.1.3a.cmml">GRL</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m1.1b"><apply id="S3.SS1.p2.6.m1.1.1.cmml" xref="S3.SS1.p2.6.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m1.1.1.1.cmml" xref="S3.SS1.p2.6.m1.1.1">subscript</csymbol><ci id="S3.SS1.p2.6.m1.1.1.2.cmml" xref="S3.SS1.p2.6.m1.1.1.2">𝜆</ci><ci id="S3.SS1.p2.6.m1.1.1.3a.cmml" xref="S3.SS1.p2.6.m1.1.1.3"><mtext mathsize="70%" id="S3.SS1.p2.6.m1.1.1.3.cmml" xref="S3.SS1.p2.6.m1.1.1.3">GRL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m1.1c">\lambda_{\text{GRL}}</annotation></semantics></math> is a hyperparameter. As above, the adversary is trained to minimize the cross entropy loss <math id="S3.SS1.p2.7.m2.1" class="ltx_Math" alttext="\mathcal{L_{\text{ADV}}}" display="inline"><semantics id="S3.SS1.p2.7.m2.1a"><msub id="S3.SS1.p2.7.m2.1.1" xref="S3.SS1.p2.7.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.7.m2.1.1.2" xref="S3.SS1.p2.7.m2.1.1.2.cmml">ℒ</mi><mtext id="S3.SS1.p2.7.m2.1.1.3" xref="S3.SS1.p2.7.m2.1.1.3a.cmml">ADV</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m2.1b"><apply id="S3.SS1.p2.7.m2.1.1.cmml" xref="S3.SS1.p2.7.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m2.1.1.1.cmml" xref="S3.SS1.p2.7.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.7.m2.1.1.2.cmml" xref="S3.SS1.p2.7.m2.1.1.2">ℒ</ci><ci id="S3.SS1.p2.7.m2.1.1.3a.cmml" xref="S3.SS1.p2.7.m2.1.1.3"><mtext mathsize="70%" id="S3.SS1.p2.7.m2.1.1.3.cmml" xref="S3.SS1.p2.7.m2.1.1.3">ADV</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m2.1c">\mathcal{L_{\text{ADV}}}</annotation></semantics></math>:</p>
<table id="A1.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E4.m1.1" class="ltx_Math" alttext="\displaystyle P(a|Q)" display="inline"><semantics id="S3.E4.m1.1a"><mrow id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml"><mi id="S3.E4.m1.1.1.3" xref="S3.E4.m1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.2" xref="S3.E4.m1.1.1.2.cmml">​</mo><mrow id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.2.cmml">a</mi><mo fence="false" id="S3.E4.m1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.cmml">|</mo><mi id="S3.E4.m1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.3.cmml">Q</mi></mrow><mo stretchy="false" id="S3.E4.m1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.1b"><apply id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1"><times id="S3.E4.m1.1.1.2.cmml" xref="S3.E4.m1.1.1.2"></times><ci id="S3.E4.m1.1.1.3.cmml" xref="S3.E4.m1.1.1.3">𝑃</ci><apply id="S3.E4.m1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1"><csymbol cd="latexml" id="S3.E4.m1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E4.m1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.2">𝑎</ci><ci id="S3.E4.m1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.3">𝑄</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.1c">\displaystyle P(a|Q)</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E4.m2.2" class="ltx_Math" alttext="\displaystyle=g_{\text{ADV}}({\text{GRL}}_{\lambda}(f_{q}(Q)))" display="inline"><semantics id="S3.E4.m2.2a"><mrow id="S3.E4.m2.2.2" xref="S3.E4.m2.2.2.cmml"><mi id="S3.E4.m2.2.2.3" xref="S3.E4.m2.2.2.3.cmml"></mi><mo id="S3.E4.m2.2.2.2" xref="S3.E4.m2.2.2.2.cmml">=</mo><mrow id="S3.E4.m2.2.2.1" xref="S3.E4.m2.2.2.1.cmml"><msub id="S3.E4.m2.2.2.1.3" xref="S3.E4.m2.2.2.1.3.cmml"><mi id="S3.E4.m2.2.2.1.3.2" xref="S3.E4.m2.2.2.1.3.2.cmml">g</mi><mtext id="S3.E4.m2.2.2.1.3.3" xref="S3.E4.m2.2.2.1.3.3a.cmml">ADV</mtext></msub><mo lspace="0em" rspace="0em" id="S3.E4.m2.2.2.1.2" xref="S3.E4.m2.2.2.1.2.cmml">​</mo><mrow id="S3.E4.m2.2.2.1.1.1" xref="S3.E4.m2.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m2.2.2.1.1.1.2" xref="S3.E4.m2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m2.2.2.1.1.1.1" xref="S3.E4.m2.2.2.1.1.1.1.cmml"><msub id="S3.E4.m2.2.2.1.1.1.1.3" xref="S3.E4.m2.2.2.1.1.1.1.3.cmml"><mtext id="S3.E4.m2.2.2.1.1.1.1.3.2" xref="S3.E4.m2.2.2.1.1.1.1.3.2a.cmml">GRL</mtext><mi id="S3.E4.m2.2.2.1.1.1.1.3.3" xref="S3.E4.m2.2.2.1.1.1.1.3.3.cmml">λ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m2.2.2.1.1.1.1.2" xref="S3.E4.m2.2.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m2.2.2.1.1.1.1.1.1" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m2.2.2.1.1.1.1.1.1.2" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m2.2.2.1.1.1.1.1.1.1" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.cmml"><msub id="S3.E4.m2.2.2.1.1.1.1.1.1.1.2" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E4.m2.2.2.1.1.1.1.1.1.1.2.2" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.2.2.cmml">f</mi><mi id="S3.E4.m2.2.2.1.1.1.1.1.1.1.2.3" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m2.2.2.1.1.1.1.1.1.1.1" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S3.E4.m2.2.2.1.1.1.1.1.1.1.3.2" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m2.2.2.1.1.1.1.1.1.1.3.2.1" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E4.m2.1.1" xref="S3.E4.m2.1.1.cmml">Q</mi><mo stretchy="false" id="S3.E4.m2.2.2.1.1.1.1.1.1.1.3.2.2" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E4.m2.2.2.1.1.1.1.1.1.3" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E4.m2.2.2.1.1.1.3" xref="S3.E4.m2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m2.2b"><apply id="S3.E4.m2.2.2.cmml" xref="S3.E4.m2.2.2"><eq id="S3.E4.m2.2.2.2.cmml" xref="S3.E4.m2.2.2.2"></eq><csymbol cd="latexml" id="S3.E4.m2.2.2.3.cmml" xref="S3.E4.m2.2.2.3">absent</csymbol><apply id="S3.E4.m2.2.2.1.cmml" xref="S3.E4.m2.2.2.1"><times id="S3.E4.m2.2.2.1.2.cmml" xref="S3.E4.m2.2.2.1.2"></times><apply id="S3.E4.m2.2.2.1.3.cmml" xref="S3.E4.m2.2.2.1.3"><csymbol cd="ambiguous" id="S3.E4.m2.2.2.1.3.1.cmml" xref="S3.E4.m2.2.2.1.3">subscript</csymbol><ci id="S3.E4.m2.2.2.1.3.2.cmml" xref="S3.E4.m2.2.2.1.3.2">𝑔</ci><ci id="S3.E4.m2.2.2.1.3.3a.cmml" xref="S3.E4.m2.2.2.1.3.3"><mtext mathsize="70%" id="S3.E4.m2.2.2.1.3.3.cmml" xref="S3.E4.m2.2.2.1.3.3">ADV</mtext></ci></apply><apply id="S3.E4.m2.2.2.1.1.1.1.cmml" xref="S3.E4.m2.2.2.1.1.1"><times id="S3.E4.m2.2.2.1.1.1.1.2.cmml" xref="S3.E4.m2.2.2.1.1.1.1.2"></times><apply id="S3.E4.m2.2.2.1.1.1.1.3.cmml" xref="S3.E4.m2.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m2.2.2.1.1.1.1.3.1.cmml" xref="S3.E4.m2.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m2.2.2.1.1.1.1.3.2a.cmml" xref="S3.E4.m2.2.2.1.1.1.1.3.2"><mtext id="S3.E4.m2.2.2.1.1.1.1.3.2.cmml" xref="S3.E4.m2.2.2.1.1.1.1.3.2">GRL</mtext></ci><ci id="S3.E4.m2.2.2.1.1.1.1.3.3.cmml" xref="S3.E4.m2.2.2.1.1.1.1.3.3">𝜆</ci></apply><apply id="S3.E4.m2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E4.m2.2.2.1.1.1.1.1.1"><times id="S3.E4.m2.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.1"></times><apply id="S3.E4.m2.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m2.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E4.m2.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.2.2">𝑓</ci><ci id="S3.E4.m2.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m2.2.2.1.1.1.1.1.1.1.2.3">𝑞</ci></apply><ci id="S3.E4.m2.1.1.cmml" xref="S3.E4.m2.1.1">𝑄</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m2.2c">\displaystyle=g_{\text{ADV}}({\text{GRL}}_{\lambda}(f_{q}(Q)))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E5.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{\text{ADV}}" display="inline"><semantics id="S3.E5.m1.1a"><msub id="S3.E5.m1.1.1" xref="S3.E5.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.1.1.2" xref="S3.E5.m1.1.1.2.cmml">ℒ</mi><mtext id="S3.E5.m1.1.1.3" xref="S3.E5.m1.1.1.3a.cmml">ADV</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.1.cmml" xref="S3.E5.m1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.cmml" xref="S3.E5.m1.1.1">subscript</csymbol><ci id="S3.E5.m1.1.1.2.cmml" xref="S3.E5.m1.1.1.2">ℒ</ci><ci id="S3.E5.m1.1.1.3a.cmml" xref="S3.E5.m1.1.1.3"><mtext mathsize="70%" id="S3.E5.m1.1.1.3.cmml" xref="S3.E5.m1.1.1.3">ADV</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">\displaystyle\mathcal{L}_{\text{ADV}}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E5.m2.1" class="ltx_Math" alttext="\displaystyle=-\sum_{i}a_{i}\log P(a_{i}|Q)" display="inline"><semantics id="S3.E5.m2.1a"><mrow id="S3.E5.m2.1.1" xref="S3.E5.m2.1.1.cmml"><mi id="S3.E5.m2.1.1.3" xref="S3.E5.m2.1.1.3.cmml"></mi><mo id="S3.E5.m2.1.1.2" xref="S3.E5.m2.1.1.2.cmml">=</mo><mrow id="S3.E5.m2.1.1.1" xref="S3.E5.m2.1.1.1.cmml"><mo id="S3.E5.m2.1.1.1a" xref="S3.E5.m2.1.1.1.cmml">−</mo><mrow id="S3.E5.m2.1.1.1.1" xref="S3.E5.m2.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E5.m2.1.1.1.1.2" xref="S3.E5.m2.1.1.1.1.2.cmml"><munder id="S3.E5.m2.1.1.1.1.2a" xref="S3.E5.m2.1.1.1.1.2.cmml"><mo movablelimits="false" id="S3.E5.m2.1.1.1.1.2.2" xref="S3.E5.m2.1.1.1.1.2.2.cmml">∑</mo><mi id="S3.E5.m2.1.1.1.1.2.3" xref="S3.E5.m2.1.1.1.1.2.3.cmml">i</mi></munder></mstyle><mrow id="S3.E5.m2.1.1.1.1.1" xref="S3.E5.m2.1.1.1.1.1.cmml"><msub id="S3.E5.m2.1.1.1.1.1.3" xref="S3.E5.m2.1.1.1.1.1.3.cmml"><mi id="S3.E5.m2.1.1.1.1.1.3.2" xref="S3.E5.m2.1.1.1.1.1.3.2.cmml">a</mi><mi id="S3.E5.m2.1.1.1.1.1.3.3" xref="S3.E5.m2.1.1.1.1.1.3.3.cmml">i</mi></msub><mo lspace="0.167em" rspace="0em" id="S3.E5.m2.1.1.1.1.1.2" xref="S3.E5.m2.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5.m2.1.1.1.1.1.4" xref="S3.E5.m2.1.1.1.1.1.4.cmml"><mi id="S3.E5.m2.1.1.1.1.1.4.1" xref="S3.E5.m2.1.1.1.1.1.4.1.cmml">log</mi><mo lspace="0.167em" id="S3.E5.m2.1.1.1.1.1.4a" xref="S3.E5.m2.1.1.1.1.1.4.cmml">⁡</mo><mi id="S3.E5.m2.1.1.1.1.1.4.2" xref="S3.E5.m2.1.1.1.1.1.4.2.cmml">P</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E5.m2.1.1.1.1.1.2a" xref="S3.E5.m2.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5.m2.1.1.1.1.1.1.1" xref="S3.E5.m2.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m2.1.1.1.1.1.1.1.2" xref="S3.E5.m2.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m2.1.1.1.1.1.1.1.1" xref="S3.E5.m2.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E5.m2.1.1.1.1.1.1.1.1.2" xref="S3.E5.m2.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E5.m2.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m2.1.1.1.1.1.1.1.1.2.2.cmml">a</mi><mi id="S3.E5.m2.1.1.1.1.1.1.1.1.2.3" xref="S3.E5.m2.1.1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S3.E5.m2.1.1.1.1.1.1.1.1.1" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S3.E5.m2.1.1.1.1.1.1.1.1.3" xref="S3.E5.m2.1.1.1.1.1.1.1.1.3.cmml">Q</mi></mrow><mo stretchy="false" id="S3.E5.m2.1.1.1.1.1.1.1.3" xref="S3.E5.m2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m2.1b"><apply id="S3.E5.m2.1.1.cmml" xref="S3.E5.m2.1.1"><eq id="S3.E5.m2.1.1.2.cmml" xref="S3.E5.m2.1.1.2"></eq><csymbol cd="latexml" id="S3.E5.m2.1.1.3.cmml" xref="S3.E5.m2.1.1.3">absent</csymbol><apply id="S3.E5.m2.1.1.1.cmml" xref="S3.E5.m2.1.1.1"><minus id="S3.E5.m2.1.1.1.2.cmml" xref="S3.E5.m2.1.1.1"></minus><apply id="S3.E5.m2.1.1.1.1.cmml" xref="S3.E5.m2.1.1.1.1"><apply id="S3.E5.m2.1.1.1.1.2.cmml" xref="S3.E5.m2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m2.1.1.1.1.2.1.cmml" xref="S3.E5.m2.1.1.1.1.2">subscript</csymbol><sum id="S3.E5.m2.1.1.1.1.2.2.cmml" xref="S3.E5.m2.1.1.1.1.2.2"></sum><ci id="S3.E5.m2.1.1.1.1.2.3.cmml" xref="S3.E5.m2.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E5.m2.1.1.1.1.1.cmml" xref="S3.E5.m2.1.1.1.1.1"><times id="S3.E5.m2.1.1.1.1.1.2.cmml" xref="S3.E5.m2.1.1.1.1.1.2"></times><apply id="S3.E5.m2.1.1.1.1.1.3.cmml" xref="S3.E5.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m2.1.1.1.1.1.3.1.cmml" xref="S3.E5.m2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5.m2.1.1.1.1.1.3.2.cmml" xref="S3.E5.m2.1.1.1.1.1.3.2">𝑎</ci><ci id="S3.E5.m2.1.1.1.1.1.3.3.cmml" xref="S3.E5.m2.1.1.1.1.1.3.3">𝑖</ci></apply><apply id="S3.E5.m2.1.1.1.1.1.4.cmml" xref="S3.E5.m2.1.1.1.1.1.4"><log id="S3.E5.m2.1.1.1.1.1.4.1.cmml" xref="S3.E5.m2.1.1.1.1.1.4.1"></log><ci id="S3.E5.m2.1.1.1.1.1.4.2.cmml" xref="S3.E5.m2.1.1.1.1.1.4.2">𝑃</ci></apply><apply id="S3.E5.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E5.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E5.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E5.m2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.2.2">𝑎</ci><ci id="S3.E5.m2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E5.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.3">𝑄</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m2.1c">\displaystyle=-\sum_{i}a_{i}\log P(a_{i}|Q)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.5" class="ltx_p">The adversarial relationship between the main model and the adversary can be expressed as:</p>
<table id="S3.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E6.m1.6" class="ltx_Math" alttext="\min_{\theta_{v,q,z,\text{VQA}}}\hskip 5.0pt\max_{\theta_{q,\text{ADV}}}\mathcal{L}=\mathcal{L_{\text{VQA}}}-\lambda_{\text{ADV}}\mathcal{L_{\text{ADV}}}" display="block"><semantics id="S3.E6.m1.6a"><mrow id="S3.E6.m1.6.7" xref="S3.E6.m1.6.7.cmml"><mrow id="S3.E6.m1.6.7.2" xref="S3.E6.m1.6.7.2.cmml"><munder id="S3.E6.m1.6.7.2.1" xref="S3.E6.m1.6.7.2.1.cmml"><mi id="S3.E6.m1.6.7.2.1.2" xref="S3.E6.m1.6.7.2.1.2.cmml">min</mi><msub id="S3.E6.m1.4.4.4" xref="S3.E6.m1.4.4.4.cmml"><mi id="S3.E6.m1.4.4.4.6" xref="S3.E6.m1.4.4.4.6.cmml">θ</mi><mrow id="S3.E6.m1.4.4.4.4.4.6" xref="S3.E6.m1.4.4.4.4.4.5.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml">v</mi><mo id="S3.E6.m1.4.4.4.4.4.6.1" xref="S3.E6.m1.4.4.4.4.4.5.cmml">,</mo><mi id="S3.E6.m1.2.2.2.2.2.2" xref="S3.E6.m1.2.2.2.2.2.2.cmml">q</mi><mo id="S3.E6.m1.4.4.4.4.4.6.2" xref="S3.E6.m1.4.4.4.4.4.5.cmml">,</mo><mi id="S3.E6.m1.3.3.3.3.3.3" xref="S3.E6.m1.3.3.3.3.3.3.cmml">z</mi><mo id="S3.E6.m1.4.4.4.4.4.6.3" xref="S3.E6.m1.4.4.4.4.4.5.cmml">,</mo><mtext id="S3.E6.m1.4.4.4.4.4.4" xref="S3.E6.m1.4.4.4.4.4.4a.cmml">VQA</mtext></mrow></msub></munder><mo lspace="0.667em" id="S3.E6.m1.6.7.2a" xref="S3.E6.m1.6.7.2.cmml">⁡</mo><mrow id="S3.E6.m1.6.7.2.2" xref="S3.E6.m1.6.7.2.2.cmml"><munder id="S3.E6.m1.6.7.2.2.1" xref="S3.E6.m1.6.7.2.2.1.cmml"><mi id="S3.E6.m1.6.7.2.2.1.2" xref="S3.E6.m1.6.7.2.2.1.2.cmml">max</mi><msub id="S3.E6.m1.6.6.2" xref="S3.E6.m1.6.6.2.cmml"><mi id="S3.E6.m1.6.6.2.4" xref="S3.E6.m1.6.6.2.4.cmml">θ</mi><mrow id="S3.E6.m1.6.6.2.2.2.4" xref="S3.E6.m1.6.6.2.2.2.3.cmml"><mi id="S3.E6.m1.5.5.1.1.1.1" xref="S3.E6.m1.5.5.1.1.1.1.cmml">q</mi><mo id="S3.E6.m1.6.6.2.2.2.4.1" xref="S3.E6.m1.6.6.2.2.2.3.cmml">,</mo><mtext id="S3.E6.m1.6.6.2.2.2.2" xref="S3.E6.m1.6.6.2.2.2.2a.cmml">ADV</mtext></mrow></msub></munder><mo lspace="0.167em" id="S3.E6.m1.6.7.2.2a" xref="S3.E6.m1.6.7.2.2.cmml">⁡</mo><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.6.7.2.2.2" xref="S3.E6.m1.6.7.2.2.2.cmml">ℒ</mi></mrow></mrow><mo id="S3.E6.m1.6.7.1" xref="S3.E6.m1.6.7.1.cmml">=</mo><mrow id="S3.E6.m1.6.7.3" xref="S3.E6.m1.6.7.3.cmml"><msub id="S3.E6.m1.6.7.3.2" xref="S3.E6.m1.6.7.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.6.7.3.2.2" xref="S3.E6.m1.6.7.3.2.2.cmml">ℒ</mi><mtext id="S3.E6.m1.6.7.3.2.3" xref="S3.E6.m1.6.7.3.2.3a.cmml">VQA</mtext></msub><mo id="S3.E6.m1.6.7.3.1" xref="S3.E6.m1.6.7.3.1.cmml">−</mo><mrow id="S3.E6.m1.6.7.3.3" xref="S3.E6.m1.6.7.3.3.cmml"><msub id="S3.E6.m1.6.7.3.3.2" xref="S3.E6.m1.6.7.3.3.2.cmml"><mi id="S3.E6.m1.6.7.3.3.2.2" xref="S3.E6.m1.6.7.3.3.2.2.cmml">λ</mi><mtext id="S3.E6.m1.6.7.3.3.2.3" xref="S3.E6.m1.6.7.3.3.2.3a.cmml">ADV</mtext></msub><mo lspace="0em" rspace="0em" id="S3.E6.m1.6.7.3.3.1" xref="S3.E6.m1.6.7.3.3.1.cmml">​</mo><msub id="S3.E6.m1.6.7.3.3.3" xref="S3.E6.m1.6.7.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.6.7.3.3.3.2" xref="S3.E6.m1.6.7.3.3.3.2.cmml">ℒ</mi><mtext id="S3.E6.m1.6.7.3.3.3.3" xref="S3.E6.m1.6.7.3.3.3.3a.cmml">ADV</mtext></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.6b"><apply id="S3.E6.m1.6.7.cmml" xref="S3.E6.m1.6.7"><eq id="S3.E6.m1.6.7.1.cmml" xref="S3.E6.m1.6.7.1"></eq><apply id="S3.E6.m1.6.7.2.cmml" xref="S3.E6.m1.6.7.2"><apply id="S3.E6.m1.6.7.2.1.cmml" xref="S3.E6.m1.6.7.2.1"><csymbol cd="ambiguous" id="S3.E6.m1.6.7.2.1.1.cmml" xref="S3.E6.m1.6.7.2.1">subscript</csymbol><min id="S3.E6.m1.6.7.2.1.2.cmml" xref="S3.E6.m1.6.7.2.1.2"></min><apply id="S3.E6.m1.4.4.4.cmml" xref="S3.E6.m1.4.4.4"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.5.cmml" xref="S3.E6.m1.4.4.4">subscript</csymbol><ci id="S3.E6.m1.4.4.4.6.cmml" xref="S3.E6.m1.4.4.4.6">𝜃</ci><list id="S3.E6.m1.4.4.4.4.4.5.cmml" xref="S3.E6.m1.4.4.4.4.4.6"><ci id="S3.E6.m1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1">𝑣</ci><ci id="S3.E6.m1.2.2.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2.2.2">𝑞</ci><ci id="S3.E6.m1.3.3.3.3.3.3.cmml" xref="S3.E6.m1.3.3.3.3.3.3">𝑧</ci><ci id="S3.E6.m1.4.4.4.4.4.4a.cmml" xref="S3.E6.m1.4.4.4.4.4.4"><mtext mathsize="50%" id="S3.E6.m1.4.4.4.4.4.4.cmml" xref="S3.E6.m1.4.4.4.4.4.4">VQA</mtext></ci></list></apply></apply><apply id="S3.E6.m1.6.7.2.2.cmml" xref="S3.E6.m1.6.7.2.2"><apply id="S3.E6.m1.6.7.2.2.1.cmml" xref="S3.E6.m1.6.7.2.2.1"><csymbol cd="ambiguous" id="S3.E6.m1.6.7.2.2.1.1.cmml" xref="S3.E6.m1.6.7.2.2.1">subscript</csymbol><max id="S3.E6.m1.6.7.2.2.1.2.cmml" xref="S3.E6.m1.6.7.2.2.1.2"></max><apply id="S3.E6.m1.6.6.2.cmml" xref="S3.E6.m1.6.6.2"><csymbol cd="ambiguous" id="S3.E6.m1.6.6.2.3.cmml" xref="S3.E6.m1.6.6.2">subscript</csymbol><ci id="S3.E6.m1.6.6.2.4.cmml" xref="S3.E6.m1.6.6.2.4">𝜃</ci><list id="S3.E6.m1.6.6.2.2.2.3.cmml" xref="S3.E6.m1.6.6.2.2.2.4"><ci id="S3.E6.m1.5.5.1.1.1.1.cmml" xref="S3.E6.m1.5.5.1.1.1.1">𝑞</ci><ci id="S3.E6.m1.6.6.2.2.2.2a.cmml" xref="S3.E6.m1.6.6.2.2.2.2"><mtext mathsize="50%" id="S3.E6.m1.6.6.2.2.2.2.cmml" xref="S3.E6.m1.6.6.2.2.2.2">ADV</mtext></ci></list></apply></apply><ci id="S3.E6.m1.6.7.2.2.2.cmml" xref="S3.E6.m1.6.7.2.2.2">ℒ</ci></apply></apply><apply id="S3.E6.m1.6.7.3.cmml" xref="S3.E6.m1.6.7.3"><minus id="S3.E6.m1.6.7.3.1.cmml" xref="S3.E6.m1.6.7.3.1"></minus><apply id="S3.E6.m1.6.7.3.2.cmml" xref="S3.E6.m1.6.7.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.6.7.3.2.1.cmml" xref="S3.E6.m1.6.7.3.2">subscript</csymbol><ci id="S3.E6.m1.6.7.3.2.2.cmml" xref="S3.E6.m1.6.7.3.2.2">ℒ</ci><ci id="S3.E6.m1.6.7.3.2.3a.cmml" xref="S3.E6.m1.6.7.3.2.3"><mtext mathsize="70%" id="S3.E6.m1.6.7.3.2.3.cmml" xref="S3.E6.m1.6.7.3.2.3">VQA</mtext></ci></apply><apply id="S3.E6.m1.6.7.3.3.cmml" xref="S3.E6.m1.6.7.3.3"><times id="S3.E6.m1.6.7.3.3.1.cmml" xref="S3.E6.m1.6.7.3.3.1"></times><apply id="S3.E6.m1.6.7.3.3.2.cmml" xref="S3.E6.m1.6.7.3.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.6.7.3.3.2.1.cmml" xref="S3.E6.m1.6.7.3.3.2">subscript</csymbol><ci id="S3.E6.m1.6.7.3.3.2.2.cmml" xref="S3.E6.m1.6.7.3.3.2.2">𝜆</ci><ci id="S3.E6.m1.6.7.3.3.2.3a.cmml" xref="S3.E6.m1.6.7.3.3.2.3"><mtext mathsize="70%" id="S3.E6.m1.6.7.3.3.2.3.cmml" xref="S3.E6.m1.6.7.3.3.2.3">ADV</mtext></ci></apply><apply id="S3.E6.m1.6.7.3.3.3.cmml" xref="S3.E6.m1.6.7.3.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.6.7.3.3.3.1.cmml" xref="S3.E6.m1.6.7.3.3.3">subscript</csymbol><ci id="S3.E6.m1.6.7.3.3.3.2.cmml" xref="S3.E6.m1.6.7.3.3.3.2">ℒ</ci><ci id="S3.E6.m1.6.7.3.3.3.3a.cmml" xref="S3.E6.m1.6.7.3.3.3.3"><mtext mathsize="70%" id="S3.E6.m1.6.7.3.3.3.3.cmml" xref="S3.E6.m1.6.7.3.3.3.3">ADV</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.6c">\min_{\theta_{v,q,z,\text{VQA}}}\hskip 5.0pt\max_{\theta_{q,\text{ADV}}}\mathcal{L}=\mathcal{L_{\text{VQA}}}-\lambda_{\text{ADV}}\mathcal{L_{\text{ADV}}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p3.4" class="ltx_p">where the regularization coefficient <math id="S3.SS1.p3.1.m1.1" class="ltx_Math" alttext="\lambda_{\text{ADV}}\geq 0" display="inline"><semantics id="S3.SS1.p3.1.m1.1a"><mrow id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml"><msub id="S3.SS1.p3.1.m1.1.1.2" xref="S3.SS1.p3.1.m1.1.1.2.cmml"><mi id="S3.SS1.p3.1.m1.1.1.2.2" xref="S3.SS1.p3.1.m1.1.1.2.2.cmml">λ</mi><mtext id="S3.SS1.p3.1.m1.1.1.2.3" xref="S3.SS1.p3.1.m1.1.1.2.3a.cmml">ADV</mtext></msub><mo id="S3.SS1.p3.1.m1.1.1.1" xref="S3.SS1.p3.1.m1.1.1.1.cmml">≥</mo><mn id="S3.SS1.p3.1.m1.1.1.3" xref="S3.SS1.p3.1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><apply id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1"><geq id="S3.SS1.p3.1.m1.1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1.1"></geq><apply id="S3.SS1.p3.1.m1.1.1.2.cmml" xref="S3.SS1.p3.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p3.1.m1.1.1.2.1.cmml" xref="S3.SS1.p3.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS1.p3.1.m1.1.1.2.2.cmml" xref="S3.SS1.p3.1.m1.1.1.2.2">𝜆</ci><ci id="S3.SS1.p3.1.m1.1.1.2.3a.cmml" xref="S3.SS1.p3.1.m1.1.1.2.3"><mtext mathsize="70%" id="S3.SS1.p3.1.m1.1.1.2.3.cmml" xref="S3.SS1.p3.1.m1.1.1.2.3">ADV</mtext></ci></apply><cn type="integer" id="S3.SS1.p3.1.m1.1.1.3.cmml" xref="S3.SS1.p3.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">\lambda_{\text{ADV}}\geq 0</annotation></semantics></math> controls the trade-off between performance on VQA and robustness to language bias. Additionally, <math id="S3.SS1.p3.2.m2.1" class="ltx_Math" alttext="\lambda_{\text{GRL}}\geq 0" display="inline"><semantics id="S3.SS1.p3.2.m2.1a"><mrow id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml"><msub id="S3.SS1.p3.2.m2.1.1.2" xref="S3.SS1.p3.2.m2.1.1.2.cmml"><mi id="S3.SS1.p3.2.m2.1.1.2.2" xref="S3.SS1.p3.2.m2.1.1.2.2.cmml">λ</mi><mtext id="S3.SS1.p3.2.m2.1.1.2.3" xref="S3.SS1.p3.2.m2.1.1.2.3a.cmml">GRL</mtext></msub><mo id="S3.SS1.p3.2.m2.1.1.1" xref="S3.SS1.p3.2.m2.1.1.1.cmml">≥</mo><mn id="S3.SS1.p3.2.m2.1.1.3" xref="S3.SS1.p3.2.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><apply id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1"><geq id="S3.SS1.p3.2.m2.1.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1.1"></geq><apply id="S3.SS1.p3.2.m2.1.1.2.cmml" xref="S3.SS1.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p3.2.m2.1.1.2.1.cmml" xref="S3.SS1.p3.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS1.p3.2.m2.1.1.2.2.cmml" xref="S3.SS1.p3.2.m2.1.1.2.2">𝜆</ci><ci id="S3.SS1.p3.2.m2.1.1.2.3a.cmml" xref="S3.SS1.p3.2.m2.1.1.2.3"><mtext mathsize="70%" id="S3.SS1.p3.2.m2.1.1.2.3.cmml" xref="S3.SS1.p3.2.m2.1.1.2.3">GRL</mtext></ci></apply><cn type="integer" id="S3.SS1.p3.2.m2.1.1.3.cmml" xref="S3.SS1.p3.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">\lambda_{\text{GRL}}\geq 0</annotation></semantics></math> (from Eq. <a href="#S3.E3" title="Equation 3 ‣ 3.1 Adversarial Regularization ‣ 3 Methods ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>) scales the reversed gradients. These two hyperparameters perform related, but different, functions. Setting either or both to zero disables the regularization, since <math id="S3.SS1.p3.3.m3.1" class="ltx_Math" alttext="f_{q}" display="inline"><semantics id="S3.SS1.p3.3.m3.1a"><msub id="S3.SS1.p3.3.m3.1.1" xref="S3.SS1.p3.3.m3.1.1.cmml"><mi id="S3.SS1.p3.3.m3.1.1.2" xref="S3.SS1.p3.3.m3.1.1.2.cmml">f</mi><mi id="S3.SS1.p3.3.m3.1.1.3" xref="S3.SS1.p3.3.m3.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m3.1b"><apply id="S3.SS1.p3.3.m3.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.3.m3.1.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p3.3.m3.1.1.2.cmml" xref="S3.SS1.p3.3.m3.1.1.2">𝑓</ci><ci id="S3.SS1.p3.3.m3.1.1.3.cmml" xref="S3.SS1.p3.3.m3.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m3.1c">f_{q}</annotation></semantics></math> receives no gradients from the adversary. This combination is equivalent to the baseline model. Meanwhile, setting <math id="S3.SS1.p3.4.m4.2" class="ltx_Math" alttext="\lambda_{\text{ADV}}&gt;0,\lambda_{\text{GRL}}&gt;0" display="inline"><semantics id="S3.SS1.p3.4.m4.2a"><mrow id="S3.SS1.p3.4.m4.2.2.2" xref="S3.SS1.p3.4.m4.2.2.3.cmml"><mrow id="S3.SS1.p3.4.m4.1.1.1.1" xref="S3.SS1.p3.4.m4.1.1.1.1.cmml"><msub id="S3.SS1.p3.4.m4.1.1.1.1.2" xref="S3.SS1.p3.4.m4.1.1.1.1.2.cmml"><mi id="S3.SS1.p3.4.m4.1.1.1.1.2.2" xref="S3.SS1.p3.4.m4.1.1.1.1.2.2.cmml">λ</mi><mtext id="S3.SS1.p3.4.m4.1.1.1.1.2.3" xref="S3.SS1.p3.4.m4.1.1.1.1.2.3a.cmml">ADV</mtext></msub><mo id="S3.SS1.p3.4.m4.1.1.1.1.1" xref="S3.SS1.p3.4.m4.1.1.1.1.1.cmml">&gt;</mo><mn id="S3.SS1.p3.4.m4.1.1.1.1.3" xref="S3.SS1.p3.4.m4.1.1.1.1.3.cmml">0</mn></mrow><mo id="S3.SS1.p3.4.m4.2.2.2.3" xref="S3.SS1.p3.4.m4.2.2.3a.cmml">,</mo><mrow id="S3.SS1.p3.4.m4.2.2.2.2" xref="S3.SS1.p3.4.m4.2.2.2.2.cmml"><msub id="S3.SS1.p3.4.m4.2.2.2.2.2" xref="S3.SS1.p3.4.m4.2.2.2.2.2.cmml"><mi id="S3.SS1.p3.4.m4.2.2.2.2.2.2" xref="S3.SS1.p3.4.m4.2.2.2.2.2.2.cmml">λ</mi><mtext id="S3.SS1.p3.4.m4.2.2.2.2.2.3" xref="S3.SS1.p3.4.m4.2.2.2.2.2.3a.cmml">GRL</mtext></msub><mo id="S3.SS1.p3.4.m4.2.2.2.2.1" xref="S3.SS1.p3.4.m4.2.2.2.2.1.cmml">&gt;</mo><mn id="S3.SS1.p3.4.m4.2.2.2.2.3" xref="S3.SS1.p3.4.m4.2.2.2.2.3.cmml">0</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.4.m4.2b"><apply id="S3.SS1.p3.4.m4.2.2.3.cmml" xref="S3.SS1.p3.4.m4.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m4.2.2.3a.cmml" xref="S3.SS1.p3.4.m4.2.2.2.3">formulae-sequence</csymbol><apply id="S3.SS1.p3.4.m4.1.1.1.1.cmml" xref="S3.SS1.p3.4.m4.1.1.1.1"><gt id="S3.SS1.p3.4.m4.1.1.1.1.1.cmml" xref="S3.SS1.p3.4.m4.1.1.1.1.1"></gt><apply id="S3.SS1.p3.4.m4.1.1.1.1.2.cmml" xref="S3.SS1.p3.4.m4.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m4.1.1.1.1.2.1.cmml" xref="S3.SS1.p3.4.m4.1.1.1.1.2">subscript</csymbol><ci id="S3.SS1.p3.4.m4.1.1.1.1.2.2.cmml" xref="S3.SS1.p3.4.m4.1.1.1.1.2.2">𝜆</ci><ci id="S3.SS1.p3.4.m4.1.1.1.1.2.3a.cmml" xref="S3.SS1.p3.4.m4.1.1.1.1.2.3"><mtext mathsize="70%" id="S3.SS1.p3.4.m4.1.1.1.1.2.3.cmml" xref="S3.SS1.p3.4.m4.1.1.1.1.2.3">ADV</mtext></ci></apply><cn type="integer" id="S3.SS1.p3.4.m4.1.1.1.1.3.cmml" xref="S3.SS1.p3.4.m4.1.1.1.1.3">0</cn></apply><apply id="S3.SS1.p3.4.m4.2.2.2.2.cmml" xref="S3.SS1.p3.4.m4.2.2.2.2"><gt id="S3.SS1.p3.4.m4.2.2.2.2.1.cmml" xref="S3.SS1.p3.4.m4.2.2.2.2.1"></gt><apply id="S3.SS1.p3.4.m4.2.2.2.2.2.cmml" xref="S3.SS1.p3.4.m4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m4.2.2.2.2.2.1.cmml" xref="S3.SS1.p3.4.m4.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p3.4.m4.2.2.2.2.2.2.cmml" xref="S3.SS1.p3.4.m4.2.2.2.2.2.2">𝜆</ci><ci id="S3.SS1.p3.4.m4.2.2.2.2.2.3a.cmml" xref="S3.SS1.p3.4.m4.2.2.2.2.2.3"><mtext mathsize="70%" id="S3.SS1.p3.4.m4.2.2.2.2.2.3.cmml" xref="S3.SS1.p3.4.m4.2.2.2.2.2.3">GRL</mtext></ci></apply><cn type="integer" id="S3.SS1.p3.4.m4.2.2.2.2.3.cmml" xref="S3.SS1.p3.4.m4.2.2.2.2.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.4.m4.2c">\lambda_{\text{ADV}}&gt;0,\lambda_{\text{GRL}}&gt;0</annotation></semantics></math> enables <span id="S3.SS1.p3.4.1" class="ltx_text">AdvReg</span>. This setting is the main focus of our experiments.</p>
</div>
<figure id="S3.F1" class="ltx_figure"><img src="/html/1906.08430/assets/figures/adversarial_schematic.png" id="S3.F1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="318" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Schematic diagram of adversarial VQA architecture. Right and left arrows represent forward and backward propagation, respectively. The red arrow indicates the gradient reversal layer.</figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Gradient Reversal Layer Scheduling</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.6" class="ltx_p">Because the GRL counteracts the main gradient updates, <span id="S3.SS2.p1.6.1" class="ltx_text">AdvReg</span> produces noisy gradients that can interfere with learning, as we observe in the experiments below (<a href="#S5.F4" title="In 5.3 Effect of GRL scheduling ‣ 5 Results ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">4</span></a>). To improve stability during the early stages of training, we experiment with a scheduling regime for the gradient reversal layer similar to that used in domain-adversarial neural networks <cite class="ltx_cite ltx_citemacro_citep">(Ganin et al., <a href="#bib.bib9" title="" class="ltx_ref">2016</a>)</cite>. During training, we delay the introduction of regularization for the first <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">\mu</annotation></semantics></math> iterations, which allows <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="f_{q}" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mi id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">f</mi><mi id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">𝑓</ci><ci id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">f_{q}</annotation></semantics></math> to receive clean gradients from the VQA model. Next, we have a warmup phase for <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="w" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">w</annotation></semantics></math> iterations, in which we increase <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="\lambda_{\text{GRL}}" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><msub id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml"><mi id="S3.SS2.p1.4.m4.1.1.2" xref="S3.SS2.p1.4.m4.1.1.2.cmml">λ</mi><mtext id="S3.SS2.p1.4.m4.1.1.3" xref="S3.SS2.p1.4.m4.1.1.3a.cmml">GRL</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><apply id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.2">𝜆</ci><ci id="S3.SS2.p1.4.m4.1.1.3a.cmml" xref="S3.SS2.p1.4.m4.1.1.3"><mtext mathsize="70%" id="S3.SS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3">GRL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">\lambda_{\text{GRL}}</annotation></semantics></math> linearly from <math id="S3.SS2.p1.5.m5.1" class="ltx_Math" alttext="0" display="inline"><semantics id="S3.SS2.p1.5.m5.1a"><mn id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><cn type="integer" id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">0</cn></annotation-xml></semantics></math> to some constant <math id="S3.SS2.p1.6.m6.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS2.p1.6.m6.1a"><mi id="S3.SS2.p1.6.m6.1.1" xref="S3.SS2.p1.6.m6.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m6.1b"><ci id="S3.SS2.p1.6.m6.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m6.1c">c</annotation></semantics></math>:</p>
<table id="S3.E7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E7.m1.7" class="ltx_Math" alttext="\lambda_{\text{GRL}}(t)=\begin{cases}0&amp;t\leq\mu\\
\frac{c(t-\mu)}{w}&amp;\mu\leq t\leq\mu+w\\
c&amp;t&gt;\mu+w\end{cases}" display="block"><semantics id="S3.E7.m1.7a"><mrow id="S3.E7.m1.7.8" xref="S3.E7.m1.7.8.cmml"><mrow id="S3.E7.m1.7.8.2" xref="S3.E7.m1.7.8.2.cmml"><msub id="S3.E7.m1.7.8.2.2" xref="S3.E7.m1.7.8.2.2.cmml"><mi id="S3.E7.m1.7.8.2.2.2" xref="S3.E7.m1.7.8.2.2.2.cmml">λ</mi><mtext id="S3.E7.m1.7.8.2.2.3" xref="S3.E7.m1.7.8.2.2.3a.cmml">GRL</mtext></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.7.8.2.1" xref="S3.E7.m1.7.8.2.1.cmml">​</mo><mrow id="S3.E7.m1.7.8.2.3.2" xref="S3.E7.m1.7.8.2.cmml"><mo stretchy="false" id="S3.E7.m1.7.8.2.3.2.1" xref="S3.E7.m1.7.8.2.cmml">(</mo><mi id="S3.E7.m1.7.7" xref="S3.E7.m1.7.7.cmml">t</mi><mo stretchy="false" id="S3.E7.m1.7.8.2.3.2.2" xref="S3.E7.m1.7.8.2.cmml">)</mo></mrow></mrow><mo id="S3.E7.m1.7.8.1" xref="S3.E7.m1.7.8.1.cmml">=</mo><mrow id="S3.E7.m1.6.6" xref="S3.E7.m1.7.8.3.1.cmml"><mo id="S3.E7.m1.6.6.7" xref="S3.E7.m1.7.8.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt" id="S3.E7.m1.6.6.6" xref="S3.E7.m1.7.8.3.1.cmml"><mtr id="S3.E7.m1.6.6.6a" xref="S3.E7.m1.7.8.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E7.m1.6.6.6b" xref="S3.E7.m1.7.8.3.1.cmml"><mn id="S3.E7.m1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.cmml">0</mn></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E7.m1.6.6.6c" xref="S3.E7.m1.7.8.3.1.cmml"><mrow id="S3.E7.m1.2.2.2.2.2.1" xref="S3.E7.m1.2.2.2.2.2.1.cmml"><mi id="S3.E7.m1.2.2.2.2.2.1.2" xref="S3.E7.m1.2.2.2.2.2.1.2.cmml">t</mi><mo id="S3.E7.m1.2.2.2.2.2.1.1" xref="S3.E7.m1.2.2.2.2.2.1.1.cmml">≤</mo><mi id="S3.E7.m1.2.2.2.2.2.1.3" xref="S3.E7.m1.2.2.2.2.2.1.3.cmml">μ</mi></mrow></mtd></mtr><mtr id="S3.E7.m1.6.6.6d" xref="S3.E7.m1.7.8.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E7.m1.6.6.6e" xref="S3.E7.m1.7.8.3.1.cmml"><mstyle displaystyle="false" id="S3.E7.m1.3.3.3.3.1.1" xref="S3.E7.m1.3.3.3.3.1.1.cmml"><mfrac id="S3.E7.m1.3.3.3.3.1.1a" xref="S3.E7.m1.3.3.3.3.1.1.cmml"><mrow id="S3.E7.m1.3.3.3.3.1.1.1.1" xref="S3.E7.m1.3.3.3.3.1.1.1.1.cmml"><mi id="S3.E7.m1.3.3.3.3.1.1.1.1.3" xref="S3.E7.m1.3.3.3.3.1.1.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.3.3.3.3.1.1.1.1.2" xref="S3.E7.m1.3.3.3.3.1.1.1.1.2.cmml">​</mo><mrow id="S3.E7.m1.3.3.3.3.1.1.1.1.1.1" xref="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.2" xref="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1" xref="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.2" xref="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.2.cmml">t</mi><mo id="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.1" xref="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.3" xref="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.3.cmml">μ</mi></mrow><mo stretchy="false" id="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.3" xref="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mi id="S3.E7.m1.3.3.3.3.1.1.3" xref="S3.E7.m1.3.3.3.3.1.1.3.cmml">w</mi></mfrac></mstyle></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E7.m1.6.6.6f" xref="S3.E7.m1.7.8.3.1.cmml"><mrow id="S3.E7.m1.4.4.4.4.2.1" xref="S3.E7.m1.4.4.4.4.2.1.cmml"><mi id="S3.E7.m1.4.4.4.4.2.1.2" xref="S3.E7.m1.4.4.4.4.2.1.2.cmml">μ</mi><mo id="S3.E7.m1.4.4.4.4.2.1.3" xref="S3.E7.m1.4.4.4.4.2.1.3.cmml">≤</mo><mi id="S3.E7.m1.4.4.4.4.2.1.4" xref="S3.E7.m1.4.4.4.4.2.1.4.cmml">t</mi><mo id="S3.E7.m1.4.4.4.4.2.1.5" xref="S3.E7.m1.4.4.4.4.2.1.5.cmml">≤</mo><mrow id="S3.E7.m1.4.4.4.4.2.1.6" xref="S3.E7.m1.4.4.4.4.2.1.6.cmml"><mi id="S3.E7.m1.4.4.4.4.2.1.6.2" xref="S3.E7.m1.4.4.4.4.2.1.6.2.cmml">μ</mi><mo id="S3.E7.m1.4.4.4.4.2.1.6.1" xref="S3.E7.m1.4.4.4.4.2.1.6.1.cmml">+</mo><mi id="S3.E7.m1.4.4.4.4.2.1.6.3" xref="S3.E7.m1.4.4.4.4.2.1.6.3.cmml">w</mi></mrow></mrow></mtd></mtr><mtr id="S3.E7.m1.6.6.6g" xref="S3.E7.m1.7.8.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E7.m1.6.6.6h" xref="S3.E7.m1.7.8.3.1.cmml"><mi id="S3.E7.m1.5.5.5.5.1.1" xref="S3.E7.m1.5.5.5.5.1.1.cmml">c</mi></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E7.m1.6.6.6i" xref="S3.E7.m1.7.8.3.1.cmml"><mrow id="S3.E7.m1.6.6.6.6.2.1" xref="S3.E7.m1.6.6.6.6.2.1.cmml"><mi id="S3.E7.m1.6.6.6.6.2.1.2" xref="S3.E7.m1.6.6.6.6.2.1.2.cmml">t</mi><mo id="S3.E7.m1.6.6.6.6.2.1.1" xref="S3.E7.m1.6.6.6.6.2.1.1.cmml">&gt;</mo><mrow id="S3.E7.m1.6.6.6.6.2.1.3" xref="S3.E7.m1.6.6.6.6.2.1.3.cmml"><mi id="S3.E7.m1.6.6.6.6.2.1.3.2" xref="S3.E7.m1.6.6.6.6.2.1.3.2.cmml">μ</mi><mo id="S3.E7.m1.6.6.6.6.2.1.3.1" xref="S3.E7.m1.6.6.6.6.2.1.3.1.cmml">+</mo><mi id="S3.E7.m1.6.6.6.6.2.1.3.3" xref="S3.E7.m1.6.6.6.6.2.1.3.3.cmml">w</mi></mrow></mrow></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.7b"><apply id="S3.E7.m1.7.8.cmml" xref="S3.E7.m1.7.8"><eq id="S3.E7.m1.7.8.1.cmml" xref="S3.E7.m1.7.8.1"></eq><apply id="S3.E7.m1.7.8.2.cmml" xref="S3.E7.m1.7.8.2"><times id="S3.E7.m1.7.8.2.1.cmml" xref="S3.E7.m1.7.8.2.1"></times><apply id="S3.E7.m1.7.8.2.2.cmml" xref="S3.E7.m1.7.8.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.7.8.2.2.1.cmml" xref="S3.E7.m1.7.8.2.2">subscript</csymbol><ci id="S3.E7.m1.7.8.2.2.2.cmml" xref="S3.E7.m1.7.8.2.2.2">𝜆</ci><ci id="S3.E7.m1.7.8.2.2.3a.cmml" xref="S3.E7.m1.7.8.2.2.3"><mtext mathsize="70%" id="S3.E7.m1.7.8.2.2.3.cmml" xref="S3.E7.m1.7.8.2.2.3">GRL</mtext></ci></apply><ci id="S3.E7.m1.7.7.cmml" xref="S3.E7.m1.7.7">𝑡</ci></apply><apply id="S3.E7.m1.7.8.3.1.cmml" xref="S3.E7.m1.6.6"><csymbol cd="latexml" id="S3.E7.m1.7.8.3.1.1.cmml" xref="S3.E7.m1.6.6.7">cases</csymbol><cn type="integer" id="S3.E7.m1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1">0</cn><apply id="S3.E7.m1.2.2.2.2.2.1.cmml" xref="S3.E7.m1.2.2.2.2.2.1"><leq id="S3.E7.m1.2.2.2.2.2.1.1.cmml" xref="S3.E7.m1.2.2.2.2.2.1.1"></leq><ci id="S3.E7.m1.2.2.2.2.2.1.2.cmml" xref="S3.E7.m1.2.2.2.2.2.1.2">𝑡</ci><ci id="S3.E7.m1.2.2.2.2.2.1.3.cmml" xref="S3.E7.m1.2.2.2.2.2.1.3">𝜇</ci></apply><apply id="S3.E7.m1.3.3.3.3.1.1.cmml" xref="S3.E7.m1.3.3.3.3.1.1"><divide id="S3.E7.m1.3.3.3.3.1.1.2.cmml" xref="S3.E7.m1.3.3.3.3.1.1"></divide><apply id="S3.E7.m1.3.3.3.3.1.1.1.1.cmml" xref="S3.E7.m1.3.3.3.3.1.1.1.1"><times id="S3.E7.m1.3.3.3.3.1.1.1.1.2.cmml" xref="S3.E7.m1.3.3.3.3.1.1.1.1.2"></times><ci id="S3.E7.m1.3.3.3.3.1.1.1.1.3.cmml" xref="S3.E7.m1.3.3.3.3.1.1.1.1.3">𝑐</ci><apply id="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.3.3.3.3.1.1.1.1.1.1"><minus id="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.1"></minus><ci id="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.2">𝑡</ci><ci id="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.3.3.3.3.1.1.1.1.1.1.1.3">𝜇</ci></apply></apply><ci id="S3.E7.m1.3.3.3.3.1.1.3.cmml" xref="S3.E7.m1.3.3.3.3.1.1.3">𝑤</ci></apply><apply id="S3.E7.m1.4.4.4.4.2.1.cmml" xref="S3.E7.m1.4.4.4.4.2.1"><and id="S3.E7.m1.4.4.4.4.2.1a.cmml" xref="S3.E7.m1.4.4.4.4.2.1"></and><apply id="S3.E7.m1.4.4.4.4.2.1b.cmml" xref="S3.E7.m1.4.4.4.4.2.1"><leq id="S3.E7.m1.4.4.4.4.2.1.3.cmml" xref="S3.E7.m1.4.4.4.4.2.1.3"></leq><ci id="S3.E7.m1.4.4.4.4.2.1.2.cmml" xref="S3.E7.m1.4.4.4.4.2.1.2">𝜇</ci><ci id="S3.E7.m1.4.4.4.4.2.1.4.cmml" xref="S3.E7.m1.4.4.4.4.2.1.4">𝑡</ci></apply><apply id="S3.E7.m1.4.4.4.4.2.1c.cmml" xref="S3.E7.m1.4.4.4.4.2.1"><leq id="S3.E7.m1.4.4.4.4.2.1.5.cmml" xref="S3.E7.m1.4.4.4.4.2.1.5"></leq><share href="#S3.E7.m1.4.4.4.4.2.1.4.cmml" id="S3.E7.m1.4.4.4.4.2.1d.cmml" xref="S3.E7.m1.4.4.4.4.2.1"></share><apply id="S3.E7.m1.4.4.4.4.2.1.6.cmml" xref="S3.E7.m1.4.4.4.4.2.1.6"><plus id="S3.E7.m1.4.4.4.4.2.1.6.1.cmml" xref="S3.E7.m1.4.4.4.4.2.1.6.1"></plus><ci id="S3.E7.m1.4.4.4.4.2.1.6.2.cmml" xref="S3.E7.m1.4.4.4.4.2.1.6.2">𝜇</ci><ci id="S3.E7.m1.4.4.4.4.2.1.6.3.cmml" xref="S3.E7.m1.4.4.4.4.2.1.6.3">𝑤</ci></apply></apply></apply><ci id="S3.E7.m1.5.5.5.5.1.1.cmml" xref="S3.E7.m1.5.5.5.5.1.1">𝑐</ci><apply id="S3.E7.m1.6.6.6.6.2.1.cmml" xref="S3.E7.m1.6.6.6.6.2.1"><gt id="S3.E7.m1.6.6.6.6.2.1.1.cmml" xref="S3.E7.m1.6.6.6.6.2.1.1"></gt><ci id="S3.E7.m1.6.6.6.6.2.1.2.cmml" xref="S3.E7.m1.6.6.6.6.2.1.2">𝑡</ci><apply id="S3.E7.m1.6.6.6.6.2.1.3.cmml" xref="S3.E7.m1.6.6.6.6.2.1.3"><plus id="S3.E7.m1.6.6.6.6.2.1.3.1.cmml" xref="S3.E7.m1.6.6.6.6.2.1.3.1"></plus><ci id="S3.E7.m1.6.6.6.6.2.1.3.2.cmml" xref="S3.E7.m1.6.6.6.6.2.1.3.2">𝜇</ci><ci id="S3.E7.m1.6.6.6.6.2.1.3.3.cmml" xref="S3.E7.m1.6.6.6.6.2.1.3.3">𝑤</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.7c">\lambda_{\text{GRL}}(t)=\begin{cases}0&amp;t\leq\mu\\
\frac{c(t-\mu)}{w}&amp;\mu\leq t\leq\mu+w\\
c&amp;t&gt;\mu+w\end{cases}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p1.8" class="ltx_p">GRL scheduling introduces two new hyperparameters, <math id="S3.SS2.p1.7.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S3.SS2.p1.7.m1.1a"><mi id="S3.SS2.p1.7.m1.1.1" xref="S3.SS2.p1.7.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m1.1b"><ci id="S3.SS2.p1.7.m1.1.1.cmml" xref="S3.SS2.p1.7.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m1.1c">\mu</annotation></semantics></math> and <math id="S3.SS2.p1.8.m2.1" class="ltx_Math" alttext="w" display="inline"><semantics id="S3.SS2.p1.8.m2.1a"><mi id="S3.SS2.p1.8.m2.1.1" xref="S3.SS2.p1.8.m2.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m2.1b"><ci id="S3.SS2.p1.8.m2.1.1.cmml" xref="S3.SS2.p1.8.m2.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m2.1c">w</annotation></semantics></math>, which we set by grid search; further details are given in <a href="#A1.SS2" title="A.2 GRL Scheduling Details ‣ Appendix A Appendix ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">A.2</span></a>.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experimental Setup</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Data</h3>

<figure id="S4.T1" class="ltx_table">
<table id="S4.T1.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T1.2.3.1" class="ltx_tr">
<td id="S4.T1.2.3.1.1" class="ltx_td ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;"></td>
<th id="S4.T1.2.3.1.2" class="ltx_td ltx_nopad_l ltx_th ltx_th_column ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;"></th>
<th id="S4.T1.2.3.1.3" class="ltx_td ltx_th ltx_th_column ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;"></th>
<th id="S4.T1.2.3.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;" colspan="4">VQA-CP v1 (test)</th>
<th id="S4.T1.2.3.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;" colspan="4">VQA-CP v1 (val)</th>
<th id="S4.T1.2.3.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;">VQA v1 (val)</th>
</tr>
<tr id="S4.T1.2.2" class="ltx_tr">
<th id="S4.T1.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column" style="padding-left:4.0pt;padding-right:4.0pt;">Model</th>
<th id="S4.T1.1.1.1" class="ltx_td ltx_nopad_l ltx_align_center ltx_th ltx_th_column" style="padding-left:4.0pt;padding-right:4.0pt;"><math id="S4.T1.1.1.1.m1.1" class="ltx_Math" alttext="\lambda_{\text{ADV}}" display="inline"><semantics id="S4.T1.1.1.1.m1.1a"><msub id="S4.T1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.m1.1.1.cmml"><mi id="S4.T1.1.1.1.m1.1.1.2" xref="S4.T1.1.1.1.m1.1.1.2.cmml">λ</mi><mtext id="S4.T1.1.1.1.m1.1.1.3" xref="S4.T1.1.1.1.m1.1.1.3a.cmml">ADV</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.m1.1b"><apply id="S4.T1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.1.1.1.m1.1.1.1.cmml" xref="S4.T1.1.1.1.m1.1.1">subscript</csymbol><ci id="S4.T1.1.1.1.m1.1.1.2.cmml" xref="S4.T1.1.1.1.m1.1.1.2">𝜆</ci><ci id="S4.T1.1.1.1.m1.1.1.3a.cmml" xref="S4.T1.1.1.1.m1.1.1.3"><mtext mathsize="70%" id="S4.T1.1.1.1.m1.1.1.3.cmml" xref="S4.T1.1.1.1.m1.1.1.3">ADV</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.m1.1c">\lambda_{\text{ADV}}</annotation></semantics></math></th>
<th id="S4.T1.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:4.0pt;padding-right:4.0pt;"><math id="S4.T1.2.2.2.m1.1" class="ltx_Math" alttext="\lambda_{\text{GRL}}" display="inline"><semantics id="S4.T1.2.2.2.m1.1a"><msub id="S4.T1.2.2.2.m1.1.1" xref="S4.T1.2.2.2.m1.1.1.cmml"><mi id="S4.T1.2.2.2.m1.1.1.2" xref="S4.T1.2.2.2.m1.1.1.2.cmml">λ</mi><mtext id="S4.T1.2.2.2.m1.1.1.3" xref="S4.T1.2.2.2.m1.1.1.3a.cmml">GRL</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.T1.2.2.2.m1.1b"><apply id="S4.T1.2.2.2.m1.1.1.cmml" xref="S4.T1.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.2.2.2.m1.1.1.1.cmml" xref="S4.T1.2.2.2.m1.1.1">subscript</csymbol><ci id="S4.T1.2.2.2.m1.1.1.2.cmml" xref="S4.T1.2.2.2.m1.1.1.2">𝜆</ci><ci id="S4.T1.2.2.2.m1.1.1.3a.cmml" xref="S4.T1.2.2.2.m1.1.1.3"><mtext mathsize="70%" id="S4.T1.2.2.2.m1.1.1.3.cmml" xref="S4.T1.2.2.2.m1.1.1.3">GRL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.2.2.m1.1c">\lambda_{\text{GRL}}</annotation></semantics></math></th>
<th id="S4.T1.2.2.4" class="ltx_td ltx_nopad_l ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">Overall</th>
<th id="S4.T1.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S4.T1.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">Num.</th>
<th id="S4.T1.2.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">Other</th>
<th id="S4.T1.2.2.8" class="ltx_td ltx_nopad_l ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">Overall</th>
<th id="S4.T1.2.2.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S4.T1.2.2.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">Num.</th>
<th id="S4.T1.2.2.11" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">Other</th>
<th id="S4.T1.2.2.12" class="ltx_td ltx_nopad_l ltx_align_center ltx_th ltx_th_column" style="padding-left:4.0pt;padding-right:4.0pt;">Overall</th>
</tr>
<tr id="S4.T1.2.4.2" class="ltx_tr">
<td id="S4.T1.2.4.2.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">Baseline</td>
<td id="S4.T1.2.4.2.2" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">0</td>
<td id="S4.T1.2.4.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">0</td>
<td id="S4.T1.2.4.2.4" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">37.87</td>
<td id="S4.T1.2.4.2.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">42.58</td>
<td id="S4.T1.2.4.2.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">14.16</td>
<td id="S4.T1.2.4.2.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">42.71</td>
<td id="S4.T1.2.4.2.8" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;"><span id="S4.T1.2.4.2.8.1" class="ltx_text ltx_font_bold">65.79</span></td>
<td id="S4.T1.2.4.2.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">86.98</td>
<td id="S4.T1.2.4.2.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">40.06</td>
<td id="S4.T1.2.4.2.11" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">56.41</td>
<td id="S4.T1.2.4.2.12" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;"><span id="S4.T1.2.4.2.12.1" class="ltx_text ltx_font_bold">62.68</span></td>
</tr>
<tr id="S4.T1.2.5.3" class="ltx_tr">
<td id="S4.T1.2.5.3.1" class="ltx_td ltx_align_left" style="padding-left:4.0pt;padding-right:4.0pt;">+ <span id="S4.T1.2.5.3.1.1" class="ltx_text">AdvReg</span>
</td>
<td id="S4.T1.2.5.3.2" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">0.01</td>
<td id="S4.T1.2.5.3.3" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">0.1</td>
<td id="S4.T1.2.5.3.4" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;"><span id="S4.T1.2.5.3.4.1" class="ltx_text ltx_font_bold">45.69</span></td>
<td id="S4.T1.2.5.3.5" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">77.64</td>
<td id="S4.T1.2.5.3.6" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">13.21</td>
<td id="S4.T1.2.5.3.7" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">26.97</td>
<td id="S4.T1.2.5.3.8" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">46.94</td>
<td id="S4.T1.2.5.3.9" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">65.32</td>
<td id="S4.T1.2.5.3.10" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">32.95</td>
<td id="S4.T1.2.5.3.11" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">37.22</td>
<td id="S4.T1.2.5.3.12" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">46.34</td>
</tr>
<tr id="S4.T1.2.6.4" class="ltx_tr">
<td id="S4.T1.2.6.4.1" class="ltx_td ltx_align_left" style="padding-left:4.0pt;padding-right:4.0pt;">+ GRL Sch.</td>
<td id="S4.T1.2.6.4.2" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">0.01</td>
<td id="S4.T1.2.6.4.3" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">0.1</td>
<td id="S4.T1.2.6.4.4" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">44.09</td>
<td id="S4.T1.2.6.4.5" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">75.01</td>
<td id="S4.T1.2.6.4.6" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">13.40</td>
<td id="S4.T1.2.6.4.7" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">25.67</td>
<td id="S4.T1.2.6.4.8" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">46.45</td>
<td id="S4.T1.2.6.4.9" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">67.28</td>
<td id="S4.T1.2.6.4.10" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">29.11</td>
<td id="S4.T1.2.6.4.11" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">35.71</td>
<td id="S4.T1.2.6.4.12" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">46.71</td>
</tr>
<tr id="S4.T1.2.7.5" class="ltx_tr">
<td id="S4.T1.2.7.5.1" class="ltx_td ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;"></td>
<td id="S4.T1.2.7.5.2" class="ltx_td ltx_nopad_l ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;"></td>
<td id="S4.T1.2.7.5.3" class="ltx_td ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;"></td>
<td id="S4.T1.2.7.5.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;" colspan="4">VQA-CP v2 (test)</td>
<td id="S4.T1.2.7.5.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;" colspan="4">VQA-CP v2 (val)</td>
<td id="S4.T1.2.7.5.6" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">VQA v2 (val)</td>
</tr>
<tr id="S4.T1.2.8.6" class="ltx_tr">
<td id="S4.T1.2.8.6.1" class="ltx_td ltx_align_left" style="padding-left:4.0pt;padding-right:4.0pt;">Baseline</td>
<td id="S4.T1.2.8.6.2" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">0</td>
<td id="S4.T1.2.8.6.3" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">0</td>
<td id="S4.T1.2.8.6.4" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">38.80</td>
<td id="S4.T1.2.8.6.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">41.70</td>
<td id="S4.T1.2.8.6.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">12.17</td>
<td id="S4.T1.2.8.6.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">44.59</td>
<td id="S4.T1.2.8.6.8" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;"><span id="S4.T1.2.8.6.8.1" class="ltx_text ltx_font_bold">67.76</span></td>
<td id="S4.T1.2.8.6.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">84.76</td>
<td id="S4.T1.2.8.6.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">49.22</td>
<td id="S4.T1.2.8.6.11" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">57.04</td>
<td id="S4.T1.2.8.6.12" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;"><span id="S4.T1.2.8.6.12.1" class="ltx_text ltx_font_bold">63.27</span></td>
</tr>
<tr id="S4.T1.2.9.7" class="ltx_tr">
<td id="S4.T1.2.9.7.1" class="ltx_td ltx_align_left" style="padding-left:4.0pt;padding-right:4.0pt;">+ <span id="S4.T1.2.9.7.1.1" class="ltx_text">AdvReg</span>
</td>
<td id="S4.T1.2.9.7.2" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">0.005</td>
<td id="S4.T1.2.9.7.3" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">1</td>
<td id="S4.T1.2.9.7.4" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">36.33</td>
<td id="S4.T1.2.9.7.5" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">59.33</td>
<td id="S4.T1.2.9.7.6" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">14.01</td>
<td id="S4.T1.2.9.7.7" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">30.41</td>
<td id="S4.T1.2.9.7.8" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">50.63</td>
<td id="S4.T1.2.9.7.9" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">67.39</td>
<td id="S4.T1.2.9.7.10" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">38.81</td>
<td id="S4.T1.2.9.7.11" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">38.37</td>
<td id="S4.T1.2.9.7.12" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">48.78</td>
</tr>
<tr id="S4.T1.2.10.8" class="ltx_tr">
<td id="S4.T1.2.10.8.1" class="ltx_td ltx_align_left ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">+ GRL Sch.</td>
<td id="S4.T1.2.10.8.2" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">0.005</td>
<td id="S4.T1.2.10.8.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">1</td>
<td id="S4.T1.2.10.8.4" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;"><span id="S4.T1.2.10.8.4.1" class="ltx_text ltx_font_bold">42.33</span></td>
<td id="S4.T1.2.10.8.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">59.74</td>
<td id="S4.T1.2.10.8.6" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">14.78</td>
<td id="S4.T1.2.10.8.7" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">40.76</td>
<td id="S4.T1.2.10.8.8" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">56.90</td>
<td id="S4.T1.2.10.8.9" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">69.23</td>
<td id="S4.T1.2.10.8.10" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">42.50</td>
<td id="S4.T1.2.10.8.11" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">49.36</td>
<td id="S4.T1.2.10.8.12" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">51.92</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Performance comparison of baseline and adversarially-trained models on VQA-CP/VQA v1 and v2 datasets using the best-performing hyperparameters. </figcaption>
</figure>
<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">We evaluated the performance of our <span id="S4.SS1.p1.1.1" class="ltx_text">AdvReg</span> setup on VQA-CP v1 and v2 <cite class="ltx_cite ltx_citemacro_citep">(Agrawal et al., <a href="#bib.bib2" title="" class="ltx_ref">2018</a>)</cite>. We also retrained our best-performing models with the same hyperparameter settings on VQA v1 <cite class="ltx_cite ltx_citemacro_citep">(Antol et al., <a href="#bib.bib4" title="" class="ltx_ref">2015</a>)</cite> and v2 <cite class="ltx_cite ltx_citemacro_citep">(Goyal et al., <a href="#bib.bib10" title="" class="ltx_ref">2017</a>)</cite> in order to evaluate performance on datasets without changing priors.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">One difficulty of working with VQA-CP is the lack of validation sets. <cite class="ltx_cite ltx_citemacro_citet">Ramakrishnan et al. (<a href="#bib.bib22" title="" class="ltx_ref">2018</a>)</cite> explain that VQA-CP does not provide validation sets due to the difficulty in varying the answer distributions of binary questions across more than two splits. The authors note that, in place of early stopping, they train their models “until convergence.”<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>In correspondence, the authors clarified that they trained for a fixed interval determined by the number of iterations to reach peak performance on VQA v2. Since overfitting tends to occur more rapidly on VQA-CP, we view an in-domain val split as a more reliable early stopping metric.</span></span></span> Although the nonstandard structure of VQA-CP makes validation tricky, we believe it is important to have some mechanism to distinguish between overfitting to language priors and overfitting to the examples in the training set (the latter may occur regardless of the presence of language biases). Our solution is to train models on 90% of the training data and reserve the remaining 10% (sampled randomly) for validation. Score on the val split is useful as an early stopping metric, but does not forecast test performance. In this way, we are able to prevent our models from overfitting to the training data, while remaining agnostic to the distribution of priors in the test set.</p>
</div>
<figure id="S4.F2" class="ltx_figure"><img src="/html/1906.08430/assets/figures/trainvaltest.png" id="S4.F2.g1" class="ltx_graphics ltx_img_landscape" width="628" height="291" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Comparison of regularized (red) and baseline (blue) models on VQA-CP v1 train, val, and test. The baseline model exhibits severe overfitting on both the val and test splits. In contrast, the regularized model overfits much less and achieves a higher score on VQA-CP test.</figcaption>
</figure>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p">While the addition of a VQA-CP val set enables early stopping, models that perform best on the val set will tend to be under-regularized, since <span id="S4.SS1.p3.1.1" class="ltx_text">AdvReg</span> reduces in-domain performance. We considered creating a second val set derived from VQA-CP test for model selection. However, in addition to introducing additional complexity, this approach would both compromise our ability to remain agnostic to the test set and make our results incomparable with prior work. Therefore, we follow <cite class="ltx_cite ltx_citemacro_citet">Ramakrishnan et al. (<a href="#bib.bib22" title="" class="ltx_ref">2018</a>)</cite> and perform model selection on VQA-CP test. However, to increase transparency, we report results across a broad range of hyperparameters. We hope that recognition of these challenges will motivate the introduction of a standard val set for VQA-CP.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Implementation</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Our experimental setup is based on the Pythia implementation of the Bottom-Up / Top-Down VQA model <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al., <a href="#bib.bib14" title="" class="ltx_ref">2018a</a>; Anderson et al., <a href="#bib.bib3" title="" class="ltx_ref">2018</a>)</cite>.<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>Our code is available at <a target="_blank" href="https://github.com/gabegrand/adversarial-vqa" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/gabegrand/adversarial-vqa</a></span></span></span> The adversarial classifier <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="g_{\text{ADV}}" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><msub id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mi id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml">g</mi><mtext id="S4.SS2.p1.1.m1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.3a.cmml">ADV</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2">𝑔</ci><ci id="S4.SS2.p1.1.m1.1.1.3a.cmml" xref="S4.SS2.p1.1.m1.1.1.3"><mtext mathsize="70%" id="S4.SS2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3">ADV</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">g_{\text{ADV}}</annotation></semantics></math> is implemented as a two-layer fully-connected network with 512 hidden units and ReLU activation. Unless otherwise noted, we use the default hyperparameters from Pythia. Additional details are available in <a href="#A1.SS1" title="A.1 Implementation Details ‣ Appendix A Appendix ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">A.1</span></a>.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Results</h2>

<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Strengths of <span id="S5.SS1.1.1" class="ltx_text">AdvReg</span>
</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p"><a href="#S4.T1" title="In 4.1 Data ‣ 4 Experimental Setup ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a> summarizes the results of the baseline model and the best performing adversarially regularized models.
On the VQA-CP v1 test set, our best <span id="S5.SS1.p1.1.1" class="ltx_text">AdvReg</span> model outperforms the baseline by 7.82%, attaining a new state-of-the-art for this task.
On the VQA-CP v2 test set, our best <span id="S5.SS1.p1.1.2" class="ltx_text">AdvReg</span> model performs worse than the baseline; however, with GRL scheduling, it surpasses the baseline by 3.53%, again setting a new state-of-the-art.
Note that in both cases, our models perform better than <cite class="ltx_cite ltx_citemacro_citet">Ramakrishnan et al. (<a href="#bib.bib22" title="" class="ltx_ref">2018</a>)</cite>, who report scores of 43.43% and 41.17% on VQA-CP v1 and v2 test, despite the fact that we use only 90% of the available training data. This result indicates that allocating 10% for validation helps prevent overfitting to the training examples.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.1" class="ltx_p">To highlight how <span id="S5.SS1.p2.1.1" class="ltx_text">AdvReg</span> mitigates overfitting, <a href="#S4.F2" title="In 4.1 Data ‣ 4 Experimental Setup ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">2</span></a> plots loss curves of the baseline (blue) and regularized (red) models during training. The baseline model exhibits severe overfitting on both VQA-CP v1 val and test. Note that overfitting on the test set appears around 2000 iterations as the model begins to over-rely on language priors. In contrast, overfitting on the val set appears later (around 3500 iterations) as the model begins to memorize the training examples.</p>
</div>
<div id="S5.SS1.p3" class="ltx_para">
<p id="S5.SS1.p3.8" class="ltx_p">In general, <span id="S5.SS1.p3.8.1" class="ltx_text">AdvReg</span> works well out-of-box on VQA-CP v1. Many of the hyperparameter combinations we tested (<a href="#S5.F3" title="In 5.2 Shortcomings of AdvReg ‣ 5 Results ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">3</span></a>) outperform the baseline on VQA-CP v1 test. The key to successful regularization appears to be balancing <math id="S5.SS1.p3.1.m1.1" class="ltx_Math" alttext="\lambda_{\text{ADV}}" display="inline"><semantics id="S5.SS1.p3.1.m1.1a"><msub id="S5.SS1.p3.1.m1.1.1" xref="S5.SS1.p3.1.m1.1.1.cmml"><mi id="S5.SS1.p3.1.m1.1.1.2" xref="S5.SS1.p3.1.m1.1.1.2.cmml">λ</mi><mtext id="S5.SS1.p3.1.m1.1.1.3" xref="S5.SS1.p3.1.m1.1.1.3a.cmml">ADV</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.1.m1.1b"><apply id="S5.SS1.p3.1.m1.1.1.cmml" xref="S5.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.1.m1.1.1.1.cmml" xref="S5.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="S5.SS1.p3.1.m1.1.1.2.cmml" xref="S5.SS1.p3.1.m1.1.1.2">𝜆</ci><ci id="S5.SS1.p3.1.m1.1.1.3a.cmml" xref="S5.SS1.p3.1.m1.1.1.3"><mtext mathsize="70%" id="S5.SS1.p3.1.m1.1.1.3.cmml" xref="S5.SS1.p3.1.m1.1.1.3">ADV</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.1.m1.1c">\lambda_{\text{ADV}}</annotation></semantics></math> and <math id="S5.SS1.p3.2.m2.1" class="ltx_Math" alttext="\lambda_{\text{GRL}}" display="inline"><semantics id="S5.SS1.p3.2.m2.1a"><msub id="S5.SS1.p3.2.m2.1.1" xref="S5.SS1.p3.2.m2.1.1.cmml"><mi id="S5.SS1.p3.2.m2.1.1.2" xref="S5.SS1.p3.2.m2.1.1.2.cmml">λ</mi><mtext id="S5.SS1.p3.2.m2.1.1.3" xref="S5.SS1.p3.2.m2.1.1.3a.cmml">GRL</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.2.m2.1b"><apply id="S5.SS1.p3.2.m2.1.1.cmml" xref="S5.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.2.m2.1.1.1.cmml" xref="S5.SS1.p3.2.m2.1.1">subscript</csymbol><ci id="S5.SS1.p3.2.m2.1.1.2.cmml" xref="S5.SS1.p3.2.m2.1.1.2">𝜆</ci><ci id="S5.SS1.p3.2.m2.1.1.3a.cmml" xref="S5.SS1.p3.2.m2.1.1.3"><mtext mathsize="70%" id="S5.SS1.p3.2.m2.1.1.3.cmml" xref="S5.SS1.p3.2.m2.1.1.3">GRL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.2.m2.1c">\lambda_{\text{GRL}}</annotation></semantics></math>. As <a href="#S5.F3" title="In 5.2 Shortcomings of AdvReg ‣ 5 Results ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">3</span></a> reveals, large values of <math id="S5.SS1.p3.3.m3.1" class="ltx_Math" alttext="\lambda_{\text{ADV}}" display="inline"><semantics id="S5.SS1.p3.3.m3.1a"><msub id="S5.SS1.p3.3.m3.1.1" xref="S5.SS1.p3.3.m3.1.1.cmml"><mi id="S5.SS1.p3.3.m3.1.1.2" xref="S5.SS1.p3.3.m3.1.1.2.cmml">λ</mi><mtext id="S5.SS1.p3.3.m3.1.1.3" xref="S5.SS1.p3.3.m3.1.1.3a.cmml">ADV</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.3.m3.1b"><apply id="S5.SS1.p3.3.m3.1.1.cmml" xref="S5.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.3.m3.1.1.1.cmml" xref="S5.SS1.p3.3.m3.1.1">subscript</csymbol><ci id="S5.SS1.p3.3.m3.1.1.2.cmml" xref="S5.SS1.p3.3.m3.1.1.2">𝜆</ci><ci id="S5.SS1.p3.3.m3.1.1.3a.cmml" xref="S5.SS1.p3.3.m3.1.1.3"><mtext mathsize="70%" id="S5.SS1.p3.3.m3.1.1.3.cmml" xref="S5.SS1.p3.3.m3.1.1.3">ADV</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.3.m3.1c">\lambda_{\text{ADV}}</annotation></semantics></math> perform better with small values of <math id="S5.SS1.p3.4.m4.1" class="ltx_Math" alttext="\lambda_{\text{GRL}}" display="inline"><semantics id="S5.SS1.p3.4.m4.1a"><msub id="S5.SS1.p3.4.m4.1.1" xref="S5.SS1.p3.4.m4.1.1.cmml"><mi id="S5.SS1.p3.4.m4.1.1.2" xref="S5.SS1.p3.4.m4.1.1.2.cmml">λ</mi><mtext id="S5.SS1.p3.4.m4.1.1.3" xref="S5.SS1.p3.4.m4.1.1.3a.cmml">GRL</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.4.m4.1b"><apply id="S5.SS1.p3.4.m4.1.1.cmml" xref="S5.SS1.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.4.m4.1.1.1.cmml" xref="S5.SS1.p3.4.m4.1.1">subscript</csymbol><ci id="S5.SS1.p3.4.m4.1.1.2.cmml" xref="S5.SS1.p3.4.m4.1.1.2">𝜆</ci><ci id="S5.SS1.p3.4.m4.1.1.3a.cmml" xref="S5.SS1.p3.4.m4.1.1.3"><mtext mathsize="70%" id="S5.SS1.p3.4.m4.1.1.3.cmml" xref="S5.SS1.p3.4.m4.1.1.3">GRL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.4.m4.1c">\lambda_{\text{GRL}}</annotation></semantics></math>, and vice-versa. However, when <math id="S5.SS1.p3.5.m5.1" class="ltx_Math" alttext="\lambda_{\text{ADV}}" display="inline"><semantics id="S5.SS1.p3.5.m5.1a"><msub id="S5.SS1.p3.5.m5.1.1" xref="S5.SS1.p3.5.m5.1.1.cmml"><mi id="S5.SS1.p3.5.m5.1.1.2" xref="S5.SS1.p3.5.m5.1.1.2.cmml">λ</mi><mtext id="S5.SS1.p3.5.m5.1.1.3" xref="S5.SS1.p3.5.m5.1.1.3a.cmml">ADV</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.5.m5.1b"><apply id="S5.SS1.p3.5.m5.1.1.cmml" xref="S5.SS1.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.5.m5.1.1.1.cmml" xref="S5.SS1.p3.5.m5.1.1">subscript</csymbol><ci id="S5.SS1.p3.5.m5.1.1.2.cmml" xref="S5.SS1.p3.5.m5.1.1.2">𝜆</ci><ci id="S5.SS1.p3.5.m5.1.1.3a.cmml" xref="S5.SS1.p3.5.m5.1.1.3"><mtext mathsize="70%" id="S5.SS1.p3.5.m5.1.1.3.cmml" xref="S5.SS1.p3.5.m5.1.1.3">ADV</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.5.m5.1c">\lambda_{\text{ADV}}</annotation></semantics></math> is too small, <span id="S5.SS1.p3.8.2" class="ltx_text">AdvReg</span> fails to improve performance; none of the models we tested with <math id="S5.SS1.p3.6.m6.1" class="ltx_Math" alttext="\lambda_{\text{ADV}}=0.001" display="inline"><semantics id="S5.SS1.p3.6.m6.1a"><mrow id="S5.SS1.p3.6.m6.1.1" xref="S5.SS1.p3.6.m6.1.1.cmml"><msub id="S5.SS1.p3.6.m6.1.1.2" xref="S5.SS1.p3.6.m6.1.1.2.cmml"><mi id="S5.SS1.p3.6.m6.1.1.2.2" xref="S5.SS1.p3.6.m6.1.1.2.2.cmml">λ</mi><mtext id="S5.SS1.p3.6.m6.1.1.2.3" xref="S5.SS1.p3.6.m6.1.1.2.3a.cmml">ADV</mtext></msub><mo id="S5.SS1.p3.6.m6.1.1.1" xref="S5.SS1.p3.6.m6.1.1.1.cmml">=</mo><mn id="S5.SS1.p3.6.m6.1.1.3" xref="S5.SS1.p3.6.m6.1.1.3.cmml">0.001</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.6.m6.1b"><apply id="S5.SS1.p3.6.m6.1.1.cmml" xref="S5.SS1.p3.6.m6.1.1"><eq id="S5.SS1.p3.6.m6.1.1.1.cmml" xref="S5.SS1.p3.6.m6.1.1.1"></eq><apply id="S5.SS1.p3.6.m6.1.1.2.cmml" xref="S5.SS1.p3.6.m6.1.1.2"><csymbol cd="ambiguous" id="S5.SS1.p3.6.m6.1.1.2.1.cmml" xref="S5.SS1.p3.6.m6.1.1.2">subscript</csymbol><ci id="S5.SS1.p3.6.m6.1.1.2.2.cmml" xref="S5.SS1.p3.6.m6.1.1.2.2">𝜆</ci><ci id="S5.SS1.p3.6.m6.1.1.2.3a.cmml" xref="S5.SS1.p3.6.m6.1.1.2.3"><mtext mathsize="70%" id="S5.SS1.p3.6.m6.1.1.2.3.cmml" xref="S5.SS1.p3.6.m6.1.1.2.3">ADV</mtext></ci></apply><cn type="float" id="S5.SS1.p3.6.m6.1.1.3.cmml" xref="S5.SS1.p3.6.m6.1.1.3">0.001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.6.m6.1c">\lambda_{\text{ADV}}=0.001</annotation></semantics></math> outperformed the baseline. On the other hand, when <math id="S5.SS1.p3.7.m7.1" class="ltx_Math" alttext="\lambda_{\text{ADV}}" display="inline"><semantics id="S5.SS1.p3.7.m7.1a"><msub id="S5.SS1.p3.7.m7.1.1" xref="S5.SS1.p3.7.m7.1.1.cmml"><mi id="S5.SS1.p3.7.m7.1.1.2" xref="S5.SS1.p3.7.m7.1.1.2.cmml">λ</mi><mtext id="S5.SS1.p3.7.m7.1.1.3" xref="S5.SS1.p3.7.m7.1.1.3a.cmml">ADV</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.7.m7.1b"><apply id="S5.SS1.p3.7.m7.1.1.cmml" xref="S5.SS1.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.7.m7.1.1.1.cmml" xref="S5.SS1.p3.7.m7.1.1">subscript</csymbol><ci id="S5.SS1.p3.7.m7.1.1.2.cmml" xref="S5.SS1.p3.7.m7.1.1.2">𝜆</ci><ci id="S5.SS1.p3.7.m7.1.1.3a.cmml" xref="S5.SS1.p3.7.m7.1.1.3"><mtext mathsize="70%" id="S5.SS1.p3.7.m7.1.1.3.cmml" xref="S5.SS1.p3.7.m7.1.1.3">ADV</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.7.m7.1c">\lambda_{\text{ADV}}</annotation></semantics></math> is too large, training becomes unstable; for <math id="S5.SS1.p3.8.m8.1" class="ltx_Math" alttext="\lambda_{\text{ADV}}&gt;1" display="inline"><semantics id="S5.SS1.p3.8.m8.1a"><mrow id="S5.SS1.p3.8.m8.1.1" xref="S5.SS1.p3.8.m8.1.1.cmml"><msub id="S5.SS1.p3.8.m8.1.1.2" xref="S5.SS1.p3.8.m8.1.1.2.cmml"><mi id="S5.SS1.p3.8.m8.1.1.2.2" xref="S5.SS1.p3.8.m8.1.1.2.2.cmml">λ</mi><mtext id="S5.SS1.p3.8.m8.1.1.2.3" xref="S5.SS1.p3.8.m8.1.1.2.3a.cmml">ADV</mtext></msub><mo id="S5.SS1.p3.8.m8.1.1.1" xref="S5.SS1.p3.8.m8.1.1.1.cmml">&gt;</mo><mn id="S5.SS1.p3.8.m8.1.1.3" xref="S5.SS1.p3.8.m8.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.8.m8.1b"><apply id="S5.SS1.p3.8.m8.1.1.cmml" xref="S5.SS1.p3.8.m8.1.1"><gt id="S5.SS1.p3.8.m8.1.1.1.cmml" xref="S5.SS1.p3.8.m8.1.1.1"></gt><apply id="S5.SS1.p3.8.m8.1.1.2.cmml" xref="S5.SS1.p3.8.m8.1.1.2"><csymbol cd="ambiguous" id="S5.SS1.p3.8.m8.1.1.2.1.cmml" xref="S5.SS1.p3.8.m8.1.1.2">subscript</csymbol><ci id="S5.SS1.p3.8.m8.1.1.2.2.cmml" xref="S5.SS1.p3.8.m8.1.1.2.2">𝜆</ci><ci id="S5.SS1.p3.8.m8.1.1.2.3a.cmml" xref="S5.SS1.p3.8.m8.1.1.2.3"><mtext mathsize="70%" id="S5.SS1.p3.8.m8.1.1.2.3.cmml" xref="S5.SS1.p3.8.m8.1.1.2.3">ADV</mtext></ci></apply><cn type="integer" id="S5.SS1.p3.8.m8.1.1.3.cmml" xref="S5.SS1.p3.8.m8.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.8.m8.1c">\lambda_{\text{ADV}}&gt;1</annotation></semantics></math> (not shown), we observed many training runs failing to converge due to exploding gradient values.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Shortcomings of <span id="S5.SS2.1.1" class="ltx_text">AdvReg</span>
</h3>

<figure id="S5.F3" class="ltx_figure"><img src="/html/1906.08430/assets/figures/tuning.png" id="S5.F3.g1" class="ltx_graphics ltx_img_landscape" width="628" height="210" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Hyperparameter sweep on VQA-CP v1 and v2 test. Each line is a different setting of <math id="S5.F3.3.m1.1" class="ltx_Math" alttext="\lambda_{\text{ADV}}" display="inline"><semantics id="S5.F3.3.m1.1b"><msub id="S5.F3.3.m1.1.1" xref="S5.F3.3.m1.1.1.cmml"><mi id="S5.F3.3.m1.1.1.2" xref="S5.F3.3.m1.1.1.2.cmml">λ</mi><mtext id="S5.F3.3.m1.1.1.3" xref="S5.F3.3.m1.1.1.3a.cmml">ADV</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.F3.3.m1.1c"><apply id="S5.F3.3.m1.1.1.cmml" xref="S5.F3.3.m1.1.1"><csymbol cd="ambiguous" id="S5.F3.3.m1.1.1.1.cmml" xref="S5.F3.3.m1.1.1">subscript</csymbol><ci id="S5.F3.3.m1.1.1.2.cmml" xref="S5.F3.3.m1.1.1.2">𝜆</ci><ci id="S5.F3.3.m1.1.1.3a.cmml" xref="S5.F3.3.m1.1.1.3"><mtext mathsize="70%" id="S5.F3.3.m1.1.1.3.cmml" xref="S5.F3.3.m1.1.1.3">ADV</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F3.3.m1.1d">\lambda_{\text{ADV}}</annotation></semantics></math>; lighter/darker red indicates less/more regularization, respectively. <math id="S5.F3.4.m2.1" class="ltx_Math" alttext="\lambda_{\text{GRL}}" display="inline"><semantics id="S5.F3.4.m2.1b"><msub id="S5.F3.4.m2.1.1" xref="S5.F3.4.m2.1.1.cmml"><mi id="S5.F3.4.m2.1.1.2" xref="S5.F3.4.m2.1.1.2.cmml">λ</mi><mtext id="S5.F3.4.m2.1.1.3" xref="S5.F3.4.m2.1.1.3a.cmml">GRL</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.F3.4.m2.1c"><apply id="S5.F3.4.m2.1.1.cmml" xref="S5.F3.4.m2.1.1"><csymbol cd="ambiguous" id="S5.F3.4.m2.1.1.1.cmml" xref="S5.F3.4.m2.1.1">subscript</csymbol><ci id="S5.F3.4.m2.1.1.2.cmml" xref="S5.F3.4.m2.1.1.2">𝜆</ci><ci id="S5.F3.4.m2.1.1.3a.cmml" xref="S5.F3.4.m2.1.1.3"><mtext mathsize="70%" id="S5.F3.4.m2.1.1.3.cmml" xref="S5.F3.4.m2.1.1.3">GRL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F3.4.m2.1d">\lambda_{\text{GRL}}</annotation></semantics></math> is varied along the x-axis. Blue dashes: baseline score.</figcaption>
</figure>
<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">The improved performance on the out-of-domain test sets comes at the expense of performance on the in-domain validation sets. As <a href="#S4.T1" title="In 4.1 Data ‣ 4 Experimental Setup ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a> shows, on both VQA-CP v1 and v2 val, <span id="S5.SS2.p1.1.1" class="ltx_text">AdvReg</span> models significantly under-performed the baseline (<span id="S5.SS2.p1.1.2" class="ltx_text">-18.85%</span> and <span id="S5.SS2.p1.1.3" class="ltx_text">-10.66%</span>, respectively). Retraining with the same hyperparameters on the original VQA v1 and v2 datasets yielded similar results.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.2" class="ltx_p">Notably, these findings differ from <cite class="ltx_cite ltx_citemacro_citet">Ramakrishnan et al. (<a href="#bib.bib22" title="" class="ltx_ref">2018</a>)</cite>, who report only minimal reductions in performance on VQA v1 and v2 from <span id="S5.SS2.p2.2.1" class="ltx_text">AdvReg</span>. One explanation is that the gains we observed on VQA-CP test relative to <cite class="ltx_cite ltx_citemacro_citeauthor"><a href="#bib.bib22" title="" class="ltx_ref">Ramakrishnan et al.</a></cite> resulted in diminished performance on VQA-CP val. Indeed, across all runs of our experiments, we found that score on VQA-CP v1 test correlated negatively with score on the val split (<math id="S5.SS2.p2.1.m1.1" class="ltx_Math" alttext="r^{2}" display="inline"><semantics id="S5.SS2.p2.1.m1.1a"><msup id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml"><mi id="S5.SS2.p2.1.m1.1.1.2" xref="S5.SS2.p2.1.m1.1.1.2.cmml">r</mi><mn id="S5.SS2.p2.1.m1.1.1.3" xref="S5.SS2.p2.1.m1.1.1.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><apply id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.1.m1.1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1">superscript</csymbol><ci id="S5.SS2.p2.1.m1.1.1.2.cmml" xref="S5.SS2.p2.1.m1.1.1.2">𝑟</ci><cn type="integer" id="S5.SS2.p2.1.m1.1.1.3.cmml" xref="S5.SS2.p2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">r^{2}</annotation></semantics></math> = -0.355, <math id="S5.SS2.p2.2.m2.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S5.SS2.p2.2.m2.1a"><mi id="S5.SS2.p2.2.m2.1.1" xref="S5.SS2.p2.2.m2.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.2.m2.1b"><ci id="S5.SS2.p2.2.m2.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.2.m2.1c">p</annotation></semantics></math> = 0.013).<span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>We did not find a significant correlation between test and val performance on VQA-CP v2 (<math id="footnote4.m1.1" class="ltx_Math" alttext="r^{2}" display="inline"><semantics id="footnote4.m1.1b"><msup id="footnote4.m1.1.1" xref="footnote4.m1.1.1.cmml"><mi id="footnote4.m1.1.1.2" xref="footnote4.m1.1.1.2.cmml">r</mi><mn id="footnote4.m1.1.1.3" xref="footnote4.m1.1.1.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="footnote4.m1.1c"><apply id="footnote4.m1.1.1.cmml" xref="footnote4.m1.1.1"><csymbol cd="ambiguous" id="footnote4.m1.1.1.1.cmml" xref="footnote4.m1.1.1">superscript</csymbol><ci id="footnote4.m1.1.1.2.cmml" xref="footnote4.m1.1.1.2">𝑟</ci><cn type="integer" id="footnote4.m1.1.1.3.cmml" xref="footnote4.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m1.1d">r^{2}</annotation></semantics></math> = 0.237, <math id="footnote4.m2.1" class="ltx_Math" alttext="p" display="inline"><semantics id="footnote4.m2.1b"><mi id="footnote4.m2.1.1" xref="footnote4.m2.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="footnote4.m2.1c"><ci id="footnote4.m2.1.1.cmml" xref="footnote4.m2.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m2.1d">p</annotation></semantics></math> = 0.141).</span></span></span> In their work, <cite class="ltx_cite ltx_citemacro_citeauthor"><a href="#bib.bib22" title="" class="ltx_ref">Ramakrishnan et al.</a></cite> also introduce a secondary “difference of entropies” (DoE) regularizer, which they find improves in-domain performance and helps to stabilize adversarial training. However, even without DoE, they report margins of only 1-4% between their <span id="S5.SS2.p2.2.2" class="ltx_text">AdvReg</span> and baseline models.
Ultimately, these unaccounted differences may be due to implementation details, suggesting the need for a closer comparison.<span id="footnote5" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>To our knowledge, code from <cite class="ltx_cite ltx_citemacro_cite">Ramakrishnan et al. (<a href="#bib.bib22" title="" class="ltx_ref">2018</a>)</cite> is not public at present.</span></span></span></p>
</div>
<div id="S5.SS2.p3" class="ltx_para">
<p id="S5.SS2.p3.1" class="ltx_p">Our results also highlight interesting differences between VQA-CP v1 and v2. On VQA-CP test, the gains due to <span id="S5.SS2.p3.1.1" class="ltx_text">AdvReg</span> were more significant on v1 as compared to v2. However, on the validation sets, the losses were also greater. This pattern also applied with respect to the original versions of these datasets (i.e., VQA v1 and v2). These findings support the notion that VQA v2 is indeed less biased than v1.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Effect of GRL scheduling</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">Without GRL scheduling, none of the <span id="S5.SS3.p1.1.1" class="ltx_text">AdvReg</span> hyperparameter combinations we tested outperformed the baseline on VQA-CP v2 test (see <a href="#S5.F3" title="In 5.2 Shortcomings of AdvReg ‣ 5 Results ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">3</span></a>). This finding may be attributed to the substantial amount of noise that the adversary injects into the gradient updates for the question encoder, as demonstrated by recording gradient norms throughout training.</p>
</div>
<div id="S5.SS3.p2" class="ltx_para">
<p id="S5.SS3.p2.2" class="ltx_p">As <a href="#S5.F4" title="In 5.3 Effect of GRL scheduling ‣ 5 Results ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">4</span></a> illustrates, on VQA-CP v2, GRL scheduling reduces gradient instability early in training, allowing the model to converge to a lower loss value. In the best-performing schedule, regularization was delayed until <math id="S5.SS3.p2.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S5.SS3.p2.1.m1.1a"><mi id="S5.SS3.p2.1.m1.1.1" xref="S5.SS3.p2.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.1b"><ci id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.1c">\mu</annotation></semantics></math> = 2000 iterations, and slowly warmed up for the following <math id="S5.SS3.p2.2.m2.1" class="ltx_Math" alttext="w" display="inline"><semantics id="S5.SS3.p2.2.m2.1a"><mi id="S5.SS3.p2.2.m2.1.1" xref="S5.SS3.p2.2.m2.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.2.m2.1b"><ci id="S5.SS3.p2.2.m2.1.1.cmml" xref="S5.SS3.p2.2.m2.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.2.m2.1c">w</annotation></semantics></math> = 4000 steps. This schedule resulted in a 6.00% performance increase on VQA-CP v2 test compared to using the same regularization coefficients without GRL scheduling, and a 3.53% improvement over the baseline (see <a href="#S4.T1" title="In 4.1 Data ‣ 4 Experimental Setup ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a>).</p>
</div>
<div id="S5.SS3.p3" class="ltx_para">
<p id="S5.SS3.p3.1" class="ltx_p">On VQA-CP v1, we did not observe commensurate improvements from GRL scheduling. We hypothesize that introducing <span id="S5.SS3.p3.1.1" class="ltx_text">AdvReg</span> on a delay may not be as effective on v1 due to the more prominent biases in this dataset. Note that the baseline model begins to overfit roughly twice as quickly on VQA-CP v1 as on VQA-CP v2 (<a href="#S5.F4" title="In 5.3 Effect of GRL scheduling ‣ 5 Results ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">4</span></a>, Baseline loss). Accordingly, in addition to sweeping the same hyperparameters tested on VQA-CP v2, we experimented with accelerated GRL schedules for VQA-CP v1. While five of the runs outperformed the baseline, three of these were with no start delay. Moreover, all of the runs with GRL scheduling performed worse than a model with the same regularization coefficients with static <math id="S5.SS3.p3.1.m1.1" class="ltx_Math" alttext="\lambda_{\text{GRL}}" display="inline"><semantics id="S5.SS3.p3.1.m1.1a"><msub id="S5.SS3.p3.1.m1.1.1" xref="S5.SS3.p3.1.m1.1.1.cmml"><mi id="S5.SS3.p3.1.m1.1.1.2" xref="S5.SS3.p3.1.m1.1.1.2.cmml">λ</mi><mtext id="S5.SS3.p3.1.m1.1.1.3" xref="S5.SS3.p3.1.m1.1.1.3a.cmml">GRL</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.1.m1.1b"><apply id="S5.SS3.p3.1.m1.1.1.cmml" xref="S5.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p3.1.m1.1.1.1.cmml" xref="S5.SS3.p3.1.m1.1.1">subscript</csymbol><ci id="S5.SS3.p3.1.m1.1.1.2.cmml" xref="S5.SS3.p3.1.m1.1.1.2">𝜆</ci><ci id="S5.SS3.p3.1.m1.1.1.3a.cmml" xref="S5.SS3.p3.1.m1.1.1.3"><mtext mathsize="70%" id="S5.SS3.p3.1.m1.1.1.3.cmml" xref="S5.SS3.p3.1.m1.1.1.3">GRL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.1.m1.1c">\lambda_{\text{GRL}}</annotation></semantics></math>. Finally, many of the runs on VQA-CP v1, and especially those with fewer warm-up iterations, diverged due to exploding gradients. These findings suggest that the stronger the biases in a dataset, the earlier <span id="S5.SS3.p3.1.2" class="ltx_text">AdvReg</span> must be introduced in order to counter overfitting effectively.</p>
</div>
<figure id="S5.F4" class="ltx_figure"><img src="/html/1906.08430/assets/figures/comparison.png" id="S5.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="416" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Gradient norms and loss during adversarial training. On VQA-CP v2, GRL scheduling helps to reduce gradient noise early in training (bottom left), leading to lower loss values (bottom right). On VQA-CP v1, the baseline (blue, top right) overfits more quickly; hence, delaying the regularization is less effective.</figcaption>
</figure>
<figure id="S5.T2" class="ltx_table">
<table id="S5.T2.4" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T2.2.2" class="ltx_tr">
<th id="S5.T2.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;" colspan="6">
<span id="S5.T2.1.1.1.1" class="ltx_text">AdvReg</span> <math id="S5.T2.1.1.1.m1.1" class="ltx_Math" alttext="&gt;&gt;" display="inline"><semantics id="S5.T2.1.1.1.m1.1a"><mo id="S5.T2.1.1.1.m1.1.1" xref="S5.T2.1.1.1.m1.1.1.cmml">&gt;&gt;</mo><annotation-xml encoding="MathML-Content" id="S5.T2.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T2.1.1.1.m1.1.1.cmml" xref="S5.T2.1.1.1.m1.1.1">much-greater-than</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.1.1.1.m1.1c">&gt;&gt;</annotation></semantics></math> Baseline</th>
<th id="S5.T2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" style="padding-left:4.0pt;padding-right:4.0pt;" colspan="6">
<span id="S5.T2.2.2.2.1" class="ltx_text">AdvReg</span> <math id="S5.T2.2.2.2.m1.1" class="ltx_Math" alttext="&lt;&lt;" display="inline"><semantics id="S5.T2.2.2.2.m1.1a"><mo id="S5.T2.2.2.2.m1.1.1" xref="S5.T2.2.2.2.m1.1.1.cmml">&lt;&lt;</mo><annotation-xml encoding="MathML-Content" id="S5.T2.2.2.2.m1.1b"><csymbol cd="latexml" id="S5.T2.2.2.2.m1.1.1.cmml" xref="S5.T2.2.2.2.m1.1.1">much-less-than</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.2.2.2.m1.1c">&lt;&lt;</annotation></semantics></math> Baseline</th>
</tr>
<tr id="S5.T2.4.4" class="ltx_tr">
<th id="S5.T2.4.4.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Question type</th>
<th id="S5.T2.4.4.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Ans.</th>
<th id="S5.T2.4.4.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">N</th>
<th id="S5.T2.4.4.6" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:4.0pt;padding-right:4.0pt;">Base.</th>
<th id="S5.T2.4.4.7" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:4.0pt;padding-right:4.0pt;">Reg.</th>
<th id="S5.T2.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;"><math id="S5.T2.3.3.1.m1.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S5.T2.3.3.1.m1.1a"><mi mathvariant="normal" id="S5.T2.3.3.1.m1.1.1" xref="S5.T2.3.3.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S5.T2.3.3.1.m1.1b"><ci id="S5.T2.3.3.1.m1.1.1.cmml" xref="S5.T2.3.3.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.3.3.1.m1.1c">\Delta</annotation></semantics></math></th>
<th id="S5.T2.4.4.8" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Question type</th>
<th id="S5.T2.4.4.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Ans.</th>
<th id="S5.T2.4.4.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">N</th>
<th id="S5.T2.4.4.11" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:4.0pt;padding-right:4.0pt;">Base.</th>
<th id="S5.T2.4.4.12" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:4.0pt;padding-right:4.0pt;">Reg.</th>
<th id="S5.T2.4.4.2" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column" style="padding-left:4.0pt;padding-right:4.0pt;"><math id="S5.T2.4.4.2.m1.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S5.T2.4.4.2.m1.1a"><mi mathvariant="normal" id="S5.T2.4.4.2.m1.1.1" xref="S5.T2.4.4.2.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S5.T2.4.4.2.m1.1b"><ci id="S5.T2.4.4.2.m1.1.1.cmml" xref="S5.T2.4.4.2.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.4.4.2.m1.1c">\Delta</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T2.4.5.1" class="ltx_tr">
<th id="S5.T2.4.5.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">is there a</th>
<th id="S5.T2.4.5.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S5.T2.4.5.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">6501</th>
<td id="S5.T2.4.5.1.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">16.75</td>
<td id="S5.T2.4.5.1.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">93.41</td>
<td id="S5.T2.4.5.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">49.83</td>
<th id="S5.T2.4.5.1.7" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">is this</th>
<th id="S5.T2.4.5.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S5.T2.4.5.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">13063</th>
<td id="S5.T2.4.5.1.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">76.96</td>
<td id="S5.T2.4.5.1.11" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">64.85</td>
<td id="S5.T2.4.5.1.12" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:4.0pt;padding-right:4.0pt;">-15.82</td>
</tr>
<tr id="S5.T2.4.6.2" class="ltx_tr">
<th id="S5.T2.4.6.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">is this a</th>
<th id="S5.T2.4.6.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S5.T2.4.6.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">7177</th>
<td id="S5.T2.4.6.2.4" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">29.70</td>
<td id="S5.T2.4.6.2.5" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">86.27</td>
<td id="S5.T2.4.6.2.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;">40.60</td>
<th id="S5.T2.4.6.2.7" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">what color is the</th>
<th id="S5.T2.4.6.2.8" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Other</th>
<th id="S5.T2.4.6.2.9" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">4418</th>
<td id="S5.T2.4.6.2.10" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">47.71</td>
<td id="S5.T2.4.6.2.11" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">21.36</td>
<td id="S5.T2.4.6.2.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">-11.64</td>
</tr>
<tr id="S5.T2.4.7.3" class="ltx_tr">
<th id="S5.T2.4.7.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">are the</th>
<th id="S5.T2.4.7.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S5.T2.4.7.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">5037</th>
<td id="S5.T2.4.7.3.4" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">24.99</td>
<td id="S5.T2.4.7.3.5" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">87.07</td>
<td id="S5.T2.4.7.3.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;">31.27</td>
<th id="S5.T2.4.7.3.7" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">what</th>
<th id="S5.T2.4.7.3.8" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Other</th>
<th id="S5.T2.4.7.3.9" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">8646</th>
<td id="S5.T2.4.7.3.10" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">38.48</td>
<td id="S5.T2.4.7.3.11" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">25.28</td>
<td id="S5.T2.4.7.3.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">-11.42</td>
</tr>
<tr id="S5.T2.4.8.4" class="ltx_tr">
<th id="S5.T2.4.8.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">does the</th>
<th id="S5.T2.4.8.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S5.T2.4.8.4.3" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">3525</th>
<td id="S5.T2.4.8.4.4" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">24.02</td>
<td id="S5.T2.4.8.4.5" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">94.34</td>
<td id="S5.T2.4.8.4.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;">24.79</td>
<th id="S5.T2.4.8.4.7" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">what is the</th>
<th id="S5.T2.4.8.4.8" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Other</th>
<th id="S5.T2.4.8.4.9" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">6363</th>
<td id="S5.T2.4.8.4.10" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">41.49</td>
<td id="S5.T2.4.8.4.11" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">28.51</td>
<td id="S5.T2.4.8.4.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">-8.26</td>
</tr>
<tr id="S5.T2.4.9.5" class="ltx_tr">
<th id="S5.T2.4.9.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">is</th>
<th id="S5.T2.4.9.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S5.T2.4.9.5.3" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">3154</th>
<td id="S5.T2.4.9.5.4" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">32.84</td>
<td id="S5.T2.4.9.5.5" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">92.38</td>
<td id="S5.T2.4.9.5.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;">18.78</td>
<th id="S5.T2.4.9.5.7" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">is the</th>
<th id="S5.T2.4.9.5.8" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Other</th>
<th id="S5.T2.4.9.5.9" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">1148</th>
<td id="S5.T2.4.9.5.10" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">50.44</td>
<td id="S5.T2.4.9.5.11" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">4.40</td>
<td id="S5.T2.4.9.5.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">-5.29</td>
</tr>
<tr id="S5.T2.4.10.6" class="ltx_tr">
<th id="S5.T2.4.10.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">are they</th>
<th id="S5.T2.4.10.6.2" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S5.T2.4.10.6.3" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">1577</th>
<td id="S5.T2.4.10.6.4" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">27.96</td>
<td id="S5.T2.4.10.6.5" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">89.40</td>
<td id="S5.T2.4.10.6.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;">9.69</td>
<th id="S5.T2.4.10.6.7" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">what kind of</th>
<th id="S5.T2.4.10.6.8" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Other</th>
<th id="S5.T2.4.10.6.9" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">3141</th>
<td id="S5.T2.4.10.6.10" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">51.43</td>
<td id="S5.T2.4.10.6.11" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">35.51</td>
<td id="S5.T2.4.10.6.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">-5.00</td>
</tr>
<tr id="S5.T2.4.11.7" class="ltx_tr">
<th id="S5.T2.4.11.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">do you</th>
<th id="S5.T2.4.11.7.2" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S5.T2.4.11.7.3" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">1083</th>
<td id="S5.T2.4.11.7.4" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">26.14</td>
<td id="S5.T2.4.11.7.5" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">92.32</td>
<td id="S5.T2.4.11.7.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;">7.17</td>
<th id="S5.T2.4.11.7.7" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">how many</th>
<th id="S5.T2.4.11.7.8" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Number</th>
<th id="S5.T2.4.11.7.9" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">15917</th>
<td id="S5.T2.4.11.7.10" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">15.90</td>
<td id="S5.T2.4.11.7.11" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">13.01</td>
<td id="S5.T2.4.11.7.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">-4.60</td>
</tr>
<tr id="S5.T2.4.12.8" class="ltx_tr">
<th id="S5.T2.4.12.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">is there</th>
<th id="S5.T2.4.12.8.2" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S5.T2.4.12.8.3" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">5265</th>
<td id="S5.T2.4.12.8.4" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">68.83</td>
<td id="S5.T2.4.12.8.5" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">78.45</td>
<td id="S5.T2.4.12.8.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;">5.06</td>
<th id="S5.T2.4.12.8.7" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">what type of</th>
<th id="S5.T2.4.12.8.8" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Other</th>
<th id="S5.T2.4.12.8.9" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">1995</th>
<td id="S5.T2.4.12.8.10" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">54.74</td>
<td id="S5.T2.4.12.8.11" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">36.30</td>
<td id="S5.T2.4.12.8.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">-3.68</td>
</tr>
<tr id="S5.T2.4.13.9" class="ltx_tr">
<th id="S5.T2.4.13.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">is the person</th>
<th id="S5.T2.4.13.9.2" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Yes/No</th>
<th id="S5.T2.4.13.9.3" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">757</th>
<td id="S5.T2.4.13.9.4" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">41.64</td>
<td id="S5.T2.4.13.9.5" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">92.46</td>
<td id="S5.T2.4.13.9.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;">3.85</td>
<th id="S5.T2.4.13.9.7" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">none of the above</th>
<th id="S5.T2.4.13.9.8" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">Other</th>
<th id="S5.T2.4.13.9.9" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:4.0pt;padding-right:4.0pt;">2057</th>
<td id="S5.T2.4.13.9.10" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">29.65</td>
<td id="S5.T2.4.13.9.11" class="ltx_td ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">13.66</td>
<td id="S5.T2.4.13.9.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:4.0pt;padding-right:4.0pt;">-3.29</td>
</tr>
<tr id="S5.T2.4.14.10" class="ltx_tr">
<th id="S5.T2.4.14.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">how many people are</th>
<th id="S5.T2.4.14.10.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">Number</th>
<th id="S5.T2.4.14.10.3" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">2118</th>
<td id="S5.T2.4.14.10.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">11.96</td>
<td id="S5.T2.4.14.10.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">21.08</td>
<td id="S5.T2.4.14.10.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:4.0pt;padding-right:4.0pt;">1.93</td>
<th id="S5.T2.4.14.10.7" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">what color are the</th>
<th id="S5.T2.4.14.10.8" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">Other</th>
<th id="S5.T2.4.14.10.9" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">1435</th>
<td id="S5.T2.4.14.10.10" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">56.93</td>
<td id="S5.T2.4.14.10.11" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">35.74</td>
<td id="S5.T2.4.14.10.12" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:4.0pt;padding-right:4.0pt;">-3.04</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Comparison of relative strengths and weaknesses of regularized and baseline models. The top 10 question types for which the regularized model outperforms the baseline are shown on the left, and vice versa on the right.</figcaption>
</figure>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Error Analysis</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">We performed quantitative and qualitative error analyses to understand how <span id="S6.p1.1.1" class="ltx_text">AdvReg</span> affects model inferences on different kinds of examples. To best highlight the effect of <span id="S6.p1.1.2" class="ltx_text">AdvReg</span>, both analyses were performed on VQA-CP v1 test, where the change in priors is more pronounced. In both analyses, we compare our best <span id="S6.p1.1.3" class="ltx_text">AdvReg</span> model (which did not use GRL scheduling) and the baseline model.</p>
</div>
<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Quantitative Analysis</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p id="S6.SS1.p1.1" class="ltx_p">We first explore how model performance differs by question type. In the VQA datasets, each question is assigned a type corresponding to the 64 most common prefixes (e.g., “Is there a…?”) or “none of the above.” Additionally, each example is given an answer type (Yes/No, Number, Other).<span id="footnote6" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>Note that the mapping between question types and answer types is not exactly one-to-one. However, for a given question type, a single answer type typically predominates; therefore, we are able to draw an approximate correspondence between question and answer types.</span></span></span></p>
</div>
<div id="S6.SS1.p2" class="ltx_para">
<p id="S6.SS1.p2.1" class="ltx_p">To quantify the relative performance of the <span id="S6.SS1.p2.1.1" class="ltx_text">AdvReg</span> and baseline models, we computed a difference metric, weighted by the number of questions <math id="S6.SS1.p2.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S6.SS1.p2.1.m1.1a"><mi id="S6.SS1.p2.1.m1.1.1" xref="S6.SS1.p2.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.1.m1.1b"><ci id="S6.SS1.p2.1.m1.1.1.cmml" xref="S6.SS1.p2.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.1.m1.1c">N</annotation></semantics></math> of the given type:</p>
<table id="S6.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S6.Ex1.m1.1" class="ltx_Math" alttext="\Delta=\tfrac{N}{100}\big{(}\text{score}_{\text{baseline}}-\text{score}_{\text{regularized}}\big{)}" display="block"><semantics id="S6.Ex1.m1.1a"><mrow id="S6.Ex1.m1.1.1" xref="S6.Ex1.m1.1.1.cmml"><mi mathvariant="normal" id="S6.Ex1.m1.1.1.3" xref="S6.Ex1.m1.1.1.3.cmml">Δ</mi><mo id="S6.Ex1.m1.1.1.2" xref="S6.Ex1.m1.1.1.2.cmml">=</mo><mrow id="S6.Ex1.m1.1.1.1" xref="S6.Ex1.m1.1.1.1.cmml"><mstyle displaystyle="false" id="S6.Ex1.m1.1.1.1.3" xref="S6.Ex1.m1.1.1.1.3.cmml"><mfrac id="S6.Ex1.m1.1.1.1.3a" xref="S6.Ex1.m1.1.1.1.3.cmml"><mi id="S6.Ex1.m1.1.1.1.3.2" xref="S6.Ex1.m1.1.1.1.3.2.cmml">N</mi><mn id="S6.Ex1.m1.1.1.1.3.3" xref="S6.Ex1.m1.1.1.1.3.3.cmml">100</mn></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S6.Ex1.m1.1.1.1.2" xref="S6.Ex1.m1.1.1.1.2.cmml">​</mo><mrow id="S6.Ex1.m1.1.1.1.1.1" xref="S6.Ex1.m1.1.1.1.1.1.1.cmml"><mo maxsize="120%" minsize="120%" id="S6.Ex1.m1.1.1.1.1.1.2" xref="S6.Ex1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S6.Ex1.m1.1.1.1.1.1.1" xref="S6.Ex1.m1.1.1.1.1.1.1.cmml"><msub id="S6.Ex1.m1.1.1.1.1.1.1.2" xref="S6.Ex1.m1.1.1.1.1.1.1.2.cmml"><mtext id="S6.Ex1.m1.1.1.1.1.1.1.2.2" xref="S6.Ex1.m1.1.1.1.1.1.1.2.2a.cmml">score</mtext><mtext id="S6.Ex1.m1.1.1.1.1.1.1.2.3" xref="S6.Ex1.m1.1.1.1.1.1.1.2.3a.cmml">baseline</mtext></msub><mo id="S6.Ex1.m1.1.1.1.1.1.1.1" xref="S6.Ex1.m1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S6.Ex1.m1.1.1.1.1.1.1.3" xref="S6.Ex1.m1.1.1.1.1.1.1.3.cmml"><mtext id="S6.Ex1.m1.1.1.1.1.1.1.3.2" xref="S6.Ex1.m1.1.1.1.1.1.1.3.2a.cmml">score</mtext><mtext id="S6.Ex1.m1.1.1.1.1.1.1.3.3" xref="S6.Ex1.m1.1.1.1.1.1.1.3.3a.cmml">regularized</mtext></msub></mrow><mo maxsize="120%" minsize="120%" id="S6.Ex1.m1.1.1.1.1.1.3" xref="S6.Ex1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex1.m1.1b"><apply id="S6.Ex1.m1.1.1.cmml" xref="S6.Ex1.m1.1.1"><eq id="S6.Ex1.m1.1.1.2.cmml" xref="S6.Ex1.m1.1.1.2"></eq><ci id="S6.Ex1.m1.1.1.3.cmml" xref="S6.Ex1.m1.1.1.3">Δ</ci><apply id="S6.Ex1.m1.1.1.1.cmml" xref="S6.Ex1.m1.1.1.1"><times id="S6.Ex1.m1.1.1.1.2.cmml" xref="S6.Ex1.m1.1.1.1.2"></times><apply id="S6.Ex1.m1.1.1.1.3.cmml" xref="S6.Ex1.m1.1.1.1.3"><divide id="S6.Ex1.m1.1.1.1.3.1.cmml" xref="S6.Ex1.m1.1.1.1.3"></divide><ci id="S6.Ex1.m1.1.1.1.3.2.cmml" xref="S6.Ex1.m1.1.1.1.3.2">𝑁</ci><cn type="integer" id="S6.Ex1.m1.1.1.1.3.3.cmml" xref="S6.Ex1.m1.1.1.1.3.3">100</cn></apply><apply id="S6.Ex1.m1.1.1.1.1.1.1.cmml" xref="S6.Ex1.m1.1.1.1.1.1"><minus id="S6.Ex1.m1.1.1.1.1.1.1.1.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.1"></minus><apply id="S6.Ex1.m1.1.1.1.1.1.1.2.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S6.Ex1.m1.1.1.1.1.1.1.2.1.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S6.Ex1.m1.1.1.1.1.1.1.2.2a.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.2.2"><mtext id="S6.Ex1.m1.1.1.1.1.1.1.2.2.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.2.2">score</mtext></ci><ci id="S6.Ex1.m1.1.1.1.1.1.1.2.3a.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S6.Ex1.m1.1.1.1.1.1.1.2.3.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.2.3">baseline</mtext></ci></apply><apply id="S6.Ex1.m1.1.1.1.1.1.1.3.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S6.Ex1.m1.1.1.1.1.1.1.3.1.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S6.Ex1.m1.1.1.1.1.1.1.3.2a.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.3.2"><mtext id="S6.Ex1.m1.1.1.1.1.1.1.3.2.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.3.2">score</mtext></ci><ci id="S6.Ex1.m1.1.1.1.1.1.1.3.3a.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.3.3"><mtext mathsize="70%" id="S6.Ex1.m1.1.1.1.1.1.1.3.3.cmml" xref="S6.Ex1.m1.1.1.1.1.1.1.3.3">regularized</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex1.m1.1c">\Delta=\tfrac{N}{100}\big{(}\text{score}_{\text{baseline}}-\text{score}_{\text{regularized}}\big{)}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S6.SS1.p2.2" class="ltx_p"><a href="#S5.T2" title="In 5.3 Effect of GRL scheduling ‣ 5 Results ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">2</span></a> shows the question types with the largest and smallest <math id="S6.SS1.p2.2.m1.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S6.SS1.p2.2.m1.1a"><mi mathvariant="normal" id="S6.SS1.p2.2.m1.1.1" xref="S6.SS1.p2.2.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.2.m1.1b"><ci id="S6.SS1.p2.2.m1.1.1.cmml" xref="S6.SS1.p2.2.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.2.m1.1c">\Delta</annotation></semantics></math> values, respectively. Compared to the baseline, the <span id="S6.SS1.p2.2.1" class="ltx_text">AdvReg</span> model excels at Yes/No examples, but suffers on Other examples. Overall, <span id="S6.SS1.p2.2.2" class="ltx_text">AdvReg</span> improves Yes/No test performance by 35.06 points, but reduces Other performance by 15.74 points (<a href="#S4.T1" title="In 4.1 Data ‣ 4 Experimental Setup ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a>). Additionally, <span id="S6.SS1.p2.2.3" class="ltx_text">AdvReg</span> reduces Number test performance by 0.95%, though in general both models score poorly on counting questions—a known shortcoming of many VQA models <cite class="ltx_cite ltx_citemacro_citep">(Chattopadhyay et al., <a href="#bib.bib7" title="" class="ltx_ref">2017</a>; Trott et al., <a href="#bib.bib26" title="" class="ltx_ref">2018</a>; Zhang et al., <a href="#bib.bib29" title="" class="ltx_ref">2018</a>)</cite>.</p>
</div>
<div id="S6.SS1.p3" class="ltx_para">
<p id="S6.SS1.p3.1" class="ltx_p">These results suggest that much of the observed advantage of <span id="S6.SS1.p3.1.1" class="ltx_text">AdvReg</span> on VQA-CP test is due to the extreme biases present in the dataset. In VQA-CP, Yes/No questions encode very strong priors (e.g., “no” is the answer to roughly 90% of the questions beginning with “Is there a…?” in the v1 training set). Because this prior is inverted, any learned association between question prefixes and answers becomes harmful at test time. That <span id="S6.SS1.p3.1.2" class="ltx_text">AdvReg</span> scores well above chance (77.64%) on Yes/No examples suggests that this model has, to a certain degree, learned to answer binary questions without relying on language priors.</p>
</div>
<div id="S6.SS1.p4" class="ltx_para">
<p id="S6.SS1.p4.1" class="ltx_p">In contrast, the 15.74% drop on Other-type examples implies that <span id="S6.SS1.p4.1.1" class="ltx_text">AdvReg</span> impairs the model’s ability to make inferences about questions with heterogeneous answers. Other-type questions typically have 3–20 top answers. This finding suggests that <span id="S6.SS1.p4.1.2" class="ltx_text">AdvReg</span> interferes with learning of language cues in the question that yield key information about the answer.</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>Qualitative Analysis</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.1" class="ltx_p">In this section, we examine individual examples to highlight common success and failure modes of <span id="S6.SS2.p1.1.1" class="ltx_text">AdvReg</span>. We consider different question types and compare the prior answer distribution in the train/test sets to the posterior distribution assigned by the <span id="S6.SS2.p1.1.2" class="ltx_text">AdvReg</span> and baseline models.
Expanding on the visualization format introduced by <cite class="ltx_cite ltx_citemacro_citet">Ramakrishnan et al. (<a href="#bib.bib22" title="" class="ltx_ref">2018</a>, Fig. 3)</cite>, <a href="#S6.F5" title="In 6.2 Qualitative Analysis ‣ 6 Error Analysis ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">5</span></a> shows examples where the <span id="S6.SS2.p1.1.3" class="ltx_text">AdvReg</span> model successfully answered the question while the baseline model was wrong.
In these cases, the baseline model prediction relies on the prior answer distribution in the train set, while the <span id="S6.SS2.p1.1.4" class="ltx_text">AdvReg</span> model is able to overcome these priors to infer the correct answer.</p>
</div>
<figure id="S6.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S6.F5.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/1906.08430/assets/figures/successes/animal_8.jpg" id="S6.F5.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="277" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S6.F5.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/1906.08430/assets/figures/successes/sport_404.jpg" id="S6.F5.2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="306" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S6.F5.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/1906.08430/assets/figures/successes/color_8.jpg" id="S6.F5.3.g1" class="ltx_graphics ltx_img_landscape" width="598" height="278" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S6.F5.4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/1906.08430/assets/figures/successes/is_there_a_7.jpg" id="S6.F5.4.g1" class="ltx_graphics ltx_img_landscape" width="598" height="270" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Visualization of <span id="S6.F5.7.1" class="ltx_text">AdvReg</span> success cases. In each example, the leftmost two bars show the prior distribution over answers for the given question type (in bold). The rightmost two bars show the scores assigned to different answers by the baseline and <span id="S6.F5.8.2" class="ltx_text">AdvReg</span> models for a particular example of the given type. The baseline model frequently assigns high probability to incorrect answers that are prominent in the training distribution. In contrast, the regularized model is able to make correct inferences in cases where the ground truth answer has low prior probability. Additional examples are provided in <a href="#A1.SS3" title="A.3 Additional Examples ‣ Appendix A Appendix ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">A.3</span></a>.</figcaption>
</figure>
<figure id="S6.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S6.F6.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/1906.08430/assets/figures/failures/animal_5.jpg" id="S6.F6.sf1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="318" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span><span id="S6.F6.sf1.2.1" class="ltx_text">AdvReg</span> model fails to infer the correct form of the answer.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S6.F6.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/1906.08430/assets/figures/failures/color_304.jpg" id="S6.F6.sf2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="289" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span><span id="S6.F6.sf2.2.1" class="ltx_text">AdvReg</span> model fails to utilize real-world language priors.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S6.F6.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/1906.08430/assets/figures/failures/color_157.jpg" id="S6.F6.sf3.g1" class="ltx_graphics ltx_img_landscape" width="598" height="279" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span><span id="S6.F6.sf3.2.1" class="ltx_text">AdvReg</span> model distracted by visually-salient image features.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S6.F6.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/1906.08430/assets/figures/failures/sport_218.jpg" id="S6.F6.sf4.g1" class="ltx_graphics ltx_img_landscape" width="598" height="289" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span><span id="S6.F6.sf4.2.1" class="ltx_text">AdvReg</span> model relies on image features, while baseline model relies on language priors.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Common failure modes of adversarial regularization. Additional examples are provided in <a href="#A1.SS3" title="A.3 Additional Examples ‣ Appendix A Appendix ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">A.3</span></a>.</figcaption>
</figure>
<div id="S6.SS2.p2" class="ltx_para">
<p id="S6.SS2.p2.1" class="ltx_p">Turning to failures, we investigate what kinds of errors the <span id="S6.SS2.p2.1.1" class="ltx_text">AdvReg</span> model makes on Other-type examples—the largest source of errors according to <a href="#S6.SS1" title="6.1 Quantitative Analysis ‣ 6 Error Analysis ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">6.1</span></a>.
We randomly selected instances where the regularized model produced an incorrect answer, and manually grouped these examples into four approximate categories corresponding to different failure modes.
<a href="#S6.F6" title="In 6.2 Qualitative Analysis ‣ 6 Error Analysis ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">6</span></a> shows representative examples for each of these failure modes; more examples are available in <a href="#A1.SS3" title="A.3 Additional Examples ‣ Appendix A Appendix ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">A.3</span></a>.</p>
</div>
<div id="S6.SS2.p3" class="ltx_para">
<p id="S6.SS2.p3.1" class="ltx_p"><a href="#S6.F6.sf1" title="In Figure 6 ‣ 6.2 Qualitative Analysis ‣ 6 Error Analysis ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">6(a)</span></a> shows an example where the regularized model fails to infer the correct form of the answer from the question, answering “beach” to a question that entails animal answers.
In <a href="#S6.F6.sf2" title="In Figure 6 ‣ 6.2 Qualitative Analysis ‣ 6 Error Analysis ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">6(b)</span></a>, the regularized model struggles with a question that relies on real-world language priors (i.e., mustard is yellow).
In <a href="#S6.F6.sf3" title="In Figure 6 ‣ 6.2 Qualitative Analysis ‣ 6 Error Analysis ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">6(c)</span></a>, the parrot’s salient orange color distracts the regularized model from attending to the correct image region.
<a href="#S6.F6.sf4" title="In Figure 6 ‣ 6.2 Qualitative Analysis ‣ 6 Error Analysis ‣ Adversarial Regularization for Visual Question Answering: Strengths, Shortcomings, and Side Effects" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span> <span class="ltx_text ltx_ref_tag">6(d)</span></a> shows an example where the regularized model relies on visual features (the cat), while the baseline relies on language priors (tennis is a common answer to sport questions).
These findings suggest that <span id="S6.SS2.p3.1.1" class="ltx_text">AdvReg</span> may encourage models to rely on visual features at the expense of learning to interpret task-relevant linguistic information.</p>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusion</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">In this work, we investigated several strengths and limitations of adversarial regularization, a recently introduced technique for reducing language biases in VQA models. Though we find <span id="S7.p1.1.1" class="ltx_text">AdvReg</span> improves performance on out-of-domain examples in VQA-CP, one concern is that the pendulum has swung too far: there are both quantitative and qualitative signs that our models are over-regularized. Quantitatively, the performance of our <span id="S7.p1.1.2" class="ltx_text">AdvReg</span> models suffers on in-domain examples in VQA-CP and the original VQA datasets. Additionally, while <span id="S7.p1.1.3" class="ltx_text">AdvReg</span> boosts performance on binary questions, it impairs performance on other question types. Qualitatively, we observe that <span id="S7.p1.1.4" class="ltx_text">AdvReg</span> models draw on salient image features while ignoring important linguistic cues in questions. These results demonstrate that <span id="S7.p1.1.5" class="ltx_text">AdvReg</span> interferes with certain key aspects of reasoning.</p>
</div>
<div id="S7.p2" class="ltx_para">
<p id="S7.p2.1" class="ltx_p">Our findings highlight the need for further research in two areas: datasets and modeling. The lack of a validation set in VQA-CP makes it difficult to perform hyperparameter tuning in a principled way. Moreover, the exaggerated biases in the existing VQA-CP splits may encourage over-regularization, as evidenced by the sharp discrepancy between <span id="S7.p2.1.1" class="ltx_text">AdvReg</span> performance on binary and non-binary question types. To address these issues, future iterations of VQA-CP could contain three or more splits with moderate but distinct ratios of Yes/No answers. Restructuring VQA-CP in this way would help balance the importance of binary and non-binary questions, while providing researchers with more sound evaluation metrics.</p>
</div>
<div id="S7.p3" class="ltx_para">
<p id="S7.p3.1" class="ltx_p">On the modeling side, our findings suggest that <span id="S7.p3.1.1" class="ltx_text">AdvReg</span> requires further refinement to avoid impairing learning of task-relevant linguistic information. One possible approach would be to use attention to apply different amounts of regularization to different words in the question. In this way, regularization could be focused on the first few words of the question (e.g., “Is there a…?”) that encode answer distribution biases, while preserving other useful linguistic information. Such enhancements could lead to more targeted regularization techniques that preserve the benefits of <span id="S7.p3.1.2" class="ltx_text">AdvReg</span> while reducing the drawbacks discussed in this work.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">We would like to thank Alexander Rush for providing helpful advice and comments throughout our work on this project.
GG and YB were supported by the Harvard Mind, Brain, and Behavior Initiative.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Agrawal et al. (2016)</span>
<span class="ltx_bibblock">
Aishwarya Agrawal, Dhruv Batra, and Devi Parikh. 2016.

</span>
<span class="ltx_bibblock">Analyzing the Behavior of Visual Question Answering Models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">EMNLP</em>, pages 1955–1960.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Agrawal et al. (2018)</span>
<span class="ltx_bibblock">
Aishwarya Agrawal, Dhruv Batra, Devi Parikh, and Aniruddha Kembhavi. 2018.

</span>
<span class="ltx_bibblock">Don’t Just Assume; Look and Answer: Overcoming Priors for Visual
Question Answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, pages 4971–4980.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anderson et al. (2018)</span>
<span class="ltx_bibblock">
Peter Anderson, Xiaodong He, Chris Buehler, Damien Teney, Mark Johnson, Stephen
Gould, and Lei Zhang. 2018.

</span>
<span class="ltx_bibblock">Bottom-Up and Top-Down Attention for Image Captioning and Visual
Question Answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, volume 3, page 6.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Antol et al. (2015)</span>
<span class="ltx_bibblock">
Stanislaw Antol, Aishwarya Agrawal, Jiasen Lu, Margaret Mitchell, Dhruv Batra,
C Lawrence Zitnick, and Devi Parikh. 2015.

</span>
<span class="ltx_bibblock">VQA: Visual Question Answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">ICCV</em>, pages 2425–2433.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Belinkov et al. (2019)</span>
<span class="ltx_bibblock">
Yonatan Belinkov, Adam Poliak, Stuart M. Shieber, Benjamin Van Durme, and
Alexander Rush. 2019.

</span>
<span class="ltx_bibblock">On Adversarial Removal of Hypothesis-only Bias in Natural Language
Inference.

</span>
<span class="ltx_bibblock">In <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">The Eighth Joint Conference on Lexical and Computational
Semantics (*SEM)</em>.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chao et al. (2018)</span>
<span class="ltx_bibblock">
Wei-Lun Chao, Hexiang Hu, and Fei Sha. 2018.

</span>
<span class="ltx_bibblock">Being Negative but Constructively: Lessons Learnt from Creating
Better Visual Question Answering Datasets.

</span>
<span class="ltx_bibblock">In <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">NAACL-HLT</em>, volume 1, pages 431–441.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chattopadhyay et al. (2017)</span>
<span class="ltx_bibblock">
Prithvijit Chattopadhyay, Ramakrishna Vedantam, Ramprasaath R Selvaraju, Dhruv
Batra, and Devi Parikh. 2017.

</span>
<span class="ltx_bibblock">Counting Everyday Objects in Everyday Scenes.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, pages 1135–1144.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Eickhoff (2018)</span>
<span class="ltx_bibblock">
Carsten Eickhoff. 2018.

</span>
<span class="ltx_bibblock">Cognitive Biases in Crowdsourcing.

</span>
<span class="ltx_bibblock">In <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">WSDM</em>, pages 162–170. ACM.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ganin et al. (2016)</span>
<span class="ltx_bibblock">
Yaroslav Ganin, Evgeniya Ustinova, Hana Ajakan, Pascal Germain, Hugo
Larochelle, François Laviolette, Mario Marchand, and Victor Lempitsky.
2016.

</span>
<span class="ltx_bibblock">Domain-Adversarial Training of Neural Networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">JMLR</em>, 17(1):2096–2030.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Goyal et al. (2017)</span>
<span class="ltx_bibblock">
Yash Goyal, Tejas Khot, Douglas Summers-Stay, Dhruv Batra, and Devi Parikh.
2017.

</span>
<span class="ltx_bibblock">Making the V in VQA matter: Elevating the Role of Image
Understanding in Visual Question Answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, pages 6904–6913.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gururangan et al. (2018)</span>
<span class="ltx_bibblock">
Suchin Gururangan, Swabha Swayamdipta, Omer Levy, Roy Schwartz, Samuel Bowman,
and Noah A. Smith. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://www.aclweb.org/anthology/N18-2017" title="" class="ltx_ref ltx_href">Annotation
Artifacts in Natural Language Inference Data</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">NAACL-HLT</em>, pages 107–112, New Orleans, Louisiana.
Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendricks et al. (2018)</span>
<span class="ltx_bibblock">
Lisa Anne Hendricks, Kaylee Burns, Kate Saenko, Trevor Darrell, and Anna
Rohrbach. 2018.

</span>
<span class="ltx_bibblock">Women also Snowboard: Overcoming Bias in Captioning Models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, pages 771–787.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jabri et al. (2016)</span>
<span class="ltx_bibblock">
Allan Jabri, Armand Joulin, and Laurens van der Maaten. 2016.

</span>
<span class="ltx_bibblock">Revisiting Visual Question Answering Baselines.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, pages 727–739. Springer.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2018a)</span>
<span class="ltx_bibblock">
Yu Jiang, Vivek Natarajan, Xinlei Chen, Marcus Rohrbach, Dhruv Batra, and Devi
Parikh. 2018a.

</span>
<span class="ltx_bibblock">Pythia.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/facebookresearch/pythia" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/facebookresearch/pythia</a>.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2018b)</span>
<span class="ltx_bibblock">
Yu Jiang, Vivek Natarajan, Xinlei Chen, Marcus Rohrbach, Dhruv Batra, and Devi
Parikh. 2018b.

</span>
<span class="ltx_bibblock">Pythia v0.1: The Winning Entry to the VQA Challenge 2018.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1807.09956</em>.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Johnson et al. (2017)</span>
<span class="ltx_bibblock">
Justin Johnson, Bharath Hariharan, Laurens van der Maaten, Li Fei-Fei,
C Lawrence Zitnick, and Ross Girshick. 2017.

</span>
<span class="ltx_bibblock">CLEVR: A Diagnostic Dataset for Compositional Language and
Elementary Visual Reasoning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, pages 1988–1997. IEEE.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kaushik and Lipton (2018)</span>
<span class="ltx_bibblock">
Divyansh Kaushik and Zachary C. Lipton. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://www.aclweb.org/anthology/D18-1546" title="" class="ltx_ref ltx_href">How Much Reading
Does Reading Comprehension Require? A Critical Investigation of Popular
Benchmarks</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">EMNLP</em>, pages 5010–5015, Brussels, Belgium. ACL.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2014)</span>
<span class="ltx_bibblock">
Tsung-Yi Lin, Michael Maire, Serge Belongie, James Hays, Pietro Perona, Deva
Ramanan, Piotr Dollár, and C Lawrence Zitnick. 2014.

</span>
<span class="ltx_bibblock">Microsoft COCO: Common Objects in Context.

</span>
<span class="ltx_bibblock">In <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, pages 740–755. Springer.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">van Miltenburg (2016)</span>
<span class="ltx_bibblock">
Emiel van Miltenburg. 2016.

</span>
<span class="ltx_bibblock">Stereotyping and Bias in the Flickr30k Dataset.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1605.06083</em>.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Misra et al. (2016)</span>
<span class="ltx_bibblock">
Ishan Misra, C Lawrence Zitnick, Margaret Mitchell, and Ross Girshick. 2016.

</span>
<span class="ltx_bibblock">Seeing Through the Human Reporting Bias: Visual Classifiers from
Noisy Human-Centric Labels.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, pages 2930–2939.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Poliak et al. (2018)</span>
<span class="ltx_bibblock">
Adam Poliak, Jason Naradowsky, Aparajita Haldar, Rachel Rudinger, and Benjamin
Van Durme. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://www.aclweb.org/anthology/S18-2023" title="" class="ltx_ref ltx_href">Hypothesis Only
Baselines in Natural Language Inference</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">*SEM</em>, pages 180–191, New Orleans, Louisiana. ACL.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ramakrishnan et al. (2018)</span>
<span class="ltx_bibblock">
Sainandan Ramakrishnan, Aishwarya Agrawal, and Stefan Lee. 2018.

</span>
<span class="ltx_bibblock">Overcoming Language Priors in Visual Question Answering with
Adversarial Regularization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">NIPS</em>, pages 1548–1558.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schwartz et al. (2017)</span>
<span class="ltx_bibblock">
Roy Schwartz, Maarten Sap, Ioannis Konstas, Leila Zilles, Yejin Choi, and
Noah A. Smith. 2017.

</span>
<span class="ltx_bibblock">Story Cloze Task: UW NLP System.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">LSDSem</em>.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Teney et al. (2018)</span>
<span class="ltx_bibblock">
Damien Teney, Peter Anderson, Xiaodong He, and Anton van den Hengel. 2018.

</span>
<span class="ltx_bibblock">Tips and Tricks for Visual Question Answering: Learnings from the
2017 Challenge.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, pages 4223–4232.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thomason et al. (2019)</span>
<span class="ltx_bibblock">
Jesse Thomason, Daniel Gordon, and Yonatan Bisk. 2019.

</span>
<span class="ltx_bibblock">Shifting the baseline: Single modality performance on visual
navigation &amp; qa.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Conference of the North American Chapter of the Association
for Computational Linguistics (NAACL)</em>.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Trott et al. (2018)</span>
<span class="ltx_bibblock">
Alexander Trott, Caiming Xiong, and Richard Socher. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://openreview.net/forum?id=S1J2ZyZ0Z" title="" class="ltx_ref ltx_href">Interpretable
Counting for Visual Question Answering</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">ICLR</em>.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tsuchiya (2018)</span>
<span class="ltx_bibblock">
Masatoshi Tsuchiya. 2018.

</span>
<span class="ltx_bibblock">Performance Impact Caused by Hidden Bias of Training Data for
Recognizing Textual Entailment.

</span>
<span class="ltx_bibblock">In <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">LREC</em>.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2016)</span>
<span class="ltx_bibblock">
Peng Zhang, Yash Goyal, Douglas Summers-Stay, Dhruv Batra, and Devi Parikh.
2016.

</span>
<span class="ltx_bibblock">Yin and Yang: Balancing and Answering Binary Visual Questions.

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, pages 5014–5022. IEEE.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2018)</span>
<span class="ltx_bibblock">
Yan Zhang, Jonathon Hare, and Adam Prügel-Bennett. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://openreview.net/forum?id=B12Js_yRb" title="" class="ltx_ref ltx_href">Learning to Count
Objects in Natural Images for Visual Question Answering</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">ICLR</em>.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. (2017)</span>
<span class="ltx_bibblock">
Jieyu Zhao, Tianlu Wang, Mark Yatskar, Vicente Ordonez, and Kai-Wei Chang.
2017.

</span>
<span class="ltx_bibblock">Men Also Like Shopping: Reducing Gender Bias Amplification using
Corpus-level Constraints.

</span>
<span class="ltx_bibblock">In <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">EMNLP</em>.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Implementation Details</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p id="A1.SS1.p1.3" class="ltx_p">Here, we provide additional details of our implementation.
We experimented with different numbers of hidden layers <math id="A1.SS1.p1.1.m1.3" class="ltx_Math" alttext="N=1,2,3" display="inline"><semantics id="A1.SS1.p1.1.m1.3a"><mrow id="A1.SS1.p1.1.m1.3.4" xref="A1.SS1.p1.1.m1.3.4.cmml"><mi id="A1.SS1.p1.1.m1.3.4.2" xref="A1.SS1.p1.1.m1.3.4.2.cmml">N</mi><mo id="A1.SS1.p1.1.m1.3.4.1" xref="A1.SS1.p1.1.m1.3.4.1.cmml">=</mo><mrow id="A1.SS1.p1.1.m1.3.4.3.2" xref="A1.SS1.p1.1.m1.3.4.3.1.cmml"><mn id="A1.SS1.p1.1.m1.1.1" xref="A1.SS1.p1.1.m1.1.1.cmml">1</mn><mo id="A1.SS1.p1.1.m1.3.4.3.2.1" xref="A1.SS1.p1.1.m1.3.4.3.1.cmml">,</mo><mn id="A1.SS1.p1.1.m1.2.2" xref="A1.SS1.p1.1.m1.2.2.cmml">2</mn><mo id="A1.SS1.p1.1.m1.3.4.3.2.2" xref="A1.SS1.p1.1.m1.3.4.3.1.cmml">,</mo><mn id="A1.SS1.p1.1.m1.3.3" xref="A1.SS1.p1.1.m1.3.3.cmml">3</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.1.m1.3b"><apply id="A1.SS1.p1.1.m1.3.4.cmml" xref="A1.SS1.p1.1.m1.3.4"><eq id="A1.SS1.p1.1.m1.3.4.1.cmml" xref="A1.SS1.p1.1.m1.3.4.1"></eq><ci id="A1.SS1.p1.1.m1.3.4.2.cmml" xref="A1.SS1.p1.1.m1.3.4.2">𝑁</ci><list id="A1.SS1.p1.1.m1.3.4.3.1.cmml" xref="A1.SS1.p1.1.m1.3.4.3.2"><cn type="integer" id="A1.SS1.p1.1.m1.1.1.cmml" xref="A1.SS1.p1.1.m1.1.1">1</cn><cn type="integer" id="A1.SS1.p1.1.m1.2.2.cmml" xref="A1.SS1.p1.1.m1.2.2">2</cn><cn type="integer" id="A1.SS1.p1.1.m1.3.3.cmml" xref="A1.SS1.p1.1.m1.3.3">3</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.1.m1.3c">N=1,2,3</annotation></semantics></math> and hidden units <math id="A1.SS1.p1.2.m2.4" class="ltx_Math" alttext="h=256,512,1024,2048" display="inline"><semantics id="A1.SS1.p1.2.m2.4a"><mrow id="A1.SS1.p1.2.m2.4.5" xref="A1.SS1.p1.2.m2.4.5.cmml"><mi id="A1.SS1.p1.2.m2.4.5.2" xref="A1.SS1.p1.2.m2.4.5.2.cmml">h</mi><mo id="A1.SS1.p1.2.m2.4.5.1" xref="A1.SS1.p1.2.m2.4.5.1.cmml">=</mo><mrow id="A1.SS1.p1.2.m2.4.5.3.2" xref="A1.SS1.p1.2.m2.4.5.3.1.cmml"><mn id="A1.SS1.p1.2.m2.1.1" xref="A1.SS1.p1.2.m2.1.1.cmml">256</mn><mo id="A1.SS1.p1.2.m2.4.5.3.2.1" xref="A1.SS1.p1.2.m2.4.5.3.1.cmml">,</mo><mn id="A1.SS1.p1.2.m2.2.2" xref="A1.SS1.p1.2.m2.2.2.cmml">512</mn><mo id="A1.SS1.p1.2.m2.4.5.3.2.2" xref="A1.SS1.p1.2.m2.4.5.3.1.cmml">,</mo><mn id="A1.SS1.p1.2.m2.3.3" xref="A1.SS1.p1.2.m2.3.3.cmml">1024</mn><mo id="A1.SS1.p1.2.m2.4.5.3.2.3" xref="A1.SS1.p1.2.m2.4.5.3.1.cmml">,</mo><mn id="A1.SS1.p1.2.m2.4.4" xref="A1.SS1.p1.2.m2.4.4.cmml">2048</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.2.m2.4b"><apply id="A1.SS1.p1.2.m2.4.5.cmml" xref="A1.SS1.p1.2.m2.4.5"><eq id="A1.SS1.p1.2.m2.4.5.1.cmml" xref="A1.SS1.p1.2.m2.4.5.1"></eq><ci id="A1.SS1.p1.2.m2.4.5.2.cmml" xref="A1.SS1.p1.2.m2.4.5.2">ℎ</ci><list id="A1.SS1.p1.2.m2.4.5.3.1.cmml" xref="A1.SS1.p1.2.m2.4.5.3.2"><cn type="integer" id="A1.SS1.p1.2.m2.1.1.cmml" xref="A1.SS1.p1.2.m2.1.1">256</cn><cn type="integer" id="A1.SS1.p1.2.m2.2.2.cmml" xref="A1.SS1.p1.2.m2.2.2">512</cn><cn type="integer" id="A1.SS1.p1.2.m2.3.3.cmml" xref="A1.SS1.p1.2.m2.3.3">1024</cn><cn type="integer" id="A1.SS1.p1.2.m2.4.4.cmml" xref="A1.SS1.p1.2.m2.4.4">2048</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.2.m2.4c">h=256,512,1024,2048</annotation></semantics></math> in the adversarial classifier. We found the details of the adversary architecture to have little impact on performance, with the exception that adversaries with <math id="A1.SS1.p1.3.m3.1" class="ltx_Math" alttext="N&gt;1" display="inline"><semantics id="A1.SS1.p1.3.m3.1a"><mrow id="A1.SS1.p1.3.m3.1.1" xref="A1.SS1.p1.3.m3.1.1.cmml"><mi id="A1.SS1.p1.3.m3.1.1.2" xref="A1.SS1.p1.3.m3.1.1.2.cmml">N</mi><mo id="A1.SS1.p1.3.m3.1.1.1" xref="A1.SS1.p1.3.m3.1.1.1.cmml">&gt;</mo><mn id="A1.SS1.p1.3.m3.1.1.3" xref="A1.SS1.p1.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.3.m3.1b"><apply id="A1.SS1.p1.3.m3.1.1.cmml" xref="A1.SS1.p1.3.m3.1.1"><gt id="A1.SS1.p1.3.m3.1.1.1.cmml" xref="A1.SS1.p1.3.m3.1.1.1"></gt><ci id="A1.SS1.p1.3.m3.1.1.2.cmml" xref="A1.SS1.p1.3.m3.1.1.2">𝑁</ci><cn type="integer" id="A1.SS1.p1.3.m3.1.1.3.cmml" xref="A1.SS1.p1.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.3.m3.1c">N&gt;1</annotation></semantics></math> hidden layers were more effective than one-layer adversaries.
Both the adversary and the base VQA model are randomly initialized with a fixed seed at the start of training. We co-train the networks for 16k iterations with two separate PyTorch Adamax optimizers with batch size 512 and learning rate 0.001. Unlike <cite class="ltx_cite ltx_citemacro_citet">Jiang et al. (<a href="#bib.bib15" title="" class="ltx_ref">2018b</a>)</cite>, we keep the learning rate fixed throughout training to minimize the possibility of gradient scaling mismatch between the base model and the adversary. While this modification causes the performance of the baseline VQA model to drop 1.1%, it greatly improves stability and convergence during adversarial training.</p>
</div>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>GRL Scheduling Details</h3>

<div id="A1.SS2.p1" class="ltx_para">
<p id="A1.SS2.p1.6" class="ltx_p">For both VQA-CP v1 and v2, we performed a grid search to determine the optimal hyperparameters <math id="A1.SS2.p1.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="A1.SS2.p1.1.m1.1a"><mi id="A1.SS2.p1.1.m1.1.1" xref="A1.SS2.p1.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.1.m1.1b"><ci id="A1.SS2.p1.1.m1.1.1.cmml" xref="A1.SS2.p1.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.1.m1.1c">\mu</annotation></semantics></math> and <math id="A1.SS2.p1.2.m2.1" class="ltx_Math" alttext="w" display="inline"><semantics id="A1.SS2.p1.2.m2.1a"><mi id="A1.SS2.p1.2.m2.1.1" xref="A1.SS2.p1.2.m2.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.2.m2.1b"><ci id="A1.SS2.p1.2.m2.1.1.cmml" xref="A1.SS2.p1.2.m2.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.2.m2.1c">w</annotation></semantics></math> for the GRL schedule. We tested all combinations of delay <math id="A1.SS2.p1.3.m3.7" class="ltx_Math" alttext="\mu=0,1000,2000,3000,4000,5000,6000" display="inline"><semantics id="A1.SS2.p1.3.m3.7a"><mrow id="A1.SS2.p1.3.m3.7.8" xref="A1.SS2.p1.3.m3.7.8.cmml"><mi id="A1.SS2.p1.3.m3.7.8.2" xref="A1.SS2.p1.3.m3.7.8.2.cmml">μ</mi><mo id="A1.SS2.p1.3.m3.7.8.1" xref="A1.SS2.p1.3.m3.7.8.1.cmml">=</mo><mrow id="A1.SS2.p1.3.m3.7.8.3.2" xref="A1.SS2.p1.3.m3.7.8.3.1.cmml"><mn id="A1.SS2.p1.3.m3.1.1" xref="A1.SS2.p1.3.m3.1.1.cmml">0</mn><mo id="A1.SS2.p1.3.m3.7.8.3.2.1" xref="A1.SS2.p1.3.m3.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.3.m3.2.2" xref="A1.SS2.p1.3.m3.2.2.cmml">1000</mn><mo id="A1.SS2.p1.3.m3.7.8.3.2.2" xref="A1.SS2.p1.3.m3.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.3.m3.3.3" xref="A1.SS2.p1.3.m3.3.3.cmml">2000</mn><mo id="A1.SS2.p1.3.m3.7.8.3.2.3" xref="A1.SS2.p1.3.m3.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.3.m3.4.4" xref="A1.SS2.p1.3.m3.4.4.cmml">3000</mn><mo id="A1.SS2.p1.3.m3.7.8.3.2.4" xref="A1.SS2.p1.3.m3.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.3.m3.5.5" xref="A1.SS2.p1.3.m3.5.5.cmml">4000</mn><mo id="A1.SS2.p1.3.m3.7.8.3.2.5" xref="A1.SS2.p1.3.m3.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.3.m3.6.6" xref="A1.SS2.p1.3.m3.6.6.cmml">5000</mn><mo id="A1.SS2.p1.3.m3.7.8.3.2.6" xref="A1.SS2.p1.3.m3.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.3.m3.7.7" xref="A1.SS2.p1.3.m3.7.7.cmml">6000</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.3.m3.7b"><apply id="A1.SS2.p1.3.m3.7.8.cmml" xref="A1.SS2.p1.3.m3.7.8"><eq id="A1.SS2.p1.3.m3.7.8.1.cmml" xref="A1.SS2.p1.3.m3.7.8.1"></eq><ci id="A1.SS2.p1.3.m3.7.8.2.cmml" xref="A1.SS2.p1.3.m3.7.8.2">𝜇</ci><list id="A1.SS2.p1.3.m3.7.8.3.1.cmml" xref="A1.SS2.p1.3.m3.7.8.3.2"><cn type="integer" id="A1.SS2.p1.3.m3.1.1.cmml" xref="A1.SS2.p1.3.m3.1.1">0</cn><cn type="integer" id="A1.SS2.p1.3.m3.2.2.cmml" xref="A1.SS2.p1.3.m3.2.2">1000</cn><cn type="integer" id="A1.SS2.p1.3.m3.3.3.cmml" xref="A1.SS2.p1.3.m3.3.3">2000</cn><cn type="integer" id="A1.SS2.p1.3.m3.4.4.cmml" xref="A1.SS2.p1.3.m3.4.4">3000</cn><cn type="integer" id="A1.SS2.p1.3.m3.5.5.cmml" xref="A1.SS2.p1.3.m3.5.5">4000</cn><cn type="integer" id="A1.SS2.p1.3.m3.6.6.cmml" xref="A1.SS2.p1.3.m3.6.6">5000</cn><cn type="integer" id="A1.SS2.p1.3.m3.7.7.cmml" xref="A1.SS2.p1.3.m3.7.7">6000</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.3.m3.7c">\mu=0,1000,2000,3000,4000,5000,6000</annotation></semantics></math> and warmup duration <math id="A1.SS2.p1.4.m4.4" class="ltx_Math" alttext="w=1000,2000,3000,4000" display="inline"><semantics id="A1.SS2.p1.4.m4.4a"><mrow id="A1.SS2.p1.4.m4.4.5" xref="A1.SS2.p1.4.m4.4.5.cmml"><mi id="A1.SS2.p1.4.m4.4.5.2" xref="A1.SS2.p1.4.m4.4.5.2.cmml">w</mi><mo id="A1.SS2.p1.4.m4.4.5.1" xref="A1.SS2.p1.4.m4.4.5.1.cmml">=</mo><mrow id="A1.SS2.p1.4.m4.4.5.3.2" xref="A1.SS2.p1.4.m4.4.5.3.1.cmml"><mn id="A1.SS2.p1.4.m4.1.1" xref="A1.SS2.p1.4.m4.1.1.cmml">1000</mn><mo id="A1.SS2.p1.4.m4.4.5.3.2.1" xref="A1.SS2.p1.4.m4.4.5.3.1.cmml">,</mo><mn id="A1.SS2.p1.4.m4.2.2" xref="A1.SS2.p1.4.m4.2.2.cmml">2000</mn><mo id="A1.SS2.p1.4.m4.4.5.3.2.2" xref="A1.SS2.p1.4.m4.4.5.3.1.cmml">,</mo><mn id="A1.SS2.p1.4.m4.3.3" xref="A1.SS2.p1.4.m4.3.3.cmml">3000</mn><mo id="A1.SS2.p1.4.m4.4.5.3.2.3" xref="A1.SS2.p1.4.m4.4.5.3.1.cmml">,</mo><mn id="A1.SS2.p1.4.m4.4.4" xref="A1.SS2.p1.4.m4.4.4.cmml">4000</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.4.m4.4b"><apply id="A1.SS2.p1.4.m4.4.5.cmml" xref="A1.SS2.p1.4.m4.4.5"><eq id="A1.SS2.p1.4.m4.4.5.1.cmml" xref="A1.SS2.p1.4.m4.4.5.1"></eq><ci id="A1.SS2.p1.4.m4.4.5.2.cmml" xref="A1.SS2.p1.4.m4.4.5.2">𝑤</ci><list id="A1.SS2.p1.4.m4.4.5.3.1.cmml" xref="A1.SS2.p1.4.m4.4.5.3.2"><cn type="integer" id="A1.SS2.p1.4.m4.1.1.cmml" xref="A1.SS2.p1.4.m4.1.1">1000</cn><cn type="integer" id="A1.SS2.p1.4.m4.2.2.cmml" xref="A1.SS2.p1.4.m4.2.2">2000</cn><cn type="integer" id="A1.SS2.p1.4.m4.3.3.cmml" xref="A1.SS2.p1.4.m4.3.3">3000</cn><cn type="integer" id="A1.SS2.p1.4.m4.4.4.cmml" xref="A1.SS2.p1.4.m4.4.4">4000</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.4.m4.4c">w=1000,2000,3000,4000</annotation></semantics></math>. Given that the baseline model demonstrates signs of overfitting on VQA-CP v1 as early as 2000 iterations into training, we tested an additional set of accelerated GRL schedules for VQA-CP v1 that consisted of all combinations of <math id="A1.SS2.p1.5.m5.7" class="ltx_Math" alttext="\mu=500,1000,1500,2000,2500,3000,3500" display="inline"><semantics id="A1.SS2.p1.5.m5.7a"><mrow id="A1.SS2.p1.5.m5.7.8" xref="A1.SS2.p1.5.m5.7.8.cmml"><mi id="A1.SS2.p1.5.m5.7.8.2" xref="A1.SS2.p1.5.m5.7.8.2.cmml">μ</mi><mo id="A1.SS2.p1.5.m5.7.8.1" xref="A1.SS2.p1.5.m5.7.8.1.cmml">=</mo><mrow id="A1.SS2.p1.5.m5.7.8.3.2" xref="A1.SS2.p1.5.m5.7.8.3.1.cmml"><mn id="A1.SS2.p1.5.m5.1.1" xref="A1.SS2.p1.5.m5.1.1.cmml">500</mn><mo id="A1.SS2.p1.5.m5.7.8.3.2.1" xref="A1.SS2.p1.5.m5.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.5.m5.2.2" xref="A1.SS2.p1.5.m5.2.2.cmml">1000</mn><mo id="A1.SS2.p1.5.m5.7.8.3.2.2" xref="A1.SS2.p1.5.m5.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.5.m5.3.3" xref="A1.SS2.p1.5.m5.3.3.cmml">1500</mn><mo id="A1.SS2.p1.5.m5.7.8.3.2.3" xref="A1.SS2.p1.5.m5.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.5.m5.4.4" xref="A1.SS2.p1.5.m5.4.4.cmml">2000</mn><mo id="A1.SS2.p1.5.m5.7.8.3.2.4" xref="A1.SS2.p1.5.m5.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.5.m5.5.5" xref="A1.SS2.p1.5.m5.5.5.cmml">2500</mn><mo id="A1.SS2.p1.5.m5.7.8.3.2.5" xref="A1.SS2.p1.5.m5.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.5.m5.6.6" xref="A1.SS2.p1.5.m5.6.6.cmml">3000</mn><mo id="A1.SS2.p1.5.m5.7.8.3.2.6" xref="A1.SS2.p1.5.m5.7.8.3.1.cmml">,</mo><mn id="A1.SS2.p1.5.m5.7.7" xref="A1.SS2.p1.5.m5.7.7.cmml">3500</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.5.m5.7b"><apply id="A1.SS2.p1.5.m5.7.8.cmml" xref="A1.SS2.p1.5.m5.7.8"><eq id="A1.SS2.p1.5.m5.7.8.1.cmml" xref="A1.SS2.p1.5.m5.7.8.1"></eq><ci id="A1.SS2.p1.5.m5.7.8.2.cmml" xref="A1.SS2.p1.5.m5.7.8.2">𝜇</ci><list id="A1.SS2.p1.5.m5.7.8.3.1.cmml" xref="A1.SS2.p1.5.m5.7.8.3.2"><cn type="integer" id="A1.SS2.p1.5.m5.1.1.cmml" xref="A1.SS2.p1.5.m5.1.1">500</cn><cn type="integer" id="A1.SS2.p1.5.m5.2.2.cmml" xref="A1.SS2.p1.5.m5.2.2">1000</cn><cn type="integer" id="A1.SS2.p1.5.m5.3.3.cmml" xref="A1.SS2.p1.5.m5.3.3">1500</cn><cn type="integer" id="A1.SS2.p1.5.m5.4.4.cmml" xref="A1.SS2.p1.5.m5.4.4">2000</cn><cn type="integer" id="A1.SS2.p1.5.m5.5.5.cmml" xref="A1.SS2.p1.5.m5.5.5">2500</cn><cn type="integer" id="A1.SS2.p1.5.m5.6.6.cmml" xref="A1.SS2.p1.5.m5.6.6">3000</cn><cn type="integer" id="A1.SS2.p1.5.m5.7.7.cmml" xref="A1.SS2.p1.5.m5.7.7">3500</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.5.m5.7c">\mu=500,1000,1500,2000,2500,3000,3500</annotation></semantics></math> and <math id="A1.SS2.p1.6.m6.4" class="ltx_Math" alttext="w=500,1000,2000,4000" display="inline"><semantics id="A1.SS2.p1.6.m6.4a"><mrow id="A1.SS2.p1.6.m6.4.5" xref="A1.SS2.p1.6.m6.4.5.cmml"><mi id="A1.SS2.p1.6.m6.4.5.2" xref="A1.SS2.p1.6.m6.4.5.2.cmml">w</mi><mo id="A1.SS2.p1.6.m6.4.5.1" xref="A1.SS2.p1.6.m6.4.5.1.cmml">=</mo><mrow id="A1.SS2.p1.6.m6.4.5.3.2" xref="A1.SS2.p1.6.m6.4.5.3.1.cmml"><mn id="A1.SS2.p1.6.m6.1.1" xref="A1.SS2.p1.6.m6.1.1.cmml">500</mn><mo id="A1.SS2.p1.6.m6.4.5.3.2.1" xref="A1.SS2.p1.6.m6.4.5.3.1.cmml">,</mo><mn id="A1.SS2.p1.6.m6.2.2" xref="A1.SS2.p1.6.m6.2.2.cmml">1000</mn><mo id="A1.SS2.p1.6.m6.4.5.3.2.2" xref="A1.SS2.p1.6.m6.4.5.3.1.cmml">,</mo><mn id="A1.SS2.p1.6.m6.3.3" xref="A1.SS2.p1.6.m6.3.3.cmml">2000</mn><mo id="A1.SS2.p1.6.m6.4.5.3.2.3" xref="A1.SS2.p1.6.m6.4.5.3.1.cmml">,</mo><mn id="A1.SS2.p1.6.m6.4.4" xref="A1.SS2.p1.6.m6.4.4.cmml">4000</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.6.m6.4b"><apply id="A1.SS2.p1.6.m6.4.5.cmml" xref="A1.SS2.p1.6.m6.4.5"><eq id="A1.SS2.p1.6.m6.4.5.1.cmml" xref="A1.SS2.p1.6.m6.4.5.1"></eq><ci id="A1.SS2.p1.6.m6.4.5.2.cmml" xref="A1.SS2.p1.6.m6.4.5.2">𝑤</ci><list id="A1.SS2.p1.6.m6.4.5.3.1.cmml" xref="A1.SS2.p1.6.m6.4.5.3.2"><cn type="integer" id="A1.SS2.p1.6.m6.1.1.cmml" xref="A1.SS2.p1.6.m6.1.1">500</cn><cn type="integer" id="A1.SS2.p1.6.m6.2.2.cmml" xref="A1.SS2.p1.6.m6.2.2">1000</cn><cn type="integer" id="A1.SS2.p1.6.m6.3.3.cmml" xref="A1.SS2.p1.6.m6.3.3">2000</cn><cn type="integer" id="A1.SS2.p1.6.m6.4.4.cmml" xref="A1.SS2.p1.6.m6.4.4">4000</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.6.m6.4c">w=500,1000,2000,4000</annotation></semantics></math>.</p>
</div>
<div id="A1.SS2.p2" class="ltx_para">
<p id="A1.SS2.p2.5" class="ltx_p">Sometimes when <span id="A1.SS2.p2.5.1" class="ltx_text">AdvReg</span> is introduced on a delayed schedule (especially if the value of <math id="A1.SS2.p2.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="A1.SS2.p2.1.m1.1a"><mi id="A1.SS2.p2.1.m1.1.1" xref="A1.SS2.p2.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.1.m1.1b"><ci id="A1.SS2.p2.1.m1.1.1.cmml" xref="A1.SS2.p2.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.1.m1.1c">\mu</annotation></semantics></math> is large), overfitting occurs before <span id="A1.SS2.p2.5.2" class="ltx_text">AdvReg</span> takes effect. To avoid ending training prematurely, we always train for at least <math id="A1.SS2.p2.2.m2.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="A1.SS2.p2.2.m2.1a"><mi id="A1.SS2.p2.2.m2.1.1" xref="A1.SS2.p2.2.m2.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.2.m2.1b"><ci id="A1.SS2.p2.2.m2.1.1.cmml" xref="A1.SS2.p2.2.m2.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.2.m2.1c">\mu</annotation></semantics></math> iterations before early stopping can be triggered. For instance, if <math id="A1.SS2.p2.3.m3.1" class="ltx_Math" alttext="\mu=3000" display="inline"><semantics id="A1.SS2.p2.3.m3.1a"><mrow id="A1.SS2.p2.3.m3.1.1" xref="A1.SS2.p2.3.m3.1.1.cmml"><mi id="A1.SS2.p2.3.m3.1.1.2" xref="A1.SS2.p2.3.m3.1.1.2.cmml">μ</mi><mo id="A1.SS2.p2.3.m3.1.1.1" xref="A1.SS2.p2.3.m3.1.1.1.cmml">=</mo><mn id="A1.SS2.p2.3.m3.1.1.3" xref="A1.SS2.p2.3.m3.1.1.3.cmml">3000</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.3.m3.1b"><apply id="A1.SS2.p2.3.m3.1.1.cmml" xref="A1.SS2.p2.3.m3.1.1"><eq id="A1.SS2.p2.3.m3.1.1.1.cmml" xref="A1.SS2.p2.3.m3.1.1.1"></eq><ci id="A1.SS2.p2.3.m3.1.1.2.cmml" xref="A1.SS2.p2.3.m3.1.1.2">𝜇</ci><cn type="integer" id="A1.SS2.p2.3.m3.1.1.3.cmml" xref="A1.SS2.p2.3.m3.1.1.3">3000</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.3.m3.1c">\mu=3000</annotation></semantics></math>, then the earliest that we will stop training is <math id="A1.SS2.p2.4.m4.1" class="ltx_Math" alttext="t=4000" display="inline"><semantics id="A1.SS2.p2.4.m4.1a"><mrow id="A1.SS2.p2.4.m4.1.1" xref="A1.SS2.p2.4.m4.1.1.cmml"><mi id="A1.SS2.p2.4.m4.1.1.2" xref="A1.SS2.p2.4.m4.1.1.2.cmml">t</mi><mo id="A1.SS2.p2.4.m4.1.1.1" xref="A1.SS2.p2.4.m4.1.1.1.cmml">=</mo><mn id="A1.SS2.p2.4.m4.1.1.3" xref="A1.SS2.p2.4.m4.1.1.3.cmml">4000</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.4.m4.1b"><apply id="A1.SS2.p2.4.m4.1.1.cmml" xref="A1.SS2.p2.4.m4.1.1"><eq id="A1.SS2.p2.4.m4.1.1.1.cmml" xref="A1.SS2.p2.4.m4.1.1.1"></eq><ci id="A1.SS2.p2.4.m4.1.1.2.cmml" xref="A1.SS2.p2.4.m4.1.1.2">𝑡</ci><cn type="integer" id="A1.SS2.p2.4.m4.1.1.3.cmml" xref="A1.SS2.p2.4.m4.1.1.3">4000</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.4.m4.1c">t=4000</annotation></semantics></math>. For the purposes of evaluation, we also consider only scores from <math id="A1.SS2.p2.5.m5.1" class="ltx_Math" alttext="t&gt;\mu" display="inline"><semantics id="A1.SS2.p2.5.m5.1a"><mrow id="A1.SS2.p2.5.m5.1.1" xref="A1.SS2.p2.5.m5.1.1.cmml"><mi id="A1.SS2.p2.5.m5.1.1.2" xref="A1.SS2.p2.5.m5.1.1.2.cmml">t</mi><mo id="A1.SS2.p2.5.m5.1.1.1" xref="A1.SS2.p2.5.m5.1.1.1.cmml">&gt;</mo><mi id="A1.SS2.p2.5.m5.1.1.3" xref="A1.SS2.p2.5.m5.1.1.3.cmml">μ</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.5.m5.1b"><apply id="A1.SS2.p2.5.m5.1.1.cmml" xref="A1.SS2.p2.5.m5.1.1"><gt id="A1.SS2.p2.5.m5.1.1.1.cmml" xref="A1.SS2.p2.5.m5.1.1.1"></gt><ci id="A1.SS2.p2.5.m5.1.1.2.cmml" xref="A1.SS2.p2.5.m5.1.1.2">𝑡</ci><ci id="A1.SS2.p2.5.m5.1.1.3.cmml" xref="A1.SS2.p2.5.m5.1.1.3">𝜇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.5.m5.1c">t&gt;\mu</annotation></semantics></math> when scoring models under GRL scheduling.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A1.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Additional Examples</h3>

<figure id="A1.F7" class="ltx_figure"><img src="/html/1906.08430/assets/figures/success_full.jpg" id="A1.F7.g1" class="ltx_graphics ltx_img_square" width="628" height="612" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Visualization of <span id="A1.F7.3.1" class="ltx_text">AdvReg</span> success cases. In each example, the leftmost two bars show the prior distribution over answers for the given question type (in bold). The rightmost two bars show the scores assigned to different answers by the baseline and <span id="A1.F7.4.2" class="ltx_text">AdvReg</span> models for a particular example of the given type. The baseline model frequently assigns high probability to incorrect answers that are prominent in the training distribution. In contrast, the regularized model is able to make correct inferences in cases where the ground truth answer has low prior probability.</figcaption>
</figure>
<figure id="A1.F8" class="ltx_figure"><img src="/html/1906.08430/assets/figures/failure_full.jpg" id="A1.F8.g1" class="ltx_graphics ltx_img_square" width="628" height="682" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Common failure modes of adversarial regularization. First row: the regularized model fails to infer the correct form of the answer from the question, answering “beach” and “wedding” to questions that entail animal answers. Second row: the regularized model struggles with questions that rely on real-world language priors; i.e., mustard is yellow, sunset is orange. Third row: salient colors in the image distract the regularized model from attending to the correct image regions. Fourth row: both the baseline and regularized models perform poorly on questions where the answer relates to a localized image region (i.e., inside a TV) as opposed to the global image. In these cases, the regularized model relies on generic visual features in the image in its inferences, while the baseline model relies on language priors.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/1906.08429" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/1906.08430" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+1906.08430">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/1906.08430" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/1906.08431" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Mar  7 10:52:10 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
