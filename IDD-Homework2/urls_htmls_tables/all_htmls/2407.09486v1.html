<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving</title>
<!--Generated on Fri May 17 09:40:46 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="
LLM service,  autoscaling,  service configuration,  anomaly detection
" lang="en" name="keywords"/>
<base href="/html/2407.09486v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S1" title="In ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">I </span><span class="ltx_text ltx_font_smallcaps">Introduction</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S2" title="In ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">II </span><span class="ltx_text ltx_font_smallcaps">Background</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S2.SS1" title="In II Background ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">II-A</span> </span><span class="ltx_text ltx_font_italic">GPU Scheduling</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S2.SS2" title="In II Background ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">II-B</span> </span><span class="ltx_text ltx_font_italic">LLM Inference</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S2.SS3" title="In II Background ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">II-C</span> </span><span class="ltx_text ltx_font_italic">Optimizing the LLM Inference</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S3" title="In ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">III </span><span class="ltx_text ltx_font_smallcaps">Motivation</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S3.SS1" title="In III Motivation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-A</span> </span><span class="ltx_text ltx_font_italic">Problem Formulation</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S3.SS2" title="In III Motivation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-B</span> </span><span class="ltx_text ltx_font_italic">Goals of Serverless LLM Serving</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4" title="In ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">IV </span><span class="ltx_text ltx_font_smallcaps">Approach Overview</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.SS1" title="In IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-A</span> </span><span class="ltx_text ltx_font_italic">Service Configuration Module</span></span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.SS1.SSS1" title="In IV-A Service Configuration Module ‣ IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-A</span>1 </span>Determine <span class="ltx_text ltx_font_italic">max_num_seqs</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.SS1.SSS2" title="In IV-A Service Configuration Module ‣ IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-A</span>2 </span>Determine <span class="ltx_text ltx_font_italic">parallel_size</span> and <span class="ltx_text ltx_font_italic">gpu_memory</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.SS1.SSS3" title="In IV-A Service Configuration Module ‣ IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-A</span>3 </span>Determine <span class="ltx_text ltx_font_italic">max_tokens</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.SS1.SSS4" title="In IV-A Service Configuration Module ‣ IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-A</span>4 </span>Determine <span class="ltx_text ltx_font_italic">replicas</span> and <span class="ltx_text ltx_font_italic">weights</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.SS2" title="In IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-B</span> </span><span class="ltx_text ltx_font_italic">Performance Detection Module</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S5" title="In ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">V </span><span class="ltx_text ltx_font_smallcaps">System Implementation</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6" title="In ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">VI </span><span class="ltx_text ltx_font_smallcaps">Evaluation</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.SS1" title="In VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VI-A</span> </span><span class="ltx_text ltx_font_italic">RQ1: Whether Service Configuration Module Enhances Performance Efficiently</span></span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.SS1.SSS1" title="In VI-A RQ1: Whether Service Configuration Module Enhances Performance Efficiently ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VI-A</span>1 </span>Experiment setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.SS1.SSS2" title="In VI-A RQ1: Whether Service Configuration Module Enhances Performance Efficiently ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VI-A</span>2 </span>Overall serving performance</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.SS1.SSS3" title="In VI-A RQ1: Whether Service Configuration Module Enhances Performance Efficiently ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VI-A</span>3 </span>Accuracy analysis for service configuration module</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.SS2" title="In VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VI-B</span> </span><span class="ltx_text ltx_font_italic">RQ2: Whether Performance Detection Module Determines autoscaling Accurately</span></span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.SS2.SSS1" title="In VI-B RQ2: Whether Performance Detection Module Determines autoscaling Accurately ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VI-B</span>1 </span>Experiment setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.SS2.SSS2" title="In VI-B RQ2: Whether Performance Detection Module Determines autoscaling Accurately ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VI-B</span>2 </span>Overall detection performance</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.SS2.SSS3" title="In VI-B RQ2: Whether Performance Detection Module Determines autoscaling Accurately ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VI-B</span>3 </span>Autoscaling case study</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S7" title="In ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">VII </span><span class="ltx_text ltx_font_smallcaps">Discussion</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S7.SS1" title="In VII Discussion ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VII-A</span> </span><span class="ltx_text ltx_font_italic">Maximal Number of Requests Processed by LLM services </span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S7.SS2" title="In VII Discussion ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VII-B</span> </span><span class="ltx_text ltx_font_italic">Processing Requests from Various LLM Agents</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S7.SS3" title="In VII Discussion ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VII-C</span> </span><span class="ltx_text ltx_font_italic">Limitations</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S8" title="In ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">VIII </span><span class="ltx_text ltx_font_smallcaps">Related Works</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S8.SS1" title="In VIII Related Works ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VIII-A</span> </span><span class="ltx_text ltx_font_italic">Cloud Configuration</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S8.SS2" title="In VIII Related Works ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">VIII-B</span> </span><span class="ltx_text ltx_font_italic">Autoscaling</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S9" title="In ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">IX </span><span class="ltx_text ltx_font_smallcaps">Conclusion</span></span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Tao Huang
 
<br class="ltx_break"/>Zachary Bright
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id1.1.id1">EmergingAI</span>
<br class="ltx_break"/>Hong Kong, China 
<br class="ltx_break"/>shendu-ht@emergingai-tech.com
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id2.2.id1">Exascale Labs</span>
<br class="ltx_break"/>USA 
<br class="ltx_break"/>zack@exascalelabs.org
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Pengfei Chen
 
<br class="ltx_break"/>Wenxin Xie, Kecheng Huang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id3.1.id1">School of Computer Science and Engineering</span>
<br class="ltx_break"/>Sun Yat-Sen University, China 
<br class="ltx_break"/>chenpf7@mail.sysu.edu.cn
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id4.2.id1">EmergingAI</span>
<br class="ltx_break"/>Hong Kong, China 
<br class="ltx_break"/>wenxinxie,kecheng@emergingai-tech.com
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Kyoka Gong, Jocky Hawk
 
<br class="ltx_break"/>Zhi Ji
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id5.1.id1">EmergingAI</span>
<br class="ltx_break"/>Hong Kong, China 
<br class="ltx_break"/>kyokagong,jockyhawk@emergingai-tech.com
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id6.2.id1">Division of Engineering Science</span>
<br class="ltx_break"/>University of Toronto, Canada 
<br class="ltx_break"/>whitney.ji@mail.utoronto.ca
</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id7.id1">Since the increasing popularity of large language model (LLM) backend systems, it is common and necessary to deploy stable serverless serving of LLM on multi-GPU clusters with autoscaling. However, there exist challenges because the diversity and co-location of applications in multi-GPU clusters will lead to low service quality and GPU utilization. To address them, we build ENOVA, a deployment, monitoring and autoscaling service towards serverless LLM serving. ENOVA deconstructs the execution process of LLM service comprehensively, based on which ENOVA designs a configuration recommendation module for automatic deployment on any GPU clusters and a performance detection module for autoscaling. On top of them, ENOVA implements a deployment execution engine for multi-GPU cluster scheduling. The experiment results show that ENOVA significantly outperforms other state-of-the-art methods and is suitable for wide deployment in large online systems.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
LLM service, autoscaling, service configuration, anomaly detection

</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span class="ltx_text ltx_font_smallcaps" id="S1.1.1">Introduction</span>
</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">The rising emergence of large language models (LLMs) like GPT <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib1" title="">1</a>]</cite> has spawned many new applications in various domains such as programming <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib2" title="">2</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib3" title="">3</a>]</cite>, academic <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib4" title="">4</a>]</cite>, legal <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib5" title="">5</a>]</cite>, medical <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib6" title="">6</a>]</cite> assistants and embodied agents <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib7" title="">7</a>]</cite>, which improve the efficiency of our work and routines. These applications generally run on GPU cloud in industrial environments, where an LLM request can be <math alttext="10\times" class="ltx_math_unparsed" display="inline" id="S1.p1.1.m1.1"><semantics id="S1.p1.1.m1.1a"><mrow id="S1.p1.1.m1.1b"><mn id="S1.p1.1.m1.1.1">10</mn><mo id="S1.p1.1.m1.1.2" lspace="0.222em">×</mo></mrow><annotation encoding="application/x-tex" id="S1.p1.1.m1.1c">10\times</annotation><annotation encoding="application/x-llamapun" id="S1.p1.1.m1.1d">10 ×</annotation></semantics></math> more expensive than a traditional query <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib8" title="">8</a>]</cite>. Hence, previous researchers focus on optimizing LLM inference so that to increase the throughput and reduce the cost of LLM serving.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Many approaches <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib10" title="">10</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib8" title="">8</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib11" title="">11</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib12" title="">12</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib14" title="">14</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib15" title="">15</a>]</cite> have been proposed to optimize LLM inference. These techniques can be classified into five general categories including computation <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib12" title="">12</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib11" title="">11</a>]</cite>, weight or activation quantization <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib14" title="">14</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib15" title="">15</a>]</cite>, memory management <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib8" title="">8</a>]</cite>, kernel operator optimization <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib11" title="">11</a>]</cite>, and batching requests <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib10" title="">10</a>]</cite>. However, few of them focus on stable and auto-scaled serverless LLM serving in multi-GPU clusters. There are still challenges to provide a scheduling service so that LLM developers no longer need to spend time providing stable and scalable LLM services. The challenges are shown as follows.</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i1.p1.1.1">Unaware of the diversity of LLM tasks.</span> Taking the LLM agent as an example, the agent can contain a profiling module to identify its role, a memory module to place it into a dynamic environment, and a planning module to determine future actions. There is a significant difference in the context length of LLM tasks in this agent. This diversity of task targets in different modules will affect the performance of LLM service by the input and output sequence length.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i2.p1.1.1">Less focus on deployment in distributed multi-GPU clusters.</span> The GPU clusters are mainly from multiple regions with various types of GPU devices in industrial environments. There are differences in computing capabilities among various GPU devices. If without a guidance on multi-cluster deployment of LLM service, the performance of LLM service will be impacted due to this computing capacity difference.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i3.p1.1.1">Unable to auto-scale LLM service.</span> When an LLM service is deployed online, the requests issued to the LLM service are complex and non-stationary. Without autoscaling, the service quality degrades when the number of requests surges, while the resource waste exists when it drops sharply.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">To address these challenges, we introduce <span class="ltx_text ltx_font_bold" id="S1.p3.1.1">ENOVA</span>, a service designed to enhance the stability and cost-efficiency of serverless LLM serving through deployment, monitoring, and autoscaling capabilities. ENOVA comprises two primary modules: the service configuration module, which determines the optimal configurations for LLM services, and the performance detection module, tasked with monitoring service quality and resource utilization and identifying anomalies that necessitate autoscaling actions. On top of them, ENOVA integrates a comprehensive execution engine that manages deployment, monitoring, and autoscaling across multi-GPU clusters. Our contributions are summarized as follows:</p>
</div>
<div class="ltx_para" id="S1.p4">
<ul class="ltx_itemize" id="S1.I2">
<li class="ltx_item" id="S1.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I2.i1.p1">
<p class="ltx_p" id="S1.I2.i1.p1.1">We have designed a service configuration recommendation module that is designed for LLMs deployed across any GPU cluster. This module is also adaptable to a variety of application agents, ensuring optimal configurations and service quality in diverse environments. Notably, this approach is scalable, supporting multi-agent systems and multi-GPU deployments effectively.</p>
</div>
</li>
<li class="ltx_item" id="S1.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I2.i2.p1">
<p class="ltx_p" id="S1.I2.i2.p1.1">We have developed a performance detection module that continuously monitors service quality and resource utilization in real-time. This module is essential to ensuring the automatic adjustment of online-deployed LLM services, thus maintaining optimal service reliability.</p>
</div>
</li>
<li class="ltx_item" id="S1.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I2.i3.p1">
<p class="ltx_p" id="S1.I2.i3.p1.1">We have implemented a comprehensive service for the deployment, monitoring, and autoscaling of LLMs. This service significantly reduces the workload of LLM developers by providing stable and scalable performance across multi-GPU clusters. The implementation code is publicly available for further research and development at https://github.com/Emerging-AI/ENOVA.</p>
</div>
</li>
<li class="ltx_item" id="S1.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I2.i4.p1">
<p class="ltx_p" id="S1.I2.i4.p1.1">We evaluate ENOVA for various scenarios and compare it with several state-of-the-art systems. The experiment results demonstrate that ENOVA outperforms the baseline approaches.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span class="ltx_text ltx_font_smallcaps" id="S2.1.1">Background</span>
</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S2.SS1.4.1.1">II-A</span> </span><span class="ltx_text ltx_font_italic" id="S2.SS1.5.2">GPU Scheduling</span>
</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">A graphics processing unit (GPU) is a specialized device that consists of several <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.1.1">streaming multiprocessors</span> (SMs). Multiple user contexts can run on one SM concurrently, each of which is allocated a static share of local resources. A typical user context will consist of numerous <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.1.2">kernels</span>, which are executed sequentially. The applications to process user contexts typically interact with the GPU at the kernel level. A kernel function is scheduled to run parallelly in blocks of <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.1.3">threads</span> within a grid, where thread is the smallest unit of GPU computation in the CUDA framework.</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">The GPU scheduling is to submit kernels to hardware queues within GPUs and schedule them to target SMs with available resources. From the macro perspective, the LLM inference tasks can be refined into tens types of kernels, such as <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.1.1">”aten::add”</span> and <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.1.2">”aten::transpose”</span> in <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.1.3">PyTorch</span>. Each type of kernel is corresponding to one basic operations defined in PyTorch, for instance the kernel <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.1.4">”aten::add”</span> is responsible for executing function <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.1.5">”torch.add”</span>. Eventually, the LLM inference tasks are scheduled and executed at the kernel level. Model serving systems like NVIDIA’s Triton <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib16" title="">16</a>]</cite> and Ray Serve <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib17" title="">17</a>]</cite> are responsible for receiving requests and dispatching LLM inference executions to target GPUs.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S2.SS2.4.1.1">II-B</span> </span><span class="ltx_text ltx_font_italic" id="S2.SS2.5.2">LLM Inference</span>
</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.2">LLMs are always autoregressive transformer-based generative models <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib18" title="">18</a>]</cite>, which predict the next token based on past tokens. Since LLMs generate one token at a time, the LLM inference generates subsequent tokens iteratively until they trigger stopping criteria. Within one iteration, the input tokens are transmitted into the model which contains several transformer layers with one attention, two layer norm, and two feed-forward layers. Essentially, the attention layer uses past tokens to generate the next token. The output <math alttext="o_{i}" class="ltx_Math" display="inline" id="S2.SS2.p1.1.m1.1"><semantics id="S2.SS2.p1.1.m1.1a"><msub id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml"><mi id="S2.SS2.p1.1.m1.1.1.2" xref="S2.SS2.p1.1.m1.1.1.2.cmml">o</mi><mi id="S2.SS2.p1.1.m1.1.1.3" xref="S2.SS2.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><apply id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.1.m1.1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p1.1.m1.1.1.2.cmml" xref="S2.SS2.p1.1.m1.1.1.2">𝑜</ci><ci id="S2.SS2.p1.1.m1.1.1.3.cmml" xref="S2.SS2.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">o_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.1.m1.1d">italic_o start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> of the attention layer at the <math alttext="i^{th}" class="ltx_Math" display="inline" id="S2.SS2.p1.2.m2.1"><semantics id="S2.SS2.p1.2.m2.1a"><msup id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml"><mi id="S2.SS2.p1.2.m2.1.1.2" xref="S2.SS2.p1.2.m2.1.1.2.cmml">i</mi><mrow id="S2.SS2.p1.2.m2.1.1.3" xref="S2.SS2.p1.2.m2.1.1.3.cmml"><mi id="S2.SS2.p1.2.m2.1.1.3.2" xref="S2.SS2.p1.2.m2.1.1.3.2.cmml">t</mi><mo id="S2.SS2.p1.2.m2.1.1.3.1" xref="S2.SS2.p1.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p1.2.m2.1.1.3.3" xref="S2.SS2.p1.2.m2.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><apply id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.2.m2.1.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">superscript</csymbol><ci id="S2.SS2.p1.2.m2.1.1.2.cmml" xref="S2.SS2.p1.2.m2.1.1.2">𝑖</ci><apply id="S2.SS2.p1.2.m2.1.1.3.cmml" xref="S2.SS2.p1.2.m2.1.1.3"><times id="S2.SS2.p1.2.m2.1.1.3.1.cmml" xref="S2.SS2.p1.2.m2.1.1.3.1"></times><ci id="S2.SS2.p1.2.m2.1.1.3.2.cmml" xref="S2.SS2.p1.2.m2.1.1.3.2">𝑡</ci><ci id="S2.SS2.p1.2.m2.1.1.3.3.cmml" xref="S2.SS2.p1.2.m2.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">i^{th}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.2.m2.1d">italic_i start_POSTSUPERSCRIPT italic_t italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> iteration can be express as:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S9.EGx1">
<tbody id="S2.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle o_{i}" class="ltx_Math" display="inline" id="S2.E1.m1.1"><semantics id="S2.E1.m1.1a"><msub id="S2.E1.m1.1.1" xref="S2.E1.m1.1.1.cmml"><mi id="S2.E1.m1.1.1.2" xref="S2.E1.m1.1.1.2.cmml">o</mi><mi id="S2.E1.m1.1.1.3" xref="S2.E1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.E1.m1.1b"><apply id="S2.E1.m1.1.1.cmml" xref="S2.E1.m1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.cmml" xref="S2.E1.m1.1.1">subscript</csymbol><ci id="S2.E1.m1.1.1.2.cmml" xref="S2.E1.m1.1.1.2">𝑜</ci><ci id="S2.E1.m1.1.1.3.cmml" xref="S2.E1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.1c">\displaystyle o_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.1d">italic_o start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sum_{j=1}^{i}a_{i,j}v_{j}" class="ltx_Math" display="inline" id="S2.E1.m2.2"><semantics id="S2.E1.m2.2a"><mrow id="S2.E1.m2.2.3" xref="S2.E1.m2.2.3.cmml"><mi id="S2.E1.m2.2.3.2" xref="S2.E1.m2.2.3.2.cmml"></mi><mo id="S2.E1.m2.2.3.1" xref="S2.E1.m2.2.3.1.cmml">=</mo><mrow id="S2.E1.m2.2.3.3" xref="S2.E1.m2.2.3.3.cmml"><mstyle displaystyle="true" id="S2.E1.m2.2.3.3.1" xref="S2.E1.m2.2.3.3.1.cmml"><munderover id="S2.E1.m2.2.3.3.1a" xref="S2.E1.m2.2.3.3.1.cmml"><mo id="S2.E1.m2.2.3.3.1.2.2" movablelimits="false" xref="S2.E1.m2.2.3.3.1.2.2.cmml">∑</mo><mrow id="S2.E1.m2.2.3.3.1.2.3" xref="S2.E1.m2.2.3.3.1.2.3.cmml"><mi id="S2.E1.m2.2.3.3.1.2.3.2" xref="S2.E1.m2.2.3.3.1.2.3.2.cmml">j</mi><mo id="S2.E1.m2.2.3.3.1.2.3.1" xref="S2.E1.m2.2.3.3.1.2.3.1.cmml">=</mo><mn id="S2.E1.m2.2.3.3.1.2.3.3" xref="S2.E1.m2.2.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S2.E1.m2.2.3.3.1.3" xref="S2.E1.m2.2.3.3.1.3.cmml">i</mi></munderover></mstyle><mrow id="S2.E1.m2.2.3.3.2" xref="S2.E1.m2.2.3.3.2.cmml"><msub id="S2.E1.m2.2.3.3.2.2" xref="S2.E1.m2.2.3.3.2.2.cmml"><mi id="S2.E1.m2.2.3.3.2.2.2" xref="S2.E1.m2.2.3.3.2.2.2.cmml">a</mi><mrow id="S2.E1.m2.2.2.2.4" xref="S2.E1.m2.2.2.2.3.cmml"><mi id="S2.E1.m2.1.1.1.1" xref="S2.E1.m2.1.1.1.1.cmml">i</mi><mo id="S2.E1.m2.2.2.2.4.1" xref="S2.E1.m2.2.2.2.3.cmml">,</mo><mi id="S2.E1.m2.2.2.2.2" xref="S2.E1.m2.2.2.2.2.cmml">j</mi></mrow></msub><mo id="S2.E1.m2.2.3.3.2.1" xref="S2.E1.m2.2.3.3.2.1.cmml">⁢</mo><msub id="S2.E1.m2.2.3.3.2.3" xref="S2.E1.m2.2.3.3.2.3.cmml"><mi id="S2.E1.m2.2.3.3.2.3.2" xref="S2.E1.m2.2.3.3.2.3.2.cmml">v</mi><mi id="S2.E1.m2.2.3.3.2.3.3" xref="S2.E1.m2.2.3.3.2.3.3.cmml">j</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m2.2b"><apply id="S2.E1.m2.2.3.cmml" xref="S2.E1.m2.2.3"><eq id="S2.E1.m2.2.3.1.cmml" xref="S2.E1.m2.2.3.1"></eq><csymbol cd="latexml" id="S2.E1.m2.2.3.2.cmml" xref="S2.E1.m2.2.3.2">absent</csymbol><apply id="S2.E1.m2.2.3.3.cmml" xref="S2.E1.m2.2.3.3"><apply id="S2.E1.m2.2.3.3.1.cmml" xref="S2.E1.m2.2.3.3.1"><csymbol cd="ambiguous" id="S2.E1.m2.2.3.3.1.1.cmml" xref="S2.E1.m2.2.3.3.1">superscript</csymbol><apply id="S2.E1.m2.2.3.3.1.2.cmml" xref="S2.E1.m2.2.3.3.1"><csymbol cd="ambiguous" id="S2.E1.m2.2.3.3.1.2.1.cmml" xref="S2.E1.m2.2.3.3.1">subscript</csymbol><sum id="S2.E1.m2.2.3.3.1.2.2.cmml" xref="S2.E1.m2.2.3.3.1.2.2"></sum><apply id="S2.E1.m2.2.3.3.1.2.3.cmml" xref="S2.E1.m2.2.3.3.1.2.3"><eq id="S2.E1.m2.2.3.3.1.2.3.1.cmml" xref="S2.E1.m2.2.3.3.1.2.3.1"></eq><ci id="S2.E1.m2.2.3.3.1.2.3.2.cmml" xref="S2.E1.m2.2.3.3.1.2.3.2">𝑗</ci><cn id="S2.E1.m2.2.3.3.1.2.3.3.cmml" type="integer" xref="S2.E1.m2.2.3.3.1.2.3.3">1</cn></apply></apply><ci id="S2.E1.m2.2.3.3.1.3.cmml" xref="S2.E1.m2.2.3.3.1.3">𝑖</ci></apply><apply id="S2.E1.m2.2.3.3.2.cmml" xref="S2.E1.m2.2.3.3.2"><times id="S2.E1.m2.2.3.3.2.1.cmml" xref="S2.E1.m2.2.3.3.2.1"></times><apply id="S2.E1.m2.2.3.3.2.2.cmml" xref="S2.E1.m2.2.3.3.2.2"><csymbol cd="ambiguous" id="S2.E1.m2.2.3.3.2.2.1.cmml" xref="S2.E1.m2.2.3.3.2.2">subscript</csymbol><ci id="S2.E1.m2.2.3.3.2.2.2.cmml" xref="S2.E1.m2.2.3.3.2.2.2">𝑎</ci><list id="S2.E1.m2.2.2.2.3.cmml" xref="S2.E1.m2.2.2.2.4"><ci id="S2.E1.m2.1.1.1.1.cmml" xref="S2.E1.m2.1.1.1.1">𝑖</ci><ci id="S2.E1.m2.2.2.2.2.cmml" xref="S2.E1.m2.2.2.2.2">𝑗</ci></list></apply><apply id="S2.E1.m2.2.3.3.2.3.cmml" xref="S2.E1.m2.2.3.3.2.3"><csymbol cd="ambiguous" id="S2.E1.m2.2.3.3.2.3.1.cmml" xref="S2.E1.m2.2.3.3.2.3">subscript</csymbol><ci id="S2.E1.m2.2.3.3.2.3.2.cmml" xref="S2.E1.m2.2.3.3.2.3.2">𝑣</ci><ci id="S2.E1.m2.2.3.3.2.3.3.cmml" xref="S2.E1.m2.2.3.3.2.3.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m2.2c">\displaystyle=\sum_{j=1}^{i}a_{i,j}v_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m2.2d">= ∑ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT italic_a start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
<tbody id="S2.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle a_{i,j}" class="ltx_Math" display="inline" id="S2.E2.m1.2"><semantics id="S2.E2.m1.2a"><msub id="S2.E2.m1.2.3" xref="S2.E2.m1.2.3.cmml"><mi id="S2.E2.m1.2.3.2" xref="S2.E2.m1.2.3.2.cmml">a</mi><mrow id="S2.E2.m1.2.2.2.4" xref="S2.E2.m1.2.2.2.3.cmml"><mi id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml">i</mi><mo id="S2.E2.m1.2.2.2.4.1" xref="S2.E2.m1.2.2.2.3.cmml">,</mo><mi id="S2.E2.m1.2.2.2.2" xref="S2.E2.m1.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.E2.m1.2b"><apply id="S2.E2.m1.2.3.cmml" xref="S2.E2.m1.2.3"><csymbol cd="ambiguous" id="S2.E2.m1.2.3.1.cmml" xref="S2.E2.m1.2.3">subscript</csymbol><ci id="S2.E2.m1.2.3.2.cmml" xref="S2.E2.m1.2.3.2">𝑎</ci><list id="S2.E2.m1.2.2.2.3.cmml" xref="S2.E2.m1.2.2.2.4"><ci id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1">𝑖</ci><ci id="S2.E2.m1.2.2.2.2.cmml" xref="S2.E2.m1.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.2c">\displaystyle a_{i,j}</annotation><annotation encoding="application/x-llamapun" id="S2.E2.m1.2d">italic_a start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\frac{\exp(q_{i}^{T}k_{j}/\sqrt{d_{h}})}{\sum_{t=1}^{i}\exp(q_{i%
}^{T}k_{t}/\sqrt{d_{h}})}" class="ltx_Math" display="inline" id="S2.E2.m2.4"><semantics id="S2.E2.m2.4a"><mrow id="S2.E2.m2.4.5" xref="S2.E2.m2.4.5.cmml"><mi id="S2.E2.m2.4.5.2" xref="S2.E2.m2.4.5.2.cmml"></mi><mo id="S2.E2.m2.4.5.1" xref="S2.E2.m2.4.5.1.cmml">=</mo><mstyle displaystyle="true" id="S2.E2.m2.4.4" xref="S2.E2.m2.4.4.cmml"><mfrac id="S2.E2.m2.4.4a" xref="S2.E2.m2.4.4.cmml"><mrow id="S2.E2.m2.2.2.2.2" xref="S2.E2.m2.2.2.2.3.cmml"><mi id="S2.E2.m2.1.1.1.1" xref="S2.E2.m2.1.1.1.1.cmml">exp</mi><mo id="S2.E2.m2.2.2.2.2a" xref="S2.E2.m2.2.2.2.3.cmml">⁡</mo><mrow id="S2.E2.m2.2.2.2.2.1" xref="S2.E2.m2.2.2.2.3.cmml"><mo id="S2.E2.m2.2.2.2.2.1.2" stretchy="false" xref="S2.E2.m2.2.2.2.3.cmml">(</mo><mrow id="S2.E2.m2.2.2.2.2.1.1" xref="S2.E2.m2.2.2.2.2.1.1.cmml"><mrow id="S2.E2.m2.2.2.2.2.1.1.2" xref="S2.E2.m2.2.2.2.2.1.1.2.cmml"><msubsup id="S2.E2.m2.2.2.2.2.1.1.2.2" xref="S2.E2.m2.2.2.2.2.1.1.2.2.cmml"><mi id="S2.E2.m2.2.2.2.2.1.1.2.2.2.2" xref="S2.E2.m2.2.2.2.2.1.1.2.2.2.2.cmml">q</mi><mi id="S2.E2.m2.2.2.2.2.1.1.2.2.2.3" xref="S2.E2.m2.2.2.2.2.1.1.2.2.2.3.cmml">i</mi><mi id="S2.E2.m2.2.2.2.2.1.1.2.2.3" xref="S2.E2.m2.2.2.2.2.1.1.2.2.3.cmml">T</mi></msubsup><mo id="S2.E2.m2.2.2.2.2.1.1.2.1" xref="S2.E2.m2.2.2.2.2.1.1.2.1.cmml">⁢</mo><msub id="S2.E2.m2.2.2.2.2.1.1.2.3" xref="S2.E2.m2.2.2.2.2.1.1.2.3.cmml"><mi id="S2.E2.m2.2.2.2.2.1.1.2.3.2" xref="S2.E2.m2.2.2.2.2.1.1.2.3.2.cmml">k</mi><mi id="S2.E2.m2.2.2.2.2.1.1.2.3.3" xref="S2.E2.m2.2.2.2.2.1.1.2.3.3.cmml">j</mi></msub></mrow><mo id="S2.E2.m2.2.2.2.2.1.1.1" xref="S2.E2.m2.2.2.2.2.1.1.1.cmml">/</mo><msqrt id="S2.E2.m2.2.2.2.2.1.1.3" xref="S2.E2.m2.2.2.2.2.1.1.3.cmml"><msub id="S2.E2.m2.2.2.2.2.1.1.3.2" xref="S2.E2.m2.2.2.2.2.1.1.3.2.cmml"><mi id="S2.E2.m2.2.2.2.2.1.1.3.2.2" xref="S2.E2.m2.2.2.2.2.1.1.3.2.2.cmml">d</mi><mi id="S2.E2.m2.2.2.2.2.1.1.3.2.3" xref="S2.E2.m2.2.2.2.2.1.1.3.2.3.cmml">h</mi></msub></msqrt></mrow><mo id="S2.E2.m2.2.2.2.2.1.3" stretchy="false" xref="S2.E2.m2.2.2.2.3.cmml">)</mo></mrow></mrow><mrow id="S2.E2.m2.4.4.4" xref="S2.E2.m2.4.4.4.cmml"><msubsup id="S2.E2.m2.4.4.4.3" xref="S2.E2.m2.4.4.4.3.cmml"><mo id="S2.E2.m2.4.4.4.3.2.2" xref="S2.E2.m2.4.4.4.3.2.2.cmml">∑</mo><mrow id="S2.E2.m2.4.4.4.3.2.3" xref="S2.E2.m2.4.4.4.3.2.3.cmml"><mi id="S2.E2.m2.4.4.4.3.2.3.2" xref="S2.E2.m2.4.4.4.3.2.3.2.cmml">t</mi><mo id="S2.E2.m2.4.4.4.3.2.3.1" xref="S2.E2.m2.4.4.4.3.2.3.1.cmml">=</mo><mn id="S2.E2.m2.4.4.4.3.2.3.3" xref="S2.E2.m2.4.4.4.3.2.3.3.cmml">1</mn></mrow><mi id="S2.E2.m2.4.4.4.3.3" xref="S2.E2.m2.4.4.4.3.3.cmml">i</mi></msubsup><mrow id="S2.E2.m2.4.4.4.2.1" xref="S2.E2.m2.4.4.4.2.2.cmml"><mi id="S2.E2.m2.3.3.3.1" xref="S2.E2.m2.3.3.3.1.cmml">exp</mi><mo id="S2.E2.m2.4.4.4.2.1a" xref="S2.E2.m2.4.4.4.2.2.cmml">⁡</mo><mrow id="S2.E2.m2.4.4.4.2.1.1" xref="S2.E2.m2.4.4.4.2.2.cmml"><mo id="S2.E2.m2.4.4.4.2.1.1.2" stretchy="false" xref="S2.E2.m2.4.4.4.2.2.cmml">(</mo><mrow id="S2.E2.m2.4.4.4.2.1.1.1" xref="S2.E2.m2.4.4.4.2.1.1.1.cmml"><mrow id="S2.E2.m2.4.4.4.2.1.1.1.2" xref="S2.E2.m2.4.4.4.2.1.1.1.2.cmml"><msubsup id="S2.E2.m2.4.4.4.2.1.1.1.2.2" xref="S2.E2.m2.4.4.4.2.1.1.1.2.2.cmml"><mi id="S2.E2.m2.4.4.4.2.1.1.1.2.2.2.2" xref="S2.E2.m2.4.4.4.2.1.1.1.2.2.2.2.cmml">q</mi><mi id="S2.E2.m2.4.4.4.2.1.1.1.2.2.2.3" xref="S2.E2.m2.4.4.4.2.1.1.1.2.2.2.3.cmml">i</mi><mi id="S2.E2.m2.4.4.4.2.1.1.1.2.2.3" xref="S2.E2.m2.4.4.4.2.1.1.1.2.2.3.cmml">T</mi></msubsup><mo id="S2.E2.m2.4.4.4.2.1.1.1.2.1" xref="S2.E2.m2.4.4.4.2.1.1.1.2.1.cmml">⁢</mo><msub id="S2.E2.m2.4.4.4.2.1.1.1.2.3" xref="S2.E2.m2.4.4.4.2.1.1.1.2.3.cmml"><mi id="S2.E2.m2.4.4.4.2.1.1.1.2.3.2" xref="S2.E2.m2.4.4.4.2.1.1.1.2.3.2.cmml">k</mi><mi id="S2.E2.m2.4.4.4.2.1.1.1.2.3.3" xref="S2.E2.m2.4.4.4.2.1.1.1.2.3.3.cmml">t</mi></msub></mrow><mo id="S2.E2.m2.4.4.4.2.1.1.1.1" xref="S2.E2.m2.4.4.4.2.1.1.1.1.cmml">/</mo><msqrt id="S2.E2.m2.4.4.4.2.1.1.1.3" xref="S2.E2.m2.4.4.4.2.1.1.1.3.cmml"><msub id="S2.E2.m2.4.4.4.2.1.1.1.3.2" xref="S2.E2.m2.4.4.4.2.1.1.1.3.2.cmml"><mi id="S2.E2.m2.4.4.4.2.1.1.1.3.2.2" xref="S2.E2.m2.4.4.4.2.1.1.1.3.2.2.cmml">d</mi><mi id="S2.E2.m2.4.4.4.2.1.1.1.3.2.3" xref="S2.E2.m2.4.4.4.2.1.1.1.3.2.3.cmml">h</mi></msub></msqrt></mrow><mo id="S2.E2.m2.4.4.4.2.1.1.3" stretchy="false" xref="S2.E2.m2.4.4.4.2.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m2.4b"><apply id="S2.E2.m2.4.5.cmml" xref="S2.E2.m2.4.5"><eq id="S2.E2.m2.4.5.1.cmml" xref="S2.E2.m2.4.5.1"></eq><csymbol cd="latexml" id="S2.E2.m2.4.5.2.cmml" xref="S2.E2.m2.4.5.2">absent</csymbol><apply id="S2.E2.m2.4.4.cmml" xref="S2.E2.m2.4.4"><divide id="S2.E2.m2.4.4.5.cmml" xref="S2.E2.m2.4.4"></divide><apply id="S2.E2.m2.2.2.2.3.cmml" xref="S2.E2.m2.2.2.2.2"><exp id="S2.E2.m2.1.1.1.1.cmml" xref="S2.E2.m2.1.1.1.1"></exp><apply id="S2.E2.m2.2.2.2.2.1.1.cmml" xref="S2.E2.m2.2.2.2.2.1.1"><divide id="S2.E2.m2.2.2.2.2.1.1.1.cmml" xref="S2.E2.m2.2.2.2.2.1.1.1"></divide><apply id="S2.E2.m2.2.2.2.2.1.1.2.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2"><times id="S2.E2.m2.2.2.2.2.1.1.2.1.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.1"></times><apply id="S2.E2.m2.2.2.2.2.1.1.2.2.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S2.E2.m2.2.2.2.2.1.1.2.2.1.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.2">superscript</csymbol><apply id="S2.E2.m2.2.2.2.2.1.1.2.2.2.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S2.E2.m2.2.2.2.2.1.1.2.2.2.1.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.2">subscript</csymbol><ci id="S2.E2.m2.2.2.2.2.1.1.2.2.2.2.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.2.2.2">𝑞</ci><ci id="S2.E2.m2.2.2.2.2.1.1.2.2.2.3.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.2.2.3">𝑖</ci></apply><ci id="S2.E2.m2.2.2.2.2.1.1.2.2.3.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.2.3">𝑇</ci></apply><apply id="S2.E2.m2.2.2.2.2.1.1.2.3.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S2.E2.m2.2.2.2.2.1.1.2.3.1.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.3">subscript</csymbol><ci id="S2.E2.m2.2.2.2.2.1.1.2.3.2.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.3.2">𝑘</ci><ci id="S2.E2.m2.2.2.2.2.1.1.2.3.3.cmml" xref="S2.E2.m2.2.2.2.2.1.1.2.3.3">𝑗</ci></apply></apply><apply id="S2.E2.m2.2.2.2.2.1.1.3.cmml" xref="S2.E2.m2.2.2.2.2.1.1.3"><root id="S2.E2.m2.2.2.2.2.1.1.3a.cmml" xref="S2.E2.m2.2.2.2.2.1.1.3"></root><apply id="S2.E2.m2.2.2.2.2.1.1.3.2.cmml" xref="S2.E2.m2.2.2.2.2.1.1.3.2"><csymbol cd="ambiguous" id="S2.E2.m2.2.2.2.2.1.1.3.2.1.cmml" xref="S2.E2.m2.2.2.2.2.1.1.3.2">subscript</csymbol><ci id="S2.E2.m2.2.2.2.2.1.1.3.2.2.cmml" xref="S2.E2.m2.2.2.2.2.1.1.3.2.2">𝑑</ci><ci id="S2.E2.m2.2.2.2.2.1.1.3.2.3.cmml" xref="S2.E2.m2.2.2.2.2.1.1.3.2.3">ℎ</ci></apply></apply></apply></apply><apply id="S2.E2.m2.4.4.4.cmml" xref="S2.E2.m2.4.4.4"><apply id="S2.E2.m2.4.4.4.3.cmml" xref="S2.E2.m2.4.4.4.3"><csymbol cd="ambiguous" id="S2.E2.m2.4.4.4.3.1.cmml" xref="S2.E2.m2.4.4.4.3">superscript</csymbol><apply id="S2.E2.m2.4.4.4.3.2.cmml" xref="S2.E2.m2.4.4.4.3"><csymbol cd="ambiguous" id="S2.E2.m2.4.4.4.3.2.1.cmml" xref="S2.E2.m2.4.4.4.3">subscript</csymbol><sum id="S2.E2.m2.4.4.4.3.2.2.cmml" xref="S2.E2.m2.4.4.4.3.2.2"></sum><apply id="S2.E2.m2.4.4.4.3.2.3.cmml" xref="S2.E2.m2.4.4.4.3.2.3"><eq id="S2.E2.m2.4.4.4.3.2.3.1.cmml" xref="S2.E2.m2.4.4.4.3.2.3.1"></eq><ci id="S2.E2.m2.4.4.4.3.2.3.2.cmml" xref="S2.E2.m2.4.4.4.3.2.3.2">𝑡</ci><cn id="S2.E2.m2.4.4.4.3.2.3.3.cmml" type="integer" xref="S2.E2.m2.4.4.4.3.2.3.3">1</cn></apply></apply><ci id="S2.E2.m2.4.4.4.3.3.cmml" xref="S2.E2.m2.4.4.4.3.3">𝑖</ci></apply><apply id="S2.E2.m2.4.4.4.2.2.cmml" xref="S2.E2.m2.4.4.4.2.1"><exp id="S2.E2.m2.3.3.3.1.cmml" xref="S2.E2.m2.3.3.3.1"></exp><apply id="S2.E2.m2.4.4.4.2.1.1.1.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1"><divide id="S2.E2.m2.4.4.4.2.1.1.1.1.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.1"></divide><apply id="S2.E2.m2.4.4.4.2.1.1.1.2.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2"><times id="S2.E2.m2.4.4.4.2.1.1.1.2.1.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.1"></times><apply id="S2.E2.m2.4.4.4.2.1.1.1.2.2.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.E2.m2.4.4.4.2.1.1.1.2.2.1.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.2">superscript</csymbol><apply id="S2.E2.m2.4.4.4.2.1.1.1.2.2.2.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.E2.m2.4.4.4.2.1.1.1.2.2.2.1.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.2">subscript</csymbol><ci id="S2.E2.m2.4.4.4.2.1.1.1.2.2.2.2.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.2.2.2">𝑞</ci><ci id="S2.E2.m2.4.4.4.2.1.1.1.2.2.2.3.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.2.2.3">𝑖</ci></apply><ci id="S2.E2.m2.4.4.4.2.1.1.1.2.2.3.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.2.3">𝑇</ci></apply><apply id="S2.E2.m2.4.4.4.2.1.1.1.2.3.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S2.E2.m2.4.4.4.2.1.1.1.2.3.1.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.3">subscript</csymbol><ci id="S2.E2.m2.4.4.4.2.1.1.1.2.3.2.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.3.2">𝑘</ci><ci id="S2.E2.m2.4.4.4.2.1.1.1.2.3.3.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.2.3.3">𝑡</ci></apply></apply><apply id="S2.E2.m2.4.4.4.2.1.1.1.3.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.3"><root id="S2.E2.m2.4.4.4.2.1.1.1.3a.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.3"></root><apply id="S2.E2.m2.4.4.4.2.1.1.1.3.2.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.E2.m2.4.4.4.2.1.1.1.3.2.1.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.3.2">subscript</csymbol><ci id="S2.E2.m2.4.4.4.2.1.1.1.3.2.2.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.3.2.2">𝑑</ci><ci id="S2.E2.m2.4.4.4.2.1.1.1.3.2.3.cmml" xref="S2.E2.m2.4.4.4.2.1.1.1.3.2.3">ℎ</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m2.4c">\displaystyle=\frac{\exp(q_{i}^{T}k_{j}/\sqrt{d_{h}})}{\sum_{t=1}^{i}\exp(q_{i%
}^{T}k_{t}/\sqrt{d_{h}})}</annotation><annotation encoding="application/x-llamapun" id="S2.E2.m2.4d">= divide start_ARG roman_exp ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT italic_k start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT / square-root start_ARG italic_d start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT end_ARG ) end_ARG start_ARG ∑ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT roman_exp ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT italic_k start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT / square-root start_ARG italic_d start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT end_ARG ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS2.p1.12">where <math alttext="k_{t}" class="ltx_Math" display="inline" id="S2.SS2.p1.3.m1.1"><semantics id="S2.SS2.p1.3.m1.1a"><msub id="S2.SS2.p1.3.m1.1.1" xref="S2.SS2.p1.3.m1.1.1.cmml"><mi id="S2.SS2.p1.3.m1.1.1.2" xref="S2.SS2.p1.3.m1.1.1.2.cmml">k</mi><mi id="S2.SS2.p1.3.m1.1.1.3" xref="S2.SS2.p1.3.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.3.m1.1b"><apply id="S2.SS2.p1.3.m1.1.1.cmml" xref="S2.SS2.p1.3.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.3.m1.1.1.1.cmml" xref="S2.SS2.p1.3.m1.1.1">subscript</csymbol><ci id="S2.SS2.p1.3.m1.1.1.2.cmml" xref="S2.SS2.p1.3.m1.1.1.2">𝑘</ci><ci id="S2.SS2.p1.3.m1.1.1.3.cmml" xref="S2.SS2.p1.3.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.3.m1.1c">k_{t}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.3.m1.1d">italic_k start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is the key at <math alttext="t^{th}" class="ltx_Math" display="inline" id="S2.SS2.p1.4.m2.1"><semantics id="S2.SS2.p1.4.m2.1a"><msup id="S2.SS2.p1.4.m2.1.1" xref="S2.SS2.p1.4.m2.1.1.cmml"><mi id="S2.SS2.p1.4.m2.1.1.2" xref="S2.SS2.p1.4.m2.1.1.2.cmml">t</mi><mrow id="S2.SS2.p1.4.m2.1.1.3" xref="S2.SS2.p1.4.m2.1.1.3.cmml"><mi id="S2.SS2.p1.4.m2.1.1.3.2" xref="S2.SS2.p1.4.m2.1.1.3.2.cmml">t</mi><mo id="S2.SS2.p1.4.m2.1.1.3.1" xref="S2.SS2.p1.4.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p1.4.m2.1.1.3.3" xref="S2.SS2.p1.4.m2.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.4.m2.1b"><apply id="S2.SS2.p1.4.m2.1.1.cmml" xref="S2.SS2.p1.4.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.4.m2.1.1.1.cmml" xref="S2.SS2.p1.4.m2.1.1">superscript</csymbol><ci id="S2.SS2.p1.4.m2.1.1.2.cmml" xref="S2.SS2.p1.4.m2.1.1.2">𝑡</ci><apply id="S2.SS2.p1.4.m2.1.1.3.cmml" xref="S2.SS2.p1.4.m2.1.1.3"><times id="S2.SS2.p1.4.m2.1.1.3.1.cmml" xref="S2.SS2.p1.4.m2.1.1.3.1"></times><ci id="S2.SS2.p1.4.m2.1.1.3.2.cmml" xref="S2.SS2.p1.4.m2.1.1.3.2">𝑡</ci><ci id="S2.SS2.p1.4.m2.1.1.3.3.cmml" xref="S2.SS2.p1.4.m2.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.4.m2.1c">t^{th}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.4.m2.1d">italic_t start_POSTSUPERSCRIPT italic_t italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> iteration, <math alttext="v_{j}" class="ltx_Math" display="inline" id="S2.SS2.p1.5.m3.1"><semantics id="S2.SS2.p1.5.m3.1a"><msub id="S2.SS2.p1.5.m3.1.1" xref="S2.SS2.p1.5.m3.1.1.cmml"><mi id="S2.SS2.p1.5.m3.1.1.2" xref="S2.SS2.p1.5.m3.1.1.2.cmml">v</mi><mi id="S2.SS2.p1.5.m3.1.1.3" xref="S2.SS2.p1.5.m3.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.5.m3.1b"><apply id="S2.SS2.p1.5.m3.1.1.cmml" xref="S2.SS2.p1.5.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.5.m3.1.1.1.cmml" xref="S2.SS2.p1.5.m3.1.1">subscript</csymbol><ci id="S2.SS2.p1.5.m3.1.1.2.cmml" xref="S2.SS2.p1.5.m3.1.1.2">𝑣</ci><ci id="S2.SS2.p1.5.m3.1.1.3.cmml" xref="S2.SS2.p1.5.m3.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.5.m3.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.5.m3.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> is the value at <math alttext="j^{th}" class="ltx_Math" display="inline" id="S2.SS2.p1.6.m4.1"><semantics id="S2.SS2.p1.6.m4.1a"><msup id="S2.SS2.p1.6.m4.1.1" xref="S2.SS2.p1.6.m4.1.1.cmml"><mi id="S2.SS2.p1.6.m4.1.1.2" xref="S2.SS2.p1.6.m4.1.1.2.cmml">j</mi><mrow id="S2.SS2.p1.6.m4.1.1.3" xref="S2.SS2.p1.6.m4.1.1.3.cmml"><mi id="S2.SS2.p1.6.m4.1.1.3.2" xref="S2.SS2.p1.6.m4.1.1.3.2.cmml">t</mi><mo id="S2.SS2.p1.6.m4.1.1.3.1" xref="S2.SS2.p1.6.m4.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p1.6.m4.1.1.3.3" xref="S2.SS2.p1.6.m4.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.6.m4.1b"><apply id="S2.SS2.p1.6.m4.1.1.cmml" xref="S2.SS2.p1.6.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.6.m4.1.1.1.cmml" xref="S2.SS2.p1.6.m4.1.1">superscript</csymbol><ci id="S2.SS2.p1.6.m4.1.1.2.cmml" xref="S2.SS2.p1.6.m4.1.1.2">𝑗</ci><apply id="S2.SS2.p1.6.m4.1.1.3.cmml" xref="S2.SS2.p1.6.m4.1.1.3"><times id="S2.SS2.p1.6.m4.1.1.3.1.cmml" xref="S2.SS2.p1.6.m4.1.1.3.1"></times><ci id="S2.SS2.p1.6.m4.1.1.3.2.cmml" xref="S2.SS2.p1.6.m4.1.1.3.2">𝑡</ci><ci id="S2.SS2.p1.6.m4.1.1.3.3.cmml" xref="S2.SS2.p1.6.m4.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.6.m4.1c">j^{th}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.6.m4.1d">italic_j start_POSTSUPERSCRIPT italic_t italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> iteration, <math alttext="a_{i,j}" class="ltx_Math" display="inline" id="S2.SS2.p1.7.m5.2"><semantics id="S2.SS2.p1.7.m5.2a"><msub id="S2.SS2.p1.7.m5.2.3" xref="S2.SS2.p1.7.m5.2.3.cmml"><mi id="S2.SS2.p1.7.m5.2.3.2" xref="S2.SS2.p1.7.m5.2.3.2.cmml">a</mi><mrow id="S2.SS2.p1.7.m5.2.2.2.4" xref="S2.SS2.p1.7.m5.2.2.2.3.cmml"><mi id="S2.SS2.p1.7.m5.1.1.1.1" xref="S2.SS2.p1.7.m5.1.1.1.1.cmml">i</mi><mo id="S2.SS2.p1.7.m5.2.2.2.4.1" xref="S2.SS2.p1.7.m5.2.2.2.3.cmml">,</mo><mi id="S2.SS2.p1.7.m5.2.2.2.2" xref="S2.SS2.p1.7.m5.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.7.m5.2b"><apply id="S2.SS2.p1.7.m5.2.3.cmml" xref="S2.SS2.p1.7.m5.2.3"><csymbol cd="ambiguous" id="S2.SS2.p1.7.m5.2.3.1.cmml" xref="S2.SS2.p1.7.m5.2.3">subscript</csymbol><ci id="S2.SS2.p1.7.m5.2.3.2.cmml" xref="S2.SS2.p1.7.m5.2.3.2">𝑎</ci><list id="S2.SS2.p1.7.m5.2.2.2.3.cmml" xref="S2.SS2.p1.7.m5.2.2.2.4"><ci id="S2.SS2.p1.7.m5.1.1.1.1.cmml" xref="S2.SS2.p1.7.m5.1.1.1.1">𝑖</ci><ci id="S2.SS2.p1.7.m5.2.2.2.2.cmml" xref="S2.SS2.p1.7.m5.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.7.m5.2c">a_{i,j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.7.m5.2d">italic_a start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT</annotation></semantics></math> is the attention weight of <math alttext="v_{j}" class="ltx_Math" display="inline" id="S2.SS2.p1.8.m6.1"><semantics id="S2.SS2.p1.8.m6.1a"><msub id="S2.SS2.p1.8.m6.1.1" xref="S2.SS2.p1.8.m6.1.1.cmml"><mi id="S2.SS2.p1.8.m6.1.1.2" xref="S2.SS2.p1.8.m6.1.1.2.cmml">v</mi><mi id="S2.SS2.p1.8.m6.1.1.3" xref="S2.SS2.p1.8.m6.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.8.m6.1b"><apply id="S2.SS2.p1.8.m6.1.1.cmml" xref="S2.SS2.p1.8.m6.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.8.m6.1.1.1.cmml" xref="S2.SS2.p1.8.m6.1.1">subscript</csymbol><ci id="S2.SS2.p1.8.m6.1.1.2.cmml" xref="S2.SS2.p1.8.m6.1.1.2">𝑣</ci><ci id="S2.SS2.p1.8.m6.1.1.3.cmml" xref="S2.SS2.p1.8.m6.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.8.m6.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.8.m6.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> at <math alttext="i^{th}" class="ltx_Math" display="inline" id="S2.SS2.p1.9.m7.1"><semantics id="S2.SS2.p1.9.m7.1a"><msup id="S2.SS2.p1.9.m7.1.1" xref="S2.SS2.p1.9.m7.1.1.cmml"><mi id="S2.SS2.p1.9.m7.1.1.2" xref="S2.SS2.p1.9.m7.1.1.2.cmml">i</mi><mrow id="S2.SS2.p1.9.m7.1.1.3" xref="S2.SS2.p1.9.m7.1.1.3.cmml"><mi id="S2.SS2.p1.9.m7.1.1.3.2" xref="S2.SS2.p1.9.m7.1.1.3.2.cmml">t</mi><mo id="S2.SS2.p1.9.m7.1.1.3.1" xref="S2.SS2.p1.9.m7.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p1.9.m7.1.1.3.3" xref="S2.SS2.p1.9.m7.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.9.m7.1b"><apply id="S2.SS2.p1.9.m7.1.1.cmml" xref="S2.SS2.p1.9.m7.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.9.m7.1.1.1.cmml" xref="S2.SS2.p1.9.m7.1.1">superscript</csymbol><ci id="S2.SS2.p1.9.m7.1.1.2.cmml" xref="S2.SS2.p1.9.m7.1.1.2">𝑖</ci><apply id="S2.SS2.p1.9.m7.1.1.3.cmml" xref="S2.SS2.p1.9.m7.1.1.3"><times id="S2.SS2.p1.9.m7.1.1.3.1.cmml" xref="S2.SS2.p1.9.m7.1.1.3.1"></times><ci id="S2.SS2.p1.9.m7.1.1.3.2.cmml" xref="S2.SS2.p1.9.m7.1.1.3.2">𝑡</ci><ci id="S2.SS2.p1.9.m7.1.1.3.3.cmml" xref="S2.SS2.p1.9.m7.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.9.m7.1c">i^{th}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.9.m7.1d">italic_i start_POSTSUPERSCRIPT italic_t italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> iteration, <math alttext="q_{i}" class="ltx_Math" display="inline" id="S2.SS2.p1.10.m8.1"><semantics id="S2.SS2.p1.10.m8.1a"><msub id="S2.SS2.p1.10.m8.1.1" xref="S2.SS2.p1.10.m8.1.1.cmml"><mi id="S2.SS2.p1.10.m8.1.1.2" xref="S2.SS2.p1.10.m8.1.1.2.cmml">q</mi><mi id="S2.SS2.p1.10.m8.1.1.3" xref="S2.SS2.p1.10.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.10.m8.1b"><apply id="S2.SS2.p1.10.m8.1.1.cmml" xref="S2.SS2.p1.10.m8.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.10.m8.1.1.1.cmml" xref="S2.SS2.p1.10.m8.1.1">subscript</csymbol><ci id="S2.SS2.p1.10.m8.1.1.2.cmml" xref="S2.SS2.p1.10.m8.1.1.2">𝑞</ci><ci id="S2.SS2.p1.10.m8.1.1.3.cmml" xref="S2.SS2.p1.10.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.10.m8.1c">q_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.10.m8.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is the query at <math alttext="i^{th}" class="ltx_Math" display="inline" id="S2.SS2.p1.11.m9.1"><semantics id="S2.SS2.p1.11.m9.1a"><msup id="S2.SS2.p1.11.m9.1.1" xref="S2.SS2.p1.11.m9.1.1.cmml"><mi id="S2.SS2.p1.11.m9.1.1.2" xref="S2.SS2.p1.11.m9.1.1.2.cmml">i</mi><mrow id="S2.SS2.p1.11.m9.1.1.3" xref="S2.SS2.p1.11.m9.1.1.3.cmml"><mi id="S2.SS2.p1.11.m9.1.1.3.2" xref="S2.SS2.p1.11.m9.1.1.3.2.cmml">t</mi><mo id="S2.SS2.p1.11.m9.1.1.3.1" xref="S2.SS2.p1.11.m9.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p1.11.m9.1.1.3.3" xref="S2.SS2.p1.11.m9.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.11.m9.1b"><apply id="S2.SS2.p1.11.m9.1.1.cmml" xref="S2.SS2.p1.11.m9.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.11.m9.1.1.1.cmml" xref="S2.SS2.p1.11.m9.1.1">superscript</csymbol><ci id="S2.SS2.p1.11.m9.1.1.2.cmml" xref="S2.SS2.p1.11.m9.1.1.2">𝑖</ci><apply id="S2.SS2.p1.11.m9.1.1.3.cmml" xref="S2.SS2.p1.11.m9.1.1.3"><times id="S2.SS2.p1.11.m9.1.1.3.1.cmml" xref="S2.SS2.p1.11.m9.1.1.3.1"></times><ci id="S2.SS2.p1.11.m9.1.1.3.2.cmml" xref="S2.SS2.p1.11.m9.1.1.3.2">𝑡</ci><ci id="S2.SS2.p1.11.m9.1.1.3.3.cmml" xref="S2.SS2.p1.11.m9.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.11.m9.1c">i^{th}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.11.m9.1d">italic_i start_POSTSUPERSCRIPT italic_t italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> iteration, and <math alttext="d_{h}" class="ltx_Math" display="inline" id="S2.SS2.p1.12.m10.1"><semantics id="S2.SS2.p1.12.m10.1a"><msub id="S2.SS2.p1.12.m10.1.1" xref="S2.SS2.p1.12.m10.1.1.cmml"><mi id="S2.SS2.p1.12.m10.1.1.2" xref="S2.SS2.p1.12.m10.1.1.2.cmml">d</mi><mi id="S2.SS2.p1.12.m10.1.1.3" xref="S2.SS2.p1.12.m10.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.12.m10.1b"><apply id="S2.SS2.p1.12.m10.1.1.cmml" xref="S2.SS2.p1.12.m10.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.12.m10.1.1.1.cmml" xref="S2.SS2.p1.12.m10.1.1">subscript</csymbol><ci id="S2.SS2.p1.12.m10.1.1.2.cmml" xref="S2.SS2.p1.12.m10.1.1.2">𝑑</ci><ci id="S2.SS2.p1.12.m10.1.1.3.cmml" xref="S2.SS2.p1.12.m10.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.12.m10.1c">d_{h}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.12.m10.1d">italic_d start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT</annotation></semantics></math> is the hidden dimension of model. The output generation at each iteration relies on the previous generated key and value vectors.</p>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">To avoid the redundant computation in attention layer, the key and value vectors of past tokens are often cached for generating the next tokens, which are known as <span class="ltx_text ltx_font_italic" id="S2.SS2.p2.1.1">KV cache</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib19" title="">19</a>]</cite>. Thus, the LLM inference involves two phases, namely the prefill phase and autoregressive generation phase. In the prefill phase, the LLM takes the user context tokens as input and generates the first token, during which the intermediate keys and values are prefilled in KV cache. In the autoregressive generation phase, the LLM takes the previous generated token as input and generates the following tokens at a time, until one stopping criteria is triggered.</p>
</div>
<div class="ltx_para" id="S2.SS2.p3">
<p class="ltx_p" id="S2.SS2.p3.1">This inference mode results in at least two perspectives that need to be optimized. The first is the GPU memory requirements caused by KV cache, which is linearly growing with batch size and sequence length. Eventually, it leads to the limitation of the throughput and long-context inputs of LLM Service. The second is the low GPU utilization brought by sequential autoregressive generation, which will lead to lower throughput of LLM Service.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S2.SS3.4.1.1">II-C</span> </span><span class="ltx_text ltx_font_italic" id="S2.SS3.5.2">Optimizing the LLM Inference</span>
</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.1">To optimize the LLM inference, several approaches <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib10" title="">10</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib8" title="">8</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib11" title="">11</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib12" title="">12</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib14" title="">14</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib15" title="">15</a>]</cite> has been proposed. For instance,
PagedAttention <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib8" title="">8</a>]</cite> is an attention algorithm which optimizes the KV cache management by storing attention keys and values in non-contiguous paged memory. It achieves near-zero waste in KV cache memory and flexible sharing of KV cache within and across requests.
FlashAttention <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib9" title="">9</a>]</cite> is an IO-aware exact attention algorithm which optimizes the LLM inference computation by reducing the number of memory reads/writes between GPU high bandwidth memory (HBM) and GPU on-chip SRAM.
OCRA <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib10" title="">10</a>]</cite> is an iteration-level scheduling mechanism which addresses the multi-iteration issues in autoregressive generation phase. It adopts selective batching to batch arbitrary requests processing tokens at different positions so that the scheduler can execute at the granularity of iteration instead of request.
SpecInfer <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib20" title="">20</a>]</cite> is an LLM serving system which focuses on accelerating generative LLM inference with speculative inference and token tree verification. It combines various boost-tuned small language models to jointly predict the LLM outputs and uses an LLM as a token tree verifier, so that to reduce the end-to-end latency and computational requirement.
Despite many researchers are focusing on optimizing the LLM inference, there are still several practical challenges to be addressed from the perspective of serverless LLM serving, which will be demonstrated in the next section.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span class="ltx_text ltx_font_smallcaps" id="S3.1.1">Motivation</span>
</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS1.4.1.1">III-A</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS1.5.2">Problem Formulation</span>
</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">Instead of model inference, this paper aims at serverless LLM serving so that LLM developers can focus on model training or fine-tuning and no longer need to spend time providing stable and scalable LLM service in multi-GPU clusters. To achieve that, there are two target problems to be addressed.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<ul class="ltx_itemize" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.1">Given a pre-trained or fine-tuned LLM, we need to determine the optimal configurations so that to maximize interactive performance and minimize costs. Then the LLM can be dispatched to the target idle machines in multi-GPU clusters.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.1">Given an online LLM service, we need to observe the service quality in real time. When we detect the anomalous resource utilization or service quality, we need to redetermine the optimal configuration of LLM service and re-schedule it automatically.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS2.4.1.1">III-B</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS2.5.2">Goals of Serverless LLM Serving</span>
</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">To effectively address the two target problems and achieve serverless LLM serving, several specific objectives need to be accomplished. Firstly, it’s important to recognize that LLM services require distinct service configurations when extended to different application agents. For example, the configuration termed as maximal number of sequences (also <span class="ltx_text ltx_font_italic" id="S3.SS2.p1.1.1">max_num_seqs</span>) is crucial, as it determines the number of requests that can be handled simultaneously by the LLM service. This requires allocating sufficient GPU memory to handle multiple requests in parallel. Diverse agents may have varied short-term and long-term memory structures that are critical for executing future actions. These differences directly impact the input sequence length required for LLM tasks. During the LLM generation phase, the greater the input sequence length, the more GPU memory is necessary. However, it is important to point out that there is a maximum memory capacity for each GPU, which will limit the <span class="ltx_text ltx_font_italic" id="S3.SS2.p1.1.2">max_num_seqs</span> by the context length of LLM tasks. In practice, many service configurations will be affected when an LLM service is extended to different application agents. We need to recommend the optimal service configurations for each application agent, which can be considered as the <span class="ltx_text ltx_font_bold" id="S3.SS2.p1.1.3">multi-agent deployment goal</span> of serverless LLM serving.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1">Secondly, it’s crucial to determine the optimal service configurations for deploying an LLM on multi-GPU clusters. Still using the <span class="ltx_text ltx_font_italic" id="S3.SS2.p2.1.1">max_num_seqs</span> as an example, the capacity to process multiple requests concurrently is directly proportional to the computing capacity of the GPUs deployed. For instance, the NVIDIA H100 80 GB can process more requests concurrently compared to the GeForce RTX 4090 24 GB. Therefore, the <span class="ltx_text ltx_font_italic" id="S3.SS2.p2.1.2">max_num_seqs</span> for an LLM service deployed on the NVIDIA H100 80 GB should be set higher to fully utilize its superior computing capabilities. Due to differences in computing capacities across various GPU devices, the service configurations of an LLM service will be significantly affected. We need to recommend the optimal service configurations for the LLM deployed on multi-GPU clusters, which can be understood as the <span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.3">multi-GPU deployment goal</span> of serverless LLM serving.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.4">Thirdly, it is essential to point out that there is an upper limit to the number of requests per second that can be sent to an LLM service. The previous two goals focus on increasing this limit using fewer GPU resources when LLM services are deployed on multi-GPU clusters and extended to various application agents. When the requests per second slightly exceed this limit, the LLM service will be down, causing all incoming requests significant delays until the HTTP connection times out. Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S3.F1" title="Figure 1 ‣ III-B Goals of Serverless LLM Serving ‣ III Motivation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">1</span></a> is a practical case in an industrial environment. Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S3.F1" title="Figure 1 ‣ III-B Goals of Serverless LLM Serving ‣ III Motivation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">1</span></a> (A) and (B) respectively presents the monitoring metrics for running and pending requests when the requests per second sent to LLM service are set to <math alttext="7" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.1"><semantics id="S3.SS2.p3.1.m1.1a"><mn id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml">7</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><cn id="S3.SS2.p3.1.m1.1.1.cmml" type="integer" xref="S3.SS2.p3.1.m1.1.1">7</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">7</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.1d">7</annotation></semantics></math> and <math alttext="6" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><mn id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><cn id="S3.SS2.p3.2.m2.1.1.cmml" type="integer" xref="S3.SS2.p3.2.m2.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">6</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">6</annotation></semantics></math>. The running requests represent the number of requests currently running on the GPU, while the pending requests are those queued and waiting to be processed. We can observe that when requests per second are set to <math alttext="6" class="ltx_Math" display="inline" id="S3.SS2.p3.3.m3.1"><semantics id="S3.SS2.p3.3.m3.1a"><mn id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><cn id="S3.SS2.p3.3.m3.1.1.cmml" type="integer" xref="S3.SS2.p3.3.m3.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">6</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.3.m3.1d">6</annotation></semantics></math>, all requests can be processed without any delays caused by waiting in queue. However, when requests per second increase to <math alttext="7" class="ltx_Math" display="inline" id="S3.SS2.p3.4.m4.1"><semantics id="S3.SS2.p3.4.m4.1a"><mn id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml">7</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.1b"><cn id="S3.SS2.p3.4.m4.1.1.cmml" type="integer" xref="S3.SS2.p3.4.m4.1.1">7</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.1c">7</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.4.m4.1d">7</annotation></semantics></math>, more and more requests accumulate and pend in the queue after the number of running requests reaches <span class="ltx_text ltx_font_italic" id="S3.SS2.p3.4.1">max_num_seqs</span>. To handle these pending requests, we need to add another replica of the LLM service. In industrial environments, the requests per second are not constant but hard to predict, varying with demands and user activity. To provide a stable and scalable service, it’s essential to implement automatic scaling of the LLM service. This can be regarded as the <span class="ltx_text ltx_font_bold" id="S3.SS2.p3.4.2">autoscaling goal</span> of serverless LLM serving.</p>
</div>
<figure class="ltx_figure" id="S3.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="308" id="S3.F1.g1" src="extracted/5602198/figures/autoscaling.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>The monitoring metrics for running and pending requests when the requests per second sent to LLM service is set to <math alttext="7" class="ltx_Math" display="inline" id="S3.F1.3.m1.1"><semantics id="S3.F1.3.m1.1b"><mn id="S3.F1.3.m1.1.1" xref="S3.F1.3.m1.1.1.cmml">7</mn><annotation-xml encoding="MathML-Content" id="S3.F1.3.m1.1c"><cn id="S3.F1.3.m1.1.1.cmml" type="integer" xref="S3.F1.3.m1.1.1">7</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.3.m1.1d">7</annotation><annotation encoding="application/x-llamapun" id="S3.F1.3.m1.1e">7</annotation></semantics></math> and <math alttext="6" class="ltx_Math" display="inline" id="S3.F1.4.m2.1"><semantics id="S3.F1.4.m2.1b"><mn id="S3.F1.4.m2.1.1" xref="S3.F1.4.m2.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S3.F1.4.m2.1c"><cn id="S3.F1.4.m2.1.1.cmml" type="integer" xref="S3.F1.4.m2.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.4.m2.1d">6</annotation><annotation encoding="application/x-llamapun" id="S3.F1.4.m2.1e">6</annotation></semantics></math> respectively.</figcaption>
</figure>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="287" id="S3.F2.g1" src="extracted/5602198/figures/ENOVA.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>The procedure by which we deconstruct the process of LLM inference led to the design of configuration module and detection module in ENOVA. </figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span class="ltx_text ltx_font_smallcaps" id="S4.1.1">Approach Overview</span>
</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">To achieve the above goals, To address these challenges, we propose ENOVA, a deployment, monitoring and autoscaling service towards stable and cost-effective serverless LLM serving. Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S3.F2" title="Figure 2 ‣ III-B Goals of Serverless LLM Serving ‣ III Motivation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">2</span></a> illustrates how ENOVA deconstructs the execution process of LLM inference. The request pool collects user inputs and dispatches them to a replica of the LLM service deployed on GPU clusters via an HTTP load balancer. For continuously incoming requests, the LLM service merges these newly coming requests with previously running requests into a batch via continuous batching <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib10" title="">10</a>]</cite>. During the autoregressive generation phase, the key and value vectors of all running requests are stored as non-contiguous blocks using PagedAttention <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib8" title="">8</a>]</cite> and leveraged to generate attention output. When generating the output in a single step, speculative decoding strategies such as SpecInfer <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib20" title="">20</a>]</cite> are utilized to predict the next <math alttext="k" class="ltx_Math" display="inline" id="S4.p1.1.m1.1"><semantics id="S4.p1.1.m1.1a"><mi id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><ci id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.p1.1.m1.1d">italic_k</annotation></semantics></math> tokens, thereby accelerating the LLM inference process. These inference techniques introduce a set of service configurations that must be carefully configured to provide a stable and cost-effective LLM service. Therefore, ENOVA designs two key modules: the service configuration module and the performance detection module. The configuration module aims to determine the optimal configurations for LLM services, including the <span class="ltx_text ltx_font_italic" id="S4.p1.1.1">max_num_seqs</span> for continuous batching and <span class="ltx_text ltx_font_italic" id="S4.p1.1.2">gpu_memory</span> for PagedAttention. Meanwhile, the detection module is responsible for monitoring service quality and resource utilization, identifying anomalies that trigger autoscaling actions. In this section, we will provide a detailed exploration of these modules and their respective functionalities.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS1.4.1.1">IV-A</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS1.5.2">Service Configuration Module</span>
</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.5">To achieve the <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.5.1">multi-agent deployment</span> and <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.5.2">multi-GPU deployment goals</span>, ENOVA has designed a service configuration recommendation module. This module is built for LLMs deployed on any GPU cluster and extended to various application agents, ensuring optimal configurations and performance across diverse environments. Taking <span class="ltx_text ltx_font_italic" id="S4.SS1.p1.5.3">gpu_memory</span> allocated for LLM service as an example, the necessary memory allocation can be expressed as:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S9.EGx2">
<tbody id="S4.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle mem\approx" class="ltx_Math" display="inline" id="S4.Ex1.m1.1"><semantics id="S4.Ex1.m1.1a"><mrow id="S4.Ex1.m1.1.1" xref="S4.Ex1.m1.1.1.cmml"><mrow id="S4.Ex1.m1.1.1.2" xref="S4.Ex1.m1.1.1.2.cmml"><mi id="S4.Ex1.m1.1.1.2.2" xref="S4.Ex1.m1.1.1.2.2.cmml">m</mi><mo id="S4.Ex1.m1.1.1.2.1" xref="S4.Ex1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.Ex1.m1.1.1.2.3" xref="S4.Ex1.m1.1.1.2.3.cmml">e</mi><mo id="S4.Ex1.m1.1.1.2.1a" xref="S4.Ex1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.Ex1.m1.1.1.2.4" xref="S4.Ex1.m1.1.1.2.4.cmml">m</mi></mrow><mo id="S4.Ex1.m1.1.1.1" xref="S4.Ex1.m1.1.1.1.cmml">≈</mo><mi id="S4.Ex1.m1.1.1.3" xref="S4.Ex1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex1.m1.1b"><apply id="S4.Ex1.m1.1.1.cmml" xref="S4.Ex1.m1.1.1"><approx id="S4.Ex1.m1.1.1.1.cmml" xref="S4.Ex1.m1.1.1.1"></approx><apply id="S4.Ex1.m1.1.1.2.cmml" xref="S4.Ex1.m1.1.1.2"><times id="S4.Ex1.m1.1.1.2.1.cmml" xref="S4.Ex1.m1.1.1.2.1"></times><ci id="S4.Ex1.m1.1.1.2.2.cmml" xref="S4.Ex1.m1.1.1.2.2">𝑚</ci><ci id="S4.Ex1.m1.1.1.2.3.cmml" xref="S4.Ex1.m1.1.1.2.3">𝑒</ci><ci id="S4.Ex1.m1.1.1.2.4.cmml" xref="S4.Ex1.m1.1.1.2.4">𝑚</ci></apply><csymbol cd="latexml" id="S4.Ex1.m1.1.1.3.cmml" xref="S4.Ex1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex1.m1.1c">\displaystyle mem\approx</annotation><annotation encoding="application/x-llamapun" id="S4.Ex1.m1.1d">italic_m italic_e italic_m ≈</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle{\ }params*sizeof(dtype){\ }+max\_num\_seqs\ *" class="ltx_math_unparsed" display="inline" id="S4.Ex1.m2.1"><semantics id="S4.Ex1.m2.1a"><mrow id="S4.Ex1.m2.1b"><mi id="S4.Ex1.m2.1.1">p</mi><mi id="S4.Ex1.m2.1.2">a</mi><mi id="S4.Ex1.m2.1.3">r</mi><mi id="S4.Ex1.m2.1.4">a</mi><mi id="S4.Ex1.m2.1.5">m</mi><mi id="S4.Ex1.m2.1.6">s</mi><mo id="S4.Ex1.m2.1.7" lspace="0.222em" rspace="0.222em">∗</mo><mi id="S4.Ex1.m2.1.8">s</mi><mi id="S4.Ex1.m2.1.9">i</mi><mi id="S4.Ex1.m2.1.10">z</mi><mi id="S4.Ex1.m2.1.11">e</mi><mi id="S4.Ex1.m2.1.12">o</mi><mi id="S4.Ex1.m2.1.13">f</mi><mrow id="S4.Ex1.m2.1.14"><mo id="S4.Ex1.m2.1.14.1" stretchy="false">(</mo><mi id="S4.Ex1.m2.1.14.2">d</mi><mi id="S4.Ex1.m2.1.14.3">t</mi><mi id="S4.Ex1.m2.1.14.4">y</mi><mi id="S4.Ex1.m2.1.14.5">p</mi><mi id="S4.Ex1.m2.1.14.6">e</mi><mo id="S4.Ex1.m2.1.14.7" rspace="0.500em" stretchy="false">)</mo></mrow><mo id="S4.Ex1.m2.1.15">+</mo><mi id="S4.Ex1.m2.1.16">m</mi><mi id="S4.Ex1.m2.1.17">a</mi><mi id="S4.Ex1.m2.1.18">x</mi><mi id="S4.Ex1.m2.1.19" mathvariant="normal">_</mi><mi id="S4.Ex1.m2.1.20">n</mi><mi id="S4.Ex1.m2.1.21">u</mi><mi id="S4.Ex1.m2.1.22">m</mi><mi id="S4.Ex1.m2.1.23" mathvariant="normal">_</mi><mi id="S4.Ex1.m2.1.24">s</mi><mi id="S4.Ex1.m2.1.25">e</mi><mi id="S4.Ex1.m2.1.26">q</mi><mi id="S4.Ex1.m2.1.27">s</mi><mo id="S4.Ex1.m2.1.28" lspace="0.722em">∗</mo></mrow><annotation encoding="application/x-tex" id="S4.Ex1.m2.1c">\displaystyle{\ }params*sizeof(dtype){\ }+max\_num\_seqs\ *</annotation><annotation encoding="application/x-llamapun" id="S4.Ex1.m2.1d">italic_p italic_a italic_r italic_a italic_m italic_s ∗ italic_s italic_i italic_z italic_e italic_o italic_f ( italic_d italic_t italic_y italic_p italic_e ) + italic_m italic_a italic_x _ italic_n italic_u italic_m _ italic_s italic_e italic_q italic_s ∗</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S4.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle seq\_length*token\_mem+others," class="ltx_Math" display="inline" id="S4.E3.m1.1"><semantics id="S4.E3.m1.1a"><mrow id="S4.E3.m1.1.1.1" xref="S4.E3.m1.1.1.1.1.cmml"><mrow id="S4.E3.m1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.cmml"><mrow id="S4.E3.m1.1.1.1.1.2" xref="S4.E3.m1.1.1.1.1.2.cmml"><mrow id="S4.E3.m1.1.1.1.1.2.2" xref="S4.E3.m1.1.1.1.1.2.2.cmml"><mrow id="S4.E3.m1.1.1.1.1.2.2.2" xref="S4.E3.m1.1.1.1.1.2.2.2.cmml"><mi id="S4.E3.m1.1.1.1.1.2.2.2.2" xref="S4.E3.m1.1.1.1.1.2.2.2.2.cmml">s</mi><mo id="S4.E3.m1.1.1.1.1.2.2.2.1" xref="S4.E3.m1.1.1.1.1.2.2.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.2.2.3" xref="S4.E3.m1.1.1.1.1.2.2.2.3.cmml">e</mi><mo id="S4.E3.m1.1.1.1.1.2.2.2.1a" xref="S4.E3.m1.1.1.1.1.2.2.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.2.2.4" xref="S4.E3.m1.1.1.1.1.2.2.2.4.cmml">q</mi><mo id="S4.E3.m1.1.1.1.1.2.2.2.1b" xref="S4.E3.m1.1.1.1.1.2.2.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.2.2.5" mathvariant="normal" xref="S4.E3.m1.1.1.1.1.2.2.2.5.cmml">_</mi><mo id="S4.E3.m1.1.1.1.1.2.2.2.1c" xref="S4.E3.m1.1.1.1.1.2.2.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.2.2.6" xref="S4.E3.m1.1.1.1.1.2.2.2.6.cmml">l</mi><mo id="S4.E3.m1.1.1.1.1.2.2.2.1d" xref="S4.E3.m1.1.1.1.1.2.2.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.2.2.7" xref="S4.E3.m1.1.1.1.1.2.2.2.7.cmml">e</mi><mo id="S4.E3.m1.1.1.1.1.2.2.2.1e" xref="S4.E3.m1.1.1.1.1.2.2.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.2.2.8" xref="S4.E3.m1.1.1.1.1.2.2.2.8.cmml">n</mi><mo id="S4.E3.m1.1.1.1.1.2.2.2.1f" xref="S4.E3.m1.1.1.1.1.2.2.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.2.2.9" xref="S4.E3.m1.1.1.1.1.2.2.2.9.cmml">g</mi><mo id="S4.E3.m1.1.1.1.1.2.2.2.1g" xref="S4.E3.m1.1.1.1.1.2.2.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.2.2.10" xref="S4.E3.m1.1.1.1.1.2.2.2.10.cmml">t</mi><mo id="S4.E3.m1.1.1.1.1.2.2.2.1h" xref="S4.E3.m1.1.1.1.1.2.2.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.2.2.11" xref="S4.E3.m1.1.1.1.1.2.2.2.11.cmml">h</mi></mrow><mo id="S4.E3.m1.1.1.1.1.2.2.1" lspace="0.222em" rspace="0.222em" xref="S4.E3.m1.1.1.1.1.2.2.1.cmml">∗</mo><mi id="S4.E3.m1.1.1.1.1.2.2.3" xref="S4.E3.m1.1.1.1.1.2.2.3.cmml">t</mi></mrow><mo id="S4.E3.m1.1.1.1.1.2.1" xref="S4.E3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.3" xref="S4.E3.m1.1.1.1.1.2.3.cmml">o</mi><mo id="S4.E3.m1.1.1.1.1.2.1a" xref="S4.E3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.4" xref="S4.E3.m1.1.1.1.1.2.4.cmml">k</mi><mo id="S4.E3.m1.1.1.1.1.2.1b" xref="S4.E3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.5" xref="S4.E3.m1.1.1.1.1.2.5.cmml">e</mi><mo id="S4.E3.m1.1.1.1.1.2.1c" xref="S4.E3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.6" xref="S4.E3.m1.1.1.1.1.2.6.cmml">n</mi><mo id="S4.E3.m1.1.1.1.1.2.1d" xref="S4.E3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.7" mathvariant="normal" xref="S4.E3.m1.1.1.1.1.2.7.cmml">_</mi><mo id="S4.E3.m1.1.1.1.1.2.1e" xref="S4.E3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.8" xref="S4.E3.m1.1.1.1.1.2.8.cmml">m</mi><mo id="S4.E3.m1.1.1.1.1.2.1f" xref="S4.E3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.9" xref="S4.E3.m1.1.1.1.1.2.9.cmml">e</mi><mo id="S4.E3.m1.1.1.1.1.2.1g" xref="S4.E3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.2.10" xref="S4.E3.m1.1.1.1.1.2.10.cmml">m</mi></mrow><mo id="S4.E3.m1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.cmml">+</mo><mrow id="S4.E3.m1.1.1.1.1.3" xref="S4.E3.m1.1.1.1.1.3.cmml"><mi id="S4.E3.m1.1.1.1.1.3.2" xref="S4.E3.m1.1.1.1.1.3.2.cmml">o</mi><mo id="S4.E3.m1.1.1.1.1.3.1" xref="S4.E3.m1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.3.3" xref="S4.E3.m1.1.1.1.1.3.3.cmml">t</mi><mo id="S4.E3.m1.1.1.1.1.3.1a" xref="S4.E3.m1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.3.4" xref="S4.E3.m1.1.1.1.1.3.4.cmml">h</mi><mo id="S4.E3.m1.1.1.1.1.3.1b" xref="S4.E3.m1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.3.5" xref="S4.E3.m1.1.1.1.1.3.5.cmml">e</mi><mo id="S4.E3.m1.1.1.1.1.3.1c" xref="S4.E3.m1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.3.6" xref="S4.E3.m1.1.1.1.1.3.6.cmml">r</mi><mo id="S4.E3.m1.1.1.1.1.3.1d" xref="S4.E3.m1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E3.m1.1.1.1.1.3.7" xref="S4.E3.m1.1.1.1.1.3.7.cmml">s</mi></mrow></mrow><mo id="S4.E3.m1.1.1.1.2" xref="S4.E3.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m1.1b"><apply id="S4.E3.m1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1"><plus id="S4.E3.m1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1"></plus><apply id="S4.E3.m1.1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.1.2"><times id="S4.E3.m1.1.1.1.1.2.1.cmml" xref="S4.E3.m1.1.1.1.1.2.1"></times><apply id="S4.E3.m1.1.1.1.1.2.2.cmml" xref="S4.E3.m1.1.1.1.1.2.2"><times id="S4.E3.m1.1.1.1.1.2.2.1.cmml" xref="S4.E3.m1.1.1.1.1.2.2.1"></times><apply id="S4.E3.m1.1.1.1.1.2.2.2.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2"><times id="S4.E3.m1.1.1.1.1.2.2.2.1.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2.1"></times><ci id="S4.E3.m1.1.1.1.1.2.2.2.2.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2.2">𝑠</ci><ci id="S4.E3.m1.1.1.1.1.2.2.2.3.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2.3">𝑒</ci><ci id="S4.E3.m1.1.1.1.1.2.2.2.4.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2.4">𝑞</ci><ci id="S4.E3.m1.1.1.1.1.2.2.2.5.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2.5">_</ci><ci id="S4.E3.m1.1.1.1.1.2.2.2.6.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2.6">𝑙</ci><ci id="S4.E3.m1.1.1.1.1.2.2.2.7.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2.7">𝑒</ci><ci id="S4.E3.m1.1.1.1.1.2.2.2.8.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2.8">𝑛</ci><ci id="S4.E3.m1.1.1.1.1.2.2.2.9.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2.9">𝑔</ci><ci id="S4.E3.m1.1.1.1.1.2.2.2.10.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2.10">𝑡</ci><ci id="S4.E3.m1.1.1.1.1.2.2.2.11.cmml" xref="S4.E3.m1.1.1.1.1.2.2.2.11">ℎ</ci></apply><ci id="S4.E3.m1.1.1.1.1.2.2.3.cmml" xref="S4.E3.m1.1.1.1.1.2.2.3">𝑡</ci></apply><ci id="S4.E3.m1.1.1.1.1.2.3.cmml" xref="S4.E3.m1.1.1.1.1.2.3">𝑜</ci><ci id="S4.E3.m1.1.1.1.1.2.4.cmml" xref="S4.E3.m1.1.1.1.1.2.4">𝑘</ci><ci id="S4.E3.m1.1.1.1.1.2.5.cmml" xref="S4.E3.m1.1.1.1.1.2.5">𝑒</ci><ci id="S4.E3.m1.1.1.1.1.2.6.cmml" xref="S4.E3.m1.1.1.1.1.2.6">𝑛</ci><ci id="S4.E3.m1.1.1.1.1.2.7.cmml" xref="S4.E3.m1.1.1.1.1.2.7">_</ci><ci id="S4.E3.m1.1.1.1.1.2.8.cmml" xref="S4.E3.m1.1.1.1.1.2.8">𝑚</ci><ci id="S4.E3.m1.1.1.1.1.2.9.cmml" xref="S4.E3.m1.1.1.1.1.2.9">𝑒</ci><ci id="S4.E3.m1.1.1.1.1.2.10.cmml" xref="S4.E3.m1.1.1.1.1.2.10">𝑚</ci></apply><apply id="S4.E3.m1.1.1.1.1.3.cmml" xref="S4.E3.m1.1.1.1.1.3"><times id="S4.E3.m1.1.1.1.1.3.1.cmml" xref="S4.E3.m1.1.1.1.1.3.1"></times><ci id="S4.E3.m1.1.1.1.1.3.2.cmml" xref="S4.E3.m1.1.1.1.1.3.2">𝑜</ci><ci id="S4.E3.m1.1.1.1.1.3.3.cmml" xref="S4.E3.m1.1.1.1.1.3.3">𝑡</ci><ci id="S4.E3.m1.1.1.1.1.3.4.cmml" xref="S4.E3.m1.1.1.1.1.3.4">ℎ</ci><ci id="S4.E3.m1.1.1.1.1.3.5.cmml" xref="S4.E3.m1.1.1.1.1.3.5">𝑒</ci><ci id="S4.E3.m1.1.1.1.1.3.6.cmml" xref="S4.E3.m1.1.1.1.1.3.6">𝑟</ci><ci id="S4.E3.m1.1.1.1.1.3.7.cmml" xref="S4.E3.m1.1.1.1.1.3.7">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.1c">\displaystyle seq\_length*token\_mem+others,</annotation><annotation encoding="application/x-llamapun" id="S4.E3.m1.1d">italic_s italic_e italic_q _ italic_l italic_e italic_n italic_g italic_t italic_h ∗ italic_t italic_o italic_k italic_e italic_n _ italic_m italic_e italic_m + italic_o italic_t italic_h italic_e italic_r italic_s ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS1.p1.4">where <math alttext="param" class="ltx_Math" display="inline" id="S4.SS1.p1.1.m1.1"><semantics id="S4.SS1.p1.1.m1.1a"><mrow id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mi id="S4.SS1.p1.1.m1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.2.cmml">p</mi><mo id="S4.SS1.p1.1.m1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml">a</mi><mo id="S4.SS1.p1.1.m1.1.1.1a" xref="S4.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.4" xref="S4.SS1.p1.1.m1.1.1.4.cmml">r</mi><mo id="S4.SS1.p1.1.m1.1.1.1b" xref="S4.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.5" xref="S4.SS1.p1.1.m1.1.1.5.cmml">a</mi><mo id="S4.SS1.p1.1.m1.1.1.1c" xref="S4.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.6" xref="S4.SS1.p1.1.m1.1.1.6.cmml">m</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><times id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1"></times><ci id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2">𝑝</ci><ci id="S4.SS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3">𝑎</ci><ci id="S4.SS1.p1.1.m1.1.1.4.cmml" xref="S4.SS1.p1.1.m1.1.1.4">𝑟</ci><ci id="S4.SS1.p1.1.m1.1.1.5.cmml" xref="S4.SS1.p1.1.m1.1.1.5">𝑎</ci><ci id="S4.SS1.p1.1.m1.1.1.6.cmml" xref="S4.SS1.p1.1.m1.1.1.6">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">param</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.1.m1.1d">italic_p italic_a italic_r italic_a italic_m</annotation></semantics></math> and <math alttext="token\_mem" class="ltx_Math" display="inline" id="S4.SS1.p1.2.m2.1"><semantics id="S4.SS1.p1.2.m2.1a"><mrow id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml"><mi id="S4.SS1.p1.2.m2.1.1.2" xref="S4.SS1.p1.2.m2.1.1.2.cmml">t</mi><mo id="S4.SS1.p1.2.m2.1.1.1" xref="S4.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.2.m2.1.1.3" xref="S4.SS1.p1.2.m2.1.1.3.cmml">o</mi><mo id="S4.SS1.p1.2.m2.1.1.1a" xref="S4.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.2.m2.1.1.4" xref="S4.SS1.p1.2.m2.1.1.4.cmml">k</mi><mo id="S4.SS1.p1.2.m2.1.1.1b" xref="S4.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.2.m2.1.1.5" xref="S4.SS1.p1.2.m2.1.1.5.cmml">e</mi><mo id="S4.SS1.p1.2.m2.1.1.1c" xref="S4.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.2.m2.1.1.6" xref="S4.SS1.p1.2.m2.1.1.6.cmml">n</mi><mo id="S4.SS1.p1.2.m2.1.1.1d" xref="S4.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.2.m2.1.1.7" mathvariant="normal" xref="S4.SS1.p1.2.m2.1.1.7.cmml">_</mi><mo id="S4.SS1.p1.2.m2.1.1.1e" xref="S4.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.2.m2.1.1.8" xref="S4.SS1.p1.2.m2.1.1.8.cmml">m</mi><mo id="S4.SS1.p1.2.m2.1.1.1f" xref="S4.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.2.m2.1.1.9" xref="S4.SS1.p1.2.m2.1.1.9.cmml">e</mi><mo id="S4.SS1.p1.2.m2.1.1.1g" xref="S4.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.2.m2.1.1.10" xref="S4.SS1.p1.2.m2.1.1.10.cmml">m</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.1b"><apply id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1"><times id="S4.SS1.p1.2.m2.1.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1.1"></times><ci id="S4.SS1.p1.2.m2.1.1.2.cmml" xref="S4.SS1.p1.2.m2.1.1.2">𝑡</ci><ci id="S4.SS1.p1.2.m2.1.1.3.cmml" xref="S4.SS1.p1.2.m2.1.1.3">𝑜</ci><ci id="S4.SS1.p1.2.m2.1.1.4.cmml" xref="S4.SS1.p1.2.m2.1.1.4">𝑘</ci><ci id="S4.SS1.p1.2.m2.1.1.5.cmml" xref="S4.SS1.p1.2.m2.1.1.5">𝑒</ci><ci id="S4.SS1.p1.2.m2.1.1.6.cmml" xref="S4.SS1.p1.2.m2.1.1.6">𝑛</ci><ci id="S4.SS1.p1.2.m2.1.1.7.cmml" xref="S4.SS1.p1.2.m2.1.1.7">_</ci><ci id="S4.SS1.p1.2.m2.1.1.8.cmml" xref="S4.SS1.p1.2.m2.1.1.8">𝑚</ci><ci id="S4.SS1.p1.2.m2.1.1.9.cmml" xref="S4.SS1.p1.2.m2.1.1.9">𝑒</ci><ci id="S4.SS1.p1.2.m2.1.1.10.cmml" xref="S4.SS1.p1.2.m2.1.1.10">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.1c">token\_mem</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.2.m2.1d">italic_t italic_o italic_k italic_e italic_n _ italic_m italic_e italic_m</annotation></semantics></math> is the parameter size and memory of KV cache defined by deployed LLM, <math alttext="seq\_length" class="ltx_Math" display="inline" id="S4.SS1.p1.3.m3.1"><semantics id="S4.SS1.p1.3.m3.1a"><mrow id="S4.SS1.p1.3.m3.1.1" xref="S4.SS1.p1.3.m3.1.1.cmml"><mi id="S4.SS1.p1.3.m3.1.1.2" xref="S4.SS1.p1.3.m3.1.1.2.cmml">s</mi><mo id="S4.SS1.p1.3.m3.1.1.1" xref="S4.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.3.m3.1.1.3" xref="S4.SS1.p1.3.m3.1.1.3.cmml">e</mi><mo id="S4.SS1.p1.3.m3.1.1.1a" xref="S4.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.3.m3.1.1.4" xref="S4.SS1.p1.3.m3.1.1.4.cmml">q</mi><mo id="S4.SS1.p1.3.m3.1.1.1b" xref="S4.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.3.m3.1.1.5" mathvariant="normal" xref="S4.SS1.p1.3.m3.1.1.5.cmml">_</mi><mo id="S4.SS1.p1.3.m3.1.1.1c" xref="S4.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.3.m3.1.1.6" xref="S4.SS1.p1.3.m3.1.1.6.cmml">l</mi><mo id="S4.SS1.p1.3.m3.1.1.1d" xref="S4.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.3.m3.1.1.7" xref="S4.SS1.p1.3.m3.1.1.7.cmml">e</mi><mo id="S4.SS1.p1.3.m3.1.1.1e" xref="S4.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.3.m3.1.1.8" xref="S4.SS1.p1.3.m3.1.1.8.cmml">n</mi><mo id="S4.SS1.p1.3.m3.1.1.1f" xref="S4.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.3.m3.1.1.9" xref="S4.SS1.p1.3.m3.1.1.9.cmml">g</mi><mo id="S4.SS1.p1.3.m3.1.1.1g" xref="S4.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.3.m3.1.1.10" xref="S4.SS1.p1.3.m3.1.1.10.cmml">t</mi><mo id="S4.SS1.p1.3.m3.1.1.1h" xref="S4.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.3.m3.1.1.11" xref="S4.SS1.p1.3.m3.1.1.11.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.3.m3.1b"><apply id="S4.SS1.p1.3.m3.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1"><times id="S4.SS1.p1.3.m3.1.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1.1"></times><ci id="S4.SS1.p1.3.m3.1.1.2.cmml" xref="S4.SS1.p1.3.m3.1.1.2">𝑠</ci><ci id="S4.SS1.p1.3.m3.1.1.3.cmml" xref="S4.SS1.p1.3.m3.1.1.3">𝑒</ci><ci id="S4.SS1.p1.3.m3.1.1.4.cmml" xref="S4.SS1.p1.3.m3.1.1.4">𝑞</ci><ci id="S4.SS1.p1.3.m3.1.1.5.cmml" xref="S4.SS1.p1.3.m3.1.1.5">_</ci><ci id="S4.SS1.p1.3.m3.1.1.6.cmml" xref="S4.SS1.p1.3.m3.1.1.6">𝑙</ci><ci id="S4.SS1.p1.3.m3.1.1.7.cmml" xref="S4.SS1.p1.3.m3.1.1.7">𝑒</ci><ci id="S4.SS1.p1.3.m3.1.1.8.cmml" xref="S4.SS1.p1.3.m3.1.1.8">𝑛</ci><ci id="S4.SS1.p1.3.m3.1.1.9.cmml" xref="S4.SS1.p1.3.m3.1.1.9">𝑔</ci><ci id="S4.SS1.p1.3.m3.1.1.10.cmml" xref="S4.SS1.p1.3.m3.1.1.10">𝑡</ci><ci id="S4.SS1.p1.3.m3.1.1.11.cmml" xref="S4.SS1.p1.3.m3.1.1.11">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.3.m3.1c">seq\_length</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.3.m3.1d">italic_s italic_e italic_q _ italic_l italic_e italic_n italic_g italic_t italic_h</annotation></semantics></math> is the context length of user input depended on agent tasks, and <math alttext="max\_num\_seqs" class="ltx_Math" display="inline" id="S4.SS1.p1.4.m4.1"><semantics id="S4.SS1.p1.4.m4.1a"><mrow id="S4.SS1.p1.4.m4.1.1" xref="S4.SS1.p1.4.m4.1.1.cmml"><mi id="S4.SS1.p1.4.m4.1.1.2" xref="S4.SS1.p1.4.m4.1.1.2.cmml">m</mi><mo id="S4.SS1.p1.4.m4.1.1.1" xref="S4.SS1.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.4.m4.1.1.3" xref="S4.SS1.p1.4.m4.1.1.3.cmml">a</mi><mo id="S4.SS1.p1.4.m4.1.1.1a" xref="S4.SS1.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.4.m4.1.1.4" xref="S4.SS1.p1.4.m4.1.1.4.cmml">x</mi><mo id="S4.SS1.p1.4.m4.1.1.1b" xref="S4.SS1.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.4.m4.1.1.5" mathvariant="normal" xref="S4.SS1.p1.4.m4.1.1.5.cmml">_</mi><mo id="S4.SS1.p1.4.m4.1.1.1c" xref="S4.SS1.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.4.m4.1.1.6" xref="S4.SS1.p1.4.m4.1.1.6.cmml">n</mi><mo id="S4.SS1.p1.4.m4.1.1.1d" xref="S4.SS1.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.4.m4.1.1.7" xref="S4.SS1.p1.4.m4.1.1.7.cmml">u</mi><mo id="S4.SS1.p1.4.m4.1.1.1e" xref="S4.SS1.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.4.m4.1.1.8" xref="S4.SS1.p1.4.m4.1.1.8.cmml">m</mi><mo id="S4.SS1.p1.4.m4.1.1.1f" xref="S4.SS1.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.4.m4.1.1.9" mathvariant="normal" xref="S4.SS1.p1.4.m4.1.1.9.cmml">_</mi><mo id="S4.SS1.p1.4.m4.1.1.1g" xref="S4.SS1.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.4.m4.1.1.10" xref="S4.SS1.p1.4.m4.1.1.10.cmml">s</mi><mo id="S4.SS1.p1.4.m4.1.1.1h" xref="S4.SS1.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.4.m4.1.1.11" xref="S4.SS1.p1.4.m4.1.1.11.cmml">e</mi><mo id="S4.SS1.p1.4.m4.1.1.1i" xref="S4.SS1.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.4.m4.1.1.12" xref="S4.SS1.p1.4.m4.1.1.12.cmml">q</mi><mo id="S4.SS1.p1.4.m4.1.1.1j" xref="S4.SS1.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p1.4.m4.1.1.13" xref="S4.SS1.p1.4.m4.1.1.13.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.4.m4.1b"><apply id="S4.SS1.p1.4.m4.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1"><times id="S4.SS1.p1.4.m4.1.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1.1"></times><ci id="S4.SS1.p1.4.m4.1.1.2.cmml" xref="S4.SS1.p1.4.m4.1.1.2">𝑚</ci><ci id="S4.SS1.p1.4.m4.1.1.3.cmml" xref="S4.SS1.p1.4.m4.1.1.3">𝑎</ci><ci id="S4.SS1.p1.4.m4.1.1.4.cmml" xref="S4.SS1.p1.4.m4.1.1.4">𝑥</ci><ci id="S4.SS1.p1.4.m4.1.1.5.cmml" xref="S4.SS1.p1.4.m4.1.1.5">_</ci><ci id="S4.SS1.p1.4.m4.1.1.6.cmml" xref="S4.SS1.p1.4.m4.1.1.6">𝑛</ci><ci id="S4.SS1.p1.4.m4.1.1.7.cmml" xref="S4.SS1.p1.4.m4.1.1.7">𝑢</ci><ci id="S4.SS1.p1.4.m4.1.1.8.cmml" xref="S4.SS1.p1.4.m4.1.1.8">𝑚</ci><ci id="S4.SS1.p1.4.m4.1.1.9.cmml" xref="S4.SS1.p1.4.m4.1.1.9">_</ci><ci id="S4.SS1.p1.4.m4.1.1.10.cmml" xref="S4.SS1.p1.4.m4.1.1.10">𝑠</ci><ci id="S4.SS1.p1.4.m4.1.1.11.cmml" xref="S4.SS1.p1.4.m4.1.1.11">𝑒</ci><ci id="S4.SS1.p1.4.m4.1.1.12.cmml" xref="S4.SS1.p1.4.m4.1.1.12">𝑞</ci><ci id="S4.SS1.p1.4.m4.1.1.13.cmml" xref="S4.SS1.p1.4.m4.1.1.13">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.4.m4.1c">max\_num\_seqs</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.4.m4.1d">italic_m italic_a italic_x _ italic_n italic_u italic_m _ italic_s italic_e italic_q italic_s</annotation></semantics></math> is specified by the computing capacity of GPU devices. Due to the diversity of LLM agent tasks and differences in GPU devices, the memory requirements can vary significantly, necessitating a flexible configuration approach to optimize resource allocation and ensure efficient performance across all deployments. Therefore, it is essential to design the methodology from a scalable perspective, rather than relying on heuristic calculations such as those described in equation <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.E3" title="In IV-A Service Configuration Module ‣ IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">3</span></a>. In this paper, ENOVA designs and implements a monitoring system which will be illustrated in section <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S5" title="V System Implementation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">V</span></a>, and determines the service configurations based on the monitoring metrics. Since the diversity of LLM agent tasks and GPU devices can be reflected in the variations in metric observations, this approach is suitable for multi-agent and multi-GPU deployment.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S3.F2" title="Figure 2 ‣ III-B Goals of Serverless LLM Serving ‣ III Motivation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">2</span></a> depicts the process employed by the service configuration module in ENOVA to establish configurations. These configurations are meticulously derived from the deconstruction of LLM inference processes, which are critical for optimizing resource utilization and ensuring service stability. Detailed information regarding the source layer, description, and objectives of these configurations is systematically presented in TABLE <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.T1" title="TABLE I ‣ IV-A Service Configuration Module ‣ IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">I</span></a>. In the remaining of this section, we will elaborate on how ENOVA determines these service configurations.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE I: </span>The involved service configurations of ENOVA.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S4.T1.1">
<tr class="ltx_tr" id="S4.T1.1.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.1.1">Source Layer</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.2.1">Configuration</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.3.1">Description</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.4.1">Objective</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">LLM Deployment</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.2" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S4.T1.1.2.2.1"></span> <span class="ltx_text" id="S4.T1.1.2.2.2">
<span class="ltx_tabular ltx_align_middle" id="S4.T1.1.2.2.2.1">
<span class="ltx_tr" id="S4.T1.1.2.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.2.2.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.1.2.2.2.1.1.1.1">parallel_size</span></span></span>
<span class="ltx_tr" id="S4.T1.1.2.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.2.2.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.1.2.2.2.1.2.1.1">gpu_memory</span></span></span>
</span></span><span class="ltx_text" id="S4.T1.1.2.2.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.3" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S4.T1.1.2.3.1"></span> <span class="ltx_text" id="S4.T1.1.2.3.2">
<span class="ltx_tabular ltx_align_middle" id="S4.T1.1.2.3.2.1">
<span class="ltx_tr" id="S4.T1.1.2.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.2.3.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">the tensor or pipeline parallel size when deploying LLM</span></span>
<span class="ltx_tr" id="S4.T1.1.2.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.2.3.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">the allocated GPU memory for deploying LLM</span></span>
</span></span><span class="ltx_text" id="S4.T1.1.2.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.4" style="padding-top:1pt;padding-bottom:1pt;">Lower Cost, Service quality</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.1" style="padding-top:1pt;padding-bottom:1pt;">LLM Inference</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.1.3.2.1">max_num_seqs</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.3" style="padding-top:1pt;padding-bottom:1pt;">the maximal number of sequences handled simultaneously</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.4" style="padding-top:1pt;padding-bottom:1pt;">Lower Cost, Service quality</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.4">
<td class="ltx_td ltx_align_center" id="S4.T1.1.4.1" style="padding-top:1pt;padding-bottom:1pt;">LLM API Service</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.4.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.1.4.2.1">max_tokens</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.4.3" style="padding-top:1pt;padding-bottom:1pt;">the maximal number of output tokens of user request</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.4.4" style="padding-top:1pt;padding-bottom:1pt;">Service quality</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.5">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.5.1" style="padding-top:1pt;padding-bottom:1pt;">LLM Load Balancer</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.5.2" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S4.T1.1.5.2.1"></span> <span class="ltx_text" id="S4.T1.1.5.2.2">
<span class="ltx_tabular ltx_align_middle" id="S4.T1.1.5.2.2.1">
<span class="ltx_tr" id="S4.T1.1.5.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.5.2.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.1.5.2.2.1.1.1.1">replicas</span></span></span>
<span class="ltx_tr" id="S4.T1.1.5.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.5.2.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.1.5.2.2.1.2.1.1">weights</span></span></span>
</span></span><span class="ltx_text" id="S4.T1.1.5.2.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.5.3" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S4.T1.1.5.3.1"></span> <span class="ltx_text" id="S4.T1.1.5.3.2">
<span class="ltx_tabular ltx_align_middle" id="S4.T1.1.5.3.2.1">
<span class="ltx_tr" id="S4.T1.1.5.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.5.3.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">the number of deployed LLM services</span></span>
<span class="ltx_tr" id="S4.T1.1.5.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.5.3.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">the routing weights that new requests dispatched to the target replica</span></span>
</span></span><span class="ltx_text" id="S4.T1.1.5.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.5.4" style="padding-top:1pt;padding-bottom:1pt;">Lower Cost, Service quality</td>
</tr>
</table>
</figure>
<section class="ltx_subsubsection" id="S4.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text" id="S4.SS1.SSS1.4.1.1">IV-A</span>1 </span>Determine <span class="ltx_text ltx_font_italic" id="S4.SS1.SSS1.5.2">max_num_seqs</span>
</h4>
<div class="ltx_para" id="S4.SS1.SSS1.p1">
<p class="ltx_p" id="S4.SS1.SSS1.p1.3">This fundamental configuration specifies the maximal number of sequences that can be handled concurrently, which can directly influences the allocation of GPU memory resources and execution time per batch output token. We determine <span class="ltx_text ltx_font_italic" id="S4.SS1.SSS1.p1.3.1">max_num_seqs</span> based on the following equation:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="max\_num\_seqs\approx n_{limit}\times t^{r}_{limit}" class="ltx_Math" display="block" id="S4.E4.m1.1"><semantics id="S4.E4.m1.1a"><mrow id="S4.E4.m1.1.1" xref="S4.E4.m1.1.1.cmml"><mrow id="S4.E4.m1.1.1.2" xref="S4.E4.m1.1.1.2.cmml"><mi id="S4.E4.m1.1.1.2.2" xref="S4.E4.m1.1.1.2.2.cmml">m</mi><mo id="S4.E4.m1.1.1.2.1" xref="S4.E4.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.2.3" xref="S4.E4.m1.1.1.2.3.cmml">a</mi><mo id="S4.E4.m1.1.1.2.1a" xref="S4.E4.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.2.4" xref="S4.E4.m1.1.1.2.4.cmml">x</mi><mo id="S4.E4.m1.1.1.2.1b" xref="S4.E4.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.2.5" mathvariant="normal" xref="S4.E4.m1.1.1.2.5.cmml">_</mi><mo id="S4.E4.m1.1.1.2.1c" xref="S4.E4.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.2.6" xref="S4.E4.m1.1.1.2.6.cmml">n</mi><mo id="S4.E4.m1.1.1.2.1d" xref="S4.E4.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.2.7" xref="S4.E4.m1.1.1.2.7.cmml">u</mi><mo id="S4.E4.m1.1.1.2.1e" xref="S4.E4.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.2.8" xref="S4.E4.m1.1.1.2.8.cmml">m</mi><mo id="S4.E4.m1.1.1.2.1f" xref="S4.E4.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.2.9" mathvariant="normal" xref="S4.E4.m1.1.1.2.9.cmml">_</mi><mo id="S4.E4.m1.1.1.2.1g" xref="S4.E4.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.2.10" xref="S4.E4.m1.1.1.2.10.cmml">s</mi><mo id="S4.E4.m1.1.1.2.1h" xref="S4.E4.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.2.11" xref="S4.E4.m1.1.1.2.11.cmml">e</mi><mo id="S4.E4.m1.1.1.2.1i" xref="S4.E4.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.2.12" xref="S4.E4.m1.1.1.2.12.cmml">q</mi><mo id="S4.E4.m1.1.1.2.1j" xref="S4.E4.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.2.13" xref="S4.E4.m1.1.1.2.13.cmml">s</mi></mrow><mo id="S4.E4.m1.1.1.1" xref="S4.E4.m1.1.1.1.cmml">≈</mo><mrow id="S4.E4.m1.1.1.3" xref="S4.E4.m1.1.1.3.cmml"><msub id="S4.E4.m1.1.1.3.2" xref="S4.E4.m1.1.1.3.2.cmml"><mi id="S4.E4.m1.1.1.3.2.2" xref="S4.E4.m1.1.1.3.2.2.cmml">n</mi><mrow id="S4.E4.m1.1.1.3.2.3" xref="S4.E4.m1.1.1.3.2.3.cmml"><mi id="S4.E4.m1.1.1.3.2.3.2" xref="S4.E4.m1.1.1.3.2.3.2.cmml">l</mi><mo id="S4.E4.m1.1.1.3.2.3.1" xref="S4.E4.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.3.2.3.3" xref="S4.E4.m1.1.1.3.2.3.3.cmml">i</mi><mo id="S4.E4.m1.1.1.3.2.3.1a" xref="S4.E4.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.3.2.3.4" xref="S4.E4.m1.1.1.3.2.3.4.cmml">m</mi><mo id="S4.E4.m1.1.1.3.2.3.1b" xref="S4.E4.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.3.2.3.5" xref="S4.E4.m1.1.1.3.2.3.5.cmml">i</mi><mo id="S4.E4.m1.1.1.3.2.3.1c" xref="S4.E4.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.3.2.3.6" xref="S4.E4.m1.1.1.3.2.3.6.cmml">t</mi></mrow></msub><mo id="S4.E4.m1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S4.E4.m1.1.1.3.1.cmml">×</mo><msubsup id="S4.E4.m1.1.1.3.3" xref="S4.E4.m1.1.1.3.3.cmml"><mi id="S4.E4.m1.1.1.3.3.2.2" xref="S4.E4.m1.1.1.3.3.2.2.cmml">t</mi><mrow id="S4.E4.m1.1.1.3.3.3" xref="S4.E4.m1.1.1.3.3.3.cmml"><mi id="S4.E4.m1.1.1.3.3.3.2" xref="S4.E4.m1.1.1.3.3.3.2.cmml">l</mi><mo id="S4.E4.m1.1.1.3.3.3.1" xref="S4.E4.m1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.3.3.3.3" xref="S4.E4.m1.1.1.3.3.3.3.cmml">i</mi><mo id="S4.E4.m1.1.1.3.3.3.1a" xref="S4.E4.m1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.3.3.3.4" xref="S4.E4.m1.1.1.3.3.3.4.cmml">m</mi><mo id="S4.E4.m1.1.1.3.3.3.1b" xref="S4.E4.m1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.3.3.3.5" xref="S4.E4.m1.1.1.3.3.3.5.cmml">i</mi><mo id="S4.E4.m1.1.1.3.3.3.1c" xref="S4.E4.m1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S4.E4.m1.1.1.3.3.3.6" xref="S4.E4.m1.1.1.3.3.3.6.cmml">t</mi></mrow><mi id="S4.E4.m1.1.1.3.3.2.3" xref="S4.E4.m1.1.1.3.3.2.3.cmml">r</mi></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.1b"><apply id="S4.E4.m1.1.1.cmml" xref="S4.E4.m1.1.1"><approx id="S4.E4.m1.1.1.1.cmml" xref="S4.E4.m1.1.1.1"></approx><apply id="S4.E4.m1.1.1.2.cmml" xref="S4.E4.m1.1.1.2"><times id="S4.E4.m1.1.1.2.1.cmml" xref="S4.E4.m1.1.1.2.1"></times><ci id="S4.E4.m1.1.1.2.2.cmml" xref="S4.E4.m1.1.1.2.2">𝑚</ci><ci id="S4.E4.m1.1.1.2.3.cmml" xref="S4.E4.m1.1.1.2.3">𝑎</ci><ci id="S4.E4.m1.1.1.2.4.cmml" xref="S4.E4.m1.1.1.2.4">𝑥</ci><ci id="S4.E4.m1.1.1.2.5.cmml" xref="S4.E4.m1.1.1.2.5">_</ci><ci id="S4.E4.m1.1.1.2.6.cmml" xref="S4.E4.m1.1.1.2.6">𝑛</ci><ci id="S4.E4.m1.1.1.2.7.cmml" xref="S4.E4.m1.1.1.2.7">𝑢</ci><ci id="S4.E4.m1.1.1.2.8.cmml" xref="S4.E4.m1.1.1.2.8">𝑚</ci><ci id="S4.E4.m1.1.1.2.9.cmml" xref="S4.E4.m1.1.1.2.9">_</ci><ci id="S4.E4.m1.1.1.2.10.cmml" xref="S4.E4.m1.1.1.2.10">𝑠</ci><ci id="S4.E4.m1.1.1.2.11.cmml" xref="S4.E4.m1.1.1.2.11">𝑒</ci><ci id="S4.E4.m1.1.1.2.12.cmml" xref="S4.E4.m1.1.1.2.12">𝑞</ci><ci id="S4.E4.m1.1.1.2.13.cmml" xref="S4.E4.m1.1.1.2.13">𝑠</ci></apply><apply id="S4.E4.m1.1.1.3.cmml" xref="S4.E4.m1.1.1.3"><times id="S4.E4.m1.1.1.3.1.cmml" xref="S4.E4.m1.1.1.3.1"></times><apply id="S4.E4.m1.1.1.3.2.cmml" xref="S4.E4.m1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.3.2.1.cmml" xref="S4.E4.m1.1.1.3.2">subscript</csymbol><ci id="S4.E4.m1.1.1.3.2.2.cmml" xref="S4.E4.m1.1.1.3.2.2">𝑛</ci><apply id="S4.E4.m1.1.1.3.2.3.cmml" xref="S4.E4.m1.1.1.3.2.3"><times id="S4.E4.m1.1.1.3.2.3.1.cmml" xref="S4.E4.m1.1.1.3.2.3.1"></times><ci id="S4.E4.m1.1.1.3.2.3.2.cmml" xref="S4.E4.m1.1.1.3.2.3.2">𝑙</ci><ci id="S4.E4.m1.1.1.3.2.3.3.cmml" xref="S4.E4.m1.1.1.3.2.3.3">𝑖</ci><ci id="S4.E4.m1.1.1.3.2.3.4.cmml" xref="S4.E4.m1.1.1.3.2.3.4">𝑚</ci><ci id="S4.E4.m1.1.1.3.2.3.5.cmml" xref="S4.E4.m1.1.1.3.2.3.5">𝑖</ci><ci id="S4.E4.m1.1.1.3.2.3.6.cmml" xref="S4.E4.m1.1.1.3.2.3.6">𝑡</ci></apply></apply><apply id="S4.E4.m1.1.1.3.3.cmml" xref="S4.E4.m1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.3.3.1.cmml" xref="S4.E4.m1.1.1.3.3">subscript</csymbol><apply id="S4.E4.m1.1.1.3.3.2.cmml" xref="S4.E4.m1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.3.3.2.1.cmml" xref="S4.E4.m1.1.1.3.3">superscript</csymbol><ci id="S4.E4.m1.1.1.3.3.2.2.cmml" xref="S4.E4.m1.1.1.3.3.2.2">𝑡</ci><ci id="S4.E4.m1.1.1.3.3.2.3.cmml" xref="S4.E4.m1.1.1.3.3.2.3">𝑟</ci></apply><apply id="S4.E4.m1.1.1.3.3.3.cmml" xref="S4.E4.m1.1.1.3.3.3"><times id="S4.E4.m1.1.1.3.3.3.1.cmml" xref="S4.E4.m1.1.1.3.3.3.1"></times><ci id="S4.E4.m1.1.1.3.3.3.2.cmml" xref="S4.E4.m1.1.1.3.3.3.2">𝑙</ci><ci id="S4.E4.m1.1.1.3.3.3.3.cmml" xref="S4.E4.m1.1.1.3.3.3.3">𝑖</ci><ci id="S4.E4.m1.1.1.3.3.3.4.cmml" xref="S4.E4.m1.1.1.3.3.3.4">𝑚</ci><ci id="S4.E4.m1.1.1.3.3.3.5.cmml" xref="S4.E4.m1.1.1.3.3.3.5">𝑖</ci><ci id="S4.E4.m1.1.1.3.3.3.6.cmml" xref="S4.E4.m1.1.1.3.3.3.6">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.1c">max\_num\_seqs\approx n_{limit}\times t^{r}_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.E4.m1.1d">italic_m italic_a italic_x _ italic_n italic_u italic_m _ italic_s italic_e italic_q italic_s ≈ italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT × italic_t start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS1.SSS1.p1.2">where <math alttext="n_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p1.1.m1.1"><semantics id="S4.SS1.SSS1.p1.1.m1.1a"><msub id="S4.SS1.SSS1.p1.1.m1.1.1" xref="S4.SS1.SSS1.p1.1.m1.1.1.cmml"><mi id="S4.SS1.SSS1.p1.1.m1.1.1.2" xref="S4.SS1.SSS1.p1.1.m1.1.1.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p1.1.m1.1.1.3" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.cmml"><mi id="S4.SS1.SSS1.p1.1.m1.1.1.3.2" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p1.1.m1.1.1.3.1" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p1.1.m1.1.1.3.3" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p1.1.m1.1.1.3.1a" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p1.1.m1.1.1.3.4" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p1.1.m1.1.1.3.1b" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p1.1.m1.1.1.3.5" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p1.1.m1.1.1.3.1c" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p1.1.m1.1.1.3.6" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.6.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p1.1.m1.1b"><apply id="S4.SS1.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1.2">𝑛</ci><apply id="S4.SS1.SSS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1.3"><times id="S4.SS1.SSS1.p1.1.m1.1.1.3.1.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.1"></times><ci id="S4.SS1.SSS1.p1.1.m1.1.1.3.2.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p1.1.m1.1.1.3.3.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p1.1.m1.1.1.3.4.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p1.1.m1.1.1.3.5.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p1.1.m1.1.1.3.6.cmml" xref="S4.SS1.SSS1.p1.1.m1.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p1.1.m1.1c">n_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p1.1.m1.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> represents the maximal number of requests per second sent to an LLM service and <math alttext="t^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p1.2.m2.1"><semantics id="S4.SS1.SSS1.p1.2.m2.1a"><msup id="S4.SS1.SSS1.p1.2.m2.1.1" xref="S4.SS1.SSS1.p1.2.m2.1.1.cmml"><mi id="S4.SS1.SSS1.p1.2.m2.1.1.2" xref="S4.SS1.SSS1.p1.2.m2.1.1.2.cmml">t</mi><mi id="S4.SS1.SSS1.p1.2.m2.1.1.3" xref="S4.SS1.SSS1.p1.2.m2.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p1.2.m2.1b"><apply id="S4.SS1.SSS1.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p1.2.m2.1.1.1.cmml" xref="S4.SS1.SSS1.p1.2.m2.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p1.2.m2.1.1.2.cmml" xref="S4.SS1.SSS1.p1.2.m2.1.1.2">𝑡</ci><ci id="S4.SS1.SSS1.p1.2.m2.1.1.3.cmml" xref="S4.SS1.SSS1.p1.2.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p1.2.m2.1c">t^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p1.2.m2.1d">italic_t start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> denotes the corresponding execution time of user requests. This formula is straightforward, as it posits that the maximum number of sequences is determined by multiplying the number of requests per second by the average execution time of each request. Meanwhile, a fundamental assumption in this equation is that the maximum number of requests per second remains constant, irrespective of any adjustments made to the service configurations. This assumption will be verified and discussed in section <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S7.SS1" title="VII-A Maximal Number of Requests Processed by LLM services ‣ VII Discussion ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VII-A</span></span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSS1.p2">
<p class="ltx_p" id="S4.SS1.SSS1.p2.15">Then, we determine <math alttext="n_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.1.m1.1"><semantics id="S4.SS1.SSS1.p2.1.m1.1a"><msub id="S4.SS1.SSS1.p2.1.m1.1.1" xref="S4.SS1.SSS1.p2.1.m1.1.1.cmml"><mi id="S4.SS1.SSS1.p2.1.m1.1.1.2" xref="S4.SS1.SSS1.p2.1.m1.1.1.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.1.m1.1.1.3" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.1.m1.1.1.3.2" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.1.m1.1.1.3.1" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.1.m1.1.1.3.3" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.1.m1.1.1.3.1a" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.1.m1.1.1.3.4" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.1.m1.1.1.3.1b" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.1.m1.1.1.3.5" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.1.m1.1.1.3.1c" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.1.m1.1.1.3.6" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.6.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.1.m1.1b"><apply id="S4.SS1.SSS1.p2.1.m1.1.1.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.1.m1.1.1.2.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.1.m1.1.1.3.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1.3"><times id="S4.SS1.SSS1.p2.1.m1.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.1.m1.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.1.m1.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.1.m1.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.1.m1.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.1.m1.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.1.m1.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.1.m1.1c">n_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.1.m1.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="t^{r}_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.2.m2.1"><semantics id="S4.SS1.SSS1.p2.2.m2.1a"><msubsup id="S4.SS1.SSS1.p2.2.m2.1.1" xref="S4.SS1.SSS1.p2.2.m2.1.1.cmml"><mi id="S4.SS1.SSS1.p2.2.m2.1.1.2.2" xref="S4.SS1.SSS1.p2.2.m2.1.1.2.2.cmml">t</mi><mrow id="S4.SS1.SSS1.p2.2.m2.1.1.3" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.2.m2.1.1.3.2" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.2.m2.1.1.3.1" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.2.m2.1.1.3.3" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.2.m2.1.1.3.1a" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.2.m2.1.1.3.4" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.2.m2.1.1.3.1b" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.2.m2.1.1.3.5" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.2.m2.1.1.3.1c" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.2.m2.1.1.3.6" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.6.cmml">t</mi></mrow><mi id="S4.SS1.SSS1.p2.2.m2.1.1.2.3" xref="S4.SS1.SSS1.p2.2.m2.1.1.2.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.2.m2.1b"><apply id="S4.SS1.SSS1.p2.2.m2.1.1.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.2.m2.1.1.1.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1">subscript</csymbol><apply id="S4.SS1.SSS1.p2.2.m2.1.1.2.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.2.m2.1.1.2.1.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.2.m2.1.1.2.2.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1.2.2">𝑡</ci><ci id="S4.SS1.SSS1.p2.2.m2.1.1.2.3.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1.2.3">𝑟</ci></apply><apply id="S4.SS1.SSS1.p2.2.m2.1.1.3.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1.3"><times id="S4.SS1.SSS1.p2.2.m2.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.2.m2.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.2.m2.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.2.m2.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.2.m2.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.2.m2.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.2.m2.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.2.m2.1c">t^{r}_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.2.m2.1d">italic_t start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> based on the monitoring metrics of LLM service. TABLE <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.T2" title="TABLE II ‣ IV-A1 Determine max_num_seqs ‣ IV-A Service Configuration Module ‣ IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">II</span></a> presents the involved metrics, where <math alttext="n^{f}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.3.m3.1"><semantics id="S4.SS1.SSS1.p2.3.m3.1a"><msup id="S4.SS1.SSS1.p2.3.m3.1.1" xref="S4.SS1.SSS1.p2.3.m3.1.1.cmml"><mi id="S4.SS1.SSS1.p2.3.m3.1.1.2" xref="S4.SS1.SSS1.p2.3.m3.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.3.m3.1.1.3" xref="S4.SS1.SSS1.p2.3.m3.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.3.m3.1b"><apply id="S4.SS1.SSS1.p2.3.m3.1.1.cmml" xref="S4.SS1.SSS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.3.m3.1.1.1.cmml" xref="S4.SS1.SSS1.p2.3.m3.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.3.m3.1.1.2.cmml" xref="S4.SS1.SSS1.p2.3.m3.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.3.m3.1.1.3.cmml" xref="S4.SS1.SSS1.p2.3.m3.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.3.m3.1c">n^{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.3.m3.1d">italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> represents the number of finished requests per unit time of an LLM service, <math alttext="n^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.4.m4.1"><semantics id="S4.SS1.SSS1.p2.4.m4.1a"><msup id="S4.SS1.SSS1.p2.4.m4.1.1" xref="S4.SS1.SSS1.p2.4.m4.1.1.cmml"><mi id="S4.SS1.SSS1.p2.4.m4.1.1.2" xref="S4.SS1.SSS1.p2.4.m4.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.4.m4.1.1.3" xref="S4.SS1.SSS1.p2.4.m4.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.4.m4.1b"><apply id="S4.SS1.SSS1.p2.4.m4.1.1.cmml" xref="S4.SS1.SSS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.4.m4.1.1.1.cmml" xref="S4.SS1.SSS1.p2.4.m4.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.4.m4.1.1.2.cmml" xref="S4.SS1.SSS1.p2.4.m4.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.4.m4.1.1.3.cmml" xref="S4.SS1.SSS1.p2.4.m4.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.4.m4.1c">n^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.4.m4.1d">italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> specifies the number of running requests simultaneously per unit time, and <math alttext="t^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.5.m5.1"><semantics id="S4.SS1.SSS1.p2.5.m5.1a"><msup id="S4.SS1.SSS1.p2.5.m5.1.1" xref="S4.SS1.SSS1.p2.5.m5.1.1.cmml"><mi id="S4.SS1.SSS1.p2.5.m5.1.1.2" xref="S4.SS1.SSS1.p2.5.m5.1.1.2.cmml">t</mi><mi id="S4.SS1.SSS1.p2.5.m5.1.1.3" xref="S4.SS1.SSS1.p2.5.m5.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.5.m5.1b"><apply id="S4.SS1.SSS1.p2.5.m5.1.1.cmml" xref="S4.SS1.SSS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.5.m5.1.1.1.cmml" xref="S4.SS1.SSS1.p2.5.m5.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.5.m5.1.1.2.cmml" xref="S4.SS1.SSS1.p2.5.m5.1.1.2">𝑡</ci><ci id="S4.SS1.SSS1.p2.5.m5.1.1.3.cmml" xref="S4.SS1.SSS1.p2.5.m5.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.5.m5.1c">t^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.5.m5.1d">italic_t start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> denotes the execution time per user request. Theoretically, <math alttext="n_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.6.m6.1"><semantics id="S4.SS1.SSS1.p2.6.m6.1a"><msub id="S4.SS1.SSS1.p2.6.m6.1.1" xref="S4.SS1.SSS1.p2.6.m6.1.1.cmml"><mi id="S4.SS1.SSS1.p2.6.m6.1.1.2" xref="S4.SS1.SSS1.p2.6.m6.1.1.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.6.m6.1.1.3" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.6.m6.1.1.3.2" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.6.m6.1.1.3.1" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.6.m6.1.1.3.3" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.6.m6.1.1.3.1a" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.6.m6.1.1.3.4" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.6.m6.1.1.3.1b" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.6.m6.1.1.3.5" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.6.m6.1.1.3.1c" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.6.m6.1.1.3.6" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.6.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.6.m6.1b"><apply id="S4.SS1.SSS1.p2.6.m6.1.1.cmml" xref="S4.SS1.SSS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.6.m6.1.1.1.cmml" xref="S4.SS1.SSS1.p2.6.m6.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.6.m6.1.1.2.cmml" xref="S4.SS1.SSS1.p2.6.m6.1.1.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.6.m6.1.1.3.cmml" xref="S4.SS1.SSS1.p2.6.m6.1.1.3"><times id="S4.SS1.SSS1.p2.6.m6.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.6.m6.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.6.m6.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.6.m6.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.6.m6.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.6.m6.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.6.m6.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.6.m6.1c">n_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.6.m6.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is the upper limit of <math alttext="[n_{t-w}^{f},\cdots n_{t}^{f}]" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.7.m7.2"><semantics id="S4.SS1.SSS1.p2.7.m7.2a"><mrow id="S4.SS1.SSS1.p2.7.m7.2.2.2" xref="S4.SS1.SSS1.p2.7.m7.2.2.3.cmml"><mo id="S4.SS1.SSS1.p2.7.m7.2.2.2.3" stretchy="false" xref="S4.SS1.SSS1.p2.7.m7.2.2.3.cmml">[</mo><msubsup id="S4.SS1.SSS1.p2.7.m7.1.1.1.1" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.cmml"><mi id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.2" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.cmml"><mi id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.2" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.1" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.1.cmml">−</mo><mi id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.3" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.3.cmml">w</mi></mrow><mi id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.3" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.3.cmml">f</mi></msubsup><mo id="S4.SS1.SSS1.p2.7.m7.2.2.2.4" xref="S4.SS1.SSS1.p2.7.m7.2.2.3.cmml">,</mo><mrow id="S4.SS1.SSS1.p2.7.m7.2.2.2.2" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.cmml"><mi id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.2" mathvariant="normal" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.2.cmml">⋯</mi><mo id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.1" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.1.cmml">⁢</mo><msubsup id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.cmml"><mi id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.2.2" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.2.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.2.3" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.2.3.cmml">t</mi><mi id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.3" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.3.cmml">f</mi></msubsup></mrow><mo id="S4.SS1.SSS1.p2.7.m7.2.2.2.5" stretchy="false" xref="S4.SS1.SSS1.p2.7.m7.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.7.m7.2b"><interval closure="closed" id="S4.SS1.SSS1.p2.7.m7.2.2.3.cmml" xref="S4.SS1.SSS1.p2.7.m7.2.2.2"><apply id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.cmml" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1">superscript</csymbol><apply id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.cmml" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.1.cmml" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.2.cmml" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.cmml" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3"><minus id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.1.cmml" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.1"></minus><ci id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.2.cmml" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.3.cmml" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.2.3.3">𝑤</ci></apply></apply><ci id="S4.SS1.SSS1.p2.7.m7.1.1.1.1.3.cmml" xref="S4.SS1.SSS1.p2.7.m7.1.1.1.1.3">𝑓</ci></apply><apply id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.cmml" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2"><times id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.1.cmml" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.1"></times><ci id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.2.cmml" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.2">⋯</ci><apply id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.cmml" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.1.cmml" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3">superscript</csymbol><apply id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.2.cmml" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.2.1.cmml" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3">subscript</csymbol><ci id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.2.2.cmml" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.2.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.2.3.cmml" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.2.3">𝑡</ci></apply><ci id="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.3.cmml" xref="S4.SS1.SSS1.p2.7.m7.2.2.2.2.3.3">𝑓</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.7.m7.2c">[n_{t-w}^{f},\cdots n_{t}^{f}]</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.7.m7.2d">[ italic_n start_POSTSUBSCRIPT italic_t - italic_w end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT , ⋯ italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT ]</annotation></semantics></math>, and <math alttext="t^{r}_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.8.m8.1"><semantics id="S4.SS1.SSS1.p2.8.m8.1a"><msubsup id="S4.SS1.SSS1.p2.8.m8.1.1" xref="S4.SS1.SSS1.p2.8.m8.1.1.cmml"><mi id="S4.SS1.SSS1.p2.8.m8.1.1.2.2" xref="S4.SS1.SSS1.p2.8.m8.1.1.2.2.cmml">t</mi><mrow id="S4.SS1.SSS1.p2.8.m8.1.1.3" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.8.m8.1.1.3.2" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.8.m8.1.1.3.1" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.8.m8.1.1.3.3" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.8.m8.1.1.3.1a" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.8.m8.1.1.3.4" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.8.m8.1.1.3.1b" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.8.m8.1.1.3.5" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.8.m8.1.1.3.1c" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.8.m8.1.1.3.6" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.6.cmml">t</mi></mrow><mi id="S4.SS1.SSS1.p2.8.m8.1.1.2.3" xref="S4.SS1.SSS1.p2.8.m8.1.1.2.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.8.m8.1b"><apply id="S4.SS1.SSS1.p2.8.m8.1.1.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.8.m8.1.1.1.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1">subscript</csymbol><apply id="S4.SS1.SSS1.p2.8.m8.1.1.2.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.8.m8.1.1.2.1.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.8.m8.1.1.2.2.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1.2.2">𝑡</ci><ci id="S4.SS1.SSS1.p2.8.m8.1.1.2.3.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1.2.3">𝑟</ci></apply><apply id="S4.SS1.SSS1.p2.8.m8.1.1.3.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1.3"><times id="S4.SS1.SSS1.p2.8.m8.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.8.m8.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.8.m8.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.8.m8.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.8.m8.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.8.m8.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.8.m8.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.8.m8.1c">t^{r}_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.8.m8.1d">italic_t start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is the execution time <math alttext="t^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.9.m9.1"><semantics id="S4.SS1.SSS1.p2.9.m9.1a"><msup id="S4.SS1.SSS1.p2.9.m9.1.1" xref="S4.SS1.SSS1.p2.9.m9.1.1.cmml"><mi id="S4.SS1.SSS1.p2.9.m9.1.1.2" xref="S4.SS1.SSS1.p2.9.m9.1.1.2.cmml">t</mi><mi id="S4.SS1.SSS1.p2.9.m9.1.1.3" xref="S4.SS1.SSS1.p2.9.m9.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.9.m9.1b"><apply id="S4.SS1.SSS1.p2.9.m9.1.1.cmml" xref="S4.SS1.SSS1.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.9.m9.1.1.1.cmml" xref="S4.SS1.SSS1.p2.9.m9.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.9.m9.1.1.2.cmml" xref="S4.SS1.SSS1.p2.9.m9.1.1.2">𝑡</ci><ci id="S4.SS1.SSS1.p2.9.m9.1.1.3.cmml" xref="S4.SS1.SSS1.p2.9.m9.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.9.m9.1c">t^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.9.m9.1d">italic_t start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> corresponding to when <math alttext="n^{f}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.10.m10.1"><semantics id="S4.SS1.SSS1.p2.10.m10.1a"><msup id="S4.SS1.SSS1.p2.10.m10.1.1" xref="S4.SS1.SSS1.p2.10.m10.1.1.cmml"><mi id="S4.SS1.SSS1.p2.10.m10.1.1.2" xref="S4.SS1.SSS1.p2.10.m10.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.10.m10.1.1.3" xref="S4.SS1.SSS1.p2.10.m10.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.10.m10.1b"><apply id="S4.SS1.SSS1.p2.10.m10.1.1.cmml" xref="S4.SS1.SSS1.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.10.m10.1.1.1.cmml" xref="S4.SS1.SSS1.p2.10.m10.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.10.m10.1.1.2.cmml" xref="S4.SS1.SSS1.p2.10.m10.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.10.m10.1.1.3.cmml" xref="S4.SS1.SSS1.p2.10.m10.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.10.m10.1c">n^{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.10.m10.1d">italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> reaches <math alttext="n_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.11.m11.1"><semantics id="S4.SS1.SSS1.p2.11.m11.1a"><msub id="S4.SS1.SSS1.p2.11.m11.1.1" xref="S4.SS1.SSS1.p2.11.m11.1.1.cmml"><mi id="S4.SS1.SSS1.p2.11.m11.1.1.2" xref="S4.SS1.SSS1.p2.11.m11.1.1.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.11.m11.1.1.3" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.11.m11.1.1.3.2" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.11.m11.1.1.3.1" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.11.m11.1.1.3.3" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.11.m11.1.1.3.1a" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.11.m11.1.1.3.4" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.11.m11.1.1.3.1b" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.11.m11.1.1.3.5" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.11.m11.1.1.3.1c" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.11.m11.1.1.3.6" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.6.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.11.m11.1b"><apply id="S4.SS1.SSS1.p2.11.m11.1.1.cmml" xref="S4.SS1.SSS1.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.11.m11.1.1.1.cmml" xref="S4.SS1.SSS1.p2.11.m11.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.11.m11.1.1.2.cmml" xref="S4.SS1.SSS1.p2.11.m11.1.1.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.11.m11.1.1.3.cmml" xref="S4.SS1.SSS1.p2.11.m11.1.1.3"><times id="S4.SS1.SSS1.p2.11.m11.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.11.m11.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.11.m11.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.11.m11.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.11.m11.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.11.m11.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.11.m11.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.11.m11.1c">n_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.11.m11.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. However, in an industrial environment, the observed values of <math alttext="n^{f}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.12.m12.1"><semantics id="S4.SS1.SSS1.p2.12.m12.1a"><msup id="S4.SS1.SSS1.p2.12.m12.1.1" xref="S4.SS1.SSS1.p2.12.m12.1.1.cmml"><mi id="S4.SS1.SSS1.p2.12.m12.1.1.2" xref="S4.SS1.SSS1.p2.12.m12.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.12.m12.1.1.3" xref="S4.SS1.SSS1.p2.12.m12.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.12.m12.1b"><apply id="S4.SS1.SSS1.p2.12.m12.1.1.cmml" xref="S4.SS1.SSS1.p2.12.m12.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.12.m12.1.1.1.cmml" xref="S4.SS1.SSS1.p2.12.m12.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.12.m12.1.1.2.cmml" xref="S4.SS1.SSS1.p2.12.m12.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.12.m12.1.1.3.cmml" xref="S4.SS1.SSS1.p2.12.m12.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.12.m12.1c">n^{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.12.m12.1d">italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> can deviate significantly from <math alttext="n_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.13.m13.1"><semantics id="S4.SS1.SSS1.p2.13.m13.1a"><msub id="S4.SS1.SSS1.p2.13.m13.1.1" xref="S4.SS1.SSS1.p2.13.m13.1.1.cmml"><mi id="S4.SS1.SSS1.p2.13.m13.1.1.2" xref="S4.SS1.SSS1.p2.13.m13.1.1.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.13.m13.1.1.3" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.13.m13.1.1.3.2" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.13.m13.1.1.3.1" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.13.m13.1.1.3.3" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.13.m13.1.1.3.1a" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.13.m13.1.1.3.4" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.13.m13.1.1.3.1b" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.13.m13.1.1.3.5" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.13.m13.1.1.3.1c" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.13.m13.1.1.3.6" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.6.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.13.m13.1b"><apply id="S4.SS1.SSS1.p2.13.m13.1.1.cmml" xref="S4.SS1.SSS1.p2.13.m13.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.13.m13.1.1.1.cmml" xref="S4.SS1.SSS1.p2.13.m13.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.13.m13.1.1.2.cmml" xref="S4.SS1.SSS1.p2.13.m13.1.1.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.13.m13.1.1.3.cmml" xref="S4.SS1.SSS1.p2.13.m13.1.1.3"><times id="S4.SS1.SSS1.p2.13.m13.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.13.m13.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.13.m13.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.13.m13.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.13.m13.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.13.m13.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.13.m13.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.13.m13.1c">n_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.13.m13.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. Therefore, we first identify whether <math alttext="n^{f}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.14.m14.1"><semantics id="S4.SS1.SSS1.p2.14.m14.1a"><msup id="S4.SS1.SSS1.p2.14.m14.1.1" xref="S4.SS1.SSS1.p2.14.m14.1.1.cmml"><mi id="S4.SS1.SSS1.p2.14.m14.1.1.2" xref="S4.SS1.SSS1.p2.14.m14.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.14.m14.1.1.3" xref="S4.SS1.SSS1.p2.14.m14.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.14.m14.1b"><apply id="S4.SS1.SSS1.p2.14.m14.1.1.cmml" xref="S4.SS1.SSS1.p2.14.m14.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.14.m14.1.1.1.cmml" xref="S4.SS1.SSS1.p2.14.m14.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.14.m14.1.1.2.cmml" xref="S4.SS1.SSS1.p2.14.m14.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.14.m14.1.1.3.cmml" xref="S4.SS1.SSS1.p2.14.m14.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.14.m14.1c">n^{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.14.m14.1d">italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> deviate from <math alttext="n_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.15.m15.1"><semantics id="S4.SS1.SSS1.p2.15.m15.1a"><msub id="S4.SS1.SSS1.p2.15.m15.1.1" xref="S4.SS1.SSS1.p2.15.m15.1.1.cmml"><mi id="S4.SS1.SSS1.p2.15.m15.1.1.2" xref="S4.SS1.SSS1.p2.15.m15.1.1.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.15.m15.1.1.3" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.15.m15.1.1.3.2" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.15.m15.1.1.3.1" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.15.m15.1.1.3.3" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.15.m15.1.1.3.1a" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.15.m15.1.1.3.4" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.15.m15.1.1.3.1b" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.15.m15.1.1.3.5" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.15.m15.1.1.3.1c" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.15.m15.1.1.3.6" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.6.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.15.m15.1b"><apply id="S4.SS1.SSS1.p2.15.m15.1.1.cmml" xref="S4.SS1.SSS1.p2.15.m15.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.15.m15.1.1.1.cmml" xref="S4.SS1.SSS1.p2.15.m15.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.15.m15.1.1.2.cmml" xref="S4.SS1.SSS1.p2.15.m15.1.1.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.15.m15.1.1.3.cmml" xref="S4.SS1.SSS1.p2.15.m15.1.1.3"><times id="S4.SS1.SSS1.p2.15.m15.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.15.m15.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.15.m15.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.15.m15.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.15.m15.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.15.m15.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.15.m15.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.15.m15.1c">n_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.15.m15.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> by modeling the following function.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="n^{f}=f(n^{r})" class="ltx_Math" display="block" id="S4.E5.m1.1"><semantics id="S4.E5.m1.1a"><mrow id="S4.E5.m1.1.1" xref="S4.E5.m1.1.1.cmml"><msup id="S4.E5.m1.1.1.3" xref="S4.E5.m1.1.1.3.cmml"><mi id="S4.E5.m1.1.1.3.2" xref="S4.E5.m1.1.1.3.2.cmml">n</mi><mi id="S4.E5.m1.1.1.3.3" xref="S4.E5.m1.1.1.3.3.cmml">f</mi></msup><mo id="S4.E5.m1.1.1.2" xref="S4.E5.m1.1.1.2.cmml">=</mo><mrow id="S4.E5.m1.1.1.1" xref="S4.E5.m1.1.1.1.cmml"><mi id="S4.E5.m1.1.1.1.3" xref="S4.E5.m1.1.1.1.3.cmml">f</mi><mo id="S4.E5.m1.1.1.1.2" xref="S4.E5.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E5.m1.1.1.1.1.1" xref="S4.E5.m1.1.1.1.1.1.1.cmml"><mo id="S4.E5.m1.1.1.1.1.1.2" stretchy="false" xref="S4.E5.m1.1.1.1.1.1.1.cmml">(</mo><msup id="S4.E5.m1.1.1.1.1.1.1" xref="S4.E5.m1.1.1.1.1.1.1.cmml"><mi id="S4.E5.m1.1.1.1.1.1.1.2" xref="S4.E5.m1.1.1.1.1.1.1.2.cmml">n</mi><mi id="S4.E5.m1.1.1.1.1.1.1.3" xref="S4.E5.m1.1.1.1.1.1.1.3.cmml">r</mi></msup><mo id="S4.E5.m1.1.1.1.1.1.3" stretchy="false" xref="S4.E5.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E5.m1.1b"><apply id="S4.E5.m1.1.1.cmml" xref="S4.E5.m1.1.1"><eq id="S4.E5.m1.1.1.2.cmml" xref="S4.E5.m1.1.1.2"></eq><apply id="S4.E5.m1.1.1.3.cmml" xref="S4.E5.m1.1.1.3"><csymbol cd="ambiguous" id="S4.E5.m1.1.1.3.1.cmml" xref="S4.E5.m1.1.1.3">superscript</csymbol><ci id="S4.E5.m1.1.1.3.2.cmml" xref="S4.E5.m1.1.1.3.2">𝑛</ci><ci id="S4.E5.m1.1.1.3.3.cmml" xref="S4.E5.m1.1.1.3.3">𝑓</ci></apply><apply id="S4.E5.m1.1.1.1.cmml" xref="S4.E5.m1.1.1.1"><times id="S4.E5.m1.1.1.1.2.cmml" xref="S4.E5.m1.1.1.1.2"></times><ci id="S4.E5.m1.1.1.1.3.cmml" xref="S4.E5.m1.1.1.1.3">𝑓</ci><apply id="S4.E5.m1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E5.m1.1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.1.1.1.1.1">superscript</csymbol><ci id="S4.E5.m1.1.1.1.1.1.1.2.cmml" xref="S4.E5.m1.1.1.1.1.1.1.2">𝑛</ci><ci id="S4.E5.m1.1.1.1.1.1.1.3.cmml" xref="S4.E5.m1.1.1.1.1.1.1.3">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5.m1.1c">n^{f}=f(n^{r})</annotation><annotation encoding="application/x-llamapun" id="S4.E5.m1.1d">italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT = italic_f ( italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS1.SSS1.p2.33">If there is no significant relationship between <math alttext="n^{f}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.16.m1.1"><semantics id="S4.SS1.SSS1.p2.16.m1.1a"><msup id="S4.SS1.SSS1.p2.16.m1.1.1" xref="S4.SS1.SSS1.p2.16.m1.1.1.cmml"><mi id="S4.SS1.SSS1.p2.16.m1.1.1.2" xref="S4.SS1.SSS1.p2.16.m1.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.16.m1.1.1.3" xref="S4.SS1.SSS1.p2.16.m1.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.16.m1.1b"><apply id="S4.SS1.SSS1.p2.16.m1.1.1.cmml" xref="S4.SS1.SSS1.p2.16.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.16.m1.1.1.1.cmml" xref="S4.SS1.SSS1.p2.16.m1.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.16.m1.1.1.2.cmml" xref="S4.SS1.SSS1.p2.16.m1.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.16.m1.1.1.3.cmml" xref="S4.SS1.SSS1.p2.16.m1.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.16.m1.1c">n^{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.16.m1.1d">italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="n^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.17.m2.1"><semantics id="S4.SS1.SSS1.p2.17.m2.1a"><msup id="S4.SS1.SSS1.p2.17.m2.1.1" xref="S4.SS1.SSS1.p2.17.m2.1.1.cmml"><mi id="S4.SS1.SSS1.p2.17.m2.1.1.2" xref="S4.SS1.SSS1.p2.17.m2.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.17.m2.1.1.3" xref="S4.SS1.SSS1.p2.17.m2.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.17.m2.1b"><apply id="S4.SS1.SSS1.p2.17.m2.1.1.cmml" xref="S4.SS1.SSS1.p2.17.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.17.m2.1.1.1.cmml" xref="S4.SS1.SSS1.p2.17.m2.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.17.m2.1.1.2.cmml" xref="S4.SS1.SSS1.p2.17.m2.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.17.m2.1.1.3.cmml" xref="S4.SS1.SSS1.p2.17.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.17.m2.1c">n^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.17.m2.1d">italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math>, it can be inferred that <math alttext="n^{f}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.18.m3.1"><semantics id="S4.SS1.SSS1.p2.18.m3.1a"><msup id="S4.SS1.SSS1.p2.18.m3.1.1" xref="S4.SS1.SSS1.p2.18.m3.1.1.cmml"><mi id="S4.SS1.SSS1.p2.18.m3.1.1.2" xref="S4.SS1.SSS1.p2.18.m3.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.18.m3.1.1.3" xref="S4.SS1.SSS1.p2.18.m3.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.18.m3.1b"><apply id="S4.SS1.SSS1.p2.18.m3.1.1.cmml" xref="S4.SS1.SSS1.p2.18.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.18.m3.1.1.1.cmml" xref="S4.SS1.SSS1.p2.18.m3.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.18.m3.1.1.2.cmml" xref="S4.SS1.SSS1.p2.18.m3.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.18.m3.1.1.3.cmml" xref="S4.SS1.SSS1.p2.18.m3.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.18.m3.1c">n^{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.18.m3.1d">italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> has reached <math alttext="n_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.19.m4.1"><semantics id="S4.SS1.SSS1.p2.19.m4.1a"><msub id="S4.SS1.SSS1.p2.19.m4.1.1" xref="S4.SS1.SSS1.p2.19.m4.1.1.cmml"><mi id="S4.SS1.SSS1.p2.19.m4.1.1.2" xref="S4.SS1.SSS1.p2.19.m4.1.1.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.19.m4.1.1.3" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.19.m4.1.1.3.2" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.19.m4.1.1.3.1" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.19.m4.1.1.3.3" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.19.m4.1.1.3.1a" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.19.m4.1.1.3.4" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.19.m4.1.1.3.1b" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.19.m4.1.1.3.5" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.19.m4.1.1.3.1c" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.19.m4.1.1.3.6" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.6.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.19.m4.1b"><apply id="S4.SS1.SSS1.p2.19.m4.1.1.cmml" xref="S4.SS1.SSS1.p2.19.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.19.m4.1.1.1.cmml" xref="S4.SS1.SSS1.p2.19.m4.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.19.m4.1.1.2.cmml" xref="S4.SS1.SSS1.p2.19.m4.1.1.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.19.m4.1.1.3.cmml" xref="S4.SS1.SSS1.p2.19.m4.1.1.3"><times id="S4.SS1.SSS1.p2.19.m4.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.19.m4.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.19.m4.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.19.m4.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.19.m4.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.19.m4.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.19.m4.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.19.m4.1c">n_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.19.m4.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math>; if not, the opposite is deduced. In this paper, ordinary least squares regression (OLS) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib21" title="">21</a>]</cite> is used to model <math alttext="n^{f}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.20.m5.1"><semantics id="S4.SS1.SSS1.p2.20.m5.1a"><msup id="S4.SS1.SSS1.p2.20.m5.1.1" xref="S4.SS1.SSS1.p2.20.m5.1.1.cmml"><mi id="S4.SS1.SSS1.p2.20.m5.1.1.2" xref="S4.SS1.SSS1.p2.20.m5.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.20.m5.1.1.3" xref="S4.SS1.SSS1.p2.20.m5.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.20.m5.1b"><apply id="S4.SS1.SSS1.p2.20.m5.1.1.cmml" xref="S4.SS1.SSS1.p2.20.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.20.m5.1.1.1.cmml" xref="S4.SS1.SSS1.p2.20.m5.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.20.m5.1.1.2.cmml" xref="S4.SS1.SSS1.p2.20.m5.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.20.m5.1.1.3.cmml" xref="S4.SS1.SSS1.p2.20.m5.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.20.m5.1c">n^{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.20.m5.1d">italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="n^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.21.m6.1"><semantics id="S4.SS1.SSS1.p2.21.m6.1a"><msup id="S4.SS1.SSS1.p2.21.m6.1.1" xref="S4.SS1.SSS1.p2.21.m6.1.1.cmml"><mi id="S4.SS1.SSS1.p2.21.m6.1.1.2" xref="S4.SS1.SSS1.p2.21.m6.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.21.m6.1.1.3" xref="S4.SS1.SSS1.p2.21.m6.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.21.m6.1b"><apply id="S4.SS1.SSS1.p2.21.m6.1.1.cmml" xref="S4.SS1.SSS1.p2.21.m6.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.21.m6.1.1.1.cmml" xref="S4.SS1.SSS1.p2.21.m6.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.21.m6.1.1.2.cmml" xref="S4.SS1.SSS1.p2.21.m6.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.21.m6.1.1.3.cmml" xref="S4.SS1.SSS1.p2.21.m6.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.21.m6.1c">n^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.21.m6.1d">italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math>, and t-test is adopted to determine whether there is a significant relationship between <math alttext="n^{f}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.22.m7.1"><semantics id="S4.SS1.SSS1.p2.22.m7.1a"><msup id="S4.SS1.SSS1.p2.22.m7.1.1" xref="S4.SS1.SSS1.p2.22.m7.1.1.cmml"><mi id="S4.SS1.SSS1.p2.22.m7.1.1.2" xref="S4.SS1.SSS1.p2.22.m7.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.22.m7.1.1.3" xref="S4.SS1.SSS1.p2.22.m7.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.22.m7.1b"><apply id="S4.SS1.SSS1.p2.22.m7.1.1.cmml" xref="S4.SS1.SSS1.p2.22.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.22.m7.1.1.1.cmml" xref="S4.SS1.SSS1.p2.22.m7.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.22.m7.1.1.2.cmml" xref="S4.SS1.SSS1.p2.22.m7.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.22.m7.1.1.3.cmml" xref="S4.SS1.SSS1.p2.22.m7.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.22.m7.1c">n^{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.22.m7.1d">italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="n^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.23.m8.1"><semantics id="S4.SS1.SSS1.p2.23.m8.1a"><msup id="S4.SS1.SSS1.p2.23.m8.1.1" xref="S4.SS1.SSS1.p2.23.m8.1.1.cmml"><mi id="S4.SS1.SSS1.p2.23.m8.1.1.2" xref="S4.SS1.SSS1.p2.23.m8.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.23.m8.1.1.3" xref="S4.SS1.SSS1.p2.23.m8.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.23.m8.1b"><apply id="S4.SS1.SSS1.p2.23.m8.1.1.cmml" xref="S4.SS1.SSS1.p2.23.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.23.m8.1.1.1.cmml" xref="S4.SS1.SSS1.p2.23.m8.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.23.m8.1.1.2.cmml" xref="S4.SS1.SSS1.p2.23.m8.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.23.m8.1.1.3.cmml" xref="S4.SS1.SSS1.p2.23.m8.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.23.m8.1c">n^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.23.m8.1d">italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math>. If <math alttext="n^{f}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.24.m9.1"><semantics id="S4.SS1.SSS1.p2.24.m9.1a"><msup id="S4.SS1.SSS1.p2.24.m9.1.1" xref="S4.SS1.SSS1.p2.24.m9.1.1.cmml"><mi id="S4.SS1.SSS1.p2.24.m9.1.1.2" xref="S4.SS1.SSS1.p2.24.m9.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.24.m9.1.1.3" xref="S4.SS1.SSS1.p2.24.m9.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.24.m9.1b"><apply id="S4.SS1.SSS1.p2.24.m9.1.1.cmml" xref="S4.SS1.SSS1.p2.24.m9.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.24.m9.1.1.1.cmml" xref="S4.SS1.SSS1.p2.24.m9.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.24.m9.1.1.2.cmml" xref="S4.SS1.SSS1.p2.24.m9.1.1.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.24.m9.1.1.3.cmml" xref="S4.SS1.SSS1.p2.24.m9.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.24.m9.1c">n^{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.24.m9.1d">italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> deviates from <math alttext="n_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.25.m10.1"><semantics id="S4.SS1.SSS1.p2.25.m10.1a"><msub id="S4.SS1.SSS1.p2.25.m10.1.1" xref="S4.SS1.SSS1.p2.25.m10.1.1.cmml"><mi id="S4.SS1.SSS1.p2.25.m10.1.1.2" xref="S4.SS1.SSS1.p2.25.m10.1.1.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.25.m10.1.1.3" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.25.m10.1.1.3.2" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.25.m10.1.1.3.1" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.25.m10.1.1.3.3" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.25.m10.1.1.3.1a" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.25.m10.1.1.3.4" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.25.m10.1.1.3.1b" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.25.m10.1.1.3.5" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.25.m10.1.1.3.1c" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.25.m10.1.1.3.6" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.6.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.25.m10.1b"><apply id="S4.SS1.SSS1.p2.25.m10.1.1.cmml" xref="S4.SS1.SSS1.p2.25.m10.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.25.m10.1.1.1.cmml" xref="S4.SS1.SSS1.p2.25.m10.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.25.m10.1.1.2.cmml" xref="S4.SS1.SSS1.p2.25.m10.1.1.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.25.m10.1.1.3.cmml" xref="S4.SS1.SSS1.p2.25.m10.1.1.3"><times id="S4.SS1.SSS1.p2.25.m10.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.25.m10.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.25.m10.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.25.m10.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.25.m10.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.25.m10.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.25.m10.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.25.m10.1c">n_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.25.m10.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, we can deduce that <math alttext="n_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.26.m11.1"><semantics id="S4.SS1.SSS1.p2.26.m11.1a"><msub id="S4.SS1.SSS1.p2.26.m11.1.1" xref="S4.SS1.SSS1.p2.26.m11.1.1.cmml"><mi id="S4.SS1.SSS1.p2.26.m11.1.1.2" xref="S4.SS1.SSS1.p2.26.m11.1.1.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.26.m11.1.1.3" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.26.m11.1.1.3.2" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.26.m11.1.1.3.1" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.26.m11.1.1.3.3" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.26.m11.1.1.3.1a" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.26.m11.1.1.3.4" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.26.m11.1.1.3.1b" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.26.m11.1.1.3.5" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.26.m11.1.1.3.1c" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.26.m11.1.1.3.6" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.6.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.26.m11.1b"><apply id="S4.SS1.SSS1.p2.26.m11.1.1.cmml" xref="S4.SS1.SSS1.p2.26.m11.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.26.m11.1.1.1.cmml" xref="S4.SS1.SSS1.p2.26.m11.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.26.m11.1.1.2.cmml" xref="S4.SS1.SSS1.p2.26.m11.1.1.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.26.m11.1.1.3.cmml" xref="S4.SS1.SSS1.p2.26.m11.1.1.3"><times id="S4.SS1.SSS1.p2.26.m11.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.26.m11.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.26.m11.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.26.m11.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.26.m11.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.26.m11.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.26.m11.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.26.m11.1c">n_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.26.m11.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="t^{r}_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.27.m12.1"><semantics id="S4.SS1.SSS1.p2.27.m12.1a"><msubsup id="S4.SS1.SSS1.p2.27.m12.1.1" xref="S4.SS1.SSS1.p2.27.m12.1.1.cmml"><mi id="S4.SS1.SSS1.p2.27.m12.1.1.2.2" xref="S4.SS1.SSS1.p2.27.m12.1.1.2.2.cmml">t</mi><mrow id="S4.SS1.SSS1.p2.27.m12.1.1.3" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.27.m12.1.1.3.2" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.27.m12.1.1.3.1" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.27.m12.1.1.3.3" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.27.m12.1.1.3.1a" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.27.m12.1.1.3.4" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.27.m12.1.1.3.1b" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.27.m12.1.1.3.5" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.27.m12.1.1.3.1c" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.27.m12.1.1.3.6" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.6.cmml">t</mi></mrow><mi id="S4.SS1.SSS1.p2.27.m12.1.1.2.3" xref="S4.SS1.SSS1.p2.27.m12.1.1.2.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.27.m12.1b"><apply id="S4.SS1.SSS1.p2.27.m12.1.1.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.27.m12.1.1.1.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1">subscript</csymbol><apply id="S4.SS1.SSS1.p2.27.m12.1.1.2.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.27.m12.1.1.2.1.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.27.m12.1.1.2.2.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1.2.2">𝑡</ci><ci id="S4.SS1.SSS1.p2.27.m12.1.1.2.3.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1.2.3">𝑟</ci></apply><apply id="S4.SS1.SSS1.p2.27.m12.1.1.3.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1.3"><times id="S4.SS1.SSS1.p2.27.m12.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.27.m12.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.27.m12.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.27.m12.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.27.m12.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.27.m12.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.27.m12.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.27.m12.1c">t^{r}_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.27.m12.1d">italic_t start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> are generated from extreme value distributions of <math alttext="[n_{t-w}^{f},\cdots n_{t}^{f}]" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.28.m13.2"><semantics id="S4.SS1.SSS1.p2.28.m13.2a"><mrow id="S4.SS1.SSS1.p2.28.m13.2.2.2" xref="S4.SS1.SSS1.p2.28.m13.2.2.3.cmml"><mo id="S4.SS1.SSS1.p2.28.m13.2.2.2.3" stretchy="false" xref="S4.SS1.SSS1.p2.28.m13.2.2.3.cmml">[</mo><msubsup id="S4.SS1.SSS1.p2.28.m13.1.1.1.1" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.cmml"><mi id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.2" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.cmml"><mi id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.2" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.1" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.1.cmml">−</mo><mi id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.3" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.3.cmml">w</mi></mrow><mi id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.3" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.3.cmml">f</mi></msubsup><mo id="S4.SS1.SSS1.p2.28.m13.2.2.2.4" xref="S4.SS1.SSS1.p2.28.m13.2.2.3.cmml">,</mo><mrow id="S4.SS1.SSS1.p2.28.m13.2.2.2.2" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.cmml"><mi id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.2" mathvariant="normal" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.2.cmml">⋯</mi><mo id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.1" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.1.cmml">⁢</mo><msubsup id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.cmml"><mi id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.2.2" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.2.2.cmml">n</mi><mi id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.2.3" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.2.3.cmml">t</mi><mi id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.3" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.3.cmml">f</mi></msubsup></mrow><mo id="S4.SS1.SSS1.p2.28.m13.2.2.2.5" stretchy="false" xref="S4.SS1.SSS1.p2.28.m13.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.28.m13.2b"><interval closure="closed" id="S4.SS1.SSS1.p2.28.m13.2.2.3.cmml" xref="S4.SS1.SSS1.p2.28.m13.2.2.2"><apply id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.cmml" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1">superscript</csymbol><apply id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.cmml" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.1.cmml" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.2.cmml" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.cmml" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3"><minus id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.1.cmml" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.1"></minus><ci id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.2.cmml" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.3.cmml" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.2.3.3">𝑤</ci></apply></apply><ci id="S4.SS1.SSS1.p2.28.m13.1.1.1.1.3.cmml" xref="S4.SS1.SSS1.p2.28.m13.1.1.1.1.3">𝑓</ci></apply><apply id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.cmml" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2"><times id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.1.cmml" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.1"></times><ci id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.2.cmml" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.2">⋯</ci><apply id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.cmml" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.1.cmml" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3">superscript</csymbol><apply id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.2.cmml" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.2.1.cmml" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3">subscript</csymbol><ci id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.2.2.cmml" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.2.2">𝑛</ci><ci id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.2.3.cmml" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.2.3">𝑡</ci></apply><ci id="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.3.cmml" xref="S4.SS1.SSS1.p2.28.m13.2.2.2.2.3.3">𝑓</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.28.m13.2c">[n_{t-w}^{f},\cdots n_{t}^{f}]</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.28.m13.2d">[ italic_n start_POSTSUBSCRIPT italic_t - italic_w end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT , ⋯ italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT ]</annotation></semantics></math> and <math alttext="[t_{t-w}^{r},\cdots t_{t}^{r}]" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.29.m14.2"><semantics id="S4.SS1.SSS1.p2.29.m14.2a"><mrow id="S4.SS1.SSS1.p2.29.m14.2.2.2" xref="S4.SS1.SSS1.p2.29.m14.2.2.3.cmml"><mo id="S4.SS1.SSS1.p2.29.m14.2.2.2.3" stretchy="false" xref="S4.SS1.SSS1.p2.29.m14.2.2.3.cmml">[</mo><msubsup id="S4.SS1.SSS1.p2.29.m14.1.1.1.1" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.cmml"><mi id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.2" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.2.cmml">t</mi><mrow id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.cmml"><mi id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.2" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.1" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.1.cmml">−</mo><mi id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.3" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.3.cmml">w</mi></mrow><mi id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.3" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.3.cmml">r</mi></msubsup><mo id="S4.SS1.SSS1.p2.29.m14.2.2.2.4" xref="S4.SS1.SSS1.p2.29.m14.2.2.3.cmml">,</mo><mrow id="S4.SS1.SSS1.p2.29.m14.2.2.2.2" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.cmml"><mi id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.2" mathvariant="normal" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.2.cmml">⋯</mi><mo id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.1" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.1.cmml">⁢</mo><msubsup id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.cmml"><mi id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.2.2" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.2.2.cmml">t</mi><mi id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.2.3" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.2.3.cmml">t</mi><mi id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.3" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.3.cmml">r</mi></msubsup></mrow><mo id="S4.SS1.SSS1.p2.29.m14.2.2.2.5" stretchy="false" xref="S4.SS1.SSS1.p2.29.m14.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.29.m14.2b"><interval closure="closed" id="S4.SS1.SSS1.p2.29.m14.2.2.3.cmml" xref="S4.SS1.SSS1.p2.29.m14.2.2.2"><apply id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.cmml" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.1.cmml" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1">superscript</csymbol><apply id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.cmml" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.1.cmml" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.2.cmml" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.2">𝑡</ci><apply id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.cmml" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3"><minus id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.1.cmml" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.1"></minus><ci id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.2.cmml" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.3.cmml" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.2.3.3">𝑤</ci></apply></apply><ci id="S4.SS1.SSS1.p2.29.m14.1.1.1.1.3.cmml" xref="S4.SS1.SSS1.p2.29.m14.1.1.1.1.3">𝑟</ci></apply><apply id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.cmml" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2"><times id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.1.cmml" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.1"></times><ci id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.2.cmml" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.2">⋯</ci><apply id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.cmml" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.1.cmml" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3">superscript</csymbol><apply id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.2.cmml" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.2.1.cmml" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3">subscript</csymbol><ci id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.2.2.cmml" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.2.2">𝑡</ci><ci id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.2.3.cmml" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.2.3">𝑡</ci></apply><ci id="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.3.cmml" xref="S4.SS1.SSS1.p2.29.m14.2.2.2.2.3.3">𝑟</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.29.m14.2c">[t_{t-w}^{r},\cdots t_{t}^{r}]</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.29.m14.2d">[ italic_t start_POSTSUBSCRIPT italic_t - italic_w end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT , ⋯ italic_t start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT ]</annotation></semantics></math>. If not, <math alttext="n_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.30.m15.1"><semantics id="S4.SS1.SSS1.p2.30.m15.1a"><msub id="S4.SS1.SSS1.p2.30.m15.1.1" xref="S4.SS1.SSS1.p2.30.m15.1.1.cmml"><mi id="S4.SS1.SSS1.p2.30.m15.1.1.2" xref="S4.SS1.SSS1.p2.30.m15.1.1.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.30.m15.1.1.3" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.30.m15.1.1.3.2" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.30.m15.1.1.3.1" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.30.m15.1.1.3.3" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.30.m15.1.1.3.1a" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.30.m15.1.1.3.4" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.30.m15.1.1.3.1b" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.30.m15.1.1.3.5" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.30.m15.1.1.3.1c" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.30.m15.1.1.3.6" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.6.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.30.m15.1b"><apply id="S4.SS1.SSS1.p2.30.m15.1.1.cmml" xref="S4.SS1.SSS1.p2.30.m15.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.30.m15.1.1.1.cmml" xref="S4.SS1.SSS1.p2.30.m15.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.30.m15.1.1.2.cmml" xref="S4.SS1.SSS1.p2.30.m15.1.1.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.30.m15.1.1.3.cmml" xref="S4.SS1.SSS1.p2.30.m15.1.1.3"><times id="S4.SS1.SSS1.p2.30.m15.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.30.m15.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.30.m15.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.30.m15.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.30.m15.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.30.m15.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.30.m15.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.30.m15.1c">n_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.30.m15.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="t^{r}_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.31.m16.1"><semantics id="S4.SS1.SSS1.p2.31.m16.1a"><msubsup id="S4.SS1.SSS1.p2.31.m16.1.1" xref="S4.SS1.SSS1.p2.31.m16.1.1.cmml"><mi id="S4.SS1.SSS1.p2.31.m16.1.1.2.2" xref="S4.SS1.SSS1.p2.31.m16.1.1.2.2.cmml">t</mi><mrow id="S4.SS1.SSS1.p2.31.m16.1.1.3" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.31.m16.1.1.3.2" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.31.m16.1.1.3.1" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.31.m16.1.1.3.3" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.31.m16.1.1.3.1a" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.31.m16.1.1.3.4" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.31.m16.1.1.3.1b" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.31.m16.1.1.3.5" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.31.m16.1.1.3.1c" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.31.m16.1.1.3.6" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.6.cmml">t</mi></mrow><mi id="S4.SS1.SSS1.p2.31.m16.1.1.2.3" xref="S4.SS1.SSS1.p2.31.m16.1.1.2.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.31.m16.1b"><apply id="S4.SS1.SSS1.p2.31.m16.1.1.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.31.m16.1.1.1.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1">subscript</csymbol><apply id="S4.SS1.SSS1.p2.31.m16.1.1.2.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.31.m16.1.1.2.1.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.31.m16.1.1.2.2.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1.2.2">𝑡</ci><ci id="S4.SS1.SSS1.p2.31.m16.1.1.2.3.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1.2.3">𝑟</ci></apply><apply id="S4.SS1.SSS1.p2.31.m16.1.1.3.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1.3"><times id="S4.SS1.SSS1.p2.31.m16.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.31.m16.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.31.m16.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.31.m16.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.31.m16.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.31.m16.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.31.m16.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.31.m16.1c">t^{r}_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.31.m16.1d">italic_t start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> are generated from normal distribution. Eventually, we estimate the extreme value distribution or normal distribution with kernel density estimate (KDE) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib22" title="">22</a>]</cite>, based on which <math alttext="n_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.32.m17.1"><semantics id="S4.SS1.SSS1.p2.32.m17.1a"><msub id="S4.SS1.SSS1.p2.32.m17.1.1" xref="S4.SS1.SSS1.p2.32.m17.1.1.cmml"><mi id="S4.SS1.SSS1.p2.32.m17.1.1.2" xref="S4.SS1.SSS1.p2.32.m17.1.1.2.cmml">n</mi><mrow id="S4.SS1.SSS1.p2.32.m17.1.1.3" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.32.m17.1.1.3.2" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.32.m17.1.1.3.1" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.32.m17.1.1.3.3" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.32.m17.1.1.3.1a" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.32.m17.1.1.3.4" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.32.m17.1.1.3.1b" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.32.m17.1.1.3.5" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.32.m17.1.1.3.1c" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.32.m17.1.1.3.6" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.6.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.32.m17.1b"><apply id="S4.SS1.SSS1.p2.32.m17.1.1.cmml" xref="S4.SS1.SSS1.p2.32.m17.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.32.m17.1.1.1.cmml" xref="S4.SS1.SSS1.p2.32.m17.1.1">subscript</csymbol><ci id="S4.SS1.SSS1.p2.32.m17.1.1.2.cmml" xref="S4.SS1.SSS1.p2.32.m17.1.1.2">𝑛</ci><apply id="S4.SS1.SSS1.p2.32.m17.1.1.3.cmml" xref="S4.SS1.SSS1.p2.32.m17.1.1.3"><times id="S4.SS1.SSS1.p2.32.m17.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.32.m17.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.32.m17.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.32.m17.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.32.m17.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.32.m17.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.32.m17.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.32.m17.1c">n_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.32.m17.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="t^{r}_{limit}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.p2.33.m18.1"><semantics id="S4.SS1.SSS1.p2.33.m18.1a"><msubsup id="S4.SS1.SSS1.p2.33.m18.1.1" xref="S4.SS1.SSS1.p2.33.m18.1.1.cmml"><mi id="S4.SS1.SSS1.p2.33.m18.1.1.2.2" xref="S4.SS1.SSS1.p2.33.m18.1.1.2.2.cmml">t</mi><mrow id="S4.SS1.SSS1.p2.33.m18.1.1.3" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.cmml"><mi id="S4.SS1.SSS1.p2.33.m18.1.1.3.2" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS1.p2.33.m18.1.1.3.1" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.33.m18.1.1.3.3" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.3.cmml">i</mi><mo id="S4.SS1.SSS1.p2.33.m18.1.1.3.1a" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.33.m18.1.1.3.4" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.4.cmml">m</mi><mo id="S4.SS1.SSS1.p2.33.m18.1.1.3.1b" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.33.m18.1.1.3.5" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.5.cmml">i</mi><mo id="S4.SS1.SSS1.p2.33.m18.1.1.3.1c" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS1.p2.33.m18.1.1.3.6" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.6.cmml">t</mi></mrow><mi id="S4.SS1.SSS1.p2.33.m18.1.1.2.3" xref="S4.SS1.SSS1.p2.33.m18.1.1.2.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.p2.33.m18.1b"><apply id="S4.SS1.SSS1.p2.33.m18.1.1.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.33.m18.1.1.1.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1">subscript</csymbol><apply id="S4.SS1.SSS1.p2.33.m18.1.1.2.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.p2.33.m18.1.1.2.1.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1">superscript</csymbol><ci id="S4.SS1.SSS1.p2.33.m18.1.1.2.2.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1.2.2">𝑡</ci><ci id="S4.SS1.SSS1.p2.33.m18.1.1.2.3.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1.2.3">𝑟</ci></apply><apply id="S4.SS1.SSS1.p2.33.m18.1.1.3.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1.3"><times id="S4.SS1.SSS1.p2.33.m18.1.1.3.1.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.1"></times><ci id="S4.SS1.SSS1.p2.33.m18.1.1.3.2.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS1.p2.33.m18.1.1.3.3.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.3">𝑖</ci><ci id="S4.SS1.SSS1.p2.33.m18.1.1.3.4.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.4">𝑚</ci><ci id="S4.SS1.SSS1.p2.33.m18.1.1.3.5.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.5">𝑖</ci><ci id="S4.SS1.SSS1.p2.33.m18.1.1.3.6.cmml" xref="S4.SS1.SSS1.p2.33.m18.1.1.3.6">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.p2.33.m18.1c">t^{r}_{limit}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.p2.33.m18.1d">italic_t start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT</annotation></semantics></math> are determined.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE II: </span>The part of monitoring metrics in ENOVA.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S4.T2.14">
<tr class="ltx_tr" id="S4.T2.14.15">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.14.15.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.14.15.1.1">Metric Description</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.14.15.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.14.15.2.1">Symbol</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.14.15.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.14.15.3.1">Observations</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.3" style="padding-top:1pt;padding-bottom:1pt;">Number of finished requests per unit time</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="n^{f}" class="ltx_Math" display="inline" id="S4.T2.1.1.1.m1.1"><semantics id="S4.T2.1.1.1.m1.1a"><msup id="S4.T2.1.1.1.m1.1.1" xref="S4.T2.1.1.1.m1.1.1.cmml"><mi id="S4.T2.1.1.1.m1.1.1.2" xref="S4.T2.1.1.1.m1.1.1.2.cmml">n</mi><mi id="S4.T2.1.1.1.m1.1.1.3" xref="S4.T2.1.1.1.m1.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.m1.1b"><apply id="S4.T2.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.1.1.1.m1.1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1">superscript</csymbol><ci id="S4.T2.1.1.1.m1.1.1.2.cmml" xref="S4.T2.1.1.1.m1.1.1.2">𝑛</ci><ci id="S4.T2.1.1.1.m1.1.1.3.cmml" xref="S4.T2.1.1.1.m1.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.m1.1c">n^{f}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.m1.1d">italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.2" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="[n_{t-w}^{f},\cdots n_{t}^{f}]" class="ltx_Math" display="inline" id="S4.T2.2.2.2.m1.2"><semantics id="S4.T2.2.2.2.m1.2a"><mrow id="S4.T2.2.2.2.m1.2.2.2" xref="S4.T2.2.2.2.m1.2.2.3.cmml"><mo id="S4.T2.2.2.2.m1.2.2.2.3" stretchy="false" xref="S4.T2.2.2.2.m1.2.2.3.cmml">[</mo><msubsup id="S4.T2.2.2.2.m1.1.1.1.1" xref="S4.T2.2.2.2.m1.1.1.1.1.cmml"><mi id="S4.T2.2.2.2.m1.1.1.1.1.2.2" xref="S4.T2.2.2.2.m1.1.1.1.1.2.2.cmml">n</mi><mrow id="S4.T2.2.2.2.m1.1.1.1.1.2.3" xref="S4.T2.2.2.2.m1.1.1.1.1.2.3.cmml"><mi id="S4.T2.2.2.2.m1.1.1.1.1.2.3.2" xref="S4.T2.2.2.2.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.T2.2.2.2.m1.1.1.1.1.2.3.1" xref="S4.T2.2.2.2.m1.1.1.1.1.2.3.1.cmml">−</mo><mi id="S4.T2.2.2.2.m1.1.1.1.1.2.3.3" xref="S4.T2.2.2.2.m1.1.1.1.1.2.3.3.cmml">w</mi></mrow><mi id="S4.T2.2.2.2.m1.1.1.1.1.3" xref="S4.T2.2.2.2.m1.1.1.1.1.3.cmml">f</mi></msubsup><mo id="S4.T2.2.2.2.m1.2.2.2.4" xref="S4.T2.2.2.2.m1.2.2.3.cmml">,</mo><mrow id="S4.T2.2.2.2.m1.2.2.2.2" xref="S4.T2.2.2.2.m1.2.2.2.2.cmml"><mi id="S4.T2.2.2.2.m1.2.2.2.2.2" mathvariant="normal" xref="S4.T2.2.2.2.m1.2.2.2.2.2.cmml">⋯</mi><mo id="S4.T2.2.2.2.m1.2.2.2.2.1" xref="S4.T2.2.2.2.m1.2.2.2.2.1.cmml">⁢</mo><msubsup id="S4.T2.2.2.2.m1.2.2.2.2.3" xref="S4.T2.2.2.2.m1.2.2.2.2.3.cmml"><mi id="S4.T2.2.2.2.m1.2.2.2.2.3.2.2" xref="S4.T2.2.2.2.m1.2.2.2.2.3.2.2.cmml">n</mi><mi id="S4.T2.2.2.2.m1.2.2.2.2.3.2.3" xref="S4.T2.2.2.2.m1.2.2.2.2.3.2.3.cmml">t</mi><mi id="S4.T2.2.2.2.m1.2.2.2.2.3.3" xref="S4.T2.2.2.2.m1.2.2.2.2.3.3.cmml">f</mi></msubsup></mrow><mo id="S4.T2.2.2.2.m1.2.2.2.5" stretchy="false" xref="S4.T2.2.2.2.m1.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.m1.2b"><interval closure="closed" id="S4.T2.2.2.2.m1.2.2.3.cmml" xref="S4.T2.2.2.2.m1.2.2.2"><apply id="S4.T2.2.2.2.m1.1.1.1.1.cmml" xref="S4.T2.2.2.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.2.2.2.m1.1.1.1.1.1.cmml" xref="S4.T2.2.2.2.m1.1.1.1.1">superscript</csymbol><apply id="S4.T2.2.2.2.m1.1.1.1.1.2.cmml" xref="S4.T2.2.2.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.2.2.2.m1.1.1.1.1.2.1.cmml" xref="S4.T2.2.2.2.m1.1.1.1.1">subscript</csymbol><ci id="S4.T2.2.2.2.m1.1.1.1.1.2.2.cmml" xref="S4.T2.2.2.2.m1.1.1.1.1.2.2">𝑛</ci><apply id="S4.T2.2.2.2.m1.1.1.1.1.2.3.cmml" xref="S4.T2.2.2.2.m1.1.1.1.1.2.3"><minus id="S4.T2.2.2.2.m1.1.1.1.1.2.3.1.cmml" xref="S4.T2.2.2.2.m1.1.1.1.1.2.3.1"></minus><ci id="S4.T2.2.2.2.m1.1.1.1.1.2.3.2.cmml" xref="S4.T2.2.2.2.m1.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.T2.2.2.2.m1.1.1.1.1.2.3.3.cmml" xref="S4.T2.2.2.2.m1.1.1.1.1.2.3.3">𝑤</ci></apply></apply><ci id="S4.T2.2.2.2.m1.1.1.1.1.3.cmml" xref="S4.T2.2.2.2.m1.1.1.1.1.3">𝑓</ci></apply><apply id="S4.T2.2.2.2.m1.2.2.2.2.cmml" xref="S4.T2.2.2.2.m1.2.2.2.2"><times id="S4.T2.2.2.2.m1.2.2.2.2.1.cmml" xref="S4.T2.2.2.2.m1.2.2.2.2.1"></times><ci id="S4.T2.2.2.2.m1.2.2.2.2.2.cmml" xref="S4.T2.2.2.2.m1.2.2.2.2.2">⋯</ci><apply id="S4.T2.2.2.2.m1.2.2.2.2.3.cmml" xref="S4.T2.2.2.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.2.2.2.m1.2.2.2.2.3.1.cmml" xref="S4.T2.2.2.2.m1.2.2.2.2.3">superscript</csymbol><apply id="S4.T2.2.2.2.m1.2.2.2.2.3.2.cmml" xref="S4.T2.2.2.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.2.2.2.m1.2.2.2.2.3.2.1.cmml" xref="S4.T2.2.2.2.m1.2.2.2.2.3">subscript</csymbol><ci id="S4.T2.2.2.2.m1.2.2.2.2.3.2.2.cmml" xref="S4.T2.2.2.2.m1.2.2.2.2.3.2.2">𝑛</ci><ci id="S4.T2.2.2.2.m1.2.2.2.2.3.2.3.cmml" xref="S4.T2.2.2.2.m1.2.2.2.2.3.2.3">𝑡</ci></apply><ci id="S4.T2.2.2.2.m1.2.2.2.2.3.3.cmml" xref="S4.T2.2.2.2.m1.2.2.2.2.3.3">𝑓</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.m1.2c">[n_{t-w}^{f},\cdots n_{t}^{f}]</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.2.2.m1.2d">[ italic_n start_POSTSUBSCRIPT italic_t - italic_w end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT , ⋯ italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT ]</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.4">
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.3" style="padding-top:1pt;padding-bottom:1pt;">Number of running requests per unit time</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.1" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="n^{r}" class="ltx_Math" display="inline" id="S4.T2.3.3.1.m1.1"><semantics id="S4.T2.3.3.1.m1.1a"><msup id="S4.T2.3.3.1.m1.1.1" xref="S4.T2.3.3.1.m1.1.1.cmml"><mi id="S4.T2.3.3.1.m1.1.1.2" xref="S4.T2.3.3.1.m1.1.1.2.cmml">n</mi><mi id="S4.T2.3.3.1.m1.1.1.3" xref="S4.T2.3.3.1.m1.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.1.m1.1b"><apply id="S4.T2.3.3.1.m1.1.1.cmml" xref="S4.T2.3.3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.3.3.1.m1.1.1.1.cmml" xref="S4.T2.3.3.1.m1.1.1">superscript</csymbol><ci id="S4.T2.3.3.1.m1.1.1.2.cmml" xref="S4.T2.3.3.1.m1.1.1.2">𝑛</ci><ci id="S4.T2.3.3.1.m1.1.1.3.cmml" xref="S4.T2.3.3.1.m1.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.1.m1.1c">n^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.3.1.m1.1d">italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.2" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="[n_{t-w}^{r},\cdots n_{t}^{r}]" class="ltx_Math" display="inline" id="S4.T2.4.4.2.m1.2"><semantics id="S4.T2.4.4.2.m1.2a"><mrow id="S4.T2.4.4.2.m1.2.2.2" xref="S4.T2.4.4.2.m1.2.2.3.cmml"><mo id="S4.T2.4.4.2.m1.2.2.2.3" stretchy="false" xref="S4.T2.4.4.2.m1.2.2.3.cmml">[</mo><msubsup id="S4.T2.4.4.2.m1.1.1.1.1" xref="S4.T2.4.4.2.m1.1.1.1.1.cmml"><mi id="S4.T2.4.4.2.m1.1.1.1.1.2.2" xref="S4.T2.4.4.2.m1.1.1.1.1.2.2.cmml">n</mi><mrow id="S4.T2.4.4.2.m1.1.1.1.1.2.3" xref="S4.T2.4.4.2.m1.1.1.1.1.2.3.cmml"><mi id="S4.T2.4.4.2.m1.1.1.1.1.2.3.2" xref="S4.T2.4.4.2.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.T2.4.4.2.m1.1.1.1.1.2.3.1" xref="S4.T2.4.4.2.m1.1.1.1.1.2.3.1.cmml">−</mo><mi id="S4.T2.4.4.2.m1.1.1.1.1.2.3.3" xref="S4.T2.4.4.2.m1.1.1.1.1.2.3.3.cmml">w</mi></mrow><mi id="S4.T2.4.4.2.m1.1.1.1.1.3" xref="S4.T2.4.4.2.m1.1.1.1.1.3.cmml">r</mi></msubsup><mo id="S4.T2.4.4.2.m1.2.2.2.4" xref="S4.T2.4.4.2.m1.2.2.3.cmml">,</mo><mrow id="S4.T2.4.4.2.m1.2.2.2.2" xref="S4.T2.4.4.2.m1.2.2.2.2.cmml"><mi id="S4.T2.4.4.2.m1.2.2.2.2.2" mathvariant="normal" xref="S4.T2.4.4.2.m1.2.2.2.2.2.cmml">⋯</mi><mo id="S4.T2.4.4.2.m1.2.2.2.2.1" xref="S4.T2.4.4.2.m1.2.2.2.2.1.cmml">⁢</mo><msubsup id="S4.T2.4.4.2.m1.2.2.2.2.3" xref="S4.T2.4.4.2.m1.2.2.2.2.3.cmml"><mi id="S4.T2.4.4.2.m1.2.2.2.2.3.2.2" xref="S4.T2.4.4.2.m1.2.2.2.2.3.2.2.cmml">n</mi><mi id="S4.T2.4.4.2.m1.2.2.2.2.3.2.3" xref="S4.T2.4.4.2.m1.2.2.2.2.3.2.3.cmml">t</mi><mi id="S4.T2.4.4.2.m1.2.2.2.2.3.3" xref="S4.T2.4.4.2.m1.2.2.2.2.3.3.cmml">r</mi></msubsup></mrow><mo id="S4.T2.4.4.2.m1.2.2.2.5" stretchy="false" xref="S4.T2.4.4.2.m1.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.2.m1.2b"><interval closure="closed" id="S4.T2.4.4.2.m1.2.2.3.cmml" xref="S4.T2.4.4.2.m1.2.2.2"><apply id="S4.T2.4.4.2.m1.1.1.1.1.cmml" xref="S4.T2.4.4.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.4.4.2.m1.1.1.1.1.1.cmml" xref="S4.T2.4.4.2.m1.1.1.1.1">superscript</csymbol><apply id="S4.T2.4.4.2.m1.1.1.1.1.2.cmml" xref="S4.T2.4.4.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.4.4.2.m1.1.1.1.1.2.1.cmml" xref="S4.T2.4.4.2.m1.1.1.1.1">subscript</csymbol><ci id="S4.T2.4.4.2.m1.1.1.1.1.2.2.cmml" xref="S4.T2.4.4.2.m1.1.1.1.1.2.2">𝑛</ci><apply id="S4.T2.4.4.2.m1.1.1.1.1.2.3.cmml" xref="S4.T2.4.4.2.m1.1.1.1.1.2.3"><minus id="S4.T2.4.4.2.m1.1.1.1.1.2.3.1.cmml" xref="S4.T2.4.4.2.m1.1.1.1.1.2.3.1"></minus><ci id="S4.T2.4.4.2.m1.1.1.1.1.2.3.2.cmml" xref="S4.T2.4.4.2.m1.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.T2.4.4.2.m1.1.1.1.1.2.3.3.cmml" xref="S4.T2.4.4.2.m1.1.1.1.1.2.3.3">𝑤</ci></apply></apply><ci id="S4.T2.4.4.2.m1.1.1.1.1.3.cmml" xref="S4.T2.4.4.2.m1.1.1.1.1.3">𝑟</ci></apply><apply id="S4.T2.4.4.2.m1.2.2.2.2.cmml" xref="S4.T2.4.4.2.m1.2.2.2.2"><times id="S4.T2.4.4.2.m1.2.2.2.2.1.cmml" xref="S4.T2.4.4.2.m1.2.2.2.2.1"></times><ci id="S4.T2.4.4.2.m1.2.2.2.2.2.cmml" xref="S4.T2.4.4.2.m1.2.2.2.2.2">⋯</ci><apply id="S4.T2.4.4.2.m1.2.2.2.2.3.cmml" xref="S4.T2.4.4.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.4.4.2.m1.2.2.2.2.3.1.cmml" xref="S4.T2.4.4.2.m1.2.2.2.2.3">superscript</csymbol><apply id="S4.T2.4.4.2.m1.2.2.2.2.3.2.cmml" xref="S4.T2.4.4.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.4.4.2.m1.2.2.2.2.3.2.1.cmml" xref="S4.T2.4.4.2.m1.2.2.2.2.3">subscript</csymbol><ci id="S4.T2.4.4.2.m1.2.2.2.2.3.2.2.cmml" xref="S4.T2.4.4.2.m1.2.2.2.2.3.2.2">𝑛</ci><ci id="S4.T2.4.4.2.m1.2.2.2.2.3.2.3.cmml" xref="S4.T2.4.4.2.m1.2.2.2.2.3.2.3">𝑡</ci></apply><ci id="S4.T2.4.4.2.m1.2.2.2.2.3.3.cmml" xref="S4.T2.4.4.2.m1.2.2.2.2.3.3">𝑟</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.2.m1.2c">[n_{t-w}^{r},\cdots n_{t}^{r}]</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.4.2.m1.2d">[ italic_n start_POSTSUBSCRIPT italic_t - italic_w end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT , ⋯ italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT ]</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.6">
<td class="ltx_td ltx_align_center" id="S4.T2.6.6.3" style="padding-top:1pt;padding-bottom:1pt;">Number of arriving requests per unit time</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.5.1" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="n^{a}" class="ltx_Math" display="inline" id="S4.T2.5.5.1.m1.1"><semantics id="S4.T2.5.5.1.m1.1a"><msup id="S4.T2.5.5.1.m1.1.1" xref="S4.T2.5.5.1.m1.1.1.cmml"><mi id="S4.T2.5.5.1.m1.1.1.2" xref="S4.T2.5.5.1.m1.1.1.2.cmml">n</mi><mi id="S4.T2.5.5.1.m1.1.1.3" xref="S4.T2.5.5.1.m1.1.1.3.cmml">a</mi></msup><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.1.m1.1b"><apply id="S4.T2.5.5.1.m1.1.1.cmml" xref="S4.T2.5.5.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.5.5.1.m1.1.1.1.cmml" xref="S4.T2.5.5.1.m1.1.1">superscript</csymbol><ci id="S4.T2.5.5.1.m1.1.1.2.cmml" xref="S4.T2.5.5.1.m1.1.1.2">𝑛</ci><ci id="S4.T2.5.5.1.m1.1.1.3.cmml" xref="S4.T2.5.5.1.m1.1.1.3">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.1.m1.1c">n^{a}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.5.5.1.m1.1d">italic_n start_POSTSUPERSCRIPT italic_a end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.6.2" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="[n_{t-w}^{a},\cdots n_{t}^{a}]" class="ltx_Math" display="inline" id="S4.T2.6.6.2.m1.2"><semantics id="S4.T2.6.6.2.m1.2a"><mrow id="S4.T2.6.6.2.m1.2.2.2" xref="S4.T2.6.6.2.m1.2.2.3.cmml"><mo id="S4.T2.6.6.2.m1.2.2.2.3" stretchy="false" xref="S4.T2.6.6.2.m1.2.2.3.cmml">[</mo><msubsup id="S4.T2.6.6.2.m1.1.1.1.1" xref="S4.T2.6.6.2.m1.1.1.1.1.cmml"><mi id="S4.T2.6.6.2.m1.1.1.1.1.2.2" xref="S4.T2.6.6.2.m1.1.1.1.1.2.2.cmml">n</mi><mrow id="S4.T2.6.6.2.m1.1.1.1.1.2.3" xref="S4.T2.6.6.2.m1.1.1.1.1.2.3.cmml"><mi id="S4.T2.6.6.2.m1.1.1.1.1.2.3.2" xref="S4.T2.6.6.2.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.T2.6.6.2.m1.1.1.1.1.2.3.1" xref="S4.T2.6.6.2.m1.1.1.1.1.2.3.1.cmml">−</mo><mi id="S4.T2.6.6.2.m1.1.1.1.1.2.3.3" xref="S4.T2.6.6.2.m1.1.1.1.1.2.3.3.cmml">w</mi></mrow><mi id="S4.T2.6.6.2.m1.1.1.1.1.3" xref="S4.T2.6.6.2.m1.1.1.1.1.3.cmml">a</mi></msubsup><mo id="S4.T2.6.6.2.m1.2.2.2.4" xref="S4.T2.6.6.2.m1.2.2.3.cmml">,</mo><mrow id="S4.T2.6.6.2.m1.2.2.2.2" xref="S4.T2.6.6.2.m1.2.2.2.2.cmml"><mi id="S4.T2.6.6.2.m1.2.2.2.2.2" mathvariant="normal" xref="S4.T2.6.6.2.m1.2.2.2.2.2.cmml">⋯</mi><mo id="S4.T2.6.6.2.m1.2.2.2.2.1" xref="S4.T2.6.6.2.m1.2.2.2.2.1.cmml">⁢</mo><msubsup id="S4.T2.6.6.2.m1.2.2.2.2.3" xref="S4.T2.6.6.2.m1.2.2.2.2.3.cmml"><mi id="S4.T2.6.6.2.m1.2.2.2.2.3.2.2" xref="S4.T2.6.6.2.m1.2.2.2.2.3.2.2.cmml">n</mi><mi id="S4.T2.6.6.2.m1.2.2.2.2.3.2.3" xref="S4.T2.6.6.2.m1.2.2.2.2.3.2.3.cmml">t</mi><mi id="S4.T2.6.6.2.m1.2.2.2.2.3.3" xref="S4.T2.6.6.2.m1.2.2.2.2.3.3.cmml">a</mi></msubsup></mrow><mo id="S4.T2.6.6.2.m1.2.2.2.5" stretchy="false" xref="S4.T2.6.6.2.m1.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.2.m1.2b"><interval closure="closed" id="S4.T2.6.6.2.m1.2.2.3.cmml" xref="S4.T2.6.6.2.m1.2.2.2"><apply id="S4.T2.6.6.2.m1.1.1.1.1.cmml" xref="S4.T2.6.6.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.6.6.2.m1.1.1.1.1.1.cmml" xref="S4.T2.6.6.2.m1.1.1.1.1">superscript</csymbol><apply id="S4.T2.6.6.2.m1.1.1.1.1.2.cmml" xref="S4.T2.6.6.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.6.6.2.m1.1.1.1.1.2.1.cmml" xref="S4.T2.6.6.2.m1.1.1.1.1">subscript</csymbol><ci id="S4.T2.6.6.2.m1.1.1.1.1.2.2.cmml" xref="S4.T2.6.6.2.m1.1.1.1.1.2.2">𝑛</ci><apply id="S4.T2.6.6.2.m1.1.1.1.1.2.3.cmml" xref="S4.T2.6.6.2.m1.1.1.1.1.2.3"><minus id="S4.T2.6.6.2.m1.1.1.1.1.2.3.1.cmml" xref="S4.T2.6.6.2.m1.1.1.1.1.2.3.1"></minus><ci id="S4.T2.6.6.2.m1.1.1.1.1.2.3.2.cmml" xref="S4.T2.6.6.2.m1.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.T2.6.6.2.m1.1.1.1.1.2.3.3.cmml" xref="S4.T2.6.6.2.m1.1.1.1.1.2.3.3">𝑤</ci></apply></apply><ci id="S4.T2.6.6.2.m1.1.1.1.1.3.cmml" xref="S4.T2.6.6.2.m1.1.1.1.1.3">𝑎</ci></apply><apply id="S4.T2.6.6.2.m1.2.2.2.2.cmml" xref="S4.T2.6.6.2.m1.2.2.2.2"><times id="S4.T2.6.6.2.m1.2.2.2.2.1.cmml" xref="S4.T2.6.6.2.m1.2.2.2.2.1"></times><ci id="S4.T2.6.6.2.m1.2.2.2.2.2.cmml" xref="S4.T2.6.6.2.m1.2.2.2.2.2">⋯</ci><apply id="S4.T2.6.6.2.m1.2.2.2.2.3.cmml" xref="S4.T2.6.6.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.6.6.2.m1.2.2.2.2.3.1.cmml" xref="S4.T2.6.6.2.m1.2.2.2.2.3">superscript</csymbol><apply id="S4.T2.6.6.2.m1.2.2.2.2.3.2.cmml" xref="S4.T2.6.6.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.6.6.2.m1.2.2.2.2.3.2.1.cmml" xref="S4.T2.6.6.2.m1.2.2.2.2.3">subscript</csymbol><ci id="S4.T2.6.6.2.m1.2.2.2.2.3.2.2.cmml" xref="S4.T2.6.6.2.m1.2.2.2.2.3.2.2">𝑛</ci><ci id="S4.T2.6.6.2.m1.2.2.2.2.3.2.3.cmml" xref="S4.T2.6.6.2.m1.2.2.2.2.3.2.3">𝑡</ci></apply><ci id="S4.T2.6.6.2.m1.2.2.2.2.3.3.cmml" xref="S4.T2.6.6.2.m1.2.2.2.2.3.3">𝑎</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.2.m1.2c">[n_{t-w}^{a},\cdots n_{t}^{a}]</annotation><annotation encoding="application/x-llamapun" id="S4.T2.6.6.2.m1.2d">[ italic_n start_POSTSUBSCRIPT italic_t - italic_w end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_a end_POSTSUPERSCRIPT , ⋯ italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_a end_POSTSUPERSCRIPT ]</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8">
<td class="ltx_td ltx_align_center" id="S4.T2.8.8.3" style="padding-top:1pt;padding-bottom:1pt;">Number of pending requests per unit time</td>
<td class="ltx_td ltx_align_center" id="S4.T2.7.7.1" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="n^{p}" class="ltx_Math" display="inline" id="S4.T2.7.7.1.m1.1"><semantics id="S4.T2.7.7.1.m1.1a"><msup id="S4.T2.7.7.1.m1.1.1" xref="S4.T2.7.7.1.m1.1.1.cmml"><mi id="S4.T2.7.7.1.m1.1.1.2" xref="S4.T2.7.7.1.m1.1.1.2.cmml">n</mi><mi id="S4.T2.7.7.1.m1.1.1.3" xref="S4.T2.7.7.1.m1.1.1.3.cmml">p</mi></msup><annotation-xml encoding="MathML-Content" id="S4.T2.7.7.1.m1.1b"><apply id="S4.T2.7.7.1.m1.1.1.cmml" xref="S4.T2.7.7.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.7.7.1.m1.1.1.1.cmml" xref="S4.T2.7.7.1.m1.1.1">superscript</csymbol><ci id="S4.T2.7.7.1.m1.1.1.2.cmml" xref="S4.T2.7.7.1.m1.1.1.2">𝑛</ci><ci id="S4.T2.7.7.1.m1.1.1.3.cmml" xref="S4.T2.7.7.1.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.7.7.1.m1.1c">n^{p}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.7.7.1.m1.1d">italic_n start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.8.2" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="[n_{t-w}^{p},\cdots n_{t}^{p}]" class="ltx_Math" display="inline" id="S4.T2.8.8.2.m1.2"><semantics id="S4.T2.8.8.2.m1.2a"><mrow id="S4.T2.8.8.2.m1.2.2.2" xref="S4.T2.8.8.2.m1.2.2.3.cmml"><mo id="S4.T2.8.8.2.m1.2.2.2.3" stretchy="false" xref="S4.T2.8.8.2.m1.2.2.3.cmml">[</mo><msubsup id="S4.T2.8.8.2.m1.1.1.1.1" xref="S4.T2.8.8.2.m1.1.1.1.1.cmml"><mi id="S4.T2.8.8.2.m1.1.1.1.1.2.2" xref="S4.T2.8.8.2.m1.1.1.1.1.2.2.cmml">n</mi><mrow id="S4.T2.8.8.2.m1.1.1.1.1.2.3" xref="S4.T2.8.8.2.m1.1.1.1.1.2.3.cmml"><mi id="S4.T2.8.8.2.m1.1.1.1.1.2.3.2" xref="S4.T2.8.8.2.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.T2.8.8.2.m1.1.1.1.1.2.3.1" xref="S4.T2.8.8.2.m1.1.1.1.1.2.3.1.cmml">−</mo><mi id="S4.T2.8.8.2.m1.1.1.1.1.2.3.3" xref="S4.T2.8.8.2.m1.1.1.1.1.2.3.3.cmml">w</mi></mrow><mi id="S4.T2.8.8.2.m1.1.1.1.1.3" xref="S4.T2.8.8.2.m1.1.1.1.1.3.cmml">p</mi></msubsup><mo id="S4.T2.8.8.2.m1.2.2.2.4" xref="S4.T2.8.8.2.m1.2.2.3.cmml">,</mo><mrow id="S4.T2.8.8.2.m1.2.2.2.2" xref="S4.T2.8.8.2.m1.2.2.2.2.cmml"><mi id="S4.T2.8.8.2.m1.2.2.2.2.2" mathvariant="normal" xref="S4.T2.8.8.2.m1.2.2.2.2.2.cmml">⋯</mi><mo id="S4.T2.8.8.2.m1.2.2.2.2.1" xref="S4.T2.8.8.2.m1.2.2.2.2.1.cmml">⁢</mo><msubsup id="S4.T2.8.8.2.m1.2.2.2.2.3" xref="S4.T2.8.8.2.m1.2.2.2.2.3.cmml"><mi id="S4.T2.8.8.2.m1.2.2.2.2.3.2.2" xref="S4.T2.8.8.2.m1.2.2.2.2.3.2.2.cmml">n</mi><mi id="S4.T2.8.8.2.m1.2.2.2.2.3.2.3" xref="S4.T2.8.8.2.m1.2.2.2.2.3.2.3.cmml">t</mi><mi id="S4.T2.8.8.2.m1.2.2.2.2.3.3" xref="S4.T2.8.8.2.m1.2.2.2.2.3.3.cmml">p</mi></msubsup></mrow><mo id="S4.T2.8.8.2.m1.2.2.2.5" stretchy="false" xref="S4.T2.8.8.2.m1.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.8.8.2.m1.2b"><interval closure="closed" id="S4.T2.8.8.2.m1.2.2.3.cmml" xref="S4.T2.8.8.2.m1.2.2.2"><apply id="S4.T2.8.8.2.m1.1.1.1.1.cmml" xref="S4.T2.8.8.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.8.8.2.m1.1.1.1.1.1.cmml" xref="S4.T2.8.8.2.m1.1.1.1.1">superscript</csymbol><apply id="S4.T2.8.8.2.m1.1.1.1.1.2.cmml" xref="S4.T2.8.8.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.8.8.2.m1.1.1.1.1.2.1.cmml" xref="S4.T2.8.8.2.m1.1.1.1.1">subscript</csymbol><ci id="S4.T2.8.8.2.m1.1.1.1.1.2.2.cmml" xref="S4.T2.8.8.2.m1.1.1.1.1.2.2">𝑛</ci><apply id="S4.T2.8.8.2.m1.1.1.1.1.2.3.cmml" xref="S4.T2.8.8.2.m1.1.1.1.1.2.3"><minus id="S4.T2.8.8.2.m1.1.1.1.1.2.3.1.cmml" xref="S4.T2.8.8.2.m1.1.1.1.1.2.3.1"></minus><ci id="S4.T2.8.8.2.m1.1.1.1.1.2.3.2.cmml" xref="S4.T2.8.8.2.m1.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.T2.8.8.2.m1.1.1.1.1.2.3.3.cmml" xref="S4.T2.8.8.2.m1.1.1.1.1.2.3.3">𝑤</ci></apply></apply><ci id="S4.T2.8.8.2.m1.1.1.1.1.3.cmml" xref="S4.T2.8.8.2.m1.1.1.1.1.3">𝑝</ci></apply><apply id="S4.T2.8.8.2.m1.2.2.2.2.cmml" xref="S4.T2.8.8.2.m1.2.2.2.2"><times id="S4.T2.8.8.2.m1.2.2.2.2.1.cmml" xref="S4.T2.8.8.2.m1.2.2.2.2.1"></times><ci id="S4.T2.8.8.2.m1.2.2.2.2.2.cmml" xref="S4.T2.8.8.2.m1.2.2.2.2.2">⋯</ci><apply id="S4.T2.8.8.2.m1.2.2.2.2.3.cmml" xref="S4.T2.8.8.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.8.8.2.m1.2.2.2.2.3.1.cmml" xref="S4.T2.8.8.2.m1.2.2.2.2.3">superscript</csymbol><apply id="S4.T2.8.8.2.m1.2.2.2.2.3.2.cmml" xref="S4.T2.8.8.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.8.8.2.m1.2.2.2.2.3.2.1.cmml" xref="S4.T2.8.8.2.m1.2.2.2.2.3">subscript</csymbol><ci id="S4.T2.8.8.2.m1.2.2.2.2.3.2.2.cmml" xref="S4.T2.8.8.2.m1.2.2.2.2.3.2.2">𝑛</ci><ci id="S4.T2.8.8.2.m1.2.2.2.2.3.2.3.cmml" xref="S4.T2.8.8.2.m1.2.2.2.2.3.2.3">𝑡</ci></apply><ci id="S4.T2.8.8.2.m1.2.2.2.2.3.3.cmml" xref="S4.T2.8.8.2.m1.2.2.2.2.3.3">𝑝</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.8.8.2.m1.2c">[n_{t-w}^{p},\cdots n_{t}^{p}]</annotation><annotation encoding="application/x-llamapun" id="S4.T2.8.8.2.m1.2d">[ italic_n start_POSTSUBSCRIPT italic_t - italic_w end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT , ⋯ italic_n start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT ]</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.10">
<td class="ltx_td ltx_align_center" id="S4.T2.10.10.3" style="padding-top:1pt;padding-bottom:1pt;">Execution time per user request</td>
<td class="ltx_td ltx_align_center" id="S4.T2.9.9.1" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="t^{r}" class="ltx_Math" display="inline" id="S4.T2.9.9.1.m1.1"><semantics id="S4.T2.9.9.1.m1.1a"><msup id="S4.T2.9.9.1.m1.1.1" xref="S4.T2.9.9.1.m1.1.1.cmml"><mi id="S4.T2.9.9.1.m1.1.1.2" xref="S4.T2.9.9.1.m1.1.1.2.cmml">t</mi><mi id="S4.T2.9.9.1.m1.1.1.3" xref="S4.T2.9.9.1.m1.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.T2.9.9.1.m1.1b"><apply id="S4.T2.9.9.1.m1.1.1.cmml" xref="S4.T2.9.9.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.9.9.1.m1.1.1.1.cmml" xref="S4.T2.9.9.1.m1.1.1">superscript</csymbol><ci id="S4.T2.9.9.1.m1.1.1.2.cmml" xref="S4.T2.9.9.1.m1.1.1.2">𝑡</ci><ci id="S4.T2.9.9.1.m1.1.1.3.cmml" xref="S4.T2.9.9.1.m1.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.9.9.1.m1.1c">t^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.9.9.1.m1.1d">italic_t start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.10.2" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="[t_{t-w}^{r},\cdots t_{t}^{r}]" class="ltx_Math" display="inline" id="S4.T2.10.10.2.m1.2"><semantics id="S4.T2.10.10.2.m1.2a"><mrow id="S4.T2.10.10.2.m1.2.2.2" xref="S4.T2.10.10.2.m1.2.2.3.cmml"><mo id="S4.T2.10.10.2.m1.2.2.2.3" stretchy="false" xref="S4.T2.10.10.2.m1.2.2.3.cmml">[</mo><msubsup id="S4.T2.10.10.2.m1.1.1.1.1" xref="S4.T2.10.10.2.m1.1.1.1.1.cmml"><mi id="S4.T2.10.10.2.m1.1.1.1.1.2.2" xref="S4.T2.10.10.2.m1.1.1.1.1.2.2.cmml">t</mi><mrow id="S4.T2.10.10.2.m1.1.1.1.1.2.3" xref="S4.T2.10.10.2.m1.1.1.1.1.2.3.cmml"><mi id="S4.T2.10.10.2.m1.1.1.1.1.2.3.2" xref="S4.T2.10.10.2.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.T2.10.10.2.m1.1.1.1.1.2.3.1" xref="S4.T2.10.10.2.m1.1.1.1.1.2.3.1.cmml">−</mo><mi id="S4.T2.10.10.2.m1.1.1.1.1.2.3.3" xref="S4.T2.10.10.2.m1.1.1.1.1.2.3.3.cmml">w</mi></mrow><mi id="S4.T2.10.10.2.m1.1.1.1.1.3" xref="S4.T2.10.10.2.m1.1.1.1.1.3.cmml">r</mi></msubsup><mo id="S4.T2.10.10.2.m1.2.2.2.4" xref="S4.T2.10.10.2.m1.2.2.3.cmml">,</mo><mrow id="S4.T2.10.10.2.m1.2.2.2.2" xref="S4.T2.10.10.2.m1.2.2.2.2.cmml"><mi id="S4.T2.10.10.2.m1.2.2.2.2.2" mathvariant="normal" xref="S4.T2.10.10.2.m1.2.2.2.2.2.cmml">⋯</mi><mo id="S4.T2.10.10.2.m1.2.2.2.2.1" xref="S4.T2.10.10.2.m1.2.2.2.2.1.cmml">⁢</mo><msubsup id="S4.T2.10.10.2.m1.2.2.2.2.3" xref="S4.T2.10.10.2.m1.2.2.2.2.3.cmml"><mi id="S4.T2.10.10.2.m1.2.2.2.2.3.2.2" xref="S4.T2.10.10.2.m1.2.2.2.2.3.2.2.cmml">t</mi><mi id="S4.T2.10.10.2.m1.2.2.2.2.3.2.3" xref="S4.T2.10.10.2.m1.2.2.2.2.3.2.3.cmml">t</mi><mi id="S4.T2.10.10.2.m1.2.2.2.2.3.3" xref="S4.T2.10.10.2.m1.2.2.2.2.3.3.cmml">r</mi></msubsup></mrow><mo id="S4.T2.10.10.2.m1.2.2.2.5" stretchy="false" xref="S4.T2.10.10.2.m1.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.10.10.2.m1.2b"><interval closure="closed" id="S4.T2.10.10.2.m1.2.2.3.cmml" xref="S4.T2.10.10.2.m1.2.2.2"><apply id="S4.T2.10.10.2.m1.1.1.1.1.cmml" xref="S4.T2.10.10.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.10.10.2.m1.1.1.1.1.1.cmml" xref="S4.T2.10.10.2.m1.1.1.1.1">superscript</csymbol><apply id="S4.T2.10.10.2.m1.1.1.1.1.2.cmml" xref="S4.T2.10.10.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.10.10.2.m1.1.1.1.1.2.1.cmml" xref="S4.T2.10.10.2.m1.1.1.1.1">subscript</csymbol><ci id="S4.T2.10.10.2.m1.1.1.1.1.2.2.cmml" xref="S4.T2.10.10.2.m1.1.1.1.1.2.2">𝑡</ci><apply id="S4.T2.10.10.2.m1.1.1.1.1.2.3.cmml" xref="S4.T2.10.10.2.m1.1.1.1.1.2.3"><minus id="S4.T2.10.10.2.m1.1.1.1.1.2.3.1.cmml" xref="S4.T2.10.10.2.m1.1.1.1.1.2.3.1"></minus><ci id="S4.T2.10.10.2.m1.1.1.1.1.2.3.2.cmml" xref="S4.T2.10.10.2.m1.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.T2.10.10.2.m1.1.1.1.1.2.3.3.cmml" xref="S4.T2.10.10.2.m1.1.1.1.1.2.3.3">𝑤</ci></apply></apply><ci id="S4.T2.10.10.2.m1.1.1.1.1.3.cmml" xref="S4.T2.10.10.2.m1.1.1.1.1.3">𝑟</ci></apply><apply id="S4.T2.10.10.2.m1.2.2.2.2.cmml" xref="S4.T2.10.10.2.m1.2.2.2.2"><times id="S4.T2.10.10.2.m1.2.2.2.2.1.cmml" xref="S4.T2.10.10.2.m1.2.2.2.2.1"></times><ci id="S4.T2.10.10.2.m1.2.2.2.2.2.cmml" xref="S4.T2.10.10.2.m1.2.2.2.2.2">⋯</ci><apply id="S4.T2.10.10.2.m1.2.2.2.2.3.cmml" xref="S4.T2.10.10.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.10.10.2.m1.2.2.2.2.3.1.cmml" xref="S4.T2.10.10.2.m1.2.2.2.2.3">superscript</csymbol><apply id="S4.T2.10.10.2.m1.2.2.2.2.3.2.cmml" xref="S4.T2.10.10.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.10.10.2.m1.2.2.2.2.3.2.1.cmml" xref="S4.T2.10.10.2.m1.2.2.2.2.3">subscript</csymbol><ci id="S4.T2.10.10.2.m1.2.2.2.2.3.2.2.cmml" xref="S4.T2.10.10.2.m1.2.2.2.2.3.2.2">𝑡</ci><ci id="S4.T2.10.10.2.m1.2.2.2.2.3.2.3.cmml" xref="S4.T2.10.10.2.m1.2.2.2.2.3.2.3">𝑡</ci></apply><ci id="S4.T2.10.10.2.m1.2.2.2.2.3.3.cmml" xref="S4.T2.10.10.2.m1.2.2.2.2.3.3">𝑟</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.10.10.2.m1.2c">[t_{t-w}^{r},\cdots t_{t}^{r}]</annotation><annotation encoding="application/x-llamapun" id="S4.T2.10.10.2.m1.2d">[ italic_t start_POSTSUBSCRIPT italic_t - italic_w end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT , ⋯ italic_t start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT ]</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.12.12">
<td class="ltx_td ltx_align_center" id="S4.T2.12.12.3" style="padding-top:1pt;padding-bottom:1pt;">GPU memory utilization</td>
<td class="ltx_td ltx_align_center" id="S4.T2.11.11.1" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="m^{u}" class="ltx_Math" display="inline" id="S4.T2.11.11.1.m1.1"><semantics id="S4.T2.11.11.1.m1.1a"><msup id="S4.T2.11.11.1.m1.1.1" xref="S4.T2.11.11.1.m1.1.1.cmml"><mi id="S4.T2.11.11.1.m1.1.1.2" xref="S4.T2.11.11.1.m1.1.1.2.cmml">m</mi><mi id="S4.T2.11.11.1.m1.1.1.3" xref="S4.T2.11.11.1.m1.1.1.3.cmml">u</mi></msup><annotation-xml encoding="MathML-Content" id="S4.T2.11.11.1.m1.1b"><apply id="S4.T2.11.11.1.m1.1.1.cmml" xref="S4.T2.11.11.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.11.11.1.m1.1.1.1.cmml" xref="S4.T2.11.11.1.m1.1.1">superscript</csymbol><ci id="S4.T2.11.11.1.m1.1.1.2.cmml" xref="S4.T2.11.11.1.m1.1.1.2">𝑚</ci><ci id="S4.T2.11.11.1.m1.1.1.3.cmml" xref="S4.T2.11.11.1.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.11.11.1.m1.1c">m^{u}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.11.11.1.m1.1d">italic_m start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S4.T2.12.12.2" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="[m_{t-w}^{u},\cdots m_{t}^{u}]" class="ltx_Math" display="inline" id="S4.T2.12.12.2.m1.2"><semantics id="S4.T2.12.12.2.m1.2a"><mrow id="S4.T2.12.12.2.m1.2.2.2" xref="S4.T2.12.12.2.m1.2.2.3.cmml"><mo id="S4.T2.12.12.2.m1.2.2.2.3" stretchy="false" xref="S4.T2.12.12.2.m1.2.2.3.cmml">[</mo><msubsup id="S4.T2.12.12.2.m1.1.1.1.1" xref="S4.T2.12.12.2.m1.1.1.1.1.cmml"><mi id="S4.T2.12.12.2.m1.1.1.1.1.2.2" xref="S4.T2.12.12.2.m1.1.1.1.1.2.2.cmml">m</mi><mrow id="S4.T2.12.12.2.m1.1.1.1.1.2.3" xref="S4.T2.12.12.2.m1.1.1.1.1.2.3.cmml"><mi id="S4.T2.12.12.2.m1.1.1.1.1.2.3.2" xref="S4.T2.12.12.2.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.T2.12.12.2.m1.1.1.1.1.2.3.1" xref="S4.T2.12.12.2.m1.1.1.1.1.2.3.1.cmml">−</mo><mi id="S4.T2.12.12.2.m1.1.1.1.1.2.3.3" xref="S4.T2.12.12.2.m1.1.1.1.1.2.3.3.cmml">w</mi></mrow><mi id="S4.T2.12.12.2.m1.1.1.1.1.3" xref="S4.T2.12.12.2.m1.1.1.1.1.3.cmml">u</mi></msubsup><mo id="S4.T2.12.12.2.m1.2.2.2.4" xref="S4.T2.12.12.2.m1.2.2.3.cmml">,</mo><mrow id="S4.T2.12.12.2.m1.2.2.2.2" xref="S4.T2.12.12.2.m1.2.2.2.2.cmml"><mi id="S4.T2.12.12.2.m1.2.2.2.2.2" mathvariant="normal" xref="S4.T2.12.12.2.m1.2.2.2.2.2.cmml">⋯</mi><mo id="S4.T2.12.12.2.m1.2.2.2.2.1" xref="S4.T2.12.12.2.m1.2.2.2.2.1.cmml">⁢</mo><msubsup id="S4.T2.12.12.2.m1.2.2.2.2.3" xref="S4.T2.12.12.2.m1.2.2.2.2.3.cmml"><mi id="S4.T2.12.12.2.m1.2.2.2.2.3.2.2" xref="S4.T2.12.12.2.m1.2.2.2.2.3.2.2.cmml">m</mi><mi id="S4.T2.12.12.2.m1.2.2.2.2.3.2.3" xref="S4.T2.12.12.2.m1.2.2.2.2.3.2.3.cmml">t</mi><mi id="S4.T2.12.12.2.m1.2.2.2.2.3.3" xref="S4.T2.12.12.2.m1.2.2.2.2.3.3.cmml">u</mi></msubsup></mrow><mo id="S4.T2.12.12.2.m1.2.2.2.5" stretchy="false" xref="S4.T2.12.12.2.m1.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.12.12.2.m1.2b"><interval closure="closed" id="S4.T2.12.12.2.m1.2.2.3.cmml" xref="S4.T2.12.12.2.m1.2.2.2"><apply id="S4.T2.12.12.2.m1.1.1.1.1.cmml" xref="S4.T2.12.12.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.12.12.2.m1.1.1.1.1.1.cmml" xref="S4.T2.12.12.2.m1.1.1.1.1">superscript</csymbol><apply id="S4.T2.12.12.2.m1.1.1.1.1.2.cmml" xref="S4.T2.12.12.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.12.12.2.m1.1.1.1.1.2.1.cmml" xref="S4.T2.12.12.2.m1.1.1.1.1">subscript</csymbol><ci id="S4.T2.12.12.2.m1.1.1.1.1.2.2.cmml" xref="S4.T2.12.12.2.m1.1.1.1.1.2.2">𝑚</ci><apply id="S4.T2.12.12.2.m1.1.1.1.1.2.3.cmml" xref="S4.T2.12.12.2.m1.1.1.1.1.2.3"><minus id="S4.T2.12.12.2.m1.1.1.1.1.2.3.1.cmml" xref="S4.T2.12.12.2.m1.1.1.1.1.2.3.1"></minus><ci id="S4.T2.12.12.2.m1.1.1.1.1.2.3.2.cmml" xref="S4.T2.12.12.2.m1.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.T2.12.12.2.m1.1.1.1.1.2.3.3.cmml" xref="S4.T2.12.12.2.m1.1.1.1.1.2.3.3">𝑤</ci></apply></apply><ci id="S4.T2.12.12.2.m1.1.1.1.1.3.cmml" xref="S4.T2.12.12.2.m1.1.1.1.1.3">𝑢</ci></apply><apply id="S4.T2.12.12.2.m1.2.2.2.2.cmml" xref="S4.T2.12.12.2.m1.2.2.2.2"><times id="S4.T2.12.12.2.m1.2.2.2.2.1.cmml" xref="S4.T2.12.12.2.m1.2.2.2.2.1"></times><ci id="S4.T2.12.12.2.m1.2.2.2.2.2.cmml" xref="S4.T2.12.12.2.m1.2.2.2.2.2">⋯</ci><apply id="S4.T2.12.12.2.m1.2.2.2.2.3.cmml" xref="S4.T2.12.12.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.12.12.2.m1.2.2.2.2.3.1.cmml" xref="S4.T2.12.12.2.m1.2.2.2.2.3">superscript</csymbol><apply id="S4.T2.12.12.2.m1.2.2.2.2.3.2.cmml" xref="S4.T2.12.12.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.12.12.2.m1.2.2.2.2.3.2.1.cmml" xref="S4.T2.12.12.2.m1.2.2.2.2.3">subscript</csymbol><ci id="S4.T2.12.12.2.m1.2.2.2.2.3.2.2.cmml" xref="S4.T2.12.12.2.m1.2.2.2.2.3.2.2">𝑚</ci><ci id="S4.T2.12.12.2.m1.2.2.2.2.3.2.3.cmml" xref="S4.T2.12.12.2.m1.2.2.2.2.3.2.3">𝑡</ci></apply><ci id="S4.T2.12.12.2.m1.2.2.2.2.3.3.cmml" xref="S4.T2.12.12.2.m1.2.2.2.2.3.3">𝑢</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.12.12.2.m1.2c">[m_{t-w}^{u},\cdots m_{t}^{u}]</annotation><annotation encoding="application/x-llamapun" id="S4.T2.12.12.2.m1.2d">[ italic_m start_POSTSUBSCRIPT italic_t - italic_w end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , ⋯ italic_m start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT ]</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.14.14">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.14.14.3" style="padding-top:1pt;padding-bottom:1pt;">GPU utilization</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.13.13.1" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="g^{u}" class="ltx_Math" display="inline" id="S4.T2.13.13.1.m1.1"><semantics id="S4.T2.13.13.1.m1.1a"><msup id="S4.T2.13.13.1.m1.1.1" xref="S4.T2.13.13.1.m1.1.1.cmml"><mi id="S4.T2.13.13.1.m1.1.1.2" xref="S4.T2.13.13.1.m1.1.1.2.cmml">g</mi><mi id="S4.T2.13.13.1.m1.1.1.3" xref="S4.T2.13.13.1.m1.1.1.3.cmml">u</mi></msup><annotation-xml encoding="MathML-Content" id="S4.T2.13.13.1.m1.1b"><apply id="S4.T2.13.13.1.m1.1.1.cmml" xref="S4.T2.13.13.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.13.13.1.m1.1.1.1.cmml" xref="S4.T2.13.13.1.m1.1.1">superscript</csymbol><ci id="S4.T2.13.13.1.m1.1.1.2.cmml" xref="S4.T2.13.13.1.m1.1.1.2">𝑔</ci><ci id="S4.T2.13.13.1.m1.1.1.3.cmml" xref="S4.T2.13.13.1.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.13.13.1.m1.1c">g^{u}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.13.13.1.m1.1d">italic_g start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.14.14.2" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="[g_{t-w}^{u},\cdots g_{t}^{u}]" class="ltx_Math" display="inline" id="S4.T2.14.14.2.m1.2"><semantics id="S4.T2.14.14.2.m1.2a"><mrow id="S4.T2.14.14.2.m1.2.2.2" xref="S4.T2.14.14.2.m1.2.2.3.cmml"><mo id="S4.T2.14.14.2.m1.2.2.2.3" stretchy="false" xref="S4.T2.14.14.2.m1.2.2.3.cmml">[</mo><msubsup id="S4.T2.14.14.2.m1.1.1.1.1" xref="S4.T2.14.14.2.m1.1.1.1.1.cmml"><mi id="S4.T2.14.14.2.m1.1.1.1.1.2.2" xref="S4.T2.14.14.2.m1.1.1.1.1.2.2.cmml">g</mi><mrow id="S4.T2.14.14.2.m1.1.1.1.1.2.3" xref="S4.T2.14.14.2.m1.1.1.1.1.2.3.cmml"><mi id="S4.T2.14.14.2.m1.1.1.1.1.2.3.2" xref="S4.T2.14.14.2.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.T2.14.14.2.m1.1.1.1.1.2.3.1" xref="S4.T2.14.14.2.m1.1.1.1.1.2.3.1.cmml">−</mo><mi id="S4.T2.14.14.2.m1.1.1.1.1.2.3.3" xref="S4.T2.14.14.2.m1.1.1.1.1.2.3.3.cmml">w</mi></mrow><mi id="S4.T2.14.14.2.m1.1.1.1.1.3" xref="S4.T2.14.14.2.m1.1.1.1.1.3.cmml">u</mi></msubsup><mo id="S4.T2.14.14.2.m1.2.2.2.4" xref="S4.T2.14.14.2.m1.2.2.3.cmml">,</mo><mrow id="S4.T2.14.14.2.m1.2.2.2.2" xref="S4.T2.14.14.2.m1.2.2.2.2.cmml"><mi id="S4.T2.14.14.2.m1.2.2.2.2.2" mathvariant="normal" xref="S4.T2.14.14.2.m1.2.2.2.2.2.cmml">⋯</mi><mo id="S4.T2.14.14.2.m1.2.2.2.2.1" xref="S4.T2.14.14.2.m1.2.2.2.2.1.cmml">⁢</mo><msubsup id="S4.T2.14.14.2.m1.2.2.2.2.3" xref="S4.T2.14.14.2.m1.2.2.2.2.3.cmml"><mi id="S4.T2.14.14.2.m1.2.2.2.2.3.2.2" xref="S4.T2.14.14.2.m1.2.2.2.2.3.2.2.cmml">g</mi><mi id="S4.T2.14.14.2.m1.2.2.2.2.3.2.3" xref="S4.T2.14.14.2.m1.2.2.2.2.3.2.3.cmml">t</mi><mi id="S4.T2.14.14.2.m1.2.2.2.2.3.3" xref="S4.T2.14.14.2.m1.2.2.2.2.3.3.cmml">u</mi></msubsup></mrow><mo id="S4.T2.14.14.2.m1.2.2.2.5" stretchy="false" xref="S4.T2.14.14.2.m1.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.14.14.2.m1.2b"><interval closure="closed" id="S4.T2.14.14.2.m1.2.2.3.cmml" xref="S4.T2.14.14.2.m1.2.2.2"><apply id="S4.T2.14.14.2.m1.1.1.1.1.cmml" xref="S4.T2.14.14.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.14.14.2.m1.1.1.1.1.1.cmml" xref="S4.T2.14.14.2.m1.1.1.1.1">superscript</csymbol><apply id="S4.T2.14.14.2.m1.1.1.1.1.2.cmml" xref="S4.T2.14.14.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.14.14.2.m1.1.1.1.1.2.1.cmml" xref="S4.T2.14.14.2.m1.1.1.1.1">subscript</csymbol><ci id="S4.T2.14.14.2.m1.1.1.1.1.2.2.cmml" xref="S4.T2.14.14.2.m1.1.1.1.1.2.2">𝑔</ci><apply id="S4.T2.14.14.2.m1.1.1.1.1.2.3.cmml" xref="S4.T2.14.14.2.m1.1.1.1.1.2.3"><minus id="S4.T2.14.14.2.m1.1.1.1.1.2.3.1.cmml" xref="S4.T2.14.14.2.m1.1.1.1.1.2.3.1"></minus><ci id="S4.T2.14.14.2.m1.1.1.1.1.2.3.2.cmml" xref="S4.T2.14.14.2.m1.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.T2.14.14.2.m1.1.1.1.1.2.3.3.cmml" xref="S4.T2.14.14.2.m1.1.1.1.1.2.3.3">𝑤</ci></apply></apply><ci id="S4.T2.14.14.2.m1.1.1.1.1.3.cmml" xref="S4.T2.14.14.2.m1.1.1.1.1.3">𝑢</ci></apply><apply id="S4.T2.14.14.2.m1.2.2.2.2.cmml" xref="S4.T2.14.14.2.m1.2.2.2.2"><times id="S4.T2.14.14.2.m1.2.2.2.2.1.cmml" xref="S4.T2.14.14.2.m1.2.2.2.2.1"></times><ci id="S4.T2.14.14.2.m1.2.2.2.2.2.cmml" xref="S4.T2.14.14.2.m1.2.2.2.2.2">⋯</ci><apply id="S4.T2.14.14.2.m1.2.2.2.2.3.cmml" xref="S4.T2.14.14.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.14.14.2.m1.2.2.2.2.3.1.cmml" xref="S4.T2.14.14.2.m1.2.2.2.2.3">superscript</csymbol><apply id="S4.T2.14.14.2.m1.2.2.2.2.3.2.cmml" xref="S4.T2.14.14.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.14.14.2.m1.2.2.2.2.3.2.1.cmml" xref="S4.T2.14.14.2.m1.2.2.2.2.3">subscript</csymbol><ci id="S4.T2.14.14.2.m1.2.2.2.2.3.2.2.cmml" xref="S4.T2.14.14.2.m1.2.2.2.2.3.2.2">𝑔</ci><ci id="S4.T2.14.14.2.m1.2.2.2.2.3.2.3.cmml" xref="S4.T2.14.14.2.m1.2.2.2.2.3.2.3">𝑡</ci></apply><ci id="S4.T2.14.14.2.m1.2.2.2.2.3.3.cmml" xref="S4.T2.14.14.2.m1.2.2.2.2.3.3">𝑢</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.14.14.2.m1.2c">[g_{t-w}^{u},\cdots g_{t}^{u}]</annotation><annotation encoding="application/x-llamapun" id="S4.T2.14.14.2.m1.2d">[ italic_g start_POSTSUBSCRIPT italic_t - italic_w end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , ⋯ italic_g start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT ]</annotation></semantics></math></td>
</tr>
</table>
</figure>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text" id="S4.SS1.SSS2.4.1.1">IV-A</span>2 </span>Determine <span class="ltx_text ltx_font_italic" id="S4.SS1.SSS2.5.2">parallel_size</span> and <span class="ltx_text ltx_font_italic" id="S4.SS1.SSS2.6.3">gpu_memory</span>
</h4>
<div class="ltx_para" id="S4.SS1.SSS2.p1">
<p class="ltx_p" id="S4.SS1.SSS2.p1.2">These configurations define the allocated GPU memory for LLM service. If the GPU memory allocated to an LLM service is insufficient, the service quality will be negatively affected due to inadequate memory for storing the KV cache of requests. Conversely, excessive allocation of GPU memory results in resource waste. Therefore, it is essential to meticulously determine this configuration. In the process of determining this configuration, we meticulously analyze the relationship between the GPU memory utilization, denoted as <math alttext="m^{u}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.1.m1.1"><semantics id="S4.SS1.SSS2.p1.1.m1.1a"><msup id="S4.SS1.SSS2.p1.1.m1.1.1" xref="S4.SS1.SSS2.p1.1.m1.1.1.cmml"><mi id="S4.SS1.SSS2.p1.1.m1.1.1.2" xref="S4.SS1.SSS2.p1.1.m1.1.1.2.cmml">m</mi><mi id="S4.SS1.SSS2.p1.1.m1.1.1.3" xref="S4.SS1.SSS2.p1.1.m1.1.1.3.cmml">u</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.1.m1.1b"><apply id="S4.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1">superscript</csymbol><ci id="S4.SS1.SSS2.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1.2">𝑚</ci><ci id="S4.SS1.SSS2.p1.1.m1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.1.m1.1c">m^{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.1.m1.1d">italic_m start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT</annotation></semantics></math>, and number of running requests per unit time, <math alttext="n^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.2.m2.1"><semantics id="S4.SS1.SSS2.p1.2.m2.1a"><msup id="S4.SS1.SSS2.p1.2.m2.1.1" xref="S4.SS1.SSS2.p1.2.m2.1.1.cmml"><mi id="S4.SS1.SSS2.p1.2.m2.1.1.2" xref="S4.SS1.SSS2.p1.2.m2.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS2.p1.2.m2.1.1.3" xref="S4.SS1.SSS2.p1.2.m2.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.2.m2.1b"><apply id="S4.SS1.SSS2.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.2.m2.1.1.1.cmml" xref="S4.SS1.SSS2.p1.2.m2.1.1">superscript</csymbol><ci id="S4.SS1.SSS2.p1.2.m2.1.1.2.cmml" xref="S4.SS1.SSS2.p1.2.m2.1.1.2">𝑛</ci><ci id="S4.SS1.SSS2.p1.2.m2.1.1.3.cmml" xref="S4.SS1.SSS2.p1.2.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.2.m2.1c">n^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.2.m2.1d">italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math>, as presented in TABLE <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.T2" title="TABLE II ‣ IV-A1 Determine max_num_seqs ‣ IV-A Service Configuration Module ‣ IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">II</span></a>. The relationship is formulated as follows.</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S9.EGx3">
<tbody id="S4.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle m^{u}" class="ltx_Math" display="inline" id="S4.Ex2.m1.1"><semantics id="S4.Ex2.m1.1a"><msup id="S4.Ex2.m1.1.1" xref="S4.Ex2.m1.1.1.cmml"><mi id="S4.Ex2.m1.1.1.2" xref="S4.Ex2.m1.1.1.2.cmml">m</mi><mi id="S4.Ex2.m1.1.1.3" xref="S4.Ex2.m1.1.1.3.cmml">u</mi></msup><annotation-xml encoding="MathML-Content" id="S4.Ex2.m1.1b"><apply id="S4.Ex2.m1.1.1.cmml" xref="S4.Ex2.m1.1.1"><csymbol cd="ambiguous" id="S4.Ex2.m1.1.1.1.cmml" xref="S4.Ex2.m1.1.1">superscript</csymbol><ci id="S4.Ex2.m1.1.1.2.cmml" xref="S4.Ex2.m1.1.1.2">𝑚</ci><ci id="S4.Ex2.m1.1.1.3.cmml" xref="S4.Ex2.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex2.m1.1c">\displaystyle m^{u}</annotation><annotation encoding="application/x-llamapun" id="S4.Ex2.m1.1d">italic_m start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=g(n^{r})" class="ltx_Math" display="inline" id="S4.Ex2.m2.1"><semantics id="S4.Ex2.m2.1a"><mrow id="S4.Ex2.m2.1.1" xref="S4.Ex2.m2.1.1.cmml"><mi id="S4.Ex2.m2.1.1.3" xref="S4.Ex2.m2.1.1.3.cmml"></mi><mo id="S4.Ex2.m2.1.1.2" xref="S4.Ex2.m2.1.1.2.cmml">=</mo><mrow id="S4.Ex2.m2.1.1.1" xref="S4.Ex2.m2.1.1.1.cmml"><mi id="S4.Ex2.m2.1.1.1.3" xref="S4.Ex2.m2.1.1.1.3.cmml">g</mi><mo id="S4.Ex2.m2.1.1.1.2" xref="S4.Ex2.m2.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex2.m2.1.1.1.1.1" xref="S4.Ex2.m2.1.1.1.1.1.1.cmml"><mo id="S4.Ex2.m2.1.1.1.1.1.2" stretchy="false" xref="S4.Ex2.m2.1.1.1.1.1.1.cmml">(</mo><msup id="S4.Ex2.m2.1.1.1.1.1.1" xref="S4.Ex2.m2.1.1.1.1.1.1.cmml"><mi id="S4.Ex2.m2.1.1.1.1.1.1.2" xref="S4.Ex2.m2.1.1.1.1.1.1.2.cmml">n</mi><mi id="S4.Ex2.m2.1.1.1.1.1.1.3" xref="S4.Ex2.m2.1.1.1.1.1.1.3.cmml">r</mi></msup><mo id="S4.Ex2.m2.1.1.1.1.1.3" stretchy="false" xref="S4.Ex2.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex2.m2.1b"><apply id="S4.Ex2.m2.1.1.cmml" xref="S4.Ex2.m2.1.1"><eq id="S4.Ex2.m2.1.1.2.cmml" xref="S4.Ex2.m2.1.1.2"></eq><csymbol cd="latexml" id="S4.Ex2.m2.1.1.3.cmml" xref="S4.Ex2.m2.1.1.3">absent</csymbol><apply id="S4.Ex2.m2.1.1.1.cmml" xref="S4.Ex2.m2.1.1.1"><times id="S4.Ex2.m2.1.1.1.2.cmml" xref="S4.Ex2.m2.1.1.1.2"></times><ci id="S4.Ex2.m2.1.1.1.3.cmml" xref="S4.Ex2.m2.1.1.1.3">𝑔</ci><apply id="S4.Ex2.m2.1.1.1.1.1.1.cmml" xref="S4.Ex2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.Ex2.m2.1.1.1.1.1.1.1.cmml" xref="S4.Ex2.m2.1.1.1.1.1">superscript</csymbol><ci id="S4.Ex2.m2.1.1.1.1.1.1.2.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.2">𝑛</ci><ci id="S4.Ex2.m2.1.1.1.1.1.1.3.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.3">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex2.m2.1c">\displaystyle=g(n^{r})</annotation><annotation encoding="application/x-llamapun" id="S4.Ex2.m2.1d">= italic_g ( italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S4.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle gpu\_memory" class="ltx_Math" display="inline" id="S4.E6.m1.1"><semantics id="S4.E6.m1.1a"><mrow id="S4.E6.m1.1.1" xref="S4.E6.m1.1.1.cmml"><mi id="S4.E6.m1.1.1.2" xref="S4.E6.m1.1.1.2.cmml">g</mi><mo id="S4.E6.m1.1.1.1" xref="S4.E6.m1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m1.1.1.3" xref="S4.E6.m1.1.1.3.cmml">p</mi><mo id="S4.E6.m1.1.1.1a" xref="S4.E6.m1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m1.1.1.4" xref="S4.E6.m1.1.1.4.cmml">u</mi><mo id="S4.E6.m1.1.1.1b" xref="S4.E6.m1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m1.1.1.5" mathvariant="normal" xref="S4.E6.m1.1.1.5.cmml">_</mi><mo id="S4.E6.m1.1.1.1c" xref="S4.E6.m1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m1.1.1.6" xref="S4.E6.m1.1.1.6.cmml">m</mi><mo id="S4.E6.m1.1.1.1d" xref="S4.E6.m1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m1.1.1.7" xref="S4.E6.m1.1.1.7.cmml">e</mi><mo id="S4.E6.m1.1.1.1e" xref="S4.E6.m1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m1.1.1.8" xref="S4.E6.m1.1.1.8.cmml">m</mi><mo id="S4.E6.m1.1.1.1f" xref="S4.E6.m1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m1.1.1.9" xref="S4.E6.m1.1.1.9.cmml">o</mi><mo id="S4.E6.m1.1.1.1g" xref="S4.E6.m1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m1.1.1.10" xref="S4.E6.m1.1.1.10.cmml">r</mi><mo id="S4.E6.m1.1.1.1h" xref="S4.E6.m1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m1.1.1.11" xref="S4.E6.m1.1.1.11.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.E6.m1.1b"><apply id="S4.E6.m1.1.1.cmml" xref="S4.E6.m1.1.1"><times id="S4.E6.m1.1.1.1.cmml" xref="S4.E6.m1.1.1.1"></times><ci id="S4.E6.m1.1.1.2.cmml" xref="S4.E6.m1.1.1.2">𝑔</ci><ci id="S4.E6.m1.1.1.3.cmml" xref="S4.E6.m1.1.1.3">𝑝</ci><ci id="S4.E6.m1.1.1.4.cmml" xref="S4.E6.m1.1.1.4">𝑢</ci><ci id="S4.E6.m1.1.1.5.cmml" xref="S4.E6.m1.1.1.5">_</ci><ci id="S4.E6.m1.1.1.6.cmml" xref="S4.E6.m1.1.1.6">𝑚</ci><ci id="S4.E6.m1.1.1.7.cmml" xref="S4.E6.m1.1.1.7">𝑒</ci><ci id="S4.E6.m1.1.1.8.cmml" xref="S4.E6.m1.1.1.8">𝑚</ci><ci id="S4.E6.m1.1.1.9.cmml" xref="S4.E6.m1.1.1.9">𝑜</ci><ci id="S4.E6.m1.1.1.10.cmml" xref="S4.E6.m1.1.1.10">𝑟</ci><ci id="S4.E6.m1.1.1.11.cmml" xref="S4.E6.m1.1.1.11">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m1.1c">\displaystyle gpu\_memory</annotation><annotation encoding="application/x-llamapun" id="S4.E6.m1.1d">italic_g italic_p italic_u _ italic_m italic_e italic_m italic_o italic_r italic_y</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\approx g(max\_num\_seqs)" class="ltx_Math" display="inline" id="S4.E6.m2.1"><semantics id="S4.E6.m2.1a"><mrow id="S4.E6.m2.1.1" xref="S4.E6.m2.1.1.cmml"><mi id="S4.E6.m2.1.1.3" xref="S4.E6.m2.1.1.3.cmml"></mi><mo id="S4.E6.m2.1.1.2" xref="S4.E6.m2.1.1.2.cmml">≈</mo><mrow id="S4.E6.m2.1.1.1" xref="S4.E6.m2.1.1.1.cmml"><mi id="S4.E6.m2.1.1.1.3" xref="S4.E6.m2.1.1.1.3.cmml">g</mi><mo id="S4.E6.m2.1.1.1.2" xref="S4.E6.m2.1.1.1.2.cmml">⁢</mo><mrow id="S4.E6.m2.1.1.1.1.1" xref="S4.E6.m2.1.1.1.1.1.1.cmml"><mo id="S4.E6.m2.1.1.1.1.1.2" stretchy="false" xref="S4.E6.m2.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E6.m2.1.1.1.1.1.1" xref="S4.E6.m2.1.1.1.1.1.1.cmml"><mi id="S4.E6.m2.1.1.1.1.1.1.2" xref="S4.E6.m2.1.1.1.1.1.1.2.cmml">m</mi><mo id="S4.E6.m2.1.1.1.1.1.1.1" xref="S4.E6.m2.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m2.1.1.1.1.1.1.3" xref="S4.E6.m2.1.1.1.1.1.1.3.cmml">a</mi><mo id="S4.E6.m2.1.1.1.1.1.1.1a" xref="S4.E6.m2.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m2.1.1.1.1.1.1.4" xref="S4.E6.m2.1.1.1.1.1.1.4.cmml">x</mi><mo id="S4.E6.m2.1.1.1.1.1.1.1b" xref="S4.E6.m2.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m2.1.1.1.1.1.1.5" mathvariant="normal" xref="S4.E6.m2.1.1.1.1.1.1.5.cmml">_</mi><mo id="S4.E6.m2.1.1.1.1.1.1.1c" xref="S4.E6.m2.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m2.1.1.1.1.1.1.6" xref="S4.E6.m2.1.1.1.1.1.1.6.cmml">n</mi><mo id="S4.E6.m2.1.1.1.1.1.1.1d" xref="S4.E6.m2.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m2.1.1.1.1.1.1.7" xref="S4.E6.m2.1.1.1.1.1.1.7.cmml">u</mi><mo id="S4.E6.m2.1.1.1.1.1.1.1e" xref="S4.E6.m2.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m2.1.1.1.1.1.1.8" xref="S4.E6.m2.1.1.1.1.1.1.8.cmml">m</mi><mo id="S4.E6.m2.1.1.1.1.1.1.1f" xref="S4.E6.m2.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m2.1.1.1.1.1.1.9" mathvariant="normal" xref="S4.E6.m2.1.1.1.1.1.1.9.cmml">_</mi><mo id="S4.E6.m2.1.1.1.1.1.1.1g" xref="S4.E6.m2.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m2.1.1.1.1.1.1.10" xref="S4.E6.m2.1.1.1.1.1.1.10.cmml">s</mi><mo id="S4.E6.m2.1.1.1.1.1.1.1h" xref="S4.E6.m2.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m2.1.1.1.1.1.1.11" xref="S4.E6.m2.1.1.1.1.1.1.11.cmml">e</mi><mo id="S4.E6.m2.1.1.1.1.1.1.1i" xref="S4.E6.m2.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m2.1.1.1.1.1.1.12" xref="S4.E6.m2.1.1.1.1.1.1.12.cmml">q</mi><mo id="S4.E6.m2.1.1.1.1.1.1.1j" xref="S4.E6.m2.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m2.1.1.1.1.1.1.13" xref="S4.E6.m2.1.1.1.1.1.1.13.cmml">s</mi></mrow><mo id="S4.E6.m2.1.1.1.1.1.3" stretchy="false" xref="S4.E6.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E6.m2.1b"><apply id="S4.E6.m2.1.1.cmml" xref="S4.E6.m2.1.1"><approx id="S4.E6.m2.1.1.2.cmml" xref="S4.E6.m2.1.1.2"></approx><csymbol cd="latexml" id="S4.E6.m2.1.1.3.cmml" xref="S4.E6.m2.1.1.3">absent</csymbol><apply id="S4.E6.m2.1.1.1.cmml" xref="S4.E6.m2.1.1.1"><times id="S4.E6.m2.1.1.1.2.cmml" xref="S4.E6.m2.1.1.1.2"></times><ci id="S4.E6.m2.1.1.1.3.cmml" xref="S4.E6.m2.1.1.1.3">𝑔</ci><apply id="S4.E6.m2.1.1.1.1.1.1.cmml" xref="S4.E6.m2.1.1.1.1.1"><times id="S4.E6.m2.1.1.1.1.1.1.1.cmml" xref="S4.E6.m2.1.1.1.1.1.1.1"></times><ci id="S4.E6.m2.1.1.1.1.1.1.2.cmml" xref="S4.E6.m2.1.1.1.1.1.1.2">𝑚</ci><ci id="S4.E6.m2.1.1.1.1.1.1.3.cmml" xref="S4.E6.m2.1.1.1.1.1.1.3">𝑎</ci><ci id="S4.E6.m2.1.1.1.1.1.1.4.cmml" xref="S4.E6.m2.1.1.1.1.1.1.4">𝑥</ci><ci id="S4.E6.m2.1.1.1.1.1.1.5.cmml" xref="S4.E6.m2.1.1.1.1.1.1.5">_</ci><ci id="S4.E6.m2.1.1.1.1.1.1.6.cmml" xref="S4.E6.m2.1.1.1.1.1.1.6">𝑛</ci><ci id="S4.E6.m2.1.1.1.1.1.1.7.cmml" xref="S4.E6.m2.1.1.1.1.1.1.7">𝑢</ci><ci id="S4.E6.m2.1.1.1.1.1.1.8.cmml" xref="S4.E6.m2.1.1.1.1.1.1.8">𝑚</ci><ci id="S4.E6.m2.1.1.1.1.1.1.9.cmml" xref="S4.E6.m2.1.1.1.1.1.1.9">_</ci><ci id="S4.E6.m2.1.1.1.1.1.1.10.cmml" xref="S4.E6.m2.1.1.1.1.1.1.10">𝑠</ci><ci id="S4.E6.m2.1.1.1.1.1.1.11.cmml" xref="S4.E6.m2.1.1.1.1.1.1.11">𝑒</ci><ci id="S4.E6.m2.1.1.1.1.1.1.12.cmml" xref="S4.E6.m2.1.1.1.1.1.1.12">𝑞</ci><ci id="S4.E6.m2.1.1.1.1.1.1.13.cmml" xref="S4.E6.m2.1.1.1.1.1.1.13">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m2.1c">\displaystyle\approx g(max\_num\_seqs)</annotation><annotation encoding="application/x-llamapun" id="S4.E6.m2.1d">≈ italic_g ( italic_m italic_a italic_x _ italic_n italic_u italic_m _ italic_s italic_e italic_q italic_s )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS1.SSS2.p1.13">We then determine the required <math alttext="gpu\_memory" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.3.m1.1"><semantics id="S4.SS1.SSS2.p1.3.m1.1a"><mrow id="S4.SS1.SSS2.p1.3.m1.1.1" xref="S4.SS1.SSS2.p1.3.m1.1.1.cmml"><mi id="S4.SS1.SSS2.p1.3.m1.1.1.2" xref="S4.SS1.SSS2.p1.3.m1.1.1.2.cmml">g</mi><mo id="S4.SS1.SSS2.p1.3.m1.1.1.1" xref="S4.SS1.SSS2.p1.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.3.m1.1.1.3" xref="S4.SS1.SSS2.p1.3.m1.1.1.3.cmml">p</mi><mo id="S4.SS1.SSS2.p1.3.m1.1.1.1a" xref="S4.SS1.SSS2.p1.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.3.m1.1.1.4" xref="S4.SS1.SSS2.p1.3.m1.1.1.4.cmml">u</mi><mo id="S4.SS1.SSS2.p1.3.m1.1.1.1b" xref="S4.SS1.SSS2.p1.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.3.m1.1.1.5" mathvariant="normal" xref="S4.SS1.SSS2.p1.3.m1.1.1.5.cmml">_</mi><mo id="S4.SS1.SSS2.p1.3.m1.1.1.1c" xref="S4.SS1.SSS2.p1.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.3.m1.1.1.6" xref="S4.SS1.SSS2.p1.3.m1.1.1.6.cmml">m</mi><mo id="S4.SS1.SSS2.p1.3.m1.1.1.1d" xref="S4.SS1.SSS2.p1.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.3.m1.1.1.7" xref="S4.SS1.SSS2.p1.3.m1.1.1.7.cmml">e</mi><mo id="S4.SS1.SSS2.p1.3.m1.1.1.1e" xref="S4.SS1.SSS2.p1.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.3.m1.1.1.8" xref="S4.SS1.SSS2.p1.3.m1.1.1.8.cmml">m</mi><mo id="S4.SS1.SSS2.p1.3.m1.1.1.1f" xref="S4.SS1.SSS2.p1.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.3.m1.1.1.9" xref="S4.SS1.SSS2.p1.3.m1.1.1.9.cmml">o</mi><mo id="S4.SS1.SSS2.p1.3.m1.1.1.1g" xref="S4.SS1.SSS2.p1.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.3.m1.1.1.10" xref="S4.SS1.SSS2.p1.3.m1.1.1.10.cmml">r</mi><mo id="S4.SS1.SSS2.p1.3.m1.1.1.1h" xref="S4.SS1.SSS2.p1.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.3.m1.1.1.11" xref="S4.SS1.SSS2.p1.3.m1.1.1.11.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.3.m1.1b"><apply id="S4.SS1.SSS2.p1.3.m1.1.1.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1"><times id="S4.SS1.SSS2.p1.3.m1.1.1.1.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1.1"></times><ci id="S4.SS1.SSS2.p1.3.m1.1.1.2.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1.2">𝑔</ci><ci id="S4.SS1.SSS2.p1.3.m1.1.1.3.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1.3">𝑝</ci><ci id="S4.SS1.SSS2.p1.3.m1.1.1.4.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1.4">𝑢</ci><ci id="S4.SS1.SSS2.p1.3.m1.1.1.5.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1.5">_</ci><ci id="S4.SS1.SSS2.p1.3.m1.1.1.6.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1.6">𝑚</ci><ci id="S4.SS1.SSS2.p1.3.m1.1.1.7.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1.7">𝑒</ci><ci id="S4.SS1.SSS2.p1.3.m1.1.1.8.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1.8">𝑚</ci><ci id="S4.SS1.SSS2.p1.3.m1.1.1.9.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1.9">𝑜</ci><ci id="S4.SS1.SSS2.p1.3.m1.1.1.10.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1.10">𝑟</ci><ci id="S4.SS1.SSS2.p1.3.m1.1.1.11.cmml" xref="S4.SS1.SSS2.p1.3.m1.1.1.11">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.3.m1.1c">gpu\_memory</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.3.m1.1d">italic_g italic_p italic_u _ italic_m italic_e italic_m italic_o italic_r italic_y</annotation></semantics></math> by setting <math alttext="n^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.4.m2.1"><semantics id="S4.SS1.SSS2.p1.4.m2.1a"><msup id="S4.SS1.SSS2.p1.4.m2.1.1" xref="S4.SS1.SSS2.p1.4.m2.1.1.cmml"><mi id="S4.SS1.SSS2.p1.4.m2.1.1.2" xref="S4.SS1.SSS2.p1.4.m2.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS2.p1.4.m2.1.1.3" xref="S4.SS1.SSS2.p1.4.m2.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.4.m2.1b"><apply id="S4.SS1.SSS2.p1.4.m2.1.1.cmml" xref="S4.SS1.SSS2.p1.4.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.4.m2.1.1.1.cmml" xref="S4.SS1.SSS2.p1.4.m2.1.1">superscript</csymbol><ci id="S4.SS1.SSS2.p1.4.m2.1.1.2.cmml" xref="S4.SS1.SSS2.p1.4.m2.1.1.2">𝑛</ci><ci id="S4.SS1.SSS2.p1.4.m2.1.1.3.cmml" xref="S4.SS1.SSS2.p1.4.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.4.m2.1c">n^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.4.m2.1d">italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> equal to <math alttext="max\_num\_seqs" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.5.m3.1"><semantics id="S4.SS1.SSS2.p1.5.m3.1a"><mrow id="S4.SS1.SSS2.p1.5.m3.1.1" xref="S4.SS1.SSS2.p1.5.m3.1.1.cmml"><mi id="S4.SS1.SSS2.p1.5.m3.1.1.2" xref="S4.SS1.SSS2.p1.5.m3.1.1.2.cmml">m</mi><mo id="S4.SS1.SSS2.p1.5.m3.1.1.1" xref="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.5.m3.1.1.3" xref="S4.SS1.SSS2.p1.5.m3.1.1.3.cmml">a</mi><mo id="S4.SS1.SSS2.p1.5.m3.1.1.1a" xref="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.5.m3.1.1.4" xref="S4.SS1.SSS2.p1.5.m3.1.1.4.cmml">x</mi><mo id="S4.SS1.SSS2.p1.5.m3.1.1.1b" xref="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.5.m3.1.1.5" mathvariant="normal" xref="S4.SS1.SSS2.p1.5.m3.1.1.5.cmml">_</mi><mo id="S4.SS1.SSS2.p1.5.m3.1.1.1c" xref="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.5.m3.1.1.6" xref="S4.SS1.SSS2.p1.5.m3.1.1.6.cmml">n</mi><mo id="S4.SS1.SSS2.p1.5.m3.1.1.1d" xref="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.5.m3.1.1.7" xref="S4.SS1.SSS2.p1.5.m3.1.1.7.cmml">u</mi><mo id="S4.SS1.SSS2.p1.5.m3.1.1.1e" xref="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.5.m3.1.1.8" xref="S4.SS1.SSS2.p1.5.m3.1.1.8.cmml">m</mi><mo id="S4.SS1.SSS2.p1.5.m3.1.1.1f" xref="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.5.m3.1.1.9" mathvariant="normal" xref="S4.SS1.SSS2.p1.5.m3.1.1.9.cmml">_</mi><mo id="S4.SS1.SSS2.p1.5.m3.1.1.1g" xref="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.5.m3.1.1.10" xref="S4.SS1.SSS2.p1.5.m3.1.1.10.cmml">s</mi><mo id="S4.SS1.SSS2.p1.5.m3.1.1.1h" xref="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.5.m3.1.1.11" xref="S4.SS1.SSS2.p1.5.m3.1.1.11.cmml">e</mi><mo id="S4.SS1.SSS2.p1.5.m3.1.1.1i" xref="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.5.m3.1.1.12" xref="S4.SS1.SSS2.p1.5.m3.1.1.12.cmml">q</mi><mo id="S4.SS1.SSS2.p1.5.m3.1.1.1j" xref="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.5.m3.1.1.13" xref="S4.SS1.SSS2.p1.5.m3.1.1.13.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.5.m3.1b"><apply id="S4.SS1.SSS2.p1.5.m3.1.1.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1"><times id="S4.SS1.SSS2.p1.5.m3.1.1.1.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.1"></times><ci id="S4.SS1.SSS2.p1.5.m3.1.1.2.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.2">𝑚</ci><ci id="S4.SS1.SSS2.p1.5.m3.1.1.3.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.3">𝑎</ci><ci id="S4.SS1.SSS2.p1.5.m3.1.1.4.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.4">𝑥</ci><ci id="S4.SS1.SSS2.p1.5.m3.1.1.5.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.5">_</ci><ci id="S4.SS1.SSS2.p1.5.m3.1.1.6.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.6">𝑛</ci><ci id="S4.SS1.SSS2.p1.5.m3.1.1.7.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.7">𝑢</ci><ci id="S4.SS1.SSS2.p1.5.m3.1.1.8.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.8">𝑚</ci><ci id="S4.SS1.SSS2.p1.5.m3.1.1.9.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.9">_</ci><ci id="S4.SS1.SSS2.p1.5.m3.1.1.10.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.10">𝑠</ci><ci id="S4.SS1.SSS2.p1.5.m3.1.1.11.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.11">𝑒</ci><ci id="S4.SS1.SSS2.p1.5.m3.1.1.12.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.12">𝑞</ci><ci id="S4.SS1.SSS2.p1.5.m3.1.1.13.cmml" xref="S4.SS1.SSS2.p1.5.m3.1.1.13">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.5.m3.1c">max\_num\_seqs</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.5.m3.1d">italic_m italic_a italic_x _ italic_n italic_u italic_m _ italic_s italic_e italic_q italic_s</annotation></semantics></math>. This formula is straightforward to derive, as the variance in <math alttext="gpu\_memory" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.6.m4.1"><semantics id="S4.SS1.SSS2.p1.6.m4.1a"><mrow id="S4.SS1.SSS2.p1.6.m4.1.1" xref="S4.SS1.SSS2.p1.6.m4.1.1.cmml"><mi id="S4.SS1.SSS2.p1.6.m4.1.1.2" xref="S4.SS1.SSS2.p1.6.m4.1.1.2.cmml">g</mi><mo id="S4.SS1.SSS2.p1.6.m4.1.1.1" xref="S4.SS1.SSS2.p1.6.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.6.m4.1.1.3" xref="S4.SS1.SSS2.p1.6.m4.1.1.3.cmml">p</mi><mo id="S4.SS1.SSS2.p1.6.m4.1.1.1a" xref="S4.SS1.SSS2.p1.6.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.6.m4.1.1.4" xref="S4.SS1.SSS2.p1.6.m4.1.1.4.cmml">u</mi><mo id="S4.SS1.SSS2.p1.6.m4.1.1.1b" xref="S4.SS1.SSS2.p1.6.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.6.m4.1.1.5" mathvariant="normal" xref="S4.SS1.SSS2.p1.6.m4.1.1.5.cmml">_</mi><mo id="S4.SS1.SSS2.p1.6.m4.1.1.1c" xref="S4.SS1.SSS2.p1.6.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.6.m4.1.1.6" xref="S4.SS1.SSS2.p1.6.m4.1.1.6.cmml">m</mi><mo id="S4.SS1.SSS2.p1.6.m4.1.1.1d" xref="S4.SS1.SSS2.p1.6.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.6.m4.1.1.7" xref="S4.SS1.SSS2.p1.6.m4.1.1.7.cmml">e</mi><mo id="S4.SS1.SSS2.p1.6.m4.1.1.1e" xref="S4.SS1.SSS2.p1.6.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.6.m4.1.1.8" xref="S4.SS1.SSS2.p1.6.m4.1.1.8.cmml">m</mi><mo id="S4.SS1.SSS2.p1.6.m4.1.1.1f" xref="S4.SS1.SSS2.p1.6.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.6.m4.1.1.9" xref="S4.SS1.SSS2.p1.6.m4.1.1.9.cmml">o</mi><mo id="S4.SS1.SSS2.p1.6.m4.1.1.1g" xref="S4.SS1.SSS2.p1.6.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.6.m4.1.1.10" xref="S4.SS1.SSS2.p1.6.m4.1.1.10.cmml">r</mi><mo id="S4.SS1.SSS2.p1.6.m4.1.1.1h" xref="S4.SS1.SSS2.p1.6.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.6.m4.1.1.11" xref="S4.SS1.SSS2.p1.6.m4.1.1.11.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.6.m4.1b"><apply id="S4.SS1.SSS2.p1.6.m4.1.1.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1"><times id="S4.SS1.SSS2.p1.6.m4.1.1.1.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1.1"></times><ci id="S4.SS1.SSS2.p1.6.m4.1.1.2.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1.2">𝑔</ci><ci id="S4.SS1.SSS2.p1.6.m4.1.1.3.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1.3">𝑝</ci><ci id="S4.SS1.SSS2.p1.6.m4.1.1.4.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1.4">𝑢</ci><ci id="S4.SS1.SSS2.p1.6.m4.1.1.5.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1.5">_</ci><ci id="S4.SS1.SSS2.p1.6.m4.1.1.6.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1.6">𝑚</ci><ci id="S4.SS1.SSS2.p1.6.m4.1.1.7.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1.7">𝑒</ci><ci id="S4.SS1.SSS2.p1.6.m4.1.1.8.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1.8">𝑚</ci><ci id="S4.SS1.SSS2.p1.6.m4.1.1.9.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1.9">𝑜</ci><ci id="S4.SS1.SSS2.p1.6.m4.1.1.10.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1.10">𝑟</ci><ci id="S4.SS1.SSS2.p1.6.m4.1.1.11.cmml" xref="S4.SS1.SSS2.p1.6.m4.1.1.11">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.6.m4.1c">gpu\_memory</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.6.m4.1d">italic_g italic_p italic_u _ italic_m italic_e italic_m italic_o italic_r italic_y</annotation></semantics></math> can be attributed to changes in <math alttext="n^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.7.m5.1"><semantics id="S4.SS1.SSS2.p1.7.m5.1a"><msup id="S4.SS1.SSS2.p1.7.m5.1.1" xref="S4.SS1.SSS2.p1.7.m5.1.1.cmml"><mi id="S4.SS1.SSS2.p1.7.m5.1.1.2" xref="S4.SS1.SSS2.p1.7.m5.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS2.p1.7.m5.1.1.3" xref="S4.SS1.SSS2.p1.7.m5.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.7.m5.1b"><apply id="S4.SS1.SSS2.p1.7.m5.1.1.cmml" xref="S4.SS1.SSS2.p1.7.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.7.m5.1.1.1.cmml" xref="S4.SS1.SSS2.p1.7.m5.1.1">superscript</csymbol><ci id="S4.SS1.SSS2.p1.7.m5.1.1.2.cmml" xref="S4.SS1.SSS2.p1.7.m5.1.1.2">𝑛</ci><ci id="S4.SS1.SSS2.p1.7.m5.1.1.3.cmml" xref="S4.SS1.SSS2.p1.7.m5.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.7.m5.1c">n^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.7.m5.1d">italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math>. Specifically, an increase in the number of running requests per unit time corresponds to greater utilization of GPU memory used for KV cache storage. Therefore, we can calculate the maximal allocated GPU memory for an LLM service by setting the number of running requests <math alttext="n^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.8.m6.1"><semantics id="S4.SS1.SSS2.p1.8.m6.1a"><msup id="S4.SS1.SSS2.p1.8.m6.1.1" xref="S4.SS1.SSS2.p1.8.m6.1.1.cmml"><mi id="S4.SS1.SSS2.p1.8.m6.1.1.2" xref="S4.SS1.SSS2.p1.8.m6.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS2.p1.8.m6.1.1.3" xref="S4.SS1.SSS2.p1.8.m6.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.8.m6.1b"><apply id="S4.SS1.SSS2.p1.8.m6.1.1.cmml" xref="S4.SS1.SSS2.p1.8.m6.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.8.m6.1.1.1.cmml" xref="S4.SS1.SSS2.p1.8.m6.1.1">superscript</csymbol><ci id="S4.SS1.SSS2.p1.8.m6.1.1.2.cmml" xref="S4.SS1.SSS2.p1.8.m6.1.1.2">𝑛</ci><ci id="S4.SS1.SSS2.p1.8.m6.1.1.3.cmml" xref="S4.SS1.SSS2.p1.8.m6.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.8.m6.1c">n^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.8.m6.1d">italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> equal to <math alttext="max\_num\_seqs" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.9.m7.1"><semantics id="S4.SS1.SSS2.p1.9.m7.1a"><mrow id="S4.SS1.SSS2.p1.9.m7.1.1" xref="S4.SS1.SSS2.p1.9.m7.1.1.cmml"><mi id="S4.SS1.SSS2.p1.9.m7.1.1.2" xref="S4.SS1.SSS2.p1.9.m7.1.1.2.cmml">m</mi><mo id="S4.SS1.SSS2.p1.9.m7.1.1.1" xref="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.9.m7.1.1.3" xref="S4.SS1.SSS2.p1.9.m7.1.1.3.cmml">a</mi><mo id="S4.SS1.SSS2.p1.9.m7.1.1.1a" xref="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.9.m7.1.1.4" xref="S4.SS1.SSS2.p1.9.m7.1.1.4.cmml">x</mi><mo id="S4.SS1.SSS2.p1.9.m7.1.1.1b" xref="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.9.m7.1.1.5" mathvariant="normal" xref="S4.SS1.SSS2.p1.9.m7.1.1.5.cmml">_</mi><mo id="S4.SS1.SSS2.p1.9.m7.1.1.1c" xref="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.9.m7.1.1.6" xref="S4.SS1.SSS2.p1.9.m7.1.1.6.cmml">n</mi><mo id="S4.SS1.SSS2.p1.9.m7.1.1.1d" xref="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.9.m7.1.1.7" xref="S4.SS1.SSS2.p1.9.m7.1.1.7.cmml">u</mi><mo id="S4.SS1.SSS2.p1.9.m7.1.1.1e" xref="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.9.m7.1.1.8" xref="S4.SS1.SSS2.p1.9.m7.1.1.8.cmml">m</mi><mo id="S4.SS1.SSS2.p1.9.m7.1.1.1f" xref="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.9.m7.1.1.9" mathvariant="normal" xref="S4.SS1.SSS2.p1.9.m7.1.1.9.cmml">_</mi><mo id="S4.SS1.SSS2.p1.9.m7.1.1.1g" xref="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.9.m7.1.1.10" xref="S4.SS1.SSS2.p1.9.m7.1.1.10.cmml">s</mi><mo id="S4.SS1.SSS2.p1.9.m7.1.1.1h" xref="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.9.m7.1.1.11" xref="S4.SS1.SSS2.p1.9.m7.1.1.11.cmml">e</mi><mo id="S4.SS1.SSS2.p1.9.m7.1.1.1i" xref="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.9.m7.1.1.12" xref="S4.SS1.SSS2.p1.9.m7.1.1.12.cmml">q</mi><mo id="S4.SS1.SSS2.p1.9.m7.1.1.1j" xref="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.9.m7.1.1.13" xref="S4.SS1.SSS2.p1.9.m7.1.1.13.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.9.m7.1b"><apply id="S4.SS1.SSS2.p1.9.m7.1.1.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1"><times id="S4.SS1.SSS2.p1.9.m7.1.1.1.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.1"></times><ci id="S4.SS1.SSS2.p1.9.m7.1.1.2.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.2">𝑚</ci><ci id="S4.SS1.SSS2.p1.9.m7.1.1.3.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.3">𝑎</ci><ci id="S4.SS1.SSS2.p1.9.m7.1.1.4.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.4">𝑥</ci><ci id="S4.SS1.SSS2.p1.9.m7.1.1.5.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.5">_</ci><ci id="S4.SS1.SSS2.p1.9.m7.1.1.6.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.6">𝑛</ci><ci id="S4.SS1.SSS2.p1.9.m7.1.1.7.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.7">𝑢</ci><ci id="S4.SS1.SSS2.p1.9.m7.1.1.8.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.8">𝑚</ci><ci id="S4.SS1.SSS2.p1.9.m7.1.1.9.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.9">_</ci><ci id="S4.SS1.SSS2.p1.9.m7.1.1.10.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.10">𝑠</ci><ci id="S4.SS1.SSS2.p1.9.m7.1.1.11.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.11">𝑒</ci><ci id="S4.SS1.SSS2.p1.9.m7.1.1.12.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.12">𝑞</ci><ci id="S4.SS1.SSS2.p1.9.m7.1.1.13.cmml" xref="S4.SS1.SSS2.p1.9.m7.1.1.13">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.9.m7.1c">max\_num\_seqs</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.9.m7.1d">italic_m italic_a italic_x _ italic_n italic_u italic_m _ italic_s italic_e italic_q italic_s</annotation></semantics></math>. In this paper, ordinary least squares
regression (OLS) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib21" title="">21</a>]</cite> is also adopted to model <math alttext="m^{u}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.10.m8.1"><semantics id="S4.SS1.SSS2.p1.10.m8.1a"><msup id="S4.SS1.SSS2.p1.10.m8.1.1" xref="S4.SS1.SSS2.p1.10.m8.1.1.cmml"><mi id="S4.SS1.SSS2.p1.10.m8.1.1.2" xref="S4.SS1.SSS2.p1.10.m8.1.1.2.cmml">m</mi><mi id="S4.SS1.SSS2.p1.10.m8.1.1.3" xref="S4.SS1.SSS2.p1.10.m8.1.1.3.cmml">u</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.10.m8.1b"><apply id="S4.SS1.SSS2.p1.10.m8.1.1.cmml" xref="S4.SS1.SSS2.p1.10.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.10.m8.1.1.1.cmml" xref="S4.SS1.SSS2.p1.10.m8.1.1">superscript</csymbol><ci id="S4.SS1.SSS2.p1.10.m8.1.1.2.cmml" xref="S4.SS1.SSS2.p1.10.m8.1.1.2">𝑚</ci><ci id="S4.SS1.SSS2.p1.10.m8.1.1.3.cmml" xref="S4.SS1.SSS2.p1.10.m8.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.10.m8.1c">m^{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.10.m8.1d">italic_m start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="n^{r}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.11.m9.1"><semantics id="S4.SS1.SSS2.p1.11.m9.1a"><msup id="S4.SS1.SSS2.p1.11.m9.1.1" xref="S4.SS1.SSS2.p1.11.m9.1.1.cmml"><mi id="S4.SS1.SSS2.p1.11.m9.1.1.2" xref="S4.SS1.SSS2.p1.11.m9.1.1.2.cmml">n</mi><mi id="S4.SS1.SSS2.p1.11.m9.1.1.3" xref="S4.SS1.SSS2.p1.11.m9.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.11.m9.1b"><apply id="S4.SS1.SSS2.p1.11.m9.1.1.cmml" xref="S4.SS1.SSS2.p1.11.m9.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS2.p1.11.m9.1.1.1.cmml" xref="S4.SS1.SSS2.p1.11.m9.1.1">superscript</csymbol><ci id="S4.SS1.SSS2.p1.11.m9.1.1.2.cmml" xref="S4.SS1.SSS2.p1.11.m9.1.1.2">𝑛</ci><ci id="S4.SS1.SSS2.p1.11.m9.1.1.3.cmml" xref="S4.SS1.SSS2.p1.11.m9.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.11.m9.1c">n^{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.11.m9.1d">italic_n start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math>, based on which <math alttext="gpu\_memory" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.12.m10.1"><semantics id="S4.SS1.SSS2.p1.12.m10.1a"><mrow id="S4.SS1.SSS2.p1.12.m10.1.1" xref="S4.SS1.SSS2.p1.12.m10.1.1.cmml"><mi id="S4.SS1.SSS2.p1.12.m10.1.1.2" xref="S4.SS1.SSS2.p1.12.m10.1.1.2.cmml">g</mi><mo id="S4.SS1.SSS2.p1.12.m10.1.1.1" xref="S4.SS1.SSS2.p1.12.m10.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.12.m10.1.1.3" xref="S4.SS1.SSS2.p1.12.m10.1.1.3.cmml">p</mi><mo id="S4.SS1.SSS2.p1.12.m10.1.1.1a" xref="S4.SS1.SSS2.p1.12.m10.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.12.m10.1.1.4" xref="S4.SS1.SSS2.p1.12.m10.1.1.4.cmml">u</mi><mo id="S4.SS1.SSS2.p1.12.m10.1.1.1b" xref="S4.SS1.SSS2.p1.12.m10.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.12.m10.1.1.5" mathvariant="normal" xref="S4.SS1.SSS2.p1.12.m10.1.1.5.cmml">_</mi><mo id="S4.SS1.SSS2.p1.12.m10.1.1.1c" xref="S4.SS1.SSS2.p1.12.m10.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.12.m10.1.1.6" xref="S4.SS1.SSS2.p1.12.m10.1.1.6.cmml">m</mi><mo id="S4.SS1.SSS2.p1.12.m10.1.1.1d" xref="S4.SS1.SSS2.p1.12.m10.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.12.m10.1.1.7" xref="S4.SS1.SSS2.p1.12.m10.1.1.7.cmml">e</mi><mo id="S4.SS1.SSS2.p1.12.m10.1.1.1e" xref="S4.SS1.SSS2.p1.12.m10.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.12.m10.1.1.8" xref="S4.SS1.SSS2.p1.12.m10.1.1.8.cmml">m</mi><mo id="S4.SS1.SSS2.p1.12.m10.1.1.1f" xref="S4.SS1.SSS2.p1.12.m10.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.12.m10.1.1.9" xref="S4.SS1.SSS2.p1.12.m10.1.1.9.cmml">o</mi><mo id="S4.SS1.SSS2.p1.12.m10.1.1.1g" xref="S4.SS1.SSS2.p1.12.m10.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.12.m10.1.1.10" xref="S4.SS1.SSS2.p1.12.m10.1.1.10.cmml">r</mi><mo id="S4.SS1.SSS2.p1.12.m10.1.1.1h" xref="S4.SS1.SSS2.p1.12.m10.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.12.m10.1.1.11" xref="S4.SS1.SSS2.p1.12.m10.1.1.11.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.12.m10.1b"><apply id="S4.SS1.SSS2.p1.12.m10.1.1.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1"><times id="S4.SS1.SSS2.p1.12.m10.1.1.1.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1.1"></times><ci id="S4.SS1.SSS2.p1.12.m10.1.1.2.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1.2">𝑔</ci><ci id="S4.SS1.SSS2.p1.12.m10.1.1.3.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1.3">𝑝</ci><ci id="S4.SS1.SSS2.p1.12.m10.1.1.4.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1.4">𝑢</ci><ci id="S4.SS1.SSS2.p1.12.m10.1.1.5.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1.5">_</ci><ci id="S4.SS1.SSS2.p1.12.m10.1.1.6.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1.6">𝑚</ci><ci id="S4.SS1.SSS2.p1.12.m10.1.1.7.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1.7">𝑒</ci><ci id="S4.SS1.SSS2.p1.12.m10.1.1.8.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1.8">𝑚</ci><ci id="S4.SS1.SSS2.p1.12.m10.1.1.9.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1.9">𝑜</ci><ci id="S4.SS1.SSS2.p1.12.m10.1.1.10.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1.10">𝑟</ci><ci id="S4.SS1.SSS2.p1.12.m10.1.1.11.cmml" xref="S4.SS1.SSS2.p1.12.m10.1.1.11">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.12.m10.1c">gpu\_memory</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.12.m10.1d">italic_g italic_p italic_u _ italic_m italic_e italic_m italic_o italic_r italic_y</annotation></semantics></math> is determined and <math alttext="parallel\_size" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.13.m11.1"><semantics id="S4.SS1.SSS2.p1.13.m11.1a"><mrow id="S4.SS1.SSS2.p1.13.m11.1.1" xref="S4.SS1.SSS2.p1.13.m11.1.1.cmml"><mi id="S4.SS1.SSS2.p1.13.m11.1.1.2" xref="S4.SS1.SSS2.p1.13.m11.1.1.2.cmml">p</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.3" xref="S4.SS1.SSS2.p1.13.m11.1.1.3.cmml">a</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1a" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.4" xref="S4.SS1.SSS2.p1.13.m11.1.1.4.cmml">r</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1b" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.5" xref="S4.SS1.SSS2.p1.13.m11.1.1.5.cmml">a</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1c" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.6" xref="S4.SS1.SSS2.p1.13.m11.1.1.6.cmml">l</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1d" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.7" xref="S4.SS1.SSS2.p1.13.m11.1.1.7.cmml">l</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1e" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.8" xref="S4.SS1.SSS2.p1.13.m11.1.1.8.cmml">e</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1f" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.9" xref="S4.SS1.SSS2.p1.13.m11.1.1.9.cmml">l</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1g" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.10" mathvariant="normal" xref="S4.SS1.SSS2.p1.13.m11.1.1.10.cmml">_</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1h" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.11" xref="S4.SS1.SSS2.p1.13.m11.1.1.11.cmml">s</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1i" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.12" xref="S4.SS1.SSS2.p1.13.m11.1.1.12.cmml">i</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1j" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.13" xref="S4.SS1.SSS2.p1.13.m11.1.1.13.cmml">z</mi><mo id="S4.SS1.SSS2.p1.13.m11.1.1.1k" xref="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS2.p1.13.m11.1.1.14" xref="S4.SS1.SSS2.p1.13.m11.1.1.14.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.13.m11.1b"><apply id="S4.SS1.SSS2.p1.13.m11.1.1.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1"><times id="S4.SS1.SSS2.p1.13.m11.1.1.1.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.1"></times><ci id="S4.SS1.SSS2.p1.13.m11.1.1.2.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.2">𝑝</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.3.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.3">𝑎</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.4.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.4">𝑟</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.5.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.5">𝑎</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.6.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.6">𝑙</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.7.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.7">𝑙</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.8.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.8">𝑒</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.9.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.9">𝑙</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.10.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.10">_</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.11.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.11">𝑠</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.12.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.12">𝑖</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.13.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.13">𝑧</ci><ci id="S4.SS1.SSS2.p1.13.m11.1.1.14.cmml" xref="S4.SS1.SSS2.p1.13.m11.1.1.14">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.13.m11.1c">parallel\_size</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.13.m11.1d">italic_p italic_a italic_r italic_a italic_l italic_l italic_e italic_l _ italic_s italic_i italic_z italic_e</annotation></semantics></math> can be derived based on existing hardware specifications.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text" id="S4.SS1.SSS3.4.1.1">IV-A</span>3 </span>Determine <span class="ltx_text ltx_font_italic" id="S4.SS1.SSS3.5.2">max_tokens</span>
</h4>
<div class="ltx_para" id="S4.SS1.SSS3.p1">
<p class="ltx_p" id="S4.SS1.SSS3.p1.1">This configuration specifies the maximal number of output tokens of each user request. We manage this configuration because not all prompts are optimally designed. Poorly designed prompts may result in output tokens reaching their maximum limit, thereby degrading the quality of service. Appropriately limiting the maximum number of output tokens is crucial for maintaining the service quality. To determine the <math alttext="max\_tokens" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p1.1.m1.1"><semantics id="S4.SS1.SSS3.p1.1.m1.1a"><mrow id="S4.SS1.SSS3.p1.1.m1.1.1" xref="S4.SS1.SSS3.p1.1.m1.1.1.cmml"><mi id="S4.SS1.SSS3.p1.1.m1.1.1.2" xref="S4.SS1.SSS3.p1.1.m1.1.1.2.cmml">m</mi><mo id="S4.SS1.SSS3.p1.1.m1.1.1.1" xref="S4.SS1.SSS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p1.1.m1.1.1.3" xref="S4.SS1.SSS3.p1.1.m1.1.1.3.cmml">a</mi><mo id="S4.SS1.SSS3.p1.1.m1.1.1.1a" xref="S4.SS1.SSS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p1.1.m1.1.1.4" xref="S4.SS1.SSS3.p1.1.m1.1.1.4.cmml">x</mi><mo id="S4.SS1.SSS3.p1.1.m1.1.1.1b" xref="S4.SS1.SSS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p1.1.m1.1.1.5" mathvariant="normal" xref="S4.SS1.SSS3.p1.1.m1.1.1.5.cmml">_</mi><mo id="S4.SS1.SSS3.p1.1.m1.1.1.1c" xref="S4.SS1.SSS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p1.1.m1.1.1.6" xref="S4.SS1.SSS3.p1.1.m1.1.1.6.cmml">t</mi><mo id="S4.SS1.SSS3.p1.1.m1.1.1.1d" xref="S4.SS1.SSS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p1.1.m1.1.1.7" xref="S4.SS1.SSS3.p1.1.m1.1.1.7.cmml">o</mi><mo id="S4.SS1.SSS3.p1.1.m1.1.1.1e" xref="S4.SS1.SSS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p1.1.m1.1.1.8" xref="S4.SS1.SSS3.p1.1.m1.1.1.8.cmml">k</mi><mo id="S4.SS1.SSS3.p1.1.m1.1.1.1f" xref="S4.SS1.SSS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p1.1.m1.1.1.9" xref="S4.SS1.SSS3.p1.1.m1.1.1.9.cmml">e</mi><mo id="S4.SS1.SSS3.p1.1.m1.1.1.1g" xref="S4.SS1.SSS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p1.1.m1.1.1.10" xref="S4.SS1.SSS3.p1.1.m1.1.1.10.cmml">n</mi><mo id="S4.SS1.SSS3.p1.1.m1.1.1.1h" xref="S4.SS1.SSS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p1.1.m1.1.1.11" xref="S4.SS1.SSS3.p1.1.m1.1.1.11.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p1.1.m1.1b"><apply id="S4.SS1.SSS3.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1"><times id="S4.SS1.SSS3.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1.1"></times><ci id="S4.SS1.SSS3.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1.2">𝑚</ci><ci id="S4.SS1.SSS3.p1.1.m1.1.1.3.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1.3">𝑎</ci><ci id="S4.SS1.SSS3.p1.1.m1.1.1.4.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1.4">𝑥</ci><ci id="S4.SS1.SSS3.p1.1.m1.1.1.5.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1.5">_</ci><ci id="S4.SS1.SSS3.p1.1.m1.1.1.6.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1.6">𝑡</ci><ci id="S4.SS1.SSS3.p1.1.m1.1.1.7.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1.7">𝑜</ci><ci id="S4.SS1.SSS3.p1.1.m1.1.1.8.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1.8">𝑘</ci><ci id="S4.SS1.SSS3.p1.1.m1.1.1.9.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1.9">𝑒</ci><ci id="S4.SS1.SSS3.p1.1.m1.1.1.10.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1.10">𝑛</ci><ci id="S4.SS1.SSS3.p1.1.m1.1.1.11.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1.11">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p1.1.m1.1c">max\_tokens</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p1.1.m1.1d">italic_m italic_a italic_x _ italic_t italic_o italic_k italic_e italic_n italic_s</annotation></semantics></math>, we operate under the assumption that the number of output tokens for each type of LLM task is predetermined and should not deviate significantly from the established range. We will further discuss it in section <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S7.SS2" title="VII-B Processing Requests from Various LLM Agents ‣ VII Discussion ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VII-B</span></span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSS3.p2">
<p class="ltx_p" id="S4.SS1.SSS3.p2.1">Then, we determine the <math alttext="max\_tokens" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.1.m1.1"><semantics id="S4.SS1.SSS3.p2.1.m1.1a"><mrow id="S4.SS1.SSS3.p2.1.m1.1.1" xref="S4.SS1.SSS3.p2.1.m1.1.1.cmml"><mi id="S4.SS1.SSS3.p2.1.m1.1.1.2" xref="S4.SS1.SSS3.p2.1.m1.1.1.2.cmml">m</mi><mo id="S4.SS1.SSS3.p2.1.m1.1.1.1" xref="S4.SS1.SSS3.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.1.m1.1.1.3" xref="S4.SS1.SSS3.p2.1.m1.1.1.3.cmml">a</mi><mo id="S4.SS1.SSS3.p2.1.m1.1.1.1a" xref="S4.SS1.SSS3.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.1.m1.1.1.4" xref="S4.SS1.SSS3.p2.1.m1.1.1.4.cmml">x</mi><mo id="S4.SS1.SSS3.p2.1.m1.1.1.1b" xref="S4.SS1.SSS3.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.1.m1.1.1.5" mathvariant="normal" xref="S4.SS1.SSS3.p2.1.m1.1.1.5.cmml">_</mi><mo id="S4.SS1.SSS3.p2.1.m1.1.1.1c" xref="S4.SS1.SSS3.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.1.m1.1.1.6" xref="S4.SS1.SSS3.p2.1.m1.1.1.6.cmml">t</mi><mo id="S4.SS1.SSS3.p2.1.m1.1.1.1d" xref="S4.SS1.SSS3.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.1.m1.1.1.7" xref="S4.SS1.SSS3.p2.1.m1.1.1.7.cmml">o</mi><mo id="S4.SS1.SSS3.p2.1.m1.1.1.1e" xref="S4.SS1.SSS3.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.1.m1.1.1.8" xref="S4.SS1.SSS3.p2.1.m1.1.1.8.cmml">k</mi><mo id="S4.SS1.SSS3.p2.1.m1.1.1.1f" xref="S4.SS1.SSS3.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.1.m1.1.1.9" xref="S4.SS1.SSS3.p2.1.m1.1.1.9.cmml">e</mi><mo id="S4.SS1.SSS3.p2.1.m1.1.1.1g" xref="S4.SS1.SSS3.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.1.m1.1.1.10" xref="S4.SS1.SSS3.p2.1.m1.1.1.10.cmml">n</mi><mo id="S4.SS1.SSS3.p2.1.m1.1.1.1h" xref="S4.SS1.SSS3.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.1.m1.1.1.11" xref="S4.SS1.SSS3.p2.1.m1.1.1.11.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.1.m1.1b"><apply id="S4.SS1.SSS3.p2.1.m1.1.1.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1"><times id="S4.SS1.SSS3.p2.1.m1.1.1.1.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.1"></times><ci id="S4.SS1.SSS3.p2.1.m1.1.1.2.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.2">𝑚</ci><ci id="S4.SS1.SSS3.p2.1.m1.1.1.3.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.3">𝑎</ci><ci id="S4.SS1.SSS3.p2.1.m1.1.1.4.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.4">𝑥</ci><ci id="S4.SS1.SSS3.p2.1.m1.1.1.5.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.5">_</ci><ci id="S4.SS1.SSS3.p2.1.m1.1.1.6.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.6">𝑡</ci><ci id="S4.SS1.SSS3.p2.1.m1.1.1.7.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.7">𝑜</ci><ci id="S4.SS1.SSS3.p2.1.m1.1.1.8.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.8">𝑘</ci><ci id="S4.SS1.SSS3.p2.1.m1.1.1.9.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.9">𝑒</ci><ci id="S4.SS1.SSS3.p2.1.m1.1.1.10.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.10">𝑛</ci><ci id="S4.SS1.SSS3.p2.1.m1.1.1.11.cmml" xref="S4.SS1.SSS3.p2.1.m1.1.1.11">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.1.m1.1c">max\_tokens</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.1.m1.1d">italic_m italic_a italic_x _ italic_t italic_o italic_k italic_e italic_n italic_s</annotation></semantics></math> of each type of LLM task based on task clustering. ENOVA first adopts bge-large-en <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib23" title="">23</a>]</cite> to convert user request text into embedding representations. Second, ENOVA adopts community detection algorithm  <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib24" title="">24</a>]</cite> to cluster the user requests by maximizing the modularity. ENOVA initially constructs a request graph by calculating the cosine similarity between embedding representations. Subsequently, ENOVA optimizes the objective function to identify communities within user requests, which can be described as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{Q}=\frac{1}{2m}\sum_{i,j}\begin{bmatrix}A_{i,j}-\frac{k_{i}k_{j}}%
{2m}\end{bmatrix}\cdot\delta(i,j)," class="ltx_Math" display="block" id="S4.E7.m1.6"><semantics id="S4.E7.m1.6a"><mrow id="S4.E7.m1.6.6.1" xref="S4.E7.m1.6.6.1.1.cmml"><mrow id="S4.E7.m1.6.6.1.1" xref="S4.E7.m1.6.6.1.1.cmml"><msub id="S4.E7.m1.6.6.1.1.2" xref="S4.E7.m1.6.6.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E7.m1.6.6.1.1.2.2" xref="S4.E7.m1.6.6.1.1.2.2.cmml">ℒ</mi><mi id="S4.E7.m1.6.6.1.1.2.3" xref="S4.E7.m1.6.6.1.1.2.3.cmml">Q</mi></msub><mo id="S4.E7.m1.6.6.1.1.1" xref="S4.E7.m1.6.6.1.1.1.cmml">=</mo><mrow id="S4.E7.m1.6.6.1.1.3" xref="S4.E7.m1.6.6.1.1.3.cmml"><mfrac id="S4.E7.m1.6.6.1.1.3.2" xref="S4.E7.m1.6.6.1.1.3.2.cmml"><mn id="S4.E7.m1.6.6.1.1.3.2.2" xref="S4.E7.m1.6.6.1.1.3.2.2.cmml">1</mn><mrow id="S4.E7.m1.6.6.1.1.3.2.3" xref="S4.E7.m1.6.6.1.1.3.2.3.cmml"><mn id="S4.E7.m1.6.6.1.1.3.2.3.2" xref="S4.E7.m1.6.6.1.1.3.2.3.2.cmml">2</mn><mo id="S4.E7.m1.6.6.1.1.3.2.3.1" xref="S4.E7.m1.6.6.1.1.3.2.3.1.cmml">⁢</mo><mi id="S4.E7.m1.6.6.1.1.3.2.3.3" xref="S4.E7.m1.6.6.1.1.3.2.3.3.cmml">m</mi></mrow></mfrac><mo id="S4.E7.m1.6.6.1.1.3.1" xref="S4.E7.m1.6.6.1.1.3.1.cmml">⁢</mo><mrow id="S4.E7.m1.6.6.1.1.3.3" xref="S4.E7.m1.6.6.1.1.3.3.cmml"><munder id="S4.E7.m1.6.6.1.1.3.3.1" xref="S4.E7.m1.6.6.1.1.3.3.1.cmml"><mo id="S4.E7.m1.6.6.1.1.3.3.1.2" movablelimits="false" rspace="0em" xref="S4.E7.m1.6.6.1.1.3.3.1.2.cmml">∑</mo><mrow id="S4.E7.m1.3.3.2.4" xref="S4.E7.m1.3.3.2.3.cmml"><mi id="S4.E7.m1.2.2.1.1" xref="S4.E7.m1.2.2.1.1.cmml">i</mi><mo id="S4.E7.m1.3.3.2.4.1" xref="S4.E7.m1.3.3.2.3.cmml">,</mo><mi id="S4.E7.m1.3.3.2.2" xref="S4.E7.m1.3.3.2.2.cmml">j</mi></mrow></munder><mrow id="S4.E7.m1.6.6.1.1.3.3.2" xref="S4.E7.m1.6.6.1.1.3.3.2.cmml"><mrow id="S4.E7.m1.6.6.1.1.3.3.2.2" xref="S4.E7.m1.6.6.1.1.3.3.2.2.cmml"><mrow id="S4.E7.m1.1.1.3" xref="S4.E7.m1.1.1.2.cmml"><mo id="S4.E7.m1.1.1.3.1" xref="S4.E7.m1.1.1.2.1.cmml">[</mo><mtable displaystyle="true" id="S4.E7.m1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml"><mtr id="S4.E7.m1.1.1.1.1a" xref="S4.E7.m1.1.1.1.1.cmml"><mtd id="S4.E7.m1.1.1.1.1b" xref="S4.E7.m1.1.1.1.1.cmml"><mrow id="S4.E7.m1.1.1.1.1.2.2.2.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.cmml"><msub id="S4.E7.m1.1.1.1.1.2.2.2.2.4" xref="S4.E7.m1.1.1.1.1.2.2.2.2.4.cmml"><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.4.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.4.2.cmml">A</mi><mrow id="S4.E7.m1.1.1.1.1.2.2.2.2.2.2.4" xref="S4.E7.m1.1.1.1.1.2.2.2.2.2.2.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">i</mi><mo id="S4.E7.m1.1.1.1.1.2.2.2.2.2.2.4.1" xref="S4.E7.m1.1.1.1.1.2.2.2.2.2.2.3.cmml">,</mo><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.2.2.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.2.2.2.cmml">j</mi></mrow></msub><mo id="S4.E7.m1.1.1.1.1.2.2.2.2.3" xref="S4.E7.m1.1.1.1.1.2.2.2.2.3.cmml">−</mo><mstyle displaystyle="false" id="S4.E7.m1.1.1.1.1.2.2.2.2.5" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.cmml"><mfrac id="S4.E7.m1.1.1.1.1.2.2.2.2.5a" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.cmml"><mrow id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.cmml"><msub id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2.cmml"><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2.2.cmml">k</mi><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2.3" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2.3.cmml">i</mi></msub><mo id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.1" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.1.cmml">⁢</mo><msub id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3.cmml"><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3.2.cmml">k</mi><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3.3" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3.3.cmml">j</mi></msub></mrow><mrow id="S4.E7.m1.1.1.1.1.2.2.2.2.5.3" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.cmml"><mn id="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.2" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.2.cmml">2</mn><mo id="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.1" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.3" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.3.cmml">m</mi></mrow></mfrac></mstyle></mrow></mtd></mtr></mtable><mo id="S4.E7.m1.1.1.3.2" rspace="0.055em" xref="S4.E7.m1.1.1.2.1.cmml">]</mo></mrow><mo id="S4.E7.m1.6.6.1.1.3.3.2.2.1" rspace="0.222em" xref="S4.E7.m1.6.6.1.1.3.3.2.2.1.cmml">⋅</mo><mi id="S4.E7.m1.6.6.1.1.3.3.2.2.2" xref="S4.E7.m1.6.6.1.1.3.3.2.2.2.cmml">δ</mi></mrow><mo id="S4.E7.m1.6.6.1.1.3.3.2.1" xref="S4.E7.m1.6.6.1.1.3.3.2.1.cmml">⁢</mo><mrow id="S4.E7.m1.6.6.1.1.3.3.2.3.2" xref="S4.E7.m1.6.6.1.1.3.3.2.3.1.cmml"><mo id="S4.E7.m1.6.6.1.1.3.3.2.3.2.1" stretchy="false" xref="S4.E7.m1.6.6.1.1.3.3.2.3.1.cmml">(</mo><mi id="S4.E7.m1.4.4" xref="S4.E7.m1.4.4.cmml">i</mi><mo id="S4.E7.m1.6.6.1.1.3.3.2.3.2.2" xref="S4.E7.m1.6.6.1.1.3.3.2.3.1.cmml">,</mo><mi id="S4.E7.m1.5.5" xref="S4.E7.m1.5.5.cmml">j</mi><mo id="S4.E7.m1.6.6.1.1.3.3.2.3.2.3" stretchy="false" xref="S4.E7.m1.6.6.1.1.3.3.2.3.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S4.E7.m1.6.6.1.2" xref="S4.E7.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.6b"><apply id="S4.E7.m1.6.6.1.1.cmml" xref="S4.E7.m1.6.6.1"><eq id="S4.E7.m1.6.6.1.1.1.cmml" xref="S4.E7.m1.6.6.1.1.1"></eq><apply id="S4.E7.m1.6.6.1.1.2.cmml" xref="S4.E7.m1.6.6.1.1.2"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.1.1.2.1.cmml" xref="S4.E7.m1.6.6.1.1.2">subscript</csymbol><ci id="S4.E7.m1.6.6.1.1.2.2.cmml" xref="S4.E7.m1.6.6.1.1.2.2">ℒ</ci><ci id="S4.E7.m1.6.6.1.1.2.3.cmml" xref="S4.E7.m1.6.6.1.1.2.3">𝑄</ci></apply><apply id="S4.E7.m1.6.6.1.1.3.cmml" xref="S4.E7.m1.6.6.1.1.3"><times id="S4.E7.m1.6.6.1.1.3.1.cmml" xref="S4.E7.m1.6.6.1.1.3.1"></times><apply id="S4.E7.m1.6.6.1.1.3.2.cmml" xref="S4.E7.m1.6.6.1.1.3.2"><divide id="S4.E7.m1.6.6.1.1.3.2.1.cmml" xref="S4.E7.m1.6.6.1.1.3.2"></divide><cn id="S4.E7.m1.6.6.1.1.3.2.2.cmml" type="integer" xref="S4.E7.m1.6.6.1.1.3.2.2">1</cn><apply id="S4.E7.m1.6.6.1.1.3.2.3.cmml" xref="S4.E7.m1.6.6.1.1.3.2.3"><times id="S4.E7.m1.6.6.1.1.3.2.3.1.cmml" xref="S4.E7.m1.6.6.1.1.3.2.3.1"></times><cn id="S4.E7.m1.6.6.1.1.3.2.3.2.cmml" type="integer" xref="S4.E7.m1.6.6.1.1.3.2.3.2">2</cn><ci id="S4.E7.m1.6.6.1.1.3.2.3.3.cmml" xref="S4.E7.m1.6.6.1.1.3.2.3.3">𝑚</ci></apply></apply><apply id="S4.E7.m1.6.6.1.1.3.3.cmml" xref="S4.E7.m1.6.6.1.1.3.3"><apply id="S4.E7.m1.6.6.1.1.3.3.1.cmml" xref="S4.E7.m1.6.6.1.1.3.3.1"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.1.1.3.3.1.1.cmml" xref="S4.E7.m1.6.6.1.1.3.3.1">subscript</csymbol><sum id="S4.E7.m1.6.6.1.1.3.3.1.2.cmml" xref="S4.E7.m1.6.6.1.1.3.3.1.2"></sum><list id="S4.E7.m1.3.3.2.3.cmml" xref="S4.E7.m1.3.3.2.4"><ci id="S4.E7.m1.2.2.1.1.cmml" xref="S4.E7.m1.2.2.1.1">𝑖</ci><ci id="S4.E7.m1.3.3.2.2.cmml" xref="S4.E7.m1.3.3.2.2">𝑗</ci></list></apply><apply id="S4.E7.m1.6.6.1.1.3.3.2.cmml" xref="S4.E7.m1.6.6.1.1.3.3.2"><times id="S4.E7.m1.6.6.1.1.3.3.2.1.cmml" xref="S4.E7.m1.6.6.1.1.3.3.2.1"></times><apply id="S4.E7.m1.6.6.1.1.3.3.2.2.cmml" xref="S4.E7.m1.6.6.1.1.3.3.2.2"><ci id="S4.E7.m1.6.6.1.1.3.3.2.2.1.cmml" xref="S4.E7.m1.6.6.1.1.3.3.2.2.1">⋅</ci><apply id="S4.E7.m1.1.1.2.cmml" xref="S4.E7.m1.1.1.3"><csymbol cd="latexml" id="S4.E7.m1.1.1.2.1.cmml" xref="S4.E7.m1.1.1.3.1">matrix</csymbol><matrix id="S4.E7.m1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1"><matrixrow id="S4.E7.m1.1.1.1.1a.cmml" xref="S4.E7.m1.1.1.1.1"><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2"><minus id="S4.E7.m1.1.1.1.1.2.2.2.2.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.3"></minus><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.4.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.4"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.2.2.2.2.4.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.4">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.4.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.4.2">𝐴</ci><list id="S4.E7.m1.1.1.1.1.2.2.2.2.2.2.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.2.2.4"><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1">𝑖</ci><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.2.2.2">𝑗</ci></list></apply><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.5.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5"><divide id="S4.E7.m1.1.1.1.1.2.2.2.2.5.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5"></divide><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2"><times id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.1"></times><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2.2">𝑘</ci><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.2.3">𝑖</ci></apply><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3.2.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3.2">𝑘</ci><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.2.3.3">𝑗</ci></apply></apply><apply id="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.3"><times id="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.1.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.1"></times><cn id="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.2.cmml" type="integer" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.2">2</cn><ci id="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.3.cmml" xref="S4.E7.m1.1.1.1.1.2.2.2.2.5.3.3">𝑚</ci></apply></apply></apply></matrixrow></matrix></apply><ci id="S4.E7.m1.6.6.1.1.3.3.2.2.2.cmml" xref="S4.E7.m1.6.6.1.1.3.3.2.2.2">𝛿</ci></apply><interval closure="open" id="S4.E7.m1.6.6.1.1.3.3.2.3.1.cmml" xref="S4.E7.m1.6.6.1.1.3.3.2.3.2"><ci id="S4.E7.m1.4.4.cmml" xref="S4.E7.m1.4.4">𝑖</ci><ci id="S4.E7.m1.5.5.cmml" xref="S4.E7.m1.5.5">𝑗</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.6c">\mathcal{L}_{Q}=\frac{1}{2m}\sum_{i,j}\begin{bmatrix}A_{i,j}-\frac{k_{i}k_{j}}%
{2m}\end{bmatrix}\cdot\delta(i,j),</annotation><annotation encoding="application/x-llamapun" id="S4.E7.m1.6d">caligraphic_L start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG 2 italic_m end_ARG ∑ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT [ start_ARG start_ROW start_CELL italic_A start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT - divide start_ARG italic_k start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_k start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_ARG start_ARG 2 italic_m end_ARG end_CELL end_ROW end_ARG ] ⋅ italic_δ ( italic_i , italic_j ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS1.SSS3.p2.16">where <math alttext="i" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.2.m1.1"><semantics id="S4.SS1.SSS3.p2.2.m1.1a"><mi id="S4.SS1.SSS3.p2.2.m1.1.1" xref="S4.SS1.SSS3.p2.2.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.2.m1.1b"><ci id="S4.SS1.SSS3.p2.2.m1.1.1.cmml" xref="S4.SS1.SSS3.p2.2.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.2.m1.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.2.m1.1d">italic_i</annotation></semantics></math> and <math alttext="j" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.3.m2.1"><semantics id="S4.SS1.SSS3.p2.3.m2.1a"><mi id="S4.SS1.SSS3.p2.3.m2.1.1" xref="S4.SS1.SSS3.p2.3.m2.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.3.m2.1b"><ci id="S4.SS1.SSS3.p2.3.m2.1.1.cmml" xref="S4.SS1.SSS3.p2.3.m2.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.3.m2.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.3.m2.1d">italic_j</annotation></semantics></math> denote the <math alttext="i^{th}" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.4.m3.1"><semantics id="S4.SS1.SSS3.p2.4.m3.1a"><msup id="S4.SS1.SSS3.p2.4.m3.1.1" xref="S4.SS1.SSS3.p2.4.m3.1.1.cmml"><mi id="S4.SS1.SSS3.p2.4.m3.1.1.2" xref="S4.SS1.SSS3.p2.4.m3.1.1.2.cmml">i</mi><mrow id="S4.SS1.SSS3.p2.4.m3.1.1.3" xref="S4.SS1.SSS3.p2.4.m3.1.1.3.cmml"><mi id="S4.SS1.SSS3.p2.4.m3.1.1.3.2" xref="S4.SS1.SSS3.p2.4.m3.1.1.3.2.cmml">t</mi><mo id="S4.SS1.SSS3.p2.4.m3.1.1.3.1" xref="S4.SS1.SSS3.p2.4.m3.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.4.m3.1.1.3.3" xref="S4.SS1.SSS3.p2.4.m3.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.4.m3.1b"><apply id="S4.SS1.SSS3.p2.4.m3.1.1.cmml" xref="S4.SS1.SSS3.p2.4.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS3.p2.4.m3.1.1.1.cmml" xref="S4.SS1.SSS3.p2.4.m3.1.1">superscript</csymbol><ci id="S4.SS1.SSS3.p2.4.m3.1.1.2.cmml" xref="S4.SS1.SSS3.p2.4.m3.1.1.2">𝑖</ci><apply id="S4.SS1.SSS3.p2.4.m3.1.1.3.cmml" xref="S4.SS1.SSS3.p2.4.m3.1.1.3"><times id="S4.SS1.SSS3.p2.4.m3.1.1.3.1.cmml" xref="S4.SS1.SSS3.p2.4.m3.1.1.3.1"></times><ci id="S4.SS1.SSS3.p2.4.m3.1.1.3.2.cmml" xref="S4.SS1.SSS3.p2.4.m3.1.1.3.2">𝑡</ci><ci id="S4.SS1.SSS3.p2.4.m3.1.1.3.3.cmml" xref="S4.SS1.SSS3.p2.4.m3.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.4.m3.1c">i^{th}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.4.m3.1d">italic_i start_POSTSUPERSCRIPT italic_t italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="j^{th}" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.5.m4.1"><semantics id="S4.SS1.SSS3.p2.5.m4.1a"><msup id="S4.SS1.SSS3.p2.5.m4.1.1" xref="S4.SS1.SSS3.p2.5.m4.1.1.cmml"><mi id="S4.SS1.SSS3.p2.5.m4.1.1.2" xref="S4.SS1.SSS3.p2.5.m4.1.1.2.cmml">j</mi><mrow id="S4.SS1.SSS3.p2.5.m4.1.1.3" xref="S4.SS1.SSS3.p2.5.m4.1.1.3.cmml"><mi id="S4.SS1.SSS3.p2.5.m4.1.1.3.2" xref="S4.SS1.SSS3.p2.5.m4.1.1.3.2.cmml">t</mi><mo id="S4.SS1.SSS3.p2.5.m4.1.1.3.1" xref="S4.SS1.SSS3.p2.5.m4.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.5.m4.1.1.3.3" xref="S4.SS1.SSS3.p2.5.m4.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.5.m4.1b"><apply id="S4.SS1.SSS3.p2.5.m4.1.1.cmml" xref="S4.SS1.SSS3.p2.5.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS3.p2.5.m4.1.1.1.cmml" xref="S4.SS1.SSS3.p2.5.m4.1.1">superscript</csymbol><ci id="S4.SS1.SSS3.p2.5.m4.1.1.2.cmml" xref="S4.SS1.SSS3.p2.5.m4.1.1.2">𝑗</ci><apply id="S4.SS1.SSS3.p2.5.m4.1.1.3.cmml" xref="S4.SS1.SSS3.p2.5.m4.1.1.3"><times id="S4.SS1.SSS3.p2.5.m4.1.1.3.1.cmml" xref="S4.SS1.SSS3.p2.5.m4.1.1.3.1"></times><ci id="S4.SS1.SSS3.p2.5.m4.1.1.3.2.cmml" xref="S4.SS1.SSS3.p2.5.m4.1.1.3.2">𝑡</ci><ci id="S4.SS1.SSS3.p2.5.m4.1.1.3.3.cmml" xref="S4.SS1.SSS3.p2.5.m4.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.5.m4.1c">j^{th}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.5.m4.1d">italic_j start_POSTSUPERSCRIPT italic_t italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> requests; <math alttext="m" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.6.m5.1"><semantics id="S4.SS1.SSS3.p2.6.m5.1a"><mi id="S4.SS1.SSS3.p2.6.m5.1.1" xref="S4.SS1.SSS3.p2.6.m5.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.6.m5.1b"><ci id="S4.SS1.SSS3.p2.6.m5.1.1.cmml" xref="S4.SS1.SSS3.p2.6.m5.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.6.m5.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.6.m5.1d">italic_m</annotation></semantics></math> is the total number of edges in the request graph; <math alttext="k_{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.7.m6.1"><semantics id="S4.SS1.SSS3.p2.7.m6.1a"><msub id="S4.SS1.SSS3.p2.7.m6.1.1" xref="S4.SS1.SSS3.p2.7.m6.1.1.cmml"><mi id="S4.SS1.SSS3.p2.7.m6.1.1.2" xref="S4.SS1.SSS3.p2.7.m6.1.1.2.cmml">k</mi><mi id="S4.SS1.SSS3.p2.7.m6.1.1.3" xref="S4.SS1.SSS3.p2.7.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.7.m6.1b"><apply id="S4.SS1.SSS3.p2.7.m6.1.1.cmml" xref="S4.SS1.SSS3.p2.7.m6.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS3.p2.7.m6.1.1.1.cmml" xref="S4.SS1.SSS3.p2.7.m6.1.1">subscript</csymbol><ci id="S4.SS1.SSS3.p2.7.m6.1.1.2.cmml" xref="S4.SS1.SSS3.p2.7.m6.1.1.2">𝑘</ci><ci id="S4.SS1.SSS3.p2.7.m6.1.1.3.cmml" xref="S4.SS1.SSS3.p2.7.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.7.m6.1c">k_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.7.m6.1d">italic_k start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="k_{j}" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.8.m7.1"><semantics id="S4.SS1.SSS3.p2.8.m7.1a"><msub id="S4.SS1.SSS3.p2.8.m7.1.1" xref="S4.SS1.SSS3.p2.8.m7.1.1.cmml"><mi id="S4.SS1.SSS3.p2.8.m7.1.1.2" xref="S4.SS1.SSS3.p2.8.m7.1.1.2.cmml">k</mi><mi id="S4.SS1.SSS3.p2.8.m7.1.1.3" xref="S4.SS1.SSS3.p2.8.m7.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.8.m7.1b"><apply id="S4.SS1.SSS3.p2.8.m7.1.1.cmml" xref="S4.SS1.SSS3.p2.8.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS3.p2.8.m7.1.1.1.cmml" xref="S4.SS1.SSS3.p2.8.m7.1.1">subscript</csymbol><ci id="S4.SS1.SSS3.p2.8.m7.1.1.2.cmml" xref="S4.SS1.SSS3.p2.8.m7.1.1.2">𝑘</ci><ci id="S4.SS1.SSS3.p2.8.m7.1.1.3.cmml" xref="S4.SS1.SSS3.p2.8.m7.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.8.m7.1c">k_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.8.m7.1d">italic_k start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> represent the degrees of request <math alttext="i" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.9.m8.1"><semantics id="S4.SS1.SSS3.p2.9.m8.1a"><mi id="S4.SS1.SSS3.p2.9.m8.1.1" xref="S4.SS1.SSS3.p2.9.m8.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.9.m8.1b"><ci id="S4.SS1.SSS3.p2.9.m8.1.1.cmml" xref="S4.SS1.SSS3.p2.9.m8.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.9.m8.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.9.m8.1d">italic_i</annotation></semantics></math> and <math alttext="j" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.10.m9.1"><semantics id="S4.SS1.SSS3.p2.10.m9.1a"><mi id="S4.SS1.SSS3.p2.10.m9.1.1" xref="S4.SS1.SSS3.p2.10.m9.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.10.m9.1b"><ci id="S4.SS1.SSS3.p2.10.m9.1.1.cmml" xref="S4.SS1.SSS3.p2.10.m9.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.10.m9.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.10.m9.1d">italic_j</annotation></semantics></math>; and <math alttext="\delta(i,j)" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.11.m10.2"><semantics id="S4.SS1.SSS3.p2.11.m10.2a"><mrow id="S4.SS1.SSS3.p2.11.m10.2.3" xref="S4.SS1.SSS3.p2.11.m10.2.3.cmml"><mi id="S4.SS1.SSS3.p2.11.m10.2.3.2" xref="S4.SS1.SSS3.p2.11.m10.2.3.2.cmml">δ</mi><mo id="S4.SS1.SSS3.p2.11.m10.2.3.1" xref="S4.SS1.SSS3.p2.11.m10.2.3.1.cmml">⁢</mo><mrow id="S4.SS1.SSS3.p2.11.m10.2.3.3.2" xref="S4.SS1.SSS3.p2.11.m10.2.3.3.1.cmml"><mo id="S4.SS1.SSS3.p2.11.m10.2.3.3.2.1" stretchy="false" xref="S4.SS1.SSS3.p2.11.m10.2.3.3.1.cmml">(</mo><mi id="S4.SS1.SSS3.p2.11.m10.1.1" xref="S4.SS1.SSS3.p2.11.m10.1.1.cmml">i</mi><mo id="S4.SS1.SSS3.p2.11.m10.2.3.3.2.2" xref="S4.SS1.SSS3.p2.11.m10.2.3.3.1.cmml">,</mo><mi id="S4.SS1.SSS3.p2.11.m10.2.2" xref="S4.SS1.SSS3.p2.11.m10.2.2.cmml">j</mi><mo id="S4.SS1.SSS3.p2.11.m10.2.3.3.2.3" stretchy="false" xref="S4.SS1.SSS3.p2.11.m10.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.11.m10.2b"><apply id="S4.SS1.SSS3.p2.11.m10.2.3.cmml" xref="S4.SS1.SSS3.p2.11.m10.2.3"><times id="S4.SS1.SSS3.p2.11.m10.2.3.1.cmml" xref="S4.SS1.SSS3.p2.11.m10.2.3.1"></times><ci id="S4.SS1.SSS3.p2.11.m10.2.3.2.cmml" xref="S4.SS1.SSS3.p2.11.m10.2.3.2">𝛿</ci><interval closure="open" id="S4.SS1.SSS3.p2.11.m10.2.3.3.1.cmml" xref="S4.SS1.SSS3.p2.11.m10.2.3.3.2"><ci id="S4.SS1.SSS3.p2.11.m10.1.1.cmml" xref="S4.SS1.SSS3.p2.11.m10.1.1">𝑖</ci><ci id="S4.SS1.SSS3.p2.11.m10.2.2.cmml" xref="S4.SS1.SSS3.p2.11.m10.2.2">𝑗</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.11.m10.2c">\delta(i,j)</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.11.m10.2d">italic_δ ( italic_i , italic_j )</annotation></semantics></math> equals <math alttext="1" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.12.m11.1"><semantics id="S4.SS1.SSS3.p2.12.m11.1a"><mn id="S4.SS1.SSS3.p2.12.m11.1.1" xref="S4.SS1.SSS3.p2.12.m11.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.12.m11.1b"><cn id="S4.SS1.SSS3.p2.12.m11.1.1.cmml" type="integer" xref="S4.SS1.SSS3.p2.12.m11.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.12.m11.1c">1</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.12.m11.1d">1</annotation></semantics></math> if <math alttext="i" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.13.m12.1"><semantics id="S4.SS1.SSS3.p2.13.m12.1a"><mi id="S4.SS1.SSS3.p2.13.m12.1.1" xref="S4.SS1.SSS3.p2.13.m12.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.13.m12.1b"><ci id="S4.SS1.SSS3.p2.13.m12.1.1.cmml" xref="S4.SS1.SSS3.p2.13.m12.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.13.m12.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.13.m12.1d">italic_i</annotation></semantics></math> and <math alttext="j" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.14.m13.1"><semantics id="S4.SS1.SSS3.p2.14.m13.1a"><mi id="S4.SS1.SSS3.p2.14.m13.1.1" xref="S4.SS1.SSS3.p2.14.m13.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.14.m13.1b"><ci id="S4.SS1.SSS3.p2.14.m13.1.1.cmml" xref="S4.SS1.SSS3.p2.14.m13.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.14.m13.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.14.m13.1d">italic_j</annotation></semantics></math> are in the same community and <math alttext="0" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.15.m14.1"><semantics id="S4.SS1.SSS3.p2.15.m14.1a"><mn id="S4.SS1.SSS3.p2.15.m14.1.1" xref="S4.SS1.SSS3.p2.15.m14.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.15.m14.1b"><cn id="S4.SS1.SSS3.p2.15.m14.1.1.cmml" type="integer" xref="S4.SS1.SSS3.p2.15.m14.1.1">0</cn></annotation-xml></semantics></math> otherwise. Ultimately, user requests will be segmented into distinct communities based on their task targets. For each new request, ENOVA determines its community by calculating the cosine similarity between the request and the centroid of each existing community. For each community, ENOVA uses KDE <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib22" title="">22</a>]</cite> to model the density function of the length of generated output tokens, based on which the <math alttext="max\_tokens" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p2.16.m15.1"><semantics id="S4.SS1.SSS3.p2.16.m15.1a"><mrow id="S4.SS1.SSS3.p2.16.m15.1.1" xref="S4.SS1.SSS3.p2.16.m15.1.1.cmml"><mi id="S4.SS1.SSS3.p2.16.m15.1.1.2" xref="S4.SS1.SSS3.p2.16.m15.1.1.2.cmml">m</mi><mo id="S4.SS1.SSS3.p2.16.m15.1.1.1" xref="S4.SS1.SSS3.p2.16.m15.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.16.m15.1.1.3" xref="S4.SS1.SSS3.p2.16.m15.1.1.3.cmml">a</mi><mo id="S4.SS1.SSS3.p2.16.m15.1.1.1a" xref="S4.SS1.SSS3.p2.16.m15.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.16.m15.1.1.4" xref="S4.SS1.SSS3.p2.16.m15.1.1.4.cmml">x</mi><mo id="S4.SS1.SSS3.p2.16.m15.1.1.1b" xref="S4.SS1.SSS3.p2.16.m15.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.16.m15.1.1.5" mathvariant="normal" xref="S4.SS1.SSS3.p2.16.m15.1.1.5.cmml">_</mi><mo id="S4.SS1.SSS3.p2.16.m15.1.1.1c" xref="S4.SS1.SSS3.p2.16.m15.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.16.m15.1.1.6" xref="S4.SS1.SSS3.p2.16.m15.1.1.6.cmml">t</mi><mo id="S4.SS1.SSS3.p2.16.m15.1.1.1d" xref="S4.SS1.SSS3.p2.16.m15.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.16.m15.1.1.7" xref="S4.SS1.SSS3.p2.16.m15.1.1.7.cmml">o</mi><mo id="S4.SS1.SSS3.p2.16.m15.1.1.1e" xref="S4.SS1.SSS3.p2.16.m15.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.16.m15.1.1.8" xref="S4.SS1.SSS3.p2.16.m15.1.1.8.cmml">k</mi><mo id="S4.SS1.SSS3.p2.16.m15.1.1.1f" xref="S4.SS1.SSS3.p2.16.m15.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.16.m15.1.1.9" xref="S4.SS1.SSS3.p2.16.m15.1.1.9.cmml">e</mi><mo id="S4.SS1.SSS3.p2.16.m15.1.1.1g" xref="S4.SS1.SSS3.p2.16.m15.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.16.m15.1.1.10" xref="S4.SS1.SSS3.p2.16.m15.1.1.10.cmml">n</mi><mo id="S4.SS1.SSS3.p2.16.m15.1.1.1h" xref="S4.SS1.SSS3.p2.16.m15.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS3.p2.16.m15.1.1.11" xref="S4.SS1.SSS3.p2.16.m15.1.1.11.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p2.16.m15.1b"><apply id="S4.SS1.SSS3.p2.16.m15.1.1.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1"><times id="S4.SS1.SSS3.p2.16.m15.1.1.1.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1.1"></times><ci id="S4.SS1.SSS3.p2.16.m15.1.1.2.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1.2">𝑚</ci><ci id="S4.SS1.SSS3.p2.16.m15.1.1.3.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1.3">𝑎</ci><ci id="S4.SS1.SSS3.p2.16.m15.1.1.4.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1.4">𝑥</ci><ci id="S4.SS1.SSS3.p2.16.m15.1.1.5.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1.5">_</ci><ci id="S4.SS1.SSS3.p2.16.m15.1.1.6.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1.6">𝑡</ci><ci id="S4.SS1.SSS3.p2.16.m15.1.1.7.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1.7">𝑜</ci><ci id="S4.SS1.SSS3.p2.16.m15.1.1.8.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1.8">𝑘</ci><ci id="S4.SS1.SSS3.p2.16.m15.1.1.9.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1.9">𝑒</ci><ci id="S4.SS1.SSS3.p2.16.m15.1.1.10.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1.10">𝑛</ci><ci id="S4.SS1.SSS3.p2.16.m15.1.1.11.cmml" xref="S4.SS1.SSS3.p2.16.m15.1.1.11">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p2.16.m15.1c">max\_tokens</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p2.16.m15.1d">italic_m italic_a italic_x _ italic_t italic_o italic_k italic_e italic_n italic_s</annotation></semantics></math> of each community are determined.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text" id="S4.SS1.SSS4.4.1.1">IV-A</span>4 </span>Determine <span class="ltx_text ltx_font_italic" id="S4.SS1.SSS4.5.2">replicas</span> and <span class="ltx_text ltx_font_italic" id="S4.SS1.SSS4.6.3">weights</span>
</h4>
<div class="ltx_para" id="S4.SS1.SSS4.p1">
<p class="ltx_p" id="S4.SS1.SSS4.p1.2">These configurations control the number of replicas of deployed LLM services and the routing weights used to route new requests to the appropriate replica. In industrial environments, GPU clusters are often distributed across multiple regions, featuring a variety of GPU device types. These devices exhibit significant disparities in computing capabilities, unlike traditional computing devices. When deploying two replicas of LLM services on two distinct GPU devices, the absence of a strategic routing plan for user requests can lead to inefficiencies. The more powerful GPU may underutilize its computing capacities, while the less capable GPU could result in diminished service quality. Therefore, it is essential to accurately determine the appropriate number of <math alttext="replicas" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p1.1.m1.1"><semantics id="S4.SS1.SSS4.p1.1.m1.1a"><mrow id="S4.SS1.SSS4.p1.1.m1.1.1" xref="S4.SS1.SSS4.p1.1.m1.1.1.cmml"><mi id="S4.SS1.SSS4.p1.1.m1.1.1.2" xref="S4.SS1.SSS4.p1.1.m1.1.1.2.cmml">r</mi><mo id="S4.SS1.SSS4.p1.1.m1.1.1.1" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.1.m1.1.1.3" xref="S4.SS1.SSS4.p1.1.m1.1.1.3.cmml">e</mi><mo id="S4.SS1.SSS4.p1.1.m1.1.1.1a" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.1.m1.1.1.4" xref="S4.SS1.SSS4.p1.1.m1.1.1.4.cmml">p</mi><mo id="S4.SS1.SSS4.p1.1.m1.1.1.1b" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.1.m1.1.1.5" xref="S4.SS1.SSS4.p1.1.m1.1.1.5.cmml">l</mi><mo id="S4.SS1.SSS4.p1.1.m1.1.1.1c" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.1.m1.1.1.6" xref="S4.SS1.SSS4.p1.1.m1.1.1.6.cmml">i</mi><mo id="S4.SS1.SSS4.p1.1.m1.1.1.1d" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.1.m1.1.1.7" xref="S4.SS1.SSS4.p1.1.m1.1.1.7.cmml">c</mi><mo id="S4.SS1.SSS4.p1.1.m1.1.1.1e" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.1.m1.1.1.8" xref="S4.SS1.SSS4.p1.1.m1.1.1.8.cmml">a</mi><mo id="S4.SS1.SSS4.p1.1.m1.1.1.1f" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.1.m1.1.1.9" xref="S4.SS1.SSS4.p1.1.m1.1.1.9.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p1.1.m1.1b"><apply id="S4.SS1.SSS4.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1"><times id="S4.SS1.SSS4.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.1"></times><ci id="S4.SS1.SSS4.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.2">𝑟</ci><ci id="S4.SS1.SSS4.p1.1.m1.1.1.3.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.3">𝑒</ci><ci id="S4.SS1.SSS4.p1.1.m1.1.1.4.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.4">𝑝</ci><ci id="S4.SS1.SSS4.p1.1.m1.1.1.5.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.5">𝑙</ci><ci id="S4.SS1.SSS4.p1.1.m1.1.1.6.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.6">𝑖</ci><ci id="S4.SS1.SSS4.p1.1.m1.1.1.7.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.7">𝑐</ci><ci id="S4.SS1.SSS4.p1.1.m1.1.1.8.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.8">𝑎</ci><ci id="S4.SS1.SSS4.p1.1.m1.1.1.9.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.9">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p1.1.m1.1c">replicas</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p1.1.m1.1d">italic_r italic_e italic_p italic_l italic_i italic_c italic_a italic_s</annotation></semantics></math> and their corresponding <math alttext="weights" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p1.2.m2.1"><semantics id="S4.SS1.SSS4.p1.2.m2.1a"><mrow id="S4.SS1.SSS4.p1.2.m2.1.1" xref="S4.SS1.SSS4.p1.2.m2.1.1.cmml"><mi id="S4.SS1.SSS4.p1.2.m2.1.1.2" xref="S4.SS1.SSS4.p1.2.m2.1.1.2.cmml">w</mi><mo id="S4.SS1.SSS4.p1.2.m2.1.1.1" xref="S4.SS1.SSS4.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.2.m2.1.1.3" xref="S4.SS1.SSS4.p1.2.m2.1.1.3.cmml">e</mi><mo id="S4.SS1.SSS4.p1.2.m2.1.1.1a" xref="S4.SS1.SSS4.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.2.m2.1.1.4" xref="S4.SS1.SSS4.p1.2.m2.1.1.4.cmml">i</mi><mo id="S4.SS1.SSS4.p1.2.m2.1.1.1b" xref="S4.SS1.SSS4.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.2.m2.1.1.5" xref="S4.SS1.SSS4.p1.2.m2.1.1.5.cmml">g</mi><mo id="S4.SS1.SSS4.p1.2.m2.1.1.1c" xref="S4.SS1.SSS4.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.2.m2.1.1.6" xref="S4.SS1.SSS4.p1.2.m2.1.1.6.cmml">h</mi><mo id="S4.SS1.SSS4.p1.2.m2.1.1.1d" xref="S4.SS1.SSS4.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.2.m2.1.1.7" xref="S4.SS1.SSS4.p1.2.m2.1.1.7.cmml">t</mi><mo id="S4.SS1.SSS4.p1.2.m2.1.1.1e" xref="S4.SS1.SSS4.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p1.2.m2.1.1.8" xref="S4.SS1.SSS4.p1.2.m2.1.1.8.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p1.2.m2.1b"><apply id="S4.SS1.SSS4.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS4.p1.2.m2.1.1"><times id="S4.SS1.SSS4.p1.2.m2.1.1.1.cmml" xref="S4.SS1.SSS4.p1.2.m2.1.1.1"></times><ci id="S4.SS1.SSS4.p1.2.m2.1.1.2.cmml" xref="S4.SS1.SSS4.p1.2.m2.1.1.2">𝑤</ci><ci id="S4.SS1.SSS4.p1.2.m2.1.1.3.cmml" xref="S4.SS1.SSS4.p1.2.m2.1.1.3">𝑒</ci><ci id="S4.SS1.SSS4.p1.2.m2.1.1.4.cmml" xref="S4.SS1.SSS4.p1.2.m2.1.1.4">𝑖</ci><ci id="S4.SS1.SSS4.p1.2.m2.1.1.5.cmml" xref="S4.SS1.SSS4.p1.2.m2.1.1.5">𝑔</ci><ci id="S4.SS1.SSS4.p1.2.m2.1.1.6.cmml" xref="S4.SS1.SSS4.p1.2.m2.1.1.6">ℎ</ci><ci id="S4.SS1.SSS4.p1.2.m2.1.1.7.cmml" xref="S4.SS1.SSS4.p1.2.m2.1.1.7">𝑡</ci><ci id="S4.SS1.SSS4.p1.2.m2.1.1.8.cmml" xref="S4.SS1.SSS4.p1.2.m2.1.1.8">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p1.2.m2.1c">weights</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p1.2.m2.1d">italic_w italic_e italic_i italic_g italic_h italic_t italic_s</annotation></semantics></math> for effective multi-GPU deployment.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSS4.p2">
<p class="ltx_p" id="S4.SS1.SSS4.p2.1">Then we determine the <math alttext="replicas" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.1.m1.1"><semantics id="S4.SS1.SSS4.p2.1.m1.1a"><mrow id="S4.SS1.SSS4.p2.1.m1.1.1" xref="S4.SS1.SSS4.p2.1.m1.1.1.cmml"><mi id="S4.SS1.SSS4.p2.1.m1.1.1.2" xref="S4.SS1.SSS4.p2.1.m1.1.1.2.cmml">r</mi><mo id="S4.SS1.SSS4.p2.1.m1.1.1.1" xref="S4.SS1.SSS4.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.1.m1.1.1.3" xref="S4.SS1.SSS4.p2.1.m1.1.1.3.cmml">e</mi><mo id="S4.SS1.SSS4.p2.1.m1.1.1.1a" xref="S4.SS1.SSS4.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.1.m1.1.1.4" xref="S4.SS1.SSS4.p2.1.m1.1.1.4.cmml">p</mi><mo id="S4.SS1.SSS4.p2.1.m1.1.1.1b" xref="S4.SS1.SSS4.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.1.m1.1.1.5" xref="S4.SS1.SSS4.p2.1.m1.1.1.5.cmml">l</mi><mo id="S4.SS1.SSS4.p2.1.m1.1.1.1c" xref="S4.SS1.SSS4.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.1.m1.1.1.6" xref="S4.SS1.SSS4.p2.1.m1.1.1.6.cmml">i</mi><mo id="S4.SS1.SSS4.p2.1.m1.1.1.1d" xref="S4.SS1.SSS4.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.1.m1.1.1.7" xref="S4.SS1.SSS4.p2.1.m1.1.1.7.cmml">c</mi><mo id="S4.SS1.SSS4.p2.1.m1.1.1.1e" xref="S4.SS1.SSS4.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.1.m1.1.1.8" xref="S4.SS1.SSS4.p2.1.m1.1.1.8.cmml">a</mi><mo id="S4.SS1.SSS4.p2.1.m1.1.1.1f" xref="S4.SS1.SSS4.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.1.m1.1.1.9" xref="S4.SS1.SSS4.p2.1.m1.1.1.9.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.1.m1.1b"><apply id="S4.SS1.SSS4.p2.1.m1.1.1.cmml" xref="S4.SS1.SSS4.p2.1.m1.1.1"><times id="S4.SS1.SSS4.p2.1.m1.1.1.1.cmml" xref="S4.SS1.SSS4.p2.1.m1.1.1.1"></times><ci id="S4.SS1.SSS4.p2.1.m1.1.1.2.cmml" xref="S4.SS1.SSS4.p2.1.m1.1.1.2">𝑟</ci><ci id="S4.SS1.SSS4.p2.1.m1.1.1.3.cmml" xref="S4.SS1.SSS4.p2.1.m1.1.1.3">𝑒</ci><ci id="S4.SS1.SSS4.p2.1.m1.1.1.4.cmml" xref="S4.SS1.SSS4.p2.1.m1.1.1.4">𝑝</ci><ci id="S4.SS1.SSS4.p2.1.m1.1.1.5.cmml" xref="S4.SS1.SSS4.p2.1.m1.1.1.5">𝑙</ci><ci id="S4.SS1.SSS4.p2.1.m1.1.1.6.cmml" xref="S4.SS1.SSS4.p2.1.m1.1.1.6">𝑖</ci><ci id="S4.SS1.SSS4.p2.1.m1.1.1.7.cmml" xref="S4.SS1.SSS4.p2.1.m1.1.1.7">𝑐</ci><ci id="S4.SS1.SSS4.p2.1.m1.1.1.8.cmml" xref="S4.SS1.SSS4.p2.1.m1.1.1.8">𝑎</ci><ci id="S4.SS1.SSS4.p2.1.m1.1.1.9.cmml" xref="S4.SS1.SSS4.p2.1.m1.1.1.9">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.1.m1.1c">replicas</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.1.m1.1d">italic_r italic_e italic_p italic_l italic_i italic_c italic_a italic_s</annotation></semantics></math> of each type of GPU based on the following equations:</p>
<table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="S9.EGx4">
<tbody id="S4.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\displaystyle\mathrm{min}\sum_{i}score^{i}*replicas^{i}" class="ltx_Math" display="block" id="S4.E8.m1.1"><semantics id="S4.E8.m1.1a"><mrow id="S4.E8.m1.1.1" xref="S4.E8.m1.1.1.cmml"><mi id="S4.E8.m1.1.1.2" xref="S4.E8.m1.1.1.2.cmml">min</mi><mo id="S4.E8.m1.1.1.1" xref="S4.E8.m1.1.1.1.cmml">⁢</mo><mrow id="S4.E8.m1.1.1.3" xref="S4.E8.m1.1.1.3.cmml"><munder id="S4.E8.m1.1.1.3.1" xref="S4.E8.m1.1.1.3.1.cmml"><mo id="S4.E8.m1.1.1.3.1.2" movablelimits="false" xref="S4.E8.m1.1.1.3.1.2.cmml">∑</mo><mi id="S4.E8.m1.1.1.3.1.3" xref="S4.E8.m1.1.1.3.1.3.cmml">i</mi></munder><mrow id="S4.E8.m1.1.1.3.2" xref="S4.E8.m1.1.1.3.2.cmml"><mrow id="S4.E8.m1.1.1.3.2.2" xref="S4.E8.m1.1.1.3.2.2.cmml"><mrow id="S4.E8.m1.1.1.3.2.2.2" xref="S4.E8.m1.1.1.3.2.2.2.cmml"><mi id="S4.E8.m1.1.1.3.2.2.2.2" xref="S4.E8.m1.1.1.3.2.2.2.2.cmml">s</mi><mo id="S4.E8.m1.1.1.3.2.2.2.1" xref="S4.E8.m1.1.1.3.2.2.2.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.3.2.2.2.3" xref="S4.E8.m1.1.1.3.2.2.2.3.cmml">c</mi><mo id="S4.E8.m1.1.1.3.2.2.2.1a" xref="S4.E8.m1.1.1.3.2.2.2.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.3.2.2.2.4" xref="S4.E8.m1.1.1.3.2.2.2.4.cmml">o</mi><mo id="S4.E8.m1.1.1.3.2.2.2.1b" xref="S4.E8.m1.1.1.3.2.2.2.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.3.2.2.2.5" xref="S4.E8.m1.1.1.3.2.2.2.5.cmml">r</mi><mo id="S4.E8.m1.1.1.3.2.2.2.1c" xref="S4.E8.m1.1.1.3.2.2.2.1.cmml">⁢</mo><msup id="S4.E8.m1.1.1.3.2.2.2.6" xref="S4.E8.m1.1.1.3.2.2.2.6.cmml"><mi id="S4.E8.m1.1.1.3.2.2.2.6.2" xref="S4.E8.m1.1.1.3.2.2.2.6.2.cmml">e</mi><mi id="S4.E8.m1.1.1.3.2.2.2.6.3" xref="S4.E8.m1.1.1.3.2.2.2.6.3.cmml">i</mi></msup></mrow><mo id="S4.E8.m1.1.1.3.2.2.1" lspace="0.222em" rspace="0.222em" xref="S4.E8.m1.1.1.3.2.2.1.cmml">∗</mo><mi id="S4.E8.m1.1.1.3.2.2.3" xref="S4.E8.m1.1.1.3.2.2.3.cmml">r</mi></mrow><mo id="S4.E8.m1.1.1.3.2.1" xref="S4.E8.m1.1.1.3.2.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.3.2.3" xref="S4.E8.m1.1.1.3.2.3.cmml">e</mi><mo id="S4.E8.m1.1.1.3.2.1a" xref="S4.E8.m1.1.1.3.2.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.3.2.4" xref="S4.E8.m1.1.1.3.2.4.cmml">p</mi><mo id="S4.E8.m1.1.1.3.2.1b" xref="S4.E8.m1.1.1.3.2.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.3.2.5" xref="S4.E8.m1.1.1.3.2.5.cmml">l</mi><mo id="S4.E8.m1.1.1.3.2.1c" xref="S4.E8.m1.1.1.3.2.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.3.2.6" xref="S4.E8.m1.1.1.3.2.6.cmml">i</mi><mo id="S4.E8.m1.1.1.3.2.1d" xref="S4.E8.m1.1.1.3.2.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.3.2.7" xref="S4.E8.m1.1.1.3.2.7.cmml">c</mi><mo id="S4.E8.m1.1.1.3.2.1e" xref="S4.E8.m1.1.1.3.2.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.3.2.8" xref="S4.E8.m1.1.1.3.2.8.cmml">a</mi><mo id="S4.E8.m1.1.1.3.2.1f" xref="S4.E8.m1.1.1.3.2.1.cmml">⁢</mo><msup id="S4.E8.m1.1.1.3.2.9" xref="S4.E8.m1.1.1.3.2.9.cmml"><mi id="S4.E8.m1.1.1.3.2.9.2" xref="S4.E8.m1.1.1.3.2.9.2.cmml">s</mi><mi id="S4.E8.m1.1.1.3.2.9.3" xref="S4.E8.m1.1.1.3.2.9.3.cmml">i</mi></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E8.m1.1b"><apply id="S4.E8.m1.1.1.cmml" xref="S4.E8.m1.1.1"><times id="S4.E8.m1.1.1.1.cmml" xref="S4.E8.m1.1.1.1"></times><ci id="S4.E8.m1.1.1.2.cmml" xref="S4.E8.m1.1.1.2">min</ci><apply id="S4.E8.m1.1.1.3.cmml" xref="S4.E8.m1.1.1.3"><apply id="S4.E8.m1.1.1.3.1.cmml" xref="S4.E8.m1.1.1.3.1"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.3.1.1.cmml" xref="S4.E8.m1.1.1.3.1">subscript</csymbol><sum id="S4.E8.m1.1.1.3.1.2.cmml" xref="S4.E8.m1.1.1.3.1.2"></sum><ci id="S4.E8.m1.1.1.3.1.3.cmml" xref="S4.E8.m1.1.1.3.1.3">𝑖</ci></apply><apply id="S4.E8.m1.1.1.3.2.cmml" xref="S4.E8.m1.1.1.3.2"><times id="S4.E8.m1.1.1.3.2.1.cmml" xref="S4.E8.m1.1.1.3.2.1"></times><apply id="S4.E8.m1.1.1.3.2.2.cmml" xref="S4.E8.m1.1.1.3.2.2"><times id="S4.E8.m1.1.1.3.2.2.1.cmml" xref="S4.E8.m1.1.1.3.2.2.1"></times><apply id="S4.E8.m1.1.1.3.2.2.2.cmml" xref="S4.E8.m1.1.1.3.2.2.2"><times id="S4.E8.m1.1.1.3.2.2.2.1.cmml" xref="S4.E8.m1.1.1.3.2.2.2.1"></times><ci id="S4.E8.m1.1.1.3.2.2.2.2.cmml" xref="S4.E8.m1.1.1.3.2.2.2.2">𝑠</ci><ci id="S4.E8.m1.1.1.3.2.2.2.3.cmml" xref="S4.E8.m1.1.1.3.2.2.2.3">𝑐</ci><ci id="S4.E8.m1.1.1.3.2.2.2.4.cmml" xref="S4.E8.m1.1.1.3.2.2.2.4">𝑜</ci><ci id="S4.E8.m1.1.1.3.2.2.2.5.cmml" xref="S4.E8.m1.1.1.3.2.2.2.5">𝑟</ci><apply id="S4.E8.m1.1.1.3.2.2.2.6.cmml" xref="S4.E8.m1.1.1.3.2.2.2.6"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.3.2.2.2.6.1.cmml" xref="S4.E8.m1.1.1.3.2.2.2.6">superscript</csymbol><ci id="S4.E8.m1.1.1.3.2.2.2.6.2.cmml" xref="S4.E8.m1.1.1.3.2.2.2.6.2">𝑒</ci><ci id="S4.E8.m1.1.1.3.2.2.2.6.3.cmml" xref="S4.E8.m1.1.1.3.2.2.2.6.3">𝑖</ci></apply></apply><ci id="S4.E8.m1.1.1.3.2.2.3.cmml" xref="S4.E8.m1.1.1.3.2.2.3">𝑟</ci></apply><ci id="S4.E8.m1.1.1.3.2.3.cmml" xref="S4.E8.m1.1.1.3.2.3">𝑒</ci><ci id="S4.E8.m1.1.1.3.2.4.cmml" xref="S4.E8.m1.1.1.3.2.4">𝑝</ci><ci id="S4.E8.m1.1.1.3.2.5.cmml" xref="S4.E8.m1.1.1.3.2.5">𝑙</ci><ci id="S4.E8.m1.1.1.3.2.6.cmml" xref="S4.E8.m1.1.1.3.2.6">𝑖</ci><ci id="S4.E8.m1.1.1.3.2.7.cmml" xref="S4.E8.m1.1.1.3.2.7">𝑐</ci><ci id="S4.E8.m1.1.1.3.2.8.cmml" xref="S4.E8.m1.1.1.3.2.8">𝑎</ci><apply id="S4.E8.m1.1.1.3.2.9.cmml" xref="S4.E8.m1.1.1.3.2.9"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.3.2.9.1.cmml" xref="S4.E8.m1.1.1.3.2.9">superscript</csymbol><ci id="S4.E8.m1.1.1.3.2.9.2.cmml" xref="S4.E8.m1.1.1.3.2.9.2">𝑠</ci><ci id="S4.E8.m1.1.1.3.2.9.3.cmml" xref="S4.E8.m1.1.1.3.2.9.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E8.m1.1c">\displaystyle\mathrm{min}\sum_{i}score^{i}*replicas^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.E8.m1.1d">roman_min ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_s italic_c italic_o italic_r italic_e start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ∗ italic_r italic_e italic_p italic_l italic_i italic_c italic_a italic_s start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
<tbody id="S4.E11"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\displaystyle\left\{\begin{array}[]{cc}\sum_{i}n_{limit}^{i}*replicas^{i}&amp;\leq
n%
^{f}\\
parallal\_size^{i}*replicas^{i}&amp;\leq N^{i}\end{array}\right." class="ltx_Math" display="block" id="S4.E11.m1.1"><semantics id="S4.E11.m1.1a"><mrow id="S4.E11.m1.1.2.2" xref="S4.E11.m1.1.2.1.cmml"><mo id="S4.E11.m1.1.2.2.1" xref="S4.E11.m1.1.2.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" id="S4.E11.m1.1.1" rowspacing="0pt" xref="S4.E11.m1.1.1.cmml"><mtr id="S4.E11.m1.1.1a" xref="S4.E11.m1.1.1.cmml"><mtd id="S4.E11.m1.1.1b" xref="S4.E11.m1.1.1.cmml"><mrow id="S4.E9.1.1" xref="S4.E9.1.1.cmml"><mstyle displaystyle="false" id="S4.E9.1.1.1" xref="S4.E9.1.1.1.cmml"><msub id="S4.E9.1.1.1a" xref="S4.E9.1.1.1.cmml"><mo id="S4.E9.1.1.1.2" xref="S4.E9.1.1.1.2.cmml">∑</mo><mi id="S4.E9.1.1.1.3" xref="S4.E9.1.1.1.3.cmml">i</mi></msub></mstyle><mrow id="S4.E9.1.1.2" xref="S4.E9.1.1.2.cmml"><mrow id="S4.E9.1.1.2.2" xref="S4.E9.1.1.2.2.cmml"><msubsup id="S4.E9.1.1.2.2.2" xref="S4.E9.1.1.2.2.2.cmml"><mi id="S4.E9.1.1.2.2.2.2.2" xref="S4.E9.1.1.2.2.2.2.2.cmml">n</mi><mrow id="S4.E9.1.1.2.2.2.2.3" xref="S4.E9.1.1.2.2.2.2.3.cmml"><mi id="S4.E9.1.1.2.2.2.2.3.2" xref="S4.E9.1.1.2.2.2.2.3.2.cmml">l</mi><mo id="S4.E9.1.1.2.2.2.2.3.1" xref="S4.E9.1.1.2.2.2.2.3.1.cmml">⁢</mo><mi id="S4.E9.1.1.2.2.2.2.3.3" xref="S4.E9.1.1.2.2.2.2.3.3.cmml">i</mi><mo id="S4.E9.1.1.2.2.2.2.3.1a" xref="S4.E9.1.1.2.2.2.2.3.1.cmml">⁢</mo><mi id="S4.E9.1.1.2.2.2.2.3.4" xref="S4.E9.1.1.2.2.2.2.3.4.cmml">m</mi><mo id="S4.E9.1.1.2.2.2.2.3.1b" xref="S4.E9.1.1.2.2.2.2.3.1.cmml">⁢</mo><mi id="S4.E9.1.1.2.2.2.2.3.5" xref="S4.E9.1.1.2.2.2.2.3.5.cmml">i</mi><mo id="S4.E9.1.1.2.2.2.2.3.1c" xref="S4.E9.1.1.2.2.2.2.3.1.cmml">⁢</mo><mi id="S4.E9.1.1.2.2.2.2.3.6" xref="S4.E9.1.1.2.2.2.2.3.6.cmml">t</mi></mrow><mi id="S4.E9.1.1.2.2.2.3" xref="S4.E9.1.1.2.2.2.3.cmml">i</mi></msubsup><mo id="S4.E9.1.1.2.2.1" lspace="0.222em" rspace="0.222em" xref="S4.E9.1.1.2.2.1.cmml">∗</mo><mi id="S4.E9.1.1.2.2.3" xref="S4.E9.1.1.2.2.3.cmml">r</mi></mrow><mo id="S4.E9.1.1.2.1" xref="S4.E9.1.1.2.1.cmml">⁢</mo><mi id="S4.E9.1.1.2.3" xref="S4.E9.1.1.2.3.cmml">e</mi><mo id="S4.E9.1.1.2.1a" xref="S4.E9.1.1.2.1.cmml">⁢</mo><mi id="S4.E9.1.1.2.4" xref="S4.E9.1.1.2.4.cmml">p</mi><mo id="S4.E9.1.1.2.1b" xref="S4.E9.1.1.2.1.cmml">⁢</mo><mi id="S4.E9.1.1.2.5" xref="S4.E9.1.1.2.5.cmml">l</mi><mo id="S4.E9.1.1.2.1c" xref="S4.E9.1.1.2.1.cmml">⁢</mo><mi id="S4.E9.1.1.2.6" xref="S4.E9.1.1.2.6.cmml">i</mi><mo id="S4.E9.1.1.2.1d" xref="S4.E9.1.1.2.1.cmml">⁢</mo><mi id="S4.E9.1.1.2.7" xref="S4.E9.1.1.2.7.cmml">c</mi><mo id="S4.E9.1.1.2.1e" xref="S4.E9.1.1.2.1.cmml">⁢</mo><mi id="S4.E9.1.1.2.8" xref="S4.E9.1.1.2.8.cmml">a</mi><mo id="S4.E9.1.1.2.1f" xref="S4.E9.1.1.2.1.cmml">⁢</mo><msup id="S4.E9.1.1.2.9" xref="S4.E9.1.1.2.9.cmml"><mi id="S4.E9.1.1.2.9.2" xref="S4.E9.1.1.2.9.2.cmml">s</mi><mi id="S4.E9.1.1.2.9.3" xref="S4.E9.1.1.2.9.3.cmml">i</mi></msup></mrow></mrow></mtd><mtd id="S4.E11.m1.1.1c" xref="S4.E11.m1.1.1.cmml"><mrow id="S4.E9.2.1" xref="S4.E9.2.1.cmml"><mi id="S4.E9.2.1.2" xref="S4.E9.2.1.2.cmml"></mi><mo id="S4.E9.2.1.1" xref="S4.E9.2.1.1.cmml">≤</mo><msup id="S4.E9.2.1.3" xref="S4.E9.2.1.3.cmml"><mi id="S4.E9.2.1.3.2" xref="S4.E9.2.1.3.2.cmml">n</mi><mi id="S4.E9.2.1.3.3" xref="S4.E9.2.1.3.3.cmml">f</mi></msup></mrow></mtd></mtr><mtr id="S4.E11.m1.1.1d" xref="S4.E11.m1.1.1.cmml"><mtd id="S4.E11.m1.1.1e" xref="S4.E11.m1.1.1.cmml"><mrow id="S4.E10.1.1" xref="S4.E10.1.1.cmml"><mrow id="S4.E10.1.1.2" xref="S4.E10.1.1.2.cmml"><mrow id="S4.E10.1.1.2.2" xref="S4.E10.1.1.2.2.cmml"><mi id="S4.E10.1.1.2.2.2" xref="S4.E10.1.1.2.2.2.cmml">p</mi><mo id="S4.E10.1.1.2.2.1" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E10.1.1.2.2.3" xref="S4.E10.1.1.2.2.3.cmml">a</mi><mo id="S4.E10.1.1.2.2.1a" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E10.1.1.2.2.4" xref="S4.E10.1.1.2.2.4.cmml">r</mi><mo id="S4.E10.1.1.2.2.1b" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E10.1.1.2.2.5" xref="S4.E10.1.1.2.2.5.cmml">a</mi><mo id="S4.E10.1.1.2.2.1c" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E10.1.1.2.2.6" xref="S4.E10.1.1.2.2.6.cmml">l</mi><mo id="S4.E10.1.1.2.2.1d" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E10.1.1.2.2.7" xref="S4.E10.1.1.2.2.7.cmml">l</mi><mo id="S4.E10.1.1.2.2.1e" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E10.1.1.2.2.8" xref="S4.E10.1.1.2.2.8.cmml">a</mi><mo id="S4.E10.1.1.2.2.1f" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E10.1.1.2.2.9" xref="S4.E10.1.1.2.2.9.cmml">l</mi><mo id="S4.E10.1.1.2.2.1g" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E10.1.1.2.2.10" mathvariant="normal" xref="S4.E10.1.1.2.2.10.cmml">_</mi><mo id="S4.E10.1.1.2.2.1h" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E10.1.1.2.2.11" xref="S4.E10.1.1.2.2.11.cmml">s</mi><mo id="S4.E10.1.1.2.2.1i" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E10.1.1.2.2.12" xref="S4.E10.1.1.2.2.12.cmml">i</mi><mo id="S4.E10.1.1.2.2.1j" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E10.1.1.2.2.13" xref="S4.E10.1.1.2.2.13.cmml">z</mi><mo id="S4.E10.1.1.2.2.1k" xref="S4.E10.1.1.2.2.1.cmml">⁢</mo><msup id="S4.E10.1.1.2.2.14" xref="S4.E10.1.1.2.2.14.cmml"><mi id="S4.E10.1.1.2.2.14.2" xref="S4.E10.1.1.2.2.14.2.cmml">e</mi><mi id="S4.E10.1.1.2.2.14.3" xref="S4.E10.1.1.2.2.14.3.cmml">i</mi></msup></mrow><mo id="S4.E10.1.1.2.1" lspace="0.222em" rspace="0.222em" xref="S4.E10.1.1.2.1.cmml">∗</mo><mi id="S4.E10.1.1.2.3" xref="S4.E10.1.1.2.3.cmml">r</mi></mrow><mo id="S4.E10.1.1.1" xref="S4.E10.1.1.1.cmml">⁢</mo><mi id="S4.E10.1.1.3" xref="S4.E10.1.1.3.cmml">e</mi><mo id="S4.E10.1.1.1a" xref="S4.E10.1.1.1.cmml">⁢</mo><mi id="S4.E10.1.1.4" xref="S4.E10.1.1.4.cmml">p</mi><mo id="S4.E10.1.1.1b" xref="S4.E10.1.1.1.cmml">⁢</mo><mi id="S4.E10.1.1.5" xref="S4.E10.1.1.5.cmml">l</mi><mo id="S4.E10.1.1.1c" xref="S4.E10.1.1.1.cmml">⁢</mo><mi id="S4.E10.1.1.6" xref="S4.E10.1.1.6.cmml">i</mi><mo id="S4.E10.1.1.1d" xref="S4.E10.1.1.1.cmml">⁢</mo><mi id="S4.E10.1.1.7" xref="S4.E10.1.1.7.cmml">c</mi><mo id="S4.E10.1.1.1e" xref="S4.E10.1.1.1.cmml">⁢</mo><mi id="S4.E10.1.1.8" xref="S4.E10.1.1.8.cmml">a</mi><mo id="S4.E10.1.1.1f" xref="S4.E10.1.1.1.cmml">⁢</mo><msup id="S4.E10.1.1.9" xref="S4.E10.1.1.9.cmml"><mi id="S4.E10.1.1.9.2" xref="S4.E10.1.1.9.2.cmml">s</mi><mi id="S4.E10.1.1.9.3" xref="S4.E10.1.1.9.3.cmml">i</mi></msup></mrow></mtd><mtd id="S4.E11.m1.1.1f" xref="S4.E11.m1.1.1.cmml"><mrow id="S4.E10.2.1" xref="S4.E10.2.1.cmml"><mi id="S4.E10.2.1.2" xref="S4.E10.2.1.2.cmml"></mi><mo id="S4.E10.2.1.1" xref="S4.E10.2.1.1.cmml">≤</mo><msup id="S4.E10.2.1.3" xref="S4.E10.2.1.3.cmml"><mi id="S4.E10.2.1.3.2" xref="S4.E10.2.1.3.2.cmml">N</mi><mi id="S4.E10.2.1.3.3" xref="S4.E10.2.1.3.3.cmml">i</mi></msup></mrow></mtd></mtr></mtable><mi id="S4.E11.m1.1.2.2.2" xref="S4.E11.m1.1.2.1.1.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S4.E11.m1.1b"><apply id="S4.E11.m1.1.2.1.cmml" xref="S4.E11.m1.1.2.2"><csymbol cd="latexml" id="S4.E11.m1.1.2.1.1.cmml" xref="S4.E11.m1.1.2.2.1">cases</csymbol><matrix id="S4.E11.m1.1.1.cmml" xref="S4.E11.m1.1.1"><matrixrow id="S4.E11.m1.1.1a.cmml" xref="S4.E11.m1.1.1"><apply id="S4.E9.1.1.cmml" xref="S4.E9.1.1"><apply id="S4.E9.1.1.1.cmml" xref="S4.E9.1.1.1"><csymbol cd="ambiguous" id="S4.E9.1.1.1.1.cmml" xref="S4.E9.1.1.1">subscript</csymbol><sum id="S4.E9.1.1.1.2.cmml" xref="S4.E9.1.1.1.2"></sum><ci id="S4.E9.1.1.1.3.cmml" xref="S4.E9.1.1.1.3">𝑖</ci></apply><apply id="S4.E9.1.1.2.cmml" xref="S4.E9.1.1.2"><times id="S4.E9.1.1.2.1.cmml" xref="S4.E9.1.1.2.1"></times><apply id="S4.E9.1.1.2.2.cmml" xref="S4.E9.1.1.2.2"><times id="S4.E9.1.1.2.2.1.cmml" xref="S4.E9.1.1.2.2.1"></times><apply id="S4.E9.1.1.2.2.2.cmml" xref="S4.E9.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E9.1.1.2.2.2.1.cmml" xref="S4.E9.1.1.2.2.2">superscript</csymbol><apply id="S4.E9.1.1.2.2.2.2.cmml" xref="S4.E9.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E9.1.1.2.2.2.2.1.cmml" xref="S4.E9.1.1.2.2.2">subscript</csymbol><ci id="S4.E9.1.1.2.2.2.2.2.cmml" xref="S4.E9.1.1.2.2.2.2.2">𝑛</ci><apply id="S4.E9.1.1.2.2.2.2.3.cmml" xref="S4.E9.1.1.2.2.2.2.3"><times id="S4.E9.1.1.2.2.2.2.3.1.cmml" xref="S4.E9.1.1.2.2.2.2.3.1"></times><ci id="S4.E9.1.1.2.2.2.2.3.2.cmml" xref="S4.E9.1.1.2.2.2.2.3.2">𝑙</ci><ci id="S4.E9.1.1.2.2.2.2.3.3.cmml" xref="S4.E9.1.1.2.2.2.2.3.3">𝑖</ci><ci id="S4.E9.1.1.2.2.2.2.3.4.cmml" xref="S4.E9.1.1.2.2.2.2.3.4">𝑚</ci><ci id="S4.E9.1.1.2.2.2.2.3.5.cmml" xref="S4.E9.1.1.2.2.2.2.3.5">𝑖</ci><ci id="S4.E9.1.1.2.2.2.2.3.6.cmml" xref="S4.E9.1.1.2.2.2.2.3.6">𝑡</ci></apply></apply><ci id="S4.E9.1.1.2.2.2.3.cmml" xref="S4.E9.1.1.2.2.2.3">𝑖</ci></apply><ci id="S4.E9.1.1.2.2.3.cmml" xref="S4.E9.1.1.2.2.3">𝑟</ci></apply><ci id="S4.E9.1.1.2.3.cmml" xref="S4.E9.1.1.2.3">𝑒</ci><ci id="S4.E9.1.1.2.4.cmml" xref="S4.E9.1.1.2.4">𝑝</ci><ci id="S4.E9.1.1.2.5.cmml" xref="S4.E9.1.1.2.5">𝑙</ci><ci id="S4.E9.1.1.2.6.cmml" xref="S4.E9.1.1.2.6">𝑖</ci><ci id="S4.E9.1.1.2.7.cmml" xref="S4.E9.1.1.2.7">𝑐</ci><ci id="S4.E9.1.1.2.8.cmml" xref="S4.E9.1.1.2.8">𝑎</ci><apply id="S4.E9.1.1.2.9.cmml" xref="S4.E9.1.1.2.9"><csymbol cd="ambiguous" id="S4.E9.1.1.2.9.1.cmml" xref="S4.E9.1.1.2.9">superscript</csymbol><ci id="S4.E9.1.1.2.9.2.cmml" xref="S4.E9.1.1.2.9.2">𝑠</ci><ci id="S4.E9.1.1.2.9.3.cmml" xref="S4.E9.1.1.2.9.3">𝑖</ci></apply></apply></apply><apply id="S4.E9.2.1.cmml" xref="S4.E9.2.1"><leq id="S4.E9.2.1.1.cmml" xref="S4.E9.2.1.1"></leq><csymbol cd="latexml" id="S4.E9.2.1.2.cmml" xref="S4.E9.2.1.2">absent</csymbol><apply id="S4.E9.2.1.3.cmml" xref="S4.E9.2.1.3"><csymbol cd="ambiguous" id="S4.E9.2.1.3.1.cmml" xref="S4.E9.2.1.3">superscript</csymbol><ci id="S4.E9.2.1.3.2.cmml" xref="S4.E9.2.1.3.2">𝑛</ci><ci id="S4.E9.2.1.3.3.cmml" xref="S4.E9.2.1.3.3">𝑓</ci></apply></apply></matrixrow><matrixrow id="S4.E11.m1.1.1b.cmml" xref="S4.E11.m1.1.1"><apply id="S4.E10.1.1.cmml" xref="S4.E10.1.1"><times id="S4.E10.1.1.1.cmml" xref="S4.E10.1.1.1"></times><apply id="S4.E10.1.1.2.cmml" xref="S4.E10.1.1.2"><times id="S4.E10.1.1.2.1.cmml" xref="S4.E10.1.1.2.1"></times><apply id="S4.E10.1.1.2.2.cmml" xref="S4.E10.1.1.2.2"><times id="S4.E10.1.1.2.2.1.cmml" xref="S4.E10.1.1.2.2.1"></times><ci id="S4.E10.1.1.2.2.2.cmml" xref="S4.E10.1.1.2.2.2">𝑝</ci><ci id="S4.E10.1.1.2.2.3.cmml" xref="S4.E10.1.1.2.2.3">𝑎</ci><ci id="S4.E10.1.1.2.2.4.cmml" xref="S4.E10.1.1.2.2.4">𝑟</ci><ci id="S4.E10.1.1.2.2.5.cmml" xref="S4.E10.1.1.2.2.5">𝑎</ci><ci id="S4.E10.1.1.2.2.6.cmml" xref="S4.E10.1.1.2.2.6">𝑙</ci><ci id="S4.E10.1.1.2.2.7.cmml" xref="S4.E10.1.1.2.2.7">𝑙</ci><ci id="S4.E10.1.1.2.2.8.cmml" xref="S4.E10.1.1.2.2.8">𝑎</ci><ci id="S4.E10.1.1.2.2.9.cmml" xref="S4.E10.1.1.2.2.9">𝑙</ci><ci id="S4.E10.1.1.2.2.10.cmml" xref="S4.E10.1.1.2.2.10">_</ci><ci id="S4.E10.1.1.2.2.11.cmml" xref="S4.E10.1.1.2.2.11">𝑠</ci><ci id="S4.E10.1.1.2.2.12.cmml" xref="S4.E10.1.1.2.2.12">𝑖</ci><ci id="S4.E10.1.1.2.2.13.cmml" xref="S4.E10.1.1.2.2.13">𝑧</ci><apply id="S4.E10.1.1.2.2.14.cmml" xref="S4.E10.1.1.2.2.14"><csymbol cd="ambiguous" id="S4.E10.1.1.2.2.14.1.cmml" xref="S4.E10.1.1.2.2.14">superscript</csymbol><ci id="S4.E10.1.1.2.2.14.2.cmml" xref="S4.E10.1.1.2.2.14.2">𝑒</ci><ci id="S4.E10.1.1.2.2.14.3.cmml" xref="S4.E10.1.1.2.2.14.3">𝑖</ci></apply></apply><ci id="S4.E10.1.1.2.3.cmml" xref="S4.E10.1.1.2.3">𝑟</ci></apply><ci id="S4.E10.1.1.3.cmml" xref="S4.E10.1.1.3">𝑒</ci><ci id="S4.E10.1.1.4.cmml" xref="S4.E10.1.1.4">𝑝</ci><ci id="S4.E10.1.1.5.cmml" xref="S4.E10.1.1.5">𝑙</ci><ci id="S4.E10.1.1.6.cmml" xref="S4.E10.1.1.6">𝑖</ci><ci id="S4.E10.1.1.7.cmml" xref="S4.E10.1.1.7">𝑐</ci><ci id="S4.E10.1.1.8.cmml" xref="S4.E10.1.1.8">𝑎</ci><apply id="S4.E10.1.1.9.cmml" xref="S4.E10.1.1.9"><csymbol cd="ambiguous" id="S4.E10.1.1.9.1.cmml" xref="S4.E10.1.1.9">superscript</csymbol><ci id="S4.E10.1.1.9.2.cmml" xref="S4.E10.1.1.9.2">𝑠</ci><ci id="S4.E10.1.1.9.3.cmml" xref="S4.E10.1.1.9.3">𝑖</ci></apply></apply><apply id="S4.E10.2.1.cmml" xref="S4.E10.2.1"><leq id="S4.E10.2.1.1.cmml" xref="S4.E10.2.1.1"></leq><csymbol cd="latexml" id="S4.E10.2.1.2.cmml" xref="S4.E10.2.1.2">absent</csymbol><apply id="S4.E10.2.1.3.cmml" xref="S4.E10.2.1.3"><csymbol cd="ambiguous" id="S4.E10.2.1.3.1.cmml" xref="S4.E10.2.1.3">superscript</csymbol><ci id="S4.E10.2.1.3.2.cmml" xref="S4.E10.2.1.3.2">𝑁</ci><ci id="S4.E10.2.1.3.3.cmml" xref="S4.E10.2.1.3.3">𝑖</ci></apply></apply></matrixrow></matrix></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E11.m1.1c">\displaystyle\left\{\begin{array}[]{cc}\sum_{i}n_{limit}^{i}*replicas^{i}&amp;\leq
n%
^{f}\\
parallal\_size^{i}*replicas^{i}&amp;\leq N^{i}\end{array}\right.</annotation><annotation encoding="application/x-llamapun" id="S4.E11.m1.1d">{ start_ARRAY start_ROW start_CELL ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ∗ italic_r italic_e italic_p italic_l italic_i italic_c italic_a italic_s start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT end_CELL start_CELL ≤ italic_n start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT end_CELL end_ROW start_ROW start_CELL italic_p italic_a italic_r italic_a italic_l italic_l italic_a italic_l _ italic_s italic_i italic_z italic_e start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ∗ italic_r italic_e italic_p italic_l italic_i italic_c italic_a italic_s start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT end_CELL start_CELL ≤ italic_N start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT end_CELL end_ROW end_ARRAY</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS1.SSS4.p2.15">where <math alttext="score^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.2.m1.1"><semantics id="S4.SS1.SSS4.p2.2.m1.1a"><mrow id="S4.SS1.SSS4.p2.2.m1.1.1" xref="S4.SS1.SSS4.p2.2.m1.1.1.cmml"><mi id="S4.SS1.SSS4.p2.2.m1.1.1.2" xref="S4.SS1.SSS4.p2.2.m1.1.1.2.cmml">s</mi><mo id="S4.SS1.SSS4.p2.2.m1.1.1.1" xref="S4.SS1.SSS4.p2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.2.m1.1.1.3" xref="S4.SS1.SSS4.p2.2.m1.1.1.3.cmml">c</mi><mo id="S4.SS1.SSS4.p2.2.m1.1.1.1a" xref="S4.SS1.SSS4.p2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.2.m1.1.1.4" xref="S4.SS1.SSS4.p2.2.m1.1.1.4.cmml">o</mi><mo id="S4.SS1.SSS4.p2.2.m1.1.1.1b" xref="S4.SS1.SSS4.p2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.2.m1.1.1.5" xref="S4.SS1.SSS4.p2.2.m1.1.1.5.cmml">r</mi><mo id="S4.SS1.SSS4.p2.2.m1.1.1.1c" xref="S4.SS1.SSS4.p2.2.m1.1.1.1.cmml">⁢</mo><msup id="S4.SS1.SSS4.p2.2.m1.1.1.6" xref="S4.SS1.SSS4.p2.2.m1.1.1.6.cmml"><mi id="S4.SS1.SSS4.p2.2.m1.1.1.6.2" xref="S4.SS1.SSS4.p2.2.m1.1.1.6.2.cmml">e</mi><mi id="S4.SS1.SSS4.p2.2.m1.1.1.6.3" xref="S4.SS1.SSS4.p2.2.m1.1.1.6.3.cmml">i</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.2.m1.1b"><apply id="S4.SS1.SSS4.p2.2.m1.1.1.cmml" xref="S4.SS1.SSS4.p2.2.m1.1.1"><times id="S4.SS1.SSS4.p2.2.m1.1.1.1.cmml" xref="S4.SS1.SSS4.p2.2.m1.1.1.1"></times><ci id="S4.SS1.SSS4.p2.2.m1.1.1.2.cmml" xref="S4.SS1.SSS4.p2.2.m1.1.1.2">𝑠</ci><ci id="S4.SS1.SSS4.p2.2.m1.1.1.3.cmml" xref="S4.SS1.SSS4.p2.2.m1.1.1.3">𝑐</ci><ci id="S4.SS1.SSS4.p2.2.m1.1.1.4.cmml" xref="S4.SS1.SSS4.p2.2.m1.1.1.4">𝑜</ci><ci id="S4.SS1.SSS4.p2.2.m1.1.1.5.cmml" xref="S4.SS1.SSS4.p2.2.m1.1.1.5">𝑟</ci><apply id="S4.SS1.SSS4.p2.2.m1.1.1.6.cmml" xref="S4.SS1.SSS4.p2.2.m1.1.1.6"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.2.m1.1.1.6.1.cmml" xref="S4.SS1.SSS4.p2.2.m1.1.1.6">superscript</csymbol><ci id="S4.SS1.SSS4.p2.2.m1.1.1.6.2.cmml" xref="S4.SS1.SSS4.p2.2.m1.1.1.6.2">𝑒</ci><ci id="S4.SS1.SSS4.p2.2.m1.1.1.6.3.cmml" xref="S4.SS1.SSS4.p2.2.m1.1.1.6.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.2.m1.1c">score^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.2.m1.1d">italic_s italic_c italic_o italic_r italic_e start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math> represents the matching score of LLM services deployed on <math alttext="GPU^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.3.m2.1"><semantics id="S4.SS1.SSS4.p2.3.m2.1a"><mrow id="S4.SS1.SSS4.p2.3.m2.1.1" xref="S4.SS1.SSS4.p2.3.m2.1.1.cmml"><mi id="S4.SS1.SSS4.p2.3.m2.1.1.2" xref="S4.SS1.SSS4.p2.3.m2.1.1.2.cmml">G</mi><mo id="S4.SS1.SSS4.p2.3.m2.1.1.1" xref="S4.SS1.SSS4.p2.3.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.3.m2.1.1.3" xref="S4.SS1.SSS4.p2.3.m2.1.1.3.cmml">P</mi><mo id="S4.SS1.SSS4.p2.3.m2.1.1.1a" xref="S4.SS1.SSS4.p2.3.m2.1.1.1.cmml">⁢</mo><msup id="S4.SS1.SSS4.p2.3.m2.1.1.4" xref="S4.SS1.SSS4.p2.3.m2.1.1.4.cmml"><mi id="S4.SS1.SSS4.p2.3.m2.1.1.4.2" xref="S4.SS1.SSS4.p2.3.m2.1.1.4.2.cmml">U</mi><mi id="S4.SS1.SSS4.p2.3.m2.1.1.4.3" xref="S4.SS1.SSS4.p2.3.m2.1.1.4.3.cmml">i</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.3.m2.1b"><apply id="S4.SS1.SSS4.p2.3.m2.1.1.cmml" xref="S4.SS1.SSS4.p2.3.m2.1.1"><times id="S4.SS1.SSS4.p2.3.m2.1.1.1.cmml" xref="S4.SS1.SSS4.p2.3.m2.1.1.1"></times><ci id="S4.SS1.SSS4.p2.3.m2.1.1.2.cmml" xref="S4.SS1.SSS4.p2.3.m2.1.1.2">𝐺</ci><ci id="S4.SS1.SSS4.p2.3.m2.1.1.3.cmml" xref="S4.SS1.SSS4.p2.3.m2.1.1.3">𝑃</ci><apply id="S4.SS1.SSS4.p2.3.m2.1.1.4.cmml" xref="S4.SS1.SSS4.p2.3.m2.1.1.4"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.3.m2.1.1.4.1.cmml" xref="S4.SS1.SSS4.p2.3.m2.1.1.4">superscript</csymbol><ci id="S4.SS1.SSS4.p2.3.m2.1.1.4.2.cmml" xref="S4.SS1.SSS4.p2.3.m2.1.1.4.2">𝑈</ci><ci id="S4.SS1.SSS4.p2.3.m2.1.1.4.3.cmml" xref="S4.SS1.SSS4.p2.3.m2.1.1.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.3.m2.1c">GPU^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.3.m2.1d">italic_G italic_P italic_U start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math>; <math alttext="replicas^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.4.m3.1"><semantics id="S4.SS1.SSS4.p2.4.m3.1a"><mrow id="S4.SS1.SSS4.p2.4.m3.1.1" xref="S4.SS1.SSS4.p2.4.m3.1.1.cmml"><mi id="S4.SS1.SSS4.p2.4.m3.1.1.2" xref="S4.SS1.SSS4.p2.4.m3.1.1.2.cmml">r</mi><mo id="S4.SS1.SSS4.p2.4.m3.1.1.1" xref="S4.SS1.SSS4.p2.4.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.4.m3.1.1.3" xref="S4.SS1.SSS4.p2.4.m3.1.1.3.cmml">e</mi><mo id="S4.SS1.SSS4.p2.4.m3.1.1.1a" xref="S4.SS1.SSS4.p2.4.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.4.m3.1.1.4" xref="S4.SS1.SSS4.p2.4.m3.1.1.4.cmml">p</mi><mo id="S4.SS1.SSS4.p2.4.m3.1.1.1b" xref="S4.SS1.SSS4.p2.4.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.4.m3.1.1.5" xref="S4.SS1.SSS4.p2.4.m3.1.1.5.cmml">l</mi><mo id="S4.SS1.SSS4.p2.4.m3.1.1.1c" xref="S4.SS1.SSS4.p2.4.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.4.m3.1.1.6" xref="S4.SS1.SSS4.p2.4.m3.1.1.6.cmml">i</mi><mo id="S4.SS1.SSS4.p2.4.m3.1.1.1d" xref="S4.SS1.SSS4.p2.4.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.4.m3.1.1.7" xref="S4.SS1.SSS4.p2.4.m3.1.1.7.cmml">c</mi><mo id="S4.SS1.SSS4.p2.4.m3.1.1.1e" xref="S4.SS1.SSS4.p2.4.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.4.m3.1.1.8" xref="S4.SS1.SSS4.p2.4.m3.1.1.8.cmml">a</mi><mo id="S4.SS1.SSS4.p2.4.m3.1.1.1f" xref="S4.SS1.SSS4.p2.4.m3.1.1.1.cmml">⁢</mo><msup id="S4.SS1.SSS4.p2.4.m3.1.1.9" xref="S4.SS1.SSS4.p2.4.m3.1.1.9.cmml"><mi id="S4.SS1.SSS4.p2.4.m3.1.1.9.2" xref="S4.SS1.SSS4.p2.4.m3.1.1.9.2.cmml">s</mi><mi id="S4.SS1.SSS4.p2.4.m3.1.1.9.3" xref="S4.SS1.SSS4.p2.4.m3.1.1.9.3.cmml">i</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.4.m3.1b"><apply id="S4.SS1.SSS4.p2.4.m3.1.1.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1"><times id="S4.SS1.SSS4.p2.4.m3.1.1.1.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.1"></times><ci id="S4.SS1.SSS4.p2.4.m3.1.1.2.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.2">𝑟</ci><ci id="S4.SS1.SSS4.p2.4.m3.1.1.3.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.3">𝑒</ci><ci id="S4.SS1.SSS4.p2.4.m3.1.1.4.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.4">𝑝</ci><ci id="S4.SS1.SSS4.p2.4.m3.1.1.5.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.5">𝑙</ci><ci id="S4.SS1.SSS4.p2.4.m3.1.1.6.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.6">𝑖</ci><ci id="S4.SS1.SSS4.p2.4.m3.1.1.7.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.7">𝑐</ci><ci id="S4.SS1.SSS4.p2.4.m3.1.1.8.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.8">𝑎</ci><apply id="S4.SS1.SSS4.p2.4.m3.1.1.9.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.9"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.4.m3.1.1.9.1.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.9">superscript</csymbol><ci id="S4.SS1.SSS4.p2.4.m3.1.1.9.2.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.9.2">𝑠</ci><ci id="S4.SS1.SSS4.p2.4.m3.1.1.9.3.cmml" xref="S4.SS1.SSS4.p2.4.m3.1.1.9.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.4.m3.1c">replicas^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.4.m3.1d">italic_r italic_e italic_p italic_l italic_i italic_c italic_a italic_s start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math> denotes the number of replicas of LLM services deployed on <math alttext="GPU^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.5.m4.1"><semantics id="S4.SS1.SSS4.p2.5.m4.1a"><mrow id="S4.SS1.SSS4.p2.5.m4.1.1" xref="S4.SS1.SSS4.p2.5.m4.1.1.cmml"><mi id="S4.SS1.SSS4.p2.5.m4.1.1.2" xref="S4.SS1.SSS4.p2.5.m4.1.1.2.cmml">G</mi><mo id="S4.SS1.SSS4.p2.5.m4.1.1.1" xref="S4.SS1.SSS4.p2.5.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.5.m4.1.1.3" xref="S4.SS1.SSS4.p2.5.m4.1.1.3.cmml">P</mi><mo id="S4.SS1.SSS4.p2.5.m4.1.1.1a" xref="S4.SS1.SSS4.p2.5.m4.1.1.1.cmml">⁢</mo><msup id="S4.SS1.SSS4.p2.5.m4.1.1.4" xref="S4.SS1.SSS4.p2.5.m4.1.1.4.cmml"><mi id="S4.SS1.SSS4.p2.5.m4.1.1.4.2" xref="S4.SS1.SSS4.p2.5.m4.1.1.4.2.cmml">U</mi><mi id="S4.SS1.SSS4.p2.5.m4.1.1.4.3" xref="S4.SS1.SSS4.p2.5.m4.1.1.4.3.cmml">i</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.5.m4.1b"><apply id="S4.SS1.SSS4.p2.5.m4.1.1.cmml" xref="S4.SS1.SSS4.p2.5.m4.1.1"><times id="S4.SS1.SSS4.p2.5.m4.1.1.1.cmml" xref="S4.SS1.SSS4.p2.5.m4.1.1.1"></times><ci id="S4.SS1.SSS4.p2.5.m4.1.1.2.cmml" xref="S4.SS1.SSS4.p2.5.m4.1.1.2">𝐺</ci><ci id="S4.SS1.SSS4.p2.5.m4.1.1.3.cmml" xref="S4.SS1.SSS4.p2.5.m4.1.1.3">𝑃</ci><apply id="S4.SS1.SSS4.p2.5.m4.1.1.4.cmml" xref="S4.SS1.SSS4.p2.5.m4.1.1.4"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.5.m4.1.1.4.1.cmml" xref="S4.SS1.SSS4.p2.5.m4.1.1.4">superscript</csymbol><ci id="S4.SS1.SSS4.p2.5.m4.1.1.4.2.cmml" xref="S4.SS1.SSS4.p2.5.m4.1.1.4.2">𝑈</ci><ci id="S4.SS1.SSS4.p2.5.m4.1.1.4.3.cmml" xref="S4.SS1.SSS4.p2.5.m4.1.1.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.5.m4.1c">GPU^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.5.m4.1d">italic_G italic_P italic_U start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math>; <math alttext="n_{limit}^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.6.m5.1"><semantics id="S4.SS1.SSS4.p2.6.m5.1a"><msubsup id="S4.SS1.SSS4.p2.6.m5.1.1" xref="S4.SS1.SSS4.p2.6.m5.1.1.cmml"><mi id="S4.SS1.SSS4.p2.6.m5.1.1.2.2" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.2.cmml">n</mi><mrow id="S4.SS1.SSS4.p2.6.m5.1.1.2.3" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.cmml"><mi id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.2" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.2.cmml">l</mi><mo id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.1" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.3" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.3.cmml">i</mi><mo id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.1a" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.4" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.4.cmml">m</mi><mo id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.1b" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.5" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.5.cmml">i</mi><mo id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.1c" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.6" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.6.cmml">t</mi></mrow><mi id="S4.SS1.SSS4.p2.6.m5.1.1.3" xref="S4.SS1.SSS4.p2.6.m5.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.6.m5.1b"><apply id="S4.SS1.SSS4.p2.6.m5.1.1.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.6.m5.1.1.1.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1">superscript</csymbol><apply id="S4.SS1.SSS4.p2.6.m5.1.1.2.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.6.m5.1.1.2.1.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1">subscript</csymbol><ci id="S4.SS1.SSS4.p2.6.m5.1.1.2.2.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.2">𝑛</ci><apply id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3"><times id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.1.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.1"></times><ci id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.2.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.2">𝑙</ci><ci id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.3.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.3">𝑖</ci><ci id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.4.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.4">𝑚</ci><ci id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.5.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.5">𝑖</ci><ci id="S4.SS1.SSS4.p2.6.m5.1.1.2.3.6.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1.2.3.6">𝑡</ci></apply></apply><ci id="S4.SS1.SSS4.p2.6.m5.1.1.3.cmml" xref="S4.SS1.SSS4.p2.6.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.6.m5.1c">n_{limit}^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.6.m5.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math> specifies the maximal number of requests per second that can be processed by LLM services on <math alttext="GPU^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.7.m6.1"><semantics id="S4.SS1.SSS4.p2.7.m6.1a"><mrow id="S4.SS1.SSS4.p2.7.m6.1.1" xref="S4.SS1.SSS4.p2.7.m6.1.1.cmml"><mi id="S4.SS1.SSS4.p2.7.m6.1.1.2" xref="S4.SS1.SSS4.p2.7.m6.1.1.2.cmml">G</mi><mo id="S4.SS1.SSS4.p2.7.m6.1.1.1" xref="S4.SS1.SSS4.p2.7.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.7.m6.1.1.3" xref="S4.SS1.SSS4.p2.7.m6.1.1.3.cmml">P</mi><mo id="S4.SS1.SSS4.p2.7.m6.1.1.1a" xref="S4.SS1.SSS4.p2.7.m6.1.1.1.cmml">⁢</mo><msup id="S4.SS1.SSS4.p2.7.m6.1.1.4" xref="S4.SS1.SSS4.p2.7.m6.1.1.4.cmml"><mi id="S4.SS1.SSS4.p2.7.m6.1.1.4.2" xref="S4.SS1.SSS4.p2.7.m6.1.1.4.2.cmml">U</mi><mi id="S4.SS1.SSS4.p2.7.m6.1.1.4.3" xref="S4.SS1.SSS4.p2.7.m6.1.1.4.3.cmml">i</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.7.m6.1b"><apply id="S4.SS1.SSS4.p2.7.m6.1.1.cmml" xref="S4.SS1.SSS4.p2.7.m6.1.1"><times id="S4.SS1.SSS4.p2.7.m6.1.1.1.cmml" xref="S4.SS1.SSS4.p2.7.m6.1.1.1"></times><ci id="S4.SS1.SSS4.p2.7.m6.1.1.2.cmml" xref="S4.SS1.SSS4.p2.7.m6.1.1.2">𝐺</ci><ci id="S4.SS1.SSS4.p2.7.m6.1.1.3.cmml" xref="S4.SS1.SSS4.p2.7.m6.1.1.3">𝑃</ci><apply id="S4.SS1.SSS4.p2.7.m6.1.1.4.cmml" xref="S4.SS1.SSS4.p2.7.m6.1.1.4"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.7.m6.1.1.4.1.cmml" xref="S4.SS1.SSS4.p2.7.m6.1.1.4">superscript</csymbol><ci id="S4.SS1.SSS4.p2.7.m6.1.1.4.2.cmml" xref="S4.SS1.SSS4.p2.7.m6.1.1.4.2">𝑈</ci><ci id="S4.SS1.SSS4.p2.7.m6.1.1.4.3.cmml" xref="S4.SS1.SSS4.p2.7.m6.1.1.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.7.m6.1c">GPU^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.7.m6.1d">italic_G italic_P italic_U start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math>; <math alttext="parallal\_size^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.8.m7.1"><semantics id="S4.SS1.SSS4.p2.8.m7.1a"><mrow id="S4.SS1.SSS4.p2.8.m7.1.1" xref="S4.SS1.SSS4.p2.8.m7.1.1.cmml"><mi id="S4.SS1.SSS4.p2.8.m7.1.1.2" xref="S4.SS1.SSS4.p2.8.m7.1.1.2.cmml">p</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.8.m7.1.1.3" xref="S4.SS1.SSS4.p2.8.m7.1.1.3.cmml">a</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1a" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.8.m7.1.1.4" xref="S4.SS1.SSS4.p2.8.m7.1.1.4.cmml">r</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1b" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.8.m7.1.1.5" xref="S4.SS1.SSS4.p2.8.m7.1.1.5.cmml">a</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1c" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.8.m7.1.1.6" xref="S4.SS1.SSS4.p2.8.m7.1.1.6.cmml">l</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1d" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.8.m7.1.1.7" xref="S4.SS1.SSS4.p2.8.m7.1.1.7.cmml">l</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1e" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.8.m7.1.1.8" xref="S4.SS1.SSS4.p2.8.m7.1.1.8.cmml">a</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1f" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.8.m7.1.1.9" xref="S4.SS1.SSS4.p2.8.m7.1.1.9.cmml">l</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1g" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.8.m7.1.1.10" mathvariant="normal" xref="S4.SS1.SSS4.p2.8.m7.1.1.10.cmml">_</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1h" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.8.m7.1.1.11" xref="S4.SS1.SSS4.p2.8.m7.1.1.11.cmml">s</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1i" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.8.m7.1.1.12" xref="S4.SS1.SSS4.p2.8.m7.1.1.12.cmml">i</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1j" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.8.m7.1.1.13" xref="S4.SS1.SSS4.p2.8.m7.1.1.13.cmml">z</mi><mo id="S4.SS1.SSS4.p2.8.m7.1.1.1k" xref="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml">⁢</mo><msup id="S4.SS1.SSS4.p2.8.m7.1.1.14" xref="S4.SS1.SSS4.p2.8.m7.1.1.14.cmml"><mi id="S4.SS1.SSS4.p2.8.m7.1.1.14.2" xref="S4.SS1.SSS4.p2.8.m7.1.1.14.2.cmml">e</mi><mi id="S4.SS1.SSS4.p2.8.m7.1.1.14.3" xref="S4.SS1.SSS4.p2.8.m7.1.1.14.3.cmml">i</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.8.m7.1b"><apply id="S4.SS1.SSS4.p2.8.m7.1.1.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1"><times id="S4.SS1.SSS4.p2.8.m7.1.1.1.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.1"></times><ci id="S4.SS1.SSS4.p2.8.m7.1.1.2.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.2">𝑝</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.3.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.3">𝑎</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.4.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.4">𝑟</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.5.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.5">𝑎</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.6.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.6">𝑙</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.7.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.7">𝑙</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.8.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.8">𝑎</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.9.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.9">𝑙</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.10.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.10">_</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.11.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.11">𝑠</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.12.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.12">𝑖</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.13.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.13">𝑧</ci><apply id="S4.SS1.SSS4.p2.8.m7.1.1.14.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.14"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.8.m7.1.1.14.1.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.14">superscript</csymbol><ci id="S4.SS1.SSS4.p2.8.m7.1.1.14.2.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.14.2">𝑒</ci><ci id="S4.SS1.SSS4.p2.8.m7.1.1.14.3.cmml" xref="S4.SS1.SSS4.p2.8.m7.1.1.14.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.8.m7.1c">parallal\_size^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.8.m7.1d">italic_p italic_a italic_r italic_a italic_l italic_l italic_a italic_l _ italic_s italic_i italic_z italic_e start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math> indicates the designated parallel size for LLM service deployed on <math alttext="GPU^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.9.m8.1"><semantics id="S4.SS1.SSS4.p2.9.m8.1a"><mrow id="S4.SS1.SSS4.p2.9.m8.1.1" xref="S4.SS1.SSS4.p2.9.m8.1.1.cmml"><mi id="S4.SS1.SSS4.p2.9.m8.1.1.2" xref="S4.SS1.SSS4.p2.9.m8.1.1.2.cmml">G</mi><mo id="S4.SS1.SSS4.p2.9.m8.1.1.1" xref="S4.SS1.SSS4.p2.9.m8.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.9.m8.1.1.3" xref="S4.SS1.SSS4.p2.9.m8.1.1.3.cmml">P</mi><mo id="S4.SS1.SSS4.p2.9.m8.1.1.1a" xref="S4.SS1.SSS4.p2.9.m8.1.1.1.cmml">⁢</mo><msup id="S4.SS1.SSS4.p2.9.m8.1.1.4" xref="S4.SS1.SSS4.p2.9.m8.1.1.4.cmml"><mi id="S4.SS1.SSS4.p2.9.m8.1.1.4.2" xref="S4.SS1.SSS4.p2.9.m8.1.1.4.2.cmml">U</mi><mi id="S4.SS1.SSS4.p2.9.m8.1.1.4.3" xref="S4.SS1.SSS4.p2.9.m8.1.1.4.3.cmml">i</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.9.m8.1b"><apply id="S4.SS1.SSS4.p2.9.m8.1.1.cmml" xref="S4.SS1.SSS4.p2.9.m8.1.1"><times id="S4.SS1.SSS4.p2.9.m8.1.1.1.cmml" xref="S4.SS1.SSS4.p2.9.m8.1.1.1"></times><ci id="S4.SS1.SSS4.p2.9.m8.1.1.2.cmml" xref="S4.SS1.SSS4.p2.9.m8.1.1.2">𝐺</ci><ci id="S4.SS1.SSS4.p2.9.m8.1.1.3.cmml" xref="S4.SS1.SSS4.p2.9.m8.1.1.3">𝑃</ci><apply id="S4.SS1.SSS4.p2.9.m8.1.1.4.cmml" xref="S4.SS1.SSS4.p2.9.m8.1.1.4"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.9.m8.1.1.4.1.cmml" xref="S4.SS1.SSS4.p2.9.m8.1.1.4">superscript</csymbol><ci id="S4.SS1.SSS4.p2.9.m8.1.1.4.2.cmml" xref="S4.SS1.SSS4.p2.9.m8.1.1.4.2">𝑈</ci><ci id="S4.SS1.SSS4.p2.9.m8.1.1.4.3.cmml" xref="S4.SS1.SSS4.p2.9.m8.1.1.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.9.m8.1c">GPU^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.9.m8.1d">italic_G italic_P italic_U start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math>; and <math alttext="N_{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.10.m9.1"><semantics id="S4.SS1.SSS4.p2.10.m9.1a"><msub id="S4.SS1.SSS4.p2.10.m9.1.1" xref="S4.SS1.SSS4.p2.10.m9.1.1.cmml"><mi id="S4.SS1.SSS4.p2.10.m9.1.1.2" xref="S4.SS1.SSS4.p2.10.m9.1.1.2.cmml">N</mi><mi id="S4.SS1.SSS4.p2.10.m9.1.1.3" xref="S4.SS1.SSS4.p2.10.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.10.m9.1b"><apply id="S4.SS1.SSS4.p2.10.m9.1.1.cmml" xref="S4.SS1.SSS4.p2.10.m9.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.10.m9.1.1.1.cmml" xref="S4.SS1.SSS4.p2.10.m9.1.1">subscript</csymbol><ci id="S4.SS1.SSS4.p2.10.m9.1.1.2.cmml" xref="S4.SS1.SSS4.p2.10.m9.1.1.2">𝑁</ci><ci id="S4.SS1.SSS4.p2.10.m9.1.1.3.cmml" xref="S4.SS1.SSS4.p2.10.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.10.m9.1c">N_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.10.m9.1d">italic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is the total number of GPU devices of <math alttext="GPU^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.11.m10.1"><semantics id="S4.SS1.SSS4.p2.11.m10.1a"><mrow id="S4.SS1.SSS4.p2.11.m10.1.1" xref="S4.SS1.SSS4.p2.11.m10.1.1.cmml"><mi id="S4.SS1.SSS4.p2.11.m10.1.1.2" xref="S4.SS1.SSS4.p2.11.m10.1.1.2.cmml">G</mi><mo id="S4.SS1.SSS4.p2.11.m10.1.1.1" xref="S4.SS1.SSS4.p2.11.m10.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.11.m10.1.1.3" xref="S4.SS1.SSS4.p2.11.m10.1.1.3.cmml">P</mi><mo id="S4.SS1.SSS4.p2.11.m10.1.1.1a" xref="S4.SS1.SSS4.p2.11.m10.1.1.1.cmml">⁢</mo><msup id="S4.SS1.SSS4.p2.11.m10.1.1.4" xref="S4.SS1.SSS4.p2.11.m10.1.1.4.cmml"><mi id="S4.SS1.SSS4.p2.11.m10.1.1.4.2" xref="S4.SS1.SSS4.p2.11.m10.1.1.4.2.cmml">U</mi><mi id="S4.SS1.SSS4.p2.11.m10.1.1.4.3" xref="S4.SS1.SSS4.p2.11.m10.1.1.4.3.cmml">i</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.11.m10.1b"><apply id="S4.SS1.SSS4.p2.11.m10.1.1.cmml" xref="S4.SS1.SSS4.p2.11.m10.1.1"><times id="S4.SS1.SSS4.p2.11.m10.1.1.1.cmml" xref="S4.SS1.SSS4.p2.11.m10.1.1.1"></times><ci id="S4.SS1.SSS4.p2.11.m10.1.1.2.cmml" xref="S4.SS1.SSS4.p2.11.m10.1.1.2">𝐺</ci><ci id="S4.SS1.SSS4.p2.11.m10.1.1.3.cmml" xref="S4.SS1.SSS4.p2.11.m10.1.1.3">𝑃</ci><apply id="S4.SS1.SSS4.p2.11.m10.1.1.4.cmml" xref="S4.SS1.SSS4.p2.11.m10.1.1.4"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.11.m10.1.1.4.1.cmml" xref="S4.SS1.SSS4.p2.11.m10.1.1.4">superscript</csymbol><ci id="S4.SS1.SSS4.p2.11.m10.1.1.4.2.cmml" xref="S4.SS1.SSS4.p2.11.m10.1.1.4.2">𝑈</ci><ci id="S4.SS1.SSS4.p2.11.m10.1.1.4.3.cmml" xref="S4.SS1.SSS4.p2.11.m10.1.1.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.11.m10.1c">GPU^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.11.m10.1d">italic_G italic_P italic_U start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math>. The matching score is calculated based on the difference between the required <math alttext="gpu\_memory" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.12.m11.1"><semantics id="S4.SS1.SSS4.p2.12.m11.1a"><mrow id="S4.SS1.SSS4.p2.12.m11.1.1" xref="S4.SS1.SSS4.p2.12.m11.1.1.cmml"><mi id="S4.SS1.SSS4.p2.12.m11.1.1.2" xref="S4.SS1.SSS4.p2.12.m11.1.1.2.cmml">g</mi><mo id="S4.SS1.SSS4.p2.12.m11.1.1.1" xref="S4.SS1.SSS4.p2.12.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.12.m11.1.1.3" xref="S4.SS1.SSS4.p2.12.m11.1.1.3.cmml">p</mi><mo id="S4.SS1.SSS4.p2.12.m11.1.1.1a" xref="S4.SS1.SSS4.p2.12.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.12.m11.1.1.4" xref="S4.SS1.SSS4.p2.12.m11.1.1.4.cmml">u</mi><mo id="S4.SS1.SSS4.p2.12.m11.1.1.1b" xref="S4.SS1.SSS4.p2.12.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.12.m11.1.1.5" mathvariant="normal" xref="S4.SS1.SSS4.p2.12.m11.1.1.5.cmml">_</mi><mo id="S4.SS1.SSS4.p2.12.m11.1.1.1c" xref="S4.SS1.SSS4.p2.12.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.12.m11.1.1.6" xref="S4.SS1.SSS4.p2.12.m11.1.1.6.cmml">m</mi><mo id="S4.SS1.SSS4.p2.12.m11.1.1.1d" xref="S4.SS1.SSS4.p2.12.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.12.m11.1.1.7" xref="S4.SS1.SSS4.p2.12.m11.1.1.7.cmml">e</mi><mo id="S4.SS1.SSS4.p2.12.m11.1.1.1e" xref="S4.SS1.SSS4.p2.12.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.12.m11.1.1.8" xref="S4.SS1.SSS4.p2.12.m11.1.1.8.cmml">m</mi><mo id="S4.SS1.SSS4.p2.12.m11.1.1.1f" xref="S4.SS1.SSS4.p2.12.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.12.m11.1.1.9" xref="S4.SS1.SSS4.p2.12.m11.1.1.9.cmml">o</mi><mo id="S4.SS1.SSS4.p2.12.m11.1.1.1g" xref="S4.SS1.SSS4.p2.12.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.12.m11.1.1.10" xref="S4.SS1.SSS4.p2.12.m11.1.1.10.cmml">r</mi><mo id="S4.SS1.SSS4.p2.12.m11.1.1.1h" xref="S4.SS1.SSS4.p2.12.m11.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.12.m11.1.1.11" xref="S4.SS1.SSS4.p2.12.m11.1.1.11.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.12.m11.1b"><apply id="S4.SS1.SSS4.p2.12.m11.1.1.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1"><times id="S4.SS1.SSS4.p2.12.m11.1.1.1.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1.1"></times><ci id="S4.SS1.SSS4.p2.12.m11.1.1.2.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1.2">𝑔</ci><ci id="S4.SS1.SSS4.p2.12.m11.1.1.3.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1.3">𝑝</ci><ci id="S4.SS1.SSS4.p2.12.m11.1.1.4.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1.4">𝑢</ci><ci id="S4.SS1.SSS4.p2.12.m11.1.1.5.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1.5">_</ci><ci id="S4.SS1.SSS4.p2.12.m11.1.1.6.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1.6">𝑚</ci><ci id="S4.SS1.SSS4.p2.12.m11.1.1.7.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1.7">𝑒</ci><ci id="S4.SS1.SSS4.p2.12.m11.1.1.8.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1.8">𝑚</ci><ci id="S4.SS1.SSS4.p2.12.m11.1.1.9.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1.9">𝑜</ci><ci id="S4.SS1.SSS4.p2.12.m11.1.1.10.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1.10">𝑟</ci><ci id="S4.SS1.SSS4.p2.12.m11.1.1.11.cmml" xref="S4.SS1.SSS4.p2.12.m11.1.1.11">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.12.m11.1c">gpu\_memory</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.12.m11.1d">italic_g italic_p italic_u _ italic_m italic_e italic_m italic_o italic_r italic_y</annotation></semantics></math> and the total memory of <math alttext="GPU^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.13.m12.1"><semantics id="S4.SS1.SSS4.p2.13.m12.1a"><mrow id="S4.SS1.SSS4.p2.13.m12.1.1" xref="S4.SS1.SSS4.p2.13.m12.1.1.cmml"><mi id="S4.SS1.SSS4.p2.13.m12.1.1.2" xref="S4.SS1.SSS4.p2.13.m12.1.1.2.cmml">G</mi><mo id="S4.SS1.SSS4.p2.13.m12.1.1.1" xref="S4.SS1.SSS4.p2.13.m12.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.13.m12.1.1.3" xref="S4.SS1.SSS4.p2.13.m12.1.1.3.cmml">P</mi><mo id="S4.SS1.SSS4.p2.13.m12.1.1.1a" xref="S4.SS1.SSS4.p2.13.m12.1.1.1.cmml">⁢</mo><msup id="S4.SS1.SSS4.p2.13.m12.1.1.4" xref="S4.SS1.SSS4.p2.13.m12.1.1.4.cmml"><mi id="S4.SS1.SSS4.p2.13.m12.1.1.4.2" xref="S4.SS1.SSS4.p2.13.m12.1.1.4.2.cmml">U</mi><mi id="S4.SS1.SSS4.p2.13.m12.1.1.4.3" xref="S4.SS1.SSS4.p2.13.m12.1.1.4.3.cmml">i</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.13.m12.1b"><apply id="S4.SS1.SSS4.p2.13.m12.1.1.cmml" xref="S4.SS1.SSS4.p2.13.m12.1.1"><times id="S4.SS1.SSS4.p2.13.m12.1.1.1.cmml" xref="S4.SS1.SSS4.p2.13.m12.1.1.1"></times><ci id="S4.SS1.SSS4.p2.13.m12.1.1.2.cmml" xref="S4.SS1.SSS4.p2.13.m12.1.1.2">𝐺</ci><ci id="S4.SS1.SSS4.p2.13.m12.1.1.3.cmml" xref="S4.SS1.SSS4.p2.13.m12.1.1.3">𝑃</ci><apply id="S4.SS1.SSS4.p2.13.m12.1.1.4.cmml" xref="S4.SS1.SSS4.p2.13.m12.1.1.4"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.13.m12.1.1.4.1.cmml" xref="S4.SS1.SSS4.p2.13.m12.1.1.4">superscript</csymbol><ci id="S4.SS1.SSS4.p2.13.m12.1.1.4.2.cmml" xref="S4.SS1.SSS4.p2.13.m12.1.1.4.2">𝑈</ci><ci id="S4.SS1.SSS4.p2.13.m12.1.1.4.3.cmml" xref="S4.SS1.SSS4.p2.13.m12.1.1.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.13.m12.1c">GPU^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.13.m12.1d">italic_G italic_P italic_U start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math>. Eventually, the number of replicas, <math alttext="replicas^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.14.m13.1"><semantics id="S4.SS1.SSS4.p2.14.m13.1a"><mrow id="S4.SS1.SSS4.p2.14.m13.1.1" xref="S4.SS1.SSS4.p2.14.m13.1.1.cmml"><mi id="S4.SS1.SSS4.p2.14.m13.1.1.2" xref="S4.SS1.SSS4.p2.14.m13.1.1.2.cmml">r</mi><mo id="S4.SS1.SSS4.p2.14.m13.1.1.1" xref="S4.SS1.SSS4.p2.14.m13.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.14.m13.1.1.3" xref="S4.SS1.SSS4.p2.14.m13.1.1.3.cmml">e</mi><mo id="S4.SS1.SSS4.p2.14.m13.1.1.1a" xref="S4.SS1.SSS4.p2.14.m13.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.14.m13.1.1.4" xref="S4.SS1.SSS4.p2.14.m13.1.1.4.cmml">p</mi><mo id="S4.SS1.SSS4.p2.14.m13.1.1.1b" xref="S4.SS1.SSS4.p2.14.m13.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.14.m13.1.1.5" xref="S4.SS1.SSS4.p2.14.m13.1.1.5.cmml">l</mi><mo id="S4.SS1.SSS4.p2.14.m13.1.1.1c" xref="S4.SS1.SSS4.p2.14.m13.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.14.m13.1.1.6" xref="S4.SS1.SSS4.p2.14.m13.1.1.6.cmml">i</mi><mo id="S4.SS1.SSS4.p2.14.m13.1.1.1d" xref="S4.SS1.SSS4.p2.14.m13.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.14.m13.1.1.7" xref="S4.SS1.SSS4.p2.14.m13.1.1.7.cmml">c</mi><mo id="S4.SS1.SSS4.p2.14.m13.1.1.1e" xref="S4.SS1.SSS4.p2.14.m13.1.1.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.14.m13.1.1.8" xref="S4.SS1.SSS4.p2.14.m13.1.1.8.cmml">a</mi><mo id="S4.SS1.SSS4.p2.14.m13.1.1.1f" xref="S4.SS1.SSS4.p2.14.m13.1.1.1.cmml">⁢</mo><msup id="S4.SS1.SSS4.p2.14.m13.1.1.9" xref="S4.SS1.SSS4.p2.14.m13.1.1.9.cmml"><mi id="S4.SS1.SSS4.p2.14.m13.1.1.9.2" xref="S4.SS1.SSS4.p2.14.m13.1.1.9.2.cmml">s</mi><mi id="S4.SS1.SSS4.p2.14.m13.1.1.9.3" xref="S4.SS1.SSS4.p2.14.m13.1.1.9.3.cmml">i</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.14.m13.1b"><apply id="S4.SS1.SSS4.p2.14.m13.1.1.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1"><times id="S4.SS1.SSS4.p2.14.m13.1.1.1.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.1"></times><ci id="S4.SS1.SSS4.p2.14.m13.1.1.2.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.2">𝑟</ci><ci id="S4.SS1.SSS4.p2.14.m13.1.1.3.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.3">𝑒</ci><ci id="S4.SS1.SSS4.p2.14.m13.1.1.4.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.4">𝑝</ci><ci id="S4.SS1.SSS4.p2.14.m13.1.1.5.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.5">𝑙</ci><ci id="S4.SS1.SSS4.p2.14.m13.1.1.6.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.6">𝑖</ci><ci id="S4.SS1.SSS4.p2.14.m13.1.1.7.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.7">𝑐</ci><ci id="S4.SS1.SSS4.p2.14.m13.1.1.8.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.8">𝑎</ci><apply id="S4.SS1.SSS4.p2.14.m13.1.1.9.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.9"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.14.m13.1.1.9.1.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.9">superscript</csymbol><ci id="S4.SS1.SSS4.p2.14.m13.1.1.9.2.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.9.2">𝑠</ci><ci id="S4.SS1.SSS4.p2.14.m13.1.1.9.3.cmml" xref="S4.SS1.SSS4.p2.14.m13.1.1.9.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.14.m13.1c">replicas^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.14.m13.1d">italic_r italic_e italic_p italic_l italic_i italic_c italic_a italic_s start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math>, is determined using linear programming <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib25" title="">25</a>]</cite>. The <span class="ltx_text ltx_font_italic" id="S4.SS1.SSS4.p2.15.1">weight</span> of replicas is directly specified by the estimated <math alttext="n_{limit}^{i}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p2.15.m14.1"><semantics id="S4.SS1.SSS4.p2.15.m14.1a"><msubsup id="S4.SS1.SSS4.p2.15.m14.1.1" xref="S4.SS1.SSS4.p2.15.m14.1.1.cmml"><mi id="S4.SS1.SSS4.p2.15.m14.1.1.2.2" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.2.cmml">n</mi><mrow id="S4.SS1.SSS4.p2.15.m14.1.1.2.3" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.cmml"><mi id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.2" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.2.cmml">l</mi><mo id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.1" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.3" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.3.cmml">i</mi><mo id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.1a" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.4" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.4.cmml">m</mi><mo id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.1b" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.5" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.5.cmml">i</mi><mo id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.1c" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.6" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.6.cmml">t</mi></mrow><mi id="S4.SS1.SSS4.p2.15.m14.1.1.3" xref="S4.SS1.SSS4.p2.15.m14.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p2.15.m14.1b"><apply id="S4.SS1.SSS4.p2.15.m14.1.1.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.15.m14.1.1.1.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1">superscript</csymbol><apply id="S4.SS1.SSS4.p2.15.m14.1.1.2.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS4.p2.15.m14.1.1.2.1.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1">subscript</csymbol><ci id="S4.SS1.SSS4.p2.15.m14.1.1.2.2.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.2">𝑛</ci><apply id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3"><times id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.1.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.1"></times><ci id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.2.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.2">𝑙</ci><ci id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.3.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.3">𝑖</ci><ci id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.4.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.4">𝑚</ci><ci id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.5.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.5">𝑖</ci><ci id="S4.SS1.SSS4.p2.15.m14.1.1.2.3.6.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1.2.3.6">𝑡</ci></apply></apply><ci id="S4.SS1.SSS4.p2.15.m14.1.1.3.cmml" xref="S4.SS1.SSS4.p2.15.m14.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p2.15.m14.1c">n_{limit}^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p2.15.m14.1d">italic_n start_POSTSUBSCRIPT italic_l italic_i italic_m italic_i italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math>. The new request will be routed to the target GPU device based on these routing weights.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS2.4.1.1">IV-B</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS2.5.2">Performance Detection Module</span>
</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">To achieve the <span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.1">autoscaling goal</span>, ENOVA has developed a performance detection module. This module monitors service quality and resource utilization in real-time, particularly important due to the complexity of user requests in industrial environments. Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S3.F2" title="Figure 2 ‣ III-B Goals of Serverless LLM Serving ‣ III Motivation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">2</span></a> illustrates the detailed procedure of performance detection module. ENOVA first identifies anomalies in resource utilization or service quality using the monitoring metrics presented in TABLE <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.T2" title="TABLE II ‣ IV-A1 Determine max_num_seqs ‣ IV-A Service Configuration Module ‣ IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">II</span></a>, then redetermine the optimal configurations using the previously established service configuration module.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.2">When developing the performance detection model, it is essential to consider the rarity of anomalous samples in industrial environments, which poses challenges for collecting sufficient data for supervised learning. Additionally, the performance of unsupervised models can deteriorate when contaminated with a few anomalous samples <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib26" title="">26</a>]</cite>. To address these challenges, ENOVA utilizes a semi-supervised learning approach <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib27" title="">27</a>]</cite>, specifically adopting a Variational Auto-Encoder (VAE) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib28" title="">28</a>]</cite> as the base model. This model hypothesizes that the observed normal performance metrics <math alttext="m" class="ltx_Math" display="inline" id="S4.SS2.p2.1.m1.1"><semantics id="S4.SS2.p2.1.m1.1a"><mi id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><ci id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.1.m1.1d">italic_m</annotation></semantics></math> are generated from an unobserved multivariate Gaussian distribution <math alttext="z" class="ltx_Math" display="inline" id="S4.SS2.p2.2.m2.1"><semantics id="S4.SS2.p2.2.m2.1a"><mi id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><ci id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">z</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.2.m2.1d">italic_z</annotation></semantics></math>, while the anomalous performance data deviate from this distribution. The input metrics are normalized prior to being fed into the VAE. Then ENOVA optimizes the evidence of variational lower bound (ELBO) which can be expressed as follows.</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S9.EGx5">
<tbody id="S4.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{vae}=" class="ltx_Math" display="inline" id="S4.Ex3.m1.1"><semantics id="S4.Ex3.m1.1a"><mrow id="S4.Ex3.m1.1.1" xref="S4.Ex3.m1.1.1.cmml"><msub id="S4.Ex3.m1.1.1.2" xref="S4.Ex3.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.Ex3.m1.1.1.2.2" xref="S4.Ex3.m1.1.1.2.2.cmml">ℒ</mi><mrow id="S4.Ex3.m1.1.1.2.3" xref="S4.Ex3.m1.1.1.2.3.cmml"><mi id="S4.Ex3.m1.1.1.2.3.2" xref="S4.Ex3.m1.1.1.2.3.2.cmml">v</mi><mo id="S4.Ex3.m1.1.1.2.3.1" xref="S4.Ex3.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.Ex3.m1.1.1.2.3.3" xref="S4.Ex3.m1.1.1.2.3.3.cmml">a</mi><mo id="S4.Ex3.m1.1.1.2.3.1a" xref="S4.Ex3.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.Ex3.m1.1.1.2.3.4" xref="S4.Ex3.m1.1.1.2.3.4.cmml">e</mi></mrow></msub><mo id="S4.Ex3.m1.1.1.1" xref="S4.Ex3.m1.1.1.1.cmml">=</mo><mi id="S4.Ex3.m1.1.1.3" xref="S4.Ex3.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex3.m1.1b"><apply id="S4.Ex3.m1.1.1.cmml" xref="S4.Ex3.m1.1.1"><eq id="S4.Ex3.m1.1.1.1.cmml" xref="S4.Ex3.m1.1.1.1"></eq><apply id="S4.Ex3.m1.1.1.2.cmml" xref="S4.Ex3.m1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex3.m1.1.1.2.1.cmml" xref="S4.Ex3.m1.1.1.2">subscript</csymbol><ci id="S4.Ex3.m1.1.1.2.2.cmml" xref="S4.Ex3.m1.1.1.2.2">ℒ</ci><apply id="S4.Ex3.m1.1.1.2.3.cmml" xref="S4.Ex3.m1.1.1.2.3"><times id="S4.Ex3.m1.1.1.2.3.1.cmml" xref="S4.Ex3.m1.1.1.2.3.1"></times><ci id="S4.Ex3.m1.1.1.2.3.2.cmml" xref="S4.Ex3.m1.1.1.2.3.2">𝑣</ci><ci id="S4.Ex3.m1.1.1.2.3.3.cmml" xref="S4.Ex3.m1.1.1.2.3.3">𝑎</ci><ci id="S4.Ex3.m1.1.1.2.3.4.cmml" xref="S4.Ex3.m1.1.1.2.3.4">𝑒</ci></apply></apply><csymbol cd="latexml" id="S4.Ex3.m1.1.1.3.cmml" xref="S4.Ex3.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex3.m1.1c">\displaystyle\mathcal{L}_{vae}=</annotation><annotation encoding="application/x-llamapun" id="S4.Ex3.m1.1d">caligraphic_L start_POSTSUBSCRIPT italic_v italic_a italic_e end_POSTSUBSCRIPT =</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\frac{1}{|D^{M}|}\sum_{(m_{i},l_{i})\in D^{M}}l_{i}\cdot\mathbb{E%
}_{q_{\phi}(z|m)}\log(p_{\theta}(m|z))" class="ltx_Math" display="inline" id="S4.Ex3.m2.6"><semantics id="S4.Ex3.m2.6a"><mrow id="S4.Ex3.m2.6.6" xref="S4.Ex3.m2.6.6.cmml"><mstyle displaystyle="true" id="S4.Ex3.m2.1.1" xref="S4.Ex3.m2.1.1.cmml"><mfrac id="S4.Ex3.m2.1.1a" xref="S4.Ex3.m2.1.1.cmml"><mn id="S4.Ex3.m2.1.1.3" xref="S4.Ex3.m2.1.1.3.cmml">1</mn><mrow id="S4.Ex3.m2.1.1.1.1" xref="S4.Ex3.m2.1.1.1.2.cmml"><mo id="S4.Ex3.m2.1.1.1.1.2" stretchy="false" xref="S4.Ex3.m2.1.1.1.2.1.cmml">|</mo><msup id="S4.Ex3.m2.1.1.1.1.1" xref="S4.Ex3.m2.1.1.1.1.1.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.2" xref="S4.Ex3.m2.1.1.1.1.1.2.cmml">D</mi><mi id="S4.Ex3.m2.1.1.1.1.1.3" xref="S4.Ex3.m2.1.1.1.1.1.3.cmml">M</mi></msup><mo id="S4.Ex3.m2.1.1.1.1.3" stretchy="false" xref="S4.Ex3.m2.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo id="S4.Ex3.m2.6.6.2" xref="S4.Ex3.m2.6.6.2.cmml">⁢</mo><mrow id="S4.Ex3.m2.6.6.1" xref="S4.Ex3.m2.6.6.1.cmml"><mstyle displaystyle="true" id="S4.Ex3.m2.6.6.1.2" xref="S4.Ex3.m2.6.6.1.2.cmml"><munder id="S4.Ex3.m2.6.6.1.2a" xref="S4.Ex3.m2.6.6.1.2.cmml"><mo id="S4.Ex3.m2.6.6.1.2.2" movablelimits="false" xref="S4.Ex3.m2.6.6.1.2.2.cmml">∑</mo><mrow id="S4.Ex3.m2.3.3.2" xref="S4.Ex3.m2.3.3.2.cmml"><mrow id="S4.Ex3.m2.3.3.2.2.2" xref="S4.Ex3.m2.3.3.2.2.3.cmml"><mo id="S4.Ex3.m2.3.3.2.2.2.3" stretchy="false" xref="S4.Ex3.m2.3.3.2.2.3.cmml">(</mo><msub id="S4.Ex3.m2.2.2.1.1.1.1" xref="S4.Ex3.m2.2.2.1.1.1.1.cmml"><mi id="S4.Ex3.m2.2.2.1.1.1.1.2" xref="S4.Ex3.m2.2.2.1.1.1.1.2.cmml">m</mi><mi id="S4.Ex3.m2.2.2.1.1.1.1.3" xref="S4.Ex3.m2.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.Ex3.m2.3.3.2.2.2.4" xref="S4.Ex3.m2.3.3.2.2.3.cmml">,</mo><msub id="S4.Ex3.m2.3.3.2.2.2.2" xref="S4.Ex3.m2.3.3.2.2.2.2.cmml"><mi id="S4.Ex3.m2.3.3.2.2.2.2.2" xref="S4.Ex3.m2.3.3.2.2.2.2.2.cmml">l</mi><mi id="S4.Ex3.m2.3.3.2.2.2.2.3" xref="S4.Ex3.m2.3.3.2.2.2.2.3.cmml">i</mi></msub><mo id="S4.Ex3.m2.3.3.2.2.2.5" stretchy="false" xref="S4.Ex3.m2.3.3.2.2.3.cmml">)</mo></mrow><mo id="S4.Ex3.m2.3.3.2.3" xref="S4.Ex3.m2.3.3.2.3.cmml">∈</mo><msup id="S4.Ex3.m2.3.3.2.4" xref="S4.Ex3.m2.3.3.2.4.cmml"><mi id="S4.Ex3.m2.3.3.2.4.2" xref="S4.Ex3.m2.3.3.2.4.2.cmml">D</mi><mi id="S4.Ex3.m2.3.3.2.4.3" xref="S4.Ex3.m2.3.3.2.4.3.cmml">M</mi></msup></mrow></munder></mstyle><mrow id="S4.Ex3.m2.6.6.1.1" xref="S4.Ex3.m2.6.6.1.1.cmml"><mrow id="S4.Ex3.m2.6.6.1.1.3" xref="S4.Ex3.m2.6.6.1.1.3.cmml"><msub id="S4.Ex3.m2.6.6.1.1.3.2" xref="S4.Ex3.m2.6.6.1.1.3.2.cmml"><mi id="S4.Ex3.m2.6.6.1.1.3.2.2" xref="S4.Ex3.m2.6.6.1.1.3.2.2.cmml">l</mi><mi id="S4.Ex3.m2.6.6.1.1.3.2.3" xref="S4.Ex3.m2.6.6.1.1.3.2.3.cmml">i</mi></msub><mo id="S4.Ex3.m2.6.6.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S4.Ex3.m2.6.6.1.1.3.1.cmml">⋅</mo><msub id="S4.Ex3.m2.6.6.1.1.3.3" xref="S4.Ex3.m2.6.6.1.1.3.3.cmml"><mi id="S4.Ex3.m2.6.6.1.1.3.3.2" xref="S4.Ex3.m2.6.6.1.1.3.3.2.cmml">𝔼</mi><mrow id="S4.Ex3.m2.4.4.1" xref="S4.Ex3.m2.4.4.1.cmml"><msub id="S4.Ex3.m2.4.4.1.3" xref="S4.Ex3.m2.4.4.1.3.cmml"><mi id="S4.Ex3.m2.4.4.1.3.2" xref="S4.Ex3.m2.4.4.1.3.2.cmml">q</mi><mi id="S4.Ex3.m2.4.4.1.3.3" xref="S4.Ex3.m2.4.4.1.3.3.cmml">ϕ</mi></msub><mo id="S4.Ex3.m2.4.4.1.2" xref="S4.Ex3.m2.4.4.1.2.cmml">⁢</mo><mrow id="S4.Ex3.m2.4.4.1.1.1" xref="S4.Ex3.m2.4.4.1.1.1.1.cmml"><mo id="S4.Ex3.m2.4.4.1.1.1.2" stretchy="false" xref="S4.Ex3.m2.4.4.1.1.1.1.cmml">(</mo><mrow id="S4.Ex3.m2.4.4.1.1.1.1" xref="S4.Ex3.m2.4.4.1.1.1.1.cmml"><mi id="S4.Ex3.m2.4.4.1.1.1.1.2" xref="S4.Ex3.m2.4.4.1.1.1.1.2.cmml">z</mi><mo fence="false" id="S4.Ex3.m2.4.4.1.1.1.1.1" xref="S4.Ex3.m2.4.4.1.1.1.1.1.cmml">|</mo><mi id="S4.Ex3.m2.4.4.1.1.1.1.3" xref="S4.Ex3.m2.4.4.1.1.1.1.3.cmml">m</mi></mrow><mo id="S4.Ex3.m2.4.4.1.1.1.3" stretchy="false" xref="S4.Ex3.m2.4.4.1.1.1.1.cmml">)</mo></mrow></mrow></msub></mrow><mo id="S4.Ex3.m2.6.6.1.1.2" lspace="0.167em" xref="S4.Ex3.m2.6.6.1.1.2.cmml">⁢</mo><mrow id="S4.Ex3.m2.6.6.1.1.1.1" xref="S4.Ex3.m2.6.6.1.1.1.2.cmml"><mi id="S4.Ex3.m2.5.5" xref="S4.Ex3.m2.5.5.cmml">log</mi><mo id="S4.Ex3.m2.6.6.1.1.1.1a" xref="S4.Ex3.m2.6.6.1.1.1.2.cmml">⁡</mo><mrow id="S4.Ex3.m2.6.6.1.1.1.1.1" xref="S4.Ex3.m2.6.6.1.1.1.2.cmml"><mo id="S4.Ex3.m2.6.6.1.1.1.1.1.2" stretchy="false" xref="S4.Ex3.m2.6.6.1.1.1.2.cmml">(</mo><mrow id="S4.Ex3.m2.6.6.1.1.1.1.1.1" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.cmml"><msub id="S4.Ex3.m2.6.6.1.1.1.1.1.1.3" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.3.cmml"><mi id="S4.Ex3.m2.6.6.1.1.1.1.1.1.3.2" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.3.2.cmml">p</mi><mi id="S4.Ex3.m2.6.6.1.1.1.1.1.1.3.3" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S4.Ex3.m2.6.6.1.1.1.1.1.1.2" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.2.cmml">m</mi><mo fence="false" id="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.3.cmml">z</mi></mrow><mo id="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.Ex3.m2.6.6.1.1.1.1.1.3" stretchy="false" xref="S4.Ex3.m2.6.6.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex3.m2.6b"><apply id="S4.Ex3.m2.6.6.cmml" xref="S4.Ex3.m2.6.6"><times id="S4.Ex3.m2.6.6.2.cmml" xref="S4.Ex3.m2.6.6.2"></times><apply id="S4.Ex3.m2.1.1.cmml" xref="S4.Ex3.m2.1.1"><divide id="S4.Ex3.m2.1.1.2.cmml" xref="S4.Ex3.m2.1.1"></divide><cn id="S4.Ex3.m2.1.1.3.cmml" type="integer" xref="S4.Ex3.m2.1.1.3">1</cn><apply id="S4.Ex3.m2.1.1.1.2.cmml" xref="S4.Ex3.m2.1.1.1.1"><abs id="S4.Ex3.m2.1.1.1.2.1.cmml" xref="S4.Ex3.m2.1.1.1.1.2"></abs><apply id="S4.Ex3.m2.1.1.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1">superscript</csymbol><ci id="S4.Ex3.m2.1.1.1.1.1.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.2">𝐷</ci><ci id="S4.Ex3.m2.1.1.1.1.1.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.3">𝑀</ci></apply></apply></apply><apply id="S4.Ex3.m2.6.6.1.cmml" xref="S4.Ex3.m2.6.6.1"><apply id="S4.Ex3.m2.6.6.1.2.cmml" xref="S4.Ex3.m2.6.6.1.2"><csymbol cd="ambiguous" id="S4.Ex3.m2.6.6.1.2.1.cmml" xref="S4.Ex3.m2.6.6.1.2">subscript</csymbol><sum id="S4.Ex3.m2.6.6.1.2.2.cmml" xref="S4.Ex3.m2.6.6.1.2.2"></sum><apply id="S4.Ex3.m2.3.3.2.cmml" xref="S4.Ex3.m2.3.3.2"><in id="S4.Ex3.m2.3.3.2.3.cmml" xref="S4.Ex3.m2.3.3.2.3"></in><interval closure="open" id="S4.Ex3.m2.3.3.2.2.3.cmml" xref="S4.Ex3.m2.3.3.2.2.2"><apply id="S4.Ex3.m2.2.2.1.1.1.1.cmml" xref="S4.Ex3.m2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.Ex3.m2.2.2.1.1.1.1.1.cmml" xref="S4.Ex3.m2.2.2.1.1.1.1">subscript</csymbol><ci id="S4.Ex3.m2.2.2.1.1.1.1.2.cmml" xref="S4.Ex3.m2.2.2.1.1.1.1.2">𝑚</ci><ci id="S4.Ex3.m2.2.2.1.1.1.1.3.cmml" xref="S4.Ex3.m2.2.2.1.1.1.1.3">𝑖</ci></apply><apply id="S4.Ex3.m2.3.3.2.2.2.2.cmml" xref="S4.Ex3.m2.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S4.Ex3.m2.3.3.2.2.2.2.1.cmml" xref="S4.Ex3.m2.3.3.2.2.2.2">subscript</csymbol><ci id="S4.Ex3.m2.3.3.2.2.2.2.2.cmml" xref="S4.Ex3.m2.3.3.2.2.2.2.2">𝑙</ci><ci id="S4.Ex3.m2.3.3.2.2.2.2.3.cmml" xref="S4.Ex3.m2.3.3.2.2.2.2.3">𝑖</ci></apply></interval><apply id="S4.Ex3.m2.3.3.2.4.cmml" xref="S4.Ex3.m2.3.3.2.4"><csymbol cd="ambiguous" id="S4.Ex3.m2.3.3.2.4.1.cmml" xref="S4.Ex3.m2.3.3.2.4">superscript</csymbol><ci id="S4.Ex3.m2.3.3.2.4.2.cmml" xref="S4.Ex3.m2.3.3.2.4.2">𝐷</ci><ci id="S4.Ex3.m2.3.3.2.4.3.cmml" xref="S4.Ex3.m2.3.3.2.4.3">𝑀</ci></apply></apply></apply><apply id="S4.Ex3.m2.6.6.1.1.cmml" xref="S4.Ex3.m2.6.6.1.1"><times id="S4.Ex3.m2.6.6.1.1.2.cmml" xref="S4.Ex3.m2.6.6.1.1.2"></times><apply id="S4.Ex3.m2.6.6.1.1.3.cmml" xref="S4.Ex3.m2.6.6.1.1.3"><ci id="S4.Ex3.m2.6.6.1.1.3.1.cmml" xref="S4.Ex3.m2.6.6.1.1.3.1">⋅</ci><apply id="S4.Ex3.m2.6.6.1.1.3.2.cmml" xref="S4.Ex3.m2.6.6.1.1.3.2"><csymbol cd="ambiguous" id="S4.Ex3.m2.6.6.1.1.3.2.1.cmml" xref="S4.Ex3.m2.6.6.1.1.3.2">subscript</csymbol><ci id="S4.Ex3.m2.6.6.1.1.3.2.2.cmml" xref="S4.Ex3.m2.6.6.1.1.3.2.2">𝑙</ci><ci id="S4.Ex3.m2.6.6.1.1.3.2.3.cmml" xref="S4.Ex3.m2.6.6.1.1.3.2.3">𝑖</ci></apply><apply id="S4.Ex3.m2.6.6.1.1.3.3.cmml" xref="S4.Ex3.m2.6.6.1.1.3.3"><csymbol cd="ambiguous" id="S4.Ex3.m2.6.6.1.1.3.3.1.cmml" xref="S4.Ex3.m2.6.6.1.1.3.3">subscript</csymbol><ci id="S4.Ex3.m2.6.6.1.1.3.3.2.cmml" xref="S4.Ex3.m2.6.6.1.1.3.3.2">𝔼</ci><apply id="S4.Ex3.m2.4.4.1.cmml" xref="S4.Ex3.m2.4.4.1"><times id="S4.Ex3.m2.4.4.1.2.cmml" xref="S4.Ex3.m2.4.4.1.2"></times><apply id="S4.Ex3.m2.4.4.1.3.cmml" xref="S4.Ex3.m2.4.4.1.3"><csymbol cd="ambiguous" id="S4.Ex3.m2.4.4.1.3.1.cmml" xref="S4.Ex3.m2.4.4.1.3">subscript</csymbol><ci id="S4.Ex3.m2.4.4.1.3.2.cmml" xref="S4.Ex3.m2.4.4.1.3.2">𝑞</ci><ci id="S4.Ex3.m2.4.4.1.3.3.cmml" xref="S4.Ex3.m2.4.4.1.3.3">italic-ϕ</ci></apply><apply id="S4.Ex3.m2.4.4.1.1.1.1.cmml" xref="S4.Ex3.m2.4.4.1.1.1"><csymbol cd="latexml" id="S4.Ex3.m2.4.4.1.1.1.1.1.cmml" xref="S4.Ex3.m2.4.4.1.1.1.1.1">conditional</csymbol><ci id="S4.Ex3.m2.4.4.1.1.1.1.2.cmml" xref="S4.Ex3.m2.4.4.1.1.1.1.2">𝑧</ci><ci id="S4.Ex3.m2.4.4.1.1.1.1.3.cmml" xref="S4.Ex3.m2.4.4.1.1.1.1.3">𝑚</ci></apply></apply></apply></apply><apply id="S4.Ex3.m2.6.6.1.1.1.2.cmml" xref="S4.Ex3.m2.6.6.1.1.1.1"><log id="S4.Ex3.m2.5.5.cmml" xref="S4.Ex3.m2.5.5"></log><apply id="S4.Ex3.m2.6.6.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1"><times id="S4.Ex3.m2.6.6.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.2"></times><apply id="S4.Ex3.m2.6.6.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex3.m2.6.6.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex3.m2.6.6.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.3.2">𝑝</ci><ci id="S4.Ex3.m2.6.6.1.1.1.1.1.1.3.3.cmml" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.2">𝑚</ci><ci id="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m2.6.6.1.1.1.1.1.1.1.1.1.3">𝑧</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex3.m2.6c">\displaystyle\frac{1}{|D^{M}|}\sum_{(m_{i},l_{i})\in D^{M}}l_{i}\cdot\mathbb{E%
}_{q_{\phi}(z|m)}\log(p_{\theta}(m|z))</annotation><annotation encoding="application/x-llamapun" id="S4.Ex3.m2.6d">divide start_ARG 1 end_ARG start_ARG | italic_D start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT | end_ARG ∑ start_POSTSUBSCRIPT ( italic_m start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_l start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ∈ italic_D start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT end_POSTSUBSCRIPT italic_l start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ⋅ blackboard_E start_POSTSUBSCRIPT italic_q start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( italic_z | italic_m ) end_POSTSUBSCRIPT roman_log ( italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_m | italic_z ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S4.E12"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle-(1+l_{i})/{2}\cdot\beta(k)\cdot KL(q_{\phi}(z|m_{i})\|p_{\theta}%
(z))," class="ltx_Math" display="inline" id="S4.E12.m1.3"><semantics id="S4.E12.m1.3a"><mrow id="S4.E12.m1.3.3.1" xref="S4.E12.m1.3.3.1.1.cmml"><mrow id="S4.E12.m1.3.3.1.1" xref="S4.E12.m1.3.3.1.1.cmml"><mo id="S4.E12.m1.3.3.1.1a" xref="S4.E12.m1.3.3.1.1.cmml">−</mo><mrow id="S4.E12.m1.3.3.1.1.2" xref="S4.E12.m1.3.3.1.1.2.cmml"><mrow id="S4.E12.m1.3.3.1.1.1.1" xref="S4.E12.m1.3.3.1.1.1.1.cmml"><mrow id="S4.E12.m1.3.3.1.1.1.1.1" xref="S4.E12.m1.3.3.1.1.1.1.1.cmml"><mrow id="S4.E12.m1.3.3.1.1.1.1.1.1" xref="S4.E12.m1.3.3.1.1.1.1.1.1.cmml"><mrow id="S4.E12.m1.3.3.1.1.1.1.1.1.1" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.cmml"><mrow id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mn id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml">+</mo><msub id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.2.cmml">l</mi><mi id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S4.E12.m1.3.3.1.1.1.1.1.1.1.2" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.2.cmml">/</mo><mn id="S4.E12.m1.3.3.1.1.1.1.1.1.1.3" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.3.cmml">2</mn></mrow><mo id="S4.E12.m1.3.3.1.1.1.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S4.E12.m1.3.3.1.1.1.1.1.1.2.cmml">⋅</mo><mi id="S4.E12.m1.3.3.1.1.1.1.1.1.3" xref="S4.E12.m1.3.3.1.1.1.1.1.1.3.cmml">β</mi></mrow><mo id="S4.E12.m1.3.3.1.1.1.1.1.2" xref="S4.E12.m1.3.3.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E12.m1.3.3.1.1.1.1.1.3.2" xref="S4.E12.m1.3.3.1.1.1.1.1.cmml"><mo id="S4.E12.m1.3.3.1.1.1.1.1.3.2.1" stretchy="false" xref="S4.E12.m1.3.3.1.1.1.1.1.cmml">(</mo><mi id="S4.E12.m1.1.1" xref="S4.E12.m1.1.1.cmml">k</mi><mo id="S4.E12.m1.3.3.1.1.1.1.1.3.2.2" rspace="0.055em" stretchy="false" xref="S4.E12.m1.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E12.m1.3.3.1.1.1.1.2" rspace="0.222em" xref="S4.E12.m1.3.3.1.1.1.1.2.cmml">⋅</mo><mi id="S4.E12.m1.3.3.1.1.1.1.3" xref="S4.E12.m1.3.3.1.1.1.1.3.cmml">K</mi></mrow><mo id="S4.E12.m1.3.3.1.1.2.3" xref="S4.E12.m1.3.3.1.1.2.3.cmml">⁢</mo><mi id="S4.E12.m1.3.3.1.1.2.4" xref="S4.E12.m1.3.3.1.1.2.4.cmml">L</mi><mo id="S4.E12.m1.3.3.1.1.2.3a" xref="S4.E12.m1.3.3.1.1.2.3.cmml">⁢</mo><mrow id="S4.E12.m1.3.3.1.1.2.2.1" xref="S4.E12.m1.3.3.1.1.2.2.1.1.cmml"><mo id="S4.E12.m1.3.3.1.1.2.2.1.2" stretchy="false" xref="S4.E12.m1.3.3.1.1.2.2.1.1.cmml">(</mo><mrow id="S4.E12.m1.3.3.1.1.2.2.1.1" xref="S4.E12.m1.3.3.1.1.2.2.1.1.cmml"><mrow id="S4.E12.m1.3.3.1.1.2.2.1.1.1" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.cmml"><msub id="S4.E12.m1.3.3.1.1.2.2.1.1.1.3" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.3.cmml"><mi id="S4.E12.m1.3.3.1.1.2.2.1.1.1.3.2" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.3.2.cmml">q</mi><mi id="S4.E12.m1.3.3.1.1.2.2.1.1.1.3.3" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.3.3.cmml">ϕ</mi></msub><mo id="S4.E12.m1.3.3.1.1.2.2.1.1.1.2" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.cmml"><mo id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.2" stretchy="false" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.cmml"><mi id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.2" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.2.cmml">z</mi><mo fence="false" id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.1" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.1.cmml">|</mo><msub id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.cmml"><mi id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.2" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.2.cmml">m</mi><mi id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.3" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.3" stretchy="false" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E12.m1.3.3.1.1.2.2.1.1.2" xref="S4.E12.m1.3.3.1.1.2.2.1.1.2.cmml">∥</mo><mrow id="S4.E12.m1.3.3.1.1.2.2.1.1.3" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.cmml"><msub id="S4.E12.m1.3.3.1.1.2.2.1.1.3.2" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.2.cmml"><mi id="S4.E12.m1.3.3.1.1.2.2.1.1.3.2.2" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.2.2.cmml">p</mi><mi id="S4.E12.m1.3.3.1.1.2.2.1.1.3.2.3" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.2.3.cmml">θ</mi></msub><mo id="S4.E12.m1.3.3.1.1.2.2.1.1.3.1" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.1.cmml">⁢</mo><mrow id="S4.E12.m1.3.3.1.1.2.2.1.1.3.3.2" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.cmml"><mo id="S4.E12.m1.3.3.1.1.2.2.1.1.3.3.2.1" stretchy="false" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.cmml">(</mo><mi id="S4.E12.m1.2.2" xref="S4.E12.m1.2.2.cmml">z</mi><mo id="S4.E12.m1.3.3.1.1.2.2.1.1.3.3.2.2" stretchy="false" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E12.m1.3.3.1.1.2.2.1.3" stretchy="false" xref="S4.E12.m1.3.3.1.1.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E12.m1.3.3.1.2" xref="S4.E12.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E12.m1.3b"><apply id="S4.E12.m1.3.3.1.1.cmml" xref="S4.E12.m1.3.3.1"><minus id="S4.E12.m1.3.3.1.1.3.cmml" xref="S4.E12.m1.3.3.1"></minus><apply id="S4.E12.m1.3.3.1.1.2.cmml" xref="S4.E12.m1.3.3.1.1.2"><times id="S4.E12.m1.3.3.1.1.2.3.cmml" xref="S4.E12.m1.3.3.1.1.2.3"></times><apply id="S4.E12.m1.3.3.1.1.1.1.cmml" xref="S4.E12.m1.3.3.1.1.1.1"><ci id="S4.E12.m1.3.3.1.1.1.1.2.cmml" xref="S4.E12.m1.3.3.1.1.1.1.2">⋅</ci><apply id="S4.E12.m1.3.3.1.1.1.1.1.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1"><times id="S4.E12.m1.3.3.1.1.1.1.1.2.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.2"></times><apply id="S4.E12.m1.3.3.1.1.1.1.1.1.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.1"><ci id="S4.E12.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.1.2">⋅</ci><apply id="S4.E12.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1"><divide id="S4.E12.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.2"></divide><apply id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1"><plus id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1"></plus><cn id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2">1</cn><apply id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.2">𝑙</ci><ci id="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><cn id="S4.E12.m1.3.3.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S4.E12.m1.3.3.1.1.1.1.1.1.1.3">2</cn></apply><ci id="S4.E12.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S4.E12.m1.3.3.1.1.1.1.1.1.3">𝛽</ci></apply><ci id="S4.E12.m1.1.1.cmml" xref="S4.E12.m1.1.1">𝑘</ci></apply><ci id="S4.E12.m1.3.3.1.1.1.1.3.cmml" xref="S4.E12.m1.3.3.1.1.1.1.3">𝐾</ci></apply><ci id="S4.E12.m1.3.3.1.1.2.4.cmml" xref="S4.E12.m1.3.3.1.1.2.4">𝐿</ci><apply id="S4.E12.m1.3.3.1.1.2.2.1.1.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1"><csymbol cd="latexml" id="S4.E12.m1.3.3.1.1.2.2.1.1.2.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.2">conditional</csymbol><apply id="S4.E12.m1.3.3.1.1.2.2.1.1.1.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1"><times id="S4.E12.m1.3.3.1.1.2.2.1.1.1.2.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.2"></times><apply id="S4.E12.m1.3.3.1.1.2.2.1.1.1.3.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S4.E12.m1.3.3.1.1.2.2.1.1.1.3.1.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.3">subscript</csymbol><ci id="S4.E12.m1.3.3.1.1.2.2.1.1.1.3.2.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.3.2">𝑞</ci><ci id="S4.E12.m1.3.3.1.1.2.2.1.1.1.3.3.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.3.3">italic-ϕ</ci></apply><apply id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1"><csymbol cd="latexml" id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.1.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.2.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.2">𝑧</ci><apply id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.2.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.2">𝑚</ci><ci id="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.3.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S4.E12.m1.3.3.1.1.2.2.1.1.3.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3"><times id="S4.E12.m1.3.3.1.1.2.2.1.1.3.1.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.1"></times><apply id="S4.E12.m1.3.3.1.1.2.2.1.1.3.2.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.2"><csymbol cd="ambiguous" id="S4.E12.m1.3.3.1.1.2.2.1.1.3.2.1.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.2">subscript</csymbol><ci id="S4.E12.m1.3.3.1.1.2.2.1.1.3.2.2.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.2.2">𝑝</ci><ci id="S4.E12.m1.3.3.1.1.2.2.1.1.3.2.3.cmml" xref="S4.E12.m1.3.3.1.1.2.2.1.1.3.2.3">𝜃</ci></apply><ci id="S4.E12.m1.2.2.cmml" xref="S4.E12.m1.2.2">𝑧</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E12.m1.3c">\displaystyle-(1+l_{i})/{2}\cdot\beta(k)\cdot KL(q_{\phi}(z|m_{i})\|p_{\theta}%
(z)),</annotation><annotation encoding="application/x-llamapun" id="S4.E12.m1.3d">- ( 1 + italic_l start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) / 2 ⋅ italic_β ( italic_k ) ⋅ italic_K italic_L ( italic_q start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( italic_z | italic_m start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ∥ italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_z ) ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.p2.9">In this equation, <math alttext="l_{i}\in(1,-1)" class="ltx_Math" display="inline" id="S4.SS2.p2.3.m1.2"><semantics id="S4.SS2.p2.3.m1.2a"><mrow id="S4.SS2.p2.3.m1.2.2" xref="S4.SS2.p2.3.m1.2.2.cmml"><msub id="S4.SS2.p2.3.m1.2.2.3" xref="S4.SS2.p2.3.m1.2.2.3.cmml"><mi id="S4.SS2.p2.3.m1.2.2.3.2" xref="S4.SS2.p2.3.m1.2.2.3.2.cmml">l</mi><mi id="S4.SS2.p2.3.m1.2.2.3.3" xref="S4.SS2.p2.3.m1.2.2.3.3.cmml">i</mi></msub><mo id="S4.SS2.p2.3.m1.2.2.2" xref="S4.SS2.p2.3.m1.2.2.2.cmml">∈</mo><mrow id="S4.SS2.p2.3.m1.2.2.1.1" xref="S4.SS2.p2.3.m1.2.2.1.2.cmml"><mo id="S4.SS2.p2.3.m1.2.2.1.1.2" stretchy="false" xref="S4.SS2.p2.3.m1.2.2.1.2.cmml">(</mo><mn id="S4.SS2.p2.3.m1.1.1" xref="S4.SS2.p2.3.m1.1.1.cmml">1</mn><mo id="S4.SS2.p2.3.m1.2.2.1.1.3" xref="S4.SS2.p2.3.m1.2.2.1.2.cmml">,</mo><mrow id="S4.SS2.p2.3.m1.2.2.1.1.1" xref="S4.SS2.p2.3.m1.2.2.1.1.1.cmml"><mo id="S4.SS2.p2.3.m1.2.2.1.1.1a" xref="S4.SS2.p2.3.m1.2.2.1.1.1.cmml">−</mo><mn id="S4.SS2.p2.3.m1.2.2.1.1.1.2" xref="S4.SS2.p2.3.m1.2.2.1.1.1.2.cmml">1</mn></mrow><mo id="S4.SS2.p2.3.m1.2.2.1.1.4" stretchy="false" xref="S4.SS2.p2.3.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m1.2b"><apply id="S4.SS2.p2.3.m1.2.2.cmml" xref="S4.SS2.p2.3.m1.2.2"><in id="S4.SS2.p2.3.m1.2.2.2.cmml" xref="S4.SS2.p2.3.m1.2.2.2"></in><apply id="S4.SS2.p2.3.m1.2.2.3.cmml" xref="S4.SS2.p2.3.m1.2.2.3"><csymbol cd="ambiguous" id="S4.SS2.p2.3.m1.2.2.3.1.cmml" xref="S4.SS2.p2.3.m1.2.2.3">subscript</csymbol><ci id="S4.SS2.p2.3.m1.2.2.3.2.cmml" xref="S4.SS2.p2.3.m1.2.2.3.2">𝑙</ci><ci id="S4.SS2.p2.3.m1.2.2.3.3.cmml" xref="S4.SS2.p2.3.m1.2.2.3.3">𝑖</ci></apply><interval closure="open" id="S4.SS2.p2.3.m1.2.2.1.2.cmml" xref="S4.SS2.p2.3.m1.2.2.1.1"><cn id="S4.SS2.p2.3.m1.1.1.cmml" type="integer" xref="S4.SS2.p2.3.m1.1.1">1</cn><apply id="S4.SS2.p2.3.m1.2.2.1.1.1.cmml" xref="S4.SS2.p2.3.m1.2.2.1.1.1"><minus id="S4.SS2.p2.3.m1.2.2.1.1.1.1.cmml" xref="S4.SS2.p2.3.m1.2.2.1.1.1"></minus><cn id="S4.SS2.p2.3.m1.2.2.1.1.1.2.cmml" type="integer" xref="S4.SS2.p2.3.m1.2.2.1.1.1.2">1</cn></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m1.2c">l_{i}\in(1,-1)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.3.m1.2d">italic_l start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ ( 1 , - 1 )</annotation></semantics></math> represents the label of performance metrics, where <math alttext="l_{i}=1" class="ltx_Math" display="inline" id="S4.SS2.p2.4.m2.1"><semantics id="S4.SS2.p2.4.m2.1a"><mrow id="S4.SS2.p2.4.m2.1.1" xref="S4.SS2.p2.4.m2.1.1.cmml"><msub id="S4.SS2.p2.4.m2.1.1.2" xref="S4.SS2.p2.4.m2.1.1.2.cmml"><mi id="S4.SS2.p2.4.m2.1.1.2.2" xref="S4.SS2.p2.4.m2.1.1.2.2.cmml">l</mi><mi id="S4.SS2.p2.4.m2.1.1.2.3" xref="S4.SS2.p2.4.m2.1.1.2.3.cmml">i</mi></msub><mo id="S4.SS2.p2.4.m2.1.1.1" xref="S4.SS2.p2.4.m2.1.1.1.cmml">=</mo><mn id="S4.SS2.p2.4.m2.1.1.3" xref="S4.SS2.p2.4.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m2.1b"><apply id="S4.SS2.p2.4.m2.1.1.cmml" xref="S4.SS2.p2.4.m2.1.1"><eq id="S4.SS2.p2.4.m2.1.1.1.cmml" xref="S4.SS2.p2.4.m2.1.1.1"></eq><apply id="S4.SS2.p2.4.m2.1.1.2.cmml" xref="S4.SS2.p2.4.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p2.4.m2.1.1.2.1.cmml" xref="S4.SS2.p2.4.m2.1.1.2">subscript</csymbol><ci id="S4.SS2.p2.4.m2.1.1.2.2.cmml" xref="S4.SS2.p2.4.m2.1.1.2.2">𝑙</ci><ci id="S4.SS2.p2.4.m2.1.1.2.3.cmml" xref="S4.SS2.p2.4.m2.1.1.2.3">𝑖</ci></apply><cn id="S4.SS2.p2.4.m2.1.1.3.cmml" type="integer" xref="S4.SS2.p2.4.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m2.1c">l_{i}=1</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.4.m2.1d">italic_l start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = 1</annotation></semantics></math> indicates that <math alttext="m_{i}" class="ltx_Math" display="inline" id="S4.SS2.p2.5.m3.1"><semantics id="S4.SS2.p2.5.m3.1a"><msub id="S4.SS2.p2.5.m3.1.1" xref="S4.SS2.p2.5.m3.1.1.cmml"><mi id="S4.SS2.p2.5.m3.1.1.2" xref="S4.SS2.p2.5.m3.1.1.2.cmml">m</mi><mi id="S4.SS2.p2.5.m3.1.1.3" xref="S4.SS2.p2.5.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m3.1b"><apply id="S4.SS2.p2.5.m3.1.1.cmml" xref="S4.SS2.p2.5.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.5.m3.1.1.1.cmml" xref="S4.SS2.p2.5.m3.1.1">subscript</csymbol><ci id="S4.SS2.p2.5.m3.1.1.2.cmml" xref="S4.SS2.p2.5.m3.1.1.2">𝑚</ci><ci id="S4.SS2.p2.5.m3.1.1.3.cmml" xref="S4.SS2.p2.5.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m3.1c">m_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.5.m3.1d">italic_m start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is normal. The coefficient <math alttext="\beta(k)" class="ltx_Math" display="inline" id="S4.SS2.p2.6.m4.1"><semantics id="S4.SS2.p2.6.m4.1a"><mrow id="S4.SS2.p2.6.m4.1.2" xref="S4.SS2.p2.6.m4.1.2.cmml"><mi id="S4.SS2.p2.6.m4.1.2.2" xref="S4.SS2.p2.6.m4.1.2.2.cmml">β</mi><mo id="S4.SS2.p2.6.m4.1.2.1" xref="S4.SS2.p2.6.m4.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.p2.6.m4.1.2.3.2" xref="S4.SS2.p2.6.m4.1.2.cmml"><mo id="S4.SS2.p2.6.m4.1.2.3.2.1" stretchy="false" xref="S4.SS2.p2.6.m4.1.2.cmml">(</mo><mi id="S4.SS2.p2.6.m4.1.1" xref="S4.SS2.p2.6.m4.1.1.cmml">k</mi><mo id="S4.SS2.p2.6.m4.1.2.3.2.2" stretchy="false" xref="S4.SS2.p2.6.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.6.m4.1b"><apply id="S4.SS2.p2.6.m4.1.2.cmml" xref="S4.SS2.p2.6.m4.1.2"><times id="S4.SS2.p2.6.m4.1.2.1.cmml" xref="S4.SS2.p2.6.m4.1.2.1"></times><ci id="S4.SS2.p2.6.m4.1.2.2.cmml" xref="S4.SS2.p2.6.m4.1.2.2">𝛽</ci><ci id="S4.SS2.p2.6.m4.1.1.cmml" xref="S4.SS2.p2.6.m4.1.1">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.6.m4.1c">\beta(k)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.6.m4.1d">italic_β ( italic_k )</annotation></semantics></math> from PI control <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib29" title="">29</a>]</cite> is used during the <math alttext="k^{th}" class="ltx_Math" display="inline" id="S4.SS2.p2.7.m5.1"><semantics id="S4.SS2.p2.7.m5.1a"><msup id="S4.SS2.p2.7.m5.1.1" xref="S4.SS2.p2.7.m5.1.1.cmml"><mi id="S4.SS2.p2.7.m5.1.1.2" xref="S4.SS2.p2.7.m5.1.1.2.cmml">k</mi><mrow id="S4.SS2.p2.7.m5.1.1.3" xref="S4.SS2.p2.7.m5.1.1.3.cmml"><mi id="S4.SS2.p2.7.m5.1.1.3.2" xref="S4.SS2.p2.7.m5.1.1.3.2.cmml">t</mi><mo id="S4.SS2.p2.7.m5.1.1.3.1" xref="S4.SS2.p2.7.m5.1.1.3.1.cmml">⁢</mo><mi id="S4.SS2.p2.7.m5.1.1.3.3" xref="S4.SS2.p2.7.m5.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.7.m5.1b"><apply id="S4.SS2.p2.7.m5.1.1.cmml" xref="S4.SS2.p2.7.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.7.m5.1.1.1.cmml" xref="S4.SS2.p2.7.m5.1.1">superscript</csymbol><ci id="S4.SS2.p2.7.m5.1.1.2.cmml" xref="S4.SS2.p2.7.m5.1.1.2">𝑘</ci><apply id="S4.SS2.p2.7.m5.1.1.3.cmml" xref="S4.SS2.p2.7.m5.1.1.3"><times id="S4.SS2.p2.7.m5.1.1.3.1.cmml" xref="S4.SS2.p2.7.m5.1.1.3.1"></times><ci id="S4.SS2.p2.7.m5.1.1.3.2.cmml" xref="S4.SS2.p2.7.m5.1.1.3.2">𝑡</ci><ci id="S4.SS2.p2.7.m5.1.1.3.3.cmml" xref="S4.SS2.p2.7.m5.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.7.m5.1c">k^{th}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.7.m5.1d">italic_k start_POSTSUPERSCRIPT italic_t italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> training iteration to ensure convergence of the objective function. The term <math alttext="\mathbb{E}_{q_{\phi}(z|m)}\log(p_{\theta}(m|z))" class="ltx_Math" display="inline" id="S4.SS2.p2.8.m6.3"><semantics id="S4.SS2.p2.8.m6.3a"><mrow id="S4.SS2.p2.8.m6.3.3" xref="S4.SS2.p2.8.m6.3.3.cmml"><msub id="S4.SS2.p2.8.m6.3.3.3" xref="S4.SS2.p2.8.m6.3.3.3.cmml"><mi id="S4.SS2.p2.8.m6.3.3.3.2" xref="S4.SS2.p2.8.m6.3.3.3.2.cmml">𝔼</mi><mrow id="S4.SS2.p2.8.m6.1.1.1" xref="S4.SS2.p2.8.m6.1.1.1.cmml"><msub id="S4.SS2.p2.8.m6.1.1.1.3" xref="S4.SS2.p2.8.m6.1.1.1.3.cmml"><mi id="S4.SS2.p2.8.m6.1.1.1.3.2" xref="S4.SS2.p2.8.m6.1.1.1.3.2.cmml">q</mi><mi id="S4.SS2.p2.8.m6.1.1.1.3.3" xref="S4.SS2.p2.8.m6.1.1.1.3.3.cmml">ϕ</mi></msub><mo id="S4.SS2.p2.8.m6.1.1.1.2" xref="S4.SS2.p2.8.m6.1.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p2.8.m6.1.1.1.1.1" xref="S4.SS2.p2.8.m6.1.1.1.1.1.1.cmml"><mo id="S4.SS2.p2.8.m6.1.1.1.1.1.2" stretchy="false" xref="S4.SS2.p2.8.m6.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p2.8.m6.1.1.1.1.1.1" xref="S4.SS2.p2.8.m6.1.1.1.1.1.1.cmml"><mi id="S4.SS2.p2.8.m6.1.1.1.1.1.1.2" xref="S4.SS2.p2.8.m6.1.1.1.1.1.1.2.cmml">z</mi><mo fence="false" id="S4.SS2.p2.8.m6.1.1.1.1.1.1.1" xref="S4.SS2.p2.8.m6.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.SS2.p2.8.m6.1.1.1.1.1.1.3" xref="S4.SS2.p2.8.m6.1.1.1.1.1.1.3.cmml">m</mi></mrow><mo id="S4.SS2.p2.8.m6.1.1.1.1.1.3" stretchy="false" xref="S4.SS2.p2.8.m6.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S4.SS2.p2.8.m6.3.3.2" lspace="0.167em" xref="S4.SS2.p2.8.m6.3.3.2.cmml">⁢</mo><mrow id="S4.SS2.p2.8.m6.3.3.1.1" xref="S4.SS2.p2.8.m6.3.3.1.2.cmml"><mi id="S4.SS2.p2.8.m6.2.2" xref="S4.SS2.p2.8.m6.2.2.cmml">log</mi><mo id="S4.SS2.p2.8.m6.3.3.1.1a" xref="S4.SS2.p2.8.m6.3.3.1.2.cmml">⁡</mo><mrow id="S4.SS2.p2.8.m6.3.3.1.1.1" xref="S4.SS2.p2.8.m6.3.3.1.2.cmml"><mo id="S4.SS2.p2.8.m6.3.3.1.1.1.2" stretchy="false" xref="S4.SS2.p2.8.m6.3.3.1.2.cmml">(</mo><mrow id="S4.SS2.p2.8.m6.3.3.1.1.1.1" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.cmml"><msub id="S4.SS2.p2.8.m6.3.3.1.1.1.1.3" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.3.cmml"><mi id="S4.SS2.p2.8.m6.3.3.1.1.1.1.3.2" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.3.2.cmml">p</mi><mi id="S4.SS2.p2.8.m6.3.3.1.1.1.1.3.3" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S4.SS2.p2.8.m6.3.3.1.1.1.1.2" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.cmml"><mo id="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.2" stretchy="false" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.cmml"><mi id="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.2" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.2.cmml">m</mi><mo fence="false" id="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.1" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.3" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.3.cmml">z</mi></mrow><mo id="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.3" stretchy="false" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.SS2.p2.8.m6.3.3.1.1.1.3" stretchy="false" xref="S4.SS2.p2.8.m6.3.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.8.m6.3b"><apply id="S4.SS2.p2.8.m6.3.3.cmml" xref="S4.SS2.p2.8.m6.3.3"><times id="S4.SS2.p2.8.m6.3.3.2.cmml" xref="S4.SS2.p2.8.m6.3.3.2"></times><apply id="S4.SS2.p2.8.m6.3.3.3.cmml" xref="S4.SS2.p2.8.m6.3.3.3"><csymbol cd="ambiguous" id="S4.SS2.p2.8.m6.3.3.3.1.cmml" xref="S4.SS2.p2.8.m6.3.3.3">subscript</csymbol><ci id="S4.SS2.p2.8.m6.3.3.3.2.cmml" xref="S4.SS2.p2.8.m6.3.3.3.2">𝔼</ci><apply id="S4.SS2.p2.8.m6.1.1.1.cmml" xref="S4.SS2.p2.8.m6.1.1.1"><times id="S4.SS2.p2.8.m6.1.1.1.2.cmml" xref="S4.SS2.p2.8.m6.1.1.1.2"></times><apply id="S4.SS2.p2.8.m6.1.1.1.3.cmml" xref="S4.SS2.p2.8.m6.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p2.8.m6.1.1.1.3.1.cmml" xref="S4.SS2.p2.8.m6.1.1.1.3">subscript</csymbol><ci id="S4.SS2.p2.8.m6.1.1.1.3.2.cmml" xref="S4.SS2.p2.8.m6.1.1.1.3.2">𝑞</ci><ci id="S4.SS2.p2.8.m6.1.1.1.3.3.cmml" xref="S4.SS2.p2.8.m6.1.1.1.3.3">italic-ϕ</ci></apply><apply id="S4.SS2.p2.8.m6.1.1.1.1.1.1.cmml" xref="S4.SS2.p2.8.m6.1.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p2.8.m6.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p2.8.m6.1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.SS2.p2.8.m6.1.1.1.1.1.1.2.cmml" xref="S4.SS2.p2.8.m6.1.1.1.1.1.1.2">𝑧</ci><ci id="S4.SS2.p2.8.m6.1.1.1.1.1.1.3.cmml" xref="S4.SS2.p2.8.m6.1.1.1.1.1.1.3">𝑚</ci></apply></apply></apply><apply id="S4.SS2.p2.8.m6.3.3.1.2.cmml" xref="S4.SS2.p2.8.m6.3.3.1.1"><log id="S4.SS2.p2.8.m6.2.2.cmml" xref="S4.SS2.p2.8.m6.2.2"></log><apply id="S4.SS2.p2.8.m6.3.3.1.1.1.1.cmml" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1"><times id="S4.SS2.p2.8.m6.3.3.1.1.1.1.2.cmml" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.2"></times><apply id="S4.SS2.p2.8.m6.3.3.1.1.1.1.3.cmml" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p2.8.m6.3.3.1.1.1.1.3.1.cmml" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.p2.8.m6.3.3.1.1.1.1.3.2.cmml" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.3.2">𝑝</ci><ci id="S4.SS2.p2.8.m6.3.3.1.1.1.1.3.3.cmml" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.2.cmml" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.2">𝑚</ci><ci id="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.3.cmml" xref="S4.SS2.p2.8.m6.3.3.1.1.1.1.1.1.1.3">𝑧</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.8.m6.3c">\mathbb{E}_{q_{\phi}(z|m)}\log(p_{\theta}(m|z))</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.8.m6.3d">blackboard_E start_POSTSUBSCRIPT italic_q start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( italic_z | italic_m ) end_POSTSUBSCRIPT roman_log ( italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_m | italic_z ) )</annotation></semantics></math> represents the expectation component of ELBO, while <math alttext="KL(q_{\phi}(z|m_{i})\|p_{\theta}(z))" class="ltx_Math" display="inline" id="S4.SS2.p2.9.m7.2"><semantics id="S4.SS2.p2.9.m7.2a"><mrow id="S4.SS2.p2.9.m7.2.2" xref="S4.SS2.p2.9.m7.2.2.cmml"><mi id="S4.SS2.p2.9.m7.2.2.3" xref="S4.SS2.p2.9.m7.2.2.3.cmml">K</mi><mo id="S4.SS2.p2.9.m7.2.2.2" xref="S4.SS2.p2.9.m7.2.2.2.cmml">⁢</mo><mi id="S4.SS2.p2.9.m7.2.2.4" xref="S4.SS2.p2.9.m7.2.2.4.cmml">L</mi><mo id="S4.SS2.p2.9.m7.2.2.2a" xref="S4.SS2.p2.9.m7.2.2.2.cmml">⁢</mo><mrow id="S4.SS2.p2.9.m7.2.2.1.1" xref="S4.SS2.p2.9.m7.2.2.1.1.1.cmml"><mo id="S4.SS2.p2.9.m7.2.2.1.1.2" stretchy="false" xref="S4.SS2.p2.9.m7.2.2.1.1.1.cmml">(</mo><mrow id="S4.SS2.p2.9.m7.2.2.1.1.1" xref="S4.SS2.p2.9.m7.2.2.1.1.1.cmml"><mrow id="S4.SS2.p2.9.m7.2.2.1.1.1.1" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.cmml"><msub id="S4.SS2.p2.9.m7.2.2.1.1.1.1.3" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.3.cmml"><mi id="S4.SS2.p2.9.m7.2.2.1.1.1.1.3.2" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.3.2.cmml">q</mi><mi id="S4.SS2.p2.9.m7.2.2.1.1.1.1.3.3" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.3.3.cmml">ϕ</mi></msub><mo id="S4.SS2.p2.9.m7.2.2.1.1.1.1.2" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.cmml"><mo id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.cmml"><mi id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.2" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.2.cmml">z</mi><mo fence="false" id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.1" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3.2" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3.2.cmml">m</mi><mi id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3.3" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.SS2.p2.9.m7.2.2.1.1.1.2" xref="S4.SS2.p2.9.m7.2.2.1.1.1.2.cmml">∥</mo><mrow id="S4.SS2.p2.9.m7.2.2.1.1.1.3" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.cmml"><msub id="S4.SS2.p2.9.m7.2.2.1.1.1.3.2" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.2.cmml"><mi id="S4.SS2.p2.9.m7.2.2.1.1.1.3.2.2" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.2.2.cmml">p</mi><mi id="S4.SS2.p2.9.m7.2.2.1.1.1.3.2.3" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.2.3.cmml">θ</mi></msub><mo id="S4.SS2.p2.9.m7.2.2.1.1.1.3.1" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.1.cmml">⁢</mo><mrow id="S4.SS2.p2.9.m7.2.2.1.1.1.3.3.2" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.cmml"><mo id="S4.SS2.p2.9.m7.2.2.1.1.1.3.3.2.1" stretchy="false" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.cmml">(</mo><mi id="S4.SS2.p2.9.m7.1.1" xref="S4.SS2.p2.9.m7.1.1.cmml">z</mi><mo id="S4.SS2.p2.9.m7.2.2.1.1.1.3.3.2.2" stretchy="false" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S4.SS2.p2.9.m7.2.2.1.1.3" stretchy="false" xref="S4.SS2.p2.9.m7.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.9.m7.2b"><apply id="S4.SS2.p2.9.m7.2.2.cmml" xref="S4.SS2.p2.9.m7.2.2"><times id="S4.SS2.p2.9.m7.2.2.2.cmml" xref="S4.SS2.p2.9.m7.2.2.2"></times><ci id="S4.SS2.p2.9.m7.2.2.3.cmml" xref="S4.SS2.p2.9.m7.2.2.3">𝐾</ci><ci id="S4.SS2.p2.9.m7.2.2.4.cmml" xref="S4.SS2.p2.9.m7.2.2.4">𝐿</ci><apply id="S4.SS2.p2.9.m7.2.2.1.1.1.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1"><csymbol cd="latexml" id="S4.SS2.p2.9.m7.2.2.1.1.1.2.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.2">conditional</csymbol><apply id="S4.SS2.p2.9.m7.2.2.1.1.1.1.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1"><times id="S4.SS2.p2.9.m7.2.2.1.1.1.1.2.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.2"></times><apply id="S4.SS2.p2.9.m7.2.2.1.1.1.1.3.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p2.9.m7.2.2.1.1.1.1.3.1.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.p2.9.m7.2.2.1.1.1.1.3.2.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.3.2">𝑞</ci><ci id="S4.SS2.p2.9.m7.2.2.1.1.1.1.3.3.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.3.3">italic-ϕ</ci></apply><apply id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.2.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.2">𝑧</ci><apply id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3.2">𝑚</ci><ci id="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S4.SS2.p2.9.m7.2.2.1.1.1.3.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3"><times id="S4.SS2.p2.9.m7.2.2.1.1.1.3.1.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.1"></times><apply id="S4.SS2.p2.9.m7.2.2.1.1.1.3.2.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.SS2.p2.9.m7.2.2.1.1.1.3.2.1.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.2">subscript</csymbol><ci id="S4.SS2.p2.9.m7.2.2.1.1.1.3.2.2.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.2.2">𝑝</ci><ci id="S4.SS2.p2.9.m7.2.2.1.1.1.3.2.3.cmml" xref="S4.SS2.p2.9.m7.2.2.1.1.1.3.2.3">𝜃</ci></apply><ci id="S4.SS2.p2.9.m7.1.1.cmml" xref="S4.SS2.p2.9.m7.1.1">𝑧</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.9.m7.2c">KL(q_{\phi}(z|m_{i})\|p_{\theta}(z))</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.9.m7.2d">italic_K italic_L ( italic_q start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( italic_z | italic_m start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ∥ italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_z ) )</annotation></semantics></math> denotes the KL-divergence component of ELBO. ENOVA uses these labels to manage the components, allowing the few anomalous samples to effectively define the distribution boundaries.</p>
</div>
<figure class="ltx_figure" id="S4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="182" id="S4.F3.g1" src="extracted/5602198/figures/Implement.png" width="538"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>The implementation components of ENOVA, designed to ensure accurate execution of the deployment, monitoring, and autoscaling services.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.5">When utilizing the detection model to identify anomalous performance, ENOVA focuses on the KL-divergence where posterior distribution <math alttext="q_{\phi}(z|m_{i})" class="ltx_Math" display="inline" id="S4.SS2.p3.1.m1.1"><semantics id="S4.SS2.p3.1.m1.1a"><mrow id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml"><msub id="S4.SS2.p3.1.m1.1.1.3" xref="S4.SS2.p3.1.m1.1.1.3.cmml"><mi id="S4.SS2.p3.1.m1.1.1.3.2" xref="S4.SS2.p3.1.m1.1.1.3.2.cmml">q</mi><mi id="S4.SS2.p3.1.m1.1.1.3.3" xref="S4.SS2.p3.1.m1.1.1.3.3.cmml">ϕ</mi></msub><mo id="S4.SS2.p3.1.m1.1.1.2" xref="S4.SS2.p3.1.m1.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p3.1.m1.1.1.1.1" xref="S4.SS2.p3.1.m1.1.1.1.1.1.cmml"><mo id="S4.SS2.p3.1.m1.1.1.1.1.2" stretchy="false" xref="S4.SS2.p3.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p3.1.m1.1.1.1.1.1" xref="S4.SS2.p3.1.m1.1.1.1.1.1.cmml"><mi id="S4.SS2.p3.1.m1.1.1.1.1.1.2" xref="S4.SS2.p3.1.m1.1.1.1.1.1.2.cmml">z</mi><mo fence="false" id="S4.SS2.p3.1.m1.1.1.1.1.1.1" xref="S4.SS2.p3.1.m1.1.1.1.1.1.1.cmml">|</mo><msub id="S4.SS2.p3.1.m1.1.1.1.1.1.3" xref="S4.SS2.p3.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p3.1.m1.1.1.1.1.1.3.2" xref="S4.SS2.p3.1.m1.1.1.1.1.1.3.2.cmml">m</mi><mi id="S4.SS2.p3.1.m1.1.1.1.1.1.3.3" xref="S4.SS2.p3.1.m1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S4.SS2.p3.1.m1.1.1.1.1.3" stretchy="false" xref="S4.SS2.p3.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><apply id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1"><times id="S4.SS2.p3.1.m1.1.1.2.cmml" xref="S4.SS2.p3.1.m1.1.1.2"></times><apply id="S4.SS2.p3.1.m1.1.1.3.cmml" xref="S4.SS2.p3.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.1.m1.1.1.3.1.cmml" xref="S4.SS2.p3.1.m1.1.1.3">subscript</csymbol><ci id="S4.SS2.p3.1.m1.1.1.3.2.cmml" xref="S4.SS2.p3.1.m1.1.1.3.2">𝑞</ci><ci id="S4.SS2.p3.1.m1.1.1.3.3.cmml" xref="S4.SS2.p3.1.m1.1.1.3.3">italic-ϕ</ci></apply><apply id="S4.SS2.p3.1.m1.1.1.1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p3.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.SS2.p3.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.1.m1.1.1.1.1.1.2">𝑧</ci><apply id="S4.SS2.p3.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p3.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.p3.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p3.1.m1.1.1.1.1.1.3.2">𝑚</ci><ci id="S4.SS2.p3.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p3.1.m1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">q_{\phi}(z|m_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.1.m1.1d">italic_q start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( italic_z | italic_m start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> is deviated from prior distribution <math alttext="p_{\theta}(z)" class="ltx_Math" display="inline" id="S4.SS2.p3.2.m2.1"><semantics id="S4.SS2.p3.2.m2.1a"><mrow id="S4.SS2.p3.2.m2.1.2" xref="S4.SS2.p3.2.m2.1.2.cmml"><msub id="S4.SS2.p3.2.m2.1.2.2" xref="S4.SS2.p3.2.m2.1.2.2.cmml"><mi id="S4.SS2.p3.2.m2.1.2.2.2" xref="S4.SS2.p3.2.m2.1.2.2.2.cmml">p</mi><mi id="S4.SS2.p3.2.m2.1.2.2.3" xref="S4.SS2.p3.2.m2.1.2.2.3.cmml">θ</mi></msub><mo id="S4.SS2.p3.2.m2.1.2.1" xref="S4.SS2.p3.2.m2.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.p3.2.m2.1.2.3.2" xref="S4.SS2.p3.2.m2.1.2.cmml"><mo id="S4.SS2.p3.2.m2.1.2.3.2.1" stretchy="false" xref="S4.SS2.p3.2.m2.1.2.cmml">(</mo><mi id="S4.SS2.p3.2.m2.1.1" xref="S4.SS2.p3.2.m2.1.1.cmml">z</mi><mo id="S4.SS2.p3.2.m2.1.2.3.2.2" stretchy="false" xref="S4.SS2.p3.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m2.1b"><apply id="S4.SS2.p3.2.m2.1.2.cmml" xref="S4.SS2.p3.2.m2.1.2"><times id="S4.SS2.p3.2.m2.1.2.1.cmml" xref="S4.SS2.p3.2.m2.1.2.1"></times><apply id="S4.SS2.p3.2.m2.1.2.2.cmml" xref="S4.SS2.p3.2.m2.1.2.2"><csymbol cd="ambiguous" id="S4.SS2.p3.2.m2.1.2.2.1.cmml" xref="S4.SS2.p3.2.m2.1.2.2">subscript</csymbol><ci id="S4.SS2.p3.2.m2.1.2.2.2.cmml" xref="S4.SS2.p3.2.m2.1.2.2.2">𝑝</ci><ci id="S4.SS2.p3.2.m2.1.2.2.3.cmml" xref="S4.SS2.p3.2.m2.1.2.2.3">𝜃</ci></apply><ci id="S4.SS2.p3.2.m2.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1">𝑧</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m2.1c">p_{\theta}(z)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.2.m2.1d">italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_z )</annotation></semantics></math>. The threshold for detecting anomalies is automatically set using the peaks-over-threshold method <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib30" title="">30</a>]</cite>. An anomaly is detected if the KL-divergence for <math alttext="m_{i}" class="ltx_Math" display="inline" id="S4.SS2.p3.3.m3.1"><semantics id="S4.SS2.p3.3.m3.1a"><msub id="S4.SS2.p3.3.m3.1.1" xref="S4.SS2.p3.3.m3.1.1.cmml"><mi id="S4.SS2.p3.3.m3.1.1.2" xref="S4.SS2.p3.3.m3.1.1.2.cmml">m</mi><mi id="S4.SS2.p3.3.m3.1.1.3" xref="S4.SS2.p3.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.3.m3.1b"><apply id="S4.SS2.p3.3.m3.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.3.m3.1.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.p3.3.m3.1.1.2.cmml" xref="S4.SS2.p3.3.m3.1.1.2">𝑚</ci><ci id="S4.SS2.p3.3.m3.1.1.3.cmml" xref="S4.SS2.p3.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.3.m3.1c">m_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.3.m3.1d">italic_m start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> exceeds this threshold. Additionally, as the normalized values of input metrics can indicate either overload or underload, ENOVA uses the Mean Difference (MD) between the input metrics <math alttext="m" class="ltx_Math" display="inline" id="S4.SS2.p3.4.m4.1"><semantics id="S4.SS2.p3.4.m4.1a"><mi id="S4.SS2.p3.4.m4.1.1" xref="S4.SS2.p3.4.m4.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.4.m4.1b"><ci id="S4.SS2.p3.4.m4.1.1.cmml" xref="S4.SS2.p3.4.m4.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.4.m4.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.4.m4.1d">italic_m</annotation></semantics></math> and the reconstructed metrics <math alttext="m^{\prime}" class="ltx_Math" display="inline" id="S4.SS2.p3.5.m5.1"><semantics id="S4.SS2.p3.5.m5.1a"><msup id="S4.SS2.p3.5.m5.1.1" xref="S4.SS2.p3.5.m5.1.1.cmml"><mi id="S4.SS2.p3.5.m5.1.1.2" xref="S4.SS2.p3.5.m5.1.1.2.cmml">m</mi><mo id="S4.SS2.p3.5.m5.1.1.3" xref="S4.SS2.p3.5.m5.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.5.m5.1b"><apply id="S4.SS2.p3.5.m5.1.1.cmml" xref="S4.SS2.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.5.m5.1.1.1.cmml" xref="S4.SS2.p3.5.m5.1.1">superscript</csymbol><ci id="S4.SS2.p3.5.m5.1.1.2.cmml" xref="S4.SS2.p3.5.m5.1.1.2">𝑚</ci><ci id="S4.SS2.p3.5.m5.1.1.3.cmml" xref="S4.SS2.p3.5.m5.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.5.m5.1c">m^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.5.m5.1d">italic_m start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> to decide whether to scale up or down. Based on these, ENOVA then adjusts the service configurations using the service configuration module.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span class="ltx_text ltx_font_smallcaps" id="S5.1.1">System Implementation</span>
</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">To ensure precise execution of the aforementioned methodologies, ENOVA has designed and implemented an advanced execution engine. This engine effectively manages deployment, monitoring, and autoscaling operations within multi-GPU clusters. Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.F3" title="Figure 3 ‣ IV-B Performance Detection Module ‣ IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">3</span></a> illustrates the architecture of this engine, which is primarily composed of two main components: the LLM deployer and the monitoring system. In the subsequent sections, we provide a detailed description of each component, explaining their functionalities and interactions within the system.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">The LLM deployer enables the automatic deployment of LLM services, utilizing both multi-cluster and local-cluster schedulers. Once receiving a target LLM along with its recommended configurations, the multi-cluster job scheduler will start communication with designated local clusters. Concurrently, the local-cluster job scheduler launches the LLM service on available resources, corresponding to the predefined LLM serving framework. Notably, during the service deployment, ENOVA will support various LLM technologies, including vllm <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib8" title="">8</a>]</cite> and TensorRT-LLM <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib31" title="">31</a>]</cite>. Following deployment, the LLM service becomes accessible through a multi-cluster ingress system. This setup ensures that incoming user requests are efficiently directed to the appropriate local cluster, where they are handled by a specific replica of the LLM service.</p>
</div>
<div class="ltx_para" id="S5.p3">
<p class="ltx_p" id="S5.p3.1">The monitoring system is designed for monitoring and auto-scaling, which contains real-time data collection, storage, and consumption. First, the involved data are mainly from three layers, namely hardware, LLM inference, and load balancer. For data collection in hardware and load balancer layers, ENOVA directly adopts previous mature toolkit like dcgm exporter <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib32" title="">32</a>]</cite> and Prometheus exporters <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib33" title="">33</a>]</cite>. For data collection in LLM inference layer, ENOVA provides a fine-grained collection tool based on opentelemetry collector <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib34" title="">34</a>]</cite> in order to deconstruct the execution processes inside LLMs. Then, all collected data will be stored in time series database and consumed via stream computing framework. The performance detector is executed in streaming computing framework. Once the service quality degradation or anomalous resource utilization is detected, ENOVA will redetermine the optimal configurations and reschedule the LLM service via multi-level job scheduler.</p>
</div>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VI </span><span class="ltx_text ltx_font_smallcaps" id="S6.1.1">Evaluation</span>
</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this section, we evaluate whether ENOVA effectively address the practical problems mentioned in section <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S3.SS1" title="III-A Problem Formulation ‣ III Motivation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-A</span></span></a> and accomplish the goal that developers no longer need to spend time providing stable and scalable LLM service. Experiments are conducted to investigate the following questions.</p>
</div>
<div class="ltx_para" id="S6.p2">
<ul class="ltx_itemize" id="S6.I1">
<li class="ltx_item" id="S6.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S6.I1.i1.p1">
<p class="ltx_p" id="S6.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S6.I1.i1.p1.1.1">RQ1:</span> Whether the service configuration module can achieve <span class="ltx_text ltx_font_bold" id="S6.I1.i1.p1.1.2">multi-agent</span> and <span class="ltx_text ltx_font_bold" id="S6.I1.i1.p1.1.3">multi-GPU deployment goals</span> by reducing cost and enhancing interactive performance of LLM service?</p>
</div>
</li>
<li class="ltx_item" id="S6.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S6.I1.i2.p1">
<p class="ltx_p" id="S6.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S6.I1.i2.p1.1.1">RQ2:</span> Whether the performance detection module can achieve <span class="ltx_text ltx_font_bold" id="S6.I1.i2.p1.1.2">autoscaling goal</span> by accurately detecting anomalous resource utilization or service quality and redetermining the configurations of autoscaling?</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_figure" id="S6.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="167" id="S6.F4.g1" src="extracted/5602198/figures/op_config.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>The throughput and latency performance comparison between ENOVA and baselines on five LLMs.</figcaption>
</figure>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S6.SS1.4.1.1">VI-A</span> </span><span class="ltx_text ltx_font_italic" id="S6.SS1.5.2">RQ1: Whether Service Configuration Module Enhances Performance Efficiently</span>
</h3>
<section class="ltx_subsubsection" id="S6.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text" id="S6.SS1.SSS1.4.1.1">VI-A</span>1 </span>Experiment setup</h4>
<div class="ltx_para" id="S6.SS1.SSS1.p1">
<p class="ltx_p" id="S6.SS1.SSS1.p1.6">To evaluate the service configuration module in ENOVA, we have designed experiments to assess the serving performance using ENOVA compared with established baselines. First, we selected the experimental datasets and devices to reflect the diversity of task targets and deployment in multi-GPU clusters. For this purpose, we utilize two standard datasets: grade school math 8K (gsm8k) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib35" title="">35</a>]</cite>, representing mathematical tasks, and mostly basic python programming (mbpp) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib36" title="">36</a>]</cite>, denoting programming domains. We meticulously designed the data prompts to evaluate the performance under various prompting paradigms, including zero-shot, few-shot, and chain-of-thought approaches. An example of zero-shot prompt is as follows:</p>
<blockquote class="ltx_quote" id="S6.SS1.SSS1.p1.7">
<p class="ltx_p" id="S6.SS1.SSS1.p1.7.1">”You are a software development expert skilled in Python programming. Your task is to develop a Python function that meets the following specifications. Please ensure your code is concise, well-documented, and accurately meets all the specified requirements.
<br class="ltx_break"/>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S6.SS1.SSS1.p1.7.1.1">Task Description:</span>
<br class="ltx_break"/>Write a function to find the minimum cost path to reach (m, n) from (0, 0) for the given cost matrix cost[][] and a position (m, n) in cost[][].”</p>
</blockquote>
<p class="ltx_p" id="S6.SS1.SSS1.p1.5">The hardware setup includes small-scale multi-GPU clusters built with NVIDIA A100 80 GB and NVIDIA RTX 4090 24 GB, each equipped with 8 GPUs. Furthermore, to simulate realistic LLM services, we deploy LLMs with multiple architectures such as Llama2 <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib37" title="">37</a>]</cite> with <math alttext="7" class="ltx_Math" display="inline" id="S6.SS1.SSS1.p1.1.m1.1"><semantics id="S6.SS1.SSS1.p1.1.m1.1a"><mn id="S6.SS1.SSS1.p1.1.m1.1.1" xref="S6.SS1.SSS1.p1.1.m1.1.1.cmml">7</mn><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS1.p1.1.m1.1b"><cn id="S6.SS1.SSS1.p1.1.m1.1.1.cmml" type="integer" xref="S6.SS1.SSS1.p1.1.m1.1.1">7</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS1.p1.1.m1.1c">7</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS1.p1.1.m1.1d">7</annotation></semantics></math>B, <math alttext="13" class="ltx_Math" display="inline" id="S6.SS1.SSS1.p1.2.m2.1"><semantics id="S6.SS1.SSS1.p1.2.m2.1a"><mn id="S6.SS1.SSS1.p1.2.m2.1.1" xref="S6.SS1.SSS1.p1.2.m2.1.1.cmml">13</mn><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS1.p1.2.m2.1b"><cn id="S6.SS1.SSS1.p1.2.m2.1.1.cmml" type="integer" xref="S6.SS1.SSS1.p1.2.m2.1.1">13</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS1.p1.2.m2.1c">13</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS1.p1.2.m2.1d">13</annotation></semantics></math>B and <math alttext="70" class="ltx_Math" display="inline" id="S6.SS1.SSS1.p1.3.m3.1"><semantics id="S6.SS1.SSS1.p1.3.m3.1a"><mn id="S6.SS1.SSS1.p1.3.m3.1.1" xref="S6.SS1.SSS1.p1.3.m3.1.1.cmml">70</mn><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS1.p1.3.m3.1b"><cn id="S6.SS1.SSS1.p1.3.m3.1.1.cmml" type="integer" xref="S6.SS1.SSS1.p1.3.m3.1.1">70</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS1.p1.3.m3.1c">70</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS1.p1.3.m3.1d">70</annotation></semantics></math>B parameters and Mistral<cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib38" title="">38</a>]</cite> with <math alttext="7" class="ltx_Math" display="inline" id="S6.SS1.SSS1.p1.4.m4.1"><semantics id="S6.SS1.SSS1.p1.4.m4.1a"><mn id="S6.SS1.SSS1.p1.4.m4.1.1" xref="S6.SS1.SSS1.p1.4.m4.1.1.cmml">7</mn><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS1.p1.4.m4.1b"><cn id="S6.SS1.SSS1.p1.4.m4.1.1.cmml" type="integer" xref="S6.SS1.SSS1.p1.4.m4.1.1">7</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS1.p1.4.m4.1c">7</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS1.p1.4.m4.1d">7</annotation></semantics></math>B and <math alttext="8\times 7" class="ltx_Math" display="inline" id="S6.SS1.SSS1.p1.5.m5.1"><semantics id="S6.SS1.SSS1.p1.5.m5.1a"><mrow id="S6.SS1.SSS1.p1.5.m5.1.1" xref="S6.SS1.SSS1.p1.5.m5.1.1.cmml"><mn id="S6.SS1.SSS1.p1.5.m5.1.1.2" xref="S6.SS1.SSS1.p1.5.m5.1.1.2.cmml">8</mn><mo id="S6.SS1.SSS1.p1.5.m5.1.1.1" lspace="0.222em" rspace="0.222em" xref="S6.SS1.SSS1.p1.5.m5.1.1.1.cmml">×</mo><mn id="S6.SS1.SSS1.p1.5.m5.1.1.3" xref="S6.SS1.SSS1.p1.5.m5.1.1.3.cmml">7</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS1.p1.5.m5.1b"><apply id="S6.SS1.SSS1.p1.5.m5.1.1.cmml" xref="S6.SS1.SSS1.p1.5.m5.1.1"><times id="S6.SS1.SSS1.p1.5.m5.1.1.1.cmml" xref="S6.SS1.SSS1.p1.5.m5.1.1.1"></times><cn id="S6.SS1.SSS1.p1.5.m5.1.1.2.cmml" type="integer" xref="S6.SS1.SSS1.p1.5.m5.1.1.2">8</cn><cn id="S6.SS1.SSS1.p1.5.m5.1.1.3.cmml" type="integer" xref="S6.SS1.SSS1.p1.5.m5.1.1.3">7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS1.p1.5.m5.1c">8\times 7</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS1.p1.5.m5.1d">8 × 7</annotation></semantics></math>B parameters. The deployment of LLM services on these clusters is tested under certain load conditions, generated using a Poisson distribution for request arrival times, as outlined in <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib8" title="">8</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S6.SS1.SSS1.p2">
<p class="ltx_p" id="S6.SS1.SSS1.p2.2">Second, the baseline methods are selected to evaluate configuration recommendation module in ENOVA. Here we choose three baselines which are:</p>
<ul class="ltx_itemize" id="S6.I2">
<li class="ltx_item" id="S6.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S6.I2.i1.p1">
<p class="ltx_p" id="S6.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S6.I2.i1.p1.1.1">Default</span> configurations are adopted as a blank baseline, which is set to verify the necessity of configuration recommendation.</p>
</div>
</li>
<li class="ltx_item" id="S6.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S6.I2.i2.p1">
<p class="ltx_p" id="S6.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S6.I2.i2.p1.1.1">COSE</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib39" title="">39</a>]</cite> is a framework that uses Gaussian Process Bayesian Optimization (GPBO) to find the optimal configurations of LLM service.</p>
</div>
</li>
<li class="ltx_item" id="S6.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S6.I2.i3.p1">
<p class="ltx_p" id="S6.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S6.I2.i3.p1.1.1">DDPG</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib40" title="">40</a>]</cite> is a reinforcement learning technique which combines both Q-learning and policy gradients to find optimal configurations.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S6.SS1.SSS1.p2.1">When adopting baseline approaches to recommend configurations, the objective function is to maximize the throughput of LLM service. In addition, due to the lack of deployment and scheduling ability of baselines, recommended configurations of baselines will be executed based on deployment execution module in ENOVA, while both the replicas of LLM service in A100 80 GB and 4090 24 GB are set to <math alttext="1" class="ltx_Math" display="inline" id="S6.SS1.SSS1.p2.1.m1.1"><semantics id="S6.SS1.SSS1.p2.1.m1.1a"><mn id="S6.SS1.SSS1.p2.1.m1.1.1" xref="S6.SS1.SSS1.p2.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS1.p2.1.m1.1b"><cn id="S6.SS1.SSS1.p2.1.m1.1.1.cmml" type="integer" xref="S6.SS1.SSS1.p2.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS1.p2.1.m1.1c">1</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS1.p2.1.m1.1d">1</annotation></semantics></math> to avoid interference from hardware factors.</p>
</div>
<div class="ltx_para" id="S6.SS1.SSS1.p3">
<p class="ltx_p" id="S6.SS1.SSS1.p3.1">Third, the evaluation metrics need to characterize the serving performance and service accuracy. For serving performance, we adopt two metrics, namely <span class="ltx_text ltx_font_bold" id="S6.SS1.SSS1.p3.1.1">throughput</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib8" title="">8</a>]</cite> which is the average number of output tokens per GPU per second and <span class="ltx_text ltx_font_bold" id="S6.SS1.SSS1.p3.1.2">latency</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib10" title="">10</a>]</cite> which is the average execution time of user requests divided by its output length. In addition, we adopt <math alttext="15" class="ltx_Math" display="inline" id="S6.SS1.SSS1.p3.1.m1.1"><semantics id="S6.SS1.SSS1.p3.1.m1.1a"><mn id="S6.SS1.SSS1.p3.1.m1.1.1" xref="S6.SS1.SSS1.p3.1.m1.1.1.cmml">15</mn><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS1.p3.1.m1.1b"><cn id="S6.SS1.SSS1.p3.1.m1.1.1.cmml" type="integer" xref="S6.SS1.SSS1.p3.1.m1.1.1">15</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS1.p3.1.m1.1c">15</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS1.p3.1.m1.1d">15</annotation></semantics></math> minute traces to evaluate serving performance in high-throughput system. For service accuracy, we adopt <span class="ltx_text ltx_font_bold" id="S6.SS1.SSS1.p3.1.3">accuracy</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib35" title="">35</a>]</cite> for gsm8k dataset which is the ratio of corrected answered requests to all requests and <span class="ltx_text ltx_font_bold" id="S6.SS1.SSS1.p3.1.4">pass@1</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib36" title="">36</a>]</cite> for mbpp dataset which is the ratio of passed answers to all requests.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S6.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text" id="S6.SS1.SSS2.4.1.1">VI-A</span>2 </span>Overall serving performance</h4>
<div class="ltx_para" id="S6.SS1.SSS2.p1">
<p class="ltx_p" id="S6.SS1.SSS2.p1.1">We evaluate the serving performance of ENOVA and baselines on five LLMs and two datasets in different application domains. Table <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.T3" title="TABLE III ‣ VI-A2 Overall serving performance ‣ VI-A RQ1: Whether Service Configuration Module Enhances Performance Efficiently ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">III</span></a> shows the part of recommended configurations of ENOVA and baselines. Since baselines can not cluster user requests, we take gsm8k and mbpp as two clusters, and directly recommend the max tokens of these two datasets. We can observe that baselines have higher <span class="ltx_text ltx_font_italic" id="S6.SS1.SSS2.p1.1.1">max_num_seq</span> and <span class="ltx_text ltx_font_italic" id="S6.SS1.SSS2.p1.1.2">max_tokens</span> for higher throughput of LLM service. Then we compare the serving performance with recommended configurations based on ENOVA and baselines. Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.F4" title="Figure 4 ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">4</span></a> presents the throughput and latency on five LLMs with increasing requests per second (denoted as tps). First, we can observe that as the tps of user request increases, the throughput tends to the upper limit, while the latency slightly increases at first and then suddenly explodes. The is caused by that fact that when the number of user requests being processed exceeds maximal <span class="ltx_text ltx_font_italic" id="S6.SS1.SSS2.p1.1.3">max_num_seq</span>, new requests will be pended until one of previous requests has completed. With more and more pending requests, the latency of LLM service explodes.</p>
</div>
<figure class="ltx_table" id="S6.T3">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE III: </span>The part of recommended configuration comparison between ENOVA and baselines.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T3.1">
<tr class="ltx_tr" id="S6.T3.1.1">
<td class="ltx_td ltx_border_t" id="S6.T3.1.1.1" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.1.2" style="padding-top:1pt;padding-bottom:1pt;">LLM</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.1.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S6.T3.1.1.3.1">max_num_seq</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.1.4" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S6.T3.1.1.4.1">max_tokens</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.1.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S6.T3.1.1.5.1">weights</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.2.1" rowspan="2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T3.1.2.1.1">Default</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.2.2" style="padding-top:1pt;padding-bottom:1pt;">L-7B</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.2.3" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.2.3.1"></span> <span class="ltx_text" id="S6.T3.1.2.3.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.2.3.2.1">
<span class="ltx_tr" id="S6.T3.1.2.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.2.3.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 8</span></span>
<span class="ltx_tr" id="S6.T3.1.2.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.2.3.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 8</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.2.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.2.4" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.2.4.1"></span> <span class="ltx_text" id="S6.T3.1.2.4.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.2.4.2.1">
<span class="ltx_tr" id="S6.T3.1.2.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.2.4.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">gsm8k: 256</span></span>
<span class="ltx_tr" id="S6.T3.1.2.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.2.4.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">mbpp: 256</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.2.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.2.5" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.2.5.1"></span> <span class="ltx_text" id="S6.T3.1.2.5.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.2.5.2.1">
<span class="ltx_tr" id="S6.T3.1.2.5.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.2.5.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 1</span></span>
<span class="ltx_tr" id="S6.T3.1.2.5.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.2.5.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 1</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.2.5.3"></span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.3">
<td class="ltx_td ltx_align_center" id="S6.T3.1.3.1" style="padding-top:1pt;padding-bottom:1pt;">L-70B</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.3.2" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.3.2.1"></span> <span class="ltx_text" id="S6.T3.1.3.2.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.3.2.2.1">
<span class="ltx_tr" id="S6.T3.1.3.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.3.2.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 8</span></span>
<span class="ltx_tr" id="S6.T3.1.3.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.3.2.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 8</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.3.2.3"></span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.3.3" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.3.3.1"></span> <span class="ltx_text" id="S6.T3.1.3.3.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.3.3.2.1">
<span class="ltx_tr" id="S6.T3.1.3.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.3.3.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">gsm8k: 256</span></span>
<span class="ltx_tr" id="S6.T3.1.3.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.3.3.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">mbpp: 256</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.3.3.3"></span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.3.4" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.3.4.1"></span> <span class="ltx_text" id="S6.T3.1.3.4.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.3.4.2.1">
<span class="ltx_tr" id="S6.T3.1.3.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.3.4.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 1</span></span>
<span class="ltx_tr" id="S6.T3.1.3.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.3.4.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 1</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.3.4.3"></span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.1" rowspan="2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T3.1.4.1.1">COSE</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.2" style="padding-top:1pt;padding-bottom:1pt;">L-7B</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.3" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.4.3.1"></span> <span class="ltx_text" id="S6.T3.1.4.3.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.4.3.2.1">
<span class="ltx_tr" id="S6.T3.1.4.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.4.3.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 502</span></span>
<span class="ltx_tr" id="S6.T3.1.4.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.4.3.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 462</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.4.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.4" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.4.4.1"></span> <span class="ltx_text" id="S6.T3.1.4.4.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.4.4.2.1">
<span class="ltx_tr" id="S6.T3.1.4.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.4.4.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">gsm8k: 970</span></span>
<span class="ltx_tr" id="S6.T3.1.4.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.4.4.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">mbpp: 1681</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.4.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.5" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.4.5.1"></span> <span class="ltx_text" id="S6.T3.1.4.5.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.4.5.2.1">
<span class="ltx_tr" id="S6.T3.1.4.5.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.4.5.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 1</span></span>
<span class="ltx_tr" id="S6.T3.1.4.5.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.4.5.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 0.92</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.4.5.3"></span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.5">
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.1" style="padding-top:1pt;padding-bottom:1pt;">L-70B</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.2" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.5.2.1"></span> <span class="ltx_text" id="S6.T3.1.5.2.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.5.2.2.1">
<span class="ltx_tr" id="S6.T3.1.5.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.5.2.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 42</span></span>
<span class="ltx_tr" id="S6.T3.1.5.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.5.2.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 24</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.5.2.3"></span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.3" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.5.3.1"></span> <span class="ltx_text" id="S6.T3.1.5.3.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.5.3.2.1">
<span class="ltx_tr" id="S6.T3.1.5.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.5.3.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">gsm8k: 784</span></span>
<span class="ltx_tr" id="S6.T3.1.5.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.5.3.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">mbpp: 1879</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.5.3.3"></span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.4" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.5.4.1"></span> <span class="ltx_text" id="S6.T3.1.5.4.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.5.4.2.1">
<span class="ltx_tr" id="S6.T3.1.5.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.5.4.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 1</span></span>
<span class="ltx_tr" id="S6.T3.1.5.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.5.4.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 0.57</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.5.4.3"></span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.6">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.6.1" rowspan="2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T3.1.6.1.1">DDPG</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.6.2" style="padding-top:1pt;padding-bottom:1pt;">L-7B</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.6.3" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.6.3.1"></span> <span class="ltx_text" id="S6.T3.1.6.3.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.6.3.2.1">
<span class="ltx_tr" id="S6.T3.1.6.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.6.3.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 452</span></span>
<span class="ltx_tr" id="S6.T3.1.6.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.6.3.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 386</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.6.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.6.4" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.6.4.1"></span> <span class="ltx_text" id="S6.T3.1.6.4.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.6.4.2.1">
<span class="ltx_tr" id="S6.T3.1.6.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.6.4.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">gsm8k: 629</span></span>
<span class="ltx_tr" id="S6.T3.1.6.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.6.4.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">mbpp: 1648</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.6.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.6.5" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.6.5.1"></span> <span class="ltx_text" id="S6.T3.1.6.5.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.6.5.2.1">
<span class="ltx_tr" id="S6.T3.1.6.5.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.6.5.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 1</span></span>
<span class="ltx_tr" id="S6.T3.1.6.5.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.6.5.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 0.85</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.6.5.3"></span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.7">
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.1" style="padding-top:1pt;padding-bottom:1pt;">L-70B</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.2" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.7.2.1"></span> <span class="ltx_text" id="S6.T3.1.7.2.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.7.2.2.1">
<span class="ltx_tr" id="S6.T3.1.7.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.7.2.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 34</span></span>
<span class="ltx_tr" id="S6.T3.1.7.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.7.2.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 20</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.7.2.3"></span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.3" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.7.3.1"></span> <span class="ltx_text" id="S6.T3.1.7.3.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.7.3.2.1">
<span class="ltx_tr" id="S6.T3.1.7.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.7.3.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">gsm8k: 728</span></span>
<span class="ltx_tr" id="S6.T3.1.7.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.7.3.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">mbpp: 1938</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.7.3.3"></span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.4" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.7.4.1"></span> <span class="ltx_text" id="S6.T3.1.7.4.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.7.4.2.1">
<span class="ltx_tr" id="S6.T3.1.7.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.7.4.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 1</span></span>
<span class="ltx_tr" id="S6.T3.1.7.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.7.4.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 0.59</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.7.4.3"></span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.8">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S6.T3.1.8.1" rowspan="2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T3.1.8.1.1">ENOVA</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.8.2" style="padding-top:1pt;padding-bottom:1pt;">L-7B</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.8.3" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.8.3.1"></span> <span class="ltx_text" id="S6.T3.1.8.3.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.8.3.2.1">
<span class="ltx_tr" id="S6.T3.1.8.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.8.3.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 144</span></span>
<span class="ltx_tr" id="S6.T3.1.8.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.8.3.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 128</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.8.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.8.4" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.8.4.1"></span> <span class="ltx_text" id="S6.T3.1.8.4.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.8.4.2.1">
<span class="ltx_tr" id="S6.T3.1.8.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.8.4.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">gsm8k: 414</span></span>
<span class="ltx_tr" id="S6.T3.1.8.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.8.4.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">mbpp: 956</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.8.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.8.5" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.8.5.1"></span> <span class="ltx_text" id="S6.T3.1.8.5.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.8.5.2.1">
<span class="ltx_tr" id="S6.T3.1.8.5.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.8.5.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 1</span></span>
<span class="ltx_tr" id="S6.T3.1.8.5.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.8.5.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 0.89</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.8.5.3"></span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.9">
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T3.1.9.1" style="padding-top:1pt;padding-bottom:1pt;">L-70B</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T3.1.9.2" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.9.2.1"></span> <span class="ltx_text" id="S6.T3.1.9.2.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.9.2.2.1">
<span class="ltx_tr" id="S6.T3.1.9.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.9.2.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 24</span></span>
<span class="ltx_tr" id="S6.T3.1.9.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.9.2.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 16</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.9.2.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T3.1.9.3" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.9.3.1"></span> <span class="ltx_text" id="S6.T3.1.9.3.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.9.3.2.1">
<span class="ltx_tr" id="S6.T3.1.9.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.9.3.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">gsm8k: 414</span></span>
<span class="ltx_tr" id="S6.T3.1.9.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.9.3.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">mbpp: 956</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.9.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T3.1.9.4" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T3.1.9.4.1"></span> <span class="ltx_text" id="S6.T3.1.9.4.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.9.4.2.1">
<span class="ltx_tr" id="S6.T3.1.9.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.9.4.2.1.1.1" style="padding-top:1pt;padding-bottom:1pt;">A100: 1</span></span>
<span class="ltx_tr" id="S6.T3.1.9.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.9.4.2.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">4090: 0.67</span></span>
</span></span><span class="ltx_text" id="S6.T3.1.9.4.3"></span></td>
</tr>
</table>
</figure>
<figure class="ltx_figure" id="S6.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="180" id="S6.F5.g1" src="extracted/5602198/figures/acc.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>The accuracy and pass@1 of five LLMs on gsm8k and mbpp dataset respectively.</figcaption>
</figure>
<div class="ltx_para" id="S6.SS1.SSS2.p2">
<p class="ltx_p" id="S6.SS1.SSS2.p2.1">Second, increasing <span class="ltx_text ltx_font_italic" id="S6.SS1.SSS2.p2.1.1">max_num_seq</span> will not result in a higher throughput, but a higher latency. The upper five subplots in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.F4" title="Figure 4 ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">4</span></a> have presented that the throughput of ENOVA, COSE and DDPG on five LLMs has no significant differences, although COSE and DDPG recommend higher values. Further analysis reveals that increasing <span class="ltx_text ltx_font_italic" id="S6.SS1.SSS2.p2.1.2">max_num_seq</span> leads to the processing of a greater number of user requests during next token generation, which consequently results in higher latency. It appears that the final throughput approaches a limit, which is primarily constrained by the computational capabilities of the GPUs utilized. This observation underscores the critical role of ENOVA in monitoring the execution processes of LLM services. By integrating monitoring metrics that capture the diversity of tasks assigned to LLM agents and the characteristics of different GPU devices, ENOVA can effectively map the execution dynamics of LLMs across various GPU configurations. This capability enables ENOVA to determine the optimal <span class="ltx_text ltx_font_italic" id="S6.SS1.SSS2.p2.1.3">max_num_seq</span>.</p>
</div>
<div class="ltx_para" id="S6.SS1.SSS2.p3">
<p class="ltx_p" id="S6.SS1.SSS2.p3.2">Third, improper <span class="ltx_text ltx_font_italic" id="S6.SS1.SSS2.p3.2.1">max_tokens</span> and <span class="ltx_text ltx_font_italic" id="S6.SS1.SSS2.p3.2.2">weight</span> may cause lower tps and early explosion. As depicted in the lower five subplots of Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.F4" title="Figure 4 ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">4</span></a>, ENOVA consistently achieved higher tps compared to baseline configurations. This improvement is attributed to ENOVA’s superior handling of diverse requests. Specifically, not all user requests have optimally designed prompts that LLMs can predict accurately, leading some requests to generate the maximum allowable output tokens. An increased <span class="ltx_text ltx_font_italic" id="S6.SS1.SSS2.p3.2.3">max_tokens</span> configuration is associated with higher end-to-end execution times, which in turn results in reduced tps and potential early system overload. Moreover, an improperly configured load balancer <span class="ltx_text ltx_font_italic" id="S6.SS1.SSS2.p3.2.4">weight</span> can further exacerbate these issues. If the load balancer routes new requests to already heavily loaded replicas, it can lead to early explosions even when other replicas remain underutilized. The implications of these configurations are essential, as evidenced by ENOVA’s ability to sustain tps <math alttext="2\times" class="ltx_math_unparsed" display="inline" id="S6.SS1.SSS2.p3.1.m1.1"><semantics id="S6.SS1.SSS2.p3.1.m1.1a"><mrow id="S6.SS1.SSS2.p3.1.m1.1b"><mn id="S6.SS1.SSS2.p3.1.m1.1.1">2</mn><mo id="S6.SS1.SSS2.p3.1.m1.1.2" lspace="0.222em">×</mo></mrow><annotation encoding="application/x-tex" id="S6.SS1.SSS2.p3.1.m1.1c">2\times</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS2.p3.1.m1.1d">2 ×</annotation></semantics></math> as high as those achieved with default configurations and <math alttext="1.3\times" class="ltx_math_unparsed" display="inline" id="S6.SS1.SSS2.p3.2.m2.1"><semantics id="S6.SS1.SSS2.p3.2.m2.1a"><mrow id="S6.SS1.SSS2.p3.2.m2.1b"><mn id="S6.SS1.SSS2.p3.2.m2.1.1">1.3</mn><mo id="S6.SS1.SSS2.p3.2.m2.1.2" lspace="0.222em">×</mo></mrow><annotation encoding="application/x-tex" id="S6.SS1.SSS2.p3.2.m2.1c">1.3\times</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS2.p3.2.m2.1d">1.3 ×</annotation></semantics></math> higher than those of other baselines.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S6.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text" id="S6.SS1.SSS3.4.1.1">VI-A</span>3 </span>Accuracy analysis for service configuration module</h4>
<div class="ltx_para" id="S6.SS1.SSS3.p1">
<p class="ltx_p" id="S6.SS1.SSS3.p1.1">When assessing the service configuration module in ENOVA, an essential analysis was conducted to determine if the configurations recommended by ENOVA impacts the accuracy of LLMs. Here we compare the accuracy of LLM service deployed by ENOVA with those by BASELINE, where the <span class="ltx_text ltx_font_italic" id="S6.SS1.SSS3.p1.1.1">max_tokens</span> is set to the maximum supported by the LLMs. The results, depicted in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.F5" title="Figure 5 ‣ VI-A2 Overall serving performance ‣ VI-A RQ1: Whether Service Configuration Module Enhances Performance Efficiently ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">5</span></a>, indicate no significant difference in either accuracy or pass@1 performance between the ENOVA and BASELINE. This finding illustrates that the configurations recommended by ENOVA are robust enough to support accurate output of user requests across various task targets. Consequently, the service configuration module in ENOVA has the ability to improve serving performance without affecting accuracy.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S6.SS2.4.1.1">VI-B</span> </span><span class="ltx_text ltx_font_italic" id="S6.SS2.5.2">RQ2: Whether Performance Detection Module Determines autoscaling Accurately</span>
</h3>
<figure class="ltx_table" id="S6.T4">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE IV: </span>The detection performance comparison between ENOVA and baselines.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T4.1">
<tr class="ltx_tr" id="S6.T4.1.1">
<td class="ltx_td ltx_border_t" id="S6.T4.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S6.T4.1.1.3.1">Precision</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S6.T4.1.1.4.1">Recall</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<math alttext="\mathbf{F_{1}}" class="ltx_Math" display="inline" id="S6.T4.1.1.1.m1.1"><semantics id="S6.T4.1.1.1.m1.1a"><msub id="S6.T4.1.1.1.m1.1.1" xref="S6.T4.1.1.1.m1.1.1.cmml"><mi id="S6.T4.1.1.1.m1.1.1.2" xref="S6.T4.1.1.1.m1.1.1.2.cmml">𝐅</mi><mn id="S6.T4.1.1.1.m1.1.1.3" xref="S6.T4.1.1.1.m1.1.1.3.cmml">𝟏</mn></msub><annotation-xml encoding="MathML-Content" id="S6.T4.1.1.1.m1.1b"><apply id="S6.T4.1.1.1.m1.1.1.cmml" xref="S6.T4.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T4.1.1.1.m1.1.1.1.cmml" xref="S6.T4.1.1.1.m1.1.1">subscript</csymbol><ci id="S6.T4.1.1.1.m1.1.1.2.cmml" xref="S6.T4.1.1.1.m1.1.1.2">𝐅</ci><cn id="S6.T4.1.1.1.m1.1.1.3.cmml" type="integer" xref="S6.T4.1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T4.1.1.1.m1.1c">\mathbf{F_{1}}</annotation><annotation encoding="application/x-llamapun" id="S6.T4.1.1.1.m1.1d">bold_F start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_bold" id="S6.T4.1.1.1.1">-score</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">USAD</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.767</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.586</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.664</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.3">
<td class="ltx_td ltx_align_center" id="S6.T4.1.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">SDF-VAE</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.683</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.829</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.749</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.4">
<td class="ltx_td ltx_align_center" id="S6.T4.1.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Uni-AD</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.805</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.753</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.778</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.5">
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T4.1.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">ENOVA</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T4.1.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S6.T4.1.5.2.1">0.899</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T4.1.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S6.T4.1.5.3.1">0.849</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T4.1.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S6.T4.1.5.4.1">0.873</span></td>
</tr>
</table>
</figure>
<section class="ltx_subsubsection" id="S6.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text" id="S6.SS2.SSS1.4.1.1">VI-B</span>1 </span>Experiment setup</h4>
<div class="ltx_para" id="S6.SS2.SSS1.p1">
<p class="ltx_p" id="S6.SS2.SSS1.p1.7">To evaluate the performance detection module in ENOVA, we design experiments to compare the detection accuracy of ENOVA and those of baselines. Due to the lack of standard datasets designed for detecting anomalies in LLM services, the experimental datasets are collected based on the chatbot service deployed in industrial environments. This service provides <math alttext="8" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p1.1.m1.1"><semantics id="S6.SS2.SSS1.p1.1.m1.1a"><mn id="S6.SS2.SSS1.p1.1.m1.1.1" xref="S6.SS2.SSS1.p1.1.m1.1.1.cmml">8</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p1.1.m1.1b"><cn id="S6.SS2.SSS1.p1.1.m1.1.1.cmml" type="integer" xref="S6.SS2.SSS1.p1.1.m1.1.1">8</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p1.1.m1.1c">8</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p1.1.m1.1d">8</annotation></semantics></math> deployed LLMs with <math alttext="2" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p1.2.m2.1"><semantics id="S6.SS2.SSS1.p1.2.m2.1a"><mn id="S6.SS2.SSS1.p1.2.m2.1.1" xref="S6.SS2.SSS1.p1.2.m2.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p1.2.m2.1b"><cn id="S6.SS2.SSS1.p1.2.m2.1.1.cmml" type="integer" xref="S6.SS2.SSS1.p1.2.m2.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p1.2.m2.1c">2</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p1.2.m2.1d">2</annotation></semantics></math> replicas for customers to select from. We collect the performance metrics mentioned in section <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S4.SS2" title="IV-B Performance Detection Module ‣ IV Approach Overview ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">IV-B</span></span></a> of these <math alttext="8" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p1.3.m3.1"><semantics id="S6.SS2.SSS1.p1.3.m3.1a"><mn id="S6.SS2.SSS1.p1.3.m3.1.1" xref="S6.SS2.SSS1.p1.3.m3.1.1.cmml">8</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p1.3.m3.1b"><cn id="S6.SS2.SSS1.p1.3.m3.1.1.cmml" type="integer" xref="S6.SS2.SSS1.p1.3.m3.1.1">8</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p1.3.m3.1c">8</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p1.3.m3.1d">8</annotation></semantics></math> LLMs in <math alttext="4" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p1.4.m4.1"><semantics id="S6.SS2.SSS1.p1.4.m4.1a"><mn id="S6.SS2.SSS1.p1.4.m4.1.1" xref="S6.SS2.SSS1.p1.4.m4.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p1.4.m4.1b"><cn id="S6.SS2.SSS1.p1.4.m4.1.1.cmml" type="integer" xref="S6.SS2.SSS1.p1.4.m4.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p1.4.m4.1c">4</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p1.4.m4.1d">4</annotation></semantics></math> weeks, and adopt the collected metrics in previous <math alttext="2" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p1.5.m5.1"><semantics id="S6.SS2.SSS1.p1.5.m5.1a"><mn id="S6.SS2.SSS1.p1.5.m5.1.1" xref="S6.SS2.SSS1.p1.5.m5.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p1.5.m5.1b"><cn id="S6.SS2.SSS1.p1.5.m5.1.1.cmml" type="integer" xref="S6.SS2.SSS1.p1.5.m5.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p1.5.m5.1c">2</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p1.5.m5.1d">2</annotation></semantics></math> weeks to train VAE-based detection model in ENOVA and baselines and those in latter <math alttext="2" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p1.6.m6.1"><semantics id="S6.SS2.SSS1.p1.6.m6.1a"><mn id="S6.SS2.SSS1.p1.6.m6.1.1" xref="S6.SS2.SSS1.p1.6.m6.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p1.6.m6.1b"><cn id="S6.SS2.SSS1.p1.6.m6.1.1.cmml" type="integer" xref="S6.SS2.SSS1.p1.6.m6.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p1.6.m6.1c">2</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p1.6.m6.1d">2</annotation></semantics></math> weeks to test them. Hence, there are totally <math alttext="1440*14*8*2=322560" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p1.7.m7.1"><semantics id="S6.SS2.SSS1.p1.7.m7.1a"><mrow id="S6.SS2.SSS1.p1.7.m7.1.1" xref="S6.SS2.SSS1.p1.7.m7.1.1.cmml"><mrow id="S6.SS2.SSS1.p1.7.m7.1.1.2" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.cmml"><mn id="S6.SS2.SSS1.p1.7.m7.1.1.2.2" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.2.cmml">1440</mn><mo id="S6.SS2.SSS1.p1.7.m7.1.1.2.1" lspace="0.222em" rspace="0.222em" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.1.cmml">∗</mo><mn id="S6.SS2.SSS1.p1.7.m7.1.1.2.3" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.3.cmml">14</mn><mo id="S6.SS2.SSS1.p1.7.m7.1.1.2.1a" lspace="0.222em" rspace="0.222em" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.1.cmml">∗</mo><mn id="S6.SS2.SSS1.p1.7.m7.1.1.2.4" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.4.cmml">8</mn><mo id="S6.SS2.SSS1.p1.7.m7.1.1.2.1b" lspace="0.222em" rspace="0.222em" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.1.cmml">∗</mo><mn id="S6.SS2.SSS1.p1.7.m7.1.1.2.5" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.5.cmml">2</mn></mrow><mo id="S6.SS2.SSS1.p1.7.m7.1.1.1" xref="S6.SS2.SSS1.p1.7.m7.1.1.1.cmml">=</mo><mn id="S6.SS2.SSS1.p1.7.m7.1.1.3" xref="S6.SS2.SSS1.p1.7.m7.1.1.3.cmml">322560</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p1.7.m7.1b"><apply id="S6.SS2.SSS1.p1.7.m7.1.1.cmml" xref="S6.SS2.SSS1.p1.7.m7.1.1"><eq id="S6.SS2.SSS1.p1.7.m7.1.1.1.cmml" xref="S6.SS2.SSS1.p1.7.m7.1.1.1"></eq><apply id="S6.SS2.SSS1.p1.7.m7.1.1.2.cmml" xref="S6.SS2.SSS1.p1.7.m7.1.1.2"><times id="S6.SS2.SSS1.p1.7.m7.1.1.2.1.cmml" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.1"></times><cn id="S6.SS2.SSS1.p1.7.m7.1.1.2.2.cmml" type="integer" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.2">1440</cn><cn id="S6.SS2.SSS1.p1.7.m7.1.1.2.3.cmml" type="integer" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.3">14</cn><cn id="S6.SS2.SSS1.p1.7.m7.1.1.2.4.cmml" type="integer" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.4">8</cn><cn id="S6.SS2.SSS1.p1.7.m7.1.1.2.5.cmml" type="integer" xref="S6.SS2.SSS1.p1.7.m7.1.1.2.5">2</cn></apply><cn id="S6.SS2.SSS1.p1.7.m7.1.1.3.cmml" type="integer" xref="S6.SS2.SSS1.p1.7.m7.1.1.3">322560</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p1.7.m7.1c">1440*14*8*2=322560</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p1.7.m7.1d">1440 ∗ 14 ∗ 8 ∗ 2 = 322560</annotation></semantics></math> points to be detected, including 251 points labeled as anomalies.</p>
</div>
<div class="ltx_para" id="S6.SS2.SSS1.p2">
<p class="ltx_p" id="S6.SS2.SSS1.p2.1">We compare ENOVA with three multivariate time series anomaly detection baselines including</p>
<ul class="ltx_itemize" id="S6.I3">
<li class="ltx_item" id="S6.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S6.I3.i1.p1">
<p class="ltx_p" id="S6.I3.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S6.I3.i1.p1.1.1">USAD</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib41" title="">41</a>]</cite> adopts auto-encoder architecture and adversarial training to isolate anomalies.</p>
</div>
</li>
<li class="ltx_item" id="S6.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S6.I3.i2.p1">
<p class="ltx_p" id="S6.I3.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S6.I3.i2.p1.1.1">SDF-VAE</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib42" title="">42</a>]</cite> designs a static and dynamic
factorized VAE to learn representations and uses reconstruction probability to identify anomalies.</p>
</div>
</li>
<li class="ltx_item" id="S6.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S6.I3.i3.p1">
<p class="ltx_p" id="S6.I3.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S6.I3.i3.p1.1.1">Uni-AD</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib43" title="">43</a>]</cite> introduces transformer encoder layers and base layers to detect anomalies.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S6.SS2.SSS1.p3">
<p class="ltx_p" id="S6.SS2.SSS1.p3.1">We adopt Precision, Recall and <math alttext="\mathrm{F}_{1}" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p3.1.m1.1"><semantics id="S6.SS2.SSS1.p3.1.m1.1a"><msub id="S6.SS2.SSS1.p3.1.m1.1.1" xref="S6.SS2.SSS1.p3.1.m1.1.1.cmml"><mi id="S6.SS2.SSS1.p3.1.m1.1.1.2" mathvariant="normal" xref="S6.SS2.SSS1.p3.1.m1.1.1.2.cmml">F</mi><mn id="S6.SS2.SSS1.p3.1.m1.1.1.3" xref="S6.SS2.SSS1.p3.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p3.1.m1.1b"><apply id="S6.SS2.SSS1.p3.1.m1.1.1.cmml" xref="S6.SS2.SSS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS1.p3.1.m1.1.1.1.cmml" xref="S6.SS2.SSS1.p3.1.m1.1.1">subscript</csymbol><ci id="S6.SS2.SSS1.p3.1.m1.1.1.2.cmml" xref="S6.SS2.SSS1.p3.1.m1.1.1.2">F</ci><cn id="S6.SS2.SSS1.p3.1.m1.1.1.3.cmml" type="integer" xref="S6.SS2.SSS1.p3.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p3.1.m1.1c">\mathrm{F}_{1}</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p3.1.m1.1d">roman_F start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math>-score to evaluate the detection performance of ENOVA and baselines. When calculating the performance, we adopt a point-adjusted approach <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib26" title="">26</a>]</cite>. For any segment detected as an anomaly, if there is at least one point in the segment labeled as an anomaly, this segment is detected correctly without false positives.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S6.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text" id="S6.SS2.SSS2.4.1.1">VI-B</span>2 </span>Overall detection performance</h4>
<div class="ltx_para" id="S6.SS2.SSS2.p1">
<p class="ltx_p" id="S6.SS2.SSS2.p1.1">When evaluating detection performance within industrial environments, the semi-supervised learning-based performance detection model of ENOVA was compared with baselines. The comparative results are outlined in Table <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.T4" title="TABLE IV ‣ VI-B RQ2: Whether Performance Detection Module Determines autoscaling Accurately ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">IV</span></a>, which demonstrate that ENOVA consistently outperforms the baseline models. This enhanced performance can be attributed to the design of ENOVA’s detection model, which utilizes a semi-supervised learning approach to develop more robust representations. While baseline models predominantly focus on identifying normal operational patterns, they do not adequately handle the detection of anomalies. Due to the optimized objective function, ENOVA can learn robust representations to capture the normal patterns of performance metrics, while staying away from the anomalous metrics. Overall, the semi-supervised learning framework of ENOVA can detect anomalous resource utilization or service quality accurately in industrial environments.</p>
</div>
<figure class="ltx_figure" id="S6.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="598" id="S6.F6.g1" src="extracted/5602198/figures/autoscale.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>The KV cache utilization, number of running and pending requests of one LLM service which is one Mistral-7B deployed in RTX4090 24 GB.</figcaption>
</figure>
</section>
<section class="ltx_subsubsection" id="S6.SS2.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text" id="S6.SS2.SSS3.4.1.1">VI-B</span>3 </span>Autoscaling case study</h4>
<div class="ltx_para" id="S6.SS2.SSS3.p1">
<p class="ltx_p" id="S6.SS2.SSS3.p1.3">Beyond the evaluation of detection performance, we conducted a comprehensive analysis of autoscaling efficacy by tracking the real cases in industrial environments. Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.F6" title="Figure 6 ‣ VI-B2 Overall detection performance ‣ VI-B RQ2: Whether Performance Detection Module Determines autoscaling Accurately ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">6</span></a> illustrates the performance metrics of a specific case where ENOVA effectively detect anomalous resource utilization and dynamically scaled the LLM service. In this case, Mistral-7B is deployed in one RTX4090 24 GB with default 90% allocated GPU memory. The number of user request per second rise at 10:20, and then the KV cache utilization went to <math alttext="100\%" class="ltx_Math" display="inline" id="S6.SS2.SSS3.p1.1.m1.1"><semantics id="S6.SS2.SSS3.p1.1.m1.1a"><mrow id="S6.SS2.SSS3.p1.1.m1.1.1" xref="S6.SS2.SSS3.p1.1.m1.1.1.cmml"><mn id="S6.SS2.SSS3.p1.1.m1.1.1.2" xref="S6.SS2.SSS3.p1.1.m1.1.1.2.cmml">100</mn><mo id="S6.SS2.SSS3.p1.1.m1.1.1.1" xref="S6.SS2.SSS3.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS3.p1.1.m1.1b"><apply id="S6.SS2.SSS3.p1.1.m1.1.1.cmml" xref="S6.SS2.SSS3.p1.1.m1.1.1"><csymbol cd="latexml" id="S6.SS2.SSS3.p1.1.m1.1.1.1.cmml" xref="S6.SS2.SSS3.p1.1.m1.1.1.1">percent</csymbol><cn id="S6.SS2.SSS3.p1.1.m1.1.1.2.cmml" type="integer" xref="S6.SS2.SSS3.p1.1.m1.1.1.2">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS3.p1.1.m1.1c">100\%</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS3.p1.1.m1.1d">100 %</annotation></semantics></math>. Without enough GPU memory for KV cache, new requests started being pended, and ENOVA detected the anomalous performance at 10:22. ENOVA can localize the lack of GPU memory for KV cache due to anomalous resource allocation, and recalculate the required GPU memory based on current requests by increasing the allocated GPU memory to <math alttext="95\%" class="ltx_Math" display="inline" id="S6.SS2.SSS3.p1.2.m2.1"><semantics id="S6.SS2.SSS3.p1.2.m2.1a"><mrow id="S6.SS2.SSS3.p1.2.m2.1.1" xref="S6.SS2.SSS3.p1.2.m2.1.1.cmml"><mn id="S6.SS2.SSS3.p1.2.m2.1.1.2" xref="S6.SS2.SSS3.p1.2.m2.1.1.2.cmml">95</mn><mo id="S6.SS2.SSS3.p1.2.m2.1.1.1" xref="S6.SS2.SSS3.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS3.p1.2.m2.1b"><apply id="S6.SS2.SSS3.p1.2.m2.1.1.cmml" xref="S6.SS2.SSS3.p1.2.m2.1.1"><csymbol cd="latexml" id="S6.SS2.SSS3.p1.2.m2.1.1.1.cmml" xref="S6.SS2.SSS3.p1.2.m2.1.1.1">percent</csymbol><cn id="S6.SS2.SSS3.p1.2.m2.1.1.2.cmml" type="integer" xref="S6.SS2.SSS3.p1.2.m2.1.1.2">95</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS3.p1.2.m2.1c">95\%</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS3.p1.2.m2.1d">95 %</annotation></semantics></math>. When receiving the input to increase the allocated GPU memory, ENOVA relaunched the LLM service at 10:29. Eventually, we can observe that the LLM service can sustain about <math alttext="1.6\times" class="ltx_math_unparsed" display="inline" id="S6.SS2.SSS3.p1.3.m3.1"><semantics id="S6.SS2.SSS3.p1.3.m3.1a"><mrow id="S6.SS2.SSS3.p1.3.m3.1b"><mn id="S6.SS2.SSS3.p1.3.m3.1.1">1.6</mn><mo id="S6.SS2.SSS3.p1.3.m3.1.2" lspace="0.222em">×</mo></mrow><annotation encoding="application/x-tex" id="S6.SS2.SSS3.p1.3.m3.1c">1.6\times</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS3.p1.3.m3.1d">1.6 ×</annotation></semantics></math> more requests while only one configuration was adjusted without adding new replicas. Overall, this case study demonstrates the robust capability of ENOVA to ensure the stability of serverless LLM serving.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VII </span><span class="ltx_text ltx_font_smallcaps" id="S7.1.1">Discussion</span>
</h2>
<figure class="ltx_figure" id="S7.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="200" id="S7.F7.g1" src="extracted/5602198/figures/max_num_seq.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>The maximal number of finished requests per second and GPU memory utilization for KV cache as <span class="ltx_text ltx_font_italic" id="S7.F7.2.1">max_num_seq</span> increases.</figcaption>
</figure>
<section class="ltx_subsection" id="S7.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S7.SS1.4.1.1">VII-A</span> </span><span class="ltx_text ltx_font_italic" id="S7.SS1.5.2">Maximal Number of Requests Processed by LLM services </span>
</h3>
<div class="ltx_para" id="S7.SS1.p1">
<p class="ltx_p" id="S7.SS1.p1.3">The maximal number of requests per second that can be processed by an LLM service is theorized to be a constant value. Suboptimal service configurations can lead to a decrease in this performance metric, while optimizing configurations will not significantly increase this metric. To investigate this hypothesis, experiments were conducted to examine the impact of varying the <math alttext="max\_num\_seq" class="ltx_Math" display="inline" id="S7.SS1.p1.1.m1.1"><semantics id="S7.SS1.p1.1.m1.1a"><mrow id="S7.SS1.p1.1.m1.1.1" xref="S7.SS1.p1.1.m1.1.1.cmml"><mi id="S7.SS1.p1.1.m1.1.1.2" xref="S7.SS1.p1.1.m1.1.1.2.cmml">m</mi><mo id="S7.SS1.p1.1.m1.1.1.1" xref="S7.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.1.m1.1.1.3" xref="S7.SS1.p1.1.m1.1.1.3.cmml">a</mi><mo id="S7.SS1.p1.1.m1.1.1.1a" xref="S7.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.1.m1.1.1.4" xref="S7.SS1.p1.1.m1.1.1.4.cmml">x</mi><mo id="S7.SS1.p1.1.m1.1.1.1b" xref="S7.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.1.m1.1.1.5" mathvariant="normal" xref="S7.SS1.p1.1.m1.1.1.5.cmml">_</mi><mo id="S7.SS1.p1.1.m1.1.1.1c" xref="S7.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.1.m1.1.1.6" xref="S7.SS1.p1.1.m1.1.1.6.cmml">n</mi><mo id="S7.SS1.p1.1.m1.1.1.1d" xref="S7.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.1.m1.1.1.7" xref="S7.SS1.p1.1.m1.1.1.7.cmml">u</mi><mo id="S7.SS1.p1.1.m1.1.1.1e" xref="S7.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.1.m1.1.1.8" xref="S7.SS1.p1.1.m1.1.1.8.cmml">m</mi><mo id="S7.SS1.p1.1.m1.1.1.1f" xref="S7.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.1.m1.1.1.9" mathvariant="normal" xref="S7.SS1.p1.1.m1.1.1.9.cmml">_</mi><mo id="S7.SS1.p1.1.m1.1.1.1g" xref="S7.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.1.m1.1.1.10" xref="S7.SS1.p1.1.m1.1.1.10.cmml">s</mi><mo id="S7.SS1.p1.1.m1.1.1.1h" xref="S7.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.1.m1.1.1.11" xref="S7.SS1.p1.1.m1.1.1.11.cmml">e</mi><mo id="S7.SS1.p1.1.m1.1.1.1i" xref="S7.SS1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.1.m1.1.1.12" xref="S7.SS1.p1.1.m1.1.1.12.cmml">q</mi></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p1.1.m1.1b"><apply id="S7.SS1.p1.1.m1.1.1.cmml" xref="S7.SS1.p1.1.m1.1.1"><times id="S7.SS1.p1.1.m1.1.1.1.cmml" xref="S7.SS1.p1.1.m1.1.1.1"></times><ci id="S7.SS1.p1.1.m1.1.1.2.cmml" xref="S7.SS1.p1.1.m1.1.1.2">𝑚</ci><ci id="S7.SS1.p1.1.m1.1.1.3.cmml" xref="S7.SS1.p1.1.m1.1.1.3">𝑎</ci><ci id="S7.SS1.p1.1.m1.1.1.4.cmml" xref="S7.SS1.p1.1.m1.1.1.4">𝑥</ci><ci id="S7.SS1.p1.1.m1.1.1.5.cmml" xref="S7.SS1.p1.1.m1.1.1.5">_</ci><ci id="S7.SS1.p1.1.m1.1.1.6.cmml" xref="S7.SS1.p1.1.m1.1.1.6">𝑛</ci><ci id="S7.SS1.p1.1.m1.1.1.7.cmml" xref="S7.SS1.p1.1.m1.1.1.7">𝑢</ci><ci id="S7.SS1.p1.1.m1.1.1.8.cmml" xref="S7.SS1.p1.1.m1.1.1.8">𝑚</ci><ci id="S7.SS1.p1.1.m1.1.1.9.cmml" xref="S7.SS1.p1.1.m1.1.1.9">_</ci><ci id="S7.SS1.p1.1.m1.1.1.10.cmml" xref="S7.SS1.p1.1.m1.1.1.10">𝑠</ci><ci id="S7.SS1.p1.1.m1.1.1.11.cmml" xref="S7.SS1.p1.1.m1.1.1.11">𝑒</ci><ci id="S7.SS1.p1.1.m1.1.1.12.cmml" xref="S7.SS1.p1.1.m1.1.1.12">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p1.1.m1.1c">max\_num\_seq</annotation><annotation encoding="application/x-llamapun" id="S7.SS1.p1.1.m1.1d">italic_m italic_a italic_x _ italic_n italic_u italic_m _ italic_s italic_e italic_q</annotation></semantics></math> configuration. Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S7.F7" title="Figure 7 ‣ VII Discussion ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">7</span></a> presents the experimental results, including both the maximal number of finished requests per second and GPU memory utilization for KV cache as <span class="ltx_text ltx_font_italic" id="S7.SS1.p1.3.1">max_num_seq</span> increases. Notably, the experimental data reveal that although the maximal number of finished request per second improves initially increases with higher values of <math alttext="max\_num\_seq" class="ltx_Math" display="inline" id="S7.SS1.p1.2.m2.1"><semantics id="S7.SS1.p1.2.m2.1a"><mrow id="S7.SS1.p1.2.m2.1.1" xref="S7.SS1.p1.2.m2.1.1.cmml"><mi id="S7.SS1.p1.2.m2.1.1.2" xref="S7.SS1.p1.2.m2.1.1.2.cmml">m</mi><mo id="S7.SS1.p1.2.m2.1.1.1" xref="S7.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.2.m2.1.1.3" xref="S7.SS1.p1.2.m2.1.1.3.cmml">a</mi><mo id="S7.SS1.p1.2.m2.1.1.1a" xref="S7.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.2.m2.1.1.4" xref="S7.SS1.p1.2.m2.1.1.4.cmml">x</mi><mo id="S7.SS1.p1.2.m2.1.1.1b" xref="S7.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.2.m2.1.1.5" mathvariant="normal" xref="S7.SS1.p1.2.m2.1.1.5.cmml">_</mi><mo id="S7.SS1.p1.2.m2.1.1.1c" xref="S7.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.2.m2.1.1.6" xref="S7.SS1.p1.2.m2.1.1.6.cmml">n</mi><mo id="S7.SS1.p1.2.m2.1.1.1d" xref="S7.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.2.m2.1.1.7" xref="S7.SS1.p1.2.m2.1.1.7.cmml">u</mi><mo id="S7.SS1.p1.2.m2.1.1.1e" xref="S7.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.2.m2.1.1.8" xref="S7.SS1.p1.2.m2.1.1.8.cmml">m</mi><mo id="S7.SS1.p1.2.m2.1.1.1f" xref="S7.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.2.m2.1.1.9" mathvariant="normal" xref="S7.SS1.p1.2.m2.1.1.9.cmml">_</mi><mo id="S7.SS1.p1.2.m2.1.1.1g" xref="S7.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.2.m2.1.1.10" xref="S7.SS1.p1.2.m2.1.1.10.cmml">s</mi><mo id="S7.SS1.p1.2.m2.1.1.1h" xref="S7.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.2.m2.1.1.11" xref="S7.SS1.p1.2.m2.1.1.11.cmml">e</mi><mo id="S7.SS1.p1.2.m2.1.1.1i" xref="S7.SS1.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.2.m2.1.1.12" xref="S7.SS1.p1.2.m2.1.1.12.cmml">q</mi></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p1.2.m2.1b"><apply id="S7.SS1.p1.2.m2.1.1.cmml" xref="S7.SS1.p1.2.m2.1.1"><times id="S7.SS1.p1.2.m2.1.1.1.cmml" xref="S7.SS1.p1.2.m2.1.1.1"></times><ci id="S7.SS1.p1.2.m2.1.1.2.cmml" xref="S7.SS1.p1.2.m2.1.1.2">𝑚</ci><ci id="S7.SS1.p1.2.m2.1.1.3.cmml" xref="S7.SS1.p1.2.m2.1.1.3">𝑎</ci><ci id="S7.SS1.p1.2.m2.1.1.4.cmml" xref="S7.SS1.p1.2.m2.1.1.4">𝑥</ci><ci id="S7.SS1.p1.2.m2.1.1.5.cmml" xref="S7.SS1.p1.2.m2.1.1.5">_</ci><ci id="S7.SS1.p1.2.m2.1.1.6.cmml" xref="S7.SS1.p1.2.m2.1.1.6">𝑛</ci><ci id="S7.SS1.p1.2.m2.1.1.7.cmml" xref="S7.SS1.p1.2.m2.1.1.7">𝑢</ci><ci id="S7.SS1.p1.2.m2.1.1.8.cmml" xref="S7.SS1.p1.2.m2.1.1.8">𝑚</ci><ci id="S7.SS1.p1.2.m2.1.1.9.cmml" xref="S7.SS1.p1.2.m2.1.1.9">_</ci><ci id="S7.SS1.p1.2.m2.1.1.10.cmml" xref="S7.SS1.p1.2.m2.1.1.10">𝑠</ci><ci id="S7.SS1.p1.2.m2.1.1.11.cmml" xref="S7.SS1.p1.2.m2.1.1.11">𝑒</ci><ci id="S7.SS1.p1.2.m2.1.1.12.cmml" xref="S7.SS1.p1.2.m2.1.1.12">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p1.2.m2.1c">max\_num\_seq</annotation><annotation encoding="application/x-llamapun" id="S7.SS1.p1.2.m2.1d">italic_m italic_a italic_x _ italic_n italic_u italic_m _ italic_s italic_e italic_q</annotation></semantics></math>, it eventually reaches a peak. Meanwhile, GPU memory utilization continues to rise without a corresponding increase in processing efficiency, indicating diminishing returns on resource allocation beyond a certain threshold. This observation emphasizes the critical importance of determining <math alttext="max\_num\_seq" class="ltx_Math" display="inline" id="S7.SS1.p1.3.m3.1"><semantics id="S7.SS1.p1.3.m3.1a"><mrow id="S7.SS1.p1.3.m3.1.1" xref="S7.SS1.p1.3.m3.1.1.cmml"><mi id="S7.SS1.p1.3.m3.1.1.2" xref="S7.SS1.p1.3.m3.1.1.2.cmml">m</mi><mo id="S7.SS1.p1.3.m3.1.1.1" xref="S7.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.3.m3.1.1.3" xref="S7.SS1.p1.3.m3.1.1.3.cmml">a</mi><mo id="S7.SS1.p1.3.m3.1.1.1a" xref="S7.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.3.m3.1.1.4" xref="S7.SS1.p1.3.m3.1.1.4.cmml">x</mi><mo id="S7.SS1.p1.3.m3.1.1.1b" xref="S7.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.3.m3.1.1.5" mathvariant="normal" xref="S7.SS1.p1.3.m3.1.1.5.cmml">_</mi><mo id="S7.SS1.p1.3.m3.1.1.1c" xref="S7.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.3.m3.1.1.6" xref="S7.SS1.p1.3.m3.1.1.6.cmml">n</mi><mo id="S7.SS1.p1.3.m3.1.1.1d" xref="S7.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.3.m3.1.1.7" xref="S7.SS1.p1.3.m3.1.1.7.cmml">u</mi><mo id="S7.SS1.p1.3.m3.1.1.1e" xref="S7.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.3.m3.1.1.8" xref="S7.SS1.p1.3.m3.1.1.8.cmml">m</mi><mo id="S7.SS1.p1.3.m3.1.1.1f" xref="S7.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.3.m3.1.1.9" mathvariant="normal" xref="S7.SS1.p1.3.m3.1.1.9.cmml">_</mi><mo id="S7.SS1.p1.3.m3.1.1.1g" xref="S7.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.3.m3.1.1.10" xref="S7.SS1.p1.3.m3.1.1.10.cmml">s</mi><mo id="S7.SS1.p1.3.m3.1.1.1h" xref="S7.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.3.m3.1.1.11" xref="S7.SS1.p1.3.m3.1.1.11.cmml">e</mi><mo id="S7.SS1.p1.3.m3.1.1.1i" xref="S7.SS1.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S7.SS1.p1.3.m3.1.1.12" xref="S7.SS1.p1.3.m3.1.1.12.cmml">q</mi></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p1.3.m3.1b"><apply id="S7.SS1.p1.3.m3.1.1.cmml" xref="S7.SS1.p1.3.m3.1.1"><times id="S7.SS1.p1.3.m3.1.1.1.cmml" xref="S7.SS1.p1.3.m3.1.1.1"></times><ci id="S7.SS1.p1.3.m3.1.1.2.cmml" xref="S7.SS1.p1.3.m3.1.1.2">𝑚</ci><ci id="S7.SS1.p1.3.m3.1.1.3.cmml" xref="S7.SS1.p1.3.m3.1.1.3">𝑎</ci><ci id="S7.SS1.p1.3.m3.1.1.4.cmml" xref="S7.SS1.p1.3.m3.1.1.4">𝑥</ci><ci id="S7.SS1.p1.3.m3.1.1.5.cmml" xref="S7.SS1.p1.3.m3.1.1.5">_</ci><ci id="S7.SS1.p1.3.m3.1.1.6.cmml" xref="S7.SS1.p1.3.m3.1.1.6">𝑛</ci><ci id="S7.SS1.p1.3.m3.1.1.7.cmml" xref="S7.SS1.p1.3.m3.1.1.7">𝑢</ci><ci id="S7.SS1.p1.3.m3.1.1.8.cmml" xref="S7.SS1.p1.3.m3.1.1.8">𝑚</ci><ci id="S7.SS1.p1.3.m3.1.1.9.cmml" xref="S7.SS1.p1.3.m3.1.1.9">_</ci><ci id="S7.SS1.p1.3.m3.1.1.10.cmml" xref="S7.SS1.p1.3.m3.1.1.10">𝑠</ci><ci id="S7.SS1.p1.3.m3.1.1.11.cmml" xref="S7.SS1.p1.3.m3.1.1.11">𝑒</ci><ci id="S7.SS1.p1.3.m3.1.1.12.cmml" xref="S7.SS1.p1.3.m3.1.1.12">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p1.3.m3.1c">max\_num\_seq</annotation><annotation encoding="application/x-llamapun" id="S7.SS1.p1.3.m3.1d">italic_m italic_a italic_x _ italic_n italic_u italic_m _ italic_s italic_e italic_q</annotation></semantics></math> within an optimal range to ensure maximal operational efficiency. Overall, the objective of the proposed service configuration module is to maximize the number of requests processed per second by LLM services, while minimizing GPU resource consumption.</p>
</div>
</section>
<section class="ltx_subsection" id="S7.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S7.SS2.4.1.1">VII-B</span> </span><span class="ltx_text ltx_font_italic" id="S7.SS2.5.2">Processing Requests from Various LLM Agents</span>
</h3>
<div class="ltx_para" id="S7.SS2.p1">
<p class="ltx_p" id="S7.SS2.p1.1">Requests from various LLM agents can be effectively characterized and differentiated through clustering techniques. This is critical for all LLM services, as inappropriate <span class="ltx_text ltx_font_italic" id="S7.SS2.p1.1.1">max_tokens</span> in user requests may lead to lower tps and early explosion, as explained in section <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S6.SS1" title="VI-A RQ1: Whether Service Configuration Module Enhances Performance Efficiently ‣ VI Evaluation ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VI-A</span></span></a>. To further analyze the difference among different LLM agents, we analyze requests from four standard datasets: gsm8k, mbpp, and ARC and MC_TEST. For these distinct types of tasks, data prompts are crafted based on different prompting paradigms, including zero-shot, few-shot, and chain-of-thought approaches. Then, we utilize principal component analysis (PCA) to perform dimensionality reduction on the embedding representations of user requests across these tasks. Fig. <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#S7.F8" title="Figure 8 ‣ VII-B Processing Requests from Various LLM Agents ‣ VII Discussion ‣ ENOVA: Autoscaling towards Cost-effective and Stable Serverless LLM Serving"><span class="ltx_text ltx_ref_tag">8</span></a> presents principal component comparison among embedding representations of requests from the standard tasks. The analysis reveals that requests associated with the same type of task cluster together, while those from different tasks are distinctly separated. This clustering enables us to effectively differentiate the requests based on their task types, thus enhancing the service qualities of LLM services via differentiated service configurations.</p>
</div>
<figure class="ltx_figure" id="S7.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="385" id="S7.F8.g1" src="extracted/5602198/figures/domain.png" width="538"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>The principal component comparison among embedding representations of requests from different standard tasks.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S7.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S7.SS3.4.1.1">VII-C</span> </span><span class="ltx_text ltx_font_italic" id="S7.SS3.5.2">Limitations</span>
</h3>
<div class="ltx_para" id="S7.SS3.p1">
<p class="ltx_p" id="S7.SS3.p1.1">This paper primarily proposes a deployment, monitoring, and autoscaling service aimed at improving the stability and cost-efficiency of LLM services. However, our evaluation is currently limited to specific types of LLM tasks and GPU devices.
In the future, we aim to extend the deployment of LLMs to serve a broader range of application agents and hardware platforms, thereby enhancing both the robustness and scalability across diverse industrial environments.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S8">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VIII </span><span class="ltx_text ltx_font_smallcaps" id="S8.1.1">Related Works</span>
</h2>
<section class="ltx_subsection" id="S8.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S8.SS1.4.1.1">VIII-A</span> </span><span class="ltx_text ltx_font_italic" id="S8.SS1.5.2">Cloud Configuration</span>
</h3>
<div class="ltx_para" id="S8.SS1.p1">
<p class="ltx_p" id="S8.SS1.p1.1">Picking the right cloud configuration is essential to service quality and commercial competitiveness. Several approaches <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib44" title="">44</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib45" title="">45</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib46" title="">46</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib47" title="">47</a>]</cite> have been proposed to manage different types of tasks run in cloud, such as MapReduce <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib46" title="">46</a>]</cite>, SQL queries <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib44" title="">44</a>]</cite>, deep learning jobs <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib45" title="">45</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib47" title="">47</a>]</cite>. MROLINE <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib46" title="">46</a>]</cite> designs gray-box based smart hill climbing algorithm to find the near-optimal configuration of MapReduce job. CherryPick <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib44" title="">44</a>]</cite> leverages Bayesian optimization to build performance models and distinguishes the best configuration for data analytics jobs like SQL queries. Morphling <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib45" title="">45</a>]</cite> trains a meta-model to capture the general performance trend so that to find the optimal configuration. Lucid <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib47" title="">47</a>]</cite> adopts packing analyze model to forecast throughput, based on which the best configuration will be selected for faster deep learning job completion. However, Few of them focus on LLM service, where ENOVA is designed to settle.</p>
</div>
</section>
<section class="ltx_subsection" id="S8.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S8.SS2.4.1.1">VIII-B</span> </span><span class="ltx_text ltx_font_italic" id="S8.SS2.5.2">Autoscaling</span>
</h3>
<div class="ltx_para" id="S8.SS2.p1">
<p class="ltx_p" id="S8.SS2.p1.1">Autoscaling is the key technology to fine-grained cluster resource management for stable and cost-effective service. Many methods <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib48" title="">48</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib49" title="">49</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib50" title="">50</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib51" title="">51</a>]</cite> have been proposed towards different types of workloads in clusters. FIRM <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib48" title="">48</a>]</cite> detects SLO violations in microservice and takes actions to mitigate SLO violations via dynamic reprovisioning. Sinan <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib50" title="">50</a>]</cite> also focuses on microservice autoscaling for QoS-aware resource management. Autopilot <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib49" title="">49</a>]</cite> aims to reduce slack, which is the difference between the limit and the actual resource usage of workloads in kubernetes clusters. Cilantro <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.09486v1#bib.bib51" title="">51</a>]</cite> introduces online learning mechanism to forms feedback loops with the jobs in cluster for performance-aware resource allocation. Inspired by these approaches, ENOVA designs performance detection module for autoscaling towards LLM service.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S9">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IX </span><span class="ltx_text ltx_font_smallcaps" id="S9.1.1">Conclusion</span>
</h2>
<div class="ltx_para" id="S9.p1">
<p class="ltx_p" id="S9.p1.1">This paper proposes ENOVA, a service designed to enhance the stability and cost-efficiency of serverless LLM serving through deployment, monitoring, and autoscaling capacities. ENOVA designs a service configuration module for automatic deployment on any GPU clusters and a performance detection module for autoscaling. On top of them, ENOVA implements a deployment execution engine that manages deployment, monitoring, and autoscaling across multi-GPU clusters. We conduct experiments in various scenarios and the results show that ENOVA significantly outperform other state-of-the-art methods and is suitable for wide deployment in large online systems. In the future, we plan to expand the deployment of LLMs across a broader spectrum of application agents and hardware platforms, thereby ensuring robust performance and scalability across diverse industrial environments.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
J. Achiam, S. Adler, S. Agarwal, L. Ahmad, I. Akkaya, F. L. Aleman, D. Almeida, J. Altenschmidt, S. Altman, S. Anadkat <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">et al.</em>, “Gpt-4 technical report,” <em class="ltx_emph ltx_font_italic" id="bib.bib1.2.2">arXiv preprint arXiv:2303.08774</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Z. Luo, C. Xu, P. Zhao, Q. Sun, X. Geng, W. Hu, C. Tao, J. Ma, Q. Lin, and D. Jiang, “Wizardcoder: Empowering code large language models with evol-instruct,” <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">arXiv preprint arXiv:2306.08568</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
R. Li, L. B. Allal, Y. Zi, N. Muennighoff, D. Kocetkov, C. Mou, M. Marone, C. Akiki, J. Li, J. Chim <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">et al.</em>, “Starcoder: may the source be with you!” <em class="ltx_emph ltx_font_italic" id="bib.bib3.2.2">arXiv preprint arXiv:2305.06161</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
L. Blecher, G. Cucurull, T. Scialom, and R. Stojnic, “Nougat: Neural optical understanding for academic documents,” <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">arXiv preprint arXiv:2308.13418</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
J. Cui, Z. Li, Y. Yan, B. Chen, and L. Yuan, “Chatlaw: Open-source legal large language model with integrated external knowledge bases,” <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:2306.16092</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
A. J. Thirunavukarasu, D. S. J. Ting, K. Elangovan, L. Gutierrez, T. F. Tan, and D. S. W. Ting, “Large language models in medicine,” <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Nature medicine</em>, vol. 29, no. 8, pp. 1930–1940, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Z. Wang, S. Cai, G. Chen, A. Liu, X. Ma, and Y. Liang, “Describe, explain, plan and select: Interactive planning with large language models enables open-world multi-task agents,” <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2302.01560</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
W. Kwon, Z. Li, S. Zhuang, Y. Sheng, L. Zheng, C. H. Yu, J. Gonzalez, H. Zhang, and I. Stoica, “Efficient memory management for large language model serving with pagedattention,” in <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">Proceedings of the 29th Symposium on Operating Systems Principles</em>, 2023, pp. 611–626.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
T. Dao, D. Fu, S. Ermon, A. Rudra, and C. Ré, “Flashattention: Fast and memory-efficient exact attention with io-awareness,” <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">Advances in Neural Information Processing Systems</em>, vol. 35, pp. 16 344–16 359, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
G.-I. Yu, J. S. Jeong, G.-W. Kim, S. Kim, and B.-G. Chun, “Orca: A distributed serving system for <math alttext="\{" class="ltx_Math" display="inline" id="bib.bib10.1.m1.1"><semantics id="bib.bib10.1.m1.1a"><mo id="bib.bib10.1.m1.1.1" stretchy="false" xref="bib.bib10.1.m1.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib10.1.m1.1b"><ci id="bib.bib10.1.m1.1.1.cmml" xref="bib.bib10.1.m1.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib10.1.m1.1c">\{</annotation><annotation encoding="application/x-llamapun" id="bib.bib10.1.m1.1d">{</annotation></semantics></math>Transformer-Based<math alttext="\}" class="ltx_Math" display="inline" id="bib.bib10.2.m2.1"><semantics id="bib.bib10.2.m2.1a"><mo id="bib.bib10.2.m2.1.1" stretchy="false" xref="bib.bib10.2.m2.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib10.2.m2.1b"><ci id="bib.bib10.2.m2.1.1.cmml" xref="bib.bib10.2.m2.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib10.2.m2.1c">\}</annotation><annotation encoding="application/x-llamapun" id="bib.bib10.2.m2.1d">}</annotation></semantics></math> generative models,” in <em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">16th USENIX Symposium on Operating Systems Design and Implementation (OSDI 22)</em>, 2022, pp. 521–538.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
J. Rasley, S. Rajbhandari, O. Ruwase, and Y. He, “Deepspeed: System optimizations enable training deep learning models with over 100 billion parameters,” in <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">Proceedings of the 26th ACM SIGKDD International Conference on Knowledge Discovery &amp; Data Mining</em>, 2020, pp. 3505–3506.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
M. Shoeybi, M. Patwary, R. Puri, P. LeGresley, J. Casper, and B. Catanzaro, “Megatron-lm: Training multi-billion parameter language models using model parallelism,” <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">arXiv preprint arXiv:1909.08053</em>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
T. Dettmers, M. Lewis, Y. Belkada, and L. Zettlemoyer, “Llm. int8 (): 8-bit matrix multiplication for transformers at scale,” <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">arXiv preprint arXiv:2208.07339</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
E. Frantar, S. Ashkboos, T. Hoefler, and D. Alistarh, “Gptq: Accurate post-training quantization for generative pre-trained transformers,” <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">arXiv preprint arXiv:2210.17323</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
G. Xiao, J. Lin, M. Seznec, H. Wu, J. Demouth, and S. Han, “Smoothquant: Accurate and efficient post-training quantization for large language models,” in <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">International Conference on Machine Learning</em>.   PMLR, 2023, pp. 38 087–38 099.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
NVIDIA, “Triton inference server,” 2020. [Online]. Available: https://github.com/triton-inference-server/server

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
RAY, “Ray serve,” 2018. [Online]. Available: https://docs.ray.io/en/latest/serve/index.html

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
A. Vaswani, N. Shazeer, N. Parmar, J. Uszkoreit, L. Jones, A. N. Gomez, Ł. Kaiser, and I. Polosukhin, “Attention is all you need,” <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">Advances in neural information processing systems</em>, vol. 30, 2017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
R. Pope, S. Douglas, A. Chowdhery, J. Devlin, J. Bradbury, J. Heek, K. Xiao, S. Agrawal, and J. Dean, “Efficiently scaling transformer inference,” <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">Proceedings of Machine Learning and Systems</em>, vol. 5, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
X. Miao, G. Oliaro, Z. Zhang, X. Cheng, Z. Wang, R. Y. Y. Wong, Z. Chen, D. Arfeen, R. Abhyankar, and Z. Jia, “Specinfer: Accelerating generative llm serving with speculative inference and token tree verification,” <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:2305.09781</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
J. B. Ramsey, “Tests for specification errors in classical linear least-squares regression analysis,” <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Journal of the Royal Statistical Society Series B: Statistical Methodology</em>, vol. 31, no. 2, pp. 350–371, 1969.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
E. Parzen, “On estimation of a probability density function and mode,” <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">The annals of mathematical statistics</em>, vol. 33, no. 3, pp. 1065–1076, 1962.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
S. Xiao, Z. Liu, P. Zhang, and N. Muennighoff, “C-pack: Packaged resources to advance general chinese embedding,” 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
S. Fortunato, “Community detection in graphs,” <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Physics reports</em>, vol. 486, no. 3-5, pp. 75–174, 2010.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
G. B. Dantzig, “Linear programming,” <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">Operations research</em>, vol. 50, no. 1, pp. 42–47, 2002.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
T. Huang, P. Chen, and R. Li, “A semi-supervised vae based active anomaly detection framework in multivariate time series for online systems,” in <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">Proceedings of the ACM Web Conference 2022</em>, 2022, pp. 1797–1806.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
J. E. Van Engelen and H. H. Hoos, “A survey on semi-supervised learning,” <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Machine learning</em>, vol. 109, no. 2, pp. 373–440, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
D. P. Kingma and M. Welling, “Auto-encoding variational bayes,” <em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">arXiv preprint arXiv:1312.6114</em>, 2013.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
I. Higgins, L. Matthey, A. Pal, C. Burgess, X. Glorot, M. Botvinick, S. Mohamed, and A. Lerchner, “beta-vae: Learning basic visual concepts with a constrained variational framework,” in <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">International conference on learning representations</em>, 2016.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
A. Siffer, P.-A. Fouque, A. Termier, and C. Largouet, “Anomaly detection in streams with extreme value theory,” in <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Proceedings of the 23rd ACM SIGKDD international conference on knowledge discovery and data mining</em>, 2017, pp. 1067–1075.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
NVIDIA, “Tensorrt-llm,” 2023. [Online]. Available: https://github.com/NVIDIA/TensorRT-LLM

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
——, “dcgm exporter,” 2020. [Online]. Available: https://github.com/NVIDIA/dcgm-exporter

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
Prometheus, “prometheus,” 2016. [Online]. Available: https://github.com/prometheus/prometheus

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
OpenTelemetry, “opentelemetry collector,” 2019. [Online]. Available: https://github.com/open-telemetry/opentelemetry-collector

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
K. Cobbe, V. Kosaraju, M. Bavarian, M. Chen, H. Jun, L. Kaiser, M. Plappert, J. Tworek, J. Hilton, R. Nakano <em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">et al.</em>, “Training verifiers to solve math word problems,” <em class="ltx_emph ltx_font_italic" id="bib.bib35.2.2">arXiv preprint arXiv:2110.14168</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
J. Austin, A. Odena, M. Nye, M. Bosma, H. Michalewski, D. Dohan, E. Jiang, C. Cai, M. Terry, Q. Le <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">et al.</em>, “Program synthesis with large language models,” <em class="ltx_emph ltx_font_italic" id="bib.bib36.2.2">arXiv preprint arXiv:2108.07732</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
H. Touvron, L. Martin, K. Stone, P. Albert, A. Almahairi, Y. Babaei, N. Bashlykov, S. Batra, P. Bhargava, S. Bhosale <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">et al.</em>, “Llama 2: Open foundation and fine-tuned chat models,” <em class="ltx_emph ltx_font_italic" id="bib.bib37.2.2">arXiv preprint arXiv:2307.09288</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
A. Q. Jiang, A. Sablayrolles, A. Mensch, C. Bamford, D. S. Chaplot, D. d. l. Casas, F. Bressand, G. Lengyel, G. Lample, L. Saulnier <em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">et al.</em>, “Mistral 7b,” <em class="ltx_emph ltx_font_italic" id="bib.bib38.2.2">arXiv preprint arXiv:2310.06825</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
N. Akhtar, A. Raza, V. Ishakian, and I. Matta, “Cose: Configuring serverless functions using statistical learning,” in <em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">IEEE INFOCOM 2020-IEEE Conference on Computer Communications</em>.   IEEE, 2020, pp. 129–138.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock">
T. P. Lillicrap, J. J. Hunt, A. Pritzel, N. Heess, T. Erez, Y. Tassa, D. Silver, and D. Wierstra, “Continuous control with deep reinforcement learning,” <em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">arXiv preprint arXiv:1509.02971</em>, 2015.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock">
J. Audibert, P. Michiardi, F. Guyard, S. Marti, and M. A. Zuluaga, “Usad: Unsupervised anomaly detection on multivariate time series,” in <em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">Proceedings of the 26th ACM SIGKDD international conference on knowledge discovery &amp; data mining</em>, 2020, pp. 3395–3404.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock">
L. Dai, T. Lin, C. Liu, B. Jiang, Y. Liu, Z. Xu, and Z.-L. Zhang, “Sdfvae: Static and dynamic factorized vae for anomaly detection of multivariate cdn kpis,” in <em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">Proceedings of the Web Conference 2021</em>, 2021, pp. 3076–3086.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock">
Z. He, P. Chen, and T. Huang, “Share or not share? towards the practicability of deep models for unsupervised anomaly detection in modern online systems,” in <em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">2022 IEEE 33rd International Symposium on Software Reliability Engineering (ISSRE)</em>.   IEEE, 2022, pp. 25–35.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock">
O. Alipourfard, H. H. Liu, J. Chen, S. Venkataraman, M. Yu, and M. Zhang, “<math alttext="\{" class="ltx_Math" display="inline" id="bib.bib44.1.m1.1"><semantics id="bib.bib44.1.m1.1a"><mo id="bib.bib44.1.m1.1.1" stretchy="false" xref="bib.bib44.1.m1.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib44.1.m1.1b"><ci id="bib.bib44.1.m1.1.1.cmml" xref="bib.bib44.1.m1.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib44.1.m1.1c">\{</annotation><annotation encoding="application/x-llamapun" id="bib.bib44.1.m1.1d">{</annotation></semantics></math>CherryPick<math alttext="\}" class="ltx_Math" display="inline" id="bib.bib44.2.m2.1"><semantics id="bib.bib44.2.m2.1a"><mo id="bib.bib44.2.m2.1.1" stretchy="false" xref="bib.bib44.2.m2.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib44.2.m2.1b"><ci id="bib.bib44.2.m2.1.1.cmml" xref="bib.bib44.2.m2.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib44.2.m2.1c">\}</annotation><annotation encoding="application/x-llamapun" id="bib.bib44.2.m2.1d">}</annotation></semantics></math>: Adaptively unearthing the best cloud configurations for big data analytics,” in <em class="ltx_emph ltx_font_italic" id="bib.bib44.3.1">14th USENIX Symposium on Networked Systems Design and Implementation (NSDI 17)</em>, 2017, pp. 469–482.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock">
L. Wang, L. Yang, Y. Yu, W. Wang, B. Li, X. Sun, J. He, and L. Zhang, “Morphling: fast, near-optimal auto-configuration for cloud-native model serving,” in <em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">Proceedings of the ACM Symposium on Cloud Computing</em>, 2021, pp. 639–653.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_tag_bibitem">[46]</span>
<span class="ltx_bibblock">
M. Li, L. Zeng, S. Meng, J. Tan, L. Zhang, A. R. Butt, and N. Fuller, “Mronline: Mapreduce online performance tuning,” in <em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">Proceedings of the 23rd international symposium on High-performance parallel and distributed computing</em>, 2014, pp. 165–176.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_tag_bibitem">[47]</span>
<span class="ltx_bibblock">
Q. Hu, M. Zhang, P. Sun, Y. Wen, and T. Zhang, “Lucid: A non-intrusive, scalable and interpretable scheduler for deep learning training jobs,” in <em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">Proceedings of the 28th ACM International Conference on Architectural Support for Programming Languages and Operating Systems, Volume 2</em>, 2023, pp. 457–472.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_tag_bibitem">[48]</span>
<span class="ltx_bibblock">
H. Qiu, S. S. Banerjee, S. Jha, Z. T. Kalbarczyk, and R. K. Iyer, “<math alttext="\{" class="ltx_Math" display="inline" id="bib.bib48.1.m1.1"><semantics id="bib.bib48.1.m1.1a"><mo id="bib.bib48.1.m1.1.1" stretchy="false" xref="bib.bib48.1.m1.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib48.1.m1.1b"><ci id="bib.bib48.1.m1.1.1.cmml" xref="bib.bib48.1.m1.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib48.1.m1.1c">\{</annotation><annotation encoding="application/x-llamapun" id="bib.bib48.1.m1.1d">{</annotation></semantics></math>FIRM<math alttext="\}" class="ltx_Math" display="inline" id="bib.bib48.2.m2.1"><semantics id="bib.bib48.2.m2.1a"><mo id="bib.bib48.2.m2.1.1" stretchy="false" xref="bib.bib48.2.m2.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib48.2.m2.1b"><ci id="bib.bib48.2.m2.1.1.cmml" xref="bib.bib48.2.m2.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib48.2.m2.1c">\}</annotation><annotation encoding="application/x-llamapun" id="bib.bib48.2.m2.1d">}</annotation></semantics></math>: An intelligent fine-grained resource management framework for <math alttext="\{" class="ltx_Math" display="inline" id="bib.bib48.3.m3.1"><semantics id="bib.bib48.3.m3.1a"><mo id="bib.bib48.3.m3.1.1" stretchy="false" xref="bib.bib48.3.m3.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib48.3.m3.1b"><ci id="bib.bib48.3.m3.1.1.cmml" xref="bib.bib48.3.m3.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib48.3.m3.1c">\{</annotation><annotation encoding="application/x-llamapun" id="bib.bib48.3.m3.1d">{</annotation></semantics></math>SLO-Oriented<math alttext="\}" class="ltx_Math" display="inline" id="bib.bib48.4.m4.1"><semantics id="bib.bib48.4.m4.1a"><mo id="bib.bib48.4.m4.1.1" stretchy="false" xref="bib.bib48.4.m4.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib48.4.m4.1b"><ci id="bib.bib48.4.m4.1.1.cmml" xref="bib.bib48.4.m4.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib48.4.m4.1c">\}</annotation><annotation encoding="application/x-llamapun" id="bib.bib48.4.m4.1d">}</annotation></semantics></math> microservices,” in <em class="ltx_emph ltx_font_italic" id="bib.bib48.5.1">14th USENIX symposium on operating systems design and implementation (OSDI 20)</em>, 2020, pp. 805–825.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_tag_bibitem">[49]</span>
<span class="ltx_bibblock">
K. Rzadca, P. Findeisen, J. Swiderski, P. Zych, P. Broniek, J. Kusmierek, P. Nowak, B. Strack, P. Witusowski, S. Hand <em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">et al.</em>, “Autopilot: workload autoscaling at google,” in <em class="ltx_emph ltx_font_italic" id="bib.bib49.2.2">Proceedings of the Fifteenth European Conference on Computer Systems</em>, 2020, pp. 1–16.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_tag_bibitem">[50]</span>
<span class="ltx_bibblock">
Y. Zhang, W. Hua, Z. Zhou, G. E. Suh, and C. Delimitrou, “Sinan: Ml-based and qos-aware resource management for cloud microservices,” in <em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">Proceedings of the 26th ACM international conference on architectural support for programming languages and operating systems</em>, 2021, pp. 167–181.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_tag_bibitem">[51]</span>
<span class="ltx_bibblock">
R. Bhardwaj, K. Kandasamy, A. Biswal, W. Guo, B. Hindman, J. Gonzalez, M. Jordan, and I. Stoica, “Cilantro:<math alttext="\{" class="ltx_Math" display="inline" id="bib.bib51.1.m1.1"><semantics id="bib.bib51.1.m1.1a"><mo id="bib.bib51.1.m1.1.1" stretchy="false" xref="bib.bib51.1.m1.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib51.1.m1.1b"><ci id="bib.bib51.1.m1.1.1.cmml" xref="bib.bib51.1.m1.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib51.1.m1.1c">\{</annotation><annotation encoding="application/x-llamapun" id="bib.bib51.1.m1.1d">{</annotation></semantics></math>Performance-Aware<math alttext="\}" class="ltx_Math" display="inline" id="bib.bib51.2.m2.1"><semantics id="bib.bib51.2.m2.1a"><mo id="bib.bib51.2.m2.1.1" stretchy="false" xref="bib.bib51.2.m2.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib51.2.m2.1b"><ci id="bib.bib51.2.m2.1.1.cmml" xref="bib.bib51.2.m2.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib51.2.m2.1c">\}</annotation><annotation encoding="application/x-llamapun" id="bib.bib51.2.m2.1d">}</annotation></semantics></math> resource allocation for general objectives via online feedback,” in <em class="ltx_emph ltx_font_italic" id="bib.bib51.3.1">17th USENIX Symposium on Operating Systems Design and Implementation (OSDI 23)</em>.   USENIX Association, 2023, pp. 623–643.

</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri May 17 09:40:46 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
