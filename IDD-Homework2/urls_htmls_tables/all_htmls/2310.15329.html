<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2310.15329] Serverless Federated Learning with flwr-serverless</title><meta property="og:description" content="Federated learning is becoming increasingly relevant and popular as we witness a surge in data collection and storage of personally identifiable information. Alongside these developments there have been many proposals …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Serverless Federated Learning with flwr-serverless">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Serverless Federated Learning with flwr-serverless">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2310.15329">

<!--Generated on Tue Feb 27 21:13:35 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div id="p1" class="ltx_para">
<span id="p1.1" class="ltx_ERROR undefined">\sidecaptionvpos</span>
<p id="p1.2" class="ltx_p">figurec







































</p>
</div>
<h1 class="ltx_title ltx_title_document">Serverless Federated Learning with flwr-serverless</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Sanjeev V. Namjoshi
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Reese Green
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Krishi Sharma
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zhangzhang Si
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Federated learning is becoming increasingly relevant and popular as we witness a surge in data collection and storage of personally identifiable information. Alongside these developments there have been many proposals from governments around the world to provide more protections for individuals’ data and a heightened interest in data privacy measures. As deep learning continues to become more relevant in new and existing domains, it is vital to develop strategies like federated learning that can effectively train data from different sources, such as edge devices, without compromising security and privacy. Recently, the Flower (<span id="id1.id1.1" class="ltx_text ltx_font_typewriter">Flwr</span>) Python package was introduced to provide a scalable, flexible, and easy-to-use framework for implementing federated learning. However, to date, Flower is only able to run synchronous federated learning which can be costly and time-consuming to run because the process is bottlenecked by client-side training jobs that are slow or fragile. Here, we introduce <span id="id1.id1.2" class="ltx_text ltx_font_typewriter">flwr-serverless</span>, a wrapper around the Flower package that extends its functionality to allow for both synchronous and asynchronous federated learning with minimal modification to Flower’s design paradigm. Furthermore, our approach to federated learning allows the process to run without a central server, which increases the domains of application and accessibility of its use. This paper presents the design details and usage of this approach through a series of experiments that were conducted using public datasets. Overall, we believe that our approach decreases the time and cost to run federated training and provides an easier way to implement and experiment with federated learning systems.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para ltx_noindent">
<p id="S1.p1.1" class="ltx_p">Over the last few years, the decreased cost of data storage and increased usage of apps and digital technologies have led to an unprecedented surge in data collection and availability. This data collection revolution has proceeded alongside numerous advances in deep learning which has provided a usage for this data for a large variety of applications. The output predictions from these statistical models has become increasingly sophisticated and continues to have a direct impact on both society and the global economy. Notably, much of this data contains personal information, often collected directly from individuals and inferred from their behavioral patterns, or directly recorded in the form of digital healthcare data.</p>
</div>
<div id="S1.p2" class="ltx_para ltx_noindent">
<p id="S1.p2.1" class="ltx_p">The widespread usage of this data in deep learning technologies has induced a greater interest and concern for data protection and privacy and a call for the codification of such protections under a legal framework. Recently, the European Union has enacted the General Data Protection Regulation (GDPR) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> which specifies the legality of personal data collection and usage as well as establishes the control of personal data as a human right. In the healthcare domain, collected medical data that contains sensitive information, electronic health records, is protected under the Health Insurance Portability and Accountability Act (HIPAA) in the United States which restricts and prohibits disclosure of this information to third parties without patient consent.</p>
</div>
<div id="S1.p3" class="ltx_para ltx_noindent">
<p id="S1.p3.1" class="ltx_p">Deep learning model training tasks generally require the aggregation of disparate data sources into one centralized location so it is fully accessible by the model. For example, one may wish to train a model using edge-devices belonging to individual users, which would necessitate combining this data together in one location. In the healthcare domain, medical images and patient clinical data, which may exist in different data centers, may need to be pooled to successfully train models representative of the general population.</p>
</div>
<div id="S1.p4" class="ltx_para ltx_noindent">
<p id="S1.p4.1" class="ltx_p">In response to the recent concerns around data privacy, and the legal requirements around protecting the interests of patients and end-users, researchers at Google introduced the federated learning framework <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. Federated learning addressed many of the data privacy and security concerns by allowing multiple datasets to be trained while located in separate locations so that they cannot be aggregated together. The local machines that contain both the data and the model are known as <span id="S1.p4.1.1" class="ltx_text ltx_font_italic">clients</span> and they connect to a central <span id="S1.p4.1.2" class="ltx_text ltx_font_italic">server</span> to aggregate weights to be used in the next round of training. Such decentralized training aims to solve the problems of data privacy and has been successfully applied to a number of different domains including applications in edge computing, such as Internet of Things networks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, wireless computing <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, and the healthcare domain <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>.</p>
</div>
<div id="S1.p5" class="ltx_para ltx_noindent">
<p id="S1.p5.1" class="ltx_p">The open-source Flower Python package <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> was recently introduced to provide federated learning capabilities to a variety of different modeling frameworks and enable running on edge devices. Flower solves a number of different challenges to training federated models and running them in a production environment. Recently, Flower has been popular choice as a federated learning framework due to the simplicity of its lightweight design and flexibility. However, one challenge that has not yet been addressed is allowing Flower to run training asynchronously. At present, the Flower framework requires all connected clients to send their weights to the server before aggregation. Consequently, the next federated training round is delayed until all models have successfully completed their local epochs. When a client crashes due to out-of-memory or other common errors, the training needs to be restarted. Another operational pain point is managing the federation server. Often a separate server needs to be started for each training experiment, making it hard to scale to hundreds of experiments.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2310.15329/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="311" height="178" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Synchronous versus asynchronous federated learning. In synchronous federated learning (left panel), a sampled set of clients begin multiple local training rounds. Upon completion, the client waits until the other clients finish. When all clients have finished, the server aggregates the weights and training continues. In our approach to asynchronous federated learning (right panel), the clients begin a single local training epoch and check a remote weight store for any weights deposited by any client that finished previously. It then downloads these weights locally, aggregates them, and continues training. Figure adapted from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>.</figcaption>
</figure>
<div id="S1.p6" class="ltx_para ltx_noindent">
<p id="S1.p6.1" class="ltx_p">To address these issues, we introduce <span id="S1.p6.1.1" class="ltx_text ltx_font_typewriter">flwr-serverless</span>, a wrapper around the Flower (flwr) framework that extends its capabilities to allow for both synchronous and asynchronous forms of federated learning without altering its core use pattern. Furthermore, the changes we make effectively allow Flower to be run "serverless" in the sense that weight aggregation occurs on the client side rather than the on the central server. The weights are updated from any accessible remote weight storage directory. Thus, our approach inherits all of the functionality and convenience of Flower while reducing the time and cost complexity related to updating the weights for the global model on the central server. Herein, we describe the architectural changes made to the federated learning workflow and the Flower package along with the asynchronous learning strategy that we employ. Finally, we demonstrate the results on some federated benchmark datasets. Our results show that asynchronous federated learning is robust, and in specific situations can significantly speed up federated training without sacrificing model performance.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Federated Learning</h2>

<div id="S2.p1" class="ltx_para ltx_noindent">
<p id="S2.p1.1" class="ltx_p">Federated learning is a decentralized learning strategy that allows separate, private datasets stored across multiple devices or machines to be used to train a global model without requiring the model to access the dataset, or moving the dataset off the device into a central storage location. Each device that participates in federated learning is known as a <span id="S2.p1.1.1" class="ltx_text ltx_font_italic">client</span> which undergoes a number of <span id="S2.p1.1.2" class="ltx_text ltx_font_italic">local rounds</span> of training on its local dataset. After the client finishes its local rounds of training, it sends its current weights to a centralized <span id="S2.p1.1.3" class="ltx_text ltx_font_italic">server</span>, which stores the weights. All connected clients send their weights to this central server where they are averaged together by some federated aggregation <span id="S2.p1.1.4" class="ltx_text ltx_font_italic">strategy</span>. After aggregation, each client receives the newly aggregated weights and resumes training local rounds to update these weights.</p>
</div>
<div id="S2.p2" class="ltx_para ltx_noindent">
<p id="S2.p2.6" class="ltx_p">Federated learning produces a unique scenario in that there are usually a large number of clients training at one time, but the data is likely to not be independent and identically distributed (<span id="S2.p2.6.1" class="ltx_text ltx_font_italic">i.i.d.</span>). Consequently, there are many types of federated aggregation strategies available aimed at dealing with these issues. In the base federated averaging strategy, known as FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, a random fraction of clients <math id="S2.p2.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S2.p2.1.m1.1a"><mi id="S2.p2.1.m1.1.1" xref="S2.p2.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.1b"><ci id="S2.p2.1.m1.1.1.cmml" xref="S2.p2.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.1.m1.1c">C</annotation></semantics></math> is chosen out of <math id="S2.p2.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S2.p2.2.m2.1a"><mi id="S2.p2.2.m2.1.1" xref="S2.p2.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.p2.2.m2.1b"><ci id="S2.p2.2.m2.1.1.cmml" xref="S2.p2.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.2.m2.1c">K</annotation></semantics></math> total clients where the client is indexed by <math id="S2.p2.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.p2.3.m3.1a"><mi id="S2.p2.3.m3.1.1" xref="S2.p2.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p2.3.m3.1b"><ci id="S2.p2.3.m3.1.1.cmml" xref="S2.p2.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.3.m3.1c">k</annotation></semantics></math>. For each global federated learning round <math id="S2.p2.4.m4.3" class="ltx_Math" alttext="t=1,2,\dots" display="inline"><semantics id="S2.p2.4.m4.3a"><mrow id="S2.p2.4.m4.3.4" xref="S2.p2.4.m4.3.4.cmml"><mi id="S2.p2.4.m4.3.4.2" xref="S2.p2.4.m4.3.4.2.cmml">t</mi><mo id="S2.p2.4.m4.3.4.1" xref="S2.p2.4.m4.3.4.1.cmml">=</mo><mrow id="S2.p2.4.m4.3.4.3.2" xref="S2.p2.4.m4.3.4.3.1.cmml"><mn id="S2.p2.4.m4.1.1" xref="S2.p2.4.m4.1.1.cmml">1</mn><mo id="S2.p2.4.m4.3.4.3.2.1" xref="S2.p2.4.m4.3.4.3.1.cmml">,</mo><mn id="S2.p2.4.m4.2.2" xref="S2.p2.4.m4.2.2.cmml">2</mn><mo id="S2.p2.4.m4.3.4.3.2.2" xref="S2.p2.4.m4.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S2.p2.4.m4.3.3" xref="S2.p2.4.m4.3.3.cmml">…</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.4.m4.3b"><apply id="S2.p2.4.m4.3.4.cmml" xref="S2.p2.4.m4.3.4"><eq id="S2.p2.4.m4.3.4.1.cmml" xref="S2.p2.4.m4.3.4.1"></eq><ci id="S2.p2.4.m4.3.4.2.cmml" xref="S2.p2.4.m4.3.4.2">𝑡</ci><list id="S2.p2.4.m4.3.4.3.1.cmml" xref="S2.p2.4.m4.3.4.3.2"><cn type="integer" id="S2.p2.4.m4.1.1.cmml" xref="S2.p2.4.m4.1.1">1</cn><cn type="integer" id="S2.p2.4.m4.2.2.cmml" xref="S2.p2.4.m4.2.2">2</cn><ci id="S2.p2.4.m4.3.3.cmml" xref="S2.p2.4.m4.3.3">…</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.4.m4.3c">t=1,2,\dots</annotation></semantics></math>, each randomly sampled client <math id="S2.p2.5.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.p2.5.m5.1a"><mi id="S2.p2.5.m5.1.1" xref="S2.p2.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p2.5.m5.1b"><ci id="S2.p2.5.m5.1.1.cmml" xref="S2.p2.5.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.5.m5.1c">k</annotation></semantics></math> runs their model in parallel on their local datasets updating their local weights. The shared model weights <math id="S2.p2.6.m6.1" class="ltx_Math" alttext="w_{t}" display="inline"><semantics id="S2.p2.6.m6.1a"><msub id="S2.p2.6.m6.1.1" xref="S2.p2.6.m6.1.1.cmml"><mi id="S2.p2.6.m6.1.1.2" xref="S2.p2.6.m6.1.1.2.cmml">w</mi><mi id="S2.p2.6.m6.1.1.3" xref="S2.p2.6.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p2.6.m6.1b"><apply id="S2.p2.6.m6.1.1.cmml" xref="S2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S2.p2.6.m6.1.1.1.cmml" xref="S2.p2.6.m6.1.1">subscript</csymbol><ci id="S2.p2.6.m6.1.1.2.cmml" xref="S2.p2.6.m6.1.1.2">𝑤</ci><ci id="S2.p2.6.m6.1.1.3.cmml" xref="S2.p2.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.6.m6.1c">w_{t}</annotation></semantics></math> are then updated at the next time step according to</p>
</div>
<div id="S2.p3" class="ltx_para ltx_noindent">
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.1" class="ltx_Math" alttext="w_{t+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{n}w^{k}_{t+1}," display="block"><semantics id="S2.E1.m1.1a"><mrow id="S2.E1.m1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml"><mrow id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml"><msub id="S2.E1.m1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.2.cmml"><mi id="S2.E1.m1.1.1.1.1.2.2" xref="S2.E1.m1.1.1.1.1.2.2.cmml">w</mi><mrow id="S2.E1.m1.1.1.1.1.2.3" xref="S2.E1.m1.1.1.1.1.2.3.cmml"><mi id="S2.E1.m1.1.1.1.1.2.3.2" xref="S2.E1.m1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S2.E1.m1.1.1.1.1.2.3.1" xref="S2.E1.m1.1.1.1.1.2.3.1.cmml">+</mo><mn id="S2.E1.m1.1.1.1.1.2.3.3" xref="S2.E1.m1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo rspace="0.111em" stretchy="false" id="S2.E1.m1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.cmml">←</mo><mrow id="S2.E1.m1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.3.cmml"><munderover id="S2.E1.m1.1.1.1.1.3.1" xref="S2.E1.m1.1.1.1.1.3.1.cmml"><mo movablelimits="false" id="S2.E1.m1.1.1.1.1.3.1.2.2" xref="S2.E1.m1.1.1.1.1.3.1.2.2.cmml">∑</mo><mrow id="S2.E1.m1.1.1.1.1.3.1.2.3" xref="S2.E1.m1.1.1.1.1.3.1.2.3.cmml"><mi id="S2.E1.m1.1.1.1.1.3.1.2.3.2" xref="S2.E1.m1.1.1.1.1.3.1.2.3.2.cmml">k</mi><mo id="S2.E1.m1.1.1.1.1.3.1.2.3.1" xref="S2.E1.m1.1.1.1.1.3.1.2.3.1.cmml">=</mo><mn id="S2.E1.m1.1.1.1.1.3.1.2.3.3" xref="S2.E1.m1.1.1.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S2.E1.m1.1.1.1.1.3.1.3" xref="S2.E1.m1.1.1.1.1.3.1.3.cmml">K</mi></munderover><mrow id="S2.E1.m1.1.1.1.1.3.2" xref="S2.E1.m1.1.1.1.1.3.2.cmml"><mfrac id="S2.E1.m1.1.1.1.1.3.2.2" xref="S2.E1.m1.1.1.1.1.3.2.2.cmml"><msub id="S2.E1.m1.1.1.1.1.3.2.2.2" xref="S2.E1.m1.1.1.1.1.3.2.2.2.cmml"><mi id="S2.E1.m1.1.1.1.1.3.2.2.2.2" xref="S2.E1.m1.1.1.1.1.3.2.2.2.2.cmml">n</mi><mi id="S2.E1.m1.1.1.1.1.3.2.2.2.3" xref="S2.E1.m1.1.1.1.1.3.2.2.2.3.cmml">k</mi></msub><mi id="S2.E1.m1.1.1.1.1.3.2.2.3" xref="S2.E1.m1.1.1.1.1.3.2.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.3.2.1" xref="S2.E1.m1.1.1.1.1.3.2.1.cmml">​</mo><msubsup id="S2.E1.m1.1.1.1.1.3.2.3" xref="S2.E1.m1.1.1.1.1.3.2.3.cmml"><mi id="S2.E1.m1.1.1.1.1.3.2.3.2.2" xref="S2.E1.m1.1.1.1.1.3.2.3.2.2.cmml">w</mi><mrow id="S2.E1.m1.1.1.1.1.3.2.3.3" xref="S2.E1.m1.1.1.1.1.3.2.3.3.cmml"><mi id="S2.E1.m1.1.1.1.1.3.2.3.3.2" xref="S2.E1.m1.1.1.1.1.3.2.3.3.2.cmml">t</mi><mo id="S2.E1.m1.1.1.1.1.3.2.3.3.1" xref="S2.E1.m1.1.1.1.1.3.2.3.3.1.cmml">+</mo><mn id="S2.E1.m1.1.1.1.1.3.2.3.3.3" xref="S2.E1.m1.1.1.1.1.3.2.3.3.3.cmml">1</mn></mrow><mi id="S2.E1.m1.1.1.1.1.3.2.3.2.3" xref="S2.E1.m1.1.1.1.1.3.2.3.2.3.cmml">k</mi></msubsup></mrow></mrow></mrow><mo id="S2.E1.m1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.1b"><apply id="S2.E1.m1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1"><ci id="S2.E1.m1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1">←</ci><apply id="S2.E1.m1.1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.2.1.cmml" xref="S2.E1.m1.1.1.1.1.2">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.2.2.cmml" xref="S2.E1.m1.1.1.1.1.2.2">𝑤</ci><apply id="S2.E1.m1.1.1.1.1.2.3.cmml" xref="S2.E1.m1.1.1.1.1.2.3"><plus id="S2.E1.m1.1.1.1.1.2.3.1.cmml" xref="S2.E1.m1.1.1.1.1.2.3.1"></plus><ci id="S2.E1.m1.1.1.1.1.2.3.2.cmml" xref="S2.E1.m1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S2.E1.m1.1.1.1.1.2.3.3.cmml" xref="S2.E1.m1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S2.E1.m1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.3"><apply id="S2.E1.m1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.1.1.cmml" xref="S2.E1.m1.1.1.1.1.3.1">superscript</csymbol><apply id="S2.E1.m1.1.1.1.1.3.1.2.cmml" xref="S2.E1.m1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.1.2.1.cmml" xref="S2.E1.m1.1.1.1.1.3.1">subscript</csymbol><sum id="S2.E1.m1.1.1.1.1.3.1.2.2.cmml" xref="S2.E1.m1.1.1.1.1.3.1.2.2"></sum><apply id="S2.E1.m1.1.1.1.1.3.1.2.3.cmml" xref="S2.E1.m1.1.1.1.1.3.1.2.3"><eq id="S2.E1.m1.1.1.1.1.3.1.2.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.1.2.3.1"></eq><ci id="S2.E1.m1.1.1.1.1.3.1.2.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.1.2.3.2">𝑘</ci><cn type="integer" id="S2.E1.m1.1.1.1.1.3.1.2.3.3.cmml" xref="S2.E1.m1.1.1.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S2.E1.m1.1.1.1.1.3.1.3.cmml" xref="S2.E1.m1.1.1.1.1.3.1.3">𝐾</ci></apply><apply id="S2.E1.m1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2"><times id="S2.E1.m1.1.1.1.1.3.2.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.1"></times><apply id="S2.E1.m1.1.1.1.1.3.2.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2"><divide id="S2.E1.m1.1.1.1.1.3.2.2.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2"></divide><apply id="S2.E1.m1.1.1.1.1.3.2.2.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.2.2.2.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2.2">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.3.2.2.2.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2.2.2">𝑛</ci><ci id="S2.E1.m1.1.1.1.1.3.2.2.2.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2.2.3">𝑘</ci></apply><ci id="S2.E1.m1.1.1.1.1.3.2.2.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2.3">𝑛</ci></apply><apply id="S2.E1.m1.1.1.1.1.3.2.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.2.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3">subscript</csymbol><apply id="S2.E1.m1.1.1.1.1.3.2.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.2.3.2.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3">superscript</csymbol><ci id="S2.E1.m1.1.1.1.1.3.2.3.2.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.2.2">𝑤</ci><ci id="S2.E1.m1.1.1.1.1.3.2.3.2.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.2.3">𝑘</ci></apply><apply id="S2.E1.m1.1.1.1.1.3.2.3.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.3"><plus id="S2.E1.m1.1.1.1.1.3.2.3.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.3.1"></plus><ci id="S2.E1.m1.1.1.1.1.3.2.3.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.3.2">𝑡</ci><cn type="integer" id="S2.E1.m1.1.1.1.1.3.2.3.3.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.3.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.1c">w_{t+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{n}w^{k}_{t+1},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.p4" class="ltx_para ltx_noindent">
<p id="S2.p4.2" class="ltx_p">where <math id="S2.p4.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S2.p4.1.m1.1a"><mi id="S2.p4.1.m1.1.1" xref="S2.p4.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p4.1.m1.1b"><ci id="S2.p4.1.m1.1.1.cmml" xref="S2.p4.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.1.m1.1c">n</annotation></semantics></math> denotes the index of the data point for client <math id="S2.p4.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.p4.2.m2.1a"><mi id="S2.p4.2.m2.1.1" xref="S2.p4.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p4.2.m2.1b"><ci id="S2.p4.2.m2.1.1.cmml" xref="S2.p4.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.2.m2.1c">k</annotation></semantics></math>. Thus, according to <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, the FedAvg algorithm utilizes the general federated objective function,</p>
</div>
<div id="S2.p5" class="ltx_para ltx_noindent">
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.4" class="ltx_Math" alttext="\min_{w\in\mathbb{R}^{d}},\hskip 14.22636pt\text{where}\hskip 14.22636ptf(w):=\frac{1}{n}\sum_{i=1}^{n}f_{i}(w)," display="block"><semantics id="S2.E2.m1.4a"><mrow id="S2.E2.m1.4.4.1" xref="S2.E2.m1.4.4.1.1.cmml"><mrow id="S2.E2.m1.4.4.1.1" xref="S2.E2.m1.4.4.1.1.cmml"><mrow id="S2.E2.m1.4.4.1.1.2.2" xref="S2.E2.m1.4.4.1.1.2.3.cmml"><munder id="S2.E2.m1.4.4.1.1.1.1.1" xref="S2.E2.m1.4.4.1.1.1.1.1.cmml"><mi id="S2.E2.m1.4.4.1.1.1.1.1.2" xref="S2.E2.m1.4.4.1.1.1.1.1.2.cmml">min</mi><mrow id="S2.E2.m1.4.4.1.1.1.1.1.3" xref="S2.E2.m1.4.4.1.1.1.1.1.3.cmml"><mi id="S2.E2.m1.4.4.1.1.1.1.1.3.2" xref="S2.E2.m1.4.4.1.1.1.1.1.3.2.cmml">w</mi><mo id="S2.E2.m1.4.4.1.1.1.1.1.3.1" xref="S2.E2.m1.4.4.1.1.1.1.1.3.1.cmml">∈</mo><msup id="S2.E2.m1.4.4.1.1.1.1.1.3.3" xref="S2.E2.m1.4.4.1.1.1.1.1.3.3.cmml"><mi id="S2.E2.m1.4.4.1.1.1.1.1.3.3.2" xref="S2.E2.m1.4.4.1.1.1.1.1.3.3.2.cmml">ℝ</mi><mi id="S2.E2.m1.4.4.1.1.1.1.1.3.3.3" xref="S2.E2.m1.4.4.1.1.1.1.1.3.3.3.cmml">d</mi></msup></mrow></munder><mo rspace="1.587em" id="S2.E2.m1.4.4.1.1.2.2.3" xref="S2.E2.m1.4.4.1.1.2.3.cmml">,</mo><mtext id="S2.E2.m1.3.3" xref="S2.E2.m1.3.3a.cmml">where</mtext><mspace width="1.42em" id="S2.E2.m1.4.4.1.1.2.2.4" xref="S2.E2.m1.4.4.1.1.2.3.cmml"></mspace><mrow id="S2.E2.m1.4.4.1.1.2.2.2" xref="S2.E2.m1.4.4.1.1.2.2.2.cmml"><mi id="S2.E2.m1.4.4.1.1.2.2.2.2" xref="S2.E2.m1.4.4.1.1.2.2.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.4.4.1.1.2.2.2.1" xref="S2.E2.m1.4.4.1.1.2.2.2.1.cmml">​</mo><mrow id="S2.E2.m1.4.4.1.1.2.2.2.3.2" xref="S2.E2.m1.4.4.1.1.2.2.2.cmml"><mo stretchy="false" id="S2.E2.m1.4.4.1.1.2.2.2.3.2.1" xref="S2.E2.m1.4.4.1.1.2.2.2.cmml">(</mo><mi id="S2.E2.m1.1.1" xref="S2.E2.m1.1.1.cmml">w</mi><mo rspace="0.278em" stretchy="false" id="S2.E2.m1.4.4.1.1.2.2.2.3.2.2" xref="S2.E2.m1.4.4.1.1.2.2.2.cmml">)</mo></mrow></mrow></mrow><mo rspace="0.278em" id="S2.E2.m1.4.4.1.1.3" xref="S2.E2.m1.4.4.1.1.3.cmml">:=</mo><mrow id="S2.E2.m1.4.4.1.1.4" xref="S2.E2.m1.4.4.1.1.4.cmml"><mfrac id="S2.E2.m1.4.4.1.1.4.2" xref="S2.E2.m1.4.4.1.1.4.2.cmml"><mn id="S2.E2.m1.4.4.1.1.4.2.2" xref="S2.E2.m1.4.4.1.1.4.2.2.cmml">1</mn><mi id="S2.E2.m1.4.4.1.1.4.2.3" xref="S2.E2.m1.4.4.1.1.4.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="S2.E2.m1.4.4.1.1.4.1" xref="S2.E2.m1.4.4.1.1.4.1.cmml">​</mo><mrow id="S2.E2.m1.4.4.1.1.4.3" xref="S2.E2.m1.4.4.1.1.4.3.cmml"><munderover id="S2.E2.m1.4.4.1.1.4.3.1" xref="S2.E2.m1.4.4.1.1.4.3.1.cmml"><mo movablelimits="false" id="S2.E2.m1.4.4.1.1.4.3.1.2.2" xref="S2.E2.m1.4.4.1.1.4.3.1.2.2.cmml">∑</mo><mrow id="S2.E2.m1.4.4.1.1.4.3.1.2.3" xref="S2.E2.m1.4.4.1.1.4.3.1.2.3.cmml"><mi id="S2.E2.m1.4.4.1.1.4.3.1.2.3.2" xref="S2.E2.m1.4.4.1.1.4.3.1.2.3.2.cmml">i</mi><mo id="S2.E2.m1.4.4.1.1.4.3.1.2.3.1" xref="S2.E2.m1.4.4.1.1.4.3.1.2.3.1.cmml">=</mo><mn id="S2.E2.m1.4.4.1.1.4.3.1.2.3.3" xref="S2.E2.m1.4.4.1.1.4.3.1.2.3.3.cmml">1</mn></mrow><mi id="S2.E2.m1.4.4.1.1.4.3.1.3" xref="S2.E2.m1.4.4.1.1.4.3.1.3.cmml">n</mi></munderover><mrow id="S2.E2.m1.4.4.1.1.4.3.2" xref="S2.E2.m1.4.4.1.1.4.3.2.cmml"><msub id="S2.E2.m1.4.4.1.1.4.3.2.2" xref="S2.E2.m1.4.4.1.1.4.3.2.2.cmml"><mi id="S2.E2.m1.4.4.1.1.4.3.2.2.2" xref="S2.E2.m1.4.4.1.1.4.3.2.2.2.cmml">f</mi><mi id="S2.E2.m1.4.4.1.1.4.3.2.2.3" xref="S2.E2.m1.4.4.1.1.4.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S2.E2.m1.4.4.1.1.4.3.2.1" xref="S2.E2.m1.4.4.1.1.4.3.2.1.cmml">​</mo><mrow id="S2.E2.m1.4.4.1.1.4.3.2.3.2" xref="S2.E2.m1.4.4.1.1.4.3.2.cmml"><mo stretchy="false" id="S2.E2.m1.4.4.1.1.4.3.2.3.2.1" xref="S2.E2.m1.4.4.1.1.4.3.2.cmml">(</mo><mi id="S2.E2.m1.2.2" xref="S2.E2.m1.2.2.cmml">w</mi><mo stretchy="false" id="S2.E2.m1.4.4.1.1.4.3.2.3.2.2" xref="S2.E2.m1.4.4.1.1.4.3.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S2.E2.m1.4.4.1.2" xref="S2.E2.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.4b"><apply id="S2.E2.m1.4.4.1.1.cmml" xref="S2.E2.m1.4.4.1"><csymbol cd="latexml" id="S2.E2.m1.4.4.1.1.3.cmml" xref="S2.E2.m1.4.4.1.1.3">assign</csymbol><list id="S2.E2.m1.4.4.1.1.2.3.cmml" xref="S2.E2.m1.4.4.1.1.2.2"><apply id="S2.E2.m1.4.4.1.1.1.1.1.cmml" xref="S2.E2.m1.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.4.4.1.1.1.1.1.1.cmml" xref="S2.E2.m1.4.4.1.1.1.1.1">subscript</csymbol><min id="S2.E2.m1.4.4.1.1.1.1.1.2.cmml" xref="S2.E2.m1.4.4.1.1.1.1.1.2"></min><apply id="S2.E2.m1.4.4.1.1.1.1.1.3.cmml" xref="S2.E2.m1.4.4.1.1.1.1.1.3"><in id="S2.E2.m1.4.4.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.4.4.1.1.1.1.1.3.1"></in><ci id="S2.E2.m1.4.4.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.4.4.1.1.1.1.1.3.2">𝑤</ci><apply id="S2.E2.m1.4.4.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.4.4.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.E2.m1.4.4.1.1.1.1.1.3.3.1.cmml" xref="S2.E2.m1.4.4.1.1.1.1.1.3.3">superscript</csymbol><ci id="S2.E2.m1.4.4.1.1.1.1.1.3.3.2.cmml" xref="S2.E2.m1.4.4.1.1.1.1.1.3.3.2">ℝ</ci><ci id="S2.E2.m1.4.4.1.1.1.1.1.3.3.3.cmml" xref="S2.E2.m1.4.4.1.1.1.1.1.3.3.3">𝑑</ci></apply></apply></apply><ci id="S2.E2.m1.3.3a.cmml" xref="S2.E2.m1.3.3"><mtext id="S2.E2.m1.3.3.cmml" xref="S2.E2.m1.3.3">where</mtext></ci><apply id="S2.E2.m1.4.4.1.1.2.2.2.cmml" xref="S2.E2.m1.4.4.1.1.2.2.2"><times id="S2.E2.m1.4.4.1.1.2.2.2.1.cmml" xref="S2.E2.m1.4.4.1.1.2.2.2.1"></times><ci id="S2.E2.m1.4.4.1.1.2.2.2.2.cmml" xref="S2.E2.m1.4.4.1.1.2.2.2.2">𝑓</ci><ci id="S2.E2.m1.1.1.cmml" xref="S2.E2.m1.1.1">𝑤</ci></apply></list><apply id="S2.E2.m1.4.4.1.1.4.cmml" xref="S2.E2.m1.4.4.1.1.4"><times id="S2.E2.m1.4.4.1.1.4.1.cmml" xref="S2.E2.m1.4.4.1.1.4.1"></times><apply id="S2.E2.m1.4.4.1.1.4.2.cmml" xref="S2.E2.m1.4.4.1.1.4.2"><divide id="S2.E2.m1.4.4.1.1.4.2.1.cmml" xref="S2.E2.m1.4.4.1.1.4.2"></divide><cn type="integer" id="S2.E2.m1.4.4.1.1.4.2.2.cmml" xref="S2.E2.m1.4.4.1.1.4.2.2">1</cn><ci id="S2.E2.m1.4.4.1.1.4.2.3.cmml" xref="S2.E2.m1.4.4.1.1.4.2.3">𝑛</ci></apply><apply id="S2.E2.m1.4.4.1.1.4.3.cmml" xref="S2.E2.m1.4.4.1.1.4.3"><apply id="S2.E2.m1.4.4.1.1.4.3.1.cmml" xref="S2.E2.m1.4.4.1.1.4.3.1"><csymbol cd="ambiguous" id="S2.E2.m1.4.4.1.1.4.3.1.1.cmml" xref="S2.E2.m1.4.4.1.1.4.3.1">superscript</csymbol><apply id="S2.E2.m1.4.4.1.1.4.3.1.2.cmml" xref="S2.E2.m1.4.4.1.1.4.3.1"><csymbol cd="ambiguous" id="S2.E2.m1.4.4.1.1.4.3.1.2.1.cmml" xref="S2.E2.m1.4.4.1.1.4.3.1">subscript</csymbol><sum id="S2.E2.m1.4.4.1.1.4.3.1.2.2.cmml" xref="S2.E2.m1.4.4.1.1.4.3.1.2.2"></sum><apply id="S2.E2.m1.4.4.1.1.4.3.1.2.3.cmml" xref="S2.E2.m1.4.4.1.1.4.3.1.2.3"><eq id="S2.E2.m1.4.4.1.1.4.3.1.2.3.1.cmml" xref="S2.E2.m1.4.4.1.1.4.3.1.2.3.1"></eq><ci id="S2.E2.m1.4.4.1.1.4.3.1.2.3.2.cmml" xref="S2.E2.m1.4.4.1.1.4.3.1.2.3.2">𝑖</ci><cn type="integer" id="S2.E2.m1.4.4.1.1.4.3.1.2.3.3.cmml" xref="S2.E2.m1.4.4.1.1.4.3.1.2.3.3">1</cn></apply></apply><ci id="S2.E2.m1.4.4.1.1.4.3.1.3.cmml" xref="S2.E2.m1.4.4.1.1.4.3.1.3">𝑛</ci></apply><apply id="S2.E2.m1.4.4.1.1.4.3.2.cmml" xref="S2.E2.m1.4.4.1.1.4.3.2"><times id="S2.E2.m1.4.4.1.1.4.3.2.1.cmml" xref="S2.E2.m1.4.4.1.1.4.3.2.1"></times><apply id="S2.E2.m1.4.4.1.1.4.3.2.2.cmml" xref="S2.E2.m1.4.4.1.1.4.3.2.2"><csymbol cd="ambiguous" id="S2.E2.m1.4.4.1.1.4.3.2.2.1.cmml" xref="S2.E2.m1.4.4.1.1.4.3.2.2">subscript</csymbol><ci id="S2.E2.m1.4.4.1.1.4.3.2.2.2.cmml" xref="S2.E2.m1.4.4.1.1.4.3.2.2.2">𝑓</ci><ci id="S2.E2.m1.4.4.1.1.4.3.2.2.3.cmml" xref="S2.E2.m1.4.4.1.1.4.3.2.2.3">𝑖</ci></apply><ci id="S2.E2.m1.2.2.cmml" xref="S2.E2.m1.2.2">𝑤</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.4c">\min_{w\in\mathbb{R}^{d}},\hskip 14.22636pt\text{where}\hskip 14.22636ptf(w):=\frac{1}{n}\sum_{i=1}^{n}f_{i}(w),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.p6" class="ltx_para ltx_noindent">
<p id="S2.p6.4" class="ltx_p">where, <math id="S2.p6.1.m1.1" class="ltx_Math" alttext="f_{i}(w)" display="inline"><semantics id="S2.p6.1.m1.1a"><mrow id="S2.p6.1.m1.1.2" xref="S2.p6.1.m1.1.2.cmml"><msub id="S2.p6.1.m1.1.2.2" xref="S2.p6.1.m1.1.2.2.cmml"><mi id="S2.p6.1.m1.1.2.2.2" xref="S2.p6.1.m1.1.2.2.2.cmml">f</mi><mi id="S2.p6.1.m1.1.2.2.3" xref="S2.p6.1.m1.1.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S2.p6.1.m1.1.2.1" xref="S2.p6.1.m1.1.2.1.cmml">​</mo><mrow id="S2.p6.1.m1.1.2.3.2" xref="S2.p6.1.m1.1.2.cmml"><mo stretchy="false" id="S2.p6.1.m1.1.2.3.2.1" xref="S2.p6.1.m1.1.2.cmml">(</mo><mi id="S2.p6.1.m1.1.1" xref="S2.p6.1.m1.1.1.cmml">w</mi><mo stretchy="false" id="S2.p6.1.m1.1.2.3.2.2" xref="S2.p6.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p6.1.m1.1b"><apply id="S2.p6.1.m1.1.2.cmml" xref="S2.p6.1.m1.1.2"><times id="S2.p6.1.m1.1.2.1.cmml" xref="S2.p6.1.m1.1.2.1"></times><apply id="S2.p6.1.m1.1.2.2.cmml" xref="S2.p6.1.m1.1.2.2"><csymbol cd="ambiguous" id="S2.p6.1.m1.1.2.2.1.cmml" xref="S2.p6.1.m1.1.2.2">subscript</csymbol><ci id="S2.p6.1.m1.1.2.2.2.cmml" xref="S2.p6.1.m1.1.2.2.2">𝑓</ci><ci id="S2.p6.1.m1.1.2.2.3.cmml" xref="S2.p6.1.m1.1.2.2.3">𝑖</ci></apply><ci id="S2.p6.1.m1.1.1.cmml" xref="S2.p6.1.m1.1.1">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.1.m1.1c">f_{i}(w)</annotation></semantics></math> could be the typical supervised learning objective function <math id="S2.p6.2.m2.3" class="ltx_Math" alttext="\ell(x_{i},y_{i};w)" display="inline"><semantics id="S2.p6.2.m2.3a"><mrow id="S2.p6.2.m2.3.3" xref="S2.p6.2.m2.3.3.cmml"><mi mathvariant="normal" id="S2.p6.2.m2.3.3.4" xref="S2.p6.2.m2.3.3.4.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S2.p6.2.m2.3.3.3" xref="S2.p6.2.m2.3.3.3.cmml">​</mo><mrow id="S2.p6.2.m2.3.3.2.2" xref="S2.p6.2.m2.3.3.2.3.cmml"><mo stretchy="false" id="S2.p6.2.m2.3.3.2.2.3" xref="S2.p6.2.m2.3.3.2.3.cmml">(</mo><msub id="S2.p6.2.m2.2.2.1.1.1" xref="S2.p6.2.m2.2.2.1.1.1.cmml"><mi id="S2.p6.2.m2.2.2.1.1.1.2" xref="S2.p6.2.m2.2.2.1.1.1.2.cmml">x</mi><mi id="S2.p6.2.m2.2.2.1.1.1.3" xref="S2.p6.2.m2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S2.p6.2.m2.3.3.2.2.4" xref="S2.p6.2.m2.3.3.2.3.cmml">,</mo><msub id="S2.p6.2.m2.3.3.2.2.2" xref="S2.p6.2.m2.3.3.2.2.2.cmml"><mi id="S2.p6.2.m2.3.3.2.2.2.2" xref="S2.p6.2.m2.3.3.2.2.2.2.cmml">y</mi><mi id="S2.p6.2.m2.3.3.2.2.2.3" xref="S2.p6.2.m2.3.3.2.2.2.3.cmml">i</mi></msub><mo id="S2.p6.2.m2.3.3.2.2.5" xref="S2.p6.2.m2.3.3.2.3.cmml">;</mo><mi id="S2.p6.2.m2.1.1" xref="S2.p6.2.m2.1.1.cmml">w</mi><mo stretchy="false" id="S2.p6.2.m2.3.3.2.2.6" xref="S2.p6.2.m2.3.3.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p6.2.m2.3b"><apply id="S2.p6.2.m2.3.3.cmml" xref="S2.p6.2.m2.3.3"><times id="S2.p6.2.m2.3.3.3.cmml" xref="S2.p6.2.m2.3.3.3"></times><ci id="S2.p6.2.m2.3.3.4.cmml" xref="S2.p6.2.m2.3.3.4">ℓ</ci><vector id="S2.p6.2.m2.3.3.2.3.cmml" xref="S2.p6.2.m2.3.3.2.2"><apply id="S2.p6.2.m2.2.2.1.1.1.cmml" xref="S2.p6.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.p6.2.m2.2.2.1.1.1.1.cmml" xref="S2.p6.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S2.p6.2.m2.2.2.1.1.1.2.cmml" xref="S2.p6.2.m2.2.2.1.1.1.2">𝑥</ci><ci id="S2.p6.2.m2.2.2.1.1.1.3.cmml" xref="S2.p6.2.m2.2.2.1.1.1.3">𝑖</ci></apply><apply id="S2.p6.2.m2.3.3.2.2.2.cmml" xref="S2.p6.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.p6.2.m2.3.3.2.2.2.1.cmml" xref="S2.p6.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S2.p6.2.m2.3.3.2.2.2.2.cmml" xref="S2.p6.2.m2.3.3.2.2.2.2">𝑦</ci><ci id="S2.p6.2.m2.3.3.2.2.2.3.cmml" xref="S2.p6.2.m2.3.3.2.2.2.3">𝑖</ci></apply><ci id="S2.p6.2.m2.1.1.cmml" xref="S2.p6.2.m2.1.1">𝑤</ci></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.2.m2.3c">\ell(x_{i},y_{i};w)</annotation></semantics></math> for each input/output sample pair in the dataset, indexed by <math id="S2.p6.3.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.p6.3.m3.1a"><mi id="S2.p6.3.m3.1.1" xref="S2.p6.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.p6.3.m3.1b"><ci id="S2.p6.3.m3.1.1.cmml" xref="S2.p6.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.3.m3.1c">i</annotation></semantics></math> with parameters <math id="S2.p6.4.m4.1" class="ltx_Math" alttext="w" display="inline"><semantics id="S2.p6.4.m4.1a"><mi id="S2.p6.4.m4.1.1" xref="S2.p6.4.m4.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S2.p6.4.m4.1b"><ci id="S2.p6.4.m4.1.1.cmml" xref="S2.p6.4.m4.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.4.m4.1c">w</annotation></semantics></math>. In summary, FedAvg represents the average over all loss functions of the model parameters of each client. Many other federated strategies have been recently introduced and all are currently implemented in the Flower package <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.</p>
</div>
<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Synchronous versus asynchronous federated learning</h5>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px1.p1.1" class="ltx_p">In most cases, federated learning is performed in synchronous fashion (<a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Serverless Federated Learning with flwr-serverless" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 1</span></a>, left panel). Each client submits its weights to the server after completing a set number of local training rounds on its private data. The synchronization of all of the client’s weights occurs once the last client to finish local training submits its weights to the server. Thus, synchronous federated learning implies that the overall training process is bottlenecked by the slowest client (<span id="S2.SS0.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_italic">stragglers</span>).</p>
</div>
<div id="S2.SS0.SSS0.Px1.p2" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px1.p2.1" class="ltx_p">In order to address these concerns, an alternative approach is <span id="S2.SS0.SSS0.Px1.p2.1.1" class="ltx_text ltx_font_italic">asynchronous</span> federated training (<a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Serverless Federated Learning with flwr-serverless" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 1</span></a>, right panel). A number of asynchronous federated learning strategies have been developed and implemented. The original FedAsync <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> strategy utilizes a mixing hyperparameter to control a client’s contribution to the global aggregation based on its "staleness" (how slow the client is to complete its local training rounds). Other approaches have also used a similar staleness model including ASO-Fed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> and FedSa <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>. FedBuff <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite> utilizes a buffered asynchronous aggregation approach which attempts to improve on secure aggregation protocols. The server selects a fraction of clients and aggregates them securely before updating. SAFA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> uses a different approach in which a threshold of finished clients must be met before aggregation proceeds. PORT <cite class="ltx_cite ltx_citemacro_citep">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> introduces another asynchronous update method which tries to balance between the staleness and communication cost by forcing stale clients to report their weights for aggregation after a threshold is met. Finally, a semi-synchronous federated learning paradigm has been explored in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Serverless federated learning with <span id="S3.1.1" class="ltx_text ltx_font_typewriter">flwr-serverless</span>
</h2>

<div id="S3.p1" class="ltx_para ltx_noindent">
<p id="S3.p1.1" class="ltx_p">The <span id="S3.p1.1.1" class="ltx_text ltx_font_typewriter">Flwr</span> package <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> has recently been developed to allow support for running federated learning on edge devices. In the Flower paper, the authors describe its design goals, which include being highly scalable, client-agnostic, communication-agnostic, privacy agnostic and flexible. Flower provides an easy-to-use package in which many standard machine learning frameworks (<span id="S3.p1.1.2" class="ltx_text ltx_font_typewriter">TensorFlow</span>, <span id="S3.p1.1.3" class="ltx_text ltx_font_typewriter">PyTorch</span>, <span id="S3.p1.1.4" class="ltx_text ltx_font_typewriter">Scikit-learn</span> etc.) can be made into a federated client by wrapping a <span id="S3.p1.1.5" class="ltx_text ltx_font_typewriter">fit</span> function. Despite these advantages, to date Flower does not offer support for asynchronous federated learning. Furthermore, we encountered a number of difficulties managing the communication between the main server doing the model weight aggregation and the clients with data sources stored in several cloud accounts with healthcare-related legal restrictions.</p>
</div>
<div id="S3.p2" class="ltx_para ltx_noindent">
<p id="S3.p2.1" class="ltx_p">Here we introduce and provide an overview of <span id="S3.p2.1.1" class="ltx_text ltx_font_typewriter">flwr-serverless</span>, our solution to expanding Flower’s capabilities to include asynchronous federated learning, and allow client-side aggregation without a central server. We sought to develop the package with the following design principles in mind:</p>
</div>
<div id="S3.p3" class="ltx_para ltx_noindent">
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Minimal modification</span>: We aim to retain the basic design goals and principles of the Flower package with minimal modification to its functionality or existing code and without interfering with its core design.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Serverless implementation</span>: Due to the numerous difficulties we encountered with launching and maintaining federated learning servers, we aim to provide asynchronous federated learning that can run in a <span id="S3.I1.i2.p1.1.2" class="ltx_text ltx_font_italic">serverless</span> fashion.</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i3.p1" class="ltx_para ltx_noindent">
<p id="S3.I1.i3.p1.1" class="ltx_p"><span id="S3.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">Flexibility</span>: Much like the Flower package, we aim for asynchronous federated learning to be compatible with machine learning frameworks such that it can be activated through callback functionality.</p>
</div>
</li>
</ul>
</div>
<section id="S3.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Design</h5>

<figure id="S3.F2" class="ltx_figure"><img src="/html/2310.15329/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="173" height="196" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>A detailed view of the asynchronous federated learning design in <span id="S3.F2.2.1" class="ltx_text ltx_font_typewriter">flwr-serverless</span> showing two clients interacting with the weight store. In ①, Client A begins its first epoch. Upon completion, in ② it transfers its weights to the weight store. In ③ the client downloads any available weights and aggregates them locally with its own weights according to a federated aggregation strategy. Client B follows a similar structure but in ④, we see that it takes longer to train one epoch. Therefore, a different set of weights may be available for aggregation than Client A depending on the other clients that have deposited their weights in the weight store. With many clients connecting, the weight store will contain a "running average" of the global weights proportional to the fastest clients that have finished epochs.</figcaption>
</figure>
<div id="S3.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px1.p1.1" class="ltx_p">In a typical synchronous federated learning experiment, each client runs for a number of local training training epochs before it sends its weights to a central server for aggregation. All participating clients are expected to submit their weights before the server aggregates the weights and broadcasts the new weights back to the clients. Our asynchronous implementation follows a different sequence of events (<a href="#S3.F2" title="Figure 2 ‣ Design ‣ 3 Serverless federated learning with flwr-serverless ‣ Serverless Federated Learning with flwr-serverless" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 2</span></a>). First, each client only completes a single local training epoch. Then, the client sends its weights to a remote <span id="S3.SS0.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_italic">weight store</span> and checks with the server to see if another client has recently deposited weights to this shared folder. If so, it downloads these weights and then aggregates them on the <span id="S3.SS0.SSS0.Px1.p1.1.2" class="ltx_text ltx_font_italic">client side</span> and continuous training. The effect of this process is that the client effectively becomes serverless in the sense that the aggregation is performed by the client and not externally. In this system, the weight store is intended to be any remote folder that is accessible by the client machine, for example a bucket/blob location on a cloud service provider.</p>
</div>
<div id="S3.SS0.SSS0.Px1.p2" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px1.p2.1" class="ltx_p">An interesting side effect of this kind of implementation is that each client may implement its own aggregation strategy. This opens up a number of new federating training possibilities and allows for further customization, especially for the stragglers who may average weights less frequently due to fewer connections to the shared folder. Furthermore this setup also implies that there is no "federated round". There are only local training rounds on each client with continuous weight updates between epochs if available.</p>
</div>
<div id="S3.SS0.SSS0.Px1.p3" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px1.p3.1" class="ltx_p">To run ‘flwr-serverless‘, the user is expected to specify the following for each client:</p>
</div>
<div id="S3.SS0.SSS0.Px1.p4" class="ltx_para ltx_noindent">
<ul id="S3.I2" class="ltx_itemize">
<li id="S3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i1.p1" class="ltx_para">
<p id="S3.I2.i1.p1.1" class="ltx_p">The intended federated aggregation strategy to be used by the client.</p>
</div>
</li>
<li id="S3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i2.p1" class="ltx_para">
<p id="S3.I2.i2.p1.1" class="ltx_p">The location of the shared folder, for example, an AWS S3 bucket URI.</p>
</div>
</li>
<li id="S3.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i3.p1" class="ltx_para">
<p id="S3.I2.i3.p1.1" class="ltx_p">The federated learning <span id="S3.I2.i3.p1.1.1" class="ltx_text ltx_font_italic">node</span> which has a specific strategy and shared folder.</p>
</div>
</li>
<li id="S3.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i4.p1" class="ltx_para">
<p id="S3.I2.i4.p1.1" class="ltx_p">The <span id="S3.I2.i4.p1.1.1" class="ltx_text ltx_font_typewriter">FlwrFederatedCallback</span> which will be passed to the framework’s callback.</p>
</div>
</li>
<li id="S3.I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i5.p1" class="ltx_para ltx_noindent">
<p id="S3.I2.i5.p1.1" class="ltx_p">The model <span id="S3.I2.i5.p1.1.1" class="ltx_text ltx_font_typewriter">compile</span> and <span id="S3.I2.i5.p1.1.2" class="ltx_text ltx_font_typewriter">fit</span> functions.</p>
</div>
</li>
</ul>
</div>
<div id="S3.SS0.SSS0.Px1.p5" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px1.p5.1" class="ltx_p">For example, with TensorFlow, the following is sufficient to launch and experiment with a single client.</p>
</div>
<div id="S3.SS0.SSS0.Px1.p6" class="ltx_para ltx_noindent">
<div id="S3.SS0.SSS0.Px1.p6.1" class="ltx_listing ltx_lst_language_Python ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,IyBDcmVhdGUgYSBGTCBOb2RlIHRoYXQgaGFzIGEgc3RyYXRlZ3kgYW5kIGEgc2hhcmVkIGZvbGRlci4KZnJvbSBmbHdyLnNlcnZlci5zdHJhdGVneSBpbXBvcnQgRmVkQXZnCmZyb20gZmx3cl9zZXJ2ZXJsZXNzIGltcG9ydCBBc3luY0ZlZGVyYXRlZE5vZGUsIFMzRm9sZGVyCgpzdHJhdGVneSA9IEZlZEF2ZygpCnNoYXJlZF9mb2xkZXIgPSBTM0ZvbGRlcihkaXJlY3Rvcnk9Im15YnVja2V0L2V4cGVyaW1lbnQxIikKbm9kZSA9IEFzeW5jRmVkZXJhdGVkTm9kZShzdHJhdGVneT1zdHJhdGVneSwgc2hhcmVkX2ZvbGRlcj1zaGFyZWRfZm9sZGVyKQoKIyBDcmVhdGUgYSBrZXJhcyBDYWxsYmFjayB3aXRoIHRoZSBGTCBub2RlLgpmcm9tIGZsd3Iua2VyYXMgaW1wb3J0IEZsd3JGZWRlcmF0ZWRDYWxsYmFjawpudW1fZXhhbXBsZXNfcGVyX2Vwb2NoID0gc3RlcHNfcGVyX2Vwb2NoICogYmF0Y2hfc2l6ZSAjIG51bWJlciBvZiBleGFtcGxlcyB1c2VkIGluIGVhY2ggZXBvY2gKY2FsbGJhY2sgPSBGbHdyRmVkZXJhdGVkQ2FsbGJhY2soCiAgICBub2RlLAogICAgbnVtX2V4YW1wbGVzX3Blcl9lcG9jaD1udW1fZXhhbXBsZXNfcGVyX2Vwb2NoLAopCgojIEpvaW4gdGhlIGZlZGVyYXRlZCBsZWFybmluZywgYnkgZml0dGluZyB0aGUgbW9kZWwgd2l0aCB0aGUgZmVkZXJhdGVkIGNhbGxiYWNrLgptb2RlbCA9IGtlcmFzLk1vZGVsKC4uLikKbW9kZWwuY29tcGlsZSguLi4pCm1vZGVsLmZpdChkYXRhc2V0LCBjYWxsYmFja3M9W2NhbGxiYWNrXSk=" download="">⬇</a></div>
<div id="lstnumberx1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span id="lstnumberx1.1" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="color:#009900;">#<span id="lstnumberx1.1.1" class="ltx_text ltx_lst_space"> </span>Create<span id="lstnumberx1.1.2" class="ltx_text ltx_lst_space"> </span>a<span id="lstnumberx1.1.3" class="ltx_text ltx_lst_space"> </span>FL<span id="lstnumberx1.1.4" class="ltx_text ltx_lst_space"> </span>Node<span id="lstnumberx1.1.5" class="ltx_text ltx_lst_space"> </span>that<span id="lstnumberx1.1.6" class="ltx_text ltx_lst_space"> </span>has<span id="lstnumberx1.1.7" class="ltx_text ltx_lst_space"> </span>a<span id="lstnumberx1.1.8" class="ltx_text ltx_lst_space"> </span>strategy<span id="lstnumberx1.1.9" class="ltx_text ltx_lst_space"> </span>and<span id="lstnumberx1.1.10" class="ltx_text ltx_lst_space"> </span>a<span id="lstnumberx1.1.11" class="ltx_text ltx_lst_space"> </span>shared<span id="lstnumberx1.1.12" class="ltx_text ltx_lst_space"> </span>folder.</span>
</div>
<div id="lstnumberx2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx2.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#0000FF;">from</span><span id="lstnumberx2.2" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx2.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter">flwr</span><span id="lstnumberx2.4" class="ltx_text ltx_font_typewriter">.</span><span id="lstnumberx2.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter">server</span><span id="lstnumberx2.6" class="ltx_text ltx_font_typewriter">.</span><span id="lstnumberx2.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter">strategy</span><span id="lstnumberx2.8" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx2.9" class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#0000FF;">import</span><span id="lstnumberx2.10" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx2.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter">FedAvg</span>
</div>
<div id="lstnumberx3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span id="lstnumberx3.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#0000FF;">from</span><span id="lstnumberx3.2" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx3.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter">flwr_serverless</span><span id="lstnumberx3.4" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx3.5" class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#0000FF;">import</span><span id="lstnumberx3.6" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx3.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter">AsyncFederatedNode</span><span id="lstnumberx3.8" class="ltx_text ltx_font_typewriter">,</span><span id="lstnumberx3.9" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx3.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter">S3Folder</span>
</div>
<div id="lstnumberx4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span>
</div>
<div id="lstnumberx5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span id="lstnumberx5.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter">strategy</span><span id="lstnumberx5.2" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx5.3" class="ltx_text ltx_font_typewriter">=</span><span id="lstnumberx5.4" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx5.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter">FedAvg</span><span id="lstnumberx5.6" class="ltx_text ltx_font_typewriter">()</span>
</div>
<div id="lstnumberx6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span><span id="lstnumberx6.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter">shared_folder</span><span id="lstnumberx6.2" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx6.3" class="ltx_text ltx_font_typewriter">=</span><span id="lstnumberx6.4" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx6.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter">S3Folder</span><span id="lstnumberx6.6" class="ltx_text ltx_font_typewriter">(</span><span id="lstnumberx6.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter">directory</span><span id="lstnumberx6.8" class="ltx_text ltx_font_typewriter">=</span><span id="lstnumberx6.9" class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#9400D1;">"mybucket/experiment1"</span><span id="lstnumberx6.10" class="ltx_text ltx_font_typewriter">)</span>
</div>
<div id="lstnumberx7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span id="lstnumberx7.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter">node</span><span id="lstnumberx7.2" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx7.3" class="ltx_text ltx_font_typewriter">=</span><span id="lstnumberx7.4" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx7.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter">AsyncFederatedNode</span><span id="lstnumberx7.6" class="ltx_text ltx_font_typewriter">(</span><span id="lstnumberx7.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter">strategy</span><span id="lstnumberx7.8" class="ltx_text ltx_font_typewriter">=</span><span id="lstnumberx7.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter">strategy</span><span id="lstnumberx7.10" class="ltx_text ltx_font_typewriter">,</span><span id="lstnumberx7.11" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx7.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter">shared_folder</span><span id="lstnumberx7.13" class="ltx_text ltx_font_typewriter">=</span><span id="lstnumberx7.14" class="ltx_text ltx_lst_identifier ltx_font_typewriter">shared_folder</span><span id="lstnumberx7.15" class="ltx_text ltx_font_typewriter">)</span>
</div>
<div id="lstnumberx8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span>
</div>
<div id="lstnumberx9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span><span id="lstnumberx9.1" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="color:#009900;">#<span id="lstnumberx9.1.1" class="ltx_text ltx_lst_space"> </span>Create<span id="lstnumberx9.1.2" class="ltx_text ltx_lst_space"> </span>a<span id="lstnumberx9.1.3" class="ltx_text ltx_lst_space"> </span>keras<span id="lstnumberx9.1.4" class="ltx_text ltx_lst_space"> </span>Callback<span id="lstnumberx9.1.5" class="ltx_text ltx_lst_space"> </span>with<span id="lstnumberx9.1.6" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx9.1.7" class="ltx_text ltx_lst_space"> </span>FL<span id="lstnumberx9.1.8" class="ltx_text ltx_lst_space"> </span>node.</span>
</div>
<div id="lstnumberx10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span><span id="lstnumberx10.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#0000FF;">from</span><span id="lstnumberx10.2" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx10.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter">flwr</span><span id="lstnumberx10.4" class="ltx_text ltx_font_typewriter">.</span><span id="lstnumberx10.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter">keras</span><span id="lstnumberx10.6" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx10.7" class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#0000FF;">import</span><span id="lstnumberx10.8" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx10.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter">FlwrFederatedCallback</span>
</div>
<div id="lstnumberx11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span><span id="lstnumberx11.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter">num_examples_per_epoch</span><span id="lstnumberx11.2" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx11.3" class="ltx_text ltx_font_typewriter">=</span><span id="lstnumberx11.4" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx11.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter">steps_per_epoch</span><span id="lstnumberx11.6" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx11.7" class="ltx_text ltx_font_typewriter">*</span><span id="lstnumberx11.8" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx11.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter">batch_size</span><span id="lstnumberx11.10" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx11.11" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="color:#009900;">#<span id="lstnumberx11.11.1" class="ltx_text ltx_lst_space"> </span>number<span id="lstnumberx11.11.2" class="ltx_text ltx_lst_space"> </span>of<span id="lstnumberx11.11.3" class="ltx_text ltx_lst_space"> </span>examples<span id="lstnumberx11.11.4" class="ltx_text ltx_lst_space"> </span>used<span id="lstnumberx11.11.5" class="ltx_text ltx_lst_space"> </span>in<span id="lstnumberx11.11.6" class="ltx_text ltx_lst_space"> </span>each<span id="lstnumberx11.11.7" class="ltx_text ltx_lst_space"> </span>epoch</span>
</div>
<div id="lstnumberx12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span><span id="lstnumberx12.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter">callback</span><span id="lstnumberx12.2" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx12.3" class="ltx_text ltx_font_typewriter">=</span><span id="lstnumberx12.4" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx12.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter">FlwrFederatedCallback</span><span id="lstnumberx12.6" class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span><span id="lstnumberx13.1" class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span id="lstnumberx13.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter">node</span><span id="lstnumberx13.3" class="ltx_text ltx_font_typewriter">,</span>
</div>
<div id="lstnumberx14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span><span id="lstnumberx14.1" class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span id="lstnumberx14.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter">num_examples_per_epoch</span><span id="lstnumberx14.3" class="ltx_text ltx_font_typewriter">=</span><span id="lstnumberx14.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter">num_examples_per_epoch</span><span id="lstnumberx14.5" class="ltx_text ltx_font_typewriter">,</span>
</div>
<div id="lstnumberx15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span><span id="lstnumberx15.1" class="ltx_text ltx_font_typewriter">)</span>
</div>
<div id="lstnumberx16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span>
</div>
<div id="lstnumberx17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span><span id="lstnumberx17.1" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="color:#009900;">#<span id="lstnumberx17.1.1" class="ltx_text ltx_lst_space"> </span>Join<span id="lstnumberx17.1.2" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx17.1.3" class="ltx_text ltx_lst_space"> </span>federated<span id="lstnumberx17.1.4" class="ltx_text ltx_lst_space"> </span>learning,<span id="lstnumberx17.1.5" class="ltx_text ltx_lst_space"> </span>by<span id="lstnumberx17.1.6" class="ltx_text ltx_lst_space"> </span>fitting<span id="lstnumberx17.1.7" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx17.1.8" class="ltx_text ltx_lst_space"> </span>model<span id="lstnumberx17.1.9" class="ltx_text ltx_lst_space"> </span>with<span id="lstnumberx17.1.10" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx17.1.11" class="ltx_text ltx_lst_space"> </span>federated<span id="lstnumberx17.1.12" class="ltx_text ltx_lst_space"> </span>callback.</span>
</div>
<div id="lstnumberx18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18</span><span id="lstnumberx18.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter">model</span><span id="lstnumberx18.2" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx18.3" class="ltx_text ltx_font_typewriter">=</span><span id="lstnumberx18.4" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx18.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter">keras</span><span id="lstnumberx18.6" class="ltx_text ltx_font_typewriter">.</span><span id="lstnumberx18.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter">Model</span><span id="lstnumberx18.8" class="ltx_text ltx_font_typewriter">(...)</span>
</div>
<div id="lstnumberx19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19</span><span id="lstnumberx19.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter">model</span><span id="lstnumberx19.2" class="ltx_text ltx_font_typewriter">.</span><span id="lstnumberx19.3" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" style="color:#0000FF;">compile</span><span id="lstnumberx19.4" class="ltx_text ltx_font_typewriter">(...)</span>
</div>
<div id="lstnumberx20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20</span><span id="lstnumberx20.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter">model</span><span id="lstnumberx20.2" class="ltx_text ltx_font_typewriter">.</span><span id="lstnumberx20.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter">fit</span><span id="lstnumberx20.4" class="ltx_text ltx_font_typewriter">(</span><span id="lstnumberx20.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter">dataset</span><span id="lstnumberx20.6" class="ltx_text ltx_font_typewriter">,</span><span id="lstnumberx20.7" class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span id="lstnumberx20.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter">callbacks</span><span id="lstnumberx20.9" class="ltx_text ltx_font_typewriter">=[</span><span id="lstnumberx20.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter">callback</span><span id="lstnumberx20.11" class="ltx_text ltx_font_typewriter">])</span>
</div>
</div>
</div>
<div id="S3.SS0.SSS0.Px1.p7" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px1.p7.1" class="ltx_p">As more clients connect, they will all automatically update their weights, asynchronously, based on the presence of weights in the weight store.</p>
</div>
</section>
<section id="S3.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Asynchronous update algorithm</h5>

<div id="S3.SS0.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px2.p1.18" class="ltx_p">As a first proof of concept, we present the pseudocode for an asynchronous version of the original <span id="S3.SS0.SSS0.Px2.p1.18.1" class="ltx_text ltx_font_typewriter">FedAvg</span> algorithm called <span id="S3.SS0.SSS0.Px2.p1.18.2" class="ltx_text ltx_font_typewriter">FedAvgAsyc</span> (<a href="#algorithm1" title="1 ‣ Asynchronous update algorithm ‣ 3 Serverless federated learning with flwr-serverless ‣ Serverless Federated Learning with flwr-serverless" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">algorithm 1</span></a>). The notation for this algorithm follows the same notation from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> which describes the original <span id="S3.SS0.SSS0.Px2.p1.18.3" class="ltx_text ltx_font_typewriter">FedAvg</span> algorithm in detail. Note that in this implementation, there is no server so all computations occur on the client side. First, all clients begin running in parallel with weights initialized at <math id="S3.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="w_{0}" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.1.m1.1a"><msub id="S3.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S3.SS0.SSS0.Px2.p1.1.m1.1.1.2" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml">w</mi><mn id="S3.SS0.SSS0.Px2.p1.1.m1.1.1.3" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.1.m1.1b"><apply id="S3.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1.2">𝑤</ci><cn type="integer" id="S3.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.1.m1.1c">w_{0}</annotation></semantics></math>. Then each client in <math id="S3.SS0.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.2.m2.1a"><mi id="S3.SS0.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.2.m2.1b"><ci id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.2.m2.1c">K</annotation></semantics></math>, indexed by <math id="S3.SS0.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.3.m3.1a"><mi id="S3.SS0.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS0.SSS0.Px2.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.3.m3.1b"><ci id="S3.SS0.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.3.m3.1c">k</annotation></semantics></math>, runs a training epoch <math id="S3.SS0.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.4.m4.1a"><mi id="S3.SS0.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS0.SSS0.Px2.p1.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.4.m4.1b"><ci id="S3.SS0.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.4.m4.1c">i</annotation></semantics></math> on the client side up to <math id="S3.SS0.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.5.m5.1a"><mi id="S3.SS0.SSS0.Px2.p1.5.m5.1.1" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.5.m5.1b"><ci id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.5.m5.1c">E</annotation></semantics></math> epochs. During this epoch, sampling occurs to see if this client will learn during this epoch. The probability of being sampled is controlled by the parameter <math id="S3.SS0.SSS0.Px2.p1.6.m6.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.6.m6.1a"><mi id="S3.SS0.SSS0.Px2.p1.6.m6.1.1" xref="S3.SS0.SSS0.Px2.p1.6.m6.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.6.m6.1b"><ci id="S3.SS0.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.6.m6.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.6.m6.1c">C</annotation></semantics></math> (see below for more details on the meaning of sampling in this context). If a client is sampled, then it performs the <span id="S3.SS0.SSS0.Px2.p1.18.4" class="ltx_text ltx_font_typewriter">ClientUpdate</span> which entails computing the weight updates <math id="S3.SS0.SSS0.Px2.p1.7.m7.1" class="ltx_Math" alttext="w^{k}_{i}" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.7.m7.1a"><msubsup id="S3.SS0.SSS0.Px2.p1.7.m7.1.1" xref="S3.SS0.SSS0.Px2.p1.7.m7.1.1.cmml"><mi id="S3.SS0.SSS0.Px2.p1.7.m7.1.1.2.2" xref="S3.SS0.SSS0.Px2.p1.7.m7.1.1.2.2.cmml">w</mi><mi id="S3.SS0.SSS0.Px2.p1.7.m7.1.1.3" xref="S3.SS0.SSS0.Px2.p1.7.m7.1.1.3.cmml">i</mi><mi id="S3.SS0.SSS0.Px2.p1.7.m7.1.1.2.3" xref="S3.SS0.SSS0.Px2.p1.7.m7.1.1.2.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.7.m7.1b"><apply id="S3.SS0.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.7.m7.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m7.1.1">subscript</csymbol><apply id="S3.SS0.SSS0.Px2.p1.7.m7.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.7.m7.1.1.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m7.1.1">superscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.7.m7.1.1.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m7.1.1.2.2">𝑤</ci><ci id="S3.SS0.SSS0.Px2.p1.7.m7.1.1.2.3.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m7.1.1.2.3">𝑘</ci></apply><ci id="S3.SS0.SSS0.Px2.p1.7.m7.1.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.7.m7.1c">w^{k}_{i}</annotation></semantics></math> for client <math id="S3.SS0.SSS0.Px2.p1.8.m8.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.8.m8.1a"><mi id="S3.SS0.SSS0.Px2.p1.8.m8.1.1" xref="S3.SS0.SSS0.Px2.p1.8.m8.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.8.m8.1b"><ci id="S3.SS0.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.8.m8.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.8.m8.1c">k</annotation></semantics></math> at epoch <math id="S3.SS0.SSS0.Px2.p1.9.m9.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.9.m9.1a"><mi id="S3.SS0.SSS0.Px2.p1.9.m9.1.1" xref="S3.SS0.SSS0.Px2.p1.9.m9.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.9.m9.1b"><ci id="S3.SS0.SSS0.Px2.p1.9.m9.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.9.m9.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.9.m9.1c">i</annotation></semantics></math> across all mini-batches <math id="S3.SS0.SSS0.Px2.p1.10.m10.1" class="ltx_Math" alttext="\mathcal{B}" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.10.m10.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px2.p1.10.m10.1.1" xref="S3.SS0.SSS0.Px2.p1.10.m10.1.1.cmml">ℬ</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.10.m10.1b"><ci id="S3.SS0.SSS0.Px2.p1.10.m10.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.10.m10.1.1">ℬ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.10.m10.1c">\mathcal{B}</annotation></semantics></math>, where <math id="S3.SS0.SSS0.Px2.p1.11.m11.1" class="ltx_Math" alttext="\mathcal{P}_{k}" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.11.m11.1a"><msub id="S3.SS0.SSS0.Px2.p1.11.m11.1.1" xref="S3.SS0.SSS0.Px2.p1.11.m11.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px2.p1.11.m11.1.1.2" xref="S3.SS0.SSS0.Px2.p1.11.m11.1.1.2.cmml">𝒫</mi><mi id="S3.SS0.SSS0.Px2.p1.11.m11.1.1.3" xref="S3.SS0.SSS0.Px2.p1.11.m11.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.11.m11.1b"><apply id="S3.SS0.SSS0.Px2.p1.11.m11.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.11.m11.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.11.m11.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.11.m11.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.11.m11.1.1.2">𝒫</ci><ci id="S3.SS0.SSS0.Px2.p1.11.m11.1.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.11.m11.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.11.m11.1c">\mathcal{P}_{k}</annotation></semantics></math> denotes the data point indexes of each client <math id="S3.SS0.SSS0.Px2.p1.12.m12.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.12.m12.1a"><mi id="S3.SS0.SSS0.Px2.p1.12.m12.1.1" xref="S3.SS0.SSS0.Px2.p1.12.m12.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.12.m12.1b"><ci id="S3.SS0.SSS0.Px2.p1.12.m12.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.12.m12.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.12.m12.1c">k</annotation></semantics></math>. This weight is passed to the <span id="S3.SS0.SSS0.Px2.p1.18.5" class="ltx_text ltx_font_typewriter">WeightUpdate</span> procedure which pushes the weights to the weight store. The <span id="S3.SS0.SSS0.Px2.p1.18.6" class="ltx_text ltx_font_italic">push</span> mechanism here pushes the weights using Flower for communication to the remote weight store. The client then performs a check to see if the remote server has changed state (as reported by a unique hash). The latest weights currently deposited by other asynchronous nodes would be contained here. These weights are then <span id="S3.SS0.SSS0.Px2.p1.18.7" class="ltx_text ltx_font_italic">pulled</span> from the weight store to the local client in the array <math id="S3.SS0.SSS0.Px2.p1.13.m13.1" class="ltx_Math" alttext="\omega" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.13.m13.1a"><mi id="S3.SS0.SSS0.Px2.p1.13.m13.1.1" xref="S3.SS0.SSS0.Px2.p1.13.m13.1.1.cmml">ω</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.13.m13.1b"><ci id="S3.SS0.SSS0.Px2.p1.13.m13.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.13.m13.1.1">𝜔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.13.m13.1c">\omega</annotation></semantics></math>. Client <math id="S3.SS0.SSS0.Px2.p1.14.m14.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.14.m14.1a"><mi id="S3.SS0.SSS0.Px2.p1.14.m14.1.1" xref="S3.SS0.SSS0.Px2.p1.14.m14.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.14.m14.1b"><ci id="S3.SS0.SSS0.Px2.p1.14.m14.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.14.m14.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.14.m14.1c">k</annotation></semantics></math> adds its weights <math id="S3.SS0.SSS0.Px2.p1.15.m15.1" class="ltx_Math" alttext="w^{k}" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.15.m15.1a"><msup id="S3.SS0.SSS0.Px2.p1.15.m15.1.1" xref="S3.SS0.SSS0.Px2.p1.15.m15.1.1.cmml"><mi id="S3.SS0.SSS0.Px2.p1.15.m15.1.1.2" xref="S3.SS0.SSS0.Px2.p1.15.m15.1.1.2.cmml">w</mi><mi id="S3.SS0.SSS0.Px2.p1.15.m15.1.1.3" xref="S3.SS0.SSS0.Px2.p1.15.m15.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.15.m15.1b"><apply id="S3.SS0.SSS0.Px2.p1.15.m15.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.15.m15.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.15.m15.1.1">superscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.15.m15.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.15.m15.1.1.2">𝑤</ci><ci id="S3.SS0.SSS0.Px2.p1.15.m15.1.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.15.m15.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.15.m15.1c">w^{k}</annotation></semantics></math> to <math id="S3.SS0.SSS0.Px2.p1.16.m16.1" class="ltx_Math" alttext="\omega" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.16.m16.1a"><mi id="S3.SS0.SSS0.Px2.p1.16.m16.1.1" xref="S3.SS0.SSS0.Px2.p1.16.m16.1.1.cmml">ω</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.16.m16.1b"><ci id="S3.SS0.SSS0.Px2.p1.16.m16.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.16.m16.1.1">𝜔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.16.m16.1c">\omega</annotation></semantics></math> and then the weights are averaged according to <math id="S3.SS0.SSS0.Px2.p1.17.m17.1" class="ltx_Math" alttext="w_{i+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{n}\omega[k]" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.17.m17.1a"><mrow id="S3.SS0.SSS0.Px2.p1.17.m17.1.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.cmml"><msub id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.cmml"><mi id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.2.cmml">w</mi><mrow id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.cmml"><mi id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.2.cmml">i</mi><mo id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.1" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.1.cmml">+</mo><mn id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.3" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.3.cmml">1</mn></mrow></msub><mo rspace="0.111em" stretchy="false" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.1" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.1.cmml">←</mo><mrow id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.cmml"><msubsup id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.cmml"><mo id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.2.cmml">∑</mo><mrow id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.cmml"><mi id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.2.cmml">k</mi><mo id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.1" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.1.cmml">=</mo><mn id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.3" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.3" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.3.cmml">K</mi></msubsup><mrow id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.cmml"><mfrac id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.cmml"><msub id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2.cmml"><mi id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2.2.cmml">n</mi><mi id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2.3" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2.3.cmml">k</mi></msub><mi id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.3" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.1" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.1.cmml">​</mo><mi id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.3" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.3.cmml">ω</mi><mo lspace="0em" rspace="0em" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.1a" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.1.cmml">​</mo><mrow id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.4.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.4.1.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.4.2.1" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.4.1.1.cmml">[</mo><mi id="S3.SS0.SSS0.Px2.p1.17.m17.1.1" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.1.cmml">k</mi><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.4.2.2" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.4.1.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.17.m17.1b"><apply id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2"><ci id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.1">←</ci><apply id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2">subscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.2">𝑤</ci><apply id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3"><plus id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.1"></plus><ci id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.2.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.2">𝑖</ci><cn type="integer" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.3.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.2.3.3">1</cn></apply></apply><apply id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3"><apply id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1">superscript</csymbol><apply id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1">subscript</csymbol><sum id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.2"></sum><apply id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3"><eq id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.1"></eq><ci id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.2.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.2">𝑘</ci><cn type="integer" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.3.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.2.3.3">1</cn></apply></apply><ci id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.1.3">𝐾</ci></apply><apply id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2"><times id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.1"></times><apply id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2"><divide id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2"></divide><apply id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2">subscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2.2">𝑛</ci><ci id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2.3.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.2.3">𝑘</ci></apply><ci id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.3.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.2.3">𝑛</ci></apply><ci id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.3.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.3">𝜔</ci><apply id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.4.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.4.2"><csymbol cd="latexml" id="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.4.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.2.3.2.4.2.1">delimited-[]</csymbol><ci id="S3.SS0.SSS0.Px2.p1.17.m17.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.17.m17.1.1">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.17.m17.1c">w_{i+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{n}\omega[k]</annotation></semantics></math> which become the new weight initialization for the next epoch by client <math id="S3.SS0.SSS0.Px2.p1.18.m18.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.18.m18.1a"><mi id="S3.SS0.SSS0.Px2.p1.18.m18.1.1" xref="S3.SS0.SSS0.Px2.p1.18.m18.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.18.m18.1b"><ci id="S3.SS0.SSS0.Px2.p1.18.m18.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.18.m18.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.18.m18.1c">k</annotation></semantics></math>. If the client pulls weights from the weight store and finds that no weights are available, it resumes training on its current weights.</p>
</div>
<figure id="algorithm1" class="ltx_float ltx_algorithm">
<div id="algorithm1.20" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="algorithm1.1.1" class="ltx_listingline">




<math id="algorithm1.1.1.m1.1" class="ltx_Math" alttext="\text{initialize }w_{0}" display="inline"><semantics id="algorithm1.1.1.m1.1a"><mrow id="algorithm1.1.1.m1.1.1" xref="algorithm1.1.1.m1.1.1.cmml"><mtext id="algorithm1.1.1.m1.1.1.2" xref="algorithm1.1.1.m1.1.1.2a.cmml">initialize </mtext><mo lspace="0em" rspace="0em" id="algorithm1.1.1.m1.1.1.1" xref="algorithm1.1.1.m1.1.1.1.cmml">​</mo><msub id="algorithm1.1.1.m1.1.1.3" xref="algorithm1.1.1.m1.1.1.3.cmml"><mi id="algorithm1.1.1.m1.1.1.3.2" xref="algorithm1.1.1.m1.1.1.3.2.cmml">w</mi><mn id="algorithm1.1.1.m1.1.1.3.3" xref="algorithm1.1.1.m1.1.1.3.3.cmml">0</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b"><apply id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1"><times id="algorithm1.1.1.m1.1.1.1.cmml" xref="algorithm1.1.1.m1.1.1.1"></times><ci id="algorithm1.1.1.m1.1.1.2a.cmml" xref="algorithm1.1.1.m1.1.1.2"><mtext id="algorithm1.1.1.m1.1.1.2.cmml" xref="algorithm1.1.1.m1.1.1.2">initialize </mtext></ci><apply id="algorithm1.1.1.m1.1.1.3.cmml" xref="algorithm1.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.1.1.m1.1.1.3.1.cmml" xref="algorithm1.1.1.m1.1.1.3">subscript</csymbol><ci id="algorithm1.1.1.m1.1.1.3.2.cmml" xref="algorithm1.1.1.m1.1.1.3.2">𝑤</ci><cn type="integer" id="algorithm1.1.1.m1.1.1.3.3.cmml" xref="algorithm1.1.1.m1.1.1.3.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">\text{initialize }w_{0}</annotation></semantics></math>;
</div>
<div id="algorithm1.20.21" class="ltx_listingline">
<span id="algorithm1.20.21.1" class="ltx_text ltx_font_bold">in parallel do</span> 
</div>
<div id="algorithm1.2.2" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.2.2.2" class="ltx_text ltx_font_bold">foreach</span> <em id="algorithm1.2.2.1" class="ltx_emph ltx_font_italic">client <math id="algorithm1.2.2.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="algorithm1.2.2.1.m1.1a"><mi id="algorithm1.2.2.1.m1.1.1" xref="algorithm1.2.2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="algorithm1.2.2.1.m1.1b"><ci id="algorithm1.2.2.1.m1.1.1.cmml" xref="algorithm1.2.2.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.2.1.m1.1c">k</annotation></semantics></math></em> <span id="algorithm1.2.2.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.5.5" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.5.5.4" class="ltx_text ltx_font_bold">foreach</span> <em id="algorithm1.5.5.3" class="ltx_emph ltx_font_italic">epoch <math id="algorithm1.3.3.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="algorithm1.3.3.1.m1.1a"><mi id="algorithm1.3.3.1.m1.1.1" xref="algorithm1.3.3.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="algorithm1.3.3.1.m1.1b"><ci id="algorithm1.3.3.1.m1.1.1.cmml" xref="algorithm1.3.3.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.3.1.m1.1c">i</annotation></semantics></math> from <math id="algorithm1.4.4.2.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="algorithm1.4.4.2.m2.1a"><mn id="algorithm1.4.4.2.m2.1.1" xref="algorithm1.4.4.2.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="algorithm1.4.4.2.m2.1b"><cn type="integer" id="algorithm1.4.4.2.m2.1.1.cmml" xref="algorithm1.4.4.2.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.4.2.m2.1c">1</annotation></semantics></math> to <math id="algorithm1.5.5.3.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="algorithm1.5.5.3.m3.1a"><mi id="algorithm1.5.5.3.m3.1.1" xref="algorithm1.5.5.3.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="algorithm1.5.5.3.m3.1b"><ci id="algorithm1.5.5.3.m3.1.1.cmml" xref="algorithm1.5.5.3.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.5.3.m3.1c">E</annotation></semantics></math></em> <span id="algorithm1.5.5.5" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.6.6" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.6.6.2" class="ltx_text ltx_font_bold">if</span> <em id="algorithm1.6.6.1" class="ltx_emph ltx_font_italic"><math id="algorithm1.6.6.1.m1.2" class="ltx_Math" alttext="random[0,1]&lt;C" display="inline"><semantics id="algorithm1.6.6.1.m1.2a"><mrow id="algorithm1.6.6.1.m1.2.3" xref="algorithm1.6.6.1.m1.2.3.cmml"><mrow id="algorithm1.6.6.1.m1.2.3.2" xref="algorithm1.6.6.1.m1.2.3.2.cmml"><mi id="algorithm1.6.6.1.m1.2.3.2.2" xref="algorithm1.6.6.1.m1.2.3.2.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="algorithm1.6.6.1.m1.2.3.2.1" xref="algorithm1.6.6.1.m1.2.3.2.1.cmml">​</mo><mi id="algorithm1.6.6.1.m1.2.3.2.3" xref="algorithm1.6.6.1.m1.2.3.2.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm1.6.6.1.m1.2.3.2.1a" xref="algorithm1.6.6.1.m1.2.3.2.1.cmml">​</mo><mi id="algorithm1.6.6.1.m1.2.3.2.4" xref="algorithm1.6.6.1.m1.2.3.2.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="algorithm1.6.6.1.m1.2.3.2.1b" xref="algorithm1.6.6.1.m1.2.3.2.1.cmml">​</mo><mi id="algorithm1.6.6.1.m1.2.3.2.5" xref="algorithm1.6.6.1.m1.2.3.2.5.cmml">d</mi><mo lspace="0em" rspace="0em" id="algorithm1.6.6.1.m1.2.3.2.1c" xref="algorithm1.6.6.1.m1.2.3.2.1.cmml">​</mo><mi id="algorithm1.6.6.1.m1.2.3.2.6" xref="algorithm1.6.6.1.m1.2.3.2.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="algorithm1.6.6.1.m1.2.3.2.1d" xref="algorithm1.6.6.1.m1.2.3.2.1.cmml">​</mo><mi id="algorithm1.6.6.1.m1.2.3.2.7" xref="algorithm1.6.6.1.m1.2.3.2.7.cmml">m</mi><mo lspace="0em" rspace="0em" id="algorithm1.6.6.1.m1.2.3.2.1e" xref="algorithm1.6.6.1.m1.2.3.2.1.cmml">​</mo><mrow id="algorithm1.6.6.1.m1.2.3.2.8.2" xref="algorithm1.6.6.1.m1.2.3.2.8.1.cmml"><mo stretchy="false" id="algorithm1.6.6.1.m1.2.3.2.8.2.1" xref="algorithm1.6.6.1.m1.2.3.2.8.1.cmml">[</mo><mn id="algorithm1.6.6.1.m1.1.1" xref="algorithm1.6.6.1.m1.1.1.cmml">0</mn><mo id="algorithm1.6.6.1.m1.2.3.2.8.2.2" xref="algorithm1.6.6.1.m1.2.3.2.8.1.cmml">,</mo><mn id="algorithm1.6.6.1.m1.2.2" xref="algorithm1.6.6.1.m1.2.2.cmml">1</mn><mo stretchy="false" id="algorithm1.6.6.1.m1.2.3.2.8.2.3" xref="algorithm1.6.6.1.m1.2.3.2.8.1.cmml">]</mo></mrow></mrow><mo id="algorithm1.6.6.1.m1.2.3.1" xref="algorithm1.6.6.1.m1.2.3.1.cmml">&lt;</mo><mi id="algorithm1.6.6.1.m1.2.3.3" xref="algorithm1.6.6.1.m1.2.3.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.6.6.1.m1.2b"><apply id="algorithm1.6.6.1.m1.2.3.cmml" xref="algorithm1.6.6.1.m1.2.3"><lt id="algorithm1.6.6.1.m1.2.3.1.cmml" xref="algorithm1.6.6.1.m1.2.3.1"></lt><apply id="algorithm1.6.6.1.m1.2.3.2.cmml" xref="algorithm1.6.6.1.m1.2.3.2"><times id="algorithm1.6.6.1.m1.2.3.2.1.cmml" xref="algorithm1.6.6.1.m1.2.3.2.1"></times><ci id="algorithm1.6.6.1.m1.2.3.2.2.cmml" xref="algorithm1.6.6.1.m1.2.3.2.2">𝑟</ci><ci id="algorithm1.6.6.1.m1.2.3.2.3.cmml" xref="algorithm1.6.6.1.m1.2.3.2.3">𝑎</ci><ci id="algorithm1.6.6.1.m1.2.3.2.4.cmml" xref="algorithm1.6.6.1.m1.2.3.2.4">𝑛</ci><ci id="algorithm1.6.6.1.m1.2.3.2.5.cmml" xref="algorithm1.6.6.1.m1.2.3.2.5">𝑑</ci><ci id="algorithm1.6.6.1.m1.2.3.2.6.cmml" xref="algorithm1.6.6.1.m1.2.3.2.6">𝑜</ci><ci id="algorithm1.6.6.1.m1.2.3.2.7.cmml" xref="algorithm1.6.6.1.m1.2.3.2.7">𝑚</ci><interval closure="closed" id="algorithm1.6.6.1.m1.2.3.2.8.1.cmml" xref="algorithm1.6.6.1.m1.2.3.2.8.2"><cn type="integer" id="algorithm1.6.6.1.m1.1.1.cmml" xref="algorithm1.6.6.1.m1.1.1">0</cn><cn type="integer" id="algorithm1.6.6.1.m1.2.2.cmml" xref="algorithm1.6.6.1.m1.2.2">1</cn></interval></apply><ci id="algorithm1.6.6.1.m1.2.3.3.cmml" xref="algorithm1.6.6.1.m1.2.3.3">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.6.1.m1.2c">random[0,1]&lt;C</annotation></semantics></math></em> <span id="algorithm1.6.6.3" class="ltx_text ltx_font_bold">then</span> 
</div>
<div id="algorithm1.8.8" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.7.7.m1.2" class="ltx_Math" alttext="w^{k}_{i}\leftarrow\text{ClientUpdate}(k,w_{i})" display="inline"><semantics id="algorithm1.7.7.m1.2a"><mrow id="algorithm1.7.7.m1.2.2" xref="algorithm1.7.7.m1.2.2.cmml"><msubsup id="algorithm1.7.7.m1.2.2.3" xref="algorithm1.7.7.m1.2.2.3.cmml"><mi id="algorithm1.7.7.m1.2.2.3.2.2" xref="algorithm1.7.7.m1.2.2.3.2.2.cmml">w</mi><mi id="algorithm1.7.7.m1.2.2.3.3" xref="algorithm1.7.7.m1.2.2.3.3.cmml">i</mi><mi id="algorithm1.7.7.m1.2.2.3.2.3" xref="algorithm1.7.7.m1.2.2.3.2.3.cmml">k</mi></msubsup><mo stretchy="false" id="algorithm1.7.7.m1.2.2.2" xref="algorithm1.7.7.m1.2.2.2.cmml">←</mo><mrow id="algorithm1.7.7.m1.2.2.1" xref="algorithm1.7.7.m1.2.2.1.cmml"><mtext id="algorithm1.7.7.m1.2.2.1.3" xref="algorithm1.7.7.m1.2.2.1.3a.cmml">ClientUpdate</mtext><mo lspace="0em" rspace="0em" id="algorithm1.7.7.m1.2.2.1.2" xref="algorithm1.7.7.m1.2.2.1.2.cmml">​</mo><mrow id="algorithm1.7.7.m1.2.2.1.1.1" xref="algorithm1.7.7.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="algorithm1.7.7.m1.2.2.1.1.1.2" xref="algorithm1.7.7.m1.2.2.1.1.2.cmml">(</mo><mi id="algorithm1.7.7.m1.1.1" xref="algorithm1.7.7.m1.1.1.cmml">k</mi><mo id="algorithm1.7.7.m1.2.2.1.1.1.3" xref="algorithm1.7.7.m1.2.2.1.1.2.cmml">,</mo><msub id="algorithm1.7.7.m1.2.2.1.1.1.1" xref="algorithm1.7.7.m1.2.2.1.1.1.1.cmml"><mi id="algorithm1.7.7.m1.2.2.1.1.1.1.2" xref="algorithm1.7.7.m1.2.2.1.1.1.1.2.cmml">w</mi><mi id="algorithm1.7.7.m1.2.2.1.1.1.1.3" xref="algorithm1.7.7.m1.2.2.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="algorithm1.7.7.m1.2.2.1.1.1.4" xref="algorithm1.7.7.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.7.7.m1.2b"><apply id="algorithm1.7.7.m1.2.2.cmml" xref="algorithm1.7.7.m1.2.2"><ci id="algorithm1.7.7.m1.2.2.2.cmml" xref="algorithm1.7.7.m1.2.2.2">←</ci><apply id="algorithm1.7.7.m1.2.2.3.cmml" xref="algorithm1.7.7.m1.2.2.3"><csymbol cd="ambiguous" id="algorithm1.7.7.m1.2.2.3.1.cmml" xref="algorithm1.7.7.m1.2.2.3">subscript</csymbol><apply id="algorithm1.7.7.m1.2.2.3.2.cmml" xref="algorithm1.7.7.m1.2.2.3"><csymbol cd="ambiguous" id="algorithm1.7.7.m1.2.2.3.2.1.cmml" xref="algorithm1.7.7.m1.2.2.3">superscript</csymbol><ci id="algorithm1.7.7.m1.2.2.3.2.2.cmml" xref="algorithm1.7.7.m1.2.2.3.2.2">𝑤</ci><ci id="algorithm1.7.7.m1.2.2.3.2.3.cmml" xref="algorithm1.7.7.m1.2.2.3.2.3">𝑘</ci></apply><ci id="algorithm1.7.7.m1.2.2.3.3.cmml" xref="algorithm1.7.7.m1.2.2.3.3">𝑖</ci></apply><apply id="algorithm1.7.7.m1.2.2.1.cmml" xref="algorithm1.7.7.m1.2.2.1"><times id="algorithm1.7.7.m1.2.2.1.2.cmml" xref="algorithm1.7.7.m1.2.2.1.2"></times><ci id="algorithm1.7.7.m1.2.2.1.3a.cmml" xref="algorithm1.7.7.m1.2.2.1.3"><mtext id="algorithm1.7.7.m1.2.2.1.3.cmml" xref="algorithm1.7.7.m1.2.2.1.3">ClientUpdate</mtext></ci><interval closure="open" id="algorithm1.7.7.m1.2.2.1.1.2.cmml" xref="algorithm1.7.7.m1.2.2.1.1.1"><ci id="algorithm1.7.7.m1.1.1.cmml" xref="algorithm1.7.7.m1.1.1">𝑘</ci><apply id="algorithm1.7.7.m1.2.2.1.1.1.1.cmml" xref="algorithm1.7.7.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.7.7.m1.2.2.1.1.1.1.1.cmml" xref="algorithm1.7.7.m1.2.2.1.1.1.1">subscript</csymbol><ci id="algorithm1.7.7.m1.2.2.1.1.1.1.2.cmml" xref="algorithm1.7.7.m1.2.2.1.1.1.1.2">𝑤</ci><ci id="algorithm1.7.7.m1.2.2.1.1.1.1.3.cmml" xref="algorithm1.7.7.m1.2.2.1.1.1.1.3">𝑖</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.7.7.m1.2c">w^{k}_{i}\leftarrow\text{ClientUpdate}(k,w_{i})</annotation></semantics></math>
<math id="algorithm1.8.8.m2.1" class="ltx_Math" alttext="w^{k}_{i+1}\leftarrow\text{WeightUpdate}(w^{k}_{i})" display="inline"><semantics id="algorithm1.8.8.m2.1a"><mrow id="algorithm1.8.8.m2.1.1" xref="algorithm1.8.8.m2.1.1.cmml"><msubsup id="algorithm1.8.8.m2.1.1.3" xref="algorithm1.8.8.m2.1.1.3.cmml"><mi id="algorithm1.8.8.m2.1.1.3.2.2" xref="algorithm1.8.8.m2.1.1.3.2.2.cmml">w</mi><mrow id="algorithm1.8.8.m2.1.1.3.3" xref="algorithm1.8.8.m2.1.1.3.3.cmml"><mi id="algorithm1.8.8.m2.1.1.3.3.2" xref="algorithm1.8.8.m2.1.1.3.3.2.cmml">i</mi><mo id="algorithm1.8.8.m2.1.1.3.3.1" xref="algorithm1.8.8.m2.1.1.3.3.1.cmml">+</mo><mn id="algorithm1.8.8.m2.1.1.3.3.3" xref="algorithm1.8.8.m2.1.1.3.3.3.cmml">1</mn></mrow><mi id="algorithm1.8.8.m2.1.1.3.2.3" xref="algorithm1.8.8.m2.1.1.3.2.3.cmml">k</mi></msubsup><mo stretchy="false" id="algorithm1.8.8.m2.1.1.2" xref="algorithm1.8.8.m2.1.1.2.cmml">←</mo><mrow id="algorithm1.8.8.m2.1.1.1" xref="algorithm1.8.8.m2.1.1.1.cmml"><mtext id="algorithm1.8.8.m2.1.1.1.3" xref="algorithm1.8.8.m2.1.1.1.3a.cmml">WeightUpdate</mtext><mo lspace="0em" rspace="0em" id="algorithm1.8.8.m2.1.1.1.2" xref="algorithm1.8.8.m2.1.1.1.2.cmml">​</mo><mrow id="algorithm1.8.8.m2.1.1.1.1.1" xref="algorithm1.8.8.m2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="algorithm1.8.8.m2.1.1.1.1.1.2" xref="algorithm1.8.8.m2.1.1.1.1.1.1.cmml">(</mo><msubsup id="algorithm1.8.8.m2.1.1.1.1.1.1" xref="algorithm1.8.8.m2.1.1.1.1.1.1.cmml"><mi id="algorithm1.8.8.m2.1.1.1.1.1.1.2.2" xref="algorithm1.8.8.m2.1.1.1.1.1.1.2.2.cmml">w</mi><mi id="algorithm1.8.8.m2.1.1.1.1.1.1.3" xref="algorithm1.8.8.m2.1.1.1.1.1.1.3.cmml">i</mi><mi id="algorithm1.8.8.m2.1.1.1.1.1.1.2.3" xref="algorithm1.8.8.m2.1.1.1.1.1.1.2.3.cmml">k</mi></msubsup><mo stretchy="false" id="algorithm1.8.8.m2.1.1.1.1.1.3" xref="algorithm1.8.8.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.8.8.m2.1b"><apply id="algorithm1.8.8.m2.1.1.cmml" xref="algorithm1.8.8.m2.1.1"><ci id="algorithm1.8.8.m2.1.1.2.cmml" xref="algorithm1.8.8.m2.1.1.2">←</ci><apply id="algorithm1.8.8.m2.1.1.3.cmml" xref="algorithm1.8.8.m2.1.1.3"><csymbol cd="ambiguous" id="algorithm1.8.8.m2.1.1.3.1.cmml" xref="algorithm1.8.8.m2.1.1.3">subscript</csymbol><apply id="algorithm1.8.8.m2.1.1.3.2.cmml" xref="algorithm1.8.8.m2.1.1.3"><csymbol cd="ambiguous" id="algorithm1.8.8.m2.1.1.3.2.1.cmml" xref="algorithm1.8.8.m2.1.1.3">superscript</csymbol><ci id="algorithm1.8.8.m2.1.1.3.2.2.cmml" xref="algorithm1.8.8.m2.1.1.3.2.2">𝑤</ci><ci id="algorithm1.8.8.m2.1.1.3.2.3.cmml" xref="algorithm1.8.8.m2.1.1.3.2.3">𝑘</ci></apply><apply id="algorithm1.8.8.m2.1.1.3.3.cmml" xref="algorithm1.8.8.m2.1.1.3.3"><plus id="algorithm1.8.8.m2.1.1.3.3.1.cmml" xref="algorithm1.8.8.m2.1.1.3.3.1"></plus><ci id="algorithm1.8.8.m2.1.1.3.3.2.cmml" xref="algorithm1.8.8.m2.1.1.3.3.2">𝑖</ci><cn type="integer" id="algorithm1.8.8.m2.1.1.3.3.3.cmml" xref="algorithm1.8.8.m2.1.1.3.3.3">1</cn></apply></apply><apply id="algorithm1.8.8.m2.1.1.1.cmml" xref="algorithm1.8.8.m2.1.1.1"><times id="algorithm1.8.8.m2.1.1.1.2.cmml" xref="algorithm1.8.8.m2.1.1.1.2"></times><ci id="algorithm1.8.8.m2.1.1.1.3a.cmml" xref="algorithm1.8.8.m2.1.1.1.3"><mtext id="algorithm1.8.8.m2.1.1.1.3.cmml" xref="algorithm1.8.8.m2.1.1.1.3">WeightUpdate</mtext></ci><apply id="algorithm1.8.8.m2.1.1.1.1.1.1.cmml" xref="algorithm1.8.8.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.8.8.m2.1.1.1.1.1.1.1.cmml" xref="algorithm1.8.8.m2.1.1.1.1.1">subscript</csymbol><apply id="algorithm1.8.8.m2.1.1.1.1.1.1.2.cmml" xref="algorithm1.8.8.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.8.8.m2.1.1.1.1.1.1.2.1.cmml" xref="algorithm1.8.8.m2.1.1.1.1.1">superscript</csymbol><ci id="algorithm1.8.8.m2.1.1.1.1.1.1.2.2.cmml" xref="algorithm1.8.8.m2.1.1.1.1.1.1.2.2">𝑤</ci><ci id="algorithm1.8.8.m2.1.1.1.1.1.1.2.3.cmml" xref="algorithm1.8.8.m2.1.1.1.1.1.1.2.3">𝑘</ci></apply><ci id="algorithm1.8.8.m2.1.1.1.1.1.1.3.cmml" xref="algorithm1.8.8.m2.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.8.8.m2.1c">w^{k}_{i+1}\leftarrow\text{WeightUpdate}(w^{k}_{i})</annotation></semantics></math>

</div>
<div id="algorithm1.20.22" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end if
</div>
<div id="algorithm1.20.23" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="algorithm1.20.24" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end foreach
</div>
<div id="algorithm1.20.25" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="algorithm1.20.26" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end foreach
</div>
<div id="algorithm1.20.27" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="algorithm1.20.28" class="ltx_listingline"> end
</div>
<div id="algorithm1.20.29" class="ltx_listingline">
</div>
<div id="algorithm1.10.10" class="ltx_listingline">
<span id="algorithm1.10.10.3" class="ltx_text ltx_font_bold">Function</span> <em id="algorithm1.10.10.2" class="ltx_emph ltx_font_typewriter">ClientUpdate(<em id="algorithm1.10.10.2.2.2" class="ltx_emph ltx_font_serif ltx_font_italic"><math id="algorithm1.9.9.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="algorithm1.9.9.1.1.1.m1.1a"><mi id="algorithm1.9.9.1.1.1.m1.1.1" xref="algorithm1.9.9.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="algorithm1.9.9.1.1.1.m1.1b"><ci id="algorithm1.9.9.1.1.1.m1.1.1.cmml" xref="algorithm1.9.9.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.9.9.1.1.1.m1.1c">k</annotation></semantics></math>, <math id="algorithm1.10.10.2.2.2.m2.1" class="ltx_Math" alttext="w_{i}" display="inline"><semantics id="algorithm1.10.10.2.2.2.m2.1a"><msub id="algorithm1.10.10.2.2.2.m2.1.1" xref="algorithm1.10.10.2.2.2.m2.1.1.cmml"><mi id="algorithm1.10.10.2.2.2.m2.1.1.2" xref="algorithm1.10.10.2.2.2.m2.1.1.2.cmml">w</mi><mi id="algorithm1.10.10.2.2.2.m2.1.1.3" xref="algorithm1.10.10.2.2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.10.10.2.2.2.m2.1b"><apply id="algorithm1.10.10.2.2.2.m2.1.1.cmml" xref="algorithm1.10.10.2.2.2.m2.1.1"><csymbol cd="ambiguous" id="algorithm1.10.10.2.2.2.m2.1.1.1.cmml" xref="algorithm1.10.10.2.2.2.m2.1.1">subscript</csymbol><ci id="algorithm1.10.10.2.2.2.m2.1.1.2.cmml" xref="algorithm1.10.10.2.2.2.m2.1.1.2">𝑤</ci><ci id="algorithm1.10.10.2.2.2.m2.1.1.3.cmml" xref="algorithm1.10.10.2.2.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.10.10.2.2.2.m2.1c">w_{i}</annotation></semantics></math></em>)</em><span id="algorithm1.10.10.4" class="ltx_text ltx_font_bold">:</span> 
</div>
<div id="algorithm1.11.11" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.11.11.m1.1" class="ltx_Math" alttext="\mathcal{B}\leftarrow(\text{split}\hskip 2.84526pt\mathcal{P}_{k}\hskip 2.84526pt\text{into batches of size}\hskip 2.84526ptB)" display="inline"><semantics id="algorithm1.11.11.m1.1a"><mrow id="algorithm1.11.11.m1.1.1" xref="algorithm1.11.11.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.11.11.m1.1.1.3" xref="algorithm1.11.11.m1.1.1.3.cmml">ℬ</mi><mo stretchy="false" id="algorithm1.11.11.m1.1.1.2" xref="algorithm1.11.11.m1.1.1.2.cmml">←</mo><mrow id="algorithm1.11.11.m1.1.1.1.1" xref="algorithm1.11.11.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="algorithm1.11.11.m1.1.1.1.1.2" xref="algorithm1.11.11.m1.1.1.1.1.1.cmml">(</mo><mrow id="algorithm1.11.11.m1.1.1.1.1.1" xref="algorithm1.11.11.m1.1.1.1.1.1.cmml"><mtext id="algorithm1.11.11.m1.1.1.1.1.1.2" xref="algorithm1.11.11.m1.1.1.1.1.1.2a.cmml">split</mtext><mo lspace="0.280em" rspace="0em" id="algorithm1.11.11.m1.1.1.1.1.1.1" xref="algorithm1.11.11.m1.1.1.1.1.1.1.cmml">​</mo><msub id="algorithm1.11.11.m1.1.1.1.1.1.3" xref="algorithm1.11.11.m1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.11.11.m1.1.1.1.1.1.3.2" xref="algorithm1.11.11.m1.1.1.1.1.1.3.2.cmml">𝒫</mi><mi id="algorithm1.11.11.m1.1.1.1.1.1.3.3" xref="algorithm1.11.11.m1.1.1.1.1.1.3.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="algorithm1.11.11.m1.1.1.1.1.1.1a" xref="algorithm1.11.11.m1.1.1.1.1.1.1.cmml">​</mo><mtext id="algorithm1.11.11.m1.1.1.1.1.1.4" xref="algorithm1.11.11.m1.1.1.1.1.1.4a.cmml">into batches of size</mtext><mo lspace="0.280em" rspace="0em" id="algorithm1.11.11.m1.1.1.1.1.1.1b" xref="algorithm1.11.11.m1.1.1.1.1.1.1.cmml">​</mo><mi id="algorithm1.11.11.m1.1.1.1.1.1.5" xref="algorithm1.11.11.m1.1.1.1.1.1.5.cmml">B</mi></mrow><mo stretchy="false" id="algorithm1.11.11.m1.1.1.1.1.3" xref="algorithm1.11.11.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.11.11.m1.1b"><apply id="algorithm1.11.11.m1.1.1.cmml" xref="algorithm1.11.11.m1.1.1"><ci id="algorithm1.11.11.m1.1.1.2.cmml" xref="algorithm1.11.11.m1.1.1.2">←</ci><ci id="algorithm1.11.11.m1.1.1.3.cmml" xref="algorithm1.11.11.m1.1.1.3">ℬ</ci><apply id="algorithm1.11.11.m1.1.1.1.1.1.cmml" xref="algorithm1.11.11.m1.1.1.1.1"><times id="algorithm1.11.11.m1.1.1.1.1.1.1.cmml" xref="algorithm1.11.11.m1.1.1.1.1.1.1"></times><ci id="algorithm1.11.11.m1.1.1.1.1.1.2a.cmml" xref="algorithm1.11.11.m1.1.1.1.1.1.2"><mtext id="algorithm1.11.11.m1.1.1.1.1.1.2.cmml" xref="algorithm1.11.11.m1.1.1.1.1.1.2">split</mtext></ci><apply id="algorithm1.11.11.m1.1.1.1.1.1.3.cmml" xref="algorithm1.11.11.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.11.11.m1.1.1.1.1.1.3.1.cmml" xref="algorithm1.11.11.m1.1.1.1.1.1.3">subscript</csymbol><ci id="algorithm1.11.11.m1.1.1.1.1.1.3.2.cmml" xref="algorithm1.11.11.m1.1.1.1.1.1.3.2">𝒫</ci><ci id="algorithm1.11.11.m1.1.1.1.1.1.3.3.cmml" xref="algorithm1.11.11.m1.1.1.1.1.1.3.3">𝑘</ci></apply><ci id="algorithm1.11.11.m1.1.1.1.1.1.4a.cmml" xref="algorithm1.11.11.m1.1.1.1.1.1.4"><mtext id="algorithm1.11.11.m1.1.1.1.1.1.4.cmml" xref="algorithm1.11.11.m1.1.1.1.1.1.4">into batches of size</mtext></ci><ci id="algorithm1.11.11.m1.1.1.1.1.1.5.cmml" xref="algorithm1.11.11.m1.1.1.1.1.1.5">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.11.11.m1.1c">\mathcal{B}\leftarrow(\text{split}\hskip 2.84526pt\mathcal{P}_{k}\hskip 2.84526pt\text{into batches of size}\hskip 2.84526ptB)</annotation></semantics></math>;
</div>
<div id="algorithm1.12.12" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.12.12.2" class="ltx_text ltx_font_bold">foreach</span> <em id="algorithm1.12.12.1" class="ltx_emph ltx_font_italic">batch <math id="algorithm1.12.12.1.m1.1" class="ltx_Math" alttext="b\in\mathcal{B}" display="inline"><semantics id="algorithm1.12.12.1.m1.1a"><mrow id="algorithm1.12.12.1.m1.1.1" xref="algorithm1.12.12.1.m1.1.1.cmml"><mi id="algorithm1.12.12.1.m1.1.1.2" xref="algorithm1.12.12.1.m1.1.1.2.cmml">b</mi><mo id="algorithm1.12.12.1.m1.1.1.1" xref="algorithm1.12.12.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="algorithm1.12.12.1.m1.1.1.3" xref="algorithm1.12.12.1.m1.1.1.3.cmml">ℬ</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.12.12.1.m1.1b"><apply id="algorithm1.12.12.1.m1.1.1.cmml" xref="algorithm1.12.12.1.m1.1.1"><in id="algorithm1.12.12.1.m1.1.1.1.cmml" xref="algorithm1.12.12.1.m1.1.1.1"></in><ci id="algorithm1.12.12.1.m1.1.1.2.cmml" xref="algorithm1.12.12.1.m1.1.1.2">𝑏</ci><ci id="algorithm1.12.12.1.m1.1.1.3.cmml" xref="algorithm1.12.12.1.m1.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.12.12.1.m1.1c">b\in\mathcal{B}</annotation></semantics></math></em> <span id="algorithm1.12.12.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.13.13" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.13.13.m1.2" class="ltx_Math" alttext="w\leftarrow w-\eta\nabla\ell(w;b)" display="inline"><semantics id="algorithm1.13.13.m1.2a"><mrow id="algorithm1.13.13.m1.2.3" xref="algorithm1.13.13.m1.2.3.cmml"><mi id="algorithm1.13.13.m1.2.3.2" xref="algorithm1.13.13.m1.2.3.2.cmml">w</mi><mo stretchy="false" id="algorithm1.13.13.m1.2.3.1" xref="algorithm1.13.13.m1.2.3.1.cmml">←</mo><mrow id="algorithm1.13.13.m1.2.3.3" xref="algorithm1.13.13.m1.2.3.3.cmml"><mi id="algorithm1.13.13.m1.2.3.3.2" xref="algorithm1.13.13.m1.2.3.3.2.cmml">w</mi><mo id="algorithm1.13.13.m1.2.3.3.1" xref="algorithm1.13.13.m1.2.3.3.1.cmml">−</mo><mrow id="algorithm1.13.13.m1.2.3.3.3" xref="algorithm1.13.13.m1.2.3.3.3.cmml"><mi id="algorithm1.13.13.m1.2.3.3.3.2" xref="algorithm1.13.13.m1.2.3.3.3.2.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="algorithm1.13.13.m1.2.3.3.3.1" xref="algorithm1.13.13.m1.2.3.3.3.1.cmml">​</mo><mrow id="algorithm1.13.13.m1.2.3.3.3.3" xref="algorithm1.13.13.m1.2.3.3.3.3.cmml"><mo rspace="0.167em" id="algorithm1.13.13.m1.2.3.3.3.3.1" xref="algorithm1.13.13.m1.2.3.3.3.3.1.cmml">∇</mo><mi mathvariant="normal" id="algorithm1.13.13.m1.2.3.3.3.3.2" xref="algorithm1.13.13.m1.2.3.3.3.3.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="algorithm1.13.13.m1.2.3.3.3.1a" xref="algorithm1.13.13.m1.2.3.3.3.1.cmml">​</mo><mrow id="algorithm1.13.13.m1.2.3.3.3.4.2" xref="algorithm1.13.13.m1.2.3.3.3.4.1.cmml"><mo stretchy="false" id="algorithm1.13.13.m1.2.3.3.3.4.2.1" xref="algorithm1.13.13.m1.2.3.3.3.4.1.cmml">(</mo><mi id="algorithm1.13.13.m1.1.1" xref="algorithm1.13.13.m1.1.1.cmml">w</mi><mo id="algorithm1.13.13.m1.2.3.3.3.4.2.2" xref="algorithm1.13.13.m1.2.3.3.3.4.1.cmml">;</mo><mi id="algorithm1.13.13.m1.2.2" xref="algorithm1.13.13.m1.2.2.cmml">b</mi><mo stretchy="false" id="algorithm1.13.13.m1.2.3.3.3.4.2.3" xref="algorithm1.13.13.m1.2.3.3.3.4.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.13.13.m1.2b"><apply id="algorithm1.13.13.m1.2.3.cmml" xref="algorithm1.13.13.m1.2.3"><ci id="algorithm1.13.13.m1.2.3.1.cmml" xref="algorithm1.13.13.m1.2.3.1">←</ci><ci id="algorithm1.13.13.m1.2.3.2.cmml" xref="algorithm1.13.13.m1.2.3.2">𝑤</ci><apply id="algorithm1.13.13.m1.2.3.3.cmml" xref="algorithm1.13.13.m1.2.3.3"><minus id="algorithm1.13.13.m1.2.3.3.1.cmml" xref="algorithm1.13.13.m1.2.3.3.1"></minus><ci id="algorithm1.13.13.m1.2.3.3.2.cmml" xref="algorithm1.13.13.m1.2.3.3.2">𝑤</ci><apply id="algorithm1.13.13.m1.2.3.3.3.cmml" xref="algorithm1.13.13.m1.2.3.3.3"><times id="algorithm1.13.13.m1.2.3.3.3.1.cmml" xref="algorithm1.13.13.m1.2.3.3.3.1"></times><ci id="algorithm1.13.13.m1.2.3.3.3.2.cmml" xref="algorithm1.13.13.m1.2.3.3.3.2">𝜂</ci><apply id="algorithm1.13.13.m1.2.3.3.3.3.cmml" xref="algorithm1.13.13.m1.2.3.3.3.3"><ci id="algorithm1.13.13.m1.2.3.3.3.3.1.cmml" xref="algorithm1.13.13.m1.2.3.3.3.3.1">∇</ci><ci id="algorithm1.13.13.m1.2.3.3.3.3.2.cmml" xref="algorithm1.13.13.m1.2.3.3.3.3.2">ℓ</ci></apply><list id="algorithm1.13.13.m1.2.3.3.3.4.1.cmml" xref="algorithm1.13.13.m1.2.3.3.3.4.2"><ci id="algorithm1.13.13.m1.1.1.cmml" xref="algorithm1.13.13.m1.1.1">𝑤</ci><ci id="algorithm1.13.13.m1.2.2.cmml" xref="algorithm1.13.13.m1.2.2">𝑏</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.13.13.m1.2c">w\leftarrow w-\eta\nabla\ell(w;b)</annotation></semantics></math>

</div>
<div id="algorithm1.20.30" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end foreach
</div>
<div id="algorithm1.14.14" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="algorithm1.14.14.1" class="ltx_text ltx_font_bold">return</span> <math id="algorithm1.14.14.m1.1" class="ltx_Math" alttext="w" display="inline"><semantics id="algorithm1.14.14.m1.1a"><mi id="algorithm1.14.14.m1.1.1" xref="algorithm1.14.14.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="algorithm1.14.14.m1.1b"><ci id="algorithm1.14.14.m1.1.1.cmml" xref="algorithm1.14.14.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.14.14.m1.1c">w</annotation></semantics></math>

</div>
<div id="algorithm1.20.31" class="ltx_listingline"> 
</div>
<div id="algorithm1.15.15" class="ltx_listingline">
<span id="algorithm1.15.15.2" class="ltx_text ltx_font_bold">Function</span> <em id="algorithm1.15.15.1" class="ltx_emph ltx_font_typewriter">WeightUpdate(<em id="algorithm1.15.15.1.1.1" class="ltx_emph ltx_font_serif ltx_font_italic"><math id="algorithm1.15.15.1.1.1.m1.1" class="ltx_Math" alttext="w^{k}" display="inline"><semantics id="algorithm1.15.15.1.1.1.m1.1a"><msup id="algorithm1.15.15.1.1.1.m1.1.1" xref="algorithm1.15.15.1.1.1.m1.1.1.cmml"><mi id="algorithm1.15.15.1.1.1.m1.1.1.2" xref="algorithm1.15.15.1.1.1.m1.1.1.2.cmml">w</mi><mi id="algorithm1.15.15.1.1.1.m1.1.1.3" xref="algorithm1.15.15.1.1.1.m1.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="algorithm1.15.15.1.1.1.m1.1b"><apply id="algorithm1.15.15.1.1.1.m1.1.1.cmml" xref="algorithm1.15.15.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.15.15.1.1.1.m1.1.1.1.cmml" xref="algorithm1.15.15.1.1.1.m1.1.1">superscript</csymbol><ci id="algorithm1.15.15.1.1.1.m1.1.1.2.cmml" xref="algorithm1.15.15.1.1.1.m1.1.1.2">𝑤</ci><ci id="algorithm1.15.15.1.1.1.m1.1.1.3.cmml" xref="algorithm1.15.15.1.1.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.15.15.1.1.1.m1.1c">w^{k}</annotation></semantics></math></em>)</em><span id="algorithm1.15.15.3" class="ltx_text ltx_font_bold">:</span> 
</div>
<div id="algorithm1.16.16" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.16.16.m1.1" class="ltx_Math" alttext="\text{Push}\hskip 2.84526ptw^{k}\hskip 2.84526pt\text{to weight store}" display="inline"><semantics id="algorithm1.16.16.m1.1a"><mrow id="algorithm1.16.16.m1.1.1" xref="algorithm1.16.16.m1.1.1.cmml"><mtext id="algorithm1.16.16.m1.1.1.2" xref="algorithm1.16.16.m1.1.1.2a.cmml">Push</mtext><mo lspace="0.280em" rspace="0em" id="algorithm1.16.16.m1.1.1.1" xref="algorithm1.16.16.m1.1.1.1.cmml">​</mo><msup id="algorithm1.16.16.m1.1.1.3" xref="algorithm1.16.16.m1.1.1.3.cmml"><mi id="algorithm1.16.16.m1.1.1.3.2" xref="algorithm1.16.16.m1.1.1.3.2.cmml">w</mi><mi id="algorithm1.16.16.m1.1.1.3.3" xref="algorithm1.16.16.m1.1.1.3.3.cmml">k</mi></msup><mo lspace="0em" rspace="0em" id="algorithm1.16.16.m1.1.1.1a" xref="algorithm1.16.16.m1.1.1.1.cmml">​</mo><mtext id="algorithm1.16.16.m1.1.1.4" xref="algorithm1.16.16.m1.1.1.4a.cmml">to weight store</mtext></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.16.16.m1.1b"><apply id="algorithm1.16.16.m1.1.1.cmml" xref="algorithm1.16.16.m1.1.1"><times id="algorithm1.16.16.m1.1.1.1.cmml" xref="algorithm1.16.16.m1.1.1.1"></times><ci id="algorithm1.16.16.m1.1.1.2a.cmml" xref="algorithm1.16.16.m1.1.1.2"><mtext id="algorithm1.16.16.m1.1.1.2.cmml" xref="algorithm1.16.16.m1.1.1.2">Push</mtext></ci><apply id="algorithm1.16.16.m1.1.1.3.cmml" xref="algorithm1.16.16.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.16.16.m1.1.1.3.1.cmml" xref="algorithm1.16.16.m1.1.1.3">superscript</csymbol><ci id="algorithm1.16.16.m1.1.1.3.2.cmml" xref="algorithm1.16.16.m1.1.1.3.2">𝑤</ci><ci id="algorithm1.16.16.m1.1.1.3.3.cmml" xref="algorithm1.16.16.m1.1.1.3.3">𝑘</ci></apply><ci id="algorithm1.16.16.m1.1.1.4a.cmml" xref="algorithm1.16.16.m1.1.1.4"><mtext id="algorithm1.16.16.m1.1.1.4.cmml" xref="algorithm1.16.16.m1.1.1.4">to weight store</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.16.16.m1.1c">\text{Push}\hskip 2.84526ptw^{k}\hskip 2.84526pt\text{to weight store}</annotation></semantics></math>;
</div>
<div id="algorithm1.17.17" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.17.17.m1.1" class="ltx_Math" alttext="\text{Pull}\hskip 2.84526pt\omega\hskip 2.84526pt\text{from weight store}" display="inline"><semantics id="algorithm1.17.17.m1.1a"><mrow id="algorithm1.17.17.m1.1.1" xref="algorithm1.17.17.m1.1.1.cmml"><mtext id="algorithm1.17.17.m1.1.1.2" xref="algorithm1.17.17.m1.1.1.2a.cmml">Pull</mtext><mo lspace="0.280em" rspace="0em" id="algorithm1.17.17.m1.1.1.1" xref="algorithm1.17.17.m1.1.1.1.cmml">​</mo><mi id="algorithm1.17.17.m1.1.1.3" xref="algorithm1.17.17.m1.1.1.3.cmml">ω</mi><mo lspace="0.280em" rspace="0em" id="algorithm1.17.17.m1.1.1.1a" xref="algorithm1.17.17.m1.1.1.1.cmml">​</mo><mtext id="algorithm1.17.17.m1.1.1.4" xref="algorithm1.17.17.m1.1.1.4a.cmml">from weight store</mtext></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.17.17.m1.1b"><apply id="algorithm1.17.17.m1.1.1.cmml" xref="algorithm1.17.17.m1.1.1"><times id="algorithm1.17.17.m1.1.1.1.cmml" xref="algorithm1.17.17.m1.1.1.1"></times><ci id="algorithm1.17.17.m1.1.1.2a.cmml" xref="algorithm1.17.17.m1.1.1.2"><mtext id="algorithm1.17.17.m1.1.1.2.cmml" xref="algorithm1.17.17.m1.1.1.2">Pull</mtext></ci><ci id="algorithm1.17.17.m1.1.1.3.cmml" xref="algorithm1.17.17.m1.1.1.3">𝜔</ci><ci id="algorithm1.17.17.m1.1.1.4a.cmml" xref="algorithm1.17.17.m1.1.1.4"><mtext id="algorithm1.17.17.m1.1.1.4.cmml" xref="algorithm1.17.17.m1.1.1.4">from weight store</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.17.17.m1.1c">\text{Pull}\hskip 2.84526pt\omega\hskip 2.84526pt\text{from weight store}</annotation></semantics></math>;
</div>
<div id="algorithm1.18.18" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.18.18.m1.1" class="ltx_Math" alttext="\omega[k]\leftarrow w^{k}" display="inline"><semantics id="algorithm1.18.18.m1.1a"><mrow id="algorithm1.18.18.m1.1.2" xref="algorithm1.18.18.m1.1.2.cmml"><mrow id="algorithm1.18.18.m1.1.2.2" xref="algorithm1.18.18.m1.1.2.2.cmml"><mi id="algorithm1.18.18.m1.1.2.2.2" xref="algorithm1.18.18.m1.1.2.2.2.cmml">ω</mi><mo lspace="0em" rspace="0em" id="algorithm1.18.18.m1.1.2.2.1" xref="algorithm1.18.18.m1.1.2.2.1.cmml">​</mo><mrow id="algorithm1.18.18.m1.1.2.2.3.2" xref="algorithm1.18.18.m1.1.2.2.3.1.cmml"><mo stretchy="false" id="algorithm1.18.18.m1.1.2.2.3.2.1" xref="algorithm1.18.18.m1.1.2.2.3.1.1.cmml">[</mo><mi id="algorithm1.18.18.m1.1.1" xref="algorithm1.18.18.m1.1.1.cmml">k</mi><mo stretchy="false" id="algorithm1.18.18.m1.1.2.2.3.2.2" xref="algorithm1.18.18.m1.1.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="algorithm1.18.18.m1.1.2.1" xref="algorithm1.18.18.m1.1.2.1.cmml">←</mo><msup id="algorithm1.18.18.m1.1.2.3" xref="algorithm1.18.18.m1.1.2.3.cmml"><mi id="algorithm1.18.18.m1.1.2.3.2" xref="algorithm1.18.18.m1.1.2.3.2.cmml">w</mi><mi id="algorithm1.18.18.m1.1.2.3.3" xref="algorithm1.18.18.m1.1.2.3.3.cmml">k</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.18.18.m1.1b"><apply id="algorithm1.18.18.m1.1.2.cmml" xref="algorithm1.18.18.m1.1.2"><ci id="algorithm1.18.18.m1.1.2.1.cmml" xref="algorithm1.18.18.m1.1.2.1">←</ci><apply id="algorithm1.18.18.m1.1.2.2.cmml" xref="algorithm1.18.18.m1.1.2.2"><times id="algorithm1.18.18.m1.1.2.2.1.cmml" xref="algorithm1.18.18.m1.1.2.2.1"></times><ci id="algorithm1.18.18.m1.1.2.2.2.cmml" xref="algorithm1.18.18.m1.1.2.2.2">𝜔</ci><apply id="algorithm1.18.18.m1.1.2.2.3.1.cmml" xref="algorithm1.18.18.m1.1.2.2.3.2"><csymbol cd="latexml" id="algorithm1.18.18.m1.1.2.2.3.1.1.cmml" xref="algorithm1.18.18.m1.1.2.2.3.2.1">delimited-[]</csymbol><ci id="algorithm1.18.18.m1.1.1.cmml" xref="algorithm1.18.18.m1.1.1">𝑘</ci></apply></apply><apply id="algorithm1.18.18.m1.1.2.3.cmml" xref="algorithm1.18.18.m1.1.2.3"><csymbol cd="ambiguous" id="algorithm1.18.18.m1.1.2.3.1.cmml" xref="algorithm1.18.18.m1.1.2.3">superscript</csymbol><ci id="algorithm1.18.18.m1.1.2.3.2.cmml" xref="algorithm1.18.18.m1.1.2.3.2">𝑤</ci><ci id="algorithm1.18.18.m1.1.2.3.3.cmml" xref="algorithm1.18.18.m1.1.2.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.18.18.m1.1c">\omega[k]\leftarrow w^{k}</annotation></semantics></math>;
</div>
<div id="algorithm1.19.19" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.19.19.m1.1" class="ltx_Math" alttext="w_{i+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{n}\omega[k]" display="inline"><semantics id="algorithm1.19.19.m1.1a"><mrow id="algorithm1.19.19.m1.1.2" xref="algorithm1.19.19.m1.1.2.cmml"><msub id="algorithm1.19.19.m1.1.2.2" xref="algorithm1.19.19.m1.1.2.2.cmml"><mi id="algorithm1.19.19.m1.1.2.2.2" xref="algorithm1.19.19.m1.1.2.2.2.cmml">w</mi><mrow id="algorithm1.19.19.m1.1.2.2.3" xref="algorithm1.19.19.m1.1.2.2.3.cmml"><mi id="algorithm1.19.19.m1.1.2.2.3.2" xref="algorithm1.19.19.m1.1.2.2.3.2.cmml">i</mi><mo id="algorithm1.19.19.m1.1.2.2.3.1" xref="algorithm1.19.19.m1.1.2.2.3.1.cmml">+</mo><mn id="algorithm1.19.19.m1.1.2.2.3.3" xref="algorithm1.19.19.m1.1.2.2.3.3.cmml">1</mn></mrow></msub><mo rspace="0.111em" stretchy="false" id="algorithm1.19.19.m1.1.2.1" xref="algorithm1.19.19.m1.1.2.1.cmml">←</mo><mrow id="algorithm1.19.19.m1.1.2.3" xref="algorithm1.19.19.m1.1.2.3.cmml"><msubsup id="algorithm1.19.19.m1.1.2.3.1" xref="algorithm1.19.19.m1.1.2.3.1.cmml"><mo id="algorithm1.19.19.m1.1.2.3.1.2.2" xref="algorithm1.19.19.m1.1.2.3.1.2.2.cmml">∑</mo><mrow id="algorithm1.19.19.m1.1.2.3.1.2.3" xref="algorithm1.19.19.m1.1.2.3.1.2.3.cmml"><mi id="algorithm1.19.19.m1.1.2.3.1.2.3.2" xref="algorithm1.19.19.m1.1.2.3.1.2.3.2.cmml">k</mi><mo id="algorithm1.19.19.m1.1.2.3.1.2.3.1" xref="algorithm1.19.19.m1.1.2.3.1.2.3.1.cmml">=</mo><mn id="algorithm1.19.19.m1.1.2.3.1.2.3.3" xref="algorithm1.19.19.m1.1.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="algorithm1.19.19.m1.1.2.3.1.3" xref="algorithm1.19.19.m1.1.2.3.1.3.cmml">K</mi></msubsup><mrow id="algorithm1.19.19.m1.1.2.3.2" xref="algorithm1.19.19.m1.1.2.3.2.cmml"><mfrac id="algorithm1.19.19.m1.1.2.3.2.2" xref="algorithm1.19.19.m1.1.2.3.2.2.cmml"><msub id="algorithm1.19.19.m1.1.2.3.2.2.2" xref="algorithm1.19.19.m1.1.2.3.2.2.2.cmml"><mi id="algorithm1.19.19.m1.1.2.3.2.2.2.2" xref="algorithm1.19.19.m1.1.2.3.2.2.2.2.cmml">n</mi><mi id="algorithm1.19.19.m1.1.2.3.2.2.2.3" xref="algorithm1.19.19.m1.1.2.3.2.2.2.3.cmml">k</mi></msub><mi id="algorithm1.19.19.m1.1.2.3.2.2.3" xref="algorithm1.19.19.m1.1.2.3.2.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="algorithm1.19.19.m1.1.2.3.2.1" xref="algorithm1.19.19.m1.1.2.3.2.1.cmml">​</mo><mi id="algorithm1.19.19.m1.1.2.3.2.3" xref="algorithm1.19.19.m1.1.2.3.2.3.cmml">ω</mi><mo lspace="0em" rspace="0em" id="algorithm1.19.19.m1.1.2.3.2.1a" xref="algorithm1.19.19.m1.1.2.3.2.1.cmml">​</mo><mrow id="algorithm1.19.19.m1.1.2.3.2.4.2" xref="algorithm1.19.19.m1.1.2.3.2.4.1.cmml"><mo stretchy="false" id="algorithm1.19.19.m1.1.2.3.2.4.2.1" xref="algorithm1.19.19.m1.1.2.3.2.4.1.1.cmml">[</mo><mi id="algorithm1.19.19.m1.1.1" xref="algorithm1.19.19.m1.1.1.cmml">k</mi><mo stretchy="false" id="algorithm1.19.19.m1.1.2.3.2.4.2.2" xref="algorithm1.19.19.m1.1.2.3.2.4.1.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.19.19.m1.1b"><apply id="algorithm1.19.19.m1.1.2.cmml" xref="algorithm1.19.19.m1.1.2"><ci id="algorithm1.19.19.m1.1.2.1.cmml" xref="algorithm1.19.19.m1.1.2.1">←</ci><apply id="algorithm1.19.19.m1.1.2.2.cmml" xref="algorithm1.19.19.m1.1.2.2"><csymbol cd="ambiguous" id="algorithm1.19.19.m1.1.2.2.1.cmml" xref="algorithm1.19.19.m1.1.2.2">subscript</csymbol><ci id="algorithm1.19.19.m1.1.2.2.2.cmml" xref="algorithm1.19.19.m1.1.2.2.2">𝑤</ci><apply id="algorithm1.19.19.m1.1.2.2.3.cmml" xref="algorithm1.19.19.m1.1.2.2.3"><plus id="algorithm1.19.19.m1.1.2.2.3.1.cmml" xref="algorithm1.19.19.m1.1.2.2.3.1"></plus><ci id="algorithm1.19.19.m1.1.2.2.3.2.cmml" xref="algorithm1.19.19.m1.1.2.2.3.2">𝑖</ci><cn type="integer" id="algorithm1.19.19.m1.1.2.2.3.3.cmml" xref="algorithm1.19.19.m1.1.2.2.3.3">1</cn></apply></apply><apply id="algorithm1.19.19.m1.1.2.3.cmml" xref="algorithm1.19.19.m1.1.2.3"><apply id="algorithm1.19.19.m1.1.2.3.1.cmml" xref="algorithm1.19.19.m1.1.2.3.1"><csymbol cd="ambiguous" id="algorithm1.19.19.m1.1.2.3.1.1.cmml" xref="algorithm1.19.19.m1.1.2.3.1">superscript</csymbol><apply id="algorithm1.19.19.m1.1.2.3.1.2.cmml" xref="algorithm1.19.19.m1.1.2.3.1"><csymbol cd="ambiguous" id="algorithm1.19.19.m1.1.2.3.1.2.1.cmml" xref="algorithm1.19.19.m1.1.2.3.1">subscript</csymbol><sum id="algorithm1.19.19.m1.1.2.3.1.2.2.cmml" xref="algorithm1.19.19.m1.1.2.3.1.2.2"></sum><apply id="algorithm1.19.19.m1.1.2.3.1.2.3.cmml" xref="algorithm1.19.19.m1.1.2.3.1.2.3"><eq id="algorithm1.19.19.m1.1.2.3.1.2.3.1.cmml" xref="algorithm1.19.19.m1.1.2.3.1.2.3.1"></eq><ci id="algorithm1.19.19.m1.1.2.3.1.2.3.2.cmml" xref="algorithm1.19.19.m1.1.2.3.1.2.3.2">𝑘</ci><cn type="integer" id="algorithm1.19.19.m1.1.2.3.1.2.3.3.cmml" xref="algorithm1.19.19.m1.1.2.3.1.2.3.3">1</cn></apply></apply><ci id="algorithm1.19.19.m1.1.2.3.1.3.cmml" xref="algorithm1.19.19.m1.1.2.3.1.3">𝐾</ci></apply><apply id="algorithm1.19.19.m1.1.2.3.2.cmml" xref="algorithm1.19.19.m1.1.2.3.2"><times id="algorithm1.19.19.m1.1.2.3.2.1.cmml" xref="algorithm1.19.19.m1.1.2.3.2.1"></times><apply id="algorithm1.19.19.m1.1.2.3.2.2.cmml" xref="algorithm1.19.19.m1.1.2.3.2.2"><divide id="algorithm1.19.19.m1.1.2.3.2.2.1.cmml" xref="algorithm1.19.19.m1.1.2.3.2.2"></divide><apply id="algorithm1.19.19.m1.1.2.3.2.2.2.cmml" xref="algorithm1.19.19.m1.1.2.3.2.2.2"><csymbol cd="ambiguous" id="algorithm1.19.19.m1.1.2.3.2.2.2.1.cmml" xref="algorithm1.19.19.m1.1.2.3.2.2.2">subscript</csymbol><ci id="algorithm1.19.19.m1.1.2.3.2.2.2.2.cmml" xref="algorithm1.19.19.m1.1.2.3.2.2.2.2">𝑛</ci><ci id="algorithm1.19.19.m1.1.2.3.2.2.2.3.cmml" xref="algorithm1.19.19.m1.1.2.3.2.2.2.3">𝑘</ci></apply><ci id="algorithm1.19.19.m1.1.2.3.2.2.3.cmml" xref="algorithm1.19.19.m1.1.2.3.2.2.3">𝑛</ci></apply><ci id="algorithm1.19.19.m1.1.2.3.2.3.cmml" xref="algorithm1.19.19.m1.1.2.3.2.3">𝜔</ci><apply id="algorithm1.19.19.m1.1.2.3.2.4.1.cmml" xref="algorithm1.19.19.m1.1.2.3.2.4.2"><csymbol cd="latexml" id="algorithm1.19.19.m1.1.2.3.2.4.1.1.cmml" xref="algorithm1.19.19.m1.1.2.3.2.4.2.1">delimited-[]</csymbol><ci id="algorithm1.19.19.m1.1.1.cmml" xref="algorithm1.19.19.m1.1.1">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.19.19.m1.1c">w_{i+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{n}\omega[k]</annotation></semantics></math>;
</div>
<div id="algorithm1.20.20" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.20.20.1" class="ltx_text ltx_font_bold">return</span> <math id="algorithm1.20.20.m1.1" class="ltx_Math" alttext="w_{i+1}" display="inline"><semantics id="algorithm1.20.20.m1.1a"><msub id="algorithm1.20.20.m1.1.1" xref="algorithm1.20.20.m1.1.1.cmml"><mi id="algorithm1.20.20.m1.1.1.2" xref="algorithm1.20.20.m1.1.1.2.cmml">w</mi><mrow id="algorithm1.20.20.m1.1.1.3" xref="algorithm1.20.20.m1.1.1.3.cmml"><mi id="algorithm1.20.20.m1.1.1.3.2" xref="algorithm1.20.20.m1.1.1.3.2.cmml">i</mi><mo id="algorithm1.20.20.m1.1.1.3.1" xref="algorithm1.20.20.m1.1.1.3.1.cmml">+</mo><mn id="algorithm1.20.20.m1.1.1.3.3" xref="algorithm1.20.20.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="algorithm1.20.20.m1.1b"><apply id="algorithm1.20.20.m1.1.1.cmml" xref="algorithm1.20.20.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.20.20.m1.1.1.1.cmml" xref="algorithm1.20.20.m1.1.1">subscript</csymbol><ci id="algorithm1.20.20.m1.1.1.2.cmml" xref="algorithm1.20.20.m1.1.1.2">𝑤</ci><apply id="algorithm1.20.20.m1.1.1.3.cmml" xref="algorithm1.20.20.m1.1.1.3"><plus id="algorithm1.20.20.m1.1.1.3.1.cmml" xref="algorithm1.20.20.m1.1.1.3.1"></plus><ci id="algorithm1.20.20.m1.1.1.3.2.cmml" xref="algorithm1.20.20.m1.1.1.3.2">𝑖</ci><cn type="integer" id="algorithm1.20.20.m1.1.1.3.3.cmml" xref="algorithm1.20.20.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.20.20.m1.1c">w_{i+1}</annotation></semantics></math>

</div>
<div id="algorithm1.20.32" class="ltx_listingline"> 
</div>
<div id="algorithm1.20.33" class="ltx_listingline">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm1.23.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span><span id="algorithm1.24.2" class="ltx_text ltx_font_typewriter">FedAvgAsync</span></figcaption>
</figure>
</section>
<section id="S3.SS0.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Differences between synchronous and asynchronous <span id="S3.SS0.SSS0.Px3.1.1" class="ltx_text ltx_font_typewriter">FedAvg</span>
</h5>

<div id="S3.SS0.SSS0.Px3.p1" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px3.p1.3" class="ltx_p">There are a few key differences between the original <span id="S3.SS0.SSS0.Px3.p1.3.1" class="ltx_text ltx_markedasmath ltx_font_typewriter">FedAvg</span> algorithm and <span id="S3.SS0.SSS0.Px3.p1.3.2" class="ltx_text ltx_markedasmath ltx_font_typewriter">FedAvgAsync</span>. First, since all computations take place asynchronously and simultaneously in parallel there is no need for a global federated round <math id="S3.SS0.SSS0.Px3.p1.3.m3.3" class="ltx_Math" alttext="t=1,2,\dots" display="inline"><semantics id="S3.SS0.SSS0.Px3.p1.3.m3.3a"><mrow id="S3.SS0.SSS0.Px3.p1.3.m3.3.4" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.4.cmml"><mi id="S3.SS0.SSS0.Px3.p1.3.m3.3.4.2" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.4.2.cmml">t</mi><mo id="S3.SS0.SSS0.Px3.p1.3.m3.3.4.1" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.4.1.cmml">=</mo><mrow id="S3.SS0.SSS0.Px3.p1.3.m3.3.4.3.2" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.4.3.1.cmml"><mn id="S3.SS0.SSS0.Px3.p1.3.m3.1.1" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1.cmml">1</mn><mo id="S3.SS0.SSS0.Px3.p1.3.m3.3.4.3.2.1" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.4.3.1.cmml">,</mo><mn id="S3.SS0.SSS0.Px3.p1.3.m3.2.2" xref="S3.SS0.SSS0.Px3.p1.3.m3.2.2.cmml">2</mn><mo id="S3.SS0.SSS0.Px3.p1.3.m3.3.4.3.2.2" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS0.SSS0.Px3.p1.3.m3.3.3" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.3.cmml">…</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.3.m3.3b"><apply id="S3.SS0.SSS0.Px3.p1.3.m3.3.4.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.4"><eq id="S3.SS0.SSS0.Px3.p1.3.m3.3.4.1.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.4.1"></eq><ci id="S3.SS0.SSS0.Px3.p1.3.m3.3.4.2.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.4.2">𝑡</ci><list id="S3.SS0.SSS0.Px3.p1.3.m3.3.4.3.1.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.4.3.2"><cn type="integer" id="S3.SS0.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1">1</cn><cn type="integer" id="S3.SS0.SSS0.Px3.p1.3.m3.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.2.2">2</cn><ci id="S3.SS0.SSS0.Px3.p1.3.m3.3.3.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.3.3">…</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.3.m3.3c">t=1,2,\dots</annotation></semantics></math>. Second, since clients either upload their weights after an epoch or they do not, there is no notion of a "local update"; all updates are local in this algorithm. Third, the notion of "sampling" must be handled differently because there is no global round over which sampling applies. In this case, sampling may be handled in one of two ways. Non-sampled clients can either wait for a set amount of time before resuming training or they can continue training without ever completing the <span id="S3.SS0.SSS0.Px3.p1.3.3" class="ltx_text ltx_font_typewriter">WeightUpdate</span> step. Fourth, due to the serverless nature of this algorithm, the <span id="S3.SS0.SSS0.Px3.p1.3.4" class="ltx_text ltx_font_typewriter">WeightUpdate</span> step may use a different type of update rule if preferred, opening the doors for other federated aggregation strategies to be utilized. Note that these algorithms could potentially be different for each client.</p>
</div>
</section>
<section id="S3.SS0.SSS0.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Synchronous serverless federated learning</h5>

<div id="S3.SS0.SSS0.Px4.p1" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px4.p1.1" class="ltx_p">Note that we also provide the functionality to use synchronous federated learning in a serverless fashion. In this case, when clients are attempting to get parameters from other connected nodes, they must wait until all other clients have deposited their weights in the weight store. Then, all clients simultaneously download the weights <math id="S3.SS0.SSS0.Px4.p1.1.m1.1" class="ltx_Math" alttext="\omega" display="inline"><semantics id="S3.SS0.SSS0.Px4.p1.1.m1.1a"><mi id="S3.SS0.SSS0.Px4.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.cmml">ω</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.1.m1.1b"><ci id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1">𝜔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.1.m1.1c">\omega</annotation></semantics></math> and aggregate them on the client side.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<div id="S4.p1" class="ltx_para ltx_noindent">
<p id="S4.p1.1" class="ltx_p">We designed a series of experiments to study the effects of several design choices on the quality of the model and training time. The design choices include:</p>
</div>
<div id="S4.p2" class="ltx_para ltx_noindent">
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p">the type of strategy: synchronous or asynchronous,</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">the federated learning strategy, e.g FedAvg</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p">the number of federated nodes, and</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i4.p1" class="ltx_para ltx_noindent">
<p id="S4.I1.i4.p1.1" class="ltx_p">the label skew of the federated datasets on different nodes.</p>
</div>
</li>
</ul>
</div>
<div id="S4.p3" class="ltx_para ltx_noindent">
<p id="S4.p3.1" class="ltx_p">The experiments are performed in several datasets and machine learning tasks: MNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> digital classification, CIFAR 10 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> image classification, and language modeling on WikiText <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Data partitioning to simulate skew</h3>

<div id="S4.SS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.p1.1" class="ltx_p">For all experiments, we split the dataset into a training set and a test set. The training set is partitioned according to the number of federated nodes. After training, the federated model is evaluated on the hold out test set without partitioning.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS1.p2.1" class="ltx_p">To simulate data disparity of federated datasets that may appear in practice, we simulate label skew for MNIST and CIFAR 10 datasets using the sampling procedure below.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para ltx_noindent">
<ol id="S4.I2" class="ltx_enumerate">
<li id="S4.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S4.I2.i1.p1" class="ltx_para ltx_noindent">
<p id="S4.I2.i1.p1.3" class="ltx_p">The training examples are first partitioned into <math id="S4.I2.i1.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.I2.i1.p1.1.m1.1a"><mi id="S4.I2.i1.p1.1.m1.1.1" xref="S4.I2.i1.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i1.p1.1.m1.1b"><ci id="S4.I2.i1.p1.1.m1.1.1.cmml" xref="S4.I2.i1.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.p1.1.m1.1c">n</annotation></semantics></math> mutually exclusive subsets based on the label, where <math id="S4.I2.i1.p1.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.I2.i1.p1.2.m2.1a"><mi id="S4.I2.i1.p1.2.m2.1.1" xref="S4.I2.i1.p1.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i1.p1.2.m2.1b"><ci id="S4.I2.i1.p1.2.m2.1.1.cmml" xref="S4.I2.i1.p1.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.p1.2.m2.1c">n</annotation></semantics></math> is the number of federated nodes. For example, when <math id="S4.I2.i1.p1.3.m3.1" class="ltx_Math" alttext="n=2" display="inline"><semantics id="S4.I2.i1.p1.3.m3.1a"><mrow id="S4.I2.i1.p1.3.m3.1.1" xref="S4.I2.i1.p1.3.m3.1.1.cmml"><mi id="S4.I2.i1.p1.3.m3.1.1.2" xref="S4.I2.i1.p1.3.m3.1.1.2.cmml">n</mi><mo id="S4.I2.i1.p1.3.m3.1.1.1" xref="S4.I2.i1.p1.3.m3.1.1.1.cmml">=</mo><mn id="S4.I2.i1.p1.3.m3.1.1.3" xref="S4.I2.i1.p1.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I2.i1.p1.3.m3.1b"><apply id="S4.I2.i1.p1.3.m3.1.1.cmml" xref="S4.I2.i1.p1.3.m3.1.1"><eq id="S4.I2.i1.p1.3.m3.1.1.1.cmml" xref="S4.I2.i1.p1.3.m3.1.1.1"></eq><ci id="S4.I2.i1.p1.3.m3.1.1.2.cmml" xref="S4.I2.i1.p1.3.m3.1.1.2">𝑛</ci><cn type="integer" id="S4.I2.i1.p1.3.m3.1.1.3.cmml" xref="S4.I2.i1.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.p1.3.m3.1c">n=2</annotation></semantics></math>, in MNIST digits 0-4 belong to the first partition and digits 5-9 belong to the second partition.</p>
</div>
</li>
<li id="S4.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S4.I2.i2.p1" class="ltx_para ltx_noindent">
<p id="S4.I2.i2.p1.4" class="ltx_p">Then, to simulate a skew of <math id="S4.I2.i2.p1.1.m1.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S4.I2.i2.p1.1.m1.1a"><mi id="S4.I2.i2.p1.1.m1.1.1" xref="S4.I2.i2.p1.1.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p1.1.m1.1b"><ci id="S4.I2.i2.p1.1.m1.1.1.cmml" xref="S4.I2.i2.p1.1.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p1.1.m1.1c">s</annotation></semantics></math> (<math id="S4.I2.i2.p1.2.m2.1" class="ltx_Math" alttext="0&lt;s&lt;1" display="inline"><semantics id="S4.I2.i2.p1.2.m2.1a"><mrow id="S4.I2.i2.p1.2.m2.1.1" xref="S4.I2.i2.p1.2.m2.1.1.cmml"><mn id="S4.I2.i2.p1.2.m2.1.1.2" xref="S4.I2.i2.p1.2.m2.1.1.2.cmml">0</mn><mo id="S4.I2.i2.p1.2.m2.1.1.3" xref="S4.I2.i2.p1.2.m2.1.1.3.cmml">&lt;</mo><mi id="S4.I2.i2.p1.2.m2.1.1.4" xref="S4.I2.i2.p1.2.m2.1.1.4.cmml">s</mi><mo id="S4.I2.i2.p1.2.m2.1.1.5" xref="S4.I2.i2.p1.2.m2.1.1.5.cmml">&lt;</mo><mn id="S4.I2.i2.p1.2.m2.1.1.6" xref="S4.I2.i2.p1.2.m2.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p1.2.m2.1b"><apply id="S4.I2.i2.p1.2.m2.1.1.cmml" xref="S4.I2.i2.p1.2.m2.1.1"><and id="S4.I2.i2.p1.2.m2.1.1a.cmml" xref="S4.I2.i2.p1.2.m2.1.1"></and><apply id="S4.I2.i2.p1.2.m2.1.1b.cmml" xref="S4.I2.i2.p1.2.m2.1.1"><lt id="S4.I2.i2.p1.2.m2.1.1.3.cmml" xref="S4.I2.i2.p1.2.m2.1.1.3"></lt><cn type="integer" id="S4.I2.i2.p1.2.m2.1.1.2.cmml" xref="S4.I2.i2.p1.2.m2.1.1.2">0</cn><ci id="S4.I2.i2.p1.2.m2.1.1.4.cmml" xref="S4.I2.i2.p1.2.m2.1.1.4">𝑠</ci></apply><apply id="S4.I2.i2.p1.2.m2.1.1c.cmml" xref="S4.I2.i2.p1.2.m2.1.1"><lt id="S4.I2.i2.p1.2.m2.1.1.5.cmml" xref="S4.I2.i2.p1.2.m2.1.1.5"></lt><share href="#S4.I2.i2.p1.2.m2.1.1.4.cmml" id="S4.I2.i2.p1.2.m2.1.1d.cmml" xref="S4.I2.i2.p1.2.m2.1.1"></share><cn type="integer" id="S4.I2.i2.p1.2.m2.1.1.6.cmml" xref="S4.I2.i2.p1.2.m2.1.1.6">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p1.2.m2.1c">0&lt;s&lt;1</annotation></semantics></math>), with probability <math id="S4.I2.i2.p1.3.m3.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S4.I2.i2.p1.3.m3.1a"><mi id="S4.I2.i2.p1.3.m3.1.1" xref="S4.I2.i2.p1.3.m3.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p1.3.m3.1b"><ci id="S4.I2.i2.p1.3.m3.1.1.cmml" xref="S4.I2.i2.p1.3.m3.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p1.3.m3.1c">s</annotation></semantics></math> each training example is assigned to a node based on the partition; with probability <math id="S4.I2.i2.p1.4.m4.1" class="ltx_Math" alttext="1-s" display="inline"><semantics id="S4.I2.i2.p1.4.m4.1a"><mrow id="S4.I2.i2.p1.4.m4.1.1" xref="S4.I2.i2.p1.4.m4.1.1.cmml"><mn id="S4.I2.i2.p1.4.m4.1.1.2" xref="S4.I2.i2.p1.4.m4.1.1.2.cmml">1</mn><mo id="S4.I2.i2.p1.4.m4.1.1.1" xref="S4.I2.i2.p1.4.m4.1.1.1.cmml">−</mo><mi id="S4.I2.i2.p1.4.m4.1.1.3" xref="S4.I2.i2.p1.4.m4.1.1.3.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p1.4.m4.1b"><apply id="S4.I2.i2.p1.4.m4.1.1.cmml" xref="S4.I2.i2.p1.4.m4.1.1"><minus id="S4.I2.i2.p1.4.m4.1.1.1.cmml" xref="S4.I2.i2.p1.4.m4.1.1.1"></minus><cn type="integer" id="S4.I2.i2.p1.4.m4.1.1.2.cmml" xref="S4.I2.i2.p1.4.m4.1.1.2">1</cn><ci id="S4.I2.i2.p1.4.m4.1.1.3.cmml" xref="S4.I2.i2.p1.4.m4.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p1.4.m4.1c">1-s</annotation></semantics></math>, the training example is assigned to a random node.</p>
</div>
</li>
</ol>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>MNIST</h3>

<div id="S4.SS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.p1.1" class="ltx_p">We run two experiments on the MNIST dataset. The first compares synchronous vs asynchronous learning on different data distributions. The second experiment compares different federated learning strategies on different numbers of nodes (2, 3, and 5). The model architecture for all MNIST experiments is kept the same. It consists of two convolutional layers with max pooling and ReLU activation.
We used the Adam optimizer with a fixed learning rate of <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="1e^{-3}" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mrow id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mn id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S4.SS2.p1.1.m1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.cmml">​</mo><msup id="S4.SS2.p1.1.m1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.3.cmml"><mi id="S4.SS2.p1.1.m1.1.1.3.2" xref="S4.SS2.p1.1.m1.1.1.3.2.cmml">e</mi><mrow id="S4.SS2.p1.1.m1.1.1.3.3" xref="S4.SS2.p1.1.m1.1.1.3.3.cmml"><mo id="S4.SS2.p1.1.m1.1.1.3.3a" xref="S4.SS2.p1.1.m1.1.1.3.3.cmml">−</mo><mn id="S4.SS2.p1.1.m1.1.1.3.3.2" xref="S4.SS2.p1.1.m1.1.1.3.3.2.cmml">3</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><times id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1"></times><cn type="integer" id="S4.SS2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2">1</cn><apply id="S4.SS2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p1.1.m1.1.1.3.1.cmml" xref="S4.SS2.p1.1.m1.1.1.3">superscript</csymbol><ci id="S4.SS2.p1.1.m1.1.1.3.2.cmml" xref="S4.SS2.p1.1.m1.1.1.3.2">𝑒</ci><apply id="S4.SS2.p1.1.m1.1.1.3.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3.3"><minus id="S4.SS2.p1.1.m1.1.1.3.3.1.cmml" xref="S4.SS2.p1.1.m1.1.1.3.3"></minus><cn type="integer" id="S4.SS2.p1.1.m1.1.1.3.3.2.cmml" xref="S4.SS2.p1.1.m1.1.1.3.3.2">3</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">1e^{-3}</annotation></semantics></math>, a batch size of 32, 1200 steps per epoch for 3 epochs. Model federation happened at the end of each epoch.</p>
</div>
<section id="S4.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1 </span>Effect of synchronous vs asynchronous</h4>

<div id="S4.SS2.SSS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS1.p1.1" class="ltx_p">Below are our findings about the effect of synchronous vs. asynchronous strategies:</p>
</div>
<div id="S4.SS2.SSS1.p2" class="ltx_para ltx_noindent">
<ul id="S4.I3" class="ltx_itemize">
<li id="S4.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I3.i1.p1" class="ltx_para">
<p id="S4.I3.i1.p1.1" class="ltx_p">Asynchronous federation gets about the same accuracy as the synchronous counter-part, except when the skew of federated datasets become very large.</p>
</div>
</li>
<li id="S4.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I3.i2.p1" class="ltx_para ltx_noindent">
<p id="S4.I3.i2.p1.1" class="ltx_p">Asynchronous federation is slightly faster than synchronous federation due to less waiting.</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS2.SSS1.p3" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS1.p3.1" class="ltx_p">The training time of asynchronous federated learning tends to be shorter than its synchronous counterpart. This depends on how uneven the training speeds are on different federation nodes. For synchronous federation, when each node finishes its epoch within roughly at same time, there is little efficiency loss. Otherwise, the training speed of asynchronous federated learning is bottlenecked by the slowest node.</p>
</div>
<div id="S4.SS2.SSS1.p4" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS1.p4.1" class="ltx_p">Besides the quantitative comparisons, we note that asynchronous federation offers clear operational benefits and robustness. In asynchronous federation, when a node fails, the other nodes keep working. While in synchronous training, the other nodes are stuck. This can be important as real world model training jobs can be fragile, due to code errors, out of memory issues, server crashes and many other reasons.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<table id="S4.T1.6.6" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.6.6.7.1" class="ltx_tr">
<th id="S4.T1.6.6.7.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"></th>
<th id="S4.T1.6.6.7.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3"><span id="S4.T1.6.6.7.1.2.1" class="ltx_text ltx_font_bold">Skew</span></th>
</tr>
<tr id="S4.T1.6.6.8.2" class="ltx_tr">
<th id="S4.T1.6.6.8.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r"><span id="S4.T1.6.6.8.2.1.1" class="ltx_text ltx_font_bold">Strategy</span></th>
<th id="S4.T1.6.6.8.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T1.6.6.8.2.2.1" class="ltx_text ltx_font_bold">0</span></th>
<th id="S4.T1.6.6.8.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T1.6.6.8.2.3.1" class="ltx_text ltx_font_bold">0.9</span></th>
<th id="S4.T1.6.6.8.2.4" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T1.6.6.8.2.4.1" class="ltx_text ltx_font_bold">1</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.3.3.3" class="ltx_tr">
<th id="S4.T1.3.3.3.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">sync</th>
<td id="S4.T1.1.1.1.1" class="ltx_td ltx_align_left ltx_border_t">.987 <math id="S4.T1.1.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T1.1.1.1.1.m1.1a"><mo id="S4.T1.1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T1.1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.1.m1.1c">\pm</annotation></semantics></math> .001</td>
<td id="S4.T1.2.2.2.2" class="ltx_td ltx_align_left ltx_border_t">.983 <math id="S4.T1.2.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T1.2.2.2.2.m1.1a"><mo id="S4.T1.2.2.2.2.m1.1.1" xref="S4.T1.2.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T1.2.2.2.2.m1.1b"><csymbol cd="latexml" id="S4.T1.2.2.2.2.m1.1.1.cmml" xref="S4.T1.2.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.2.2.2.m1.1c">\pm</annotation></semantics></math> .002</td>
<td id="S4.T1.3.3.3.3" class="ltx_td ltx_align_left ltx_border_t">.894 <math id="S4.T1.3.3.3.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T1.3.3.3.3.m1.1a"><mo id="S4.T1.3.3.3.3.m1.1.1" xref="S4.T1.3.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T1.3.3.3.3.m1.1b"><csymbol cd="latexml" id="S4.T1.3.3.3.3.m1.1.1.cmml" xref="S4.T1.3.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.3.3.3.m1.1c">\pm</annotation></semantics></math> .02</td>
</tr>
<tr id="S4.T1.6.6.6" class="ltx_tr">
<th id="S4.T1.6.6.6.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">async</th>
<td id="S4.T1.4.4.4.1" class="ltx_td ltx_align_left ltx_border_bb">.985 <math id="S4.T1.4.4.4.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T1.4.4.4.1.m1.1a"><mo id="S4.T1.4.4.4.1.m1.1.1" xref="S4.T1.4.4.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T1.4.4.4.1.m1.1b"><csymbol cd="latexml" id="S4.T1.4.4.4.1.m1.1.1.cmml" xref="S4.T1.4.4.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.4.4.1.m1.1c">\pm</annotation></semantics></math> .001</td>
<td id="S4.T1.5.5.5.2" class="ltx_td ltx_align_left ltx_border_bb">.976 <math id="S4.T1.5.5.5.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T1.5.5.5.2.m1.1a"><mo id="S4.T1.5.5.5.2.m1.1.1" xref="S4.T1.5.5.5.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T1.5.5.5.2.m1.1b"><csymbol cd="latexml" id="S4.T1.5.5.5.2.m1.1.1.cmml" xref="S4.T1.5.5.5.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.5.5.5.2.m1.1c">\pm</annotation></semantics></math> .003</td>
<td id="S4.T1.6.6.6.3" class="ltx_td ltx_align_left ltx_border_bb">.734 <math id="S4.T1.6.6.6.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T1.6.6.6.3.m1.1a"><mo id="S4.T1.6.6.6.3.m1.1.1" xref="S4.T1.6.6.6.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T1.6.6.6.3.m1.1b"><csymbol cd="latexml" id="S4.T1.6.6.6.3.m1.1.1.cmml" xref="S4.T1.6.6.6.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.6.6.6.3.m1.1c">\pm</annotation></semantics></math> .114</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Accuracy: comparing synchronous and asynchronous FedAvg strategies. Mean and 95% confidence intervals are reported for repeated trials. For centralized training using the same hyper-parameters, the accuracy is 0.987.</figcaption>
</figure>
<div id="S4.SS2.SSS1.p5" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS1.p5.1" class="ltx_p"><a href="#S4.T1" title="Table 1 ‣ 4.2.1 Effect of synchronous vs asynchronous ‣ 4.2 MNIST ‣ 4 Experiments ‣ Serverless Federated Learning with flwr-serverless" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 1</span></a> show the validation accuracy with different federated strategies and number of nodes. Each epoch includes 1200 training steps with a batch size of 32. Three different data skews were tested: random (no skew), partial skew and full skew (no label overlap). Random partition is a simple random split of the data across the 2 nodes. For the full skew partition, each node gets a subset of the labels, digits 0-4 for node 1 and digits 5-9 for node 2 in this case. The partial skew attempts to model a more realistic skewed data, where the training data for each node consists of a different mixture the same labels. For node 1, the majority of examples are digits 0-4, while the remaining are digits 5-9. Node 2 has the opposite mixture.</p>
</div>
<div id="S4.SS2.SSS1.p6" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS1.p6.1" class="ltx_p">While asynchronous federation can yield lower accuracy and higher variance of accuracy, it has clear operational benefits of robustness and speed. With synchronous federation, if participating nodes have different hardware capacity or training speed, the faster nodes stay idle while waiting for slower nodes, wasting valuable compute resources. Moreover, in practice large training jobs can crash for many different reasons. In synchronous federation, failure in one node can halt the whole federated training. Asynchronous federation is much more forgiving for individual node failures.</p>
</div>
</section>
<section id="S4.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.2 </span>Effect of federated strategy and the number of nodes</h4>

<div id="S4.SS2.SSS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS2.p1.1" class="ltx_p">Despite its simplicity, FedAvg performed well compared to FedAvgM and FedAdam. The accuracy of FedAvgM was consistently close to that of FedAvg, and no statistically significant improvement is observed. FedAdam resulted in consistently lower accuracy.</p>
</div>
<div id="S4.SS2.SSS2.p2" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS2.p2.1" class="ltx_p">The number of nodes had significant effect on accuracy. More nodes resulted in lower accuracy. See details in <a href="#S4.T2" title="Table 2 ‣ 4.2.2 Effect of federated strategy and the number of nodes ‣ 4.2 MNIST ‣ 4 Experiments ‣ Serverless Federated Learning with flwr-serverless" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 2</span></a> and <a href="#S4.T3" title="Table 3 ‣ 4.2.2 Effect of federated strategy and the number of nodes ‣ 4.2 MNIST ‣ 4 Experiments ‣ Serverless Federated Learning with flwr-serverless" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 3</span></a>.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<table id="S4.T2.18" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.18.19.1" class="ltx_tr">
<th id="S4.T2.18.19.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"></th>
<th id="S4.T2.18.19.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3"><span id="S4.T2.18.19.1.2.1" class="ltx_text ltx_font_bold">Number of Nodes</span></th>
</tr>
<tr id="S4.T2.18.20.2" class="ltx_tr">
<th id="S4.T2.18.20.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r"><span id="S4.T2.18.20.2.1.1" class="ltx_text ltx_font_bold">Strategy</span></th>
<th id="S4.T2.18.20.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T2.18.20.2.2.1" class="ltx_text ltx_font_bold">2</span></th>
<th id="S4.T2.18.20.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T2.18.20.2.3.1" class="ltx_text ltx_font_bold">3</span></th>
<th id="S4.T2.18.20.2.4" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T2.18.20.2.4.1" class="ltx_text ltx_font_bold">5</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.3.3" class="ltx_tr">
<th id="S4.T2.3.3.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">FedAvg</th>
<td id="S4.T2.1.1.1" class="ltx_td ltx_align_left ltx_border_t">.983 <math id="S4.T2.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.1.1.1.m1.1a"><mo id="S4.T2.1.1.1.m1.1.1" xref="S4.T2.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T2.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.m1.1c">\pm</annotation></semantics></math> .002</td>
<td id="S4.T2.2.2.2" class="ltx_td ltx_align_left ltx_border_t">.983 <math id="S4.T2.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.2.2.2.m1.1a"><mo id="S4.T2.2.2.2.m1.1.1" xref="S4.T2.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.m1.1b"><csymbol cd="latexml" id="S4.T2.2.2.2.m1.1.1.cmml" xref="S4.T2.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.m1.1c">\pm</annotation></semantics></math> .001</td>
<td id="S4.T2.3.3.3" class="ltx_td ltx_align_left ltx_border_t">.979 <math id="S4.T2.3.3.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.3.3.3.m1.1a"><mo id="S4.T2.3.3.3.m1.1.1" xref="S4.T2.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.3.m1.1b"><csymbol cd="latexml" id="S4.T2.3.3.3.m1.1.1.cmml" xref="S4.T2.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.3.m1.1c">\pm</annotation></semantics></math> .001</td>
</tr>
<tr id="S4.T2.6.6" class="ltx_tr">
<th id="S4.T2.6.6.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">FedAvgM</th>
<td id="S4.T2.4.4.1" class="ltx_td ltx_align_left">.983 <math id="S4.T2.4.4.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.4.4.1.m1.1a"><mo id="S4.T2.4.4.1.m1.1.1" xref="S4.T2.4.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.1.m1.1b"><csymbol cd="latexml" id="S4.T2.4.4.1.m1.1.1.cmml" xref="S4.T2.4.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.1.m1.1c">\pm</annotation></semantics></math> .001</td>
<td id="S4.T2.5.5.2" class="ltx_td ltx_align_left">.983 <math id="S4.T2.5.5.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.5.5.2.m1.1a"><mo id="S4.T2.5.5.2.m1.1.1" xref="S4.T2.5.5.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.2.m1.1b"><csymbol cd="latexml" id="S4.T2.5.5.2.m1.1.1.cmml" xref="S4.T2.5.5.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.2.m1.1c">\pm</annotation></semantics></math> .001</td>
<td id="S4.T2.6.6.3" class="ltx_td ltx_align_left">.979 <math id="S4.T2.6.6.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.6.6.3.m1.1a"><mo id="S4.T2.6.6.3.m1.1.1" xref="S4.T2.6.6.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.3.m1.1b"><csymbol cd="latexml" id="S4.T2.6.6.3.m1.1.1.cmml" xref="S4.T2.6.6.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.3.m1.1c">\pm</annotation></semantics></math> .001</td>
</tr>
<tr id="S4.T2.9.9" class="ltx_tr">
<th id="S4.T2.9.9.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">FedAdam</th>
<td id="S4.T2.7.7.1" class="ltx_td ltx_align_left">.976 <math id="S4.T2.7.7.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.7.7.1.m1.1a"><mo id="S4.T2.7.7.1.m1.1.1" xref="S4.T2.7.7.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.7.7.1.m1.1b"><csymbol cd="latexml" id="S4.T2.7.7.1.m1.1.1.cmml" xref="S4.T2.7.7.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.7.7.1.m1.1c">\pm</annotation></semantics></math> .002</td>
<td id="S4.T2.8.8.2" class="ltx_td ltx_align_left">.97 <math id="S4.T2.8.8.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.8.8.2.m1.1a"><mo id="S4.T2.8.8.2.m1.1.1" xref="S4.T2.8.8.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.8.8.2.m1.1b"><csymbol cd="latexml" id="S4.T2.8.8.2.m1.1.1.cmml" xref="S4.T2.8.8.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.8.8.2.m1.1c">\pm</annotation></semantics></math> .007</td>
<td id="S4.T2.9.9.3" class="ltx_td ltx_align_left">.962 <math id="S4.T2.9.9.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.9.9.3.m1.1a"><mo id="S4.T2.9.9.3.m1.1.1" xref="S4.T2.9.9.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.9.9.3.m1.1b"><csymbol cd="latexml" id="S4.T2.9.9.3.m1.1.1.cmml" xref="S4.T2.9.9.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.9.9.3.m1.1c">\pm</annotation></semantics></math> .007</td>
</tr>
<tr id="S4.T2.12.12" class="ltx_tr">
<th id="S4.T2.12.12.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">FedAvg (async)</th>
<td id="S4.T2.10.10.1" class="ltx_td ltx_align_left ltx_border_t">.976 <math id="S4.T2.10.10.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.10.10.1.m1.1a"><mo id="S4.T2.10.10.1.m1.1.1" xref="S4.T2.10.10.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.10.10.1.m1.1b"><csymbol cd="latexml" id="S4.T2.10.10.1.m1.1.1.cmml" xref="S4.T2.10.10.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.10.10.1.m1.1c">\pm</annotation></semantics></math> .003</td>
<td id="S4.T2.11.11.2" class="ltx_td ltx_align_left ltx_border_t">.979 <math id="S4.T2.11.11.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.11.11.2.m1.1a"><mo id="S4.T2.11.11.2.m1.1.1" xref="S4.T2.11.11.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.11.11.2.m1.1b"><csymbol cd="latexml" id="S4.T2.11.11.2.m1.1.1.cmml" xref="S4.T2.11.11.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.11.11.2.m1.1c">\pm</annotation></semantics></math> .002</td>
<td id="S4.T2.12.12.3" class="ltx_td ltx_align_left ltx_border_t">.97 <math id="S4.T2.12.12.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.12.12.3.m1.1a"><mo id="S4.T2.12.12.3.m1.1.1" xref="S4.T2.12.12.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.12.12.3.m1.1b"><csymbol cd="latexml" id="S4.T2.12.12.3.m1.1.1.cmml" xref="S4.T2.12.12.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.12.12.3.m1.1c">\pm</annotation></semantics></math> .007</td>
</tr>
<tr id="S4.T2.15.15" class="ltx_tr">
<th id="S4.T2.15.15.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">FedAvgM (async)</th>
<td id="S4.T2.13.13.1" class="ltx_td ltx_align_left">.981 <math id="S4.T2.13.13.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.13.13.1.m1.1a"><mo id="S4.T2.13.13.1.m1.1.1" xref="S4.T2.13.13.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.13.13.1.m1.1b"><csymbol cd="latexml" id="S4.T2.13.13.1.m1.1.1.cmml" xref="S4.T2.13.13.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.13.13.1.m1.1c">\pm</annotation></semantics></math> .002</td>
<td id="S4.T2.14.14.2" class="ltx_td ltx_align_left">.979 <math id="S4.T2.14.14.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.14.14.2.m1.1a"><mo id="S4.T2.14.14.2.m1.1.1" xref="S4.T2.14.14.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.14.14.2.m1.1b"><csymbol cd="latexml" id="S4.T2.14.14.2.m1.1.1.cmml" xref="S4.T2.14.14.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.14.14.2.m1.1c">\pm</annotation></semantics></math> .001</td>
<td id="S4.T2.15.15.3" class="ltx_td ltx_align_left">.971 <math id="S4.T2.15.15.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.15.15.3.m1.1a"><mo id="S4.T2.15.15.3.m1.1.1" xref="S4.T2.15.15.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.15.15.3.m1.1b"><csymbol cd="latexml" id="S4.T2.15.15.3.m1.1.1.cmml" xref="S4.T2.15.15.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.15.15.3.m1.1c">\pm</annotation></semantics></math> .003</td>
</tr>
<tr id="S4.T2.18.18" class="ltx_tr">
<th id="S4.T2.18.18.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">FedAdam (async)</th>
<td id="S4.T2.16.16.1" class="ltx_td ltx_align_left ltx_border_bb">.97 <math id="S4.T2.16.16.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.16.16.1.m1.1a"><mo id="S4.T2.16.16.1.m1.1.1" xref="S4.T2.16.16.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.16.16.1.m1.1b"><csymbol cd="latexml" id="S4.T2.16.16.1.m1.1.1.cmml" xref="S4.T2.16.16.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.16.16.1.m1.1c">\pm</annotation></semantics></math> .005</td>
<td id="S4.T2.17.17.2" class="ltx_td ltx_align_left ltx_border_bb">.928 <math id="S4.T2.17.17.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.17.17.2.m1.1a"><mo id="S4.T2.17.17.2.m1.1.1" xref="S4.T2.17.17.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.17.17.2.m1.1b"><csymbol cd="latexml" id="S4.T2.17.17.2.m1.1.1.cmml" xref="S4.T2.17.17.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.17.17.2.m1.1c">\pm</annotation></semantics></math> .058</td>
<td id="S4.T2.18.18.3" class="ltx_td ltx_align_left ltx_border_bb">.95 <math id="S4.T2.18.18.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T2.18.18.3.m1.1a"><mo id="S4.T2.18.18.3.m1.1.1" xref="S4.T2.18.18.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.18.18.3.m1.1b"><csymbol cd="latexml" id="S4.T2.18.18.3.m1.1.1.cmml" xref="S4.T2.18.18.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.18.18.3.m1.1c">\pm</annotation></semantics></math> .012</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Accuracy: comparing federated strategies with different number of nodes. Label skew of 0.9 is used in this experiment.</figcaption>
</figure>
<figure id="S4.T3" class="ltx_table">
<table id="S4.T3.18" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T3.18.19.1" class="ltx_tr">
<th id="S4.T3.18.19.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"></th>
<th id="S4.T3.18.19.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3"><span id="S4.T3.18.19.1.2.1" class="ltx_text ltx_font_bold">Number of Nodes</span></th>
</tr>
<tr id="S4.T3.18.20.2" class="ltx_tr">
<th id="S4.T3.18.20.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r"><span id="S4.T3.18.20.2.1.1" class="ltx_text ltx_font_bold">Strategy</span></th>
<th id="S4.T3.18.20.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T3.18.20.2.2.1" class="ltx_text ltx_font_bold">2</span></th>
<th id="S4.T3.18.20.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T3.18.20.2.3.1" class="ltx_text ltx_font_bold">3</span></th>
<th id="S4.T3.18.20.2.4" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T3.18.20.2.4.1" class="ltx_text ltx_font_bold">5</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T3.3.3" class="ltx_tr">
<th id="S4.T3.3.3.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">FedAvg</th>
<td id="S4.T3.1.1.1" class="ltx_td ltx_align_left ltx_border_t">.975 <math id="S4.T3.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.1.1.1.m1.1a"><mo id="S4.T3.1.1.1.m1.1.1" xref="S4.T3.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T3.1.1.1.m1.1.1.cmml" xref="S4.T3.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.1.1.1.m1.1c">\pm</annotation></semantics></math> .003</td>
<td id="S4.T3.2.2.2" class="ltx_td ltx_align_left ltx_border_t">.965 <math id="S4.T3.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.2.2.2.m1.1a"><mo id="S4.T3.2.2.2.m1.1.1" xref="S4.T3.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.2.2.2.m1.1b"><csymbol cd="latexml" id="S4.T3.2.2.2.m1.1.1.cmml" xref="S4.T3.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.2.2.m1.1c">\pm</annotation></semantics></math> .002</td>
<td id="S4.T3.3.3.3" class="ltx_td ltx_align_left ltx_border_t">.949 <math id="S4.T3.3.3.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.3.3.3.m1.1a"><mo id="S4.T3.3.3.3.m1.1.1" xref="S4.T3.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.3.3.3.m1.1b"><csymbol cd="latexml" id="S4.T3.3.3.3.m1.1.1.cmml" xref="S4.T3.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.3.3.3.m1.1c">\pm</annotation></semantics></math> .002</td>
</tr>
<tr id="S4.T3.6.6" class="ltx_tr">
<th id="S4.T3.6.6.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">FedAvgM</th>
<td id="S4.T3.4.4.1" class="ltx_td ltx_align_left">.976 <math id="S4.T3.4.4.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.4.4.1.m1.1a"><mo id="S4.T3.4.4.1.m1.1.1" xref="S4.T3.4.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.4.4.1.m1.1b"><csymbol cd="latexml" id="S4.T3.4.4.1.m1.1.1.cmml" xref="S4.T3.4.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.4.4.1.m1.1c">\pm</annotation></semantics></math> .002</td>
<td id="S4.T3.5.5.2" class="ltx_td ltx_align_left">.965 <math id="S4.T3.5.5.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.5.5.2.m1.1a"><mo id="S4.T3.5.5.2.m1.1.1" xref="S4.T3.5.5.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.5.5.2.m1.1b"><csymbol cd="latexml" id="S4.T3.5.5.2.m1.1.1.cmml" xref="S4.T3.5.5.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.5.5.2.m1.1c">\pm</annotation></semantics></math> .002</td>
<td id="S4.T3.6.6.3" class="ltx_td ltx_align_left">.947 <math id="S4.T3.6.6.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.6.6.3.m1.1a"><mo id="S4.T3.6.6.3.m1.1.1" xref="S4.T3.6.6.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.6.6.3.m1.1b"><csymbol cd="latexml" id="S4.T3.6.6.3.m1.1.1.cmml" xref="S4.T3.6.6.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.6.6.3.m1.1c">\pm</annotation></semantics></math> .001</td>
</tr>
<tr id="S4.T3.9.9" class="ltx_tr">
<th id="S4.T3.9.9.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">FedAdam</th>
<td id="S4.T3.7.7.1" class="ltx_td ltx_align_left">.967 <math id="S4.T3.7.7.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.7.7.1.m1.1a"><mo id="S4.T3.7.7.1.m1.1.1" xref="S4.T3.7.7.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.7.7.1.m1.1b"><csymbol cd="latexml" id="S4.T3.7.7.1.m1.1.1.cmml" xref="S4.T3.7.7.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.7.7.1.m1.1c">\pm</annotation></semantics></math> .003</td>
<td id="S4.T3.8.8.2" class="ltx_td ltx_align_left">.95 <math id="S4.T3.8.8.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.8.8.2.m1.1a"><mo id="S4.T3.8.8.2.m1.1.1" xref="S4.T3.8.8.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.8.8.2.m1.1b"><csymbol cd="latexml" id="S4.T3.8.8.2.m1.1.1.cmml" xref="S4.T3.8.8.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.8.8.2.m1.1c">\pm</annotation></semantics></math> .005</td>
<td id="S4.T3.9.9.3" class="ltx_td ltx_align_left">.926 <math id="S4.T3.9.9.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.9.9.3.m1.1a"><mo id="S4.T3.9.9.3.m1.1.1" xref="S4.T3.9.9.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.9.9.3.m1.1b"><csymbol cd="latexml" id="S4.T3.9.9.3.m1.1.1.cmml" xref="S4.T3.9.9.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.9.9.3.m1.1c">\pm</annotation></semantics></math> .006</td>
</tr>
<tr id="S4.T3.12.12" class="ltx_tr">
<th id="S4.T3.12.12.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">FedAvg (async)</th>
<td id="S4.T3.10.10.1" class="ltx_td ltx_align_left ltx_border_t">.971 <math id="S4.T3.10.10.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.10.10.1.m1.1a"><mo id="S4.T3.10.10.1.m1.1.1" xref="S4.T3.10.10.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.10.10.1.m1.1b"><csymbol cd="latexml" id="S4.T3.10.10.1.m1.1.1.cmml" xref="S4.T3.10.10.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.10.10.1.m1.1c">\pm</annotation></semantics></math> .003</td>
<td id="S4.T3.11.11.2" class="ltx_td ltx_align_left ltx_border_t">.948 <math id="S4.T3.11.11.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.11.11.2.m1.1a"><mo id="S4.T3.11.11.2.m1.1.1" xref="S4.T3.11.11.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.11.11.2.m1.1b"><csymbol cd="latexml" id="S4.T3.11.11.2.m1.1.1.cmml" xref="S4.T3.11.11.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.11.11.2.m1.1c">\pm</annotation></semantics></math> .005</td>
<td id="S4.T3.12.12.3" class="ltx_td ltx_align_left ltx_border_t">.928 <math id="S4.T3.12.12.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.12.12.3.m1.1a"><mo id="S4.T3.12.12.3.m1.1.1" xref="S4.T3.12.12.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.12.12.3.m1.1b"><csymbol cd="latexml" id="S4.T3.12.12.3.m1.1.1.cmml" xref="S4.T3.12.12.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.12.12.3.m1.1c">\pm</annotation></semantics></math> .003</td>
</tr>
<tr id="S4.T3.15.15" class="ltx_tr">
<th id="S4.T3.15.15.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">FedAvgM (async)</th>
<td id="S4.T3.13.13.1" class="ltx_td ltx_align_left">.967 <math id="S4.T3.13.13.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.13.13.1.m1.1a"><mo id="S4.T3.13.13.1.m1.1.1" xref="S4.T3.13.13.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.13.13.1.m1.1b"><csymbol cd="latexml" id="S4.T3.13.13.1.m1.1.1.cmml" xref="S4.T3.13.13.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.13.13.1.m1.1c">\pm</annotation></semantics></math> .005</td>
<td id="S4.T3.14.14.2" class="ltx_td ltx_align_left">.953 <math id="S4.T3.14.14.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.14.14.2.m1.1a"><mo id="S4.T3.14.14.2.m1.1.1" xref="S4.T3.14.14.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.14.14.2.m1.1b"><csymbol cd="latexml" id="S4.T3.14.14.2.m1.1.1.cmml" xref="S4.T3.14.14.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.14.14.2.m1.1c">\pm</annotation></semantics></math> .009</td>
<td id="S4.T3.15.15.3" class="ltx_td ltx_align_left">.925 <math id="S4.T3.15.15.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.15.15.3.m1.1a"><mo id="S4.T3.15.15.3.m1.1.1" xref="S4.T3.15.15.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.15.15.3.m1.1b"><csymbol cd="latexml" id="S4.T3.15.15.3.m1.1.1.cmml" xref="S4.T3.15.15.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.15.15.3.m1.1c">\pm</annotation></semantics></math> .013</td>
</tr>
<tr id="S4.T3.18.18" class="ltx_tr">
<th id="S4.T3.18.18.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">FedAdam (async)</th>
<td id="S4.T3.16.16.1" class="ltx_td ltx_align_left ltx_border_bb">.956 <math id="S4.T3.16.16.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.16.16.1.m1.1a"><mo id="S4.T3.16.16.1.m1.1.1" xref="S4.T3.16.16.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.16.16.1.m1.1b"><csymbol cd="latexml" id="S4.T3.16.16.1.m1.1.1.cmml" xref="S4.T3.16.16.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.16.16.1.m1.1c">\pm</annotation></semantics></math> .014</td>
<td id="S4.T3.17.17.2" class="ltx_td ltx_align_left ltx_border_bb">.91 <math id="S4.T3.17.17.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.17.17.2.m1.1a"><mo id="S4.T3.17.17.2.m1.1.1" xref="S4.T3.17.17.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.17.17.2.m1.1b"><csymbol cd="latexml" id="S4.T3.17.17.2.m1.1.1.cmml" xref="S4.T3.17.17.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.17.17.2.m1.1c">\pm</annotation></semantics></math> .021</td>
<td id="S4.T3.18.18.3" class="ltx_td ltx_align_left ltx_border_bb">.903 <math id="S4.T3.18.18.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T3.18.18.3.m1.1a"><mo id="S4.T3.18.18.3.m1.1.1" xref="S4.T3.18.18.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T3.18.18.3.m1.1b"><csymbol cd="latexml" id="S4.T3.18.18.3.m1.1.1.cmml" xref="S4.T3.18.18.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.18.18.3.m1.1c">\pm</annotation></semantics></math> .015</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Accuracy: comparing federated strategies with different number of nodes. Label skew of 0.99 is used in this experiment.</figcaption>
</figure>
</section>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>CIFAR 10</h3>

<div id="S4.SS3.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.p1.1" class="ltx_p">On the CIFAR 10 dataset using ResNet-18 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>, we observed somewhat different behaviors of the federated strategies than in MNIST experiments:</p>
</div>
<div id="S4.SS3.p2" class="ltx_para ltx_noindent">
<ul id="S4.I4" class="ltx_itemize">
<li id="S4.I4.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I4.i1.p1" class="ltx_para">
<p id="S4.I4.i1.p1.1" class="ltx_p">Asynchronous FedAvg performed the same or better compared to the synchronous counter-part.</p>
</div>
</li>
<li id="S4.I4.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I4.i2.p1" class="ltx_para">
<p id="S4.I4.i2.p1.1" class="ltx_p">Similar to MNIST experiments, higher skew resulted in significantly lower accuracy.</p>
</div>
</li>
<li id="S4.I4.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I4.i3.p1" class="ltx_para ltx_noindent">
<p id="S4.I4.i3.p1.1" class="ltx_p">The number of nodes also had a significant negative impact on accuracy.</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS3.p3" class="ltx_para ltx_noindent">
<p id="S4.SS3.p3.1" class="ltx_p">The FedAdam strategy worked poorly for CIFAR 10 and is not shown in the tables.</p>
</div>
<div id="S4.SS3.p4" class="ltx_para ltx_noindent">
<p id="S4.SS3.p4.1" class="ltx_p">For all experiments on CIFAR 10, we used the Adam optimizer with a fixed learning rate of <math id="S4.SS3.p4.1.m1.1" class="ltx_Math" alttext="5e^{-4}" display="inline"><semantics id="S4.SS3.p4.1.m1.1a"><mrow id="S4.SS3.p4.1.m1.1.1" xref="S4.SS3.p4.1.m1.1.1.cmml"><mn id="S4.SS3.p4.1.m1.1.1.2" xref="S4.SS3.p4.1.m1.1.1.2.cmml">5</mn><mo lspace="0em" rspace="0em" id="S4.SS3.p4.1.m1.1.1.1" xref="S4.SS3.p4.1.m1.1.1.1.cmml">​</mo><msup id="S4.SS3.p4.1.m1.1.1.3" xref="S4.SS3.p4.1.m1.1.1.3.cmml"><mi id="S4.SS3.p4.1.m1.1.1.3.2" xref="S4.SS3.p4.1.m1.1.1.3.2.cmml">e</mi><mrow id="S4.SS3.p4.1.m1.1.1.3.3" xref="S4.SS3.p4.1.m1.1.1.3.3.cmml"><mo id="S4.SS3.p4.1.m1.1.1.3.3a" xref="S4.SS3.p4.1.m1.1.1.3.3.cmml">−</mo><mn id="S4.SS3.p4.1.m1.1.1.3.3.2" xref="S4.SS3.p4.1.m1.1.1.3.3.2.cmml">4</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.1.m1.1b"><apply id="S4.SS3.p4.1.m1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1"><times id="S4.SS3.p4.1.m1.1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1.1"></times><cn type="integer" id="S4.SS3.p4.1.m1.1.1.2.cmml" xref="S4.SS3.p4.1.m1.1.1.2">5</cn><apply id="S4.SS3.p4.1.m1.1.1.3.cmml" xref="S4.SS3.p4.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.p4.1.m1.1.1.3.1.cmml" xref="S4.SS3.p4.1.m1.1.1.3">superscript</csymbol><ci id="S4.SS3.p4.1.m1.1.1.3.2.cmml" xref="S4.SS3.p4.1.m1.1.1.3.2">𝑒</ci><apply id="S4.SS3.p4.1.m1.1.1.3.3.cmml" xref="S4.SS3.p4.1.m1.1.1.3.3"><minus id="S4.SS3.p4.1.m1.1.1.3.3.1.cmml" xref="S4.SS3.p4.1.m1.1.1.3.3"></minus><cn type="integer" id="S4.SS3.p4.1.m1.1.1.3.3.2.cmml" xref="S4.SS3.p4.1.m1.1.1.3.3.2">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.1.m1.1c">5e^{-4}</annotation></semantics></math>, a batch size of 128, 1200 steps per epoch for 20 epochs. Model federation happened at the end of each epoch. Detailed results are shown in <a href="#S4.T4" title="Table 4 ‣ 4.3 CIFAR 10 ‣ 4 Experiments ‣ Serverless Federated Learning with flwr-serverless" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 4</span></a>, <a href="#S4.T5" title="Table 5 ‣ 4.3 CIFAR 10 ‣ 4 Experiments ‣ Serverless Federated Learning with flwr-serverless" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 5</span></a> and <a href="#S4.T6" title="Table 6 ‣ 4.3 CIFAR 10 ‣ 4 Experiments ‣ Serverless Federated Learning with flwr-serverless" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 6</span></a>.</p>
</div>
<figure id="S4.T4" class="ltx_table">
<table id="S4.T4.6.6" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.6.6.7.1" class="ltx_tr">
<th id="S4.T4.6.6.7.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"></th>
<th id="S4.T4.6.6.7.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3"><span id="S4.T4.6.6.7.1.2.1" class="ltx_text ltx_font_bold">Skew</span></th>
</tr>
<tr id="S4.T4.6.6.8.2" class="ltx_tr">
<th id="S4.T4.6.6.8.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r"><span id="S4.T4.6.6.8.2.1.1" class="ltx_text ltx_font_bold">Strategy</span></th>
<th id="S4.T4.6.6.8.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T4.6.6.8.2.2.1" class="ltx_text ltx_font_bold">0</span></th>
<th id="S4.T4.6.6.8.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T4.6.6.8.2.3.1" class="ltx_text ltx_font_bold">0.9</span></th>
<th id="S4.T4.6.6.8.2.4" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T4.6.6.8.2.4.1" class="ltx_text ltx_font_bold">1</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.3.3.3" class="ltx_tr">
<th id="S4.T4.3.3.3.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">sync</th>
<td id="S4.T4.1.1.1.1" class="ltx_td ltx_align_left ltx_border_t">.804 <math id="S4.T4.1.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.1.1.1.1.m1.1a"><mo id="S4.T4.1.1.1.1.m1.1.1" xref="S4.T4.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.1.1.1.1.m1.1.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.1.1.1.1.m1.1c">\pm</annotation></semantics></math> .003</td>
<td id="S4.T4.2.2.2.2" class="ltx_td ltx_align_left ltx_border_t">.744 <math id="S4.T4.2.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.2.2.2.2.m1.1a"><mo id="S4.T4.2.2.2.2.m1.1.1" xref="S4.T4.2.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.2.2.2.2.m1.1b"><csymbol cd="latexml" id="S4.T4.2.2.2.2.m1.1.1.cmml" xref="S4.T4.2.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.2.2.2.m1.1c">\pm</annotation></semantics></math> .01</td>
<td id="S4.T4.3.3.3.3" class="ltx_td ltx_align_left ltx_border_t">.477 <math id="S4.T4.3.3.3.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.3.3.3.3.m1.1a"><mo id="S4.T4.3.3.3.3.m1.1.1" xref="S4.T4.3.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.3.3.3.3.m1.1b"><csymbol cd="latexml" id="S4.T4.3.3.3.3.m1.1.1.cmml" xref="S4.T4.3.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.3.3.3.3.m1.1c">\pm</annotation></semantics></math> .014</td>
</tr>
<tr id="S4.T4.6.6.6" class="ltx_tr">
<th id="S4.T4.6.6.6.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">async</th>
<td id="S4.T4.4.4.4.1" class="ltx_td ltx_align_left ltx_border_bb">.802 <math id="S4.T4.4.4.4.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.4.4.4.1.m1.1a"><mo id="S4.T4.4.4.4.1.m1.1.1" xref="S4.T4.4.4.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.4.4.4.1.m1.1b"><csymbol cd="latexml" id="S4.T4.4.4.4.1.m1.1.1.cmml" xref="S4.T4.4.4.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.4.4.4.1.m1.1c">\pm</annotation></semantics></math> .004</td>
<td id="S4.T4.5.5.5.2" class="ltx_td ltx_align_left ltx_border_bb">.753 <math id="S4.T4.5.5.5.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.5.5.5.2.m1.1a"><mo id="S4.T4.5.5.5.2.m1.1.1" xref="S4.T4.5.5.5.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.5.5.5.2.m1.1b"><csymbol cd="latexml" id="S4.T4.5.5.5.2.m1.1.1.cmml" xref="S4.T4.5.5.5.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.5.5.5.2.m1.1c">\pm</annotation></semantics></math> .018</td>
<td id="S4.T4.6.6.6.3" class="ltx_td ltx_align_left ltx_border_bb">.505 <math id="S4.T4.6.6.6.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.6.6.6.3.m1.1a"><mo id="S4.T4.6.6.6.3.m1.1.1" xref="S4.T4.6.6.6.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.6.6.6.3.m1.1b"><csymbol cd="latexml" id="S4.T4.6.6.6.3.m1.1.1.cmml" xref="S4.T4.6.6.6.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.6.6.6.3.m1.1c">\pm</annotation></semantics></math> .048</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Accuracy: comparing synchronous and asynchronous FedAvg strategies for different levels of skew. For centralized training, the accuracy is 0.803.</figcaption>
</figure>
<figure id="S4.T5" class="ltx_table">
<table id="S4.T5.12" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T5.12.13.1" class="ltx_tr">
<th id="S4.T5.12.13.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"></th>
<th id="S4.T5.12.13.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3"><span id="S4.T5.12.13.1.2.1" class="ltx_text ltx_font_bold">Number of Nodes</span></th>
</tr>
<tr id="S4.T5.12.14.2" class="ltx_tr">
<th id="S4.T5.12.14.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r"><span id="S4.T5.12.14.2.1.1" class="ltx_text ltx_font_bold">Strategy</span></th>
<th id="S4.T5.12.14.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T5.12.14.2.2.1" class="ltx_text ltx_font_bold">2</span></th>
<th id="S4.T5.12.14.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T5.12.14.2.3.1" class="ltx_text ltx_font_bold">3</span></th>
<th id="S4.T5.12.14.2.4" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T5.12.14.2.4.1" class="ltx_text ltx_font_bold">5</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T5.3.3" class="ltx_tr">
<th id="S4.T5.3.3.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">FedAvg</th>
<td id="S4.T5.1.1.1" class="ltx_td ltx_align_left ltx_border_t">.744 <math id="S4.T5.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.1.1.1.m1.1a"><mo id="S4.T5.1.1.1.m1.1.1" xref="S4.T5.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T5.1.1.1.m1.1.1.cmml" xref="S4.T5.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.1.1.1.m1.1c">\pm</annotation></semantics></math> .01</td>
<td id="S4.T5.2.2.2" class="ltx_td ltx_align_left ltx_border_t">.717 <math id="S4.T5.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.2.2.2.m1.1a"><mo id="S4.T5.2.2.2.m1.1.1" xref="S4.T5.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.2.2.2.m1.1b"><csymbol cd="latexml" id="S4.T5.2.2.2.m1.1.1.cmml" xref="S4.T5.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.2.2.2.m1.1c">\pm</annotation></semantics></math> .005</td>
<td id="S4.T5.3.3.3" class="ltx_td ltx_align_left ltx_border_t">.69 <math id="S4.T5.3.3.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.3.3.3.m1.1a"><mo id="S4.T5.3.3.3.m1.1.1" xref="S4.T5.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.3.3.3.m1.1b"><csymbol cd="latexml" id="S4.T5.3.3.3.m1.1.1.cmml" xref="S4.T5.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.3.3.3.m1.1c">\pm</annotation></semantics></math> .002</td>
</tr>
<tr id="S4.T5.6.6" class="ltx_tr">
<th id="S4.T5.6.6.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">FedAvgM</th>
<td id="S4.T5.4.4.1" class="ltx_td ltx_align_left">.749 <math id="S4.T5.4.4.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.4.4.1.m1.1a"><mo id="S4.T5.4.4.1.m1.1.1" xref="S4.T5.4.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.4.4.1.m1.1b"><csymbol cd="latexml" id="S4.T5.4.4.1.m1.1.1.cmml" xref="S4.T5.4.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.4.4.1.m1.1c">\pm</annotation></semantics></math> .002</td>
<td id="S4.T5.5.5.2" class="ltx_td ltx_align_left">.715 <math id="S4.T5.5.5.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.5.5.2.m1.1a"><mo id="S4.T5.5.5.2.m1.1.1" xref="S4.T5.5.5.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.5.5.2.m1.1b"><csymbol cd="latexml" id="S4.T5.5.5.2.m1.1.1.cmml" xref="S4.T5.5.5.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.5.5.2.m1.1c">\pm</annotation></semantics></math> .01</td>
<td id="S4.T5.6.6.3" class="ltx_td ltx_align_left">.689 <math id="S4.T5.6.6.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.6.6.3.m1.1a"><mo id="S4.T5.6.6.3.m1.1.1" xref="S4.T5.6.6.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.6.6.3.m1.1b"><csymbol cd="latexml" id="S4.T5.6.6.3.m1.1.1.cmml" xref="S4.T5.6.6.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.6.6.3.m1.1c">\pm</annotation></semantics></math> .004</td>
</tr>
<tr id="S4.T5.9.9" class="ltx_tr">
<th id="S4.T5.9.9.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">FedAvg (async)</th>
<td id="S4.T5.7.7.1" class="ltx_td ltx_align_left ltx_border_t">.753 <math id="S4.T5.7.7.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.7.7.1.m1.1a"><mo id="S4.T5.7.7.1.m1.1.1" xref="S4.T5.7.7.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.7.7.1.m1.1b"><csymbol cd="latexml" id="S4.T5.7.7.1.m1.1.1.cmml" xref="S4.T5.7.7.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.7.7.1.m1.1c">\pm</annotation></semantics></math> .018</td>
<td id="S4.T5.8.8.2" class="ltx_td ltx_align_left ltx_border_t">.728 <math id="S4.T5.8.8.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.8.8.2.m1.1a"><mo id="S4.T5.8.8.2.m1.1.1" xref="S4.T5.8.8.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.8.8.2.m1.1b"><csymbol cd="latexml" id="S4.T5.8.8.2.m1.1.1.cmml" xref="S4.T5.8.8.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.8.8.2.m1.1c">\pm</annotation></semantics></math> .003</td>
<td id="S4.T5.9.9.3" class="ltx_td ltx_align_left ltx_border_t">.692 <math id="S4.T5.9.9.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.9.9.3.m1.1a"><mo id="S4.T5.9.9.3.m1.1.1" xref="S4.T5.9.9.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.9.9.3.m1.1b"><csymbol cd="latexml" id="S4.T5.9.9.3.m1.1.1.cmml" xref="S4.T5.9.9.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.9.9.3.m1.1c">\pm</annotation></semantics></math> .003</td>
</tr>
<tr id="S4.T5.12.12" class="ltx_tr">
<th id="S4.T5.12.12.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">FedAvgM (async)</th>
<td id="S4.T5.10.10.1" class="ltx_td ltx_align_left ltx_border_bb">.733 <math id="S4.T5.10.10.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.10.10.1.m1.1a"><mo id="S4.T5.10.10.1.m1.1.1" xref="S4.T5.10.10.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.10.10.1.m1.1b"><csymbol cd="latexml" id="S4.T5.10.10.1.m1.1.1.cmml" xref="S4.T5.10.10.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.10.10.1.m1.1c">\pm</annotation></semantics></math> .012</td>
<td id="S4.T5.11.11.2" class="ltx_td ltx_align_left ltx_border_bb">.733 <math id="S4.T5.11.11.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.11.11.2.m1.1a"><mo id="S4.T5.11.11.2.m1.1.1" xref="S4.T5.11.11.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.11.11.2.m1.1b"><csymbol cd="latexml" id="S4.T5.11.11.2.m1.1.1.cmml" xref="S4.T5.11.11.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.11.11.2.m1.1c">\pm</annotation></semantics></math> .006</td>
<td id="S4.T5.12.12.3" class="ltx_td ltx_align_left ltx_border_bb">.689 <math id="S4.T5.12.12.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T5.12.12.3.m1.1a"><mo id="S4.T5.12.12.3.m1.1.1" xref="S4.T5.12.12.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T5.12.12.3.m1.1b"><csymbol cd="latexml" id="S4.T5.12.12.3.m1.1.1.cmml" xref="S4.T5.12.12.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.12.12.3.m1.1c">\pm</annotation></semantics></math> .004</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Accuracy: comparing federated strategies with different number of nodes. Label skew of 0.9 is used in this experiment.</figcaption>
</figure>
<figure id="S4.T6" class="ltx_table">
<table id="S4.T6.12" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T6.12.13.1" class="ltx_tr">
<th id="S4.T6.12.13.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"></th>
<th id="S4.T6.12.13.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3"><span id="S4.T6.12.13.1.2.1" class="ltx_text ltx_font_bold">Number of Nodes</span></th>
</tr>
<tr id="S4.T6.12.14.2" class="ltx_tr">
<th id="S4.T6.12.14.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r"><span id="S4.T6.12.14.2.1.1" class="ltx_text ltx_font_bold">Strategy</span></th>
<th id="S4.T6.12.14.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T6.12.14.2.2.1" class="ltx_text ltx_font_bold">2</span></th>
<th id="S4.T6.12.14.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T6.12.14.2.3.1" class="ltx_text ltx_font_bold">3</span></th>
<th id="S4.T6.12.14.2.4" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T6.12.14.2.4.1" class="ltx_text ltx_font_bold">5</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T6.3.3" class="ltx_tr">
<th id="S4.T6.3.3.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">FedAvg</th>
<td id="S4.T6.1.1.1" class="ltx_td ltx_align_left ltx_border_t">.552 <math id="S4.T6.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.1.1.1.m1.1a"><mo id="S4.T6.1.1.1.m1.1.1" xref="S4.T6.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T6.1.1.1.m1.1.1.cmml" xref="S4.T6.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.1.1.1.m1.1c">\pm</annotation></semantics></math> .019</td>
<td id="S4.T6.2.2.2" class="ltx_td ltx_align_left ltx_border_t">.545 <math id="S4.T6.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.2.2.2.m1.1a"><mo id="S4.T6.2.2.2.m1.1.1" xref="S4.T6.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.2.2.2.m1.1b"><csymbol cd="latexml" id="S4.T6.2.2.2.m1.1.1.cmml" xref="S4.T6.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.2.2.2.m1.1c">\pm</annotation></semantics></math> .021</td>
<td id="S4.T6.3.3.3" class="ltx_td ltx_align_left ltx_border_t">.43 <math id="S4.T6.3.3.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.3.3.3.m1.1a"><mo id="S4.T6.3.3.3.m1.1.1" xref="S4.T6.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.3.3.3.m1.1b"><csymbol cd="latexml" id="S4.T6.3.3.3.m1.1.1.cmml" xref="S4.T6.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.3.3.3.m1.1c">\pm</annotation></semantics></math> .026</td>
</tr>
<tr id="S4.T6.6.6" class="ltx_tr">
<th id="S4.T6.6.6.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">FedAvgM</th>
<td id="S4.T6.4.4.1" class="ltx_td ltx_align_left">.566 <math id="S4.T6.4.4.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.4.4.1.m1.1a"><mo id="S4.T6.4.4.1.m1.1.1" xref="S4.T6.4.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.4.4.1.m1.1b"><csymbol cd="latexml" id="S4.T6.4.4.1.m1.1.1.cmml" xref="S4.T6.4.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.4.4.1.m1.1c">\pm</annotation></semantics></math> .014</td>
<td id="S4.T6.5.5.2" class="ltx_td ltx_align_left">.458 <math id="S4.T6.5.5.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.5.5.2.m1.1a"><mo id="S4.T6.5.5.2.m1.1.1" xref="S4.T6.5.5.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.5.5.2.m1.1b"><csymbol cd="latexml" id="S4.T6.5.5.2.m1.1.1.cmml" xref="S4.T6.5.5.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.5.5.2.m1.1c">\pm</annotation></semantics></math> .006</td>
<td id="S4.T6.6.6.3" class="ltx_td ltx_align_left">.441 <math id="S4.T6.6.6.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.6.6.3.m1.1a"><mo id="S4.T6.6.6.3.m1.1.1" xref="S4.T6.6.6.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.6.6.3.m1.1b"><csymbol cd="latexml" id="S4.T6.6.6.3.m1.1.1.cmml" xref="S4.T6.6.6.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.6.6.3.m1.1c">\pm</annotation></semantics></math> .022</td>
</tr>
<tr id="S4.T6.9.9" class="ltx_tr">
<th id="S4.T6.9.9.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">FedAvg (async)</th>
<td id="S4.T6.7.7.1" class="ltx_td ltx_align_left ltx_border_t">.615 <math id="S4.T6.7.7.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.7.7.1.m1.1a"><mo id="S4.T6.7.7.1.m1.1.1" xref="S4.T6.7.7.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.7.7.1.m1.1b"><csymbol cd="latexml" id="S4.T6.7.7.1.m1.1.1.cmml" xref="S4.T6.7.7.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.7.7.1.m1.1c">\pm</annotation></semantics></math> .044</td>
<td id="S4.T6.8.8.2" class="ltx_td ltx_align_left ltx_border_t">.577 <math id="S4.T6.8.8.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.8.8.2.m1.1a"><mo id="S4.T6.8.8.2.m1.1.1" xref="S4.T6.8.8.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.8.8.2.m1.1b"><csymbol cd="latexml" id="S4.T6.8.8.2.m1.1.1.cmml" xref="S4.T6.8.8.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.8.8.2.m1.1c">\pm</annotation></semantics></math> .024</td>
<td id="S4.T6.9.9.3" class="ltx_td ltx_align_left ltx_border_t">.418 <math id="S4.T6.9.9.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.9.9.3.m1.1a"><mo id="S4.T6.9.9.3.m1.1.1" xref="S4.T6.9.9.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.9.9.3.m1.1b"><csymbol cd="latexml" id="S4.T6.9.9.3.m1.1.1.cmml" xref="S4.T6.9.9.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.9.9.3.m1.1c">\pm</annotation></semantics></math> .03</td>
</tr>
<tr id="S4.T6.12.12" class="ltx_tr">
<th id="S4.T6.12.12.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">FedAvgM (async)</th>
<td id="S4.T6.10.10.1" class="ltx_td ltx_align_left ltx_border_bb">.651 <math id="S4.T6.10.10.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.10.10.1.m1.1a"><mo id="S4.T6.10.10.1.m1.1.1" xref="S4.T6.10.10.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.10.10.1.m1.1b"><csymbol cd="latexml" id="S4.T6.10.10.1.m1.1.1.cmml" xref="S4.T6.10.10.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.10.10.1.m1.1c">\pm</annotation></semantics></math> .011</td>
<td id="S4.T6.11.11.2" class="ltx_td ltx_align_left ltx_border_bb">.564 <math id="S4.T6.11.11.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.11.11.2.m1.1a"><mo id="S4.T6.11.11.2.m1.1.1" xref="S4.T6.11.11.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.11.11.2.m1.1b"><csymbol cd="latexml" id="S4.T6.11.11.2.m1.1.1.cmml" xref="S4.T6.11.11.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.11.11.2.m1.1c">\pm</annotation></semantics></math> .012</td>
<td id="S4.T6.12.12.3" class="ltx_td ltx_align_left ltx_border_bb">.433 <math id="S4.T6.12.12.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T6.12.12.3.m1.1a"><mo id="S4.T6.12.12.3.m1.1.1" xref="S4.T6.12.12.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T6.12.12.3.m1.1b"><csymbol cd="latexml" id="S4.T6.12.12.3.m1.1.1.cmml" xref="S4.T6.12.12.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.12.12.3.m1.1c">\pm</annotation></semantics></math> .028</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Accuracy: comparing federated strategies with different number of nodes. Label skew of 0.99 is used in this experiment.</figcaption>
</figure>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Language modeling on WikiText</h3>

<div id="S4.SS4.p1" class="ltx_para ltx_noindent">
<p id="S4.SS4.p1.1" class="ltx_p">Training large language models often requires high end GPUs (such as A100, H100) with much higher memory than previous generations of GPUs. This makes it harder for researchers and practitioners to experiment with recipes for high quality language models.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para ltx_noindent">
<p id="S4.SS4.p2.1" class="ltx_p">Serverless federated learning can help reduce the barrier to entry for language modeling experiments. To illustrate the idea, we ran experiments on WikiText-103-V1 using a modest-sized open source LLM Pythia-14M <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>.</p>
</div>
<div id="S4.SS4.p3" class="ltx_para ltx_noindent">
<p id="S4.SS4.p3.3" class="ltx_p">In all the WikiText experiments, we used the first <math id="S4.SS4.p3.1.m1.2" class="ltx_Math" alttext="100,000" display="inline"><semantics id="S4.SS4.p3.1.m1.2a"><mrow id="S4.SS4.p3.1.m1.2.3.2" xref="S4.SS4.p3.1.m1.2.3.1.cmml"><mn id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml">100</mn><mo id="S4.SS4.p3.1.m1.2.3.2.1" xref="S4.SS4.p3.1.m1.2.3.1.cmml">,</mo><mn id="S4.SS4.p3.1.m1.2.2" xref="S4.SS4.p3.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.2b"><list id="S4.SS4.p3.1.m1.2.3.1.cmml" xref="S4.SS4.p3.1.m1.2.3.2"><cn type="integer" id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1">100</cn><cn type="integer" id="S4.SS4.p3.1.m1.2.2.cmml" xref="S4.SS4.p3.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.2c">100,000</annotation></semantics></math> examples in the training set and report the next token prediction accuracy in the first <math id="S4.SS4.p3.2.m2.2" class="ltx_Math" alttext="1,000" display="inline"><semantics id="S4.SS4.p3.2.m2.2a"><mrow id="S4.SS4.p3.2.m2.2.3.2" xref="S4.SS4.p3.2.m2.2.3.1.cmml"><mn id="S4.SS4.p3.2.m2.1.1" xref="S4.SS4.p3.2.m2.1.1.cmml">1</mn><mo id="S4.SS4.p3.2.m2.2.3.2.1" xref="S4.SS4.p3.2.m2.2.3.1.cmml">,</mo><mn id="S4.SS4.p3.2.m2.2.2" xref="S4.SS4.p3.2.m2.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.2.m2.2b"><list id="S4.SS4.p3.2.m2.2.3.1.cmml" xref="S4.SS4.p3.2.m2.2.3.2"><cn type="integer" id="S4.SS4.p3.2.m2.1.1.cmml" xref="S4.SS4.p3.2.m2.1.1">1</cn><cn type="integer" id="S4.SS4.p3.2.m2.2.2.cmml" xref="S4.SS4.p3.2.m2.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.2.m2.2c">1,000</annotation></semantics></math> examples in the validation set. We used the AdamW <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> optimizer with a learning rate of <math id="S4.SS4.p3.3.m3.1" class="ltx_Math" alttext="2e^{-5}" display="inline"><semantics id="S4.SS4.p3.3.m3.1a"><mrow id="S4.SS4.p3.3.m3.1.1" xref="S4.SS4.p3.3.m3.1.1.cmml"><mn id="S4.SS4.p3.3.m3.1.1.2" xref="S4.SS4.p3.3.m3.1.1.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S4.SS4.p3.3.m3.1.1.1" xref="S4.SS4.p3.3.m3.1.1.1.cmml">​</mo><msup id="S4.SS4.p3.3.m3.1.1.3" xref="S4.SS4.p3.3.m3.1.1.3.cmml"><mi id="S4.SS4.p3.3.m3.1.1.3.2" xref="S4.SS4.p3.3.m3.1.1.3.2.cmml">e</mi><mrow id="S4.SS4.p3.3.m3.1.1.3.3" xref="S4.SS4.p3.3.m3.1.1.3.3.cmml"><mo id="S4.SS4.p3.3.m3.1.1.3.3a" xref="S4.SS4.p3.3.m3.1.1.3.3.cmml">−</mo><mn id="S4.SS4.p3.3.m3.1.1.3.3.2" xref="S4.SS4.p3.3.m3.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.3.m3.1b"><apply id="S4.SS4.p3.3.m3.1.1.cmml" xref="S4.SS4.p3.3.m3.1.1"><times id="S4.SS4.p3.3.m3.1.1.1.cmml" xref="S4.SS4.p3.3.m3.1.1.1"></times><cn type="integer" id="S4.SS4.p3.3.m3.1.1.2.cmml" xref="S4.SS4.p3.3.m3.1.1.2">2</cn><apply id="S4.SS4.p3.3.m3.1.1.3.cmml" xref="S4.SS4.p3.3.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS4.p3.3.m3.1.1.3.1.cmml" xref="S4.SS4.p3.3.m3.1.1.3">superscript</csymbol><ci id="S4.SS4.p3.3.m3.1.1.3.2.cmml" xref="S4.SS4.p3.3.m3.1.1.3.2">𝑒</ci><apply id="S4.SS4.p3.3.m3.1.1.3.3.cmml" xref="S4.SS4.p3.3.m3.1.1.3.3"><minus id="S4.SS4.p3.3.m3.1.1.3.3.1.cmml" xref="S4.SS4.p3.3.m3.1.1.3.3"></minus><cn type="integer" id="S4.SS4.p3.3.m3.1.1.3.3.2.cmml" xref="S4.SS4.p3.3.m3.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.3.m3.1c">2e^{-5}</annotation></semantics></math>, a batch size of 16 with gradient accumulation every 10 steps. The model was trained for 3 epochs and federated aggregation happened at the end of each epoch.</p>
</div>
<figure id="S4.T7" class="ltx_table">
<table id="S4.T7.6.6" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T7.6.6.7.1" class="ltx_tr">
<th id="S4.T7.6.6.7.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"></th>
<th id="S4.T7.6.6.7.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3"><span id="S4.T7.6.6.7.1.2.1" class="ltx_text ltx_font_bold">Number of Nodes</span></th>
</tr>
<tr id="S4.T7.6.6.8.2" class="ltx_tr">
<th id="S4.T7.6.6.8.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r"><span id="S4.T7.6.6.8.2.1.1" class="ltx_text ltx_font_bold">Strategy</span></th>
<th id="S4.T7.6.6.8.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T7.6.6.8.2.2.1" class="ltx_text ltx_font_bold">2</span></th>
<th id="S4.T7.6.6.8.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T7.6.6.8.2.3.1" class="ltx_text ltx_font_bold">3</span></th>
<th id="S4.T7.6.6.8.2.4" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S4.T7.6.6.8.2.4.1" class="ltx_text ltx_font_bold">5</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T7.3.3.3" class="ltx_tr">
<th id="S4.T7.3.3.3.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">FedAvg</th>
<td id="S4.T7.1.1.1.1" class="ltx_td ltx_align_left ltx_border_t">.26 <math id="S4.T7.1.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T7.1.1.1.1.m1.1a"><mo id="S4.T7.1.1.1.1.m1.1.1" xref="S4.T7.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T7.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T7.1.1.1.1.m1.1.1.cmml" xref="S4.T7.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.1.1.1.1.m1.1c">\pm</annotation></semantics></math> .002</td>
<td id="S4.T7.2.2.2.2" class="ltx_td ltx_align_left ltx_border_t">.237 <math id="S4.T7.2.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T7.2.2.2.2.m1.1a"><mo id="S4.T7.2.2.2.2.m1.1.1" xref="S4.T7.2.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T7.2.2.2.2.m1.1b"><csymbol cd="latexml" id="S4.T7.2.2.2.2.m1.1.1.cmml" xref="S4.T7.2.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.2.2.2.2.m1.1c">\pm</annotation></semantics></math> .004</td>
<td id="S4.T7.3.3.3.3" class="ltx_td ltx_align_left ltx_border_t">.227 <math id="S4.T7.3.3.3.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T7.3.3.3.3.m1.1a"><mo id="S4.T7.3.3.3.3.m1.1.1" xref="S4.T7.3.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T7.3.3.3.3.m1.1b"><csymbol cd="latexml" id="S4.T7.3.3.3.3.m1.1.1.cmml" xref="S4.T7.3.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.3.3.3.3.m1.1c">\pm</annotation></semantics></math> .008</td>
</tr>
<tr id="S4.T7.6.6.6" class="ltx_tr">
<th id="S4.T7.6.6.6.4" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">FedAvg (async)</th>
<td id="S4.T7.4.4.4.1" class="ltx_td ltx_align_left ltx_border_bb">.251 <math id="S4.T7.4.4.4.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T7.4.4.4.1.m1.1a"><mo id="S4.T7.4.4.4.1.m1.1.1" xref="S4.T7.4.4.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T7.4.4.4.1.m1.1b"><csymbol cd="latexml" id="S4.T7.4.4.4.1.m1.1.1.cmml" xref="S4.T7.4.4.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.4.4.4.1.m1.1c">\pm</annotation></semantics></math> .005</td>
<td id="S4.T7.5.5.5.2" class="ltx_td ltx_align_left ltx_border_bb">.239 <math id="S4.T7.5.5.5.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T7.5.5.5.2.m1.1a"><mo id="S4.T7.5.5.5.2.m1.1.1" xref="S4.T7.5.5.5.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T7.5.5.5.2.m1.1b"><csymbol cd="latexml" id="S4.T7.5.5.5.2.m1.1.1.cmml" xref="S4.T7.5.5.5.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.5.5.5.2.m1.1c">\pm</annotation></semantics></math> .006</td>
<td id="S4.T7.6.6.6.3" class="ltx_td ltx_align_left ltx_border_bb">.221 <math id="S4.T7.6.6.6.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T7.6.6.6.3.m1.1a"><mo id="S4.T7.6.6.6.3.m1.1.1" xref="S4.T7.6.6.6.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T7.6.6.6.3.m1.1b"><csymbol cd="latexml" id="S4.T7.6.6.6.3.m1.1.1.cmml" xref="S4.T7.6.6.6.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.6.6.6.3.m1.1c">\pm</annotation></semantics></math> .006</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>Accuracy: comparing synchronous and asynchronous FedAvg strategies for different number of nodes. For centralized training, the accuracy is 0.279.</figcaption>
</figure>
<div id="S4.SS4.p4" class="ltx_para ltx_noindent">
<p id="S4.SS4.p4.1" class="ltx_p"><a href="#S4.T7" title="Table 7 ‣ 4.4 Language modeling on WikiText ‣ 4 Experiments ‣ Serverless Federated Learning with flwr-serverless" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 7</span></a> shows the accuracy for next token prediction is roughly the same between synchronous and asynchronous FedAvg strategies. Similar to previous experiments, the accuracy decreases with more federated nodes being used.</p>
</div>
<div id="S4.SS4.p5" class="ltx_para ltx_noindent">
<p id="S4.SS4.p5.1" class="ltx_p">This implies a trade-off between training speed and accuracy. Using more nodes is expected to be faster in processing training data, at the cost of lower accuracy. Better federation algorithms are expected to help reduce the gap.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Limitations and future work</h2>

<div id="S5.p1" class="ltx_para ltx_noindent">
<p id="S5.p1.1" class="ltx_p">In its current state, flwr-serverless represents a modest exploration of practical federated learning. Our current experiments cover a limited portion of design space. Much more is to be explored:</p>
</div>
<div id="S5.p2" class="ltx_para ltx_noindent">
<ol id="S5.I1" class="ltx_enumerate">
<li id="S5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S5.I1.i1.p1" class="ltx_para">
<p id="S5.I1.i1.p1.1" class="ltx_p">We did not study the effect of model architectures. It is hard to tell if the different behaviors of the federated strategies were the result of a different dataset (task), or the result of a different model architecture.</p>
</div>
</li>
<li id="S5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S5.I1.i2.p1" class="ltx_para">
<p id="S5.I1.i2.p1.1" class="ltx_p">We did not implement staleness-aware asynchronous strategies (e.g. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>) that were shown to produce higher accuracy.</p>
</div>
</li>
<li id="S5.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S5.I1.i3.p1" class="ltx_para">
<p id="S5.I1.i3.p1.1" class="ltx_p">We only experimented with a limited set of federation strategies from flwr: FedAvg, FedAvgM and FedAdam.</p>
</div>
</li>
<li id="S5.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="S5.I1.i4.p1" class="ltx_para">
<p id="S5.I1.i4.p1.1" class="ltx_p">We did not study the effect of frequency to federation.</p>
</div>
</li>
<li id="S5.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">5.</span> 
<div id="S5.I1.i5.p1" class="ltx_para">
<p id="S5.I1.i5.p1.1" class="ltx_p">We did not explore working with more than five nodes.</p>
</div>
</li>
<li id="S5.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">6.</span> 
<div id="S5.I1.i6.p1" class="ltx_para ltx_noindent">
<p id="S5.I1.i6.p1.1" class="ltx_p">We simulated concurrent training jobs with python multi-threading, which may have subtle differences from federated learning in fully isolated processes.</p>
</div>
</li>
</ol>
</div>
<div id="S5.p3" class="ltx_para ltx_noindent">
<p id="S5.p3.1" class="ltx_p">Besides going beyond the above limitations, it is also interesting to explore partial model updates (e.g. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>) in federated learning, which enables training much larger models than what fit into an individual node’s GPU memory.</p>
</div>
<div id="S5.p4" class="ltx_para ltx_noindent">
<p id="S5.p4.1" class="ltx_p">Despite the current limitations, we believe <span id="S5.p4.1.1" class="ltx_text ltx_font_typewriter">flwr-serverless</span> can address many operational pain points for researchers and practitioners. We are excited about its potential to scale to large datasets and large models using a fleet of affordable compute nodes.</p>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Reproducibility</h2>

<div id="S6.p1" class="ltx_para ltx_noindent">
<p id="S6.p1.1" class="ltx_p">The source code is available in Github<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a target="_blank" href="https://github.com/kungfuai/flwr_serverless" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/kungfuai/flwr_serverless</a></span></span></span>. The experiments and model weights are stored in Weights and Biases and will be shared in the same github repo.</p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusion</h2>

<div id="S7.p1" class="ltx_para ltx_noindent">
<p id="S7.p1.1" class="ltx_p">We introduced <span id="S7.p1.1.1" class="ltx_text ltx_font_typewriter">flwr-serverless</span>, an enhancement to the Flower package, to facilitate synchronous and asynchronous federated learning without a central server. Through our experimentation, it is evident that our approach provides a promising avenue for enhancing efficiency in federated learning setups. While our experiments were restricted in scope, <span id="S7.p1.1.2" class="ltx_text ltx_font_typewriter">flwr-serverless</span> serves as a practical tool that simplifies the intricacies of federated learning, ensuring it remains accessible and practical even as the datasets and models continue to grow. We are optimistic about the future contributions and refinements in this direction.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">J.P. [2016]</span>
<span class="ltx_bibblock">
Albrecht J.P.

</span>
<span class="ltx_bibblock">How gdpr will change the world.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">Eur. Dat. Prot. L. Rev.</em>, 2, 2016.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Union [2016]</span>
<span class="ltx_bibblock">
European Union.

</span>
<span class="ltx_bibblock">General data protection regulation.

</span>
<span class="ltx_bibblock">https://eur-lex.europa.eu/eli/reg/2016/679/oj, 2016.

</span>
<span class="ltx_bibblock">Online; accessed 12/7/2022.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">J. et al. [2016]</span>
<span class="ltx_bibblock">
Konevcny J., McMahan H.B .and Yu F.X., Richtárik P., Suresh A.T., and Bacon D.

</span>
<span class="ltx_bibblock">Federated learning: Strategies for improving communication
efficiency.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">arXiv</em>, 2016.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.48550/ARXIV.1610.05492</span>.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">H.B. et al. [2016]</span>
<span class="ltx_bibblock">
McMahan H.B., Moore E., Ramage D., Hampson S., and Arcas B.A.y.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">arXiv</em>, 2016.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.48550/ARXIV.1602.05629</span>.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">J. et al. [2021]</span>
<span class="ltx_bibblock">
Zhou J., Zhang S., Lu Q., Dai W., Chen M., Liu X., Pirttikangas S., Shi Y.,
Zhang W., and Herrera-Viedma E.

</span>
<span class="ltx_bibblock">A survey on federated learning and its applications for accelerating
industrial internet of things.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">arXiv</em>, 2021.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.48550/ARXIV.2104.10501</span>.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">S. et al. [2019]</span>
<span class="ltx_bibblock">
Niknam S., Dhillon H.S., and Reed J.H.

</span>
<span class="ltx_bibblock">Federated learning for wireless communications: Motivation,
opportunities and challenges.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">arXiv</em>, 2019.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.48550/ARXIV.1908.06847</span>.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">M. et al. [2022]</span>
<span class="ltx_bibblock">
Joshi M., Pal A., and Sankarasubbu M.

</span>
<span class="ltx_bibblock">Federated learning for healthcare domain - pipeline, applications and
challenges.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">ACM Transactions on Computing for Healthcare</em>, 3(4),
2022.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1145/3533708</span>.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">D.J. et al. [2020]</span>
<span class="ltx_bibblock">
Beutel D.J., Topal T., Mathur A., Qiu X., Fernandez-Marques J., Gao Y., Sani
L., Li K.H., Parcollet T., P.P.B. de Gusmão, and Lane N.D.

</span>
<span class="ltx_bibblock">Flower: A friendly federated learning research framework.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">arXiv</em>, 2020.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.48550/ARXIV.2007.14390</span>.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">N. and B. [2022]</span>
<span class="ltx_bibblock">
Su N. and Li B.

</span>
<span class="ltx_bibblock">How asynchronous can federated learning be?

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">2022 IEEE/ACM 30th International Symposium on Quality of
Service (IWQoS)</em>, pages 1–11, 2022.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1109/IWQoS54832.2022.9812885</span>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">C. et al. [2019]</span>
<span class="ltx_bibblock">
Xie C., Koyejo S., and Gupta I.

</span>
<span class="ltx_bibblock">Asynchronous federated optimization.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1903.03934, 2019.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://arxiv.org/abs/1903.03934" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/1903.03934</a>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Y. et al. [2020]</span>
<span class="ltx_bibblock">
Chen Y., Sun X., and Jin Y.

</span>
<span class="ltx_bibblock">Communication-efficient federated deep learning with layerwise
asynchronous model update and temporally weighted aggregation.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Neural Networks and Learning Systems</em>,
31(10):4229–4238, 2020.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1109/TNNLS.2019.2953131</span>.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">M. et al. [2021]</span>
<span class="ltx_bibblock">
Chen M., Mao B., and Ma T.

</span>
<span class="ltx_bibblock">Fedsa: A staleness-aware asynchronous federated learning algorithm
with non-iid data.

</span>
<span class="ltx_bibblock"><em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">Future Generation Computer Systems</em>, 120:1–12, 2021.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">https://doi.org/10.1016/j.future.2021.02.012</span>.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">J. et al. [2022]</span>
<span class="ltx_bibblock">
Nguyen J., Malik K., Zhan H., Yousefpour A., Rabbat M., Malek M., and Huba D.

</span>
<span class="ltx_bibblock">Federated learning with buffered asynchronous aggregation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 25th International Conference on Machine
Learning (ICML)</em>, 2022.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">M.T. and C.A. [2022]</span>
<span class="ltx_bibblock">
Toghani M.T. and Uribe C.A.

</span>
<span class="ltx_bibblock">Unbounded gradients in federated learning with buffered asynchronous
aggregation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">2022 58th Annual Allerton Conference on Communication,
Control, and Computing (Allerton)</em>, pages 1–8, 2022.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1109/Allerton49937.2022.9929409</span>.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">W. et al. [2021]</span>
<span class="ltx_bibblock">
Wu W., He L., Lin W., Mao R., Maple C., and Jarvis S.

</span>
<span class="ltx_bibblock">Safa: A semi-asynchronous protocol for fast federated learning with
low overhead.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Computers</em>, 70(5):655–668, 2021.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1109/TC.2020.2994391</span>.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Stripelis D, Thompson PM, and Ambite JL.

</span>
<span class="ltx_bibblock">Semi-synchronous federated learning for energy-efficient training and
accelerated convergence in cross-silo settings.

</span>
<span class="ltx_bibblock"><em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">ACM Trans. Intell. Syst. Technol.</em>, 13(78).

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">LeCun and Cortes [2010]</span>
<span class="ltx_bibblock">
Yann LeCun and Corinna Cortes.

</span>
<span class="ltx_bibblock">MNIST handwritten digit database.

</span>
<span class="ltx_bibblock">2010.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://yann.lecun.com/exdb/mnist/" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://yann.lecun.com/exdb/mnist/</a>.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Alex Krizhevsky, Vinod Nair, and Geoffrey Hinton.

</span>
<span class="ltx_bibblock">Cifar-10 (canadian institute for advanced research).

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://www.cs.toronto.edu/~kriz/cifar.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://www.cs.toronto.edu/~kriz/cifar.html</a>.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Merity et al. [2016]</span>
<span class="ltx_bibblock">
Stephen Merity, Caiming Xiong, James Bradbury, and Richard Socher.

</span>
<span class="ltx_bibblock">Pointer sentinel mixture models, 2016.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. [2016]</span>
<span class="ltx_bibblock">
Kaiming He, Xiangyu Zhang, Shaoqing Ren, and Jian Sun.

</span>
<span class="ltx_bibblock">Deep Residual Learning for Image Recognition.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Proceedings of 2016 IEEE Conference on Computer Vision and
Pattern Recognition</em>, CVPR ’16, pages 770–778. IEEE, June 2016.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1109/CVPR.2016.90</span>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://ieeexplore.ieee.org/document/7780459" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://ieeexplore.ieee.org/document/7780459</a>.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Biderman et al. [2023]</span>
<span class="ltx_bibblock">
Stella Biderman, Hailey Schoelkopf, Quentin Anthony, Herbie Bradley, Kyle
O’Brien, Eric Hallahan, Mohammad Aflah Khan, Shivanshu Purohit, USVSN Sai
Prashanth, Edward Raff, Aviya Skowron, Lintang Sutawika, and Oskar van der
Wal.

</span>
<span class="ltx_bibblock">Pythia: A suite for analyzing large language models across training
and scaling, 2023.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Loshchilov and Hutter [2017]</span>
<span class="ltx_bibblock">
Ilya Loshchilov and Frank Hutter.

</span>
<span class="ltx_bibblock">Fixing weight decay regularization in adam.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1711.05101, 2017.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://arxiv.org/abs/1711.05101" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/1711.05101</a>.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nguyen et al. [2021]</span>
<span class="ltx_bibblock">
John Nguyen, Kshitiz Malik, Hongyuan Zhan, Ashkan Yousefpour, Michael G.
Rabbat, Mani Malek, and Dzmitry Huba.

</span>
<span class="ltx_bibblock">Federated learning with buffered asynchronous aggregation.

</span>
<span class="ltx_bibblock"><em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2106.06639, 2021.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://arxiv.org/abs/2106.06639" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://arxiv.org/abs/2106.06639</a>.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pillutla et al. [2022]</span>
<span class="ltx_bibblock">
Krishna Pillutla, Kshitiz Malik, Abdelrahman Mohamed, Michael Rabbat, Maziar
Sanjabi, and Lin Xiao.

</span>
<span class="ltx_bibblock">Federated learning with partial model personalization, 2022.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2310.15327" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2310.15329" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2310.15329">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2310.15329" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2310.15330" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Feb 27 21:13:35 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
