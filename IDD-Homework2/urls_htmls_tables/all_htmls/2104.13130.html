<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2104.13130] Secure and Efficient Federated Learning Through Layering and Sharding Blockchain</title><meta property="og:description" content="Introducing blockchain into Federated Learning (FL) to build a trusted edge computing environment for transmission and learning has attracted widespread attention as a new decentralized learning pattern.
However, tradi…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Secure and Efficient Federated Learning Through Layering and Sharding Blockchain">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Secure and Efficient Federated Learning Through Layering and Sharding Blockchain">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2104.13130">

<!--Generated on Sat Mar  2 00:13:54 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="
Federated learning,  blockchain,  direct acyclic graph,  sharding,  layering
">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Secure and Efficient Federated Learning Through Layering and Sharding Blockchain</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shuo Yuan, 
Bin Cao, 
Yao Sun, 
Zhiguo Wan, 
and Mugen Peng
</span><span class="ltx_author_notes">
This work was supported in part by the National Key R<math id="id1.1.m1.1" class="ltx_Math" alttext="\&amp;" display="inline"><semantics id="id1.1.m1.1a"><mo id="id1.1.m1.1.1" xref="id1.1.m1.1.1.cmml">&amp;</mo><annotation-xml encoding="MathML-Content" id="id1.1.m1.1b"><and id="id1.1.m1.1.1.cmml" xref="id1.1.m1.1.1"></and></annotation-xml><annotation encoding="application/x-tex" id="id1.1.m1.1c">\&amp;</annotation></semantics></math>D Program of China under Grant 2021YFB1714100, in part by the National Natural Science Foundation of China under Grant U22B2006, and in part by the BUPT Excellent Ph.D. Students Foundation under Grant CX2020106.
This work was presented in part at 2021 IEEE WCNC <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>.
(Corresponding author: Bin Cao)
Shuo Yuan, Bin Cao, and Mugen Peng are with the State Key Laboratory of Networking and Switching Technology, Beijing University of Posts and Telecommunications, Beijing 100876, China (e-mail: yuanshuo@bupt.edu.cn; caobin@bupt.edu.cn; pmg@bupt.edu.cn).Yao Sun is with James Watt School of Engineering, University of Glasgow, G12 8QQ Glasgow, Scotland, UK (e-mail: Yao.Sun@glasgow.ac.uk).
Zhiguo Wan is with Zhejiang Lab, Hangzhou 311121, Zhejiang, China (e-mail: wanzhiguo@zhejianglab.com).</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id7.id1" class="ltx_p">Introducing blockchain into Federated Learning (FL) to build a trusted edge computing environment for transmission and learning has attracted widespread attention as a new decentralized learning pattern.
However, traditional consensus mechanisms and architectures of blockchain systems face significant challenges in handling large-scale FL tasks, especially on Internet of Things (IoT) devices, due to their substantial resource consumption, limited transaction throughput, and complex communication requirements.
To address these challenges, this paper proposes ChainFL, a novel two-layer blockchain-driven FL system.
It splits the IoT network into multiple shards within the subchain layer, effectively reducing the scale of information exchange, and employs a Direct Acyclic Graph (DAG)-based mainchain as the mainchain layer, enabling parallel and asynchronous cross-shard validation.
Furthermore, the FL procedure is customized to integrate deeply with blockchain technology, and a modified DAG consensus mechanism is designed to mitigate distortion caused by abnormal models.
To provide a proof-of-concept implementation and evaluation, multiple subchains based on Hyperledger Fabric and a self-developed DAG-based mainchain are deployed.
Extensive experiments demonstrate that ChainFL significantly surpasses conventional FL systems, showing up to a 14% improvement in training efficiency and a threefold increase in robustness.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
Federated learning, blockchain, direct acyclic graph, sharding, layering

</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">With the advent of the Internet of Everything era, the enormous volume of data generated by various connected devices, such as mobile phones, vehicles, and smart sensors, has become an invaluable resource for societal advancement.
Machine Learning (ML), widely recognized for its potency and effectiveness, plays a pivotal role in utilizing this data resource, driving a variety of smart Internet of Things (IoT) applications, such as smart grids, intelligent transportation systems, and smart industries <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>.
However, the common centralized ML methodologies, which involve collecting data from IoT devices at a central location for training, present some drawbacks.
This centralized approach not only leads to increased transmission delays and extended learning convergence times but also poses serious concerns regarding privacy breaches and the potential for data misuse, highlighting the need for more secure and efficient data processing methods in IoT networks.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">To this end, Federated Learning (FL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> as a promising training paradigm has been proposed to allow devices to collaborate and train a shared ML model in a distributed manner while keeping training data local.
The main benefit of FL is that only local models without any raw data need to be shared during the entire learning process <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>.
This allows FL to take full advantage of the resources and data of IoT devices to implement intelligence endogenous IoT services, such as predictive maintenance of industrial devices, traffic prediction in Internet-of-vehicle networks, and disease diagnosis based on wearable devices.
However, despite the potential benefits of traditional FL, there are several security and efficiency issues in a trustless edge computing environment that have yet to be fully addressed in practical applications, which can be summarized as follows.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p"><span id="S1.p3.1.1" class="ltx_text ltx_font_bold">Security Issues:</span>
Traditional FL systems depend on a central aggregator for training orchestration, but this centralization presents security risks, including a Single Point of Failure (SPOF) and vulnerability to targeted attacks, potentially causing service disruption and paralysis <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>.
In addition, the potential bias from the central aggregator in selecting IoT devices each round can adversely affect global model accuracy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>.
Moreover, traditional FL lacks mechanisms to address trust issues in the transmission and learning process of models, such as the poisonous models generated by malicious IoT devices <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p"><span id="S1.p4.1.1" class="ltx_text ltx_font_bold">Efficiency Issues:</span>
Most FL systems operate in a synchronous manner, wherein the central server waits for all participating IoT devices to submit their local models before updating the global model.
This approach is slowed down by <em id="S1.p4.1.2" class="ltx_emph ltx_font_italic">stragglers</em>, devices that take longer to complete training iterations, which affect overall convergence speed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>.
In contrast, asynchronous training approaches <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> update the global model with potentially outdated local models, known as <em id="S1.p4.1.3" class="ltx_emph ltx_font_italic">stale models</em>, which can lead to instability of the global model during the updating process.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">To address the aforementioned issues, a series of works have introduced blockchain <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> into FL to exploit the advanced features of blockchain, such as tamper-resistant, decentralized, and traceability, in the trustless edge computing environment <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>.
In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, BlockFL is proposed to carry out synchronous FL training in a decentralized manner.
Then, the SPOF and targeted attacks can be overcome, and all local model updates are verified by blockchain nodes on the Proof-of-Work (PoW) consensus <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>.
To alleviate the computation consumption during the consensus, a collaborative system for industrial IoT is proposed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> to integrate the federated training into the consensus process.
Besides, some works also introduced differential privacy into blockchain-based FL to further enhance the data privacy of IoT devices <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>.
However, these studies fail to account for the constraint imposed by blockchain throughput, a pivotal determinant of training process efficiency.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">Despite some enhancements to distributed training from blockchain-enabled systems, integrating blockchain with FL still faces notable challenges, which can be summarized as follows:</p>
<ol id="S1.I1" class="ltx_enumerate">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1)</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p"><em id="S1.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">High Computation Cost.</em>
The use of PoW or PoW-based consensus mechanisms entails solving computational puzzles to establish the right to generate blocks, ensuring blockchain stability and security.
However, this computational requirement introduces a significant computation cost <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>.
Moreover, the time spent on solving these puzzles unavoidably slows down the convergence of the training task.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2)</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p"><em id="S1.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">Limited Scalability.</em>
As we all know, most consensus hardly handles high scalability and decentralization at the same time due to the cost of computation, communication, and time <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>.
For example, PoW consensus suffers from low transaction throughput due to intensive hash computation and cannot scale out its transaction processing efficiency with the increase of blockchain nodes.
Besides, Practical Byzantine Fault Tolerance (PBFT) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite> faces limitations imposed by network bandwidth due to the frequent communication exchanges it requires.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3)</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p"><em id="S1.I1.i3.p1.1.1" class="ltx_emph ltx_font_italic">Huge Storage Requirement.</em>
Blockchain operates as a distributed ledger, which necessitates each blockchain node to maintain a record of verified blocks in its local ledger.
Consequently, the limited storage capacity of nodes significantly hinders information exchange speed within the network, thereby impacting the delivery of services supported by the blockchain.</p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4)</span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p id="S1.I1.i4.p1.1" class="ltx_p"><em id="S1.I1.i4.p1.1.1" class="ltx_emph ltx_font_italic">Stragglers.</em>
Most of the blockchain-enabled FL systems, such as BlockFL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, PIRATE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>, and DeepChain <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> are processed in a synchronous manner.
Hence, the presence of stragglers hampers training efficiency, similar to traditional FL scenarios.
Currently, there is limited research on asynchronous training based on blockchain, let alone the detection of stale models.</p>
</div>
</li>
</ol>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">To address these challenges, we propose a hierarchical blockchain-driven FL system, named ChainFL, to enhance the scalability and security of decentralized FL.
By splitting the large-scale IoT network into multiple shards, the majority of information exchange and storage is limited in the same shard which significantly reduces the communication rounds and storage requirements.
Besides, the model trained from each shard can be obtained and validated by other shards efficiently with the help of the Direct Acyclic Graph (DAG) consensus-based mainchain.</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p">Overall, the main contributions of this paper are summarized as follows:</p>
<ul id="S1.I2" class="ltx_itemize">
<li id="S1.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I2.i1.p1" class="ltx_para">
<p id="S1.I2.i1.p1.1" class="ltx_p">We propose ChainFL, a novel FL system driven by the hierarchical blockchain, with the aim to provide a secure and effective FL solution for large-scale IoT networks.
We design a Raft-based blockchain sharding architecture to improve scalability and an adapted DAG-based mainchain to achieve cross-shard interactions.
To our knowledge, ChainFL is the first system to leverage a DAG for coordinating multiple shard blockchain networks, thereby improving the security and scalability of FL systems.</p>
</div>
</li>
<li id="S1.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I2.i2.p1" class="ltx_para">
<p id="S1.I2.i2.p1.1" class="ltx_p">We define the operation process and interaction rules for ChainFL to perform the FL tasks.
To improve learning efficiency, synchronous and asynchronous training are combined in ChainFL to alleviate the negative impact of stragglers.
Moreover, a virtual pruning mechanism is designed based on the adapted DAG consensus to eliminate the impact of abnormal models.</p>
</div>
</li>
<li id="S1.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I2.i3.p1" class="ltx_para">
<p id="S1.I2.i3.p1.1" class="ltx_p">We devise a sharding network prototype leveraging Hyperledger Fabric to instantiate the subchain layer of ChainFL, while developing a DAG-based blockchain to implement the mainchain layer, thereby fulfilling cross-layer interactions.
The off-chain storage scheme is adopted in the prototype to reduce the storage requirements of blockchain nodes in both layers.
The extensive evaluation results show that ChainFL provides acceptable and sometimes better convergence rates (by up to 14%) compared to FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> and AsynFL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> for CNNs and RNNs, and enhances the robustness (by up to 3 times) of FL system.</p>
</div>
</li>
</ul>
</div>
<div id="S1.p9" class="ltx_para">
<p id="S1.p9.1" class="ltx_p">The remainder of this paper is structured as follows.
The related works are reviewed in Section <a href="#S2" title="2 Related Works ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
Section <a href="#S3" title="3 Our Proposed ChainFL System ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> introduces the architecture of ChainFL, with Section <a href="#S4" title="4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> detailing its workflow and consensus.
Implementation and evaluations are in Section <a href="#S5" title="5 Implementation ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> and Section <a href="#S6" title="6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, respectively.
Finally, conclusions and future work are presented in Section <a href="#S7" title="7 Conclusions and Future Works ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
<figure id="S1.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S1.F1.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x1.png" id="S1.F1.1.g1" class="ltx_graphics ltx_img_square" width="92" height="77" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S1.F1.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x2.png" id="S1.F1.2.g1" class="ltx_graphics ltx_img_square" width="92" height="77" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Typical architecture of FL. (a) Typical master/slave architecture of FL with a central server. (b) Typical decentralized architecture of blockchained FL.</figcaption>
</figure>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Related Works</span>
</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Recent studies emphasize the crucial role of blockchain in enhancing security and availability in FL.
This section reviews these works, focusing on blockchain-enabled FL, and summarizes current advancements to underscore the novelty of our work.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span><span id="S2.SS1.1.1" class="ltx_text ltx_font_italic">Blockchain-enabled FL Framework</span>
</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">As shown in Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, traditional FL runs in a master/slave manner where the capacity and concurrency of the centralized master server handling massive participants are usually the bottlenecks to performing the distributed learning.
Recently, some works such as <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> have achieved decentralized learning by using blockchain to tackle the bottlenecks, and the typical architecture is shown in Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> where the training process is orchestrated by distributed nodes instead of the master server.
To prevent the effect of local malicious gradients on the convergence of the global model, two Byzantine-resilient FL architectures based on blockchain, namely PIRATE and Biscotti, were proposed by the authors of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> and <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, respectively.
Integrating edge computing in BlockFL, Majeed <em id="S2.SS1.p1.1.1" class="ltx_emph ltx_font_italic">et al</em>. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> proposed FLchain to train multiple global models in parallel based on the channel feature of Hyperledger Fabric, Liu <em id="S2.SS1.p1.1.2" class="ltx_emph ltx_font_italic">et al</em>. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> proposed a decentralized intrusion detection system in response to the increased cyber-intrusions in vehicular networks.
To decrease the high communication latency between devices that are separated by great distance, Jin <em id="S2.SS1.p1.1.3" class="ltx_emph ltx_font_italic">et al</em>. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> proposed a cross-cluster FL based on blockchain for the Internet of medical things.
To promote participant engagement and incentivize correct behavior, DeepChain <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> and Refiner <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> have introduced incentive mechanisms into their respective blockchain-based FL systems.
However, these works have not considered the limitation of blockchain throughput, which is a critical factor in determining the efficiency of the training process.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">On the other hand, several studies have implemented blockchain protocols on devices with constrained computational and storage capacities, such as mobile phones and vehicles <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>.
These devices are tasked with updating their local models, as well as collecting other updated models and solving computationally intensive puzzles to generate blocks.
Such requirements pose significant challenges for edge devices <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>.
Furthermore, the necessity to maintain an ever-expanding local distributed ledger can compound these difficulties, potentially diminishing the efficiency of FL.
A partial solution involves nodes retaining only a segment of the ledger to reduce storage demands.
However, this approach necessitates frequent interactions with other entities to access information not stored locally, subsequently increasing communication overhead.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span><span id="S2.SS2.1.1" class="ltx_text ltx_font_italic">Blockchain Consensus</span>
</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">The consensus mechanism, a cornerstone of blockchain technology, is instrumental in facilitating agreement in decentralized settings <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>.
The PoW protocol, notably used in Bitcoin <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> and later adopted in BlockFL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, supports an open participation model without the need for authorization.
However, PoW and similar protocols are resource-intensive and time-consuming due to their reliance on solving complex hash problems to compete for block generation rights.
In response, Proof of Federated Learning (PoFL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> has been proposed to repurpose the computational efforts of PoW towards FL model training.
Nevertheless, PoFL is still hampered by limited throughput and an increased likelihood of forking in scalable, competition-based consensus environments <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>.
Alternatively, the PBFT consensus mechanism requires multiple communication rounds to achieve consensus, which leads to exponentially increased communication overhead as participant numbers rise <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>.
In contrast, the Raft consensus <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>, which relies on leader selection and log replication to achieve rapid and reliable consensus without the high computational costs and extended confirmation times associated with other protocols, resulting in a significant improvement in throughput.
However, the throughput of Raft is constrained by the peak performance of the single node with limited resources <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span><span id="S2.SS3.1.1" class="ltx_text ltx_font_italic">Synchronous &amp; Asynchronous FL</span>
</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">The FL process can be categorized into two types: synchronous FL and asynchronous FL.
In synchronous FL, as detailed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>, training is concurrently executed by participants, with the FL aggregator awaiting the completion of all local model updates.
The performance of synchronous FL is enhanced by optimizing participant selection in constrained wireless networks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> and by introducing an edge device clustering and a cosine similarity-based model filter to reduce parameter exchange redundancy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>.
However, the network on the master aggregator side can experience congestion when an excessive number of participants check in concurrently <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.
In addition, the duration per iteration is likely to increase as the participant count rises, a situation exacerbated by the occurrence of straggling participants, known as “stragglers”, who intermittently slow down the training process <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>.</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p">In contrast to synchronous FL, asynchronous FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> presents an alternative method that effectively addresses the straggler issue.
This approach involves the central server promptly updating the global model upon receiving individual local models, rather than waiting for all participant updates.
However, a potential downside of this method, as indicated in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, is the risk of destabilizing the global model due to the aggregation of stale models, which were trained based on a previous version of the global model.
To address these issues of model staleness and to improve efficiency, the work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite> has proposed a semi-asynchronous FL approach, innovating in the areas of client selection and the rules for global model aggregation.
However, it is noteworthy that these methodologies do not take into consideration the potential impact of malicious participants, whose actions could significantly compromise the accuracy of the global model.</p>
</div>
<div id="S2.SS3.p3" class="ltx_para">
<p id="S2.SS3.p3.1" class="ltx_p">Although both FL and blockchain are operational in distributed networks, it is still a challenge to refine the training process to adapt to the blockchain network while effectively reducing the impact of straggler and/or stale models.</p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4 </span><span id="S2.SS4.1.1" class="ltx_text ltx_font_italic">The Novelty of the Paper</span>
</h3>

<div id="S2.SS4.p1" class="ltx_para">
<p id="S2.SS4.p1.1" class="ltx_p">In this paper, we consider a classic blockchain-driven distributed learning scenario, which includes devices eager to leverage their data for participation in decentralized learning processes and a large blockchain network supported by edge nodes with abundant storage and computing resources.
We exploit the sharding architecture <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> to split the large-scale blockchain network into multiple shards to enhance the parallelism of consensus, which significantly scales up the overall throughput and reduces the storage requirement of blockchain nodes.
Further, we design a DAG-based mainchain to enable the asynchronous processing of models trained by each shard, which can efficiently speed up the validation and aggregation of shard models.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">Our Proposed ChainFL System</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we present the architecture of ChainFL and describe its main components.
As depicted in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3 Our Proposed ChainFL System ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, ChainFL employs a two-layer blockchain architecture, which comprises a subchain layer, consisting of multiple subchains, and a mainchain layer, featuring a single DAG-based mainchain.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">The subchain layer of ChainFL is based on the classic multi-access edge computing scenario <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite> which is commonly employed in smart IoT environments to support IoT devices with limited resources.
In this scenario, edge nodes (e.g., IoT devices and access points with abundant computation resources) are partitioned into multiple independent groups (referred to as shards) that deploy subchains and act as blockchain nodes to facilitate information exchange and consensus formation.
To meet the requirements of access control for IoT devices, the consortium blockchain is adopted in the subchain.
On the other hand, the mainchain can be deployed on many distributed edge nodes or trusted computation platforms to maintain and validate transactions submitted by shards in a decentralized manner.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.1" class="ltx_p"><em id="S3.p3.1.1" class="ltx_emph ltx_font_italic">Shard Entities and Training Manner:</em>
Within each shard, there exist several entity types, including IoT devices, Subchain Leader Nodes (SLNs), and Subchain Follower Nodes (SFNs).
Each shard conducts the training task in a synchronous manner, while interactions between subchains and the mainchain occur independently and asynchronously.
As a result, ChainFL integrates both synchronous and asynchronous training manners.
Further details of the interaction process are described in Section <a href="#S4.SS2" title="4.2 FL Process ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>.</p>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.1" class="ltx_p">To well elaborate, the layered architecture of ChainFL, as shown in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3 Our Proposed ChainFL System ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, is described as follows.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2104.13130/assets/x3.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="221" height="123" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Layered architecture of ChainFL.</figcaption>
</figure>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span><span id="S3.SS1.1.1" class="ltx_text ltx_font_italic">Device Layer</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">This layer is composed of IoT devices that participate in FL tasks, such as phones, vehicles, and smart home appliances.
These devices are responsible for maintaining the collected data and training the local model.
In addition, IoT devices must pack their updated local models into transactions along with additional information, such as authorization details and timestamps, and then submit the transactions to the subchain.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span><span id="S3.SS2.1.1" class="ltx_text ltx_font_italic">Subchain Layer</span>
</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">In each shard, independent subchains are deployed, each bearing the responsibility of orchestrating the IoT devices within the shard to collaboratively accomplish the training task in a synchronous manner.
The Raft consensus <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> is adopted in each subchain, and the details about this consensus in ChainFL are given in Section <a href="#S4.SS3.SSS1" title="4.3.1 Raft Consensus ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3.1</span></a>.
In addition, the edge nodes as blockchain nodes in each subchain fall into two categories:</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><em id="S3.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">Subchain Leader Node (SLN).</em>
The selection mechanism for an SLN within each subchain follows the consensus protocol specific to that subchain.
Notably, in a Raft-based subchain, the election of an SLN is conducted via a democratic voting process, as detailed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>.
Beyond executing fundamental consensus operations, the duties of the SLN include the selection of devices for participation in the training task, as well as the authorization of their access to the subchain.
Further responsibilities include the aggregation of local models and the uploading of the updated shard model to the mainchain upon the completion of each iteration.
Concurrently, the SLN constructs new basic iteration models from the mainchain for subsequent training iterations.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><em id="S3.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">Subchain Follower Node (SFN).</em>
Each SFN is responsible for authenticating and verifying the accuracy of the transactions (local models) before they are transmitted to the SLN.
Moreover, all SFNs within a particular shard need to reach a consensus on the block generated by the SLN.
This consensus is reached through adherence to the specific consensus protocol employed within that shard.</p>
</div>
</li>
</ul>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p"><em id="S3.SS2.p2.1.1" class="ltx_emph ltx_font_italic">Subchain Consensus:</em>
To adapt to IoT scenarios and alleviate the computational burden on IoT devices, the Raft protocol, which has low computational complexity, is introduced in this paper as the consensus mechanism for each subchain<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>ChainFL is also able to employ alternative consensus mechanisms, such as PBFT and Proof of Stake, as long as a robust leader selection mechanism has been designed well for each shard.</span></span></span>.
Importantly, the inherent bottleneck of Raft (that is, the throughput limited by the performance of a single node) is effectively addressed by reducing the amount of transaction processing of the leader through sharding.
It is worth noting that IoT devices with abundant resources can participate in FL tasks, not only to train the local model but also to serve as edge nodes, thereby establishing the consensus of the subchain simultaneously.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span><span id="S3.SS3.1.1" class="ltx_text ltx_font_italic">Mainchain Layer</span>
</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">The mainchain within the proposed architecture employs an asynchronous consensus mechanism based on DAG architecture, commonly referred to as DAG consensus <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> or tangle consensus <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>.
The performance and security aspects of this DAG-based mainchain have been extensively analyzed in our previous studies <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> and <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>.
As illustrated in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3 Our Proposed ChainFL System ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, the DAG-based mainchain is characterized by <em id="S3.SS3.p1.1.1" class="ltx_emph ltx_font_italic">vertices indicating individual transactions and directed edges representing the validation of one transaction by another</em>.
In this structure, each transaction encapsulates a model trained by an individual shard.
Transactions without validation from others are termed as “<em id="S3.SS3.p1.1.2" class="ltx_emph ltx_font_italic">tips</em>.”
Distinctively, the mainchain in this system diverges from traditional PoW-based blockchain architectures by not depending on a linear chain for validation, owing to its graph-based nature.
This inherent ability to accommodate forks enables the mainchain to process transactions asynchronously.
Consequently, ChainFL, implemented on IoT networks, demonstrates scalable capabilities without significantly impeding system throughput.
For the expansion of ChainFL, new IoT devices can integrate into an existing shard or collaborate with other edge nodes/devices to form a new shard.
Furthermore, each node/platform in the mainchain network possesses a local ledger, which facilitates the construction of a DAG.
Notably, the deployment of both the subchain and the mainchain is feasible on a single edge node, provided that the node has adequate resources.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span><span id="S3.SS4.1.1" class="ltx_text ltx_font_italic">Application Layer</span>
</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p">The application layer is above the mainchain layer and utilizes the interface offered by the mainchain layer to trigger FL tasks through smart contracts<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>The smart contract is a self-executing contract with the terms of negotiations between users being directly written into a computer program <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>.</span></span></span>.
The FL task requester publishes the task by signing a smart contract that declares its task requirements and conditions for completing the task.
Correspondingly, IoT devices and edge nodes engaged in these tasks are incentivized with specific rewards upon successful task completion.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">ChainFL Workflow &amp; Consensus</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">In this section, we introduce the blockchain-enabled FL algorithm, detail the FL process and consensus mechanisms of ChainFL, and analyze the probability of tip selection.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span><span id="S4.SS1.1.1" class="ltx_text ltx_font_italic">FL Algorithm</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">As mentioned above, both synchronous and asynchronous training are integrated into ChainFL and run in a decentralized manner.
Therefore, the FL algorithm originally proposed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> needs to be modified to adapt to the architecture of ChainFL.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.13" class="ltx_p">To describe the algorithm clearly, we take shard #1 as an example.
We assume that the set of IoT devices <math id="S4.SS1.p2.1.m1.4" class="ltx_Math" alttext="\{{{d_{1}},{d_{2}},\cdots,{d_{n}}}\}" display="inline"><semantics id="S4.SS1.p2.1.m1.4a"><mrow id="S4.SS1.p2.1.m1.4.4.3" xref="S4.SS1.p2.1.m1.4.4.4.cmml"><mo stretchy="false" id="S4.SS1.p2.1.m1.4.4.3.4" xref="S4.SS1.p2.1.m1.4.4.4.cmml">{</mo><msub id="S4.SS1.p2.1.m1.2.2.1.1" xref="S4.SS1.p2.1.m1.2.2.1.1.cmml"><mi id="S4.SS1.p2.1.m1.2.2.1.1.2" xref="S4.SS1.p2.1.m1.2.2.1.1.2.cmml">d</mi><mn id="S4.SS1.p2.1.m1.2.2.1.1.3" xref="S4.SS1.p2.1.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="S4.SS1.p2.1.m1.4.4.3.5" xref="S4.SS1.p2.1.m1.4.4.4.cmml">,</mo><msub id="S4.SS1.p2.1.m1.3.3.2.2" xref="S4.SS1.p2.1.m1.3.3.2.2.cmml"><mi id="S4.SS1.p2.1.m1.3.3.2.2.2" xref="S4.SS1.p2.1.m1.3.3.2.2.2.cmml">d</mi><mn id="S4.SS1.p2.1.m1.3.3.2.2.3" xref="S4.SS1.p2.1.m1.3.3.2.2.3.cmml">2</mn></msub><mo id="S4.SS1.p2.1.m1.4.4.3.6" xref="S4.SS1.p2.1.m1.4.4.4.cmml">,</mo><mi mathvariant="normal" id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml">⋯</mi><mo id="S4.SS1.p2.1.m1.4.4.3.7" xref="S4.SS1.p2.1.m1.4.4.4.cmml">,</mo><msub id="S4.SS1.p2.1.m1.4.4.3.3" xref="S4.SS1.p2.1.m1.4.4.3.3.cmml"><mi id="S4.SS1.p2.1.m1.4.4.3.3.2" xref="S4.SS1.p2.1.m1.4.4.3.3.2.cmml">d</mi><mi id="S4.SS1.p2.1.m1.4.4.3.3.3" xref="S4.SS1.p2.1.m1.4.4.3.3.3.cmml">n</mi></msub><mo stretchy="false" id="S4.SS1.p2.1.m1.4.4.3.8" xref="S4.SS1.p2.1.m1.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.4b"><set id="S4.SS1.p2.1.m1.4.4.4.cmml" xref="S4.SS1.p2.1.m1.4.4.3"><apply id="S4.SS1.p2.1.m1.2.2.1.1.cmml" xref="S4.SS1.p2.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.1.m1.2.2.1.1.1.cmml" xref="S4.SS1.p2.1.m1.2.2.1.1">subscript</csymbol><ci id="S4.SS1.p2.1.m1.2.2.1.1.2.cmml" xref="S4.SS1.p2.1.m1.2.2.1.1.2">𝑑</ci><cn type="integer" id="S4.SS1.p2.1.m1.2.2.1.1.3.cmml" xref="S4.SS1.p2.1.m1.2.2.1.1.3">1</cn></apply><apply id="S4.SS1.p2.1.m1.3.3.2.2.cmml" xref="S4.SS1.p2.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="S4.SS1.p2.1.m1.3.3.2.2.1.cmml" xref="S4.SS1.p2.1.m1.3.3.2.2">subscript</csymbol><ci id="S4.SS1.p2.1.m1.3.3.2.2.2.cmml" xref="S4.SS1.p2.1.m1.3.3.2.2.2">𝑑</ci><cn type="integer" id="S4.SS1.p2.1.m1.3.3.2.2.3.cmml" xref="S4.SS1.p2.1.m1.3.3.2.2.3">2</cn></apply><ci id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1">⋯</ci><apply id="S4.SS1.p2.1.m1.4.4.3.3.cmml" xref="S4.SS1.p2.1.m1.4.4.3.3"><csymbol cd="ambiguous" id="S4.SS1.p2.1.m1.4.4.3.3.1.cmml" xref="S4.SS1.p2.1.m1.4.4.3.3">subscript</csymbol><ci id="S4.SS1.p2.1.m1.4.4.3.3.2.cmml" xref="S4.SS1.p2.1.m1.4.4.3.3.2">𝑑</ci><ci id="S4.SS1.p2.1.m1.4.4.3.3.3.cmml" xref="S4.SS1.p2.1.m1.4.4.3.3.3">𝑛</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.4c">\{{{d_{1}},{d_{2}},\cdots,{d_{n}}}\}</annotation></semantics></math> is selected by SLN of shard #1 to participate in the FL task, and the datasets of these devices are <math id="S4.SS1.p2.2.m2.4" class="ltx_Math" alttext="\{{D_{1}},{D_{2}},\cdots,{D_{n}}\}" display="inline"><semantics id="S4.SS1.p2.2.m2.4a"><mrow id="S4.SS1.p2.2.m2.4.4.3" xref="S4.SS1.p2.2.m2.4.4.4.cmml"><mo stretchy="false" id="S4.SS1.p2.2.m2.4.4.3.4" xref="S4.SS1.p2.2.m2.4.4.4.cmml">{</mo><msub id="S4.SS1.p2.2.m2.2.2.1.1" xref="S4.SS1.p2.2.m2.2.2.1.1.cmml"><mi id="S4.SS1.p2.2.m2.2.2.1.1.2" xref="S4.SS1.p2.2.m2.2.2.1.1.2.cmml">D</mi><mn id="S4.SS1.p2.2.m2.2.2.1.1.3" xref="S4.SS1.p2.2.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="S4.SS1.p2.2.m2.4.4.3.5" xref="S4.SS1.p2.2.m2.4.4.4.cmml">,</mo><msub id="S4.SS1.p2.2.m2.3.3.2.2" xref="S4.SS1.p2.2.m2.3.3.2.2.cmml"><mi id="S4.SS1.p2.2.m2.3.3.2.2.2" xref="S4.SS1.p2.2.m2.3.3.2.2.2.cmml">D</mi><mn id="S4.SS1.p2.2.m2.3.3.2.2.3" xref="S4.SS1.p2.2.m2.3.3.2.2.3.cmml">2</mn></msub><mo id="S4.SS1.p2.2.m2.4.4.3.6" xref="S4.SS1.p2.2.m2.4.4.4.cmml">,</mo><mi mathvariant="normal" id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml">⋯</mi><mo id="S4.SS1.p2.2.m2.4.4.3.7" xref="S4.SS1.p2.2.m2.4.4.4.cmml">,</mo><msub id="S4.SS1.p2.2.m2.4.4.3.3" xref="S4.SS1.p2.2.m2.4.4.3.3.cmml"><mi id="S4.SS1.p2.2.m2.4.4.3.3.2" xref="S4.SS1.p2.2.m2.4.4.3.3.2.cmml">D</mi><mi id="S4.SS1.p2.2.m2.4.4.3.3.3" xref="S4.SS1.p2.2.m2.4.4.3.3.3.cmml">n</mi></msub><mo stretchy="false" id="S4.SS1.p2.2.m2.4.4.3.8" xref="S4.SS1.p2.2.m2.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.4b"><set id="S4.SS1.p2.2.m2.4.4.4.cmml" xref="S4.SS1.p2.2.m2.4.4.3"><apply id="S4.SS1.p2.2.m2.2.2.1.1.cmml" xref="S4.SS1.p2.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.2.m2.2.2.1.1.1.cmml" xref="S4.SS1.p2.2.m2.2.2.1.1">subscript</csymbol><ci id="S4.SS1.p2.2.m2.2.2.1.1.2.cmml" xref="S4.SS1.p2.2.m2.2.2.1.1.2">𝐷</ci><cn type="integer" id="S4.SS1.p2.2.m2.2.2.1.1.3.cmml" xref="S4.SS1.p2.2.m2.2.2.1.1.3">1</cn></apply><apply id="S4.SS1.p2.2.m2.3.3.2.2.cmml" xref="S4.SS1.p2.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="S4.SS1.p2.2.m2.3.3.2.2.1.cmml" xref="S4.SS1.p2.2.m2.3.3.2.2">subscript</csymbol><ci id="S4.SS1.p2.2.m2.3.3.2.2.2.cmml" xref="S4.SS1.p2.2.m2.3.3.2.2.2">𝐷</ci><cn type="integer" id="S4.SS1.p2.2.m2.3.3.2.2.3.cmml" xref="S4.SS1.p2.2.m2.3.3.2.2.3">2</cn></apply><ci id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1">⋯</ci><apply id="S4.SS1.p2.2.m2.4.4.3.3.cmml" xref="S4.SS1.p2.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="S4.SS1.p2.2.m2.4.4.3.3.1.cmml" xref="S4.SS1.p2.2.m2.4.4.3.3">subscript</csymbol><ci id="S4.SS1.p2.2.m2.4.4.3.3.2.cmml" xref="S4.SS1.p2.2.m2.4.4.3.3.2">𝐷</ci><ci id="S4.SS1.p2.2.m2.4.4.3.3.3.cmml" xref="S4.SS1.p2.2.m2.4.4.3.3.3">𝑛</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.4c">\{{D_{1}},{D_{2}},\cdots,{D_{n}}\}</annotation></semantics></math>.
Without loss of generality, let each training sample in the dataset be an input-output pair <math id="S4.SS1.p2.3.m3.2" class="ltx_Math" alttext="(\mathbf{x},\mathbf{y})" display="inline"><semantics id="S4.SS1.p2.3.m3.2a"><mrow id="S4.SS1.p2.3.m3.2.3.2" xref="S4.SS1.p2.3.m3.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p2.3.m3.2.3.2.1" xref="S4.SS1.p2.3.m3.2.3.1.cmml">(</mo><mi id="S4.SS1.p2.3.m3.1.1" xref="S4.SS1.p2.3.m3.1.1.cmml">𝐱</mi><mo id="S4.SS1.p2.3.m3.2.3.2.2" xref="S4.SS1.p2.3.m3.2.3.1.cmml">,</mo><mi id="S4.SS1.p2.3.m3.2.2" xref="S4.SS1.p2.3.m3.2.2.cmml">𝐲</mi><mo stretchy="false" id="S4.SS1.p2.3.m3.2.3.2.3" xref="S4.SS1.p2.3.m3.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.3.m3.2b"><interval closure="open" id="S4.SS1.p2.3.m3.2.3.1.cmml" xref="S4.SS1.p2.3.m3.2.3.2"><ci id="S4.SS1.p2.3.m3.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1">𝐱</ci><ci id="S4.SS1.p2.3.m3.2.2.cmml" xref="S4.SS1.p2.3.m3.2.2">𝐲</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.3.m3.2c">(\mathbf{x},\mathbf{y})</annotation></semantics></math>, where <math id="S4.SS1.p2.4.m4.1" class="ltx_Math" alttext="\mathbf{x}" display="inline"><semantics id="S4.SS1.p2.4.m4.1a"><mi id="S4.SS1.p2.4.m4.1.1" xref="S4.SS1.p2.4.m4.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.4.m4.1b"><ci id="S4.SS1.p2.4.m4.1.1.cmml" xref="S4.SS1.p2.4.m4.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.4.m4.1c">\mathbf{x}</annotation></semantics></math> is the feature and <math id="S4.SS1.p2.5.m5.1" class="ltx_Math" alttext="\mathbf{y}" display="inline"><semantics id="S4.SS1.p2.5.m5.1a"><mi id="S4.SS1.p2.5.m5.1.1" xref="S4.SS1.p2.5.m5.1.1.cmml">𝐲</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.5.m5.1b"><ci id="S4.SS1.p2.5.m5.1.1.cmml" xref="S4.SS1.p2.5.m5.1.1">𝐲</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.5.m5.1c">\mathbf{y}</annotation></semantics></math> is the label.
The set of parameters for the FL model is denoted as <math id="S4.SS1.p2.6.m6.1" class="ltx_Math" alttext="\mathbf{w}" display="inline"><semantics id="S4.SS1.p2.6.m6.1a"><mi id="S4.SS1.p2.6.m6.1.1" xref="S4.SS1.p2.6.m6.1.1.cmml">𝐰</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.6.m6.1b"><ci id="S4.SS1.p2.6.m6.1.1.cmml" xref="S4.SS1.p2.6.m6.1.1">𝐰</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.6.m6.1c">\mathbf{w}</annotation></semantics></math>.
For each sample <math id="S4.SS1.p2.7.m7.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS1.p2.7.m7.1a"><mi id="S4.SS1.p2.7.m7.1.1" xref="S4.SS1.p2.7.m7.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.7.m7.1b"><ci id="S4.SS1.p2.7.m7.1.1.cmml" xref="S4.SS1.p2.7.m7.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.7.m7.1c">i</annotation></semantics></math>, the loss function of the machine learning problem is defined as <math id="S4.SS1.p2.8.m8.3" class="ltx_Math" alttext="{f_{i}}(\mathbf{w})=l({\mathbf{x}_{i}},{\mathbf{y}_{i}}|\mathbf{w})" display="inline"><semantics id="S4.SS1.p2.8.m8.3a"><mrow id="S4.SS1.p2.8.m8.3.3" xref="S4.SS1.p2.8.m8.3.3.cmml"><mrow id="S4.SS1.p2.8.m8.3.3.4" xref="S4.SS1.p2.8.m8.3.3.4.cmml"><msub id="S4.SS1.p2.8.m8.3.3.4.2" xref="S4.SS1.p2.8.m8.3.3.4.2.cmml"><mi id="S4.SS1.p2.8.m8.3.3.4.2.2" xref="S4.SS1.p2.8.m8.3.3.4.2.2.cmml">f</mi><mi id="S4.SS1.p2.8.m8.3.3.4.2.3" xref="S4.SS1.p2.8.m8.3.3.4.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS1.p2.8.m8.3.3.4.1" xref="S4.SS1.p2.8.m8.3.3.4.1.cmml">​</mo><mrow id="S4.SS1.p2.8.m8.3.3.4.3.2" xref="S4.SS1.p2.8.m8.3.3.4.cmml"><mo stretchy="false" id="S4.SS1.p2.8.m8.3.3.4.3.2.1" xref="S4.SS1.p2.8.m8.3.3.4.cmml">(</mo><mi id="S4.SS1.p2.8.m8.1.1" xref="S4.SS1.p2.8.m8.1.1.cmml">𝐰</mi><mo stretchy="false" id="S4.SS1.p2.8.m8.3.3.4.3.2.2" xref="S4.SS1.p2.8.m8.3.3.4.cmml">)</mo></mrow></mrow><mo id="S4.SS1.p2.8.m8.3.3.3" xref="S4.SS1.p2.8.m8.3.3.3.cmml">=</mo><mrow id="S4.SS1.p2.8.m8.3.3.2" xref="S4.SS1.p2.8.m8.3.3.2.cmml"><mi id="S4.SS1.p2.8.m8.3.3.2.4" xref="S4.SS1.p2.8.m8.3.3.2.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p2.8.m8.3.3.2.3" xref="S4.SS1.p2.8.m8.3.3.2.3.cmml">​</mo><mrow id="S4.SS1.p2.8.m8.3.3.2.2.2" xref="S4.SS1.p2.8.m8.3.3.2.2.3.cmml"><mo stretchy="false" id="S4.SS1.p2.8.m8.3.3.2.2.2.3" xref="S4.SS1.p2.8.m8.3.3.2.2.3.cmml">(</mo><msub id="S4.SS1.p2.8.m8.2.2.1.1.1.1" xref="S4.SS1.p2.8.m8.2.2.1.1.1.1.cmml"><mi id="S4.SS1.p2.8.m8.2.2.1.1.1.1.2" xref="S4.SS1.p2.8.m8.2.2.1.1.1.1.2.cmml">𝐱</mi><mi id="S4.SS1.p2.8.m8.2.2.1.1.1.1.3" xref="S4.SS1.p2.8.m8.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS1.p2.8.m8.3.3.2.2.2.4" xref="S4.SS1.p2.8.m8.3.3.2.2.3.cmml">,</mo><mrow id="S4.SS1.p2.8.m8.3.3.2.2.2.2" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.cmml"><msub id="S4.SS1.p2.8.m8.3.3.2.2.2.2.2" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.2.cmml"><mi id="S4.SS1.p2.8.m8.3.3.2.2.2.2.2.2" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.2.2.cmml">𝐲</mi><mi id="S4.SS1.p2.8.m8.3.3.2.2.2.2.2.3" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.2.3.cmml">i</mi></msub><mo fence="false" id="S4.SS1.p2.8.m8.3.3.2.2.2.2.1" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.1.cmml">|</mo><mi id="S4.SS1.p2.8.m8.3.3.2.2.2.2.3" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.3.cmml">𝐰</mi></mrow><mo stretchy="false" id="S4.SS1.p2.8.m8.3.3.2.2.2.5" xref="S4.SS1.p2.8.m8.3.3.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.8.m8.3b"><apply id="S4.SS1.p2.8.m8.3.3.cmml" xref="S4.SS1.p2.8.m8.3.3"><eq id="S4.SS1.p2.8.m8.3.3.3.cmml" xref="S4.SS1.p2.8.m8.3.3.3"></eq><apply id="S4.SS1.p2.8.m8.3.3.4.cmml" xref="S4.SS1.p2.8.m8.3.3.4"><times id="S4.SS1.p2.8.m8.3.3.4.1.cmml" xref="S4.SS1.p2.8.m8.3.3.4.1"></times><apply id="S4.SS1.p2.8.m8.3.3.4.2.cmml" xref="S4.SS1.p2.8.m8.3.3.4.2"><csymbol cd="ambiguous" id="S4.SS1.p2.8.m8.3.3.4.2.1.cmml" xref="S4.SS1.p2.8.m8.3.3.4.2">subscript</csymbol><ci id="S4.SS1.p2.8.m8.3.3.4.2.2.cmml" xref="S4.SS1.p2.8.m8.3.3.4.2.2">𝑓</ci><ci id="S4.SS1.p2.8.m8.3.3.4.2.3.cmml" xref="S4.SS1.p2.8.m8.3.3.4.2.3">𝑖</ci></apply><ci id="S4.SS1.p2.8.m8.1.1.cmml" xref="S4.SS1.p2.8.m8.1.1">𝐰</ci></apply><apply id="S4.SS1.p2.8.m8.3.3.2.cmml" xref="S4.SS1.p2.8.m8.3.3.2"><times id="S4.SS1.p2.8.m8.3.3.2.3.cmml" xref="S4.SS1.p2.8.m8.3.3.2.3"></times><ci id="S4.SS1.p2.8.m8.3.3.2.4.cmml" xref="S4.SS1.p2.8.m8.3.3.2.4">𝑙</ci><interval closure="open" id="S4.SS1.p2.8.m8.3.3.2.2.3.cmml" xref="S4.SS1.p2.8.m8.3.3.2.2.2"><apply id="S4.SS1.p2.8.m8.2.2.1.1.1.1.cmml" xref="S4.SS1.p2.8.m8.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.8.m8.2.2.1.1.1.1.1.cmml" xref="S4.SS1.p2.8.m8.2.2.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p2.8.m8.2.2.1.1.1.1.2.cmml" xref="S4.SS1.p2.8.m8.2.2.1.1.1.1.2">𝐱</ci><ci id="S4.SS1.p2.8.m8.2.2.1.1.1.1.3.cmml" xref="S4.SS1.p2.8.m8.2.2.1.1.1.1.3">𝑖</ci></apply><apply id="S4.SS1.p2.8.m8.3.3.2.2.2.2.cmml" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2"><csymbol cd="latexml" id="S4.SS1.p2.8.m8.3.3.2.2.2.2.1.cmml" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.1">conditional</csymbol><apply id="S4.SS1.p2.8.m8.3.3.2.2.2.2.2.cmml" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p2.8.m8.3.3.2.2.2.2.2.1.cmml" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.2">subscript</csymbol><ci id="S4.SS1.p2.8.m8.3.3.2.2.2.2.2.2.cmml" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.2.2">𝐲</ci><ci id="S4.SS1.p2.8.m8.3.3.2.2.2.2.2.3.cmml" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.2.3">𝑖</ci></apply><ci id="S4.SS1.p2.8.m8.3.3.2.2.2.2.3.cmml" xref="S4.SS1.p2.8.m8.3.3.2.2.2.2.3">𝐰</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.8.m8.3c">{f_{i}}(\mathbf{w})=l({\mathbf{x}_{i}},{\mathbf{y}_{i}}|\mathbf{w})</annotation></semantics></math>.
Therefore, the loss function for device <math id="S4.SS1.p2.9.m9.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S4.SS1.p2.9.m9.1a"><mi id="S4.SS1.p2.9.m9.1.1" xref="S4.SS1.p2.9.m9.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.9.m9.1b"><ci id="S4.SS1.p2.9.m9.1.1.cmml" xref="S4.SS1.p2.9.m9.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.9.m9.1c">j</annotation></semantics></math> on the mini-batch <math id="S4.SS1.p2.10.m10.1" class="ltx_Math" alttext="b_{j}" display="inline"><semantics id="S4.SS1.p2.10.m10.1a"><msub id="S4.SS1.p2.10.m10.1.1" xref="S4.SS1.p2.10.m10.1.1.cmml"><mi id="S4.SS1.p2.10.m10.1.1.2" xref="S4.SS1.p2.10.m10.1.1.2.cmml">b</mi><mi id="S4.SS1.p2.10.m10.1.1.3" xref="S4.SS1.p2.10.m10.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.10.m10.1b"><apply id="S4.SS1.p2.10.m10.1.1.cmml" xref="S4.SS1.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.10.m10.1.1.1.cmml" xref="S4.SS1.p2.10.m10.1.1">subscript</csymbol><ci id="S4.SS1.p2.10.m10.1.1.2.cmml" xref="S4.SS1.p2.10.m10.1.1.2">𝑏</ci><ci id="S4.SS1.p2.10.m10.1.1.3.cmml" xref="S4.SS1.p2.10.m10.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.10.m10.1c">b_{j}</annotation></semantics></math>, a randomly sampled subset of <math id="S4.SS1.p2.11.m11.1" class="ltx_Math" alttext="D_{j}" display="inline"><semantics id="S4.SS1.p2.11.m11.1a"><msub id="S4.SS1.p2.11.m11.1.1" xref="S4.SS1.p2.11.m11.1.1.cmml"><mi id="S4.SS1.p2.11.m11.1.1.2" xref="S4.SS1.p2.11.m11.1.1.2.cmml">D</mi><mi id="S4.SS1.p2.11.m11.1.1.3" xref="S4.SS1.p2.11.m11.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.11.m11.1b"><apply id="S4.SS1.p2.11.m11.1.1.cmml" xref="S4.SS1.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.11.m11.1.1.1.cmml" xref="S4.SS1.p2.11.m11.1.1">subscript</csymbol><ci id="S4.SS1.p2.11.m11.1.1.2.cmml" xref="S4.SS1.p2.11.m11.1.1.2">𝐷</ci><ci id="S4.SS1.p2.11.m11.1.1.3.cmml" xref="S4.SS1.p2.11.m11.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.11.m11.1c">D_{j}</annotation></semantics></math>, can be written as <math id="S4.SS1.p2.12.m12.1" class="ltx_Math" alttext="{f_{b_{j}}}(\mathbf{w})" display="inline"><semantics id="S4.SS1.p2.12.m12.1a"><mrow id="S4.SS1.p2.12.m12.1.2" xref="S4.SS1.p2.12.m12.1.2.cmml"><msub id="S4.SS1.p2.12.m12.1.2.2" xref="S4.SS1.p2.12.m12.1.2.2.cmml"><mi id="S4.SS1.p2.12.m12.1.2.2.2" xref="S4.SS1.p2.12.m12.1.2.2.2.cmml">f</mi><msub id="S4.SS1.p2.12.m12.1.2.2.3" xref="S4.SS1.p2.12.m12.1.2.2.3.cmml"><mi id="S4.SS1.p2.12.m12.1.2.2.3.2" xref="S4.SS1.p2.12.m12.1.2.2.3.2.cmml">b</mi><mi id="S4.SS1.p2.12.m12.1.2.2.3.3" xref="S4.SS1.p2.12.m12.1.2.2.3.3.cmml">j</mi></msub></msub><mo lspace="0em" rspace="0em" id="S4.SS1.p2.12.m12.1.2.1" xref="S4.SS1.p2.12.m12.1.2.1.cmml">​</mo><mrow id="S4.SS1.p2.12.m12.1.2.3.2" xref="S4.SS1.p2.12.m12.1.2.cmml"><mo stretchy="false" id="S4.SS1.p2.12.m12.1.2.3.2.1" xref="S4.SS1.p2.12.m12.1.2.cmml">(</mo><mi id="S4.SS1.p2.12.m12.1.1" xref="S4.SS1.p2.12.m12.1.1.cmml">𝐰</mi><mo stretchy="false" id="S4.SS1.p2.12.m12.1.2.3.2.2" xref="S4.SS1.p2.12.m12.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.12.m12.1b"><apply id="S4.SS1.p2.12.m12.1.2.cmml" xref="S4.SS1.p2.12.m12.1.2"><times id="S4.SS1.p2.12.m12.1.2.1.cmml" xref="S4.SS1.p2.12.m12.1.2.1"></times><apply id="S4.SS1.p2.12.m12.1.2.2.cmml" xref="S4.SS1.p2.12.m12.1.2.2"><csymbol cd="ambiguous" id="S4.SS1.p2.12.m12.1.2.2.1.cmml" xref="S4.SS1.p2.12.m12.1.2.2">subscript</csymbol><ci id="S4.SS1.p2.12.m12.1.2.2.2.cmml" xref="S4.SS1.p2.12.m12.1.2.2.2">𝑓</ci><apply id="S4.SS1.p2.12.m12.1.2.2.3.cmml" xref="S4.SS1.p2.12.m12.1.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.p2.12.m12.1.2.2.3.1.cmml" xref="S4.SS1.p2.12.m12.1.2.2.3">subscript</csymbol><ci id="S4.SS1.p2.12.m12.1.2.2.3.2.cmml" xref="S4.SS1.p2.12.m12.1.2.2.3.2">𝑏</ci><ci id="S4.SS1.p2.12.m12.1.2.2.3.3.cmml" xref="S4.SS1.p2.12.m12.1.2.2.3.3">𝑗</ci></apply></apply><ci id="S4.SS1.p2.12.m12.1.1.cmml" xref="S4.SS1.p2.12.m12.1.1">𝐰</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.12.m12.1c">{f_{b_{j}}}(\mathbf{w})</annotation></semantics></math>.
The goal of device <math id="S4.SS1.p2.13.m13.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S4.SS1.p2.13.m13.1a"><mi id="S4.SS1.p2.13.m13.1.1" xref="S4.SS1.p2.13.m13.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.13.m13.1b"><ci id="S4.SS1.p2.13.m13.1.1.cmml" xref="S4.SS1.p2.13.m13.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.13.m13.1c">j</annotation></semantics></math> is to minimize the loss on each mini-batch:</p>
<table id="S4.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E1.m1.3" class="ltx_Math" alttext="\min F_{j}(\mathbf{w})=\mathbb{E}_{b_{j}\sim{D_{j}}}f_{b_{j}}(\mathbf{w})." display="block"><semantics id="S4.E1.m1.3a"><mrow id="S4.E1.m1.3.3.1" xref="S4.E1.m1.3.3.1.1.cmml"><mrow id="S4.E1.m1.3.3.1.1" xref="S4.E1.m1.3.3.1.1.cmml"><mrow id="S4.E1.m1.3.3.1.1.2" xref="S4.E1.m1.3.3.1.1.2.cmml"><mrow id="S4.E1.m1.3.3.1.1.2.2" xref="S4.E1.m1.3.3.1.1.2.2.cmml"><mi id="S4.E1.m1.3.3.1.1.2.2.1" xref="S4.E1.m1.3.3.1.1.2.2.1.cmml">min</mi><mo lspace="0.167em" id="S4.E1.m1.3.3.1.1.2.2a" xref="S4.E1.m1.3.3.1.1.2.2.cmml">⁡</mo><msub id="S4.E1.m1.3.3.1.1.2.2.2" xref="S4.E1.m1.3.3.1.1.2.2.2.cmml"><mi id="S4.E1.m1.3.3.1.1.2.2.2.2" xref="S4.E1.m1.3.3.1.1.2.2.2.2.cmml">F</mi><mi id="S4.E1.m1.3.3.1.1.2.2.2.3" xref="S4.E1.m1.3.3.1.1.2.2.2.3.cmml">j</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S4.E1.m1.3.3.1.1.2.1" xref="S4.E1.m1.3.3.1.1.2.1.cmml">​</mo><mrow id="S4.E1.m1.3.3.1.1.2.3.2" xref="S4.E1.m1.3.3.1.1.2.cmml"><mo stretchy="false" id="S4.E1.m1.3.3.1.1.2.3.2.1" xref="S4.E1.m1.3.3.1.1.2.cmml">(</mo><mi id="S4.E1.m1.1.1" xref="S4.E1.m1.1.1.cmml">𝐰</mi><mo stretchy="false" id="S4.E1.m1.3.3.1.1.2.3.2.2" xref="S4.E1.m1.3.3.1.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E1.m1.3.3.1.1.1" xref="S4.E1.m1.3.3.1.1.1.cmml">=</mo><mrow id="S4.E1.m1.3.3.1.1.3" xref="S4.E1.m1.3.3.1.1.3.cmml"><msub id="S4.E1.m1.3.3.1.1.3.2" xref="S4.E1.m1.3.3.1.1.3.2.cmml"><mi id="S4.E1.m1.3.3.1.1.3.2.2" xref="S4.E1.m1.3.3.1.1.3.2.2.cmml">𝔼</mi><mrow id="S4.E1.m1.3.3.1.1.3.2.3" xref="S4.E1.m1.3.3.1.1.3.2.3.cmml"><msub id="S4.E1.m1.3.3.1.1.3.2.3.2" xref="S4.E1.m1.3.3.1.1.3.2.3.2.cmml"><mi id="S4.E1.m1.3.3.1.1.3.2.3.2.2" xref="S4.E1.m1.3.3.1.1.3.2.3.2.2.cmml">b</mi><mi id="S4.E1.m1.3.3.1.1.3.2.3.2.3" xref="S4.E1.m1.3.3.1.1.3.2.3.2.3.cmml">j</mi></msub><mo id="S4.E1.m1.3.3.1.1.3.2.3.1" xref="S4.E1.m1.3.3.1.1.3.2.3.1.cmml">∼</mo><msub id="S4.E1.m1.3.3.1.1.3.2.3.3" xref="S4.E1.m1.3.3.1.1.3.2.3.3.cmml"><mi id="S4.E1.m1.3.3.1.1.3.2.3.3.2" xref="S4.E1.m1.3.3.1.1.3.2.3.3.2.cmml">D</mi><mi id="S4.E1.m1.3.3.1.1.3.2.3.3.3" xref="S4.E1.m1.3.3.1.1.3.2.3.3.3.cmml">j</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S4.E1.m1.3.3.1.1.3.1" xref="S4.E1.m1.3.3.1.1.3.1.cmml">​</mo><msub id="S4.E1.m1.3.3.1.1.3.3" xref="S4.E1.m1.3.3.1.1.3.3.cmml"><mi id="S4.E1.m1.3.3.1.1.3.3.2" xref="S4.E1.m1.3.3.1.1.3.3.2.cmml">f</mi><msub id="S4.E1.m1.3.3.1.1.3.3.3" xref="S4.E1.m1.3.3.1.1.3.3.3.cmml"><mi id="S4.E1.m1.3.3.1.1.3.3.3.2" xref="S4.E1.m1.3.3.1.1.3.3.3.2.cmml">b</mi><mi id="S4.E1.m1.3.3.1.1.3.3.3.3" xref="S4.E1.m1.3.3.1.1.3.3.3.3.cmml">j</mi></msub></msub><mo lspace="0em" rspace="0em" id="S4.E1.m1.3.3.1.1.3.1a" xref="S4.E1.m1.3.3.1.1.3.1.cmml">​</mo><mrow id="S4.E1.m1.3.3.1.1.3.4.2" xref="S4.E1.m1.3.3.1.1.3.cmml"><mo stretchy="false" id="S4.E1.m1.3.3.1.1.3.4.2.1" xref="S4.E1.m1.3.3.1.1.3.cmml">(</mo><mi id="S4.E1.m1.2.2" xref="S4.E1.m1.2.2.cmml">𝐰</mi><mo stretchy="false" id="S4.E1.m1.3.3.1.1.3.4.2.2" xref="S4.E1.m1.3.3.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="S4.E1.m1.3.3.1.2" xref="S4.E1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E1.m1.3b"><apply id="S4.E1.m1.3.3.1.1.cmml" xref="S4.E1.m1.3.3.1"><eq id="S4.E1.m1.3.3.1.1.1.cmml" xref="S4.E1.m1.3.3.1.1.1"></eq><apply id="S4.E1.m1.3.3.1.1.2.cmml" xref="S4.E1.m1.3.3.1.1.2"><times id="S4.E1.m1.3.3.1.1.2.1.cmml" xref="S4.E1.m1.3.3.1.1.2.1"></times><apply id="S4.E1.m1.3.3.1.1.2.2.cmml" xref="S4.E1.m1.3.3.1.1.2.2"><min id="S4.E1.m1.3.3.1.1.2.2.1.cmml" xref="S4.E1.m1.3.3.1.1.2.2.1"></min><apply id="S4.E1.m1.3.3.1.1.2.2.2.cmml" xref="S4.E1.m1.3.3.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.1.1.2.2.2.1.cmml" xref="S4.E1.m1.3.3.1.1.2.2.2">subscript</csymbol><ci id="S4.E1.m1.3.3.1.1.2.2.2.2.cmml" xref="S4.E1.m1.3.3.1.1.2.2.2.2">𝐹</ci><ci id="S4.E1.m1.3.3.1.1.2.2.2.3.cmml" xref="S4.E1.m1.3.3.1.1.2.2.2.3">𝑗</ci></apply></apply><ci id="S4.E1.m1.1.1.cmml" xref="S4.E1.m1.1.1">𝐰</ci></apply><apply id="S4.E1.m1.3.3.1.1.3.cmml" xref="S4.E1.m1.3.3.1.1.3"><times id="S4.E1.m1.3.3.1.1.3.1.cmml" xref="S4.E1.m1.3.3.1.1.3.1"></times><apply id="S4.E1.m1.3.3.1.1.3.2.cmml" xref="S4.E1.m1.3.3.1.1.3.2"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.1.1.3.2.1.cmml" xref="S4.E1.m1.3.3.1.1.3.2">subscript</csymbol><ci id="S4.E1.m1.3.3.1.1.3.2.2.cmml" xref="S4.E1.m1.3.3.1.1.3.2.2">𝔼</ci><apply id="S4.E1.m1.3.3.1.1.3.2.3.cmml" xref="S4.E1.m1.3.3.1.1.3.2.3"><csymbol cd="latexml" id="S4.E1.m1.3.3.1.1.3.2.3.1.cmml" xref="S4.E1.m1.3.3.1.1.3.2.3.1">similar-to</csymbol><apply id="S4.E1.m1.3.3.1.1.3.2.3.2.cmml" xref="S4.E1.m1.3.3.1.1.3.2.3.2"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.1.1.3.2.3.2.1.cmml" xref="S4.E1.m1.3.3.1.1.3.2.3.2">subscript</csymbol><ci id="S4.E1.m1.3.3.1.1.3.2.3.2.2.cmml" xref="S4.E1.m1.3.3.1.1.3.2.3.2.2">𝑏</ci><ci id="S4.E1.m1.3.3.1.1.3.2.3.2.3.cmml" xref="S4.E1.m1.3.3.1.1.3.2.3.2.3">𝑗</ci></apply><apply id="S4.E1.m1.3.3.1.1.3.2.3.3.cmml" xref="S4.E1.m1.3.3.1.1.3.2.3.3"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.1.1.3.2.3.3.1.cmml" xref="S4.E1.m1.3.3.1.1.3.2.3.3">subscript</csymbol><ci id="S4.E1.m1.3.3.1.1.3.2.3.3.2.cmml" xref="S4.E1.m1.3.3.1.1.3.2.3.3.2">𝐷</ci><ci id="S4.E1.m1.3.3.1.1.3.2.3.3.3.cmml" xref="S4.E1.m1.3.3.1.1.3.2.3.3.3">𝑗</ci></apply></apply></apply><apply id="S4.E1.m1.3.3.1.1.3.3.cmml" xref="S4.E1.m1.3.3.1.1.3.3"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.1.1.3.3.1.cmml" xref="S4.E1.m1.3.3.1.1.3.3">subscript</csymbol><ci id="S4.E1.m1.3.3.1.1.3.3.2.cmml" xref="S4.E1.m1.3.3.1.1.3.3.2">𝑓</ci><apply id="S4.E1.m1.3.3.1.1.3.3.3.cmml" xref="S4.E1.m1.3.3.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.1.1.3.3.3.1.cmml" xref="S4.E1.m1.3.3.1.1.3.3.3">subscript</csymbol><ci id="S4.E1.m1.3.3.1.1.3.3.3.2.cmml" xref="S4.E1.m1.3.3.1.1.3.3.3.2">𝑏</ci><ci id="S4.E1.m1.3.3.1.1.3.3.3.3.cmml" xref="S4.E1.m1.3.3.1.1.3.3.3.3">𝑗</ci></apply></apply><ci id="S4.E1.m1.2.2.cmml" xref="S4.E1.m1.2.2">𝐰</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E1.m1.3c">\min F_{j}(\mathbf{w})=\mathbb{E}_{b_{j}\sim{D_{j}}}f_{b_{j}}(\mathbf{w}).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S4.SS1.p2.14" class="ltx_p">By applying the gradient descent algorithm on the mini-batch, the local model of device <math id="S4.SS1.p2.14.m1.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S4.SS1.p2.14.m1.1a"><mi id="S4.SS1.p2.14.m1.1.1" xref="S4.SS1.p2.14.m1.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.14.m1.1b"><ci id="S4.SS1.p2.14.m1.1.1.cmml" xref="S4.SS1.p2.14.m1.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.14.m1.1c">j</annotation></semantics></math> can be updated according to:</p>
<table id="S4.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E2.m1.1" class="ltx_Math" alttext="{{\bf{w}}_{j}}\leftarrow{{\bf{w}}_{j}}-{\mu}_{j}\nabla{f}_{b_{j}}({{{\bf{w}}_{j}}})," display="block"><semantics id="S4.E2.m1.1a"><mrow id="S4.E2.m1.1.1.1" xref="S4.E2.m1.1.1.1.1.cmml"><mrow id="S4.E2.m1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.cmml"><msub id="S4.E2.m1.1.1.1.1.3" xref="S4.E2.m1.1.1.1.1.3.cmml"><mi id="S4.E2.m1.1.1.1.1.3.2" xref="S4.E2.m1.1.1.1.1.3.2.cmml">𝐰</mi><mi id="S4.E2.m1.1.1.1.1.3.3" xref="S4.E2.m1.1.1.1.1.3.3.cmml">j</mi></msub><mo stretchy="false" id="S4.E2.m1.1.1.1.1.2" xref="S4.E2.m1.1.1.1.1.2.cmml">←</mo><mrow id="S4.E2.m1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.cmml"><msub id="S4.E2.m1.1.1.1.1.1.3" xref="S4.E2.m1.1.1.1.1.1.3.cmml"><mi id="S4.E2.m1.1.1.1.1.1.3.2" xref="S4.E2.m1.1.1.1.1.1.3.2.cmml">𝐰</mi><mi id="S4.E2.m1.1.1.1.1.1.3.3" xref="S4.E2.m1.1.1.1.1.1.3.3.cmml">j</mi></msub><mo id="S4.E2.m1.1.1.1.1.1.2" xref="S4.E2.m1.1.1.1.1.1.2.cmml">−</mo><mrow id="S4.E2.m1.1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.1.cmml"><msub id="S4.E2.m1.1.1.1.1.1.1.3" xref="S4.E2.m1.1.1.1.1.1.1.3.cmml"><mi id="S4.E2.m1.1.1.1.1.1.1.3.2" xref="S4.E2.m1.1.1.1.1.1.1.3.2.cmml">μ</mi><mi id="S4.E2.m1.1.1.1.1.1.1.3.3" xref="S4.E2.m1.1.1.1.1.1.1.3.3.cmml">j</mi></msub><mo lspace="0.167em" rspace="0em" id="S4.E2.m1.1.1.1.1.1.1.2" xref="S4.E2.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S4.E2.m1.1.1.1.1.1.1.4" xref="S4.E2.m1.1.1.1.1.1.1.4.cmml"><mo rspace="0.167em" id="S4.E2.m1.1.1.1.1.1.1.4.1" xref="S4.E2.m1.1.1.1.1.1.1.4.1.cmml">∇</mo><msub id="S4.E2.m1.1.1.1.1.1.1.4.2" xref="S4.E2.m1.1.1.1.1.1.1.4.2.cmml"><mi id="S4.E2.m1.1.1.1.1.1.1.4.2.2" xref="S4.E2.m1.1.1.1.1.1.1.4.2.2.cmml">f</mi><msub id="S4.E2.m1.1.1.1.1.1.1.4.2.3" xref="S4.E2.m1.1.1.1.1.1.1.4.2.3.cmml"><mi id="S4.E2.m1.1.1.1.1.1.1.4.2.3.2" xref="S4.E2.m1.1.1.1.1.1.1.4.2.3.2.cmml">b</mi><mi id="S4.E2.m1.1.1.1.1.1.1.4.2.3.3" xref="S4.E2.m1.1.1.1.1.1.1.4.2.3.3.cmml">j</mi></msub></msub></mrow><mo lspace="0em" rspace="0em" id="S4.E2.m1.1.1.1.1.1.1.2a" xref="S4.E2.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S4.E2.m1.1.1.1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E2.m1.1.1.1.1.1.1.1.1.2" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S4.E2.m1.1.1.1.1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E2.m1.1.1.1.1.1.1.1.1.1.2" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.2.cmml">𝐰</mi><mi id="S4.E2.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S4.E2.m1.1.1.1.1.1.1.1.1.3" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S4.E2.m1.1.1.1.2" xref="S4.E2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E2.m1.1b"><apply id="S4.E2.m1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1"><ci id="S4.E2.m1.1.1.1.1.2.cmml" xref="S4.E2.m1.1.1.1.1.2">←</ci><apply id="S4.E2.m1.1.1.1.1.3.cmml" xref="S4.E2.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.3.1.cmml" xref="S4.E2.m1.1.1.1.1.3">subscript</csymbol><ci id="S4.E2.m1.1.1.1.1.3.2.cmml" xref="S4.E2.m1.1.1.1.1.3.2">𝐰</ci><ci id="S4.E2.m1.1.1.1.1.3.3.cmml" xref="S4.E2.m1.1.1.1.1.3.3">𝑗</ci></apply><apply id="S4.E2.m1.1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.1"><minus id="S4.E2.m1.1.1.1.1.1.2.cmml" xref="S4.E2.m1.1.1.1.1.1.2"></minus><apply id="S4.E2.m1.1.1.1.1.1.3.cmml" xref="S4.E2.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.1.3.1.cmml" xref="S4.E2.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E2.m1.1.1.1.1.1.3.2.cmml" xref="S4.E2.m1.1.1.1.1.1.3.2">𝐰</ci><ci id="S4.E2.m1.1.1.1.1.1.3.3.cmml" xref="S4.E2.m1.1.1.1.1.1.3.3">𝑗</ci></apply><apply id="S4.E2.m1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1"><times id="S4.E2.m1.1.1.1.1.1.1.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.2"></times><apply id="S4.E2.m1.1.1.1.1.1.1.3.cmml" xref="S4.E2.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.1.1.3.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E2.m1.1.1.1.1.1.1.3.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.3.2">𝜇</ci><ci id="S4.E2.m1.1.1.1.1.1.1.3.3.cmml" xref="S4.E2.m1.1.1.1.1.1.1.3.3">𝑗</ci></apply><apply id="S4.E2.m1.1.1.1.1.1.1.4.cmml" xref="S4.E2.m1.1.1.1.1.1.1.4"><ci id="S4.E2.m1.1.1.1.1.1.1.4.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.4.1">∇</ci><apply id="S4.E2.m1.1.1.1.1.1.1.4.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.4.2"><csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.1.1.4.2.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.4.2">subscript</csymbol><ci id="S4.E2.m1.1.1.1.1.1.1.4.2.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.4.2.2">𝑓</ci><apply id="S4.E2.m1.1.1.1.1.1.1.4.2.3.cmml" xref="S4.E2.m1.1.1.1.1.1.1.4.2.3"><csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.1.1.4.2.3.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.4.2.3">subscript</csymbol><ci id="S4.E2.m1.1.1.1.1.1.1.4.2.3.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.4.2.3.2">𝑏</ci><ci id="S4.E2.m1.1.1.1.1.1.1.4.2.3.3.cmml" xref="S4.E2.m1.1.1.1.1.1.1.4.2.3.3">𝑗</ci></apply></apply></apply><apply id="S4.E2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E2.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.2">𝐰</ci><ci id="S4.E2.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E2.m1.1.1.1.1.1.1.1.1.1.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.1c">{{\bf{w}}_{j}}\leftarrow{{\bf{w}}_{j}}-{\mu}_{j}\nabla{f}_{b_{j}}({{{\bf{w}}_{j}}}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S4.SS1.p2.17" class="ltx_p">where <math id="S4.SS1.p2.15.m1.1" class="ltx_Math" alttext="{\mu}_{j}" display="inline"><semantics id="S4.SS1.p2.15.m1.1a"><msub id="S4.SS1.p2.15.m1.1.1" xref="S4.SS1.p2.15.m1.1.1.cmml"><mi id="S4.SS1.p2.15.m1.1.1.2" xref="S4.SS1.p2.15.m1.1.1.2.cmml">μ</mi><mi id="S4.SS1.p2.15.m1.1.1.3" xref="S4.SS1.p2.15.m1.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.15.m1.1b"><apply id="S4.SS1.p2.15.m1.1.1.cmml" xref="S4.SS1.p2.15.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.15.m1.1.1.1.cmml" xref="S4.SS1.p2.15.m1.1.1">subscript</csymbol><ci id="S4.SS1.p2.15.m1.1.1.2.cmml" xref="S4.SS1.p2.15.m1.1.1.2">𝜇</ci><ci id="S4.SS1.p2.15.m1.1.1.3.cmml" xref="S4.SS1.p2.15.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.15.m1.1c">{\mu}_{j}</annotation></semantics></math> is the learning rate of this device.
Then, <math id="S4.SS1.p2.16.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.SS1.p2.16.m2.1a"><mi id="S4.SS1.p2.16.m2.1.1" xref="S4.SS1.p2.16.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.16.m2.1b"><ci id="S4.SS1.p2.16.m2.1.1.cmml" xref="S4.SS1.p2.16.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.16.m2.1c">E</annotation></semantics></math> epochs for local dataset <math id="S4.SS1.p2.17.m3.1" class="ltx_Math" alttext="D_{j}" display="inline"><semantics id="S4.SS1.p2.17.m3.1a"><msub id="S4.SS1.p2.17.m3.1.1" xref="S4.SS1.p2.17.m3.1.1.cmml"><mi id="S4.SS1.p2.17.m3.1.1.2" xref="S4.SS1.p2.17.m3.1.1.2.cmml">D</mi><mi id="S4.SS1.p2.17.m3.1.1.3" xref="S4.SS1.p2.17.m3.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.17.m3.1b"><apply id="S4.SS1.p2.17.m3.1.1.cmml" xref="S4.SS1.p2.17.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.17.m3.1.1.1.cmml" xref="S4.SS1.p2.17.m3.1.1">subscript</csymbol><ci id="S4.SS1.p2.17.m3.1.1.2.cmml" xref="S4.SS1.p2.17.m3.1.1.2">𝐷</ci><ci id="S4.SS1.p2.17.m3.1.1.3.cmml" xref="S4.SS1.p2.17.m3.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.17.m3.1c">D_{j}</annotation></semantics></math> are executed to train the local model.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.5" class="ltx_p">In addition, the Federated Averaging algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> is adopted to aggregate the updated local models uploaded from the selected devices.
Then the loss function of shard #1 on decentralized datasets can be expressed as:</p>
<table id="S4.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E3.m1.4" class="ltx_Math" alttext="G_{s1}(\mathbf{w})=\sum\limits_{j=1}^{m}{\frac{{\left|{{D_{j}}}\right|}}{D}}{F_{j}}(\mathbf{w})," display="block"><semantics id="S4.E3.m1.4a"><mrow id="S4.E3.m1.4.4.1" xref="S4.E3.m1.4.4.1.1.cmml"><mrow id="S4.E3.m1.4.4.1.1" xref="S4.E3.m1.4.4.1.1.cmml"><mrow id="S4.E3.m1.4.4.1.1.2" xref="S4.E3.m1.4.4.1.1.2.cmml"><msub id="S4.E3.m1.4.4.1.1.2.2" xref="S4.E3.m1.4.4.1.1.2.2.cmml"><mi id="S4.E3.m1.4.4.1.1.2.2.2" xref="S4.E3.m1.4.4.1.1.2.2.2.cmml">G</mi><mrow id="S4.E3.m1.4.4.1.1.2.2.3" xref="S4.E3.m1.4.4.1.1.2.2.3.cmml"><mi id="S4.E3.m1.4.4.1.1.2.2.3.2" xref="S4.E3.m1.4.4.1.1.2.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.E3.m1.4.4.1.1.2.2.3.1" xref="S4.E3.m1.4.4.1.1.2.2.3.1.cmml">​</mo><mn id="S4.E3.m1.4.4.1.1.2.2.3.3" xref="S4.E3.m1.4.4.1.1.2.2.3.3.cmml">1</mn></mrow></msub><mo lspace="0em" rspace="0em" id="S4.E3.m1.4.4.1.1.2.1" xref="S4.E3.m1.4.4.1.1.2.1.cmml">​</mo><mrow id="S4.E3.m1.4.4.1.1.2.3.2" xref="S4.E3.m1.4.4.1.1.2.cmml"><mo stretchy="false" id="S4.E3.m1.4.4.1.1.2.3.2.1" xref="S4.E3.m1.4.4.1.1.2.cmml">(</mo><mi id="S4.E3.m1.2.2" xref="S4.E3.m1.2.2.cmml">𝐰</mi><mo stretchy="false" id="S4.E3.m1.4.4.1.1.2.3.2.2" xref="S4.E3.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S4.E3.m1.4.4.1.1.1" xref="S4.E3.m1.4.4.1.1.1.cmml">=</mo><mrow id="S4.E3.m1.4.4.1.1.3" xref="S4.E3.m1.4.4.1.1.3.cmml"><munderover id="S4.E3.m1.4.4.1.1.3.1" xref="S4.E3.m1.4.4.1.1.3.1.cmml"><mo movablelimits="false" id="S4.E3.m1.4.4.1.1.3.1.2.2" xref="S4.E3.m1.4.4.1.1.3.1.2.2.cmml">∑</mo><mrow id="S4.E3.m1.4.4.1.1.3.1.2.3" xref="S4.E3.m1.4.4.1.1.3.1.2.3.cmml"><mi id="S4.E3.m1.4.4.1.1.3.1.2.3.2" xref="S4.E3.m1.4.4.1.1.3.1.2.3.2.cmml">j</mi><mo id="S4.E3.m1.4.4.1.1.3.1.2.3.1" xref="S4.E3.m1.4.4.1.1.3.1.2.3.1.cmml">=</mo><mn id="S4.E3.m1.4.4.1.1.3.1.2.3.3" xref="S4.E3.m1.4.4.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S4.E3.m1.4.4.1.1.3.1.3" xref="S4.E3.m1.4.4.1.1.3.1.3.cmml">m</mi></munderover><mrow id="S4.E3.m1.4.4.1.1.3.2" xref="S4.E3.m1.4.4.1.1.3.2.cmml"><mfrac id="S4.E3.m1.1.1" xref="S4.E3.m1.1.1.cmml"><mrow id="S4.E3.m1.1.1.1.1" xref="S4.E3.m1.1.1.1.2.cmml"><mo id="S4.E3.m1.1.1.1.1.2" xref="S4.E3.m1.1.1.1.2.1.cmml">|</mo><msub id="S4.E3.m1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.cmml"><mi id="S4.E3.m1.1.1.1.1.1.2" xref="S4.E3.m1.1.1.1.1.1.2.cmml">D</mi><mi id="S4.E3.m1.1.1.1.1.1.3" xref="S4.E3.m1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.E3.m1.1.1.1.1.3" xref="S4.E3.m1.1.1.1.2.1.cmml">|</mo></mrow><mi id="S4.E3.m1.1.1.3" xref="S4.E3.m1.1.1.3.cmml">D</mi></mfrac><mo lspace="0em" rspace="0em" id="S4.E3.m1.4.4.1.1.3.2.1" xref="S4.E3.m1.4.4.1.1.3.2.1.cmml">​</mo><msub id="S4.E3.m1.4.4.1.1.3.2.2" xref="S4.E3.m1.4.4.1.1.3.2.2.cmml"><mi id="S4.E3.m1.4.4.1.1.3.2.2.2" xref="S4.E3.m1.4.4.1.1.3.2.2.2.cmml">F</mi><mi id="S4.E3.m1.4.4.1.1.3.2.2.3" xref="S4.E3.m1.4.4.1.1.3.2.2.3.cmml">j</mi></msub><mo lspace="0em" rspace="0em" id="S4.E3.m1.4.4.1.1.3.2.1a" xref="S4.E3.m1.4.4.1.1.3.2.1.cmml">​</mo><mrow id="S4.E3.m1.4.4.1.1.3.2.3.2" xref="S4.E3.m1.4.4.1.1.3.2.cmml"><mo stretchy="false" id="S4.E3.m1.4.4.1.1.3.2.3.2.1" xref="S4.E3.m1.4.4.1.1.3.2.cmml">(</mo><mi id="S4.E3.m1.3.3" xref="S4.E3.m1.3.3.cmml">𝐰</mi><mo stretchy="false" id="S4.E3.m1.4.4.1.1.3.2.3.2.2" xref="S4.E3.m1.4.4.1.1.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S4.E3.m1.4.4.1.2" xref="S4.E3.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m1.4b"><apply id="S4.E3.m1.4.4.1.1.cmml" xref="S4.E3.m1.4.4.1"><eq id="S4.E3.m1.4.4.1.1.1.cmml" xref="S4.E3.m1.4.4.1.1.1"></eq><apply id="S4.E3.m1.4.4.1.1.2.cmml" xref="S4.E3.m1.4.4.1.1.2"><times id="S4.E3.m1.4.4.1.1.2.1.cmml" xref="S4.E3.m1.4.4.1.1.2.1"></times><apply id="S4.E3.m1.4.4.1.1.2.2.cmml" xref="S4.E3.m1.4.4.1.1.2.2"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.2.2.1.cmml" xref="S4.E3.m1.4.4.1.1.2.2">subscript</csymbol><ci id="S4.E3.m1.4.4.1.1.2.2.2.cmml" xref="S4.E3.m1.4.4.1.1.2.2.2">𝐺</ci><apply id="S4.E3.m1.4.4.1.1.2.2.3.cmml" xref="S4.E3.m1.4.4.1.1.2.2.3"><times id="S4.E3.m1.4.4.1.1.2.2.3.1.cmml" xref="S4.E3.m1.4.4.1.1.2.2.3.1"></times><ci id="S4.E3.m1.4.4.1.1.2.2.3.2.cmml" xref="S4.E3.m1.4.4.1.1.2.2.3.2">𝑠</ci><cn type="integer" id="S4.E3.m1.4.4.1.1.2.2.3.3.cmml" xref="S4.E3.m1.4.4.1.1.2.2.3.3">1</cn></apply></apply><ci id="S4.E3.m1.2.2.cmml" xref="S4.E3.m1.2.2">𝐰</ci></apply><apply id="S4.E3.m1.4.4.1.1.3.cmml" xref="S4.E3.m1.4.4.1.1.3"><apply id="S4.E3.m1.4.4.1.1.3.1.cmml" xref="S4.E3.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.3.1.1.cmml" xref="S4.E3.m1.4.4.1.1.3.1">superscript</csymbol><apply id="S4.E3.m1.4.4.1.1.3.1.2.cmml" xref="S4.E3.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.3.1.2.1.cmml" xref="S4.E3.m1.4.4.1.1.3.1">subscript</csymbol><sum id="S4.E3.m1.4.4.1.1.3.1.2.2.cmml" xref="S4.E3.m1.4.4.1.1.3.1.2.2"></sum><apply id="S4.E3.m1.4.4.1.1.3.1.2.3.cmml" xref="S4.E3.m1.4.4.1.1.3.1.2.3"><eq id="S4.E3.m1.4.4.1.1.3.1.2.3.1.cmml" xref="S4.E3.m1.4.4.1.1.3.1.2.3.1"></eq><ci id="S4.E3.m1.4.4.1.1.3.1.2.3.2.cmml" xref="S4.E3.m1.4.4.1.1.3.1.2.3.2">𝑗</ci><cn type="integer" id="S4.E3.m1.4.4.1.1.3.1.2.3.3.cmml" xref="S4.E3.m1.4.4.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S4.E3.m1.4.4.1.1.3.1.3.cmml" xref="S4.E3.m1.4.4.1.1.3.1.3">𝑚</ci></apply><apply id="S4.E3.m1.4.4.1.1.3.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2"><times id="S4.E3.m1.4.4.1.1.3.2.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.1"></times><apply id="S4.E3.m1.1.1.cmml" xref="S4.E3.m1.1.1"><divide id="S4.E3.m1.1.1.2.cmml" xref="S4.E3.m1.1.1"></divide><apply id="S4.E3.m1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.1"><abs id="S4.E3.m1.1.1.1.2.1.cmml" xref="S4.E3.m1.1.1.1.1.2"></abs><apply id="S4.E3.m1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.E3.m1.1.1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.1.1.2">𝐷</ci><ci id="S4.E3.m1.1.1.1.1.1.3.cmml" xref="S4.E3.m1.1.1.1.1.1.3">𝑗</ci></apply></apply><ci id="S4.E3.m1.1.1.3.cmml" xref="S4.E3.m1.1.1.3">𝐷</ci></apply><apply id="S4.E3.m1.4.4.1.1.3.2.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.3.2.2.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2">subscript</csymbol><ci id="S4.E3.m1.4.4.1.1.3.2.2.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.2">𝐹</ci><ci id="S4.E3.m1.4.4.1.1.3.2.2.3.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3">𝑗</ci></apply><ci id="S4.E3.m1.3.3.cmml" xref="S4.E3.m1.3.3">𝐰</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.4c">G_{s1}(\mathbf{w})=\sum\limits_{j=1}^{m}{\frac{{\left|{{D_{j}}}\right|}}{D}}{F_{j}}(\mathbf{w}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S4.SS1.p3.4" class="ltx_p">where <math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="m(m\leq n)" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><mrow id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml"><mi id="S4.SS1.p3.1.m1.1.1.3" xref="S4.SS1.p3.1.m1.1.1.3.cmml">m</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.1.m1.1.1.2" xref="S4.SS1.p3.1.m1.1.1.2.cmml">​</mo><mrow id="S4.SS1.p3.1.m1.1.1.1.1" xref="S4.SS1.p3.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS1.p3.1.m1.1.1.1.1.2" xref="S4.SS1.p3.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS1.p3.1.m1.1.1.1.1.1" xref="S4.SS1.p3.1.m1.1.1.1.1.1.cmml"><mi id="S4.SS1.p3.1.m1.1.1.1.1.1.2" xref="S4.SS1.p3.1.m1.1.1.1.1.1.2.cmml">m</mi><mo id="S4.SS1.p3.1.m1.1.1.1.1.1.1" xref="S4.SS1.p3.1.m1.1.1.1.1.1.1.cmml">≤</mo><mi id="S4.SS1.p3.1.m1.1.1.1.1.1.3" xref="S4.SS1.p3.1.m1.1.1.1.1.1.3.cmml">n</mi></mrow><mo stretchy="false" id="S4.SS1.p3.1.m1.1.1.1.1.3" xref="S4.SS1.p3.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><apply id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1"><times id="S4.SS1.p3.1.m1.1.1.2.cmml" xref="S4.SS1.p3.1.m1.1.1.2"></times><ci id="S4.SS1.p3.1.m1.1.1.3.cmml" xref="S4.SS1.p3.1.m1.1.1.3">𝑚</ci><apply id="S4.SS1.p3.1.m1.1.1.1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1.1.1"><leq id="S4.SS1.p3.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1.1.1.1.1"></leq><ci id="S4.SS1.p3.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS1.p3.1.m1.1.1.1.1.1.2">𝑚</ci><ci id="S4.SS1.p3.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS1.p3.1.m1.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">m(m\leq n)</annotation></semantics></math> is the number of valid models that pass the validation during the consensus, and <math id="S4.SS1.p3.2.m2.1" class="ltx_Math" alttext="D=\sum\nolimits_{j=1}^{m}{|{D_{j}}|}" display="inline"><semantics id="S4.SS1.p3.2.m2.1a"><mrow id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml"><mi id="S4.SS1.p3.2.m2.1.1.3" xref="S4.SS1.p3.2.m2.1.1.3.cmml">D</mi><mo rspace="0.111em" id="S4.SS1.p3.2.m2.1.1.2" xref="S4.SS1.p3.2.m2.1.1.2.cmml">=</mo><mrow id="S4.SS1.p3.2.m2.1.1.1" xref="S4.SS1.p3.2.m2.1.1.1.cmml"><msubsup id="S4.SS1.p3.2.m2.1.1.1.2" xref="S4.SS1.p3.2.m2.1.1.1.2.cmml"><mo rspace="0em" id="S4.SS1.p3.2.m2.1.1.1.2.2.2" xref="S4.SS1.p3.2.m2.1.1.1.2.2.2.cmml">∑</mo><mrow id="S4.SS1.p3.2.m2.1.1.1.2.2.3" xref="S4.SS1.p3.2.m2.1.1.1.2.2.3.cmml"><mi id="S4.SS1.p3.2.m2.1.1.1.2.2.3.2" xref="S4.SS1.p3.2.m2.1.1.1.2.2.3.2.cmml">j</mi><mo id="S4.SS1.p3.2.m2.1.1.1.2.2.3.1" xref="S4.SS1.p3.2.m2.1.1.1.2.2.3.1.cmml">=</mo><mn id="S4.SS1.p3.2.m2.1.1.1.2.2.3.3" xref="S4.SS1.p3.2.m2.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S4.SS1.p3.2.m2.1.1.1.2.3" xref="S4.SS1.p3.2.m2.1.1.1.2.3.cmml">m</mi></msubsup><mrow id="S4.SS1.p3.2.m2.1.1.1.1.1" xref="S4.SS1.p3.2.m2.1.1.1.1.2.cmml"><mo stretchy="false" id="S4.SS1.p3.2.m2.1.1.1.1.1.2" xref="S4.SS1.p3.2.m2.1.1.1.1.2.1.cmml">|</mo><msub id="S4.SS1.p3.2.m2.1.1.1.1.1.1" xref="S4.SS1.p3.2.m2.1.1.1.1.1.1.cmml"><mi id="S4.SS1.p3.2.m2.1.1.1.1.1.1.2" xref="S4.SS1.p3.2.m2.1.1.1.1.1.1.2.cmml">D</mi><mi id="S4.SS1.p3.2.m2.1.1.1.1.1.1.3" xref="S4.SS1.p3.2.m2.1.1.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S4.SS1.p3.2.m2.1.1.1.1.1.3" xref="S4.SS1.p3.2.m2.1.1.1.1.2.1.cmml">|</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b"><apply id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1"><eq id="S4.SS1.p3.2.m2.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.2"></eq><ci id="S4.SS1.p3.2.m2.1.1.3.cmml" xref="S4.SS1.p3.2.m2.1.1.3">𝐷</ci><apply id="S4.SS1.p3.2.m2.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1"><apply id="S4.SS1.p3.2.m2.1.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p3.2.m2.1.1.1.2.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1.2">superscript</csymbol><apply id="S4.SS1.p3.2.m2.1.1.1.2.2.cmml" xref="S4.SS1.p3.2.m2.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p3.2.m2.1.1.1.2.2.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1.2">subscript</csymbol><sum id="S4.SS1.p3.2.m2.1.1.1.2.2.2.cmml" xref="S4.SS1.p3.2.m2.1.1.1.2.2.2"></sum><apply id="S4.SS1.p3.2.m2.1.1.1.2.2.3.cmml" xref="S4.SS1.p3.2.m2.1.1.1.2.2.3"><eq id="S4.SS1.p3.2.m2.1.1.1.2.2.3.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1.2.2.3.1"></eq><ci id="S4.SS1.p3.2.m2.1.1.1.2.2.3.2.cmml" xref="S4.SS1.p3.2.m2.1.1.1.2.2.3.2">𝑗</ci><cn type="integer" id="S4.SS1.p3.2.m2.1.1.1.2.2.3.3.cmml" xref="S4.SS1.p3.2.m2.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S4.SS1.p3.2.m2.1.1.1.2.3.cmml" xref="S4.SS1.p3.2.m2.1.1.1.2.3">𝑚</ci></apply><apply id="S4.SS1.p3.2.m2.1.1.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.1.1.1"><abs id="S4.SS1.p3.2.m2.1.1.1.1.2.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1.1.1.2"></abs><apply id="S4.SS1.p3.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.2.m2.1.1.1.1.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p3.2.m2.1.1.1.1.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.1.1.1.1.2">𝐷</ci><ci id="S4.SS1.p3.2.m2.1.1.1.1.1.1.3.cmml" xref="S4.SS1.p3.2.m2.1.1.1.1.1.1.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">D=\sum\nolimits_{j=1}^{m}{|{D_{j}}|}</annotation></semantics></math> is the total size of the datasets used in this shard training round.
As the IoT devices selected in round <math id="S4.SS1.p3.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS1.p3.3.m3.1a"><mi id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.1b"><ci id="S4.SS1.p3.3.m3.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.3.m3.1c">k</annotation></semantics></math> upload their updated local models, the model parameters of shard #1, <math id="S4.SS1.p3.4.m4.1" class="ltx_Math" alttext="{\bf{w}}_{s1}" display="inline"><semantics id="S4.SS1.p3.4.m4.1a"><msub id="S4.SS1.p3.4.m4.1.1" xref="S4.SS1.p3.4.m4.1.1.cmml"><mi id="S4.SS1.p3.4.m4.1.1.2" xref="S4.SS1.p3.4.m4.1.1.2.cmml">𝐰</mi><mrow id="S4.SS1.p3.4.m4.1.1.3" xref="S4.SS1.p3.4.m4.1.1.3.cmml"><mi id="S4.SS1.p3.4.m4.1.1.3.2" xref="S4.SS1.p3.4.m4.1.1.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.4.m4.1.1.3.1" xref="S4.SS1.p3.4.m4.1.1.3.1.cmml">​</mo><mn id="S4.SS1.p3.4.m4.1.1.3.3" xref="S4.SS1.p3.4.m4.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.4.m4.1b"><apply id="S4.SS1.p3.4.m4.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.4.m4.1.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1">subscript</csymbol><ci id="S4.SS1.p3.4.m4.1.1.2.cmml" xref="S4.SS1.p3.4.m4.1.1.2">𝐰</ci><apply id="S4.SS1.p3.4.m4.1.1.3.cmml" xref="S4.SS1.p3.4.m4.1.1.3"><times id="S4.SS1.p3.4.m4.1.1.3.1.cmml" xref="S4.SS1.p3.4.m4.1.1.3.1"></times><ci id="S4.SS1.p3.4.m4.1.1.3.2.cmml" xref="S4.SS1.p3.4.m4.1.1.3.2">𝑠</ci><cn type="integer" id="S4.SS1.p3.4.m4.1.1.3.3.cmml" xref="S4.SS1.p3.4.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.4.m4.1c">{\bf{w}}_{s1}</annotation></semantics></math>, are updated through the weighted aggregation of all updated local models’ parameters, i.e.,</p>
<table id="S4.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E4.m1.4" class="ltx_Math" alttext="{\bf{w}}_{s1}(k)=\sum\limits_{j=1}^{m}{\frac{{|{D_{j}}|{{\bf{w}}_{j}}(k)}}{D}}." display="block"><semantics id="S4.E4.m1.4a"><mrow id="S4.E4.m1.4.4.1" xref="S4.E4.m1.4.4.1.1.cmml"><mrow id="S4.E4.m1.4.4.1.1" xref="S4.E4.m1.4.4.1.1.cmml"><mrow id="S4.E4.m1.4.4.1.1.2" xref="S4.E4.m1.4.4.1.1.2.cmml"><msub id="S4.E4.m1.4.4.1.1.2.2" xref="S4.E4.m1.4.4.1.1.2.2.cmml"><mi id="S4.E4.m1.4.4.1.1.2.2.2" xref="S4.E4.m1.4.4.1.1.2.2.2.cmml">𝐰</mi><mrow id="S4.E4.m1.4.4.1.1.2.2.3" xref="S4.E4.m1.4.4.1.1.2.2.3.cmml"><mi id="S4.E4.m1.4.4.1.1.2.2.3.2" xref="S4.E4.m1.4.4.1.1.2.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.E4.m1.4.4.1.1.2.2.3.1" xref="S4.E4.m1.4.4.1.1.2.2.3.1.cmml">​</mo><mn id="S4.E4.m1.4.4.1.1.2.2.3.3" xref="S4.E4.m1.4.4.1.1.2.2.3.3.cmml">1</mn></mrow></msub><mo lspace="0em" rspace="0em" id="S4.E4.m1.4.4.1.1.2.1" xref="S4.E4.m1.4.4.1.1.2.1.cmml">​</mo><mrow id="S4.E4.m1.4.4.1.1.2.3.2" xref="S4.E4.m1.4.4.1.1.2.cmml"><mo stretchy="false" id="S4.E4.m1.4.4.1.1.2.3.2.1" xref="S4.E4.m1.4.4.1.1.2.cmml">(</mo><mi id="S4.E4.m1.3.3" xref="S4.E4.m1.3.3.cmml">k</mi><mo stretchy="false" id="S4.E4.m1.4.4.1.1.2.3.2.2" xref="S4.E4.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S4.E4.m1.4.4.1.1.1" xref="S4.E4.m1.4.4.1.1.1.cmml">=</mo><mrow id="S4.E4.m1.4.4.1.1.3" xref="S4.E4.m1.4.4.1.1.3.cmml"><munderover id="S4.E4.m1.4.4.1.1.3.1" xref="S4.E4.m1.4.4.1.1.3.1.cmml"><mo movablelimits="false" id="S4.E4.m1.4.4.1.1.3.1.2.2" xref="S4.E4.m1.4.4.1.1.3.1.2.2.cmml">∑</mo><mrow id="S4.E4.m1.4.4.1.1.3.1.2.3" xref="S4.E4.m1.4.4.1.1.3.1.2.3.cmml"><mi id="S4.E4.m1.4.4.1.1.3.1.2.3.2" xref="S4.E4.m1.4.4.1.1.3.1.2.3.2.cmml">j</mi><mo id="S4.E4.m1.4.4.1.1.3.1.2.3.1" xref="S4.E4.m1.4.4.1.1.3.1.2.3.1.cmml">=</mo><mn id="S4.E4.m1.4.4.1.1.3.1.2.3.3" xref="S4.E4.m1.4.4.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S4.E4.m1.4.4.1.1.3.1.3" xref="S4.E4.m1.4.4.1.1.3.1.3.cmml">m</mi></munderover><mfrac id="S4.E4.m1.2.2" xref="S4.E4.m1.2.2.cmml"><mrow id="S4.E4.m1.2.2.2" xref="S4.E4.m1.2.2.2.cmml"><mrow id="S4.E4.m1.2.2.2.2.1" xref="S4.E4.m1.2.2.2.2.2.cmml"><mo stretchy="false" id="S4.E4.m1.2.2.2.2.1.2" xref="S4.E4.m1.2.2.2.2.2.1.cmml">|</mo><msub id="S4.E4.m1.2.2.2.2.1.1" xref="S4.E4.m1.2.2.2.2.1.1.cmml"><mi id="S4.E4.m1.2.2.2.2.1.1.2" xref="S4.E4.m1.2.2.2.2.1.1.2.cmml">D</mi><mi id="S4.E4.m1.2.2.2.2.1.1.3" xref="S4.E4.m1.2.2.2.2.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S4.E4.m1.2.2.2.2.1.3" xref="S4.E4.m1.2.2.2.2.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S4.E4.m1.2.2.2.3" xref="S4.E4.m1.2.2.2.3.cmml">​</mo><msub id="S4.E4.m1.2.2.2.4" xref="S4.E4.m1.2.2.2.4.cmml"><mi id="S4.E4.m1.2.2.2.4.2" xref="S4.E4.m1.2.2.2.4.2.cmml">𝐰</mi><mi id="S4.E4.m1.2.2.2.4.3" xref="S4.E4.m1.2.2.2.4.3.cmml">j</mi></msub><mo lspace="0em" rspace="0em" id="S4.E4.m1.2.2.2.3a" xref="S4.E4.m1.2.2.2.3.cmml">​</mo><mrow id="S4.E4.m1.2.2.2.5.2" xref="S4.E4.m1.2.2.2.cmml"><mo stretchy="false" id="S4.E4.m1.2.2.2.5.2.1" xref="S4.E4.m1.2.2.2.cmml">(</mo><mi id="S4.E4.m1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.cmml">k</mi><mo stretchy="false" id="S4.E4.m1.2.2.2.5.2.2" xref="S4.E4.m1.2.2.2.cmml">)</mo></mrow></mrow><mi id="S4.E4.m1.2.2.4" xref="S4.E4.m1.2.2.4.cmml">D</mi></mfrac></mrow></mrow><mo lspace="0em" id="S4.E4.m1.4.4.1.2" xref="S4.E4.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.4b"><apply id="S4.E4.m1.4.4.1.1.cmml" xref="S4.E4.m1.4.4.1"><eq id="S4.E4.m1.4.4.1.1.1.cmml" xref="S4.E4.m1.4.4.1.1.1"></eq><apply id="S4.E4.m1.4.4.1.1.2.cmml" xref="S4.E4.m1.4.4.1.1.2"><times id="S4.E4.m1.4.4.1.1.2.1.cmml" xref="S4.E4.m1.4.4.1.1.2.1"></times><apply id="S4.E4.m1.4.4.1.1.2.2.cmml" xref="S4.E4.m1.4.4.1.1.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.4.4.1.1.2.2.1.cmml" xref="S4.E4.m1.4.4.1.1.2.2">subscript</csymbol><ci id="S4.E4.m1.4.4.1.1.2.2.2.cmml" xref="S4.E4.m1.4.4.1.1.2.2.2">𝐰</ci><apply id="S4.E4.m1.4.4.1.1.2.2.3.cmml" xref="S4.E4.m1.4.4.1.1.2.2.3"><times id="S4.E4.m1.4.4.1.1.2.2.3.1.cmml" xref="S4.E4.m1.4.4.1.1.2.2.3.1"></times><ci id="S4.E4.m1.4.4.1.1.2.2.3.2.cmml" xref="S4.E4.m1.4.4.1.1.2.2.3.2">𝑠</ci><cn type="integer" id="S4.E4.m1.4.4.1.1.2.2.3.3.cmml" xref="S4.E4.m1.4.4.1.1.2.2.3.3">1</cn></apply></apply><ci id="S4.E4.m1.3.3.cmml" xref="S4.E4.m1.3.3">𝑘</ci></apply><apply id="S4.E4.m1.4.4.1.1.3.cmml" xref="S4.E4.m1.4.4.1.1.3"><apply id="S4.E4.m1.4.4.1.1.3.1.cmml" xref="S4.E4.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="S4.E4.m1.4.4.1.1.3.1.1.cmml" xref="S4.E4.m1.4.4.1.1.3.1">superscript</csymbol><apply id="S4.E4.m1.4.4.1.1.3.1.2.cmml" xref="S4.E4.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="S4.E4.m1.4.4.1.1.3.1.2.1.cmml" xref="S4.E4.m1.4.4.1.1.3.1">subscript</csymbol><sum id="S4.E4.m1.4.4.1.1.3.1.2.2.cmml" xref="S4.E4.m1.4.4.1.1.3.1.2.2"></sum><apply id="S4.E4.m1.4.4.1.1.3.1.2.3.cmml" xref="S4.E4.m1.4.4.1.1.3.1.2.3"><eq id="S4.E4.m1.4.4.1.1.3.1.2.3.1.cmml" xref="S4.E4.m1.4.4.1.1.3.1.2.3.1"></eq><ci id="S4.E4.m1.4.4.1.1.3.1.2.3.2.cmml" xref="S4.E4.m1.4.4.1.1.3.1.2.3.2">𝑗</ci><cn type="integer" id="S4.E4.m1.4.4.1.1.3.1.2.3.3.cmml" xref="S4.E4.m1.4.4.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S4.E4.m1.4.4.1.1.3.1.3.cmml" xref="S4.E4.m1.4.4.1.1.3.1.3">𝑚</ci></apply><apply id="S4.E4.m1.2.2.cmml" xref="S4.E4.m1.2.2"><divide id="S4.E4.m1.2.2.3.cmml" xref="S4.E4.m1.2.2"></divide><apply id="S4.E4.m1.2.2.2.cmml" xref="S4.E4.m1.2.2.2"><times id="S4.E4.m1.2.2.2.3.cmml" xref="S4.E4.m1.2.2.2.3"></times><apply id="S4.E4.m1.2.2.2.2.2.cmml" xref="S4.E4.m1.2.2.2.2.1"><abs id="S4.E4.m1.2.2.2.2.2.1.cmml" xref="S4.E4.m1.2.2.2.2.1.2"></abs><apply id="S4.E4.m1.2.2.2.2.1.1.cmml" xref="S4.E4.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.2.2.2.2.1.1.1.cmml" xref="S4.E4.m1.2.2.2.2.1.1">subscript</csymbol><ci id="S4.E4.m1.2.2.2.2.1.1.2.cmml" xref="S4.E4.m1.2.2.2.2.1.1.2">𝐷</ci><ci id="S4.E4.m1.2.2.2.2.1.1.3.cmml" xref="S4.E4.m1.2.2.2.2.1.1.3">𝑗</ci></apply></apply><apply id="S4.E4.m1.2.2.2.4.cmml" xref="S4.E4.m1.2.2.2.4"><csymbol cd="ambiguous" id="S4.E4.m1.2.2.2.4.1.cmml" xref="S4.E4.m1.2.2.2.4">subscript</csymbol><ci id="S4.E4.m1.2.2.2.4.2.cmml" xref="S4.E4.m1.2.2.2.4.2">𝐰</ci><ci id="S4.E4.m1.2.2.2.4.3.cmml" xref="S4.E4.m1.2.2.2.4.3">𝑗</ci></apply><ci id="S4.E4.m1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1">𝑘</ci></apply><ci id="S4.E4.m1.2.2.4.cmml" xref="S4.E4.m1.2.2.4">𝐷</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.4c">{\bf{w}}_{s1}(k)=\sum\limits_{j=1}^{m}{\frac{{|{D_{j}}|{{\bf{w}}_{j}}(k)}}{D}}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span><span id="S4.SS2.1.1" class="ltx_text ltx_font_italic">FL Process</span>
</h3>

<figure id="S4.F3" class="ltx_figure"><img src="/html/2104.13130/assets/x4.png" id="S4.F3.g1" class="ltx_graphics ltx_centering ltx_img_square" width="221" height="230" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Overview of the FL process in ChainFL.</figcaption>
</figure>
<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">To complete the FL task in a decentralized manner, we define the operation process and design a set of interaction rules to orchestrate the IoT devices and edge nodes in ChainFL, as shown in Fig. <a href="#S4.F3" title="Figure 3 ‣ 4.2 FL Process ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.
It is important to highlight that ChainFL incorporates two distinct types of transactions: <em id="S4.SS2.p1.1.1" class="ltx_emph ltx_font_italic">subchain transactions</em> and <em id="S4.SS2.p1.1.2" class="ltx_emph ltx_font_italic">mainchain transactions</em>.
The former is created by IoT devices and SLNs and spreads within a specific shard, while the latter is created by SLNs and spreads in the mainchain network.
Further details about this procedure are given as follows.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p"><span id="S4.SS2.p2.1.1" class="ltx_text ltx_font_bold">Phase 1: Task Publication.</span>
To initiate an FL task, the task requester signs a smart contract that contains all the requirements of the task, such as the structure and parameters of the initial model, shard training configurations, and completion conditions.
The smart contract then generates the task request transaction (denoted as <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="g_{0}" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><msub id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mi id="S4.SS2.p2.1.m1.1.1.2" xref="S4.SS2.p2.1.m1.1.1.2.cmml">g</mi><mn id="S4.SS2.p2.1.m1.1.1.3" xref="S4.SS2.p2.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p2.1.m1.1.1.2.cmml" xref="S4.SS2.p2.1.m1.1.1.2">𝑔</ci><cn type="integer" id="S4.SS2.p2.1.m1.1.1.3.cmml" xref="S4.SS2.p2.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">g_{0}</annotation></semantics></math>) on the mainchain, which encapsulates the task requirements and a test dataset provided by the task requester.
Meanwhile, the smart contract triggers the corresponding shard network(s) to start the training task.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.2" class="ltx_p"><span id="S4.SS2.p3.2.1" class="ltx_text ltx_font_bold">Phase 2: Shard Training.</span>
SLNs in activated shard networks retrieve <math id="S4.SS2.p3.1.m1.1" class="ltx_Math" alttext="g_{0}" display="inline"><semantics id="S4.SS2.p3.1.m1.1a"><msub id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml"><mi id="S4.SS2.p3.1.m1.1.1.2" xref="S4.SS2.p3.1.m1.1.1.2.cmml">g</mi><mn id="S4.SS2.p3.1.m1.1.1.3" xref="S4.SS2.p3.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><apply id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.1.m1.1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p3.1.m1.1.1.2.cmml" xref="S4.SS2.p3.1.m1.1.1.2">𝑔</ci><cn type="integer" id="S4.SS2.p3.1.m1.1.1.3.cmml" xref="S4.SS2.p3.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">g_{0}</annotation></semantics></math>, and the task information extracted from <math id="S4.SS2.p3.2.m2.1" class="ltx_Math" alttext="g_{0}" display="inline"><semantics id="S4.SS2.p3.2.m2.1a"><msub id="S4.SS2.p3.2.m2.1.1" xref="S4.SS2.p3.2.m2.1.1.cmml"><mi id="S4.SS2.p3.2.m2.1.1.2" xref="S4.SS2.p3.2.m2.1.1.2.cmml">g</mi><mn id="S4.SS2.p3.2.m2.1.1.3" xref="S4.SS2.p3.2.m2.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m2.1b"><apply id="S4.SS2.p3.2.m2.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.2.m2.1.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.p3.2.m2.1.1.2.cmml" xref="S4.SS2.p3.2.m2.1.1.2">𝑔</ci><cn type="integer" id="S4.SS2.p3.2.m2.1.1.3.cmml" xref="S4.SS2.p3.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m2.1c">g_{0}</annotation></semantics></math> is encapsulated into a subchain transaction.
This transaction is then recorded in the distributed ledger of each shard to initiate the training process.
The details of Phase 2 are described as follows:</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.11.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> <span id="alg1.12.2" class="ltx_text ltx_font_bold">ShardTrainingIteration</span>. <math id="alg1.5.m1.1" class="ltx_Math" alttext="\mathbf{w}_{bim}" display="inline"><semantics id="alg1.5.m1.1b"><msub id="alg1.5.m1.1.1" xref="alg1.5.m1.1.1.cmml"><mi id="alg1.5.m1.1.1.2" xref="alg1.5.m1.1.1.2.cmml">𝐰</mi><mrow id="alg1.5.m1.1.1.3" xref="alg1.5.m1.1.1.3.cmml"><mi id="alg1.5.m1.1.1.3.2" xref="alg1.5.m1.1.1.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.5.m1.1.1.3.1" xref="alg1.5.m1.1.1.3.1.cmml">​</mo><mi id="alg1.5.m1.1.1.3.3" xref="alg1.5.m1.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.5.m1.1.1.3.1b" xref="alg1.5.m1.1.1.3.1.cmml">​</mo><mi id="alg1.5.m1.1.1.3.4" xref="alg1.5.m1.1.1.3.4.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.5.m1.1c"><apply id="alg1.5.m1.1.1.cmml" xref="alg1.5.m1.1.1"><csymbol cd="ambiguous" id="alg1.5.m1.1.1.1.cmml" xref="alg1.5.m1.1.1">subscript</csymbol><ci id="alg1.5.m1.1.1.2.cmml" xref="alg1.5.m1.1.1.2">𝐰</ci><apply id="alg1.5.m1.1.1.3.cmml" xref="alg1.5.m1.1.1.3"><times id="alg1.5.m1.1.1.3.1.cmml" xref="alg1.5.m1.1.1.3.1"></times><ci id="alg1.5.m1.1.1.3.2.cmml" xref="alg1.5.m1.1.1.3.2">𝑏</ci><ci id="alg1.5.m1.1.1.3.3.cmml" xref="alg1.5.m1.1.1.3.3">𝑖</ci><ci id="alg1.5.m1.1.1.3.4.cmml" xref="alg1.5.m1.1.1.3.4">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.m1.1d">\mathbf{w}_{bim}</annotation></semantics></math>: basic iteration model, <math id="alg1.6.m2.1" class="ltx_Math" alttext="\mathbf{w}_{brm}" display="inline"><semantics id="alg1.6.m2.1b"><msub id="alg1.6.m2.1.1" xref="alg1.6.m2.1.1.cmml"><mi id="alg1.6.m2.1.1.2" xref="alg1.6.m2.1.1.2.cmml">𝐰</mi><mrow id="alg1.6.m2.1.1.3" xref="alg1.6.m2.1.1.3.cmml"><mi id="alg1.6.m2.1.1.3.2" xref="alg1.6.m2.1.1.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.6.m2.1.1.3.1" xref="alg1.6.m2.1.1.3.1.cmml">​</mo><mi id="alg1.6.m2.1.1.3.3" xref="alg1.6.m2.1.1.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.6.m2.1.1.3.1b" xref="alg1.6.m2.1.1.3.1.cmml">​</mo><mi id="alg1.6.m2.1.1.3.4" xref="alg1.6.m2.1.1.3.4.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.6.m2.1c"><apply id="alg1.6.m2.1.1.cmml" xref="alg1.6.m2.1.1"><csymbol cd="ambiguous" id="alg1.6.m2.1.1.1.cmml" xref="alg1.6.m2.1.1">subscript</csymbol><ci id="alg1.6.m2.1.1.2.cmml" xref="alg1.6.m2.1.1.2">𝐰</ci><apply id="alg1.6.m2.1.1.3.cmml" xref="alg1.6.m2.1.1.3"><times id="alg1.6.m2.1.1.3.1.cmml" xref="alg1.6.m2.1.1.3.1"></times><ci id="alg1.6.m2.1.1.3.2.cmml" xref="alg1.6.m2.1.1.3.2">𝑏</ci><ci id="alg1.6.m2.1.1.3.3.cmml" xref="alg1.6.m2.1.1.3.3">𝑟</ci><ci id="alg1.6.m2.1.1.3.4.cmml" xref="alg1.6.m2.1.1.3.4">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.m2.1d">\mathbf{w}_{brm}</annotation></semantics></math>: basic round model, <math id="alg1.7.m3.1" class="ltx_Math" alttext="\mathbf{w}_{s}" display="inline"><semantics id="alg1.7.m3.1b"><msub id="alg1.7.m3.1.1" xref="alg1.7.m3.1.1.cmml"><mi id="alg1.7.m3.1.1.2" xref="alg1.7.m3.1.1.2.cmml">𝐰</mi><mi id="alg1.7.m3.1.1.3" xref="alg1.7.m3.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.7.m3.1c"><apply id="alg1.7.m3.1.1.cmml" xref="alg1.7.m3.1.1"><csymbol cd="ambiguous" id="alg1.7.m3.1.1.1.cmml" xref="alg1.7.m3.1.1">subscript</csymbol><ci id="alg1.7.m3.1.1.2.cmml" xref="alg1.7.m3.1.1.2">𝐰</ci><ci id="alg1.7.m3.1.1.3.cmml" xref="alg1.7.m3.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.m3.1d">\mathbf{w}_{s}</annotation></semantics></math>: shard model, <math id="alg1.8.m4.1" class="ltx_Math" alttext="R" display="inline"><semantics id="alg1.8.m4.1b"><mi id="alg1.8.m4.1.1" xref="alg1.8.m4.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="alg1.8.m4.1c"><ci id="alg1.8.m4.1.1.cmml" xref="alg1.8.m4.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.m4.1d">R</annotation></semantics></math>: the number of training round in each iteration.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg1.13" class="ltx_listing ltx_figure_panel ltx_listing">
<div id="alg1.l0" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l0.1.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>   <span id="alg1.l0.2" class="ltx_text ltx_font_bold">Each triggered SLN executes:</span>

</div>
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>  obtain <math id="alg1.l1.m1.1" class="ltx_Math" alttext="\mathbf{w}_{bim}" display="inline"><semantics id="alg1.l1.m1.1a"><msub id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mi id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml">𝐰</mi><mrow id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml"><mi id="alg1.l1.m1.1.1.3.2" xref="alg1.l1.m1.1.1.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.3.1" xref="alg1.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.3.3" xref="alg1.l1.m1.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.3.1a" xref="alg1.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.3.4" xref="alg1.l1.m1.1.1.3.4.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1">subscript</csymbol><ci id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2">𝐰</ci><apply id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3"><times id="alg1.l1.m1.1.1.3.1.cmml" xref="alg1.l1.m1.1.1.3.1"></times><ci id="alg1.l1.m1.1.1.3.2.cmml" xref="alg1.l1.m1.1.1.3.2">𝑏</ci><ci id="alg1.l1.m1.1.1.3.3.cmml" xref="alg1.l1.m1.1.1.3.3">𝑖</ci><ci id="alg1.l1.m1.1.1.3.4.cmml" xref="alg1.l1.m1.1.1.3.4">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">\mathbf{w}_{bim}</annotation></semantics></math> from mainchain for the current shard training iteration

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>  <math id="alg1.l2.m1.1" class="ltx_Math" alttext="\mathbf{w}_{brm}=\mathbf{w}_{bim}" display="inline"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><msub id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml"><mi id="alg1.l2.m1.1.1.2.2" xref="alg1.l2.m1.1.1.2.2.cmml">𝐰</mi><mrow id="alg1.l2.m1.1.1.2.3" xref="alg1.l2.m1.1.1.2.3.cmml"><mi id="alg1.l2.m1.1.1.2.3.2" xref="alg1.l2.m1.1.1.2.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.2.3.1" xref="alg1.l2.m1.1.1.2.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.2.3.3" xref="alg1.l2.m1.1.1.2.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.2.3.1a" xref="alg1.l2.m1.1.1.2.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.2.3.4" xref="alg1.l2.m1.1.1.2.3.4.cmml">m</mi></mrow></msub><mo id="alg1.l2.m1.1.1.1" xref="alg1.l2.m1.1.1.1.cmml">=</mo><msub id="alg1.l2.m1.1.1.3" xref="alg1.l2.m1.1.1.3.cmml"><mi id="alg1.l2.m1.1.1.3.2" xref="alg1.l2.m1.1.1.3.2.cmml">𝐰</mi><mrow id="alg1.l2.m1.1.1.3.3" xref="alg1.l2.m1.1.1.3.3.cmml"><mi id="alg1.l2.m1.1.1.3.3.2" xref="alg1.l2.m1.1.1.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.3.3.1" xref="alg1.l2.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.3.3.3" xref="alg1.l2.m1.1.1.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.3.3.1a" xref="alg1.l2.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.3.3.4" xref="alg1.l2.m1.1.1.3.3.4.cmml">m</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><eq id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1"></eq><apply id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.2.1.cmml" xref="alg1.l2.m1.1.1.2">subscript</csymbol><ci id="alg1.l2.m1.1.1.2.2.cmml" xref="alg1.l2.m1.1.1.2.2">𝐰</ci><apply id="alg1.l2.m1.1.1.2.3.cmml" xref="alg1.l2.m1.1.1.2.3"><times id="alg1.l2.m1.1.1.2.3.1.cmml" xref="alg1.l2.m1.1.1.2.3.1"></times><ci id="alg1.l2.m1.1.1.2.3.2.cmml" xref="alg1.l2.m1.1.1.2.3.2">𝑏</ci><ci id="alg1.l2.m1.1.1.2.3.3.cmml" xref="alg1.l2.m1.1.1.2.3.3">𝑟</ci><ci id="alg1.l2.m1.1.1.2.3.4.cmml" xref="alg1.l2.m1.1.1.2.3.4">𝑚</ci></apply></apply><apply id="alg1.l2.m1.1.1.3.cmml" xref="alg1.l2.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.3.1.cmml" xref="alg1.l2.m1.1.1.3">subscript</csymbol><ci id="alg1.l2.m1.1.1.3.2.cmml" xref="alg1.l2.m1.1.1.3.2">𝐰</ci><apply id="alg1.l2.m1.1.1.3.3.cmml" xref="alg1.l2.m1.1.1.3.3"><times id="alg1.l2.m1.1.1.3.3.1.cmml" xref="alg1.l2.m1.1.1.3.3.1"></times><ci id="alg1.l2.m1.1.1.3.3.2.cmml" xref="alg1.l2.m1.1.1.3.3.2">𝑏</ci><ci id="alg1.l2.m1.1.1.3.3.3.cmml" xref="alg1.l2.m1.1.1.3.3.3">𝑖</ci><ci id="alg1.l2.m1.1.1.3.3.4.cmml" xref="alg1.l2.m1.1.1.3.3.4">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">\mathbf{w}_{brm}=\mathbf{w}_{bim}</annotation></semantics></math>, <math id="alg1.l2.m2.1" class="ltx_Math" alttext="\mathbf{w}_{s}=\mathbf{w}_{bim}" display="inline"><semantics id="alg1.l2.m2.1a"><mrow id="alg1.l2.m2.1.1" xref="alg1.l2.m2.1.1.cmml"><msub id="alg1.l2.m2.1.1.2" xref="alg1.l2.m2.1.1.2.cmml"><mi id="alg1.l2.m2.1.1.2.2" xref="alg1.l2.m2.1.1.2.2.cmml">𝐰</mi><mi id="alg1.l2.m2.1.1.2.3" xref="alg1.l2.m2.1.1.2.3.cmml">s</mi></msub><mo id="alg1.l2.m2.1.1.1" xref="alg1.l2.m2.1.1.1.cmml">=</mo><msub id="alg1.l2.m2.1.1.3" xref="alg1.l2.m2.1.1.3.cmml"><mi id="alg1.l2.m2.1.1.3.2" xref="alg1.l2.m2.1.1.3.2.cmml">𝐰</mi><mrow id="alg1.l2.m2.1.1.3.3" xref="alg1.l2.m2.1.1.3.3.cmml"><mi id="alg1.l2.m2.1.1.3.3.2" xref="alg1.l2.m2.1.1.3.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m2.1.1.3.3.1" xref="alg1.l2.m2.1.1.3.3.1.cmml">​</mo><mi id="alg1.l2.m2.1.1.3.3.3" xref="alg1.l2.m2.1.1.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m2.1.1.3.3.1a" xref="alg1.l2.m2.1.1.3.3.1.cmml">​</mo><mi id="alg1.l2.m2.1.1.3.3.4" xref="alg1.l2.m2.1.1.3.3.4.cmml">m</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m2.1b"><apply id="alg1.l2.m2.1.1.cmml" xref="alg1.l2.m2.1.1"><eq id="alg1.l2.m2.1.1.1.cmml" xref="alg1.l2.m2.1.1.1"></eq><apply id="alg1.l2.m2.1.1.2.cmml" xref="alg1.l2.m2.1.1.2"><csymbol cd="ambiguous" id="alg1.l2.m2.1.1.2.1.cmml" xref="alg1.l2.m2.1.1.2">subscript</csymbol><ci id="alg1.l2.m2.1.1.2.2.cmml" xref="alg1.l2.m2.1.1.2.2">𝐰</ci><ci id="alg1.l2.m2.1.1.2.3.cmml" xref="alg1.l2.m2.1.1.2.3">𝑠</ci></apply><apply id="alg1.l2.m2.1.1.3.cmml" xref="alg1.l2.m2.1.1.3"><csymbol cd="ambiguous" id="alg1.l2.m2.1.1.3.1.cmml" xref="alg1.l2.m2.1.1.3">subscript</csymbol><ci id="alg1.l2.m2.1.1.3.2.cmml" xref="alg1.l2.m2.1.1.3.2">𝐰</ci><apply id="alg1.l2.m2.1.1.3.3.cmml" xref="alg1.l2.m2.1.1.3.3"><times id="alg1.l2.m2.1.1.3.3.1.cmml" xref="alg1.l2.m2.1.1.3.3.1"></times><ci id="alg1.l2.m2.1.1.3.3.2.cmml" xref="alg1.l2.m2.1.1.3.3.2">𝑏</ci><ci id="alg1.l2.m2.1.1.3.3.3.cmml" xref="alg1.l2.m2.1.1.3.3.3">𝑖</ci><ci id="alg1.l2.m2.1.1.3.3.4.cmml" xref="alg1.l2.m2.1.1.3.3.4">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m2.1c">\mathbf{w}_{s}=\mathbf{w}_{bim}</annotation></semantics></math>, <math id="alg1.l2.m3.1" class="ltx_Math" alttext="r=0" display="inline"><semantics id="alg1.l2.m3.1a"><mrow id="alg1.l2.m3.1.1" xref="alg1.l2.m3.1.1.cmml"><mi id="alg1.l2.m3.1.1.2" xref="alg1.l2.m3.1.1.2.cmml">r</mi><mo id="alg1.l2.m3.1.1.1" xref="alg1.l2.m3.1.1.1.cmml">=</mo><mn id="alg1.l2.m3.1.1.3" xref="alg1.l2.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m3.1b"><apply id="alg1.l2.m3.1.1.cmml" xref="alg1.l2.m3.1.1"><eq id="alg1.l2.m3.1.1.1.cmml" xref="alg1.l2.m3.1.1.1"></eq><ci id="alg1.l2.m3.1.1.2.cmml" xref="alg1.l2.m3.1.1.2">𝑟</ci><cn type="integer" id="alg1.l2.m3.1.1.3.cmml" xref="alg1.l2.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m3.1c">r=0</annotation></semantics></math>

</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>  <span id="alg1.l3.2" class="ltx_text ltx_font_bold">while</span> <math id="alg1.l3.m1.1" class="ltx_Math" alttext="r&lt;R" display="inline"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mi id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">r</mi><mo id="alg1.l3.m1.1.1.1" xref="alg1.l3.m1.1.1.1.cmml">&lt;</mo><mi id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><lt id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1"></lt><ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">𝑟</ci><ci id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">r&lt;R</annotation></semantics></math> <span id="alg1.l3.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>     encapsulate <math id="alg1.l4.m1.1" class="ltx_Math" alttext="\mathbf{w}_{brm}" display="inline"><semantics id="alg1.l4.m1.1a"><msub id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mi id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">𝐰</mi><mrow id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml"><mi id="alg1.l4.m1.1.1.3.2" xref="alg1.l4.m1.1.1.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.1" xref="alg1.l4.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l4.m1.1.1.3.3" xref="alg1.l4.m1.1.1.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.3.1a" xref="alg1.l4.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l4.m1.1.1.3.4" xref="alg1.l4.m1.1.1.3.4.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1">subscript</csymbol><ci id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2">𝐰</ci><apply id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3"><times id="alg1.l4.m1.1.1.3.1.cmml" xref="alg1.l4.m1.1.1.3.1"></times><ci id="alg1.l4.m1.1.1.3.2.cmml" xref="alg1.l4.m1.1.1.3.2">𝑏</ci><ci id="alg1.l4.m1.1.1.3.3.cmml" xref="alg1.l4.m1.1.1.3.3">𝑟</ci><ci id="alg1.l4.m1.1.1.3.4.cmml" xref="alg1.l4.m1.1.1.3.4">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">\mathbf{w}_{brm}</annotation></semantics></math> and publish to the subchain

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>     select and trigger devices

</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>     receive valid local models <span id="alg1.l6.2" class="ltx_text ltx_font_sansserif ltx_font_slanted"> // waiting devices update</span>

</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>     <math id="alg1.l7.m1.1" class="ltx_Math" alttext="\mathbf{w}_{s}\leftarrow" display="inline"><semantics id="alg1.l7.m1.1a"><mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><msub id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml"><mi id="alg1.l7.m1.1.1.2.2" xref="alg1.l7.m1.1.1.2.2.cmml">𝐰</mi><mi id="alg1.l7.m1.1.1.2.3" xref="alg1.l7.m1.1.1.2.3.cmml">s</mi></msub><mo stretchy="false" id="alg1.l7.m1.1.1.1" xref="alg1.l7.m1.1.1.1.cmml">←</mo><mi id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><ci id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1">←</ci><apply id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.2.1.cmml" xref="alg1.l7.m1.1.1.2">subscript</csymbol><ci id="alg1.l7.m1.1.1.2.2.cmml" xref="alg1.l7.m1.1.1.2.2">𝐰</ci><ci id="alg1.l7.m1.1.1.2.3.cmml" xref="alg1.l7.m1.1.1.2.3">𝑠</ci></apply><csymbol cd="latexml" id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">\mathbf{w}_{s}\leftarrow</annotation></semantics></math> aggregate local models according to (<a href="#S4.E4" title="In 4.1 FL Algorithm ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>)

</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>     <math id="alg1.l8.m1.1" class="ltx_Math" alttext="\mathbf{w}_{brm}=\mathbf{w}_{s}" display="inline"><semantics id="alg1.l8.m1.1a"><mrow id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><msub id="alg1.l8.m1.1.1.2" xref="alg1.l8.m1.1.1.2.cmml"><mi id="alg1.l8.m1.1.1.2.2" xref="alg1.l8.m1.1.1.2.2.cmml">𝐰</mi><mrow id="alg1.l8.m1.1.1.2.3" xref="alg1.l8.m1.1.1.2.3.cmml"><mi id="alg1.l8.m1.1.1.2.3.2" xref="alg1.l8.m1.1.1.2.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.1.1.2.3.1" xref="alg1.l8.m1.1.1.2.3.1.cmml">​</mo><mi id="alg1.l8.m1.1.1.2.3.3" xref="alg1.l8.m1.1.1.2.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.1.1.2.3.1a" xref="alg1.l8.m1.1.1.2.3.1.cmml">​</mo><mi id="alg1.l8.m1.1.1.2.3.4" xref="alg1.l8.m1.1.1.2.3.4.cmml">m</mi></mrow></msub><mo id="alg1.l8.m1.1.1.1" xref="alg1.l8.m1.1.1.1.cmml">=</mo><msub id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml"><mi id="alg1.l8.m1.1.1.3.2" xref="alg1.l8.m1.1.1.3.2.cmml">𝐰</mi><mi id="alg1.l8.m1.1.1.3.3" xref="alg1.l8.m1.1.1.3.3.cmml">s</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><eq id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1"></eq><apply id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.2.1.cmml" xref="alg1.l8.m1.1.1.2">subscript</csymbol><ci id="alg1.l8.m1.1.1.2.2.cmml" xref="alg1.l8.m1.1.1.2.2">𝐰</ci><apply id="alg1.l8.m1.1.1.2.3.cmml" xref="alg1.l8.m1.1.1.2.3"><times id="alg1.l8.m1.1.1.2.3.1.cmml" xref="alg1.l8.m1.1.1.2.3.1"></times><ci id="alg1.l8.m1.1.1.2.3.2.cmml" xref="alg1.l8.m1.1.1.2.3.2">𝑏</ci><ci id="alg1.l8.m1.1.1.2.3.3.cmml" xref="alg1.l8.m1.1.1.2.3.3">𝑟</ci><ci id="alg1.l8.m1.1.1.2.3.4.cmml" xref="alg1.l8.m1.1.1.2.3.4">𝑚</ci></apply></apply><apply id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.3.1.cmml" xref="alg1.l8.m1.1.1.3">subscript</csymbol><ci id="alg1.l8.m1.1.1.3.2.cmml" xref="alg1.l8.m1.1.1.3.2">𝐰</ci><ci id="alg1.l8.m1.1.1.3.3.cmml" xref="alg1.l8.m1.1.1.3.3">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">\mathbf{w}_{brm}=\mathbf{w}_{s}</annotation></semantics></math>, <math id="alg1.l8.m2.1" class="ltx_Math" alttext="r=r+1" display="inline"><semantics id="alg1.l8.m2.1a"><mrow id="alg1.l8.m2.1.1" xref="alg1.l8.m2.1.1.cmml"><mi id="alg1.l8.m2.1.1.2" xref="alg1.l8.m2.1.1.2.cmml">r</mi><mo id="alg1.l8.m2.1.1.1" xref="alg1.l8.m2.1.1.1.cmml">=</mo><mrow id="alg1.l8.m2.1.1.3" xref="alg1.l8.m2.1.1.3.cmml"><mi id="alg1.l8.m2.1.1.3.2" xref="alg1.l8.m2.1.1.3.2.cmml">r</mi><mo id="alg1.l8.m2.1.1.3.1" xref="alg1.l8.m2.1.1.3.1.cmml">+</mo><mn id="alg1.l8.m2.1.1.3.3" xref="alg1.l8.m2.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m2.1b"><apply id="alg1.l8.m2.1.1.cmml" xref="alg1.l8.m2.1.1"><eq id="alg1.l8.m2.1.1.1.cmml" xref="alg1.l8.m2.1.1.1"></eq><ci id="alg1.l8.m2.1.1.2.cmml" xref="alg1.l8.m2.1.1.2">𝑟</ci><apply id="alg1.l8.m2.1.1.3.cmml" xref="alg1.l8.m2.1.1.3"><plus id="alg1.l8.m2.1.1.3.1.cmml" xref="alg1.l8.m2.1.1.3.1"></plus><ci id="alg1.l8.m2.1.1.3.2.cmml" xref="alg1.l8.m2.1.1.3.2">𝑟</ci><cn type="integer" id="alg1.l8.m2.1.1.3.3.cmml" xref="alg1.l8.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m2.1c">r=r+1</annotation></semantics></math>

</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>  <span id="alg1.l9.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l9.3" class="ltx_text ltx_font_bold">while</span>
</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>  return <math id="alg1.l10.m1.1" class="ltx_Math" alttext="\mathbf{w}_{s}" display="inline"><semantics id="alg1.l10.m1.1a"><msub id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml"><mi id="alg1.l10.m1.1.1.2" xref="alg1.l10.m1.1.1.2.cmml">𝐰</mi><mi id="alg1.l10.m1.1.1.3" xref="alg1.l10.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.1b"><apply id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.cmml" xref="alg1.l10.m1.1.1">subscript</csymbol><ci id="alg1.l10.m1.1.1.2.cmml" xref="alg1.l10.m1.1.1.2">𝐰</ci><ci id="alg1.l10.m1.1.1.3.cmml" xref="alg1.l10.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.1c">\mathbf{w}_{s}</annotation></semantics></math>

</div>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg1.14" class="ltx_listing ltx_figure_panel ltx_listing">
<div id="alg1.l0a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l0a.1.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>   <span id="alg1.l0a.2" class="ltx_text ltx_font_bold">Nodes in subchain execute:</span>

</div>
<div id="alg1.l1a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1a.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>  receive the transactions from devices

</div>
<div id="alg1.l2a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2a.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>  <span id="alg1.l2a.2" class="ltx_text ltx_font_bold">for</span> all received transactions <span id="alg1.l2a.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l3a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3a.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>     <math id="alg1.l3a.m1.1" class="ltx_Math" alttext="A_{new}\leftarrow" display="inline"><semantics id="alg1.l3a.m1.1a"><mrow id="alg1.l3a.m1.1.1" xref="alg1.l3a.m1.1.1.cmml"><msub id="alg1.l3a.m1.1.1.2" xref="alg1.l3a.m1.1.1.2.cmml"><mi id="alg1.l3a.m1.1.1.2.2" xref="alg1.l3a.m1.1.1.2.2.cmml">A</mi><mrow id="alg1.l3a.m1.1.1.2.3" xref="alg1.l3a.m1.1.1.2.3.cmml"><mi id="alg1.l3a.m1.1.1.2.3.2" xref="alg1.l3a.m1.1.1.2.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l3a.m1.1.1.2.3.1" xref="alg1.l3a.m1.1.1.2.3.1.cmml">​</mo><mi id="alg1.l3a.m1.1.1.2.3.3" xref="alg1.l3a.m1.1.1.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l3a.m1.1.1.2.3.1a" xref="alg1.l3a.m1.1.1.2.3.1.cmml">​</mo><mi id="alg1.l3a.m1.1.1.2.3.4" xref="alg1.l3a.m1.1.1.2.3.4.cmml">w</mi></mrow></msub><mo stretchy="false" id="alg1.l3a.m1.1.1.1" xref="alg1.l3a.m1.1.1.1.cmml">←</mo><mi id="alg1.l3a.m1.1.1.3" xref="alg1.l3a.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3a.m1.1b"><apply id="alg1.l3a.m1.1.1.cmml" xref="alg1.l3a.m1.1.1"><ci id="alg1.l3a.m1.1.1.1.cmml" xref="alg1.l3a.m1.1.1.1">←</ci><apply id="alg1.l3a.m1.1.1.2.cmml" xref="alg1.l3a.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l3a.m1.1.1.2.1.cmml" xref="alg1.l3a.m1.1.1.2">subscript</csymbol><ci id="alg1.l3a.m1.1.1.2.2.cmml" xref="alg1.l3a.m1.1.1.2.2">𝐴</ci><apply id="alg1.l3a.m1.1.1.2.3.cmml" xref="alg1.l3a.m1.1.1.2.3"><times id="alg1.l3a.m1.1.1.2.3.1.cmml" xref="alg1.l3a.m1.1.1.2.3.1"></times><ci id="alg1.l3a.m1.1.1.2.3.2.cmml" xref="alg1.l3a.m1.1.1.2.3.2">𝑛</ci><ci id="alg1.l3a.m1.1.1.2.3.3.cmml" xref="alg1.l3a.m1.1.1.2.3.3">𝑒</ci><ci id="alg1.l3a.m1.1.1.2.3.4.cmml" xref="alg1.l3a.m1.1.1.2.3.4">𝑤</ci></apply></apply><csymbol cd="latexml" id="alg1.l3a.m1.1.1.3.cmml" xref="alg1.l3a.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3a.m1.1c">A_{new}\leftarrow</annotation></semantics></math> validate the accuracy of the model stored in the transaction

</div>
<div id="alg1.l4a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4a.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>     <span id="alg1.l4a.2" class="ltx_text ltx_font_bold">if</span> <math id="alg1.l4a.m1.1" class="ltx_Math" alttext="A_{new}&gt;A_{\tau}" display="inline"><semantics id="alg1.l4a.m1.1a"><mrow id="alg1.l4a.m1.1.1" xref="alg1.l4a.m1.1.1.cmml"><msub id="alg1.l4a.m1.1.1.2" xref="alg1.l4a.m1.1.1.2.cmml"><mi id="alg1.l4a.m1.1.1.2.2" xref="alg1.l4a.m1.1.1.2.2.cmml">A</mi><mrow id="alg1.l4a.m1.1.1.2.3" xref="alg1.l4a.m1.1.1.2.3.cmml"><mi id="alg1.l4a.m1.1.1.2.3.2" xref="alg1.l4a.m1.1.1.2.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l4a.m1.1.1.2.3.1" xref="alg1.l4a.m1.1.1.2.3.1.cmml">​</mo><mi id="alg1.l4a.m1.1.1.2.3.3" xref="alg1.l4a.m1.1.1.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l4a.m1.1.1.2.3.1a" xref="alg1.l4a.m1.1.1.2.3.1.cmml">​</mo><mi id="alg1.l4a.m1.1.1.2.3.4" xref="alg1.l4a.m1.1.1.2.3.4.cmml">w</mi></mrow></msub><mo id="alg1.l4a.m1.1.1.1" xref="alg1.l4a.m1.1.1.1.cmml">&gt;</mo><msub id="alg1.l4a.m1.1.1.3" xref="alg1.l4a.m1.1.1.3.cmml"><mi id="alg1.l4a.m1.1.1.3.2" xref="alg1.l4a.m1.1.1.3.2.cmml">A</mi><mi id="alg1.l4a.m1.1.1.3.3" xref="alg1.l4a.m1.1.1.3.3.cmml">τ</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4a.m1.1b"><apply id="alg1.l4a.m1.1.1.cmml" xref="alg1.l4a.m1.1.1"><gt id="alg1.l4a.m1.1.1.1.cmml" xref="alg1.l4a.m1.1.1.1"></gt><apply id="alg1.l4a.m1.1.1.2.cmml" xref="alg1.l4a.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l4a.m1.1.1.2.1.cmml" xref="alg1.l4a.m1.1.1.2">subscript</csymbol><ci id="alg1.l4a.m1.1.1.2.2.cmml" xref="alg1.l4a.m1.1.1.2.2">𝐴</ci><apply id="alg1.l4a.m1.1.1.2.3.cmml" xref="alg1.l4a.m1.1.1.2.3"><times id="alg1.l4a.m1.1.1.2.3.1.cmml" xref="alg1.l4a.m1.1.1.2.3.1"></times><ci id="alg1.l4a.m1.1.1.2.3.2.cmml" xref="alg1.l4a.m1.1.1.2.3.2">𝑛</ci><ci id="alg1.l4a.m1.1.1.2.3.3.cmml" xref="alg1.l4a.m1.1.1.2.3.3">𝑒</ci><ci id="alg1.l4a.m1.1.1.2.3.4.cmml" xref="alg1.l4a.m1.1.1.2.3.4">𝑤</ci></apply></apply><apply id="alg1.l4a.m1.1.1.3.cmml" xref="alg1.l4a.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l4a.m1.1.1.3.1.cmml" xref="alg1.l4a.m1.1.1.3">subscript</csymbol><ci id="alg1.l4a.m1.1.1.3.2.cmml" xref="alg1.l4a.m1.1.1.3.2">𝐴</ci><ci id="alg1.l4a.m1.1.1.3.3.cmml" xref="alg1.l4a.m1.1.1.3.3">𝜏</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4a.m1.1c">A_{new}&gt;A_{\tau}</annotation></semantics></math>  <span id="alg1.l4a.3" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg1.l5a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5a.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>        forward the transaction to SLN

</div>
<div id="alg1.l6a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6a.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>     <span id="alg1.l6a.2" class="ltx_text ltx_font_bold">else</span>


</div>
<div id="alg1.l7a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7a.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>        mark invalid and discard

</div>
<div id="alg1.l8a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8a.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>     <span id="alg1.l8a.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l8a.3" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg1.l9a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9a.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>  <span id="alg1.l9a.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l9a.3" class="ltx_text ltx_font_bold">for</span>
</div>
</div>
</div>
</div>
</figure>
<div id="S4.SS2.p4" class="ltx_para">
<ol id="S4.I1" class="ltx_enumerate">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1)</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p"><em id="S4.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">Device Selection:</em>
In each training round of one shard, SLN selects candidates for shard training based on the status of IoT devices, such as their local data profile and power status, which are reported periodically.
Only devices ready for training with sufficient battery and stable network coverage are chosen.
These devices are then authorized to access the subchain, download the basic round model for local training, and subsequently upload their updated models.
It is worth noting that device selection in each shard operates independently.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2)</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p"><em id="S4.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">Local Update:</em>
Utilizing the basic round model obtained from the subchain, each device performs the local training process by engaging with its raw data to address problem (<a href="#S4.E1" title="In 4.1 FL Algorithm ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
Once the predefined goals set in the smart contract, such as a certain number of local training epochs or a target evaluation metric convergence value, are met, the updated local model is transmitted to the relevant subchain node (SLN or SFN).</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3)</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p"><em id="S4.I1.i3.p1.1.1" class="ltx_emph ltx_font_italic">Model Aggregation:</em>
As outlined in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 4.2 FL Process ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, subchain nodes first receive and validate local models against the test dataset.
The validity of these models is determined using the preset threshold <math id="S4.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="A_{\tau}" display="inline"><semantics id="S4.I1.i3.p1.1.m1.1a"><msub id="S4.I1.i3.p1.1.m1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.cmml"><mi id="S4.I1.i3.p1.1.m1.1.1.2" xref="S4.I1.i3.p1.1.m1.1.1.2.cmml">A</mi><mi id="S4.I1.i3.p1.1.m1.1.1.3" xref="S4.I1.i3.p1.1.m1.1.1.3.cmml">τ</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.1.m1.1b"><apply id="S4.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i3.p1.1.m1.1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I1.i3.p1.1.m1.1.1.2.cmml" xref="S4.I1.i3.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.I1.i3.p1.1.m1.1.1.3.cmml" xref="S4.I1.i3.p1.1.m1.1.1.3">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.1.m1.1c">A_{\tau}</annotation></semantics></math>, which is typically aligned with the evaluation metric of the basic round model relevant to the current training round, such as accuracy for target recognition tasks or perplexity for natural language processing.
Subsequently, the SLN aggregates the valid local models following (<a href="#S4.E4" title="In 4.1 FL Algorithm ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>) to update the <em id="S4.I1.i3.p1.1.2" class="ltx_emph ltx_font_italic">shard model</em>, which is then disseminated to the subchain as the <em id="S4.I1.i3.p1.1.3" class="ltx_emph ltx_font_italic">basic round model</em> for the ongoing shard training iteration.
Due to the synchronous manner of the training within each shard, the aggregation of the shard model is triggered when sufficient IoT devices upload their local models within a specified period of time, otherwise, the round is discarded.
This entire procedure, encompassing device selection and model aggregation, constitutes <em id="S4.I1.i3.p1.1.4" class="ltx_emph ltx_font_italic">a round of shard training</em>.
If the iteration continues, the updated shard model is packaged as a new subchain transaction and published to the subchain, forming the basis for the next shard training round.</p>
</div>
</li>
</ol>
</div>
<figure id="alg2" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.2.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> SLN Interact with Mainchain: Basic Iteration Model Building and Shard Model Submitting</figcaption>
<div id="alg2.3" class="ltx_listing ltx_listing">
<div id="alg2.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>  <span id="alg2.l1.2" class="ltx_text ltx_font_bold">while</span> true <span id="alg2.l1.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg2.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>     <span id="alg2.l2.2" class="ltx_text ltx_font_bold">if</span> the current is 1st iteration <span id="alg2.l2.3" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg2.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>        <math id="alg2.l3.m1.1" class="ltx_Math" alttext="\mathbf{w}_{bim}\leftarrow" display="inline"><semantics id="alg2.l3.m1.1a"><mrow id="alg2.l3.m1.1.1" xref="alg2.l3.m1.1.1.cmml"><msub id="alg2.l3.m1.1.1.2" xref="alg2.l3.m1.1.1.2.cmml"><mi id="alg2.l3.m1.1.1.2.2" xref="alg2.l3.m1.1.1.2.2.cmml">𝐰</mi><mrow id="alg2.l3.m1.1.1.2.3" xref="alg2.l3.m1.1.1.2.3.cmml"><mi id="alg2.l3.m1.1.1.2.3.2" xref="alg2.l3.m1.1.1.2.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.2.3.1" xref="alg2.l3.m1.1.1.2.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.2.3.3" xref="alg2.l3.m1.1.1.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.2.3.1a" xref="alg2.l3.m1.1.1.2.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.2.3.4" xref="alg2.l3.m1.1.1.2.3.4.cmml">m</mi></mrow></msub><mo stretchy="false" id="alg2.l3.m1.1.1.1" xref="alg2.l3.m1.1.1.1.cmml">←</mo><mi id="alg2.l3.m1.1.1.3" xref="alg2.l3.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l3.m1.1b"><apply id="alg2.l3.m1.1.1.cmml" xref="alg2.l3.m1.1.1"><ci id="alg2.l3.m1.1.1.1.cmml" xref="alg2.l3.m1.1.1.1">←</ci><apply id="alg2.l3.m1.1.1.2.cmml" xref="alg2.l3.m1.1.1.2"><csymbol cd="ambiguous" id="alg2.l3.m1.1.1.2.1.cmml" xref="alg2.l3.m1.1.1.2">subscript</csymbol><ci id="alg2.l3.m1.1.1.2.2.cmml" xref="alg2.l3.m1.1.1.2.2">𝐰</ci><apply id="alg2.l3.m1.1.1.2.3.cmml" xref="alg2.l3.m1.1.1.2.3"><times id="alg2.l3.m1.1.1.2.3.1.cmml" xref="alg2.l3.m1.1.1.2.3.1"></times><ci id="alg2.l3.m1.1.1.2.3.2.cmml" xref="alg2.l3.m1.1.1.2.3.2">𝑏</ci><ci id="alg2.l3.m1.1.1.2.3.3.cmml" xref="alg2.l3.m1.1.1.2.3.3">𝑖</ci><ci id="alg2.l3.m1.1.1.2.3.4.cmml" xref="alg2.l3.m1.1.1.2.3.4">𝑚</ci></apply></apply><csymbol cd="latexml" id="alg2.l3.m1.1.1.3.cmml" xref="alg2.l3.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m1.1c">\mathbf{w}_{bim}\leftarrow</annotation></semantics></math> extract the initial parameters from <math id="alg2.l3.m2.1" class="ltx_Math" alttext="g_{0}" display="inline"><semantics id="alg2.l3.m2.1a"><msub id="alg2.l3.m2.1.1" xref="alg2.l3.m2.1.1.cmml"><mi id="alg2.l3.m2.1.1.2" xref="alg2.l3.m2.1.1.2.cmml">g</mi><mn id="alg2.l3.m2.1.1.3" xref="alg2.l3.m2.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="alg2.l3.m2.1b"><apply id="alg2.l3.m2.1.1.cmml" xref="alg2.l3.m2.1.1"><csymbol cd="ambiguous" id="alg2.l3.m2.1.1.1.cmml" xref="alg2.l3.m2.1.1">subscript</csymbol><ci id="alg2.l3.m2.1.1.2.cmml" xref="alg2.l3.m2.1.1.2">𝑔</ci><cn type="integer" id="alg2.l3.m2.1.1.3.cmml" xref="alg2.l3.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m2.1c">g_{0}</annotation></semantics></math>

</div>
<div id="alg2.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>        ApproveSet = (<math id="alg2.l4.m1.1" class="ltx_Math" alttext="g_{0}" display="inline"><semantics id="alg2.l4.m1.1a"><msub id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml"><mi id="alg2.l4.m1.1.1.2" xref="alg2.l4.m1.1.1.2.cmml">g</mi><mn id="alg2.l4.m1.1.1.3" xref="alg2.l4.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="alg2.l4.m1.1b"><apply id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1"><csymbol cd="ambiguous" id="alg2.l4.m1.1.1.1.cmml" xref="alg2.l4.m1.1.1">subscript</csymbol><ci id="alg2.l4.m1.1.1.2.cmml" xref="alg2.l4.m1.1.1.2">𝑔</ci><cn type="integer" id="alg2.l4.m1.1.1.3.cmml" xref="alg2.l4.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m1.1c">g_{0}</annotation></semantics></math>)

</div>
<div id="alg2.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>     <span id="alg2.l5.2" class="ltx_text ltx_font_bold">else</span>


</div>
<div id="alg2.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>        <math id="alg2.l6.m1.4" class="ltx_Math" alttext="(\mathbf{w}^{{}^{\prime}}_{1},\mathbf{w}^{{}^{\prime}}_{2},...,\mathbf{w}^{{}^{\prime}}_{\eta})\leftarrow" display="inline"><semantics id="alg2.l6.m1.4a"><mrow id="alg2.l6.m1.4.4" xref="alg2.l6.m1.4.4.cmml"><mrow id="alg2.l6.m1.4.4.3.3" xref="alg2.l6.m1.4.4.3.4.cmml"><mo stretchy="false" id="alg2.l6.m1.4.4.3.3.4" xref="alg2.l6.m1.4.4.3.4.cmml">(</mo><msubsup id="alg2.l6.m1.2.2.1.1.1" xref="alg2.l6.m1.2.2.1.1.1.cmml"><mi id="alg2.l6.m1.2.2.1.1.1.2.2" xref="alg2.l6.m1.2.2.1.1.1.2.2.cmml">𝐰</mi><mn id="alg2.l6.m1.2.2.1.1.1.3" xref="alg2.l6.m1.2.2.1.1.1.3.cmml">1</mn><msup id="alg2.l6.m1.2.2.1.1.1.2.3" xref="alg2.l6.m1.2.2.1.1.1.2.3.cmml"><mi id="alg2.l6.m1.2.2.1.1.1.2.3a" xref="alg2.l6.m1.2.2.1.1.1.2.3.cmml"></mi><mo id="alg2.l6.m1.2.2.1.1.1.2.3.1" xref="alg2.l6.m1.2.2.1.1.1.2.3.1.cmml">′</mo></msup></msubsup><mo id="alg2.l6.m1.4.4.3.3.5" xref="alg2.l6.m1.4.4.3.4.cmml">,</mo><msubsup id="alg2.l6.m1.3.3.2.2.2" xref="alg2.l6.m1.3.3.2.2.2.cmml"><mi id="alg2.l6.m1.3.3.2.2.2.2.2" xref="alg2.l6.m1.3.3.2.2.2.2.2.cmml">𝐰</mi><mn id="alg2.l6.m1.3.3.2.2.2.3" xref="alg2.l6.m1.3.3.2.2.2.3.cmml">2</mn><msup id="alg2.l6.m1.3.3.2.2.2.2.3" xref="alg2.l6.m1.3.3.2.2.2.2.3.cmml"><mi id="alg2.l6.m1.3.3.2.2.2.2.3a" xref="alg2.l6.m1.3.3.2.2.2.2.3.cmml"></mi><mo id="alg2.l6.m1.3.3.2.2.2.2.3.1" xref="alg2.l6.m1.3.3.2.2.2.2.3.1.cmml">′</mo></msup></msubsup><mo id="alg2.l6.m1.4.4.3.3.6" xref="alg2.l6.m1.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="alg2.l6.m1.1.1" xref="alg2.l6.m1.1.1.cmml">…</mi><mo id="alg2.l6.m1.4.4.3.3.7" xref="alg2.l6.m1.4.4.3.4.cmml">,</mo><msubsup id="alg2.l6.m1.4.4.3.3.3" xref="alg2.l6.m1.4.4.3.3.3.cmml"><mi id="alg2.l6.m1.4.4.3.3.3.2.2" xref="alg2.l6.m1.4.4.3.3.3.2.2.cmml">𝐰</mi><mi id="alg2.l6.m1.4.4.3.3.3.3" xref="alg2.l6.m1.4.4.3.3.3.3.cmml">η</mi><msup id="alg2.l6.m1.4.4.3.3.3.2.3" xref="alg2.l6.m1.4.4.3.3.3.2.3.cmml"><mi id="alg2.l6.m1.4.4.3.3.3.2.3a" xref="alg2.l6.m1.4.4.3.3.3.2.3.cmml"></mi><mo id="alg2.l6.m1.4.4.3.3.3.2.3.1" xref="alg2.l6.m1.4.4.3.3.3.2.3.1.cmml">′</mo></msup></msubsup><mo stretchy="false" id="alg2.l6.m1.4.4.3.3.8" xref="alg2.l6.m1.4.4.3.4.cmml">)</mo></mrow><mo stretchy="false" id="alg2.l6.m1.4.4.4" xref="alg2.l6.m1.4.4.4.cmml">←</mo><mi id="alg2.l6.m1.4.4.5" xref="alg2.l6.m1.4.4.5.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l6.m1.4b"><apply id="alg2.l6.m1.4.4.cmml" xref="alg2.l6.m1.4.4"><ci id="alg2.l6.m1.4.4.4.cmml" xref="alg2.l6.m1.4.4.4">←</ci><vector id="alg2.l6.m1.4.4.3.4.cmml" xref="alg2.l6.m1.4.4.3.3"><apply id="alg2.l6.m1.2.2.1.1.1.cmml" xref="alg2.l6.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg2.l6.m1.2.2.1.1.1.1.cmml" xref="alg2.l6.m1.2.2.1.1.1">subscript</csymbol><apply id="alg2.l6.m1.2.2.1.1.1.2.cmml" xref="alg2.l6.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg2.l6.m1.2.2.1.1.1.2.1.cmml" xref="alg2.l6.m1.2.2.1.1.1">superscript</csymbol><ci id="alg2.l6.m1.2.2.1.1.1.2.2.cmml" xref="alg2.l6.m1.2.2.1.1.1.2.2">𝐰</ci><apply id="alg2.l6.m1.2.2.1.1.1.2.3.cmml" xref="alg2.l6.m1.2.2.1.1.1.2.3"><ci id="alg2.l6.m1.2.2.1.1.1.2.3.1.cmml" xref="alg2.l6.m1.2.2.1.1.1.2.3.1">′</ci></apply></apply><cn type="integer" id="alg2.l6.m1.2.2.1.1.1.3.cmml" xref="alg2.l6.m1.2.2.1.1.1.3">1</cn></apply><apply id="alg2.l6.m1.3.3.2.2.2.cmml" xref="alg2.l6.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="alg2.l6.m1.3.3.2.2.2.1.cmml" xref="alg2.l6.m1.3.3.2.2.2">subscript</csymbol><apply id="alg2.l6.m1.3.3.2.2.2.2.cmml" xref="alg2.l6.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="alg2.l6.m1.3.3.2.2.2.2.1.cmml" xref="alg2.l6.m1.3.3.2.2.2">superscript</csymbol><ci id="alg2.l6.m1.3.3.2.2.2.2.2.cmml" xref="alg2.l6.m1.3.3.2.2.2.2.2">𝐰</ci><apply id="alg2.l6.m1.3.3.2.2.2.2.3.cmml" xref="alg2.l6.m1.3.3.2.2.2.2.3"><ci id="alg2.l6.m1.3.3.2.2.2.2.3.1.cmml" xref="alg2.l6.m1.3.3.2.2.2.2.3.1">′</ci></apply></apply><cn type="integer" id="alg2.l6.m1.3.3.2.2.2.3.cmml" xref="alg2.l6.m1.3.3.2.2.2.3">2</cn></apply><ci id="alg2.l6.m1.1.1.cmml" xref="alg2.l6.m1.1.1">…</ci><apply id="alg2.l6.m1.4.4.3.3.3.cmml" xref="alg2.l6.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="alg2.l6.m1.4.4.3.3.3.1.cmml" xref="alg2.l6.m1.4.4.3.3.3">subscript</csymbol><apply id="alg2.l6.m1.4.4.3.3.3.2.cmml" xref="alg2.l6.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="alg2.l6.m1.4.4.3.3.3.2.1.cmml" xref="alg2.l6.m1.4.4.3.3.3">superscript</csymbol><ci id="alg2.l6.m1.4.4.3.3.3.2.2.cmml" xref="alg2.l6.m1.4.4.3.3.3.2.2">𝐰</ci><apply id="alg2.l6.m1.4.4.3.3.3.2.3.cmml" xref="alg2.l6.m1.4.4.3.3.3.2.3"><ci id="alg2.l6.m1.4.4.3.3.3.2.3.1.cmml" xref="alg2.l6.m1.4.4.3.3.3.2.3.1">′</ci></apply></apply><ci id="alg2.l6.m1.4.4.3.3.3.3.cmml" xref="alg2.l6.m1.4.4.3.3.3.3">𝜂</ci></apply></vector><csymbol cd="latexml" id="alg2.l6.m1.4.4.5.cmml" xref="alg2.l6.m1.4.4.5">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l6.m1.4c">(\mathbf{w}^{{}^{\prime}}_{1},\mathbf{w}^{{}^{\prime}}_{2},...,\mathbf{w}^{{}^{\prime}}_{\eta})\leftarrow</annotation></semantics></math> choose <math id="alg2.l6.m2.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="alg2.l6.m2.1a"><mi id="alg2.l6.m2.1.1" xref="alg2.l6.m2.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="alg2.l6.m2.1b"><ci id="alg2.l6.m2.1.1.cmml" xref="alg2.l6.m2.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l6.m2.1c">\eta</annotation></semantics></math> tips from the DAG

</div>
<div id="alg2.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>        <math id="alg2.l7.m1.4" class="ltx_Math" alttext="(A_{1}^{{}^{\prime}},A_{2}^{{}^{\prime}},...,A_{\eta}^{{}^{\prime}})\leftarrow" display="inline"><semantics id="alg2.l7.m1.4a"><mrow id="alg2.l7.m1.4.4" xref="alg2.l7.m1.4.4.cmml"><mrow id="alg2.l7.m1.4.4.3.3" xref="alg2.l7.m1.4.4.3.4.cmml"><mo stretchy="false" id="alg2.l7.m1.4.4.3.3.4" xref="alg2.l7.m1.4.4.3.4.cmml">(</mo><msubsup id="alg2.l7.m1.2.2.1.1.1" xref="alg2.l7.m1.2.2.1.1.1.cmml"><mi id="alg2.l7.m1.2.2.1.1.1.2.2" xref="alg2.l7.m1.2.2.1.1.1.2.2.cmml">A</mi><mn id="alg2.l7.m1.2.2.1.1.1.2.3" xref="alg2.l7.m1.2.2.1.1.1.2.3.cmml">1</mn><msup id="alg2.l7.m1.2.2.1.1.1.3" xref="alg2.l7.m1.2.2.1.1.1.3.cmml"><mi id="alg2.l7.m1.2.2.1.1.1.3a" xref="alg2.l7.m1.2.2.1.1.1.3.cmml"></mi><mo id="alg2.l7.m1.2.2.1.1.1.3.1" xref="alg2.l7.m1.2.2.1.1.1.3.1.cmml">′</mo></msup></msubsup><mo id="alg2.l7.m1.4.4.3.3.5" xref="alg2.l7.m1.4.4.3.4.cmml">,</mo><msubsup id="alg2.l7.m1.3.3.2.2.2" xref="alg2.l7.m1.3.3.2.2.2.cmml"><mi id="alg2.l7.m1.3.3.2.2.2.2.2" xref="alg2.l7.m1.3.3.2.2.2.2.2.cmml">A</mi><mn id="alg2.l7.m1.3.3.2.2.2.2.3" xref="alg2.l7.m1.3.3.2.2.2.2.3.cmml">2</mn><msup id="alg2.l7.m1.3.3.2.2.2.3" xref="alg2.l7.m1.3.3.2.2.2.3.cmml"><mi id="alg2.l7.m1.3.3.2.2.2.3a" xref="alg2.l7.m1.3.3.2.2.2.3.cmml"></mi><mo id="alg2.l7.m1.3.3.2.2.2.3.1" xref="alg2.l7.m1.3.3.2.2.2.3.1.cmml">′</mo></msup></msubsup><mo id="alg2.l7.m1.4.4.3.3.6" xref="alg2.l7.m1.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="alg2.l7.m1.1.1" xref="alg2.l7.m1.1.1.cmml">…</mi><mo id="alg2.l7.m1.4.4.3.3.7" xref="alg2.l7.m1.4.4.3.4.cmml">,</mo><msubsup id="alg2.l7.m1.4.4.3.3.3" xref="alg2.l7.m1.4.4.3.3.3.cmml"><mi id="alg2.l7.m1.4.4.3.3.3.2.2" xref="alg2.l7.m1.4.4.3.3.3.2.2.cmml">A</mi><mi id="alg2.l7.m1.4.4.3.3.3.2.3" xref="alg2.l7.m1.4.4.3.3.3.2.3.cmml">η</mi><msup id="alg2.l7.m1.4.4.3.3.3.3" xref="alg2.l7.m1.4.4.3.3.3.3.cmml"><mi id="alg2.l7.m1.4.4.3.3.3.3a" xref="alg2.l7.m1.4.4.3.3.3.3.cmml"></mi><mo id="alg2.l7.m1.4.4.3.3.3.3.1" xref="alg2.l7.m1.4.4.3.3.3.3.1.cmml">′</mo></msup></msubsup><mo stretchy="false" id="alg2.l7.m1.4.4.3.3.8" xref="alg2.l7.m1.4.4.3.4.cmml">)</mo></mrow><mo stretchy="false" id="alg2.l7.m1.4.4.4" xref="alg2.l7.m1.4.4.4.cmml">←</mo><mi id="alg2.l7.m1.4.4.5" xref="alg2.l7.m1.4.4.5.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l7.m1.4b"><apply id="alg2.l7.m1.4.4.cmml" xref="alg2.l7.m1.4.4"><ci id="alg2.l7.m1.4.4.4.cmml" xref="alg2.l7.m1.4.4.4">←</ci><vector id="alg2.l7.m1.4.4.3.4.cmml" xref="alg2.l7.m1.4.4.3.3"><apply id="alg2.l7.m1.2.2.1.1.1.cmml" xref="alg2.l7.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg2.l7.m1.2.2.1.1.1.1.cmml" xref="alg2.l7.m1.2.2.1.1.1">superscript</csymbol><apply id="alg2.l7.m1.2.2.1.1.1.2.cmml" xref="alg2.l7.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg2.l7.m1.2.2.1.1.1.2.1.cmml" xref="alg2.l7.m1.2.2.1.1.1">subscript</csymbol><ci id="alg2.l7.m1.2.2.1.1.1.2.2.cmml" xref="alg2.l7.m1.2.2.1.1.1.2.2">𝐴</ci><cn type="integer" id="alg2.l7.m1.2.2.1.1.1.2.3.cmml" xref="alg2.l7.m1.2.2.1.1.1.2.3">1</cn></apply><apply id="alg2.l7.m1.2.2.1.1.1.3.cmml" xref="alg2.l7.m1.2.2.1.1.1.3"><ci id="alg2.l7.m1.2.2.1.1.1.3.1.cmml" xref="alg2.l7.m1.2.2.1.1.1.3.1">′</ci></apply></apply><apply id="alg2.l7.m1.3.3.2.2.2.cmml" xref="alg2.l7.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="alg2.l7.m1.3.3.2.2.2.1.cmml" xref="alg2.l7.m1.3.3.2.2.2">superscript</csymbol><apply id="alg2.l7.m1.3.3.2.2.2.2.cmml" xref="alg2.l7.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="alg2.l7.m1.3.3.2.2.2.2.1.cmml" xref="alg2.l7.m1.3.3.2.2.2">subscript</csymbol><ci id="alg2.l7.m1.3.3.2.2.2.2.2.cmml" xref="alg2.l7.m1.3.3.2.2.2.2.2">𝐴</ci><cn type="integer" id="alg2.l7.m1.3.3.2.2.2.2.3.cmml" xref="alg2.l7.m1.3.3.2.2.2.2.3">2</cn></apply><apply id="alg2.l7.m1.3.3.2.2.2.3.cmml" xref="alg2.l7.m1.3.3.2.2.2.3"><ci id="alg2.l7.m1.3.3.2.2.2.3.1.cmml" xref="alg2.l7.m1.3.3.2.2.2.3.1">′</ci></apply></apply><ci id="alg2.l7.m1.1.1.cmml" xref="alg2.l7.m1.1.1">…</ci><apply id="alg2.l7.m1.4.4.3.3.3.cmml" xref="alg2.l7.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="alg2.l7.m1.4.4.3.3.3.1.cmml" xref="alg2.l7.m1.4.4.3.3.3">superscript</csymbol><apply id="alg2.l7.m1.4.4.3.3.3.2.cmml" xref="alg2.l7.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="alg2.l7.m1.4.4.3.3.3.2.1.cmml" xref="alg2.l7.m1.4.4.3.3.3">subscript</csymbol><ci id="alg2.l7.m1.4.4.3.3.3.2.2.cmml" xref="alg2.l7.m1.4.4.3.3.3.2.2">𝐴</ci><ci id="alg2.l7.m1.4.4.3.3.3.2.3.cmml" xref="alg2.l7.m1.4.4.3.3.3.2.3">𝜂</ci></apply><apply id="alg2.l7.m1.4.4.3.3.3.3.cmml" xref="alg2.l7.m1.4.4.3.3.3.3"><ci id="alg2.l7.m1.4.4.3.3.3.3.1.cmml" xref="alg2.l7.m1.4.4.3.3.3.3.1">′</ci></apply></apply></vector><csymbol cd="latexml" id="alg2.l7.m1.4.4.5.cmml" xref="alg2.l7.m1.4.4.5">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l7.m1.4c">(A_{1}^{{}^{\prime}},A_{2}^{{}^{\prime}},...,A_{\eta}^{{}^{\prime}})\leftarrow</annotation></semantics></math> validate the accuracy of the model in each chosen tip

</div>
<div id="alg2.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>        <math id="alg2.l8.m1.1" class="ltx_Math" alttext="\mathbf{w}_{bim}\leftarrow" display="inline"><semantics id="alg2.l8.m1.1a"><mrow id="alg2.l8.m1.1.1" xref="alg2.l8.m1.1.1.cmml"><msub id="alg2.l8.m1.1.1.2" xref="alg2.l8.m1.1.1.2.cmml"><mi id="alg2.l8.m1.1.1.2.2" xref="alg2.l8.m1.1.1.2.2.cmml">𝐰</mi><mrow id="alg2.l8.m1.1.1.2.3" xref="alg2.l8.m1.1.1.2.3.cmml"><mi id="alg2.l8.m1.1.1.2.3.2" xref="alg2.l8.m1.1.1.2.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.2.3.1" xref="alg2.l8.m1.1.1.2.3.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.2.3.3" xref="alg2.l8.m1.1.1.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.2.3.1a" xref="alg2.l8.m1.1.1.2.3.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.2.3.4" xref="alg2.l8.m1.1.1.2.3.4.cmml">m</mi></mrow></msub><mo stretchy="false" id="alg2.l8.m1.1.1.1" xref="alg2.l8.m1.1.1.1.cmml">←</mo><mi id="alg2.l8.m1.1.1.3" xref="alg2.l8.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l8.m1.1b"><apply id="alg2.l8.m1.1.1.cmml" xref="alg2.l8.m1.1.1"><ci id="alg2.l8.m1.1.1.1.cmml" xref="alg2.l8.m1.1.1.1">←</ci><apply id="alg2.l8.m1.1.1.2.cmml" xref="alg2.l8.m1.1.1.2"><csymbol cd="ambiguous" id="alg2.l8.m1.1.1.2.1.cmml" xref="alg2.l8.m1.1.1.2">subscript</csymbol><ci id="alg2.l8.m1.1.1.2.2.cmml" xref="alg2.l8.m1.1.1.2.2">𝐰</ci><apply id="alg2.l8.m1.1.1.2.3.cmml" xref="alg2.l8.m1.1.1.2.3"><times id="alg2.l8.m1.1.1.2.3.1.cmml" xref="alg2.l8.m1.1.1.2.3.1"></times><ci id="alg2.l8.m1.1.1.2.3.2.cmml" xref="alg2.l8.m1.1.1.2.3.2">𝑏</ci><ci id="alg2.l8.m1.1.1.2.3.3.cmml" xref="alg2.l8.m1.1.1.2.3.3">𝑖</ci><ci id="alg2.l8.m1.1.1.2.3.4.cmml" xref="alg2.l8.m1.1.1.2.3.4">𝑚</ci></apply></apply><csymbol cd="latexml" id="alg2.l8.m1.1.1.3.cmml" xref="alg2.l8.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m1.1c">\mathbf{w}_{bim}\leftarrow</annotation></semantics></math> <math id="alg2.l8.m2.1" class="ltx_Math" alttext="(\sum\limits_{i=1}^{\lambda}{\frac{\mathbf{w}_{i}^{{}^{\prime}}}{\lambda}})" display="inline"><semantics id="alg2.l8.m2.1a"><mrow id="alg2.l8.m2.1.1.1" xref="alg2.l8.m2.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l8.m2.1.1.1.2" xref="alg2.l8.m2.1.1.1.1.cmml">(</mo><mrow id="alg2.l8.m2.1.1.1.1" xref="alg2.l8.m2.1.1.1.1.cmml"><munderover id="alg2.l8.m2.1.1.1.1.1" xref="alg2.l8.m2.1.1.1.1.1.cmml"><mo lspace="0em" movablelimits="false" id="alg2.l8.m2.1.1.1.1.1.2.2" xref="alg2.l8.m2.1.1.1.1.1.2.2.cmml">∑</mo><mrow id="alg2.l8.m2.1.1.1.1.1.2.3" xref="alg2.l8.m2.1.1.1.1.1.2.3.cmml"><mi id="alg2.l8.m2.1.1.1.1.1.2.3.2" xref="alg2.l8.m2.1.1.1.1.1.2.3.2.cmml">i</mi><mo id="alg2.l8.m2.1.1.1.1.1.2.3.1" xref="alg2.l8.m2.1.1.1.1.1.2.3.1.cmml">=</mo><mn id="alg2.l8.m2.1.1.1.1.1.2.3.3" xref="alg2.l8.m2.1.1.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="alg2.l8.m2.1.1.1.1.1.3" xref="alg2.l8.m2.1.1.1.1.1.3.cmml">λ</mi></munderover><mfrac id="alg2.l8.m2.1.1.1.1.2" xref="alg2.l8.m2.1.1.1.1.2.cmml"><msubsup id="alg2.l8.m2.1.1.1.1.2.2" xref="alg2.l8.m2.1.1.1.1.2.2.cmml"><mi id="alg2.l8.m2.1.1.1.1.2.2.2.2" xref="alg2.l8.m2.1.1.1.1.2.2.2.2.cmml">𝐰</mi><mi id="alg2.l8.m2.1.1.1.1.2.2.2.3" xref="alg2.l8.m2.1.1.1.1.2.2.2.3.cmml">i</mi><msup id="alg2.l8.m2.1.1.1.1.2.2.3" xref="alg2.l8.m2.1.1.1.1.2.2.3.cmml"><mi id="alg2.l8.m2.1.1.1.1.2.2.3a" xref="alg2.l8.m2.1.1.1.1.2.2.3.cmml"></mi><mo id="alg2.l8.m2.1.1.1.1.2.2.3.1" xref="alg2.l8.m2.1.1.1.1.2.2.3.1.cmml">′</mo></msup></msubsup><mi id="alg2.l8.m2.1.1.1.1.2.3" xref="alg2.l8.m2.1.1.1.1.2.3.cmml">λ</mi></mfrac></mrow><mo stretchy="false" id="alg2.l8.m2.1.1.1.3" xref="alg2.l8.m2.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg2.l8.m2.1b"><apply id="alg2.l8.m2.1.1.1.1.cmml" xref="alg2.l8.m2.1.1.1"><apply id="alg2.l8.m2.1.1.1.1.1.cmml" xref="alg2.l8.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l8.m2.1.1.1.1.1.1.cmml" xref="alg2.l8.m2.1.1.1.1.1">superscript</csymbol><apply id="alg2.l8.m2.1.1.1.1.1.2.cmml" xref="alg2.l8.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l8.m2.1.1.1.1.1.2.1.cmml" xref="alg2.l8.m2.1.1.1.1.1">subscript</csymbol><sum id="alg2.l8.m2.1.1.1.1.1.2.2.cmml" xref="alg2.l8.m2.1.1.1.1.1.2.2"></sum><apply id="alg2.l8.m2.1.1.1.1.1.2.3.cmml" xref="alg2.l8.m2.1.1.1.1.1.2.3"><eq id="alg2.l8.m2.1.1.1.1.1.2.3.1.cmml" xref="alg2.l8.m2.1.1.1.1.1.2.3.1"></eq><ci id="alg2.l8.m2.1.1.1.1.1.2.3.2.cmml" xref="alg2.l8.m2.1.1.1.1.1.2.3.2">𝑖</ci><cn type="integer" id="alg2.l8.m2.1.1.1.1.1.2.3.3.cmml" xref="alg2.l8.m2.1.1.1.1.1.2.3.3">1</cn></apply></apply><ci id="alg2.l8.m2.1.1.1.1.1.3.cmml" xref="alg2.l8.m2.1.1.1.1.1.3">𝜆</ci></apply><apply id="alg2.l8.m2.1.1.1.1.2.cmml" xref="alg2.l8.m2.1.1.1.1.2"><divide id="alg2.l8.m2.1.1.1.1.2.1.cmml" xref="alg2.l8.m2.1.1.1.1.2"></divide><apply id="alg2.l8.m2.1.1.1.1.2.2.cmml" xref="alg2.l8.m2.1.1.1.1.2.2"><csymbol cd="ambiguous" id="alg2.l8.m2.1.1.1.1.2.2.1.cmml" xref="alg2.l8.m2.1.1.1.1.2.2">superscript</csymbol><apply id="alg2.l8.m2.1.1.1.1.2.2.2.cmml" xref="alg2.l8.m2.1.1.1.1.2.2"><csymbol cd="ambiguous" id="alg2.l8.m2.1.1.1.1.2.2.2.1.cmml" xref="alg2.l8.m2.1.1.1.1.2.2">subscript</csymbol><ci id="alg2.l8.m2.1.1.1.1.2.2.2.2.cmml" xref="alg2.l8.m2.1.1.1.1.2.2.2.2">𝐰</ci><ci id="alg2.l8.m2.1.1.1.1.2.2.2.3.cmml" xref="alg2.l8.m2.1.1.1.1.2.2.2.3">𝑖</ci></apply><apply id="alg2.l8.m2.1.1.1.1.2.2.3.cmml" xref="alg2.l8.m2.1.1.1.1.2.2.3"><ci id="alg2.l8.m2.1.1.1.1.2.2.3.1.cmml" xref="alg2.l8.m2.1.1.1.1.2.2.3.1">′</ci></apply></apply><ci id="alg2.l8.m2.1.1.1.1.2.3.cmml" xref="alg2.l8.m2.1.1.1.1.2.3">𝜆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m2.1c">(\sum\limits_{i=1}^{\lambda}{\frac{\mathbf{w}_{i}^{{}^{\prime}}}{\lambda}})</annotation></semantics></math>, aggregate <math id="alg2.l8.m3.1" class="ltx_Math" alttext="\lambda(\lambda&lt;\eta)" display="inline"><semantics id="alg2.l8.m3.1a"><mrow id="alg2.l8.m3.1.1" xref="alg2.l8.m3.1.1.cmml"><mi id="alg2.l8.m3.1.1.3" xref="alg2.l8.m3.1.1.3.cmml">λ</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m3.1.1.2" xref="alg2.l8.m3.1.1.2.cmml">​</mo><mrow id="alg2.l8.m3.1.1.1.1" xref="alg2.l8.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l8.m3.1.1.1.1.2" xref="alg2.l8.m3.1.1.1.1.1.cmml">(</mo><mrow id="alg2.l8.m3.1.1.1.1.1" xref="alg2.l8.m3.1.1.1.1.1.cmml"><mi id="alg2.l8.m3.1.1.1.1.1.2" xref="alg2.l8.m3.1.1.1.1.1.2.cmml">λ</mi><mo id="alg2.l8.m3.1.1.1.1.1.1" xref="alg2.l8.m3.1.1.1.1.1.1.cmml">&lt;</mo><mi id="alg2.l8.m3.1.1.1.1.1.3" xref="alg2.l8.m3.1.1.1.1.1.3.cmml">η</mi></mrow><mo stretchy="false" id="alg2.l8.m3.1.1.1.1.3" xref="alg2.l8.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l8.m3.1b"><apply id="alg2.l8.m3.1.1.cmml" xref="alg2.l8.m3.1.1"><times id="alg2.l8.m3.1.1.2.cmml" xref="alg2.l8.m3.1.1.2"></times><ci id="alg2.l8.m3.1.1.3.cmml" xref="alg2.l8.m3.1.1.3">𝜆</ci><apply id="alg2.l8.m3.1.1.1.1.1.cmml" xref="alg2.l8.m3.1.1.1.1"><lt id="alg2.l8.m3.1.1.1.1.1.1.cmml" xref="alg2.l8.m3.1.1.1.1.1.1"></lt><ci id="alg2.l8.m3.1.1.1.1.1.2.cmml" xref="alg2.l8.m3.1.1.1.1.1.2">𝜆</ci><ci id="alg2.l8.m3.1.1.1.1.1.3.cmml" xref="alg2.l8.m3.1.1.1.1.1.3">𝜂</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m3.1c">\lambda(\lambda&lt;\eta)</annotation></semantics></math> tips with the highest accuracy to build a basic iteration model

</div>
<div id="alg2.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>        ApproveSet = these <math id="alg2.l9.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="alg2.l9.m1.1a"><mi id="alg2.l9.m1.1.1" xref="alg2.l9.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="alg2.l9.m1.1b"><ci id="alg2.l9.m1.1.1.cmml" xref="alg2.l9.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m1.1c">\lambda</annotation></semantics></math> tips

</div>
<div id="alg2.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>     <span id="alg2.l10.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l10.3" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg2.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>     <math id="alg2.l11.m1.1" class="ltx_Math" alttext="\mathbf{w}_{new}\leftarrow" display="inline"><semantics id="alg2.l11.m1.1a"><mrow id="alg2.l11.m1.1.1" xref="alg2.l11.m1.1.1.cmml"><msub id="alg2.l11.m1.1.1.2" xref="alg2.l11.m1.1.1.2.cmml"><mi id="alg2.l11.m1.1.1.2.2" xref="alg2.l11.m1.1.1.2.2.cmml">𝐰</mi><mrow id="alg2.l11.m1.1.1.2.3" xref="alg2.l11.m1.1.1.2.3.cmml"><mi id="alg2.l11.m1.1.1.2.3.2" xref="alg2.l11.m1.1.1.2.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.2.3.1" xref="alg2.l11.m1.1.1.2.3.1.cmml">​</mo><mi id="alg2.l11.m1.1.1.2.3.3" xref="alg2.l11.m1.1.1.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.1.2.3.1a" xref="alg2.l11.m1.1.1.2.3.1.cmml">​</mo><mi id="alg2.l11.m1.1.1.2.3.4" xref="alg2.l11.m1.1.1.2.3.4.cmml">w</mi></mrow></msub><mo stretchy="false" id="alg2.l11.m1.1.1.1" xref="alg2.l11.m1.1.1.1.cmml">←</mo><mi id="alg2.l11.m1.1.1.3" xref="alg2.l11.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l11.m1.1b"><apply id="alg2.l11.m1.1.1.cmml" xref="alg2.l11.m1.1.1"><ci id="alg2.l11.m1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1">←</ci><apply id="alg2.l11.m1.1.1.2.cmml" xref="alg2.l11.m1.1.1.2"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.2.1.cmml" xref="alg2.l11.m1.1.1.2">subscript</csymbol><ci id="alg2.l11.m1.1.1.2.2.cmml" xref="alg2.l11.m1.1.1.2.2">𝐰</ci><apply id="alg2.l11.m1.1.1.2.3.cmml" xref="alg2.l11.m1.1.1.2.3"><times id="alg2.l11.m1.1.1.2.3.1.cmml" xref="alg2.l11.m1.1.1.2.3.1"></times><ci id="alg2.l11.m1.1.1.2.3.2.cmml" xref="alg2.l11.m1.1.1.2.3.2">𝑛</ci><ci id="alg2.l11.m1.1.1.2.3.3.cmml" xref="alg2.l11.m1.1.1.2.3.3">𝑒</ci><ci id="alg2.l11.m1.1.1.2.3.4.cmml" xref="alg2.l11.m1.1.1.2.3.4">𝑤</ci></apply></apply><csymbol cd="latexml" id="alg2.l11.m1.1.1.3.cmml" xref="alg2.l11.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l11.m1.1c">\mathbf{w}_{new}\leftarrow</annotation></semantics></math> <span id="alg2.l11.2" class="ltx_text ltx_font_bold">ShardTrainingIteration</span>(<math id="alg2.l11.m2.1" class="ltx_Math" alttext="\mathbf{w}_{bim}" display="inline"><semantics id="alg2.l11.m2.1a"><msub id="alg2.l11.m2.1.1" xref="alg2.l11.m2.1.1.cmml"><mi id="alg2.l11.m2.1.1.2" xref="alg2.l11.m2.1.1.2.cmml">𝐰</mi><mrow id="alg2.l11.m2.1.1.3" xref="alg2.l11.m2.1.1.3.cmml"><mi id="alg2.l11.m2.1.1.3.2" xref="alg2.l11.m2.1.1.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m2.1.1.3.1" xref="alg2.l11.m2.1.1.3.1.cmml">​</mo><mi id="alg2.l11.m2.1.1.3.3" xref="alg2.l11.m2.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m2.1.1.3.1a" xref="alg2.l11.m2.1.1.3.1.cmml">​</mo><mi id="alg2.l11.m2.1.1.3.4" xref="alg2.l11.m2.1.1.3.4.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg2.l11.m2.1b"><apply id="alg2.l11.m2.1.1.cmml" xref="alg2.l11.m2.1.1"><csymbol cd="ambiguous" id="alg2.l11.m2.1.1.1.cmml" xref="alg2.l11.m2.1.1">subscript</csymbol><ci id="alg2.l11.m2.1.1.2.cmml" xref="alg2.l11.m2.1.1.2">𝐰</ci><apply id="alg2.l11.m2.1.1.3.cmml" xref="alg2.l11.m2.1.1.3"><times id="alg2.l11.m2.1.1.3.1.cmml" xref="alg2.l11.m2.1.1.3.1"></times><ci id="alg2.l11.m2.1.1.3.2.cmml" xref="alg2.l11.m2.1.1.3.2">𝑏</ci><ci id="alg2.l11.m2.1.1.3.3.cmml" xref="alg2.l11.m2.1.1.3.3">𝑖</ci><ci id="alg2.l11.m2.1.1.3.4.cmml" xref="alg2.l11.m2.1.1.3.4">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l11.m2.1c">\mathbf{w}_{bim}</annotation></semantics></math>)

</div>
<div id="alg2.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>     <math id="alg2.l12.m1.1" class="ltx_Math" alttext="g\leftarrow" display="inline"><semantics id="alg2.l12.m1.1a"><mrow id="alg2.l12.m1.1.1" xref="alg2.l12.m1.1.1.cmml"><mi id="alg2.l12.m1.1.1.2" xref="alg2.l12.m1.1.1.2.cmml">g</mi><mo stretchy="false" id="alg2.l12.m1.1.1.1" xref="alg2.l12.m1.1.1.1.cmml">←</mo><mi id="alg2.l12.m1.1.1.3" xref="alg2.l12.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l12.m1.1b"><apply id="alg2.l12.m1.1.1.cmml" xref="alg2.l12.m1.1.1"><ci id="alg2.l12.m1.1.1.1.cmml" xref="alg2.l12.m1.1.1.1">←</ci><ci id="alg2.l12.m1.1.1.2.cmml" xref="alg2.l12.m1.1.1.2">𝑔</ci><csymbol cd="latexml" id="alg2.l12.m1.1.1.3.cmml" xref="alg2.l12.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l12.m1.1c">g\leftarrow</annotation></semantics></math> package <math id="alg2.l12.m2.1" class="ltx_Math" alttext="\mathbf{w}_{new}" display="inline"><semantics id="alg2.l12.m2.1a"><msub id="alg2.l12.m2.1.1" xref="alg2.l12.m2.1.1.cmml"><mi id="alg2.l12.m2.1.1.2" xref="alg2.l12.m2.1.1.2.cmml">𝐰</mi><mrow id="alg2.l12.m2.1.1.3" xref="alg2.l12.m2.1.1.3.cmml"><mi id="alg2.l12.m2.1.1.3.2" xref="alg2.l12.m2.1.1.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l12.m2.1.1.3.1" xref="alg2.l12.m2.1.1.3.1.cmml">​</mo><mi id="alg2.l12.m2.1.1.3.3" xref="alg2.l12.m2.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l12.m2.1.1.3.1a" xref="alg2.l12.m2.1.1.3.1.cmml">​</mo><mi id="alg2.l12.m2.1.1.3.4" xref="alg2.l12.m2.1.1.3.4.cmml">w</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg2.l12.m2.1b"><apply id="alg2.l12.m2.1.1.cmml" xref="alg2.l12.m2.1.1"><csymbol cd="ambiguous" id="alg2.l12.m2.1.1.1.cmml" xref="alg2.l12.m2.1.1">subscript</csymbol><ci id="alg2.l12.m2.1.1.2.cmml" xref="alg2.l12.m2.1.1.2">𝐰</ci><apply id="alg2.l12.m2.1.1.3.cmml" xref="alg2.l12.m2.1.1.3"><times id="alg2.l12.m2.1.1.3.1.cmml" xref="alg2.l12.m2.1.1.3.1"></times><ci id="alg2.l12.m2.1.1.3.2.cmml" xref="alg2.l12.m2.1.1.3.2">𝑛</ci><ci id="alg2.l12.m2.1.1.3.3.cmml" xref="alg2.l12.m2.1.1.3.3">𝑒</ci><ci id="alg2.l12.m2.1.1.3.4.cmml" xref="alg2.l12.m2.1.1.3.4">𝑤</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l12.m2.1c">\mathbf{w}_{new}</annotation></semantics></math> and the ID of all transactions in ApproveSet as a mainchain transaction

</div>
<div id="alg2.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span>     submit the <math id="alg2.l13.m1.1" class="ltx_Math" alttext="g" display="inline"><semantics id="alg2.l13.m1.1a"><mi id="alg2.l13.m1.1.1" xref="alg2.l13.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="alg2.l13.m1.1b"><ci id="alg2.l13.m1.1.1.cmml" xref="alg2.l13.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l13.m1.1c">g</annotation></semantics></math> to the mainchain

</div>
<div id="alg2.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span>     <span id="alg2.l14.2" class="ltx_text ltx_font_bold">if</span> stop signal received <span id="alg2.l14.3" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg2.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span>        <span id="alg2.l15.2" class="ltx_text ltx_font_bold">break</span>

</div>
<div id="alg2.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l16.1.1.1" class="ltx_text" style="font-size:80%;">16:</span></span>     <span id="alg2.l16.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l16.3" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg2.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l17.1.1.1" class="ltx_text" style="font-size:80%;">17:</span></span>  <span id="alg2.l17.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l17.3" class="ltx_text ltx_font_bold">while</span>
</div>
</div>
</figure>
<div id="S4.SS2.p5" class="ltx_para">
<p id="S4.SS2.p5.1" class="ltx_p"><span id="S4.SS2.p5.1.1" class="ltx_text ltx_font_bold">Phase 3: Shard Model Submitting and Basic Iteration Model Aggregating.</span>
Upon the completion of each shard training iteration, the most recent aggregated shard model is encapsulated within a mainchain transaction.
This transaction is subsequently submitted to the mainchain by the SLN.
Meanwhile, the new <em id="S4.SS2.p5.1.2" class="ltx_emph ltx_font_italic">basic iteration model</em> <math id="S4.SS2.p5.1.m1.1" class="ltx_Math" alttext="\mathbf{w}_{bim}" display="inline"><semantics id="S4.SS2.p5.1.m1.1a"><msub id="S4.SS2.p5.1.m1.1.1" xref="S4.SS2.p5.1.m1.1.1.cmml"><mi id="S4.SS2.p5.1.m1.1.1.2" xref="S4.SS2.p5.1.m1.1.1.2.cmml">𝐰</mi><mrow id="S4.SS2.p5.1.m1.1.1.3" xref="S4.SS2.p5.1.m1.1.1.3.cmml"><mi id="S4.SS2.p5.1.m1.1.1.3.2" xref="S4.SS2.p5.1.m1.1.1.3.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p5.1.m1.1.1.3.1" xref="S4.SS2.p5.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.SS2.p5.1.m1.1.1.3.3" xref="S4.SS2.p5.1.m1.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p5.1.m1.1.1.3.1a" xref="S4.SS2.p5.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.SS2.p5.1.m1.1.1.3.4" xref="S4.SS2.p5.1.m1.1.1.3.4.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.1.m1.1b"><apply id="S4.SS2.p5.1.m1.1.1.cmml" xref="S4.SS2.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p5.1.m1.1.1.1.cmml" xref="S4.SS2.p5.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p5.1.m1.1.1.2.cmml" xref="S4.SS2.p5.1.m1.1.1.2">𝐰</ci><apply id="S4.SS2.p5.1.m1.1.1.3.cmml" xref="S4.SS2.p5.1.m1.1.1.3"><times id="S4.SS2.p5.1.m1.1.1.3.1.cmml" xref="S4.SS2.p5.1.m1.1.1.3.1"></times><ci id="S4.SS2.p5.1.m1.1.1.3.2.cmml" xref="S4.SS2.p5.1.m1.1.1.3.2">𝑏</ci><ci id="S4.SS2.p5.1.m1.1.1.3.3.cmml" xref="S4.SS2.p5.1.m1.1.1.3.3">𝑖</ci><ci id="S4.SS2.p5.1.m1.1.1.3.4.cmml" xref="S4.SS2.p5.1.m1.1.1.3.4">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.1.m1.1c">\mathbf{w}_{bim}</annotation></semantics></math> is aggregated from the mainchain.
This aggregation initiates the subsequent shard training iteration, as long as the training task is still ongoing.
It is important to emphasize that each shard independently coordinates its training, validates other transactions, and submits its trained shard model to the mainchain.
This process forms the basis of the asynchronous transaction processing in the mainchain.
The details of these processes are shown in Algorithm <a href="#alg2" title="Algorithm 2 ‣ 4.2 FL Process ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<div id="S4.SS2.p6" class="ltx_para">
<p id="S4.SS2.p6.1" class="ltx_p">In the decentralized architecture of ChainFL, direct generation of a global model is not feasible.
Hence, a smart contract is employed to monitor the latest DAG and execute operations analogous to those in the basic iteration model aggregation, as outlined in Algorithm <a href="#alg2" title="Algorithm 2 ‣ 4.2 FL Process ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, for periodic global model aggregation.
The selection of transactions for constructing the global model is governed by task-specific parameters, which are explicitly defined within the smart contract.
Upon reaching the predetermined termination condition, the smart contract broadcasts a stop signal to all activated SLNs.
Subsequently, these SLNs conclude their training process after completing the current iteration.
Moreover, the task requester is endowed with the ability to aggregate the global model from any location with mainchain access, thus facilitating decentralized control.
In addition, IoT devices, once authorized, can engage in training on the edge shard blockchain.
This participation not only augments model accuracy but also allows for the convenient acquisition of the most up-to-date intelligent services, reducing the need for centralized infrastructure.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span><span id="S4.SS3.1.1" class="ltx_text ltx_font_italic">ChainFL Consensus</span>
</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">As described in Section <a href="#S3" title="3 Our Proposed ChainFL System ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, the Raft consensus and the DAG consensus are adopted in each subchain and the mainchain, respectively.</p>
</div>
<section id="S4.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.1 </span><span id="S4.SS3.SSS1.1.1" class="ltx_text ltx_font_bold">Raft Consensus</span>
</h4>

<div id="S4.SS3.SSS1.p1" class="ltx_para">
<p id="S4.SS3.SSS1.p1.3" class="ltx_p">In a Raft consensus-based subchain network, edge nodes are classified as leaders or followers.
While detailed leader selection is beyond the scope of this paper (see <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> for more),
managing leader failures, such as offline incidents, is crucial.
Raft, a Crash Fault-Tolerance (CFT) protocol, ensures subchain continuity during leader crashes, detected via a heartbeat mechanism <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>.
Once a leader crash is detected, leader candidates initiate an election process.
Specifically, in Raft, the maximum number of failed nodes that can be tolerated, denoted as <math id="S4.SS3.SSS1.p1.1.m1.1" class="ltx_Math" alttext="a" display="inline"><semantics id="S4.SS3.SSS1.p1.1.m1.1a"><mi id="S4.SS3.SSS1.p1.1.m1.1.1" xref="S4.SS3.SSS1.p1.1.m1.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.1.m1.1b"><ci id="S4.SS3.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.1.m1.1c">a</annotation></semantics></math>, is determined by the condition <math id="S4.SS3.SSS1.p1.2.m2.1" class="ltx_Math" alttext="b=2a+1" display="inline"><semantics id="S4.SS3.SSS1.p1.2.m2.1a"><mrow id="S4.SS3.SSS1.p1.2.m2.1.1" xref="S4.SS3.SSS1.p1.2.m2.1.1.cmml"><mi id="S4.SS3.SSS1.p1.2.m2.1.1.2" xref="S4.SS3.SSS1.p1.2.m2.1.1.2.cmml">b</mi><mo id="S4.SS3.SSS1.p1.2.m2.1.1.1" xref="S4.SS3.SSS1.p1.2.m2.1.1.1.cmml">=</mo><mrow id="S4.SS3.SSS1.p1.2.m2.1.1.3" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.cmml"><mrow id="S4.SS3.SSS1.p1.2.m2.1.1.3.2" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.2.cmml"><mn id="S4.SS3.SSS1.p1.2.m2.1.1.3.2.2" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S4.SS3.SSS1.p1.2.m2.1.1.3.2.1" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.2.1.cmml">​</mo><mi id="S4.SS3.SSS1.p1.2.m2.1.1.3.2.3" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.2.3.cmml">a</mi></mrow><mo id="S4.SS3.SSS1.p1.2.m2.1.1.3.1" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.1.cmml">+</mo><mn id="S4.SS3.SSS1.p1.2.m2.1.1.3.3" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.2.m2.1b"><apply id="S4.SS3.SSS1.p1.2.m2.1.1.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1"><eq id="S4.SS3.SSS1.p1.2.m2.1.1.1.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.1"></eq><ci id="S4.SS3.SSS1.p1.2.m2.1.1.2.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.2">𝑏</ci><apply id="S4.SS3.SSS1.p1.2.m2.1.1.3.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.3"><plus id="S4.SS3.SSS1.p1.2.m2.1.1.3.1.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.1"></plus><apply id="S4.SS3.SSS1.p1.2.m2.1.1.3.2.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.2"><times id="S4.SS3.SSS1.p1.2.m2.1.1.3.2.1.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.2.1"></times><cn type="integer" id="S4.SS3.SSS1.p1.2.m2.1.1.3.2.2.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.2.2">2</cn><ci id="S4.SS3.SSS1.p1.2.m2.1.1.3.2.3.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.2.3">𝑎</ci></apply><cn type="integer" id="S4.SS3.SSS1.p1.2.m2.1.1.3.3.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.2.m2.1c">b=2a+1</annotation></semantics></math>, where <math id="S4.SS3.SSS1.p1.3.m3.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S4.SS3.SSS1.p1.3.m3.1a"><mi id="S4.SS3.SSS1.p1.3.m3.1.1" xref="S4.SS3.SSS1.p1.3.m3.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.3.m3.1b"><ci id="S4.SS3.SSS1.p1.3.m3.1.1.cmml" xref="S4.SS3.SSS1.p1.3.m3.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.3.m3.1c">b</annotation></semantics></math> represents the total number of edge nodes present within a shard.
As shown in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 4.2 FL Process ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, followers have the responsibility of validating received transactions (updated local models) and forwarding the valid ones to the leader.
The leader then arranges these transactions in chronological order based on their generation time.
Once the cumulative size of the transactions reaches a threshold or the designated period ends, the leader creates a block and broadcasts it to all followers.
Followers approve the block after confirming the signatures and verifying the transactions it contains.
Then, consensus on this block is reached when the leader receives positive responses from at least half of all followers.</p>
</div>
<div id="S4.SS3.SSS1.p2" class="ltx_para">
<p id="S4.SS3.SSS1.p2.1" class="ltx_p">By partitioning a large-scale blockchain network into multiple independent shards, the system throughput is scaled effectively with the help of parallel consensus and separate data storage.
These approaches localize most data synchronization to individual shards rather than the entire network, significantly reducing communication rounds and expediting transaction processing.
In addition, local models are stored exclusively in the ledger of their respective shards, substantially decreasing the data storage requirements for the blockchain nodes.
Furthermore, the influence of stragglers is limited to their own shards, which prevents network-wide impact.</p>
</div>
</section>
<section id="S4.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.2 </span><span id="S4.SS3.SSS2.1.1" class="ltx_text ltx_font_bold">DAG Consensus-based Virtual Pruning</span>
</h4>

<figure id="S4.F4" class="ltx_figure"><img src="/html/2104.13130/assets/x5.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_img_square" width="221" height="180" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Three situations in the lifecycle of each tip.</figcaption>
</figure>
<div id="S4.SS3.SSS2.p1" class="ltx_para">
<p id="S4.SS3.SSS2.p1.1" class="ltx_p">As outlined in Algorithm <a href="#alg2" title="Algorithm 2 ‣ 4.2 FL Process ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, SLNs utilize a set of <math id="S4.SS3.SSS2.p1.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.SSS2.p1.1.m1.1a"><mi id="S4.SS3.SSS2.p1.1.m1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.1.m1.1b"><ci id="S4.SS3.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.1.m1.1c">\lambda</annotation></semantics></math> tips for the construction of the basic iteration model.
Subsequently, these selected tips are approved by the updated shard model, which itself is trained from the basic iteration model in the current iteration, and is thereafter encapsulated in new mainchain transactions.
However, the mainchain might include two types of abnormal transactions: malicious transactions from malicious shards and stale transactions comprising outdated models from stragglers.
The tip selection, as presented in Algorithm <a href="#alg2" title="Algorithm 2 ‣ 4.2 FL Process ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, effectively detects such abnormal transactions by merging a voting system with mainchain transaction accuracy checks.
Transactions characterized by low accuracy, for instance, are more likely to be ignored, thus precluding their utilization in the aggregation of the basic iteration model.
In Section <a href="#S4.SS3.SSS3" title="4.3.3 Probability Analysis for Tip Selection ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3.3</span></a>, we develop a probabilistic model to quantify the likelihood that the basic iterative model incorporates tips with low accuracy.
In DAG-based consensus, the approval rate for abnormal transactions is lower compared to normal ones, but these unapproved transactions are retained as tips in the graph of the mainchain.
Over time, the growing share of abnormal transactions among tips increases the risk of their selection by SLNs for the basic iteration model.</p>
</div>
<div id="S4.SS3.SSS2.p2" class="ltx_para">
<p id="S4.SS3.SSS2.p2.1" class="ltx_p">To address this issue, we set a waiting period called <em id="S4.SS3.SSS2.p2.1.1" class="ltx_emph ltx_font_italic">freshness time</em> in the mainchain to eliminate the effect of abnormal transactions.
This freshness time is applied independently to each tip and begins counting once the tip is received by the mainchain node.
As depicted in Fig. <a href="#S4.F4" title="Figure 4 ‣ 4.3.2 DAG Consensus-based Virtual Pruning ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, each tip undergoes one of three potential scenarios during its lifecycle.
For a tip to be approved by other transactions, it must be selected as a candidate by at least one SLN within its freshness time.
Tips failing to be chosen within their freshness time are subsequently disregarded by all SLNs.
This mechanism of tip selection, coupled with the enforcement of freshness time, effectively mitigates the influence of abnormal transactions, leading to a virtual pruning of the DAG.
In the mainchain, a transaction is deemed to have reached consensus when it secures approval from a sufficient number of other transactions, denoted as <math id="S4.SS3.SSS2.p2.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.SS3.SSS2.p2.1.m1.1a"><mi id="S4.SS3.SSS2.p2.1.m1.1.1" xref="S4.SS3.SSS2.p2.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.1.m1.1b"><ci id="S4.SS3.SSS2.p2.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.1.m1.1c">N</annotation></semantics></math>, either directly or indirectly.
Notably, while each Raft-based shard is limited to handling crash faults, this DAG consensus process efficiently mitigates the negative impact of malicious devices and shards on FL tasks.</p>
</div>
</section>
<section id="S4.SS3.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.3 </span><span id="S4.SS3.SSS3.1.1" class="ltx_text ltx_font_bold">Probability Analysis for Tip Selection</span>
</h4>

<div id="S4.SS3.SSS3.p1" class="ltx_para">
<p id="S4.SS3.SSS3.p1.12" class="ltx_p">As outlined in Algorithm 2, SLNs select <math id="S4.SS3.SSS3.p1.1.m1.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S4.SS3.SSS3.p1.1.m1.1a"><mi id="S4.SS3.SSS3.p1.1.m1.1.1" xref="S4.SS3.SSS3.p1.1.m1.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.1.m1.1b"><ci id="S4.SS3.SSS3.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS3.p1.1.m1.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.1.m1.1c">\eta</annotation></semantics></math> tips from the DAG mainchain and subsequently identify the first <math id="S4.SS3.SSS3.p1.2.m2.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.SSS3.p1.2.m2.1a"><mi id="S4.SS3.SSS3.p1.2.m2.1.1" xref="S4.SS3.SSS3.p1.2.m2.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.2.m2.1b"><ci id="S4.SS3.SSS3.p1.2.m2.1.1.cmml" xref="S4.SS3.SSS3.p1.2.m2.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.2.m2.1c">\lambda</annotation></semantics></math> (where <math id="S4.SS3.SSS3.p1.3.m3.1" class="ltx_Math" alttext="\lambda&lt;\eta" display="inline"><semantics id="S4.SS3.SSS3.p1.3.m3.1a"><mrow id="S4.SS3.SSS3.p1.3.m3.1.1" xref="S4.SS3.SSS3.p1.3.m3.1.1.cmml"><mi id="S4.SS3.SSS3.p1.3.m3.1.1.2" xref="S4.SS3.SSS3.p1.3.m3.1.1.2.cmml">λ</mi><mo id="S4.SS3.SSS3.p1.3.m3.1.1.1" xref="S4.SS3.SSS3.p1.3.m3.1.1.1.cmml">&lt;</mo><mi id="S4.SS3.SSS3.p1.3.m3.1.1.3" xref="S4.SS3.SSS3.p1.3.m3.1.1.3.cmml">η</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.3.m3.1b"><apply id="S4.SS3.SSS3.p1.3.m3.1.1.cmml" xref="S4.SS3.SSS3.p1.3.m3.1.1"><lt id="S4.SS3.SSS3.p1.3.m3.1.1.1.cmml" xref="S4.SS3.SSS3.p1.3.m3.1.1.1"></lt><ci id="S4.SS3.SSS3.p1.3.m3.1.1.2.cmml" xref="S4.SS3.SSS3.p1.3.m3.1.1.2">𝜆</ci><ci id="S4.SS3.SSS3.p1.3.m3.1.1.3.cmml" xref="S4.SS3.SSS3.p1.3.m3.1.1.3">𝜂</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.3.m3.1c">\lambda&lt;\eta</annotation></semantics></math>) tips with the highest accuracy to build a basic iteration model.
To model this probability, we introduce an auxiliary parameter denoted as <math id="S4.SS3.SSS3.p1.4.m4.1" class="ltx_Math" alttext="A^{\prime}" display="inline"><semantics id="S4.SS3.SSS3.p1.4.m4.1a"><msup id="S4.SS3.SSS3.p1.4.m4.1.1" xref="S4.SS3.SSS3.p1.4.m4.1.1.cmml"><mi id="S4.SS3.SSS3.p1.4.m4.1.1.2" xref="S4.SS3.SSS3.p1.4.m4.1.1.2.cmml">A</mi><mo id="S4.SS3.SSS3.p1.4.m4.1.1.3" xref="S4.SS3.SSS3.p1.4.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.4.m4.1b"><apply id="S4.SS3.SSS3.p1.4.m4.1.1.cmml" xref="S4.SS3.SSS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p1.4.m4.1.1.1.cmml" xref="S4.SS3.SSS3.p1.4.m4.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p1.4.m4.1.1.2.cmml" xref="S4.SS3.SSS3.p1.4.m4.1.1.2">𝐴</ci><ci id="S4.SS3.SSS3.p1.4.m4.1.1.3.cmml" xref="S4.SS3.SSS3.p1.4.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.4.m4.1c">A^{\prime}</annotation></semantics></math> (where <math id="S4.SS3.SSS3.p1.5.m5.1" class="ltx_Math" alttext="A^{\prime}\geq A_{\tau}" display="inline"><semantics id="S4.SS3.SSS3.p1.5.m5.1a"><mrow id="S4.SS3.SSS3.p1.5.m5.1.1" xref="S4.SS3.SSS3.p1.5.m5.1.1.cmml"><msup id="S4.SS3.SSS3.p1.5.m5.1.1.2" xref="S4.SS3.SSS3.p1.5.m5.1.1.2.cmml"><mi id="S4.SS3.SSS3.p1.5.m5.1.1.2.2" xref="S4.SS3.SSS3.p1.5.m5.1.1.2.2.cmml">A</mi><mo id="S4.SS3.SSS3.p1.5.m5.1.1.2.3" xref="S4.SS3.SSS3.p1.5.m5.1.1.2.3.cmml">′</mo></msup><mo id="S4.SS3.SSS3.p1.5.m5.1.1.1" xref="S4.SS3.SSS3.p1.5.m5.1.1.1.cmml">≥</mo><msub id="S4.SS3.SSS3.p1.5.m5.1.1.3" xref="S4.SS3.SSS3.p1.5.m5.1.1.3.cmml"><mi id="S4.SS3.SSS3.p1.5.m5.1.1.3.2" xref="S4.SS3.SSS3.p1.5.m5.1.1.3.2.cmml">A</mi><mi id="S4.SS3.SSS3.p1.5.m5.1.1.3.3" xref="S4.SS3.SSS3.p1.5.m5.1.1.3.3.cmml">τ</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.5.m5.1b"><apply id="S4.SS3.SSS3.p1.5.m5.1.1.cmml" xref="S4.SS3.SSS3.p1.5.m5.1.1"><geq id="S4.SS3.SSS3.p1.5.m5.1.1.1.cmml" xref="S4.SS3.SSS3.p1.5.m5.1.1.1"></geq><apply id="S4.SS3.SSS3.p1.5.m5.1.1.2.cmml" xref="S4.SS3.SSS3.p1.5.m5.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p1.5.m5.1.1.2.1.cmml" xref="S4.SS3.SSS3.p1.5.m5.1.1.2">superscript</csymbol><ci id="S4.SS3.SSS3.p1.5.m5.1.1.2.2.cmml" xref="S4.SS3.SSS3.p1.5.m5.1.1.2.2">𝐴</ci><ci id="S4.SS3.SSS3.p1.5.m5.1.1.2.3.cmml" xref="S4.SS3.SSS3.p1.5.m5.1.1.2.3">′</ci></apply><apply id="S4.SS3.SSS3.p1.5.m5.1.1.3.cmml" xref="S4.SS3.SSS3.p1.5.m5.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p1.5.m5.1.1.3.1.cmml" xref="S4.SS3.SSS3.p1.5.m5.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS3.p1.5.m5.1.1.3.2.cmml" xref="S4.SS3.SSS3.p1.5.m5.1.1.3.2">𝐴</ci><ci id="S4.SS3.SSS3.p1.5.m5.1.1.3.3.cmml" xref="S4.SS3.SSS3.p1.5.m5.1.1.3.3">𝜏</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.5.m5.1c">A^{\prime}\geq A_{\tau}</annotation></semantics></math>) and assume that there exist <math id="S4.SS3.SSS3.p1.6.m6.1" class="ltx_Math" alttext="a" display="inline"><semantics id="S4.SS3.SSS3.p1.6.m6.1a"><mi id="S4.SS3.SSS3.p1.6.m6.1.1" xref="S4.SS3.SSS3.p1.6.m6.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.6.m6.1b"><ci id="S4.SS3.SSS3.p1.6.m6.1.1.cmml" xref="S4.SS3.SSS3.p1.6.m6.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.6.m6.1c">a</annotation></semantics></math> tips with an accuracy equal to or greater than <math id="S4.SS3.SSS3.p1.7.m7.1" class="ltx_Math" alttext="A^{\prime}" display="inline"><semantics id="S4.SS3.SSS3.p1.7.m7.1a"><msup id="S4.SS3.SSS3.p1.7.m7.1.1" xref="S4.SS3.SSS3.p1.7.m7.1.1.cmml"><mi id="S4.SS3.SSS3.p1.7.m7.1.1.2" xref="S4.SS3.SSS3.p1.7.m7.1.1.2.cmml">A</mi><mo id="S4.SS3.SSS3.p1.7.m7.1.1.3" xref="S4.SS3.SSS3.p1.7.m7.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.7.m7.1b"><apply id="S4.SS3.SSS3.p1.7.m7.1.1.cmml" xref="S4.SS3.SSS3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p1.7.m7.1.1.1.cmml" xref="S4.SS3.SSS3.p1.7.m7.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p1.7.m7.1.1.2.cmml" xref="S4.SS3.SSS3.p1.7.m7.1.1.2">𝐴</ci><ci id="S4.SS3.SSS3.p1.7.m7.1.1.3.cmml" xref="S4.SS3.SSS3.p1.7.m7.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.7.m7.1c">A^{\prime}</annotation></semantics></math> in the DAG mainchain.
The total number of the available tips in the DAG mainchain is denoted as <math id="S4.SS3.SSS3.p1.8.m8.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S4.SS3.SSS3.p1.8.m8.1a"><mi id="S4.SS3.SSS3.p1.8.m8.1.1" xref="S4.SS3.SSS3.p1.8.m8.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.8.m8.1b"><ci id="S4.SS3.SSS3.p1.8.m8.1.1.cmml" xref="S4.SS3.SSS3.p1.8.m8.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.8.m8.1c">I</annotation></semantics></math>.
Then, we can determine the probability of the <math id="S4.SS3.SSS3.p1.9.m9.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S4.SS3.SSS3.p1.9.m9.1a"><mi id="S4.SS3.SSS3.p1.9.m9.1.1" xref="S4.SS3.SSS3.p1.9.m9.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.9.m9.1b"><ci id="S4.SS3.SSS3.p1.9.m9.1.1.cmml" xref="S4.SS3.SSS3.p1.9.m9.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.9.m9.1c">b</annotation></semantics></math> (where <math id="S4.SS3.SSS3.p1.10.m10.1" class="ltx_Math" alttext="b\leq I-a" display="inline"><semantics id="S4.SS3.SSS3.p1.10.m10.1a"><mrow id="S4.SS3.SSS3.p1.10.m10.1.1" xref="S4.SS3.SSS3.p1.10.m10.1.1.cmml"><mi id="S4.SS3.SSS3.p1.10.m10.1.1.2" xref="S4.SS3.SSS3.p1.10.m10.1.1.2.cmml">b</mi><mo id="S4.SS3.SSS3.p1.10.m10.1.1.1" xref="S4.SS3.SSS3.p1.10.m10.1.1.1.cmml">≤</mo><mrow id="S4.SS3.SSS3.p1.10.m10.1.1.3" xref="S4.SS3.SSS3.p1.10.m10.1.1.3.cmml"><mi id="S4.SS3.SSS3.p1.10.m10.1.1.3.2" xref="S4.SS3.SSS3.p1.10.m10.1.1.3.2.cmml">I</mi><mo id="S4.SS3.SSS3.p1.10.m10.1.1.3.1" xref="S4.SS3.SSS3.p1.10.m10.1.1.3.1.cmml">−</mo><mi id="S4.SS3.SSS3.p1.10.m10.1.1.3.3" xref="S4.SS3.SSS3.p1.10.m10.1.1.3.3.cmml">a</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.10.m10.1b"><apply id="S4.SS3.SSS3.p1.10.m10.1.1.cmml" xref="S4.SS3.SSS3.p1.10.m10.1.1"><leq id="S4.SS3.SSS3.p1.10.m10.1.1.1.cmml" xref="S4.SS3.SSS3.p1.10.m10.1.1.1"></leq><ci id="S4.SS3.SSS3.p1.10.m10.1.1.2.cmml" xref="S4.SS3.SSS3.p1.10.m10.1.1.2">𝑏</ci><apply id="S4.SS3.SSS3.p1.10.m10.1.1.3.cmml" xref="S4.SS3.SSS3.p1.10.m10.1.1.3"><minus id="S4.SS3.SSS3.p1.10.m10.1.1.3.1.cmml" xref="S4.SS3.SSS3.p1.10.m10.1.1.3.1"></minus><ci id="S4.SS3.SSS3.p1.10.m10.1.1.3.2.cmml" xref="S4.SS3.SSS3.p1.10.m10.1.1.3.2">𝐼</ci><ci id="S4.SS3.SSS3.p1.10.m10.1.1.3.3.cmml" xref="S4.SS3.SSS3.p1.10.m10.1.1.3.3">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.10.m10.1c">b\leq I-a</annotation></semantics></math>) tips whose accuracy is below <math id="S4.SS3.SSS3.p1.11.m11.1" class="ltx_Math" alttext="A^{\prime}" display="inline"><semantics id="S4.SS3.SSS3.p1.11.m11.1a"><msup id="S4.SS3.SSS3.p1.11.m11.1.1" xref="S4.SS3.SSS3.p1.11.m11.1.1.cmml"><mi id="S4.SS3.SSS3.p1.11.m11.1.1.2" xref="S4.SS3.SSS3.p1.11.m11.1.1.2.cmml">A</mi><mo id="S4.SS3.SSS3.p1.11.m11.1.1.3" xref="S4.SS3.SSS3.p1.11.m11.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.11.m11.1b"><apply id="S4.SS3.SSS3.p1.11.m11.1.1.cmml" xref="S4.SS3.SSS3.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p1.11.m11.1.1.1.cmml" xref="S4.SS3.SSS3.p1.11.m11.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p1.11.m11.1.1.2.cmml" xref="S4.SS3.SSS3.p1.11.m11.1.1.2">𝐴</ci><ci id="S4.SS3.SSS3.p1.11.m11.1.1.3.cmml" xref="S4.SS3.SSS3.p1.11.m11.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.11.m11.1c">A^{\prime}</annotation></semantics></math> in selected <math id="S4.SS3.SSS3.p1.12.m12.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S4.SS3.SSS3.p1.12.m12.1a"><mi id="S4.SS3.SSS3.p1.12.m12.1.1" xref="S4.SS3.SSS3.p1.12.m12.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p1.12.m12.1b"><ci id="S4.SS3.SSS3.p1.12.m12.1.1.cmml" xref="S4.SS3.SSS3.p1.12.m12.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p1.12.m12.1c">\eta</annotation></semantics></math> tips, and the probability is</p>
<table id="S4.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E5.m1.2" class="ltx_Math" alttext="P\left(b\right)=\frac{C_{I-a}^{b}C_{a}^{\eta-b}}{C_{I}^{\eta}}." display="block"><semantics id="S4.E5.m1.2a"><mrow id="S4.E5.m1.2.2.1" xref="S4.E5.m1.2.2.1.1.cmml"><mrow id="S4.E5.m1.2.2.1.1" xref="S4.E5.m1.2.2.1.1.cmml"><mrow id="S4.E5.m1.2.2.1.1.2" xref="S4.E5.m1.2.2.1.1.2.cmml"><mi id="S4.E5.m1.2.2.1.1.2.2" xref="S4.E5.m1.2.2.1.1.2.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S4.E5.m1.2.2.1.1.2.1" xref="S4.E5.m1.2.2.1.1.2.1.cmml">​</mo><mrow id="S4.E5.m1.2.2.1.1.2.3.2" xref="S4.E5.m1.2.2.1.1.2.cmml"><mo id="S4.E5.m1.2.2.1.1.2.3.2.1" xref="S4.E5.m1.2.2.1.1.2.cmml">(</mo><mi id="S4.E5.m1.1.1" xref="S4.E5.m1.1.1.cmml">b</mi><mo id="S4.E5.m1.2.2.1.1.2.3.2.2" xref="S4.E5.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E5.m1.2.2.1.1.1" xref="S4.E5.m1.2.2.1.1.1.cmml">=</mo><mfrac id="S4.E5.m1.2.2.1.1.3" xref="S4.E5.m1.2.2.1.1.3.cmml"><mrow id="S4.E5.m1.2.2.1.1.3.2" xref="S4.E5.m1.2.2.1.1.3.2.cmml"><msubsup id="S4.E5.m1.2.2.1.1.3.2.2" xref="S4.E5.m1.2.2.1.1.3.2.2.cmml"><mi id="S4.E5.m1.2.2.1.1.3.2.2.2.2" xref="S4.E5.m1.2.2.1.1.3.2.2.2.2.cmml">C</mi><mrow id="S4.E5.m1.2.2.1.1.3.2.2.2.3" xref="S4.E5.m1.2.2.1.1.3.2.2.2.3.cmml"><mi id="S4.E5.m1.2.2.1.1.3.2.2.2.3.2" xref="S4.E5.m1.2.2.1.1.3.2.2.2.3.2.cmml">I</mi><mo id="S4.E5.m1.2.2.1.1.3.2.2.2.3.1" xref="S4.E5.m1.2.2.1.1.3.2.2.2.3.1.cmml">−</mo><mi id="S4.E5.m1.2.2.1.1.3.2.2.2.3.3" xref="S4.E5.m1.2.2.1.1.3.2.2.2.3.3.cmml">a</mi></mrow><mi id="S4.E5.m1.2.2.1.1.3.2.2.3" xref="S4.E5.m1.2.2.1.1.3.2.2.3.cmml">b</mi></msubsup><mo lspace="0em" rspace="0em" id="S4.E5.m1.2.2.1.1.3.2.1" xref="S4.E5.m1.2.2.1.1.3.2.1.cmml">​</mo><msubsup id="S4.E5.m1.2.2.1.1.3.2.3" xref="S4.E5.m1.2.2.1.1.3.2.3.cmml"><mi id="S4.E5.m1.2.2.1.1.3.2.3.2.2" xref="S4.E5.m1.2.2.1.1.3.2.3.2.2.cmml">C</mi><mi id="S4.E5.m1.2.2.1.1.3.2.3.2.3" xref="S4.E5.m1.2.2.1.1.3.2.3.2.3.cmml">a</mi><mrow id="S4.E5.m1.2.2.1.1.3.2.3.3" xref="S4.E5.m1.2.2.1.1.3.2.3.3.cmml"><mi id="S4.E5.m1.2.2.1.1.3.2.3.3.2" xref="S4.E5.m1.2.2.1.1.3.2.3.3.2.cmml">η</mi><mo id="S4.E5.m1.2.2.1.1.3.2.3.3.1" xref="S4.E5.m1.2.2.1.1.3.2.3.3.1.cmml">−</mo><mi id="S4.E5.m1.2.2.1.1.3.2.3.3.3" xref="S4.E5.m1.2.2.1.1.3.2.3.3.3.cmml">b</mi></mrow></msubsup></mrow><msubsup id="S4.E5.m1.2.2.1.1.3.3" xref="S4.E5.m1.2.2.1.1.3.3.cmml"><mi id="S4.E5.m1.2.2.1.1.3.3.2.2" xref="S4.E5.m1.2.2.1.1.3.3.2.2.cmml">C</mi><mi id="S4.E5.m1.2.2.1.1.3.3.2.3" xref="S4.E5.m1.2.2.1.1.3.3.2.3.cmml">I</mi><mi id="S4.E5.m1.2.2.1.1.3.3.3" xref="S4.E5.m1.2.2.1.1.3.3.3.cmml">η</mi></msubsup></mfrac></mrow><mo lspace="0em" id="S4.E5.m1.2.2.1.2" xref="S4.E5.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E5.m1.2b"><apply id="S4.E5.m1.2.2.1.1.cmml" xref="S4.E5.m1.2.2.1"><eq id="S4.E5.m1.2.2.1.1.1.cmml" xref="S4.E5.m1.2.2.1.1.1"></eq><apply id="S4.E5.m1.2.2.1.1.2.cmml" xref="S4.E5.m1.2.2.1.1.2"><times id="S4.E5.m1.2.2.1.1.2.1.cmml" xref="S4.E5.m1.2.2.1.1.2.1"></times><ci id="S4.E5.m1.2.2.1.1.2.2.cmml" xref="S4.E5.m1.2.2.1.1.2.2">𝑃</ci><ci id="S4.E5.m1.1.1.cmml" xref="S4.E5.m1.1.1">𝑏</ci></apply><apply id="S4.E5.m1.2.2.1.1.3.cmml" xref="S4.E5.m1.2.2.1.1.3"><divide id="S4.E5.m1.2.2.1.1.3.1.cmml" xref="S4.E5.m1.2.2.1.1.3"></divide><apply id="S4.E5.m1.2.2.1.1.3.2.cmml" xref="S4.E5.m1.2.2.1.1.3.2"><times id="S4.E5.m1.2.2.1.1.3.2.1.cmml" xref="S4.E5.m1.2.2.1.1.3.2.1"></times><apply id="S4.E5.m1.2.2.1.1.3.2.2.cmml" xref="S4.E5.m1.2.2.1.1.3.2.2"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.1.1.3.2.2.1.cmml" xref="S4.E5.m1.2.2.1.1.3.2.2">superscript</csymbol><apply id="S4.E5.m1.2.2.1.1.3.2.2.2.cmml" xref="S4.E5.m1.2.2.1.1.3.2.2"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.1.1.3.2.2.2.1.cmml" xref="S4.E5.m1.2.2.1.1.3.2.2">subscript</csymbol><ci id="S4.E5.m1.2.2.1.1.3.2.2.2.2.cmml" xref="S4.E5.m1.2.2.1.1.3.2.2.2.2">𝐶</ci><apply id="S4.E5.m1.2.2.1.1.3.2.2.2.3.cmml" xref="S4.E5.m1.2.2.1.1.3.2.2.2.3"><minus id="S4.E5.m1.2.2.1.1.3.2.2.2.3.1.cmml" xref="S4.E5.m1.2.2.1.1.3.2.2.2.3.1"></minus><ci id="S4.E5.m1.2.2.1.1.3.2.2.2.3.2.cmml" xref="S4.E5.m1.2.2.1.1.3.2.2.2.3.2">𝐼</ci><ci id="S4.E5.m1.2.2.1.1.3.2.2.2.3.3.cmml" xref="S4.E5.m1.2.2.1.1.3.2.2.2.3.3">𝑎</ci></apply></apply><ci id="S4.E5.m1.2.2.1.1.3.2.2.3.cmml" xref="S4.E5.m1.2.2.1.1.3.2.2.3">𝑏</ci></apply><apply id="S4.E5.m1.2.2.1.1.3.2.3.cmml" xref="S4.E5.m1.2.2.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.1.1.3.2.3.1.cmml" xref="S4.E5.m1.2.2.1.1.3.2.3">superscript</csymbol><apply id="S4.E5.m1.2.2.1.1.3.2.3.2.cmml" xref="S4.E5.m1.2.2.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.1.1.3.2.3.2.1.cmml" xref="S4.E5.m1.2.2.1.1.3.2.3">subscript</csymbol><ci id="S4.E5.m1.2.2.1.1.3.2.3.2.2.cmml" xref="S4.E5.m1.2.2.1.1.3.2.3.2.2">𝐶</ci><ci id="S4.E5.m1.2.2.1.1.3.2.3.2.3.cmml" xref="S4.E5.m1.2.2.1.1.3.2.3.2.3">𝑎</ci></apply><apply id="S4.E5.m1.2.2.1.1.3.2.3.3.cmml" xref="S4.E5.m1.2.2.1.1.3.2.3.3"><minus id="S4.E5.m1.2.2.1.1.3.2.3.3.1.cmml" xref="S4.E5.m1.2.2.1.1.3.2.3.3.1"></minus><ci id="S4.E5.m1.2.2.1.1.3.2.3.3.2.cmml" xref="S4.E5.m1.2.2.1.1.3.2.3.3.2">𝜂</ci><ci id="S4.E5.m1.2.2.1.1.3.2.3.3.3.cmml" xref="S4.E5.m1.2.2.1.1.3.2.3.3.3">𝑏</ci></apply></apply></apply><apply id="S4.E5.m1.2.2.1.1.3.3.cmml" xref="S4.E5.m1.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.1.1.3.3.1.cmml" xref="S4.E5.m1.2.2.1.1.3.3">superscript</csymbol><apply id="S4.E5.m1.2.2.1.1.3.3.2.cmml" xref="S4.E5.m1.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.1.1.3.3.2.1.cmml" xref="S4.E5.m1.2.2.1.1.3.3">subscript</csymbol><ci id="S4.E5.m1.2.2.1.1.3.3.2.2.cmml" xref="S4.E5.m1.2.2.1.1.3.3.2.2">𝐶</ci><ci id="S4.E5.m1.2.2.1.1.3.3.2.3.cmml" xref="S4.E5.m1.2.2.1.1.3.3.2.3">𝐼</ci></apply><ci id="S4.E5.m1.2.2.1.1.3.3.3.cmml" xref="S4.E5.m1.2.2.1.1.3.3.3">𝜂</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5.m1.2c">P\left(b\right)=\frac{C_{I-a}^{b}C_{a}^{\eta-b}}{C_{I}^{\eta}}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS3.SSS3.p2" class="ltx_para">
<p id="S4.SS3.SSS3.p2.6" class="ltx_p">In addition, the goal of tip selection during the interaction between the SLN and the DAG mainchain is to prioritize the tips with higher accuracy.
If the number of tips with an accuracy lower than <math id="S4.SS3.SSS3.p2.1.m1.1" class="ltx_Math" alttext="A^{\prime}" display="inline"><semantics id="S4.SS3.SSS3.p2.1.m1.1a"><msup id="S4.SS3.SSS3.p2.1.m1.1.1" xref="S4.SS3.SSS3.p2.1.m1.1.1.cmml"><mi id="S4.SS3.SSS3.p2.1.m1.1.1.2" xref="S4.SS3.SSS3.p2.1.m1.1.1.2.cmml">A</mi><mo id="S4.SS3.SSS3.p2.1.m1.1.1.3" xref="S4.SS3.SSS3.p2.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.1.m1.1b"><apply id="S4.SS3.SSS3.p2.1.m1.1.1.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.1.m1.1.1.1.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p2.1.m1.1.1.2.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1.2">𝐴</ci><ci id="S4.SS3.SSS3.p2.1.m1.1.1.3.cmml" xref="S4.SS3.SSS3.p2.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.1.m1.1c">A^{\prime}</annotation></semantics></math> in the selected <math id="S4.SS3.SSS3.p2.2.m2.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S4.SS3.SSS3.p2.2.m2.1a"><mi id="S4.SS3.SSS3.p2.2.m2.1.1" xref="S4.SS3.SSS3.p2.2.m2.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.2.m2.1b"><ci id="S4.SS3.SSS3.p2.2.m2.1.1.cmml" xref="S4.SS3.SSS3.p2.2.m2.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.2.m2.1c">\eta</annotation></semantics></math> tips is greater than <math id="S4.SS3.SSS3.p2.3.m3.1" class="ltx_Math" alttext="\eta-\lambda" display="inline"><semantics id="S4.SS3.SSS3.p2.3.m3.1a"><mrow id="S4.SS3.SSS3.p2.3.m3.1.1" xref="S4.SS3.SSS3.p2.3.m3.1.1.cmml"><mi id="S4.SS3.SSS3.p2.3.m3.1.1.2" xref="S4.SS3.SSS3.p2.3.m3.1.1.2.cmml">η</mi><mo id="S4.SS3.SSS3.p2.3.m3.1.1.1" xref="S4.SS3.SSS3.p2.3.m3.1.1.1.cmml">−</mo><mi id="S4.SS3.SSS3.p2.3.m3.1.1.3" xref="S4.SS3.SSS3.p2.3.m3.1.1.3.cmml">λ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.3.m3.1b"><apply id="S4.SS3.SSS3.p2.3.m3.1.1.cmml" xref="S4.SS3.SSS3.p2.3.m3.1.1"><minus id="S4.SS3.SSS3.p2.3.m3.1.1.1.cmml" xref="S4.SS3.SSS3.p2.3.m3.1.1.1"></minus><ci id="S4.SS3.SSS3.p2.3.m3.1.1.2.cmml" xref="S4.SS3.SSS3.p2.3.m3.1.1.2">𝜂</ci><ci id="S4.SS3.SSS3.p2.3.m3.1.1.3.cmml" xref="S4.SS3.SSS3.p2.3.m3.1.1.3">𝜆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.3.m3.1c">\eta-\lambda</annotation></semantics></math>, which is equivalent to <math id="S4.SS3.SSS3.p2.4.m4.1" class="ltx_Math" alttext="b&gt;\eta-\lambda" display="inline"><semantics id="S4.SS3.SSS3.p2.4.m4.1a"><mrow id="S4.SS3.SSS3.p2.4.m4.1.1" xref="S4.SS3.SSS3.p2.4.m4.1.1.cmml"><mi id="S4.SS3.SSS3.p2.4.m4.1.1.2" xref="S4.SS3.SSS3.p2.4.m4.1.1.2.cmml">b</mi><mo id="S4.SS3.SSS3.p2.4.m4.1.1.1" xref="S4.SS3.SSS3.p2.4.m4.1.1.1.cmml">&gt;</mo><mrow id="S4.SS3.SSS3.p2.4.m4.1.1.3" xref="S4.SS3.SSS3.p2.4.m4.1.1.3.cmml"><mi id="S4.SS3.SSS3.p2.4.m4.1.1.3.2" xref="S4.SS3.SSS3.p2.4.m4.1.1.3.2.cmml">η</mi><mo id="S4.SS3.SSS3.p2.4.m4.1.1.3.1" xref="S4.SS3.SSS3.p2.4.m4.1.1.3.1.cmml">−</mo><mi id="S4.SS3.SSS3.p2.4.m4.1.1.3.3" xref="S4.SS3.SSS3.p2.4.m4.1.1.3.3.cmml">λ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.4.m4.1b"><apply id="S4.SS3.SSS3.p2.4.m4.1.1.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1"><gt id="S4.SS3.SSS3.p2.4.m4.1.1.1.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.1"></gt><ci id="S4.SS3.SSS3.p2.4.m4.1.1.2.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.2">𝑏</ci><apply id="S4.SS3.SSS3.p2.4.m4.1.1.3.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.3"><minus id="S4.SS3.SSS3.p2.4.m4.1.1.3.1.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.3.1"></minus><ci id="S4.SS3.SSS3.p2.4.m4.1.1.3.2.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.3.2">𝜂</ci><ci id="S4.SS3.SSS3.p2.4.m4.1.1.3.3.cmml" xref="S4.SS3.SSS3.p2.4.m4.1.1.3.3">𝜆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.4.m4.1c">b&gt;\eta-\lambda</annotation></semantics></math>, the basic iteration model will utilize tips with an accuracy below <math id="S4.SS3.SSS3.p2.5.m5.1" class="ltx_Math" alttext="A^{\prime}" display="inline"><semantics id="S4.SS3.SSS3.p2.5.m5.1a"><msup id="S4.SS3.SSS3.p2.5.m5.1.1" xref="S4.SS3.SSS3.p2.5.m5.1.1.cmml"><mi id="S4.SS3.SSS3.p2.5.m5.1.1.2" xref="S4.SS3.SSS3.p2.5.m5.1.1.2.cmml">A</mi><mo id="S4.SS3.SSS3.p2.5.m5.1.1.3" xref="S4.SS3.SSS3.p2.5.m5.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.5.m5.1b"><apply id="S4.SS3.SSS3.p2.5.m5.1.1.cmml" xref="S4.SS3.SSS3.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.5.m5.1.1.1.cmml" xref="S4.SS3.SSS3.p2.5.m5.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p2.5.m5.1.1.2.cmml" xref="S4.SS3.SSS3.p2.5.m5.1.1.2">𝐴</ci><ci id="S4.SS3.SSS3.p2.5.m5.1.1.3.cmml" xref="S4.SS3.SSS3.p2.5.m5.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.5.m5.1c">A^{\prime}</annotation></semantics></math>.
Therefore, we can derive the probability that tips with an accuracy lower than <math id="S4.SS3.SSS3.p2.6.m6.1" class="ltx_Math" alttext="A^{\prime}" display="inline"><semantics id="S4.SS3.SSS3.p2.6.m6.1a"><msup id="S4.SS3.SSS3.p2.6.m6.1.1" xref="S4.SS3.SSS3.p2.6.m6.1.1.cmml"><mi id="S4.SS3.SSS3.p2.6.m6.1.1.2" xref="S4.SS3.SSS3.p2.6.m6.1.1.2.cmml">A</mi><mo id="S4.SS3.SSS3.p2.6.m6.1.1.3" xref="S4.SS3.SSS3.p2.6.m6.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.6.m6.1b"><apply id="S4.SS3.SSS3.p2.6.m6.1.1.cmml" xref="S4.SS3.SSS3.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS3.p2.6.m6.1.1.1.cmml" xref="S4.SS3.SSS3.p2.6.m6.1.1">superscript</csymbol><ci id="S4.SS3.SSS3.p2.6.m6.1.1.2.cmml" xref="S4.SS3.SSS3.p2.6.m6.1.1.2">𝐴</ci><ci id="S4.SS3.SSS3.p2.6.m6.1.1.3.cmml" xref="S4.SS3.SSS3.p2.6.m6.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.6.m6.1c">A^{\prime}</annotation></semantics></math> are used to build the basic iteration model, and the probability is</p>
<table id="S4.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E6.m1.2" class="ltx_Math" alttext="P\left(b&gt;\eta-\lambda\right)=1-P\left(b\leq\eta-\lambda\right)=1-\sum_{b=0}^{\eta-\lambda}{P\left(b\right)}." display="block"><semantics id="S4.E6.m1.2a"><mrow id="S4.E6.m1.2.2.1" xref="S4.E6.m1.2.2.1.1.cmml"><mrow id="S4.E6.m1.2.2.1.1" xref="S4.E6.m1.2.2.1.1.cmml"><mrow id="S4.E6.m1.2.2.1.1.1" xref="S4.E6.m1.2.2.1.1.1.cmml"><mi id="S4.E6.m1.2.2.1.1.1.3" xref="S4.E6.m1.2.2.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S4.E6.m1.2.2.1.1.1.2" xref="S4.E6.m1.2.2.1.1.1.2.cmml">​</mo><mrow id="S4.E6.m1.2.2.1.1.1.1.1" xref="S4.E6.m1.2.2.1.1.1.1.1.1.cmml"><mo id="S4.E6.m1.2.2.1.1.1.1.1.2" xref="S4.E6.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E6.m1.2.2.1.1.1.1.1.1" xref="S4.E6.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S4.E6.m1.2.2.1.1.1.1.1.1.2" xref="S4.E6.m1.2.2.1.1.1.1.1.1.2.cmml">b</mi><mo id="S4.E6.m1.2.2.1.1.1.1.1.1.1" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.cmml">&gt;</mo><mrow id="S4.E6.m1.2.2.1.1.1.1.1.1.3" xref="S4.E6.m1.2.2.1.1.1.1.1.1.3.cmml"><mi id="S4.E6.m1.2.2.1.1.1.1.1.1.3.2" xref="S4.E6.m1.2.2.1.1.1.1.1.1.3.2.cmml">η</mi><mo id="S4.E6.m1.2.2.1.1.1.1.1.1.3.1" xref="S4.E6.m1.2.2.1.1.1.1.1.1.3.1.cmml">−</mo><mi id="S4.E6.m1.2.2.1.1.1.1.1.1.3.3" xref="S4.E6.m1.2.2.1.1.1.1.1.1.3.3.cmml">λ</mi></mrow></mrow><mo id="S4.E6.m1.2.2.1.1.1.1.1.3" xref="S4.E6.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E6.m1.2.2.1.1.4" xref="S4.E6.m1.2.2.1.1.4.cmml">=</mo><mrow id="S4.E6.m1.2.2.1.1.2" xref="S4.E6.m1.2.2.1.1.2.cmml"><mn id="S4.E6.m1.2.2.1.1.2.3" xref="S4.E6.m1.2.2.1.1.2.3.cmml">1</mn><mo id="S4.E6.m1.2.2.1.1.2.2" xref="S4.E6.m1.2.2.1.1.2.2.cmml">−</mo><mrow id="S4.E6.m1.2.2.1.1.2.1" xref="S4.E6.m1.2.2.1.1.2.1.cmml"><mi id="S4.E6.m1.2.2.1.1.2.1.3" xref="S4.E6.m1.2.2.1.1.2.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S4.E6.m1.2.2.1.1.2.1.2" xref="S4.E6.m1.2.2.1.1.2.1.2.cmml">​</mo><mrow id="S4.E6.m1.2.2.1.1.2.1.1.1" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.cmml"><mo id="S4.E6.m1.2.2.1.1.2.1.1.1.2" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S4.E6.m1.2.2.1.1.2.1.1.1.1" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.cmml"><mi id="S4.E6.m1.2.2.1.1.2.1.1.1.1.2" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.2.cmml">b</mi><mo id="S4.E6.m1.2.2.1.1.2.1.1.1.1.1" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.1.cmml">≤</mo><mrow id="S4.E6.m1.2.2.1.1.2.1.1.1.1.3" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.cmml"><mi id="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.2" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.2.cmml">η</mi><mo id="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.1" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.1.cmml">−</mo><mi id="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.3" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.3.cmml">λ</mi></mrow></mrow><mo id="S4.E6.m1.2.2.1.1.2.1.1.1.3" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E6.m1.2.2.1.1.5" xref="S4.E6.m1.2.2.1.1.5.cmml">=</mo><mrow id="S4.E6.m1.2.2.1.1.6" xref="S4.E6.m1.2.2.1.1.6.cmml"><mn id="S4.E6.m1.2.2.1.1.6.2" xref="S4.E6.m1.2.2.1.1.6.2.cmml">1</mn><mo rspace="0.055em" id="S4.E6.m1.2.2.1.1.6.1" xref="S4.E6.m1.2.2.1.1.6.1.cmml">−</mo><mrow id="S4.E6.m1.2.2.1.1.6.3" xref="S4.E6.m1.2.2.1.1.6.3.cmml"><munderover id="S4.E6.m1.2.2.1.1.6.3.1" xref="S4.E6.m1.2.2.1.1.6.3.1.cmml"><mo movablelimits="false" id="S4.E6.m1.2.2.1.1.6.3.1.2.2" xref="S4.E6.m1.2.2.1.1.6.3.1.2.2.cmml">∑</mo><mrow id="S4.E6.m1.2.2.1.1.6.3.1.2.3" xref="S4.E6.m1.2.2.1.1.6.3.1.2.3.cmml"><mi id="S4.E6.m1.2.2.1.1.6.3.1.2.3.2" xref="S4.E6.m1.2.2.1.1.6.3.1.2.3.2.cmml">b</mi><mo id="S4.E6.m1.2.2.1.1.6.3.1.2.3.1" xref="S4.E6.m1.2.2.1.1.6.3.1.2.3.1.cmml">=</mo><mn id="S4.E6.m1.2.2.1.1.6.3.1.2.3.3" xref="S4.E6.m1.2.2.1.1.6.3.1.2.3.3.cmml">0</mn></mrow><mrow id="S4.E6.m1.2.2.1.1.6.3.1.3" xref="S4.E6.m1.2.2.1.1.6.3.1.3.cmml"><mi id="S4.E6.m1.2.2.1.1.6.3.1.3.2" xref="S4.E6.m1.2.2.1.1.6.3.1.3.2.cmml">η</mi><mo id="S4.E6.m1.2.2.1.1.6.3.1.3.1" xref="S4.E6.m1.2.2.1.1.6.3.1.3.1.cmml">−</mo><mi id="S4.E6.m1.2.2.1.1.6.3.1.3.3" xref="S4.E6.m1.2.2.1.1.6.3.1.3.3.cmml">λ</mi></mrow></munderover><mrow id="S4.E6.m1.2.2.1.1.6.3.2" xref="S4.E6.m1.2.2.1.1.6.3.2.cmml"><mi id="S4.E6.m1.2.2.1.1.6.3.2.2" xref="S4.E6.m1.2.2.1.1.6.3.2.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S4.E6.m1.2.2.1.1.6.3.2.1" xref="S4.E6.m1.2.2.1.1.6.3.2.1.cmml">​</mo><mrow id="S4.E6.m1.2.2.1.1.6.3.2.3.2" xref="S4.E6.m1.2.2.1.1.6.3.2.cmml"><mo id="S4.E6.m1.2.2.1.1.6.3.2.3.2.1" xref="S4.E6.m1.2.2.1.1.6.3.2.cmml">(</mo><mi id="S4.E6.m1.1.1" xref="S4.E6.m1.1.1.cmml">b</mi><mo id="S4.E6.m1.2.2.1.1.6.3.2.3.2.2" xref="S4.E6.m1.2.2.1.1.6.3.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo lspace="0em" id="S4.E6.m1.2.2.1.2" xref="S4.E6.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E6.m1.2b"><apply id="S4.E6.m1.2.2.1.1.cmml" xref="S4.E6.m1.2.2.1"><and id="S4.E6.m1.2.2.1.1a.cmml" xref="S4.E6.m1.2.2.1"></and><apply id="S4.E6.m1.2.2.1.1b.cmml" xref="S4.E6.m1.2.2.1"><eq id="S4.E6.m1.2.2.1.1.4.cmml" xref="S4.E6.m1.2.2.1.1.4"></eq><apply id="S4.E6.m1.2.2.1.1.1.cmml" xref="S4.E6.m1.2.2.1.1.1"><times id="S4.E6.m1.2.2.1.1.1.2.cmml" xref="S4.E6.m1.2.2.1.1.1.2"></times><ci id="S4.E6.m1.2.2.1.1.1.3.cmml" xref="S4.E6.m1.2.2.1.1.1.3">𝑃</ci><apply id="S4.E6.m1.2.2.1.1.1.1.1.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1"><gt id="S4.E6.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1"></gt><ci id="S4.E6.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.2">𝑏</ci><apply id="S4.E6.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.3"><minus id="S4.E6.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.3.1"></minus><ci id="S4.E6.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.3.2">𝜂</ci><ci id="S4.E6.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.3.3">𝜆</ci></apply></apply></apply><apply id="S4.E6.m1.2.2.1.1.2.cmml" xref="S4.E6.m1.2.2.1.1.2"><minus id="S4.E6.m1.2.2.1.1.2.2.cmml" xref="S4.E6.m1.2.2.1.1.2.2"></minus><cn type="integer" id="S4.E6.m1.2.2.1.1.2.3.cmml" xref="S4.E6.m1.2.2.1.1.2.3">1</cn><apply id="S4.E6.m1.2.2.1.1.2.1.cmml" xref="S4.E6.m1.2.2.1.1.2.1"><times id="S4.E6.m1.2.2.1.1.2.1.2.cmml" xref="S4.E6.m1.2.2.1.1.2.1.2"></times><ci id="S4.E6.m1.2.2.1.1.2.1.3.cmml" xref="S4.E6.m1.2.2.1.1.2.1.3">𝑃</ci><apply id="S4.E6.m1.2.2.1.1.2.1.1.1.1.cmml" xref="S4.E6.m1.2.2.1.1.2.1.1.1"><leq id="S4.E6.m1.2.2.1.1.2.1.1.1.1.1.cmml" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.1"></leq><ci id="S4.E6.m1.2.2.1.1.2.1.1.1.1.2.cmml" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.2">𝑏</ci><apply id="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.cmml" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.3"><minus id="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.1.cmml" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.1"></minus><ci id="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.2.cmml" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.2">𝜂</ci><ci id="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.3.cmml" xref="S4.E6.m1.2.2.1.1.2.1.1.1.1.3.3">𝜆</ci></apply></apply></apply></apply></apply><apply id="S4.E6.m1.2.2.1.1c.cmml" xref="S4.E6.m1.2.2.1"><eq id="S4.E6.m1.2.2.1.1.5.cmml" xref="S4.E6.m1.2.2.1.1.5"></eq><share href="#S4.E6.m1.2.2.1.1.2.cmml" id="S4.E6.m1.2.2.1.1d.cmml" xref="S4.E6.m1.2.2.1"></share><apply id="S4.E6.m1.2.2.1.1.6.cmml" xref="S4.E6.m1.2.2.1.1.6"><minus id="S4.E6.m1.2.2.1.1.6.1.cmml" xref="S4.E6.m1.2.2.1.1.6.1"></minus><cn type="integer" id="S4.E6.m1.2.2.1.1.6.2.cmml" xref="S4.E6.m1.2.2.1.1.6.2">1</cn><apply id="S4.E6.m1.2.2.1.1.6.3.cmml" xref="S4.E6.m1.2.2.1.1.6.3"><apply id="S4.E6.m1.2.2.1.1.6.3.1.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.6.3.1.1.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1">superscript</csymbol><apply id="S4.E6.m1.2.2.1.1.6.3.1.2.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.6.3.1.2.1.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1">subscript</csymbol><sum id="S4.E6.m1.2.2.1.1.6.3.1.2.2.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1.2.2"></sum><apply id="S4.E6.m1.2.2.1.1.6.3.1.2.3.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1.2.3"><eq id="S4.E6.m1.2.2.1.1.6.3.1.2.3.1.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1.2.3.1"></eq><ci id="S4.E6.m1.2.2.1.1.6.3.1.2.3.2.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1.2.3.2">𝑏</ci><cn type="integer" id="S4.E6.m1.2.2.1.1.6.3.1.2.3.3.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1.2.3.3">0</cn></apply></apply><apply id="S4.E6.m1.2.2.1.1.6.3.1.3.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1.3"><minus id="S4.E6.m1.2.2.1.1.6.3.1.3.1.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1.3.1"></minus><ci id="S4.E6.m1.2.2.1.1.6.3.1.3.2.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1.3.2">𝜂</ci><ci id="S4.E6.m1.2.2.1.1.6.3.1.3.3.cmml" xref="S4.E6.m1.2.2.1.1.6.3.1.3.3">𝜆</ci></apply></apply><apply id="S4.E6.m1.2.2.1.1.6.3.2.cmml" xref="S4.E6.m1.2.2.1.1.6.3.2"><times id="S4.E6.m1.2.2.1.1.6.3.2.1.cmml" xref="S4.E6.m1.2.2.1.1.6.3.2.1"></times><ci id="S4.E6.m1.2.2.1.1.6.3.2.2.cmml" xref="S4.E6.m1.2.2.1.1.6.3.2.2">𝑃</ci><ci id="S4.E6.m1.1.1.cmml" xref="S4.E6.m1.1.1">𝑏</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m1.2c">P\left(b&gt;\eta-\lambda\right)=1-P\left(b\leq\eta-\lambda\right)=1-\sum_{b=0}^{\eta-\lambda}{P\left(b\right)}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S4.SS3.SSS3.p2.8" class="ltx_p">When holding other parameters constant, it can be observed that the aforementioned probability decreases as the value of <math id="S4.SS3.SSS3.p2.7.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.SSS3.p2.7.m1.1a"><mi id="S4.SS3.SSS3.p2.7.m1.1.1" xref="S4.SS3.SSS3.p2.7.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.7.m1.1b"><ci id="S4.SS3.SSS3.p2.7.m1.1.1.cmml" xref="S4.SS3.SSS3.p2.7.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.7.m1.1c">\lambda</annotation></semantics></math> decreases.
This trend indicates that with a lower <math id="S4.SS3.SSS3.p2.8.m2.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.SSS3.p2.8.m2.1a"><mi id="S4.SS3.SSS3.p2.8.m2.1.1" xref="S4.SS3.SSS3.p2.8.m2.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS3.p2.8.m2.1b"><ci id="S4.SS3.SSS3.p2.8.m2.1.1.cmml" xref="S4.SS3.SSS3.p2.8.m2.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS3.p2.8.m2.1c">\lambda</annotation></semantics></math>, transactions of lower accuracy are more likely to be excluded from consideration.</p>
</div>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2104.13130/assets/x6.png" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="221" height="161" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>The format of transactions or/and blocks in ChainFL.</figcaption>
</figure>
<figure id="S4.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F6.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x7.png" id="S4.F6.sf1.g1" class="ltx_graphics ltx_img_square" width="184" height="183" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F6.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F6.sf1.3.2" class="ltx_text" style="font-size:80%;">Implementation of ChainFL</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F6.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x8.png" id="S4.F6.sf2.g1" class="ltx_graphics ltx_img_landscape" width="230" height="176" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F6.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F6.sf2.3.2" class="ltx_text" style="font-size:80%;">Function modules deployed on each entity.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>The implementation of ChainFL in the real environment with the function modules deployed on each entity.</figcaption>
</figure>
</section>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Implementation</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this section, we detail the practical deployment of ChainFL, which includes the off-chain storage scheme, Hyperledger Fabric-based subchain, and modified DAG-based mainchain.
The formats of transactions and blocks in ChainFL are presented in Fig. <a href="#S4.F5" title="Figure 5 ‣ 4.3.3 Probability Analysis for Tip Selection ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.
In addition, the real-world implementation of ChainFL, along with the function modules operational in each entity, are depicted in Fig. <a href="#S4.F6.sf1" title="In Figure 6 ‣ 4.3.3 Probability Analysis for Tip Selection ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(a)</span></a> and Fig. <a href="#S4.F6.sf2" title="In Figure 6 ‣ 4.3.3 Probability Analysis for Tip Selection ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(b)</span></a>, respectively.
The implementation of ChainFL is available on GitHub<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>https://github.com/shuoyuan/ChainsFL-implementation</span></span></span>.</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span><span id="S5.SS1.1.1" class="ltx_text ltx_font_italic">Off-Chain Storage Scheme</span>
</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">Blockchain storage schemes typically fall into two categories: 1) full on-chain storage, where all data is directly stored in the blockchain ledger, and 2) off-chain storage, where data is stored in an external file system with only a unique identifier in the ledger ensuring immutability.
Given the constraints of block size in Fabric, storing large data streams within the main body of the block is impractical. Consequently, our implementation adopts an off-chain storage approach.
For managing off-chain data, we utilize the InterPlanetary File System (IPFS) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>, a private peer-to-peer file system.
Upon adding a file to IPFS, it generates a unique hash value representing the file content.
This hash value not only facilitates the reconstruction of the Merkle tree of file pieces of the parameter file but also enables the retrieval of the entire file <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>.
In our system, the blockchain ledger stores only this hash value, not the parameter file itself.
To efficiently handle the parameter files within the training process, all IoT devices and blockchain nodes in ChainFL are integrated into the IPFS network.
Interaction with IPFS is managed through two function modules deployed on each entity: <span id="S5.SS1.p1.1.1" class="ltx_text ltx_font_sansserif">file_to_ipfs()</span> and <span id="S5.SS1.p1.1.2" class="ltx_text ltx_font_sansserif">get_file_from_ipfs()</span>, as illustrated in Fig. <a href="#S4.F6.sf2" title="In Figure 6 ‣ 4.3.3 Probability Analysis for Tip Selection ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(b)</span></a>.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span><span id="S5.SS2.1.1" class="ltx_text ltx_font_italic">Hyperledger Fabric-based Subchain</span>
</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">To facilitate the implementation of subchains, we establish a Raft blockchain environment utilizing Hyperledger Fabric <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite> (referred to as Fabric), which incorporates the Raft ordering consensus mechanism.
Fabric, a permissioned distributed ledger technology platform, is well-suited for the consortium-based structure of subchains in ChainFL.
The Public Key Infrastructure (PKI)-based membership management in Fabric provides robust control over IoT device access, thus enabling efficient device selection.
In addition, a smart contract (called <em id="S5.SS2.p1.1.1" class="ltx_emph ltx_font_italic">chaincode</em>) refined from <em id="S5.SS2.p1.1.2" class="ltx_emph ltx_font_italic">sacc</em> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite> is employed for processing transactions within subchains.
The format for recording local or shard model information in the subchain ledger is illustrated in Fig. <a href="#S4.F5" title="Figure 5 ‣ 4.3.3 Probability Analysis for Tip Selection ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.
Each subchain transaction includes a <span id="S5.SS2.p1.1.3" class="ltx_text ltx_font_sansserif">Sender ID</span>, which is a unique identifier determined by the identity of the transaction issuer, such as an IoT device ID or an SLN ID.
The <span id="S5.SS2.p1.1.4" class="ltx_text ltx_font_sansserif">Task ID</span>, assigned by the SLN at the initiation of a <em id="S5.SS2.p1.1.5" class="ltx_emph ltx_font_italic">shard training iteration</em>, and the <span id="S5.SS2.p1.1.6" class="ltx_text ltx_font_sansserif"># of Round</span>, indicating the index of the current training round within an iteration, are also integral components.
Finally, the <span id="S5.SS2.p1.1.7" class="ltx_text ltx_font_sansserif">Hash of Paras File</span> represents the hash value of a model file in IPFS, serving as a uniform resource identifier for file location within IPFS.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.1" class="ltx_p">To augment the functionality of Fabric nodes in ChainFL, specialized function modules like <span id="S5.SS2.p2.1.1" class="ltx_text ltx_font_sansserif">transaction_validation()</span> and <span id="S5.SS2.p2.1.2" class="ltx_text ltx_font_sansserif">model_aggregation()</span> have been developed and integrated.
These modules, not inherent to the original Fabric, facilitate model validation and the aggregation of models and tips, as depicted in Fig. <a href="#S4.F6.sf2" title="In Figure 6 ‣ 4.3.3 Probability Analysis for Tip Selection ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(b)</span></a>.
In addition, functions pertinent to mainchain interactions, such as <span id="S5.SS2.p2.1.3" class="ltx_text ltx_font_sansserif">publish_to_mainchain()</span> and <span id="S5.SS2.p2.1.4" class="ltx_text ltx_font_sansserif">choose_tips_from_mainchain()</span>, are also incorporated within Fabric nodes.
The scheduling rules and order among these modules are meticulously detailed in Fig. <a href="#S4.F6.sf2" title="In Figure 6 ‣ 4.3.3 Probability Analysis for Tip Selection ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(b)</span></a>.
As described in Section <a href="#S4.SS2" title="4.2 FL Process ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>, a new basic iteration model is aggregated from the mainchain upon the completion of the current iteration.
The progression of iterations is tracked via <span id="S5.SS2.p2.1.5" class="ltx_text ltx_font_sansserif"># of Round</span>, with iteration completion denoted by reaching the predefined round number in the task requirements.
Moreover, each distinct shard training iteration is associated with a unique <span id="S5.SS2.p2.1.6" class="ltx_text ltx_font_sansserif">Task ID</span>.
Following the construction of a new basic iteration model, the SLN is tasked with generating a new <span id="S5.SS2.p2.1.7" class="ltx_text ltx_font_sansserif">Task ID</span> and resetting <span id="S5.SS2.p2.1.8" class="ltx_text ltx_font_sansserif"># of Round</span> for the subsequent shard training iteration.</p>
</div>
<div id="S5.SS2.p3" class="ltx_para">
<p id="S5.SS2.p3.1" class="ltx_p">Due to the limited amount of hardware, a complete Fabric-based subchain containing one leader and two followers is configured in a single PC<span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>The Raft ordering consensus of Fabric necessitates the deployment of at least three nodes (one leader and two followers) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>.</span></span></span>.
In addition, the training process of IoT devices served by this subchain is also simulated and executed on the same PC.
Consequently, this configuration essentially constitutes a single shard network within ChainFL, comprising the PC and its associated IoT devices.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span><span id="S5.SS3.1.1" class="ltx_text ltx_font_italic">Modified DAG-based Mainchain</span>
</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">We developed a modified DAG-based mainchain in Python to facilitate information exchange with shards.
The function modules specific to the mainchain nodes are depicted in Fig. <a href="#S4.F6.sf2" title="In Figure 6 ‣ 4.3.3 Probability Analysis for Tip Selection ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(b)</span></a>.
The mainchain node maintains an updated tip list, shared with SLNs upon request.
The communication between SLNs and the mainchain node, predominantly for request-response interactions, is implemented through socket communication protocols.
Moreover, the tip list undergoes updates in two scenarios: first, when an SLN contributes a new transaction to the mainchain, and second, upon the detection of an abnormal tip through the virtual pruning mechanism.
The format of transactions in the mainchain is depicted in Fig. <a href="#S4.F5" title="Figure 5 ‣ 4.3.3 Probability Analysis for Tip Selection ‣ 4.3 ChainFL Consensus ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.
To accelerate and streamline the execution of massive experiments, the mainchain is deployed on a single computer (one node) in our real experimental setup, rather than on multiple distributed nodes<span id="footnote5" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>The deployment scheme does not impact interactions between SLNs and the DAG, ensuring that the performance of federated learning via ChainFL remains undisturbed.</span></span></span>.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span><span id="S6.1.1" class="ltx_text ltx_font_smallcaps">Experimental Evaluations</span>
</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this section, we evaluate the performance of ChainFL in terms of convergence and robustness against model attacks of malicious devices or shards.</p>
</div>
<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span><span id="S6.SS1.1.1" class="ltx_text ltx_font_italic">Baselines and Settings</span>
</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p id="S6.SS1.p1.1" class="ltx_p">To evaluate the performance of ChainFL, we run two tasks: realistic object classification using Convolutional Neural Networks (CNNs) as Task 1, and neural language processing with Gated Recurrent Units (GRUs) as Task 2.
Task 1 utilizes the MNIST image dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>, while Task 2 employs the English language dataset Penn Treebank <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>.
For Task 1, we adopt a non-IID data setting where the MNIST training set is divided into 100 groups sorted by digit labels, with each device receiving one group.
In Task 2, the Penn Treebank dataset is shuffled and randomly split into 100 subsets without replacement, and then each device is allocated one subset.</p>
</div>
<figure id="S6.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table">TABLE I: </span>Common Experimental Settings.</figcaption>
<table id="S6.T1.28" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S6.T1.28.29" class="ltx_tr">
<td id="S6.T1.28.29.1" class="ltx_td ltx_align_left ltx_border_t"><span id="S6.T1.28.29.1.1" class="ltx_text" style="font-size:70%;">Parameter</span></td>
<td id="S6.T1.28.29.2" class="ltx_td ltx_align_left ltx_border_t"><span id="S6.T1.28.29.2.1" class="ltx_text" style="font-size:70%;">Symbol</span></td>
<td id="S6.T1.28.29.3" class="ltx_td ltx_align_left ltx_border_t"><span id="S6.T1.28.29.3.1" class="ltx_text" style="font-size:70%;">Task 1</span></td>
<td id="S6.T1.28.29.4" class="ltx_td ltx_align_left ltx_border_t"><span id="S6.T1.28.29.4.1" class="ltx_text" style="font-size:70%;">Task 2</span></td>
</tr>
<tr id="S6.T1.1.1" class="ltx_tr">
<td id="S6.T1.1.1.2" class="ltx_td ltx_align_left ltx_border_t"><span id="S6.T1.1.1.2.1" class="ltx_text" style="font-size:70%;">Dataset</span></td>
<td id="S6.T1.1.1.1" class="ltx_td ltx_align_left ltx_border_t"><math id="S6.T1.1.1.1.m1.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S6.T1.1.1.1.m1.1a"><mi mathsize="70%" id="S6.T1.1.1.1.m1.1.1" xref="S6.T1.1.1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S6.T1.1.1.1.m1.1b"><ci id="S6.T1.1.1.1.m1.1.1.cmml" xref="S6.T1.1.1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.1.1.1.m1.1c">D</annotation></semantics></math></td>
<td id="S6.T1.1.1.3" class="ltx_td ltx_align_left ltx_border_t"><span id="S6.T1.1.1.3.1" class="ltx_text" style="font-size:70%;">MNIST</span></td>
<td id="S6.T1.1.1.4" class="ltx_td ltx_align_left ltx_border_t"><span id="S6.T1.1.1.4.1" class="ltx_text" style="font-size:70%;">Penn Treebank</span></td>
</tr>
<tr id="S6.T1.2.2" class="ltx_tr">
<td id="S6.T1.2.2.2" class="ltx_td ltx_align_left"><span id="S6.T1.2.2.2.1" class="ltx_text" style="font-size:70%;">Dataset size</span></td>
<td id="S6.T1.2.2.1" class="ltx_td ltx_align_left"><math id="S6.T1.2.2.1.m1.1" class="ltx_Math" alttext="|D|" display="inline"><semantics id="S6.T1.2.2.1.m1.1a"><mrow id="S6.T1.2.2.1.m1.1.2.2" xref="S6.T1.2.2.1.m1.1.2.1.cmml"><mo maxsize="70%" minsize="70%" id="S6.T1.2.2.1.m1.1.2.2.1" xref="S6.T1.2.2.1.m1.1.2.1.1.cmml">|</mo><mi mathsize="70%" id="S6.T1.2.2.1.m1.1.1" xref="S6.T1.2.2.1.m1.1.1.cmml">D</mi><mo maxsize="70%" minsize="70%" id="S6.T1.2.2.1.m1.1.2.2.2" xref="S6.T1.2.2.1.m1.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.2.2.1.m1.1b"><apply id="S6.T1.2.2.1.m1.1.2.1.cmml" xref="S6.T1.2.2.1.m1.1.2.2"><abs id="S6.T1.2.2.1.m1.1.2.1.1.cmml" xref="S6.T1.2.2.1.m1.1.2.2.1"></abs><ci id="S6.T1.2.2.1.m1.1.1.cmml" xref="S6.T1.2.2.1.m1.1.1">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.2.2.1.m1.1c">|D|</annotation></semantics></math></td>
<td id="S6.T1.2.2.3" class="ltx_td ltx_align_left"><span id="S6.T1.2.2.3.1" class="ltx_text" style="font-size:70%;">70000</span></td>
<td id="S6.T1.2.2.4" class="ltx_td ltx_align_left"><span id="S6.T1.2.2.4.1" class="ltx_text" style="font-size:70%;">1036580</span></td>
</tr>
<tr id="S6.T1.3.3" class="ltx_tr">
<td id="S6.T1.3.3.2" class="ltx_td ltx_align_left"><span id="S6.T1.3.3.2.1" class="ltx_text" style="font-size:70%;">Model</span></td>
<td id="S6.T1.3.3.1" class="ltx_td ltx_align_left"><math id="S6.T1.3.3.1.m1.1" class="ltx_Math" alttext="\mathbf{w}" display="inline"><semantics id="S6.T1.3.3.1.m1.1a"><mi mathsize="70%" id="S6.T1.3.3.1.m1.1.1" xref="S6.T1.3.3.1.m1.1.1.cmml">𝐰</mi><annotation-xml encoding="MathML-Content" id="S6.T1.3.3.1.m1.1b"><ci id="S6.T1.3.3.1.m1.1.1.cmml" xref="S6.T1.3.3.1.m1.1.1">𝐰</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.3.3.1.m1.1c">\mathbf{w}</annotation></semantics></math></td>
<td id="S6.T1.3.3.3" class="ltx_td ltx_align_left"><span id="S6.T1.3.3.3.1" class="ltx_text" style="font-size:70%;">CNN</span></td>
<td id="S6.T1.3.3.4" class="ltx_td ltx_align_left"><span id="S6.T1.3.3.4.1" class="ltx_text" style="font-size:70%;">GRU</span></td>
</tr>
<tr id="S6.T1.4.4" class="ltx_tr">
<td id="S6.T1.4.4.2" class="ltx_td ltx_align_left"><span id="S6.T1.4.4.2.1" class="ltx_text" style="font-size:70%;"># of devices</span></td>
<td id="S6.T1.4.4.1" class="ltx_td ltx_align_left"><math id="S6.T1.4.4.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S6.T1.4.4.1.m1.1a"><mi mathsize="70%" id="S6.T1.4.4.1.m1.1.1" xref="S6.T1.4.4.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S6.T1.4.4.1.m1.1b"><ci id="S6.T1.4.4.1.m1.1.1.cmml" xref="S6.T1.4.4.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.4.4.1.m1.1c">n</annotation></semantics></math></td>
<td id="S6.T1.4.4.3" class="ltx_td ltx_align_left"><span id="S6.T1.4.4.3.1" class="ltx_text" style="font-size:70%;">100</span></td>
<td id="S6.T1.4.4.4" class="ltx_td ltx_align_left"><span id="S6.T1.4.4.4.1" class="ltx_text" style="font-size:70%;">100</span></td>
</tr>
<tr id="S6.T1.5.5" class="ltx_tr">
<td id="S6.T1.5.5.2" class="ltx_td ltx_align_left"><span id="S6.T1.5.5.2.1" class="ltx_text" style="font-size:70%;">Learning rate</span></td>
<td id="S6.T1.5.5.1" class="ltx_td ltx_align_left"><math id="S6.T1.5.5.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S6.T1.5.5.1.m1.1a"><mi mathsize="70%" id="S6.T1.5.5.1.m1.1.1" xref="S6.T1.5.5.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S6.T1.5.5.1.m1.1b"><ci id="S6.T1.5.5.1.m1.1.1.cmml" xref="S6.T1.5.5.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.5.5.1.m1.1c">\mu</annotation></semantics></math></td>
<td id="S6.T1.5.5.3" class="ltx_td ltx_align_left"><span id="S6.T1.5.5.3.1" class="ltx_text" style="font-size:70%;">1e-2</span></td>
<td id="S6.T1.5.5.4" class="ltx_td ltx_align_left"><span id="S6.T1.5.5.4.1" class="ltx_text" style="font-size:70%;">1e-2</span></td>
</tr>
<tr id="S6.T1.6.6" class="ltx_tr">
<td id="S6.T1.6.6.2" class="ltx_td ltx_align_left"><span id="S6.T1.6.6.2.1" class="ltx_text" style="font-size:70%;"># of cand. tips</span></td>
<td id="S6.T1.6.6.1" class="ltx_td ltx_align_left"><math id="S6.T1.6.6.1.m1.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S6.T1.6.6.1.m1.1a"><mi mathsize="70%" id="S6.T1.6.6.1.m1.1.1" xref="S6.T1.6.6.1.m1.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S6.T1.6.6.1.m1.1b"><ci id="S6.T1.6.6.1.m1.1.1.cmml" xref="S6.T1.6.6.1.m1.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.6.6.1.m1.1c">\eta</annotation></semantics></math></td>
<td id="S6.T1.6.6.3" class="ltx_td ltx_align_left"><span id="S6.T1.6.6.3.1" class="ltx_text" style="font-size:70%;">3</span></td>
<td id="S6.T1.6.6.4" class="ltx_td ltx_align_left"><span id="S6.T1.6.6.4.1" class="ltx_text" style="font-size:70%;">3</span></td>
</tr>
<tr id="S6.T1.7.7" class="ltx_tr">
<td id="S6.T1.7.7.2" class="ltx_td ltx_align_left"><span id="S6.T1.7.7.2.1" class="ltx_text" style="font-size:70%;"># of appr. tips</span></td>
<td id="S6.T1.7.7.1" class="ltx_td ltx_align_left"><math id="S6.T1.7.7.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S6.T1.7.7.1.m1.1a"><mi mathsize="70%" id="S6.T1.7.7.1.m1.1.1" xref="S6.T1.7.7.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S6.T1.7.7.1.m1.1b"><ci id="S6.T1.7.7.1.m1.1.1.cmml" xref="S6.T1.7.7.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.7.7.1.m1.1c">\lambda</annotation></semantics></math></td>
<td id="S6.T1.7.7.3" class="ltx_td ltx_align_left"><span id="S6.T1.7.7.3.1" class="ltx_text" style="font-size:70%;">2</span></td>
<td id="S6.T1.7.7.4" class="ltx_td ltx_align_left"><span id="S6.T1.7.7.4.1" class="ltx_text" style="font-size:70%;">2</span></td>
</tr>
<tr id="S6.T1.8.8" class="ltx_tr">
<td id="S6.T1.8.8.2" class="ltx_td ltx_align_left"><span id="S6.T1.8.8.2.1" class="ltx_text" style="font-size:70%;"># of shards</span></td>
<td id="S6.T1.8.8.1" class="ltx_td ltx_align_left"><math id="S6.T1.8.8.1.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S6.T1.8.8.1.m1.1a"><mi mathsize="70%" id="S6.T1.8.8.1.m1.1.1" xref="S6.T1.8.8.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S6.T1.8.8.1.m1.1b"><ci id="S6.T1.8.8.1.m1.1.1.cmml" xref="S6.T1.8.8.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.8.8.1.m1.1c">M</annotation></semantics></math></td>
<td id="S6.T1.8.8.3" class="ltx_td ltx_align_left"><span id="S6.T1.8.8.3.1" class="ltx_text" style="font-size:70%;">3</span></td>
<td id="S6.T1.8.8.4" class="ltx_td ltx_align_left"><span id="S6.T1.8.8.4.1" class="ltx_text" style="font-size:70%;">3</span></td>
</tr>
<tr id="S6.T1.9.9" class="ltx_tr">
<td id="S6.T1.9.9.2" class="ltx_td ltx_align_left"><span id="S6.T1.9.9.2.1" class="ltx_text" style="font-size:70%;">Loss function</span></td>
<td id="S6.T1.9.9.1" class="ltx_td ltx_align_left"><math id="S6.T1.9.9.1.m1.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S6.T1.9.9.1.m1.1a"><mi mathsize="70%" id="S6.T1.9.9.1.m1.1.1" xref="S6.T1.9.9.1.m1.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S6.T1.9.9.1.m1.1b"><ci id="S6.T1.9.9.1.m1.1.1.cmml" xref="S6.T1.9.9.1.m1.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.9.9.1.m1.1c">l</annotation></semantics></math></td>
<td id="S6.T1.9.9.3" class="ltx_td ltx_align_left"><span id="S6.T1.9.9.3.1" class="ltx_text" style="font-size:70%;">Cross Entropy Loss</span></td>
<td id="S6.T1.9.9.4" class="ltx_td ltx_align_left"><span id="S6.T1.9.9.4.1" class="ltx_text" style="font-size:70%;">NLL Loss</span></td>
</tr>
<tr id="S6.T1.13.13" class="ltx_tr">
<td id="S6.T1.13.13.5" class="ltx_td ltx_align_left"><span id="S6.T1.13.13.5.1" class="ltx_text" style="font-size:70%;">Eval. metric</span></td>
<td id="S6.T1.10.10.1" class="ltx_td ltx_align_left"><math id="S6.T1.10.10.1.m1.1" class="ltx_Math" alttext="e_{m}" display="inline"><semantics id="S6.T1.10.10.1.m1.1a"><msub id="S6.T1.10.10.1.m1.1.1" xref="S6.T1.10.10.1.m1.1.1.cmml"><mi mathsize="70%" id="S6.T1.10.10.1.m1.1.1.2" xref="S6.T1.10.10.1.m1.1.1.2.cmml">e</mi><mi mathsize="70%" id="S6.T1.10.10.1.m1.1.1.3" xref="S6.T1.10.10.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S6.T1.10.10.1.m1.1b"><apply id="S6.T1.10.10.1.m1.1.1.cmml" xref="S6.T1.10.10.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T1.10.10.1.m1.1.1.1.cmml" xref="S6.T1.10.10.1.m1.1.1">subscript</csymbol><ci id="S6.T1.10.10.1.m1.1.1.2.cmml" xref="S6.T1.10.10.1.m1.1.1.2">𝑒</ci><ci id="S6.T1.10.10.1.m1.1.1.3.cmml" xref="S6.T1.10.10.1.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.10.10.1.m1.1c">e_{m}</annotation></semantics></math></td>
<td id="S6.T1.11.11.2" class="ltx_td ltx_align_left">
<span id="S6.T1.11.11.2.2" class="ltx_text"></span><span id="S6.T1.11.11.2.3" class="ltx_text" style="font-size:70%;"> </span><span id="S6.T1.11.11.2.1" class="ltx_text" style="font-size:70%;">
<span id="S6.T1.11.11.2.1.1" class="ltx_tabular ltx_align_middle">
<span id="S6.T1.11.11.2.1.1.2" class="ltx_tr">
<span id="S6.T1.11.11.2.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">Acc=</span></span>
<span id="S6.T1.11.11.2.1.1.1" class="ltx_tr">
<span id="S6.T1.11.11.2.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><math id="S6.T1.11.11.2.1.1.1.1.m1.2" class="ltx_Math" alttext="\frac{1}{n}\sum_{i=1}^{n}\phi\left({\mathbf{y}_{i}},\hat{\mathbf{y}_{i}}\right)" display="inline"><semantics id="S6.T1.11.11.2.1.1.1.1.m1.2a"><mrow id="S6.T1.11.11.2.1.1.1.1.m1.2.2" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.cmml"><mfrac id="S6.T1.11.11.2.1.1.1.1.m1.2.2.3" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.3.cmml"><mn id="S6.T1.11.11.2.1.1.1.1.m1.2.2.3.2" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.3.2.cmml">1</mn><mi id="S6.T1.11.11.2.1.1.1.1.m1.2.2.3.3" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.3.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="S6.T1.11.11.2.1.1.1.1.m1.2.2.2" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.2.cmml">​</mo><mrow id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.cmml"><msubsup id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.cmml"><mo id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.2" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.2.cmml">∑</mo><mrow id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.cmml"><mi id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.2" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.2.cmml">i</mi><mo id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.1" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.1.cmml">=</mo><mn id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.3" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.3.cmml">1</mn></mrow><mi id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.3" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.3.cmml">n</mi></msubsup><mrow id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.cmml"><mi id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.3" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.3.cmml">ϕ</mi><mo lspace="0em" rspace="0em" id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.2" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.2.cmml">​</mo><mrow id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.2.cmml"><mo id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.2" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.2.cmml">(</mo><msub id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1.cmml"><mi id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1.2" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1.2.cmml">𝐲</mi><mi id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1.3" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.3" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.2.cmml">,</mo><mover accent="true" id="S6.T1.11.11.2.1.1.1.1.m1.1.1" xref="S6.T1.11.11.2.1.1.1.1.m1.1.1.cmml"><msub id="S6.T1.11.11.2.1.1.1.1.m1.1.1.2" xref="S6.T1.11.11.2.1.1.1.1.m1.1.1.2.cmml"><mi id="S6.T1.11.11.2.1.1.1.1.m1.1.1.2.2" xref="S6.T1.11.11.2.1.1.1.1.m1.1.1.2.2.cmml">𝐲</mi><mi id="S6.T1.11.11.2.1.1.1.1.m1.1.1.2.3" xref="S6.T1.11.11.2.1.1.1.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="S6.T1.11.11.2.1.1.1.1.m1.1.1.1" xref="S6.T1.11.11.2.1.1.1.1.m1.1.1.1.cmml">^</mo></mover><mo id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.4" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.11.11.2.1.1.1.1.m1.2b"><apply id="S6.T1.11.11.2.1.1.1.1.m1.2.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2"><times id="S6.T1.11.11.2.1.1.1.1.m1.2.2.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.2"></times><apply id="S6.T1.11.11.2.1.1.1.1.m1.2.2.3.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.3"><divide id="S6.T1.11.11.2.1.1.1.1.m1.2.2.3.1.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.3"></divide><cn type="integer" id="S6.T1.11.11.2.1.1.1.1.m1.2.2.3.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.3.2">1</cn><ci id="S6.T1.11.11.2.1.1.1.1.m1.2.2.3.3.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.3.3">𝑛</ci></apply><apply id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1"><apply id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2"><csymbol cd="ambiguous" id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.1.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2">superscript</csymbol><apply id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2"><csymbol cd="ambiguous" id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.1.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2">subscript</csymbol><sum id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.2"></sum><apply id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3"><eq id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.1.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.1"></eq><ci id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.2">𝑖</ci><cn type="integer" id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.3.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.2.3.3">1</cn></apply></apply><ci id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.3.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.2.3">𝑛</ci></apply><apply id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1"><times id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.2"></times><ci id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.3.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.3">italic-ϕ</ci><interval closure="open" id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1"><apply id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1.2">𝐲</ci><ci id="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1.3.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.2.2.1.1.1.1.1.3">𝑖</ci></apply><apply id="S6.T1.11.11.2.1.1.1.1.m1.1.1.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.1.1"><ci id="S6.T1.11.11.2.1.1.1.1.m1.1.1.1.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.1.1.1">^</ci><apply id="S6.T1.11.11.2.1.1.1.1.m1.1.1.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S6.T1.11.11.2.1.1.1.1.m1.1.1.2.1.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.1.1.2">subscript</csymbol><ci id="S6.T1.11.11.2.1.1.1.1.m1.1.1.2.2.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.1.1.2.2">𝐲</ci><ci id="S6.T1.11.11.2.1.1.1.1.m1.1.1.2.3.cmml" xref="S6.T1.11.11.2.1.1.1.1.m1.1.1.2.3">𝑖</ci></apply></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.11.11.2.1.1.1.1.m1.2c">\frac{1}{n}\sum_{i=1}^{n}\phi\left({\mathbf{y}_{i}},\hat{\mathbf{y}_{i}}\right)</annotation></semantics></math></span></span>
</span></span><span id="S6.T1.11.11.2.4" class="ltx_text"></span><span id="S6.T1.11.11.2.5" class="ltx_text" style="font-size:70%;"></span>
</td>
<td id="S6.T1.13.13.4" class="ltx_td ltx_align_left">
<span id="S6.T1.13.13.4.3" class="ltx_text"></span><span id="S6.T1.13.13.4.4" class="ltx_text" style="font-size:70%;"> </span><span id="S6.T1.13.13.4.2" class="ltx_text" style="font-size:70%;">
<span id="S6.T1.13.13.4.2.2" class="ltx_tabular ltx_align_middle">
<span id="S6.T1.12.12.3.1.1.1" class="ltx_tr">
<span id="S6.T1.12.12.3.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><math id="S6.T1.12.12.3.1.1.1.1.m1.1" class="ltx_Math" alttext="PPL(x)=" display="inline"><semantics id="S6.T1.12.12.3.1.1.1.1.m1.1a"><mrow id="S6.T1.12.12.3.1.1.1.1.m1.1.2" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.cmml"><mrow id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.cmml"><mi id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.2" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.1" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.1.cmml">​</mo><mi id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.3" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.1a" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.1.cmml">​</mo><mi id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.4" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.4.cmml">L</mi><mo lspace="0em" rspace="0em" id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.1b" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.1.cmml">​</mo><mrow id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.5.2" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.cmml"><mo stretchy="false" id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.5.2.1" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.cmml">(</mo><mi id="S6.T1.12.12.3.1.1.1.1.m1.1.1" xref="S6.T1.12.12.3.1.1.1.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.5.2.2" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.cmml">)</mo></mrow></mrow><mo id="S6.T1.12.12.3.1.1.1.1.m1.1.2.1" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.1.cmml">=</mo><mi id="S6.T1.12.12.3.1.1.1.1.m1.1.2.3" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.12.12.3.1.1.1.1.m1.1b"><apply id="S6.T1.12.12.3.1.1.1.1.m1.1.2.cmml" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2"><eq id="S6.T1.12.12.3.1.1.1.1.m1.1.2.1.cmml" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.1"></eq><apply id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.cmml" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2"><times id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.1.cmml" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.1"></times><ci id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.2.cmml" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.2">𝑃</ci><ci id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.3.cmml" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.3">𝑃</ci><ci id="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.4.cmml" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.2.4">𝐿</ci><ci id="S6.T1.12.12.3.1.1.1.1.m1.1.1.cmml" xref="S6.T1.12.12.3.1.1.1.1.m1.1.1">𝑥</ci></apply><csymbol cd="latexml" id="S6.T1.12.12.3.1.1.1.1.m1.1.2.3.cmml" xref="S6.T1.12.12.3.1.1.1.1.m1.1.2.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.12.12.3.1.1.1.1.m1.1c">PPL(x)=</annotation></semantics></math></span></span>
<span id="S6.T1.13.13.4.2.2.2" class="ltx_tr">
<span id="S6.T1.13.13.4.2.2.2.1" class="ltx_td ltx_nopad_r ltx_align_center"><math id="S6.T1.13.13.4.2.2.2.1.m1.2" class="ltx_Math" alttext="2^{-\sum_{x}p(x)\log\frac{1}{p(x)}}" display="inline"><semantics id="S6.T1.13.13.4.2.2.2.1.m1.2a"><msup id="S6.T1.13.13.4.2.2.2.1.m1.2.3" xref="S6.T1.13.13.4.2.2.2.1.m1.2.3.cmml"><mn id="S6.T1.13.13.4.2.2.2.1.m1.2.3.2" xref="S6.T1.13.13.4.2.2.2.1.m1.2.3.2.cmml">2</mn><mrow id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.cmml"><mo id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2a" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.cmml">−</mo><mrow id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.cmml"><mstyle displaystyle="false" id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.cmml"><msub id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1a" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.cmml"><mo id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.2" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.2.cmml">∑</mo><mi id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.3" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.3.cmml">x</mi></msub></mstyle><mrow id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.cmml"><mi id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.2" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.1" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.1.cmml">​</mo><mrow id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.3.2" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.cmml"><mo stretchy="false" id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.3.2.1" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.cmml">(</mo><mi id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.2" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.2.cmml">x</mi><mo stretchy="false" id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.3.2.2" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.cmml">)</mo></mrow><mo lspace="0.167em" rspace="0em" id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.1a" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.1.cmml">​</mo><mrow id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.4" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.4.cmml"><mi id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.4.1" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.4.1.cmml">log</mi><mo lspace="0.167em" id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.4a" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.4.cmml">⁡</mo><mfrac id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.cmml"><mn id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.3" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.3.cmml">1</mn><mrow id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.cmml"><mi id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.3" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.2" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.4.2" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.4.2.1" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.cmml">(</mo><mi id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.1" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.1.cmml">x</mi><mo stretchy="false" id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.4.2.2" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="S6.T1.13.13.4.2.2.2.1.m1.2b"><apply id="S6.T1.13.13.4.2.2.2.1.m1.2.3.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.3"><csymbol cd="ambiguous" id="S6.T1.13.13.4.2.2.2.1.m1.2.3.1.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.3">superscript</csymbol><cn type="integer" id="S6.T1.13.13.4.2.2.2.1.m1.2.3.2.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.3.2">2</cn><apply id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2"><minus id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.3.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2"></minus><apply id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4"><apply id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1"><csymbol cd="ambiguous" id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.1.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1">subscript</csymbol><sum id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.2.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.2"></sum><ci id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.3.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.1.3">𝑥</ci></apply><apply id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2"><times id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.1.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.1"></times><ci id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.2.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.2">𝑝</ci><ci id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.2.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.2">𝑥</ci><apply id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.4.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.4"><log id="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.4.1.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.2.2.2.4.2.4.1"></log><apply id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1"><divide id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.2.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1"></divide><cn type="integer" id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.3.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.3">1</cn><apply id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1"><times id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.2.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.2"></times><ci id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.3.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.3">𝑝</ci><ci id="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.1.cmml" xref="S6.T1.13.13.4.2.2.2.1.m1.1.1.1.1.1.1">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.13.13.4.2.2.2.1.m1.2c">2^{-\sum_{x}p(x)\log\frac{1}{p(x)}}</annotation></semantics></math></span></span>
</span></span><span id="S6.T1.13.13.4.5" class="ltx_text"></span><span id="S6.T1.13.13.4.6" class="ltx_text" style="font-size:70%;"></span>
</td>
</tr>
<tr id="S6.T1.16.16" class="ltx_tr">
<td id="S6.T1.16.16.4" class="ltx_td ltx_align_left"><span id="S6.T1.16.16.4.1" class="ltx_text" style="font-size:70%;"># of dev./shard</span></td>
<td id="S6.T1.14.14.1" class="ltx_td ltx_align_left"><math id="S6.T1.14.14.1.m1.1" class="ltx_Math" alttext="S_{d}" display="inline"><semantics id="S6.T1.14.14.1.m1.1a"><msub id="S6.T1.14.14.1.m1.1.1" xref="S6.T1.14.14.1.m1.1.1.cmml"><mi mathsize="70%" id="S6.T1.14.14.1.m1.1.1.2" xref="S6.T1.14.14.1.m1.1.1.2.cmml">S</mi><mi mathsize="70%" id="S6.T1.14.14.1.m1.1.1.3" xref="S6.T1.14.14.1.m1.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S6.T1.14.14.1.m1.1b"><apply id="S6.T1.14.14.1.m1.1.1.cmml" xref="S6.T1.14.14.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T1.14.14.1.m1.1.1.1.cmml" xref="S6.T1.14.14.1.m1.1.1">subscript</csymbol><ci id="S6.T1.14.14.1.m1.1.1.2.cmml" xref="S6.T1.14.14.1.m1.1.1.2">𝑆</ci><ci id="S6.T1.14.14.1.m1.1.1.3.cmml" xref="S6.T1.14.14.1.m1.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.14.14.1.m1.1c">S_{d}</annotation></semantics></math></td>
<td id="S6.T1.15.15.2" class="ltx_td ltx_align_left"><math id="S6.T1.15.15.2.m1.3" class="ltx_Math" alttext="\{10,20,30\}" display="inline"><semantics id="S6.T1.15.15.2.m1.3a"><mrow id="S6.T1.15.15.2.m1.3.4.2" xref="S6.T1.15.15.2.m1.3.4.1.cmml"><mo maxsize="70%" minsize="70%" id="S6.T1.15.15.2.m1.3.4.2.1" xref="S6.T1.15.15.2.m1.3.4.1.cmml">{</mo><mn mathsize="70%" id="S6.T1.15.15.2.m1.1.1" xref="S6.T1.15.15.2.m1.1.1.cmml">10</mn><mo mathsize="70%" id="S6.T1.15.15.2.m1.3.4.2.2" xref="S6.T1.15.15.2.m1.3.4.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.15.15.2.m1.2.2" xref="S6.T1.15.15.2.m1.2.2.cmml">20</mn><mo mathsize="70%" id="S6.T1.15.15.2.m1.3.4.2.3" xref="S6.T1.15.15.2.m1.3.4.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.15.15.2.m1.3.3" xref="S6.T1.15.15.2.m1.3.3.cmml">30</mn><mo maxsize="70%" minsize="70%" id="S6.T1.15.15.2.m1.3.4.2.4" xref="S6.T1.15.15.2.m1.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.15.15.2.m1.3b"><set id="S6.T1.15.15.2.m1.3.4.1.cmml" xref="S6.T1.15.15.2.m1.3.4.2"><cn type="integer" id="S6.T1.15.15.2.m1.1.1.cmml" xref="S6.T1.15.15.2.m1.1.1">10</cn><cn type="integer" id="S6.T1.15.15.2.m1.2.2.cmml" xref="S6.T1.15.15.2.m1.2.2">20</cn><cn type="integer" id="S6.T1.15.15.2.m1.3.3.cmml" xref="S6.T1.15.15.2.m1.3.3">30</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.15.15.2.m1.3c">\{10,20,30\}</annotation></semantics></math></td>
<td id="S6.T1.16.16.3" class="ltx_td ltx_align_left"><math id="S6.T1.16.16.3.m1.3" class="ltx_Math" alttext="\{10,20,30\}" display="inline"><semantics id="S6.T1.16.16.3.m1.3a"><mrow id="S6.T1.16.16.3.m1.3.4.2" xref="S6.T1.16.16.3.m1.3.4.1.cmml"><mo maxsize="70%" minsize="70%" id="S6.T1.16.16.3.m1.3.4.2.1" xref="S6.T1.16.16.3.m1.3.4.1.cmml">{</mo><mn mathsize="70%" id="S6.T1.16.16.3.m1.1.1" xref="S6.T1.16.16.3.m1.1.1.cmml">10</mn><mo mathsize="70%" id="S6.T1.16.16.3.m1.3.4.2.2" xref="S6.T1.16.16.3.m1.3.4.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.16.16.3.m1.2.2" xref="S6.T1.16.16.3.m1.2.2.cmml">20</mn><mo mathsize="70%" id="S6.T1.16.16.3.m1.3.4.2.3" xref="S6.T1.16.16.3.m1.3.4.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.16.16.3.m1.3.3" xref="S6.T1.16.16.3.m1.3.3.cmml">30</mn><mo maxsize="70%" minsize="70%" id="S6.T1.16.16.3.m1.3.4.2.4" xref="S6.T1.16.16.3.m1.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.16.16.3.m1.3b"><set id="S6.T1.16.16.3.m1.3.4.1.cmml" xref="S6.T1.16.16.3.m1.3.4.2"><cn type="integer" id="S6.T1.16.16.3.m1.1.1.cmml" xref="S6.T1.16.16.3.m1.1.1">10</cn><cn type="integer" id="S6.T1.16.16.3.m1.2.2.cmml" xref="S6.T1.16.16.3.m1.2.2">20</cn><cn type="integer" id="S6.T1.16.16.3.m1.3.3.cmml" xref="S6.T1.16.16.3.m1.3.3">30</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.16.16.3.m1.3c">\{10,20,30\}</annotation></semantics></math></td>
</tr>
<tr id="S6.T1.19.19" class="ltx_tr">
<td id="S6.T1.19.19.4" class="ltx_td ltx_align_left"><span id="S6.T1.19.19.4.1" class="ltx_text" style="font-size:70%;">Mini-batch size</span></td>
<td id="S6.T1.17.17.1" class="ltx_td ltx_align_left"><math id="S6.T1.17.17.1.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.T1.17.17.1.m1.1a"><mi mathsize="70%" id="S6.T1.17.17.1.m1.1.1" xref="S6.T1.17.17.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.T1.17.17.1.m1.1b"><ci id="S6.T1.17.17.1.m1.1.1.cmml" xref="S6.T1.17.17.1.m1.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.17.17.1.m1.1c">B</annotation></semantics></math></td>
<td id="S6.T1.18.18.2" class="ltx_td ltx_align_left"><math id="S6.T1.18.18.2.m1.5" class="ltx_Math" alttext="\{10,20,30,40,50\}" display="inline"><semantics id="S6.T1.18.18.2.m1.5a"><mrow id="S6.T1.18.18.2.m1.5.6.2" xref="S6.T1.18.18.2.m1.5.6.1.cmml"><mo maxsize="70%" minsize="70%" id="S6.T1.18.18.2.m1.5.6.2.1" xref="S6.T1.18.18.2.m1.5.6.1.cmml">{</mo><mn mathsize="70%" id="S6.T1.18.18.2.m1.1.1" xref="S6.T1.18.18.2.m1.1.1.cmml">10</mn><mo mathsize="70%" id="S6.T1.18.18.2.m1.5.6.2.2" xref="S6.T1.18.18.2.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.18.18.2.m1.2.2" xref="S6.T1.18.18.2.m1.2.2.cmml">20</mn><mo mathsize="70%" id="S6.T1.18.18.2.m1.5.6.2.3" xref="S6.T1.18.18.2.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.18.18.2.m1.3.3" xref="S6.T1.18.18.2.m1.3.3.cmml">30</mn><mo mathsize="70%" id="S6.T1.18.18.2.m1.5.6.2.4" xref="S6.T1.18.18.2.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.18.18.2.m1.4.4" xref="S6.T1.18.18.2.m1.4.4.cmml">40</mn><mo mathsize="70%" id="S6.T1.18.18.2.m1.5.6.2.5" xref="S6.T1.18.18.2.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.18.18.2.m1.5.5" xref="S6.T1.18.18.2.m1.5.5.cmml">50</mn><mo maxsize="70%" minsize="70%" id="S6.T1.18.18.2.m1.5.6.2.6" xref="S6.T1.18.18.2.m1.5.6.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.18.18.2.m1.5b"><set id="S6.T1.18.18.2.m1.5.6.1.cmml" xref="S6.T1.18.18.2.m1.5.6.2"><cn type="integer" id="S6.T1.18.18.2.m1.1.1.cmml" xref="S6.T1.18.18.2.m1.1.1">10</cn><cn type="integer" id="S6.T1.18.18.2.m1.2.2.cmml" xref="S6.T1.18.18.2.m1.2.2">20</cn><cn type="integer" id="S6.T1.18.18.2.m1.3.3.cmml" xref="S6.T1.18.18.2.m1.3.3">30</cn><cn type="integer" id="S6.T1.18.18.2.m1.4.4.cmml" xref="S6.T1.18.18.2.m1.4.4">40</cn><cn type="integer" id="S6.T1.18.18.2.m1.5.5.cmml" xref="S6.T1.18.18.2.m1.5.5">50</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.18.18.2.m1.5c">\{10,20,30,40,50\}</annotation></semantics></math></td>
<td id="S6.T1.19.19.3" class="ltx_td ltx_align_left"><math id="S6.T1.19.19.3.m1.5" class="ltx_Math" alttext="\{10,20,30,40,50\}" display="inline"><semantics id="S6.T1.19.19.3.m1.5a"><mrow id="S6.T1.19.19.3.m1.5.6.2" xref="S6.T1.19.19.3.m1.5.6.1.cmml"><mo maxsize="70%" minsize="70%" id="S6.T1.19.19.3.m1.5.6.2.1" xref="S6.T1.19.19.3.m1.5.6.1.cmml">{</mo><mn mathsize="70%" id="S6.T1.19.19.3.m1.1.1" xref="S6.T1.19.19.3.m1.1.1.cmml">10</mn><mo mathsize="70%" id="S6.T1.19.19.3.m1.5.6.2.2" xref="S6.T1.19.19.3.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.19.19.3.m1.2.2" xref="S6.T1.19.19.3.m1.2.2.cmml">20</mn><mo mathsize="70%" id="S6.T1.19.19.3.m1.5.6.2.3" xref="S6.T1.19.19.3.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.19.19.3.m1.3.3" xref="S6.T1.19.19.3.m1.3.3.cmml">30</mn><mo mathsize="70%" id="S6.T1.19.19.3.m1.5.6.2.4" xref="S6.T1.19.19.3.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.19.19.3.m1.4.4" xref="S6.T1.19.19.3.m1.4.4.cmml">40</mn><mo mathsize="70%" id="S6.T1.19.19.3.m1.5.6.2.5" xref="S6.T1.19.19.3.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.19.19.3.m1.5.5" xref="S6.T1.19.19.3.m1.5.5.cmml">50</mn><mo maxsize="70%" minsize="70%" id="S6.T1.19.19.3.m1.5.6.2.6" xref="S6.T1.19.19.3.m1.5.6.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.19.19.3.m1.5b"><set id="S6.T1.19.19.3.m1.5.6.1.cmml" xref="S6.T1.19.19.3.m1.5.6.2"><cn type="integer" id="S6.T1.19.19.3.m1.1.1.cmml" xref="S6.T1.19.19.3.m1.1.1">10</cn><cn type="integer" id="S6.T1.19.19.3.m1.2.2.cmml" xref="S6.T1.19.19.3.m1.2.2">20</cn><cn type="integer" id="S6.T1.19.19.3.m1.3.3.cmml" xref="S6.T1.19.19.3.m1.3.3">30</cn><cn type="integer" id="S6.T1.19.19.3.m1.4.4.cmml" xref="S6.T1.19.19.3.m1.4.4">40</cn><cn type="integer" id="S6.T1.19.19.3.m1.5.5.cmml" xref="S6.T1.19.19.3.m1.5.5">50</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.19.19.3.m1.5c">\{10,20,30,40,50\}</annotation></semantics></math></td>
</tr>
<tr id="S6.T1.22.22" class="ltx_tr">
<td id="S6.T1.22.22.4" class="ltx_td ltx_align_left"><span id="S6.T1.22.22.4.1" class="ltx_text" style="font-size:70%;">Local epochs</span></td>
<td id="S6.T1.20.20.1" class="ltx_td ltx_align_left"><math id="S6.T1.20.20.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S6.T1.20.20.1.m1.1a"><mi mathsize="70%" id="S6.T1.20.20.1.m1.1.1" xref="S6.T1.20.20.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S6.T1.20.20.1.m1.1b"><ci id="S6.T1.20.20.1.m1.1.1.cmml" xref="S6.T1.20.20.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.20.20.1.m1.1c">E</annotation></semantics></math></td>
<td id="S6.T1.21.21.2" class="ltx_td ltx_align_left"><math id="S6.T1.21.21.2.m1.5" class="ltx_Math" alttext="\{1,5,10,15,20\}" display="inline"><semantics id="S6.T1.21.21.2.m1.5a"><mrow id="S6.T1.21.21.2.m1.5.6.2" xref="S6.T1.21.21.2.m1.5.6.1.cmml"><mo maxsize="70%" minsize="70%" id="S6.T1.21.21.2.m1.5.6.2.1" xref="S6.T1.21.21.2.m1.5.6.1.cmml">{</mo><mn mathsize="70%" id="S6.T1.21.21.2.m1.1.1" xref="S6.T1.21.21.2.m1.1.1.cmml">1</mn><mo mathsize="70%" id="S6.T1.21.21.2.m1.5.6.2.2" xref="S6.T1.21.21.2.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.21.21.2.m1.2.2" xref="S6.T1.21.21.2.m1.2.2.cmml">5</mn><mo mathsize="70%" id="S6.T1.21.21.2.m1.5.6.2.3" xref="S6.T1.21.21.2.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.21.21.2.m1.3.3" xref="S6.T1.21.21.2.m1.3.3.cmml">10</mn><mo mathsize="70%" id="S6.T1.21.21.2.m1.5.6.2.4" xref="S6.T1.21.21.2.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.21.21.2.m1.4.4" xref="S6.T1.21.21.2.m1.4.4.cmml">15</mn><mo mathsize="70%" id="S6.T1.21.21.2.m1.5.6.2.5" xref="S6.T1.21.21.2.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.21.21.2.m1.5.5" xref="S6.T1.21.21.2.m1.5.5.cmml">20</mn><mo maxsize="70%" minsize="70%" id="S6.T1.21.21.2.m1.5.6.2.6" xref="S6.T1.21.21.2.m1.5.6.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.21.21.2.m1.5b"><set id="S6.T1.21.21.2.m1.5.6.1.cmml" xref="S6.T1.21.21.2.m1.5.6.2"><cn type="integer" id="S6.T1.21.21.2.m1.1.1.cmml" xref="S6.T1.21.21.2.m1.1.1">1</cn><cn type="integer" id="S6.T1.21.21.2.m1.2.2.cmml" xref="S6.T1.21.21.2.m1.2.2">5</cn><cn type="integer" id="S6.T1.21.21.2.m1.3.3.cmml" xref="S6.T1.21.21.2.m1.3.3">10</cn><cn type="integer" id="S6.T1.21.21.2.m1.4.4.cmml" xref="S6.T1.21.21.2.m1.4.4">15</cn><cn type="integer" id="S6.T1.21.21.2.m1.5.5.cmml" xref="S6.T1.21.21.2.m1.5.5">20</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.21.21.2.m1.5c">\{1,5,10,15,20\}</annotation></semantics></math></td>
<td id="S6.T1.22.22.3" class="ltx_td ltx_align_left"><math id="S6.T1.22.22.3.m1.5" class="ltx_Math" alttext="\{1,5,10,15,20\}" display="inline"><semantics id="S6.T1.22.22.3.m1.5a"><mrow id="S6.T1.22.22.3.m1.5.6.2" xref="S6.T1.22.22.3.m1.5.6.1.cmml"><mo maxsize="70%" minsize="70%" id="S6.T1.22.22.3.m1.5.6.2.1" xref="S6.T1.22.22.3.m1.5.6.1.cmml">{</mo><mn mathsize="70%" id="S6.T1.22.22.3.m1.1.1" xref="S6.T1.22.22.3.m1.1.1.cmml">1</mn><mo mathsize="70%" id="S6.T1.22.22.3.m1.5.6.2.2" xref="S6.T1.22.22.3.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.22.22.3.m1.2.2" xref="S6.T1.22.22.3.m1.2.2.cmml">5</mn><mo mathsize="70%" id="S6.T1.22.22.3.m1.5.6.2.3" xref="S6.T1.22.22.3.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.22.22.3.m1.3.3" xref="S6.T1.22.22.3.m1.3.3.cmml">10</mn><mo mathsize="70%" id="S6.T1.22.22.3.m1.5.6.2.4" xref="S6.T1.22.22.3.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.22.22.3.m1.4.4" xref="S6.T1.22.22.3.m1.4.4.cmml">15</mn><mo mathsize="70%" id="S6.T1.22.22.3.m1.5.6.2.5" xref="S6.T1.22.22.3.m1.5.6.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.22.22.3.m1.5.5" xref="S6.T1.22.22.3.m1.5.5.cmml">20</mn><mo maxsize="70%" minsize="70%" id="S6.T1.22.22.3.m1.5.6.2.6" xref="S6.T1.22.22.3.m1.5.6.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.22.22.3.m1.5b"><set id="S6.T1.22.22.3.m1.5.6.1.cmml" xref="S6.T1.22.22.3.m1.5.6.2"><cn type="integer" id="S6.T1.22.22.3.m1.1.1.cmml" xref="S6.T1.22.22.3.m1.1.1">1</cn><cn type="integer" id="S6.T1.22.22.3.m1.2.2.cmml" xref="S6.T1.22.22.3.m1.2.2">5</cn><cn type="integer" id="S6.T1.22.22.3.m1.3.3.cmml" xref="S6.T1.22.22.3.m1.3.3">10</cn><cn type="integer" id="S6.T1.22.22.3.m1.4.4.cmml" xref="S6.T1.22.22.3.m1.4.4">15</cn><cn type="integer" id="S6.T1.22.22.3.m1.5.5.cmml" xref="S6.T1.22.22.3.m1.5.5">20</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.22.22.3.m1.5c">\{1,5,10,15,20\}</annotation></semantics></math></td>
</tr>
<tr id="S6.T1.25.25" class="ltx_tr">
<td id="S6.T1.25.25.4" class="ltx_td ltx_align_left"><span id="S6.T1.25.25.4.1" class="ltx_text" style="font-size:70%;">Malicious ratio</span></td>
<td id="S6.T1.23.23.1" class="ltx_td ltx_align_left"><math id="S6.T1.23.23.1.m1.1" class="ltx_Math" alttext="M_{d}" display="inline"><semantics id="S6.T1.23.23.1.m1.1a"><msub id="S6.T1.23.23.1.m1.1.1" xref="S6.T1.23.23.1.m1.1.1.cmml"><mi mathsize="70%" id="S6.T1.23.23.1.m1.1.1.2" xref="S6.T1.23.23.1.m1.1.1.2.cmml">M</mi><mi mathsize="70%" id="S6.T1.23.23.1.m1.1.1.3" xref="S6.T1.23.23.1.m1.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S6.T1.23.23.1.m1.1b"><apply id="S6.T1.23.23.1.m1.1.1.cmml" xref="S6.T1.23.23.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T1.23.23.1.m1.1.1.1.cmml" xref="S6.T1.23.23.1.m1.1.1">subscript</csymbol><ci id="S6.T1.23.23.1.m1.1.1.2.cmml" xref="S6.T1.23.23.1.m1.1.1.2">𝑀</ci><ci id="S6.T1.23.23.1.m1.1.1.3.cmml" xref="S6.T1.23.23.1.m1.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.23.23.1.m1.1c">M_{d}</annotation></semantics></math></td>
<td id="S6.T1.24.24.2" class="ltx_td ltx_align_left"><math id="S6.T1.24.24.2.m1.4" class="ltx_Math" alttext="\{0,0.1,0.2,0.3\}" display="inline"><semantics id="S6.T1.24.24.2.m1.4a"><mrow id="S6.T1.24.24.2.m1.4.5.2" xref="S6.T1.24.24.2.m1.4.5.1.cmml"><mo maxsize="70%" minsize="70%" id="S6.T1.24.24.2.m1.4.5.2.1" xref="S6.T1.24.24.2.m1.4.5.1.cmml">{</mo><mn mathsize="70%" id="S6.T1.24.24.2.m1.1.1" xref="S6.T1.24.24.2.m1.1.1.cmml">0</mn><mo mathsize="70%" id="S6.T1.24.24.2.m1.4.5.2.2" xref="S6.T1.24.24.2.m1.4.5.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.24.24.2.m1.2.2" xref="S6.T1.24.24.2.m1.2.2.cmml">0.1</mn><mo mathsize="70%" id="S6.T1.24.24.2.m1.4.5.2.3" xref="S6.T1.24.24.2.m1.4.5.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.24.24.2.m1.3.3" xref="S6.T1.24.24.2.m1.3.3.cmml">0.2</mn><mo mathsize="70%" id="S6.T1.24.24.2.m1.4.5.2.4" xref="S6.T1.24.24.2.m1.4.5.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.24.24.2.m1.4.4" xref="S6.T1.24.24.2.m1.4.4.cmml">0.3</mn><mo maxsize="70%" minsize="70%" id="S6.T1.24.24.2.m1.4.5.2.5" xref="S6.T1.24.24.2.m1.4.5.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.24.24.2.m1.4b"><set id="S6.T1.24.24.2.m1.4.5.1.cmml" xref="S6.T1.24.24.2.m1.4.5.2"><cn type="integer" id="S6.T1.24.24.2.m1.1.1.cmml" xref="S6.T1.24.24.2.m1.1.1">0</cn><cn type="float" id="S6.T1.24.24.2.m1.2.2.cmml" xref="S6.T1.24.24.2.m1.2.2">0.1</cn><cn type="float" id="S6.T1.24.24.2.m1.3.3.cmml" xref="S6.T1.24.24.2.m1.3.3">0.2</cn><cn type="float" id="S6.T1.24.24.2.m1.4.4.cmml" xref="S6.T1.24.24.2.m1.4.4">0.3</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.24.24.2.m1.4c">\{0,0.1,0.2,0.3\}</annotation></semantics></math></td>
<td id="S6.T1.25.25.3" class="ltx_td ltx_align_left"><math id="S6.T1.25.25.3.m1.4" class="ltx_Math" alttext="\{0,0.1,0.2,0.3\}" display="inline"><semantics id="S6.T1.25.25.3.m1.4a"><mrow id="S6.T1.25.25.3.m1.4.5.2" xref="S6.T1.25.25.3.m1.4.5.1.cmml"><mo maxsize="70%" minsize="70%" id="S6.T1.25.25.3.m1.4.5.2.1" xref="S6.T1.25.25.3.m1.4.5.1.cmml">{</mo><mn mathsize="70%" id="S6.T1.25.25.3.m1.1.1" xref="S6.T1.25.25.3.m1.1.1.cmml">0</mn><mo mathsize="70%" id="S6.T1.25.25.3.m1.4.5.2.2" xref="S6.T1.25.25.3.m1.4.5.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.25.25.3.m1.2.2" xref="S6.T1.25.25.3.m1.2.2.cmml">0.1</mn><mo mathsize="70%" id="S6.T1.25.25.3.m1.4.5.2.3" xref="S6.T1.25.25.3.m1.4.5.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.25.25.3.m1.3.3" xref="S6.T1.25.25.3.m1.3.3.cmml">0.2</mn><mo mathsize="70%" id="S6.T1.25.25.3.m1.4.5.2.4" xref="S6.T1.25.25.3.m1.4.5.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.25.25.3.m1.4.4" xref="S6.T1.25.25.3.m1.4.4.cmml">0.3</mn><mo maxsize="70%" minsize="70%" id="S6.T1.25.25.3.m1.4.5.2.5" xref="S6.T1.25.25.3.m1.4.5.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.25.25.3.m1.4b"><set id="S6.T1.25.25.3.m1.4.5.1.cmml" xref="S6.T1.25.25.3.m1.4.5.2"><cn type="integer" id="S6.T1.25.25.3.m1.1.1.cmml" xref="S6.T1.25.25.3.m1.1.1">0</cn><cn type="float" id="S6.T1.25.25.3.m1.2.2.cmml" xref="S6.T1.25.25.3.m1.2.2">0.1</cn><cn type="float" id="S6.T1.25.25.3.m1.3.3.cmml" xref="S6.T1.25.25.3.m1.3.3">0.2</cn><cn type="float" id="S6.T1.25.25.3.m1.4.4.cmml" xref="S6.T1.25.25.3.m1.4.4">0.3</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.25.25.3.m1.4c">\{0,0.1,0.2,0.3\}</annotation></semantics></math></td>
</tr>
<tr id="S6.T1.28.28" class="ltx_tr">
<td id="S6.T1.28.28.4" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T1.28.28.4.1" class="ltx_text" style="font-size:70%;"># of rounds/ite.</span></td>
<td id="S6.T1.26.26.1" class="ltx_td ltx_align_left ltx_border_b"><math id="S6.T1.26.26.1.m1.1" class="ltx_Math" alttext="R" display="inline"><semantics id="S6.T1.26.26.1.m1.1a"><mi mathsize="70%" id="S6.T1.26.26.1.m1.1.1" xref="S6.T1.26.26.1.m1.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S6.T1.26.26.1.m1.1b"><ci id="S6.T1.26.26.1.m1.1.1.cmml" xref="S6.T1.26.26.1.m1.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.26.26.1.m1.1c">R</annotation></semantics></math></td>
<td id="S6.T1.27.27.2" class="ltx_td ltx_align_left ltx_border_b"><math id="S6.T1.27.27.2.m1.3" class="ltx_Math" alttext="\{1,2,3\}" display="inline"><semantics id="S6.T1.27.27.2.m1.3a"><mrow id="S6.T1.27.27.2.m1.3.4.2" xref="S6.T1.27.27.2.m1.3.4.1.cmml"><mo maxsize="70%" minsize="70%" id="S6.T1.27.27.2.m1.3.4.2.1" xref="S6.T1.27.27.2.m1.3.4.1.cmml">{</mo><mn mathsize="70%" id="S6.T1.27.27.2.m1.1.1" xref="S6.T1.27.27.2.m1.1.1.cmml">1</mn><mo mathsize="70%" id="S6.T1.27.27.2.m1.3.4.2.2" xref="S6.T1.27.27.2.m1.3.4.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.27.27.2.m1.2.2" xref="S6.T1.27.27.2.m1.2.2.cmml">2</mn><mo mathsize="70%" id="S6.T1.27.27.2.m1.3.4.2.3" xref="S6.T1.27.27.2.m1.3.4.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.27.27.2.m1.3.3" xref="S6.T1.27.27.2.m1.3.3.cmml">3</mn><mo maxsize="70%" minsize="70%" id="S6.T1.27.27.2.m1.3.4.2.4" xref="S6.T1.27.27.2.m1.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.27.27.2.m1.3b"><set id="S6.T1.27.27.2.m1.3.4.1.cmml" xref="S6.T1.27.27.2.m1.3.4.2"><cn type="integer" id="S6.T1.27.27.2.m1.1.1.cmml" xref="S6.T1.27.27.2.m1.1.1">1</cn><cn type="integer" id="S6.T1.27.27.2.m1.2.2.cmml" xref="S6.T1.27.27.2.m1.2.2">2</cn><cn type="integer" id="S6.T1.27.27.2.m1.3.3.cmml" xref="S6.T1.27.27.2.m1.3.3">3</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.27.27.2.m1.3c">\{1,2,3\}</annotation></semantics></math></td>
<td id="S6.T1.28.28.3" class="ltx_td ltx_align_left ltx_border_b"><math id="S6.T1.28.28.3.m1.3" class="ltx_Math" alttext="\{1,2,3\}" display="inline"><semantics id="S6.T1.28.28.3.m1.3a"><mrow id="S6.T1.28.28.3.m1.3.4.2" xref="S6.T1.28.28.3.m1.3.4.1.cmml"><mo maxsize="70%" minsize="70%" id="S6.T1.28.28.3.m1.3.4.2.1" xref="S6.T1.28.28.3.m1.3.4.1.cmml">{</mo><mn mathsize="70%" id="S6.T1.28.28.3.m1.1.1" xref="S6.T1.28.28.3.m1.1.1.cmml">1</mn><mo mathsize="70%" id="S6.T1.28.28.3.m1.3.4.2.2" xref="S6.T1.28.28.3.m1.3.4.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.28.28.3.m1.2.2" xref="S6.T1.28.28.3.m1.2.2.cmml">2</mn><mo mathsize="70%" id="S6.T1.28.28.3.m1.3.4.2.3" xref="S6.T1.28.28.3.m1.3.4.1.cmml">,</mo><mn mathsize="70%" id="S6.T1.28.28.3.m1.3.3" xref="S6.T1.28.28.3.m1.3.3.cmml">3</mn><mo maxsize="70%" minsize="70%" id="S6.T1.28.28.3.m1.3.4.2.4" xref="S6.T1.28.28.3.m1.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.28.28.3.m1.3b"><set id="S6.T1.28.28.3.m1.3.4.1.cmml" xref="S6.T1.28.28.3.m1.3.4.2"><cn type="integer" id="S6.T1.28.28.3.m1.1.1.cmml" xref="S6.T1.28.28.3.m1.1.1">1</cn><cn type="integer" id="S6.T1.28.28.3.m1.2.2.cmml" xref="S6.T1.28.28.3.m1.2.2">2</cn><cn type="integer" id="S6.T1.28.28.3.m1.3.3.cmml" xref="S6.T1.28.28.3.m1.3.3">3</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.28.28.3.m1.3c">\{1,2,3\}</annotation></semantics></math></td>
</tr>
</table>
</figure>
<div id="S6.SS1.p2" class="ltx_para">
<p id="S6.SS1.p2.3" class="ltx_p">In Task 1, we use the classic network of LeNet-5 which consists of two convolutional layers with max pooling and three fully connected layers.
Task 2 simulates mobile keyboard scenarios in decentralized applications, where each text sample is embedded into a 300-dimensional vector for the GRU-based model, followed by a fully connected layer for next-word prediction, similar to <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>.
Table <a href="#S6.T1" title="TABLE I ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a> details common experimental settings, including different evaluation metrics (<math id="S6.SS1.p2.1.m1.1" class="ltx_Math" alttext="e_{m}" display="inline"><semantics id="S6.SS1.p2.1.m1.1a"><msub id="S6.SS1.p2.1.m1.1.1" xref="S6.SS1.p2.1.m1.1.1.cmml"><mi id="S6.SS1.p2.1.m1.1.1.2" xref="S6.SS1.p2.1.m1.1.1.2.cmml">e</mi><mi id="S6.SS1.p2.1.m1.1.1.3" xref="S6.SS1.p2.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.1.m1.1b"><apply id="S6.SS1.p2.1.m1.1.1.cmml" xref="S6.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p2.1.m1.1.1.1.cmml" xref="S6.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S6.SS1.p2.1.m1.1.1.2.cmml" xref="S6.SS1.p2.1.m1.1.1.2">𝑒</ci><ci id="S6.SS1.p2.1.m1.1.1.3.cmml" xref="S6.SS1.p2.1.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.1.m1.1c">e_{m}</annotation></semantics></math>) for different tasks.
In Task 1, for accuracy assessment, the function <math id="S6.SS1.p2.2.m2.1" class="ltx_Math" alttext="\phi(\cdot)" display="inline"><semantics id="S6.SS1.p2.2.m2.1a"><mrow id="S6.SS1.p2.2.m2.1.2" xref="S6.SS1.p2.2.m2.1.2.cmml"><mi id="S6.SS1.p2.2.m2.1.2.2" xref="S6.SS1.p2.2.m2.1.2.2.cmml">ϕ</mi><mo lspace="0em" rspace="0em" id="S6.SS1.p2.2.m2.1.2.1" xref="S6.SS1.p2.2.m2.1.2.1.cmml">​</mo><mrow id="S6.SS1.p2.2.m2.1.2.3.2" xref="S6.SS1.p2.2.m2.1.2.cmml"><mo stretchy="false" id="S6.SS1.p2.2.m2.1.2.3.2.1" xref="S6.SS1.p2.2.m2.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S6.SS1.p2.2.m2.1.1" xref="S6.SS1.p2.2.m2.1.1.cmml">⋅</mo><mo stretchy="false" id="S6.SS1.p2.2.m2.1.2.3.2.2" xref="S6.SS1.p2.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.2.m2.1b"><apply id="S6.SS1.p2.2.m2.1.2.cmml" xref="S6.SS1.p2.2.m2.1.2"><times id="S6.SS1.p2.2.m2.1.2.1.cmml" xref="S6.SS1.p2.2.m2.1.2.1"></times><ci id="S6.SS1.p2.2.m2.1.2.2.cmml" xref="S6.SS1.p2.2.m2.1.2.2">italic-ϕ</ci><ci id="S6.SS1.p2.2.m2.1.1.cmml" xref="S6.SS1.p2.2.m2.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.2.m2.1c">\phi(\cdot)</annotation></semantics></math> outputs 1 for correct model predictions (<math id="S6.SS1.p2.3.m3.1" class="ltx_Math" alttext="\hat{\mathbf{y}_{i}}" display="inline"><semantics id="S6.SS1.p2.3.m3.1a"><mover accent="true" id="S6.SS1.p2.3.m3.1.1" xref="S6.SS1.p2.3.m3.1.1.cmml"><msub id="S6.SS1.p2.3.m3.1.1.2" xref="S6.SS1.p2.3.m3.1.1.2.cmml"><mi id="S6.SS1.p2.3.m3.1.1.2.2" xref="S6.SS1.p2.3.m3.1.1.2.2.cmml">𝐲</mi><mi id="S6.SS1.p2.3.m3.1.1.2.3" xref="S6.SS1.p2.3.m3.1.1.2.3.cmml">i</mi></msub><mo id="S6.SS1.p2.3.m3.1.1.1" xref="S6.SS1.p2.3.m3.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.3.m3.1b"><apply id="S6.SS1.p2.3.m3.1.1.cmml" xref="S6.SS1.p2.3.m3.1.1"><ci id="S6.SS1.p2.3.m3.1.1.1.cmml" xref="S6.SS1.p2.3.m3.1.1.1">^</ci><apply id="S6.SS1.p2.3.m3.1.1.2.cmml" xref="S6.SS1.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="S6.SS1.p2.3.m3.1.1.2.1.cmml" xref="S6.SS1.p2.3.m3.1.1.2">subscript</csymbol><ci id="S6.SS1.p2.3.m3.1.1.2.2.cmml" xref="S6.SS1.p2.3.m3.1.1.2.2">𝐲</ci><ci id="S6.SS1.p2.3.m3.1.1.2.3.cmml" xref="S6.SS1.p2.3.m3.1.1.2.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.3.m3.1c">\hat{\mathbf{y}_{i}}</annotation></semantics></math>) and 0 otherwise.
Task 2 employs perplexity <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite>, a common metric for language models, where lower testing perplexity indicates higher accuracy and better performance, as detailed in Table <a href="#S6.T1" title="TABLE I ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>.</p>
</div>
<div id="S6.SS1.p3" class="ltx_para">
<p id="S6.SS1.p3.1" class="ltx_p">Our extensive experiments compare various dimensions, including distributed training methods, mini-batch size scales, and local epoch numbers.
We establish two baselines for comparison, with specific settings for baselines and ChainFL as follows:</p>
</div>
<div id="S6.SS1.p4" class="ltx_para">
<p id="S6.SS1.p4.1" class="ltx_p"><em id="S6.SS1.p4.1.1" class="ltx_emph ltx_font_italic">FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>:</em>
FedAvg, a synchronous federated optimization method, samples a fraction of devices in each iteration, with each device performing multiple local epochs to update its model.
For a more fair comparison, the number of devices sampled per iteration equals the number of devices per shard (<math id="S6.SS1.p4.1.m1.1" class="ltx_Math" alttext="S_{d}" display="inline"><semantics id="S6.SS1.p4.1.m1.1a"><msub id="S6.SS1.p4.1.m1.1.1" xref="S6.SS1.p4.1.m1.1.1.cmml"><mi id="S6.SS1.p4.1.m1.1.1.2" xref="S6.SS1.p4.1.m1.1.1.2.cmml">S</mi><mi id="S6.SS1.p4.1.m1.1.1.3" xref="S6.SS1.p4.1.m1.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.p4.1.m1.1b"><apply id="S6.SS1.p4.1.m1.1.1.cmml" xref="S6.SS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p4.1.m1.1.1.1.cmml" xref="S6.SS1.p4.1.m1.1.1">subscript</csymbol><ci id="S6.SS1.p4.1.m1.1.1.2.cmml" xref="S6.SS1.p4.1.m1.1.1.2">𝑆</ci><ci id="S6.SS1.p4.1.m1.1.1.3.cmml" xref="S6.SS1.p4.1.m1.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p4.1.m1.1c">S_{d}</annotation></semantics></math>).</p>
</div>
<div id="S6.SS1.p5" class="ltx_para">
<p id="S6.SS1.p5.3" class="ltx_p"><em id="S6.SS1.p5.3.1" class="ltx_emph ltx_font_italic">AsynFL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>:</em>
AsynFL is an asynchronous federated optimization method that updates the global model timely as the central server receives the updated local model from the device.
For detail, the global model <math id="S6.SS1.p5.1.m1.1" class="ltx_Math" alttext="\mathbf{w}^{{}^{\prime}}_{gm}" display="inline"><semantics id="S6.SS1.p5.1.m1.1a"><msubsup id="S6.SS1.p5.1.m1.1.1" xref="S6.SS1.p5.1.m1.1.1.cmml"><mi id="S6.SS1.p5.1.m1.1.1.2.2" xref="S6.SS1.p5.1.m1.1.1.2.2.cmml">𝐰</mi><mrow id="S6.SS1.p5.1.m1.1.1.3" xref="S6.SS1.p5.1.m1.1.1.3.cmml"><mi id="S6.SS1.p5.1.m1.1.1.3.2" xref="S6.SS1.p5.1.m1.1.1.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S6.SS1.p5.1.m1.1.1.3.1" xref="S6.SS1.p5.1.m1.1.1.3.1.cmml">​</mo><mi id="S6.SS1.p5.1.m1.1.1.3.3" xref="S6.SS1.p5.1.m1.1.1.3.3.cmml">m</mi></mrow><msup id="S6.SS1.p5.1.m1.1.1.2.3" xref="S6.SS1.p5.1.m1.1.1.2.3.cmml"><mi id="S6.SS1.p5.1.m1.1.1.2.3a" xref="S6.SS1.p5.1.m1.1.1.2.3.cmml"></mi><mo id="S6.SS1.p5.1.m1.1.1.2.3.1" xref="S6.SS1.p5.1.m1.1.1.2.3.1.cmml">′</mo></msup></msubsup><annotation-xml encoding="MathML-Content" id="S6.SS1.p5.1.m1.1b"><apply id="S6.SS1.p5.1.m1.1.1.cmml" xref="S6.SS1.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p5.1.m1.1.1.1.cmml" xref="S6.SS1.p5.1.m1.1.1">subscript</csymbol><apply id="S6.SS1.p5.1.m1.1.1.2.cmml" xref="S6.SS1.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p5.1.m1.1.1.2.1.cmml" xref="S6.SS1.p5.1.m1.1.1">superscript</csymbol><ci id="S6.SS1.p5.1.m1.1.1.2.2.cmml" xref="S6.SS1.p5.1.m1.1.1.2.2">𝐰</ci><apply id="S6.SS1.p5.1.m1.1.1.2.3.cmml" xref="S6.SS1.p5.1.m1.1.1.2.3"><ci id="S6.SS1.p5.1.m1.1.1.2.3.1.cmml" xref="S6.SS1.p5.1.m1.1.1.2.3.1">′</ci></apply></apply><apply id="S6.SS1.p5.1.m1.1.1.3.cmml" xref="S6.SS1.p5.1.m1.1.1.3"><times id="S6.SS1.p5.1.m1.1.1.3.1.cmml" xref="S6.SS1.p5.1.m1.1.1.3.1"></times><ci id="S6.SS1.p5.1.m1.1.1.3.2.cmml" xref="S6.SS1.p5.1.m1.1.1.3.2">𝑔</ci><ci id="S6.SS1.p5.1.m1.1.1.3.3.cmml" xref="S6.SS1.p5.1.m1.1.1.3.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p5.1.m1.1c">\mathbf{w}^{{}^{\prime}}_{gm}</annotation></semantics></math> is updated using the rule <math id="S6.SS1.p5.2.m2.1" class="ltx_Math" alttext="\mathbf{w}^{{}^{\prime}}_{new}\leftarrow\frac{1}{2}\mathbf{w}^{{}^{\prime}}_{gm}+\frac{1}{2}\mathbf{w}^{{}^{\prime}}_{lm}" display="inline"><semantics id="S6.SS1.p5.2.m2.1a"><mrow id="S6.SS1.p5.2.m2.1.1" xref="S6.SS1.p5.2.m2.1.1.cmml"><msubsup id="S6.SS1.p5.2.m2.1.1.2" xref="S6.SS1.p5.2.m2.1.1.2.cmml"><mi id="S6.SS1.p5.2.m2.1.1.2.2.2" xref="S6.SS1.p5.2.m2.1.1.2.2.2.cmml">𝐰</mi><mrow id="S6.SS1.p5.2.m2.1.1.2.3" xref="S6.SS1.p5.2.m2.1.1.2.3.cmml"><mi id="S6.SS1.p5.2.m2.1.1.2.3.2" xref="S6.SS1.p5.2.m2.1.1.2.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S6.SS1.p5.2.m2.1.1.2.3.1" xref="S6.SS1.p5.2.m2.1.1.2.3.1.cmml">​</mo><mi id="S6.SS1.p5.2.m2.1.1.2.3.3" xref="S6.SS1.p5.2.m2.1.1.2.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S6.SS1.p5.2.m2.1.1.2.3.1a" xref="S6.SS1.p5.2.m2.1.1.2.3.1.cmml">​</mo><mi id="S6.SS1.p5.2.m2.1.1.2.3.4" xref="S6.SS1.p5.2.m2.1.1.2.3.4.cmml">w</mi></mrow><msup id="S6.SS1.p5.2.m2.1.1.2.2.3" xref="S6.SS1.p5.2.m2.1.1.2.2.3.cmml"><mi id="S6.SS1.p5.2.m2.1.1.2.2.3a" xref="S6.SS1.p5.2.m2.1.1.2.2.3.cmml"></mi><mo id="S6.SS1.p5.2.m2.1.1.2.2.3.1" xref="S6.SS1.p5.2.m2.1.1.2.2.3.1.cmml">′</mo></msup></msubsup><mo stretchy="false" id="S6.SS1.p5.2.m2.1.1.1" xref="S6.SS1.p5.2.m2.1.1.1.cmml">←</mo><mrow id="S6.SS1.p5.2.m2.1.1.3" xref="S6.SS1.p5.2.m2.1.1.3.cmml"><mrow id="S6.SS1.p5.2.m2.1.1.3.2" xref="S6.SS1.p5.2.m2.1.1.3.2.cmml"><mfrac id="S6.SS1.p5.2.m2.1.1.3.2.2" xref="S6.SS1.p5.2.m2.1.1.3.2.2.cmml"><mn id="S6.SS1.p5.2.m2.1.1.3.2.2.2" xref="S6.SS1.p5.2.m2.1.1.3.2.2.2.cmml">1</mn><mn id="S6.SS1.p5.2.m2.1.1.3.2.2.3" xref="S6.SS1.p5.2.m2.1.1.3.2.2.3.cmml">2</mn></mfrac><mo lspace="0em" rspace="0em" id="S6.SS1.p5.2.m2.1.1.3.2.1" xref="S6.SS1.p5.2.m2.1.1.3.2.1.cmml">​</mo><msubsup id="S6.SS1.p5.2.m2.1.1.3.2.3" xref="S6.SS1.p5.2.m2.1.1.3.2.3.cmml"><mi id="S6.SS1.p5.2.m2.1.1.3.2.3.2.2" xref="S6.SS1.p5.2.m2.1.1.3.2.3.2.2.cmml">𝐰</mi><mrow id="S6.SS1.p5.2.m2.1.1.3.2.3.3" xref="S6.SS1.p5.2.m2.1.1.3.2.3.3.cmml"><mi id="S6.SS1.p5.2.m2.1.1.3.2.3.3.2" xref="S6.SS1.p5.2.m2.1.1.3.2.3.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S6.SS1.p5.2.m2.1.1.3.2.3.3.1" xref="S6.SS1.p5.2.m2.1.1.3.2.3.3.1.cmml">​</mo><mi id="S6.SS1.p5.2.m2.1.1.3.2.3.3.3" xref="S6.SS1.p5.2.m2.1.1.3.2.3.3.3.cmml">m</mi></mrow><msup id="S6.SS1.p5.2.m2.1.1.3.2.3.2.3" xref="S6.SS1.p5.2.m2.1.1.3.2.3.2.3.cmml"><mi id="S6.SS1.p5.2.m2.1.1.3.2.3.2.3a" xref="S6.SS1.p5.2.m2.1.1.3.2.3.2.3.cmml"></mi><mo id="S6.SS1.p5.2.m2.1.1.3.2.3.2.3.1" xref="S6.SS1.p5.2.m2.1.1.3.2.3.2.3.1.cmml">′</mo></msup></msubsup></mrow><mo id="S6.SS1.p5.2.m2.1.1.3.1" xref="S6.SS1.p5.2.m2.1.1.3.1.cmml">+</mo><mrow id="S6.SS1.p5.2.m2.1.1.3.3" xref="S6.SS1.p5.2.m2.1.1.3.3.cmml"><mfrac id="S6.SS1.p5.2.m2.1.1.3.3.2" xref="S6.SS1.p5.2.m2.1.1.3.3.2.cmml"><mn id="S6.SS1.p5.2.m2.1.1.3.3.2.2" xref="S6.SS1.p5.2.m2.1.1.3.3.2.2.cmml">1</mn><mn id="S6.SS1.p5.2.m2.1.1.3.3.2.3" xref="S6.SS1.p5.2.m2.1.1.3.3.2.3.cmml">2</mn></mfrac><mo lspace="0em" rspace="0em" id="S6.SS1.p5.2.m2.1.1.3.3.1" xref="S6.SS1.p5.2.m2.1.1.3.3.1.cmml">​</mo><msubsup id="S6.SS1.p5.2.m2.1.1.3.3.3" xref="S6.SS1.p5.2.m2.1.1.3.3.3.cmml"><mi id="S6.SS1.p5.2.m2.1.1.3.3.3.2.2" xref="S6.SS1.p5.2.m2.1.1.3.3.3.2.2.cmml">𝐰</mi><mrow id="S6.SS1.p5.2.m2.1.1.3.3.3.3" xref="S6.SS1.p5.2.m2.1.1.3.3.3.3.cmml"><mi id="S6.SS1.p5.2.m2.1.1.3.3.3.3.2" xref="S6.SS1.p5.2.m2.1.1.3.3.3.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S6.SS1.p5.2.m2.1.1.3.3.3.3.1" xref="S6.SS1.p5.2.m2.1.1.3.3.3.3.1.cmml">​</mo><mi id="S6.SS1.p5.2.m2.1.1.3.3.3.3.3" xref="S6.SS1.p5.2.m2.1.1.3.3.3.3.3.cmml">m</mi></mrow><msup id="S6.SS1.p5.2.m2.1.1.3.3.3.2.3" xref="S6.SS1.p5.2.m2.1.1.3.3.3.2.3.cmml"><mi id="S6.SS1.p5.2.m2.1.1.3.3.3.2.3a" xref="S6.SS1.p5.2.m2.1.1.3.3.3.2.3.cmml"></mi><mo id="S6.SS1.p5.2.m2.1.1.3.3.3.2.3.1" xref="S6.SS1.p5.2.m2.1.1.3.3.3.2.3.1.cmml">′</mo></msup></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p5.2.m2.1b"><apply id="S6.SS1.p5.2.m2.1.1.cmml" xref="S6.SS1.p5.2.m2.1.1"><ci id="S6.SS1.p5.2.m2.1.1.1.cmml" xref="S6.SS1.p5.2.m2.1.1.1">←</ci><apply id="S6.SS1.p5.2.m2.1.1.2.cmml" xref="S6.SS1.p5.2.m2.1.1.2"><csymbol cd="ambiguous" id="S6.SS1.p5.2.m2.1.1.2.1.cmml" xref="S6.SS1.p5.2.m2.1.1.2">subscript</csymbol><apply id="S6.SS1.p5.2.m2.1.1.2.2.cmml" xref="S6.SS1.p5.2.m2.1.1.2"><csymbol cd="ambiguous" id="S6.SS1.p5.2.m2.1.1.2.2.1.cmml" xref="S6.SS1.p5.2.m2.1.1.2">superscript</csymbol><ci id="S6.SS1.p5.2.m2.1.1.2.2.2.cmml" xref="S6.SS1.p5.2.m2.1.1.2.2.2">𝐰</ci><apply id="S6.SS1.p5.2.m2.1.1.2.2.3.cmml" xref="S6.SS1.p5.2.m2.1.1.2.2.3"><ci id="S6.SS1.p5.2.m2.1.1.2.2.3.1.cmml" xref="S6.SS1.p5.2.m2.1.1.2.2.3.1">′</ci></apply></apply><apply id="S6.SS1.p5.2.m2.1.1.2.3.cmml" xref="S6.SS1.p5.2.m2.1.1.2.3"><times id="S6.SS1.p5.2.m2.1.1.2.3.1.cmml" xref="S6.SS1.p5.2.m2.1.1.2.3.1"></times><ci id="S6.SS1.p5.2.m2.1.1.2.3.2.cmml" xref="S6.SS1.p5.2.m2.1.1.2.3.2">𝑛</ci><ci id="S6.SS1.p5.2.m2.1.1.2.3.3.cmml" xref="S6.SS1.p5.2.m2.1.1.2.3.3">𝑒</ci><ci id="S6.SS1.p5.2.m2.1.1.2.3.4.cmml" xref="S6.SS1.p5.2.m2.1.1.2.3.4">𝑤</ci></apply></apply><apply id="S6.SS1.p5.2.m2.1.1.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3"><plus id="S6.SS1.p5.2.m2.1.1.3.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.1"></plus><apply id="S6.SS1.p5.2.m2.1.1.3.2.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2"><times id="S6.SS1.p5.2.m2.1.1.3.2.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.1"></times><apply id="S6.SS1.p5.2.m2.1.1.3.2.2.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.2"><divide id="S6.SS1.p5.2.m2.1.1.3.2.2.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.2"></divide><cn type="integer" id="S6.SS1.p5.2.m2.1.1.3.2.2.2.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.2.2">1</cn><cn type="integer" id="S6.SS1.p5.2.m2.1.1.3.2.2.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.2.3">2</cn></apply><apply id="S6.SS1.p5.2.m2.1.1.3.2.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.3"><csymbol cd="ambiguous" id="S6.SS1.p5.2.m2.1.1.3.2.3.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.3">subscript</csymbol><apply id="S6.SS1.p5.2.m2.1.1.3.2.3.2.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.3"><csymbol cd="ambiguous" id="S6.SS1.p5.2.m2.1.1.3.2.3.2.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.3">superscript</csymbol><ci id="S6.SS1.p5.2.m2.1.1.3.2.3.2.2.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.3.2.2">𝐰</ci><apply id="S6.SS1.p5.2.m2.1.1.3.2.3.2.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.3.2.3"><ci id="S6.SS1.p5.2.m2.1.1.3.2.3.2.3.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.3.2.3.1">′</ci></apply></apply><apply id="S6.SS1.p5.2.m2.1.1.3.2.3.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.3.3"><times id="S6.SS1.p5.2.m2.1.1.3.2.3.3.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.3.3.1"></times><ci id="S6.SS1.p5.2.m2.1.1.3.2.3.3.2.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.3.3.2">𝑔</ci><ci id="S6.SS1.p5.2.m2.1.1.3.2.3.3.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3.2.3.3.3">𝑚</ci></apply></apply></apply><apply id="S6.SS1.p5.2.m2.1.1.3.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3"><times id="S6.SS1.p5.2.m2.1.1.3.3.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.1"></times><apply id="S6.SS1.p5.2.m2.1.1.3.3.2.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.2"><divide id="S6.SS1.p5.2.m2.1.1.3.3.2.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.2"></divide><cn type="integer" id="S6.SS1.p5.2.m2.1.1.3.3.2.2.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.2.2">1</cn><cn type="integer" id="S6.SS1.p5.2.m2.1.1.3.3.2.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.2.3">2</cn></apply><apply id="S6.SS1.p5.2.m2.1.1.3.3.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.3"><csymbol cd="ambiguous" id="S6.SS1.p5.2.m2.1.1.3.3.3.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.3">subscript</csymbol><apply id="S6.SS1.p5.2.m2.1.1.3.3.3.2.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.3"><csymbol cd="ambiguous" id="S6.SS1.p5.2.m2.1.1.3.3.3.2.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.3">superscript</csymbol><ci id="S6.SS1.p5.2.m2.1.1.3.3.3.2.2.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.3.2.2">𝐰</ci><apply id="S6.SS1.p5.2.m2.1.1.3.3.3.2.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.3.2.3"><ci id="S6.SS1.p5.2.m2.1.1.3.3.3.2.3.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.3.2.3.1">′</ci></apply></apply><apply id="S6.SS1.p5.2.m2.1.1.3.3.3.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.3.3"><times id="S6.SS1.p5.2.m2.1.1.3.3.3.3.1.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.3.3.1"></times><ci id="S6.SS1.p5.2.m2.1.1.3.3.3.3.2.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.3.3.2">𝑙</ci><ci id="S6.SS1.p5.2.m2.1.1.3.3.3.3.3.cmml" xref="S6.SS1.p5.2.m2.1.1.3.3.3.3.3">𝑚</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p5.2.m2.1c">\mathbf{w}^{{}^{\prime}}_{new}\leftarrow\frac{1}{2}\mathbf{w}^{{}^{\prime}}_{gm}+\frac{1}{2}\mathbf{w}^{{}^{\prime}}_{lm}</annotation></semantics></math> in each global epoch by using the updated local model <math id="S6.SS1.p5.3.m3.1" class="ltx_Math" alttext="\mathbf{w}^{{}^{\prime}}_{lm}" display="inline"><semantics id="S6.SS1.p5.3.m3.1a"><msubsup id="S6.SS1.p5.3.m3.1.1" xref="S6.SS1.p5.3.m3.1.1.cmml"><mi id="S6.SS1.p5.3.m3.1.1.2.2" xref="S6.SS1.p5.3.m3.1.1.2.2.cmml">𝐰</mi><mrow id="S6.SS1.p5.3.m3.1.1.3" xref="S6.SS1.p5.3.m3.1.1.3.cmml"><mi id="S6.SS1.p5.3.m3.1.1.3.2" xref="S6.SS1.p5.3.m3.1.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S6.SS1.p5.3.m3.1.1.3.1" xref="S6.SS1.p5.3.m3.1.1.3.1.cmml">​</mo><mi id="S6.SS1.p5.3.m3.1.1.3.3" xref="S6.SS1.p5.3.m3.1.1.3.3.cmml">m</mi></mrow><msup id="S6.SS1.p5.3.m3.1.1.2.3" xref="S6.SS1.p5.3.m3.1.1.2.3.cmml"><mi id="S6.SS1.p5.3.m3.1.1.2.3a" xref="S6.SS1.p5.3.m3.1.1.2.3.cmml"></mi><mo id="S6.SS1.p5.3.m3.1.1.2.3.1" xref="S6.SS1.p5.3.m3.1.1.2.3.1.cmml">′</mo></msup></msubsup><annotation-xml encoding="MathML-Content" id="S6.SS1.p5.3.m3.1b"><apply id="S6.SS1.p5.3.m3.1.1.cmml" xref="S6.SS1.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S6.SS1.p5.3.m3.1.1.1.cmml" xref="S6.SS1.p5.3.m3.1.1">subscript</csymbol><apply id="S6.SS1.p5.3.m3.1.1.2.cmml" xref="S6.SS1.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S6.SS1.p5.3.m3.1.1.2.1.cmml" xref="S6.SS1.p5.3.m3.1.1">superscript</csymbol><ci id="S6.SS1.p5.3.m3.1.1.2.2.cmml" xref="S6.SS1.p5.3.m3.1.1.2.2">𝐰</ci><apply id="S6.SS1.p5.3.m3.1.1.2.3.cmml" xref="S6.SS1.p5.3.m3.1.1.2.3"><ci id="S6.SS1.p5.3.m3.1.1.2.3.1.cmml" xref="S6.SS1.p5.3.m3.1.1.2.3.1">′</ci></apply></apply><apply id="S6.SS1.p5.3.m3.1.1.3.cmml" xref="S6.SS1.p5.3.m3.1.1.3"><times id="S6.SS1.p5.3.m3.1.1.3.1.cmml" xref="S6.SS1.p5.3.m3.1.1.3.1"></times><ci id="S6.SS1.p5.3.m3.1.1.3.2.cmml" xref="S6.SS1.p5.3.m3.1.1.3.2">𝑙</ci><ci id="S6.SS1.p5.3.m3.1.1.3.3.cmml" xref="S6.SS1.p5.3.m3.1.1.3.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p5.3.m3.1c">\mathbf{w}^{{}^{\prime}}_{lm}</annotation></semantics></math>.</p>
</div>
<div id="S6.SS1.p6" class="ltx_para">
<p id="S6.SS1.p6.1" class="ltx_p"><em id="S6.SS1.p6.1.1" class="ltx_emph ltx_font_italic">ChainFL:</em>
The training process of ChainFL in each shard takes a similar setting to FedAvg and performs in a decentralized way.
The basic iteration model of each shard is built asynchronously from the DAG according to Algorithm <a href="#alg2" title="Algorithm 2 ‣ 4.2 FL Process ‣ 4 ChainFL Workflow &amp; Consensus ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
With three shards in ChainFL, <math id="S6.SS1.p6.1.m1.1" class="ltx_Math" alttext="S_{d}" display="inline"><semantics id="S6.SS1.p6.1.m1.1a"><msub id="S6.SS1.p6.1.m1.1.1" xref="S6.SS1.p6.1.m1.1.1.cmml"><mi id="S6.SS1.p6.1.m1.1.1.2" xref="S6.SS1.p6.1.m1.1.1.2.cmml">S</mi><mi id="S6.SS1.p6.1.m1.1.1.3" xref="S6.SS1.p6.1.m1.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.p6.1.m1.1b"><apply id="S6.SS1.p6.1.m1.1.1.cmml" xref="S6.SS1.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p6.1.m1.1.1.1.cmml" xref="S6.SS1.p6.1.m1.1.1">subscript</csymbol><ci id="S6.SS1.p6.1.m1.1.1.2.cmml" xref="S6.SS1.p6.1.m1.1.1.2">𝑆</ci><ci id="S6.SS1.p6.1.m1.1.1.3.cmml" xref="S6.SS1.p6.1.m1.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p6.1.m1.1c">S_{d}</annotation></semantics></math> non-overlapping devices are selected from 100 devices for each shard.</p>
</div>
<figure id="S6.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE II: </span>Best Accuracy of Task 1 Under Different Experimental Settings of Mini-Batch Size (B) and # of Local Epochs (E).</figcaption>
<table id="S6.T2.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S6.T2.1.1" class="ltx_tr">
<td id="S6.T2.1.1.1" class="ltx_td ltx_border_t"></td>
<td id="S6.T2.1.1.2" class="ltx_td ltx_border_t"></td>
<td id="S6.T2.1.1.3" class="ltx_td ltx_align_center ltx_border_t" colspan="10">Best Accuracy</td>
</tr>
<tr id="S6.T2.1.2" class="ltx_tr">
<td id="S6.T2.1.2.1" class="ltx_td"></td>
<td id="S6.T2.1.2.2" class="ltx_td"></td>
<td id="S6.T2.1.2.3" class="ltx_td ltx_align_center" colspan="5">Stop@ # of Global Epochs=150</td>
<td id="S6.T2.1.2.4" class="ltx_td ltx_align_center" colspan="5">Stop@ # of Gradients=7000</td>
</tr>
<tr id="S6.T2.1.3" class="ltx_tr">
<td id="S6.T2.1.3.1" class="ltx_td ltx_border_t"></td>
<td id="S6.T2.1.3.2" class="ltx_td ltx_align_left ltx_border_t">Mini-Batch Size (B)</td>
<td id="S6.T2.1.3.3" class="ltx_td ltx_align_left ltx_border_t">10</td>
<td id="S6.T2.1.3.4" class="ltx_td ltx_align_left ltx_border_t">20</td>
<td id="S6.T2.1.3.5" class="ltx_td ltx_align_left ltx_border_t">30</td>
<td id="S6.T2.1.3.6" class="ltx_td ltx_align_left ltx_border_t">40</td>
<td id="S6.T2.1.3.7" class="ltx_td ltx_align_left ltx_border_t">50</td>
<td id="S6.T2.1.3.8" class="ltx_td ltx_align_left ltx_border_t">10</td>
<td id="S6.T2.1.3.9" class="ltx_td ltx_align_left ltx_border_t">20</td>
<td id="S6.T2.1.3.10" class="ltx_td ltx_align_left ltx_border_t">30</td>
<td id="S6.T2.1.3.11" class="ltx_td ltx_align_left ltx_border_t">40</td>
<td id="S6.T2.1.3.12" class="ltx_td ltx_align_left ltx_border_t">50</td>
</tr>
<tr id="S6.T2.1.4" class="ltx_tr">
<td id="S6.T2.1.4.1" class="ltx_td ltx_align_center ltx_border_t" rowspan="3"><span id="S6.T2.1.4.1.1" class="ltx_text">E=5</span></td>
<td id="S6.T2.1.4.2" class="ltx_td ltx_align_left ltx_border_t">FedAvg</td>
<td id="S6.T2.1.4.3" class="ltx_td ltx_align_left ltx_border_t">0.9702</td>
<td id="S6.T2.1.4.4" class="ltx_td ltx_align_left ltx_border_t">0.9603</td>
<td id="S6.T2.1.4.5" class="ltx_td ltx_align_left ltx_border_t">0.9575</td>
<td id="S6.T2.1.4.6" class="ltx_td ltx_align_left ltx_border_t">0.9552</td>
<td id="S6.T2.1.4.7" class="ltx_td ltx_align_left ltx_border_t">0.9526</td>
<td id="S6.T2.1.4.8" class="ltx_td ltx_align_left ltx_border_t">0.9663</td>
<td id="S6.T2.1.4.9" class="ltx_td ltx_align_left ltx_border_t">0.9602</td>
<td id="S6.T2.1.4.10" class="ltx_td ltx_align_left ltx_border_t">0.9552</td>
<td id="S6.T2.1.4.11" class="ltx_td ltx_align_left ltx_border_t">0.954</td>
<td id="S6.T2.1.4.12" class="ltx_td ltx_align_left ltx_border_t">0.9507</td>
</tr>
<tr id="S6.T2.1.5" class="ltx_tr">
<td id="S6.T2.1.5.1" class="ltx_td ltx_align_left">AsynFL</td>
<td id="S6.T2.1.5.2" class="ltx_td ltx_align_left">0.9021</td>
<td id="S6.T2.1.5.3" class="ltx_td ltx_align_left">0.8715</td>
<td id="S6.T2.1.5.4" class="ltx_td ltx_align_left">0.8511</td>
<td id="S6.T2.1.5.5" class="ltx_td ltx_align_left">0.8486</td>
<td id="S6.T2.1.5.6" class="ltx_td ltx_align_left">0.8147</td>
<td id="S6.T2.1.5.7" class="ltx_td ltx_align_left">0.9759</td>
<td id="S6.T2.1.5.8" class="ltx_td ltx_align_left">0.9756</td>
<td id="S6.T2.1.5.9" class="ltx_td ltx_align_left">0.9749</td>
<td id="S6.T2.1.5.10" class="ltx_td ltx_align_left">0.9724</td>
<td id="S6.T2.1.5.11" class="ltx_td ltx_align_left">0.9726</td>
</tr>
<tr id="S6.T2.1.6" class="ltx_tr">
<td id="S6.T2.1.6.1" class="ltx_td ltx_align_left">ChainFL</td>
<td id="S6.T2.1.6.2" class="ltx_td ltx_align_left"><span id="S6.T2.1.6.2.1" class="ltx_text ltx_font_bold">0.9758</span></td>
<td id="S6.T2.1.6.3" class="ltx_td ltx_align_left"><span id="S6.T2.1.6.3.1" class="ltx_text ltx_font_bold">0.9678</span></td>
<td id="S6.T2.1.6.4" class="ltx_td ltx_align_left"><span id="S6.T2.1.6.4.1" class="ltx_text ltx_font_bold">0.9683</span></td>
<td id="S6.T2.1.6.5" class="ltx_td ltx_align_left"><span id="S6.T2.1.6.5.1" class="ltx_text ltx_font_bold">0.9597</span></td>
<td id="S6.T2.1.6.6" class="ltx_td ltx_align_left">0.9507</td>
<td id="S6.T2.1.6.7" class="ltx_td ltx_align_left">0.9756</td>
<td id="S6.T2.1.6.8" class="ltx_td ltx_align_left">0.9678</td>
<td id="S6.T2.1.6.9" class="ltx_td ltx_align_left">0.9680</td>
<td id="S6.T2.1.6.10" class="ltx_td ltx_align_left">0.9545</td>
<td id="S6.T2.1.6.11" class="ltx_td ltx_align_left">0.9478</td>
</tr>
<tr id="S6.T2.1.7" class="ltx_tr">
<td id="S6.T2.1.7.1" class="ltx_td ltx_border_t"></td>
<td id="S6.T2.1.7.2" class="ltx_td ltx_align_left ltx_border_t"># of Local Epochs (E)</td>
<td id="S6.T2.1.7.3" class="ltx_td ltx_align_left ltx_border_t">1</td>
<td id="S6.T2.1.7.4" class="ltx_td ltx_align_left ltx_border_t">5</td>
<td id="S6.T2.1.7.5" class="ltx_td ltx_align_left ltx_border_t">10</td>
<td id="S6.T2.1.7.6" class="ltx_td ltx_align_left ltx_border_t">15</td>
<td id="S6.T2.1.7.7" class="ltx_td ltx_align_left ltx_border_t">20</td>
<td id="S6.T2.1.7.8" class="ltx_td ltx_align_left ltx_border_t">5</td>
<td id="S6.T2.1.7.9" class="ltx_td ltx_align_left ltx_border_t">10</td>
<td id="S6.T2.1.7.10" class="ltx_td ltx_align_left ltx_border_t">15</td>
<td id="S6.T2.1.7.11" class="ltx_td ltx_align_left ltx_border_t">20</td>
<td id="S6.T2.1.7.12" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="S6.T2.1.8" class="ltx_tr">
<td id="S6.T2.1.8.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_t" rowspan="3"><span id="S6.T2.1.8.1.1" class="ltx_text">B=10</span></td>
<td id="S6.T2.1.8.2" class="ltx_td ltx_align_left ltx_border_t">FedAvg</td>
<td id="S6.T2.1.8.3" class="ltx_td ltx_align_left ltx_border_t">0.9632</td>
<td id="S6.T2.1.8.4" class="ltx_td ltx_align_left ltx_border_t">0.9746</td>
<td id="S6.T2.1.8.5" class="ltx_td ltx_align_left ltx_border_t">0.9704</td>
<td id="S6.T2.1.8.6" class="ltx_td ltx_align_left ltx_border_t">0.9715</td>
<td id="S6.T2.1.8.7" class="ltx_td ltx_align_left ltx_border_t">0.9715</td>
<td id="S6.T2.1.8.8" class="ltx_td ltx_align_left ltx_border_t">0.9729</td>
<td id="S6.T2.1.8.9" class="ltx_td ltx_align_left ltx_border_t">0.9619</td>
<td id="S6.T2.1.8.10" class="ltx_td ltx_align_left ltx_border_t">0.9482</td>
<td id="S6.T2.1.8.11" class="ltx_td ltx_align_left ltx_border_t">0.9383</td>
<td id="S6.T2.1.8.12" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="S6.T2.1.9" class="ltx_tr">
<td id="S6.T2.1.9.1" class="ltx_td ltx_align_left">AsynFL</td>
<td id="S6.T2.1.9.2" class="ltx_td ltx_align_left">0.8483</td>
<td id="S6.T2.1.9.3" class="ltx_td ltx_align_left">0.9021</td>
<td id="S6.T2.1.9.4" class="ltx_td ltx_align_left">0.8774</td>
<td id="S6.T2.1.9.5" class="ltx_td ltx_align_left">0.8898</td>
<td id="S6.T2.1.9.6" class="ltx_td ltx_align_left">0.8978</td>
<td id="S6.T2.1.9.7" class="ltx_td ltx_align_left">0.9759</td>
<td id="S6.T2.1.9.8" class="ltx_td ltx_align_left">0.9665</td>
<td id="S6.T2.1.9.9" class="ltx_td ltx_align_left">0.959</td>
<td id="S6.T2.1.9.10" class="ltx_td ltx_align_left">0.9508</td>
<td id="S6.T2.1.9.11" class="ltx_td"></td>
</tr>
<tr id="S6.T2.1.10" class="ltx_tr">
<td id="S6.T2.1.10.1" class="ltx_td ltx_align_left ltx_border_b">ChainFL</td>
<td id="S6.T2.1.10.2" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T2.1.10.2.1" class="ltx_text ltx_font_bold">0.9701</span></td>
<td id="S6.T2.1.10.3" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T2.1.10.3.1" class="ltx_text ltx_font_bold">0.9758</span></td>
<td id="S6.T2.1.10.4" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T2.1.10.4.1" class="ltx_text ltx_font_bold">0.9785</span></td>
<td id="S6.T2.1.10.5" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T2.1.10.5.1" class="ltx_text ltx_font_bold">0.9780</span></td>
<td id="S6.T2.1.10.6" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T2.1.10.6.1" class="ltx_text ltx_font_bold">0.9799</span></td>
<td id="S6.T2.1.10.7" class="ltx_td ltx_align_left ltx_border_b">0.97565</td>
<td id="S6.T2.1.10.8" class="ltx_td ltx_align_left ltx_border_b">0.9625</td>
<td id="S6.T2.1.10.9" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T2.1.10.9.1" class="ltx_text ltx_font_bold">0.9389</span></td>
<td id="S6.T2.1.10.10" class="ltx_td ltx_align_left ltx_border_b">0.8991</td>
<td id="S6.T2.1.10.11" class="ltx_td ltx_border_b"></td>
</tr>
</table>
</figure>
<figure id="S6.F7" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F7.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x9.png" id="S6.F7.1.g1" class="ltx_graphics ltx_img_portrait" width="101" height="131" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F7.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x10.png" id="S6.F7.2.g1" class="ltx_graphics ltx_img_portrait" width="97" height="125" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F7.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x11.png" id="S6.F7.3.g1" class="ltx_graphics ltx_img_portrait" width="97" height="125" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F7.4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x12.png" id="S6.F7.4.g1" class="ltx_graphics ltx_img_portrait" width="101" height="131" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Effect of the mini-batch size and local epochs of devices on # of global epochs and # of gradients with a preset threshold of the testing accuracy of 0.95 (<math id="S6.F7.8.m1.1" class="ltx_Math" alttext="S_{d}=10" display="inline"><semantics id="S6.F7.8.m1.1b"><mrow id="S6.F7.8.m1.1.1" xref="S6.F7.8.m1.1.1.cmml"><msub id="S6.F7.8.m1.1.1.2" xref="S6.F7.8.m1.1.1.2.cmml"><mi id="S6.F7.8.m1.1.1.2.2" xref="S6.F7.8.m1.1.1.2.2.cmml">S</mi><mi id="S6.F7.8.m1.1.1.2.3" xref="S6.F7.8.m1.1.1.2.3.cmml">d</mi></msub><mo id="S6.F7.8.m1.1.1.1" xref="S6.F7.8.m1.1.1.1.cmml">=</mo><mn id="S6.F7.8.m1.1.1.3" xref="S6.F7.8.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F7.8.m1.1c"><apply id="S6.F7.8.m1.1.1.cmml" xref="S6.F7.8.m1.1.1"><eq id="S6.F7.8.m1.1.1.1.cmml" xref="S6.F7.8.m1.1.1.1"></eq><apply id="S6.F7.8.m1.1.1.2.cmml" xref="S6.F7.8.m1.1.1.2"><csymbol cd="ambiguous" id="S6.F7.8.m1.1.1.2.1.cmml" xref="S6.F7.8.m1.1.1.2">subscript</csymbol><ci id="S6.F7.8.m1.1.1.2.2.cmml" xref="S6.F7.8.m1.1.1.2.2">𝑆</ci><ci id="S6.F7.8.m1.1.1.2.3.cmml" xref="S6.F7.8.m1.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F7.8.m1.1.1.3.cmml" xref="S6.F7.8.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F7.8.m1.1d">S_{d}=10</annotation></semantics></math>, <math id="S6.F7.9.m2.1" class="ltx_Math" alttext="R=1" display="inline"><semantics id="S6.F7.9.m2.1b"><mrow id="S6.F7.9.m2.1.1" xref="S6.F7.9.m2.1.1.cmml"><mi id="S6.F7.9.m2.1.1.2" xref="S6.F7.9.m2.1.1.2.cmml">R</mi><mo id="S6.F7.9.m2.1.1.1" xref="S6.F7.9.m2.1.1.1.cmml">=</mo><mn id="S6.F7.9.m2.1.1.3" xref="S6.F7.9.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F7.9.m2.1c"><apply id="S6.F7.9.m2.1.1.cmml" xref="S6.F7.9.m2.1.1"><eq id="S6.F7.9.m2.1.1.1.cmml" xref="S6.F7.9.m2.1.1.1"></eq><ci id="S6.F7.9.m2.1.1.2.cmml" xref="S6.F7.9.m2.1.1.2">𝑅</ci><cn type="integer" id="S6.F7.9.m2.1.1.3.cmml" xref="S6.F7.9.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F7.9.m2.1d">R=1</annotation></semantics></math>, <math id="S6.F7.10.m3.1" class="ltx_Math" alttext="M_{d}=0" display="inline"><semantics id="S6.F7.10.m3.1b"><mrow id="S6.F7.10.m3.1.1" xref="S6.F7.10.m3.1.1.cmml"><msub id="S6.F7.10.m3.1.1.2" xref="S6.F7.10.m3.1.1.2.cmml"><mi id="S6.F7.10.m3.1.1.2.2" xref="S6.F7.10.m3.1.1.2.2.cmml">M</mi><mi id="S6.F7.10.m3.1.1.2.3" xref="S6.F7.10.m3.1.1.2.3.cmml">d</mi></msub><mo id="S6.F7.10.m3.1.1.1" xref="S6.F7.10.m3.1.1.1.cmml">=</mo><mn id="S6.F7.10.m3.1.1.3" xref="S6.F7.10.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F7.10.m3.1c"><apply id="S6.F7.10.m3.1.1.cmml" xref="S6.F7.10.m3.1.1"><eq id="S6.F7.10.m3.1.1.1.cmml" xref="S6.F7.10.m3.1.1.1"></eq><apply id="S6.F7.10.m3.1.1.2.cmml" xref="S6.F7.10.m3.1.1.2"><csymbol cd="ambiguous" id="S6.F7.10.m3.1.1.2.1.cmml" xref="S6.F7.10.m3.1.1.2">subscript</csymbol><ci id="S6.F7.10.m3.1.1.2.2.cmml" xref="S6.F7.10.m3.1.1.2.2">𝑀</ci><ci id="S6.F7.10.m3.1.1.2.3.cmml" xref="S6.F7.10.m3.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F7.10.m3.1.1.3.cmml" xref="S6.F7.10.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F7.10.m3.1d">M_{d}=0</annotation></semantics></math>). (a) Global Epochs <em id="S6.F7.15.1" class="ltx_emph ltx_font_italic">vs.</em> Mini-Batch Size. (b) Gradients <em id="S6.F7.16.2" class="ltx_emph ltx_font_italic">vs.</em> Mini-Batch Size. (c) Global Epochs <em id="S6.F7.17.3" class="ltx_emph ltx_font_italic">vs.</em> Local Epochs. (d) Gradients <em id="S6.F7.18.4" class="ltx_emph ltx_font_italic">vs.</em> Local Epochs.</figcaption>
</figure>
<figure id="S6.F8" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F8.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x13.png" id="S6.F8.1.g1" class="ltx_graphics ltx_img_portrait" width="101" height="131" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F8.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x14.png" id="S6.F8.2.g1" class="ltx_graphics ltx_img_portrait" width="97" height="125" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F8.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x15.png" id="S6.F8.3.g1" class="ltx_graphics ltx_img_portrait" width="101" height="131" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F8.4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x16.png" id="S6.F8.4.g1" class="ltx_graphics ltx_img_portrait" width="97" height="125" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Testing accuracy and training loss of Task 1 on two scales (<math id="S6.F8.8.m1.1" class="ltx_Math" alttext="S_{d}=10" display="inline"><semantics id="S6.F8.8.m1.1b"><mrow id="S6.F8.8.m1.1.1" xref="S6.F8.8.m1.1.1.cmml"><msub id="S6.F8.8.m1.1.1.2" xref="S6.F8.8.m1.1.1.2.cmml"><mi id="S6.F8.8.m1.1.1.2.2" xref="S6.F8.8.m1.1.1.2.2.cmml">S</mi><mi id="S6.F8.8.m1.1.1.2.3" xref="S6.F8.8.m1.1.1.2.3.cmml">d</mi></msub><mo id="S6.F8.8.m1.1.1.1" xref="S6.F8.8.m1.1.1.1.cmml">=</mo><mn id="S6.F8.8.m1.1.1.3" xref="S6.F8.8.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F8.8.m1.1c"><apply id="S6.F8.8.m1.1.1.cmml" xref="S6.F8.8.m1.1.1"><eq id="S6.F8.8.m1.1.1.1.cmml" xref="S6.F8.8.m1.1.1.1"></eq><apply id="S6.F8.8.m1.1.1.2.cmml" xref="S6.F8.8.m1.1.1.2"><csymbol cd="ambiguous" id="S6.F8.8.m1.1.1.2.1.cmml" xref="S6.F8.8.m1.1.1.2">subscript</csymbol><ci id="S6.F8.8.m1.1.1.2.2.cmml" xref="S6.F8.8.m1.1.1.2.2">𝑆</ci><ci id="S6.F8.8.m1.1.1.2.3.cmml" xref="S6.F8.8.m1.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F8.8.m1.1.1.3.cmml" xref="S6.F8.8.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F8.8.m1.1d">S_{d}=10</annotation></semantics></math>, <math id="S6.F8.9.m2.1" class="ltx_Math" alttext="R=1" display="inline"><semantics id="S6.F8.9.m2.1b"><mrow id="S6.F8.9.m2.1.1" xref="S6.F8.9.m2.1.1.cmml"><mi id="S6.F8.9.m2.1.1.2" xref="S6.F8.9.m2.1.1.2.cmml">R</mi><mo id="S6.F8.9.m2.1.1.1" xref="S6.F8.9.m2.1.1.1.cmml">=</mo><mn id="S6.F8.9.m2.1.1.3" xref="S6.F8.9.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F8.9.m2.1c"><apply id="S6.F8.9.m2.1.1.cmml" xref="S6.F8.9.m2.1.1"><eq id="S6.F8.9.m2.1.1.1.cmml" xref="S6.F8.9.m2.1.1.1"></eq><ci id="S6.F8.9.m2.1.1.2.cmml" xref="S6.F8.9.m2.1.1.2">𝑅</ci><cn type="integer" id="S6.F8.9.m2.1.1.3.cmml" xref="S6.F8.9.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F8.9.m2.1d">R=1</annotation></semantics></math>, <math id="S6.F8.10.m3.1" class="ltx_Math" alttext="M_{d}=0" display="inline"><semantics id="S6.F8.10.m3.1b"><mrow id="S6.F8.10.m3.1.1" xref="S6.F8.10.m3.1.1.cmml"><msub id="S6.F8.10.m3.1.1.2" xref="S6.F8.10.m3.1.1.2.cmml"><mi id="S6.F8.10.m3.1.1.2.2" xref="S6.F8.10.m3.1.1.2.2.cmml">M</mi><mi id="S6.F8.10.m3.1.1.2.3" xref="S6.F8.10.m3.1.1.2.3.cmml">d</mi></msub><mo id="S6.F8.10.m3.1.1.1" xref="S6.F8.10.m3.1.1.1.cmml">=</mo><mn id="S6.F8.10.m3.1.1.3" xref="S6.F8.10.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F8.10.m3.1c"><apply id="S6.F8.10.m3.1.1.cmml" xref="S6.F8.10.m3.1.1"><eq id="S6.F8.10.m3.1.1.1.cmml" xref="S6.F8.10.m3.1.1.1"></eq><apply id="S6.F8.10.m3.1.1.2.cmml" xref="S6.F8.10.m3.1.1.2"><csymbol cd="ambiguous" id="S6.F8.10.m3.1.1.2.1.cmml" xref="S6.F8.10.m3.1.1.2">subscript</csymbol><ci id="S6.F8.10.m3.1.1.2.2.cmml" xref="S6.F8.10.m3.1.1.2.2">𝑀</ci><ci id="S6.F8.10.m3.1.1.2.3.cmml" xref="S6.F8.10.m3.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F8.10.m3.1.1.3.cmml" xref="S6.F8.10.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F8.10.m3.1d">M_{d}=0</annotation></semantics></math>). (a) Accuracy <em id="S6.F8.15.1" class="ltx_emph ltx_font_italic">vs.</em> Global Epochs. (b) Loss <em id="S6.F8.16.2" class="ltx_emph ltx_font_italic">vs.</em> Global Epochs. (c) Accuracy <em id="S6.F8.17.3" class="ltx_emph ltx_font_italic">vs.</em> Gradients. (d) Loss <em id="S6.F8.18.4" class="ltx_emph ltx_font_italic">vs.</em> Gradients.</figcaption>
</figure>
<figure id="S6.F9" class="ltx_figure"><img src="/html/2104.13130/assets/x17.png" id="S6.F9.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="221" height="286" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Effect of different malicious device ratio on the testing accuracy (<math id="S6.F9.3.m1.1" class="ltx_Math" alttext="S_{d}=10" display="inline"><semantics id="S6.F9.3.m1.1b"><mrow id="S6.F9.3.m1.1.1" xref="S6.F9.3.m1.1.1.cmml"><msub id="S6.F9.3.m1.1.1.2" xref="S6.F9.3.m1.1.1.2.cmml"><mi id="S6.F9.3.m1.1.1.2.2" xref="S6.F9.3.m1.1.1.2.2.cmml">S</mi><mi id="S6.F9.3.m1.1.1.2.3" xref="S6.F9.3.m1.1.1.2.3.cmml">d</mi></msub><mo id="S6.F9.3.m1.1.1.1" xref="S6.F9.3.m1.1.1.1.cmml">=</mo><mn id="S6.F9.3.m1.1.1.3" xref="S6.F9.3.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F9.3.m1.1c"><apply id="S6.F9.3.m1.1.1.cmml" xref="S6.F9.3.m1.1.1"><eq id="S6.F9.3.m1.1.1.1.cmml" xref="S6.F9.3.m1.1.1.1"></eq><apply id="S6.F9.3.m1.1.1.2.cmml" xref="S6.F9.3.m1.1.1.2"><csymbol cd="ambiguous" id="S6.F9.3.m1.1.1.2.1.cmml" xref="S6.F9.3.m1.1.1.2">subscript</csymbol><ci id="S6.F9.3.m1.1.1.2.2.cmml" xref="S6.F9.3.m1.1.1.2.2">𝑆</ci><ci id="S6.F9.3.m1.1.1.2.3.cmml" xref="S6.F9.3.m1.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F9.3.m1.1.1.3.cmml" xref="S6.F9.3.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F9.3.m1.1d">S_{d}=10</annotation></semantics></math>, <math id="S6.F9.4.m2.1" class="ltx_Math" alttext="R=1" display="inline"><semantics id="S6.F9.4.m2.1b"><mrow id="S6.F9.4.m2.1.1" xref="S6.F9.4.m2.1.1.cmml"><mi id="S6.F9.4.m2.1.1.2" xref="S6.F9.4.m2.1.1.2.cmml">R</mi><mo id="S6.F9.4.m2.1.1.1" xref="S6.F9.4.m2.1.1.1.cmml">=</mo><mn id="S6.F9.4.m2.1.1.3" xref="S6.F9.4.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F9.4.m2.1c"><apply id="S6.F9.4.m2.1.1.cmml" xref="S6.F9.4.m2.1.1"><eq id="S6.F9.4.m2.1.1.1.cmml" xref="S6.F9.4.m2.1.1.1"></eq><ci id="S6.F9.4.m2.1.1.2.cmml" xref="S6.F9.4.m2.1.1.2">𝑅</ci><cn type="integer" id="S6.F9.4.m2.1.1.3.cmml" xref="S6.F9.4.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F9.4.m2.1d">R=1</annotation></semantics></math>).</figcaption>
</figure>
<div id="S6.SS1.p7" class="ltx_para">
<p id="S6.SS1.p7.1" class="ltx_p">It is evident that comparing the performance of AsynFL based on the number of global epochs may be unfair, given the varying number of devices selected in each training round.
To address this, we use two comparative approaches: metrics against the number of global epochs, and metrics against the number of gradients.
We treat each gradient trained in a local epoch of one device as a computational unit which allows performance evaluation at equivalent computational costs.
For example, using 50 gradients equates to selecting 10 devices per global epoch, with each device conducting 5 local epochs.
In ChainFL, the latest global model in the current mainchain is approximated by the basic iteration model aggregated by SLNs from tips of the mainchain due to similar model aggregation processes and the independent operation of each shard.
For all three paradigms, a local epoch of the device involves processing the entire local dataset.
It is also important to note that, due to the decentralized setup of ChainFL, communication rounds are not a suitable metric for fair comparison and are thus not evaluated in this study.</p>
</div>
<figure id="S6.F10" class="ltx_figure"><img src="/html/2104.13130/assets/x18.png" id="S6.F10.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="221" height="286" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>Effect of rounds per iteration and devices per shard on the testing accuracy (<math id="S6.F10.4.m1.1" class="ltx_Math" alttext="B=10" display="inline"><semantics id="S6.F10.4.m1.1b"><mrow id="S6.F10.4.m1.1.1" xref="S6.F10.4.m1.1.1.cmml"><mi id="S6.F10.4.m1.1.1.2" xref="S6.F10.4.m1.1.1.2.cmml">B</mi><mo id="S6.F10.4.m1.1.1.1" xref="S6.F10.4.m1.1.1.1.cmml">=</mo><mn id="S6.F10.4.m1.1.1.3" xref="S6.F10.4.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F10.4.m1.1c"><apply id="S6.F10.4.m1.1.1.cmml" xref="S6.F10.4.m1.1.1"><eq id="S6.F10.4.m1.1.1.1.cmml" xref="S6.F10.4.m1.1.1.1"></eq><ci id="S6.F10.4.m1.1.1.2.cmml" xref="S6.F10.4.m1.1.1.2">𝐵</ci><cn type="integer" id="S6.F10.4.m1.1.1.3.cmml" xref="S6.F10.4.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F10.4.m1.1d">B=10</annotation></semantics></math>, <math id="S6.F10.5.m2.1" class="ltx_Math" alttext="E=5" display="inline"><semantics id="S6.F10.5.m2.1b"><mrow id="S6.F10.5.m2.1.1" xref="S6.F10.5.m2.1.1.cmml"><mi id="S6.F10.5.m2.1.1.2" xref="S6.F10.5.m2.1.1.2.cmml">E</mi><mo id="S6.F10.5.m2.1.1.1" xref="S6.F10.5.m2.1.1.1.cmml">=</mo><mn id="S6.F10.5.m2.1.1.3" xref="S6.F10.5.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F10.5.m2.1c"><apply id="S6.F10.5.m2.1.1.cmml" xref="S6.F10.5.m2.1.1"><eq id="S6.F10.5.m2.1.1.1.cmml" xref="S6.F10.5.m2.1.1.1"></eq><ci id="S6.F10.5.m2.1.1.2.cmml" xref="S6.F10.5.m2.1.1.2">𝐸</ci><cn type="integer" id="S6.F10.5.m2.1.1.3.cmml" xref="S6.F10.5.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F10.5.m2.1d">E=5</annotation></semantics></math>, <math id="S6.F10.6.m3.1" class="ltx_Math" alttext="M_{d}=0" display="inline"><semantics id="S6.F10.6.m3.1b"><mrow id="S6.F10.6.m3.1.1" xref="S6.F10.6.m3.1.1.cmml"><msub id="S6.F10.6.m3.1.1.2" xref="S6.F10.6.m3.1.1.2.cmml"><mi id="S6.F10.6.m3.1.1.2.2" xref="S6.F10.6.m3.1.1.2.2.cmml">M</mi><mi id="S6.F10.6.m3.1.1.2.3" xref="S6.F10.6.m3.1.1.2.3.cmml">d</mi></msub><mo id="S6.F10.6.m3.1.1.1" xref="S6.F10.6.m3.1.1.1.cmml">=</mo><mn id="S6.F10.6.m3.1.1.3" xref="S6.F10.6.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F10.6.m3.1c"><apply id="S6.F10.6.m3.1.1.cmml" xref="S6.F10.6.m3.1.1"><eq id="S6.F10.6.m3.1.1.1.cmml" xref="S6.F10.6.m3.1.1.1"></eq><apply id="S6.F10.6.m3.1.1.2.cmml" xref="S6.F10.6.m3.1.1.2"><csymbol cd="ambiguous" id="S6.F10.6.m3.1.1.2.1.cmml" xref="S6.F10.6.m3.1.1.2">subscript</csymbol><ci id="S6.F10.6.m3.1.1.2.2.cmml" xref="S6.F10.6.m3.1.1.2.2">𝑀</ci><ci id="S6.F10.6.m3.1.1.2.3.cmml" xref="S6.F10.6.m3.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F10.6.m3.1.1.3.cmml" xref="S6.F10.6.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F10.6.m3.1d">M_{d}=0</annotation></semantics></math>).</figcaption>
</figure>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span><span id="S6.SS2.1.1" class="ltx_text ltx_font_italic">Experimental Results</span>
</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.2" class="ltx_p">Our study initially evaluates FL model parameter sensitivity, focusing on mini-batch size <math id="S6.SS2.p1.1.m1.5" class="ltx_Math" alttext="B\in\{10,20,30,40,50\}" display="inline"><semantics id="S6.SS2.p1.1.m1.5a"><mrow id="S6.SS2.p1.1.m1.5.6" xref="S6.SS2.p1.1.m1.5.6.cmml"><mi id="S6.SS2.p1.1.m1.5.6.2" xref="S6.SS2.p1.1.m1.5.6.2.cmml">B</mi><mo id="S6.SS2.p1.1.m1.5.6.1" xref="S6.SS2.p1.1.m1.5.6.1.cmml">∈</mo><mrow id="S6.SS2.p1.1.m1.5.6.3.2" xref="S6.SS2.p1.1.m1.5.6.3.1.cmml"><mo stretchy="false" id="S6.SS2.p1.1.m1.5.6.3.2.1" xref="S6.SS2.p1.1.m1.5.6.3.1.cmml">{</mo><mn id="S6.SS2.p1.1.m1.1.1" xref="S6.SS2.p1.1.m1.1.1.cmml">10</mn><mo id="S6.SS2.p1.1.m1.5.6.3.2.2" xref="S6.SS2.p1.1.m1.5.6.3.1.cmml">,</mo><mn id="S6.SS2.p1.1.m1.2.2" xref="S6.SS2.p1.1.m1.2.2.cmml">20</mn><mo id="S6.SS2.p1.1.m1.5.6.3.2.3" xref="S6.SS2.p1.1.m1.5.6.3.1.cmml">,</mo><mn id="S6.SS2.p1.1.m1.3.3" xref="S6.SS2.p1.1.m1.3.3.cmml">30</mn><mo id="S6.SS2.p1.1.m1.5.6.3.2.4" xref="S6.SS2.p1.1.m1.5.6.3.1.cmml">,</mo><mn id="S6.SS2.p1.1.m1.4.4" xref="S6.SS2.p1.1.m1.4.4.cmml">40</mn><mo id="S6.SS2.p1.1.m1.5.6.3.2.5" xref="S6.SS2.p1.1.m1.5.6.3.1.cmml">,</mo><mn id="S6.SS2.p1.1.m1.5.5" xref="S6.SS2.p1.1.m1.5.5.cmml">50</mn><mo stretchy="false" id="S6.SS2.p1.1.m1.5.6.3.2.6" xref="S6.SS2.p1.1.m1.5.6.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.1.m1.5b"><apply id="S6.SS2.p1.1.m1.5.6.cmml" xref="S6.SS2.p1.1.m1.5.6"><in id="S6.SS2.p1.1.m1.5.6.1.cmml" xref="S6.SS2.p1.1.m1.5.6.1"></in><ci id="S6.SS2.p1.1.m1.5.6.2.cmml" xref="S6.SS2.p1.1.m1.5.6.2">𝐵</ci><set id="S6.SS2.p1.1.m1.5.6.3.1.cmml" xref="S6.SS2.p1.1.m1.5.6.3.2"><cn type="integer" id="S6.SS2.p1.1.m1.1.1.cmml" xref="S6.SS2.p1.1.m1.1.1">10</cn><cn type="integer" id="S6.SS2.p1.1.m1.2.2.cmml" xref="S6.SS2.p1.1.m1.2.2">20</cn><cn type="integer" id="S6.SS2.p1.1.m1.3.3.cmml" xref="S6.SS2.p1.1.m1.3.3">30</cn><cn type="integer" id="S6.SS2.p1.1.m1.4.4.cmml" xref="S6.SS2.p1.1.m1.4.4">40</cn><cn type="integer" id="S6.SS2.p1.1.m1.5.5.cmml" xref="S6.SS2.p1.1.m1.5.5">50</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.1.m1.5c">B\in\{10,20,30,40,50\}</annotation></semantics></math> and local epochs <math id="S6.SS2.p1.2.m2.5" class="ltx_Math" alttext="E\in\{1,5,10,15,20\}" display="inline"><semantics id="S6.SS2.p1.2.m2.5a"><mrow id="S6.SS2.p1.2.m2.5.6" xref="S6.SS2.p1.2.m2.5.6.cmml"><mi id="S6.SS2.p1.2.m2.5.6.2" xref="S6.SS2.p1.2.m2.5.6.2.cmml">E</mi><mo id="S6.SS2.p1.2.m2.5.6.1" xref="S6.SS2.p1.2.m2.5.6.1.cmml">∈</mo><mrow id="S6.SS2.p1.2.m2.5.6.3.2" xref="S6.SS2.p1.2.m2.5.6.3.1.cmml"><mo stretchy="false" id="S6.SS2.p1.2.m2.5.6.3.2.1" xref="S6.SS2.p1.2.m2.5.6.3.1.cmml">{</mo><mn id="S6.SS2.p1.2.m2.1.1" xref="S6.SS2.p1.2.m2.1.1.cmml">1</mn><mo id="S6.SS2.p1.2.m2.5.6.3.2.2" xref="S6.SS2.p1.2.m2.5.6.3.1.cmml">,</mo><mn id="S6.SS2.p1.2.m2.2.2" xref="S6.SS2.p1.2.m2.2.2.cmml">5</mn><mo id="S6.SS2.p1.2.m2.5.6.3.2.3" xref="S6.SS2.p1.2.m2.5.6.3.1.cmml">,</mo><mn id="S6.SS2.p1.2.m2.3.3" xref="S6.SS2.p1.2.m2.3.3.cmml">10</mn><mo id="S6.SS2.p1.2.m2.5.6.3.2.4" xref="S6.SS2.p1.2.m2.5.6.3.1.cmml">,</mo><mn id="S6.SS2.p1.2.m2.4.4" xref="S6.SS2.p1.2.m2.4.4.cmml">15</mn><mo id="S6.SS2.p1.2.m2.5.6.3.2.5" xref="S6.SS2.p1.2.m2.5.6.3.1.cmml">,</mo><mn id="S6.SS2.p1.2.m2.5.5" xref="S6.SS2.p1.2.m2.5.5.cmml">20</mn><mo stretchy="false" id="S6.SS2.p1.2.m2.5.6.3.2.6" xref="S6.SS2.p1.2.m2.5.6.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.2.m2.5b"><apply id="S6.SS2.p1.2.m2.5.6.cmml" xref="S6.SS2.p1.2.m2.5.6"><in id="S6.SS2.p1.2.m2.5.6.1.cmml" xref="S6.SS2.p1.2.m2.5.6.1"></in><ci id="S6.SS2.p1.2.m2.5.6.2.cmml" xref="S6.SS2.p1.2.m2.5.6.2">𝐸</ci><set id="S6.SS2.p1.2.m2.5.6.3.1.cmml" xref="S6.SS2.p1.2.m2.5.6.3.2"><cn type="integer" id="S6.SS2.p1.2.m2.1.1.cmml" xref="S6.SS2.p1.2.m2.1.1">1</cn><cn type="integer" id="S6.SS2.p1.2.m2.2.2.cmml" xref="S6.SS2.p1.2.m2.2.2">5</cn><cn type="integer" id="S6.SS2.p1.2.m2.3.3.cmml" xref="S6.SS2.p1.2.m2.3.3">10</cn><cn type="integer" id="S6.SS2.p1.2.m2.4.4.cmml" xref="S6.SS2.p1.2.m2.4.4">15</cn><cn type="integer" id="S6.SS2.p1.2.m2.5.5.cmml" xref="S6.SS2.p1.2.m2.5.5">20</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.2.m2.5c">E\in\{1,5,10,15,20\}</annotation></semantics></math>.
The training is conducted over a set number of global epochs to ascertain optimal accuracy and perplexity, with an additional analysis based on gradient numbers.
The results of Task 1 and Task 2, in terms of the best accuracy and best perplexity, are presented in Table <a href="#S6.T2" title="TABLE II ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a> and Table <a href="#S6.T3" title="TABLE III ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a>, respectively.
For benchmarks, we use a testing accuracy threshold of 0.95 and perplexity at 150, considering training complete when these metrics are met (higher/lower than 0.95/150) by the global model.
Model convergence is examined by comparing the number of global epochs to gradient requirements, shown in Fig. <a href="#S6.F7" title="Figure 7 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> and Fig. <a href="#S6.F11" title="Figure 11 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>.</p>
</div>
<div id="S6.SS2.p2" class="ltx_para">
<p id="S6.SS2.p2.1" class="ltx_p">Meanwhile, we present partial results of the accuracy/perplexity and loss traces with varying model parameters for FedAvg, AsynFL, and ChainFL in Fig. <a href="#S6.F8" title="Figure 8 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> and Fig. <a href="#S6.F12" title="Figure 12 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a>.
Moreover, the resilience of these training paradigms against multiple malicious devices is evaluated, with impacts on Task 1 and Task 2 shown in Fig. <a href="#S6.F9" title="Figure 9 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> and Fig. <a href="#S6.F13" title="Figure 13 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>.
We also examine the influence of rounds per shard training iteration and device quantity per shard on the global model of ChainFL, presented in Fig. <a href="#S6.F10" title="Figure 10 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a> and Fig. <a href="#S6.F14" title="Figure 14 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a>.
Finally, the impact of integrating blockchain into FL on the training latency is evaluated, with results shown in Fig. <a href="#S6.F15" title="Figure 15 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">15</span></a> and Fig. <a href="#S6.F16" title="Figure 16 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">16</span></a>.</p>
</div>
<div id="S6.SS2.p3" class="ltx_para">
<p id="S6.SS2.p3.2" class="ltx_p"><em id="S6.SS2.p3.2.1" class="ltx_emph ltx_font_italic">Task 1: MNIST.</em>
In this handwritten digit image classification task, we analyze the best accuracy over 150 global epochs and 7000 gradients produced during training.
As shown in the ‘Stop@ # of Global Epochs = 150’ column in Table <a href="#S6.T2" title="TABLE II ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a>, ChainFL outperforms FedAvg and AsynFL in global model accuracy for most mini-batch sizes and local epochs.
For instance, in the case of <math id="S6.SS2.p3.1.m1.1" class="ltx_Math" alttext="B=10" display="inline"><semantics id="S6.SS2.p3.1.m1.1a"><mrow id="S6.SS2.p3.1.m1.1.1" xref="S6.SS2.p3.1.m1.1.1.cmml"><mi id="S6.SS2.p3.1.m1.1.1.2" xref="S6.SS2.p3.1.m1.1.1.2.cmml">B</mi><mo id="S6.SS2.p3.1.m1.1.1.1" xref="S6.SS2.p3.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS2.p3.1.m1.1.1.3" xref="S6.SS2.p3.1.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p3.1.m1.1b"><apply id="S6.SS2.p3.1.m1.1.1.cmml" xref="S6.SS2.p3.1.m1.1.1"><eq id="S6.SS2.p3.1.m1.1.1.1.cmml" xref="S6.SS2.p3.1.m1.1.1.1"></eq><ci id="S6.SS2.p3.1.m1.1.1.2.cmml" xref="S6.SS2.p3.1.m1.1.1.2">𝐵</ci><cn type="integer" id="S6.SS2.p3.1.m1.1.1.3.cmml" xref="S6.SS2.p3.1.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p3.1.m1.1c">B=10</annotation></semantics></math> and <math id="S6.SS2.p3.2.m2.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S6.SS2.p3.2.m2.1a"><mrow id="S6.SS2.p3.2.m2.1.1" xref="S6.SS2.p3.2.m2.1.1.cmml"><mi id="S6.SS2.p3.2.m2.1.1.2" xref="S6.SS2.p3.2.m2.1.1.2.cmml">E</mi><mo id="S6.SS2.p3.2.m2.1.1.1" xref="S6.SS2.p3.2.m2.1.1.1.cmml">=</mo><mn id="S6.SS2.p3.2.m2.1.1.3" xref="S6.SS2.p3.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p3.2.m2.1b"><apply id="S6.SS2.p3.2.m2.1.1.cmml" xref="S6.SS2.p3.2.m2.1.1"><eq id="S6.SS2.p3.2.m2.1.1.1.cmml" xref="S6.SS2.p3.2.m2.1.1.1"></eq><ci id="S6.SS2.p3.2.m2.1.1.2.cmml" xref="S6.SS2.p3.2.m2.1.1.2">𝐸</ci><cn type="integer" id="S6.SS2.p3.2.m2.1.1.3.cmml" xref="S6.SS2.p3.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p3.2.m2.1c">E=1</annotation></semantics></math>, ChainFL shows a roughly 14% improvement in accuracy.
This is credited to SLNs in ChainFL building the basic iteration model from the DAG-based mainchain, which incorporates models from all shards.
While the superiority of ChainFL is slightly reduced in the ‘Stop@ # of Gradients = 7000’ scenario compared to AsynFL, it still maintains an edge over FedAvg.</p>
</div>
<div id="S6.SS2.p4" class="ltx_para">
<p id="S6.SS2.p4.2" class="ltx_p">The influence of mini-batch size and local epochs on devices is further illustrated in Fig. <a href="#S6.F7" title="Figure 7 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> and Fig. <a href="#S6.F8" title="Figure 8 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>.
For details, <math id="S6.SS2.p4.1.m1.1" class="ltx_Math" alttext="E=5" display="inline"><semantics id="S6.SS2.p4.1.m1.1a"><mrow id="S6.SS2.p4.1.m1.1.1" xref="S6.SS2.p4.1.m1.1.1.cmml"><mi id="S6.SS2.p4.1.m1.1.1.2" xref="S6.SS2.p4.1.m1.1.1.2.cmml">E</mi><mo id="S6.SS2.p4.1.m1.1.1.1" xref="S6.SS2.p4.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS2.p4.1.m1.1.1.3" xref="S6.SS2.p4.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p4.1.m1.1b"><apply id="S6.SS2.p4.1.m1.1.1.cmml" xref="S6.SS2.p4.1.m1.1.1"><eq id="S6.SS2.p4.1.m1.1.1.1.cmml" xref="S6.SS2.p4.1.m1.1.1.1"></eq><ci id="S6.SS2.p4.1.m1.1.1.2.cmml" xref="S6.SS2.p4.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S6.SS2.p4.1.m1.1.1.3.cmml" xref="S6.SS2.p4.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p4.1.m1.1c">E=5</annotation></semantics></math> in Fig. <a href="#S6.F7" title="Figure 7 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> and Fig. <a href="#S6.F7" title="Figure 7 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>, and <math id="S6.SS2.p4.2.m2.1" class="ltx_Math" alttext="B=10" display="inline"><semantics id="S6.SS2.p4.2.m2.1a"><mrow id="S6.SS2.p4.2.m2.1.1" xref="S6.SS2.p4.2.m2.1.1.cmml"><mi id="S6.SS2.p4.2.m2.1.1.2" xref="S6.SS2.p4.2.m2.1.1.2.cmml">B</mi><mo id="S6.SS2.p4.2.m2.1.1.1" xref="S6.SS2.p4.2.m2.1.1.1.cmml">=</mo><mn id="S6.SS2.p4.2.m2.1.1.3" xref="S6.SS2.p4.2.m2.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p4.2.m2.1b"><apply id="S6.SS2.p4.2.m2.1.1.cmml" xref="S6.SS2.p4.2.m2.1.1"><eq id="S6.SS2.p4.2.m2.1.1.1.cmml" xref="S6.SS2.p4.2.m2.1.1.1"></eq><ci id="S6.SS2.p4.2.m2.1.1.2.cmml" xref="S6.SS2.p4.2.m2.1.1.2">𝐵</ci><cn type="integer" id="S6.SS2.p4.2.m2.1.1.3.cmml" xref="S6.SS2.p4.2.m2.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p4.2.m2.1c">B=10</annotation></semantics></math> in Fig. <a href="#S6.F7" title="Figure 7 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> and Fig. <a href="#S6.F7" title="Figure 7 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.
We observe that decreasing the mini-batch size reduces the number of global epochs and gradients required to reach a testing accuracy of 0.95 in ChainFL and FedAvg.
However, increasing the amount of computation of each device by increasing local epochs does not consistently reduce global epochs, which indicates a potential decrease in computational efficiency, as concluded from Fig. <a href="#S6.F7" title="Figure 7 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.
Besides, Fig. <a href="#S6.F8" title="Figure 8 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, Fig. <a href="#S6.F8" title="Figure 8 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, Fig. <a href="#S6.F8" title="Figure 8 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, and Fig. <a href="#S6.F8" title="Figure 8 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> show a faster convergence rate and higher accuracy of ChainFL compared to FedAvg and AsynFL in most scenarios.
This enhancement results from the iterative method of ChainFL, where well-trained models from various shards in the mainchain are selected for subsequent training rounds, potentially reducing the impact of lower accuracy models.
Conversely, in FedAvg and AsynFL, both the worst and best models contribute to the global model aggregation, regardless of the performance of the models trained by each device.</p>
</div>
<div id="S6.SS2.p5" class="ltx_para">
<p id="S6.SS2.p5.7" class="ltx_p">In addition, this paper places a substantial emphasis on enhancing robustness during the training process.
We evaluate the performance of ChainFL against FedAvg and AsynFL under various malicious device ratios, <math id="S6.SS2.p5.1.m1.3" class="ltx_Math" alttext="M_{d}\in\{0.1,0.2,0.3\}" display="inline"><semantics id="S6.SS2.p5.1.m1.3a"><mrow id="S6.SS2.p5.1.m1.3.4" xref="S6.SS2.p5.1.m1.3.4.cmml"><msub id="S6.SS2.p5.1.m1.3.4.2" xref="S6.SS2.p5.1.m1.3.4.2.cmml"><mi id="S6.SS2.p5.1.m1.3.4.2.2" xref="S6.SS2.p5.1.m1.3.4.2.2.cmml">M</mi><mi id="S6.SS2.p5.1.m1.3.4.2.3" xref="S6.SS2.p5.1.m1.3.4.2.3.cmml">d</mi></msub><mo id="S6.SS2.p5.1.m1.3.4.1" xref="S6.SS2.p5.1.m1.3.4.1.cmml">∈</mo><mrow id="S6.SS2.p5.1.m1.3.4.3.2" xref="S6.SS2.p5.1.m1.3.4.3.1.cmml"><mo stretchy="false" id="S6.SS2.p5.1.m1.3.4.3.2.1" xref="S6.SS2.p5.1.m1.3.4.3.1.cmml">{</mo><mn id="S6.SS2.p5.1.m1.1.1" xref="S6.SS2.p5.1.m1.1.1.cmml">0.1</mn><mo id="S6.SS2.p5.1.m1.3.4.3.2.2" xref="S6.SS2.p5.1.m1.3.4.3.1.cmml">,</mo><mn id="S6.SS2.p5.1.m1.2.2" xref="S6.SS2.p5.1.m1.2.2.cmml">0.2</mn><mo id="S6.SS2.p5.1.m1.3.4.3.2.3" xref="S6.SS2.p5.1.m1.3.4.3.1.cmml">,</mo><mn id="S6.SS2.p5.1.m1.3.3" xref="S6.SS2.p5.1.m1.3.3.cmml">0.3</mn><mo stretchy="false" id="S6.SS2.p5.1.m1.3.4.3.2.4" xref="S6.SS2.p5.1.m1.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p5.1.m1.3b"><apply id="S6.SS2.p5.1.m1.3.4.cmml" xref="S6.SS2.p5.1.m1.3.4"><in id="S6.SS2.p5.1.m1.3.4.1.cmml" xref="S6.SS2.p5.1.m1.3.4.1"></in><apply id="S6.SS2.p5.1.m1.3.4.2.cmml" xref="S6.SS2.p5.1.m1.3.4.2"><csymbol cd="ambiguous" id="S6.SS2.p5.1.m1.3.4.2.1.cmml" xref="S6.SS2.p5.1.m1.3.4.2">subscript</csymbol><ci id="S6.SS2.p5.1.m1.3.4.2.2.cmml" xref="S6.SS2.p5.1.m1.3.4.2.2">𝑀</ci><ci id="S6.SS2.p5.1.m1.3.4.2.3.cmml" xref="S6.SS2.p5.1.m1.3.4.2.3">𝑑</ci></apply><set id="S6.SS2.p5.1.m1.3.4.3.1.cmml" xref="S6.SS2.p5.1.m1.3.4.3.2"><cn type="float" id="S6.SS2.p5.1.m1.1.1.cmml" xref="S6.SS2.p5.1.m1.1.1">0.1</cn><cn type="float" id="S6.SS2.p5.1.m1.2.2.cmml" xref="S6.SS2.p5.1.m1.2.2">0.2</cn><cn type="float" id="S6.SS2.p5.1.m1.3.3.cmml" xref="S6.SS2.p5.1.m1.3.3">0.3</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p5.1.m1.3c">M_{d}\in\{0.1,0.2,0.3\}</annotation></semantics></math>.
For instance, <math id="S6.SS2.p5.2.m2.1" class="ltx_Math" alttext="M_{d}=0.1" display="inline"><semantics id="S6.SS2.p5.2.m2.1a"><mrow id="S6.SS2.p5.2.m2.1.1" xref="S6.SS2.p5.2.m2.1.1.cmml"><msub id="S6.SS2.p5.2.m2.1.1.2" xref="S6.SS2.p5.2.m2.1.1.2.cmml"><mi id="S6.SS2.p5.2.m2.1.1.2.2" xref="S6.SS2.p5.2.m2.1.1.2.2.cmml">M</mi><mi id="S6.SS2.p5.2.m2.1.1.2.3" xref="S6.SS2.p5.2.m2.1.1.2.3.cmml">d</mi></msub><mo id="S6.SS2.p5.2.m2.1.1.1" xref="S6.SS2.p5.2.m2.1.1.1.cmml">=</mo><mn id="S6.SS2.p5.2.m2.1.1.3" xref="S6.SS2.p5.2.m2.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p5.2.m2.1b"><apply id="S6.SS2.p5.2.m2.1.1.cmml" xref="S6.SS2.p5.2.m2.1.1"><eq id="S6.SS2.p5.2.m2.1.1.1.cmml" xref="S6.SS2.p5.2.m2.1.1.1"></eq><apply id="S6.SS2.p5.2.m2.1.1.2.cmml" xref="S6.SS2.p5.2.m2.1.1.2"><csymbol cd="ambiguous" id="S6.SS2.p5.2.m2.1.1.2.1.cmml" xref="S6.SS2.p5.2.m2.1.1.2">subscript</csymbol><ci id="S6.SS2.p5.2.m2.1.1.2.2.cmml" xref="S6.SS2.p5.2.m2.1.1.2.2">𝑀</ci><ci id="S6.SS2.p5.2.m2.1.1.2.3.cmml" xref="S6.SS2.p5.2.m2.1.1.2.3">𝑑</ci></apply><cn type="float" id="S6.SS2.p5.2.m2.1.1.3.cmml" xref="S6.SS2.p5.2.m2.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p5.2.m2.1c">M_{d}=0.1</annotation></semantics></math> indicates that <math id="S6.SS2.p5.3.m3.1" class="ltx_Math" alttext="10\%" display="inline"><semantics id="S6.SS2.p5.3.m3.1a"><mrow id="S6.SS2.p5.3.m3.1.1" xref="S6.SS2.p5.3.m3.1.1.cmml"><mn id="S6.SS2.p5.3.m3.1.1.2" xref="S6.SS2.p5.3.m3.1.1.2.cmml">10</mn><mo id="S6.SS2.p5.3.m3.1.1.1" xref="S6.SS2.p5.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p5.3.m3.1b"><apply id="S6.SS2.p5.3.m3.1.1.cmml" xref="S6.SS2.p5.3.m3.1.1"><csymbol cd="latexml" id="S6.SS2.p5.3.m3.1.1.1.cmml" xref="S6.SS2.p5.3.m3.1.1.1">percent</csymbol><cn type="integer" id="S6.SS2.p5.3.m3.1.1.2.cmml" xref="S6.SS2.p5.3.m3.1.1.2">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p5.3.m3.1c">10\%</annotation></semantics></math> of devices in each shard are malicious, as illustrated in Fig. <a href="#S6.F9" title="Figure 9 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>.
The results demonstrate the pronounced superiority of ChainFL in model accuracy, particularly notable at higher malicious ratios (<math id="S6.SS2.p5.4.m4.1" class="ltx_Math" alttext="M_{d}=0.3" display="inline"><semantics id="S6.SS2.p5.4.m4.1a"><mrow id="S6.SS2.p5.4.m4.1.1" xref="S6.SS2.p5.4.m4.1.1.cmml"><msub id="S6.SS2.p5.4.m4.1.1.2" xref="S6.SS2.p5.4.m4.1.1.2.cmml"><mi id="S6.SS2.p5.4.m4.1.1.2.2" xref="S6.SS2.p5.4.m4.1.1.2.2.cmml">M</mi><mi id="S6.SS2.p5.4.m4.1.1.2.3" xref="S6.SS2.p5.4.m4.1.1.2.3.cmml">d</mi></msub><mo id="S6.SS2.p5.4.m4.1.1.1" xref="S6.SS2.p5.4.m4.1.1.1.cmml">=</mo><mn id="S6.SS2.p5.4.m4.1.1.3" xref="S6.SS2.p5.4.m4.1.1.3.cmml">0.3</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p5.4.m4.1b"><apply id="S6.SS2.p5.4.m4.1.1.cmml" xref="S6.SS2.p5.4.m4.1.1"><eq id="S6.SS2.p5.4.m4.1.1.1.cmml" xref="S6.SS2.p5.4.m4.1.1.1"></eq><apply id="S6.SS2.p5.4.m4.1.1.2.cmml" xref="S6.SS2.p5.4.m4.1.1.2"><csymbol cd="ambiguous" id="S6.SS2.p5.4.m4.1.1.2.1.cmml" xref="S6.SS2.p5.4.m4.1.1.2">subscript</csymbol><ci id="S6.SS2.p5.4.m4.1.1.2.2.cmml" xref="S6.SS2.p5.4.m4.1.1.2.2">𝑀</ci><ci id="S6.SS2.p5.4.m4.1.1.2.3.cmml" xref="S6.SS2.p5.4.m4.1.1.2.3">𝑑</ci></apply><cn type="float" id="S6.SS2.p5.4.m4.1.1.3.cmml" xref="S6.SS2.p5.4.m4.1.1.3">0.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p5.4.m4.1c">M_{d}=0.3</annotation></semantics></math>), where ChainFL exhibits a threefold increase in robustness.
In scenarios with <math id="S6.SS2.p5.5.m5.1" class="ltx_Math" alttext="M_{d}=0.2" display="inline"><semantics id="S6.SS2.p5.5.m5.1a"><mrow id="S6.SS2.p5.5.m5.1.1" xref="S6.SS2.p5.5.m5.1.1.cmml"><msub id="S6.SS2.p5.5.m5.1.1.2" xref="S6.SS2.p5.5.m5.1.1.2.cmml"><mi id="S6.SS2.p5.5.m5.1.1.2.2" xref="S6.SS2.p5.5.m5.1.1.2.2.cmml">M</mi><mi id="S6.SS2.p5.5.m5.1.1.2.3" xref="S6.SS2.p5.5.m5.1.1.2.3.cmml">d</mi></msub><mo id="S6.SS2.p5.5.m5.1.1.1" xref="S6.SS2.p5.5.m5.1.1.1.cmml">=</mo><mn id="S6.SS2.p5.5.m5.1.1.3" xref="S6.SS2.p5.5.m5.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p5.5.m5.1b"><apply id="S6.SS2.p5.5.m5.1.1.cmml" xref="S6.SS2.p5.5.m5.1.1"><eq id="S6.SS2.p5.5.m5.1.1.1.cmml" xref="S6.SS2.p5.5.m5.1.1.1"></eq><apply id="S6.SS2.p5.5.m5.1.1.2.cmml" xref="S6.SS2.p5.5.m5.1.1.2"><csymbol cd="ambiguous" id="S6.SS2.p5.5.m5.1.1.2.1.cmml" xref="S6.SS2.p5.5.m5.1.1.2">subscript</csymbol><ci id="S6.SS2.p5.5.m5.1.1.2.2.cmml" xref="S6.SS2.p5.5.m5.1.1.2.2">𝑀</ci><ci id="S6.SS2.p5.5.m5.1.1.2.3.cmml" xref="S6.SS2.p5.5.m5.1.1.2.3">𝑑</ci></apply><cn type="float" id="S6.SS2.p5.5.m5.1.1.3.cmml" xref="S6.SS2.p5.5.m5.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p5.5.m5.1c">M_{d}=0.2</annotation></semantics></math> and <math id="S6.SS2.p5.6.m6.1" class="ltx_Math" alttext="M_{d}=0.3" display="inline"><semantics id="S6.SS2.p5.6.m6.1a"><mrow id="S6.SS2.p5.6.m6.1.1" xref="S6.SS2.p5.6.m6.1.1.cmml"><msub id="S6.SS2.p5.6.m6.1.1.2" xref="S6.SS2.p5.6.m6.1.1.2.cmml"><mi id="S6.SS2.p5.6.m6.1.1.2.2" xref="S6.SS2.p5.6.m6.1.1.2.2.cmml">M</mi><mi id="S6.SS2.p5.6.m6.1.1.2.3" xref="S6.SS2.p5.6.m6.1.1.2.3.cmml">d</mi></msub><mo id="S6.SS2.p5.6.m6.1.1.1" xref="S6.SS2.p5.6.m6.1.1.1.cmml">=</mo><mn id="S6.SS2.p5.6.m6.1.1.3" xref="S6.SS2.p5.6.m6.1.1.3.cmml">0.3</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p5.6.m6.1b"><apply id="S6.SS2.p5.6.m6.1.1.cmml" xref="S6.SS2.p5.6.m6.1.1"><eq id="S6.SS2.p5.6.m6.1.1.1.cmml" xref="S6.SS2.p5.6.m6.1.1.1"></eq><apply id="S6.SS2.p5.6.m6.1.1.2.cmml" xref="S6.SS2.p5.6.m6.1.1.2"><csymbol cd="ambiguous" id="S6.SS2.p5.6.m6.1.1.2.1.cmml" xref="S6.SS2.p5.6.m6.1.1.2">subscript</csymbol><ci id="S6.SS2.p5.6.m6.1.1.2.2.cmml" xref="S6.SS2.p5.6.m6.1.1.2.2">𝑀</ci><ci id="S6.SS2.p5.6.m6.1.1.2.3.cmml" xref="S6.SS2.p5.6.m6.1.1.2.3">𝑑</ci></apply><cn type="float" id="S6.SS2.p5.6.m6.1.1.3.cmml" xref="S6.SS2.p5.6.m6.1.1.3">0.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p5.6.m6.1c">M_{d}=0.3</annotation></semantics></math>, the global model accuracy of FedAvg and AsynFL struggles to converge beyond 0.5 even after <math id="S6.SS2.p5.7.m7.1" class="ltx_Math" alttext="7.5k" display="inline"><semantics id="S6.SS2.p5.7.m7.1a"><mrow id="S6.SS2.p5.7.m7.1.1" xref="S6.SS2.p5.7.m7.1.1.cmml"><mn id="S6.SS2.p5.7.m7.1.1.2" xref="S6.SS2.p5.7.m7.1.1.2.cmml">7.5</mn><mo lspace="0em" rspace="0em" id="S6.SS2.p5.7.m7.1.1.1" xref="S6.SS2.p5.7.m7.1.1.1.cmml">​</mo><mi id="S6.SS2.p5.7.m7.1.1.3" xref="S6.SS2.p5.7.m7.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p5.7.m7.1b"><apply id="S6.SS2.p5.7.m7.1.1.cmml" xref="S6.SS2.p5.7.m7.1.1"><times id="S6.SS2.p5.7.m7.1.1.1.cmml" xref="S6.SS2.p5.7.m7.1.1.1"></times><cn type="float" id="S6.SS2.p5.7.m7.1.1.2.cmml" xref="S6.SS2.p5.7.m7.1.1.2">7.5</cn><ci id="S6.SS2.p5.7.m7.1.1.3.cmml" xref="S6.SS2.p5.7.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p5.7.m7.1c">7.5k</annotation></semantics></math> gradients.
In contrast, the performance of ChainFL converges to values exceeding 0.8 under the same conditions.
Besides, the impact of varying levels of malicious activity within ChainFL is depicted in the bottom right corner of Fig. <a href="#S6.F9" title="Figure 9 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>.
It is observed that, although the accuracy of ChainFL marginally diminishes with an increase in the malicious ratio, the decline is relatively minimal compared to the substantial accuracy reduction experienced by FedAvg and AsynFL.</p>
</div>
<div id="S6.SS2.p6" class="ltx_para">
<p id="S6.SS2.p6.2" class="ltx_p">We also compare various ChainFL parameters, including the number of rounds (<math id="S6.SS2.p6.1.m1.3" class="ltx_Math" alttext="R\in\{1,2,3\}" display="inline"><semantics id="S6.SS2.p6.1.m1.3a"><mrow id="S6.SS2.p6.1.m1.3.4" xref="S6.SS2.p6.1.m1.3.4.cmml"><mi id="S6.SS2.p6.1.m1.3.4.2" xref="S6.SS2.p6.1.m1.3.4.2.cmml">R</mi><mo id="S6.SS2.p6.1.m1.3.4.1" xref="S6.SS2.p6.1.m1.3.4.1.cmml">∈</mo><mrow id="S6.SS2.p6.1.m1.3.4.3.2" xref="S6.SS2.p6.1.m1.3.4.3.1.cmml"><mo stretchy="false" id="S6.SS2.p6.1.m1.3.4.3.2.1" xref="S6.SS2.p6.1.m1.3.4.3.1.cmml">{</mo><mn id="S6.SS2.p6.1.m1.1.1" xref="S6.SS2.p6.1.m1.1.1.cmml">1</mn><mo id="S6.SS2.p6.1.m1.3.4.3.2.2" xref="S6.SS2.p6.1.m1.3.4.3.1.cmml">,</mo><mn id="S6.SS2.p6.1.m1.2.2" xref="S6.SS2.p6.1.m1.2.2.cmml">2</mn><mo id="S6.SS2.p6.1.m1.3.4.3.2.3" xref="S6.SS2.p6.1.m1.3.4.3.1.cmml">,</mo><mn id="S6.SS2.p6.1.m1.3.3" xref="S6.SS2.p6.1.m1.3.3.cmml">3</mn><mo stretchy="false" id="S6.SS2.p6.1.m1.3.4.3.2.4" xref="S6.SS2.p6.1.m1.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p6.1.m1.3b"><apply id="S6.SS2.p6.1.m1.3.4.cmml" xref="S6.SS2.p6.1.m1.3.4"><in id="S6.SS2.p6.1.m1.3.4.1.cmml" xref="S6.SS2.p6.1.m1.3.4.1"></in><ci id="S6.SS2.p6.1.m1.3.4.2.cmml" xref="S6.SS2.p6.1.m1.3.4.2">𝑅</ci><set id="S6.SS2.p6.1.m1.3.4.3.1.cmml" xref="S6.SS2.p6.1.m1.3.4.3.2"><cn type="integer" id="S6.SS2.p6.1.m1.1.1.cmml" xref="S6.SS2.p6.1.m1.1.1">1</cn><cn type="integer" id="S6.SS2.p6.1.m1.2.2.cmml" xref="S6.SS2.p6.1.m1.2.2">2</cn><cn type="integer" id="S6.SS2.p6.1.m1.3.3.cmml" xref="S6.SS2.p6.1.m1.3.3">3</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p6.1.m1.3c">R\in\{1,2,3\}</annotation></semantics></math>) per shard training iteration and devices per shard, with results shown in Fig. <a href="#S6.F10" title="Figure 10 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>.
The results show that a higher <math id="S6.SS2.p6.2.m2.1" class="ltx_Math" alttext="R" display="inline"><semantics id="S6.SS2.p6.2.m2.1a"><mi id="S6.SS2.p6.2.m2.1.1" xref="S6.SS2.p6.2.m2.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p6.2.m2.1b"><ci id="S6.SS2.p6.2.m2.1.1.cmml" xref="S6.SS2.p6.2.m2.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p6.2.m2.1c">R</annotation></semantics></math> does not improve global model accuracy, which implies that extra computational effort is not commensurately beneficial.
Conversely, adding more devices per shard improves both the peak accuracy and the convergence speed of the global model accuracy.</p>
</div>
<figure id="S6.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE III: </span>Best Perplexity of Task 2 Under Different Experimental Settings of Mini-Batch Size (B) and # of Local Epochs (E).</figcaption>
<table id="S6.T3.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S6.T3.1.1" class="ltx_tr">
<td id="S6.T3.1.1.1" class="ltx_td ltx_border_t"></td>
<td id="S6.T3.1.1.2" class="ltx_td ltx_border_t"></td>
<td id="S6.T3.1.1.3" class="ltx_td ltx_align_center ltx_border_t" colspan="10">Best Perplexity</td>
</tr>
<tr id="S6.T3.1.2" class="ltx_tr">
<td id="S6.T3.1.2.1" class="ltx_td"></td>
<td id="S6.T3.1.2.2" class="ltx_td"></td>
<td id="S6.T3.1.2.3" class="ltx_td ltx_align_center" colspan="5">Stop@ # of Global Epochs=80</td>
<td id="S6.T3.1.2.4" class="ltx_td ltx_align_center" colspan="5">Stop@ # of Gradients=3000</td>
</tr>
<tr id="S6.T3.1.3" class="ltx_tr">
<td id="S6.T3.1.3.1" class="ltx_td"></td>
<td id="S6.T3.1.3.2" class="ltx_td ltx_align_center">B</td>
<td id="S6.T3.1.3.3" class="ltx_td ltx_align_left">10</td>
<td id="S6.T3.1.3.4" class="ltx_td ltx_align_left">20</td>
<td id="S6.T3.1.3.5" class="ltx_td ltx_align_left">30</td>
<td id="S6.T3.1.3.6" class="ltx_td ltx_align_left">40</td>
<td id="S6.T3.1.3.7" class="ltx_td ltx_align_left">50</td>
<td id="S6.T3.1.3.8" class="ltx_td ltx_align_left">10</td>
<td id="S6.T3.1.3.9" class="ltx_td ltx_align_left">20</td>
<td id="S6.T3.1.3.10" class="ltx_td ltx_align_left">30</td>
<td id="S6.T3.1.3.11" class="ltx_td ltx_align_left">40</td>
<td id="S6.T3.1.3.12" class="ltx_td ltx_align_left">50</td>
</tr>
<tr id="S6.T3.1.4" class="ltx_tr">
<td id="S6.T3.1.4.1" class="ltx_td ltx_align_center ltx_border_t" rowspan="3"><span id="S6.T3.1.4.1.1" class="ltx_text">E=5</span></td>
<td id="S6.T3.1.4.2" class="ltx_td ltx_align_left ltx_border_t">FedAvg</td>
<td id="S6.T3.1.4.3" class="ltx_td ltx_align_left ltx_border_t">119.1973</td>
<td id="S6.T3.1.4.4" class="ltx_td ltx_align_left ltx_border_t">129.0462</td>
<td id="S6.T3.1.4.5" class="ltx_td ltx_align_left ltx_border_t">128.5419</td>
<td id="S6.T3.1.4.6" class="ltx_td ltx_align_left ltx_border_t">128.6406</td>
<td id="S6.T3.1.4.7" class="ltx_td ltx_align_left ltx_border_t">132.7023</td>
<td id="S6.T3.1.4.8" class="ltx_td ltx_align_left ltx_border_t">119.1973</td>
<td id="S6.T3.1.4.9" class="ltx_td ltx_align_left ltx_border_t">129.0462</td>
<td id="S6.T3.1.4.10" class="ltx_td ltx_align_left ltx_border_t">128.5419</td>
<td id="S6.T3.1.4.11" class="ltx_td ltx_align_left ltx_border_t">128.6406</td>
<td id="S6.T3.1.4.12" class="ltx_td ltx_align_left ltx_border_t">132.7023</td>
</tr>
<tr id="S6.T3.1.5" class="ltx_tr">
<td id="S6.T3.1.5.1" class="ltx_td ltx_align_left">AsynFL</td>
<td id="S6.T3.1.5.2" class="ltx_td ltx_align_left">132.2897</td>
<td id="S6.T3.1.5.3" class="ltx_td ltx_align_left">138.1707</td>
<td id="S6.T3.1.5.4" class="ltx_td ltx_align_left">137.5729</td>
<td id="S6.T3.1.5.5" class="ltx_td ltx_align_left">140.7736</td>
<td id="S6.T3.1.5.6" class="ltx_td ltx_align_left">147.04</td>
<td id="S6.T3.1.5.7" class="ltx_td ltx_align_left">132.2897</td>
<td id="S6.T3.1.5.8" class="ltx_td ltx_align_left">138.1707</td>
<td id="S6.T3.1.5.9" class="ltx_td ltx_align_left">135.3072</td>
<td id="S6.T3.1.5.10" class="ltx_td ltx_align_left">128.9097</td>
<td id="S6.T3.1.5.11" class="ltx_td ltx_align_left">125.5916</td>
</tr>
<tr id="S6.T3.1.6" class="ltx_tr">
<td id="S6.T3.1.6.1" class="ltx_td ltx_align_left">ChainFL</td>
<td id="S6.T3.1.6.2" class="ltx_td ltx_align_left">119.302</td>
<td id="S6.T3.1.6.3" class="ltx_td ltx_align_left"><span id="S6.T3.1.6.3.1" class="ltx_text ltx_font_bold">124.0372</span></td>
<td id="S6.T3.1.6.4" class="ltx_td ltx_align_left"><span id="S6.T3.1.6.4.1" class="ltx_text ltx_font_bold">126.8396</span></td>
<td id="S6.T3.1.6.5" class="ltx_td ltx_align_left">129.7998</td>
<td id="S6.T3.1.6.6" class="ltx_td ltx_align_left"><span id="S6.T3.1.6.6.1" class="ltx_text ltx_font_bold">129.1252</span></td>
<td id="S6.T3.1.6.7" class="ltx_td ltx_align_left">119.302</td>
<td id="S6.T3.1.6.8" class="ltx_td ltx_align_left"><span id="S6.T3.1.6.8.1" class="ltx_text ltx_font_bold">124.0372</span></td>
<td id="S6.T3.1.6.9" class="ltx_td ltx_align_left"><span id="S6.T3.1.6.9.1" class="ltx_text ltx_font_bold">126.8396</span></td>
<td id="S6.T3.1.6.10" class="ltx_td ltx_align_left">134.0198</td>
<td id="S6.T3.1.6.11" class="ltx_td ltx_align_left">135.4396</td>
</tr>
<tr id="S6.T3.1.7" class="ltx_tr">
<td id="S6.T3.1.7.1" class="ltx_td ltx_border_t"></td>
<td id="S6.T3.1.7.2" class="ltx_td ltx_align_center ltx_border_t">E</td>
<td id="S6.T3.1.7.3" class="ltx_td ltx_align_left ltx_border_t">1</td>
<td id="S6.T3.1.7.4" class="ltx_td ltx_align_left ltx_border_t">5</td>
<td id="S6.T3.1.7.5" class="ltx_td ltx_align_left ltx_border_t">10</td>
<td id="S6.T3.1.7.6" class="ltx_td ltx_align_left ltx_border_t">15</td>
<td id="S6.T3.1.7.7" class="ltx_td ltx_align_left ltx_border_t">20</td>
<td id="S6.T3.1.7.8" class="ltx_td ltx_align_left ltx_border_t">5</td>
<td id="S6.T3.1.7.9" class="ltx_td ltx_align_left ltx_border_t">10</td>
<td id="S6.T3.1.7.10" class="ltx_td ltx_align_left ltx_border_t">15</td>
<td id="S6.T3.1.7.11" class="ltx_td ltx_align_left ltx_border_t">20</td>
<td id="S6.T3.1.7.12" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="S6.T3.1.8" class="ltx_tr">
<td id="S6.T3.1.8.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_t" rowspan="3"><span id="S6.T3.1.8.1.1" class="ltx_text">B=10</span></td>
<td id="S6.T3.1.8.2" class="ltx_td ltx_align_left ltx_border_t">FedAvg</td>
<td id="S6.T3.1.8.3" class="ltx_td ltx_align_left ltx_border_t">154.8811</td>
<td id="S6.T3.1.8.4" class="ltx_td ltx_align_left ltx_border_t">129.0462</td>
<td id="S6.T3.1.8.5" class="ltx_td ltx_align_left ltx_border_t">133.6719</td>
<td id="S6.T3.1.8.6" class="ltx_td ltx_align_left ltx_border_t">143.6469</td>
<td id="S6.T3.1.8.7" class="ltx_td ltx_align_left ltx_border_t">138.19</td>
<td id="S6.T3.1.8.8" class="ltx_td ltx_align_left ltx_border_t">129.0462</td>
<td id="S6.T3.1.8.9" class="ltx_td ltx_align_left ltx_border_t">133.6719</td>
<td id="S6.T3.1.8.10" class="ltx_td ltx_align_left ltx_border_t">143.6469</td>
<td id="S6.T3.1.8.11" class="ltx_td ltx_align_left ltx_border_t">138.19</td>
<td id="S6.T3.1.8.12" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="S6.T3.1.9" class="ltx_tr">
<td id="S6.T3.1.9.1" class="ltx_td ltx_align_left">AsynFL</td>
<td id="S6.T3.1.9.2" class="ltx_td ltx_align_left">239.7618</td>
<td id="S6.T3.1.9.3" class="ltx_td ltx_align_left">138.1707</td>
<td id="S6.T3.1.9.4" class="ltx_td ltx_align_left">141.9482</td>
<td id="S6.T3.1.9.5" class="ltx_td ltx_align_left">142.396</td>
<td id="S6.T3.1.9.6" class="ltx_td ltx_align_left">149.2502</td>
<td id="S6.T3.1.9.7" class="ltx_td ltx_align_left">138.1707</td>
<td id="S6.T3.1.9.8" class="ltx_td ltx_align_left">141.9482</td>
<td id="S6.T3.1.9.9" class="ltx_td ltx_align_left">142.396</td>
<td id="S6.T3.1.9.10" class="ltx_td ltx_align_left">149.2502</td>
<td id="S6.T3.1.9.11" class="ltx_td"></td>
</tr>
<tr id="S6.T3.1.10" class="ltx_tr">
<td id="S6.T3.1.10.1" class="ltx_td ltx_align_left ltx_border_b">ChainFL</td>
<td id="S6.T3.1.10.2" class="ltx_td ltx_align_left ltx_border_b">172.6349</td>
<td id="S6.T3.1.10.3" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T3.1.10.3.1" class="ltx_text ltx_font_bold">124.0372</span></td>
<td id="S6.T3.1.10.4" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T3.1.10.4.1" class="ltx_text ltx_font_bold">131.1227</span></td>
<td id="S6.T3.1.10.5" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T3.1.10.5.1" class="ltx_text ltx_font_bold">137.1788</span></td>
<td id="S6.T3.1.10.6" class="ltx_td ltx_align_left ltx_border_b">144.9491</td>
<td id="S6.T3.1.10.7" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T3.1.10.7.1" class="ltx_text ltx_font_bold">124.0372</span></td>
<td id="S6.T3.1.10.8" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T3.1.10.8.1" class="ltx_text ltx_font_bold">131.1227</span></td>
<td id="S6.T3.1.10.9" class="ltx_td ltx_align_left ltx_border_b"><span id="S6.T3.1.10.9.1" class="ltx_text ltx_font_bold">137.1788</span></td>
<td id="S6.T3.1.10.10" class="ltx_td ltx_align_left ltx_border_b">144.9491</td>
<td id="S6.T3.1.10.11" class="ltx_td ltx_border_b"></td>
</tr>
</table>
</figure>
<figure id="S6.F11" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F11.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x19.png" id="S6.F11.1.g1" class="ltx_graphics ltx_img_portrait" width="106" height="137" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F11.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x20.png" id="S6.F11.2.g1" class="ltx_graphics ltx_img_portrait" width="106" height="137" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F11.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x21.png" id="S6.F11.3.g1" class="ltx_graphics ltx_img_portrait" width="106" height="137" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F11.4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x22.png" id="S6.F11.4.g1" class="ltx_graphics ltx_img_portrait" width="106" height="137" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 11: </span>Effect of the mini-batch size and local epochs of devices on # of global epochs and # of gradients with a preset threshold of the testing perplexity of 150 (<math id="S6.F11.8.m1.1" class="ltx_Math" alttext="S_{d}=10" display="inline"><semantics id="S6.F11.8.m1.1b"><mrow id="S6.F11.8.m1.1.1" xref="S6.F11.8.m1.1.1.cmml"><msub id="S6.F11.8.m1.1.1.2" xref="S6.F11.8.m1.1.1.2.cmml"><mi id="S6.F11.8.m1.1.1.2.2" xref="S6.F11.8.m1.1.1.2.2.cmml">S</mi><mi id="S6.F11.8.m1.1.1.2.3" xref="S6.F11.8.m1.1.1.2.3.cmml">d</mi></msub><mo id="S6.F11.8.m1.1.1.1" xref="S6.F11.8.m1.1.1.1.cmml">=</mo><mn id="S6.F11.8.m1.1.1.3" xref="S6.F11.8.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F11.8.m1.1c"><apply id="S6.F11.8.m1.1.1.cmml" xref="S6.F11.8.m1.1.1"><eq id="S6.F11.8.m1.1.1.1.cmml" xref="S6.F11.8.m1.1.1.1"></eq><apply id="S6.F11.8.m1.1.1.2.cmml" xref="S6.F11.8.m1.1.1.2"><csymbol cd="ambiguous" id="S6.F11.8.m1.1.1.2.1.cmml" xref="S6.F11.8.m1.1.1.2">subscript</csymbol><ci id="S6.F11.8.m1.1.1.2.2.cmml" xref="S6.F11.8.m1.1.1.2.2">𝑆</ci><ci id="S6.F11.8.m1.1.1.2.3.cmml" xref="S6.F11.8.m1.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F11.8.m1.1.1.3.cmml" xref="S6.F11.8.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F11.8.m1.1d">S_{d}=10</annotation></semantics></math>, <math id="S6.F11.9.m2.1" class="ltx_Math" alttext="R=1" display="inline"><semantics id="S6.F11.9.m2.1b"><mrow id="S6.F11.9.m2.1.1" xref="S6.F11.9.m2.1.1.cmml"><mi id="S6.F11.9.m2.1.1.2" xref="S6.F11.9.m2.1.1.2.cmml">R</mi><mo id="S6.F11.9.m2.1.1.1" xref="S6.F11.9.m2.1.1.1.cmml">=</mo><mn id="S6.F11.9.m2.1.1.3" xref="S6.F11.9.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F11.9.m2.1c"><apply id="S6.F11.9.m2.1.1.cmml" xref="S6.F11.9.m2.1.1"><eq id="S6.F11.9.m2.1.1.1.cmml" xref="S6.F11.9.m2.1.1.1"></eq><ci id="S6.F11.9.m2.1.1.2.cmml" xref="S6.F11.9.m2.1.1.2">𝑅</ci><cn type="integer" id="S6.F11.9.m2.1.1.3.cmml" xref="S6.F11.9.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F11.9.m2.1d">R=1</annotation></semantics></math>, <math id="S6.F11.10.m3.1" class="ltx_Math" alttext="M_{d}=0" display="inline"><semantics id="S6.F11.10.m3.1b"><mrow id="S6.F11.10.m3.1.1" xref="S6.F11.10.m3.1.1.cmml"><msub id="S6.F11.10.m3.1.1.2" xref="S6.F11.10.m3.1.1.2.cmml"><mi id="S6.F11.10.m3.1.1.2.2" xref="S6.F11.10.m3.1.1.2.2.cmml">M</mi><mi id="S6.F11.10.m3.1.1.2.3" xref="S6.F11.10.m3.1.1.2.3.cmml">d</mi></msub><mo id="S6.F11.10.m3.1.1.1" xref="S6.F11.10.m3.1.1.1.cmml">=</mo><mn id="S6.F11.10.m3.1.1.3" xref="S6.F11.10.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F11.10.m3.1c"><apply id="S6.F11.10.m3.1.1.cmml" xref="S6.F11.10.m3.1.1"><eq id="S6.F11.10.m3.1.1.1.cmml" xref="S6.F11.10.m3.1.1.1"></eq><apply id="S6.F11.10.m3.1.1.2.cmml" xref="S6.F11.10.m3.1.1.2"><csymbol cd="ambiguous" id="S6.F11.10.m3.1.1.2.1.cmml" xref="S6.F11.10.m3.1.1.2">subscript</csymbol><ci id="S6.F11.10.m3.1.1.2.2.cmml" xref="S6.F11.10.m3.1.1.2.2">𝑀</ci><ci id="S6.F11.10.m3.1.1.2.3.cmml" xref="S6.F11.10.m3.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F11.10.m3.1.1.3.cmml" xref="S6.F11.10.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F11.10.m3.1d">M_{d}=0</annotation></semantics></math>). (a) Global Epochs <em id="S6.F11.15.1" class="ltx_emph ltx_font_italic">vs.</em> Mini-Batch Size. (b) Gradients <em id="S6.F11.16.2" class="ltx_emph ltx_font_italic">vs.</em> Mini-Batch Size. (c) Global Epochs <em id="S6.F11.17.3" class="ltx_emph ltx_font_italic">vs.</em> Local Epochs. (d) Gradients <em id="S6.F11.18.4" class="ltx_emph ltx_font_italic">vs.</em> Local Epochs.</figcaption>
</figure>
<figure id="S6.F12" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F12.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x23.png" id="S6.F12.1.g1" class="ltx_graphics ltx_img_portrait" width="103" height="134" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F12.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x24.png" id="S6.F12.2.g1" class="ltx_graphics ltx_img_portrait" width="103" height="134" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F12.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x25.png" id="S6.F12.3.g1" class="ltx_graphics ltx_img_portrait" width="103" height="134" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F12.4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2104.13130/assets/x26.png" id="S6.F12.4.g1" class="ltx_graphics ltx_img_portrait" width="103" height="134" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 12: </span>Testing perplexity and training loss of Task 2 on two scales (<math id="S6.F12.8.m1.1" class="ltx_Math" alttext="S_{d}=10" display="inline"><semantics id="S6.F12.8.m1.1b"><mrow id="S6.F12.8.m1.1.1" xref="S6.F12.8.m1.1.1.cmml"><msub id="S6.F12.8.m1.1.1.2" xref="S6.F12.8.m1.1.1.2.cmml"><mi id="S6.F12.8.m1.1.1.2.2" xref="S6.F12.8.m1.1.1.2.2.cmml">S</mi><mi id="S6.F12.8.m1.1.1.2.3" xref="S6.F12.8.m1.1.1.2.3.cmml">d</mi></msub><mo id="S6.F12.8.m1.1.1.1" xref="S6.F12.8.m1.1.1.1.cmml">=</mo><mn id="S6.F12.8.m1.1.1.3" xref="S6.F12.8.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F12.8.m1.1c"><apply id="S6.F12.8.m1.1.1.cmml" xref="S6.F12.8.m1.1.1"><eq id="S6.F12.8.m1.1.1.1.cmml" xref="S6.F12.8.m1.1.1.1"></eq><apply id="S6.F12.8.m1.1.1.2.cmml" xref="S6.F12.8.m1.1.1.2"><csymbol cd="ambiguous" id="S6.F12.8.m1.1.1.2.1.cmml" xref="S6.F12.8.m1.1.1.2">subscript</csymbol><ci id="S6.F12.8.m1.1.1.2.2.cmml" xref="S6.F12.8.m1.1.1.2.2">𝑆</ci><ci id="S6.F12.8.m1.1.1.2.3.cmml" xref="S6.F12.8.m1.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F12.8.m1.1.1.3.cmml" xref="S6.F12.8.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F12.8.m1.1d">S_{d}=10</annotation></semantics></math>, <math id="S6.F12.9.m2.1" class="ltx_Math" alttext="R=1" display="inline"><semantics id="S6.F12.9.m2.1b"><mrow id="S6.F12.9.m2.1.1" xref="S6.F12.9.m2.1.1.cmml"><mi id="S6.F12.9.m2.1.1.2" xref="S6.F12.9.m2.1.1.2.cmml">R</mi><mo id="S6.F12.9.m2.1.1.1" xref="S6.F12.9.m2.1.1.1.cmml">=</mo><mn id="S6.F12.9.m2.1.1.3" xref="S6.F12.9.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F12.9.m2.1c"><apply id="S6.F12.9.m2.1.1.cmml" xref="S6.F12.9.m2.1.1"><eq id="S6.F12.9.m2.1.1.1.cmml" xref="S6.F12.9.m2.1.1.1"></eq><ci id="S6.F12.9.m2.1.1.2.cmml" xref="S6.F12.9.m2.1.1.2">𝑅</ci><cn type="integer" id="S6.F12.9.m2.1.1.3.cmml" xref="S6.F12.9.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F12.9.m2.1d">R=1</annotation></semantics></math>, <math id="S6.F12.10.m3.1" class="ltx_Math" alttext="M_{d}=0" display="inline"><semantics id="S6.F12.10.m3.1b"><mrow id="S6.F12.10.m3.1.1" xref="S6.F12.10.m3.1.1.cmml"><msub id="S6.F12.10.m3.1.1.2" xref="S6.F12.10.m3.1.1.2.cmml"><mi id="S6.F12.10.m3.1.1.2.2" xref="S6.F12.10.m3.1.1.2.2.cmml">M</mi><mi id="S6.F12.10.m3.1.1.2.3" xref="S6.F12.10.m3.1.1.2.3.cmml">d</mi></msub><mo id="S6.F12.10.m3.1.1.1" xref="S6.F12.10.m3.1.1.1.cmml">=</mo><mn id="S6.F12.10.m3.1.1.3" xref="S6.F12.10.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F12.10.m3.1c"><apply id="S6.F12.10.m3.1.1.cmml" xref="S6.F12.10.m3.1.1"><eq id="S6.F12.10.m3.1.1.1.cmml" xref="S6.F12.10.m3.1.1.1"></eq><apply id="S6.F12.10.m3.1.1.2.cmml" xref="S6.F12.10.m3.1.1.2"><csymbol cd="ambiguous" id="S6.F12.10.m3.1.1.2.1.cmml" xref="S6.F12.10.m3.1.1.2">subscript</csymbol><ci id="S6.F12.10.m3.1.1.2.2.cmml" xref="S6.F12.10.m3.1.1.2.2">𝑀</ci><ci id="S6.F12.10.m3.1.1.2.3.cmml" xref="S6.F12.10.m3.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F12.10.m3.1.1.3.cmml" xref="S6.F12.10.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F12.10.m3.1d">M_{d}=0</annotation></semantics></math>). (a) Perplexity <em id="S6.F12.15.1" class="ltx_emph ltx_font_italic">vs.</em> Global Epochs. (b) Loss <em id="S6.F12.16.2" class="ltx_emph ltx_font_italic">vs.</em> Global Epochs. (c) Perplexity <em id="S6.F12.17.3" class="ltx_emph ltx_font_italic">vs.</em> Gradients. (d) Loss <em id="S6.F12.18.4" class="ltx_emph ltx_font_italic">vs.</em> Gradients.</figcaption>
</figure>
<figure id="S6.F13" class="ltx_figure"><img src="/html/2104.13130/assets/x27.png" id="S6.F13.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="216" height="280" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 13: </span>Effect of different malicious device ratio on the testing perplexity (<math id="S6.F13.3.m1.1" class="ltx_Math" alttext="S_{d}=10" display="inline"><semantics id="S6.F13.3.m1.1b"><mrow id="S6.F13.3.m1.1.1" xref="S6.F13.3.m1.1.1.cmml"><msub id="S6.F13.3.m1.1.1.2" xref="S6.F13.3.m1.1.1.2.cmml"><mi id="S6.F13.3.m1.1.1.2.2" xref="S6.F13.3.m1.1.1.2.2.cmml">S</mi><mi id="S6.F13.3.m1.1.1.2.3" xref="S6.F13.3.m1.1.1.2.3.cmml">d</mi></msub><mo id="S6.F13.3.m1.1.1.1" xref="S6.F13.3.m1.1.1.1.cmml">=</mo><mn id="S6.F13.3.m1.1.1.3" xref="S6.F13.3.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F13.3.m1.1c"><apply id="S6.F13.3.m1.1.1.cmml" xref="S6.F13.3.m1.1.1"><eq id="S6.F13.3.m1.1.1.1.cmml" xref="S6.F13.3.m1.1.1.1"></eq><apply id="S6.F13.3.m1.1.1.2.cmml" xref="S6.F13.3.m1.1.1.2"><csymbol cd="ambiguous" id="S6.F13.3.m1.1.1.2.1.cmml" xref="S6.F13.3.m1.1.1.2">subscript</csymbol><ci id="S6.F13.3.m1.1.1.2.2.cmml" xref="S6.F13.3.m1.1.1.2.2">𝑆</ci><ci id="S6.F13.3.m1.1.1.2.3.cmml" xref="S6.F13.3.m1.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F13.3.m1.1.1.3.cmml" xref="S6.F13.3.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F13.3.m1.1d">S_{d}=10</annotation></semantics></math>, <math id="S6.F13.4.m2.1" class="ltx_Math" alttext="R=1" display="inline"><semantics id="S6.F13.4.m2.1b"><mrow id="S6.F13.4.m2.1.1" xref="S6.F13.4.m2.1.1.cmml"><mi id="S6.F13.4.m2.1.1.2" xref="S6.F13.4.m2.1.1.2.cmml">R</mi><mo id="S6.F13.4.m2.1.1.1" xref="S6.F13.4.m2.1.1.1.cmml">=</mo><mn id="S6.F13.4.m2.1.1.3" xref="S6.F13.4.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F13.4.m2.1c"><apply id="S6.F13.4.m2.1.1.cmml" xref="S6.F13.4.m2.1.1"><eq id="S6.F13.4.m2.1.1.1.cmml" xref="S6.F13.4.m2.1.1.1"></eq><ci id="S6.F13.4.m2.1.1.2.cmml" xref="S6.F13.4.m2.1.1.2">𝑅</ci><cn type="integer" id="S6.F13.4.m2.1.1.3.cmml" xref="S6.F13.4.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F13.4.m2.1d">R=1</annotation></semantics></math>).</figcaption>
</figure>
<figure id="S6.F14" class="ltx_figure"><img src="/html/2104.13130/assets/x28.png" id="S6.F14.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="216" height="280" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 14: </span>Effect of rounds per iteration and devices per shard on the testing perplexity (<math id="S6.F14.4.m1.1" class="ltx_Math" alttext="B=20" display="inline"><semantics id="S6.F14.4.m1.1b"><mrow id="S6.F14.4.m1.1.1" xref="S6.F14.4.m1.1.1.cmml"><mi id="S6.F14.4.m1.1.1.2" xref="S6.F14.4.m1.1.1.2.cmml">B</mi><mo id="S6.F14.4.m1.1.1.1" xref="S6.F14.4.m1.1.1.1.cmml">=</mo><mn id="S6.F14.4.m1.1.1.3" xref="S6.F14.4.m1.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F14.4.m1.1c"><apply id="S6.F14.4.m1.1.1.cmml" xref="S6.F14.4.m1.1.1"><eq id="S6.F14.4.m1.1.1.1.cmml" xref="S6.F14.4.m1.1.1.1"></eq><ci id="S6.F14.4.m1.1.1.2.cmml" xref="S6.F14.4.m1.1.1.2">𝐵</ci><cn type="integer" id="S6.F14.4.m1.1.1.3.cmml" xref="S6.F14.4.m1.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F14.4.m1.1d">B=20</annotation></semantics></math>, <math id="S6.F14.5.m2.1" class="ltx_Math" alttext="R=5" display="inline"><semantics id="S6.F14.5.m2.1b"><mrow id="S6.F14.5.m2.1.1" xref="S6.F14.5.m2.1.1.cmml"><mi id="S6.F14.5.m2.1.1.2" xref="S6.F14.5.m2.1.1.2.cmml">R</mi><mo id="S6.F14.5.m2.1.1.1" xref="S6.F14.5.m2.1.1.1.cmml">=</mo><mn id="S6.F14.5.m2.1.1.3" xref="S6.F14.5.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F14.5.m2.1c"><apply id="S6.F14.5.m2.1.1.cmml" xref="S6.F14.5.m2.1.1"><eq id="S6.F14.5.m2.1.1.1.cmml" xref="S6.F14.5.m2.1.1.1"></eq><ci id="S6.F14.5.m2.1.1.2.cmml" xref="S6.F14.5.m2.1.1.2">𝑅</ci><cn type="integer" id="S6.F14.5.m2.1.1.3.cmml" xref="S6.F14.5.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F14.5.m2.1d">R=5</annotation></semantics></math>, <math id="S6.F14.6.m3.1" class="ltx_Math" alttext="M_{d}=0" display="inline"><semantics id="S6.F14.6.m3.1b"><mrow id="S6.F14.6.m3.1.1" xref="S6.F14.6.m3.1.1.cmml"><msub id="S6.F14.6.m3.1.1.2" xref="S6.F14.6.m3.1.1.2.cmml"><mi id="S6.F14.6.m3.1.1.2.2" xref="S6.F14.6.m3.1.1.2.2.cmml">M</mi><mi id="S6.F14.6.m3.1.1.2.3" xref="S6.F14.6.m3.1.1.2.3.cmml">d</mi></msub><mo id="S6.F14.6.m3.1.1.1" xref="S6.F14.6.m3.1.1.1.cmml">=</mo><mn id="S6.F14.6.m3.1.1.3" xref="S6.F14.6.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F14.6.m3.1c"><apply id="S6.F14.6.m3.1.1.cmml" xref="S6.F14.6.m3.1.1"><eq id="S6.F14.6.m3.1.1.1.cmml" xref="S6.F14.6.m3.1.1.1"></eq><apply id="S6.F14.6.m3.1.1.2.cmml" xref="S6.F14.6.m3.1.1.2"><csymbol cd="ambiguous" id="S6.F14.6.m3.1.1.2.1.cmml" xref="S6.F14.6.m3.1.1.2">subscript</csymbol><ci id="S6.F14.6.m3.1.1.2.2.cmml" xref="S6.F14.6.m3.1.1.2.2">𝑀</ci><ci id="S6.F14.6.m3.1.1.2.3.cmml" xref="S6.F14.6.m3.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S6.F14.6.m3.1.1.3.cmml" xref="S6.F14.6.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F14.6.m3.1d">M_{d}=0</annotation></semantics></math>).</figcaption>
</figure>
<div id="S6.SS2.p7" class="ltx_para">
<p id="S6.SS2.p7.4" class="ltx_p"><em id="S6.SS2.p7.4.1" class="ltx_emph ltx_font_italic">Task 2: Penn Treebank.</em>
For Task 2, we also conduct training for a preset number of global epochs and gradients to determine the best perplexity, as shown in Table <a href="#S6.T3" title="TABLE III ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a>.
ChainFL consistently achieved lower global model perplexity in most cases, evident in both the ‘Stop@ # of Global Epochs=80’ and ‘Stop@ # of Gradients=3000’ columns.
In Fig. <a href="#S6.F11" title="Figure 11 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>, we assess the number of global epochs and gradients required to reach the target perplexity of 150.
Notably, both metrics increase with larger mini-batch sizes, while more local epochs which improve computational parallelism of devices, reduce the number of global epochs.
However, this does not always correlate with proportional benefits in computation costs, as illustrated in Fig. <a href="#S6.F11" title="Figure 11 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>.
Fig. <a href="#S6.F12" title="Figure 12 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a> traces the testing perplexity of the global model and the training loss on two scales under the settings of <math id="S6.SS2.p7.1.m1.2" class="ltx_Math" alttext="B\in\{20,50\}" display="inline"><semantics id="S6.SS2.p7.1.m1.2a"><mrow id="S6.SS2.p7.1.m1.2.3" xref="S6.SS2.p7.1.m1.2.3.cmml"><mi id="S6.SS2.p7.1.m1.2.3.2" xref="S6.SS2.p7.1.m1.2.3.2.cmml">B</mi><mo id="S6.SS2.p7.1.m1.2.3.1" xref="S6.SS2.p7.1.m1.2.3.1.cmml">∈</mo><mrow id="S6.SS2.p7.1.m1.2.3.3.2" xref="S6.SS2.p7.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S6.SS2.p7.1.m1.2.3.3.2.1" xref="S6.SS2.p7.1.m1.2.3.3.1.cmml">{</mo><mn id="S6.SS2.p7.1.m1.1.1" xref="S6.SS2.p7.1.m1.1.1.cmml">20</mn><mo id="S6.SS2.p7.1.m1.2.3.3.2.2" xref="S6.SS2.p7.1.m1.2.3.3.1.cmml">,</mo><mn id="S6.SS2.p7.1.m1.2.2" xref="S6.SS2.p7.1.m1.2.2.cmml">50</mn><mo stretchy="false" id="S6.SS2.p7.1.m1.2.3.3.2.3" xref="S6.SS2.p7.1.m1.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p7.1.m1.2b"><apply id="S6.SS2.p7.1.m1.2.3.cmml" xref="S6.SS2.p7.1.m1.2.3"><in id="S6.SS2.p7.1.m1.2.3.1.cmml" xref="S6.SS2.p7.1.m1.2.3.1"></in><ci id="S6.SS2.p7.1.m1.2.3.2.cmml" xref="S6.SS2.p7.1.m1.2.3.2">𝐵</ci><set id="S6.SS2.p7.1.m1.2.3.3.1.cmml" xref="S6.SS2.p7.1.m1.2.3.3.2"><cn type="integer" id="S6.SS2.p7.1.m1.1.1.cmml" xref="S6.SS2.p7.1.m1.1.1">20</cn><cn type="integer" id="S6.SS2.p7.1.m1.2.2.cmml" xref="S6.SS2.p7.1.m1.2.2">50</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p7.1.m1.2c">B\in\{20,50\}</annotation></semantics></math> and <math id="S6.SS2.p7.2.m2.2" class="ltx_Math" alttext="E\in\{5,15\}" display="inline"><semantics id="S6.SS2.p7.2.m2.2a"><mrow id="S6.SS2.p7.2.m2.2.3" xref="S6.SS2.p7.2.m2.2.3.cmml"><mi id="S6.SS2.p7.2.m2.2.3.2" xref="S6.SS2.p7.2.m2.2.3.2.cmml">E</mi><mo id="S6.SS2.p7.2.m2.2.3.1" xref="S6.SS2.p7.2.m2.2.3.1.cmml">∈</mo><mrow id="S6.SS2.p7.2.m2.2.3.3.2" xref="S6.SS2.p7.2.m2.2.3.3.1.cmml"><mo stretchy="false" id="S6.SS2.p7.2.m2.2.3.3.2.1" xref="S6.SS2.p7.2.m2.2.3.3.1.cmml">{</mo><mn id="S6.SS2.p7.2.m2.1.1" xref="S6.SS2.p7.2.m2.1.1.cmml">5</mn><mo id="S6.SS2.p7.2.m2.2.3.3.2.2" xref="S6.SS2.p7.2.m2.2.3.3.1.cmml">,</mo><mn id="S6.SS2.p7.2.m2.2.2" xref="S6.SS2.p7.2.m2.2.2.cmml">15</mn><mo stretchy="false" id="S6.SS2.p7.2.m2.2.3.3.2.3" xref="S6.SS2.p7.2.m2.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p7.2.m2.2b"><apply id="S6.SS2.p7.2.m2.2.3.cmml" xref="S6.SS2.p7.2.m2.2.3"><in id="S6.SS2.p7.2.m2.2.3.1.cmml" xref="S6.SS2.p7.2.m2.2.3.1"></in><ci id="S6.SS2.p7.2.m2.2.3.2.cmml" xref="S6.SS2.p7.2.m2.2.3.2">𝐸</ci><set id="S6.SS2.p7.2.m2.2.3.3.1.cmml" xref="S6.SS2.p7.2.m2.2.3.3.2"><cn type="integer" id="S6.SS2.p7.2.m2.1.1.cmml" xref="S6.SS2.p7.2.m2.1.1">5</cn><cn type="integer" id="S6.SS2.p7.2.m2.2.2.cmml" xref="S6.SS2.p7.2.m2.2.2">15</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p7.2.m2.2c">E\in\{5,15\}</annotation></semantics></math>.
ChainFL demonstrates superior performance compared with FedAvg and AsynFL in the <math id="S6.SS2.p7.3.m3.1" class="ltx_Math" alttext="B=20" display="inline"><semantics id="S6.SS2.p7.3.m3.1a"><mrow id="S6.SS2.p7.3.m3.1.1" xref="S6.SS2.p7.3.m3.1.1.cmml"><mi id="S6.SS2.p7.3.m3.1.1.2" xref="S6.SS2.p7.3.m3.1.1.2.cmml">B</mi><mo id="S6.SS2.p7.3.m3.1.1.1" xref="S6.SS2.p7.3.m3.1.1.1.cmml">=</mo><mn id="S6.SS2.p7.3.m3.1.1.3" xref="S6.SS2.p7.3.m3.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p7.3.m3.1b"><apply id="S6.SS2.p7.3.m3.1.1.cmml" xref="S6.SS2.p7.3.m3.1.1"><eq id="S6.SS2.p7.3.m3.1.1.1.cmml" xref="S6.SS2.p7.3.m3.1.1.1"></eq><ci id="S6.SS2.p7.3.m3.1.1.2.cmml" xref="S6.SS2.p7.3.m3.1.1.2">𝐵</ci><cn type="integer" id="S6.SS2.p7.3.m3.1.1.3.cmml" xref="S6.SS2.p7.3.m3.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p7.3.m3.1c">B=20</annotation></semantics></math>, <math id="S6.SS2.p7.4.m4.1" class="ltx_Math" alttext="E=15" display="inline"><semantics id="S6.SS2.p7.4.m4.1a"><mrow id="S6.SS2.p7.4.m4.1.1" xref="S6.SS2.p7.4.m4.1.1.cmml"><mi id="S6.SS2.p7.4.m4.1.1.2" xref="S6.SS2.p7.4.m4.1.1.2.cmml">E</mi><mo id="S6.SS2.p7.4.m4.1.1.1" xref="S6.SS2.p7.4.m4.1.1.1.cmml">=</mo><mn id="S6.SS2.p7.4.m4.1.1.3" xref="S6.SS2.p7.4.m4.1.1.3.cmml">15</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p7.4.m4.1b"><apply id="S6.SS2.p7.4.m4.1.1.cmml" xref="S6.SS2.p7.4.m4.1.1"><eq id="S6.SS2.p7.4.m4.1.1.1.cmml" xref="S6.SS2.p7.4.m4.1.1.1"></eq><ci id="S6.SS2.p7.4.m4.1.1.2.cmml" xref="S6.SS2.p7.4.m4.1.1.2">𝐸</ci><cn type="integer" id="S6.SS2.p7.4.m4.1.1.3.cmml" xref="S6.SS2.p7.4.m4.1.1.3">15</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p7.4.m4.1c">E=15</annotation></semantics></math> configuration on the global epochs scale.
Moreover, the convergence and perplexity of ChainFL also outperform FedAvg on the number of gradients scale.</p>
</div>
<div id="S6.SS2.p8" class="ltx_para">
<p id="S6.SS2.p8.4" class="ltx_p">Task 2 also assesses the resistance of ChainFL to malicious devices, with results displayed in Fig. <a href="#S6.F13" title="Figure 13 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>.
ChainFL exhibits greater stability in testing perplexity compared to FedAvg and AsynFL, especially as the ratio of malicious devices increases.
The fourth subfigure in Fig. <a href="#S6.F13" title="Figure 13 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a> particularly highlights the robustness of ChainFL against malicious attacks.
In addition, the impact of varying the number of rounds <math id="S6.SS2.p8.1.m1.3" class="ltx_Math" alttext="R\in\{1,2,3\}" display="inline"><semantics id="S6.SS2.p8.1.m1.3a"><mrow id="S6.SS2.p8.1.m1.3.4" xref="S6.SS2.p8.1.m1.3.4.cmml"><mi id="S6.SS2.p8.1.m1.3.4.2" xref="S6.SS2.p8.1.m1.3.4.2.cmml">R</mi><mo id="S6.SS2.p8.1.m1.3.4.1" xref="S6.SS2.p8.1.m1.3.4.1.cmml">∈</mo><mrow id="S6.SS2.p8.1.m1.3.4.3.2" xref="S6.SS2.p8.1.m1.3.4.3.1.cmml"><mo stretchy="false" id="S6.SS2.p8.1.m1.3.4.3.2.1" xref="S6.SS2.p8.1.m1.3.4.3.1.cmml">{</mo><mn id="S6.SS2.p8.1.m1.1.1" xref="S6.SS2.p8.1.m1.1.1.cmml">1</mn><mo id="S6.SS2.p8.1.m1.3.4.3.2.2" xref="S6.SS2.p8.1.m1.3.4.3.1.cmml">,</mo><mn id="S6.SS2.p8.1.m1.2.2" xref="S6.SS2.p8.1.m1.2.2.cmml">2</mn><mo id="S6.SS2.p8.1.m1.3.4.3.2.3" xref="S6.SS2.p8.1.m1.3.4.3.1.cmml">,</mo><mn id="S6.SS2.p8.1.m1.3.3" xref="S6.SS2.p8.1.m1.3.3.cmml">3</mn><mo stretchy="false" id="S6.SS2.p8.1.m1.3.4.3.2.4" xref="S6.SS2.p8.1.m1.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p8.1.m1.3b"><apply id="S6.SS2.p8.1.m1.3.4.cmml" xref="S6.SS2.p8.1.m1.3.4"><in id="S6.SS2.p8.1.m1.3.4.1.cmml" xref="S6.SS2.p8.1.m1.3.4.1"></in><ci id="S6.SS2.p8.1.m1.3.4.2.cmml" xref="S6.SS2.p8.1.m1.3.4.2">𝑅</ci><set id="S6.SS2.p8.1.m1.3.4.3.1.cmml" xref="S6.SS2.p8.1.m1.3.4.3.2"><cn type="integer" id="S6.SS2.p8.1.m1.1.1.cmml" xref="S6.SS2.p8.1.m1.1.1">1</cn><cn type="integer" id="S6.SS2.p8.1.m1.2.2.cmml" xref="S6.SS2.p8.1.m1.2.2">2</cn><cn type="integer" id="S6.SS2.p8.1.m1.3.3.cmml" xref="S6.SS2.p8.1.m1.3.3">3</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p8.1.m1.3c">R\in\{1,2,3\}</annotation></semantics></math> and devices per shard <math id="S6.SS2.p8.2.m2.3" class="ltx_Math" alttext="S_{d}\in\{10,20,30\}" display="inline"><semantics id="S6.SS2.p8.2.m2.3a"><mrow id="S6.SS2.p8.2.m2.3.4" xref="S6.SS2.p8.2.m2.3.4.cmml"><msub id="S6.SS2.p8.2.m2.3.4.2" xref="S6.SS2.p8.2.m2.3.4.2.cmml"><mi id="S6.SS2.p8.2.m2.3.4.2.2" xref="S6.SS2.p8.2.m2.3.4.2.2.cmml">S</mi><mi id="S6.SS2.p8.2.m2.3.4.2.3" xref="S6.SS2.p8.2.m2.3.4.2.3.cmml">d</mi></msub><mo id="S6.SS2.p8.2.m2.3.4.1" xref="S6.SS2.p8.2.m2.3.4.1.cmml">∈</mo><mrow id="S6.SS2.p8.2.m2.3.4.3.2" xref="S6.SS2.p8.2.m2.3.4.3.1.cmml"><mo stretchy="false" id="S6.SS2.p8.2.m2.3.4.3.2.1" xref="S6.SS2.p8.2.m2.3.4.3.1.cmml">{</mo><mn id="S6.SS2.p8.2.m2.1.1" xref="S6.SS2.p8.2.m2.1.1.cmml">10</mn><mo id="S6.SS2.p8.2.m2.3.4.3.2.2" xref="S6.SS2.p8.2.m2.3.4.3.1.cmml">,</mo><mn id="S6.SS2.p8.2.m2.2.2" xref="S6.SS2.p8.2.m2.2.2.cmml">20</mn><mo id="S6.SS2.p8.2.m2.3.4.3.2.3" xref="S6.SS2.p8.2.m2.3.4.3.1.cmml">,</mo><mn id="S6.SS2.p8.2.m2.3.3" xref="S6.SS2.p8.2.m2.3.3.cmml">30</mn><mo stretchy="false" id="S6.SS2.p8.2.m2.3.4.3.2.4" xref="S6.SS2.p8.2.m2.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p8.2.m2.3b"><apply id="S6.SS2.p8.2.m2.3.4.cmml" xref="S6.SS2.p8.2.m2.3.4"><in id="S6.SS2.p8.2.m2.3.4.1.cmml" xref="S6.SS2.p8.2.m2.3.4.1"></in><apply id="S6.SS2.p8.2.m2.3.4.2.cmml" xref="S6.SS2.p8.2.m2.3.4.2"><csymbol cd="ambiguous" id="S6.SS2.p8.2.m2.3.4.2.1.cmml" xref="S6.SS2.p8.2.m2.3.4.2">subscript</csymbol><ci id="S6.SS2.p8.2.m2.3.4.2.2.cmml" xref="S6.SS2.p8.2.m2.3.4.2.2">𝑆</ci><ci id="S6.SS2.p8.2.m2.3.4.2.3.cmml" xref="S6.SS2.p8.2.m2.3.4.2.3">𝑑</ci></apply><set id="S6.SS2.p8.2.m2.3.4.3.1.cmml" xref="S6.SS2.p8.2.m2.3.4.3.2"><cn type="integer" id="S6.SS2.p8.2.m2.1.1.cmml" xref="S6.SS2.p8.2.m2.1.1">10</cn><cn type="integer" id="S6.SS2.p8.2.m2.2.2.cmml" xref="S6.SS2.p8.2.m2.2.2">20</cn><cn type="integer" id="S6.SS2.p8.2.m2.3.3.cmml" xref="S6.SS2.p8.2.m2.3.3">30</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p8.2.m2.3c">S_{d}\in\{10,20,30\}</annotation></semantics></math> in Task 2 is examined.
As shown in Fig. <a href="#S6.F14" title="Figure 14 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a>, there is a slight decrease in the testing perplexity of the global model with increased <math id="S6.SS2.p8.3.m3.1" class="ltx_Math" alttext="R" display="inline"><semantics id="S6.SS2.p8.3.m3.1a"><mi id="S6.SS2.p8.3.m3.1.1" xref="S6.SS2.p8.3.m3.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p8.3.m3.1b"><ci id="S6.SS2.p8.3.m3.1.1.cmml" xref="S6.SS2.p8.3.m3.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p8.3.m3.1c">R</annotation></semantics></math> and <math id="S6.SS2.p8.4.m4.1" class="ltx_Math" alttext="S_{d}" display="inline"><semantics id="S6.SS2.p8.4.m4.1a"><msub id="S6.SS2.p8.4.m4.1.1" xref="S6.SS2.p8.4.m4.1.1.cmml"><mi id="S6.SS2.p8.4.m4.1.1.2" xref="S6.SS2.p8.4.m4.1.1.2.cmml">S</mi><mi id="S6.SS2.p8.4.m4.1.1.3" xref="S6.SS2.p8.4.m4.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S6.SS2.p8.4.m4.1b"><apply id="S6.SS2.p8.4.m4.1.1.cmml" xref="S6.SS2.p8.4.m4.1.1"><csymbol cd="ambiguous" id="S6.SS2.p8.4.m4.1.1.1.cmml" xref="S6.SS2.p8.4.m4.1.1">subscript</csymbol><ci id="S6.SS2.p8.4.m4.1.1.2.cmml" xref="S6.SS2.p8.4.m4.1.1.2">𝑆</ci><ci id="S6.SS2.p8.4.m4.1.1.3.cmml" xref="S6.SS2.p8.4.m4.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p8.4.m4.1c">S_{d}</annotation></semantics></math>, for the same reasons discussed in Task 1 of Fig. <a href="#S6.F10" title="Figure 10 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>.</p>
</div>
<div id="S6.SS2.p9" class="ltx_para">
<p id="S6.SS2.p9.3" class="ltx_p">Extensive experiments on Task 1 and Task 2 reveal key insights.
ChainFL shares similar FL parameter (<math id="S6.SS2.p9.1.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.SS2.p9.1.m1.1a"><mi id="S6.SS2.p9.1.m1.1.1" xref="S6.SS2.p9.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p9.1.m1.1b"><ci id="S6.SS2.p9.1.m1.1.1.cmml" xref="S6.SS2.p9.1.m1.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p9.1.m1.1c">B</annotation></semantics></math> and <math id="S6.SS2.p9.2.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S6.SS2.p9.2.m2.1a"><mi id="S6.SS2.p9.2.m2.1.1" xref="S6.SS2.p9.2.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p9.2.m2.1b"><ci id="S6.SS2.p9.2.m2.1.1.cmml" xref="S6.SS2.p9.2.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p9.2.m2.1c">E</annotation></semantics></math>) sensitivities with FedAvg, where increased computational resources per device speed up convergence when the local training has not fully utilized the available local data.
However, higher <math id="S6.SS2.p9.3.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S6.SS2.p9.3.m3.1a"><mi id="S6.SS2.p9.3.m3.1.1" xref="S6.SS2.p9.3.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.p9.3.m3.1b"><ci id="S6.SS2.p9.3.m3.1.1.cmml" xref="S6.SS2.p9.3.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p9.3.m3.1c">E</annotation></semantics></math> values can cause overfitting and adversely affect the global model once local data is thoroughly utilized.
Fig. <a href="#S6.F7" title="Figure 7 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> and Fig. <a href="#S6.F11" title="Figure 11 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a> show that ChainFL requires more global epochs and gradients to meet preset accuracy/perplexity targets (0.95/150).
Despite initial lag compared to FedAvg due to multi-shard model consensus, ChainFL often achieves faster convergence and higher accuracy, as shown in Fig. <a href="#S6.F8" title="Figure 8 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> and Fig. <a href="#S6.F12" title="Figure 12 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a>.
On the other hand, in an environment without malicious devices and stale models, AsynFL exhibits fast and stable iterative updates that lead to superior performance, consistent with the findings of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.
However, the performance of AsynFL experiences a significant decline in the presence of malicious devices, as it lacks resistance against attacks.
In contrast, ChainFL demonstrates resilience against such threats, which is attributed to its local model evaluation consensus within each subchain.
Moreover, the consensus-based virtual pruning of the mainchain efficiently eliminates the malicious model published by the malicious shard to maintain a stable convergence of the accuracy of the global model.</p>
</div>
<figure id="S6.F15" class="ltx_figure"><img src="/html/2104.13130/assets/x29.png" id="S6.F15.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="184" height="238" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 15: </span>Training latency <em id="S6.F15.2.1" class="ltx_emph ltx_font_italic">vs.</em> the number of gradients for task 1.</figcaption>
</figure>
<figure id="S6.F16" class="ltx_figure"><img src="/html/2104.13130/assets/x30.png" id="S6.F16.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="184" height="238" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 16: </span>Training latency <em id="S6.F16.2.1" class="ltx_emph ltx_font_italic">vs.</em> the number of gradients for task 2.</figcaption>
</figure>
<div id="S6.SS2.p10" class="ltx_para">
<p id="S6.SS2.p10.1" class="ltx_p">In addition, we evaluate the impact of integrating blockchain into FL on the training latency, alongside exploring the trade-off between the latency incurred by blockchain implementation and the accuracy of FL.
To guarantee an equitable comparison, these experiments are uniformly conducted with respect to the number of gradients involved.
Fig. <a href="#S6.F15" title="Figure 15 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">15</span></a> and Fig. <a href="#S6.F16" title="Figure 16 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">16</span></a> illustrate the correlation between training latency and the number of gradients for task 1 and task 2, respectively.
It is discernible that the training latency for ChainFL marginally surpasses that of FedAvg.
Nonetheless, ChainFL demonstrates superior performance over AsynFL, attributed to the accumulated latency from numerous rounds of model aggregations and queuing delays inherent in a fully asynchronous FL system.
Notably, despite the slight elevation in latency compared to FedAvg, ChainFL confers significant robustness advantages, as evidenced by up to a threefold enhancement, as depicted in Fig. <a href="#S6.F9" title="Figure 9 ‣ 6.1 Baselines and Settings ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> and Fig. <a href="#S6.F13" title="Figure 13 ‣ 6.2 Experimental Results ‣ 6 Experimental Evaluations ‣ Secure and Efficient Federated Learning Through Layering and Sharding Blockchain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>.
In light of this trade-off, the marginal increase in latency is deemed acceptable and justifiable.</p>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span><span id="S7.1.1" class="ltx_text ltx_font_smallcaps">Conclusions and Future Works</span>
</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">In this paper, we propose ChainFL, a novel hierarchical blockchain-driven FL framework, designed to improve both the efficiency and security of FL systems in trustless edge computing environments.
We adopt a sharding architecture to parallelize the consensus among shards, thereby reducing the scale of information exchange and storage resource requirements and scaling the system throughput.
To reach a consensus on shard models, we design the cross-layer FL operation procedure and the virtual pruning of the mainchain.
Through the shard consensus and DAG-based mainchain consensus, asynchronous and synchronous optimizations are effectively combined to address the stragglers and stale models.
In addition, the hierarchical consensus enhances the robustness of ChainFL, making it more resistant to attacks from malicious entities.
The prototype of ChainFL is developed and deployed, and extensive experiments conducted on this prototype demonstrate that ChainFL provides acceptable and sometimes better training efficiency (by up to 14%) and stronger robustness (by up to three times) compared to conventional FL systems.</p>
</div>
<div id="S7.p2" class="ltx_para">
<p id="S7.p2.1" class="ltx_p">For future work, we plan to investigate model replacement or double-spending attacks in ChainFL and explore an incentive mechanism based on blockchain technology to encourage IoT device participation in FL tasks.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
S. Yuan, B. Cao, M. Peng <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “ChainsFL: blockchain-driven
federated learning from design to realization,” in <em id="bib.bib1.2.2" class="ltx_emph ltx_font_italic">Proc. IEEE
Wireless Commun. Networking Conf., WCNC’21</em>.   Nanjing, China: IEEE, Mar. 2021, pp. 1–6.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
L. U. Khan, W. Saad, Z. Han <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Federated learning for internet of
things: recent advances, taxonomy, and open challenges,” <em id="bib.bib2.2.2" class="ltx_emph ltx_font_italic">IEEE Commun.
Surv. Tutorials</em>, vol. 23, no. 3, pp. 1759–1799, Jun. 2021.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
B. McMahan, E. Moore, D. Ramage <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Communication-efficient
learning of deep networks from decentralized data,” in <em id="bib.bib3.2.2" class="ltx_emph ltx_font_italic">Proc. Int.
Conf. Artif. Intell. Stat., AISTATS’17</em>, Fort Lauderdale, Florida, USA,
Apr. 2017, pp. 1273–1282.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
M. Cao, L. Zhang, and B. Cao, “Toward on-device federated learning: a direct
acyclic graph-based blockchain approach,” <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">IEEE Trans. Neural Netw.
Learning Syst.</em>, vol. 34, no. 4, pp. 2028–2042, Apr. 2023.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Z. Zhao and G. Joshi, “A dynamic reweighting strategy for fair federated
learning,” in <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Proc. IEEE Int. Conf. Acoust. Speech Signal Process,
ICASSP’2022</em>.   Singapore: IEEE,
May 2022, pp. 8772–8776.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
J. Zhu, J. Cao, D. Saxena <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Blockchain-empowered federated
learning: challenges, solutions, and future directions,” <em id="bib.bib6.2.2" class="ltx_emph ltx_font_italic">ACM Comput.
Surv.</em>, vol. 55, no. 11, pp. 1–31, Feb. 2023.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
S. Dutta, G. Joshi, S. Ghosh <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Slow and stale gradients can win
the race: error-runtime trade-offs in distributed SGD,” in <em id="bib.bib7.2.2" class="ltx_emph ltx_font_italic">Proc.
Int. Conf. Artif. Intell. Stat., AISTATS’18</em>.   Playa Blanca, Lanzarote, Canary Islands, Spain: PMLR, Aug.
2018.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
C. Xie, S. Koyejo, and I. Gupta, “Asynchronous federated optimization,”
<em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1903.03934</em>, pp. 1–15, Dec. 2020.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
S. Nakamoto, “Bitcoin: a peer-to-peer electronic cash system,” Aug. 2008.
[Online]. Available: <a target="_blank" href="https://dx.doi.org/10.2139/ssrn.3440802" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://dx.doi.org/10.2139/ssrn.3440802</a>

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
H. Kim, J. Park, M. Bennis <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Blockchained on-device federated
learning,” <em id="bib.bib10.2.2" class="ltx_emph ltx_font_italic">IEEE Commun. Lett.</em>, vol. 24, no. 6, pp. 1279–1283, Jun.
2020.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Y. Lu, X. Huang, Y. Dai <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Blockchain and federated learning for
privacy-preserved data sharing in industrial IoT,” <em id="bib.bib11.2.2" class="ltx_emph ltx_font_italic">IEEE Trans.
Ind. Inf.</em>, vol. 16, no. 6, pp. 4177–4186, Jun. 2020.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
B. Cao, Z. Zhang, D. Feng <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Performance analysis and comparison
of PoW, PoS and DAG based blockchains,” <em id="bib.bib12.2.2" class="ltx_emph ltx_font_italic">Digit. Commun.
Netw.</em>, vol. 6, no. 4, pp. 480–485, Nov. 2020.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
K. Croman, C. Decker, I. Eyal <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “On scaling decentralized
blockchains,” in <em id="bib.bib13.2.2" class="ltx_emph ltx_font_italic">Proc. Financial Cryptogr. Data Secur., FC’16</em>,
Christ Church, Barbados, 2016, pp. 106–125.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
M. Castro and B. Liskov, “Practical byzantine fault tolerance,” in
<em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">Proc. Symp. Oper. Syst. Des. Implement., OSDI’99</em>, New Orleans,
USA, Feb. 1999, pp. 1–14.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
S. Zhou, H. Huang, W. Chen <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “PIRATE: a blockchain-based
secure framework of distributed machine learning in 5G networks,”
<em id="bib.bib15.2.2" class="ltx_emph ltx_font_italic">IEEE Netw.</em>, vol. 34, no. 6, pp. 84–91, Nov. 2020.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
J. Weng, J. Weng, J. Zhang <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “DeepChain: auditable and
privacy-preserving deep learning with blockchain-based incentive,”
<em id="bib.bib16.2.2" class="ltx_emph ltx_font_italic">IEEE Trans. Dependable Secure Comput.</em>, vol. 18, no. 5, pp. 2438–2455,
Sep. 2021.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Y. Qu, M. P. Uddin, C. Gan <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Blockchain-enabled federated
learning: a survey,” <em id="bib.bib17.2.2" class="ltx_emph ltx_font_italic">ACM Comput. Surv.</em>, vol. 55, no. 4, pp.
70:1–70:35, Nov. 2022.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
M. Shayan, C. Fung, C. J. M. Yoon <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Biscotti: a blockchain
system for private and secure federated learning,” <em id="bib.bib18.2.2" class="ltx_emph ltx_font_italic">IEEE Trans.
Parallel Distrib. Syst.</em>, vol. 32, no. 7, pp. 1513–1525, Jul. 2021.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Z. Zhang, D. Dong, Y. Ma <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Refiner: a reliable incentive-driven
federated learning system powered by blockchain,” <em id="bib.bib19.2.2" class="ltx_emph ltx_font_italic">Proc. VLDB Endow.</em>,
vol. 14, no. 12, pp. 2659–2662, Jul. 2021.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
U. Majeed and C. S. Hong, “FLchain: federated learning via MEC-enabled
blockchain network,” in <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Asia-Pacific Netw. Oper. Manag. Symp.:
Manag. Cyber-Physical World, APNOMS’19</em>.   Matsue, Japan: IEEE, Sep. 2019, pp. 1–4.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
H. Liu, S. Zhang, P. Zhang <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Blockchain and federated learning
for collaborative intrusion detection in vehicular edge computing,”
<em id="bib.bib21.2.2" class="ltx_emph ltx_font_italic">IEEE Trans. Veh. Technol.</em>, vol. 70, no. 6, pp. 6073–6084, Jun. 2021.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
H. Jin, X. Dai, J. Xiao <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Cross-cluster federated learning and
blockchain for internet of medical things,” <em id="bib.bib22.2.2" class="ltx_emph ltx_font_italic">IEEE Internet Things J.</em>,
vol. 8, no. 21, pp. 15 776–15 784, Nov. 2021.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
B. Cao, Z. Wang, L. Zhang <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Blockchain systems, technologies,
and applications: a methodology perspective,” <em id="bib.bib23.2.2" class="ltx_emph ltx_font_italic">IEEE Commun. Surv.
Tutorials</em>, vol. 25, no. 1, pp. 353–385, 3st Quart., 2023.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
X. Qu, S. Wang, Q. Hu <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Proof of federated learning: a novel
energy-recycling consensus algorithm,” <em id="bib.bib24.2.2" class="ltx_emph ltx_font_italic">IEEE Trans. Parallel Distrib.
Syst.</em>, vol. 32, no. 8, pp. 2074–2085, Aug. 2021.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
D. Ongaro and J. Ousterhout, “In search of an understandable consensus
algorithm,” in <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Proc. USENIX Annu. Tech. Conf., USENIX ATC’14</em>,
Philadelphia, PA, USA, 2014, pp. 305–319.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
D. Huang, X. Ma, and S. Zhang, “Performance analysis of the raft consensus
algorithm for private blockchains,” <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">IEEE Trans. Syst. Man Cybern.
Syst.</em>, vol. 50, no. 1, pp. 172–181, Jan. 2020.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Z. Qu, R. Duan, L. Chen <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Context-aware online client selection
for hierarchical federated learning,” <em id="bib.bib27.2.2" class="ltx_emph ltx_font_italic">IEEE Trans. Parallel Distrib.
Syst.</em>, vol. 33, no. 12, pp. 4353–4367, Dec. 2022.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
T. Wang, Y. Liu, X. Zheng <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Edge-based communication
optimization for distributed federated learning,” <em id="bib.bib28.2.2" class="ltx_emph ltx_font_italic">IEEE Trans. Netw.
Sci. Eng.</em>, vol. 9, no. 4, pp. 2015–2024, Jul. 2022.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
W. Wu, L. He, W. Lin <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “SAFA: a semi-asynchronous protocol
for fast federated learning with low overhead,” <em id="bib.bib29.2.2" class="ltx_emph ltx_font_italic">IEEE Trans. Comput.</em>,
vol. 70, no. 5, pp. 655–668, May 2021.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
L. Luu, V. Narayanan, C. Zheng <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “A secure sharding protocol for
open blockchains,” in <em id="bib.bib30.2.2" class="ltx_emph ltx_font_italic">Proc. ACM. Conf. Computer. Commun. Secur.,
CCS’16</em>, Vienna, Austria, Oct. 2016, pp. 17–30.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
B. Cao, L. Zhang, Y. Li <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Intelligent offloading in multi-access
edge computing: a state-of-the-art review and framework,” <em id="bib.bib31.2.2" class="ltx_emph ltx_font_italic">IEEE Commun.
Mag.</em>, vol. 57, no. 3, pp. 56–62, Mar. 2019.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
Y. Li, B. Cao, M. Peng <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Direct acyclic graph-based ledger for
internet of things: performance and security analysis,” <em id="bib.bib32.2.2" class="ltx_emph ltx_font_italic">IEEE/ACM
Trans. Networking</em>, vol. 28, no. 4, pp. 1643–1656, Aug. 2020.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
S. Popov, “The tangle,” IOTA, White paper, Apr. 2018. [Online]. Available:
<a target="_blank" href="https://api.semanticscholar.org/CorpusID:4958428" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://api.semanticscholar.org/CorpusID:4958428</a>

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
Y. Du, Z. Wang, J. Li <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Blockchain-aided edge computing market:
smart contract and consensus mechanisms,” <em id="bib.bib34.2.2" class="ltx_emph ltx_font_italic">IEEE Trans. on Mobile
Comput.</em>, vol. 22, no. 6, pp. 3193–3208, Jun. 2023.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
J. Benet, “IPFS - content addressed, versioned, P2P file system,”
<em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1407.3561</em>, pp. 1–11, Jul. 2014.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
“Hyperledger fabric,” Jun. 2023. [Online]. Available:
<a target="_blank" href="https://github.com/hyperledger/fabric" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/hyperledger/fabric</a>

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
Y. LeCun, L. Bottou, Y. Bengio <em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Gradient-based learning applied
to document recognition,” <em id="bib.bib37.2.2" class="ltx_emph ltx_font_italic">Proc. IEEE</em>, vol. 86, no. 11, pp.
2278–2324, Nov. 1998.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
M. Marcus, B. Santorini, and M. A. Marcinkiewicz, “Building a large annotated
corpus of english: the penn treebank,” University of Pennsylvania
Department of Computer and Information Science Technical, Tech. Rep. No.
MS-CIS-93-87, Oct. 1993.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
S. Ji, S. Pan, G. Long <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Learning private neural language
modeling with attentive aggregation,” in <em id="bib.bib39.2.2" class="ltx_emph ltx_font_italic">Proc. Int. Jt. Conf. Neural
Networks, IJCNN’19</em>.   Budapest,
Hungary: IEEE, Jul. 2019, pp. 1–8.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock">
T. Mikolov, S. Kombrink, L. Burget <em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Extensions of recurrent
neural network language model,” in <em id="bib.bib40.2.2" class="ltx_emph ltx_font_italic">Proc. IEEE Int. Conf. Acoust.
Speech Signal Process, ICASSP’11</em>.   Prague, Czech Republic: IEEE, Aug. 2011, pp. 5528–5531.

</span>
</li>
</ul>
</section>
<figure id="id2" class="ltx_float biography">
<table id="id2.1" class="ltx_tabular">
<tr id="id2.1.1" class="ltx_tr">
<td id="id2.1.1.1" class="ltx_td"><img src="/html/2104.13130/assets/x31.png" id="id2.1.1.1.g1" class="ltx_graphics ltx_img_portrait" width="68" height="96" alt="[Uncaptioned image]"></td>
<td id="id2.1.1.2" class="ltx_td">
<span id="id2.1.1.2.1" class="ltx_inline-block">
<span id="id2.1.1.2.1.1" class="ltx_p"><span id="id2.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Shuo Yuan</span>  (Member, IEEE) received the B.S. degree from Nanchang University, Nanchang, China, and the M.E. degree in information and communication engineering from Beijing University of Posts and Telecommunications, Beijing, China, in 2016 and 2019, respectively.
He is currently working toward a Ph.D. degree in the State Key Laboratory of Networking and Switching Technology, Beijing University of Posts and Telecommunications, Beijing, China.
His research interests include multi-access edge computing, intelligent computing, and LEO satellite communication.
He has been a Reviewer for IEEE <span id="id2.1.1.2.1.1.2" class="ltx_text ltx_font_smallcaps">Internet of Things Journal</span> and IEEE <span id="id2.1.1.2.1.1.3" class="ltx_text ltx_font_smallcaps">Transactions on Vehicular Technology</span>.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id3" class="ltx_float biography">
<table id="id3.1" class="ltx_tabular">
<tr id="id3.1.1" class="ltx_tr">
<td id="id3.1.1.1" class="ltx_td"><img src="/html/2104.13130/assets/x32.png" id="id3.1.1.1.g1" class="ltx_graphics ltx_img_portrait" width="70" height="96" alt="[Uncaptioned image]"></td>
<td id="id3.1.1.2" class="ltx_td">
<span id="id3.1.1.2.1" class="ltx_inline-block">
<span id="id3.1.1.2.1.1" class="ltx_p"><span id="id3.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Bin Cao</span>  (Senior Member, IEEE) is a Professor with the State Key Laboratory of Network and Switching Technology, Beijing University of Posts and Telecommunications.
He received the IEEE Outstanding Leadership Award in 2020, the Best Paper Award at IEEE BMSB 2021, and the IEEE TEMS Mid-Career Award in 2021.
He is an Associate Editor of IEEE <span id="id3.1.1.2.1.1.2" class="ltx_text ltx_font_smallcaps">Transactions on Mobile Computing</span> and <span id="id3.1.1.2.1.1.3" class="ltx_text ltx_font_smallcaps">Digital Communications and Networks</span>, serves/served as a (Lead) Guest Editor of IEEE <span id="id3.1.1.2.1.1.4" class="ltx_text ltx_font_smallcaps">Communications Magazine</span>, IEEE <span id="id3.1.1.2.1.1.5" class="ltx_text ltx_font_smallcaps">Internet of Things Journal</span>, IEEE <span id="id3.1.1.2.1.1.6" class="ltx_text ltx_font_smallcaps">Transactions on Industrial Informatics</span>, and IEEE <span id="id3.1.1.2.1.1.7" class="ltx_text ltx_font_smallcaps">Sensors Journal</span>, as well as the Co-Chair for IEEE ICNC 2018, IEEE Blockchain 2020, and IEEE Globecom 2022.
He is the Founding Vice Chair of Special Interest Group on Wireless Blockchain Networks in IEEE Cognitive Networks Technical Committee, and a Chief Young Scientist of the National Key Research and Development Program of China.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id4" class="ltx_float biography">
<table id="id4.1" class="ltx_tabular">
<tr id="id4.1.1" class="ltx_tr">
<td id="id4.1.1.1" class="ltx_td"><img src="/html/2104.13130/assets/x33.png" id="id4.1.1.1.g1" class="ltx_graphics ltx_img_portrait" width="72" height="96" alt="[Uncaptioned image]"></td>
<td id="id4.1.1.2" class="ltx_td">
<span id="id4.1.1.2.1" class="ltx_inline-block">
<span id="id4.1.1.2.1.1" class="ltx_p"><span id="id4.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Yao Sun</span>  (Senior Member, IEEE) is currently a Lecturer with James Watt School of Engineering, the University of Glasgow, Glasgow, UK.
He has extensive research experience in wireless communication area.
He received the IEEE Communication Society of TAOS Best Paper Award in 2019 ICC, the Best Paper Award of IEEE <span id="id4.1.1.2.1.1.2" class="ltx_text ltx_font_smallcaps">Internet of Things Journal</span> in 2022, and Best Paper Award at IEEE ICCT in 2022.
He has served as TPC Chair for UCET 2021, and TPC member for a number of international conferences, including ICC 2022, VTC Spring 2022, GLOBECOM 2020, WCNC 2019, ICCT 2019.
His research interests include intelligent wireless networking, network slicing, blockchain system, internet of things and resource management in mobile networks.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id5" class="ltx_float biography">
<table id="id5.1" class="ltx_tabular">
<tr id="id5.1.1" class="ltx_tr">
<td id="id5.1.1.1" class="ltx_td"><img src="/html/2104.13130/assets/x34.png" id="id5.1.1.1.g1" class="ltx_graphics ltx_img_portrait" width="73" height="96" alt="[Uncaptioned image]"></td>
<td id="id5.1.1.2" class="ltx_td">
<span id="id5.1.1.2.1" class="ltx_inline-block">
<span id="id5.1.1.2.1.1" class="ltx_p"><span id="id5.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Zhiguo Wan</span>  (Member, IEEE) received the B.S. degree in computer science from Tsinghua University in 2002 and the Ph.D. degree from the School of Computing, National University of Singapore, Singapore, in 2007.
He is currently a Principal Investigator with Zhejiang Laboratory, Hangzhou, Zhejiang, China.
From 2008 to 2014, he was an Assistant Professor with the School of Software, Tsinghua University.
He was a Post-Doctoral Researcher with the Katholieke University of Leuven, Belgium, from 2006 to 2008.
His research interests include security and privacy for blockchain, cloud computing, and intelligent computing.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id6" class="ltx_float biography">
<table id="id6.1" class="ltx_tabular">
<tr id="id6.1.1" class="ltx_tr">
<td id="id6.1.1.1" class="ltx_td"><img src="/html/2104.13130/assets/x35.png" id="id6.1.1.1.g1" class="ltx_graphics ltx_img_portrait" width="73" height="96" alt="[Uncaptioned image]"></td>
<td id="id6.1.1.2" class="ltx_td">
<span id="id6.1.1.2.1" class="ltx_inline-block">
<span id="id6.1.1.2.1.1" class="ltx_p"><span id="id6.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Mugen Peng</span>  (Fellow, IEEE) received the Ph.D. degree in communication and information systems from the Beijing University of Posts and Telecommunications, Beijing, China, in 2005. In 2014, he was an Academic Visiting Fellow at Princeton University, Princeton, NJ, USA.
He joined BUPT, where he has been the Dean of the School of Information and Communication Engineering since June 2020, and the Deputy Director of the State Key Laboratory of Networking and Switching Technology since October 2018.
He leads a Research Group focusing on wireless transmission and networking technologies with the State Key Laboratory of Networking and Switching Technology, BUPT.
His main research interests include wireless communication theory, radio signal processing, cooperative communication, self-organization networking, non-terrestrial networks, and Internet of Things.
He was a recipient of the 2018 Heinrich Hertz Prize Paper Award, the 2014 IEEE ComSoc AP Outstanding Young Researcher Award, and the Best Paper Award in IEEE ICC 2022, JCN 2016, and IEEE WCNC 2015.
He is/was on the Editorial or Associate Editorial Board of IEEE <span id="id6.1.1.2.1.1.2" class="ltx_text ltx_font_smallcaps">Communications Magazine</span>, IEEE <em id="id6.1.1.2.1.1.3" class="ltx_emph ltx_font_italic">Network magazine</em>, IEEE <span id="id6.1.1.2.1.1.4" class="ltx_text ltx_font_smallcaps">Internet of Things Journal</span>, IEEE <span id="id6.1.1.2.1.1.5" class="ltx_text ltx_font_smallcaps">Transactions on Vehicular Technology</span>, and IEEE <span id="id6.1.1.2.1.1.6" class="ltx_text ltx_font_smallcaps">Transactions on Network Science and Engineering</span>.</span>
</span>
</td>
</tr>
</table>
</figure>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2104.13129" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2104.13130" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2104.13130">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2104.13130" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2104.13131" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sat Mar  2 00:13:54 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
