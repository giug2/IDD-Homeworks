<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2110.08378] FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification</title><meta property="og:description" content="Machine learning in medical research, by nature, needs careful attention on obeying the regulations of data privacy, making it difficult to train a machine learning model over gathered data from different medical cente…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2110.08378">

<!--Generated on Tue Mar 19 15:05:50 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Federated Learning Prior distribution Medical imaging Classification">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line"><span id="id1" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">institutetext: </span>Intelligent Systems Program, University of Pittsburgh, Pittsburgh, PA, USA, 15213
<br class="ltx_break"><span id="id1.1" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">email: </span>jul117@pitt.edu</span></span></span> </span></span></span><span id="id2" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">institutetext: </span>Department of Radiology, Department of Biomedical Informatics, and Department of Bioengineering, University of Pittsburgh, Pittsburgh, PA, USA, 15213
<br class="ltx_break"><span id="id2.1" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">email: </span>wus3@upmc.edu</span></span></span></span></span></span>
<h1 class="ltx_title ltx_title_document">
<span id="id1.id1" class="ltx_text ltx_font_typewriter">FedSLD</span>: Federated Learning with Shared Label Distribution for Medical Image Classification</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jun Luo
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shandong Wu
</span><span class="ltx_author_notes">1122</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id2.id1" class="ltx_p">Machine learning in medical research, by nature, needs careful attention on obeying the regulations of data privacy, making it difficult to train a machine learning model over gathered data from different medical centers. Failure of leveraging data of the same kind may result in poor generalizability for the trained model. Federated learning (FL) enables collaboratively training a joint model while keeping the data decentralized for multiple medical centers. However, federated optimizations often suffer from the heterogeneity of the data distribution across medical centers. In this work, we propose Federated Learning with Shared Label Distribution (<span id="id2.id1.1" class="ltx_text ltx_font_typewriter">FedSLD</span>) for classification tasks, a method that assumes knowledge of the label distributions for all the participating clients in the federation. <span id="id2.id1.2" class="ltx_text ltx_font_typewriter">FedSLD</span> adjusts the contribution of each data sample to the local objective during optimization given knowledge of the distribution, mitigating the instability brought by data heterogeneity across all clients. We conduct extensive experiments on four publicly available image datasets with different types of non-IID data distributions. Our results show that <span id="id2.id1.3" class="ltx_text ltx_font_typewriter">FedSLD</span> achieves better convergence performance than the compared leading FL optimization algorithms, increasing the test accuracy by up to 5.50 percentage points.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Keywords: </h6>Federated Learning Prior distribution Medical imaging Classification
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Deep learning (DL) is well known for requiring a large amount of data for robust training of generalizable models. For DL in medical research <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, large datasets can be difficult to obtain since the data collected by medical centers and hospitals are often privacy-sensitive. Therefore, sharing of the raw data between institutions is usually constrained by the restrictions such as Health Insurance Portability and Accountability Act (HIPAA) in the United States, and General Data Protection Regulation (GDPR) in Europe.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">The recent emergence of federated learning (FL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> has provided this issue with a feasible solution. FL is a distributed machine learning scenario where only the model weights are shared among the participating clients in the federation, while keeping the data decentralized. In medical research, by bringing different hospitals and medical centers into the federation, researchers can collaboratively train a model utilizing different datasets from siloed institutions besides their own <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">However, the federated settings generate a new major challenge, namely the statistical data heterogeneity across different participating clients  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. The data heterogeneity reflects that the data collected by different clients is not identically distributed (non-IID), which often appears in medical datasets from different sites, because of various reasons including different data acquisition protocols and different local demographics <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>. Data heterogeneity may lead to significant increase in communication rounds of the federated training, and inferior performance of the distributed optimization of federated models in certain clients (e.g. medical institutes) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>, which can further cost their incentives to participate in the federation.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In this work, we propose a federated learning algorithm for classification tasks, <span id="S1.p4.1.1" class="ltx_text ltx_font_italic">Federated Learning with Shared Label Distribution</span> (<span id="S1.p4.1.2" class="ltx_text ltx_font_typewriter">FedSLD</span>), which aims to utilize information regarding the clients’ label distribution, to estimate a general prior label distribution for the entire federation. We claim that <span id="S1.p4.1.3" class="ltx_text ltx_font_typewriter">FedSLD</span> can mitigate instability of training caused by the statistical heterogeneity of cross-silo FL, such as for medical research. While the algorithm does not access the clients’ data, we assume legitimate for the clients to share the number of samples in each class, which are often the case for cross-silo FL such as in medical applications. More specifically, our contribution in this work is two-fold:</p>
</div>
<div id="S1.p5" class="ltx_para">
<ol id="S1.I1" class="ltx_enumerate">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S1.I1.i1.1.1.1" class="ltx_text ltx_font_italic">i</span>)</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We propose a new FL algorithm for medical image classification: Federated Learning with Shared Label Distribution (<span id="S1.I1.i1.p1.1.1" class="ltx_text ltx_font_typewriter">FedSLD</span>), for robust training with non-IID data.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S1.I1.i2.1.1.1" class="ltx_text ltx_font_italic">ii</span>)</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We demonstrate that the proposed <span id="S1.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">FedSLD</span> achieves better performance than the leading FL algorithms by conducting extensive experiments on four publicly available datasets (including two benchmark datasets) under pathological non-IID and practical non-IID data partitions.</p>
</div>
</li>
</ol>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">The rest of the paper is organized as follows: Section <a href="#S2" title="2 Method ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> provides details of the proposed <span id="S1.p6.1.1" class="ltx_text ltx_font_typewriter">FedSLD</span>; experiments and results are shown in Section <a href="#S3" title="3 Experiments and Results ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>; Section <a href="#S4" title="4 Conclusion ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> discusses our findings and concludes the study.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Method</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Laws and restrictions in terms of the data privacy constrain the direct access to the raw data. Yet, there are other information regarding the dataset that can be shared in terms of the federated learning. For instance, <span id="S2.p1.1.1" class="ltx_text ltx_font_typewriter">FedAvg</span> assumes knowledge of the number of samples in each client: after the aggregation step in <span id="S2.p1.1.2" class="ltx_text ltx_font_typewriter">FedAvg</span>, the algorithm conducts a weighted average of the updated copies for the next round, and the weights used for the averaging, by default, are the normalized number of samples in each client.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">In this work, we focus on the classification tasks and assume legitimate to gain knowledge of the label distribution of each client, namely the number of samples from every class. We compute an estimate of the prior label distribution for the entire federation using the gain knowledge on the label distributions. For FL in medical applications, the label distributions from different medical silos can often be drastically different due to the regional demographics. Knowledge of the clients’ label distributions will help us better understand the non-IID data in the federation.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.12" class="ltx_p">To formulate the process, let us consider a federation with non-IID data. For a given data sample <math id="S2.p3.1.m1.2" class="ltx_Math" alttext="(x,y)" display="inline"><semantics id="S2.p3.1.m1.2a"><mrow id="S2.p3.1.m1.2.3.2" xref="S2.p3.1.m1.2.3.1.cmml"><mo stretchy="false" id="S2.p3.1.m1.2.3.2.1" xref="S2.p3.1.m1.2.3.1.cmml">(</mo><mi id="S2.p3.1.m1.1.1" xref="S2.p3.1.m1.1.1.cmml">x</mi><mo id="S2.p3.1.m1.2.3.2.2" xref="S2.p3.1.m1.2.3.1.cmml">,</mo><mi id="S2.p3.1.m1.2.2" xref="S2.p3.1.m1.2.2.cmml">y</mi><mo stretchy="false" id="S2.p3.1.m1.2.3.2.3" xref="S2.p3.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.1.m1.2b"><interval closure="open" id="S2.p3.1.m1.2.3.1.cmml" xref="S2.p3.1.m1.2.3.2"><ci id="S2.p3.1.m1.1.1.cmml" xref="S2.p3.1.m1.1.1">𝑥</ci><ci id="S2.p3.1.m1.2.2.cmml" xref="S2.p3.1.m1.2.2">𝑦</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.1.m1.2c">(x,y)</annotation></semantics></math>, where <math id="S2.p3.2.m2.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.p3.2.m2.1a"><mi id="S2.p3.2.m2.1.1" xref="S2.p3.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.p3.2.m2.1b"><ci id="S2.p3.2.m2.1.1.cmml" xref="S2.p3.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.2.m2.1c">x</annotation></semantics></math> stand for the data and <math id="S2.p3.3.m3.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S2.p3.3.m3.1a"><mi id="S2.p3.3.m3.1.1" xref="S2.p3.3.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.p3.3.m3.1b"><ci id="S2.p3.3.m3.1.1.cmml" xref="S2.p3.3.m3.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.3.m3.1c">y</annotation></semantics></math> represents the label, the probability that it appears in the dataset of client <math id="S2.p3.4.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.p3.4.m4.1a"><mi id="S2.p3.4.m4.1.1" xref="S2.p3.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.p3.4.m4.1b"><ci id="S2.p3.4.m4.1.1.cmml" xref="S2.p3.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.4.m4.1c">i</annotation></semantics></math>’s, <math id="S2.p3.5.m5.3" class="ltx_Math" alttext="\operatorname{\mathcal{P}}_{i}(x,y)" display="inline"><semantics id="S2.p3.5.m5.3a"><mrow id="S2.p3.5.m5.3.3.1" xref="S2.p3.5.m5.3.3.2.cmml"><msub id="S2.p3.5.m5.3.3.1.1" xref="S2.p3.5.m5.3.3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p3.5.m5.3.3.1.1.2" xref="S2.p3.5.m5.3.3.1.1.2.cmml">𝒫</mi><mi id="S2.p3.5.m5.3.3.1.1.3" xref="S2.p3.5.m5.3.3.1.1.3.cmml">i</mi></msub><mo id="S2.p3.5.m5.3.3.1a" xref="S2.p3.5.m5.3.3.2.cmml">⁡</mo><mrow id="S2.p3.5.m5.3.3.1.2" xref="S2.p3.5.m5.3.3.2.cmml"><mo stretchy="false" id="S2.p3.5.m5.3.3.1.2.1" xref="S2.p3.5.m5.3.3.2.cmml">(</mo><mi id="S2.p3.5.m5.1.1" xref="S2.p3.5.m5.1.1.cmml">x</mi><mo id="S2.p3.5.m5.3.3.1.2.2" xref="S2.p3.5.m5.3.3.2.cmml">,</mo><mi id="S2.p3.5.m5.2.2" xref="S2.p3.5.m5.2.2.cmml">y</mi><mo stretchy="false" id="S2.p3.5.m5.3.3.1.2.3" xref="S2.p3.5.m5.3.3.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.5.m5.3b"><apply id="S2.p3.5.m5.3.3.2.cmml" xref="S2.p3.5.m5.3.3.1"><apply id="S2.p3.5.m5.3.3.1.1.cmml" xref="S2.p3.5.m5.3.3.1.1"><csymbol cd="ambiguous" id="S2.p3.5.m5.3.3.1.1.1.cmml" xref="S2.p3.5.m5.3.3.1.1">subscript</csymbol><ci id="S2.p3.5.m5.3.3.1.1.2.cmml" xref="S2.p3.5.m5.3.3.1.1.2">𝒫</ci><ci id="S2.p3.5.m5.3.3.1.1.3.cmml" xref="S2.p3.5.m5.3.3.1.1.3">𝑖</ci></apply><ci id="S2.p3.5.m5.1.1.cmml" xref="S2.p3.5.m5.1.1">𝑥</ci><ci id="S2.p3.5.m5.2.2.cmml" xref="S2.p3.5.m5.2.2">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.5.m5.3c">\operatorname{\mathcal{P}}_{i}(x,y)</annotation></semantics></math>, does not necessarily equal to the probability of it to appear in the dataset of client <math id="S2.p3.6.m6.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S2.p3.6.m6.1a"><mi id="S2.p3.6.m6.1.1" xref="S2.p3.6.m6.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S2.p3.6.m6.1b"><ci id="S2.p3.6.m6.1.1.cmml" xref="S2.p3.6.m6.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.6.m6.1c">j</annotation></semantics></math>’s, <math id="S2.p3.7.m7.3" class="ltx_Math" alttext="\operatorname{\mathcal{P}}_{j}(x,y)" display="inline"><semantics id="S2.p3.7.m7.3a"><mrow id="S2.p3.7.m7.3.3.1" xref="S2.p3.7.m7.3.3.2.cmml"><msub id="S2.p3.7.m7.3.3.1.1" xref="S2.p3.7.m7.3.3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p3.7.m7.3.3.1.1.2" xref="S2.p3.7.m7.3.3.1.1.2.cmml">𝒫</mi><mi id="S2.p3.7.m7.3.3.1.1.3" xref="S2.p3.7.m7.3.3.1.1.3.cmml">j</mi></msub><mo id="S2.p3.7.m7.3.3.1a" xref="S2.p3.7.m7.3.3.2.cmml">⁡</mo><mrow id="S2.p3.7.m7.3.3.1.2" xref="S2.p3.7.m7.3.3.2.cmml"><mo stretchy="false" id="S2.p3.7.m7.3.3.1.2.1" xref="S2.p3.7.m7.3.3.2.cmml">(</mo><mi id="S2.p3.7.m7.1.1" xref="S2.p3.7.m7.1.1.cmml">x</mi><mo id="S2.p3.7.m7.3.3.1.2.2" xref="S2.p3.7.m7.3.3.2.cmml">,</mo><mi id="S2.p3.7.m7.2.2" xref="S2.p3.7.m7.2.2.cmml">y</mi><mo stretchy="false" id="S2.p3.7.m7.3.3.1.2.3" xref="S2.p3.7.m7.3.3.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.7.m7.3b"><apply id="S2.p3.7.m7.3.3.2.cmml" xref="S2.p3.7.m7.3.3.1"><apply id="S2.p3.7.m7.3.3.1.1.cmml" xref="S2.p3.7.m7.3.3.1.1"><csymbol cd="ambiguous" id="S2.p3.7.m7.3.3.1.1.1.cmml" xref="S2.p3.7.m7.3.3.1.1">subscript</csymbol><ci id="S2.p3.7.m7.3.3.1.1.2.cmml" xref="S2.p3.7.m7.3.3.1.1.2">𝒫</ci><ci id="S2.p3.7.m7.3.3.1.1.3.cmml" xref="S2.p3.7.m7.3.3.1.1.3">𝑗</ci></apply><ci id="S2.p3.7.m7.1.1.cmml" xref="S2.p3.7.m7.1.1">𝑥</ci><ci id="S2.p3.7.m7.2.2.cmml" xref="S2.p3.7.m7.2.2">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.7.m7.3c">\operatorname{\mathcal{P}}_{j}(x,y)</annotation></semantics></math>. By Bayes’ theorem, we have <math id="S2.p3.8.m8.8" class="ltx_Math" alttext="\operatorname{\mathcal{P}}_{i}(x|y)\operatorname{\mathcal{P}}_{i}(y)\neq\operatorname{\mathcal{P}}_{j}(x|y)\operatorname{\mathcal{P}}_{j}(y)" display="inline"><semantics id="S2.p3.8.m8.8a"><mrow id="S2.p3.8.m8.8.8" xref="S2.p3.8.m8.8.8.cmml"><mrow id="S2.p3.8.m8.5.5.3" xref="S2.p3.8.m8.5.5.3.cmml"><mrow id="S2.p3.8.m8.4.4.2.2.2" xref="S2.p3.8.m8.4.4.2.2.3.cmml"><msub id="S2.p3.8.m8.3.3.1.1.1.1" xref="S2.p3.8.m8.3.3.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p3.8.m8.3.3.1.1.1.1.2" xref="S2.p3.8.m8.3.3.1.1.1.1.2.cmml">𝒫</mi><mi id="S2.p3.8.m8.3.3.1.1.1.1.3" xref="S2.p3.8.m8.3.3.1.1.1.1.3.cmml">i</mi></msub><mo id="S2.p3.8.m8.4.4.2.2.2a" xref="S2.p3.8.m8.4.4.2.2.3.cmml">⁡</mo><mrow id="S2.p3.8.m8.4.4.2.2.2.2" xref="S2.p3.8.m8.4.4.2.2.3.cmml"><mo stretchy="false" id="S2.p3.8.m8.4.4.2.2.2.2.2" xref="S2.p3.8.m8.4.4.2.2.3.cmml">(</mo><mrow id="S2.p3.8.m8.4.4.2.2.2.2.1" xref="S2.p3.8.m8.4.4.2.2.2.2.1.cmml"><mi id="S2.p3.8.m8.4.4.2.2.2.2.1.2" xref="S2.p3.8.m8.4.4.2.2.2.2.1.2.cmml">x</mi><mo fence="false" id="S2.p3.8.m8.4.4.2.2.2.2.1.1" xref="S2.p3.8.m8.4.4.2.2.2.2.1.1.cmml">|</mo><mi id="S2.p3.8.m8.4.4.2.2.2.2.1.3" xref="S2.p3.8.m8.4.4.2.2.2.2.1.3.cmml">y</mi></mrow><mo stretchy="false" id="S2.p3.8.m8.4.4.2.2.2.2.3" xref="S2.p3.8.m8.4.4.2.2.3.cmml">)</mo></mrow></mrow><mo lspace="0.167em" rspace="0em" id="S2.p3.8.m8.5.5.3.4" xref="S2.p3.8.m8.5.5.3.4.cmml">​</mo><mrow id="S2.p3.8.m8.5.5.3.3.1" xref="S2.p3.8.m8.5.5.3.3.2.cmml"><msub id="S2.p3.8.m8.5.5.3.3.1.1" xref="S2.p3.8.m8.5.5.3.3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p3.8.m8.5.5.3.3.1.1.2" xref="S2.p3.8.m8.5.5.3.3.1.1.2.cmml">𝒫</mi><mi id="S2.p3.8.m8.5.5.3.3.1.1.3" xref="S2.p3.8.m8.5.5.3.3.1.1.3.cmml">i</mi></msub><mo id="S2.p3.8.m8.5.5.3.3.1a" xref="S2.p3.8.m8.5.5.3.3.2.cmml">⁡</mo><mrow id="S2.p3.8.m8.5.5.3.3.1.2" xref="S2.p3.8.m8.5.5.3.3.2.cmml"><mo stretchy="false" id="S2.p3.8.m8.5.5.3.3.1.2.1" xref="S2.p3.8.m8.5.5.3.3.2.cmml">(</mo><mi id="S2.p3.8.m8.1.1" xref="S2.p3.8.m8.1.1.cmml">y</mi><mo stretchy="false" id="S2.p3.8.m8.5.5.3.3.1.2.2" xref="S2.p3.8.m8.5.5.3.3.2.cmml">)</mo></mrow></mrow></mrow><mo id="S2.p3.8.m8.8.8.7" xref="S2.p3.8.m8.8.8.7.cmml">≠</mo><mrow id="S2.p3.8.m8.8.8.6" xref="S2.p3.8.m8.8.8.6.cmml"><mrow id="S2.p3.8.m8.7.7.5.2.2" xref="S2.p3.8.m8.7.7.5.2.3.cmml"><msub id="S2.p3.8.m8.6.6.4.1.1.1" xref="S2.p3.8.m8.6.6.4.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p3.8.m8.6.6.4.1.1.1.2" xref="S2.p3.8.m8.6.6.4.1.1.1.2.cmml">𝒫</mi><mi id="S2.p3.8.m8.6.6.4.1.1.1.3" xref="S2.p3.8.m8.6.6.4.1.1.1.3.cmml">j</mi></msub><mo id="S2.p3.8.m8.7.7.5.2.2a" xref="S2.p3.8.m8.7.7.5.2.3.cmml">⁡</mo><mrow id="S2.p3.8.m8.7.7.5.2.2.2" xref="S2.p3.8.m8.7.7.5.2.3.cmml"><mo stretchy="false" id="S2.p3.8.m8.7.7.5.2.2.2.2" xref="S2.p3.8.m8.7.7.5.2.3.cmml">(</mo><mrow id="S2.p3.8.m8.7.7.5.2.2.2.1" xref="S2.p3.8.m8.7.7.5.2.2.2.1.cmml"><mi id="S2.p3.8.m8.7.7.5.2.2.2.1.2" xref="S2.p3.8.m8.7.7.5.2.2.2.1.2.cmml">x</mi><mo fence="false" id="S2.p3.8.m8.7.7.5.2.2.2.1.1" xref="S2.p3.8.m8.7.7.5.2.2.2.1.1.cmml">|</mo><mi id="S2.p3.8.m8.7.7.5.2.2.2.1.3" xref="S2.p3.8.m8.7.7.5.2.2.2.1.3.cmml">y</mi></mrow><mo stretchy="false" id="S2.p3.8.m8.7.7.5.2.2.2.3" xref="S2.p3.8.m8.7.7.5.2.3.cmml">)</mo></mrow></mrow><mo lspace="0.167em" rspace="0em" id="S2.p3.8.m8.8.8.6.4" xref="S2.p3.8.m8.8.8.6.4.cmml">​</mo><mrow id="S2.p3.8.m8.8.8.6.3.1" xref="S2.p3.8.m8.8.8.6.3.2.cmml"><msub id="S2.p3.8.m8.8.8.6.3.1.1" xref="S2.p3.8.m8.8.8.6.3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p3.8.m8.8.8.6.3.1.1.2" xref="S2.p3.8.m8.8.8.6.3.1.1.2.cmml">𝒫</mi><mi id="S2.p3.8.m8.8.8.6.3.1.1.3" xref="S2.p3.8.m8.8.8.6.3.1.1.3.cmml">j</mi></msub><mo id="S2.p3.8.m8.8.8.6.3.1a" xref="S2.p3.8.m8.8.8.6.3.2.cmml">⁡</mo><mrow id="S2.p3.8.m8.8.8.6.3.1.2" xref="S2.p3.8.m8.8.8.6.3.2.cmml"><mo stretchy="false" id="S2.p3.8.m8.8.8.6.3.1.2.1" xref="S2.p3.8.m8.8.8.6.3.2.cmml">(</mo><mi id="S2.p3.8.m8.2.2" xref="S2.p3.8.m8.2.2.cmml">y</mi><mo stretchy="false" id="S2.p3.8.m8.8.8.6.3.1.2.2" xref="S2.p3.8.m8.8.8.6.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.8.m8.8b"><apply id="S2.p3.8.m8.8.8.cmml" xref="S2.p3.8.m8.8.8"><neq id="S2.p3.8.m8.8.8.7.cmml" xref="S2.p3.8.m8.8.8.7"></neq><apply id="S2.p3.8.m8.5.5.3.cmml" xref="S2.p3.8.m8.5.5.3"><times id="S2.p3.8.m8.5.5.3.4.cmml" xref="S2.p3.8.m8.5.5.3.4"></times><apply id="S2.p3.8.m8.4.4.2.2.3.cmml" xref="S2.p3.8.m8.4.4.2.2.2"><apply id="S2.p3.8.m8.3.3.1.1.1.1.cmml" xref="S2.p3.8.m8.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S2.p3.8.m8.3.3.1.1.1.1.1.cmml" xref="S2.p3.8.m8.3.3.1.1.1.1">subscript</csymbol><ci id="S2.p3.8.m8.3.3.1.1.1.1.2.cmml" xref="S2.p3.8.m8.3.3.1.1.1.1.2">𝒫</ci><ci id="S2.p3.8.m8.3.3.1.1.1.1.3.cmml" xref="S2.p3.8.m8.3.3.1.1.1.1.3">𝑖</ci></apply><apply id="S2.p3.8.m8.4.4.2.2.2.2.1.cmml" xref="S2.p3.8.m8.4.4.2.2.2.2.1"><csymbol cd="latexml" id="S2.p3.8.m8.4.4.2.2.2.2.1.1.cmml" xref="S2.p3.8.m8.4.4.2.2.2.2.1.1">conditional</csymbol><ci id="S2.p3.8.m8.4.4.2.2.2.2.1.2.cmml" xref="S2.p3.8.m8.4.4.2.2.2.2.1.2">𝑥</ci><ci id="S2.p3.8.m8.4.4.2.2.2.2.1.3.cmml" xref="S2.p3.8.m8.4.4.2.2.2.2.1.3">𝑦</ci></apply></apply><apply id="S2.p3.8.m8.5.5.3.3.2.cmml" xref="S2.p3.8.m8.5.5.3.3.1"><apply id="S2.p3.8.m8.5.5.3.3.1.1.cmml" xref="S2.p3.8.m8.5.5.3.3.1.1"><csymbol cd="ambiguous" id="S2.p3.8.m8.5.5.3.3.1.1.1.cmml" xref="S2.p3.8.m8.5.5.3.3.1.1">subscript</csymbol><ci id="S2.p3.8.m8.5.5.3.3.1.1.2.cmml" xref="S2.p3.8.m8.5.5.3.3.1.1.2">𝒫</ci><ci id="S2.p3.8.m8.5.5.3.3.1.1.3.cmml" xref="S2.p3.8.m8.5.5.3.3.1.1.3">𝑖</ci></apply><ci id="S2.p3.8.m8.1.1.cmml" xref="S2.p3.8.m8.1.1">𝑦</ci></apply></apply><apply id="S2.p3.8.m8.8.8.6.cmml" xref="S2.p3.8.m8.8.8.6"><times id="S2.p3.8.m8.8.8.6.4.cmml" xref="S2.p3.8.m8.8.8.6.4"></times><apply id="S2.p3.8.m8.7.7.5.2.3.cmml" xref="S2.p3.8.m8.7.7.5.2.2"><apply id="S2.p3.8.m8.6.6.4.1.1.1.cmml" xref="S2.p3.8.m8.6.6.4.1.1.1"><csymbol cd="ambiguous" id="S2.p3.8.m8.6.6.4.1.1.1.1.cmml" xref="S2.p3.8.m8.6.6.4.1.1.1">subscript</csymbol><ci id="S2.p3.8.m8.6.6.4.1.1.1.2.cmml" xref="S2.p3.8.m8.6.6.4.1.1.1.2">𝒫</ci><ci id="S2.p3.8.m8.6.6.4.1.1.1.3.cmml" xref="S2.p3.8.m8.6.6.4.1.1.1.3">𝑗</ci></apply><apply id="S2.p3.8.m8.7.7.5.2.2.2.1.cmml" xref="S2.p3.8.m8.7.7.5.2.2.2.1"><csymbol cd="latexml" id="S2.p3.8.m8.7.7.5.2.2.2.1.1.cmml" xref="S2.p3.8.m8.7.7.5.2.2.2.1.1">conditional</csymbol><ci id="S2.p3.8.m8.7.7.5.2.2.2.1.2.cmml" xref="S2.p3.8.m8.7.7.5.2.2.2.1.2">𝑥</ci><ci id="S2.p3.8.m8.7.7.5.2.2.2.1.3.cmml" xref="S2.p3.8.m8.7.7.5.2.2.2.1.3">𝑦</ci></apply></apply><apply id="S2.p3.8.m8.8.8.6.3.2.cmml" xref="S2.p3.8.m8.8.8.6.3.1"><apply id="S2.p3.8.m8.8.8.6.3.1.1.cmml" xref="S2.p3.8.m8.8.8.6.3.1.1"><csymbol cd="ambiguous" id="S2.p3.8.m8.8.8.6.3.1.1.1.cmml" xref="S2.p3.8.m8.8.8.6.3.1.1">subscript</csymbol><ci id="S2.p3.8.m8.8.8.6.3.1.1.2.cmml" xref="S2.p3.8.m8.8.8.6.3.1.1.2">𝒫</ci><ci id="S2.p3.8.m8.8.8.6.3.1.1.3.cmml" xref="S2.p3.8.m8.8.8.6.3.1.1.3">𝑗</ci></apply><ci id="S2.p3.8.m8.2.2.cmml" xref="S2.p3.8.m8.2.2">𝑦</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.8.m8.8c">\operatorname{\mathcal{P}}_{i}(x|y)\operatorname{\mathcal{P}}_{i}(y)\neq\operatorname{\mathcal{P}}_{j}(x|y)\operatorname{\mathcal{P}}_{j}(y)</annotation></semantics></math>. More often than not, especially in medical imaging domain, non-IID data implicitly implies that both the label-conditioned probabilities, <math id="S2.p3.9.m9.2" class="ltx_Math" alttext="\operatorname{\mathcal{P}}(x|y)" display="inline"><semantics id="S2.p3.9.m9.2a"><mrow id="S2.p3.9.m9.2.2.1" xref="S2.p3.9.m9.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p3.9.m9.1.1" xref="S2.p3.9.m9.1.1.cmml">𝒫</mi><mo id="S2.p3.9.m9.2.2.1a" xref="S2.p3.9.m9.2.2.2.cmml">⁡</mo><mrow id="S2.p3.9.m9.2.2.1.1" xref="S2.p3.9.m9.2.2.2.cmml"><mo stretchy="false" id="S2.p3.9.m9.2.2.1.1.2" xref="S2.p3.9.m9.2.2.2.cmml">(</mo><mrow id="S2.p3.9.m9.2.2.1.1.1" xref="S2.p3.9.m9.2.2.1.1.1.cmml"><mi id="S2.p3.9.m9.2.2.1.1.1.2" xref="S2.p3.9.m9.2.2.1.1.1.2.cmml">x</mi><mo fence="false" id="S2.p3.9.m9.2.2.1.1.1.1" xref="S2.p3.9.m9.2.2.1.1.1.1.cmml">|</mo><mi id="S2.p3.9.m9.2.2.1.1.1.3" xref="S2.p3.9.m9.2.2.1.1.1.3.cmml">y</mi></mrow><mo stretchy="false" id="S2.p3.9.m9.2.2.1.1.3" xref="S2.p3.9.m9.2.2.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.9.m9.2b"><apply id="S2.p3.9.m9.2.2.2.cmml" xref="S2.p3.9.m9.2.2.1"><ci id="S2.p3.9.m9.1.1.cmml" xref="S2.p3.9.m9.1.1">𝒫</ci><apply id="S2.p3.9.m9.2.2.1.1.1.cmml" xref="S2.p3.9.m9.2.2.1.1.1"><csymbol cd="latexml" id="S2.p3.9.m9.2.2.1.1.1.1.cmml" xref="S2.p3.9.m9.2.2.1.1.1.1">conditional</csymbol><ci id="S2.p3.9.m9.2.2.1.1.1.2.cmml" xref="S2.p3.9.m9.2.2.1.1.1.2">𝑥</ci><ci id="S2.p3.9.m9.2.2.1.1.1.3.cmml" xref="S2.p3.9.m9.2.2.1.1.1.3">𝑦</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.9.m9.2c">\operatorname{\mathcal{P}}(x|y)</annotation></semantics></math>, and the marginal label distributions, <math id="S2.p3.10.m10.2" class="ltx_Math" alttext="\operatorname{\mathcal{P}}(y)" display="inline"><semantics id="S2.p3.10.m10.2a"><mrow id="S2.p3.10.m10.2.3.2" xref="S2.p3.10.m10.2.3.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p3.10.m10.1.1" xref="S2.p3.10.m10.1.1.cmml">𝒫</mi><mo id="S2.p3.10.m10.2.3.2a" xref="S2.p3.10.m10.2.3.1.cmml">⁡</mo><mrow id="S2.p3.10.m10.2.3.2.1" xref="S2.p3.10.m10.2.3.1.cmml"><mo stretchy="false" id="S2.p3.10.m10.2.3.2.1.1" xref="S2.p3.10.m10.2.3.1.cmml">(</mo><mi id="S2.p3.10.m10.2.2" xref="S2.p3.10.m10.2.2.cmml">y</mi><mo stretchy="false" id="S2.p3.10.m10.2.3.2.1.2" xref="S2.p3.10.m10.2.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.10.m10.2b"><apply id="S2.p3.10.m10.2.3.1.cmml" xref="S2.p3.10.m10.2.3.2"><ci id="S2.p3.10.m10.1.1.cmml" xref="S2.p3.10.m10.1.1">𝒫</ci><ci id="S2.p3.10.m10.2.2.cmml" xref="S2.p3.10.m10.2.2">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.10.m10.2c">\operatorname{\mathcal{P}}(y)</annotation></semantics></math>, are different for different clients. In this work, we focus on acquiring the information reflecting the marginal label distribution <math id="S2.p3.11.m11.2" class="ltx_Math" alttext="\operatorname{\mathcal{P}}_{i}(y)" display="inline"><semantics id="S2.p3.11.m11.2a"><mrow id="S2.p3.11.m11.2.2.1" xref="S2.p3.11.m11.2.2.2.cmml"><msub id="S2.p3.11.m11.2.2.1.1" xref="S2.p3.11.m11.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p3.11.m11.2.2.1.1.2" xref="S2.p3.11.m11.2.2.1.1.2.cmml">𝒫</mi><mi id="S2.p3.11.m11.2.2.1.1.3" xref="S2.p3.11.m11.2.2.1.1.3.cmml">i</mi></msub><mo id="S2.p3.11.m11.2.2.1a" xref="S2.p3.11.m11.2.2.2.cmml">⁡</mo><mrow id="S2.p3.11.m11.2.2.1.2" xref="S2.p3.11.m11.2.2.2.cmml"><mo stretchy="false" id="S2.p3.11.m11.2.2.1.2.1" xref="S2.p3.11.m11.2.2.2.cmml">(</mo><mi id="S2.p3.11.m11.1.1" xref="S2.p3.11.m11.1.1.cmml">y</mi><mo stretchy="false" id="S2.p3.11.m11.2.2.1.2.2" xref="S2.p3.11.m11.2.2.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.11.m11.2b"><apply id="S2.p3.11.m11.2.2.2.cmml" xref="S2.p3.11.m11.2.2.1"><apply id="S2.p3.11.m11.2.2.1.1.cmml" xref="S2.p3.11.m11.2.2.1.1"><csymbol cd="ambiguous" id="S2.p3.11.m11.2.2.1.1.1.cmml" xref="S2.p3.11.m11.2.2.1.1">subscript</csymbol><ci id="S2.p3.11.m11.2.2.1.1.2.cmml" xref="S2.p3.11.m11.2.2.1.1.2">𝒫</ci><ci id="S2.p3.11.m11.2.2.1.1.3.cmml" xref="S2.p3.11.m11.2.2.1.1.3">𝑖</ci></apply><ci id="S2.p3.11.m11.1.1.cmml" xref="S2.p3.11.m11.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.11.m11.2c">\operatorname{\mathcal{P}}_{i}(y)</annotation></semantics></math> for each client (<math id="S2.p3.12.m12.4" class="ltx_Math" alttext="i=1,2,...,N" display="inline"><semantics id="S2.p3.12.m12.4a"><mrow id="S2.p3.12.m12.4.5" xref="S2.p3.12.m12.4.5.cmml"><mi id="S2.p3.12.m12.4.5.2" xref="S2.p3.12.m12.4.5.2.cmml">i</mi><mo id="S2.p3.12.m12.4.5.1" xref="S2.p3.12.m12.4.5.1.cmml">=</mo><mrow id="S2.p3.12.m12.4.5.3.2" xref="S2.p3.12.m12.4.5.3.1.cmml"><mn id="S2.p3.12.m12.1.1" xref="S2.p3.12.m12.1.1.cmml">1</mn><mo id="S2.p3.12.m12.4.5.3.2.1" xref="S2.p3.12.m12.4.5.3.1.cmml">,</mo><mn id="S2.p3.12.m12.2.2" xref="S2.p3.12.m12.2.2.cmml">2</mn><mo id="S2.p3.12.m12.4.5.3.2.2" xref="S2.p3.12.m12.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="S2.p3.12.m12.3.3" xref="S2.p3.12.m12.3.3.cmml">…</mi><mo id="S2.p3.12.m12.4.5.3.2.3" xref="S2.p3.12.m12.4.5.3.1.cmml">,</mo><mi id="S2.p3.12.m12.4.4" xref="S2.p3.12.m12.4.4.cmml">N</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.12.m12.4b"><apply id="S2.p3.12.m12.4.5.cmml" xref="S2.p3.12.m12.4.5"><eq id="S2.p3.12.m12.4.5.1.cmml" xref="S2.p3.12.m12.4.5.1"></eq><ci id="S2.p3.12.m12.4.5.2.cmml" xref="S2.p3.12.m12.4.5.2">𝑖</ci><list id="S2.p3.12.m12.4.5.3.1.cmml" xref="S2.p3.12.m12.4.5.3.2"><cn type="integer" id="S2.p3.12.m12.1.1.cmml" xref="S2.p3.12.m12.1.1">1</cn><cn type="integer" id="S2.p3.12.m12.2.2.cmml" xref="S2.p3.12.m12.2.2">2</cn><ci id="S2.p3.12.m12.3.3.cmml" xref="S2.p3.12.m12.3.3">…</ci><ci id="S2.p3.12.m12.4.4.cmml" xref="S2.p3.12.m12.4.4">𝑁</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.12.m12.4c">i=1,2,...,N</annotation></semantics></math>), to compute the estimate of the prior label distribution for the entire federation.</p>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.10" class="ltx_p">We define the estimate for the prior of class <math id="S2.p4.1.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.p4.1.m1.1a"><mi id="S2.p4.1.m1.1.1" xref="S2.p4.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.p4.1.m1.1b"><ci id="S2.p4.1.m1.1.1.cmml" xref="S2.p4.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.1.m1.1c">c</annotation></semantics></math> for the federation, as the sum of the numbers of samples for class <math id="S2.p4.2.m2.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.p4.2.m2.1a"><mi id="S2.p4.2.m2.1.1" xref="S2.p4.2.m2.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.p4.2.m2.1b"><ci id="S2.p4.2.m2.1.1.cmml" xref="S2.p4.2.m2.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.2.m2.1c">c</annotation></semantics></math> in each client divided by the sum of the total number of samples in each client. This is shown in equation (<a href="#S2.E1" title="In 2 Method ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>), where <math id="S2.p4.3.m3.1" class="ltx_math_unparsed" alttext="\operatorname{\tilde{\mathcal{P}}}_{(}y=c)" display="inline"><semantics id="S2.p4.3.m3.1a"><mrow id="S2.p4.3.m3.1b"><msub id="S2.p4.3.m3.1.1"><mover accent="true" id="S2.p4.3.m3.1.1.2"><mi class="ltx_font_mathcaligraphic" id="S2.p4.3.m3.1.1.2.2">𝒫</mi><mo id="S2.p4.3.m3.1.1.2.1">~</mo></mover><mo stretchy="false" id="S2.p4.3.m3.1.1.3">(</mo></msub><mi id="S2.p4.3.m3.1.2">y</mi><mo id="S2.p4.3.m3.1.3">=</mo><mi id="S2.p4.3.m3.1.4">c</mi><mo stretchy="false" id="S2.p4.3.m3.1.5">)</mo></mrow><annotation encoding="application/x-tex" id="S2.p4.3.m3.1c">\operatorname{\tilde{\mathcal{P}}}_{(}y=c)</annotation></semantics></math> is the estimate prior of class <math id="S2.p4.4.m4.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.p4.4.m4.1a"><mi id="S2.p4.4.m4.1.1" xref="S2.p4.4.m4.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.p4.4.m4.1b"><ci id="S2.p4.4.m4.1.1.cmml" xref="S2.p4.4.m4.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.4.m4.1c">c</annotation></semantics></math>, <math id="S2.p4.5.m5.2" class="ltx_Math" alttext="n_{i,c}" display="inline"><semantics id="S2.p4.5.m5.2a"><msub id="S2.p4.5.m5.2.3" xref="S2.p4.5.m5.2.3.cmml"><mi id="S2.p4.5.m5.2.3.2" xref="S2.p4.5.m5.2.3.2.cmml">n</mi><mrow id="S2.p4.5.m5.2.2.2.4" xref="S2.p4.5.m5.2.2.2.3.cmml"><mi id="S2.p4.5.m5.1.1.1.1" xref="S2.p4.5.m5.1.1.1.1.cmml">i</mi><mo id="S2.p4.5.m5.2.2.2.4.1" xref="S2.p4.5.m5.2.2.2.3.cmml">,</mo><mi id="S2.p4.5.m5.2.2.2.2" xref="S2.p4.5.m5.2.2.2.2.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.p4.5.m5.2b"><apply id="S2.p4.5.m5.2.3.cmml" xref="S2.p4.5.m5.2.3"><csymbol cd="ambiguous" id="S2.p4.5.m5.2.3.1.cmml" xref="S2.p4.5.m5.2.3">subscript</csymbol><ci id="S2.p4.5.m5.2.3.2.cmml" xref="S2.p4.5.m5.2.3.2">𝑛</ci><list id="S2.p4.5.m5.2.2.2.3.cmml" xref="S2.p4.5.m5.2.2.2.4"><ci id="S2.p4.5.m5.1.1.1.1.cmml" xref="S2.p4.5.m5.1.1.1.1">𝑖</ci><ci id="S2.p4.5.m5.2.2.2.2.cmml" xref="S2.p4.5.m5.2.2.2.2">𝑐</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.5.m5.2c">n_{i,c}</annotation></semantics></math> is the number of samples from class <math id="S2.p4.6.m6.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.p4.6.m6.1a"><mi id="S2.p4.6.m6.1.1" xref="S2.p4.6.m6.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.p4.6.m6.1b"><ci id="S2.p4.6.m6.1.1.cmml" xref="S2.p4.6.m6.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.6.m6.1c">c</annotation></semantics></math> on client <math id="S2.p4.7.m7.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.p4.7.m7.1a"><mi id="S2.p4.7.m7.1.1" xref="S2.p4.7.m7.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.p4.7.m7.1b"><ci id="S2.p4.7.m7.1.1.cmml" xref="S2.p4.7.m7.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.7.m7.1c">i</annotation></semantics></math>, <math id="S2.p4.8.m8.1" class="ltx_Math" alttext="n_{i}" display="inline"><semantics id="S2.p4.8.m8.1a"><msub id="S2.p4.8.m8.1.1" xref="S2.p4.8.m8.1.1.cmml"><mi id="S2.p4.8.m8.1.1.2" xref="S2.p4.8.m8.1.1.2.cmml">n</mi><mi id="S2.p4.8.m8.1.1.3" xref="S2.p4.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p4.8.m8.1b"><apply id="S2.p4.8.m8.1.1.cmml" xref="S2.p4.8.m8.1.1"><csymbol cd="ambiguous" id="S2.p4.8.m8.1.1.1.cmml" xref="S2.p4.8.m8.1.1">subscript</csymbol><ci id="S2.p4.8.m8.1.1.2.cmml" xref="S2.p4.8.m8.1.1.2">𝑛</ci><ci id="S2.p4.8.m8.1.1.3.cmml" xref="S2.p4.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.8.m8.1c">n_{i}</annotation></semantics></math> is the total number of samples on client <math id="S2.p4.9.m9.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.p4.9.m9.1a"><mi id="S2.p4.9.m9.1.1" xref="S2.p4.9.m9.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.p4.9.m9.1b"><ci id="S2.p4.9.m9.1.1.cmml" xref="S2.p4.9.m9.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.9.m9.1c">i</annotation></semantics></math>, and <math id="S2.p4.10.m10.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.p4.10.m10.1a"><mi id="S2.p4.10.m10.1.1" xref="S2.p4.10.m10.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.p4.10.m10.1b"><ci id="S2.p4.10.m10.1.1.cmml" xref="S2.p4.10.m10.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.10.m10.1c">N</annotation></semantics></math> is the number of clients.</p>
</div>
<div id="S2.p5" class="ltx_para">
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.4" class="ltx_Math" alttext="\operatorname{\tilde{\mathcal{P}}}(y=c)=\frac{\sum_{i=1}^{N}n_{i,c}}{\sum_{i=1}^{N}n_{i}}" display="block"><semantics id="S2.E1.m1.4a"><mrow id="S2.E1.m1.4.4" xref="S2.E1.m1.4.4.cmml"><mrow id="S2.E1.m1.4.4.1.1" xref="S2.E1.m1.4.4.1.2.cmml"><mover accent="true" id="S2.E1.m1.3.3" xref="S2.E1.m1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.3.3.2" xref="S2.E1.m1.3.3.2.cmml">𝒫</mi><mo id="S2.E1.m1.3.3.1" xref="S2.E1.m1.3.3.1.cmml">~</mo></mover><mo id="S2.E1.m1.4.4.1.1a" xref="S2.E1.m1.4.4.1.2.cmml">⁡</mo><mrow id="S2.E1.m1.4.4.1.1.1" xref="S2.E1.m1.4.4.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.4.4.1.1.1.2" xref="S2.E1.m1.4.4.1.2.cmml">(</mo><mrow id="S2.E1.m1.4.4.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.cmml"><mi id="S2.E1.m1.4.4.1.1.1.1.2" xref="S2.E1.m1.4.4.1.1.1.1.2.cmml">y</mi><mo id="S2.E1.m1.4.4.1.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.1.cmml">=</mo><mi id="S2.E1.m1.4.4.1.1.1.1.3" xref="S2.E1.m1.4.4.1.1.1.1.3.cmml">c</mi></mrow><mo stretchy="false" id="S2.E1.m1.4.4.1.1.1.3" xref="S2.E1.m1.4.4.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.4.4.2" xref="S2.E1.m1.4.4.2.cmml">=</mo><mfrac id="S2.E1.m1.2.2" xref="S2.E1.m1.2.2.cmml"><mrow id="S2.E1.m1.2.2.2" xref="S2.E1.m1.2.2.2.cmml"><msubsup id="S2.E1.m1.2.2.2.3" xref="S2.E1.m1.2.2.2.3.cmml"><mo id="S2.E1.m1.2.2.2.3.2.2" xref="S2.E1.m1.2.2.2.3.2.2.cmml">∑</mo><mrow id="S2.E1.m1.2.2.2.3.2.3" xref="S2.E1.m1.2.2.2.3.2.3.cmml"><mi id="S2.E1.m1.2.2.2.3.2.3.2" xref="S2.E1.m1.2.2.2.3.2.3.2.cmml">i</mi><mo id="S2.E1.m1.2.2.2.3.2.3.1" xref="S2.E1.m1.2.2.2.3.2.3.1.cmml">=</mo><mn id="S2.E1.m1.2.2.2.3.2.3.3" xref="S2.E1.m1.2.2.2.3.2.3.3.cmml">1</mn></mrow><mi id="S2.E1.m1.2.2.2.3.3" xref="S2.E1.m1.2.2.2.3.3.cmml">N</mi></msubsup><msub id="S2.E1.m1.2.2.2.4" xref="S2.E1.m1.2.2.2.4.cmml"><mi id="S2.E1.m1.2.2.2.4.2" xref="S2.E1.m1.2.2.2.4.2.cmml">n</mi><mrow id="S2.E1.m1.2.2.2.2.2.4" xref="S2.E1.m1.2.2.2.2.2.3.cmml"><mi id="S2.E1.m1.1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.cmml">i</mi><mo id="S2.E1.m1.2.2.2.2.2.4.1" xref="S2.E1.m1.2.2.2.2.2.3.cmml">,</mo><mi id="S2.E1.m1.2.2.2.2.2.2" xref="S2.E1.m1.2.2.2.2.2.2.cmml">c</mi></mrow></msub></mrow><mrow id="S2.E1.m1.2.2.4" xref="S2.E1.m1.2.2.4.cmml"><msubsup id="S2.E1.m1.2.2.4.1" xref="S2.E1.m1.2.2.4.1.cmml"><mo id="S2.E1.m1.2.2.4.1.2.2" xref="S2.E1.m1.2.2.4.1.2.2.cmml">∑</mo><mrow id="S2.E1.m1.2.2.4.1.2.3" xref="S2.E1.m1.2.2.4.1.2.3.cmml"><mi id="S2.E1.m1.2.2.4.1.2.3.2" xref="S2.E1.m1.2.2.4.1.2.3.2.cmml">i</mi><mo id="S2.E1.m1.2.2.4.1.2.3.1" xref="S2.E1.m1.2.2.4.1.2.3.1.cmml">=</mo><mn id="S2.E1.m1.2.2.4.1.2.3.3" xref="S2.E1.m1.2.2.4.1.2.3.3.cmml">1</mn></mrow><mi id="S2.E1.m1.2.2.4.1.3" xref="S2.E1.m1.2.2.4.1.3.cmml">N</mi></msubsup><msub id="S2.E1.m1.2.2.4.2" xref="S2.E1.m1.2.2.4.2.cmml"><mi id="S2.E1.m1.2.2.4.2.2" xref="S2.E1.m1.2.2.4.2.2.cmml">n</mi><mi id="S2.E1.m1.2.2.4.2.3" xref="S2.E1.m1.2.2.4.2.3.cmml">i</mi></msub></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.4b"><apply id="S2.E1.m1.4.4.cmml" xref="S2.E1.m1.4.4"><eq id="S2.E1.m1.4.4.2.cmml" xref="S2.E1.m1.4.4.2"></eq><apply id="S2.E1.m1.4.4.1.2.cmml" xref="S2.E1.m1.4.4.1.1"><apply id="S2.E1.m1.3.3.cmml" xref="S2.E1.m1.3.3"><ci id="S2.E1.m1.3.3.1.cmml" xref="S2.E1.m1.3.3.1">~</ci><ci id="S2.E1.m1.3.3.2.cmml" xref="S2.E1.m1.3.3.2">𝒫</ci></apply><apply id="S2.E1.m1.4.4.1.1.1.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1"><eq id="S2.E1.m1.4.4.1.1.1.1.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1"></eq><ci id="S2.E1.m1.4.4.1.1.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.2">𝑦</ci><ci id="S2.E1.m1.4.4.1.1.1.1.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.3">𝑐</ci></apply></apply><apply id="S2.E1.m1.2.2.cmml" xref="S2.E1.m1.2.2"><divide id="S2.E1.m1.2.2.3.cmml" xref="S2.E1.m1.2.2"></divide><apply id="S2.E1.m1.2.2.2.cmml" xref="S2.E1.m1.2.2.2"><apply id="S2.E1.m1.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.3.1.cmml" xref="S2.E1.m1.2.2.2.3">superscript</csymbol><apply id="S2.E1.m1.2.2.2.3.2.cmml" xref="S2.E1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.3.2.1.cmml" xref="S2.E1.m1.2.2.2.3">subscript</csymbol><sum id="S2.E1.m1.2.2.2.3.2.2.cmml" xref="S2.E1.m1.2.2.2.3.2.2"></sum><apply id="S2.E1.m1.2.2.2.3.2.3.cmml" xref="S2.E1.m1.2.2.2.3.2.3"><eq id="S2.E1.m1.2.2.2.3.2.3.1.cmml" xref="S2.E1.m1.2.2.2.3.2.3.1"></eq><ci id="S2.E1.m1.2.2.2.3.2.3.2.cmml" xref="S2.E1.m1.2.2.2.3.2.3.2">𝑖</ci><cn type="integer" id="S2.E1.m1.2.2.2.3.2.3.3.cmml" xref="S2.E1.m1.2.2.2.3.2.3.3">1</cn></apply></apply><ci id="S2.E1.m1.2.2.2.3.3.cmml" xref="S2.E1.m1.2.2.2.3.3">𝑁</ci></apply><apply id="S2.E1.m1.2.2.2.4.cmml" xref="S2.E1.m1.2.2.2.4"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.4.1.cmml" xref="S2.E1.m1.2.2.2.4">subscript</csymbol><ci id="S2.E1.m1.2.2.2.4.2.cmml" xref="S2.E1.m1.2.2.2.4.2">𝑛</ci><list id="S2.E1.m1.2.2.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.2.2.4"><ci id="S2.E1.m1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1">𝑖</ci><ci id="S2.E1.m1.2.2.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2">𝑐</ci></list></apply></apply><apply id="S2.E1.m1.2.2.4.cmml" xref="S2.E1.m1.2.2.4"><apply id="S2.E1.m1.2.2.4.1.cmml" xref="S2.E1.m1.2.2.4.1"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.4.1.1.cmml" xref="S2.E1.m1.2.2.4.1">superscript</csymbol><apply id="S2.E1.m1.2.2.4.1.2.cmml" xref="S2.E1.m1.2.2.4.1"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.4.1.2.1.cmml" xref="S2.E1.m1.2.2.4.1">subscript</csymbol><sum id="S2.E1.m1.2.2.4.1.2.2.cmml" xref="S2.E1.m1.2.2.4.1.2.2"></sum><apply id="S2.E1.m1.2.2.4.1.2.3.cmml" xref="S2.E1.m1.2.2.4.1.2.3"><eq id="S2.E1.m1.2.2.4.1.2.3.1.cmml" xref="S2.E1.m1.2.2.4.1.2.3.1"></eq><ci id="S2.E1.m1.2.2.4.1.2.3.2.cmml" xref="S2.E1.m1.2.2.4.1.2.3.2">𝑖</ci><cn type="integer" id="S2.E1.m1.2.2.4.1.2.3.3.cmml" xref="S2.E1.m1.2.2.4.1.2.3.3">1</cn></apply></apply><ci id="S2.E1.m1.2.2.4.1.3.cmml" xref="S2.E1.m1.2.2.4.1.3">𝑁</ci></apply><apply id="S2.E1.m1.2.2.4.2.cmml" xref="S2.E1.m1.2.2.4.2"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.4.2.1.cmml" xref="S2.E1.m1.2.2.4.2">subscript</csymbol><ci id="S2.E1.m1.2.2.4.2.2.cmml" xref="S2.E1.m1.2.2.4.2.2">𝑛</ci><ci id="S2.E1.m1.2.2.4.2.3.cmml" xref="S2.E1.m1.2.2.4.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.4c">\operatorname{\tilde{\mathcal{P}}}(y=c)=\frac{\sum_{i=1}^{N}n_{i,c}}{\sum_{i=1}^{N}n_{i}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.p6" class="ltx_para">
<p id="S2.p6.6" class="ltx_p">During local update of the current model on a client, given a batch of data <math id="S2.p6.1.m1.1" class="ltx_Math" alttext="\{(x_{k},y_{k})\}_{k=1}^{B}" display="inline"><semantics id="S2.p6.1.m1.1a"><msubsup id="S2.p6.1.m1.1.1" xref="S2.p6.1.m1.1.1.cmml"><mrow id="S2.p6.1.m1.1.1.1.1.1" xref="S2.p6.1.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.p6.1.m1.1.1.1.1.1.2" xref="S2.p6.1.m1.1.1.1.1.2.cmml">{</mo><mrow id="S2.p6.1.m1.1.1.1.1.1.1.2" xref="S2.p6.1.m1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S2.p6.1.m1.1.1.1.1.1.1.2.3" xref="S2.p6.1.m1.1.1.1.1.1.1.3.cmml">(</mo><msub id="S2.p6.1.m1.1.1.1.1.1.1.1.1" xref="S2.p6.1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.p6.1.m1.1.1.1.1.1.1.1.1.2" xref="S2.p6.1.m1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.p6.1.m1.1.1.1.1.1.1.1.1.3" xref="S2.p6.1.m1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S2.p6.1.m1.1.1.1.1.1.1.2.4" xref="S2.p6.1.m1.1.1.1.1.1.1.3.cmml">,</mo><msub id="S2.p6.1.m1.1.1.1.1.1.1.2.2" xref="S2.p6.1.m1.1.1.1.1.1.1.2.2.cmml"><mi id="S2.p6.1.m1.1.1.1.1.1.1.2.2.2" xref="S2.p6.1.m1.1.1.1.1.1.1.2.2.2.cmml">y</mi><mi id="S2.p6.1.m1.1.1.1.1.1.1.2.2.3" xref="S2.p6.1.m1.1.1.1.1.1.1.2.2.3.cmml">k</mi></msub><mo stretchy="false" id="S2.p6.1.m1.1.1.1.1.1.1.2.5" xref="S2.p6.1.m1.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo stretchy="false" id="S2.p6.1.m1.1.1.1.1.1.3" xref="S2.p6.1.m1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.p6.1.m1.1.1.1.3" xref="S2.p6.1.m1.1.1.1.3.cmml"><mi id="S2.p6.1.m1.1.1.1.3.2" xref="S2.p6.1.m1.1.1.1.3.2.cmml">k</mi><mo id="S2.p6.1.m1.1.1.1.3.1" xref="S2.p6.1.m1.1.1.1.3.1.cmml">=</mo><mn id="S2.p6.1.m1.1.1.1.3.3" xref="S2.p6.1.m1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.p6.1.m1.1.1.3" xref="S2.p6.1.m1.1.1.3.cmml">B</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.p6.1.m1.1b"><apply id="S2.p6.1.m1.1.1.cmml" xref="S2.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S2.p6.1.m1.1.1.2.cmml" xref="S2.p6.1.m1.1.1">superscript</csymbol><apply id="S2.p6.1.m1.1.1.1.cmml" xref="S2.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S2.p6.1.m1.1.1.1.2.cmml" xref="S2.p6.1.m1.1.1">subscript</csymbol><set id="S2.p6.1.m1.1.1.1.1.2.cmml" xref="S2.p6.1.m1.1.1.1.1.1"><interval closure="open" id="S2.p6.1.m1.1.1.1.1.1.1.3.cmml" xref="S2.p6.1.m1.1.1.1.1.1.1.2"><apply id="S2.p6.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.p6.1.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.p6.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.p6.1.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.p6.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.p6.1.m1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S2.p6.1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.p6.1.m1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S2.p6.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S2.p6.1.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.p6.1.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.p6.1.m1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S2.p6.1.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.p6.1.m1.1.1.1.1.1.1.2.2.2">𝑦</ci><ci id="S2.p6.1.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S2.p6.1.m1.1.1.1.1.1.1.2.2.3">𝑘</ci></apply></interval></set><apply id="S2.p6.1.m1.1.1.1.3.cmml" xref="S2.p6.1.m1.1.1.1.3"><eq id="S2.p6.1.m1.1.1.1.3.1.cmml" xref="S2.p6.1.m1.1.1.1.3.1"></eq><ci id="S2.p6.1.m1.1.1.1.3.2.cmml" xref="S2.p6.1.m1.1.1.1.3.2">𝑘</ci><cn type="integer" id="S2.p6.1.m1.1.1.1.3.3.cmml" xref="S2.p6.1.m1.1.1.1.3.3">1</cn></apply></apply><ci id="S2.p6.1.m1.1.1.3.cmml" xref="S2.p6.1.m1.1.1.3">𝐵</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.1.m1.1c">\{(x_{k},y_{k})\}_{k=1}^{B}</annotation></semantics></math>, where <math id="S2.p6.2.m2.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S2.p6.2.m2.1a"><mi id="S2.p6.2.m2.1.1" xref="S2.p6.2.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S2.p6.2.m2.1b"><ci id="S2.p6.2.m2.1.1.cmml" xref="S2.p6.2.m2.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.2.m2.1c">B</annotation></semantics></math> is the batch size, we first compute the label distribution in this batch as in equation (<a href="#S2.E2" title="In 2 Method ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>), where the <math id="S2.p6.3.m3.1" class="ltx_Math" alttext="p_{b}" display="inline"><semantics id="S2.p6.3.m3.1a"><msub id="S2.p6.3.m3.1.1" xref="S2.p6.3.m3.1.1.cmml"><mi id="S2.p6.3.m3.1.1.2" xref="S2.p6.3.m3.1.1.2.cmml">p</mi><mi id="S2.p6.3.m3.1.1.3" xref="S2.p6.3.m3.1.1.3.cmml">b</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p6.3.m3.1b"><apply id="S2.p6.3.m3.1.1.cmml" xref="S2.p6.3.m3.1.1"><csymbol cd="ambiguous" id="S2.p6.3.m3.1.1.1.cmml" xref="S2.p6.3.m3.1.1">subscript</csymbol><ci id="S2.p6.3.m3.1.1.2.cmml" xref="S2.p6.3.m3.1.1.2">𝑝</ci><ci id="S2.p6.3.m3.1.1.3.cmml" xref="S2.p6.3.m3.1.1.3">𝑏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.3.m3.1c">p_{b}</annotation></semantics></math> represents the label distribution, <math id="S2.p6.4.m4.1" class="ltx_Math" alttext="\llbracket\cdot\rrbracket" display="inline"><semantics id="S2.p6.4.m4.1a"><mrow id="S2.p6.4.m4.1.2.2" xref="S2.p6.4.m4.1.2.1.cmml"><mo stretchy="false" id="S2.p6.4.m4.1.2.2.1" xref="S2.p6.4.m4.1.2.1.1.cmml">⟦</mo><mo lspace="0em" rspace="0em" id="S2.p6.4.m4.1.1" xref="S2.p6.4.m4.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.p6.4.m4.1.2.2.2" xref="S2.p6.4.m4.1.2.1.1.cmml">⟧</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p6.4.m4.1b"><apply id="S2.p6.4.m4.1.2.1.cmml" xref="S2.p6.4.m4.1.2.2"><csymbol cd="latexml" id="S2.p6.4.m4.1.2.1.1.cmml" xref="S2.p6.4.m4.1.2.2.1">delimited-⟦⟧</csymbol><ci id="S2.p6.4.m4.1.1.cmml" xref="S2.p6.4.m4.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.4.m4.1c">\llbracket\cdot\rrbracket</annotation></semantics></math> means the indicator faction, with its value equal to 1 if the inner part is true, and 0 otherwise. In essence, Equation (<a href="#S2.E2" title="In 2 Method ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>) computes the proportion of class <math id="S2.p6.5.m5.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.p6.5.m5.1a"><mi id="S2.p6.5.m5.1.1" xref="S2.p6.5.m5.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.p6.5.m5.1b"><ci id="S2.p6.5.m5.1.1.cmml" xref="S2.p6.5.m5.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.5.m5.1c">c</annotation></semantics></math> samples in the batch by normalizing the number of class <math id="S2.p6.6.m6.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.p6.6.m6.1a"><mi id="S2.p6.6.m6.1.1" xref="S2.p6.6.m6.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.p6.6.m6.1b"><ci id="S2.p6.6.m6.1.1.cmml" xref="S2.p6.6.m6.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.6.m6.1c">c</annotation></semantics></math> samples in this batch.</p>
</div>
<div id="S2.p7" class="ltx_para">
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.1" class="ltx_math_unparsed" alttext="p_{b}(y=c)=\frac{\sum_{k=1}^{B}\llbracket y_{k}=c\rrbracket}{B}" display="block"><semantics id="S2.E2.m1.1a"><mrow id="S2.E2.m1.1.1"><mrow id="S2.E2.m1.1.1.1"><msub id="S2.E2.m1.1.1.1.3"><mi id="S2.E2.m1.1.1.1.3.2">p</mi><mi id="S2.E2.m1.1.1.1.3.3">b</mi></msub><mo lspace="0em" rspace="0em" id="S2.E2.m1.1.1.1.2">​</mo><mrow id="S2.E2.m1.1.1.1.1.1"><mo stretchy="false" id="S2.E2.m1.1.1.1.1.1.2">(</mo><mrow id="S2.E2.m1.1.1.1.1.1.1"><mi id="S2.E2.m1.1.1.1.1.1.1.2">y</mi><mo id="S2.E2.m1.1.1.1.1.1.1.1">=</mo><mi id="S2.E2.m1.1.1.1.1.1.1.3">c</mi></mrow><mo stretchy="false" id="S2.E2.m1.1.1.1.1.1.3">)</mo></mrow></mrow><mo id="S2.E2.m1.1.1.2">=</mo><mfrac id="S2.E2.m1.1.1.3"><mrow id="S2.E2.m1.1.1.3.2"><msubsup id="S2.E2.m1.1.1.3.2.1"><mo id="S2.E2.m1.1.1.3.2.1.2.2">∑</mo><mrow id="S2.E2.m1.1.1.3.2.1.2.3"><mi id="S2.E2.m1.1.1.3.2.1.2.3.2">k</mi><mo id="S2.E2.m1.1.1.3.2.1.2.3.1">=</mo><mn id="S2.E2.m1.1.1.3.2.1.2.3.3">1</mn></mrow><mi id="S2.E2.m1.1.1.3.2.1.3">B</mi></msubsup><mrow id="S2.E2.m1.1.1.3.2.2"><mo lspace="0em" stretchy="false" id="S2.E2.m1.1.1.3.2.2.1">⟦</mo><msub id="S2.E2.m1.1.1.3.2.2.2"><mi id="S2.E2.m1.1.1.3.2.2.2.2">y</mi><mi id="S2.E2.m1.1.1.3.2.2.2.3">k</mi></msub><mo id="S2.E2.m1.1.1.3.2.2.3">=</mo><mi id="S2.E2.m1.1.1.3.2.2.4">c</mi><mo stretchy="false" id="S2.E2.m1.1.1.3.2.2.5">⟧</mo></mrow></mrow><mi id="S2.E2.m1.1.1.3.3">B</mi></mfrac></mrow><annotation encoding="application/x-tex" id="S2.E2.m1.1b">p_{b}(y=c)=\frac{\sum_{k=1}^{B}\llbracket y_{k}=c\rrbracket}{B}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.p8" class="ltx_para">
<table id="S2.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E3.m1.6" class="ltx_math_unparsed" alttext="\mathcal{L}_{b}\left(\big{\{}(x_{k},y_{k})\big{\}}_{k=1}^{B}\right)=-\sum_{k=1}^{B}\left(\frac{p_{b}(y=y_{k})}{\operatorname{\tilde{\mathcal{P}}}(y=y_{k})}\cdot\sum_{c=1}^{C}y_{k,c}\log\left(f_{i}(x_{k})\right)_{c}\right)" display="block"><semantics id="S2.E3.m1.6a"><mrow id="S2.E3.m1.6b"><msub id="S2.E3.m1.6.7"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.6.7.2">ℒ</mi><mi id="S2.E3.m1.6.7.3">b</mi></msub><mrow id="S2.E3.m1.6.8"><mo id="S2.E3.m1.6.8.1">(</mo><msubsup id="S2.E3.m1.6.8.2"><mrow id="S2.E3.m1.6.8.2.2.2"><mo maxsize="120%" minsize="120%" id="S2.E3.m1.6.8.2.2.2.1">{</mo><mrow id="S2.E3.m1.6.8.2.2.2.2"><mo stretchy="false" id="S2.E3.m1.6.8.2.2.2.2.1">(</mo><msub id="S2.E3.m1.6.8.2.2.2.2.2"><mi id="S2.E3.m1.6.8.2.2.2.2.2.2">x</mi><mi id="S2.E3.m1.6.8.2.2.2.2.2.3">k</mi></msub><mo id="S2.E3.m1.6.8.2.2.2.2.3">,</mo><msub id="S2.E3.m1.6.8.2.2.2.2.4"><mi id="S2.E3.m1.6.8.2.2.2.2.4.2">y</mi><mi id="S2.E3.m1.6.8.2.2.2.2.4.3">k</mi></msub><mo stretchy="false" id="S2.E3.m1.6.8.2.2.2.2.5">)</mo></mrow><mo maxsize="120%" minsize="120%" id="S2.E3.m1.6.8.2.2.2.3">}</mo></mrow><mrow id="S2.E3.m1.6.8.2.2.3"><mi id="S2.E3.m1.6.8.2.2.3.2">k</mi><mo id="S2.E3.m1.6.8.2.2.3.1">=</mo><mn id="S2.E3.m1.6.8.2.2.3.3">1</mn></mrow><mi id="S2.E3.m1.6.8.2.3">B</mi></msubsup><mo id="S2.E3.m1.6.8.3">)</mo></mrow><mo rspace="0em" id="S2.E3.m1.6.9">=</mo><mo lspace="0em" rspace="0.055em" id="S2.E3.m1.6.10">−</mo><munderover id="S2.E3.m1.6.11"><mo movablelimits="false" rspace="0em" id="S2.E3.m1.6.11.2.2">∑</mo><mrow id="S2.E3.m1.6.11.2.3"><mi id="S2.E3.m1.6.11.2.3.2">k</mi><mo id="S2.E3.m1.6.11.2.3.1">=</mo><mn id="S2.E3.m1.6.11.2.3.3">1</mn></mrow><mi id="S2.E3.m1.6.11.3">B</mi></munderover><mrow id="S2.E3.m1.6.12"><mo id="S2.E3.m1.6.12.1">(</mo><mfrac id="S2.E3.m1.3.3"><mrow id="S2.E3.m1.1.1.1"><msub id="S2.E3.m1.1.1.1.3"><mi id="S2.E3.m1.1.1.1.3.2">p</mi><mi id="S2.E3.m1.1.1.1.3.3">b</mi></msub><mo lspace="0em" rspace="0em" id="S2.E3.m1.1.1.1.2">​</mo><mrow id="S2.E3.m1.1.1.1.1.1"><mo stretchy="false" id="S2.E3.m1.1.1.1.1.1.2">(</mo><mrow id="S2.E3.m1.1.1.1.1.1.1"><mi id="S2.E3.m1.1.1.1.1.1.1.2">y</mi><mo id="S2.E3.m1.1.1.1.1.1.1.1">=</mo><msub id="S2.E3.m1.1.1.1.1.1.1.3"><mi id="S2.E3.m1.1.1.1.1.1.1.3.2">y</mi><mi id="S2.E3.m1.1.1.1.1.1.1.3.3">k</mi></msub></mrow><mo stretchy="false" id="S2.E3.m1.1.1.1.1.1.3">)</mo></mrow></mrow><mrow id="S2.E3.m1.3.3.3.2"><mover accent="true" id="S2.E3.m1.2.2.2.1"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.2.2.2.1.2">𝒫</mi><mo id="S2.E3.m1.2.2.2.1.1">~</mo></mover><mo id="S2.E3.m1.3.3.3.2a">⁡</mo><mrow id="S2.E3.m1.3.3.3.2.1"><mo stretchy="false" id="S2.E3.m1.3.3.3.2.1.2">(</mo><mrow id="S2.E3.m1.3.3.3.2.1.1"><mi id="S2.E3.m1.3.3.3.2.1.1.2">y</mi><mo id="S2.E3.m1.3.3.3.2.1.1.1">=</mo><msub id="S2.E3.m1.3.3.3.2.1.1.3"><mi id="S2.E3.m1.3.3.3.2.1.1.3.2">y</mi><mi id="S2.E3.m1.3.3.3.2.1.1.3.3">k</mi></msub></mrow><mo stretchy="false" id="S2.E3.m1.3.3.3.2.1.3">)</mo></mrow></mrow></mfrac><mo lspace="0.222em" rspace="0.055em" id="S2.E3.m1.6.12.2">⋅</mo><munderover id="S2.E3.m1.6.12.3"><mo movablelimits="false" id="S2.E3.m1.6.12.3.2.2">∑</mo><mrow id="S2.E3.m1.6.12.3.2.3"><mi id="S2.E3.m1.6.12.3.2.3.2">c</mi><mo id="S2.E3.m1.6.12.3.2.3.1">=</mo><mn id="S2.E3.m1.6.12.3.2.3.3">1</mn></mrow><mi id="S2.E3.m1.6.12.3.3">C</mi></munderover><msub id="S2.E3.m1.6.12.4"><mi id="S2.E3.m1.6.12.4.2">y</mi><mrow id="S2.E3.m1.5.5.2.4"><mi id="S2.E3.m1.4.4.1.1">k</mi><mo id="S2.E3.m1.5.5.2.4.1">,</mo><mi id="S2.E3.m1.5.5.2.2">c</mi></mrow></msub><mi id="S2.E3.m1.6.6">log</mi><msub id="S2.E3.m1.6.12.5"><mrow id="S2.E3.m1.6.12.5.2"><mo id="S2.E3.m1.6.12.5.2.1">(</mo><msub id="S2.E3.m1.6.12.5.2.2"><mi id="S2.E3.m1.6.12.5.2.2.2">f</mi><mi id="S2.E3.m1.6.12.5.2.2.3">i</mi></msub><mrow id="S2.E3.m1.6.12.5.2.3"><mo stretchy="false" id="S2.E3.m1.6.12.5.2.3.1">(</mo><msub id="S2.E3.m1.6.12.5.2.3.2"><mi id="S2.E3.m1.6.12.5.2.3.2.2">x</mi><mi id="S2.E3.m1.6.12.5.2.3.2.3">k</mi></msub><mo stretchy="false" id="S2.E3.m1.6.12.5.2.3.3">)</mo></mrow><mo id="S2.E3.m1.6.12.5.2.4">)</mo></mrow><mi id="S2.E3.m1.6.12.5.3">c</mi></msub><mo id="S2.E3.m1.6.12.6">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S2.E3.m1.6c">\mathcal{L}_{b}\left(\big{\{}(x_{k},y_{k})\big{\}}_{k=1}^{B}\right)=-\sum_{k=1}^{B}\left(\frac{p_{b}(y=y_{k})}{\operatorname{\tilde{\mathcal{P}}}(y=y_{k})}\cdot\sum_{c=1}^{C}y_{k,c}\log\left(f_{i}(x_{k})\right)_{c}\right)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.p9" class="ltx_para">
<p id="S2.p9.3" class="ltx_p">Then, we define the batch loss as a weighted cross-entropy loss, shown in Equation (<a href="#S2.E3" title="In 2 Method ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>), where <math id="S2.p9.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{b}" display="inline"><semantics id="S2.p9.1.m1.1a"><msub id="S2.p9.1.m1.1.1" xref="S2.p9.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p9.1.m1.1.1.2" xref="S2.p9.1.m1.1.1.2.cmml">ℒ</mi><mi id="S2.p9.1.m1.1.1.3" xref="S2.p9.1.m1.1.1.3.cmml">b</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p9.1.m1.1b"><apply id="S2.p9.1.m1.1.1.cmml" xref="S2.p9.1.m1.1.1"><csymbol cd="ambiguous" id="S2.p9.1.m1.1.1.1.cmml" xref="S2.p9.1.m1.1.1">subscript</csymbol><ci id="S2.p9.1.m1.1.1.2.cmml" xref="S2.p9.1.m1.1.1.2">ℒ</ci><ci id="S2.p9.1.m1.1.1.3.cmml" xref="S2.p9.1.m1.1.1.3">𝑏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p9.1.m1.1c">\mathcal{L}_{b}</annotation></semantics></math> means the batch loss, and <math id="S2.p9.2.m2.1" class="ltx_Math" alttext="f_{i}" display="inline"><semantics id="S2.p9.2.m2.1a"><msub id="S2.p9.2.m2.1.1" xref="S2.p9.2.m2.1.1.cmml"><mi id="S2.p9.2.m2.1.1.2" xref="S2.p9.2.m2.1.1.2.cmml">f</mi><mi id="S2.p9.2.m2.1.1.3" xref="S2.p9.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p9.2.m2.1b"><apply id="S2.p9.2.m2.1.1.cmml" xref="S2.p9.2.m2.1.1"><csymbol cd="ambiguous" id="S2.p9.2.m2.1.1.1.cmml" xref="S2.p9.2.m2.1.1">subscript</csymbol><ci id="S2.p9.2.m2.1.1.2.cmml" xref="S2.p9.2.m2.1.1.2">𝑓</ci><ci id="S2.p9.2.m2.1.1.3.cmml" xref="S2.p9.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p9.2.m2.1c">f_{i}</annotation></semantics></math> represents the copy of the model on client <math id="S2.p9.3.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.p9.3.m3.1a"><mi id="S2.p9.3.m3.1.1" xref="S2.p9.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.p9.3.m3.1b"><ci id="S2.p9.3.m3.1.1.cmml" xref="S2.p9.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p9.3.m3.1c">i</annotation></semantics></math>. By doing this, we can enforce proportional contribution (to the local objective) of each class of the data, with respect to its share of the true underlying distribution across the federation.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.9.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> <span id="alg1.10.2" class="ltx_text ltx_font_bold">FedSLD</span>.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="alg1.6" class="ltx_p ltx_figure_panel"><span id="alg1.6.1" class="ltx_text ltx_font_bold">Input</span>: Initialized model parameter weights <math id="alg1.1.m1.1" class="ltx_Math" alttext="w^{0}" display="inline"><semantics id="alg1.1.m1.1a"><msup id="alg1.1.m1.1.1" xref="alg1.1.m1.1.1.cmml"><mi id="alg1.1.m1.1.1.2" xref="alg1.1.m1.1.1.2.cmml">w</mi><mn id="alg1.1.m1.1.1.3" xref="alg1.1.m1.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="alg1.1.m1.1b"><apply id="alg1.1.m1.1.1.cmml" xref="alg1.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.1.m1.1.1.1.cmml" xref="alg1.1.m1.1.1">superscript</csymbol><ci id="alg1.1.m1.1.1.2.cmml" xref="alg1.1.m1.1.1.2">𝑤</ci><cn type="integer" id="alg1.1.m1.1.1.3.cmml" xref="alg1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.m1.1c">w^{0}</annotation></semantics></math>, number of clients <math id="alg1.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.2.m2.1a"><mi id="alg1.2.m2.1.1" xref="alg1.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.2.m2.1b"><ci id="alg1.2.m2.1.1.cmml" xref="alg1.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.m2.1c">N</annotation></semantics></math>, number of local epochs <math id="alg1.3.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg1.3.m3.1a"><mi id="alg1.3.m3.1.1" xref="alg1.3.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg1.3.m3.1b"><ci id="alg1.3.m3.1.1.cmml" xref="alg1.3.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.m3.1c">E</annotation></semantics></math>, batch size <math id="alg1.4.m4.1" class="ltx_Math" alttext="B" display="inline"><semantics id="alg1.4.m4.1a"><mi id="alg1.4.m4.1.1" xref="alg1.4.m4.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="alg1.4.m4.1b"><ci id="alg1.4.m4.1.1.cmml" xref="alg1.4.m4.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.m4.1c">B</annotation></semantics></math>, is the batch size, learning rate <math id="alg1.5.m5.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="alg1.5.m5.1a"><mi id="alg1.5.m5.1.1" xref="alg1.5.m5.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="alg1.5.m5.1b"><ci id="alg1.5.m5.1.1.cmml" xref="alg1.5.m5.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.m5.1c">\eta</annotation></semantics></math>, number of rounds <math id="alg1.6.m6.1" class="ltx_Math" alttext="R" display="inline"><semantics id="alg1.6.m6.1a"><mi id="alg1.6.m6.1.1" xref="alg1.6.m6.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="alg1.6.m6.1b"><ci id="alg1.6.m6.1.1.cmml" xref="alg1.6.m6.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.m6.1c">R</annotation></semantics></math>.</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg1.11" class="ltx_listing ltx_figure_panel ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span><math id="alg1.l1.m1.4" class="ltx_Math" alttext="\forall i\in[N],c\in[C]" display="inline"><semantics id="alg1.l1.m1.4a"><mrow id="alg1.l1.m1.4.4.2" xref="alg1.l1.m1.4.4.3.cmml"><mrow id="alg1.l1.m1.3.3.1.1" xref="alg1.l1.m1.3.3.1.1.cmml"><mrow id="alg1.l1.m1.3.3.1.1.2" xref="alg1.l1.m1.3.3.1.1.2.cmml"><mo rspace="0.167em" id="alg1.l1.m1.3.3.1.1.2.1" xref="alg1.l1.m1.3.3.1.1.2.1.cmml">∀</mo><mi id="alg1.l1.m1.3.3.1.1.2.2" xref="alg1.l1.m1.3.3.1.1.2.2.cmml">i</mi></mrow><mo id="alg1.l1.m1.3.3.1.1.1" xref="alg1.l1.m1.3.3.1.1.1.cmml">∈</mo><mrow id="alg1.l1.m1.3.3.1.1.3.2" xref="alg1.l1.m1.3.3.1.1.3.1.cmml"><mo stretchy="false" id="alg1.l1.m1.3.3.1.1.3.2.1" xref="alg1.l1.m1.3.3.1.1.3.1.1.cmml">[</mo><mi id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml">N</mi><mo stretchy="false" id="alg1.l1.m1.3.3.1.1.3.2.2" xref="alg1.l1.m1.3.3.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="alg1.l1.m1.4.4.2.3" xref="alg1.l1.m1.4.4.3a.cmml">,</mo><mrow id="alg1.l1.m1.4.4.2.2" xref="alg1.l1.m1.4.4.2.2.cmml"><mi id="alg1.l1.m1.4.4.2.2.2" xref="alg1.l1.m1.4.4.2.2.2.cmml">c</mi><mo id="alg1.l1.m1.4.4.2.2.1" xref="alg1.l1.m1.4.4.2.2.1.cmml">∈</mo><mrow id="alg1.l1.m1.4.4.2.2.3.2" xref="alg1.l1.m1.4.4.2.2.3.1.cmml"><mo stretchy="false" id="alg1.l1.m1.4.4.2.2.3.2.1" xref="alg1.l1.m1.4.4.2.2.3.1.1.cmml">[</mo><mi id="alg1.l1.m1.2.2" xref="alg1.l1.m1.2.2.cmml">C</mi><mo stretchy="false" id="alg1.l1.m1.4.4.2.2.3.2.2" xref="alg1.l1.m1.4.4.2.2.3.1.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.4b"><apply id="alg1.l1.m1.4.4.3.cmml" xref="alg1.l1.m1.4.4.2"><csymbol cd="ambiguous" id="alg1.l1.m1.4.4.3a.cmml" xref="alg1.l1.m1.4.4.2.3">formulae-sequence</csymbol><apply id="alg1.l1.m1.3.3.1.1.cmml" xref="alg1.l1.m1.3.3.1.1"><in id="alg1.l1.m1.3.3.1.1.1.cmml" xref="alg1.l1.m1.3.3.1.1.1"></in><apply id="alg1.l1.m1.3.3.1.1.2.cmml" xref="alg1.l1.m1.3.3.1.1.2"><csymbol cd="latexml" id="alg1.l1.m1.3.3.1.1.2.1.cmml" xref="alg1.l1.m1.3.3.1.1.2.1">for-all</csymbol><ci id="alg1.l1.m1.3.3.1.1.2.2.cmml" xref="alg1.l1.m1.3.3.1.1.2.2">𝑖</ci></apply><apply id="alg1.l1.m1.3.3.1.1.3.1.cmml" xref="alg1.l1.m1.3.3.1.1.3.2"><csymbol cd="latexml" id="alg1.l1.m1.3.3.1.1.3.1.1.cmml" xref="alg1.l1.m1.3.3.1.1.3.2.1">delimited-[]</csymbol><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">𝑁</ci></apply></apply><apply id="alg1.l1.m1.4.4.2.2.cmml" xref="alg1.l1.m1.4.4.2.2"><in id="alg1.l1.m1.4.4.2.2.1.cmml" xref="alg1.l1.m1.4.4.2.2.1"></in><ci id="alg1.l1.m1.4.4.2.2.2.cmml" xref="alg1.l1.m1.4.4.2.2.2">𝑐</ci><apply id="alg1.l1.m1.4.4.2.2.3.1.cmml" xref="alg1.l1.m1.4.4.2.2.3.2"><csymbol cd="latexml" id="alg1.l1.m1.4.4.2.2.3.1.1.cmml" xref="alg1.l1.m1.4.4.2.2.3.2.1">delimited-[]</csymbol><ci id="alg1.l1.m1.2.2.cmml" xref="alg1.l1.m1.2.2">𝐶</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.4c">\forall i\in[N],c\in[C]</annotation></semantics></math>, acquire <math id="alg1.l1.m2.2" class="ltx_Math" alttext="n_{i,c}" display="inline"><semantics id="alg1.l1.m2.2a"><msub id="alg1.l1.m2.2.3" xref="alg1.l1.m2.2.3.cmml"><mi id="alg1.l1.m2.2.3.2" xref="alg1.l1.m2.2.3.2.cmml">n</mi><mrow id="alg1.l1.m2.2.2.2.4" xref="alg1.l1.m2.2.2.2.3.cmml"><mi id="alg1.l1.m2.1.1.1.1" xref="alg1.l1.m2.1.1.1.1.cmml">i</mi><mo id="alg1.l1.m2.2.2.2.4.1" xref="alg1.l1.m2.2.2.2.3.cmml">,</mo><mi id="alg1.l1.m2.2.2.2.2" xref="alg1.l1.m2.2.2.2.2.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.2b"><apply id="alg1.l1.m2.2.3.cmml" xref="alg1.l1.m2.2.3"><csymbol cd="ambiguous" id="alg1.l1.m2.2.3.1.cmml" xref="alg1.l1.m2.2.3">subscript</csymbol><ci id="alg1.l1.m2.2.3.2.cmml" xref="alg1.l1.m2.2.3.2">𝑛</ci><list id="alg1.l1.m2.2.2.2.3.cmml" xref="alg1.l1.m2.2.2.2.4"><ci id="alg1.l1.m2.1.1.1.1.cmml" xref="alg1.l1.m2.1.1.1.1">𝑖</ci><ci id="alg1.l1.m2.2.2.2.2.cmml" xref="alg1.l1.m2.2.2.2.2">𝑐</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.2c">n_{i,c}</annotation></semantics></math>, client <math id="alg1.l1.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="alg1.l1.m3.1a"><mi id="alg1.l1.m3.1.1" xref="alg1.l1.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m3.1b"><ci id="alg1.l1.m3.1.1.cmml" xref="alg1.l1.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m3.1c">i</annotation></semantics></math>’s numbers of samples of each class <math id="alg1.l1.m4.1" class="ltx_Math" alttext="c" display="inline"><semantics id="alg1.l1.m4.1a"><mi id="alg1.l1.m4.1.1" xref="alg1.l1.m4.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m4.1b"><ci id="alg1.l1.m4.1.1.cmml" xref="alg1.l1.m4.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m4.1c">c</annotation></semantics></math>.

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span><math id="alg1.l2.m1.1" class="ltx_Math" alttext="\forall c\in[C]" display="inline"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.2" xref="alg1.l2.m1.1.2.cmml"><mrow id="alg1.l2.m1.1.2.2" xref="alg1.l2.m1.1.2.2.cmml"><mo rspace="0.167em" id="alg1.l2.m1.1.2.2.1" xref="alg1.l2.m1.1.2.2.1.cmml">∀</mo><mi id="alg1.l2.m1.1.2.2.2" xref="alg1.l2.m1.1.2.2.2.cmml">c</mi></mrow><mo id="alg1.l2.m1.1.2.1" xref="alg1.l2.m1.1.2.1.cmml">∈</mo><mrow id="alg1.l2.m1.1.2.3.2" xref="alg1.l2.m1.1.2.3.1.cmml"><mo stretchy="false" id="alg1.l2.m1.1.2.3.2.1" xref="alg1.l2.m1.1.2.3.1.1.cmml">[</mo><mi id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">C</mi><mo stretchy="false" id="alg1.l2.m1.1.2.3.2.2" xref="alg1.l2.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.2.cmml" xref="alg1.l2.m1.1.2"><in id="alg1.l2.m1.1.2.1.cmml" xref="alg1.l2.m1.1.2.1"></in><apply id="alg1.l2.m1.1.2.2.cmml" xref="alg1.l2.m1.1.2.2"><csymbol cd="latexml" id="alg1.l2.m1.1.2.2.1.cmml" xref="alg1.l2.m1.1.2.2.1">for-all</csymbol><ci id="alg1.l2.m1.1.2.2.2.cmml" xref="alg1.l2.m1.1.2.2.2">𝑐</ci></apply><apply id="alg1.l2.m1.1.2.3.1.cmml" xref="alg1.l2.m1.1.2.3.2"><csymbol cd="latexml" id="alg1.l2.m1.1.2.3.1.1.cmml" xref="alg1.l2.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">𝐶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">\forall c\in[C]</annotation></semantics></math>, <math id="alg1.l2.m2.4" class="ltx_Math" alttext="\operatorname{\tilde{\mathcal{P}}}(y=c)=\frac{\sum_{i=1}^{N}n_{i,c}}{\sum_{i=1}^{N}n_{i}}" display="inline"><semantics id="alg1.l2.m2.4a"><mrow id="alg1.l2.m2.4.4" xref="alg1.l2.m2.4.4.cmml"><mrow id="alg1.l2.m2.4.4.1.1" xref="alg1.l2.m2.4.4.1.2.cmml"><mover accent="true" id="alg1.l2.m2.3.3" xref="alg1.l2.m2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l2.m2.3.3.2" xref="alg1.l2.m2.3.3.2.cmml">𝒫</mi><mo id="alg1.l2.m2.3.3.1" xref="alg1.l2.m2.3.3.1.cmml">~</mo></mover><mo id="alg1.l2.m2.4.4.1.1a" xref="alg1.l2.m2.4.4.1.2.cmml">⁡</mo><mrow id="alg1.l2.m2.4.4.1.1.1" xref="alg1.l2.m2.4.4.1.2.cmml"><mo stretchy="false" id="alg1.l2.m2.4.4.1.1.1.2" xref="alg1.l2.m2.4.4.1.2.cmml">(</mo><mrow id="alg1.l2.m2.4.4.1.1.1.1" xref="alg1.l2.m2.4.4.1.1.1.1.cmml"><mi id="alg1.l2.m2.4.4.1.1.1.1.2" xref="alg1.l2.m2.4.4.1.1.1.1.2.cmml">y</mi><mo id="alg1.l2.m2.4.4.1.1.1.1.1" xref="alg1.l2.m2.4.4.1.1.1.1.1.cmml">=</mo><mi id="alg1.l2.m2.4.4.1.1.1.1.3" xref="alg1.l2.m2.4.4.1.1.1.1.3.cmml">c</mi></mrow><mo stretchy="false" id="alg1.l2.m2.4.4.1.1.1.3" xref="alg1.l2.m2.4.4.1.2.cmml">)</mo></mrow></mrow><mo id="alg1.l2.m2.4.4.2" xref="alg1.l2.m2.4.4.2.cmml">=</mo><mfrac id="alg1.l2.m2.2.2" xref="alg1.l2.m2.2.2.cmml"><mrow id="alg1.l2.m2.2.2.2" xref="alg1.l2.m2.2.2.2.cmml"><mstyle displaystyle="false" id="alg1.l2.m2.2.2.2.3" xref="alg1.l2.m2.2.2.2.3.cmml"><msubsup id="alg1.l2.m2.2.2.2.3a" xref="alg1.l2.m2.2.2.2.3.cmml"><mo id="alg1.l2.m2.2.2.2.3.2.2" xref="alg1.l2.m2.2.2.2.3.2.2.cmml">∑</mo><mrow id="alg1.l2.m2.2.2.2.3.2.3" xref="alg1.l2.m2.2.2.2.3.2.3.cmml"><mi id="alg1.l2.m2.2.2.2.3.2.3.2" xref="alg1.l2.m2.2.2.2.3.2.3.2.cmml">i</mi><mo id="alg1.l2.m2.2.2.2.3.2.3.1" xref="alg1.l2.m2.2.2.2.3.2.3.1.cmml">=</mo><mn id="alg1.l2.m2.2.2.2.3.2.3.3" xref="alg1.l2.m2.2.2.2.3.2.3.3.cmml">1</mn></mrow><mi id="alg1.l2.m2.2.2.2.3.3" xref="alg1.l2.m2.2.2.2.3.3.cmml">N</mi></msubsup></mstyle><msub id="alg1.l2.m2.2.2.2.4" xref="alg1.l2.m2.2.2.2.4.cmml"><mi id="alg1.l2.m2.2.2.2.4.2" xref="alg1.l2.m2.2.2.2.4.2.cmml">n</mi><mrow id="alg1.l2.m2.2.2.2.2.2.4" xref="alg1.l2.m2.2.2.2.2.2.3.cmml"><mi id="alg1.l2.m2.1.1.1.1.1.1" xref="alg1.l2.m2.1.1.1.1.1.1.cmml">i</mi><mo id="alg1.l2.m2.2.2.2.2.2.4.1" xref="alg1.l2.m2.2.2.2.2.2.3.cmml">,</mo><mi id="alg1.l2.m2.2.2.2.2.2.2" xref="alg1.l2.m2.2.2.2.2.2.2.cmml">c</mi></mrow></msub></mrow><mrow id="alg1.l2.m2.2.2.4" xref="alg1.l2.m2.2.2.4.cmml"><mstyle displaystyle="false" id="alg1.l2.m2.2.2.4.1" xref="alg1.l2.m2.2.2.4.1.cmml"><msubsup id="alg1.l2.m2.2.2.4.1a" xref="alg1.l2.m2.2.2.4.1.cmml"><mo id="alg1.l2.m2.2.2.4.1.2.2" xref="alg1.l2.m2.2.2.4.1.2.2.cmml">∑</mo><mrow id="alg1.l2.m2.2.2.4.1.2.3" xref="alg1.l2.m2.2.2.4.1.2.3.cmml"><mi id="alg1.l2.m2.2.2.4.1.2.3.2" xref="alg1.l2.m2.2.2.4.1.2.3.2.cmml">i</mi><mo id="alg1.l2.m2.2.2.4.1.2.3.1" xref="alg1.l2.m2.2.2.4.1.2.3.1.cmml">=</mo><mn id="alg1.l2.m2.2.2.4.1.2.3.3" xref="alg1.l2.m2.2.2.4.1.2.3.3.cmml">1</mn></mrow><mi id="alg1.l2.m2.2.2.4.1.3" xref="alg1.l2.m2.2.2.4.1.3.cmml">N</mi></msubsup></mstyle><msub id="alg1.l2.m2.2.2.4.2" xref="alg1.l2.m2.2.2.4.2.cmml"><mi id="alg1.l2.m2.2.2.4.2.2" xref="alg1.l2.m2.2.2.4.2.2.cmml">n</mi><mi id="alg1.l2.m2.2.2.4.2.3" xref="alg1.l2.m2.2.2.4.2.3.cmml">i</mi></msub></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m2.4b"><apply id="alg1.l2.m2.4.4.cmml" xref="alg1.l2.m2.4.4"><eq id="alg1.l2.m2.4.4.2.cmml" xref="alg1.l2.m2.4.4.2"></eq><apply id="alg1.l2.m2.4.4.1.2.cmml" xref="alg1.l2.m2.4.4.1.1"><apply id="alg1.l2.m2.3.3.cmml" xref="alg1.l2.m2.3.3"><ci id="alg1.l2.m2.3.3.1.cmml" xref="alg1.l2.m2.3.3.1">~</ci><ci id="alg1.l2.m2.3.3.2.cmml" xref="alg1.l2.m2.3.3.2">𝒫</ci></apply><apply id="alg1.l2.m2.4.4.1.1.1.1.cmml" xref="alg1.l2.m2.4.4.1.1.1.1"><eq id="alg1.l2.m2.4.4.1.1.1.1.1.cmml" xref="alg1.l2.m2.4.4.1.1.1.1.1"></eq><ci id="alg1.l2.m2.4.4.1.1.1.1.2.cmml" xref="alg1.l2.m2.4.4.1.1.1.1.2">𝑦</ci><ci id="alg1.l2.m2.4.4.1.1.1.1.3.cmml" xref="alg1.l2.m2.4.4.1.1.1.1.3">𝑐</ci></apply></apply><apply id="alg1.l2.m2.2.2.cmml" xref="alg1.l2.m2.2.2"><divide id="alg1.l2.m2.2.2.3.cmml" xref="alg1.l2.m2.2.2"></divide><apply id="alg1.l2.m2.2.2.2.cmml" xref="alg1.l2.m2.2.2.2"><apply id="alg1.l2.m2.2.2.2.3.cmml" xref="alg1.l2.m2.2.2.2.3"><csymbol cd="ambiguous" id="alg1.l2.m2.2.2.2.3.1.cmml" xref="alg1.l2.m2.2.2.2.3">superscript</csymbol><apply id="alg1.l2.m2.2.2.2.3.2.cmml" xref="alg1.l2.m2.2.2.2.3"><csymbol cd="ambiguous" id="alg1.l2.m2.2.2.2.3.2.1.cmml" xref="alg1.l2.m2.2.2.2.3">subscript</csymbol><sum id="alg1.l2.m2.2.2.2.3.2.2.cmml" xref="alg1.l2.m2.2.2.2.3.2.2"></sum><apply id="alg1.l2.m2.2.2.2.3.2.3.cmml" xref="alg1.l2.m2.2.2.2.3.2.3"><eq id="alg1.l2.m2.2.2.2.3.2.3.1.cmml" xref="alg1.l2.m2.2.2.2.3.2.3.1"></eq><ci id="alg1.l2.m2.2.2.2.3.2.3.2.cmml" xref="alg1.l2.m2.2.2.2.3.2.3.2">𝑖</ci><cn type="integer" id="alg1.l2.m2.2.2.2.3.2.3.3.cmml" xref="alg1.l2.m2.2.2.2.3.2.3.3">1</cn></apply></apply><ci id="alg1.l2.m2.2.2.2.3.3.cmml" xref="alg1.l2.m2.2.2.2.3.3">𝑁</ci></apply><apply id="alg1.l2.m2.2.2.2.4.cmml" xref="alg1.l2.m2.2.2.2.4"><csymbol cd="ambiguous" id="alg1.l2.m2.2.2.2.4.1.cmml" xref="alg1.l2.m2.2.2.2.4">subscript</csymbol><ci id="alg1.l2.m2.2.2.2.4.2.cmml" xref="alg1.l2.m2.2.2.2.4.2">𝑛</ci><list id="alg1.l2.m2.2.2.2.2.2.3.cmml" xref="alg1.l2.m2.2.2.2.2.2.4"><ci id="alg1.l2.m2.1.1.1.1.1.1.cmml" xref="alg1.l2.m2.1.1.1.1.1.1">𝑖</ci><ci id="alg1.l2.m2.2.2.2.2.2.2.cmml" xref="alg1.l2.m2.2.2.2.2.2.2">𝑐</ci></list></apply></apply><apply id="alg1.l2.m2.2.2.4.cmml" xref="alg1.l2.m2.2.2.4"><apply id="alg1.l2.m2.2.2.4.1.cmml" xref="alg1.l2.m2.2.2.4.1"><csymbol cd="ambiguous" id="alg1.l2.m2.2.2.4.1.1.cmml" xref="alg1.l2.m2.2.2.4.1">superscript</csymbol><apply id="alg1.l2.m2.2.2.4.1.2.cmml" xref="alg1.l2.m2.2.2.4.1"><csymbol cd="ambiguous" id="alg1.l2.m2.2.2.4.1.2.1.cmml" xref="alg1.l2.m2.2.2.4.1">subscript</csymbol><sum id="alg1.l2.m2.2.2.4.1.2.2.cmml" xref="alg1.l2.m2.2.2.4.1.2.2"></sum><apply id="alg1.l2.m2.2.2.4.1.2.3.cmml" xref="alg1.l2.m2.2.2.4.1.2.3"><eq id="alg1.l2.m2.2.2.4.1.2.3.1.cmml" xref="alg1.l2.m2.2.2.4.1.2.3.1"></eq><ci id="alg1.l2.m2.2.2.4.1.2.3.2.cmml" xref="alg1.l2.m2.2.2.4.1.2.3.2">𝑖</ci><cn type="integer" id="alg1.l2.m2.2.2.4.1.2.3.3.cmml" xref="alg1.l2.m2.2.2.4.1.2.3.3">1</cn></apply></apply><ci id="alg1.l2.m2.2.2.4.1.3.cmml" xref="alg1.l2.m2.2.2.4.1.3">𝑁</ci></apply><apply id="alg1.l2.m2.2.2.4.2.cmml" xref="alg1.l2.m2.2.2.4.2"><csymbol cd="ambiguous" id="alg1.l2.m2.2.2.4.2.1.cmml" xref="alg1.l2.m2.2.2.4.2">subscript</csymbol><ci id="alg1.l2.m2.2.2.4.2.2.cmml" xref="alg1.l2.m2.2.2.4.2.2">𝑛</ci><ci id="alg1.l2.m2.2.2.4.2.3.cmml" xref="alg1.l2.m2.2.2.4.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m2.4c">\operatorname{\tilde{\mathcal{P}}}(y=c)=\frac{\sum_{i=1}^{N}n_{i,c}}{\sum_{i=1}^{N}n_{i}}</annotation></semantics></math> // compute estimated prior label distribution.

</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span><span id="alg1.l3.2" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l3.m1.4" class="ltx_Math" alttext="r\leftarrow 1,2,...,R" display="inline"><semantics id="alg1.l3.m1.4a"><mrow id="alg1.l3.m1.4.5" xref="alg1.l3.m1.4.5.cmml"><mi id="alg1.l3.m1.4.5.2" xref="alg1.l3.m1.4.5.2.cmml">r</mi><mo stretchy="false" id="alg1.l3.m1.4.5.1" xref="alg1.l3.m1.4.5.1.cmml">←</mo><mrow id="alg1.l3.m1.4.5.3.2" xref="alg1.l3.m1.4.5.3.1.cmml"><mn id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">1</mn><mo id="alg1.l3.m1.4.5.3.2.1" xref="alg1.l3.m1.4.5.3.1.cmml">,</mo><mn id="alg1.l3.m1.2.2" xref="alg1.l3.m1.2.2.cmml">2</mn><mo id="alg1.l3.m1.4.5.3.2.2" xref="alg1.l3.m1.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l3.m1.3.3" xref="alg1.l3.m1.3.3.cmml">…</mi><mo id="alg1.l3.m1.4.5.3.2.3" xref="alg1.l3.m1.4.5.3.1.cmml">,</mo><mi id="alg1.l3.m1.4.4" xref="alg1.l3.m1.4.4.cmml">R</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.4b"><apply id="alg1.l3.m1.4.5.cmml" xref="alg1.l3.m1.4.5"><ci id="alg1.l3.m1.4.5.1.cmml" xref="alg1.l3.m1.4.5.1">←</ci><ci id="alg1.l3.m1.4.5.2.cmml" xref="alg1.l3.m1.4.5.2">𝑟</ci><list id="alg1.l3.m1.4.5.3.1.cmml" xref="alg1.l3.m1.4.5.3.2"><cn type="integer" id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">1</cn><cn type="integer" id="alg1.l3.m1.2.2.cmml" xref="alg1.l3.m1.2.2">2</cn><ci id="alg1.l3.m1.3.3.cmml" xref="alg1.l3.m1.3.3">…</ci><ci id="alg1.l3.m1.4.4.cmml" xref="alg1.l3.m1.4.4">𝑅</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.4c">r\leftarrow 1,2,...,R</annotation></semantics></math> <span id="alg1.l3.3" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>     <math id="alg1.l4.m1.1" class="ltx_Math" alttext="\forall i\in[N]" display="inline"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.2" xref="alg1.l4.m1.1.2.cmml"><mrow id="alg1.l4.m1.1.2.2" xref="alg1.l4.m1.1.2.2.cmml"><mo rspace="0.167em" id="alg1.l4.m1.1.2.2.1" xref="alg1.l4.m1.1.2.2.1.cmml">∀</mo><mi id="alg1.l4.m1.1.2.2.2" xref="alg1.l4.m1.1.2.2.2.cmml">i</mi></mrow><mo id="alg1.l4.m1.1.2.1" xref="alg1.l4.m1.1.2.1.cmml">∈</mo><mrow id="alg1.l4.m1.1.2.3.2" xref="alg1.l4.m1.1.2.3.1.cmml"><mo stretchy="false" id="alg1.l4.m1.1.2.3.2.1" xref="alg1.l4.m1.1.2.3.1.1.cmml">[</mo><mi id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">N</mi><mo stretchy="false" id="alg1.l4.m1.1.2.3.2.2" xref="alg1.l4.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.2.cmml" xref="alg1.l4.m1.1.2"><in id="alg1.l4.m1.1.2.1.cmml" xref="alg1.l4.m1.1.2.1"></in><apply id="alg1.l4.m1.1.2.2.cmml" xref="alg1.l4.m1.1.2.2"><csymbol cd="latexml" id="alg1.l4.m1.1.2.2.1.cmml" xref="alg1.l4.m1.1.2.2.1">for-all</csymbol><ci id="alg1.l4.m1.1.2.2.2.cmml" xref="alg1.l4.m1.1.2.2.2">𝑖</ci></apply><apply id="alg1.l4.m1.1.2.3.1.cmml" xref="alg1.l4.m1.1.2.3.2"><csymbol cd="latexml" id="alg1.l4.m1.1.2.3.1.1.cmml" xref="alg1.l4.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">\forall i\in[N]</annotation></semantics></math> <math id="alg1.l4.m2.1" class="ltx_Math" alttext="w_{i}^{r}=w^{r-1}" display="inline"><semantics id="alg1.l4.m2.1a"><mrow id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml"><msubsup id="alg1.l4.m2.1.1.2" xref="alg1.l4.m2.1.1.2.cmml"><mi id="alg1.l4.m2.1.1.2.2.2" xref="alg1.l4.m2.1.1.2.2.2.cmml">w</mi><mi id="alg1.l4.m2.1.1.2.2.3" xref="alg1.l4.m2.1.1.2.2.3.cmml">i</mi><mi id="alg1.l4.m2.1.1.2.3" xref="alg1.l4.m2.1.1.2.3.cmml">r</mi></msubsup><mo id="alg1.l4.m2.1.1.1" xref="alg1.l4.m2.1.1.1.cmml">=</mo><msup id="alg1.l4.m2.1.1.3" xref="alg1.l4.m2.1.1.3.cmml"><mi id="alg1.l4.m2.1.1.3.2" xref="alg1.l4.m2.1.1.3.2.cmml">w</mi><mrow id="alg1.l4.m2.1.1.3.3" xref="alg1.l4.m2.1.1.3.3.cmml"><mi id="alg1.l4.m2.1.1.3.3.2" xref="alg1.l4.m2.1.1.3.3.2.cmml">r</mi><mo id="alg1.l4.m2.1.1.3.3.1" xref="alg1.l4.m2.1.1.3.3.1.cmml">−</mo><mn id="alg1.l4.m2.1.1.3.3.3" xref="alg1.l4.m2.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b"><apply id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1"><eq id="alg1.l4.m2.1.1.1.cmml" xref="alg1.l4.m2.1.1.1"></eq><apply id="alg1.l4.m2.1.1.2.cmml" xref="alg1.l4.m2.1.1.2"><csymbol cd="ambiguous" id="alg1.l4.m2.1.1.2.1.cmml" xref="alg1.l4.m2.1.1.2">superscript</csymbol><apply id="alg1.l4.m2.1.1.2.2.cmml" xref="alg1.l4.m2.1.1.2"><csymbol cd="ambiguous" id="alg1.l4.m2.1.1.2.2.1.cmml" xref="alg1.l4.m2.1.1.2">subscript</csymbol><ci id="alg1.l4.m2.1.1.2.2.2.cmml" xref="alg1.l4.m2.1.1.2.2.2">𝑤</ci><ci id="alg1.l4.m2.1.1.2.2.3.cmml" xref="alg1.l4.m2.1.1.2.2.3">𝑖</ci></apply><ci id="alg1.l4.m2.1.1.2.3.cmml" xref="alg1.l4.m2.1.1.2.3">𝑟</ci></apply><apply id="alg1.l4.m2.1.1.3.cmml" xref="alg1.l4.m2.1.1.3"><csymbol cd="ambiguous" id="alg1.l4.m2.1.1.3.1.cmml" xref="alg1.l4.m2.1.1.3">superscript</csymbol><ci id="alg1.l4.m2.1.1.3.2.cmml" xref="alg1.l4.m2.1.1.3.2">𝑤</ci><apply id="alg1.l4.m2.1.1.3.3.cmml" xref="alg1.l4.m2.1.1.3.3"><minus id="alg1.l4.m2.1.1.3.3.1.cmml" xref="alg1.l4.m2.1.1.3.3.1"></minus><ci id="alg1.l4.m2.1.1.3.3.2.cmml" xref="alg1.l4.m2.1.1.3.3.2">𝑟</ci><cn type="integer" id="alg1.l4.m2.1.1.3.3.3.cmml" xref="alg1.l4.m2.1.1.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.1c">w_{i}^{r}=w^{r-1}</annotation></semantics></math> // broadcast the model parameters.

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>     <span id="alg1.l5.2" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l5.m1.4" class="ltx_Math" alttext="i\leftarrow 1,2,...,N" display="inline"><semantics id="alg1.l5.m1.4a"><mrow id="alg1.l5.m1.4.5" xref="alg1.l5.m1.4.5.cmml"><mi id="alg1.l5.m1.4.5.2" xref="alg1.l5.m1.4.5.2.cmml">i</mi><mo stretchy="false" id="alg1.l5.m1.4.5.1" xref="alg1.l5.m1.4.5.1.cmml">←</mo><mrow id="alg1.l5.m1.4.5.3.2" xref="alg1.l5.m1.4.5.3.1.cmml"><mn id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml">1</mn><mo id="alg1.l5.m1.4.5.3.2.1" xref="alg1.l5.m1.4.5.3.1.cmml">,</mo><mn id="alg1.l5.m1.2.2" xref="alg1.l5.m1.2.2.cmml">2</mn><mo id="alg1.l5.m1.4.5.3.2.2" xref="alg1.l5.m1.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l5.m1.3.3" xref="alg1.l5.m1.3.3.cmml">…</mi><mo id="alg1.l5.m1.4.5.3.2.3" xref="alg1.l5.m1.4.5.3.1.cmml">,</mo><mi id="alg1.l5.m1.4.4" xref="alg1.l5.m1.4.4.cmml">N</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.4b"><apply id="alg1.l5.m1.4.5.cmml" xref="alg1.l5.m1.4.5"><ci id="alg1.l5.m1.4.5.1.cmml" xref="alg1.l5.m1.4.5.1">←</ci><ci id="alg1.l5.m1.4.5.2.cmml" xref="alg1.l5.m1.4.5.2">𝑖</ci><list id="alg1.l5.m1.4.5.3.1.cmml" xref="alg1.l5.m1.4.5.3.2"><cn type="integer" id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1">1</cn><cn type="integer" id="alg1.l5.m1.2.2.cmml" xref="alg1.l5.m1.2.2">2</cn><ci id="alg1.l5.m1.3.3.cmml" xref="alg1.l5.m1.3.3">…</ci><ci id="alg1.l5.m1.4.4.cmml" xref="alg1.l5.m1.4.4">𝑁</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.4c">i\leftarrow 1,2,...,N</annotation></semantics></math> <span id="alg1.l5.3" class="ltx_text ltx_font_bold">in parallel</span> <span id="alg1.l5.4" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>         <span id="alg1.l6.2" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l6.m1.2" class="ltx_Math" alttext="\{x_{k},y_{k}\}_{k=1}^{B}" display="inline"><semantics id="alg1.l6.m1.2a"><msubsup id="alg1.l6.m1.2.2" xref="alg1.l6.m1.2.2.cmml"><mrow id="alg1.l6.m1.2.2.2.2.2" xref="alg1.l6.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.3" xref="alg1.l6.m1.2.2.2.2.3.cmml">{</mo><msub id="alg1.l6.m1.1.1.1.1.1.1" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l6.m1.1.1.1.1.1.1.2" xref="alg1.l6.m1.1.1.1.1.1.1.2.cmml">x</mi><mi id="alg1.l6.m1.1.1.1.1.1.1.3" xref="alg1.l6.m1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="alg1.l6.m1.2.2.2.2.2.4" xref="alg1.l6.m1.2.2.2.2.3.cmml">,</mo><msub id="alg1.l6.m1.2.2.2.2.2.2" xref="alg1.l6.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l6.m1.2.2.2.2.2.2.2" xref="alg1.l6.m1.2.2.2.2.2.2.2.cmml">y</mi><mi id="alg1.l6.m1.2.2.2.2.2.2.3" xref="alg1.l6.m1.2.2.2.2.2.2.3.cmml">k</mi></msub><mo stretchy="false" id="alg1.l6.m1.2.2.2.2.2.5" xref="alg1.l6.m1.2.2.2.2.3.cmml">}</mo></mrow><mrow id="alg1.l6.m1.2.2.2.4" xref="alg1.l6.m1.2.2.2.4.cmml"><mi id="alg1.l6.m1.2.2.2.4.2" xref="alg1.l6.m1.2.2.2.4.2.cmml">k</mi><mo id="alg1.l6.m1.2.2.2.4.1" xref="alg1.l6.m1.2.2.2.4.1.cmml">=</mo><mn id="alg1.l6.m1.2.2.2.4.3" xref="alg1.l6.m1.2.2.2.4.3.cmml">1</mn></mrow><mi id="alg1.l6.m1.2.2.4" xref="alg1.l6.m1.2.2.4.cmml">B</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.2b"><apply id="alg1.l6.m1.2.2.cmml" xref="alg1.l6.m1.2.2"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.3.cmml" xref="alg1.l6.m1.2.2">superscript</csymbol><apply id="alg1.l6.m1.2.2.2.cmml" xref="alg1.l6.m1.2.2"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.2.3.cmml" xref="alg1.l6.m1.2.2">subscript</csymbol><set id="alg1.l6.m1.2.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.2.2"><apply id="alg1.l6.m1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l6.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2">𝑥</ci><ci id="alg1.l6.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="alg1.l6.m1.2.2.2.2.2.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.2">subscript</csymbol><ci id="alg1.l6.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.2">𝑦</ci><ci id="alg1.l6.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.2.3">𝑘</ci></apply></set><apply id="alg1.l6.m1.2.2.2.4.cmml" xref="alg1.l6.m1.2.2.2.4"><eq id="alg1.l6.m1.2.2.2.4.1.cmml" xref="alg1.l6.m1.2.2.2.4.1"></eq><ci id="alg1.l6.m1.2.2.2.4.2.cmml" xref="alg1.l6.m1.2.2.2.4.2">𝑘</ci><cn type="integer" id="alg1.l6.m1.2.2.2.4.3.cmml" xref="alg1.l6.m1.2.2.2.4.3">1</cn></apply></apply><ci id="alg1.l6.m1.2.2.4.cmml" xref="alg1.l6.m1.2.2.4">𝐵</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.2c">\{x_{k},y_{k}\}_{k=1}^{B}</annotation></semantics></math> <span id="alg1.l6.3" class="ltx_text ltx_font_bold">in all minibatches</span> <span id="alg1.l6.4" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>              <math id="alg1.l7.m1.1" class="ltx_math_unparsed" alttext="\forall c,\ p_{b}(y=c)\leftarrow\sum_{k=1}^{B}\llbracket y_{k}=c\rrbracket/B" display="inline"><semantics id="alg1.l7.m1.1a"><mrow id="alg1.l7.m1.1b"><mo rspace="0.167em" id="alg1.l7.m1.1.1">∀</mo><mi id="alg1.l7.m1.1.2">c</mi><mo rspace="0.667em" id="alg1.l7.m1.1.3">,</mo><msub id="alg1.l7.m1.1.4"><mi id="alg1.l7.m1.1.4.2">p</mi><mi id="alg1.l7.m1.1.4.3">b</mi></msub><mrow id="alg1.l7.m1.1.5"><mo stretchy="false" id="alg1.l7.m1.1.5.1">(</mo><mi id="alg1.l7.m1.1.5.2">y</mi><mo id="alg1.l7.m1.1.5.3">=</mo><mi id="alg1.l7.m1.1.5.4">c</mi><mo stretchy="false" id="alg1.l7.m1.1.5.5">)</mo></mrow><mo rspace="0.111em" stretchy="false" id="alg1.l7.m1.1.6">←</mo><msubsup id="alg1.l7.m1.1.7"><mo rspace="0em" id="alg1.l7.m1.1.7.2.2">∑</mo><mrow id="alg1.l7.m1.1.7.2.3"><mi id="alg1.l7.m1.1.7.2.3.2">k</mi><mo id="alg1.l7.m1.1.7.2.3.1">=</mo><mn id="alg1.l7.m1.1.7.2.3.3">1</mn></mrow><mi id="alg1.l7.m1.1.7.3">B</mi></msubsup><mrow id="alg1.l7.m1.1.8"><mo stretchy="false" id="alg1.l7.m1.1.8.1">⟦</mo><msub id="alg1.l7.m1.1.8.2"><mi id="alg1.l7.m1.1.8.2.2">y</mi><mi id="alg1.l7.m1.1.8.2.3">k</mi></msub><mo id="alg1.l7.m1.1.8.3">=</mo><mi id="alg1.l7.m1.1.8.4">c</mi><mo stretchy="false" id="alg1.l7.m1.1.8.5">⟧</mo></mrow><mo id="alg1.l7.m1.1.9">/</mo><mi id="alg1.l7.m1.1.10">B</mi></mrow><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">\forall c,\ p_{b}(y=c)\leftarrow\sum_{k=1}^{B}\llbracket y_{k}=c\rrbracket/B</annotation></semantics></math>

</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>              <math id="alg1.l8.m1.6" class="ltx_math_unparsed" alttext="\mathcal{L}_{b}\leftarrow-\sum_{k=1}^{B}\left(\frac{p_{b}(y=y_{k})}{\operatorname{\tilde{\mathcal{P}}}(y=y_{k})}\cdot\sum_{c=1}^{C}y_{k,c}\log\left(f_{i}(x_{k})\right)_{c}\right)" display="inline"><semantics id="alg1.l8.m1.6a"><mrow id="alg1.l8.m1.6b"><msub id="alg1.l8.m1.6.7"><mi class="ltx_font_mathcaligraphic" id="alg1.l8.m1.6.7.2">ℒ</mi><mi id="alg1.l8.m1.6.7.3">b</mi></msub><mo rspace="0em" stretchy="false" id="alg1.l8.m1.6.8">←</mo><mo lspace="0em" rspace="0.055em" id="alg1.l8.m1.6.9">−</mo><msubsup id="alg1.l8.m1.6.10"><mo rspace="0em" id="alg1.l8.m1.6.10.2.2">∑</mo><mrow id="alg1.l8.m1.6.10.2.3"><mi id="alg1.l8.m1.6.10.2.3.2">k</mi><mo id="alg1.l8.m1.6.10.2.3.1">=</mo><mn id="alg1.l8.m1.6.10.2.3.3">1</mn></mrow><mi id="alg1.l8.m1.6.10.3">B</mi></msubsup><mrow id="alg1.l8.m1.6.11"><mo id="alg1.l8.m1.6.11.1">(</mo><mfrac id="alg1.l8.m1.3.3"><mrow id="alg1.l8.m1.1.1.1"><msub id="alg1.l8.m1.1.1.1.3"><mi id="alg1.l8.m1.1.1.1.3.2">p</mi><mi id="alg1.l8.m1.1.1.1.3.3">b</mi></msub><mo lspace="0em" rspace="0em" id="alg1.l8.m1.1.1.1.2">​</mo><mrow id="alg1.l8.m1.1.1.1.1.1"><mo stretchy="false" id="alg1.l8.m1.1.1.1.1.1.2">(</mo><mrow id="alg1.l8.m1.1.1.1.1.1.1"><mi id="alg1.l8.m1.1.1.1.1.1.1.2">y</mi><mo id="alg1.l8.m1.1.1.1.1.1.1.1">=</mo><msub id="alg1.l8.m1.1.1.1.1.1.1.3"><mi id="alg1.l8.m1.1.1.1.1.1.1.3.2">y</mi><mi id="alg1.l8.m1.1.1.1.1.1.1.3.3">k</mi></msub></mrow><mo stretchy="false" id="alg1.l8.m1.1.1.1.1.1.3">)</mo></mrow></mrow><mrow id="alg1.l8.m1.3.3.3.2"><mover accent="true" id="alg1.l8.m1.2.2.2.1"><mi class="ltx_font_mathcaligraphic" id="alg1.l8.m1.2.2.2.1.2">𝒫</mi><mo id="alg1.l8.m1.2.2.2.1.1">~</mo></mover><mo id="alg1.l8.m1.3.3.3.2a">⁡</mo><mrow id="alg1.l8.m1.3.3.3.2.1"><mo stretchy="false" id="alg1.l8.m1.3.3.3.2.1.2">(</mo><mrow id="alg1.l8.m1.3.3.3.2.1.1"><mi id="alg1.l8.m1.3.3.3.2.1.1.2">y</mi><mo id="alg1.l8.m1.3.3.3.2.1.1.1">=</mo><msub id="alg1.l8.m1.3.3.3.2.1.1.3"><mi id="alg1.l8.m1.3.3.3.2.1.1.3.2">y</mi><mi id="alg1.l8.m1.3.3.3.2.1.1.3.3">k</mi></msub></mrow><mo stretchy="false" id="alg1.l8.m1.3.3.3.2.1.3">)</mo></mrow></mrow></mfrac><mo lspace="0.222em" rspace="0.055em" id="alg1.l8.m1.6.11.2">⋅</mo><msubsup id="alg1.l8.m1.6.11.3"><mo id="alg1.l8.m1.6.11.3.2.2">∑</mo><mrow id="alg1.l8.m1.6.11.3.2.3"><mi id="alg1.l8.m1.6.11.3.2.3.2">c</mi><mo id="alg1.l8.m1.6.11.3.2.3.1">=</mo><mn id="alg1.l8.m1.6.11.3.2.3.3">1</mn></mrow><mi id="alg1.l8.m1.6.11.3.3">C</mi></msubsup><msub id="alg1.l8.m1.6.11.4"><mi id="alg1.l8.m1.6.11.4.2">y</mi><mrow id="alg1.l8.m1.5.5.2.4"><mi id="alg1.l8.m1.4.4.1.1">k</mi><mo id="alg1.l8.m1.5.5.2.4.1">,</mo><mi id="alg1.l8.m1.5.5.2.2">c</mi></mrow></msub><mi id="alg1.l8.m1.6.6">log</mi><msub id="alg1.l8.m1.6.11.5"><mrow id="alg1.l8.m1.6.11.5.2"><mo id="alg1.l8.m1.6.11.5.2.1">(</mo><msub id="alg1.l8.m1.6.11.5.2.2"><mi id="alg1.l8.m1.6.11.5.2.2.2">f</mi><mi id="alg1.l8.m1.6.11.5.2.2.3">i</mi></msub><mrow id="alg1.l8.m1.6.11.5.2.3"><mo stretchy="false" id="alg1.l8.m1.6.11.5.2.3.1">(</mo><msub id="alg1.l8.m1.6.11.5.2.3.2"><mi id="alg1.l8.m1.6.11.5.2.3.2.2">x</mi><mi id="alg1.l8.m1.6.11.5.2.3.2.3">k</mi></msub><mo stretchy="false" id="alg1.l8.m1.6.11.5.2.3.3">)</mo></mrow><mo id="alg1.l8.m1.6.11.5.2.4">)</mo></mrow><mi id="alg1.l8.m1.6.11.5.3">c</mi></msub><mo id="alg1.l8.m1.6.11.6">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="alg1.l8.m1.6c">\mathcal{L}_{b}\leftarrow-\sum_{k=1}^{B}\left(\frac{p_{b}(y=y_{k})}{\operatorname{\tilde{\mathcal{P}}}(y=y_{k})}\cdot\sum_{c=1}^{C}y_{k,c}\log\left(f_{i}(x_{k})\right)_{c}\right)</annotation></semantics></math>

</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>              <math id="alg1.l9.m1.1" class="ltx_Math" alttext="w_{i}^{r}\leftarrow w_{i}^{r}-\eta\nabla_{w}\mathcal{L}_{b}" display="inline"><semantics id="alg1.l9.m1.1a"><mrow id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml"><msubsup id="alg1.l9.m1.1.1.2" xref="alg1.l9.m1.1.1.2.cmml"><mi id="alg1.l9.m1.1.1.2.2.2" xref="alg1.l9.m1.1.1.2.2.2.cmml">w</mi><mi id="alg1.l9.m1.1.1.2.2.3" xref="alg1.l9.m1.1.1.2.2.3.cmml">i</mi><mi id="alg1.l9.m1.1.1.2.3" xref="alg1.l9.m1.1.1.2.3.cmml">r</mi></msubsup><mo stretchy="false" id="alg1.l9.m1.1.1.1" xref="alg1.l9.m1.1.1.1.cmml">←</mo><mrow id="alg1.l9.m1.1.1.3" xref="alg1.l9.m1.1.1.3.cmml"><msubsup id="alg1.l9.m1.1.1.3.2" xref="alg1.l9.m1.1.1.3.2.cmml"><mi id="alg1.l9.m1.1.1.3.2.2.2" xref="alg1.l9.m1.1.1.3.2.2.2.cmml">w</mi><mi id="alg1.l9.m1.1.1.3.2.2.3" xref="alg1.l9.m1.1.1.3.2.2.3.cmml">i</mi><mi id="alg1.l9.m1.1.1.3.2.3" xref="alg1.l9.m1.1.1.3.2.3.cmml">r</mi></msubsup><mo id="alg1.l9.m1.1.1.3.1" xref="alg1.l9.m1.1.1.3.1.cmml">−</mo><mrow id="alg1.l9.m1.1.1.3.3" xref="alg1.l9.m1.1.1.3.3.cmml"><mi id="alg1.l9.m1.1.1.3.3.2" xref="alg1.l9.m1.1.1.3.3.2.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="alg1.l9.m1.1.1.3.3.1" xref="alg1.l9.m1.1.1.3.3.1.cmml">​</mo><mrow id="alg1.l9.m1.1.1.3.3.3" xref="alg1.l9.m1.1.1.3.3.3.cmml"><msub id="alg1.l9.m1.1.1.3.3.3.1" xref="alg1.l9.m1.1.1.3.3.3.1.cmml"><mo rspace="0.167em" id="alg1.l9.m1.1.1.3.3.3.1.2" xref="alg1.l9.m1.1.1.3.3.3.1.2.cmml">∇</mo><mi id="alg1.l9.m1.1.1.3.3.3.1.3" xref="alg1.l9.m1.1.1.3.3.3.1.3.cmml">w</mi></msub><msub id="alg1.l9.m1.1.1.3.3.3.2" xref="alg1.l9.m1.1.1.3.3.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l9.m1.1.1.3.3.3.2.2" xref="alg1.l9.m1.1.1.3.3.3.2.2.cmml">ℒ</mi><mi id="alg1.l9.m1.1.1.3.3.3.2.3" xref="alg1.l9.m1.1.1.3.3.3.2.3.cmml">b</mi></msub></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.1b"><apply id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1"><ci id="alg1.l9.m1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1">←</ci><apply id="alg1.l9.m1.1.1.2.cmml" xref="alg1.l9.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.2.1.cmml" xref="alg1.l9.m1.1.1.2">superscript</csymbol><apply id="alg1.l9.m1.1.1.2.2.cmml" xref="alg1.l9.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.2.2.1.cmml" xref="alg1.l9.m1.1.1.2">subscript</csymbol><ci id="alg1.l9.m1.1.1.2.2.2.cmml" xref="alg1.l9.m1.1.1.2.2.2">𝑤</ci><ci id="alg1.l9.m1.1.1.2.2.3.cmml" xref="alg1.l9.m1.1.1.2.2.3">𝑖</ci></apply><ci id="alg1.l9.m1.1.1.2.3.cmml" xref="alg1.l9.m1.1.1.2.3">𝑟</ci></apply><apply id="alg1.l9.m1.1.1.3.cmml" xref="alg1.l9.m1.1.1.3"><minus id="alg1.l9.m1.1.1.3.1.cmml" xref="alg1.l9.m1.1.1.3.1"></minus><apply id="alg1.l9.m1.1.1.3.2.cmml" xref="alg1.l9.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.3.2.1.cmml" xref="alg1.l9.m1.1.1.3.2">superscript</csymbol><apply id="alg1.l9.m1.1.1.3.2.2.cmml" xref="alg1.l9.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.3.2.2.1.cmml" xref="alg1.l9.m1.1.1.3.2">subscript</csymbol><ci id="alg1.l9.m1.1.1.3.2.2.2.cmml" xref="alg1.l9.m1.1.1.3.2.2.2">𝑤</ci><ci id="alg1.l9.m1.1.1.3.2.2.3.cmml" xref="alg1.l9.m1.1.1.3.2.2.3">𝑖</ci></apply><ci id="alg1.l9.m1.1.1.3.2.3.cmml" xref="alg1.l9.m1.1.1.3.2.3">𝑟</ci></apply><apply id="alg1.l9.m1.1.1.3.3.cmml" xref="alg1.l9.m1.1.1.3.3"><times id="alg1.l9.m1.1.1.3.3.1.cmml" xref="alg1.l9.m1.1.1.3.3.1"></times><ci id="alg1.l9.m1.1.1.3.3.2.cmml" xref="alg1.l9.m1.1.1.3.3.2">𝜂</ci><apply id="alg1.l9.m1.1.1.3.3.3.cmml" xref="alg1.l9.m1.1.1.3.3.3"><apply id="alg1.l9.m1.1.1.3.3.3.1.cmml" xref="alg1.l9.m1.1.1.3.3.3.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.3.3.3.1.1.cmml" xref="alg1.l9.m1.1.1.3.3.3.1">subscript</csymbol><ci id="alg1.l9.m1.1.1.3.3.3.1.2.cmml" xref="alg1.l9.m1.1.1.3.3.3.1.2">∇</ci><ci id="alg1.l9.m1.1.1.3.3.3.1.3.cmml" xref="alg1.l9.m1.1.1.3.3.3.1.3">𝑤</ci></apply><apply id="alg1.l9.m1.1.1.3.3.3.2.cmml" xref="alg1.l9.m1.1.1.3.3.3.2"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.3.3.3.2.1.cmml" xref="alg1.l9.m1.1.1.3.3.3.2">subscript</csymbol><ci id="alg1.l9.m1.1.1.3.3.3.2.2.cmml" xref="alg1.l9.m1.1.1.3.3.3.2.2">ℒ</ci><ci id="alg1.l9.m1.1.1.3.3.3.2.3.cmml" xref="alg1.l9.m1.1.1.3.3.3.2.3">𝑏</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.1c">w_{i}^{r}\leftarrow w_{i}^{r}-\eta\nabla_{w}\mathcal{L}_{b}</annotation></semantics></math>

</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>         <span id="alg1.l10.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l10.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>     <span id="alg1.l11.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l11.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>     <math id="alg1.l12.m1.1" class="ltx_Math" alttext="w^{r}=\sum_{i=1}^{N}\frac{n_{i}}{n}w_{I}^{r}" display="inline"><semantics id="alg1.l12.m1.1a"><mrow id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml"><msup id="alg1.l12.m1.1.1.2" xref="alg1.l12.m1.1.1.2.cmml"><mi id="alg1.l12.m1.1.1.2.2" xref="alg1.l12.m1.1.1.2.2.cmml">w</mi><mi id="alg1.l12.m1.1.1.2.3" xref="alg1.l12.m1.1.1.2.3.cmml">r</mi></msup><mo rspace="0.111em" id="alg1.l12.m1.1.1.1" xref="alg1.l12.m1.1.1.1.cmml">=</mo><mrow id="alg1.l12.m1.1.1.3" xref="alg1.l12.m1.1.1.3.cmml"><msubsup id="alg1.l12.m1.1.1.3.1" xref="alg1.l12.m1.1.1.3.1.cmml"><mo id="alg1.l12.m1.1.1.3.1.2.2" xref="alg1.l12.m1.1.1.3.1.2.2.cmml">∑</mo><mrow id="alg1.l12.m1.1.1.3.1.2.3" xref="alg1.l12.m1.1.1.3.1.2.3.cmml"><mi id="alg1.l12.m1.1.1.3.1.2.3.2" xref="alg1.l12.m1.1.1.3.1.2.3.2.cmml">i</mi><mo id="alg1.l12.m1.1.1.3.1.2.3.1" xref="alg1.l12.m1.1.1.3.1.2.3.1.cmml">=</mo><mn id="alg1.l12.m1.1.1.3.1.2.3.3" xref="alg1.l12.m1.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="alg1.l12.m1.1.1.3.1.3" xref="alg1.l12.m1.1.1.3.1.3.cmml">N</mi></msubsup><mrow id="alg1.l12.m1.1.1.3.2" xref="alg1.l12.m1.1.1.3.2.cmml"><mfrac id="alg1.l12.m1.1.1.3.2.2" xref="alg1.l12.m1.1.1.3.2.2.cmml"><msub id="alg1.l12.m1.1.1.3.2.2.2" xref="alg1.l12.m1.1.1.3.2.2.2.cmml"><mi id="alg1.l12.m1.1.1.3.2.2.2.2" xref="alg1.l12.m1.1.1.3.2.2.2.2.cmml">n</mi><mi id="alg1.l12.m1.1.1.3.2.2.2.3" xref="alg1.l12.m1.1.1.3.2.2.2.3.cmml">i</mi></msub><mi id="alg1.l12.m1.1.1.3.2.2.3" xref="alg1.l12.m1.1.1.3.2.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="alg1.l12.m1.1.1.3.2.1" xref="alg1.l12.m1.1.1.3.2.1.cmml">​</mo><msubsup id="alg1.l12.m1.1.1.3.2.3" xref="alg1.l12.m1.1.1.3.2.3.cmml"><mi id="alg1.l12.m1.1.1.3.2.3.2.2" xref="alg1.l12.m1.1.1.3.2.3.2.2.cmml">w</mi><mi id="alg1.l12.m1.1.1.3.2.3.2.3" xref="alg1.l12.m1.1.1.3.2.3.2.3.cmml">I</mi><mi id="alg1.l12.m1.1.1.3.2.3.3" xref="alg1.l12.m1.1.1.3.2.3.3.cmml">r</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.1b"><apply id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1"><eq id="alg1.l12.m1.1.1.1.cmml" xref="alg1.l12.m1.1.1.1"></eq><apply id="alg1.l12.m1.1.1.2.cmml" xref="alg1.l12.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l12.m1.1.1.2.1.cmml" xref="alg1.l12.m1.1.1.2">superscript</csymbol><ci id="alg1.l12.m1.1.1.2.2.cmml" xref="alg1.l12.m1.1.1.2.2">𝑤</ci><ci id="alg1.l12.m1.1.1.2.3.cmml" xref="alg1.l12.m1.1.1.2.3">𝑟</ci></apply><apply id="alg1.l12.m1.1.1.3.cmml" xref="alg1.l12.m1.1.1.3"><apply id="alg1.l12.m1.1.1.3.1.cmml" xref="alg1.l12.m1.1.1.3.1"><csymbol cd="ambiguous" id="alg1.l12.m1.1.1.3.1.1.cmml" xref="alg1.l12.m1.1.1.3.1">superscript</csymbol><apply id="alg1.l12.m1.1.1.3.1.2.cmml" xref="alg1.l12.m1.1.1.3.1"><csymbol cd="ambiguous" id="alg1.l12.m1.1.1.3.1.2.1.cmml" xref="alg1.l12.m1.1.1.3.1">subscript</csymbol><sum id="alg1.l12.m1.1.1.3.1.2.2.cmml" xref="alg1.l12.m1.1.1.3.1.2.2"></sum><apply id="alg1.l12.m1.1.1.3.1.2.3.cmml" xref="alg1.l12.m1.1.1.3.1.2.3"><eq id="alg1.l12.m1.1.1.3.1.2.3.1.cmml" xref="alg1.l12.m1.1.1.3.1.2.3.1"></eq><ci id="alg1.l12.m1.1.1.3.1.2.3.2.cmml" xref="alg1.l12.m1.1.1.3.1.2.3.2">𝑖</ci><cn type="integer" id="alg1.l12.m1.1.1.3.1.2.3.3.cmml" xref="alg1.l12.m1.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="alg1.l12.m1.1.1.3.1.3.cmml" xref="alg1.l12.m1.1.1.3.1.3">𝑁</ci></apply><apply id="alg1.l12.m1.1.1.3.2.cmml" xref="alg1.l12.m1.1.1.3.2"><times id="alg1.l12.m1.1.1.3.2.1.cmml" xref="alg1.l12.m1.1.1.3.2.1"></times><apply id="alg1.l12.m1.1.1.3.2.2.cmml" xref="alg1.l12.m1.1.1.3.2.2"><divide id="alg1.l12.m1.1.1.3.2.2.1.cmml" xref="alg1.l12.m1.1.1.3.2.2"></divide><apply id="alg1.l12.m1.1.1.3.2.2.2.cmml" xref="alg1.l12.m1.1.1.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l12.m1.1.1.3.2.2.2.1.cmml" xref="alg1.l12.m1.1.1.3.2.2.2">subscript</csymbol><ci id="alg1.l12.m1.1.1.3.2.2.2.2.cmml" xref="alg1.l12.m1.1.1.3.2.2.2.2">𝑛</ci><ci id="alg1.l12.m1.1.1.3.2.2.2.3.cmml" xref="alg1.l12.m1.1.1.3.2.2.2.3">𝑖</ci></apply><ci id="alg1.l12.m1.1.1.3.2.2.3.cmml" xref="alg1.l12.m1.1.1.3.2.2.3">𝑛</ci></apply><apply id="alg1.l12.m1.1.1.3.2.3.cmml" xref="alg1.l12.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="alg1.l12.m1.1.1.3.2.3.1.cmml" xref="alg1.l12.m1.1.1.3.2.3">superscript</csymbol><apply id="alg1.l12.m1.1.1.3.2.3.2.cmml" xref="alg1.l12.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="alg1.l12.m1.1.1.3.2.3.2.1.cmml" xref="alg1.l12.m1.1.1.3.2.3">subscript</csymbol><ci id="alg1.l12.m1.1.1.3.2.3.2.2.cmml" xref="alg1.l12.m1.1.1.3.2.3.2.2">𝑤</ci><ci id="alg1.l12.m1.1.1.3.2.3.2.3.cmml" xref="alg1.l12.m1.1.1.3.2.3.2.3">𝐼</ci></apply><ci id="alg1.l12.m1.1.1.3.2.3.3.cmml" xref="alg1.l12.m1.1.1.3.2.3.3">𝑟</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.1c">w^{r}=\sum_{i=1}^{N}\frac{n_{i}}{n}w_{I}^{r}</annotation></semantics></math> // aggregate the model updates

</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span><span id="alg1.l13.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l13.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span><span id="alg1.l14.2" class="ltx_text ltx_font_bold">return</span> <math id="alg1.l14.m1.1" class="ltx_Math" alttext="w^{R}" display="inline"><semantics id="alg1.l14.m1.1a"><msup id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml"><mi id="alg1.l14.m1.1.1.2" xref="alg1.l14.m1.1.1.2.cmml">w</mi><mi id="alg1.l14.m1.1.1.3" xref="alg1.l14.m1.1.1.3.cmml">R</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b"><apply id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1"><csymbol cd="ambiguous" id="alg1.l14.m1.1.1.1.cmml" xref="alg1.l14.m1.1.1">superscript</csymbol><ci id="alg1.l14.m1.1.1.2.cmml" xref="alg1.l14.m1.1.1.2">𝑤</ci><ci id="alg1.l14.m1.1.1.3.cmml" xref="alg1.l14.m1.1.1.3">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">w^{R}</annotation></semantics></math>

</div>
</div>
</div>
</div>
</figure>
<div id="S2.p10" class="ltx_para">
<p id="S2.p10.1" class="ltx_p">We follow the aggregation step in a typical FL algorithm such as <span id="S2.p10.1.1" class="ltx_text ltx_font_typewriter">FedAvg</span>, where we compute the weighted average of the updated models from all clients, with the weights being the number of samples in each client. A detailed algorithm is shown in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 2 Method ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experiments and Results</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we evaluate the performance of the proposed <span id="S3.p1.1.1" class="ltx_text ltx_font_typewriter">FedSLD</span> through experiments on four publicly available datasets (including two benchmark imaging datasets), and compare it with two leading FL algorithms, <span id="S3.p1.1.2" class="ltx_text ltx_font_typewriter">FedAvg</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, an algorithm that average the local updates of the global model, and <span id="S3.p1.1.3" class="ltx_text ltx_font_typewriter">FedProx</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, an algorithm that adds a proximal term on the local objective to enhance performance robustness on non-IID data. To evaluate the general performance of the algorithms, we compute the test accuracies and demonstrate the empirical convergence performance by plotting the training loss and test accuracy curves. In addition, we examine the fairness of the method following recent work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>. More details on the metrics are in Section <a href="#S3.F2" title="Figure 2 ‣ 3.1 Experiments setup ‣ 3 Experiments and Results ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Experiments setup</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p"><span id="S3.SS1.p1.1.1" class="ltx_text ltx_font_bold">Datasets. </span>

We conduct experiments on two benchmark image datasets: MNIST  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, a 10-class handwritten digit classification dataset and CIFAR10 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, a 10-class dataset with animals and transportations images. We further evaluate the methods on two medical image datasets from the MedMNIST dataset collection <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>, namely the OrganMNIST(axial) dataset: an 11-class dataset of liver tumor images <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>, and the PathMNIST dataset: a 9-class dataset of colorectal cancer images <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>. We partition each dataset into a training set and a test set and ensure that they share the same label distribution.</p>
</div>
<figure id="S3.F1" class="ltx_figure"><img src="/html/2110.08378/assets/imgs/pathological.png" id="S3.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="238" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Pathological non-IID distribution. The first row depicts the portions locations from each class. The second row depicts the dataset composition of each client.</figcaption>
</figure>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2110.08378/assets/imgs/practical.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="237" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Practical non-IID distribution. The first row depicts the portions’ locations from each class. The second row depicts the dataset composition of each client.</figcaption>
</figure>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.4" class="ltx_p"><span id="S3.SS1.p2.4.1" class="ltx_text ltx_font_bold">Two non-IID settings. </span>

We partition each dataset according to two different non-IID settings: 1) a pathological non-IID setting. In this setting, we follow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite> by assigning each client with two random classes. A random number of images from these two classes are assigned to this client. We set the number of clients to be 12 to mimic a cross-silo FL setting. Figure <a href="#S3.F1" title="Figure 1 ‣ 3.1 Experiments setup ‣ 3 Experiments and Results ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the pathological non-IID setting in more details; 2) a practical non-IID setting. In this setting, we randomly partition each class in the training set into 12 shards (corresponding to a total of 12 clients in the federation): <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mn id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><cn type="integer" id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">10</annotation></semantics></math> shards of <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="1\%" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mrow id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mn id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">1</mn><mo id="S3.SS1.p2.2.m2.1.1.1" xref="S3.SS1.p2.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="latexml" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1.1">percent</csymbol><cn type="integer" id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">1\%</annotation></semantics></math>, one shard of <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="10\%" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mrow id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><mn id="S3.SS1.p2.3.m3.1.1.2" xref="S3.SS1.p2.3.m3.1.1.2.cmml">10</mn><mo id="S3.SS1.p2.3.m3.1.1.1" xref="S3.SS1.p2.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><csymbol cd="latexml" id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1.1">percent</csymbol><cn type="integer" id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">10\%</annotation></semantics></math> and one shard of <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="80\%" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mrow id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><mn id="S3.SS1.p2.4.m4.1.1.2" xref="S3.SS1.p2.4.m4.1.1.2.cmml">80</mn><mo id="S3.SS1.p2.4.m4.1.1.1" xref="S3.SS1.p2.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="latexml" id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2">80</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">80\%</annotation></semantics></math>. For each client, we randomly assign a shard from each class to this client, so that the client will possess images from all classes, with more images from some classes while less images from others. This non-IID setting is more similar to the real-world medical applications, since datasets held at medical centers often contain a variety of classes, but medical centers in different regions, due to local demographics, may present different occurrence of different classes. Consequently, the datasets at the medical centers are often imbalanced with different majority classes. Figure <a href="#S3.F2" title="Figure 2 ‣ 3.1 Experiments setup ‣ 3 Experiments and Results ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the data distribution of all four datasets in more details.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p"><span id="S3.SS1.p3.1.1" class="ltx_text ltx_font_bold">Implementation details.</span>
We use the classic four-layer CNN model with two 5x5 convolutional layers and two fully connected layers (hidden layer has 500 units). We use a batch size of 256, 5 local epochs, 0.01 as the learning rate. For the practical non-IID partition, we train the model for 80 rounds, and for the pathological non-IID setting, we train the model for 160 rounds. All experiments are run on an NVIDIA Tesla V100 GPU and implemented in PyTorch <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> and PySyft <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>.</p>
</div>
<div id="S3.SS1.p4" class="ltx_para">
<p id="S3.SS1.p4.1" class="ltx_p"><span id="S3.SS1.p4.1.1" class="ltx_text ltx_font_bold">Metrics.</span>

We compute two types of test accuracies for each setting. 1) The <span id="S3.SS1.p4.1.2" class="ltx_text ltx_font_italic">Best Mean Client Test Accuracy</span> (BMCTA), referred as BMTA in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. BMCTA is computed as the highest mean client test accuracy of each round. 2) The <span id="S3.SS1.p4.1.3" class="ltx_text ltx_font_italic">Best Test Accuracy</span> (BTA). We treat the test sets from different clients as a combined test set, and compute the highest test accuracy over all round. We also investigate the methods’ convergence performance by plotting the training loss and test accuracy curves. In addition, we follow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> and examine the fairness of the methods by using the Gaussian kernel density estimation on the client test accuracies. Higher density at higher accuracy reflects a better result.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>The <span id="S3.T1.3.1" class="ltx_text ltx_font_italic">Best Mean Client Test Accuracy</span> (BMCTA) and <span id="S3.T1.4.2" class="ltx_text ltx_font_italic">Best Test Accuracy</span> (BTA) for the pathological non-IID setting</figcaption>
<table id="S3.T1.5" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T1.5.1.1" class="ltx_tr">
<td id="S3.T1.5.1.1.1" class="ltx_td ltx_border_tt"></td>
<td id="S3.T1.5.1.1.2" class="ltx_td ltx_align_center ltx_align_middle ltx_border_tt" colspan="3">BMCTA</td>
<td id="S3.T1.5.1.1.3" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l ltx_border_tt" colspan="3">BTA</td>
</tr>
<tr id="S3.T1.5.2.2" class="ltx_tr">
<td id="S3.T1.5.2.2.1" class="ltx_td ltx_align_left" rowspan="2">
<span id="S3.T1.5.2.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.2.2.1.1.1" class="ltx_p">Dataset</span>
</span>
</td>
<td id="S3.T1.5.2.2.2" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.2.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.2.2.2.1.1" class="ltx_p"><span id="S3.T1.5.2.2.2.1.1.1" class="ltx_text ltx_font_typewriter">FedAvg</span></span>
</span>
</td>
<td id="S3.T1.5.2.2.3" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.2.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.2.2.3.1.1" class="ltx_p"><span id="S3.T1.5.2.2.3.1.1.1" class="ltx_text ltx_font_typewriter">FedProx</span></span>
</span>
</td>
<td id="S3.T1.5.2.2.4" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.2.2.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.2.2.4.1.1" class="ltx_p"><span id="S3.T1.5.2.2.4.1.1.1" class="ltx_text ltx_font_typewriter">FedSLD</span></span>
</span>
</td>
<td id="S3.T1.5.2.2.5" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l"><span id="S3.T1.5.2.2.5.1" class="ltx_text ltx_font_typewriter">FedAvg</span></td>
<td id="S3.T1.5.2.2.6" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.2.2.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.2.2.6.1.1" class="ltx_p"><span id="S3.T1.5.2.2.6.1.1.1" class="ltx_text ltx_font_typewriter">FedProx</span></span>
</span>
</td>
<td id="S3.T1.5.2.2.7" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.2.2.7.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.2.2.7.1.1" class="ltx_p"><span id="S3.T1.5.2.2.7.1.1.1" class="ltx_text ltx_font_typewriter">FedSLD</span></span>
</span>
</td>
</tr>
<tr id="S3.T1.5.3.3" class="ltx_tr">
<td id="S3.T1.5.3.3.1" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.3.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.3.3.1.1.1" class="ltx_p"><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite></span>
</span>
</td>
<td id="S3.T1.5.3.3.2" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.3.3.2.1.1" class="ltx_p"><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite></span>
</span>
</td>
<td id="S3.T1.5.3.3.3" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.3.3.3.1.1" class="ltx_p">(Ours)</span>
</span>
</td>
<td id="S3.T1.5.3.3.4" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l"> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>
</td>
<td id="S3.T1.5.3.3.5" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.3.3.5.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.3.3.5.1.1" class="ltx_p"><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite></span>
</span>
</td>
<td id="S3.T1.5.3.3.6" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.3.3.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.3.3.6.1.1" class="ltx_p">(Ours)</span>
</span>
</td>
</tr>
<tr id="S3.T1.5.4.4" class="ltx_tr">
<td id="S3.T1.5.4.4.1" class="ltx_td ltx_align_left ltx_border_t">
<span id="S3.T1.5.4.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.4.4.1.1.1" class="ltx_p">MNIST</span>
</span>
</td>
<td id="S3.T1.5.4.4.2" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" style="width:39.8pt;">
<span id="S3.T1.5.4.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.4.4.2.1.1" class="ltx_p">95.60</span>
</span>
</td>
<td id="S3.T1.5.4.4.3" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" style="width:39.8pt;">
<span id="S3.T1.5.4.4.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.4.4.3.1.1" class="ltx_p">95.71</span>
</span>
</td>
<td id="S3.T1.5.4.4.4" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" style="width:39.8pt;">
<span id="S3.T1.5.4.4.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.4.4.4.1.1" class="ltx_p"><span id="S3.T1.5.4.4.4.1.1.1" class="ltx_text ltx_font_bold">95.74</span></span>
</span>
</td>
<td id="S3.T1.5.4.4.5" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l ltx_border_t">95.92</td>
<td id="S3.T1.5.4.4.6" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" style="width:39.8pt;">
<span id="S3.T1.5.4.4.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.4.4.6.1.1" class="ltx_p">95.98</span>
</span>
</td>
<td id="S3.T1.5.4.4.7" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" style="width:39.8pt;">
<span id="S3.T1.5.4.4.7.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.4.4.7.1.1" class="ltx_p"><span id="S3.T1.5.4.4.7.1.1.1" class="ltx_text ltx_font_bold">96.03</span></span>
</span>
</td>
</tr>
<tr id="S3.T1.5.5.5" class="ltx_tr">
<td id="S3.T1.5.5.5.1" class="ltx_td ltx_align_left">
<span id="S3.T1.5.5.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.5.5.1.1.1" class="ltx_p">CIFAR10</span>
</span>
</td>
<td id="S3.T1.5.5.5.2" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.5.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.5.5.2.1.1" class="ltx_p"><span id="S3.T1.5.5.5.2.1.1.1" class="ltx_text ltx_font_bold">51.50</span></span>
</span>
</td>
<td id="S3.T1.5.5.5.3" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.5.5.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.5.5.3.1.1" class="ltx_p">51.39</span>
</span>
</td>
<td id="S3.T1.5.5.5.4" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.5.5.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.5.5.4.1.1" class="ltx_p">50.81</span>
</span>
</td>
<td id="S3.T1.5.5.5.5" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l"><span id="S3.T1.5.5.5.5.1" class="ltx_text ltx_font_bold">51.39</span></td>
<td id="S3.T1.5.5.5.6" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.5.5.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.5.5.6.1.1" class="ltx_p">51.24</span>
</span>
</td>
<td id="S3.T1.5.5.5.7" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.5.5.7.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.5.5.7.1.1" class="ltx_p">50.71</span>
</span>
</td>
</tr>
<tr id="S3.T1.5.6.6" class="ltx_tr">
<td id="S3.T1.5.6.6.1" class="ltx_td ltx_align_left">
<span id="S3.T1.5.6.6.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.6.6.1.1.1" class="ltx_p">OrganMNIST(axial)</span>
</span>
</td>
<td id="S3.T1.5.6.6.2" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.6.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.6.6.2.1.1" class="ltx_p">59.52</span>
</span>
</td>
<td id="S3.T1.5.6.6.3" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.6.6.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.6.6.3.1.1" class="ltx_p">59.44</span>
</span>
</td>
<td id="S3.T1.5.6.6.4" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.6.6.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.6.6.4.1.1" class="ltx_p"><span id="S3.T1.5.6.6.4.1.1.1" class="ltx_text ltx_font_bold">59.70</span></span>
</span>
</td>
<td id="S3.T1.5.6.6.5" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l">64.99</td>
<td id="S3.T1.5.6.6.6" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.6.6.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.6.6.6.1.1" class="ltx_p">65.10</span>
</span>
</td>
<td id="S3.T1.5.6.6.7" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T1.5.6.6.7.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.6.6.7.1.1" class="ltx_p"><span id="S3.T1.5.6.6.7.1.1.1" class="ltx_text ltx_font_bold">66.13</span></span>
</span>
</td>
</tr>
<tr id="S3.T1.5.7.7" class="ltx_tr">
<td id="S3.T1.5.7.7.1" class="ltx_td ltx_align_left ltx_border_bb">
<span id="S3.T1.5.7.7.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.7.7.1.1.1" class="ltx_p">PathMNIST</span>
</span>
</td>
<td id="S3.T1.5.7.7.2" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" style="width:39.8pt;">
<span id="S3.T1.5.7.7.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.7.7.2.1.1" class="ltx_p">56.44</span>
</span>
</td>
<td id="S3.T1.5.7.7.3" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" style="width:39.8pt;">
<span id="S3.T1.5.7.7.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.7.7.3.1.1" class="ltx_p">56.62</span>
</span>
</td>
<td id="S3.T1.5.7.7.4" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" style="width:39.8pt;">
<span id="S3.T1.5.7.7.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.7.7.4.1.1" class="ltx_p"><span id="S3.T1.5.7.7.4.1.1.1" class="ltx_text ltx_font_bold">57.94</span></span>
</span>
</td>
<td id="S3.T1.5.7.7.5" class="ltx_td ltx_align_center ltx_align_middle ltx_border_bb ltx_border_l">57.54</td>
<td id="S3.T1.5.7.7.6" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" style="width:39.8pt;">
<span id="S3.T1.5.7.7.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.7.7.6.1.1" class="ltx_p">57.56</span>
</span>
</td>
<td id="S3.T1.5.7.7.7" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" style="width:39.8pt;">
<span id="S3.T1.5.7.7.7.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T1.5.7.7.7.1.1" class="ltx_p"><span id="S3.T1.5.7.7.7.1.1.1" class="ltx_text ltx_font_bold">59.11</span></span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
<figure id="S3.F3" class="ltx_figure"><img src="/html/2110.08378/assets/imgs/pathological-kernel.png" id="S3.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="373" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>The convergence and fairness performance under the pathological non-IID setting. We measure the fairness using Gaussian kernel density estimation. Higher density concentrated at a higher accuracy reflects a better result.</figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Results</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">Under the pathological non-IID setting, Table <a href="#S3.T1" title="Table 1 ‣ 3.1 Experiments setup ‣ 3 Experiments and Results ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and Fig. <a href="#S3.F3" title="Figure 3 ‣ 3.1 Experiments setup ‣ 3 Experiments and Results ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> show that for MNIST, and the two medical datasets, the proposed <span id="S3.SS2.p1.1.1" class="ltx_text ltx_font_typewriter">FedSLD</span> has a better performance with the improvement on the test accuracy of up to 1.57%, and the kernel density estimations show that <span id="S3.SS2.p1.1.2" class="ltx_text ltx_font_typewriter">FedSLD</span> has slightly higher density which is more concentrated at a higher test accuracy. On CIFAR10, <span id="S3.SS2.p1.1.3" class="ltx_text ltx_font_typewriter">FedSLD</span> reaches competitive performance with <span id="S3.SS2.p1.1.4" class="ltx_text ltx_font_typewriter">FedAvg</span> and <span id="S3.SS2.p1.1.5" class="ltx_text ltx_font_typewriter">FedProx</span>.</p>
</div>
<figure id="S3.T2" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>BMCTA and BTA for the practical non-IID setting</figcaption>
<table id="S3.T2.1" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T2.1.1.1" class="ltx_tr">
<td id="S3.T2.1.1.1.1" class="ltx_td ltx_border_tt"></td>
<td id="S3.T2.1.1.1.2" class="ltx_td ltx_align_center ltx_align_middle ltx_border_tt" colspan="3">BMCTA</td>
<td id="S3.T2.1.1.1.3" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l ltx_border_tt" colspan="3">BTA</td>
</tr>
<tr id="S3.T2.1.2.2" class="ltx_tr">
<td id="S3.T2.1.2.2.1" class="ltx_td ltx_align_left" rowspan="2">
<span id="S3.T2.1.2.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.2.2.1.1.1" class="ltx_p">Dataset</span>
</span>
</td>
<td id="S3.T2.1.2.2.2" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.2.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.2.2.2.1.1" class="ltx_p"><span id="S3.T2.1.2.2.2.1.1.1" class="ltx_text ltx_font_typewriter">FedAvg</span></span>
</span>
</td>
<td id="S3.T2.1.2.2.3" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.2.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.2.2.3.1.1" class="ltx_p"><span id="S3.T2.1.2.2.3.1.1.1" class="ltx_text ltx_font_typewriter">FedProx</span></span>
</span>
</td>
<td id="S3.T2.1.2.2.4" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.2.2.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.2.2.4.1.1" class="ltx_p"><span id="S3.T2.1.2.2.4.1.1.1" class="ltx_text ltx_font_typewriter">FedSLD</span></span>
</span>
</td>
<td id="S3.T2.1.2.2.5" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l"><span id="S3.T2.1.2.2.5.1" class="ltx_text ltx_font_typewriter">FedAvg</span></td>
<td id="S3.T2.1.2.2.6" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.2.2.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.2.2.6.1.1" class="ltx_p"><span id="S3.T2.1.2.2.6.1.1.1" class="ltx_text ltx_font_typewriter">FedProx</span></span>
</span>
</td>
<td id="S3.T2.1.2.2.7" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.2.2.7.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.2.2.7.1.1" class="ltx_p"><span id="S3.T2.1.2.2.7.1.1.1" class="ltx_text ltx_font_typewriter">FedSLD</span></span>
</span>
</td>
</tr>
<tr id="S3.T2.1.3.3" class="ltx_tr">
<td id="S3.T2.1.3.3.1" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.3.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.3.3.1.1.1" class="ltx_p"><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite></span>
</span>
</td>
<td id="S3.T2.1.3.3.2" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.3.3.2.1.1" class="ltx_p"><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite></span>
</span>
</td>
<td id="S3.T2.1.3.3.3" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.3.3.3.1.1" class="ltx_p">(Ours)</span>
</span>
</td>
<td id="S3.T2.1.3.3.4" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l"> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>
</td>
<td id="S3.T2.1.3.3.5" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.3.3.5.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.3.3.5.1.1" class="ltx_p"><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite></span>
</span>
</td>
<td id="S3.T2.1.3.3.6" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.3.3.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.3.3.6.1.1" class="ltx_p">(Ours)</span>
</span>
</td>
</tr>
<tr id="S3.T2.1.4.4" class="ltx_tr">
<td id="S3.T2.1.4.4.1" class="ltx_td ltx_align_left ltx_border_t">
<span id="S3.T2.1.4.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.4.4.1.1.1" class="ltx_p">MNIST</span>
</span>
</td>
<td id="S3.T2.1.4.4.2" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" style="width:39.8pt;">
<span id="S3.T2.1.4.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.4.4.2.1.1" class="ltx_p">93.41</span>
</span>
</td>
<td id="S3.T2.1.4.4.3" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" style="width:39.8pt;">
<span id="S3.T2.1.4.4.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.4.4.3.1.1" class="ltx_p">93.45</span>
</span>
</td>
<td id="S3.T2.1.4.4.4" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" style="width:39.8pt;">
<span id="S3.T2.1.4.4.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.4.4.4.1.1" class="ltx_p"><span id="S3.T2.1.4.4.4.1.1.1" class="ltx_text ltx_font_bold">95.56</span></span>
</span>
</td>
<td id="S3.T2.1.4.4.5" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l ltx_border_t">94.15</td>
<td id="S3.T2.1.4.4.6" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" style="width:39.8pt;">
<span id="S3.T2.1.4.4.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.4.4.6.1.1" class="ltx_p">94.20</span>
</span>
</td>
<td id="S3.T2.1.4.4.7" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" style="width:39.8pt;">
<span id="S3.T2.1.4.4.7.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.4.4.7.1.1" class="ltx_p"><span id="S3.T2.1.4.4.7.1.1.1" class="ltx_text ltx_font_bold">95.85</span></span>
</span>
</td>
</tr>
<tr id="S3.T2.1.5.5" class="ltx_tr">
<td id="S3.T2.1.5.5.1" class="ltx_td ltx_align_left">
<span id="S3.T2.1.5.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.5.5.1.1.1" class="ltx_p">CIFAR10</span>
</span>
</td>
<td id="S3.T2.1.5.5.2" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.5.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.5.5.2.1.1" class="ltx_p">32.07</span>
</span>
</td>
<td id="S3.T2.1.5.5.3" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.5.5.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.5.5.3.1.1" class="ltx_p">31.98</span>
</span>
</td>
<td id="S3.T2.1.5.5.4" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.5.5.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.5.5.4.1.1" class="ltx_p"><span id="S3.T2.1.5.5.4.1.1.1" class="ltx_text ltx_font_bold">37.48</span></span>
</span>
</td>
<td id="S3.T2.1.5.5.5" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l">35.46</td>
<td id="S3.T2.1.5.5.6" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.5.5.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.5.5.6.1.1" class="ltx_p">35.38</span>
</span>
</td>
<td id="S3.T2.1.5.5.7" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.5.5.7.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.5.5.7.1.1" class="ltx_p"><span id="S3.T2.1.5.5.7.1.1.1" class="ltx_text ltx_font_bold">37.79</span></span>
</span>
</td>
</tr>
<tr id="S3.T2.1.6.6" class="ltx_tr">
<td id="S3.T2.1.6.6.1" class="ltx_td ltx_align_left">
<span id="S3.T2.1.6.6.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.6.6.1.1.1" class="ltx_p">OrganMNIST(axial)</span>
</span>
</td>
<td id="S3.T2.1.6.6.2" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.6.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.6.6.2.1.1" class="ltx_p">82.32</span>
</span>
</td>
<td id="S3.T2.1.6.6.3" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.6.6.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.6.6.3.1.1" class="ltx_p">81.53</span>
</span>
</td>
<td id="S3.T2.1.6.6.4" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.6.6.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.6.6.4.1.1" class="ltx_p"><span id="S3.T2.1.6.6.4.1.1.1" class="ltx_text ltx_font_bold">84.75</span></span>
</span>
</td>
<td id="S3.T2.1.6.6.5" class="ltx_td ltx_align_center ltx_align_middle ltx_border_l">85.69</td>
<td id="S3.T2.1.6.6.6" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.6.6.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.6.6.6.1.1" class="ltx_p">85.54</span>
</span>
</td>
<td id="S3.T2.1.6.6.7" class="ltx_td ltx_align_justify ltx_align_middle" style="width:39.8pt;">
<span id="S3.T2.1.6.6.7.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.6.6.7.1.1" class="ltx_p"><span id="S3.T2.1.6.6.7.1.1.1" class="ltx_text ltx_font_bold">87.37</span></span>
</span>
</td>
</tr>
<tr id="S3.T2.1.7.7" class="ltx_tr">
<td id="S3.T2.1.7.7.1" class="ltx_td ltx_align_left ltx_border_bb">
<span id="S3.T2.1.7.7.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.7.7.1.1.1" class="ltx_p">PathMNIST</span>
</span>
</td>
<td id="S3.T2.1.7.7.2" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" style="width:39.8pt;">
<span id="S3.T2.1.7.7.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.7.7.2.1.1" class="ltx_p">52.70</span>
</span>
</td>
<td id="S3.T2.1.7.7.3" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" style="width:39.8pt;">
<span id="S3.T2.1.7.7.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.7.7.3.1.1" class="ltx_p">52.77</span>
</span>
</td>
<td id="S3.T2.1.7.7.4" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" style="width:39.8pt;">
<span id="S3.T2.1.7.7.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.7.7.4.1.1" class="ltx_p"><span id="S3.T2.1.7.7.4.1.1.1" class="ltx_text ltx_font_bold">53.87</span></span>
</span>
</td>
<td id="S3.T2.1.7.7.5" class="ltx_td ltx_align_center ltx_align_middle ltx_border_bb ltx_border_l">57.38</td>
<td id="S3.T2.1.7.7.6" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" style="width:39.8pt;">
<span id="S3.T2.1.7.7.6.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.7.7.6.1.1" class="ltx_p">57.72</span>
</span>
</td>
<td id="S3.T2.1.7.7.7" class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" style="width:39.8pt;">
<span id="S3.T2.1.7.7.7.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T2.1.7.7.7.1.1" class="ltx_p"><span id="S3.T2.1.7.7.7.1.1.1" class="ltx_text ltx_font_bold">57.90</span></span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">Under the practical non-IID setting, we can see from Table <a href="#S3.T2" title="Table 2 ‣ 3.2 Results ‣ 3 Experiments and Results ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> and Figure <a href="#S3.F4" title="Figure 4 ‣ 3.2 Results ‣ 3 Experiments and Results ‣ FedSLD: Federated Learning with Shared Label Distribution for Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> that the proposed <span id="S3.SS2.p2.1.1" class="ltx_text ltx_font_typewriter">FedSLD</span> outperforms the compared <span id="S3.SS2.p2.1.2" class="ltx_text ltx_font_typewriter">FedAvg</span> and <span id="S3.SS2.p2.1.3" class="ltx_text ltx_font_typewriter">FedProx</span> on every dataset, with the improvement of BMCTA ranging from 1.10% to 5.50%, and the improvement of BTA ranging from 0.18% to 2.41%. In addition, <span id="S3.SS2.p2.1.4" class="ltx_text ltx_font_typewriter">FedSLD</span> achieves better convergence behavior on MNIST and OrganMNIST (axial) datasets. The fairness plots reveal that <span id="S3.SS2.p2.1.5" class="ltx_text ltx_font_typewriter">FedSLD</span> not only increases the overall performance with respect to the entire federation, but the variances of the client test accuracies are also reduced on MNIST and PathMNIST datasets, which implies a more fair training. On CIFAR10 and OrganMNIST (axial) datasets, we can see a clear decrease of the density at low accuracy and an increase on the density at high accuracy, which explains the improvement of the BMCTA.</p>
</div>
<figure id="S3.F4" class="ltx_figure"><img src="/html/2110.08378/assets/imgs/practical-kernel.png" id="S3.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="373" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>The convergence and fairness performance under the practical non-IID setting.</figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Conclusion</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">In this work, we proposed a new FL algorithm for medical image classification: Federated Learning with Shared Label Distribution (<span id="S4.p1.1.1" class="ltx_text ltx_font_typewriter">FedSLD</span>). <span id="S4.p1.1.2" class="ltx_text ltx_font_typewriter">FedSLD</span> aims to mitigate the effect caused by non-IID data by leveraging the clients’ label distribution. We conducted extensive experiments on four publicly available datasets with two types of non-IID setting, and demonstrated that <span id="S4.p1.1.3" class="ltx_text ltx_font_typewriter">FedSLD</span> outperforms the compared leading FL algorithms, and encourages a more fair performance across all the participating clients.</p>
</div>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Compliance with ethical standards</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">Ethical approval was not required, as this study used previously collected and deidentified data (including medical imaging data) available in public repositories.</p>
</div>
<section id="S5.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Acknowledgements.</h4>

<div id="S5.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S5.SS0.SSS0.Px1.p1.1" class="ltx_p">This work was supported in part by National Institutes of Health (NIH) (1R01CA193603 and 1R01CA218405), National Science Foundation (NSF) (CICI: SIVD: 2115082), and the grant 1R01EB032896 as part of the NSF/NIH Smart Health and Biomedical Research in the Era of Artificial Intelligence and Advanced Data Science Program. This work used the Extreme Science and Engineering Discovery Environment (XSEDE), which is supported by NSF grant number ACI-1548562. Specifically, it used the Bridges-2 system, which is supported by NSF award number ACI-1928147, at the Pittsburgh Supercomputing Center.</p>
</div>
</section>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Andreux, M., du Terrail, J.O., Beguier, C., Tramel, E.W.: Siloed federated
learning for multi-centric histopathology datasets. In: Domain Adaptation and
Representation Transfer, and Distributed and Collaborative Learning, pp.
129–139. Springer (2020)

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Bilic, P., Christ, P.F., Vorontsov, E., Chlebus, G., Chen, H., Dou, Q., Fu,
C.W., Han, X., Heng, P.A., Hesser, J., et al.: The liver tumor segmentation
benchmark (lits). arXiv preprint arXiv:1901.04056 (2019)

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Ghosh, A., Chung, J., Yin, D., Ramchandran, K.: An efficient framework for
clustered federated learning. arXiv preprint arXiv:2006.04088 (2020)

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Huang, Y., Chu, L., Zhou, Z., Wang, L., Liu, J., Pei, J., Zhang, Y.:
Personalized cross-silo federated learning on non-iid data. In: Proceedings
of the AAAI Conference on Artificial Intelligence. vol. 35, pp. 7865–7873
(2021)

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Kairouz, P., McMahan, H.B., Avent, B., Bellet, A., Bennis, M., Bhagoji, A.N.,
Bonawitz, K., Charles, Z., Cormode, G., Cummings, R., et al.: Advances and
open problems in federated learning. arXiv preprint arXiv:1912.04977 (2019)

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Karimireddy, S.P., Kale, S., Mohri, M., Reddi, S., Stich, S., Suresh, A.T.:
Scaffold: Stochastic controlled averaging for federated learning. In:
International Conference on Machine Learning. pp. 5132–5143. PMLR (2020)

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Kather, J.N., Krisam, J., Charoentong, P., Luedde, T., Herpel, E., Weis, C.A.,
Gaiser, T., Marx, A., Valous, N.A., Ferber, D., et al.: Predicting survival
from colorectal cancer histology slides using deep learning: A retrospective
multicenter study. PLoS medicine <span id="bib.bib7.1.1" class="ltx_text ltx_font_bold">16</span>(1), e1002730 (2019)

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Krizhevsky, A., Hinton, G., et al.: Learning multiple layers of features from
tiny images (2009)

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
LeCun, Y., Cortes, C.: MNIST handwritten digit database (2010),
<a target="_blank" href="http://yann.lecun.com/exdb/mnist/" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://yann.lecun.com/exdb/mnist/</a>

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Lee, J.G., Jun, S., Cho, Y.W., Lee, H., Kim, G.B., Seo, J.B., Kim, N.: Deep
learning in medical imaging: general overview. Korean journal of radiology
<span id="bib.bib10.1.1" class="ltx_text ltx_font_bold">18</span>(4), 570–584 (2017)

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Li, T., Sahu, A.K., Talwalkar, A., Smith, V.: Federated learning: Challenges,
methods, and future directions. IEEE Signal Processing Magazine
<span id="bib.bib11.1.1" class="ltx_text ltx_font_bold">37</span>(3), 50–60 (2020)

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Li, T., Sahu, A.K., Zaheer, M., Sanjabi, M., Talwalkar, A., Smith, V.:
Federated optimization in heterogeneous networks. arXiv preprint
arXiv:1812.06127 (2018)

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Li, T., Sanjabi, M., Beirami, A., Smith, V.: Fair resource allocation in
federated learning. arXiv preprint arXiv:1905.10497 (2019)

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
McMahan, B., Moore, E., Ramage, D., Hampson, S., y Arcas, B.A.:
Communication-efficient learning of deep networks from decentralized data.
In: Artificial intelligence and statistics. pp. 1273–1282. PMLR (2017)

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Oh, Y., Park, S., Ye, J.C.: Deep learning covid-19 features on cxr using
limited training data sets. IEEE transactions on medical imaging
<span id="bib.bib15.1.1" class="ltx_text ltx_font_bold">39</span>(8), 2688–2700 (2020)

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Paszke, A., Gross, S., Massa, F., Lerer, A., Bradbury, J., Chanan, G., Killeen,
T., Lin, Z., Gimelshein, N., Antiga, L., Desmaison, A., Kopf, A., Yang, E.,
DeVito, Z., Raison, M., Tejani, A., Chilamkurthy, S., Steiner, B., Fang, L.,
Bai, J., Chintala, S.: Pytorch: An imperative style, high-performance deep
learning library. In: Wallach, H., Larochelle, H., Beygelzimer, A.,
d'Alché-Buc, F., Fox, E., Garnett, R. (eds.) Advances in
Neural Information Processing Systems 32, pp. 8024–8035. Curran Associates,
Inc. (2019),
<a target="_blank" href="http://papers.neurips.cc/paper/9015-pytorch-an-imperative-style-high-performance-deep-learning-library.pdf" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://papers.neurips.cc/paper/9015-pytorch-an-imperative-style-high-performance-deep-learning-library.pdf</a>

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Qayyum, A., Ahmad, K., Ahsan, M.A., Al-Fuqaha, A., Qadir, J.: Collaborative
federated learning for healthcare: Multi-modal covid-19 diagnosis at the
edge. arXiv preprint arXiv:2101.07511 (2021)

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Rajpurkar, P., Irvin, J., Zhu, K., Yang, B., Mehta, H., Duan, T., Ding, D.,
Bagul, A., Langlotz, C., Shpanskaya, K., et al.: Chexnet: Radiologist-level
pneumonia detection on chest x-rays with deep learning. arXiv preprint
arXiv:1711.05225 (2017)

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Rieke, N., Hancox, J., Li, W., Milletari, F., Roth, H.R., Albarqouni, S.,
Bakas, S., Galtier, M.N., Landman, B.A., Maier-Hein, K., et al.: The future
of digital health with federated learning. NPJ digital medicine
<span id="bib.bib19.1.1" class="ltx_text ltx_font_bold">3</span>(1),  1–7 (2020)

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Roth, H.R., Chang, K., Singh, P., Neumark, N., Li, W., Gupta, V., Gupta, S.,
Qu, L., Ihsani, A., Bizzo, B.C., et al.: Federated learning for breast
density classification: A real-world implementation. In: Domain Adaptation
and Representation Transfer, and Distributed and Collaborative Learning, pp.
181–191. Springer (2020)

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Ryffel, T., Trask, A., Dahl, M., Wagner, B., Mancuso, J., Rueckert, D.,
Passerat-Palmbach, J.: A generic framework for privacy preserving deep
learning. arXiv preprint arXiv:1811.04017 (2018)

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Sahu, A.K., Li, T., Sanjabi, M., Zaheer, M., Talwalkar, A., Smith, V.: On the
convergence of federated optimization in heterogeneous networks. arXiv
preprint arXiv:1812.06127 <span id="bib.bib22.1.1" class="ltx_text ltx_font_bold">3</span>,  3 (2018)

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Sarhan, M.H., Navab, N., Eslami, A., Albarqouni, S.: On the fairness of
privacy-preserving representations in medical applications. In: Domain
Adaptation and Representation Transfer, and Distributed and Collaborative
Learning, pp. 140–149. Springer (2020)

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Wang, D., Khosla, A., Gargeya, R., Irshad, H., Beck, A.H.: Deep learning for
identifying metastatic breast cancer. arXiv preprint arXiv:1606.05718 (2016)

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Wang, P., Shen, C., Roth, H.R., Yang, D., Xu, D., Oda, M., Misawa, K., Chen,
P.T., Liu, K.L., Liao, W.C., et al.: Automated pancreas segmentation using
multi-institutional collaborative deep learning. In: Domain Adaptation and
Representation Transfer, and Distributed and Collaborative Learning, pp.
192–200. Springer (2020)

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Yang, J., Shi, R., Ni, B.: Medmnist classification decathlon: A lightweight
automl benchmark for medical image analysis. In: 2021 IEEE 18th International
Symposium on Biomedical Imaging (ISBI). pp. 191–195. IEEE (2021)

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2110.08377" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2110.08378" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2110.08378">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2110.08378" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2110.08379" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Mar 19 15:05:50 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
