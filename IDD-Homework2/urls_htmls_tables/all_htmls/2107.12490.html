<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2107.12490] LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning</title><meta property="og:description" content="Federated learning has arisen as a mechanism to allow multiple participants to collaboratively train a model without sharing their data. In these settings, participants (workers) may not trust each other fully;
for ins…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2107.12490">

<!--Generated on Sat Mar  2 04:26:44 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="
federated learning,  deep learning,  Byzantine attacks,  robust aggregation.
">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Kamala Varma
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id1.1.id1" class="ltx_text ltx_font_italic">University of Maryland,</span>
<br class="ltx_break"><span id="id2.2.id2" class="ltx_text ltx_font_italic">College Park<sup id="id2.2.id2.1" class="ltx_sup">*</sup></span>
<br class="ltx_break"><span id="id3.3.id3" class="ltx_text ltx_font_italic">kvarma@umd.edu</span>
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yi Zhou
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id4.1.id1" class="ltx_text ltx_font_italic">IBM Research,</span>
<br class="ltx_break"><span id="id5.2.id2" class="ltx_text ltx_font_italic">Almaden Research Center</span>
<br class="ltx_break"><span id="id6.3.id3" class="ltx_text ltx_font_italic">yi.zhou@ibm.com</span>
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Nathalie Baracaldo
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id7.1.id1" class="ltx_text ltx_font_italic">IBM Research,</span>
<br class="ltx_break"><span id="id8.2.id2" class="ltx_text ltx_font_italic">Almaden Research Center</span>
<br class="ltx_break"><span id="id9.3.id3" class="ltx_text ltx_font_italic">baracald@us.ibm.com</span>
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ali Anwar
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id10.1.id1" class="ltx_text ltx_font_italic">IBM Research,</span>
<br class="ltx_break"><span id="id11.2.id2" class="ltx_text ltx_font_italic">Almaden Research Center</span>
<br class="ltx_break"><span id="id12.3.id3" class="ltx_text ltx_font_italic">ali.anwar2@ibm.com</span>
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id13.id1" class="ltx_p">Federated learning has arisen as a mechanism to allow multiple participants to collaboratively train a model without sharing their data. In these settings, participants (workers) may not trust each other fully;
for instance, a set of competitors may collaboratively train a machine learning model to detect fraud. The workers provide local gradients that a central server uses to update a global model. This global model can be corrupted when Byzantine workers send malicious gradients, which necessitates robust methods for aggregating gradients that mitigate the adverse effects of Byzantine inputs. Existing robust aggregation algorithms are often computationally expensive and only effective under strict assumptions. In this paper, we introduce LayerwisE Gradient AggregatTiOn (LEGATO), an aggregation algorithm that is, by contrast, scalable and generalizable. Informed by a study of layer-specific responses of gradients to Byzantine attacks, LEGATO employs a dynamic gradient reweighing scheme that is novel in its treatment of gradients based on layer-specific robustness. We show that LEGATO is more computationally efficient than multiple state-of-the-art techniques and more generally robust across a variety of attack settings in practice. We also demonstrate LEGATO’s benefits for gradient descent convergence in the absence of an attack.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
federated learning, deep learning, Byzantine attacks, robust aggregation.

</div>
<span id="footnotex1" class="ltx_note ltx_role_footnotetext"><sup class="ltx_note_mark">*</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">*</sup><span class="ltx_note_type">footnotetext: </span>This work was completed when the first author was doing an internship at IBM Almaden Research Center.</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated learning (FL)<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> is a machine learning paradigm that allows multiple entities, called workers, to train a global model based on the collection of their raw data without exchanging any of it.
Each worker trains a local model on their own data and periodically sends local gradient updates to a central parameter server. This central server is mostly launched as a cloud-based service <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. The job of the server is to use the received gradients to compute an aggregated gradient, conventionally defined as a simple or weighted average of gradients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, which is used to update the global model via usually a gradient descent step. The workers benefit from receiving the resulting global model because utilizing more data in machine learning typically equates to better models.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Federated Learning could materialize in an Internet of the things (IoT) setting where edge devices use FL to learn from all collected data without sacrificing limited local storage or the privacy of the collected data. FL can also be used by a consortium of competing companies, for example, hospitals that want to collaboratively learn a model for diagnosing diseases without violating privacy regulations like the Health Insurance Portability and Accountability Act (HIPAA)<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite> or General Data Protection Regulation (GDPR)<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>. In this setting, each worker itself can use public/private cloud, on-premises, or a hybrid setup to train models locally based on their private data and communicate only model updates in a FL system.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">If one or more workers within a FL system have inaccurate data or encounter communication errors, the consequently deficient information they provide can compromise the quality of the global model. This is called a <span id="S1.p3.1.1" class="ltx_text ltx_font_italic">Byzantine failure</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.
A Byzantine failure may occur unintentionally or may be executed in the form of an attack wherein malicious workers intentionally corrupt a FL system by strategically providing dishonest gradients. This powerful attack can be performed by a single worker, e.g, Gaussian attacks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, and can adversely affect indefinite numbers of models that are used in sensitive areas such as healthcare, banking, and personal devices among others. Since conventional averaging aggregation schemes are highly vulnerable to Byzantine attacks, it is important to derive alternative methods of aggregating gradients that are Byzantine-robust, meaning the aggregation will mitigate the adverse effects of dishonest gradients in a FL setting.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In this paper, we propose LEGATO, a LayerwisE Gradient AggregaTiOn algorithm that is the first to
use a gradient reweighing scheme at layer level to dampen gradient variance with the intent to increase model robustness in FL.
LEGATO’s performance is consistent across a variety of practical settings and has computational complexity that is linear in terms of the number of workers. These qualities are crucial when deploying FL systems that require large scale participation and involve exposure to unpredictable attack specifications.
</p>
</div>
<div id="S1.p5" class="ltx_para ltx_noindent">
<p id="S1.p5.1" class="ltx_p"><span id="S1.p5.1.1" class="ltx_text ltx_font_bold">Contributions.</span>
Our main contributions are as follows:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">Through a pilot study, we show that robustness against Byzantine attacks is layer specific and associated with the variance of the layer-specific <math id="S1.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S1.I1.i1.p1.1.m1.1a"><msub id="S1.I1.i1.p1.1.m1.1.1" xref="S1.I1.i1.p1.1.m1.1.1.cmml"><mi mathvariant="normal" id="S1.I1.i1.p1.1.m1.1.1.2" xref="S1.I1.i1.p1.1.m1.1.1.2.cmml">ℓ</mi><mn id="S1.I1.i1.p1.1.m1.1.1.3" xref="S1.I1.i1.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S1.I1.i1.p1.1.m1.1b"><apply id="S1.I1.i1.p1.1.m1.1.1.cmml" xref="S1.I1.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S1.I1.i1.p1.1.m1.1.1.1.cmml" xref="S1.I1.i1.p1.1.m1.1.1">subscript</csymbol><ci id="S1.I1.i1.p1.1.m1.1.1.2.cmml" xref="S1.I1.i1.p1.1.m1.1.1.2">ℓ</ci><cn type="integer" id="S1.I1.i1.p1.1.m1.1.1.3.cmml" xref="S1.I1.i1.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.i1.p1.1.m1.1c">\ell_{2}</annotation></semantics></math> norms of worker gradients.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We translate the observations from the pilot study into a gradient aggregation algorithm, LEGATO, that reweighs gradients by layer to increase robustness against Byzantine attacks.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We analyze the computational complexity and memory consumption of LEGATO. We prove that LEGATO’s computational complexity is linear in terms of the number of workers, which is comparable to conventional, non-robust algorithms, and superior to some robust algorithms including Krum <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> and multi-Krum <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>.</p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p id="S1.I1.i4.p1.1" class="ltx_p">Through experimentation against a variety of attacks settings and a vanillar FL setting without attacks, including the use of both IID and non-IID local data distributions and different model architectures, we show that LEGATO is consistently more robust than gradient averaging under IID and overparameterized settings and generally more robust than Krum and coordinate median under non-IID settings.
</p>
</div>
</li>
</ul>
</div>
<div id="S1.p6" class="ltx_para ltx_noindent">
<p id="S1.p6.1" class="ltx_p"><span id="S1.p6.1.1" class="ltx_text ltx_font_bold">Outline.</span>
We devoted Section <a href="#S2" title="II Background and Motivations ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a> to discuss the background and motivations of our work.
Section <a href="#S3" title="III A Pilot Study of Layer Robustness ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a> describes a pilot study of layer-specific gradient response to Byzantine attacks, which informs our proposed algorithm named LEGATO, described in Section <a href="#S4" title="IV Layerwise Gradient Aggregation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a>. We compare the performance of LEGATO to a baseline algorithm and two state-of-the-art solutions in a variety of settings in Section <a href="#S5" title="V Evaluation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">V</span></a>.
We provide discussion of LEGATO and related work in Section <a href="#S6" title="VI Discussion ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VI</span></a> and <a href="#S7" title="VII Related Work ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VII</span></a> respectively.
We conclude with final remarks in Section <a href="#S8" title="VIII Concluding Remarks ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VIII</span></a>.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Background and Motivations</span>
</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">In this section, we aim to provide more background information about non-IID worker distribution and its associated challenges we may face when dealing with Byzantine threats.
</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">In a federated learning system, workers will collect and maintain their own training datasets, and no training data samples will leave their owners.
Workers therefore collect their training data samples from different data sources, for example, in a federated learning task involving collaboration among multiple hospitals, the local training data distribution may be affected by the speciality of the hospital, which might lead to heterogeneous local distribution like some hospitals have more children patients and others have more adult patients.
While the aforementioned case is a feature-level non-IID distribution setting, a label-level non-IID distribution setting is also possible.
For instance, considering a federated learning system with multiple cellphones as workers trying to train an image recognition model using the photos storing in their cellphones to identify animals.
For cellphone owners having a dog as a pet, they would have more dog pictures in their local training datasets comparing to cat owners having more cat pictures.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">As one of the key features for federated learning, heterogeneous local data distribution has already raised challenges even for vanilla federated learning settings.
In fact, it significantly affects the global model’s performance and hence has motivated a new line of research tackling this issue, e.g., <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> and the references there in.
However, the situation is even more complicated in a real-world scenario since there can be Byzantine threats presented in a federated learning system.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS1.5.1.1" class="ltx_text">II-A</span> </span><span id="S2.SS1.6.2" class="ltx_text ltx_font_italic">Byzantine Threats</span>
</h3>

<figure id="S2.F1" class="ltx_figure"><img src="/html/2107.12490/assets/figures/fl_byzantine_1.png" id="S2.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="449" height="215" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F1.4.2.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S2.F1.2.1" class="ltx_text" style="font-size:90%;">A federated learning system with <math id="S2.F1.2.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S2.F1.2.1.m1.1b"><mi id="S2.F1.2.1.m1.1.1" xref="S2.F1.2.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.F1.2.1.m1.1c"><ci id="S2.F1.2.1.m1.1.1.cmml" xref="S2.F1.2.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.2.1.m1.1d">n</annotation></semantics></math> workers where the second worker’s reply encounters Byzantine failure.</span></figcaption>
</figure>
<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">Our goal in this section is to formally define byzantine threats potentially presented in a federated learning system.
In particular, we devote our efforts to discussions on Byzantine failures and Byzantine attacks, which both leads to diminishing final global model performance.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.4" class="ltx_p">We formally define a <span id="S2.SS1.p2.4.1" class="ltx_text ltx_font_italic">Byzantine Failures</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> as in a federated learning system when one or more workers have malfunctions in their computing devices or encountered communication errors, and consequently send deficient information to the parameter server which may compromise the quality of the global model.
As shown in Figure <a href="#S2.F1" title="Figure 1 ‣ II-A Byzantine Threats ‣ II Background and Motivations ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, consider a federated learning system with <math id="S2.SS1.p2.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S2.SS1.p2.1.m1.1a"><mi id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.1b"><ci id="S2.SS1.p2.1.m1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.1c">n</annotation></semantics></math> workers where at <math id="S2.SS1.p2.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.SS1.p2.2.m2.1a"><mi id="S2.SS1.p2.2.m2.1.1" xref="S2.SS1.p2.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.2.m2.1b"><ci id="S2.SS1.p2.2.m2.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.2.m2.1c">t</annotation></semantics></math>-round the reply from worker <math id="S2.SS1.p2.3.m3.1" class="ltx_Math" alttext="W_{2}" display="inline"><semantics id="S2.SS1.p2.3.m3.1a"><msub id="S2.SS1.p2.3.m3.1.1" xref="S2.SS1.p2.3.m3.1.1.cmml"><mi id="S2.SS1.p2.3.m3.1.1.2" xref="S2.SS1.p2.3.m3.1.1.2.cmml">W</mi><mn id="S2.SS1.p2.3.m3.1.1.3" xref="S2.SS1.p2.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.3.m3.1b"><apply id="S2.SS1.p2.3.m3.1.1.cmml" xref="S2.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.3.m3.1.1.1.cmml" xref="S2.SS1.p2.3.m3.1.1">subscript</csymbol><ci id="S2.SS1.p2.3.m3.1.1.2.cmml" xref="S2.SS1.p2.3.m3.1.1.2">𝑊</ci><cn type="integer" id="S2.SS1.p2.3.m3.1.1.3.cmml" xref="S2.SS1.p2.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.3.m3.1c">W_{2}</annotation></semantics></math> received by the server is corrupted as colored in red.
Such a Byzantine failure may occur unintentionally or may be executed in the form of an attack, which we refer as <span id="S2.SS1.p2.4.2" class="ltx_text ltx_font_italic">Byzantine Attacks</span>, wherein malicious entities intentionally corrupt a FL system by providing strategically dishonest replies. This powerful attack can be performed by only a single worker like <math id="S2.SS1.p2.4.m4.1" class="ltx_Math" alttext="W_{2}" display="inline"><semantics id="S2.SS1.p2.4.m4.1a"><msub id="S2.SS1.p2.4.m4.1.1" xref="S2.SS1.p2.4.m4.1.1.cmml"><mi id="S2.SS1.p2.4.m4.1.1.2" xref="S2.SS1.p2.4.m4.1.1.2.cmml">W</mi><mn id="S2.SS1.p2.4.m4.1.1.3" xref="S2.SS1.p2.4.m4.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.4.m4.1b"><apply id="S2.SS1.p2.4.m4.1.1.cmml" xref="S2.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.4.m4.1.1.1.cmml" xref="S2.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S2.SS1.p2.4.m4.1.1.2.cmml" xref="S2.SS1.p2.4.m4.1.1.2">𝑊</ci><cn type="integer" id="S2.SS1.p2.4.m4.1.1.3.cmml" xref="S2.SS1.p2.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.4.m4.1c">W_{2}</annotation></semantics></math> in Figure <a href="#S2.F1" title="Figure 1 ‣ II-A Byzantine Threats ‣ II Background and Motivations ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and can adversely affect indefinite numbers of models that are used in sensitive areas such as healthcare, banking, and personal devices and so on.
We refer the worker unintentionally sending inaccurate replies or intentionally performing <span id="S2.SS1.p2.4.3" class="ltx_text ltx_font_italic">Byzantine attacks</span> as a <span id="S2.SS1.p2.4.4" class="ltx_text ltx_font_italic">Byzantine worker</span>.</p>
</div>
<section id="S2.SS1.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_font_bold ltx_title_paragraph">Gaussian Attack <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>
</h5>

<div id="S2.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS1.SSS0.Px1.p1.1" class="ltx_p">This type of Byzantine attack can be performed by a single worker in a federated learning system, and do not need any collaboration among Byzantine workers. Workers performing this attack will randomly sample their replies from a Gaussian distribution, <math id="S2.SS1.SSS0.Px1.p1.1.m1.2" class="ltx_Math" alttext="N(\mu,\sigma^{2}I)" display="inline"><semantics id="S2.SS1.SSS0.Px1.p1.1.m1.2a"><mrow id="S2.SS1.SSS0.Px1.p1.1.m1.2.2" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.cmml"><mi id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.3" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.3.cmml">N</mi><mo lspace="0em" rspace="0em" id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.2" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.2.cmml">​</mo><mrow id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.2.cmml"><mo stretchy="false" id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.2" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.2.cmml">(</mo><mi id="S2.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS1.SSS0.Px1.p1.1.m1.1.1.cmml">μ</mi><mo id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.3" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.2.cmml">,</mo><mrow id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.cmml"><msup id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.cmml"><mi id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.2" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.2.cmml">σ</mi><mn id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.3" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.1" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.1.cmml">​</mo><mi id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.3" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.cmml">I</mi></mrow><mo stretchy="false" id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.4" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS0.Px1.p1.1.m1.2b"><apply id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2"><times id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.2.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.2"></times><ci id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.3.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.3">𝑁</ci><interval closure="open" id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.2.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1"><ci id="S2.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.1.1">𝜇</ci><apply id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1"><times id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.1"></times><apply id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.1.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2">superscript</csymbol><ci id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.2.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.2">𝜎</ci><cn type="integer" id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.3.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.3">2</cn></apply><ci id="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.cmml" xref="S2.SS1.SSS0.Px1.p1.1.m1.2.2.1.1.1.3">𝐼</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS0.Px1.p1.1.m1.2c">N(\mu,\sigma^{2}I)</annotation></semantics></math> regardless their local training datasets.</p>
</div>
</section>
<section id="S2.SS1.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_font_bold ltx_title_paragraph">Fall of Empires Attack <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>
</h5>

<div id="S2.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS1.SSS0.Px2.p1.3" class="ltx_p">Designed to break robust aggregation algorithms like, Krum <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> and coordinate median <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> , it requires a minimum number of Byzantine workers, depending on the robust algorithms, to collaboratively construct the attack.
Moreover, it assumes the Byzantine workers know about the replies sent from the honest workers.
Let <math id="S2.SS1.SSS0.Px2.p1.1.m1.5" class="ltx_Math" alttext="v_{i},i=1,...,h" display="inline"><semantics id="S2.SS1.SSS0.Px2.p1.1.m1.5a"><mrow id="S2.SS1.SSS0.Px2.p1.1.m1.5.5.2" xref="S2.SS1.SSS0.Px2.p1.1.m1.5.5.3.cmml"><mrow id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.cmml"><mrow id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.2.cmml"><msub id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1.cmml"><mi id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1.2" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1.2.cmml">v</mi><mi id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1.3" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.2" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.2.cmml">,</mo><mi id="S2.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.1.cmml">i</mi></mrow><mo id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.2" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.2.cmml">=</mo><mn id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.3" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.3.cmml">1</mn></mrow><mo id="S2.SS1.SSS0.Px2.p1.1.m1.5.5.2.3" xref="S2.SS1.SSS0.Px2.p1.1.m1.5.5.3a.cmml">,</mo><mrow id="S2.SS1.SSS0.Px2.p1.1.m1.5.5.2.2.2" xref="S2.SS1.SSS0.Px2.p1.1.m1.5.5.2.2.1.cmml"><mi mathvariant="normal" id="S2.SS1.SSS0.Px2.p1.1.m1.2.2" xref="S2.SS1.SSS0.Px2.p1.1.m1.2.2.cmml">…</mi><mo id="S2.SS1.SSS0.Px2.p1.1.m1.5.5.2.2.2.1" xref="S2.SS1.SSS0.Px2.p1.1.m1.5.5.2.2.1.cmml">,</mo><mi id="S2.SS1.SSS0.Px2.p1.1.m1.3.3" xref="S2.SS1.SSS0.Px2.p1.1.m1.3.3.cmml">h</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS0.Px2.p1.1.m1.5b"><apply id="S2.SS1.SSS0.Px2.p1.1.m1.5.5.3.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.5.5.2"><csymbol cd="ambiguous" id="S2.SS1.SSS0.Px2.p1.1.m1.5.5.3a.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.5.5.2.3">formulae-sequence</csymbol><apply id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1"><eq id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.2.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.2"></eq><list id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.2.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1"><apply id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1.1.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1">subscript</csymbol><ci id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1.2.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1.2">𝑣</ci><ci id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1.3.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.1.1.1.3">𝑖</ci></apply><ci id="S2.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.1.1">𝑖</ci></list><cn type="integer" id="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.3.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.4.4.1.1.3">1</cn></apply><list id="S2.SS1.SSS0.Px2.p1.1.m1.5.5.2.2.1.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.5.5.2.2.2"><ci id="S2.SS1.SSS0.Px2.p1.1.m1.2.2.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.2.2">…</ci><ci id="S2.SS1.SSS0.Px2.p1.1.m1.3.3.cmml" xref="S2.SS1.SSS0.Px2.p1.1.m1.3.3">ℎ</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS0.Px2.p1.1.m1.5c">v_{i},i=1,...,h</annotation></semantics></math> to be the replies sent by <math id="S2.SS1.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="h" display="inline"><semantics id="S2.SS1.SSS0.Px2.p1.2.m2.1a"><mi id="S2.SS1.SSS0.Px2.p1.2.m2.1.1" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.1.cmml">h</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS0.Px2.p1.2.m2.1b"><ci id="S2.SS1.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S2.SS1.SSS0.Px2.p1.2.m2.1.1">ℎ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS0.Px2.p1.2.m2.1c">h</annotation></semantics></math> honest workers, the malicious replies sent by the Byzantine workers who perform the Fall of Empires attack will send replies, <math id="S2.SS1.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="u_{j}" display="inline"><semantics id="S2.SS1.SSS0.Px2.p1.3.m3.1a"><msub id="S2.SS1.SSS0.Px2.p1.3.m3.1.1" xref="S2.SS1.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S2.SS1.SSS0.Px2.p1.3.m3.1.1.2" xref="S2.SS1.SSS0.Px2.p1.3.m3.1.1.2.cmml">u</mi><mi id="S2.SS1.SSS0.Px2.p1.3.m3.1.1.3" xref="S2.SS1.SSS0.Px2.p1.3.m3.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS0.Px2.p1.3.m3.1b"><apply id="S2.SS1.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S2.SS1.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS1.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S2.SS1.SSS0.Px2.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS1.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S2.SS1.SSS0.Px2.p1.3.m3.1.1.2">𝑢</ci><ci id="S2.SS1.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S2.SS1.SSS0.Px2.p1.3.m3.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS0.Px2.p1.3.m3.1c">u_{j}</annotation></semantics></math>, formulated as:</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.1" class="ltx_Math" alttext="u_{1}=u_{2}=...=u_{n-h}=-\frac{\epsilon}{h}\sum_{i=1}^{h}v_{i}," display="block"><semantics id="S2.E1.m1.1a"><mrow id="S2.E1.m1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml"><mrow id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml"><msub id="S2.E1.m1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.2.cmml"><mi id="S2.E1.m1.1.1.1.1.2.2" xref="S2.E1.m1.1.1.1.1.2.2.cmml">u</mi><mn id="S2.E1.m1.1.1.1.1.2.3" xref="S2.E1.m1.1.1.1.1.2.3.cmml">1</mn></msub><mo id="S2.E1.m1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.3.cmml">=</mo><msub id="S2.E1.m1.1.1.1.1.4" xref="S2.E1.m1.1.1.1.1.4.cmml"><mi id="S2.E1.m1.1.1.1.1.4.2" xref="S2.E1.m1.1.1.1.1.4.2.cmml">u</mi><mn id="S2.E1.m1.1.1.1.1.4.3" xref="S2.E1.m1.1.1.1.1.4.3.cmml">2</mn></msub><mo id="S2.E1.m1.1.1.1.1.5" xref="S2.E1.m1.1.1.1.1.5.cmml">=</mo><mi mathvariant="normal" id="S2.E1.m1.1.1.1.1.6" xref="S2.E1.m1.1.1.1.1.6.cmml">…</mi><mo id="S2.E1.m1.1.1.1.1.7" xref="S2.E1.m1.1.1.1.1.7.cmml">=</mo><msub id="S2.E1.m1.1.1.1.1.8" xref="S2.E1.m1.1.1.1.1.8.cmml"><mi id="S2.E1.m1.1.1.1.1.8.2" xref="S2.E1.m1.1.1.1.1.8.2.cmml">u</mi><mrow id="S2.E1.m1.1.1.1.1.8.3" xref="S2.E1.m1.1.1.1.1.8.3.cmml"><mi id="S2.E1.m1.1.1.1.1.8.3.2" xref="S2.E1.m1.1.1.1.1.8.3.2.cmml">n</mi><mo id="S2.E1.m1.1.1.1.1.8.3.1" xref="S2.E1.m1.1.1.1.1.8.3.1.cmml">−</mo><mi id="S2.E1.m1.1.1.1.1.8.3.3" xref="S2.E1.m1.1.1.1.1.8.3.3.cmml">h</mi></mrow></msub><mo id="S2.E1.m1.1.1.1.1.9" xref="S2.E1.m1.1.1.1.1.9.cmml">=</mo><mrow id="S2.E1.m1.1.1.1.1.10" xref="S2.E1.m1.1.1.1.1.10.cmml"><mo id="S2.E1.m1.1.1.1.1.10a" xref="S2.E1.m1.1.1.1.1.10.cmml">−</mo><mrow id="S2.E1.m1.1.1.1.1.10.2" xref="S2.E1.m1.1.1.1.1.10.2.cmml"><mfrac id="S2.E1.m1.1.1.1.1.10.2.2" xref="S2.E1.m1.1.1.1.1.10.2.2.cmml"><mi id="S2.E1.m1.1.1.1.1.10.2.2.2" xref="S2.E1.m1.1.1.1.1.10.2.2.2.cmml">ϵ</mi><mi id="S2.E1.m1.1.1.1.1.10.2.2.3" xref="S2.E1.m1.1.1.1.1.10.2.2.3.cmml">h</mi></mfrac><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.10.2.1" xref="S2.E1.m1.1.1.1.1.10.2.1.cmml">​</mo><mrow id="S2.E1.m1.1.1.1.1.10.2.3" xref="S2.E1.m1.1.1.1.1.10.2.3.cmml"><munderover id="S2.E1.m1.1.1.1.1.10.2.3.1" xref="S2.E1.m1.1.1.1.1.10.2.3.1.cmml"><mo movablelimits="false" id="S2.E1.m1.1.1.1.1.10.2.3.1.2.2" xref="S2.E1.m1.1.1.1.1.10.2.3.1.2.2.cmml">∑</mo><mrow id="S2.E1.m1.1.1.1.1.10.2.3.1.2.3" xref="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.cmml"><mi id="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.2" xref="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.2.cmml">i</mi><mo id="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.1" xref="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.1.cmml">=</mo><mn id="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.3" xref="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="S2.E1.m1.1.1.1.1.10.2.3.1.3" xref="S2.E1.m1.1.1.1.1.10.2.3.1.3.cmml">h</mi></munderover><msub id="S2.E1.m1.1.1.1.1.10.2.3.2" xref="S2.E1.m1.1.1.1.1.10.2.3.2.cmml"><mi id="S2.E1.m1.1.1.1.1.10.2.3.2.2" xref="S2.E1.m1.1.1.1.1.10.2.3.2.2.cmml">v</mi><mi id="S2.E1.m1.1.1.1.1.10.2.3.2.3" xref="S2.E1.m1.1.1.1.1.10.2.3.2.3.cmml">i</mi></msub></mrow></mrow></mrow></mrow><mo id="S2.E1.m1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.1b"><apply id="S2.E1.m1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1"><and id="S2.E1.m1.1.1.1.1a.cmml" xref="S2.E1.m1.1.1.1"></and><apply id="S2.E1.m1.1.1.1.1b.cmml" xref="S2.E1.m1.1.1.1"><eq id="S2.E1.m1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.3"></eq><apply id="S2.E1.m1.1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.2.1.cmml" xref="S2.E1.m1.1.1.1.1.2">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.2.2.cmml" xref="S2.E1.m1.1.1.1.1.2.2">𝑢</ci><cn type="integer" id="S2.E1.m1.1.1.1.1.2.3.cmml" xref="S2.E1.m1.1.1.1.1.2.3">1</cn></apply><apply id="S2.E1.m1.1.1.1.1.4.cmml" xref="S2.E1.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.4.1.cmml" xref="S2.E1.m1.1.1.1.1.4">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.4.2.cmml" xref="S2.E1.m1.1.1.1.1.4.2">𝑢</ci><cn type="integer" id="S2.E1.m1.1.1.1.1.4.3.cmml" xref="S2.E1.m1.1.1.1.1.4.3">2</cn></apply></apply><apply id="S2.E1.m1.1.1.1.1c.cmml" xref="S2.E1.m1.1.1.1"><eq id="S2.E1.m1.1.1.1.1.5.cmml" xref="S2.E1.m1.1.1.1.1.5"></eq><share href="#S2.E1.m1.1.1.1.1.4.cmml" id="S2.E1.m1.1.1.1.1d.cmml" xref="S2.E1.m1.1.1.1"></share><ci id="S2.E1.m1.1.1.1.1.6.cmml" xref="S2.E1.m1.1.1.1.1.6">…</ci></apply><apply id="S2.E1.m1.1.1.1.1e.cmml" xref="S2.E1.m1.1.1.1"><eq id="S2.E1.m1.1.1.1.1.7.cmml" xref="S2.E1.m1.1.1.1.1.7"></eq><share href="#S2.E1.m1.1.1.1.1.6.cmml" id="S2.E1.m1.1.1.1.1f.cmml" xref="S2.E1.m1.1.1.1"></share><apply id="S2.E1.m1.1.1.1.1.8.cmml" xref="S2.E1.m1.1.1.1.1.8"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.8.1.cmml" xref="S2.E1.m1.1.1.1.1.8">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.8.2.cmml" xref="S2.E1.m1.1.1.1.1.8.2">𝑢</ci><apply id="S2.E1.m1.1.1.1.1.8.3.cmml" xref="S2.E1.m1.1.1.1.1.8.3"><minus id="S2.E1.m1.1.1.1.1.8.3.1.cmml" xref="S2.E1.m1.1.1.1.1.8.3.1"></minus><ci id="S2.E1.m1.1.1.1.1.8.3.2.cmml" xref="S2.E1.m1.1.1.1.1.8.3.2">𝑛</ci><ci id="S2.E1.m1.1.1.1.1.8.3.3.cmml" xref="S2.E1.m1.1.1.1.1.8.3.3">ℎ</ci></apply></apply></apply><apply id="S2.E1.m1.1.1.1.1g.cmml" xref="S2.E1.m1.1.1.1"><eq id="S2.E1.m1.1.1.1.1.9.cmml" xref="S2.E1.m1.1.1.1.1.9"></eq><share href="#S2.E1.m1.1.1.1.1.8.cmml" id="S2.E1.m1.1.1.1.1h.cmml" xref="S2.E1.m1.1.1.1"></share><apply id="S2.E1.m1.1.1.1.1.10.cmml" xref="S2.E1.m1.1.1.1.1.10"><minus id="S2.E1.m1.1.1.1.1.10.1.cmml" xref="S2.E1.m1.1.1.1.1.10"></minus><apply id="S2.E1.m1.1.1.1.1.10.2.cmml" xref="S2.E1.m1.1.1.1.1.10.2"><times id="S2.E1.m1.1.1.1.1.10.2.1.cmml" xref="S2.E1.m1.1.1.1.1.10.2.1"></times><apply id="S2.E1.m1.1.1.1.1.10.2.2.cmml" xref="S2.E1.m1.1.1.1.1.10.2.2"><divide id="S2.E1.m1.1.1.1.1.10.2.2.1.cmml" xref="S2.E1.m1.1.1.1.1.10.2.2"></divide><ci id="S2.E1.m1.1.1.1.1.10.2.2.2.cmml" xref="S2.E1.m1.1.1.1.1.10.2.2.2">italic-ϵ</ci><ci id="S2.E1.m1.1.1.1.1.10.2.2.3.cmml" xref="S2.E1.m1.1.1.1.1.10.2.2.3">ℎ</ci></apply><apply id="S2.E1.m1.1.1.1.1.10.2.3.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3"><apply id="S2.E1.m1.1.1.1.1.10.2.3.1.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.1"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.10.2.3.1.1.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.1">superscript</csymbol><apply id="S2.E1.m1.1.1.1.1.10.2.3.1.2.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.1"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.10.2.3.1.2.1.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.1">subscript</csymbol><sum id="S2.E1.m1.1.1.1.1.10.2.3.1.2.2.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.1.2.2"></sum><apply id="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.1.2.3"><eq id="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.1.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.1"></eq><ci id="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.2.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.2">𝑖</ci><cn type="integer" id="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.3.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.1.2.3.3">1</cn></apply></apply><ci id="S2.E1.m1.1.1.1.1.10.2.3.1.3.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.1.3">ℎ</ci></apply><apply id="S2.E1.m1.1.1.1.1.10.2.3.2.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.10.2.3.2.1.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.2">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.10.2.3.2.2.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.2.2">𝑣</ci><ci id="S2.E1.m1.1.1.1.1.10.2.3.2.3.cmml" xref="S2.E1.m1.1.1.1.1.10.2.3.2.3">𝑖</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.1c">u_{1}=u_{2}=...=u_{n-h}=-\frac{\epsilon}{h}\sum_{i=1}^{h}v_{i},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.SS1.SSS0.Px2.p1.4" class="ltx_p">where <math id="S2.SS1.SSS0.Px2.p1.4.m1.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S2.SS1.SSS0.Px2.p1.4.m1.1a"><mi id="S2.SS1.SSS0.Px2.p1.4.m1.1.1" xref="S2.SS1.SSS0.Px2.p1.4.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.SSS0.Px2.p1.4.m1.1b"><ci id="S2.SS1.SSS0.Px2.p1.4.m1.1.1.cmml" xref="S2.SS1.SSS0.Px2.p1.4.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.SSS0.Px2.p1.4.m1.1c">\epsilon</annotation></semantics></math> is a real, non-negative factor that depends on the lower and upper bounds of the distances between each reply.</p>
</div>
</section>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS2.5.1.1" class="ltx_text">II-B</span> </span><span id="S2.SS2.6.2" class="ltx_text ltx_font_italic">Challenges</span>
</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">The aforementioned several Byzantine attacks are very powerful. We can see from Fig <a href="#S2.F2" title="Figure 2 ‣ II-B Challenges ‣ II Background and Motivations ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> that Gaussian attack with <math id="S2.SS2.p1.1.m1.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S2.SS2.p1.1.m1.1a"><mi id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">\sigma</annotation></semantics></math> having larger values creates more damage to the global model’s performance.</p>
</div>
<figure id="S2.F2" class="ltx_figure"><img src="/html/2107.12490/assets/figures/all_accuracy_avg.png" id="S2.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F2.16.8.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S2.F2.14.7" class="ltx_text" style="font-size:90%;">This experiment involves <math id="S2.F2.8.1.m1.1" class="ltx_Math" alttext="25" display="inline"><semantics id="S2.F2.8.1.m1.1b"><mn id="S2.F2.8.1.m1.1.1" xref="S2.F2.8.1.m1.1.1.cmml">25</mn><annotation-xml encoding="MathML-Content" id="S2.F2.8.1.m1.1c"><cn type="integer" id="S2.F2.8.1.m1.1.1.cmml" xref="S2.F2.8.1.m1.1.1">25</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.8.1.m1.1d">25</annotation></semantics></math> workers with <math id="S2.F2.9.2.m2.2" class="ltx_Math" alttext="1,000" display="inline"><semantics id="S2.F2.9.2.m2.2b"><mrow id="S2.F2.9.2.m2.2.3.2" xref="S2.F2.9.2.m2.2.3.1.cmml"><mn id="S2.F2.9.2.m2.1.1" xref="S2.F2.9.2.m2.1.1.cmml">1</mn><mo id="S2.F2.9.2.m2.2.3.2.1" xref="S2.F2.9.2.m2.2.3.1.cmml">,</mo><mn id="S2.F2.9.2.m2.2.2" xref="S2.F2.9.2.m2.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.F2.9.2.m2.2c"><list id="S2.F2.9.2.m2.2.3.1.cmml" xref="S2.F2.9.2.m2.2.3.2"><cn type="integer" id="S2.F2.9.2.m2.1.1.cmml" xref="S2.F2.9.2.m2.1.1">1</cn><cn type="integer" id="S2.F2.9.2.m2.2.2.cmml" xref="S2.F2.9.2.m2.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.9.2.m2.2d">1,000</annotation></semantics></math> IID data points from MNIST. We compare the performance of gradient averaging where <math id="S2.F2.10.3.m3.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S2.F2.10.3.m3.1b"><mn id="S2.F2.10.3.m3.1.1" xref="S2.F2.10.3.m3.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S2.F2.10.3.m3.1c"><cn type="integer" id="S2.F2.10.3.m3.1.1.cmml" xref="S2.F2.10.3.m3.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.10.3.m3.1d">4</annotation></semantics></math> Byzantine workers executing a Gaussian attack with <math id="S2.F2.11.4.m4.1" class="ltx_Math" alttext="\mu=0" display="inline"><semantics id="S2.F2.11.4.m4.1b"><mrow id="S2.F2.11.4.m4.1.1" xref="S2.F2.11.4.m4.1.1.cmml"><mi id="S2.F2.11.4.m4.1.1.2" xref="S2.F2.11.4.m4.1.1.2.cmml">μ</mi><mo id="S2.F2.11.4.m4.1.1.1" xref="S2.F2.11.4.m4.1.1.1.cmml">=</mo><mn id="S2.F2.11.4.m4.1.1.3" xref="S2.F2.11.4.m4.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.F2.11.4.m4.1c"><apply id="S2.F2.11.4.m4.1.1.cmml" xref="S2.F2.11.4.m4.1.1"><eq id="S2.F2.11.4.m4.1.1.1.cmml" xref="S2.F2.11.4.m4.1.1.1"></eq><ci id="S2.F2.11.4.m4.1.1.2.cmml" xref="S2.F2.11.4.m4.1.1.2">𝜇</ci><cn type="integer" id="S2.F2.11.4.m4.1.1.3.cmml" xref="S2.F2.11.4.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.11.4.m4.1d">\mu=0</annotation></semantics></math> and <math id="S2.F2.12.5.m5.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S2.F2.12.5.m5.1b"><mi id="S2.F2.12.5.m5.1.1" xref="S2.F2.12.5.m5.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S2.F2.12.5.m5.1c"><ci id="S2.F2.12.5.m5.1.1.cmml" xref="S2.F2.12.5.m5.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.12.5.m5.1d">\sigma</annotation></semantics></math>. Here we use batch size of <math id="S2.F2.13.6.m6.1" class="ltx_Math" alttext="50" display="inline"><semantics id="S2.F2.13.6.m6.1b"><mn id="S2.F2.13.6.m6.1.1" xref="S2.F2.13.6.m6.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S2.F2.13.6.m6.1c"><cn type="integer" id="S2.F2.13.6.m6.1.1.cmml" xref="S2.F2.13.6.m6.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.13.6.m6.1d">50</annotation></semantics></math> and learning rate of <math id="S2.F2.14.7.m7.1" class="ltx_Math" alttext="0.05" display="inline"><semantics id="S2.F2.14.7.m7.1b"><mn id="S2.F2.14.7.m7.1.1" xref="S2.F2.14.7.m7.1.1.cmml">0.05</mn><annotation-xml encoding="MathML-Content" id="S2.F2.14.7.m7.1c"><cn type="float" id="S2.F2.14.7.m7.1.1.cmml" xref="S2.F2.14.7.m7.1.1">0.05</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.14.7.m7.1d">0.05</annotation></semantics></math>.</span></figcaption>
</figure>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">Although Krum and coordinate median are proved to successfully identify the malicious Byzantine workers in the setting where workers have independent identical distributed (IID) local datasets, see Figure <a href="#S2.F3" title="Figure 3 ‣ II-B Challenges ‣ II Background and Motivations ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, they failed significantly when workers have heterogeneous local dataset.
It can also be shown that even without any Byzantine attacks presented these robust aggregation algorithms cannot guarantee a global model with good performance.</p>
</div>
<figure id="S2.F3" class="ltx_figure"><img src="/html/2107.12490/assets/figures/accuracy_g20_all.png" id="S2.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F3.20.10.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S2.F3.18.9" class="ltx_text" style="font-size:90%;">This experiment involves <math id="S2.F3.10.1.m1.1" class="ltx_Math" alttext="25" display="inline"><semantics id="S2.F3.10.1.m1.1b"><mn id="S2.F3.10.1.m1.1.1" xref="S2.F3.10.1.m1.1.1.cmml">25</mn><annotation-xml encoding="MathML-Content" id="S2.F3.10.1.m1.1c"><cn type="integer" id="S2.F3.10.1.m1.1.1.cmml" xref="S2.F3.10.1.m1.1.1">25</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.F3.10.1.m1.1d">25</annotation></semantics></math> workers with <math id="S2.F3.11.2.m2.2" class="ltx_Math" alttext="1,000" display="inline"><semantics id="S2.F3.11.2.m2.2b"><mrow id="S2.F3.11.2.m2.2.3.2" xref="S2.F3.11.2.m2.2.3.1.cmml"><mn id="S2.F3.11.2.m2.1.1" xref="S2.F3.11.2.m2.1.1.cmml">1</mn><mo id="S2.F3.11.2.m2.2.3.2.1" xref="S2.F3.11.2.m2.2.3.1.cmml">,</mo><mn id="S2.F3.11.2.m2.2.2" xref="S2.F3.11.2.m2.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.F3.11.2.m2.2c"><list id="S2.F3.11.2.m2.2.3.1.cmml" xref="S2.F3.11.2.m2.2.3.2"><cn type="integer" id="S2.F3.11.2.m2.1.1.cmml" xref="S2.F3.11.2.m2.1.1">1</cn><cn type="integer" id="S2.F3.11.2.m2.2.2.cmml" xref="S2.F3.11.2.m2.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S2.F3.11.2.m2.2d">1,000</annotation></semantics></math> data points randomly sampled from MNIST for IID setting and <math id="S2.F3.12.3.m3.2" class="ltx_Math" alttext="1,000" display="inline"><semantics id="S2.F3.12.3.m3.2b"><mrow id="S2.F3.12.3.m3.2.3.2" xref="S2.F3.12.3.m3.2.3.1.cmml"><mn id="S2.F3.12.3.m3.1.1" xref="S2.F3.12.3.m3.1.1.cmml">1</mn><mo id="S2.F3.12.3.m3.2.3.2.1" xref="S2.F3.12.3.m3.2.3.1.cmml">,</mo><mn id="S2.F3.12.3.m3.2.2" xref="S2.F3.12.3.m3.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.F3.12.3.m3.2c"><list id="S2.F3.12.3.m3.2.3.1.cmml" xref="S2.F3.12.3.m3.2.3.2"><cn type="integer" id="S2.F3.12.3.m3.1.1.cmml" xref="S2.F3.12.3.m3.1.1">1</cn><cn type="integer" id="S2.F3.12.3.m3.2.2.cmml" xref="S2.F3.12.3.m3.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S2.F3.12.3.m3.2d">1,000</annotation></semantics></math> points containing only <math id="S2.F3.13.4.m4.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S2.F3.13.4.m4.1b"><mn id="S2.F3.13.4.m4.1.1" xref="S2.F3.13.4.m4.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S2.F3.13.4.m4.1c"><cn type="integer" id="S2.F3.13.4.m4.1.1.cmml" xref="S2.F3.13.4.m4.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.F3.13.4.m4.1d">1</annotation></semantics></math> label per worker for non-IID setting, respectively. We compare the performance of gradient averaging, Krum and Coodinate median where <math id="S2.F3.14.5.m5.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S2.F3.14.5.m5.1b"><mn id="S2.F3.14.5.m5.1.1" xref="S2.F3.14.5.m5.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S2.F3.14.5.m5.1c"><cn type="integer" id="S2.F3.14.5.m5.1.1.cmml" xref="S2.F3.14.5.m5.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.F3.14.5.m5.1d">4</annotation></semantics></math> Byzantine workers executing a Gaussian attack with <math id="S2.F3.15.6.m6.1" class="ltx_Math" alttext="\mu=0" display="inline"><semantics id="S2.F3.15.6.m6.1b"><mrow id="S2.F3.15.6.m6.1.1" xref="S2.F3.15.6.m6.1.1.cmml"><mi id="S2.F3.15.6.m6.1.1.2" xref="S2.F3.15.6.m6.1.1.2.cmml">μ</mi><mo id="S2.F3.15.6.m6.1.1.1" xref="S2.F3.15.6.m6.1.1.1.cmml">=</mo><mn id="S2.F3.15.6.m6.1.1.3" xref="S2.F3.15.6.m6.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.F3.15.6.m6.1c"><apply id="S2.F3.15.6.m6.1.1.cmml" xref="S2.F3.15.6.m6.1.1"><eq id="S2.F3.15.6.m6.1.1.1.cmml" xref="S2.F3.15.6.m6.1.1.1"></eq><ci id="S2.F3.15.6.m6.1.1.2.cmml" xref="S2.F3.15.6.m6.1.1.2">𝜇</ci><cn type="integer" id="S2.F3.15.6.m6.1.1.3.cmml" xref="S2.F3.15.6.m6.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F3.15.6.m6.1d">\mu=0</annotation></semantics></math> and <math id="S2.F3.16.7.m7.1" class="ltx_Math" alttext="\sigma=20" display="inline"><semantics id="S2.F3.16.7.m7.1b"><mrow id="S2.F3.16.7.m7.1.1" xref="S2.F3.16.7.m7.1.1.cmml"><mi id="S2.F3.16.7.m7.1.1.2" xref="S2.F3.16.7.m7.1.1.2.cmml">σ</mi><mo id="S2.F3.16.7.m7.1.1.1" xref="S2.F3.16.7.m7.1.1.1.cmml">=</mo><mn id="S2.F3.16.7.m7.1.1.3" xref="S2.F3.16.7.m7.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.F3.16.7.m7.1c"><apply id="S2.F3.16.7.m7.1.1.cmml" xref="S2.F3.16.7.m7.1.1"><eq id="S2.F3.16.7.m7.1.1.1.cmml" xref="S2.F3.16.7.m7.1.1.1"></eq><ci id="S2.F3.16.7.m7.1.1.2.cmml" xref="S2.F3.16.7.m7.1.1.2">𝜎</ci><cn type="integer" id="S2.F3.16.7.m7.1.1.3.cmml" xref="S2.F3.16.7.m7.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F3.16.7.m7.1d">\sigma=20</annotation></semantics></math>. Here we use batch size of <math id="S2.F3.17.8.m8.1" class="ltx_Math" alttext="50" display="inline"><semantics id="S2.F3.17.8.m8.1b"><mn id="S2.F3.17.8.m8.1.1" xref="S2.F3.17.8.m8.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S2.F3.17.8.m8.1c"><cn type="integer" id="S2.F3.17.8.m8.1.1.cmml" xref="S2.F3.17.8.m8.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.F3.17.8.m8.1d">50</annotation></semantics></math> and learning rate of <math id="S2.F3.18.9.m9.1" class="ltx_Math" alttext="0.05" display="inline"><semantics id="S2.F3.18.9.m9.1b"><mn id="S2.F3.18.9.m9.1.1" xref="S2.F3.18.9.m9.1.1.cmml">0.05</mn><annotation-xml encoding="MathML-Content" id="S2.F3.18.9.m9.1c"><cn type="float" id="S2.F3.18.9.m9.1.1.cmml" xref="S2.F3.18.9.m9.1.1">0.05</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.F3.18.9.m9.1d">0.05</annotation></semantics></math>.</span></figcaption>
</figure>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p">So far we have shown empirically that several well-known robust aggregation algorithms cannot defend against Byzantine attacks especially in the non-IID setting. Next, we discuss some challenges involved in this setting.</p>
</div>
<div id="S2.SS2.p4" class="ltx_para ltx_noindent">
<p id="S2.SS2.p4.1" class="ltx_p"><span id="S2.SS2.p4.1.1" class="ltx_text ltx_font_bold">Challenge One:</span> Can a robust aggregation algorithm smartly detect whether a worker sending “different” reply is a malicious worker or a benign worker with different local data distribution?</p>
</div>
<div id="S2.SS2.p5" class="ltx_para ltx_noindent">
<p id="S2.SS2.p5.1" class="ltx_p"><span id="S2.SS2.p5.1.1" class="ltx_text ltx_font_bold">Challenge Two:</span> Can a robust aggregation algorithm train a global model with reasonable performance under non-IID local data distribution setting?</p>
</div>
<div id="S2.SS2.p6" class="ltx_para ltx_noindent">
<p id="S2.SS2.p6.1" class="ltx_p"><span id="S2.SS2.p6.1.1" class="ltx_text ltx_font_bold">Challenge Three:</span> Can a robust aggregation algorithm utilizes all the information collected from workers to diagnosis the workers’ behavior?</p>
</div>
<div id="S2.SS2.p7" class="ltx_para">
<p id="S2.SS2.p7.1" class="ltx_p">It is well-known that different layers of a neural network have different functionality, and may behave different towards different input data samples which could be used for mitigating the effect of attack.
In the next section, we focus on investing how each layer of the neural network reacts to Byzantine threats in a federated learning system.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">A Pilot Study of Layer Robustness</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.2" class="ltx_p">Many existing robust aggregation algorithms utilize some form of outlier detection to filter out Byzantine gradients based on the assumption that, in comparison to Byzantine gradients, honest gradients will be “similar”.
Theoretically, the relative similarity of gradients will decrease as the similarity of their local distributions decreases.
In this section, we observe the effect of Byzantine threats from a different aspect, i.e., observing how different layers of the neural network react to a Byzantine attack in the FL system.
In Figure <a href="#S3.F4" title="Figure 4 ‣ III A Pilot Study of Layer Robustness ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, we highlight some results that illustrate key observations from our study of the response of gradients per layer to Byzantine attacks.
In this study, we train a simple convolutional neural network (CNN) with two convolutional layers and dense layers,
whose trainable layer weights and biases are listed in Table <a href="#S3.T1" title="TABLE I ‣ III A Pilot Study of Layer Robustness ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>,
in a FL system with ten workers. Each worker has <math id="S3.p1.1.m1.2" class="ltx_Math" alttext="1,000" display="inline"><semantics id="S3.p1.1.m1.2a"><mrow id="S3.p1.1.m1.2.3.2" xref="S3.p1.1.m1.2.3.1.cmml"><mn id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">1</mn><mo id="S3.p1.1.m1.2.3.2.1" xref="S3.p1.1.m1.2.3.1.cmml">,</mo><mn id="S3.p1.1.m1.2.2" xref="S3.p1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.2b"><list id="S3.p1.1.m1.2.3.1.cmml" xref="S3.p1.1.m1.2.3.2"><cn type="integer" id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1">1</cn><cn type="integer" id="S3.p1.1.m1.2.2.cmml" xref="S3.p1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.2c">1,000</annotation></semantics></math> data points randomly drawn from the MNIST dataset  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> so their local distributions are IID. We therefore expect local gradients to be relatively similar. By using <math id="S3.p1.2.m2.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S3.p1.2.m2.1a"><msub id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1.cmml"><mi mathvariant="normal" id="S3.p1.2.m2.1.1.2" xref="S3.p1.2.m2.1.1.2.cmml">ℓ</mi><mn id="S3.p1.2.m2.1.1.3" xref="S3.p1.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.1b"><apply id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.cmml" xref="S3.p1.2.m2.1.1">subscript</csymbol><ci id="S3.p1.2.m2.1.1.2.cmml" xref="S3.p1.2.m2.1.1.2">ℓ</ci><cn type="integer" id="S3.p1.2.m2.1.1.3.cmml" xref="S3.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.1c">\ell_{2}</annotation></semantics></math> norms to measure the difference among them, we confirm this expectation and further study the similarity at a layer level and with the inclusion of Byzantine gradients. But first, we provide the notation used throughout this paper.</p>
</div>
<figure id="S3.F4" class="ltx_figure"><img src="/html/2107.12490/assets/figures/pilot.png" id="S3.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F4.10.5.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S3.F4.8.4" class="ltx_text" style="font-size:80%;">Normalized <math id="S3.F4.5.1.m1.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S3.F4.5.1.m1.1b"><msub id="S3.F4.5.1.m1.1.1" xref="S3.F4.5.1.m1.1.1.cmml"><mi mathvariant="normal" id="S3.F4.5.1.m1.1.1.2" xref="S3.F4.5.1.m1.1.1.2.cmml">ℓ</mi><mn id="S3.F4.5.1.m1.1.1.3" xref="S3.F4.5.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.F4.5.1.m1.1c"><apply id="S3.F4.5.1.m1.1.1.cmml" xref="S3.F4.5.1.m1.1.1"><csymbol cd="ambiguous" id="S3.F4.5.1.m1.1.1.1.cmml" xref="S3.F4.5.1.m1.1.1">subscript</csymbol><ci id="S3.F4.5.1.m1.1.1.2.cmml" xref="S3.F4.5.1.m1.1.1.2">ℓ</ci><cn type="integer" id="S3.F4.5.1.m1.1.1.3.cmml" xref="S3.F4.5.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F4.5.1.m1.1d">\ell_{2}</annotation></semantics></math> norms associated with the biases of the first convolutional layer and the weights of the first dense layer. This experiment involves 10 workers with <math id="S3.F4.6.2.m2.2" class="ltx_Math" alttext="1,000" display="inline"><semantics id="S3.F4.6.2.m2.2b"><mrow id="S3.F4.6.2.m2.2.3.2" xref="S3.F4.6.2.m2.2.3.1.cmml"><mn id="S3.F4.6.2.m2.1.1" xref="S3.F4.6.2.m2.1.1.cmml">1</mn><mo id="S3.F4.6.2.m2.2.3.2.1" xref="S3.F4.6.2.m2.2.3.1.cmml">,</mo><mn id="S3.F4.6.2.m2.2.2" xref="S3.F4.6.2.m2.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.F4.6.2.m2.2c"><list id="S3.F4.6.2.m2.2.3.1.cmml" xref="S3.F4.6.2.m2.2.3.2"><cn type="integer" id="S3.F4.6.2.m2.1.1.cmml" xref="S3.F4.6.2.m2.1.1">1</cn><cn type="integer" id="S3.F4.6.2.m2.2.2.cmml" xref="S3.F4.6.2.m2.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S3.F4.6.2.m2.2d">1,000</annotation></semantics></math> IID data points from MNIST. We compare results with and without 2 Byzantine workers executing a Gaussian attack with <math id="S3.F4.7.3.m3.1" class="ltx_Math" alttext="\mu=0" display="inline"><semantics id="S3.F4.7.3.m3.1b"><mrow id="S3.F4.7.3.m3.1.1" xref="S3.F4.7.3.m3.1.1.cmml"><mi id="S3.F4.7.3.m3.1.1.2" xref="S3.F4.7.3.m3.1.1.2.cmml">μ</mi><mo id="S3.F4.7.3.m3.1.1.1" xref="S3.F4.7.3.m3.1.1.1.cmml">=</mo><mn id="S3.F4.7.3.m3.1.1.3" xref="S3.F4.7.3.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.F4.7.3.m3.1c"><apply id="S3.F4.7.3.m3.1.1.cmml" xref="S3.F4.7.3.m3.1.1"><eq id="S3.F4.7.3.m3.1.1.1.cmml" xref="S3.F4.7.3.m3.1.1.1"></eq><ci id="S3.F4.7.3.m3.1.1.2.cmml" xref="S3.F4.7.3.m3.1.1.2">𝜇</ci><cn type="integer" id="S3.F4.7.3.m3.1.1.3.cmml" xref="S3.F4.7.3.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F4.7.3.m3.1d">\mu=0</annotation></semantics></math> and <math id="S3.F4.8.4.m4.1" class="ltx_Math" alttext="\sigma=200" display="inline"><semantics id="S3.F4.8.4.m4.1b"><mrow id="S3.F4.8.4.m4.1.1" xref="S3.F4.8.4.m4.1.1.cmml"><mi id="S3.F4.8.4.m4.1.1.2" xref="S3.F4.8.4.m4.1.1.2.cmml">σ</mi><mo id="S3.F4.8.4.m4.1.1.1" xref="S3.F4.8.4.m4.1.1.1.cmml">=</mo><mn id="S3.F4.8.4.m4.1.1.3" xref="S3.F4.8.4.m4.1.1.3.cmml">200</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.F4.8.4.m4.1c"><apply id="S3.F4.8.4.m4.1.1.cmml" xref="S3.F4.8.4.m4.1.1"><eq id="S3.F4.8.4.m4.1.1.1.cmml" xref="S3.F4.8.4.m4.1.1.1"></eq><ci id="S3.F4.8.4.m4.1.1.2.cmml" xref="S3.F4.8.4.m4.1.1.2">𝜎</ci><cn type="integer" id="S3.F4.8.4.m4.1.1.3.cmml" xref="S3.F4.8.4.m4.1.1.3">200</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F4.8.4.m4.1d">\sigma=200</annotation></semantics></math>.</span></figcaption>
</figure>
<div id="S3.p2" class="ltx_para ltx_noindent">
<p id="S3.p2.11" class="ltx_p"><span id="S3.p2.11.1" class="ltx_text ltx_font_bold">Notation.</span>
We use <math id="S3.p2.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.p2.1.m1.1a"><mi id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><ci id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">n</annotation></semantics></math> to represent the total number of workers in a FL system. To denote the <math id="S3.p2.2.m2.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.p2.2.m2.1a"><mi id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><ci id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">d</annotation></semantics></math>-dimensional gradients of worker <math id="S3.p2.3.m3.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S3.p2.3.m3.1a"><mi id="S3.p2.3.m3.1.1" xref="S3.p2.3.m3.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.p2.3.m3.1b"><ci id="S3.p2.3.m3.1.1.cmml" xref="S3.p2.3.m3.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m3.1c">p</annotation></semantics></math> for layer <math id="S3.p2.4.m4.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S3.p2.4.m4.1a"><mi id="S3.p2.4.m4.1.1" xref="S3.p2.4.m4.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.1b"><ci id="S3.p2.4.m4.1.1.cmml" xref="S3.p2.4.m4.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.1c">l</annotation></semantics></math> at global training round <math id="S3.p2.5.m5.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.p2.5.m5.1a"><mi id="S3.p2.5.m5.1.1" xref="S3.p2.5.m5.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.p2.5.m5.1b"><ci id="S3.p2.5.m5.1.1.cmml" xref="S3.p2.5.m5.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m5.1c">t</annotation></semantics></math>, we use <math id="S3.p2.6.m6.2" class="ltx_Math" alttext="g^{t}_{p,l}\in\mathbb{R}^{d}" display="inline"><semantics id="S3.p2.6.m6.2a"><mrow id="S3.p2.6.m6.2.3" xref="S3.p2.6.m6.2.3.cmml"><msubsup id="S3.p2.6.m6.2.3.2" xref="S3.p2.6.m6.2.3.2.cmml"><mi id="S3.p2.6.m6.2.3.2.2.2" xref="S3.p2.6.m6.2.3.2.2.2.cmml">g</mi><mrow id="S3.p2.6.m6.2.2.2.4" xref="S3.p2.6.m6.2.2.2.3.cmml"><mi id="S3.p2.6.m6.1.1.1.1" xref="S3.p2.6.m6.1.1.1.1.cmml">p</mi><mo id="S3.p2.6.m6.2.2.2.4.1" xref="S3.p2.6.m6.2.2.2.3.cmml">,</mo><mi id="S3.p2.6.m6.2.2.2.2" xref="S3.p2.6.m6.2.2.2.2.cmml">l</mi></mrow><mi id="S3.p2.6.m6.2.3.2.2.3" xref="S3.p2.6.m6.2.3.2.2.3.cmml">t</mi></msubsup><mo id="S3.p2.6.m6.2.3.1" xref="S3.p2.6.m6.2.3.1.cmml">∈</mo><msup id="S3.p2.6.m6.2.3.3" xref="S3.p2.6.m6.2.3.3.cmml"><mi id="S3.p2.6.m6.2.3.3.2" xref="S3.p2.6.m6.2.3.3.2.cmml">ℝ</mi><mi id="S3.p2.6.m6.2.3.3.3" xref="S3.p2.6.m6.2.3.3.3.cmml">d</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.6.m6.2b"><apply id="S3.p2.6.m6.2.3.cmml" xref="S3.p2.6.m6.2.3"><in id="S3.p2.6.m6.2.3.1.cmml" xref="S3.p2.6.m6.2.3.1"></in><apply id="S3.p2.6.m6.2.3.2.cmml" xref="S3.p2.6.m6.2.3.2"><csymbol cd="ambiguous" id="S3.p2.6.m6.2.3.2.1.cmml" xref="S3.p2.6.m6.2.3.2">subscript</csymbol><apply id="S3.p2.6.m6.2.3.2.2.cmml" xref="S3.p2.6.m6.2.3.2"><csymbol cd="ambiguous" id="S3.p2.6.m6.2.3.2.2.1.cmml" xref="S3.p2.6.m6.2.3.2">superscript</csymbol><ci id="S3.p2.6.m6.2.3.2.2.2.cmml" xref="S3.p2.6.m6.2.3.2.2.2">𝑔</ci><ci id="S3.p2.6.m6.2.3.2.2.3.cmml" xref="S3.p2.6.m6.2.3.2.2.3">𝑡</ci></apply><list id="S3.p2.6.m6.2.2.2.3.cmml" xref="S3.p2.6.m6.2.2.2.4"><ci id="S3.p2.6.m6.1.1.1.1.cmml" xref="S3.p2.6.m6.1.1.1.1">𝑝</ci><ci id="S3.p2.6.m6.2.2.2.2.cmml" xref="S3.p2.6.m6.2.2.2.2">𝑙</ci></list></apply><apply id="S3.p2.6.m6.2.3.3.cmml" xref="S3.p2.6.m6.2.3.3"><csymbol cd="ambiguous" id="S3.p2.6.m6.2.3.3.1.cmml" xref="S3.p2.6.m6.2.3.3">superscript</csymbol><ci id="S3.p2.6.m6.2.3.3.2.cmml" xref="S3.p2.6.m6.2.3.3.2">ℝ</ci><ci id="S3.p2.6.m6.2.3.3.3.cmml" xref="S3.p2.6.m6.2.3.3.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.6.m6.2c">g^{t}_{p,l}\in\mathbb{R}^{d}</annotation></semantics></math>.
To denote the complete set of gradients of worker <math id="S3.p2.7.m7.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S3.p2.7.m7.1a"><mi id="S3.p2.7.m7.1.1" xref="S3.p2.7.m7.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.p2.7.m7.1b"><ci id="S3.p2.7.m7.1.1.cmml" xref="S3.p2.7.m7.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.7.m7.1c">p</annotation></semantics></math> at round <math id="S3.p2.8.m8.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.p2.8.m8.1a"><mi id="S3.p2.8.m8.1.1" xref="S3.p2.8.m8.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.p2.8.m8.1b"><ci id="S3.p2.8.m8.1.1.cmml" xref="S3.p2.8.m8.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.8.m8.1c">t</annotation></semantics></math>, we use <math id="S3.p2.9.m9.1" class="ltx_Math" alttext="G_{p}^{t}" display="inline"><semantics id="S3.p2.9.m9.1a"><msubsup id="S3.p2.9.m9.1.1" xref="S3.p2.9.m9.1.1.cmml"><mi id="S3.p2.9.m9.1.1.2.2" xref="S3.p2.9.m9.1.1.2.2.cmml">G</mi><mi id="S3.p2.9.m9.1.1.2.3" xref="S3.p2.9.m9.1.1.2.3.cmml">p</mi><mi id="S3.p2.9.m9.1.1.3" xref="S3.p2.9.m9.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.p2.9.m9.1b"><apply id="S3.p2.9.m9.1.1.cmml" xref="S3.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.p2.9.m9.1.1.1.cmml" xref="S3.p2.9.m9.1.1">superscript</csymbol><apply id="S3.p2.9.m9.1.1.2.cmml" xref="S3.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.p2.9.m9.1.1.2.1.cmml" xref="S3.p2.9.m9.1.1">subscript</csymbol><ci id="S3.p2.9.m9.1.1.2.2.cmml" xref="S3.p2.9.m9.1.1.2.2">𝐺</ci><ci id="S3.p2.9.m9.1.1.2.3.cmml" xref="S3.p2.9.m9.1.1.2.3">𝑝</ci></apply><ci id="S3.p2.9.m9.1.1.3.cmml" xref="S3.p2.9.m9.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.9.m9.1c">G_{p}^{t}</annotation></semantics></math>.
Finally, we use <math id="S3.p2.10.m10.1" class="ltx_Math" alttext="\mathcal{G}^{t}" display="inline"><semantics id="S3.p2.10.m10.1a"><msup id="S3.p2.10.m10.1.1" xref="S3.p2.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p2.10.m10.1.1.2" xref="S3.p2.10.m10.1.1.2.cmml">𝒢</mi><mi id="S3.p2.10.m10.1.1.3" xref="S3.p2.10.m10.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.p2.10.m10.1b"><apply id="S3.p2.10.m10.1.1.cmml" xref="S3.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.p2.10.m10.1.1.1.cmml" xref="S3.p2.10.m10.1.1">superscript</csymbol><ci id="S3.p2.10.m10.1.1.2.cmml" xref="S3.p2.10.m10.1.1.2">𝒢</ci><ci id="S3.p2.10.m10.1.1.3.cmml" xref="S3.p2.10.m10.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.10.m10.1c">\mathcal{G}^{t}</annotation></semantics></math> to represent a list of collected worker gradient vectors at round <math id="S3.p2.11.m11.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.p2.11.m11.1a"><mi id="S3.p2.11.m11.1.1" xref="S3.p2.11.m11.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.p2.11.m11.1b"><ci id="S3.p2.11.m11.1.1.cmml" xref="S3.p2.11.m11.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.11.m11.1c">t</annotation></semantics></math>.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<table id="S3.T1.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.2.1.1" class="ltx_tr">
<th id="S3.T1.2.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_l ltx_border_t" style="padding-bottom:2.15277pt;">Order</th>
<th id="S3.T1.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-bottom:2.15277pt;">Layer</th>
<th id="S3.T1.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-bottom:2.15277pt;">Parameters</th>
<th id="S3.T1.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" style="padding-bottom:2.15277pt;">Dimension</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.2.2.1" class="ltx_tr">
<td id="S3.T1.2.2.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_t" rowspan="2"><span id="S3.T1.2.2.1.1.1" class="ltx_text">1</span></td>
<td id="S3.T1.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t" rowspan="2"><span id="S3.T1.2.2.1.2.1" class="ltx_text">conv 1</span></td>
<td id="S3.T1.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t">weights</td>
<td id="S3.T1.2.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">288</td>
</tr>
<tr id="S3.T1.2.3.2" class="ltx_tr">
<td id="S3.T1.2.3.2.1" class="ltx_td ltx_align_center">biases</td>
<td id="S3.T1.2.3.2.2" class="ltx_td ltx_align_center ltx_border_r">32</td>
</tr>
<tr id="S3.T1.2.4.3" class="ltx_tr">
<td id="S3.T1.2.4.3.1" class="ltx_td ltx_align_center ltx_border_l" rowspan="2"><span id="S3.T1.2.4.3.1.1" class="ltx_text">2</span></td>
<td id="S3.T1.2.4.3.2" class="ltx_td ltx_align_center" rowspan="2"><span id="S3.T1.2.4.3.2.1" class="ltx_text">conv 2</span></td>
<td id="S3.T1.2.4.3.3" class="ltx_td ltx_align_center">weights</td>
<td id="S3.T1.2.4.3.4" class="ltx_td ltx_align_center ltx_border_r">18432</td>
</tr>
<tr id="S3.T1.2.5.4" class="ltx_tr">
<td id="S3.T1.2.5.4.1" class="ltx_td ltx_align_center">biases</td>
<td id="S3.T1.2.5.4.2" class="ltx_td ltx_align_center ltx_border_r">64</td>
</tr>
<tr id="S3.T1.2.6.5" class="ltx_tr">
<td id="S3.T1.2.6.5.1" class="ltx_td ltx_align_center ltx_border_l" rowspan="2"><span id="S3.T1.2.6.5.1.1" class="ltx_text">3</span></td>
<td id="S3.T1.2.6.5.2" class="ltx_td ltx_align_center" rowspan="2"><span id="S3.T1.2.6.5.2.1" class="ltx_text">dense 1</span></td>
<td id="S3.T1.2.6.5.3" class="ltx_td ltx_align_center">weights</td>
<td id="S3.T1.2.6.5.4" class="ltx_td ltx_align_center ltx_border_r">1179648</td>
</tr>
<tr id="S3.T1.2.7.6" class="ltx_tr">
<td id="S3.T1.2.7.6.1" class="ltx_td ltx_align_center">biases</td>
<td id="S3.T1.2.7.6.2" class="ltx_td ltx_align_center ltx_border_r">128</td>
</tr>
<tr id="S3.T1.2.8.7" class="ltx_tr">
<td id="S3.T1.2.8.7.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l" rowspan="2"><span id="S3.T1.2.8.7.1.1" class="ltx_text">4</span></td>
<td id="S3.T1.2.8.7.2" class="ltx_td ltx_align_center ltx_border_b" rowspan="2"><span id="S3.T1.2.8.7.2.1" class="ltx_text">dense 2</span></td>
<td id="S3.T1.2.8.7.3" class="ltx_td ltx_align_center">weights</td>
<td id="S3.T1.2.8.7.4" class="ltx_td ltx_align_center ltx_border_r">1280</td>
</tr>
<tr id="S3.T1.2.9.8" class="ltx_tr">
<td id="S3.T1.2.9.8.1" class="ltx_td ltx_align_center ltx_border_b" style="padding-bottom:4.30554pt;">biases</td>
<td id="S3.T1.2.9.8.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r" style="padding-bottom:4.30554pt;">10</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S3.T1.3.1.1" class="ltx_text" style="font-size:90%;">TABLE I</span>: </span><span id="S3.T1.4.2" class="ltx_text" style="font-size:90%;">List of trainable layers of a simple CNN.</span></figcaption>
</figure>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.3" class="ltx_p">At round <math id="S3.p3.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.p3.1.m1.1a"><mi id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><ci id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">t</annotation></semantics></math>, we compute the normalized <math id="S3.p3.2.m2.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S3.p3.2.m2.1a"><msub id="S3.p3.2.m2.1.1" xref="S3.p3.2.m2.1.1.cmml"><mi mathvariant="normal" id="S3.p3.2.m2.1.1.2" xref="S3.p3.2.m2.1.1.2.cmml">ℓ</mi><mn id="S3.p3.2.m2.1.1.3" xref="S3.p3.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p3.2.m2.1b"><apply id="S3.p3.2.m2.1.1.cmml" xref="S3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p3.2.m2.1.1.1.cmml" xref="S3.p3.2.m2.1.1">subscript</csymbol><ci id="S3.p3.2.m2.1.1.2.cmml" xref="S3.p3.2.m2.1.1.2">ℓ</ci><cn type="integer" id="S3.p3.2.m2.1.1.3.cmml" xref="S3.p3.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.2.m2.1c">\ell_{2}</annotation></semantics></math> norm of a specific layer, <math id="S3.p3.3.m3.1" class="ltx_Math" alttext="P^{t}_{l}" display="inline"><semantics id="S3.p3.3.m3.1a"><msubsup id="S3.p3.3.m3.1.1" xref="S3.p3.3.m3.1.1.cmml"><mi id="S3.p3.3.m3.1.1.2.2" xref="S3.p3.3.m3.1.1.2.2.cmml">P</mi><mi id="S3.p3.3.m3.1.1.3" xref="S3.p3.3.m3.1.1.3.cmml">l</mi><mi id="S3.p3.3.m3.1.1.2.3" xref="S3.p3.3.m3.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.p3.3.m3.1b"><apply id="S3.p3.3.m3.1.1.cmml" xref="S3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p3.3.m3.1.1.1.cmml" xref="S3.p3.3.m3.1.1">subscript</csymbol><apply id="S3.p3.3.m3.1.1.2.cmml" xref="S3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p3.3.m3.1.1.2.1.cmml" xref="S3.p3.3.m3.1.1">superscript</csymbol><ci id="S3.p3.3.m3.1.1.2.2.cmml" xref="S3.p3.3.m3.1.1.2.2">𝑃</ci><ci id="S3.p3.3.m3.1.1.2.3.cmml" xref="S3.p3.3.m3.1.1.2.3">𝑡</ci></apply><ci id="S3.p3.3.m3.1.1.3.cmml" xref="S3.p3.3.m3.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.3.m3.1c">P^{t}_{l}</annotation></semantics></math> across all parties as follows:</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.9" class="ltx_Math" alttext="P^{t}_{l}\leftarrow\frac{\parallel[g^{t}_{1,l},g^{t}_{2,l},...,g^{t}_{n,l}]\parallel_{2}}{\sum_{p=1}^{n}x_{p}}," display="block"><semantics id="S3.E2.m1.9a"><mrow id="S3.E2.m1.9.9.1" xref="S3.E2.m1.9.9.1.1.cmml"><mrow id="S3.E2.m1.9.9.1.1" xref="S3.E2.m1.9.9.1.1.cmml"><msubsup id="S3.E2.m1.9.9.1.1.2" xref="S3.E2.m1.9.9.1.1.2.cmml"><mi id="S3.E2.m1.9.9.1.1.2.2.2" xref="S3.E2.m1.9.9.1.1.2.2.2.cmml">P</mi><mi id="S3.E2.m1.9.9.1.1.2.3" xref="S3.E2.m1.9.9.1.1.2.3.cmml">l</mi><mi id="S3.E2.m1.9.9.1.1.2.2.3" xref="S3.E2.m1.9.9.1.1.2.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="S3.E2.m1.9.9.1.1.1" xref="S3.E2.m1.9.9.1.1.1.cmml">←</mo><mfrac id="S3.E2.m1.8.8" xref="S3.E2.m1.8.8.cmml"><msub id="S3.E2.m1.8.8.8" xref="S3.E2.m1.8.8.8.cmml"><mrow id="S3.E2.m1.8.8.8.8.1" xref="S3.E2.m1.8.8.8.8.2.cmml"><mo stretchy="false" id="S3.E2.m1.8.8.8.8.1.2" xref="S3.E2.m1.8.8.8.8.2.1.cmml">‖</mo><mrow id="S3.E2.m1.8.8.8.8.1.1.3" xref="S3.E2.m1.8.8.8.8.1.1.4.cmml"><mo stretchy="false" id="S3.E2.m1.8.8.8.8.1.1.3.4" xref="S3.E2.m1.8.8.8.8.1.1.4.cmml">[</mo><msubsup id="S3.E2.m1.8.8.8.8.1.1.1.1" xref="S3.E2.m1.8.8.8.8.1.1.1.1.cmml"><mi id="S3.E2.m1.8.8.8.8.1.1.1.1.2.2" xref="S3.E2.m1.8.8.8.8.1.1.1.1.2.2.cmml">g</mi><mrow id="S3.E2.m1.2.2.2.2.2.4" xref="S3.E2.m1.2.2.2.2.2.3.cmml"><mn id="S3.E2.m1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml">1</mn><mo id="S3.E2.m1.2.2.2.2.2.4.1" xref="S3.E2.m1.2.2.2.2.2.3.cmml">,</mo><mi id="S3.E2.m1.2.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.2.cmml">l</mi></mrow><mi id="S3.E2.m1.8.8.8.8.1.1.1.1.2.3" xref="S3.E2.m1.8.8.8.8.1.1.1.1.2.3.cmml">t</mi></msubsup><mo id="S3.E2.m1.8.8.8.8.1.1.3.5" xref="S3.E2.m1.8.8.8.8.1.1.4.cmml">,</mo><msubsup id="S3.E2.m1.8.8.8.8.1.1.2.2" xref="S3.E2.m1.8.8.8.8.1.1.2.2.cmml"><mi id="S3.E2.m1.8.8.8.8.1.1.2.2.2.2" xref="S3.E2.m1.8.8.8.8.1.1.2.2.2.2.cmml">g</mi><mrow id="S3.E2.m1.4.4.4.4.2.4" xref="S3.E2.m1.4.4.4.4.2.3.cmml"><mn id="S3.E2.m1.3.3.3.3.1.1" xref="S3.E2.m1.3.3.3.3.1.1.cmml">2</mn><mo id="S3.E2.m1.4.4.4.4.2.4.1" xref="S3.E2.m1.4.4.4.4.2.3.cmml">,</mo><mi id="S3.E2.m1.4.4.4.4.2.2" xref="S3.E2.m1.4.4.4.4.2.2.cmml">l</mi></mrow><mi id="S3.E2.m1.8.8.8.8.1.1.2.2.2.3" xref="S3.E2.m1.8.8.8.8.1.1.2.2.2.3.cmml">t</mi></msubsup><mo id="S3.E2.m1.8.8.8.8.1.1.3.6" xref="S3.E2.m1.8.8.8.8.1.1.4.cmml">,</mo><mi mathvariant="normal" id="S3.E2.m1.7.7.7.7" xref="S3.E2.m1.7.7.7.7.cmml">…</mi><mo id="S3.E2.m1.8.8.8.8.1.1.3.7" xref="S3.E2.m1.8.8.8.8.1.1.4.cmml">,</mo><msubsup id="S3.E2.m1.8.8.8.8.1.1.3.3" xref="S3.E2.m1.8.8.8.8.1.1.3.3.cmml"><mi id="S3.E2.m1.8.8.8.8.1.1.3.3.2.2" xref="S3.E2.m1.8.8.8.8.1.1.3.3.2.2.cmml">g</mi><mrow id="S3.E2.m1.6.6.6.6.2.4" xref="S3.E2.m1.6.6.6.6.2.3.cmml"><mi id="S3.E2.m1.5.5.5.5.1.1" xref="S3.E2.m1.5.5.5.5.1.1.cmml">n</mi><mo id="S3.E2.m1.6.6.6.6.2.4.1" xref="S3.E2.m1.6.6.6.6.2.3.cmml">,</mo><mi id="S3.E2.m1.6.6.6.6.2.2" xref="S3.E2.m1.6.6.6.6.2.2.cmml">l</mi></mrow><mi id="S3.E2.m1.8.8.8.8.1.1.3.3.2.3" xref="S3.E2.m1.8.8.8.8.1.1.3.3.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="S3.E2.m1.8.8.8.8.1.1.3.8" xref="S3.E2.m1.8.8.8.8.1.1.4.cmml">]</mo></mrow><mo stretchy="false" id="S3.E2.m1.8.8.8.8.1.3" xref="S3.E2.m1.8.8.8.8.2.1.cmml">‖</mo></mrow><mn id="S3.E2.m1.8.8.8.10" xref="S3.E2.m1.8.8.8.10.cmml">2</mn></msub><mrow id="S3.E2.m1.8.8.10" xref="S3.E2.m1.8.8.10.cmml"><msubsup id="S3.E2.m1.8.8.10.1" xref="S3.E2.m1.8.8.10.1.cmml"><mo id="S3.E2.m1.8.8.10.1.2.2" xref="S3.E2.m1.8.8.10.1.2.2.cmml">∑</mo><mrow id="S3.E2.m1.8.8.10.1.2.3" xref="S3.E2.m1.8.8.10.1.2.3.cmml"><mi id="S3.E2.m1.8.8.10.1.2.3.2" xref="S3.E2.m1.8.8.10.1.2.3.2.cmml">p</mi><mo id="S3.E2.m1.8.8.10.1.2.3.1" xref="S3.E2.m1.8.8.10.1.2.3.1.cmml">=</mo><mn id="S3.E2.m1.8.8.10.1.2.3.3" xref="S3.E2.m1.8.8.10.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E2.m1.8.8.10.1.3" xref="S3.E2.m1.8.8.10.1.3.cmml">n</mi></msubsup><msub id="S3.E2.m1.8.8.10.2" xref="S3.E2.m1.8.8.10.2.cmml"><mi id="S3.E2.m1.8.8.10.2.2" xref="S3.E2.m1.8.8.10.2.2.cmml">x</mi><mi id="S3.E2.m1.8.8.10.2.3" xref="S3.E2.m1.8.8.10.2.3.cmml">p</mi></msub></mrow></mfrac></mrow><mo id="S3.E2.m1.9.9.1.2" xref="S3.E2.m1.9.9.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.9b"><apply id="S3.E2.m1.9.9.1.1.cmml" xref="S3.E2.m1.9.9.1"><ci id="S3.E2.m1.9.9.1.1.1.cmml" xref="S3.E2.m1.9.9.1.1.1">←</ci><apply id="S3.E2.m1.9.9.1.1.2.cmml" xref="S3.E2.m1.9.9.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.2.1.cmml" xref="S3.E2.m1.9.9.1.1.2">subscript</csymbol><apply id="S3.E2.m1.9.9.1.1.2.2.cmml" xref="S3.E2.m1.9.9.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.9.9.1.1.2.2.1.cmml" xref="S3.E2.m1.9.9.1.1.2">superscript</csymbol><ci id="S3.E2.m1.9.9.1.1.2.2.2.cmml" xref="S3.E2.m1.9.9.1.1.2.2.2">𝑃</ci><ci id="S3.E2.m1.9.9.1.1.2.2.3.cmml" xref="S3.E2.m1.9.9.1.1.2.2.3">𝑡</ci></apply><ci id="S3.E2.m1.9.9.1.1.2.3.cmml" xref="S3.E2.m1.9.9.1.1.2.3">𝑙</ci></apply><apply id="S3.E2.m1.8.8.cmml" xref="S3.E2.m1.8.8"><divide id="S3.E2.m1.8.8.9.cmml" xref="S3.E2.m1.8.8"></divide><apply id="S3.E2.m1.8.8.8.cmml" xref="S3.E2.m1.8.8.8"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.8.9.cmml" xref="S3.E2.m1.8.8.8">subscript</csymbol><apply id="S3.E2.m1.8.8.8.8.2.cmml" xref="S3.E2.m1.8.8.8.8.1"><csymbol cd="latexml" id="S3.E2.m1.8.8.8.8.2.1.cmml" xref="S3.E2.m1.8.8.8.8.1.2">norm</csymbol><list id="S3.E2.m1.8.8.8.8.1.1.4.cmml" xref="S3.E2.m1.8.8.8.8.1.1.3"><apply id="S3.E2.m1.8.8.8.8.1.1.1.1.cmml" xref="S3.E2.m1.8.8.8.8.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.8.8.1.1.1.1.1.cmml" xref="S3.E2.m1.8.8.8.8.1.1.1.1">subscript</csymbol><apply id="S3.E2.m1.8.8.8.8.1.1.1.1.2.cmml" xref="S3.E2.m1.8.8.8.8.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.8.8.1.1.1.1.2.1.cmml" xref="S3.E2.m1.8.8.8.8.1.1.1.1">superscript</csymbol><ci id="S3.E2.m1.8.8.8.8.1.1.1.1.2.2.cmml" xref="S3.E2.m1.8.8.8.8.1.1.1.1.2.2">𝑔</ci><ci id="S3.E2.m1.8.8.8.8.1.1.1.1.2.3.cmml" xref="S3.E2.m1.8.8.8.8.1.1.1.1.2.3">𝑡</ci></apply><list id="S3.E2.m1.2.2.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.2.4"><cn type="integer" id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1">1</cn><ci id="S3.E2.m1.2.2.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2">𝑙</ci></list></apply><apply id="S3.E2.m1.8.8.8.8.1.1.2.2.cmml" xref="S3.E2.m1.8.8.8.8.1.1.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.8.8.1.1.2.2.1.cmml" xref="S3.E2.m1.8.8.8.8.1.1.2.2">subscript</csymbol><apply id="S3.E2.m1.8.8.8.8.1.1.2.2.2.cmml" xref="S3.E2.m1.8.8.8.8.1.1.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.8.8.1.1.2.2.2.1.cmml" xref="S3.E2.m1.8.8.8.8.1.1.2.2">superscript</csymbol><ci id="S3.E2.m1.8.8.8.8.1.1.2.2.2.2.cmml" xref="S3.E2.m1.8.8.8.8.1.1.2.2.2.2">𝑔</ci><ci id="S3.E2.m1.8.8.8.8.1.1.2.2.2.3.cmml" xref="S3.E2.m1.8.8.8.8.1.1.2.2.2.3">𝑡</ci></apply><list id="S3.E2.m1.4.4.4.4.2.3.cmml" xref="S3.E2.m1.4.4.4.4.2.4"><cn type="integer" id="S3.E2.m1.3.3.3.3.1.1.cmml" xref="S3.E2.m1.3.3.3.3.1.1">2</cn><ci id="S3.E2.m1.4.4.4.4.2.2.cmml" xref="S3.E2.m1.4.4.4.4.2.2">𝑙</ci></list></apply><ci id="S3.E2.m1.7.7.7.7.cmml" xref="S3.E2.m1.7.7.7.7">…</ci><apply id="S3.E2.m1.8.8.8.8.1.1.3.3.cmml" xref="S3.E2.m1.8.8.8.8.1.1.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.8.8.1.1.3.3.1.cmml" xref="S3.E2.m1.8.8.8.8.1.1.3.3">subscript</csymbol><apply id="S3.E2.m1.8.8.8.8.1.1.3.3.2.cmml" xref="S3.E2.m1.8.8.8.8.1.1.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.8.8.1.1.3.3.2.1.cmml" xref="S3.E2.m1.8.8.8.8.1.1.3.3">superscript</csymbol><ci id="S3.E2.m1.8.8.8.8.1.1.3.3.2.2.cmml" xref="S3.E2.m1.8.8.8.8.1.1.3.3.2.2">𝑔</ci><ci id="S3.E2.m1.8.8.8.8.1.1.3.3.2.3.cmml" xref="S3.E2.m1.8.8.8.8.1.1.3.3.2.3">𝑡</ci></apply><list id="S3.E2.m1.6.6.6.6.2.3.cmml" xref="S3.E2.m1.6.6.6.6.2.4"><ci id="S3.E2.m1.5.5.5.5.1.1.cmml" xref="S3.E2.m1.5.5.5.5.1.1">𝑛</ci><ci id="S3.E2.m1.6.6.6.6.2.2.cmml" xref="S3.E2.m1.6.6.6.6.2.2">𝑙</ci></list></apply></list></apply><cn type="integer" id="S3.E2.m1.8.8.8.10.cmml" xref="S3.E2.m1.8.8.8.10">2</cn></apply><apply id="S3.E2.m1.8.8.10.cmml" xref="S3.E2.m1.8.8.10"><apply id="S3.E2.m1.8.8.10.1.cmml" xref="S3.E2.m1.8.8.10.1"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.10.1.1.cmml" xref="S3.E2.m1.8.8.10.1">superscript</csymbol><apply id="S3.E2.m1.8.8.10.1.2.cmml" xref="S3.E2.m1.8.8.10.1"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.10.1.2.1.cmml" xref="S3.E2.m1.8.8.10.1">subscript</csymbol><sum id="S3.E2.m1.8.8.10.1.2.2.cmml" xref="S3.E2.m1.8.8.10.1.2.2"></sum><apply id="S3.E2.m1.8.8.10.1.2.3.cmml" xref="S3.E2.m1.8.8.10.1.2.3"><eq id="S3.E2.m1.8.8.10.1.2.3.1.cmml" xref="S3.E2.m1.8.8.10.1.2.3.1"></eq><ci id="S3.E2.m1.8.8.10.1.2.3.2.cmml" xref="S3.E2.m1.8.8.10.1.2.3.2">𝑝</ci><cn type="integer" id="S3.E2.m1.8.8.10.1.2.3.3.cmml" xref="S3.E2.m1.8.8.10.1.2.3.3">1</cn></apply></apply><ci id="S3.E2.m1.8.8.10.1.3.cmml" xref="S3.E2.m1.8.8.10.1.3">𝑛</ci></apply><apply id="S3.E2.m1.8.8.10.2.cmml" xref="S3.E2.m1.8.8.10.2"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.10.2.1.cmml" xref="S3.E2.m1.8.8.10.2">subscript</csymbol><ci id="S3.E2.m1.8.8.10.2.2.cmml" xref="S3.E2.m1.8.8.10.2.2">𝑥</ci><ci id="S3.E2.m1.8.8.10.2.3.cmml" xref="S3.E2.m1.8.8.10.2.3">𝑝</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.9c">P^{t}_{l}\leftarrow\frac{\parallel[g^{t}_{1,l},g^{t}_{2,l},...,g^{t}_{n,l}]\parallel_{2}}{\sum_{p=1}^{n}x_{p}},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.p3.14" class="ltx_p">where <math id="S3.p3.4.m1.1" class="ltx_Math" alttext="x_{p}" display="inline"><semantics id="S3.p3.4.m1.1a"><msub id="S3.p3.4.m1.1.1" xref="S3.p3.4.m1.1.1.cmml"><mi id="S3.p3.4.m1.1.1.2" xref="S3.p3.4.m1.1.1.2.cmml">x</mi><mi id="S3.p3.4.m1.1.1.3" xref="S3.p3.4.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.4.m1.1b"><apply id="S3.p3.4.m1.1.1.cmml" xref="S3.p3.4.m1.1.1"><csymbol cd="ambiguous" id="S3.p3.4.m1.1.1.1.cmml" xref="S3.p3.4.m1.1.1">subscript</csymbol><ci id="S3.p3.4.m1.1.1.2.cmml" xref="S3.p3.4.m1.1.1.2">𝑥</ci><ci id="S3.p3.4.m1.1.1.3.cmml" xref="S3.p3.4.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.4.m1.1c">x_{p}</annotation></semantics></math> is the norm of the current gradient of worker <math id="S3.p3.5.m2.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S3.p3.5.m2.1a"><mi id="S3.p3.5.m2.1.1" xref="S3.p3.5.m2.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.p3.5.m2.1b"><ci id="S3.p3.5.m2.1.1.cmml" xref="S3.p3.5.m2.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.5.m2.1c">p</annotation></semantics></math>, i.e., <math id="S3.p3.6.m3.7" class="ltx_math_unparsed" alttext="x_{p}=\parallel&lt;g^{t}_{p,0},g^{t}_{p,1},\dots,g^{t}_{p,l}&gt;\parallel_{2}" display="inline"><semantics id="S3.p3.6.m3.7a"><mrow id="S3.p3.6.m3.7b"><msub id="S3.p3.6.m3.7.8"><mi id="S3.p3.6.m3.7.8.2">x</mi><mi id="S3.p3.6.m3.7.8.3">p</mi></msub><mo rspace="0em" id="S3.p3.6.m3.7.9">=</mo><mo lspace="0em" rspace="0.0835em" id="S3.p3.6.m3.7.10">∥</mo><mo lspace="0.0835em" id="S3.p3.6.m3.7.11">&lt;</mo><msubsup id="S3.p3.6.m3.7.12"><mi id="S3.p3.6.m3.7.12.2.2">g</mi><mrow id="S3.p3.6.m3.2.2.2.4"><mi id="S3.p3.6.m3.1.1.1.1">p</mi><mo id="S3.p3.6.m3.2.2.2.4.1">,</mo><mn id="S3.p3.6.m3.2.2.2.2">0</mn></mrow><mi id="S3.p3.6.m3.7.12.2.3">t</mi></msubsup><mo id="S3.p3.6.m3.7.13">,</mo><msubsup id="S3.p3.6.m3.7.14"><mi id="S3.p3.6.m3.7.14.2.2">g</mi><mrow id="S3.p3.6.m3.4.4.2.4"><mi id="S3.p3.6.m3.3.3.1.1">p</mi><mo id="S3.p3.6.m3.4.4.2.4.1">,</mo><mn id="S3.p3.6.m3.4.4.2.2">1</mn></mrow><mi id="S3.p3.6.m3.7.14.2.3">t</mi></msubsup><mo id="S3.p3.6.m3.7.15">,</mo><mi mathvariant="normal" id="S3.p3.6.m3.7.7">…</mi><mo id="S3.p3.6.m3.7.16">,</mo><msubsup id="S3.p3.6.m3.7.17"><mi id="S3.p3.6.m3.7.17.2.2">g</mi><mrow id="S3.p3.6.m3.6.6.2.4"><mi id="S3.p3.6.m3.5.5.1.1">p</mi><mo id="S3.p3.6.m3.6.6.2.4.1">,</mo><mi id="S3.p3.6.m3.6.6.2.2">l</mi></mrow><mi id="S3.p3.6.m3.7.17.2.3">t</mi></msubsup><mo rspace="0em" id="S3.p3.6.m3.7.18">&gt;</mo><msub id="S3.p3.6.m3.7.19"><mo lspace="0em" id="S3.p3.6.m3.7.19.2">∥</mo><mn id="S3.p3.6.m3.7.19.3">2</mn></msub></mrow><annotation encoding="application/x-tex" id="S3.p3.6.m3.7c">x_{p}=\parallel&lt;g^{t}_{p,0},g^{t}_{p,1},\dots,g^{t}_{p,l}&gt;\parallel_{2}</annotation></semantics></math>, and <math id="S3.p3.7.m4.10" class="ltx_Math" alttext="[g^{t}_{1,l},g^{t}_{2,l},...,g^{t}_{n,l}]" display="inline"><semantics id="S3.p3.7.m4.10a"><mrow id="S3.p3.7.m4.10.10.3" xref="S3.p3.7.m4.10.10.4.cmml"><mo stretchy="false" id="S3.p3.7.m4.10.10.3.4" xref="S3.p3.7.m4.10.10.4.cmml">[</mo><msubsup id="S3.p3.7.m4.8.8.1.1" xref="S3.p3.7.m4.8.8.1.1.cmml"><mi id="S3.p3.7.m4.8.8.1.1.2.2" xref="S3.p3.7.m4.8.8.1.1.2.2.cmml">g</mi><mrow id="S3.p3.7.m4.2.2.2.4" xref="S3.p3.7.m4.2.2.2.3.cmml"><mn id="S3.p3.7.m4.1.1.1.1" xref="S3.p3.7.m4.1.1.1.1.cmml">1</mn><mo id="S3.p3.7.m4.2.2.2.4.1" xref="S3.p3.7.m4.2.2.2.3.cmml">,</mo><mi id="S3.p3.7.m4.2.2.2.2" xref="S3.p3.7.m4.2.2.2.2.cmml">l</mi></mrow><mi id="S3.p3.7.m4.8.8.1.1.2.3" xref="S3.p3.7.m4.8.8.1.1.2.3.cmml">t</mi></msubsup><mo id="S3.p3.7.m4.10.10.3.5" xref="S3.p3.7.m4.10.10.4.cmml">,</mo><msubsup id="S3.p3.7.m4.9.9.2.2" xref="S3.p3.7.m4.9.9.2.2.cmml"><mi id="S3.p3.7.m4.9.9.2.2.2.2" xref="S3.p3.7.m4.9.9.2.2.2.2.cmml">g</mi><mrow id="S3.p3.7.m4.4.4.2.4" xref="S3.p3.7.m4.4.4.2.3.cmml"><mn id="S3.p3.7.m4.3.3.1.1" xref="S3.p3.7.m4.3.3.1.1.cmml">2</mn><mo id="S3.p3.7.m4.4.4.2.4.1" xref="S3.p3.7.m4.4.4.2.3.cmml">,</mo><mi id="S3.p3.7.m4.4.4.2.2" xref="S3.p3.7.m4.4.4.2.2.cmml">l</mi></mrow><mi id="S3.p3.7.m4.9.9.2.2.2.3" xref="S3.p3.7.m4.9.9.2.2.2.3.cmml">t</mi></msubsup><mo id="S3.p3.7.m4.10.10.3.6" xref="S3.p3.7.m4.10.10.4.cmml">,</mo><mi mathvariant="normal" id="S3.p3.7.m4.7.7" xref="S3.p3.7.m4.7.7.cmml">…</mi><mo id="S3.p3.7.m4.10.10.3.7" xref="S3.p3.7.m4.10.10.4.cmml">,</mo><msubsup id="S3.p3.7.m4.10.10.3.3" xref="S3.p3.7.m4.10.10.3.3.cmml"><mi id="S3.p3.7.m4.10.10.3.3.2.2" xref="S3.p3.7.m4.10.10.3.3.2.2.cmml">g</mi><mrow id="S3.p3.7.m4.6.6.2.4" xref="S3.p3.7.m4.6.6.2.3.cmml"><mi id="S3.p3.7.m4.5.5.1.1" xref="S3.p3.7.m4.5.5.1.1.cmml">n</mi><mo id="S3.p3.7.m4.6.6.2.4.1" xref="S3.p3.7.m4.6.6.2.3.cmml">,</mo><mi id="S3.p3.7.m4.6.6.2.2" xref="S3.p3.7.m4.6.6.2.2.cmml">l</mi></mrow><mi id="S3.p3.7.m4.10.10.3.3.2.3" xref="S3.p3.7.m4.10.10.3.3.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="S3.p3.7.m4.10.10.3.8" xref="S3.p3.7.m4.10.10.4.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.7.m4.10b"><list id="S3.p3.7.m4.10.10.4.cmml" xref="S3.p3.7.m4.10.10.3"><apply id="S3.p3.7.m4.8.8.1.1.cmml" xref="S3.p3.7.m4.8.8.1.1"><csymbol cd="ambiguous" id="S3.p3.7.m4.8.8.1.1.1.cmml" xref="S3.p3.7.m4.8.8.1.1">subscript</csymbol><apply id="S3.p3.7.m4.8.8.1.1.2.cmml" xref="S3.p3.7.m4.8.8.1.1"><csymbol cd="ambiguous" id="S3.p3.7.m4.8.8.1.1.2.1.cmml" xref="S3.p3.7.m4.8.8.1.1">superscript</csymbol><ci id="S3.p3.7.m4.8.8.1.1.2.2.cmml" xref="S3.p3.7.m4.8.8.1.1.2.2">𝑔</ci><ci id="S3.p3.7.m4.8.8.1.1.2.3.cmml" xref="S3.p3.7.m4.8.8.1.1.2.3">𝑡</ci></apply><list id="S3.p3.7.m4.2.2.2.3.cmml" xref="S3.p3.7.m4.2.2.2.4"><cn type="integer" id="S3.p3.7.m4.1.1.1.1.cmml" xref="S3.p3.7.m4.1.1.1.1">1</cn><ci id="S3.p3.7.m4.2.2.2.2.cmml" xref="S3.p3.7.m4.2.2.2.2">𝑙</ci></list></apply><apply id="S3.p3.7.m4.9.9.2.2.cmml" xref="S3.p3.7.m4.9.9.2.2"><csymbol cd="ambiguous" id="S3.p3.7.m4.9.9.2.2.1.cmml" xref="S3.p3.7.m4.9.9.2.2">subscript</csymbol><apply id="S3.p3.7.m4.9.9.2.2.2.cmml" xref="S3.p3.7.m4.9.9.2.2"><csymbol cd="ambiguous" id="S3.p3.7.m4.9.9.2.2.2.1.cmml" xref="S3.p3.7.m4.9.9.2.2">superscript</csymbol><ci id="S3.p3.7.m4.9.9.2.2.2.2.cmml" xref="S3.p3.7.m4.9.9.2.2.2.2">𝑔</ci><ci id="S3.p3.7.m4.9.9.2.2.2.3.cmml" xref="S3.p3.7.m4.9.9.2.2.2.3">𝑡</ci></apply><list id="S3.p3.7.m4.4.4.2.3.cmml" xref="S3.p3.7.m4.4.4.2.4"><cn type="integer" id="S3.p3.7.m4.3.3.1.1.cmml" xref="S3.p3.7.m4.3.3.1.1">2</cn><ci id="S3.p3.7.m4.4.4.2.2.cmml" xref="S3.p3.7.m4.4.4.2.2">𝑙</ci></list></apply><ci id="S3.p3.7.m4.7.7.cmml" xref="S3.p3.7.m4.7.7">…</ci><apply id="S3.p3.7.m4.10.10.3.3.cmml" xref="S3.p3.7.m4.10.10.3.3"><csymbol cd="ambiguous" id="S3.p3.7.m4.10.10.3.3.1.cmml" xref="S3.p3.7.m4.10.10.3.3">subscript</csymbol><apply id="S3.p3.7.m4.10.10.3.3.2.cmml" xref="S3.p3.7.m4.10.10.3.3"><csymbol cd="ambiguous" id="S3.p3.7.m4.10.10.3.3.2.1.cmml" xref="S3.p3.7.m4.10.10.3.3">superscript</csymbol><ci id="S3.p3.7.m4.10.10.3.3.2.2.cmml" xref="S3.p3.7.m4.10.10.3.3.2.2">𝑔</ci><ci id="S3.p3.7.m4.10.10.3.3.2.3.cmml" xref="S3.p3.7.m4.10.10.3.3.2.3">𝑡</ci></apply><list id="S3.p3.7.m4.6.6.2.3.cmml" xref="S3.p3.7.m4.6.6.2.4"><ci id="S3.p3.7.m4.5.5.1.1.cmml" xref="S3.p3.7.m4.5.5.1.1">𝑛</ci><ci id="S3.p3.7.m4.6.6.2.2.cmml" xref="S3.p3.7.m4.6.6.2.2">𝑙</ci></list></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.7.m4.10c">[g^{t}_{1,l},g^{t}_{2,l},...,g^{t}_{n,l}]</annotation></semantics></math> denotes a matrix with the <math id="S3.p3.8.m5.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S3.p3.8.m5.1a"><mi id="S3.p3.8.m5.1.1" xref="S3.p3.8.m5.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.p3.8.m5.1b"><ci id="S3.p3.8.m5.1.1.cmml" xref="S3.p3.8.m5.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.8.m5.1c">p</annotation></semantics></math>-th row being the <math id="S3.p3.9.m6.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S3.p3.9.m6.1a"><mi id="S3.p3.9.m6.1.1" xref="S3.p3.9.m6.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.p3.9.m6.1b"><ci id="S3.p3.9.m6.1.1.cmml" xref="S3.p3.9.m6.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.9.m6.1c">l</annotation></semantics></math>-th layer of worker <math id="S3.p3.10.m7.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S3.p3.10.m7.1a"><mi id="S3.p3.10.m7.1.1" xref="S3.p3.10.m7.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.p3.10.m7.1b"><ci id="S3.p3.10.m7.1.1.cmml" xref="S3.p3.10.m7.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.10.m7.1c">p</annotation></semantics></math>’s current gradient.
This is essentially measuring the variation across workers of the variation of their gradients, and the normalization (division by the <math id="S3.p3.11.m8.1" class="ltx_Math" alttext="\ell_{1}" display="inline"><semantics id="S3.p3.11.m8.1a"><msub id="S3.p3.11.m8.1.1" xref="S3.p3.11.m8.1.1.cmml"><mi mathvariant="normal" id="S3.p3.11.m8.1.1.2" xref="S3.p3.11.m8.1.1.2.cmml">ℓ</mi><mn id="S3.p3.11.m8.1.1.3" xref="S3.p3.11.m8.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p3.11.m8.1b"><apply id="S3.p3.11.m8.1.1.cmml" xref="S3.p3.11.m8.1.1"><csymbol cd="ambiguous" id="S3.p3.11.m8.1.1.1.cmml" xref="S3.p3.11.m8.1.1">subscript</csymbol><ci id="S3.p3.11.m8.1.1.2.cmml" xref="S3.p3.11.m8.1.1.2">ℓ</ci><cn type="integer" id="S3.p3.11.m8.1.1.3.cmml" xref="S3.p3.11.m8.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.11.m8.1c">\ell_{1}</annotation></semantics></math> norms of current gradients) eliminates the possible interference of the magnitude of gradient vectors on the comparison of gradients. We compute these normalized <math id="S3.p3.12.m9.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S3.p3.12.m9.1a"><msub id="S3.p3.12.m9.1.1" xref="S3.p3.12.m9.1.1.cmml"><mi mathvariant="normal" id="S3.p3.12.m9.1.1.2" xref="S3.p3.12.m9.1.1.2.cmml">ℓ</mi><mn id="S3.p3.12.m9.1.1.3" xref="S3.p3.12.m9.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p3.12.m9.1b"><apply id="S3.p3.12.m9.1.1.cmml" xref="S3.p3.12.m9.1.1"><csymbol cd="ambiguous" id="S3.p3.12.m9.1.1.1.cmml" xref="S3.p3.12.m9.1.1">subscript</csymbol><ci id="S3.p3.12.m9.1.1.2.cmml" xref="S3.p3.12.m9.1.1.2">ℓ</ci><cn type="integer" id="S3.p3.12.m9.1.1.3.cmml" xref="S3.p3.12.m9.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.12.m9.1c">\ell_{2}</annotation></semantics></math> norms across all ten workers at each round and compare the results between the layer weights and biases over time. We run this experiment both with and without two out of ten workers being Byzantine. These Byzantine workers execute a Gaussian attack by sending gradients that are randomly sampled from a Gaussian distribution, <math id="S3.p3.13.m10.2" class="ltx_Math" alttext="N(\mu,I\sigma^{2})" display="inline"><semantics id="S3.p3.13.m10.2a"><mrow id="S3.p3.13.m10.2.2" xref="S3.p3.13.m10.2.2.cmml"><mi id="S3.p3.13.m10.2.2.3" xref="S3.p3.13.m10.2.2.3.cmml">N</mi><mo lspace="0em" rspace="0em" id="S3.p3.13.m10.2.2.2" xref="S3.p3.13.m10.2.2.2.cmml">​</mo><mrow id="S3.p3.13.m10.2.2.1.1" xref="S3.p3.13.m10.2.2.1.2.cmml"><mo stretchy="false" id="S3.p3.13.m10.2.2.1.1.2" xref="S3.p3.13.m10.2.2.1.2.cmml">(</mo><mi id="S3.p3.13.m10.1.1" xref="S3.p3.13.m10.1.1.cmml">μ</mi><mo id="S3.p3.13.m10.2.2.1.1.3" xref="S3.p3.13.m10.2.2.1.2.cmml">,</mo><mrow id="S3.p3.13.m10.2.2.1.1.1" xref="S3.p3.13.m10.2.2.1.1.1.cmml"><mi id="S3.p3.13.m10.2.2.1.1.1.2" xref="S3.p3.13.m10.2.2.1.1.1.2.cmml">I</mi><mo lspace="0em" rspace="0em" id="S3.p3.13.m10.2.2.1.1.1.1" xref="S3.p3.13.m10.2.2.1.1.1.1.cmml">​</mo><msup id="S3.p3.13.m10.2.2.1.1.1.3" xref="S3.p3.13.m10.2.2.1.1.1.3.cmml"><mi id="S3.p3.13.m10.2.2.1.1.1.3.2" xref="S3.p3.13.m10.2.2.1.1.1.3.2.cmml">σ</mi><mn id="S3.p3.13.m10.2.2.1.1.1.3.3" xref="S3.p3.13.m10.2.2.1.1.1.3.3.cmml">2</mn></msup></mrow><mo stretchy="false" id="S3.p3.13.m10.2.2.1.1.4" xref="S3.p3.13.m10.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.13.m10.2b"><apply id="S3.p3.13.m10.2.2.cmml" xref="S3.p3.13.m10.2.2"><times id="S3.p3.13.m10.2.2.2.cmml" xref="S3.p3.13.m10.2.2.2"></times><ci id="S3.p3.13.m10.2.2.3.cmml" xref="S3.p3.13.m10.2.2.3">𝑁</ci><interval closure="open" id="S3.p3.13.m10.2.2.1.2.cmml" xref="S3.p3.13.m10.2.2.1.1"><ci id="S3.p3.13.m10.1.1.cmml" xref="S3.p3.13.m10.1.1">𝜇</ci><apply id="S3.p3.13.m10.2.2.1.1.1.cmml" xref="S3.p3.13.m10.2.2.1.1.1"><times id="S3.p3.13.m10.2.2.1.1.1.1.cmml" xref="S3.p3.13.m10.2.2.1.1.1.1"></times><ci id="S3.p3.13.m10.2.2.1.1.1.2.cmml" xref="S3.p3.13.m10.2.2.1.1.1.2">𝐼</ci><apply id="S3.p3.13.m10.2.2.1.1.1.3.cmml" xref="S3.p3.13.m10.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.p3.13.m10.2.2.1.1.1.3.1.cmml" xref="S3.p3.13.m10.2.2.1.1.1.3">superscript</csymbol><ci id="S3.p3.13.m10.2.2.1.1.1.3.2.cmml" xref="S3.p3.13.m10.2.2.1.1.1.3.2">𝜎</ci><cn type="integer" id="S3.p3.13.m10.2.2.1.1.1.3.3.cmml" xref="S3.p3.13.m10.2.2.1.1.1.3.3">2</cn></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.13.m10.2c">N(\mu,I\sigma^{2})</annotation></semantics></math>. We use the setup from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> with the distribution <math id="S3.p3.14.m11.2" class="ltx_Math" alttext="N(0,200^{2}I)" display="inline"><semantics id="S3.p3.14.m11.2a"><mrow id="S3.p3.14.m11.2.2" xref="S3.p3.14.m11.2.2.cmml"><mi id="S3.p3.14.m11.2.2.3" xref="S3.p3.14.m11.2.2.3.cmml">N</mi><mo lspace="0em" rspace="0em" id="S3.p3.14.m11.2.2.2" xref="S3.p3.14.m11.2.2.2.cmml">​</mo><mrow id="S3.p3.14.m11.2.2.1.1" xref="S3.p3.14.m11.2.2.1.2.cmml"><mo stretchy="false" id="S3.p3.14.m11.2.2.1.1.2" xref="S3.p3.14.m11.2.2.1.2.cmml">(</mo><mn id="S3.p3.14.m11.1.1" xref="S3.p3.14.m11.1.1.cmml">0</mn><mo id="S3.p3.14.m11.2.2.1.1.3" xref="S3.p3.14.m11.2.2.1.2.cmml">,</mo><mrow id="S3.p3.14.m11.2.2.1.1.1" xref="S3.p3.14.m11.2.2.1.1.1.cmml"><msup id="S3.p3.14.m11.2.2.1.1.1.2" xref="S3.p3.14.m11.2.2.1.1.1.2.cmml"><mn id="S3.p3.14.m11.2.2.1.1.1.2.2" xref="S3.p3.14.m11.2.2.1.1.1.2.2.cmml">200</mn><mn id="S3.p3.14.m11.2.2.1.1.1.2.3" xref="S3.p3.14.m11.2.2.1.1.1.2.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="S3.p3.14.m11.2.2.1.1.1.1" xref="S3.p3.14.m11.2.2.1.1.1.1.cmml">​</mo><mi id="S3.p3.14.m11.2.2.1.1.1.3" xref="S3.p3.14.m11.2.2.1.1.1.3.cmml">I</mi></mrow><mo stretchy="false" id="S3.p3.14.m11.2.2.1.1.4" xref="S3.p3.14.m11.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.14.m11.2b"><apply id="S3.p3.14.m11.2.2.cmml" xref="S3.p3.14.m11.2.2"><times id="S3.p3.14.m11.2.2.2.cmml" xref="S3.p3.14.m11.2.2.2"></times><ci id="S3.p3.14.m11.2.2.3.cmml" xref="S3.p3.14.m11.2.2.3">𝑁</ci><interval closure="open" id="S3.p3.14.m11.2.2.1.2.cmml" xref="S3.p3.14.m11.2.2.1.1"><cn type="integer" id="S3.p3.14.m11.1.1.cmml" xref="S3.p3.14.m11.1.1">0</cn><apply id="S3.p3.14.m11.2.2.1.1.1.cmml" xref="S3.p3.14.m11.2.2.1.1.1"><times id="S3.p3.14.m11.2.2.1.1.1.1.cmml" xref="S3.p3.14.m11.2.2.1.1.1.1"></times><apply id="S3.p3.14.m11.2.2.1.1.1.2.cmml" xref="S3.p3.14.m11.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.p3.14.m11.2.2.1.1.1.2.1.cmml" xref="S3.p3.14.m11.2.2.1.1.1.2">superscript</csymbol><cn type="integer" id="S3.p3.14.m11.2.2.1.1.1.2.2.cmml" xref="S3.p3.14.m11.2.2.1.1.1.2.2">200</cn><cn type="integer" id="S3.p3.14.m11.2.2.1.1.1.2.3.cmml" xref="S3.p3.14.m11.2.2.1.1.1.2.3">2</cn></apply><ci id="S3.p3.14.m11.2.2.1.1.1.3.cmml" xref="S3.p3.14.m11.2.2.1.1.1.3">𝐼</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.14.m11.2c">N(0,200^{2}I)</annotation></semantics></math>.</p>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.3" class="ltx_p">Figure <a href="#S3.F4" title="Figure 4 ‣ III A Pilot Study of Layer Robustness ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> compares the results for two layer parameters’ gradients under non-attack and Byzantine attack scenarios. In absence of the Byzantine attack, the bias gradients from the first convolutional layer have similar <math id="S3.p4.1.m1.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S3.p4.1.m1.1a"><msub id="S3.p4.1.m1.1.1" xref="S3.p4.1.m1.1.1.cmml"><mi mathvariant="normal" id="S3.p4.1.m1.1.1.2" xref="S3.p4.1.m1.1.1.2.cmml">ℓ</mi><mn id="S3.p4.1.m1.1.1.3" xref="S3.p4.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p4.1.m1.1b"><apply id="S3.p4.1.m1.1.1.cmml" xref="S3.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p4.1.m1.1.1.1.cmml" xref="S3.p4.1.m1.1.1">subscript</csymbol><ci id="S3.p4.1.m1.1.1.2.cmml" xref="S3.p4.1.m1.1.1.2">ℓ</ci><cn type="integer" id="S3.p4.1.m1.1.1.3.cmml" xref="S3.p4.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.1.m1.1c">\ell_{2}</annotation></semantics></math> norms to the weight gradients from the first dense layer until around round 150. Then, the convolutional bias gradient <math id="S3.p4.2.m2.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S3.p4.2.m2.1a"><msub id="S3.p4.2.m2.1.1" xref="S3.p4.2.m2.1.1.cmml"><mi mathvariant="normal" id="S3.p4.2.m2.1.1.2" xref="S3.p4.2.m2.1.1.2.cmml">ℓ</mi><mn id="S3.p4.2.m2.1.1.3" xref="S3.p4.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p4.2.m2.1b"><apply id="S3.p4.2.m2.1.1.cmml" xref="S3.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p4.2.m2.1.1.1.cmml" xref="S3.p4.2.m2.1.1">subscript</csymbol><ci id="S3.p4.2.m2.1.1.2.cmml" xref="S3.p4.2.m2.1.1.2">ℓ</ci><cn type="integer" id="S3.p4.2.m2.1.1.3.cmml" xref="S3.p4.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.2.m2.1c">\ell_{2}</annotation></semantics></math> norms become clearly larger and more varied across rounds than the weights of the first dense layer. In the Byzantine case, the convolutional bias norms start to even more decisively exceed the dense weight norms even earlier in training. While the variance of the dense <math id="S3.p4.3.m3.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S3.p4.3.m3.1a"><msub id="S3.p4.3.m3.1.1" xref="S3.p4.3.m3.1.1.cmml"><mi mathvariant="normal" id="S3.p4.3.m3.1.1.2" xref="S3.p4.3.m3.1.1.2.cmml">ℓ</mi><mn id="S3.p4.3.m3.1.1.3" xref="S3.p4.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p4.3.m3.1b"><apply id="S3.p4.3.m3.1.1.cmml" xref="S3.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p4.3.m3.1.1.1.cmml" xref="S3.p4.3.m3.1.1">subscript</csymbol><ci id="S3.p4.3.m3.1.1.2.cmml" xref="S3.p4.3.m3.1.1.2">ℓ</ci><cn type="integer" id="S3.p4.3.m3.1.1.3.cmml" xref="S3.p4.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.3.m3.1c">\ell_{2}</annotation></semantics></math> norms across rounds is comparatively small in both settings, the variance in the convolutional layer norms is significantly amplified with the addition of Byzantine workers. These patterns demonstrate the fact that the gradient variance imposed by the Byzantine workers is more drastically affecting the convolutional bias gradients than the dense weights. They also have larger and more varied norms across rounds in the attack and non-attack settings separately. Therefore, we conclude more generally that the layers whose gradient norms vary more across rounds have greater inherent vulnerability that is more intensely exploited by Byzantine attacks.</p>
</div>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">Layerwise Gradient Aggregation</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">This section describes LayerwisE Gradient AggregatTiOn (LEGATO): an aggregation algorithm that utilizes the observations from the pilot study to reweigh gradients based on layer-specific robustness.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS1.5.1.1" class="ltx_text">IV-A</span> </span><span id="S4.SS1.6.2" class="ltx_text ltx_font_italic">Threat Model</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">LEGATO’s goal is to be able to overcome erroneous or malicious gradients and it works under the following threat model. We assume that the server is honest and wants to detect malicious or erroneous gradients received during the training process.
Workers may be dishonest and try to provide gradient updates designed to evade detection. To ensure LEGATO is resilient against existing strenuous attacks such as <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, we assume that malicious workers may collude and obtain access to gradients of other workers to perform those attacks. Under this threat model, we design and assess LEGATO. We now present our LEGATO algorithm.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS2.5.1.1" class="ltx_text">IV-B</span> </span><span id="S4.SS2.6.2" class="ltx_text ltx_font_italic">LEGATO</span>
</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.3" class="ltx_p">We frame LEGATO, presented in Algorithm <a href="#alg2" title="In IV-B LEGATO ‣ IV Layerwise Gradient Aggregation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, in a vanilla FL pipeline (see Algorithm <a href="#alg1" title="In IV-B LEGATO ‣ IV Layerwise Gradient Aggregation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
For each round of training, the novel steps of LEGATO start when the server receives gradients from all of the workers. We solely consider a synchronous setting, meaning the server will wait until it receives responses from all queried workers. The server keeps a log, with maximum size <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">m</annotation></semantics></math>, of the most recent past gradients from all workers. At round <math id="S4.SS2.p1.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS2.p1.2.m2.1a"><mi id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><ci id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">t</annotation></semantics></math>, the log is denoted by <math id="S4.SS2.p1.3.m3.4" class="ltx_Math" alttext="\textit{GLog}:=[\mathcal{G}^{t-m},\mathcal{G}^{t-m+1},\dots,\mathcal{G}^{t-1}]" display="inline"><semantics id="S4.SS2.p1.3.m3.4a"><mrow id="S4.SS2.p1.3.m3.4.4" xref="S4.SS2.p1.3.m3.4.4.cmml"><mtext class="ltx_mathvariant_italic" id="S4.SS2.p1.3.m3.4.4.5" xref="S4.SS2.p1.3.m3.4.4.5a.cmml">GLog</mtext><mo lspace="0.278em" rspace="0.278em" id="S4.SS2.p1.3.m3.4.4.4" xref="S4.SS2.p1.3.m3.4.4.4.cmml">:=</mo><mrow id="S4.SS2.p1.3.m3.4.4.3.3" xref="S4.SS2.p1.3.m3.4.4.3.4.cmml"><mo stretchy="false" id="S4.SS2.p1.3.m3.4.4.3.3.4" xref="S4.SS2.p1.3.m3.4.4.3.4.cmml">[</mo><msup id="S4.SS2.p1.3.m3.2.2.1.1.1" xref="S4.SS2.p1.3.m3.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p1.3.m3.2.2.1.1.1.2" xref="S4.SS2.p1.3.m3.2.2.1.1.1.2.cmml">𝒢</mi><mrow id="S4.SS2.p1.3.m3.2.2.1.1.1.3" xref="S4.SS2.p1.3.m3.2.2.1.1.1.3.cmml"><mi id="S4.SS2.p1.3.m3.2.2.1.1.1.3.2" xref="S4.SS2.p1.3.m3.2.2.1.1.1.3.2.cmml">t</mi><mo id="S4.SS2.p1.3.m3.2.2.1.1.1.3.1" xref="S4.SS2.p1.3.m3.2.2.1.1.1.3.1.cmml">−</mo><mi id="S4.SS2.p1.3.m3.2.2.1.1.1.3.3" xref="S4.SS2.p1.3.m3.2.2.1.1.1.3.3.cmml">m</mi></mrow></msup><mo id="S4.SS2.p1.3.m3.4.4.3.3.5" xref="S4.SS2.p1.3.m3.4.4.3.4.cmml">,</mo><msup id="S4.SS2.p1.3.m3.3.3.2.2.2" xref="S4.SS2.p1.3.m3.3.3.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p1.3.m3.3.3.2.2.2.2" xref="S4.SS2.p1.3.m3.3.3.2.2.2.2.cmml">𝒢</mi><mrow id="S4.SS2.p1.3.m3.3.3.2.2.2.3" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.cmml"><mrow id="S4.SS2.p1.3.m3.3.3.2.2.2.3.2" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.cmml"><mi id="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.2" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.2.cmml">t</mi><mo id="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.1" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.1.cmml">−</mo><mi id="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.3" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.3.cmml">m</mi></mrow><mo id="S4.SS2.p1.3.m3.3.3.2.2.2.3.1" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.1.cmml">+</mo><mn id="S4.SS2.p1.3.m3.3.3.2.2.2.3.3" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.3.cmml">1</mn></mrow></msup><mo id="S4.SS2.p1.3.m3.4.4.3.3.6" xref="S4.SS2.p1.3.m3.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml">…</mi><mo id="S4.SS2.p1.3.m3.4.4.3.3.7" xref="S4.SS2.p1.3.m3.4.4.3.4.cmml">,</mo><msup id="S4.SS2.p1.3.m3.4.4.3.3.3" xref="S4.SS2.p1.3.m3.4.4.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p1.3.m3.4.4.3.3.3.2" xref="S4.SS2.p1.3.m3.4.4.3.3.3.2.cmml">𝒢</mi><mrow id="S4.SS2.p1.3.m3.4.4.3.3.3.3" xref="S4.SS2.p1.3.m3.4.4.3.3.3.3.cmml"><mi id="S4.SS2.p1.3.m3.4.4.3.3.3.3.2" xref="S4.SS2.p1.3.m3.4.4.3.3.3.3.2.cmml">t</mi><mo id="S4.SS2.p1.3.m3.4.4.3.3.3.3.1" xref="S4.SS2.p1.3.m3.4.4.3.3.3.3.1.cmml">−</mo><mn id="S4.SS2.p1.3.m3.4.4.3.3.3.3.3" xref="S4.SS2.p1.3.m3.4.4.3.3.3.3.3.cmml">1</mn></mrow></msup><mo stretchy="false" id="S4.SS2.p1.3.m3.4.4.3.3.8" xref="S4.SS2.p1.3.m3.4.4.3.4.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.4b"><apply id="S4.SS2.p1.3.m3.4.4.cmml" xref="S4.SS2.p1.3.m3.4.4"><csymbol cd="latexml" id="S4.SS2.p1.3.m3.4.4.4.cmml" xref="S4.SS2.p1.3.m3.4.4.4">assign</csymbol><ci id="S4.SS2.p1.3.m3.4.4.5a.cmml" xref="S4.SS2.p1.3.m3.4.4.5"><mtext class="ltx_mathvariant_italic" id="S4.SS2.p1.3.m3.4.4.5.cmml" xref="S4.SS2.p1.3.m3.4.4.5">GLog</mtext></ci><list id="S4.SS2.p1.3.m3.4.4.3.4.cmml" xref="S4.SS2.p1.3.m3.4.4.3.3"><apply id="S4.SS2.p1.3.m3.2.2.1.1.1.cmml" xref="S4.SS2.p1.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.2.2.1.1.1.1.cmml" xref="S4.SS2.p1.3.m3.2.2.1.1.1">superscript</csymbol><ci id="S4.SS2.p1.3.m3.2.2.1.1.1.2.cmml" xref="S4.SS2.p1.3.m3.2.2.1.1.1.2">𝒢</ci><apply id="S4.SS2.p1.3.m3.2.2.1.1.1.3.cmml" xref="S4.SS2.p1.3.m3.2.2.1.1.1.3"><minus id="S4.SS2.p1.3.m3.2.2.1.1.1.3.1.cmml" xref="S4.SS2.p1.3.m3.2.2.1.1.1.3.1"></minus><ci id="S4.SS2.p1.3.m3.2.2.1.1.1.3.2.cmml" xref="S4.SS2.p1.3.m3.2.2.1.1.1.3.2">𝑡</ci><ci id="S4.SS2.p1.3.m3.2.2.1.1.1.3.3.cmml" xref="S4.SS2.p1.3.m3.2.2.1.1.1.3.3">𝑚</ci></apply></apply><apply id="S4.SS2.p1.3.m3.3.3.2.2.2.cmml" xref="S4.SS2.p1.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.3.3.2.2.2.1.cmml" xref="S4.SS2.p1.3.m3.3.3.2.2.2">superscript</csymbol><ci id="S4.SS2.p1.3.m3.3.3.2.2.2.2.cmml" xref="S4.SS2.p1.3.m3.3.3.2.2.2.2">𝒢</ci><apply id="S4.SS2.p1.3.m3.3.3.2.2.2.3.cmml" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3"><plus id="S4.SS2.p1.3.m3.3.3.2.2.2.3.1.cmml" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.1"></plus><apply id="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.cmml" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.2"><minus id="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.1.cmml" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.1"></minus><ci id="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.2.cmml" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.2">𝑡</ci><ci id="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.3.cmml" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.2.3">𝑚</ci></apply><cn type="integer" id="S4.SS2.p1.3.m3.3.3.2.2.2.3.3.cmml" xref="S4.SS2.p1.3.m3.3.3.2.2.2.3.3">1</cn></apply></apply><ci id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1">…</ci><apply id="S4.SS2.p1.3.m3.4.4.3.3.3.cmml" xref="S4.SS2.p1.3.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.4.4.3.3.3.1.cmml" xref="S4.SS2.p1.3.m3.4.4.3.3.3">superscript</csymbol><ci id="S4.SS2.p1.3.m3.4.4.3.3.3.2.cmml" xref="S4.SS2.p1.3.m3.4.4.3.3.3.2">𝒢</ci><apply id="S4.SS2.p1.3.m3.4.4.3.3.3.3.cmml" xref="S4.SS2.p1.3.m3.4.4.3.3.3.3"><minus id="S4.SS2.p1.3.m3.4.4.3.3.3.3.1.cmml" xref="S4.SS2.p1.3.m3.4.4.3.3.3.3.1"></minus><ci id="S4.SS2.p1.3.m3.4.4.3.3.3.3.2.cmml" xref="S4.SS2.p1.3.m3.4.4.3.3.3.3.2">𝑡</ci><cn type="integer" id="S4.SS2.p1.3.m3.4.4.3.3.3.3.3.cmml" xref="S4.SS2.p1.3.m3.4.4.3.3.3.3.3">1</cn></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.4c">\textit{GLog}:=[\mathcal{G}^{t-m},\mathcal{G}^{t-m+1},\dots,\mathcal{G}^{t-1}]</annotation></semantics></math>.</p>
</div>
<figure id="alg1" class="ltx_float ltx_algorithm">
<div id="alg1.18" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="alg1.18.13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>

<span id="alg1.18.13.1" class="ltx_text ltx_font_bold">Server executes:</span>

</div>
<div id="alg1.7.1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="alg1.7.1.2" class="ltx_text ltx_font_bold">for</span> <em id="alg1.7.1.1" class="ltx_emph ltx_font_italic">each training round <math id="alg1.7.1.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="alg1.7.1.1.m1.1a"><mi id="alg1.7.1.1.m1.1.1" xref="alg1.7.1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="alg1.7.1.1.m1.1b"><ci id="alg1.7.1.1.m1.1.1.cmml" xref="alg1.7.1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.1.1.m1.1c">t</annotation></semantics></math> in MaxRound</em> <span id="alg1.7.1.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg1.8.2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="alg1.8.2.m1.1" class="ltx_Math" alttext="\mathcal{G}^{t}\leftarrow" display="inline"><semantics id="alg1.8.2.m1.1a"><mrow id="alg1.8.2.m1.1.1" xref="alg1.8.2.m1.1.1.cmml"><msup id="alg1.8.2.m1.1.1.2" xref="alg1.8.2.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.8.2.m1.1.1.2.2" xref="alg1.8.2.m1.1.1.2.2.cmml">𝒢</mi><mi id="alg1.8.2.m1.1.1.2.3" xref="alg1.8.2.m1.1.1.2.3.cmml">t</mi></msup><mo stretchy="false" id="alg1.8.2.m1.1.1.1" xref="alg1.8.2.m1.1.1.1.cmml">←</mo><mi id="alg1.8.2.m1.1.1.3" xref="alg1.8.2.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.8.2.m1.1b"><apply id="alg1.8.2.m1.1.1.cmml" xref="alg1.8.2.m1.1.1"><ci id="alg1.8.2.m1.1.1.1.cmml" xref="alg1.8.2.m1.1.1.1">←</ci><apply id="alg1.8.2.m1.1.1.2.cmml" xref="alg1.8.2.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.8.2.m1.1.1.2.1.cmml" xref="alg1.8.2.m1.1.1.2">superscript</csymbol><ci id="alg1.8.2.m1.1.1.2.2.cmml" xref="alg1.8.2.m1.1.1.2.2">𝒢</ci><ci id="alg1.8.2.m1.1.1.2.3.cmml" xref="alg1.8.2.m1.1.1.2.3">𝑡</ci></apply><csymbol cd="latexml" id="alg1.8.2.m1.1.1.3.cmml" xref="alg1.8.2.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.2.m1.1c">\mathcal{G}^{t}\leftarrow</annotation></semantics></math> new list;
</div>
<div id="alg1.9.3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg1.9.3.2" class="ltx_text ltx_font_bold">for</span> <em id="alg1.9.3.1" class="ltx_emph ltx_font_italic">each worker <math id="alg1.9.3.1.m1.1" class="ltx_Math" alttext="p\in\mathcal{P}" display="inline"><semantics id="alg1.9.3.1.m1.1a"><mrow id="alg1.9.3.1.m1.1.1" xref="alg1.9.3.1.m1.1.1.cmml"><mi id="alg1.9.3.1.m1.1.1.2" xref="alg1.9.3.1.m1.1.1.2.cmml">p</mi><mo id="alg1.9.3.1.m1.1.1.1" xref="alg1.9.3.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="alg1.9.3.1.m1.1.1.3" xref="alg1.9.3.1.m1.1.1.3.cmml">𝒫</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.9.3.1.m1.1b"><apply id="alg1.9.3.1.m1.1.1.cmml" xref="alg1.9.3.1.m1.1.1"><in id="alg1.9.3.1.m1.1.1.1.cmml" xref="alg1.9.3.1.m1.1.1.1"></in><ci id="alg1.9.3.1.m1.1.1.2.cmml" xref="alg1.9.3.1.m1.1.1.2">𝑝</ci><ci id="alg1.9.3.1.m1.1.1.3.cmml" xref="alg1.9.3.1.m1.1.1.3">𝒫</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.3.1.m1.1c">p\in\mathcal{P}</annotation></semantics></math></em> <span id="alg1.9.3.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg1.10.4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="alg1.10.4.m1.1" class="ltx_Math" alttext="G_{p}\leftarrow\textbf{GradientRequest}(\mathcal{M}_{\text{global}})" display="inline"><semantics id="alg1.10.4.m1.1a"><mrow id="alg1.10.4.m1.1.1" xref="alg1.10.4.m1.1.1.cmml"><msub id="alg1.10.4.m1.1.1.3" xref="alg1.10.4.m1.1.1.3.cmml"><mi id="alg1.10.4.m1.1.1.3.2" xref="alg1.10.4.m1.1.1.3.2.cmml">G</mi><mi id="alg1.10.4.m1.1.1.3.3" xref="alg1.10.4.m1.1.1.3.3.cmml">p</mi></msub><mo stretchy="false" id="alg1.10.4.m1.1.1.2" xref="alg1.10.4.m1.1.1.2.cmml">←</mo><mrow id="alg1.10.4.m1.1.1.1" xref="alg1.10.4.m1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.10.4.m1.1.1.1.3" xref="alg1.10.4.m1.1.1.1.3a.cmml">GradientRequest</mtext><mo lspace="0em" rspace="0em" id="alg1.10.4.m1.1.1.1.2" xref="alg1.10.4.m1.1.1.1.2.cmml">​</mo><mrow id="alg1.10.4.m1.1.1.1.1.1" xref="alg1.10.4.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.10.4.m1.1.1.1.1.1.2" xref="alg1.10.4.m1.1.1.1.1.1.1.cmml">(</mo><msub id="alg1.10.4.m1.1.1.1.1.1.1" xref="alg1.10.4.m1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.10.4.m1.1.1.1.1.1.1.2" xref="alg1.10.4.m1.1.1.1.1.1.1.2.cmml">ℳ</mi><mtext id="alg1.10.4.m1.1.1.1.1.1.1.3" xref="alg1.10.4.m1.1.1.1.1.1.1.3a.cmml">global</mtext></msub><mo stretchy="false" id="alg1.10.4.m1.1.1.1.1.1.3" xref="alg1.10.4.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.10.4.m1.1b"><apply id="alg1.10.4.m1.1.1.cmml" xref="alg1.10.4.m1.1.1"><ci id="alg1.10.4.m1.1.1.2.cmml" xref="alg1.10.4.m1.1.1.2">←</ci><apply id="alg1.10.4.m1.1.1.3.cmml" xref="alg1.10.4.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.10.4.m1.1.1.3.1.cmml" xref="alg1.10.4.m1.1.1.3">subscript</csymbol><ci id="alg1.10.4.m1.1.1.3.2.cmml" xref="alg1.10.4.m1.1.1.3.2">𝐺</ci><ci id="alg1.10.4.m1.1.1.3.3.cmml" xref="alg1.10.4.m1.1.1.3.3">𝑝</ci></apply><apply id="alg1.10.4.m1.1.1.1.cmml" xref="alg1.10.4.m1.1.1.1"><times id="alg1.10.4.m1.1.1.1.2.cmml" xref="alg1.10.4.m1.1.1.1.2"></times><ci id="alg1.10.4.m1.1.1.1.3a.cmml" xref="alg1.10.4.m1.1.1.1.3"><mtext class="ltx_mathvariant_bold" id="alg1.10.4.m1.1.1.1.3.cmml" xref="alg1.10.4.m1.1.1.1.3">GradientRequest</mtext></ci><apply id="alg1.10.4.m1.1.1.1.1.1.1.cmml" xref="alg1.10.4.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.10.4.m1.1.1.1.1.1.1.1.cmml" xref="alg1.10.4.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.10.4.m1.1.1.1.1.1.1.2.cmml" xref="alg1.10.4.m1.1.1.1.1.1.1.2">ℳ</ci><ci id="alg1.10.4.m1.1.1.1.1.1.1.3a.cmml" xref="alg1.10.4.m1.1.1.1.1.1.1.3"><mtext mathsize="70%" id="alg1.10.4.m1.1.1.1.1.1.1.3.cmml" xref="alg1.10.4.m1.1.1.1.1.1.1.3">global</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.10.4.m1.1c">G_{p}\leftarrow\textbf{GradientRequest}(\mathcal{M}_{\text{global}})</annotation></semantics></math>;
</div>
<div id="alg1.12.6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
add <math id="alg1.11.5.m1.1" class="ltx_Math" alttext="G_{p}" display="inline"><semantics id="alg1.11.5.m1.1a"><msub id="alg1.11.5.m1.1.1" xref="alg1.11.5.m1.1.1.cmml"><mi id="alg1.11.5.m1.1.1.2" xref="alg1.11.5.m1.1.1.2.cmml">G</mi><mi id="alg1.11.5.m1.1.1.3" xref="alg1.11.5.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.11.5.m1.1b"><apply id="alg1.11.5.m1.1.1.cmml" xref="alg1.11.5.m1.1.1"><csymbol cd="ambiguous" id="alg1.11.5.m1.1.1.1.cmml" xref="alg1.11.5.m1.1.1">subscript</csymbol><ci id="alg1.11.5.m1.1.1.2.cmml" xref="alg1.11.5.m1.1.1.2">𝐺</ci><ci id="alg1.11.5.m1.1.1.3.cmml" xref="alg1.11.5.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.5.m1.1c">G_{p}</annotation></semantics></math> to <math id="alg1.12.6.m2.1" class="ltx_Math" alttext="\mathcal{G}^{t}" display="inline"><semantics id="alg1.12.6.m2.1a"><msup id="alg1.12.6.m2.1.1" xref="alg1.12.6.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.12.6.m2.1.1.2" xref="alg1.12.6.m2.1.1.2.cmml">𝒢</mi><mi id="alg1.12.6.m2.1.1.3" xref="alg1.12.6.m2.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.12.6.m2.1b"><apply id="alg1.12.6.m2.1.1.cmml" xref="alg1.12.6.m2.1.1"><csymbol cd="ambiguous" id="alg1.12.6.m2.1.1.1.cmml" xref="alg1.12.6.m2.1.1">superscript</csymbol><ci id="alg1.12.6.m2.1.1.2.cmml" xref="alg1.12.6.m2.1.1.2">𝒢</ci><ci id="alg1.12.6.m2.1.1.3.cmml" xref="alg1.12.6.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.12.6.m2.1c">\mathcal{G}^{t}</annotation></semantics></math>;
</div>
<div id="alg1.18.14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="alg1.18.15" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="alg1.18.15.1" class="ltx_text ltx_font_typewriter">// </span><span id="alg1.18.15.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">Aggregates gradients </span>
</div>
<div id="alg1.13.7" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="alg1.13.7.m1.1" class="ltx_Math" alttext="\mathcal{G}^{t}_{agg}=\text{LEGATO}(\mathcal{G}^{t})" display="inline"><semantics id="alg1.13.7.m1.1a"><mrow id="alg1.13.7.m1.1.1" xref="alg1.13.7.m1.1.1.cmml"><msubsup id="alg1.13.7.m1.1.1.3" xref="alg1.13.7.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.13.7.m1.1.1.3.2.2" xref="alg1.13.7.m1.1.1.3.2.2.cmml">𝒢</mi><mrow id="alg1.13.7.m1.1.1.3.3" xref="alg1.13.7.m1.1.1.3.3.cmml"><mi id="alg1.13.7.m1.1.1.3.3.2" xref="alg1.13.7.m1.1.1.3.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.13.7.m1.1.1.3.3.1" xref="alg1.13.7.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.13.7.m1.1.1.3.3.3" xref="alg1.13.7.m1.1.1.3.3.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg1.13.7.m1.1.1.3.3.1a" xref="alg1.13.7.m1.1.1.3.3.1.cmml">​</mo><mi id="alg1.13.7.m1.1.1.3.3.4" xref="alg1.13.7.m1.1.1.3.3.4.cmml">g</mi></mrow><mi id="alg1.13.7.m1.1.1.3.2.3" xref="alg1.13.7.m1.1.1.3.2.3.cmml">t</mi></msubsup><mo id="alg1.13.7.m1.1.1.2" xref="alg1.13.7.m1.1.1.2.cmml">=</mo><mrow id="alg1.13.7.m1.1.1.1" xref="alg1.13.7.m1.1.1.1.cmml"><mtext id="alg1.13.7.m1.1.1.1.3" xref="alg1.13.7.m1.1.1.1.3a.cmml">LEGATO</mtext><mo lspace="0em" rspace="0em" id="alg1.13.7.m1.1.1.1.2" xref="alg1.13.7.m1.1.1.1.2.cmml">​</mo><mrow id="alg1.13.7.m1.1.1.1.1.1" xref="alg1.13.7.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.13.7.m1.1.1.1.1.1.2" xref="alg1.13.7.m1.1.1.1.1.1.1.cmml">(</mo><msup id="alg1.13.7.m1.1.1.1.1.1.1" xref="alg1.13.7.m1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.13.7.m1.1.1.1.1.1.1.2" xref="alg1.13.7.m1.1.1.1.1.1.1.2.cmml">𝒢</mi><mi id="alg1.13.7.m1.1.1.1.1.1.1.3" xref="alg1.13.7.m1.1.1.1.1.1.1.3.cmml">t</mi></msup><mo stretchy="false" id="alg1.13.7.m1.1.1.1.1.1.3" xref="alg1.13.7.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.13.7.m1.1b"><apply id="alg1.13.7.m1.1.1.cmml" xref="alg1.13.7.m1.1.1"><eq id="alg1.13.7.m1.1.1.2.cmml" xref="alg1.13.7.m1.1.1.2"></eq><apply id="alg1.13.7.m1.1.1.3.cmml" xref="alg1.13.7.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.13.7.m1.1.1.3.1.cmml" xref="alg1.13.7.m1.1.1.3">subscript</csymbol><apply id="alg1.13.7.m1.1.1.3.2.cmml" xref="alg1.13.7.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.13.7.m1.1.1.3.2.1.cmml" xref="alg1.13.7.m1.1.1.3">superscript</csymbol><ci id="alg1.13.7.m1.1.1.3.2.2.cmml" xref="alg1.13.7.m1.1.1.3.2.2">𝒢</ci><ci id="alg1.13.7.m1.1.1.3.2.3.cmml" xref="alg1.13.7.m1.1.1.3.2.3">𝑡</ci></apply><apply id="alg1.13.7.m1.1.1.3.3.cmml" xref="alg1.13.7.m1.1.1.3.3"><times id="alg1.13.7.m1.1.1.3.3.1.cmml" xref="alg1.13.7.m1.1.1.3.3.1"></times><ci id="alg1.13.7.m1.1.1.3.3.2.cmml" xref="alg1.13.7.m1.1.1.3.3.2">𝑎</ci><ci id="alg1.13.7.m1.1.1.3.3.3.cmml" xref="alg1.13.7.m1.1.1.3.3.3">𝑔</ci><ci id="alg1.13.7.m1.1.1.3.3.4.cmml" xref="alg1.13.7.m1.1.1.3.3.4">𝑔</ci></apply></apply><apply id="alg1.13.7.m1.1.1.1.cmml" xref="alg1.13.7.m1.1.1.1"><times id="alg1.13.7.m1.1.1.1.2.cmml" xref="alg1.13.7.m1.1.1.1.2"></times><ci id="alg1.13.7.m1.1.1.1.3a.cmml" xref="alg1.13.7.m1.1.1.1.3"><mtext id="alg1.13.7.m1.1.1.1.3.cmml" xref="alg1.13.7.m1.1.1.1.3">LEGATO</mtext></ci><apply id="alg1.13.7.m1.1.1.1.1.1.1.cmml" xref="alg1.13.7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.13.7.m1.1.1.1.1.1.1.1.cmml" xref="alg1.13.7.m1.1.1.1.1.1">superscript</csymbol><ci id="alg1.13.7.m1.1.1.1.1.1.1.2.cmml" xref="alg1.13.7.m1.1.1.1.1.1.1.2">𝒢</ci><ci id="alg1.13.7.m1.1.1.1.1.1.1.3.cmml" xref="alg1.13.7.m1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.13.7.m1.1c">\mathcal{G}^{t}_{agg}=\text{LEGATO}(\mathcal{G}^{t})</annotation></semantics></math> <span id="alg1.13.7.1" class="ltx_text ltx_font_typewriter">// </span><span id="alg1.13.7.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(Algorithm 2) </span>
</div>
<div id="alg1.18.16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="alg1.15.9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   Update <math id="alg1.14.8.m1.1" class="ltx_Math" alttext="\mathcal{M}_{\text{global}}" display="inline"><semantics id="alg1.14.8.m1.1a"><msub id="alg1.14.8.m1.1.1" xref="alg1.14.8.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.14.8.m1.1.1.2" xref="alg1.14.8.m1.1.1.2.cmml">ℳ</mi><mtext id="alg1.14.8.m1.1.1.3" xref="alg1.14.8.m1.1.1.3a.cmml">global</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.14.8.m1.1b"><apply id="alg1.14.8.m1.1.1.cmml" xref="alg1.14.8.m1.1.1"><csymbol cd="ambiguous" id="alg1.14.8.m1.1.1.1.cmml" xref="alg1.14.8.m1.1.1">subscript</csymbol><ci id="alg1.14.8.m1.1.1.2.cmml" xref="alg1.14.8.m1.1.1.2">ℳ</ci><ci id="alg1.14.8.m1.1.1.3a.cmml" xref="alg1.14.8.m1.1.1.3"><mtext mathsize="70%" id="alg1.14.8.m1.1.1.3.cmml" xref="alg1.14.8.m1.1.1.3">global</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.14.8.m1.1c">\mathcal{M}_{\text{global}}</annotation></semantics></math> via gradient descent using <math id="alg1.15.9.m2.1" class="ltx_Math" alttext="\mathcal{G}^{t}_{agg}" display="inline"><semantics id="alg1.15.9.m2.1a"><msubsup id="alg1.15.9.m2.1.1" xref="alg1.15.9.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.15.9.m2.1.1.2.2" xref="alg1.15.9.m2.1.1.2.2.cmml">𝒢</mi><mrow id="alg1.15.9.m2.1.1.3" xref="alg1.15.9.m2.1.1.3.cmml"><mi id="alg1.15.9.m2.1.1.3.2" xref="alg1.15.9.m2.1.1.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.15.9.m2.1.1.3.1" xref="alg1.15.9.m2.1.1.3.1.cmml">​</mo><mi id="alg1.15.9.m2.1.1.3.3" xref="alg1.15.9.m2.1.1.3.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg1.15.9.m2.1.1.3.1a" xref="alg1.15.9.m2.1.1.3.1.cmml">​</mo><mi id="alg1.15.9.m2.1.1.3.4" xref="alg1.15.9.m2.1.1.3.4.cmml">g</mi></mrow><mi id="alg1.15.9.m2.1.1.2.3" xref="alg1.15.9.m2.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.15.9.m2.1b"><apply id="alg1.15.9.m2.1.1.cmml" xref="alg1.15.9.m2.1.1"><csymbol cd="ambiguous" id="alg1.15.9.m2.1.1.1.cmml" xref="alg1.15.9.m2.1.1">subscript</csymbol><apply id="alg1.15.9.m2.1.1.2.cmml" xref="alg1.15.9.m2.1.1"><csymbol cd="ambiguous" id="alg1.15.9.m2.1.1.2.1.cmml" xref="alg1.15.9.m2.1.1">superscript</csymbol><ci id="alg1.15.9.m2.1.1.2.2.cmml" xref="alg1.15.9.m2.1.1.2.2">𝒢</ci><ci id="alg1.15.9.m2.1.1.2.3.cmml" xref="alg1.15.9.m2.1.1.2.3">𝑡</ci></apply><apply id="alg1.15.9.m2.1.1.3.cmml" xref="alg1.15.9.m2.1.1.3"><times id="alg1.15.9.m2.1.1.3.1.cmml" xref="alg1.15.9.m2.1.1.3.1"></times><ci id="alg1.15.9.m2.1.1.3.2.cmml" xref="alg1.15.9.m2.1.1.3.2">𝑎</ci><ci id="alg1.15.9.m2.1.1.3.3.cmml" xref="alg1.15.9.m2.1.1.3.3">𝑔</ci><ci id="alg1.15.9.m2.1.1.3.4.cmml" xref="alg1.15.9.m2.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.15.9.m2.1c">\mathcal{G}^{t}_{agg}</annotation></semantics></math>;
</div>
<div id="alg1.18.17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span> end for
</div>
<div id="alg1.18.18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span>
</div>
<div id="alg1.18.19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span>
</div>
<div id="alg1.18.20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span><span id="alg1.18.20.1" class="ltx_text ltx_font_bold">Worker executes:</span>

</div>
<div id="alg1.16.10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span><span id="alg1.16.10.1" class="ltx_text ltx_font_bold">GradientRequest</span>(<math id="alg1.16.10.m1.1" class="ltx_Math" alttext="\mathcal{M}_{\text{global}}" display="inline"><semantics id="alg1.16.10.m1.1a"><msub id="alg1.16.10.m1.1.1" xref="alg1.16.10.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.16.10.m1.1.1.2" xref="alg1.16.10.m1.1.1.2.cmml">ℳ</mi><mtext id="alg1.16.10.m1.1.1.3" xref="alg1.16.10.m1.1.1.3a.cmml">global</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.16.10.m1.1b"><apply id="alg1.16.10.m1.1.1.cmml" xref="alg1.16.10.m1.1.1"><csymbol cd="ambiguous" id="alg1.16.10.m1.1.1.1.cmml" xref="alg1.16.10.m1.1.1">subscript</csymbol><ci id="alg1.16.10.m1.1.1.2.cmml" xref="alg1.16.10.m1.1.1.2">ℳ</ci><ci id="alg1.16.10.m1.1.1.3a.cmml" xref="alg1.16.10.m1.1.1.3"><mtext mathsize="70%" id="alg1.16.10.m1.1.1.3.cmml" xref="alg1.16.10.m1.1.1.3">global</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.16.10.m1.1c">\mathcal{M}_{\text{global}}</annotation></semantics></math>):

</div>
<div id="alg1.17.11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span><math id="alg1.17.11.m1.2" class="ltx_Math" alttext="G_{p}\leftarrow\text{\bf GetGradient}(\mathcal{M}_{\text{global}},\ \mathcal{D}_{p})" display="inline"><semantics id="alg1.17.11.m1.2a"><mrow id="alg1.17.11.m1.2.2" xref="alg1.17.11.m1.2.2.cmml"><msub id="alg1.17.11.m1.2.2.4" xref="alg1.17.11.m1.2.2.4.cmml"><mi id="alg1.17.11.m1.2.2.4.2" xref="alg1.17.11.m1.2.2.4.2.cmml">G</mi><mi id="alg1.17.11.m1.2.2.4.3" xref="alg1.17.11.m1.2.2.4.3.cmml">p</mi></msub><mo stretchy="false" id="alg1.17.11.m1.2.2.3" xref="alg1.17.11.m1.2.2.3.cmml">←</mo><mrow id="alg1.17.11.m1.2.2.2" xref="alg1.17.11.m1.2.2.2.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.17.11.m1.2.2.2.4" xref="alg1.17.11.m1.2.2.2.4a.cmml">GetGradient</mtext><mo lspace="0em" rspace="0em" id="alg1.17.11.m1.2.2.2.3" xref="alg1.17.11.m1.2.2.2.3.cmml">​</mo><mrow id="alg1.17.11.m1.2.2.2.2.2" xref="alg1.17.11.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.17.11.m1.2.2.2.2.2.3" xref="alg1.17.11.m1.2.2.2.2.3.cmml">(</mo><msub id="alg1.17.11.m1.1.1.1.1.1.1" xref="alg1.17.11.m1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.17.11.m1.1.1.1.1.1.1.2" xref="alg1.17.11.m1.1.1.1.1.1.1.2.cmml">ℳ</mi><mtext id="alg1.17.11.m1.1.1.1.1.1.1.3" xref="alg1.17.11.m1.1.1.1.1.1.1.3a.cmml">global</mtext></msub><mo rspace="0.667em" id="alg1.17.11.m1.2.2.2.2.2.4" xref="alg1.17.11.m1.2.2.2.2.3.cmml">,</mo><msub id="alg1.17.11.m1.2.2.2.2.2.2" xref="alg1.17.11.m1.2.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.17.11.m1.2.2.2.2.2.2.2" xref="alg1.17.11.m1.2.2.2.2.2.2.2.cmml">𝒟</mi><mi id="alg1.17.11.m1.2.2.2.2.2.2.3" xref="alg1.17.11.m1.2.2.2.2.2.2.3.cmml">p</mi></msub><mo stretchy="false" id="alg1.17.11.m1.2.2.2.2.2.5" xref="alg1.17.11.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.17.11.m1.2b"><apply id="alg1.17.11.m1.2.2.cmml" xref="alg1.17.11.m1.2.2"><ci id="alg1.17.11.m1.2.2.3.cmml" xref="alg1.17.11.m1.2.2.3">←</ci><apply id="alg1.17.11.m1.2.2.4.cmml" xref="alg1.17.11.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.17.11.m1.2.2.4.1.cmml" xref="alg1.17.11.m1.2.2.4">subscript</csymbol><ci id="alg1.17.11.m1.2.2.4.2.cmml" xref="alg1.17.11.m1.2.2.4.2">𝐺</ci><ci id="alg1.17.11.m1.2.2.4.3.cmml" xref="alg1.17.11.m1.2.2.4.3">𝑝</ci></apply><apply id="alg1.17.11.m1.2.2.2.cmml" xref="alg1.17.11.m1.2.2.2"><times id="alg1.17.11.m1.2.2.2.3.cmml" xref="alg1.17.11.m1.2.2.2.3"></times><ci id="alg1.17.11.m1.2.2.2.4a.cmml" xref="alg1.17.11.m1.2.2.2.4"><mtext class="ltx_mathvariant_bold" id="alg1.17.11.m1.2.2.2.4.cmml" xref="alg1.17.11.m1.2.2.2.4">GetGradient</mtext></ci><interval closure="open" id="alg1.17.11.m1.2.2.2.2.3.cmml" xref="alg1.17.11.m1.2.2.2.2.2"><apply id="alg1.17.11.m1.1.1.1.1.1.1.cmml" xref="alg1.17.11.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.17.11.m1.1.1.1.1.1.1.1.cmml" xref="alg1.17.11.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.17.11.m1.1.1.1.1.1.1.2.cmml" xref="alg1.17.11.m1.1.1.1.1.1.1.2">ℳ</ci><ci id="alg1.17.11.m1.1.1.1.1.1.1.3a.cmml" xref="alg1.17.11.m1.1.1.1.1.1.1.3"><mtext mathsize="70%" id="alg1.17.11.m1.1.1.1.1.1.1.3.cmml" xref="alg1.17.11.m1.1.1.1.1.1.1.3">global</mtext></ci></apply><apply id="alg1.17.11.m1.2.2.2.2.2.2.cmml" xref="alg1.17.11.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.17.11.m1.2.2.2.2.2.2.1.cmml" xref="alg1.17.11.m1.2.2.2.2.2.2">subscript</csymbol><ci id="alg1.17.11.m1.2.2.2.2.2.2.2.cmml" xref="alg1.17.11.m1.2.2.2.2.2.2.2">𝒟</ci><ci id="alg1.17.11.m1.2.2.2.2.2.2.3.cmml" xref="alg1.17.11.m1.2.2.2.2.2.2.3">𝑝</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.17.11.m1.2c">G_{p}\leftarrow\text{\bf GetGradient}(\mathcal{M}_{\text{global}},\ \mathcal{D}_{p})</annotation></semantics></math>;
</div>
<div id="alg1.18.12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span>
<span id="alg1.18.12.2" class="ltx_text ltx_font_bold">return</span> <em id="alg1.18.12.1" class="ltx_emph ltx_font_italic"><math id="alg1.18.12.1.m1.1" class="ltx_Math" alttext="G_{p}" display="inline"><semantics id="alg1.18.12.1.m1.1a"><msub id="alg1.18.12.1.m1.1.1" xref="alg1.18.12.1.m1.1.1.cmml"><mi id="alg1.18.12.1.m1.1.1.2" xref="alg1.18.12.1.m1.1.1.2.cmml">G</mi><mi id="alg1.18.12.1.m1.1.1.3" xref="alg1.18.12.1.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.18.12.1.m1.1b"><apply id="alg1.18.12.1.m1.1.1.cmml" xref="alg1.18.12.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.18.12.1.m1.1.1.1.cmml" xref="alg1.18.12.1.m1.1.1">subscript</csymbol><ci id="alg1.18.12.1.m1.1.1.2.cmml" xref="alg1.18.12.1.m1.1.1.2">𝐺</ci><ci id="alg1.18.12.1.m1.1.1.3.cmml" xref="alg1.18.12.1.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.18.12.1.m1.1c">G_{p}</annotation></semantics></math></em>

</div>
<div id="alg1.18.21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span>
</div>
<div id="alg1.18.22" class="ltx_listingline">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.21.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span><span id="alg1.22.2" class="ltx_text ltx_font_smallcaps">Federated Learning with LEGATO.</span> Server trains the global model, <math id="alg1.4.m1.1" class="ltx_Math" alttext="\mathcal{M}_{\text{global}}" display="inline"><semantics id="alg1.4.m1.1b"><msub id="alg1.4.m1.1.1" xref="alg1.4.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.4.m1.1.1.2" xref="alg1.4.m1.1.1.2.cmml">ℳ</mi><mtext id="alg1.4.m1.1.1.3" xref="alg1.4.m1.1.1.3a.cmml">global</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.4.m1.1c"><apply id="alg1.4.m1.1.1.cmml" xref="alg1.4.m1.1.1"><csymbol cd="ambiguous" id="alg1.4.m1.1.1.1.cmml" xref="alg1.4.m1.1.1">subscript</csymbol><ci id="alg1.4.m1.1.1.2.cmml" xref="alg1.4.m1.1.1.2">ℳ</ci><ci id="alg1.4.m1.1.1.3a.cmml" xref="alg1.4.m1.1.1.3"><mtext mathsize="70%" id="alg1.4.m1.1.1.3.cmml" xref="alg1.4.m1.1.1.3">global</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.m1.1d">\mathcal{M}_{\text{global}}</annotation></semantics></math>, for a MaxRound rounds. Worker <math id="alg1.5.m2.1" class="ltx_Math" alttext="p\in\mathcal{P}" display="inline"><semantics id="alg1.5.m2.1b"><mrow id="alg1.5.m2.1.1" xref="alg1.5.m2.1.1.cmml"><mi id="alg1.5.m2.1.1.2" xref="alg1.5.m2.1.1.2.cmml">p</mi><mo id="alg1.5.m2.1.1.1" xref="alg1.5.m2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="alg1.5.m2.1.1.3" xref="alg1.5.m2.1.1.3.cmml">𝒫</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.5.m2.1c"><apply id="alg1.5.m2.1.1.cmml" xref="alg1.5.m2.1.1"><in id="alg1.5.m2.1.1.1.cmml" xref="alg1.5.m2.1.1.1"></in><ci id="alg1.5.m2.1.1.2.cmml" xref="alg1.5.m2.1.1.2">𝑝</ci><ci id="alg1.5.m2.1.1.3.cmml" xref="alg1.5.m2.1.1.3">𝒫</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.m2.1d">p\in\mathcal{P}</annotation></semantics></math> owns its local dataset, <math id="alg1.6.m3.1" class="ltx_Math" alttext="\mathcal{D}_{p}" display="inline"><semantics id="alg1.6.m3.1b"><msub id="alg1.6.m3.1.1" xref="alg1.6.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.6.m3.1.1.2" xref="alg1.6.m3.1.1.2.cmml">𝒟</mi><mi id="alg1.6.m3.1.1.3" xref="alg1.6.m3.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.6.m3.1c"><apply id="alg1.6.m3.1.1.cmml" xref="alg1.6.m3.1.1"><csymbol cd="ambiguous" id="alg1.6.m3.1.1.1.cmml" xref="alg1.6.m3.1.1">subscript</csymbol><ci id="alg1.6.m3.1.1.2.cmml" xref="alg1.6.m3.1.1.2">𝒟</ci><ci id="alg1.6.m3.1.1.3.cmml" xref="alg1.6.m3.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.m3.1d">\mathcal{D}_{p}</annotation></semantics></math>.</figcaption>
</figure>
<figure id="alg2" class="ltx_float ltx_algorithm">
<div id="alg2.29" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="alg2.29.20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>

<span id="alg2.29.20.1" class="ltx_text ltx_font_bold">Server executes:</span>

</div>
<div id="alg2.11.1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="alg2.11.1.2" class="ltx_text ltx_font_bold">if</span> <em id="alg2.11.1.1" class="ltx_emph ltx_font_italic"><math id="alg2.11.1.1.m1.1" class="ltx_Math" alttext="t=1" display="inline"><semantics id="alg2.11.1.1.m1.1a"><mrow id="alg2.11.1.1.m1.1.1" xref="alg2.11.1.1.m1.1.1.cmml"><mi id="alg2.11.1.1.m1.1.1.2" xref="alg2.11.1.1.m1.1.1.2.cmml">t</mi><mo id="alg2.11.1.1.m1.1.1.1" xref="alg2.11.1.1.m1.1.1.1.cmml">=</mo><mn id="alg2.11.1.1.m1.1.1.3" xref="alg2.11.1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg2.11.1.1.m1.1b"><apply id="alg2.11.1.1.m1.1.1.cmml" xref="alg2.11.1.1.m1.1.1"><eq id="alg2.11.1.1.m1.1.1.1.cmml" xref="alg2.11.1.1.m1.1.1.1"></eq><ci id="alg2.11.1.1.m1.1.1.2.cmml" xref="alg2.11.1.1.m1.1.1.2">𝑡</ci><cn type="integer" id="alg2.11.1.1.m1.1.1.3.cmml" xref="alg2.11.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.11.1.1.m1.1c">t=1</annotation></semantics></math></em> <span id="alg2.11.1.3" class="ltx_text ltx_font_bold">then</span>
</div>
<div id="alg2.29.21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
Initialize an empty log <span id="alg2.29.21.1" class="ltx_text ltx_font_italic">GLog</span>;
</div>
<div id="alg2.29.22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span id="alg2.29.22.1" class="ltx_text ltx_font_bold">else</span> 
</div>
<div id="alg2.13.3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg2.13.3.2" class="ltx_text ltx_font_bold">UpdateGradientLog(<math id="alg2.12.2.1.m1.1" class="ltx_Math" alttext="GLog" display="inline"><semantics id="alg2.12.2.1.m1.1a"><mrow id="alg2.12.2.1.m1.1.1" xref="alg2.12.2.1.m1.1.1.cmml"><mi id="alg2.12.2.1.m1.1.1.2" xref="alg2.12.2.1.m1.1.1.2.cmml">G</mi><mo lspace="0em" rspace="0em" id="alg2.12.2.1.m1.1.1.1" xref="alg2.12.2.1.m1.1.1.1.cmml">​</mo><mi id="alg2.12.2.1.m1.1.1.3" xref="alg2.12.2.1.m1.1.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="alg2.12.2.1.m1.1.1.1a" xref="alg2.12.2.1.m1.1.1.1.cmml">​</mo><mi id="alg2.12.2.1.m1.1.1.4" xref="alg2.12.2.1.m1.1.1.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.12.2.1.m1.1.1.1b" xref="alg2.12.2.1.m1.1.1.1.cmml">​</mo><mi id="alg2.12.2.1.m1.1.1.5" xref="alg2.12.2.1.m1.1.1.5.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.12.2.1.m1.1b"><apply id="alg2.12.2.1.m1.1.1.cmml" xref="alg2.12.2.1.m1.1.1"><times id="alg2.12.2.1.m1.1.1.1.cmml" xref="alg2.12.2.1.m1.1.1.1"></times><ci id="alg2.12.2.1.m1.1.1.2.cmml" xref="alg2.12.2.1.m1.1.1.2">𝐺</ci><ci id="alg2.12.2.1.m1.1.1.3.cmml" xref="alg2.12.2.1.m1.1.1.3">𝐿</ci><ci id="alg2.12.2.1.m1.1.1.4.cmml" xref="alg2.12.2.1.m1.1.1.4">𝑜</ci><ci id="alg2.12.2.1.m1.1.1.5.cmml" xref="alg2.12.2.1.m1.1.1.5">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.12.2.1.m1.1c">GLog</annotation></semantics></math>, <math id="alg2.13.3.2.m2.1" class="ltx_Math" alttext="\mathcal{G}^{t}" display="inline"><semantics id="alg2.13.3.2.m2.1a"><msup id="alg2.13.3.2.m2.1.1" xref="alg2.13.3.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.13.3.2.m2.1.1.2" xref="alg2.13.3.2.m2.1.1.2.cmml">𝒢</mi><mi id="alg2.13.3.2.m2.1.1.3" xref="alg2.13.3.2.m2.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="alg2.13.3.2.m2.1b"><apply id="alg2.13.3.2.m2.1.1.cmml" xref="alg2.13.3.2.m2.1.1"><csymbol cd="ambiguous" id="alg2.13.3.2.m2.1.1.1.cmml" xref="alg2.13.3.2.m2.1.1">superscript</csymbol><ci id="alg2.13.3.2.m2.1.1.2.cmml" xref="alg2.13.3.2.m2.1.1.2">𝒢</ci><ci id="alg2.13.3.2.m2.1.1.3.cmml" xref="alg2.13.3.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.13.3.2.m2.1c">\mathcal{G}^{t}</annotation></semantics></math>)</span>;
</div>
<div id="alg2.29.23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span> end if
</div>
<div id="alg2.14.4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span id="alg2.14.4.2" class="ltx_text ltx_font_bold">for</span> <em id="alg2.14.4.1" class="ltx_emph ltx_font_italic"><math id="alg2.14.4.1.m1.1" class="ltx_Math" alttext="\mathcal{G}^{i}" display="inline"><semantics id="alg2.14.4.1.m1.1a"><msup id="alg2.14.4.1.m1.1.1" xref="alg2.14.4.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.14.4.1.m1.1.1.2" xref="alg2.14.4.1.m1.1.1.2.cmml">𝒢</mi><mi id="alg2.14.4.1.m1.1.1.3" xref="alg2.14.4.1.m1.1.1.3.cmml">i</mi></msup><annotation-xml encoding="MathML-Content" id="alg2.14.4.1.m1.1b"><apply id="alg2.14.4.1.m1.1.1.cmml" xref="alg2.14.4.1.m1.1.1"><csymbol cd="ambiguous" id="alg2.14.4.1.m1.1.1.1.cmml" xref="alg2.14.4.1.m1.1.1">superscript</csymbol><ci id="alg2.14.4.1.m1.1.1.2.cmml" xref="alg2.14.4.1.m1.1.1.2">𝒢</ci><ci id="alg2.14.4.1.m1.1.1.3.cmml" xref="alg2.14.4.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.14.4.1.m1.1c">\mathcal{G}^{i}</annotation></semantics></math> in GLog</em> <span id="alg2.14.4.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg2.16.6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg2.16.6.3" class="ltx_text ltx_font_bold">for</span> <em id="alg2.16.6.2" class="ltx_emph ltx_font_italic"><math id="alg2.15.5.1.m1.1" class="ltx_Math" alttext="p" display="inline"><semantics id="alg2.15.5.1.m1.1a"><mi id="alg2.15.5.1.m1.1.1" xref="alg2.15.5.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="alg2.15.5.1.m1.1b"><ci id="alg2.15.5.1.m1.1.1.cmml" xref="alg2.15.5.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.15.5.1.m1.1c">p</annotation></semantics></math> in <math id="alg2.16.6.2.m2.1" class="ltx_Math" alttext="|\mathcal{P}|" display="inline"><semantics id="alg2.16.6.2.m2.1a"><mrow id="alg2.16.6.2.m2.1.2.2" xref="alg2.16.6.2.m2.1.2.1.cmml"><mo stretchy="false" id="alg2.16.6.2.m2.1.2.2.1" xref="alg2.16.6.2.m2.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="alg2.16.6.2.m2.1.1" xref="alg2.16.6.2.m2.1.1.cmml">𝒫</mi><mo stretchy="false" id="alg2.16.6.2.m2.1.2.2.2" xref="alg2.16.6.2.m2.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="alg2.16.6.2.m2.1b"><apply id="alg2.16.6.2.m2.1.2.1.cmml" xref="alg2.16.6.2.m2.1.2.2"><abs id="alg2.16.6.2.m2.1.2.1.1.cmml" xref="alg2.16.6.2.m2.1.2.2.1"></abs><ci id="alg2.16.6.2.m2.1.1.cmml" xref="alg2.16.6.2.m2.1.1">𝒫</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.16.6.2.m2.1c">|\mathcal{P}|</annotation></semantics></math></em> <span id="alg2.16.6.4" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg2.17.7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="alg2.17.7.m1.1" class="ltx_Math" alttext="x_{p}=\parallel G^{i}_{p}\parallel_{2}" display="inline"><semantics id="alg2.17.7.m1.1a"><mrow id="alg2.17.7.m1.1.1" xref="alg2.17.7.m1.1.1.cmml"><msub id="alg2.17.7.m1.1.1.3" xref="alg2.17.7.m1.1.1.3.cmml"><mi id="alg2.17.7.m1.1.1.3.2" xref="alg2.17.7.m1.1.1.3.2.cmml">x</mi><mi id="alg2.17.7.m1.1.1.3.3" xref="alg2.17.7.m1.1.1.3.3.cmml">p</mi></msub><mo id="alg2.17.7.m1.1.1.2" xref="alg2.17.7.m1.1.1.2.cmml">=</mo><msub id="alg2.17.7.m1.1.1.1" xref="alg2.17.7.m1.1.1.1.cmml"><mrow id="alg2.17.7.m1.1.1.1.1.1" xref="alg2.17.7.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="alg2.17.7.m1.1.1.1.1.1.2" xref="alg2.17.7.m1.1.1.1.1.2.1.cmml">‖</mo><msubsup id="alg2.17.7.m1.1.1.1.1.1.1" xref="alg2.17.7.m1.1.1.1.1.1.1.cmml"><mi id="alg2.17.7.m1.1.1.1.1.1.1.2.2" xref="alg2.17.7.m1.1.1.1.1.1.1.2.2.cmml">G</mi><mi id="alg2.17.7.m1.1.1.1.1.1.1.3" xref="alg2.17.7.m1.1.1.1.1.1.1.3.cmml">p</mi><mi id="alg2.17.7.m1.1.1.1.1.1.1.2.3" xref="alg2.17.7.m1.1.1.1.1.1.1.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="alg2.17.7.m1.1.1.1.1.1.3" xref="alg2.17.7.m1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="alg2.17.7.m1.1.1.1.3" xref="alg2.17.7.m1.1.1.1.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="alg2.17.7.m1.1b"><apply id="alg2.17.7.m1.1.1.cmml" xref="alg2.17.7.m1.1.1"><eq id="alg2.17.7.m1.1.1.2.cmml" xref="alg2.17.7.m1.1.1.2"></eq><apply id="alg2.17.7.m1.1.1.3.cmml" xref="alg2.17.7.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.17.7.m1.1.1.3.1.cmml" xref="alg2.17.7.m1.1.1.3">subscript</csymbol><ci id="alg2.17.7.m1.1.1.3.2.cmml" xref="alg2.17.7.m1.1.1.3.2">𝑥</ci><ci id="alg2.17.7.m1.1.1.3.3.cmml" xref="alg2.17.7.m1.1.1.3.3">𝑝</ci></apply><apply id="alg2.17.7.m1.1.1.1.cmml" xref="alg2.17.7.m1.1.1.1"><csymbol cd="ambiguous" id="alg2.17.7.m1.1.1.1.2.cmml" xref="alg2.17.7.m1.1.1.1">subscript</csymbol><apply id="alg2.17.7.m1.1.1.1.1.2.cmml" xref="alg2.17.7.m1.1.1.1.1.1"><csymbol cd="latexml" id="alg2.17.7.m1.1.1.1.1.2.1.cmml" xref="alg2.17.7.m1.1.1.1.1.1.2">norm</csymbol><apply id="alg2.17.7.m1.1.1.1.1.1.1.cmml" xref="alg2.17.7.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.17.7.m1.1.1.1.1.1.1.1.cmml" xref="alg2.17.7.m1.1.1.1.1.1.1">subscript</csymbol><apply id="alg2.17.7.m1.1.1.1.1.1.1.2.cmml" xref="alg2.17.7.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.17.7.m1.1.1.1.1.1.1.2.1.cmml" xref="alg2.17.7.m1.1.1.1.1.1.1">superscript</csymbol><ci id="alg2.17.7.m1.1.1.1.1.1.1.2.2.cmml" xref="alg2.17.7.m1.1.1.1.1.1.1.2.2">𝐺</ci><ci id="alg2.17.7.m1.1.1.1.1.1.1.2.3.cmml" xref="alg2.17.7.m1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="alg2.17.7.m1.1.1.1.1.1.1.3.cmml" xref="alg2.17.7.m1.1.1.1.1.1.1.3">𝑝</ci></apply></apply><cn type="integer" id="alg2.17.7.m1.1.1.1.3.cmml" xref="alg2.17.7.m1.1.1.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.17.7.m1.1c">x_{p}=\parallel G^{i}_{p}\parallel_{2}</annotation></semantics></math>;
</div>
<div id="alg2.29.24" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="alg2.18.8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="alg2.18.8.2" class="ltx_text ltx_font_bold">for</span> <em id="alg2.18.8.1" class="ltx_emph ltx_font_italic">each layer <math id="alg2.18.8.1.m1.1" class="ltx_Math" alttext="l" display="inline"><semantics id="alg2.18.8.1.m1.1a"><mi id="alg2.18.8.1.m1.1.1" xref="alg2.18.8.1.m1.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="alg2.18.8.1.m1.1b"><ci id="alg2.18.8.1.m1.1.1.cmml" xref="alg2.18.8.1.m1.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.18.8.1.m1.1c">l</annotation></semantics></math></em> <span id="alg2.18.8.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg2.19.9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="alg2.19.9.m1.8" class="ltx_Math" alttext="P^{i}_{l}\leftarrow\frac{\parallel[g^{i}_{1,l},g^{i}_{2,l},...,g^{i}_{n,l}]\parallel_{2}}{\sum_{p\in\mathcal{P}}x_{p}}" display="inline"><semantics id="alg2.19.9.m1.8a"><mrow id="alg2.19.9.m1.8.9" xref="alg2.19.9.m1.8.9.cmml"><msubsup id="alg2.19.9.m1.8.9.2" xref="alg2.19.9.m1.8.9.2.cmml"><mi id="alg2.19.9.m1.8.9.2.2.2" xref="alg2.19.9.m1.8.9.2.2.2.cmml">P</mi><mi id="alg2.19.9.m1.8.9.2.3" xref="alg2.19.9.m1.8.9.2.3.cmml">l</mi><mi id="alg2.19.9.m1.8.9.2.2.3" xref="alg2.19.9.m1.8.9.2.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="alg2.19.9.m1.8.9.1" xref="alg2.19.9.m1.8.9.1.cmml">←</mo><mfrac id="alg2.19.9.m1.8.8" xref="alg2.19.9.m1.8.8.cmml"><msub id="alg2.19.9.m1.8.8.8" xref="alg2.19.9.m1.8.8.8.cmml"><mrow id="alg2.19.9.m1.8.8.8.8.1" xref="alg2.19.9.m1.8.8.8.8.2.cmml"><mo stretchy="false" id="alg2.19.9.m1.8.8.8.8.1.2" xref="alg2.19.9.m1.8.8.8.8.2.1.cmml">‖</mo><mrow id="alg2.19.9.m1.8.8.8.8.1.1.3" xref="alg2.19.9.m1.8.8.8.8.1.1.4.cmml"><mo stretchy="false" id="alg2.19.9.m1.8.8.8.8.1.1.3.4" xref="alg2.19.9.m1.8.8.8.8.1.1.4.cmml">[</mo><msubsup id="alg2.19.9.m1.8.8.8.8.1.1.1.1" xref="alg2.19.9.m1.8.8.8.8.1.1.1.1.cmml"><mi id="alg2.19.9.m1.8.8.8.8.1.1.1.1.2.2" xref="alg2.19.9.m1.8.8.8.8.1.1.1.1.2.2.cmml">g</mi><mrow id="alg2.19.9.m1.2.2.2.2.2.4" xref="alg2.19.9.m1.2.2.2.2.2.3.cmml"><mn id="alg2.19.9.m1.1.1.1.1.1.1" xref="alg2.19.9.m1.1.1.1.1.1.1.cmml">1</mn><mo id="alg2.19.9.m1.2.2.2.2.2.4.1" xref="alg2.19.9.m1.2.2.2.2.2.3.cmml">,</mo><mi id="alg2.19.9.m1.2.2.2.2.2.2" xref="alg2.19.9.m1.2.2.2.2.2.2.cmml">l</mi></mrow><mi id="alg2.19.9.m1.8.8.8.8.1.1.1.1.2.3" xref="alg2.19.9.m1.8.8.8.8.1.1.1.1.2.3.cmml">i</mi></msubsup><mo id="alg2.19.9.m1.8.8.8.8.1.1.3.5" xref="alg2.19.9.m1.8.8.8.8.1.1.4.cmml">,</mo><msubsup id="alg2.19.9.m1.8.8.8.8.1.1.2.2" xref="alg2.19.9.m1.8.8.8.8.1.1.2.2.cmml"><mi id="alg2.19.9.m1.8.8.8.8.1.1.2.2.2.2" xref="alg2.19.9.m1.8.8.8.8.1.1.2.2.2.2.cmml">g</mi><mrow id="alg2.19.9.m1.4.4.4.4.2.4" xref="alg2.19.9.m1.4.4.4.4.2.3.cmml"><mn id="alg2.19.9.m1.3.3.3.3.1.1" xref="alg2.19.9.m1.3.3.3.3.1.1.cmml">2</mn><mo id="alg2.19.9.m1.4.4.4.4.2.4.1" xref="alg2.19.9.m1.4.4.4.4.2.3.cmml">,</mo><mi id="alg2.19.9.m1.4.4.4.4.2.2" xref="alg2.19.9.m1.4.4.4.4.2.2.cmml">l</mi></mrow><mi id="alg2.19.9.m1.8.8.8.8.1.1.2.2.2.3" xref="alg2.19.9.m1.8.8.8.8.1.1.2.2.2.3.cmml">i</mi></msubsup><mo id="alg2.19.9.m1.8.8.8.8.1.1.3.6" xref="alg2.19.9.m1.8.8.8.8.1.1.4.cmml">,</mo><mi mathvariant="normal" id="alg2.19.9.m1.7.7.7.7" xref="alg2.19.9.m1.7.7.7.7.cmml">…</mi><mo id="alg2.19.9.m1.8.8.8.8.1.1.3.7" xref="alg2.19.9.m1.8.8.8.8.1.1.4.cmml">,</mo><msubsup id="alg2.19.9.m1.8.8.8.8.1.1.3.3" xref="alg2.19.9.m1.8.8.8.8.1.1.3.3.cmml"><mi id="alg2.19.9.m1.8.8.8.8.1.1.3.3.2.2" xref="alg2.19.9.m1.8.8.8.8.1.1.3.3.2.2.cmml">g</mi><mrow id="alg2.19.9.m1.6.6.6.6.2.4" xref="alg2.19.9.m1.6.6.6.6.2.3.cmml"><mi id="alg2.19.9.m1.5.5.5.5.1.1" xref="alg2.19.9.m1.5.5.5.5.1.1.cmml">n</mi><mo id="alg2.19.9.m1.6.6.6.6.2.4.1" xref="alg2.19.9.m1.6.6.6.6.2.3.cmml">,</mo><mi id="alg2.19.9.m1.6.6.6.6.2.2" xref="alg2.19.9.m1.6.6.6.6.2.2.cmml">l</mi></mrow><mi id="alg2.19.9.m1.8.8.8.8.1.1.3.3.2.3" xref="alg2.19.9.m1.8.8.8.8.1.1.3.3.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="alg2.19.9.m1.8.8.8.8.1.1.3.8" xref="alg2.19.9.m1.8.8.8.8.1.1.4.cmml">]</mo></mrow><mo stretchy="false" id="alg2.19.9.m1.8.8.8.8.1.3" xref="alg2.19.9.m1.8.8.8.8.2.1.cmml">‖</mo></mrow><mn id="alg2.19.9.m1.8.8.8.10" xref="alg2.19.9.m1.8.8.8.10.cmml">2</mn></msub><mrow id="alg2.19.9.m1.8.8.10" xref="alg2.19.9.m1.8.8.10.cmml"><mstyle displaystyle="false" id="alg2.19.9.m1.8.8.10.1" xref="alg2.19.9.m1.8.8.10.1.cmml"><msub id="alg2.19.9.m1.8.8.10.1a" xref="alg2.19.9.m1.8.8.10.1.cmml"><mo id="alg2.19.9.m1.8.8.10.1.2" xref="alg2.19.9.m1.8.8.10.1.2.cmml">∑</mo><mrow id="alg2.19.9.m1.8.8.10.1.3" xref="alg2.19.9.m1.8.8.10.1.3.cmml"><mi id="alg2.19.9.m1.8.8.10.1.3.2" xref="alg2.19.9.m1.8.8.10.1.3.2.cmml">p</mi><mo id="alg2.19.9.m1.8.8.10.1.3.1" xref="alg2.19.9.m1.8.8.10.1.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="alg2.19.9.m1.8.8.10.1.3.3" xref="alg2.19.9.m1.8.8.10.1.3.3.cmml">𝒫</mi></mrow></msub></mstyle><msub id="alg2.19.9.m1.8.8.10.2" xref="alg2.19.9.m1.8.8.10.2.cmml"><mi id="alg2.19.9.m1.8.8.10.2.2" xref="alg2.19.9.m1.8.8.10.2.2.cmml">x</mi><mi id="alg2.19.9.m1.8.8.10.2.3" xref="alg2.19.9.m1.8.8.10.2.3.cmml">p</mi></msub></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="alg2.19.9.m1.8b"><apply id="alg2.19.9.m1.8.9.cmml" xref="alg2.19.9.m1.8.9"><ci id="alg2.19.9.m1.8.9.1.cmml" xref="alg2.19.9.m1.8.9.1">←</ci><apply id="alg2.19.9.m1.8.9.2.cmml" xref="alg2.19.9.m1.8.9.2"><csymbol cd="ambiguous" id="alg2.19.9.m1.8.9.2.1.cmml" xref="alg2.19.9.m1.8.9.2">subscript</csymbol><apply id="alg2.19.9.m1.8.9.2.2.cmml" xref="alg2.19.9.m1.8.9.2"><csymbol cd="ambiguous" id="alg2.19.9.m1.8.9.2.2.1.cmml" xref="alg2.19.9.m1.8.9.2">superscript</csymbol><ci id="alg2.19.9.m1.8.9.2.2.2.cmml" xref="alg2.19.9.m1.8.9.2.2.2">𝑃</ci><ci id="alg2.19.9.m1.8.9.2.2.3.cmml" xref="alg2.19.9.m1.8.9.2.2.3">𝑖</ci></apply><ci id="alg2.19.9.m1.8.9.2.3.cmml" xref="alg2.19.9.m1.8.9.2.3">𝑙</ci></apply><apply id="alg2.19.9.m1.8.8.cmml" xref="alg2.19.9.m1.8.8"><divide id="alg2.19.9.m1.8.8.9.cmml" xref="alg2.19.9.m1.8.8"></divide><apply id="alg2.19.9.m1.8.8.8.cmml" xref="alg2.19.9.m1.8.8.8"><csymbol cd="ambiguous" id="alg2.19.9.m1.8.8.8.9.cmml" xref="alg2.19.9.m1.8.8.8">subscript</csymbol><apply id="alg2.19.9.m1.8.8.8.8.2.cmml" xref="alg2.19.9.m1.8.8.8.8.1"><csymbol cd="latexml" id="alg2.19.9.m1.8.8.8.8.2.1.cmml" xref="alg2.19.9.m1.8.8.8.8.1.2">norm</csymbol><list id="alg2.19.9.m1.8.8.8.8.1.1.4.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.3"><apply id="alg2.19.9.m1.8.8.8.8.1.1.1.1.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.1.1"><csymbol cd="ambiguous" id="alg2.19.9.m1.8.8.8.8.1.1.1.1.1.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.1.1">subscript</csymbol><apply id="alg2.19.9.m1.8.8.8.8.1.1.1.1.2.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.1.1"><csymbol cd="ambiguous" id="alg2.19.9.m1.8.8.8.8.1.1.1.1.2.1.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.1.1">superscript</csymbol><ci id="alg2.19.9.m1.8.8.8.8.1.1.1.1.2.2.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.1.1.2.2">𝑔</ci><ci id="alg2.19.9.m1.8.8.8.8.1.1.1.1.2.3.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.1.1.2.3">𝑖</ci></apply><list id="alg2.19.9.m1.2.2.2.2.2.3.cmml" xref="alg2.19.9.m1.2.2.2.2.2.4"><cn type="integer" id="alg2.19.9.m1.1.1.1.1.1.1.cmml" xref="alg2.19.9.m1.1.1.1.1.1.1">1</cn><ci id="alg2.19.9.m1.2.2.2.2.2.2.cmml" xref="alg2.19.9.m1.2.2.2.2.2.2">𝑙</ci></list></apply><apply id="alg2.19.9.m1.8.8.8.8.1.1.2.2.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.2.2"><csymbol cd="ambiguous" id="alg2.19.9.m1.8.8.8.8.1.1.2.2.1.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.2.2">subscript</csymbol><apply id="alg2.19.9.m1.8.8.8.8.1.1.2.2.2.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.2.2"><csymbol cd="ambiguous" id="alg2.19.9.m1.8.8.8.8.1.1.2.2.2.1.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.2.2">superscript</csymbol><ci id="alg2.19.9.m1.8.8.8.8.1.1.2.2.2.2.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.2.2.2.2">𝑔</ci><ci id="alg2.19.9.m1.8.8.8.8.1.1.2.2.2.3.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.2.2.2.3">𝑖</ci></apply><list id="alg2.19.9.m1.4.4.4.4.2.3.cmml" xref="alg2.19.9.m1.4.4.4.4.2.4"><cn type="integer" id="alg2.19.9.m1.3.3.3.3.1.1.cmml" xref="alg2.19.9.m1.3.3.3.3.1.1">2</cn><ci id="alg2.19.9.m1.4.4.4.4.2.2.cmml" xref="alg2.19.9.m1.4.4.4.4.2.2">𝑙</ci></list></apply><ci id="alg2.19.9.m1.7.7.7.7.cmml" xref="alg2.19.9.m1.7.7.7.7">…</ci><apply id="alg2.19.9.m1.8.8.8.8.1.1.3.3.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.3.3"><csymbol cd="ambiguous" id="alg2.19.9.m1.8.8.8.8.1.1.3.3.1.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.3.3">subscript</csymbol><apply id="alg2.19.9.m1.8.8.8.8.1.1.3.3.2.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.3.3"><csymbol cd="ambiguous" id="alg2.19.9.m1.8.8.8.8.1.1.3.3.2.1.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.3.3">superscript</csymbol><ci id="alg2.19.9.m1.8.8.8.8.1.1.3.3.2.2.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.3.3.2.2">𝑔</ci><ci id="alg2.19.9.m1.8.8.8.8.1.1.3.3.2.3.cmml" xref="alg2.19.9.m1.8.8.8.8.1.1.3.3.2.3">𝑖</ci></apply><list id="alg2.19.9.m1.6.6.6.6.2.3.cmml" xref="alg2.19.9.m1.6.6.6.6.2.4"><ci id="alg2.19.9.m1.5.5.5.5.1.1.cmml" xref="alg2.19.9.m1.5.5.5.5.1.1">𝑛</ci><ci id="alg2.19.9.m1.6.6.6.6.2.2.cmml" xref="alg2.19.9.m1.6.6.6.6.2.2">𝑙</ci></list></apply></list></apply><cn type="integer" id="alg2.19.9.m1.8.8.8.10.cmml" xref="alg2.19.9.m1.8.8.8.10">2</cn></apply><apply id="alg2.19.9.m1.8.8.10.cmml" xref="alg2.19.9.m1.8.8.10"><apply id="alg2.19.9.m1.8.8.10.1.cmml" xref="alg2.19.9.m1.8.8.10.1"><csymbol cd="ambiguous" id="alg2.19.9.m1.8.8.10.1.1.cmml" xref="alg2.19.9.m1.8.8.10.1">subscript</csymbol><sum id="alg2.19.9.m1.8.8.10.1.2.cmml" xref="alg2.19.9.m1.8.8.10.1.2"></sum><apply id="alg2.19.9.m1.8.8.10.1.3.cmml" xref="alg2.19.9.m1.8.8.10.1.3"><in id="alg2.19.9.m1.8.8.10.1.3.1.cmml" xref="alg2.19.9.m1.8.8.10.1.3.1"></in><ci id="alg2.19.9.m1.8.8.10.1.3.2.cmml" xref="alg2.19.9.m1.8.8.10.1.3.2">𝑝</ci><ci id="alg2.19.9.m1.8.8.10.1.3.3.cmml" xref="alg2.19.9.m1.8.8.10.1.3.3">𝒫</ci></apply></apply><apply id="alg2.19.9.m1.8.8.10.2.cmml" xref="alg2.19.9.m1.8.8.10.2"><csymbol cd="ambiguous" id="alg2.19.9.m1.8.8.10.2.1.cmml" xref="alg2.19.9.m1.8.8.10.2">subscript</csymbol><ci id="alg2.19.9.m1.8.8.10.2.2.cmml" xref="alg2.19.9.m1.8.8.10.2.2">𝑥</ci><ci id="alg2.19.9.m1.8.8.10.2.3.cmml" xref="alg2.19.9.m1.8.8.10.2.3">𝑝</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.19.9.m1.8c">P^{i}_{l}\leftarrow\frac{\parallel[g^{i}_{1,l},g^{i}_{2,l},...,g^{i}_{n,l}]\parallel_{2}}{\sum_{p\in\mathcal{P}}x_{p}}</annotation></semantics></math>;
</div>
<div id="alg2.29.25" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="alg2.29.26" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="alg2.29.27" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span> end for
</div>
<div id="alg2.29.28" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span>
<span id="alg2.29.28.1" class="ltx_text ltx_font_bold">for</span> <em id="alg2.29.28.2" class="ltx_emph ltx_font_italic">each layer l</em> <span id="alg2.29.28.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg2.20.10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="alg2.20.10.m1.3" class="ltx_Math" alttext="w_{l}\leftarrow Normalize(\frac{1}{\sqrt{Var(P^{1}_{l},...,P^{t}_{l})}})" display="inline"><semantics id="alg2.20.10.m1.3a"><mrow id="alg2.20.10.m1.3.4" xref="alg2.20.10.m1.3.4.cmml"><msub id="alg2.20.10.m1.3.4.2" xref="alg2.20.10.m1.3.4.2.cmml"><mi id="alg2.20.10.m1.3.4.2.2" xref="alg2.20.10.m1.3.4.2.2.cmml">w</mi><mi id="alg2.20.10.m1.3.4.2.3" xref="alg2.20.10.m1.3.4.2.3.cmml">l</mi></msub><mo stretchy="false" id="alg2.20.10.m1.3.4.1" xref="alg2.20.10.m1.3.4.1.cmml">←</mo><mrow id="alg2.20.10.m1.3.4.3" xref="alg2.20.10.m1.3.4.3.cmml"><mi id="alg2.20.10.m1.3.4.3.2" xref="alg2.20.10.m1.3.4.3.2.cmml">N</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.4.3.1" xref="alg2.20.10.m1.3.4.3.1.cmml">​</mo><mi id="alg2.20.10.m1.3.4.3.3" xref="alg2.20.10.m1.3.4.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.4.3.1a" xref="alg2.20.10.m1.3.4.3.1.cmml">​</mo><mi id="alg2.20.10.m1.3.4.3.4" xref="alg2.20.10.m1.3.4.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.4.3.1b" xref="alg2.20.10.m1.3.4.3.1.cmml">​</mo><mi id="alg2.20.10.m1.3.4.3.5" xref="alg2.20.10.m1.3.4.3.5.cmml">m</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.4.3.1c" xref="alg2.20.10.m1.3.4.3.1.cmml">​</mo><mi id="alg2.20.10.m1.3.4.3.6" xref="alg2.20.10.m1.3.4.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.4.3.1d" xref="alg2.20.10.m1.3.4.3.1.cmml">​</mo><mi id="alg2.20.10.m1.3.4.3.7" xref="alg2.20.10.m1.3.4.3.7.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.4.3.1e" xref="alg2.20.10.m1.3.4.3.1.cmml">​</mo><mi id="alg2.20.10.m1.3.4.3.8" xref="alg2.20.10.m1.3.4.3.8.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.4.3.1f" xref="alg2.20.10.m1.3.4.3.1.cmml">​</mo><mi id="alg2.20.10.m1.3.4.3.9" xref="alg2.20.10.m1.3.4.3.9.cmml">z</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.4.3.1g" xref="alg2.20.10.m1.3.4.3.1.cmml">​</mo><mi id="alg2.20.10.m1.3.4.3.10" xref="alg2.20.10.m1.3.4.3.10.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.4.3.1h" xref="alg2.20.10.m1.3.4.3.1.cmml">​</mo><mrow id="alg2.20.10.m1.3.4.3.11.2" xref="alg2.20.10.m1.3.3.cmml"><mo stretchy="false" id="alg2.20.10.m1.3.4.3.11.2.1" xref="alg2.20.10.m1.3.3.cmml">(</mo><mfrac id="alg2.20.10.m1.3.3" xref="alg2.20.10.m1.3.3.cmml"><mn id="alg2.20.10.m1.3.3.5" xref="alg2.20.10.m1.3.3.5.cmml">1</mn><msqrt id="alg2.20.10.m1.3.3.3" xref="alg2.20.10.m1.3.3.3.cmml"><mrow id="alg2.20.10.m1.3.3.3.3.3" xref="alg2.20.10.m1.3.3.3.3.3.cmml"><mi id="alg2.20.10.m1.3.3.3.3.3.5" xref="alg2.20.10.m1.3.3.3.3.3.5.cmml">V</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.3.3.3.3.4" xref="alg2.20.10.m1.3.3.3.3.3.4.cmml">​</mo><mi id="alg2.20.10.m1.3.3.3.3.3.6" xref="alg2.20.10.m1.3.3.3.3.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.3.3.3.3.4a" xref="alg2.20.10.m1.3.3.3.3.3.4.cmml">​</mo><mi id="alg2.20.10.m1.3.3.3.3.3.7" xref="alg2.20.10.m1.3.3.3.3.3.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.20.10.m1.3.3.3.3.3.4b" xref="alg2.20.10.m1.3.3.3.3.3.4.cmml">​</mo><mrow id="alg2.20.10.m1.3.3.3.3.3.3.2" xref="alg2.20.10.m1.3.3.3.3.3.3.3.cmml"><mo stretchy="false" id="alg2.20.10.m1.3.3.3.3.3.3.2.3" xref="alg2.20.10.m1.3.3.3.3.3.3.3.cmml">(</mo><msubsup id="alg2.20.10.m1.2.2.2.2.2.2.1.1" xref="alg2.20.10.m1.2.2.2.2.2.2.1.1.cmml"><mi id="alg2.20.10.m1.2.2.2.2.2.2.1.1.2.2" xref="alg2.20.10.m1.2.2.2.2.2.2.1.1.2.2.cmml">P</mi><mi id="alg2.20.10.m1.2.2.2.2.2.2.1.1.3" xref="alg2.20.10.m1.2.2.2.2.2.2.1.1.3.cmml">l</mi><mn id="alg2.20.10.m1.2.2.2.2.2.2.1.1.2.3" xref="alg2.20.10.m1.2.2.2.2.2.2.1.1.2.3.cmml">1</mn></msubsup><mo id="alg2.20.10.m1.3.3.3.3.3.3.2.4" xref="alg2.20.10.m1.3.3.3.3.3.3.3.cmml">,</mo><mi mathvariant="normal" id="alg2.20.10.m1.1.1.1.1.1.1" xref="alg2.20.10.m1.1.1.1.1.1.1.cmml">…</mi><mo id="alg2.20.10.m1.3.3.3.3.3.3.2.5" xref="alg2.20.10.m1.3.3.3.3.3.3.3.cmml">,</mo><msubsup id="alg2.20.10.m1.3.3.3.3.3.3.2.2" xref="alg2.20.10.m1.3.3.3.3.3.3.2.2.cmml"><mi id="alg2.20.10.m1.3.3.3.3.3.3.2.2.2.2" xref="alg2.20.10.m1.3.3.3.3.3.3.2.2.2.2.cmml">P</mi><mi id="alg2.20.10.m1.3.3.3.3.3.3.2.2.3" xref="alg2.20.10.m1.3.3.3.3.3.3.2.2.3.cmml">l</mi><mi id="alg2.20.10.m1.3.3.3.3.3.3.2.2.2.3" xref="alg2.20.10.m1.3.3.3.3.3.3.2.2.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="alg2.20.10.m1.3.3.3.3.3.3.2.6" xref="alg2.20.10.m1.3.3.3.3.3.3.3.cmml">)</mo></mrow></mrow></msqrt></mfrac><mo stretchy="false" id="alg2.20.10.m1.3.4.3.11.2.2" xref="alg2.20.10.m1.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.20.10.m1.3b"><apply id="alg2.20.10.m1.3.4.cmml" xref="alg2.20.10.m1.3.4"><ci id="alg2.20.10.m1.3.4.1.cmml" xref="alg2.20.10.m1.3.4.1">←</ci><apply id="alg2.20.10.m1.3.4.2.cmml" xref="alg2.20.10.m1.3.4.2"><csymbol cd="ambiguous" id="alg2.20.10.m1.3.4.2.1.cmml" xref="alg2.20.10.m1.3.4.2">subscript</csymbol><ci id="alg2.20.10.m1.3.4.2.2.cmml" xref="alg2.20.10.m1.3.4.2.2">𝑤</ci><ci id="alg2.20.10.m1.3.4.2.3.cmml" xref="alg2.20.10.m1.3.4.2.3">𝑙</ci></apply><apply id="alg2.20.10.m1.3.4.3.cmml" xref="alg2.20.10.m1.3.4.3"><times id="alg2.20.10.m1.3.4.3.1.cmml" xref="alg2.20.10.m1.3.4.3.1"></times><ci id="alg2.20.10.m1.3.4.3.2.cmml" xref="alg2.20.10.m1.3.4.3.2">𝑁</ci><ci id="alg2.20.10.m1.3.4.3.3.cmml" xref="alg2.20.10.m1.3.4.3.3">𝑜</ci><ci id="alg2.20.10.m1.3.4.3.4.cmml" xref="alg2.20.10.m1.3.4.3.4">𝑟</ci><ci id="alg2.20.10.m1.3.4.3.5.cmml" xref="alg2.20.10.m1.3.4.3.5">𝑚</ci><ci id="alg2.20.10.m1.3.4.3.6.cmml" xref="alg2.20.10.m1.3.4.3.6">𝑎</ci><ci id="alg2.20.10.m1.3.4.3.7.cmml" xref="alg2.20.10.m1.3.4.3.7">𝑙</ci><ci id="alg2.20.10.m1.3.4.3.8.cmml" xref="alg2.20.10.m1.3.4.3.8">𝑖</ci><ci id="alg2.20.10.m1.3.4.3.9.cmml" xref="alg2.20.10.m1.3.4.3.9">𝑧</ci><ci id="alg2.20.10.m1.3.4.3.10.cmml" xref="alg2.20.10.m1.3.4.3.10">𝑒</ci><apply id="alg2.20.10.m1.3.3.cmml" xref="alg2.20.10.m1.3.4.3.11.2"><divide id="alg2.20.10.m1.3.3.4.cmml" xref="alg2.20.10.m1.3.4.3.11.2"></divide><cn type="integer" id="alg2.20.10.m1.3.3.5.cmml" xref="alg2.20.10.m1.3.3.5">1</cn><apply id="alg2.20.10.m1.3.3.3.cmml" xref="alg2.20.10.m1.3.3.3"><root id="alg2.20.10.m1.3.3.3a.cmml" xref="alg2.20.10.m1.3.3.3"></root><apply id="alg2.20.10.m1.3.3.3.3.3.cmml" xref="alg2.20.10.m1.3.3.3.3.3"><times id="alg2.20.10.m1.3.3.3.3.3.4.cmml" xref="alg2.20.10.m1.3.3.3.3.3.4"></times><ci id="alg2.20.10.m1.3.3.3.3.3.5.cmml" xref="alg2.20.10.m1.3.3.3.3.3.5">𝑉</ci><ci id="alg2.20.10.m1.3.3.3.3.3.6.cmml" xref="alg2.20.10.m1.3.3.3.3.3.6">𝑎</ci><ci id="alg2.20.10.m1.3.3.3.3.3.7.cmml" xref="alg2.20.10.m1.3.3.3.3.3.7">𝑟</ci><vector id="alg2.20.10.m1.3.3.3.3.3.3.3.cmml" xref="alg2.20.10.m1.3.3.3.3.3.3.2"><apply id="alg2.20.10.m1.2.2.2.2.2.2.1.1.cmml" xref="alg2.20.10.m1.2.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="alg2.20.10.m1.2.2.2.2.2.2.1.1.1.cmml" xref="alg2.20.10.m1.2.2.2.2.2.2.1.1">subscript</csymbol><apply id="alg2.20.10.m1.2.2.2.2.2.2.1.1.2.cmml" xref="alg2.20.10.m1.2.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="alg2.20.10.m1.2.2.2.2.2.2.1.1.2.1.cmml" xref="alg2.20.10.m1.2.2.2.2.2.2.1.1">superscript</csymbol><ci id="alg2.20.10.m1.2.2.2.2.2.2.1.1.2.2.cmml" xref="alg2.20.10.m1.2.2.2.2.2.2.1.1.2.2">𝑃</ci><cn type="integer" id="alg2.20.10.m1.2.2.2.2.2.2.1.1.2.3.cmml" xref="alg2.20.10.m1.2.2.2.2.2.2.1.1.2.3">1</cn></apply><ci id="alg2.20.10.m1.2.2.2.2.2.2.1.1.3.cmml" xref="alg2.20.10.m1.2.2.2.2.2.2.1.1.3">𝑙</ci></apply><ci id="alg2.20.10.m1.1.1.1.1.1.1.cmml" xref="alg2.20.10.m1.1.1.1.1.1.1">…</ci><apply id="alg2.20.10.m1.3.3.3.3.3.3.2.2.cmml" xref="alg2.20.10.m1.3.3.3.3.3.3.2.2"><csymbol cd="ambiguous" id="alg2.20.10.m1.3.3.3.3.3.3.2.2.1.cmml" xref="alg2.20.10.m1.3.3.3.3.3.3.2.2">subscript</csymbol><apply id="alg2.20.10.m1.3.3.3.3.3.3.2.2.2.cmml" xref="alg2.20.10.m1.3.3.3.3.3.3.2.2"><csymbol cd="ambiguous" id="alg2.20.10.m1.3.3.3.3.3.3.2.2.2.1.cmml" xref="alg2.20.10.m1.3.3.3.3.3.3.2.2">superscript</csymbol><ci id="alg2.20.10.m1.3.3.3.3.3.3.2.2.2.2.cmml" xref="alg2.20.10.m1.3.3.3.3.3.3.2.2.2.2">𝑃</ci><ci id="alg2.20.10.m1.3.3.3.3.3.3.2.2.2.3.cmml" xref="alg2.20.10.m1.3.3.3.3.3.3.2.2.2.3">𝑡</ci></apply><ci id="alg2.20.10.m1.3.3.3.3.3.3.2.2.3.cmml" xref="alg2.20.10.m1.3.3.3.3.3.3.2.2.3">𝑙</ci></apply></vector></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.20.10.m1.3c">w_{l}\leftarrow Normalize(\frac{1}{\sqrt{Var(P^{1}_{l},...,P^{t}_{l})}})</annotation></semantics></math>;
</div>
<div id="alg2.29.29" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18</span> end for
</div>
<div id="alg2.22.12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19</span>
<span id="alg2.22.12.3" class="ltx_text ltx_font_bold">for</span> <em id="alg2.22.12.2" class="ltx_emph ltx_font_italic"><math id="alg2.21.11.1.m1.1" class="ltx_Math" alttext="p" display="inline"><semantics id="alg2.21.11.1.m1.1a"><mi id="alg2.21.11.1.m1.1.1" xref="alg2.21.11.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="alg2.21.11.1.m1.1b"><ci id="alg2.21.11.1.m1.1.1.cmml" xref="alg2.21.11.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.21.11.1.m1.1c">p</annotation></semantics></math> in <math id="alg2.22.12.2.m2.1" class="ltx_Math" alttext="|\mathcal{P}|" display="inline"><semantics id="alg2.22.12.2.m2.1a"><mrow id="alg2.22.12.2.m2.1.2.2" xref="alg2.22.12.2.m2.1.2.1.cmml"><mo stretchy="false" id="alg2.22.12.2.m2.1.2.2.1" xref="alg2.22.12.2.m2.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="alg2.22.12.2.m2.1.1" xref="alg2.22.12.2.m2.1.1.cmml">𝒫</mi><mo stretchy="false" id="alg2.22.12.2.m2.1.2.2.2" xref="alg2.22.12.2.m2.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="alg2.22.12.2.m2.1b"><apply id="alg2.22.12.2.m2.1.2.1.cmml" xref="alg2.22.12.2.m2.1.2.2"><abs id="alg2.22.12.2.m2.1.2.1.1.cmml" xref="alg2.22.12.2.m2.1.2.2.1"></abs><ci id="alg2.22.12.2.m2.1.1.cmml" xref="alg2.22.12.2.m2.1.1">𝒫</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.22.12.2.m2.1c">|\mathcal{P}|</annotation></semantics></math> </em> <span id="alg2.22.12.4" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg2.29.30" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg2.29.30.1" class="ltx_text ltx_font_bold">for</span> <em id="alg2.29.30.2" class="ltx_emph ltx_font_italic">each layer l</em> <span id="alg2.29.30.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg2.23.13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">21</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="alg2.23.13.m1.6" class="ltx_Math" alttext="G^{*}_{p,l}\leftarrow{w_{l}}G^{t}_{p,l}+\frac{1-{w_{l}}}{m-1}\sum_{j=1}^{m-1}G^{t-j}_{p,l}" display="inline"><semantics id="alg2.23.13.m1.6a"><mrow id="alg2.23.13.m1.6.7" xref="alg2.23.13.m1.6.7.cmml"><msubsup id="alg2.23.13.m1.6.7.2" xref="alg2.23.13.m1.6.7.2.cmml"><mi id="alg2.23.13.m1.6.7.2.2.2" xref="alg2.23.13.m1.6.7.2.2.2.cmml">G</mi><mrow id="alg2.23.13.m1.2.2.2.4" xref="alg2.23.13.m1.2.2.2.3.cmml"><mi id="alg2.23.13.m1.1.1.1.1" xref="alg2.23.13.m1.1.1.1.1.cmml">p</mi><mo id="alg2.23.13.m1.2.2.2.4.1" xref="alg2.23.13.m1.2.2.2.3.cmml">,</mo><mi id="alg2.23.13.m1.2.2.2.2" xref="alg2.23.13.m1.2.2.2.2.cmml">l</mi></mrow><mo id="alg2.23.13.m1.6.7.2.2.3" xref="alg2.23.13.m1.6.7.2.2.3.cmml">∗</mo></msubsup><mo stretchy="false" id="alg2.23.13.m1.6.7.1" xref="alg2.23.13.m1.6.7.1.cmml">←</mo><mrow id="alg2.23.13.m1.6.7.3" xref="alg2.23.13.m1.6.7.3.cmml"><mrow id="alg2.23.13.m1.6.7.3.2" xref="alg2.23.13.m1.6.7.3.2.cmml"><msub id="alg2.23.13.m1.6.7.3.2.2" xref="alg2.23.13.m1.6.7.3.2.2.cmml"><mi id="alg2.23.13.m1.6.7.3.2.2.2" xref="alg2.23.13.m1.6.7.3.2.2.2.cmml">w</mi><mi id="alg2.23.13.m1.6.7.3.2.2.3" xref="alg2.23.13.m1.6.7.3.2.2.3.cmml">l</mi></msub><mo lspace="0em" rspace="0em" id="alg2.23.13.m1.6.7.3.2.1" xref="alg2.23.13.m1.6.7.3.2.1.cmml">​</mo><msubsup id="alg2.23.13.m1.6.7.3.2.3" xref="alg2.23.13.m1.6.7.3.2.3.cmml"><mi id="alg2.23.13.m1.6.7.3.2.3.2.2" xref="alg2.23.13.m1.6.7.3.2.3.2.2.cmml">G</mi><mrow id="alg2.23.13.m1.4.4.2.4" xref="alg2.23.13.m1.4.4.2.3.cmml"><mi id="alg2.23.13.m1.3.3.1.1" xref="alg2.23.13.m1.3.3.1.1.cmml">p</mi><mo id="alg2.23.13.m1.4.4.2.4.1" xref="alg2.23.13.m1.4.4.2.3.cmml">,</mo><mi id="alg2.23.13.m1.4.4.2.2" xref="alg2.23.13.m1.4.4.2.2.cmml">l</mi></mrow><mi id="alg2.23.13.m1.6.7.3.2.3.2.3" xref="alg2.23.13.m1.6.7.3.2.3.2.3.cmml">t</mi></msubsup></mrow><mo id="alg2.23.13.m1.6.7.3.1" xref="alg2.23.13.m1.6.7.3.1.cmml">+</mo><mrow id="alg2.23.13.m1.6.7.3.3" xref="alg2.23.13.m1.6.7.3.3.cmml"><mfrac id="alg2.23.13.m1.6.7.3.3.2" xref="alg2.23.13.m1.6.7.3.3.2.cmml"><mrow id="alg2.23.13.m1.6.7.3.3.2.2" xref="alg2.23.13.m1.6.7.3.3.2.2.cmml"><mn id="alg2.23.13.m1.6.7.3.3.2.2.2" xref="alg2.23.13.m1.6.7.3.3.2.2.2.cmml">1</mn><mo id="alg2.23.13.m1.6.7.3.3.2.2.1" xref="alg2.23.13.m1.6.7.3.3.2.2.1.cmml">−</mo><msub id="alg2.23.13.m1.6.7.3.3.2.2.3" xref="alg2.23.13.m1.6.7.3.3.2.2.3.cmml"><mi id="alg2.23.13.m1.6.7.3.3.2.2.3.2" xref="alg2.23.13.m1.6.7.3.3.2.2.3.2.cmml">w</mi><mi id="alg2.23.13.m1.6.7.3.3.2.2.3.3" xref="alg2.23.13.m1.6.7.3.3.2.2.3.3.cmml">l</mi></msub></mrow><mrow id="alg2.23.13.m1.6.7.3.3.2.3" xref="alg2.23.13.m1.6.7.3.3.2.3.cmml"><mi id="alg2.23.13.m1.6.7.3.3.2.3.2" xref="alg2.23.13.m1.6.7.3.3.2.3.2.cmml">m</mi><mo id="alg2.23.13.m1.6.7.3.3.2.3.1" xref="alg2.23.13.m1.6.7.3.3.2.3.1.cmml">−</mo><mn id="alg2.23.13.m1.6.7.3.3.2.3.3" xref="alg2.23.13.m1.6.7.3.3.2.3.3.cmml">1</mn></mrow></mfrac><mo lspace="0em" rspace="0em" id="alg2.23.13.m1.6.7.3.3.1" xref="alg2.23.13.m1.6.7.3.3.1.cmml">​</mo><mrow id="alg2.23.13.m1.6.7.3.3.3" xref="alg2.23.13.m1.6.7.3.3.3.cmml"><msubsup id="alg2.23.13.m1.6.7.3.3.3.1" xref="alg2.23.13.m1.6.7.3.3.3.1.cmml"><mo id="alg2.23.13.m1.6.7.3.3.3.1.2.2" xref="alg2.23.13.m1.6.7.3.3.3.1.2.2.cmml">∑</mo><mrow id="alg2.23.13.m1.6.7.3.3.3.1.2.3" xref="alg2.23.13.m1.6.7.3.3.3.1.2.3.cmml"><mi id="alg2.23.13.m1.6.7.3.3.3.1.2.3.2" xref="alg2.23.13.m1.6.7.3.3.3.1.2.3.2.cmml">j</mi><mo id="alg2.23.13.m1.6.7.3.3.3.1.2.3.1" xref="alg2.23.13.m1.6.7.3.3.3.1.2.3.1.cmml">=</mo><mn id="alg2.23.13.m1.6.7.3.3.3.1.2.3.3" xref="alg2.23.13.m1.6.7.3.3.3.1.2.3.3.cmml">1</mn></mrow><mrow id="alg2.23.13.m1.6.7.3.3.3.1.3" xref="alg2.23.13.m1.6.7.3.3.3.1.3.cmml"><mi id="alg2.23.13.m1.6.7.3.3.3.1.3.2" xref="alg2.23.13.m1.6.7.3.3.3.1.3.2.cmml">m</mi><mo id="alg2.23.13.m1.6.7.3.3.3.1.3.1" xref="alg2.23.13.m1.6.7.3.3.3.1.3.1.cmml">−</mo><mn id="alg2.23.13.m1.6.7.3.3.3.1.3.3" xref="alg2.23.13.m1.6.7.3.3.3.1.3.3.cmml">1</mn></mrow></msubsup><msubsup id="alg2.23.13.m1.6.7.3.3.3.2" xref="alg2.23.13.m1.6.7.3.3.3.2.cmml"><mi id="alg2.23.13.m1.6.7.3.3.3.2.2.2" xref="alg2.23.13.m1.6.7.3.3.3.2.2.2.cmml">G</mi><mrow id="alg2.23.13.m1.6.6.2.4" xref="alg2.23.13.m1.6.6.2.3.cmml"><mi id="alg2.23.13.m1.5.5.1.1" xref="alg2.23.13.m1.5.5.1.1.cmml">p</mi><mo id="alg2.23.13.m1.6.6.2.4.1" xref="alg2.23.13.m1.6.6.2.3.cmml">,</mo><mi id="alg2.23.13.m1.6.6.2.2" xref="alg2.23.13.m1.6.6.2.2.cmml">l</mi></mrow><mrow id="alg2.23.13.m1.6.7.3.3.3.2.2.3" xref="alg2.23.13.m1.6.7.3.3.3.2.2.3.cmml"><mi id="alg2.23.13.m1.6.7.3.3.3.2.2.3.2" xref="alg2.23.13.m1.6.7.3.3.3.2.2.3.2.cmml">t</mi><mo id="alg2.23.13.m1.6.7.3.3.3.2.2.3.1" xref="alg2.23.13.m1.6.7.3.3.3.2.2.3.1.cmml">−</mo><mi id="alg2.23.13.m1.6.7.3.3.3.2.2.3.3" xref="alg2.23.13.m1.6.7.3.3.3.2.2.3.3.cmml">j</mi></mrow></msubsup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.23.13.m1.6b"><apply id="alg2.23.13.m1.6.7.cmml" xref="alg2.23.13.m1.6.7"><ci id="alg2.23.13.m1.6.7.1.cmml" xref="alg2.23.13.m1.6.7.1">←</ci><apply id="alg2.23.13.m1.6.7.2.cmml" xref="alg2.23.13.m1.6.7.2"><csymbol cd="ambiguous" id="alg2.23.13.m1.6.7.2.1.cmml" xref="alg2.23.13.m1.6.7.2">subscript</csymbol><apply id="alg2.23.13.m1.6.7.2.2.cmml" xref="alg2.23.13.m1.6.7.2"><csymbol cd="ambiguous" id="alg2.23.13.m1.6.7.2.2.1.cmml" xref="alg2.23.13.m1.6.7.2">superscript</csymbol><ci id="alg2.23.13.m1.6.7.2.2.2.cmml" xref="alg2.23.13.m1.6.7.2.2.2">𝐺</ci><times id="alg2.23.13.m1.6.7.2.2.3.cmml" xref="alg2.23.13.m1.6.7.2.2.3"></times></apply><list id="alg2.23.13.m1.2.2.2.3.cmml" xref="alg2.23.13.m1.2.2.2.4"><ci id="alg2.23.13.m1.1.1.1.1.cmml" xref="alg2.23.13.m1.1.1.1.1">𝑝</ci><ci id="alg2.23.13.m1.2.2.2.2.cmml" xref="alg2.23.13.m1.2.2.2.2">𝑙</ci></list></apply><apply id="alg2.23.13.m1.6.7.3.cmml" xref="alg2.23.13.m1.6.7.3"><plus id="alg2.23.13.m1.6.7.3.1.cmml" xref="alg2.23.13.m1.6.7.3.1"></plus><apply id="alg2.23.13.m1.6.7.3.2.cmml" xref="alg2.23.13.m1.6.7.3.2"><times id="alg2.23.13.m1.6.7.3.2.1.cmml" xref="alg2.23.13.m1.6.7.3.2.1"></times><apply id="alg2.23.13.m1.6.7.3.2.2.cmml" xref="alg2.23.13.m1.6.7.3.2.2"><csymbol cd="ambiguous" id="alg2.23.13.m1.6.7.3.2.2.1.cmml" xref="alg2.23.13.m1.6.7.3.2.2">subscript</csymbol><ci id="alg2.23.13.m1.6.7.3.2.2.2.cmml" xref="alg2.23.13.m1.6.7.3.2.2.2">𝑤</ci><ci id="alg2.23.13.m1.6.7.3.2.2.3.cmml" xref="alg2.23.13.m1.6.7.3.2.2.3">𝑙</ci></apply><apply id="alg2.23.13.m1.6.7.3.2.3.cmml" xref="alg2.23.13.m1.6.7.3.2.3"><csymbol cd="ambiguous" id="alg2.23.13.m1.6.7.3.2.3.1.cmml" xref="alg2.23.13.m1.6.7.3.2.3">subscript</csymbol><apply id="alg2.23.13.m1.6.7.3.2.3.2.cmml" xref="alg2.23.13.m1.6.7.3.2.3"><csymbol cd="ambiguous" id="alg2.23.13.m1.6.7.3.2.3.2.1.cmml" xref="alg2.23.13.m1.6.7.3.2.3">superscript</csymbol><ci id="alg2.23.13.m1.6.7.3.2.3.2.2.cmml" xref="alg2.23.13.m1.6.7.3.2.3.2.2">𝐺</ci><ci id="alg2.23.13.m1.6.7.3.2.3.2.3.cmml" xref="alg2.23.13.m1.6.7.3.2.3.2.3">𝑡</ci></apply><list id="alg2.23.13.m1.4.4.2.3.cmml" xref="alg2.23.13.m1.4.4.2.4"><ci id="alg2.23.13.m1.3.3.1.1.cmml" xref="alg2.23.13.m1.3.3.1.1">𝑝</ci><ci id="alg2.23.13.m1.4.4.2.2.cmml" xref="alg2.23.13.m1.4.4.2.2">𝑙</ci></list></apply></apply><apply id="alg2.23.13.m1.6.7.3.3.cmml" xref="alg2.23.13.m1.6.7.3.3"><times id="alg2.23.13.m1.6.7.3.3.1.cmml" xref="alg2.23.13.m1.6.7.3.3.1"></times><apply id="alg2.23.13.m1.6.7.3.3.2.cmml" xref="alg2.23.13.m1.6.7.3.3.2"><divide id="alg2.23.13.m1.6.7.3.3.2.1.cmml" xref="alg2.23.13.m1.6.7.3.3.2"></divide><apply id="alg2.23.13.m1.6.7.3.3.2.2.cmml" xref="alg2.23.13.m1.6.7.3.3.2.2"><minus id="alg2.23.13.m1.6.7.3.3.2.2.1.cmml" xref="alg2.23.13.m1.6.7.3.3.2.2.1"></minus><cn type="integer" id="alg2.23.13.m1.6.7.3.3.2.2.2.cmml" xref="alg2.23.13.m1.6.7.3.3.2.2.2">1</cn><apply id="alg2.23.13.m1.6.7.3.3.2.2.3.cmml" xref="alg2.23.13.m1.6.7.3.3.2.2.3"><csymbol cd="ambiguous" id="alg2.23.13.m1.6.7.3.3.2.2.3.1.cmml" xref="alg2.23.13.m1.6.7.3.3.2.2.3">subscript</csymbol><ci id="alg2.23.13.m1.6.7.3.3.2.2.3.2.cmml" xref="alg2.23.13.m1.6.7.3.3.2.2.3.2">𝑤</ci><ci id="alg2.23.13.m1.6.7.3.3.2.2.3.3.cmml" xref="alg2.23.13.m1.6.7.3.3.2.2.3.3">𝑙</ci></apply></apply><apply id="alg2.23.13.m1.6.7.3.3.2.3.cmml" xref="alg2.23.13.m1.6.7.3.3.2.3"><minus id="alg2.23.13.m1.6.7.3.3.2.3.1.cmml" xref="alg2.23.13.m1.6.7.3.3.2.3.1"></minus><ci id="alg2.23.13.m1.6.7.3.3.2.3.2.cmml" xref="alg2.23.13.m1.6.7.3.3.2.3.2">𝑚</ci><cn type="integer" id="alg2.23.13.m1.6.7.3.3.2.3.3.cmml" xref="alg2.23.13.m1.6.7.3.3.2.3.3">1</cn></apply></apply><apply id="alg2.23.13.m1.6.7.3.3.3.cmml" xref="alg2.23.13.m1.6.7.3.3.3"><apply id="alg2.23.13.m1.6.7.3.3.3.1.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1"><csymbol cd="ambiguous" id="alg2.23.13.m1.6.7.3.3.3.1.1.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1">superscript</csymbol><apply id="alg2.23.13.m1.6.7.3.3.3.1.2.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1"><csymbol cd="ambiguous" id="alg2.23.13.m1.6.7.3.3.3.1.2.1.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1">subscript</csymbol><sum id="alg2.23.13.m1.6.7.3.3.3.1.2.2.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1.2.2"></sum><apply id="alg2.23.13.m1.6.7.3.3.3.1.2.3.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1.2.3"><eq id="alg2.23.13.m1.6.7.3.3.3.1.2.3.1.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1.2.3.1"></eq><ci id="alg2.23.13.m1.6.7.3.3.3.1.2.3.2.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1.2.3.2">𝑗</ci><cn type="integer" id="alg2.23.13.m1.6.7.3.3.3.1.2.3.3.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1.2.3.3">1</cn></apply></apply><apply id="alg2.23.13.m1.6.7.3.3.3.1.3.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1.3"><minus id="alg2.23.13.m1.6.7.3.3.3.1.3.1.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1.3.1"></minus><ci id="alg2.23.13.m1.6.7.3.3.3.1.3.2.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1.3.2">𝑚</ci><cn type="integer" id="alg2.23.13.m1.6.7.3.3.3.1.3.3.cmml" xref="alg2.23.13.m1.6.7.3.3.3.1.3.3">1</cn></apply></apply><apply id="alg2.23.13.m1.6.7.3.3.3.2.cmml" xref="alg2.23.13.m1.6.7.3.3.3.2"><csymbol cd="ambiguous" id="alg2.23.13.m1.6.7.3.3.3.2.1.cmml" xref="alg2.23.13.m1.6.7.3.3.3.2">subscript</csymbol><apply id="alg2.23.13.m1.6.7.3.3.3.2.2.cmml" xref="alg2.23.13.m1.6.7.3.3.3.2"><csymbol cd="ambiguous" id="alg2.23.13.m1.6.7.3.3.3.2.2.1.cmml" xref="alg2.23.13.m1.6.7.3.3.3.2">superscript</csymbol><ci id="alg2.23.13.m1.6.7.3.3.3.2.2.2.cmml" xref="alg2.23.13.m1.6.7.3.3.3.2.2.2">𝐺</ci><apply id="alg2.23.13.m1.6.7.3.3.3.2.2.3.cmml" xref="alg2.23.13.m1.6.7.3.3.3.2.2.3"><minus id="alg2.23.13.m1.6.7.3.3.3.2.2.3.1.cmml" xref="alg2.23.13.m1.6.7.3.3.3.2.2.3.1"></minus><ci id="alg2.23.13.m1.6.7.3.3.3.2.2.3.2.cmml" xref="alg2.23.13.m1.6.7.3.3.3.2.2.3.2">𝑡</ci><ci id="alg2.23.13.m1.6.7.3.3.3.2.2.3.3.cmml" xref="alg2.23.13.m1.6.7.3.3.3.2.2.3.3">𝑗</ci></apply></apply><list id="alg2.23.13.m1.6.6.2.3.cmml" xref="alg2.23.13.m1.6.6.2.4"><ci id="alg2.23.13.m1.5.5.1.1.cmml" xref="alg2.23.13.m1.5.5.1.1">𝑝</ci><ci id="alg2.23.13.m1.6.6.2.2.cmml" xref="alg2.23.13.m1.6.6.2.2">𝑙</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.23.13.m1.6c">G^{*}_{p,l}\leftarrow{w_{l}}G^{t}_{p,l}+\frac{1-{w_{l}}}{m-1}\sum_{j=1}^{m-1}G^{t-j}_{p,l}</annotation></semantics></math>;
</div>
<div id="alg2.29.31" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">22</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="alg2.29.32" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">23</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="alg2.29.33" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">24</span> end for
</div>
<div id="alg2.24.14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><em id="alg2.24.14.2.1.1" class="ltx_emph ltx_font_italic">25</em></span>
<span id="alg2.24.14.3" class="ltx_text ltx_font_bold">return</span> <em id="alg2.24.14.1" class="ltx_emph ltx_font_italic"><math id="alg2.24.14.1.m1.2" class="ltx_Math" alttext="\mathcal{G}^{t}_{agg}\leftarrow\sum_{p\in\mathcal{P}}G^{*}_{p,l}" display="inline"><semantics id="alg2.24.14.1.m1.2a"><mrow id="alg2.24.14.1.m1.2.3" xref="alg2.24.14.1.m1.2.3.cmml"><msubsup id="alg2.24.14.1.m1.2.3.2" xref="alg2.24.14.1.m1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.24.14.1.m1.2.3.2.2.2" xref="alg2.24.14.1.m1.2.3.2.2.2.cmml">𝒢</mi><mrow id="alg2.24.14.1.m1.2.3.2.3" xref="alg2.24.14.1.m1.2.3.2.3.cmml"><mi id="alg2.24.14.1.m1.2.3.2.3.2" xref="alg2.24.14.1.m1.2.3.2.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.24.14.1.m1.2.3.2.3.1" xref="alg2.24.14.1.m1.2.3.2.3.1.cmml">​</mo><mi id="alg2.24.14.1.m1.2.3.2.3.3" xref="alg2.24.14.1.m1.2.3.2.3.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg2.24.14.1.m1.2.3.2.3.1a" xref="alg2.24.14.1.m1.2.3.2.3.1.cmml">​</mo><mi id="alg2.24.14.1.m1.2.3.2.3.4" xref="alg2.24.14.1.m1.2.3.2.3.4.cmml">g</mi></mrow><mi id="alg2.24.14.1.m1.2.3.2.2.3" xref="alg2.24.14.1.m1.2.3.2.2.3.cmml">t</mi></msubsup><mo rspace="0.111em" stretchy="false" id="alg2.24.14.1.m1.2.3.1" xref="alg2.24.14.1.m1.2.3.1.cmml">←</mo><mrow id="alg2.24.14.1.m1.2.3.3" xref="alg2.24.14.1.m1.2.3.3.cmml"><msub id="alg2.24.14.1.m1.2.3.3.1" xref="alg2.24.14.1.m1.2.3.3.1.cmml"><mo id="alg2.24.14.1.m1.2.3.3.1.2" xref="alg2.24.14.1.m1.2.3.3.1.2.cmml">∑</mo><mrow id="alg2.24.14.1.m1.2.3.3.1.3" xref="alg2.24.14.1.m1.2.3.3.1.3.cmml"><mi id="alg2.24.14.1.m1.2.3.3.1.3.2" xref="alg2.24.14.1.m1.2.3.3.1.3.2.cmml">p</mi><mo id="alg2.24.14.1.m1.2.3.3.1.3.1" xref="alg2.24.14.1.m1.2.3.3.1.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="alg2.24.14.1.m1.2.3.3.1.3.3" xref="alg2.24.14.1.m1.2.3.3.1.3.3.cmml">𝒫</mi></mrow></msub><msubsup id="alg2.24.14.1.m1.2.3.3.2" xref="alg2.24.14.1.m1.2.3.3.2.cmml"><mi id="alg2.24.14.1.m1.2.3.3.2.2.2" xref="alg2.24.14.1.m1.2.3.3.2.2.2.cmml">G</mi><mrow id="alg2.24.14.1.m1.2.2.2.4" xref="alg2.24.14.1.m1.2.2.2.3.cmml"><mi id="alg2.24.14.1.m1.1.1.1.1" xref="alg2.24.14.1.m1.1.1.1.1.cmml">p</mi><mo id="alg2.24.14.1.m1.2.2.2.4.1" xref="alg2.24.14.1.m1.2.2.2.3.cmml">,</mo><mi id="alg2.24.14.1.m1.2.2.2.2" xref="alg2.24.14.1.m1.2.2.2.2.cmml">l</mi></mrow><mo id="alg2.24.14.1.m1.2.3.3.2.2.3" xref="alg2.24.14.1.m1.2.3.3.2.2.3.cmml">∗</mo></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.24.14.1.m1.2b"><apply id="alg2.24.14.1.m1.2.3.cmml" xref="alg2.24.14.1.m1.2.3"><ci id="alg2.24.14.1.m1.2.3.1.cmml" xref="alg2.24.14.1.m1.2.3.1">←</ci><apply id="alg2.24.14.1.m1.2.3.2.cmml" xref="alg2.24.14.1.m1.2.3.2"><csymbol cd="ambiguous" id="alg2.24.14.1.m1.2.3.2.1.cmml" xref="alg2.24.14.1.m1.2.3.2">subscript</csymbol><apply id="alg2.24.14.1.m1.2.3.2.2.cmml" xref="alg2.24.14.1.m1.2.3.2"><csymbol cd="ambiguous" id="alg2.24.14.1.m1.2.3.2.2.1.cmml" xref="alg2.24.14.1.m1.2.3.2">superscript</csymbol><ci id="alg2.24.14.1.m1.2.3.2.2.2.cmml" xref="alg2.24.14.1.m1.2.3.2.2.2">𝒢</ci><ci id="alg2.24.14.1.m1.2.3.2.2.3.cmml" xref="alg2.24.14.1.m1.2.3.2.2.3">𝑡</ci></apply><apply id="alg2.24.14.1.m1.2.3.2.3.cmml" xref="alg2.24.14.1.m1.2.3.2.3"><times id="alg2.24.14.1.m1.2.3.2.3.1.cmml" xref="alg2.24.14.1.m1.2.3.2.3.1"></times><ci id="alg2.24.14.1.m1.2.3.2.3.2.cmml" xref="alg2.24.14.1.m1.2.3.2.3.2">𝑎</ci><ci id="alg2.24.14.1.m1.2.3.2.3.3.cmml" xref="alg2.24.14.1.m1.2.3.2.3.3">𝑔</ci><ci id="alg2.24.14.1.m1.2.3.2.3.4.cmml" xref="alg2.24.14.1.m1.2.3.2.3.4">𝑔</ci></apply></apply><apply id="alg2.24.14.1.m1.2.3.3.cmml" xref="alg2.24.14.1.m1.2.3.3"><apply id="alg2.24.14.1.m1.2.3.3.1.cmml" xref="alg2.24.14.1.m1.2.3.3.1"><csymbol cd="ambiguous" id="alg2.24.14.1.m1.2.3.3.1.1.cmml" xref="alg2.24.14.1.m1.2.3.3.1">subscript</csymbol><sum id="alg2.24.14.1.m1.2.3.3.1.2.cmml" xref="alg2.24.14.1.m1.2.3.3.1.2"></sum><apply id="alg2.24.14.1.m1.2.3.3.1.3.cmml" xref="alg2.24.14.1.m1.2.3.3.1.3"><in id="alg2.24.14.1.m1.2.3.3.1.3.1.cmml" xref="alg2.24.14.1.m1.2.3.3.1.3.1"></in><ci id="alg2.24.14.1.m1.2.3.3.1.3.2.cmml" xref="alg2.24.14.1.m1.2.3.3.1.3.2">𝑝</ci><ci id="alg2.24.14.1.m1.2.3.3.1.3.3.cmml" xref="alg2.24.14.1.m1.2.3.3.1.3.3">𝒫</ci></apply></apply><apply id="alg2.24.14.1.m1.2.3.3.2.cmml" xref="alg2.24.14.1.m1.2.3.3.2"><csymbol cd="ambiguous" id="alg2.24.14.1.m1.2.3.3.2.1.cmml" xref="alg2.24.14.1.m1.2.3.3.2">subscript</csymbol><apply id="alg2.24.14.1.m1.2.3.3.2.2.cmml" xref="alg2.24.14.1.m1.2.3.3.2"><csymbol cd="ambiguous" id="alg2.24.14.1.m1.2.3.3.2.2.1.cmml" xref="alg2.24.14.1.m1.2.3.3.2">superscript</csymbol><ci id="alg2.24.14.1.m1.2.3.3.2.2.2.cmml" xref="alg2.24.14.1.m1.2.3.3.2.2.2">𝐺</ci><times id="alg2.24.14.1.m1.2.3.3.2.2.3.cmml" xref="alg2.24.14.1.m1.2.3.3.2.2.3"></times></apply><list id="alg2.24.14.1.m1.2.2.2.3.cmml" xref="alg2.24.14.1.m1.2.2.2.4"><ci id="alg2.24.14.1.m1.1.1.1.1.cmml" xref="alg2.24.14.1.m1.1.1.1.1">𝑝</ci><ci id="alg2.24.14.1.m1.2.2.2.2.cmml" xref="alg2.24.14.1.m1.2.2.2.2">𝑙</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.24.14.1.m1.2c">\mathcal{G}^{t}_{agg}\leftarrow\sum_{p\in\mathcal{P}}G^{*}_{p,l}</annotation></semantics></math>;</em>
</div>
<div id="alg2.26.16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">26</span><span id="alg2.26.16.2" class="ltx_text">
<span id="alg2.26.16.2.2" class="ltx_text ltx_font_bold">UpdateGradientLog(<span id="alg2.26.16.2.2.1" class="ltx_text ltx_markedasmath ltx_font_italic">GLog</span>, <math id="alg2.26.16.2.2.m2.1" class="ltx_Math" alttext="\mathcal{G}^{t}" display="inline"><semantics id="alg2.26.16.2.2.m2.1a"><msup id="alg2.26.16.2.2.m2.1.1" xref="alg2.26.16.2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.26.16.2.2.m2.1.1.2" xref="alg2.26.16.2.2.m2.1.1.2.cmml">𝒢</mi><mi id="alg2.26.16.2.2.m2.1.1.3" xref="alg2.26.16.2.2.m2.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="alg2.26.16.2.2.m2.1b"><apply id="alg2.26.16.2.2.m2.1.1.cmml" xref="alg2.26.16.2.2.m2.1.1"><csymbol cd="ambiguous" id="alg2.26.16.2.2.m2.1.1.1.cmml" xref="alg2.26.16.2.2.m2.1.1">superscript</csymbol><ci id="alg2.26.16.2.2.m2.1.1.2.cmml" xref="alg2.26.16.2.2.m2.1.1.2">𝒢</ci><ci id="alg2.26.16.2.2.m2.1.1.3.cmml" xref="alg2.26.16.2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.26.16.2.2.m2.1c">\mathcal{G}^{t}</annotation></semantics></math>):</span>
</span>
</div>
<div id="alg2.27.17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">27</span><math id="alg2.27.17.m1.1" class="ltx_Math" alttext="\textit{GLog}\leftarrow\textit{GLog}+\mathcal{G}^{t}" display="inline"><semantics id="alg2.27.17.m1.1a"><mrow id="alg2.27.17.m1.1.1" xref="alg2.27.17.m1.1.1.cmml"><mtext class="ltx_mathvariant_italic" id="alg2.27.17.m1.1.1.2" xref="alg2.27.17.m1.1.1.2a.cmml">GLog</mtext><mo stretchy="false" id="alg2.27.17.m1.1.1.1" xref="alg2.27.17.m1.1.1.1.cmml">←</mo><mrow id="alg2.27.17.m1.1.1.3" xref="alg2.27.17.m1.1.1.3.cmml"><mtext class="ltx_mathvariant_italic" id="alg2.27.17.m1.1.1.3.2" xref="alg2.27.17.m1.1.1.3.2a.cmml">GLog</mtext><mo id="alg2.27.17.m1.1.1.3.1" xref="alg2.27.17.m1.1.1.3.1.cmml">+</mo><msup id="alg2.27.17.m1.1.1.3.3" xref="alg2.27.17.m1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.27.17.m1.1.1.3.3.2" xref="alg2.27.17.m1.1.1.3.3.2.cmml">𝒢</mi><mi id="alg2.27.17.m1.1.1.3.3.3" xref="alg2.27.17.m1.1.1.3.3.3.cmml">t</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.27.17.m1.1b"><apply id="alg2.27.17.m1.1.1.cmml" xref="alg2.27.17.m1.1.1"><ci id="alg2.27.17.m1.1.1.1.cmml" xref="alg2.27.17.m1.1.1.1">←</ci><ci id="alg2.27.17.m1.1.1.2a.cmml" xref="alg2.27.17.m1.1.1.2"><mtext class="ltx_mathvariant_italic" id="alg2.27.17.m1.1.1.2.cmml" xref="alg2.27.17.m1.1.1.2">GLog</mtext></ci><apply id="alg2.27.17.m1.1.1.3.cmml" xref="alg2.27.17.m1.1.1.3"><plus id="alg2.27.17.m1.1.1.3.1.cmml" xref="alg2.27.17.m1.1.1.3.1"></plus><ci id="alg2.27.17.m1.1.1.3.2a.cmml" xref="alg2.27.17.m1.1.1.3.2"><mtext class="ltx_mathvariant_italic" id="alg2.27.17.m1.1.1.3.2.cmml" xref="alg2.27.17.m1.1.1.3.2">GLog</mtext></ci><apply id="alg2.27.17.m1.1.1.3.3.cmml" xref="alg2.27.17.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg2.27.17.m1.1.1.3.3.1.cmml" xref="alg2.27.17.m1.1.1.3.3">superscript</csymbol><ci id="alg2.27.17.m1.1.1.3.3.2.cmml" xref="alg2.27.17.m1.1.1.3.3.2">𝒢</ci><ci id="alg2.27.17.m1.1.1.3.3.3.cmml" xref="alg2.27.17.m1.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.27.17.m1.1c">\textit{GLog}\leftarrow\textit{GLog}+\mathcal{G}^{t}</annotation></semantics></math>;
</div>
<div id="alg2.28.18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">28</span>
<span id="alg2.28.18.2" class="ltx_text ltx_font_bold">if</span> <em id="alg2.28.18.1" class="ltx_emph ltx_font_italic"><math id="alg2.28.18.1.m1.1" class="ltx_Math" alttext="len(\textit{GLog})&gt;m" display="inline"><semantics id="alg2.28.18.1.m1.1a"><mrow id="alg2.28.18.1.m1.1.2" xref="alg2.28.18.1.m1.1.2.cmml"><mrow id="alg2.28.18.1.m1.1.2.2" xref="alg2.28.18.1.m1.1.2.2.cmml"><mi id="alg2.28.18.1.m1.1.2.2.2" xref="alg2.28.18.1.m1.1.2.2.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.28.18.1.m1.1.2.2.1" xref="alg2.28.18.1.m1.1.2.2.1.cmml">​</mo><mi id="alg2.28.18.1.m1.1.2.2.3" xref="alg2.28.18.1.m1.1.2.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.28.18.1.m1.1.2.2.1a" xref="alg2.28.18.1.m1.1.2.2.1.cmml">​</mo><mi id="alg2.28.18.1.m1.1.2.2.4" xref="alg2.28.18.1.m1.1.2.2.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.28.18.1.m1.1.2.2.1b" xref="alg2.28.18.1.m1.1.2.2.1.cmml">​</mo><mrow id="alg2.28.18.1.m1.1.2.2.5.2" xref="alg2.28.18.1.m1.1.1a.cmml"><mo stretchy="false" id="alg2.28.18.1.m1.1.2.2.5.2.1" xref="alg2.28.18.1.m1.1.1a.cmml">(</mo><mtext class="ltx_mathvariant_italic" id="alg2.28.18.1.m1.1.1" xref="alg2.28.18.1.m1.1.1.cmml">GLog</mtext><mo stretchy="false" id="alg2.28.18.1.m1.1.2.2.5.2.2" xref="alg2.28.18.1.m1.1.1a.cmml">)</mo></mrow></mrow><mo id="alg2.28.18.1.m1.1.2.1" xref="alg2.28.18.1.m1.1.2.1.cmml">&gt;</mo><mi id="alg2.28.18.1.m1.1.2.3" xref="alg2.28.18.1.m1.1.2.3.cmml">m</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.28.18.1.m1.1b"><apply id="alg2.28.18.1.m1.1.2.cmml" xref="alg2.28.18.1.m1.1.2"><gt id="alg2.28.18.1.m1.1.2.1.cmml" xref="alg2.28.18.1.m1.1.2.1"></gt><apply id="alg2.28.18.1.m1.1.2.2.cmml" xref="alg2.28.18.1.m1.1.2.2"><times id="alg2.28.18.1.m1.1.2.2.1.cmml" xref="alg2.28.18.1.m1.1.2.2.1"></times><ci id="alg2.28.18.1.m1.1.2.2.2.cmml" xref="alg2.28.18.1.m1.1.2.2.2">𝑙</ci><ci id="alg2.28.18.1.m1.1.2.2.3.cmml" xref="alg2.28.18.1.m1.1.2.2.3">𝑒</ci><ci id="alg2.28.18.1.m1.1.2.2.4.cmml" xref="alg2.28.18.1.m1.1.2.2.4">𝑛</ci><ci id="alg2.28.18.1.m1.1.1a.cmml" xref="alg2.28.18.1.m1.1.2.2.5.2"><mtext class="ltx_mathvariant_italic" id="alg2.28.18.1.m1.1.1.cmml" xref="alg2.28.18.1.m1.1.1">GLog</mtext></ci></apply><ci id="alg2.28.18.1.m1.1.2.3.cmml" xref="alg2.28.18.1.m1.1.2.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.28.18.1.m1.1c">len(\textit{GLog})&gt;m</annotation></semantics></math></em> <span id="alg2.28.18.3" class="ltx_text ltx_font_bold">then</span> 
</div>
<div id="alg2.29.19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">29</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="alg2.29.19.m1.1" class="ltx_math_unparsed" alttext="\textit{GLog}\leftarrow\textit{GLog}[1:]" display="inline"><semantics id="alg2.29.19.m1.1a"><mrow id="alg2.29.19.m1.1b"><mtext class="ltx_mathvariant_italic" id="alg2.29.19.m1.1.1">GLog</mtext><mo stretchy="false" id="alg2.29.19.m1.1.2">←</mo><mtext class="ltx_mathvariant_italic" id="alg2.29.19.m1.1.3">GLog</mtext><mrow id="alg2.29.19.m1.1.4"><mo stretchy="false" id="alg2.29.19.m1.1.4.1">[</mo><mn id="alg2.29.19.m1.1.4.2">1</mn><mo lspace="0.278em" rspace="0em" id="alg2.29.19.m1.1.4.3">:</mo><mo stretchy="false" id="alg2.29.19.m1.1.4.4">]</mo></mrow></mrow><annotation encoding="application/x-tex" id="alg2.29.19.m1.1c">\textit{GLog}\leftarrow\textit{GLog}[1:]</annotation></semantics></math>
</div>
<div id="alg2.29.34" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">30</span> end if
</div>
<div id="alg2.29.35" class="ltx_listingline">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.32.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span><span id="alg2.33.2" class="ltx_text ltx_font_smallcaps">LEGATO.</span> Algorithm to aggregate gradients at round <math id="alg2.6.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="alg2.6.m1.1b"><mi id="alg2.6.m1.1.1" xref="alg2.6.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="alg2.6.m1.1c"><ci id="alg2.6.m1.1.1.cmml" xref="alg2.6.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.6.m1.1d">t</annotation></semantics></math>, given a list of current worker gradients, <math id="alg2.7.m2.1" class="ltx_Math" alttext="\mathcal{G}^{t}" display="inline"><semantics id="alg2.7.m2.1b"><msup id="alg2.7.m2.1.1" xref="alg2.7.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.7.m2.1.1.2" xref="alg2.7.m2.1.1.2.cmml">𝒢</mi><mi id="alg2.7.m2.1.1.3" xref="alg2.7.m2.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="alg2.7.m2.1c"><apply id="alg2.7.m2.1.1.cmml" xref="alg2.7.m2.1.1"><csymbol cd="ambiguous" id="alg2.7.m2.1.1.1.cmml" xref="alg2.7.m2.1.1">superscript</csymbol><ci id="alg2.7.m2.1.1.2.cmml" xref="alg2.7.m2.1.1.2">𝒢</ci><ci id="alg2.7.m2.1.1.3.cmml" xref="alg2.7.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.7.m2.1d">\mathcal{G}^{t}</annotation></semantics></math>. The server maintains a log of recent past worker gradients with maximum size <math id="alg2.8.m3.1" class="ltx_Math" alttext="m" display="inline"><semantics id="alg2.8.m3.1b"><mi id="alg2.8.m3.1.1" xref="alg2.8.m3.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="alg2.8.m3.1c"><ci id="alg2.8.m3.1.1.cmml" xref="alg2.8.m3.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.8.m3.1d">m</annotation></semantics></math>: <math id="alg2.9.m4.4" class="ltx_Math" alttext="\textit{GLog}:=[\mathcal{G}^{t-m},\mathcal{G}^{t-m+1},\dots,\mathcal{G}^{t-1}]" display="inline"><semantics id="alg2.9.m4.4b"><mrow id="alg2.9.m4.4.4" xref="alg2.9.m4.4.4.cmml"><mtext class="ltx_mathvariant_italic" id="alg2.9.m4.4.4.5" xref="alg2.9.m4.4.4.5a.cmml">GLog</mtext><mo lspace="0.278em" rspace="0.278em" id="alg2.9.m4.4.4.4" xref="alg2.9.m4.4.4.4.cmml">:=</mo><mrow id="alg2.9.m4.4.4.3.3" xref="alg2.9.m4.4.4.3.4.cmml"><mo stretchy="false" id="alg2.9.m4.4.4.3.3.4" xref="alg2.9.m4.4.4.3.4.cmml">[</mo><msup id="alg2.9.m4.2.2.1.1.1" xref="alg2.9.m4.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.9.m4.2.2.1.1.1.2" xref="alg2.9.m4.2.2.1.1.1.2.cmml">𝒢</mi><mrow id="alg2.9.m4.2.2.1.1.1.3" xref="alg2.9.m4.2.2.1.1.1.3.cmml"><mi id="alg2.9.m4.2.2.1.1.1.3.2" xref="alg2.9.m4.2.2.1.1.1.3.2.cmml">t</mi><mo id="alg2.9.m4.2.2.1.1.1.3.1" xref="alg2.9.m4.2.2.1.1.1.3.1.cmml">−</mo><mi id="alg2.9.m4.2.2.1.1.1.3.3" xref="alg2.9.m4.2.2.1.1.1.3.3.cmml">m</mi></mrow></msup><mo id="alg2.9.m4.4.4.3.3.5" xref="alg2.9.m4.4.4.3.4.cmml">,</mo><msup id="alg2.9.m4.3.3.2.2.2" xref="alg2.9.m4.3.3.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.9.m4.3.3.2.2.2.2" xref="alg2.9.m4.3.3.2.2.2.2.cmml">𝒢</mi><mrow id="alg2.9.m4.3.3.2.2.2.3" xref="alg2.9.m4.3.3.2.2.2.3.cmml"><mrow id="alg2.9.m4.3.3.2.2.2.3.2" xref="alg2.9.m4.3.3.2.2.2.3.2.cmml"><mi id="alg2.9.m4.3.3.2.2.2.3.2.2" xref="alg2.9.m4.3.3.2.2.2.3.2.2.cmml">t</mi><mo id="alg2.9.m4.3.3.2.2.2.3.2.1" xref="alg2.9.m4.3.3.2.2.2.3.2.1.cmml">−</mo><mi id="alg2.9.m4.3.3.2.2.2.3.2.3" xref="alg2.9.m4.3.3.2.2.2.3.2.3.cmml">m</mi></mrow><mo id="alg2.9.m4.3.3.2.2.2.3.1" xref="alg2.9.m4.3.3.2.2.2.3.1.cmml">+</mo><mn id="alg2.9.m4.3.3.2.2.2.3.3" xref="alg2.9.m4.3.3.2.2.2.3.3.cmml">1</mn></mrow></msup><mo id="alg2.9.m4.4.4.3.3.6" xref="alg2.9.m4.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="alg2.9.m4.1.1" xref="alg2.9.m4.1.1.cmml">…</mi><mo id="alg2.9.m4.4.4.3.3.7" xref="alg2.9.m4.4.4.3.4.cmml">,</mo><msup id="alg2.9.m4.4.4.3.3.3" xref="alg2.9.m4.4.4.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.9.m4.4.4.3.3.3.2" xref="alg2.9.m4.4.4.3.3.3.2.cmml">𝒢</mi><mrow id="alg2.9.m4.4.4.3.3.3.3" xref="alg2.9.m4.4.4.3.3.3.3.cmml"><mi id="alg2.9.m4.4.4.3.3.3.3.2" xref="alg2.9.m4.4.4.3.3.3.3.2.cmml">t</mi><mo id="alg2.9.m4.4.4.3.3.3.3.1" xref="alg2.9.m4.4.4.3.3.3.3.1.cmml">−</mo><mn id="alg2.9.m4.4.4.3.3.3.3.3" xref="alg2.9.m4.4.4.3.3.3.3.3.cmml">1</mn></mrow></msup><mo stretchy="false" id="alg2.9.m4.4.4.3.3.8" xref="alg2.9.m4.4.4.3.4.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.9.m4.4c"><apply id="alg2.9.m4.4.4.cmml" xref="alg2.9.m4.4.4"><csymbol cd="latexml" id="alg2.9.m4.4.4.4.cmml" xref="alg2.9.m4.4.4.4">assign</csymbol><ci id="alg2.9.m4.4.4.5a.cmml" xref="alg2.9.m4.4.4.5"><mtext class="ltx_mathvariant_italic" id="alg2.9.m4.4.4.5.cmml" xref="alg2.9.m4.4.4.5">GLog</mtext></ci><list id="alg2.9.m4.4.4.3.4.cmml" xref="alg2.9.m4.4.4.3.3"><apply id="alg2.9.m4.2.2.1.1.1.cmml" xref="alg2.9.m4.2.2.1.1.1"><csymbol cd="ambiguous" id="alg2.9.m4.2.2.1.1.1.1.cmml" xref="alg2.9.m4.2.2.1.1.1">superscript</csymbol><ci id="alg2.9.m4.2.2.1.1.1.2.cmml" xref="alg2.9.m4.2.2.1.1.1.2">𝒢</ci><apply id="alg2.9.m4.2.2.1.1.1.3.cmml" xref="alg2.9.m4.2.2.1.1.1.3"><minus id="alg2.9.m4.2.2.1.1.1.3.1.cmml" xref="alg2.9.m4.2.2.1.1.1.3.1"></minus><ci id="alg2.9.m4.2.2.1.1.1.3.2.cmml" xref="alg2.9.m4.2.2.1.1.1.3.2">𝑡</ci><ci id="alg2.9.m4.2.2.1.1.1.3.3.cmml" xref="alg2.9.m4.2.2.1.1.1.3.3">𝑚</ci></apply></apply><apply id="alg2.9.m4.3.3.2.2.2.cmml" xref="alg2.9.m4.3.3.2.2.2"><csymbol cd="ambiguous" id="alg2.9.m4.3.3.2.2.2.1.cmml" xref="alg2.9.m4.3.3.2.2.2">superscript</csymbol><ci id="alg2.9.m4.3.3.2.2.2.2.cmml" xref="alg2.9.m4.3.3.2.2.2.2">𝒢</ci><apply id="alg2.9.m4.3.3.2.2.2.3.cmml" xref="alg2.9.m4.3.3.2.2.2.3"><plus id="alg2.9.m4.3.3.2.2.2.3.1.cmml" xref="alg2.9.m4.3.3.2.2.2.3.1"></plus><apply id="alg2.9.m4.3.3.2.2.2.3.2.cmml" xref="alg2.9.m4.3.3.2.2.2.3.2"><minus id="alg2.9.m4.3.3.2.2.2.3.2.1.cmml" xref="alg2.9.m4.3.3.2.2.2.3.2.1"></minus><ci id="alg2.9.m4.3.3.2.2.2.3.2.2.cmml" xref="alg2.9.m4.3.3.2.2.2.3.2.2">𝑡</ci><ci id="alg2.9.m4.3.3.2.2.2.3.2.3.cmml" xref="alg2.9.m4.3.3.2.2.2.3.2.3">𝑚</ci></apply><cn type="integer" id="alg2.9.m4.3.3.2.2.2.3.3.cmml" xref="alg2.9.m4.3.3.2.2.2.3.3">1</cn></apply></apply><ci id="alg2.9.m4.1.1.cmml" xref="alg2.9.m4.1.1">…</ci><apply id="alg2.9.m4.4.4.3.3.3.cmml" xref="alg2.9.m4.4.4.3.3.3"><csymbol cd="ambiguous" id="alg2.9.m4.4.4.3.3.3.1.cmml" xref="alg2.9.m4.4.4.3.3.3">superscript</csymbol><ci id="alg2.9.m4.4.4.3.3.3.2.cmml" xref="alg2.9.m4.4.4.3.3.3.2">𝒢</ci><apply id="alg2.9.m4.4.4.3.3.3.3.cmml" xref="alg2.9.m4.4.4.3.3.3.3"><minus id="alg2.9.m4.4.4.3.3.3.3.1.cmml" xref="alg2.9.m4.4.4.3.3.3.3.1"></minus><ci id="alg2.9.m4.4.4.3.3.3.3.2.cmml" xref="alg2.9.m4.4.4.3.3.3.3.2">𝑡</ci><cn type="integer" id="alg2.9.m4.4.4.3.3.3.3.3.cmml" xref="alg2.9.m4.4.4.3.3.3.3.3">1</cn></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.9.m4.4d">\textit{GLog}:=[\mathcal{G}^{t-m},\mathcal{G}^{t-m+1},\dots,\mathcal{G}^{t-1}]</annotation></semantics></math>, where <math id="alg2.10.m5.5" class="ltx_Math" alttext="\mathcal{G}^{t}=[G^{t}_{1},G^{t}_{2},\dots,G^{t}_{|\mathcal{P}|}]" display="inline"><semantics id="alg2.10.m5.5b"><mrow id="alg2.10.m5.5.5" xref="alg2.10.m5.5.5.cmml"><msup id="alg2.10.m5.5.5.5" xref="alg2.10.m5.5.5.5.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.10.m5.5.5.5.2" xref="alg2.10.m5.5.5.5.2.cmml">𝒢</mi><mi id="alg2.10.m5.5.5.5.3" xref="alg2.10.m5.5.5.5.3.cmml">t</mi></msup><mo id="alg2.10.m5.5.5.4" xref="alg2.10.m5.5.5.4.cmml">=</mo><mrow id="alg2.10.m5.5.5.3.3" xref="alg2.10.m5.5.5.3.4.cmml"><mo stretchy="false" id="alg2.10.m5.5.5.3.3.4" xref="alg2.10.m5.5.5.3.4.cmml">[</mo><msubsup id="alg2.10.m5.3.3.1.1.1" xref="alg2.10.m5.3.3.1.1.1.cmml"><mi id="alg2.10.m5.3.3.1.1.1.2.2" xref="alg2.10.m5.3.3.1.1.1.2.2.cmml">G</mi><mn id="alg2.10.m5.3.3.1.1.1.3" xref="alg2.10.m5.3.3.1.1.1.3.cmml">1</mn><mi id="alg2.10.m5.3.3.1.1.1.2.3" xref="alg2.10.m5.3.3.1.1.1.2.3.cmml">t</mi></msubsup><mo id="alg2.10.m5.5.5.3.3.5" xref="alg2.10.m5.5.5.3.4.cmml">,</mo><msubsup id="alg2.10.m5.4.4.2.2.2" xref="alg2.10.m5.4.4.2.2.2.cmml"><mi id="alg2.10.m5.4.4.2.2.2.2.2" xref="alg2.10.m5.4.4.2.2.2.2.2.cmml">G</mi><mn id="alg2.10.m5.4.4.2.2.2.3" xref="alg2.10.m5.4.4.2.2.2.3.cmml">2</mn><mi id="alg2.10.m5.4.4.2.2.2.2.3" xref="alg2.10.m5.4.4.2.2.2.2.3.cmml">t</mi></msubsup><mo id="alg2.10.m5.5.5.3.3.6" xref="alg2.10.m5.5.5.3.4.cmml">,</mo><mi mathvariant="normal" id="alg2.10.m5.2.2" xref="alg2.10.m5.2.2.cmml">…</mi><mo id="alg2.10.m5.5.5.3.3.7" xref="alg2.10.m5.5.5.3.4.cmml">,</mo><msubsup id="alg2.10.m5.5.5.3.3.3" xref="alg2.10.m5.5.5.3.3.3.cmml"><mi id="alg2.10.m5.5.5.3.3.3.2.2" xref="alg2.10.m5.5.5.3.3.3.2.2.cmml">G</mi><mrow id="alg2.10.m5.1.1.1.3" xref="alg2.10.m5.1.1.1.2.cmml"><mo stretchy="false" id="alg2.10.m5.1.1.1.3.1" xref="alg2.10.m5.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="alg2.10.m5.1.1.1.1" xref="alg2.10.m5.1.1.1.1.cmml">𝒫</mi><mo stretchy="false" id="alg2.10.m5.1.1.1.3.2" xref="alg2.10.m5.1.1.1.2.1.cmml">|</mo></mrow><mi id="alg2.10.m5.5.5.3.3.3.2.3" xref="alg2.10.m5.5.5.3.3.3.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="alg2.10.m5.5.5.3.3.8" xref="alg2.10.m5.5.5.3.4.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.10.m5.5c"><apply id="alg2.10.m5.5.5.cmml" xref="alg2.10.m5.5.5"><eq id="alg2.10.m5.5.5.4.cmml" xref="alg2.10.m5.5.5.4"></eq><apply id="alg2.10.m5.5.5.5.cmml" xref="alg2.10.m5.5.5.5"><csymbol cd="ambiguous" id="alg2.10.m5.5.5.5.1.cmml" xref="alg2.10.m5.5.5.5">superscript</csymbol><ci id="alg2.10.m5.5.5.5.2.cmml" xref="alg2.10.m5.5.5.5.2">𝒢</ci><ci id="alg2.10.m5.5.5.5.3.cmml" xref="alg2.10.m5.5.5.5.3">𝑡</ci></apply><list id="alg2.10.m5.5.5.3.4.cmml" xref="alg2.10.m5.5.5.3.3"><apply id="alg2.10.m5.3.3.1.1.1.cmml" xref="alg2.10.m5.3.3.1.1.1"><csymbol cd="ambiguous" id="alg2.10.m5.3.3.1.1.1.1.cmml" xref="alg2.10.m5.3.3.1.1.1">subscript</csymbol><apply id="alg2.10.m5.3.3.1.1.1.2.cmml" xref="alg2.10.m5.3.3.1.1.1"><csymbol cd="ambiguous" id="alg2.10.m5.3.3.1.1.1.2.1.cmml" xref="alg2.10.m5.3.3.1.1.1">superscript</csymbol><ci id="alg2.10.m5.3.3.1.1.1.2.2.cmml" xref="alg2.10.m5.3.3.1.1.1.2.2">𝐺</ci><ci id="alg2.10.m5.3.3.1.1.1.2.3.cmml" xref="alg2.10.m5.3.3.1.1.1.2.3">𝑡</ci></apply><cn type="integer" id="alg2.10.m5.3.3.1.1.1.3.cmml" xref="alg2.10.m5.3.3.1.1.1.3">1</cn></apply><apply id="alg2.10.m5.4.4.2.2.2.cmml" xref="alg2.10.m5.4.4.2.2.2"><csymbol cd="ambiguous" id="alg2.10.m5.4.4.2.2.2.1.cmml" xref="alg2.10.m5.4.4.2.2.2">subscript</csymbol><apply id="alg2.10.m5.4.4.2.2.2.2.cmml" xref="alg2.10.m5.4.4.2.2.2"><csymbol cd="ambiguous" id="alg2.10.m5.4.4.2.2.2.2.1.cmml" xref="alg2.10.m5.4.4.2.2.2">superscript</csymbol><ci id="alg2.10.m5.4.4.2.2.2.2.2.cmml" xref="alg2.10.m5.4.4.2.2.2.2.2">𝐺</ci><ci id="alg2.10.m5.4.4.2.2.2.2.3.cmml" xref="alg2.10.m5.4.4.2.2.2.2.3">𝑡</ci></apply><cn type="integer" id="alg2.10.m5.4.4.2.2.2.3.cmml" xref="alg2.10.m5.4.4.2.2.2.3">2</cn></apply><ci id="alg2.10.m5.2.2.cmml" xref="alg2.10.m5.2.2">…</ci><apply id="alg2.10.m5.5.5.3.3.3.cmml" xref="alg2.10.m5.5.5.3.3.3"><csymbol cd="ambiguous" id="alg2.10.m5.5.5.3.3.3.1.cmml" xref="alg2.10.m5.5.5.3.3.3">subscript</csymbol><apply id="alg2.10.m5.5.5.3.3.3.2.cmml" xref="alg2.10.m5.5.5.3.3.3"><csymbol cd="ambiguous" id="alg2.10.m5.5.5.3.3.3.2.1.cmml" xref="alg2.10.m5.5.5.3.3.3">superscript</csymbol><ci id="alg2.10.m5.5.5.3.3.3.2.2.cmml" xref="alg2.10.m5.5.5.3.3.3.2.2">𝐺</ci><ci id="alg2.10.m5.5.5.3.3.3.2.3.cmml" xref="alg2.10.m5.5.5.3.3.3.2.3">𝑡</ci></apply><apply id="alg2.10.m5.1.1.1.2.cmml" xref="alg2.10.m5.1.1.1.3"><abs id="alg2.10.m5.1.1.1.2.1.cmml" xref="alg2.10.m5.1.1.1.3.1"></abs><ci id="alg2.10.m5.1.1.1.1.cmml" xref="alg2.10.m5.1.1.1.1">𝒫</ci></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.10.m5.5d">\mathcal{G}^{t}=[G^{t}_{1},G^{t}_{2},\dots,G^{t}_{|\mathcal{P}|}]</annotation></semantics></math>.</figcaption>
</figure>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.6" class="ltx_p">First, the server updates the gradient log, <span id="S4.SS2.p2.6.1" class="ltx_text ltx_font_italic">GLog</span>, to contain the most recent <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mi id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><ci id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">m</annotation></semantics></math> gradients collected from workers.
In Lines <a href="#alg2" title="In IV-B LEGATO ‣ IV Layerwise Gradient Aggregation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>-<a href="#alg2" title="In IV-B LEGATO ‣ IV Layerwise Gradient Aggregation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, the server uses <span id="S4.SS2.p2.6.2" class="ltx_text ltx_font_italic">GLog</span> to compute the layer-specific normalized <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><msub id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml"><mi mathvariant="normal" id="S4.SS2.p2.2.m2.1.1.2" xref="S4.SS2.p2.2.m2.1.1.2.cmml">ℓ</mi><mn id="S4.SS2.p2.2.m2.1.1.3" xref="S4.SS2.p2.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><apply id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.2.m2.1.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.p2.2.m2.1.1.2.cmml" xref="S4.SS2.p2.2.m2.1.1.2">ℓ</ci><cn type="integer" id="S4.SS2.p2.2.m2.1.1.3.cmml" xref="S4.SS2.p2.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">\ell_{2}</annotation></semantics></math> norms <math id="S4.SS2.p2.3.m3.1" class="ltx_Math" alttext="P^{i}_{l}" display="inline"><semantics id="S4.SS2.p2.3.m3.1a"><msubsup id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml"><mi id="S4.SS2.p2.3.m3.1.1.2.2" xref="S4.SS2.p2.3.m3.1.1.2.2.cmml">P</mi><mi id="S4.SS2.p2.3.m3.1.1.3" xref="S4.SS2.p2.3.m3.1.1.3.cmml">l</mi><mi id="S4.SS2.p2.3.m3.1.1.2.3" xref="S4.SS2.p2.3.m3.1.1.2.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><apply id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.3.m3.1.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1">subscript</csymbol><apply id="S4.SS2.p2.3.m3.1.1.2.cmml" xref="S4.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.3.m3.1.1.2.1.cmml" xref="S4.SS2.p2.3.m3.1.1">superscript</csymbol><ci id="S4.SS2.p2.3.m3.1.1.2.2.cmml" xref="S4.SS2.p2.3.m3.1.1.2.2">𝑃</ci><ci id="S4.SS2.p2.3.m3.1.1.2.3.cmml" xref="S4.SS2.p2.3.m3.1.1.2.3">𝑖</ci></apply><ci id="S4.SS2.p2.3.m3.1.1.3.cmml" xref="S4.SS2.p2.3.m3.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">P^{i}_{l}</annotation></semantics></math> in the same way as (<a href="#S3.E2" title="In III A Pilot Study of Layer Robustness ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>). It then uses the reciprocal of the standard deviation of these norms across all logged rounds as a robustness factor that is assigned to each layer and normalized across all layers (Lines <a href="#alg2" title="In IV-B LEGATO ‣ IV Layerwise Gradient Aggregation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>-<a href="#alg2" title="In IV-B LEGATO ‣ IV Layerwise Gradient Aggregation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>). It is applying the observation from the pilot study that the less the <math id="S4.SS2.p2.4.m4.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S4.SS2.p2.4.m4.1a"><msub id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml"><mi mathvariant="normal" id="S4.SS2.p2.4.m4.1.1.2" xref="S4.SS2.p2.4.m4.1.1.2.cmml">ℓ</mi><mn id="S4.SS2.p2.4.m4.1.1.3" xref="S4.SS2.p2.4.m4.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><apply id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.4.m4.1.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS2.p2.4.m4.1.1.2.cmml" xref="S4.SS2.p2.4.m4.1.1.2">ℓ</ci><cn type="integer" id="S4.SS2.p2.4.m4.1.1.3.cmml" xref="S4.SS2.p2.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">\ell_{2}</annotation></semantics></math> norms vary across rounds, the more robust a layer is. In Lines <a href="#alg2" title="In IV-B LEGATO ‣ IV Layerwise Gradient Aggregation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>-<a href="#alg2" title="In IV-B LEGATO ‣ IV Layerwise Gradient Aggregation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, each worker’s gradients are reconfigured as a weighted sum of the average of the worker’s logged gradients and its current gradient vector. The weights are chosen as a function of the robustness factor per layer that allows the updates of less robust layers to relies more heavily on the average of past gradients. Finally, in Line <a href="#alg2" title="In IV-B LEGATO ‣ IV Layerwise Gradient Aggregation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, all of these reweighed gradients are averaged across all workers and the result is used as round <math id="S4.SS2.p2.5.m5.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS2.p2.5.m5.1a"><mi id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b"><ci id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">t</annotation></semantics></math>’s aggregated gradient, <math id="S4.SS2.p2.6.m6.1" class="ltx_Math" alttext="\mathcal{G}^{t}_{agg}" display="inline"><semantics id="S4.SS2.p2.6.m6.1a"><msubsup id="S4.SS2.p2.6.m6.1.1" xref="S4.SS2.p2.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.6.m6.1.1.2.2" xref="S4.SS2.p2.6.m6.1.1.2.2.cmml">𝒢</mi><mrow id="S4.SS2.p2.6.m6.1.1.3" xref="S4.SS2.p2.6.m6.1.1.3.cmml"><mi id="S4.SS2.p2.6.m6.1.1.3.2" xref="S4.SS2.p2.6.m6.1.1.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p2.6.m6.1.1.3.1" xref="S4.SS2.p2.6.m6.1.1.3.1.cmml">​</mo><mi id="S4.SS2.p2.6.m6.1.1.3.3" xref="S4.SS2.p2.6.m6.1.1.3.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p2.6.m6.1.1.3.1a" xref="S4.SS2.p2.6.m6.1.1.3.1.cmml">​</mo><mi id="S4.SS2.p2.6.m6.1.1.3.4" xref="S4.SS2.p2.6.m6.1.1.3.4.cmml">g</mi></mrow><mi id="S4.SS2.p2.6.m6.1.1.2.3" xref="S4.SS2.p2.6.m6.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.6.m6.1b"><apply id="S4.SS2.p2.6.m6.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.6.m6.1.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1">subscript</csymbol><apply id="S4.SS2.p2.6.m6.1.1.2.cmml" xref="S4.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.6.m6.1.1.2.1.cmml" xref="S4.SS2.p2.6.m6.1.1">superscript</csymbol><ci id="S4.SS2.p2.6.m6.1.1.2.2.cmml" xref="S4.SS2.p2.6.m6.1.1.2.2">𝒢</ci><ci id="S4.SS2.p2.6.m6.1.1.2.3.cmml" xref="S4.SS2.p2.6.m6.1.1.2.3">𝑡</ci></apply><apply id="S4.SS2.p2.6.m6.1.1.3.cmml" xref="S4.SS2.p2.6.m6.1.1.3"><times id="S4.SS2.p2.6.m6.1.1.3.1.cmml" xref="S4.SS2.p2.6.m6.1.1.3.1"></times><ci id="S4.SS2.p2.6.m6.1.1.3.2.cmml" xref="S4.SS2.p2.6.m6.1.1.3.2">𝑎</ci><ci id="S4.SS2.p2.6.m6.1.1.3.3.cmml" xref="S4.SS2.p2.6.m6.1.1.3.3">𝑔</ci><ci id="S4.SS2.p2.6.m6.1.1.3.4.cmml" xref="S4.SS2.p2.6.m6.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.6.m6.1c">\mathcal{G}^{t}_{agg}</annotation></semantics></math>. This reweighing strategy is ultimately dampening the noise across gradients that may be a result of a Byzantine attack, with the goal of reversing the Byzantine gradients’ effect of pulling the aggregated gradient away from an honest value. This allows LEGATO to mitigate the attack without needing to identify and filter out attackers. The fact that we focus this dampening at the most vulnerable layers allows reliable layers’ current gradients, which are most accurate, to still weigh heavily into the aggregated gradient, thus limiting the sacrifice of convergence speed that could result from using past gradients.
Furthermore, the online robustness factor computation allows LEGATO to generalize to a variety of model architectures because it adopts online factor assignments rather than an absolute quantification of robustness. As is evidenced in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>, the knowledge of layer-specific robustness varies between architectures so an online and model-agnostic approach is ideal.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS3.7.1.1" class="ltx_text">IV-C</span> </span><span id="S4.SS3.8.2" class="ltx_text ltx_font_italic">Complexity analysis of LEGATO</span>
</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.5" class="ltx_p">The most efficient gradient aggregation algorithms have computational complexity that is linear in terms of the number of workers <math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">n</annotation></semantics></math> in a FL system. Among them are conventional, non-robust algorithms like gradient averaging and Byzantine-tolerant algorithms that utilize robust statistics, for example, coordinate median. Proposition 1 states that LEGATO has time complexity <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{O}(dn+d)" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><mrow id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.2.m2.1.1.3" xref="S4.SS3.p1.2.m2.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p1.2.m2.1.1.2" xref="S4.SS3.p1.2.m2.1.1.2.cmml">​</mo><mrow id="S4.SS3.p1.2.m2.1.1.1.1" xref="S4.SS3.p1.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.p1.2.m2.1.1.1.1.2" xref="S4.SS3.p1.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.p1.2.m2.1.1.1.1.1" xref="S4.SS3.p1.2.m2.1.1.1.1.1.cmml"><mrow id="S4.SS3.p1.2.m2.1.1.1.1.1.2" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.cmml"><mi id="S4.SS3.p1.2.m2.1.1.1.1.1.2.2" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p1.2.m2.1.1.1.1.1.2.1" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.1.cmml">​</mo><mi id="S4.SS3.p1.2.m2.1.1.1.1.1.2.3" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.3.cmml">n</mi></mrow><mo id="S4.SS3.p1.2.m2.1.1.1.1.1.1" xref="S4.SS3.p1.2.m2.1.1.1.1.1.1.cmml">+</mo><mi id="S4.SS3.p1.2.m2.1.1.1.1.1.3" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3.cmml">d</mi></mrow><mo stretchy="false" id="S4.SS3.p1.2.m2.1.1.1.1.3" xref="S4.SS3.p1.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><apply id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1"><times id="S4.SS3.p1.2.m2.1.1.2.cmml" xref="S4.SS3.p1.2.m2.1.1.2"></times><ci id="S4.SS3.p1.2.m2.1.1.3.cmml" xref="S4.SS3.p1.2.m2.1.1.3">𝒪</ci><apply id="S4.SS3.p1.2.m2.1.1.1.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1"><plus id="S4.SS3.p1.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.1"></plus><apply id="S4.SS3.p1.2.m2.1.1.1.1.1.2.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2"><times id="S4.SS3.p1.2.m2.1.1.1.1.1.2.1.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.1"></times><ci id="S4.SS3.p1.2.m2.1.1.1.1.1.2.2.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.2">𝑑</ci><ci id="S4.SS3.p1.2.m2.1.1.1.1.1.2.3.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.3">𝑛</ci></apply><ci id="S4.SS3.p1.2.m2.1.1.1.1.1.3.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">\mathcal{O}(dn+d)</annotation></semantics></math>, meaning it is also linear in terms of <math id="S4.SS3.p1.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.SS3.p1.3.m3.1a"><mi id="S4.SS3.p1.3.m3.1.1" xref="S4.SS3.p1.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.3.m3.1b"><ci id="S4.SS3.p1.3.m3.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.3.m3.1c">n</annotation></semantics></math>. This is a crucial improvement that LEGATO has over state-of-the-art robust algorithms such as Krum and Bulyan <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> whose time complexities are quadratic in <math id="S4.SS3.p1.4.m4.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.SS3.p1.4.m4.1a"><mi id="S4.SS3.p1.4.m4.1.1" xref="S4.SS3.p1.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.4.m4.1b"><ci id="S4.SS3.p1.4.m4.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.4.m4.1c">n</annotation></semantics></math>. LEGATO’s maintenance of a log introduces a space requirement of <math id="S4.SS3.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{O}(dnm)" display="inline"><semantics id="S4.SS3.p1.5.m5.1a"><mrow id="S4.SS3.p1.5.m5.1.1" xref="S4.SS3.p1.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.5.m5.1.1.3" xref="S4.SS3.p1.5.m5.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p1.5.m5.1.1.2" xref="S4.SS3.p1.5.m5.1.1.2.cmml">​</mo><mrow id="S4.SS3.p1.5.m5.1.1.1.1" xref="S4.SS3.p1.5.m5.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.p1.5.m5.1.1.1.1.2" xref="S4.SS3.p1.5.m5.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.p1.5.m5.1.1.1.1.1" xref="S4.SS3.p1.5.m5.1.1.1.1.1.cmml"><mi id="S4.SS3.p1.5.m5.1.1.1.1.1.2" xref="S4.SS3.p1.5.m5.1.1.1.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p1.5.m5.1.1.1.1.1.1" xref="S4.SS3.p1.5.m5.1.1.1.1.1.1.cmml">​</mo><mi id="S4.SS3.p1.5.m5.1.1.1.1.1.3" xref="S4.SS3.p1.5.m5.1.1.1.1.1.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p1.5.m5.1.1.1.1.1.1a" xref="S4.SS3.p1.5.m5.1.1.1.1.1.1.cmml">​</mo><mi id="S4.SS3.p1.5.m5.1.1.1.1.1.4" xref="S4.SS3.p1.5.m5.1.1.1.1.1.4.cmml">m</mi></mrow><mo stretchy="false" id="S4.SS3.p1.5.m5.1.1.1.1.3" xref="S4.SS3.p1.5.m5.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.5.m5.1b"><apply id="S4.SS3.p1.5.m5.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1"><times id="S4.SS3.p1.5.m5.1.1.2.cmml" xref="S4.SS3.p1.5.m5.1.1.2"></times><ci id="S4.SS3.p1.5.m5.1.1.3.cmml" xref="S4.SS3.p1.5.m5.1.1.3">𝒪</ci><apply id="S4.SS3.p1.5.m5.1.1.1.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1.1.1"><times id="S4.SS3.p1.5.m5.1.1.1.1.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1.1.1.1.1"></times><ci id="S4.SS3.p1.5.m5.1.1.1.1.1.2.cmml" xref="S4.SS3.p1.5.m5.1.1.1.1.1.2">𝑑</ci><ci id="S4.SS3.p1.5.m5.1.1.1.1.1.3.cmml" xref="S4.SS3.p1.5.m5.1.1.1.1.1.3">𝑛</ci><ci id="S4.SS3.p1.5.m5.1.1.1.1.1.4.cmml" xref="S4.SS3.p1.5.m5.1.1.1.1.1.4">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.5.m5.1c">\mathcal{O}(dnm)</annotation></semantics></math>, which is formalized in Proposition 2.</p>
</div>
<div id="Thmtheorem1" class="ltx_theorem ltx_theorem_proposition">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="Thmtheorem1.1.1.1" class="ltx_text ltx_font_bold">Proposition 1</span></span><span id="Thmtheorem1.2.2" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="Thmtheorem1.p1" class="ltx_para">
<p id="Thmtheorem1.p1.1" class="ltx_p"><span id="Thmtheorem1.p1.1.1" class="ltx_text ltx_font_italic">LEGATO has time complexity <math id="Thmtheorem1.p1.1.1.m1.1" class="ltx_Math" alttext="\mathcal{O}(dn+d)" display="inline"><semantics id="Thmtheorem1.p1.1.1.m1.1a"><mrow id="Thmtheorem1.p1.1.1.m1.1.1" xref="Thmtheorem1.p1.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmtheorem1.p1.1.1.m1.1.1.3" xref="Thmtheorem1.p1.1.1.m1.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="Thmtheorem1.p1.1.1.m1.1.1.2" xref="Thmtheorem1.p1.1.1.m1.1.1.2.cmml">​</mo><mrow id="Thmtheorem1.p1.1.1.m1.1.1.1.1" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="Thmtheorem1.p1.1.1.m1.1.1.1.1.2" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.cmml"><mrow id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.cmml"><mi id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.2" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.1" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.1.cmml">​</mo><mi id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.3" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.3.cmml">n</mi></mrow><mo id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.1" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.1.cmml">+</mo><mi id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.3" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.3.cmml">d</mi></mrow><mo stretchy="false" id="Thmtheorem1.p1.1.1.m1.1.1.1.1.3" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmtheorem1.p1.1.1.m1.1b"><apply id="Thmtheorem1.p1.1.1.m1.1.1.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1"><times id="Thmtheorem1.p1.1.1.m1.1.1.2.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1.2"></times><ci id="Thmtheorem1.p1.1.1.m1.1.1.3.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1.3">𝒪</ci><apply id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1"><plus id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.1.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.1"></plus><apply id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2"><times id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.1.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.1"></times><ci id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.2.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.2">𝑑</ci><ci id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.3.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.3">𝑛</ci></apply><ci id="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.3.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1.1.1.1.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem1.p1.1.1.m1.1c">\mathcal{O}(dn+d)</annotation></semantics></math>.</span></p>
</div>
</div>
<div id="S4.SS3.2" class="ltx_proof">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_proof">Proof.</h6>
<div id="S4.SS3.1.p1" class="ltx_para">
<p id="S4.SS3.1.p1.11" class="ltx_p">First, for each logged round at each layer, the server computes the <math id="S4.SS3.1.p1.1.m1.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S4.SS3.1.p1.1.m1.1a"><msub id="S4.SS3.1.p1.1.m1.1.1" xref="S4.SS3.1.p1.1.m1.1.1.cmml"><mi mathvariant="normal" id="S4.SS3.1.p1.1.m1.1.1.2" xref="S4.SS3.1.p1.1.m1.1.1.2.cmml">ℓ</mi><mn id="S4.SS3.1.p1.1.m1.1.1.3" xref="S4.SS3.1.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.1.p1.1.m1.1b"><apply id="S4.SS3.1.p1.1.m1.1.1.cmml" xref="S4.SS3.1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.1.p1.1.m1.1.1.1.cmml" xref="S4.SS3.1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.1.p1.1.m1.1.1.2.cmml" xref="S4.SS3.1.p1.1.m1.1.1.2">ℓ</ci><cn type="integer" id="S4.SS3.1.p1.1.m1.1.1.3.cmml" xref="S4.SS3.1.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.1.p1.1.m1.1c">\ell_{2}</annotation></semantics></math> norms of each worker’s gradients(<math id="S4.SS3.1.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{O}(dn)" display="inline"><semantics id="S4.SS3.1.p1.2.m2.1a"><mrow id="S4.SS3.1.p1.2.m2.1.1" xref="S4.SS3.1.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.1.p1.2.m2.1.1.3" xref="S4.SS3.1.p1.2.m2.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS3.1.p1.2.m2.1.1.2" xref="S4.SS3.1.p1.2.m2.1.1.2.cmml">​</mo><mrow id="S4.SS3.1.p1.2.m2.1.1.1.1" xref="S4.SS3.1.p1.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.1.p1.2.m2.1.1.1.1.2" xref="S4.SS3.1.p1.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.1.p1.2.m2.1.1.1.1.1" xref="S4.SS3.1.p1.2.m2.1.1.1.1.1.cmml"><mi id="S4.SS3.1.p1.2.m2.1.1.1.1.1.2" xref="S4.SS3.1.p1.2.m2.1.1.1.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.SS3.1.p1.2.m2.1.1.1.1.1.1" xref="S4.SS3.1.p1.2.m2.1.1.1.1.1.1.cmml">​</mo><mi id="S4.SS3.1.p1.2.m2.1.1.1.1.1.3" xref="S4.SS3.1.p1.2.m2.1.1.1.1.1.3.cmml">n</mi></mrow><mo stretchy="false" id="S4.SS3.1.p1.2.m2.1.1.1.1.3" xref="S4.SS3.1.p1.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.1.p1.2.m2.1b"><apply id="S4.SS3.1.p1.2.m2.1.1.cmml" xref="S4.SS3.1.p1.2.m2.1.1"><times id="S4.SS3.1.p1.2.m2.1.1.2.cmml" xref="S4.SS3.1.p1.2.m2.1.1.2"></times><ci id="S4.SS3.1.p1.2.m2.1.1.3.cmml" xref="S4.SS3.1.p1.2.m2.1.1.3">𝒪</ci><apply id="S4.SS3.1.p1.2.m2.1.1.1.1.1.cmml" xref="S4.SS3.1.p1.2.m2.1.1.1.1"><times id="S4.SS3.1.p1.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS3.1.p1.2.m2.1.1.1.1.1.1"></times><ci id="S4.SS3.1.p1.2.m2.1.1.1.1.1.2.cmml" xref="S4.SS3.1.p1.2.m2.1.1.1.1.1.2">𝑑</ci><ci id="S4.SS3.1.p1.2.m2.1.1.1.1.1.3.cmml" xref="S4.SS3.1.p1.2.m2.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.1.p1.2.m2.1c">\mathcal{O}(dn)</annotation></semantics></math>). Then, for each logged round at each layer, the server computes the <math id="S4.SS3.1.p1.3.m3.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S4.SS3.1.p1.3.m3.1a"><msub id="S4.SS3.1.p1.3.m3.1.1" xref="S4.SS3.1.p1.3.m3.1.1.cmml"><mi mathvariant="normal" id="S4.SS3.1.p1.3.m3.1.1.2" xref="S4.SS3.1.p1.3.m3.1.1.2.cmml">ℓ</mi><mn id="S4.SS3.1.p1.3.m3.1.1.3" xref="S4.SS3.1.p1.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.1.p1.3.m3.1b"><apply id="S4.SS3.1.p1.3.m3.1.1.cmml" xref="S4.SS3.1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.1.p1.3.m3.1.1.1.cmml" xref="S4.SS3.1.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.1.p1.3.m3.1.1.2.cmml" xref="S4.SS3.1.p1.3.m3.1.1.2">ℓ</ci><cn type="integer" id="S4.SS3.1.p1.3.m3.1.1.3.cmml" xref="S4.SS3.1.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.1.p1.3.m3.1c">\ell_{2}</annotation></semantics></math> norm of the matrix of worker gradients and normalizes by dividing by the <math id="S4.SS3.1.p1.4.m4.1" class="ltx_Math" alttext="\ell_{1}" display="inline"><semantics id="S4.SS3.1.p1.4.m4.1a"><msub id="S4.SS3.1.p1.4.m4.1.1" xref="S4.SS3.1.p1.4.m4.1.1.cmml"><mi mathvariant="normal" id="S4.SS3.1.p1.4.m4.1.1.2" xref="S4.SS3.1.p1.4.m4.1.1.2.cmml">ℓ</mi><mn id="S4.SS3.1.p1.4.m4.1.1.3" xref="S4.SS3.1.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.1.p1.4.m4.1b"><apply id="S4.SS3.1.p1.4.m4.1.1.cmml" xref="S4.SS3.1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.1.p1.4.m4.1.1.1.cmml" xref="S4.SS3.1.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.1.p1.4.m4.1.1.2.cmml" xref="S4.SS3.1.p1.4.m4.1.1.2">ℓ</ci><cn type="integer" id="S4.SS3.1.p1.4.m4.1.1.3.cmml" xref="S4.SS3.1.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.1.p1.4.m4.1c">\ell_{1}</annotation></semantics></math> norm of all workers’ <math id="S4.SS3.1.p1.5.m5.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S4.SS3.1.p1.5.m5.1a"><msub id="S4.SS3.1.p1.5.m5.1.1" xref="S4.SS3.1.p1.5.m5.1.1.cmml"><mi mathvariant="normal" id="S4.SS3.1.p1.5.m5.1.1.2" xref="S4.SS3.1.p1.5.m5.1.1.2.cmml">ℓ</mi><mn id="S4.SS3.1.p1.5.m5.1.1.3" xref="S4.SS3.1.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.1.p1.5.m5.1b"><apply id="S4.SS3.1.p1.5.m5.1.1.cmml" xref="S4.SS3.1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.1.p1.5.m5.1.1.1.cmml" xref="S4.SS3.1.p1.5.m5.1.1">subscript</csymbol><ci id="S4.SS3.1.p1.5.m5.1.1.2.cmml" xref="S4.SS3.1.p1.5.m5.1.1.2">ℓ</ci><cn type="integer" id="S4.SS3.1.p1.5.m5.1.1.3.cmml" xref="S4.SS3.1.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.1.p1.5.m5.1c">\ell_{2}</annotation></semantics></math> gradient norms (<math id="S4.SS3.1.p1.6.m6.1" class="ltx_Math" alttext="\mathcal{O}(dn)" display="inline"><semantics id="S4.SS3.1.p1.6.m6.1a"><mrow id="S4.SS3.1.p1.6.m6.1.1" xref="S4.SS3.1.p1.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.1.p1.6.m6.1.1.3" xref="S4.SS3.1.p1.6.m6.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS3.1.p1.6.m6.1.1.2" xref="S4.SS3.1.p1.6.m6.1.1.2.cmml">​</mo><mrow id="S4.SS3.1.p1.6.m6.1.1.1.1" xref="S4.SS3.1.p1.6.m6.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.1.p1.6.m6.1.1.1.1.2" xref="S4.SS3.1.p1.6.m6.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.1.p1.6.m6.1.1.1.1.1" xref="S4.SS3.1.p1.6.m6.1.1.1.1.1.cmml"><mi id="S4.SS3.1.p1.6.m6.1.1.1.1.1.2" xref="S4.SS3.1.p1.6.m6.1.1.1.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.SS3.1.p1.6.m6.1.1.1.1.1.1" xref="S4.SS3.1.p1.6.m6.1.1.1.1.1.1.cmml">​</mo><mi id="S4.SS3.1.p1.6.m6.1.1.1.1.1.3" xref="S4.SS3.1.p1.6.m6.1.1.1.1.1.3.cmml">n</mi></mrow><mo stretchy="false" id="S4.SS3.1.p1.6.m6.1.1.1.1.3" xref="S4.SS3.1.p1.6.m6.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.1.p1.6.m6.1b"><apply id="S4.SS3.1.p1.6.m6.1.1.cmml" xref="S4.SS3.1.p1.6.m6.1.1"><times id="S4.SS3.1.p1.6.m6.1.1.2.cmml" xref="S4.SS3.1.p1.6.m6.1.1.2"></times><ci id="S4.SS3.1.p1.6.m6.1.1.3.cmml" xref="S4.SS3.1.p1.6.m6.1.1.3">𝒪</ci><apply id="S4.SS3.1.p1.6.m6.1.1.1.1.1.cmml" xref="S4.SS3.1.p1.6.m6.1.1.1.1"><times id="S4.SS3.1.p1.6.m6.1.1.1.1.1.1.cmml" xref="S4.SS3.1.p1.6.m6.1.1.1.1.1.1"></times><ci id="S4.SS3.1.p1.6.m6.1.1.1.1.1.2.cmml" xref="S4.SS3.1.p1.6.m6.1.1.1.1.1.2">𝑑</ci><ci id="S4.SS3.1.p1.6.m6.1.1.1.1.1.3.cmml" xref="S4.SS3.1.p1.6.m6.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.1.p1.6.m6.1c">\mathcal{O}(dn)</annotation></semantics></math>). Then it computes the standard deviation across these normalized round <math id="S4.SS3.1.p1.7.m7.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S4.SS3.1.p1.7.m7.1a"><msub id="S4.SS3.1.p1.7.m7.1.1" xref="S4.SS3.1.p1.7.m7.1.1.cmml"><mi mathvariant="normal" id="S4.SS3.1.p1.7.m7.1.1.2" xref="S4.SS3.1.p1.7.m7.1.1.2.cmml">ℓ</mi><mn id="S4.SS3.1.p1.7.m7.1.1.3" xref="S4.SS3.1.p1.7.m7.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.1.p1.7.m7.1b"><apply id="S4.SS3.1.p1.7.m7.1.1.cmml" xref="S4.SS3.1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS3.1.p1.7.m7.1.1.1.cmml" xref="S4.SS3.1.p1.7.m7.1.1">subscript</csymbol><ci id="S4.SS3.1.p1.7.m7.1.1.2.cmml" xref="S4.SS3.1.p1.7.m7.1.1.2">ℓ</ci><cn type="integer" id="S4.SS3.1.p1.7.m7.1.1.3.cmml" xref="S4.SS3.1.p1.7.m7.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.1.p1.7.m7.1c">\ell_{2}</annotation></semantics></math> norms for each layer (<math id="S4.SS3.1.p1.8.m8.1" class="ltx_Math" alttext="\mathcal{O}(dn)" display="inline"><semantics id="S4.SS3.1.p1.8.m8.1a"><mrow id="S4.SS3.1.p1.8.m8.1.1" xref="S4.SS3.1.p1.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.1.p1.8.m8.1.1.3" xref="S4.SS3.1.p1.8.m8.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS3.1.p1.8.m8.1.1.2" xref="S4.SS3.1.p1.8.m8.1.1.2.cmml">​</mo><mrow id="S4.SS3.1.p1.8.m8.1.1.1.1" xref="S4.SS3.1.p1.8.m8.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.1.p1.8.m8.1.1.1.1.2" xref="S4.SS3.1.p1.8.m8.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.1.p1.8.m8.1.1.1.1.1" xref="S4.SS3.1.p1.8.m8.1.1.1.1.1.cmml"><mi id="S4.SS3.1.p1.8.m8.1.1.1.1.1.2" xref="S4.SS3.1.p1.8.m8.1.1.1.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.SS3.1.p1.8.m8.1.1.1.1.1.1" xref="S4.SS3.1.p1.8.m8.1.1.1.1.1.1.cmml">​</mo><mi id="S4.SS3.1.p1.8.m8.1.1.1.1.1.3" xref="S4.SS3.1.p1.8.m8.1.1.1.1.1.3.cmml">n</mi></mrow><mo stretchy="false" id="S4.SS3.1.p1.8.m8.1.1.1.1.3" xref="S4.SS3.1.p1.8.m8.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.1.p1.8.m8.1b"><apply id="S4.SS3.1.p1.8.m8.1.1.cmml" xref="S4.SS3.1.p1.8.m8.1.1"><times id="S4.SS3.1.p1.8.m8.1.1.2.cmml" xref="S4.SS3.1.p1.8.m8.1.1.2"></times><ci id="S4.SS3.1.p1.8.m8.1.1.3.cmml" xref="S4.SS3.1.p1.8.m8.1.1.3">𝒪</ci><apply id="S4.SS3.1.p1.8.m8.1.1.1.1.1.cmml" xref="S4.SS3.1.p1.8.m8.1.1.1.1"><times id="S4.SS3.1.p1.8.m8.1.1.1.1.1.1.cmml" xref="S4.SS3.1.p1.8.m8.1.1.1.1.1.1"></times><ci id="S4.SS3.1.p1.8.m8.1.1.1.1.1.2.cmml" xref="S4.SS3.1.p1.8.m8.1.1.1.1.1.2">𝑑</ci><ci id="S4.SS3.1.p1.8.m8.1.1.1.1.1.3.cmml" xref="S4.SS3.1.p1.8.m8.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.1.p1.8.m8.1c">\mathcal{O}(dn)</annotation></semantics></math>). Next, the server normalizes the reciprocals of the standard deviations corresponding to each layer (<math id="S4.SS3.1.p1.9.m9.1" class="ltx_Math" alttext="\mathcal{O}(d)" display="inline"><semantics id="S4.SS3.1.p1.9.m9.1a"><mrow id="S4.SS3.1.p1.9.m9.1.2" xref="S4.SS3.1.p1.9.m9.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.1.p1.9.m9.1.2.2" xref="S4.SS3.1.p1.9.m9.1.2.2.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS3.1.p1.9.m9.1.2.1" xref="S4.SS3.1.p1.9.m9.1.2.1.cmml">​</mo><mrow id="S4.SS3.1.p1.9.m9.1.2.3.2" xref="S4.SS3.1.p1.9.m9.1.2.cmml"><mo stretchy="false" id="S4.SS3.1.p1.9.m9.1.2.3.2.1" xref="S4.SS3.1.p1.9.m9.1.2.cmml">(</mo><mi id="S4.SS3.1.p1.9.m9.1.1" xref="S4.SS3.1.p1.9.m9.1.1.cmml">d</mi><mo stretchy="false" id="S4.SS3.1.p1.9.m9.1.2.3.2.2" xref="S4.SS3.1.p1.9.m9.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.1.p1.9.m9.1b"><apply id="S4.SS3.1.p1.9.m9.1.2.cmml" xref="S4.SS3.1.p1.9.m9.1.2"><times id="S4.SS3.1.p1.9.m9.1.2.1.cmml" xref="S4.SS3.1.p1.9.m9.1.2.1"></times><ci id="S4.SS3.1.p1.9.m9.1.2.2.cmml" xref="S4.SS3.1.p1.9.m9.1.2.2">𝒪</ci><ci id="S4.SS3.1.p1.9.m9.1.1.cmml" xref="S4.SS3.1.p1.9.m9.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.1.p1.9.m9.1c">\mathcal{O}(d)</annotation></semantics></math>). It then computes the average of logged gradients from each worker at each layer (<math id="S4.SS3.1.p1.10.m10.1" class="ltx_Math" alttext="\mathcal{O}(dn)" display="inline"><semantics id="S4.SS3.1.p1.10.m10.1a"><mrow id="S4.SS3.1.p1.10.m10.1.1" xref="S4.SS3.1.p1.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.1.p1.10.m10.1.1.3" xref="S4.SS3.1.p1.10.m10.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS3.1.p1.10.m10.1.1.2" xref="S4.SS3.1.p1.10.m10.1.1.2.cmml">​</mo><mrow id="S4.SS3.1.p1.10.m10.1.1.1.1" xref="S4.SS3.1.p1.10.m10.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.1.p1.10.m10.1.1.1.1.2" xref="S4.SS3.1.p1.10.m10.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.1.p1.10.m10.1.1.1.1.1" xref="S4.SS3.1.p1.10.m10.1.1.1.1.1.cmml"><mi id="S4.SS3.1.p1.10.m10.1.1.1.1.1.2" xref="S4.SS3.1.p1.10.m10.1.1.1.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.SS3.1.p1.10.m10.1.1.1.1.1.1" xref="S4.SS3.1.p1.10.m10.1.1.1.1.1.1.cmml">​</mo><mi id="S4.SS3.1.p1.10.m10.1.1.1.1.1.3" xref="S4.SS3.1.p1.10.m10.1.1.1.1.1.3.cmml">n</mi></mrow><mo stretchy="false" id="S4.SS3.1.p1.10.m10.1.1.1.1.3" xref="S4.SS3.1.p1.10.m10.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.1.p1.10.m10.1b"><apply id="S4.SS3.1.p1.10.m10.1.1.cmml" xref="S4.SS3.1.p1.10.m10.1.1"><times id="S4.SS3.1.p1.10.m10.1.1.2.cmml" xref="S4.SS3.1.p1.10.m10.1.1.2"></times><ci id="S4.SS3.1.p1.10.m10.1.1.3.cmml" xref="S4.SS3.1.p1.10.m10.1.1.3">𝒪</ci><apply id="S4.SS3.1.p1.10.m10.1.1.1.1.1.cmml" xref="S4.SS3.1.p1.10.m10.1.1.1.1"><times id="S4.SS3.1.p1.10.m10.1.1.1.1.1.1.cmml" xref="S4.SS3.1.p1.10.m10.1.1.1.1.1.1"></times><ci id="S4.SS3.1.p1.10.m10.1.1.1.1.1.2.cmml" xref="S4.SS3.1.p1.10.m10.1.1.1.1.1.2">𝑑</ci><ci id="S4.SS3.1.p1.10.m10.1.1.1.1.1.3.cmml" xref="S4.SS3.1.p1.10.m10.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.1.p1.10.m10.1c">\mathcal{O}(dn)</annotation></semantics></math>). Lastly, the gradients are reweighed by worker and averaged across all workers (<math id="S4.SS3.1.p1.11.m11.1" class="ltx_Math" alttext="\mathcal{O}(dn)" display="inline"><semantics id="S4.SS3.1.p1.11.m11.1a"><mrow id="S4.SS3.1.p1.11.m11.1.1" xref="S4.SS3.1.p1.11.m11.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.1.p1.11.m11.1.1.3" xref="S4.SS3.1.p1.11.m11.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS3.1.p1.11.m11.1.1.2" xref="S4.SS3.1.p1.11.m11.1.1.2.cmml">​</mo><mrow id="S4.SS3.1.p1.11.m11.1.1.1.1" xref="S4.SS3.1.p1.11.m11.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.1.p1.11.m11.1.1.1.1.2" xref="S4.SS3.1.p1.11.m11.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.1.p1.11.m11.1.1.1.1.1" xref="S4.SS3.1.p1.11.m11.1.1.1.1.1.cmml"><mi id="S4.SS3.1.p1.11.m11.1.1.1.1.1.2" xref="S4.SS3.1.p1.11.m11.1.1.1.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.SS3.1.p1.11.m11.1.1.1.1.1.1" xref="S4.SS3.1.p1.11.m11.1.1.1.1.1.1.cmml">​</mo><mi id="S4.SS3.1.p1.11.m11.1.1.1.1.1.3" xref="S4.SS3.1.p1.11.m11.1.1.1.1.1.3.cmml">n</mi></mrow><mo stretchy="false" id="S4.SS3.1.p1.11.m11.1.1.1.1.3" xref="S4.SS3.1.p1.11.m11.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.1.p1.11.m11.1b"><apply id="S4.SS3.1.p1.11.m11.1.1.cmml" xref="S4.SS3.1.p1.11.m11.1.1"><times id="S4.SS3.1.p1.11.m11.1.1.2.cmml" xref="S4.SS3.1.p1.11.m11.1.1.2"></times><ci id="S4.SS3.1.p1.11.m11.1.1.3.cmml" xref="S4.SS3.1.p1.11.m11.1.1.3">𝒪</ci><apply id="S4.SS3.1.p1.11.m11.1.1.1.1.1.cmml" xref="S4.SS3.1.p1.11.m11.1.1.1.1"><times id="S4.SS3.1.p1.11.m11.1.1.1.1.1.1.cmml" xref="S4.SS3.1.p1.11.m11.1.1.1.1.1.1"></times><ci id="S4.SS3.1.p1.11.m11.1.1.1.1.1.2.cmml" xref="S4.SS3.1.p1.11.m11.1.1.1.1.1.2">𝑑</ci><ci id="S4.SS3.1.p1.11.m11.1.1.1.1.1.3.cmml" xref="S4.SS3.1.p1.11.m11.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.1.p1.11.m11.1c">\mathcal{O}(dn)</annotation></semantics></math>).</p>
</div>
<div id="S4.SS3.2.p2" class="ltx_para">
<p id="S4.SS3.2.p2.4" class="ltx_p">Note that iterating through each individual layer of gradients does not add a factor of <math id="S4.SS3.2.p2.1.m1.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S4.SS3.2.p2.1.m1.1a"><mi id="S4.SS3.2.p2.1.m1.1.1" xref="S4.SS3.2.p2.1.m1.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.2.p2.1.m1.1b"><ci id="S4.SS3.2.p2.1.m1.1.1.cmml" xref="S4.SS3.2.p2.1.m1.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.2.p2.1.m1.1c">l</annotation></semantics></math> to the time complexity because <math id="S4.SS3.2.p2.2.m2.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S4.SS3.2.p2.2.m2.1a"><mi id="S4.SS3.2.p2.2.m2.1.1" xref="S4.SS3.2.p2.2.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.2.p2.2.m2.1b"><ci id="S4.SS3.2.p2.2.m2.1.1.cmml" xref="S4.SS3.2.p2.2.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.2.p2.2.m2.1c">d</annotation></semantics></math> encompasses all gradients at all layers. Therefore, iterating through all gradients by layer is <math id="S4.SS3.2.p2.3.m3.1" class="ltx_Math" alttext="\mathcal{O}(d)" display="inline"><semantics id="S4.SS3.2.p2.3.m3.1a"><mrow id="S4.SS3.2.p2.3.m3.1.2" xref="S4.SS3.2.p2.3.m3.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.2.p2.3.m3.1.2.2" xref="S4.SS3.2.p2.3.m3.1.2.2.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS3.2.p2.3.m3.1.2.1" xref="S4.SS3.2.p2.3.m3.1.2.1.cmml">​</mo><mrow id="S4.SS3.2.p2.3.m3.1.2.3.2" xref="S4.SS3.2.p2.3.m3.1.2.cmml"><mo stretchy="false" id="S4.SS3.2.p2.3.m3.1.2.3.2.1" xref="S4.SS3.2.p2.3.m3.1.2.cmml">(</mo><mi id="S4.SS3.2.p2.3.m3.1.1" xref="S4.SS3.2.p2.3.m3.1.1.cmml">d</mi><mo stretchy="false" id="S4.SS3.2.p2.3.m3.1.2.3.2.2" xref="S4.SS3.2.p2.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.2.p2.3.m3.1b"><apply id="S4.SS3.2.p2.3.m3.1.2.cmml" xref="S4.SS3.2.p2.3.m3.1.2"><times id="S4.SS3.2.p2.3.m3.1.2.1.cmml" xref="S4.SS3.2.p2.3.m3.1.2.1"></times><ci id="S4.SS3.2.p2.3.m3.1.2.2.cmml" xref="S4.SS3.2.p2.3.m3.1.2.2">𝒪</ci><ci id="S4.SS3.2.p2.3.m3.1.1.cmml" xref="S4.SS3.2.p2.3.m3.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.2.p2.3.m3.1c">\mathcal{O}(d)</annotation></semantics></math> and iterating through all gradients in a flattened vector is also <math id="S4.SS3.2.p2.4.m4.1" class="ltx_Math" alttext="\mathcal{O}(d)" display="inline"><semantics id="S4.SS3.2.p2.4.m4.1a"><mrow id="S4.SS3.2.p2.4.m4.1.2" xref="S4.SS3.2.p2.4.m4.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.2.p2.4.m4.1.2.2" xref="S4.SS3.2.p2.4.m4.1.2.2.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS3.2.p2.4.m4.1.2.1" xref="S4.SS3.2.p2.4.m4.1.2.1.cmml">​</mo><mrow id="S4.SS3.2.p2.4.m4.1.2.3.2" xref="S4.SS3.2.p2.4.m4.1.2.cmml"><mo stretchy="false" id="S4.SS3.2.p2.4.m4.1.2.3.2.1" xref="S4.SS3.2.p2.4.m4.1.2.cmml">(</mo><mi id="S4.SS3.2.p2.4.m4.1.1" xref="S4.SS3.2.p2.4.m4.1.1.cmml">d</mi><mo stretchy="false" id="S4.SS3.2.p2.4.m4.1.2.3.2.2" xref="S4.SS3.2.p2.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.2.p2.4.m4.1b"><apply id="S4.SS3.2.p2.4.m4.1.2.cmml" xref="S4.SS3.2.p2.4.m4.1.2"><times id="S4.SS3.2.p2.4.m4.1.2.1.cmml" xref="S4.SS3.2.p2.4.m4.1.2.1"></times><ci id="S4.SS3.2.p2.4.m4.1.2.2.cmml" xref="S4.SS3.2.p2.4.m4.1.2.2">𝒪</ci><ci id="S4.SS3.2.p2.4.m4.1.1.cmml" xref="S4.SS3.2.p2.4.m4.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.2.p2.4.m4.1c">\mathcal{O}(d)</annotation></semantics></math>.
∎</p>
</div>
</div>
<div id="Thmtheorem2" class="ltx_theorem ltx_theorem_proposition">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="Thmtheorem2.2.1.1" class="ltx_text ltx_font_bold">Proposition 2</span></span><span id="Thmtheorem2.3.2" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="Thmtheorem2.p1" class="ltx_para">
<p id="Thmtheorem2.p1.1" class="ltx_p"><span id="Thmtheorem2.p1.1.1" class="ltx_text ltx_font_italic">LEGATO has space complexity <math id="Thmtheorem2.p1.1.1.m1.1" class="ltx_Math" alttext="\mathcal{O}(dnm)" display="inline"><semantics id="Thmtheorem2.p1.1.1.m1.1a"><mrow id="Thmtheorem2.p1.1.1.m1.1.1" xref="Thmtheorem2.p1.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmtheorem2.p1.1.1.m1.1.1.3" xref="Thmtheorem2.p1.1.1.m1.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="Thmtheorem2.p1.1.1.m1.1.1.2" xref="Thmtheorem2.p1.1.1.m1.1.1.2.cmml">​</mo><mrow id="Thmtheorem2.p1.1.1.m1.1.1.1.1" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="Thmtheorem2.p1.1.1.m1.1.1.1.1.2" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="Thmtheorem2.p1.1.1.m1.1.1.1.1.1" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.cmml"><mi id="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.2" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.1" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.1.cmml">​</mo><mi id="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.3" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.1a" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.1.cmml">​</mo><mi id="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.4" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.4.cmml">m</mi></mrow><mo stretchy="false" id="Thmtheorem2.p1.1.1.m1.1.1.1.1.3" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmtheorem2.p1.1.1.m1.1b"><apply id="Thmtheorem2.p1.1.1.m1.1.1.cmml" xref="Thmtheorem2.p1.1.1.m1.1.1"><times id="Thmtheorem2.p1.1.1.m1.1.1.2.cmml" xref="Thmtheorem2.p1.1.1.m1.1.1.2"></times><ci id="Thmtheorem2.p1.1.1.m1.1.1.3.cmml" xref="Thmtheorem2.p1.1.1.m1.1.1.3">𝒪</ci><apply id="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.cmml" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1"><times id="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.1.cmml" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.1"></times><ci id="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.2.cmml" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.2">𝑑</ci><ci id="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.3.cmml" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.3">𝑛</ci><ci id="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.4.cmml" xref="Thmtheorem2.p1.1.1.m1.1.1.1.1.1.4">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem2.p1.1.1.m1.1c">\mathcal{O}(dnm)</annotation></semantics></math></span></p>
</div>
<div id="Thmtheorem2.1" class="ltx_proof">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_proof">Proof.</h6>
<div id="Thmtheorem2.1.p1" class="ltx_para">
<p id="Thmtheorem2.1.p1.1" class="ltx_p"><span id="Thmtheorem2.1.p1.1.1" class="ltx_text">The log stores <math id="Thmtheorem2.1.p1.1.1.m1.1" class="ltx_Math" alttext="m" display="inline"><semantics id="Thmtheorem2.1.p1.1.1.m1.1a"><mi id="Thmtheorem2.1.p1.1.1.m1.1.1" xref="Thmtheorem2.1.p1.1.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="Thmtheorem2.1.p1.1.1.m1.1b"><ci id="Thmtheorem2.1.p1.1.1.m1.1.1.cmml" xref="Thmtheorem2.1.p1.1.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem2.1.p1.1.1.m1.1c">m</annotation></semantics></math> past gradients from each worker.
∎</span></p>
</div>
</div>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Evaluation</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In a variety of attack settings and non-attack settings, we evaluated
LEGATO’s performance against those of <span id="S5.p1.1.1" class="ltx_text ltx_font_italic">gradient averaging</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, which is a simple average of all local gradients that serves as a baseline, and
two state-of-the-art robust aggregation algorithms:
<span id="S5.p1.1.2" class="ltx_text ltx_font_italic">Krum<cite class="ltx_cite ltx_citemacro_cite"><span id="S5.p1.1.2.1.1" class="ltx_text ltx_font_upright">[</span><a href="#bib.bib10" title="" class="ltx_ref">10</a><span id="S5.p1.1.2.2.2" class="ltx_text ltx_font_upright">]</span></cite></span> and <span id="S5.p1.1.3" class="ltx_text ltx_font_italic">coordinate median<cite class="ltx_cite ltx_citemacro_cite"><span id="S5.p1.1.3.1.1" class="ltx_text ltx_font_upright">[</span><a href="#bib.bib15" title="" class="ltx_ref">15</a><span id="S5.p1.1.3.2.2" class="ltx_text ltx_font_upright">]</span></cite></span>.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p">We empirically support the following claims:</p>
<ul id="S5.I1" class="ltx_itemize">
<li id="S5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i1.p1" class="ltx_para">
<p id="S5.I1.i1.p1.1" class="ltx_p">In settings without strictly bounded honest gradient variance, which we demonstrate through experiments with and without IID data, LEGATO is more robust than Krum and coordinate median.</p>
</div>
</li>
<li id="S5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i2.p1" class="ltx_para">
<p id="S5.I1.i2.p1.1" class="ltx_p">Considering all attack settings, LEGATO is the most generally robust of the three algorithms.</p>
</div>
</li>
<li id="S5.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i3.p1" class="ltx_para">
<p id="S5.I1.i3.p1.1" class="ltx_p">LEGATO has the best performance of the three algorithms in the absence of a Byzantine attack.
</p>
</div>
</li>
</ul>
</div>
<figure id="S5.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F5.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2107.12490/assets/figures/foe_163.png" id="S5.F5.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="224" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf1.6.3.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S5.F5.sf1.4.2" class="ltx_text" style="font-size:80%;">MNIST dataset, each worker has 1k IID training images, the batch size is <math id="S5.F5.sf1.3.1.m1.1" class="ltx_Math" alttext="50" display="inline"><semantics id="S5.F5.sf1.3.1.m1.1b"><mn id="S5.F5.sf1.3.1.m1.1.1" xref="S5.F5.sf1.3.1.m1.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S5.F5.sf1.3.1.m1.1c"><cn type="integer" id="S5.F5.sf1.3.1.m1.1.1.cmml" xref="S5.F5.sf1.3.1.m1.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.sf1.3.1.m1.1d">50</annotation></semantics></math>, and the learning rate is <math id="S5.F5.sf1.4.2.m2.1" class="ltx_Math" alttext=".05" display="inline"><semantics id="S5.F5.sf1.4.2.m2.1b"><mn id="S5.F5.sf1.4.2.m2.1.1" xref="S5.F5.sf1.4.2.m2.1.1.cmml">.05</mn><annotation-xml encoding="MathML-Content" id="S5.F5.sf1.4.2.m2.1c"><cn type="float" id="S5.F5.sf1.4.2.m2.1.1.cmml" xref="S5.F5.sf1.4.2.m2.1.1">.05</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.sf1.4.2.m2.1d">.05</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F5.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2107.12490/assets/figures/foe_all.png" id="S5.F5.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf2.4.2.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S5.F5.sf2.2.1" class="ltx_text" style="font-size:80%;">CIFAR10 dataset, each worker has 2K IID training images, the batch size is 1k, and the learning rate is <math id="S5.F5.sf2.2.1.m1.1" class="ltx_Math" alttext=".01" display="inline"><semantics id="S5.F5.sf2.2.1.m1.1b"><mn id="S5.F5.sf2.2.1.m1.1.1" xref="S5.F5.sf2.2.1.m1.1.1.cmml">.01</mn><annotation-xml encoding="MathML-Content" id="S5.F5.sf2.2.1.m1.1c"><cn type="float" id="S5.F5.sf2.2.1.m1.1.1.cmml" xref="S5.F5.sf2.2.1.m1.1.1">.01</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.sf2.2.1.m1.1d">.01</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.8.4.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S5.F5.6.3" class="ltx_text" style="font-size:80%;">Accuracy for MNIST (<span id="S5.F5.6.3.1" class="ltx_text ltx_font_italic">top</span>) and CIFAR10 (<span id="S5.F5.6.3.2" class="ltx_text ltx_font_italic">bottom</span>) under <span id="S5.F5.6.3.3" class="ltx_text ltx_font_italic">Fall of Empires attack</span>, where <math id="S5.F5.4.1.m1.1" class="ltx_Math" alttext="11" display="inline"><semantics id="S5.F5.4.1.m1.1b"><mn id="S5.F5.4.1.m1.1.1" xref="S5.F5.4.1.m1.1.1.cmml">11</mn><annotation-xml encoding="MathML-Content" id="S5.F5.4.1.m1.1c"><cn type="integer" id="S5.F5.4.1.m1.1.1.cmml" xref="S5.F5.4.1.m1.1.1">11</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.4.1.m1.1d">11</annotation></semantics></math> out of <math id="S5.F5.5.2.m2.1" class="ltx_Math" alttext="25" display="inline"><semantics id="S5.F5.5.2.m2.1b"><mn id="S5.F5.5.2.m2.1.1" xref="S5.F5.5.2.m2.1.1.cmml">25</mn><annotation-xml encoding="MathML-Content" id="S5.F5.5.2.m2.1c"><cn type="integer" id="S5.F5.5.2.m2.1.1.cmml" xref="S5.F5.5.2.m2.1.1">25</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.5.2.m2.1d">25</annotation></semantics></math> workers execute the attack with <math id="S5.F5.6.3.m3.1" class="ltx_Math" alttext="\epsilon=.001" display="inline"><semantics id="S5.F5.6.3.m3.1b"><mrow id="S5.F5.6.3.m3.1.1" xref="S5.F5.6.3.m3.1.1.cmml"><mi id="S5.F5.6.3.m3.1.1.2" xref="S5.F5.6.3.m3.1.1.2.cmml">ϵ</mi><mo id="S5.F5.6.3.m3.1.1.1" xref="S5.F5.6.3.m3.1.1.1.cmml">=</mo><mn id="S5.F5.6.3.m3.1.1.3" xref="S5.F5.6.3.m3.1.1.3.cmml">.001</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F5.6.3.m3.1c"><apply id="S5.F5.6.3.m3.1.1.cmml" xref="S5.F5.6.3.m3.1.1"><eq id="S5.F5.6.3.m3.1.1.1.cmml" xref="S5.F5.6.3.m3.1.1.1"></eq><ci id="S5.F5.6.3.m3.1.1.2.cmml" xref="S5.F5.6.3.m3.1.1.2">italic-ϵ</ci><cn type="float" id="S5.F5.6.3.m3.1.1.3.cmml" xref="S5.F5.6.3.m3.1.1.3">.001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.6.3.m3.1d">\epsilon=.001</annotation></semantics></math>.
</span></figcaption>
</figure>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS1.5.1.1" class="ltx_text">V-A</span> </span><span id="S5.SS1.6.2" class="ltx_text ltx_font_italic">Experimental Setup</span>
</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.2" class="ltx_p">We implemented LEGATO using the IBM Federated Learning library <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>.
All experiments in this section train a global model to classify MNIST handwritten digits or to classify CIFAR10 images in a FL system with <math id="S5.SS1.p1.1.m1.1" class="ltx_Math" alttext="25" display="inline"><semantics id="S5.SS1.p1.1.m1.1a"><mn id="S5.SS1.p1.1.m1.1.1" xref="S5.SS1.p1.1.m1.1.1.cmml">25</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.1.m1.1b"><cn type="integer" id="S5.SS1.p1.1.m1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1">25</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.1.m1.1c">25</annotation></semantics></math> workers. Each worker has training data points that are randomly sampled either across the entire dataset (IID) or across only one class each (non-IID setup taken from  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>) which will be specified later.
The workers compute the gradient based on its local dataset before responding to the server’s request at every global training round.
The global model for MNIST is a simple CNN with two convolutional layers, one dropout layer, and two dense layers. For CIFAR10, it is a CNN with three convolutional layers followed by three dense layers. We use Adadelta optimization and past gradient log size <math id="S5.SS1.p1.2.m2.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S5.SS1.p1.2.m2.1a"><mn id="S5.SS1.p1.2.m2.1.1" xref="S5.SS1.p1.2.m2.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.2.m2.1b"><cn type="integer" id="S5.SS1.p1.2.m2.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.2.m2.1c">10</annotation></semantics></math>. We use accuracy across global training rounds as a performance metric, which is comparable to F1 score in these experiments.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.1" class="ltx_p">We assess LEGATO’s performance against two types of Byzantine attacks: the Fall of Empires attack <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite> and the Gaussian attack.</p>
</div>
<section id="S5.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S5.SS1.SSS1.5.1.1" class="ltx_text">V-A</span>1 </span>Fall of Empires Attack</h4>

<div id="S5.SS1.SSS1.p1" class="ltx_para">
<p id="S5.SS1.SSS1.p1.5" class="ltx_p">The Fall of Empires attack <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite> is specifically designed to break Krum and coordinate median. Byzantine workers require knowledge of the <math id="S5.SS1.SSS1.p1.1.m1.1" class="ltx_Math" alttext="h" display="inline"><semantics id="S5.SS1.SSS1.p1.1.m1.1a"><mi id="S5.SS1.SSS1.p1.1.m1.1.1" xref="S5.SS1.SSS1.p1.1.m1.1.1.cmml">h</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS1.p1.1.m1.1b"><ci id="S5.SS1.SSS1.p1.1.m1.1.1.cmml" xref="S5.SS1.SSS1.p1.1.m1.1.1">ℎ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS1.p1.1.m1.1c">h</annotation></semantics></math> honest gradients, <math id="S5.SS1.SSS1.p1.2.m2.1" class="ltx_Math" alttext="v_{i}" display="inline"><semantics id="S5.SS1.SSS1.p1.2.m2.1a"><msub id="S5.SS1.SSS1.p1.2.m2.1.1" xref="S5.SS1.SSS1.p1.2.m2.1.1.cmml"><mi id="S5.SS1.SSS1.p1.2.m2.1.1.2" xref="S5.SS1.SSS1.p1.2.m2.1.1.2.cmml">v</mi><mi id="S5.SS1.SSS1.p1.2.m2.1.1.3" xref="S5.SS1.SSS1.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS1.p1.2.m2.1b"><apply id="S5.SS1.SSS1.p1.2.m2.1.1.cmml" xref="S5.SS1.SSS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS1.p1.2.m2.1.1.1.cmml" xref="S5.SS1.SSS1.p1.2.m2.1.1">subscript</csymbol><ci id="S5.SS1.SSS1.p1.2.m2.1.1.2.cmml" xref="S5.SS1.SSS1.p1.2.m2.1.1.2">𝑣</ci><ci id="S5.SS1.SSS1.p1.2.m2.1.1.3.cmml" xref="S5.SS1.SSS1.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS1.p1.2.m2.1c">v_{i}</annotation></semantics></math>, and send gradients, <math id="S5.SS1.SSS1.p1.3.m3.1" class="ltx_Math" alttext="u_{j}" display="inline"><semantics id="S5.SS1.SSS1.p1.3.m3.1a"><msub id="S5.SS1.SSS1.p1.3.m3.1.1" xref="S5.SS1.SSS1.p1.3.m3.1.1.cmml"><mi id="S5.SS1.SSS1.p1.3.m3.1.1.2" xref="S5.SS1.SSS1.p1.3.m3.1.1.2.cmml">u</mi><mi id="S5.SS1.SSS1.p1.3.m3.1.1.3" xref="S5.SS1.SSS1.p1.3.m3.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS1.p1.3.m3.1b"><apply id="S5.SS1.SSS1.p1.3.m3.1.1.cmml" xref="S5.SS1.SSS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS1.p1.3.m3.1.1.1.cmml" xref="S5.SS1.SSS1.p1.3.m3.1.1">subscript</csymbol><ci id="S5.SS1.SSS1.p1.3.m3.1.1.2.cmml" xref="S5.SS1.SSS1.p1.3.m3.1.1.2">𝑢</ci><ci id="S5.SS1.SSS1.p1.3.m3.1.1.3.cmml" xref="S5.SS1.SSS1.p1.3.m3.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS1.p1.3.m3.1c">u_{j}</annotation></semantics></math>, formulated as:
<br class="ltx_break"><math id="S5.SS1.SSS1.p1.4.m4.1" class="ltx_Math" alttext="u_{1}=u_{2}=...=u_{n-h}=-\frac{\epsilon}{h}\sum_{i=1}^{h}v_{i}" display="inline"><semantics id="S5.SS1.SSS1.p1.4.m4.1a"><mrow id="S5.SS1.SSS1.p1.4.m4.1.1" xref="S5.SS1.SSS1.p1.4.m4.1.1.cmml"><msub id="S5.SS1.SSS1.p1.4.m4.1.1.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.2.cmml"><mi id="S5.SS1.SSS1.p1.4.m4.1.1.2.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.2.2.cmml">u</mi><mn id="S5.SS1.SSS1.p1.4.m4.1.1.2.3" xref="S5.SS1.SSS1.p1.4.m4.1.1.2.3.cmml">1</mn></msub><mo id="S5.SS1.SSS1.p1.4.m4.1.1.3" xref="S5.SS1.SSS1.p1.4.m4.1.1.3.cmml">=</mo><msub id="S5.SS1.SSS1.p1.4.m4.1.1.4" xref="S5.SS1.SSS1.p1.4.m4.1.1.4.cmml"><mi id="S5.SS1.SSS1.p1.4.m4.1.1.4.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.4.2.cmml">u</mi><mn id="S5.SS1.SSS1.p1.4.m4.1.1.4.3" xref="S5.SS1.SSS1.p1.4.m4.1.1.4.3.cmml">2</mn></msub><mo id="S5.SS1.SSS1.p1.4.m4.1.1.5" xref="S5.SS1.SSS1.p1.4.m4.1.1.5.cmml">=</mo><mi mathvariant="normal" id="S5.SS1.SSS1.p1.4.m4.1.1.6" xref="S5.SS1.SSS1.p1.4.m4.1.1.6.cmml">…</mi><mo id="S5.SS1.SSS1.p1.4.m4.1.1.7" xref="S5.SS1.SSS1.p1.4.m4.1.1.7.cmml">=</mo><msub id="S5.SS1.SSS1.p1.4.m4.1.1.8" xref="S5.SS1.SSS1.p1.4.m4.1.1.8.cmml"><mi id="S5.SS1.SSS1.p1.4.m4.1.1.8.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.8.2.cmml">u</mi><mrow id="S5.SS1.SSS1.p1.4.m4.1.1.8.3" xref="S5.SS1.SSS1.p1.4.m4.1.1.8.3.cmml"><mi id="S5.SS1.SSS1.p1.4.m4.1.1.8.3.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.8.3.2.cmml">n</mi><mo id="S5.SS1.SSS1.p1.4.m4.1.1.8.3.1" xref="S5.SS1.SSS1.p1.4.m4.1.1.8.3.1.cmml">−</mo><mi id="S5.SS1.SSS1.p1.4.m4.1.1.8.3.3" xref="S5.SS1.SSS1.p1.4.m4.1.1.8.3.3.cmml">h</mi></mrow></msub><mo id="S5.SS1.SSS1.p1.4.m4.1.1.9" xref="S5.SS1.SSS1.p1.4.m4.1.1.9.cmml">=</mo><mrow id="S5.SS1.SSS1.p1.4.m4.1.1.10" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.cmml"><mo id="S5.SS1.SSS1.p1.4.m4.1.1.10a" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.cmml">−</mo><mrow id="S5.SS1.SSS1.p1.4.m4.1.1.10.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.cmml"><mfrac id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2.cmml"><mi id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2.2.cmml">ϵ</mi><mi id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2.3" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2.3.cmml">h</mi></mfrac><mo lspace="0em" rspace="0em" id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.1" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.1.cmml">​</mo><mrow id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.cmml"><msubsup id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.cmml"><mo id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.2.cmml">∑</mo><mrow id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.cmml"><mi id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.2.cmml">i</mi><mo id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.1" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.1.cmml">=</mo><mn id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.3" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.3" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.3.cmml">h</mi></msubsup><msub id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2.cmml"><mi id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2.2" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2.2.cmml">v</mi><mi id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2.3" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2.3.cmml">i</mi></msub></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS1.p1.4.m4.1b"><apply id="S5.SS1.SSS1.p1.4.m4.1.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1"><and id="S5.SS1.SSS1.p1.4.m4.1.1a.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1"></and><apply id="S5.SS1.SSS1.p1.4.m4.1.1b.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1"><eq id="S5.SS1.SSS1.p1.4.m4.1.1.3.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.3"></eq><apply id="S5.SS1.SSS1.p1.4.m4.1.1.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.2"><csymbol cd="ambiguous" id="S5.SS1.SSS1.p1.4.m4.1.1.2.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.2">subscript</csymbol><ci id="S5.SS1.SSS1.p1.4.m4.1.1.2.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.2.2">𝑢</ci><cn type="integer" id="S5.SS1.SSS1.p1.4.m4.1.1.2.3.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.2.3">1</cn></apply><apply id="S5.SS1.SSS1.p1.4.m4.1.1.4.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.4"><csymbol cd="ambiguous" id="S5.SS1.SSS1.p1.4.m4.1.1.4.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.4">subscript</csymbol><ci id="S5.SS1.SSS1.p1.4.m4.1.1.4.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.4.2">𝑢</ci><cn type="integer" id="S5.SS1.SSS1.p1.4.m4.1.1.4.3.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.4.3">2</cn></apply></apply><apply id="S5.SS1.SSS1.p1.4.m4.1.1c.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1"><eq id="S5.SS1.SSS1.p1.4.m4.1.1.5.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.5"></eq><share href="#S5.SS1.SSS1.p1.4.m4.1.1.4.cmml" id="S5.SS1.SSS1.p1.4.m4.1.1d.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1"></share><ci id="S5.SS1.SSS1.p1.4.m4.1.1.6.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.6">…</ci></apply><apply id="S5.SS1.SSS1.p1.4.m4.1.1e.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1"><eq id="S5.SS1.SSS1.p1.4.m4.1.1.7.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.7"></eq><share href="#S5.SS1.SSS1.p1.4.m4.1.1.6.cmml" id="S5.SS1.SSS1.p1.4.m4.1.1f.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1"></share><apply id="S5.SS1.SSS1.p1.4.m4.1.1.8.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.8"><csymbol cd="ambiguous" id="S5.SS1.SSS1.p1.4.m4.1.1.8.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.8">subscript</csymbol><ci id="S5.SS1.SSS1.p1.4.m4.1.1.8.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.8.2">𝑢</ci><apply id="S5.SS1.SSS1.p1.4.m4.1.1.8.3.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.8.3"><minus id="S5.SS1.SSS1.p1.4.m4.1.1.8.3.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.8.3.1"></minus><ci id="S5.SS1.SSS1.p1.4.m4.1.1.8.3.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.8.3.2">𝑛</ci><ci id="S5.SS1.SSS1.p1.4.m4.1.1.8.3.3.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.8.3.3">ℎ</ci></apply></apply></apply><apply id="S5.SS1.SSS1.p1.4.m4.1.1g.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1"><eq id="S5.SS1.SSS1.p1.4.m4.1.1.9.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.9"></eq><share href="#S5.SS1.SSS1.p1.4.m4.1.1.8.cmml" id="S5.SS1.SSS1.p1.4.m4.1.1h.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1"></share><apply id="S5.SS1.SSS1.p1.4.m4.1.1.10.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10"><minus id="S5.SS1.SSS1.p1.4.m4.1.1.10.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10"></minus><apply id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2"><times id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.1"></times><apply id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2"><divide id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2"></divide><ci id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2.2">italic-ϵ</ci><ci id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2.3.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.2.3">ℎ</ci></apply><apply id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3"><apply id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1"><csymbol cd="ambiguous" id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1">superscript</csymbol><apply id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1"><csymbol cd="ambiguous" id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1">subscript</csymbol><sum id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.2"></sum><apply id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3"><eq id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.1"></eq><ci id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.2">𝑖</ci><cn type="integer" id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.3.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.2.3.3">1</cn></apply></apply><ci id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.3.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.1.3">ℎ</ci></apply><apply id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2"><csymbol cd="ambiguous" id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2.1.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2">subscript</csymbol><ci id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2.2.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2.2">𝑣</ci><ci id="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2.3.cmml" xref="S5.SS1.SSS1.p1.4.m4.1.1.10.2.3.2.3">𝑖</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS1.p1.4.m4.1c">u_{1}=u_{2}=...=u_{n-h}=-\frac{\epsilon}{h}\sum_{i=1}^{h}v_{i}</annotation></semantics></math>,
where <math id="S5.SS1.SSS1.p1.5.m5.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S5.SS1.SSS1.p1.5.m5.1a"><mi id="S5.SS1.SSS1.p1.5.m5.1.1" xref="S5.SS1.SSS1.p1.5.m5.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS1.p1.5.m5.1b"><ci id="S5.SS1.SSS1.p1.5.m5.1.1.cmml" xref="S5.SS1.SSS1.p1.5.m5.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS1.p1.5.m5.1c">\epsilon</annotation></semantics></math> is a real, non-negative factor.</p>
</div>
</section>
<section id="S5.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S5.SS1.SSS2.5.1.1" class="ltx_text">V-A</span>2 </span>Gaussian Attack</h4>

<div id="S5.SS1.SSS2.p1" class="ltx_para">
<p id="S5.SS1.SSS2.p1.3" class="ltx_p">For the Gaussian attack, Byzantine workers randomly sample gradients from a Gaussian distribution, <math id="S5.SS1.SSS2.p1.1.m1.2" class="ltx_Math" alttext="N(\mu,\sigma^{2}I)" display="inline"><semantics id="S5.SS1.SSS2.p1.1.m1.2a"><mrow id="S5.SS1.SSS2.p1.1.m1.2.2" xref="S5.SS1.SSS2.p1.1.m1.2.2.cmml"><mi id="S5.SS1.SSS2.p1.1.m1.2.2.3" xref="S5.SS1.SSS2.p1.1.m1.2.2.3.cmml">N</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS2.p1.1.m1.2.2.2" xref="S5.SS1.SSS2.p1.1.m1.2.2.2.cmml">​</mo><mrow id="S5.SS1.SSS2.p1.1.m1.2.2.1.1" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.2.cmml"><mo stretchy="false" id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.2" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.2.cmml">(</mo><mi id="S5.SS1.SSS2.p1.1.m1.1.1" xref="S5.SS1.SSS2.p1.1.m1.1.1.cmml">μ</mi><mo id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.3" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.2.cmml">,</mo><mrow id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.cmml"><msup id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2.cmml"><mi id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2.2" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2.2.cmml">σ</mi><mn id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2.3" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.1" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.3" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.3.cmml">I</mi></mrow><mo stretchy="false" id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.4" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p1.1.m1.2b"><apply id="S5.SS1.SSS2.p1.1.m1.2.2.cmml" xref="S5.SS1.SSS2.p1.1.m1.2.2"><times id="S5.SS1.SSS2.p1.1.m1.2.2.2.cmml" xref="S5.SS1.SSS2.p1.1.m1.2.2.2"></times><ci id="S5.SS1.SSS2.p1.1.m1.2.2.3.cmml" xref="S5.SS1.SSS2.p1.1.m1.2.2.3">𝑁</ci><interval closure="open" id="S5.SS1.SSS2.p1.1.m1.2.2.1.2.cmml" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1"><ci id="S5.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S5.SS1.SSS2.p1.1.m1.1.1">𝜇</ci><apply id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.cmml" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1"><times id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.1.cmml" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.1"></times><apply id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2.cmml" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2.1.cmml" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2">superscript</csymbol><ci id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2.2.cmml" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2.2">𝜎</ci><cn type="integer" id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2.3.cmml" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.2.3">2</cn></apply><ci id="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.3.cmml" xref="S5.SS1.SSS2.p1.1.m1.2.2.1.1.1.3">𝐼</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.1.m1.2c">N(\mu,\sigma^{2}I)</annotation></semantics></math>. In our experiments, we set <math id="S5.SS1.SSS2.p1.2.m2.1" class="ltx_Math" alttext="\mu=0" display="inline"><semantics id="S5.SS1.SSS2.p1.2.m2.1a"><mrow id="S5.SS1.SSS2.p1.2.m2.1.1" xref="S5.SS1.SSS2.p1.2.m2.1.1.cmml"><mi id="S5.SS1.SSS2.p1.2.m2.1.1.2" xref="S5.SS1.SSS2.p1.2.m2.1.1.2.cmml">μ</mi><mo id="S5.SS1.SSS2.p1.2.m2.1.1.1" xref="S5.SS1.SSS2.p1.2.m2.1.1.1.cmml">=</mo><mn id="S5.SS1.SSS2.p1.2.m2.1.1.3" xref="S5.SS1.SSS2.p1.2.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p1.2.m2.1b"><apply id="S5.SS1.SSS2.p1.2.m2.1.1.cmml" xref="S5.SS1.SSS2.p1.2.m2.1.1"><eq id="S5.SS1.SSS2.p1.2.m2.1.1.1.cmml" xref="S5.SS1.SSS2.p1.2.m2.1.1.1"></eq><ci id="S5.SS1.SSS2.p1.2.m2.1.1.2.cmml" xref="S5.SS1.SSS2.p1.2.m2.1.1.2">𝜇</ci><cn type="integer" id="S5.SS1.SSS2.p1.2.m2.1.1.3.cmml" xref="S5.SS1.SSS2.p1.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.2.m2.1c">\mu=0</annotation></semantics></math>, and vary the selection of <math id="S5.SS1.SSS2.p1.3.m3.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S5.SS1.SSS2.p1.3.m3.1a"><mi id="S5.SS1.SSS2.p1.3.m3.1.1" xref="S5.SS1.SSS2.p1.3.m3.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p1.3.m3.1b"><ci id="S5.SS1.SSS2.p1.3.m3.1.1.cmml" xref="S5.SS1.SSS2.p1.3.m3.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.3.m3.1c">\sigma</annotation></semantics></math>.</p>
</div>
<figure id="S5.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F6.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2107.12490/assets/figures/noniid_nonattack_accuracy.png" id="S5.F6.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F6.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S5.F6.sf1.3.2" class="ltx_text" style="font-size:90%;">Non-attack setting.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F6.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2107.12490/assets/figures/g20_accuracy_wavg.png" id="S5.F6.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F6.sf2.4.2.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S5.F6.sf2.2.1" class="ltx_text" style="font-size:90%;">Gaussian attack setting with <math id="S5.F6.sf2.2.1.m1.1" class="ltx_Math" alttext="\sigma=20" display="inline"><semantics id="S5.F6.sf2.2.1.m1.1b"><mrow id="S5.F6.sf2.2.1.m1.1.1" xref="S5.F6.sf2.2.1.m1.1.1.cmml"><mi id="S5.F6.sf2.2.1.m1.1.1.2" xref="S5.F6.sf2.2.1.m1.1.1.2.cmml">σ</mi><mo id="S5.F6.sf2.2.1.m1.1.1.1" xref="S5.F6.sf2.2.1.m1.1.1.1.cmml">=</mo><mn id="S5.F6.sf2.2.1.m1.1.1.3" xref="S5.F6.sf2.2.1.m1.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F6.sf2.2.1.m1.1c"><apply id="S5.F6.sf2.2.1.m1.1.1.cmml" xref="S5.F6.sf2.2.1.m1.1.1"><eq id="S5.F6.sf2.2.1.m1.1.1.1.cmml" xref="S5.F6.sf2.2.1.m1.1.1.1"></eq><ci id="S5.F6.sf2.2.1.m1.1.1.2.cmml" xref="S5.F6.sf2.2.1.m1.1.1.2">𝜎</ci><cn type="integer" id="S5.F6.sf2.2.1.m1.1.1.3.cmml" xref="S5.F6.sf2.2.1.m1.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F6.sf2.2.1.m1.1d">\sigma=20</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F6.sf3" class="ltx_figure ltx_figure_panel"><img src="/html/2107.12490/assets/figures/g100_accuracy_wavg.png" id="S5.F6.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F6.sf3.4.2.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S5.F6.sf3.2.1" class="ltx_text" style="font-size:90%;">Gaussian attack setting with <math id="S5.F6.sf3.2.1.m1.1" class="ltx_Math" alttext="\sigma=100" display="inline"><semantics id="S5.F6.sf3.2.1.m1.1b"><mrow id="S5.F6.sf3.2.1.m1.1.1" xref="S5.F6.sf3.2.1.m1.1.1.cmml"><mi id="S5.F6.sf3.2.1.m1.1.1.2" xref="S5.F6.sf3.2.1.m1.1.1.2.cmml">σ</mi><mo id="S5.F6.sf3.2.1.m1.1.1.1" xref="S5.F6.sf3.2.1.m1.1.1.1.cmml">=</mo><mn id="S5.F6.sf3.2.1.m1.1.1.3" xref="S5.F6.sf3.2.1.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F6.sf3.2.1.m1.1c"><apply id="S5.F6.sf3.2.1.m1.1.1.cmml" xref="S5.F6.sf3.2.1.m1.1.1"><eq id="S5.F6.sf3.2.1.m1.1.1.1.cmml" xref="S5.F6.sf3.2.1.m1.1.1.1"></eq><ci id="S5.F6.sf3.2.1.m1.1.1.2.cmml" xref="S5.F6.sf3.2.1.m1.1.1.2">𝜎</ci><cn type="integer" id="S5.F6.sf3.2.1.m1.1.1.3.cmml" xref="S5.F6.sf3.2.1.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F6.sf3.2.1.m1.1d">\sigma=100</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F6.15.6.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="S5.F6.10.5" class="ltx_text" style="font-size:90%;">Accuracy for <span id="S5.F6.10.5.1" class="ltx_text ltx_font_italic">non-attack setting</span> (<span id="S5.F6.10.5.2" class="ltx_text ltx_font_italic">top</span>) and under Gaussian attack (<span id="S5.F6.10.5.3" class="ltx_text ltx_font_italic">bottom</span>), where <math id="S5.F6.6.1.m1.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S5.F6.6.1.m1.1b"><mn id="S5.F6.6.1.m1.1.1" xref="S5.F6.6.1.m1.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S5.F6.6.1.m1.1c"><cn type="integer" id="S5.F6.6.1.m1.1.1.cmml" xref="S5.F6.6.1.m1.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F6.6.1.m1.1d">4</annotation></semantics></math> out of the <math id="S5.F6.7.2.m2.1" class="ltx_Math" alttext="25" display="inline"><semantics id="S5.F6.7.2.m2.1b"><mn id="S5.F6.7.2.m2.1.1" xref="S5.F6.7.2.m2.1.1.cmml">25</mn><annotation-xml encoding="MathML-Content" id="S5.F6.7.2.m2.1c"><cn type="integer" id="S5.F6.7.2.m2.1.1.cmml" xref="S5.F6.7.2.m2.1.1">25</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F6.7.2.m2.1d">25</annotation></semantics></math> workers are Byzantine and randomly sample gradients from <math id="S5.F6.8.3.m3.2" class="ltx_Math" alttext="N(0,\sigma^{2}I)" display="inline"><semantics id="S5.F6.8.3.m3.2b"><mrow id="S5.F6.8.3.m3.2.2" xref="S5.F6.8.3.m3.2.2.cmml"><mi id="S5.F6.8.3.m3.2.2.3" xref="S5.F6.8.3.m3.2.2.3.cmml">N</mi><mo lspace="0em" rspace="0em" id="S5.F6.8.3.m3.2.2.2" xref="S5.F6.8.3.m3.2.2.2.cmml">​</mo><mrow id="S5.F6.8.3.m3.2.2.1.1" xref="S5.F6.8.3.m3.2.2.1.2.cmml"><mo stretchy="false" id="S5.F6.8.3.m3.2.2.1.1.2" xref="S5.F6.8.3.m3.2.2.1.2.cmml">(</mo><mn id="S5.F6.8.3.m3.1.1" xref="S5.F6.8.3.m3.1.1.cmml">0</mn><mo id="S5.F6.8.3.m3.2.2.1.1.3" xref="S5.F6.8.3.m3.2.2.1.2.cmml">,</mo><mrow id="S5.F6.8.3.m3.2.2.1.1.1" xref="S5.F6.8.3.m3.2.2.1.1.1.cmml"><msup id="S5.F6.8.3.m3.2.2.1.1.1.2" xref="S5.F6.8.3.m3.2.2.1.1.1.2.cmml"><mi id="S5.F6.8.3.m3.2.2.1.1.1.2.2" xref="S5.F6.8.3.m3.2.2.1.1.1.2.2.cmml">σ</mi><mn id="S5.F6.8.3.m3.2.2.1.1.1.2.3" xref="S5.F6.8.3.m3.2.2.1.1.1.2.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="S5.F6.8.3.m3.2.2.1.1.1.1" xref="S5.F6.8.3.m3.2.2.1.1.1.1.cmml">​</mo><mi id="S5.F6.8.3.m3.2.2.1.1.1.3" xref="S5.F6.8.3.m3.2.2.1.1.1.3.cmml">I</mi></mrow><mo stretchy="false" id="S5.F6.8.3.m3.2.2.1.1.4" xref="S5.F6.8.3.m3.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.F6.8.3.m3.2c"><apply id="S5.F6.8.3.m3.2.2.cmml" xref="S5.F6.8.3.m3.2.2"><times id="S5.F6.8.3.m3.2.2.2.cmml" xref="S5.F6.8.3.m3.2.2.2"></times><ci id="S5.F6.8.3.m3.2.2.3.cmml" xref="S5.F6.8.3.m3.2.2.3">𝑁</ci><interval closure="open" id="S5.F6.8.3.m3.2.2.1.2.cmml" xref="S5.F6.8.3.m3.2.2.1.1"><cn type="integer" id="S5.F6.8.3.m3.1.1.cmml" xref="S5.F6.8.3.m3.1.1">0</cn><apply id="S5.F6.8.3.m3.2.2.1.1.1.cmml" xref="S5.F6.8.3.m3.2.2.1.1.1"><times id="S5.F6.8.3.m3.2.2.1.1.1.1.cmml" xref="S5.F6.8.3.m3.2.2.1.1.1.1"></times><apply id="S5.F6.8.3.m3.2.2.1.1.1.2.cmml" xref="S5.F6.8.3.m3.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S5.F6.8.3.m3.2.2.1.1.1.2.1.cmml" xref="S5.F6.8.3.m3.2.2.1.1.1.2">superscript</csymbol><ci id="S5.F6.8.3.m3.2.2.1.1.1.2.2.cmml" xref="S5.F6.8.3.m3.2.2.1.1.1.2.2">𝜎</ci><cn type="integer" id="S5.F6.8.3.m3.2.2.1.1.1.2.3.cmml" xref="S5.F6.8.3.m3.2.2.1.1.1.2.3">2</cn></apply><ci id="S5.F6.8.3.m3.2.2.1.1.1.3.cmml" xref="S5.F6.8.3.m3.2.2.1.1.1.3">𝐼</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F6.8.3.m3.2d">N(0,\sigma^{2}I)</annotation></semantics></math>.
For all cases, the workers have non-IID data distribution, the batch size is <math id="S5.F6.9.4.m4.1" class="ltx_Math" alttext="50" display="inline"><semantics id="S5.F6.9.4.m4.1b"><mn id="S5.F6.9.4.m4.1.1" xref="S5.F6.9.4.m4.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S5.F6.9.4.m4.1c"><cn type="integer" id="S5.F6.9.4.m4.1.1.cmml" xref="S5.F6.9.4.m4.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F6.9.4.m4.1d">50</annotation></semantics></math> and the learning rate is <math id="S5.F6.10.5.m5.1" class="ltx_Math" alttext=".03" display="inline"><semantics id="S5.F6.10.5.m5.1b"><mn id="S5.F6.10.5.m5.1.1" xref="S5.F6.10.5.m5.1.1.cmml">.03</mn><annotation-xml encoding="MathML-Content" id="S5.F6.10.5.m5.1c"><cn type="float" id="S5.F6.10.5.m5.1.1.cmml" xref="S5.F6.10.5.m5.1.1">.03</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F6.10.5.m5.1d">.03</annotation></semantics></math>.</span></figcaption>
</figure>
</section>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS2.5.1.1" class="ltx_text">V-B</span> </span><span id="S5.SS2.6.2" class="ltx_text ltx_font_italic">Comparison of LEGATO against Krum and coordinate median</span>
</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">We first study the case when there is an attack presented. Figure <a href="#S5.F5" title="Figure 5 ‣ V Evaluation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows results for algorithms against the Fall of Empires attack for training on MNIST (top) and CIFAR10 (bottom). As it can be seen in the figure, the Fall of Empires attack is effective against Krum, but not against LEGATO or gradient averaging.
With this attack, all Byzantine gradients are the same and hence form a large cluster. Krum identifies these Byzantine worker gradients as being more trustworthy and will use them to update the global model.
This takes advantage of Krum’s reliance on the assumption that honest gradients are sufficiently clumped  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> and similar results are shown on coordinate median.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.3" class="ltx_p">This assumption of bounded honest gradient variance is especially unrealistic for FL systems with non-IID worker local data distributions.
Therefore, when local workers’ data distribution is non-IID, Figure <a href="#S5.F6" title="Figure 6 ‣ V-A2 Gaussian Attack ‣ V-A Experimental Setup ‣ V Evaluation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> shows that Krum and coordinate median performs poorly regardless if there is a Gaussian attack presented or not.
In fact, they cannot distinguish between Byzantine gradients and the benign gradients from workers owning different local distributions.
Our experimental results demonstrate that LEGATO is independent of this assumption.
In particular, LEGATO achieves consistently better accuracy comparing to gradient averaging for all attack settings.
When the Gaussian attack uses a small variance, <math id="S5.SS2.p2.1.m1.1" class="ltx_Math" alttext="\sigma=20" display="inline"><semantics id="S5.SS2.p2.1.m1.1a"><mrow id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml"><mi id="S5.SS2.p2.1.m1.1.1.2" xref="S5.SS2.p2.1.m1.1.1.2.cmml">σ</mi><mo id="S5.SS2.p2.1.m1.1.1.1" xref="S5.SS2.p2.1.m1.1.1.1.cmml">=</mo><mn id="S5.SS2.p2.1.m1.1.1.3" xref="S5.SS2.p2.1.m1.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><apply id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1"><eq id="S5.SS2.p2.1.m1.1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1.1"></eq><ci id="S5.SS2.p2.1.m1.1.1.2.cmml" xref="S5.SS2.p2.1.m1.1.1.2">𝜎</ci><cn type="integer" id="S5.SS2.p2.1.m1.1.1.3.cmml" xref="S5.SS2.p2.1.m1.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">\sigma=20</annotation></semantics></math>, LEGATO achieves a significant improvement in model accuracy compared to Krum and coordinate median.
When <math id="S5.SS2.p2.2.m2.1" class="ltx_Math" alttext="\sigma=100" display="inline"><semantics id="S5.SS2.p2.2.m2.1a"><mrow id="S5.SS2.p2.2.m2.1.1" xref="S5.SS2.p2.2.m2.1.1.cmml"><mi id="S5.SS2.p2.2.m2.1.1.2" xref="S5.SS2.p2.2.m2.1.1.2.cmml">σ</mi><mo id="S5.SS2.p2.2.m2.1.1.1" xref="S5.SS2.p2.2.m2.1.1.1.cmml">=</mo><mn id="S5.SS2.p2.2.m2.1.1.3" xref="S5.SS2.p2.2.m2.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.2.m2.1b"><apply id="S5.SS2.p2.2.m2.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1"><eq id="S5.SS2.p2.2.m2.1.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1.1"></eq><ci id="S5.SS2.p2.2.m2.1.1.2.cmml" xref="S5.SS2.p2.2.m2.1.1.2">𝜎</ci><cn type="integer" id="S5.SS2.p2.2.m2.1.1.3.cmml" xref="S5.SS2.p2.2.m2.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.2.m2.1c">\sigma=100</annotation></semantics></math>, the accuracy of LEGATO is better than Krum and slightly exceeds coordinate median after <math id="S5.SS2.p2.3.m3.1" class="ltx_Math" alttext="175" display="inline"><semantics id="S5.SS2.p2.3.m3.1a"><mn id="S5.SS2.p2.3.m3.1.1" xref="S5.SS2.p2.3.m3.1.1.cmml">175</mn><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.3.m3.1b"><cn type="integer" id="S5.SS2.p2.3.m3.1.1.cmml" xref="S5.SS2.p2.3.m3.1.1">175</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.3.m3.1c">175</annotation></semantics></math> rounds because the high standard deviation exploits a vulnerability LEGATO has to extreme outliers.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS3.5.1.1" class="ltx_text">V-C</span> </span><span id="S5.SS3.6.2" class="ltx_text ltx_font_italic">Comparison of LEGATO Against Robustness of Gradient Averaging</span>
</h3>

<figure id="S5.F7" class="ltx_figure"><img src="/html/2107.12490/assets/figures/overparameterized.png" id="S5.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="254" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F7.12.6.1" class="ltx_text" style="font-size:90%;">Figure 7</span>: </span><span id="S5.F7.10.5" class="ltx_text" style="font-size:80%;">Comparing the accuracy of gradient averaging and LEGATO for training a CNN with 8 convolutional model layers instead of the previous architecture with 2 convolutional layers. The minibatch size is <math id="S5.F7.6.1.m1.1" class="ltx_Math" alttext="50" display="inline"><semantics id="S5.F7.6.1.m1.1b"><mn id="S5.F7.6.1.m1.1.1" xref="S5.F7.6.1.m1.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S5.F7.6.1.m1.1c"><cn type="integer" id="S5.F7.6.1.m1.1.1.cmml" xref="S5.F7.6.1.m1.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F7.6.1.m1.1d">50</annotation></semantics></math> and the learning rate is <math id="S5.F7.7.2.m2.1" class="ltx_Math" alttext=".05" display="inline"><semantics id="S5.F7.7.2.m2.1b"><mn id="S5.F7.7.2.m2.1.1" xref="S5.F7.7.2.m2.1.1.cmml">.05</mn><annotation-xml encoding="MathML-Content" id="S5.F7.7.2.m2.1c"><cn type="float" id="S5.F7.7.2.m2.1.1.cmml" xref="S5.F7.7.2.m2.1.1">.05</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F7.7.2.m2.1d">.05</annotation></semantics></math>, and <math id="S5.F7.8.3.m3.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S5.F7.8.3.m3.1b"><mn id="S5.F7.8.3.m3.1.1" xref="S5.F7.8.3.m3.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S5.F7.8.3.m3.1c"><cn type="integer" id="S5.F7.8.3.m3.1.1.cmml" xref="S5.F7.8.3.m3.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F7.8.3.m3.1d">4</annotation></semantics></math> of <math id="S5.F7.9.4.m4.1" class="ltx_Math" alttext="25" display="inline"><semantics id="S5.F7.9.4.m4.1b"><mn id="S5.F7.9.4.m4.1.1" xref="S5.F7.9.4.m4.1.1.cmml">25</mn><annotation-xml encoding="MathML-Content" id="S5.F7.9.4.m4.1c"><cn type="integer" id="S5.F7.9.4.m4.1.1.cmml" xref="S5.F7.9.4.m4.1.1">25</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F7.9.4.m4.1d">25</annotation></semantics></math> workers are Byzantine workers executing a Gaussian attack where gradients are randomly sampled from <math id="S5.F7.10.5.m5.2" class="ltx_Math" alttext="N(0,20^{2}I)" display="inline"><semantics id="S5.F7.10.5.m5.2b"><mrow id="S5.F7.10.5.m5.2.2" xref="S5.F7.10.5.m5.2.2.cmml"><mi id="S5.F7.10.5.m5.2.2.3" xref="S5.F7.10.5.m5.2.2.3.cmml">N</mi><mo lspace="0em" rspace="0em" id="S5.F7.10.5.m5.2.2.2" xref="S5.F7.10.5.m5.2.2.2.cmml">​</mo><mrow id="S5.F7.10.5.m5.2.2.1.1" xref="S5.F7.10.5.m5.2.2.1.2.cmml"><mo stretchy="false" id="S5.F7.10.5.m5.2.2.1.1.2" xref="S5.F7.10.5.m5.2.2.1.2.cmml">(</mo><mn id="S5.F7.10.5.m5.1.1" xref="S5.F7.10.5.m5.1.1.cmml">0</mn><mo id="S5.F7.10.5.m5.2.2.1.1.3" xref="S5.F7.10.5.m5.2.2.1.2.cmml">,</mo><mrow id="S5.F7.10.5.m5.2.2.1.1.1" xref="S5.F7.10.5.m5.2.2.1.1.1.cmml"><msup id="S5.F7.10.5.m5.2.2.1.1.1.2" xref="S5.F7.10.5.m5.2.2.1.1.1.2.cmml"><mn id="S5.F7.10.5.m5.2.2.1.1.1.2.2" xref="S5.F7.10.5.m5.2.2.1.1.1.2.2.cmml">20</mn><mn id="S5.F7.10.5.m5.2.2.1.1.1.2.3" xref="S5.F7.10.5.m5.2.2.1.1.1.2.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="S5.F7.10.5.m5.2.2.1.1.1.1" xref="S5.F7.10.5.m5.2.2.1.1.1.1.cmml">​</mo><mi id="S5.F7.10.5.m5.2.2.1.1.1.3" xref="S5.F7.10.5.m5.2.2.1.1.1.3.cmml">I</mi></mrow><mo stretchy="false" id="S5.F7.10.5.m5.2.2.1.1.4" xref="S5.F7.10.5.m5.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.F7.10.5.m5.2c"><apply id="S5.F7.10.5.m5.2.2.cmml" xref="S5.F7.10.5.m5.2.2"><times id="S5.F7.10.5.m5.2.2.2.cmml" xref="S5.F7.10.5.m5.2.2.2"></times><ci id="S5.F7.10.5.m5.2.2.3.cmml" xref="S5.F7.10.5.m5.2.2.3">𝑁</ci><interval closure="open" id="S5.F7.10.5.m5.2.2.1.2.cmml" xref="S5.F7.10.5.m5.2.2.1.1"><cn type="integer" id="S5.F7.10.5.m5.1.1.cmml" xref="S5.F7.10.5.m5.1.1">0</cn><apply id="S5.F7.10.5.m5.2.2.1.1.1.cmml" xref="S5.F7.10.5.m5.2.2.1.1.1"><times id="S5.F7.10.5.m5.2.2.1.1.1.1.cmml" xref="S5.F7.10.5.m5.2.2.1.1.1.1"></times><apply id="S5.F7.10.5.m5.2.2.1.1.1.2.cmml" xref="S5.F7.10.5.m5.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S5.F7.10.5.m5.2.2.1.1.1.2.1.cmml" xref="S5.F7.10.5.m5.2.2.1.1.1.2">superscript</csymbol><cn type="integer" id="S5.F7.10.5.m5.2.2.1.1.1.2.2.cmml" xref="S5.F7.10.5.m5.2.2.1.1.1.2.2">20</cn><cn type="integer" id="S5.F7.10.5.m5.2.2.1.1.1.2.3.cmml" xref="S5.F7.10.5.m5.2.2.1.1.1.2.3">2</cn></apply><ci id="S5.F7.10.5.m5.2.2.1.1.1.3.cmml" xref="S5.F7.10.5.m5.2.2.1.1.1.3">𝐼</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F7.10.5.m5.2d">N(0,20^{2}I)</annotation></semantics></math>.</span></figcaption>
</figure>
<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">Figure <a href="#S5.F7" title="Figure 7 ‣ V-C Comparison of LEGATO Against Robustness of Gradient Averaging ‣ V Evaluation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows that the performances of LEGATO and gradient averaging drop and the performance gap widens when more convolutional layers are added to the model architecture. This is increasing the overparamterization of the model, which is a condition worth studying due to its common existence in practice. As the number of parameters increases, the model becomes more susceptible to learning the Gaussian noise in the same way that it would become more susceptible to learning noise in training data and hence overfitting in non-attack settings. LEGATO’s dampening of gradient oscillations is therefore resembling the effect of regularization methods for reducing overfitting.</p>
</div>
</section>
<section id="S5.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS4.5.1.1" class="ltx_text">V-D</span> </span><span id="S5.SS4.6.2" class="ltx_text ltx_font_italic">Analysis of Layer Robustness Factor Results</span>
</h3>

<div id="S5.SS4.p1" class="ltx_para">
<p id="S5.SS4.p1.3" class="ltx_p">We also compare how different neural network layers behave when the training process is being attack versus in a non-attack setting.
In this experiment, we use IID worker data distribution; in the attack scenario <math id="S5.SS4.p1.1.m1.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S5.SS4.p1.1.m1.1a"><mn id="S5.SS4.p1.1.m1.1.1" xref="S5.SS4.p1.1.m1.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.1.m1.1b"><cn type="integer" id="S5.SS4.p1.1.m1.1.1.cmml" xref="S5.SS4.p1.1.m1.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.1.m1.1c">4</annotation></semantics></math> out of <math id="S5.SS4.p1.2.m2.1" class="ltx_Math" alttext="25" display="inline"><semantics id="S5.SS4.p1.2.m2.1a"><mn id="S5.SS4.p1.2.m2.1.1" xref="S5.SS4.p1.2.m2.1.1.cmml">25</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.2.m2.1b"><cn type="integer" id="S5.SS4.p1.2.m2.1.1.cmml" xref="S5.SS4.p1.2.m2.1.1">25</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.2.m2.1c">25</annotation></semantics></math> workers launched Gaussian attack with <math id="S5.SS4.p1.3.m3.1" class="ltx_Math" alttext="\sigma=20" display="inline"><semantics id="S5.SS4.p1.3.m3.1a"><mrow id="S5.SS4.p1.3.m3.1.1" xref="S5.SS4.p1.3.m3.1.1.cmml"><mi id="S5.SS4.p1.3.m3.1.1.2" xref="S5.SS4.p1.3.m3.1.1.2.cmml">σ</mi><mo id="S5.SS4.p1.3.m3.1.1.1" xref="S5.SS4.p1.3.m3.1.1.1.cmml">=</mo><mn id="S5.SS4.p1.3.m3.1.1.3" xref="S5.SS4.p1.3.m3.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.3.m3.1b"><apply id="S5.SS4.p1.3.m3.1.1.cmml" xref="S5.SS4.p1.3.m3.1.1"><eq id="S5.SS4.p1.3.m3.1.1.1.cmml" xref="S5.SS4.p1.3.m3.1.1.1"></eq><ci id="S5.SS4.p1.3.m3.1.1.2.cmml" xref="S5.SS4.p1.3.m3.1.1.2">𝜎</ci><cn type="integer" id="S5.SS4.p1.3.m3.1.1.3.cmml" xref="S5.SS4.p1.3.m3.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.3.m3.1c">\sigma=20</annotation></semantics></math>.</p>
</div>
<figure id="S5.F8" class="ltx_figure"><img src="/html/2107.12490/assets/figures/robust_factors.png" id="S5.F8.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="216" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F8.4.2.1" class="ltx_text" style="font-size:90%;">Figure 8</span>: </span><span id="S5.F8.2.1" class="ltx_text" style="font-size:80%;">Mean robustness factors assigned to each layer by LEGATO across rounds 20-80 of training in the Gaussian attack with <math id="S5.F8.2.1.m1.1" class="ltx_Math" alttext="\sigma=20" display="inline"><semantics id="S5.F8.2.1.m1.1b"><mrow id="S5.F8.2.1.m1.1.1" xref="S5.F8.2.1.m1.1.1.cmml"><mi id="S5.F8.2.1.m1.1.1.2" xref="S5.F8.2.1.m1.1.1.2.cmml">σ</mi><mo id="S5.F8.2.1.m1.1.1.1" xref="S5.F8.2.1.m1.1.1.1.cmml">=</mo><mn id="S5.F8.2.1.m1.1.1.3" xref="S5.F8.2.1.m1.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F8.2.1.m1.1c"><apply id="S5.F8.2.1.m1.1.1.cmml" xref="S5.F8.2.1.m1.1.1"><eq id="S5.F8.2.1.m1.1.1.1.cmml" xref="S5.F8.2.1.m1.1.1.1"></eq><ci id="S5.F8.2.1.m1.1.1.2.cmml" xref="S5.F8.2.1.m1.1.1.2">𝜎</ci><cn type="integer" id="S5.F8.2.1.m1.1.1.3.cmml" xref="S5.F8.2.1.m1.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F8.2.1.m1.1d">\sigma=20</annotation></semantics></math> setting and the non-attack setting. Error bars indicate the variance of factors.</span></figcaption>
</figure>
<figure id="S5.F9" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F9.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.12490/assets/figures/nonattack_log.png" id="S5.F9.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F9.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S5.F9.sf1.3.2" class="ltx_text" style="font-size:90%;">Non-attack setting.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F9.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.12490/assets/figures/g20_log.png" id="S5.F9.sf2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F9.sf2.4.2.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S5.F9.sf2.2.1" class="ltx_text" style="font-size:90%;">Gaussian attack, <math id="S5.F9.sf2.2.1.m1.1" class="ltx_Math" alttext="\sigma=20" display="inline"><semantics id="S5.F9.sf2.2.1.m1.1b"><mrow id="S5.F9.sf2.2.1.m1.1.1" xref="S5.F9.sf2.2.1.m1.1.1.cmml"><mi id="S5.F9.sf2.2.1.m1.1.1.2" xref="S5.F9.sf2.2.1.m1.1.1.2.cmml">σ</mi><mo id="S5.F9.sf2.2.1.m1.1.1.1" xref="S5.F9.sf2.2.1.m1.1.1.1.cmml">=</mo><mn id="S5.F9.sf2.2.1.m1.1.1.3" xref="S5.F9.sf2.2.1.m1.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F9.sf2.2.1.m1.1c"><apply id="S5.F9.sf2.2.1.m1.1.1.cmml" xref="S5.F9.sf2.2.1.m1.1.1"><eq id="S5.F9.sf2.2.1.m1.1.1.1.cmml" xref="S5.F9.sf2.2.1.m1.1.1.1"></eq><ci id="S5.F9.sf2.2.1.m1.1.1.2.cmml" xref="S5.F9.sf2.2.1.m1.1.1.2">𝜎</ci><cn type="integer" id="S5.F9.sf2.2.1.m1.1.1.3.cmml" xref="S5.F9.sf2.2.1.m1.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.sf2.2.1.m1.1d">\sigma=20</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F9.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2107.12490/assets/figures/g100_log.png" id="S5.F9.sf3.g1" class="ltx_graphics ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F9.sf3.4.2.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S5.F9.sf3.2.1" class="ltx_text" style="font-size:90%;">Gaussian attack, <math id="S5.F9.sf3.2.1.m1.1" class="ltx_Math" alttext="\sigma=100" display="inline"><semantics id="S5.F9.sf3.2.1.m1.1b"><mrow id="S5.F9.sf3.2.1.m1.1.1" xref="S5.F9.sf3.2.1.m1.1.1.cmml"><mi id="S5.F9.sf3.2.1.m1.1.1.2" xref="S5.F9.sf3.2.1.m1.1.1.2.cmml">σ</mi><mo id="S5.F9.sf3.2.1.m1.1.1.1" xref="S5.F9.sf3.2.1.m1.1.1.1.cmml">=</mo><mn id="S5.F9.sf3.2.1.m1.1.1.3" xref="S5.F9.sf3.2.1.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F9.sf3.2.1.m1.1c"><apply id="S5.F9.sf3.2.1.m1.1.1.cmml" xref="S5.F9.sf3.2.1.m1.1.1"><eq id="S5.F9.sf3.2.1.m1.1.1.1.cmml" xref="S5.F9.sf3.2.1.m1.1.1.1"></eq><ci id="S5.F9.sf3.2.1.m1.1.1.2.cmml" xref="S5.F9.sf3.2.1.m1.1.1.2">𝜎</ci><cn type="integer" id="S5.F9.sf3.2.1.m1.1.1.3.cmml" xref="S5.F9.sf3.2.1.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.sf3.2.1.m1.1d">\sigma=100</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F9.18.9.1" class="ltx_text" style="font-size:90%;">Figure 9</span>: </span><span id="S5.F9.16.8" class="ltx_text" style="font-size:90%;">MNIST dataset, non-IID setting, where each worker has <math id="S5.F9.9.1.m1.2" class="ltx_Math" alttext="1,000" display="inline"><semantics id="S5.F9.9.1.m1.2b"><mrow id="S5.F9.9.1.m1.2.3.2" xref="S5.F9.9.1.m1.2.3.1.cmml"><mn id="S5.F9.9.1.m1.1.1" xref="S5.F9.9.1.m1.1.1.cmml">1</mn><mo id="S5.F9.9.1.m1.2.3.2.1" xref="S5.F9.9.1.m1.2.3.1.cmml">,</mo><mn id="S5.F9.9.1.m1.2.2" xref="S5.F9.9.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F9.9.1.m1.2c"><list id="S5.F9.9.1.m1.2.3.1.cmml" xref="S5.F9.9.1.m1.2.3.2"><cn type="integer" id="S5.F9.9.1.m1.1.1.cmml" xref="S5.F9.9.1.m1.1.1">1</cn><cn type="integer" id="S5.F9.9.1.m1.2.2.cmml" xref="S5.F9.9.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.9.1.m1.2d">1,000</annotation></semantics></math> training images.
For Gaussian attacks, <math id="S5.F9.10.2.m2.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S5.F9.10.2.m2.1b"><mn id="S5.F9.10.2.m2.1.1" xref="S5.F9.10.2.m2.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S5.F9.10.2.m2.1c"><cn type="integer" id="S5.F9.10.2.m2.1.1.cmml" xref="S5.F9.10.2.m2.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.10.2.m2.1d">4</annotation></semantics></math> out of the <math id="S5.F9.11.3.m3.1" class="ltx_Math" alttext="25" display="inline"><semantics id="S5.F9.11.3.m3.1b"><mn id="S5.F9.11.3.m3.1.1" xref="S5.F9.11.3.m3.1.1.cmml">25</mn><annotation-xml encoding="MathML-Content" id="S5.F9.11.3.m3.1c"><cn type="integer" id="S5.F9.11.3.m3.1.1.cmml" xref="S5.F9.11.3.m3.1.1">25</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.11.3.m3.1d">25</annotation></semantics></math> workers are Byzantine and randomly sample gradients from <math id="S5.F9.12.4.m4.2" class="ltx_Math" alttext="N(0,\sigma*I)" display="inline"><semantics id="S5.F9.12.4.m4.2b"><mrow id="S5.F9.12.4.m4.2.2" xref="S5.F9.12.4.m4.2.2.cmml"><mi id="S5.F9.12.4.m4.2.2.3" xref="S5.F9.12.4.m4.2.2.3.cmml">N</mi><mo lspace="0em" rspace="0em" id="S5.F9.12.4.m4.2.2.2" xref="S5.F9.12.4.m4.2.2.2.cmml">​</mo><mrow id="S5.F9.12.4.m4.2.2.1.1" xref="S5.F9.12.4.m4.2.2.1.2.cmml"><mo stretchy="false" id="S5.F9.12.4.m4.2.2.1.1.2" xref="S5.F9.12.4.m4.2.2.1.2.cmml">(</mo><mn id="S5.F9.12.4.m4.1.1" xref="S5.F9.12.4.m4.1.1.cmml">0</mn><mo id="S5.F9.12.4.m4.2.2.1.1.3" xref="S5.F9.12.4.m4.2.2.1.2.cmml">,</mo><mrow id="S5.F9.12.4.m4.2.2.1.1.1" xref="S5.F9.12.4.m4.2.2.1.1.1.cmml"><mi id="S5.F9.12.4.m4.2.2.1.1.1.2" xref="S5.F9.12.4.m4.2.2.1.1.1.2.cmml">σ</mi><mo lspace="0.222em" rspace="0.222em" id="S5.F9.12.4.m4.2.2.1.1.1.1" xref="S5.F9.12.4.m4.2.2.1.1.1.1.cmml">∗</mo><mi id="S5.F9.12.4.m4.2.2.1.1.1.3" xref="S5.F9.12.4.m4.2.2.1.1.1.3.cmml">I</mi></mrow><mo stretchy="false" id="S5.F9.12.4.m4.2.2.1.1.4" xref="S5.F9.12.4.m4.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.F9.12.4.m4.2c"><apply id="S5.F9.12.4.m4.2.2.cmml" xref="S5.F9.12.4.m4.2.2"><times id="S5.F9.12.4.m4.2.2.2.cmml" xref="S5.F9.12.4.m4.2.2.2"></times><ci id="S5.F9.12.4.m4.2.2.3.cmml" xref="S5.F9.12.4.m4.2.2.3">𝑁</ci><interval closure="open" id="S5.F9.12.4.m4.2.2.1.2.cmml" xref="S5.F9.12.4.m4.2.2.1.1"><cn type="integer" id="S5.F9.12.4.m4.1.1.cmml" xref="S5.F9.12.4.m4.1.1">0</cn><apply id="S5.F9.12.4.m4.2.2.1.1.1.cmml" xref="S5.F9.12.4.m4.2.2.1.1.1"><times id="S5.F9.12.4.m4.2.2.1.1.1.1.cmml" xref="S5.F9.12.4.m4.2.2.1.1.1.1"></times><ci id="S5.F9.12.4.m4.2.2.1.1.1.2.cmml" xref="S5.F9.12.4.m4.2.2.1.1.1.2">𝜎</ci><ci id="S5.F9.12.4.m4.2.2.1.1.1.3.cmml" xref="S5.F9.12.4.m4.2.2.1.1.1.3">𝐼</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.12.4.m4.2d">N(0,\sigma*I)</annotation></semantics></math>.
For all cases, the batch size is <math id="S5.F9.13.5.m5.1" class="ltx_Math" alttext="50" display="inline"><semantics id="S5.F9.13.5.m5.1b"><mn id="S5.F9.13.5.m5.1.1" xref="S5.F9.13.5.m5.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S5.F9.13.5.m5.1c"><cn type="integer" id="S5.F9.13.5.m5.1.1.cmml" xref="S5.F9.13.5.m5.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.13.5.m5.1d">50</annotation></semantics></math> and the learning rate is <math id="S5.F9.14.6.m6.1" class="ltx_Math" alttext="0.03" display="inline"><semantics id="S5.F9.14.6.m6.1b"><mn id="S5.F9.14.6.m6.1.1" xref="S5.F9.14.6.m6.1.1.cmml">0.03</mn><annotation-xml encoding="MathML-Content" id="S5.F9.14.6.m6.1c"><cn type="float" id="S5.F9.14.6.m6.1.1.cmml" xref="S5.F9.14.6.m6.1.1">0.03</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.14.6.m6.1d">0.03</annotation></semantics></math>. We vary the log size from <math id="S5.F9.15.7.m7.1" class="ltx_Math" alttext="5" display="inline"><semantics id="S5.F9.15.7.m7.1b"><mn id="S5.F9.15.7.m7.1.1" xref="S5.F9.15.7.m7.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S5.F9.15.7.m7.1c"><cn type="integer" id="S5.F9.15.7.m7.1.1.cmml" xref="S5.F9.15.7.m7.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.15.7.m7.1d">5</annotation></semantics></math> to <math id="S5.F9.16.8.m8.1" class="ltx_Math" alttext="30" display="inline"><semantics id="S5.F9.16.8.m8.1b"><mn id="S5.F9.16.8.m8.1.1" xref="S5.F9.16.8.m8.1.1.cmml">30</mn><annotation-xml encoding="MathML-Content" id="S5.F9.16.8.m8.1c"><cn type="integer" id="S5.F9.16.8.m8.1.1.cmml" xref="S5.F9.16.8.m8.1.1">30</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.F9.16.8.m8.1d">30</annotation></semantics></math>.</span></figcaption>
</figure>
<div id="S5.SS4.p2" class="ltx_para">
<p id="S5.SS4.p2.1" class="ltx_p">Figure <a href="#S5.F8" title="Figure 8 ‣ V-D Analysis of Layer Robustness Factor Results ‣ V Evaluation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> shows that in both settings, weights layers are more robust than their corresponding bias layers.
This pattern is more decisive in the Byzantine setting and the smaller variances associated with the factors from the Byzantine setting than the non-attack setting supports this claim. A second pattern emerges with the Byzantine factors that shows later layers being generally more robust than earlier layers. These two patterns are consistent with the observations from the pilot study. They also align with general knowledge of layer gradient behavior in gradient descent. Namely, that gradients vary more in the bias direction than in the weights direction and back-propagation more aggressively modifies earlier layers than later layers. This again supports the idea introduced in the pilot study that Byzantine workers exploit the inherent vulnerability of each layer.</p>
</div>
<div id="S5.SS4.p3" class="ltx_para">
<p id="S5.SS4.p3.1" class="ltx_p">It is worth noting that, intuitively, layers with more parameters will be less robust due to their greater susceptibility to learning the noisy Byzantine gradients. However, the <math id="S5.SS4.p3.1.m1.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S5.SS4.p3.1.m1.1a"><msub id="S5.SS4.p3.1.m1.1.1" xref="S5.SS4.p3.1.m1.1.1.cmml"><mi mathvariant="normal" id="S5.SS4.p3.1.m1.1.1.2" xref="S5.SS4.p3.1.m1.1.1.2.cmml">ℓ</mi><mn id="S5.SS4.p3.1.m1.1.1.3" xref="S5.SS4.p3.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p3.1.m1.1b"><apply id="S5.SS4.p3.1.m1.1.1.cmml" xref="S5.SS4.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS4.p3.1.m1.1.1.1.cmml" xref="S5.SS4.p3.1.m1.1.1">subscript</csymbol><ci id="S5.SS4.p3.1.m1.1.1.2.cmml" xref="S5.SS4.p3.1.m1.1.1.2">ℓ</ci><cn type="integer" id="S5.SS4.p3.1.m1.1.1.3.cmml" xref="S5.SS4.p3.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p3.1.m1.1c">\ell_{2}</annotation></semantics></math> variance-based quantification of robustness does not result in a ranking of layers that matches the ranking of their trainable parameter counts since conv1 has less trainable parameters than conv2.
This implies that while an overall increase in model parameters increases a model’s overall susceptibility to noise, it is disproportionately concentrated in particular nodes or layers, irrespective of the layer dimensions.</p>
</div>
</section>
<section id="S5.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS5.5.1.1" class="ltx_text">V-E</span> </span><span id="S5.SS5.6.2" class="ltx_text ltx_font_italic">Effectiveness of the log size</span>
</h3>

<div id="S5.SS5.p1" class="ltx_para">
<p id="S5.SS5.p1.1" class="ltx_p">Finally we examine the effect of the log size for the LEGATO algorithm, in particular, how does the log size affect the LEGATO’s ability to defense against Byzatine threats.</p>
</div>
<div id="S5.SS5.p2" class="ltx_para">
<p id="S5.SS5.p2.1" class="ltx_p">From Figure <a href="#S5.F9" title="Figure 9 ‣ V-D Analysis of Layer Robustness Factor Results ‣ V Evaluation ‣ LEGATO: A LayerwisE Gradient AggregaTiOn Algorithm for Mitigating Byzantine Attacks in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>, we can see that the choice of log size does not affect the model’s performance a lot in the non-attack and Gaussian attack with small variance cases, but in the case of Gaussian attack with high variance, the selection of log size is quite crucial.
In fact, it is reasonable that when log size is as small as five, the performance of LEGATO will lean towards gradient averaging, while as the log size increases, the LEGATO algorithm becomes more conservative to make a move towards the new gradient direction. Therefore, when the log size is as large as <math id="S5.SS5.p2.1.m1.1" class="ltx_Math" alttext="30" display="inline"><semantics id="S5.SS5.p2.1.m1.1a"><mn id="S5.SS5.p2.1.m1.1.1" xref="S5.SS5.p2.1.m1.1.1.cmml">30</mn><annotation-xml encoding="MathML-Content" id="S5.SS5.p2.1.m1.1b"><cn type="integer" id="S5.SS5.p2.1.m1.1.1.cmml" xref="S5.SS5.p2.1.m1.1.1">30</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p2.1.m1.1c">30</annotation></semantics></math>, it will converge very slowly and even oscillate around certain point for a long time.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VI </span><span id="S6.1.1" class="ltx_text ltx_font_smallcaps">Discussion</span>
</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this section, we discuss two limitations of LEGATO. First, LEGATO is limited to only neural networks. Second, the variance of the Gaussian attack can affect the effectiveness of LEGATO.</p>
</div>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.1" class="ltx_p">Although LEGATO is a first successful attempt to mitigate Byzantine threats for training neural networks in federated learning, it is not a general algorithm that can be applied to train all types of machine learning models in FL setting. This is because the novelty of LEGATO is exploiting the characteristic of neural networks, i.e., utilizing the reaction of neural network layer architecture to identify robust layers and hence relying more heavily on those robust layers.
However, other models like linear models, Support Vector Machines (SVMs) and XGBoost among others, do not possess such architecture.
Investigating if there exists any general robust aggregation algorithm that can be applied to mitigating Byzantine threats even under the non-IID local data distribution setting is an open research problem.</p>
</div>
<div id="S6.p3" class="ltx_para">
<p id="S6.p3.1" class="ltx_p">Moreover, as we can see in the case when the variance of the Gaussian attack is very high, the effectiveness of LEGATO is affected, since it does not reject any gradient information and hence is vulnerable to extreme outliers. However, currently there is no good way to define and identify “extreme outliers” according to the problem context. In particular, there is no procedure to define and identify those “extreme outliers” in a data-aware fasion, i.e., based on local data distributions from all the workers.</p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VII </span><span id="S7.1.1" class="ltx_text ltx_font_smallcaps">Related Work</span>
</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">Many existing methods for Byzantine attack mitigation can be classified as either robust statistics or anomaly detection.
Some Byzantine robust algorithms employ inherently robust statistics such as coordinate median, trimmed mean <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>, and their variants <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>
. Anomaly detection approaches include <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib29" title="" class="ltx_ref">29</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>.
They filter out gradients assumed Byzantine by some form of outlier detection under the assumption that a local gradient vector is dishonest if it is comparatively more distant than other local vectors are to each other. Krum <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> is a state-of-the-art robust aggregation algorithm that evades Byzantine attacks by having the server only use a single worker’s gradients to update the global model. This worker is chosen at every round as the most trustworthy by having local gradients that are most similar to all other local gradients in terms of <math id="S7.p1.1.m1.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S7.p1.1.m1.1a"><msub id="S7.p1.1.m1.1.1" xref="S7.p1.1.m1.1.1.cmml"><mi mathvariant="normal" id="S7.p1.1.m1.1.1.2" xref="S7.p1.1.m1.1.1.2.cmml">ℓ</mi><mn id="S7.p1.1.m1.1.1.3" xref="S7.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S7.p1.1.m1.1b"><apply id="S7.p1.1.m1.1.1.cmml" xref="S7.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S7.p1.1.m1.1.1.1.cmml" xref="S7.p1.1.m1.1.1">subscript</csymbol><ci id="S7.p1.1.m1.1.1.2.cmml" xref="S7.p1.1.m1.1.1.2">ℓ</ci><cn type="integer" id="S7.p1.1.m1.1.1.3.cmml" xref="S7.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.p1.1.m1.1c">\ell_{2}</annotation></semantics></math> norms. MultiKrum <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> and Bulyan <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> use Krum to choose a small set of worker gradients to aggregate. Since these filtering methods reject many potentially honest gradients, they often sacrifice performance in non-attack settings.
Additionally, Krum and its variants have quadratic computational complexity. One weakness of all aforementioned solutions is their required bounds on the variance of honest gradients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>, which has been shown unknown in practice and can be exploited through attack strategies such as the Fall of Empires attack <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. These variance bounds are especially uncharacteristic of settings where local data is non-IID, which is often the case in FL because workers will collect their training data samples from different data sources. In general, the use of non-IID local data hinders the global model’s performance and has motivated a new line of research for this problem, e.g., <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> and the references therein. Other robust aggregation algorithms include methods that use algorithmic redundancy<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib31" title="" class="ltx_ref">31</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>, <a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>and robust clustering methods<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>, <a href="#bib.bib34" title="" class="ltx_ref">34</a>, <a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>.</p>
</div>
<div id="S7.p2" class="ltx_para">
<p id="S7.p2.1" class="ltx_p">Some algorithms have a similar variance-reduction goal as LEGATO, but LEGATO is novel in its layer-specific gradient consideration.
<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite> proposes a robust aggregation algorithm that ultimately dampens gradients through a worker-level reweighing scheme. Distributed Momentum<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> uses an exponential moving average to reduce the variance-norm ratio of gradients before feeding them to an expensive robust gradient aggregation algorithm (ie. Krum or coordinate median).
<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> exploit variance reduction to improve FL models’ performance in non-IID settings, though not considering Byzantine threats. Kardam <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> employs a gradient reweighing scheme that specifically intends to improve convergence, while a filtering step tackles robustness. FedMA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> works at a layer level, but it optimizes for permutation invariance of parameters in CNNs and LSTMs rather than for robustness. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> demonstrates the layer-dependency of robustness, but solely in a centralized settings.</p>
</div>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VIII </span><span id="S8.1.1" class="ltx_text ltx_font_smallcaps">Concluding Remarks</span>
</h2>

<div id="S8.p1" class="ltx_para">
<p id="S8.p1.1" class="ltx_p">LEGATO’s novelty comes from its dynamic computation of layer-wise robustness factors for reweighing gradients when training neural networks in a FL setting. Our empirical results show that LEGATO is robust across a wide range of Byzantine attack settings and does not reduce the performance of the model in absence of failures or attack.
In this paper, LEGATO specifically exploits the reaction of convolutional neural network layer architecture to identify robust layers and relies more heavily on them. Other neural network structures can plausibly benefit from an adapted versions of LEGATO where the grouping of gradients is adjusted. For instance, instead of grouping and reweighing gradients by layer, recurrent and residual neural networks could group by recurrent or residual blocks.
However, LEGATO is not applicable for use outside of neural networks.
Additionally, LEGATO is vulnerable to extreme outliers that come from high standard deviation in Gaussian attacks because it does not reject any gradient information. However, we believe that such extremity is of lesser concern due to its blatancy.
In conclusion, LEGATO’s is a general, scalable, efficient solution for Byzantine tolerance in FL that outperforms several state-of-the-art solutions in practical settings.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
H. B. McMahan, E. Moore, D. Ramage, S. Hampson, and B. A. y Arcas,
“Communication-efficient learning of deep networks from decentralized
data,” 2016.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
J. Konečný, B. McMahan, and D. Ramage, “Federated optimization:distributed
optimization beyond the datacenter,” 2015.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
H. Ludwig, N. Baracaldo, G. Thomas, Y. Zhou, A. Anwar, S. Rajamoni, Y. Ong,
J. Radhakrishnan, A. Verma, M. Sinn <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Ibm federated learning:
an enterprise framework white paper v0. 1,” <em id="bib.bib3.2.2" class="ltx_emph ltx_font_italic">arXiv preprint
arXiv:2007.10987</em>, 2020.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
“Google’s New A.I. Tool is a Lot Like Apple’s Old One.” [Online].
Available:
<a target="_blank" href="https://insights.dice.com/2017/04/11/google-federated-learning-apple/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://insights.dice.com/2017/04/11/google-federated-learning-apple/</a>

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
M. Abadi, P. Barham, J. Chen, Z. Chen, A. Davis, J. Dean, M. Devin,
S. Ghemawat, G. Irving, M. Isard, M. Kudlur, J. Levenberg, R. Monga,
S. Moore, D. G. Murray, B. Steiner, P. Tucker, V. Vasudevan, P. Warden,
M. Wicke, Y. Yu, and X. Zheng, “Tensorflow: A system for large-scale machine
learning,” 2016.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
G. J. Annas <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Hipaa regulations-a new era of medical-record
privacy?” <em id="bib.bib6.2.2" class="ltx_emph ltx_font_italic">New England Journal of Medicine</em>, vol. 348, no. 15, pp.
1486–1490, 2003.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
M. Goddard, “The eu general data protection regulation (gdpr): European
regulation that has a global impact,” <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">International Journal of Market
Research</em>, vol. 59, no. 6, pp. 703–705, 2017.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
L. Lamport, R. Shostak, and M. Pease, “The byzantine generals problem,”
<em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">ACM Trans. Program. Lang. Syst.</em>, vol. 4, no. 3, p. 382–401, Jul.
1982. [Online]. Available: <a target="_blank" href="https://doi.org/10.1145/357172.357176" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1145/357172.357176</a>

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
C. Xie, O. Koyejo, and I. Gupta, “Generalized byzantine-tolerant sgd,” 2018.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
P. Blanchard, E. M. E. Mhamdi, R. Guerraoui, and J. Stainer,
“Byzantine-tolerant machine learning,” 2017.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
T. Li, A. K. Sahu, M. Zaheer, M. Sanjabi, A. Talwalkar, and V. Smith,
“Federated optimization in heterogeneous networks,” <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint
arXiv:1812.06127</em>, 2018.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
D. Gao, Y. Liu, A. Huang, C. Ju, H. Yu, and Q. Yang, “Privacy-preserving
heterogeneous federated transfer learning,” in <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">2019 IEEE International
Conference on Big Data (Big Data)</em>.   IEEE, 2019, pp. 2552–2559.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
H. Wang, M. Yurochkin, Y. Sun, D. Papailiopoulos, and Y. Khazaeni, “Federated
learning with matched averaging,” 2020.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
C. Xie, S. Koyejo, and I. Gupta, “Fall of empires: Breaking byzantine-tolerant
sgd by inner product manipulation,” 2019.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
D. Yin, Y. Chen, K. Ramchandran, and P. Bartlett, “Byzantine-robust
distributed learning: Towards optimal statistical rates,” 2018.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Y. Lecun, L. Bottou, Y. Bengio, and P. Haffner, “Gradient-based learning
applied to document recognition,” in <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE</em>, 1998,
pp. 2278–2324.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
C. Zhang, S. Bengio, and Y. Singer, “Are all layers created equal?” 2019.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
E. M. E. Mhamdi, R. Guerraoui, and S. Rouault, “The hidden vulnerability of
distributed learning in byzantium,” 2018.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Y. Zhao, M. Li, L. Lai, N. Suda, D. Civin, and V. Chandra, “Federated learning
with non-iid data,” 2018.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
E.-M. El-Mhamdi, R. Guerraoui, and S. Rouault, “Distributed momentum for
byzantine-resilient learning,” 2020.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
R. Krishnaswamy, S. Li, and S. Sandeep, “Constant approximation for <math id="bib.bib21.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="bib.bib21.1.m1.1a"><mi id="bib.bib21.1.m1.1.1" xref="bib.bib21.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="bib.bib21.1.m1.1b"><ci id="bib.bib21.1.m1.1.1.cmml" xref="bib.bib21.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib21.1.m1.1c">k</annotation></semantics></math>-median
and <math id="bib.bib21.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="bib.bib21.2.m2.1a"><mi id="bib.bib21.2.m2.1.1" xref="bib.bib21.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="bib.bib21.2.m2.1b"><ci id="bib.bib21.2.m2.1.1.cmml" xref="bib.bib21.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib21.2.m2.1c">k</annotation></semantics></math>-means with outliers via iterative rounding,” 2017.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Y. Chen, L. Su, and J. Xu, “Distributed statistical machine learning in
adversarial settings: Byzantine gradient descent,” 2017.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
M. Charikar, J. Steinhardt, and G. Valiant, “Learning from untrusted data,”
2016.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
K. Pillutla, S. M. Kakade, and Z. Harchaoui, “Robust aggregation for federated
learning,” 2019.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
L. Muñoz-González, K. T. Co, and E. C. Lupu, “Byzantine-robust federated
machine learning through adaptive model averaging,” 2019.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Q. Xia, Z. Tao, Z. Hao, and Q. Li, “Faba: An algorithm for fast aggregation
against byzantine attacks in distributed neural networks,” in
<em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Twenty-Eighth International Joint Conference on
Artificial Intelligence, IJCAI-19</em>.   International Joint Conferences on Artificial Intelligence Organization, 7
2019, pp. 4824–4830. [Online]. Available:
<a target="_blank" href="https://doi.org/10.24963/ijcai.2019/670" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.24963/ijcai.2019/670</a>

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
C. Xie, O. Koyejo, and I. Gupta, “Zeno: Distributed stochastic gradient
descent with suspicion-based fault-tolerance,” 2018.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
C. Fung, C. J. M. Yoon, and I. Beschastnikh, “Mitigating sybils in federated
learning poisoning,” 2018.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
S. Rajput, H. Wang, Z. B. Charles, and D. S. Papailiopoulos, “DETOX: A
redundancy-based framework for faster and more robust gradient aggregation,”
<em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, vol. abs/1907.12205, 2019. [Online]. Available:
<a target="_blank" href="http://arxiv.org/abs/1907.12205" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/1907.12205</a>

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
L. Chen, H. Wang, Z. Charles, and D. Papailiopoulos, “Draco:
Byzantine-resilient distributed training via redundant gradients,” 2018.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
D. Data, L. Song, and S. Diggavi, “Data encoding for byzantine-resilient
distributed optimization,” 2019.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
Q. Yu, S. Li, N. Raviv, S. M. M. Kalan, M. Soltanolkotabi, and S. Avestimehr,
“Lagrange coded computing: Optimal design for resiliency, security and
privacy,” 2018.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
A. Ghosh, J. Hong, D. Yin, and K. Ramchandran, “Robust federated learning in a
heterogeneous environment,” 2019.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
S. Gupta, R. Kumar, K. Lu, B. Moseley, and S. Vassilvitskii, “Local search
methods for k-means with outliers,” <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">Proceedings of the VLDB
Endowment</em>, vol. 10, pp. 757–768, 03 2017.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
K. Chen, “A constant factor approximation algorithm for k-median clustering
with outliers,” in <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Nineteenth Annual ACM-SIAM
Symposium on Discrete Algorithms</em>, ser. SODA ’08.   USA: Society for Industrial and Applied Mathematics, 2008,
p. 826–835.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
S. Fu, C. Xie, B. Li, and Q. Chen, “Attack-resistant federated learning with
residual-based reweighting,” 2019.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
L. Rieger, R. M. T. Høegh, and L. K. Hansen, “Client adaptation improves
federated learning with simulated non-iid clients,” 2020.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
G. Damaskinos, E. M. E. Mhamdi, R. Guerraoui, R. Patra, and M. Taziki,
“Asynchronous byzantine machine learning (the case of sgd),” 2018.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2107.12489" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2107.12490" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2107.12490">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2107.12490" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2107.12491" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sat Mar  2 04:26:44 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
