<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2209.06359] Federated Pruning: Improving Neural Network Efficiency with Federated Learning</title><meta property="og:description" content="Automatic Speech Recognition models require large amount of speech data for training, and the collection of such data often leads to privacy concerns. Federated learning has been widely used and is considered to be an …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Pruning: Improving Neural Network Efficiency with Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Pruning: Improving Neural Network Efficiency with Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2209.06359">

<!--Generated on Wed Mar 13 21:47:32 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document" style="font-size:90%;">Federated Pruning: Improving Neural Network Efficiency 
<br class="ltx_break">with Federated Learning</h1>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p"><span id="id1.id1.1" class="ltx_text" style="font-size:90%;">Automatic Speech Recognition models require large amount of speech data for training, and the collection of such data often leads to privacy concerns. Federated learning has been widely used and is considered to be an effective decentralized technique by collaboratively learning a shared prediction model while keeping the data local on different clients devices. However, the limited computation and communication resources on clients devices present practical difficulties for large models. To overcome such challenges, we propose Federated Pruning to train a reduced model under the federated setting, while maintaining similar performance compared to the full model. Moreover, the vast amount of clients data can also be leveraged to improve the pruning results compared to centralized training. We explore different pruning schemes and provide empirical evidence of the effectiveness of our methods.</span></p>
</div>
<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup>This work was done while Rongmei Lin was an intern at Google.</span></span></span>
<div id="p1" class="ltx_para ltx_noindent">
<p id="p1.1" class="ltx_p"><span id="p1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Index Terms</span><span id="p1.1.2" class="ltx_text" style="font-size:90%;">: federated learning, federated pruning, speech recognition, neural network, deep learning</span></p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section" style="font-size:90%;">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p"><span id="S1.p1.1.1" class="ltx_text" style="font-size:90%;">Neural network models have wide application in a variety of tasks, such as speech recognition, machine translation, and image recognition </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S1.p1.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a><span id="S1.p1.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S1.p1.1.4" class="ltx_text" style="font-size:90%;">. The performance of trained models largely depends on the quality and the amount of training data. Federated learning (FL) </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S1.p1.1.5.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib4" title="" class="ltx_ref">4</a><span id="S1.p1.1.6.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S1.p1.1.7" class="ltx_text" style="font-size:90%;"> provides a framework for leveraging the abundant data on edge devices with privacy preserved. However, FL faces several limitations in practice. One limitation is that the available memory on edge devices is highly limited. However, recent models are typically large, which makes on-device training challenging. For example, the successful model architecture for Automatic Speech Recognition (ASR), Conformer </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S1.p1.1.8.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib5" title="" class="ltx_ref">5</a><span id="S1.p1.1.9.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S1.p1.1.10" class="ltx_text" style="font-size:90%;">, has 130M parameters and requires 520MB memory solely for storing the parameters during training. Another limitation is that FL typically only updates the model parameters and leaves the model architecture unchanged. As a result, only model accuracy is improved but not model efficiency.</span></p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p"><span id="S1.p2.1.1" class="ltx_text" style="font-size:90%;">In this paper, we propose </span><em id="S1.p2.1.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Federated Pruning (FP)</em><span id="S1.p2.1.3" class="ltx_text" style="font-size:90%;"> to address the limitations mentioned above. Because models are usually over-parameterized to facilitate training, there are many redundancies. Several methods have been explored to exploit such redundancies to improve model efficiency. Among them, pruning is one of the most successful methods and has been widely studied under centralized training settings. At a high level, it identifies and removes redundant parameters from an over-parameterized model. The proposed FP applies the same idea to improve efficiency of federated learning and also allows leveraging on-device data to potentially achieve better efficiency than centralized pruning.</span></p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p"><span id="S1.p3.1.1" class="ltx_text" style="font-size:90%;">The pruning method has been extensively studied in centralized fashion </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S1.p3.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a><span id="S1.p3.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S1.p3.1.4" class="ltx_text" style="font-size:90%;">. </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S1.p3.1.5.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib8" title="" class="ltx_ref">8</a><span id="S1.p3.1.6.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S1.p3.1.7" class="ltx_text" style="font-size:90%;"> shows that a well-initialized sub-network can match the accuracy of the full network and such sub-network was studed in centralized training </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S1.p3.1.8.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a><span id="S1.p3.1.9.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S1.p3.1.10" class="ltx_text" style="font-size:90%;">. The main issue of this approach is that the parameters deemed unimportant and pruned at an early iteration may turn out to be important at a later iteration. To address this problem, </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S1.p3.1.11.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a><span id="S1.p3.1.12.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S1.p3.1.13" class="ltx_text" style="font-size:90%;"> use different pruning method time-wise and model-wise.
Unlike these works focusing on centralized training, our work targets at federated learning and analyzes the impact of different pruning design decisions under this setting. A related work of model compression under the FL setting is Federated dropout </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S1.p3.1.14.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib11" title="" class="ltx_ref">11</a><span id="S1.p3.1.15.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S1.p3.1.16" class="ltx_text" style="font-size:90%;">. Unlike our proposed method, federated dropout randomly generates reduced model and performs training on full model. Another preliminary work, PruneFL </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S1.p3.1.17.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib12" title="" class="ltx_ref">12</a><span id="S1.p3.1.18.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S1.p3.1.19" class="ltx_text" style="font-size:90%;">, also applies pruning to federated learning. It adopts sparse pruning instead of structural pruning as used in this work, so the resultant model will be less efficient when running on devices in practice. Moreover, we evaluate the proposed FP with production-grade models and datasets, which better reflects the real condition of deployment.</span></p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2209.06359/assets/images/pipeline_new.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="538" height="326" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>A federated round of the proposed Federated Pruning. The white circles denote removed parameters.</figcaption>
</figure>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p"><span id="S1.p4.1.1" class="ltx_text" style="font-size:90%;">In summary, this work has the following contributions:</span></p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p"><span id="S1.I1.i1.p1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Improving the efficiency of federated learning:</span><span id="S1.I1.i1.p1.1.2" class="ltx_text" style="font-size:90%;"> We propose Federated Pruning (FP) to leverage on-device data to effectively prune redundant parameters from models. The resultant smaller models require less on-device memory to train and lower bandwidth for transporting models.</span></p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p"><span id="S1.I1.i2.p1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Exploring different pruning design decisions:</span><span id="S1.I1.i2.p1.1.2" class="ltx_text" style="font-size:90%;"> We explore and perform extensive ablation studies on two design decisions of pruning under federated learning: pruning patterns and pruning methods.</span></p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p"><span id="S1.I1.i3.p1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Proposing a novel approach for adaptive sparsity:</span><span id="S1.I1.i3.p1.1.2" class="ltx_text" style="font-size:90%;"> We propose a novel adaptive per-layer sparsity approach that dynamically allocates the target global sparsity level to each layer. Therefore, there is no need to manually select the per-layer sparsity levels.</span></p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p id="S1.I1.i4.p1.1" class="ltx_p"><span id="S1.I1.i4.p1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Experimenting with production-grade environments: </span><span id="S1.I1.i4.p1.1.2" class="ltx_text" style="font-size:90%;"> We evaluate the proposed Federated Pruning with production-grade models and datasets, which better reflects the real condition of deployment.</span></p>
</div>
</li>
</ul>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_float"><span id="alg1.46.3.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Federated pruning. Initialize the server model with <math id="alg1.13.m1.1" class="ltx_Math" alttext="w^{0}" display="inline"><semantics id="alg1.13.m1.1b"><msup id="alg1.13.m1.1.1" xref="alg1.13.m1.1.1.cmml"><mi id="alg1.13.m1.1.1.2" xref="alg1.13.m1.1.1.2.cmml">w</mi><mn id="alg1.13.m1.1.1.3" xref="alg1.13.m1.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="alg1.13.m1.1c"><apply id="alg1.13.m1.1.1.cmml" xref="alg1.13.m1.1.1"><csymbol cd="ambiguous" id="alg1.13.m1.1.1.1.cmml" xref="alg1.13.m1.1.1">superscript</csymbol><ci id="alg1.13.m1.1.1.2.cmml" xref="alg1.13.m1.1.1.2">𝑤</ci><cn type="integer" id="alg1.13.m1.1.1.3.cmml" xref="alg1.13.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.13.m1.1d">w^{0}</annotation></semantics></math> and the binary pruning mask <math id="alg1.14.m2.1" class="ltx_Math" alttext="M" display="inline"><semantics id="alg1.14.m2.1b"><mi id="alg1.14.m2.1.1" xref="alg1.14.m2.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="alg1.14.m2.1c"><ci id="alg1.14.m2.1.1.cmml" xref="alg1.14.m2.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.14.m2.1d">M</annotation></semantics></math> with <span id="alg1.47.4" class="ltx_text ltx_font_italic">ones</span> like (<math id="alg1.15.m3.1" class="ltx_Math" alttext="w^{0}" display="inline"><semantics id="alg1.15.m3.1b"><msup id="alg1.15.m3.1.1" xref="alg1.15.m3.1.1.cmml"><mi id="alg1.15.m3.1.1.2" xref="alg1.15.m3.1.1.2.cmml">w</mi><mn id="alg1.15.m3.1.1.3" xref="alg1.15.m3.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="alg1.15.m3.1c"><apply id="alg1.15.m3.1.1.cmml" xref="alg1.15.m3.1.1"><csymbol cd="ambiguous" id="alg1.15.m3.1.1.1.cmml" xref="alg1.15.m3.1.1">superscript</csymbol><ci id="alg1.15.m3.1.1.2.cmml" xref="alg1.15.m3.1.1.2">𝑤</ci><cn type="integer" id="alg1.15.m3.1.1.3.cmml" xref="alg1.15.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.15.m3.1d">w^{0}</annotation></semantics></math>). The <math id="alg1.16.m4.1" class="ltx_Math" alttext="K" display="inline"><semantics id="alg1.16.m4.1b"><mi id="alg1.16.m4.1.1" xref="alg1.16.m4.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="alg1.16.m4.1c"><ci id="alg1.16.m4.1.1.cmml" xref="alg1.16.m4.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.16.m4.1d">K</annotation></semantics></math> clients are selected and indexed by <math id="alg1.17.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.17.m5.1b"><mi id="alg1.17.m5.1.1" xref="alg1.17.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.17.m5.1c"><ci id="alg1.17.m5.1.1.cmml" xref="alg1.17.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.17.m5.1d">k</annotation></semantics></math>, federated pruning rounds are indexed by <math id="alg1.18.m6.1" class="ltx_Math" alttext="r" display="inline"><semantics id="alg1.18.m6.1b"><mi id="alg1.18.m6.1.1" xref="alg1.18.m6.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="alg1.18.m6.1c"><ci id="alg1.18.m6.1.1.cmml" xref="alg1.18.m6.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.18.m6.1d">r</annotation></semantics></math>, and <math id="alg1.19.m7.1" class="ltx_Math" alttext="n" display="inline"><semantics id="alg1.19.m7.1b"><mi id="alg1.19.m7.1.1" xref="alg1.19.m7.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="alg1.19.m7.1c"><ci id="alg1.19.m7.1.1.cmml" xref="alg1.19.m7.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.19.m7.1d">n</annotation></semantics></math> is the number of examples. <span id="alg1.20.1" class="ltx_text ltx_font_italic">Shrink<math id="alg1.20.1.m1.2" class="ltx_Math" alttext="(w,M)" display="inline"><semantics id="alg1.20.1.m1.2b"><mrow id="alg1.20.1.m1.2.3.2" xref="alg1.20.1.m1.2.3.1.cmml"><mo stretchy="false" id="alg1.20.1.m1.2.3.2.1" xref="alg1.20.1.m1.2.3.1.cmml">(</mo><mi id="alg1.20.1.m1.1.1" xref="alg1.20.1.m1.1.1.cmml">w</mi><mo id="alg1.20.1.m1.2.3.2.2" xref="alg1.20.1.m1.2.3.1.cmml">,</mo><mi id="alg1.20.1.m1.2.2" xref="alg1.20.1.m1.2.2.cmml">M</mi><mo stretchy="false" id="alg1.20.1.m1.2.3.2.3" xref="alg1.20.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.20.1.m1.2c"><interval closure="open" id="alg1.20.1.m1.2.3.1.cmml" xref="alg1.20.1.m1.2.3.2"><ci id="alg1.20.1.m1.1.1.cmml" xref="alg1.20.1.m1.1.1">𝑤</ci><ci id="alg1.20.1.m1.2.2.cmml" xref="alg1.20.1.m1.2.2">𝑀</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.20.1.m1.2d">(w,M)</annotation></semantics></math></span> reduces the model size according to pruning mask <math id="alg1.21.m8.1" class="ltx_Math" alttext="M" display="inline"><semantics id="alg1.21.m8.1b"><mi id="alg1.21.m8.1.1" xref="alg1.21.m8.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="alg1.21.m8.1c"><ci id="alg1.21.m8.1.1.cmml" xref="alg1.21.m8.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.21.m8.1d">M</annotation></semantics></math>. <span id="alg1.22.2" class="ltx_text ltx_font_italic">Expand<math id="alg1.22.2.m1.2" class="ltx_Math" alttext="(w,M)" display="inline"><semantics id="alg1.22.2.m1.2b"><mrow id="alg1.22.2.m1.2.3.2" xref="alg1.22.2.m1.2.3.1.cmml"><mo stretchy="false" id="alg1.22.2.m1.2.3.2.1" xref="alg1.22.2.m1.2.3.1.cmml">(</mo><mi id="alg1.22.2.m1.1.1" xref="alg1.22.2.m1.1.1.cmml">w</mi><mo id="alg1.22.2.m1.2.3.2.2" xref="alg1.22.2.m1.2.3.1.cmml">,</mo><mi id="alg1.22.2.m1.2.2" xref="alg1.22.2.m1.2.2.cmml">M</mi><mo stretchy="false" id="alg1.22.2.m1.2.3.2.3" xref="alg1.22.2.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.22.2.m1.2c"><interval closure="open" id="alg1.22.2.m1.2.3.1.cmml" xref="alg1.22.2.m1.2.3.2"><ci id="alg1.22.2.m1.1.1.cmml" xref="alg1.22.2.m1.1.1">𝑤</ci><ci id="alg1.22.2.m1.2.2.cmml" xref="alg1.22.2.m1.2.2">𝑀</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.22.2.m1.2d">(w,M)</annotation></semantics></math></span> maps the reduced model to original size. Related pruning methods include following functions: <span id="alg1.48.5" class="ltx_text ltx_font_italic">GetImportanceScore</span> (<math id="alg1.23.m9.1" class="ltx_Math" alttext="w^{r}" display="inline"><semantics id="alg1.23.m9.1b"><msup id="alg1.23.m9.1.1" xref="alg1.23.m9.1.1.cmml"><mi id="alg1.23.m9.1.1.2" xref="alg1.23.m9.1.1.2.cmml">w</mi><mi id="alg1.23.m9.1.1.3" xref="alg1.23.m9.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.23.m9.1c"><apply id="alg1.23.m9.1.1.cmml" xref="alg1.23.m9.1.1"><csymbol cd="ambiguous" id="alg1.23.m9.1.1.1.cmml" xref="alg1.23.m9.1.1">superscript</csymbol><ci id="alg1.23.m9.1.1.2.cmml" xref="alg1.23.m9.1.1.2">𝑤</ci><ci id="alg1.23.m9.1.1.3.cmml" xref="alg1.23.m9.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.23.m9.1d">w^{r}</annotation></semantics></math>), <span id="alg1.49.6" class="ltx_text ltx_font_italic">GenerateMask</span> (<math id="alg1.24.m10.3" class="ltx_Math" alttext="w^{r},r,S" display="inline"><semantics id="alg1.24.m10.3b"><mrow id="alg1.24.m10.3.3.1" xref="alg1.24.m10.3.3.2.cmml"><msup id="alg1.24.m10.3.3.1.1" xref="alg1.24.m10.3.3.1.1.cmml"><mi id="alg1.24.m10.3.3.1.1.2" xref="alg1.24.m10.3.3.1.1.2.cmml">w</mi><mi id="alg1.24.m10.3.3.1.1.3" xref="alg1.24.m10.3.3.1.1.3.cmml">r</mi></msup><mo id="alg1.24.m10.3.3.1.2" xref="alg1.24.m10.3.3.2.cmml">,</mo><mi id="alg1.24.m10.1.1" xref="alg1.24.m10.1.1.cmml">r</mi><mo id="alg1.24.m10.3.3.1.3" xref="alg1.24.m10.3.3.2.cmml">,</mo><mi id="alg1.24.m10.2.2" xref="alg1.24.m10.2.2.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.24.m10.3c"><list id="alg1.24.m10.3.3.2.cmml" xref="alg1.24.m10.3.3.1"><apply id="alg1.24.m10.3.3.1.1.cmml" xref="alg1.24.m10.3.3.1.1"><csymbol cd="ambiguous" id="alg1.24.m10.3.3.1.1.1.cmml" xref="alg1.24.m10.3.3.1.1">superscript</csymbol><ci id="alg1.24.m10.3.3.1.1.2.cmml" xref="alg1.24.m10.3.3.1.1.2">𝑤</ci><ci id="alg1.24.m10.3.3.1.1.3.cmml" xref="alg1.24.m10.3.3.1.1.3">𝑟</ci></apply><ci id="alg1.24.m10.1.1.cmml" xref="alg1.24.m10.1.1">𝑟</ci><ci id="alg1.24.m10.2.2.cmml" xref="alg1.24.m10.2.2">𝑆</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.24.m10.3d">w^{r},r,S</annotation></semantics></math>). </figcaption>
<div id="alg1.50" class="ltx_listing ltx_align_center ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span><span id="alg1.l1.2" class="ltx_text ltx_font_bold" style="font-size:80%;">Input:</span><span id="alg1.l1.3" class="ltx_text" style="font-size:80%;"> Pre-trained dense ASR model: </span><math id="alg1.l1.m1.1" class="ltx_Math" alttext="w^{0}" display="inline"><semantics id="alg1.l1.m1.1a"><msup id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml">w</mi><mn mathsize="80%" id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1">superscript</csymbol><ci id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2">𝑤</ci><cn type="integer" id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">w^{0}</annotation></semantics></math><span id="alg1.l1.4" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span><span id="alg1.l2.2" class="ltx_text" style="font-size:80%;">         Binary pruning mask: </span><math id="alg1.l2.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="alg1.l2.m1.1a"><mi mathsize="80%" id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><ci id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">M</annotation></semantics></math><span id="alg1.l2.3" class="ltx_text" style="font-size:80%;"> of </span><span id="alg1.l2.4" class="ltx_text ltx_font_italic" style="font-size:80%;">ones</span><span id="alg1.l2.5" class="ltx_text" style="font-size:80%;"> like (</span><math id="alg1.l2.m2.1" class="ltx_Math" alttext="w^{0}" display="inline"><semantics id="alg1.l2.m2.1a"><msup id="alg1.l2.m2.1.1" xref="alg1.l2.m2.1.1.cmml"><mi mathsize="80%" id="alg1.l2.m2.1.1.2" xref="alg1.l2.m2.1.1.2.cmml">w</mi><mn mathsize="80%" id="alg1.l2.m2.1.1.3" xref="alg1.l2.m2.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="alg1.l2.m2.1b"><apply id="alg1.l2.m2.1.1.cmml" xref="alg1.l2.m2.1.1"><csymbol cd="ambiguous" id="alg1.l2.m2.1.1.1.cmml" xref="alg1.l2.m2.1.1">superscript</csymbol><ci id="alg1.l2.m2.1.1.2.cmml" xref="alg1.l2.m2.1.1.2">𝑤</ci><cn type="integer" id="alg1.l2.m2.1.1.3.cmml" xref="alg1.l2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m2.1c">w^{0}</annotation></semantics></math><span id="alg1.l2.6" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span><span id="alg1.l3.2" class="ltx_text" style="font-size:80%;">         Target sparsity level: </span><math id="alg1.l3.m1.1" class="ltx_Math" alttext="S" display="inline"><semantics id="alg1.l3.m1.1a"><mi mathsize="80%" id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><ci id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">S</annotation></semantics></math><span id="alg1.l3.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span><span id="alg1.l4.2" class="ltx_text" style="font-size:80%;">         FL rounds: </span><math id="alg1.l4.m1.3" class="ltx_Math" alttext="\Delta R,R^{fine-tune},R^{end}" display="inline"><semantics id="alg1.l4.m1.3a"><mrow id="alg1.l4.m1.3.3.3" xref="alg1.l4.m1.3.3.4.cmml"><mrow id="alg1.l4.m1.1.1.1.1" xref="alg1.l4.m1.1.1.1.1.cmml"><mi mathsize="80%" mathvariant="normal" id="alg1.l4.m1.1.1.1.1.2" xref="alg1.l4.m1.1.1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1.1.1" xref="alg1.l4.m1.1.1.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg1.l4.m1.1.1.1.1.3" xref="alg1.l4.m1.1.1.1.1.3.cmml">R</mi></mrow><mo mathsize="80%" id="alg1.l4.m1.3.3.3.4" xref="alg1.l4.m1.3.3.4.cmml">,</mo><msup id="alg1.l4.m1.2.2.2.2" xref="alg1.l4.m1.2.2.2.2.cmml"><mi mathsize="80%" id="alg1.l4.m1.2.2.2.2.2" xref="alg1.l4.m1.2.2.2.2.2.cmml">R</mi><mrow id="alg1.l4.m1.2.2.2.2.3" xref="alg1.l4.m1.2.2.2.2.3.cmml"><mrow id="alg1.l4.m1.2.2.2.2.3.2" xref="alg1.l4.m1.2.2.2.2.3.2.cmml"><mi mathsize="80%" id="alg1.l4.m1.2.2.2.2.3.2.2" xref="alg1.l4.m1.2.2.2.2.3.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.2.2.2.2.3.2.1" xref="alg1.l4.m1.2.2.2.2.3.2.1.cmml">​</mo><mi mathsize="80%" id="alg1.l4.m1.2.2.2.2.3.2.3" xref="alg1.l4.m1.2.2.2.2.3.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.2.2.2.2.3.2.1a" xref="alg1.l4.m1.2.2.2.2.3.2.1.cmml">​</mo><mi mathsize="80%" id="alg1.l4.m1.2.2.2.2.3.2.4" xref="alg1.l4.m1.2.2.2.2.3.2.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.2.2.2.2.3.2.1b" xref="alg1.l4.m1.2.2.2.2.3.2.1.cmml">​</mo><mi mathsize="80%" id="alg1.l4.m1.2.2.2.2.3.2.5" xref="alg1.l4.m1.2.2.2.2.3.2.5.cmml">e</mi></mrow><mo mathsize="80%" id="alg1.l4.m1.2.2.2.2.3.1" xref="alg1.l4.m1.2.2.2.2.3.1.cmml">−</mo><mrow id="alg1.l4.m1.2.2.2.2.3.3" xref="alg1.l4.m1.2.2.2.2.3.3.cmml"><mi mathsize="80%" id="alg1.l4.m1.2.2.2.2.3.3.2" xref="alg1.l4.m1.2.2.2.2.3.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.2.2.2.2.3.3.1" xref="alg1.l4.m1.2.2.2.2.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l4.m1.2.2.2.2.3.3.3" xref="alg1.l4.m1.2.2.2.2.3.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.2.2.2.2.3.3.1a" xref="alg1.l4.m1.2.2.2.2.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l4.m1.2.2.2.2.3.3.4" xref="alg1.l4.m1.2.2.2.2.3.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.2.2.2.2.3.3.1b" xref="alg1.l4.m1.2.2.2.2.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l4.m1.2.2.2.2.3.3.5" xref="alg1.l4.m1.2.2.2.2.3.3.5.cmml">e</mi></mrow></mrow></msup><mo mathsize="80%" id="alg1.l4.m1.3.3.3.5" xref="alg1.l4.m1.3.3.4.cmml">,</mo><msup id="alg1.l4.m1.3.3.3.3" xref="alg1.l4.m1.3.3.3.3.cmml"><mi mathsize="80%" id="alg1.l4.m1.3.3.3.3.2" xref="alg1.l4.m1.3.3.3.3.2.cmml">R</mi><mrow id="alg1.l4.m1.3.3.3.3.3" xref="alg1.l4.m1.3.3.3.3.3.cmml"><mi mathsize="80%" id="alg1.l4.m1.3.3.3.3.3.2" xref="alg1.l4.m1.3.3.3.3.3.2.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.3.3.3.3.3.1" xref="alg1.l4.m1.3.3.3.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l4.m1.3.3.3.3.3.3" xref="alg1.l4.m1.3.3.3.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.3.3.3.3.3.1a" xref="alg1.l4.m1.3.3.3.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l4.m1.3.3.3.3.3.4" xref="alg1.l4.m1.3.3.3.3.3.4.cmml">d</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.3b"><list id="alg1.l4.m1.3.3.4.cmml" xref="alg1.l4.m1.3.3.3"><apply id="alg1.l4.m1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1"><times id="alg1.l4.m1.1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1.1"></times><ci id="alg1.l4.m1.1.1.1.1.2.cmml" xref="alg1.l4.m1.1.1.1.1.2">Δ</ci><ci id="alg1.l4.m1.1.1.1.1.3.cmml" xref="alg1.l4.m1.1.1.1.1.3">𝑅</ci></apply><apply id="alg1.l4.m1.2.2.2.2.cmml" xref="alg1.l4.m1.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.2.2.1.cmml" xref="alg1.l4.m1.2.2.2.2">superscript</csymbol><ci id="alg1.l4.m1.2.2.2.2.2.cmml" xref="alg1.l4.m1.2.2.2.2.2">𝑅</ci><apply id="alg1.l4.m1.2.2.2.2.3.cmml" xref="alg1.l4.m1.2.2.2.2.3"><minus id="alg1.l4.m1.2.2.2.2.3.1.cmml" xref="alg1.l4.m1.2.2.2.2.3.1"></minus><apply id="alg1.l4.m1.2.2.2.2.3.2.cmml" xref="alg1.l4.m1.2.2.2.2.3.2"><times id="alg1.l4.m1.2.2.2.2.3.2.1.cmml" xref="alg1.l4.m1.2.2.2.2.3.2.1"></times><ci id="alg1.l4.m1.2.2.2.2.3.2.2.cmml" xref="alg1.l4.m1.2.2.2.2.3.2.2">𝑓</ci><ci id="alg1.l4.m1.2.2.2.2.3.2.3.cmml" xref="alg1.l4.m1.2.2.2.2.3.2.3">𝑖</ci><ci id="alg1.l4.m1.2.2.2.2.3.2.4.cmml" xref="alg1.l4.m1.2.2.2.2.3.2.4">𝑛</ci><ci id="alg1.l4.m1.2.2.2.2.3.2.5.cmml" xref="alg1.l4.m1.2.2.2.2.3.2.5">𝑒</ci></apply><apply id="alg1.l4.m1.2.2.2.2.3.3.cmml" xref="alg1.l4.m1.2.2.2.2.3.3"><times id="alg1.l4.m1.2.2.2.2.3.3.1.cmml" xref="alg1.l4.m1.2.2.2.2.3.3.1"></times><ci id="alg1.l4.m1.2.2.2.2.3.3.2.cmml" xref="alg1.l4.m1.2.2.2.2.3.3.2">𝑡</ci><ci id="alg1.l4.m1.2.2.2.2.3.3.3.cmml" xref="alg1.l4.m1.2.2.2.2.3.3.3">𝑢</ci><ci id="alg1.l4.m1.2.2.2.2.3.3.4.cmml" xref="alg1.l4.m1.2.2.2.2.3.3.4">𝑛</ci><ci id="alg1.l4.m1.2.2.2.2.3.3.5.cmml" xref="alg1.l4.m1.2.2.2.2.3.3.5">𝑒</ci></apply></apply></apply><apply id="alg1.l4.m1.3.3.3.3.cmml" xref="alg1.l4.m1.3.3.3.3"><csymbol cd="ambiguous" id="alg1.l4.m1.3.3.3.3.1.cmml" xref="alg1.l4.m1.3.3.3.3">superscript</csymbol><ci id="alg1.l4.m1.3.3.3.3.2.cmml" xref="alg1.l4.m1.3.3.3.3.2">𝑅</ci><apply id="alg1.l4.m1.3.3.3.3.3.cmml" xref="alg1.l4.m1.3.3.3.3.3"><times id="alg1.l4.m1.3.3.3.3.3.1.cmml" xref="alg1.l4.m1.3.3.3.3.3.1"></times><ci id="alg1.l4.m1.3.3.3.3.3.2.cmml" xref="alg1.l4.m1.3.3.3.3.3.2">𝑒</ci><ci id="alg1.l4.m1.3.3.3.3.3.3.cmml" xref="alg1.l4.m1.3.3.3.3.3.3">𝑛</ci><ci id="alg1.l4.m1.3.3.3.3.3.4.cmml" xref="alg1.l4.m1.3.3.3.3.3.4">𝑑</ci></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.3c">\Delta R,R^{fine-tune},R^{end}</annotation></semantics></math><span id="alg1.l4.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span><span id="alg1.l5.2" class="ltx_text ltx_font_bold" style="font-size:80%;">Output:</span><span id="alg1.l5.3" class="ltx_text" style="font-size:80%;"> Sparse ASR model: </span><math id="alg1.l5.m1.1" class="ltx_Math" alttext="w^{R^{end}}" display="inline"><semantics id="alg1.l5.m1.1a"><msup id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml">w</mi><msup id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l5.m1.1.1.3.2" xref="alg1.l5.m1.1.1.3.2.cmml">R</mi><mrow id="alg1.l5.m1.1.1.3.3" xref="alg1.l5.m1.1.1.3.3.cmml"><mi mathsize="80%" id="alg1.l5.m1.1.1.3.3.2" xref="alg1.l5.m1.1.1.3.3.2.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.1.1.3.3.1" xref="alg1.l5.m1.1.1.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l5.m1.1.1.3.3.3" xref="alg1.l5.m1.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.1.1.3.3.1a" xref="alg1.l5.m1.1.1.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l5.m1.1.1.3.3.4" xref="alg1.l5.m1.1.1.3.3.4.cmml">d</mi></mrow></msup></msup><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><csymbol cd="ambiguous" id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1">superscript</csymbol><ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">𝑤</ci><apply id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l5.m1.1.1.3.1.cmml" xref="alg1.l5.m1.1.1.3">superscript</csymbol><ci id="alg1.l5.m1.1.1.3.2.cmml" xref="alg1.l5.m1.1.1.3.2">𝑅</ci><apply id="alg1.l5.m1.1.1.3.3.cmml" xref="alg1.l5.m1.1.1.3.3"><times id="alg1.l5.m1.1.1.3.3.1.cmml" xref="alg1.l5.m1.1.1.3.3.1"></times><ci id="alg1.l5.m1.1.1.3.3.2.cmml" xref="alg1.l5.m1.1.1.3.3.2">𝑒</ci><ci id="alg1.l5.m1.1.1.3.3.3.cmml" xref="alg1.l5.m1.1.1.3.3.3">𝑛</ci><ci id="alg1.l5.m1.1.1.3.3.4.cmml" xref="alg1.l5.m1.1.1.3.3.4">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">w^{R^{end}}</annotation></semantics></math><span id="alg1.l5.4" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span><span id="alg1.l6.2" class="ltx_text ltx_font_bold" style="font-size:80%;">function</span><span id="alg1.l6.3" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l6.4" class="ltx_text ltx_font_italic" style="font-size:80%;">FederatedPruning</span><span id="alg1.l6.5" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span><span id="alg1.l7.2" class="ltx_text" style="font-size:80%;">    initial sparsity level </span><math id="alg1.l7.m1.1" class="ltx_Math" alttext="s\leftarrow 0" display="inline"><semantics id="alg1.l7.m1.1a"><mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml">s</mi><mo mathsize="80%" stretchy="false" id="alg1.l7.m1.1.1.1" xref="alg1.l7.m1.1.1.1.cmml">←</mo><mn mathsize="80%" id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><ci id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1">←</ci><ci id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2">𝑠</ci><cn type="integer" id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">s\leftarrow 0</annotation></semantics></math><span id="alg1.l7.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span><span id="alg1.l8.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg1.l8.3" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span><span id="alg1.l8.4" class="ltx_text" style="font-size:80%;"> each round </span><math id="alg1.l8.m1.5" class="ltx_Math" alttext="r=0,1,2,...,R^{fine-tune}-1" display="inline"><semantics id="alg1.l8.m1.5a"><mrow id="alg1.l8.m1.5.5" xref="alg1.l8.m1.5.5.cmml"><mi mathsize="80%" id="alg1.l8.m1.5.5.3" xref="alg1.l8.m1.5.5.3.cmml">r</mi><mo mathsize="80%" id="alg1.l8.m1.5.5.2" xref="alg1.l8.m1.5.5.2.cmml">=</mo><mrow id="alg1.l8.m1.5.5.1.1" xref="alg1.l8.m1.5.5.1.2.cmml"><mn mathsize="80%" id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml">0</mn><mo mathsize="80%" id="alg1.l8.m1.5.5.1.1.2" xref="alg1.l8.m1.5.5.1.2.cmml">,</mo><mn mathsize="80%" id="alg1.l8.m1.2.2" xref="alg1.l8.m1.2.2.cmml">1</mn><mo mathsize="80%" id="alg1.l8.m1.5.5.1.1.3" xref="alg1.l8.m1.5.5.1.2.cmml">,</mo><mn mathsize="80%" id="alg1.l8.m1.3.3" xref="alg1.l8.m1.3.3.cmml">2</mn><mo mathsize="80%" id="alg1.l8.m1.5.5.1.1.4" xref="alg1.l8.m1.5.5.1.2.cmml">,</mo><mi mathsize="80%" mathvariant="normal" id="alg1.l8.m1.4.4" xref="alg1.l8.m1.4.4.cmml">…</mi><mo mathsize="80%" id="alg1.l8.m1.5.5.1.1.5" xref="alg1.l8.m1.5.5.1.2.cmml">,</mo><mrow id="alg1.l8.m1.5.5.1.1.1" xref="alg1.l8.m1.5.5.1.1.1.cmml"><msup id="alg1.l8.m1.5.5.1.1.1.2" xref="alg1.l8.m1.5.5.1.1.1.2.cmml"><mi mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.2.2" xref="alg1.l8.m1.5.5.1.1.1.2.2.cmml">R</mi><mrow id="alg1.l8.m1.5.5.1.1.1.2.3" xref="alg1.l8.m1.5.5.1.1.1.2.3.cmml"><mrow id="alg1.l8.m1.5.5.1.1.1.2.3.2" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.cmml"><mi mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.2.3.2.2" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.1.1.1.2.3.2.1" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.1.cmml">​</mo><mi mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.2.3.2.3" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.1.1.1.2.3.2.1a" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.1.cmml">​</mo><mi mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.2.3.2.4" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.1.1.1.2.3.2.1b" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.1.cmml">​</mo><mi mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.2.3.2.5" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.5.cmml">e</mi></mrow><mo mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.2.3.1" xref="alg1.l8.m1.5.5.1.1.1.2.3.1.cmml">−</mo><mrow id="alg1.l8.m1.5.5.1.1.1.2.3.3" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.cmml"><mi mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.2.3.3.2" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.1.1.1.2.3.3.1" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.2.3.3.3" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.1.1.1.2.3.3.1a" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.2.3.3.4" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.1.1.1.2.3.3.1b" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.2.3.3.5" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.5.cmml">e</mi></mrow></mrow></msup><mo mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.1" xref="alg1.l8.m1.5.5.1.1.1.1.cmml">−</mo><mn mathsize="80%" id="alg1.l8.m1.5.5.1.1.1.3" xref="alg1.l8.m1.5.5.1.1.1.3.cmml">1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.5b"><apply id="alg1.l8.m1.5.5.cmml" xref="alg1.l8.m1.5.5"><eq id="alg1.l8.m1.5.5.2.cmml" xref="alg1.l8.m1.5.5.2"></eq><ci id="alg1.l8.m1.5.5.3.cmml" xref="alg1.l8.m1.5.5.3">𝑟</ci><list id="alg1.l8.m1.5.5.1.2.cmml" xref="alg1.l8.m1.5.5.1.1"><cn type="integer" id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1">0</cn><cn type="integer" id="alg1.l8.m1.2.2.cmml" xref="alg1.l8.m1.2.2">1</cn><cn type="integer" id="alg1.l8.m1.3.3.cmml" xref="alg1.l8.m1.3.3">2</cn><ci id="alg1.l8.m1.4.4.cmml" xref="alg1.l8.m1.4.4">…</ci><apply id="alg1.l8.m1.5.5.1.1.1.cmml" xref="alg1.l8.m1.5.5.1.1.1"><minus id="alg1.l8.m1.5.5.1.1.1.1.cmml" xref="alg1.l8.m1.5.5.1.1.1.1"></minus><apply id="alg1.l8.m1.5.5.1.1.1.2.cmml" xref="alg1.l8.m1.5.5.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l8.m1.5.5.1.1.1.2.1.cmml" xref="alg1.l8.m1.5.5.1.1.1.2">superscript</csymbol><ci id="alg1.l8.m1.5.5.1.1.1.2.2.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.2">𝑅</ci><apply id="alg1.l8.m1.5.5.1.1.1.2.3.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3"><minus id="alg1.l8.m1.5.5.1.1.1.2.3.1.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.1"></minus><apply id="alg1.l8.m1.5.5.1.1.1.2.3.2.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.2"><times id="alg1.l8.m1.5.5.1.1.1.2.3.2.1.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.1"></times><ci id="alg1.l8.m1.5.5.1.1.1.2.3.2.2.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.2">𝑓</ci><ci id="alg1.l8.m1.5.5.1.1.1.2.3.2.3.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.3">𝑖</ci><ci id="alg1.l8.m1.5.5.1.1.1.2.3.2.4.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.4">𝑛</ci><ci id="alg1.l8.m1.5.5.1.1.1.2.3.2.5.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.2.5">𝑒</ci></apply><apply id="alg1.l8.m1.5.5.1.1.1.2.3.3.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.3"><times id="alg1.l8.m1.5.5.1.1.1.2.3.3.1.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.1"></times><ci id="alg1.l8.m1.5.5.1.1.1.2.3.3.2.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.2">𝑡</ci><ci id="alg1.l8.m1.5.5.1.1.1.2.3.3.3.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.3">𝑢</ci><ci id="alg1.l8.m1.5.5.1.1.1.2.3.3.4.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.4">𝑛</ci><ci id="alg1.l8.m1.5.5.1.1.1.2.3.3.5.cmml" xref="alg1.l8.m1.5.5.1.1.1.2.3.3.5">𝑒</ci></apply></apply></apply><cn type="integer" id="alg1.l8.m1.5.5.1.1.1.3.cmml" xref="alg1.l8.m1.5.5.1.1.1.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.5c">r=0,1,2,...,R^{fine-tune}-1</annotation></semantics></math><span id="alg1.l8.5" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l8.6" class="ltx_text ltx_font_bold" style="font-size:80%;">do</span><span id="alg1.l8.7" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.3.1.1" class="ltx_text" style="font-size:80%;">9:</span></span><span id="alg1.l9.4" class="ltx_text" style="font-size:80%;">        </span><span id="alg1.l9.5" class="ltx_text ltx_font_bold" style="font-size:80%;">if</span><span id="alg1.l9.6" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l9.m1.1" class="ltx_math_unparsed" alttext="r\;mod\;\Delta R==0" display="inline"><semantics id="alg1.l9.m1.1a"><mrow id="alg1.l9.m1.1b"><mi mathsize="80%" id="alg1.l9.m1.1.1">r</mi><mi mathsize="80%" id="alg1.l9.m1.1.2">m</mi><mi mathsize="80%" id="alg1.l9.m1.1.3">o</mi><mi mathsize="80%" id="alg1.l9.m1.1.4">d</mi><mi mathsize="80%" mathvariant="normal" id="alg1.l9.m1.1.5">Δ</mi><mi mathsize="80%" id="alg1.l9.m1.1.6">R</mi><mo mathsize="80%" rspace="0em" id="alg1.l9.m1.1.7">=</mo><mo lspace="0em" mathsize="80%" id="alg1.l9.m1.1.8">=</mo><mn mathsize="80%" id="alg1.l9.m1.1.9">0</mn></mrow><annotation encoding="application/x-tex" id="alg1.l9.m1.1c">r\;mod\;\Delta R==0</annotation></semantics></math><span id="alg1.l9.7" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l9.8" class="ltx_text ltx_font_bold" style="font-size:80%;">then</span><span id="alg1.l9.9" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l9.2" class="ltx_text" style="font-size:80%;float:right;"><math id="alg1.l9.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l9.1.m1.1a"><mo id="alg1.l9.1.m1.1.1" xref="alg1.l9.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l9.1.m1.1b"><ci id="alg1.l9.1.m1.1.1.cmml" xref="alg1.l9.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.1.m1.1c">\triangleright</annotation></semantics></math> Every <math id="alg1.l9.2.m2.1" class="ltx_Math" alttext="\Delta R" display="inline"><semantics id="alg1.l9.2.m2.1a"><mrow id="alg1.l9.2.m2.1.1" xref="alg1.l9.2.m2.1.1.cmml"><mi mathvariant="normal" id="alg1.l9.2.m2.1.1.2" xref="alg1.l9.2.m2.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.l9.2.m2.1.1.1" xref="alg1.l9.2.m2.1.1.1.cmml">​</mo><mi id="alg1.l9.2.m2.1.1.3" xref="alg1.l9.2.m2.1.1.3.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.2.m2.1b"><apply id="alg1.l9.2.m2.1.1.cmml" xref="alg1.l9.2.m2.1.1"><times id="alg1.l9.2.m2.1.1.1.cmml" xref="alg1.l9.2.m2.1.1.1"></times><ci id="alg1.l9.2.m2.1.1.2.cmml" xref="alg1.l9.2.m2.1.1.2">Δ</ci><ci id="alg1.l9.2.m2.1.1.3.cmml" xref="alg1.l9.2.m2.1.1.3">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.2.m2.1c">\Delta R</annotation></semantics></math> rounds
</span>
</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span><span id="alg1.l10.2" class="ltx_text" style="font-size:80%;">            </span><span id="alg1.l10.3" class="ltx_text ltx_font_italic" style="font-size:80%;">GetImportanceScore</span><span id="alg1.l10.4" class="ltx_text" style="font-size:80%;"> (</span><math id="alg1.l10.m1.1" class="ltx_Math" alttext="w^{r}" display="inline"><semantics id="alg1.l10.m1.1a"><msup id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l10.m1.1.1.2" xref="alg1.l10.m1.1.1.2.cmml">w</mi><mi mathsize="80%" id="alg1.l10.m1.1.1.3" xref="alg1.l10.m1.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.1b"><apply id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.cmml" xref="alg1.l10.m1.1.1">superscript</csymbol><ci id="alg1.l10.m1.1.1.2.cmml" xref="alg1.l10.m1.1.1.2">𝑤</ci><ci id="alg1.l10.m1.1.1.3.cmml" xref="alg1.l10.m1.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.1c">w^{r}</annotation></semantics></math><span id="alg1.l10.5" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span><span id="alg1.l11.2" class="ltx_text" style="font-size:80%;">            </span><math id="alg1.l11.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="alg1.l11.m1.1a"><mi mathsize="80%" id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><ci id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">M</annotation></semantics></math><span id="alg1.l11.3" class="ltx_text" style="font-size:80%;"> = </span><span id="alg1.l11.4" class="ltx_text ltx_font_italic" style="font-size:80%;">GenerateMask</span><span id="alg1.l11.5" class="ltx_text" style="font-size:80%;"> (</span><math id="alg1.l11.m2.3" class="ltx_Math" alttext="w^{r},r,s" display="inline"><semantics id="alg1.l11.m2.3a"><mrow id="alg1.l11.m2.3.3.1" xref="alg1.l11.m2.3.3.2.cmml"><msup id="alg1.l11.m2.3.3.1.1" xref="alg1.l11.m2.3.3.1.1.cmml"><mi mathsize="80%" id="alg1.l11.m2.3.3.1.1.2" xref="alg1.l11.m2.3.3.1.1.2.cmml">w</mi><mi mathsize="80%" id="alg1.l11.m2.3.3.1.1.3" xref="alg1.l11.m2.3.3.1.1.3.cmml">r</mi></msup><mo mathsize="80%" id="alg1.l11.m2.3.3.1.2" xref="alg1.l11.m2.3.3.2.cmml">,</mo><mi mathsize="80%" id="alg1.l11.m2.1.1" xref="alg1.l11.m2.1.1.cmml">r</mi><mo mathsize="80%" id="alg1.l11.m2.3.3.1.3" xref="alg1.l11.m2.3.3.2.cmml">,</mo><mi mathsize="80%" id="alg1.l11.m2.2.2" xref="alg1.l11.m2.2.2.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m2.3b"><list id="alg1.l11.m2.3.3.2.cmml" xref="alg1.l11.m2.3.3.1"><apply id="alg1.l11.m2.3.3.1.1.cmml" xref="alg1.l11.m2.3.3.1.1"><csymbol cd="ambiguous" id="alg1.l11.m2.3.3.1.1.1.cmml" xref="alg1.l11.m2.3.3.1.1">superscript</csymbol><ci id="alg1.l11.m2.3.3.1.1.2.cmml" xref="alg1.l11.m2.3.3.1.1.2">𝑤</ci><ci id="alg1.l11.m2.3.3.1.1.3.cmml" xref="alg1.l11.m2.3.3.1.1.3">𝑟</ci></apply><ci id="alg1.l11.m2.1.1.cmml" xref="alg1.l11.m2.1.1">𝑟</ci><ci id="alg1.l11.m2.2.2.cmml" xref="alg1.l11.m2.2.2">𝑠</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m2.3c">w^{r},r,s</annotation></semantics></math><span id="alg1.l11.6" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l12.3.1.1" class="ltx_text" style="font-size:80%;">12:</span></span><span id="alg1.l12.4" class="ltx_text" style="font-size:80%;">            </span><span id="alg1.l12.5" class="ltx_text ltx_font_bold" style="font-size:80%;">if</span><span id="alg1.l12.6" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l12.m1.1" class="ltx_Math" alttext="s&lt;S" display="inline"><semantics id="alg1.l12.m1.1a"><mrow id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l12.m1.1.1.2" xref="alg1.l12.m1.1.1.2.cmml">s</mi><mo mathsize="80%" id="alg1.l12.m1.1.1.1" xref="alg1.l12.m1.1.1.1.cmml">&lt;</mo><mi mathsize="80%" id="alg1.l12.m1.1.1.3" xref="alg1.l12.m1.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.1b"><apply id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1"><lt id="alg1.l12.m1.1.1.1.cmml" xref="alg1.l12.m1.1.1.1"></lt><ci id="alg1.l12.m1.1.1.2.cmml" xref="alg1.l12.m1.1.1.2">𝑠</ci><ci id="alg1.l12.m1.1.1.3.cmml" xref="alg1.l12.m1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.1c">s&lt;S</annotation></semantics></math><span id="alg1.l12.7" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l12.8" class="ltx_text ltx_font_bold" style="font-size:80%;">then</span><span id="alg1.l12.9" class="ltx_text" style="font-size:80%;">
</span><span id="alg1.l12.2" class="ltx_text" style="font-size:80%;float:right;"><math id="alg1.l12.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l12.1.m1.1a"><mo id="alg1.l12.1.m1.1.1" xref="alg1.l12.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l12.1.m1.1b"><ci id="alg1.l12.1.m1.1.1.cmml" xref="alg1.l12.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.1.m1.1c">\triangleright</annotation></semantics></math> Reaches refining phase if <math id="alg1.l12.2.m2.1" class="ltx_math_unparsed" alttext="s==S" display="inline"><semantics id="alg1.l12.2.m2.1a"><mrow id="alg1.l12.2.m2.1b"><mi id="alg1.l12.2.m2.1.1">s</mi><mo rspace="0em" id="alg1.l12.2.m2.1.2">=</mo><mo lspace="0em" id="alg1.l12.2.m2.1.3">=</mo><mi id="alg1.l12.2.m2.1.4">S</mi></mrow><annotation encoding="application/x-tex" id="alg1.l12.2.m2.1c">s==S</annotation></semantics></math>
</span>
</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span><span id="alg1.l13.2" class="ltx_text" style="font-size:80%;">                increase </span><math id="alg1.l13.m1.1" class="ltx_Math" alttext="s" display="inline"><semantics id="alg1.l13.m1.1a"><mi mathsize="80%" id="alg1.l13.m1.1.1" xref="alg1.l13.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="alg1.l13.m1.1b"><ci id="alg1.l13.m1.1.1.cmml" xref="alg1.l13.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m1.1c">s</annotation></semantics></math><span id="alg1.l13.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span><span id="alg1.l14.2" class="ltx_text" style="font-size:80%;">            </span><span id="alg1.l14.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l14.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l14.5" class="ltx_text ltx_font_bold" style="font-size:80%;">if</span>
</div>
<div id="alg1.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span><span id="alg1.l15.2" class="ltx_text" style="font-size:80%;">        </span><span id="alg1.l15.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l15.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l15.5" class="ltx_text ltx_font_bold" style="font-size:80%;">if</span>
</div>
<div id="alg1.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l16.2.1.1" class="ltx_text" style="font-size:80%;">16:</span></span><span id="alg1.l16.3" class="ltx_text" style="font-size:80%;">        </span><math id="alg1.l16.m1.1" class="ltx_Math" alttext="w^{r+1}" display="inline"><semantics id="alg1.l16.m1.1a"><msup id="alg1.l16.m1.1.1" xref="alg1.l16.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l16.m1.1.1.2" xref="alg1.l16.m1.1.1.2.cmml">w</mi><mrow id="alg1.l16.m1.1.1.3" xref="alg1.l16.m1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l16.m1.1.1.3.2" xref="alg1.l16.m1.1.1.3.2.cmml">r</mi><mo mathsize="80%" id="alg1.l16.m1.1.1.3.1" xref="alg1.l16.m1.1.1.3.1.cmml">+</mo><mn mathsize="80%" id="alg1.l16.m1.1.1.3.3" xref="alg1.l16.m1.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="alg1.l16.m1.1b"><apply id="alg1.l16.m1.1.1.cmml" xref="alg1.l16.m1.1.1"><csymbol cd="ambiguous" id="alg1.l16.m1.1.1.1.cmml" xref="alg1.l16.m1.1.1">superscript</csymbol><ci id="alg1.l16.m1.1.1.2.cmml" xref="alg1.l16.m1.1.1.2">𝑤</ci><apply id="alg1.l16.m1.1.1.3.cmml" xref="alg1.l16.m1.1.1.3"><plus id="alg1.l16.m1.1.1.3.1.cmml" xref="alg1.l16.m1.1.1.3.1"></plus><ci id="alg1.l16.m1.1.1.3.2.cmml" xref="alg1.l16.m1.1.1.3.2">𝑟</ci><cn type="integer" id="alg1.l16.m1.1.1.3.3.cmml" xref="alg1.l16.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m1.1c">w^{r+1}</annotation></semantics></math><span id="alg1.l16.4" class="ltx_text" style="font-size:80%;"> = </span><span id="alg1.l16.1" class="ltx_text ltx_font_italic" style="font-size:80%;">FPTrain(<math id="alg1.l16.1.m1.2" class="ltx_Math" alttext="w^{r},M" display="inline"><semantics id="alg1.l16.1.m1.2a"><mrow id="alg1.l16.1.m1.2.2.1" xref="alg1.l16.1.m1.2.2.2.cmml"><msup id="alg1.l16.1.m1.2.2.1.1" xref="alg1.l16.1.m1.2.2.1.1.cmml"><mi id="alg1.l16.1.m1.2.2.1.1.2" xref="alg1.l16.1.m1.2.2.1.1.2.cmml">w</mi><mi id="alg1.l16.1.m1.2.2.1.1.3" xref="alg1.l16.1.m1.2.2.1.1.3.cmml">r</mi></msup><mo id="alg1.l16.1.m1.2.2.1.2" xref="alg1.l16.1.m1.2.2.2.cmml">,</mo><mi id="alg1.l16.1.m1.1.1" xref="alg1.l16.1.m1.1.1.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l16.1.m1.2b"><list id="alg1.l16.1.m1.2.2.2.cmml" xref="alg1.l16.1.m1.2.2.1"><apply id="alg1.l16.1.m1.2.2.1.1.cmml" xref="alg1.l16.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l16.1.m1.2.2.1.1.1.cmml" xref="alg1.l16.1.m1.2.2.1.1">superscript</csymbol><ci id="alg1.l16.1.m1.2.2.1.1.2.cmml" xref="alg1.l16.1.m1.2.2.1.1.2">𝑤</ci><ci id="alg1.l16.1.m1.2.2.1.1.3.cmml" xref="alg1.l16.1.m1.2.2.1.1.3">𝑟</ci></apply><ci id="alg1.l16.1.m1.1.1.cmml" xref="alg1.l16.1.m1.1.1">𝑀</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.1.m1.2c">w^{r},M</annotation></semantics></math>)</span><span id="alg1.l16.5" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l17.1.1.1" class="ltx_text" style="font-size:80%;">17:</span></span><span id="alg1.l17.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg1.l17.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l17.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l17.5" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span>
</div>
<div id="alg1.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l18.2.1.1" class="ltx_text" style="font-size:80%;">18:</span></span><span id="alg1.l18.3" class="ltx_text" style="font-size:80%;">    </span><span id="alg1.l18.4" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span><span id="alg1.l18.5" class="ltx_text" style="font-size:80%;"> each round </span><math id="alg1.l18.m1.3" class="ltx_Math" alttext="r=R^{fine-tune},...,R^{end}" display="inline"><semantics id="alg1.l18.m1.3a"><mrow id="alg1.l18.m1.3.3" xref="alg1.l18.m1.3.3.cmml"><mi mathsize="80%" id="alg1.l18.m1.3.3.4" xref="alg1.l18.m1.3.3.4.cmml">r</mi><mo mathsize="80%" id="alg1.l18.m1.3.3.3" xref="alg1.l18.m1.3.3.3.cmml">=</mo><mrow id="alg1.l18.m1.3.3.2.2" xref="alg1.l18.m1.3.3.2.3.cmml"><msup id="alg1.l18.m1.2.2.1.1.1" xref="alg1.l18.m1.2.2.1.1.1.cmml"><mi mathsize="80%" id="alg1.l18.m1.2.2.1.1.1.2" xref="alg1.l18.m1.2.2.1.1.1.2.cmml">R</mi><mrow id="alg1.l18.m1.2.2.1.1.1.3" xref="alg1.l18.m1.2.2.1.1.1.3.cmml"><mrow id="alg1.l18.m1.2.2.1.1.1.3.2" xref="alg1.l18.m1.2.2.1.1.1.3.2.cmml"><mi mathsize="80%" id="alg1.l18.m1.2.2.1.1.1.3.2.2" xref="alg1.l18.m1.2.2.1.1.1.3.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.2.2.1.1.1.3.2.1" xref="alg1.l18.m1.2.2.1.1.1.3.2.1.cmml">​</mo><mi mathsize="80%" id="alg1.l18.m1.2.2.1.1.1.3.2.3" xref="alg1.l18.m1.2.2.1.1.1.3.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.2.2.1.1.1.3.2.1a" xref="alg1.l18.m1.2.2.1.1.1.3.2.1.cmml">​</mo><mi mathsize="80%" id="alg1.l18.m1.2.2.1.1.1.3.2.4" xref="alg1.l18.m1.2.2.1.1.1.3.2.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.2.2.1.1.1.3.2.1b" xref="alg1.l18.m1.2.2.1.1.1.3.2.1.cmml">​</mo><mi mathsize="80%" id="alg1.l18.m1.2.2.1.1.1.3.2.5" xref="alg1.l18.m1.2.2.1.1.1.3.2.5.cmml">e</mi></mrow><mo mathsize="80%" id="alg1.l18.m1.2.2.1.1.1.3.1" xref="alg1.l18.m1.2.2.1.1.1.3.1.cmml">−</mo><mrow id="alg1.l18.m1.2.2.1.1.1.3.3" xref="alg1.l18.m1.2.2.1.1.1.3.3.cmml"><mi mathsize="80%" id="alg1.l18.m1.2.2.1.1.1.3.3.2" xref="alg1.l18.m1.2.2.1.1.1.3.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.2.2.1.1.1.3.3.1" xref="alg1.l18.m1.2.2.1.1.1.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l18.m1.2.2.1.1.1.3.3.3" xref="alg1.l18.m1.2.2.1.1.1.3.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.2.2.1.1.1.3.3.1a" xref="alg1.l18.m1.2.2.1.1.1.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l18.m1.2.2.1.1.1.3.3.4" xref="alg1.l18.m1.2.2.1.1.1.3.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.2.2.1.1.1.3.3.1b" xref="alg1.l18.m1.2.2.1.1.1.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l18.m1.2.2.1.1.1.3.3.5" xref="alg1.l18.m1.2.2.1.1.1.3.3.5.cmml">e</mi></mrow></mrow></msup><mo mathsize="80%" id="alg1.l18.m1.3.3.2.2.3" xref="alg1.l18.m1.3.3.2.3.cmml">,</mo><mi mathsize="80%" mathvariant="normal" id="alg1.l18.m1.1.1" xref="alg1.l18.m1.1.1.cmml">…</mi><mo mathsize="80%" id="alg1.l18.m1.3.3.2.2.4" xref="alg1.l18.m1.3.3.2.3.cmml">,</mo><msup id="alg1.l18.m1.3.3.2.2.2" xref="alg1.l18.m1.3.3.2.2.2.cmml"><mi mathsize="80%" id="alg1.l18.m1.3.3.2.2.2.2" xref="alg1.l18.m1.3.3.2.2.2.2.cmml">R</mi><mrow id="alg1.l18.m1.3.3.2.2.2.3" xref="alg1.l18.m1.3.3.2.2.2.3.cmml"><mi mathsize="80%" id="alg1.l18.m1.3.3.2.2.2.3.2" xref="alg1.l18.m1.3.3.2.2.2.3.2.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.3.3.2.2.2.3.1" xref="alg1.l18.m1.3.3.2.2.2.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l18.m1.3.3.2.2.2.3.3" xref="alg1.l18.m1.3.3.2.2.2.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l18.m1.3.3.2.2.2.3.1a" xref="alg1.l18.m1.3.3.2.2.2.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l18.m1.3.3.2.2.2.3.4" xref="alg1.l18.m1.3.3.2.2.2.3.4.cmml">d</mi></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l18.m1.3b"><apply id="alg1.l18.m1.3.3.cmml" xref="alg1.l18.m1.3.3"><eq id="alg1.l18.m1.3.3.3.cmml" xref="alg1.l18.m1.3.3.3"></eq><ci id="alg1.l18.m1.3.3.4.cmml" xref="alg1.l18.m1.3.3.4">𝑟</ci><list id="alg1.l18.m1.3.3.2.3.cmml" xref="alg1.l18.m1.3.3.2.2"><apply id="alg1.l18.m1.2.2.1.1.1.cmml" xref="alg1.l18.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l18.m1.2.2.1.1.1.1.cmml" xref="alg1.l18.m1.2.2.1.1.1">superscript</csymbol><ci id="alg1.l18.m1.2.2.1.1.1.2.cmml" xref="alg1.l18.m1.2.2.1.1.1.2">𝑅</ci><apply id="alg1.l18.m1.2.2.1.1.1.3.cmml" xref="alg1.l18.m1.2.2.1.1.1.3"><minus id="alg1.l18.m1.2.2.1.1.1.3.1.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.1"></minus><apply id="alg1.l18.m1.2.2.1.1.1.3.2.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.2"><times id="alg1.l18.m1.2.2.1.1.1.3.2.1.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.2.1"></times><ci id="alg1.l18.m1.2.2.1.1.1.3.2.2.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.2.2">𝑓</ci><ci id="alg1.l18.m1.2.2.1.1.1.3.2.3.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.2.3">𝑖</ci><ci id="alg1.l18.m1.2.2.1.1.1.3.2.4.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.2.4">𝑛</ci><ci id="alg1.l18.m1.2.2.1.1.1.3.2.5.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.2.5">𝑒</ci></apply><apply id="alg1.l18.m1.2.2.1.1.1.3.3.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.3"><times id="alg1.l18.m1.2.2.1.1.1.3.3.1.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.3.1"></times><ci id="alg1.l18.m1.2.2.1.1.1.3.3.2.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.3.2">𝑡</ci><ci id="alg1.l18.m1.2.2.1.1.1.3.3.3.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.3.3">𝑢</ci><ci id="alg1.l18.m1.2.2.1.1.1.3.3.4.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.3.4">𝑛</ci><ci id="alg1.l18.m1.2.2.1.1.1.3.3.5.cmml" xref="alg1.l18.m1.2.2.1.1.1.3.3.5">𝑒</ci></apply></apply></apply><ci id="alg1.l18.m1.1.1.cmml" xref="alg1.l18.m1.1.1">…</ci><apply id="alg1.l18.m1.3.3.2.2.2.cmml" xref="alg1.l18.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l18.m1.3.3.2.2.2.1.cmml" xref="alg1.l18.m1.3.3.2.2.2">superscript</csymbol><ci id="alg1.l18.m1.3.3.2.2.2.2.cmml" xref="alg1.l18.m1.3.3.2.2.2.2">𝑅</ci><apply id="alg1.l18.m1.3.3.2.2.2.3.cmml" xref="alg1.l18.m1.3.3.2.2.2.3"><times id="alg1.l18.m1.3.3.2.2.2.3.1.cmml" xref="alg1.l18.m1.3.3.2.2.2.3.1"></times><ci id="alg1.l18.m1.3.3.2.2.2.3.2.cmml" xref="alg1.l18.m1.3.3.2.2.2.3.2">𝑒</ci><ci id="alg1.l18.m1.3.3.2.2.2.3.3.cmml" xref="alg1.l18.m1.3.3.2.2.2.3.3">𝑛</ci><ci id="alg1.l18.m1.3.3.2.2.2.3.4.cmml" xref="alg1.l18.m1.3.3.2.2.2.3.4">𝑑</ci></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l18.m1.3c">r=R^{fine-tune},...,R^{end}</annotation></semantics></math><span id="alg1.l18.6" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l18.7" class="ltx_text ltx_font_bold" style="font-size:80%;">do</span><span id="alg1.l18.8" class="ltx_text" style="font-size:80%;">
</span><span id="alg1.l18.1" class="ltx_text" style="font-size:80%;float:right;"><math id="alg1.l18.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l18.1.m1.1a"><mo id="alg1.l18.1.m1.1.1" xref="alg1.l18.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l18.1.m1.1b"><ci id="alg1.l18.1.m1.1.1.cmml" xref="alg1.l18.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l18.1.m1.1c">\triangleright</annotation></semantics></math> Fine-turning
</span>
</div>
<div id="alg1.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l19.1.1.1" class="ltx_text" style="font-size:80%;">19:</span></span><span id="alg1.l19.2" class="ltx_text" style="font-size:80%;">        Reduce the server model with mask </span><math id="alg1.l19.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="alg1.l19.m1.1a"><mi mathsize="80%" id="alg1.l19.m1.1.1" xref="alg1.l19.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="alg1.l19.m1.1b"><ci id="alg1.l19.m1.1.1.cmml" xref="alg1.l19.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l19.m1.1c">M</annotation></semantics></math><span id="alg1.l19.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l20.1.1.1" class="ltx_text" style="font-size:80%;">20:</span></span><span id="alg1.l20.2" class="ltx_text" style="font-size:80%;">        Training the reduced model with standard FL.
</span>
</div>
<div id="alg1.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l21.1.1.1" class="ltx_text" style="font-size:80%;">21:</span></span><span id="alg1.l21.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg1.l21.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l21.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l21.5" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span>
</div>
<div id="alg1.l22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l22.1.1.1" class="ltx_text" style="font-size:80%;">22:</span></span><span id="alg1.l22.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg1.l22.3" class="ltx_text ltx_font_bold" style="font-size:80%;">return</span><span id="alg1.l22.4" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l22.m1.1" class="ltx_Math" alttext="w^{R^{end}}" display="inline"><semantics id="alg1.l22.m1.1a"><msup id="alg1.l22.m1.1.1" xref="alg1.l22.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l22.m1.1.1.2" xref="alg1.l22.m1.1.1.2.cmml">w</mi><msup id="alg1.l22.m1.1.1.3" xref="alg1.l22.m1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l22.m1.1.1.3.2" xref="alg1.l22.m1.1.1.3.2.cmml">R</mi><mrow id="alg1.l22.m1.1.1.3.3" xref="alg1.l22.m1.1.1.3.3.cmml"><mi mathsize="80%" id="alg1.l22.m1.1.1.3.3.2" xref="alg1.l22.m1.1.1.3.3.2.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.3.3.1" xref="alg1.l22.m1.1.1.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l22.m1.1.1.3.3.3" xref="alg1.l22.m1.1.1.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.3.3.1a" xref="alg1.l22.m1.1.1.3.3.1.cmml">​</mo><mi mathsize="80%" id="alg1.l22.m1.1.1.3.3.4" xref="alg1.l22.m1.1.1.3.3.4.cmml">d</mi></mrow></msup></msup><annotation-xml encoding="MathML-Content" id="alg1.l22.m1.1b"><apply id="alg1.l22.m1.1.1.cmml" xref="alg1.l22.m1.1.1"><csymbol cd="ambiguous" id="alg1.l22.m1.1.1.1.cmml" xref="alg1.l22.m1.1.1">superscript</csymbol><ci id="alg1.l22.m1.1.1.2.cmml" xref="alg1.l22.m1.1.1.2">𝑤</ci><apply id="alg1.l22.m1.1.1.3.cmml" xref="alg1.l22.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l22.m1.1.1.3.1.cmml" xref="alg1.l22.m1.1.1.3">superscript</csymbol><ci id="alg1.l22.m1.1.1.3.2.cmml" xref="alg1.l22.m1.1.1.3.2">𝑅</ci><apply id="alg1.l22.m1.1.1.3.3.cmml" xref="alg1.l22.m1.1.1.3.3"><times id="alg1.l22.m1.1.1.3.3.1.cmml" xref="alg1.l22.m1.1.1.3.3.1"></times><ci id="alg1.l22.m1.1.1.3.3.2.cmml" xref="alg1.l22.m1.1.1.3.3.2">𝑒</ci><ci id="alg1.l22.m1.1.1.3.3.3.cmml" xref="alg1.l22.m1.1.1.3.3.3">𝑛</ci><ci id="alg1.l22.m1.1.1.3.3.4.cmml" xref="alg1.l22.m1.1.1.3.3.4">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l22.m1.1c">w^{R^{end}}</annotation></semantics></math><span id="alg1.l22.5" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l23.1.1.1" class="ltx_text" style="font-size:80%;">23:</span></span><span id="alg1.l23.2" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l23.3" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l23.4" class="ltx_text ltx_font_bold" style="font-size:80%;">function</span>
</div>
<div id="alg1.l24" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l24.1.1.1" class="ltx_text" style="font-size:80%;">24:</span></span><span id="alg1.l24.2" class="ltx_text ltx_font_bold" style="font-size:80%;">function</span><span id="alg1.l24.3" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l24.4" class="ltx_text ltx_font_italic" style="font-size:80%;">FPTrain</span><span id="alg1.l24.5" class="ltx_text" style="font-size:80%;">(</span><math id="alg1.l24.m1.2" class="ltx_Math" alttext="w^{r},M" display="inline"><semantics id="alg1.l24.m1.2a"><mrow id="alg1.l24.m1.2.2.1" xref="alg1.l24.m1.2.2.2.cmml"><msup id="alg1.l24.m1.2.2.1.1" xref="alg1.l24.m1.2.2.1.1.cmml"><mi mathsize="80%" id="alg1.l24.m1.2.2.1.1.2" xref="alg1.l24.m1.2.2.1.1.2.cmml">w</mi><mi mathsize="80%" id="alg1.l24.m1.2.2.1.1.3" xref="alg1.l24.m1.2.2.1.1.3.cmml">r</mi></msup><mo mathsize="80%" id="alg1.l24.m1.2.2.1.2" xref="alg1.l24.m1.2.2.2.cmml">,</mo><mi mathsize="80%" id="alg1.l24.m1.1.1" xref="alg1.l24.m1.1.1.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l24.m1.2b"><list id="alg1.l24.m1.2.2.2.cmml" xref="alg1.l24.m1.2.2.1"><apply id="alg1.l24.m1.2.2.1.1.cmml" xref="alg1.l24.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l24.m1.2.2.1.1.1.cmml" xref="alg1.l24.m1.2.2.1.1">superscript</csymbol><ci id="alg1.l24.m1.2.2.1.1.2.cmml" xref="alg1.l24.m1.2.2.1.1.2">𝑤</ci><ci id="alg1.l24.m1.2.2.1.1.3.cmml" xref="alg1.l24.m1.2.2.1.1.3">𝑟</ci></apply><ci id="alg1.l24.m1.1.1.cmml" xref="alg1.l24.m1.1.1">𝑀</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l24.m1.2c">w^{r},M</annotation></semantics></math><span id="alg1.l24.6" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg1.l25" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l25.3.1.1" class="ltx_text" style="font-size:80%;">25:</span></span><span id="alg1.l25.4" class="ltx_text" style="font-size:80%;">    </span><math id="alg1.l25.m1.1" class="ltx_Math" alttext="W^{r}\leftarrow" display="inline"><semantics id="alg1.l25.m1.1a"><mrow id="alg1.l25.m1.1.1" xref="alg1.l25.m1.1.1.cmml"><msup id="alg1.l25.m1.1.1.2" xref="alg1.l25.m1.1.1.2.cmml"><mi mathsize="80%" id="alg1.l25.m1.1.1.2.2" xref="alg1.l25.m1.1.1.2.2.cmml">W</mi><mi mathsize="80%" id="alg1.l25.m1.1.1.2.3" xref="alg1.l25.m1.1.1.2.3.cmml">r</mi></msup><mo mathsize="80%" stretchy="false" id="alg1.l25.m1.1.1.1" xref="alg1.l25.m1.1.1.1.cmml">←</mo><mi id="alg1.l25.m1.1.1.3" xref="alg1.l25.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l25.m1.1b"><apply id="alg1.l25.m1.1.1.cmml" xref="alg1.l25.m1.1.1"><ci id="alg1.l25.m1.1.1.1.cmml" xref="alg1.l25.m1.1.1.1">←</ci><apply id="alg1.l25.m1.1.1.2.cmml" xref="alg1.l25.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l25.m1.1.1.2.1.cmml" xref="alg1.l25.m1.1.1.2">superscript</csymbol><ci id="alg1.l25.m1.1.1.2.2.cmml" xref="alg1.l25.m1.1.1.2.2">𝑊</ci><ci id="alg1.l25.m1.1.1.2.3.cmml" xref="alg1.l25.m1.1.1.2.3">𝑟</ci></apply><csymbol cd="latexml" id="alg1.l25.m1.1.1.3.cmml" xref="alg1.l25.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l25.m1.1c">W^{r}\leftarrow</annotation></semantics></math><span id="alg1.l25.5" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l25.1" class="ltx_text ltx_font_italic" style="font-size:80%;">Shrink<math id="alg1.l25.1.m1.2" class="ltx_Math" alttext="(w^{r},M)" display="inline"><semantics id="alg1.l25.1.m1.2a"><mrow id="alg1.l25.1.m1.2.2.1" xref="alg1.l25.1.m1.2.2.2.cmml"><mo stretchy="false" id="alg1.l25.1.m1.2.2.1.2" xref="alg1.l25.1.m1.2.2.2.cmml">(</mo><msup id="alg1.l25.1.m1.2.2.1.1" xref="alg1.l25.1.m1.2.2.1.1.cmml"><mi id="alg1.l25.1.m1.2.2.1.1.2" xref="alg1.l25.1.m1.2.2.1.1.2.cmml">w</mi><mi id="alg1.l25.1.m1.2.2.1.1.3" xref="alg1.l25.1.m1.2.2.1.1.3.cmml">r</mi></msup><mo id="alg1.l25.1.m1.2.2.1.3" xref="alg1.l25.1.m1.2.2.2.cmml">,</mo><mi id="alg1.l25.1.m1.1.1" xref="alg1.l25.1.m1.1.1.cmml">M</mi><mo stretchy="false" id="alg1.l25.1.m1.2.2.1.4" xref="alg1.l25.1.m1.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l25.1.m1.2b"><interval closure="open" id="alg1.l25.1.m1.2.2.2.cmml" xref="alg1.l25.1.m1.2.2.1"><apply id="alg1.l25.1.m1.2.2.1.1.cmml" xref="alg1.l25.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l25.1.m1.2.2.1.1.1.cmml" xref="alg1.l25.1.m1.2.2.1.1">superscript</csymbol><ci id="alg1.l25.1.m1.2.2.1.1.2.cmml" xref="alg1.l25.1.m1.2.2.1.1.2">𝑤</ci><ci id="alg1.l25.1.m1.2.2.1.1.3.cmml" xref="alg1.l25.1.m1.2.2.1.1.3">𝑟</ci></apply><ci id="alg1.l25.1.m1.1.1.cmml" xref="alg1.l25.1.m1.1.1">𝑀</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.l25.1.m1.2c">(w^{r},M)</annotation></semantics></math></span><span id="alg1.l25.6" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l25.2" class="ltx_text" style="font-size:80%;float:right;"><math id="alg1.l25.2.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l25.2.m1.1a"><mo id="alg1.l25.2.m1.1.1" xref="alg1.l25.2.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l25.2.m1.1b"><ci id="alg1.l25.2.m1.1.1.cmml" xref="alg1.l25.2.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l25.2.m1.1c">\triangleright</annotation></semantics></math> Generate reduced model
</span>
</div>
<div id="alg1.l26" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l26.1.1.1" class="ltx_text" style="font-size:80%;">26:</span></span><span id="alg1.l26.2" class="ltx_text" style="font-size:80%;">    Randomly select </span><math id="alg1.l26.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="alg1.l26.m1.1a"><mi mathsize="80%" id="alg1.l26.m1.1.1" xref="alg1.l26.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="alg1.l26.m1.1b"><ci id="alg1.l26.m1.1.1.cmml" xref="alg1.l26.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l26.m1.1c">K</annotation></semantics></math><span id="alg1.l26.3" class="ltx_text" style="font-size:80%;"> clients
</span>
</div>
<div id="alg1.l27" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l27.1.1.1" class="ltx_text" style="font-size:80%;">27:</span></span><span id="alg1.l27.2" class="ltx_text" style="font-size:80%;">    Server sends the reduced model </span><math id="alg1.l27.m1.1" class="ltx_Math" alttext="W^{r}" display="inline"><semantics id="alg1.l27.m1.1a"><msup id="alg1.l27.m1.1.1" xref="alg1.l27.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l27.m1.1.1.2" xref="alg1.l27.m1.1.1.2.cmml">W</mi><mi mathsize="80%" id="alg1.l27.m1.1.1.3" xref="alg1.l27.m1.1.1.3.cmml">r</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.l27.m1.1b"><apply id="alg1.l27.m1.1.1.cmml" xref="alg1.l27.m1.1.1"><csymbol cd="ambiguous" id="alg1.l27.m1.1.1.1.cmml" xref="alg1.l27.m1.1.1">superscript</csymbol><ci id="alg1.l27.m1.1.1.2.cmml" xref="alg1.l27.m1.1.1.2">𝑊</ci><ci id="alg1.l27.m1.1.1.3.cmml" xref="alg1.l27.m1.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l27.m1.1c">W^{r}</annotation></semantics></math><span id="alg1.l27.3" class="ltx_text" style="font-size:80%;"> to </span><math id="alg1.l27.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="alg1.l27.m2.1a"><mi mathsize="80%" id="alg1.l27.m2.1.1" xref="alg1.l27.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="alg1.l27.m2.1b"><ci id="alg1.l27.m2.1.1.cmml" xref="alg1.l27.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l27.m2.1c">K</annotation></semantics></math><span id="alg1.l27.4" class="ltx_text" style="font-size:80%;"> clients
</span>
</div>
<div id="alg1.l28" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l28.1.1.1" class="ltx_text" style="font-size:80%;">28:</span></span><span id="alg1.l28.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg1.l28.3" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span><span id="alg1.l28.4" class="ltx_text" style="font-size:80%;"> each client </span><math id="alg1.l28.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.l28.m1.1a"><mi mathsize="80%" id="alg1.l28.m1.1.1" xref="alg1.l28.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.l28.m1.1b"><ci id="alg1.l28.m1.1.1.cmml" xref="alg1.l28.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l28.m1.1c">k</annotation></semantics></math><span id="alg1.l28.5" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l28.6" class="ltx_text ltx_font_bold" style="font-size:80%;">in parallel</span><span id="alg1.l28.7" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l28.8" class="ltx_text ltx_font_bold" style="font-size:80%;">do</span><span id="alg1.l28.9" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l29" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l29.1.1.1" class="ltx_text" style="font-size:80%;">29:</span></span><span id="alg1.l29.2" class="ltx_text" style="font-size:80%;">        </span><math id="alg1.l29.m1.1" class="ltx_Math" alttext="\hat{W}_{k}^{r}\leftarrow" display="inline"><semantics id="alg1.l29.m1.1a"><mrow id="alg1.l29.m1.1.1" xref="alg1.l29.m1.1.1.cmml"><msubsup id="alg1.l29.m1.1.1.2" xref="alg1.l29.m1.1.1.2.cmml"><mover accent="true" id="alg1.l29.m1.1.1.2.2.2" xref="alg1.l29.m1.1.1.2.2.2.cmml"><mi mathsize="80%" id="alg1.l29.m1.1.1.2.2.2.2" xref="alg1.l29.m1.1.1.2.2.2.2.cmml">W</mi><mo mathsize="80%" id="alg1.l29.m1.1.1.2.2.2.1" xref="alg1.l29.m1.1.1.2.2.2.1.cmml">^</mo></mover><mi mathsize="80%" id="alg1.l29.m1.1.1.2.2.3" xref="alg1.l29.m1.1.1.2.2.3.cmml">k</mi><mi mathsize="80%" id="alg1.l29.m1.1.1.2.3" xref="alg1.l29.m1.1.1.2.3.cmml">r</mi></msubsup><mo mathsize="80%" stretchy="false" id="alg1.l29.m1.1.1.1" xref="alg1.l29.m1.1.1.1.cmml">←</mo><mi id="alg1.l29.m1.1.1.3" xref="alg1.l29.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l29.m1.1b"><apply id="alg1.l29.m1.1.1.cmml" xref="alg1.l29.m1.1.1"><ci id="alg1.l29.m1.1.1.1.cmml" xref="alg1.l29.m1.1.1.1">←</ci><apply id="alg1.l29.m1.1.1.2.cmml" xref="alg1.l29.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l29.m1.1.1.2.1.cmml" xref="alg1.l29.m1.1.1.2">superscript</csymbol><apply id="alg1.l29.m1.1.1.2.2.cmml" xref="alg1.l29.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l29.m1.1.1.2.2.1.cmml" xref="alg1.l29.m1.1.1.2">subscript</csymbol><apply id="alg1.l29.m1.1.1.2.2.2.cmml" xref="alg1.l29.m1.1.1.2.2.2"><ci id="alg1.l29.m1.1.1.2.2.2.1.cmml" xref="alg1.l29.m1.1.1.2.2.2.1">^</ci><ci id="alg1.l29.m1.1.1.2.2.2.2.cmml" xref="alg1.l29.m1.1.1.2.2.2.2">𝑊</ci></apply><ci id="alg1.l29.m1.1.1.2.2.3.cmml" xref="alg1.l29.m1.1.1.2.2.3">𝑘</ci></apply><ci id="alg1.l29.m1.1.1.2.3.cmml" xref="alg1.l29.m1.1.1.2.3">𝑟</ci></apply><csymbol cd="latexml" id="alg1.l29.m1.1.1.3.cmml" xref="alg1.l29.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l29.m1.1c">\hat{W}_{k}^{r}\leftarrow</annotation></semantics></math><span id="alg1.l29.3" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l29.4" class="ltx_text ltx_font_italic" style="font-size:80%;">ClientLocalUpdate</span><span id="alg1.l29.5" class="ltx_text" style="font-size:80%;">(</span><math id="alg1.l29.m2.2" class="ltx_Math" alttext="k,W^{r}" display="inline"><semantics id="alg1.l29.m2.2a"><mrow id="alg1.l29.m2.2.2.1" xref="alg1.l29.m2.2.2.2.cmml"><mi mathsize="80%" id="alg1.l29.m2.1.1" xref="alg1.l29.m2.1.1.cmml">k</mi><mo mathsize="80%" id="alg1.l29.m2.2.2.1.2" xref="alg1.l29.m2.2.2.2.cmml">,</mo><msup id="alg1.l29.m2.2.2.1.1" xref="alg1.l29.m2.2.2.1.1.cmml"><mi mathsize="80%" id="alg1.l29.m2.2.2.1.1.2" xref="alg1.l29.m2.2.2.1.1.2.cmml">W</mi><mi mathsize="80%" id="alg1.l29.m2.2.2.1.1.3" xref="alg1.l29.m2.2.2.1.1.3.cmml">r</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.l29.m2.2b"><list id="alg1.l29.m2.2.2.2.cmml" xref="alg1.l29.m2.2.2.1"><ci id="alg1.l29.m2.1.1.cmml" xref="alg1.l29.m2.1.1">𝑘</ci><apply id="alg1.l29.m2.2.2.1.1.cmml" xref="alg1.l29.m2.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l29.m2.2.2.1.1.1.cmml" xref="alg1.l29.m2.2.2.1.1">superscript</csymbol><ci id="alg1.l29.m2.2.2.1.1.2.cmml" xref="alg1.l29.m2.2.2.1.1.2">𝑊</ci><ci id="alg1.l29.m2.2.2.1.1.3.cmml" xref="alg1.l29.m2.2.2.1.1.3">𝑟</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l29.m2.2c">k,W^{r}</annotation></semantics></math><span id="alg1.l29.6" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg1.l30" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l30.1.1.1" class="ltx_text" style="font-size:80%;">30:</span></span><span id="alg1.l30.2" class="ltx_text" style="font-size:80%;">        </span><math id="alg1.l30.m1.1" class="ltx_Math" alttext="\Delta W_{k}^{r}=W^{r}-\hat{W}_{k}^{r}" display="inline"><semantics id="alg1.l30.m1.1a"><mrow id="alg1.l30.m1.1.1" xref="alg1.l30.m1.1.1.cmml"><mrow id="alg1.l30.m1.1.1.2" xref="alg1.l30.m1.1.1.2.cmml"><mi mathsize="80%" mathvariant="normal" id="alg1.l30.m1.1.1.2.2" xref="alg1.l30.m1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.l30.m1.1.1.2.1" xref="alg1.l30.m1.1.1.2.1.cmml">​</mo><msubsup id="alg1.l30.m1.1.1.2.3" xref="alg1.l30.m1.1.1.2.3.cmml"><mi mathsize="80%" id="alg1.l30.m1.1.1.2.3.2.2" xref="alg1.l30.m1.1.1.2.3.2.2.cmml">W</mi><mi mathsize="80%" id="alg1.l30.m1.1.1.2.3.2.3" xref="alg1.l30.m1.1.1.2.3.2.3.cmml">k</mi><mi mathsize="80%" id="alg1.l30.m1.1.1.2.3.3" xref="alg1.l30.m1.1.1.2.3.3.cmml">r</mi></msubsup></mrow><mo mathsize="80%" id="alg1.l30.m1.1.1.1" xref="alg1.l30.m1.1.1.1.cmml">=</mo><mrow id="alg1.l30.m1.1.1.3" xref="alg1.l30.m1.1.1.3.cmml"><msup id="alg1.l30.m1.1.1.3.2" xref="alg1.l30.m1.1.1.3.2.cmml"><mi mathsize="80%" id="alg1.l30.m1.1.1.3.2.2" xref="alg1.l30.m1.1.1.3.2.2.cmml">W</mi><mi mathsize="80%" id="alg1.l30.m1.1.1.3.2.3" xref="alg1.l30.m1.1.1.3.2.3.cmml">r</mi></msup><mo mathsize="80%" id="alg1.l30.m1.1.1.3.1" xref="alg1.l30.m1.1.1.3.1.cmml">−</mo><msubsup id="alg1.l30.m1.1.1.3.3" xref="alg1.l30.m1.1.1.3.3.cmml"><mover accent="true" id="alg1.l30.m1.1.1.3.3.2.2" xref="alg1.l30.m1.1.1.3.3.2.2.cmml"><mi mathsize="80%" id="alg1.l30.m1.1.1.3.3.2.2.2" xref="alg1.l30.m1.1.1.3.3.2.2.2.cmml">W</mi><mo mathsize="80%" id="alg1.l30.m1.1.1.3.3.2.2.1" xref="alg1.l30.m1.1.1.3.3.2.2.1.cmml">^</mo></mover><mi mathsize="80%" id="alg1.l30.m1.1.1.3.3.2.3" xref="alg1.l30.m1.1.1.3.3.2.3.cmml">k</mi><mi mathsize="80%" id="alg1.l30.m1.1.1.3.3.3" xref="alg1.l30.m1.1.1.3.3.3.cmml">r</mi></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l30.m1.1b"><apply id="alg1.l30.m1.1.1.cmml" xref="alg1.l30.m1.1.1"><eq id="alg1.l30.m1.1.1.1.cmml" xref="alg1.l30.m1.1.1.1"></eq><apply id="alg1.l30.m1.1.1.2.cmml" xref="alg1.l30.m1.1.1.2"><times id="alg1.l30.m1.1.1.2.1.cmml" xref="alg1.l30.m1.1.1.2.1"></times><ci id="alg1.l30.m1.1.1.2.2.cmml" xref="alg1.l30.m1.1.1.2.2">Δ</ci><apply id="alg1.l30.m1.1.1.2.3.cmml" xref="alg1.l30.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg1.l30.m1.1.1.2.3.1.cmml" xref="alg1.l30.m1.1.1.2.3">superscript</csymbol><apply id="alg1.l30.m1.1.1.2.3.2.cmml" xref="alg1.l30.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg1.l30.m1.1.1.2.3.2.1.cmml" xref="alg1.l30.m1.1.1.2.3">subscript</csymbol><ci id="alg1.l30.m1.1.1.2.3.2.2.cmml" xref="alg1.l30.m1.1.1.2.3.2.2">𝑊</ci><ci id="alg1.l30.m1.1.1.2.3.2.3.cmml" xref="alg1.l30.m1.1.1.2.3.2.3">𝑘</ci></apply><ci id="alg1.l30.m1.1.1.2.3.3.cmml" xref="alg1.l30.m1.1.1.2.3.3">𝑟</ci></apply></apply><apply id="alg1.l30.m1.1.1.3.cmml" xref="alg1.l30.m1.1.1.3"><minus id="alg1.l30.m1.1.1.3.1.cmml" xref="alg1.l30.m1.1.1.3.1"></minus><apply id="alg1.l30.m1.1.1.3.2.cmml" xref="alg1.l30.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l30.m1.1.1.3.2.1.cmml" xref="alg1.l30.m1.1.1.3.2">superscript</csymbol><ci id="alg1.l30.m1.1.1.3.2.2.cmml" xref="alg1.l30.m1.1.1.3.2.2">𝑊</ci><ci id="alg1.l30.m1.1.1.3.2.3.cmml" xref="alg1.l30.m1.1.1.3.2.3">𝑟</ci></apply><apply id="alg1.l30.m1.1.1.3.3.cmml" xref="alg1.l30.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.l30.m1.1.1.3.3.1.cmml" xref="alg1.l30.m1.1.1.3.3">superscript</csymbol><apply id="alg1.l30.m1.1.1.3.3.2.cmml" xref="alg1.l30.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.l30.m1.1.1.3.3.2.1.cmml" xref="alg1.l30.m1.1.1.3.3">subscript</csymbol><apply id="alg1.l30.m1.1.1.3.3.2.2.cmml" xref="alg1.l30.m1.1.1.3.3.2.2"><ci id="alg1.l30.m1.1.1.3.3.2.2.1.cmml" xref="alg1.l30.m1.1.1.3.3.2.2.1">^</ci><ci id="alg1.l30.m1.1.1.3.3.2.2.2.cmml" xref="alg1.l30.m1.1.1.3.3.2.2.2">𝑊</ci></apply><ci id="alg1.l30.m1.1.1.3.3.2.3.cmml" xref="alg1.l30.m1.1.1.3.3.2.3">𝑘</ci></apply><ci id="alg1.l30.m1.1.1.3.3.3.cmml" xref="alg1.l30.m1.1.1.3.3.3">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l30.m1.1c">\Delta W_{k}^{r}=W^{r}-\hat{W}_{k}^{r}</annotation></semantics></math><span id="alg1.l30.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l31" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l31.1.1.1" class="ltx_text" style="font-size:80%;">31:</span></span><span id="alg1.l31.2" class="ltx_text" style="font-size:80%;">        Clients send </span><math id="alg1.l31.m1.1" class="ltx_Math" alttext="\Delta W_{k}^{r}" display="inline"><semantics id="alg1.l31.m1.1a"><mrow id="alg1.l31.m1.1.1" xref="alg1.l31.m1.1.1.cmml"><mi mathsize="80%" mathvariant="normal" id="alg1.l31.m1.1.1.2" xref="alg1.l31.m1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.l31.m1.1.1.1" xref="alg1.l31.m1.1.1.1.cmml">​</mo><msubsup id="alg1.l31.m1.1.1.3" xref="alg1.l31.m1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l31.m1.1.1.3.2.2" xref="alg1.l31.m1.1.1.3.2.2.cmml">W</mi><mi mathsize="80%" id="alg1.l31.m1.1.1.3.2.3" xref="alg1.l31.m1.1.1.3.2.3.cmml">k</mi><mi mathsize="80%" id="alg1.l31.m1.1.1.3.3" xref="alg1.l31.m1.1.1.3.3.cmml">r</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="alg1.l31.m1.1b"><apply id="alg1.l31.m1.1.1.cmml" xref="alg1.l31.m1.1.1"><times id="alg1.l31.m1.1.1.1.cmml" xref="alg1.l31.m1.1.1.1"></times><ci id="alg1.l31.m1.1.1.2.cmml" xref="alg1.l31.m1.1.1.2">Δ</ci><apply id="alg1.l31.m1.1.1.3.cmml" xref="alg1.l31.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l31.m1.1.1.3.1.cmml" xref="alg1.l31.m1.1.1.3">superscript</csymbol><apply id="alg1.l31.m1.1.1.3.2.cmml" xref="alg1.l31.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l31.m1.1.1.3.2.1.cmml" xref="alg1.l31.m1.1.1.3">subscript</csymbol><ci id="alg1.l31.m1.1.1.3.2.2.cmml" xref="alg1.l31.m1.1.1.3.2.2">𝑊</ci><ci id="alg1.l31.m1.1.1.3.2.3.cmml" xref="alg1.l31.m1.1.1.3.2.3">𝑘</ci></apply><ci id="alg1.l31.m1.1.1.3.3.cmml" xref="alg1.l31.m1.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l31.m1.1c">\Delta W_{k}^{r}</annotation></semantics></math><span id="alg1.l31.3" class="ltx_text" style="font-size:80%;"> to server
</span>
</div>
<div id="alg1.l32" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l32.1.1.1" class="ltx_text" style="font-size:80%;">32:</span></span><span id="alg1.l32.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg1.l32.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l32.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l32.5" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span>
</div>
<div id="alg1.l33" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l33.3.1.1" class="ltx_text" style="font-size:80%;">33:</span></span><span id="alg1.l33.4" class="ltx_text" style="font-size:80%;">    </span><math id="alg1.l33.m1.1" class="ltx_Math" alttext="\Delta w_{k}^{r}\leftarrow" display="inline"><semantics id="alg1.l33.m1.1a"><mrow id="alg1.l33.m1.1.1" xref="alg1.l33.m1.1.1.cmml"><mrow id="alg1.l33.m1.1.1.2" xref="alg1.l33.m1.1.1.2.cmml"><mi mathsize="80%" mathvariant="normal" id="alg1.l33.m1.1.1.2.2" xref="alg1.l33.m1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.l33.m1.1.1.2.1" xref="alg1.l33.m1.1.1.2.1.cmml">​</mo><msubsup id="alg1.l33.m1.1.1.2.3" xref="alg1.l33.m1.1.1.2.3.cmml"><mi mathsize="80%" id="alg1.l33.m1.1.1.2.3.2.2" xref="alg1.l33.m1.1.1.2.3.2.2.cmml">w</mi><mi mathsize="80%" id="alg1.l33.m1.1.1.2.3.2.3" xref="alg1.l33.m1.1.1.2.3.2.3.cmml">k</mi><mi mathsize="80%" id="alg1.l33.m1.1.1.2.3.3" xref="alg1.l33.m1.1.1.2.3.3.cmml">r</mi></msubsup></mrow><mo mathsize="80%" stretchy="false" id="alg1.l33.m1.1.1.1" xref="alg1.l33.m1.1.1.1.cmml">←</mo><mi id="alg1.l33.m1.1.1.3" xref="alg1.l33.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l33.m1.1b"><apply id="alg1.l33.m1.1.1.cmml" xref="alg1.l33.m1.1.1"><ci id="alg1.l33.m1.1.1.1.cmml" xref="alg1.l33.m1.1.1.1">←</ci><apply id="alg1.l33.m1.1.1.2.cmml" xref="alg1.l33.m1.1.1.2"><times id="alg1.l33.m1.1.1.2.1.cmml" xref="alg1.l33.m1.1.1.2.1"></times><ci id="alg1.l33.m1.1.1.2.2.cmml" xref="alg1.l33.m1.1.1.2.2">Δ</ci><apply id="alg1.l33.m1.1.1.2.3.cmml" xref="alg1.l33.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg1.l33.m1.1.1.2.3.1.cmml" xref="alg1.l33.m1.1.1.2.3">superscript</csymbol><apply id="alg1.l33.m1.1.1.2.3.2.cmml" xref="alg1.l33.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg1.l33.m1.1.1.2.3.2.1.cmml" xref="alg1.l33.m1.1.1.2.3">subscript</csymbol><ci id="alg1.l33.m1.1.1.2.3.2.2.cmml" xref="alg1.l33.m1.1.1.2.3.2.2">𝑤</ci><ci id="alg1.l33.m1.1.1.2.3.2.3.cmml" xref="alg1.l33.m1.1.1.2.3.2.3">𝑘</ci></apply><ci id="alg1.l33.m1.1.1.2.3.3.cmml" xref="alg1.l33.m1.1.1.2.3.3">𝑟</ci></apply></apply><csymbol cd="latexml" id="alg1.l33.m1.1.1.3.cmml" xref="alg1.l33.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l33.m1.1c">\Delta w_{k}^{r}\leftarrow</annotation></semantics></math><span id="alg1.l33.5" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l33.1" class="ltx_text ltx_font_italic" style="font-size:80%;">Expand<math id="alg1.l33.1.m1.2" class="ltx_Math" alttext="(\Delta W_{k}^{r},M)" display="inline"><semantics id="alg1.l33.1.m1.2a"><mrow id="alg1.l33.1.m1.2.2.1" xref="alg1.l33.1.m1.2.2.2.cmml"><mo stretchy="false" id="alg1.l33.1.m1.2.2.1.2" xref="alg1.l33.1.m1.2.2.2.cmml">(</mo><mrow id="alg1.l33.1.m1.2.2.1.1" xref="alg1.l33.1.m1.2.2.1.1.cmml"><mi mathvariant="normal" id="alg1.l33.1.m1.2.2.1.1.2" xref="alg1.l33.1.m1.2.2.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.l33.1.m1.2.2.1.1.1" xref="alg1.l33.1.m1.2.2.1.1.1.cmml">​</mo><msubsup id="alg1.l33.1.m1.2.2.1.1.3" xref="alg1.l33.1.m1.2.2.1.1.3.cmml"><mi id="alg1.l33.1.m1.2.2.1.1.3.2.2" xref="alg1.l33.1.m1.2.2.1.1.3.2.2.cmml">W</mi><mi id="alg1.l33.1.m1.2.2.1.1.3.2.3" xref="alg1.l33.1.m1.2.2.1.1.3.2.3.cmml">k</mi><mi id="alg1.l33.1.m1.2.2.1.1.3.3" xref="alg1.l33.1.m1.2.2.1.1.3.3.cmml">r</mi></msubsup></mrow><mo id="alg1.l33.1.m1.2.2.1.3" xref="alg1.l33.1.m1.2.2.2.cmml">,</mo><mi id="alg1.l33.1.m1.1.1" xref="alg1.l33.1.m1.1.1.cmml">M</mi><mo stretchy="false" id="alg1.l33.1.m1.2.2.1.4" xref="alg1.l33.1.m1.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l33.1.m1.2b"><interval closure="open" id="alg1.l33.1.m1.2.2.2.cmml" xref="alg1.l33.1.m1.2.2.1"><apply id="alg1.l33.1.m1.2.2.1.1.cmml" xref="alg1.l33.1.m1.2.2.1.1"><times id="alg1.l33.1.m1.2.2.1.1.1.cmml" xref="alg1.l33.1.m1.2.2.1.1.1"></times><ci id="alg1.l33.1.m1.2.2.1.1.2.cmml" xref="alg1.l33.1.m1.2.2.1.1.2">Δ</ci><apply id="alg1.l33.1.m1.2.2.1.1.3.cmml" xref="alg1.l33.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="alg1.l33.1.m1.2.2.1.1.3.1.cmml" xref="alg1.l33.1.m1.2.2.1.1.3">superscript</csymbol><apply id="alg1.l33.1.m1.2.2.1.1.3.2.cmml" xref="alg1.l33.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="alg1.l33.1.m1.2.2.1.1.3.2.1.cmml" xref="alg1.l33.1.m1.2.2.1.1.3">subscript</csymbol><ci id="alg1.l33.1.m1.2.2.1.1.3.2.2.cmml" xref="alg1.l33.1.m1.2.2.1.1.3.2.2">𝑊</ci><ci id="alg1.l33.1.m1.2.2.1.1.3.2.3.cmml" xref="alg1.l33.1.m1.2.2.1.1.3.2.3">𝑘</ci></apply><ci id="alg1.l33.1.m1.2.2.1.1.3.3.cmml" xref="alg1.l33.1.m1.2.2.1.1.3.3">𝑟</ci></apply></apply><ci id="alg1.l33.1.m1.1.1.cmml" xref="alg1.l33.1.m1.1.1">𝑀</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.l33.1.m1.2c">(\Delta W_{k}^{r},M)</annotation></semantics></math></span><span id="alg1.l33.6" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l33.2" class="ltx_text" style="font-size:80%;float:right;"><math id="alg1.l33.2.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l33.2.m1.1a"><mo id="alg1.l33.2.m1.1.1" xref="alg1.l33.2.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l33.2.m1.1b"><ci id="alg1.l33.2.m1.1.1.cmml" xref="alg1.l33.2.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l33.2.m1.1c">\triangleright</annotation></semantics></math> Map reduced updates
</span>
</div>
<div id="alg1.l34" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l34.2.1.1" class="ltx_text" style="font-size:80%;">34:</span></span><span id="alg1.l34.3" class="ltx_text" style="font-size:80%;">    </span><math id="alg1.l34.m1.1" class="ltx_Math" alttext="\bar{w}^{r}=\sum_{k=1}^{K}\frac{n_{k}}{n}\Delta w_{k}^{r}" display="inline"><semantics id="alg1.l34.m1.1a"><mrow id="alg1.l34.m1.1.1" xref="alg1.l34.m1.1.1.cmml"><msup id="alg1.l34.m1.1.1.2" xref="alg1.l34.m1.1.1.2.cmml"><mover accent="true" id="alg1.l34.m1.1.1.2.2" xref="alg1.l34.m1.1.1.2.2.cmml"><mi mathsize="80%" id="alg1.l34.m1.1.1.2.2.2" xref="alg1.l34.m1.1.1.2.2.2.cmml">w</mi><mo mathsize="80%" id="alg1.l34.m1.1.1.2.2.1" xref="alg1.l34.m1.1.1.2.2.1.cmml">¯</mo></mover><mi mathsize="80%" id="alg1.l34.m1.1.1.2.3" xref="alg1.l34.m1.1.1.2.3.cmml">r</mi></msup><mo mathsize="80%" rspace="0.111em" id="alg1.l34.m1.1.1.1" xref="alg1.l34.m1.1.1.1.cmml">=</mo><mrow id="alg1.l34.m1.1.1.3" xref="alg1.l34.m1.1.1.3.cmml"><msubsup id="alg1.l34.m1.1.1.3.1" xref="alg1.l34.m1.1.1.3.1.cmml"><mo maxsize="80%" minsize="80%" stretchy="true" id="alg1.l34.m1.1.1.3.1.2.2" xref="alg1.l34.m1.1.1.3.1.2.2.cmml">∑</mo><mrow id="alg1.l34.m1.1.1.3.1.2.3" xref="alg1.l34.m1.1.1.3.1.2.3.cmml"><mi mathsize="80%" id="alg1.l34.m1.1.1.3.1.2.3.2" xref="alg1.l34.m1.1.1.3.1.2.3.2.cmml">k</mi><mo mathsize="80%" id="alg1.l34.m1.1.1.3.1.2.3.1" xref="alg1.l34.m1.1.1.3.1.2.3.1.cmml">=</mo><mn mathsize="80%" id="alg1.l34.m1.1.1.3.1.2.3.3" xref="alg1.l34.m1.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi mathsize="80%" id="alg1.l34.m1.1.1.3.1.3" xref="alg1.l34.m1.1.1.3.1.3.cmml">K</mi></msubsup><mrow id="alg1.l34.m1.1.1.3.2" xref="alg1.l34.m1.1.1.3.2.cmml"><mfrac id="alg1.l34.m1.1.1.3.2.2" xref="alg1.l34.m1.1.1.3.2.2.cmml"><msub id="alg1.l34.m1.1.1.3.2.2.2" xref="alg1.l34.m1.1.1.3.2.2.2.cmml"><mi mathsize="80%" id="alg1.l34.m1.1.1.3.2.2.2.2" xref="alg1.l34.m1.1.1.3.2.2.2.2.cmml">n</mi><mi mathsize="80%" id="alg1.l34.m1.1.1.3.2.2.2.3" xref="alg1.l34.m1.1.1.3.2.2.2.3.cmml">k</mi></msub><mi mathsize="80%" id="alg1.l34.m1.1.1.3.2.2.3" xref="alg1.l34.m1.1.1.3.2.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="alg1.l34.m1.1.1.3.2.1" xref="alg1.l34.m1.1.1.3.2.1.cmml">​</mo><mi mathsize="80%" mathvariant="normal" id="alg1.l34.m1.1.1.3.2.3" xref="alg1.l34.m1.1.1.3.2.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.l34.m1.1.1.3.2.1a" xref="alg1.l34.m1.1.1.3.2.1.cmml">​</mo><msubsup id="alg1.l34.m1.1.1.3.2.4" xref="alg1.l34.m1.1.1.3.2.4.cmml"><mi mathsize="80%" id="alg1.l34.m1.1.1.3.2.4.2.2" xref="alg1.l34.m1.1.1.3.2.4.2.2.cmml">w</mi><mi mathsize="80%" id="alg1.l34.m1.1.1.3.2.4.2.3" xref="alg1.l34.m1.1.1.3.2.4.2.3.cmml">k</mi><mi mathsize="80%" id="alg1.l34.m1.1.1.3.2.4.3" xref="alg1.l34.m1.1.1.3.2.4.3.cmml">r</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l34.m1.1b"><apply id="alg1.l34.m1.1.1.cmml" xref="alg1.l34.m1.1.1"><eq id="alg1.l34.m1.1.1.1.cmml" xref="alg1.l34.m1.1.1.1"></eq><apply id="alg1.l34.m1.1.1.2.cmml" xref="alg1.l34.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l34.m1.1.1.2.1.cmml" xref="alg1.l34.m1.1.1.2">superscript</csymbol><apply id="alg1.l34.m1.1.1.2.2.cmml" xref="alg1.l34.m1.1.1.2.2"><ci id="alg1.l34.m1.1.1.2.2.1.cmml" xref="alg1.l34.m1.1.1.2.2.1">¯</ci><ci id="alg1.l34.m1.1.1.2.2.2.cmml" xref="alg1.l34.m1.1.1.2.2.2">𝑤</ci></apply><ci id="alg1.l34.m1.1.1.2.3.cmml" xref="alg1.l34.m1.1.1.2.3">𝑟</ci></apply><apply id="alg1.l34.m1.1.1.3.cmml" xref="alg1.l34.m1.1.1.3"><apply id="alg1.l34.m1.1.1.3.1.cmml" xref="alg1.l34.m1.1.1.3.1"><csymbol cd="ambiguous" id="alg1.l34.m1.1.1.3.1.1.cmml" xref="alg1.l34.m1.1.1.3.1">superscript</csymbol><apply id="alg1.l34.m1.1.1.3.1.2.cmml" xref="alg1.l34.m1.1.1.3.1"><csymbol cd="ambiguous" id="alg1.l34.m1.1.1.3.1.2.1.cmml" xref="alg1.l34.m1.1.1.3.1">subscript</csymbol><sum id="alg1.l34.m1.1.1.3.1.2.2.cmml" xref="alg1.l34.m1.1.1.3.1.2.2"></sum><apply id="alg1.l34.m1.1.1.3.1.2.3.cmml" xref="alg1.l34.m1.1.1.3.1.2.3"><eq id="alg1.l34.m1.1.1.3.1.2.3.1.cmml" xref="alg1.l34.m1.1.1.3.1.2.3.1"></eq><ci id="alg1.l34.m1.1.1.3.1.2.3.2.cmml" xref="alg1.l34.m1.1.1.3.1.2.3.2">𝑘</ci><cn type="integer" id="alg1.l34.m1.1.1.3.1.2.3.3.cmml" xref="alg1.l34.m1.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="alg1.l34.m1.1.1.3.1.3.cmml" xref="alg1.l34.m1.1.1.3.1.3">𝐾</ci></apply><apply id="alg1.l34.m1.1.1.3.2.cmml" xref="alg1.l34.m1.1.1.3.2"><times id="alg1.l34.m1.1.1.3.2.1.cmml" xref="alg1.l34.m1.1.1.3.2.1"></times><apply id="alg1.l34.m1.1.1.3.2.2.cmml" xref="alg1.l34.m1.1.1.3.2.2"><divide id="alg1.l34.m1.1.1.3.2.2.1.cmml" xref="alg1.l34.m1.1.1.3.2.2"></divide><apply id="alg1.l34.m1.1.1.3.2.2.2.cmml" xref="alg1.l34.m1.1.1.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l34.m1.1.1.3.2.2.2.1.cmml" xref="alg1.l34.m1.1.1.3.2.2.2">subscript</csymbol><ci id="alg1.l34.m1.1.1.3.2.2.2.2.cmml" xref="alg1.l34.m1.1.1.3.2.2.2.2">𝑛</ci><ci id="alg1.l34.m1.1.1.3.2.2.2.3.cmml" xref="alg1.l34.m1.1.1.3.2.2.2.3">𝑘</ci></apply><ci id="alg1.l34.m1.1.1.3.2.2.3.cmml" xref="alg1.l34.m1.1.1.3.2.2.3">𝑛</ci></apply><ci id="alg1.l34.m1.1.1.3.2.3.cmml" xref="alg1.l34.m1.1.1.3.2.3">Δ</ci><apply id="alg1.l34.m1.1.1.3.2.4.cmml" xref="alg1.l34.m1.1.1.3.2.4"><csymbol cd="ambiguous" id="alg1.l34.m1.1.1.3.2.4.1.cmml" xref="alg1.l34.m1.1.1.3.2.4">superscript</csymbol><apply id="alg1.l34.m1.1.1.3.2.4.2.cmml" xref="alg1.l34.m1.1.1.3.2.4"><csymbol cd="ambiguous" id="alg1.l34.m1.1.1.3.2.4.2.1.cmml" xref="alg1.l34.m1.1.1.3.2.4">subscript</csymbol><ci id="alg1.l34.m1.1.1.3.2.4.2.2.cmml" xref="alg1.l34.m1.1.1.3.2.4.2.2">𝑤</ci><ci id="alg1.l34.m1.1.1.3.2.4.2.3.cmml" xref="alg1.l34.m1.1.1.3.2.4.2.3">𝑘</ci></apply><ci id="alg1.l34.m1.1.1.3.2.4.3.cmml" xref="alg1.l34.m1.1.1.3.2.4.3">𝑟</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l34.m1.1c">\bar{w}^{r}=\sum_{k=1}^{K}\frac{n_{k}}{n}\Delta w_{k}^{r}</annotation></semantics></math><span id="alg1.l34.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l34.1" class="ltx_text" style="font-size:80%;float:right;"><math id="alg1.l34.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l34.1.m1.1a"><mo id="alg1.l34.1.m1.1.1" xref="alg1.l34.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l34.1.m1.1b"><ci id="alg1.l34.1.m1.1.1.cmml" xref="alg1.l34.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l34.1.m1.1c">\triangleright</annotation></semantics></math> Federated Averaging <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>
</span>
</div>
<div id="alg1.l35" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l35.1.1.1" class="ltx_text" style="font-size:80%;">35:</span></span><span id="alg1.l35.2" class="ltx_text" style="font-size:80%;">    </span><math id="alg1.l35.m1.1" class="ltx_Math" alttext="w^{r+1}=w^{r}-\eta\bar{w}^{r}" display="inline"><semantics id="alg1.l35.m1.1a"><mrow id="alg1.l35.m1.1.1" xref="alg1.l35.m1.1.1.cmml"><msup id="alg1.l35.m1.1.1.2" xref="alg1.l35.m1.1.1.2.cmml"><mi mathsize="80%" id="alg1.l35.m1.1.1.2.2" xref="alg1.l35.m1.1.1.2.2.cmml">w</mi><mrow id="alg1.l35.m1.1.1.2.3" xref="alg1.l35.m1.1.1.2.3.cmml"><mi mathsize="80%" id="alg1.l35.m1.1.1.2.3.2" xref="alg1.l35.m1.1.1.2.3.2.cmml">r</mi><mo mathsize="80%" id="alg1.l35.m1.1.1.2.3.1" xref="alg1.l35.m1.1.1.2.3.1.cmml">+</mo><mn mathsize="80%" id="alg1.l35.m1.1.1.2.3.3" xref="alg1.l35.m1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo mathsize="80%" id="alg1.l35.m1.1.1.1" xref="alg1.l35.m1.1.1.1.cmml">=</mo><mrow id="alg1.l35.m1.1.1.3" xref="alg1.l35.m1.1.1.3.cmml"><msup id="alg1.l35.m1.1.1.3.2" xref="alg1.l35.m1.1.1.3.2.cmml"><mi mathsize="80%" id="alg1.l35.m1.1.1.3.2.2" xref="alg1.l35.m1.1.1.3.2.2.cmml">w</mi><mi mathsize="80%" id="alg1.l35.m1.1.1.3.2.3" xref="alg1.l35.m1.1.1.3.2.3.cmml">r</mi></msup><mo mathsize="80%" id="alg1.l35.m1.1.1.3.1" xref="alg1.l35.m1.1.1.3.1.cmml">−</mo><mrow id="alg1.l35.m1.1.1.3.3" xref="alg1.l35.m1.1.1.3.3.cmml"><mi mathsize="80%" id="alg1.l35.m1.1.1.3.3.2" xref="alg1.l35.m1.1.1.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="alg1.l35.m1.1.1.3.3.1" xref="alg1.l35.m1.1.1.3.3.1.cmml">​</mo><msup id="alg1.l35.m1.1.1.3.3.3" xref="alg1.l35.m1.1.1.3.3.3.cmml"><mover accent="true" id="alg1.l35.m1.1.1.3.3.3.2" xref="alg1.l35.m1.1.1.3.3.3.2.cmml"><mi mathsize="80%" id="alg1.l35.m1.1.1.3.3.3.2.2" xref="alg1.l35.m1.1.1.3.3.3.2.2.cmml">w</mi><mo mathsize="80%" id="alg1.l35.m1.1.1.3.3.3.2.1" xref="alg1.l35.m1.1.1.3.3.3.2.1.cmml">¯</mo></mover><mi mathsize="80%" id="alg1.l35.m1.1.1.3.3.3.3" xref="alg1.l35.m1.1.1.3.3.3.3.cmml">r</mi></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l35.m1.1b"><apply id="alg1.l35.m1.1.1.cmml" xref="alg1.l35.m1.1.1"><eq id="alg1.l35.m1.1.1.1.cmml" xref="alg1.l35.m1.1.1.1"></eq><apply id="alg1.l35.m1.1.1.2.cmml" xref="alg1.l35.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l35.m1.1.1.2.1.cmml" xref="alg1.l35.m1.1.1.2">superscript</csymbol><ci id="alg1.l35.m1.1.1.2.2.cmml" xref="alg1.l35.m1.1.1.2.2">𝑤</ci><apply id="alg1.l35.m1.1.1.2.3.cmml" xref="alg1.l35.m1.1.1.2.3"><plus id="alg1.l35.m1.1.1.2.3.1.cmml" xref="alg1.l35.m1.1.1.2.3.1"></plus><ci id="alg1.l35.m1.1.1.2.3.2.cmml" xref="alg1.l35.m1.1.1.2.3.2">𝑟</ci><cn type="integer" id="alg1.l35.m1.1.1.2.3.3.cmml" xref="alg1.l35.m1.1.1.2.3.3">1</cn></apply></apply><apply id="alg1.l35.m1.1.1.3.cmml" xref="alg1.l35.m1.1.1.3"><minus id="alg1.l35.m1.1.1.3.1.cmml" xref="alg1.l35.m1.1.1.3.1"></minus><apply id="alg1.l35.m1.1.1.3.2.cmml" xref="alg1.l35.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l35.m1.1.1.3.2.1.cmml" xref="alg1.l35.m1.1.1.3.2">superscript</csymbol><ci id="alg1.l35.m1.1.1.3.2.2.cmml" xref="alg1.l35.m1.1.1.3.2.2">𝑤</ci><ci id="alg1.l35.m1.1.1.3.2.3.cmml" xref="alg1.l35.m1.1.1.3.2.3">𝑟</ci></apply><apply id="alg1.l35.m1.1.1.3.3.cmml" xref="alg1.l35.m1.1.1.3.3"><times id="alg1.l35.m1.1.1.3.3.1.cmml" xref="alg1.l35.m1.1.1.3.3.1"></times><ci id="alg1.l35.m1.1.1.3.3.2.cmml" xref="alg1.l35.m1.1.1.3.3.2">𝜂</ci><apply id="alg1.l35.m1.1.1.3.3.3.cmml" xref="alg1.l35.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="alg1.l35.m1.1.1.3.3.3.1.cmml" xref="alg1.l35.m1.1.1.3.3.3">superscript</csymbol><apply id="alg1.l35.m1.1.1.3.3.3.2.cmml" xref="alg1.l35.m1.1.1.3.3.3.2"><ci id="alg1.l35.m1.1.1.3.3.3.2.1.cmml" xref="alg1.l35.m1.1.1.3.3.3.2.1">¯</ci><ci id="alg1.l35.m1.1.1.3.3.3.2.2.cmml" xref="alg1.l35.m1.1.1.3.3.3.2.2">𝑤</ci></apply><ci id="alg1.l35.m1.1.1.3.3.3.3.cmml" xref="alg1.l35.m1.1.1.3.3.3.3">𝑟</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l35.m1.1c">w^{r+1}=w^{r}-\eta\bar{w}^{r}</annotation></semantics></math><span id="alg1.l35.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l36" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l36.1.1.1" class="ltx_text" style="font-size:80%;">36:</span></span><span id="alg1.l36.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg1.l36.3" class="ltx_text ltx_font_bold" style="font-size:80%;">return</span><span id="alg1.l36.4" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l36.m1.1" class="ltx_Math" alttext="w^{r+1}" display="inline"><semantics id="alg1.l36.m1.1a"><msup id="alg1.l36.m1.1.1" xref="alg1.l36.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l36.m1.1.1.2" xref="alg1.l36.m1.1.1.2.cmml">w</mi><mrow id="alg1.l36.m1.1.1.3" xref="alg1.l36.m1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l36.m1.1.1.3.2" xref="alg1.l36.m1.1.1.3.2.cmml">r</mi><mo mathsize="80%" id="alg1.l36.m1.1.1.3.1" xref="alg1.l36.m1.1.1.3.1.cmml">+</mo><mn mathsize="80%" id="alg1.l36.m1.1.1.3.3" xref="alg1.l36.m1.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="alg1.l36.m1.1b"><apply id="alg1.l36.m1.1.1.cmml" xref="alg1.l36.m1.1.1"><csymbol cd="ambiguous" id="alg1.l36.m1.1.1.1.cmml" xref="alg1.l36.m1.1.1">superscript</csymbol><ci id="alg1.l36.m1.1.1.2.cmml" xref="alg1.l36.m1.1.1.2">𝑤</ci><apply id="alg1.l36.m1.1.1.3.cmml" xref="alg1.l36.m1.1.1.3"><plus id="alg1.l36.m1.1.1.3.1.cmml" xref="alg1.l36.m1.1.1.3.1"></plus><ci id="alg1.l36.m1.1.1.3.2.cmml" xref="alg1.l36.m1.1.1.3.2">𝑟</ci><cn type="integer" id="alg1.l36.m1.1.1.3.3.cmml" xref="alg1.l36.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l36.m1.1c">w^{r+1}</annotation></semantics></math><span id="alg1.l36.5" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l37" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l37.1.1.1" class="ltx_text" style="font-size:80%;">37:</span></span><span id="alg1.l37.2" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l37.3" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l37.4" class="ltx_text ltx_font_bold" style="font-size:80%;">function</span>
</div>
</div>
</figure>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section" style="font-size:90%;">
<span class="ltx_tag ltx_tag_section">2 </span>Federated Pruning</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p"><span id="S2.p1.1.1" class="ltx_text" style="font-size:90%;">Figure </span><a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">1</span></a><span id="S2.p1.1.2" class="ltx_text" style="font-size:90%;"> describes a federated round with the proposed Federated Pruning. The round starts from the generation of a set of variable masks on the server. The masks contain binary values signifying whether the parameters at the corresponding locations should be pruned (value 0) or not (value 1). The number of pruned values is determined by a given sparsity level, which is the ratio of pruned parameters. The server model is pruned based on the masks and sent to clients. Each client then trains this reduced model on its local data and returns the trained model. The server model finally aggregates the trained models from all the clients and moves on to the next federated round. Compared with standard federated learning, federated pruning prunes the model at the beginning of each round, and the pruned models are the ones trained on clients and transported.</span></p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.5" class="ltx_p"><span id="S2.p2.5.1" class="ltx_text" style="font-size:90%;">Across federated rounds, we define three phases, (1) pruning, (2) refining and (3) fine-tuning, as shown in Figure </span><a href="#S2.F2" title="Figure 2 ‣ 2.2 Pruning methods ‣ 2 Federated Pruning ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">2</span></a><span id="S2.p2.5.2" class="ltx_text" style="font-size:90%;">. In the first phase (pruning), the sparsity level ramps up from </span><math id="S2.p2.1.m1.1" class="ltx_Math" alttext="0" display="inline"><semantics id="S2.p2.1.m1.1a"><mn mathsize="90%" id="S2.p2.1.m1.1.1" xref="S2.p2.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.1b"><cn type="integer" id="S2.p2.1.m1.1.1.cmml" xref="S2.p2.1.m1.1.1">0</cn></annotation-xml></semantics></math><span id="S2.p2.5.3" class="ltx_text" style="font-size:90%;"> to the target sparsity level </span><math id="S2.p2.2.m2.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S2.p2.2.m2.1a"><mi mathsize="90%" id="S2.p2.2.m2.1.1" xref="S2.p2.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.p2.2.m2.1b"><ci id="S2.p2.2.m2.1.1.cmml" xref="S2.p2.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.2.m2.1c">S</annotation></semantics></math><span id="S2.p2.5.4" class="ltx_text" style="font-size:90%;">. In the second phase (refining), the sparsity level is fixed at </span><math id="S2.p2.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S2.p2.3.m3.1a"><mi mathsize="90%" id="S2.p2.3.m3.1.1" xref="S2.p2.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.p2.3.m3.1b"><ci id="S2.p2.3.m3.1.1.cmml" xref="S2.p2.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.3.m3.1c">S</annotation></semantics></math><span id="S2.p2.5.5" class="ltx_text" style="font-size:90%;">, and the focus is refining the masks. Please note that there is a chance that a value in a mask flips from the </span><math id="S2.p2.4.m4.1" class="ltx_Math" alttext="0" display="inline"><semantics id="S2.p2.4.m4.1a"><mn mathsize="90%" id="S2.p2.4.m4.1.1" xref="S2.p2.4.m4.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S2.p2.4.m4.1b"><cn type="integer" id="S2.p2.4.m4.1.1.cmml" xref="S2.p2.4.m4.1.1">0</cn></annotation-xml></semantics></math><span id="S2.p2.5.6" class="ltx_text" style="font-size:90%;"> to </span><math id="S2.p2.5.m5.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S2.p2.5.m5.1a"><mn mathsize="90%" id="S2.p2.5.m5.1.1" xref="S2.p2.5.m5.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S2.p2.5.m5.1b"><cn type="integer" id="S2.p2.5.m5.1.1.cmml" xref="S2.p2.5.m5.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.5.m5.1c">1</annotation></semantics></math><span id="S2.p2.5.7" class="ltx_text" style="font-size:90%;">, which means a pruned parameter revives. We show in Section </span><a href="#S3.SS4" title="3.4 With and without mask refinement ‣ 3 Experiment Results ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">3.4</span></a><span id="S2.p2.5.8" class="ltx_text" style="font-size:90%;"> that this phase is important for improving model quality. In the last phase (fine-tuning), the sparsity and the masks are fixed, and the focus is fine-tuning the remaining parameters. This phase ends when the pruned model converges.</span></p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.15" class="ltx_p"><span id="S2.p3.15.3" class="ltx_text" style="font-size:90%;">We summarize the details of our method in Algorithm </span><a href="#alg1" title="Algorithm 1 ‣ 1 Introduction ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">1</span></a><span id="S2.p3.15.4" class="ltx_text" style="font-size:90%;">. We consider one cloud server and </span><math id="S2.p3.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S2.p3.1.m1.1a"><mi mathsize="90%" id="S2.p3.1.m1.1.1" xref="S2.p3.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.p3.1.m1.1b"><ci id="S2.p3.1.m1.1.1.cmml" xref="S2.p3.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.1.m1.1c">K</annotation></semantics></math><span id="S2.p3.15.5" class="ltx_text" style="font-size:90%;"> edge devices (referred to as clients) with their local speech data. Let </span><math id="S2.p3.2.m2.1" class="ltx_Math" alttext="w" display="inline"><semantics id="S2.p3.2.m2.1a"><mi mathsize="90%" id="S2.p3.2.m2.1.1" xref="S2.p3.2.m2.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S2.p3.2.m2.1b"><ci id="S2.p3.2.m2.1.1.cmml" xref="S2.p3.2.m2.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.2.m2.1c">w</annotation></semantics></math><span id="S2.p3.15.6" class="ltx_text" style="font-size:90%;"> be the parameters of the full ASR model on the server side and </span><math id="S2.p3.3.m3.4" class="ltx_Math" alttext="\{w_{1},w_{2},...,w_{k}\}" display="inline"><semantics id="S2.p3.3.m3.4a"><mrow id="S2.p3.3.m3.4.4.3" xref="S2.p3.3.m3.4.4.4.cmml"><mo maxsize="90%" minsize="90%" id="S2.p3.3.m3.4.4.3.4" xref="S2.p3.3.m3.4.4.4.cmml">{</mo><msub id="S2.p3.3.m3.2.2.1.1" xref="S2.p3.3.m3.2.2.1.1.cmml"><mi mathsize="90%" id="S2.p3.3.m3.2.2.1.1.2" xref="S2.p3.3.m3.2.2.1.1.2.cmml">w</mi><mn mathsize="90%" id="S2.p3.3.m3.2.2.1.1.3" xref="S2.p3.3.m3.2.2.1.1.3.cmml">1</mn></msub><mo mathsize="90%" id="S2.p3.3.m3.4.4.3.5" xref="S2.p3.3.m3.4.4.4.cmml">,</mo><msub id="S2.p3.3.m3.3.3.2.2" xref="S2.p3.3.m3.3.3.2.2.cmml"><mi mathsize="90%" id="S2.p3.3.m3.3.3.2.2.2" xref="S2.p3.3.m3.3.3.2.2.2.cmml">w</mi><mn mathsize="90%" id="S2.p3.3.m3.3.3.2.2.3" xref="S2.p3.3.m3.3.3.2.2.3.cmml">2</mn></msub><mo mathsize="90%" id="S2.p3.3.m3.4.4.3.6" xref="S2.p3.3.m3.4.4.4.cmml">,</mo><mi mathsize="90%" mathvariant="normal" id="S2.p3.3.m3.1.1" xref="S2.p3.3.m3.1.1.cmml">…</mi><mo mathsize="90%" id="S2.p3.3.m3.4.4.3.7" xref="S2.p3.3.m3.4.4.4.cmml">,</mo><msub id="S2.p3.3.m3.4.4.3.3" xref="S2.p3.3.m3.4.4.3.3.cmml"><mi mathsize="90%" id="S2.p3.3.m3.4.4.3.3.2" xref="S2.p3.3.m3.4.4.3.3.2.cmml">w</mi><mi mathsize="90%" id="S2.p3.3.m3.4.4.3.3.3" xref="S2.p3.3.m3.4.4.3.3.3.cmml">k</mi></msub><mo maxsize="90%" minsize="90%" id="S2.p3.3.m3.4.4.3.8" xref="S2.p3.3.m3.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.3.m3.4b"><set id="S2.p3.3.m3.4.4.4.cmml" xref="S2.p3.3.m3.4.4.3"><apply id="S2.p3.3.m3.2.2.1.1.cmml" xref="S2.p3.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="S2.p3.3.m3.2.2.1.1.1.cmml" xref="S2.p3.3.m3.2.2.1.1">subscript</csymbol><ci id="S2.p3.3.m3.2.2.1.1.2.cmml" xref="S2.p3.3.m3.2.2.1.1.2">𝑤</ci><cn type="integer" id="S2.p3.3.m3.2.2.1.1.3.cmml" xref="S2.p3.3.m3.2.2.1.1.3">1</cn></apply><apply id="S2.p3.3.m3.3.3.2.2.cmml" xref="S2.p3.3.m3.3.3.2.2"><csymbol cd="ambiguous" id="S2.p3.3.m3.3.3.2.2.1.cmml" xref="S2.p3.3.m3.3.3.2.2">subscript</csymbol><ci id="S2.p3.3.m3.3.3.2.2.2.cmml" xref="S2.p3.3.m3.3.3.2.2.2">𝑤</ci><cn type="integer" id="S2.p3.3.m3.3.3.2.2.3.cmml" xref="S2.p3.3.m3.3.3.2.2.3">2</cn></apply><ci id="S2.p3.3.m3.1.1.cmml" xref="S2.p3.3.m3.1.1">…</ci><apply id="S2.p3.3.m3.4.4.3.3.cmml" xref="S2.p3.3.m3.4.4.3.3"><csymbol cd="ambiguous" id="S2.p3.3.m3.4.4.3.3.1.cmml" xref="S2.p3.3.m3.4.4.3.3">subscript</csymbol><ci id="S2.p3.3.m3.4.4.3.3.2.cmml" xref="S2.p3.3.m3.4.4.3.3.2">𝑤</ci><ci id="S2.p3.3.m3.4.4.3.3.3.cmml" xref="S2.p3.3.m3.4.4.3.3.3">𝑘</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.3.m3.4c">\{w_{1},w_{2},...,w_{k}\}</annotation></semantics></math><span id="S2.p3.15.7" class="ltx_text" style="font-size:90%;"> be the </span><math id="S2.p3.4.m4.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S2.p3.4.m4.1a"><mi mathsize="90%" id="S2.p3.4.m4.1.1" xref="S2.p3.4.m4.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.p3.4.m4.1b"><ci id="S2.p3.4.m4.1.1.cmml" xref="S2.p3.4.m4.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.4.m4.1c">K</annotation></semantics></math><span id="S2.p3.15.8" class="ltx_text" style="font-size:90%;"> reduced models to be trained on clients. FP starts with pre-trained ASR model </span><math id="S2.p3.5.m5.1" class="ltx_Math" alttext="w^{0}" display="inline"><semantics id="S2.p3.5.m5.1a"><msup id="S2.p3.5.m5.1.1" xref="S2.p3.5.m5.1.1.cmml"><mi mathsize="90%" id="S2.p3.5.m5.1.1.2" xref="S2.p3.5.m5.1.1.2.cmml">w</mi><mn mathsize="90%" id="S2.p3.5.m5.1.1.3" xref="S2.p3.5.m5.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="S2.p3.5.m5.1b"><apply id="S2.p3.5.m5.1.1.cmml" xref="S2.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S2.p3.5.m5.1.1.1.cmml" xref="S2.p3.5.m5.1.1">superscript</csymbol><ci id="S2.p3.5.m5.1.1.2.cmml" xref="S2.p3.5.m5.1.1.2">𝑤</ci><cn type="integer" id="S2.p3.5.m5.1.1.3.cmml" xref="S2.p3.5.m5.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.5.m5.1c">w^{0}</annotation></semantics></math><span id="S2.p3.15.9" class="ltx_text" style="font-size:90%;"> on the server side and the target sparsity level </span><math id="S2.p3.6.m6.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S2.p3.6.m6.1a"><mi mathsize="90%" id="S2.p3.6.m6.1.1" xref="S2.p3.6.m6.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.p3.6.m6.1b"><ci id="S2.p3.6.m6.1.1.cmml" xref="S2.p3.6.m6.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.6.m6.1c">S</annotation></semantics></math><span id="S2.p3.15.10" class="ltx_text" style="font-size:90%;">. At the beginning of each </span><math id="S2.p3.7.m7.1" class="ltx_Math" alttext="\Delta R" display="inline"><semantics id="S2.p3.7.m7.1a"><mrow id="S2.p3.7.m7.1.1" xref="S2.p3.7.m7.1.1.cmml"><mi mathsize="90%" mathvariant="normal" id="S2.p3.7.m7.1.1.2" xref="S2.p3.7.m7.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S2.p3.7.m7.1.1.1" xref="S2.p3.7.m7.1.1.1.cmml">​</mo><mi mathsize="90%" id="S2.p3.7.m7.1.1.3" xref="S2.p3.7.m7.1.1.3.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.7.m7.1b"><apply id="S2.p3.7.m7.1.1.cmml" xref="S2.p3.7.m7.1.1"><times id="S2.p3.7.m7.1.1.1.cmml" xref="S2.p3.7.m7.1.1.1"></times><ci id="S2.p3.7.m7.1.1.2.cmml" xref="S2.p3.7.m7.1.1.2">Δ</ci><ci id="S2.p3.7.m7.1.1.3.cmml" xref="S2.p3.7.m7.1.1.3">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.7.m7.1c">\Delta R</annotation></semantics></math><span id="S2.p3.15.11" class="ltx_text" style="font-size:90%;"> rounds, the server computes the importance scores of all variables using </span><span id="S2.p3.15.12" class="ltx_text ltx_font_italic" style="font-size:90%;">GetImportanceScore()</span><span id="S2.p3.15.13" class="ltx_text" style="font-size:90%;">. Then, a set of masks are generated by </span><span id="S2.p3.15.14" class="ltx_text ltx_font_italic" style="font-size:90%;">GenerateMask()</span><span id="S2.p3.15.15" class="ltx_text" style="font-size:90%;"> based on the importance scores and the current sparsity level </span><math id="S2.p3.8.m8.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S2.p3.8.m8.1a"><mi mathsize="90%" id="S2.p3.8.m8.1.1" xref="S2.p3.8.m8.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.p3.8.m8.1b"><ci id="S2.p3.8.m8.1.1.cmml" xref="S2.p3.8.m8.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.8.m8.1c">s</annotation></semantics></math><span id="S2.p3.15.16" class="ltx_text" style="font-size:90%;">. In the generated masks, all variables with small importance scores will be removed by </span><span id="S2.p3.9.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Shrink<math id="S2.p3.9.1.m1.2" class="ltx_Math" alttext="(w^{r},M)" display="inline"><semantics id="S2.p3.9.1.m1.2a"><mrow id="S2.p3.9.1.m1.2.2.1" xref="S2.p3.9.1.m1.2.2.2.cmml"><mo stretchy="false" id="S2.p3.9.1.m1.2.2.1.2" xref="S2.p3.9.1.m1.2.2.2.cmml">(</mo><msup id="S2.p3.9.1.m1.2.2.1.1" xref="S2.p3.9.1.m1.2.2.1.1.cmml"><mi id="S2.p3.9.1.m1.2.2.1.1.2" xref="S2.p3.9.1.m1.2.2.1.1.2.cmml">w</mi><mi id="S2.p3.9.1.m1.2.2.1.1.3" xref="S2.p3.9.1.m1.2.2.1.1.3.cmml">r</mi></msup><mo id="S2.p3.9.1.m1.2.2.1.3" xref="S2.p3.9.1.m1.2.2.2.cmml">,</mo><mi id="S2.p3.9.1.m1.1.1" xref="S2.p3.9.1.m1.1.1.cmml">M</mi><mo stretchy="false" id="S2.p3.9.1.m1.2.2.1.4" xref="S2.p3.9.1.m1.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.9.1.m1.2b"><interval closure="open" id="S2.p3.9.1.m1.2.2.2.cmml" xref="S2.p3.9.1.m1.2.2.1"><apply id="S2.p3.9.1.m1.2.2.1.1.cmml" xref="S2.p3.9.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S2.p3.9.1.m1.2.2.1.1.1.cmml" xref="S2.p3.9.1.m1.2.2.1.1">superscript</csymbol><ci id="S2.p3.9.1.m1.2.2.1.1.2.cmml" xref="S2.p3.9.1.m1.2.2.1.1.2">𝑤</ci><ci id="S2.p3.9.1.m1.2.2.1.1.3.cmml" xref="S2.p3.9.1.m1.2.2.1.1.3">𝑟</ci></apply><ci id="S2.p3.9.1.m1.1.1.cmml" xref="S2.p3.9.1.m1.1.1">𝑀</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.9.1.m1.2c">(w^{r},M)</annotation></semantics></math></span><span id="S2.p3.15.17" class="ltx_text" style="font-size:90%;">. The reduced model will be sent to clients for training, and mapped back to the full model when the server receives clients’ updates by </span><span id="S2.p3.10.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Expand(<math id="S2.p3.10.2.m1.2" class="ltx_Math" alttext="w,M" display="inline"><semantics id="S2.p3.10.2.m1.2a"><mrow id="S2.p3.10.2.m1.2.3.2" xref="S2.p3.10.2.m1.2.3.1.cmml"><mi id="S2.p3.10.2.m1.1.1" xref="S2.p3.10.2.m1.1.1.cmml">w</mi><mo id="S2.p3.10.2.m1.2.3.2.1" xref="S2.p3.10.2.m1.2.3.1.cmml">,</mo><mi id="S2.p3.10.2.m1.2.2" xref="S2.p3.10.2.m1.2.2.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.10.2.m1.2b"><list id="S2.p3.10.2.m1.2.3.1.cmml" xref="S2.p3.10.2.m1.2.3.2"><ci id="S2.p3.10.2.m1.1.1.cmml" xref="S2.p3.10.2.m1.1.1">𝑤</ci><ci id="S2.p3.10.2.m1.2.2.cmml" xref="S2.p3.10.2.m1.2.2">𝑀</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.10.2.m1.2c">w,M</annotation></semantics></math>)</span><span id="S2.p3.15.18" class="ltx_text" style="font-size:90%;">. When mapping the reduced model back, the masked regions (which are not sent to clients) will have 0 aggregated updates. Then the standard federated averaging process will be used to aggregate all clients updates. When the sparsity level </span><math id="S2.p3.11.m9.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S2.p3.11.m9.1a"><mi mathsize="90%" id="S2.p3.11.m9.1.1" xref="S2.p3.11.m9.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.p3.11.m9.1b"><ci id="S2.p3.11.m9.1.1.cmml" xref="S2.p3.11.m9.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.11.m9.1c">s</annotation></semantics></math><span id="S2.p3.15.19" class="ltx_text" style="font-size:90%;"> reaches the target level </span><math id="S2.p3.12.m10.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S2.p3.12.m10.1a"><mi mathsize="90%" id="S2.p3.12.m10.1.1" xref="S2.p3.12.m10.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.p3.12.m10.1b"><ci id="S2.p3.12.m10.1.1.cmml" xref="S2.p3.12.m10.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.12.m10.1c">S</annotation></semantics></math><span id="S2.p3.15.20" class="ltx_text" style="font-size:90%;">, it enters the second phase of mask refinement. When the round </span><math id="S2.p3.13.m11.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S2.p3.13.m11.1a"><mi mathsize="90%" id="S2.p3.13.m11.1.1" xref="S2.p3.13.m11.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S2.p3.13.m11.1b"><ci id="S2.p3.13.m11.1.1.cmml" xref="S2.p3.13.m11.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.13.m11.1c">r</annotation></semantics></math><span id="S2.p3.15.21" class="ltx_text" style="font-size:90%;"> is equal to </span><math id="S2.p3.14.m12.1" class="ltx_Math" alttext="R^{fine-tune}" display="inline"><semantics id="S2.p3.14.m12.1a"><msup id="S2.p3.14.m12.1.1" xref="S2.p3.14.m12.1.1.cmml"><mi mathsize="90%" id="S2.p3.14.m12.1.1.2" xref="S2.p3.14.m12.1.1.2.cmml">R</mi><mrow id="S2.p3.14.m12.1.1.3" xref="S2.p3.14.m12.1.1.3.cmml"><mrow id="S2.p3.14.m12.1.1.3.2" xref="S2.p3.14.m12.1.1.3.2.cmml"><mi mathsize="90%" id="S2.p3.14.m12.1.1.3.2.2" xref="S2.p3.14.m12.1.1.3.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.p3.14.m12.1.1.3.2.1" xref="S2.p3.14.m12.1.1.3.2.1.cmml">​</mo><mi mathsize="90%" id="S2.p3.14.m12.1.1.3.2.3" xref="S2.p3.14.m12.1.1.3.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.p3.14.m12.1.1.3.2.1a" xref="S2.p3.14.m12.1.1.3.2.1.cmml">​</mo><mi mathsize="90%" id="S2.p3.14.m12.1.1.3.2.4" xref="S2.p3.14.m12.1.1.3.2.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.p3.14.m12.1.1.3.2.1b" xref="S2.p3.14.m12.1.1.3.2.1.cmml">​</mo><mi mathsize="90%" id="S2.p3.14.m12.1.1.3.2.5" xref="S2.p3.14.m12.1.1.3.2.5.cmml">e</mi></mrow><mo mathsize="90%" id="S2.p3.14.m12.1.1.3.1" xref="S2.p3.14.m12.1.1.3.1.cmml">−</mo><mrow id="S2.p3.14.m12.1.1.3.3" xref="S2.p3.14.m12.1.1.3.3.cmml"><mi mathsize="90%" id="S2.p3.14.m12.1.1.3.3.2" xref="S2.p3.14.m12.1.1.3.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.p3.14.m12.1.1.3.3.1" xref="S2.p3.14.m12.1.1.3.3.1.cmml">​</mo><mi mathsize="90%" id="S2.p3.14.m12.1.1.3.3.3" xref="S2.p3.14.m12.1.1.3.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S2.p3.14.m12.1.1.3.3.1a" xref="S2.p3.14.m12.1.1.3.3.1.cmml">​</mo><mi mathsize="90%" id="S2.p3.14.m12.1.1.3.3.4" xref="S2.p3.14.m12.1.1.3.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.p3.14.m12.1.1.3.3.1b" xref="S2.p3.14.m12.1.1.3.3.1.cmml">​</mo><mi mathsize="90%" id="S2.p3.14.m12.1.1.3.3.5" xref="S2.p3.14.m12.1.1.3.3.5.cmml">e</mi></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.p3.14.m12.1b"><apply id="S2.p3.14.m12.1.1.cmml" xref="S2.p3.14.m12.1.1"><csymbol cd="ambiguous" id="S2.p3.14.m12.1.1.1.cmml" xref="S2.p3.14.m12.1.1">superscript</csymbol><ci id="S2.p3.14.m12.1.1.2.cmml" xref="S2.p3.14.m12.1.1.2">𝑅</ci><apply id="S2.p3.14.m12.1.1.3.cmml" xref="S2.p3.14.m12.1.1.3"><minus id="S2.p3.14.m12.1.1.3.1.cmml" xref="S2.p3.14.m12.1.1.3.1"></minus><apply id="S2.p3.14.m12.1.1.3.2.cmml" xref="S2.p3.14.m12.1.1.3.2"><times id="S2.p3.14.m12.1.1.3.2.1.cmml" xref="S2.p3.14.m12.1.1.3.2.1"></times><ci id="S2.p3.14.m12.1.1.3.2.2.cmml" xref="S2.p3.14.m12.1.1.3.2.2">𝑓</ci><ci id="S2.p3.14.m12.1.1.3.2.3.cmml" xref="S2.p3.14.m12.1.1.3.2.3">𝑖</ci><ci id="S2.p3.14.m12.1.1.3.2.4.cmml" xref="S2.p3.14.m12.1.1.3.2.4">𝑛</ci><ci id="S2.p3.14.m12.1.1.3.2.5.cmml" xref="S2.p3.14.m12.1.1.3.2.5">𝑒</ci></apply><apply id="S2.p3.14.m12.1.1.3.3.cmml" xref="S2.p3.14.m12.1.1.3.3"><times id="S2.p3.14.m12.1.1.3.3.1.cmml" xref="S2.p3.14.m12.1.1.3.3.1"></times><ci id="S2.p3.14.m12.1.1.3.3.2.cmml" xref="S2.p3.14.m12.1.1.3.3.2">𝑡</ci><ci id="S2.p3.14.m12.1.1.3.3.3.cmml" xref="S2.p3.14.m12.1.1.3.3.3">𝑢</ci><ci id="S2.p3.14.m12.1.1.3.3.4.cmml" xref="S2.p3.14.m12.1.1.3.3.4">𝑛</ci><ci id="S2.p3.14.m12.1.1.3.3.5.cmml" xref="S2.p3.14.m12.1.1.3.3.5">𝑒</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.14.m12.1c">R^{fine-tune}</annotation></semantics></math><span id="S2.p3.15.22" class="ltx_text" style="font-size:90%;">, FP moves on to the last phase. We reduce the server model with the mask </span><math id="S2.p3.15.m13.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S2.p3.15.m13.1a"><mi mathsize="90%" id="S2.p3.15.m13.1.1" xref="S2.p3.15.m13.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S2.p3.15.m13.1b"><ci id="S2.p3.15.m13.1.1.cmml" xref="S2.p3.15.m13.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.15.m13.1c">M</annotation></semantics></math><span id="S2.p3.15.23" class="ltx_text" style="font-size:90%;">, so that the server model is the same as client models. Finally, the reduced model will be trained until convergence.</span></p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection" style="font-size:90%;">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Pruning patterns</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p"><span id="S2.SS1.p1.1.1" class="ltx_text" style="font-size:90%;">We discuss the structure of the pruned variables, i.e. removed variables, as pruning patterns. Pruning patterns can be broadly categorized as: unstructured pruning </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S2.SS1.p1.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib14" title="" class="ltx_ref">14</a><span id="S2.SS1.p1.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S2.SS1.p1.1.4" class="ltx_text" style="font-size:90%;"> that prunes the less salient connections over any nodes, and structured pruning </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S2.SS1.p1.1.5.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib15" title="" class="ltx_ref">15</a><span id="S2.SS1.p1.1.6.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S2.SS1.p1.1.7" class="ltx_text" style="font-size:90%;"> that prunes on larger structures such as channel or layer. Since our objective is to reduce the actual model size, the training memory on clients’ devices and the communication between server and clients, we use structured pruning to remove the </span><em id="S2.SS1.p1.1.8" class="ltx_emph ltx_font_italic" style="font-size:90%;">slices</em><span id="S2.SS1.p1.1.9" class="ltx_text" style="font-size:90%;"> of the variables, and thus physically reduce the model size. We implemented following pruning patterns:</span></p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.1" class="ltx_p"><span id="S2.I1.i1.p1.1.1" class="ltx_text" style="font-size:90%;">Whole row / column: prune the entire row or column of the two-dimensional weight matrices </span><math id="S2.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S2.I1.i1.p1.1.m1.1a"><mi mathsize="90%" id="S2.I1.i1.p1.1.m1.1.1" xref="S2.I1.i1.p1.1.m1.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i1.p1.1.m1.1b"><ci id="S2.I1.i1.p1.1.m1.1.1.cmml" xref="S2.I1.i1.p1.1.m1.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i1.p1.1.m1.1c">W</annotation></semantics></math><span id="S2.I1.i1.p1.1.2" class="ltx_text" style="font-size:90%;">.</span></p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.2" class="ltx_p"><span id="S2.I1.i2.p1.2.1" class="ltx_text" style="font-size:90%;">Half row / column: evenly partition the two-dimensional variables </span><math id="S2.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S2.I1.i2.p1.1.m1.1a"><mi mathsize="90%" id="S2.I1.i2.p1.1.m1.1.1" xref="S2.I1.i2.p1.1.m1.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i2.p1.1.m1.1b"><ci id="S2.I1.i2.p1.1.m1.1.1.cmml" xref="S2.I1.i2.p1.1.m1.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i2.p1.1.m1.1c">W</annotation></semantics></math><span id="S2.I1.i2.p1.2.2" class="ltx_text" style="font-size:90%;"> into </span><math id="S2.I1.i2.p1.2.m2.2" class="ltx_Math" alttext="[W_{1},W_{2}]" display="inline"><semantics id="S2.I1.i2.p1.2.m2.2a"><mrow id="S2.I1.i2.p1.2.m2.2.2.2" xref="S2.I1.i2.p1.2.m2.2.2.3.cmml"><mo maxsize="90%" minsize="90%" id="S2.I1.i2.p1.2.m2.2.2.2.3" xref="S2.I1.i2.p1.2.m2.2.2.3.cmml">[</mo><msub id="S2.I1.i2.p1.2.m2.1.1.1.1" xref="S2.I1.i2.p1.2.m2.1.1.1.1.cmml"><mi mathsize="90%" id="S2.I1.i2.p1.2.m2.1.1.1.1.2" xref="S2.I1.i2.p1.2.m2.1.1.1.1.2.cmml">W</mi><mn mathsize="90%" id="S2.I1.i2.p1.2.m2.1.1.1.1.3" xref="S2.I1.i2.p1.2.m2.1.1.1.1.3.cmml">1</mn></msub><mo mathsize="90%" id="S2.I1.i2.p1.2.m2.2.2.2.4" xref="S2.I1.i2.p1.2.m2.2.2.3.cmml">,</mo><msub id="S2.I1.i2.p1.2.m2.2.2.2.2" xref="S2.I1.i2.p1.2.m2.2.2.2.2.cmml"><mi mathsize="90%" id="S2.I1.i2.p1.2.m2.2.2.2.2.2" xref="S2.I1.i2.p1.2.m2.2.2.2.2.2.cmml">W</mi><mn mathsize="90%" id="S2.I1.i2.p1.2.m2.2.2.2.2.3" xref="S2.I1.i2.p1.2.m2.2.2.2.2.3.cmml">2</mn></msub><mo maxsize="90%" minsize="90%" id="S2.I1.i2.p1.2.m2.2.2.2.5" xref="S2.I1.i2.p1.2.m2.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.I1.i2.p1.2.m2.2b"><interval closure="closed" id="S2.I1.i2.p1.2.m2.2.2.3.cmml" xref="S2.I1.i2.p1.2.m2.2.2.2"><apply id="S2.I1.i2.p1.2.m2.1.1.1.1.cmml" xref="S2.I1.i2.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S2.I1.i2.p1.2.m2.1.1.1.1.1.cmml" xref="S2.I1.i2.p1.2.m2.1.1.1.1">subscript</csymbol><ci id="S2.I1.i2.p1.2.m2.1.1.1.1.2.cmml" xref="S2.I1.i2.p1.2.m2.1.1.1.1.2">𝑊</ci><cn type="integer" id="S2.I1.i2.p1.2.m2.1.1.1.1.3.cmml" xref="S2.I1.i2.p1.2.m2.1.1.1.1.3">1</cn></apply><apply id="S2.I1.i2.p1.2.m2.2.2.2.2.cmml" xref="S2.I1.i2.p1.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S2.I1.i2.p1.2.m2.2.2.2.2.1.cmml" xref="S2.I1.i2.p1.2.m2.2.2.2.2">subscript</csymbol><ci id="S2.I1.i2.p1.2.m2.2.2.2.2.2.cmml" xref="S2.I1.i2.p1.2.m2.2.2.2.2.2">𝑊</ci><cn type="integer" id="S2.I1.i2.p1.2.m2.2.2.2.2.3.cmml" xref="S2.I1.i2.p1.2.m2.2.2.2.2.3">2</cn></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i2.p1.2.m2.2c">[W_{1},W_{2}]</annotation></semantics></math><span id="S2.I1.i2.p1.2.3" class="ltx_text" style="font-size:90%;"> and prune each half of the row or column.</span></p>
</div>
</li>
</ul>
<p id="S2.SS1.p2.1" class="ltx_p"><span id="S2.SS1.p2.1.1" class="ltx_text" style="font-size:90%;">For higher (larger than 2) dimensional matrices, we first reshape them to two dimensional space, apply the above patterns, and transform back to the original dimensional space.</span></p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection" style="font-size:90%;">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Pruning methods</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.4" class="ltx_p"><span id="S2.SS2.p1.4.1" class="ltx_text" style="font-size:90%;">We discuss how to decide the salience, i.e. the importance score, of variables. We use three methods including weight magnitude of variables, momentum of gradient magnitude of the variables and the multiplication of weight and gradient magnitude to measure the salience. At every </span><math id="S2.SS2.p1.1.m1.1" class="ltx_Math" alttext="\Delta R" display="inline"><semantics id="S2.SS2.p1.1.m1.1a"><mrow id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml"><mi mathsize="90%" mathvariant="normal" id="S2.SS2.p1.1.m1.1.1.2" xref="S2.SS2.p1.1.m1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi mathsize="90%" id="S2.SS2.p1.1.m1.1.1.3" xref="S2.SS2.p1.1.m1.1.1.3.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><apply id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1"><times id="S2.SS2.p1.1.m1.1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1.1"></times><ci id="S2.SS2.p1.1.m1.1.1.2.cmml" xref="S2.SS2.p1.1.m1.1.1.2">Δ</ci><ci id="S2.SS2.p1.1.m1.1.1.3.cmml" xref="S2.SS2.p1.1.m1.1.1.3">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">\Delta R</annotation></semantics></math><span id="S2.SS2.p1.4.2" class="ltx_text" style="font-size:90%;"> round, we compute the </span><math id="S2.SS2.p1.2.m2.1" class="ltx_Math" alttext="l1" display="inline"><semantics id="S2.SS2.p1.2.m2.1a"><mrow id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml"><mi mathsize="90%" id="S2.SS2.p1.2.m2.1.1.2" xref="S2.SS2.p1.2.m2.1.1.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><mn mathsize="90%" id="S2.SS2.p1.2.m2.1.1.3" xref="S2.SS2.p1.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><apply id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1"><times id="S2.SS2.p1.2.m2.1.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1.1"></times><ci id="S2.SS2.p1.2.m2.1.1.2.cmml" xref="S2.SS2.p1.2.m2.1.1.2">𝑙</ci><cn type="integer" id="S2.SS2.p1.2.m2.1.1.3.cmml" xref="S2.SS2.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">l1</annotation></semantics></math><span id="S2.SS2.p1.4.3" class="ltx_text" style="font-size:90%;"> and </span><math id="S2.SS2.p1.3.m3.1" class="ltx_Math" alttext="l2" display="inline"><semantics id="S2.SS2.p1.3.m3.1a"><mrow id="S2.SS2.p1.3.m3.1.1" xref="S2.SS2.p1.3.m3.1.1.cmml"><mi mathsize="90%" id="S2.SS2.p1.3.m3.1.1.2" xref="S2.SS2.p1.3.m3.1.1.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.3.m3.1.1.1" xref="S2.SS2.p1.3.m3.1.1.1.cmml">​</mo><mn mathsize="90%" id="S2.SS2.p1.3.m3.1.1.3" xref="S2.SS2.p1.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.3.m3.1b"><apply id="S2.SS2.p1.3.m3.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1"><times id="S2.SS2.p1.3.m3.1.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1.1"></times><ci id="S2.SS2.p1.3.m3.1.1.2.cmml" xref="S2.SS2.p1.3.m3.1.1.2">𝑙</ci><cn type="integer" id="S2.SS2.p1.3.m3.1.1.3.cmml" xref="S2.SS2.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.3.m3.1c">l2</annotation></semantics></math><span id="S2.SS2.p1.4.4" class="ltx_text" style="font-size:90%;"> norm of the three methods as importance scores. Then given the sparsity level </span><math id="S2.SS2.p1.4.m4.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S2.SS2.p1.4.m4.1a"><mi mathsize="90%" id="S2.SS2.p1.4.m4.1.1" xref="S2.SS2.p1.4.m4.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.4.m4.1b"><ci id="S2.SS2.p1.4.m4.1.1.cmml" xref="S2.SS2.p1.4.m4.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.4.m4.1c">s</annotation></semantics></math><span id="S2.SS2.p1.4.5" class="ltx_text" style="font-size:90%;">, a threshold of the importance score can be derived by sorting the scores. The regions with less importance scores (i.e. smaller than the threshold) will be removed from the clients’ model to form the reduced model. On server side, the regions with less importance scores are still kept in the pruning and refining phases, and will be removed in the final fine-tuning phase.</span></p>
</div>
<figure id="S2.F2" class="ltx_figure"><img src="/html/2209.06359/assets/images/phase_new.png" id="S2.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="242" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Three phases of Federated Pruning across FL rounds.</figcaption>
</figure>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p"><span id="S2.SS2.p2.1.1" class="ltx_text" style="font-size:90%;">To achieve the target sparsity level </span><math id="S2.SS2.p2.1.m1.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S2.SS2.p2.1.m1.1a"><mi mathsize="90%" id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.1b"><ci id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.1c">S</annotation></semantics></math><span id="S2.SS2.p2.1.2" class="ltx_text" style="font-size:90%;">, we use pruning schedule to denote such process in the pruning phase. In this work, we explore the following two schedules:</span></p>
<ul id="S2.I2" class="ltx_itemize">
<li id="S2.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i1.p1" class="ltx_para">
<p id="S2.I2.i1.p1.1" class="ltx_p"><span id="S2.I2.i1.p1.1.1" class="ltx_text" style="font-size:90%;">Constant sparsity level: instantly prune to the target sparsity level </span><math id="S2.I2.i1.p1.1.m1.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S2.I2.i1.p1.1.m1.1a"><mi mathsize="90%" id="S2.I2.i1.p1.1.m1.1.1" xref="S2.I2.i1.p1.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.I2.i1.p1.1.m1.1b"><ci id="S2.I2.i1.p1.1.m1.1.1.cmml" xref="S2.I2.i1.p1.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I2.i1.p1.1.m1.1c">S</annotation></semantics></math><span id="S2.I2.i1.p1.1.2" class="ltx_text" style="font-size:90%;"> at the beginning;</span></p>
</div>
</li>
<li id="S2.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i2.p1" class="ltx_para">
<p id="S2.I2.i2.p1.1" class="ltx_p"><span id="S2.I2.i2.p1.1.1" class="ltx_text" style="font-size:90%;">Step-based sparsity level: gradually increase the sparsity level w.r.t current round </span><math id="S2.I2.i2.p1.1.m1.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S2.I2.i2.p1.1.m1.1a"><mi mathsize="90%" id="S2.I2.i2.p1.1.m1.1.1" xref="S2.I2.i2.p1.1.m1.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S2.I2.i2.p1.1.m1.1b"><ci id="S2.I2.i2.p1.1.m1.1.1.cmml" xref="S2.I2.i2.p1.1.m1.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I2.i2.p1.1.m1.1c">r</annotation></semantics></math><span id="S2.I2.i2.p1.1.2" class="ltx_text" style="font-size:90%;">.</span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection" style="font-size:90%;">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Mask refinement</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p"><span id="S2.SS3.p1.1.1" class="ltx_text" style="font-size:90%;">In the refining phase, the masks are still re-generated. Because the masked regions in the model get 0 updates, their importance scores remain the same. For unmasked regions, their variables as well as the importance scores are updated. If the importance scores of some unmasked regions get smaller, then they might be replaced by the masked variables according to the rank of importance scores. Therefore, the masks are refined and re-trained in this phase. In section 4, we also explore the variants of with and without mask refinement to show its utility. Note that the gradient based importance scores will yield relatively stale pruning mask, the masked regions will not have gradients and lose the ability of regrowth.</span></p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection" style="font-size:90%;">
<span class="ltx_tag ltx_tag_subsection">2.4 </span>Adaptive per-layer sparsity</h3>

<div id="S2.SS4.p1" class="ltx_para">
<p id="S2.SS4.p1.1" class="ltx_p"><span id="S2.SS4.p1.1.1" class="ltx_text" style="font-size:90%;">The layers of a deep neural network have different impacts on model accuracy. Based on the observations in </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S2.SS4.p1.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib16" title="" class="ltx_ref">16</a><span id="S2.SS4.p1.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S2.SS4.p1.1.4" class="ltx_text" style="font-size:90%;">, layers can be categorized as either “ambient” or “critical”. Take the Conformer model </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S2.SS4.p1.1.5.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib5" title="" class="ltx_ref">5</a><span id="S2.SS4.p1.1.6.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S2.SS4.p1.1.7" class="ltx_text" style="font-size:90%;"> as example, “ambient” layers have little impact whereas pruning the “critical” layers will lead to severe quality degradation. Hence the sparsity level should get customized based on the importance of each layer. The sparsity level in the above federated pruning is unified among layers. Adaptive per-layer sparsity is proposed to allow dynamic sparsity level reallocation among layers.</span></p>
</div>
<div id="S2.SS4.p2" class="ltx_para">
<p id="S2.SS4.p2.2" class="ltx_p"><span id="S2.SS4.p2.2.1" class="ltx_text" style="font-size:90%;">We utilize a heuristic agent to determine the layer-wise sparsity level in two steps. First, we use predefined rules to measure the importance of each layer, such as the mean momentum of model deltas per layer or averaged weight magnitude per layer. Second, we assign the weighted sparsity level to each layer using estimated importance score. The less important layers get larger sparsity level. We use the averaged weight magnitude </span><math id="S2.SS4.p2.1.m1.1" class="ltx_Math" alttext="||w_{i}||" display="inline"><semantics id="S2.SS4.p2.1.m1.1a"><mrow id="S2.SS4.p2.1.m1.1.1.1" xref="S2.SS4.p2.1.m1.1.1.2.cmml"><mo stretchy="false" id="S2.SS4.p2.1.m1.1.1.1.2" xref="S2.SS4.p2.1.m1.1.1.2.1.cmml">‖</mo><msub id="S2.SS4.p2.1.m1.1.1.1.1" xref="S2.SS4.p2.1.m1.1.1.1.1.cmml"><mi mathsize="90%" id="S2.SS4.p2.1.m1.1.1.1.1.2" xref="S2.SS4.p2.1.m1.1.1.1.1.2.cmml">w</mi><mi mathsize="90%" id="S2.SS4.p2.1.m1.1.1.1.1.3" xref="S2.SS4.p2.1.m1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S2.SS4.p2.1.m1.1.1.1.3" xref="S2.SS4.p2.1.m1.1.1.2.1.cmml">‖</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p2.1.m1.1b"><apply id="S2.SS4.p2.1.m1.1.1.2.cmml" xref="S2.SS4.p2.1.m1.1.1.1"><csymbol cd="latexml" id="S2.SS4.p2.1.m1.1.1.2.1.cmml" xref="S2.SS4.p2.1.m1.1.1.1.2">norm</csymbol><apply id="S2.SS4.p2.1.m1.1.1.1.1.cmml" xref="S2.SS4.p2.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS4.p2.1.m1.1.1.1.1.1.cmml" xref="S2.SS4.p2.1.m1.1.1.1.1">subscript</csymbol><ci id="S2.SS4.p2.1.m1.1.1.1.1.2.cmml" xref="S2.SS4.p2.1.m1.1.1.1.1.2">𝑤</ci><ci id="S2.SS4.p2.1.m1.1.1.1.1.3.cmml" xref="S2.SS4.p2.1.m1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p2.1.m1.1c">||w_{i}||</annotation></semantics></math><span id="S2.SS4.p2.2.2" class="ltx_text" style="font-size:90%;"> per layer as the importance score in this paper. As shown in Figure </span><a href="#S2.F3" title="Figure 3 ‣ 2.4 Adaptive per-layer sparsity ‣ 2 Federated Pruning ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">3</span></a><span id="S2.SS4.p2.2.3" class="ltx_text" style="font-size:90%;">, the layers with larger magnitude are more important than those with smaller magnitude, thus the layer-wise density levels (1 - sparsity level) are assigned using the following equation for the </span><math id="S2.SS4.p2.2.m2.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S2.SS4.p2.2.m2.1a"><mi mathsize="90%" id="S2.SS4.p2.2.m2.1.1" xref="S2.SS4.p2.2.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p2.2.m2.1b"><ci id="S2.SS4.p2.2.m2.1.1.cmml" xref="S2.SS4.p2.2.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p2.2.m2.1c">L</annotation></semantics></math><span id="S2.SS4.p2.2.4" class="ltx_text" style="font-size:90%;"> layers in the model.</span></p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.3" class="ltx_Math" alttext="LayerDensity=\frac{(1-TargetSparsity)*||w_{i}||}{\sum_{i=1}^{L}||w_{i}||}" display="block"><semantics id="S2.E1.m1.3a"><mrow id="S2.E1.m1.3.4" xref="S2.E1.m1.3.4.cmml"><mrow id="S2.E1.m1.3.4.2" xref="S2.E1.m1.3.4.2.cmml"><mi mathsize="90%" id="S2.E1.m1.3.4.2.2" xref="S2.E1.m1.3.4.2.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.1" xref="S2.E1.m1.3.4.2.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.3.4.2.3" xref="S2.E1.m1.3.4.2.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.1a" xref="S2.E1.m1.3.4.2.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.3.4.2.4" xref="S2.E1.m1.3.4.2.4.cmml">y</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.1b" xref="S2.E1.m1.3.4.2.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.3.4.2.5" xref="S2.E1.m1.3.4.2.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.1c" xref="S2.E1.m1.3.4.2.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.3.4.2.6" xref="S2.E1.m1.3.4.2.6.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.1d" xref="S2.E1.m1.3.4.2.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.3.4.2.7" xref="S2.E1.m1.3.4.2.7.cmml">D</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.1e" xref="S2.E1.m1.3.4.2.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.3.4.2.8" xref="S2.E1.m1.3.4.2.8.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.1f" xref="S2.E1.m1.3.4.2.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.3.4.2.9" xref="S2.E1.m1.3.4.2.9.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.1g" xref="S2.E1.m1.3.4.2.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.3.4.2.10" xref="S2.E1.m1.3.4.2.10.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.1h" xref="S2.E1.m1.3.4.2.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.3.4.2.11" xref="S2.E1.m1.3.4.2.11.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.1i" xref="S2.E1.m1.3.4.2.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.3.4.2.12" xref="S2.E1.m1.3.4.2.12.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.3.4.2.1j" xref="S2.E1.m1.3.4.2.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.3.4.2.13" xref="S2.E1.m1.3.4.2.13.cmml">y</mi></mrow><mo mathsize="90%" id="S2.E1.m1.3.4.1" xref="S2.E1.m1.3.4.1.cmml">=</mo><mfrac id="S2.E1.m1.3.3" xref="S2.E1.m1.3.3.cmml"><mrow id="S2.E1.m1.2.2.2" xref="S2.E1.m1.2.2.2.cmml"><mrow id="S2.E1.m1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.cmml"><mo maxsize="90%" minsize="90%" id="S2.E1.m1.1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.cmml"><mn mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.1.1.2.cmml">1</mn><mo mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S2.E1.m1.1.1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.1.1.3.cmml"><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.2" xref="S2.E1.m1.1.1.1.1.1.1.3.2.cmml">T</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.3" xref="S2.E1.m1.1.1.1.1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1a" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.4" xref="S2.E1.m1.1.1.1.1.1.1.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1b" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.5" xref="S2.E1.m1.1.1.1.1.1.1.3.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1c" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.6" xref="S2.E1.m1.1.1.1.1.1.1.3.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1d" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.7" xref="S2.E1.m1.1.1.1.1.1.1.3.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1e" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.8" xref="S2.E1.m1.1.1.1.1.1.1.3.8.cmml">S</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1f" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.9" xref="S2.E1.m1.1.1.1.1.1.1.3.9.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1g" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.10" xref="S2.E1.m1.1.1.1.1.1.1.3.10.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1h" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.11" xref="S2.E1.m1.1.1.1.1.1.1.3.11.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1i" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.12" xref="S2.E1.m1.1.1.1.1.1.1.3.12.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1j" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.13" xref="S2.E1.m1.1.1.1.1.1.1.3.13.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1k" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.14" xref="S2.E1.m1.1.1.1.1.1.1.3.14.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.1.1.1.3.1l" xref="S2.E1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi mathsize="90%" id="S2.E1.m1.1.1.1.1.1.1.3.15" xref="S2.E1.m1.1.1.1.1.1.1.3.15.cmml">y</mi></mrow></mrow><mo maxsize="90%" minsize="90%" rspace="0.055em" id="S2.E1.m1.1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.1.1.cmml">)</mo></mrow><mo mathsize="90%" rspace="0.222em" id="S2.E1.m1.2.2.2.3" xref="S2.E1.m1.2.2.2.3.cmml">∗</mo><mrow id="S2.E1.m1.2.2.2.2.1" xref="S2.E1.m1.2.2.2.2.2.cmml"><mo stretchy="false" id="S2.E1.m1.2.2.2.2.1.2" xref="S2.E1.m1.2.2.2.2.2.1.cmml">‖</mo><msub id="S2.E1.m1.2.2.2.2.1.1" xref="S2.E1.m1.2.2.2.2.1.1.cmml"><mi mathsize="90%" id="S2.E1.m1.2.2.2.2.1.1.2" xref="S2.E1.m1.2.2.2.2.1.1.2.cmml">w</mi><mi mathsize="90%" id="S2.E1.m1.2.2.2.2.1.1.3" xref="S2.E1.m1.2.2.2.2.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S2.E1.m1.2.2.2.2.1.3" xref="S2.E1.m1.2.2.2.2.2.1.cmml">‖</mo></mrow></mrow><mrow id="S2.E1.m1.3.3.3" xref="S2.E1.m1.3.3.3.cmml"><msubsup id="S2.E1.m1.3.3.3.2" xref="S2.E1.m1.3.3.3.2.cmml"><mo maxsize="90%" minsize="90%" stretchy="true" id="S2.E1.m1.3.3.3.2.2.2" xref="S2.E1.m1.3.3.3.2.2.2.cmml">∑</mo><mrow id="S2.E1.m1.3.3.3.2.2.3" xref="S2.E1.m1.3.3.3.2.2.3.cmml"><mi mathsize="90%" id="S2.E1.m1.3.3.3.2.2.3.2" xref="S2.E1.m1.3.3.3.2.2.3.2.cmml">i</mi><mo mathsize="90%" id="S2.E1.m1.3.3.3.2.2.3.1" xref="S2.E1.m1.3.3.3.2.2.3.1.cmml">=</mo><mn mathsize="90%" id="S2.E1.m1.3.3.3.2.2.3.3" xref="S2.E1.m1.3.3.3.2.2.3.3.cmml">1</mn></mrow><mi mathsize="90%" id="S2.E1.m1.3.3.3.2.3" xref="S2.E1.m1.3.3.3.2.3.cmml">L</mi></msubsup><mrow id="S2.E1.m1.3.3.3.1.1" xref="S2.E1.m1.3.3.3.1.2.cmml"><mo lspace="0em" stretchy="false" id="S2.E1.m1.3.3.3.1.1.2" xref="S2.E1.m1.3.3.3.1.2.1.cmml">‖</mo><msub id="S2.E1.m1.3.3.3.1.1.1" xref="S2.E1.m1.3.3.3.1.1.1.cmml"><mi mathsize="90%" id="S2.E1.m1.3.3.3.1.1.1.2" xref="S2.E1.m1.3.3.3.1.1.1.2.cmml">w</mi><mi mathsize="90%" id="S2.E1.m1.3.3.3.1.1.1.3" xref="S2.E1.m1.3.3.3.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S2.E1.m1.3.3.3.1.1.3" xref="S2.E1.m1.3.3.3.1.2.1.cmml">‖</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.3b"><apply id="S2.E1.m1.3.4.cmml" xref="S2.E1.m1.3.4"><eq id="S2.E1.m1.3.4.1.cmml" xref="S2.E1.m1.3.4.1"></eq><apply id="S2.E1.m1.3.4.2.cmml" xref="S2.E1.m1.3.4.2"><times id="S2.E1.m1.3.4.2.1.cmml" xref="S2.E1.m1.3.4.2.1"></times><ci id="S2.E1.m1.3.4.2.2.cmml" xref="S2.E1.m1.3.4.2.2">𝐿</ci><ci id="S2.E1.m1.3.4.2.3.cmml" xref="S2.E1.m1.3.4.2.3">𝑎</ci><ci id="S2.E1.m1.3.4.2.4.cmml" xref="S2.E1.m1.3.4.2.4">𝑦</ci><ci id="S2.E1.m1.3.4.2.5.cmml" xref="S2.E1.m1.3.4.2.5">𝑒</ci><ci id="S2.E1.m1.3.4.2.6.cmml" xref="S2.E1.m1.3.4.2.6">𝑟</ci><ci id="S2.E1.m1.3.4.2.7.cmml" xref="S2.E1.m1.3.4.2.7">𝐷</ci><ci id="S2.E1.m1.3.4.2.8.cmml" xref="S2.E1.m1.3.4.2.8">𝑒</ci><ci id="S2.E1.m1.3.4.2.9.cmml" xref="S2.E1.m1.3.4.2.9">𝑛</ci><ci id="S2.E1.m1.3.4.2.10.cmml" xref="S2.E1.m1.3.4.2.10">𝑠</ci><ci id="S2.E1.m1.3.4.2.11.cmml" xref="S2.E1.m1.3.4.2.11">𝑖</ci><ci id="S2.E1.m1.3.4.2.12.cmml" xref="S2.E1.m1.3.4.2.12">𝑡</ci><ci id="S2.E1.m1.3.4.2.13.cmml" xref="S2.E1.m1.3.4.2.13">𝑦</ci></apply><apply id="S2.E1.m1.3.3.cmml" xref="S2.E1.m1.3.3"><divide id="S2.E1.m1.3.3.4.cmml" xref="S2.E1.m1.3.3"></divide><apply id="S2.E1.m1.2.2.2.cmml" xref="S2.E1.m1.2.2.2"><times id="S2.E1.m1.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.3"></times><apply id="S2.E1.m1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1"><minus id="S2.E1.m1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1"></minus><cn type="integer" id="S2.E1.m1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.2">1</cn><apply id="S2.E1.m1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3"><times id="S2.E1.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.1"></times><ci id="S2.E1.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.2">𝑇</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.3.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.3">𝑎</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.4.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.4">𝑟</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.5.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.5">𝑔</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.6.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.6">𝑒</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.7.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.7">𝑡</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.8.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.8">𝑆</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.9.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.9">𝑝</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.10.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.10">𝑎</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.11.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.11">𝑟</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.12.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.12">𝑠</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.13.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.13">𝑖</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.14.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.14">𝑡</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.15.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.15">𝑦</ci></apply></apply><apply id="S2.E1.m1.2.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2.1"><csymbol cd="latexml" id="S2.E1.m1.2.2.2.2.2.1.cmml" xref="S2.E1.m1.2.2.2.2.1.2">norm</csymbol><apply id="S2.E1.m1.2.2.2.2.1.1.cmml" xref="S2.E1.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.2.1.1.1.cmml" xref="S2.E1.m1.2.2.2.2.1.1">subscript</csymbol><ci id="S2.E1.m1.2.2.2.2.1.1.2.cmml" xref="S2.E1.m1.2.2.2.2.1.1.2">𝑤</ci><ci id="S2.E1.m1.2.2.2.2.1.1.3.cmml" xref="S2.E1.m1.2.2.2.2.1.1.3">𝑖</ci></apply></apply></apply><apply id="S2.E1.m1.3.3.3.cmml" xref="S2.E1.m1.3.3.3"><apply id="S2.E1.m1.3.3.3.2.cmml" xref="S2.E1.m1.3.3.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.2.1.cmml" xref="S2.E1.m1.3.3.3.2">superscript</csymbol><apply id="S2.E1.m1.3.3.3.2.2.cmml" xref="S2.E1.m1.3.3.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.2.2.1.cmml" xref="S2.E1.m1.3.3.3.2">subscript</csymbol><sum id="S2.E1.m1.3.3.3.2.2.2.cmml" xref="S2.E1.m1.3.3.3.2.2.2"></sum><apply id="S2.E1.m1.3.3.3.2.2.3.cmml" xref="S2.E1.m1.3.3.3.2.2.3"><eq id="S2.E1.m1.3.3.3.2.2.3.1.cmml" xref="S2.E1.m1.3.3.3.2.2.3.1"></eq><ci id="S2.E1.m1.3.3.3.2.2.3.2.cmml" xref="S2.E1.m1.3.3.3.2.2.3.2">𝑖</ci><cn type="integer" id="S2.E1.m1.3.3.3.2.2.3.3.cmml" xref="S2.E1.m1.3.3.3.2.2.3.3">1</cn></apply></apply><ci id="S2.E1.m1.3.3.3.2.3.cmml" xref="S2.E1.m1.3.3.3.2.3">𝐿</ci></apply><apply id="S2.E1.m1.3.3.3.1.2.cmml" xref="S2.E1.m1.3.3.3.1.1"><csymbol cd="latexml" id="S2.E1.m1.3.3.3.1.2.1.cmml" xref="S2.E1.m1.3.3.3.1.1.2">norm</csymbol><apply id="S2.E1.m1.3.3.3.1.1.1.cmml" xref="S2.E1.m1.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.1.1.1.1.cmml" xref="S2.E1.m1.3.3.3.1.1.1">subscript</csymbol><ci id="S2.E1.m1.3.3.3.1.1.1.2.cmml" xref="S2.E1.m1.3.3.3.1.1.1.2">𝑤</ci><ci id="S2.E1.m1.3.3.3.1.1.1.3.cmml" xref="S2.E1.m1.3.3.3.1.1.1.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.3c">LayerDensity=\frac{(1-TargetSparsity)*||w_{i}||}{\sum_{i=1}^{L}||w_{i}||}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<figure id="S2.F3" class="ltx_figure"><img src="/html/2209.06359/assets/images/reallocate.png" id="S2.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="319" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Reallocation process</figcaption>
</figure>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section" style="font-size:90%;">
<span class="ltx_tag ltx_tag_section">3 </span>Experiment Results</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection" style="font-size:90%;">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Experiment settings</h3>

<div id="S3.SS1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS1.p1.1" class="ltx_p"><span id="S3.SS1.p1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Model architecture.</span><span id="S3.SS1.p1.1.2" class="ltx_text" style="font-size:90%;">
We implemented the Federated Pruning in a distributed learning simulator. We use the state-of-the-art ASR model Conformer-transducer </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S3.SS1.p1.1.3.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib17" title="" class="ltx_ref">17</a><span id="S3.SS1.p1.1.4.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S3.SS1.p1.1.5" class="ltx_text" style="font-size:90%;"> as our base model. The model consists of 17 512-dimensional conformer encoder layers, a 640-dimensional embedding prediction network and a 2048-dimensional fully-connected joint network. In order to fit in our federated setting </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S3.SS1.p1.1.6.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a><span id="S3.SS1.p1.1.7.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S3.SS1.p1.1.8" class="ltx_text" style="font-size:90%;">, as suggested in </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S3.SS1.p1.1.9.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib11" title="" class="ltx_ref">11</a><span id="S3.SS1.p1.1.10.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S3.SS1.p1.1.11" class="ltx_text" style="font-size:90%;">, we change the original batch normalization to group normalization </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S3.SS1.p1.1.12.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib20" title="" class="ltx_ref">20</a><span id="S3.SS1.p1.1.13.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S3.SS1.p1.1.14" class="ltx_text" style="font-size:90%;">.
All the experiments share a same baseline model as initialization </span><math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="w^{0}" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><msup id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mi mathsize="90%" id="S3.SS1.p1.1.m1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.2.cmml">w</mi><mn mathsize="90%" id="S3.SS1.p1.1.m1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">superscript</csymbol><ci id="S3.SS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.2">𝑤</ci><cn type="integer" id="S3.SS1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">w^{0}</annotation></semantics></math><span id="S3.SS1.p1.1.15" class="ltx_text" style="font-size:90%;">. We follow the same settings of server/clients optimizer, SpecAugment </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S3.SS1.p1.1.16.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib21" title="" class="ltx_ref">21</a><span id="S3.SS1.p1.1.17.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S3.SS1.p1.1.18" class="ltx_text" style="font-size:90%;"> and number of clients as in previous work </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S3.SS1.p1.1.19.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib22" title="" class="ltx_ref">22</a><span id="S3.SS1.p1.1.20.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S3.SS1.p1.1.21" class="ltx_text" style="font-size:90%;">. The baseline model is trained from scratch for 30k federated rounds. Our metric Word Error Rate (WER) on the baseline model is shown in Table </span><a href="#S3.T3" title="Table 3 ‣ 3.3 Adaptive per-layer sparsity results ‣ 3 Experiment Results ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">3</span></a><span id="S3.SS1.p1.1.22" class="ltx_text" style="font-size:90%;">.</span></p>
</div>
<div id="S3.SS1.p2" class="ltx_para ltx_noindent">
<p id="S3.SS1.p2.1" class="ltx_p"><span id="S3.SS1.p2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Dataset.</span><span id="S3.SS1.p2.1.2" class="ltx_text" style="font-size:90%;"> We train and evaluate the proposed model on the public LibriSpeech </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S3.SS1.p2.1.3.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib23" title="" class="ltx_ref">23</a><span id="S3.SS1.p2.1.4.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S3.SS1.p2.1.5" class="ltx_text" style="font-size:90%;"> corpus, which consists of 970 hours of labeled speech. We also explore the performance on industry-scale data collected from different domains as described in </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S3.SS1.p2.1.6.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib24" title="" class="ltx_ref">24</a><span id="S3.SS1.p2.1.7.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S3.SS1.p2.1.8" class="ltx_text" style="font-size:90%;">. These multi-domain utterances contain 400k hours of speech and span domains of search, farfield, telephony and YouTube. Our work abides by Google AI Principles </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S3.SS1.p2.1.9.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib25" title="" class="ltx_ref">25</a><span id="S3.SS1.p2.1.10.2" class="ltx_text" style="font-size:90%;">]</span></cite><span id="S3.SS1.p2.1.11" class="ltx_text" style="font-size:90%;">, all datasets are anonymized and hand-transcribed.</span></p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection" style="font-size:90%;">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Federated pruning results</h3>

<figure id="S3.F4" class="ltx_figure"><img src="/html/2209.06359/assets/images/curve.png" id="S3.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="433" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Experiment results of different settings of Federated Pruning on the Librispeech datasets.</figcaption>
</figure>
<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.2" class="ltx_p"><span id="S3.SS2.p1.2.1" class="ltx_text" style="font-size:90%;">We prune all variables in each layer except the 1-D vector variable and the convolution layer which has specific utility and few parameters. The target sparsity level is the unified pruning percentage assigned for each variable. If we adopt the whole block pruning that prunes the entire column on </span><math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mi mathsize="90%" id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">W</annotation></semantics></math><span id="S3.SS2.p1.2.2" class="ltx_text" style="font-size:90%;">, it will further zero-out the corresponding row in next variable </span><math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="W^{\prime}" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><msup id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mi mathsize="90%" id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">W</mi><mo mathsize="90%" id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">superscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">𝑊</ci><ci id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">W^{\prime}</annotation></semantics></math><span id="S3.SS2.p1.2.3" class="ltx_text" style="font-size:90%;"> within the feed forward module in the Conformer blocks. The actual zero-parameter ratios of to-be-pruned variables are slightly higher than the target sparsity level. The detailed numbers are listed in Table </span><a href="#S3.T1" title="Table 1 ‣ 3.2 Federated pruning results ‣ 3 Experiment Results ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">1</span></a><span id="S3.SS2.p1.2.4" class="ltx_text" style="font-size:90%;">.</span></p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p"><span id="S3.SS2.p2.1.1" class="ltx_text" style="font-size:90%;">Figure </span><a href="#S3.F4" title="Figure 4 ‣ 3.2 Federated pruning results ‣ 3 Experiment Results ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">4</span></a><span id="S3.SS2.p2.1.2" class="ltx_text" style="font-size:90%;"> shows a rise in WERs on 4 Librispeech data subsets with the increase of sparsity levels. We also observed obvious quality degradation when the sparsity level </span><math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="&gt;" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><mo mathsize="90%" id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><gt id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">&gt;</annotation></semantics></math><span id="S3.SS2.p2.1.3" class="ltx_text" style="font-size:90%;"> 30% in all pruning schemes. Concretely, 0.2% absolute increase on WER was observed on both Dev and Test evaluation set in our default setting Weight-based column pruning when the sparsity level reached 0.3. As we mentioned in Section </span><a href="#S2.SS2" title="2.2 Pruning methods ‣ 2 Federated Pruning ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">2.2</span></a><span id="S3.SS2.p2.1.4" class="ltx_text" style="font-size:90%;">, different </span><em id="S3.SS2.p2.1.5" class="ltx_emph ltx_font_italic" style="font-size:90%;">pruning methods</em><span id="S3.SS2.p2.1.6" class="ltx_text" style="font-size:90%;"> can be used to estimate the importance of variables. We conduct ablation experiments of different measurements on the Librispeech dataset. Our empirical finding in Table </span><a href="#S3.T2" title="Table 2 ‣ 3.2 Federated pruning results ‣ 3 Experiment Results ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">2</span></a><span id="S3.SS2.p2.1.7" class="ltx_text" style="font-size:90%;"> suggests the weight-based score achieves similar WER as other metrics, while it is also the most communication efficient and stable metric. Thus, we rely on the weight-based score as the importance metric. In terms of the </span><em id="S3.SS2.p2.1.8" class="ltx_emph ltx_font_italic" style="font-size:90%;">pruning patterns</em><span id="S3.SS2.p2.1.9" class="ltx_text" style="font-size:90%;">, we compare the WERs of several FP variants at sparsity level 50% as illustrated in Figure </span><a href="#S3.F4" title="Figure 4 ‣ 3.2 Federated pruning results ‣ 3 Experiment Results ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">4</span></a><span id="S3.SS2.p2.1.10" class="ltx_text" style="font-size:90%;">. One can observe that column pruning and especially the half-column pruning consistently outperforms the row-based pruning. Thus, all experiments below adopt weight magnitude as pruning method and whole column as pruning pattern. With the subsequent fine-tuning phase, the pruning schedule has very limited effect on the WER, so we further fix the constant sparsity level as the default setting.</span></p>
</div>
<figure id="S3.T1" class="ltx_table">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 1: </span>Zero-Parameter Ratio w.r.t Target Sparsity Level</figcaption>
<div id="S3.T1.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:247.1pt;height:36pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
<table id="S3.T1.3.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T1.3.1.1.1" class="ltx_tr">
<th id="S3.T1.3.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span id="S3.T1.3.1.1.1.1.1" class="ltx_text" style="font-size:90%;">Sparsity Level</span></th>
<td id="S3.T1.3.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T1.3.1.1.1.2.1" class="ltx_text" style="font-size:90%;">0.10</span></td>
<td id="S3.T1.3.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T1.3.1.1.1.3.1" class="ltx_text" style="font-size:90%;">0.20</span></td>
<td id="S3.T1.3.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T1.3.1.1.1.4.1" class="ltx_text" style="font-size:90%;">0.30</span></td>
<td id="S3.T1.3.1.1.1.5" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T1.3.1.1.1.5.1" class="ltx_text" style="font-size:90%;">0.40</span></td>
<td id="S3.T1.3.1.1.1.6" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T1.3.1.1.1.6.1" class="ltx_text" style="font-size:90%;">0.50</span></td>
</tr>
<tr id="S3.T1.3.1.2.2" class="ltx_tr">
<th id="S3.T1.3.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t"><span id="S3.T1.3.1.2.2.1.1" class="ltx_text" style="font-size:90%;">Zero-Param Ratio</span></th>
<td id="S3.T1.3.1.2.2.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T1.3.1.2.2.2.1" class="ltx_text" style="font-size:90%;">0.136</span></td>
<td id="S3.T1.3.1.2.2.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T1.3.1.2.2.3.1" class="ltx_text" style="font-size:90%;">0.264</span></td>
<td id="S3.T1.3.1.2.2.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T1.3.1.2.2.4.1" class="ltx_text" style="font-size:90%;">0.384</span></td>
<td id="S3.T1.3.1.2.2.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T1.3.1.2.2.5.1" class="ltx_text" style="font-size:90%;">0.496</span></td>
<td id="S3.T1.3.1.2.2.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T1.3.1.2.2.6.1" class="ltx_text" style="font-size:90%;">0.60</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="S3.T2" class="ltx_table">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 2: </span>WERs of different pruning methods</figcaption>
<div id="S3.T2.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:247.8pt;height:90pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
<table id="S3.T2.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T2.1.1.2.1" class="ltx_tr">
<th id="S3.T2.1.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="S3.T2.1.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Pruning Methods</span></th>
<td id="S3.T2.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_tt" colspan="5"><span id="S3.T2.1.1.2.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">WER on Test with sparsity level</span></td>
</tr>
<tr id="S3.T2.1.1.3.2" class="ltx_tr">
<td id="S3.T2.1.1.3.2.1" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.3.2.1.1" class="ltx_text ltx_font_italic" style="font-size:90%;">0.10</span></td>
<td id="S3.T2.1.1.3.2.2" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.3.2.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">0.20</span></td>
<td id="S3.T2.1.1.3.2.3" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.3.2.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">0.30</span></td>
<td id="S3.T2.1.1.3.2.4" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.3.2.4.1" class="ltx_text ltx_font_italic" style="font-size:90%;">0.40</span></td>
<td id="S3.T2.1.1.3.2.5" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.3.2.5.1" class="ltx_text ltx_font_italic" style="font-size:90%;">0.50</span></td>
</tr>
<tr id="S3.T2.1.1.4.3" class="ltx_tr">
<th id="S3.T2.1.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="S3.T2.1.1.4.3.1.1" class="ltx_text" style="font-size:90%;">weight based</span></th>
<td id="S3.T2.1.1.4.3.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.1.1.4.3.2.1" class="ltx_text" style="font-size:90%;">2.1</span></td>
<td id="S3.T2.1.1.4.3.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.1.1.4.3.3.1" class="ltx_text" style="font-size:90%;">2.2</span></td>
<td id="S3.T2.1.1.4.3.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.1.1.4.3.4.1" class="ltx_text" style="font-size:90%;">2.3</span></td>
<td id="S3.T2.1.1.4.3.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.1.1.4.3.5.1" class="ltx_text" style="font-size:90%;">2.4</span></td>
<td id="S3.T2.1.1.4.3.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.1.1.4.3.6.1" class="ltx_text" style="font-size:90%;">2.5</span></td>
</tr>
<tr id="S3.T2.1.1.5.4" class="ltx_tr">
<th id="S3.T2.1.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><span id="S3.T2.1.1.5.4.1.1" class="ltx_text" style="font-size:90%;">gradient based</span></th>
<td id="S3.T2.1.1.5.4.2" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.5.4.2.1" class="ltx_text" style="font-size:90%;">2.2</span></td>
<td id="S3.T2.1.1.5.4.3" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.5.4.3.1" class="ltx_text" style="font-size:90%;">2.3</span></td>
<td id="S3.T2.1.1.5.4.4" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.5.4.4.1" class="ltx_text" style="font-size:90%;">2.3</span></td>
<td id="S3.T2.1.1.5.4.5" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.5.4.5.1" class="ltx_text" style="font-size:90%;">2.3</span></td>
<td id="S3.T2.1.1.5.4.6" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.5.4.6.1" class="ltx_text" style="font-size:90%;">2.4</span></td>
</tr>
<tr id="S3.T2.1.1.1" class="ltx_tr">
<th id="S3.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r">
<span id="S3.T2.1.1.1.1.1" class="ltx_text" style="font-size:90%;">weight</span><math id="S3.T2.1.1.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S3.T2.1.1.1.1.m1.1a"><mo mathsize="90%" id="S3.T2.1.1.1.1.m1.1.1" xref="S3.T2.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S3.T2.1.1.1.1.m1.1b"><times id="S3.T2.1.1.1.1.m1.1.1.cmml" xref="S3.T2.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.1.1.1.1.m1.1c">\times</annotation></semantics></math><span id="S3.T2.1.1.1.1.2" class="ltx_text" style="font-size:90%;">gradient based</span>
</th>
<td id="S3.T2.1.1.1.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T2.1.1.1.2.1" class="ltx_text" style="font-size:90%;">2.1</span></td>
<td id="S3.T2.1.1.1.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T2.1.1.1.3.1" class="ltx_text" style="font-size:90%;">2.2</span></td>
<td id="S3.T2.1.1.1.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T2.1.1.1.4.1" class="ltx_text" style="font-size:90%;">2.2</span></td>
<td id="S3.T2.1.1.1.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T2.1.1.1.5.1" class="ltx_text" style="font-size:90%;">2.3</span></td>
<td id="S3.T2.1.1.1.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T2.1.1.1.6.1" class="ltx_text" style="font-size:90%;">2.4</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection" style="font-size:90%;">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Adaptive per-layer sparsity results</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p"><span id="S3.SS3.p1.1.1" class="ltx_text" style="font-size:90%;">We propose the adaptive per-layer sparsity to make our method more flexible and dynamic, which allows reallocation of target pruning budgets among layers. Table </span><a href="#S3.T3" title="Table 3 ‣ 3.3 Adaptive per-layer sparsity results ‣ 3 Experiment Results ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">3</span></a><span id="S3.SS3.p1.1.2" class="ltx_text" style="font-size:90%;"> demonstrates that, compared to federated pruning with unified sparsity, the adaptive sparsity achieves lower WERs on all evaluation sets with 50% sparsity level.</span></p>
</div>
<figure id="S3.T3" class="ltx_table">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 3: </span>WERs of unified / adaptive sparsity at Sparsity 50%.</figcaption>
<div id="S3.T3.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:247.7pt;height:90pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
<table id="S3.T3.3.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T3.3.1.1.1" class="ltx_tr">
<th id="S3.T3.3.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="S3.T3.3.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Exp.</span></th>
<th id="S3.T3.3.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4"><span id="S3.T3.3.1.1.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">WER</span></th>
</tr>
<tr id="S3.T3.3.1.2.2" class="ltx_tr">
<th id="S3.T3.3.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T3.3.1.2.2.1.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Test</span></th>
<th id="S3.T3.3.1.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T3.3.1.2.2.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">TestOther</span></th>
<th id="S3.T3.3.1.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T3.3.1.2.2.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Dev</span></th>
<th id="S3.T3.3.1.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T3.3.1.2.2.4.1" class="ltx_text ltx_font_italic" style="font-size:90%;">DevOther</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T3.3.1.3.1" class="ltx_tr">
<th id="S3.T3.3.1.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="S3.T3.3.1.3.1.1.1" class="ltx_text" style="font-size:90%;">Baseline</span></th>
<td id="S3.T3.3.1.3.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T3.3.1.3.1.2.1" class="ltx_text" style="font-size:90%;">2.1</span></td>
<td id="S3.T3.3.1.3.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T3.3.1.3.1.3.1" class="ltx_text" style="font-size:90%;">4.9</span></td>
<td id="S3.T3.3.1.3.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T3.3.1.3.1.4.1" class="ltx_text" style="font-size:90%;">2.3</span></td>
<td id="S3.T3.3.1.3.1.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T3.3.1.3.1.5.1" class="ltx_text" style="font-size:90%;">4.9</span></td>
</tr>
<tr id="S3.T3.3.1.4.2" class="ltx_tr">
<th id="S3.T3.3.1.4.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><span id="S3.T3.3.1.4.2.1.1" class="ltx_text" style="font-size:90%;">Unified Sparsity</span></th>
<td id="S3.T3.3.1.4.2.2" class="ltx_td ltx_align_center"><span id="S3.T3.3.1.4.2.2.1" class="ltx_text" style="font-size:90%;">2.5</span></td>
<td id="S3.T3.3.1.4.2.3" class="ltx_td ltx_align_center"><span id="S3.T3.3.1.4.2.3.1" class="ltx_text" style="font-size:90%;">5.9</span></td>
<td id="S3.T3.3.1.4.2.4" class="ltx_td ltx_align_center"><span id="S3.T3.3.1.4.2.4.1" class="ltx_text" style="font-size:90%;">2.8</span></td>
<td id="S3.T3.3.1.4.2.5" class="ltx_td ltx_align_center"><span id="S3.T3.3.1.4.2.5.1" class="ltx_text" style="font-size:90%;">5.9</span></td>
</tr>
<tr id="S3.T3.3.1.5.3" class="ltx_tr">
<th id="S3.T3.3.1.5.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r"><span id="S3.T3.3.1.5.3.1.1" class="ltx_text" style="font-size:90%;">Adaptive Sparsity</span></th>
<td id="S3.T3.3.1.5.3.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.3.1.5.3.2.1" class="ltx_text" style="font-size:90%;">2.4</span></td>
<td id="S3.T3.3.1.5.3.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.3.1.5.3.3.1" class="ltx_text" style="font-size:90%;">5.6</span></td>
<td id="S3.T3.3.1.5.3.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.3.1.5.3.4.1" class="ltx_text" style="font-size:90%;">2.6</span></td>
<td id="S3.T3.3.1.5.3.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.3.1.5.3.5.1" class="ltx_text" style="font-size:90%;">5.7</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection" style="font-size:90%;">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>With and without mask refinement</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p"><span id="S3.SS4.p1.1.1" class="ltx_text" style="font-size:90%;">To actually reduce the model size,
the masked regions on server model are eventually zero-out by FP. On the other hand, the </span><em id="S3.SS4.p1.1.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Mask Refinement</em><span id="S3.SS4.p1.1.3" class="ltx_text" style="font-size:90%;"> phase introduced in Section </span><a href="#S2.SS3" title="2.3 Mask refinement ‣ 2 Federated Pruning ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">2.3</span></a><span id="S3.SS4.p1.1.4" class="ltx_text" style="font-size:90%;"> maintains the original values for masked regions. The pruned variables are allowed to grow back, leading to higher flexibility and thus, lower WERs as shown in Table </span><a href="#S3.T4" title="Table 4 ‣ 3.4 With and without mask refinement ‣ 3 Experiment Results ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">4</span></a><span id="S3.SS4.p1.1.5" class="ltx_text" style="font-size:90%;">.</span></p>
</div>
<figure id="S3.T4" class="ltx_table">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 4: </span>WERs of w/o and w/ Mask Refinement at Sparsity 40%.</figcaption>
<div id="S3.T4.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:244.3pt;height:72pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
<table id="S3.T4.3.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T4.3.1.1.1" class="ltx_tr">
<th id="S3.T4.3.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" rowspan="2"><span id="S3.T4.3.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Exp.</span></th>
<th id="S3.T4.3.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4"><span id="S3.T4.3.1.1.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">WER</span></th>
</tr>
<tr id="S3.T4.3.1.2.2" class="ltx_tr">
<td id="S3.T4.3.1.2.2.1" class="ltx_td ltx_align_center"><span id="S3.T4.3.1.2.2.1.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Test</span></td>
<td id="S3.T4.3.1.2.2.2" class="ltx_td ltx_align_center"><span id="S3.T4.3.1.2.2.2.1" class="ltx_text ltx_font_italic" style="font-size:90%;">TestOther</span></td>
<td id="S3.T4.3.1.2.2.3" class="ltx_td ltx_align_center"><span id="S3.T4.3.1.2.2.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Dev</span></td>
<td id="S3.T4.3.1.2.2.4" class="ltx_td ltx_align_center"><span id="S3.T4.3.1.2.2.4.1" class="ltx_text ltx_font_italic" style="font-size:90%;">DevOther</span></td>
</tr>
<tr id="S3.T4.3.1.3.3" class="ltx_tr">
<th id="S3.T4.3.1.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span id="S3.T4.3.1.3.3.1.1" class="ltx_text" style="font-size:90%;">w/o Mask Refine</span></th>
<th id="S3.T4.3.1.3.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S3.T4.3.1.3.3.2.1" class="ltx_text" style="font-size:90%;">2.3</span></th>
<th id="S3.T4.3.1.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S3.T4.3.1.3.3.3.1" class="ltx_text" style="font-size:90%;">5.5</span></th>
<th id="S3.T4.3.1.3.3.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S3.T4.3.1.3.3.4.1" class="ltx_text" style="font-size:90%;">2.6</span></th>
<th id="S3.T4.3.1.3.3.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S3.T4.3.1.3.3.5.1" class="ltx_text" style="font-size:90%;">5.7</span></th>
</tr>
<tr id="S3.T4.3.1.4.4" class="ltx_tr">
<th id="S3.T4.3.1.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r"><span id="S3.T4.3.1.4.4.1.1" class="ltx_text" style="font-size:90%;">w/ Mask Refine</span></th>
<td id="S3.T4.3.1.4.4.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T4.3.1.4.4.2.1" class="ltx_text" style="font-size:90%;">2.3</span></td>
<td id="S3.T4.3.1.4.4.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T4.3.1.4.4.3.1" class="ltx_text" style="font-size:90%;">5.3</span></td>
<td id="S3.T4.3.1.4.4.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T4.3.1.4.4.4.1" class="ltx_text" style="font-size:90%;">2.5</span></td>
<td id="S3.T4.3.1.4.4.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T4.3.1.4.4.5.1" class="ltx_text" style="font-size:90%;">5.3</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection" style="font-size:90%;">
<span class="ltx_tag ltx_tag_subsection">3.5 </span>Results on short-form multi-domain dataset</h3>

<div id="S3.SS5.p1" class="ltx_para">
<p id="S3.SS5.p1.1" class="ltx_p"><span id="S3.SS5.p1.1.1" class="ltx_text" style="font-size:90%;">Finally, we show the results on the large-scale short-form multi-domain dataset. The reduced model is trained on our multi-domain utterances and evaluated on the short-form dataset. Table </span><a href="#S3.T5" title="Table 5 ‣ 3.5 Results on short-form multi-domain dataset ‣ 3 Experiment Results ‣ Federated Pruning: Improving Neural Network Efficiency with Federated Learning" class="ltx_ref" style="font-size:90%;"><span class="ltx_text ltx_ref_tag">5</span></a><span id="S3.SS5.p1.1.2" class="ltx_text" style="font-size:90%;"> demonstrates the WERs on different sparsity levels. We conclude that our model can still achieve comparable performance to the baseline model (with sparsity level </span><math id="S3.SS5.p1.1.m1.1" class="ltx_Math" alttext="0.0" display="inline"><semantics id="S3.SS5.p1.1.m1.1a"><mn mathsize="90%" id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml">0.0</mn><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><cn type="float" id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">0.0</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">0.0</annotation></semantics></math><span id="S3.SS5.p1.1.3" class="ltx_text" style="font-size:90%;">) on challenging dataset in the low sparsity level setting.</span></p>
</div>
<figure id="S3.T5" class="ltx_table">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 5: </span>WERs of federated pruning on the voice search dataset.</figcaption>
<div id="S3.T5.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:237.2pt;height:36pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
<table id="S3.T5.3.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T5.3.1.1.1" class="ltx_tr">
<th id="S3.T5.3.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span id="S3.T5.3.1.1.1.1.1" class="ltx_text" style="font-size:90%;">Sparsity Level</span></th>
<td id="S3.T5.3.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T5.3.1.1.1.2.1" class="ltx_text" style="font-size:90%;">0.0</span></td>
<td id="S3.T5.3.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T5.3.1.1.1.3.1" class="ltx_text" style="font-size:90%;">0.10</span></td>
<td id="S3.T5.3.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T5.3.1.1.1.4.1" class="ltx_text" style="font-size:90%;">0.20</span></td>
<td id="S3.T5.3.1.1.1.5" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T5.3.1.1.1.5.1" class="ltx_text" style="font-size:90%;">0.30</span></td>
<td id="S3.T5.3.1.1.1.6" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T5.3.1.1.1.6.1" class="ltx_text" style="font-size:90%;">0.40</span></td>
<td id="S3.T5.3.1.1.1.7" class="ltx_td ltx_align_center ltx_border_tt"><span id="S3.T5.3.1.1.1.7.1" class="ltx_text" style="font-size:90%;">0.50</span></td>
</tr>
<tr id="S3.T5.3.1.2.2" class="ltx_tr">
<th id="S3.T5.3.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t"><span id="S3.T5.3.1.2.2.1.1" class="ltx_text" style="font-size:90%;">WER</span></th>
<td id="S3.T5.3.1.2.2.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T5.3.1.2.2.2.1" class="ltx_text" style="font-size:90%;">6.4</span></td>
<td id="S3.T5.3.1.2.2.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T5.3.1.2.2.3.1" class="ltx_text" style="font-size:90%;">6.7</span></td>
<td id="S3.T5.3.1.2.2.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T5.3.1.2.2.4.1" class="ltx_text" style="font-size:90%;">7.0</span></td>
<td id="S3.T5.3.1.2.2.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T5.3.1.2.2.5.1" class="ltx_text" style="font-size:90%;">7.4</span></td>
<td id="S3.T5.3.1.2.2.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T5.3.1.2.2.6.1" class="ltx_text" style="font-size:90%;">7.9</span></td>
<td id="S3.T5.3.1.2.2.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S3.T5.3.1.2.2.7.1" class="ltx_text" style="font-size:90%;">8.9</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section" style="font-size:90%;">
<span class="ltx_tag ltx_tag_section">4 </span>Conclusion</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p"><span id="S4.p1.1.1" class="ltx_text" style="font-size:90%;">We proposed the Federated Pruning method to find the efficient reduced model in FL settings. There are two advantages of FP. First, the training cost of clients, including the on-device training memory and communication, are alleviated due to the pruned and reduced model. Second, the model pruning quality can also be improved with the vast amount of clients data. We also proposed a new pruning method of the layer-wise sparsity level reallocation to improve the pruning quality. We showed in experiments that the FP trained model can achieve comparable quality of the full model.</span></p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography" style="font-size:90%;">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock"><span id="bib.bib1.1.1" class="ltx_text" style="font-size:90%;">
J. Li, Y. Wu, Y. Gaur, C. Wang, R. Zhao, and S. Liu, “On the comparison of
popular end-to-end models for large scale speech recognition,” </span><em id="bib.bib1.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv
preprint arXiv:2005.14327</em><span id="bib.bib1.3.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock"><span id="bib.bib2.1.1" class="ltx_text" style="font-size:90%;">
A. Dosovitskiy, L. Beyer, A. Kolesnikov, D. Weissenborn, X. Zhai,
T. Unterthiner, M. Dehghani, M. Minderer, G. Heigold, S. Gelly </span><em id="bib.bib2.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">et al.</em><span id="bib.bib2.3.3" class="ltx_text" style="font-size:90%;">,
“An image is worth 16x16 words: Transformers for image recognition at
scale,” </span><em id="bib.bib2.4.4" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2010.11929</em><span id="bib.bib2.5.5" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock"><span id="bib.bib3.1.1" class="ltx_text" style="font-size:90%;">
B. McCann, J. Bradbury, C. Xiong, and R. Socher, “Learned in translation:
Contextualized word vectors,” </span><em id="bib.bib3.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in neural information
processing systems</em><span id="bib.bib3.3.3" class="ltx_text" style="font-size:90%;">, vol. 30, 2017.
</span>
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text" style="font-size:90%;">
P. Kairouz, H. Brendan McMahan, B. Avent, A. Bellet, M. Bennis, A. N. Bhagoji,
K. Bonawitz, Z. Charles, G. Cormode, R. Cummings, R. G. L. D’Oliveira,
H. Eichner, S. El Rouayheb, D. Evans, J. Gardner, Z. Garrett, A. Gascón,
B. Ghazi, P. B. Gibbons, M. Gruteser, Z. Harchaoui, C. He, L. He, Z. Huo,
B. Hutchinson, J. Hsu, M. Jaggi, T. Javidi, G. Joshi, M. Khodak, J. Konečný, A. Korolova, F. Koushanfar, S. Koyejo, T. Lepoint, Y. Liu,
P. Mittal, M. Mohri, R. Nock, A. Özgür, R. Pagh, M. Raykova, H. Qi,
D. Ramage, R. Raskar, D. Song, W. Song, S. U. Stich, Z. Sun, A. T. Suresh,
F. Tramèr, P. Vepakomma, J. Wang, L. Xiong, Z. Xu, Q. Yang, F. X. Yu,
H. Yu, and S. Zhao, “Advances and open problems in federated learning,”
</span><em id="bib.bib4.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1912.04977</em><span id="bib.bib4.3.3" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text" style="font-size:90%;">
A. Gulati, J. Qin, C.-C. Chiu, N. Parmar, Y. Zhang, J. Yu, W. Han, S. Wang,
Z. Zhang, Y. Wu </span><em id="bib.bib5.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">et al.</em><span id="bib.bib5.3.3" class="ltx_text" style="font-size:90%;">, “Conformer: Convolution-augmented transformer
for speech recognition,” </span><em id="bib.bib5.4.4" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2005.08100</em><span id="bib.bib5.5.5" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text" style="font-size:90%;">
S. Han, H. Mao, and W. J. Dally, “Deep compression: Compressing deep neural
networks with pruning, trained quantization and huffman coding,” </span><em id="bib.bib6.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv
preprint arXiv:1510.00149</em><span id="bib.bib6.3.3" class="ltx_text" style="font-size:90%;">, 2015.
</span>
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text" style="font-size:90%;">
T.-J. Yang, Y.-H. Chen, and V. Sze, “Designing energy-efficient convolutional
neural networks using energy-aware pruning,” in </span><em id="bib.bib7.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Conference on
Computer Vision and Pattern Recognition (CVPR)</em><span id="bib.bib7.3.3" class="ltx_text" style="font-size:90%;">, 2017.
</span>
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text" style="font-size:90%;">
J. Frankle and M. Carbin, “The lottery ticket hypothesis: Finding sparse,
trainable neural networks,” </span><em id="bib.bib8.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1803.03635</em><span id="bib.bib8.3.3" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text" style="font-size:90%;">
D. C. Mocanu, E. Mocanu, P. Stone, P. H. Nguyen, M. Gibescu, and A. Liotta,
“Scalable training of artificial neural networks with adaptive sparse
connectivity inspired by network science,” </span><em id="bib.bib9.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Nature communications</em><span id="bib.bib9.3.3" class="ltx_text" style="font-size:90%;">,
vol. 9, no. 1, pp. 1–12, 2018.
</span>
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text" style="font-size:90%;">
H. Mostafa and X. Wang, “Parameter efficient training of deep convolutional
neural networks by dynamic sparse reparameterization,” in
</span><em id="bib.bib10.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Machine Learning</em><span id="bib.bib10.3.3" class="ltx_text" style="font-size:90%;">.   PMLR, 2019, pp. 4646–4655.
</span>
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text" style="font-size:90%;">
D. Guliani, L. Zhou, C. Ryu, T.-J. Yang, H. Zhang, Y. Xiao, F. Beaufays, and
G. Motta, “Enabling on-device training of speech recognition models with
federated dropout,” </span><em id="bib.bib11.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2110.03634</em><span id="bib.bib11.3.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_text" style="font-size:90%;">
Y. Jiang, S. Wang, B. J. Ko, W. Lee, and L. Tassiulas, “Model pruning enables
efficient federated learning on edge devices,” </span><em id="bib.bib12.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint
arXiv:1909.12326</em><span id="bib.bib12.3.3" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text" style="font-size:90%;">
H. B. McMahan, E. Moore, D. Ramage, S. Hampson, and B. A. y Arcas,
“Communication-efficient learning of deep networks from decentralized data
(2016),” </span><em id="bib.bib13.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1602.05629</em><span id="bib.bib13.3.3" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock"><span id="bib.bib14.1.1" class="ltx_text" style="font-size:90%;">
Z. Wu, D. Zhao, Q. Liang, J. Yu, A. Gulati, and R. Pang, “Dynamic sparsity
neural networks for automatic speech recognition,” 2020. [Online].
Available: https://arxiv.org/abs/2005.10627
</span>
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock"><span id="bib.bib15.1.1" class="ltx_text" style="font-size:90%;">
J. Yu, L. Yang, N. Xu, J. Yang, and T. Huang, “Slimmable neural networks,”
2018. [Online]. Available: https://arxiv.org/abs/1812.08928
</span>
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text" style="font-size:90%;">
L. Zhou, D. Guliani, A. Kabel, G. Motta, and F. Beaufays, “Exploring
heterogeneous characteristics of layers in asr models for more efficient
training,” </span><em id="bib.bib16.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2110.04267</em><span id="bib.bib16.3.3" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text" style="font-size:90%;">
B. Li, A. Gulati, J. Yu, T. N. Sainath, C.-C. Chiu, A. Narayanan, S.-Y. Chang,
R. Pang, Y. He, J. Qin </span><em id="bib.bib17.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">et al.</em><span id="bib.bib17.3.3" class="ltx_text" style="font-size:90%;">, “A better and faster end-to-end model
for streaming asr,” in </span><em id="bib.bib17.4.4" class="ltx_emph ltx_font_italic" style="font-size:90%;">ICASSP 2021-2021 IEEE International Conference
on Acoustics, Speech and Signal Processing (ICASSP)</em><span id="bib.bib17.5.5" class="ltx_text" style="font-size:90%;">.   IEEE, 2021, pp. 5634–5638.
</span>
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text" style="font-size:90%;">
K. Hsieh, A. Phanishayee, O. Mutlu, and P. Gibbons, “The non-iid data quagmire
of decentralized machine learning,” in </span><em id="bib.bib18.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on
Machine Learning</em><span id="bib.bib18.3.3" class="ltx_text" style="font-size:90%;">.   PMLR, 2020, pp.
4387–4398.
</span>
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text" style="font-size:90%;">
S. Reddi, Z. Charles, M. Zaheer, Z. Garrett, K. Rush, J. Konečnỳ,
S. Kumar, and H. B. McMahan, “Adaptive federated optimization,” </span><em id="bib.bib19.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv
preprint arXiv:2003.00295</em><span id="bib.bib19.3.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text" style="font-size:90%;">
Y. Wu and K. He, “Group normalization,” in </span><em id="bib.bib20.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the European
conference on computer vision (ECCV)</em><span id="bib.bib20.3.3" class="ltx_text" style="font-size:90%;">, 2018, pp. 3–19.
</span>
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock"><span id="bib.bib21.1.1" class="ltx_text" style="font-size:90%;">
D. S. Park, W. Chan, Y. Zhang, C.-C. Chiu, B. Zoph, E. D. Cubuk, and Q. V. Le,
“Specaugment: A simple data augmentation method for automatic speech
recognition,” </span><em id="bib.bib21.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1904.08779</em><span id="bib.bib21.3.3" class="ltx_text" style="font-size:90%;">, 2019.
</span>
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock"><span id="bib.bib22.1.1" class="ltx_text" style="font-size:90%;">
D. Guliani, F. Beaufays, and G. Motta, “Training speech recognition models
with federated learning: A quality/cost framework,” in </span><em id="bib.bib22.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">ICASSP
2021-2021 IEEE International Conference on Acoustics, Speech and Signal
Processing (ICASSP)</em><span id="bib.bib22.3.3" class="ltx_text" style="font-size:90%;">.   IEEE, 2021, pp.
3080–3084.
</span>
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock"><span id="bib.bib23.1.1" class="ltx_text" style="font-size:90%;">
V. Panayotov, G. Chen, D. Povey, and S. Khudanpur, “Librispeech: an asr corpus
based on public domain audio books,” in </span><em id="bib.bib23.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">2015 IEEE international
conference on acoustics, speech and signal processing (ICASSP)</em><span id="bib.bib23.3.3" class="ltx_text" style="font-size:90%;">.   IEEE, 2015, pp. 5206–5210.
</span>
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock"><span id="bib.bib24.1.1" class="ltx_text" style="font-size:90%;">
A. Narayanan, R. Prabhavalkar, C.-C. Chiu, D. Rybach, T. N. Sainath, and
T. Strohman, “Recognizing long-form speech using streaming end-to-end
models,” in </span><em id="bib.bib24.2.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">2019 IEEE Automatic Speech Recognition and Understanding
Workshop (ASRU)</em><span id="bib.bib24.3.3" class="ltx_text" style="font-size:90%;">.   IEEE, 2019, pp.
920–927.
</span>
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock"><span id="bib.bib25.1.1" class="ltx_text" style="font-size:90%;">
Google, “Artificial intelligence at google: Our principles.” [Online].
Available: https://ai.google/principles/
</span>
</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2209.06358" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2209.06359" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2209.06359">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2209.06359" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2209.06360" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Mar 13 21:47:32 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
