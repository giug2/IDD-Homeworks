<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2305.04063] Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models</title><meta property="og:description" content="Recently, semi-supervised federated learning (semi-FL) has been proposed to handle the commonly seen real-world scenarios with labeled data on the server and unlabeled data on the clients. However, existing methods fac…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2305.04063">

<!--Generated on Thu Feb 29 09:21:57 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Exploring One-Shot Semi-Supervised Federated Learning 
<br class="ltx_break">with Pre-trained Diffusion Models</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Mingzhao Yang <span id="id1.1.id1" class="ltx_ERROR undefined">\equalcontrib</span>,
Shangchao Su <span id="id2.2.id2" class="ltx_ERROR undefined">\equalcontrib</span>,
Bin Li ,
Xiangyang Xue
</span><span class="ltx_author_notes">Corresponding author</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id3.id1" class="ltx_p">Recently, semi-supervised federated learning (semi-FL) has been proposed to handle the commonly seen real-world scenarios with labeled data on the server and unlabeled data on the clients. However, existing methods face several challenges such as communication costs, data heterogeneity, and training pressure on client devices. To address these challenges, we introduce the powerful diffusion models (DM) into semi-FL and propose <span id="id3.id1.1" class="ltx_text ltx_font_bold">FedDISC</span>, a <span id="id3.id1.2" class="ltx_text ltx_font_bold">Fed</span>erated <span id="id3.id1.3" class="ltx_text ltx_font_bold">D</span>iffusion-<span id="id3.id1.4" class="ltx_text ltx_font_bold">I</span>nspired <span id="id3.id1.5" class="ltx_text ltx_font_bold">S</span>emi-supervised <span id="id3.id1.6" class="ltx_text ltx_font_bold">C</span>o-training method. Specifically, we first extract prototypes of the labeled server data and use these prototypes to predict pseudo-labels of the client data. For each category, we compute the cluster centroids and domain-specific representations to signify the semantic and stylistic information of their distributions. After adding noise, these representations are sent back to the server, which uses the pre-trained DM to generate synthetic datasets complying with the client distributions and train a global model on it. With the assistance of vast knowledge within DM, the synthetic datasets have comparable quality and diversity to the client images, subsequently enabling the training of global models that achieve performance equivalent to or even surpassing the ceiling of supervised centralized training. FedDISC works within one communication round, does not require any local training, and involves very minimal information uploading, greatly enhancing its practicality. Extensive experiments on three large-scale datasets demonstrate that FedDISC effectively addresses the semi-FL problem on non-IID clients and outperforms the compared SOTA methods. Sufficient visualization experiments also illustrate that the synthetic dataset generated by FedDISC exhibits comparable diversity and quality to the original client dataset, with a neglectable possibility of leaking privacy-sensitive information of the clients.<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Code available at <a target="_blank" href="https://github.com/MingzhaoYang/FedDISC" title="" class="ltx_ref ltx_href">https://github.com/MingzhaoYang/FedDISC</a></span></span></span></p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated Learning (FL) <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al. <a href="#bib.bib25" title="" class="ltx_ref">2017</a>)</cite> is a new paradigm of machine learning that allows multiple clients to perform collaborative training without sharing private data. Realistic FL scenarios, such as mobile album classification and autonomous driving <cite class="ltx_cite ltx_citemacro_citep">(Nguyen et al. <a href="#bib.bib26" title="" class="ltx_ref">2022</a>; Fantauzzo et al. <a href="#bib.bib7" title="" class="ltx_ref">2022</a>)</cite>, often involve individual users who are unwilling or unable to provide reliable annotations. This often results in the client data being unlabeled in practice. Semi-supervised FL (Semi-FL) <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al. <a href="#bib.bib46" title="" class="ltx_ref">2021b</a>; Diao, Ding, and Tarokh <a href="#bib.bib3" title="" class="ltx_ref">2021</a>; Jeong et al. <a href="#bib.bib13" title="" class="ltx_ref">2021</a>)</cite> has been proposed to address this issue. In this setting, there are multiple clients with unlabeled data and a server with labeled data. The goal of semi-FL is to obtain a global model that adapts to all client distributions.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Due to its allowance for unlabeled client data, semi-FL should be the most practically valuable topic within FL. However, existing semi-FL methods are unable to be practically deployed in real-world scenarios due to the following reasons  <cite class="ltx_cite ltx_citemacro_citep">(Li et al. <a href="#bib.bib19" title="" class="ltx_ref">2020a</a>; Kairouz et al. <a href="#bib.bib14" title="" class="ltx_ref">2021</a>; Mammen <a href="#bib.bib24" title="" class="ltx_ref">2021</a>)</cite>: Firstly, the primary challenge lies in communication. Currently, all semi-FL methods heavily rely on multi-round communication, which significantly increases the burden on the clients. Secondly, the challenge of data heterogeneity persists in semi-FL. When there are distribution differences between the server and the clients, the performance of the global model significantly decreases. The third point pertains to the diverse devices of clients in real-world scenarios. While many FL methods do not restrict the computing power of the clients, one of the greatest challenges in the practical implementation of FL methods is that most clients cannot support model training on their devices, such as a significant portion of mobile terminals in scenarios like mobile album classification and autonomous driving. Hence, to address the aforementioned challenges, it is essential to establish a <span id="S1.p2.1.1" class="ltx_text ltx_font_bold">one-shot semi-FL method without any client training</span>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Recently, the development of diffusion models (DM) <cite class="ltx_cite ltx_citemacro_citep">(Radford et al. <a href="#bib.bib30" title="" class="ltx_ref">2021</a>; Rombach et al. <a href="#bib.bib32" title="" class="ltx_ref">2022</a>)</cite> offers fresh opportunities. These pre-trained DMs exhibit remarkable performance. With proper guidance, these DMs can generate data with sufficient variety in both categories and distributions. If there is a method to generate guidance about the personalized distributions of the clients, it becomes possible to limitlessly generate high-quality, large-scale realistic images that comply with various client distributions in semi-FL. With the synthetic datasets, we can achieve one-shot semi-FL without the need for any client training, even in scenarios with highly non-IID clients. This approach simultaneously addresses the aforementioned three challenges and significantly enhances the practicality of semi-FL.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Furthermore, an additional pivotal advantage of applying pre-trained DMs in semi-FL is the potential to surmount the ”performance ceiling” of traditional FL, which involves uploading all client images to the server for the centralized training of the global model. This inaccessible ceiling bypasses any performance losses caused by distributed training and privacy preservation, enabling the training of the optimal global model. In semi-FL, this ceiling becomes even more unattainable, as the data uploaded to the server can be labeled, introducing additional supervised information. But even this ceiling performance is constrained by the knowledge within the client samples.
However, with the vast knowledge within the DMs, it becomes possible to generate samples with both more diversity and quality than the original client data, with the great possibility of surpassing the ceiling performance of centralized training.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Motivated by these opportunities, in this paper, we introduce <span id="S1.p5.1.1" class="ltx_text ltx_font_bold">FedDISC</span>, a <span id="S1.p5.1.2" class="ltx_text ltx_font_bold">Fed</span>erated <span id="S1.p5.1.3" class="ltx_text ltx_font_bold">D</span>iffusion-<span id="S1.p5.1.4" class="ltx_text ltx_font_bold">I</span>nspired <span id="S1.p5.1.5" class="ltx_text ltx_font_bold">S</span>emi-supervised <span id="S1.p5.1.6" class="ltx_text ltx_font_bold">C</span>o-training method, to leverage powerful foundation models in one-shot semi-FL. In brief, FedDISC involves four key steps: Firstly, following the common approach in semi-FL, we obtain prototypes for each category at the server and then send these prototypes to the clients. Secondly, the clients extract the features of the unlabeled client images and employ the received prototypes to assign pseudo-labels to these images. Thirdly, we obtain some cluster centroids and a domain-specific representation by clustering and averaging the client features for each category. These selected features possess the capability to capture the semantic information and the style characteristics of the personalized client distribution, which is then transmitted to the server. Finally, guided by the received representations, the server utilizes the pre-trained DM to limitlessly generate various samples complying with the specified distributions, resulting in a high-quality synthetic dataset. With the powerful DM, the generated samples closely resemble both the distribution and quality of the client dataset, enabling us to train a global model that achieves performance comparable to the ceiling performance or even surpassing it in some cases.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">Our experiments on DomainNet <cite class="ltx_cite ltx_citemacro_citep">(Peng et al. <a href="#bib.bib28" title="" class="ltx_ref">2019</a>)</cite>, OpenImage <cite class="ltx_cite ltx_citemacro_citep">(Kuznetsova et al. <a href="#bib.bib18" title="" class="ltx_ref">2020</a>)</cite>, and NICO++ <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al. <a href="#bib.bib45" title="" class="ltx_ref">2022b</a>)</cite> demonstrate that FedDISC can obtain a high-performance global model that adapts to various client distributions within one round communication. In some cases, it even outperforms the ceiling of centralized training. A large number of visualization experiments also demonstrate that we can generate synthetic datasets that exhibit quality and diversity comparable to the original client datasets, without the leaking of privacy-sensitive information. In certain cases, these synthetic datasets can even possess a more comprehensive knowledge than the original client datasets.</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">Our contributions are summarized as follows:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We demonstrate the excellent performance of DMs when applied to FL, enabling us to obtain high-quality large-scale synthetic datasets complying with the various client distributions without any training on the clients, which has not been explored before.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We propose the FedDISC method. With the help of cluster centroids and domain-specific representations, our method further improves both the quality and variety of the generated samples, resulting in a global model that has the potential to outperform the performance ceiling of centralized training with only one communication round.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We conduct extensive experiments on multiple real-world large-scale image datasets to validate the effectiveness of FedDISC. The results demonstrate that FedDISC outperforms compared with all the baseline methods. In some cases, it even surpasses the performance ceiling of traditional FL. The sufficient visualization experiments also illustrate that our method can generate synthetic datasets with competitive quality and diversity compared to the original client images, without any leaking of the privacy-sensitive information of the clients.</p>
</div>
</li>
</ul>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2305.04063/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="198" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>
The framework of FedDISC. The overall method consists of four steps: Prototype Extraction, Pseudo Labeling, Feature Processing, and Image Generation.
</figcaption>
</figure>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Works</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Federated Learning</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p"><span id="S2.SS1.p1.1.1" class="ltx_text ltx_font_bold">Supervised Federated Learning.</span> FedAvg <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al. <a href="#bib.bib25" title="" class="ltx_ref">2017</a>)</cite> proposes the FL problem setting. However, some studies <cite class="ltx_cite ltx_citemacro_citep">(Li et al. <a href="#bib.bib21" title="" class="ltx_ref">2019</a>, <a href="#bib.bib20" title="" class="ltx_ref">2020b</a>)</cite> notice the problem in non-IID scenarios. To address this challenge, numerous works have attempted to establish stronger global models  <cite class="ltx_cite ltx_citemacro_citep">(Karimireddy et al. <a href="#bib.bib15" title="" class="ltx_ref">2020</a>; Li et al. <a href="#bib.bib20" title="" class="ltx_ref">2020b</a>; Wang et al. <a href="#bib.bib40" title="" class="ltx_ref">2020</a>; Reddi et al. <a href="#bib.bib31" title="" class="ltx_ref">2020</a>)</cite>, or personalized FL that allows clients to obtain personalized parameters <cite class="ltx_cite ltx_citemacro_citep">(Fallah, Mokhtari, and Ozdaglar <a href="#bib.bib6" title="" class="ltx_ref">2020</a>; Huang et al. <a href="#bib.bib12" title="" class="ltx_ref">2021</a>; Caruana <a href="#bib.bib1" title="" class="ltx_ref">1997</a>; Dinh, Tran, and Nguyen <a href="#bib.bib4" title="" class="ltx_ref">2020</a>; Zhang et al. <a href="#bib.bib44" title="" class="ltx_ref">2021a</a>)</cite>. In addition, to further reduce communication costs, some works <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al. <a href="#bib.bib42" title="" class="ltx_ref">2022a</a>; <a href="#bib.bib9" title="" class="ltx_ref">Heinbaugh, Luz-Ricca, and Shao </a>; Su, Li, and Xue <a href="#bib.bib37" title="" class="ltx_ref">2023</a>)</cite> propose one-shot FL, which performs one round of communication.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p"><span id="S2.SS1.p2.1.1" class="ltx_text ltx_font_bold">Semi-supervised Federated Learning.</span> In realistic FL scenarios, clients own a large amount of unlabeled data. In response to this issue, FedMatch <cite class="ltx_cite ltx_citemacro_citep">(Jeong et al. <a href="#bib.bib13" title="" class="ltx_ref">2021</a>)</cite> proposes Semi-FL, which is mentioned in Section 1.  <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al. <a href="#bib.bib46" title="" class="ltx_ref">2021b</a>)</cite> points out the importance of the gradient diversity problem and proposes several strategies.  <cite class="ltx_cite ltx_citemacro_citep">(Diao, Ding, and Tarokh <a href="#bib.bib3" title="" class="ltx_ref">2021</a>)</cite> supposes the additional auxiliary dataset to handle semi-FL. In the paper, an additional challenge about communication and client training is identified and a solution is proposed, enhancing the practicality of semi-FL.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Foundation Models</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">Recently, fundamental models <cite class="ltx_cite ltx_citemacro_citep">(Radford et al. <a href="#bib.bib30" title="" class="ltx_ref">2021</a>; Kirillov et al. <a href="#bib.bib17" title="" class="ltx_ref">2023</a>; Rombach et al. <a href="#bib.bib32" title="" class="ltx_ref">2022</a>)</cite> have achieved unprecedented success in computer vision. CLIP <cite class="ltx_cite ltx_citemacro_citep">(Radford et al. <a href="#bib.bib30" title="" class="ltx_ref">2021</a>)</cite> has bridged the gap between text and vision. The DMs <cite class="ltx_cite ltx_citemacro_citep">(Sohl-Dickstein et al. <a href="#bib.bib36" title="" class="ltx_ref">2015</a>; Ho, Jain, and Abbeel <a href="#bib.bib10" title="" class="ltx_ref">2020</a>)</cite> have provided the new generative paradigm, with Stable diffusion <cite class="ltx_cite ltx_citemacro_citep">(Rombach et al. <a href="#bib.bib32" title="" class="ltx_ref">2022</a>)</cite> achieving remarkable performance. A major advantage of DMs is the ability to use various conditions guide generation, such as a trained classifier <cite class="ltx_cite ltx_citemacro_citep">(Dhariwal and Nichol <a href="#bib.bib2" title="" class="ltx_ref">2021</a>)</cite>, text <cite class="ltx_cite ltx_citemacro_citep">(Nichol et al. <a href="#bib.bib27" title="" class="ltx_ref">2021</a>; Saharia et al. <a href="#bib.bib34" title="" class="ltx_ref">2022b</a>; Kim, Kwon, and Ye <a href="#bib.bib16" title="" class="ltx_ref">2022</a>)</cite> and images <cite class="ltx_cite ltx_citemacro_citep">(Saharia et al. <a href="#bib.bib33" title="" class="ltx_ref">2022a</a>; Zhang and Agrawala <a href="#bib.bib43" title="" class="ltx_ref">2023</a>; Su et al. <a href="#bib.bib39" title="" class="ltx_ref">2022b</a>; Wang et al. <a href="#bib.bib41" title="" class="ltx_ref">2022</a>; Preechakul et al. <a href="#bib.bib29" title="" class="ltx_ref">2022</a>)</cite>. There are also some works <cite class="ltx_cite ltx_citemacro_citep">(Liu et al. <a href="#bib.bib23" title="" class="ltx_ref">2022</a>; Huang et al. <a href="#bib.bib11" title="" class="ltx_ref">2023</a>; Du et al. <a href="#bib.bib5" title="" class="ltx_ref">2023</a>)</cite> studying compositional generation of DMs. From their performance in image generation, large-scale pre-trained DMs can generate realistic images within an acceptable cost of time and computation on the server. This is the main reason why we apply pre-trained DMs in FL.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>FL with Foundation Models</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">Leveraging the powerful performance of fundamental models, some works <cite class="ltx_cite ltx_citemacro_citep">(Su et al. <a href="#bib.bib38" title="" class="ltx_ref">2022a</a>; Guo et al. <a href="#bib.bib8" title="" class="ltx_ref">2022</a>)</cite> in FL have explored the application of CLIP in federated image classification. However, to the best of our knowledge, no work has yet utilized pre-trained DMs, such as Stable Diffusion, in FL. In this paper, we make a novel attempt and reveal the potential of the DMs in FL. Therefore, the method proposed in this paper, which does not require client training, has great potential for practical applications.</p>
</div>
<figure id="S2.T1" class="ltx_table">
<div id="S2.T1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:411.9pt;height:213.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-158.7pt,82.3pt) scale(0.564813163757664,0.564813163757664) ;">
<table id="S2.T1.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S2.T1.1.1.1" class="ltx_tr" style="background-color:#DEDEDE;">
<td id="S2.T1.1.1.1.1" class="ltx_td ltx_align_center" colspan="3">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span> <span id="S2.T1.1.1.1.1.1" class="ltx_text" style="background-color:#DEDEDE;"></span>
</td>
<td id="S2.T1.1.1.1.2" class="ltx_td"></td>
<td id="S2.T1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r" colspan="6"><span id="S2.T1.1.1.1.3.1" class="ltx_text" style="background-color:#DEDEDE;">OpenImage</span></td>
<td id="S2.T1.1.1.1.4" class="ltx_td ltx_align_center" colspan="6"><span id="S2.T1.1.1.1.4.1" class="ltx_text" style="background-color:#DEDEDE;">      DomainNet</span></td>
</tr>
<tr id="S2.T1.1.1.2" class="ltx_tr">
<td id="S2.T1.1.1.2.1" class="ltx_td ltx_border_r"></td>
<td id="S2.T1.1.1.2.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.2.2.1" class="ltx_text" style="background-color:#DEDEDE;">Rounds</span></td>
<td id="S2.T1.1.1.2.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.2.3.1" class="ltx_text" style="background-color:#DEDEDE;">client0</span></td>
<td id="S2.T1.1.1.2.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.2.4.1" class="ltx_text" style="background-color:#DEDEDE;">client1</span></td>
<td id="S2.T1.1.1.2.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.2.5.1" class="ltx_text" style="background-color:#DEDEDE;">client2</span></td>
<td id="S2.T1.1.1.2.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.2.6.1" class="ltx_text" style="background-color:#DEDEDE;">client3</span></td>
<td id="S2.T1.1.1.2.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S2.T1.1.1.2.7.1" class="ltx_text" style="background-color:#DEDEDE;">client4</span></td>
<td id="S2.T1.1.1.2.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S2.T1.1.1.2.8.1" class="ltx_text" style="background-color:#DEDEDE;">average</span></td>
<td id="S2.T1.1.1.2.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.2.9.1" class="ltx_text" style="background-color:#DEDEDE;">clipart</span></td>
<td id="S2.T1.1.1.2.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.2.10.1" class="ltx_text" style="background-color:#DEDEDE;">infograph</span></td>
<td id="S2.T1.1.1.2.11" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.2.11.1" class="ltx_text" style="background-color:#DEDEDE;">painting</span></td>
<td id="S2.T1.1.1.2.12" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.2.12.1" class="ltx_text" style="background-color:#DEDEDE;">quickdraw</span></td>
<td id="S2.T1.1.1.2.13" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S2.T1.1.1.2.13.1" class="ltx_text" style="background-color:#DEDEDE;">sketch</span></td>
<td id="S2.T1.1.1.2.14" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.2.14.1" class="ltx_text" style="background-color:#DEDEDE;">average</span></td>
</tr>
<tr id="S2.T1.1.1.3" class="ltx_tr">
<td id="S2.T1.1.1.3.1" class="ltx_td ltx_align_center" colspan="3">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span>
   <span id="S2.T1.1.1.3.1.1" class="ltx_text ltx_font_italic">Sup. Ceiling</span></td>
<td id="S2.T1.1.1.3.2" class="ltx_td ltx_align_center">1</td>
<td id="S2.T1.1.1.3.3" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.3.3.1" class="ltx_text ltx_font_italic">54.05</span></td>
<td id="S2.T1.1.1.3.4" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.3.4.1" class="ltx_text ltx_font_italic">58.42</span></td>
<td id="S2.T1.1.1.3.5" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.3.5.1" class="ltx_text ltx_font_italic">62.59</span></td>
<td id="S2.T1.1.1.3.6" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.3.6.1" class="ltx_text ltx_font_italic">63.21</span></td>
<td id="S2.T1.1.1.3.7" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.3.7.1" class="ltx_text ltx_font_italic">64.79</span></td>
<td id="S2.T1.1.1.3.8" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.3.8.1" class="ltx_text ltx_font_italic">60.61</span></td>
<td id="S2.T1.1.1.3.9" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.3.9.1" class="ltx_text ltx_font_italic">81.54</span></td>
<td id="S2.T1.1.1.3.10" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.3.10.1" class="ltx_text ltx_font_italic">52.49</span></td>
<td id="S2.T1.1.1.3.11" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.3.11.1" class="ltx_text ltx_font_italic">73.54</span></td>
<td id="S2.T1.1.1.3.12" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.3.12.1" class="ltx_text ltx_font_italic">30.11</span></td>
<td id="S2.T1.1.1.3.13" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.3.13.1" class="ltx_text ltx_font_italic">72.34</span></td>
<td id="S2.T1.1.1.3.14" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S2.T1.1.1.3.14.1" class="ltx_text ltx_font_italic">62.01</span></td>
</tr>
<tr id="S2.T1.1.1.4" class="ltx_tr">
<td id="S2.T1.1.1.4.1" class="ltx_td ltx_align_center" colspan="3">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span>
   Fine-tuning</td>
<td id="S2.T1.1.1.4.2" class="ltx_td ltx_align_center">1</td>
<td id="S2.T1.1.1.4.3" class="ltx_td ltx_align_center">36.67</td>
<td id="S2.T1.1.1.4.4" class="ltx_td ltx_align_center">46.81</td>
<td id="S2.T1.1.1.4.5" class="ltx_td ltx_align_center">45.43</td>
<td id="S2.T1.1.1.4.6" class="ltx_td ltx_align_center ltx_border_r">47.17</td>
<td id="S2.T1.1.1.4.7" class="ltx_td ltx_align_center ltx_border_r">42.1</td>
<td id="S2.T1.1.1.4.8" class="ltx_td ltx_align_center">43.64</td>
<td id="S2.T1.1.1.4.9" class="ltx_td ltx_align_center">67.57</td>
<td id="S2.T1.1.1.4.10" class="ltx_td ltx_align_center">45.47</td>
<td id="S2.T1.1.1.4.11" class="ltx_td ltx_align_center">65.28</td>
<td id="S2.T1.1.1.4.12" class="ltx_td ltx_align_center">10.42</td>
<td id="S2.T1.1.1.4.13" class="ltx_td ltx_align_center ltx_border_r">62.14</td>
<td id="S2.T1.1.1.4.14" class="ltx_td ltx_nopad_r ltx_align_center">50.17</td>
</tr>
<tr id="S2.T1.1.1.5" class="ltx_tr">
<td id="S2.T1.1.1.5.1" class="ltx_td ltx_align_center ltx_border_r">CLIP Zero-shot</td>
<td id="S2.T1.1.1.5.2" class="ltx_td ltx_align_center ltx_border_r">1</td>
<td id="S2.T1.1.1.5.3" class="ltx_td ltx_align_center">56.03</td>
<td id="S2.T1.1.1.5.4" class="ltx_td ltx_align_center">40.61</td>
<td id="S2.T1.1.1.5.5" class="ltx_td ltx_align_center">40.28</td>
<td id="S2.T1.1.1.5.6" class="ltx_td ltx_align_center">44.06</td>
<td id="S2.T1.1.1.5.7" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.5.7.1" class="ltx_text ltx_font_bold">61.45</span></td>
<td id="S2.T1.1.1.5.8" class="ltx_td ltx_align_center ltx_border_r">48.47</td>
<td id="S2.T1.1.1.5.9" class="ltx_td ltx_align_center">65.86</td>
<td id="S2.T1.1.1.5.10" class="ltx_td ltx_align_center">40.5</td>
<td id="S2.T1.1.1.5.11" class="ltx_td ltx_align_center">62.25</td>
<td id="S2.T1.1.1.5.12" class="ltx_td ltx_align_center">13.36</td>
<td id="S2.T1.1.1.5.13" class="ltx_td ltx_align_center ltx_border_r">57.92</td>
<td id="S2.T1.1.1.5.14" class="ltx_td ltx_align_center">47.98</td>
</tr>
<tr id="S2.T1.1.1.6" class="ltx_tr">
<td id="S2.T1.1.1.6.1" class="ltx_td ltx_align_center ltx_border_r">Prompt Only</td>
<td id="S2.T1.1.1.6.2" class="ltx_td ltx_align_center ltx_border_r">1</td>
<td id="S2.T1.1.1.6.3" class="ltx_td ltx_align_center">48.61</td>
<td id="S2.T1.1.1.6.4" class="ltx_td ltx_align_center">54.03</td>
<td id="S2.T1.1.1.6.5" class="ltx_td ltx_align_center">59.07</td>
<td id="S2.T1.1.1.6.6" class="ltx_td ltx_align_center">58.42</td>
<td id="S2.T1.1.1.6.7" class="ltx_td ltx_align_center ltx_border_r">53.49</td>
<td id="S2.T1.1.1.6.8" class="ltx_td ltx_align_center ltx_border_r">54.72</td>
<td id="S2.T1.1.1.6.9" class="ltx_td ltx_align_center">66.42</td>
<td id="S2.T1.1.1.6.10" class="ltx_td ltx_align_center">37.45</td>
<td id="S2.T1.1.1.6.11" class="ltx_td ltx_align_center">59.62</td>
<td id="S2.T1.1.1.6.12" class="ltx_td ltx_align_center">10.73</td>
<td id="S2.T1.1.1.6.13" class="ltx_td ltx_align_center ltx_border_r">63.92</td>
<td id="S2.T1.1.1.6.14" class="ltx_td ltx_align_center">47.63</td>
</tr>
<tr id="S2.T1.1.1.7" class="ltx_tr">
<td id="S2.T1.1.1.7.1" class="ltx_td ltx_align_center" colspan="3">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span>
   FedAvg-sm</td>
<td id="S2.T1.1.1.7.2" class="ltx_td ltx_align_center">30</td>
<td id="S2.T1.1.1.7.3" class="ltx_td ltx_align_center">41.11</td>
<td id="S2.T1.1.1.7.4" class="ltx_td ltx_align_center">44.06</td>
<td id="S2.T1.1.1.7.5" class="ltx_td ltx_align_center">46.57</td>
<td id="S2.T1.1.1.7.6" class="ltx_td ltx_align_center ltx_border_r">47.45</td>
<td id="S2.T1.1.1.7.7" class="ltx_td ltx_align_center ltx_border_r">37.63</td>
<td id="S2.T1.1.1.7.8" class="ltx_td ltx_align_center">43.36</td>
<td id="S2.T1.1.1.7.9" class="ltx_td ltx_align_center">49.95</td>
<td id="S2.T1.1.1.7.10" class="ltx_td ltx_align_center">30.67</td>
<td id="S2.T1.1.1.7.11" class="ltx_td ltx_align_center">51.07</td>
<td id="S2.T1.1.1.7.12" class="ltx_td ltx_align_center">1.74</td>
<td id="S2.T1.1.1.7.13" class="ltx_td ltx_align_center ltx_border_r">38.46</td>
<td id="S2.T1.1.1.7.14" class="ltx_td ltx_nopad_r ltx_align_center">34.38</td>
</tr>
<tr id="S2.T1.1.1.8" class="ltx_tr">
<td id="S2.T1.1.1.8.1" class="ltx_td ltx_align_center ltx_border_r">SemiFL</td>
<td id="S2.T1.1.1.8.2" class="ltx_td ltx_align_center ltx_border_r">500</td>
<td id="S2.T1.1.1.8.3" class="ltx_td ltx_align_center">48.15</td>
<td id="S2.T1.1.1.8.4" class="ltx_td ltx_align_center">52.78</td>
<td id="S2.T1.1.1.8.5" class="ltx_td ltx_align_center">61.05</td>
<td id="S2.T1.1.1.8.6" class="ltx_td ltx_align_center">55.23</td>
<td id="S2.T1.1.1.8.7" class="ltx_td ltx_align_center ltx_border_r">46.16</td>
<td id="S2.T1.1.1.8.8" class="ltx_td ltx_align_center ltx_border_r">52.67</td>
<td id="S2.T1.1.1.8.9" class="ltx_td ltx_align_center">69.55</td>
<td id="S2.T1.1.1.8.10" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.8.10.1" class="ltx_text ltx_font_bold">47.16</span></td>
<td id="S2.T1.1.1.8.11" class="ltx_td ltx_align_center">64.54</td>
<td id="S2.T1.1.1.8.12" class="ltx_td ltx_align_center">7.02</td>
<td id="S2.T1.1.1.8.13" class="ltx_td ltx_align_center ltx_border_r">63.32</td>
<td id="S2.T1.1.1.8.14" class="ltx_td ltx_align_center">50.32</td>
</tr>
<tr id="S2.T1.1.1.9" class="ltx_tr">
<td id="S2.T1.1.1.9.1" class="ltx_td ltx_align_center ltx_border_r">RSCFed</td>
<td id="S2.T1.1.1.9.2" class="ltx_td ltx_align_center ltx_border_r">100</td>
<td id="S2.T1.1.1.9.3" class="ltx_td ltx_align_center">28.97</td>
<td id="S2.T1.1.1.9.4" class="ltx_td ltx_align_center">38.04</td>
<td id="S2.T1.1.1.9.5" class="ltx_td ltx_align_center">40.82</td>
<td id="S2.T1.1.1.9.6" class="ltx_td ltx_align_center">33.98</td>
<td id="S2.T1.1.1.9.7" class="ltx_td ltx_align_center ltx_border_r">36.35</td>
<td id="S2.T1.1.1.9.8" class="ltx_td ltx_align_center ltx_border_r">35.63</td>
<td id="S2.T1.1.1.9.9" class="ltx_td ltx_align_center">71.5</td>
<td id="S2.T1.1.1.9.10" class="ltx_td ltx_align_center">45.73</td>
<td id="S2.T1.1.1.9.11" class="ltx_td ltx_align_center">61.96</td>
<td id="S2.T1.1.1.9.12" class="ltx_td ltx_align_center">11.53</td>
<td id="S2.T1.1.1.9.13" class="ltx_td ltx_align_center ltx_border_r">65.03</td>
<td id="S2.T1.1.1.9.14" class="ltx_td ltx_align_center">51.15</td>
</tr>
<tr id="S2.T1.1.1.10" class="ltx_tr">
<td id="S2.T1.1.1.10.1" class="ltx_td ltx_align_center" colspan="3">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span>
   FedDISC</td>
<td id="S2.T1.1.1.10.2" class="ltx_td ltx_align_center">1</td>
<td id="S2.T1.1.1.10.3" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.10.3.1" class="ltx_text ltx_font_bold">56.11</span></td>
<td id="S2.T1.1.1.10.4" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.10.4.1" class="ltx_text ltx_font_bold">62.49</span></td>
<td id="S2.T1.1.1.10.5" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.10.5.1" class="ltx_text ltx_font_bold">62.53</span></td>
<td id="S2.T1.1.1.10.6" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.10.6.1" class="ltx_text ltx_font_bold">59.16</span></td>
<td id="S2.T1.1.1.10.7" class="ltx_td ltx_align_center ltx_border_r">56.77</td>
<td id="S2.T1.1.1.10.8" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.10.8.1" class="ltx_text ltx_font_bold">59.42</span></td>
<td id="S2.T1.1.1.10.9" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.10.9.1" class="ltx_text ltx_font_bold">72.54</span></td>
<td id="S2.T1.1.1.10.10" class="ltx_td ltx_align_center">43.47</td>
<td id="S2.T1.1.1.10.11" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.10.11.1" class="ltx_text ltx_font_bold">67.42</span></td>
<td id="S2.T1.1.1.10.12" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.10.12.1" class="ltx_text ltx_font_bold">17.71</span></td>
<td id="S2.T1.1.1.10.13" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.10.13.1" class="ltx_text ltx_font_bold">67.25</span></td>
<td id="S2.T1.1.1.10.14" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S2.T1.1.1.10.14.1" class="ltx_text ltx_font_bold">53.68</span></td>
</tr>
<tr id="S2.T1.1.1.11" class="ltx_tr" style="background-color:#DEDEDE;">
<td id="S2.T1.1.1.11.1" class="ltx_td ltx_align_center"><span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span></td>
<td id="S2.T1.1.1.11.2" class="ltx_td ltx_border_r"></td>
<td id="S2.T1.1.1.11.3" class="ltx_td ltx_align_center ltx_border_r" colspan="6">NICO++_C</td>
<td id="S2.T1.1.1.11.4" class="ltx_td ltx_align_center" colspan="6">NICO++_U</td>
</tr>
<tr id="S2.T1.1.1.12" class="ltx_tr">
<td id="S2.T1.1.1.12.1" class="ltx_td"></td>
<td id="S2.T1.1.1.12.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.12.2.1" class="ltx_text" style="background-color:#DEDEDE;">Rounds</span></td>
<td id="S2.T1.1.1.12.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.12.3.1" class="ltx_text" style="background-color:#DEDEDE;">client0</span></td>
<td id="S2.T1.1.1.12.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.12.4.1" class="ltx_text" style="background-color:#DEDEDE;">client1</span></td>
<td id="S2.T1.1.1.12.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.12.5.1" class="ltx_text" style="background-color:#DEDEDE;">client2</span></td>
<td id="S2.T1.1.1.12.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.12.6.1" class="ltx_text" style="background-color:#DEDEDE;">client3</span></td>
<td id="S2.T1.1.1.12.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S2.T1.1.1.12.7.1" class="ltx_text" style="background-color:#DEDEDE;">client4</span></td>
<td id="S2.T1.1.1.12.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S2.T1.1.1.12.8.1" class="ltx_text" style="background-color:#DEDEDE;">average</span></td>
<td id="S2.T1.1.1.12.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.12.9.1" class="ltx_text" style="background-color:#DEDEDE;">client0</span></td>
<td id="S2.T1.1.1.12.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.12.10.1" class="ltx_text" style="background-color:#DEDEDE;">client1</span></td>
<td id="S2.T1.1.1.12.11" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.12.11.1" class="ltx_text" style="background-color:#DEDEDE;">client2</span></td>
<td id="S2.T1.1.1.12.12" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.12.12.1" class="ltx_text" style="background-color:#DEDEDE;">client3</span></td>
<td id="S2.T1.1.1.12.13" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S2.T1.1.1.12.13.1" class="ltx_text" style="background-color:#DEDEDE;">client4</span></td>
<td id="S2.T1.1.1.12.14" class="ltx_td ltx_align_center ltx_border_t"><span id="S2.T1.1.1.12.14.1" class="ltx_text" style="background-color:#DEDEDE;">average</span></td>
</tr>
<tr id="S2.T1.1.1.13" class="ltx_tr">
<td id="S2.T1.1.1.13.1" class="ltx_td ltx_align_center" colspan="3">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span>
   <span id="S2.T1.1.1.13.1.1" class="ltx_text ltx_font_italic">Sup. Ceiling</span></td>
<td id="S2.T1.1.1.13.2" class="ltx_td ltx_align_center">1</td>
<td id="S2.T1.1.1.13.3" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.13.3.1" class="ltx_text ltx_font_italic">89.19</span></td>
<td id="S2.T1.1.1.13.4" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.13.4.1" class="ltx_text ltx_font_italic">91.9</span></td>
<td id="S2.T1.1.1.13.5" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.13.5.1" class="ltx_text ltx_font_italic">89.51</span></td>
<td id="S2.T1.1.1.13.6" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.13.6.1" class="ltx_text ltx_font_italic">90.47</span></td>
<td id="S2.T1.1.1.13.7" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.13.7.1" class="ltx_text ltx_font_italic">85.1</span></td>
<td id="S2.T1.1.1.13.8" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.13.8.1" class="ltx_text ltx_font_italic">89.23</span></td>
<td id="S2.T1.1.1.13.9" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.13.9.1" class="ltx_text ltx_font_italic">96.35</span></td>
<td id="S2.T1.1.1.13.10" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.13.10.1" class="ltx_text ltx_font_italic">96.42</span></td>
<td id="S2.T1.1.1.13.11" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.13.11.1" class="ltx_text ltx_font_italic">96.88</span></td>
<td id="S2.T1.1.1.13.12" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.13.12.1" class="ltx_text ltx_font_italic">97.01</span></td>
<td id="S2.T1.1.1.13.13" class="ltx_td ltx_align_center ltx_border_r">97.26</td>
<td id="S2.T1.1.1.13.14" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S2.T1.1.1.13.14.1" class="ltx_text ltx_font_italic">96.78</span></td>
</tr>
<tr id="S2.T1.1.1.14" class="ltx_tr">
<td id="S2.T1.1.1.14.1" class="ltx_td ltx_align_center" colspan="3">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span>
   Fine-tuning</td>
<td id="S2.T1.1.1.14.2" class="ltx_td ltx_align_center">1</td>
<td id="S2.T1.1.1.14.3" class="ltx_td ltx_align_center">86.5</td>
<td id="S2.T1.1.1.14.4" class="ltx_td ltx_align_center">89.39</td>
<td id="S2.T1.1.1.14.5" class="ltx_td ltx_align_center">83.61</td>
<td id="S2.T1.1.1.14.6" class="ltx_td ltx_align_center ltx_border_r">87.21</td>
<td id="S2.T1.1.1.14.7" class="ltx_td ltx_align_center ltx_border_r">76.95</td>
<td id="S2.T1.1.1.14.8" class="ltx_td ltx_align_center">84.73</td>
<td id="S2.T1.1.1.14.9" class="ltx_td ltx_align_center">84.75</td>
<td id="S2.T1.1.1.14.10" class="ltx_td ltx_align_center">79.08</td>
<td id="S2.T1.1.1.14.11" class="ltx_td ltx_align_center">81.48</td>
<td id="S2.T1.1.1.14.12" class="ltx_td ltx_align_center">86.58</td>
<td id="S2.T1.1.1.14.13" class="ltx_td ltx_align_center ltx_border_r">83.52</td>
<td id="S2.T1.1.1.14.14" class="ltx_td ltx_nopad_r ltx_align_center">83.08</td>
</tr>
<tr id="S2.T1.1.1.15" class="ltx_tr">
<td id="S2.T1.1.1.15.1" class="ltx_td ltx_align_center ltx_border_r">CLIP Zero-shot</td>
<td id="S2.T1.1.1.15.2" class="ltx_td ltx_align_center ltx_border_r">1</td>
<td id="S2.T1.1.1.15.3" class="ltx_td ltx_align_center">78.66</td>
<td id="S2.T1.1.1.15.4" class="ltx_td ltx_align_center">85.26</td>
<td id="S2.T1.1.1.15.5" class="ltx_td ltx_align_center">80.01</td>
<td id="S2.T1.1.1.15.6" class="ltx_td ltx_align_center">80.7</td>
<td id="S2.T1.1.1.15.7" class="ltx_td ltx_align_center ltx_border_r">72.14</td>
<td id="S2.T1.1.1.15.8" class="ltx_td ltx_align_center ltx_border_r">79.35</td>
<td id="S2.T1.1.1.15.9" class="ltx_td ltx_align_center">89.2</td>
<td id="S2.T1.1.1.15.10" class="ltx_td ltx_align_center">89.24</td>
<td id="S2.T1.1.1.15.11" class="ltx_td ltx_align_center">87.19</td>
<td id="S2.T1.1.1.15.12" class="ltx_td ltx_align_center">85.5</td>
<td id="S2.T1.1.1.15.13" class="ltx_td ltx_align_center ltx_border_r">88.6</td>
<td id="S2.T1.1.1.15.14" class="ltx_td ltx_align_center">87.94</td>
</tr>
<tr id="S2.T1.1.1.16" class="ltx_tr">
<td id="S2.T1.1.1.16.1" class="ltx_td ltx_align_center ltx_border_r">Prompt Only</td>
<td id="S2.T1.1.1.16.2" class="ltx_td ltx_align_center ltx_border_r">1</td>
<td id="S2.T1.1.1.16.3" class="ltx_td ltx_align_center">86.94</td>
<td id="S2.T1.1.1.16.4" class="ltx_td ltx_align_center">87.41</td>
<td id="S2.T1.1.1.16.5" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.16.5.1" class="ltx_text ltx_font_bold">89.73</span></td>
<td id="S2.T1.1.1.16.6" class="ltx_td ltx_align_center">82.69</td>
<td id="S2.T1.1.1.16.7" class="ltx_td ltx_align_center ltx_border_r">73.51</td>
<td id="S2.T1.1.1.16.8" class="ltx_td ltx_align_center ltx_border_r">84.05</td>
<td id="S2.T1.1.1.16.9" class="ltx_td ltx_align_center">90.61</td>
<td id="S2.T1.1.1.16.10" class="ltx_td ltx_align_center">87.14</td>
<td id="S2.T1.1.1.16.11" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.16.11.1" class="ltx_text ltx_font_bold">89.96</span></td>
<td id="S2.T1.1.1.16.12" class="ltx_td ltx_align_center">87.48</td>
<td id="S2.T1.1.1.16.13" class="ltx_td ltx_align_center ltx_border_r">88.16</td>
<td id="S2.T1.1.1.16.14" class="ltx_td ltx_align_center">88.67</td>
</tr>
<tr id="S2.T1.1.1.17" class="ltx_tr">
<td id="S2.T1.1.1.17.1" class="ltx_td ltx_align_center" colspan="3">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span>
   FedAvg-sm</td>
<td id="S2.T1.1.1.17.2" class="ltx_td ltx_align_center">30</td>
<td id="S2.T1.1.1.17.3" class="ltx_td ltx_align_center">86.98</td>
<td id="S2.T1.1.1.17.4" class="ltx_td ltx_align_center">90.82</td>
<td id="S2.T1.1.1.17.5" class="ltx_td ltx_align_center">82.68</td>
<td id="S2.T1.1.1.17.6" class="ltx_td ltx_align_center ltx_border_r">87.57</td>
<td id="S2.T1.1.1.17.7" class="ltx_td ltx_align_center ltx_border_r">74.48</td>
<td id="S2.T1.1.1.17.8" class="ltx_td ltx_align_center">84.51</td>
<td id="S2.T1.1.1.17.9" class="ltx_td ltx_align_center">83.26</td>
<td id="S2.T1.1.1.17.10" class="ltx_td ltx_align_center">73.3</td>
<td id="S2.T1.1.1.17.11" class="ltx_td ltx_align_center">77.93</td>
<td id="S2.T1.1.1.17.12" class="ltx_td ltx_align_center">80.8</td>
<td id="S2.T1.1.1.17.13" class="ltx_td ltx_align_center ltx_border_r">79.28</td>
<td id="S2.T1.1.1.17.14" class="ltx_td ltx_nopad_r ltx_align_center">78.91</td>
</tr>
<tr id="S2.T1.1.1.18" class="ltx_tr">
<td id="S2.T1.1.1.18.1" class="ltx_td ltx_align_center ltx_border_r">SemiFL</td>
<td id="S2.T1.1.1.18.2" class="ltx_td ltx_align_center ltx_border_r">500</td>
<td id="S2.T1.1.1.18.3" class="ltx_td ltx_align_center">87.55</td>
<td id="S2.T1.1.1.18.4" class="ltx_td ltx_align_center">89.27</td>
<td id="S2.T1.1.1.18.5" class="ltx_td ltx_align_center">81.93</td>
<td id="S2.T1.1.1.18.6" class="ltx_td ltx_align_center">87.16</td>
<td id="S2.T1.1.1.18.7" class="ltx_td ltx_align_center ltx_border_r">77.01</td>
<td id="S2.T1.1.1.18.8" class="ltx_td ltx_align_center ltx_border_r">84.58</td>
<td id="S2.T1.1.1.18.9" class="ltx_td ltx_align_center">78.21</td>
<td id="S2.T1.1.1.18.10" class="ltx_td ltx_align_center">74.7</td>
<td id="S2.T1.1.1.18.11" class="ltx_td ltx_align_center">79.87</td>
<td id="S2.T1.1.1.18.12" class="ltx_td ltx_align_center">80.69</td>
<td id="S2.T1.1.1.18.13" class="ltx_td ltx_align_center ltx_border_r">77.02</td>
<td id="S2.T1.1.1.18.14" class="ltx_td ltx_align_center">78.09</td>
</tr>
<tr id="S2.T1.1.1.19" class="ltx_tr">
<td id="S2.T1.1.1.19.1" class="ltx_td ltx_align_center ltx_border_r">RSCFed</td>
<td id="S2.T1.1.1.19.2" class="ltx_td ltx_align_center ltx_border_r">100</td>
<td id="S2.T1.1.1.19.3" class="ltx_td ltx_align_center">52.08</td>
<td id="S2.T1.1.1.19.4" class="ltx_td ltx_align_center">60.15</td>
<td id="S2.T1.1.1.19.5" class="ltx_td ltx_align_center">52.6</td>
<td id="S2.T1.1.1.19.6" class="ltx_td ltx_align_center">55.35</td>
<td id="S2.T1.1.1.19.7" class="ltx_td ltx_align_center ltx_border_r">43.89</td>
<td id="S2.T1.1.1.19.8" class="ltx_td ltx_align_center ltx_border_r">52.81</td>
<td id="S2.T1.1.1.19.9" class="ltx_td ltx_align_center">71.88</td>
<td id="S2.T1.1.1.19.10" class="ltx_td ltx_align_center">64.14</td>
<td id="S2.T1.1.1.19.11" class="ltx_td ltx_align_center">70.82</td>
<td id="S2.T1.1.1.19.12" class="ltx_td ltx_align_center">69.71</td>
<td id="S2.T1.1.1.19.13" class="ltx_td ltx_align_center ltx_border_r">69.67</td>
<td id="S2.T1.1.1.19.14" class="ltx_td ltx_align_center">69.24</td>
</tr>
<tr id="S2.T1.1.1.20" class="ltx_tr">
<td id="S2.T1.1.1.20.1" class="ltx_td ltx_align_center" colspan="3">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span>
   FedDISC</td>
<td id="S2.T1.1.1.20.2" class="ltx_td ltx_align_center">1</td>
<td id="S2.T1.1.1.20.3" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.20.3.1" class="ltx_text ltx_font_bold">87.97</span></td>
<td id="S2.T1.1.1.20.4" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.20.4.1" class="ltx_text ltx_font_bold">92.09</span></td>
<td id="S2.T1.1.1.20.5" class="ltx_td ltx_align_center">86.44</td>
<td id="S2.T1.1.1.20.6" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.20.6.1" class="ltx_text ltx_font_bold">90.52</span></td>
<td id="S2.T1.1.1.20.7" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.20.7.1" class="ltx_text ltx_font_bold">84.17</span></td>
<td id="S2.T1.1.1.20.8" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.20.8.1" class="ltx_text ltx_font_bold">88.24</span></td>
<td id="S2.T1.1.1.20.9" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.20.9.1" class="ltx_text ltx_font_bold">91.73</span></td>
<td id="S2.T1.1.1.20.10" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.20.10.1" class="ltx_text ltx_font_bold">90.82</span></td>
<td id="S2.T1.1.1.20.11" class="ltx_td ltx_align_center">89.63</td>
<td id="S2.T1.1.1.20.12" class="ltx_td ltx_align_center"><span id="S2.T1.1.1.20.12.1" class="ltx_text ltx_font_bold">92.83</span></td>
<td id="S2.T1.1.1.20.13" class="ltx_td ltx_align_center ltx_border_r"><span id="S2.T1.1.1.20.13.1" class="ltx_text ltx_font_bold">90.15</span></td>
<td id="S2.T1.1.1.20.14" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S2.T1.1.1.20.14.1" class="ltx_text ltx_font_bold">91.03</span></td>
</tr>
<tr id="S2.T1.1.1.21" class="ltx_tr">
<td id="S2.T1.1.1.21.1" class="ltx_td ltx_align_center"><span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span></td>
<td id="S2.T1.1.1.21.2" class="ltx_td"></td>
<td id="S2.T1.1.1.21.3" class="ltx_td"></td>
<td id="S2.T1.1.1.21.4" class="ltx_td"></td>
<td id="S2.T1.1.1.21.5" class="ltx_td"></td>
<td id="S2.T1.1.1.21.6" class="ltx_td"></td>
<td id="S2.T1.1.1.21.7" class="ltx_td"></td>
<td id="S2.T1.1.1.21.8" class="ltx_td"></td>
<td id="S2.T1.1.1.21.9" class="ltx_td"></td>
<td id="S2.T1.1.1.21.10" class="ltx_td"></td>
<td id="S2.T1.1.1.21.11" class="ltx_td"></td>
<td id="S2.T1.1.1.21.12" class="ltx_td"></td>
<td id="S2.T1.1.1.21.13" class="ltx_td"></td>
<td id="S2.T1.1.1.21.14" class="ltx_td"></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>The performances of different methods on OpenImage, DomainNet, and NICO++, where the italicized text represents the inaccessible supervised ceiling performance used solely as a reference, and bold text represents the optimal performance excluding the supervised ceiling performance..</figcaption>
</figure>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we introduce the proposed FedDISC method in detail. In Section <a href="#S3.SS1" title="3.1 Preliminaries ‣ 3 Method ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>, we provide some notations and background knowledge on DMs. In Section <a href="#S3.SS2" title="3.2 FedDISC ‣ 3 Method ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>, we describe the proposed method in detail through four steps taken by the clients and the server.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Preliminaries</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.10" class="ltx_p"><span id="S3.SS1.p1.10.1" class="ltx_text ltx_font_bold">Diffusion Models.</span> The DMs study the transformation from the Gaussian distribution to the realistic distribution by iterative denoising. In this paper, since only the pre-trained DMs are used and no training is conducted, the sampling process of the DMs is mainly introduced here. During sampling, the DM <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="\epsilon_{\theta}" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><msub id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.2.cmml">ϵ</mi><mi id="S3.SS1.p1.1.m1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.2">italic-ϵ</ci><ci id="S3.SS1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">\epsilon_{\theta}</annotation></semantics></math> samples <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="{\mathbf{s}}_{T}" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><msub id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">𝐬</mi><mi id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">𝐬</ci><ci id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">{\mathbf{s}}_{T}</annotation></semantics></math> from the Gaussian distribution, where <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">T</annotation></semantics></math> is the predetermined maximum timestep. The DM takes <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="{\mathbf{s}}_{T}" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><msub id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.2" xref="S3.SS1.p1.4.m4.1.1.2.cmml">𝐬</mi><mi id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2">𝐬</ci><ci id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">{\mathbf{s}}_{T}</annotation></semantics></math> as the initial noise of the denoising process and uses the input text prompt <math id="S3.SS1.p1.5.m5.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S3.SS1.p1.5.m5.1a"><mi id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">p</annotation></semantics></math> and the input image <math id="S3.SS1.p1.6.m6.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.SS1.p1.6.m6.1a"><mi id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><ci id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">q</annotation></semantics></math> as conditions. After <math id="S3.SS1.p1.7.m7.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS1.p1.7.m7.1a"><mi id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">T</annotation></semantics></math> timesteps of denoising, <math id="S3.SS1.p1.8.m8.1" class="ltx_Math" alttext="{\mathbf{s}}_{T}" display="inline"><semantics id="S3.SS1.p1.8.m8.1a"><msub id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml"><mi id="S3.SS1.p1.8.m8.1.1.2" xref="S3.SS1.p1.8.m8.1.1.2.cmml">𝐬</mi><mi id="S3.SS1.p1.8.m8.1.1.3" xref="S3.SS1.p1.8.m8.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><apply id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.p1.8.m8.1.1.2">𝐬</ci><ci id="S3.SS1.p1.8.m8.1.1.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">{\mathbf{s}}_{T}</annotation></semantics></math> is restored to a real image <math id="S3.SS1.p1.9.m9.1" class="ltx_Math" alttext="{\mathbf{s}}_{0}" display="inline"><semantics id="S3.SS1.p1.9.m9.1a"><msub id="S3.SS1.p1.9.m9.1.1" xref="S3.SS1.p1.9.m9.1.1.cmml"><mi id="S3.SS1.p1.9.m9.1.1.2" xref="S3.SS1.p1.9.m9.1.1.2.cmml">𝐬</mi><mn id="S3.SS1.p1.9.m9.1.1.3" xref="S3.SS1.p1.9.m9.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.1b"><apply id="S3.SS1.p1.9.m9.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.1.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS1.p1.9.m9.1.1.2.cmml" xref="S3.SS1.p1.9.m9.1.1.2">𝐬</ci><cn type="integer" id="S3.SS1.p1.9.m9.1.1.3.cmml" xref="S3.SS1.p1.9.m9.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.1c">{\mathbf{s}}_{0}</annotation></semantics></math> with specified semantics. For any given time step <math id="S3.SS1.p1.10.m10.3" class="ltx_Math" alttext="t\in\left\{0,\dots,T\right\}" display="inline"><semantics id="S3.SS1.p1.10.m10.3a"><mrow id="S3.SS1.p1.10.m10.3.4" xref="S3.SS1.p1.10.m10.3.4.cmml"><mi id="S3.SS1.p1.10.m10.3.4.2" xref="S3.SS1.p1.10.m10.3.4.2.cmml">t</mi><mo id="S3.SS1.p1.10.m10.3.4.1" xref="S3.SS1.p1.10.m10.3.4.1.cmml">∈</mo><mrow id="S3.SS1.p1.10.m10.3.4.3.2" xref="S3.SS1.p1.10.m10.3.4.3.1.cmml"><mo id="S3.SS1.p1.10.m10.3.4.3.2.1" xref="S3.SS1.p1.10.m10.3.4.3.1.cmml">{</mo><mn id="S3.SS1.p1.10.m10.1.1" xref="S3.SS1.p1.10.m10.1.1.cmml">0</mn><mo id="S3.SS1.p1.10.m10.3.4.3.2.2" xref="S3.SS1.p1.10.m10.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.10.m10.2.2" xref="S3.SS1.p1.10.m10.2.2.cmml">…</mi><mo id="S3.SS1.p1.10.m10.3.4.3.2.3" xref="S3.SS1.p1.10.m10.3.4.3.1.cmml">,</mo><mi id="S3.SS1.p1.10.m10.3.3" xref="S3.SS1.p1.10.m10.3.3.cmml">T</mi><mo id="S3.SS1.p1.10.m10.3.4.3.2.4" xref="S3.SS1.p1.10.m10.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m10.3b"><apply id="S3.SS1.p1.10.m10.3.4.cmml" xref="S3.SS1.p1.10.m10.3.4"><in id="S3.SS1.p1.10.m10.3.4.1.cmml" xref="S3.SS1.p1.10.m10.3.4.1"></in><ci id="S3.SS1.p1.10.m10.3.4.2.cmml" xref="S3.SS1.p1.10.m10.3.4.2">𝑡</ci><set id="S3.SS1.p1.10.m10.3.4.3.1.cmml" xref="S3.SS1.p1.10.m10.3.4.3.2"><cn type="integer" id="S3.SS1.p1.10.m10.1.1.cmml" xref="S3.SS1.p1.10.m10.1.1">0</cn><ci id="S3.SS1.p1.10.m10.2.2.cmml" xref="S3.SS1.p1.10.m10.2.2">…</ci><ci id="S3.SS1.p1.10.m10.3.3.cmml" xref="S3.SS1.p1.10.m10.3.3">𝑇</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m10.3c">t\in\left\{0,\dots,T\right\}</annotation></semantics></math>, the sampling process is as follows:</p>
<table id="A2.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex1.m1.1" class="ltx_Math" alttext="\displaystyle\mathbf{s}_{t-1}=" display="inline"><semantics id="S3.Ex1.m1.1a"><mrow id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml"><msub id="S3.Ex1.m1.1.1.2" xref="S3.Ex1.m1.1.1.2.cmml"><mi id="S3.Ex1.m1.1.1.2.2" xref="S3.Ex1.m1.1.1.2.2.cmml">𝐬</mi><mrow id="S3.Ex1.m1.1.1.2.3" xref="S3.Ex1.m1.1.1.2.3.cmml"><mi id="S3.Ex1.m1.1.1.2.3.2" xref="S3.Ex1.m1.1.1.2.3.2.cmml">t</mi><mo id="S3.Ex1.m1.1.1.2.3.1" xref="S3.Ex1.m1.1.1.2.3.1.cmml">−</mo><mn id="S3.Ex1.m1.1.1.2.3.3" xref="S3.Ex1.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="S3.Ex1.m1.1.1.1" xref="S3.Ex1.m1.1.1.1.cmml">=</mo><mi id="S3.Ex1.m1.1.1.3" xref="S3.Ex1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.1b"><apply id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1"><eq id="S3.Ex1.m1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1"></eq><apply id="S3.Ex1.m1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.1.1.2.1.cmml" xref="S3.Ex1.m1.1.1.2">subscript</csymbol><ci id="S3.Ex1.m1.1.1.2.2.cmml" xref="S3.Ex1.m1.1.1.2.2">𝐬</ci><apply id="S3.Ex1.m1.1.1.2.3.cmml" xref="S3.Ex1.m1.1.1.2.3"><minus id="S3.Ex1.m1.1.1.2.3.1.cmml" xref="S3.Ex1.m1.1.1.2.3.1"></minus><ci id="S3.Ex1.m1.1.1.2.3.2.cmml" xref="S3.Ex1.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.Ex1.m1.1.1.2.3.3.cmml" xref="S3.Ex1.m1.1.1.2.3.3">1</cn></apply></apply><csymbol cd="latexml" id="S3.Ex1.m1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.1c">\displaystyle\mathbf{s}_{t-1}=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex1.m2.4" class="ltx_Math" alttext="\displaystyle\sqrt{\alpha_{t-1}}\Big{(}\frac{\mathbf{s}_{t}-\sqrt{1-\alpha_{t}}\epsilon_{\theta}(\mathbf{s}_{t},t|p,q)}{\sqrt{\alpha_{t}}}\Big{)}" display="inline"><semantics id="S3.Ex1.m2.4a"><mrow id="S3.Ex1.m2.4.5" xref="S3.Ex1.m2.4.5.cmml"><msqrt id="S3.Ex1.m2.4.5.2" xref="S3.Ex1.m2.4.5.2.cmml"><msub id="S3.Ex1.m2.4.5.2.2" xref="S3.Ex1.m2.4.5.2.2.cmml"><mi id="S3.Ex1.m2.4.5.2.2.2" xref="S3.Ex1.m2.4.5.2.2.2.cmml">α</mi><mrow id="S3.Ex1.m2.4.5.2.2.3" xref="S3.Ex1.m2.4.5.2.2.3.cmml"><mi id="S3.Ex1.m2.4.5.2.2.3.2" xref="S3.Ex1.m2.4.5.2.2.3.2.cmml">t</mi><mo id="S3.Ex1.m2.4.5.2.2.3.1" xref="S3.Ex1.m2.4.5.2.2.3.1.cmml">−</mo><mn id="S3.Ex1.m2.4.5.2.2.3.3" xref="S3.Ex1.m2.4.5.2.2.3.3.cmml">1</mn></mrow></msub></msqrt><mo lspace="0em" rspace="0em" id="S3.Ex1.m2.4.5.1" xref="S3.Ex1.m2.4.5.1.cmml">​</mo><mrow id="S3.Ex1.m2.4.5.3.2" xref="S3.Ex1.m2.4.4.cmml"><mo maxsize="160%" minsize="160%" id="S3.Ex1.m2.4.5.3.2.1" xref="S3.Ex1.m2.4.4.cmml">(</mo><mstyle displaystyle="true" id="S3.Ex1.m2.4.4" xref="S3.Ex1.m2.4.4.cmml"><mfrac id="S3.Ex1.m2.4.4a" xref="S3.Ex1.m2.4.4.cmml"><mrow id="S3.Ex1.m2.4.4.4" xref="S3.Ex1.m2.4.4.4.cmml"><msub id="S3.Ex1.m2.4.4.4.6" xref="S3.Ex1.m2.4.4.4.6.cmml"><mi id="S3.Ex1.m2.4.4.4.6.2" xref="S3.Ex1.m2.4.4.4.6.2.cmml">𝐬</mi><mi id="S3.Ex1.m2.4.4.4.6.3" xref="S3.Ex1.m2.4.4.4.6.3.cmml">t</mi></msub><mo id="S3.Ex1.m2.4.4.4.5" xref="S3.Ex1.m2.4.4.4.5.cmml">−</mo><mrow id="S3.Ex1.m2.4.4.4.4" xref="S3.Ex1.m2.4.4.4.4.cmml"><msqrt id="S3.Ex1.m2.4.4.4.4.4" xref="S3.Ex1.m2.4.4.4.4.4.cmml"><mrow id="S3.Ex1.m2.4.4.4.4.4.2" xref="S3.Ex1.m2.4.4.4.4.4.2.cmml"><mn id="S3.Ex1.m2.4.4.4.4.4.2.2" xref="S3.Ex1.m2.4.4.4.4.4.2.2.cmml">1</mn><mo id="S3.Ex1.m2.4.4.4.4.4.2.1" xref="S3.Ex1.m2.4.4.4.4.4.2.1.cmml">−</mo><msub id="S3.Ex1.m2.4.4.4.4.4.2.3" xref="S3.Ex1.m2.4.4.4.4.4.2.3.cmml"><mi id="S3.Ex1.m2.4.4.4.4.4.2.3.2" xref="S3.Ex1.m2.4.4.4.4.4.2.3.2.cmml">α</mi><mi id="S3.Ex1.m2.4.4.4.4.4.2.3.3" xref="S3.Ex1.m2.4.4.4.4.4.2.3.3.cmml">t</mi></msub></mrow></msqrt><mo lspace="0em" rspace="0em" id="S3.Ex1.m2.4.4.4.4.3" xref="S3.Ex1.m2.4.4.4.4.3.cmml">​</mo><msub id="S3.Ex1.m2.4.4.4.4.5" xref="S3.Ex1.m2.4.4.4.4.5.cmml"><mi id="S3.Ex1.m2.4.4.4.4.5.2" xref="S3.Ex1.m2.4.4.4.4.5.2.cmml">ϵ</mi><mi id="S3.Ex1.m2.4.4.4.4.5.3" xref="S3.Ex1.m2.4.4.4.4.5.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.Ex1.m2.4.4.4.4.3a" xref="S3.Ex1.m2.4.4.4.4.3.cmml">​</mo><mrow id="S3.Ex1.m2.4.4.4.4.2.2" xref="S3.Ex1.m2.4.4.4.4.2.3.cmml"><mo stretchy="false" id="S3.Ex1.m2.4.4.4.4.2.2.3" xref="S3.Ex1.m2.4.4.4.4.2.3.cmml">(</mo><msub id="S3.Ex1.m2.3.3.3.3.1.1.1" xref="S3.Ex1.m2.3.3.3.3.1.1.1.cmml"><mi id="S3.Ex1.m2.3.3.3.3.1.1.1.2" xref="S3.Ex1.m2.3.3.3.3.1.1.1.2.cmml">𝐬</mi><mi id="S3.Ex1.m2.3.3.3.3.1.1.1.3" xref="S3.Ex1.m2.3.3.3.3.1.1.1.3.cmml">t</mi></msub><mo id="S3.Ex1.m2.4.4.4.4.2.2.4" xref="S3.Ex1.m2.4.4.4.4.2.3.cmml">,</mo><mrow id="S3.Ex1.m2.4.4.4.4.2.2.2" xref="S3.Ex1.m2.4.4.4.4.2.2.2.cmml"><mi id="S3.Ex1.m2.4.4.4.4.2.2.2.2" xref="S3.Ex1.m2.4.4.4.4.2.2.2.2.cmml">t</mi><mo fence="false" id="S3.Ex1.m2.4.4.4.4.2.2.2.1" xref="S3.Ex1.m2.4.4.4.4.2.2.2.1.cmml">|</mo><mrow id="S3.Ex1.m2.4.4.4.4.2.2.2.3.2" xref="S3.Ex1.m2.4.4.4.4.2.2.2.3.1.cmml"><mi id="S3.Ex1.m2.1.1.1.1" xref="S3.Ex1.m2.1.1.1.1.cmml">p</mi><mo id="S3.Ex1.m2.4.4.4.4.2.2.2.3.2.1" xref="S3.Ex1.m2.4.4.4.4.2.2.2.3.1.cmml">,</mo><mi id="S3.Ex1.m2.2.2.2.2" xref="S3.Ex1.m2.2.2.2.2.cmml">q</mi></mrow></mrow><mo stretchy="false" id="S3.Ex1.m2.4.4.4.4.2.2.5" xref="S3.Ex1.m2.4.4.4.4.2.3.cmml">)</mo></mrow></mrow></mrow><msqrt id="S3.Ex1.m2.4.4.6" xref="S3.Ex1.m2.4.4.6.cmml"><msub id="S3.Ex1.m2.4.4.6.2" xref="S3.Ex1.m2.4.4.6.2.cmml"><mi id="S3.Ex1.m2.4.4.6.2.2" xref="S3.Ex1.m2.4.4.6.2.2.cmml">α</mi><mi id="S3.Ex1.m2.4.4.6.2.3" xref="S3.Ex1.m2.4.4.6.2.3.cmml">t</mi></msub></msqrt></mfrac></mstyle><mo maxsize="160%" minsize="160%" id="S3.Ex1.m2.4.5.3.2.2" xref="S3.Ex1.m2.4.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m2.4b"><apply id="S3.Ex1.m2.4.5.cmml" xref="S3.Ex1.m2.4.5"><times id="S3.Ex1.m2.4.5.1.cmml" xref="S3.Ex1.m2.4.5.1"></times><apply id="S3.Ex1.m2.4.5.2.cmml" xref="S3.Ex1.m2.4.5.2"><root id="S3.Ex1.m2.4.5.2a.cmml" xref="S3.Ex1.m2.4.5.2"></root><apply id="S3.Ex1.m2.4.5.2.2.cmml" xref="S3.Ex1.m2.4.5.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m2.4.5.2.2.1.cmml" xref="S3.Ex1.m2.4.5.2.2">subscript</csymbol><ci id="S3.Ex1.m2.4.5.2.2.2.cmml" xref="S3.Ex1.m2.4.5.2.2.2">𝛼</ci><apply id="S3.Ex1.m2.4.5.2.2.3.cmml" xref="S3.Ex1.m2.4.5.2.2.3"><minus id="S3.Ex1.m2.4.5.2.2.3.1.cmml" xref="S3.Ex1.m2.4.5.2.2.3.1"></minus><ci id="S3.Ex1.m2.4.5.2.2.3.2.cmml" xref="S3.Ex1.m2.4.5.2.2.3.2">𝑡</ci><cn type="integer" id="S3.Ex1.m2.4.5.2.2.3.3.cmml" xref="S3.Ex1.m2.4.5.2.2.3.3">1</cn></apply></apply></apply><apply id="S3.Ex1.m2.4.4.cmml" xref="S3.Ex1.m2.4.5.3.2"><divide id="S3.Ex1.m2.4.4.5.cmml" xref="S3.Ex1.m2.4.5.3.2"></divide><apply id="S3.Ex1.m2.4.4.4.cmml" xref="S3.Ex1.m2.4.4.4"><minus id="S3.Ex1.m2.4.4.4.5.cmml" xref="S3.Ex1.m2.4.4.4.5"></minus><apply id="S3.Ex1.m2.4.4.4.6.cmml" xref="S3.Ex1.m2.4.4.4.6"><csymbol cd="ambiguous" id="S3.Ex1.m2.4.4.4.6.1.cmml" xref="S3.Ex1.m2.4.4.4.6">subscript</csymbol><ci id="S3.Ex1.m2.4.4.4.6.2.cmml" xref="S3.Ex1.m2.4.4.4.6.2">𝐬</ci><ci id="S3.Ex1.m2.4.4.4.6.3.cmml" xref="S3.Ex1.m2.4.4.4.6.3">𝑡</ci></apply><apply id="S3.Ex1.m2.4.4.4.4.cmml" xref="S3.Ex1.m2.4.4.4.4"><times id="S3.Ex1.m2.4.4.4.4.3.cmml" xref="S3.Ex1.m2.4.4.4.4.3"></times><apply id="S3.Ex1.m2.4.4.4.4.4.cmml" xref="S3.Ex1.m2.4.4.4.4.4"><root id="S3.Ex1.m2.4.4.4.4.4a.cmml" xref="S3.Ex1.m2.4.4.4.4.4"></root><apply id="S3.Ex1.m2.4.4.4.4.4.2.cmml" xref="S3.Ex1.m2.4.4.4.4.4.2"><minus id="S3.Ex1.m2.4.4.4.4.4.2.1.cmml" xref="S3.Ex1.m2.4.4.4.4.4.2.1"></minus><cn type="integer" id="S3.Ex1.m2.4.4.4.4.4.2.2.cmml" xref="S3.Ex1.m2.4.4.4.4.4.2.2">1</cn><apply id="S3.Ex1.m2.4.4.4.4.4.2.3.cmml" xref="S3.Ex1.m2.4.4.4.4.4.2.3"><csymbol cd="ambiguous" id="S3.Ex1.m2.4.4.4.4.4.2.3.1.cmml" xref="S3.Ex1.m2.4.4.4.4.4.2.3">subscript</csymbol><ci id="S3.Ex1.m2.4.4.4.4.4.2.3.2.cmml" xref="S3.Ex1.m2.4.4.4.4.4.2.3.2">𝛼</ci><ci id="S3.Ex1.m2.4.4.4.4.4.2.3.3.cmml" xref="S3.Ex1.m2.4.4.4.4.4.2.3.3">𝑡</ci></apply></apply></apply><apply id="S3.Ex1.m2.4.4.4.4.5.cmml" xref="S3.Ex1.m2.4.4.4.4.5"><csymbol cd="ambiguous" id="S3.Ex1.m2.4.4.4.4.5.1.cmml" xref="S3.Ex1.m2.4.4.4.4.5">subscript</csymbol><ci id="S3.Ex1.m2.4.4.4.4.5.2.cmml" xref="S3.Ex1.m2.4.4.4.4.5.2">italic-ϵ</ci><ci id="S3.Ex1.m2.4.4.4.4.5.3.cmml" xref="S3.Ex1.m2.4.4.4.4.5.3">𝜃</ci></apply><interval closure="open" id="S3.Ex1.m2.4.4.4.4.2.3.cmml" xref="S3.Ex1.m2.4.4.4.4.2.2"><apply id="S3.Ex1.m2.3.3.3.3.1.1.1.cmml" xref="S3.Ex1.m2.3.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m2.3.3.3.3.1.1.1.1.cmml" xref="S3.Ex1.m2.3.3.3.3.1.1.1">subscript</csymbol><ci id="S3.Ex1.m2.3.3.3.3.1.1.1.2.cmml" xref="S3.Ex1.m2.3.3.3.3.1.1.1.2">𝐬</ci><ci id="S3.Ex1.m2.3.3.3.3.1.1.1.3.cmml" xref="S3.Ex1.m2.3.3.3.3.1.1.1.3">𝑡</ci></apply><apply id="S3.Ex1.m2.4.4.4.4.2.2.2.cmml" xref="S3.Ex1.m2.4.4.4.4.2.2.2"><csymbol cd="latexml" id="S3.Ex1.m2.4.4.4.4.2.2.2.1.cmml" xref="S3.Ex1.m2.4.4.4.4.2.2.2.1">conditional</csymbol><ci id="S3.Ex1.m2.4.4.4.4.2.2.2.2.cmml" xref="S3.Ex1.m2.4.4.4.4.2.2.2.2">𝑡</ci><list id="S3.Ex1.m2.4.4.4.4.2.2.2.3.1.cmml" xref="S3.Ex1.m2.4.4.4.4.2.2.2.3.2"><ci id="S3.Ex1.m2.1.1.1.1.cmml" xref="S3.Ex1.m2.1.1.1.1">𝑝</ci><ci id="S3.Ex1.m2.2.2.2.2.cmml" xref="S3.Ex1.m2.2.2.2.2">𝑞</ci></list></apply></interval></apply></apply><apply id="S3.Ex1.m2.4.4.6.cmml" xref="S3.Ex1.m2.4.4.6"><root id="S3.Ex1.m2.4.4.6a.cmml" xref="S3.Ex1.m2.4.4.6"></root><apply id="S3.Ex1.m2.4.4.6.2.cmml" xref="S3.Ex1.m2.4.4.6.2"><csymbol cd="ambiguous" id="S3.Ex1.m2.4.4.6.2.1.cmml" xref="S3.Ex1.m2.4.4.6.2">subscript</csymbol><ci id="S3.Ex1.m2.4.4.6.2.2.cmml" xref="S3.Ex1.m2.4.4.6.2.2">𝛼</ci><ci id="S3.Ex1.m2.4.4.6.2.3.cmml" xref="S3.Ex1.m2.4.4.6.2.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m2.4c">\displaystyle\sqrt{\alpha_{t-1}}\Big{(}\frac{\mathbf{s}_{t}-\sqrt{1-\alpha_{t}}\epsilon_{\theta}(\mathbf{s}_{t},t|p,q)}{\sqrt{\alpha_{t}}}\Big{)}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E1.m1.4" class="ltx_Math" alttext="\displaystyle+\sqrt{1-\alpha_{t-1}-\sigma_{t}^{2}}\cdot\epsilon_{\theta}(\mathbf{s}_{t},t|p,q)+\sigma_{t}\varepsilon_{t}" display="inline"><semantics id="S3.E1.m1.4a"><mrow id="S3.E1.m1.4.4" xref="S3.E1.m1.4.4.cmml"><mrow id="S3.E1.m1.4.4.2" xref="S3.E1.m1.4.4.2.cmml"><mo id="S3.E1.m1.4.4.2a" xref="S3.E1.m1.4.4.2.cmml">+</mo><mrow id="S3.E1.m1.4.4.2.2" xref="S3.E1.m1.4.4.2.2.cmml"><mrow id="S3.E1.m1.4.4.2.2.4" xref="S3.E1.m1.4.4.2.2.4.cmml"><msqrt id="S3.E1.m1.4.4.2.2.4.2" xref="S3.E1.m1.4.4.2.2.4.2.cmml"><mrow id="S3.E1.m1.4.4.2.2.4.2.2" xref="S3.E1.m1.4.4.2.2.4.2.2.cmml"><mn id="S3.E1.m1.4.4.2.2.4.2.2.2" xref="S3.E1.m1.4.4.2.2.4.2.2.2.cmml">1</mn><mo id="S3.E1.m1.4.4.2.2.4.2.2.1" xref="S3.E1.m1.4.4.2.2.4.2.2.1.cmml">−</mo><msub id="S3.E1.m1.4.4.2.2.4.2.2.3" xref="S3.E1.m1.4.4.2.2.4.2.2.3.cmml"><mi id="S3.E1.m1.4.4.2.2.4.2.2.3.2" xref="S3.E1.m1.4.4.2.2.4.2.2.3.2.cmml">α</mi><mrow id="S3.E1.m1.4.4.2.2.4.2.2.3.3" xref="S3.E1.m1.4.4.2.2.4.2.2.3.3.cmml"><mi id="S3.E1.m1.4.4.2.2.4.2.2.3.3.2" xref="S3.E1.m1.4.4.2.2.4.2.2.3.3.2.cmml">t</mi><mo id="S3.E1.m1.4.4.2.2.4.2.2.3.3.1" xref="S3.E1.m1.4.4.2.2.4.2.2.3.3.1.cmml">−</mo><mn id="S3.E1.m1.4.4.2.2.4.2.2.3.3.3" xref="S3.E1.m1.4.4.2.2.4.2.2.3.3.3.cmml">1</mn></mrow></msub><mo id="S3.E1.m1.4.4.2.2.4.2.2.1a" xref="S3.E1.m1.4.4.2.2.4.2.2.1.cmml">−</mo><msubsup id="S3.E1.m1.4.4.2.2.4.2.2.4" xref="S3.E1.m1.4.4.2.2.4.2.2.4.cmml"><mi id="S3.E1.m1.4.4.2.2.4.2.2.4.2.2" xref="S3.E1.m1.4.4.2.2.4.2.2.4.2.2.cmml">σ</mi><mi id="S3.E1.m1.4.4.2.2.4.2.2.4.2.3" xref="S3.E1.m1.4.4.2.2.4.2.2.4.2.3.cmml">t</mi><mn id="S3.E1.m1.4.4.2.2.4.2.2.4.3" xref="S3.E1.m1.4.4.2.2.4.2.2.4.3.cmml">2</mn></msubsup></mrow></msqrt><mo lspace="0.222em" rspace="0.222em" id="S3.E1.m1.4.4.2.2.4.1" xref="S3.E1.m1.4.4.2.2.4.1.cmml">⋅</mo><msub id="S3.E1.m1.4.4.2.2.4.3" xref="S3.E1.m1.4.4.2.2.4.3.cmml"><mi id="S3.E1.m1.4.4.2.2.4.3.2" xref="S3.E1.m1.4.4.2.2.4.3.2.cmml">ϵ</mi><mi id="S3.E1.m1.4.4.2.2.4.3.3" xref="S3.E1.m1.4.4.2.2.4.3.3.cmml">θ</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E1.m1.4.4.2.2.3" xref="S3.E1.m1.4.4.2.2.3.cmml">​</mo><mrow id="S3.E1.m1.4.4.2.2.2.2" xref="S3.E1.m1.4.4.2.2.2.3.cmml"><mo stretchy="false" id="S3.E1.m1.4.4.2.2.2.2.3" xref="S3.E1.m1.4.4.2.2.2.3.cmml">(</mo><msub id="S3.E1.m1.3.3.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.1.2.cmml">𝐬</mi><mi id="S3.E1.m1.3.3.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E1.m1.4.4.2.2.2.2.4" xref="S3.E1.m1.4.4.2.2.2.3.cmml">,</mo><mrow id="S3.E1.m1.4.4.2.2.2.2.2" xref="S3.E1.m1.4.4.2.2.2.2.2.cmml"><mi id="S3.E1.m1.4.4.2.2.2.2.2.2" xref="S3.E1.m1.4.4.2.2.2.2.2.2.cmml">t</mi><mo fence="false" id="S3.E1.m1.4.4.2.2.2.2.2.1" xref="S3.E1.m1.4.4.2.2.2.2.2.1.cmml">|</mo><mrow id="S3.E1.m1.4.4.2.2.2.2.2.3.2" xref="S3.E1.m1.4.4.2.2.2.2.2.3.1.cmml"><mi id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">p</mi><mo id="S3.E1.m1.4.4.2.2.2.2.2.3.2.1" xref="S3.E1.m1.4.4.2.2.2.2.2.3.1.cmml">,</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">q</mi></mrow></mrow><mo stretchy="false" id="S3.E1.m1.4.4.2.2.2.2.5" xref="S3.E1.m1.4.4.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.4.4.3" xref="S3.E1.m1.4.4.3.cmml">+</mo><mrow id="S3.E1.m1.4.4.4" xref="S3.E1.m1.4.4.4.cmml"><msub id="S3.E1.m1.4.4.4.2" xref="S3.E1.m1.4.4.4.2.cmml"><mi id="S3.E1.m1.4.4.4.2.2" xref="S3.E1.m1.4.4.4.2.2.cmml">σ</mi><mi id="S3.E1.m1.4.4.4.2.3" xref="S3.E1.m1.4.4.4.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.4.4.4.1" xref="S3.E1.m1.4.4.4.1.cmml">​</mo><msub id="S3.E1.m1.4.4.4.3" xref="S3.E1.m1.4.4.4.3.cmml"><mi id="S3.E1.m1.4.4.4.3.2" xref="S3.E1.m1.4.4.4.3.2.cmml">ε</mi><mi id="S3.E1.m1.4.4.4.3.3" xref="S3.E1.m1.4.4.4.3.3.cmml">t</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.4b"><apply id="S3.E1.m1.4.4.cmml" xref="S3.E1.m1.4.4"><plus id="S3.E1.m1.4.4.3.cmml" xref="S3.E1.m1.4.4.3"></plus><apply id="S3.E1.m1.4.4.2.cmml" xref="S3.E1.m1.4.4.2"><plus id="S3.E1.m1.4.4.2.3.cmml" xref="S3.E1.m1.4.4.2"></plus><apply id="S3.E1.m1.4.4.2.2.cmml" xref="S3.E1.m1.4.4.2.2"><times id="S3.E1.m1.4.4.2.2.3.cmml" xref="S3.E1.m1.4.4.2.2.3"></times><apply id="S3.E1.m1.4.4.2.2.4.cmml" xref="S3.E1.m1.4.4.2.2.4"><ci id="S3.E1.m1.4.4.2.2.4.1.cmml" xref="S3.E1.m1.4.4.2.2.4.1">⋅</ci><apply id="S3.E1.m1.4.4.2.2.4.2.cmml" xref="S3.E1.m1.4.4.2.2.4.2"><root id="S3.E1.m1.4.4.2.2.4.2a.cmml" xref="S3.E1.m1.4.4.2.2.4.2"></root><apply id="S3.E1.m1.4.4.2.2.4.2.2.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2"><minus id="S3.E1.m1.4.4.2.2.4.2.2.1.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.1"></minus><cn type="integer" id="S3.E1.m1.4.4.2.2.4.2.2.2.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.2">1</cn><apply id="S3.E1.m1.4.4.2.2.4.2.2.3.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.2.2.4.2.2.3.1.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.3">subscript</csymbol><ci id="S3.E1.m1.4.4.2.2.4.2.2.3.2.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.3.2">𝛼</ci><apply id="S3.E1.m1.4.4.2.2.4.2.2.3.3.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.3.3"><minus id="S3.E1.m1.4.4.2.2.4.2.2.3.3.1.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.3.3.1"></minus><ci id="S3.E1.m1.4.4.2.2.4.2.2.3.3.2.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.3.3.2">𝑡</ci><cn type="integer" id="S3.E1.m1.4.4.2.2.4.2.2.3.3.3.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.3.3.3">1</cn></apply></apply><apply id="S3.E1.m1.4.4.2.2.4.2.2.4.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.4"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.2.2.4.2.2.4.1.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.4">superscript</csymbol><apply id="S3.E1.m1.4.4.2.2.4.2.2.4.2.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.4"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.2.2.4.2.2.4.2.1.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.4">subscript</csymbol><ci id="S3.E1.m1.4.4.2.2.4.2.2.4.2.2.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.4.2.2">𝜎</ci><ci id="S3.E1.m1.4.4.2.2.4.2.2.4.2.3.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.4.2.3">𝑡</ci></apply><cn type="integer" id="S3.E1.m1.4.4.2.2.4.2.2.4.3.cmml" xref="S3.E1.m1.4.4.2.2.4.2.2.4.3">2</cn></apply></apply></apply><apply id="S3.E1.m1.4.4.2.2.4.3.cmml" xref="S3.E1.m1.4.4.2.2.4.3"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.2.2.4.3.1.cmml" xref="S3.E1.m1.4.4.2.2.4.3">subscript</csymbol><ci id="S3.E1.m1.4.4.2.2.4.3.2.cmml" xref="S3.E1.m1.4.4.2.2.4.3.2">italic-ϵ</ci><ci id="S3.E1.m1.4.4.2.2.4.3.3.cmml" xref="S3.E1.m1.4.4.2.2.4.3.3">𝜃</ci></apply></apply><interval closure="open" id="S3.E1.m1.4.4.2.2.2.3.cmml" xref="S3.E1.m1.4.4.2.2.2.2"><apply id="S3.E1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.2">𝐬</ci><ci id="S3.E1.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.3">𝑡</ci></apply><apply id="S3.E1.m1.4.4.2.2.2.2.2.cmml" xref="S3.E1.m1.4.4.2.2.2.2.2"><csymbol cd="latexml" id="S3.E1.m1.4.4.2.2.2.2.2.1.cmml" xref="S3.E1.m1.4.4.2.2.2.2.2.1">conditional</csymbol><ci id="S3.E1.m1.4.4.2.2.2.2.2.2.cmml" xref="S3.E1.m1.4.4.2.2.2.2.2.2">𝑡</ci><list id="S3.E1.m1.4.4.2.2.2.2.2.3.1.cmml" xref="S3.E1.m1.4.4.2.2.2.2.2.3.2"><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">𝑝</ci><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">𝑞</ci></list></apply></interval></apply></apply><apply id="S3.E1.m1.4.4.4.cmml" xref="S3.E1.m1.4.4.4"><times id="S3.E1.m1.4.4.4.1.cmml" xref="S3.E1.m1.4.4.4.1"></times><apply id="S3.E1.m1.4.4.4.2.cmml" xref="S3.E1.m1.4.4.4.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.4.2.1.cmml" xref="S3.E1.m1.4.4.4.2">subscript</csymbol><ci id="S3.E1.m1.4.4.4.2.2.cmml" xref="S3.E1.m1.4.4.4.2.2">𝜎</ci><ci id="S3.E1.m1.4.4.4.2.3.cmml" xref="S3.E1.m1.4.4.4.2.3">𝑡</ci></apply><apply id="S3.E1.m1.4.4.4.3.cmml" xref="S3.E1.m1.4.4.4.3"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.4.3.1.cmml" xref="S3.E1.m1.4.4.4.3">subscript</csymbol><ci id="S3.E1.m1.4.4.4.3.2.cmml" xref="S3.E1.m1.4.4.4.3.2">𝜀</ci><ci id="S3.E1.m1.4.4.4.3.3.cmml" xref="S3.E1.m1.4.4.4.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.4c">\displaystyle+\sqrt{1-\alpha_{t-1}-\sigma_{t}^{2}}\cdot\epsilon_{\theta}(\mathbf{s}_{t},t|p,q)+\sigma_{t}\varepsilon_{t}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p1.14" class="ltx_p">where <math id="S3.SS1.p1.11.m1.1" class="ltx_Math" alttext="\alpha_{t}" display="inline"><semantics id="S3.SS1.p1.11.m1.1a"><msub id="S3.SS1.p1.11.m1.1.1" xref="S3.SS1.p1.11.m1.1.1.cmml"><mi id="S3.SS1.p1.11.m1.1.1.2" xref="S3.SS1.p1.11.m1.1.1.2.cmml">α</mi><mi id="S3.SS1.p1.11.m1.1.1.3" xref="S3.SS1.p1.11.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.11.m1.1b"><apply id="S3.SS1.p1.11.m1.1.1.cmml" xref="S3.SS1.p1.11.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.11.m1.1.1.1.cmml" xref="S3.SS1.p1.11.m1.1.1">subscript</csymbol><ci id="S3.SS1.p1.11.m1.1.1.2.cmml" xref="S3.SS1.p1.11.m1.1.1.2">𝛼</ci><ci id="S3.SS1.p1.11.m1.1.1.3.cmml" xref="S3.SS1.p1.11.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m1.1c">\alpha_{t}</annotation></semantics></math>, <math id="S3.SS1.p1.12.m2.1" class="ltx_Math" alttext="\alpha_{t-1}" display="inline"><semantics id="S3.SS1.p1.12.m2.1a"><msub id="S3.SS1.p1.12.m2.1.1" xref="S3.SS1.p1.12.m2.1.1.cmml"><mi id="S3.SS1.p1.12.m2.1.1.2" xref="S3.SS1.p1.12.m2.1.1.2.cmml">α</mi><mrow id="S3.SS1.p1.12.m2.1.1.3" xref="S3.SS1.p1.12.m2.1.1.3.cmml"><mi id="S3.SS1.p1.12.m2.1.1.3.2" xref="S3.SS1.p1.12.m2.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p1.12.m2.1.1.3.1" xref="S3.SS1.p1.12.m2.1.1.3.1.cmml">−</mo><mn id="S3.SS1.p1.12.m2.1.1.3.3" xref="S3.SS1.p1.12.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.12.m2.1b"><apply id="S3.SS1.p1.12.m2.1.1.cmml" xref="S3.SS1.p1.12.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m2.1.1.1.cmml" xref="S3.SS1.p1.12.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.12.m2.1.1.2.cmml" xref="S3.SS1.p1.12.m2.1.1.2">𝛼</ci><apply id="S3.SS1.p1.12.m2.1.1.3.cmml" xref="S3.SS1.p1.12.m2.1.1.3"><minus id="S3.SS1.p1.12.m2.1.1.3.1.cmml" xref="S3.SS1.p1.12.m2.1.1.3.1"></minus><ci id="S3.SS1.p1.12.m2.1.1.3.2.cmml" xref="S3.SS1.p1.12.m2.1.1.3.2">𝑡</ci><cn type="integer" id="S3.SS1.p1.12.m2.1.1.3.3.cmml" xref="S3.SS1.p1.12.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.12.m2.1c">\alpha_{t-1}</annotation></semantics></math> and <math id="S3.SS1.p1.13.m3.1" class="ltx_Math" alttext="\sigma_{t}" display="inline"><semantics id="S3.SS1.p1.13.m3.1a"><msub id="S3.SS1.p1.13.m3.1.1" xref="S3.SS1.p1.13.m3.1.1.cmml"><mi id="S3.SS1.p1.13.m3.1.1.2" xref="S3.SS1.p1.13.m3.1.1.2.cmml">σ</mi><mi id="S3.SS1.p1.13.m3.1.1.3" xref="S3.SS1.p1.13.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.13.m3.1b"><apply id="S3.SS1.p1.13.m3.1.1.cmml" xref="S3.SS1.p1.13.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.13.m3.1.1.1.cmml" xref="S3.SS1.p1.13.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.13.m3.1.1.2.cmml" xref="S3.SS1.p1.13.m3.1.1.2">𝜎</ci><ci id="S3.SS1.p1.13.m3.1.1.3.cmml" xref="S3.SS1.p1.13.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.13.m3.1c">\sigma_{t}</annotation></semantics></math> are pre-defined parameters, <math id="S3.SS1.p1.14.m4.1" class="ltx_Math" alttext="\varepsilon_{t}" display="inline"><semantics id="S3.SS1.p1.14.m4.1a"><msub id="S3.SS1.p1.14.m4.1.1" xref="S3.SS1.p1.14.m4.1.1.cmml"><mi id="S3.SS1.p1.14.m4.1.1.2" xref="S3.SS1.p1.14.m4.1.1.2.cmml">ε</mi><mi id="S3.SS1.p1.14.m4.1.1.3" xref="S3.SS1.p1.14.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.14.m4.1b"><apply id="S3.SS1.p1.14.m4.1.1.cmml" xref="S3.SS1.p1.14.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.14.m4.1.1.1.cmml" xref="S3.SS1.p1.14.m4.1.1">subscript</csymbol><ci id="S3.SS1.p1.14.m4.1.1.2.cmml" xref="S3.SS1.p1.14.m4.1.1.2">𝜀</ci><ci id="S3.SS1.p1.14.m4.1.1.3.cmml" xref="S3.SS1.p1.14.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.14.m4.1c">\varepsilon_{t}</annotation></semantics></math> is the Gaussian noise randomly sampled at each timestep. It should be noted that currently, many methods can freely control the number of iterations of the denoising process to accelerate sampling, but the overall process is quite similar, so these methods won’t be elaborated here.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.9" class="ltx_p"><span id="S3.SS1.p2.9.1" class="ltx_text ltx_font_bold">Notations and Objectives.</span> We consider a semi-FL setting, where we have <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mi id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">K</annotation></semantics></math> clients with unlabeled datasets <math id="S3.SS1.p2.2.m2.5" class="ltx_Math" alttext="\mathcal{D}_{k}=\{\mathbf{x}_{i}^{k}\}_{i=1}^{N_{k}},k=1,\ldots,K" display="inline"><semantics id="S3.SS1.p2.2.m2.5a"><mrow id="S3.SS1.p2.2.m2.5.5.2" xref="S3.SS1.p2.2.m2.5.5.3.cmml"><mrow id="S3.SS1.p2.2.m2.4.4.1.1" xref="S3.SS1.p2.2.m2.4.4.1.1.cmml"><msub id="S3.SS1.p2.2.m2.4.4.1.1.3" xref="S3.SS1.p2.2.m2.4.4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.2.m2.4.4.1.1.3.2" xref="S3.SS1.p2.2.m2.4.4.1.1.3.2.cmml">𝒟</mi><mi id="S3.SS1.p2.2.m2.4.4.1.1.3.3" xref="S3.SS1.p2.2.m2.4.4.1.1.3.3.cmml">k</mi></msub><mo id="S3.SS1.p2.2.m2.4.4.1.1.2" xref="S3.SS1.p2.2.m2.4.4.1.1.2.cmml">=</mo><msubsup id="S3.SS1.p2.2.m2.4.4.1.1.1" xref="S3.SS1.p2.2.m2.4.4.1.1.1.cmml"><mrow id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.2" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.2.cmml">{</mo><msubsup id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.2.2" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.2.3" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.3" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.3" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p2.2.m2.4.4.1.1.1.1.3" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.cmml"><mi id="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.2" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.1" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.3" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.3.cmml">1</mn></mrow><msub id="S3.SS1.p2.2.m2.4.4.1.1.1.3" xref="S3.SS1.p2.2.m2.4.4.1.1.1.3.cmml"><mi id="S3.SS1.p2.2.m2.4.4.1.1.1.3.2" xref="S3.SS1.p2.2.m2.4.4.1.1.1.3.2.cmml">N</mi><mi id="S3.SS1.p2.2.m2.4.4.1.1.1.3.3" xref="S3.SS1.p2.2.m2.4.4.1.1.1.3.3.cmml">k</mi></msub></msubsup></mrow><mo id="S3.SS1.p2.2.m2.5.5.2.3" xref="S3.SS1.p2.2.m2.5.5.3a.cmml">,</mo><mrow id="S3.SS1.p2.2.m2.5.5.2.2" xref="S3.SS1.p2.2.m2.5.5.2.2.cmml"><mi id="S3.SS1.p2.2.m2.5.5.2.2.2" xref="S3.SS1.p2.2.m2.5.5.2.2.2.cmml">k</mi><mo id="S3.SS1.p2.2.m2.5.5.2.2.1" xref="S3.SS1.p2.2.m2.5.5.2.2.1.cmml">=</mo><mrow id="S3.SS1.p2.2.m2.5.5.2.2.3.2" xref="S3.SS1.p2.2.m2.5.5.2.2.3.1.cmml"><mn id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">1</mn><mo id="S3.SS1.p2.2.m2.5.5.2.2.3.2.1" xref="S3.SS1.p2.2.m2.5.5.2.2.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p2.2.m2.2.2" xref="S3.SS1.p2.2.m2.2.2.cmml">…</mi><mo id="S3.SS1.p2.2.m2.5.5.2.2.3.2.2" xref="S3.SS1.p2.2.m2.5.5.2.2.3.1.cmml">,</mo><mi id="S3.SS1.p2.2.m2.3.3" xref="S3.SS1.p2.2.m2.3.3.cmml">K</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.5b"><apply id="S3.SS1.p2.2.m2.5.5.3.cmml" xref="S3.SS1.p2.2.m2.5.5.2"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.5.5.3a.cmml" xref="S3.SS1.p2.2.m2.5.5.2.3">formulae-sequence</csymbol><apply id="S3.SS1.p2.2.m2.4.4.1.1.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1"><eq id="S3.SS1.p2.2.m2.4.4.1.1.2.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.2"></eq><apply id="S3.SS1.p2.2.m2.4.4.1.1.3.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.4.4.1.1.3.1.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.2.m2.4.4.1.1.3.2.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.3.2">𝒟</ci><ci id="S3.SS1.p2.2.m2.4.4.1.1.3.3.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.3.3">𝑘</ci></apply><apply id="S3.SS1.p2.2.m2.4.4.1.1.1.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.4.4.1.1.1.2.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1">superscript</csymbol><apply id="S3.SS1.p2.2.m2.4.4.1.1.1.1.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.4.4.1.1.1.1.2.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1">subscript</csymbol><set id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1"><apply id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.3"><eq id="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.1.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.1"></eq><ci id="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.2.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.3.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS1.p2.2.m2.4.4.1.1.1.3.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.4.4.1.1.1.3.1.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.2.m2.4.4.1.1.1.3.2.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.3.2">𝑁</ci><ci id="S3.SS1.p2.2.m2.4.4.1.1.1.3.3.cmml" xref="S3.SS1.p2.2.m2.4.4.1.1.1.3.3">𝑘</ci></apply></apply></apply><apply id="S3.SS1.p2.2.m2.5.5.2.2.cmml" xref="S3.SS1.p2.2.m2.5.5.2.2"><eq id="S3.SS1.p2.2.m2.5.5.2.2.1.cmml" xref="S3.SS1.p2.2.m2.5.5.2.2.1"></eq><ci id="S3.SS1.p2.2.m2.5.5.2.2.2.cmml" xref="S3.SS1.p2.2.m2.5.5.2.2.2">𝑘</ci><list id="S3.SS1.p2.2.m2.5.5.2.2.3.1.cmml" xref="S3.SS1.p2.2.m2.5.5.2.2.3.2"><cn type="integer" id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">1</cn><ci id="S3.SS1.p2.2.m2.2.2.cmml" xref="S3.SS1.p2.2.m2.2.2">…</ci><ci id="S3.SS1.p2.2.m2.3.3.cmml" xref="S3.SS1.p2.2.m2.3.3">𝐾</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.5c">\mathcal{D}_{k}=\{\mathbf{x}_{i}^{k}\}_{i=1}^{N_{k}},k=1,\ldots,K</annotation></semantics></math>, where <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="{N_{k}}" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><msub id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><mi id="S3.SS1.p2.3.m3.1.1.2" xref="S3.SS1.p2.3.m3.1.1.2.cmml">N</mi><mi id="S3.SS1.p2.3.m3.1.1.3" xref="S3.SS1.p2.3.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2">𝑁</ci><ci id="S3.SS1.p2.3.m3.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">{N_{k}}</annotation></semantics></math> is the number of images on the <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mi id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">k</annotation></semantics></math>-th client, and a server with a labeled dataset <math id="S3.SS1.p2.5.m5.2" class="ltx_Math" alttext="\mathcal{D}_{s}=\{\mathbf{x}_{i}^{s},y_{i}\}_{i=1}^{N_{s}}" display="inline"><semantics id="S3.SS1.p2.5.m5.2a"><mrow id="S3.SS1.p2.5.m5.2.2" xref="S3.SS1.p2.5.m5.2.2.cmml"><msub id="S3.SS1.p2.5.m5.2.2.4" xref="S3.SS1.p2.5.m5.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.5.m5.2.2.4.2" xref="S3.SS1.p2.5.m5.2.2.4.2.cmml">𝒟</mi><mi id="S3.SS1.p2.5.m5.2.2.4.3" xref="S3.SS1.p2.5.m5.2.2.4.3.cmml">s</mi></msub><mo id="S3.SS1.p2.5.m5.2.2.3" xref="S3.SS1.p2.5.m5.2.2.3.cmml">=</mo><msubsup id="S3.SS1.p2.5.m5.2.2.2" xref="S3.SS1.p2.5.m5.2.2.2.cmml"><mrow id="S3.SS1.p2.5.m5.2.2.2.2.2.2" xref="S3.SS1.p2.5.m5.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p2.5.m5.2.2.2.2.2.2.3" xref="S3.SS1.p2.5.m5.2.2.2.2.2.3.cmml">{</mo><msubsup id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.2.2" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.2.3" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.3" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.3.cmml">s</mi></msubsup><mo id="S3.SS1.p2.5.m5.2.2.2.2.2.2.4" xref="S3.SS1.p2.5.m5.2.2.2.2.2.3.cmml">,</mo><msub id="S3.SS1.p2.5.m5.2.2.2.2.2.2.2" xref="S3.SS1.p2.5.m5.2.2.2.2.2.2.2.cmml"><mi id="S3.SS1.p2.5.m5.2.2.2.2.2.2.2.2" xref="S3.SS1.p2.5.m5.2.2.2.2.2.2.2.2.cmml">y</mi><mi id="S3.SS1.p2.5.m5.2.2.2.2.2.2.2.3" xref="S3.SS1.p2.5.m5.2.2.2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS1.p2.5.m5.2.2.2.2.2.2.5" xref="S3.SS1.p2.5.m5.2.2.2.2.2.3.cmml">}</mo></mrow><mrow id="S3.SS1.p2.5.m5.2.2.2.2.4" xref="S3.SS1.p2.5.m5.2.2.2.2.4.cmml"><mi id="S3.SS1.p2.5.m5.2.2.2.2.4.2" xref="S3.SS1.p2.5.m5.2.2.2.2.4.2.cmml">i</mi><mo id="S3.SS1.p2.5.m5.2.2.2.2.4.1" xref="S3.SS1.p2.5.m5.2.2.2.2.4.1.cmml">=</mo><mn id="S3.SS1.p2.5.m5.2.2.2.2.4.3" xref="S3.SS1.p2.5.m5.2.2.2.2.4.3.cmml">1</mn></mrow><msub id="S3.SS1.p2.5.m5.2.2.2.4" xref="S3.SS1.p2.5.m5.2.2.2.4.cmml"><mi id="S3.SS1.p2.5.m5.2.2.2.4.2" xref="S3.SS1.p2.5.m5.2.2.2.4.2.cmml">N</mi><mi id="S3.SS1.p2.5.m5.2.2.2.4.3" xref="S3.SS1.p2.5.m5.2.2.2.4.3.cmml">s</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.2b"><apply id="S3.SS1.p2.5.m5.2.2.cmml" xref="S3.SS1.p2.5.m5.2.2"><eq id="S3.SS1.p2.5.m5.2.2.3.cmml" xref="S3.SS1.p2.5.m5.2.2.3"></eq><apply id="S3.SS1.p2.5.m5.2.2.4.cmml" xref="S3.SS1.p2.5.m5.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.2.2.4.1.cmml" xref="S3.SS1.p2.5.m5.2.2.4">subscript</csymbol><ci id="S3.SS1.p2.5.m5.2.2.4.2.cmml" xref="S3.SS1.p2.5.m5.2.2.4.2">𝒟</ci><ci id="S3.SS1.p2.5.m5.2.2.4.3.cmml" xref="S3.SS1.p2.5.m5.2.2.4.3">𝑠</ci></apply><apply id="S3.SS1.p2.5.m5.2.2.2.cmml" xref="S3.SS1.p2.5.m5.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.2.2.2.3.cmml" xref="S3.SS1.p2.5.m5.2.2.2">superscript</csymbol><apply id="S3.SS1.p2.5.m5.2.2.2.2.cmml" xref="S3.SS1.p2.5.m5.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.2.2.2.2.3.cmml" xref="S3.SS1.p2.5.m5.2.2.2">subscript</csymbol><set id="S3.SS1.p2.5.m5.2.2.2.2.2.3.cmml" xref="S3.SS1.p2.5.m5.2.2.2.2.2.2"><apply id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.3">𝑠</ci></apply><apply id="S3.SS1.p2.5.m5.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p2.5.m5.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.2.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p2.5.m5.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.5.m5.2.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p2.5.m5.2.2.2.2.2.2.2.2">𝑦</ci><ci id="S3.SS1.p2.5.m5.2.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p2.5.m5.2.2.2.2.2.2.2.3">𝑖</ci></apply></set><apply id="S3.SS1.p2.5.m5.2.2.2.2.4.cmml" xref="S3.SS1.p2.5.m5.2.2.2.2.4"><eq id="S3.SS1.p2.5.m5.2.2.2.2.4.1.cmml" xref="S3.SS1.p2.5.m5.2.2.2.2.4.1"></eq><ci id="S3.SS1.p2.5.m5.2.2.2.2.4.2.cmml" xref="S3.SS1.p2.5.m5.2.2.2.2.4.2">𝑖</ci><cn type="integer" id="S3.SS1.p2.5.m5.2.2.2.2.4.3.cmml" xref="S3.SS1.p2.5.m5.2.2.2.2.4.3">1</cn></apply></apply><apply id="S3.SS1.p2.5.m5.2.2.2.4.cmml" xref="S3.SS1.p2.5.m5.2.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.2.2.2.4.1.cmml" xref="S3.SS1.p2.5.m5.2.2.2.4">subscript</csymbol><ci id="S3.SS1.p2.5.m5.2.2.2.4.2.cmml" xref="S3.SS1.p2.5.m5.2.2.2.4.2">𝑁</ci><ci id="S3.SS1.p2.5.m5.2.2.2.4.3.cmml" xref="S3.SS1.p2.5.m5.2.2.2.4.3">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.2c">\mathcal{D}_{s}=\{\mathbf{x}_{i}^{s},y_{i}\}_{i=1}^{N_{s}}</annotation></semantics></math>, <math id="S3.SS1.p2.6.m6.3" class="ltx_Math" alttext="y_{i}\in\left\{1,\ldots,M\right\}" display="inline"><semantics id="S3.SS1.p2.6.m6.3a"><mrow id="S3.SS1.p2.6.m6.3.4" xref="S3.SS1.p2.6.m6.3.4.cmml"><msub id="S3.SS1.p2.6.m6.3.4.2" xref="S3.SS1.p2.6.m6.3.4.2.cmml"><mi id="S3.SS1.p2.6.m6.3.4.2.2" xref="S3.SS1.p2.6.m6.3.4.2.2.cmml">y</mi><mi id="S3.SS1.p2.6.m6.3.4.2.3" xref="S3.SS1.p2.6.m6.3.4.2.3.cmml">i</mi></msub><mo id="S3.SS1.p2.6.m6.3.4.1" xref="S3.SS1.p2.6.m6.3.4.1.cmml">∈</mo><mrow id="S3.SS1.p2.6.m6.3.4.3.2" xref="S3.SS1.p2.6.m6.3.4.3.1.cmml"><mo id="S3.SS1.p2.6.m6.3.4.3.2.1" xref="S3.SS1.p2.6.m6.3.4.3.1.cmml">{</mo><mn id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml">1</mn><mo id="S3.SS1.p2.6.m6.3.4.3.2.2" xref="S3.SS1.p2.6.m6.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p2.6.m6.2.2" xref="S3.SS1.p2.6.m6.2.2.cmml">…</mi><mo id="S3.SS1.p2.6.m6.3.4.3.2.3" xref="S3.SS1.p2.6.m6.3.4.3.1.cmml">,</mo><mi id="S3.SS1.p2.6.m6.3.3" xref="S3.SS1.p2.6.m6.3.3.cmml">M</mi><mo id="S3.SS1.p2.6.m6.3.4.3.2.4" xref="S3.SS1.p2.6.m6.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.3b"><apply id="S3.SS1.p2.6.m6.3.4.cmml" xref="S3.SS1.p2.6.m6.3.4"><in id="S3.SS1.p2.6.m6.3.4.1.cmml" xref="S3.SS1.p2.6.m6.3.4.1"></in><apply id="S3.SS1.p2.6.m6.3.4.2.cmml" xref="S3.SS1.p2.6.m6.3.4.2"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.3.4.2.1.cmml" xref="S3.SS1.p2.6.m6.3.4.2">subscript</csymbol><ci id="S3.SS1.p2.6.m6.3.4.2.2.cmml" xref="S3.SS1.p2.6.m6.3.4.2.2">𝑦</ci><ci id="S3.SS1.p2.6.m6.3.4.2.3.cmml" xref="S3.SS1.p2.6.m6.3.4.2.3">𝑖</ci></apply><set id="S3.SS1.p2.6.m6.3.4.3.1.cmml" xref="S3.SS1.p2.6.m6.3.4.3.2"><cn type="integer" id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">1</cn><ci id="S3.SS1.p2.6.m6.2.2.cmml" xref="S3.SS1.p2.6.m6.2.2">…</ci><ci id="S3.SS1.p2.6.m6.3.3.cmml" xref="S3.SS1.p2.6.m6.3.3">𝑀</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.3c">y_{i}\in\left\{1,\ldots,M\right\}</annotation></semantics></math>, where <math id="S3.SS1.p2.7.m7.1" class="ltx_Math" alttext="{N_{s}}" display="inline"><semantics id="S3.SS1.p2.7.m7.1a"><msub id="S3.SS1.p2.7.m7.1.1" xref="S3.SS1.p2.7.m7.1.1.cmml"><mi id="S3.SS1.p2.7.m7.1.1.2" xref="S3.SS1.p2.7.m7.1.1.2.cmml">N</mi><mi id="S3.SS1.p2.7.m7.1.1.3" xref="S3.SS1.p2.7.m7.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.1b"><apply id="S3.SS1.p2.7.m7.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.1.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.p2.7.m7.1.1.2.cmml" xref="S3.SS1.p2.7.m7.1.1.2">𝑁</ci><ci id="S3.SS1.p2.7.m7.1.1.3.cmml" xref="S3.SS1.p2.7.m7.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.1c">{N_{s}}</annotation></semantics></math> is the number of images on the server and <math id="S3.SS1.p2.8.m8.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS1.p2.8.m8.1a"><mi id="S3.SS1.p2.8.m8.1.1" xref="S3.SS1.p2.8.m8.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m8.1b"><ci id="S3.SS1.p2.8.m8.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m8.1c">M</annotation></semantics></math> is the number of categories. The text prompts of these categories are <math id="S3.SS1.p2.9.m9.5" class="ltx_Math" alttext="\mathcal{C}_{j},j\in\left\{1,\ldots,M\right\}" display="inline"><semantics id="S3.SS1.p2.9.m9.5a"><mrow id="S3.SS1.p2.9.m9.5.5" xref="S3.SS1.p2.9.m9.5.5.cmml"><mrow id="S3.SS1.p2.9.m9.5.5.1.1" xref="S3.SS1.p2.9.m9.5.5.1.2.cmml"><msub id="S3.SS1.p2.9.m9.5.5.1.1.1" xref="S3.SS1.p2.9.m9.5.5.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.9.m9.5.5.1.1.1.2" xref="S3.SS1.p2.9.m9.5.5.1.1.1.2.cmml">𝒞</mi><mi id="S3.SS1.p2.9.m9.5.5.1.1.1.3" xref="S3.SS1.p2.9.m9.5.5.1.1.1.3.cmml">j</mi></msub><mo id="S3.SS1.p2.9.m9.5.5.1.1.2" xref="S3.SS1.p2.9.m9.5.5.1.2.cmml">,</mo><mi id="S3.SS1.p2.9.m9.4.4" xref="S3.SS1.p2.9.m9.4.4.cmml">j</mi></mrow><mo id="S3.SS1.p2.9.m9.5.5.2" xref="S3.SS1.p2.9.m9.5.5.2.cmml">∈</mo><mrow id="S3.SS1.p2.9.m9.5.5.3.2" xref="S3.SS1.p2.9.m9.5.5.3.1.cmml"><mo id="S3.SS1.p2.9.m9.5.5.3.2.1" xref="S3.SS1.p2.9.m9.5.5.3.1.cmml">{</mo><mn id="S3.SS1.p2.9.m9.1.1" xref="S3.SS1.p2.9.m9.1.1.cmml">1</mn><mo id="S3.SS1.p2.9.m9.5.5.3.2.2" xref="S3.SS1.p2.9.m9.5.5.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p2.9.m9.2.2" xref="S3.SS1.p2.9.m9.2.2.cmml">…</mi><mo id="S3.SS1.p2.9.m9.5.5.3.2.3" xref="S3.SS1.p2.9.m9.5.5.3.1.cmml">,</mo><mi id="S3.SS1.p2.9.m9.3.3" xref="S3.SS1.p2.9.m9.3.3.cmml">M</mi><mo id="S3.SS1.p2.9.m9.5.5.3.2.4" xref="S3.SS1.p2.9.m9.5.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.9.m9.5b"><apply id="S3.SS1.p2.9.m9.5.5.cmml" xref="S3.SS1.p2.9.m9.5.5"><in id="S3.SS1.p2.9.m9.5.5.2.cmml" xref="S3.SS1.p2.9.m9.5.5.2"></in><list id="S3.SS1.p2.9.m9.5.5.1.2.cmml" xref="S3.SS1.p2.9.m9.5.5.1.1"><apply id="S3.SS1.p2.9.m9.5.5.1.1.1.cmml" xref="S3.SS1.p2.9.m9.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m9.5.5.1.1.1.1.cmml" xref="S3.SS1.p2.9.m9.5.5.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.9.m9.5.5.1.1.1.2.cmml" xref="S3.SS1.p2.9.m9.5.5.1.1.1.2">𝒞</ci><ci id="S3.SS1.p2.9.m9.5.5.1.1.1.3.cmml" xref="S3.SS1.p2.9.m9.5.5.1.1.1.3">𝑗</ci></apply><ci id="S3.SS1.p2.9.m9.4.4.cmml" xref="S3.SS1.p2.9.m9.4.4">𝑗</ci></list><set id="S3.SS1.p2.9.m9.5.5.3.1.cmml" xref="S3.SS1.p2.9.m9.5.5.3.2"><cn type="integer" id="S3.SS1.p2.9.m9.1.1.cmml" xref="S3.SS1.p2.9.m9.1.1">1</cn><ci id="S3.SS1.p2.9.m9.2.2.cmml" xref="S3.SS1.p2.9.m9.2.2">…</ci><ci id="S3.SS1.p2.9.m9.3.3.cmml" xref="S3.SS1.p2.9.m9.3.3">𝑀</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.9.m9.5c">\mathcal{C}_{j},j\in\left\{1,\ldots,M\right\}</annotation></semantics></math>. The objective of the whole FL framework is:</p>
<table id="A2.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E2.m1.3" class="ltx_Math" alttext="\displaystyle\min_{\mathbf{w}\in\mathbb{R}^{d}}\frac{1}{K}\sum_{k=1}^{K}\mathbb{E}_{\mathbf{x}\sim\mathcal{D}_{k}}\left[l_{k}(\mathbf{w};\mathbf{x})\right]" display="inline"><semantics id="S3.E2.m1.3a"><mrow id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml"><mrow id="S3.E2.m1.3.3.3" xref="S3.E2.m1.3.3.3.cmml"><munder id="S3.E2.m1.3.3.3.1" xref="S3.E2.m1.3.3.3.1.cmml"><mi id="S3.E2.m1.3.3.3.1.2" xref="S3.E2.m1.3.3.3.1.2.cmml">min</mi><mrow id="S3.E2.m1.3.3.3.1.3" xref="S3.E2.m1.3.3.3.1.3.cmml"><mi id="S3.E2.m1.3.3.3.1.3.2" xref="S3.E2.m1.3.3.3.1.3.2.cmml">𝐰</mi><mo id="S3.E2.m1.3.3.3.1.3.1" xref="S3.E2.m1.3.3.3.1.3.1.cmml">∈</mo><msup id="S3.E2.m1.3.3.3.1.3.3" xref="S3.E2.m1.3.3.3.1.3.3.cmml"><mi id="S3.E2.m1.3.3.3.1.3.3.2" xref="S3.E2.m1.3.3.3.1.3.3.2.cmml">ℝ</mi><mi id="S3.E2.m1.3.3.3.1.3.3.3" xref="S3.E2.m1.3.3.3.1.3.3.3.cmml">d</mi></msup></mrow></munder><mo lspace="0.167em" id="S3.E2.m1.3.3.3a" xref="S3.E2.m1.3.3.3.cmml">⁡</mo><mstyle displaystyle="true" id="S3.E2.m1.3.3.3.2" xref="S3.E2.m1.3.3.3.2.cmml"><mfrac id="S3.E2.m1.3.3.3.2a" xref="S3.E2.m1.3.3.3.2.cmml"><mn id="S3.E2.m1.3.3.3.2.2" xref="S3.E2.m1.3.3.3.2.2.cmml">1</mn><mi id="S3.E2.m1.3.3.3.2.3" xref="S3.E2.m1.3.3.3.2.3.cmml">K</mi></mfrac></mstyle></mrow><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.2" xref="S3.E2.m1.3.3.2.cmml">​</mo><mrow id="S3.E2.m1.3.3.1" xref="S3.E2.m1.3.3.1.cmml"><mstyle displaystyle="true" id="S3.E2.m1.3.3.1.2" xref="S3.E2.m1.3.3.1.2.cmml"><munderover id="S3.E2.m1.3.3.1.2a" xref="S3.E2.m1.3.3.1.2.cmml"><mo movablelimits="false" id="S3.E2.m1.3.3.1.2.2.2" xref="S3.E2.m1.3.3.1.2.2.2.cmml">∑</mo><mrow id="S3.E2.m1.3.3.1.2.2.3" xref="S3.E2.m1.3.3.1.2.2.3.cmml"><mi id="S3.E2.m1.3.3.1.2.2.3.2" xref="S3.E2.m1.3.3.1.2.2.3.2.cmml">k</mi><mo id="S3.E2.m1.3.3.1.2.2.3.1" xref="S3.E2.m1.3.3.1.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.3.3.1.2.2.3.3" xref="S3.E2.m1.3.3.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E2.m1.3.3.1.2.3" xref="S3.E2.m1.3.3.1.2.3.cmml">K</mi></munderover></mstyle><mrow id="S3.E2.m1.3.3.1.1" xref="S3.E2.m1.3.3.1.1.cmml"><msub id="S3.E2.m1.3.3.1.1.3" xref="S3.E2.m1.3.3.1.1.3.cmml"><mi id="S3.E2.m1.3.3.1.1.3.2" xref="S3.E2.m1.3.3.1.1.3.2.cmml">𝔼</mi><mrow id="S3.E2.m1.3.3.1.1.3.3" xref="S3.E2.m1.3.3.1.1.3.3.cmml"><mi id="S3.E2.m1.3.3.1.1.3.3.2" xref="S3.E2.m1.3.3.1.1.3.3.2.cmml">𝐱</mi><mo id="S3.E2.m1.3.3.1.1.3.3.1" xref="S3.E2.m1.3.3.1.1.3.3.1.cmml">∼</mo><msub id="S3.E2.m1.3.3.1.1.3.3.3" xref="S3.E2.m1.3.3.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.3.3.1.1.3.3.3.2" xref="S3.E2.m1.3.3.1.1.3.3.3.2.cmml">𝒟</mi><mi id="S3.E2.m1.3.3.1.1.3.3.3.3" xref="S3.E2.m1.3.3.1.1.3.3.3.3.cmml">k</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.1.1.2" xref="S3.E2.m1.3.3.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.3.3.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.2.cmml"><mo id="S3.E2.m1.3.3.1.1.1.1.2" xref="S3.E2.m1.3.3.1.1.1.2.1.cmml">[</mo><mrow id="S3.E2.m1.3.3.1.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.1.cmml"><msub id="S3.E2.m1.3.3.1.1.1.1.1.2" xref="S3.E2.m1.3.3.1.1.1.1.1.2.cmml"><mi id="S3.E2.m1.3.3.1.1.1.1.1.2.2" xref="S3.E2.m1.3.3.1.1.1.1.1.2.2.cmml">l</mi><mi id="S3.E2.m1.3.3.1.1.1.1.1.2.3" xref="S3.E2.m1.3.3.1.1.1.1.1.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.1.1.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.1.1.cmml">​</mo><mrow id="S3.E2.m1.3.3.1.1.1.1.1.3.2" xref="S3.E2.m1.3.3.1.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S3.E2.m1.3.3.1.1.1.1.1.3.2.1" xref="S3.E2.m1.3.3.1.1.1.1.1.3.1.cmml">(</mo><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">𝐰</mi><mo id="S3.E2.m1.3.3.1.1.1.1.1.3.2.2" xref="S3.E2.m1.3.3.1.1.1.1.1.3.1.cmml">;</mo><mi id="S3.E2.m1.2.2" xref="S3.E2.m1.2.2.cmml">𝐱</mi><mo stretchy="false" id="S3.E2.m1.3.3.1.1.1.1.1.3.2.3" xref="S3.E2.m1.3.3.1.1.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.3.3.1.1.1.1.3" xref="S3.E2.m1.3.3.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.3b"><apply id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3"><times id="S3.E2.m1.3.3.2.cmml" xref="S3.E2.m1.3.3.2"></times><apply id="S3.E2.m1.3.3.3.cmml" xref="S3.E2.m1.3.3.3"><apply id="S3.E2.m1.3.3.3.1.cmml" xref="S3.E2.m1.3.3.3.1"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.1.1.cmml" xref="S3.E2.m1.3.3.3.1">subscript</csymbol><min id="S3.E2.m1.3.3.3.1.2.cmml" xref="S3.E2.m1.3.3.3.1.2"></min><apply id="S3.E2.m1.3.3.3.1.3.cmml" xref="S3.E2.m1.3.3.3.1.3"><in id="S3.E2.m1.3.3.3.1.3.1.cmml" xref="S3.E2.m1.3.3.3.1.3.1"></in><ci id="S3.E2.m1.3.3.3.1.3.2.cmml" xref="S3.E2.m1.3.3.3.1.3.2">𝐰</ci><apply id="S3.E2.m1.3.3.3.1.3.3.cmml" xref="S3.E2.m1.3.3.3.1.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.1.3.3.1.cmml" xref="S3.E2.m1.3.3.3.1.3.3">superscript</csymbol><ci id="S3.E2.m1.3.3.3.1.3.3.2.cmml" xref="S3.E2.m1.3.3.3.1.3.3.2">ℝ</ci><ci id="S3.E2.m1.3.3.3.1.3.3.3.cmml" xref="S3.E2.m1.3.3.3.1.3.3.3">𝑑</ci></apply></apply></apply><apply id="S3.E2.m1.3.3.3.2.cmml" xref="S3.E2.m1.3.3.3.2"><divide id="S3.E2.m1.3.3.3.2.1.cmml" xref="S3.E2.m1.3.3.3.2"></divide><cn type="integer" id="S3.E2.m1.3.3.3.2.2.cmml" xref="S3.E2.m1.3.3.3.2.2">1</cn><ci id="S3.E2.m1.3.3.3.2.3.cmml" xref="S3.E2.m1.3.3.3.2.3">𝐾</ci></apply></apply><apply id="S3.E2.m1.3.3.1.cmml" xref="S3.E2.m1.3.3.1"><apply id="S3.E2.m1.3.3.1.2.cmml" xref="S3.E2.m1.3.3.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.2.1.cmml" xref="S3.E2.m1.3.3.1.2">superscript</csymbol><apply id="S3.E2.m1.3.3.1.2.2.cmml" xref="S3.E2.m1.3.3.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.2.2.1.cmml" xref="S3.E2.m1.3.3.1.2">subscript</csymbol><sum id="S3.E2.m1.3.3.1.2.2.2.cmml" xref="S3.E2.m1.3.3.1.2.2.2"></sum><apply id="S3.E2.m1.3.3.1.2.2.3.cmml" xref="S3.E2.m1.3.3.1.2.2.3"><eq id="S3.E2.m1.3.3.1.2.2.3.1.cmml" xref="S3.E2.m1.3.3.1.2.2.3.1"></eq><ci id="S3.E2.m1.3.3.1.2.2.3.2.cmml" xref="S3.E2.m1.3.3.1.2.2.3.2">𝑘</ci><cn type="integer" id="S3.E2.m1.3.3.1.2.2.3.3.cmml" xref="S3.E2.m1.3.3.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E2.m1.3.3.1.2.3.cmml" xref="S3.E2.m1.3.3.1.2.3">𝐾</ci></apply><apply id="S3.E2.m1.3.3.1.1.cmml" xref="S3.E2.m1.3.3.1.1"><times id="S3.E2.m1.3.3.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.2"></times><apply id="S3.E2.m1.3.3.1.1.3.cmml" xref="S3.E2.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.3.1.cmml" xref="S3.E2.m1.3.3.1.1.3">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.3.2.cmml" xref="S3.E2.m1.3.3.1.1.3.2">𝔼</ci><apply id="S3.E2.m1.3.3.1.1.3.3.cmml" xref="S3.E2.m1.3.3.1.1.3.3"><csymbol cd="latexml" id="S3.E2.m1.3.3.1.1.3.3.1.cmml" xref="S3.E2.m1.3.3.1.1.3.3.1">similar-to</csymbol><ci id="S3.E2.m1.3.3.1.1.3.3.2.cmml" xref="S3.E2.m1.3.3.1.1.3.3.2">𝐱</ci><apply id="S3.E2.m1.3.3.1.1.3.3.3.cmml" xref="S3.E2.m1.3.3.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.3.3.3.1.cmml" xref="S3.E2.m1.3.3.1.1.3.3.3">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.3.3.3.2.cmml" xref="S3.E2.m1.3.3.1.1.3.3.3.2">𝒟</ci><ci id="S3.E2.m1.3.3.1.1.3.3.3.3.cmml" xref="S3.E2.m1.3.3.1.1.3.3.3.3">𝑘</ci></apply></apply></apply><apply id="S3.E2.m1.3.3.1.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.3.3.1.1.1.2.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E2.m1.3.3.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1"><times id="S3.E2.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1"></times><apply id="S3.E2.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.2.2">𝑙</ci><ci id="S3.E2.m1.3.3.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.2.3">𝑘</ci></apply><list id="S3.E2.m1.3.3.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.3.2"><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝐰</ci><ci id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2">𝐱</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.3c">\displaystyle\min_{\mathbf{w}\in\mathbb{R}^{d}}\frac{1}{K}\sum_{k=1}^{K}\mathbb{E}_{\mathbf{x}\sim\mathcal{D}_{k}}\left[l_{k}(\mathbf{w};\mathbf{x})\right]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.12" class="ltx_p">where <math id="S3.SS1.p2.10.m1.1" class="ltx_Math" alttext="l_{k}" display="inline"><semantics id="S3.SS1.p2.10.m1.1a"><msub id="S3.SS1.p2.10.m1.1.1" xref="S3.SS1.p2.10.m1.1.1.cmml"><mi id="S3.SS1.p2.10.m1.1.1.2" xref="S3.SS1.p2.10.m1.1.1.2.cmml">l</mi><mi id="S3.SS1.p2.10.m1.1.1.3" xref="S3.SS1.p2.10.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.10.m1.1b"><apply id="S3.SS1.p2.10.m1.1.1.cmml" xref="S3.SS1.p2.10.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m1.1.1.1.cmml" xref="S3.SS1.p2.10.m1.1.1">subscript</csymbol><ci id="S3.SS1.p2.10.m1.1.1.2.cmml" xref="S3.SS1.p2.10.m1.1.1.2">𝑙</ci><ci id="S3.SS1.p2.10.m1.1.1.3.cmml" xref="S3.SS1.p2.10.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.10.m1.1c">l_{k}</annotation></semantics></math> is the local objective function for the <math id="S3.SS1.p2.11.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p2.11.m2.1a"><mi id="S3.SS1.p2.11.m2.1.1" xref="S3.SS1.p2.11.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.11.m2.1b"><ci id="S3.SS1.p2.11.m2.1.1.cmml" xref="S3.SS1.p2.11.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.11.m2.1c">k</annotation></semantics></math>-th client, <math id="S3.SS1.p2.12.m3.1" class="ltx_Math" alttext="\mathbf{w}" display="inline"><semantics id="S3.SS1.p2.12.m3.1a"><mi id="S3.SS1.p2.12.m3.1.1" xref="S3.SS1.p2.12.m3.1.1.cmml">𝐰</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.12.m3.1b"><ci id="S3.SS1.p2.12.m3.1.1.cmml" xref="S3.SS1.p2.12.m3.1.1">𝐰</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.12.m3.1c">\mathbf{w}</annotation></semantics></math> is the parameters of the glmodel.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p">To reduce communication and computation costs and make it suitable for real-world scenarios, such as the devices in autonomous driving, we impose two constraints in this setting: 1) Clients cannot conduct model training and can only conduct model inference. 2) The federated training process can only involve one round of communication.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>FedDISC</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">Our method has four detailed steps: prototype extraction, pseudo labeling, feature processing, and image generation.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p"><span id="S3.SS2.p2.1.1" class="ltx_text ltx_font_bold">Prototype Extraction.</span>
Firstly, we utilize a pre-trained CLIP image encoder <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="E_{\theta}" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><msub id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml">E</mi><mi id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2">𝐸</ci><ci id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">E_{\theta}</annotation></semantics></math> to extract the features of all labeled data on the server. We assume that the server contains all possible categories that may appear on the clients, but each category on the server has a relatively single style or belongs to a limited fine-grained subclass.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.1" class="ltx_p">After obtaining the features of the labeled images on the server, we extract prototypes <math id="S3.SS2.p3.1.m1.1" class="ltx_Math" alttext="p_{j}" display="inline"><semantics id="S3.SS2.p3.1.m1.1a"><msub id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml">p</mi><mi id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2">𝑝</ci><ci id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">p_{j}</annotation></semantics></math> of all categories by calculating the average of all features with the same category:</p>
<table id="A2.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E3.m1.7" class="ltx_Math" alttext="\displaystyle p_{j}=\frac{\sum_{(\mathbf{x}_{i}^{s},y_{i})\in\mathcal{D}_{s}}E_{\theta}(\mathbf{x}_{i}^{s})*\mathbb{I}\left(y_{i}=j\right)}{\sum_{(\mathbf{x}_{i}^{s},y_{i})\in\mathcal{D}_{s}}\mathbb{I}\left(y_{i}=j\right)}" display="inline"><semantics id="S3.E3.m1.7a"><mrow id="S3.E3.m1.7.8" xref="S3.E3.m1.7.8.cmml"><msub id="S3.E3.m1.7.8.2" xref="S3.E3.m1.7.8.2.cmml"><mi id="S3.E3.m1.7.8.2.2" xref="S3.E3.m1.7.8.2.2.cmml">p</mi><mi id="S3.E3.m1.7.8.2.3" xref="S3.E3.m1.7.8.2.3.cmml">j</mi></msub><mo id="S3.E3.m1.7.8.1" xref="S3.E3.m1.7.8.1.cmml">=</mo><mstyle displaystyle="true" id="S3.E3.m1.7.7" xref="S3.E3.m1.7.7.cmml"><mfrac id="S3.E3.m1.7.7a" xref="S3.E3.m1.7.7.cmml"><mrow id="S3.E3.m1.4.4.4" xref="S3.E3.m1.4.4.4.cmml"><msub id="S3.E3.m1.4.4.4.5" xref="S3.E3.m1.4.4.4.5.cmml"><mo id="S3.E3.m1.4.4.4.5.2" xref="S3.E3.m1.4.4.4.5.2.cmml">∑</mo><mrow id="S3.E3.m1.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.cmml"><mrow id="S3.E3.m1.2.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.2.2.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.2.2.3.cmml">(</mo><msubsup id="S3.E3.m1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.cmml">s</mi></msubsup><mo id="S3.E3.m1.2.2.2.2.2.2.2.4" xref="S3.E3.m1.2.2.2.2.2.2.3.cmml">,</mo><msub id="S3.E3.m1.2.2.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.2.2.cmml"><mi id="S3.E3.m1.2.2.2.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.2.2.2.cmml">y</mi><mi id="S3.E3.m1.2.2.2.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E3.m1.2.2.2.2.2.2.2.5" xref="S3.E3.m1.2.2.2.2.2.2.3.cmml">)</mo></mrow><mo id="S3.E3.m1.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.2.3.cmml">∈</mo><msub id="S3.E3.m1.2.2.2.2.2.4" xref="S3.E3.m1.2.2.2.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.2.2.2.2.4.2" xref="S3.E3.m1.2.2.2.2.2.4.2.cmml">𝒟</mi><mi id="S3.E3.m1.2.2.2.2.2.4.3" xref="S3.E3.m1.2.2.2.2.2.4.3.cmml">s</mi></msub></mrow></msub><mrow id="S3.E3.m1.4.4.4.4" xref="S3.E3.m1.4.4.4.4.cmml"><mrow id="S3.E3.m1.3.3.3.3.1" xref="S3.E3.m1.3.3.3.3.1.cmml"><mrow id="S3.E3.m1.3.3.3.3.1.1" xref="S3.E3.m1.3.3.3.3.1.1.cmml"><msub id="S3.E3.m1.3.3.3.3.1.1.3" xref="S3.E3.m1.3.3.3.3.1.1.3.cmml"><mi id="S3.E3.m1.3.3.3.3.1.1.3.2" xref="S3.E3.m1.3.3.3.3.1.1.3.2.cmml">E</mi><mi id="S3.E3.m1.3.3.3.3.1.1.3.3" xref="S3.E3.m1.3.3.3.3.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.3.3.3.3.1.1.2" xref="S3.E3.m1.3.3.3.3.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.3.3.3.3.1.1.1.1" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.3.3.3.3.1.1.1.1.2" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E3.m1.3.3.3.3.1.1.1.1.1" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.cmml"><mi id="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.2" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.3" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E3.m1.3.3.3.3.1.1.1.1.1.3" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.3.cmml">s</mi></msubsup><mo rspace="0.055em" stretchy="false" id="S3.E3.m1.3.3.3.3.1.1.1.1.3" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.E3.m1.3.3.3.3.1.2" xref="S3.E3.m1.3.3.3.3.1.2.cmml">∗</mo><mi id="S3.E3.m1.3.3.3.3.1.3" xref="S3.E3.m1.3.3.3.3.1.3.cmml">𝕀</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E3.m1.4.4.4.4.3" xref="S3.E3.m1.4.4.4.4.3.cmml">​</mo><mrow id="S3.E3.m1.4.4.4.4.2.1" xref="S3.E3.m1.4.4.4.4.2.1.1.cmml"><mo id="S3.E3.m1.4.4.4.4.2.1.2" xref="S3.E3.m1.4.4.4.4.2.1.1.cmml">(</mo><mrow id="S3.E3.m1.4.4.4.4.2.1.1" xref="S3.E3.m1.4.4.4.4.2.1.1.cmml"><msub id="S3.E3.m1.4.4.4.4.2.1.1.2" xref="S3.E3.m1.4.4.4.4.2.1.1.2.cmml"><mi id="S3.E3.m1.4.4.4.4.2.1.1.2.2" xref="S3.E3.m1.4.4.4.4.2.1.1.2.2.cmml">y</mi><mi id="S3.E3.m1.4.4.4.4.2.1.1.2.3" xref="S3.E3.m1.4.4.4.4.2.1.1.2.3.cmml">i</mi></msub><mo id="S3.E3.m1.4.4.4.4.2.1.1.1" xref="S3.E3.m1.4.4.4.4.2.1.1.1.cmml">=</mo><mi id="S3.E3.m1.4.4.4.4.2.1.1.3" xref="S3.E3.m1.4.4.4.4.2.1.1.3.cmml">j</mi></mrow><mo id="S3.E3.m1.4.4.4.4.2.1.3" xref="S3.E3.m1.4.4.4.4.2.1.1.cmml">)</mo></mrow></mrow></mrow><mrow id="S3.E3.m1.7.7.7" xref="S3.E3.m1.7.7.7.cmml"><msub id="S3.E3.m1.7.7.7.4" xref="S3.E3.m1.7.7.7.4.cmml"><mo id="S3.E3.m1.7.7.7.4.2" xref="S3.E3.m1.7.7.7.4.2.cmml">∑</mo><mrow id="S3.E3.m1.6.6.6.2.2" xref="S3.E3.m1.6.6.6.2.2.cmml"><mrow id="S3.E3.m1.6.6.6.2.2.2.2" xref="S3.E3.m1.6.6.6.2.2.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.6.6.6.2.2.2.2.3" xref="S3.E3.m1.6.6.6.2.2.2.3.cmml">(</mo><msubsup id="S3.E3.m1.5.5.5.1.1.1.1.1" xref="S3.E3.m1.5.5.5.1.1.1.1.1.cmml"><mi id="S3.E3.m1.5.5.5.1.1.1.1.1.2.2" xref="S3.E3.m1.5.5.5.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.E3.m1.5.5.5.1.1.1.1.1.2.3" xref="S3.E3.m1.5.5.5.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E3.m1.5.5.5.1.1.1.1.1.3" xref="S3.E3.m1.5.5.5.1.1.1.1.1.3.cmml">s</mi></msubsup><mo id="S3.E3.m1.6.6.6.2.2.2.2.4" xref="S3.E3.m1.6.6.6.2.2.2.3.cmml">,</mo><msub id="S3.E3.m1.6.6.6.2.2.2.2.2" xref="S3.E3.m1.6.6.6.2.2.2.2.2.cmml"><mi id="S3.E3.m1.6.6.6.2.2.2.2.2.2" xref="S3.E3.m1.6.6.6.2.2.2.2.2.2.cmml">y</mi><mi id="S3.E3.m1.6.6.6.2.2.2.2.2.3" xref="S3.E3.m1.6.6.6.2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E3.m1.6.6.6.2.2.2.2.5" xref="S3.E3.m1.6.6.6.2.2.2.3.cmml">)</mo></mrow><mo id="S3.E3.m1.6.6.6.2.2.3" xref="S3.E3.m1.6.6.6.2.2.3.cmml">∈</mo><msub id="S3.E3.m1.6.6.6.2.2.4" xref="S3.E3.m1.6.6.6.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.6.6.6.2.2.4.2" xref="S3.E3.m1.6.6.6.2.2.4.2.cmml">𝒟</mi><mi id="S3.E3.m1.6.6.6.2.2.4.3" xref="S3.E3.m1.6.6.6.2.2.4.3.cmml">s</mi></msub></mrow></msub><mrow id="S3.E3.m1.7.7.7.3" xref="S3.E3.m1.7.7.7.3.cmml"><mi id="S3.E3.m1.7.7.7.3.3" xref="S3.E3.m1.7.7.7.3.3.cmml">𝕀</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.7.7.7.3.2" xref="S3.E3.m1.7.7.7.3.2.cmml">​</mo><mrow id="S3.E3.m1.7.7.7.3.1.1" xref="S3.E3.m1.7.7.7.3.1.1.1.cmml"><mo id="S3.E3.m1.7.7.7.3.1.1.2" xref="S3.E3.m1.7.7.7.3.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.7.7.7.3.1.1.1" xref="S3.E3.m1.7.7.7.3.1.1.1.cmml"><msub id="S3.E3.m1.7.7.7.3.1.1.1.2" xref="S3.E3.m1.7.7.7.3.1.1.1.2.cmml"><mi id="S3.E3.m1.7.7.7.3.1.1.1.2.2" xref="S3.E3.m1.7.7.7.3.1.1.1.2.2.cmml">y</mi><mi id="S3.E3.m1.7.7.7.3.1.1.1.2.3" xref="S3.E3.m1.7.7.7.3.1.1.1.2.3.cmml">i</mi></msub><mo id="S3.E3.m1.7.7.7.3.1.1.1.1" xref="S3.E3.m1.7.7.7.3.1.1.1.1.cmml">=</mo><mi id="S3.E3.m1.7.7.7.3.1.1.1.3" xref="S3.E3.m1.7.7.7.3.1.1.1.3.cmml">j</mi></mrow><mo id="S3.E3.m1.7.7.7.3.1.1.3" xref="S3.E3.m1.7.7.7.3.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.7b"><apply id="S3.E3.m1.7.8.cmml" xref="S3.E3.m1.7.8"><eq id="S3.E3.m1.7.8.1.cmml" xref="S3.E3.m1.7.8.1"></eq><apply id="S3.E3.m1.7.8.2.cmml" xref="S3.E3.m1.7.8.2"><csymbol cd="ambiguous" id="S3.E3.m1.7.8.2.1.cmml" xref="S3.E3.m1.7.8.2">subscript</csymbol><ci id="S3.E3.m1.7.8.2.2.cmml" xref="S3.E3.m1.7.8.2.2">𝑝</ci><ci id="S3.E3.m1.7.8.2.3.cmml" xref="S3.E3.m1.7.8.2.3">𝑗</ci></apply><apply id="S3.E3.m1.7.7.cmml" xref="S3.E3.m1.7.7"><divide id="S3.E3.m1.7.7.8.cmml" xref="S3.E3.m1.7.7"></divide><apply id="S3.E3.m1.4.4.4.cmml" xref="S3.E3.m1.4.4.4"><apply id="S3.E3.m1.4.4.4.5.cmml" xref="S3.E3.m1.4.4.4.5"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.4.5.1.cmml" xref="S3.E3.m1.4.4.4.5">subscript</csymbol><sum id="S3.E3.m1.4.4.4.5.2.cmml" xref="S3.E3.m1.4.4.4.5.2"></sum><apply id="S3.E3.m1.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2"><in id="S3.E3.m1.2.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2.3"></in><interval closure="open" id="S3.E3.m1.2.2.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2"><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3">𝑠</ci></apply><apply id="S3.E3.m1.2.2.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E3.m1.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2.2.2">𝑦</ci><ci id="S3.E3.m1.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2.2.3">𝑖</ci></apply></interval><apply id="S3.E3.m1.2.2.2.2.2.4.cmml" xref="S3.E3.m1.2.2.2.2.2.4"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.2.2.4.1.cmml" xref="S3.E3.m1.2.2.2.2.2.4">subscript</csymbol><ci id="S3.E3.m1.2.2.2.2.2.4.2.cmml" xref="S3.E3.m1.2.2.2.2.2.4.2">𝒟</ci><ci id="S3.E3.m1.2.2.2.2.2.4.3.cmml" xref="S3.E3.m1.2.2.2.2.2.4.3">𝑠</ci></apply></apply></apply><apply id="S3.E3.m1.4.4.4.4.cmml" xref="S3.E3.m1.4.4.4.4"><times id="S3.E3.m1.4.4.4.4.3.cmml" xref="S3.E3.m1.4.4.4.4.3"></times><apply id="S3.E3.m1.3.3.3.3.1.cmml" xref="S3.E3.m1.3.3.3.3.1"><times id="S3.E3.m1.3.3.3.3.1.2.cmml" xref="S3.E3.m1.3.3.3.3.1.2"></times><apply id="S3.E3.m1.3.3.3.3.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1"><times id="S3.E3.m1.3.3.3.3.1.1.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.2"></times><apply id="S3.E3.m1.3.3.3.3.1.1.3.cmml" xref="S3.E3.m1.3.3.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.3.1.1.3.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.3">subscript</csymbol><ci id="S3.E3.m1.3.3.3.3.1.1.3.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.3.2">𝐸</ci><ci id="S3.E3.m1.3.3.3.3.1.1.3.3.cmml" xref="S3.E3.m1.3.3.3.3.1.1.3.3">𝜃</ci></apply><apply id="S3.E3.m1.3.3.3.3.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.3.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1">superscript</csymbol><apply id="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E3.m1.3.3.3.3.1.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.1.1.3">𝑠</ci></apply></apply><ci id="S3.E3.m1.3.3.3.3.1.3.cmml" xref="S3.E3.m1.3.3.3.3.1.3">𝕀</ci></apply><apply id="S3.E3.m1.4.4.4.4.2.1.1.cmml" xref="S3.E3.m1.4.4.4.4.2.1"><eq id="S3.E3.m1.4.4.4.4.2.1.1.1.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.1"></eq><apply id="S3.E3.m1.4.4.4.4.2.1.1.2.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.4.4.2.1.1.2.1.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.2">subscript</csymbol><ci id="S3.E3.m1.4.4.4.4.2.1.1.2.2.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.2.2">𝑦</ci><ci id="S3.E3.m1.4.4.4.4.2.1.1.2.3.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.2.3">𝑖</ci></apply><ci id="S3.E3.m1.4.4.4.4.2.1.1.3.cmml" xref="S3.E3.m1.4.4.4.4.2.1.1.3">𝑗</ci></apply></apply></apply><apply id="S3.E3.m1.7.7.7.cmml" xref="S3.E3.m1.7.7.7"><apply id="S3.E3.m1.7.7.7.4.cmml" xref="S3.E3.m1.7.7.7.4"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.7.4.1.cmml" xref="S3.E3.m1.7.7.7.4">subscript</csymbol><sum id="S3.E3.m1.7.7.7.4.2.cmml" xref="S3.E3.m1.7.7.7.4.2"></sum><apply id="S3.E3.m1.6.6.6.2.2.cmml" xref="S3.E3.m1.6.6.6.2.2"><in id="S3.E3.m1.6.6.6.2.2.3.cmml" xref="S3.E3.m1.6.6.6.2.2.3"></in><interval closure="open" id="S3.E3.m1.6.6.6.2.2.2.3.cmml" xref="S3.E3.m1.6.6.6.2.2.2.2"><apply id="S3.E3.m1.5.5.5.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.5.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.5.1.1.1.1.1">superscript</csymbol><apply id="S3.E3.m1.5.5.5.1.1.1.1.1.2.cmml" xref="S3.E3.m1.5.5.5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.5.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.5.5.5.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.5.5.5.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.5.5.5.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.E3.m1.5.5.5.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.5.5.5.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E3.m1.5.5.5.1.1.1.1.1.3.cmml" xref="S3.E3.m1.5.5.5.1.1.1.1.1.3">𝑠</ci></apply><apply id="S3.E3.m1.6.6.6.2.2.2.2.2.cmml" xref="S3.E3.m1.6.6.6.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.6.2.2.2.2.2.1.cmml" xref="S3.E3.m1.6.6.6.2.2.2.2.2">subscript</csymbol><ci id="S3.E3.m1.6.6.6.2.2.2.2.2.2.cmml" xref="S3.E3.m1.6.6.6.2.2.2.2.2.2">𝑦</ci><ci id="S3.E3.m1.6.6.6.2.2.2.2.2.3.cmml" xref="S3.E3.m1.6.6.6.2.2.2.2.2.3">𝑖</ci></apply></interval><apply id="S3.E3.m1.6.6.6.2.2.4.cmml" xref="S3.E3.m1.6.6.6.2.2.4"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.6.2.2.4.1.cmml" xref="S3.E3.m1.6.6.6.2.2.4">subscript</csymbol><ci id="S3.E3.m1.6.6.6.2.2.4.2.cmml" xref="S3.E3.m1.6.6.6.2.2.4.2">𝒟</ci><ci id="S3.E3.m1.6.6.6.2.2.4.3.cmml" xref="S3.E3.m1.6.6.6.2.2.4.3">𝑠</ci></apply></apply></apply><apply id="S3.E3.m1.7.7.7.3.cmml" xref="S3.E3.m1.7.7.7.3"><times id="S3.E3.m1.7.7.7.3.2.cmml" xref="S3.E3.m1.7.7.7.3.2"></times><ci id="S3.E3.m1.7.7.7.3.3.cmml" xref="S3.E3.m1.7.7.7.3.3">𝕀</ci><apply id="S3.E3.m1.7.7.7.3.1.1.1.cmml" xref="S3.E3.m1.7.7.7.3.1.1"><eq id="S3.E3.m1.7.7.7.3.1.1.1.1.cmml" xref="S3.E3.m1.7.7.7.3.1.1.1.1"></eq><apply id="S3.E3.m1.7.7.7.3.1.1.1.2.cmml" xref="S3.E3.m1.7.7.7.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.7.3.1.1.1.2.1.cmml" xref="S3.E3.m1.7.7.7.3.1.1.1.2">subscript</csymbol><ci id="S3.E3.m1.7.7.7.3.1.1.1.2.2.cmml" xref="S3.E3.m1.7.7.7.3.1.1.1.2.2">𝑦</ci><ci id="S3.E3.m1.7.7.7.3.1.1.1.2.3.cmml" xref="S3.E3.m1.7.7.7.3.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E3.m1.7.7.7.3.1.1.1.3.cmml" xref="S3.E3.m1.7.7.7.3.1.1.1.3">𝑗</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.7c">\displaystyle p_{j}=\frac{\sum_{(\mathbf{x}_{i}^{s},y_{i})\in\mathcal{D}_{s}}E_{\theta}(\mathbf{x}_{i}^{s})*\mathbb{I}\left(y_{i}=j\right)}{\sum_{(\mathbf{x}_{i}^{s},y_{i})\in\mathcal{D}_{s}}\mathbb{I}\left(y_{i}=j\right)}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p3.4" class="ltx_p">,where <math id="S3.SS2.p3.2.m1.1" class="ltx_Math" alttext="\mathbb{I}" display="inline"><semantics id="S3.SS2.p3.2.m1.1a"><mi id="S3.SS2.p3.2.m1.1.1" xref="S3.SS2.p3.2.m1.1.1.cmml">𝕀</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m1.1b"><ci id="S3.SS2.p3.2.m1.1.1.cmml" xref="S3.SS2.p3.2.m1.1.1">𝕀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m1.1c">\mathbb{I}</annotation></semantics></math> is the indicator function. Finally, we send the extracted category prototypes <math id="S3.SS2.p3.3.m2.1" class="ltx_Math" alttext="p_{j}" display="inline"><semantics id="S3.SS2.p3.3.m2.1a"><msub id="S3.SS2.p3.3.m2.1.1" xref="S3.SS2.p3.3.m2.1.1.cmml"><mi id="S3.SS2.p3.3.m2.1.1.2" xref="S3.SS2.p3.3.m2.1.1.2.cmml">p</mi><mi id="S3.SS2.p3.3.m2.1.1.3" xref="S3.SS2.p3.3.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m2.1b"><apply id="S3.SS2.p3.3.m2.1.1.cmml" xref="S3.SS2.p3.3.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m2.1.1.1.cmml" xref="S3.SS2.p3.3.m2.1.1">subscript</csymbol><ci id="S3.SS2.p3.3.m2.1.1.2.cmml" xref="S3.SS2.p3.3.m2.1.1.2">𝑝</ci><ci id="S3.SS2.p3.3.m2.1.1.3.cmml" xref="S3.SS2.p3.3.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m2.1c">p_{j}</annotation></semantics></math> and the pre-trained CLIP image encoder <math id="S3.SS2.p3.4.m3.1" class="ltx_Math" alttext="E_{\theta}" display="inline"><semantics id="S3.SS2.p3.4.m3.1a"><msub id="S3.SS2.p3.4.m3.1.1" xref="S3.SS2.p3.4.m3.1.1.cmml"><mi id="S3.SS2.p3.4.m3.1.1.2" xref="S3.SS2.p3.4.m3.1.1.2.cmml">E</mi><mi id="S3.SS2.p3.4.m3.1.1.3" xref="S3.SS2.p3.4.m3.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m3.1b"><apply id="S3.SS2.p3.4.m3.1.1.cmml" xref="S3.SS2.p3.4.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m3.1.1.1.cmml" xref="S3.SS2.p3.4.m3.1.1">subscript</csymbol><ci id="S3.SS2.p3.4.m3.1.1.2.cmml" xref="S3.SS2.p3.4.m3.1.1.2">𝐸</ci><ci id="S3.SS2.p3.4.m3.1.1.3.cmml" xref="S3.SS2.p3.4.m3.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m3.1c">E_{\theta}</annotation></semantics></math> to all the clients.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.7" class="ltx_p"><span id="S3.SS2.p4.7.1" class="ltx_text ltx_font_bold">Pseudo Labeling.</span>
For client <math id="S3.SS2.p4.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p4.1.m1.1a"><mi id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><ci id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">k</annotation></semantics></math>, after receiving the encoder <math id="S3.SS2.p4.2.m2.1" class="ltx_Math" alttext="E_{\theta}" display="inline"><semantics id="S3.SS2.p4.2.m2.1a"><msub id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml">E</mi><mi id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2">𝐸</ci><ci id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">E_{\theta}</annotation></semantics></math> and the prototypes <math id="S3.SS2.p4.3.m3.1" class="ltx_Math" alttext="p_{j}" display="inline"><semantics id="S3.SS2.p4.3.m3.1a"><msub id="S3.SS2.p4.3.m3.1.1" xref="S3.SS2.p4.3.m3.1.1.cmml"><mi id="S3.SS2.p4.3.m3.1.1.2" xref="S3.SS2.p4.3.m3.1.1.2.cmml">p</mi><mi id="S3.SS2.p4.3.m3.1.1.3" xref="S3.SS2.p4.3.m3.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m3.1b"><apply id="S3.SS2.p4.3.m3.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.1.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p4.3.m3.1.1.2.cmml" xref="S3.SS2.p4.3.m3.1.1.2">𝑝</ci><ci id="S3.SS2.p4.3.m3.1.1.3.cmml" xref="S3.SS2.p4.3.m3.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m3.1c">p_{j}</annotation></semantics></math> from the server, the client uses <math id="S3.SS2.p4.4.m4.1" class="ltx_Math" alttext="E_{\theta}" display="inline"><semantics id="S3.SS2.p4.4.m4.1a"><msub id="S3.SS2.p4.4.m4.1.1" xref="S3.SS2.p4.4.m4.1.1.cmml"><mi id="S3.SS2.p4.4.m4.1.1.2" xref="S3.SS2.p4.4.m4.1.1.2.cmml">E</mi><mi id="S3.SS2.p4.4.m4.1.1.3" xref="S3.SS2.p4.4.m4.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m4.1b"><apply id="S3.SS2.p4.4.m4.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.4.m4.1.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p4.4.m4.1.1.2.cmml" xref="S3.SS2.p4.4.m4.1.1.2">𝐸</ci><ci id="S3.SS2.p4.4.m4.1.1.3.cmml" xref="S3.SS2.p4.4.m4.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m4.1c">E_{\theta}</annotation></semantics></math> to extract features of all unlabeled images in <math id="S3.SS2.p4.5.m5.1" class="ltx_Math" alttext="\mathcal{D}_{k}" display="inline"><semantics id="S3.SS2.p4.5.m5.1a"><msub id="S3.SS2.p4.5.m5.1.1" xref="S3.SS2.p4.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p4.5.m5.1.1.2" xref="S3.SS2.p4.5.m5.1.1.2.cmml">𝒟</mi><mi id="S3.SS2.p4.5.m5.1.1.3" xref="S3.SS2.p4.5.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.5.m5.1b"><apply id="S3.SS2.p4.5.m5.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.5.m5.1.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p4.5.m5.1.1.2.cmml" xref="S3.SS2.p4.5.m5.1.1.2">𝒟</ci><ci id="S3.SS2.p4.5.m5.1.1.3.cmml" xref="S3.SS2.p4.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.5.m5.1c">\mathcal{D}_{k}</annotation></semantics></math> and calculates the similarities between each feature <math id="S3.SS2.p4.6.m6.1" class="ltx_Math" alttext="E_{\theta}(\mathbf{x}_{i}^{k})" display="inline"><semantics id="S3.SS2.p4.6.m6.1a"><mrow id="S3.SS2.p4.6.m6.1.1" xref="S3.SS2.p4.6.m6.1.1.cmml"><msub id="S3.SS2.p4.6.m6.1.1.3" xref="S3.SS2.p4.6.m6.1.1.3.cmml"><mi id="S3.SS2.p4.6.m6.1.1.3.2" xref="S3.SS2.p4.6.m6.1.1.3.2.cmml">E</mi><mi id="S3.SS2.p4.6.m6.1.1.3.3" xref="S3.SS2.p4.6.m6.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p4.6.m6.1.1.2" xref="S3.SS2.p4.6.m6.1.1.2.cmml">​</mo><mrow id="S3.SS2.p4.6.m6.1.1.1.1" xref="S3.SS2.p4.6.m6.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p4.6.m6.1.1.1.1.2" xref="S3.SS2.p4.6.m6.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS2.p4.6.m6.1.1.1.1.1" xref="S3.SS2.p4.6.m6.1.1.1.1.1.cmml"><mi id="S3.SS2.p4.6.m6.1.1.1.1.1.2.2" xref="S3.SS2.p4.6.m6.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS2.p4.6.m6.1.1.1.1.1.2.3" xref="S3.SS2.p4.6.m6.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS2.p4.6.m6.1.1.1.1.1.3" xref="S3.SS2.p4.6.m6.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.SS2.p4.6.m6.1.1.1.1.3" xref="S3.SS2.p4.6.m6.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.6.m6.1b"><apply id="S3.SS2.p4.6.m6.1.1.cmml" xref="S3.SS2.p4.6.m6.1.1"><times id="S3.SS2.p4.6.m6.1.1.2.cmml" xref="S3.SS2.p4.6.m6.1.1.2"></times><apply id="S3.SS2.p4.6.m6.1.1.3.cmml" xref="S3.SS2.p4.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.6.m6.1.1.3.1.cmml" xref="S3.SS2.p4.6.m6.1.1.3">subscript</csymbol><ci id="S3.SS2.p4.6.m6.1.1.3.2.cmml" xref="S3.SS2.p4.6.m6.1.1.3.2">𝐸</ci><ci id="S3.SS2.p4.6.m6.1.1.3.3.cmml" xref="S3.SS2.p4.6.m6.1.1.3.3">𝜃</ci></apply><apply id="S3.SS2.p4.6.m6.1.1.1.1.1.cmml" xref="S3.SS2.p4.6.m6.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.6.m6.1.1.1.1.1.1.cmml" xref="S3.SS2.p4.6.m6.1.1.1.1">superscript</csymbol><apply id="S3.SS2.p4.6.m6.1.1.1.1.1.2.cmml" xref="S3.SS2.p4.6.m6.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.6.m6.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p4.6.m6.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p4.6.m6.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p4.6.m6.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.SS2.p4.6.m6.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p4.6.m6.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p4.6.m6.1.1.1.1.1.3.cmml" xref="S3.SS2.p4.6.m6.1.1.1.1.1.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.6.m6.1c">E_{\theta}(\mathbf{x}_{i}^{k})</annotation></semantics></math> and all category prototypes <math id="S3.SS2.p4.7.m7.5" class="ltx_Math" alttext="p_{j},j\in\left\{1,\dots,M\right\}" display="inline"><semantics id="S3.SS2.p4.7.m7.5a"><mrow id="S3.SS2.p4.7.m7.5.5" xref="S3.SS2.p4.7.m7.5.5.cmml"><mrow id="S3.SS2.p4.7.m7.5.5.1.1" xref="S3.SS2.p4.7.m7.5.5.1.2.cmml"><msub id="S3.SS2.p4.7.m7.5.5.1.1.1" xref="S3.SS2.p4.7.m7.5.5.1.1.1.cmml"><mi id="S3.SS2.p4.7.m7.5.5.1.1.1.2" xref="S3.SS2.p4.7.m7.5.5.1.1.1.2.cmml">p</mi><mi id="S3.SS2.p4.7.m7.5.5.1.1.1.3" xref="S3.SS2.p4.7.m7.5.5.1.1.1.3.cmml">j</mi></msub><mo id="S3.SS2.p4.7.m7.5.5.1.1.2" xref="S3.SS2.p4.7.m7.5.5.1.2.cmml">,</mo><mi id="S3.SS2.p4.7.m7.4.4" xref="S3.SS2.p4.7.m7.4.4.cmml">j</mi></mrow><mo id="S3.SS2.p4.7.m7.5.5.2" xref="S3.SS2.p4.7.m7.5.5.2.cmml">∈</mo><mrow id="S3.SS2.p4.7.m7.5.5.3.2" xref="S3.SS2.p4.7.m7.5.5.3.1.cmml"><mo id="S3.SS2.p4.7.m7.5.5.3.2.1" xref="S3.SS2.p4.7.m7.5.5.3.1.cmml">{</mo><mn id="S3.SS2.p4.7.m7.1.1" xref="S3.SS2.p4.7.m7.1.1.cmml">1</mn><mo id="S3.SS2.p4.7.m7.5.5.3.2.2" xref="S3.SS2.p4.7.m7.5.5.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS2.p4.7.m7.2.2" xref="S3.SS2.p4.7.m7.2.2.cmml">…</mi><mo id="S3.SS2.p4.7.m7.5.5.3.2.3" xref="S3.SS2.p4.7.m7.5.5.3.1.cmml">,</mo><mi id="S3.SS2.p4.7.m7.3.3" xref="S3.SS2.p4.7.m7.3.3.cmml">M</mi><mo id="S3.SS2.p4.7.m7.5.5.3.2.4" xref="S3.SS2.p4.7.m7.5.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.7.m7.5b"><apply id="S3.SS2.p4.7.m7.5.5.cmml" xref="S3.SS2.p4.7.m7.5.5"><in id="S3.SS2.p4.7.m7.5.5.2.cmml" xref="S3.SS2.p4.7.m7.5.5.2"></in><list id="S3.SS2.p4.7.m7.5.5.1.2.cmml" xref="S3.SS2.p4.7.m7.5.5.1.1"><apply id="S3.SS2.p4.7.m7.5.5.1.1.1.cmml" xref="S3.SS2.p4.7.m7.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.7.m7.5.5.1.1.1.1.cmml" xref="S3.SS2.p4.7.m7.5.5.1.1.1">subscript</csymbol><ci id="S3.SS2.p4.7.m7.5.5.1.1.1.2.cmml" xref="S3.SS2.p4.7.m7.5.5.1.1.1.2">𝑝</ci><ci id="S3.SS2.p4.7.m7.5.5.1.1.1.3.cmml" xref="S3.SS2.p4.7.m7.5.5.1.1.1.3">𝑗</ci></apply><ci id="S3.SS2.p4.7.m7.4.4.cmml" xref="S3.SS2.p4.7.m7.4.4">𝑗</ci></list><set id="S3.SS2.p4.7.m7.5.5.3.1.cmml" xref="S3.SS2.p4.7.m7.5.5.3.2"><cn type="integer" id="S3.SS2.p4.7.m7.1.1.cmml" xref="S3.SS2.p4.7.m7.1.1">1</cn><ci id="S3.SS2.p4.7.m7.2.2.cmml" xref="S3.SS2.p4.7.m7.2.2">…</ci><ci id="S3.SS2.p4.7.m7.3.3.cmml" xref="S3.SS2.p4.7.m7.3.3">𝑀</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.7.m7.5c">p_{j},j\in\left\{1,\dots,M\right\}</annotation></semantics></math>.</p>
<table id="A2.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E4.m1.5" class="ltx_Math" alttext="\displaystyle sim(E_{\theta}(\mathbf{x}_{i}^{k}),p_{j})=\frac{E_{\theta}(\mathbf{x}_{i}^{k})^{\top}p_{j}}{\left\|E_{\theta}(\mathbf{x}_{i}^{k})\right\|\left\|p_{j}\right\|},\mathbf{x}_{i}^{k}\in\mathcal{D}_{k}" display="inline"><semantics id="S3.E4.m1.5a"><mrow id="S3.E4.m1.5.5.2" xref="S3.E4.m1.5.5.3.cmml"><mrow id="S3.E4.m1.4.4.1.1" xref="S3.E4.m1.4.4.1.1.cmml"><mrow id="S3.E4.m1.4.4.1.1.2" xref="S3.E4.m1.4.4.1.1.2.cmml"><mi id="S3.E4.m1.4.4.1.1.2.4" xref="S3.E4.m1.4.4.1.1.2.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.4.4.1.1.2.3" xref="S3.E4.m1.4.4.1.1.2.3.cmml">​</mo><mi id="S3.E4.m1.4.4.1.1.2.5" xref="S3.E4.m1.4.4.1.1.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.4.4.1.1.2.3a" xref="S3.E4.m1.4.4.1.1.2.3.cmml">​</mo><mi id="S3.E4.m1.4.4.1.1.2.6" xref="S3.E4.m1.4.4.1.1.2.6.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.4.4.1.1.2.3b" xref="S3.E4.m1.4.4.1.1.2.3.cmml">​</mo><mrow id="S3.E4.m1.4.4.1.1.2.2.2" xref="S3.E4.m1.4.4.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E4.m1.4.4.1.1.2.2.2.3" xref="S3.E4.m1.4.4.1.1.2.2.3.cmml">(</mo><mrow id="S3.E4.m1.4.4.1.1.1.1.1.1" xref="S3.E4.m1.4.4.1.1.1.1.1.1.cmml"><msub id="S3.E4.m1.4.4.1.1.1.1.1.1.3" xref="S3.E4.m1.4.4.1.1.1.1.1.1.3.cmml"><mi id="S3.E4.m1.4.4.1.1.1.1.1.1.3.2" xref="S3.E4.m1.4.4.1.1.1.1.1.1.3.2.cmml">E</mi><mi id="S3.E4.m1.4.4.1.1.1.1.1.1.3.3" xref="S3.E4.m1.4.4.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.4.4.1.1.1.1.1.1.2" xref="S3.E4.m1.4.4.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.4.4.1.1.2.2.2.4" xref="S3.E4.m1.4.4.1.1.2.2.3.cmml">,</mo><msub id="S3.E4.m1.4.4.1.1.2.2.2.2" xref="S3.E4.m1.4.4.1.1.2.2.2.2.cmml"><mi id="S3.E4.m1.4.4.1.1.2.2.2.2.2" xref="S3.E4.m1.4.4.1.1.2.2.2.2.2.cmml">p</mi><mi id="S3.E4.m1.4.4.1.1.2.2.2.2.3" xref="S3.E4.m1.4.4.1.1.2.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="S3.E4.m1.4.4.1.1.2.2.2.5" xref="S3.E4.m1.4.4.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.4.4.1.1.3" xref="S3.E4.m1.4.4.1.1.3.cmml">=</mo><mstyle displaystyle="true" id="S3.E4.m1.3.3" xref="S3.E4.m1.3.3.cmml"><mfrac id="S3.E4.m1.3.3a" xref="S3.E4.m1.3.3.cmml"><mrow id="S3.E4.m1.1.1.1" xref="S3.E4.m1.1.1.1.cmml"><msub id="S3.E4.m1.1.1.1.3" xref="S3.E4.m1.1.1.1.3.cmml"><mi id="S3.E4.m1.1.1.1.3.2" xref="S3.E4.m1.1.1.1.3.2.cmml">E</mi><mi id="S3.E4.m1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.2" xref="S3.E4.m1.1.1.1.2.cmml">​</mo><msup id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E4.m1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.E4.m1.1.1.1.1.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E4.m1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E4.m1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.3.cmml">⊤</mo></msup><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.2a" xref="S3.E4.m1.1.1.1.2.cmml">​</mo><msub id="S3.E4.m1.1.1.1.4" xref="S3.E4.m1.1.1.1.4.cmml"><mi id="S3.E4.m1.1.1.1.4.2" xref="S3.E4.m1.1.1.1.4.2.cmml">p</mi><mi id="S3.E4.m1.1.1.1.4.3" xref="S3.E4.m1.1.1.1.4.3.cmml">j</mi></msub></mrow><mrow id="S3.E4.m1.3.3.3" xref="S3.E4.m1.3.3.3.cmml"><mrow id="S3.E4.m1.2.2.2.1.1" xref="S3.E4.m1.2.2.2.1.2.cmml"><mo id="S3.E4.m1.2.2.2.1.1.2" xref="S3.E4.m1.2.2.2.1.2.1.cmml">‖</mo><mrow id="S3.E4.m1.2.2.2.1.1.1" xref="S3.E4.m1.2.2.2.1.1.1.cmml"><msub id="S3.E4.m1.2.2.2.1.1.1.3" xref="S3.E4.m1.2.2.2.1.1.1.3.cmml"><mi id="S3.E4.m1.2.2.2.1.1.1.3.2" xref="S3.E4.m1.2.2.2.1.1.1.3.2.cmml">E</mi><mi id="S3.E4.m1.2.2.2.1.1.1.3.3" xref="S3.E4.m1.2.2.2.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.2.2.2.1.1.1.2" xref="S3.E4.m1.2.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m1.2.2.2.1.1.1.1.1" xref="S3.E4.m1.2.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.2.1.1.1.1.1.2" xref="S3.E4.m1.2.2.2.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E4.m1.2.2.2.1.1.1.1.1.1" xref="S3.E4.m1.2.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.2.2.2.1.1.1.1.1.1.2.2" xref="S3.E4.m1.2.2.2.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.E4.m1.2.2.2.1.1.1.1.1.1.2.3" xref="S3.E4.m1.2.2.2.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E4.m1.2.2.2.1.1.1.1.1.1.3" xref="S3.E4.m1.2.2.2.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.E4.m1.2.2.2.1.1.1.1.1.3" xref="S3.E4.m1.2.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.2.2.2.1.1.3" xref="S3.E4.m1.2.2.2.1.2.1.cmml">‖</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E4.m1.3.3.3.3" xref="S3.E4.m1.3.3.3.3.cmml">​</mo><mrow id="S3.E4.m1.3.3.3.2.1" xref="S3.E4.m1.3.3.3.2.2.cmml"><mo id="S3.E4.m1.3.3.3.2.1.2" xref="S3.E4.m1.3.3.3.2.2.1.cmml">‖</mo><msub id="S3.E4.m1.3.3.3.2.1.1" xref="S3.E4.m1.3.3.3.2.1.1.cmml"><mi id="S3.E4.m1.3.3.3.2.1.1.2" xref="S3.E4.m1.3.3.3.2.1.1.2.cmml">p</mi><mi id="S3.E4.m1.3.3.3.2.1.1.3" xref="S3.E4.m1.3.3.3.2.1.1.3.cmml">j</mi></msub><mo id="S3.E4.m1.3.3.3.2.1.3" xref="S3.E4.m1.3.3.3.2.2.1.cmml">‖</mo></mrow></mrow></mfrac></mstyle></mrow><mo id="S3.E4.m1.5.5.2.3" xref="S3.E4.m1.5.5.3a.cmml">,</mo><mrow id="S3.E4.m1.5.5.2.2" xref="S3.E4.m1.5.5.2.2.cmml"><msubsup id="S3.E4.m1.5.5.2.2.2" xref="S3.E4.m1.5.5.2.2.2.cmml"><mi id="S3.E4.m1.5.5.2.2.2.2.2" xref="S3.E4.m1.5.5.2.2.2.2.2.cmml">𝐱</mi><mi id="S3.E4.m1.5.5.2.2.2.2.3" xref="S3.E4.m1.5.5.2.2.2.2.3.cmml">i</mi><mi id="S3.E4.m1.5.5.2.2.2.3" xref="S3.E4.m1.5.5.2.2.2.3.cmml">k</mi></msubsup><mo id="S3.E4.m1.5.5.2.2.1" xref="S3.E4.m1.5.5.2.2.1.cmml">∈</mo><msub id="S3.E4.m1.5.5.2.2.3" xref="S3.E4.m1.5.5.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.5.5.2.2.3.2" xref="S3.E4.m1.5.5.2.2.3.2.cmml">𝒟</mi><mi id="S3.E4.m1.5.5.2.2.3.3" xref="S3.E4.m1.5.5.2.2.3.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.5b"><apply id="S3.E4.m1.5.5.3.cmml" xref="S3.E4.m1.5.5.2"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.3a.cmml" xref="S3.E4.m1.5.5.2.3">formulae-sequence</csymbol><apply id="S3.E4.m1.4.4.1.1.cmml" xref="S3.E4.m1.4.4.1.1"><eq id="S3.E4.m1.4.4.1.1.3.cmml" xref="S3.E4.m1.4.4.1.1.3"></eq><apply id="S3.E4.m1.4.4.1.1.2.cmml" xref="S3.E4.m1.4.4.1.1.2"><times id="S3.E4.m1.4.4.1.1.2.3.cmml" xref="S3.E4.m1.4.4.1.1.2.3"></times><ci id="S3.E4.m1.4.4.1.1.2.4.cmml" xref="S3.E4.m1.4.4.1.1.2.4">𝑠</ci><ci id="S3.E4.m1.4.4.1.1.2.5.cmml" xref="S3.E4.m1.4.4.1.1.2.5">𝑖</ci><ci id="S3.E4.m1.4.4.1.1.2.6.cmml" xref="S3.E4.m1.4.4.1.1.2.6">𝑚</ci><interval closure="open" id="S3.E4.m1.4.4.1.1.2.2.3.cmml" xref="S3.E4.m1.4.4.1.1.2.2.2"><apply id="S3.E4.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1"><times id="S3.E4.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.2"></times><apply id="S3.E4.m1.4.4.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.4.4.1.1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.3.2">𝐸</ci><ci id="S3.E4.m1.4.4.1.1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply></apply><apply id="S3.E4.m1.4.4.1.1.2.2.2.2.cmml" xref="S3.E4.m1.4.4.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.2.2.2.2.1.cmml" xref="S3.E4.m1.4.4.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E4.m1.4.4.1.1.2.2.2.2.2.cmml" xref="S3.E4.m1.4.4.1.1.2.2.2.2.2">𝑝</ci><ci id="S3.E4.m1.4.4.1.1.2.2.2.2.3.cmml" xref="S3.E4.m1.4.4.1.1.2.2.2.2.3">𝑗</ci></apply></interval></apply><apply id="S3.E4.m1.3.3.cmml" xref="S3.E4.m1.3.3"><divide id="S3.E4.m1.3.3.4.cmml" xref="S3.E4.m1.3.3"></divide><apply id="S3.E4.m1.1.1.1.cmml" xref="S3.E4.m1.1.1.1"><times id="S3.E4.m1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.2"></times><apply id="S3.E4.m1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.3.2">𝐸</ci><ci id="S3.E4.m1.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1">superscript</csymbol><apply id="S3.E4.m1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E4.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.E4.m1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E4.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.3">𝑘</ci></apply><csymbol cd="latexml" id="S3.E4.m1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.3">top</csymbol></apply><apply id="S3.E4.m1.1.1.1.4.cmml" xref="S3.E4.m1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.4.1.cmml" xref="S3.E4.m1.1.1.1.4">subscript</csymbol><ci id="S3.E4.m1.1.1.1.4.2.cmml" xref="S3.E4.m1.1.1.1.4.2">𝑝</ci><ci id="S3.E4.m1.1.1.1.4.3.cmml" xref="S3.E4.m1.1.1.1.4.3">𝑗</ci></apply></apply><apply id="S3.E4.m1.3.3.3.cmml" xref="S3.E4.m1.3.3.3"><times id="S3.E4.m1.3.3.3.3.cmml" xref="S3.E4.m1.3.3.3.3"></times><apply id="S3.E4.m1.2.2.2.1.2.cmml" xref="S3.E4.m1.2.2.2.1.1"><csymbol cd="latexml" id="S3.E4.m1.2.2.2.1.2.1.cmml" xref="S3.E4.m1.2.2.2.1.1.2">norm</csymbol><apply id="S3.E4.m1.2.2.2.1.1.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1"><times id="S3.E4.m1.2.2.2.1.1.1.2.cmml" xref="S3.E4.m1.2.2.2.1.1.1.2"></times><apply id="S3.E4.m1.2.2.2.1.1.1.3.cmml" xref="S3.E4.m1.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.1.1.1.3.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.2.2.2.1.1.1.3.2.cmml" xref="S3.E4.m1.2.2.2.1.1.1.3.2">𝐸</ci><ci id="S3.E4.m1.2.2.2.1.1.1.3.3.cmml" xref="S3.E4.m1.2.2.2.1.1.1.3.3">𝜃</ci></apply><apply id="S3.E4.m1.2.2.2.1.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.1">superscript</csymbol><apply id="S3.E4.m1.2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.2.2.2.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.E4.m1.2.2.2.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E4.m1.2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.2.1.1.1.1.1.1.3">𝑘</ci></apply></apply></apply><apply id="S3.E4.m1.3.3.3.2.2.cmml" xref="S3.E4.m1.3.3.3.2.1"><csymbol cd="latexml" id="S3.E4.m1.3.3.3.2.2.1.cmml" xref="S3.E4.m1.3.3.3.2.1.2">norm</csymbol><apply id="S3.E4.m1.3.3.3.2.1.1.cmml" xref="S3.E4.m1.3.3.3.2.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.2.1.1.1.cmml" xref="S3.E4.m1.3.3.3.2.1.1">subscript</csymbol><ci id="S3.E4.m1.3.3.3.2.1.1.2.cmml" xref="S3.E4.m1.3.3.3.2.1.1.2">𝑝</ci><ci id="S3.E4.m1.3.3.3.2.1.1.3.cmml" xref="S3.E4.m1.3.3.3.2.1.1.3">𝑗</ci></apply></apply></apply></apply></apply><apply id="S3.E4.m1.5.5.2.2.cmml" xref="S3.E4.m1.5.5.2.2"><in id="S3.E4.m1.5.5.2.2.1.cmml" xref="S3.E4.m1.5.5.2.2.1"></in><apply id="S3.E4.m1.5.5.2.2.2.cmml" xref="S3.E4.m1.5.5.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.2.2.2.1.cmml" xref="S3.E4.m1.5.5.2.2.2">superscript</csymbol><apply id="S3.E4.m1.5.5.2.2.2.2.cmml" xref="S3.E4.m1.5.5.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.2.2.2.2.1.cmml" xref="S3.E4.m1.5.5.2.2.2">subscript</csymbol><ci id="S3.E4.m1.5.5.2.2.2.2.2.cmml" xref="S3.E4.m1.5.5.2.2.2.2.2">𝐱</ci><ci id="S3.E4.m1.5.5.2.2.2.2.3.cmml" xref="S3.E4.m1.5.5.2.2.2.2.3">𝑖</ci></apply><ci id="S3.E4.m1.5.5.2.2.2.3.cmml" xref="S3.E4.m1.5.5.2.2.2.3">𝑘</ci></apply><apply id="S3.E4.m1.5.5.2.2.3.cmml" xref="S3.E4.m1.5.5.2.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.2.2.3.1.cmml" xref="S3.E4.m1.5.5.2.2.3">subscript</csymbol><ci id="S3.E4.m1.5.5.2.2.3.2.cmml" xref="S3.E4.m1.5.5.2.2.3.2">𝒟</ci><ci id="S3.E4.m1.5.5.2.2.3.3.cmml" xref="S3.E4.m1.5.5.2.2.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.5c">\displaystyle sim(E_{\theta}(\mathbf{x}_{i}^{k}),p_{j})=\frac{E_{\theta}(\mathbf{x}_{i}^{k})^{\top}p_{j}}{\left\|E_{\theta}(\mathbf{x}_{i}^{k})\right\|\left\|p_{j}\right\|},\mathbf{x}_{i}^{k}\in\mathcal{D}_{k}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p5" class="ltx_para">
<p id="S3.SS2.p5.5" class="ltx_p">Based on the similarities, each image <math id="S3.SS2.p5.1.m1.1" class="ltx_Math" alttext="\mathbf{x}_{i}^{k}" display="inline"><semantics id="S3.SS2.p5.1.m1.1a"><msubsup id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml"><mi id="S3.SS2.p5.1.m1.1.1.2.2" xref="S3.SS2.p5.1.m1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS2.p5.1.m1.1.1.2.3" xref="S3.SS2.p5.1.m1.1.1.2.3.cmml">i</mi><mi id="S3.SS2.p5.1.m1.1.1.3" xref="S3.SS2.p5.1.m1.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><apply id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1">superscript</csymbol><apply id="S3.SS2.p5.1.m1.1.1.2.cmml" xref="S3.SS2.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.2.1.cmml" xref="S3.SS2.p5.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.2.2.cmml" xref="S3.SS2.p5.1.m1.1.1.2.2">𝐱</ci><ci id="S3.SS2.p5.1.m1.1.1.2.3.cmml" xref="S3.SS2.p5.1.m1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p5.1.m1.1.1.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">\mathbf{x}_{i}^{k}</annotation></semantics></math> is assigned with a pseudo-label <math id="S3.SS2.p5.2.m2.1" class="ltx_Math" alttext="\hat{y}_{i}^{k}" display="inline"><semantics id="S3.SS2.p5.2.m2.1a"><msubsup id="S3.SS2.p5.2.m2.1.1" xref="S3.SS2.p5.2.m2.1.1.cmml"><mover accent="true" id="S3.SS2.p5.2.m2.1.1.2.2" xref="S3.SS2.p5.2.m2.1.1.2.2.cmml"><mi id="S3.SS2.p5.2.m2.1.1.2.2.2" xref="S3.SS2.p5.2.m2.1.1.2.2.2.cmml">y</mi><mo id="S3.SS2.p5.2.m2.1.1.2.2.1" xref="S3.SS2.p5.2.m2.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.SS2.p5.2.m2.1.1.2.3" xref="S3.SS2.p5.2.m2.1.1.2.3.cmml">i</mi><mi id="S3.SS2.p5.2.m2.1.1.3" xref="S3.SS2.p5.2.m2.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.1b"><apply id="S3.SS2.p5.2.m2.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1">superscript</csymbol><apply id="S3.SS2.p5.2.m2.1.1.2.cmml" xref="S3.SS2.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.2.1.cmml" xref="S3.SS2.p5.2.m2.1.1">subscript</csymbol><apply id="S3.SS2.p5.2.m2.1.1.2.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2.2"><ci id="S3.SS2.p5.2.m2.1.1.2.2.1.cmml" xref="S3.SS2.p5.2.m2.1.1.2.2.1">^</ci><ci id="S3.SS2.p5.2.m2.1.1.2.2.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2.2.2">𝑦</ci></apply><ci id="S3.SS2.p5.2.m2.1.1.2.3.cmml" xref="S3.SS2.p5.2.m2.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p5.2.m2.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.1c">\hat{y}_{i}^{k}</annotation></semantics></math>, where <math id="S3.SS2.p5.3.m3.2" class="ltx_Math" alttext="\hat{y}_{i}^{k}=\mathop{\arg\max}_{j}sim(E_{\theta}(\mathbf{x}_{i}^{k}),p_{j})" display="inline"><semantics id="S3.SS2.p5.3.m3.2a"><mrow id="S3.SS2.p5.3.m3.2.2" xref="S3.SS2.p5.3.m3.2.2.cmml"><msubsup id="S3.SS2.p5.3.m3.2.2.4" xref="S3.SS2.p5.3.m3.2.2.4.cmml"><mover accent="true" id="S3.SS2.p5.3.m3.2.2.4.2.2" xref="S3.SS2.p5.3.m3.2.2.4.2.2.cmml"><mi id="S3.SS2.p5.3.m3.2.2.4.2.2.2" xref="S3.SS2.p5.3.m3.2.2.4.2.2.2.cmml">y</mi><mo id="S3.SS2.p5.3.m3.2.2.4.2.2.1" xref="S3.SS2.p5.3.m3.2.2.4.2.2.1.cmml">^</mo></mover><mi id="S3.SS2.p5.3.m3.2.2.4.2.3" xref="S3.SS2.p5.3.m3.2.2.4.2.3.cmml">i</mi><mi id="S3.SS2.p5.3.m3.2.2.4.3" xref="S3.SS2.p5.3.m3.2.2.4.3.cmml">k</mi></msubsup><mo id="S3.SS2.p5.3.m3.2.2.3" xref="S3.SS2.p5.3.m3.2.2.3.cmml">=</mo><mrow id="S3.SS2.p5.3.m3.2.2.2" xref="S3.SS2.p5.3.m3.2.2.2.cmml"><msub id="S3.SS2.p5.3.m3.2.2.2.3" xref="S3.SS2.p5.3.m3.2.2.2.3.cmml"><mrow id="S3.SS2.p5.3.m3.2.2.2.3.2" xref="S3.SS2.p5.3.m3.2.2.2.3.2.cmml"><mi id="S3.SS2.p5.3.m3.2.2.2.3.2.1" xref="S3.SS2.p5.3.m3.2.2.2.3.2.1.cmml">arg</mi><mo lspace="0.167em" id="S3.SS2.p5.3.m3.2.2.2.3.2a" xref="S3.SS2.p5.3.m3.2.2.2.3.2.cmml">⁡</mo><mi id="S3.SS2.p5.3.m3.2.2.2.3.2.2" xref="S3.SS2.p5.3.m3.2.2.2.3.2.2.cmml">max</mi></mrow><mi id="S3.SS2.p5.3.m3.2.2.2.3.3" xref="S3.SS2.p5.3.m3.2.2.2.3.3.cmml">j</mi></msub><mrow id="S3.SS2.p5.3.m3.2.2.2.2" xref="S3.SS2.p5.3.m3.2.2.2.2.cmml"><mi id="S3.SS2.p5.3.m3.2.2.2.2.4" xref="S3.SS2.p5.3.m3.2.2.2.2.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.3.m3.2.2.2.2.3" xref="S3.SS2.p5.3.m3.2.2.2.2.3.cmml">​</mo><mi id="S3.SS2.p5.3.m3.2.2.2.2.5" xref="S3.SS2.p5.3.m3.2.2.2.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.3.m3.2.2.2.2.3a" xref="S3.SS2.p5.3.m3.2.2.2.2.3.cmml">​</mo><mi id="S3.SS2.p5.3.m3.2.2.2.2.6" xref="S3.SS2.p5.3.m3.2.2.2.2.6.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.3.m3.2.2.2.2.3b" xref="S3.SS2.p5.3.m3.2.2.2.2.3.cmml">​</mo><mrow id="S3.SS2.p5.3.m3.2.2.2.2.2.2" xref="S3.SS2.p5.3.m3.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.p5.3.m3.2.2.2.2.2.2.3" xref="S3.SS2.p5.3.m3.2.2.2.2.2.3.cmml">(</mo><mrow id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.cmml"><msub id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3.2" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3.2.cmml">E</mi><mi id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3.3" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.2" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p5.3.m3.2.2.2.2.2.2.4" xref="S3.SS2.p5.3.m3.2.2.2.2.2.3.cmml">,</mo><msub id="S3.SS2.p5.3.m3.2.2.2.2.2.2.2" xref="S3.SS2.p5.3.m3.2.2.2.2.2.2.2.cmml"><mi id="S3.SS2.p5.3.m3.2.2.2.2.2.2.2.2" xref="S3.SS2.p5.3.m3.2.2.2.2.2.2.2.2.cmml">p</mi><mi id="S3.SS2.p5.3.m3.2.2.2.2.2.2.2.3" xref="S3.SS2.p5.3.m3.2.2.2.2.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="S3.SS2.p5.3.m3.2.2.2.2.2.2.5" xref="S3.SS2.p5.3.m3.2.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.3.m3.2b"><apply id="S3.SS2.p5.3.m3.2.2.cmml" xref="S3.SS2.p5.3.m3.2.2"><eq id="S3.SS2.p5.3.m3.2.2.3.cmml" xref="S3.SS2.p5.3.m3.2.2.3"></eq><apply id="S3.SS2.p5.3.m3.2.2.4.cmml" xref="S3.SS2.p5.3.m3.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.2.2.4.1.cmml" xref="S3.SS2.p5.3.m3.2.2.4">superscript</csymbol><apply id="S3.SS2.p5.3.m3.2.2.4.2.cmml" xref="S3.SS2.p5.3.m3.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.2.2.4.2.1.cmml" xref="S3.SS2.p5.3.m3.2.2.4">subscript</csymbol><apply id="S3.SS2.p5.3.m3.2.2.4.2.2.cmml" xref="S3.SS2.p5.3.m3.2.2.4.2.2"><ci id="S3.SS2.p5.3.m3.2.2.4.2.2.1.cmml" xref="S3.SS2.p5.3.m3.2.2.4.2.2.1">^</ci><ci id="S3.SS2.p5.3.m3.2.2.4.2.2.2.cmml" xref="S3.SS2.p5.3.m3.2.2.4.2.2.2">𝑦</ci></apply><ci id="S3.SS2.p5.3.m3.2.2.4.2.3.cmml" xref="S3.SS2.p5.3.m3.2.2.4.2.3">𝑖</ci></apply><ci id="S3.SS2.p5.3.m3.2.2.4.3.cmml" xref="S3.SS2.p5.3.m3.2.2.4.3">𝑘</ci></apply><apply id="S3.SS2.p5.3.m3.2.2.2.cmml" xref="S3.SS2.p5.3.m3.2.2.2"><apply id="S3.SS2.p5.3.m3.2.2.2.3.cmml" xref="S3.SS2.p5.3.m3.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.2.2.2.3.1.cmml" xref="S3.SS2.p5.3.m3.2.2.2.3">subscript</csymbol><apply id="S3.SS2.p5.3.m3.2.2.2.3.2.cmml" xref="S3.SS2.p5.3.m3.2.2.2.3.2"><arg id="S3.SS2.p5.3.m3.2.2.2.3.2.1.cmml" xref="S3.SS2.p5.3.m3.2.2.2.3.2.1"></arg><max id="S3.SS2.p5.3.m3.2.2.2.3.2.2.cmml" xref="S3.SS2.p5.3.m3.2.2.2.3.2.2"></max></apply><ci id="S3.SS2.p5.3.m3.2.2.2.3.3.cmml" xref="S3.SS2.p5.3.m3.2.2.2.3.3">𝑗</ci></apply><apply id="S3.SS2.p5.3.m3.2.2.2.2.cmml" xref="S3.SS2.p5.3.m3.2.2.2.2"><times id="S3.SS2.p5.3.m3.2.2.2.2.3.cmml" xref="S3.SS2.p5.3.m3.2.2.2.2.3"></times><ci id="S3.SS2.p5.3.m3.2.2.2.2.4.cmml" xref="S3.SS2.p5.3.m3.2.2.2.2.4">𝑠</ci><ci id="S3.SS2.p5.3.m3.2.2.2.2.5.cmml" xref="S3.SS2.p5.3.m3.2.2.2.2.5">𝑖</ci><ci id="S3.SS2.p5.3.m3.2.2.2.2.6.cmml" xref="S3.SS2.p5.3.m3.2.2.2.2.6">𝑚</ci><interval closure="open" id="S3.SS2.p5.3.m3.2.2.2.2.2.3.cmml" xref="S3.SS2.p5.3.m3.2.2.2.2.2.2"><apply id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1"><times id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.2"></times><apply id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3.2">𝐸</ci><ci id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p5.3.m3.1.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply></apply><apply id="S3.SS2.p5.3.m3.2.2.2.2.2.2.2.cmml" xref="S3.SS2.p5.3.m3.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.2.2.2.2.2.2.2.1.cmml" xref="S3.SS2.p5.3.m3.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p5.3.m3.2.2.2.2.2.2.2.2.cmml" xref="S3.SS2.p5.3.m3.2.2.2.2.2.2.2.2">𝑝</ci><ci id="S3.SS2.p5.3.m3.2.2.2.2.2.2.2.3.cmml" xref="S3.SS2.p5.3.m3.2.2.2.2.2.2.2.3">𝑗</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.3.m3.2c">\hat{y}_{i}^{k}=\mathop{\arg\max}_{j}sim(E_{\theta}(\mathbf{x}_{i}^{k}),p_{j})</annotation></semantics></math>. Due to the differences between <math id="S3.SS2.p5.4.m4.1" class="ltx_Math" alttext="\mathcal{D}_{s}" display="inline"><semantics id="S3.SS2.p5.4.m4.1a"><msub id="S3.SS2.p5.4.m4.1.1" xref="S3.SS2.p5.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p5.4.m4.1.1.2" xref="S3.SS2.p5.4.m4.1.1.2.cmml">𝒟</mi><mi id="S3.SS2.p5.4.m4.1.1.3" xref="S3.SS2.p5.4.m4.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.4.m4.1b"><apply id="S3.SS2.p5.4.m4.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m4.1.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p5.4.m4.1.1.2.cmml" xref="S3.SS2.p5.4.m4.1.1.2">𝒟</ci><ci id="S3.SS2.p5.4.m4.1.1.3.cmml" xref="S3.SS2.p5.4.m4.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.4.m4.1c">\mathcal{D}_{s}</annotation></semantics></math> and <math id="S3.SS2.p5.5.m5.1" class="ltx_Math" alttext="\mathcal{D}_{k}" display="inline"><semantics id="S3.SS2.p5.5.m5.1a"><msub id="S3.SS2.p5.5.m5.1.1" xref="S3.SS2.p5.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p5.5.m5.1.1.2" xref="S3.SS2.p5.5.m5.1.1.2.cmml">𝒟</mi><mi id="S3.SS2.p5.5.m5.1.1.3" xref="S3.SS2.p5.5.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.5.m5.1b"><apply id="S3.SS2.p5.5.m5.1.1.cmml" xref="S3.SS2.p5.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.5.m5.1.1.1.cmml" xref="S3.SS2.p5.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p5.5.m5.1.1.2.cmml" xref="S3.SS2.p5.5.m5.1.1.2">𝒟</ci><ci id="S3.SS2.p5.5.m5.1.1.3.cmml" xref="S3.SS2.p5.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.5.m5.1c">\mathcal{D}_{k}</annotation></semantics></math>, there is a possibility of making mistakes in pseudo labeling. In traditional semi-FL methods, pseudo-labels are used for self-training. Therefore, various semi-FL methods are required to improve the quality of pseudo-labels. However, in our method, the text prompts of the labels are added as auxiliary information during conditional generation on the server, which ensures the correct semantic information of generated images.</p>
</div>
<div id="S3.SS2.p6" class="ltx_para">
<p id="S3.SS2.p6.5" class="ltx_p"><span id="S3.SS2.p6.5.1" class="ltx_text ltx_font_bold">Feature Processing.</span>
After obtaining the unlabeled client features and their pseudo labels <math id="S3.SS2.p6.1.m1.2" class="ltx_Math" alttext="\{E_{\theta}(\mathbf{x}_{i}^{k}),\hat{y}_{i}^{k}\}_{i=1}^{N_{k}}" display="inline"><semantics id="S3.SS2.p6.1.m1.2a"><msubsup id="S3.SS2.p6.1.m1.2.2" xref="S3.SS2.p6.1.m1.2.2.cmml"><mrow id="S3.SS2.p6.1.m1.2.2.2.2.2" xref="S3.SS2.p6.1.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.p6.1.m1.2.2.2.2.2.3" xref="S3.SS2.p6.1.m1.2.2.2.2.3.cmml">{</mo><mrow id="S3.SS2.p6.1.m1.1.1.1.1.1.1" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.cmml"><msub id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.2" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.2.cmml">E</mi><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p6.1.m1.2.2.2.2.2.4" xref="S3.SS2.p6.1.m1.2.2.2.2.3.cmml">,</mo><msubsup id="S3.SS2.p6.1.m1.2.2.2.2.2.2" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.cmml"><mover accent="true" id="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2.cmml"><mi id="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2.2" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2.2.cmml">y</mi><mo id="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2.1" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2.1.cmml">^</mo></mover><mi id="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.3" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.3.cmml">i</mi><mi id="S3.SS2.p6.1.m1.2.2.2.2.2.2.3" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.SS2.p6.1.m1.2.2.2.2.2.5" xref="S3.SS2.p6.1.m1.2.2.2.2.3.cmml">}</mo></mrow><mrow id="S3.SS2.p6.1.m1.2.2.2.4" xref="S3.SS2.p6.1.m1.2.2.2.4.cmml"><mi id="S3.SS2.p6.1.m1.2.2.2.4.2" xref="S3.SS2.p6.1.m1.2.2.2.4.2.cmml">i</mi><mo id="S3.SS2.p6.1.m1.2.2.2.4.1" xref="S3.SS2.p6.1.m1.2.2.2.4.1.cmml">=</mo><mn id="S3.SS2.p6.1.m1.2.2.2.4.3" xref="S3.SS2.p6.1.m1.2.2.2.4.3.cmml">1</mn></mrow><msub id="S3.SS2.p6.1.m1.2.2.4" xref="S3.SS2.p6.1.m1.2.2.4.cmml"><mi id="S3.SS2.p6.1.m1.2.2.4.2" xref="S3.SS2.p6.1.m1.2.2.4.2.cmml">N</mi><mi id="S3.SS2.p6.1.m1.2.2.4.3" xref="S3.SS2.p6.1.m1.2.2.4.3.cmml">k</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.1.m1.2b"><apply id="S3.SS2.p6.1.m1.2.2.cmml" xref="S3.SS2.p6.1.m1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.2.2.3.cmml" xref="S3.SS2.p6.1.m1.2.2">superscript</csymbol><apply id="S3.SS2.p6.1.m1.2.2.2.cmml" xref="S3.SS2.p6.1.m1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.2.2.2.3.cmml" xref="S3.SS2.p6.1.m1.2.2">subscript</csymbol><set id="S3.SS2.p6.1.m1.2.2.2.2.3.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2"><apply id="S3.SS2.p6.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1"><times id="S3.SS2.p6.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.2"></times><apply id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.2">𝐸</ci><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply></apply><apply id="S3.SS2.p6.1.m1.2.2.2.2.2.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.2.2.2.2.2.2.1.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2">superscript</csymbol><apply id="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.1.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2">subscript</csymbol><apply id="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2"><ci id="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2.1.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2.1">^</ci><ci id="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.2.2">𝑦</ci></apply><ci id="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.2.3">𝑖</ci></apply><ci id="S3.SS2.p6.1.m1.2.2.2.2.2.2.3.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.3">𝑘</ci></apply></set><apply id="S3.SS2.p6.1.m1.2.2.2.4.cmml" xref="S3.SS2.p6.1.m1.2.2.2.4"><eq id="S3.SS2.p6.1.m1.2.2.2.4.1.cmml" xref="S3.SS2.p6.1.m1.2.2.2.4.1"></eq><ci id="S3.SS2.p6.1.m1.2.2.2.4.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.4.2">𝑖</ci><cn type="integer" id="S3.SS2.p6.1.m1.2.2.2.4.3.cmml" xref="S3.SS2.p6.1.m1.2.2.2.4.3">1</cn></apply></apply><apply id="S3.SS2.p6.1.m1.2.2.4.cmml" xref="S3.SS2.p6.1.m1.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.2.2.4.1.cmml" xref="S3.SS2.p6.1.m1.2.2.4">subscript</csymbol><ci id="S3.SS2.p6.1.m1.2.2.4.2.cmml" xref="S3.SS2.p6.1.m1.2.2.4.2">𝑁</ci><ci id="S3.SS2.p6.1.m1.2.2.4.3.cmml" xref="S3.SS2.p6.1.m1.2.2.4.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.1.m1.2c">\{E_{\theta}(\mathbf{x}_{i}^{k}),\hat{y}_{i}^{k}\}_{i=1}^{N_{k}}</annotation></semantics></math>, taking category <math id="S3.SS2.p6.2.m2.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S3.SS2.p6.2.m2.1a"><mi id="S3.SS2.p6.2.m2.1.1" xref="S3.SS2.p6.2.m2.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.2.m2.1b"><ci id="S3.SS2.p6.2.m2.1.1.cmml" xref="S3.SS2.p6.2.m2.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.2.m2.1c">j</annotation></semantics></math> as an example, we cluster the client features belonging to the category <math id="S3.SS2.p6.3.m3.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S3.SS2.p6.3.m3.1a"><mi id="S3.SS2.p6.3.m3.1.1" xref="S3.SS2.p6.3.m3.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.3.m3.1b"><ci id="S3.SS2.p6.3.m3.1.1.cmml" xref="S3.SS2.p6.3.m3.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.3.m3.1c">j</annotation></semantics></math> and select <math id="S3.SS2.p6.4.m4.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS2.p6.4.m4.1a"><mi id="S3.SS2.p6.4.m4.1.1" xref="S3.SS2.p6.4.m4.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.4.m4.1b"><ci id="S3.SS2.p6.4.m4.1.1.cmml" xref="S3.SS2.p6.4.m4.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.4.m4.1c">L</annotation></semantics></math> cluster centroids <math id="S3.SS2.p6.5.m5.3" class="ltx_Math" alttext="\{\mathbf{z}_{j,l}^{k}\}_{l=1}^{L}" display="inline"><semantics id="S3.SS2.p6.5.m5.3a"><msubsup id="S3.SS2.p6.5.m5.3.3" xref="S3.SS2.p6.5.m5.3.3.cmml"><mrow id="S3.SS2.p6.5.m5.3.3.1.1.1" xref="S3.SS2.p6.5.m5.3.3.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p6.5.m5.3.3.1.1.1.2" xref="S3.SS2.p6.5.m5.3.3.1.1.2.cmml">{</mo><msubsup id="S3.SS2.p6.5.m5.3.3.1.1.1.1" xref="S3.SS2.p6.5.m5.3.3.1.1.1.1.cmml"><mi id="S3.SS2.p6.5.m5.3.3.1.1.1.1.2.2" xref="S3.SS2.p6.5.m5.3.3.1.1.1.1.2.2.cmml">𝐳</mi><mrow id="S3.SS2.p6.5.m5.2.2.2.4" xref="S3.SS2.p6.5.m5.2.2.2.3.cmml"><mi id="S3.SS2.p6.5.m5.1.1.1.1" xref="S3.SS2.p6.5.m5.1.1.1.1.cmml">j</mi><mo id="S3.SS2.p6.5.m5.2.2.2.4.1" xref="S3.SS2.p6.5.m5.2.2.2.3.cmml">,</mo><mi id="S3.SS2.p6.5.m5.2.2.2.2" xref="S3.SS2.p6.5.m5.2.2.2.2.cmml">l</mi></mrow><mi id="S3.SS2.p6.5.m5.3.3.1.1.1.1.3" xref="S3.SS2.p6.5.m5.3.3.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.SS2.p6.5.m5.3.3.1.1.1.3" xref="S3.SS2.p6.5.m5.3.3.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p6.5.m5.3.3.1.3" xref="S3.SS2.p6.5.m5.3.3.1.3.cmml"><mi id="S3.SS2.p6.5.m5.3.3.1.3.2" xref="S3.SS2.p6.5.m5.3.3.1.3.2.cmml">l</mi><mo id="S3.SS2.p6.5.m5.3.3.1.3.1" xref="S3.SS2.p6.5.m5.3.3.1.3.1.cmml">=</mo><mn id="S3.SS2.p6.5.m5.3.3.1.3.3" xref="S3.SS2.p6.5.m5.3.3.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.p6.5.m5.3.3.3" xref="S3.SS2.p6.5.m5.3.3.3.cmml">L</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.5.m5.3b"><apply id="S3.SS2.p6.5.m5.3.3.cmml" xref="S3.SS2.p6.5.m5.3.3"><csymbol cd="ambiguous" id="S3.SS2.p6.5.m5.3.3.2.cmml" xref="S3.SS2.p6.5.m5.3.3">superscript</csymbol><apply id="S3.SS2.p6.5.m5.3.3.1.cmml" xref="S3.SS2.p6.5.m5.3.3"><csymbol cd="ambiguous" id="S3.SS2.p6.5.m5.3.3.1.2.cmml" xref="S3.SS2.p6.5.m5.3.3">subscript</csymbol><set id="S3.SS2.p6.5.m5.3.3.1.1.2.cmml" xref="S3.SS2.p6.5.m5.3.3.1.1.1"><apply id="S3.SS2.p6.5.m5.3.3.1.1.1.1.cmml" xref="S3.SS2.p6.5.m5.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.5.m5.3.3.1.1.1.1.1.cmml" xref="S3.SS2.p6.5.m5.3.3.1.1.1.1">superscript</csymbol><apply id="S3.SS2.p6.5.m5.3.3.1.1.1.1.2.cmml" xref="S3.SS2.p6.5.m5.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.5.m5.3.3.1.1.1.1.2.1.cmml" xref="S3.SS2.p6.5.m5.3.3.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p6.5.m5.3.3.1.1.1.1.2.2.cmml" xref="S3.SS2.p6.5.m5.3.3.1.1.1.1.2.2">𝐳</ci><list id="S3.SS2.p6.5.m5.2.2.2.3.cmml" xref="S3.SS2.p6.5.m5.2.2.2.4"><ci id="S3.SS2.p6.5.m5.1.1.1.1.cmml" xref="S3.SS2.p6.5.m5.1.1.1.1">𝑗</ci><ci id="S3.SS2.p6.5.m5.2.2.2.2.cmml" xref="S3.SS2.p6.5.m5.2.2.2.2">𝑙</ci></list></apply><ci id="S3.SS2.p6.5.m5.3.3.1.1.1.1.3.cmml" xref="S3.SS2.p6.5.m5.3.3.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.SS2.p6.5.m5.3.3.1.3.cmml" xref="S3.SS2.p6.5.m5.3.3.1.3"><eq id="S3.SS2.p6.5.m5.3.3.1.3.1.cmml" xref="S3.SS2.p6.5.m5.3.3.1.3.1"></eq><ci id="S3.SS2.p6.5.m5.3.3.1.3.2.cmml" xref="S3.SS2.p6.5.m5.3.3.1.3.2">𝑙</ci><cn type="integer" id="S3.SS2.p6.5.m5.3.3.1.3.3.cmml" xref="S3.SS2.p6.5.m5.3.3.1.3.3">1</cn></apply></apply><ci id="S3.SS2.p6.5.m5.3.3.3.cmml" xref="S3.SS2.p6.5.m5.3.3.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.5.m5.3c">\{\mathbf{z}_{j,l}^{k}\}_{l=1}^{L}</annotation></semantics></math> to upload. The objective of clustering is as follows:</p>
<table id="A2.EGx5" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E5.m1.6" class="ltx_Math" alttext="\displaystyle\underset{\mathbf{z}_{j,l}^{k}}{\arg\min}\sum_{l=1}^{L}\sum_{\mathbf{x}_{i}^{k}\in\mathcal{D}_{k}}\left\|E_{\theta}(\mathbf{x}_{i}^{k})-\mathbf{z}_{j,l}^{k}\right\|^{2}*\mathbb{I}\left(\hat{y}_{i}^{k}=j\right)" display="inline"><semantics id="S3.E5.m1.6a"><mrow id="S3.E5.m1.6.6" xref="S3.E5.m1.6.6.cmml"><munder accentunder="true" id="S3.E5.m1.2.2" xref="S3.E5.m1.2.2.cmml"><mrow id="S3.E5.m1.2.2.3" xref="S3.E5.m1.2.2.3.cmml"><mi id="S3.E5.m1.2.2.3.1" xref="S3.E5.m1.2.2.3.1.cmml">arg</mi><mo lspace="0.167em" id="S3.E5.m1.2.2.3a" xref="S3.E5.m1.2.2.3.cmml">⁡</mo><mi id="S3.E5.m1.2.2.3.2" xref="S3.E5.m1.2.2.3.2.cmml">min</mi></mrow><msubsup id="S3.E5.m1.2.2.2" xref="S3.E5.m1.2.2.2.cmml"><mi id="S3.E5.m1.2.2.2.4.2" xref="S3.E5.m1.2.2.2.4.2.cmml">𝐳</mi><mrow id="S3.E5.m1.2.2.2.2.2.4" xref="S3.E5.m1.2.2.2.2.2.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.cmml">j</mi><mo id="S3.E5.m1.2.2.2.2.2.4.1" xref="S3.E5.m1.2.2.2.2.2.3.cmml">,</mo><mi id="S3.E5.m1.2.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.2.cmml">l</mi></mrow><mi id="S3.E5.m1.2.2.2.5" xref="S3.E5.m1.2.2.2.5.cmml">k</mi></msubsup></munder><mo lspace="0em" rspace="0em" id="S3.E5.m1.6.6.3" xref="S3.E5.m1.6.6.3.cmml">​</mo><mrow id="S3.E5.m1.6.6.2" xref="S3.E5.m1.6.6.2.cmml"><mstyle displaystyle="true" id="S3.E5.m1.6.6.2.3" xref="S3.E5.m1.6.6.2.3.cmml"><munderover id="S3.E5.m1.6.6.2.3a" xref="S3.E5.m1.6.6.2.3.cmml"><mo movablelimits="false" id="S3.E5.m1.6.6.2.3.2.2" xref="S3.E5.m1.6.6.2.3.2.2.cmml">∑</mo><mrow id="S3.E5.m1.6.6.2.3.2.3" xref="S3.E5.m1.6.6.2.3.2.3.cmml"><mi id="S3.E5.m1.6.6.2.3.2.3.2" xref="S3.E5.m1.6.6.2.3.2.3.2.cmml">l</mi><mo id="S3.E5.m1.6.6.2.3.2.3.1" xref="S3.E5.m1.6.6.2.3.2.3.1.cmml">=</mo><mn id="S3.E5.m1.6.6.2.3.2.3.3" xref="S3.E5.m1.6.6.2.3.2.3.3.cmml">1</mn></mrow><mi id="S3.E5.m1.6.6.2.3.3" xref="S3.E5.m1.6.6.2.3.3.cmml">L</mi></munderover></mstyle><mrow id="S3.E5.m1.6.6.2.2" xref="S3.E5.m1.6.6.2.2.cmml"><mstyle displaystyle="true" id="S3.E5.m1.6.6.2.2.3" xref="S3.E5.m1.6.6.2.2.3.cmml"><munder id="S3.E5.m1.6.6.2.2.3a" xref="S3.E5.m1.6.6.2.2.3.cmml"><mo movablelimits="false" id="S3.E5.m1.6.6.2.2.3.2" xref="S3.E5.m1.6.6.2.2.3.2.cmml">∑</mo><mrow id="S3.E5.m1.6.6.2.2.3.3" xref="S3.E5.m1.6.6.2.2.3.3.cmml"><msubsup id="S3.E5.m1.6.6.2.2.3.3.2" xref="S3.E5.m1.6.6.2.2.3.3.2.cmml"><mi id="S3.E5.m1.6.6.2.2.3.3.2.2.2" xref="S3.E5.m1.6.6.2.2.3.3.2.2.2.cmml">𝐱</mi><mi id="S3.E5.m1.6.6.2.2.3.3.2.2.3" xref="S3.E5.m1.6.6.2.2.3.3.2.2.3.cmml">i</mi><mi id="S3.E5.m1.6.6.2.2.3.3.2.3" xref="S3.E5.m1.6.6.2.2.3.3.2.3.cmml">k</mi></msubsup><mo id="S3.E5.m1.6.6.2.2.3.3.1" xref="S3.E5.m1.6.6.2.2.3.3.1.cmml">∈</mo><msub id="S3.E5.m1.6.6.2.2.3.3.3" xref="S3.E5.m1.6.6.2.2.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.6.6.2.2.3.3.3.2" xref="S3.E5.m1.6.6.2.2.3.3.3.2.cmml">𝒟</mi><mi id="S3.E5.m1.6.6.2.2.3.3.3.3" xref="S3.E5.m1.6.6.2.2.3.3.3.3.cmml">k</mi></msub></mrow></munder></mstyle><mrow id="S3.E5.m1.6.6.2.2.2" xref="S3.E5.m1.6.6.2.2.2.cmml"><mrow id="S3.E5.m1.5.5.1.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.cmml"><msup id="S3.E5.m1.5.5.1.1.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.1.cmml"><mrow id="S3.E5.m1.5.5.1.1.1.1.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.1.1.2.cmml"><mo id="S3.E5.m1.5.5.1.1.1.1.1.1.1.2" xref="S3.E5.m1.5.5.1.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.cmml">E</mi><mi id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">𝐱</mi><mi id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.2.cmml">−</mo><msubsup id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.cmml">𝐳</mi><mrow id="S3.E5.m1.4.4.2.4" xref="S3.E5.m1.4.4.2.3.cmml"><mi id="S3.E5.m1.3.3.1.1" xref="S3.E5.m1.3.3.1.1.cmml">j</mi><mo id="S3.E5.m1.4.4.2.4.1" xref="S3.E5.m1.4.4.2.3.cmml">,</mo><mi id="S3.E5.m1.4.4.2.2" xref="S3.E5.m1.4.4.2.2.cmml">l</mi></mrow><mi id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.3" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.3.cmml">k</mi></msubsup></mrow><mo rspace="0.055em" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S3.E5.m1.5.5.1.1.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.1.3.cmml">2</mn></msup><mo rspace="0.222em" id="S3.E5.m1.5.5.1.1.1.1.2" xref="S3.E5.m1.5.5.1.1.1.1.2.cmml">∗</mo><mi id="S3.E5.m1.5.5.1.1.1.1.3" xref="S3.E5.m1.5.5.1.1.1.1.3.cmml">𝕀</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E5.m1.6.6.2.2.2.3" xref="S3.E5.m1.6.6.2.2.2.3.cmml">​</mo><mrow id="S3.E5.m1.6.6.2.2.2.2.1" xref="S3.E5.m1.6.6.2.2.2.2.1.1.cmml"><mo id="S3.E5.m1.6.6.2.2.2.2.1.2" xref="S3.E5.m1.6.6.2.2.2.2.1.1.cmml">(</mo><mrow id="S3.E5.m1.6.6.2.2.2.2.1.1" xref="S3.E5.m1.6.6.2.2.2.2.1.1.cmml"><msubsup id="S3.E5.m1.6.6.2.2.2.2.1.1.2" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2.cmml"><mover accent="true" id="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2.cmml"><mi id="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2.2" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2.2.cmml">y</mi><mo id="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2.1" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2.1.cmml">^</mo></mover><mi id="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.3" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.3.cmml">i</mi><mi id="S3.E5.m1.6.6.2.2.2.2.1.1.2.3" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2.3.cmml">k</mi></msubsup><mo id="S3.E5.m1.6.6.2.2.2.2.1.1.1" xref="S3.E5.m1.6.6.2.2.2.2.1.1.1.cmml">=</mo><mi id="S3.E5.m1.6.6.2.2.2.2.1.1.3" xref="S3.E5.m1.6.6.2.2.2.2.1.1.3.cmml">j</mi></mrow><mo id="S3.E5.m1.6.6.2.2.2.2.1.3" xref="S3.E5.m1.6.6.2.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.6b"><apply id="S3.E5.m1.6.6.cmml" xref="S3.E5.m1.6.6"><times id="S3.E5.m1.6.6.3.cmml" xref="S3.E5.m1.6.6.3"></times><apply id="S3.E5.m1.2.2.cmml" xref="S3.E5.m1.2.2"><apply id="S3.E5.m1.2.2.2.cmml" xref="S3.E5.m1.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2">superscript</csymbol><apply id="S3.E5.m1.2.2.2.4.cmml" xref="S3.E5.m1.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.4.1.cmml" xref="S3.E5.m1.2.2.2">subscript</csymbol><ci id="S3.E5.m1.2.2.2.4.2.cmml" xref="S3.E5.m1.2.2.2.4.2">𝐳</ci><list id="S3.E5.m1.2.2.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2.2.4"><ci id="S3.E5.m1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1">𝑗</ci><ci id="S3.E5.m1.2.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2.2">𝑙</ci></list></apply><ci id="S3.E5.m1.2.2.2.5.cmml" xref="S3.E5.m1.2.2.2.5">𝑘</ci></apply><apply id="S3.E5.m1.2.2.3.cmml" xref="S3.E5.m1.2.2.3"><arg id="S3.E5.m1.2.2.3.1.cmml" xref="S3.E5.m1.2.2.3.1"></arg><min id="S3.E5.m1.2.2.3.2.cmml" xref="S3.E5.m1.2.2.3.2"></min></apply></apply><apply id="S3.E5.m1.6.6.2.cmml" xref="S3.E5.m1.6.6.2"><apply id="S3.E5.m1.6.6.2.3.cmml" xref="S3.E5.m1.6.6.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.2.3.1.cmml" xref="S3.E5.m1.6.6.2.3">superscript</csymbol><apply id="S3.E5.m1.6.6.2.3.2.cmml" xref="S3.E5.m1.6.6.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.2.3.2.1.cmml" xref="S3.E5.m1.6.6.2.3">subscript</csymbol><sum id="S3.E5.m1.6.6.2.3.2.2.cmml" xref="S3.E5.m1.6.6.2.3.2.2"></sum><apply id="S3.E5.m1.6.6.2.3.2.3.cmml" xref="S3.E5.m1.6.6.2.3.2.3"><eq id="S3.E5.m1.6.6.2.3.2.3.1.cmml" xref="S3.E5.m1.6.6.2.3.2.3.1"></eq><ci id="S3.E5.m1.6.6.2.3.2.3.2.cmml" xref="S3.E5.m1.6.6.2.3.2.3.2">𝑙</ci><cn type="integer" id="S3.E5.m1.6.6.2.3.2.3.3.cmml" xref="S3.E5.m1.6.6.2.3.2.3.3">1</cn></apply></apply><ci id="S3.E5.m1.6.6.2.3.3.cmml" xref="S3.E5.m1.6.6.2.3.3">𝐿</ci></apply><apply id="S3.E5.m1.6.6.2.2.cmml" xref="S3.E5.m1.6.6.2.2"><apply id="S3.E5.m1.6.6.2.2.3.cmml" xref="S3.E5.m1.6.6.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.2.2.3.1.cmml" xref="S3.E5.m1.6.6.2.2.3">subscript</csymbol><sum id="S3.E5.m1.6.6.2.2.3.2.cmml" xref="S3.E5.m1.6.6.2.2.3.2"></sum><apply id="S3.E5.m1.6.6.2.2.3.3.cmml" xref="S3.E5.m1.6.6.2.2.3.3"><in id="S3.E5.m1.6.6.2.2.3.3.1.cmml" xref="S3.E5.m1.6.6.2.2.3.3.1"></in><apply id="S3.E5.m1.6.6.2.2.3.3.2.cmml" xref="S3.E5.m1.6.6.2.2.3.3.2"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.2.2.3.3.2.1.cmml" xref="S3.E5.m1.6.6.2.2.3.3.2">superscript</csymbol><apply id="S3.E5.m1.6.6.2.2.3.3.2.2.cmml" xref="S3.E5.m1.6.6.2.2.3.3.2"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.2.2.3.3.2.2.1.cmml" xref="S3.E5.m1.6.6.2.2.3.3.2">subscript</csymbol><ci id="S3.E5.m1.6.6.2.2.3.3.2.2.2.cmml" xref="S3.E5.m1.6.6.2.2.3.3.2.2.2">𝐱</ci><ci id="S3.E5.m1.6.6.2.2.3.3.2.2.3.cmml" xref="S3.E5.m1.6.6.2.2.3.3.2.2.3">𝑖</ci></apply><ci id="S3.E5.m1.6.6.2.2.3.3.2.3.cmml" xref="S3.E5.m1.6.6.2.2.3.3.2.3">𝑘</ci></apply><apply id="S3.E5.m1.6.6.2.2.3.3.3.cmml" xref="S3.E5.m1.6.6.2.2.3.3.3"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.2.2.3.3.3.1.cmml" xref="S3.E5.m1.6.6.2.2.3.3.3">subscript</csymbol><ci id="S3.E5.m1.6.6.2.2.3.3.3.2.cmml" xref="S3.E5.m1.6.6.2.2.3.3.3.2">𝒟</ci><ci id="S3.E5.m1.6.6.2.2.3.3.3.3.cmml" xref="S3.E5.m1.6.6.2.2.3.3.3.3">𝑘</ci></apply></apply></apply><apply id="S3.E5.m1.6.6.2.2.2.cmml" xref="S3.E5.m1.6.6.2.2.2"><times id="S3.E5.m1.6.6.2.2.2.3.cmml" xref="S3.E5.m1.6.6.2.2.2.3"></times><apply id="S3.E5.m1.5.5.1.1.1.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1"><times id="S3.E5.m1.5.5.1.1.1.1.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.2"></times><apply id="S3.E5.m1.5.5.1.1.1.1.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.1.1.1.1.1.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1">superscript</csymbol><apply id="S3.E5.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E5.m1.5.5.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.2">norm</csymbol><apply id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1"><minus id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.2"></minus><apply id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1"><times id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.2">𝐸</ci><ci id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.2">𝐱</ci><ci id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply></apply><apply id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.2.2">𝐳</ci><list id="S3.E5.m1.4.4.2.3.cmml" xref="S3.E5.m1.4.4.2.4"><ci id="S3.E5.m1.3.3.1.1.cmml" xref="S3.E5.m1.3.3.1.1">𝑗</ci><ci id="S3.E5.m1.4.4.2.2.cmml" xref="S3.E5.m1.4.4.2.2">𝑙</ci></list></apply><ci id="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.1.1.1.3.3">𝑘</ci></apply></apply></apply><cn type="integer" id="S3.E5.m1.5.5.1.1.1.1.1.3.cmml" xref="S3.E5.m1.5.5.1.1.1.1.1.3">2</cn></apply><ci id="S3.E5.m1.5.5.1.1.1.1.3.cmml" xref="S3.E5.m1.5.5.1.1.1.1.3">𝕀</ci></apply><apply id="S3.E5.m1.6.6.2.2.2.2.1.1.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1"><eq id="S3.E5.m1.6.6.2.2.2.2.1.1.1.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1.1.1"></eq><apply id="S3.E5.m1.6.6.2.2.2.2.1.1.2.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.2.2.2.2.1.1.2.1.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2">superscript</csymbol><apply id="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.1.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2">subscript</csymbol><apply id="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2"><ci id="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2.1.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2.1">^</ci><ci id="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2.2.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.2.2">𝑦</ci></apply><ci id="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.3.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2.2.3">𝑖</ci></apply><ci id="S3.E5.m1.6.6.2.2.2.2.1.1.2.3.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1.1.2.3">𝑘</ci></apply><ci id="S3.E5.m1.6.6.2.2.2.2.1.1.3.cmml" xref="S3.E5.m1.6.6.2.2.2.2.1.1.3">𝑗</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.6c">\displaystyle\underset{\mathbf{z}_{j,l}^{k}}{\arg\min}\sum_{l=1}^{L}\sum_{\mathbf{x}_{i}^{k}\in\mathcal{D}_{k}}\left\|E_{\theta}(\mathbf{x}_{i}^{k})-\mathbf{z}_{j,l}^{k}\right\|^{2}*\mathbb{I}\left(\hat{y}_{i}^{k}=j\right)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p7" class="ltx_para">
<p id="S3.SS2.p7.1" class="ltx_p">Compared with randomly selecting <math id="S3.SS2.p7.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS2.p7.1.m1.1a"><mi id="S3.SS2.p7.1.m1.1.1" xref="S3.SS2.p7.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.1.m1.1b"><ci id="S3.SS2.p7.1.m1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.1.m1.1c">L</annotation></semantics></math> features for uploading, the personalized distribution information and semantic information contained in the cluster centroids are clearer. Since only a small number of features are selected and each feature will generate multiple images on the server, the quality of the uploaded features is crucial.</p>
</div>
<div id="S3.SS2.p8" class="ltx_para">
<p id="S3.SS2.p8.3" class="ltx_p">Meanwhile, we obtain the domain-specific representations <math id="S3.SS2.p8.1.m1.1" class="ltx_Math" alttext="\{\mathbf{g}_{j}^{k}\}_{j=1}^{M}" display="inline"><semantics id="S3.SS2.p8.1.m1.1a"><msubsup id="S3.SS2.p8.1.m1.1.1" xref="S3.SS2.p8.1.m1.1.1.cmml"><mrow id="S3.SS2.p8.1.m1.1.1.1.1.1" xref="S3.SS2.p8.1.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p8.1.m1.1.1.1.1.1.2" xref="S3.SS2.p8.1.m1.1.1.1.1.2.cmml">{</mo><msubsup id="S3.SS2.p8.1.m1.1.1.1.1.1.1" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.2" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.2.cmml">𝐠</mi><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.3" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.3.cmml">j</mi><mi id="S3.SS2.p8.1.m1.1.1.1.1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.SS2.p8.1.m1.1.1.1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p8.1.m1.1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.1.3.cmml"><mi id="S3.SS2.p8.1.m1.1.1.1.3.2" xref="S3.SS2.p8.1.m1.1.1.1.3.2.cmml">j</mi><mo id="S3.SS2.p8.1.m1.1.1.1.3.1" xref="S3.SS2.p8.1.m1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.p8.1.m1.1.1.1.3.3" xref="S3.SS2.p8.1.m1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.p8.1.m1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.3.cmml">M</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.1.m1.1b"><apply id="S3.SS2.p8.1.m1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1">superscript</csymbol><apply id="S3.SS2.p8.1.m1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1">subscript</csymbol><set id="S3.SS2.p8.1.m1.1.1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1"><apply id="S3.SS2.p8.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.2">𝐠</ci><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.2.3">𝑗</ci></apply><ci id="S3.SS2.p8.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.SS2.p8.1.m1.1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.3"><eq id="S3.SS2.p8.1.m1.1.1.1.3.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1.3.1"></eq><ci id="S3.SS2.p8.1.m1.1.1.1.3.2.cmml" xref="S3.SS2.p8.1.m1.1.1.1.3.2">𝑗</ci><cn type="integer" id="S3.SS2.p8.1.m1.1.1.1.3.3.cmml" xref="S3.SS2.p8.1.m1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS2.p8.1.m1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.1.m1.1c">\{\mathbf{g}_{j}^{k}\}_{j=1}^{M}</annotation></semantics></math> for each category on client <math id="S3.SS2.p8.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p8.2.m2.1a"><mi id="S3.SS2.p8.2.m2.1.1" xref="S3.SS2.p8.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.2.m2.1b"><ci id="S3.SS2.p8.2.m2.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.2.m2.1c">k</annotation></semantics></math> by averaging all the features belonging to category <math id="S3.SS2.p8.3.m3.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S3.SS2.p8.3.m3.1a"><mi id="S3.SS2.p8.3.m3.1.1" xref="S3.SS2.p8.3.m3.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.3.m3.1b"><ci id="S3.SS2.p8.3.m3.1.1.cmml" xref="S3.SS2.p8.3.m3.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.3.m3.1c">j</annotation></semantics></math>. We weaken the individuality of each image and highlight the commonality of each category on the clients. During the conditional generation on the server, we can generate images complying with different client distributions by combining the cluster centroids with different domain-specific representations.</p>
</div>
<div id="S3.SS2.p9" class="ltx_para">
<p id="S3.SS2.p9.6" class="ltx_p">After computing the cluster centroids and the domain-specific representations, for privacy protection, we add noise to all these features. The noise-adding process is as follows:</p>
<table id="A2.EGx6" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex2.m1.6" class="ltx_Math" alttext="\displaystyle\bar{\mathbf{z}}_{j,l}^{k}=\sqrt{\alpha_{n}}{\mathbf{z}}_{j,l}^{k}+\sqrt{1-\alpha_{n}}\epsilon,\bar{\mathbf{g}}_{j}^{k}=\sqrt{\alpha_{n}}{\mathbf{g}_{j}^{k}}+\sqrt{1-\alpha_{n}}\epsilon" display="inline"><semantics id="S3.Ex2.m1.6a"><mrow id="S3.Ex2.m1.6.6.2" xref="S3.Ex2.m1.6.6.3.cmml"><mrow id="S3.Ex2.m1.5.5.1.1" xref="S3.Ex2.m1.5.5.1.1.cmml"><msubsup id="S3.Ex2.m1.5.5.1.1.2" xref="S3.Ex2.m1.5.5.1.1.2.cmml"><mover accent="true" id="S3.Ex2.m1.5.5.1.1.2.2.2" xref="S3.Ex2.m1.5.5.1.1.2.2.2.cmml"><mi id="S3.Ex2.m1.5.5.1.1.2.2.2.2" xref="S3.Ex2.m1.5.5.1.1.2.2.2.2.cmml">𝐳</mi><mo id="S3.Ex2.m1.5.5.1.1.2.2.2.1" xref="S3.Ex2.m1.5.5.1.1.2.2.2.1.cmml">¯</mo></mover><mrow id="S3.Ex2.m1.2.2.2.4" xref="S3.Ex2.m1.2.2.2.3.cmml"><mi id="S3.Ex2.m1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.cmml">j</mi><mo id="S3.Ex2.m1.2.2.2.4.1" xref="S3.Ex2.m1.2.2.2.3.cmml">,</mo><mi id="S3.Ex2.m1.2.2.2.2" xref="S3.Ex2.m1.2.2.2.2.cmml">l</mi></mrow><mi id="S3.Ex2.m1.5.5.1.1.2.3" xref="S3.Ex2.m1.5.5.1.1.2.3.cmml">k</mi></msubsup><mo id="S3.Ex2.m1.5.5.1.1.1" xref="S3.Ex2.m1.5.5.1.1.1.cmml">=</mo><mrow id="S3.Ex2.m1.5.5.1.1.3" xref="S3.Ex2.m1.5.5.1.1.3.cmml"><mrow id="S3.Ex2.m1.5.5.1.1.3.2" xref="S3.Ex2.m1.5.5.1.1.3.2.cmml"><msqrt id="S3.Ex2.m1.5.5.1.1.3.2.2" xref="S3.Ex2.m1.5.5.1.1.3.2.2.cmml"><msub id="S3.Ex2.m1.5.5.1.1.3.2.2.2" xref="S3.Ex2.m1.5.5.1.1.3.2.2.2.cmml"><mi id="S3.Ex2.m1.5.5.1.1.3.2.2.2.2" xref="S3.Ex2.m1.5.5.1.1.3.2.2.2.2.cmml">α</mi><mi id="S3.Ex2.m1.5.5.1.1.3.2.2.2.3" xref="S3.Ex2.m1.5.5.1.1.3.2.2.2.3.cmml">n</mi></msub></msqrt><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.5.5.1.1.3.2.1" xref="S3.Ex2.m1.5.5.1.1.3.2.1.cmml">​</mo><msubsup id="S3.Ex2.m1.5.5.1.1.3.2.3" xref="S3.Ex2.m1.5.5.1.1.3.2.3.cmml"><mi id="S3.Ex2.m1.5.5.1.1.3.2.3.2.2" xref="S3.Ex2.m1.5.5.1.1.3.2.3.2.2.cmml">𝐳</mi><mrow id="S3.Ex2.m1.4.4.2.4" xref="S3.Ex2.m1.4.4.2.3.cmml"><mi id="S3.Ex2.m1.3.3.1.1" xref="S3.Ex2.m1.3.3.1.1.cmml">j</mi><mo id="S3.Ex2.m1.4.4.2.4.1" xref="S3.Ex2.m1.4.4.2.3.cmml">,</mo><mi id="S3.Ex2.m1.4.4.2.2" xref="S3.Ex2.m1.4.4.2.2.cmml">l</mi></mrow><mi id="S3.Ex2.m1.5.5.1.1.3.2.3.3" xref="S3.Ex2.m1.5.5.1.1.3.2.3.3.cmml">k</mi></msubsup></mrow><mo id="S3.Ex2.m1.5.5.1.1.3.1" xref="S3.Ex2.m1.5.5.1.1.3.1.cmml">+</mo><mrow id="S3.Ex2.m1.5.5.1.1.3.3" xref="S3.Ex2.m1.5.5.1.1.3.3.cmml"><msqrt id="S3.Ex2.m1.5.5.1.1.3.3.2" xref="S3.Ex2.m1.5.5.1.1.3.3.2.cmml"><mrow id="S3.Ex2.m1.5.5.1.1.3.3.2.2" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.cmml"><mn id="S3.Ex2.m1.5.5.1.1.3.3.2.2.2" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.2.cmml">1</mn><mo id="S3.Ex2.m1.5.5.1.1.3.3.2.2.1" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.1.cmml">−</mo><msub id="S3.Ex2.m1.5.5.1.1.3.3.2.2.3" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.3.cmml"><mi id="S3.Ex2.m1.5.5.1.1.3.3.2.2.3.2" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.3.2.cmml">α</mi><mi id="S3.Ex2.m1.5.5.1.1.3.3.2.2.3.3" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.3.3.cmml">n</mi></msub></mrow></msqrt><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.5.5.1.1.3.3.1" xref="S3.Ex2.m1.5.5.1.1.3.3.1.cmml">​</mo><mi id="S3.Ex2.m1.5.5.1.1.3.3.3" xref="S3.Ex2.m1.5.5.1.1.3.3.3.cmml">ϵ</mi></mrow></mrow></mrow><mo id="S3.Ex2.m1.6.6.2.3" xref="S3.Ex2.m1.6.6.3a.cmml">,</mo><mrow id="S3.Ex2.m1.6.6.2.2" xref="S3.Ex2.m1.6.6.2.2.cmml"><msubsup id="S3.Ex2.m1.6.6.2.2.2" xref="S3.Ex2.m1.6.6.2.2.2.cmml"><mover accent="true" id="S3.Ex2.m1.6.6.2.2.2.2.2" xref="S3.Ex2.m1.6.6.2.2.2.2.2.cmml"><mi id="S3.Ex2.m1.6.6.2.2.2.2.2.2" xref="S3.Ex2.m1.6.6.2.2.2.2.2.2.cmml">𝐠</mi><mo id="S3.Ex2.m1.6.6.2.2.2.2.2.1" xref="S3.Ex2.m1.6.6.2.2.2.2.2.1.cmml">¯</mo></mover><mi id="S3.Ex2.m1.6.6.2.2.2.2.3" xref="S3.Ex2.m1.6.6.2.2.2.2.3.cmml">j</mi><mi id="S3.Ex2.m1.6.6.2.2.2.3" xref="S3.Ex2.m1.6.6.2.2.2.3.cmml">k</mi></msubsup><mo id="S3.Ex2.m1.6.6.2.2.1" xref="S3.Ex2.m1.6.6.2.2.1.cmml">=</mo><mrow id="S3.Ex2.m1.6.6.2.2.3" xref="S3.Ex2.m1.6.6.2.2.3.cmml"><mrow id="S3.Ex2.m1.6.6.2.2.3.2" xref="S3.Ex2.m1.6.6.2.2.3.2.cmml"><msqrt id="S3.Ex2.m1.6.6.2.2.3.2.2" xref="S3.Ex2.m1.6.6.2.2.3.2.2.cmml"><msub id="S3.Ex2.m1.6.6.2.2.3.2.2.2" xref="S3.Ex2.m1.6.6.2.2.3.2.2.2.cmml"><mi id="S3.Ex2.m1.6.6.2.2.3.2.2.2.2" xref="S3.Ex2.m1.6.6.2.2.3.2.2.2.2.cmml">α</mi><mi id="S3.Ex2.m1.6.6.2.2.3.2.2.2.3" xref="S3.Ex2.m1.6.6.2.2.3.2.2.2.3.cmml">n</mi></msub></msqrt><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.6.6.2.2.3.2.1" xref="S3.Ex2.m1.6.6.2.2.3.2.1.cmml">​</mo><msubsup id="S3.Ex2.m1.6.6.2.2.3.2.3" xref="S3.Ex2.m1.6.6.2.2.3.2.3.cmml"><mi id="S3.Ex2.m1.6.6.2.2.3.2.3.2.2" xref="S3.Ex2.m1.6.6.2.2.3.2.3.2.2.cmml">𝐠</mi><mi id="S3.Ex2.m1.6.6.2.2.3.2.3.2.3" xref="S3.Ex2.m1.6.6.2.2.3.2.3.2.3.cmml">j</mi><mi id="S3.Ex2.m1.6.6.2.2.3.2.3.3" xref="S3.Ex2.m1.6.6.2.2.3.2.3.3.cmml">k</mi></msubsup></mrow><mo id="S3.Ex2.m1.6.6.2.2.3.1" xref="S3.Ex2.m1.6.6.2.2.3.1.cmml">+</mo><mrow id="S3.Ex2.m1.6.6.2.2.3.3" xref="S3.Ex2.m1.6.6.2.2.3.3.cmml"><msqrt id="S3.Ex2.m1.6.6.2.2.3.3.2" xref="S3.Ex2.m1.6.6.2.2.3.3.2.cmml"><mrow id="S3.Ex2.m1.6.6.2.2.3.3.2.2" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.cmml"><mn id="S3.Ex2.m1.6.6.2.2.3.3.2.2.2" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.2.cmml">1</mn><mo id="S3.Ex2.m1.6.6.2.2.3.3.2.2.1" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.1.cmml">−</mo><msub id="S3.Ex2.m1.6.6.2.2.3.3.2.2.3" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.3.cmml"><mi id="S3.Ex2.m1.6.6.2.2.3.3.2.2.3.2" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.3.2.cmml">α</mi><mi id="S3.Ex2.m1.6.6.2.2.3.3.2.2.3.3" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.3.3.cmml">n</mi></msub></mrow></msqrt><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.6.6.2.2.3.3.1" xref="S3.Ex2.m1.6.6.2.2.3.3.1.cmml">​</mo><mi id="S3.Ex2.m1.6.6.2.2.3.3.3" xref="S3.Ex2.m1.6.6.2.2.3.3.3.cmml">ϵ</mi></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.6b"><apply id="S3.Ex2.m1.6.6.3.cmml" xref="S3.Ex2.m1.6.6.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.3a.cmml" xref="S3.Ex2.m1.6.6.2.3">formulae-sequence</csymbol><apply id="S3.Ex2.m1.5.5.1.1.cmml" xref="S3.Ex2.m1.5.5.1.1"><eq id="S3.Ex2.m1.5.5.1.1.1.cmml" xref="S3.Ex2.m1.5.5.1.1.1"></eq><apply id="S3.Ex2.m1.5.5.1.1.2.cmml" xref="S3.Ex2.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.1.1.2.1.cmml" xref="S3.Ex2.m1.5.5.1.1.2">superscript</csymbol><apply id="S3.Ex2.m1.5.5.1.1.2.2.cmml" xref="S3.Ex2.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.1.1.2.2.1.cmml" xref="S3.Ex2.m1.5.5.1.1.2">subscript</csymbol><apply id="S3.Ex2.m1.5.5.1.1.2.2.2.cmml" xref="S3.Ex2.m1.5.5.1.1.2.2.2"><ci id="S3.Ex2.m1.5.5.1.1.2.2.2.1.cmml" xref="S3.Ex2.m1.5.5.1.1.2.2.2.1">¯</ci><ci id="S3.Ex2.m1.5.5.1.1.2.2.2.2.cmml" xref="S3.Ex2.m1.5.5.1.1.2.2.2.2">𝐳</ci></apply><list id="S3.Ex2.m1.2.2.2.3.cmml" xref="S3.Ex2.m1.2.2.2.4"><ci id="S3.Ex2.m1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1">𝑗</ci><ci id="S3.Ex2.m1.2.2.2.2.cmml" xref="S3.Ex2.m1.2.2.2.2">𝑙</ci></list></apply><ci id="S3.Ex2.m1.5.5.1.1.2.3.cmml" xref="S3.Ex2.m1.5.5.1.1.2.3">𝑘</ci></apply><apply id="S3.Ex2.m1.5.5.1.1.3.cmml" xref="S3.Ex2.m1.5.5.1.1.3"><plus id="S3.Ex2.m1.5.5.1.1.3.1.cmml" xref="S3.Ex2.m1.5.5.1.1.3.1"></plus><apply id="S3.Ex2.m1.5.5.1.1.3.2.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2"><times id="S3.Ex2.m1.5.5.1.1.3.2.1.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.1"></times><apply id="S3.Ex2.m1.5.5.1.1.3.2.2.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.2"><root id="S3.Ex2.m1.5.5.1.1.3.2.2a.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.2"></root><apply id="S3.Ex2.m1.5.5.1.1.3.2.2.2.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.1.1.3.2.2.2.1.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.2.2">subscript</csymbol><ci id="S3.Ex2.m1.5.5.1.1.3.2.2.2.2.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.2.2.2">𝛼</ci><ci id="S3.Ex2.m1.5.5.1.1.3.2.2.2.3.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.2.2.3">𝑛</ci></apply></apply><apply id="S3.Ex2.m1.5.5.1.1.3.2.3.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.1.1.3.2.3.1.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.3">superscript</csymbol><apply id="S3.Ex2.m1.5.5.1.1.3.2.3.2.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.1.1.3.2.3.2.1.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.3">subscript</csymbol><ci id="S3.Ex2.m1.5.5.1.1.3.2.3.2.2.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.3.2.2">𝐳</ci><list id="S3.Ex2.m1.4.4.2.3.cmml" xref="S3.Ex2.m1.4.4.2.4"><ci id="S3.Ex2.m1.3.3.1.1.cmml" xref="S3.Ex2.m1.3.3.1.1">𝑗</ci><ci id="S3.Ex2.m1.4.4.2.2.cmml" xref="S3.Ex2.m1.4.4.2.2">𝑙</ci></list></apply><ci id="S3.Ex2.m1.5.5.1.1.3.2.3.3.cmml" xref="S3.Ex2.m1.5.5.1.1.3.2.3.3">𝑘</ci></apply></apply><apply id="S3.Ex2.m1.5.5.1.1.3.3.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3"><times id="S3.Ex2.m1.5.5.1.1.3.3.1.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3.1"></times><apply id="S3.Ex2.m1.5.5.1.1.3.3.2.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3.2"><root id="S3.Ex2.m1.5.5.1.1.3.3.2a.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3.2"></root><apply id="S3.Ex2.m1.5.5.1.1.3.3.2.2.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2"><minus id="S3.Ex2.m1.5.5.1.1.3.3.2.2.1.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.1"></minus><cn type="integer" id="S3.Ex2.m1.5.5.1.1.3.3.2.2.2.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.2">1</cn><apply id="S3.Ex2.m1.5.5.1.1.3.3.2.2.3.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.1.1.3.3.2.2.3.1.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.3">subscript</csymbol><ci id="S3.Ex2.m1.5.5.1.1.3.3.2.2.3.2.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.3.2">𝛼</ci><ci id="S3.Ex2.m1.5.5.1.1.3.3.2.2.3.3.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3.2.2.3.3">𝑛</ci></apply></apply></apply><ci id="S3.Ex2.m1.5.5.1.1.3.3.3.cmml" xref="S3.Ex2.m1.5.5.1.1.3.3.3">italic-ϵ</ci></apply></apply></apply><apply id="S3.Ex2.m1.6.6.2.2.cmml" xref="S3.Ex2.m1.6.6.2.2"><eq id="S3.Ex2.m1.6.6.2.2.1.cmml" xref="S3.Ex2.m1.6.6.2.2.1"></eq><apply id="S3.Ex2.m1.6.6.2.2.2.cmml" xref="S3.Ex2.m1.6.6.2.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.2.2.1.cmml" xref="S3.Ex2.m1.6.6.2.2.2">superscript</csymbol><apply id="S3.Ex2.m1.6.6.2.2.2.2.cmml" xref="S3.Ex2.m1.6.6.2.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.2.2.2.1.cmml" xref="S3.Ex2.m1.6.6.2.2.2">subscript</csymbol><apply id="S3.Ex2.m1.6.6.2.2.2.2.2.cmml" xref="S3.Ex2.m1.6.6.2.2.2.2.2"><ci id="S3.Ex2.m1.6.6.2.2.2.2.2.1.cmml" xref="S3.Ex2.m1.6.6.2.2.2.2.2.1">¯</ci><ci id="S3.Ex2.m1.6.6.2.2.2.2.2.2.cmml" xref="S3.Ex2.m1.6.6.2.2.2.2.2.2">𝐠</ci></apply><ci id="S3.Ex2.m1.6.6.2.2.2.2.3.cmml" xref="S3.Ex2.m1.6.6.2.2.2.2.3">𝑗</ci></apply><ci id="S3.Ex2.m1.6.6.2.2.2.3.cmml" xref="S3.Ex2.m1.6.6.2.2.2.3">𝑘</ci></apply><apply id="S3.Ex2.m1.6.6.2.2.3.cmml" xref="S3.Ex2.m1.6.6.2.2.3"><plus id="S3.Ex2.m1.6.6.2.2.3.1.cmml" xref="S3.Ex2.m1.6.6.2.2.3.1"></plus><apply id="S3.Ex2.m1.6.6.2.2.3.2.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2"><times id="S3.Ex2.m1.6.6.2.2.3.2.1.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.1"></times><apply id="S3.Ex2.m1.6.6.2.2.3.2.2.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.2"><root id="S3.Ex2.m1.6.6.2.2.3.2.2a.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.2"></root><apply id="S3.Ex2.m1.6.6.2.2.3.2.2.2.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.2.3.2.2.2.1.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.2.2">subscript</csymbol><ci id="S3.Ex2.m1.6.6.2.2.3.2.2.2.2.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.2.2.2">𝛼</ci><ci id="S3.Ex2.m1.6.6.2.2.3.2.2.2.3.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.2.2.3">𝑛</ci></apply></apply><apply id="S3.Ex2.m1.6.6.2.2.3.2.3.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.2.3.2.3.1.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.3">superscript</csymbol><apply id="S3.Ex2.m1.6.6.2.2.3.2.3.2.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.2.3.2.3.2.1.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.3">subscript</csymbol><ci id="S3.Ex2.m1.6.6.2.2.3.2.3.2.2.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.3.2.2">𝐠</ci><ci id="S3.Ex2.m1.6.6.2.2.3.2.3.2.3.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.3.2.3">𝑗</ci></apply><ci id="S3.Ex2.m1.6.6.2.2.3.2.3.3.cmml" xref="S3.Ex2.m1.6.6.2.2.3.2.3.3">𝑘</ci></apply></apply><apply id="S3.Ex2.m1.6.6.2.2.3.3.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3"><times id="S3.Ex2.m1.6.6.2.2.3.3.1.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3.1"></times><apply id="S3.Ex2.m1.6.6.2.2.3.3.2.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3.2"><root id="S3.Ex2.m1.6.6.2.2.3.3.2a.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3.2"></root><apply id="S3.Ex2.m1.6.6.2.2.3.3.2.2.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2"><minus id="S3.Ex2.m1.6.6.2.2.3.3.2.2.1.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.1"></minus><cn type="integer" id="S3.Ex2.m1.6.6.2.2.3.3.2.2.2.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.2">1</cn><apply id="S3.Ex2.m1.6.6.2.2.3.3.2.2.3.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.2.3.3.2.2.3.1.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.3">subscript</csymbol><ci id="S3.Ex2.m1.6.6.2.2.3.3.2.2.3.2.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.3.2">𝛼</ci><ci id="S3.Ex2.m1.6.6.2.2.3.3.2.2.3.3.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3.2.2.3.3">𝑛</ci></apply></apply></apply><ci id="S3.Ex2.m1.6.6.2.2.3.3.3.cmml" xref="S3.Ex2.m1.6.6.2.2.3.3.3">italic-ϵ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.6c">\displaystyle\bar{\mathbf{z}}_{j,l}^{k}=\sqrt{\alpha_{n}}{\mathbf{z}}_{j,l}^{k}+\sqrt{1-\alpha_{n}}\epsilon,\bar{\mathbf{g}}_{j}^{k}=\sqrt{\alpha_{n}}{\mathbf{g}_{j}^{k}}+\sqrt{1-\alpha_{n}}\epsilon</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS2.p9.5" class="ltx_p">where <math id="S3.SS2.p9.1.m1.2" class="ltx_Math" alttext="\epsilon\sim\mathcal{N}(0,\mathcal{I})" display="inline"><semantics id="S3.SS2.p9.1.m1.2a"><mrow id="S3.SS2.p9.1.m1.2.3" xref="S3.SS2.p9.1.m1.2.3.cmml"><mi id="S3.SS2.p9.1.m1.2.3.2" xref="S3.SS2.p9.1.m1.2.3.2.cmml">ϵ</mi><mo id="S3.SS2.p9.1.m1.2.3.1" xref="S3.SS2.p9.1.m1.2.3.1.cmml">∼</mo><mrow id="S3.SS2.p9.1.m1.2.3.3" xref="S3.SS2.p9.1.m1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p9.1.m1.2.3.3.2" xref="S3.SS2.p9.1.m1.2.3.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p9.1.m1.2.3.3.1" xref="S3.SS2.p9.1.m1.2.3.3.1.cmml">​</mo><mrow id="S3.SS2.p9.1.m1.2.3.3.3.2" xref="S3.SS2.p9.1.m1.2.3.3.3.1.cmml"><mo stretchy="false" id="S3.SS2.p9.1.m1.2.3.3.3.2.1" xref="S3.SS2.p9.1.m1.2.3.3.3.1.cmml">(</mo><mn id="S3.SS2.p9.1.m1.1.1" xref="S3.SS2.p9.1.m1.1.1.cmml">0</mn><mo id="S3.SS2.p9.1.m1.2.3.3.3.2.2" xref="S3.SS2.p9.1.m1.2.3.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p9.1.m1.2.2" xref="S3.SS2.p9.1.m1.2.2.cmml">ℐ</mi><mo stretchy="false" id="S3.SS2.p9.1.m1.2.3.3.3.2.3" xref="S3.SS2.p9.1.m1.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.1.m1.2b"><apply id="S3.SS2.p9.1.m1.2.3.cmml" xref="S3.SS2.p9.1.m1.2.3"><csymbol cd="latexml" id="S3.SS2.p9.1.m1.2.3.1.cmml" xref="S3.SS2.p9.1.m1.2.3.1">similar-to</csymbol><ci id="S3.SS2.p9.1.m1.2.3.2.cmml" xref="S3.SS2.p9.1.m1.2.3.2">italic-ϵ</ci><apply id="S3.SS2.p9.1.m1.2.3.3.cmml" xref="S3.SS2.p9.1.m1.2.3.3"><times id="S3.SS2.p9.1.m1.2.3.3.1.cmml" xref="S3.SS2.p9.1.m1.2.3.3.1"></times><ci id="S3.SS2.p9.1.m1.2.3.3.2.cmml" xref="S3.SS2.p9.1.m1.2.3.3.2">𝒩</ci><interval closure="open" id="S3.SS2.p9.1.m1.2.3.3.3.1.cmml" xref="S3.SS2.p9.1.m1.2.3.3.3.2"><cn type="integer" id="S3.SS2.p9.1.m1.1.1.cmml" xref="S3.SS2.p9.1.m1.1.1">0</cn><ci id="S3.SS2.p9.1.m1.2.2.cmml" xref="S3.SS2.p9.1.m1.2.2">ℐ</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.1.m1.2c">\epsilon\sim\mathcal{N}(0,\mathcal{I})</annotation></semantics></math>, <math id="S3.SS2.p9.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS2.p9.2.m2.1a"><mi id="S3.SS2.p9.2.m2.1.1" xref="S3.SS2.p9.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.2.m2.1b"><ci id="S3.SS2.p9.2.m2.1.1.cmml" xref="S3.SS2.p9.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.2.m2.1c">n</annotation></semantics></math> is a hyperparameter controlling the intensity of the noise, and <math id="S3.SS2.p9.3.m3.3" class="ltx_Math" alttext="n\in\{0,\ldots,T\}" display="inline"><semantics id="S3.SS2.p9.3.m3.3a"><mrow id="S3.SS2.p9.3.m3.3.4" xref="S3.SS2.p9.3.m3.3.4.cmml"><mi id="S3.SS2.p9.3.m3.3.4.2" xref="S3.SS2.p9.3.m3.3.4.2.cmml">n</mi><mo id="S3.SS2.p9.3.m3.3.4.1" xref="S3.SS2.p9.3.m3.3.4.1.cmml">∈</mo><mrow id="S3.SS2.p9.3.m3.3.4.3.2" xref="S3.SS2.p9.3.m3.3.4.3.1.cmml"><mo stretchy="false" id="S3.SS2.p9.3.m3.3.4.3.2.1" xref="S3.SS2.p9.3.m3.3.4.3.1.cmml">{</mo><mn id="S3.SS2.p9.3.m3.1.1" xref="S3.SS2.p9.3.m3.1.1.cmml">0</mn><mo id="S3.SS2.p9.3.m3.3.4.3.2.2" xref="S3.SS2.p9.3.m3.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS2.p9.3.m3.2.2" xref="S3.SS2.p9.3.m3.2.2.cmml">…</mi><mo id="S3.SS2.p9.3.m3.3.4.3.2.3" xref="S3.SS2.p9.3.m3.3.4.3.1.cmml">,</mo><mi id="S3.SS2.p9.3.m3.3.3" xref="S3.SS2.p9.3.m3.3.3.cmml">T</mi><mo stretchy="false" id="S3.SS2.p9.3.m3.3.4.3.2.4" xref="S3.SS2.p9.3.m3.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.3.m3.3b"><apply id="S3.SS2.p9.3.m3.3.4.cmml" xref="S3.SS2.p9.3.m3.3.4"><in id="S3.SS2.p9.3.m3.3.4.1.cmml" xref="S3.SS2.p9.3.m3.3.4.1"></in><ci id="S3.SS2.p9.3.m3.3.4.2.cmml" xref="S3.SS2.p9.3.m3.3.4.2">𝑛</ci><set id="S3.SS2.p9.3.m3.3.4.3.1.cmml" xref="S3.SS2.p9.3.m3.3.4.3.2"><cn type="integer" id="S3.SS2.p9.3.m3.1.1.cmml" xref="S3.SS2.p9.3.m3.1.1">0</cn><ci id="S3.SS2.p9.3.m3.2.2.cmml" xref="S3.SS2.p9.3.m3.2.2">…</ci><ci id="S3.SS2.p9.3.m3.3.3.cmml" xref="S3.SS2.p9.3.m3.3.3">𝑇</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.3.m3.3c">n\in\{0,\ldots,T\}</annotation></semantics></math>. We follow the noise-adding process in Stable Diffusion <cite class="ltx_cite ltx_citemacro_citep">(Rombach et al. <a href="#bib.bib32" title="" class="ltx_ref">2022</a>)</cite> and perform a noise-adding process with a specific timestep to these image features. After this step, cluster centroids <math id="S3.SS2.p9.4.m4.7" class="ltx_Math" alttext="\{\bar{\mathbf{z}}_{j,l}^{k}\}_{l=1}^{L},j=\{1,\ldots,M\}" display="inline"><semantics id="S3.SS2.p9.4.m4.7a"><mrow id="S3.SS2.p9.4.m4.7.7" xref="S3.SS2.p9.4.m4.7.7.cmml"><mrow id="S3.SS2.p9.4.m4.7.7.1.1" xref="S3.SS2.p9.4.m4.7.7.1.2.cmml"><msubsup id="S3.SS2.p9.4.m4.7.7.1.1.1" xref="S3.SS2.p9.4.m4.7.7.1.1.1.cmml"><mrow id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.2" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.2.cmml">{</mo><msubsup id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2.2" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2.2.cmml">𝐳</mi><mo id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2.1" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2.1.cmml">¯</mo></mover><mrow id="S3.SS2.p9.4.m4.2.2.2.4" xref="S3.SS2.p9.4.m4.2.2.2.3.cmml"><mi id="S3.SS2.p9.4.m4.1.1.1.1" xref="S3.SS2.p9.4.m4.1.1.1.1.cmml">j</mi><mo id="S3.SS2.p9.4.m4.2.2.2.4.1" xref="S3.SS2.p9.4.m4.2.2.2.3.cmml">,</mo><mi id="S3.SS2.p9.4.m4.2.2.2.2" xref="S3.SS2.p9.4.m4.2.2.2.2.cmml">l</mi></mrow><mi id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.3" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.3" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p9.4.m4.7.7.1.1.1.1.3" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.cmml"><mi id="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.2" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.2.cmml">l</mi><mo id="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.1" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.3" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.p9.4.m4.7.7.1.1.1.3" xref="S3.SS2.p9.4.m4.7.7.1.1.1.3.cmml">L</mi></msubsup><mo id="S3.SS2.p9.4.m4.7.7.1.1.2" xref="S3.SS2.p9.4.m4.7.7.1.2.cmml">,</mo><mi id="S3.SS2.p9.4.m4.6.6" xref="S3.SS2.p9.4.m4.6.6.cmml">j</mi></mrow><mo id="S3.SS2.p9.4.m4.7.7.2" xref="S3.SS2.p9.4.m4.7.7.2.cmml">=</mo><mrow id="S3.SS2.p9.4.m4.7.7.3.2" xref="S3.SS2.p9.4.m4.7.7.3.1.cmml"><mo stretchy="false" id="S3.SS2.p9.4.m4.7.7.3.2.1" xref="S3.SS2.p9.4.m4.7.7.3.1.cmml">{</mo><mn id="S3.SS2.p9.4.m4.3.3" xref="S3.SS2.p9.4.m4.3.3.cmml">1</mn><mo id="S3.SS2.p9.4.m4.7.7.3.2.2" xref="S3.SS2.p9.4.m4.7.7.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS2.p9.4.m4.4.4" xref="S3.SS2.p9.4.m4.4.4.cmml">…</mi><mo id="S3.SS2.p9.4.m4.7.7.3.2.3" xref="S3.SS2.p9.4.m4.7.7.3.1.cmml">,</mo><mi id="S3.SS2.p9.4.m4.5.5" xref="S3.SS2.p9.4.m4.5.5.cmml">M</mi><mo stretchy="false" id="S3.SS2.p9.4.m4.7.7.3.2.4" xref="S3.SS2.p9.4.m4.7.7.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.4.m4.7b"><apply id="S3.SS2.p9.4.m4.7.7.cmml" xref="S3.SS2.p9.4.m4.7.7"><eq id="S3.SS2.p9.4.m4.7.7.2.cmml" xref="S3.SS2.p9.4.m4.7.7.2"></eq><list id="S3.SS2.p9.4.m4.7.7.1.2.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1"><apply id="S3.SS2.p9.4.m4.7.7.1.1.1.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.4.m4.7.7.1.1.1.2.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1">superscript</csymbol><apply id="S3.SS2.p9.4.m4.7.7.1.1.1.1.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.4.m4.7.7.1.1.1.1.2.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1">subscript</csymbol><set id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.2.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1"><apply id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2"><ci id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2.1">¯</ci><ci id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.2.2.2">𝐳</ci></apply><list id="S3.SS2.p9.4.m4.2.2.2.3.cmml" xref="S3.SS2.p9.4.m4.2.2.2.4"><ci id="S3.SS2.p9.4.m4.1.1.1.1.cmml" xref="S3.SS2.p9.4.m4.1.1.1.1">𝑗</ci><ci id="S3.SS2.p9.4.m4.2.2.2.2.cmml" xref="S3.SS2.p9.4.m4.2.2.2.2">𝑙</ci></list></apply><ci id="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.3"><eq id="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.1.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.1"></eq><ci id="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.2.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.2">𝑙</ci><cn type="integer" id="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.3.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS2.p9.4.m4.7.7.1.1.1.3.cmml" xref="S3.SS2.p9.4.m4.7.7.1.1.1.3">𝐿</ci></apply><ci id="S3.SS2.p9.4.m4.6.6.cmml" xref="S3.SS2.p9.4.m4.6.6">𝑗</ci></list><set id="S3.SS2.p9.4.m4.7.7.3.1.cmml" xref="S3.SS2.p9.4.m4.7.7.3.2"><cn type="integer" id="S3.SS2.p9.4.m4.3.3.cmml" xref="S3.SS2.p9.4.m4.3.3">1</cn><ci id="S3.SS2.p9.4.m4.4.4.cmml" xref="S3.SS2.p9.4.m4.4.4">…</ci><ci id="S3.SS2.p9.4.m4.5.5.cmml" xref="S3.SS2.p9.4.m4.5.5">𝑀</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.4.m4.7c">\{\bar{\mathbf{z}}_{j,l}^{k}\}_{l=1}^{L},j=\{1,\ldots,M\}</annotation></semantics></math> and domain-specific representations <math id="S3.SS2.p9.5.m5.1" class="ltx_Math" alttext="\{\bar{\mathbf{g}}_{j}^{k}\}_{j=1}^{M}" display="inline"><semantics id="S3.SS2.p9.5.m5.1a"><msubsup id="S3.SS2.p9.5.m5.1.1" xref="S3.SS2.p9.5.m5.1.1.cmml"><mrow id="S3.SS2.p9.5.m5.1.1.1.1.1" xref="S3.SS2.p9.5.m5.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p9.5.m5.1.1.1.1.1.2" xref="S3.SS2.p9.5.m5.1.1.1.1.2.cmml">{</mo><msubsup id="S3.SS2.p9.5.m5.1.1.1.1.1.1" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2.cmml"><mi id="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2.2" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2.2.cmml">𝐠</mi><mo id="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2.1" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2.1.cmml">¯</mo></mover><mi id="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.3" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.3.cmml">j</mi><mi id="S3.SS2.p9.5.m5.1.1.1.1.1.1.3" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.SS2.p9.5.m5.1.1.1.1.1.3" xref="S3.SS2.p9.5.m5.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p9.5.m5.1.1.1.3" xref="S3.SS2.p9.5.m5.1.1.1.3.cmml"><mi id="S3.SS2.p9.5.m5.1.1.1.3.2" xref="S3.SS2.p9.5.m5.1.1.1.3.2.cmml">j</mi><mo id="S3.SS2.p9.5.m5.1.1.1.3.1" xref="S3.SS2.p9.5.m5.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.p9.5.m5.1.1.1.3.3" xref="S3.SS2.p9.5.m5.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.p9.5.m5.1.1.3" xref="S3.SS2.p9.5.m5.1.1.3.cmml">M</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.5.m5.1b"><apply id="S3.SS2.p9.5.m5.1.1.cmml" xref="S3.SS2.p9.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.5.m5.1.1.2.cmml" xref="S3.SS2.p9.5.m5.1.1">superscript</csymbol><apply id="S3.SS2.p9.5.m5.1.1.1.cmml" xref="S3.SS2.p9.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.5.m5.1.1.1.2.cmml" xref="S3.SS2.p9.5.m5.1.1">subscript</csymbol><set id="S3.SS2.p9.5.m5.1.1.1.1.2.cmml" xref="S3.SS2.p9.5.m5.1.1.1.1.1"><apply id="S3.SS2.p9.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.5.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1">subscript</csymbol><apply id="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2"><ci id="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2.1">¯</ci><ci id="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.2.2">𝐠</ci></apply><ci id="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1.2.3">𝑗</ci></apply><ci id="S3.SS2.p9.5.m5.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p9.5.m5.1.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.SS2.p9.5.m5.1.1.1.3.cmml" xref="S3.SS2.p9.5.m5.1.1.1.3"><eq id="S3.SS2.p9.5.m5.1.1.1.3.1.cmml" xref="S3.SS2.p9.5.m5.1.1.1.3.1"></eq><ci id="S3.SS2.p9.5.m5.1.1.1.3.2.cmml" xref="S3.SS2.p9.5.m5.1.1.1.3.2">𝑗</ci><cn type="integer" id="S3.SS2.p9.5.m5.1.1.1.3.3.cmml" xref="S3.SS2.p9.5.m5.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS2.p9.5.m5.1.1.3.cmml" xref="S3.SS2.p9.5.m5.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.5.m5.1c">\{\bar{\mathbf{g}}_{j}^{k}\}_{j=1}^{M}</annotation></semantics></math> are uploaded to the server.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2305.04063/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_img_square" width="461" height="416" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>
Generated images comply with different distributions on different datasets.
</figcaption>
</figure>
<div id="S3.SS2.p10" class="ltx_para">
<p id="S3.SS2.p10.7" class="ltx_p"><span id="S3.SS2.p10.7.1" class="ltx_text ltx_font_bold">Image Generation.</span>
After receiving <math id="S3.SS2.p10.1.m1.2" class="ltx_Math" alttext="\bar{\mathbf{z}}_{j,l}^{k}" display="inline"><semantics id="S3.SS2.p10.1.m1.2a"><msubsup id="S3.SS2.p10.1.m1.2.3" xref="S3.SS2.p10.1.m1.2.3.cmml"><mover accent="true" id="S3.SS2.p10.1.m1.2.3.2.2" xref="S3.SS2.p10.1.m1.2.3.2.2.cmml"><mi id="S3.SS2.p10.1.m1.2.3.2.2.2" xref="S3.SS2.p10.1.m1.2.3.2.2.2.cmml">𝐳</mi><mo id="S3.SS2.p10.1.m1.2.3.2.2.1" xref="S3.SS2.p10.1.m1.2.3.2.2.1.cmml">¯</mo></mover><mrow id="S3.SS2.p10.1.m1.2.2.2.4" xref="S3.SS2.p10.1.m1.2.2.2.3.cmml"><mi id="S3.SS2.p10.1.m1.1.1.1.1" xref="S3.SS2.p10.1.m1.1.1.1.1.cmml">j</mi><mo id="S3.SS2.p10.1.m1.2.2.2.4.1" xref="S3.SS2.p10.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS2.p10.1.m1.2.2.2.2" xref="S3.SS2.p10.1.m1.2.2.2.2.cmml">l</mi></mrow><mi id="S3.SS2.p10.1.m1.2.3.3" xref="S3.SS2.p10.1.m1.2.3.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.1.m1.2b"><apply id="S3.SS2.p10.1.m1.2.3.cmml" xref="S3.SS2.p10.1.m1.2.3"><csymbol cd="ambiguous" id="S3.SS2.p10.1.m1.2.3.1.cmml" xref="S3.SS2.p10.1.m1.2.3">superscript</csymbol><apply id="S3.SS2.p10.1.m1.2.3.2.cmml" xref="S3.SS2.p10.1.m1.2.3"><csymbol cd="ambiguous" id="S3.SS2.p10.1.m1.2.3.2.1.cmml" xref="S3.SS2.p10.1.m1.2.3">subscript</csymbol><apply id="S3.SS2.p10.1.m1.2.3.2.2.cmml" xref="S3.SS2.p10.1.m1.2.3.2.2"><ci id="S3.SS2.p10.1.m1.2.3.2.2.1.cmml" xref="S3.SS2.p10.1.m1.2.3.2.2.1">¯</ci><ci id="S3.SS2.p10.1.m1.2.3.2.2.2.cmml" xref="S3.SS2.p10.1.m1.2.3.2.2.2">𝐳</ci></apply><list id="S3.SS2.p10.1.m1.2.2.2.3.cmml" xref="S3.SS2.p10.1.m1.2.2.2.4"><ci id="S3.SS2.p10.1.m1.1.1.1.1.cmml" xref="S3.SS2.p10.1.m1.1.1.1.1">𝑗</ci><ci id="S3.SS2.p10.1.m1.2.2.2.2.cmml" xref="S3.SS2.p10.1.m1.2.2.2.2">𝑙</ci></list></apply><ci id="S3.SS2.p10.1.m1.2.3.3.cmml" xref="S3.SS2.p10.1.m1.2.3.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.1.m1.2c">\bar{\mathbf{z}}_{j,l}^{k}</annotation></semantics></math> and <math id="S3.SS2.p10.2.m2.1" class="ltx_Math" alttext="\bar{\mathbf{g}}_{j}^{k}" display="inline"><semantics id="S3.SS2.p10.2.m2.1a"><msubsup id="S3.SS2.p10.2.m2.1.1" xref="S3.SS2.p10.2.m2.1.1.cmml"><mover accent="true" id="S3.SS2.p10.2.m2.1.1.2.2" xref="S3.SS2.p10.2.m2.1.1.2.2.cmml"><mi id="S3.SS2.p10.2.m2.1.1.2.2.2" xref="S3.SS2.p10.2.m2.1.1.2.2.2.cmml">𝐠</mi><mo id="S3.SS2.p10.2.m2.1.1.2.2.1" xref="S3.SS2.p10.2.m2.1.1.2.2.1.cmml">¯</mo></mover><mi id="S3.SS2.p10.2.m2.1.1.2.3" xref="S3.SS2.p10.2.m2.1.1.2.3.cmml">j</mi><mi id="S3.SS2.p10.2.m2.1.1.3" xref="S3.SS2.p10.2.m2.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.2.m2.1b"><apply id="S3.SS2.p10.2.m2.1.1.cmml" xref="S3.SS2.p10.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p10.2.m2.1.1.1.cmml" xref="S3.SS2.p10.2.m2.1.1">superscript</csymbol><apply id="S3.SS2.p10.2.m2.1.1.2.cmml" xref="S3.SS2.p10.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p10.2.m2.1.1.2.1.cmml" xref="S3.SS2.p10.2.m2.1.1">subscript</csymbol><apply id="S3.SS2.p10.2.m2.1.1.2.2.cmml" xref="S3.SS2.p10.2.m2.1.1.2.2"><ci id="S3.SS2.p10.2.m2.1.1.2.2.1.cmml" xref="S3.SS2.p10.2.m2.1.1.2.2.1">¯</ci><ci id="S3.SS2.p10.2.m2.1.1.2.2.2.cmml" xref="S3.SS2.p10.2.m2.1.1.2.2.2">𝐠</ci></apply><ci id="S3.SS2.p10.2.m2.1.1.2.3.cmml" xref="S3.SS2.p10.2.m2.1.1.2.3">𝑗</ci></apply><ci id="S3.SS2.p10.2.m2.1.1.3.cmml" xref="S3.SS2.p10.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.2.m2.1c">\bar{\mathbf{g}}_{j}^{k}</annotation></semantics></math> uploaded from the clients, for each cluster centroid <math id="S3.SS2.p10.3.m3.2" class="ltx_Math" alttext="\bar{\mathbf{z}}_{j,l}^{k}" display="inline"><semantics id="S3.SS2.p10.3.m3.2a"><msubsup id="S3.SS2.p10.3.m3.2.3" xref="S3.SS2.p10.3.m3.2.3.cmml"><mover accent="true" id="S3.SS2.p10.3.m3.2.3.2.2" xref="S3.SS2.p10.3.m3.2.3.2.2.cmml"><mi id="S3.SS2.p10.3.m3.2.3.2.2.2" xref="S3.SS2.p10.3.m3.2.3.2.2.2.cmml">𝐳</mi><mo id="S3.SS2.p10.3.m3.2.3.2.2.1" xref="S3.SS2.p10.3.m3.2.3.2.2.1.cmml">¯</mo></mover><mrow id="S3.SS2.p10.3.m3.2.2.2.4" xref="S3.SS2.p10.3.m3.2.2.2.3.cmml"><mi id="S3.SS2.p10.3.m3.1.1.1.1" xref="S3.SS2.p10.3.m3.1.1.1.1.cmml">j</mi><mo id="S3.SS2.p10.3.m3.2.2.2.4.1" xref="S3.SS2.p10.3.m3.2.2.2.3.cmml">,</mo><mi id="S3.SS2.p10.3.m3.2.2.2.2" xref="S3.SS2.p10.3.m3.2.2.2.2.cmml">l</mi></mrow><mi id="S3.SS2.p10.3.m3.2.3.3" xref="S3.SS2.p10.3.m3.2.3.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.3.m3.2b"><apply id="S3.SS2.p10.3.m3.2.3.cmml" xref="S3.SS2.p10.3.m3.2.3"><csymbol cd="ambiguous" id="S3.SS2.p10.3.m3.2.3.1.cmml" xref="S3.SS2.p10.3.m3.2.3">superscript</csymbol><apply id="S3.SS2.p10.3.m3.2.3.2.cmml" xref="S3.SS2.p10.3.m3.2.3"><csymbol cd="ambiguous" id="S3.SS2.p10.3.m3.2.3.2.1.cmml" xref="S3.SS2.p10.3.m3.2.3">subscript</csymbol><apply id="S3.SS2.p10.3.m3.2.3.2.2.cmml" xref="S3.SS2.p10.3.m3.2.3.2.2"><ci id="S3.SS2.p10.3.m3.2.3.2.2.1.cmml" xref="S3.SS2.p10.3.m3.2.3.2.2.1">¯</ci><ci id="S3.SS2.p10.3.m3.2.3.2.2.2.cmml" xref="S3.SS2.p10.3.m3.2.3.2.2.2">𝐳</ci></apply><list id="S3.SS2.p10.3.m3.2.2.2.3.cmml" xref="S3.SS2.p10.3.m3.2.2.2.4"><ci id="S3.SS2.p10.3.m3.1.1.1.1.cmml" xref="S3.SS2.p10.3.m3.1.1.1.1">𝑗</ci><ci id="S3.SS2.p10.3.m3.2.2.2.2.cmml" xref="S3.SS2.p10.3.m3.2.2.2.2">𝑙</ci></list></apply><ci id="S3.SS2.p10.3.m3.2.3.3.cmml" xref="S3.SS2.p10.3.m3.2.3.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.3.m3.2c">\bar{\mathbf{z}}_{j,l}^{k}</annotation></semantics></math>, the server will randomly combine <math id="S3.SS2.p10.4.m4.2" class="ltx_Math" alttext="\bar{\mathbf{z}}_{j,l}^{k}" display="inline"><semantics id="S3.SS2.p10.4.m4.2a"><msubsup id="S3.SS2.p10.4.m4.2.3" xref="S3.SS2.p10.4.m4.2.3.cmml"><mover accent="true" id="S3.SS2.p10.4.m4.2.3.2.2" xref="S3.SS2.p10.4.m4.2.3.2.2.cmml"><mi id="S3.SS2.p10.4.m4.2.3.2.2.2" xref="S3.SS2.p10.4.m4.2.3.2.2.2.cmml">𝐳</mi><mo id="S3.SS2.p10.4.m4.2.3.2.2.1" xref="S3.SS2.p10.4.m4.2.3.2.2.1.cmml">¯</mo></mover><mrow id="S3.SS2.p10.4.m4.2.2.2.4" xref="S3.SS2.p10.4.m4.2.2.2.3.cmml"><mi id="S3.SS2.p10.4.m4.1.1.1.1" xref="S3.SS2.p10.4.m4.1.1.1.1.cmml">j</mi><mo id="S3.SS2.p10.4.m4.2.2.2.4.1" xref="S3.SS2.p10.4.m4.2.2.2.3.cmml">,</mo><mi id="S3.SS2.p10.4.m4.2.2.2.2" xref="S3.SS2.p10.4.m4.2.2.2.2.cmml">l</mi></mrow><mi id="S3.SS2.p10.4.m4.2.3.3" xref="S3.SS2.p10.4.m4.2.3.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.4.m4.2b"><apply id="S3.SS2.p10.4.m4.2.3.cmml" xref="S3.SS2.p10.4.m4.2.3"><csymbol cd="ambiguous" id="S3.SS2.p10.4.m4.2.3.1.cmml" xref="S3.SS2.p10.4.m4.2.3">superscript</csymbol><apply id="S3.SS2.p10.4.m4.2.3.2.cmml" xref="S3.SS2.p10.4.m4.2.3"><csymbol cd="ambiguous" id="S3.SS2.p10.4.m4.2.3.2.1.cmml" xref="S3.SS2.p10.4.m4.2.3">subscript</csymbol><apply id="S3.SS2.p10.4.m4.2.3.2.2.cmml" xref="S3.SS2.p10.4.m4.2.3.2.2"><ci id="S3.SS2.p10.4.m4.2.3.2.2.1.cmml" xref="S3.SS2.p10.4.m4.2.3.2.2.1">¯</ci><ci id="S3.SS2.p10.4.m4.2.3.2.2.2.cmml" xref="S3.SS2.p10.4.m4.2.3.2.2.2">𝐳</ci></apply><list id="S3.SS2.p10.4.m4.2.2.2.3.cmml" xref="S3.SS2.p10.4.m4.2.2.2.4"><ci id="S3.SS2.p10.4.m4.1.1.1.1.cmml" xref="S3.SS2.p10.4.m4.1.1.1.1">𝑗</ci><ci id="S3.SS2.p10.4.m4.2.2.2.2.cmml" xref="S3.SS2.p10.4.m4.2.2.2.2">𝑙</ci></list></apply><ci id="S3.SS2.p10.4.m4.2.3.3.cmml" xref="S3.SS2.p10.4.m4.2.3.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.4.m4.2c">\bar{\mathbf{z}}_{j,l}^{k}</annotation></semantics></math> with the domain-specific representations which have the same pseudo-label <math id="S3.SS2.p10.5.m5.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S3.SS2.p10.5.m5.1a"><mi id="S3.SS2.p10.5.m5.1.1" xref="S3.SS2.p10.5.m5.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.5.m5.1b"><ci id="S3.SS2.p10.5.m5.1.1.cmml" xref="S3.SS2.p10.5.m5.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.5.m5.1c">j</annotation></semantics></math>, the selected domain-specific representations <math id="S3.SS2.p10.6.m6.5" class="ltx_Math" alttext="G_{j,l}^{k}=\{\bar{\mathbf{g}}_{j}^{k_{0}},\ldots,\bar{\mathbf{g}}_{j}^{k_{R}}\}" display="inline"><semantics id="S3.SS2.p10.6.m6.5a"><mrow id="S3.SS2.p10.6.m6.5.5" xref="S3.SS2.p10.6.m6.5.5.cmml"><msubsup id="S3.SS2.p10.6.m6.5.5.4" xref="S3.SS2.p10.6.m6.5.5.4.cmml"><mi id="S3.SS2.p10.6.m6.5.5.4.2.2" xref="S3.SS2.p10.6.m6.5.5.4.2.2.cmml">G</mi><mrow id="S3.SS2.p10.6.m6.2.2.2.4" xref="S3.SS2.p10.6.m6.2.2.2.3.cmml"><mi id="S3.SS2.p10.6.m6.1.1.1.1" xref="S3.SS2.p10.6.m6.1.1.1.1.cmml">j</mi><mo id="S3.SS2.p10.6.m6.2.2.2.4.1" xref="S3.SS2.p10.6.m6.2.2.2.3.cmml">,</mo><mi id="S3.SS2.p10.6.m6.2.2.2.2" xref="S3.SS2.p10.6.m6.2.2.2.2.cmml">l</mi></mrow><mi id="S3.SS2.p10.6.m6.5.5.4.3" xref="S3.SS2.p10.6.m6.5.5.4.3.cmml">k</mi></msubsup><mo id="S3.SS2.p10.6.m6.5.5.3" xref="S3.SS2.p10.6.m6.5.5.3.cmml">=</mo><mrow id="S3.SS2.p10.6.m6.5.5.2.2" xref="S3.SS2.p10.6.m6.5.5.2.3.cmml"><mo stretchy="false" id="S3.SS2.p10.6.m6.5.5.2.2.3" xref="S3.SS2.p10.6.m6.5.5.2.3.cmml">{</mo><msubsup id="S3.SS2.p10.6.m6.4.4.1.1.1" xref="S3.SS2.p10.6.m6.4.4.1.1.1.cmml"><mover accent="true" id="S3.SS2.p10.6.m6.4.4.1.1.1.2.2" xref="S3.SS2.p10.6.m6.4.4.1.1.1.2.2.cmml"><mi id="S3.SS2.p10.6.m6.4.4.1.1.1.2.2.2" xref="S3.SS2.p10.6.m6.4.4.1.1.1.2.2.2.cmml">𝐠</mi><mo id="S3.SS2.p10.6.m6.4.4.1.1.1.2.2.1" xref="S3.SS2.p10.6.m6.4.4.1.1.1.2.2.1.cmml">¯</mo></mover><mi id="S3.SS2.p10.6.m6.4.4.1.1.1.2.3" xref="S3.SS2.p10.6.m6.4.4.1.1.1.2.3.cmml">j</mi><msub id="S3.SS2.p10.6.m6.4.4.1.1.1.3" xref="S3.SS2.p10.6.m6.4.4.1.1.1.3.cmml"><mi id="S3.SS2.p10.6.m6.4.4.1.1.1.3.2" xref="S3.SS2.p10.6.m6.4.4.1.1.1.3.2.cmml">k</mi><mn id="S3.SS2.p10.6.m6.4.4.1.1.1.3.3" xref="S3.SS2.p10.6.m6.4.4.1.1.1.3.3.cmml">0</mn></msub></msubsup><mo id="S3.SS2.p10.6.m6.5.5.2.2.4" xref="S3.SS2.p10.6.m6.5.5.2.3.cmml">,</mo><mi mathvariant="normal" id="S3.SS2.p10.6.m6.3.3" xref="S3.SS2.p10.6.m6.3.3.cmml">…</mi><mo id="S3.SS2.p10.6.m6.5.5.2.2.5" xref="S3.SS2.p10.6.m6.5.5.2.3.cmml">,</mo><msubsup id="S3.SS2.p10.6.m6.5.5.2.2.2" xref="S3.SS2.p10.6.m6.5.5.2.2.2.cmml"><mover accent="true" id="S3.SS2.p10.6.m6.5.5.2.2.2.2.2" xref="S3.SS2.p10.6.m6.5.5.2.2.2.2.2.cmml"><mi id="S3.SS2.p10.6.m6.5.5.2.2.2.2.2.2" xref="S3.SS2.p10.6.m6.5.5.2.2.2.2.2.2.cmml">𝐠</mi><mo id="S3.SS2.p10.6.m6.5.5.2.2.2.2.2.1" xref="S3.SS2.p10.6.m6.5.5.2.2.2.2.2.1.cmml">¯</mo></mover><mi id="S3.SS2.p10.6.m6.5.5.2.2.2.2.3" xref="S3.SS2.p10.6.m6.5.5.2.2.2.2.3.cmml">j</mi><msub id="S3.SS2.p10.6.m6.5.5.2.2.2.3" xref="S3.SS2.p10.6.m6.5.5.2.2.2.3.cmml"><mi id="S3.SS2.p10.6.m6.5.5.2.2.2.3.2" xref="S3.SS2.p10.6.m6.5.5.2.2.2.3.2.cmml">k</mi><mi id="S3.SS2.p10.6.m6.5.5.2.2.2.3.3" xref="S3.SS2.p10.6.m6.5.5.2.2.2.3.3.cmml">R</mi></msub></msubsup><mo stretchy="false" id="S3.SS2.p10.6.m6.5.5.2.2.6" xref="S3.SS2.p10.6.m6.5.5.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.6.m6.5b"><apply id="S3.SS2.p10.6.m6.5.5.cmml" xref="S3.SS2.p10.6.m6.5.5"><eq id="S3.SS2.p10.6.m6.5.5.3.cmml" xref="S3.SS2.p10.6.m6.5.5.3"></eq><apply id="S3.SS2.p10.6.m6.5.5.4.cmml" xref="S3.SS2.p10.6.m6.5.5.4"><csymbol cd="ambiguous" id="S3.SS2.p10.6.m6.5.5.4.1.cmml" xref="S3.SS2.p10.6.m6.5.5.4">superscript</csymbol><apply id="S3.SS2.p10.6.m6.5.5.4.2.cmml" xref="S3.SS2.p10.6.m6.5.5.4"><csymbol cd="ambiguous" id="S3.SS2.p10.6.m6.5.5.4.2.1.cmml" xref="S3.SS2.p10.6.m6.5.5.4">subscript</csymbol><ci id="S3.SS2.p10.6.m6.5.5.4.2.2.cmml" xref="S3.SS2.p10.6.m6.5.5.4.2.2">𝐺</ci><list id="S3.SS2.p10.6.m6.2.2.2.3.cmml" xref="S3.SS2.p10.6.m6.2.2.2.4"><ci id="S3.SS2.p10.6.m6.1.1.1.1.cmml" xref="S3.SS2.p10.6.m6.1.1.1.1">𝑗</ci><ci id="S3.SS2.p10.6.m6.2.2.2.2.cmml" xref="S3.SS2.p10.6.m6.2.2.2.2">𝑙</ci></list></apply><ci id="S3.SS2.p10.6.m6.5.5.4.3.cmml" xref="S3.SS2.p10.6.m6.5.5.4.3">𝑘</ci></apply><set id="S3.SS2.p10.6.m6.5.5.2.3.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2"><apply id="S3.SS2.p10.6.m6.4.4.1.1.1.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p10.6.m6.4.4.1.1.1.1.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1">superscript</csymbol><apply id="S3.SS2.p10.6.m6.4.4.1.1.1.2.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p10.6.m6.4.4.1.1.1.2.1.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1">subscript</csymbol><apply id="S3.SS2.p10.6.m6.4.4.1.1.1.2.2.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1.2.2"><ci id="S3.SS2.p10.6.m6.4.4.1.1.1.2.2.1.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1.2.2.1">¯</ci><ci id="S3.SS2.p10.6.m6.4.4.1.1.1.2.2.2.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1.2.2.2">𝐠</ci></apply><ci id="S3.SS2.p10.6.m6.4.4.1.1.1.2.3.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1.2.3">𝑗</ci></apply><apply id="S3.SS2.p10.6.m6.4.4.1.1.1.3.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p10.6.m6.4.4.1.1.1.3.1.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p10.6.m6.4.4.1.1.1.3.2.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1.3.2">𝑘</ci><cn type="integer" id="S3.SS2.p10.6.m6.4.4.1.1.1.3.3.cmml" xref="S3.SS2.p10.6.m6.4.4.1.1.1.3.3">0</cn></apply></apply><ci id="S3.SS2.p10.6.m6.3.3.cmml" xref="S3.SS2.p10.6.m6.3.3">…</ci><apply id="S3.SS2.p10.6.m6.5.5.2.2.2.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p10.6.m6.5.5.2.2.2.1.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2">superscript</csymbol><apply id="S3.SS2.p10.6.m6.5.5.2.2.2.2.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p10.6.m6.5.5.2.2.2.2.1.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2">subscript</csymbol><apply id="S3.SS2.p10.6.m6.5.5.2.2.2.2.2.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2.2.2"><ci id="S3.SS2.p10.6.m6.5.5.2.2.2.2.2.1.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2.2.2.1">¯</ci><ci id="S3.SS2.p10.6.m6.5.5.2.2.2.2.2.2.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2.2.2.2">𝐠</ci></apply><ci id="S3.SS2.p10.6.m6.5.5.2.2.2.2.3.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2.2.3">𝑗</ci></apply><apply id="S3.SS2.p10.6.m6.5.5.2.2.2.3.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p10.6.m6.5.5.2.2.2.3.1.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2.3">subscript</csymbol><ci id="S3.SS2.p10.6.m6.5.5.2.2.2.3.2.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2.3.2">𝑘</ci><ci id="S3.SS2.p10.6.m6.5.5.2.2.2.3.3.cmml" xref="S3.SS2.p10.6.m6.5.5.2.2.2.3.3">𝑅</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.6.m6.5c">G_{j,l}^{k}=\{\bar{\mathbf{g}}_{j}^{k_{0}},\ldots,\bar{\mathbf{g}}_{j}^{k_{R}}\}</annotation></semantics></math> is a random subset of domain-specific representations <math id="S3.SS2.p10.7.m7.1" class="ltx_Math" alttext="\{\bar{\mathbf{g}}_{j}^{k}\}_{j=1}^{M}" display="inline"><semantics id="S3.SS2.p10.7.m7.1a"><msubsup id="S3.SS2.p10.7.m7.1.1" xref="S3.SS2.p10.7.m7.1.1.cmml"><mrow id="S3.SS2.p10.7.m7.1.1.1.1.1" xref="S3.SS2.p10.7.m7.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p10.7.m7.1.1.1.1.1.2" xref="S3.SS2.p10.7.m7.1.1.1.1.2.cmml">{</mo><msubsup id="S3.SS2.p10.7.m7.1.1.1.1.1.1" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2.cmml"><mi id="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2.2" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2.2.cmml">𝐠</mi><mo id="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2.1" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2.1.cmml">¯</mo></mover><mi id="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.3" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.3.cmml">j</mi><mi id="S3.SS2.p10.7.m7.1.1.1.1.1.1.3" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo stretchy="false" id="S3.SS2.p10.7.m7.1.1.1.1.1.3" xref="S3.SS2.p10.7.m7.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p10.7.m7.1.1.1.3" xref="S3.SS2.p10.7.m7.1.1.1.3.cmml"><mi id="S3.SS2.p10.7.m7.1.1.1.3.2" xref="S3.SS2.p10.7.m7.1.1.1.3.2.cmml">j</mi><mo id="S3.SS2.p10.7.m7.1.1.1.3.1" xref="S3.SS2.p10.7.m7.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.p10.7.m7.1.1.1.3.3" xref="S3.SS2.p10.7.m7.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.p10.7.m7.1.1.3" xref="S3.SS2.p10.7.m7.1.1.3.cmml">M</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p10.7.m7.1b"><apply id="S3.SS2.p10.7.m7.1.1.cmml" xref="S3.SS2.p10.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p10.7.m7.1.1.2.cmml" xref="S3.SS2.p10.7.m7.1.1">superscript</csymbol><apply id="S3.SS2.p10.7.m7.1.1.1.cmml" xref="S3.SS2.p10.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p10.7.m7.1.1.1.2.cmml" xref="S3.SS2.p10.7.m7.1.1">subscript</csymbol><set id="S3.SS2.p10.7.m7.1.1.1.1.2.cmml" xref="S3.SS2.p10.7.m7.1.1.1.1.1"><apply id="S3.SS2.p10.7.m7.1.1.1.1.1.1.cmml" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p10.7.m7.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1">subscript</csymbol><apply id="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2"><ci id="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2.1">¯</ci><ci id="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.2.2">𝐠</ci></apply><ci id="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1.2.3">𝑗</ci></apply><ci id="S3.SS2.p10.7.m7.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p10.7.m7.1.1.1.1.1.1.3">𝑘</ci></apply></set><apply id="S3.SS2.p10.7.m7.1.1.1.3.cmml" xref="S3.SS2.p10.7.m7.1.1.1.3"><eq id="S3.SS2.p10.7.m7.1.1.1.3.1.cmml" xref="S3.SS2.p10.7.m7.1.1.1.3.1"></eq><ci id="S3.SS2.p10.7.m7.1.1.1.3.2.cmml" xref="S3.SS2.p10.7.m7.1.1.1.3.2">𝑗</ci><cn type="integer" id="S3.SS2.p10.7.m7.1.1.1.3.3.cmml" xref="S3.SS2.p10.7.m7.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS2.p10.7.m7.1.1.3.cmml" xref="S3.SS2.p10.7.m7.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p10.7.m7.1c">\{\bar{\mathbf{g}}_{j}^{k}\}_{j=1}^{M}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.p11" class="ltx_para">
<p id="S3.SS2.p11.3" class="ltx_p">As for the generating process, following  <cite class="ltx_cite ltx_citemacro_citep">(Liu et al. <a href="#bib.bib23" title="" class="ltx_ref">2022</a>)</cite>, since we aim to use the cluster centroids <math id="S3.SS2.p11.1.m1.2" class="ltx_Math" alttext="\bar{\mathbf{z}}_{j,l}^{k}" display="inline"><semantics id="S3.SS2.p11.1.m1.2a"><msubsup id="S3.SS2.p11.1.m1.2.3" xref="S3.SS2.p11.1.m1.2.3.cmml"><mover accent="true" id="S3.SS2.p11.1.m1.2.3.2.2" xref="S3.SS2.p11.1.m1.2.3.2.2.cmml"><mi id="S3.SS2.p11.1.m1.2.3.2.2.2" xref="S3.SS2.p11.1.m1.2.3.2.2.2.cmml">𝐳</mi><mo id="S3.SS2.p11.1.m1.2.3.2.2.1" xref="S3.SS2.p11.1.m1.2.3.2.2.1.cmml">¯</mo></mover><mrow id="S3.SS2.p11.1.m1.2.2.2.4" xref="S3.SS2.p11.1.m1.2.2.2.3.cmml"><mi id="S3.SS2.p11.1.m1.1.1.1.1" xref="S3.SS2.p11.1.m1.1.1.1.1.cmml">j</mi><mo id="S3.SS2.p11.1.m1.2.2.2.4.1" xref="S3.SS2.p11.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS2.p11.1.m1.2.2.2.2" xref="S3.SS2.p11.1.m1.2.2.2.2.cmml">l</mi></mrow><mi id="S3.SS2.p11.1.m1.2.3.3" xref="S3.SS2.p11.1.m1.2.3.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p11.1.m1.2b"><apply id="S3.SS2.p11.1.m1.2.3.cmml" xref="S3.SS2.p11.1.m1.2.3"><csymbol cd="ambiguous" id="S3.SS2.p11.1.m1.2.3.1.cmml" xref="S3.SS2.p11.1.m1.2.3">superscript</csymbol><apply id="S3.SS2.p11.1.m1.2.3.2.cmml" xref="S3.SS2.p11.1.m1.2.3"><csymbol cd="ambiguous" id="S3.SS2.p11.1.m1.2.3.2.1.cmml" xref="S3.SS2.p11.1.m1.2.3">subscript</csymbol><apply id="S3.SS2.p11.1.m1.2.3.2.2.cmml" xref="S3.SS2.p11.1.m1.2.3.2.2"><ci id="S3.SS2.p11.1.m1.2.3.2.2.1.cmml" xref="S3.SS2.p11.1.m1.2.3.2.2.1">¯</ci><ci id="S3.SS2.p11.1.m1.2.3.2.2.2.cmml" xref="S3.SS2.p11.1.m1.2.3.2.2.2">𝐳</ci></apply><list id="S3.SS2.p11.1.m1.2.2.2.3.cmml" xref="S3.SS2.p11.1.m1.2.2.2.4"><ci id="S3.SS2.p11.1.m1.1.1.1.1.cmml" xref="S3.SS2.p11.1.m1.1.1.1.1">𝑗</ci><ci id="S3.SS2.p11.1.m1.2.2.2.2.cmml" xref="S3.SS2.p11.1.m1.2.2.2.2">𝑙</ci></list></apply><ci id="S3.SS2.p11.1.m1.2.3.3.cmml" xref="S3.SS2.p11.1.m1.2.3.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p11.1.m1.2c">\bar{\mathbf{z}}_{j,l}^{k}</annotation></semantics></math>, domain-specific representations <math id="S3.SS2.p11.2.m2.1" class="ltx_Math" alttext="\bar{\mathbf{g}}_{j}^{k_{i}}" display="inline"><semantics id="S3.SS2.p11.2.m2.1a"><msubsup id="S3.SS2.p11.2.m2.1.1" xref="S3.SS2.p11.2.m2.1.1.cmml"><mover accent="true" id="S3.SS2.p11.2.m2.1.1.2.2" xref="S3.SS2.p11.2.m2.1.1.2.2.cmml"><mi id="S3.SS2.p11.2.m2.1.1.2.2.2" xref="S3.SS2.p11.2.m2.1.1.2.2.2.cmml">𝐠</mi><mo id="S3.SS2.p11.2.m2.1.1.2.2.1" xref="S3.SS2.p11.2.m2.1.1.2.2.1.cmml">¯</mo></mover><mi id="S3.SS2.p11.2.m2.1.1.2.3" xref="S3.SS2.p11.2.m2.1.1.2.3.cmml">j</mi><msub id="S3.SS2.p11.2.m2.1.1.3" xref="S3.SS2.p11.2.m2.1.1.3.cmml"><mi id="S3.SS2.p11.2.m2.1.1.3.2" xref="S3.SS2.p11.2.m2.1.1.3.2.cmml">k</mi><mi id="S3.SS2.p11.2.m2.1.1.3.3" xref="S3.SS2.p11.2.m2.1.1.3.3.cmml">i</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p11.2.m2.1b"><apply id="S3.SS2.p11.2.m2.1.1.cmml" xref="S3.SS2.p11.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p11.2.m2.1.1.1.cmml" xref="S3.SS2.p11.2.m2.1.1">superscript</csymbol><apply id="S3.SS2.p11.2.m2.1.1.2.cmml" xref="S3.SS2.p11.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p11.2.m2.1.1.2.1.cmml" xref="S3.SS2.p11.2.m2.1.1">subscript</csymbol><apply id="S3.SS2.p11.2.m2.1.1.2.2.cmml" xref="S3.SS2.p11.2.m2.1.1.2.2"><ci id="S3.SS2.p11.2.m2.1.1.2.2.1.cmml" xref="S3.SS2.p11.2.m2.1.1.2.2.1">¯</ci><ci id="S3.SS2.p11.2.m2.1.1.2.2.2.cmml" xref="S3.SS2.p11.2.m2.1.1.2.2.2">𝐠</ci></apply><ci id="S3.SS2.p11.2.m2.1.1.2.3.cmml" xref="S3.SS2.p11.2.m2.1.1.2.3">𝑗</ci></apply><apply id="S3.SS2.p11.2.m2.1.1.3.cmml" xref="S3.SS2.p11.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p11.2.m2.1.1.3.1.cmml" xref="S3.SS2.p11.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS2.p11.2.m2.1.1.3.2.cmml" xref="S3.SS2.p11.2.m2.1.1.3.2">𝑘</ci><ci id="S3.SS2.p11.2.m2.1.1.3.3.cmml" xref="S3.SS2.p11.2.m2.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p11.2.m2.1c">\bar{\mathbf{g}}_{j}^{k_{i}}</annotation></semantics></math>, and the text prompts <math id="S3.SS2.p11.3.m3.1" class="ltx_Math" alttext="\mathcal{C}_{j}" display="inline"><semantics id="S3.SS2.p11.3.m3.1a"><msub id="S3.SS2.p11.3.m3.1.1" xref="S3.SS2.p11.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p11.3.m3.1.1.2" xref="S3.SS2.p11.3.m3.1.1.2.cmml">𝒞</mi><mi id="S3.SS2.p11.3.m3.1.1.3" xref="S3.SS2.p11.3.m3.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p11.3.m3.1b"><apply id="S3.SS2.p11.3.m3.1.1.cmml" xref="S3.SS2.p11.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p11.3.m3.1.1.1.cmml" xref="S3.SS2.p11.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p11.3.m3.1.1.2.cmml" xref="S3.SS2.p11.3.m3.1.1.2">𝒞</ci><ci id="S3.SS2.p11.3.m3.1.1.3.cmml" xref="S3.SS2.p11.3.m3.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p11.3.m3.1c">\mathcal{C}_{j}</annotation></semantics></math> as conditions for generation, the conditional probability distribution can be written in the following form:</p>
<table id="A2.EGx7" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex3.m1.10" class="ltx_Math" alttext="\displaystyle p(\mathbf{s}|\bar{\mathbf{z}}_{j,l}^{k},\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})\propto p(\mathbf{s}|\mathcal{C}_{j})p(\bar{\mathbf{z}}_{j,l}^{k}|\mathbf{s},\mathcal{C}_{j})p(\bar{\mathbf{g}}_{j}^{k_{i}}|\mathbf{s},\mathcal{C}_{j})" display="inline"><semantics id="S3.Ex3.m1.10a"><mrow id="S3.Ex3.m1.10.10" xref="S3.Ex3.m1.10.10.cmml"><mrow id="S3.Ex3.m1.7.7.1" xref="S3.Ex3.m1.7.7.1.cmml"><mi id="S3.Ex3.m1.7.7.1.3" xref="S3.Ex3.m1.7.7.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.7.7.1.2" xref="S3.Ex3.m1.7.7.1.2.cmml">​</mo><mrow id="S3.Ex3.m1.7.7.1.1.1" xref="S3.Ex3.m1.7.7.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex3.m1.7.7.1.1.1.2" xref="S3.Ex3.m1.7.7.1.1.1.1.cmml">(</mo><mrow id="S3.Ex3.m1.7.7.1.1.1.1" xref="S3.Ex3.m1.7.7.1.1.1.1.cmml"><mi id="S3.Ex3.m1.7.7.1.1.1.1.5" xref="S3.Ex3.m1.7.7.1.1.1.1.5.cmml">𝐬</mi><mo fence="false" id="S3.Ex3.m1.7.7.1.1.1.1.4" xref="S3.Ex3.m1.7.7.1.1.1.1.4.cmml">|</mo><mrow id="S3.Ex3.m1.7.7.1.1.1.1.3.3" xref="S3.Ex3.m1.7.7.1.1.1.1.3.4.cmml"><msubsup id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2.2" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2.2.cmml">𝐳</mi><mo id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2.1" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2.1.cmml">¯</mo></mover><mrow id="S3.Ex3.m1.2.2.2.4" xref="S3.Ex3.m1.2.2.2.3.cmml"><mi id="S3.Ex3.m1.1.1.1.1" xref="S3.Ex3.m1.1.1.1.1.cmml">j</mi><mo id="S3.Ex3.m1.2.2.2.4.1" xref="S3.Ex3.m1.2.2.2.3.cmml">,</mo><mi id="S3.Ex3.m1.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.cmml">l</mi></mrow><mi id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.3" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo id="S3.Ex3.m1.7.7.1.1.1.1.3.3.4" xref="S3.Ex3.m1.7.7.1.1.1.1.3.4.cmml">,</mo><msubsup id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.cmml"><mover accent="true" id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2.2" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2.2.cmml">𝐠</mi><mo id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2.1" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2.1.cmml">¯</mo></mover><mi id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.3" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.3.cmml">j</mi><msub id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3.cmml"><mi id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3.2" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3.2.cmml">k</mi><mi id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3.3" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3.3.cmml">i</mi></msub></msubsup><mo id="S3.Ex3.m1.7.7.1.1.1.1.3.3.5" xref="S3.Ex3.m1.7.7.1.1.1.1.3.4.cmml">,</mo><msub id="S3.Ex3.m1.7.7.1.1.1.1.3.3.3" xref="S3.Ex3.m1.7.7.1.1.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m1.7.7.1.1.1.1.3.3.3.2" xref="S3.Ex3.m1.7.7.1.1.1.1.3.3.3.2.cmml">𝒞</mi><mi id="S3.Ex3.m1.7.7.1.1.1.1.3.3.3.3" xref="S3.Ex3.m1.7.7.1.1.1.1.3.3.3.3.cmml">j</mi></msub></mrow></mrow><mo stretchy="false" id="S3.Ex3.m1.7.7.1.1.1.3" xref="S3.Ex3.m1.7.7.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex3.m1.10.10.5" xref="S3.Ex3.m1.10.10.5.cmml">∝</mo><mrow id="S3.Ex3.m1.10.10.4" xref="S3.Ex3.m1.10.10.4.cmml"><mi id="S3.Ex3.m1.10.10.4.5" xref="S3.Ex3.m1.10.10.4.5.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.10.10.4.4" xref="S3.Ex3.m1.10.10.4.4.cmml">​</mo><mrow id="S3.Ex3.m1.8.8.2.1.1" xref="S3.Ex3.m1.8.8.2.1.1.1.cmml"><mo stretchy="false" id="S3.Ex3.m1.8.8.2.1.1.2" xref="S3.Ex3.m1.8.8.2.1.1.1.cmml">(</mo><mrow id="S3.Ex3.m1.8.8.2.1.1.1" xref="S3.Ex3.m1.8.8.2.1.1.1.cmml"><mi id="S3.Ex3.m1.8.8.2.1.1.1.2" xref="S3.Ex3.m1.8.8.2.1.1.1.2.cmml">𝐬</mi><mo fence="false" id="S3.Ex3.m1.8.8.2.1.1.1.1" xref="S3.Ex3.m1.8.8.2.1.1.1.1.cmml">|</mo><msub id="S3.Ex3.m1.8.8.2.1.1.1.3" xref="S3.Ex3.m1.8.8.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m1.8.8.2.1.1.1.3.2" xref="S3.Ex3.m1.8.8.2.1.1.1.3.2.cmml">𝒞</mi><mi id="S3.Ex3.m1.8.8.2.1.1.1.3.3" xref="S3.Ex3.m1.8.8.2.1.1.1.3.3.cmml">j</mi></msub></mrow><mo stretchy="false" id="S3.Ex3.m1.8.8.2.1.1.3" xref="S3.Ex3.m1.8.8.2.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.10.10.4.4a" xref="S3.Ex3.m1.10.10.4.4.cmml">​</mo><mi id="S3.Ex3.m1.10.10.4.6" xref="S3.Ex3.m1.10.10.4.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.10.10.4.4b" xref="S3.Ex3.m1.10.10.4.4.cmml">​</mo><mrow id="S3.Ex3.m1.9.9.3.2.1" xref="S3.Ex3.m1.9.9.3.2.1.1.cmml"><mo stretchy="false" id="S3.Ex3.m1.9.9.3.2.1.2" xref="S3.Ex3.m1.9.9.3.2.1.1.cmml">(</mo><mrow id="S3.Ex3.m1.9.9.3.2.1.1" xref="S3.Ex3.m1.9.9.3.2.1.1.cmml"><msubsup id="S3.Ex3.m1.9.9.3.2.1.1.3" xref="S3.Ex3.m1.9.9.3.2.1.1.3.cmml"><mover accent="true" id="S3.Ex3.m1.9.9.3.2.1.1.3.2.2" xref="S3.Ex3.m1.9.9.3.2.1.1.3.2.2.cmml"><mi id="S3.Ex3.m1.9.9.3.2.1.1.3.2.2.2" xref="S3.Ex3.m1.9.9.3.2.1.1.3.2.2.2.cmml">𝐳</mi><mo id="S3.Ex3.m1.9.9.3.2.1.1.3.2.2.1" xref="S3.Ex3.m1.9.9.3.2.1.1.3.2.2.1.cmml">¯</mo></mover><mrow id="S3.Ex3.m1.4.4.2.4" xref="S3.Ex3.m1.4.4.2.3.cmml"><mi id="S3.Ex3.m1.3.3.1.1" xref="S3.Ex3.m1.3.3.1.1.cmml">j</mi><mo id="S3.Ex3.m1.4.4.2.4.1" xref="S3.Ex3.m1.4.4.2.3.cmml">,</mo><mi id="S3.Ex3.m1.4.4.2.2" xref="S3.Ex3.m1.4.4.2.2.cmml">l</mi></mrow><mi id="S3.Ex3.m1.9.9.3.2.1.1.3.3" xref="S3.Ex3.m1.9.9.3.2.1.1.3.3.cmml">k</mi></msubsup><mo fence="false" id="S3.Ex3.m1.9.9.3.2.1.1.2" xref="S3.Ex3.m1.9.9.3.2.1.1.2.cmml">|</mo><mrow id="S3.Ex3.m1.9.9.3.2.1.1.1.1" xref="S3.Ex3.m1.9.9.3.2.1.1.1.2.cmml"><mi id="S3.Ex3.m1.5.5" xref="S3.Ex3.m1.5.5.cmml">𝐬</mi><mo id="S3.Ex3.m1.9.9.3.2.1.1.1.1.2" xref="S3.Ex3.m1.9.9.3.2.1.1.1.2.cmml">,</mo><msub id="S3.Ex3.m1.9.9.3.2.1.1.1.1.1" xref="S3.Ex3.m1.9.9.3.2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m1.9.9.3.2.1.1.1.1.1.2" xref="S3.Ex3.m1.9.9.3.2.1.1.1.1.1.2.cmml">𝒞</mi><mi id="S3.Ex3.m1.9.9.3.2.1.1.1.1.1.3" xref="S3.Ex3.m1.9.9.3.2.1.1.1.1.1.3.cmml">j</mi></msub></mrow></mrow><mo stretchy="false" id="S3.Ex3.m1.9.9.3.2.1.3" xref="S3.Ex3.m1.9.9.3.2.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.10.10.4.4c" xref="S3.Ex3.m1.10.10.4.4.cmml">​</mo><mi id="S3.Ex3.m1.10.10.4.7" xref="S3.Ex3.m1.10.10.4.7.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.10.10.4.4d" xref="S3.Ex3.m1.10.10.4.4.cmml">​</mo><mrow id="S3.Ex3.m1.10.10.4.3.1" xref="S3.Ex3.m1.10.10.4.3.1.1.cmml"><mo stretchy="false" id="S3.Ex3.m1.10.10.4.3.1.2" xref="S3.Ex3.m1.10.10.4.3.1.1.cmml">(</mo><mrow id="S3.Ex3.m1.10.10.4.3.1.1" xref="S3.Ex3.m1.10.10.4.3.1.1.cmml"><msubsup id="S3.Ex3.m1.10.10.4.3.1.1.3" xref="S3.Ex3.m1.10.10.4.3.1.1.3.cmml"><mover accent="true" id="S3.Ex3.m1.10.10.4.3.1.1.3.2.2" xref="S3.Ex3.m1.10.10.4.3.1.1.3.2.2.cmml"><mi id="S3.Ex3.m1.10.10.4.3.1.1.3.2.2.2" xref="S3.Ex3.m1.10.10.4.3.1.1.3.2.2.2.cmml">𝐠</mi><mo id="S3.Ex3.m1.10.10.4.3.1.1.3.2.2.1" xref="S3.Ex3.m1.10.10.4.3.1.1.3.2.2.1.cmml">¯</mo></mover><mi id="S3.Ex3.m1.10.10.4.3.1.1.3.2.3" xref="S3.Ex3.m1.10.10.4.3.1.1.3.2.3.cmml">j</mi><msub id="S3.Ex3.m1.10.10.4.3.1.1.3.3" xref="S3.Ex3.m1.10.10.4.3.1.1.3.3.cmml"><mi id="S3.Ex3.m1.10.10.4.3.1.1.3.3.2" xref="S3.Ex3.m1.10.10.4.3.1.1.3.3.2.cmml">k</mi><mi id="S3.Ex3.m1.10.10.4.3.1.1.3.3.3" xref="S3.Ex3.m1.10.10.4.3.1.1.3.3.3.cmml">i</mi></msub></msubsup><mo fence="false" id="S3.Ex3.m1.10.10.4.3.1.1.2" xref="S3.Ex3.m1.10.10.4.3.1.1.2.cmml">|</mo><mrow id="S3.Ex3.m1.10.10.4.3.1.1.1.1" xref="S3.Ex3.m1.10.10.4.3.1.1.1.2.cmml"><mi id="S3.Ex3.m1.6.6" xref="S3.Ex3.m1.6.6.cmml">𝐬</mi><mo id="S3.Ex3.m1.10.10.4.3.1.1.1.1.2" xref="S3.Ex3.m1.10.10.4.3.1.1.1.2.cmml">,</mo><msub id="S3.Ex3.m1.10.10.4.3.1.1.1.1.1" xref="S3.Ex3.m1.10.10.4.3.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m1.10.10.4.3.1.1.1.1.1.2" xref="S3.Ex3.m1.10.10.4.3.1.1.1.1.1.2.cmml">𝒞</mi><mi id="S3.Ex3.m1.10.10.4.3.1.1.1.1.1.3" xref="S3.Ex3.m1.10.10.4.3.1.1.1.1.1.3.cmml">j</mi></msub></mrow></mrow><mo stretchy="false" id="S3.Ex3.m1.10.10.4.3.1.3" xref="S3.Ex3.m1.10.10.4.3.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.10b"><apply id="S3.Ex3.m1.10.10.cmml" xref="S3.Ex3.m1.10.10"><csymbol cd="latexml" id="S3.Ex3.m1.10.10.5.cmml" xref="S3.Ex3.m1.10.10.5">proportional-to</csymbol><apply id="S3.Ex3.m1.7.7.1.cmml" xref="S3.Ex3.m1.7.7.1"><times id="S3.Ex3.m1.7.7.1.2.cmml" xref="S3.Ex3.m1.7.7.1.2"></times><ci id="S3.Ex3.m1.7.7.1.3.cmml" xref="S3.Ex3.m1.7.7.1.3">𝑝</ci><apply id="S3.Ex3.m1.7.7.1.1.1.1.cmml" xref="S3.Ex3.m1.7.7.1.1.1"><csymbol cd="latexml" id="S3.Ex3.m1.7.7.1.1.1.1.4.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.4">conditional</csymbol><ci id="S3.Ex3.m1.7.7.1.1.1.1.5.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.5">𝐬</ci><list id="S3.Ex3.m1.7.7.1.1.1.1.3.4.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.3.3"><apply id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2"><ci id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2.1">¯</ci><ci id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.2.2.2">𝐳</ci></apply><list id="S3.Ex3.m1.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.4"><ci id="S3.Ex3.m1.1.1.1.1.cmml" xref="S3.Ex3.m1.1.1.1.1">𝑗</ci><ci id="S3.Ex3.m1.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2">𝑙</ci></list></apply><ci id="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2">superscript</csymbol><apply id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.1.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2">subscript</csymbol><apply id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2"><ci id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2.1">¯</ci><ci id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.2.2">𝐠</ci></apply><ci id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.3.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.2.3">𝑗</ci></apply><apply id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3.1.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3">subscript</csymbol><ci id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3.2.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3.2">𝑘</ci><ci id="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3.3.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.2.2.2.3.3">𝑖</ci></apply></apply><apply id="S3.Ex3.m1.7.7.1.1.1.1.3.3.3.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.7.7.1.1.1.1.3.3.3.1.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.Ex3.m1.7.7.1.1.1.1.3.3.3.2.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.3.3.3.2">𝒞</ci><ci id="S3.Ex3.m1.7.7.1.1.1.1.3.3.3.3.cmml" xref="S3.Ex3.m1.7.7.1.1.1.1.3.3.3.3">𝑗</ci></apply></list></apply></apply><apply id="S3.Ex3.m1.10.10.4.cmml" xref="S3.Ex3.m1.10.10.4"><times id="S3.Ex3.m1.10.10.4.4.cmml" xref="S3.Ex3.m1.10.10.4.4"></times><ci id="S3.Ex3.m1.10.10.4.5.cmml" xref="S3.Ex3.m1.10.10.4.5">𝑝</ci><apply id="S3.Ex3.m1.8.8.2.1.1.1.cmml" xref="S3.Ex3.m1.8.8.2.1.1"><csymbol cd="latexml" id="S3.Ex3.m1.8.8.2.1.1.1.1.cmml" xref="S3.Ex3.m1.8.8.2.1.1.1.1">conditional</csymbol><ci id="S3.Ex3.m1.8.8.2.1.1.1.2.cmml" xref="S3.Ex3.m1.8.8.2.1.1.1.2">𝐬</ci><apply id="S3.Ex3.m1.8.8.2.1.1.1.3.cmml" xref="S3.Ex3.m1.8.8.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.8.8.2.1.1.1.3.1.cmml" xref="S3.Ex3.m1.8.8.2.1.1.1.3">subscript</csymbol><ci id="S3.Ex3.m1.8.8.2.1.1.1.3.2.cmml" xref="S3.Ex3.m1.8.8.2.1.1.1.3.2">𝒞</ci><ci id="S3.Ex3.m1.8.8.2.1.1.1.3.3.cmml" xref="S3.Ex3.m1.8.8.2.1.1.1.3.3">𝑗</ci></apply></apply><ci id="S3.Ex3.m1.10.10.4.6.cmml" xref="S3.Ex3.m1.10.10.4.6">𝑝</ci><apply id="S3.Ex3.m1.9.9.3.2.1.1.cmml" xref="S3.Ex3.m1.9.9.3.2.1"><csymbol cd="latexml" id="S3.Ex3.m1.9.9.3.2.1.1.2.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.2">conditional</csymbol><apply id="S3.Ex3.m1.9.9.3.2.1.1.3.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.9.9.3.2.1.1.3.1.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.3">superscript</csymbol><apply id="S3.Ex3.m1.9.9.3.2.1.1.3.2.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.9.9.3.2.1.1.3.2.1.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.3">subscript</csymbol><apply id="S3.Ex3.m1.9.9.3.2.1.1.3.2.2.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.3.2.2"><ci id="S3.Ex3.m1.9.9.3.2.1.1.3.2.2.1.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.3.2.2.1">¯</ci><ci id="S3.Ex3.m1.9.9.3.2.1.1.3.2.2.2.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.3.2.2.2">𝐳</ci></apply><list id="S3.Ex3.m1.4.4.2.3.cmml" xref="S3.Ex3.m1.4.4.2.4"><ci id="S3.Ex3.m1.3.3.1.1.cmml" xref="S3.Ex3.m1.3.3.1.1">𝑗</ci><ci id="S3.Ex3.m1.4.4.2.2.cmml" xref="S3.Ex3.m1.4.4.2.2">𝑙</ci></list></apply><ci id="S3.Ex3.m1.9.9.3.2.1.1.3.3.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.3.3">𝑘</ci></apply><list id="S3.Ex3.m1.9.9.3.2.1.1.1.2.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.1.1"><ci id="S3.Ex3.m1.5.5.cmml" xref="S3.Ex3.m1.5.5">𝐬</ci><apply id="S3.Ex3.m1.9.9.3.2.1.1.1.1.1.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.9.9.3.2.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex3.m1.9.9.3.2.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.1.1.1.2">𝒞</ci><ci id="S3.Ex3.m1.9.9.3.2.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.9.9.3.2.1.1.1.1.1.3">𝑗</ci></apply></list></apply><ci id="S3.Ex3.m1.10.10.4.7.cmml" xref="S3.Ex3.m1.10.10.4.7">𝑝</ci><apply id="S3.Ex3.m1.10.10.4.3.1.1.cmml" xref="S3.Ex3.m1.10.10.4.3.1"><csymbol cd="latexml" id="S3.Ex3.m1.10.10.4.3.1.1.2.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.2">conditional</csymbol><apply id="S3.Ex3.m1.10.10.4.3.1.1.3.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.10.10.4.3.1.1.3.1.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3">superscript</csymbol><apply id="S3.Ex3.m1.10.10.4.3.1.1.3.2.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.10.10.4.3.1.1.3.2.1.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3">subscript</csymbol><apply id="S3.Ex3.m1.10.10.4.3.1.1.3.2.2.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3.2.2"><ci id="S3.Ex3.m1.10.10.4.3.1.1.3.2.2.1.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3.2.2.1">¯</ci><ci id="S3.Ex3.m1.10.10.4.3.1.1.3.2.2.2.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3.2.2.2">𝐠</ci></apply><ci id="S3.Ex3.m1.10.10.4.3.1.1.3.2.3.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3.2.3">𝑗</ci></apply><apply id="S3.Ex3.m1.10.10.4.3.1.1.3.3.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.10.10.4.3.1.1.3.3.1.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3.3">subscript</csymbol><ci id="S3.Ex3.m1.10.10.4.3.1.1.3.3.2.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3.3.2">𝑘</ci><ci id="S3.Ex3.m1.10.10.4.3.1.1.3.3.3.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.3.3.3">𝑖</ci></apply></apply><list id="S3.Ex3.m1.10.10.4.3.1.1.1.2.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.1.1"><ci id="S3.Ex3.m1.6.6.cmml" xref="S3.Ex3.m1.6.6">𝐬</ci><apply id="S3.Ex3.m1.10.10.4.3.1.1.1.1.1.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.10.10.4.3.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex3.m1.10.10.4.3.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.1.1.1.2">𝒞</ci><ci id="S3.Ex3.m1.10.10.4.3.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.10.10.4.3.1.1.1.1.1.3">𝑗</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m1.10c">\displaystyle p(\mathbf{s}|\bar{\mathbf{z}}_{j,l}^{k},\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})\propto p(\mathbf{s}|\mathcal{C}_{j})p(\bar{\mathbf{z}}_{j,l}^{k}|\mathbf{s},\mathcal{C}_{j})p(\bar{\mathbf{g}}_{j}^{k_{i}}|\mathbf{s},\mathcal{C}_{j})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p12" class="ltx_para">
<p id="S3.SS2.p12.1" class="ltx_p">Since <math id="S3.SS2.p12.1.m1.1" class="ltx_Math" alttext="\mathbf{s}" display="inline"><semantics id="S3.SS2.p12.1.m1.1a"><mi id="S3.SS2.p12.1.m1.1.1" xref="S3.SS2.p12.1.m1.1.1.cmml">𝐬</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p12.1.m1.1b"><ci id="S3.SS2.p12.1.m1.1.1.cmml" xref="S3.SS2.p12.1.m1.1.1">𝐬</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p12.1.m1.1c">\mathbf{s}</annotation></semantics></math> is initially sampled from a Gaussian distribution, independent of the used cluster centroids and domain-specific representations, the above formula can be rewritten as:</p>
<table id="A2.EGx8" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex4.m1.10" class="ltx_Math" alttext="\displaystyle p(\mathbf{s}|\bar{\mathbf{z}}_{j,l}^{k},\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})\propto p(\mathbf{s}|\mathcal{C}_{j})\frac{p(\mathbf{s}|\bar{\mathbf{z}}_{j,l}^{k},\mathcal{C}_{j})}{p(\mathbf{s}|\mathcal{C}_{j})}\frac{p(\mathbf{s}|\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})}{p(\mathbf{s}|\mathcal{C}_{j})}" display="inline"><semantics id="S3.Ex4.m1.10a"><mrow id="S3.Ex4.m1.10.10" xref="S3.Ex4.m1.10.10.cmml"><mrow id="S3.Ex4.m1.9.9.1" xref="S3.Ex4.m1.9.9.1.cmml"><mi id="S3.Ex4.m1.9.9.1.3" xref="S3.Ex4.m1.9.9.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.9.9.1.2" xref="S3.Ex4.m1.9.9.1.2.cmml">​</mo><mrow id="S3.Ex4.m1.9.9.1.1.1" xref="S3.Ex4.m1.9.9.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex4.m1.9.9.1.1.1.2" xref="S3.Ex4.m1.9.9.1.1.1.1.cmml">(</mo><mrow id="S3.Ex4.m1.9.9.1.1.1.1" xref="S3.Ex4.m1.9.9.1.1.1.1.cmml"><mi id="S3.Ex4.m1.9.9.1.1.1.1.5" xref="S3.Ex4.m1.9.9.1.1.1.1.5.cmml">𝐬</mi><mo fence="false" id="S3.Ex4.m1.9.9.1.1.1.1.4" xref="S3.Ex4.m1.9.9.1.1.1.1.4.cmml">|</mo><mrow id="S3.Ex4.m1.9.9.1.1.1.1.3.3" xref="S3.Ex4.m1.9.9.1.1.1.1.3.4.cmml"><msubsup id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2.2" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2.2.cmml">𝐳</mi><mo id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2.1" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2.1.cmml">¯</mo></mover><mrow id="S3.Ex4.m1.2.2.2.4" xref="S3.Ex4.m1.2.2.2.3.cmml"><mi id="S3.Ex4.m1.1.1.1.1" xref="S3.Ex4.m1.1.1.1.1.cmml">j</mi><mo id="S3.Ex4.m1.2.2.2.4.1" xref="S3.Ex4.m1.2.2.2.3.cmml">,</mo><mi id="S3.Ex4.m1.2.2.2.2" xref="S3.Ex4.m1.2.2.2.2.cmml">l</mi></mrow><mi id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.3" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo id="S3.Ex4.m1.9.9.1.1.1.1.3.3.4" xref="S3.Ex4.m1.9.9.1.1.1.1.3.4.cmml">,</mo><msubsup id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.cmml"><mover accent="true" id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2.2" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2.2.cmml">𝐠</mi><mo id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2.1" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2.1.cmml">¯</mo></mover><mi id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.3" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.3.cmml">j</mi><msub id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3.cmml"><mi id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3.2" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3.2.cmml">k</mi><mi id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3.3" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3.3.cmml">i</mi></msub></msubsup><mo id="S3.Ex4.m1.9.9.1.1.1.1.3.3.5" xref="S3.Ex4.m1.9.9.1.1.1.1.3.4.cmml">,</mo><msub id="S3.Ex4.m1.9.9.1.1.1.1.3.3.3" xref="S3.Ex4.m1.9.9.1.1.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.9.9.1.1.1.1.3.3.3.2" xref="S3.Ex4.m1.9.9.1.1.1.1.3.3.3.2.cmml">𝒞</mi><mi id="S3.Ex4.m1.9.9.1.1.1.1.3.3.3.3" xref="S3.Ex4.m1.9.9.1.1.1.1.3.3.3.3.cmml">j</mi></msub></mrow></mrow><mo stretchy="false" id="S3.Ex4.m1.9.9.1.1.1.3" xref="S3.Ex4.m1.9.9.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex4.m1.10.10.3" xref="S3.Ex4.m1.10.10.3.cmml">∝</mo><mrow id="S3.Ex4.m1.10.10.2" xref="S3.Ex4.m1.10.10.2.cmml"><mi id="S3.Ex4.m1.10.10.2.3" xref="S3.Ex4.m1.10.10.2.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.10.10.2.2" xref="S3.Ex4.m1.10.10.2.2.cmml">​</mo><mrow id="S3.Ex4.m1.10.10.2.1.1" xref="S3.Ex4.m1.10.10.2.1.1.1.cmml"><mo stretchy="false" id="S3.Ex4.m1.10.10.2.1.1.2" xref="S3.Ex4.m1.10.10.2.1.1.1.cmml">(</mo><mrow id="S3.Ex4.m1.10.10.2.1.1.1" xref="S3.Ex4.m1.10.10.2.1.1.1.cmml"><mi id="S3.Ex4.m1.10.10.2.1.1.1.2" xref="S3.Ex4.m1.10.10.2.1.1.1.2.cmml">𝐬</mi><mo fence="false" id="S3.Ex4.m1.10.10.2.1.1.1.1" xref="S3.Ex4.m1.10.10.2.1.1.1.1.cmml">|</mo><msub id="S3.Ex4.m1.10.10.2.1.1.1.3" xref="S3.Ex4.m1.10.10.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.10.10.2.1.1.1.3.2" xref="S3.Ex4.m1.10.10.2.1.1.1.3.2.cmml">𝒞</mi><mi id="S3.Ex4.m1.10.10.2.1.1.1.3.3" xref="S3.Ex4.m1.10.10.2.1.1.1.3.3.cmml">j</mi></msub></mrow><mo stretchy="false" id="S3.Ex4.m1.10.10.2.1.1.3" xref="S3.Ex4.m1.10.10.2.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.10.10.2.2a" xref="S3.Ex4.m1.10.10.2.2.cmml">​</mo><mstyle displaystyle="true" id="S3.Ex4.m1.6.6" xref="S3.Ex4.m1.6.6.cmml"><mfrac id="S3.Ex4.m1.6.6a" xref="S3.Ex4.m1.6.6.cmml"><mrow id="S3.Ex4.m1.5.5.3" xref="S3.Ex4.m1.5.5.3.cmml"><mi id="S3.Ex4.m1.5.5.3.5" xref="S3.Ex4.m1.5.5.3.5.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.5.5.3.4" xref="S3.Ex4.m1.5.5.3.4.cmml">​</mo><mrow id="S3.Ex4.m1.5.5.3.3.1" xref="S3.Ex4.m1.5.5.3.3.1.1.cmml"><mo stretchy="false" id="S3.Ex4.m1.5.5.3.3.1.2" xref="S3.Ex4.m1.5.5.3.3.1.1.cmml">(</mo><mrow id="S3.Ex4.m1.5.5.3.3.1.1" xref="S3.Ex4.m1.5.5.3.3.1.1.cmml"><mi id="S3.Ex4.m1.5.5.3.3.1.1.4" xref="S3.Ex4.m1.5.5.3.3.1.1.4.cmml">𝐬</mi><mo fence="false" id="S3.Ex4.m1.5.5.3.3.1.1.3" xref="S3.Ex4.m1.5.5.3.3.1.1.3.cmml">|</mo><mrow id="S3.Ex4.m1.5.5.3.3.1.1.2.2" xref="S3.Ex4.m1.5.5.3.3.1.1.2.3.cmml"><msubsup id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.cmml"><mover accent="true" id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2.cmml"><mi id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2.2" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2.2.cmml">𝐳</mi><mo id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2.1" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2.1.cmml">¯</mo></mover><mrow id="S3.Ex4.m1.4.4.2.2.2.4" xref="S3.Ex4.m1.4.4.2.2.2.3.cmml"><mi id="S3.Ex4.m1.3.3.1.1.1.1" xref="S3.Ex4.m1.3.3.1.1.1.1.cmml">j</mi><mo id="S3.Ex4.m1.4.4.2.2.2.4.1" xref="S3.Ex4.m1.4.4.2.2.2.3.cmml">,</mo><mi id="S3.Ex4.m1.4.4.2.2.2.2" xref="S3.Ex4.m1.4.4.2.2.2.2.cmml">l</mi></mrow><mi id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.3" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.3.cmml">k</mi></msubsup><mo id="S3.Ex4.m1.5.5.3.3.1.1.2.2.3" xref="S3.Ex4.m1.5.5.3.3.1.1.2.3.cmml">,</mo><msub id="S3.Ex4.m1.5.5.3.3.1.1.2.2.2" xref="S3.Ex4.m1.5.5.3.3.1.1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.5.5.3.3.1.1.2.2.2.2" xref="S3.Ex4.m1.5.5.3.3.1.1.2.2.2.2.cmml">𝒞</mi><mi id="S3.Ex4.m1.5.5.3.3.1.1.2.2.2.3" xref="S3.Ex4.m1.5.5.3.3.1.1.2.2.2.3.cmml">j</mi></msub></mrow></mrow><mo stretchy="false" id="S3.Ex4.m1.5.5.3.3.1.3" xref="S3.Ex4.m1.5.5.3.3.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.Ex4.m1.6.6.4" xref="S3.Ex4.m1.6.6.4.cmml"><mi id="S3.Ex4.m1.6.6.4.3" xref="S3.Ex4.m1.6.6.4.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.6.6.4.2" xref="S3.Ex4.m1.6.6.4.2.cmml">​</mo><mrow id="S3.Ex4.m1.6.6.4.1.1" xref="S3.Ex4.m1.6.6.4.1.1.1.cmml"><mo stretchy="false" id="S3.Ex4.m1.6.6.4.1.1.2" xref="S3.Ex4.m1.6.6.4.1.1.1.cmml">(</mo><mrow id="S3.Ex4.m1.6.6.4.1.1.1" xref="S3.Ex4.m1.6.6.4.1.1.1.cmml"><mi id="S3.Ex4.m1.6.6.4.1.1.1.2" xref="S3.Ex4.m1.6.6.4.1.1.1.2.cmml">𝐬</mi><mo fence="false" id="S3.Ex4.m1.6.6.4.1.1.1.1" xref="S3.Ex4.m1.6.6.4.1.1.1.1.cmml">|</mo><msub id="S3.Ex4.m1.6.6.4.1.1.1.3" xref="S3.Ex4.m1.6.6.4.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.6.6.4.1.1.1.3.2" xref="S3.Ex4.m1.6.6.4.1.1.1.3.2.cmml">𝒞</mi><mi id="S3.Ex4.m1.6.6.4.1.1.1.3.3" xref="S3.Ex4.m1.6.6.4.1.1.1.3.3.cmml">j</mi></msub></mrow><mo stretchy="false" id="S3.Ex4.m1.6.6.4.1.1.3" xref="S3.Ex4.m1.6.6.4.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.10.10.2.2b" xref="S3.Ex4.m1.10.10.2.2.cmml">​</mo><mstyle displaystyle="true" id="S3.Ex4.m1.8.8" xref="S3.Ex4.m1.8.8.cmml"><mfrac id="S3.Ex4.m1.8.8a" xref="S3.Ex4.m1.8.8.cmml"><mrow id="S3.Ex4.m1.7.7.1" xref="S3.Ex4.m1.7.7.1.cmml"><mi id="S3.Ex4.m1.7.7.1.3" xref="S3.Ex4.m1.7.7.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.7.7.1.2" xref="S3.Ex4.m1.7.7.1.2.cmml">​</mo><mrow id="S3.Ex4.m1.7.7.1.1.1" xref="S3.Ex4.m1.7.7.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex4.m1.7.7.1.1.1.2" xref="S3.Ex4.m1.7.7.1.1.1.1.cmml">(</mo><mrow id="S3.Ex4.m1.7.7.1.1.1.1" xref="S3.Ex4.m1.7.7.1.1.1.1.cmml"><mi id="S3.Ex4.m1.7.7.1.1.1.1.4" xref="S3.Ex4.m1.7.7.1.1.1.1.4.cmml">𝐬</mi><mo fence="false" id="S3.Ex4.m1.7.7.1.1.1.1.3" xref="S3.Ex4.m1.7.7.1.1.1.1.3.cmml">|</mo><mrow id="S3.Ex4.m1.7.7.1.1.1.1.2.2" xref="S3.Ex4.m1.7.7.1.1.1.1.2.3.cmml"><msubsup id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2.2" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2.2.cmml">𝐠</mi><mo id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2.1" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2.1.cmml">¯</mo></mover><mi id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.3" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.3.cmml">j</mi><msub id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3.cmml"><mi id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3.2" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3.2.cmml">k</mi><mi id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3.3" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></msubsup><mo id="S3.Ex4.m1.7.7.1.1.1.1.2.2.3" xref="S3.Ex4.m1.7.7.1.1.1.1.2.3.cmml">,</mo><msub id="S3.Ex4.m1.7.7.1.1.1.1.2.2.2" xref="S3.Ex4.m1.7.7.1.1.1.1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.7.7.1.1.1.1.2.2.2.2" xref="S3.Ex4.m1.7.7.1.1.1.1.2.2.2.2.cmml">𝒞</mi><mi id="S3.Ex4.m1.7.7.1.1.1.1.2.2.2.3" xref="S3.Ex4.m1.7.7.1.1.1.1.2.2.2.3.cmml">j</mi></msub></mrow></mrow><mo stretchy="false" id="S3.Ex4.m1.7.7.1.1.1.3" xref="S3.Ex4.m1.7.7.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.Ex4.m1.8.8.2" xref="S3.Ex4.m1.8.8.2.cmml"><mi id="S3.Ex4.m1.8.8.2.3" xref="S3.Ex4.m1.8.8.2.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.Ex4.m1.8.8.2.2" xref="S3.Ex4.m1.8.8.2.2.cmml">​</mo><mrow id="S3.Ex4.m1.8.8.2.1.1" xref="S3.Ex4.m1.8.8.2.1.1.1.cmml"><mo stretchy="false" id="S3.Ex4.m1.8.8.2.1.1.2" xref="S3.Ex4.m1.8.8.2.1.1.1.cmml">(</mo><mrow id="S3.Ex4.m1.8.8.2.1.1.1" xref="S3.Ex4.m1.8.8.2.1.1.1.cmml"><mi id="S3.Ex4.m1.8.8.2.1.1.1.2" xref="S3.Ex4.m1.8.8.2.1.1.1.2.cmml">𝐬</mi><mo fence="false" id="S3.Ex4.m1.8.8.2.1.1.1.1" xref="S3.Ex4.m1.8.8.2.1.1.1.1.cmml">|</mo><msub id="S3.Ex4.m1.8.8.2.1.1.1.3" xref="S3.Ex4.m1.8.8.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex4.m1.8.8.2.1.1.1.3.2" xref="S3.Ex4.m1.8.8.2.1.1.1.3.2.cmml">𝒞</mi><mi id="S3.Ex4.m1.8.8.2.1.1.1.3.3" xref="S3.Ex4.m1.8.8.2.1.1.1.3.3.cmml">j</mi></msub></mrow><mo stretchy="false" id="S3.Ex4.m1.8.8.2.1.1.3" xref="S3.Ex4.m1.8.8.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex4.m1.10b"><apply id="S3.Ex4.m1.10.10.cmml" xref="S3.Ex4.m1.10.10"><csymbol cd="latexml" id="S3.Ex4.m1.10.10.3.cmml" xref="S3.Ex4.m1.10.10.3">proportional-to</csymbol><apply id="S3.Ex4.m1.9.9.1.cmml" xref="S3.Ex4.m1.9.9.1"><times id="S3.Ex4.m1.9.9.1.2.cmml" xref="S3.Ex4.m1.9.9.1.2"></times><ci id="S3.Ex4.m1.9.9.1.3.cmml" xref="S3.Ex4.m1.9.9.1.3">𝑝</ci><apply id="S3.Ex4.m1.9.9.1.1.1.1.cmml" xref="S3.Ex4.m1.9.9.1.1.1"><csymbol cd="latexml" id="S3.Ex4.m1.9.9.1.1.1.1.4.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.4">conditional</csymbol><ci id="S3.Ex4.m1.9.9.1.1.1.1.5.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.5">𝐬</ci><list id="S3.Ex4.m1.9.9.1.1.1.1.3.4.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.3.3"><apply id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2"><ci id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2.1">¯</ci><ci id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.2.2.2">𝐳</ci></apply><list id="S3.Ex4.m1.2.2.2.3.cmml" xref="S3.Ex4.m1.2.2.2.4"><ci id="S3.Ex4.m1.1.1.1.1.cmml" xref="S3.Ex4.m1.1.1.1.1">𝑗</ci><ci id="S3.Ex4.m1.2.2.2.2.cmml" xref="S3.Ex4.m1.2.2.2.2">𝑙</ci></list></apply><ci id="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2">superscript</csymbol><apply id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.1.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2">subscript</csymbol><apply id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2"><ci id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2.1">¯</ci><ci id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.2.2">𝐠</ci></apply><ci id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.3.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.2.3">𝑗</ci></apply><apply id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3"><csymbol cd="ambiguous" id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3.1.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3">subscript</csymbol><ci id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3.2.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3.2">𝑘</ci><ci id="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3.3.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.2.2.2.3.3">𝑖</ci></apply></apply><apply id="S3.Ex4.m1.9.9.1.1.1.1.3.3.3.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.Ex4.m1.9.9.1.1.1.1.3.3.3.1.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.Ex4.m1.9.9.1.1.1.1.3.3.3.2.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.3.3.3.2">𝒞</ci><ci id="S3.Ex4.m1.9.9.1.1.1.1.3.3.3.3.cmml" xref="S3.Ex4.m1.9.9.1.1.1.1.3.3.3.3">𝑗</ci></apply></list></apply></apply><apply id="S3.Ex4.m1.10.10.2.cmml" xref="S3.Ex4.m1.10.10.2"><times id="S3.Ex4.m1.10.10.2.2.cmml" xref="S3.Ex4.m1.10.10.2.2"></times><ci id="S3.Ex4.m1.10.10.2.3.cmml" xref="S3.Ex4.m1.10.10.2.3">𝑝</ci><apply id="S3.Ex4.m1.10.10.2.1.1.1.cmml" xref="S3.Ex4.m1.10.10.2.1.1"><csymbol cd="latexml" id="S3.Ex4.m1.10.10.2.1.1.1.1.cmml" xref="S3.Ex4.m1.10.10.2.1.1.1.1">conditional</csymbol><ci id="S3.Ex4.m1.10.10.2.1.1.1.2.cmml" xref="S3.Ex4.m1.10.10.2.1.1.1.2">𝐬</ci><apply id="S3.Ex4.m1.10.10.2.1.1.1.3.cmml" xref="S3.Ex4.m1.10.10.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex4.m1.10.10.2.1.1.1.3.1.cmml" xref="S3.Ex4.m1.10.10.2.1.1.1.3">subscript</csymbol><ci id="S3.Ex4.m1.10.10.2.1.1.1.3.2.cmml" xref="S3.Ex4.m1.10.10.2.1.1.1.3.2">𝒞</ci><ci id="S3.Ex4.m1.10.10.2.1.1.1.3.3.cmml" xref="S3.Ex4.m1.10.10.2.1.1.1.3.3">𝑗</ci></apply></apply><apply id="S3.Ex4.m1.6.6.cmml" xref="S3.Ex4.m1.6.6"><divide id="S3.Ex4.m1.6.6.5.cmml" xref="S3.Ex4.m1.6.6"></divide><apply id="S3.Ex4.m1.5.5.3.cmml" xref="S3.Ex4.m1.5.5.3"><times id="S3.Ex4.m1.5.5.3.4.cmml" xref="S3.Ex4.m1.5.5.3.4"></times><ci id="S3.Ex4.m1.5.5.3.5.cmml" xref="S3.Ex4.m1.5.5.3.5">𝑝</ci><apply id="S3.Ex4.m1.5.5.3.3.1.1.cmml" xref="S3.Ex4.m1.5.5.3.3.1"><csymbol cd="latexml" id="S3.Ex4.m1.5.5.3.3.1.1.3.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.3">conditional</csymbol><ci id="S3.Ex4.m1.5.5.3.3.1.1.4.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.4">𝐬</ci><list id="S3.Ex4.m1.5.5.3.3.1.1.2.3.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.2.2"><apply id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.1.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1">superscript</csymbol><apply id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.1.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1">subscript</csymbol><apply id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2"><ci id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2.1.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2.1">¯</ci><ci id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.2.2.2">𝐳</ci></apply><list id="S3.Ex4.m1.4.4.2.2.2.3.cmml" xref="S3.Ex4.m1.4.4.2.2.2.4"><ci id="S3.Ex4.m1.3.3.1.1.1.1.cmml" xref="S3.Ex4.m1.3.3.1.1.1.1">𝑗</ci><ci id="S3.Ex4.m1.4.4.2.2.2.2.cmml" xref="S3.Ex4.m1.4.4.2.2.2.2">𝑙</ci></list></apply><ci id="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.3.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.Ex4.m1.5.5.3.3.1.1.2.2.2.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex4.m1.5.5.3.3.1.1.2.2.2.1.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.2.2.2">subscript</csymbol><ci id="S3.Ex4.m1.5.5.3.3.1.1.2.2.2.2.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.2.2.2.2">𝒞</ci><ci id="S3.Ex4.m1.5.5.3.3.1.1.2.2.2.3.cmml" xref="S3.Ex4.m1.5.5.3.3.1.1.2.2.2.3">𝑗</ci></apply></list></apply></apply><apply id="S3.Ex4.m1.6.6.4.cmml" xref="S3.Ex4.m1.6.6.4"><times id="S3.Ex4.m1.6.6.4.2.cmml" xref="S3.Ex4.m1.6.6.4.2"></times><ci id="S3.Ex4.m1.6.6.4.3.cmml" xref="S3.Ex4.m1.6.6.4.3">𝑝</ci><apply id="S3.Ex4.m1.6.6.4.1.1.1.cmml" xref="S3.Ex4.m1.6.6.4.1.1"><csymbol cd="latexml" id="S3.Ex4.m1.6.6.4.1.1.1.1.cmml" xref="S3.Ex4.m1.6.6.4.1.1.1.1">conditional</csymbol><ci id="S3.Ex4.m1.6.6.4.1.1.1.2.cmml" xref="S3.Ex4.m1.6.6.4.1.1.1.2">𝐬</ci><apply id="S3.Ex4.m1.6.6.4.1.1.1.3.cmml" xref="S3.Ex4.m1.6.6.4.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex4.m1.6.6.4.1.1.1.3.1.cmml" xref="S3.Ex4.m1.6.6.4.1.1.1.3">subscript</csymbol><ci id="S3.Ex4.m1.6.6.4.1.1.1.3.2.cmml" xref="S3.Ex4.m1.6.6.4.1.1.1.3.2">𝒞</ci><ci id="S3.Ex4.m1.6.6.4.1.1.1.3.3.cmml" xref="S3.Ex4.m1.6.6.4.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply><apply id="S3.Ex4.m1.8.8.cmml" xref="S3.Ex4.m1.8.8"><divide id="S3.Ex4.m1.8.8.3.cmml" xref="S3.Ex4.m1.8.8"></divide><apply id="S3.Ex4.m1.7.7.1.cmml" xref="S3.Ex4.m1.7.7.1"><times id="S3.Ex4.m1.7.7.1.2.cmml" xref="S3.Ex4.m1.7.7.1.2"></times><ci id="S3.Ex4.m1.7.7.1.3.cmml" xref="S3.Ex4.m1.7.7.1.3">𝑝</ci><apply id="S3.Ex4.m1.7.7.1.1.1.1.cmml" xref="S3.Ex4.m1.7.7.1.1.1"><csymbol cd="latexml" id="S3.Ex4.m1.7.7.1.1.1.1.3.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.3">conditional</csymbol><ci id="S3.Ex4.m1.7.7.1.1.1.1.4.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.4">𝐬</ci><list id="S3.Ex4.m1.7.7.1.1.1.1.2.3.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.2.2"><apply id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2"><ci id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2.1">¯</ci><ci id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.2.2">𝐠</ci></apply><ci id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.2.3">𝑗</ci></apply><apply id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3.2">𝑘</ci><ci id="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><apply id="S3.Ex4.m1.7.7.1.1.1.1.2.2.2.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex4.m1.7.7.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.Ex4.m1.7.7.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.2.2.2.2">𝒞</ci><ci id="S3.Ex4.m1.7.7.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex4.m1.7.7.1.1.1.1.2.2.2.3">𝑗</ci></apply></list></apply></apply><apply id="S3.Ex4.m1.8.8.2.cmml" xref="S3.Ex4.m1.8.8.2"><times id="S3.Ex4.m1.8.8.2.2.cmml" xref="S3.Ex4.m1.8.8.2.2"></times><ci id="S3.Ex4.m1.8.8.2.3.cmml" xref="S3.Ex4.m1.8.8.2.3">𝑝</ci><apply id="S3.Ex4.m1.8.8.2.1.1.1.cmml" xref="S3.Ex4.m1.8.8.2.1.1"><csymbol cd="latexml" id="S3.Ex4.m1.8.8.2.1.1.1.1.cmml" xref="S3.Ex4.m1.8.8.2.1.1.1.1">conditional</csymbol><ci id="S3.Ex4.m1.8.8.2.1.1.1.2.cmml" xref="S3.Ex4.m1.8.8.2.1.1.1.2">𝐬</ci><apply id="S3.Ex4.m1.8.8.2.1.1.1.3.cmml" xref="S3.Ex4.m1.8.8.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex4.m1.8.8.2.1.1.1.3.1.cmml" xref="S3.Ex4.m1.8.8.2.1.1.1.3">subscript</csymbol><ci id="S3.Ex4.m1.8.8.2.1.1.1.3.2.cmml" xref="S3.Ex4.m1.8.8.2.1.1.1.3.2">𝒞</ci><ci id="S3.Ex4.m1.8.8.2.1.1.1.3.3.cmml" xref="S3.Ex4.m1.8.8.2.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex4.m1.10c">\displaystyle p(\mathbf{s}|\bar{\mathbf{z}}_{j,l}^{k},\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})\propto p(\mathbf{s}|\mathcal{C}_{j})\frac{p(\mathbf{s}|\bar{\mathbf{z}}_{j,l}^{k},\mathcal{C}_{j})}{p(\mathbf{s}|\mathcal{C}_{j})}\frac{p(\mathbf{s}|\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})}{p(\mathbf{s}|\mathcal{C}_{j})}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p13" class="ltx_para">
<p id="S3.SS2.p13.3" class="ltx_p">Therefore, specifically, we input the feature of category prompt <math id="S3.SS2.p13.1.m1.1" class="ltx_Math" alttext="\mathcal{C}_{j}" display="inline"><semantics id="S3.SS2.p13.1.m1.1a"><msub id="S3.SS2.p13.1.m1.1.1" xref="S3.SS2.p13.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p13.1.m1.1.1.2" xref="S3.SS2.p13.1.m1.1.1.2.cmml">𝒞</mi><mi id="S3.SS2.p13.1.m1.1.1.3" xref="S3.SS2.p13.1.m1.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p13.1.m1.1b"><apply id="S3.SS2.p13.1.m1.1.1.cmml" xref="S3.SS2.p13.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p13.1.m1.1.1.1.cmml" xref="S3.SS2.p13.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p13.1.m1.1.1.2.cmml" xref="S3.SS2.p13.1.m1.1.1.2">𝒞</ci><ci id="S3.SS2.p13.1.m1.1.1.3.cmml" xref="S3.SS2.p13.1.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p13.1.m1.1c">\mathcal{C}_{j}</annotation></semantics></math> with a cluster centroid <math id="S3.SS2.p13.2.m2.2" class="ltx_Math" alttext="\bar{\mathbf{z}}_{c,l}^{k}" display="inline"><semantics id="S3.SS2.p13.2.m2.2a"><msubsup id="S3.SS2.p13.2.m2.2.3" xref="S3.SS2.p13.2.m2.2.3.cmml"><mover accent="true" id="S3.SS2.p13.2.m2.2.3.2.2" xref="S3.SS2.p13.2.m2.2.3.2.2.cmml"><mi id="S3.SS2.p13.2.m2.2.3.2.2.2" xref="S3.SS2.p13.2.m2.2.3.2.2.2.cmml">𝐳</mi><mo id="S3.SS2.p13.2.m2.2.3.2.2.1" xref="S3.SS2.p13.2.m2.2.3.2.2.1.cmml">¯</mo></mover><mrow id="S3.SS2.p13.2.m2.2.2.2.4" xref="S3.SS2.p13.2.m2.2.2.2.3.cmml"><mi id="S3.SS2.p13.2.m2.1.1.1.1" xref="S3.SS2.p13.2.m2.1.1.1.1.cmml">c</mi><mo id="S3.SS2.p13.2.m2.2.2.2.4.1" xref="S3.SS2.p13.2.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS2.p13.2.m2.2.2.2.2" xref="S3.SS2.p13.2.m2.2.2.2.2.cmml">l</mi></mrow><mi id="S3.SS2.p13.2.m2.2.3.3" xref="S3.SS2.p13.2.m2.2.3.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p13.2.m2.2b"><apply id="S3.SS2.p13.2.m2.2.3.cmml" xref="S3.SS2.p13.2.m2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p13.2.m2.2.3.1.cmml" xref="S3.SS2.p13.2.m2.2.3">superscript</csymbol><apply id="S3.SS2.p13.2.m2.2.3.2.cmml" xref="S3.SS2.p13.2.m2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p13.2.m2.2.3.2.1.cmml" xref="S3.SS2.p13.2.m2.2.3">subscript</csymbol><apply id="S3.SS2.p13.2.m2.2.3.2.2.cmml" xref="S3.SS2.p13.2.m2.2.3.2.2"><ci id="S3.SS2.p13.2.m2.2.3.2.2.1.cmml" xref="S3.SS2.p13.2.m2.2.3.2.2.1">¯</ci><ci id="S3.SS2.p13.2.m2.2.3.2.2.2.cmml" xref="S3.SS2.p13.2.m2.2.3.2.2.2">𝐳</ci></apply><list id="S3.SS2.p13.2.m2.2.2.2.3.cmml" xref="S3.SS2.p13.2.m2.2.2.2.4"><ci id="S3.SS2.p13.2.m2.1.1.1.1.cmml" xref="S3.SS2.p13.2.m2.1.1.1.1">𝑐</ci><ci id="S3.SS2.p13.2.m2.2.2.2.2.cmml" xref="S3.SS2.p13.2.m2.2.2.2.2">𝑙</ci></list></apply><ci id="S3.SS2.p13.2.m2.2.3.3.cmml" xref="S3.SS2.p13.2.m2.2.3.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p13.2.m2.2c">\bar{\mathbf{z}}_{c,l}^{k}</annotation></semantics></math>, a domain-specific representation <math id="S3.SS2.p13.3.m3.1" class="ltx_Math" alttext="\bar{\mathbf{g}}_{c}^{k_{i}}" display="inline"><semantics id="S3.SS2.p13.3.m3.1a"><msubsup id="S3.SS2.p13.3.m3.1.1" xref="S3.SS2.p13.3.m3.1.1.cmml"><mover accent="true" id="S3.SS2.p13.3.m3.1.1.2.2" xref="S3.SS2.p13.3.m3.1.1.2.2.cmml"><mi id="S3.SS2.p13.3.m3.1.1.2.2.2" xref="S3.SS2.p13.3.m3.1.1.2.2.2.cmml">𝐠</mi><mo id="S3.SS2.p13.3.m3.1.1.2.2.1" xref="S3.SS2.p13.3.m3.1.1.2.2.1.cmml">¯</mo></mover><mi id="S3.SS2.p13.3.m3.1.1.2.3" xref="S3.SS2.p13.3.m3.1.1.2.3.cmml">c</mi><msub id="S3.SS2.p13.3.m3.1.1.3" xref="S3.SS2.p13.3.m3.1.1.3.cmml"><mi id="S3.SS2.p13.3.m3.1.1.3.2" xref="S3.SS2.p13.3.m3.1.1.3.2.cmml">k</mi><mi id="S3.SS2.p13.3.m3.1.1.3.3" xref="S3.SS2.p13.3.m3.1.1.3.3.cmml">i</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p13.3.m3.1b"><apply id="S3.SS2.p13.3.m3.1.1.cmml" xref="S3.SS2.p13.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p13.3.m3.1.1.1.cmml" xref="S3.SS2.p13.3.m3.1.1">superscript</csymbol><apply id="S3.SS2.p13.3.m3.1.1.2.cmml" xref="S3.SS2.p13.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p13.3.m3.1.1.2.1.cmml" xref="S3.SS2.p13.3.m3.1.1">subscript</csymbol><apply id="S3.SS2.p13.3.m3.1.1.2.2.cmml" xref="S3.SS2.p13.3.m3.1.1.2.2"><ci id="S3.SS2.p13.3.m3.1.1.2.2.1.cmml" xref="S3.SS2.p13.3.m3.1.1.2.2.1">¯</ci><ci id="S3.SS2.p13.3.m3.1.1.2.2.2.cmml" xref="S3.SS2.p13.3.m3.1.1.2.2.2">𝐠</ci></apply><ci id="S3.SS2.p13.3.m3.1.1.2.3.cmml" xref="S3.SS2.p13.3.m3.1.1.2.3">𝑐</ci></apply><apply id="S3.SS2.p13.3.m3.1.1.3.cmml" xref="S3.SS2.p13.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p13.3.m3.1.1.3.1.cmml" xref="S3.SS2.p13.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS2.p13.3.m3.1.1.3.2.cmml" xref="S3.SS2.p13.3.m3.1.1.3.2">𝑘</ci><ci id="S3.SS2.p13.3.m3.1.1.3.3.cmml" xref="S3.SS2.p13.3.m3.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p13.3.m3.1c">\bar{\mathbf{g}}_{c}^{k_{i}}</annotation></semantics></math>, and without any image feature to the pre-trained DM to obtain three predicted noises. We accumulate these three predicted noises in the following formula to obtain the final predicted noise:</p>
<table id="A2.EGx9" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex5.m1.1" class="ltx_Math" alttext="\displaystyle\hat{\epsilon}_{\theta}" display="inline"><semantics id="S3.Ex5.m1.1a"><msub id="S3.Ex5.m1.1.1" xref="S3.Ex5.m1.1.1.cmml"><mover accent="true" id="S3.Ex5.m1.1.1.2" xref="S3.Ex5.m1.1.1.2.cmml"><mi id="S3.Ex5.m1.1.1.2.2" xref="S3.Ex5.m1.1.1.2.2.cmml">ϵ</mi><mo id="S3.Ex5.m1.1.1.2.1" xref="S3.Ex5.m1.1.1.2.1.cmml">^</mo></mover><mi id="S3.Ex5.m1.1.1.3" xref="S3.Ex5.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.Ex5.m1.1b"><apply id="S3.Ex5.m1.1.1.cmml" xref="S3.Ex5.m1.1.1"><csymbol cd="ambiguous" id="S3.Ex5.m1.1.1.1.cmml" xref="S3.Ex5.m1.1.1">subscript</csymbol><apply id="S3.Ex5.m1.1.1.2.cmml" xref="S3.Ex5.m1.1.1.2"><ci id="S3.Ex5.m1.1.1.2.1.cmml" xref="S3.Ex5.m1.1.1.2.1">^</ci><ci id="S3.Ex5.m1.1.1.2.2.cmml" xref="S3.Ex5.m1.1.1.2.2">italic-ϵ</ci></apply><ci id="S3.Ex5.m1.1.1.3.cmml" xref="S3.Ex5.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex5.m1.1c">\displaystyle\hat{\epsilon}_{\theta}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex5.m2.4" class="ltx_math_unparsed" alttext="\displaystyle(\mathbf{s}_{t},t|\bar{\mathbf{z}}_{j,l}^{k},\bar{\mathbf{g}}_{c}^{k_{i}},\mathcal{C}_{j})=\epsilon_{\theta}(\mathbf{s}_{t},t|\mathcal{C}_{j})+w_{f}(\epsilon_{\theta}(\mathbf{s}_{t},t|\bar{\mathbf{z}}_{jc,l}^{k},\mathcal{C}_{j})" display="inline"><semantics id="S3.Ex5.m2.4a"><mrow id="S3.Ex5.m2.4b"><mrow id="S3.Ex5.m2.4.5"><mo stretchy="false" id="S3.Ex5.m2.4.5.1">(</mo><msub id="S3.Ex5.m2.4.5.2"><mi id="S3.Ex5.m2.4.5.2.2">𝐬</mi><mi id="S3.Ex5.m2.4.5.2.3">t</mi></msub><mo id="S3.Ex5.m2.4.5.3">,</mo><mi id="S3.Ex5.m2.4.5.4">t</mi><mo fence="false" rspace="0.167em" stretchy="false" id="S3.Ex5.m2.4.5.5">|</mo><msubsup id="S3.Ex5.m2.4.5.6"><mover accent="true" id="S3.Ex5.m2.4.5.6.2.2"><mi id="S3.Ex5.m2.4.5.6.2.2.2">𝐳</mi><mo id="S3.Ex5.m2.4.5.6.2.2.1">¯</mo></mover><mrow id="S3.Ex5.m2.2.2.2.4"><mi id="S3.Ex5.m2.1.1.1.1">j</mi><mo id="S3.Ex5.m2.2.2.2.4.1">,</mo><mi id="S3.Ex5.m2.2.2.2.2">l</mi></mrow><mi id="S3.Ex5.m2.4.5.6.3">k</mi></msubsup><mo id="S3.Ex5.m2.4.5.7">,</mo><msubsup id="S3.Ex5.m2.4.5.8"><mover accent="true" id="S3.Ex5.m2.4.5.8.2.2"><mi id="S3.Ex5.m2.4.5.8.2.2.2">𝐠</mi><mo id="S3.Ex5.m2.4.5.8.2.2.1">¯</mo></mover><mi id="S3.Ex5.m2.4.5.8.2.3">c</mi><msub id="S3.Ex5.m2.4.5.8.3"><mi id="S3.Ex5.m2.4.5.8.3.2">k</mi><mi id="S3.Ex5.m2.4.5.8.3.3">i</mi></msub></msubsup><mo id="S3.Ex5.m2.4.5.9">,</mo><msub id="S3.Ex5.m2.4.5.10"><mi class="ltx_font_mathcaligraphic" id="S3.Ex5.m2.4.5.10.2">𝒞</mi><mi id="S3.Ex5.m2.4.5.10.3">j</mi></msub><mo stretchy="false" id="S3.Ex5.m2.4.5.11">)</mo></mrow><mo id="S3.Ex5.m2.4.6">=</mo><msub id="S3.Ex5.m2.4.7"><mi id="S3.Ex5.m2.4.7.2">ϵ</mi><mi id="S3.Ex5.m2.4.7.3">θ</mi></msub><mrow id="S3.Ex5.m2.4.8"><mo stretchy="false" id="S3.Ex5.m2.4.8.1">(</mo><msub id="S3.Ex5.m2.4.8.2"><mi id="S3.Ex5.m2.4.8.2.2">𝐬</mi><mi id="S3.Ex5.m2.4.8.2.3">t</mi></msub><mo id="S3.Ex5.m2.4.8.3">,</mo><mi id="S3.Ex5.m2.4.8.4">t</mi><mo fence="false" rspace="0.167em" stretchy="false" id="S3.Ex5.m2.4.8.5">|</mo><msub id="S3.Ex5.m2.4.8.6"><mi class="ltx_font_mathcaligraphic" id="S3.Ex5.m2.4.8.6.2">𝒞</mi><mi id="S3.Ex5.m2.4.8.6.3">j</mi></msub><mo stretchy="false" id="S3.Ex5.m2.4.8.7">)</mo></mrow><mo id="S3.Ex5.m2.4.9">+</mo><msub id="S3.Ex5.m2.4.10"><mi id="S3.Ex5.m2.4.10.2">w</mi><mi id="S3.Ex5.m2.4.10.3">f</mi></msub><mrow id="S3.Ex5.m2.4.11"><mo stretchy="false" id="S3.Ex5.m2.4.11.1">(</mo><msub id="S3.Ex5.m2.4.11.2"><mi id="S3.Ex5.m2.4.11.2.2">ϵ</mi><mi id="S3.Ex5.m2.4.11.2.3">θ</mi></msub><mrow id="S3.Ex5.m2.4.11.3"><mo stretchy="false" id="S3.Ex5.m2.4.11.3.1">(</mo><msub id="S3.Ex5.m2.4.11.3.2"><mi id="S3.Ex5.m2.4.11.3.2.2">𝐬</mi><mi id="S3.Ex5.m2.4.11.3.2.3">t</mi></msub><mo id="S3.Ex5.m2.4.11.3.3">,</mo><mi id="S3.Ex5.m2.4.11.3.4">t</mi><mo fence="false" rspace="0.167em" stretchy="false" id="S3.Ex5.m2.4.11.3.5">|</mo><msubsup id="S3.Ex5.m2.4.11.3.6"><mover accent="true" id="S3.Ex5.m2.4.11.3.6.2.2"><mi id="S3.Ex5.m2.4.11.3.6.2.2.2">𝐳</mi><mo id="S3.Ex5.m2.4.11.3.6.2.2.1">¯</mo></mover><mrow id="S3.Ex5.m2.4.4.2.2"><mrow id="S3.Ex5.m2.4.4.2.2.1"><mi id="S3.Ex5.m2.4.4.2.2.1.2">j</mi><mo lspace="0em" rspace="0em" id="S3.Ex5.m2.4.4.2.2.1.1">​</mo><mi id="S3.Ex5.m2.4.4.2.2.1.3">c</mi></mrow><mo id="S3.Ex5.m2.4.4.2.2.2">,</mo><mi id="S3.Ex5.m2.3.3.1.1">l</mi></mrow><mi id="S3.Ex5.m2.4.11.3.6.3">k</mi></msubsup><mo id="S3.Ex5.m2.4.11.3.7">,</mo><msub id="S3.Ex5.m2.4.11.3.8"><mi class="ltx_font_mathcaligraphic" id="S3.Ex5.m2.4.11.3.8.2">𝒞</mi><mi id="S3.Ex5.m2.4.11.3.8.3">j</mi></msub><mo stretchy="false" id="S3.Ex5.m2.4.11.3.9">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S3.Ex5.m2.4c">\displaystyle(\mathbf{s}_{t},t|\bar{\mathbf{z}}_{j,l}^{k},\bar{\mathbf{g}}_{c}^{k_{i}},\mathcal{C}_{j})=\epsilon_{\theta}(\mathbf{s}_{t},t|\mathcal{C}_{j})+w_{f}(\epsilon_{\theta}(\mathbf{s}_{t},t|\bar{\mathbf{z}}_{jc,l}^{k},\mathcal{C}_{j})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.Ex6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex6.m1.1" class="ltx_math_unparsed" alttext="\displaystyle-\epsilon_{\theta}(\mathbf{s}_{t},t|\mathcal{C}_{j}))+w_{g}(\epsilon_{\theta}(\mathbf{s}_{t},t|\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})-\epsilon_{\theta}(\mathbf{s}_{t},t|\mathcal{C}_{j}))" display="inline"><semantics id="S3.Ex6.m1.1a"><mrow id="S3.Ex6.m1.1b"><mo id="S3.Ex6.m1.1.1">−</mo><msub id="S3.Ex6.m1.1.2"><mi id="S3.Ex6.m1.1.2.2">ϵ</mi><mi id="S3.Ex6.m1.1.2.3">θ</mi></msub><mrow id="S3.Ex6.m1.1.3"><mo stretchy="false" id="S3.Ex6.m1.1.3.1">(</mo><msub id="S3.Ex6.m1.1.3.2"><mi id="S3.Ex6.m1.1.3.2.2">𝐬</mi><mi id="S3.Ex6.m1.1.3.2.3">t</mi></msub><mo id="S3.Ex6.m1.1.3.3">,</mo><mi id="S3.Ex6.m1.1.3.4">t</mi><mo fence="false" rspace="0.167em" stretchy="false" id="S3.Ex6.m1.1.3.5">|</mo><msub id="S3.Ex6.m1.1.3.6"><mi class="ltx_font_mathcaligraphic" id="S3.Ex6.m1.1.3.6.2">𝒞</mi><mi id="S3.Ex6.m1.1.3.6.3">j</mi></msub><mo stretchy="false" id="S3.Ex6.m1.1.3.7">)</mo></mrow><mo stretchy="false" id="S3.Ex6.m1.1.4">)</mo><mo id="S3.Ex6.m1.1.5">+</mo><mi id="S3.Ex6.m1.1.6">w</mi><msub id="S3.Ex6.m1.1.7"><mi id="S3.Ex6.m1.1.7a"></mi><mi id="S3.Ex6.m1.1.7.1">g</mi></msub><mo stretchy="false" id="S3.Ex6.m1.1.8">(</mo><msub id="S3.Ex6.m1.1.9"><mi id="S3.Ex6.m1.1.9.2">ϵ</mi><mi id="S3.Ex6.m1.1.9.3">θ</mi></msub><mrow id="S3.Ex6.m1.1.10"><mo stretchy="false" id="S3.Ex6.m1.1.10.1">(</mo><msub id="S3.Ex6.m1.1.10.2"><mi id="S3.Ex6.m1.1.10.2.2">𝐬</mi><mi id="S3.Ex6.m1.1.10.2.3">t</mi></msub><mo id="S3.Ex6.m1.1.10.3">,</mo><mi id="S3.Ex6.m1.1.10.4">t</mi><mo fence="false" rspace="0.167em" stretchy="false" id="S3.Ex6.m1.1.10.5">|</mo><msubsup id="S3.Ex6.m1.1.10.6"><mover accent="true" id="S3.Ex6.m1.1.10.6.2.2"><mi id="S3.Ex6.m1.1.10.6.2.2.2">𝐠</mi><mo id="S3.Ex6.m1.1.10.6.2.2.1">¯</mo></mover><mi id="S3.Ex6.m1.1.10.6.2.3">j</mi><msub id="S3.Ex6.m1.1.10.6.3"><mi id="S3.Ex6.m1.1.10.6.3.2">k</mi><mi id="S3.Ex6.m1.1.10.6.3.3">i</mi></msub></msubsup><mo id="S3.Ex6.m1.1.10.7">,</mo><msub id="S3.Ex6.m1.1.10.8"><mi class="ltx_font_mathcaligraphic" id="S3.Ex6.m1.1.10.8.2">𝒞</mi><mi id="S3.Ex6.m1.1.10.8.3">j</mi></msub><mo stretchy="false" id="S3.Ex6.m1.1.10.9">)</mo></mrow><mo id="S3.Ex6.m1.1.11">−</mo><msub id="S3.Ex6.m1.1.12"><mi id="S3.Ex6.m1.1.12.2">ϵ</mi><mi id="S3.Ex6.m1.1.12.3">θ</mi></msub><mrow id="S3.Ex6.m1.1.13"><mo stretchy="false" id="S3.Ex6.m1.1.13.1">(</mo><msub id="S3.Ex6.m1.1.13.2"><mi id="S3.Ex6.m1.1.13.2.2">𝐬</mi><mi id="S3.Ex6.m1.1.13.2.3">t</mi></msub><mo id="S3.Ex6.m1.1.13.3">,</mo><mi id="S3.Ex6.m1.1.13.4">t</mi><mo fence="false" rspace="0.167em" stretchy="false" id="S3.Ex6.m1.1.13.5">|</mo><msub id="S3.Ex6.m1.1.13.6"><mi class="ltx_font_mathcaligraphic" id="S3.Ex6.m1.1.13.6.2">𝒞</mi><mi id="S3.Ex6.m1.1.13.6.3">j</mi></msub><mo stretchy="false" id="S3.Ex6.m1.1.13.7">)</mo></mrow><mo stretchy="false" id="S3.Ex6.m1.1.14">)</mo></mrow><annotation encoding="application/x-tex" id="S3.Ex6.m1.1c">\displaystyle-\epsilon_{\theta}(\mathbf{s}_{t},t|\mathcal{C}_{j}))+w_{g}(\epsilon_{\theta}(\mathbf{s}_{t},t|\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})-\epsilon_{\theta}(\mathbf{s}_{t},t|\mathcal{C}_{j}))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS2.p13.5" class="ltx_p">where <math id="S3.SS2.p13.4.m1.1" class="ltx_Math" alttext="w_{f}" display="inline"><semantics id="S3.SS2.p13.4.m1.1a"><msub id="S3.SS2.p13.4.m1.1.1" xref="S3.SS2.p13.4.m1.1.1.cmml"><mi id="S3.SS2.p13.4.m1.1.1.2" xref="S3.SS2.p13.4.m1.1.1.2.cmml">w</mi><mi id="S3.SS2.p13.4.m1.1.1.3" xref="S3.SS2.p13.4.m1.1.1.3.cmml">f</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p13.4.m1.1b"><apply id="S3.SS2.p13.4.m1.1.1.cmml" xref="S3.SS2.p13.4.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p13.4.m1.1.1.1.cmml" xref="S3.SS2.p13.4.m1.1.1">subscript</csymbol><ci id="S3.SS2.p13.4.m1.1.1.2.cmml" xref="S3.SS2.p13.4.m1.1.1.2">𝑤</ci><ci id="S3.SS2.p13.4.m1.1.1.3.cmml" xref="S3.SS2.p13.4.m1.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p13.4.m1.1c">w_{f}</annotation></semantics></math> and <math id="S3.SS2.p13.5.m2.1" class="ltx_Math" alttext="w_{g}" display="inline"><semantics id="S3.SS2.p13.5.m2.1a"><msub id="S3.SS2.p13.5.m2.1.1" xref="S3.SS2.p13.5.m2.1.1.cmml"><mi id="S3.SS2.p13.5.m2.1.1.2" xref="S3.SS2.p13.5.m2.1.1.2.cmml">w</mi><mi id="S3.SS2.p13.5.m2.1.1.3" xref="S3.SS2.p13.5.m2.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p13.5.m2.1b"><apply id="S3.SS2.p13.5.m2.1.1.cmml" xref="S3.SS2.p13.5.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p13.5.m2.1.1.1.cmml" xref="S3.SS2.p13.5.m2.1.1">subscript</csymbol><ci id="S3.SS2.p13.5.m2.1.1.2.cmml" xref="S3.SS2.p13.5.m2.1.1.2">𝑤</ci><ci id="S3.SS2.p13.5.m2.1.1.3.cmml" xref="S3.SS2.p13.5.m2.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p13.5.m2.1c">w_{g}</annotation></semantics></math> are the weights of the predicted noises. Overall, the generated images are obtained through the denoising process:</p>
<table id="A2.EGx10" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex7.m2.4" class="ltx_Math" alttext="\displaystyle\mathbf{s}_{t-1}=\sqrt{\alpha_{t-1}}\Big{(}\frac{\mathbf{s}_{t}-\sqrt{1-\alpha_{t}}\hat{\epsilon}_{\theta}(\mathbf{s}_{t},t|\bar{\mathbf{z}}_{j,l}^{k},\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})}{\sqrt{\alpha_{t}}}\Big{)}" display="inline"><semantics id="S3.Ex7.m2.4a"><mrow id="S3.Ex7.m2.4.5" xref="S3.Ex7.m2.4.5.cmml"><msub id="S3.Ex7.m2.4.5.2" xref="S3.Ex7.m2.4.5.2.cmml"><mi id="S3.Ex7.m2.4.5.2.2" xref="S3.Ex7.m2.4.5.2.2.cmml">𝐬</mi><mrow id="S3.Ex7.m2.4.5.2.3" xref="S3.Ex7.m2.4.5.2.3.cmml"><mi id="S3.Ex7.m2.4.5.2.3.2" xref="S3.Ex7.m2.4.5.2.3.2.cmml">t</mi><mo id="S3.Ex7.m2.4.5.2.3.1" xref="S3.Ex7.m2.4.5.2.3.1.cmml">−</mo><mn id="S3.Ex7.m2.4.5.2.3.3" xref="S3.Ex7.m2.4.5.2.3.3.cmml">1</mn></mrow></msub><mo id="S3.Ex7.m2.4.5.1" xref="S3.Ex7.m2.4.5.1.cmml">=</mo><mrow id="S3.Ex7.m2.4.5.3" xref="S3.Ex7.m2.4.5.3.cmml"><msqrt id="S3.Ex7.m2.4.5.3.2" xref="S3.Ex7.m2.4.5.3.2.cmml"><msub id="S3.Ex7.m2.4.5.3.2.2" xref="S3.Ex7.m2.4.5.3.2.2.cmml"><mi id="S3.Ex7.m2.4.5.3.2.2.2" xref="S3.Ex7.m2.4.5.3.2.2.2.cmml">α</mi><mrow id="S3.Ex7.m2.4.5.3.2.2.3" xref="S3.Ex7.m2.4.5.3.2.2.3.cmml"><mi id="S3.Ex7.m2.4.5.3.2.2.3.2" xref="S3.Ex7.m2.4.5.3.2.2.3.2.cmml">t</mi><mo id="S3.Ex7.m2.4.5.3.2.2.3.1" xref="S3.Ex7.m2.4.5.3.2.2.3.1.cmml">−</mo><mn id="S3.Ex7.m2.4.5.3.2.2.3.3" xref="S3.Ex7.m2.4.5.3.2.2.3.3.cmml">1</mn></mrow></msub></msqrt><mo lspace="0em" rspace="0em" id="S3.Ex7.m2.4.5.3.1" xref="S3.Ex7.m2.4.5.3.1.cmml">​</mo><mrow id="S3.Ex7.m2.4.5.3.3.2" xref="S3.Ex7.m2.4.4.cmml"><mo maxsize="160%" minsize="160%" id="S3.Ex7.m2.4.5.3.3.2.1" xref="S3.Ex7.m2.4.4.cmml">(</mo><mstyle displaystyle="true" id="S3.Ex7.m2.4.4" xref="S3.Ex7.m2.4.4.cmml"><mfrac id="S3.Ex7.m2.4.4a" xref="S3.Ex7.m2.4.4.cmml"><mrow id="S3.Ex7.m2.4.4.4" xref="S3.Ex7.m2.4.4.4.cmml"><msub id="S3.Ex7.m2.4.4.4.6" xref="S3.Ex7.m2.4.4.4.6.cmml"><mi id="S3.Ex7.m2.4.4.4.6.2" xref="S3.Ex7.m2.4.4.4.6.2.cmml">𝐬</mi><mi id="S3.Ex7.m2.4.4.4.6.3" xref="S3.Ex7.m2.4.4.4.6.3.cmml">t</mi></msub><mo id="S3.Ex7.m2.4.4.4.5" xref="S3.Ex7.m2.4.4.4.5.cmml">−</mo><mrow id="S3.Ex7.m2.4.4.4.4" xref="S3.Ex7.m2.4.4.4.4.cmml"><msqrt id="S3.Ex7.m2.4.4.4.4.4" xref="S3.Ex7.m2.4.4.4.4.4.cmml"><mrow id="S3.Ex7.m2.4.4.4.4.4.2" xref="S3.Ex7.m2.4.4.4.4.4.2.cmml"><mn id="S3.Ex7.m2.4.4.4.4.4.2.2" xref="S3.Ex7.m2.4.4.4.4.4.2.2.cmml">1</mn><mo id="S3.Ex7.m2.4.4.4.4.4.2.1" xref="S3.Ex7.m2.4.4.4.4.4.2.1.cmml">−</mo><msub id="S3.Ex7.m2.4.4.4.4.4.2.3" xref="S3.Ex7.m2.4.4.4.4.4.2.3.cmml"><mi id="S3.Ex7.m2.4.4.4.4.4.2.3.2" xref="S3.Ex7.m2.4.4.4.4.4.2.3.2.cmml">α</mi><mi id="S3.Ex7.m2.4.4.4.4.4.2.3.3" xref="S3.Ex7.m2.4.4.4.4.4.2.3.3.cmml">t</mi></msub></mrow></msqrt><mo lspace="0em" rspace="0em" id="S3.Ex7.m2.4.4.4.4.3" xref="S3.Ex7.m2.4.4.4.4.3.cmml">​</mo><msub id="S3.Ex7.m2.4.4.4.4.5" xref="S3.Ex7.m2.4.4.4.4.5.cmml"><mover accent="true" id="S3.Ex7.m2.4.4.4.4.5.2" xref="S3.Ex7.m2.4.4.4.4.5.2.cmml"><mi id="S3.Ex7.m2.4.4.4.4.5.2.2" xref="S3.Ex7.m2.4.4.4.4.5.2.2.cmml">ϵ</mi><mo id="S3.Ex7.m2.4.4.4.4.5.2.1" xref="S3.Ex7.m2.4.4.4.4.5.2.1.cmml">^</mo></mover><mi id="S3.Ex7.m2.4.4.4.4.5.3" xref="S3.Ex7.m2.4.4.4.4.5.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.Ex7.m2.4.4.4.4.3a" xref="S3.Ex7.m2.4.4.4.4.3.cmml">​</mo><mrow id="S3.Ex7.m2.4.4.4.4.2.2" xref="S3.Ex7.m2.4.4.4.4.2.3.cmml"><mo stretchy="false" id="S3.Ex7.m2.4.4.4.4.2.2.3" xref="S3.Ex7.m2.4.4.4.4.2.3.cmml">(</mo><msub id="S3.Ex7.m2.3.3.3.3.1.1.1" xref="S3.Ex7.m2.3.3.3.3.1.1.1.cmml"><mi id="S3.Ex7.m2.3.3.3.3.1.1.1.2" xref="S3.Ex7.m2.3.3.3.3.1.1.1.2.cmml">𝐬</mi><mi id="S3.Ex7.m2.3.3.3.3.1.1.1.3" xref="S3.Ex7.m2.3.3.3.3.1.1.1.3.cmml">t</mi></msub><mo id="S3.Ex7.m2.4.4.4.4.2.2.4" xref="S3.Ex7.m2.4.4.4.4.2.3.cmml">,</mo><mrow id="S3.Ex7.m2.4.4.4.4.2.2.2" xref="S3.Ex7.m2.4.4.4.4.2.2.2.cmml"><mi id="S3.Ex7.m2.4.4.4.4.2.2.2.5" xref="S3.Ex7.m2.4.4.4.4.2.2.2.5.cmml">t</mi><mo fence="false" id="S3.Ex7.m2.4.4.4.4.2.2.2.4" xref="S3.Ex7.m2.4.4.4.4.2.2.2.4.cmml">|</mo><mrow id="S3.Ex7.m2.4.4.4.4.2.2.2.3.3" xref="S3.Ex7.m2.4.4.4.4.2.2.2.3.4.cmml"><msubsup id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.cmml"><mover accent="true" id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2.cmml"><mi id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2.2" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2.2.cmml">𝐳</mi><mo id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2.1" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2.1.cmml">¯</mo></mover><mrow id="S3.Ex7.m2.2.2.2.2.2.4" xref="S3.Ex7.m2.2.2.2.2.2.3.cmml"><mi id="S3.Ex7.m2.1.1.1.1.1.1" xref="S3.Ex7.m2.1.1.1.1.1.1.cmml">j</mi><mo id="S3.Ex7.m2.2.2.2.2.2.4.1" xref="S3.Ex7.m2.2.2.2.2.2.3.cmml">,</mo><mi id="S3.Ex7.m2.2.2.2.2.2.2" xref="S3.Ex7.m2.2.2.2.2.2.2.cmml">l</mi></mrow><mi id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.3" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.3.cmml">k</mi></msubsup><mo id="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.4" xref="S3.Ex7.m2.4.4.4.4.2.2.2.3.4.cmml">,</mo><msubsup id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.cmml"><mover accent="true" id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2.cmml"><mi id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2.2" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2.2.cmml">𝐠</mi><mo id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2.1" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2.1.cmml">¯</mo></mover><mi id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.3" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.3.cmml">j</mi><msub id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3.cmml"><mi id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3.2" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3.2.cmml">k</mi><mi id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3.3" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3.3.cmml">i</mi></msub></msubsup><mo id="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.5" xref="S3.Ex7.m2.4.4.4.4.2.2.2.3.4.cmml">,</mo><msub id="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3" xref="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3.2" xref="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3.2.cmml">𝒞</mi><mi id="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3.3" xref="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3.3.cmml">j</mi></msub></mrow></mrow><mo stretchy="false" id="S3.Ex7.m2.4.4.4.4.2.2.5" xref="S3.Ex7.m2.4.4.4.4.2.3.cmml">)</mo></mrow></mrow></mrow><msqrt id="S3.Ex7.m2.4.4.6" xref="S3.Ex7.m2.4.4.6.cmml"><msub id="S3.Ex7.m2.4.4.6.2" xref="S3.Ex7.m2.4.4.6.2.cmml"><mi id="S3.Ex7.m2.4.4.6.2.2" xref="S3.Ex7.m2.4.4.6.2.2.cmml">α</mi><mi id="S3.Ex7.m2.4.4.6.2.3" xref="S3.Ex7.m2.4.4.6.2.3.cmml">t</mi></msub></msqrt></mfrac></mstyle><mo maxsize="160%" minsize="160%" id="S3.Ex7.m2.4.5.3.3.2.2" xref="S3.Ex7.m2.4.4.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex7.m2.4b"><apply id="S3.Ex7.m2.4.5.cmml" xref="S3.Ex7.m2.4.5"><eq id="S3.Ex7.m2.4.5.1.cmml" xref="S3.Ex7.m2.4.5.1"></eq><apply id="S3.Ex7.m2.4.5.2.cmml" xref="S3.Ex7.m2.4.5.2"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.5.2.1.cmml" xref="S3.Ex7.m2.4.5.2">subscript</csymbol><ci id="S3.Ex7.m2.4.5.2.2.cmml" xref="S3.Ex7.m2.4.5.2.2">𝐬</ci><apply id="S3.Ex7.m2.4.5.2.3.cmml" xref="S3.Ex7.m2.4.5.2.3"><minus id="S3.Ex7.m2.4.5.2.3.1.cmml" xref="S3.Ex7.m2.4.5.2.3.1"></minus><ci id="S3.Ex7.m2.4.5.2.3.2.cmml" xref="S3.Ex7.m2.4.5.2.3.2">𝑡</ci><cn type="integer" id="S3.Ex7.m2.4.5.2.3.3.cmml" xref="S3.Ex7.m2.4.5.2.3.3">1</cn></apply></apply><apply id="S3.Ex7.m2.4.5.3.cmml" xref="S3.Ex7.m2.4.5.3"><times id="S3.Ex7.m2.4.5.3.1.cmml" xref="S3.Ex7.m2.4.5.3.1"></times><apply id="S3.Ex7.m2.4.5.3.2.cmml" xref="S3.Ex7.m2.4.5.3.2"><root id="S3.Ex7.m2.4.5.3.2a.cmml" xref="S3.Ex7.m2.4.5.3.2"></root><apply id="S3.Ex7.m2.4.5.3.2.2.cmml" xref="S3.Ex7.m2.4.5.3.2.2"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.5.3.2.2.1.cmml" xref="S3.Ex7.m2.4.5.3.2.2">subscript</csymbol><ci id="S3.Ex7.m2.4.5.3.2.2.2.cmml" xref="S3.Ex7.m2.4.5.3.2.2.2">𝛼</ci><apply id="S3.Ex7.m2.4.5.3.2.2.3.cmml" xref="S3.Ex7.m2.4.5.3.2.2.3"><minus id="S3.Ex7.m2.4.5.3.2.2.3.1.cmml" xref="S3.Ex7.m2.4.5.3.2.2.3.1"></minus><ci id="S3.Ex7.m2.4.5.3.2.2.3.2.cmml" xref="S3.Ex7.m2.4.5.3.2.2.3.2">𝑡</ci><cn type="integer" id="S3.Ex7.m2.4.5.3.2.2.3.3.cmml" xref="S3.Ex7.m2.4.5.3.2.2.3.3">1</cn></apply></apply></apply><apply id="S3.Ex7.m2.4.4.cmml" xref="S3.Ex7.m2.4.5.3.3.2"><divide id="S3.Ex7.m2.4.4.5.cmml" xref="S3.Ex7.m2.4.5.3.3.2"></divide><apply id="S3.Ex7.m2.4.4.4.cmml" xref="S3.Ex7.m2.4.4.4"><minus id="S3.Ex7.m2.4.4.4.5.cmml" xref="S3.Ex7.m2.4.4.4.5"></minus><apply id="S3.Ex7.m2.4.4.4.6.cmml" xref="S3.Ex7.m2.4.4.4.6"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.4.4.6.1.cmml" xref="S3.Ex7.m2.4.4.4.6">subscript</csymbol><ci id="S3.Ex7.m2.4.4.4.6.2.cmml" xref="S3.Ex7.m2.4.4.4.6.2">𝐬</ci><ci id="S3.Ex7.m2.4.4.4.6.3.cmml" xref="S3.Ex7.m2.4.4.4.6.3">𝑡</ci></apply><apply id="S3.Ex7.m2.4.4.4.4.cmml" xref="S3.Ex7.m2.4.4.4.4"><times id="S3.Ex7.m2.4.4.4.4.3.cmml" xref="S3.Ex7.m2.4.4.4.4.3"></times><apply id="S3.Ex7.m2.4.4.4.4.4.cmml" xref="S3.Ex7.m2.4.4.4.4.4"><root id="S3.Ex7.m2.4.4.4.4.4a.cmml" xref="S3.Ex7.m2.4.4.4.4.4"></root><apply id="S3.Ex7.m2.4.4.4.4.4.2.cmml" xref="S3.Ex7.m2.4.4.4.4.4.2"><minus id="S3.Ex7.m2.4.4.4.4.4.2.1.cmml" xref="S3.Ex7.m2.4.4.4.4.4.2.1"></minus><cn type="integer" id="S3.Ex7.m2.4.4.4.4.4.2.2.cmml" xref="S3.Ex7.m2.4.4.4.4.4.2.2">1</cn><apply id="S3.Ex7.m2.4.4.4.4.4.2.3.cmml" xref="S3.Ex7.m2.4.4.4.4.4.2.3"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.4.4.4.4.2.3.1.cmml" xref="S3.Ex7.m2.4.4.4.4.4.2.3">subscript</csymbol><ci id="S3.Ex7.m2.4.4.4.4.4.2.3.2.cmml" xref="S3.Ex7.m2.4.4.4.4.4.2.3.2">𝛼</ci><ci id="S3.Ex7.m2.4.4.4.4.4.2.3.3.cmml" xref="S3.Ex7.m2.4.4.4.4.4.2.3.3">𝑡</ci></apply></apply></apply><apply id="S3.Ex7.m2.4.4.4.4.5.cmml" xref="S3.Ex7.m2.4.4.4.4.5"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.4.4.4.5.1.cmml" xref="S3.Ex7.m2.4.4.4.4.5">subscript</csymbol><apply id="S3.Ex7.m2.4.4.4.4.5.2.cmml" xref="S3.Ex7.m2.4.4.4.4.5.2"><ci id="S3.Ex7.m2.4.4.4.4.5.2.1.cmml" xref="S3.Ex7.m2.4.4.4.4.5.2.1">^</ci><ci id="S3.Ex7.m2.4.4.4.4.5.2.2.cmml" xref="S3.Ex7.m2.4.4.4.4.5.2.2">italic-ϵ</ci></apply><ci id="S3.Ex7.m2.4.4.4.4.5.3.cmml" xref="S3.Ex7.m2.4.4.4.4.5.3">𝜃</ci></apply><interval closure="open" id="S3.Ex7.m2.4.4.4.4.2.3.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2"><apply id="S3.Ex7.m2.3.3.3.3.1.1.1.cmml" xref="S3.Ex7.m2.3.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.Ex7.m2.3.3.3.3.1.1.1.1.cmml" xref="S3.Ex7.m2.3.3.3.3.1.1.1">subscript</csymbol><ci id="S3.Ex7.m2.3.3.3.3.1.1.1.2.cmml" xref="S3.Ex7.m2.3.3.3.3.1.1.1.2">𝐬</ci><ci id="S3.Ex7.m2.3.3.3.3.1.1.1.3.cmml" xref="S3.Ex7.m2.3.3.3.3.1.1.1.3">𝑡</ci></apply><apply id="S3.Ex7.m2.4.4.4.4.2.2.2.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2"><csymbol cd="latexml" id="S3.Ex7.m2.4.4.4.4.2.2.2.4.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.4">conditional</csymbol><ci id="S3.Ex7.m2.4.4.4.4.2.2.2.5.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.5">𝑡</ci><list id="S3.Ex7.m2.4.4.4.4.2.2.2.3.4.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.3.3"><apply id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.1.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1">superscript</csymbol><apply id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.1.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1">subscript</csymbol><apply id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2"><ci id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2.1.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2.1">¯</ci><ci id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2.2.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.2.2.2">𝐳</ci></apply><list id="S3.Ex7.m2.2.2.2.2.2.3.cmml" xref="S3.Ex7.m2.2.2.2.2.2.4"><ci id="S3.Ex7.m2.1.1.1.1.1.1.cmml" xref="S3.Ex7.m2.1.1.1.1.1.1">𝑗</ci><ci id="S3.Ex7.m2.2.2.2.2.2.2.cmml" xref="S3.Ex7.m2.2.2.2.2.2.2">𝑙</ci></list></apply><ci id="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.3.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.1.1.1.3">𝑘</ci></apply><apply id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.1.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2">superscript</csymbol><apply id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.1.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2">subscript</csymbol><apply id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2"><ci id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2.1.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2.1">¯</ci><ci id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2.2.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.2.2">𝐠</ci></apply><ci id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.3.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.2.3">𝑗</ci></apply><apply id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3.1.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3">subscript</csymbol><ci id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3.2.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3.2">𝑘</ci><ci id="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3.3.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.2.2.2.3.3">𝑖</ci></apply></apply><apply id="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3.1.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3">subscript</csymbol><ci id="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3.2.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3.2">𝒞</ci><ci id="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3.3.cmml" xref="S3.Ex7.m2.4.4.4.4.2.2.2.3.3.3.3">𝑗</ci></apply></list></apply></interval></apply></apply><apply id="S3.Ex7.m2.4.4.6.cmml" xref="S3.Ex7.m2.4.4.6"><root id="S3.Ex7.m2.4.4.6a.cmml" xref="S3.Ex7.m2.4.4.6"></root><apply id="S3.Ex7.m2.4.4.6.2.cmml" xref="S3.Ex7.m2.4.4.6.2"><csymbol cd="ambiguous" id="S3.Ex7.m2.4.4.6.2.1.cmml" xref="S3.Ex7.m2.4.4.6.2">subscript</csymbol><ci id="S3.Ex7.m2.4.4.6.2.2.cmml" xref="S3.Ex7.m2.4.4.6.2.2">𝛼</ci><ci id="S3.Ex7.m2.4.4.6.2.3.cmml" xref="S3.Ex7.m2.4.4.6.2.3">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex7.m2.4c">\displaystyle\mathbf{s}_{t-1}=\sqrt{\alpha_{t-1}}\Big{(}\frac{\mathbf{s}_{t}-\sqrt{1-\alpha_{t}}\hat{\epsilon}_{\theta}(\mathbf{s}_{t},t|\bar{\mathbf{z}}_{j,l}^{k},\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})}{\sqrt{\alpha_{t}}}\Big{)}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E6.m1.4" class="ltx_Math" alttext="\displaystyle+\sqrt{1-\alpha_{t-1}-\sigma_{t}^{2}}\cdot\hat{\epsilon}_{\theta}(\mathbf{s}_{t},t|\bar{\mathbf{z}}_{j,l}^{k},\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})+\sigma_{t}\varepsilon_{t}" display="inline"><semantics id="S3.E6.m1.4a"><mrow id="S3.E6.m1.4.4" xref="S3.E6.m1.4.4.cmml"><mrow id="S3.E6.m1.4.4.2" xref="S3.E6.m1.4.4.2.cmml"><mo id="S3.E6.m1.4.4.2a" xref="S3.E6.m1.4.4.2.cmml">+</mo><mrow id="S3.E6.m1.4.4.2.2" xref="S3.E6.m1.4.4.2.2.cmml"><mrow id="S3.E6.m1.4.4.2.2.4" xref="S3.E6.m1.4.4.2.2.4.cmml"><msqrt id="S3.E6.m1.4.4.2.2.4.2" xref="S3.E6.m1.4.4.2.2.4.2.cmml"><mrow id="S3.E6.m1.4.4.2.2.4.2.2" xref="S3.E6.m1.4.4.2.2.4.2.2.cmml"><mn id="S3.E6.m1.4.4.2.2.4.2.2.2" xref="S3.E6.m1.4.4.2.2.4.2.2.2.cmml">1</mn><mo id="S3.E6.m1.4.4.2.2.4.2.2.1" xref="S3.E6.m1.4.4.2.2.4.2.2.1.cmml">−</mo><msub id="S3.E6.m1.4.4.2.2.4.2.2.3" xref="S3.E6.m1.4.4.2.2.4.2.2.3.cmml"><mi id="S3.E6.m1.4.4.2.2.4.2.2.3.2" xref="S3.E6.m1.4.4.2.2.4.2.2.3.2.cmml">α</mi><mrow id="S3.E6.m1.4.4.2.2.4.2.2.3.3" xref="S3.E6.m1.4.4.2.2.4.2.2.3.3.cmml"><mi id="S3.E6.m1.4.4.2.2.4.2.2.3.3.2" xref="S3.E6.m1.4.4.2.2.4.2.2.3.3.2.cmml">t</mi><mo id="S3.E6.m1.4.4.2.2.4.2.2.3.3.1" xref="S3.E6.m1.4.4.2.2.4.2.2.3.3.1.cmml">−</mo><mn id="S3.E6.m1.4.4.2.2.4.2.2.3.3.3" xref="S3.E6.m1.4.4.2.2.4.2.2.3.3.3.cmml">1</mn></mrow></msub><mo id="S3.E6.m1.4.4.2.2.4.2.2.1a" xref="S3.E6.m1.4.4.2.2.4.2.2.1.cmml">−</mo><msubsup id="S3.E6.m1.4.4.2.2.4.2.2.4" xref="S3.E6.m1.4.4.2.2.4.2.2.4.cmml"><mi id="S3.E6.m1.4.4.2.2.4.2.2.4.2.2" xref="S3.E6.m1.4.4.2.2.4.2.2.4.2.2.cmml">σ</mi><mi id="S3.E6.m1.4.4.2.2.4.2.2.4.2.3" xref="S3.E6.m1.4.4.2.2.4.2.2.4.2.3.cmml">t</mi><mn id="S3.E6.m1.4.4.2.2.4.2.2.4.3" xref="S3.E6.m1.4.4.2.2.4.2.2.4.3.cmml">2</mn></msubsup></mrow></msqrt><mo lspace="0.222em" rspace="0.222em" id="S3.E6.m1.4.4.2.2.4.1" xref="S3.E6.m1.4.4.2.2.4.1.cmml">⋅</mo><msub id="S3.E6.m1.4.4.2.2.4.3" xref="S3.E6.m1.4.4.2.2.4.3.cmml"><mover accent="true" id="S3.E6.m1.4.4.2.2.4.3.2" xref="S3.E6.m1.4.4.2.2.4.3.2.cmml"><mi id="S3.E6.m1.4.4.2.2.4.3.2.2" xref="S3.E6.m1.4.4.2.2.4.3.2.2.cmml">ϵ</mi><mo id="S3.E6.m1.4.4.2.2.4.3.2.1" xref="S3.E6.m1.4.4.2.2.4.3.2.1.cmml">^</mo></mover><mi id="S3.E6.m1.4.4.2.2.4.3.3" xref="S3.E6.m1.4.4.2.2.4.3.3.cmml">θ</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E6.m1.4.4.2.2.3" xref="S3.E6.m1.4.4.2.2.3.cmml">​</mo><mrow id="S3.E6.m1.4.4.2.2.2.2" xref="S3.E6.m1.4.4.2.2.2.3.cmml"><mo stretchy="false" id="S3.E6.m1.4.4.2.2.2.2.3" xref="S3.E6.m1.4.4.2.2.2.3.cmml">(</mo><msub id="S3.E6.m1.3.3.1.1.1.1.1" xref="S3.E6.m1.3.3.1.1.1.1.1.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.1.2" xref="S3.E6.m1.3.3.1.1.1.1.1.2.cmml">𝐬</mi><mi id="S3.E6.m1.3.3.1.1.1.1.1.3" xref="S3.E6.m1.3.3.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E6.m1.4.4.2.2.2.2.4" xref="S3.E6.m1.4.4.2.2.2.3.cmml">,</mo><mrow id="S3.E6.m1.4.4.2.2.2.2.2" xref="S3.E6.m1.4.4.2.2.2.2.2.cmml"><mi id="S3.E6.m1.4.4.2.2.2.2.2.5" xref="S3.E6.m1.4.4.2.2.2.2.2.5.cmml">t</mi><mo fence="false" id="S3.E6.m1.4.4.2.2.2.2.2.4" xref="S3.E6.m1.4.4.2.2.2.2.2.4.cmml">|</mo><mrow id="S3.E6.m1.4.4.2.2.2.2.2.3.3" xref="S3.E6.m1.4.4.2.2.2.2.2.3.4.cmml"><msubsup id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.cmml"><mover accent="true" id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2.cmml"><mi id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2.2" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2.2.cmml">𝐳</mi><mo id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2.1" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2.1.cmml">¯</mo></mover><mrow id="S3.E6.m1.2.2.2.4" xref="S3.E6.m1.2.2.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml">j</mi><mo id="S3.E6.m1.2.2.2.4.1" xref="S3.E6.m1.2.2.2.3.cmml">,</mo><mi id="S3.E6.m1.2.2.2.2" xref="S3.E6.m1.2.2.2.2.cmml">l</mi></mrow><mi id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.3" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.3.cmml">k</mi></msubsup><mo id="S3.E6.m1.4.4.2.2.2.2.2.3.3.4" xref="S3.E6.m1.4.4.2.2.2.2.2.3.4.cmml">,</mo><msubsup id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.cmml"><mover accent="true" id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2.cmml"><mi id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2.2" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2.2.cmml">𝐠</mi><mo id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2.1" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2.1.cmml">¯</mo></mover><mi id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.3" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.3.cmml">j</mi><msub id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3.cmml"><mi id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3.2" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3.2.cmml">k</mi><mi id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3.3" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3.3.cmml">i</mi></msub></msubsup><mo id="S3.E6.m1.4.4.2.2.2.2.2.3.3.5" xref="S3.E6.m1.4.4.2.2.2.2.2.3.4.cmml">,</mo><msub id="S3.E6.m1.4.4.2.2.2.2.2.3.3.3" xref="S3.E6.m1.4.4.2.2.2.2.2.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.4.4.2.2.2.2.2.3.3.3.2" xref="S3.E6.m1.4.4.2.2.2.2.2.3.3.3.2.cmml">𝒞</mi><mi id="S3.E6.m1.4.4.2.2.2.2.2.3.3.3.3" xref="S3.E6.m1.4.4.2.2.2.2.2.3.3.3.3.cmml">j</mi></msub></mrow></mrow><mo stretchy="false" id="S3.E6.m1.4.4.2.2.2.2.5" xref="S3.E6.m1.4.4.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E6.m1.4.4.3" xref="S3.E6.m1.4.4.3.cmml">+</mo><mrow id="S3.E6.m1.4.4.4" xref="S3.E6.m1.4.4.4.cmml"><msub id="S3.E6.m1.4.4.4.2" xref="S3.E6.m1.4.4.4.2.cmml"><mi id="S3.E6.m1.4.4.4.2.2" xref="S3.E6.m1.4.4.4.2.2.cmml">σ</mi><mi id="S3.E6.m1.4.4.4.2.3" xref="S3.E6.m1.4.4.4.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E6.m1.4.4.4.1" xref="S3.E6.m1.4.4.4.1.cmml">​</mo><msub id="S3.E6.m1.4.4.4.3" xref="S3.E6.m1.4.4.4.3.cmml"><mi id="S3.E6.m1.4.4.4.3.2" xref="S3.E6.m1.4.4.4.3.2.cmml">ε</mi><mi id="S3.E6.m1.4.4.4.3.3" xref="S3.E6.m1.4.4.4.3.3.cmml">t</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.4b"><apply id="S3.E6.m1.4.4.cmml" xref="S3.E6.m1.4.4"><plus id="S3.E6.m1.4.4.3.cmml" xref="S3.E6.m1.4.4.3"></plus><apply id="S3.E6.m1.4.4.2.cmml" xref="S3.E6.m1.4.4.2"><plus id="S3.E6.m1.4.4.2.3.cmml" xref="S3.E6.m1.4.4.2"></plus><apply id="S3.E6.m1.4.4.2.2.cmml" xref="S3.E6.m1.4.4.2.2"><times id="S3.E6.m1.4.4.2.2.3.cmml" xref="S3.E6.m1.4.4.2.2.3"></times><apply id="S3.E6.m1.4.4.2.2.4.cmml" xref="S3.E6.m1.4.4.2.2.4"><ci id="S3.E6.m1.4.4.2.2.4.1.cmml" xref="S3.E6.m1.4.4.2.2.4.1">⋅</ci><apply id="S3.E6.m1.4.4.2.2.4.2.cmml" xref="S3.E6.m1.4.4.2.2.4.2"><root id="S3.E6.m1.4.4.2.2.4.2a.cmml" xref="S3.E6.m1.4.4.2.2.4.2"></root><apply id="S3.E6.m1.4.4.2.2.4.2.2.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2"><minus id="S3.E6.m1.4.4.2.2.4.2.2.1.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.1"></minus><cn type="integer" id="S3.E6.m1.4.4.2.2.4.2.2.2.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.2">1</cn><apply id="S3.E6.m1.4.4.2.2.4.2.2.3.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.2.4.2.2.3.1.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.3">subscript</csymbol><ci id="S3.E6.m1.4.4.2.2.4.2.2.3.2.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.3.2">𝛼</ci><apply id="S3.E6.m1.4.4.2.2.4.2.2.3.3.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.3.3"><minus id="S3.E6.m1.4.4.2.2.4.2.2.3.3.1.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.3.3.1"></minus><ci id="S3.E6.m1.4.4.2.2.4.2.2.3.3.2.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.3.3.2">𝑡</ci><cn type="integer" id="S3.E6.m1.4.4.2.2.4.2.2.3.3.3.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.3.3.3">1</cn></apply></apply><apply id="S3.E6.m1.4.4.2.2.4.2.2.4.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.4"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.2.4.2.2.4.1.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.4">superscript</csymbol><apply id="S3.E6.m1.4.4.2.2.4.2.2.4.2.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.4"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.2.4.2.2.4.2.1.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.4">subscript</csymbol><ci id="S3.E6.m1.4.4.2.2.4.2.2.4.2.2.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.4.2.2">𝜎</ci><ci id="S3.E6.m1.4.4.2.2.4.2.2.4.2.3.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.4.2.3">𝑡</ci></apply><cn type="integer" id="S3.E6.m1.4.4.2.2.4.2.2.4.3.cmml" xref="S3.E6.m1.4.4.2.2.4.2.2.4.3">2</cn></apply></apply></apply><apply id="S3.E6.m1.4.4.2.2.4.3.cmml" xref="S3.E6.m1.4.4.2.2.4.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.2.4.3.1.cmml" xref="S3.E6.m1.4.4.2.2.4.3">subscript</csymbol><apply id="S3.E6.m1.4.4.2.2.4.3.2.cmml" xref="S3.E6.m1.4.4.2.2.4.3.2"><ci id="S3.E6.m1.4.4.2.2.4.3.2.1.cmml" xref="S3.E6.m1.4.4.2.2.4.3.2.1">^</ci><ci id="S3.E6.m1.4.4.2.2.4.3.2.2.cmml" xref="S3.E6.m1.4.4.2.2.4.3.2.2">italic-ϵ</ci></apply><ci id="S3.E6.m1.4.4.2.2.4.3.3.cmml" xref="S3.E6.m1.4.4.2.2.4.3.3">𝜃</ci></apply></apply><interval closure="open" id="S3.E6.m1.4.4.2.2.2.3.cmml" xref="S3.E6.m1.4.4.2.2.2.2"><apply id="S3.E6.m1.3.3.1.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1">subscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.2">𝐬</ci><ci id="S3.E6.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.3">𝑡</ci></apply><apply id="S3.E6.m1.4.4.2.2.2.2.2.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2"><csymbol cd="latexml" id="S3.E6.m1.4.4.2.2.2.2.2.4.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.4">conditional</csymbol><ci id="S3.E6.m1.4.4.2.2.2.2.2.5.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.5">𝑡</ci><list id="S3.E6.m1.4.4.2.2.2.2.2.3.4.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.3.3"><apply id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.1.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1">superscript</csymbol><apply id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.1.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1">subscript</csymbol><apply id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2"><ci id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2.1.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2.1">¯</ci><ci id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2.2.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.2.2.2">𝐳</ci></apply><list id="S3.E6.m1.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.4"><ci id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1">𝑗</ci><ci id="S3.E6.m1.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2">𝑙</ci></list></apply><ci id="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.3.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.1.1.1.3">𝑘</ci></apply><apply id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2">superscript</csymbol><apply id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2">subscript</csymbol><apply id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2"><ci id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2.1">¯</ci><ci id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.2.2">𝐠</ci></apply><ci id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.2.3">𝑗</ci></apply><apply id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3.1.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3">subscript</csymbol><ci id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3.2.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3.2">𝑘</ci><ci id="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3.3.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.2.2.2.3.3">𝑖</ci></apply></apply><apply id="S3.E6.m1.4.4.2.2.2.2.2.3.3.3.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.3.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.2.2.2.2.2.3.3.3.1.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.3.3.3">subscript</csymbol><ci id="S3.E6.m1.4.4.2.2.2.2.2.3.3.3.2.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.3.3.3.2">𝒞</ci><ci id="S3.E6.m1.4.4.2.2.2.2.2.3.3.3.3.cmml" xref="S3.E6.m1.4.4.2.2.2.2.2.3.3.3.3">𝑗</ci></apply></list></apply></interval></apply></apply><apply id="S3.E6.m1.4.4.4.cmml" xref="S3.E6.m1.4.4.4"><times id="S3.E6.m1.4.4.4.1.cmml" xref="S3.E6.m1.4.4.4.1"></times><apply id="S3.E6.m1.4.4.4.2.cmml" xref="S3.E6.m1.4.4.4.2"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.2.1.cmml" xref="S3.E6.m1.4.4.4.2">subscript</csymbol><ci id="S3.E6.m1.4.4.4.2.2.cmml" xref="S3.E6.m1.4.4.4.2.2">𝜎</ci><ci id="S3.E6.m1.4.4.4.2.3.cmml" xref="S3.E6.m1.4.4.4.2.3">𝑡</ci></apply><apply id="S3.E6.m1.4.4.4.3.cmml" xref="S3.E6.m1.4.4.4.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.3.1.cmml" xref="S3.E6.m1.4.4.4.3">subscript</csymbol><ci id="S3.E6.m1.4.4.4.3.2.cmml" xref="S3.E6.m1.4.4.4.3.2">𝜀</ci><ci id="S3.E6.m1.4.4.4.3.3.cmml" xref="S3.E6.m1.4.4.4.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.4c">\displaystyle+\sqrt{1-\alpha_{t-1}-\sigma_{t}^{2}}\cdot\hat{\epsilon}_{\theta}(\mathbf{s}_{t},t|\bar{\mathbf{z}}_{j,l}^{k},\bar{\mathbf{g}}_{j}^{k_{i}},\mathcal{C}_{j})+\sigma_{t}\varepsilon_{t}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p14" class="ltx_para">
<p id="S3.SS2.p14.4" class="ltx_p">After obtaining the generated images, since both the cluster centroids and domain-specific representations used for image generation have their corresponding pseudo-labels, the generated images are pseudo-labeled. So we can directly fine-tune a classification model <math id="S3.SS2.p14.1.m1.1" class="ltx_Math" alttext="h" display="inline"><semantics id="S3.SS2.p14.1.m1.1a"><mi id="S3.SS2.p14.1.m1.1.1" xref="S3.SS2.p14.1.m1.1.1.cmml">h</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p14.1.m1.1b"><ci id="S3.SS2.p14.1.m1.1.1.cmml" xref="S3.SS2.p14.1.m1.1.1">ℎ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p14.1.m1.1c">h</annotation></semantics></math> with the generated dataset for downstream classification tasks. The classification model <math id="S3.SS2.p14.2.m2.1" class="ltx_Math" alttext="h=F_{\theta}\circ E_{\theta}" display="inline"><semantics id="S3.SS2.p14.2.m2.1a"><mrow id="S3.SS2.p14.2.m2.1.1" xref="S3.SS2.p14.2.m2.1.1.cmml"><mi id="S3.SS2.p14.2.m2.1.1.2" xref="S3.SS2.p14.2.m2.1.1.2.cmml">h</mi><mo id="S3.SS2.p14.2.m2.1.1.1" xref="S3.SS2.p14.2.m2.1.1.1.cmml">=</mo><mrow id="S3.SS2.p14.2.m2.1.1.3" xref="S3.SS2.p14.2.m2.1.1.3.cmml"><msub id="S3.SS2.p14.2.m2.1.1.3.2" xref="S3.SS2.p14.2.m2.1.1.3.2.cmml"><mi id="S3.SS2.p14.2.m2.1.1.3.2.2" xref="S3.SS2.p14.2.m2.1.1.3.2.2.cmml">F</mi><mi id="S3.SS2.p14.2.m2.1.1.3.2.3" xref="S3.SS2.p14.2.m2.1.1.3.2.3.cmml">θ</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p14.2.m2.1.1.3.1" xref="S3.SS2.p14.2.m2.1.1.3.1.cmml">∘</mo><msub id="S3.SS2.p14.2.m2.1.1.3.3" xref="S3.SS2.p14.2.m2.1.1.3.3.cmml"><mi id="S3.SS2.p14.2.m2.1.1.3.3.2" xref="S3.SS2.p14.2.m2.1.1.3.3.2.cmml">E</mi><mi id="S3.SS2.p14.2.m2.1.1.3.3.3" xref="S3.SS2.p14.2.m2.1.1.3.3.3.cmml">θ</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p14.2.m2.1b"><apply id="S3.SS2.p14.2.m2.1.1.cmml" xref="S3.SS2.p14.2.m2.1.1"><eq id="S3.SS2.p14.2.m2.1.1.1.cmml" xref="S3.SS2.p14.2.m2.1.1.1"></eq><ci id="S3.SS2.p14.2.m2.1.1.2.cmml" xref="S3.SS2.p14.2.m2.1.1.2">ℎ</ci><apply id="S3.SS2.p14.2.m2.1.1.3.cmml" xref="S3.SS2.p14.2.m2.1.1.3"><compose id="S3.SS2.p14.2.m2.1.1.3.1.cmml" xref="S3.SS2.p14.2.m2.1.1.3.1"></compose><apply id="S3.SS2.p14.2.m2.1.1.3.2.cmml" xref="S3.SS2.p14.2.m2.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p14.2.m2.1.1.3.2.1.cmml" xref="S3.SS2.p14.2.m2.1.1.3.2">subscript</csymbol><ci id="S3.SS2.p14.2.m2.1.1.3.2.2.cmml" xref="S3.SS2.p14.2.m2.1.1.3.2.2">𝐹</ci><ci id="S3.SS2.p14.2.m2.1.1.3.2.3.cmml" xref="S3.SS2.p14.2.m2.1.1.3.2.3">𝜃</ci></apply><apply id="S3.SS2.p14.2.m2.1.1.3.3.cmml" xref="S3.SS2.p14.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p14.2.m2.1.1.3.3.1.cmml" xref="S3.SS2.p14.2.m2.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p14.2.m2.1.1.3.3.2.cmml" xref="S3.SS2.p14.2.m2.1.1.3.3.2">𝐸</ci><ci id="S3.SS2.p14.2.m2.1.1.3.3.3.cmml" xref="S3.SS2.p14.2.m2.1.1.3.3.3">𝜃</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p14.2.m2.1c">h=F_{\theta}\circ E_{\theta}</annotation></semantics></math> is a composite of the pre-trained CLIP image encoder <math id="S3.SS2.p14.3.m3.1" class="ltx_Math" alttext="E_{\theta}" display="inline"><semantics id="S3.SS2.p14.3.m3.1a"><msub id="S3.SS2.p14.3.m3.1.1" xref="S3.SS2.p14.3.m3.1.1.cmml"><mi id="S3.SS2.p14.3.m3.1.1.2" xref="S3.SS2.p14.3.m3.1.1.2.cmml">E</mi><mi id="S3.SS2.p14.3.m3.1.1.3" xref="S3.SS2.p14.3.m3.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p14.3.m3.1b"><apply id="S3.SS2.p14.3.m3.1.1.cmml" xref="S3.SS2.p14.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p14.3.m3.1.1.1.cmml" xref="S3.SS2.p14.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p14.3.m3.1.1.2.cmml" xref="S3.SS2.p14.3.m3.1.1.2">𝐸</ci><ci id="S3.SS2.p14.3.m3.1.1.3.cmml" xref="S3.SS2.p14.3.m3.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p14.3.m3.1c">E_{\theta}</annotation></semantics></math> and a linear classifier <math id="S3.SS2.p14.4.m4.1" class="ltx_Math" alttext="F_{\theta}" display="inline"><semantics id="S3.SS2.p14.4.m4.1a"><msub id="S3.SS2.p14.4.m4.1.1" xref="S3.SS2.p14.4.m4.1.1.cmml"><mi id="S3.SS2.p14.4.m4.1.1.2" xref="S3.SS2.p14.4.m4.1.1.2.cmml">F</mi><mi id="S3.SS2.p14.4.m4.1.1.3" xref="S3.SS2.p14.4.m4.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p14.4.m4.1b"><apply id="S3.SS2.p14.4.m4.1.1.cmml" xref="S3.SS2.p14.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p14.4.m4.1.1.1.cmml" xref="S3.SS2.p14.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p14.4.m4.1.1.2.cmml" xref="S3.SS2.p14.4.m4.1.1.2">𝐹</ci><ci id="S3.SS2.p14.4.m4.1.1.3.cmml" xref="S3.SS2.p14.4.m4.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p14.4.m4.1c">F_{\theta}</annotation></semantics></math>.</p>
</div>
<figure id="S3.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>The influence of the number of cluster centroids.</figcaption>
<div id="S3.T2.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:160.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(46.2pt,-17.1pt) scale(1.27067948620724,1.27067948620724) ;">
<table id="S3.T2.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T2.1.1.1" class="ltx_tr">
<td id="S3.T2.1.1.1.1" class="ltx_td ltx_border_tt"></td>
<td id="S3.T2.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt">client0</td>
<td id="S3.T2.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt">client1</td>
<td id="S3.T2.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt">client2</td>
<td id="S3.T2.1.1.1.5" class="ltx_td ltx_align_center ltx_border_tt">client3</td>
<td id="S3.T2.1.1.1.6" class="ltx_td ltx_align_center ltx_border_tt">client4</td>
<td id="S3.T2.1.1.1.7" class="ltx_td ltx_align_center ltx_border_tt">average</td>
</tr>
<tr id="S3.T2.1.1.2" class="ltx_tr">
<td id="S3.T2.1.1.2.1" class="ltx_td ltx_align_center ltx_border_t">L=3 Fine-tuning</td>
<td id="S3.T2.1.1.2.2" class="ltx_td ltx_align_center ltx_border_t">36.01</td>
<td id="S3.T2.1.1.2.3" class="ltx_td ltx_align_center ltx_border_t">46.01</td>
<td id="S3.T2.1.1.2.4" class="ltx_td ltx_align_center ltx_border_t">44.59</td>
<td id="S3.T2.1.1.2.5" class="ltx_td ltx_align_center ltx_border_t">45.55</td>
<td id="S3.T2.1.1.2.6" class="ltx_td ltx_align_center ltx_border_t">41.87</td>
<td id="S3.T2.1.1.2.7" class="ltx_td ltx_align_center ltx_border_t">42.81</td>
</tr>
<tr id="S3.T2.1.1.3" class="ltx_tr">
<td id="S3.T2.1.1.3.1" class="ltx_td ltx_align_center">L=3 FedDISC</td>
<td id="S3.T2.1.1.3.2" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.3.2.1" class="ltx_text ltx_font_bold">56.33</span></td>
<td id="S3.T2.1.1.3.3" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.3.3.1" class="ltx_text ltx_font_bold">61.93</span></td>
<td id="S3.T2.1.1.3.4" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.3.4.1" class="ltx_text ltx_font_bold">58.62</span></td>
<td id="S3.T2.1.1.3.5" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.3.5.1" class="ltx_text ltx_font_bold">56.71</span></td>
<td id="S3.T2.1.1.3.6" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.3.6.1" class="ltx_text ltx_font_bold">58.74</span></td>
<td id="S3.T2.1.1.3.7" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.3.7.1" class="ltx_text ltx_font_bold">58.47</span></td>
</tr>
<tr id="S3.T2.1.1.4" class="ltx_tr">
<td id="S3.T2.1.1.4.1" class="ltx_td ltx_align_center ltx_border_t">L=5 Fine-tuning</td>
<td id="S3.T2.1.1.4.2" class="ltx_td ltx_align_center ltx_border_t">36.67</td>
<td id="S3.T2.1.1.4.3" class="ltx_td ltx_align_center ltx_border_t">46.81</td>
<td id="S3.T2.1.1.4.4" class="ltx_td ltx_align_center ltx_border_t">45.43</td>
<td id="S3.T2.1.1.4.5" class="ltx_td ltx_align_center ltx_border_t">47.17</td>
<td id="S3.T2.1.1.4.6" class="ltx_td ltx_align_center ltx_border_t">42.10</td>
<td id="S3.T2.1.1.4.7" class="ltx_td ltx_align_center ltx_border_t">43.64</td>
</tr>
<tr id="S3.T2.1.1.5" class="ltx_tr">
<td id="S3.T2.1.1.5.1" class="ltx_td ltx_align_center">L=5 FedDISC</td>
<td id="S3.T2.1.1.5.2" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.5.2.1" class="ltx_text ltx_font_bold">56.11</span></td>
<td id="S3.T2.1.1.5.3" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.5.3.1" class="ltx_text ltx_font_bold">62.49</span></td>
<td id="S3.T2.1.1.5.4" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.5.4.1" class="ltx_text ltx_font_bold">62.53</span></td>
<td id="S3.T2.1.1.5.5" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.5.5.1" class="ltx_text ltx_font_bold">59.16</span></td>
<td id="S3.T2.1.1.5.6" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.5.6.1" class="ltx_text ltx_font_bold">56.77</span></td>
<td id="S3.T2.1.1.5.7" class="ltx_td ltx_align_center"><span id="S3.T2.1.1.5.7.1" class="ltx_text ltx_font_bold">59.41</span></td>
</tr>
<tr id="S3.T2.1.1.6" class="ltx_tr">
<td id="S3.T2.1.1.6.1" class="ltx_td ltx_align_center ltx_border_t">L=10 Fine-tuning</td>
<td id="S3.T2.1.1.6.2" class="ltx_td ltx_align_center ltx_border_t">37.55</td>
<td id="S3.T2.1.1.6.3" class="ltx_td ltx_align_center ltx_border_t">45.86</td>
<td id="S3.T2.1.1.6.4" class="ltx_td ltx_align_center ltx_border_t">44.85</td>
<td id="S3.T2.1.1.6.5" class="ltx_td ltx_align_center ltx_border_t">46.01</td>
<td id="S3.T2.1.1.6.6" class="ltx_td ltx_align_center ltx_border_t">42.15</td>
<td id="S3.T2.1.1.6.7" class="ltx_td ltx_align_center ltx_border_t">43.28</td>
</tr>
<tr id="S3.T2.1.1.7" class="ltx_tr">
<td id="S3.T2.1.1.7.1" class="ltx_td ltx_align_center ltx_border_bb">L=10 FedDISC</td>
<td id="S3.T2.1.1.7.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T2.1.1.7.2.1" class="ltx_text ltx_font_bold">57.16</span></td>
<td id="S3.T2.1.1.7.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T2.1.1.7.3.1" class="ltx_text ltx_font_bold">63.84</span></td>
<td id="S3.T2.1.1.7.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T2.1.1.7.4.1" class="ltx_text ltx_font_bold">61.12</span></td>
<td id="S3.T2.1.1.7.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T2.1.1.7.5.1" class="ltx_text ltx_font_bold">57.91</span></td>
<td id="S3.T2.1.1.7.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T2.1.1.7.6.1" class="ltx_text ltx_font_bold">59.13</span></td>
<td id="S3.T2.1.1.7.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T2.1.1.7.7.1" class="ltx_text ltx_font_bold">59.83</span></td>
</tr>
</table>
</span></div>
</figure>
<figure id="S3.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>The influence of the number of generated images.</figcaption>
<div id="S3.T3.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:101.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(62.8pt,-14.7pt) scale(1.40760175840505,1.40760175840505) ;">
<table id="S3.T3.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T3.1.1.1" class="ltx_tr">
<td id="S3.T3.1.1.1.1" class="ltx_td ltx_border_tt"></td>
<td id="S3.T3.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt">client0</td>
<td id="S3.T3.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt">client1</td>
<td id="S3.T3.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt">client2</td>
<td id="S3.T3.1.1.1.5" class="ltx_td ltx_align_center ltx_border_tt">client3</td>
<td id="S3.T3.1.1.1.6" class="ltx_td ltx_align_center ltx_border_tt">client4</td>
<td id="S3.T3.1.1.1.7" class="ltx_td ltx_align_center ltx_border_tt">average</td>
</tr>
<tr id="S3.T3.1.1.2" class="ltx_tr">
<td id="S3.T3.1.1.2.1" class="ltx_td ltx_align_center ltx_border_t">R=3</td>
<td id="S3.T3.1.1.2.2" class="ltx_td ltx_align_center ltx_border_t">53.41</td>
<td id="S3.T3.1.1.2.3" class="ltx_td ltx_align_center ltx_border_t">62.15</td>
<td id="S3.T3.1.1.2.4" class="ltx_td ltx_align_center ltx_border_t">61.31</td>
<td id="S3.T3.1.1.2.5" class="ltx_td ltx_align_center ltx_border_t">56.87</td>
<td id="S3.T3.1.1.2.6" class="ltx_td ltx_align_center ltx_border_t">55.49</td>
<td id="S3.T3.1.1.2.7" class="ltx_td ltx_align_center ltx_border_t">57.85</td>
</tr>
<tr id="S3.T3.1.1.3" class="ltx_tr">
<td id="S3.T3.1.1.3.1" class="ltx_td ltx_align_center">R=5</td>
<td id="S3.T3.1.1.3.2" class="ltx_td ltx_align_center">54.58</td>
<td id="S3.T3.1.1.3.3" class="ltx_td ltx_align_center"><span id="S3.T3.1.1.3.3.1" class="ltx_text ltx_font_bold">63.47</span></td>
<td id="S3.T3.1.1.3.4" class="ltx_td ltx_align_center">61.26</td>
<td id="S3.T3.1.1.3.5" class="ltx_td ltx_align_center">58.19</td>
<td id="S3.T3.1.1.3.6" class="ltx_td ltx_align_center"><span id="S3.T3.1.1.3.6.1" class="ltx_text ltx_font_bold">57.57</span></td>
<td id="S3.T3.1.1.3.7" class="ltx_td ltx_align_center">59.01</td>
</tr>
<tr id="S3.T3.1.1.4" class="ltx_tr">
<td id="S3.T3.1.1.4.1" class="ltx_td ltx_align_center ltx_border_bb">R=10</td>
<td id="S3.T3.1.1.4.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.1.1.4.2.1" class="ltx_text ltx_font_bold">56.11</span></td>
<td id="S3.T3.1.1.4.3" class="ltx_td ltx_align_center ltx_border_bb">62.49</td>
<td id="S3.T3.1.1.4.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.1.1.4.4.1" class="ltx_text ltx_font_bold">62.53</span></td>
<td id="S3.T3.1.1.4.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.1.1.4.5.1" class="ltx_text ltx_font_bold">59.16</span></td>
<td id="S3.T3.1.1.4.6" class="ltx_td ltx_align_center ltx_border_bb">56.77</td>
<td id="S3.T3.1.1.4.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.1.1.4.7.1" class="ltx_text ltx_font_bold">59.41</span></td>
</tr>
</table>
</span></div>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">We aim to answer the following questions in this section: 1) Can the pre-trained DMs liberate the client training? 2) Can images complying with the client distributions be generated conditioned on the uploaded features? 3) Whether the generated images contain any privacy-sensitive information? 4) How does the performance of our method compare to the other SOTA methods and the ceiling?</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Experimental Setup</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p"><span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_bold">Dataset.</span>
We use three datasets to evaluate the performance of FedDISC: DomainNet <cite class="ltx_cite ltx_citemacro_citep">(Peng et al. <a href="#bib.bib28" title="" class="ltx_ref">2019</a>)</cite>, OpenImage <cite class="ltx_cite ltx_citemacro_citep">(Kuznetsova et al. <a href="#bib.bib18" title="" class="ltx_ref">2020</a>)</cite>, and NICO++ <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al. <a href="#bib.bib45" title="" class="ltx_ref">2022b</a>)</cite>. NICO++ can be divided into the common contexts (NICO++_C) and the unique contexts (NICO++_U). Due to space constraints, we provide a comprehensive description of our dataset in the supplementary materials.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">Baselines.</span></p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p">We mainly compare our method with 5 baseline approaches: 1) <span id="S4.SS1.p3.1.1" class="ltx_text ltx_font_bold">Fine-tuning</span>: Directly fine-tuning the model with the uploaded cluster centroids and corresponding pseudo-labels. 2) <span id="S4.SS1.p3.1.2" class="ltx_text ltx_font_bold">CLIP Zero-shot</span>: Using the zero-shot classification capability of pre-trained CLIP to finish the classification tasks. 3) <span id="S4.SS1.p3.1.3" class="ltx_text ltx_font_bold">FedAvg-sm</span>: Semi-supervised FedAvg, using clients’ data and corresponding pseudo-labels for conducting FedAvg. In addition, we evaluate the SOTA semi-FL methods: 4) <span id="S4.SS1.p3.1.4" class="ltx_text ltx_font_bold">SemiFL</span>  <cite class="ltx_cite ltx_citemacro_citep">(Diao, Ding, and Tarokh <a href="#bib.bib3" title="" class="ltx_ref">2021</a>)</cite> and 5) <span id="S4.SS1.p3.1.5" class="ltx_text ltx_font_bold">RSCFed</span> <cite class="ltx_cite ltx_citemacro_citep">(Liang et al. <a href="#bib.bib22" title="" class="ltx_ref">2022</a>)</cite>. Note that as there is currently no one-shot semi-FL method, the chosen semi-supervised methods require multiple rounds of communication for comparison. 6) <span id="S4.SS1.p3.1.6" class="ltx_text ltx_font_bold">Prompts Only</span>: Image generation is directly performed without utilizing any image features as guidance and solely relying on the text prompts. 7) <span id="S4.SS1.p3.1.7" class="ltx_text ltx_font_bold">Supervised Ceiling</span>. As mentioned in the introduction, the inaccessible performance ceiling involves directly uploading and labeling all client images to the server for training the global model.</p>
</div>
<figure id="S4.F3" class="ltx_figure"><img src="/html/2305.04063/assets/x3.png" id="S4.F3.g1" class="ltx_graphics ltx_img_landscape" width="461" height="148" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>
The Comparison between generating using clustering centers or the randomly selected client representations. With the provision of clustering centers, the introduction of more representative semantic information leads to a significant improvement in the stability of the generated outputs.
</figcaption>
</figure>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2305.04063/assets/x4.png" id="S4.F4.g1" class="ltx_graphics ltx_img_landscape" width="461" height="253" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>
The inclusion of domain-specific representations and their impact on the generated results. We can effectively alter the style of the generated images by controlling the added domain-specific representations, thereby enhancing the diversity of generated samples.
</figcaption>
</figure>
<figure id="S4.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>The influence of the number of generated images.</figcaption>
<div id="S4.T4.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:101.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(62.8pt,-14.7pt) scale(1.40760175840505,1.40760175840505) ;">
<table id="S4.T4.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T4.1.1.1" class="ltx_tr">
<td id="S4.T4.1.1.1.1" class="ltx_td ltx_border_tt"></td>
<td id="S4.T4.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt">client0</td>
<td id="S4.T4.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt">client1</td>
<td id="S4.T4.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt">client2</td>
<td id="S4.T4.1.1.1.5" class="ltx_td ltx_align_center ltx_border_tt">client3</td>
<td id="S4.T4.1.1.1.6" class="ltx_td ltx_align_center ltx_border_tt">client4</td>
<td id="S4.T4.1.1.1.7" class="ltx_td ltx_align_center ltx_border_tt">average</td>
</tr>
<tr id="S4.T4.1.1.2" class="ltx_tr">
<td id="S4.T4.1.1.2.1" class="ltx_td ltx_align_center ltx_border_t">R=3</td>
<td id="S4.T4.1.1.2.2" class="ltx_td ltx_align_center ltx_border_t">53.41</td>
<td id="S4.T4.1.1.2.3" class="ltx_td ltx_align_center ltx_border_t">62.15</td>
<td id="S4.T4.1.1.2.4" class="ltx_td ltx_align_center ltx_border_t">61.31</td>
<td id="S4.T4.1.1.2.5" class="ltx_td ltx_align_center ltx_border_t">56.87</td>
<td id="S4.T4.1.1.2.6" class="ltx_td ltx_align_center ltx_border_t">55.49</td>
<td id="S4.T4.1.1.2.7" class="ltx_td ltx_align_center ltx_border_t">57.85</td>
</tr>
<tr id="S4.T4.1.1.3" class="ltx_tr">
<td id="S4.T4.1.1.3.1" class="ltx_td ltx_align_center">R=5</td>
<td id="S4.T4.1.1.3.2" class="ltx_td ltx_align_center">54.58</td>
<td id="S4.T4.1.1.3.3" class="ltx_td ltx_align_center"><span id="S4.T4.1.1.3.3.1" class="ltx_text ltx_font_bold">63.47</span></td>
<td id="S4.T4.1.1.3.4" class="ltx_td ltx_align_center">61.26</td>
<td id="S4.T4.1.1.3.5" class="ltx_td ltx_align_center">58.19</td>
<td id="S4.T4.1.1.3.6" class="ltx_td ltx_align_center"><span id="S4.T4.1.1.3.6.1" class="ltx_text ltx_font_bold">57.57</span></td>
<td id="S4.T4.1.1.3.7" class="ltx_td ltx_align_center">59.01</td>
</tr>
<tr id="S4.T4.1.1.4" class="ltx_tr">
<td id="S4.T4.1.1.4.1" class="ltx_td ltx_align_center ltx_border_bb">R=10</td>
<td id="S4.T4.1.1.4.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.1.1.4.2.1" class="ltx_text ltx_font_bold">56.11</span></td>
<td id="S4.T4.1.1.4.3" class="ltx_td ltx_align_center ltx_border_bb">62.49</td>
<td id="S4.T4.1.1.4.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.1.1.4.4.1" class="ltx_text ltx_font_bold">62.53</span></td>
<td id="S4.T4.1.1.4.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.1.1.4.5.1" class="ltx_text ltx_font_bold">59.16</span></td>
<td id="S4.T4.1.1.4.6" class="ltx_td ltx_align_center ltx_border_bb">56.77</td>
<td id="S4.T4.1.1.4.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.1.1.4.7.1" class="ltx_text ltx_font_bold">59.41</span></td>
</tr>
</table>
</span></div>
</figure>
<figure id="S4.T5" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>The influence of different conditions.</figcaption>
<div id="S4.T5.4" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:105.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(20.1pt,-4.9pt) scale(1.10211097945736,1.10211097945736) ;">
<table id="S4.T5.4.4" class="ltx_tabular ltx_align_middle">
<tr id="S4.T5.4.4.5" class="ltx_tr">
<td id="S4.T5.4.4.5.1" class="ltx_td ltx_align_center ltx_border_tt">
<table id="S4.T5.4.4.5.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T5.4.4.5.1.1.1" class="ltx_tr">
<td id="S4.T5.4.4.5.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">domain-specific</td>
</tr>
<tr id="S4.T5.4.4.5.1.1.2" class="ltx_tr">
<td id="S4.T5.4.4.5.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">features</td>
</tr>
</table>
</td>
<td id="S4.T5.4.4.5.2" class="ltx_td ltx_align_center ltx_border_tt">
<table id="S4.T5.4.4.5.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T5.4.4.5.2.1.1" class="ltx_tr">
<td id="S4.T5.4.4.5.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">cluster</td>
</tr>
<tr id="S4.T5.4.4.5.2.1.2" class="ltx_tr">
<td id="S4.T5.4.4.5.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">centroids</td>
</tr>
</table>
</td>
<td id="S4.T5.4.4.5.3" class="ltx_td ltx_align_center ltx_border_tt">client0</td>
<td id="S4.T5.4.4.5.4" class="ltx_td ltx_align_center ltx_border_tt">client1</td>
<td id="S4.T5.4.4.5.5" class="ltx_td ltx_align_center ltx_border_tt">client2</td>
<td id="S4.T5.4.4.5.6" class="ltx_td ltx_align_center ltx_border_tt">client3</td>
<td id="S4.T5.4.4.5.7" class="ltx_td ltx_align_center ltx_border_tt">client4</td>
<td id="S4.T5.4.4.5.8" class="ltx_td ltx_align_center ltx_border_tt">average</td>
</tr>
<tr id="S4.T5.1.1.1" class="ltx_tr">
<td id="S4.T5.1.1.1.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T5.1.1.1.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S4.T5.1.1.1.1.m1.1a"><mi mathvariant="normal" id="S4.T5.1.1.1.1.m1.1.1" xref="S4.T5.1.1.1.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.1.1.1.1.m1.1b"><ci id="S4.T5.1.1.1.1.m1.1.1.cmml" xref="S4.T5.1.1.1.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.1.1.1.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S4.T5.1.1.1.2" class="ltx_td ltx_border_t"></td>
<td id="S4.T5.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t">67.79</td>
<td id="S4.T5.1.1.1.4" class="ltx_td ltx_align_center ltx_border_t">40.02</td>
<td id="S4.T5.1.1.1.5" class="ltx_td ltx_align_center ltx_border_t">63.59</td>
<td id="S4.T5.1.1.1.6" class="ltx_td ltx_align_center ltx_border_t">13.77</td>
<td id="S4.T5.1.1.1.7" class="ltx_td ltx_align_center ltx_border_t">60.57</td>
<td id="S4.T5.1.1.1.8" class="ltx_td ltx_align_center ltx_border_t">49.15</td>
</tr>
<tr id="S4.T5.2.2.2" class="ltx_tr">
<td id="S4.T5.2.2.2.2" class="ltx_td"></td>
<td id="S4.T5.2.2.2.1" class="ltx_td ltx_align_center"><math id="S4.T5.2.2.2.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S4.T5.2.2.2.1.m1.1a"><mi mathvariant="normal" id="S4.T5.2.2.2.1.m1.1.1" xref="S4.T5.2.2.2.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.2.2.2.1.m1.1b"><ci id="S4.T5.2.2.2.1.m1.1.1.cmml" xref="S4.T5.2.2.2.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.2.2.2.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S4.T5.2.2.2.3" class="ltx_td ltx_align_center">65.83</td>
<td id="S4.T5.2.2.2.4" class="ltx_td ltx_align_center">38.27</td>
<td id="S4.T5.2.2.2.5" class="ltx_td ltx_align_center">64.56</td>
<td id="S4.T5.2.2.2.6" class="ltx_td ltx_align_center">14.30</td>
<td id="S4.T5.2.2.2.7" class="ltx_td ltx_align_center">60.37</td>
<td id="S4.T5.2.2.2.8" class="ltx_td ltx_align_center">48.66</td>
</tr>
<tr id="S4.T5.4.4.4" class="ltx_tr">
<td id="S4.T5.3.3.3.1" class="ltx_td ltx_align_center ltx_border_bb"><math id="S4.T5.3.3.3.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S4.T5.3.3.3.1.m1.1a"><mi mathvariant="normal" id="S4.T5.3.3.3.1.m1.1.1" xref="S4.T5.3.3.3.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.3.3.3.1.m1.1b"><ci id="S4.T5.3.3.3.1.m1.1.1.cmml" xref="S4.T5.3.3.3.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.3.3.3.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S4.T5.4.4.4.2" class="ltx_td ltx_align_center ltx_border_bb"><math id="S4.T5.4.4.4.2.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S4.T5.4.4.4.2.m1.1a"><mi mathvariant="normal" id="S4.T5.4.4.4.2.m1.1.1" xref="S4.T5.4.4.4.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S4.T5.4.4.4.2.m1.1b"><ci id="S4.T5.4.4.4.2.m1.1.1.cmml" xref="S4.T5.4.4.4.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.4.4.4.2.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S4.T5.4.4.4.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T5.4.4.4.3.1" class="ltx_text ltx_font_bold">72.54</span></td>
<td id="S4.T5.4.4.4.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T5.4.4.4.4.1" class="ltx_text ltx_font_bold">43.47</span></td>
<td id="S4.T5.4.4.4.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T5.4.4.4.5.1" class="ltx_text ltx_font_bold">67.42</span></td>
<td id="S4.T5.4.4.4.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T5.4.4.4.6.1" class="ltx_text ltx_font_bold">17.71</span></td>
<td id="S4.T5.4.4.4.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T5.4.4.4.7.1" class="ltx_text ltx_font_bold">67.25</span></td>
<td id="S4.T5.4.4.4.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T5.4.4.4.8.1" class="ltx_text ltx_font_bold">53.67</span></td>
</tr>
</table>
</span></div>
</figure>
<figure id="S4.T6" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Comparison about communication and computation.</figcaption>
<div id="S4.T6.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:122.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(25.4pt,-7.2pt) scale(1.13253472999912,1.13253472999912) ;">
<table id="S4.T6.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T6.1.1.1" class="ltx_tr">
<td id="S4.T6.1.1.1.1" class="ltx_td ltx_border_tt"></td>
<td id="S4.T6.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt">iterations</td>
<td id="S4.T6.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt">Upload Params (M)</td>
<td id="S4.T6.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt">Total Compute on Client (Gflops)</td>
</tr>
<tr id="S4.T6.1.1.2" class="ltx_tr">
<td id="S4.T6.1.1.2.1" class="ltx_td ltx_align_center ltx_border_t">FedAvg-sm</td>
<td id="S4.T6.1.1.2.2" class="ltx_td ltx_align_center ltx_border_t">30</td>
<td id="S4.T6.1.1.2.3" class="ltx_td ltx_align_center ltx_border_t">30*632.08</td>
<td id="S4.T6.1.1.2.4" class="ltx_td ltx_align_center ltx_border_t">30*1,004.19</td>
</tr>
<tr id="S4.T6.1.1.3" class="ltx_tr">
<td id="S4.T6.1.1.3.1" class="ltx_td ltx_align_center">SemiFL</td>
<td id="S4.T6.1.1.3.2" class="ltx_td ltx_align_center">500</td>
<td id="S4.T6.1.1.3.3" class="ltx_td ltx_align_center">500*632.08</td>
<td id="S4.T6.1.1.3.4" class="ltx_td ltx_align_center">500*1,004.19</td>
</tr>
<tr id="S4.T6.1.1.4" class="ltx_tr">
<td id="S4.T6.1.1.4.1" class="ltx_td ltx_align_center">RSCFed</td>
<td id="S4.T6.1.1.4.2" class="ltx_td ltx_align_center">100</td>
<td id="S4.T6.1.1.4.3" class="ltx_td ltx_align_center">100*632.08</td>
<td id="S4.T6.1.1.4.4" class="ltx_td ltx_align_center">100*1,004.19</td>
</tr>
<tr id="S4.T6.1.1.5" class="ltx_tr">
<td id="S4.T6.1.1.5.1" class="ltx_td ltx_align_center">Sup. Ceiling</td>
<td id="S4.T6.1.1.5.2" class="ltx_td ltx_align_center">1</td>
<td id="S4.T6.1.1.5.3" class="ltx_td ltx_align_center">925.88</td>
<td id="S4.T6.1.1.5.4" class="ltx_td ltx_align_center">-</td>
</tr>
<tr id="S4.T6.1.1.6" class="ltx_tr">
<td id="S4.T6.1.1.6.1" class="ltx_td ltx_align_center ltx_border_bb">FedDISC</td>
<td id="S4.T6.1.1.6.2" class="ltx_td ltx_align_center ltx_border_bb">1</td>
<td id="S4.T6.1.1.6.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T6.1.1.6.3.1" class="ltx_text ltx_font_bold">4.23</span></td>
<td id="S4.T6.1.1.6.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T6.1.1.6.4.1" class="ltx_text ltx_font_bold">334.73</span></td>
</tr>
</table>
</span></div>
</figure>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Main Results</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Table <a href="#S2.T1" title="Table 1 ‣ 2.3 FL with Foundation Models ‣ 2 Related Works ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the performance of our method and various baselines on four datasets. We highlight several phenomena:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p">In addition to the supervised ceiling, FedDISC achieves the best average performance with only 1 communication round. This demonstrates the enormous potential of pre-trained DMs in FL.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">From the results on DomainNet, we can see that FedDISC has good performance on all clients except <span id="S4.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">infograph</span>. We think the reason is that there is a lot of textual information in this domain, but currently, the Stable Diffusion still has limited support for text present in the images.</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p">On OpenImage, NICO++_C, and NICO++_U, compared with other baselines, FedDISC exhibits a significant performance improvement. That’s because Stable Diffusion is exposed to more realistic images during pre-training, which consequently grants it enhanced generative capabilities across these datasets.</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i4.p1" class="ltx_para">
<p id="S4.I1.i4.p1.1" class="ltx_p">Despite the powerful generalization ability of CLIP, directly using CLIP to perform zero-shot classification still cannot achieve the best performance, therefore further fine-tuning is needed.</p>
</div>
</li>
<li id="S4.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i5.p1" class="ltx_para">
<p id="S4.I1.i5.p1.1" class="ltx_p">Compared with Prompt Only, without the guidance of client image features, generated images would be heavily biased towards the most common distributions, demonstrating the necessity of guidance.</p>
</div>
</li>
<li id="S4.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i6.p1" class="ltx_para">
<p id="S4.I1.i6.p1.1" class="ltx_p">Compared with Sup. Ceiling, FedDISC does not exhibit significant performance lag. It can even surpass in some domains, affirming the ideas posited in Section  <a href="#S1" title="1 Introduction ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">From Figure  <a href="#S3.F2" title="Figure 2 ‣ 3.2 FedDISC ‣ 3 Method ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> and the other visualization results in the supplementary materials, it can be seen that on DomainNet,OpenImage, NICO++_C, and NICO++_U our method can generate high-quality images that comply with various client distributions while being semantically correct, collectively underscoring the superior performance of FEDDISC.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Ablation Experiments</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.2" class="ltx_p">We conduct four kinds of experiments in DomainNet and OpenImage to discuss the influences of various hyperparameters, including the variations in the number of uploaded cluster centroids <math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">L</annotation></semantics></math>, the number of generated images per cluster centroid <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="R" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><mi id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><ci id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">R</annotation></semantics></math>, the use of domain-specific representations and cluster centroids.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.2" class="ltx_p"><span id="S4.SS3.p2.2.1" class="ltx_text ltx_font_bold">The Number of Uploaded Cluster Centroids.</span> We perform experiments on OpenImage to discuss the influence of the number of the uploaded cluster centroids <math id="S4.SS3.p2.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S4.SS3.p2.1.m1.1a"><mi id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><ci id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">L</annotation></semantics></math>. Since this number is related to the performance of fine-tuning, we also test the performance of fine-tuning under different <math id="S4.SS3.p2.2.m2.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S4.SS3.p2.2.m2.1a"><mi id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><ci id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">L</annotation></semantics></math> for comparison. From Table  <a href="#S3.T2" title="Table 2 ‣ 3.2 FedDISC ‣ 3 Method ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, we can see that in most cases, uploading a small number of cluster centroids is already sufficient to represent the semantics of the subcategories. Increasing the number of cluster centroids enhances the availability of client information during the generation process, thereby further elevating the quality of generated images.</p>
</div>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2305.04063/assets/x5.png" id="S4.F5.g1" class="ltx_graphics ltx_img_square" width="461" height="496" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>
The comparison between the raw client images and their generated images. It can be observed that the generated images do not leak any sensitive privacy present in the original images, such as faces, text, etc. The generated images exhibit only a stylistic resemblance to the original images. Completing reconstruction starting from high-dimensional features without any training is nearly impossible.
</figcaption>
</figure>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.2" class="ltx_p"><span id="S4.SS3.p3.2.1" class="ltx_text ltx_font_bold">The Number of Generated Images.</span> We discuss the number of images generated by each cluster centroid on OpenImage. From Table  <a href="#S4.T4" title="Table 4 ‣ 4.1 Experimental Setup ‣ 4 Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, we can find that the overall performance of the method gradually improves as <math id="S4.SS3.p3.1.m1.1" class="ltx_Math" alttext="R" display="inline"><semantics id="S4.SS3.p3.1.m1.1a"><mi id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><ci id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">R</annotation></semantics></math> increases. This is reasonable as the increment of <math id="S4.SS3.p3.2.m2.1" class="ltx_Math" alttext="R" display="inline"><semantics id="S4.SS3.p3.2.m2.1a"><mi id="S4.SS3.p3.2.m2.1.1" xref="S4.SS3.p3.2.m2.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m2.1b"><ci id="S4.SS3.p3.2.m2.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.2.m2.1c">R</annotation></semantics></math> indicates the increment in the variety of generated data. However, generating a small number of images is sufficient since the randomly sampled initial noise can bring some varieties too.</p>
</div>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.1" class="ltx_p"><span id="S4.SS3.p4.1.1" class="ltx_text ltx_font_bold">The Roles of Domain-specific Representations and Cluster Centroids.</span> The third part concerns the discussion on the roles of domain-specific representations and cluster centroids on DomainNet. We compare FedDISC with cases where domain-specific representations are not used during generation, and cases where cluster centroids are not uploaded, but an equal number of client features are randomly selected and uploaded. As shown in Table  <a href="#S4.T5" title="Table 5 ‣ 4.1 Experimental Setup ‣ 4 Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, the removal of either domain-specific representations or cluster centroids has a significant influence on the performance.</p>
</div>
<div id="S4.SS3.p5" class="ltx_para">
<p id="S4.SS3.p5.1" class="ltx_p">The visualization results in Figure  <a href="#S4.F3" title="Figure 3 ‣ 4.1 Experimental Setup ‣ 4 Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> demonstrate that without the cluster centroids, the semantic information of the generated images becomes ambiguous and may lead to generating images that do not match the given text prompts. Figure  <a href="#S4.F4" title="Figure 4 ‣ 4.1 Experimental Setup ‣ 4 Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows that removing the domain-specific representations leads to the style of the generated images being monotonous, which reduces the diversity of the generated images. These results are consistent with our goals of using domain-specific representations and cluster centroids mentioned in Section 1.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Discussions</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p"><span id="S4.SS4.p1.1.1" class="ltx_text ltx_font_bold">The Privacy Issues.</span>
As mentioned in <cite class="ltx_cite ltx_citemacro_citep">(Shao et al. <a href="#bib.bib35" title="" class="ltx_ref">2023</a>)</cite>, the transmission of features is one of the existing ways of information sharing in FL. What’s more, in this paper, there is no other information transferred to the server including the model parameters, which also carry the risk of privacy leakage. Therefore, considering the amount of data uploaded from clients, our method exhibits significantly lower privacy leakage compared to other FL methods.
Moreover, to explore the feasibility of recovering private information from SD using the noise-added features, we focus on validating whether the generated images contain any privacy-sensitive information, such as text, faces, etc. For example, in some images with private text, we claim that the generated images with completely different texts do not leak the user’s privacy, even though they appear to be similar. In figure <a href="#S4.F5" title="Figure 5 ‣ 4.3 Ablation Experiments ‣ 4 Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, we select four categories from OpenImage that may involve privacy-sensitive information and show some client images and their corresponding generated images. These results demonstrate that FedDISC has a low likelihood of leaking privacy-sensitive information during generation. Due to the space limitation, we provide further discussions in supplementary materials.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para ltx_noindent">
<p id="S4.SS4.p2.1" class="ltx_p"><span id="S4.SS4.p2.1.1" class="ltx_text ltx_font_bold">Communication and Computational Complexity.</span>
In Table  <a href="#S4.T6" title="Table 6 ‣ 4.1 Experimental Setup ‣ 4 Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, to compare communication and computational complexity with other baselines, we conduct statistical analyses on DomainNet. Among the baselines requiring iterations, the uploading and downloading of the image encoder is needed in each round. Sup. Ceiling needs to upload all client images. In contrast, FedDISC solely requires one time of image encoder downloading and a minimal upload of image features, incurring negligible additional communication.</p>
</div>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.1" class="ltx_p">Concerning computational complexity, since the server in FL is generally not constrained by device performance due to tasks involving client scheduling and model aggregation, we only assess compute on the clients. All compute of Sup. Ceiling proceeds on the server and is devoid of reference value. Among the baselines requiring iterations, multiple rounds of backpropagation exhibit more computing. In contrast, FedDISC needs a single forward propagation for feature extraction, resulting in approximately one-third of the computation compared to backpropagation. The aforementioned experiments demonstrate that FEDDISC holds significant advantages in terms of communication and client computational complexity, underscoring its high practicality.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this paper, we explore the task of one-shot semi-FL and propose FedDISC, a new method that integrates pre-trained DMs into the semi-FL framework for the first time. In a single communication round and without any client training, our method achieves performance comparable to the ceiling performance and even surpasses it in some cases. The introduction of domain representations and clustering centroids further enhances the quality and stability of generation. Extensive quantitative and visualization experiments demonstrate the excellent performance of our method and underscore the potential and prospects of DMs within the FL.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Caruana (1997)</span>
<span class="ltx_bibblock">
Caruana, R. 1997.

</span>
<span class="ltx_bibblock">Multitask learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">Machine learning</em>, 28(1): 41–75.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dhariwal and Nichol (2021)</span>
<span class="ltx_bibblock">
Dhariwal, P.; and Nichol, A. 2021.

</span>
<span class="ltx_bibblock">Diffusion models beat gans on image synthesis.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 34:
8780–8794.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Diao, Ding, and Tarokh (2021)</span>
<span class="ltx_bibblock">
Diao, E.; Ding, J.; and Tarokh, V. 2021.

</span>
<span class="ltx_bibblock">SemiFL: Communication efficient semi-supervised federated learning
with unlabeled clients.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2106.01432</em>, 3.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dinh, Tran, and Nguyen (2020)</span>
<span class="ltx_bibblock">
Dinh, C. T.; Tran, N. H.; and Nguyen, T. D. 2020.

</span>
<span class="ltx_bibblock">Personalized Federated Learning with Moreau Envelopes.

</span>
<span class="ltx_bibblock">In Larochelle, H.; Ranzato, M.; Hadsell, R.; Balcan, M.; and Lin, H.,
eds., <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems 33: Annual
Conference on Neural Information Processing Systems 2020, NeurIPS 2020,
December 6-12, 2020, virtual</em>.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du et al. (2023)</span>
<span class="ltx_bibblock">
Du, Y.; Durkan, C.; Strudel, R.; Tenenbaum, J. B.; Dieleman, S.; Fergus, R.;
Sohl-Dickstein, J.; Doucet, A.; and Grathwohl, W. 2023.

</span>
<span class="ltx_bibblock">Reduce, Reuse, Recycle: Compositional Generation with Energy-Based
Diffusion Models and MCMC.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2302.11552</em>.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fallah, Mokhtari, and Ozdaglar (2020)</span>
<span class="ltx_bibblock">
Fallah, A.; Mokhtari, A.; and Ozdaglar, A. 2020.

</span>
<span class="ltx_bibblock">Personalized federated learning with theoretical guarantees: A
model-agnostic meta-learning approach.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 33.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fantauzzo et al. (2022)</span>
<span class="ltx_bibblock">
Fantauzzo, L.; Fanì, E.; Caldarola, D.; Tavera, A.; Cermelli, F.; Ciccone,
M.; and Caputo, B. 2022.

</span>
<span class="ltx_bibblock">Feddrive: Generalizing federated learning to semantic segmentation in
autonomous driving.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">2022 IEEE/RSJ International Conference on Intelligent Robots
and Systems (IROS)</em>, 11504–11511. IEEE.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al. (2022)</span>
<span class="ltx_bibblock">
Guo, T.; Guo, S.; Wang, J.; and Xu, W. 2022.

</span>
<span class="ltx_bibblock">PromptFL: Let Federated Participants Cooperatively Learn Prompts
Instead of Models–Federated Learning in Age of Foundation Model.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2208.11625</em>.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(9)</span>
<span class="ltx_bibblock">
Heinbaugh, C. E.; Luz-Ricca, E.; and Shao, H. ????

</span>
<span class="ltx_bibblock">Data-Free One-Shot Federated Learning Under Very High Statistical
Heterogeneity.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">The Eleventh International Conference on Learning
Representations</em>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ho, Jain, and Abbeel (2020)</span>
<span class="ltx_bibblock">
Ho, J.; Jain, A.; and Abbeel, P. 2020.

</span>
<span class="ltx_bibblock">Denoising diffusion probabilistic models.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 33:
6840–6851.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2023)</span>
<span class="ltx_bibblock">
Huang, L.; Chen, D.; Liu, Y.; Shen, Y.; Zhao, D.; and Zhou, J. 2023.

</span>
<span class="ltx_bibblock">Composer: Creative and controllable image synthesis with composable
conditions.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2302.09778</em>.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2021)</span>
<span class="ltx_bibblock">
Huang, Y.; Chu, L.; Zhou, Z.; Wang, L.; Liu, J.; Pei, J.; and Zhang, Y. 2021.

</span>
<span class="ltx_bibblock">Personalized cross-silo federated learning on non-iid data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">Proceedings of the AAAI Conference on Artificial
Intelligence</em>, volume 35, 7865–7873.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jeong et al. (2021)</span>
<span class="ltx_bibblock">
Jeong, W.; Yoon, J.; Yang, E.; and Hwang, S. J. 2021.

</span>
<span class="ltx_bibblock">Federated Semi-Supervised Learning with Inter-Client Consistency &amp;
Disjoint Learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">9th International Conference on Learning Representations,
ICLR 2021, Virtual Event, Austria, May 3-7, 2021</em>. OpenReview.net.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kairouz et al. (2021)</span>
<span class="ltx_bibblock">
Kairouz, P.; McMahan, H. B.; Avent, B.; Bellet, A.; Bennis, M.; Bhagoji, A. N.;
Bonawitz, K.; Charles, Z.; Cormode, G.; Cummings, R.; et al. 2021.

</span>
<span class="ltx_bibblock">Advances and open problems in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">Foundations and Trends® in Machine Learning</em>,
14(1–2): 1–210.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karimireddy et al. (2020)</span>
<span class="ltx_bibblock">
Karimireddy, S. P.; Kale, S.; Mohri, M.; Reddi, S.; Stich, S.; and Suresh,
A. T. 2020.

</span>
<span class="ltx_bibblock">SCAFFOLD: Stochastic controlled averaging for federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, 5132–5143.
PMLR.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim, Kwon, and Ye (2022)</span>
<span class="ltx_bibblock">
Kim, G.; Kwon, T.; and Ye, J. C. 2022.

</span>
<span class="ltx_bibblock">Diffusionclip: Text-guided diffusion models for robust image
manipulation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, 2426–2435.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kirillov et al. (2023)</span>
<span class="ltx_bibblock">
Kirillov, A.; Mintun, E.; Ravi, N.; Mao, H.; Rolland, C.; Gustafson, L.; Xiao,
T.; Whitehead, S.; Berg, A. C.; Lo, W.-Y.; et al. 2023.

</span>
<span class="ltx_bibblock">Segment anything.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2304.02643</em>.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kuznetsova et al. (2020)</span>
<span class="ltx_bibblock">
Kuznetsova, A.; Rom, H.; Alldrin, N.; Uijlings, J.; Krasin, I.; Pont-Tuset, J.;
Kamali, S.; Popov, S.; Malloci, M.; Kolesnikov, A.; et al. 2020.

</span>
<span class="ltx_bibblock">The open images dataset v4: Unified image classification, object
detection, and visual relationship detection at scale.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">International Journal of Computer Vision</em>, 128(7): 1956–1981.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020a)</span>
<span class="ltx_bibblock">
Li, T.; Sahu, A. K.; Talwalkar, A.; and Smith, V. 2020a.

</span>
<span class="ltx_bibblock">Federated learning: Challenges, methods, and future directions.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">IEEE signal processing magazine</em>, 37(3): 50–60.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020b)</span>
<span class="ltx_bibblock">
Li, T.; Sahu, A. K.; Zaheer, M.; Sanjabi, M.; Talwalkar, A.; and Smith, V.
2020b.

</span>
<span class="ltx_bibblock">Federated Optimization in Heterogeneous Networks.

</span>
<span class="ltx_bibblock">In Dhillon, I. S.; Papailiopoulos, D. S.; and Sze, V., eds.,
<em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">MLSys</em>. mlsys.org.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2019)</span>
<span class="ltx_bibblock">
Li, X.; Huang, K.; Yang, W.; Wang, S.; and Zhang, Z. 2019.

</span>
<span class="ltx_bibblock">On the convergence of fedavg on non-iid data.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1907.02189</em>.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liang et al. (2022)</span>
<span class="ltx_bibblock">
Liang, X.; Lin, Y.; Fu, H.; Zhu, L.; and Li, X. 2022.

</span>
<span class="ltx_bibblock">RSCFed: random sampling consensus federated semi-supervised learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, 10154–10163.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2022)</span>
<span class="ltx_bibblock">
Liu, N.; Li, S.; Du, Y.; Torralba, A.; and Tenenbaum, J. B. 2022.

</span>
<span class="ltx_bibblock">Compositional visual generation with composable diffusion models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Computer Vision–ECCV 2022: 17th European Conference, Tel
Aviv, Israel, October 23–27, 2022, Proceedings, Part XVII</em>, 423–439.
Springer.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mammen (2021)</span>
<span class="ltx_bibblock">
Mammen, P. M. 2021.

</span>
<span class="ltx_bibblock">Federated learning: Opportunities and challenges.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2101.05428</em>.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al. (2017)</span>
<span class="ltx_bibblock">
McMahan, B.; Moore, E.; Ramage, D.; Hampson, S.; and y Arcas, B. A. 2017.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Artificial Intelligence and Statistics</em>, 1273–1282. PMLR.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nguyen et al. (2022)</span>
<span class="ltx_bibblock">
Nguyen, A.; Do, T.; Tran, M.; Nguyen, B. X.; Duong, C.; Phan, T.; Tjiputra, E.;
and Tran, Q. D. 2022.

</span>
<span class="ltx_bibblock">Deep federated learning for autonomous driving.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">2022 IEEE Intelligent Vehicles Symposium (IV)</em>, 1824–1830.
IEEE.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nichol et al. (2021)</span>
<span class="ltx_bibblock">
Nichol, A.; Dhariwal, P.; Ramesh, A.; Shyam, P.; Mishkin, P.; McGrew, B.;
Sutskever, I.; and Chen, M. 2021.

</span>
<span class="ltx_bibblock">Glide: Towards photorealistic image generation and editing with
text-guided diffusion models.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2112.10741</em>.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Peng et al. (2019)</span>
<span class="ltx_bibblock">
Peng, X.; Bai, Q.; Xia, X.; Huang, Z.; Saenko, K.; and Wang, B. 2019.

</span>
<span class="ltx_bibblock">Moment matching for multi-source domain adaptation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF international conference on
computer vision</em>, 1406–1415.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Preechakul et al. (2022)</span>
<span class="ltx_bibblock">
Preechakul, K.; Chatthee, N.; Wizadwongsa, S.; and Suwajanakorn, S. 2022.

</span>
<span class="ltx_bibblock">Diffusion autoencoders: Toward a meaningful and decodable
representation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, 10619–10629.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2021)</span>
<span class="ltx_bibblock">
Radford, A.; Kim, J. W.; Hallacy, C.; Ramesh, A.; Goh, G.; Agarwal, S.; Sastry,
G.; Askell, A.; Mishkin, P.; Clark, J.; et al. 2021.

</span>
<span class="ltx_bibblock">Learning transferable visual models from natural language
supervision.

</span>
<span class="ltx_bibblock">In <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">International conference on machine learning</em>, 8748–8763.
PMLR.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reddi et al. (2020)</span>
<span class="ltx_bibblock">
Reddi, S.; Charles, Z.; Zaheer, M.; Garrett, Z.; Rush, K.; Konečnỳ,
J.; Kumar, S.; and McMahan, H. B. 2020.

</span>
<span class="ltx_bibblock">Adaptive federated optimization.

</span>
<span class="ltx_bibblock"><em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2003.00295</em>.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rombach et al. (2022)</span>
<span class="ltx_bibblock">
Rombach, R.; Blattmann, A.; Lorenz, D.; Esser, P.; and Ommer, B. 2022.

</span>
<span class="ltx_bibblock">High-resolution image synthesis with latent diffusion models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, 10684–10695.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saharia et al. (2022a)</span>
<span class="ltx_bibblock">
Saharia, C.; Chan, W.; Chang, H.; Lee, C.; Ho, J.; Salimans, T.; Fleet, D.; and
Norouzi, M. 2022a.

</span>
<span class="ltx_bibblock">Palette: Image-to-image diffusion models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">ACM SIGGRAPH 2022 Conference Proceedings</em>, 1–10.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saharia et al. (2022b)</span>
<span class="ltx_bibblock">
Saharia, C.; Chan, W.; Saxena, S.; Li, L.; Whang, J.; Denton, E. L.;
Ghasemipour, K.; Gontijo Lopes, R.; Karagol Ayan, B.; Salimans, T.; et al.
2022b.

</span>
<span class="ltx_bibblock">Photorealistic text-to-image diffusion models with deep language
understanding.

</span>
<span class="ltx_bibblock"><em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 35:
36479–36494.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shao et al. (2023)</span>
<span class="ltx_bibblock">
Shao, J.; Li, Z.; Sun, W.; Zhou, T.; Sun, Y.; Liu, L.; Lin, Z.; and Zhang, J.
2023.

</span>
<span class="ltx_bibblock">A Survey of What to Share in Federated Learning: Perspectives on
Model Utility, Privacy Leakage, and Communication Efficiency.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2307.10655</em>.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sohl-Dickstein et al. (2015)</span>
<span class="ltx_bibblock">
Sohl-Dickstein, J.; Weiss, E.; Maheswaranathan, N.; and Ganguli, S. 2015.

</span>
<span class="ltx_bibblock">Deep unsupervised learning using nonequilibrium thermodynamics.

</span>
<span class="ltx_bibblock">In <em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, 2256–2265.
PMLR.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Su, Li, and Xue (2023)</span>
<span class="ltx_bibblock">
Su, S.; Li, B.; and Xue, X. 2023.

</span>
<span class="ltx_bibblock">One-shot Federated Learning without server-side training.

</span>
<span class="ltx_bibblock"><em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">Neural Networks</em>.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Su et al. (2022a)</span>
<span class="ltx_bibblock">
Su, S.; Yang, M.; Li, B.; and Xue, X. 2022a.

</span>
<span class="ltx_bibblock">Cross-domain Federated Adaptive Prompt Tuning for CLIP.

</span>
<span class="ltx_bibblock"><em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2211.07864</em>.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Su et al. (2022b)</span>
<span class="ltx_bibblock">
Su, X.; Song, J.; Meng, C.; and Ermon, S. 2022b.

</span>
<span class="ltx_bibblock">Dual diffusion implicit bridges for image-to-image translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">The Eleventh International Conference on Learning
Representations</em>.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2020)</span>
<span class="ltx_bibblock">
Wang, J.; Liu, Q.; Liang, H.; Joshi, G.; and Poor, H. V. 2020.

</span>
<span class="ltx_bibblock">Tackling the objective inconsistency problem in heterogeneous
federated optimization.

</span>
<span class="ltx_bibblock"><em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems 33</em>.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2022)</span>
<span class="ltx_bibblock">
Wang, T.; Zhang, T.; Zhang, B.; Ouyang, H.; Chen, D.; Chen, Q.; and Wen, F.
2022.

</span>
<span class="ltx_bibblock">Pretraining is all you need for image-to-image translation.

</span>
<span class="ltx_bibblock"><em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2205.12952</em>.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2022a)</span>
<span class="ltx_bibblock">
Zhang, J.; Chen, C.; Li, B.; Lyu, L.; Wu, S.; Ding, S.; Shen, C.; and Wu, C.
2022a.

</span>
<span class="ltx_bibblock">Dense: Data-free one-shot federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 35:
21414–21428.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang and Agrawala (2023)</span>
<span class="ltx_bibblock">
Zhang, L.; and Agrawala, M. 2023.

</span>
<span class="ltx_bibblock">Adding conditional control to text-to-image diffusion models.

</span>
<span class="ltx_bibblock"><em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2302.05543</em>.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2021a)</span>
<span class="ltx_bibblock">
Zhang, M.; Sapra, K.; Fidler, S.; Yeung, S.; and Alvarez, J. M.
2021a.

</span>
<span class="ltx_bibblock">Personalized Federated Learning with First Order Model Optimization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">9th International Conference on Learning Representations,
ICLR 2021, Virtual Event, Austria, May 3-7, 2021</em>. OpenReview.net.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2022b)</span>
<span class="ltx_bibblock">
Zhang, X.; Zhou, L.; Xu, R.; Cui, P.; Shen, Z.; and Liu, H. 2022b.

</span>
<span class="ltx_bibblock">Nico++: Towards better benchmarking for domain generalization.

</span>
<span class="ltx_bibblock"><em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2204.08040</em>.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2021b)</span>
<span class="ltx_bibblock">
Zhang, Z.; Yang, Y.; Yao, Z.; Yan, Y.; Gonzalez, J. E.; Ramchandran, K.; and
Mahoney, M. W. 2021b.

</span>
<span class="ltx_bibblock">Improving semi-supervised federated learning by reducing the gradient
diversity of models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib46.1.1" class="ltx_emph ltx_font_italic">2021 IEEE International Conference on Big Data (Big Data)</em>,
1214–1225. IEEE.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Details of Experiments</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Dataset Description</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p id="A1.SS1.p1.1" class="ltx_p">To further simulate the real-world scenarios and demonstrate the practicality of FedDISC, we use three large-scale realistic datasets to evaluate the performance of our method: DomainNet <cite class="ltx_cite ltx_citemacro_citep">(Peng et al. <a href="#bib.bib28" title="" class="ltx_ref">2019</a>)</cite>, OpenImage <cite class="ltx_cite ltx_citemacro_citep">(Kuznetsova et al. <a href="#bib.bib18" title="" class="ltx_ref">2020</a>)</cite>, and NICO++ <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al. <a href="#bib.bib45" title="" class="ltx_ref">2022b</a>)</cite>. NICO++ can be divided into the common contexts (NICO++_C) and the unique contexts (NICO++_U). The example images from each dataset are presented in figure  <a href="#A1.F6" title="Figure 6 ‣ DomainNet ‣ A.1 Dataset Description ‣ Appendix A Details of Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>. For all these datasets, the resolutions of the input images for feature extraction and classification are 224x224.
As mentioned in Section 1 of the main text, the scenario we investigate is the one-shot semi-supervised federated learning setup depicted in Figure  <a href="#A1.F6" title="Figure 6 ‣ DomainNet ‣ A.1 Dataset Description ‣ Appendix A Details of Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>. Accordingly, all images on the server are labeled images, while all images on the clients are unlabeled images (except in the Sup. Ceiling baseline assuming that the unlabeled client images are labeled on the server after uploaded). Additionally, the client side only communicates with the server once.</p>
</div>
<div id="A1.SS1.p2" class="ltx_para">
<p id="A1.SS1.p2.1" class="ltx_p">As stated in Section 3.1 of the main paper, we focus on the model’s performance on each client. Thus, we evaluate the performance of our method on the test datasets of the five clients. All the test results of FedDISC are the average of the results from three random initial seeds.</p>
</div>
<section id="A1.SS1.SSSx1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">DomainNet</h4>

<div id="A1.SS1.SSSx1.p1" class="ltx_para">
<p id="A1.SS1.SSSx1.p1.1" class="ltx_p">DomainNet is a large-scale dataset consisting of six domains, <span id="A1.SS1.SSSx1.p1.1.1" class="ltx_text ltx_font_italic">clipart</span>, <span id="A1.SS1.SSSx1.p1.1.2" class="ltx_text ltx_font_italic">infograph</span>, <span id="A1.SS1.SSSx1.p1.1.3" class="ltx_text ltx_font_italic">painting</span>, <span id="A1.SS1.SSSx1.p1.1.4" class="ltx_text ltx_font_italic">quickdraw</span>, <span id="A1.SS1.SSSx1.p1.1.5" class="ltx_text ltx_font_italic">real</span>, and <span id="A1.SS1.SSSx1.p1.1.6" class="ltx_text ltx_font_italic">sketch</span>, with each domain containing 345 categories. As server data requires collection of annotated datasets, in order to enhance the practicality of our method, we opt to place the most common domains on the server. So, we set the <span id="A1.SS1.SSSx1.p1.1.7" class="ltx_text ltx_font_italic">real</span> domain as the server. Next, we conduct experiments involving changes in the quantity of dataset categories. We choose the first 30, 90, 150, and all 345 categories, as <span id="A1.SS1.SSSx1.p1.1.8" class="ltx_text ltx_font_bold">DomainNet_30</span>, <span id="A1.SS1.SSSx1.p1.1.9" class="ltx_text ltx_font_bold">DomainNet_90</span>, <span id="A1.SS1.SSSx1.p1.1.10" class="ltx_text ltx_font_bold">DomainNet_150</span>, <span id="A1.SS1.SSSx1.p1.1.11" class="ltx_text ltx_font_bold">DomainNet_345</span> in the following experiments, to represent the change in the difficulty of the downstream classification tasks.</p>
</div>
<figure id="A1.F6" class="ltx_figure"><img src="/html/2305.04063/assets/x6.png" id="A1.F6.g1" class="ltx_graphics ltx_img_square" width="452" height="495" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>
The example images of used three datasets.
</figcaption>
</figure>
<figure id="A1.F7" class="ltx_figure"><img src="/html/2305.04063/assets/x7.png" id="A1.F7.g1" class="ltx_graphics ltx_img_landscape" width="452" height="320" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>
One-shot semi-supervised federated learning.
</figcaption>
</figure>
<figure id="A1.F8" class="ltx_figure"><img src="/html/2305.04063/assets/x8.png" id="A1.F8.g1" class="ltx_graphics ltx_img_landscape" width="452" height="252" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>
The brief model structure of Stable Diffusion Unclip.
</figcaption>
</figure>
<figure id="A1.F9" class="ltx_figure"><img src="/html/2305.04063/assets/x9.png" id="A1.F9.g1" class="ltx_graphics ltx_img_landscape" width="452" height="331" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>
The visual comparison of using different noise-adding methods. Through our method of adding noise, the semantic information in the original image will not be significantly disrupted.
</figcaption>
</figure>
<figure id="A1.F10" class="ltx_figure"><img src="/html/2305.04063/assets/x10.png" id="A1.F10.g1" class="ltx_graphics ltx_img_landscape" width="452" height="332" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>
The visual comparison of using different feature combination methods. Through our approach to feature synthesis, the stylistic information of the domain is seamlessly integrated with the semantic content of the image, resulting in a more vivid and realistic generated image.
</figcaption>
</figure>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.11.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> <span id="alg1.12.2" class="ltx_text ltx_font_italic">FedDISC</span>: a Federated Diffusion-Inspired Semi-supervised Co-training method</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="alg1.8" class="ltx_p ltx_figure_panel"><span id="alg1.8.1" class="ltx_text ltx_font_bold">Input</span>:Unlabeled client datasets <math id="alg1.1.m1.5" class="ltx_Math" alttext="\mathcal{D}_{k},k=1,\ldots,K" display="inline"><semantics id="alg1.1.m1.5a"><mrow id="alg1.1.m1.5.5.2" xref="alg1.1.m1.5.5.3.cmml"><mrow id="alg1.1.m1.4.4.1.1" xref="alg1.1.m1.4.4.1.1.cmml"><mrow id="alg1.1.m1.4.4.1.1.1.1" xref="alg1.1.m1.4.4.1.1.1.2.cmml"><msub id="alg1.1.m1.4.4.1.1.1.1.1" xref="alg1.1.m1.4.4.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.1.m1.4.4.1.1.1.1.1.2" xref="alg1.1.m1.4.4.1.1.1.1.1.2.cmml">𝒟</mi><mi id="alg1.1.m1.4.4.1.1.1.1.1.3" xref="alg1.1.m1.4.4.1.1.1.1.1.3.cmml">k</mi></msub><mo id="alg1.1.m1.4.4.1.1.1.1.2" xref="alg1.1.m1.4.4.1.1.1.2.cmml">,</mo><mi id="alg1.1.m1.1.1" xref="alg1.1.m1.1.1.cmml">k</mi></mrow><mo id="alg1.1.m1.4.4.1.1.2" xref="alg1.1.m1.4.4.1.1.2.cmml">=</mo><mn id="alg1.1.m1.4.4.1.1.3" xref="alg1.1.m1.4.4.1.1.3.cmml">1</mn></mrow><mo id="alg1.1.m1.5.5.2.3" xref="alg1.1.m1.5.5.3a.cmml">,</mo><mrow id="alg1.1.m1.5.5.2.2.2" xref="alg1.1.m1.5.5.2.2.1.cmml"><mi mathvariant="normal" id="alg1.1.m1.2.2" xref="alg1.1.m1.2.2.cmml">…</mi><mo id="alg1.1.m1.5.5.2.2.2.1" xref="alg1.1.m1.5.5.2.2.1.cmml">,</mo><mi id="alg1.1.m1.3.3" xref="alg1.1.m1.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.1.m1.5b"><apply id="alg1.1.m1.5.5.3.cmml" xref="alg1.1.m1.5.5.2"><csymbol cd="ambiguous" id="alg1.1.m1.5.5.3a.cmml" xref="alg1.1.m1.5.5.2.3">formulae-sequence</csymbol><apply id="alg1.1.m1.4.4.1.1.cmml" xref="alg1.1.m1.4.4.1.1"><eq id="alg1.1.m1.4.4.1.1.2.cmml" xref="alg1.1.m1.4.4.1.1.2"></eq><list id="alg1.1.m1.4.4.1.1.1.2.cmml" xref="alg1.1.m1.4.4.1.1.1.1"><apply id="alg1.1.m1.4.4.1.1.1.1.1.cmml" xref="alg1.1.m1.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.1.m1.4.4.1.1.1.1.1.1.cmml" xref="alg1.1.m1.4.4.1.1.1.1.1">subscript</csymbol><ci id="alg1.1.m1.4.4.1.1.1.1.1.2.cmml" xref="alg1.1.m1.4.4.1.1.1.1.1.2">𝒟</ci><ci id="alg1.1.m1.4.4.1.1.1.1.1.3.cmml" xref="alg1.1.m1.4.4.1.1.1.1.1.3">𝑘</ci></apply><ci id="alg1.1.m1.1.1.cmml" xref="alg1.1.m1.1.1">𝑘</ci></list><cn type="integer" id="alg1.1.m1.4.4.1.1.3.cmml" xref="alg1.1.m1.4.4.1.1.3">1</cn></apply><list id="alg1.1.m1.5.5.2.2.1.cmml" xref="alg1.1.m1.5.5.2.2.2"><ci id="alg1.1.m1.2.2.cmml" xref="alg1.1.m1.2.2">…</ci><ci id="alg1.1.m1.3.3.cmml" xref="alg1.1.m1.3.3">𝐾</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.m1.5c">\mathcal{D}_{k},k=1,\ldots,K</annotation></semantics></math>. Labeled server dataset <math id="alg1.2.m2.1" class="ltx_Math" alttext="\mathcal{D}_{s}" display="inline"><semantics id="alg1.2.m2.1a"><msub id="alg1.2.m2.1.1" xref="alg1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.2.m2.1.1.2" xref="alg1.2.m2.1.1.2.cmml">𝒟</mi><mi id="alg1.2.m2.1.1.3" xref="alg1.2.m2.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.2.m2.1b"><apply id="alg1.2.m2.1.1.cmml" xref="alg1.2.m2.1.1"><csymbol cd="ambiguous" id="alg1.2.m2.1.1.1.cmml" xref="alg1.2.m2.1.1">subscript</csymbol><ci id="alg1.2.m2.1.1.2.cmml" xref="alg1.2.m2.1.1.2">𝒟</ci><ci id="alg1.2.m2.1.1.3.cmml" xref="alg1.2.m2.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.m2.1c">\mathcal{D}_{s}</annotation></semantics></math>. Pre-trained image encoder <math id="alg1.3.m3.1" class="ltx_Math" alttext="E_{\theta}" display="inline"><semantics id="alg1.3.m3.1a"><msub id="alg1.3.m3.1.1" xref="alg1.3.m3.1.1.cmml"><mi id="alg1.3.m3.1.1.2" xref="alg1.3.m3.1.1.2.cmml">E</mi><mi id="alg1.3.m3.1.1.3" xref="alg1.3.m3.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.3.m3.1b"><apply id="alg1.3.m3.1.1.cmml" xref="alg1.3.m3.1.1"><csymbol cd="ambiguous" id="alg1.3.m3.1.1.1.cmml" xref="alg1.3.m3.1.1">subscript</csymbol><ci id="alg1.3.m3.1.1.2.cmml" xref="alg1.3.m3.1.1.2">𝐸</ci><ci id="alg1.3.m3.1.1.3.cmml" xref="alg1.3.m3.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.m3.1c">E_{\theta}</annotation></semantics></math>. Pre-trained diffusion model <math id="alg1.4.m4.1" class="ltx_Math" alttext="\epsilon_{\theta}" display="inline"><semantics id="alg1.4.m4.1a"><msub id="alg1.4.m4.1.1" xref="alg1.4.m4.1.1.cmml"><mi id="alg1.4.m4.1.1.2" xref="alg1.4.m4.1.1.2.cmml">ϵ</mi><mi id="alg1.4.m4.1.1.3" xref="alg1.4.m4.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.4.m4.1b"><apply id="alg1.4.m4.1.1.cmml" xref="alg1.4.m4.1.1"><csymbol cd="ambiguous" id="alg1.4.m4.1.1.1.cmml" xref="alg1.4.m4.1.1">subscript</csymbol><ci id="alg1.4.m4.1.1.2.cmml" xref="alg1.4.m4.1.1.2">italic-ϵ</ci><ci id="alg1.4.m4.1.1.3.cmml" xref="alg1.4.m4.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.m4.1c">\epsilon_{\theta}</annotation></semantics></math>. Classifier to be trained <math id="alg1.5.m5.1" class="ltx_Math" alttext="F_{\theta}" display="inline"><semantics id="alg1.5.m5.1a"><msub id="alg1.5.m5.1.1" xref="alg1.5.m5.1.1.cmml"><mi id="alg1.5.m5.1.1.2" xref="alg1.5.m5.1.1.2.cmml">F</mi><mi id="alg1.5.m5.1.1.3" xref="alg1.5.m5.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.5.m5.1b"><apply id="alg1.5.m5.1.1.cmml" xref="alg1.5.m5.1.1"><csymbol cd="ambiguous" id="alg1.5.m5.1.1.1.cmml" xref="alg1.5.m5.1.1">subscript</csymbol><ci id="alg1.5.m5.1.1.2.cmml" xref="alg1.5.m5.1.1.2">𝐹</ci><ci id="alg1.5.m5.1.1.3.cmml" xref="alg1.5.m5.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.m5.1c">F_{\theta}</annotation></semantics></math>. 
<br class="ltx_break"><span id="alg1.8.2" class="ltx_text ltx_font_bold">Output</span>: A trained classification model <math id="alg1.6.m6.1" class="ltx_Math" alttext="h=F_{\theta}\circ E_{\theta}" display="inline"><semantics id="alg1.6.m6.1a"><mrow id="alg1.6.m6.1.1" xref="alg1.6.m6.1.1.cmml"><mi id="alg1.6.m6.1.1.2" xref="alg1.6.m6.1.1.2.cmml">h</mi><mo id="alg1.6.m6.1.1.1" xref="alg1.6.m6.1.1.1.cmml">=</mo><mrow id="alg1.6.m6.1.1.3" xref="alg1.6.m6.1.1.3.cmml"><msub id="alg1.6.m6.1.1.3.2" xref="alg1.6.m6.1.1.3.2.cmml"><mi id="alg1.6.m6.1.1.3.2.2" xref="alg1.6.m6.1.1.3.2.2.cmml">F</mi><mi id="alg1.6.m6.1.1.3.2.3" xref="alg1.6.m6.1.1.3.2.3.cmml">θ</mi></msub><mo lspace="0.222em" rspace="0.222em" id="alg1.6.m6.1.1.3.1" xref="alg1.6.m6.1.1.3.1.cmml">∘</mo><msub id="alg1.6.m6.1.1.3.3" xref="alg1.6.m6.1.1.3.3.cmml"><mi id="alg1.6.m6.1.1.3.3.2" xref="alg1.6.m6.1.1.3.3.2.cmml">E</mi><mi id="alg1.6.m6.1.1.3.3.3" xref="alg1.6.m6.1.1.3.3.3.cmml">θ</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.6.m6.1b"><apply id="alg1.6.m6.1.1.cmml" xref="alg1.6.m6.1.1"><eq id="alg1.6.m6.1.1.1.cmml" xref="alg1.6.m6.1.1.1"></eq><ci id="alg1.6.m6.1.1.2.cmml" xref="alg1.6.m6.1.1.2">ℎ</ci><apply id="alg1.6.m6.1.1.3.cmml" xref="alg1.6.m6.1.1.3"><compose id="alg1.6.m6.1.1.3.1.cmml" xref="alg1.6.m6.1.1.3.1"></compose><apply id="alg1.6.m6.1.1.3.2.cmml" xref="alg1.6.m6.1.1.3.2"><csymbol cd="ambiguous" id="alg1.6.m6.1.1.3.2.1.cmml" xref="alg1.6.m6.1.1.3.2">subscript</csymbol><ci id="alg1.6.m6.1.1.3.2.2.cmml" xref="alg1.6.m6.1.1.3.2.2">𝐹</ci><ci id="alg1.6.m6.1.1.3.2.3.cmml" xref="alg1.6.m6.1.1.3.2.3">𝜃</ci></apply><apply id="alg1.6.m6.1.1.3.3.cmml" xref="alg1.6.m6.1.1.3.3"><csymbol cd="ambiguous" id="alg1.6.m6.1.1.3.3.1.cmml" xref="alg1.6.m6.1.1.3.3">subscript</csymbol><ci id="alg1.6.m6.1.1.3.3.2.cmml" xref="alg1.6.m6.1.1.3.3.2">𝐸</ci><ci id="alg1.6.m6.1.1.3.3.3.cmml" xref="alg1.6.m6.1.1.3.3.3">𝜃</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.m6.1c">h=F_{\theta}\circ E_{\theta}</annotation></semantics></math> capable of adapting to all client datasets <math id="alg1.7.m7.5" class="ltx_Math" alttext="\mathcal{D}_{k},k=1,\ldots,K" display="inline"><semantics id="alg1.7.m7.5a"><mrow id="alg1.7.m7.5.5.2" xref="alg1.7.m7.5.5.3.cmml"><mrow id="alg1.7.m7.4.4.1.1" xref="alg1.7.m7.4.4.1.1.cmml"><mrow id="alg1.7.m7.4.4.1.1.1.1" xref="alg1.7.m7.4.4.1.1.1.2.cmml"><msub id="alg1.7.m7.4.4.1.1.1.1.1" xref="alg1.7.m7.4.4.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.7.m7.4.4.1.1.1.1.1.2" xref="alg1.7.m7.4.4.1.1.1.1.1.2.cmml">𝒟</mi><mi id="alg1.7.m7.4.4.1.1.1.1.1.3" xref="alg1.7.m7.4.4.1.1.1.1.1.3.cmml">k</mi></msub><mo id="alg1.7.m7.4.4.1.1.1.1.2" xref="alg1.7.m7.4.4.1.1.1.2.cmml">,</mo><mi id="alg1.7.m7.1.1" xref="alg1.7.m7.1.1.cmml">k</mi></mrow><mo id="alg1.7.m7.4.4.1.1.2" xref="alg1.7.m7.4.4.1.1.2.cmml">=</mo><mn id="alg1.7.m7.4.4.1.1.3" xref="alg1.7.m7.4.4.1.1.3.cmml">1</mn></mrow><mo id="alg1.7.m7.5.5.2.3" xref="alg1.7.m7.5.5.3a.cmml">,</mo><mrow id="alg1.7.m7.5.5.2.2.2" xref="alg1.7.m7.5.5.2.2.1.cmml"><mi mathvariant="normal" id="alg1.7.m7.2.2" xref="alg1.7.m7.2.2.cmml">…</mi><mo id="alg1.7.m7.5.5.2.2.2.1" xref="alg1.7.m7.5.5.2.2.1.cmml">,</mo><mi id="alg1.7.m7.3.3" xref="alg1.7.m7.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.7.m7.5b"><apply id="alg1.7.m7.5.5.3.cmml" xref="alg1.7.m7.5.5.2"><csymbol cd="ambiguous" id="alg1.7.m7.5.5.3a.cmml" xref="alg1.7.m7.5.5.2.3">formulae-sequence</csymbol><apply id="alg1.7.m7.4.4.1.1.cmml" xref="alg1.7.m7.4.4.1.1"><eq id="alg1.7.m7.4.4.1.1.2.cmml" xref="alg1.7.m7.4.4.1.1.2"></eq><list id="alg1.7.m7.4.4.1.1.1.2.cmml" xref="alg1.7.m7.4.4.1.1.1.1"><apply id="alg1.7.m7.4.4.1.1.1.1.1.cmml" xref="alg1.7.m7.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.7.m7.4.4.1.1.1.1.1.1.cmml" xref="alg1.7.m7.4.4.1.1.1.1.1">subscript</csymbol><ci id="alg1.7.m7.4.4.1.1.1.1.1.2.cmml" xref="alg1.7.m7.4.4.1.1.1.1.1.2">𝒟</ci><ci id="alg1.7.m7.4.4.1.1.1.1.1.3.cmml" xref="alg1.7.m7.4.4.1.1.1.1.1.3">𝑘</ci></apply><ci id="alg1.7.m7.1.1.cmml" xref="alg1.7.m7.1.1">𝑘</ci></list><cn type="integer" id="alg1.7.m7.4.4.1.1.3.cmml" xref="alg1.7.m7.4.4.1.1.3">1</cn></apply><list id="alg1.7.m7.5.5.2.2.1.cmml" xref="alg1.7.m7.5.5.2.2.2"><ci id="alg1.7.m7.2.2.cmml" xref="alg1.7.m7.2.2">…</ci><ci id="alg1.7.m7.3.3.cmml" xref="alg1.7.m7.3.3">𝐾</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.m7.5c">\mathcal{D}_{k},k=1,\ldots,K</annotation></semantics></math>.
and a classifier to be trained<math id="alg1.8.m8.1" class="ltx_Math" alttext="F_{\theta}" display="inline"><semantics id="alg1.8.m8.1a"><msub id="alg1.8.m8.1.1" xref="alg1.8.m8.1.1.cmml"><mi id="alg1.8.m8.1.1.2" xref="alg1.8.m8.1.1.2.cmml">F</mi><mi id="alg1.8.m8.1.1.3" xref="alg1.8.m8.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.8.m8.1b"><apply id="alg1.8.m8.1.1.cmml" xref="alg1.8.m8.1.1"><csymbol cd="ambiguous" id="alg1.8.m8.1.1.1.cmml" xref="alg1.8.m8.1.1">subscript</csymbol><ci id="alg1.8.m8.1.1.2.cmml" xref="alg1.8.m8.1.1.2">𝐹</ci><ci id="alg1.8.m8.1.1.3.cmml" xref="alg1.8.m8.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.m8.1c">F_{\theta}</annotation></semantics></math>.</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg1.13" class="ltx_listing ltx_figure_panel ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span>  Server sends prototypes to clients according to Eq. (3).
</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span>  <span id="alg1.l2.1" class="ltx_text ltx_font_bold">for</span> local device <math id="alg1.l2.m1.1" class="ltx_Math" alttext="k=1" display="inline"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><mi id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml">k</mi><mo id="alg1.l2.m1.1.1.1" xref="alg1.l2.m1.1.1.1.cmml">=</mo><mn id="alg1.l2.m1.1.1.3" xref="alg1.l2.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><eq id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1"></eq><ci id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2">𝑘</ci><cn type="integer" id="alg1.l2.m1.1.1.3.cmml" xref="alg1.l2.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">k=1</annotation></semantics></math> to <math id="alg1.l2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="alg1.l2.m2.1a"><mi id="alg1.l2.m2.1.1" xref="alg1.l2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="alg1.l2.m2.1b"><ci id="alg1.l2.m2.1.1.cmml" xref="alg1.l2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m2.1c">K</annotation></semantics></math> in parallel <span id="alg1.l2.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span>     Client <math id="alg1.l3.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.l3.m1.1a"><mi id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><ci id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">k</annotation></semantics></math> calculates pseudo-labels of client images in <math id="alg1.l3.m2.1" class="ltx_Math" alttext="\mathcal{D}_{k}" display="inline"><semantics id="alg1.l3.m2.1a"><msub id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m2.1.1.2" xref="alg1.l3.m2.1.1.2.cmml">𝒟</mi><mi id="alg1.l3.m2.1.1.3" xref="alg1.l3.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.1b"><apply id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1"><csymbol cd="ambiguous" id="alg1.l3.m2.1.1.1.cmml" xref="alg1.l3.m2.1.1">subscript</csymbol><ci id="alg1.l3.m2.1.1.2.cmml" xref="alg1.l3.m2.1.1.2">𝒟</ci><ci id="alg1.l3.m2.1.1.3.cmml" xref="alg1.l3.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.1c">\mathcal{D}_{k}</annotation></semantics></math> based on the similarities computed by Eq. (4).

</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span>     Client <math id="alg1.l4.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.l4.m1.1a"><mi id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><ci id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">k</annotation></semantics></math> obtains the cluster centroids <math id="alg1.l4.m2.2" class="ltx_Math" alttext="\mathbf{z}_{i,l}^{k}" display="inline"><semantics id="alg1.l4.m2.2a"><msubsup id="alg1.l4.m2.2.3" xref="alg1.l4.m2.2.3.cmml"><mi id="alg1.l4.m2.2.3.2.2" xref="alg1.l4.m2.2.3.2.2.cmml">𝐳</mi><mrow id="alg1.l4.m2.2.2.2.4" xref="alg1.l4.m2.2.2.2.3.cmml"><mi id="alg1.l4.m2.1.1.1.1" xref="alg1.l4.m2.1.1.1.1.cmml">i</mi><mo id="alg1.l4.m2.2.2.2.4.1" xref="alg1.l4.m2.2.2.2.3.cmml">,</mo><mi id="alg1.l4.m2.2.2.2.2" xref="alg1.l4.m2.2.2.2.2.cmml">l</mi></mrow><mi id="alg1.l4.m2.2.3.3" xref="alg1.l4.m2.2.3.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.2b"><apply id="alg1.l4.m2.2.3.cmml" xref="alg1.l4.m2.2.3"><csymbol cd="ambiguous" id="alg1.l4.m2.2.3.1.cmml" xref="alg1.l4.m2.2.3">superscript</csymbol><apply id="alg1.l4.m2.2.3.2.cmml" xref="alg1.l4.m2.2.3"><csymbol cd="ambiguous" id="alg1.l4.m2.2.3.2.1.cmml" xref="alg1.l4.m2.2.3">subscript</csymbol><ci id="alg1.l4.m2.2.3.2.2.cmml" xref="alg1.l4.m2.2.3.2.2">𝐳</ci><list id="alg1.l4.m2.2.2.2.3.cmml" xref="alg1.l4.m2.2.2.2.4"><ci id="alg1.l4.m2.1.1.1.1.cmml" xref="alg1.l4.m2.1.1.1.1">𝑖</ci><ci id="alg1.l4.m2.2.2.2.2.cmml" xref="alg1.l4.m2.2.2.2.2">𝑙</ci></list></apply><ci id="alg1.l4.m2.2.3.3.cmml" xref="alg1.l4.m2.2.3.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.2c">\mathbf{z}_{i,l}^{k}</annotation></semantics></math>, based on Eq. (5) for each pseudo-label <math id="alg1.l4.m3.1" class="ltx_Math" alttext="l" display="inline"><semantics id="alg1.l4.m3.1a"><mi id="alg1.l4.m3.1.1" xref="alg1.l4.m3.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="alg1.l4.m3.1b"><ci id="alg1.l4.m3.1.1.cmml" xref="alg1.l4.m3.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m3.1c">l</annotation></semantics></math> and obtains the domain-specific representations <math id="alg1.l4.m4.1" class="ltx_Math" alttext="\mathbf{g}_{l}^{k}" display="inline"><semantics id="alg1.l4.m4.1a"><msubsup id="alg1.l4.m4.1.1" xref="alg1.l4.m4.1.1.cmml"><mi id="alg1.l4.m4.1.1.2.2" xref="alg1.l4.m4.1.1.2.2.cmml">𝐠</mi><mi id="alg1.l4.m4.1.1.2.3" xref="alg1.l4.m4.1.1.2.3.cmml">l</mi><mi id="alg1.l4.m4.1.1.3" xref="alg1.l4.m4.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l4.m4.1b"><apply id="alg1.l4.m4.1.1.cmml" xref="alg1.l4.m4.1.1"><csymbol cd="ambiguous" id="alg1.l4.m4.1.1.1.cmml" xref="alg1.l4.m4.1.1">superscript</csymbol><apply id="alg1.l4.m4.1.1.2.cmml" xref="alg1.l4.m4.1.1"><csymbol cd="ambiguous" id="alg1.l4.m4.1.1.2.1.cmml" xref="alg1.l4.m4.1.1">subscript</csymbol><ci id="alg1.l4.m4.1.1.2.2.cmml" xref="alg1.l4.m4.1.1.2.2">𝐠</ci><ci id="alg1.l4.m4.1.1.2.3.cmml" xref="alg1.l4.m4.1.1.2.3">𝑙</ci></apply><ci id="alg1.l4.m4.1.1.3.cmml" xref="alg1.l4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m4.1c">\mathbf{g}_{l}^{k}</annotation></semantics></math> by averaging all the image features having the same pseudo-label <math id="alg1.l4.m5.1" class="ltx_Math" alttext="l" display="inline"><semantics id="alg1.l4.m5.1a"><mi id="alg1.l4.m5.1.1" xref="alg1.l4.m5.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="alg1.l4.m5.1b"><ci id="alg1.l4.m5.1.1.cmml" xref="alg1.l4.m5.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m5.1c">l</annotation></semantics></math>.

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span>     Client <math id="alg1.l5.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="alg1.l5.m1.1a"><mi id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><ci id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">i</annotation></semantics></math> adds noise to the cluster centroids and domain-specific representations by performing <math id="alg1.l5.m2.6" class="ltx_Math" alttext="\bar{\mathbf{z}}_{i,l}^{k}=\sqrt{\alpha_{n}}{\mathbf{z}}_{i,l}^{k}+\sqrt{1-\alpha_{n}}\epsilon,\bar{\mathbf{g}}_{l}^{k}=\sqrt{\alpha_{n}}{\mathbf{g}_{l}^{k}}+\sqrt{1-\alpha_{n}}\epsilon" display="inline"><semantics id="alg1.l5.m2.6a"><mrow id="alg1.l5.m2.6.6.2" xref="alg1.l5.m2.6.6.3.cmml"><mrow id="alg1.l5.m2.5.5.1.1" xref="alg1.l5.m2.5.5.1.1.cmml"><msubsup id="alg1.l5.m2.5.5.1.1.2" xref="alg1.l5.m2.5.5.1.1.2.cmml"><mover accent="true" id="alg1.l5.m2.5.5.1.1.2.2.2" xref="alg1.l5.m2.5.5.1.1.2.2.2.cmml"><mi id="alg1.l5.m2.5.5.1.1.2.2.2.2" xref="alg1.l5.m2.5.5.1.1.2.2.2.2.cmml">𝐳</mi><mo id="alg1.l5.m2.5.5.1.1.2.2.2.1" xref="alg1.l5.m2.5.5.1.1.2.2.2.1.cmml">¯</mo></mover><mrow id="alg1.l5.m2.2.2.2.4" xref="alg1.l5.m2.2.2.2.3.cmml"><mi id="alg1.l5.m2.1.1.1.1" xref="alg1.l5.m2.1.1.1.1.cmml">i</mi><mo id="alg1.l5.m2.2.2.2.4.1" xref="alg1.l5.m2.2.2.2.3.cmml">,</mo><mi id="alg1.l5.m2.2.2.2.2" xref="alg1.l5.m2.2.2.2.2.cmml">l</mi></mrow><mi id="alg1.l5.m2.5.5.1.1.2.3" xref="alg1.l5.m2.5.5.1.1.2.3.cmml">k</mi></msubsup><mo id="alg1.l5.m2.5.5.1.1.1" xref="alg1.l5.m2.5.5.1.1.1.cmml">=</mo><mrow id="alg1.l5.m2.5.5.1.1.3" xref="alg1.l5.m2.5.5.1.1.3.cmml"><mrow id="alg1.l5.m2.5.5.1.1.3.2" xref="alg1.l5.m2.5.5.1.1.3.2.cmml"><msqrt id="alg1.l5.m2.5.5.1.1.3.2.2" xref="alg1.l5.m2.5.5.1.1.3.2.2.cmml"><msub id="alg1.l5.m2.5.5.1.1.3.2.2.2" xref="alg1.l5.m2.5.5.1.1.3.2.2.2.cmml"><mi id="alg1.l5.m2.5.5.1.1.3.2.2.2.2" xref="alg1.l5.m2.5.5.1.1.3.2.2.2.2.cmml">α</mi><mi id="alg1.l5.m2.5.5.1.1.3.2.2.2.3" xref="alg1.l5.m2.5.5.1.1.3.2.2.2.3.cmml">n</mi></msub></msqrt><mo lspace="0em" rspace="0em" id="alg1.l5.m2.5.5.1.1.3.2.1" xref="alg1.l5.m2.5.5.1.1.3.2.1.cmml">​</mo><msubsup id="alg1.l5.m2.5.5.1.1.3.2.3" xref="alg1.l5.m2.5.5.1.1.3.2.3.cmml"><mi id="alg1.l5.m2.5.5.1.1.3.2.3.2.2" xref="alg1.l5.m2.5.5.1.1.3.2.3.2.2.cmml">𝐳</mi><mrow id="alg1.l5.m2.4.4.2.4" xref="alg1.l5.m2.4.4.2.3.cmml"><mi id="alg1.l5.m2.3.3.1.1" xref="alg1.l5.m2.3.3.1.1.cmml">i</mi><mo id="alg1.l5.m2.4.4.2.4.1" xref="alg1.l5.m2.4.4.2.3.cmml">,</mo><mi id="alg1.l5.m2.4.4.2.2" xref="alg1.l5.m2.4.4.2.2.cmml">l</mi></mrow><mi id="alg1.l5.m2.5.5.1.1.3.2.3.3" xref="alg1.l5.m2.5.5.1.1.3.2.3.3.cmml">k</mi></msubsup></mrow><mo id="alg1.l5.m2.5.5.1.1.3.1" xref="alg1.l5.m2.5.5.1.1.3.1.cmml">+</mo><mrow id="alg1.l5.m2.5.5.1.1.3.3" xref="alg1.l5.m2.5.5.1.1.3.3.cmml"><msqrt id="alg1.l5.m2.5.5.1.1.3.3.2" xref="alg1.l5.m2.5.5.1.1.3.3.2.cmml"><mrow id="alg1.l5.m2.5.5.1.1.3.3.2.2" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.cmml"><mn id="alg1.l5.m2.5.5.1.1.3.3.2.2.2" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.2.cmml">1</mn><mo id="alg1.l5.m2.5.5.1.1.3.3.2.2.1" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.1.cmml">−</mo><msub id="alg1.l5.m2.5.5.1.1.3.3.2.2.3" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.3.cmml"><mi id="alg1.l5.m2.5.5.1.1.3.3.2.2.3.2" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.3.2.cmml">α</mi><mi id="alg1.l5.m2.5.5.1.1.3.3.2.2.3.3" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.3.3.cmml">n</mi></msub></mrow></msqrt><mo lspace="0em" rspace="0em" id="alg1.l5.m2.5.5.1.1.3.3.1" xref="alg1.l5.m2.5.5.1.1.3.3.1.cmml">​</mo><mi id="alg1.l5.m2.5.5.1.1.3.3.3" xref="alg1.l5.m2.5.5.1.1.3.3.3.cmml">ϵ</mi></mrow></mrow></mrow><mo id="alg1.l5.m2.6.6.2.3" xref="alg1.l5.m2.6.6.3a.cmml">,</mo><mrow id="alg1.l5.m2.6.6.2.2" xref="alg1.l5.m2.6.6.2.2.cmml"><msubsup id="alg1.l5.m2.6.6.2.2.2" xref="alg1.l5.m2.6.6.2.2.2.cmml"><mover accent="true" id="alg1.l5.m2.6.6.2.2.2.2.2" xref="alg1.l5.m2.6.6.2.2.2.2.2.cmml"><mi id="alg1.l5.m2.6.6.2.2.2.2.2.2" xref="alg1.l5.m2.6.6.2.2.2.2.2.2.cmml">𝐠</mi><mo id="alg1.l5.m2.6.6.2.2.2.2.2.1" xref="alg1.l5.m2.6.6.2.2.2.2.2.1.cmml">¯</mo></mover><mi id="alg1.l5.m2.6.6.2.2.2.2.3" xref="alg1.l5.m2.6.6.2.2.2.2.3.cmml">l</mi><mi id="alg1.l5.m2.6.6.2.2.2.3" xref="alg1.l5.m2.6.6.2.2.2.3.cmml">k</mi></msubsup><mo id="alg1.l5.m2.6.6.2.2.1" xref="alg1.l5.m2.6.6.2.2.1.cmml">=</mo><mrow id="alg1.l5.m2.6.6.2.2.3" xref="alg1.l5.m2.6.6.2.2.3.cmml"><mrow id="alg1.l5.m2.6.6.2.2.3.2" xref="alg1.l5.m2.6.6.2.2.3.2.cmml"><msqrt id="alg1.l5.m2.6.6.2.2.3.2.2" xref="alg1.l5.m2.6.6.2.2.3.2.2.cmml"><msub id="alg1.l5.m2.6.6.2.2.3.2.2.2" xref="alg1.l5.m2.6.6.2.2.3.2.2.2.cmml"><mi id="alg1.l5.m2.6.6.2.2.3.2.2.2.2" xref="alg1.l5.m2.6.6.2.2.3.2.2.2.2.cmml">α</mi><mi id="alg1.l5.m2.6.6.2.2.3.2.2.2.3" xref="alg1.l5.m2.6.6.2.2.3.2.2.2.3.cmml">n</mi></msub></msqrt><mo lspace="0em" rspace="0em" id="alg1.l5.m2.6.6.2.2.3.2.1" xref="alg1.l5.m2.6.6.2.2.3.2.1.cmml">​</mo><msubsup id="alg1.l5.m2.6.6.2.2.3.2.3" xref="alg1.l5.m2.6.6.2.2.3.2.3.cmml"><mi id="alg1.l5.m2.6.6.2.2.3.2.3.2.2" xref="alg1.l5.m2.6.6.2.2.3.2.3.2.2.cmml">𝐠</mi><mi id="alg1.l5.m2.6.6.2.2.3.2.3.2.3" xref="alg1.l5.m2.6.6.2.2.3.2.3.2.3.cmml">l</mi><mi id="alg1.l5.m2.6.6.2.2.3.2.3.3" xref="alg1.l5.m2.6.6.2.2.3.2.3.3.cmml">k</mi></msubsup></mrow><mo id="alg1.l5.m2.6.6.2.2.3.1" xref="alg1.l5.m2.6.6.2.2.3.1.cmml">+</mo><mrow id="alg1.l5.m2.6.6.2.2.3.3" xref="alg1.l5.m2.6.6.2.2.3.3.cmml"><msqrt id="alg1.l5.m2.6.6.2.2.3.3.2" xref="alg1.l5.m2.6.6.2.2.3.3.2.cmml"><mrow id="alg1.l5.m2.6.6.2.2.3.3.2.2" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.cmml"><mn id="alg1.l5.m2.6.6.2.2.3.3.2.2.2" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.2.cmml">1</mn><mo id="alg1.l5.m2.6.6.2.2.3.3.2.2.1" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.1.cmml">−</mo><msub id="alg1.l5.m2.6.6.2.2.3.3.2.2.3" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.3.cmml"><mi id="alg1.l5.m2.6.6.2.2.3.3.2.2.3.2" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.3.2.cmml">α</mi><mi id="alg1.l5.m2.6.6.2.2.3.3.2.2.3.3" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.3.3.cmml">n</mi></msub></mrow></msqrt><mo lspace="0em" rspace="0em" id="alg1.l5.m2.6.6.2.2.3.3.1" xref="alg1.l5.m2.6.6.2.2.3.3.1.cmml">​</mo><mi id="alg1.l5.m2.6.6.2.2.3.3.3" xref="alg1.l5.m2.6.6.2.2.3.3.3.cmml">ϵ</mi></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m2.6b"><apply id="alg1.l5.m2.6.6.3.cmml" xref="alg1.l5.m2.6.6.2"><csymbol cd="ambiguous" id="alg1.l5.m2.6.6.3a.cmml" xref="alg1.l5.m2.6.6.2.3">formulae-sequence</csymbol><apply id="alg1.l5.m2.5.5.1.1.cmml" xref="alg1.l5.m2.5.5.1.1"><eq id="alg1.l5.m2.5.5.1.1.1.cmml" xref="alg1.l5.m2.5.5.1.1.1"></eq><apply id="alg1.l5.m2.5.5.1.1.2.cmml" xref="alg1.l5.m2.5.5.1.1.2"><csymbol cd="ambiguous" id="alg1.l5.m2.5.5.1.1.2.1.cmml" xref="alg1.l5.m2.5.5.1.1.2">superscript</csymbol><apply id="alg1.l5.m2.5.5.1.1.2.2.cmml" xref="alg1.l5.m2.5.5.1.1.2"><csymbol cd="ambiguous" id="alg1.l5.m2.5.5.1.1.2.2.1.cmml" xref="alg1.l5.m2.5.5.1.1.2">subscript</csymbol><apply id="alg1.l5.m2.5.5.1.1.2.2.2.cmml" xref="alg1.l5.m2.5.5.1.1.2.2.2"><ci id="alg1.l5.m2.5.5.1.1.2.2.2.1.cmml" xref="alg1.l5.m2.5.5.1.1.2.2.2.1">¯</ci><ci id="alg1.l5.m2.5.5.1.1.2.2.2.2.cmml" xref="alg1.l5.m2.5.5.1.1.2.2.2.2">𝐳</ci></apply><list id="alg1.l5.m2.2.2.2.3.cmml" xref="alg1.l5.m2.2.2.2.4"><ci id="alg1.l5.m2.1.1.1.1.cmml" xref="alg1.l5.m2.1.1.1.1">𝑖</ci><ci id="alg1.l5.m2.2.2.2.2.cmml" xref="alg1.l5.m2.2.2.2.2">𝑙</ci></list></apply><ci id="alg1.l5.m2.5.5.1.1.2.3.cmml" xref="alg1.l5.m2.5.5.1.1.2.3">𝑘</ci></apply><apply id="alg1.l5.m2.5.5.1.1.3.cmml" xref="alg1.l5.m2.5.5.1.1.3"><plus id="alg1.l5.m2.5.5.1.1.3.1.cmml" xref="alg1.l5.m2.5.5.1.1.3.1"></plus><apply id="alg1.l5.m2.5.5.1.1.3.2.cmml" xref="alg1.l5.m2.5.5.1.1.3.2"><times id="alg1.l5.m2.5.5.1.1.3.2.1.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.1"></times><apply id="alg1.l5.m2.5.5.1.1.3.2.2.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.2"><root id="alg1.l5.m2.5.5.1.1.3.2.2a.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.2"></root><apply id="alg1.l5.m2.5.5.1.1.3.2.2.2.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m2.5.5.1.1.3.2.2.2.1.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.2.2">subscript</csymbol><ci id="alg1.l5.m2.5.5.1.1.3.2.2.2.2.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.2.2.2">𝛼</ci><ci id="alg1.l5.m2.5.5.1.1.3.2.2.2.3.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.2.2.3">𝑛</ci></apply></apply><apply id="alg1.l5.m2.5.5.1.1.3.2.3.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.3"><csymbol cd="ambiguous" id="alg1.l5.m2.5.5.1.1.3.2.3.1.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.3">superscript</csymbol><apply id="alg1.l5.m2.5.5.1.1.3.2.3.2.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.3"><csymbol cd="ambiguous" id="alg1.l5.m2.5.5.1.1.3.2.3.2.1.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.3">subscript</csymbol><ci id="alg1.l5.m2.5.5.1.1.3.2.3.2.2.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.3.2.2">𝐳</ci><list id="alg1.l5.m2.4.4.2.3.cmml" xref="alg1.l5.m2.4.4.2.4"><ci id="alg1.l5.m2.3.3.1.1.cmml" xref="alg1.l5.m2.3.3.1.1">𝑖</ci><ci id="alg1.l5.m2.4.4.2.2.cmml" xref="alg1.l5.m2.4.4.2.2">𝑙</ci></list></apply><ci id="alg1.l5.m2.5.5.1.1.3.2.3.3.cmml" xref="alg1.l5.m2.5.5.1.1.3.2.3.3">𝑘</ci></apply></apply><apply id="alg1.l5.m2.5.5.1.1.3.3.cmml" xref="alg1.l5.m2.5.5.1.1.3.3"><times id="alg1.l5.m2.5.5.1.1.3.3.1.cmml" xref="alg1.l5.m2.5.5.1.1.3.3.1"></times><apply id="alg1.l5.m2.5.5.1.1.3.3.2.cmml" xref="alg1.l5.m2.5.5.1.1.3.3.2"><root id="alg1.l5.m2.5.5.1.1.3.3.2a.cmml" xref="alg1.l5.m2.5.5.1.1.3.3.2"></root><apply id="alg1.l5.m2.5.5.1.1.3.3.2.2.cmml" xref="alg1.l5.m2.5.5.1.1.3.3.2.2"><minus id="alg1.l5.m2.5.5.1.1.3.3.2.2.1.cmml" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.1"></minus><cn type="integer" id="alg1.l5.m2.5.5.1.1.3.3.2.2.2.cmml" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.2">1</cn><apply id="alg1.l5.m2.5.5.1.1.3.3.2.2.3.cmml" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.3"><csymbol cd="ambiguous" id="alg1.l5.m2.5.5.1.1.3.3.2.2.3.1.cmml" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.3">subscript</csymbol><ci id="alg1.l5.m2.5.5.1.1.3.3.2.2.3.2.cmml" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.3.2">𝛼</ci><ci id="alg1.l5.m2.5.5.1.1.3.3.2.2.3.3.cmml" xref="alg1.l5.m2.5.5.1.1.3.3.2.2.3.3">𝑛</ci></apply></apply></apply><ci id="alg1.l5.m2.5.5.1.1.3.3.3.cmml" xref="alg1.l5.m2.5.5.1.1.3.3.3">italic-ϵ</ci></apply></apply></apply><apply id="alg1.l5.m2.6.6.2.2.cmml" xref="alg1.l5.m2.6.6.2.2"><eq id="alg1.l5.m2.6.6.2.2.1.cmml" xref="alg1.l5.m2.6.6.2.2.1"></eq><apply id="alg1.l5.m2.6.6.2.2.2.cmml" xref="alg1.l5.m2.6.6.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m2.6.6.2.2.2.1.cmml" xref="alg1.l5.m2.6.6.2.2.2">superscript</csymbol><apply id="alg1.l5.m2.6.6.2.2.2.2.cmml" xref="alg1.l5.m2.6.6.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m2.6.6.2.2.2.2.1.cmml" xref="alg1.l5.m2.6.6.2.2.2">subscript</csymbol><apply id="alg1.l5.m2.6.6.2.2.2.2.2.cmml" xref="alg1.l5.m2.6.6.2.2.2.2.2"><ci id="alg1.l5.m2.6.6.2.2.2.2.2.1.cmml" xref="alg1.l5.m2.6.6.2.2.2.2.2.1">¯</ci><ci id="alg1.l5.m2.6.6.2.2.2.2.2.2.cmml" xref="alg1.l5.m2.6.6.2.2.2.2.2.2">𝐠</ci></apply><ci id="alg1.l5.m2.6.6.2.2.2.2.3.cmml" xref="alg1.l5.m2.6.6.2.2.2.2.3">𝑙</ci></apply><ci id="alg1.l5.m2.6.6.2.2.2.3.cmml" xref="alg1.l5.m2.6.6.2.2.2.3">𝑘</ci></apply><apply id="alg1.l5.m2.6.6.2.2.3.cmml" xref="alg1.l5.m2.6.6.2.2.3"><plus id="alg1.l5.m2.6.6.2.2.3.1.cmml" xref="alg1.l5.m2.6.6.2.2.3.1"></plus><apply id="alg1.l5.m2.6.6.2.2.3.2.cmml" xref="alg1.l5.m2.6.6.2.2.3.2"><times id="alg1.l5.m2.6.6.2.2.3.2.1.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.1"></times><apply id="alg1.l5.m2.6.6.2.2.3.2.2.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.2"><root id="alg1.l5.m2.6.6.2.2.3.2.2a.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.2"></root><apply id="alg1.l5.m2.6.6.2.2.3.2.2.2.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m2.6.6.2.2.3.2.2.2.1.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.2.2">subscript</csymbol><ci id="alg1.l5.m2.6.6.2.2.3.2.2.2.2.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.2.2.2">𝛼</ci><ci id="alg1.l5.m2.6.6.2.2.3.2.2.2.3.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.2.2.3">𝑛</ci></apply></apply><apply id="alg1.l5.m2.6.6.2.2.3.2.3.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.3"><csymbol cd="ambiguous" id="alg1.l5.m2.6.6.2.2.3.2.3.1.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.3">superscript</csymbol><apply id="alg1.l5.m2.6.6.2.2.3.2.3.2.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.3"><csymbol cd="ambiguous" id="alg1.l5.m2.6.6.2.2.3.2.3.2.1.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.3">subscript</csymbol><ci id="alg1.l5.m2.6.6.2.2.3.2.3.2.2.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.3.2.2">𝐠</ci><ci id="alg1.l5.m2.6.6.2.2.3.2.3.2.3.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.3.2.3">𝑙</ci></apply><ci id="alg1.l5.m2.6.6.2.2.3.2.3.3.cmml" xref="alg1.l5.m2.6.6.2.2.3.2.3.3">𝑘</ci></apply></apply><apply id="alg1.l5.m2.6.6.2.2.3.3.cmml" xref="alg1.l5.m2.6.6.2.2.3.3"><times id="alg1.l5.m2.6.6.2.2.3.3.1.cmml" xref="alg1.l5.m2.6.6.2.2.3.3.1"></times><apply id="alg1.l5.m2.6.6.2.2.3.3.2.cmml" xref="alg1.l5.m2.6.6.2.2.3.3.2"><root id="alg1.l5.m2.6.6.2.2.3.3.2a.cmml" xref="alg1.l5.m2.6.6.2.2.3.3.2"></root><apply id="alg1.l5.m2.6.6.2.2.3.3.2.2.cmml" xref="alg1.l5.m2.6.6.2.2.3.3.2.2"><minus id="alg1.l5.m2.6.6.2.2.3.3.2.2.1.cmml" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.1"></minus><cn type="integer" id="alg1.l5.m2.6.6.2.2.3.3.2.2.2.cmml" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.2">1</cn><apply id="alg1.l5.m2.6.6.2.2.3.3.2.2.3.cmml" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.3"><csymbol cd="ambiguous" id="alg1.l5.m2.6.6.2.2.3.3.2.2.3.1.cmml" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.3">subscript</csymbol><ci id="alg1.l5.m2.6.6.2.2.3.3.2.2.3.2.cmml" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.3.2">𝛼</ci><ci id="alg1.l5.m2.6.6.2.2.3.3.2.2.3.3.cmml" xref="alg1.l5.m2.6.6.2.2.3.3.2.2.3.3">𝑛</ci></apply></apply></apply><ci id="alg1.l5.m2.6.6.2.2.3.3.3.cmml" xref="alg1.l5.m2.6.6.2.2.3.3.3">italic-ϵ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m2.6c">\bar{\mathbf{z}}_{i,l}^{k}=\sqrt{\alpha_{n}}{\mathbf{z}}_{i,l}^{k}+\sqrt{1-\alpha_{n}}\epsilon,\bar{\mathbf{g}}_{l}^{k}=\sqrt{\alpha_{n}}{\mathbf{g}_{l}^{k}}+\sqrt{1-\alpha_{n}}\epsilon</annotation></semantics></math>.

</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>     Client <math id="alg1.l6.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="alg1.l6.m1.1a"><mi id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><ci id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">i</annotation></semantics></math> end the domain-specific representations and cluster centroids to the server.

</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>  <span id="alg1.l7.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l7.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span>  The server iteratively performs diffusion denoising based on <math id="alg1.l8.m1.1" class="ltx_Math" alttext="\epsilon_{\theta}" display="inline"><semantics id="alg1.l8.m1.1a"><msub id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><mi id="alg1.l8.m1.1.1.2" xref="alg1.l8.m1.1.1.2.cmml">ϵ</mi><mi id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1">subscript</csymbol><ci id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2">italic-ϵ</ci><ci id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">\epsilon_{\theta}</annotation></semantics></math> using Eq. (6) and obtains the synthetic dataset.

</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9:</span>  The server trains the classification model <math id="alg1.l9.m1.1" class="ltx_Math" alttext="h=F_{\theta}\circ E_{\theta}" display="inline"><semantics id="alg1.l9.m1.1a"><mrow id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml"><mi id="alg1.l9.m1.1.1.2" xref="alg1.l9.m1.1.1.2.cmml">h</mi><mo id="alg1.l9.m1.1.1.1" xref="alg1.l9.m1.1.1.1.cmml">=</mo><mrow id="alg1.l9.m1.1.1.3" xref="alg1.l9.m1.1.1.3.cmml"><msub id="alg1.l9.m1.1.1.3.2" xref="alg1.l9.m1.1.1.3.2.cmml"><mi id="alg1.l9.m1.1.1.3.2.2" xref="alg1.l9.m1.1.1.3.2.2.cmml">F</mi><mi id="alg1.l9.m1.1.1.3.2.3" xref="alg1.l9.m1.1.1.3.2.3.cmml">θ</mi></msub><mo lspace="0.222em" rspace="0.222em" id="alg1.l9.m1.1.1.3.1" xref="alg1.l9.m1.1.1.3.1.cmml">∘</mo><msub id="alg1.l9.m1.1.1.3.3" xref="alg1.l9.m1.1.1.3.3.cmml"><mi id="alg1.l9.m1.1.1.3.3.2" xref="alg1.l9.m1.1.1.3.3.2.cmml">E</mi><mi id="alg1.l9.m1.1.1.3.3.3" xref="alg1.l9.m1.1.1.3.3.3.cmml">θ</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.1b"><apply id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1"><eq id="alg1.l9.m1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1"></eq><ci id="alg1.l9.m1.1.1.2.cmml" xref="alg1.l9.m1.1.1.2">ℎ</ci><apply id="alg1.l9.m1.1.1.3.cmml" xref="alg1.l9.m1.1.1.3"><compose id="alg1.l9.m1.1.1.3.1.cmml" xref="alg1.l9.m1.1.1.3.1"></compose><apply id="alg1.l9.m1.1.1.3.2.cmml" xref="alg1.l9.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.3.2.1.cmml" xref="alg1.l9.m1.1.1.3.2">subscript</csymbol><ci id="alg1.l9.m1.1.1.3.2.2.cmml" xref="alg1.l9.m1.1.1.3.2.2">𝐹</ci><ci id="alg1.l9.m1.1.1.3.2.3.cmml" xref="alg1.l9.m1.1.1.3.2.3">𝜃</ci></apply><apply id="alg1.l9.m1.1.1.3.3.cmml" xref="alg1.l9.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.3.3.1.cmml" xref="alg1.l9.m1.1.1.3.3">subscript</csymbol><ci id="alg1.l9.m1.1.1.3.3.2.cmml" xref="alg1.l9.m1.1.1.3.3.2">𝐸</ci><ci id="alg1.l9.m1.1.1.3.3.3.cmml" xref="alg1.l9.m1.1.1.3.3.3">𝜃</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.1c">h=F_{\theta}\circ E_{\theta}</annotation></semantics></math> using the synthetic dataset.

</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10:</span>  <span id="alg1.l10.1" class="ltx_text ltx_font_bold">return</span>  The trained classification model <math id="alg1.l10.m1.1" class="ltx_Math" alttext="h=F_{\theta}\circ E_{\theta}" display="inline"><semantics id="alg1.l10.m1.1a"><mrow id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml"><mi id="alg1.l10.m1.1.1.2" xref="alg1.l10.m1.1.1.2.cmml">h</mi><mo id="alg1.l10.m1.1.1.1" xref="alg1.l10.m1.1.1.1.cmml">=</mo><mrow id="alg1.l10.m1.1.1.3" xref="alg1.l10.m1.1.1.3.cmml"><msub id="alg1.l10.m1.1.1.3.2" xref="alg1.l10.m1.1.1.3.2.cmml"><mi id="alg1.l10.m1.1.1.3.2.2" xref="alg1.l10.m1.1.1.3.2.2.cmml">F</mi><mi id="alg1.l10.m1.1.1.3.2.3" xref="alg1.l10.m1.1.1.3.2.3.cmml">θ</mi></msub><mo lspace="0.222em" rspace="0.222em" id="alg1.l10.m1.1.1.3.1" xref="alg1.l10.m1.1.1.3.1.cmml">∘</mo><msub id="alg1.l10.m1.1.1.3.3" xref="alg1.l10.m1.1.1.3.3.cmml"><mi id="alg1.l10.m1.1.1.3.3.2" xref="alg1.l10.m1.1.1.3.3.2.cmml">E</mi><mi id="alg1.l10.m1.1.1.3.3.3" xref="alg1.l10.m1.1.1.3.3.3.cmml">θ</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.1b"><apply id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1"><eq id="alg1.l10.m1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1"></eq><ci id="alg1.l10.m1.1.1.2.cmml" xref="alg1.l10.m1.1.1.2">ℎ</ci><apply id="alg1.l10.m1.1.1.3.cmml" xref="alg1.l10.m1.1.1.3"><compose id="alg1.l10.m1.1.1.3.1.cmml" xref="alg1.l10.m1.1.1.3.1"></compose><apply id="alg1.l10.m1.1.1.3.2.cmml" xref="alg1.l10.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.3.2.1.cmml" xref="alg1.l10.m1.1.1.3.2">subscript</csymbol><ci id="alg1.l10.m1.1.1.3.2.2.cmml" xref="alg1.l10.m1.1.1.3.2.2">𝐹</ci><ci id="alg1.l10.m1.1.1.3.2.3.cmml" xref="alg1.l10.m1.1.1.3.2.3">𝜃</ci></apply><apply id="alg1.l10.m1.1.1.3.3.cmml" xref="alg1.l10.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.3.3.1.cmml" xref="alg1.l10.m1.1.1.3.3">subscript</csymbol><ci id="alg1.l10.m1.1.1.3.3.2.cmml" xref="alg1.l10.m1.1.1.3.3.2">𝐸</ci><ci id="alg1.l10.m1.1.1.3.3.3.cmml" xref="alg1.l10.m1.1.1.3.3.3">𝜃</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.1c">h=F_{\theta}\circ E_{\theta}</annotation></semantics></math>

</div>
</div>
</div>
</div>
</figure>
</section>
<section id="A1.SS1.SSSx2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">OpenImage</h4>

<div id="A1.SS1.SSSx2.p1" class="ltx_para">
<p id="A1.SS1.SSSx2.p1.1" class="ltx_p">OpenImage has a hierarchy of categories, from which we select 20 super-categories with 6 subcategories in each super-category. OpenImage has a hierarchy of categories. So we select 20 super-categories with six subcategories in each super-category, which are assigned to the server and five clients as shown in the table <a href="#A1.T8" title="Table 8 ‣ Image Quantities ‣ A.2 Dataset Details ‣ Appendix A Details of Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>. Because of the significant imbalance in the image number of the subcategories, we remove the subcategories with only a few images in the test set and randomly selected six subcategories from the remaining subcategories for the server and the clients.</p>
</div>
</section>
<section id="A1.SS1.SSSx3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">NICO++</h4>

<div id="A1.SS1.SSSx3.p1" class="ltx_para">
<p id="A1.SS1.SSSx3.p1.1" class="ltx_p">NICO++ can be divided into a common context dataset (<span id="A1.SS1.SSSx3.p1.1.1" class="ltx_text ltx_font_bold">NICO++_C</span>) and a unique context dataset (<span id="A1.SS1.SSSx3.p1.1.2" class="ltx_text ltx_font_bold">NICO++_U</span>), both containing same 60 classes. NICO++_C is divided into six fixed domains (<span id="A1.SS1.SSSx3.p1.1.3" class="ltx_text ltx_font_italic">rock, autumn, water, outdoor, grass, dim</span>). We randomly select <span id="A1.SS1.SSSx3.p1.1.4" class="ltx_text ltx_font_italic">dim</span> as the server and the remaining five domains as the clients. In NICO++_U, each class has six unique domains. We randomly select one domain as the server and the remaining five domains as the clients. Due to the large number of categories, the detailed partition of NICO++_U is not described here.</p>
</div>
</section>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Dataset Details</h3>

<section id="A1.SS2.SSSx1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">Text Prompts</h4>

<div id="A1.SS2.SSSx1.p1" class="ltx_para">
<p id="A1.SS2.SSSx1.p1.1" class="ltx_p">As for the text prompts, to simulate realistic scenarios, we avoid using the descriptions of the client distributions as the conditions. In DomainNet, we only use category labels as prompts, such as <span id="A1.SS2.SSSx1.p1.1.1" class="ltx_text ltx_font_italic">”airplane”</span> or <span id="A1.SS2.SSSx1.p1.1.2" class="ltx_text ltx_font_italic">”bridge”</span>, without using the descriptions of styles like <span id="A1.SS2.SSSx1.p1.1.3" class="ltx_text ltx_font_italic">”clipart”</span> or <span id="A1.SS2.SSSx1.p1.1.4" class="ltx_text ltx_font_italic">”quickdraw”</span>. Similarly, in the OpenImage and NICO++, we only use the super-categories as the text prompts without specifying subcategories. For example, in the NICO++_U dataset, the <span id="A1.SS2.SSSx1.p1.1.5" class="ltx_text ltx_font_italic">”flower”</span> class contains six domains, including <span id="A1.SS2.SSSx1.p1.1.6" class="ltx_text ltx_font_italic">”bouquet”</span> and <span id="A1.SS2.SSSx1.p1.1.7" class="ltx_text ltx_font_italic">”wreath”</span>, but we only use <span id="A1.SS2.SSSx1.p1.1.8" class="ltx_text ltx_font_italic">”flower”</span> as the text prompt, without providing the subcategory.</p>
</div>
</section>
<section id="A1.SS2.SSSx2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">Image Quantities</h4>

<div id="A1.SS2.SSSx2.p1" class="ltx_para">
<p id="A1.SS2.SSSx2.p1.1" class="ltx_p">The number of images in the server and each client for the four datasets are presented in table <a href="#A1.T7" title="Table 7 ‣ Image Quantities ‣ A.2 Dataset Details ‣ Appendix A Details of Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>. For DomainNet, NICO++_C, and NICO++_U, we follow the method of partitioning datasets mentioned in the main paper and assign all training images to their corresponding clients or server. Regarding OpenImage, due to the large size of the training set and significant class imbalance, we limit the number of images for each class to a maximum of 400, both in the training and test sets. Next, we provide detailed explanations of the partitioning for each dataset separately.</p>
</div>
<figure id="A1.T7" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>The number of images in each dataset.</figcaption>
<div id="A1.T7.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:113.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-91.5pt,24.0pt) scale(0.703197847101635,0.703197847101635) ;">
<table id="A1.T7.1.1" class="ltx_tabular ltx_align_middle">
<tr id="A1.T7.1.1.1" class="ltx_tr" style="background-color:#DEDEDE;">
<td id="A1.T7.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r"><span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span></td>
<td id="A1.T7.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T7.1.1.1.2.1" class="ltx_text" style="background-color:#DEDEDE;">Server</span></td>
<td id="A1.T7.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r" colspan="2">Client0</td>
<td id="A1.T7.1.1.1.4" class="ltx_td ltx_align_center ltx_border_r" colspan="2">Client1</td>
<td id="A1.T7.1.1.1.5" class="ltx_td ltx_align_center ltx_border_r" colspan="2">Client2</td>
<td id="A1.T7.1.1.1.6" class="ltx_td ltx_align_center ltx_border_r" colspan="2">Client3</td>
<td id="A1.T7.1.1.1.7" class="ltx_td ltx_align_center ltx_border_r" colspan="2">Client4</td>
<td id="A1.T7.1.1.1.8" class="ltx_td ltx_align_center ltx_border_r" colspan="2">Total</td>
</tr>
<tr id="A1.T7.1.1.2" class="ltx_tr">
<td id="A1.T7.1.1.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r"><span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span></td>
<td id="A1.T7.1.1.2.2" class="ltx_td ltx_align_center ltx_border_r">Train</td>
<td id="A1.T7.1.1.2.3" class="ltx_td ltx_align_center ltx_border_r">Train</td>
<td id="A1.T7.1.1.2.4" class="ltx_td ltx_align_center ltx_border_r">Test</td>
<td id="A1.T7.1.1.2.5" class="ltx_td ltx_align_center ltx_border_r">Train</td>
<td id="A1.T7.1.1.2.6" class="ltx_td ltx_align_center ltx_border_r">Test</td>
<td id="A1.T7.1.1.2.7" class="ltx_td ltx_align_center ltx_border_r">Train</td>
<td id="A1.T7.1.1.2.8" class="ltx_td ltx_align_center ltx_border_r">Test</td>
<td id="A1.T7.1.1.2.9" class="ltx_td ltx_align_center ltx_border_r">Train</td>
<td id="A1.T7.1.1.2.10" class="ltx_td ltx_align_center ltx_border_r">Test</td>
<td id="A1.T7.1.1.2.11" class="ltx_td ltx_align_center ltx_border_r">Train</td>
<td id="A1.T7.1.1.2.12" class="ltx_td ltx_align_center ltx_border_r">Test</td>
<td id="A1.T7.1.1.2.13" class="ltx_td ltx_align_center ltx_border_r">Train</td>
<td id="A1.T7.1.1.2.14" class="ltx_td ltx_align_center ltx_border_r">Test</td>
</tr>
<tr id="A1.T7.1.1.3" class="ltx_tr">
<td id="A1.T7.1.1.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">DomainNet 345 classes</td>
<td id="A1.T7.1.1.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">119181</td>
<td id="A1.T7.1.1.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31800</td>
<td id="A1.T7.1.1.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">14604</td>
<td id="A1.T7.1.1.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">34298</td>
<td id="A1.T7.1.1.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">15582</td>
<td id="A1.T7.1.1.3.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">48701</td>
<td id="A1.T7.1.1.3.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">21850</td>
<td id="A1.T7.1.1.3.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">119025</td>
<td id="A1.T7.1.1.3.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">51750</td>
<td id="A1.T7.1.1.3.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">46487</td>
<td id="A1.T7.1.1.3.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">20916</td>
<td id="A1.T7.1.1.3.13" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">399492</td>
<td id="A1.T7.1.1.3.14" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">124702</td>
</tr>
<tr id="A1.T7.1.1.4" class="ltx_tr">
<td id="A1.T7.1.1.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">DomainNet 150 classes</td>
<td id="A1.T7.1.1.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">53001</td>
<td id="A1.T7.1.1.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">13611</td>
<td id="A1.T7.1.1.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6266</td>
<td id="A1.T7.1.1.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">11568</td>
<td id="A1.T7.1.1.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5353</td>
<td id="A1.T7.1.1.4.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">20763</td>
<td id="A1.T7.1.1.4.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9321</td>
<td id="A1.T7.1.1.4.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">51750</td>
<td id="A1.T7.1.1.4.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">22500</td>
<td id="A1.T7.1.1.4.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">16993</td>
<td id="A1.T7.1.1.4.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7693</td>
<td id="A1.T7.1.1.4.13" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">167686</td>
<td id="A1.T7.1.1.4.14" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">51133</td>
</tr>
<tr id="A1.T7.1.1.5" class="ltx_tr">
<td id="A1.T7.1.1.5.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">DomainNet 90 classes</td>
<td id="A1.T7.1.1.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">30313</td>
<td id="A1.T7.1.1.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7290</td>
<td id="A1.T7.1.1.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3380</td>
<td id="A1.T7.1.1.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6794</td>
<td id="A1.T7.1.1.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3144</td>
<td id="A1.T7.1.1.5.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">11765</td>
<td id="A1.T7.1.1.5.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5285</td>
<td id="A1.T7.1.1.5.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">31050</td>
<td id="A1.T7.1.1.5.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">13500</td>
<td id="A1.T7.1.1.5.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9363</td>
<td id="A1.T7.1.1.5.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">4253</td>
<td id="A1.T7.1.1.5.13" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">96575</td>
<td id="A1.T7.1.1.5.14" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">29562</td>
</tr>
<tr id="A1.T7.1.1.6" class="ltx_tr">
<td id="A1.T7.1.1.6.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">DomainNet 30 classes</td>
<td id="A1.T7.1.1.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8618</td>
<td id="A1.T7.1.1.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1902</td>
<td id="A1.T7.1.1.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">900</td>
<td id="A1.T7.1.1.6.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3003</td>
<td id="A1.T7.1.1.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1365</td>
<td id="A1.T7.1.1.6.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5431</td>
<td id="A1.T7.1.1.6.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">2413</td>
<td id="A1.T7.1.1.6.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">10350</td>
<td id="A1.T7.1.1.6.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">4500</td>
<td id="A1.T7.1.1.6.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3764</td>
<td id="A1.T7.1.1.6.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1691</td>
<td id="A1.T7.1.1.6.13" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">33068</td>
<td id="A1.T7.1.1.6.14" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">10869</td>
</tr>
<tr id="A1.T7.1.1.7" class="ltx_tr">
<td id="A1.T7.1.1.7.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">OpenImage</td>
<td id="A1.T7.1.1.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7926</td>
<td id="A1.T7.1.1.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7870</td>
<td id="A1.T7.1.1.7.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5130</td>
<td id="A1.T7.1.1.7.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7999</td>
<td id="A1.T7.1.1.7.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">4721</td>
<td id="A1.T7.1.1.7.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8000</td>
<td id="A1.T7.1.1.7.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">4945</td>
<td id="A1.T7.1.1.7.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8000</td>
<td id="A1.T7.1.1.7.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">4248</td>
<td id="A1.T7.1.1.7.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7935</td>
<td id="A1.T7.1.1.7.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">4543</td>
<td id="A1.T7.1.1.7.13" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">47730</td>
<td id="A1.T7.1.1.7.14" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">23587</td>
</tr>
<tr id="A1.T7.1.1.8" class="ltx_tr">
<td id="A1.T7.1.1.8.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">NICO++_C</td>
<td id="A1.T7.1.1.8.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7275</td>
<td id="A1.T7.1.1.8.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9991</td>
<td id="A1.T7.1.1.8.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">2498</td>
<td id="A1.T7.1.1.8.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">16261</td>
<td id="A1.T7.1.1.8.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">4066</td>
<td id="A1.T7.1.1.8.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">13352</td>
<td id="A1.T7.1.1.8.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3338</td>
<td id="A1.T7.1.1.8.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8851</td>
<td id="A1.T7.1.1.8.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">2213</td>
<td id="A1.T7.1.1.8.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">15361</td>
<td id="A1.T7.1.1.8.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3841</td>
<td id="A1.T7.1.1.8.13" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">71091</td>
<td id="A1.T7.1.1.8.14" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">15956</td>
</tr>
<tr id="A1.T7.1.1.9" class="ltx_tr">
<td id="A1.T7.1.1.9.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">NICO++_U</td>
<td id="A1.T7.1.1.9.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">3262</td>
<td id="A1.T7.1.1.9.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">3907</td>
<td id="A1.T7.1.1.9.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">1010</td>
<td id="A1.T7.1.1.9.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">3908</td>
<td id="A1.T7.1.1.9.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">1004</td>
<td id="A1.T7.1.1.9.7" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">3603</td>
<td id="A1.T7.1.1.9.8" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">929</td>
<td id="A1.T7.1.1.9.9" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">3339</td>
<td id="A1.T7.1.1.9.10" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">865</td>
<td id="A1.T7.1.1.9.11" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">4136</td>
<td id="A1.T7.1.1.9.12" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">1062</td>
<td id="A1.T7.1.1.9.13" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">22155</td>
<td id="A1.T7.1.1.9.14" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">4870</td>
</tr>
</table>
</span></div>
</figure>
<figure id="A1.T8" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 8: </span>The selections of categories on the OpenImage dataset.</figcaption>
<div id="A1.T8.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:121.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-232.8pt,65.2pt) scale(0.482171221879014,0.482171221879014) ;">
<table id="A1.T8.1.1" class="ltx_tabular ltx_align_middle">
<tr id="A1.T8.1.1.1" class="ltx_tr" style="background-color:#DEDEDE;">
<td id="A1.T8.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span> <span id="A1.T8.1.1.1.1.1" class="ltx_text" style="background-color:#DEDEDE;">
Super-category</span>
</td>
<td id="A1.T8.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.1.2.1" class="ltx_text" style="background-color:#DEDEDE;">Baked goods</span></td>
<td id="A1.T8.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.1.3.1" class="ltx_text" style="background-color:#DEDEDE;">Bird</span></td>
<td id="A1.T8.1.1.1.4" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.1.4.1" class="ltx_text" style="background-color:#DEDEDE;">Building</span></td>
<td id="A1.T8.1.1.1.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.1.5.1" class="ltx_text" style="background-color:#DEDEDE;">Carnivore</span></td>
<td id="A1.T8.1.1.1.6" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.1.6.1" class="ltx_text" style="background-color:#DEDEDE;">Clothing</span></td>
<td id="A1.T8.1.1.1.7" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.1.7.1" class="ltx_text" style="background-color:#DEDEDE;">Drink</span></td>
<td id="A1.T8.1.1.1.8" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.1.8.1" class="ltx_text" style="background-color:#DEDEDE;">Fruit</span></td>
<td id="A1.T8.1.1.1.9" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.1.9.1" class="ltx_text" style="background-color:#DEDEDE;">Furniture</span></td>
<td id="A1.T8.1.1.1.10" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.1.10.1" class="ltx_text" style="background-color:#DEDEDE;">Home appliance</span></td>
<td id="A1.T8.1.1.1.11" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.1.11.1" class="ltx_text" style="background-color:#DEDEDE;">Human body</span></td>
</tr>
<tr id="A1.T8.1.1.2" class="ltx_tr">
<td id="A1.T8.1.1.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span>
Client0</td>
<td id="A1.T8.1.1.2.2" class="ltx_td ltx_align_center ltx_border_r">Pretzel</td>
<td id="A1.T8.1.1.2.3" class="ltx_td ltx_align_center ltx_border_r">Woodpecker</td>
<td id="A1.T8.1.1.2.4" class="ltx_td ltx_align_center ltx_border_r">Convenience store</td>
<td id="A1.T8.1.1.2.5" class="ltx_td ltx_align_center ltx_border_r">Bear</td>
<td id="A1.T8.1.1.2.6" class="ltx_td ltx_align_center ltx_border_r">Shorts</td>
<td id="A1.T8.1.1.2.7" class="ltx_td ltx_align_center ltx_border_r">Beer</td>
<td id="A1.T8.1.1.2.8" class="ltx_td ltx_align_center ltx_border_r">Apple</td>
<td id="A1.T8.1.1.2.9" class="ltx_td ltx_align_center ltx_border_r">Chair</td>
<td id="A1.T8.1.1.2.10" class="ltx_td ltx_align_center ltx_border_r">Washing machine</td>
<td id="A1.T8.1.1.2.11" class="ltx_td ltx_align_center ltx_border_r">Human eye</td>
</tr>
<tr id="A1.T8.1.1.3" class="ltx_tr">
<td id="A1.T8.1.1.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Client1</td>
<td id="A1.T8.1.1.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Bagel</td>
<td id="A1.T8.1.1.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Parrot</td>
<td id="A1.T8.1.1.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">House</td>
<td id="A1.T8.1.1.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Leopard</td>
<td id="A1.T8.1.1.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Dress</td>
<td id="A1.T8.1.1.3.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Cocktail</td>
<td id="A1.T8.1.1.3.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Lemon</td>
<td id="A1.T8.1.1.3.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Desk</td>
<td id="A1.T8.1.1.3.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Toaster</td>
<td id="A1.T8.1.1.3.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Skull</td>
</tr>
<tr id="A1.T8.1.1.4" class="ltx_tr">
<td id="A1.T8.1.1.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Client2</td>
<td id="A1.T8.1.1.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Muffin</td>
<td id="A1.T8.1.1.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Magpie</td>
<td id="A1.T8.1.1.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Tower</td>
<td id="A1.T8.1.1.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Fox</td>
<td id="A1.T8.1.1.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Swimwear</td>
<td id="A1.T8.1.1.4.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Coffee</td>
<td id="A1.T8.1.1.4.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Banana</td>
<td id="A1.T8.1.1.4.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Couch</td>
<td id="A1.T8.1.1.4.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Oven</td>
<td id="A1.T8.1.1.4.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Human mouth</td>
</tr>
<tr id="A1.T8.1.1.5" class="ltx_tr">
<td id="A1.T8.1.1.5.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Client3</td>
<td id="A1.T8.1.1.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Cookie</td>
<td id="A1.T8.1.1.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Eagle</td>
<td id="A1.T8.1.1.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Office building</td>
<td id="A1.T8.1.1.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Tiger</td>
<td id="A1.T8.1.1.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Brassiere</td>
<td id="A1.T8.1.1.5.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Juice</td>
<td id="A1.T8.1.1.5.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Strawberry</td>
<td id="A1.T8.1.1.5.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Wardrobe</td>
<td id="A1.T8.1.1.5.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Blender</td>
<td id="A1.T8.1.1.5.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Human ear</td>
</tr>
<tr id="A1.T8.1.1.6" class="ltx_tr">
<td id="A1.T8.1.1.6.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Client4</td>
<td id="A1.T8.1.1.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Bread</td>
<td id="A1.T8.1.1.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Falcon</td>
<td id="A1.T8.1.1.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Castle</td>
<td id="A1.T8.1.1.6.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Lion</td>
<td id="A1.T8.1.1.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Tiara</td>
<td id="A1.T8.1.1.6.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Tea</td>
<td id="A1.T8.1.1.6.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Peach</td>
<td id="A1.T8.1.1.6.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Bed</td>
<td id="A1.T8.1.1.6.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Gas stove</td>
<td id="A1.T8.1.1.6.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Human nose</td>
</tr>
<tr id="A1.T8.1.1.7" class="ltx_tr">
<td id="A1.T8.1.1.7.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Server</td>
<td id="A1.T8.1.1.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Croissant</td>
<td id="A1.T8.1.1.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Sparrow</td>
<td id="A1.T8.1.1.7.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Skyscraper</td>
<td id="A1.T8.1.1.7.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Otter</td>
<td id="A1.T8.1.1.7.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Shirt</td>
<td id="A1.T8.1.1.7.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Wine</td>
<td id="A1.T8.1.1.7.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Pineapple</td>
<td id="A1.T8.1.1.7.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Shelf</td>
<td id="A1.T8.1.1.7.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Mechanical fan</td>
<td id="A1.T8.1.1.7.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Human foot</td>
</tr>
<tr id="A1.T8.1.1.8" class="ltx_tr" style="background-color:#DEDEDE;">
<td id="A1.T8.1.1.8.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span> <span id="A1.T8.1.1.8.1.1" class="ltx_text" style="background-color:#DEDEDE;">
Super-category</span>
</td>
<td id="A1.T8.1.1.8.2" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.8.2.1" class="ltx_text" style="background-color:#DEDEDE;">Kitchen utensil</span></td>
<td id="A1.T8.1.1.8.3" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.8.3.1" class="ltx_text" style="background-color:#DEDEDE;">Land vehicle</span></td>
<td id="A1.T8.1.1.8.4" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.8.4.1" class="ltx_text" style="background-color:#DEDEDE;">Musical instrument</span></td>
<td id="A1.T8.1.1.8.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.8.5.1" class="ltx_text" style="background-color:#DEDEDE;">Office supplies</span></td>
<td id="A1.T8.1.1.8.6" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.8.6.1" class="ltx_text" style="background-color:#DEDEDE;">Plant</span></td>
<td id="A1.T8.1.1.8.7" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.8.7.1" class="ltx_text" style="background-color:#DEDEDE;">Reptile</span></td>
<td id="A1.T8.1.1.8.8" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.8.8.1" class="ltx_text" style="background-color:#DEDEDE;">Sports equipment (Ball)</span></td>
<td id="A1.T8.1.1.8.9" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.8.9.1" class="ltx_text" style="background-color:#DEDEDE;">Toy</span></td>
<td id="A1.T8.1.1.8.10" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.8.10.1" class="ltx_text" style="background-color:#DEDEDE;">Vegetable</span></td>
<td id="A1.T8.1.1.8.11" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T8.1.1.8.11.1" class="ltx_text" style="background-color:#DEDEDE;">Weapon</span></td>
</tr>
<tr id="A1.T8.1.1.9" class="ltx_tr">
<td id="A1.T8.1.1.9.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span>
Client0</td>
<td id="A1.T8.1.1.9.2" class="ltx_td ltx_align_center ltx_border_r">Spatula</td>
<td id="A1.T8.1.1.9.3" class="ltx_td ltx_align_center ltx_border_r">Ambulance</td>
<td id="A1.T8.1.1.9.4" class="ltx_td ltx_align_center ltx_border_r">Drum</td>
<td id="A1.T8.1.1.9.5" class="ltx_td ltx_align_center ltx_border_r">Pen</td>
<td id="A1.T8.1.1.9.6" class="ltx_td ltx_align_center ltx_border_r">Maple</td>
<td id="A1.T8.1.1.9.7" class="ltx_td ltx_align_center ltx_border_r">Dinosaur</td>
<td id="A1.T8.1.1.9.8" class="ltx_td ltx_align_center ltx_border_r">Football</td>
<td id="A1.T8.1.1.9.9" class="ltx_td ltx_align_center ltx_border_r">Doll</td>
<td id="A1.T8.1.1.9.10" class="ltx_td ltx_align_center ltx_border_r">Potato</td>
<td id="A1.T8.1.1.9.11" class="ltx_td ltx_align_center ltx_border_r">Knife</td>
</tr>
<tr id="A1.T8.1.1.10" class="ltx_tr">
<td id="A1.T8.1.1.10.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Client1</td>
<td id="A1.T8.1.1.10.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Spoon</td>
<td id="A1.T8.1.1.10.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Cart</td>
<td id="A1.T8.1.1.10.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Guitar</td>
<td id="A1.T8.1.1.10.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Poster</td>
<td id="A1.T8.1.1.10.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Willow</td>
<td id="A1.T8.1.1.10.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Lizard</td>
<td id="A1.T8.1.1.10.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Tennis ball</td>
<td id="A1.T8.1.1.10.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Balloon</td>
<td id="A1.T8.1.1.10.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Carrot</td>
<td id="A1.T8.1.1.10.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Axe</td>
</tr>
<tr id="A1.T8.1.1.11" class="ltx_tr">
<td id="A1.T8.1.1.11.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Client2</td>
<td id="A1.T8.1.1.11.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Fork</td>
<td id="A1.T8.1.1.11.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Bus</td>
<td id="A1.T8.1.1.11.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Harp</td>
<td id="A1.T8.1.1.11.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Calculator</td>
<td id="A1.T8.1.1.11.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Rose</td>
<td id="A1.T8.1.1.11.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Snake</td>
<td id="A1.T8.1.1.11.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Baseball bat</td>
<td id="A1.T8.1.1.11.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Dice</td>
<td id="A1.T8.1.1.11.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Broccoli</td>
<td id="A1.T8.1.1.11.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Sword</td>
</tr>
<tr id="A1.T8.1.1.12" class="ltx_tr">
<td id="A1.T8.1.1.12.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Client3</td>
<td id="A1.T8.1.1.12.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Knife</td>
<td id="A1.T8.1.1.12.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Van</td>
<td id="A1.T8.1.1.12.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Piano</td>
<td id="A1.T8.1.1.12.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Whiteboard</td>
<td id="A1.T8.1.1.12.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Lily</td>
<td id="A1.T8.1.1.12.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Tortoise</td>
<td id="A1.T8.1.1.12.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Golf ball</td>
<td id="A1.T8.1.1.12.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Flying disc</td>
<td id="A1.T8.1.1.12.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Cabbage</td>
<td id="A1.T8.1.1.12.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Handgun</td>
</tr>
<tr id="A1.T8.1.1.13" class="ltx_tr">
<td id="A1.T8.1.1.13.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Client4</td>
<td id="A1.T8.1.1.13.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Whisk</td>
<td id="A1.T8.1.1.13.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Truck</td>
<td id="A1.T8.1.1.13.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Violin</td>
<td id="A1.T8.1.1.13.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Box</td>
<td id="A1.T8.1.1.13.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Common sunflower</td>
<td id="A1.T8.1.1.13.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Crocodile</td>
<td id="A1.T8.1.1.13.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Rugby ball</td>
<td id="A1.T8.1.1.13.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Kite</td>
<td id="A1.T8.1.1.13.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Bell pepper</td>
<td id="A1.T8.1.1.13.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Shotgun</td>
</tr>
<tr id="A1.T8.1.1.14" class="ltx_tr">
<td id="A1.T8.1.1.14.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">Server</td>
<td id="A1.T8.1.1.14.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Cutting board</td>
<td id="A1.T8.1.1.14.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Car</td>
<td id="A1.T8.1.1.14.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Accordion</td>
<td id="A1.T8.1.1.14.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Envelope</td>
<td id="A1.T8.1.1.14.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Houseplant</td>
<td id="A1.T8.1.1.14.7" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Sea turtle</td>
<td id="A1.T8.1.1.14.8" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Volleyball (Ball)</td>
<td id="A1.T8.1.1.14.9" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Teddy bear</td>
<td id="A1.T8.1.1.14.10" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Pumpkin</td>
<td id="A1.T8.1.1.14.11" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Dagger</td>
</tr>
</table>
</span></div>
</figure>
<figure id="A1.T9" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 9: </span>The influence of the number of categories in the dataset.</figcaption>
<div id="A1.T9.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:86pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-191.4pt,38.0pt) scale(0.53110697554529,0.53110697554529) ;">
<table id="A1.T9.1.1" class="ltx_tabular ltx_align_middle">
<tr id="A1.T9.1.1.1" class="ltx_tr" style="background-color:#DEDEDE;">
<td id="A1.T9.1.1.1.1" class="ltx_td ltx_align_center ltx_border_t" colspan="2">
<span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span> <span id="A1.T9.1.1.1.1.1" class="ltx_text" style="background-color:#DEDEDE;"></span>
</td>
<td id="A1.T9.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="4"><span id="A1.T9.1.1.1.2.1" class="ltx_text" style="background-color:#DEDEDE;">DomainNet 90 class</span></td>
<td id="A1.T9.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="4"><span id="A1.T9.1.1.1.3.1" class="ltx_text" style="background-color:#DEDEDE;">DomainNet 150 class</span></td>
<td id="A1.T9.1.1.1.4" class="ltx_td ltx_align_center ltx_border_t" colspan="3"><span id="A1.T9.1.1.1.4.1" class="ltx_text" style="background-color:#DEDEDE;">DomainNet 345 class</span></td>
</tr>
<tr id="A1.T9.1.1.2" class="ltx_tr">
<td id="A1.T9.1.1.2.1" class="ltx_td ltx_align_center ltx_border_r"><span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span></td>
<td id="A1.T9.1.1.2.2" class="ltx_td ltx_align_center ltx_border_r">Fine-tuning</td>
<td id="A1.T9.1.1.2.3" class="ltx_td ltx_align_center ltx_border_r">FedAvg-sm</td>
<td id="A1.T9.1.1.2.4" class="ltx_td ltx_align_center ltx_border_r">CLIP Zero-shot</td>
<td id="A1.T9.1.1.2.5" class="ltx_td ltx_align_center ltx_border_r">FedDISC</td>
<td id="A1.T9.1.1.2.6" class="ltx_td ltx_align_center ltx_border_r">Fine-tuning</td>
<td id="A1.T9.1.1.2.7" class="ltx_td ltx_align_center ltx_border_r">FedAvg-sm</td>
<td id="A1.T9.1.1.2.8" class="ltx_td ltx_align_center ltx_border_r">CLIP Zero-shot</td>
<td id="A1.T9.1.1.2.9" class="ltx_td ltx_align_center ltx_border_r">FedDISC</td>
<td id="A1.T9.1.1.2.10" class="ltx_td ltx_align_center ltx_border_r">Fine-tuning</td>
<td id="A1.T9.1.1.2.11" class="ltx_td ltx_align_center ltx_border_r">FedAvg-sm</td>
<td id="A1.T9.1.1.2.12" class="ltx_td ltx_align_center ltx_border_r">CLIP Zero-shot</td>
<td id="A1.T9.1.1.2.13" class="ltx_td ltx_align_center">FedDISC</td>
</tr>
<tr id="A1.T9.1.1.3" class="ltx_tr">
<td id="A1.T9.1.1.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">client0</td>
<td id="A1.T9.1.1.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">79.61</td>
<td id="A1.T9.1.1.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">80.44</td>
<td id="A1.T9.1.1.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">79.28</td>
<td id="A1.T9.1.1.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">84.79</td>
<td id="A1.T9.1.1.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">73.14</td>
<td id="A1.T9.1.1.3.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">71.57</td>
<td id="A1.T9.1.1.3.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">76.26</td>
<td id="A1.T9.1.1.3.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">80.49</td>
<td id="A1.T9.1.1.3.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">67.57</td>
<td id="A1.T9.1.1.3.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">49.95</td>
<td id="A1.T9.1.1.3.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">65.86</td>
<td id="A1.T9.1.1.3.13" class="ltx_td ltx_align_center ltx_border_t">72.54</td>
</tr>
<tr id="A1.T9.1.1.4" class="ltx_tr">
<td id="A1.T9.1.1.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">client1</td>
<td id="A1.T9.1.1.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.40</td>
<td id="A1.T9.1.1.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.08</td>
<td id="A1.T9.1.1.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">57.79</td>
<td id="A1.T9.1.1.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">68.13</td>
<td id="A1.T9.1.1.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">55.16</td>
<td id="A1.T9.1.1.4.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">51.70</td>
<td id="A1.T9.1.1.4.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">45.84</td>
<td id="A1.T9.1.1.4.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">56.67</td>
<td id="A1.T9.1.1.4.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">45.47</td>
<td id="A1.T9.1.1.4.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">30.67</td>
<td id="A1.T9.1.1.4.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">40.50</td>
<td id="A1.T9.1.1.4.13" class="ltx_td ltx_align_center ltx_border_t">43.47</td>
</tr>
<tr id="A1.T9.1.1.5" class="ltx_tr">
<td id="A1.T9.1.1.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">client2</td>
<td id="A1.T9.1.1.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">75.72</td>
<td id="A1.T9.1.1.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">72.88</td>
<td id="A1.T9.1.1.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">72.45</td>
<td id="A1.T9.1.1.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">76.00</td>
<td id="A1.T9.1.1.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">69.74</td>
<td id="A1.T9.1.1.5.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">66.62</td>
<td id="A1.T9.1.1.5.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">69.43</td>
<td id="A1.T9.1.1.5.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">72.41</td>
<td id="A1.T9.1.1.5.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">65.28</td>
<td id="A1.T9.1.1.5.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">51.07</td>
<td id="A1.T9.1.1.5.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.25</td>
<td id="A1.T9.1.1.5.13" class="ltx_td ltx_align_center ltx_border_t">67.42</td>
</tr>
<tr id="A1.T9.1.1.6" class="ltx_tr">
<td id="A1.T9.1.1.6.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">client3</td>
<td id="A1.T9.1.1.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">21.70</td>
<td id="A1.T9.1.1.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5.54</td>
<td id="A1.T9.1.1.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">22.50</td>
<td id="A1.T9.1.1.6.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">28.17</td>
<td id="A1.T9.1.1.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">15.56</td>
<td id="A1.T9.1.1.6.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5.96</td>
<td id="A1.T9.1.1.6.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">19.57</td>
<td id="A1.T9.1.1.6.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">21.65</td>
<td id="A1.T9.1.1.6.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">10.42</td>
<td id="A1.T9.1.1.6.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1.74</td>
<td id="A1.T9.1.1.6.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">13.36</td>
<td id="A1.T9.1.1.6.13" class="ltx_td ltx_align_center ltx_border_t">17.71</td>
</tr>
<tr id="A1.T9.1.1.7" class="ltx_tr">
<td id="A1.T9.1.1.7.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">client4</td>
<td id="A1.T9.1.1.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">75.26</td>
<td id="A1.T9.1.1.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">72.98</td>
<td id="A1.T9.1.1.7.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">71.67</td>
<td id="A1.T9.1.1.7.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">80.72</td>
<td id="A1.T9.1.1.7.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">67.82</td>
<td id="A1.T9.1.1.7.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">64.52</td>
<td id="A1.T9.1.1.7.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">67.46</td>
<td id="A1.T9.1.1.7.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">75.48</td>
<td id="A1.T9.1.1.7.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.14</td>
<td id="A1.T9.1.1.7.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">38.46</td>
<td id="A1.T9.1.1.7.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">57.92</td>
<td id="A1.T9.1.1.7.13" class="ltx_td ltx_align_center ltx_border_t">67.25</td>
</tr>
<tr id="A1.T9.1.1.8" class="ltx_tr">
<td id="A1.T9.1.1.8.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">average</td>
<td id="A1.T9.1.1.8.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.94</td>
<td id="A1.T9.1.1.8.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">58.784</td>
<td id="A1.T9.1.1.8.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">60.74</td>
<td id="A1.T9.1.1.8.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T9.1.1.8.5.1" class="ltx_text ltx_font_bold">67.56</span></td>
<td id="A1.T9.1.1.8.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">56.28</td>
<td id="A1.T9.1.1.8.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">52.07</td>
<td id="A1.T9.1.1.8.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">55.71</td>
<td id="A1.T9.1.1.8.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T9.1.1.8.9.1" class="ltx_text ltx_font_bold">61.34</span></td>
<td id="A1.T9.1.1.8.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">50.17</td>
<td id="A1.T9.1.1.8.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">34.38</td>
<td id="A1.T9.1.1.8.12" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">47.98</td>
<td id="A1.T9.1.1.8.13" class="ltx_td ltx_align_center ltx_border_t"><span id="A1.T9.1.1.8.13.1" class="ltx_text ltx_font_bold">53.67</span></td>
</tr>
<tr id="A1.T9.1.1.9" class="ltx_tr">
<td id="A1.T9.1.1.9.1" class="ltx_td ltx_align_center ltx_border_r"><span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span></td>
<td id="A1.T9.1.1.9.2" class="ltx_td"></td>
<td id="A1.T9.1.1.9.3" class="ltx_td"></td>
<td id="A1.T9.1.1.9.4" class="ltx_td"></td>
<td id="A1.T9.1.1.9.5" class="ltx_td"></td>
<td id="A1.T9.1.1.9.6" class="ltx_td"></td>
<td id="A1.T9.1.1.9.7" class="ltx_td"></td>
<td id="A1.T9.1.1.9.8" class="ltx_td"></td>
<td id="A1.T9.1.1.9.9" class="ltx_td"></td>
<td id="A1.T9.1.1.9.10" class="ltx_td"></td>
<td id="A1.T9.1.1.9.11" class="ltx_td"></td>
<td id="A1.T9.1.1.9.12" class="ltx_td"></td>
<td id="A1.T9.1.1.9.13" class="ltx_td"></td>
</tr>
</table>
</span></div>
</figure>
<figure id="A1.T10" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 10: </span>The performance comparison of using different noise-adding methods on DomainNet 30.</figcaption>
<div id="A1.T10.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:60.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(24.5pt,-3.4pt) scale(1.12746364322411,1.12746364322411) ;">
<table id="A1.T10.1.1" class="ltx_tabular ltx_align_middle">
<tr id="A1.T10.1.1.1" class="ltx_tr" style="background-color:#DEDEDE;">
<td id="A1.T10.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r"><span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span></td>
<td id="A1.T10.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T10.1.1.1.2.1" class="ltx_text" style="background-color:#DEDEDE;">client0</span></td>
<td id="A1.T10.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T10.1.1.1.3.1" class="ltx_text" style="background-color:#DEDEDE;">client1</span></td>
<td id="A1.T10.1.1.1.4" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T10.1.1.1.4.1" class="ltx_text" style="background-color:#DEDEDE;">client2</span></td>
<td id="A1.T10.1.1.1.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T10.1.1.1.5.1" class="ltx_text" style="background-color:#DEDEDE;">client3</span></td>
<td id="A1.T10.1.1.1.6" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T10.1.1.1.6.1" class="ltx_text" style="background-color:#DEDEDE;">client4</span></td>
<td id="A1.T10.1.1.1.7" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T10.1.1.1.7.1" class="ltx_text" style="background-color:#DEDEDE;">average</span></td>
</tr>
<tr id="A1.T10.1.1.2" class="ltx_tr">
<td id="A1.T10.1.1.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Noise-adding process</td>
<td id="A1.T10.1.1.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">90</td>
<td id="A1.T10.1.1.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">73.26</td>
<td id="A1.T10.1.1.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">83.88</td>
<td id="A1.T10.1.1.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">38.29</td>
<td id="A1.T10.1.1.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">92.55</td>
<td id="A1.T10.1.1.2.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T10.1.1.2.7.1" class="ltx_text ltx_font_bold">75.596</span></td>
</tr>
<tr id="A1.T10.1.1.3" class="ltx_tr">
<td id="A1.T10.1.1.3.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">Simply add Gaussian noises</td>
<td id="A1.T10.1.1.3.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">89.56</td>
<td id="A1.T10.1.1.3.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">71.87</td>
<td id="A1.T10.1.1.3.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">83.26</td>
<td id="A1.T10.1.1.3.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">34.78</td>
<td id="A1.T10.1.1.3.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">93.02</td>
<td id="A1.T10.1.1.3.7" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">74.498</td>
</tr>
</table>
</span></div>
</figure>
<figure id="A1.T11" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 11: </span>The performance comparison of using different feature combination methods on DomainNet 30.</figcaption>
<div id="A1.T11.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:63.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(32.9pt,-4.8pt) scale(1.17902563345973,1.17902563345973) ;">
<table id="A1.T11.1.1" class="ltx_tabular ltx_align_middle">
<tr id="A1.T11.1.1.1" class="ltx_tr" style="background-color:#DEDEDE;">
<td id="A1.T11.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r"><span class="ltx_rule" style="width:100%;height:1.0pt;background:black;display:inline-block;"> </span></td>
<td id="A1.T11.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T11.1.1.1.2.1" class="ltx_text" style="background-color:#DEDEDE;">client0</span></td>
<td id="A1.T11.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T11.1.1.1.3.1" class="ltx_text" style="background-color:#DEDEDE;">client1</span></td>
<td id="A1.T11.1.1.1.4" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T11.1.1.1.4.1" class="ltx_text" style="background-color:#DEDEDE;">client2</span></td>
<td id="A1.T11.1.1.1.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T11.1.1.1.5.1" class="ltx_text" style="background-color:#DEDEDE;">client3</span></td>
<td id="A1.T11.1.1.1.6" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T11.1.1.1.6.1" class="ltx_text" style="background-color:#DEDEDE;">client4</span></td>
<td id="A1.T11.1.1.1.7" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T11.1.1.1.7.1" class="ltx_text" style="background-color:#DEDEDE;">average</span></td>
</tr>
<tr id="A1.T11.1.1.2" class="ltx_tr">
<td id="A1.T11.1.1.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Adding predicted noises</td>
<td id="A1.T11.1.1.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">90</td>
<td id="A1.T11.1.1.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">73.26</td>
<td id="A1.T11.1.1.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">83.88</td>
<td id="A1.T11.1.1.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">38.29</td>
<td id="A1.T11.1.1.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">92.55</td>
<td id="A1.T11.1.1.2.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T11.1.1.2.7.1" class="ltx_text ltx_font_bold">75.596</span></td>
</tr>
<tr id="A1.T11.1.1.3" class="ltx_tr">
<td id="A1.T11.1.1.3.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">Averaging features</td>
<td id="A1.T11.1.1.3.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">88.33</td>
<td id="A1.T11.1.1.3.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">72.89</td>
<td id="A1.T11.1.1.3.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">81.47</td>
<td id="A1.T11.1.1.3.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">40.31</td>
<td id="A1.T11.1.1.3.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">92.13</td>
<td id="A1.T11.1.1.3.7" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">75.026</td>
</tr>
</table>
</span></div>
</figure>
</section>
</section>
<section id="A1.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Implementation Details</h3>

<div id="A1.SS3.p1" class="ltx_para">
<p id="A1.SS3.p1.2" class="ltx_p">The model structure we used is a composite of CLIP and a linear classifier. During fine-tuning, we freeze the pre-trained CLIP and only fine-tune the classifier. Our method is mainly implemented based on <span id="A1.SS3.p1.2.1" class="ltx_text ltx_font_italic">PyTorch</span> and <span id="A1.SS3.p1.2.2" class="ltx_text ltx_font_italic">Diffusers</span>. For the base model, we use the <span id="A1.SS3.p1.2.3" class="ltx_text ltx_font_italic">Stable-Diffusion-Unclip-v2.1</span> <cite class="ltx_cite ltx_citemacro_citep">(Rombach et al. <a href="#bib.bib32" title="" class="ltx_ref">2022</a>)</cite> from <span id="A1.SS3.p1.2.4" class="ltx_text ltx_font_italic">HuggingFace</span>, where the pre-trained DM is used as <math id="A1.SS3.p1.1.m1.1" class="ltx_Math" alttext="\epsilon_{\theta}" display="inline"><semantics id="A1.SS3.p1.1.m1.1a"><msub id="A1.SS3.p1.1.m1.1.1" xref="A1.SS3.p1.1.m1.1.1.cmml"><mi id="A1.SS3.p1.1.m1.1.1.2" xref="A1.SS3.p1.1.m1.1.1.2.cmml">ϵ</mi><mi id="A1.SS3.p1.1.m1.1.1.3" xref="A1.SS3.p1.1.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.1.m1.1b"><apply id="A1.SS3.p1.1.m1.1.1.cmml" xref="A1.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.1.1">subscript</csymbol><ci id="A1.SS3.p1.1.m1.1.1.2.cmml" xref="A1.SS3.p1.1.m1.1.1.2">italic-ϵ</ci><ci id="A1.SS3.p1.1.m1.1.1.3.cmml" xref="A1.SS3.p1.1.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.1.m1.1c">\epsilon_{\theta}</annotation></semantics></math> for image generation, and the pre-trained CLIP <cite class="ltx_cite ltx_citemacro_citep">(Radford et al. <a href="#bib.bib30" title="" class="ltx_ref">2021</a>)</cite> from <span id="A1.SS3.p1.2.5" class="ltx_text ltx_font_italic">HuggingFace</span> is used as <math id="A1.SS3.p1.2.m2.1" class="ltx_Math" alttext="E_{\theta}" display="inline"><semantics id="A1.SS3.p1.2.m2.1a"><msub id="A1.SS3.p1.2.m2.1.1" xref="A1.SS3.p1.2.m2.1.1.cmml"><mi id="A1.SS3.p1.2.m2.1.1.2" xref="A1.SS3.p1.2.m2.1.1.2.cmml">E</mi><mi id="A1.SS3.p1.2.m2.1.1.3" xref="A1.SS3.p1.2.m2.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.2.m2.1b"><apply id="A1.SS3.p1.2.m2.1.1.cmml" xref="A1.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A1.SS3.p1.2.m2.1.1.1.cmml" xref="A1.SS3.p1.2.m2.1.1">subscript</csymbol><ci id="A1.SS3.p1.2.m2.1.1.2.cmml" xref="A1.SS3.p1.2.m2.1.1.2">𝐸</ci><ci id="A1.SS3.p1.2.m2.1.1.3.cmml" xref="A1.SS3.p1.2.m2.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.2.m2.1c">E_{\theta}</annotation></semantics></math> for image encoding. The brief model structure can be seen in Figure <a href="#A1.F8" title="Figure 8 ‣ DomainNet ‣ A.1 Dataset Description ‣ Appendix A Details of Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, where the projected image features are added with timestep features and applied to each block of the U-Net.</p>
</div>
<div id="A1.SS3.p2" class="ltx_para">
<p id="A1.SS3.p2.7" class="ltx_p">During the image-generating process, we use the DDIM scheduler and set the number of iterations for denoising to 20. Unless otherwise specified, the number of uploaded cluster centroids <math id="A1.SS3.p2.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="A1.SS3.p2.1.m1.1a"><mi id="A1.SS3.p2.1.m1.1.1" xref="A1.SS3.p2.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.1.m1.1b"><ci id="A1.SS3.p2.1.m1.1.1.cmml" xref="A1.SS3.p2.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.1.m1.1c">L</annotation></semantics></math> is set to 5. Conditioned on each cluster centroid, the number of generated images <math id="A1.SS3.p2.2.m2.1" class="ltx_Math" alttext="R" display="inline"><semantics id="A1.SS3.p2.2.m2.1a"><mi id="A1.SS3.p2.2.m2.1.1" xref="A1.SS3.p2.2.m2.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.2.m2.1b"><ci id="A1.SS3.p2.2.m2.1.1.cmml" xref="A1.SS3.p2.2.m2.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.2.m2.1c">R</annotation></semantics></math> is 10. The weights of noises <math id="A1.SS3.p2.3.m3.1" class="ltx_Math" alttext="w_{f}" display="inline"><semantics id="A1.SS3.p2.3.m3.1a"><msub id="A1.SS3.p2.3.m3.1.1" xref="A1.SS3.p2.3.m3.1.1.cmml"><mi id="A1.SS3.p2.3.m3.1.1.2" xref="A1.SS3.p2.3.m3.1.1.2.cmml">w</mi><mi id="A1.SS3.p2.3.m3.1.1.3" xref="A1.SS3.p2.3.m3.1.1.3.cmml">f</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.3.m3.1b"><apply id="A1.SS3.p2.3.m3.1.1.cmml" xref="A1.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="A1.SS3.p2.3.m3.1.1.1.cmml" xref="A1.SS3.p2.3.m3.1.1">subscript</csymbol><ci id="A1.SS3.p2.3.m3.1.1.2.cmml" xref="A1.SS3.p2.3.m3.1.1.2">𝑤</ci><ci id="A1.SS3.p2.3.m3.1.1.3.cmml" xref="A1.SS3.p2.3.m3.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.3.m3.1c">w_{f}</annotation></semantics></math> and <math id="A1.SS3.p2.4.m4.1" class="ltx_Math" alttext="w_{g}" display="inline"><semantics id="A1.SS3.p2.4.m4.1a"><msub id="A1.SS3.p2.4.m4.1.1" xref="A1.SS3.p2.4.m4.1.1.cmml"><mi id="A1.SS3.p2.4.m4.1.1.2" xref="A1.SS3.p2.4.m4.1.1.2.cmml">w</mi><mi id="A1.SS3.p2.4.m4.1.1.3" xref="A1.SS3.p2.4.m4.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.4.m4.1b"><apply id="A1.SS3.p2.4.m4.1.1.cmml" xref="A1.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="A1.SS3.p2.4.m4.1.1.1.cmml" xref="A1.SS3.p2.4.m4.1.1">subscript</csymbol><ci id="A1.SS3.p2.4.m4.1.1.2.cmml" xref="A1.SS3.p2.4.m4.1.1.2">𝑤</ci><ci id="A1.SS3.p2.4.m4.1.1.3.cmml" xref="A1.SS3.p2.4.m4.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.4.m4.1c">w_{g}</annotation></semantics></math> are 2. The intensity of the noise-adding process is 200. During the subsequent fine-tuning phase, we use the SGD optimizer with a learning rate of 0.01 and a batch size of 256. All experiments are completed with four NVIDIA GeForce RTX 3090 GPUs. The data augmentation used in our method is simple. For all images, we use two types of data augmentation: Resize and Normalize. The target resolution for resizing is 224<math id="A1.SS3.p2.5.m5.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.SS3.p2.5.m5.1a"><mo id="A1.SS3.p2.5.m5.1.1" xref="A1.SS3.p2.5.m5.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.5.m5.1b"><times id="A1.SS3.p2.5.m5.1.1.cmml" xref="A1.SS3.p2.5.m5.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.5.m5.1c">\times</annotation></semantics></math>224, using the bicubic interpolation method without anti-aliasing. The normalization is done using the mean of <math id="A1.SS3.p2.6.m6.3" class="ltx_Math" alttext="[0.48145466,0.4578275,0.40821073]" display="inline"><semantics id="A1.SS3.p2.6.m6.3a"><mrow id="A1.SS3.p2.6.m6.3.4.2" xref="A1.SS3.p2.6.m6.3.4.1.cmml"><mo stretchy="false" id="A1.SS3.p2.6.m6.3.4.2.1" xref="A1.SS3.p2.6.m6.3.4.1.cmml">[</mo><mn id="A1.SS3.p2.6.m6.1.1" xref="A1.SS3.p2.6.m6.1.1.cmml">0.48145466</mn><mo id="A1.SS3.p2.6.m6.3.4.2.2" xref="A1.SS3.p2.6.m6.3.4.1.cmml">,</mo><mn id="A1.SS3.p2.6.m6.2.2" xref="A1.SS3.p2.6.m6.2.2.cmml">0.4578275</mn><mo id="A1.SS3.p2.6.m6.3.4.2.3" xref="A1.SS3.p2.6.m6.3.4.1.cmml">,</mo><mn id="A1.SS3.p2.6.m6.3.3" xref="A1.SS3.p2.6.m6.3.3.cmml">0.40821073</mn><mo stretchy="false" id="A1.SS3.p2.6.m6.3.4.2.4" xref="A1.SS3.p2.6.m6.3.4.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.6.m6.3b"><list id="A1.SS3.p2.6.m6.3.4.1.cmml" xref="A1.SS3.p2.6.m6.3.4.2"><cn type="float" id="A1.SS3.p2.6.m6.1.1.cmml" xref="A1.SS3.p2.6.m6.1.1">0.48145466</cn><cn type="float" id="A1.SS3.p2.6.m6.2.2.cmml" xref="A1.SS3.p2.6.m6.2.2">0.4578275</cn><cn type="float" id="A1.SS3.p2.6.m6.3.3.cmml" xref="A1.SS3.p2.6.m6.3.3">0.40821073</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.6.m6.3c">[0.48145466,0.4578275,0.40821073]</annotation></semantics></math> and the variance of <math id="A1.SS3.p2.7.m7.3" class="ltx_Math" alttext="[0.26862954,0.26130258,0.27577711]" display="inline"><semantics id="A1.SS3.p2.7.m7.3a"><mrow id="A1.SS3.p2.7.m7.3.4.2" xref="A1.SS3.p2.7.m7.3.4.1.cmml"><mo stretchy="false" id="A1.SS3.p2.7.m7.3.4.2.1" xref="A1.SS3.p2.7.m7.3.4.1.cmml">[</mo><mn id="A1.SS3.p2.7.m7.1.1" xref="A1.SS3.p2.7.m7.1.1.cmml">0.26862954</mn><mo id="A1.SS3.p2.7.m7.3.4.2.2" xref="A1.SS3.p2.7.m7.3.4.1.cmml">,</mo><mn id="A1.SS3.p2.7.m7.2.2" xref="A1.SS3.p2.7.m7.2.2.cmml">0.26130258</mn><mo id="A1.SS3.p2.7.m7.3.4.2.3" xref="A1.SS3.p2.7.m7.3.4.1.cmml">,</mo><mn id="A1.SS3.p2.7.m7.3.3" xref="A1.SS3.p2.7.m7.3.3.cmml">0.27577711</mn><mo stretchy="false" id="A1.SS3.p2.7.m7.3.4.2.4" xref="A1.SS3.p2.7.m7.3.4.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.7.m7.3b"><list id="A1.SS3.p2.7.m7.3.4.1.cmml" xref="A1.SS3.p2.7.m7.3.4.2"><cn type="float" id="A1.SS3.p2.7.m7.1.1.cmml" xref="A1.SS3.p2.7.m7.1.1">0.26862954</cn><cn type="float" id="A1.SS3.p2.7.m7.2.2.cmml" xref="A1.SS3.p2.7.m7.2.2">0.26130258</cn><cn type="float" id="A1.SS3.p2.7.m7.3.3.cmml" xref="A1.SS3.p2.7.m7.3.3">0.27577711</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.7.m7.3c">[0.26862954,0.26130258,0.27577711]</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Additional Experiments</h2>

<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">In this section, we conduct supplementary experiments to further validate the performance of FedDISC, including discussions on the number of categories in the dataset, the noise-adding methods, feature combination methods, and additional visualization experiments that are not presented in the main paper due to space limitations.</p>
</div>
<section id="A2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Number of Categories.</h3>

<div id="A2.SS1.p1" class="ltx_para">
<p id="A2.SS1.p1.1" class="ltx_p">Since DomainNet has the largest number of categories, we conduct experiments on this dataset by selecting the first 90 categories, 150 categories, and all 345 categories for comparison. As shown in Table  <a href="#A1.T9" title="Table 9 ‣ Image Quantities ‣ A.2 Dataset Details ‣ Appendix A Details of Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>, as the number of image categories decreases, the performance improvement of FedDISC becomes more significant. We believe this is because, during the generating process, some semantically ambiguous images may still be generated. The reasons behind this are multifaceted, including the randomness in the sampled initial Noise or the limitations in the generation capability of Stable Diffusion. These images have less influence when the number of categories is small since the classification task is not so challenging. As the number of categories increases, the influence of these images becomes more significant, finally adversely influencing the performance of FedDISC.</p>
</div>
</section>
<section id="A2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Noise-adding Methods</h3>

<div id="A2.SS2.p1" class="ltx_para">
<p id="A2.SS2.p1.3" class="ltx_p">When the cluster centers and domain-specific features are sent to the server, we add noises to them. In our method, we use the noise-adding process provided by <span id="A2.SS2.p1.3.1" class="ltx_text ltx_font_italic">Stable-Diffusion-Unclip</span>. However, in practice, we can also directly add Gaussian noise by using the following formula:</p>
<table id="A2.EGx11" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="A2.E7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="A2.E7.m1.6" class="ltx_Math" alttext="\displaystyle\bar{\mathbf{z}}_{j,l}^{k}={\mathbf{z}}_{j,l}^{k}+\beta\epsilon,\bar{\mathbf{g}}_{j}^{k}={\mathbf{g}_{j}^{k}}+\beta\epsilon" display="inline"><semantics id="A2.E7.m1.6a"><mrow id="A2.E7.m1.6.6.2" xref="A2.E7.m1.6.6.3.cmml"><mrow id="A2.E7.m1.5.5.1.1" xref="A2.E7.m1.5.5.1.1.cmml"><msubsup id="A2.E7.m1.5.5.1.1.2" xref="A2.E7.m1.5.5.1.1.2.cmml"><mover accent="true" id="A2.E7.m1.5.5.1.1.2.2.2" xref="A2.E7.m1.5.5.1.1.2.2.2.cmml"><mi id="A2.E7.m1.5.5.1.1.2.2.2.2" xref="A2.E7.m1.5.5.1.1.2.2.2.2.cmml">𝐳</mi><mo id="A2.E7.m1.5.5.1.1.2.2.2.1" xref="A2.E7.m1.5.5.1.1.2.2.2.1.cmml">¯</mo></mover><mrow id="A2.E7.m1.2.2.2.4" xref="A2.E7.m1.2.2.2.3.cmml"><mi id="A2.E7.m1.1.1.1.1" xref="A2.E7.m1.1.1.1.1.cmml">j</mi><mo id="A2.E7.m1.2.2.2.4.1" xref="A2.E7.m1.2.2.2.3.cmml">,</mo><mi id="A2.E7.m1.2.2.2.2" xref="A2.E7.m1.2.2.2.2.cmml">l</mi></mrow><mi id="A2.E7.m1.5.5.1.1.2.3" xref="A2.E7.m1.5.5.1.1.2.3.cmml">k</mi></msubsup><mo id="A2.E7.m1.5.5.1.1.1" xref="A2.E7.m1.5.5.1.1.1.cmml">=</mo><mrow id="A2.E7.m1.5.5.1.1.3" xref="A2.E7.m1.5.5.1.1.3.cmml"><msubsup id="A2.E7.m1.5.5.1.1.3.2" xref="A2.E7.m1.5.5.1.1.3.2.cmml"><mi id="A2.E7.m1.5.5.1.1.3.2.2.2" xref="A2.E7.m1.5.5.1.1.3.2.2.2.cmml">𝐳</mi><mrow id="A2.E7.m1.4.4.2.4" xref="A2.E7.m1.4.4.2.3.cmml"><mi id="A2.E7.m1.3.3.1.1" xref="A2.E7.m1.3.3.1.1.cmml">j</mi><mo id="A2.E7.m1.4.4.2.4.1" xref="A2.E7.m1.4.4.2.3.cmml">,</mo><mi id="A2.E7.m1.4.4.2.2" xref="A2.E7.m1.4.4.2.2.cmml">l</mi></mrow><mi id="A2.E7.m1.5.5.1.1.3.2.3" xref="A2.E7.m1.5.5.1.1.3.2.3.cmml">k</mi></msubsup><mo id="A2.E7.m1.5.5.1.1.3.1" xref="A2.E7.m1.5.5.1.1.3.1.cmml">+</mo><mrow id="A2.E7.m1.5.5.1.1.3.3" xref="A2.E7.m1.5.5.1.1.3.3.cmml"><mi id="A2.E7.m1.5.5.1.1.3.3.2" xref="A2.E7.m1.5.5.1.1.3.3.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="A2.E7.m1.5.5.1.1.3.3.1" xref="A2.E7.m1.5.5.1.1.3.3.1.cmml">​</mo><mi id="A2.E7.m1.5.5.1.1.3.3.3" xref="A2.E7.m1.5.5.1.1.3.3.3.cmml">ϵ</mi></mrow></mrow></mrow><mo id="A2.E7.m1.6.6.2.3" xref="A2.E7.m1.6.6.3a.cmml">,</mo><mrow id="A2.E7.m1.6.6.2.2" xref="A2.E7.m1.6.6.2.2.cmml"><msubsup id="A2.E7.m1.6.6.2.2.2" xref="A2.E7.m1.6.6.2.2.2.cmml"><mover accent="true" id="A2.E7.m1.6.6.2.2.2.2.2" xref="A2.E7.m1.6.6.2.2.2.2.2.cmml"><mi id="A2.E7.m1.6.6.2.2.2.2.2.2" xref="A2.E7.m1.6.6.2.2.2.2.2.2.cmml">𝐠</mi><mo id="A2.E7.m1.6.6.2.2.2.2.2.1" xref="A2.E7.m1.6.6.2.2.2.2.2.1.cmml">¯</mo></mover><mi id="A2.E7.m1.6.6.2.2.2.2.3" xref="A2.E7.m1.6.6.2.2.2.2.3.cmml">j</mi><mi id="A2.E7.m1.6.6.2.2.2.3" xref="A2.E7.m1.6.6.2.2.2.3.cmml">k</mi></msubsup><mo id="A2.E7.m1.6.6.2.2.1" xref="A2.E7.m1.6.6.2.2.1.cmml">=</mo><mrow id="A2.E7.m1.6.6.2.2.3" xref="A2.E7.m1.6.6.2.2.3.cmml"><msubsup id="A2.E7.m1.6.6.2.2.3.2" xref="A2.E7.m1.6.6.2.2.3.2.cmml"><mi id="A2.E7.m1.6.6.2.2.3.2.2.2" xref="A2.E7.m1.6.6.2.2.3.2.2.2.cmml">𝐠</mi><mi id="A2.E7.m1.6.6.2.2.3.2.2.3" xref="A2.E7.m1.6.6.2.2.3.2.2.3.cmml">j</mi><mi id="A2.E7.m1.6.6.2.2.3.2.3" xref="A2.E7.m1.6.6.2.2.3.2.3.cmml">k</mi></msubsup><mo id="A2.E7.m1.6.6.2.2.3.1" xref="A2.E7.m1.6.6.2.2.3.1.cmml">+</mo><mrow id="A2.E7.m1.6.6.2.2.3.3" xref="A2.E7.m1.6.6.2.2.3.3.cmml"><mi id="A2.E7.m1.6.6.2.2.3.3.2" xref="A2.E7.m1.6.6.2.2.3.3.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="A2.E7.m1.6.6.2.2.3.3.1" xref="A2.E7.m1.6.6.2.2.3.3.1.cmml">​</mo><mi id="A2.E7.m1.6.6.2.2.3.3.3" xref="A2.E7.m1.6.6.2.2.3.3.3.cmml">ϵ</mi></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.E7.m1.6b"><apply id="A2.E7.m1.6.6.3.cmml" xref="A2.E7.m1.6.6.2"><csymbol cd="ambiguous" id="A2.E7.m1.6.6.3a.cmml" xref="A2.E7.m1.6.6.2.3">formulae-sequence</csymbol><apply id="A2.E7.m1.5.5.1.1.cmml" xref="A2.E7.m1.5.5.1.1"><eq id="A2.E7.m1.5.5.1.1.1.cmml" xref="A2.E7.m1.5.5.1.1.1"></eq><apply id="A2.E7.m1.5.5.1.1.2.cmml" xref="A2.E7.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="A2.E7.m1.5.5.1.1.2.1.cmml" xref="A2.E7.m1.5.5.1.1.2">superscript</csymbol><apply id="A2.E7.m1.5.5.1.1.2.2.cmml" xref="A2.E7.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="A2.E7.m1.5.5.1.1.2.2.1.cmml" xref="A2.E7.m1.5.5.1.1.2">subscript</csymbol><apply id="A2.E7.m1.5.5.1.1.2.2.2.cmml" xref="A2.E7.m1.5.5.1.1.2.2.2"><ci id="A2.E7.m1.5.5.1.1.2.2.2.1.cmml" xref="A2.E7.m1.5.5.1.1.2.2.2.1">¯</ci><ci id="A2.E7.m1.5.5.1.1.2.2.2.2.cmml" xref="A2.E7.m1.5.5.1.1.2.2.2.2">𝐳</ci></apply><list id="A2.E7.m1.2.2.2.3.cmml" xref="A2.E7.m1.2.2.2.4"><ci id="A2.E7.m1.1.1.1.1.cmml" xref="A2.E7.m1.1.1.1.1">𝑗</ci><ci id="A2.E7.m1.2.2.2.2.cmml" xref="A2.E7.m1.2.2.2.2">𝑙</ci></list></apply><ci id="A2.E7.m1.5.5.1.1.2.3.cmml" xref="A2.E7.m1.5.5.1.1.2.3">𝑘</ci></apply><apply id="A2.E7.m1.5.5.1.1.3.cmml" xref="A2.E7.m1.5.5.1.1.3"><plus id="A2.E7.m1.5.5.1.1.3.1.cmml" xref="A2.E7.m1.5.5.1.1.3.1"></plus><apply id="A2.E7.m1.5.5.1.1.3.2.cmml" xref="A2.E7.m1.5.5.1.1.3.2"><csymbol cd="ambiguous" id="A2.E7.m1.5.5.1.1.3.2.1.cmml" xref="A2.E7.m1.5.5.1.1.3.2">superscript</csymbol><apply id="A2.E7.m1.5.5.1.1.3.2.2.cmml" xref="A2.E7.m1.5.5.1.1.3.2"><csymbol cd="ambiguous" id="A2.E7.m1.5.5.1.1.3.2.2.1.cmml" xref="A2.E7.m1.5.5.1.1.3.2">subscript</csymbol><ci id="A2.E7.m1.5.5.1.1.3.2.2.2.cmml" xref="A2.E7.m1.5.5.1.1.3.2.2.2">𝐳</ci><list id="A2.E7.m1.4.4.2.3.cmml" xref="A2.E7.m1.4.4.2.4"><ci id="A2.E7.m1.3.3.1.1.cmml" xref="A2.E7.m1.3.3.1.1">𝑗</ci><ci id="A2.E7.m1.4.4.2.2.cmml" xref="A2.E7.m1.4.4.2.2">𝑙</ci></list></apply><ci id="A2.E7.m1.5.5.1.1.3.2.3.cmml" xref="A2.E7.m1.5.5.1.1.3.2.3">𝑘</ci></apply><apply id="A2.E7.m1.5.5.1.1.3.3.cmml" xref="A2.E7.m1.5.5.1.1.3.3"><times id="A2.E7.m1.5.5.1.1.3.3.1.cmml" xref="A2.E7.m1.5.5.1.1.3.3.1"></times><ci id="A2.E7.m1.5.5.1.1.3.3.2.cmml" xref="A2.E7.m1.5.5.1.1.3.3.2">𝛽</ci><ci id="A2.E7.m1.5.5.1.1.3.3.3.cmml" xref="A2.E7.m1.5.5.1.1.3.3.3">italic-ϵ</ci></apply></apply></apply><apply id="A2.E7.m1.6.6.2.2.cmml" xref="A2.E7.m1.6.6.2.2"><eq id="A2.E7.m1.6.6.2.2.1.cmml" xref="A2.E7.m1.6.6.2.2.1"></eq><apply id="A2.E7.m1.6.6.2.2.2.cmml" xref="A2.E7.m1.6.6.2.2.2"><csymbol cd="ambiguous" id="A2.E7.m1.6.6.2.2.2.1.cmml" xref="A2.E7.m1.6.6.2.2.2">superscript</csymbol><apply id="A2.E7.m1.6.6.2.2.2.2.cmml" xref="A2.E7.m1.6.6.2.2.2"><csymbol cd="ambiguous" id="A2.E7.m1.6.6.2.2.2.2.1.cmml" xref="A2.E7.m1.6.6.2.2.2">subscript</csymbol><apply id="A2.E7.m1.6.6.2.2.2.2.2.cmml" xref="A2.E7.m1.6.6.2.2.2.2.2"><ci id="A2.E7.m1.6.6.2.2.2.2.2.1.cmml" xref="A2.E7.m1.6.6.2.2.2.2.2.1">¯</ci><ci id="A2.E7.m1.6.6.2.2.2.2.2.2.cmml" xref="A2.E7.m1.6.6.2.2.2.2.2.2">𝐠</ci></apply><ci id="A2.E7.m1.6.6.2.2.2.2.3.cmml" xref="A2.E7.m1.6.6.2.2.2.2.3">𝑗</ci></apply><ci id="A2.E7.m1.6.6.2.2.2.3.cmml" xref="A2.E7.m1.6.6.2.2.2.3">𝑘</ci></apply><apply id="A2.E7.m1.6.6.2.2.3.cmml" xref="A2.E7.m1.6.6.2.2.3"><plus id="A2.E7.m1.6.6.2.2.3.1.cmml" xref="A2.E7.m1.6.6.2.2.3.1"></plus><apply id="A2.E7.m1.6.6.2.2.3.2.cmml" xref="A2.E7.m1.6.6.2.2.3.2"><csymbol cd="ambiguous" id="A2.E7.m1.6.6.2.2.3.2.1.cmml" xref="A2.E7.m1.6.6.2.2.3.2">superscript</csymbol><apply id="A2.E7.m1.6.6.2.2.3.2.2.cmml" xref="A2.E7.m1.6.6.2.2.3.2"><csymbol cd="ambiguous" id="A2.E7.m1.6.6.2.2.3.2.2.1.cmml" xref="A2.E7.m1.6.6.2.2.3.2">subscript</csymbol><ci id="A2.E7.m1.6.6.2.2.3.2.2.2.cmml" xref="A2.E7.m1.6.6.2.2.3.2.2.2">𝐠</ci><ci id="A2.E7.m1.6.6.2.2.3.2.2.3.cmml" xref="A2.E7.m1.6.6.2.2.3.2.2.3">𝑗</ci></apply><ci id="A2.E7.m1.6.6.2.2.3.2.3.cmml" xref="A2.E7.m1.6.6.2.2.3.2.3">𝑘</ci></apply><apply id="A2.E7.m1.6.6.2.2.3.3.cmml" xref="A2.E7.m1.6.6.2.2.3.3"><times id="A2.E7.m1.6.6.2.2.3.3.1.cmml" xref="A2.E7.m1.6.6.2.2.3.3.1"></times><ci id="A2.E7.m1.6.6.2.2.3.3.2.cmml" xref="A2.E7.m1.6.6.2.2.3.3.2">𝛽</ci><ci id="A2.E7.m1.6.6.2.2.3.3.3.cmml" xref="A2.E7.m1.6.6.2.2.3.3.3">italic-ϵ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.E7.m1.6c">\displaystyle\bar{\mathbf{z}}_{j,l}^{k}={\mathbf{z}}_{j,l}^{k}+\beta\epsilon,\bar{\mathbf{g}}_{j}^{k}={\mathbf{g}_{j}^{k}}+\beta\epsilon</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="A2.SS2.p1.2" class="ltx_p">, where <math id="A2.SS2.p1.1.m1.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="A2.SS2.p1.1.m1.1a"><mi id="A2.SS2.p1.1.m1.1.1" xref="A2.SS2.p1.1.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.1.m1.1b"><ci id="A2.SS2.p1.1.m1.1.1.cmml" xref="A2.SS2.p1.1.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.1.m1.1c">\epsilon</annotation></semantics></math> is randomly sampled Gaussian noise and <math id="A2.SS2.p1.2.m2.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="A2.SS2.p1.2.m2.1a"><mi id="A2.SS2.p1.2.m2.1.1" xref="A2.SS2.p1.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.2.m2.1b"><ci id="A2.SS2.p1.2.m2.1.1.cmml" xref="A2.SS2.p1.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.2.m2.1c">\beta</annotation></semantics></math> controls the strength of the added noise, which we set to 0.2 in our experiments. Some quantization and visualization results demonstrate the difference between the noise-adding process we used in our method and simply adding Gaussian noises. As shown in figure  <a href="#A1.F9" title="Figure 9 ‣ DomainNet ‣ A.1 Dataset Description ‣ Appendix A Details of Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>, it can be seen that simply adding Gaussian noises leads to more severe damage to the semantic information of the images, making it difficult to ensure that the generated images have correct semantic information. As shown in Table <a href="#A1.T10" title="Table 10 ‣ Image Quantities ‣ A.2 Dataset Details ‣ Appendix A Details of Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>, the fine-tuning results on the DomainNet 30 also show that the noise-adding process used in our method performs better compared to adding Gaussian noise.</p>
</div>
</section>
<section id="A2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>Feature Combination Methods</h3>

<div id="A2.SS3.p1" class="ltx_para">
<p id="A2.SS3.p1.1" class="ltx_p">When combining the cluster centers and domain-specific representations, we follow the method described in the main paper, which involves inputting them separately into the pre-trained diffusion model to obtain two predicted noises and then adding the noises to obtain the final predicted noises. However, there is a simple alternative method that involves directly averaging the chosen cluster center and different domain-specific representations to combine their information. Therefore, we conduct some quantitative and visualization experiments to demonstrate the difference between our feature combination method and simply averaging the features.</p>
</div>
<div id="A2.SS3.p2" class="ltx_para">
<p id="A2.SS3.p2.1" class="ltx_p">From figure  <a href="#A1.F10" title="Figure 10 ‣ DomainNet ‣ A.1 Dataset Description ‣ Appendix A Details of Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>, it can be seen that the method of combining features by adding predicted noises generates images with higher quality and more semantic clarity compared to simply averaging the features. Directly averaging the features somewhat damages the information in both the cluster centers and domain-specific representations, which affects the quality of the generated images. From table <a href="#A1.T11" title="Table 11 ‣ Image Quantities ‣ A.2 Dataset Details ‣ Appendix A Details of Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>, it can also be observed that our method achieves better performance in the fine-tuned classification models on most domains.</p>
</div>
</section>
<section id="A2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.4 </span>Additional Visualization Experiments</h3>

<div id="A2.SS4.p1" class="ltx_para">
<p id="A2.SS4.p1.1" class="ltx_p">In Figue  <a href="#A2.F11" title="Figure 11 ‣ B.4 Additional Visualization Experiments ‣ Appendix B Additional Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>, we conduct a comparison between the original dataset and the corresponding synthesized dataset on DomainNet. Visualization results reveal that, except for the quickdraw domain, the synthetic datasets effectively capture the stylistic features of each domain while preserving accurate semantic information. However, the quickdraw domain within the original dataset is notably abstract and distinct to the extent that performing classification tasks by humans becomes challenging. On the contrary, the quickdraw domain in the synthetic dataset not only retains certain stylistic characteristics of the original quickdraw domain, such as simple lines and a predominantly black-and-white palette but also ensures the correctness and clarity of semantic information within the images. Hence, these results demonstrate that between the synthetic dataset in FedDISC and the original dataset, there exists a level of quality and diversity that is on par with, or potentially even surpasses, the latter.</p>
</div>
<div id="A2.SS4.p2" class="ltx_para">
<p id="A2.SS4.p2.1" class="ltx_p">In Figure  <a href="#A2.F12" title="Figure 12 ‣ B.4 Additional Visualization Experiments ‣ Appendix B Additional Experiments ‣ Exploring One-Shot Semi-Supervised Federated Learning with Pre-trained Diffusion Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a>, We extend our comparison to OpenImage and NICO++, revealing similar outcomes. The synthetic dataset effectively encompasses intricate subclass details. Once again, this highlights the notion that FedDISC can generate images with the correct semantic information while complying with different personalized distributions of the clients, and the synthetic dataset in FedDISC rivals, or even surpasses, the quality and diversity of the original dataset.</p>
</div>
<figure id="A2.F11" class="ltx_figure"><img src="/html/2305.04063/assets/x11.png" id="A2.F11.g1" class="ltx_graphics ltx_img_portrait" width="368" height="524" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 11: </span>
Comparison between the original dataset and synthetic dataset on DomainNet.
</figcaption>
</figure>
<figure id="A2.F12" class="ltx_figure"><img src="/html/2305.04063/assets/x12.png" id="A2.F12.g1" class="ltx_graphics ltx_img_portrait" width="369" height="537" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 12: </span>
Comparison between the original dataset and synthetic dataset on OpenImgae and NICO++.
</figcaption>
</figure>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2305.04062" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2305.04063" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2305.04063">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2305.04063" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2305.04064" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Feb 29 09:21:57 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
