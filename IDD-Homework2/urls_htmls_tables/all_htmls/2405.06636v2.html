<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2405.06636] Federated Document Visual Question Answering: A Pilot Study</title><meta property="og:description" content="An important handicap of document analysis research is that documents tend to be copyrighted or contain private information, which prohibits their open publication and the creation of centralised, large-scale document …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Document Visual Question Answering: A Pilot Study">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Document Visual Question Answering: A Pilot Study">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2405.06636">

<!--Generated on Wed Jun  5 17:09:57 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Document Understanding Document Visual Question Answering Federated Learning.">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line"><span id="id1" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">institutetext: </span>Computer Vision Center, Universitat Autonoma de Barcelona, Spain
<span id="id1.1" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">email: </span>vkhanh,dimos@cvc.uab.es</span></span></span></span></span></span>
<h1 class="ltx_title ltx_title_document">Federated Document Visual Question Answering: A Pilot Study</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Khanh Nguyen 
</span><span class="ltx_author_notes">11
<span class="ltx_contact ltx_role_orcid"><a target="_blank" href="https://orcid.org/0000-0003-3353-0473" title="ORCID identifier" class="ltx_ref">0000-0003-3353-0473</a></span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Dimosthenis Karatzas
</span><span class="ltx_author_notes">11
<span class="ltx_contact ltx_role_orcid"><a target="_blank" href="https://orcid.org/0000-0001-8762-4454" title="ORCID identifier" class="ltx_ref">0000-0001-8762-4454</a></span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">An important handicap of document analysis research is that documents tend to be copyrighted or contain private information, which prohibits their open publication and the creation of centralised, large-scale document datasets. Instead, documents are scattered in private data silos, making extensive training over heterogeneous data a tedious task.
In this work, we explore the use of a federated learning (FL) scheme as a way to train a shared model on decentralised private document data. We focus on the problem of Document VQA, a task particularly suited to this approach, as the type of reasoning capabilities required from the model can be quite different in diverse domains. Enabling training over heterogeneous document datasets can thus substantially enrich DocVQA models.
We assemble existing DocVQA datasets from diverse domains to reflect the data heterogeneity in real-world applications. We explore the self-pretraining technique in this multi-modal setting, where the same data is used for both pretraining and finetuning, making it relevant for privacy preservation. We further propose combining self-pretraining with a Federated DocVQA training method using centralized adaptive optimization that outperforms the FedAvg baseline. With extensive experiments<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>The code is available at  <a target="_blank" href="https://github.com/khanhnguyen21006/fldocvqa" title="" class="ltx_ref ltx_url"><span id="footnote1.1.1" class="ltx_text" style="color:#0000FF;">https://github.com/khanhnguyen21006/fldocvqa</span></a></span></span></span>, we also present a multi-faceted analysis on training DocVQA models with FL, which provides insights for future research on this task. We show that our pretraining strategies can effectively learn and scale up under federated training with diverse DocVQA datasets and tuning hyperparameters is essential for practical document tasks under federation.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Keywords: </h6>Document Understanding Document Visual Question Answering Federated Learning.
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Most contemporary documents relevant for document analysis research tend to contain private information or be under copyright restrictions. This includes everything from administrative documents, bank statements, insurance claims, identification documents, student exams, bills, invoices, books, magazines, etc. Moreover, several data regulation policies (e.g. the General Data Protection Regulation (GDPR) in Europe or state consumer privacy acts in the US) further restrict the way such documents can be used and distributed.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">As a result, in various real-life scenarios data is collected, stored and processed locally, and cannot be pulled together and used for training large-scale models. Subsequently, most research is performed either on outdated document collections, or on small-scale, private datasets, which rarely reflect the heterogeneity of the real-world, and render the research outcomes difficult to reproduce.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this work, we explore for the first time the use of Federated Learning for training a large multimodal LLM model for Document Visual Question Answering (DocVQA). Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows an overview of our approach.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2405.06636/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="322" height="301" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.5.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S1.F1.6.2" class="ltx_text ltx_font_bold" style="font-size:90%;">The general scheme of Federated Document Visual Question Answering<span id="S1.F1.6.2.1" class="ltx_text ltx_font_medium">. The fundamental concept involves collaborative training of a DocVQA model under the coordination of the server. The training takes place locally at each client and <span id="S1.F1.6.2.1.1" class="ltx_text ltx_font_italic">only model updates</span> are communicated between client and server, ensuring that private data is <span id="S1.F1.6.2.1.2" class="ltx_text ltx_font_italic">never shared</span>, thus preserving privacy.</span></span></figcaption>
</figure>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Federated Learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> is an alternative training paradigm, that enables a set of distributed clients to collaboratively train a centralized model without sharing their local data. It has been used extensively in fields such as health <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, recommendation systems <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>, smart cities <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>, etc, but to the best of our knowledge it has not been applied yet to document understanding.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">The DocVQA task gave rise to a new prompt-response based scheme for document understanding. In this scheme, the input is invariably multimodal, comprising on one hand the question and on the other the visual representation of the document. In most cases, the document visual representation is coupled with the OCR and layout data, making the input space even more complex.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">The majority of previous Federated Learning (FL) work has focused on the unimodal setting, where the local data of all clients is described by a single modality. In contrast, DocVQA is a case of congruent multimodal FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>, where the clients hold multimodal data with the same local modality combination, in our case: vision and language. This introduces further challenges to the FL setup.</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">In the DocVQA scenario, the FL setup needs to resolve the heterogeneity challenge in terms of data distribution (i.e. the fact that data distribution is not balanced between the clients), while at the same time efficiently leverage domain heterogeneity across the clients. In the case of DocVQA, the basic question-answering scheme is the same, but each client has access to documents (and corresponding questions) from different domains.</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p">Notably, similarly to the fact that training (fine-tuning) data is found in data silos, representative pre-training data is also difficult to get hold of in a centralized location. To solve this problem, we use self-pretraining in a federated learning setting. Self-pretraining uses the same data both for pre-training (without annotations) and for the final training step (with annotations).</p>
</div>
<div id="S1.p9" class="ltx_para">
<p id="S1.p9.1" class="ltx_p">In this work we study the application of Federated Learning to DocVQA, a complex DU problem with multimodal input. To the best of our knowledge, this is the first study of FL application to the document analysis and recognition field. Specifically, our contributions are the following:</p>
<ol id="S1.I1" class="ltx_enumerate">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We provide a new benchmark for Federated Learning DocVQA, with a well-defined non-IID distribution, bringing together 3 existing DocVQA datasets to simulate a realistic setting for FL.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We introduce a new training setup that employs FL for DocVQA, where we train a model on private, distributed documents without centralized data aggregation, to collaboratively train a model on multiple DocVQA datasets from diverse domains.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We explore the effectiveness of various FL optimization strategies at the server side, and report results on different methods.</p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p id="S1.I1.i4.p1.1" class="ltx_p">We propose the use of self-pretraining in our proposed Federated Learning setup and demonstrate its effectiveness.</p>
</div>
</li>
<li id="S1.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">5.</span> 
<div id="S1.I1.i5.p1" class="ltx_para">
<p id="S1.I1.i5.p1.1" class="ltx_p">We show that the use of server adaptive optimization, combined with self-pretraining improves DocVQA performance compared to the FedAvg baseline approach, reaching results to the centralized training method.</p>
</div>
</li>
</ol>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Document Visual Question Answering</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">DocVQA has gained significant attention in the field of DU due to its nature of answering natural language questions to extract information from documents. As a result, numerous datasets addressing diverse domains and challenges have emerged, including industry documents <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>, infographics <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>, structured tables and databases <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>, multipage <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>, multidomain <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite>.
Despite the availability of small and medium-sized datasets, the lack of a large-scale generic dataset suitable for diverse scenarios persists. This challenge is primarily due to the sensitive content and copyright issues surrounding many documents, which prevent document holders from publicly releasing their data. In this context, Federated learning techniques, serving as privacy-preserving methods, offer a solution to facilitate the use of distributed and private datasets among different entities.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">Recent advancements in single-page DocVQA, such as LayoutLM family <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, TILT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>, UDOP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite> to name a few, have achieved impressive results through the integration of OCR, layout and visual features. Another research works like Donut <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> and Pix2Struct <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> introduce end-to-end architectures that release the burden on external OCR modules by incorporating reading-oriented pre-training objectives, maintaining competitive performances.
The key component of these methods is the use of self-supervised pretraining objectives on large-scale document datasets, resulting in better representations for downstream tasks.
In this work, we base our architecture on a text-only pre-trained language model (PLM) T5 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> as the backbone, enhanced with visual features extracted from the document to accommodate multimodal input. This method offers ease of fine-tuning along with robust performance on the DocVQA task <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, allowing us to focus on privacy-preserving techniques like FL on multimodal data.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Cross-silo Federated Learning</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">The cross-silo Federated Learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> is relevant when multiple companies or organizations have a shared interest in training a model using their collective data, but are unable to share their data directly due to confidentiality, legal or geological constraints. In this setting, data can be partitioned either by examples (and)or features, denoted as <span id="S2.SS2.p1.1.1" class="ltx_text ltx_font_italic">horizontal</span>/<span id="S2.SS2.p1.1.2" class="ltx_text ltx_font_italic">vertical</span> FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite>, respectively. In horizontal FL, training data from various parties have different distributions but share the same feature space. In contrast, vertical FL refers to settings where data from different parties share the same distribution but have differing features.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">The horizontal setting where data is example-partitioned is our main focus in this work. Currently, proposed FL algorithms mostly focus on addressing challenges from non-IID and unbalanced data setting, by synthesizing client-partitioned datasets <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> from single modal tasks, resulting in better optimization algorithms <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>. Concurrently, another research lines in FL tackle problems in communication efficiency <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>, compression <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>, <a href="#bib.bib41" title="" class="ltx_ref">41</a>]</cite> and differential privacy with FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>. We take a step further to extend this setting to a more realistic multimodal document system.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Self-Pretraining</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p"><span id="S2.SS3.p1.1.1" class="ltx_text ltx_font_italic">Self-Pretraining</span> is an accepted notion in NLP where the same (downstream) training data is utilized for both pretraining and finetuning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>. In many applications, best practices involve pretraining models on large unlabeled <span id="S2.SS3.p1.1.2" class="ltx_text ltx_font_italic">upstream</span> datasets using self-supervised objectives, followed by finetuning on labeled <span id="S2.SS3.p1.1.3" class="ltx_text ltx_font_italic">downstream</span> data for the specific task of interest. These large-scale pretrained models often yield significant improvements compared to models trained solely on the downstream task.</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p">However, recent studies in NLP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite> exploring the impact of large-scale corpora have revealed surprising results: notable performance gains are observed even when using synthesized upstream data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite> or identical upstream and downstream datasets <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>, as long as the pretraining objective captures task-related structures. This phenomenon also extends vision models, where pretraining with a Masked AutoEncoder (MAE) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> objective has been shown to enhance the performance of ViT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite> on ImageNet-1K <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, and pretraining solely on downstream datasets for object detection and segmentation has achieved performance comparable to ImageNet-pretrained models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>.
Despite of these interesting findings, several practical questions related to document tasks remain unexplored: (1) the extent to which self-pretraining is advantageous with limited-scale downstream data and high-level reasoning pretraining objectives, and (2) whether this observation is domain/task-agnostic and can be generalized to other complex domains.
In this study, we re-visit this idea in a multimodal setting like DocVQA and show that continuing pretraining PLMs on unlabeled documents in downstream DocVQA datasets improves the DocVQA performance of finetuning in the same tasks.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Methodology</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Problem Statement</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.5" class="ltx_p">This section provides the formal definition of Federated DocVQA, termed FeDocVQA. Suppose there are <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">K</annotation></semantics></math> relatively reliable clients. Each client <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">k</annotation></semantics></math> holds a DocVQA dataset <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="D_{k}" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><msub id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.p1.3.m3.1.1.2" xref="S3.SS1.p1.3.m3.1.1.2.cmml">D</mi><mi id="S3.SS1.p1.3.m3.1.1.3" xref="S3.SS1.p1.3.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.2">𝐷</ci><ci id="S3.SS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">D_{k}</annotation></semantics></math> of moderate size <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><msub id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.2" xref="S3.SS1.p1.4.m4.1.1.2.cmml">n</mi><mi id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2">𝑛</ci><ci id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">n_{k}</annotation></semantics></math> and guarantees a sufficient computational capability. The goal is to collaboratively train a DocVQA model <math id="S3.SS1.p1.5.m5.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S3.SS1.p1.5.m5.1a"><mi id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">\theta</annotation></semantics></math> among clients <span id="S3.SS1.p1.5.1" class="ltx_text ltx_font_italic">without data exchange</span>. The training process, which is coordinated by a central server, minimizes the objective function:</p>
<table id="S3.E1" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S3.E1X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E1X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\min_{\theta\in\mathbb{R}^{d}}f(\theta):=\sum^{K}_{k=1}{p_{k}F_{k}(\theta)}" display="inline"><semantics id="S3.E1X.2.1.1.m1.2a"><mrow id="S3.E1X.2.1.1.m1.2.3" xref="S3.E1X.2.1.1.m1.2.3.cmml"><mrow id="S3.E1X.2.1.1.m1.2.3.2" xref="S3.E1X.2.1.1.m1.2.3.2.cmml"><mrow id="S3.E1X.2.1.1.m1.2.3.2.2" xref="S3.E1X.2.1.1.m1.2.3.2.2.cmml"><munder id="S3.E1X.2.1.1.m1.2.3.2.2.1" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.cmml"><mi id="S3.E1X.2.1.1.m1.2.3.2.2.1.2" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.2.cmml">min</mi><mrow id="S3.E1X.2.1.1.m1.2.3.2.2.1.3" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.cmml"><mi id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.2" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.2.cmml">θ</mi><mo id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.1" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.1.cmml">∈</mo><msup id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3.cmml"><mi id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3.2" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3.2.cmml">ℝ</mi><mi id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3.3" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3.3.cmml">d</mi></msup></mrow></munder><mo lspace="0.167em" id="S3.E1X.2.1.1.m1.2.3.2.2a" xref="S3.E1X.2.1.1.m1.2.3.2.2.cmml">⁡</mo><mi id="S3.E1X.2.1.1.m1.2.3.2.2.2" xref="S3.E1X.2.1.1.m1.2.3.2.2.2.cmml">f</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E1X.2.1.1.m1.2.3.2.1" xref="S3.E1X.2.1.1.m1.2.3.2.1.cmml">​</mo><mrow id="S3.E1X.2.1.1.m1.2.3.2.3.2" xref="S3.E1X.2.1.1.m1.2.3.2.cmml"><mo stretchy="false" id="S3.E1X.2.1.1.m1.2.3.2.3.2.1" xref="S3.E1X.2.1.1.m1.2.3.2.cmml">(</mo><mi id="S3.E1X.2.1.1.m1.1.1" xref="S3.E1X.2.1.1.m1.1.1.cmml">θ</mi><mo rspace="0.278em" stretchy="false" id="S3.E1X.2.1.1.m1.2.3.2.3.2.2" xref="S3.E1X.2.1.1.m1.2.3.2.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S3.E1X.2.1.1.m1.2.3.1" xref="S3.E1X.2.1.1.m1.2.3.1.cmml">:=</mo><mrow id="S3.E1X.2.1.1.m1.2.3.3" xref="S3.E1X.2.1.1.m1.2.3.3.cmml"><mstyle displaystyle="true" id="S3.E1X.2.1.1.m1.2.3.3.1" xref="S3.E1X.2.1.1.m1.2.3.3.1.cmml"><munderover id="S3.E1X.2.1.1.m1.2.3.3.1a" xref="S3.E1X.2.1.1.m1.2.3.3.1.cmml"><mo movablelimits="false" id="S3.E1X.2.1.1.m1.2.3.3.1.2.2" xref="S3.E1X.2.1.1.m1.2.3.3.1.2.2.cmml">∑</mo><mrow id="S3.E1X.2.1.1.m1.2.3.3.1.3" xref="S3.E1X.2.1.1.m1.2.3.3.1.3.cmml"><mi id="S3.E1X.2.1.1.m1.2.3.3.1.3.2" xref="S3.E1X.2.1.1.m1.2.3.3.1.3.2.cmml">k</mi><mo id="S3.E1X.2.1.1.m1.2.3.3.1.3.1" xref="S3.E1X.2.1.1.m1.2.3.3.1.3.1.cmml">=</mo><mn id="S3.E1X.2.1.1.m1.2.3.3.1.3.3" xref="S3.E1X.2.1.1.m1.2.3.3.1.3.3.cmml">1</mn></mrow><mi id="S3.E1X.2.1.1.m1.2.3.3.1.2.3" xref="S3.E1X.2.1.1.m1.2.3.3.1.2.3.cmml">K</mi></munderover></mstyle><mrow id="S3.E1X.2.1.1.m1.2.3.3.2" xref="S3.E1X.2.1.1.m1.2.3.3.2.cmml"><msub id="S3.E1X.2.1.1.m1.2.3.3.2.2" xref="S3.E1X.2.1.1.m1.2.3.3.2.2.cmml"><mi id="S3.E1X.2.1.1.m1.2.3.3.2.2.2" xref="S3.E1X.2.1.1.m1.2.3.3.2.2.2.cmml">p</mi><mi id="S3.E1X.2.1.1.m1.2.3.3.2.2.3" xref="S3.E1X.2.1.1.m1.2.3.3.2.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1X.2.1.1.m1.2.3.3.2.1" xref="S3.E1X.2.1.1.m1.2.3.3.2.1.cmml">​</mo><msub id="S3.E1X.2.1.1.m1.2.3.3.2.3" xref="S3.E1X.2.1.1.m1.2.3.3.2.3.cmml"><mi id="S3.E1X.2.1.1.m1.2.3.3.2.3.2" xref="S3.E1X.2.1.1.m1.2.3.3.2.3.2.cmml">F</mi><mi id="S3.E1X.2.1.1.m1.2.3.3.2.3.3" xref="S3.E1X.2.1.1.m1.2.3.3.2.3.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1X.2.1.1.m1.2.3.3.2.1a" xref="S3.E1X.2.1.1.m1.2.3.3.2.1.cmml">​</mo><mrow id="S3.E1X.2.1.1.m1.2.3.3.2.4.2" xref="S3.E1X.2.1.1.m1.2.3.3.2.cmml"><mo stretchy="false" id="S3.E1X.2.1.1.m1.2.3.3.2.4.2.1" xref="S3.E1X.2.1.1.m1.2.3.3.2.cmml">(</mo><mi id="S3.E1X.2.1.1.m1.2.2" xref="S3.E1X.2.1.1.m1.2.2.cmml">θ</mi><mo stretchy="false" id="S3.E1X.2.1.1.m1.2.3.3.2.4.2.2" xref="S3.E1X.2.1.1.m1.2.3.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1X.2.1.1.m1.2b"><apply id="S3.E1X.2.1.1.m1.2.3.cmml" xref="S3.E1X.2.1.1.m1.2.3"><csymbol cd="latexml" id="S3.E1X.2.1.1.m1.2.3.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.1">assign</csymbol><apply id="S3.E1X.2.1.1.m1.2.3.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.2"><times id="S3.E1X.2.1.1.m1.2.3.2.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.1"></times><apply id="S3.E1X.2.1.1.m1.2.3.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2"><apply id="S3.E1X.2.1.1.m1.2.3.2.2.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2.1"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.2.3.2.2.1.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2.1">subscript</csymbol><min id="S3.E1X.2.1.1.m1.2.3.2.2.1.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.2"></min><apply id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3"><in id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.1"></in><ci id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.2">𝜃</ci><apply id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3">superscript</csymbol><ci id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3.2">ℝ</ci><ci id="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3.3.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2.1.3.3.3">𝑑</ci></apply></apply></apply><ci id="S3.E1X.2.1.1.m1.2.3.2.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.2.2.2">𝑓</ci></apply><ci id="S3.E1X.2.1.1.m1.1.1.cmml" xref="S3.E1X.2.1.1.m1.1.1">𝜃</ci></apply><apply id="S3.E1X.2.1.1.m1.2.3.3.cmml" xref="S3.E1X.2.1.1.m1.2.3.3"><apply id="S3.E1X.2.1.1.m1.2.3.3.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.1"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.2.3.3.1.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.1">subscript</csymbol><apply id="S3.E1X.2.1.1.m1.2.3.3.1.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.1"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.2.3.3.1.2.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.1">superscript</csymbol><sum id="S3.E1X.2.1.1.m1.2.3.3.1.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.1.2.2"></sum><ci id="S3.E1X.2.1.1.m1.2.3.3.1.2.3.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.1.2.3">𝐾</ci></apply><apply id="S3.E1X.2.1.1.m1.2.3.3.1.3.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.1.3"><eq id="S3.E1X.2.1.1.m1.2.3.3.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.1.3.1"></eq><ci id="S3.E1X.2.1.1.m1.2.3.3.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.1.3.2">𝑘</ci><cn type="integer" id="S3.E1X.2.1.1.m1.2.3.3.1.3.3.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.1.3.3">1</cn></apply></apply><apply id="S3.E1X.2.1.1.m1.2.3.3.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.2"><times id="S3.E1X.2.1.1.m1.2.3.3.2.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.2.1"></times><apply id="S3.E1X.2.1.1.m1.2.3.3.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.2.2"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.2.3.3.2.2.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.2.2">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.2.3.3.2.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.2.2.2">𝑝</ci><ci id="S3.E1X.2.1.1.m1.2.3.3.2.2.3.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.2.2.3">𝑘</ci></apply><apply id="S3.E1X.2.1.1.m1.2.3.3.2.3.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.2.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.2.3.3.2.3.1.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.2.3">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.2.3.3.2.3.2.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.2.3.2">𝐹</ci><ci id="S3.E1X.2.1.1.m1.2.3.3.2.3.3.cmml" xref="S3.E1X.2.1.1.m1.2.3.3.2.3.3">𝑘</ci></apply><ci id="S3.E1X.2.1.1.m1.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.2">𝜃</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1X.2.1.1.m1.2c">\displaystyle\min_{\theta\in\mathbb{R}^{d}}f(\theta):=\sum^{K}_{k=1}{p_{k}F_{k}(\theta)}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(1)</span></td>
</tr>
</tbody>
</table>
<p id="S3.SS1.p1.13" class="ltx_p">where <math id="S3.SS1.p1.6.m1.4" class="ltx_Math" alttext="F_{k}(\theta)=\mathbb{E}_{x\in D_{k}}[\mathcal{L}_{k}(\theta;x)]" display="inline"><semantics id="S3.SS1.p1.6.m1.4a"><mrow id="S3.SS1.p1.6.m1.4.4" xref="S3.SS1.p1.6.m1.4.4.cmml"><mrow id="S3.SS1.p1.6.m1.4.4.3" xref="S3.SS1.p1.6.m1.4.4.3.cmml"><msub id="S3.SS1.p1.6.m1.4.4.3.2" xref="S3.SS1.p1.6.m1.4.4.3.2.cmml"><mi id="S3.SS1.p1.6.m1.4.4.3.2.2" xref="S3.SS1.p1.6.m1.4.4.3.2.2.cmml">F</mi><mi id="S3.SS1.p1.6.m1.4.4.3.2.3" xref="S3.SS1.p1.6.m1.4.4.3.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m1.4.4.3.1" xref="S3.SS1.p1.6.m1.4.4.3.1.cmml">​</mo><mrow id="S3.SS1.p1.6.m1.4.4.3.3.2" xref="S3.SS1.p1.6.m1.4.4.3.cmml"><mo stretchy="false" id="S3.SS1.p1.6.m1.4.4.3.3.2.1" xref="S3.SS1.p1.6.m1.4.4.3.cmml">(</mo><mi id="S3.SS1.p1.6.m1.1.1" xref="S3.SS1.p1.6.m1.1.1.cmml">θ</mi><mo stretchy="false" id="S3.SS1.p1.6.m1.4.4.3.3.2.2" xref="S3.SS1.p1.6.m1.4.4.3.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p1.6.m1.4.4.2" xref="S3.SS1.p1.6.m1.4.4.2.cmml">=</mo><mrow id="S3.SS1.p1.6.m1.4.4.1" xref="S3.SS1.p1.6.m1.4.4.1.cmml"><msub id="S3.SS1.p1.6.m1.4.4.1.3" xref="S3.SS1.p1.6.m1.4.4.1.3.cmml"><mi id="S3.SS1.p1.6.m1.4.4.1.3.2" xref="S3.SS1.p1.6.m1.4.4.1.3.2.cmml">𝔼</mi><mrow id="S3.SS1.p1.6.m1.4.4.1.3.3" xref="S3.SS1.p1.6.m1.4.4.1.3.3.cmml"><mi id="S3.SS1.p1.6.m1.4.4.1.3.3.2" xref="S3.SS1.p1.6.m1.4.4.1.3.3.2.cmml">x</mi><mo id="S3.SS1.p1.6.m1.4.4.1.3.3.1" xref="S3.SS1.p1.6.m1.4.4.1.3.3.1.cmml">∈</mo><msub id="S3.SS1.p1.6.m1.4.4.1.3.3.3" xref="S3.SS1.p1.6.m1.4.4.1.3.3.3.cmml"><mi id="S3.SS1.p1.6.m1.4.4.1.3.3.3.2" xref="S3.SS1.p1.6.m1.4.4.1.3.3.3.2.cmml">D</mi><mi id="S3.SS1.p1.6.m1.4.4.1.3.3.3.3" xref="S3.SS1.p1.6.m1.4.4.1.3.3.3.3.cmml">k</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m1.4.4.1.2" xref="S3.SS1.p1.6.m1.4.4.1.2.cmml">​</mo><mrow id="S3.SS1.p1.6.m1.4.4.1.1.1" xref="S3.SS1.p1.6.m1.4.4.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p1.6.m1.4.4.1.1.1.2" xref="S3.SS1.p1.6.m1.4.4.1.1.2.1.cmml">[</mo><mrow id="S3.SS1.p1.6.m1.4.4.1.1.1.1" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.cmml"><msub id="S3.SS1.p1.6.m1.4.4.1.1.1.1.2" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.6.m1.4.4.1.1.1.1.2.2" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.2.2.cmml">ℒ</mi><mi id="S3.SS1.p1.6.m1.4.4.1.1.1.1.2.3" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p1.6.m1.4.4.1.1.1.1.1" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.1.cmml">​</mo><mrow id="S3.SS1.p1.6.m1.4.4.1.1.1.1.3.2" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S3.SS1.p1.6.m1.4.4.1.1.1.1.3.2.1" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.3.1.cmml">(</mo><mi id="S3.SS1.p1.6.m1.2.2" xref="S3.SS1.p1.6.m1.2.2.cmml">θ</mi><mo id="S3.SS1.p1.6.m1.4.4.1.1.1.1.3.2.2" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.3.1.cmml">;</mo><mi id="S3.SS1.p1.6.m1.3.3" xref="S3.SS1.p1.6.m1.3.3.cmml">x</mi><mo stretchy="false" id="S3.SS1.p1.6.m1.4.4.1.1.1.1.3.2.3" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.SS1.p1.6.m1.4.4.1.1.1.3" xref="S3.SS1.p1.6.m1.4.4.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m1.4b"><apply id="S3.SS1.p1.6.m1.4.4.cmml" xref="S3.SS1.p1.6.m1.4.4"><eq id="S3.SS1.p1.6.m1.4.4.2.cmml" xref="S3.SS1.p1.6.m1.4.4.2"></eq><apply id="S3.SS1.p1.6.m1.4.4.3.cmml" xref="S3.SS1.p1.6.m1.4.4.3"><times id="S3.SS1.p1.6.m1.4.4.3.1.cmml" xref="S3.SS1.p1.6.m1.4.4.3.1"></times><apply id="S3.SS1.p1.6.m1.4.4.3.2.cmml" xref="S3.SS1.p1.6.m1.4.4.3.2"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m1.4.4.3.2.1.cmml" xref="S3.SS1.p1.6.m1.4.4.3.2">subscript</csymbol><ci id="S3.SS1.p1.6.m1.4.4.3.2.2.cmml" xref="S3.SS1.p1.6.m1.4.4.3.2.2">𝐹</ci><ci id="S3.SS1.p1.6.m1.4.4.3.2.3.cmml" xref="S3.SS1.p1.6.m1.4.4.3.2.3">𝑘</ci></apply><ci id="S3.SS1.p1.6.m1.1.1.cmml" xref="S3.SS1.p1.6.m1.1.1">𝜃</ci></apply><apply id="S3.SS1.p1.6.m1.4.4.1.cmml" xref="S3.SS1.p1.6.m1.4.4.1"><times id="S3.SS1.p1.6.m1.4.4.1.2.cmml" xref="S3.SS1.p1.6.m1.4.4.1.2"></times><apply id="S3.SS1.p1.6.m1.4.4.1.3.cmml" xref="S3.SS1.p1.6.m1.4.4.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m1.4.4.1.3.1.cmml" xref="S3.SS1.p1.6.m1.4.4.1.3">subscript</csymbol><ci id="S3.SS1.p1.6.m1.4.4.1.3.2.cmml" xref="S3.SS1.p1.6.m1.4.4.1.3.2">𝔼</ci><apply id="S3.SS1.p1.6.m1.4.4.1.3.3.cmml" xref="S3.SS1.p1.6.m1.4.4.1.3.3"><in id="S3.SS1.p1.6.m1.4.4.1.3.3.1.cmml" xref="S3.SS1.p1.6.m1.4.4.1.3.3.1"></in><ci id="S3.SS1.p1.6.m1.4.4.1.3.3.2.cmml" xref="S3.SS1.p1.6.m1.4.4.1.3.3.2">𝑥</ci><apply id="S3.SS1.p1.6.m1.4.4.1.3.3.3.cmml" xref="S3.SS1.p1.6.m1.4.4.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m1.4.4.1.3.3.3.1.cmml" xref="S3.SS1.p1.6.m1.4.4.1.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.6.m1.4.4.1.3.3.3.2.cmml" xref="S3.SS1.p1.6.m1.4.4.1.3.3.3.2">𝐷</ci><ci id="S3.SS1.p1.6.m1.4.4.1.3.3.3.3.cmml" xref="S3.SS1.p1.6.m1.4.4.1.3.3.3.3">𝑘</ci></apply></apply></apply><apply id="S3.SS1.p1.6.m1.4.4.1.1.2.cmml" xref="S3.SS1.p1.6.m1.4.4.1.1.1"><csymbol cd="latexml" id="S3.SS1.p1.6.m1.4.4.1.1.2.1.cmml" xref="S3.SS1.p1.6.m1.4.4.1.1.1.2">delimited-[]</csymbol><apply id="S3.SS1.p1.6.m1.4.4.1.1.1.1.cmml" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1"><times id="S3.SS1.p1.6.m1.4.4.1.1.1.1.1.cmml" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.1"></times><apply id="S3.SS1.p1.6.m1.4.4.1.1.1.1.2.cmml" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m1.4.4.1.1.1.1.2.1.cmml" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.6.m1.4.4.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.2.2">ℒ</ci><ci id="S3.SS1.p1.6.m1.4.4.1.1.1.1.2.3.cmml" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.2.3">𝑘</ci></apply><list id="S3.SS1.p1.6.m1.4.4.1.1.1.1.3.1.cmml" xref="S3.SS1.p1.6.m1.4.4.1.1.1.1.3.2"><ci id="S3.SS1.p1.6.m1.2.2.cmml" xref="S3.SS1.p1.6.m1.2.2">𝜃</ci><ci id="S3.SS1.p1.6.m1.3.3.cmml" xref="S3.SS1.p1.6.m1.3.3">𝑥</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m1.4c">F_{k}(\theta)=\mathbb{E}_{x\in D_{k}}[\mathcal{L}_{k}(\theta;x)]</annotation></semantics></math> is the typical DocVQA training loss with training examples <math id="S3.SS1.p1.7.m2.1" class="ltx_Math" alttext="x\sim D_{k}" display="inline"><semantics id="S3.SS1.p1.7.m2.1a"><mrow id="S3.SS1.p1.7.m2.1.1" xref="S3.SS1.p1.7.m2.1.1.cmml"><mi id="S3.SS1.p1.7.m2.1.1.2" xref="S3.SS1.p1.7.m2.1.1.2.cmml">x</mi><mo id="S3.SS1.p1.7.m2.1.1.1" xref="S3.SS1.p1.7.m2.1.1.1.cmml">∼</mo><msub id="S3.SS1.p1.7.m2.1.1.3" xref="S3.SS1.p1.7.m2.1.1.3.cmml"><mi id="S3.SS1.p1.7.m2.1.1.3.2" xref="S3.SS1.p1.7.m2.1.1.3.2.cmml">D</mi><mi id="S3.SS1.p1.7.m2.1.1.3.3" xref="S3.SS1.p1.7.m2.1.1.3.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m2.1b"><apply id="S3.SS1.p1.7.m2.1.1.cmml" xref="S3.SS1.p1.7.m2.1.1"><csymbol cd="latexml" id="S3.SS1.p1.7.m2.1.1.1.cmml" xref="S3.SS1.p1.7.m2.1.1.1">similar-to</csymbol><ci id="S3.SS1.p1.7.m2.1.1.2.cmml" xref="S3.SS1.p1.7.m2.1.1.2">𝑥</ci><apply id="S3.SS1.p1.7.m2.1.1.3.cmml" xref="S3.SS1.p1.7.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m2.1.1.3.1.cmml" xref="S3.SS1.p1.7.m2.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.7.m2.1.1.3.2.cmml" xref="S3.SS1.p1.7.m2.1.1.3.2">𝐷</ci><ci id="S3.SS1.p1.7.m2.1.1.3.3.cmml" xref="S3.SS1.p1.7.m2.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m2.1c">x\sim D_{k}</annotation></semantics></math>, as defined in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>. In real-world FL scenario, for any <math id="S3.SS1.p1.8.m3.1" class="ltx_Math" alttext="i\neq j" display="inline"><semantics id="S3.SS1.p1.8.m3.1a"><mrow id="S3.SS1.p1.8.m3.1.1" xref="S3.SS1.p1.8.m3.1.1.cmml"><mi id="S3.SS1.p1.8.m3.1.1.2" xref="S3.SS1.p1.8.m3.1.1.2.cmml">i</mi><mo id="S3.SS1.p1.8.m3.1.1.1" xref="S3.SS1.p1.8.m3.1.1.1.cmml">≠</mo><mi id="S3.SS1.p1.8.m3.1.1.3" xref="S3.SS1.p1.8.m3.1.1.3.cmml">j</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m3.1b"><apply id="S3.SS1.p1.8.m3.1.1.cmml" xref="S3.SS1.p1.8.m3.1.1"><neq id="S3.SS1.p1.8.m3.1.1.1.cmml" xref="S3.SS1.p1.8.m3.1.1.1"></neq><ci id="S3.SS1.p1.8.m3.1.1.2.cmml" xref="S3.SS1.p1.8.m3.1.1.2">𝑖</ci><ci id="S3.SS1.p1.8.m3.1.1.3.cmml" xref="S3.SS1.p1.8.m3.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m3.1c">i\neq j</annotation></semantics></math>, <math id="S3.SS1.p1.9.m4.1" class="ltx_Math" alttext="D_{i}" display="inline"><semantics id="S3.SS1.p1.9.m4.1a"><msub id="S3.SS1.p1.9.m4.1.1" xref="S3.SS1.p1.9.m4.1.1.cmml"><mi id="S3.SS1.p1.9.m4.1.1.2" xref="S3.SS1.p1.9.m4.1.1.2.cmml">D</mi><mi id="S3.SS1.p1.9.m4.1.1.3" xref="S3.SS1.p1.9.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m4.1b"><apply id="S3.SS1.p1.9.m4.1.1.cmml" xref="S3.SS1.p1.9.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m4.1.1.1.cmml" xref="S3.SS1.p1.9.m4.1.1">subscript</csymbol><ci id="S3.SS1.p1.9.m4.1.1.2.cmml" xref="S3.SS1.p1.9.m4.1.1.2">𝐷</ci><ci id="S3.SS1.p1.9.m4.1.1.3.cmml" xref="S3.SS1.p1.9.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m4.1c">D_{i}</annotation></semantics></math> and <math id="S3.SS1.p1.10.m5.1" class="ltx_Math" alttext="D_{j}" display="inline"><semantics id="S3.SS1.p1.10.m5.1a"><msub id="S3.SS1.p1.10.m5.1.1" xref="S3.SS1.p1.10.m5.1.1.cmml"><mi id="S3.SS1.p1.10.m5.1.1.2" xref="S3.SS1.p1.10.m5.1.1.2.cmml">D</mi><mi id="S3.SS1.p1.10.m5.1.1.3" xref="S3.SS1.p1.10.m5.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m5.1b"><apply id="S3.SS1.p1.10.m5.1.1.cmml" xref="S3.SS1.p1.10.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m5.1.1.1.cmml" xref="S3.SS1.p1.10.m5.1.1">subscript</csymbol><ci id="S3.SS1.p1.10.m5.1.1.2.cmml" xref="S3.SS1.p1.10.m5.1.1.2">𝐷</ci><ci id="S3.SS1.p1.10.m5.1.1.3.cmml" xref="S3.SS1.p1.10.m5.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m5.1c">D_{j}</annotation></semantics></math> are usually very different. We also have <math id="S3.SS1.p1.11.m6.1" class="ltx_Math" alttext="p_{k}=\frac{n_{k}}{\sum^{K}_{j=1}n_{j}}" display="inline"><semantics id="S3.SS1.p1.11.m6.1a"><mrow id="S3.SS1.p1.11.m6.1.1" xref="S3.SS1.p1.11.m6.1.1.cmml"><msub id="S3.SS1.p1.11.m6.1.1.2" xref="S3.SS1.p1.11.m6.1.1.2.cmml"><mi id="S3.SS1.p1.11.m6.1.1.2.2" xref="S3.SS1.p1.11.m6.1.1.2.2.cmml">p</mi><mi id="S3.SS1.p1.11.m6.1.1.2.3" xref="S3.SS1.p1.11.m6.1.1.2.3.cmml">k</mi></msub><mo id="S3.SS1.p1.11.m6.1.1.1" xref="S3.SS1.p1.11.m6.1.1.1.cmml">=</mo><mfrac id="S3.SS1.p1.11.m6.1.1.3" xref="S3.SS1.p1.11.m6.1.1.3.cmml"><msub id="S3.SS1.p1.11.m6.1.1.3.2" xref="S3.SS1.p1.11.m6.1.1.3.2.cmml"><mi id="S3.SS1.p1.11.m6.1.1.3.2.2" xref="S3.SS1.p1.11.m6.1.1.3.2.2.cmml">n</mi><mi id="S3.SS1.p1.11.m6.1.1.3.2.3" xref="S3.SS1.p1.11.m6.1.1.3.2.3.cmml">k</mi></msub><mrow id="S3.SS1.p1.11.m6.1.1.3.3" xref="S3.SS1.p1.11.m6.1.1.3.3.cmml"><mstyle displaystyle="false" id="S3.SS1.p1.11.m6.1.1.3.3.1" xref="S3.SS1.p1.11.m6.1.1.3.3.1.cmml"><msubsup id="S3.SS1.p1.11.m6.1.1.3.3.1a" xref="S3.SS1.p1.11.m6.1.1.3.3.1.cmml"><mo id="S3.SS1.p1.11.m6.1.1.3.3.1.2.2" xref="S3.SS1.p1.11.m6.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S3.SS1.p1.11.m6.1.1.3.3.1.3" xref="S3.SS1.p1.11.m6.1.1.3.3.1.3.cmml"><mi id="S3.SS1.p1.11.m6.1.1.3.3.1.3.2" xref="S3.SS1.p1.11.m6.1.1.3.3.1.3.2.cmml">j</mi><mo id="S3.SS1.p1.11.m6.1.1.3.3.1.3.1" xref="S3.SS1.p1.11.m6.1.1.3.3.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.11.m6.1.1.3.3.1.3.3" xref="S3.SS1.p1.11.m6.1.1.3.3.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.p1.11.m6.1.1.3.3.1.2.3" xref="S3.SS1.p1.11.m6.1.1.3.3.1.2.3.cmml">K</mi></msubsup></mstyle><msub id="S3.SS1.p1.11.m6.1.1.3.3.2" xref="S3.SS1.p1.11.m6.1.1.3.3.2.cmml"><mi id="S3.SS1.p1.11.m6.1.1.3.3.2.2" xref="S3.SS1.p1.11.m6.1.1.3.3.2.2.cmml">n</mi><mi id="S3.SS1.p1.11.m6.1.1.3.3.2.3" xref="S3.SS1.p1.11.m6.1.1.3.3.2.3.cmml">j</mi></msub></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.11.m6.1b"><apply id="S3.SS1.p1.11.m6.1.1.cmml" xref="S3.SS1.p1.11.m6.1.1"><eq id="S3.SS1.p1.11.m6.1.1.1.cmml" xref="S3.SS1.p1.11.m6.1.1.1"></eq><apply id="S3.SS1.p1.11.m6.1.1.2.cmml" xref="S3.SS1.p1.11.m6.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.11.m6.1.1.2.1.cmml" xref="S3.SS1.p1.11.m6.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.11.m6.1.1.2.2.cmml" xref="S3.SS1.p1.11.m6.1.1.2.2">𝑝</ci><ci id="S3.SS1.p1.11.m6.1.1.2.3.cmml" xref="S3.SS1.p1.11.m6.1.1.2.3">𝑘</ci></apply><apply id="S3.SS1.p1.11.m6.1.1.3.cmml" xref="S3.SS1.p1.11.m6.1.1.3"><divide id="S3.SS1.p1.11.m6.1.1.3.1.cmml" xref="S3.SS1.p1.11.m6.1.1.3"></divide><apply id="S3.SS1.p1.11.m6.1.1.3.2.cmml" xref="S3.SS1.p1.11.m6.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS1.p1.11.m6.1.1.3.2.1.cmml" xref="S3.SS1.p1.11.m6.1.1.3.2">subscript</csymbol><ci id="S3.SS1.p1.11.m6.1.1.3.2.2.cmml" xref="S3.SS1.p1.11.m6.1.1.3.2.2">𝑛</ci><ci id="S3.SS1.p1.11.m6.1.1.3.2.3.cmml" xref="S3.SS1.p1.11.m6.1.1.3.2.3">𝑘</ci></apply><apply id="S3.SS1.p1.11.m6.1.1.3.3.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3"><apply id="S3.SS1.p1.11.m6.1.1.3.3.1.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.SS1.p1.11.m6.1.1.3.3.1.1.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.1">subscript</csymbol><apply id="S3.SS1.p1.11.m6.1.1.3.3.1.2.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.SS1.p1.11.m6.1.1.3.3.1.2.1.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.1">superscript</csymbol><sum id="S3.SS1.p1.11.m6.1.1.3.3.1.2.2.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.1.2.2"></sum><ci id="S3.SS1.p1.11.m6.1.1.3.3.1.2.3.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.1.2.3">𝐾</ci></apply><apply id="S3.SS1.p1.11.m6.1.1.3.3.1.3.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.1.3"><eq id="S3.SS1.p1.11.m6.1.1.3.3.1.3.1.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.1.3.1"></eq><ci id="S3.SS1.p1.11.m6.1.1.3.3.1.3.2.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.1.3.2">𝑗</ci><cn type="integer" id="S3.SS1.p1.11.m6.1.1.3.3.1.3.3.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.1.3.3">1</cn></apply></apply><apply id="S3.SS1.p1.11.m6.1.1.3.3.2.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS1.p1.11.m6.1.1.3.3.2.1.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.2">subscript</csymbol><ci id="S3.SS1.p1.11.m6.1.1.3.3.2.2.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.2.2">𝑛</ci><ci id="S3.SS1.p1.11.m6.1.1.3.3.2.3.cmml" xref="S3.SS1.p1.11.m6.1.1.3.3.2.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m6.1c">p_{k}=\frac{n_{k}}{\sum^{K}_{j=1}n_{j}}</annotation></semantics></math> is the assigned weight to client <math id="S3.SS1.p1.12.m7.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p1.12.m7.1a"><mi id="S3.SS1.p1.12.m7.1.1" xref="S3.SS1.p1.12.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.12.m7.1b"><ci id="S3.SS1.p1.12.m7.1.1.cmml" xref="S3.SS1.p1.12.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.12.m7.1c">k</annotation></semantics></math> that controls its impact during training, which is proportional to the local data size <math id="S3.SS1.p1.13.m8.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="S3.SS1.p1.13.m8.1a"><msub id="S3.SS1.p1.13.m8.1.1" xref="S3.SS1.p1.13.m8.1.1.cmml"><mi id="S3.SS1.p1.13.m8.1.1.2" xref="S3.SS1.p1.13.m8.1.1.2.cmml">n</mi><mi id="S3.SS1.p1.13.m8.1.1.3" xref="S3.SS1.p1.13.m8.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.13.m8.1b"><apply id="S3.SS1.p1.13.m8.1.1.cmml" xref="S3.SS1.p1.13.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.13.m8.1.1.1.cmml" xref="S3.SS1.p1.13.m8.1.1">subscript</csymbol><ci id="S3.SS1.p1.13.m8.1.1.2.cmml" xref="S3.SS1.p1.13.m8.1.1.2">𝑛</ci><ci id="S3.SS1.p1.13.m8.1.1.3.cmml" xref="S3.SS1.p1.13.m8.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.13.m8.1c">n_{k}</annotation></semantics></math>.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Federated Learning</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.3" class="ltx_p">We now present a general recipe for federated training algorithms called FedOPT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>, that includes FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> and many others <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> in the literature, as summarized in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 3.2 Federated Learning ‣ 3 Methodology ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Particularly, a server coordinates the training procedure by repeating the following steps in <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">T</annotation></semantics></math> communication rounds. The training starts with a global model initialized as <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mi id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">θ</mi><mn id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">𝜃</ci><cn type="integer" id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">\theta_{0}</annotation></semantics></math>. At round <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">t</annotation></semantics></math>:</p>
<ol id="S3.I1" class="ltx_enumerate">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.3" class="ltx_p">The server randomly samples a set of clients <math id="S3.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{S}^{t}" display="inline"><semantics id="S3.I1.i1.p1.1.m1.1a"><msup id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.I1.i1.p1.1.m1.1.1.2" xref="S3.I1.i1.p1.1.m1.1.1.2.cmml">𝒮</mi><mi id="S3.I1.i1.p1.1.m1.1.1.3" xref="S3.I1.i1.p1.1.m1.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.1b"><apply id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">superscript</csymbol><ci id="S3.I1.i1.p1.1.m1.1.1.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1.2">𝒮</ci><ci id="S3.I1.i1.p1.1.m1.1.1.3.cmml" xref="S3.I1.i1.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.1c">\mathcal{S}^{t}</annotation></semantics></math> with a probability <math id="S3.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.I1.i1.p1.2.m2.1a"><mi id="S3.I1.i1.p1.2.m2.1.1" xref="S3.I1.i1.p1.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.2.m2.1b"><ci id="S3.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.2.m2.1c">C</annotation></semantics></math> without replacement, assuming that clients are always available. As a result, <math id="S3.I1.i1.p1.3.m3.1" class="ltx_Math" alttext="C\cdot K" display="inline"><semantics id="S3.I1.i1.p1.3.m3.1a"><mrow id="S3.I1.i1.p1.3.m3.1.1" xref="S3.I1.i1.p1.3.m3.1.1.cmml"><mi id="S3.I1.i1.p1.3.m3.1.1.2" xref="S3.I1.i1.p1.3.m3.1.1.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="S3.I1.i1.p1.3.m3.1.1.1" xref="S3.I1.i1.p1.3.m3.1.1.1.cmml">⋅</mo><mi id="S3.I1.i1.p1.3.m3.1.1.3" xref="S3.I1.i1.p1.3.m3.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.3.m3.1b"><apply id="S3.I1.i1.p1.3.m3.1.1.cmml" xref="S3.I1.i1.p1.3.m3.1.1"><ci id="S3.I1.i1.p1.3.m3.1.1.1.cmml" xref="S3.I1.i1.p1.3.m3.1.1.1">⋅</ci><ci id="S3.I1.i1.p1.3.m3.1.1.2.cmml" xref="S3.I1.i1.p1.3.m3.1.1.2">𝐶</ci><ci id="S3.I1.i1.p1.3.m3.1.1.3.cmml" xref="S3.I1.i1.p1.3.m3.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.3.m3.1c">C\cdot K</annotation></semantics></math> clients are selected to train the model with its DocVQA data in each round.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p">Server sends the current model weights <math id="S3.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="\theta_{t}" display="inline"><semantics id="S3.I1.i2.p1.1.m1.1a"><msub id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml"><mi id="S3.I1.i2.p1.1.m1.1.1.2" xref="S3.I1.i2.p1.1.m1.1.1.2.cmml">θ</mi><mi id="S3.I1.i2.p1.1.m1.1.1.3" xref="S3.I1.i2.p1.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.1b"><apply id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.I1.i2.p1.1.m1.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.1.1.2">𝜃</ci><ci id="S3.I1.i2.p1.1.m1.1.1.3.cmml" xref="S3.I1.i2.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.1c">\theta_{t}</annotation></semantics></math> to the selected clients. All clients agree to follow the same training algorithm and objective, defined as CLIENTOPT. It is also assumed that all clients are able to perform the entire local training that is required.</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.2" class="ltx_p">Each sampled client trains the model with its local data <math id="S3.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="D_{k}" display="inline"><semantics id="S3.I1.i3.p1.1.m1.1a"><msub id="S3.I1.i3.p1.1.m1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.cmml"><mi id="S3.I1.i3.p1.1.m1.1.1.2" xref="S3.I1.i3.p1.1.m1.1.1.2.cmml">D</mi><mi id="S3.I1.i3.p1.1.m1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.1.m1.1b"><apply id="S3.I1.i3.p1.1.m1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i3.p1.1.m1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.I1.i3.p1.1.m1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.2">𝐷</ci><ci id="S3.I1.i3.p1.1.m1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.1.m1.1c">D_{k}</annotation></semantics></math> for <math id="S3.I1.i3.p1.2.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S3.I1.i3.p1.2.m2.1a"><mi id="S3.I1.i3.p1.2.m2.1.1" xref="S3.I1.i3.p1.2.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.2.m2.1b"><ci id="S3.I1.i3.p1.2.m2.1.1.cmml" xref="S3.I1.i3.p1.2.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.2.m2.1c">E</annotation></semantics></math> epochs via CLIENTOPT. Then its update, which is the difference in model’s parameters before and after local training, is sent back to the server.</p>
</div>
</li>
<li id="S3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="S3.I1.i4.p1" class="ltx_para">
<p id="S3.I1.i4.p1.1" class="ltx_p">The server collects an aggregation of updates <math id="S3.I1.i4.p1.1.m1.1" class="ltx_Math" alttext="\Delta^{t}" display="inline"><semantics id="S3.I1.i4.p1.1.m1.1a"><msup id="S3.I1.i4.p1.1.m1.1.1" xref="S3.I1.i4.p1.1.m1.1.1.cmml"><mi mathvariant="normal" id="S3.I1.i4.p1.1.m1.1.1.2" xref="S3.I1.i4.p1.1.m1.1.1.2.cmml">Δ</mi><mi id="S3.I1.i4.p1.1.m1.1.1.3" xref="S3.I1.i4.p1.1.m1.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.I1.i4.p1.1.m1.1b"><apply id="S3.I1.i4.p1.1.m1.1.1.cmml" xref="S3.I1.i4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i4.p1.1.m1.1.1.1.cmml" xref="S3.I1.i4.p1.1.m1.1.1">superscript</csymbol><ci id="S3.I1.i4.p1.1.m1.1.1.2.cmml" xref="S3.I1.i4.p1.1.m1.1.1.2">Δ</ci><ci id="S3.I1.i4.p1.1.m1.1.1.3.cmml" xref="S3.I1.i4.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i4.p1.1.m1.1c">\Delta^{t}</annotation></semantics></math> from clients participated in the current round.</p>
</div>
</li>
<li id="S3.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">5.</span> 
<div id="S3.I1.i5.p1" class="ltx_para">
<p id="S3.I1.i5.p1.1" class="ltx_p">The server updates the global model following a gradient-based optimization strategy, defined as SERVEROPT, where the aggregated update <math id="S3.I1.i5.p1.1.m1.1" class="ltx_Math" alttext="\Delta^{t}" display="inline"><semantics id="S3.I1.i5.p1.1.m1.1a"><msup id="S3.I1.i5.p1.1.m1.1.1" xref="S3.I1.i5.p1.1.m1.1.1.cmml"><mi mathvariant="normal" id="S3.I1.i5.p1.1.m1.1.1.2" xref="S3.I1.i5.p1.1.m1.1.1.2.cmml">Δ</mi><mi id="S3.I1.i5.p1.1.m1.1.1.3" xref="S3.I1.i5.p1.1.m1.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.I1.i5.p1.1.m1.1b"><apply id="S3.I1.i5.p1.1.m1.1.1.cmml" xref="S3.I1.i5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i5.p1.1.m1.1.1.1.cmml" xref="S3.I1.i5.p1.1.m1.1.1">superscript</csymbol><ci id="S3.I1.i5.p1.1.m1.1.1.2.cmml" xref="S3.I1.i5.p1.1.m1.1.1.2">Δ</ci><ci id="S3.I1.i5.p1.1.m1.1.1.3.cmml" xref="S3.I1.i5.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i5.p1.1.m1.1c">\Delta^{t}</annotation></semantics></math> serves as pseudo server gradient.</p>
</div>
</li>
</ol>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.3.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> <span id="alg1.4.2" class="ltx_text ltx_font_bold">FedOPT</span></figcaption>
<div id="alg1.5" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">  <span id="alg1.l1.1" class="ltx_text ltx_font_bold">Input:</span> Initialize global model <math id="alg1.l1.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="alg1.l1.m1.1a"><msub id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mi id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml">θ</mi><mn id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1">subscript</csymbol><ci id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2">𝜃</ci><cn type="integer" id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">\theta_{0}</annotation></semantics></math>, server/client learning rate <math id="alg1.l1.m2.1" class="ltx_Math" alttext="\eta_{s}" display="inline"><semantics id="alg1.l1.m2.1a"><msub id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml"><mi id="alg1.l1.m2.1.1.2" xref="alg1.l1.m2.1.1.2.cmml">η</mi><mi id="alg1.l1.m2.1.1.3" xref="alg1.l1.m2.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><apply id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1"><csymbol cd="ambiguous" id="alg1.l1.m2.1.1.1.cmml" xref="alg1.l1.m2.1.1">subscript</csymbol><ci id="alg1.l1.m2.1.1.2.cmml" xref="alg1.l1.m2.1.1.2">𝜂</ci><ci id="alg1.l1.m2.1.1.3.cmml" xref="alg1.l1.m2.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">\eta_{s}</annotation></semantics></math>/<math id="alg1.l1.m3.1" class="ltx_Math" alttext="\eta_{l}" display="inline"><semantics id="alg1.l1.m3.1a"><msub id="alg1.l1.m3.1.1" xref="alg1.l1.m3.1.1.cmml"><mi id="alg1.l1.m3.1.1.2" xref="alg1.l1.m3.1.1.2.cmml">η</mi><mi id="alg1.l1.m3.1.1.3" xref="alg1.l1.m3.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m3.1b"><apply id="alg1.l1.m3.1.1.cmml" xref="alg1.l1.m3.1.1"><csymbol cd="ambiguous" id="alg1.l1.m3.1.1.1.cmml" xref="alg1.l1.m3.1.1">subscript</csymbol><ci id="alg1.l1.m3.1.1.2.cmml" xref="alg1.l1.m3.1.1.2">𝜂</ci><ci id="alg1.l1.m3.1.1.3.cmml" xref="alg1.l1.m3.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m3.1c">\eta_{l}</annotation></semantics></math>, local epochs <math id="alg1.l1.m4.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg1.l1.m4.1a"><mi id="alg1.l1.m4.1.1" xref="alg1.l1.m4.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m4.1b"><ci id="alg1.l1.m4.1.1.cmml" xref="alg1.l1.m4.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m4.1c">E</annotation></semantics></math>, rounds <math id="alg1.l1.m5.1" class="ltx_Math" alttext="T" display="inline"><semantics id="alg1.l1.m5.1a"><mi id="alg1.l1.m5.1.1" xref="alg1.l1.m5.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m5.1b"><ci id="alg1.l1.m5.1.1.cmml" xref="alg1.l1.m5.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m5.1c">T</annotation></semantics></math>

</div>
<div id="alg1.l2" class="ltx_listingline">  <span id="alg1.l2.1" class="ltx_text ltx_font_bold">for</span> each round <math id="alg1.l2.m1.1" class="ltx_Math" alttext="t=0" display="inline"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><mi id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml">t</mi><mo id="alg1.l2.m1.1.1.1" xref="alg1.l2.m1.1.1.1.cmml">=</mo><mn id="alg1.l2.m1.1.1.3" xref="alg1.l2.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><eq id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1"></eq><ci id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2">𝑡</ci><cn type="integer" id="alg1.l2.m1.1.1.3.cmml" xref="alg1.l2.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">t=0</annotation></semantics></math> <span id="alg1.l2.2" class="ltx_text ltx_font_bold">to</span> <math id="alg1.l2.m2.1" class="ltx_Math" alttext="T-1" display="inline"><semantics id="alg1.l2.m2.1a"><mrow id="alg1.l2.m2.1.1" xref="alg1.l2.m2.1.1.cmml"><mi id="alg1.l2.m2.1.1.2" xref="alg1.l2.m2.1.1.2.cmml">T</mi><mo id="alg1.l2.m2.1.1.1" xref="alg1.l2.m2.1.1.1.cmml">−</mo><mn id="alg1.l2.m2.1.1.3" xref="alg1.l2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m2.1b"><apply id="alg1.l2.m2.1.1.cmml" xref="alg1.l2.m2.1.1"><minus id="alg1.l2.m2.1.1.1.cmml" xref="alg1.l2.m2.1.1.1"></minus><ci id="alg1.l2.m2.1.1.2.cmml" xref="alg1.l2.m2.1.1.2">𝑇</ci><cn type="integer" id="alg1.l2.m2.1.1.3.cmml" xref="alg1.l2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m2.1c">T-1</annotation></semantics></math> <span id="alg1.l2.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l3" class="ltx_listingline">     Sample a subset <math id="alg1.l3.m1.1" class="ltx_Math" alttext="\mathcal{S}^{t}" display="inline"><semantics id="alg1.l3.m1.1a"><msup id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">𝒮</mi><mi id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1">superscript</csymbol><ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">𝒮</ci><ci id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">\mathcal{S}^{t}</annotation></semantics></math> of clients  // <span id="alg1.l3.1" class="ltx_text ltx_font_italic">Step 1.</span>

</div>
<div id="alg1.l4" class="ltx_listingline">     Server sends <math id="alg1.l4.m1.1" class="ltx_Math" alttext="\theta_{t}" display="inline"><semantics id="alg1.l4.m1.1a"><msub id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mi id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">θ</mi><mi id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1">subscript</csymbol><ci id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2">𝜃</ci><ci id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">\theta_{t}</annotation></semantics></math> to all clients in <math id="alg1.l4.m2.1" class="ltx_Math" alttext="\mathcal{S}^{t}" display="inline"><semantics id="alg1.l4.m2.1a"><msup id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l4.m2.1.1.2" xref="alg1.l4.m2.1.1.2.cmml">𝒮</mi><mi id="alg1.l4.m2.1.1.3" xref="alg1.l4.m2.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b"><apply id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1"><csymbol cd="ambiguous" id="alg1.l4.m2.1.1.1.cmml" xref="alg1.l4.m2.1.1">superscript</csymbol><ci id="alg1.l4.m2.1.1.2.cmml" xref="alg1.l4.m2.1.1.2">𝒮</ci><ci id="alg1.l4.m2.1.1.3.cmml" xref="alg1.l4.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.1c">\mathcal{S}^{t}</annotation></semantics></math>  // <span id="alg1.l4.1" class="ltx_text ltx_font_italic">Step 2.</span>

</div>
<div id="alg1.l5" class="ltx_listingline">     <span id="alg1.l5.1" class="ltx_text ltx_font_bold">for</span> each client <math id="alg1.l5.m1.1" class="ltx_Math" alttext="k\in\mathcal{S}^{t}" display="inline"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mi id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml">k</mi><mo id="alg1.l5.m1.1.1.1" xref="alg1.l5.m1.1.1.1.cmml">∈</mo><msup id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l5.m1.1.1.3.2" xref="alg1.l5.m1.1.1.3.2.cmml">𝒮</mi><mi id="alg1.l5.m1.1.1.3.3" xref="alg1.l5.m1.1.1.3.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><in id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1"></in><ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">𝑘</ci><apply id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l5.m1.1.1.3.1.cmml" xref="alg1.l5.m1.1.1.3">superscript</csymbol><ci id="alg1.l5.m1.1.1.3.2.cmml" xref="alg1.l5.m1.1.1.3.2">𝒮</ci><ci id="alg1.l5.m1.1.1.3.3.cmml" xref="alg1.l5.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">k\in\mathcal{S}^{t}</annotation></semantics></math> <span id="alg1.l5.2" class="ltx_text ltx_font_bold">in parallel</span> <span id="alg1.l5.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l6" class="ltx_listingline">        Initialize local model <math id="alg1.l6.m1.1" class="ltx_Math" alttext="y^{0}_{k}\leftarrow\theta_{t}" display="inline"><semantics id="alg1.l6.m1.1a"><mrow id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><msubsup id="alg1.l6.m1.1.1.2" xref="alg1.l6.m1.1.1.2.cmml"><mi id="alg1.l6.m1.1.1.2.2.2" xref="alg1.l6.m1.1.1.2.2.2.cmml">y</mi><mi id="alg1.l6.m1.1.1.2.3" xref="alg1.l6.m1.1.1.2.3.cmml">k</mi><mn id="alg1.l6.m1.1.1.2.2.3" xref="alg1.l6.m1.1.1.2.2.3.cmml">0</mn></msubsup><mo stretchy="false" id="alg1.l6.m1.1.1.1" xref="alg1.l6.m1.1.1.1.cmml">←</mo><msub id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml"><mi id="alg1.l6.m1.1.1.3.2" xref="alg1.l6.m1.1.1.3.2.cmml">θ</mi><mi id="alg1.l6.m1.1.1.3.3" xref="alg1.l6.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><ci id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1">←</ci><apply id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.2.1.cmml" xref="alg1.l6.m1.1.1.2">subscript</csymbol><apply id="alg1.l6.m1.1.1.2.2.cmml" xref="alg1.l6.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.2.2.1.cmml" xref="alg1.l6.m1.1.1.2">superscript</csymbol><ci id="alg1.l6.m1.1.1.2.2.2.cmml" xref="alg1.l6.m1.1.1.2.2.2">𝑦</ci><cn type="integer" id="alg1.l6.m1.1.1.2.2.3.cmml" xref="alg1.l6.m1.1.1.2.2.3">0</cn></apply><ci id="alg1.l6.m1.1.1.2.3.cmml" xref="alg1.l6.m1.1.1.2.3">𝑘</ci></apply><apply id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.3.1.cmml" xref="alg1.l6.m1.1.1.3">subscript</csymbol><ci id="alg1.l6.m1.1.1.3.2.cmml" xref="alg1.l6.m1.1.1.3.2">𝜃</ci><ci id="alg1.l6.m1.1.1.3.3.cmml" xref="alg1.l6.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">y^{0}_{k}\leftarrow\theta_{t}</annotation></semantics></math>,

</div>
<div id="alg1.l7" class="ltx_listingline">        Client <math id="alg1.l7.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.l7.m1.1a"><mi id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><ci id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">k</annotation></semantics></math> performs <math id="alg1.l7.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg1.l7.m2.1a"><mi id="alg1.l7.m2.1.1" xref="alg1.l7.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg1.l7.m2.1b"><ci id="alg1.l7.m2.1.1.cmml" xref="alg1.l7.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m2.1c">E</annotation></semantics></math> epochs of local training via <math id="alg1.l7.m3.3" class="ltx_Math" alttext="y^{j+1}_{k}=\text{CLIENTOPT}(y^{j}_{k},\eta_{l},t)" display="inline"><semantics id="alg1.l7.m3.3a"><mrow id="alg1.l7.m3.3.3" xref="alg1.l7.m3.3.3.cmml"><msubsup id="alg1.l7.m3.3.3.4" xref="alg1.l7.m3.3.3.4.cmml"><mi id="alg1.l7.m3.3.3.4.2.2" xref="alg1.l7.m3.3.3.4.2.2.cmml">y</mi><mi id="alg1.l7.m3.3.3.4.3" xref="alg1.l7.m3.3.3.4.3.cmml">k</mi><mrow id="alg1.l7.m3.3.3.4.2.3" xref="alg1.l7.m3.3.3.4.2.3.cmml"><mi id="alg1.l7.m3.3.3.4.2.3.2" xref="alg1.l7.m3.3.3.4.2.3.2.cmml">j</mi><mo id="alg1.l7.m3.3.3.4.2.3.1" xref="alg1.l7.m3.3.3.4.2.3.1.cmml">+</mo><mn id="alg1.l7.m3.3.3.4.2.3.3" xref="alg1.l7.m3.3.3.4.2.3.3.cmml">1</mn></mrow></msubsup><mo id="alg1.l7.m3.3.3.3" xref="alg1.l7.m3.3.3.3.cmml">=</mo><mrow id="alg1.l7.m3.3.3.2" xref="alg1.l7.m3.3.3.2.cmml"><mtext id="alg1.l7.m3.3.3.2.4" xref="alg1.l7.m3.3.3.2.4a.cmml">CLIENTOPT</mtext><mo lspace="0em" rspace="0em" id="alg1.l7.m3.3.3.2.3" xref="alg1.l7.m3.3.3.2.3.cmml">​</mo><mrow id="alg1.l7.m3.3.3.2.2.2" xref="alg1.l7.m3.3.3.2.2.3.cmml"><mo stretchy="false" id="alg1.l7.m3.3.3.2.2.2.3" xref="alg1.l7.m3.3.3.2.2.3.cmml">(</mo><msubsup id="alg1.l7.m3.2.2.1.1.1.1" xref="alg1.l7.m3.2.2.1.1.1.1.cmml"><mi id="alg1.l7.m3.2.2.1.1.1.1.2.2" xref="alg1.l7.m3.2.2.1.1.1.1.2.2.cmml">y</mi><mi id="alg1.l7.m3.2.2.1.1.1.1.3" xref="alg1.l7.m3.2.2.1.1.1.1.3.cmml">k</mi><mi id="alg1.l7.m3.2.2.1.1.1.1.2.3" xref="alg1.l7.m3.2.2.1.1.1.1.2.3.cmml">j</mi></msubsup><mo id="alg1.l7.m3.3.3.2.2.2.4" xref="alg1.l7.m3.3.3.2.2.3.cmml">,</mo><msub id="alg1.l7.m3.3.3.2.2.2.2" xref="alg1.l7.m3.3.3.2.2.2.2.cmml"><mi id="alg1.l7.m3.3.3.2.2.2.2.2" xref="alg1.l7.m3.3.3.2.2.2.2.2.cmml">η</mi><mi id="alg1.l7.m3.3.3.2.2.2.2.3" xref="alg1.l7.m3.3.3.2.2.2.2.3.cmml">l</mi></msub><mo id="alg1.l7.m3.3.3.2.2.2.5" xref="alg1.l7.m3.3.3.2.2.3.cmml">,</mo><mi id="alg1.l7.m3.1.1" xref="alg1.l7.m3.1.1.cmml">t</mi><mo stretchy="false" id="alg1.l7.m3.3.3.2.2.2.6" xref="alg1.l7.m3.3.3.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m3.3b"><apply id="alg1.l7.m3.3.3.cmml" xref="alg1.l7.m3.3.3"><eq id="alg1.l7.m3.3.3.3.cmml" xref="alg1.l7.m3.3.3.3"></eq><apply id="alg1.l7.m3.3.3.4.cmml" xref="alg1.l7.m3.3.3.4"><csymbol cd="ambiguous" id="alg1.l7.m3.3.3.4.1.cmml" xref="alg1.l7.m3.3.3.4">subscript</csymbol><apply id="alg1.l7.m3.3.3.4.2.cmml" xref="alg1.l7.m3.3.3.4"><csymbol cd="ambiguous" id="alg1.l7.m3.3.3.4.2.1.cmml" xref="alg1.l7.m3.3.3.4">superscript</csymbol><ci id="alg1.l7.m3.3.3.4.2.2.cmml" xref="alg1.l7.m3.3.3.4.2.2">𝑦</ci><apply id="alg1.l7.m3.3.3.4.2.3.cmml" xref="alg1.l7.m3.3.3.4.2.3"><plus id="alg1.l7.m3.3.3.4.2.3.1.cmml" xref="alg1.l7.m3.3.3.4.2.3.1"></plus><ci id="alg1.l7.m3.3.3.4.2.3.2.cmml" xref="alg1.l7.m3.3.3.4.2.3.2">𝑗</ci><cn type="integer" id="alg1.l7.m3.3.3.4.2.3.3.cmml" xref="alg1.l7.m3.3.3.4.2.3.3">1</cn></apply></apply><ci id="alg1.l7.m3.3.3.4.3.cmml" xref="alg1.l7.m3.3.3.4.3">𝑘</ci></apply><apply id="alg1.l7.m3.3.3.2.cmml" xref="alg1.l7.m3.3.3.2"><times id="alg1.l7.m3.3.3.2.3.cmml" xref="alg1.l7.m3.3.3.2.3"></times><ci id="alg1.l7.m3.3.3.2.4a.cmml" xref="alg1.l7.m3.3.3.2.4"><mtext id="alg1.l7.m3.3.3.2.4.cmml" xref="alg1.l7.m3.3.3.2.4">CLIENTOPT</mtext></ci><vector id="alg1.l7.m3.3.3.2.2.3.cmml" xref="alg1.l7.m3.3.3.2.2.2"><apply id="alg1.l7.m3.2.2.1.1.1.1.cmml" xref="alg1.l7.m3.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m3.2.2.1.1.1.1.1.cmml" xref="alg1.l7.m3.2.2.1.1.1.1">subscript</csymbol><apply id="alg1.l7.m3.2.2.1.1.1.1.2.cmml" xref="alg1.l7.m3.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m3.2.2.1.1.1.1.2.1.cmml" xref="alg1.l7.m3.2.2.1.1.1.1">superscript</csymbol><ci id="alg1.l7.m3.2.2.1.1.1.1.2.2.cmml" xref="alg1.l7.m3.2.2.1.1.1.1.2.2">𝑦</ci><ci id="alg1.l7.m3.2.2.1.1.1.1.2.3.cmml" xref="alg1.l7.m3.2.2.1.1.1.1.2.3">𝑗</ci></apply><ci id="alg1.l7.m3.2.2.1.1.1.1.3.cmml" xref="alg1.l7.m3.2.2.1.1.1.1.3">𝑘</ci></apply><apply id="alg1.l7.m3.3.3.2.2.2.2.cmml" xref="alg1.l7.m3.3.3.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l7.m3.3.3.2.2.2.2.1.cmml" xref="alg1.l7.m3.3.3.2.2.2.2">subscript</csymbol><ci id="alg1.l7.m3.3.3.2.2.2.2.2.cmml" xref="alg1.l7.m3.3.3.2.2.2.2.2">𝜂</ci><ci id="alg1.l7.m3.3.3.2.2.2.2.3.cmml" xref="alg1.l7.m3.3.3.2.2.2.2.3">𝑙</ci></apply><ci id="alg1.l7.m3.1.1.cmml" xref="alg1.l7.m3.1.1">𝑡</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m3.3c">y^{j+1}_{k}=\text{CLIENTOPT}(y^{j}_{k},\eta_{l},t)</annotation></semantics></math>, <math id="alg1.l7.m4.1" class="ltx_Math" alttext="j" display="inline"><semantics id="alg1.l7.m4.1a"><mi id="alg1.l7.m4.1.1" xref="alg1.l7.m4.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="alg1.l7.m4.1b"><ci id="alg1.l7.m4.1.1.cmml" xref="alg1.l7.m4.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m4.1c">j</annotation></semantics></math> denotes the gradient step.

</div>
<div id="alg1.l8" class="ltx_listingline">        Let <math id="alg1.l8.m1.1" class="ltx_Math" alttext="y^{E}_{k}" display="inline"><semantics id="alg1.l8.m1.1a"><msubsup id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><mi id="alg1.l8.m1.1.1.2.2" xref="alg1.l8.m1.1.1.2.2.cmml">y</mi><mi id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml">k</mi><mi id="alg1.l8.m1.1.1.2.3" xref="alg1.l8.m1.1.1.2.3.cmml">E</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1">subscript</csymbol><apply id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.2.1.cmml" xref="alg1.l8.m1.1.1">superscript</csymbol><ci id="alg1.l8.m1.1.1.2.2.cmml" xref="alg1.l8.m1.1.1.2.2">𝑦</ci><ci id="alg1.l8.m1.1.1.2.3.cmml" xref="alg1.l8.m1.1.1.2.3">𝐸</ci></apply><ci id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">y^{E}_{k}</annotation></semantics></math> denote the local model after <math id="alg1.l8.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg1.l8.m2.1a"><mi id="alg1.l8.m2.1.1" xref="alg1.l8.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg1.l8.m2.1b"><ci id="alg1.l8.m2.1.1.cmml" xref="alg1.l8.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m2.1c">E</annotation></semantics></math> epochs of local updates

</div>
<div id="alg1.l9" class="ltx_listingline">        Client <math id="alg1.l9.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.l9.m1.1a"><mi id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.1b"><ci id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.1c">k</annotation></semantics></math> sends <math id="alg1.l9.m2.1" class="ltx_Math" alttext="\Delta^{t}_{k}=\theta_{t}-y^{E}_{k}" display="inline"><semantics id="alg1.l9.m2.1a"><mrow id="alg1.l9.m2.1.1" xref="alg1.l9.m2.1.1.cmml"><msubsup id="alg1.l9.m2.1.1.2" xref="alg1.l9.m2.1.1.2.cmml"><mi mathvariant="normal" id="alg1.l9.m2.1.1.2.2.2" xref="alg1.l9.m2.1.1.2.2.2.cmml">Δ</mi><mi id="alg1.l9.m2.1.1.2.3" xref="alg1.l9.m2.1.1.2.3.cmml">k</mi><mi id="alg1.l9.m2.1.1.2.2.3" xref="alg1.l9.m2.1.1.2.2.3.cmml">t</mi></msubsup><mo id="alg1.l9.m2.1.1.1" xref="alg1.l9.m2.1.1.1.cmml">=</mo><mrow id="alg1.l9.m2.1.1.3" xref="alg1.l9.m2.1.1.3.cmml"><msub id="alg1.l9.m2.1.1.3.2" xref="alg1.l9.m2.1.1.3.2.cmml"><mi id="alg1.l9.m2.1.1.3.2.2" xref="alg1.l9.m2.1.1.3.2.2.cmml">θ</mi><mi id="alg1.l9.m2.1.1.3.2.3" xref="alg1.l9.m2.1.1.3.2.3.cmml">t</mi></msub><mo id="alg1.l9.m2.1.1.3.1" xref="alg1.l9.m2.1.1.3.1.cmml">−</mo><msubsup id="alg1.l9.m2.1.1.3.3" xref="alg1.l9.m2.1.1.3.3.cmml"><mi id="alg1.l9.m2.1.1.3.3.2.2" xref="alg1.l9.m2.1.1.3.3.2.2.cmml">y</mi><mi id="alg1.l9.m2.1.1.3.3.3" xref="alg1.l9.m2.1.1.3.3.3.cmml">k</mi><mi id="alg1.l9.m2.1.1.3.3.2.3" xref="alg1.l9.m2.1.1.3.3.2.3.cmml">E</mi></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m2.1b"><apply id="alg1.l9.m2.1.1.cmml" xref="alg1.l9.m2.1.1"><eq id="alg1.l9.m2.1.1.1.cmml" xref="alg1.l9.m2.1.1.1"></eq><apply id="alg1.l9.m2.1.1.2.cmml" xref="alg1.l9.m2.1.1.2"><csymbol cd="ambiguous" id="alg1.l9.m2.1.1.2.1.cmml" xref="alg1.l9.m2.1.1.2">subscript</csymbol><apply id="alg1.l9.m2.1.1.2.2.cmml" xref="alg1.l9.m2.1.1.2"><csymbol cd="ambiguous" id="alg1.l9.m2.1.1.2.2.1.cmml" xref="alg1.l9.m2.1.1.2">superscript</csymbol><ci id="alg1.l9.m2.1.1.2.2.2.cmml" xref="alg1.l9.m2.1.1.2.2.2">Δ</ci><ci id="alg1.l9.m2.1.1.2.2.3.cmml" xref="alg1.l9.m2.1.1.2.2.3">𝑡</ci></apply><ci id="alg1.l9.m2.1.1.2.3.cmml" xref="alg1.l9.m2.1.1.2.3">𝑘</ci></apply><apply id="alg1.l9.m2.1.1.3.cmml" xref="alg1.l9.m2.1.1.3"><minus id="alg1.l9.m2.1.1.3.1.cmml" xref="alg1.l9.m2.1.1.3.1"></minus><apply id="alg1.l9.m2.1.1.3.2.cmml" xref="alg1.l9.m2.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l9.m2.1.1.3.2.1.cmml" xref="alg1.l9.m2.1.1.3.2">subscript</csymbol><ci id="alg1.l9.m2.1.1.3.2.2.cmml" xref="alg1.l9.m2.1.1.3.2.2">𝜃</ci><ci id="alg1.l9.m2.1.1.3.2.3.cmml" xref="alg1.l9.m2.1.1.3.2.3">𝑡</ci></apply><apply id="alg1.l9.m2.1.1.3.3.cmml" xref="alg1.l9.m2.1.1.3.3"><csymbol cd="ambiguous" id="alg1.l9.m2.1.1.3.3.1.cmml" xref="alg1.l9.m2.1.1.3.3">subscript</csymbol><apply id="alg1.l9.m2.1.1.3.3.2.cmml" xref="alg1.l9.m2.1.1.3.3"><csymbol cd="ambiguous" id="alg1.l9.m2.1.1.3.3.2.1.cmml" xref="alg1.l9.m2.1.1.3.3">superscript</csymbol><ci id="alg1.l9.m2.1.1.3.3.2.2.cmml" xref="alg1.l9.m2.1.1.3.3.2.2">𝑦</ci><ci id="alg1.l9.m2.1.1.3.3.2.3.cmml" xref="alg1.l9.m2.1.1.3.3.2.3">𝐸</ci></apply><ci id="alg1.l9.m2.1.1.3.3.3.cmml" xref="alg1.l9.m2.1.1.3.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m2.1c">\Delta^{t}_{k}=\theta_{t}-y^{E}_{k}</annotation></semantics></math> to Server

</div>
<div id="alg1.l10" class="ltx_listingline">     <span id="alg1.l10.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l10.2" class="ltx_text ltx_font_bold">for</span> // <span id="alg1.l10.3" class="ltx_text ltx_font_italic">Step 3.</span>

</div>
<div id="alg1.l11" class="ltx_listingline">     Server aggregates client updates <math id="alg1.l11.m1.1" class="ltx_Math" alttext="\Delta^{t}=\frac{1}{|\mathcal{S}^{t}|}\sum_{k\in\mathcal{S}^{t}}p_{k}\Delta^{t}_{k}" display="inline"><semantics id="alg1.l11.m1.1a"><mrow id="alg1.l11.m1.1.2" xref="alg1.l11.m1.1.2.cmml"><msup id="alg1.l11.m1.1.2.2" xref="alg1.l11.m1.1.2.2.cmml"><mi mathvariant="normal" id="alg1.l11.m1.1.2.2.2" xref="alg1.l11.m1.1.2.2.2.cmml">Δ</mi><mi id="alg1.l11.m1.1.2.2.3" xref="alg1.l11.m1.1.2.2.3.cmml">t</mi></msup><mo id="alg1.l11.m1.1.2.1" xref="alg1.l11.m1.1.2.1.cmml">=</mo><mrow id="alg1.l11.m1.1.2.3" xref="alg1.l11.m1.1.2.3.cmml"><mfrac id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml"><mn id="alg1.l11.m1.1.1.3" xref="alg1.l11.m1.1.1.3.cmml">1</mn><mrow id="alg1.l11.m1.1.1.1.1" xref="alg1.l11.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l11.m1.1.1.1.1.2" xref="alg1.l11.m1.1.1.1.2.1.cmml">|</mo><msup id="alg1.l11.m1.1.1.1.1.1" xref="alg1.l11.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l11.m1.1.1.1.1.1.2" xref="alg1.l11.m1.1.1.1.1.1.2.cmml">𝒮</mi><mi id="alg1.l11.m1.1.1.1.1.1.3" xref="alg1.l11.m1.1.1.1.1.1.3.cmml">t</mi></msup><mo stretchy="false" id="alg1.l11.m1.1.1.1.1.3" xref="alg1.l11.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="alg1.l11.m1.1.2.3.1" xref="alg1.l11.m1.1.2.3.1.cmml">​</mo><mrow id="alg1.l11.m1.1.2.3.2" xref="alg1.l11.m1.1.2.3.2.cmml"><msub id="alg1.l11.m1.1.2.3.2.1" xref="alg1.l11.m1.1.2.3.2.1.cmml"><mo id="alg1.l11.m1.1.2.3.2.1.2" xref="alg1.l11.m1.1.2.3.2.1.2.cmml">∑</mo><mrow id="alg1.l11.m1.1.2.3.2.1.3" xref="alg1.l11.m1.1.2.3.2.1.3.cmml"><mi id="alg1.l11.m1.1.2.3.2.1.3.2" xref="alg1.l11.m1.1.2.3.2.1.3.2.cmml">k</mi><mo id="alg1.l11.m1.1.2.3.2.1.3.1" xref="alg1.l11.m1.1.2.3.2.1.3.1.cmml">∈</mo><msup id="alg1.l11.m1.1.2.3.2.1.3.3" xref="alg1.l11.m1.1.2.3.2.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l11.m1.1.2.3.2.1.3.3.2" xref="alg1.l11.m1.1.2.3.2.1.3.3.2.cmml">𝒮</mi><mi id="alg1.l11.m1.1.2.3.2.1.3.3.3" xref="alg1.l11.m1.1.2.3.2.1.3.3.3.cmml">t</mi></msup></mrow></msub><mrow id="alg1.l11.m1.1.2.3.2.2" xref="alg1.l11.m1.1.2.3.2.2.cmml"><msub id="alg1.l11.m1.1.2.3.2.2.2" xref="alg1.l11.m1.1.2.3.2.2.2.cmml"><mi id="alg1.l11.m1.1.2.3.2.2.2.2" xref="alg1.l11.m1.1.2.3.2.2.2.2.cmml">p</mi><mi id="alg1.l11.m1.1.2.3.2.2.2.3" xref="alg1.l11.m1.1.2.3.2.2.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="alg1.l11.m1.1.2.3.2.2.1" xref="alg1.l11.m1.1.2.3.2.2.1.cmml">​</mo><msubsup id="alg1.l11.m1.1.2.3.2.2.3" xref="alg1.l11.m1.1.2.3.2.2.3.cmml"><mi mathvariant="normal" id="alg1.l11.m1.1.2.3.2.2.3.2.2" xref="alg1.l11.m1.1.2.3.2.2.3.2.2.cmml">Δ</mi><mi id="alg1.l11.m1.1.2.3.2.2.3.3" xref="alg1.l11.m1.1.2.3.2.2.3.3.cmml">k</mi><mi id="alg1.l11.m1.1.2.3.2.2.3.2.3" xref="alg1.l11.m1.1.2.3.2.2.3.2.3.cmml">t</mi></msubsup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><apply id="alg1.l11.m1.1.2.cmml" xref="alg1.l11.m1.1.2"><eq id="alg1.l11.m1.1.2.1.cmml" xref="alg1.l11.m1.1.2.1"></eq><apply id="alg1.l11.m1.1.2.2.cmml" xref="alg1.l11.m1.1.2.2"><csymbol cd="ambiguous" id="alg1.l11.m1.1.2.2.1.cmml" xref="alg1.l11.m1.1.2.2">superscript</csymbol><ci id="alg1.l11.m1.1.2.2.2.cmml" xref="alg1.l11.m1.1.2.2.2">Δ</ci><ci id="alg1.l11.m1.1.2.2.3.cmml" xref="alg1.l11.m1.1.2.2.3">𝑡</ci></apply><apply id="alg1.l11.m1.1.2.3.cmml" xref="alg1.l11.m1.1.2.3"><times id="alg1.l11.m1.1.2.3.1.cmml" xref="alg1.l11.m1.1.2.3.1"></times><apply id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1"><divide id="alg1.l11.m1.1.1.2.cmml" xref="alg1.l11.m1.1.1"></divide><cn type="integer" id="alg1.l11.m1.1.1.3.cmml" xref="alg1.l11.m1.1.1.3">1</cn><apply id="alg1.l11.m1.1.1.1.2.cmml" xref="alg1.l11.m1.1.1.1.1"><abs id="alg1.l11.m1.1.1.1.2.1.cmml" xref="alg1.l11.m1.1.1.1.1.2"></abs><apply id="alg1.l11.m1.1.1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1.1.1">superscript</csymbol><ci id="alg1.l11.m1.1.1.1.1.1.2.cmml" xref="alg1.l11.m1.1.1.1.1.1.2">𝒮</ci><ci id="alg1.l11.m1.1.1.1.1.1.3.cmml" xref="alg1.l11.m1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply><apply id="alg1.l11.m1.1.2.3.2.cmml" xref="alg1.l11.m1.1.2.3.2"><apply id="alg1.l11.m1.1.2.3.2.1.cmml" xref="alg1.l11.m1.1.2.3.2.1"><csymbol cd="ambiguous" id="alg1.l11.m1.1.2.3.2.1.1.cmml" xref="alg1.l11.m1.1.2.3.2.1">subscript</csymbol><sum id="alg1.l11.m1.1.2.3.2.1.2.cmml" xref="alg1.l11.m1.1.2.3.2.1.2"></sum><apply id="alg1.l11.m1.1.2.3.2.1.3.cmml" xref="alg1.l11.m1.1.2.3.2.1.3"><in id="alg1.l11.m1.1.2.3.2.1.3.1.cmml" xref="alg1.l11.m1.1.2.3.2.1.3.1"></in><ci id="alg1.l11.m1.1.2.3.2.1.3.2.cmml" xref="alg1.l11.m1.1.2.3.2.1.3.2">𝑘</ci><apply id="alg1.l11.m1.1.2.3.2.1.3.3.cmml" xref="alg1.l11.m1.1.2.3.2.1.3.3"><csymbol cd="ambiguous" id="alg1.l11.m1.1.2.3.2.1.3.3.1.cmml" xref="alg1.l11.m1.1.2.3.2.1.3.3">superscript</csymbol><ci id="alg1.l11.m1.1.2.3.2.1.3.3.2.cmml" xref="alg1.l11.m1.1.2.3.2.1.3.3.2">𝒮</ci><ci id="alg1.l11.m1.1.2.3.2.1.3.3.3.cmml" xref="alg1.l11.m1.1.2.3.2.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="alg1.l11.m1.1.2.3.2.2.cmml" xref="alg1.l11.m1.1.2.3.2.2"><times id="alg1.l11.m1.1.2.3.2.2.1.cmml" xref="alg1.l11.m1.1.2.3.2.2.1"></times><apply id="alg1.l11.m1.1.2.3.2.2.2.cmml" xref="alg1.l11.m1.1.2.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l11.m1.1.2.3.2.2.2.1.cmml" xref="alg1.l11.m1.1.2.3.2.2.2">subscript</csymbol><ci id="alg1.l11.m1.1.2.3.2.2.2.2.cmml" xref="alg1.l11.m1.1.2.3.2.2.2.2">𝑝</ci><ci id="alg1.l11.m1.1.2.3.2.2.2.3.cmml" xref="alg1.l11.m1.1.2.3.2.2.2.3">𝑘</ci></apply><apply id="alg1.l11.m1.1.2.3.2.2.3.cmml" xref="alg1.l11.m1.1.2.3.2.2.3"><csymbol cd="ambiguous" id="alg1.l11.m1.1.2.3.2.2.3.1.cmml" xref="alg1.l11.m1.1.2.3.2.2.3">subscript</csymbol><apply id="alg1.l11.m1.1.2.3.2.2.3.2.cmml" xref="alg1.l11.m1.1.2.3.2.2.3"><csymbol cd="ambiguous" id="alg1.l11.m1.1.2.3.2.2.3.2.1.cmml" xref="alg1.l11.m1.1.2.3.2.2.3">superscript</csymbol><ci id="alg1.l11.m1.1.2.3.2.2.3.2.2.cmml" xref="alg1.l11.m1.1.2.3.2.2.3.2.2">Δ</ci><ci id="alg1.l11.m1.1.2.3.2.2.3.2.3.cmml" xref="alg1.l11.m1.1.2.3.2.2.3.2.3">𝑡</ci></apply><ci id="alg1.l11.m1.1.2.3.2.2.3.3.cmml" xref="alg1.l11.m1.1.2.3.2.2.3.3">𝑘</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">\Delta^{t}=\frac{1}{|\mathcal{S}^{t}|}\sum_{k\in\mathcal{S}^{t}}p_{k}\Delta^{t}_{k}</annotation></semantics></math>  // <span id="alg1.l11.1" class="ltx_text ltx_font_italic">Step 4</span>.

</div>
<div id="alg1.l12" class="ltx_listingline">     <math id="alg1.l12.m1.4" class="ltx_Math" alttext="\theta_{t+1}\leftarrow\text{SERVEROPT}(\theta_{t},\Delta^{t},\eta_{s},t)" display="inline"><semantics id="alg1.l12.m1.4a"><mrow id="alg1.l12.m1.4.4" xref="alg1.l12.m1.4.4.cmml"><msub id="alg1.l12.m1.4.4.5" xref="alg1.l12.m1.4.4.5.cmml"><mi id="alg1.l12.m1.4.4.5.2" xref="alg1.l12.m1.4.4.5.2.cmml">θ</mi><mrow id="alg1.l12.m1.4.4.5.3" xref="alg1.l12.m1.4.4.5.3.cmml"><mi id="alg1.l12.m1.4.4.5.3.2" xref="alg1.l12.m1.4.4.5.3.2.cmml">t</mi><mo id="alg1.l12.m1.4.4.5.3.1" xref="alg1.l12.m1.4.4.5.3.1.cmml">+</mo><mn id="alg1.l12.m1.4.4.5.3.3" xref="alg1.l12.m1.4.4.5.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="alg1.l12.m1.4.4.4" xref="alg1.l12.m1.4.4.4.cmml">←</mo><mrow id="alg1.l12.m1.4.4.3" xref="alg1.l12.m1.4.4.3.cmml"><mtext id="alg1.l12.m1.4.4.3.5" xref="alg1.l12.m1.4.4.3.5a.cmml">SERVEROPT</mtext><mo lspace="0em" rspace="0em" id="alg1.l12.m1.4.4.3.4" xref="alg1.l12.m1.4.4.3.4.cmml">​</mo><mrow id="alg1.l12.m1.4.4.3.3.3" xref="alg1.l12.m1.4.4.3.3.4.cmml"><mo stretchy="false" id="alg1.l12.m1.4.4.3.3.3.4" xref="alg1.l12.m1.4.4.3.3.4.cmml">(</mo><msub id="alg1.l12.m1.2.2.1.1.1.1" xref="alg1.l12.m1.2.2.1.1.1.1.cmml"><mi id="alg1.l12.m1.2.2.1.1.1.1.2" xref="alg1.l12.m1.2.2.1.1.1.1.2.cmml">θ</mi><mi id="alg1.l12.m1.2.2.1.1.1.1.3" xref="alg1.l12.m1.2.2.1.1.1.1.3.cmml">t</mi></msub><mo id="alg1.l12.m1.4.4.3.3.3.5" xref="alg1.l12.m1.4.4.3.3.4.cmml">,</mo><msup id="alg1.l12.m1.3.3.2.2.2.2" xref="alg1.l12.m1.3.3.2.2.2.2.cmml"><mi mathvariant="normal" id="alg1.l12.m1.3.3.2.2.2.2.2" xref="alg1.l12.m1.3.3.2.2.2.2.2.cmml">Δ</mi><mi id="alg1.l12.m1.3.3.2.2.2.2.3" xref="alg1.l12.m1.3.3.2.2.2.2.3.cmml">t</mi></msup><mo id="alg1.l12.m1.4.4.3.3.3.6" xref="alg1.l12.m1.4.4.3.3.4.cmml">,</mo><msub id="alg1.l12.m1.4.4.3.3.3.3" xref="alg1.l12.m1.4.4.3.3.3.3.cmml"><mi id="alg1.l12.m1.4.4.3.3.3.3.2" xref="alg1.l12.m1.4.4.3.3.3.3.2.cmml">η</mi><mi id="alg1.l12.m1.4.4.3.3.3.3.3" xref="alg1.l12.m1.4.4.3.3.3.3.3.cmml">s</mi></msub><mo id="alg1.l12.m1.4.4.3.3.3.7" xref="alg1.l12.m1.4.4.3.3.4.cmml">,</mo><mi id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml">t</mi><mo stretchy="false" id="alg1.l12.m1.4.4.3.3.3.8" xref="alg1.l12.m1.4.4.3.3.4.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.4b"><apply id="alg1.l12.m1.4.4.cmml" xref="alg1.l12.m1.4.4"><ci id="alg1.l12.m1.4.4.4.cmml" xref="alg1.l12.m1.4.4.4">←</ci><apply id="alg1.l12.m1.4.4.5.cmml" xref="alg1.l12.m1.4.4.5"><csymbol cd="ambiguous" id="alg1.l12.m1.4.4.5.1.cmml" xref="alg1.l12.m1.4.4.5">subscript</csymbol><ci id="alg1.l12.m1.4.4.5.2.cmml" xref="alg1.l12.m1.4.4.5.2">𝜃</ci><apply id="alg1.l12.m1.4.4.5.3.cmml" xref="alg1.l12.m1.4.4.5.3"><plus id="alg1.l12.m1.4.4.5.3.1.cmml" xref="alg1.l12.m1.4.4.5.3.1"></plus><ci id="alg1.l12.m1.4.4.5.3.2.cmml" xref="alg1.l12.m1.4.4.5.3.2">𝑡</ci><cn type="integer" id="alg1.l12.m1.4.4.5.3.3.cmml" xref="alg1.l12.m1.4.4.5.3.3">1</cn></apply></apply><apply id="alg1.l12.m1.4.4.3.cmml" xref="alg1.l12.m1.4.4.3"><times id="alg1.l12.m1.4.4.3.4.cmml" xref="alg1.l12.m1.4.4.3.4"></times><ci id="alg1.l12.m1.4.4.3.5a.cmml" xref="alg1.l12.m1.4.4.3.5"><mtext id="alg1.l12.m1.4.4.3.5.cmml" xref="alg1.l12.m1.4.4.3.5">SERVEROPT</mtext></ci><vector id="alg1.l12.m1.4.4.3.3.4.cmml" xref="alg1.l12.m1.4.4.3.3.3"><apply id="alg1.l12.m1.2.2.1.1.1.1.cmml" xref="alg1.l12.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l12.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l12.m1.2.2.1.1.1.1">subscript</csymbol><ci id="alg1.l12.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l12.m1.2.2.1.1.1.1.2">𝜃</ci><ci id="alg1.l12.m1.2.2.1.1.1.1.3.cmml" xref="alg1.l12.m1.2.2.1.1.1.1.3">𝑡</ci></apply><apply id="alg1.l12.m1.3.3.2.2.2.2.cmml" xref="alg1.l12.m1.3.3.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l12.m1.3.3.2.2.2.2.1.cmml" xref="alg1.l12.m1.3.3.2.2.2.2">superscript</csymbol><ci id="alg1.l12.m1.3.3.2.2.2.2.2.cmml" xref="alg1.l12.m1.3.3.2.2.2.2.2">Δ</ci><ci id="alg1.l12.m1.3.3.2.2.2.2.3.cmml" xref="alg1.l12.m1.3.3.2.2.2.2.3">𝑡</ci></apply><apply id="alg1.l12.m1.4.4.3.3.3.3.cmml" xref="alg1.l12.m1.4.4.3.3.3.3"><csymbol cd="ambiguous" id="alg1.l12.m1.4.4.3.3.3.3.1.cmml" xref="alg1.l12.m1.4.4.3.3.3.3">subscript</csymbol><ci id="alg1.l12.m1.4.4.3.3.3.3.2.cmml" xref="alg1.l12.m1.4.4.3.3.3.3.2">𝜂</ci><ci id="alg1.l12.m1.4.4.3.3.3.3.3.cmml" xref="alg1.l12.m1.4.4.3.3.3.3.3">𝑠</ci></apply><ci id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1">𝑡</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.4c">\theta_{t+1}\leftarrow\text{SERVEROPT}(\theta_{t},\Delta^{t},\eta_{s},t)</annotation></semantics></math>  // <span id="alg1.l12.1" class="ltx_text ltx_font_italic">Step 5.</span>

</div>
<div id="alg1.l13" class="ltx_listingline">  <span id="alg1.l13.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l13.2" class="ltx_text ltx_font_bold">for</span>
</div>
</div>
</figure>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">In our approach, we fix the training algorithm <span id="S3.SS2.p2.1.1" class="ltx_text">CLIENTOPT</span> at all clients while examining the effectiveness of various optimization strategies for <span id="S3.SS2.p2.1.2" class="ltx_text">SERVEROPT</span> at server side, as described below. Given the pervasive use of PLMs in DocVQA (details in Section <a href="#S4.SS3" title="4.3 Model ‣ 4 Experimental Setup ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>), this experiment choice is motivated by insights in prior research <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>, which underscored two key points:
(1) initiating the model from pre-trained weights accentuates the necessity for an adaptive optimization on the <span id="S3.SS2.p2.1.3" class="ltx_text ltx_font_italic">server side</span> than any methods for addressing heterogeneity on the client side and (2) pre-trained models help alleviate the heterogeneity effect resulting from differences in local data, leading to better convergence.
However, as these conclusions have been validated on small-scale unimodal benchmarks, their relevance in settings with complex multimodal problems such as DocVQA, remain unclear.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.1" class="ltx_p"><span id="S3.SS2.p3.1.1" class="ltx_text ltx_font_bold">Federated Averaging (FedAvg)</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> is the standard training algorithm in federated settings. At each round of FedAvg, <span id="S3.SS2.p3.1.2" class="ltx_text">SERVEROPT</span> updates its global model by averaging local updates from participating clients: <math id="S3.SS2.p3.1.m1.1" class="ltx_Math" alttext="\theta_{t+1}\leftarrow\theta_{t}-\Delta^{t}" display="inline"><semantics id="S3.SS2.p3.1.m1.1a"><mrow id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><msub id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2.2" xref="S3.SS2.p3.1.m1.1.1.2.2.cmml">θ</mi><mrow id="S3.SS2.p3.1.m1.1.1.2.3" xref="S3.SS2.p3.1.m1.1.1.2.3.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2.3.2" xref="S3.SS2.p3.1.m1.1.1.2.3.2.cmml">t</mi><mo id="S3.SS2.p3.1.m1.1.1.2.3.1" xref="S3.SS2.p3.1.m1.1.1.2.3.1.cmml">+</mo><mn id="S3.SS2.p3.1.m1.1.1.2.3.3" xref="S3.SS2.p3.1.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="S3.SS2.p3.1.m1.1.1.1" xref="S3.SS2.p3.1.m1.1.1.1.cmml">←</mo><mrow id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml"><msub id="S3.SS2.p3.1.m1.1.1.3.2" xref="S3.SS2.p3.1.m1.1.1.3.2.cmml"><mi id="S3.SS2.p3.1.m1.1.1.3.2.2" xref="S3.SS2.p3.1.m1.1.1.3.2.2.cmml">θ</mi><mi id="S3.SS2.p3.1.m1.1.1.3.2.3" xref="S3.SS2.p3.1.m1.1.1.3.2.3.cmml">t</mi></msub><mo id="S3.SS2.p3.1.m1.1.1.3.1" xref="S3.SS2.p3.1.m1.1.1.3.1.cmml">−</mo><msup id="S3.SS2.p3.1.m1.1.1.3.3" xref="S3.SS2.p3.1.m1.1.1.3.3.cmml"><mi mathvariant="normal" id="S3.SS2.p3.1.m1.1.1.3.3.2" xref="S3.SS2.p3.1.m1.1.1.3.3.2.cmml">Δ</mi><mi id="S3.SS2.p3.1.m1.1.1.3.3.3" xref="S3.SS2.p3.1.m1.1.1.3.3.3.cmml">t</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><ci id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1.1">←</ci><apply id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.2.1.cmml" xref="S3.SS2.p3.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.2.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2.2">𝜃</ci><apply id="S3.SS2.p3.1.m1.1.1.2.3.cmml" xref="S3.SS2.p3.1.m1.1.1.2.3"><plus id="S3.SS2.p3.1.m1.1.1.2.3.1.cmml" xref="S3.SS2.p3.1.m1.1.1.2.3.1"></plus><ci id="S3.SS2.p3.1.m1.1.1.2.3.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p3.1.m1.1.1.2.3.3.cmml" xref="S3.SS2.p3.1.m1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3"><minus id="S3.SS2.p3.1.m1.1.1.3.1.cmml" xref="S3.SS2.p3.1.m1.1.1.3.1"></minus><apply id="S3.SS2.p3.1.m1.1.1.3.2.cmml" xref="S3.SS2.p3.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.3.2.1.cmml" xref="S3.SS2.p3.1.m1.1.1.3.2">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.3.2.2.cmml" xref="S3.SS2.p3.1.m1.1.1.3.2.2">𝜃</ci><ci id="S3.SS2.p3.1.m1.1.1.3.2.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3.2.3">𝑡</ci></apply><apply id="S3.SS2.p3.1.m1.1.1.3.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.3.3.1.cmml" xref="S3.SS2.p3.1.m1.1.1.3.3">superscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.3.3.2.cmml" xref="S3.SS2.p3.1.m1.1.1.3.3.2">Δ</ci><ci id="S3.SS2.p3.1.m1.1.1.3.3.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">\theta_{t+1}\leftarrow\theta_{t}-\Delta^{t}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.4" class="ltx_p"><span id="S3.SS2.p4.4.1" class="ltx_text ltx_font_bold">Server Momentum (FedAvgM)</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>
Incorporating momentum to Stochastic Gradient Descent, which involves accumulating the gradient history, has shown to effectively stabilize training deep neural networks. This approach appears particularly relevant in FL, when data distributions across clients are significantly different, leading to high variances in gradients. In this case, instead of directly using <math id="S3.SS2.p4.1.m1.1" class="ltx_Math" alttext="\Delta^{t}" display="inline"><semantics id="S3.SS2.p4.1.m1.1a"><msup id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><mi mathvariant="normal" id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml">Δ</mi><mi id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">superscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2">Δ</ci><ci id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">\Delta^{t}</annotation></semantics></math>, the global model is updated by <span id="S3.SS2.p4.4.2" class="ltx_text">SERVEROPT</span> as: <math id="S3.SS2.p4.2.m2.1" class="ltx_Math" alttext="\theta_{t+1}\leftarrow\theta_{t}-m_{t}" display="inline"><semantics id="S3.SS2.p4.2.m2.1a"><mrow id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><msub id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2.2" xref="S3.SS2.p4.2.m2.1.1.2.2.cmml">θ</mi><mrow id="S3.SS2.p4.2.m2.1.1.2.3" xref="S3.SS2.p4.2.m2.1.1.2.3.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2.3.2" xref="S3.SS2.p4.2.m2.1.1.2.3.2.cmml">t</mi><mo id="S3.SS2.p4.2.m2.1.1.2.3.1" xref="S3.SS2.p4.2.m2.1.1.2.3.1.cmml">+</mo><mn id="S3.SS2.p4.2.m2.1.1.2.3.3" xref="S3.SS2.p4.2.m2.1.1.2.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="S3.SS2.p4.2.m2.1.1.1" xref="S3.SS2.p4.2.m2.1.1.1.cmml">←</mo><mrow id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml"><msub id="S3.SS2.p4.2.m2.1.1.3.2" xref="S3.SS2.p4.2.m2.1.1.3.2.cmml"><mi id="S3.SS2.p4.2.m2.1.1.3.2.2" xref="S3.SS2.p4.2.m2.1.1.3.2.2.cmml">θ</mi><mi id="S3.SS2.p4.2.m2.1.1.3.2.3" xref="S3.SS2.p4.2.m2.1.1.3.2.3.cmml">t</mi></msub><mo id="S3.SS2.p4.2.m2.1.1.3.1" xref="S3.SS2.p4.2.m2.1.1.3.1.cmml">−</mo><msub id="S3.SS2.p4.2.m2.1.1.3.3" xref="S3.SS2.p4.2.m2.1.1.3.3.cmml"><mi id="S3.SS2.p4.2.m2.1.1.3.3.2" xref="S3.SS2.p4.2.m2.1.1.3.3.2.cmml">m</mi><mi id="S3.SS2.p4.2.m2.1.1.3.3.3" xref="S3.SS2.p4.2.m2.1.1.3.3.3.cmml">t</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><ci id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1.1">←</ci><apply id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.2.1.cmml" xref="S3.SS2.p4.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.2.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2.2">𝜃</ci><apply id="S3.SS2.p4.2.m2.1.1.2.3.cmml" xref="S3.SS2.p4.2.m2.1.1.2.3"><plus id="S3.SS2.p4.2.m2.1.1.2.3.1.cmml" xref="S3.SS2.p4.2.m2.1.1.2.3.1"></plus><ci id="S3.SS2.p4.2.m2.1.1.2.3.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p4.2.m2.1.1.2.3.3.cmml" xref="S3.SS2.p4.2.m2.1.1.2.3.3">1</cn></apply></apply><apply id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3"><minus id="S3.SS2.p4.2.m2.1.1.3.1.cmml" xref="S3.SS2.p4.2.m2.1.1.3.1"></minus><apply id="S3.SS2.p4.2.m2.1.1.3.2.cmml" xref="S3.SS2.p4.2.m2.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.3.2.1.cmml" xref="S3.SS2.p4.2.m2.1.1.3.2">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.3.2.2.cmml" xref="S3.SS2.p4.2.m2.1.1.3.2.2">𝜃</ci><ci id="S3.SS2.p4.2.m2.1.1.3.2.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3.2.3">𝑡</ci></apply><apply id="S3.SS2.p4.2.m2.1.1.3.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.3.3.1.cmml" xref="S3.SS2.p4.2.m2.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.3.3.2.cmml" xref="S3.SS2.p4.2.m2.1.1.3.3.2">𝑚</ci><ci id="S3.SS2.p4.2.m2.1.1.3.3.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">\theta_{t+1}\leftarrow\theta_{t}-m_{t}</annotation></semantics></math>, where <math id="S3.SS2.p4.3.m3.1" class="ltx_Math" alttext="m_{t}=\beta m_{t-1}+(1-\beta)\Delta^{t}" display="inline"><semantics id="S3.SS2.p4.3.m3.1a"><mrow id="S3.SS2.p4.3.m3.1.1" xref="S3.SS2.p4.3.m3.1.1.cmml"><msub id="S3.SS2.p4.3.m3.1.1.3" xref="S3.SS2.p4.3.m3.1.1.3.cmml"><mi id="S3.SS2.p4.3.m3.1.1.3.2" xref="S3.SS2.p4.3.m3.1.1.3.2.cmml">m</mi><mi id="S3.SS2.p4.3.m3.1.1.3.3" xref="S3.SS2.p4.3.m3.1.1.3.3.cmml">t</mi></msub><mo id="S3.SS2.p4.3.m3.1.1.2" xref="S3.SS2.p4.3.m3.1.1.2.cmml">=</mo><mrow id="S3.SS2.p4.3.m3.1.1.1" xref="S3.SS2.p4.3.m3.1.1.1.cmml"><mrow id="S3.SS2.p4.3.m3.1.1.1.3" xref="S3.SS2.p4.3.m3.1.1.1.3.cmml"><mi id="S3.SS2.p4.3.m3.1.1.1.3.2" xref="S3.SS2.p4.3.m3.1.1.1.3.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.3.m3.1.1.1.3.1" xref="S3.SS2.p4.3.m3.1.1.1.3.1.cmml">​</mo><msub id="S3.SS2.p4.3.m3.1.1.1.3.3" xref="S3.SS2.p4.3.m3.1.1.1.3.3.cmml"><mi id="S3.SS2.p4.3.m3.1.1.1.3.3.2" xref="S3.SS2.p4.3.m3.1.1.1.3.3.2.cmml">m</mi><mrow id="S3.SS2.p4.3.m3.1.1.1.3.3.3" xref="S3.SS2.p4.3.m3.1.1.1.3.3.3.cmml"><mi id="S3.SS2.p4.3.m3.1.1.1.3.3.3.2" xref="S3.SS2.p4.3.m3.1.1.1.3.3.3.2.cmml">t</mi><mo id="S3.SS2.p4.3.m3.1.1.1.3.3.3.1" xref="S3.SS2.p4.3.m3.1.1.1.3.3.3.1.cmml">−</mo><mn id="S3.SS2.p4.3.m3.1.1.1.3.3.3.3" xref="S3.SS2.p4.3.m3.1.1.1.3.3.3.3.cmml">1</mn></mrow></msub></mrow><mo id="S3.SS2.p4.3.m3.1.1.1.2" xref="S3.SS2.p4.3.m3.1.1.1.2.cmml">+</mo><mrow id="S3.SS2.p4.3.m3.1.1.1.1" xref="S3.SS2.p4.3.m3.1.1.1.1.cmml"><mrow id="S3.SS2.p4.3.m3.1.1.1.1.1.1" xref="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p4.3.m3.1.1.1.1.1.1.2" xref="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p4.3.m3.1.1.1.1.1.1.1" xref="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.cmml"><mn id="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.2" xref="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.1" xref="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.3" xref="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.3.cmml">β</mi></mrow><mo stretchy="false" id="S3.SS2.p4.3.m3.1.1.1.1.1.1.3" xref="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS2.p4.3.m3.1.1.1.1.2" xref="S3.SS2.p4.3.m3.1.1.1.1.2.cmml">​</mo><msup id="S3.SS2.p4.3.m3.1.1.1.1.3" xref="S3.SS2.p4.3.m3.1.1.1.1.3.cmml"><mi mathvariant="normal" id="S3.SS2.p4.3.m3.1.1.1.1.3.2" xref="S3.SS2.p4.3.m3.1.1.1.1.3.2.cmml">Δ</mi><mi id="S3.SS2.p4.3.m3.1.1.1.1.3.3" xref="S3.SS2.p4.3.m3.1.1.1.1.3.3.cmml">t</mi></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m3.1b"><apply id="S3.SS2.p4.3.m3.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1"><eq id="S3.SS2.p4.3.m3.1.1.2.cmml" xref="S3.SS2.p4.3.m3.1.1.2"></eq><apply id="S3.SS2.p4.3.m3.1.1.3.cmml" xref="S3.SS2.p4.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.1.1.3.1.cmml" xref="S3.SS2.p4.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS2.p4.3.m3.1.1.3.2.cmml" xref="S3.SS2.p4.3.m3.1.1.3.2">𝑚</ci><ci id="S3.SS2.p4.3.m3.1.1.3.3.cmml" xref="S3.SS2.p4.3.m3.1.1.3.3">𝑡</ci></apply><apply id="S3.SS2.p4.3.m3.1.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1.1"><plus id="S3.SS2.p4.3.m3.1.1.1.2.cmml" xref="S3.SS2.p4.3.m3.1.1.1.2"></plus><apply id="S3.SS2.p4.3.m3.1.1.1.3.cmml" xref="S3.SS2.p4.3.m3.1.1.1.3"><times id="S3.SS2.p4.3.m3.1.1.1.3.1.cmml" xref="S3.SS2.p4.3.m3.1.1.1.3.1"></times><ci id="S3.SS2.p4.3.m3.1.1.1.3.2.cmml" xref="S3.SS2.p4.3.m3.1.1.1.3.2">𝛽</ci><apply id="S3.SS2.p4.3.m3.1.1.1.3.3.cmml" xref="S3.SS2.p4.3.m3.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.1.1.1.3.3.1.cmml" xref="S3.SS2.p4.3.m3.1.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p4.3.m3.1.1.1.3.3.2.cmml" xref="S3.SS2.p4.3.m3.1.1.1.3.3.2">𝑚</ci><apply id="S3.SS2.p4.3.m3.1.1.1.3.3.3.cmml" xref="S3.SS2.p4.3.m3.1.1.1.3.3.3"><minus id="S3.SS2.p4.3.m3.1.1.1.3.3.3.1.cmml" xref="S3.SS2.p4.3.m3.1.1.1.3.3.3.1"></minus><ci id="S3.SS2.p4.3.m3.1.1.1.3.3.3.2.cmml" xref="S3.SS2.p4.3.m3.1.1.1.3.3.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p4.3.m3.1.1.1.3.3.3.3.cmml" xref="S3.SS2.p4.3.m3.1.1.1.3.3.3.3">1</cn></apply></apply></apply><apply id="S3.SS2.p4.3.m3.1.1.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1.1.1"><times id="S3.SS2.p4.3.m3.1.1.1.1.2.cmml" xref="S3.SS2.p4.3.m3.1.1.1.1.2"></times><apply id="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1.1.1.1.1"><minus id="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.1"></minus><cn type="integer" id="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.2">1</cn><ci id="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p4.3.m3.1.1.1.1.1.1.1.3">𝛽</ci></apply><apply id="S3.SS2.p4.3.m3.1.1.1.1.3.cmml" xref="S3.SS2.p4.3.m3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.1.1.1.1.3.1.cmml" xref="S3.SS2.p4.3.m3.1.1.1.1.3">superscript</csymbol><ci id="S3.SS2.p4.3.m3.1.1.1.1.3.2.cmml" xref="S3.SS2.p4.3.m3.1.1.1.1.3.2">Δ</ci><ci id="S3.SS2.p4.3.m3.1.1.1.1.3.3.cmml" xref="S3.SS2.p4.3.m3.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m3.1c">m_{t}=\beta m_{t-1}+(1-\beta)\Delta^{t}</annotation></semantics></math> indicates the server momentum after local training at round <math id="S3.SS2.p4.4.m4.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS2.p4.4.m4.1a"><mi id="S3.SS2.p4.4.m4.1.1" xref="S3.SS2.p4.4.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m4.1b"><ci id="S3.SS2.p4.4.m4.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m4.1c">t</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.p5" class="ltx_para">
<p id="S3.SS2.p5.2" class="ltx_p"><span id="S3.SS2.p5.2.1" class="ltx_text ltx_font_bold">Server Adaptive Optimizer (FedAdam)</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite> The square of the gradient is integrated to effectively control its variance in each update, thus accelerating convergence. The update rule of <span id="S3.SS2.p5.2.2" class="ltx_text">SERVEROPT</span> is then specified as follows: <math id="S3.SS2.p5.1.m1.1" class="ltx_Math" alttext="\theta_{t+1}\leftarrow\theta_{t}-\eta_{s}\frac{m_{t}}{\sqrt{v_{t}}+\epsilon}" display="inline"><semantics id="S3.SS2.p5.1.m1.1a"><mrow id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml"><msub id="S3.SS2.p5.1.m1.1.1.2" xref="S3.SS2.p5.1.m1.1.1.2.cmml"><mi id="S3.SS2.p5.1.m1.1.1.2.2" xref="S3.SS2.p5.1.m1.1.1.2.2.cmml">θ</mi><mrow id="S3.SS2.p5.1.m1.1.1.2.3" xref="S3.SS2.p5.1.m1.1.1.2.3.cmml"><mi id="S3.SS2.p5.1.m1.1.1.2.3.2" xref="S3.SS2.p5.1.m1.1.1.2.3.2.cmml">t</mi><mo id="S3.SS2.p5.1.m1.1.1.2.3.1" xref="S3.SS2.p5.1.m1.1.1.2.3.1.cmml">+</mo><mn id="S3.SS2.p5.1.m1.1.1.2.3.3" xref="S3.SS2.p5.1.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="S3.SS2.p5.1.m1.1.1.1" xref="S3.SS2.p5.1.m1.1.1.1.cmml">←</mo><mrow id="S3.SS2.p5.1.m1.1.1.3" xref="S3.SS2.p5.1.m1.1.1.3.cmml"><msub id="S3.SS2.p5.1.m1.1.1.3.2" xref="S3.SS2.p5.1.m1.1.1.3.2.cmml"><mi id="S3.SS2.p5.1.m1.1.1.3.2.2" xref="S3.SS2.p5.1.m1.1.1.3.2.2.cmml">θ</mi><mi id="S3.SS2.p5.1.m1.1.1.3.2.3" xref="S3.SS2.p5.1.m1.1.1.3.2.3.cmml">t</mi></msub><mo id="S3.SS2.p5.1.m1.1.1.3.1" xref="S3.SS2.p5.1.m1.1.1.3.1.cmml">−</mo><mrow id="S3.SS2.p5.1.m1.1.1.3.3" xref="S3.SS2.p5.1.m1.1.1.3.3.cmml"><msub id="S3.SS2.p5.1.m1.1.1.3.3.2" xref="S3.SS2.p5.1.m1.1.1.3.3.2.cmml"><mi id="S3.SS2.p5.1.m1.1.1.3.3.2.2" xref="S3.SS2.p5.1.m1.1.1.3.3.2.2.cmml">η</mi><mi id="S3.SS2.p5.1.m1.1.1.3.3.2.3" xref="S3.SS2.p5.1.m1.1.1.3.3.2.3.cmml">s</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p5.1.m1.1.1.3.3.1" xref="S3.SS2.p5.1.m1.1.1.3.3.1.cmml">​</mo><mfrac id="S3.SS2.p5.1.m1.1.1.3.3.3" xref="S3.SS2.p5.1.m1.1.1.3.3.3.cmml"><msub id="S3.SS2.p5.1.m1.1.1.3.3.3.2" xref="S3.SS2.p5.1.m1.1.1.3.3.3.2.cmml"><mi id="S3.SS2.p5.1.m1.1.1.3.3.3.2.2" xref="S3.SS2.p5.1.m1.1.1.3.3.3.2.2.cmml">m</mi><mi id="S3.SS2.p5.1.m1.1.1.3.3.3.2.3" xref="S3.SS2.p5.1.m1.1.1.3.3.3.2.3.cmml">t</mi></msub><mrow id="S3.SS2.p5.1.m1.1.1.3.3.3.3" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.cmml"><msqrt id="S3.SS2.p5.1.m1.1.1.3.3.3.3.2" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.cmml"><msub id="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2.cmml"><mi id="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2.2" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2.2.cmml">v</mi><mi id="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2.3" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2.3.cmml">t</mi></msub></msqrt><mo id="S3.SS2.p5.1.m1.1.1.3.3.3.3.1" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.1.cmml">+</mo><mi id="S3.SS2.p5.1.m1.1.1.3.3.3.3.3" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.3.cmml">ϵ</mi></mrow></mfrac></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><apply id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1"><ci id="S3.SS2.p5.1.m1.1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1.1">←</ci><apply id="S3.SS2.p5.1.m1.1.1.2.cmml" xref="S3.SS2.p5.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.2.1.cmml" xref="S3.SS2.p5.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.2.2.cmml" xref="S3.SS2.p5.1.m1.1.1.2.2">𝜃</ci><apply id="S3.SS2.p5.1.m1.1.1.2.3.cmml" xref="S3.SS2.p5.1.m1.1.1.2.3"><plus id="S3.SS2.p5.1.m1.1.1.2.3.1.cmml" xref="S3.SS2.p5.1.m1.1.1.2.3.1"></plus><ci id="S3.SS2.p5.1.m1.1.1.2.3.2.cmml" xref="S3.SS2.p5.1.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p5.1.m1.1.1.2.3.3.cmml" xref="S3.SS2.p5.1.m1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.SS2.p5.1.m1.1.1.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3"><minus id="S3.SS2.p5.1.m1.1.1.3.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.1"></minus><apply id="S3.SS2.p5.1.m1.1.1.3.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.3.2.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.2">subscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.3.2.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.2.2">𝜃</ci><ci id="S3.SS2.p5.1.m1.1.1.3.2.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.2.3">𝑡</ci></apply><apply id="S3.SS2.p5.1.m1.1.1.3.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3"><times id="S3.SS2.p5.1.m1.1.1.3.3.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.1"></times><apply id="S3.SS2.p5.1.m1.1.1.3.3.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.3.3.2.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.2">subscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.3.3.2.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.2.2">𝜂</ci><ci id="S3.SS2.p5.1.m1.1.1.3.3.2.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.2.3">𝑠</ci></apply><apply id="S3.SS2.p5.1.m1.1.1.3.3.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3"><divide id="S3.SS2.p5.1.m1.1.1.3.3.3.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3"></divide><apply id="S3.SS2.p5.1.m1.1.1.3.3.3.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.2"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.3.3.3.2.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.2">subscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.3.3.3.2.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.2.2">𝑚</ci><ci id="S3.SS2.p5.1.m1.1.1.3.3.3.2.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.2.3">𝑡</ci></apply><apply id="S3.SS2.p5.1.m1.1.1.3.3.3.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3"><plus id="S3.SS2.p5.1.m1.1.1.3.3.3.3.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.1"></plus><apply id="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.2"><root id="S3.SS2.p5.1.m1.1.1.3.3.3.3.2a.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.2"></root><apply id="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2">subscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2.2">𝑣</ci><ci id="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.2.2.3">𝑡</ci></apply></apply><ci id="S3.SS2.p5.1.m1.1.1.3.3.3.3.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.3">italic-ϵ</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">\theta_{t+1}\leftarrow\theta_{t}-\eta_{s}\frac{m_{t}}{\sqrt{v_{t}}+\epsilon}</annotation></semantics></math> where <math id="S3.SS2.p5.2.m2.2" class="ltx_Math" alttext="v_{t}=\beta_{2}v_{t-1}+(1-\beta_{2})(\Delta^{t})^{2}" display="inline"><semantics id="S3.SS2.p5.2.m2.2a"><mrow id="S3.SS2.p5.2.m2.2.2" xref="S3.SS2.p5.2.m2.2.2.cmml"><msub id="S3.SS2.p5.2.m2.2.2.4" xref="S3.SS2.p5.2.m2.2.2.4.cmml"><mi id="S3.SS2.p5.2.m2.2.2.4.2" xref="S3.SS2.p5.2.m2.2.2.4.2.cmml">v</mi><mi id="S3.SS2.p5.2.m2.2.2.4.3" xref="S3.SS2.p5.2.m2.2.2.4.3.cmml">t</mi></msub><mo id="S3.SS2.p5.2.m2.2.2.3" xref="S3.SS2.p5.2.m2.2.2.3.cmml">=</mo><mrow id="S3.SS2.p5.2.m2.2.2.2" xref="S3.SS2.p5.2.m2.2.2.2.cmml"><mrow id="S3.SS2.p5.2.m2.2.2.2.4" xref="S3.SS2.p5.2.m2.2.2.2.4.cmml"><msub id="S3.SS2.p5.2.m2.2.2.2.4.2" xref="S3.SS2.p5.2.m2.2.2.2.4.2.cmml"><mi id="S3.SS2.p5.2.m2.2.2.2.4.2.2" xref="S3.SS2.p5.2.m2.2.2.2.4.2.2.cmml">β</mi><mn id="S3.SS2.p5.2.m2.2.2.2.4.2.3" xref="S3.SS2.p5.2.m2.2.2.2.4.2.3.cmml">2</mn></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p5.2.m2.2.2.2.4.1" xref="S3.SS2.p5.2.m2.2.2.2.4.1.cmml">​</mo><msub id="S3.SS2.p5.2.m2.2.2.2.4.3" xref="S3.SS2.p5.2.m2.2.2.2.4.3.cmml"><mi id="S3.SS2.p5.2.m2.2.2.2.4.3.2" xref="S3.SS2.p5.2.m2.2.2.2.4.3.2.cmml">v</mi><mrow id="S3.SS2.p5.2.m2.2.2.2.4.3.3" xref="S3.SS2.p5.2.m2.2.2.2.4.3.3.cmml"><mi id="S3.SS2.p5.2.m2.2.2.2.4.3.3.2" xref="S3.SS2.p5.2.m2.2.2.2.4.3.3.2.cmml">t</mi><mo id="S3.SS2.p5.2.m2.2.2.2.4.3.3.1" xref="S3.SS2.p5.2.m2.2.2.2.4.3.3.1.cmml">−</mo><mn id="S3.SS2.p5.2.m2.2.2.2.4.3.3.3" xref="S3.SS2.p5.2.m2.2.2.2.4.3.3.3.cmml">1</mn></mrow></msub></mrow><mo id="S3.SS2.p5.2.m2.2.2.2.3" xref="S3.SS2.p5.2.m2.2.2.2.3.cmml">+</mo><mrow id="S3.SS2.p5.2.m2.2.2.2.2" xref="S3.SS2.p5.2.m2.2.2.2.2.cmml"><mrow id="S3.SS2.p5.2.m2.1.1.1.1.1.1" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p5.2.m2.1.1.1.1.1.1.2" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.cmml"><mn id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.2" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3.2" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3.2.cmml">β</mi><mn id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3.3" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3.3.cmml">2</mn></msub></mrow><mo stretchy="false" id="S3.SS2.p5.2.m2.1.1.1.1.1.1.3" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS2.p5.2.m2.2.2.2.2.3" xref="S3.SS2.p5.2.m2.2.2.2.2.3.cmml">​</mo><msup id="S3.SS2.p5.2.m2.2.2.2.2.2" xref="S3.SS2.p5.2.m2.2.2.2.2.2.cmml"><mrow id="S3.SS2.p5.2.m2.2.2.2.2.2.1.1" xref="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.2" xref="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.cmml">(</mo><msup id="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1" xref="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.cmml"><mi mathvariant="normal" id="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.2" xref="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.2.cmml">Δ</mi><mi id="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.3" xref="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.3.cmml">t</mi></msup><mo stretchy="false" id="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.3" xref="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.cmml">)</mo></mrow><mn id="S3.SS2.p5.2.m2.2.2.2.2.2.3" xref="S3.SS2.p5.2.m2.2.2.2.2.2.3.cmml">2</mn></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.2b"><apply id="S3.SS2.p5.2.m2.2.2.cmml" xref="S3.SS2.p5.2.m2.2.2"><eq id="S3.SS2.p5.2.m2.2.2.3.cmml" xref="S3.SS2.p5.2.m2.2.2.3"></eq><apply id="S3.SS2.p5.2.m2.2.2.4.cmml" xref="S3.SS2.p5.2.m2.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.2.2.4.1.cmml" xref="S3.SS2.p5.2.m2.2.2.4">subscript</csymbol><ci id="S3.SS2.p5.2.m2.2.2.4.2.cmml" xref="S3.SS2.p5.2.m2.2.2.4.2">𝑣</ci><ci id="S3.SS2.p5.2.m2.2.2.4.3.cmml" xref="S3.SS2.p5.2.m2.2.2.4.3">𝑡</ci></apply><apply id="S3.SS2.p5.2.m2.2.2.2.cmml" xref="S3.SS2.p5.2.m2.2.2.2"><plus id="S3.SS2.p5.2.m2.2.2.2.3.cmml" xref="S3.SS2.p5.2.m2.2.2.2.3"></plus><apply id="S3.SS2.p5.2.m2.2.2.2.4.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4"><times id="S3.SS2.p5.2.m2.2.2.2.4.1.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.1"></times><apply id="S3.SS2.p5.2.m2.2.2.2.4.2.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.2"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.2.2.2.4.2.1.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.2">subscript</csymbol><ci id="S3.SS2.p5.2.m2.2.2.2.4.2.2.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.2.2">𝛽</ci><cn type="integer" id="S3.SS2.p5.2.m2.2.2.2.4.2.3.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.2.3">2</cn></apply><apply id="S3.SS2.p5.2.m2.2.2.2.4.3.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.3"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.2.2.2.4.3.1.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.3">subscript</csymbol><ci id="S3.SS2.p5.2.m2.2.2.2.4.3.2.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.3.2">𝑣</ci><apply id="S3.SS2.p5.2.m2.2.2.2.4.3.3.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.3.3"><minus id="S3.SS2.p5.2.m2.2.2.2.4.3.3.1.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.3.3.1"></minus><ci id="S3.SS2.p5.2.m2.2.2.2.4.3.3.2.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.3.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p5.2.m2.2.2.2.4.3.3.3.cmml" xref="S3.SS2.p5.2.m2.2.2.2.4.3.3.3">1</cn></apply></apply></apply><apply id="S3.SS2.p5.2.m2.2.2.2.2.cmml" xref="S3.SS2.p5.2.m2.2.2.2.2"><times id="S3.SS2.p5.2.m2.2.2.2.2.3.cmml" xref="S3.SS2.p5.2.m2.2.2.2.2.3"></times><apply id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1"><minus id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.1"></minus><cn type="integer" id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.2">1</cn><apply id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3.2">𝛽</ci><cn type="integer" id="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p5.2.m2.1.1.1.1.1.1.1.3.3">2</cn></apply></apply><apply id="S3.SS2.p5.2.m2.2.2.2.2.2.cmml" xref="S3.SS2.p5.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.2.2.2.2.2.2.cmml" xref="S3.SS2.p5.2.m2.2.2.2.2.2">superscript</csymbol><apply id="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.cmml" xref="S3.SS2.p5.2.m2.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.1.cmml" xref="S3.SS2.p5.2.m2.2.2.2.2.2.1.1">superscript</csymbol><ci id="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.2.cmml" xref="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.2">Δ</ci><ci id="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.3.cmml" xref="S3.SS2.p5.2.m2.2.2.2.2.2.1.1.1.3">𝑡</ci></apply><cn type="integer" id="S3.SS2.p5.2.m2.2.2.2.2.2.3.cmml" xref="S3.SS2.p5.2.m2.2.2.2.2.2.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.2c">v_{t}=\beta_{2}v_{t-1}+(1-\beta_{2})(\Delta^{t})^{2}</annotation></semantics></math> is the second moment of the gradient <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Federated Self-Pretraining (FSP)</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p"><span id="S3.SS3.p1.1.1" class="ltx_text ltx_font_bold">Self-Pretraining</span> refers to pretraining a model on the unlabeled training data for a given task before finetuning using the labels and the task-specific loss. This section explores the applicability of this method in a multimodal-FL setting, with DocVQA as a specific usecase. Our approach to FSP is straightforward, which continues pretraining a PLM (Section <a href="#S4.SS3" title="4.3 Model ‣ 4 Experimental Setup ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>) on unlabeled documents in DocVQA datasets, in order to obtain a domain-adapted initialization for the subsequent training. Specifically, this pretraining phase is also conducted in a federated manner, with each client performing self-supervised training on its <span id="S3.SS3.p1.1.2" class="ltx_text ltx_font_italic">private</span> documents. Our assumption is that: while documents for DocVQA are heterogeneous across clients, the overall capacity to understand documents is homogeneous. Documents from many DocVQA datasets typically share attributes such as relative layout structure, reading order, etc. that are essential for DU, hence the proposed pretraining is necessary.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.1" class="ltx_p">The choice of FSP is motivated by two reasons: (1) under such privacy constraints where centralization of documents is prohibited, local self-supervised pretraining with federation naturally fits to this setting (2) while empirically showing competitive performances <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, it is much less expensive compared to large-scale methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>, <a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> that require heavy training on large corpora <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>.
<span id="S3.SS3.p2.1.1" class="ltx_text ltx_font_bold">Pretraining Objectives</span>. We describe our self-supervised tasks used in FSP, which is a set of unified generative tasks inspired from UDOP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>. As we use a PLM which was solely trained on text data, this local pre-training aims to effectively learn the alignment between the semantic and layout information from documents <span id="S3.SS3.p2.1.2" class="ltx_text ltx_font_italic">with no QA annotations</span>.
Essentially, all of the tasks are based on the denoising objective proposed in T5 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>, which randomly masks the multimodal input and forces the model to predict the masked information.</p>
</div>
<div id="S3.SS3.p3" class="ltx_para">
<p id="S3.SS3.p3.17" class="ltx_p">More formally, suppose we have one training example as input: a document image <math id="S3.SS3.p3.1.m1.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S3.SS3.p3.1.m1.1a"><mi id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><ci id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">I</annotation></semantics></math>, a list of text tokens <math id="S3.SS3.p3.2.m2.3" class="ltx_Math" alttext="T=\{t_{1},...,t_{j}\}" display="inline"><semantics id="S3.SS3.p3.2.m2.3a"><mrow id="S3.SS3.p3.2.m2.3.3" xref="S3.SS3.p3.2.m2.3.3.cmml"><mi id="S3.SS3.p3.2.m2.3.3.4" xref="S3.SS3.p3.2.m2.3.3.4.cmml">T</mi><mo id="S3.SS3.p3.2.m2.3.3.3" xref="S3.SS3.p3.2.m2.3.3.3.cmml">=</mo><mrow id="S3.SS3.p3.2.m2.3.3.2.2" xref="S3.SS3.p3.2.m2.3.3.2.3.cmml"><mo stretchy="false" id="S3.SS3.p3.2.m2.3.3.2.2.3" xref="S3.SS3.p3.2.m2.3.3.2.3.cmml">{</mo><msub id="S3.SS3.p3.2.m2.2.2.1.1.1" xref="S3.SS3.p3.2.m2.2.2.1.1.1.cmml"><mi id="S3.SS3.p3.2.m2.2.2.1.1.1.2" xref="S3.SS3.p3.2.m2.2.2.1.1.1.2.cmml">t</mi><mn id="S3.SS3.p3.2.m2.2.2.1.1.1.3" xref="S3.SS3.p3.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS3.p3.2.m2.3.3.2.2.4" xref="S3.SS3.p3.2.m2.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml">…</mi><mo id="S3.SS3.p3.2.m2.3.3.2.2.5" xref="S3.SS3.p3.2.m2.3.3.2.3.cmml">,</mo><msub id="S3.SS3.p3.2.m2.3.3.2.2.2" xref="S3.SS3.p3.2.m2.3.3.2.2.2.cmml"><mi id="S3.SS3.p3.2.m2.3.3.2.2.2.2" xref="S3.SS3.p3.2.m2.3.3.2.2.2.2.cmml">t</mi><mi id="S3.SS3.p3.2.m2.3.3.2.2.2.3" xref="S3.SS3.p3.2.m2.3.3.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="S3.SS3.p3.2.m2.3.3.2.2.6" xref="S3.SS3.p3.2.m2.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.3b"><apply id="S3.SS3.p3.2.m2.3.3.cmml" xref="S3.SS3.p3.2.m2.3.3"><eq id="S3.SS3.p3.2.m2.3.3.3.cmml" xref="S3.SS3.p3.2.m2.3.3.3"></eq><ci id="S3.SS3.p3.2.m2.3.3.4.cmml" xref="S3.SS3.p3.2.m2.3.3.4">𝑇</ci><set id="S3.SS3.p3.2.m2.3.3.2.3.cmml" xref="S3.SS3.p3.2.m2.3.3.2.2"><apply id="S3.SS3.p3.2.m2.2.2.1.1.1.cmml" xref="S3.SS3.p3.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.2.2.1.1.1.1.cmml" xref="S3.SS3.p3.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.SS3.p3.2.m2.2.2.1.1.1.2.cmml" xref="S3.SS3.p3.2.m2.2.2.1.1.1.2">𝑡</ci><cn type="integer" id="S3.SS3.p3.2.m2.2.2.1.1.1.3.cmml" xref="S3.SS3.p3.2.m2.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1">…</ci><apply id="S3.SS3.p3.2.m2.3.3.2.2.2.cmml" xref="S3.SS3.p3.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.3.3.2.2.2.1.cmml" xref="S3.SS3.p3.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S3.SS3.p3.2.m2.3.3.2.2.2.2.cmml" xref="S3.SS3.p3.2.m2.3.3.2.2.2.2">𝑡</ci><ci id="S3.SS3.p3.2.m2.3.3.2.2.2.3.cmml" xref="S3.SS3.p3.2.m2.3.3.2.2.2.3">𝑗</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.3c">T=\{t_{1},...,t_{j}\}</annotation></semantics></math> and their corresponding bounding boxes <math id="S3.SS3.p3.3.m3.3" class="ltx_Math" alttext="B=\{b_{1},...,b_{j}\}" display="inline"><semantics id="S3.SS3.p3.3.m3.3a"><mrow id="S3.SS3.p3.3.m3.3.3" xref="S3.SS3.p3.3.m3.3.3.cmml"><mi id="S3.SS3.p3.3.m3.3.3.4" xref="S3.SS3.p3.3.m3.3.3.4.cmml">B</mi><mo id="S3.SS3.p3.3.m3.3.3.3" xref="S3.SS3.p3.3.m3.3.3.3.cmml">=</mo><mrow id="S3.SS3.p3.3.m3.3.3.2.2" xref="S3.SS3.p3.3.m3.3.3.2.3.cmml"><mo stretchy="false" id="S3.SS3.p3.3.m3.3.3.2.2.3" xref="S3.SS3.p3.3.m3.3.3.2.3.cmml">{</mo><msub id="S3.SS3.p3.3.m3.2.2.1.1.1" xref="S3.SS3.p3.3.m3.2.2.1.1.1.cmml"><mi id="S3.SS3.p3.3.m3.2.2.1.1.1.2" xref="S3.SS3.p3.3.m3.2.2.1.1.1.2.cmml">b</mi><mn id="S3.SS3.p3.3.m3.2.2.1.1.1.3" xref="S3.SS3.p3.3.m3.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS3.p3.3.m3.3.3.2.2.4" xref="S3.SS3.p3.3.m3.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="S3.SS3.p3.3.m3.1.1" xref="S3.SS3.p3.3.m3.1.1.cmml">…</mi><mo id="S3.SS3.p3.3.m3.3.3.2.2.5" xref="S3.SS3.p3.3.m3.3.3.2.3.cmml">,</mo><msub id="S3.SS3.p3.3.m3.3.3.2.2.2" xref="S3.SS3.p3.3.m3.3.3.2.2.2.cmml"><mi id="S3.SS3.p3.3.m3.3.3.2.2.2.2" xref="S3.SS3.p3.3.m3.3.3.2.2.2.2.cmml">b</mi><mi id="S3.SS3.p3.3.m3.3.3.2.2.2.3" xref="S3.SS3.p3.3.m3.3.3.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="S3.SS3.p3.3.m3.3.3.2.2.6" xref="S3.SS3.p3.3.m3.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m3.3b"><apply id="S3.SS3.p3.3.m3.3.3.cmml" xref="S3.SS3.p3.3.m3.3.3"><eq id="S3.SS3.p3.3.m3.3.3.3.cmml" xref="S3.SS3.p3.3.m3.3.3.3"></eq><ci id="S3.SS3.p3.3.m3.3.3.4.cmml" xref="S3.SS3.p3.3.m3.3.3.4">𝐵</ci><set id="S3.SS3.p3.3.m3.3.3.2.3.cmml" xref="S3.SS3.p3.3.m3.3.3.2.2"><apply id="S3.SS3.p3.3.m3.2.2.1.1.1.cmml" xref="S3.SS3.p3.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.3.m3.2.2.1.1.1.1.cmml" xref="S3.SS3.p3.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S3.SS3.p3.3.m3.2.2.1.1.1.2.cmml" xref="S3.SS3.p3.3.m3.2.2.1.1.1.2">𝑏</ci><cn type="integer" id="S3.SS3.p3.3.m3.2.2.1.1.1.3.cmml" xref="S3.SS3.p3.3.m3.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS3.p3.3.m3.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1">…</ci><apply id="S3.SS3.p3.3.m3.3.3.2.2.2.cmml" xref="S3.SS3.p3.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p3.3.m3.3.3.2.2.2.1.cmml" xref="S3.SS3.p3.3.m3.3.3.2.2.2">subscript</csymbol><ci id="S3.SS3.p3.3.m3.3.3.2.2.2.2.cmml" xref="S3.SS3.p3.3.m3.3.3.2.2.2.2">𝑏</ci><ci id="S3.SS3.p3.3.m3.3.3.2.2.2.3.cmml" xref="S3.SS3.p3.3.m3.3.3.2.2.2.3">𝑗</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m3.3c">B=\{b_{1},...,b_{j}\}</annotation></semantics></math>, where <math id="S3.SS3.p3.4.m4.4" class="ltx_Math" alttext="b_{j}=(x^{0}_{j},y^{0}_{j},x^{1}_{j},y^{1}_{j})" display="inline"><semantics id="S3.SS3.p3.4.m4.4a"><mrow id="S3.SS3.p3.4.m4.4.4" xref="S3.SS3.p3.4.m4.4.4.cmml"><msub id="S3.SS3.p3.4.m4.4.4.6" xref="S3.SS3.p3.4.m4.4.4.6.cmml"><mi id="S3.SS3.p3.4.m4.4.4.6.2" xref="S3.SS3.p3.4.m4.4.4.6.2.cmml">b</mi><mi id="S3.SS3.p3.4.m4.4.4.6.3" xref="S3.SS3.p3.4.m4.4.4.6.3.cmml">j</mi></msub><mo id="S3.SS3.p3.4.m4.4.4.5" xref="S3.SS3.p3.4.m4.4.4.5.cmml">=</mo><mrow id="S3.SS3.p3.4.m4.4.4.4.4" xref="S3.SS3.p3.4.m4.4.4.4.5.cmml"><mo stretchy="false" id="S3.SS3.p3.4.m4.4.4.4.4.5" xref="S3.SS3.p3.4.m4.4.4.4.5.cmml">(</mo><msubsup id="S3.SS3.p3.4.m4.1.1.1.1.1" xref="S3.SS3.p3.4.m4.1.1.1.1.1.cmml"><mi id="S3.SS3.p3.4.m4.1.1.1.1.1.2.2" xref="S3.SS3.p3.4.m4.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.SS3.p3.4.m4.1.1.1.1.1.3" xref="S3.SS3.p3.4.m4.1.1.1.1.1.3.cmml">j</mi><mn id="S3.SS3.p3.4.m4.1.1.1.1.1.2.3" xref="S3.SS3.p3.4.m4.1.1.1.1.1.2.3.cmml">0</mn></msubsup><mo id="S3.SS3.p3.4.m4.4.4.4.4.6" xref="S3.SS3.p3.4.m4.4.4.4.5.cmml">,</mo><msubsup id="S3.SS3.p3.4.m4.2.2.2.2.2" xref="S3.SS3.p3.4.m4.2.2.2.2.2.cmml"><mi id="S3.SS3.p3.4.m4.2.2.2.2.2.2.2" xref="S3.SS3.p3.4.m4.2.2.2.2.2.2.2.cmml">y</mi><mi id="S3.SS3.p3.4.m4.2.2.2.2.2.3" xref="S3.SS3.p3.4.m4.2.2.2.2.2.3.cmml">j</mi><mn id="S3.SS3.p3.4.m4.2.2.2.2.2.2.3" xref="S3.SS3.p3.4.m4.2.2.2.2.2.2.3.cmml">0</mn></msubsup><mo id="S3.SS3.p3.4.m4.4.4.4.4.7" xref="S3.SS3.p3.4.m4.4.4.4.5.cmml">,</mo><msubsup id="S3.SS3.p3.4.m4.3.3.3.3.3" xref="S3.SS3.p3.4.m4.3.3.3.3.3.cmml"><mi id="S3.SS3.p3.4.m4.3.3.3.3.3.2.2" xref="S3.SS3.p3.4.m4.3.3.3.3.3.2.2.cmml">x</mi><mi id="S3.SS3.p3.4.m4.3.3.3.3.3.3" xref="S3.SS3.p3.4.m4.3.3.3.3.3.3.cmml">j</mi><mn id="S3.SS3.p3.4.m4.3.3.3.3.3.2.3" xref="S3.SS3.p3.4.m4.3.3.3.3.3.2.3.cmml">1</mn></msubsup><mo id="S3.SS3.p3.4.m4.4.4.4.4.8" xref="S3.SS3.p3.4.m4.4.4.4.5.cmml">,</mo><msubsup id="S3.SS3.p3.4.m4.4.4.4.4.4" xref="S3.SS3.p3.4.m4.4.4.4.4.4.cmml"><mi id="S3.SS3.p3.4.m4.4.4.4.4.4.2.2" xref="S3.SS3.p3.4.m4.4.4.4.4.4.2.2.cmml">y</mi><mi id="S3.SS3.p3.4.m4.4.4.4.4.4.3" xref="S3.SS3.p3.4.m4.4.4.4.4.4.3.cmml">j</mi><mn id="S3.SS3.p3.4.m4.4.4.4.4.4.2.3" xref="S3.SS3.p3.4.m4.4.4.4.4.4.2.3.cmml">1</mn></msubsup><mo stretchy="false" id="S3.SS3.p3.4.m4.4.4.4.4.9" xref="S3.SS3.p3.4.m4.4.4.4.5.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.4.m4.4b"><apply id="S3.SS3.p3.4.m4.4.4.cmml" xref="S3.SS3.p3.4.m4.4.4"><eq id="S3.SS3.p3.4.m4.4.4.5.cmml" xref="S3.SS3.p3.4.m4.4.4.5"></eq><apply id="S3.SS3.p3.4.m4.4.4.6.cmml" xref="S3.SS3.p3.4.m4.4.4.6"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.4.4.6.1.cmml" xref="S3.SS3.p3.4.m4.4.4.6">subscript</csymbol><ci id="S3.SS3.p3.4.m4.4.4.6.2.cmml" xref="S3.SS3.p3.4.m4.4.4.6.2">𝑏</ci><ci id="S3.SS3.p3.4.m4.4.4.6.3.cmml" xref="S3.SS3.p3.4.m4.4.4.6.3">𝑗</ci></apply><vector id="S3.SS3.p3.4.m4.4.4.4.5.cmml" xref="S3.SS3.p3.4.m4.4.4.4.4"><apply id="S3.SS3.p3.4.m4.1.1.1.1.1.cmml" xref="S3.SS3.p3.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS3.p3.4.m4.1.1.1.1.1">subscript</csymbol><apply id="S3.SS3.p3.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS3.p3.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p3.4.m4.1.1.1.1.1">superscript</csymbol><ci id="S3.SS3.p3.4.m4.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p3.4.m4.1.1.1.1.1.2.2">𝑥</ci><cn type="integer" id="S3.SS3.p3.4.m4.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p3.4.m4.1.1.1.1.1.2.3">0</cn></apply><ci id="S3.SS3.p3.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS3.p3.4.m4.1.1.1.1.1.3">𝑗</ci></apply><apply id="S3.SS3.p3.4.m4.2.2.2.2.2.cmml" xref="S3.SS3.p3.4.m4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.2.2.2.2.2.1.cmml" xref="S3.SS3.p3.4.m4.2.2.2.2.2">subscript</csymbol><apply id="S3.SS3.p3.4.m4.2.2.2.2.2.2.cmml" xref="S3.SS3.p3.4.m4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.2.2.2.2.2.2.1.cmml" xref="S3.SS3.p3.4.m4.2.2.2.2.2">superscript</csymbol><ci id="S3.SS3.p3.4.m4.2.2.2.2.2.2.2.cmml" xref="S3.SS3.p3.4.m4.2.2.2.2.2.2.2">𝑦</ci><cn type="integer" id="S3.SS3.p3.4.m4.2.2.2.2.2.2.3.cmml" xref="S3.SS3.p3.4.m4.2.2.2.2.2.2.3">0</cn></apply><ci id="S3.SS3.p3.4.m4.2.2.2.2.2.3.cmml" xref="S3.SS3.p3.4.m4.2.2.2.2.2.3">𝑗</ci></apply><apply id="S3.SS3.p3.4.m4.3.3.3.3.3.cmml" xref="S3.SS3.p3.4.m4.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.3.3.3.3.3.1.cmml" xref="S3.SS3.p3.4.m4.3.3.3.3.3">subscript</csymbol><apply id="S3.SS3.p3.4.m4.3.3.3.3.3.2.cmml" xref="S3.SS3.p3.4.m4.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.3.3.3.3.3.2.1.cmml" xref="S3.SS3.p3.4.m4.3.3.3.3.3">superscript</csymbol><ci id="S3.SS3.p3.4.m4.3.3.3.3.3.2.2.cmml" xref="S3.SS3.p3.4.m4.3.3.3.3.3.2.2">𝑥</ci><cn type="integer" id="S3.SS3.p3.4.m4.3.3.3.3.3.2.3.cmml" xref="S3.SS3.p3.4.m4.3.3.3.3.3.2.3">1</cn></apply><ci id="S3.SS3.p3.4.m4.3.3.3.3.3.3.cmml" xref="S3.SS3.p3.4.m4.3.3.3.3.3.3">𝑗</ci></apply><apply id="S3.SS3.p3.4.m4.4.4.4.4.4.cmml" xref="S3.SS3.p3.4.m4.4.4.4.4.4"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.4.4.4.4.4.1.cmml" xref="S3.SS3.p3.4.m4.4.4.4.4.4">subscript</csymbol><apply id="S3.SS3.p3.4.m4.4.4.4.4.4.2.cmml" xref="S3.SS3.p3.4.m4.4.4.4.4.4"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.4.4.4.4.4.2.1.cmml" xref="S3.SS3.p3.4.m4.4.4.4.4.4">superscript</csymbol><ci id="S3.SS3.p3.4.m4.4.4.4.4.4.2.2.cmml" xref="S3.SS3.p3.4.m4.4.4.4.4.4.2.2">𝑦</ci><cn type="integer" id="S3.SS3.p3.4.m4.4.4.4.4.4.2.3.cmml" xref="S3.SS3.p3.4.m4.4.4.4.4.4.2.3">1</cn></apply><ci id="S3.SS3.p3.4.m4.4.4.4.4.4.3.cmml" xref="S3.SS3.p3.4.m4.4.4.4.4.4.3">𝑗</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.4.m4.4c">b_{j}=(x^{0}_{j},y^{0}_{j},x^{1}_{j},y^{1}_{j})</annotation></semantics></math> indicates the 2-D spatial information. Let <math id="S3.SS3.p3.5.m5.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS3.p3.5.m5.1a"><mi id="S3.SS3.p3.5.m5.1.1" xref="S3.SS3.p3.5.m5.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.5.m5.1b"><ci id="S3.SS3.p3.5.m5.1.1.cmml" xref="S3.SS3.p3.5.m5.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.5.m5.1c">M</annotation></semantics></math> be the set of indices <math id="S3.SS3.p3.6.m6.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS3.p3.6.m6.1a"><mi id="S3.SS3.p3.6.m6.1.1" xref="S3.SS3.p3.6.m6.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.6.m6.1b"><ci id="S3.SS3.p3.6.m6.1.1.cmml" xref="S3.SS3.p3.6.m6.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.6.m6.1c">m</annotation></semantics></math> sampled from <math id="S3.SS3.p3.7.m7.4" class="ltx_Math" alttext="\{0,1,...,j\}" display="inline"><semantics id="S3.SS3.p3.7.m7.4a"><mrow id="S3.SS3.p3.7.m7.4.5.2" xref="S3.SS3.p3.7.m7.4.5.1.cmml"><mo stretchy="false" id="S3.SS3.p3.7.m7.4.5.2.1" xref="S3.SS3.p3.7.m7.4.5.1.cmml">{</mo><mn id="S3.SS3.p3.7.m7.1.1" xref="S3.SS3.p3.7.m7.1.1.cmml">0</mn><mo id="S3.SS3.p3.7.m7.4.5.2.2" xref="S3.SS3.p3.7.m7.4.5.1.cmml">,</mo><mn id="S3.SS3.p3.7.m7.2.2" xref="S3.SS3.p3.7.m7.2.2.cmml">1</mn><mo id="S3.SS3.p3.7.m7.4.5.2.3" xref="S3.SS3.p3.7.m7.4.5.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS3.p3.7.m7.3.3" xref="S3.SS3.p3.7.m7.3.3.cmml">…</mi><mo id="S3.SS3.p3.7.m7.4.5.2.4" xref="S3.SS3.p3.7.m7.4.5.1.cmml">,</mo><mi id="S3.SS3.p3.7.m7.4.4" xref="S3.SS3.p3.7.m7.4.4.cmml">j</mi><mo stretchy="false" id="S3.SS3.p3.7.m7.4.5.2.5" xref="S3.SS3.p3.7.m7.4.5.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.7.m7.4b"><set id="S3.SS3.p3.7.m7.4.5.1.cmml" xref="S3.SS3.p3.7.m7.4.5.2"><cn type="integer" id="S3.SS3.p3.7.m7.1.1.cmml" xref="S3.SS3.p3.7.m7.1.1">0</cn><cn type="integer" id="S3.SS3.p3.7.m7.2.2.cmml" xref="S3.SS3.p3.7.m7.2.2">1</cn><ci id="S3.SS3.p3.7.m7.3.3.cmml" xref="S3.SS3.p3.7.m7.3.3">…</ci><ci id="S3.SS3.p3.7.m7.4.4.cmml" xref="S3.SS3.p3.7.m7.4.4">𝑗</ci></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.7.m7.4c">\{0,1,...,j\}</annotation></semantics></math> with probability <math id="S3.SS3.p3.8.m8.1" class="ltx_Math" alttext="p_{m}" display="inline"><semantics id="S3.SS3.p3.8.m8.1a"><msub id="S3.SS3.p3.8.m8.1.1" xref="S3.SS3.p3.8.m8.1.1.cmml"><mi id="S3.SS3.p3.8.m8.1.1.2" xref="S3.SS3.p3.8.m8.1.1.2.cmml">p</mi><mi id="S3.SS3.p3.8.m8.1.1.3" xref="S3.SS3.p3.8.m8.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.8.m8.1b"><apply id="S3.SS3.p3.8.m8.1.1.cmml" xref="S3.SS3.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.8.m8.1.1.1.cmml" xref="S3.SS3.p3.8.m8.1.1">subscript</csymbol><ci id="S3.SS3.p3.8.m8.1.1.2.cmml" xref="S3.SS3.p3.8.m8.1.1.2">𝑝</ci><ci id="S3.SS3.p3.8.m8.1.1.3.cmml" xref="S3.SS3.p3.8.m8.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.8.m8.1c">p_{m}</annotation></semantics></math> and <math id="S3.SS3.p3.9.m9.1" class="ltx_Math" alttext="l_{M}" display="inline"><semantics id="S3.SS3.p3.9.m9.1a"><msub id="S3.SS3.p3.9.m9.1.1" xref="S3.SS3.p3.9.m9.1.1.cmml"><mi id="S3.SS3.p3.9.m9.1.1.2" xref="S3.SS3.p3.9.m9.1.1.2.cmml">l</mi><mi id="S3.SS3.p3.9.m9.1.1.3" xref="S3.SS3.p3.9.m9.1.1.3.cmml">M</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.9.m9.1b"><apply id="S3.SS3.p3.9.m9.1.1.cmml" xref="S3.SS3.p3.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.9.m9.1.1.1.cmml" xref="S3.SS3.p3.9.m9.1.1">subscript</csymbol><ci id="S3.SS3.p3.9.m9.1.1.2.cmml" xref="S3.SS3.p3.9.m9.1.1.2">𝑙</ci><ci id="S3.SS3.p3.9.m9.1.1.3.cmml" xref="S3.SS3.p3.9.m9.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.9.m9.1c">l_{M}</annotation></semantics></math> be the size of <math id="S3.SS3.p3.10.m10.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS3.p3.10.m10.1a"><mi id="S3.SS3.p3.10.m10.1.1" xref="S3.SS3.p3.10.m10.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.10.m10.1b"><ci id="S3.SS3.p3.10.m10.1.1.cmml" xref="S3.SS3.p3.10.m10.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.10.m10.1c">M</annotation></semantics></math> which takes the maximum value <math id="S3.SS3.p3.11.m11.1" class="ltx_Math" alttext="L_{M}" display="inline"><semantics id="S3.SS3.p3.11.m11.1a"><msub id="S3.SS3.p3.11.m11.1.1" xref="S3.SS3.p3.11.m11.1.1.cmml"><mi id="S3.SS3.p3.11.m11.1.1.2" xref="S3.SS3.p3.11.m11.1.1.2.cmml">L</mi><mi id="S3.SS3.p3.11.m11.1.1.3" xref="S3.SS3.p3.11.m11.1.1.3.cmml">M</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.11.m11.1b"><apply id="S3.SS3.p3.11.m11.1.1.cmml" xref="S3.SS3.p3.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.11.m11.1.1.1.cmml" xref="S3.SS3.p3.11.m11.1.1">subscript</csymbol><ci id="S3.SS3.p3.11.m11.1.1.2.cmml" xref="S3.SS3.p3.11.m11.1.1.2">𝐿</ci><ci id="S3.SS3.p3.11.m11.1.1.3.cmml" xref="S3.SS3.p3.11.m11.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.11.m11.1c">L_{M}</annotation></semantics></math>.
Like UDOP, we define a set of sentinel tokens including: task-specific tokens as &lt;task_<math id="S3.SS3.p3.12.m12.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S3.SS3.p3.12.m12.1a"><mi id="S3.SS3.p3.12.m12.1.1" xref="S3.SS3.p3.12.m12.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.12.m12.1b"><ci id="S3.SS3.p3.12.m12.1.1.cmml" xref="S3.SS3.p3.12.m12.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.12.m12.1c">l</annotation></semantics></math>&gt;where <math id="S3.SS3.p3.13.m13.1" class="ltx_math_unparsed" alttext="l\in\{0,..,l_{M}\}" display="inline"><semantics id="S3.SS3.p3.13.m13.1a"><mrow id="S3.SS3.p3.13.m13.1b"><mi id="S3.SS3.p3.13.m13.1.1">l</mi><mo id="S3.SS3.p3.13.m13.1.2">∈</mo><mrow id="S3.SS3.p3.13.m13.1.3"><mo stretchy="false" id="S3.SS3.p3.13.m13.1.3.1">{</mo><mn id="S3.SS3.p3.13.m13.1.3.2">0</mn><mo id="S3.SS3.p3.13.m13.1.3.3">,</mo><mo lspace="0em" rspace="0.0835em" id="S3.SS3.p3.13.m13.1.3.4">.</mo><mo lspace="0.0835em" rspace="0.167em" id="S3.SS3.p3.13.m13.1.3.5">.</mo><mo id="S3.SS3.p3.13.m13.1.3.6">,</mo><msub id="S3.SS3.p3.13.m13.1.3.7"><mi id="S3.SS3.p3.13.m13.1.3.7.2">l</mi><mi id="S3.SS3.p3.13.m13.1.3.7.3">M</mi></msub><mo stretchy="false" id="S3.SS3.p3.13.m13.1.3.8">}</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS3.p3.13.m13.1c">l\in\{0,..,l_{M}\}</annotation></semantics></math> to indicate the masked positions for each task; and coordinate tokens &lt;loc_<math id="S3.SS3.p3.14.m14.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S3.SS3.p3.14.m14.1a"><mi id="S3.SS3.p3.14.m14.1.1" xref="S3.SS3.p3.14.m14.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.14.m14.1b"><ci id="S3.SS3.p3.14.m14.1.1.cmml" xref="S3.SS3.p3.14.m14.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.14.m14.1c">l</annotation></semantics></math>&gt;where <math id="S3.SS3.p3.15.m15.2" class="ltx_math_unparsed" alttext="l\in\{0,1,..,|V|\}" display="inline"><semantics id="S3.SS3.p3.15.m15.2a"><mrow id="S3.SS3.p3.15.m15.2b"><mi id="S3.SS3.p3.15.m15.2.3">l</mi><mo id="S3.SS3.p3.15.m15.2.4">∈</mo><mrow id="S3.SS3.p3.15.m15.2.5"><mo stretchy="false" id="S3.SS3.p3.15.m15.2.5.1">{</mo><mn id="S3.SS3.p3.15.m15.1.1">0</mn><mo id="S3.SS3.p3.15.m15.2.5.2">,</mo><mn id="S3.SS3.p3.15.m15.2.2">1</mn><mo id="S3.SS3.p3.15.m15.2.5.3">,</mo><mo lspace="0em" rspace="0.0835em" id="S3.SS3.p3.15.m15.2.5.4">.</mo><mo lspace="0.0835em" rspace="0.167em" id="S3.SS3.p3.15.m15.2.5.5">.</mo><mo id="S3.SS3.p3.15.m15.2.5.6">,</mo><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS3.p3.15.m15.2.5.7">|</mo><mi id="S3.SS3.p3.15.m15.2.5.8">V</mi><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS3.p3.15.m15.2.5.9">|</mo><mo stretchy="false" id="S3.SS3.p3.15.m15.2.5.10">}</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS3.p3.15.m15.2c">l\in\{0,1,..,|V|\}</annotation></semantics></math> and <math id="S3.SS3.p3.16.m16.1" class="ltx_Math" alttext="|V|" display="inline"><semantics id="S3.SS3.p3.16.m16.1a"><mrow id="S3.SS3.p3.16.m16.1.2.2" xref="S3.SS3.p3.16.m16.1.2.1.cmml"><mo stretchy="false" id="S3.SS3.p3.16.m16.1.2.2.1" xref="S3.SS3.p3.16.m16.1.2.1.1.cmml">|</mo><mi id="S3.SS3.p3.16.m16.1.1" xref="S3.SS3.p3.16.m16.1.1.cmml">V</mi><mo stretchy="false" id="S3.SS3.p3.16.m16.1.2.2.2" xref="S3.SS3.p3.16.m16.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.16.m16.1b"><apply id="S3.SS3.p3.16.m16.1.2.1.cmml" xref="S3.SS3.p3.16.m16.1.2.2"><abs id="S3.SS3.p3.16.m16.1.2.1.1.cmml" xref="S3.SS3.p3.16.m16.1.2.2.1"></abs><ci id="S3.SS3.p3.16.m16.1.1.cmml" xref="S3.SS3.p3.16.m16.1.1">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.16.m16.1c">|V|</annotation></semantics></math> is the size of a discretization <math id="S3.SS3.p3.17.m17.1" class="ltx_Math" alttext="f_{d}" display="inline"><semantics id="S3.SS3.p3.17.m17.1a"><msub id="S3.SS3.p3.17.m17.1.1" xref="S3.SS3.p3.17.m17.1.1.cmml"><mi id="S3.SS3.p3.17.m17.1.1.2" xref="S3.SS3.p3.17.m17.1.1.2.cmml">f</mi><mi id="S3.SS3.p3.17.m17.1.1.3" xref="S3.SS3.p3.17.m17.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.17.m17.1b"><apply id="S3.SS3.p3.17.m17.1.1.cmml" xref="S3.SS3.p3.17.m17.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.17.m17.1.1.1.cmml" xref="S3.SS3.p3.17.m17.1.1">subscript</csymbol><ci id="S3.SS3.p3.17.m17.1.1.2.cmml" xref="S3.SS3.p3.17.m17.1.1.2">𝑓</ci><ci id="S3.SS3.p3.17.m17.1.1.3.cmml" xref="S3.SS3.p3.17.m17.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.17.m17.1c">f_{d}</annotation></semantics></math> applied on the normalized bounding box coordinates. The bounding boxes for sentinel tokens are all set to 0.
Unlike UDOP, we perform masking at <span id="S3.SS3.p3.17.1" class="ltx_text ltx_font_italic">token-level</span> only, because DocVQA with complex layouts like tables, databases, etc. requires reasoning on positional structures which are defined over fine-grained elements. We briefly summarize the structure for each objective as follows:</p>
</div>
<div id="S3.SS3.p4" class="ltx_para">
<p id="S3.SS3.p4.6" class="ltx_p"><span id="S3.SS3.p4.6.1" class="ltx_text ltx_font_bold">Text Modeling (TM)</span> requires the model to predict the masked text at given locations, thus understands the semantics of the document content based on relative positions. For each <math id="S3.SS3.p4.1.m1.1" class="ltx_Math" alttext="m\in M" display="inline"><semantics id="S3.SS3.p4.1.m1.1a"><mrow id="S3.SS3.p4.1.m1.1.1" xref="S3.SS3.p4.1.m1.1.1.cmml"><mi id="S3.SS3.p4.1.m1.1.1.2" xref="S3.SS3.p4.1.m1.1.1.2.cmml">m</mi><mo id="S3.SS3.p4.1.m1.1.1.1" xref="S3.SS3.p4.1.m1.1.1.1.cmml">∈</mo><mi id="S3.SS3.p4.1.m1.1.1.3" xref="S3.SS3.p4.1.m1.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.1.m1.1b"><apply id="S3.SS3.p4.1.m1.1.1.cmml" xref="S3.SS3.p4.1.m1.1.1"><in id="S3.SS3.p4.1.m1.1.1.1.cmml" xref="S3.SS3.p4.1.m1.1.1.1"></in><ci id="S3.SS3.p4.1.m1.1.1.2.cmml" xref="S3.SS3.p4.1.m1.1.1.2">𝑚</ci><ci id="S3.SS3.p4.1.m1.1.1.3.cmml" xref="S3.SS3.p4.1.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.1.m1.1c">m\in M</annotation></semantics></math>, we replace <math id="S3.SS3.p4.2.m2.1" class="ltx_Math" alttext="t_{m}" display="inline"><semantics id="S3.SS3.p4.2.m2.1a"><msub id="S3.SS3.p4.2.m2.1.1" xref="S3.SS3.p4.2.m2.1.1.cmml"><mi id="S3.SS3.p4.2.m2.1.1.2" xref="S3.SS3.p4.2.m2.1.1.2.cmml">t</mi><mi id="S3.SS3.p4.2.m2.1.1.3" xref="S3.SS3.p4.2.m2.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.2.m2.1b"><apply id="S3.SS3.p4.2.m2.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.2.m2.1.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p4.2.m2.1.1.2.cmml" xref="S3.SS3.p4.2.m2.1.1.2">𝑡</ci><ci id="S3.SS3.p4.2.m2.1.1.3.cmml" xref="S3.SS3.p4.2.m2.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.2.m2.1c">t_{m}</annotation></semantics></math> from the input with <math id="S3.SS3.p4.3.m3.1" class="ltx_math_unparsed" alttext="\textless\text{text}\_l\textgreater\textless\text{loc}\_f_{d}(x^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(x^{1}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{1}_{m}))\textgreater" display="inline"><semantics id="S3.SS3.p4.3.m3.1a"><mrow id="S3.SS3.p4.3.m3.1b"><mo id="S3.SS3.p4.3.m3.1.1">&lt;</mo><mtext id="S3.SS3.p4.3.m3.1.2">text</mtext><mi mathvariant="normal" id="S3.SS3.p4.3.m3.1.3">_</mi><mi id="S3.SS3.p4.3.m3.1.4">l</mi><mo rspace="0em" id="S3.SS3.p4.3.m3.1.5">&gt;</mo><mo lspace="0em" id="S3.SS3.p4.3.m3.1.6">&lt;</mo><mtext id="S3.SS3.p4.3.m3.1.7">loc</mtext><mi mathvariant="normal" id="S3.SS3.p4.3.m3.1.8">_</mi><msub id="S3.SS3.p4.3.m3.1.9"><mi id="S3.SS3.p4.3.m3.1.9.2">f</mi><mi id="S3.SS3.p4.3.m3.1.9.3">d</mi></msub><mrow id="S3.SS3.p4.3.m3.1.10"><mo stretchy="false" id="S3.SS3.p4.3.m3.1.10.1">(</mo><msubsup id="S3.SS3.p4.3.m3.1.10.2"><mi id="S3.SS3.p4.3.m3.1.10.2.2.2">x</mi><mi id="S3.SS3.p4.3.m3.1.10.2.3">m</mi><mn id="S3.SS3.p4.3.m3.1.10.2.2.3">0</mn></msubsup><mo stretchy="false" id="S3.SS3.p4.3.m3.1.10.3">)</mo></mrow><mo rspace="0em" id="S3.SS3.p4.3.m3.1.11">&gt;</mo><mo lspace="0em" id="S3.SS3.p4.3.m3.1.12">&lt;</mo><mtext id="S3.SS3.p4.3.m3.1.13">loc</mtext><mi mathvariant="normal" id="S3.SS3.p4.3.m3.1.14">_</mi><msub id="S3.SS3.p4.3.m3.1.15"><mi id="S3.SS3.p4.3.m3.1.15.2">f</mi><mi id="S3.SS3.p4.3.m3.1.15.3">d</mi></msub><mrow id="S3.SS3.p4.3.m3.1.16"><mo stretchy="false" id="S3.SS3.p4.3.m3.1.16.1">(</mo><msubsup id="S3.SS3.p4.3.m3.1.16.2"><mi id="S3.SS3.p4.3.m3.1.16.2.2.2">y</mi><mi id="S3.SS3.p4.3.m3.1.16.2.3">m</mi><mn id="S3.SS3.p4.3.m3.1.16.2.2.3">0</mn></msubsup><mo stretchy="false" id="S3.SS3.p4.3.m3.1.16.3">)</mo></mrow><mo rspace="0em" id="S3.SS3.p4.3.m3.1.17">&gt;</mo><mo lspace="0em" id="S3.SS3.p4.3.m3.1.18">&lt;</mo><mtext id="S3.SS3.p4.3.m3.1.19">loc</mtext><mi mathvariant="normal" id="S3.SS3.p4.3.m3.1.20">_</mi><msub id="S3.SS3.p4.3.m3.1.21"><mi id="S3.SS3.p4.3.m3.1.21.2">f</mi><mi id="S3.SS3.p4.3.m3.1.21.3">d</mi></msub><mrow id="S3.SS3.p4.3.m3.1.22"><mo stretchy="false" id="S3.SS3.p4.3.m3.1.22.1">(</mo><msubsup id="S3.SS3.p4.3.m3.1.22.2"><mi id="S3.SS3.p4.3.m3.1.22.2.2.2">x</mi><mi id="S3.SS3.p4.3.m3.1.22.2.3">m</mi><mn id="S3.SS3.p4.3.m3.1.22.2.2.3">1</mn></msubsup><mo stretchy="false" id="S3.SS3.p4.3.m3.1.22.3">)</mo></mrow><mo rspace="0em" id="S3.SS3.p4.3.m3.1.23">&gt;</mo><mo lspace="0em" id="S3.SS3.p4.3.m3.1.24">&lt;</mo><mtext id="S3.SS3.p4.3.m3.1.25">loc</mtext><mi mathvariant="normal" id="S3.SS3.p4.3.m3.1.26">_</mi><msub id="S3.SS3.p4.3.m3.1.27"><mi id="S3.SS3.p4.3.m3.1.27.2">f</mi><mi id="S3.SS3.p4.3.m3.1.27.3">d</mi></msub><mrow id="S3.SS3.p4.3.m3.1.28"><mo stretchy="false" id="S3.SS3.p4.3.m3.1.28.1">(</mo><msubsup id="S3.SS3.p4.3.m3.1.28.2"><mi id="S3.SS3.p4.3.m3.1.28.2.2.2">y</mi><mi id="S3.SS3.p4.3.m3.1.28.2.3">m</mi><mn id="S3.SS3.p4.3.m3.1.28.2.2.3">1</mn></msubsup><mo stretchy="false" id="S3.SS3.p4.3.m3.1.28.3">)</mo></mrow><mo stretchy="false" id="S3.SS3.p4.3.m3.1.29">)</mo><mo id="S3.SS3.p4.3.m3.1.30">&gt;</mo></mrow><annotation encoding="application/x-tex" id="S3.SS3.p4.3.m3.1c">\textless\text{text}\_l\textgreater\textless\text{loc}\_f_{d}(x^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(x^{1}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{1}_{m}))\textgreater</annotation></semantics></math> and concatenate <math id="S3.SS3.p4.4.m4.1" class="ltx_Math" alttext="\textless text\_l\textgreater t_{m}" display="inline"><semantics id="S3.SS3.p4.4.m4.1a"><mrow id="S3.SS3.p4.4.m4.1.1" xref="S3.SS3.p4.4.m4.1.1.cmml"><mrow id="S3.SS3.p4.4.m4.1.1.1.1" xref="S3.SS3.p4.4.m4.1.1.1.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p4.4.m4.1.1.1.1.2" xref="S3.SS3.p4.4.m4.1.1.1.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p4.4.m4.1.1.1.1.1" xref="S3.SS3.p4.4.m4.1.1.1.1.1.cmml"><mi id="S3.SS3.p4.4.m4.1.1.1.1.1.2" xref="S3.SS3.p4.4.m4.1.1.1.1.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.1.1.1.1.1.1" xref="S3.SS3.p4.4.m4.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.1.1.1.1.1.3" xref="S3.SS3.p4.4.m4.1.1.1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.1.1.1.1.1.1a" xref="S3.SS3.p4.4.m4.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.1.1.1.1.1.4" xref="S3.SS3.p4.4.m4.1.1.1.1.1.4.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.1.1.1.1.1.1b" xref="S3.SS3.p4.4.m4.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.1.1.1.1.1.5" xref="S3.SS3.p4.4.m4.1.1.1.1.1.5.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.1.1.1.1.1.1c" xref="S3.SS3.p4.4.m4.1.1.1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p4.4.m4.1.1.1.1.1.6" xref="S3.SS3.p4.4.m4.1.1.1.1.1.6.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.1.1.1.1.1.1d" xref="S3.SS3.p4.4.m4.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS3.p4.4.m4.1.1.1.1.1.7" xref="S3.SS3.p4.4.m4.1.1.1.1.1.7.cmml">l</mi></mrow><mo fence="true" lspace="0em" id="S3.SS3.p4.4.m4.1.1.1.1.3" xref="S3.SS3.p4.4.m4.1.1.1.2.1.cmml">&gt;</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.p4.4.m4.1.1.2" xref="S3.SS3.p4.4.m4.1.1.2.cmml">​</mo><msub id="S3.SS3.p4.4.m4.1.1.3" xref="S3.SS3.p4.4.m4.1.1.3.cmml"><mi id="S3.SS3.p4.4.m4.1.1.3.2" xref="S3.SS3.p4.4.m4.1.1.3.2.cmml">t</mi><mi id="S3.SS3.p4.4.m4.1.1.3.3" xref="S3.SS3.p4.4.m4.1.1.3.3.cmml">m</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.4.m4.1b"><apply id="S3.SS3.p4.4.m4.1.1.cmml" xref="S3.SS3.p4.4.m4.1.1"><times id="S3.SS3.p4.4.m4.1.1.2.cmml" xref="S3.SS3.p4.4.m4.1.1.2"></times><apply id="S3.SS3.p4.4.m4.1.1.1.2.cmml" xref="S3.SS3.p4.4.m4.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p4.4.m4.1.1.1.2.1.cmml" xref="S3.SS3.p4.4.m4.1.1.1.1.2">expectation</csymbol><apply id="S3.SS3.p4.4.m4.1.1.1.1.1.cmml" xref="S3.SS3.p4.4.m4.1.1.1.1.1"><times id="S3.SS3.p4.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.4.m4.1.1.1.1.1.1"></times><ci id="S3.SS3.p4.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS3.p4.4.m4.1.1.1.1.1.2">𝑡</ci><ci id="S3.SS3.p4.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS3.p4.4.m4.1.1.1.1.1.3">𝑒</ci><ci id="S3.SS3.p4.4.m4.1.1.1.1.1.4.cmml" xref="S3.SS3.p4.4.m4.1.1.1.1.1.4">𝑥</ci><ci id="S3.SS3.p4.4.m4.1.1.1.1.1.5.cmml" xref="S3.SS3.p4.4.m4.1.1.1.1.1.5">𝑡</ci><ci id="S3.SS3.p4.4.m4.1.1.1.1.1.6.cmml" xref="S3.SS3.p4.4.m4.1.1.1.1.1.6">_</ci><ci id="S3.SS3.p4.4.m4.1.1.1.1.1.7.cmml" xref="S3.SS3.p4.4.m4.1.1.1.1.1.7">𝑙</ci></apply></apply><apply id="S3.SS3.p4.4.m4.1.1.3.cmml" xref="S3.SS3.p4.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p4.4.m4.1.1.3.1.cmml" xref="S3.SS3.p4.4.m4.1.1.3">subscript</csymbol><ci id="S3.SS3.p4.4.m4.1.1.3.2.cmml" xref="S3.SS3.p4.4.m4.1.1.3.2">𝑡</ci><ci id="S3.SS3.p4.4.m4.1.1.3.3.cmml" xref="S3.SS3.p4.4.m4.1.1.3.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.4.m4.1c">\textless text\_l\textgreater t_{m}</annotation></semantics></math> to the output sequence. We use <math id="S3.SS3.p4.5.m5.1" class="ltx_Math" alttext="p_{m}=0.5" display="inline"><semantics id="S3.SS3.p4.5.m5.1a"><mrow id="S3.SS3.p4.5.m5.1.1" xref="S3.SS3.p4.5.m5.1.1.cmml"><msub id="S3.SS3.p4.5.m5.1.1.2" xref="S3.SS3.p4.5.m5.1.1.2.cmml"><mi id="S3.SS3.p4.5.m5.1.1.2.2" xref="S3.SS3.p4.5.m5.1.1.2.2.cmml">p</mi><mi id="S3.SS3.p4.5.m5.1.1.2.3" xref="S3.SS3.p4.5.m5.1.1.2.3.cmml">m</mi></msub><mo id="S3.SS3.p4.5.m5.1.1.1" xref="S3.SS3.p4.5.m5.1.1.1.cmml">=</mo><mn id="S3.SS3.p4.5.m5.1.1.3" xref="S3.SS3.p4.5.m5.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.5.m5.1b"><apply id="S3.SS3.p4.5.m5.1.1.cmml" xref="S3.SS3.p4.5.m5.1.1"><eq id="S3.SS3.p4.5.m5.1.1.1.cmml" xref="S3.SS3.p4.5.m5.1.1.1"></eq><apply id="S3.SS3.p4.5.m5.1.1.2.cmml" xref="S3.SS3.p4.5.m5.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p4.5.m5.1.1.2.1.cmml" xref="S3.SS3.p4.5.m5.1.1.2">subscript</csymbol><ci id="S3.SS3.p4.5.m5.1.1.2.2.cmml" xref="S3.SS3.p4.5.m5.1.1.2.2">𝑝</ci><ci id="S3.SS3.p4.5.m5.1.1.2.3.cmml" xref="S3.SS3.p4.5.m5.1.1.2.3">𝑚</ci></apply><cn type="float" id="S3.SS3.p4.5.m5.1.1.3.cmml" xref="S3.SS3.p4.5.m5.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.5.m5.1c">p_{m}=0.5</annotation></semantics></math> and set <math id="S3.SS3.p4.6.m6.1" class="ltx_Math" alttext="L_{M}" display="inline"><semantics id="S3.SS3.p4.6.m6.1a"><msub id="S3.SS3.p4.6.m6.1.1" xref="S3.SS3.p4.6.m6.1.1.cmml"><mi id="S3.SS3.p4.6.m6.1.1.2" xref="S3.SS3.p4.6.m6.1.1.2.cmml">L</mi><mi id="S3.SS3.p4.6.m6.1.1.3" xref="S3.SS3.p4.6.m6.1.1.3.cmml">M</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.6.m6.1b"><apply id="S3.SS3.p4.6.m6.1.1.cmml" xref="S3.SS3.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.6.m6.1.1.1.cmml" xref="S3.SS3.p4.6.m6.1.1">subscript</csymbol><ci id="S3.SS3.p4.6.m6.1.1.2.cmml" xref="S3.SS3.p4.6.m6.1.1.2">𝐿</ci><ci id="S3.SS3.p4.6.m6.1.1.3.cmml" xref="S3.SS3.p4.6.m6.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.6.m6.1c">L_{M}</annotation></semantics></math> as 100 for this task.</p>
</div>
<div id="S3.SS3.p5" class="ltx_para">
<p id="S3.SS3.p5.6" class="ltx_p"><span id="S3.SS3.p5.6.1" class="ltx_text ltx_font_bold">Layout Modeling (LM)</span> tasks the model to predict the location of given tokens, enabling it to understand the document’s layout. Specifically, for each <math id="S3.SS3.p5.1.m1.1" class="ltx_Math" alttext="m\in M" display="inline"><semantics id="S3.SS3.p5.1.m1.1a"><mrow id="S3.SS3.p5.1.m1.1.1" xref="S3.SS3.p5.1.m1.1.1.cmml"><mi id="S3.SS3.p5.1.m1.1.1.2" xref="S3.SS3.p5.1.m1.1.1.2.cmml">m</mi><mo id="S3.SS3.p5.1.m1.1.1.1" xref="S3.SS3.p5.1.m1.1.1.1.cmml">∈</mo><mi id="S3.SS3.p5.1.m1.1.1.3" xref="S3.SS3.p5.1.m1.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.1.m1.1b"><apply id="S3.SS3.p5.1.m1.1.1.cmml" xref="S3.SS3.p5.1.m1.1.1"><in id="S3.SS3.p5.1.m1.1.1.1.cmml" xref="S3.SS3.p5.1.m1.1.1.1"></in><ci id="S3.SS3.p5.1.m1.1.1.2.cmml" xref="S3.SS3.p5.1.m1.1.1.2">𝑚</ci><ci id="S3.SS3.p5.1.m1.1.1.3.cmml" xref="S3.SS3.p5.1.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.1.m1.1c">m\in M</annotation></semantics></math>, we surround <math id="S3.SS3.p5.2.m2.1" class="ltx_Math" alttext="t_{m}" display="inline"><semantics id="S3.SS3.p5.2.m2.1a"><msub id="S3.SS3.p5.2.m2.1.1" xref="S3.SS3.p5.2.m2.1.1.cmml"><mi id="S3.SS3.p5.2.m2.1.1.2" xref="S3.SS3.p5.2.m2.1.1.2.cmml">t</mi><mi id="S3.SS3.p5.2.m2.1.1.3" xref="S3.SS3.p5.2.m2.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.2.m2.1b"><apply id="S3.SS3.p5.2.m2.1.1.cmml" xref="S3.SS3.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.2.m2.1.1.1.cmml" xref="S3.SS3.p5.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p5.2.m2.1.1.2.cmml" xref="S3.SS3.p5.2.m2.1.1.2">𝑡</ci><ci id="S3.SS3.p5.2.m2.1.1.3.cmml" xref="S3.SS3.p5.2.m2.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.2.m2.1c">t_{m}</annotation></semantics></math> with layout tokens as <math id="S3.SS3.p5.3.m3.1" class="ltx_math_unparsed" alttext="\textless\text{layout}\_l\textgreater t_{m}\textless/\text{layout}\_l\textgreater" display="inline"><semantics id="S3.SS3.p5.3.m3.1a"><mrow id="S3.SS3.p5.3.m3.1b"><mo id="S3.SS3.p5.3.m3.1.1">&lt;</mo><mtext id="S3.SS3.p5.3.m3.1.2">layout</mtext><mi mathvariant="normal" id="S3.SS3.p5.3.m3.1.3">_</mi><mi id="S3.SS3.p5.3.m3.1.4">l</mi><mo id="S3.SS3.p5.3.m3.1.5">&gt;</mo><msub id="S3.SS3.p5.3.m3.1.6"><mi id="S3.SS3.p5.3.m3.1.6.2">t</mi><mi id="S3.SS3.p5.3.m3.1.6.3">m</mi></msub><mo rspace="0em" id="S3.SS3.p5.3.m3.1.7">&lt;</mo><mo lspace="0em" id="S3.SS3.p5.3.m3.1.8">/</mo><mtext id="S3.SS3.p5.3.m3.1.9">layout</mtext><mi mathvariant="normal" id="S3.SS3.p5.3.m3.1.10">_</mi><mi id="S3.SS3.p5.3.m3.1.11">l</mi><mo id="S3.SS3.p5.3.m3.1.12">&gt;</mo></mrow><annotation encoding="application/x-tex" id="S3.SS3.p5.3.m3.1c">\textless\text{layout}\_l\textgreater t_{m}\textless/\text{layout}\_l\textgreater</annotation></semantics></math> in the input and append <math id="S3.SS3.p5.4.m4.5" class="ltx_Math" alttext="\textless\text{layout}\_l\textgreater\textless\text{loc}\_f_{d}(x^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(x^{1}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{1}_{m})\textgreater" display="inline"><semantics id="S3.SS3.p5.4.m4.5a"><mrow id="S3.SS3.p5.4.m4.5.5" xref="S3.SS3.p5.4.m4.5.5.cmml"><mrow id="S3.SS3.p5.4.m4.1.1.1.1" xref="S3.SS3.p5.4.m4.1.1.1.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p5.4.m4.1.1.1.1.2" xref="S3.SS3.p5.4.m4.1.1.1.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p5.4.m4.1.1.1.1.1" xref="S3.SS3.p5.4.m4.1.1.1.1.1.cmml"><mtext id="S3.SS3.p5.4.m4.1.1.1.1.1.2" xref="S3.SS3.p5.4.m4.1.1.1.1.1.2a.cmml">layout</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.1.1.1.1.1.1" xref="S3.SS3.p5.4.m4.1.1.1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p5.4.m4.1.1.1.1.1.3" xref="S3.SS3.p5.4.m4.1.1.1.1.1.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.1.1.1.1.1.1a" xref="S3.SS3.p5.4.m4.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS3.p5.4.m4.1.1.1.1.1.4" xref="S3.SS3.p5.4.m4.1.1.1.1.1.4.cmml">l</mi></mrow><mo fence="true" lspace="0em" id="S3.SS3.p5.4.m4.1.1.1.1.3" xref="S3.SS3.p5.4.m4.1.1.1.2.1.cmml">&gt;</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.5.5.6" xref="S3.SS3.p5.4.m4.5.5.6.cmml">​</mo><mrow id="S3.SS3.p5.4.m4.2.2.2.1" xref="S3.SS3.p5.4.m4.2.2.2.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p5.4.m4.2.2.2.1.2" xref="S3.SS3.p5.4.m4.2.2.2.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p5.4.m4.2.2.2.1.1" xref="S3.SS3.p5.4.m4.2.2.2.1.1.cmml"><mtext id="S3.SS3.p5.4.m4.2.2.2.1.1.3" xref="S3.SS3.p5.4.m4.2.2.2.1.1.3a.cmml">loc</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.2.2.2.1.1.2" xref="S3.SS3.p5.4.m4.2.2.2.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p5.4.m4.2.2.2.1.1.4" xref="S3.SS3.p5.4.m4.2.2.2.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.2.2.2.1.1.2a" xref="S3.SS3.p5.4.m4.2.2.2.1.1.2.cmml">​</mo><msub id="S3.SS3.p5.4.m4.2.2.2.1.1.5" xref="S3.SS3.p5.4.m4.2.2.2.1.1.5.cmml"><mi id="S3.SS3.p5.4.m4.2.2.2.1.1.5.2" xref="S3.SS3.p5.4.m4.2.2.2.1.1.5.2.cmml">f</mi><mi id="S3.SS3.p5.4.m4.2.2.2.1.1.5.3" xref="S3.SS3.p5.4.m4.2.2.2.1.1.5.3.cmml">d</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.2.2.2.1.1.2b" xref="S3.SS3.p5.4.m4.2.2.2.1.1.2.cmml">​</mo><mrow id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.2" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.cmml"><mi id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.2.2" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.3" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.3.cmml">m</mi><mn id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.2.3" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.2.3.cmml">0</mn></msubsup><mo stretchy="false" id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.3" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo fence="true" lspace="0em" id="S3.SS3.p5.4.m4.2.2.2.1.3" xref="S3.SS3.p5.4.m4.2.2.2.2.1.cmml">&gt;</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.5.5.6a" xref="S3.SS3.p5.4.m4.5.5.6.cmml">​</mo><mrow id="S3.SS3.p5.4.m4.3.3.3.1" xref="S3.SS3.p5.4.m4.3.3.3.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p5.4.m4.3.3.3.1.2" xref="S3.SS3.p5.4.m4.3.3.3.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p5.4.m4.3.3.3.1.1" xref="S3.SS3.p5.4.m4.3.3.3.1.1.cmml"><mtext id="S3.SS3.p5.4.m4.3.3.3.1.1.3" xref="S3.SS3.p5.4.m4.3.3.3.1.1.3a.cmml">loc</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.3.3.3.1.1.2" xref="S3.SS3.p5.4.m4.3.3.3.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p5.4.m4.3.3.3.1.1.4" xref="S3.SS3.p5.4.m4.3.3.3.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.3.3.3.1.1.2a" xref="S3.SS3.p5.4.m4.3.3.3.1.1.2.cmml">​</mo><msub id="S3.SS3.p5.4.m4.3.3.3.1.1.5" xref="S3.SS3.p5.4.m4.3.3.3.1.1.5.cmml"><mi id="S3.SS3.p5.4.m4.3.3.3.1.1.5.2" xref="S3.SS3.p5.4.m4.3.3.3.1.1.5.2.cmml">f</mi><mi id="S3.SS3.p5.4.m4.3.3.3.1.1.5.3" xref="S3.SS3.p5.4.m4.3.3.3.1.1.5.3.cmml">d</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.3.3.3.1.1.2b" xref="S3.SS3.p5.4.m4.3.3.3.1.1.2.cmml">​</mo><mrow id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.2" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.cmml"><mi id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.2.2" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.3" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.3.cmml">m</mi><mn id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.2.3" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.2.3.cmml">0</mn></msubsup><mo stretchy="false" id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.3" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo fence="true" lspace="0em" id="S3.SS3.p5.4.m4.3.3.3.1.3" xref="S3.SS3.p5.4.m4.3.3.3.2.1.cmml">&gt;</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.5.5.6b" xref="S3.SS3.p5.4.m4.5.5.6.cmml">​</mo><mrow id="S3.SS3.p5.4.m4.4.4.4.1" xref="S3.SS3.p5.4.m4.4.4.4.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p5.4.m4.4.4.4.1.2" xref="S3.SS3.p5.4.m4.4.4.4.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p5.4.m4.4.4.4.1.1" xref="S3.SS3.p5.4.m4.4.4.4.1.1.cmml"><mtext id="S3.SS3.p5.4.m4.4.4.4.1.1.3" xref="S3.SS3.p5.4.m4.4.4.4.1.1.3a.cmml">loc</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.4.4.4.1.1.2" xref="S3.SS3.p5.4.m4.4.4.4.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p5.4.m4.4.4.4.1.1.4" xref="S3.SS3.p5.4.m4.4.4.4.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.4.4.4.1.1.2a" xref="S3.SS3.p5.4.m4.4.4.4.1.1.2.cmml">​</mo><msub id="S3.SS3.p5.4.m4.4.4.4.1.1.5" xref="S3.SS3.p5.4.m4.4.4.4.1.1.5.cmml"><mi id="S3.SS3.p5.4.m4.4.4.4.1.1.5.2" xref="S3.SS3.p5.4.m4.4.4.4.1.1.5.2.cmml">f</mi><mi id="S3.SS3.p5.4.m4.4.4.4.1.1.5.3" xref="S3.SS3.p5.4.m4.4.4.4.1.1.5.3.cmml">d</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.4.4.4.1.1.2b" xref="S3.SS3.p5.4.m4.4.4.4.1.1.2.cmml">​</mo><mrow id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.2" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.cmml"><mi id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.2.2" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.3" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.3.cmml">m</mi><mn id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.2.3" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.2.3.cmml">1</mn></msubsup><mo stretchy="false" id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.3" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo fence="true" lspace="0em" id="S3.SS3.p5.4.m4.4.4.4.1.3" xref="S3.SS3.p5.4.m4.4.4.4.2.1.cmml">&gt;</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.5.5.6c" xref="S3.SS3.p5.4.m4.5.5.6.cmml">​</mo><mrow id="S3.SS3.p5.4.m4.5.5.5.1" xref="S3.SS3.p5.4.m4.5.5.5.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p5.4.m4.5.5.5.1.2" xref="S3.SS3.p5.4.m4.5.5.5.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p5.4.m4.5.5.5.1.1" xref="S3.SS3.p5.4.m4.5.5.5.1.1.cmml"><mtext id="S3.SS3.p5.4.m4.5.5.5.1.1.3" xref="S3.SS3.p5.4.m4.5.5.5.1.1.3a.cmml">loc</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.5.5.5.1.1.2" xref="S3.SS3.p5.4.m4.5.5.5.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p5.4.m4.5.5.5.1.1.4" xref="S3.SS3.p5.4.m4.5.5.5.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.5.5.5.1.1.2a" xref="S3.SS3.p5.4.m4.5.5.5.1.1.2.cmml">​</mo><msub id="S3.SS3.p5.4.m4.5.5.5.1.1.5" xref="S3.SS3.p5.4.m4.5.5.5.1.1.5.cmml"><mi id="S3.SS3.p5.4.m4.5.5.5.1.1.5.2" xref="S3.SS3.p5.4.m4.5.5.5.1.1.5.2.cmml">f</mi><mi id="S3.SS3.p5.4.m4.5.5.5.1.1.5.3" xref="S3.SS3.p5.4.m4.5.5.5.1.1.5.3.cmml">d</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p5.4.m4.5.5.5.1.1.2b" xref="S3.SS3.p5.4.m4.5.5.5.1.1.2.cmml">​</mo><mrow id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.2" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.cmml"><mi id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.2.2" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.3" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.3.cmml">m</mi><mn id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.2.3" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.2.3.cmml">1</mn></msubsup><mo stretchy="false" id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.3" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo fence="true" lspace="0em" id="S3.SS3.p5.4.m4.5.5.5.1.3" xref="S3.SS3.p5.4.m4.5.5.5.2.1.cmml">&gt;</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.4.m4.5b"><apply id="S3.SS3.p5.4.m4.5.5.cmml" xref="S3.SS3.p5.4.m4.5.5"><times id="S3.SS3.p5.4.m4.5.5.6.cmml" xref="S3.SS3.p5.4.m4.5.5.6"></times><apply id="S3.SS3.p5.4.m4.1.1.1.2.cmml" xref="S3.SS3.p5.4.m4.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p5.4.m4.1.1.1.2.1.cmml" xref="S3.SS3.p5.4.m4.1.1.1.1.2">expectation</csymbol><apply id="S3.SS3.p5.4.m4.1.1.1.1.1.cmml" xref="S3.SS3.p5.4.m4.1.1.1.1.1"><times id="S3.SS3.p5.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS3.p5.4.m4.1.1.1.1.1.1"></times><ci id="S3.SS3.p5.4.m4.1.1.1.1.1.2a.cmml" xref="S3.SS3.p5.4.m4.1.1.1.1.1.2"><mtext id="S3.SS3.p5.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS3.p5.4.m4.1.1.1.1.1.2">layout</mtext></ci><ci id="S3.SS3.p5.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS3.p5.4.m4.1.1.1.1.1.3">_</ci><ci id="S3.SS3.p5.4.m4.1.1.1.1.1.4.cmml" xref="S3.SS3.p5.4.m4.1.1.1.1.1.4">𝑙</ci></apply></apply><apply id="S3.SS3.p5.4.m4.2.2.2.2.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1"><csymbol cd="latexml" id="S3.SS3.p5.4.m4.2.2.2.2.1.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.2">expectation</csymbol><apply id="S3.SS3.p5.4.m4.2.2.2.1.1.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1"><times id="S3.SS3.p5.4.m4.2.2.2.1.1.2.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.2"></times><ci id="S3.SS3.p5.4.m4.2.2.2.1.1.3a.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.3"><mtext id="S3.SS3.p5.4.m4.2.2.2.1.1.3.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.3">loc</mtext></ci><ci id="S3.SS3.p5.4.m4.2.2.2.1.1.4.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.4">_</ci><apply id="S3.SS3.p5.4.m4.2.2.2.1.1.5.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.5"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.2.2.2.1.1.5.1.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.5">subscript</csymbol><ci id="S3.SS3.p5.4.m4.2.2.2.1.1.5.2.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.5.2">𝑓</ci><ci id="S3.SS3.p5.4.m4.2.2.2.1.1.5.3.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.5.3">𝑑</ci></apply><apply id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.1.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1">subscript</csymbol><apply id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.2.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1">superscript</csymbol><ci id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.2.2">𝑥</ci><cn type="integer" id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.2.3">0</cn></apply><ci id="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.3.cmml" xref="S3.SS3.p5.4.m4.2.2.2.1.1.1.1.1.3">𝑚</ci></apply></apply></apply><apply id="S3.SS3.p5.4.m4.3.3.3.2.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1"><csymbol cd="latexml" id="S3.SS3.p5.4.m4.3.3.3.2.1.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.2">expectation</csymbol><apply id="S3.SS3.p5.4.m4.3.3.3.1.1.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1"><times id="S3.SS3.p5.4.m4.3.3.3.1.1.2.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.2"></times><ci id="S3.SS3.p5.4.m4.3.3.3.1.1.3a.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.3"><mtext id="S3.SS3.p5.4.m4.3.3.3.1.1.3.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.3">loc</mtext></ci><ci id="S3.SS3.p5.4.m4.3.3.3.1.1.4.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.4">_</ci><apply id="S3.SS3.p5.4.m4.3.3.3.1.1.5.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.5"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.3.3.3.1.1.5.1.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.5">subscript</csymbol><ci id="S3.SS3.p5.4.m4.3.3.3.1.1.5.2.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.5.2">𝑓</ci><ci id="S3.SS3.p5.4.m4.3.3.3.1.1.5.3.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.5.3">𝑑</ci></apply><apply id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.1.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1">subscript</csymbol><apply id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.2.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1">superscript</csymbol><ci id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.2.2">𝑦</ci><cn type="integer" id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.2.3">0</cn></apply><ci id="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.3.cmml" xref="S3.SS3.p5.4.m4.3.3.3.1.1.1.1.1.3">𝑚</ci></apply></apply></apply><apply id="S3.SS3.p5.4.m4.4.4.4.2.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1"><csymbol cd="latexml" id="S3.SS3.p5.4.m4.4.4.4.2.1.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.2">expectation</csymbol><apply id="S3.SS3.p5.4.m4.4.4.4.1.1.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1"><times id="S3.SS3.p5.4.m4.4.4.4.1.1.2.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.2"></times><ci id="S3.SS3.p5.4.m4.4.4.4.1.1.3a.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.3"><mtext id="S3.SS3.p5.4.m4.4.4.4.1.1.3.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.3">loc</mtext></ci><ci id="S3.SS3.p5.4.m4.4.4.4.1.1.4.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.4">_</ci><apply id="S3.SS3.p5.4.m4.4.4.4.1.1.5.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.5"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.4.4.4.1.1.5.1.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.5">subscript</csymbol><ci id="S3.SS3.p5.4.m4.4.4.4.1.1.5.2.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.5.2">𝑓</ci><ci id="S3.SS3.p5.4.m4.4.4.4.1.1.5.3.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.5.3">𝑑</ci></apply><apply id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.1.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1">subscript</csymbol><apply id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.2.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1">superscript</csymbol><ci id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.2.2">𝑥</ci><cn type="integer" id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.2.3">1</cn></apply><ci id="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.3.cmml" xref="S3.SS3.p5.4.m4.4.4.4.1.1.1.1.1.3">𝑚</ci></apply></apply></apply><apply id="S3.SS3.p5.4.m4.5.5.5.2.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1"><csymbol cd="latexml" id="S3.SS3.p5.4.m4.5.5.5.2.1.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.2">expectation</csymbol><apply id="S3.SS3.p5.4.m4.5.5.5.1.1.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1"><times id="S3.SS3.p5.4.m4.5.5.5.1.1.2.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.2"></times><ci id="S3.SS3.p5.4.m4.5.5.5.1.1.3a.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.3"><mtext id="S3.SS3.p5.4.m4.5.5.5.1.1.3.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.3">loc</mtext></ci><ci id="S3.SS3.p5.4.m4.5.5.5.1.1.4.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.4">_</ci><apply id="S3.SS3.p5.4.m4.5.5.5.1.1.5.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.5"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.5.5.5.1.1.5.1.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.5">subscript</csymbol><ci id="S3.SS3.p5.4.m4.5.5.5.1.1.5.2.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.5.2">𝑓</ci><ci id="S3.SS3.p5.4.m4.5.5.5.1.1.5.3.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.5.3">𝑑</ci></apply><apply id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.1.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1">subscript</csymbol><apply id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.2.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1">superscript</csymbol><ci id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.2.2">𝑦</ci><cn type="integer" id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.2.3">1</cn></apply><ci id="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.3.cmml" xref="S3.SS3.p5.4.m4.5.5.5.1.1.1.1.1.3">𝑚</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.4.m4.5c">\textless\text{layout}\_l\textgreater\textless\text{loc}\_f_{d}(x^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(x^{1}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{1}_{m})\textgreater</annotation></semantics></math> to the output sequence. In this task, we use <math id="S3.SS3.p5.5.m5.1" class="ltx_Math" alttext="p_{m}=0.75" display="inline"><semantics id="S3.SS3.p5.5.m5.1a"><mrow id="S3.SS3.p5.5.m5.1.1" xref="S3.SS3.p5.5.m5.1.1.cmml"><msub id="S3.SS3.p5.5.m5.1.1.2" xref="S3.SS3.p5.5.m5.1.1.2.cmml"><mi id="S3.SS3.p5.5.m5.1.1.2.2" xref="S3.SS3.p5.5.m5.1.1.2.2.cmml">p</mi><mi id="S3.SS3.p5.5.m5.1.1.2.3" xref="S3.SS3.p5.5.m5.1.1.2.3.cmml">m</mi></msub><mo id="S3.SS3.p5.5.m5.1.1.1" xref="S3.SS3.p5.5.m5.1.1.1.cmml">=</mo><mn id="S3.SS3.p5.5.m5.1.1.3" xref="S3.SS3.p5.5.m5.1.1.3.cmml">0.75</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.5.m5.1b"><apply id="S3.SS3.p5.5.m5.1.1.cmml" xref="S3.SS3.p5.5.m5.1.1"><eq id="S3.SS3.p5.5.m5.1.1.1.cmml" xref="S3.SS3.p5.5.m5.1.1.1"></eq><apply id="S3.SS3.p5.5.m5.1.1.2.cmml" xref="S3.SS3.p5.5.m5.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p5.5.m5.1.1.2.1.cmml" xref="S3.SS3.p5.5.m5.1.1.2">subscript</csymbol><ci id="S3.SS3.p5.5.m5.1.1.2.2.cmml" xref="S3.SS3.p5.5.m5.1.1.2.2">𝑝</ci><ci id="S3.SS3.p5.5.m5.1.1.2.3.cmml" xref="S3.SS3.p5.5.m5.1.1.2.3">𝑚</ci></apply><cn type="float" id="S3.SS3.p5.5.m5.1.1.3.cmml" xref="S3.SS3.p5.5.m5.1.1.3">0.75</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.5.m5.1c">p_{m}=0.75</annotation></semantics></math> and set <math id="S3.SS3.p5.6.m6.1" class="ltx_Math" alttext="L_{M}=100" display="inline"><semantics id="S3.SS3.p5.6.m6.1a"><mrow id="S3.SS3.p5.6.m6.1.1" xref="S3.SS3.p5.6.m6.1.1.cmml"><msub id="S3.SS3.p5.6.m6.1.1.2" xref="S3.SS3.p5.6.m6.1.1.2.cmml"><mi id="S3.SS3.p5.6.m6.1.1.2.2" xref="S3.SS3.p5.6.m6.1.1.2.2.cmml">L</mi><mi id="S3.SS3.p5.6.m6.1.1.2.3" xref="S3.SS3.p5.6.m6.1.1.2.3.cmml">M</mi></msub><mo id="S3.SS3.p5.6.m6.1.1.1" xref="S3.SS3.p5.6.m6.1.1.1.cmml">=</mo><mn id="S3.SS3.p5.6.m6.1.1.3" xref="S3.SS3.p5.6.m6.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.6.m6.1b"><apply id="S3.SS3.p5.6.m6.1.1.cmml" xref="S3.SS3.p5.6.m6.1.1"><eq id="S3.SS3.p5.6.m6.1.1.1.cmml" xref="S3.SS3.p5.6.m6.1.1.1"></eq><apply id="S3.SS3.p5.6.m6.1.1.2.cmml" xref="S3.SS3.p5.6.m6.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p5.6.m6.1.1.2.1.cmml" xref="S3.SS3.p5.6.m6.1.1.2">subscript</csymbol><ci id="S3.SS3.p5.6.m6.1.1.2.2.cmml" xref="S3.SS3.p5.6.m6.1.1.2.2">𝐿</ci><ci id="S3.SS3.p5.6.m6.1.1.2.3.cmml" xref="S3.SS3.p5.6.m6.1.1.2.3">𝑀</ci></apply><cn type="integer" id="S3.SS3.p5.6.m6.1.1.3.cmml" xref="S3.SS3.p5.6.m6.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.6.m6.1c">L_{M}=100</annotation></semantics></math> for this task.</p>
</div>
<div id="S3.SS3.p6" class="ltx_para">
<p id="S3.SS3.p6.7" class="ltx_p"><span id="S3.SS3.p6.7.1" class="ltx_text ltx_font_bold">Text-Layout Modeling (TLM)</span> encourages the model to fully utilize the layout information by masking both the text <math id="S3.SS3.p6.1.m1.1" class="ltx_Math" alttext="t_{m}" display="inline"><semantics id="S3.SS3.p6.1.m1.1a"><msub id="S3.SS3.p6.1.m1.1.1" xref="S3.SS3.p6.1.m1.1.1.cmml"><mi id="S3.SS3.p6.1.m1.1.1.2" xref="S3.SS3.p6.1.m1.1.1.2.cmml">t</mi><mi id="S3.SS3.p6.1.m1.1.1.3" xref="S3.SS3.p6.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p6.1.m1.1b"><apply id="S3.SS3.p6.1.m1.1.1.cmml" xref="S3.SS3.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.1.m1.1.1.1.cmml" xref="S3.SS3.p6.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p6.1.m1.1.1.2.cmml" xref="S3.SS3.p6.1.m1.1.1.2">𝑡</ci><ci id="S3.SS3.p6.1.m1.1.1.3.cmml" xref="S3.SS3.p6.1.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p6.1.m1.1c">t_{m}</annotation></semantics></math> and <math id="S3.SS3.p6.2.m2.1" class="ltx_Math" alttext="b_{m}" display="inline"><semantics id="S3.SS3.p6.2.m2.1a"><msub id="S3.SS3.p6.2.m2.1.1" xref="S3.SS3.p6.2.m2.1.1.cmml"><mi id="S3.SS3.p6.2.m2.1.1.2" xref="S3.SS3.p6.2.m2.1.1.2.cmml">b</mi><mi id="S3.SS3.p6.2.m2.1.1.3" xref="S3.SS3.p6.2.m2.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p6.2.m2.1b"><apply id="S3.SS3.p6.2.m2.1.1.cmml" xref="S3.SS3.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.2.m2.1.1.1.cmml" xref="S3.SS3.p6.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p6.2.m2.1.1.2.cmml" xref="S3.SS3.p6.2.m2.1.1.2">𝑏</ci><ci id="S3.SS3.p6.2.m2.1.1.3.cmml" xref="S3.SS3.p6.2.m2.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p6.2.m2.1c">b_{m}</annotation></semantics></math> and let the model predict given the available context. In particular, we replace each <math id="S3.SS3.p6.3.m3.1" class="ltx_Math" alttext="t_{m}" display="inline"><semantics id="S3.SS3.p6.3.m3.1a"><msub id="S3.SS3.p6.3.m3.1.1" xref="S3.SS3.p6.3.m3.1.1.cmml"><mi id="S3.SS3.p6.3.m3.1.1.2" xref="S3.SS3.p6.3.m3.1.1.2.cmml">t</mi><mi id="S3.SS3.p6.3.m3.1.1.3" xref="S3.SS3.p6.3.m3.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p6.3.m3.1b"><apply id="S3.SS3.p6.3.m3.1.1.cmml" xref="S3.SS3.p6.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.3.m3.1.1.1.cmml" xref="S3.SS3.p6.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p6.3.m3.1.1.2.cmml" xref="S3.SS3.p6.3.m3.1.1.2">𝑡</ci><ci id="S3.SS3.p6.3.m3.1.1.3.cmml" xref="S3.SS3.p6.3.m3.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p6.3.m3.1c">t_{m}</annotation></semantics></math> with a single token <math id="S3.SS3.p6.4.m4.1" class="ltx_Math" alttext="\textless\text{text\_layout}\_l\textgreater" display="inline"><semantics id="S3.SS3.p6.4.m4.1a"><mrow id="S3.SS3.p6.4.m4.1.1.1" xref="S3.SS3.p6.4.m4.1.1.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p6.4.m4.1.1.1.2" xref="S3.SS3.p6.4.m4.1.1.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p6.4.m4.1.1.1.1" xref="S3.SS3.p6.4.m4.1.1.1.1.cmml"><mtext id="S3.SS3.p6.4.m4.1.1.1.1.2" xref="S3.SS3.p6.4.m4.1.1.1.1.2a.cmml">text_layout</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p6.4.m4.1.1.1.1.1" xref="S3.SS3.p6.4.m4.1.1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p6.4.m4.1.1.1.1.3" xref="S3.SS3.p6.4.m4.1.1.1.1.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p6.4.m4.1.1.1.1.1a" xref="S3.SS3.p6.4.m4.1.1.1.1.1.cmml">​</mo><mi id="S3.SS3.p6.4.m4.1.1.1.1.4" xref="S3.SS3.p6.4.m4.1.1.1.1.4.cmml">l</mi></mrow><mo fence="true" lspace="0em" id="S3.SS3.p6.4.m4.1.1.1.3" xref="S3.SS3.p6.4.m4.1.1.2.1.cmml">&gt;</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p6.4.m4.1b"><apply id="S3.SS3.p6.4.m4.1.1.2.cmml" xref="S3.SS3.p6.4.m4.1.1.1"><csymbol cd="latexml" id="S3.SS3.p6.4.m4.1.1.2.1.cmml" xref="S3.SS3.p6.4.m4.1.1.1.2">expectation</csymbol><apply id="S3.SS3.p6.4.m4.1.1.1.1.cmml" xref="S3.SS3.p6.4.m4.1.1.1.1"><times id="S3.SS3.p6.4.m4.1.1.1.1.1.cmml" xref="S3.SS3.p6.4.m4.1.1.1.1.1"></times><ci id="S3.SS3.p6.4.m4.1.1.1.1.2a.cmml" xref="S3.SS3.p6.4.m4.1.1.1.1.2"><mtext id="S3.SS3.p6.4.m4.1.1.1.1.2.cmml" xref="S3.SS3.p6.4.m4.1.1.1.1.2">text_layout</mtext></ci><ci id="S3.SS3.p6.4.m4.1.1.1.1.3.cmml" xref="S3.SS3.p6.4.m4.1.1.1.1.3">_</ci><ci id="S3.SS3.p6.4.m4.1.1.1.1.4.cmml" xref="S3.SS3.p6.4.m4.1.1.1.1.4">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p6.4.m4.1c">\textless\text{text\_layout}\_l\textgreater</annotation></semantics></math> and train the model to generate all of associated information <math id="S3.SS3.p6.5.m5.5" class="ltx_Math" alttext="\textless\text{text\_layout}\_l\textgreater t_{m}\textless\text{loc}\_f_{d}(x^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(x^{1}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{1}_{m})\textgreater" display="inline"><semantics id="S3.SS3.p6.5.m5.5a"><mrow id="S3.SS3.p6.5.m5.5.5" xref="S3.SS3.p6.5.m5.5.5.cmml"><mrow id="S3.SS3.p6.5.m5.1.1.1.1" xref="S3.SS3.p6.5.m5.1.1.1.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p6.5.m5.1.1.1.1.2" xref="S3.SS3.p6.5.m5.1.1.1.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p6.5.m5.1.1.1.1.1" xref="S3.SS3.p6.5.m5.1.1.1.1.1.cmml"><mtext id="S3.SS3.p6.5.m5.1.1.1.1.1.2" xref="S3.SS3.p6.5.m5.1.1.1.1.1.2a.cmml">text_layout</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.1.1.1.1.1.1" xref="S3.SS3.p6.5.m5.1.1.1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p6.5.m5.1.1.1.1.1.3" xref="S3.SS3.p6.5.m5.1.1.1.1.1.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.1.1.1.1.1.1a" xref="S3.SS3.p6.5.m5.1.1.1.1.1.1.cmml">​</mo><mi id="S3.SS3.p6.5.m5.1.1.1.1.1.4" xref="S3.SS3.p6.5.m5.1.1.1.1.1.4.cmml">l</mi></mrow><mo fence="true" lspace="0em" id="S3.SS3.p6.5.m5.1.1.1.1.3" xref="S3.SS3.p6.5.m5.1.1.1.2.1.cmml">&gt;</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.5.5.6" xref="S3.SS3.p6.5.m5.5.5.6.cmml">​</mo><msub id="S3.SS3.p6.5.m5.5.5.7" xref="S3.SS3.p6.5.m5.5.5.7.cmml"><mi id="S3.SS3.p6.5.m5.5.5.7.2" xref="S3.SS3.p6.5.m5.5.5.7.2.cmml">t</mi><mi id="S3.SS3.p6.5.m5.5.5.7.3" xref="S3.SS3.p6.5.m5.5.5.7.3.cmml">m</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.5.5.6a" xref="S3.SS3.p6.5.m5.5.5.6.cmml">​</mo><mrow id="S3.SS3.p6.5.m5.2.2.2.1" xref="S3.SS3.p6.5.m5.2.2.2.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p6.5.m5.2.2.2.1.2" xref="S3.SS3.p6.5.m5.2.2.2.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p6.5.m5.2.2.2.1.1" xref="S3.SS3.p6.5.m5.2.2.2.1.1.cmml"><mtext id="S3.SS3.p6.5.m5.2.2.2.1.1.3" xref="S3.SS3.p6.5.m5.2.2.2.1.1.3a.cmml">loc</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.2.2.2.1.1.2" xref="S3.SS3.p6.5.m5.2.2.2.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p6.5.m5.2.2.2.1.1.4" xref="S3.SS3.p6.5.m5.2.2.2.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.2.2.2.1.1.2a" xref="S3.SS3.p6.5.m5.2.2.2.1.1.2.cmml">​</mo><msub id="S3.SS3.p6.5.m5.2.2.2.1.1.5" xref="S3.SS3.p6.5.m5.2.2.2.1.1.5.cmml"><mi id="S3.SS3.p6.5.m5.2.2.2.1.1.5.2" xref="S3.SS3.p6.5.m5.2.2.2.1.1.5.2.cmml">f</mi><mi id="S3.SS3.p6.5.m5.2.2.2.1.1.5.3" xref="S3.SS3.p6.5.m5.2.2.2.1.1.5.3.cmml">d</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.2.2.2.1.1.2b" xref="S3.SS3.p6.5.m5.2.2.2.1.1.2.cmml">​</mo><mrow id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.2" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.cmml"><mi id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.2.2" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.3" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.3.cmml">m</mi><mn id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.2.3" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.2.3.cmml">0</mn></msubsup><mo stretchy="false" id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.3" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo fence="true" lspace="0em" id="S3.SS3.p6.5.m5.2.2.2.1.3" xref="S3.SS3.p6.5.m5.2.2.2.2.1.cmml">&gt;</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.5.5.6b" xref="S3.SS3.p6.5.m5.5.5.6.cmml">​</mo><mrow id="S3.SS3.p6.5.m5.3.3.3.1" xref="S3.SS3.p6.5.m5.3.3.3.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p6.5.m5.3.3.3.1.2" xref="S3.SS3.p6.5.m5.3.3.3.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p6.5.m5.3.3.3.1.1" xref="S3.SS3.p6.5.m5.3.3.3.1.1.cmml"><mtext id="S3.SS3.p6.5.m5.3.3.3.1.1.3" xref="S3.SS3.p6.5.m5.3.3.3.1.1.3a.cmml">loc</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.3.3.3.1.1.2" xref="S3.SS3.p6.5.m5.3.3.3.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p6.5.m5.3.3.3.1.1.4" xref="S3.SS3.p6.5.m5.3.3.3.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.3.3.3.1.1.2a" xref="S3.SS3.p6.5.m5.3.3.3.1.1.2.cmml">​</mo><msub id="S3.SS3.p6.5.m5.3.3.3.1.1.5" xref="S3.SS3.p6.5.m5.3.3.3.1.1.5.cmml"><mi id="S3.SS3.p6.5.m5.3.3.3.1.1.5.2" xref="S3.SS3.p6.5.m5.3.3.3.1.1.5.2.cmml">f</mi><mi id="S3.SS3.p6.5.m5.3.3.3.1.1.5.3" xref="S3.SS3.p6.5.m5.3.3.3.1.1.5.3.cmml">d</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.3.3.3.1.1.2b" xref="S3.SS3.p6.5.m5.3.3.3.1.1.2.cmml">​</mo><mrow id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.2" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.cmml"><mi id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.2.2" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.3" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.3.cmml">m</mi><mn id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.2.3" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.2.3.cmml">0</mn></msubsup><mo stretchy="false" id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.3" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo fence="true" lspace="0em" id="S3.SS3.p6.5.m5.3.3.3.1.3" xref="S3.SS3.p6.5.m5.3.3.3.2.1.cmml">&gt;</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.5.5.6c" xref="S3.SS3.p6.5.m5.5.5.6.cmml">​</mo><mrow id="S3.SS3.p6.5.m5.4.4.4.1" xref="S3.SS3.p6.5.m5.4.4.4.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p6.5.m5.4.4.4.1.2" xref="S3.SS3.p6.5.m5.4.4.4.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p6.5.m5.4.4.4.1.1" xref="S3.SS3.p6.5.m5.4.4.4.1.1.cmml"><mtext id="S3.SS3.p6.5.m5.4.4.4.1.1.3" xref="S3.SS3.p6.5.m5.4.4.4.1.1.3a.cmml">loc</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.4.4.4.1.1.2" xref="S3.SS3.p6.5.m5.4.4.4.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p6.5.m5.4.4.4.1.1.4" xref="S3.SS3.p6.5.m5.4.4.4.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.4.4.4.1.1.2a" xref="S3.SS3.p6.5.m5.4.4.4.1.1.2.cmml">​</mo><msub id="S3.SS3.p6.5.m5.4.4.4.1.1.5" xref="S3.SS3.p6.5.m5.4.4.4.1.1.5.cmml"><mi id="S3.SS3.p6.5.m5.4.4.4.1.1.5.2" xref="S3.SS3.p6.5.m5.4.4.4.1.1.5.2.cmml">f</mi><mi id="S3.SS3.p6.5.m5.4.4.4.1.1.5.3" xref="S3.SS3.p6.5.m5.4.4.4.1.1.5.3.cmml">d</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.4.4.4.1.1.2b" xref="S3.SS3.p6.5.m5.4.4.4.1.1.2.cmml">​</mo><mrow id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.2" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.cmml"><mi id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.2.2" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.3" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.3.cmml">m</mi><mn id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.2.3" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.2.3.cmml">1</mn></msubsup><mo stretchy="false" id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.3" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo fence="true" lspace="0em" id="S3.SS3.p6.5.m5.4.4.4.1.3" xref="S3.SS3.p6.5.m5.4.4.4.2.1.cmml">&gt;</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.5.5.6d" xref="S3.SS3.p6.5.m5.5.5.6.cmml">​</mo><mrow id="S3.SS3.p6.5.m5.5.5.5.1" xref="S3.SS3.p6.5.m5.5.5.5.2.cmml"><mo fence="true" rspace="0em" id="S3.SS3.p6.5.m5.5.5.5.1.2" xref="S3.SS3.p6.5.m5.5.5.5.2.1.cmml">&lt;</mo><mrow id="S3.SS3.p6.5.m5.5.5.5.1.1" xref="S3.SS3.p6.5.m5.5.5.5.1.1.cmml"><mtext id="S3.SS3.p6.5.m5.5.5.5.1.1.3" xref="S3.SS3.p6.5.m5.5.5.5.1.1.3a.cmml">loc</mtext><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.5.5.5.1.1.2" xref="S3.SS3.p6.5.m5.5.5.5.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S3.SS3.p6.5.m5.5.5.5.1.1.4" xref="S3.SS3.p6.5.m5.5.5.5.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.5.5.5.1.1.2a" xref="S3.SS3.p6.5.m5.5.5.5.1.1.2.cmml">​</mo><msub id="S3.SS3.p6.5.m5.5.5.5.1.1.5" xref="S3.SS3.p6.5.m5.5.5.5.1.1.5.cmml"><mi id="S3.SS3.p6.5.m5.5.5.5.1.1.5.2" xref="S3.SS3.p6.5.m5.5.5.5.1.1.5.2.cmml">f</mi><mi id="S3.SS3.p6.5.m5.5.5.5.1.1.5.3" xref="S3.SS3.p6.5.m5.5.5.5.1.1.5.3.cmml">d</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p6.5.m5.5.5.5.1.1.2b" xref="S3.SS3.p6.5.m5.5.5.5.1.1.2.cmml">​</mo><mrow id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.2" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.cmml"><mi id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.2.2" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.3" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.3.cmml">m</mi><mn id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.2.3" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.2.3.cmml">1</mn></msubsup><mo stretchy="false" id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.3" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo fence="true" lspace="0em" id="S3.SS3.p6.5.m5.5.5.5.1.3" xref="S3.SS3.p6.5.m5.5.5.5.2.1.cmml">&gt;</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p6.5.m5.5b"><apply id="S3.SS3.p6.5.m5.5.5.cmml" xref="S3.SS3.p6.5.m5.5.5"><times id="S3.SS3.p6.5.m5.5.5.6.cmml" xref="S3.SS3.p6.5.m5.5.5.6"></times><apply id="S3.SS3.p6.5.m5.1.1.1.2.cmml" xref="S3.SS3.p6.5.m5.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p6.5.m5.1.1.1.2.1.cmml" xref="S3.SS3.p6.5.m5.1.1.1.1.2">expectation</csymbol><apply id="S3.SS3.p6.5.m5.1.1.1.1.1.cmml" xref="S3.SS3.p6.5.m5.1.1.1.1.1"><times id="S3.SS3.p6.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS3.p6.5.m5.1.1.1.1.1.1"></times><ci id="S3.SS3.p6.5.m5.1.1.1.1.1.2a.cmml" xref="S3.SS3.p6.5.m5.1.1.1.1.1.2"><mtext id="S3.SS3.p6.5.m5.1.1.1.1.1.2.cmml" xref="S3.SS3.p6.5.m5.1.1.1.1.1.2">text_layout</mtext></ci><ci id="S3.SS3.p6.5.m5.1.1.1.1.1.3.cmml" xref="S3.SS3.p6.5.m5.1.1.1.1.1.3">_</ci><ci id="S3.SS3.p6.5.m5.1.1.1.1.1.4.cmml" xref="S3.SS3.p6.5.m5.1.1.1.1.1.4">𝑙</ci></apply></apply><apply id="S3.SS3.p6.5.m5.5.5.7.cmml" xref="S3.SS3.p6.5.m5.5.5.7"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.5.5.7.1.cmml" xref="S3.SS3.p6.5.m5.5.5.7">subscript</csymbol><ci id="S3.SS3.p6.5.m5.5.5.7.2.cmml" xref="S3.SS3.p6.5.m5.5.5.7.2">𝑡</ci><ci id="S3.SS3.p6.5.m5.5.5.7.3.cmml" xref="S3.SS3.p6.5.m5.5.5.7.3">𝑚</ci></apply><apply id="S3.SS3.p6.5.m5.2.2.2.2.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1"><csymbol cd="latexml" id="S3.SS3.p6.5.m5.2.2.2.2.1.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.2">expectation</csymbol><apply id="S3.SS3.p6.5.m5.2.2.2.1.1.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1"><times id="S3.SS3.p6.5.m5.2.2.2.1.1.2.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.2"></times><ci id="S3.SS3.p6.5.m5.2.2.2.1.1.3a.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.3"><mtext id="S3.SS3.p6.5.m5.2.2.2.1.1.3.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.3">loc</mtext></ci><ci id="S3.SS3.p6.5.m5.2.2.2.1.1.4.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.4">_</ci><apply id="S3.SS3.p6.5.m5.2.2.2.1.1.5.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.5"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.2.2.2.1.1.5.1.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.5">subscript</csymbol><ci id="S3.SS3.p6.5.m5.2.2.2.1.1.5.2.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.5.2">𝑓</ci><ci id="S3.SS3.p6.5.m5.2.2.2.1.1.5.3.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.5.3">𝑑</ci></apply><apply id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.1.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1">subscript</csymbol><apply id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.2.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1">superscript</csymbol><ci id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.2.2">𝑥</ci><cn type="integer" id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.2.3">0</cn></apply><ci id="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.3.cmml" xref="S3.SS3.p6.5.m5.2.2.2.1.1.1.1.1.3">𝑚</ci></apply></apply></apply><apply id="S3.SS3.p6.5.m5.3.3.3.2.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1"><csymbol cd="latexml" id="S3.SS3.p6.5.m5.3.3.3.2.1.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.2">expectation</csymbol><apply id="S3.SS3.p6.5.m5.3.3.3.1.1.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1"><times id="S3.SS3.p6.5.m5.3.3.3.1.1.2.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.2"></times><ci id="S3.SS3.p6.5.m5.3.3.3.1.1.3a.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.3"><mtext id="S3.SS3.p6.5.m5.3.3.3.1.1.3.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.3">loc</mtext></ci><ci id="S3.SS3.p6.5.m5.3.3.3.1.1.4.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.4">_</ci><apply id="S3.SS3.p6.5.m5.3.3.3.1.1.5.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.5"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.3.3.3.1.1.5.1.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.5">subscript</csymbol><ci id="S3.SS3.p6.5.m5.3.3.3.1.1.5.2.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.5.2">𝑓</ci><ci id="S3.SS3.p6.5.m5.3.3.3.1.1.5.3.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.5.3">𝑑</ci></apply><apply id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.1.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1">subscript</csymbol><apply id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.2.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1">superscript</csymbol><ci id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.2.2">𝑦</ci><cn type="integer" id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.2.3">0</cn></apply><ci id="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.3.cmml" xref="S3.SS3.p6.5.m5.3.3.3.1.1.1.1.1.3">𝑚</ci></apply></apply></apply><apply id="S3.SS3.p6.5.m5.4.4.4.2.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1"><csymbol cd="latexml" id="S3.SS3.p6.5.m5.4.4.4.2.1.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.2">expectation</csymbol><apply id="S3.SS3.p6.5.m5.4.4.4.1.1.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1"><times id="S3.SS3.p6.5.m5.4.4.4.1.1.2.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.2"></times><ci id="S3.SS3.p6.5.m5.4.4.4.1.1.3a.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.3"><mtext id="S3.SS3.p6.5.m5.4.4.4.1.1.3.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.3">loc</mtext></ci><ci id="S3.SS3.p6.5.m5.4.4.4.1.1.4.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.4">_</ci><apply id="S3.SS3.p6.5.m5.4.4.4.1.1.5.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.5"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.4.4.4.1.1.5.1.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.5">subscript</csymbol><ci id="S3.SS3.p6.5.m5.4.4.4.1.1.5.2.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.5.2">𝑓</ci><ci id="S3.SS3.p6.5.m5.4.4.4.1.1.5.3.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.5.3">𝑑</ci></apply><apply id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.1.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1">subscript</csymbol><apply id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.2.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1">superscript</csymbol><ci id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.2.2">𝑥</ci><cn type="integer" id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.2.3">1</cn></apply><ci id="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.3.cmml" xref="S3.SS3.p6.5.m5.4.4.4.1.1.1.1.1.3">𝑚</ci></apply></apply></apply><apply id="S3.SS3.p6.5.m5.5.5.5.2.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1"><csymbol cd="latexml" id="S3.SS3.p6.5.m5.5.5.5.2.1.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.2">expectation</csymbol><apply id="S3.SS3.p6.5.m5.5.5.5.1.1.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1"><times id="S3.SS3.p6.5.m5.5.5.5.1.1.2.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.2"></times><ci id="S3.SS3.p6.5.m5.5.5.5.1.1.3a.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.3"><mtext id="S3.SS3.p6.5.m5.5.5.5.1.1.3.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.3">loc</mtext></ci><ci id="S3.SS3.p6.5.m5.5.5.5.1.1.4.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.4">_</ci><apply id="S3.SS3.p6.5.m5.5.5.5.1.1.5.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.5"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.5.5.5.1.1.5.1.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.5">subscript</csymbol><ci id="S3.SS3.p6.5.m5.5.5.5.1.1.5.2.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.5.2">𝑓</ci><ci id="S3.SS3.p6.5.m5.5.5.5.1.1.5.3.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.5.3">𝑑</ci></apply><apply id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.1.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1">subscript</csymbol><apply id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.2.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1">superscript</csymbol><ci id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.2.2">𝑦</ci><cn type="integer" id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.2.3">1</cn></apply><ci id="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.3.cmml" xref="S3.SS3.p6.5.m5.5.5.5.1.1.1.1.1.3">𝑚</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p6.5.m5.5c">\textless\text{text\_layout}\_l\textgreater t_{m}\textless\text{loc}\_f_{d}(x^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{0}_{m})\textgreater\textless\text{loc}\_f_{d}(x^{1}_{m})\textgreater\textless\text{loc}\_f_{d}(y^{1}_{m})\textgreater</annotation></semantics></math>. We set <math id="S3.SS3.p6.6.m6.1" class="ltx_Math" alttext="p_{m}=0.15" display="inline"><semantics id="S3.SS3.p6.6.m6.1a"><mrow id="S3.SS3.p6.6.m6.1.1" xref="S3.SS3.p6.6.m6.1.1.cmml"><msub id="S3.SS3.p6.6.m6.1.1.2" xref="S3.SS3.p6.6.m6.1.1.2.cmml"><mi id="S3.SS3.p6.6.m6.1.1.2.2" xref="S3.SS3.p6.6.m6.1.1.2.2.cmml">p</mi><mi id="S3.SS3.p6.6.m6.1.1.2.3" xref="S3.SS3.p6.6.m6.1.1.2.3.cmml">m</mi></msub><mo id="S3.SS3.p6.6.m6.1.1.1" xref="S3.SS3.p6.6.m6.1.1.1.cmml">=</mo><mn id="S3.SS3.p6.6.m6.1.1.3" xref="S3.SS3.p6.6.m6.1.1.3.cmml">0.15</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p6.6.m6.1b"><apply id="S3.SS3.p6.6.m6.1.1.cmml" xref="S3.SS3.p6.6.m6.1.1"><eq id="S3.SS3.p6.6.m6.1.1.1.cmml" xref="S3.SS3.p6.6.m6.1.1.1"></eq><apply id="S3.SS3.p6.6.m6.1.1.2.cmml" xref="S3.SS3.p6.6.m6.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p6.6.m6.1.1.2.1.cmml" xref="S3.SS3.p6.6.m6.1.1.2">subscript</csymbol><ci id="S3.SS3.p6.6.m6.1.1.2.2.cmml" xref="S3.SS3.p6.6.m6.1.1.2.2">𝑝</ci><ci id="S3.SS3.p6.6.m6.1.1.2.3.cmml" xref="S3.SS3.p6.6.m6.1.1.2.3">𝑚</ci></apply><cn type="float" id="S3.SS3.p6.6.m6.1.1.3.cmml" xref="S3.SS3.p6.6.m6.1.1.3">0.15</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p6.6.m6.1c">p_{m}=0.15</annotation></semantics></math> and <math id="S3.SS3.p6.7.m7.1" class="ltx_Math" alttext="L_{M}=100" display="inline"><semantics id="S3.SS3.p6.7.m7.1a"><mrow id="S3.SS3.p6.7.m7.1.1" xref="S3.SS3.p6.7.m7.1.1.cmml"><msub id="S3.SS3.p6.7.m7.1.1.2" xref="S3.SS3.p6.7.m7.1.1.2.cmml"><mi id="S3.SS3.p6.7.m7.1.1.2.2" xref="S3.SS3.p6.7.m7.1.1.2.2.cmml">L</mi><mi id="S3.SS3.p6.7.m7.1.1.2.3" xref="S3.SS3.p6.7.m7.1.1.2.3.cmml">M</mi></msub><mo id="S3.SS3.p6.7.m7.1.1.1" xref="S3.SS3.p6.7.m7.1.1.1.cmml">=</mo><mn id="S3.SS3.p6.7.m7.1.1.3" xref="S3.SS3.p6.7.m7.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p6.7.m7.1b"><apply id="S3.SS3.p6.7.m7.1.1.cmml" xref="S3.SS3.p6.7.m7.1.1"><eq id="S3.SS3.p6.7.m7.1.1.1.cmml" xref="S3.SS3.p6.7.m7.1.1.1"></eq><apply id="S3.SS3.p6.7.m7.1.1.2.cmml" xref="S3.SS3.p6.7.m7.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p6.7.m7.1.1.2.1.cmml" xref="S3.SS3.p6.7.m7.1.1.2">subscript</csymbol><ci id="S3.SS3.p6.7.m7.1.1.2.2.cmml" xref="S3.SS3.p6.7.m7.1.1.2.2">𝐿</ci><ci id="S3.SS3.p6.7.m7.1.1.2.3.cmml" xref="S3.SS3.p6.7.m7.1.1.2.3">𝑀</ci></apply><cn type="integer" id="S3.SS3.p6.7.m7.1.1.3.cmml" xref="S3.SS3.p6.7.m7.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p6.7.m7.1c">L_{M}=100</annotation></semantics></math> for this task.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experimental Setup</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Dataset Selection</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">Real-world FL involves training the model on client’s data which are generated from different distributions. A real-world example might involve considering each client as the datacenter of a different business, where documents with specific content, layout, query types etc are treated.
To this end, we consider making use of existing datasets of different QA types, which indeed share the same document-based reasoning structure.
We choose one dataset as representative for each type of QA task to strengthen the data heterogeneity in our FL setting. We prioritise datasets that can be recast as end-to-end document-based QA. The datasets used are the following:
</p>
</div>
<div id="S4.SS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">DocVQA</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>. A large-scale dataset comprising mostly extractive Visual QAs on single-page real-world administrative document images that include tables, forms, figures etc. Several data curation and quality control steps ensure a high quality and diversity across documents and questions.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para ltx_noindent">
<p id="S4.SS1.p3.1" class="ltx_p"><span id="S4.SS1.p3.1.1" class="ltx_text ltx_font_bold">WikiTableQuestions(WTQ)</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>. This Table QA dataset comprises a collection of logical questions over HTML tables sourced from Wikipedia. The complexity of the questions demands semi-structured document understanding, compositional reasoning on a series of the table’s entries, including a variety of operations such as comparison, aggregation, etc.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para ltx_noindent">
<p id="S4.SS1.p4.1" class="ltx_p"><span id="S4.SS1.p4.1.1" class="ltx_text ltx_font_bold">TabFact</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. A big Natural Language Inference (NLI) dataset with high-quality human annotations is designed for the task of fact verification given evidence in the form of Wikipedia tables, graphs, etc. Despite its binary classification nature with <span id="S4.SS1.p4.1.2" class="ltx_text ltx_font_italic">yes/no</span> answers, verifying whether a textual hypothesis is entailed or refuted based on the evidence, as an query, requires complex linguistic and symbolic reasoning capabilities.</p>
</div>
<div id="S4.SS1.p5" class="ltx_para">
<p id="S4.SS1.p5.1" class="ltx_p">Table <a href="#S4.T1" title="Table 1 ‣ 4.1 Dataset Selection ‣ 4 Experimental Setup ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> provides the properties of selected datasets in terms of their size, task and evaluation metric. For more details of these datasets, we refer the readers to the original papers. We make use of the official split provided for each dataset.
We follow the task processing, reformulation and data split as outlined in the DUE benchmark <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> to make all the tasks aligned with the DU paradigm. Particularly, we unify all training data into the triplet (document image, question, answer) format. In addition, annotations are partly inherited from DUE, including: document image, question/answer, OCR tokens, while the normalized bounding boxes are generated the same way as in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<table id="S4.T1.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.2.1.1" class="ltx_tr">
<th id="S4.T1.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" rowspan="2"><span id="S4.T1.2.1.1.1.1" class="ltx_text">Dataset</span></th>
<th id="S4.T1.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" rowspan="2"><span id="S4.T1.2.1.1.2.1" class="ltx_text">QA Type</span></th>
<th id="S4.T1.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2">train</th>
<th id="S4.T1.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2">val</th>
<th id="S4.T1.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2">test</th>
<th id="S4.T1.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2">total</th>
<th id="S4.T1.2.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" rowspan="2"><span id="S4.T1.2.1.1.7.1" class="ltx_text">Metric</span></th>
</tr>
<tr id="S4.T1.2.2.2" class="ltx_tr">
<th id="S4.T1.2.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">#D</th>
<th id="S4.T1.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">#Q</th>
<th id="S4.T1.2.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">#D</th>
<th id="S4.T1.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">#Q</th>
<th id="S4.T1.2.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">#D</th>
<th id="S4.T1.2.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">#Q</th>
<th id="S4.T1.2.2.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">#D</th>
<th id="S4.T1.2.2.2.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">#Q</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.2.3.1" class="ltx_tr">
<th id="S4.T1.2.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">WTQ</th>
<td id="S4.T1.2.3.1.2" class="ltx_td ltx_align_center ltx_border_t">Table QA</td>
<td id="S4.T1.2.3.1.3" class="ltx_td ltx_align_center ltx_border_t">1.3</td>
<td id="S4.T1.2.3.1.4" class="ltx_td ltx_align_center ltx_border_t">14.2</td>
<td id="S4.T1.2.3.1.5" class="ltx_td ltx_align_center ltx_border_t">0.3</td>
<td id="S4.T1.2.3.1.6" class="ltx_td ltx_align_center ltx_border_t">3.5</td>
<td id="S4.T1.2.3.1.7" class="ltx_td ltx_align_center ltx_border_t">0.4</td>
<td id="S4.T1.2.3.1.8" class="ltx_td ltx_align_center ltx_border_t">4.3</td>
<td id="S4.T1.2.3.1.9" class="ltx_td ltx_align_center ltx_border_t">2.1</td>
<td id="S4.T1.2.3.1.10" class="ltx_td ltx_align_center ltx_border_t">21.9</td>
<td id="S4.T1.2.3.1.11" class="ltx_td ltx_align_center ltx_border_t">anls</td>
</tr>
<tr id="S4.T1.2.4.2" class="ltx_tr">
<th id="S4.T1.2.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">DocVQA</th>
<td id="S4.T1.2.4.2.2" class="ltx_td ltx_align_center">Visual QA</td>
<td id="S4.T1.2.4.2.3" class="ltx_td ltx_align_center">10.2</td>
<td id="S4.T1.2.4.2.4" class="ltx_td ltx_align_center">39.4</td>
<td id="S4.T1.2.4.2.5" class="ltx_td ltx_align_center">1.3</td>
<td id="S4.T1.2.4.2.6" class="ltx_td ltx_align_center">5.4</td>
<td id="S4.T1.2.4.2.7" class="ltx_td ltx_align_center">1.3</td>
<td id="S4.T1.2.4.2.8" class="ltx_td ltx_align_center">5.2</td>
<td id="S4.T1.2.4.2.9" class="ltx_td ltx_align_center">12.8</td>
<td id="S4.T1.2.4.2.10" class="ltx_td ltx_align_center">49.9</td>
<td id="S4.T1.2.4.2.11" class="ltx_td ltx_align_center">anls</td>
</tr>
<tr id="S4.T1.2.5.3" class="ltx_tr">
<th id="S4.T1.2.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">TabFact</th>
<td id="S4.T1.2.5.3.2" class="ltx_td ltx_align_center ltx_border_bb">Table NLI</td>
<td id="S4.T1.2.5.3.3" class="ltx_td ltx_align_center ltx_border_bb">13.2</td>
<td id="S4.T1.2.5.3.4" class="ltx_td ltx_align_center ltx_border_bb">91.8</td>
<td id="S4.T1.2.5.3.5" class="ltx_td ltx_align_center ltx_border_bb">1.7</td>
<td id="S4.T1.2.5.3.6" class="ltx_td ltx_align_center ltx_border_bb">12.7</td>
<td id="S4.T1.2.5.3.7" class="ltx_td ltx_align_center ltx_border_bb">1.7</td>
<td id="S4.T1.2.5.3.8" class="ltx_td ltx_align_center ltx_border_bb">12.7</td>
<td id="S4.T1.2.5.3.9" class="ltx_td ltx_align_center ltx_border_bb">16.6</td>
<td id="S4.T1.2.5.3.10" class="ltx_td ltx_align_center ltx_border_bb">117.2</td>
<td id="S4.T1.2.5.3.11" class="ltx_td ltx_align_center ltx_border_bb">accuracy</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.4.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S4.T1.5.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Summary of existing QA datasets<span id="S4.T1.5.2.1" class="ltx_text ltx_font_medium">, following the reformulation and split provided from DUE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. #D/#Q denotes number of documents/questions in each dataset respectively. Numbers are reported in thousands.</span></span></figcaption>
</figure>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Data Partition</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.7" class="ltx_p">In FeDocVQA, we assume that the training examples of each client are disjoint subsets of documents from <span id="S4.SS2.p1.7.1" class="ltx_text ltx_font_italic">one single dataset</span>. To synthesize a population of non-identical <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">K</annotation></semantics></math> clients, for each dataset <math id="S4.SS2.p1.2.m2.3" class="ltx_Math" alttext="D_{doc}\in\{D_{WTQ};D_{DocVQA};D_{TabFact}\}" display="inline"><semantics id="S4.SS2.p1.2.m2.3a"><mrow id="S4.SS2.p1.2.m2.3.3" xref="S4.SS2.p1.2.m2.3.3.cmml"><msub id="S4.SS2.p1.2.m2.3.3.5" xref="S4.SS2.p1.2.m2.3.3.5.cmml"><mi id="S4.SS2.p1.2.m2.3.3.5.2" xref="S4.SS2.p1.2.m2.3.3.5.2.cmml">D</mi><mrow id="S4.SS2.p1.2.m2.3.3.5.3" xref="S4.SS2.p1.2.m2.3.3.5.3.cmml"><mi id="S4.SS2.p1.2.m2.3.3.5.3.2" xref="S4.SS2.p1.2.m2.3.3.5.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.3.3.5.3.1" xref="S4.SS2.p1.2.m2.3.3.5.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.3.3.5.3.3" xref="S4.SS2.p1.2.m2.3.3.5.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.3.3.5.3.1a" xref="S4.SS2.p1.2.m2.3.3.5.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.3.3.5.3.4" xref="S4.SS2.p1.2.m2.3.3.5.3.4.cmml">c</mi></mrow></msub><mo id="S4.SS2.p1.2.m2.3.3.4" xref="S4.SS2.p1.2.m2.3.3.4.cmml">∈</mo><mrow id="S4.SS2.p1.2.m2.3.3.3.3" xref="S4.SS2.p1.2.m2.3.3.3.4.cmml"><mo stretchy="false" id="S4.SS2.p1.2.m2.3.3.3.3.4" xref="S4.SS2.p1.2.m2.3.3.3.4.cmml">{</mo><msub id="S4.SS2.p1.2.m2.1.1.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.1.1.cmml"><mi id="S4.SS2.p1.2.m2.1.1.1.1.1.2" xref="S4.SS2.p1.2.m2.1.1.1.1.1.2.cmml">D</mi><mrow id="S4.SS2.p1.2.m2.1.1.1.1.1.3" xref="S4.SS2.p1.2.m2.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p1.2.m2.1.1.1.1.1.3.2" xref="S4.SS2.p1.2.m2.1.1.1.1.1.3.2.cmml">W</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.1.1.1.1.1.3.1" xref="S4.SS2.p1.2.m2.1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.1.1.1.1.1.3.3" xref="S4.SS2.p1.2.m2.1.1.1.1.1.3.3.cmml">T</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.1.1.1.1.1.3.1a" xref="S4.SS2.p1.2.m2.1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.1.1.1.1.1.3.4" xref="S4.SS2.p1.2.m2.1.1.1.1.1.3.4.cmml">Q</mi></mrow></msub><mo id="S4.SS2.p1.2.m2.3.3.3.3.5" xref="S4.SS2.p1.2.m2.3.3.3.4.cmml">;</mo><msub id="S4.SS2.p1.2.m2.2.2.2.2.2" xref="S4.SS2.p1.2.m2.2.2.2.2.2.cmml"><mi id="S4.SS2.p1.2.m2.2.2.2.2.2.2" xref="S4.SS2.p1.2.m2.2.2.2.2.2.2.cmml">D</mi><mrow id="S4.SS2.p1.2.m2.2.2.2.2.2.3" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.cmml"><mi id="S4.SS2.p1.2.m2.2.2.2.2.2.3.2" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.2.2.2.2.2.3.1" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.2.2.2.2.2.3.3" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.2.2.2.2.2.3.1a" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.2.2.2.2.2.3.4" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.2.2.2.2.2.3.1b" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.2.2.2.2.2.3.5" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.5.cmml">V</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.2.2.2.2.2.3.1c" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.2.2.2.2.2.3.6" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.6.cmml">Q</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.2.2.2.2.2.3.1d" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.2.2.2.2.2.3.7" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.7.cmml">A</mi></mrow></msub><mo id="S4.SS2.p1.2.m2.3.3.3.3.6" xref="S4.SS2.p1.2.m2.3.3.3.4.cmml">;</mo><msub id="S4.SS2.p1.2.m2.3.3.3.3.3" xref="S4.SS2.p1.2.m2.3.3.3.3.3.cmml"><mi id="S4.SS2.p1.2.m2.3.3.3.3.3.2" xref="S4.SS2.p1.2.m2.3.3.3.3.3.2.cmml">D</mi><mrow id="S4.SS2.p1.2.m2.3.3.3.3.3.3" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.cmml"><mi id="S4.SS2.p1.2.m2.3.3.3.3.3.3.2" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.2.cmml">T</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.3.3.3.3.3.3.1" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.3.3.3.3.3.3.3" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.3.3.3.3.3.3.1a" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.3.3.3.3.3.3.4" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.3.3.3.3.3.3.1b" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.3.3.3.3.3.3.5" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.5.cmml">F</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.3.3.3.3.3.3.1c" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.3.3.3.3.3.3.6" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.3.3.3.3.3.3.1d" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.3.3.3.3.3.3.7" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.7.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.2.m2.3.3.3.3.3.3.1e" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.2.m2.3.3.3.3.3.3.8" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.8.cmml">t</mi></mrow></msub><mo stretchy="false" id="S4.SS2.p1.2.m2.3.3.3.3.7" xref="S4.SS2.p1.2.m2.3.3.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.3b"><apply id="S4.SS2.p1.2.m2.3.3.cmml" xref="S4.SS2.p1.2.m2.3.3"><in id="S4.SS2.p1.2.m2.3.3.4.cmml" xref="S4.SS2.p1.2.m2.3.3.4"></in><apply id="S4.SS2.p1.2.m2.3.3.5.cmml" xref="S4.SS2.p1.2.m2.3.3.5"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.3.3.5.1.cmml" xref="S4.SS2.p1.2.m2.3.3.5">subscript</csymbol><ci id="S4.SS2.p1.2.m2.3.3.5.2.cmml" xref="S4.SS2.p1.2.m2.3.3.5.2">𝐷</ci><apply id="S4.SS2.p1.2.m2.3.3.5.3.cmml" xref="S4.SS2.p1.2.m2.3.3.5.3"><times id="S4.SS2.p1.2.m2.3.3.5.3.1.cmml" xref="S4.SS2.p1.2.m2.3.3.5.3.1"></times><ci id="S4.SS2.p1.2.m2.3.3.5.3.2.cmml" xref="S4.SS2.p1.2.m2.3.3.5.3.2">𝑑</ci><ci id="S4.SS2.p1.2.m2.3.3.5.3.3.cmml" xref="S4.SS2.p1.2.m2.3.3.5.3.3">𝑜</ci><ci id="S4.SS2.p1.2.m2.3.3.5.3.4.cmml" xref="S4.SS2.p1.2.m2.3.3.5.3.4">𝑐</ci></apply></apply><list id="S4.SS2.p1.2.m2.3.3.3.4.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3"><apply id="S4.SS2.p1.2.m2.1.1.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.p1.2.m2.1.1.1.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1.2">𝐷</ci><apply id="S4.SS2.p1.2.m2.1.1.1.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1.3"><times id="S4.SS2.p1.2.m2.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1.3.1"></times><ci id="S4.SS2.p1.2.m2.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1.3.2">𝑊</ci><ci id="S4.SS2.p1.2.m2.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1.3.3">𝑇</ci><ci id="S4.SS2.p1.2.m2.1.1.1.1.1.3.4.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1.3.4">𝑄</ci></apply></apply><apply id="S4.SS2.p1.2.m2.2.2.2.2.2.cmml" xref="S4.SS2.p1.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.2.2.2.2.2.1.cmml" xref="S4.SS2.p1.2.m2.2.2.2.2.2">subscript</csymbol><ci id="S4.SS2.p1.2.m2.2.2.2.2.2.2.cmml" xref="S4.SS2.p1.2.m2.2.2.2.2.2.2">𝐷</ci><apply id="S4.SS2.p1.2.m2.2.2.2.2.2.3.cmml" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3"><times id="S4.SS2.p1.2.m2.2.2.2.2.2.3.1.cmml" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.1"></times><ci id="S4.SS2.p1.2.m2.2.2.2.2.2.3.2.cmml" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.2">𝐷</ci><ci id="S4.SS2.p1.2.m2.2.2.2.2.2.3.3.cmml" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.3">𝑜</ci><ci id="S4.SS2.p1.2.m2.2.2.2.2.2.3.4.cmml" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.4">𝑐</ci><ci id="S4.SS2.p1.2.m2.2.2.2.2.2.3.5.cmml" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.5">𝑉</ci><ci id="S4.SS2.p1.2.m2.2.2.2.2.2.3.6.cmml" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.6">𝑄</ci><ci id="S4.SS2.p1.2.m2.2.2.2.2.2.3.7.cmml" xref="S4.SS2.p1.2.m2.2.2.2.2.2.3.7">𝐴</ci></apply></apply><apply id="S4.SS2.p1.2.m2.3.3.3.3.3.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.3.3.3.3.3.1.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3">subscript</csymbol><ci id="S4.SS2.p1.2.m2.3.3.3.3.3.2.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3.2">𝐷</ci><apply id="S4.SS2.p1.2.m2.3.3.3.3.3.3.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3"><times id="S4.SS2.p1.2.m2.3.3.3.3.3.3.1.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.1"></times><ci id="S4.SS2.p1.2.m2.3.3.3.3.3.3.2.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.2">𝑇</ci><ci id="S4.SS2.p1.2.m2.3.3.3.3.3.3.3.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.3">𝑎</ci><ci id="S4.SS2.p1.2.m2.3.3.3.3.3.3.4.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.4">𝑏</ci><ci id="S4.SS2.p1.2.m2.3.3.3.3.3.3.5.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.5">𝐹</ci><ci id="S4.SS2.p1.2.m2.3.3.3.3.3.3.6.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.6">𝑎</ci><ci id="S4.SS2.p1.2.m2.3.3.3.3.3.3.7.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.7">𝑐</ci><ci id="S4.SS2.p1.2.m2.3.3.3.3.3.3.8.cmml" xref="S4.SS2.p1.2.m2.3.3.3.3.3.3.8">𝑡</ci></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.3c">D_{doc}\in\{D_{WTQ};D_{DocVQA};D_{TabFact}\}</annotation></semantics></math>, we evenly distribute documents into <math id="S4.SS2.p1.3.m3.3" class="ltx_Math" alttext="k_{doc}\in\{k_{WTQ};k_{DocVQA};k_{TabFact}\}" display="inline"><semantics id="S4.SS2.p1.3.m3.3a"><mrow id="S4.SS2.p1.3.m3.3.3" xref="S4.SS2.p1.3.m3.3.3.cmml"><msub id="S4.SS2.p1.3.m3.3.3.5" xref="S4.SS2.p1.3.m3.3.3.5.cmml"><mi id="S4.SS2.p1.3.m3.3.3.5.2" xref="S4.SS2.p1.3.m3.3.3.5.2.cmml">k</mi><mrow id="S4.SS2.p1.3.m3.3.3.5.3" xref="S4.SS2.p1.3.m3.3.3.5.3.cmml"><mi id="S4.SS2.p1.3.m3.3.3.5.3.2" xref="S4.SS2.p1.3.m3.3.3.5.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.3.3.5.3.1" xref="S4.SS2.p1.3.m3.3.3.5.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.3.3.5.3.3" xref="S4.SS2.p1.3.m3.3.3.5.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.3.3.5.3.1a" xref="S4.SS2.p1.3.m3.3.3.5.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.3.3.5.3.4" xref="S4.SS2.p1.3.m3.3.3.5.3.4.cmml">c</mi></mrow></msub><mo id="S4.SS2.p1.3.m3.3.3.4" xref="S4.SS2.p1.3.m3.3.3.4.cmml">∈</mo><mrow id="S4.SS2.p1.3.m3.3.3.3.3" xref="S4.SS2.p1.3.m3.3.3.3.4.cmml"><mo stretchy="false" id="S4.SS2.p1.3.m3.3.3.3.3.4" xref="S4.SS2.p1.3.m3.3.3.3.4.cmml">{</mo><msub id="S4.SS2.p1.3.m3.1.1.1.1.1" xref="S4.SS2.p1.3.m3.1.1.1.1.1.cmml"><mi id="S4.SS2.p1.3.m3.1.1.1.1.1.2" xref="S4.SS2.p1.3.m3.1.1.1.1.1.2.cmml">k</mi><mrow id="S4.SS2.p1.3.m3.1.1.1.1.1.3" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p1.3.m3.1.1.1.1.1.3.2" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.2.cmml">W</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.1.1.1.1.1.3.1" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.1.1.1.1.1.3.3" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.3.cmml">T</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.1.1.1.1.1.3.1a" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.1.1.1.1.1.3.4" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.4.cmml">Q</mi></mrow></msub><mo id="S4.SS2.p1.3.m3.3.3.3.3.5" xref="S4.SS2.p1.3.m3.3.3.3.4.cmml">;</mo><msub id="S4.SS2.p1.3.m3.2.2.2.2.2" xref="S4.SS2.p1.3.m3.2.2.2.2.2.cmml"><mi id="S4.SS2.p1.3.m3.2.2.2.2.2.2" xref="S4.SS2.p1.3.m3.2.2.2.2.2.2.cmml">k</mi><mrow id="S4.SS2.p1.3.m3.2.2.2.2.2.3" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.cmml"><mi id="S4.SS2.p1.3.m3.2.2.2.2.2.3.2" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.2.2.2.2.2.3.1" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.2.2.2.2.2.3.3" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.2.2.2.2.2.3.1a" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.2.2.2.2.2.3.4" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.2.2.2.2.2.3.1b" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.2.2.2.2.2.3.5" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.5.cmml">V</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.2.2.2.2.2.3.1c" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.2.2.2.2.2.3.6" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.6.cmml">Q</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.2.2.2.2.2.3.1d" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.2.2.2.2.2.3.7" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.7.cmml">A</mi></mrow></msub><mo id="S4.SS2.p1.3.m3.3.3.3.3.6" xref="S4.SS2.p1.3.m3.3.3.3.4.cmml">;</mo><msub id="S4.SS2.p1.3.m3.3.3.3.3.3" xref="S4.SS2.p1.3.m3.3.3.3.3.3.cmml"><mi id="S4.SS2.p1.3.m3.3.3.3.3.3.2" xref="S4.SS2.p1.3.m3.3.3.3.3.3.2.cmml">k</mi><mrow id="S4.SS2.p1.3.m3.3.3.3.3.3.3" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.cmml"><mi id="S4.SS2.p1.3.m3.3.3.3.3.3.3.2" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.2.cmml">T</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.3.3.3.3.3.3.1" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.3.3.3.3.3.3.3" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.3.3.3.3.3.3.1a" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.3.3.3.3.3.3.4" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.3.3.3.3.3.3.1b" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.3.3.3.3.3.3.5" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.5.cmml">F</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.3.3.3.3.3.3.1c" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.3.3.3.3.3.3.6" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.3.3.3.3.3.3.1d" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.3.3.3.3.3.3.7" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.7.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.3.3.3.3.3.3.1e" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.3.m3.3.3.3.3.3.3.8" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.8.cmml">t</mi></mrow></msub><mo stretchy="false" id="S4.SS2.p1.3.m3.3.3.3.3.7" xref="S4.SS2.p1.3.m3.3.3.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.3b"><apply id="S4.SS2.p1.3.m3.3.3.cmml" xref="S4.SS2.p1.3.m3.3.3"><in id="S4.SS2.p1.3.m3.3.3.4.cmml" xref="S4.SS2.p1.3.m3.3.3.4"></in><apply id="S4.SS2.p1.3.m3.3.3.5.cmml" xref="S4.SS2.p1.3.m3.3.3.5"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.3.3.5.1.cmml" xref="S4.SS2.p1.3.m3.3.3.5">subscript</csymbol><ci id="S4.SS2.p1.3.m3.3.3.5.2.cmml" xref="S4.SS2.p1.3.m3.3.3.5.2">𝑘</ci><apply id="S4.SS2.p1.3.m3.3.3.5.3.cmml" xref="S4.SS2.p1.3.m3.3.3.5.3"><times id="S4.SS2.p1.3.m3.3.3.5.3.1.cmml" xref="S4.SS2.p1.3.m3.3.3.5.3.1"></times><ci id="S4.SS2.p1.3.m3.3.3.5.3.2.cmml" xref="S4.SS2.p1.3.m3.3.3.5.3.2">𝑑</ci><ci id="S4.SS2.p1.3.m3.3.3.5.3.3.cmml" xref="S4.SS2.p1.3.m3.3.3.5.3.3">𝑜</ci><ci id="S4.SS2.p1.3.m3.3.3.5.3.4.cmml" xref="S4.SS2.p1.3.m3.3.3.5.3.4">𝑐</ci></apply></apply><list id="S4.SS2.p1.3.m3.3.3.3.4.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3"><apply id="S4.SS2.p1.3.m3.1.1.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.p1.3.m3.1.1.1.1.1.2.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.2">𝑘</ci><apply id="S4.SS2.p1.3.m3.1.1.1.1.1.3.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3"><times id="S4.SS2.p1.3.m3.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.1"></times><ci id="S4.SS2.p1.3.m3.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.2">𝑊</ci><ci id="S4.SS2.p1.3.m3.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.3">𝑇</ci><ci id="S4.SS2.p1.3.m3.1.1.1.1.1.3.4.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.4">𝑄</ci></apply></apply><apply id="S4.SS2.p1.3.m3.2.2.2.2.2.cmml" xref="S4.SS2.p1.3.m3.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.2.2.2.2.2.1.cmml" xref="S4.SS2.p1.3.m3.2.2.2.2.2">subscript</csymbol><ci id="S4.SS2.p1.3.m3.2.2.2.2.2.2.cmml" xref="S4.SS2.p1.3.m3.2.2.2.2.2.2">𝑘</ci><apply id="S4.SS2.p1.3.m3.2.2.2.2.2.3.cmml" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3"><times id="S4.SS2.p1.3.m3.2.2.2.2.2.3.1.cmml" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.1"></times><ci id="S4.SS2.p1.3.m3.2.2.2.2.2.3.2.cmml" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.2">𝐷</ci><ci id="S4.SS2.p1.3.m3.2.2.2.2.2.3.3.cmml" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.3">𝑜</ci><ci id="S4.SS2.p1.3.m3.2.2.2.2.2.3.4.cmml" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.4">𝑐</ci><ci id="S4.SS2.p1.3.m3.2.2.2.2.2.3.5.cmml" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.5">𝑉</ci><ci id="S4.SS2.p1.3.m3.2.2.2.2.2.3.6.cmml" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.6">𝑄</ci><ci id="S4.SS2.p1.3.m3.2.2.2.2.2.3.7.cmml" xref="S4.SS2.p1.3.m3.2.2.2.2.2.3.7">𝐴</ci></apply></apply><apply id="S4.SS2.p1.3.m3.3.3.3.3.3.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.3.3.3.3.3.1.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3">subscript</csymbol><ci id="S4.SS2.p1.3.m3.3.3.3.3.3.2.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3.2">𝑘</ci><apply id="S4.SS2.p1.3.m3.3.3.3.3.3.3.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3"><times id="S4.SS2.p1.3.m3.3.3.3.3.3.3.1.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.1"></times><ci id="S4.SS2.p1.3.m3.3.3.3.3.3.3.2.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.2">𝑇</ci><ci id="S4.SS2.p1.3.m3.3.3.3.3.3.3.3.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.3">𝑎</ci><ci id="S4.SS2.p1.3.m3.3.3.3.3.3.3.4.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.4">𝑏</ci><ci id="S4.SS2.p1.3.m3.3.3.3.3.3.3.5.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.5">𝐹</ci><ci id="S4.SS2.p1.3.m3.3.3.3.3.3.3.6.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.6">𝑎</ci><ci id="S4.SS2.p1.3.m3.3.3.3.3.3.3.7.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.7">𝑐</ci><ci id="S4.SS2.p1.3.m3.3.3.3.3.3.3.8.cmml" xref="S4.SS2.p1.3.m3.3.3.3.3.3.3.8">𝑡</ci></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.3c">k_{doc}\in\{k_{WTQ};k_{DocVQA};k_{TabFact}\}</annotation></semantics></math> clients by random sampling without replacement, such that <math id="S4.SS2.p1.4.m4.1" class="ltx_Math" alttext="k_{WTQ}+k_{DocVQA}+k_{TabFact}=K" display="inline"><semantics id="S4.SS2.p1.4.m4.1a"><mrow id="S4.SS2.p1.4.m4.1.1" xref="S4.SS2.p1.4.m4.1.1.cmml"><mrow id="S4.SS2.p1.4.m4.1.1.2" xref="S4.SS2.p1.4.m4.1.1.2.cmml"><msub id="S4.SS2.p1.4.m4.1.1.2.2" xref="S4.SS2.p1.4.m4.1.1.2.2.cmml"><mi id="S4.SS2.p1.4.m4.1.1.2.2.2" xref="S4.SS2.p1.4.m4.1.1.2.2.2.cmml">k</mi><mrow id="S4.SS2.p1.4.m4.1.1.2.2.3" xref="S4.SS2.p1.4.m4.1.1.2.2.3.cmml"><mi id="S4.SS2.p1.4.m4.1.1.2.2.3.2" xref="S4.SS2.p1.4.m4.1.1.2.2.3.2.cmml">W</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.2.3.1" xref="S4.SS2.p1.4.m4.1.1.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.2.3.3" xref="S4.SS2.p1.4.m4.1.1.2.2.3.3.cmml">T</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.2.3.1a" xref="S4.SS2.p1.4.m4.1.1.2.2.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.2.3.4" xref="S4.SS2.p1.4.m4.1.1.2.2.3.4.cmml">Q</mi></mrow></msub><mo id="S4.SS2.p1.4.m4.1.1.2.1" xref="S4.SS2.p1.4.m4.1.1.2.1.cmml">+</mo><msub id="S4.SS2.p1.4.m4.1.1.2.3" xref="S4.SS2.p1.4.m4.1.1.2.3.cmml"><mi id="S4.SS2.p1.4.m4.1.1.2.3.2" xref="S4.SS2.p1.4.m4.1.1.2.3.2.cmml">k</mi><mrow id="S4.SS2.p1.4.m4.1.1.2.3.3" xref="S4.SS2.p1.4.m4.1.1.2.3.3.cmml"><mi id="S4.SS2.p1.4.m4.1.1.2.3.3.2" xref="S4.SS2.p1.4.m4.1.1.2.3.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.3.3.1" xref="S4.SS2.p1.4.m4.1.1.2.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.3.3.3" xref="S4.SS2.p1.4.m4.1.1.2.3.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.3.3.1a" xref="S4.SS2.p1.4.m4.1.1.2.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.3.3.4" xref="S4.SS2.p1.4.m4.1.1.2.3.3.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.3.3.1b" xref="S4.SS2.p1.4.m4.1.1.2.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.3.3.5" xref="S4.SS2.p1.4.m4.1.1.2.3.3.5.cmml">V</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.3.3.1c" xref="S4.SS2.p1.4.m4.1.1.2.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.3.3.6" xref="S4.SS2.p1.4.m4.1.1.2.3.3.6.cmml">Q</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.3.3.1d" xref="S4.SS2.p1.4.m4.1.1.2.3.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.3.3.7" xref="S4.SS2.p1.4.m4.1.1.2.3.3.7.cmml">A</mi></mrow></msub><mo id="S4.SS2.p1.4.m4.1.1.2.1a" xref="S4.SS2.p1.4.m4.1.1.2.1.cmml">+</mo><msub id="S4.SS2.p1.4.m4.1.1.2.4" xref="S4.SS2.p1.4.m4.1.1.2.4.cmml"><mi id="S4.SS2.p1.4.m4.1.1.2.4.2" xref="S4.SS2.p1.4.m4.1.1.2.4.2.cmml">k</mi><mrow id="S4.SS2.p1.4.m4.1.1.2.4.3" xref="S4.SS2.p1.4.m4.1.1.2.4.3.cmml"><mi id="S4.SS2.p1.4.m4.1.1.2.4.3.2" xref="S4.SS2.p1.4.m4.1.1.2.4.3.2.cmml">T</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.4.3.1" xref="S4.SS2.p1.4.m4.1.1.2.4.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.4.3.3" xref="S4.SS2.p1.4.m4.1.1.2.4.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.4.3.1a" xref="S4.SS2.p1.4.m4.1.1.2.4.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.4.3.4" xref="S4.SS2.p1.4.m4.1.1.2.4.3.4.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.4.3.1b" xref="S4.SS2.p1.4.m4.1.1.2.4.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.4.3.5" xref="S4.SS2.p1.4.m4.1.1.2.4.3.5.cmml">F</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.4.3.1c" xref="S4.SS2.p1.4.m4.1.1.2.4.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.4.3.6" xref="S4.SS2.p1.4.m4.1.1.2.4.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.4.3.1d" xref="S4.SS2.p1.4.m4.1.1.2.4.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.4.3.7" xref="S4.SS2.p1.4.m4.1.1.2.4.3.7.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p1.4.m4.1.1.2.4.3.1e" xref="S4.SS2.p1.4.m4.1.1.2.4.3.1.cmml">​</mo><mi id="S4.SS2.p1.4.m4.1.1.2.4.3.8" xref="S4.SS2.p1.4.m4.1.1.2.4.3.8.cmml">t</mi></mrow></msub></mrow><mo id="S4.SS2.p1.4.m4.1.1.1" xref="S4.SS2.p1.4.m4.1.1.1.cmml">=</mo><mi id="S4.SS2.p1.4.m4.1.1.3" xref="S4.SS2.p1.4.m4.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m4.1b"><apply id="S4.SS2.p1.4.m4.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1"><eq id="S4.SS2.p1.4.m4.1.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1.1"></eq><apply id="S4.SS2.p1.4.m4.1.1.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2"><plus id="S4.SS2.p1.4.m4.1.1.2.1.cmml" xref="S4.SS2.p1.4.m4.1.1.2.1"></plus><apply id="S4.SS2.p1.4.m4.1.1.2.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2.2"><csymbol cd="ambiguous" id="S4.SS2.p1.4.m4.1.1.2.2.1.cmml" xref="S4.SS2.p1.4.m4.1.1.2.2">subscript</csymbol><ci id="S4.SS2.p1.4.m4.1.1.2.2.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2.2.2">𝑘</ci><apply id="S4.SS2.p1.4.m4.1.1.2.2.3.cmml" xref="S4.SS2.p1.4.m4.1.1.2.2.3"><times id="S4.SS2.p1.4.m4.1.1.2.2.3.1.cmml" xref="S4.SS2.p1.4.m4.1.1.2.2.3.1"></times><ci id="S4.SS2.p1.4.m4.1.1.2.2.3.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2.2.3.2">𝑊</ci><ci id="S4.SS2.p1.4.m4.1.1.2.2.3.3.cmml" xref="S4.SS2.p1.4.m4.1.1.2.2.3.3">𝑇</ci><ci id="S4.SS2.p1.4.m4.1.1.2.2.3.4.cmml" xref="S4.SS2.p1.4.m4.1.1.2.2.3.4">𝑄</ci></apply></apply><apply id="S4.SS2.p1.4.m4.1.1.2.3.cmml" xref="S4.SS2.p1.4.m4.1.1.2.3"><csymbol cd="ambiguous" id="S4.SS2.p1.4.m4.1.1.2.3.1.cmml" xref="S4.SS2.p1.4.m4.1.1.2.3">subscript</csymbol><ci id="S4.SS2.p1.4.m4.1.1.2.3.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2.3.2">𝑘</ci><apply id="S4.SS2.p1.4.m4.1.1.2.3.3.cmml" xref="S4.SS2.p1.4.m4.1.1.2.3.3"><times id="S4.SS2.p1.4.m4.1.1.2.3.3.1.cmml" xref="S4.SS2.p1.4.m4.1.1.2.3.3.1"></times><ci id="S4.SS2.p1.4.m4.1.1.2.3.3.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2.3.3.2">𝐷</ci><ci id="S4.SS2.p1.4.m4.1.1.2.3.3.3.cmml" xref="S4.SS2.p1.4.m4.1.1.2.3.3.3">𝑜</ci><ci id="S4.SS2.p1.4.m4.1.1.2.3.3.4.cmml" xref="S4.SS2.p1.4.m4.1.1.2.3.3.4">𝑐</ci><ci id="S4.SS2.p1.4.m4.1.1.2.3.3.5.cmml" xref="S4.SS2.p1.4.m4.1.1.2.3.3.5">𝑉</ci><ci id="S4.SS2.p1.4.m4.1.1.2.3.3.6.cmml" xref="S4.SS2.p1.4.m4.1.1.2.3.3.6">𝑄</ci><ci id="S4.SS2.p1.4.m4.1.1.2.3.3.7.cmml" xref="S4.SS2.p1.4.m4.1.1.2.3.3.7">𝐴</ci></apply></apply><apply id="S4.SS2.p1.4.m4.1.1.2.4.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4"><csymbol cd="ambiguous" id="S4.SS2.p1.4.m4.1.1.2.4.1.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4">subscript</csymbol><ci id="S4.SS2.p1.4.m4.1.1.2.4.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4.2">𝑘</ci><apply id="S4.SS2.p1.4.m4.1.1.2.4.3.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4.3"><times id="S4.SS2.p1.4.m4.1.1.2.4.3.1.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4.3.1"></times><ci id="S4.SS2.p1.4.m4.1.1.2.4.3.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4.3.2">𝑇</ci><ci id="S4.SS2.p1.4.m4.1.1.2.4.3.3.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4.3.3">𝑎</ci><ci id="S4.SS2.p1.4.m4.1.1.2.4.3.4.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4.3.4">𝑏</ci><ci id="S4.SS2.p1.4.m4.1.1.2.4.3.5.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4.3.5">𝐹</ci><ci id="S4.SS2.p1.4.m4.1.1.2.4.3.6.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4.3.6">𝑎</ci><ci id="S4.SS2.p1.4.m4.1.1.2.4.3.7.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4.3.7">𝑐</ci><ci id="S4.SS2.p1.4.m4.1.1.2.4.3.8.cmml" xref="S4.SS2.p1.4.m4.1.1.2.4.3.8">𝑡</ci></apply></apply></apply><ci id="S4.SS2.p1.4.m4.1.1.3.cmml" xref="S4.SS2.p1.4.m4.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.4.m4.1c">k_{WTQ}+k_{DocVQA}+k_{TabFact}=K</annotation></semantics></math>. This strategy creates a balanced population among clients which receive the data from the same source, while ensures the data in every client unique. We consider 3 FL scenarios, which correspond to having <math id="S4.SS2.p1.5.m5.3" class="ltx_Math" alttext="K\in\{3;10;30\}" display="inline"><semantics id="S4.SS2.p1.5.m5.3a"><mrow id="S4.SS2.p1.5.m5.3.4" xref="S4.SS2.p1.5.m5.3.4.cmml"><mi id="S4.SS2.p1.5.m5.3.4.2" xref="S4.SS2.p1.5.m5.3.4.2.cmml">K</mi><mo id="S4.SS2.p1.5.m5.3.4.1" xref="S4.SS2.p1.5.m5.3.4.1.cmml">∈</mo><mrow id="S4.SS2.p1.5.m5.3.4.3.2" xref="S4.SS2.p1.5.m5.3.4.3.1.cmml"><mo stretchy="false" id="S4.SS2.p1.5.m5.3.4.3.2.1" xref="S4.SS2.p1.5.m5.3.4.3.1.cmml">{</mo><mn id="S4.SS2.p1.5.m5.1.1" xref="S4.SS2.p1.5.m5.1.1.cmml">3</mn><mo id="S4.SS2.p1.5.m5.3.4.3.2.2" xref="S4.SS2.p1.5.m5.3.4.3.1.cmml">;</mo><mn id="S4.SS2.p1.5.m5.2.2" xref="S4.SS2.p1.5.m5.2.2.cmml">10</mn><mo id="S4.SS2.p1.5.m5.3.4.3.2.3" xref="S4.SS2.p1.5.m5.3.4.3.1.cmml">;</mo><mn id="S4.SS2.p1.5.m5.3.3" xref="S4.SS2.p1.5.m5.3.3.cmml">30</mn><mo stretchy="false" id="S4.SS2.p1.5.m5.3.4.3.2.4" xref="S4.SS2.p1.5.m5.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.5.m5.3b"><apply id="S4.SS2.p1.5.m5.3.4.cmml" xref="S4.SS2.p1.5.m5.3.4"><in id="S4.SS2.p1.5.m5.3.4.1.cmml" xref="S4.SS2.p1.5.m5.3.4.1"></in><ci id="S4.SS2.p1.5.m5.3.4.2.cmml" xref="S4.SS2.p1.5.m5.3.4.2">𝐾</ci><list id="S4.SS2.p1.5.m5.3.4.3.1.cmml" xref="S4.SS2.p1.5.m5.3.4.3.2"><cn type="integer" id="S4.SS2.p1.5.m5.1.1.cmml" xref="S4.SS2.p1.5.m5.1.1">3</cn><cn type="integer" id="S4.SS2.p1.5.m5.2.2.cmml" xref="S4.SS2.p1.5.m5.2.2">10</cn><cn type="integer" id="S4.SS2.p1.5.m5.3.3.cmml" xref="S4.SS2.p1.5.m5.3.3">30</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.5.m5.3c">K\in\{3;10;30\}</annotation></semantics></math> clients. <math id="S4.SS2.p1.6.m6.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S4.SS2.p1.6.m6.1a"><mrow id="S4.SS2.p1.6.m6.1.1" xref="S4.SS2.p1.6.m6.1.1.cmml"><mi id="S4.SS2.p1.6.m6.1.1.2" xref="S4.SS2.p1.6.m6.1.1.2.cmml">K</mi><mo id="S4.SS2.p1.6.m6.1.1.1" xref="S4.SS2.p1.6.m6.1.1.1.cmml">=</mo><mn id="S4.SS2.p1.6.m6.1.1.3" xref="S4.SS2.p1.6.m6.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.6.m6.1b"><apply id="S4.SS2.p1.6.m6.1.1.cmml" xref="S4.SS2.p1.6.m6.1.1"><eq id="S4.SS2.p1.6.m6.1.1.1.cmml" xref="S4.SS2.p1.6.m6.1.1.1"></eq><ci id="S4.SS2.p1.6.m6.1.1.2.cmml" xref="S4.SS2.p1.6.m6.1.1.2">𝐾</ci><cn type="integer" id="S4.SS2.p1.6.m6.1.1.3.cmml" xref="S4.SS2.p1.6.m6.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.6.m6.1c">K=3</annotation></semantics></math> signifies each client holds one entire original dataset, which is highly representative of real-world FL scenarios, whereas <math id="S4.SS2.p1.7.m7.1" class="ltx_Math" alttext="K=30" display="inline"><semantics id="S4.SS2.p1.7.m7.1a"><mrow id="S4.SS2.p1.7.m7.1.1" xref="S4.SS2.p1.7.m7.1.1.cmml"><mi id="S4.SS2.p1.7.m7.1.1.2" xref="S4.SS2.p1.7.m7.1.1.2.cmml">K</mi><mo id="S4.SS2.p1.7.m7.1.1.1" xref="S4.SS2.p1.7.m7.1.1.1.cmml">=</mo><mn id="S4.SS2.p1.7.m7.1.1.3" xref="S4.SS2.p1.7.m7.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.7.m7.1b"><apply id="S4.SS2.p1.7.m7.1.1.cmml" xref="S4.SS2.p1.7.m7.1.1"><eq id="S4.SS2.p1.7.m7.1.1.1.cmml" xref="S4.SS2.p1.7.m7.1.1.1"></eq><ci id="S4.SS2.p1.7.m7.1.1.2.cmml" xref="S4.SS2.p1.7.m7.1.1.2">𝐾</ci><cn type="integer" id="S4.SS2.p1.7.m7.1.1.3.cmml" xref="S4.SS2.p1.7.m7.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.7.m7.1c">K=30</annotation></semantics></math> scales the problem with a high number of participating clients that each has access to a much smaller number of samples.
Table <a href="#S4.T2" title="Table 2 ‣ 4.2 Data Partition ‣ 4 Experimental Setup ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> illustrates data populations resulted from our partitioning scheme and its statistics.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<table id="S4.T2.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.3.3" class="ltx_tr">
<th id="S4.T2.3.3.4" class="ltx_td ltx_th ltx_th_row ltx_border_tt"></th>
<th id="S4.T2.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S4.T2.1.1.1.m1.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S4.T2.1.1.1.m1.1a"><mrow id="S4.T2.1.1.1.m1.1.1" xref="S4.T2.1.1.1.m1.1.1.cmml"><mi id="S4.T2.1.1.1.m1.1.1.2" xref="S4.T2.1.1.1.m1.1.1.2.cmml">K</mi><mo id="S4.T2.1.1.1.m1.1.1.1" xref="S4.T2.1.1.1.m1.1.1.1.cmml">=</mo><mn id="S4.T2.1.1.1.m1.1.1.3" xref="S4.T2.1.1.1.m1.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.m1.1b"><apply id="S4.T2.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1"><eq id="S4.T2.1.1.1.m1.1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1.1"></eq><ci id="S4.T2.1.1.1.m1.1.1.2.cmml" xref="S4.T2.1.1.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S4.T2.1.1.1.m1.1.1.3.cmml" xref="S4.T2.1.1.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.m1.1c">K=3</annotation></semantics></math></th>
<th id="S4.T2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S4.T2.2.2.2.m1.1" class="ltx_Math" alttext="K=10" display="inline"><semantics id="S4.T2.2.2.2.m1.1a"><mrow id="S4.T2.2.2.2.m1.1.1" xref="S4.T2.2.2.2.m1.1.1.cmml"><mi id="S4.T2.2.2.2.m1.1.1.2" xref="S4.T2.2.2.2.m1.1.1.2.cmml">K</mi><mo id="S4.T2.2.2.2.m1.1.1.1" xref="S4.T2.2.2.2.m1.1.1.1.cmml">=</mo><mn id="S4.T2.2.2.2.m1.1.1.3" xref="S4.T2.2.2.2.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.m1.1b"><apply id="S4.T2.2.2.2.m1.1.1.cmml" xref="S4.T2.2.2.2.m1.1.1"><eq id="S4.T2.2.2.2.m1.1.1.1.cmml" xref="S4.T2.2.2.2.m1.1.1.1"></eq><ci id="S4.T2.2.2.2.m1.1.1.2.cmml" xref="S4.T2.2.2.2.m1.1.1.2">𝐾</ci><cn type="integer" id="S4.T2.2.2.2.m1.1.1.3.cmml" xref="S4.T2.2.2.2.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.m1.1c">K=10</annotation></semantics></math></th>
<th id="S4.T2.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><math id="S4.T2.3.3.3.m1.1" class="ltx_Math" alttext="K=30" display="inline"><semantics id="S4.T2.3.3.3.m1.1a"><mrow id="S4.T2.3.3.3.m1.1.1" xref="S4.T2.3.3.3.m1.1.1.cmml"><mi id="S4.T2.3.3.3.m1.1.1.2" xref="S4.T2.3.3.3.m1.1.1.2.cmml">K</mi><mo id="S4.T2.3.3.3.m1.1.1.1" xref="S4.T2.3.3.3.m1.1.1.1.cmml">=</mo><mn id="S4.T2.3.3.3.m1.1.1.3" xref="S4.T2.3.3.3.m1.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.3.m1.1b"><apply id="S4.T2.3.3.3.m1.1.1.cmml" xref="S4.T2.3.3.3.m1.1.1"><eq id="S4.T2.3.3.3.m1.1.1.1.cmml" xref="S4.T2.3.3.3.m1.1.1.1"></eq><ci id="S4.T2.3.3.3.m1.1.1.2.cmml" xref="S4.T2.3.3.3.m1.1.1.2">𝐾</ci><cn type="integer" id="S4.T2.3.3.3.m1.1.1.3.cmml" xref="S4.T2.3.3.3.m1.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.3.m1.1c">K=30</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.3.4.1" class="ltx_tr">
<th id="S4.T2.3.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">WTQ</th>
<td id="S4.T2.3.4.1.2" class="ltx_td ltx_align_center ltx_border_t">
<span id="S4.T2.3.4.1.2.1" class="ltx_text ltx_font_bold">1</span>(1346)</td>
<td id="S4.T2.3.4.1.3" class="ltx_td ltx_align_center ltx_border_t">
<span id="S4.T2.3.4.1.3.1" class="ltx_text ltx_font_bold">1</span>(1346)</td>
<td id="S4.T2.3.4.1.4" class="ltx_td ltx_align_center ltx_border_t">
<span id="S4.T2.3.4.1.4.1" class="ltx_text ltx_font_bold">2</span>(673)</td>
</tr>
<tr id="S4.T2.3.5.2" class="ltx_tr">
<th id="S4.T2.3.5.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">DocVQA</th>
<td id="S4.T2.3.5.2.2" class="ltx_td ltx_align_center">
<span id="S4.T2.3.5.2.2.1" class="ltx_text ltx_font_bold">1</span>(10194)</td>
<td id="S4.T2.3.5.2.3" class="ltx_td ltx_align_center">
<span id="S4.T2.3.5.2.3.1" class="ltx_text ltx_font_bold">4</span>(2548)</td>
<td id="S4.T2.3.5.2.4" class="ltx_td ltx_align_center">
<span id="S4.T2.3.5.2.4.1" class="ltx_text ltx_font_bold">13</span>(784)</td>
</tr>
<tr id="S4.T2.3.6.3" class="ltx_tr">
<th id="S4.T2.3.6.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">TabFact</th>
<td id="S4.T2.3.6.3.2" class="ltx_td ltx_align_center ltx_border_bb">
<span id="S4.T2.3.6.3.2.1" class="ltx_text ltx_font_bold">1</span>(13163)</td>
<td id="S4.T2.3.6.3.3" class="ltx_td ltx_align_center ltx_border_bb">
<span id="S4.T2.3.6.3.3.1" class="ltx_text ltx_font_bold">5</span>(2632)</td>
<td id="S4.T2.3.6.3.4" class="ltx_td ltx_align_center ltx_border_bb">
<span id="S4.T2.3.6.3.4.1" class="ltx_text ltx_font_bold">15</span>(877)</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T2.6.1.1" class="ltx_text" style="font-size:90%;">Table 2</span>: </span><span id="S4.T2.7.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Number of participating clients in each split strategy.<span id="S4.T2.7.2.1" class="ltx_text ltx_font_medium"> In parenthesis, the average number of training documents per client. In our FL partitions, each holds data only from one DocVQA dataset.</span></span></figcaption>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Model</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.6" class="ltx_p">In our experiments, we employ a generative model (Figure <a href="#S4.F2" title="Figure 2 ‣ 4.3 Model ‣ 4 Experimental Setup ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>) which unifies all QA tasks to multimodal-input-to-text generation. Specifically, we use T5 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> as the backbone, initialized with <span id="S4.SS3.p1.6.1" class="ltx_text ltx_font_italic">t5-base</span> pre-trained weights. To extend the PLM to multimodal input, we augment the input with visual features from document images by reusing the patch embedding provided from <span id="S4.SS3.p1.6.2" class="ltx_text ltx_font_italic">mae_vit_base_patch16</span> MAE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> checkpoints. Concretely, given the document image <math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">I</annotation></semantics></math> with the size of <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="H\times W\times C" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><mrow id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml"><mi id="S4.SS3.p1.2.m2.1.1.2" xref="S4.SS3.p1.2.m2.1.1.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p1.2.m2.1.1.1" xref="S4.SS3.p1.2.m2.1.1.1.cmml">×</mo><mi id="S4.SS3.p1.2.m2.1.1.3" xref="S4.SS3.p1.2.m2.1.1.3.cmml">W</mi><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p1.2.m2.1.1.1a" xref="S4.SS3.p1.2.m2.1.1.1.cmml">×</mo><mi id="S4.SS3.p1.2.m2.1.1.4" xref="S4.SS3.p1.2.m2.1.1.4.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><apply id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1"><times id="S4.SS3.p1.2.m2.1.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1.1"></times><ci id="S4.SS3.p1.2.m2.1.1.2.cmml" xref="S4.SS3.p1.2.m2.1.1.2">𝐻</ci><ci id="S4.SS3.p1.2.m2.1.1.3.cmml" xref="S4.SS3.p1.2.m2.1.1.3">𝑊</ci><ci id="S4.SS3.p1.2.m2.1.1.4.cmml" xref="S4.SS3.p1.2.m2.1.1.4">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">H\times W\times C</annotation></semantics></math> as the height, width and number of channels respectively, we break it into <math id="S4.SS3.p1.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.SS3.p1.3.m3.1a"><mi id="S4.SS3.p1.3.m3.1.1" xref="S4.SS3.p1.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.3.m3.1b"><ci id="S4.SS3.p1.3.m3.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.3.m3.1c">n</annotation></semantics></math> 2D patches of <math id="S4.SS3.p1.4.m4.1" class="ltx_Math" alttext="(P\times P)" display="inline"><semantics id="S4.SS3.p1.4.m4.1a"><mrow id="S4.SS3.p1.4.m4.1.1.1" xref="S4.SS3.p1.4.m4.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.p1.4.m4.1.1.1.2" xref="S4.SS3.p1.4.m4.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.p1.4.m4.1.1.1.1" xref="S4.SS3.p1.4.m4.1.1.1.1.cmml"><mi id="S4.SS3.p1.4.m4.1.1.1.1.2" xref="S4.SS3.p1.4.m4.1.1.1.1.2.cmml">P</mi><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p1.4.m4.1.1.1.1.1" xref="S4.SS3.p1.4.m4.1.1.1.1.1.cmml">×</mo><mi id="S4.SS3.p1.4.m4.1.1.1.1.3" xref="S4.SS3.p1.4.m4.1.1.1.1.3.cmml">P</mi></mrow><mo stretchy="false" id="S4.SS3.p1.4.m4.1.1.1.3" xref="S4.SS3.p1.4.m4.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.4.m4.1b"><apply id="S4.SS3.p1.4.m4.1.1.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1.1"><times id="S4.SS3.p1.4.m4.1.1.1.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1.1.1.1"></times><ci id="S4.SS3.p1.4.m4.1.1.1.1.2.cmml" xref="S4.SS3.p1.4.m4.1.1.1.1.2">𝑃</ci><ci id="S4.SS3.p1.4.m4.1.1.1.1.3.cmml" xref="S4.SS3.p1.4.m4.1.1.1.1.3">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.4.m4.1c">(P\times P)</annotation></semantics></math> resolution while keeping the channel dimension, such that <math id="S4.SS3.p1.5.m5.1" class="ltx_Math" alttext="n=H\times W/P^{2}" display="inline"><semantics id="S4.SS3.p1.5.m5.1a"><mrow id="S4.SS3.p1.5.m5.1.1" xref="S4.SS3.p1.5.m5.1.1.cmml"><mi id="S4.SS3.p1.5.m5.1.1.2" xref="S4.SS3.p1.5.m5.1.1.2.cmml">n</mi><mo id="S4.SS3.p1.5.m5.1.1.1" xref="S4.SS3.p1.5.m5.1.1.1.cmml">=</mo><mrow id="S4.SS3.p1.5.m5.1.1.3" xref="S4.SS3.p1.5.m5.1.1.3.cmml"><mrow id="S4.SS3.p1.5.m5.1.1.3.2" xref="S4.SS3.p1.5.m5.1.1.3.2.cmml"><mi id="S4.SS3.p1.5.m5.1.1.3.2.2" xref="S4.SS3.p1.5.m5.1.1.3.2.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p1.5.m5.1.1.3.2.1" xref="S4.SS3.p1.5.m5.1.1.3.2.1.cmml">×</mo><mi id="S4.SS3.p1.5.m5.1.1.3.2.3" xref="S4.SS3.p1.5.m5.1.1.3.2.3.cmml">W</mi></mrow><mo id="S4.SS3.p1.5.m5.1.1.3.1" xref="S4.SS3.p1.5.m5.1.1.3.1.cmml">/</mo><msup id="S4.SS3.p1.5.m5.1.1.3.3" xref="S4.SS3.p1.5.m5.1.1.3.3.cmml"><mi id="S4.SS3.p1.5.m5.1.1.3.3.2" xref="S4.SS3.p1.5.m5.1.1.3.3.2.cmml">P</mi><mn id="S4.SS3.p1.5.m5.1.1.3.3.3" xref="S4.SS3.p1.5.m5.1.1.3.3.3.cmml">2</mn></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.5.m5.1b"><apply id="S4.SS3.p1.5.m5.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1"><eq id="S4.SS3.p1.5.m5.1.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1.1"></eq><ci id="S4.SS3.p1.5.m5.1.1.2.cmml" xref="S4.SS3.p1.5.m5.1.1.2">𝑛</ci><apply id="S4.SS3.p1.5.m5.1.1.3.cmml" xref="S4.SS3.p1.5.m5.1.1.3"><divide id="S4.SS3.p1.5.m5.1.1.3.1.cmml" xref="S4.SS3.p1.5.m5.1.1.3.1"></divide><apply id="S4.SS3.p1.5.m5.1.1.3.2.cmml" xref="S4.SS3.p1.5.m5.1.1.3.2"><times id="S4.SS3.p1.5.m5.1.1.3.2.1.cmml" xref="S4.SS3.p1.5.m5.1.1.3.2.1"></times><ci id="S4.SS3.p1.5.m5.1.1.3.2.2.cmml" xref="S4.SS3.p1.5.m5.1.1.3.2.2">𝐻</ci><ci id="S4.SS3.p1.5.m5.1.1.3.2.3.cmml" xref="S4.SS3.p1.5.m5.1.1.3.2.3">𝑊</ci></apply><apply id="S4.SS3.p1.5.m5.1.1.3.3.cmml" xref="S4.SS3.p1.5.m5.1.1.3.3"><csymbol cd="ambiguous" id="S4.SS3.p1.5.m5.1.1.3.3.1.cmml" xref="S4.SS3.p1.5.m5.1.1.3.3">superscript</csymbol><ci id="S4.SS3.p1.5.m5.1.1.3.3.2.cmml" xref="S4.SS3.p1.5.m5.1.1.3.3.2">𝑃</ci><cn type="integer" id="S4.SS3.p1.5.m5.1.1.3.3.3.cmml" xref="S4.SS3.p1.5.m5.1.1.3.3.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.5.m5.1c">n=H\times W/P^{2}</annotation></semantics></math>. We employ MAE’s patch embedding layer to transform each flattened patch into a D-dimensional space. OCR and question tokens T and Q are encoded using T5 embedding layer with the same dimension. The bounding box is normalized to a range of <math id="S4.SS3.p1.6.m6.2" class="ltx_Math" alttext="[0,1]" display="inline"><semantics id="S4.SS3.p1.6.m6.2a"><mrow id="S4.SS3.p1.6.m6.2.3.2" xref="S4.SS3.p1.6.m6.2.3.1.cmml"><mo stretchy="false" id="S4.SS3.p1.6.m6.2.3.2.1" xref="S4.SS3.p1.6.m6.2.3.1.cmml">[</mo><mn id="S4.SS3.p1.6.m6.1.1" xref="S4.SS3.p1.6.m6.1.1.cmml">0</mn><mo id="S4.SS3.p1.6.m6.2.3.2.2" xref="S4.SS3.p1.6.m6.2.3.1.cmml">,</mo><mn id="S4.SS3.p1.6.m6.2.2" xref="S4.SS3.p1.6.m6.2.2.cmml">1</mn><mo stretchy="false" id="S4.SS3.p1.6.m6.2.3.2.3" xref="S4.SS3.p1.6.m6.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.6.m6.2b"><interval closure="closed" id="S4.SS3.p1.6.m6.2.3.1.cmml" xref="S4.SS3.p1.6.m6.2.3.2"><cn type="integer" id="S4.SS3.p1.6.m6.1.1.cmml" xref="S4.SS3.p1.6.m6.1.1">0</cn><cn type="integer" id="S4.SS3.p1.6.m6.2.2.cmml" xref="S4.SS3.p1.6.m6.2.2">1</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.6.m6.2c">[0,1]</annotation></semantics></math> and embedded by a linear layer before being added to its respective text features. Following UDOP, we incorporate the patch features into the text features for any text detected within that patch region, subsequently excluding it from the set of image features. This operation is referred to as Layout-Induced Vision-Text Embedding. As a result, the T5-Encoder takes a sequence of image embeddings, OCR embeddings enriched with 2D visual/spatial information and question embeddings as input, in order to generate answers.
We utilize the <span id="S4.SS3.p1.6.3" class="ltx_text ltx_font_italic">t5-base</span> pre-trained version from HuggingFace <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite> for the model and tokenizer, with sentinel tokens included.</p>
</div>
<figure id="S4.F2" class="ltx_figure"><img src="/html/2405.06636/assets/x2.png" id="S4.F2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="415" height="341" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.3.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S4.F2.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">The overall architecture<span id="S4.F2.4.2.1" class="ltx_text ltx_font_medium"> of the proposed model in our experiments.</span></span></figcaption>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Results</h2>

<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Baselines</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">Given the dataset preparation outlined in Section <a href="#S4.SS2" title="4.2 Data Partition ‣ 4 Experimental Setup ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>, we evaluate the performance of the FedAvg algorithm with few modifications, which serves as the baseline for FeDocVQA.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.10" class="ltx_p">We employ the Adam optimizer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> as CLIENTOPT (instead of SGD in vanilla FedAvg) with fixed parameters across all clients: local learning rate <math id="S5.SS1.p2.1.m1.1" class="ltx_Math" alttext="\eta_{l}=0.0005" display="inline"><semantics id="S5.SS1.p2.1.m1.1a"><mrow id="S5.SS1.p2.1.m1.1.1" xref="S5.SS1.p2.1.m1.1.1.cmml"><msub id="S5.SS1.p2.1.m1.1.1.2" xref="S5.SS1.p2.1.m1.1.1.2.cmml"><mi id="S5.SS1.p2.1.m1.1.1.2.2" xref="S5.SS1.p2.1.m1.1.1.2.2.cmml">η</mi><mi id="S5.SS1.p2.1.m1.1.1.2.3" xref="S5.SS1.p2.1.m1.1.1.2.3.cmml">l</mi></msub><mo id="S5.SS1.p2.1.m1.1.1.1" xref="S5.SS1.p2.1.m1.1.1.1.cmml">=</mo><mn id="S5.SS1.p2.1.m1.1.1.3" xref="S5.SS1.p2.1.m1.1.1.3.cmml">0.0005</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.1b"><apply id="S5.SS1.p2.1.m1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1"><eq id="S5.SS1.p2.1.m1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1.1"></eq><apply id="S5.SS1.p2.1.m1.1.1.2.cmml" xref="S5.SS1.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.1.1.2.1.cmml" xref="S5.SS1.p2.1.m1.1.1.2">subscript</csymbol><ci id="S5.SS1.p2.1.m1.1.1.2.2.cmml" xref="S5.SS1.p2.1.m1.1.1.2.2">𝜂</ci><ci id="S5.SS1.p2.1.m1.1.1.2.3.cmml" xref="S5.SS1.p2.1.m1.1.1.2.3">𝑙</ci></apply><cn type="float" id="S5.SS1.p2.1.m1.1.1.3.cmml" xref="S5.SS1.p2.1.m1.1.1.3">0.0005</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.1c">\eta_{l}=0.0005</annotation></semantics></math> and weight decay of 0.01. We reset the optimizer at the beginning of each round and opt not to use learning rate scheduler, since it requires to keep track of local states across rounds. We fix the momentum coefficient <math id="S5.SS1.p2.2.m2.1" class="ltx_Math" alttext="\beta_{1}=0.9" display="inline"><semantics id="S5.SS1.p2.2.m2.1a"><mrow id="S5.SS1.p2.2.m2.1.1" xref="S5.SS1.p2.2.m2.1.1.cmml"><msub id="S5.SS1.p2.2.m2.1.1.2" xref="S5.SS1.p2.2.m2.1.1.2.cmml"><mi id="S5.SS1.p2.2.m2.1.1.2.2" xref="S5.SS1.p2.2.m2.1.1.2.2.cmml">β</mi><mn id="S5.SS1.p2.2.m2.1.1.2.3" xref="S5.SS1.p2.2.m2.1.1.2.3.cmml">1</mn></msub><mo id="S5.SS1.p2.2.m2.1.1.1" xref="S5.SS1.p2.2.m2.1.1.1.cmml">=</mo><mn id="S5.SS1.p2.2.m2.1.1.3" xref="S5.SS1.p2.2.m2.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.2.m2.1b"><apply id="S5.SS1.p2.2.m2.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1"><eq id="S5.SS1.p2.2.m2.1.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1.1"></eq><apply id="S5.SS1.p2.2.m2.1.1.2.cmml" xref="S5.SS1.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S5.SS1.p2.2.m2.1.1.2.1.cmml" xref="S5.SS1.p2.2.m2.1.1.2">subscript</csymbol><ci id="S5.SS1.p2.2.m2.1.1.2.2.cmml" xref="S5.SS1.p2.2.m2.1.1.2.2">𝛽</ci><cn type="integer" id="S5.SS1.p2.2.m2.1.1.2.3.cmml" xref="S5.SS1.p2.2.m2.1.1.2.3">1</cn></apply><cn type="float" id="S5.SS1.p2.2.m2.1.1.3.cmml" xref="S5.SS1.p2.2.m2.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.2.m2.1c">\beta_{1}=0.9</annotation></semantics></math> and a second moment coefficient <math id="S5.SS1.p2.3.m3.1" class="ltx_Math" alttext="\beta_{2}=0.999" display="inline"><semantics id="S5.SS1.p2.3.m3.1a"><mrow id="S5.SS1.p2.3.m3.1.1" xref="S5.SS1.p2.3.m3.1.1.cmml"><msub id="S5.SS1.p2.3.m3.1.1.2" xref="S5.SS1.p2.3.m3.1.1.2.cmml"><mi id="S5.SS1.p2.3.m3.1.1.2.2" xref="S5.SS1.p2.3.m3.1.1.2.2.cmml">β</mi><mn id="S5.SS1.p2.3.m3.1.1.2.3" xref="S5.SS1.p2.3.m3.1.1.2.3.cmml">2</mn></msub><mo id="S5.SS1.p2.3.m3.1.1.1" xref="S5.SS1.p2.3.m3.1.1.1.cmml">=</mo><mn id="S5.SS1.p2.3.m3.1.1.3" xref="S5.SS1.p2.3.m3.1.1.3.cmml">0.999</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.3.m3.1b"><apply id="S5.SS1.p2.3.m3.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1"><eq id="S5.SS1.p2.3.m3.1.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1.1"></eq><apply id="S5.SS1.p2.3.m3.1.1.2.cmml" xref="S5.SS1.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="S5.SS1.p2.3.m3.1.1.2.1.cmml" xref="S5.SS1.p2.3.m3.1.1.2">subscript</csymbol><ci id="S5.SS1.p2.3.m3.1.1.2.2.cmml" xref="S5.SS1.p2.3.m3.1.1.2.2">𝛽</ci><cn type="integer" id="S5.SS1.p2.3.m3.1.1.2.3.cmml" xref="S5.SS1.p2.3.m3.1.1.2.3">2</cn></apply><cn type="float" id="S5.SS1.p2.3.m3.1.1.3.cmml" xref="S5.SS1.p2.3.m3.1.1.3">0.999</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.3.m3.1c">\beta_{2}=0.999</annotation></semantics></math>. FedAvg is run with client batch size <math id="S5.SS1.p2.4.m4.1" class="ltx_Math" alttext="B=16" display="inline"><semantics id="S5.SS1.p2.4.m4.1a"><mrow id="S5.SS1.p2.4.m4.1.1" xref="S5.SS1.p2.4.m4.1.1.cmml"><mi id="S5.SS1.p2.4.m4.1.1.2" xref="S5.SS1.p2.4.m4.1.1.2.cmml">B</mi><mo id="S5.SS1.p2.4.m4.1.1.1" xref="S5.SS1.p2.4.m4.1.1.1.cmml">=</mo><mn id="S5.SS1.p2.4.m4.1.1.3" xref="S5.SS1.p2.4.m4.1.1.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.4.m4.1b"><apply id="S5.SS1.p2.4.m4.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1"><eq id="S5.SS1.p2.4.m4.1.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1.1"></eq><ci id="S5.SS1.p2.4.m4.1.1.2.cmml" xref="S5.SS1.p2.4.m4.1.1.2">𝐵</ci><cn type="integer" id="S5.SS1.p2.4.m4.1.1.3.cmml" xref="S5.SS1.p2.4.m4.1.1.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.4.m4.1c">B=16</annotation></semantics></math>, local epochs <math id="S5.SS1.p2.5.m5.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S5.SS1.p2.5.m5.1a"><mrow id="S5.SS1.p2.5.m5.1.1" xref="S5.SS1.p2.5.m5.1.1.cmml"><mi id="S5.SS1.p2.5.m5.1.1.2" xref="S5.SS1.p2.5.m5.1.1.2.cmml">E</mi><mo id="S5.SS1.p2.5.m5.1.1.1" xref="S5.SS1.p2.5.m5.1.1.1.cmml">=</mo><mn id="S5.SS1.p2.5.m5.1.1.3" xref="S5.SS1.p2.5.m5.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.5.m5.1b"><apply id="S5.SS1.p2.5.m5.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1"><eq id="S5.SS1.p2.5.m5.1.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1.1"></eq><ci id="S5.SS1.p2.5.m5.1.1.2.cmml" xref="S5.SS1.p2.5.m5.1.1.2">𝐸</ci><cn type="integer" id="S5.SS1.p2.5.m5.1.1.3.cmml" xref="S5.SS1.p2.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.5.m5.1c">E=1</annotation></semantics></math> and sampling probability
<math id="S5.SS1.p2.6.m6.3" class="ltx_Math" alttext="C\in\{0.35;0.7;1\}" display="inline"><semantics id="S5.SS1.p2.6.m6.3a"><mrow id="S5.SS1.p2.6.m6.3.4" xref="S5.SS1.p2.6.m6.3.4.cmml"><mi id="S5.SS1.p2.6.m6.3.4.2" xref="S5.SS1.p2.6.m6.3.4.2.cmml">C</mi><mo id="S5.SS1.p2.6.m6.3.4.1" xref="S5.SS1.p2.6.m6.3.4.1.cmml">∈</mo><mrow id="S5.SS1.p2.6.m6.3.4.3.2" xref="S5.SS1.p2.6.m6.3.4.3.1.cmml"><mo stretchy="false" id="S5.SS1.p2.6.m6.3.4.3.2.1" xref="S5.SS1.p2.6.m6.3.4.3.1.cmml">{</mo><mn id="S5.SS1.p2.6.m6.1.1" xref="S5.SS1.p2.6.m6.1.1.cmml">0.35</mn><mo id="S5.SS1.p2.6.m6.3.4.3.2.2" xref="S5.SS1.p2.6.m6.3.4.3.1.cmml">;</mo><mn id="S5.SS1.p2.6.m6.2.2" xref="S5.SS1.p2.6.m6.2.2.cmml">0.7</mn><mo id="S5.SS1.p2.6.m6.3.4.3.2.3" xref="S5.SS1.p2.6.m6.3.4.3.1.cmml">;</mo><mn id="S5.SS1.p2.6.m6.3.3" xref="S5.SS1.p2.6.m6.3.3.cmml">1</mn><mo stretchy="false" id="S5.SS1.p2.6.m6.3.4.3.2.4" xref="S5.SS1.p2.6.m6.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.6.m6.3b"><apply id="S5.SS1.p2.6.m6.3.4.cmml" xref="S5.SS1.p2.6.m6.3.4"><in id="S5.SS1.p2.6.m6.3.4.1.cmml" xref="S5.SS1.p2.6.m6.3.4.1"></in><ci id="S5.SS1.p2.6.m6.3.4.2.cmml" xref="S5.SS1.p2.6.m6.3.4.2">𝐶</ci><list id="S5.SS1.p2.6.m6.3.4.3.1.cmml" xref="S5.SS1.p2.6.m6.3.4.3.2"><cn type="float" id="S5.SS1.p2.6.m6.1.1.cmml" xref="S5.SS1.p2.6.m6.1.1">0.35</cn><cn type="float" id="S5.SS1.p2.6.m6.2.2.cmml" xref="S5.SS1.p2.6.m6.2.2">0.7</cn><cn type="integer" id="S5.SS1.p2.6.m6.3.3.cmml" xref="S5.SS1.p2.6.m6.3.3">1</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.6.m6.3c">C\in\{0.35;0.7;1\}</annotation></semantics></math> (corresponding to <math id="S5.SS1.p2.7.m7.1" class="ltx_Math" alttext="0.35\cdot K" display="inline"><semantics id="S5.SS1.p2.7.m7.1a"><mrow id="S5.SS1.p2.7.m7.1.1" xref="S5.SS1.p2.7.m7.1.1.cmml"><mn id="S5.SS1.p2.7.m7.1.1.2" xref="S5.SS1.p2.7.m7.1.1.2.cmml">0.35</mn><mo lspace="0.222em" rspace="0.222em" id="S5.SS1.p2.7.m7.1.1.1" xref="S5.SS1.p2.7.m7.1.1.1.cmml">⋅</mo><mi id="S5.SS1.p2.7.m7.1.1.3" xref="S5.SS1.p2.7.m7.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.7.m7.1b"><apply id="S5.SS1.p2.7.m7.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1"><ci id="S5.SS1.p2.7.m7.1.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1.1">⋅</ci><cn type="float" id="S5.SS1.p2.7.m7.1.1.2.cmml" xref="S5.SS1.p2.7.m7.1.1.2">0.35</cn><ci id="S5.SS1.p2.7.m7.1.1.3.cmml" xref="S5.SS1.p2.7.m7.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.7.m7.1c">0.35\cdot K</annotation></semantics></math>, <math id="S5.SS1.p2.8.m8.1" class="ltx_Math" alttext="0.7\cdot K" display="inline"><semantics id="S5.SS1.p2.8.m8.1a"><mrow id="S5.SS1.p2.8.m8.1.1" xref="S5.SS1.p2.8.m8.1.1.cmml"><mn id="S5.SS1.p2.8.m8.1.1.2" xref="S5.SS1.p2.8.m8.1.1.2.cmml">0.7</mn><mo lspace="0.222em" rspace="0.222em" id="S5.SS1.p2.8.m8.1.1.1" xref="S5.SS1.p2.8.m8.1.1.1.cmml">⋅</mo><mi id="S5.SS1.p2.8.m8.1.1.3" xref="S5.SS1.p2.8.m8.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.8.m8.1b"><apply id="S5.SS1.p2.8.m8.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1"><ci id="S5.SS1.p2.8.m8.1.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1.1">⋅</ci><cn type="float" id="S5.SS1.p2.8.m8.1.1.2.cmml" xref="S5.SS1.p2.8.m8.1.1.2">0.7</cn><ci id="S5.SS1.p2.8.m8.1.1.3.cmml" xref="S5.SS1.p2.8.m8.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.8.m8.1c">0.7\cdot K</annotation></semantics></math> and <math id="S5.SS1.p2.9.m9.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S5.SS1.p2.9.m9.1a"><mi id="S5.SS1.p2.9.m9.1.1" xref="S5.SS1.p2.9.m9.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.9.m9.1b"><ci id="S5.SS1.p2.9.m9.1.1.cmml" xref="S5.SS1.p2.9.m9.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.9.m9.1c">K</annotation></semantics></math> clients participating in each round, respectively) for a total of <math id="S5.SS1.p2.10.m10.1" class="ltx_Math" alttext="T=10" display="inline"><semantics id="S5.SS1.p2.10.m10.1a"><mrow id="S5.SS1.p2.10.m10.1.1" xref="S5.SS1.p2.10.m10.1.1.cmml"><mi id="S5.SS1.p2.10.m10.1.1.2" xref="S5.SS1.p2.10.m10.1.1.2.cmml">T</mi><mo id="S5.SS1.p2.10.m10.1.1.1" xref="S5.SS1.p2.10.m10.1.1.1.cmml">=</mo><mn id="S5.SS1.p2.10.m10.1.1.3" xref="S5.SS1.p2.10.m10.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.10.m10.1b"><apply id="S5.SS1.p2.10.m10.1.1.cmml" xref="S5.SS1.p2.10.m10.1.1"><eq id="S5.SS1.p2.10.m10.1.1.1.cmml" xref="S5.SS1.p2.10.m10.1.1.1"></eq><ci id="S5.SS1.p2.10.m10.1.1.2.cmml" xref="S5.SS1.p2.10.m10.1.1.2">𝑇</ci><cn type="integer" id="S5.SS1.p2.10.m10.1.1.3.cmml" xref="S5.SS1.p2.10.m10.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.10.m10.1c">T=10</annotation></semantics></math> rounds.
Performance metrics are reported as a two-step average: first, we compute the average score of test examples for each dataset, and then average per-dataset scores to obtain the final score.</p>
</div>
<figure id="S5.T4" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.T4.9" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:251.5pt;">
<table id="S5.T4.7.7" class="ltx_tabular ltx_guessed_headers ltx_align_top">
<tbody class="ltx_tbody">
<tr id="S5.T4.7.7.8.1" class="ltx_tr">
<th id="S5.T4.7.7.8.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt">T5-large<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>
</th>
<td id="S5.T4.7.7.8.1.2" class="ltx_td ltx_align_center ltx_border_tt" colspan="4">54.2</td>
</tr>
<tr id="S5.T4.1.1.1" class="ltx_tr">
<th id="S5.T4.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><math id="S5.T4.1.1.1.1.m1.1" class="ltx_Math" alttext="C=1.0" display="inline"><semantics id="S5.T4.1.1.1.1.m1.1a"><mrow id="S5.T4.1.1.1.1.m1.1.1" xref="S5.T4.1.1.1.1.m1.1.1.cmml"><mi id="S5.T4.1.1.1.1.m1.1.1.2" xref="S5.T4.1.1.1.1.m1.1.1.2.cmml">C</mi><mo id="S5.T4.1.1.1.1.m1.1.1.1" xref="S5.T4.1.1.1.1.m1.1.1.1.cmml">=</mo><mn id="S5.T4.1.1.1.1.m1.1.1.3" xref="S5.T4.1.1.1.1.m1.1.1.3.cmml">1.0</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.1.1.1.1.m1.1b"><apply id="S5.T4.1.1.1.1.m1.1.1.cmml" xref="S5.T4.1.1.1.1.m1.1.1"><eq id="S5.T4.1.1.1.1.m1.1.1.1.cmml" xref="S5.T4.1.1.1.1.m1.1.1.1"></eq><ci id="S5.T4.1.1.1.1.m1.1.1.2.cmml" xref="S5.T4.1.1.1.1.m1.1.1.2">𝐶</ci><cn type="float" id="S5.T4.1.1.1.1.m1.1.1.3.cmml" xref="S5.T4.1.1.1.1.m1.1.1.3">1.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.1.1.1.1.m1.1c">C=1.0</annotation></semantics></math></th>
<td id="S5.T4.1.1.1.2" class="ltx_td ltx_align_center ltx_border_t">53.16</td>
<td id="S5.T4.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t">46.54</td>
<td id="S5.T4.1.1.1.4" class="ltx_td ltx_align_center ltx_border_t">45.67</td>
<td id="S5.T4.1.1.1.5" class="ltx_td ltx_align_center ltx_border_t">37.64</td>
</tr>
<tr id="S5.T4.2.2.2" class="ltx_tr">
<th id="S5.T4.2.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S5.T4.2.2.2.1.m1.1" class="ltx_Math" alttext="C=0.7" display="inline"><semantics id="S5.T4.2.2.2.1.m1.1a"><mrow id="S5.T4.2.2.2.1.m1.1.1" xref="S5.T4.2.2.2.1.m1.1.1.cmml"><mi id="S5.T4.2.2.2.1.m1.1.1.2" xref="S5.T4.2.2.2.1.m1.1.1.2.cmml">C</mi><mo id="S5.T4.2.2.2.1.m1.1.1.1" xref="S5.T4.2.2.2.1.m1.1.1.1.cmml">=</mo><mn id="S5.T4.2.2.2.1.m1.1.1.3" xref="S5.T4.2.2.2.1.m1.1.1.3.cmml">0.7</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.2.2.2.1.m1.1b"><apply id="S5.T4.2.2.2.1.m1.1.1.cmml" xref="S5.T4.2.2.2.1.m1.1.1"><eq id="S5.T4.2.2.2.1.m1.1.1.1.cmml" xref="S5.T4.2.2.2.1.m1.1.1.1"></eq><ci id="S5.T4.2.2.2.1.m1.1.1.2.cmml" xref="S5.T4.2.2.2.1.m1.1.1.2">𝐶</ci><cn type="float" id="S5.T4.2.2.2.1.m1.1.1.3.cmml" xref="S5.T4.2.2.2.1.m1.1.1.3">0.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.2.2.2.1.m1.1c">C=0.7</annotation></semantics></math></th>
<td id="S5.T4.2.2.2.2" class="ltx_td ltx_align_center">-</td>
<td id="S5.T4.2.2.2.3" class="ltx_td ltx_align_center">43.3</td>
<td id="S5.T4.2.2.2.4" class="ltx_td ltx_align_center">43.21</td>
<td id="S5.T4.2.2.2.5" class="ltx_td ltx_align_center">35.21</td>
</tr>
<tr id="S5.T4.3.3.3" class="ltx_tr">
<th id="S5.T4.3.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S5.T4.3.3.3.1.m1.1" class="ltx_Math" alttext="C=0.35" display="inline"><semantics id="S5.T4.3.3.3.1.m1.1a"><mrow id="S5.T4.3.3.3.1.m1.1.1" xref="S5.T4.3.3.3.1.m1.1.1.cmml"><mi id="S5.T4.3.3.3.1.m1.1.1.2" xref="S5.T4.3.3.3.1.m1.1.1.2.cmml">C</mi><mo id="S5.T4.3.3.3.1.m1.1.1.1" xref="S5.T4.3.3.3.1.m1.1.1.1.cmml">=</mo><mn id="S5.T4.3.3.3.1.m1.1.1.3" xref="S5.T4.3.3.3.1.m1.1.1.3.cmml">0.35</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.3.3.3.1.m1.1b"><apply id="S5.T4.3.3.3.1.m1.1.1.cmml" xref="S5.T4.3.3.3.1.m1.1.1"><eq id="S5.T4.3.3.3.1.m1.1.1.1.cmml" xref="S5.T4.3.3.3.1.m1.1.1.1"></eq><ci id="S5.T4.3.3.3.1.m1.1.1.2.cmml" xref="S5.T4.3.3.3.1.m1.1.1.2">𝐶</ci><cn type="float" id="S5.T4.3.3.3.1.m1.1.1.3.cmml" xref="S5.T4.3.3.3.1.m1.1.1.3">0.35</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.3.3.3.1.m1.1c">C=0.35</annotation></semantics></math></th>
<td id="S5.T4.3.3.3.2" class="ltx_td ltx_align_center">-</td>
<td id="S5.T4.3.3.3.3" class="ltx_td ltx_align_center">35.04</td>
<td id="S5.T4.3.3.3.4" class="ltx_td ltx_align_center">41.66</td>
<td id="S5.T4.3.3.3.5" class="ltx_td ltx_align_center">32.42</td>
</tr>
<tr id="S5.T4.7.7.7" class="ltx_tr">
<th id="S5.T4.7.7.7.5" class="ltx_td ltx_th ltx_th_row ltx_border_bb ltx_border_t"></th>
<td id="S5.T4.4.4.4.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><math id="S5.T4.4.4.4.1.m1.1" class="ltx_Math" alttext="K=1" display="inline"><semantics id="S5.T4.4.4.4.1.m1.1a"><mrow id="S5.T4.4.4.4.1.m1.1.1" xref="S5.T4.4.4.4.1.m1.1.1.cmml"><mi id="S5.T4.4.4.4.1.m1.1.1.2" xref="S5.T4.4.4.4.1.m1.1.1.2.cmml">K</mi><mo id="S5.T4.4.4.4.1.m1.1.1.1" xref="S5.T4.4.4.4.1.m1.1.1.1.cmml">=</mo><mn id="S5.T4.4.4.4.1.m1.1.1.3" xref="S5.T4.4.4.4.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.4.4.4.1.m1.1b"><apply id="S5.T4.4.4.4.1.m1.1.1.cmml" xref="S5.T4.4.4.4.1.m1.1.1"><eq id="S5.T4.4.4.4.1.m1.1.1.1.cmml" xref="S5.T4.4.4.4.1.m1.1.1.1"></eq><ci id="S5.T4.4.4.4.1.m1.1.1.2.cmml" xref="S5.T4.4.4.4.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S5.T4.4.4.4.1.m1.1.1.3.cmml" xref="S5.T4.4.4.4.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.4.4.4.1.m1.1c">K=1</annotation></semantics></math></td>
<td id="S5.T4.5.5.5.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><math id="S5.T4.5.5.5.2.m1.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S5.T4.5.5.5.2.m1.1a"><mrow id="S5.T4.5.5.5.2.m1.1.1" xref="S5.T4.5.5.5.2.m1.1.1.cmml"><mi id="S5.T4.5.5.5.2.m1.1.1.2" xref="S5.T4.5.5.5.2.m1.1.1.2.cmml">K</mi><mo id="S5.T4.5.5.5.2.m1.1.1.1" xref="S5.T4.5.5.5.2.m1.1.1.1.cmml">=</mo><mn id="S5.T4.5.5.5.2.m1.1.1.3" xref="S5.T4.5.5.5.2.m1.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.5.5.5.2.m1.1b"><apply id="S5.T4.5.5.5.2.m1.1.1.cmml" xref="S5.T4.5.5.5.2.m1.1.1"><eq id="S5.T4.5.5.5.2.m1.1.1.1.cmml" xref="S5.T4.5.5.5.2.m1.1.1.1"></eq><ci id="S5.T4.5.5.5.2.m1.1.1.2.cmml" xref="S5.T4.5.5.5.2.m1.1.1.2">𝐾</ci><cn type="integer" id="S5.T4.5.5.5.2.m1.1.1.3.cmml" xref="S5.T4.5.5.5.2.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.5.5.5.2.m1.1c">K=3</annotation></semantics></math></td>
<td id="S5.T4.6.6.6.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><math id="S5.T4.6.6.6.3.m1.1" class="ltx_Math" alttext="K=10" display="inline"><semantics id="S5.T4.6.6.6.3.m1.1a"><mrow id="S5.T4.6.6.6.3.m1.1.1" xref="S5.T4.6.6.6.3.m1.1.1.cmml"><mi id="S5.T4.6.6.6.3.m1.1.1.2" xref="S5.T4.6.6.6.3.m1.1.1.2.cmml">K</mi><mo id="S5.T4.6.6.6.3.m1.1.1.1" xref="S5.T4.6.6.6.3.m1.1.1.1.cmml">=</mo><mn id="S5.T4.6.6.6.3.m1.1.1.3" xref="S5.T4.6.6.6.3.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.6.6.6.3.m1.1b"><apply id="S5.T4.6.6.6.3.m1.1.1.cmml" xref="S5.T4.6.6.6.3.m1.1.1"><eq id="S5.T4.6.6.6.3.m1.1.1.1.cmml" xref="S5.T4.6.6.6.3.m1.1.1.1"></eq><ci id="S5.T4.6.6.6.3.m1.1.1.2.cmml" xref="S5.T4.6.6.6.3.m1.1.1.2">𝐾</ci><cn type="integer" id="S5.T4.6.6.6.3.m1.1.1.3.cmml" xref="S5.T4.6.6.6.3.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.6.6.6.3.m1.1c">K=10</annotation></semantics></math></td>
<td id="S5.T4.7.7.7.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><math id="S5.T4.7.7.7.4.m1.1" class="ltx_Math" alttext="K=30" display="inline"><semantics id="S5.T4.7.7.7.4.m1.1a"><mrow id="S5.T4.7.7.7.4.m1.1.1" xref="S5.T4.7.7.7.4.m1.1.1.cmml"><mi id="S5.T4.7.7.7.4.m1.1.1.2" xref="S5.T4.7.7.7.4.m1.1.1.2.cmml">K</mi><mo id="S5.T4.7.7.7.4.m1.1.1.1" xref="S5.T4.7.7.7.4.m1.1.1.1.cmml">=</mo><mn id="S5.T4.7.7.7.4.m1.1.1.3" xref="S5.T4.7.7.7.4.m1.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.7.7.7.4.m1.1b"><apply id="S5.T4.7.7.7.4.m1.1.1.cmml" xref="S5.T4.7.7.7.4.m1.1.1"><eq id="S5.T4.7.7.7.4.m1.1.1.1.cmml" xref="S5.T4.7.7.7.4.m1.1.1.1"></eq><ci id="S5.T4.7.7.7.4.m1.1.1.2.cmml" xref="S5.T4.7.7.7.4.m1.1.1.2">𝐾</ci><cn type="integer" id="S5.T4.7.7.7.4.m1.1.1.3.cmml" xref="S5.T4.7.7.7.4.m1.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.7.7.7.4.m1.1c">K=30</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.T4.9.11.2.1" class="ltx_text" style="font-size:90%;">Table 3</span>: </span><span id="S5.T4.9.9.1" class="ltx_text ltx_font_bold" style="font-size:90%;">FedAvg performance on FeDocVQA test set<span id="S5.T4.9.9.1.1" class="ltx_text ltx_font_medium">. Each cell corresponds to one <math id="S5.T4.9.9.1.1.m1.2" class="ltx_Math" alttext="(K,C)" display="inline"><semantics id="S5.T4.9.9.1.1.m1.2b"><mrow id="S5.T4.9.9.1.1.m1.2.3.2" xref="S5.T4.9.9.1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S5.T4.9.9.1.1.m1.2.3.2.1" xref="S5.T4.9.9.1.1.m1.2.3.1.cmml">(</mo><mi id="S5.T4.9.9.1.1.m1.1.1" xref="S5.T4.9.9.1.1.m1.1.1.cmml">K</mi><mo id="S5.T4.9.9.1.1.m1.2.3.2.2" xref="S5.T4.9.9.1.1.m1.2.3.1.cmml">,</mo><mi id="S5.T4.9.9.1.1.m1.2.2" xref="S5.T4.9.9.1.1.m1.2.2.cmml">C</mi><mo stretchy="false" id="S5.T4.9.9.1.1.m1.2.3.2.3" xref="S5.T4.9.9.1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.9.9.1.1.m1.2c"><interval closure="open" id="S5.T4.9.9.1.1.m1.2.3.1.cmml" xref="S5.T4.9.9.1.1.m1.2.3.2"><ci id="S5.T4.9.9.1.1.m1.1.1.cmml" xref="S5.T4.9.9.1.1.m1.1.1">𝐾</ci><ci id="S5.T4.9.9.1.1.m1.2.2.cmml" xref="S5.T4.9.9.1.1.m1.2.2">𝐶</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.9.9.1.1.m1.2d">(K,C)</annotation></semantics></math> configuration. The centralized learning results of T5-large is based on DUE Benchmark <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. Metric is computed as two-stage average.</span></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.T4.17" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:164.8pt;">
<table id="S5.T4.15.6" class="ltx_tabular ltx_guessed_headers ltx_align_top">
<thead class="ltx_thead">
<tr id="S5.T4.15.6.7.1" class="ltx_tr">
<th id="S5.T4.15.6.7.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">LM</th>
<th id="S5.T4.15.6.7.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">TM</th>
<th id="S5.T4.15.6.7.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">TLM</th>
<th id="S5.T4.15.6.7.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Metric</th>
</tr>
<tr id="S5.T4.15.6.8.2" class="ltx_tr">
<th id="S5.T4.15.6.8.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="3">No FSP</th>
<th id="S5.T4.15.6.8.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">35.04</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T4.11.2.2" class="ltx_tr">
<td id="S5.T4.10.1.1.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S5.T4.10.1.1.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S5.T4.10.1.1.1.m1.1a"><mi mathvariant="normal" id="S5.T4.10.1.1.1.m1.1.1" xref="S5.T4.10.1.1.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S5.T4.10.1.1.1.m1.1b"><ci id="S5.T4.10.1.1.1.m1.1.1.cmml" xref="S5.T4.10.1.1.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.10.1.1.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S5.T4.11.2.2.2" class="ltx_td ltx_align_center ltx_border_t"><math id="S5.T4.11.2.2.2.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S5.T4.11.2.2.2.m1.1a"><mi mathvariant="normal" id="S5.T4.11.2.2.2.m1.1.1" xref="S5.T4.11.2.2.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S5.T4.11.2.2.2.m1.1b"><ci id="S5.T4.11.2.2.2.m1.1.1.cmml" xref="S5.T4.11.2.2.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.11.2.2.2.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S5.T4.11.2.2.3" class="ltx_td ltx_border_t"></td>
<td id="S5.T4.11.2.2.4" class="ltx_td ltx_align_center ltx_border_t">35.76</td>
</tr>
<tr id="S5.T4.12.3.3" class="ltx_tr">
<td id="S5.T4.12.3.3.2" class="ltx_td"></td>
<td id="S5.T4.12.3.3.3" class="ltx_td"></td>
<td id="S5.T4.12.3.3.1" class="ltx_td ltx_align_center"><math id="S5.T4.12.3.3.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S5.T4.12.3.3.1.m1.1a"><mi mathvariant="normal" id="S5.T4.12.3.3.1.m1.1.1" xref="S5.T4.12.3.3.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S5.T4.12.3.3.1.m1.1b"><ci id="S5.T4.12.3.3.1.m1.1.1.cmml" xref="S5.T4.12.3.3.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.12.3.3.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S5.T4.12.3.3.4" class="ltx_td ltx_align_center">36.74</td>
</tr>
<tr id="S5.T4.15.6.6" class="ltx_tr">
<td id="S5.T4.13.4.4.1" class="ltx_td ltx_align_center ltx_border_bb"><math id="S5.T4.13.4.4.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S5.T4.13.4.4.1.m1.1a"><mi mathvariant="normal" id="S5.T4.13.4.4.1.m1.1.1" xref="S5.T4.13.4.4.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S5.T4.13.4.4.1.m1.1b"><ci id="S5.T4.13.4.4.1.m1.1.1.cmml" xref="S5.T4.13.4.4.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.13.4.4.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S5.T4.14.5.5.2" class="ltx_td ltx_align_center ltx_border_bb"><math id="S5.T4.14.5.5.2.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S5.T4.14.5.5.2.m1.1a"><mi mathvariant="normal" id="S5.T4.14.5.5.2.m1.1.1" xref="S5.T4.14.5.5.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S5.T4.14.5.5.2.m1.1b"><ci id="S5.T4.14.5.5.2.m1.1.1.cmml" xref="S5.T4.14.5.5.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.14.5.5.2.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S5.T4.15.6.6.3" class="ltx_td ltx_align_center ltx_border_bb"><math id="S5.T4.15.6.6.3.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S5.T4.15.6.6.3.m1.1a"><mi mathvariant="normal" id="S5.T4.15.6.6.3.m1.1.1" xref="S5.T4.15.6.6.3.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S5.T4.15.6.6.3.m1.1b"><ci id="S5.T4.15.6.6.3.m1.1.1.cmml" xref="S5.T4.15.6.6.3.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.15.6.6.3.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S5.T4.15.6.6.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S5.T4.15.6.6.4.1" class="ltx_text ltx_font_bold">37.65</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.T4.17.10.2.1" class="ltx_text" style="font-size:90%;">Table 4</span>: </span><span id="S5.T4.17.8.1" class="ltx_text ltx_font_bold" style="font-size:90%;">FedAvg performance on FeDocVQA test set with FSP<span id="S5.T4.17.8.1.1" class="ltx_text ltx_font_medium"> using different pretraining objectives. We run <math id="S5.T4.17.8.1.1.m1.1" class="ltx_Math" alttext="T=10" display="inline"><semantics id="S5.T4.17.8.1.1.m1.1b"><mrow id="S5.T4.17.8.1.1.m1.1.1" xref="S5.T4.17.8.1.1.m1.1.1.cmml"><mi id="S5.T4.17.8.1.1.m1.1.1.2" xref="S5.T4.17.8.1.1.m1.1.1.2.cmml">T</mi><mo id="S5.T4.17.8.1.1.m1.1.1.1" xref="S5.T4.17.8.1.1.m1.1.1.1.cmml">=</mo><mn id="S5.T4.17.8.1.1.m1.1.1.3" xref="S5.T4.17.8.1.1.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.17.8.1.1.m1.1c"><apply id="S5.T4.17.8.1.1.m1.1.1.cmml" xref="S5.T4.17.8.1.1.m1.1.1"><eq id="S5.T4.17.8.1.1.m1.1.1.1.cmml" xref="S5.T4.17.8.1.1.m1.1.1.1"></eq><ci id="S5.T4.17.8.1.1.m1.1.1.2.cmml" xref="S5.T4.17.8.1.1.m1.1.1.2">𝑇</ci><cn type="integer" id="S5.T4.17.8.1.1.m1.1.1.3.cmml" xref="S5.T4.17.8.1.1.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.17.8.1.1.m1.1d">T=10</annotation></semantics></math> pretraining rounds.</span></span></figcaption>
</figure>
</div>
</div>
</figure>
<div id="S5.SS1.p3" class="ltx_para">
<p id="S5.SS1.p3.4" class="ltx_p">Table <a href="#S5.T4" title="Table 4 ‣ 5.1 Baselines ‣ 5 Results ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> summarizes FeDocVQA performance of FedAvg as a function of number of total clients <math id="S5.SS1.p3.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S5.SS1.p3.1.m1.1a"><mi id="S5.SS1.p3.1.m1.1.1" xref="S5.SS1.p3.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.1.m1.1b"><ci id="S5.SS1.p3.1.m1.1.1.cmml" xref="S5.SS1.p3.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.1.m1.1c">K</annotation></semantics></math> and sampling probability <math id="S5.SS1.p3.2.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S5.SS1.p3.2.m2.1a"><mi id="S5.SS1.p3.2.m2.1.1" xref="S5.SS1.p3.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.2.m2.1b"><ci id="S5.SS1.p3.2.m2.1.1.cmml" xref="S5.SS1.p3.2.m2.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.2.m2.1c">C</annotation></semantics></math>. Plots of validation performances (loss/metric) for the case <math id="S5.SS1.p3.3.m3.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S5.SS1.p3.3.m3.1a"><mrow id="S5.SS1.p3.3.m3.1.1" xref="S5.SS1.p3.3.m3.1.1.cmml"><mi id="S5.SS1.p3.3.m3.1.1.2" xref="S5.SS1.p3.3.m3.1.1.2.cmml">K</mi><mo id="S5.SS1.p3.3.m3.1.1.1" xref="S5.SS1.p3.3.m3.1.1.1.cmml">=</mo><mn id="S5.SS1.p3.3.m3.1.1.3" xref="S5.SS1.p3.3.m3.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.3.m3.1b"><apply id="S5.SS1.p3.3.m3.1.1.cmml" xref="S5.SS1.p3.3.m3.1.1"><eq id="S5.SS1.p3.3.m3.1.1.1.cmml" xref="S5.SS1.p3.3.m3.1.1.1"></eq><ci id="S5.SS1.p3.3.m3.1.1.2.cmml" xref="S5.SS1.p3.3.m3.1.1.2">𝐾</ci><cn type="integer" id="S5.SS1.p3.3.m3.1.1.3.cmml" xref="S5.SS1.p3.3.m3.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.3.m3.1c">K=3</annotation></semantics></math> are in Figure <a href="#S5.F4" title="Figure 4 ‣ 5.1 Baselines ‣ 5 Results ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.
We also present results for <math id="S5.SS1.p3.4.m4.1" class="ltx_Math" alttext="(C=1,K=1)" display="inline"><semantics id="S5.SS1.p3.4.m4.1a"><mrow id="S5.SS1.p3.4.m4.1.1.1"><mo stretchy="false" id="S5.SS1.p3.4.m4.1.1.1.2">(</mo><mrow id="S5.SS1.p3.4.m4.1.1.1.1.2" xref="S5.SS1.p3.4.m4.1.1.1.1.3.cmml"><mrow id="S5.SS1.p3.4.m4.1.1.1.1.1.1" xref="S5.SS1.p3.4.m4.1.1.1.1.1.1.cmml"><mi id="S5.SS1.p3.4.m4.1.1.1.1.1.1.2" xref="S5.SS1.p3.4.m4.1.1.1.1.1.1.2.cmml">C</mi><mo id="S5.SS1.p3.4.m4.1.1.1.1.1.1.1" xref="S5.SS1.p3.4.m4.1.1.1.1.1.1.1.cmml">=</mo><mn id="S5.SS1.p3.4.m4.1.1.1.1.1.1.3" xref="S5.SS1.p3.4.m4.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S5.SS1.p3.4.m4.1.1.1.1.2.3" xref="S5.SS1.p3.4.m4.1.1.1.1.3a.cmml">,</mo><mrow id="S5.SS1.p3.4.m4.1.1.1.1.2.2" xref="S5.SS1.p3.4.m4.1.1.1.1.2.2.cmml"><mi id="S5.SS1.p3.4.m4.1.1.1.1.2.2.2" xref="S5.SS1.p3.4.m4.1.1.1.1.2.2.2.cmml">K</mi><mo id="S5.SS1.p3.4.m4.1.1.1.1.2.2.1" xref="S5.SS1.p3.4.m4.1.1.1.1.2.2.1.cmml">=</mo><mn id="S5.SS1.p3.4.m4.1.1.1.1.2.2.3" xref="S5.SS1.p3.4.m4.1.1.1.1.2.2.3.cmml">1</mn></mrow></mrow><mo stretchy="false" id="S5.SS1.p3.4.m4.1.1.1.3">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.4.m4.1b"><apply id="S5.SS1.p3.4.m4.1.1.1.1.3.cmml" xref="S5.SS1.p3.4.m4.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.SS1.p3.4.m4.1.1.1.1.3a.cmml" xref="S5.SS1.p3.4.m4.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S5.SS1.p3.4.m4.1.1.1.1.1.1.cmml" xref="S5.SS1.p3.4.m4.1.1.1.1.1.1"><eq id="S5.SS1.p3.4.m4.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p3.4.m4.1.1.1.1.1.1.1"></eq><ci id="S5.SS1.p3.4.m4.1.1.1.1.1.1.2.cmml" xref="S5.SS1.p3.4.m4.1.1.1.1.1.1.2">𝐶</ci><cn type="integer" id="S5.SS1.p3.4.m4.1.1.1.1.1.1.3.cmml" xref="S5.SS1.p3.4.m4.1.1.1.1.1.1.3">1</cn></apply><apply id="S5.SS1.p3.4.m4.1.1.1.1.2.2.cmml" xref="S5.SS1.p3.4.m4.1.1.1.1.2.2"><eq id="S5.SS1.p3.4.m4.1.1.1.1.2.2.1.cmml" xref="S5.SS1.p3.4.m4.1.1.1.1.2.2.1"></eq><ci id="S5.SS1.p3.4.m4.1.1.1.1.2.2.2.cmml" xref="S5.SS1.p3.4.m4.1.1.1.1.2.2.2">𝐾</ci><cn type="integer" id="S5.SS1.p3.4.m4.1.1.1.1.2.2.3.cmml" xref="S5.SS1.p3.4.m4.1.1.1.1.2.2.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.4.m4.1c">(C=1,K=1)</annotation></semantics></math>, which corresponds to the centralized training, where the model is finetuned using data from all datasets collectively. Compared to the T5-large variant <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, simply finetuning our model already achieves comparable performance with fewer parameters (220M vs 770M).</p>
</div>
<div id="S5.SS1.p4" class="ltx_para">
<p id="S5.SS1.p4.10" class="ltx_p">We first analyze the result with different values of <math id="S5.SS1.p4.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S5.SS1.p4.1.m1.1a"><mi id="S5.SS1.p4.1.m1.1.1" xref="S5.SS1.p4.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.1.m1.1b"><ci id="S5.SS1.p4.1.m1.1.1.cmml" xref="S5.SS1.p4.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.1.m1.1c">K</annotation></semantics></math>. We observe a significantly lower performance when <math id="S5.SS1.p4.2.m2.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S5.SS1.p4.2.m2.1a"><mrow id="S5.SS1.p4.2.m2.1.1" xref="S5.SS1.p4.2.m2.1.1.cmml"><mi id="S5.SS1.p4.2.m2.1.1.2" xref="S5.SS1.p4.2.m2.1.1.2.cmml">K</mi><mo id="S5.SS1.p4.2.m2.1.1.1" xref="S5.SS1.p4.2.m2.1.1.1.cmml">=</mo><mn id="S5.SS1.p4.2.m2.1.1.3" xref="S5.SS1.p4.2.m2.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.2.m2.1b"><apply id="S5.SS1.p4.2.m2.1.1.cmml" xref="S5.SS1.p4.2.m2.1.1"><eq id="S5.SS1.p4.2.m2.1.1.1.cmml" xref="S5.SS1.p4.2.m2.1.1.1"></eq><ci id="S5.SS1.p4.2.m2.1.1.2.cmml" xref="S5.SS1.p4.2.m2.1.1.2">𝐾</ci><cn type="integer" id="S5.SS1.p4.2.m2.1.1.3.cmml" xref="S5.SS1.p4.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.2.m2.1c">K=3</annotation></semantics></math> and <math id="S5.SS1.p4.3.m3.1" class="ltx_Math" alttext="C=0.35" display="inline"><semantics id="S5.SS1.p4.3.m3.1a"><mrow id="S5.SS1.p4.3.m3.1.1" xref="S5.SS1.p4.3.m3.1.1.cmml"><mi id="S5.SS1.p4.3.m3.1.1.2" xref="S5.SS1.p4.3.m3.1.1.2.cmml">C</mi><mo id="S5.SS1.p4.3.m3.1.1.1" xref="S5.SS1.p4.3.m3.1.1.1.cmml">=</mo><mn id="S5.SS1.p4.3.m3.1.1.3" xref="S5.SS1.p4.3.m3.1.1.3.cmml">0.35</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.3.m3.1b"><apply id="S5.SS1.p4.3.m3.1.1.cmml" xref="S5.SS1.p4.3.m3.1.1"><eq id="S5.SS1.p4.3.m3.1.1.1.cmml" xref="S5.SS1.p4.3.m3.1.1.1"></eq><ci id="S5.SS1.p4.3.m3.1.1.2.cmml" xref="S5.SS1.p4.3.m3.1.1.2">𝐶</ci><cn type="float" id="S5.SS1.p4.3.m3.1.1.3.cmml" xref="S5.SS1.p4.3.m3.1.1.3">0.35</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.3.m3.1c">C=0.35</annotation></semantics></math>, corresponding to fine-tuning the model on one dataset after another, leading to catastrophic forgetting. It can also be seen from Figure <a href="#S5.F4" title="Figure 4 ‣ 5.1 Baselines ‣ 5 Results ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and Figure <a href="#S5.F4" title="Figure 4 ‣ 5.1 Baselines ‣ 5 Results ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> that the validation loss/per-dataset metric fluctuates considerably at each round.
Interestingly, increasing in the number of clients <math id="S5.SS1.p4.4.m4.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S5.SS1.p4.4.m4.1a"><mi id="S5.SS1.p4.4.m4.1.1" xref="S5.SS1.p4.4.m4.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.4.m4.1b"><ci id="S5.SS1.p4.4.m4.1.1.cmml" xref="S5.SS1.p4.4.m4.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.4.m4.1c">K</annotation></semantics></math> from 3 to 10 yields substantial improvements, but further increasing from 10 to 30 results in a decline in performance. For instance, considering <math id="S5.SS1.p4.5.m5.1" class="ltx_Math" alttext="C=0.35" display="inline"><semantics id="S5.SS1.p4.5.m5.1a"><mrow id="S5.SS1.p4.5.m5.1.1" xref="S5.SS1.p4.5.m5.1.1.cmml"><mi id="S5.SS1.p4.5.m5.1.1.2" xref="S5.SS1.p4.5.m5.1.1.2.cmml">C</mi><mo id="S5.SS1.p4.5.m5.1.1.1" xref="S5.SS1.p4.5.m5.1.1.1.cmml">=</mo><mn id="S5.SS1.p4.5.m5.1.1.3" xref="S5.SS1.p4.5.m5.1.1.3.cmml">0.35</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.5.m5.1b"><apply id="S5.SS1.p4.5.m5.1.1.cmml" xref="S5.SS1.p4.5.m5.1.1"><eq id="S5.SS1.p4.5.m5.1.1.1.cmml" xref="S5.SS1.p4.5.m5.1.1.1"></eq><ci id="S5.SS1.p4.5.m5.1.1.2.cmml" xref="S5.SS1.p4.5.m5.1.1.2">𝐶</ci><cn type="float" id="S5.SS1.p4.5.m5.1.1.3.cmml" xref="S5.SS1.p4.5.m5.1.1.3">0.35</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.5.m5.1c">C=0.35</annotation></semantics></math>, increasing <math id="S5.SS1.p4.6.m6.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S5.SS1.p4.6.m6.1a"><mi id="S5.SS1.p4.6.m6.1.1" xref="S5.SS1.p4.6.m6.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.6.m6.1b"><ci id="S5.SS1.p4.6.m6.1.1.cmml" xref="S5.SS1.p4.6.m6.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.6.m6.1c">K</annotation></semantics></math> from 3 to 10 highlights the advantages of FL, as the server aggregates training updates from multiple clients, therefore mitigating heterogeneity in each communication round. However, the performance drop observed when increasing <math id="S5.SS1.p4.7.m7.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S5.SS1.p4.7.m7.1a"><mi id="S5.SS1.p4.7.m7.1.1" xref="S5.SS1.p4.7.m7.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.7.m7.1b"><ci id="S5.SS1.p4.7.m7.1.1.cmml" xref="S5.SS1.p4.7.m7.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.7.m7.1c">K</annotation></semantics></math> from 10 to 30 is attributed to significantly less local computation and more frequent model synchronization. Specifically, recall from Table <a href="#S4.T2" title="Table 2 ‣ 4.2 Data Partition ‣ 4 Experimental Setup ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, when <math id="S5.SS1.p4.8.m8.1" class="ltx_Math" alttext="K=10" display="inline"><semantics id="S5.SS1.p4.8.m8.1a"><mrow id="S5.SS1.p4.8.m8.1.1" xref="S5.SS1.p4.8.m8.1.1.cmml"><mi id="S5.SS1.p4.8.m8.1.1.2" xref="S5.SS1.p4.8.m8.1.1.2.cmml">K</mi><mo id="S5.SS1.p4.8.m8.1.1.1" xref="S5.SS1.p4.8.m8.1.1.1.cmml">=</mo><mn id="S5.SS1.p4.8.m8.1.1.3" xref="S5.SS1.p4.8.m8.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.8.m8.1b"><apply id="S5.SS1.p4.8.m8.1.1.cmml" xref="S5.SS1.p4.8.m8.1.1"><eq id="S5.SS1.p4.8.m8.1.1.1.cmml" xref="S5.SS1.p4.8.m8.1.1.1"></eq><ci id="S5.SS1.p4.8.m8.1.1.2.cmml" xref="S5.SS1.p4.8.m8.1.1.2">𝐾</ci><cn type="integer" id="S5.SS1.p4.8.m8.1.1.3.cmml" xref="S5.SS1.p4.8.m8.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.8.m8.1c">K=10</annotation></semantics></math>, each client holds 2x-4x more data compared to when <math id="S5.SS1.p4.9.m9.1" class="ltx_Math" alttext="K=30" display="inline"><semantics id="S5.SS1.p4.9.m9.1a"><mrow id="S5.SS1.p4.9.m9.1.1" xref="S5.SS1.p4.9.m9.1.1.cmml"><mi id="S5.SS1.p4.9.m9.1.1.2" xref="S5.SS1.p4.9.m9.1.1.2.cmml">K</mi><mo id="S5.SS1.p4.9.m9.1.1.1" xref="S5.SS1.p4.9.m9.1.1.1.cmml">=</mo><mn id="S5.SS1.p4.9.m9.1.1.3" xref="S5.SS1.p4.9.m9.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.9.m9.1b"><apply id="S5.SS1.p4.9.m9.1.1.cmml" xref="S5.SS1.p4.9.m9.1.1"><eq id="S5.SS1.p4.9.m9.1.1.1.cmml" xref="S5.SS1.p4.9.m9.1.1.1"></eq><ci id="S5.SS1.p4.9.m9.1.1.2.cmml" xref="S5.SS1.p4.9.m9.1.1.2">𝐾</ci><cn type="integer" id="S5.SS1.p4.9.m9.1.1.3.cmml" xref="S5.SS1.p4.9.m9.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.9.m9.1c">K=30</annotation></semantics></math>, allowing for more gradient steps during local training and less frequent weight synchronization. In contrast, <math id="S5.SS1.p4.10.m10.1" class="ltx_Math" alttext="K=30" display="inline"><semantics id="S5.SS1.p4.10.m10.1a"><mrow id="S5.SS1.p4.10.m10.1.1" xref="S5.SS1.p4.10.m10.1.1.cmml"><mi id="S5.SS1.p4.10.m10.1.1.2" xref="S5.SS1.p4.10.m10.1.1.2.cmml">K</mi><mo id="S5.SS1.p4.10.m10.1.1.1" xref="S5.SS1.p4.10.m10.1.1.1.cmml">=</mo><mn id="S5.SS1.p4.10.m10.1.1.3" xref="S5.SS1.p4.10.m10.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.10.m10.1b"><apply id="S5.SS1.p4.10.m10.1.1.cmml" xref="S5.SS1.p4.10.m10.1.1"><eq id="S5.SS1.p4.10.m10.1.1.1.cmml" xref="S5.SS1.p4.10.m10.1.1.1"></eq><ci id="S5.SS1.p4.10.m10.1.1.2.cmml" xref="S5.SS1.p4.10.m10.1.1.2">𝐾</ci><cn type="integer" id="S5.SS1.p4.10.m10.1.1.3.cmml" xref="S5.SS1.p4.10.m10.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.10.m10.1c">K=30</annotation></semantics></math> entails a more widely spread population with less training data per client. This observation suggests that <span id="S5.SS1.p4.10.1" class="ltx_text ltx_font_italic">having more local updates per round can speedup convergence and result in better performance</span>, aligning with prior research findings <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>. Furthermore, it is worth noting that the partition is synthetically created, thus the final performance is sensitive on the client-to-dataset ratio, which is computed based on the size of each dataset.
</p>
</div>
<figure id="S5.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F4.5" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:277.5pt;"><img src="/html/2405.06636/assets/x3.png" id="S5.F4.1.g1" class="ltx_graphics ltx_img_landscape" width="415" height="191" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.5.6.3.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S5.F4.5.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">FedAvg training progress with Adam optimizer as CLIENTOPT<span id="S5.F4.5.4.2.2" class="ltx_text ltx_font_medium">. This plot presents the validation loss (left) and metric (right) curves for <math id="S5.F4.4.3.1.1.m1.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S5.F4.4.3.1.1.m1.1b"><mrow id="S5.F4.4.3.1.1.m1.1.1" xref="S5.F4.4.3.1.1.m1.1.1.cmml"><mi id="S5.F4.4.3.1.1.m1.1.1.2" xref="S5.F4.4.3.1.1.m1.1.1.2.cmml">K</mi><mo id="S5.F4.4.3.1.1.m1.1.1.1" xref="S5.F4.4.3.1.1.m1.1.1.1.cmml">=</mo><mn id="S5.F4.4.3.1.1.m1.1.1.3" xref="S5.F4.4.3.1.1.m1.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.4.3.1.1.m1.1c"><apply id="S5.F4.4.3.1.1.m1.1.1.cmml" xref="S5.F4.4.3.1.1.m1.1.1"><eq id="S5.F4.4.3.1.1.m1.1.1.1.cmml" xref="S5.F4.4.3.1.1.m1.1.1.1"></eq><ci id="S5.F4.4.3.1.1.m1.1.1.2.cmml" xref="S5.F4.4.3.1.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S5.F4.4.3.1.1.m1.1.1.3.cmml" xref="S5.F4.4.3.1.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.4.3.1.1.m1.1d">K=3</annotation></semantics></math> while varying <math id="S5.F4.5.4.2.2.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S5.F4.5.4.2.2.m2.1b"><mi id="S5.F4.5.4.2.2.m2.1.1" xref="S5.F4.5.4.2.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S5.F4.5.4.2.2.m2.1c"><ci id="S5.F4.5.4.2.2.m2.1.1.cmml" xref="S5.F4.5.4.2.2.m2.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.5.4.2.2.m2.1d">C</annotation></semantics></math>. We fit a quadratic regression model for better visualization.</span></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F4.10" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:143.1pt;"><img src="/html/2405.06636/assets/x4.png" id="S5.F4.6.g1" class="ltx_graphics ltx_img_landscape" width="461" height="343" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.10.6.3.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S5.F4.10.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Breakdown of per-dataset metrics<span id="S5.F4.10.4.2.2" class="ltx_text ltx_font_medium"> on validation set over FedAvg training, with <math id="S5.F4.9.3.1.1.m1.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S5.F4.9.3.1.1.m1.1b"><mrow id="S5.F4.9.3.1.1.m1.1.1" xref="S5.F4.9.3.1.1.m1.1.1.cmml"><mi id="S5.F4.9.3.1.1.m1.1.1.2" xref="S5.F4.9.3.1.1.m1.1.1.2.cmml">K</mi><mo id="S5.F4.9.3.1.1.m1.1.1.1" xref="S5.F4.9.3.1.1.m1.1.1.1.cmml">=</mo><mn id="S5.F4.9.3.1.1.m1.1.1.3" xref="S5.F4.9.3.1.1.m1.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.9.3.1.1.m1.1c"><apply id="S5.F4.9.3.1.1.m1.1.1.cmml" xref="S5.F4.9.3.1.1.m1.1.1"><eq id="S5.F4.9.3.1.1.m1.1.1.1.cmml" xref="S5.F4.9.3.1.1.m1.1.1.1"></eq><ci id="S5.F4.9.3.1.1.m1.1.1.2.cmml" xref="S5.F4.9.3.1.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S5.F4.9.3.1.1.m1.1.1.3.cmml" xref="S5.F4.9.3.1.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.9.3.1.1.m1.1d">K=3</annotation></semantics></math> and <math id="S5.F4.10.4.2.2.m2.1" class="ltx_Math" alttext="C=0.35" display="inline"><semantics id="S5.F4.10.4.2.2.m2.1b"><mrow id="S5.F4.10.4.2.2.m2.1.1" xref="S5.F4.10.4.2.2.m2.1.1.cmml"><mi id="S5.F4.10.4.2.2.m2.1.1.2" xref="S5.F4.10.4.2.2.m2.1.1.2.cmml">C</mi><mo id="S5.F4.10.4.2.2.m2.1.1.1" xref="S5.F4.10.4.2.2.m2.1.1.1.cmml">=</mo><mn id="S5.F4.10.4.2.2.m2.1.1.3" xref="S5.F4.10.4.2.2.m2.1.1.3.cmml">0.35</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.10.4.2.2.m2.1c"><apply id="S5.F4.10.4.2.2.m2.1.1.cmml" xref="S5.F4.10.4.2.2.m2.1.1"><eq id="S5.F4.10.4.2.2.m2.1.1.1.cmml" xref="S5.F4.10.4.2.2.m2.1.1.1"></eq><ci id="S5.F4.10.4.2.2.m2.1.1.2.cmml" xref="S5.F4.10.4.2.2.m2.1.1.2">𝐶</ci><cn type="float" id="S5.F4.10.4.2.2.m2.1.1.3.cmml" xref="S5.F4.10.4.2.2.m2.1.1.3">0.35</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.10.4.2.2.m2.1d">C=0.35</annotation></semantics></math>.</span></span></figcaption>
</figure>
</div>
</div>
</figure>
<div id="S5.SS1.p5" class="ltx_para">
<p id="S5.SS1.p5.8" class="ltx_p">For most cases of <math id="S5.SS1.p5.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S5.SS1.p5.1.m1.1a"><mi id="S5.SS1.p5.1.m1.1.1" xref="S5.SS1.p5.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p5.1.m1.1b"><ci id="S5.SS1.p5.1.m1.1.1.cmml" xref="S5.SS1.p5.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p5.1.m1.1c">K</annotation></semantics></math>, we observe that significant improvements occur around high values of <math id="S5.SS1.p5.2.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S5.SS1.p5.2.m2.1a"><mi id="S5.SS1.p5.2.m2.1.1" xref="S5.SS1.p5.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p5.2.m2.1b"><ci id="S5.SS1.p5.2.m2.1.1.cmml" xref="S5.SS1.p5.2.m2.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p5.2.m2.1c">C</annotation></semantics></math>, particularly with <math id="S5.SS1.p5.3.m3.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S5.SS1.p5.3.m3.1a"><mrow id="S5.SS1.p5.3.m3.1.1" xref="S5.SS1.p5.3.m3.1.1.cmml"><mi id="S5.SS1.p5.3.m3.1.1.2" xref="S5.SS1.p5.3.m3.1.1.2.cmml">K</mi><mo id="S5.SS1.p5.3.m3.1.1.1" xref="S5.SS1.p5.3.m3.1.1.1.cmml">=</mo><mn id="S5.SS1.p5.3.m3.1.1.3" xref="S5.SS1.p5.3.m3.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p5.3.m3.1b"><apply id="S5.SS1.p5.3.m3.1.1.cmml" xref="S5.SS1.p5.3.m3.1.1"><eq id="S5.SS1.p5.3.m3.1.1.1.cmml" xref="S5.SS1.p5.3.m3.1.1.1"></eq><ci id="S5.SS1.p5.3.m3.1.1.2.cmml" xref="S5.SS1.p5.3.m3.1.1.2">𝐾</ci><cn type="integer" id="S5.SS1.p5.3.m3.1.1.3.cmml" xref="S5.SS1.p5.3.m3.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p5.3.m3.1c">K=3</annotation></semantics></math>, demonstrating that incorporating more clients per communication round has a notable impact. This result confirms our assumption that there is <span id="S5.SS1.p5.8.1" class="ltx_text ltx_font_italic">an inherent structure driving document understanding capabilities across various DocVQA datasets</span>, despite their disparate domains.
In the literature, there has not been a definitive conclusion regarding the effect of <math id="S5.SS1.p5.4.m4.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S5.SS1.p5.4.m4.1a"><mi id="S5.SS1.p5.4.m4.1.1" xref="S5.SS1.p5.4.m4.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p5.4.m4.1b"><ci id="S5.SS1.p5.4.m4.1.1.cmml" xref="S5.SS1.p5.4.m4.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p5.4.m4.1c">C</annotation></semantics></math> when it approaches full-participation (<math id="S5.SS1.p5.5.m5.1" class="ltx_Math" alttext="C=1" display="inline"><semantics id="S5.SS1.p5.5.m5.1a"><mrow id="S5.SS1.p5.5.m5.1.1" xref="S5.SS1.p5.5.m5.1.1.cmml"><mi id="S5.SS1.p5.5.m5.1.1.2" xref="S5.SS1.p5.5.m5.1.1.2.cmml">C</mi><mo id="S5.SS1.p5.5.m5.1.1.1" xref="S5.SS1.p5.5.m5.1.1.1.cmml">=</mo><mn id="S5.SS1.p5.5.m5.1.1.3" xref="S5.SS1.p5.5.m5.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p5.5.m5.1b"><apply id="S5.SS1.p5.5.m5.1.1.cmml" xref="S5.SS1.p5.5.m5.1.1"><eq id="S5.SS1.p5.5.m5.1.1.1.cmml" xref="S5.SS1.p5.5.m5.1.1.1"></eq><ci id="S5.SS1.p5.5.m5.1.1.2.cmml" xref="S5.SS1.p5.5.m5.1.1.2">𝐶</ci><cn type="integer" id="S5.SS1.p5.5.m5.1.1.3.cmml" xref="S5.SS1.p5.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p5.5.m5.1c">C=1</annotation></semantics></math>). For instance, <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> reported results with only small values of <math id="S5.SS1.p5.6.m6.1" class="ltx_Math" alttext="C\leq 0.5" display="inline"><semantics id="S5.SS1.p5.6.m6.1a"><mrow id="S5.SS1.p5.6.m6.1.1" xref="S5.SS1.p5.6.m6.1.1.cmml"><mi id="S5.SS1.p5.6.m6.1.1.2" xref="S5.SS1.p5.6.m6.1.1.2.cmml">C</mi><mo id="S5.SS1.p5.6.m6.1.1.1" xref="S5.SS1.p5.6.m6.1.1.1.cmml">≤</mo><mn id="S5.SS1.p5.6.m6.1.1.3" xref="S5.SS1.p5.6.m6.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p5.6.m6.1b"><apply id="S5.SS1.p5.6.m6.1.1.cmml" xref="S5.SS1.p5.6.m6.1.1"><leq id="S5.SS1.p5.6.m6.1.1.1.cmml" xref="S5.SS1.p5.6.m6.1.1.1"></leq><ci id="S5.SS1.p5.6.m6.1.1.2.cmml" xref="S5.SS1.p5.6.m6.1.1.2">𝐶</ci><cn type="float" id="S5.SS1.p5.6.m6.1.1.3.cmml" xref="S5.SS1.p5.6.m6.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p5.6.m6.1c">C\leq 0.5</annotation></semantics></math> and observed marginal improvements between <math id="S5.SS1.p5.7.m7.1" class="ltx_Math" alttext="0.2" display="inline"><semantics id="S5.SS1.p5.7.m7.1a"><mn id="S5.SS1.p5.7.m7.1.1" xref="S5.SS1.p5.7.m7.1.1.cmml">0.2</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.p5.7.m7.1b"><cn type="float" id="S5.SS1.p5.7.m7.1.1.cmml" xref="S5.SS1.p5.7.m7.1.1">0.2</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p5.7.m7.1c">0.2</annotation></semantics></math> to <math id="S5.SS1.p5.8.m8.1" class="ltx_Math" alttext="0.5" display="inline"><semantics id="S5.SS1.p5.8.m8.1a"><mn id="S5.SS1.p5.8.m8.1.1" xref="S5.SS1.p5.8.m8.1.1.cmml">0.5</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.p5.8.m8.1b"><cn type="float" id="S5.SS1.p5.8.m8.1.1.cmml" xref="S5.SS1.p5.8.m8.1.1">0.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p5.8.m8.1c">0.5</annotation></semantics></math>. We speculate that prior studies, which mainly focused on randomly initialized models and scenarios with limited multi-client parallelism, may not generalize well to complex tasks like DocVQA, where pretrained models are extensively utilized with sufficient computation.</p>
</div>
<figure id="S5.T5" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.T5.14" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:221.1pt;">
<table id="S5.T5.8.8" class="ltx_tabular ltx_guessed_headers ltx_align_top">
<tbody class="ltx_tbody">
<tr id="S5.T5.8.8.9.1" class="ltx_tr">
<th id="S5.T5.8.8.9.1.1" class="ltx_td ltx_th ltx_th_row ltx_border_tt"></th>
<th id="S5.T5.8.8.9.1.2" class="ltx_td ltx_th ltx_th_row ltx_border_tt"></th>
<td id="S5.T5.8.8.9.1.3" class="ltx_td ltx_align_center ltx_border_tt" colspan="3">FSP+FedAvg</td>
<td id="S5.T5.8.8.9.1.4" class="ltx_td ltx_align_center ltx_border_tt">FedAvg</td>
</tr>
<tr id="S5.T5.2.2.2" class="ltx_tr">
<th id="S5.T5.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" rowspan="3"><span id="S5.T5.1.1.1.1.1" class="ltx_text"><math id="S5.T5.1.1.1.1.1.m1.1" class="ltx_Math" alttext="C_{\text{ft}}" display="inline"><semantics id="S5.T5.1.1.1.1.1.m1.1a"><msub id="S5.T5.1.1.1.1.1.m1.1.1" xref="S5.T5.1.1.1.1.1.m1.1.1.cmml"><mi id="S5.T5.1.1.1.1.1.m1.1.1.2" xref="S5.T5.1.1.1.1.1.m1.1.1.2.cmml">C</mi><mtext id="S5.T5.1.1.1.1.1.m1.1.1.3" xref="S5.T5.1.1.1.1.1.m1.1.1.3a.cmml">ft</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.T5.1.1.1.1.1.m1.1b"><apply id="S5.T5.1.1.1.1.1.m1.1.1.cmml" xref="S5.T5.1.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.1.1.1.1.1.m1.1.1.1.cmml" xref="S5.T5.1.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S5.T5.1.1.1.1.1.m1.1.1.2.cmml" xref="S5.T5.1.1.1.1.1.m1.1.1.2">𝐶</ci><ci id="S5.T5.1.1.1.1.1.m1.1.1.3a.cmml" xref="S5.T5.1.1.1.1.1.m1.1.1.3"><mtext mathsize="70%" id="S5.T5.1.1.1.1.1.m1.1.1.3.cmml" xref="S5.T5.1.1.1.1.1.m1.1.1.3">ft</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.1.1.1.1.1.m1.1c">C_{\text{ft}}</annotation></semantics></math></span></th>
<th id="S5.T5.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t"><math id="S5.T5.2.2.2.2.m1.1" class="ltx_Math" alttext="1.0" display="inline"><semantics id="S5.T5.2.2.2.2.m1.1a"><mn id="S5.T5.2.2.2.2.m1.1.1" xref="S5.T5.2.2.2.2.m1.1.1.cmml">1.0</mn><annotation-xml encoding="MathML-Content" id="S5.T5.2.2.2.2.m1.1b"><cn type="float" id="S5.T5.2.2.2.2.m1.1.1.cmml" xref="S5.T5.2.2.2.2.m1.1.1">1.0</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.2.2.2.2.m1.1c">1.0</annotation></semantics></math></th>
<td id="S5.T5.2.2.2.3" class="ltx_td ltx_align_center ltx_border_t">46.65</td>
<td id="S5.T5.2.2.2.4" class="ltx_td ltx_align_center ltx_border_t">47.92</td>
<td id="S5.T5.2.2.2.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T5.2.2.2.5.1" class="ltx_text ltx_font_bold">48.66</span></td>
<td id="S5.T5.2.2.2.6" class="ltx_td ltx_align_center ltx_border_t">46.54</td>
</tr>
<tr id="S5.T5.3.3.3" class="ltx_tr">
<th id="S5.T5.3.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="S5.T5.3.3.3.1.m1.1" class="ltx_Math" alttext="0.7" display="inline"><semantics id="S5.T5.3.3.3.1.m1.1a"><mn id="S5.T5.3.3.3.1.m1.1.1" xref="S5.T5.3.3.3.1.m1.1.1.cmml">0.7</mn><annotation-xml encoding="MathML-Content" id="S5.T5.3.3.3.1.m1.1b"><cn type="float" id="S5.T5.3.3.3.1.m1.1.1.cmml" xref="S5.T5.3.3.3.1.m1.1.1">0.7</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.3.3.3.1.m1.1c">0.7</annotation></semantics></math></th>
<td id="S5.T5.3.3.3.2" class="ltx_td ltx_align_center">42.59</td>
<td id="S5.T5.3.3.3.3" class="ltx_td ltx_align_center"><span id="S5.T5.3.3.3.3.1" class="ltx_text ltx_font_bold">44.54</span></td>
<td id="S5.T5.3.3.3.4" class="ltx_td ltx_align_center">43.1</td>
<td id="S5.T5.3.3.3.5" class="ltx_td ltx_align_center">43.3</td>
</tr>
<tr id="S5.T5.4.4.4" class="ltx_tr">
<th id="S5.T5.4.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="S5.T5.4.4.4.1.m1.1" class="ltx_Math" alttext="0.35" display="inline"><semantics id="S5.T5.4.4.4.1.m1.1a"><mn id="S5.T5.4.4.4.1.m1.1.1" xref="S5.T5.4.4.4.1.m1.1.1.cmml">0.35</mn><annotation-xml encoding="MathML-Content" id="S5.T5.4.4.4.1.m1.1b"><cn type="float" id="S5.T5.4.4.4.1.m1.1.1.cmml" xref="S5.T5.4.4.4.1.m1.1.1">0.35</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.4.4.4.1.m1.1c">0.35</annotation></semantics></math></th>
<td id="S5.T5.4.4.4.2" class="ltx_td ltx_align_center"><span id="S5.T5.4.4.4.2.1" class="ltx_text ltx_font_bold">37.65</span></td>
<td id="S5.T5.4.4.4.3" class="ltx_td ltx_align_center">36.26</td>
<td id="S5.T5.4.4.4.4" class="ltx_td ltx_align_center">35.6</td>
<td id="S5.T5.4.4.4.5" class="ltx_td ltx_align_center">35.04</td>
</tr>
<tr id="S5.T5.8.8.8" class="ltx_tr">
<th id="S5.T5.5.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t"><math id="S5.T5.5.5.5.1.m1.1" class="ltx_Math" alttext="C_{\text{pt}}" display="inline"><semantics id="S5.T5.5.5.5.1.m1.1a"><msub id="S5.T5.5.5.5.1.m1.1.1" xref="S5.T5.5.5.5.1.m1.1.1.cmml"><mi id="S5.T5.5.5.5.1.m1.1.1.2" xref="S5.T5.5.5.5.1.m1.1.1.2.cmml">C</mi><mtext id="S5.T5.5.5.5.1.m1.1.1.3" xref="S5.T5.5.5.5.1.m1.1.1.3a.cmml">pt</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.T5.5.5.5.1.m1.1b"><apply id="S5.T5.5.5.5.1.m1.1.1.cmml" xref="S5.T5.5.5.5.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.5.5.5.1.m1.1.1.1.cmml" xref="S5.T5.5.5.5.1.m1.1.1">subscript</csymbol><ci id="S5.T5.5.5.5.1.m1.1.1.2.cmml" xref="S5.T5.5.5.5.1.m1.1.1.2">𝐶</ci><ci id="S5.T5.5.5.5.1.m1.1.1.3a.cmml" xref="S5.T5.5.5.5.1.m1.1.1.3"><mtext mathsize="70%" id="S5.T5.5.5.5.1.m1.1.1.3.cmml" xref="S5.T5.5.5.5.1.m1.1.1.3">pt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.5.5.5.1.m1.1c">C_{\text{pt}}</annotation></semantics></math></th>
<th id="S5.T5.8.8.8.5" class="ltx_td ltx_th ltx_th_row ltx_border_bb ltx_border_t"></th>
<td id="S5.T5.6.6.6.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><math id="S5.T5.6.6.6.2.m1.1" class="ltx_Math" alttext="0.35" display="inline"><semantics id="S5.T5.6.6.6.2.m1.1a"><mn id="S5.T5.6.6.6.2.m1.1.1" xref="S5.T5.6.6.6.2.m1.1.1.cmml">0.35</mn><annotation-xml encoding="MathML-Content" id="S5.T5.6.6.6.2.m1.1b"><cn type="float" id="S5.T5.6.6.6.2.m1.1.1.cmml" xref="S5.T5.6.6.6.2.m1.1.1">0.35</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.6.6.6.2.m1.1c">0.35</annotation></semantics></math></td>
<td id="S5.T5.7.7.7.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><math id="S5.T5.7.7.7.3.m1.1" class="ltx_Math" alttext="0.7" display="inline"><semantics id="S5.T5.7.7.7.3.m1.1a"><mn id="S5.T5.7.7.7.3.m1.1.1" xref="S5.T5.7.7.7.3.m1.1.1.cmml">0.7</mn><annotation-xml encoding="MathML-Content" id="S5.T5.7.7.7.3.m1.1b"><cn type="float" id="S5.T5.7.7.7.3.m1.1.1.cmml" xref="S5.T5.7.7.7.3.m1.1.1">0.7</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.7.7.7.3.m1.1c">0.7</annotation></semantics></math></td>
<td id="S5.T5.8.8.8.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><math id="S5.T5.8.8.8.4.m1.1" class="ltx_Math" alttext="1.0" display="inline"><semantics id="S5.T5.8.8.8.4.m1.1a"><mn id="S5.T5.8.8.8.4.m1.1.1" xref="S5.T5.8.8.8.4.m1.1.1.cmml">1.0</mn><annotation-xml encoding="MathML-Content" id="S5.T5.8.8.8.4.m1.1b"><cn type="float" id="S5.T5.8.8.8.4.m1.1.1.cmml" xref="S5.T5.8.8.8.4.m1.1.1">1.0</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.8.8.8.4.m1.1c">1.0</annotation></semantics></math></td>
<td id="S5.T5.8.8.8.6" class="ltx_td ltx_border_bb ltx_border_t"></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.T5.14.15.4.1" class="ltx_text" style="font-size:90%;">Table 5</span>: </span><span id="S5.T5.14.14.3" class="ltx_text ltx_font_bold" style="font-size:90%;">Performance on FeDocVQA test set of FedAvg+FSP when varying Client fraction <math id="S5.T5.12.12.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S5.T5.12.12.1.m1.1b"><mi id="S5.T5.12.12.1.m1.1.1" xref="S5.T5.12.12.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S5.T5.12.12.1.m1.1c"><ci id="S5.T5.12.12.1.m1.1.1.cmml" xref="S5.T5.12.12.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.12.12.1.m1.1d">C</annotation></semantics></math><span id="S5.T5.14.14.3.2" class="ltx_text ltx_font_medium">. We make use of all pretraining tasks in these experiments. <math id="S5.T5.13.13.2.1.m1.1" class="ltx_Math" alttext="C_{\text{pt}}" display="inline"><semantics id="S5.T5.13.13.2.1.m1.1b"><msub id="S5.T5.13.13.2.1.m1.1.1" xref="S5.T5.13.13.2.1.m1.1.1.cmml"><mi id="S5.T5.13.13.2.1.m1.1.1.2" xref="S5.T5.13.13.2.1.m1.1.1.2.cmml">C</mi><mtext id="S5.T5.13.13.2.1.m1.1.1.3" xref="S5.T5.13.13.2.1.m1.1.1.3a.cmml">pt</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.T5.13.13.2.1.m1.1c"><apply id="S5.T5.13.13.2.1.m1.1.1.cmml" xref="S5.T5.13.13.2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T5.13.13.2.1.m1.1.1.1.cmml" xref="S5.T5.13.13.2.1.m1.1.1">subscript</csymbol><ci id="S5.T5.13.13.2.1.m1.1.1.2.cmml" xref="S5.T5.13.13.2.1.m1.1.1.2">𝐶</ci><ci id="S5.T5.13.13.2.1.m1.1.1.3a.cmml" xref="S5.T5.13.13.2.1.m1.1.1.3"><mtext mathsize="70%" id="S5.T5.13.13.2.1.m1.1.1.3.cmml" xref="S5.T5.13.13.2.1.m1.1.1.3">pt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.13.13.2.1.m1.1d">C_{\text{pt}}</annotation></semantics></math>/<math id="S5.T5.14.14.3.2.m2.1" class="ltx_Math" alttext="C_{\text{ft}}" display="inline"><semantics id="S5.T5.14.14.3.2.m2.1b"><msub id="S5.T5.14.14.3.2.m2.1.1" xref="S5.T5.14.14.3.2.m2.1.1.cmml"><mi id="S5.T5.14.14.3.2.m2.1.1.2" xref="S5.T5.14.14.3.2.m2.1.1.2.cmml">C</mi><mtext id="S5.T5.14.14.3.2.m2.1.1.3" xref="S5.T5.14.14.3.2.m2.1.1.3a.cmml">ft</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.T5.14.14.3.2.m2.1c"><apply id="S5.T5.14.14.3.2.m2.1.1.cmml" xref="S5.T5.14.14.3.2.m2.1.1"><csymbol cd="ambiguous" id="S5.T5.14.14.3.2.m2.1.1.1.cmml" xref="S5.T5.14.14.3.2.m2.1.1">subscript</csymbol><ci id="S5.T5.14.14.3.2.m2.1.1.2.cmml" xref="S5.T5.14.14.3.2.m2.1.1.2">𝐶</ci><ci id="S5.T5.14.14.3.2.m2.1.1.3a.cmml" xref="S5.T5.14.14.3.2.m2.1.1.3"><mtext mathsize="70%" id="S5.T5.14.14.3.2.m2.1.1.3.cmml" xref="S5.T5.14.14.3.2.m2.1.1.3">ft</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.14.14.3.2.m2.1d">C_{\text{ft}}</annotation></semantics></math> is the clients-per-round fraction in used in pretraining and finetuning respectively.</span></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F5" class="ltx_figure ltx_figure_panel ltx_align_center ltx_align_middle" style="width:208.1pt;"><img src="/html/2405.06636/assets/x5.png" id="S5.T5.15.g1" class="ltx_graphics ltx_figure_panel ltx_img_landscape" width="461" height="210" alt="Refer to caption">
<br class="ltx_break ltx_break">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.6.2.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S5.F5.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Validation/Test performance vs. communication rounds <math id="S5.F5.2.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S5.F5.2.1.m1.1b"><mi id="S5.F5.2.1.m1.1.1" xref="S5.F5.2.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S5.F5.2.1.m1.1c"><ci id="S5.F5.2.1.m1.1.1.cmml" xref="S5.F5.2.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.2.1.m1.1d">T</annotation></semantics></math><span id="S5.F5.2.1.1" class="ltx_text ltx_font_medium">. (Left) validation metric of FedAvg baseline while varying T in <span id="S5.F5.2.1.1.1" class="ltx_text ltx_font_italic">finetuning</span>, (Right) test metric of FSP+FedAvg while varying T in <span id="S5.F5.2.1.1.2" class="ltx_text ltx_font_italic">pretraining</span>.</span></span></figcaption>
</figure>
</div>
</div>
</figure>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Ablation Study</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.2" class="ltx_p">In this section, we select several factors that appear to be important in our proposed setup to study their effects and provide empirical results when tuning these hyperparameters.
Unless otherwise specified, we employ the FedAvg baseline and fix <math id="S5.SS2.p1.1.m1.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S5.SS2.p1.1.m1.1a"><mrow id="S5.SS2.p1.1.m1.1.1" xref="S5.SS2.p1.1.m1.1.1.cmml"><mi id="S5.SS2.p1.1.m1.1.1.2" xref="S5.SS2.p1.1.m1.1.1.2.cmml">K</mi><mo id="S5.SS2.p1.1.m1.1.1.1" xref="S5.SS2.p1.1.m1.1.1.1.cmml">=</mo><mn id="S5.SS2.p1.1.m1.1.1.3" xref="S5.SS2.p1.1.m1.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.1b"><apply id="S5.SS2.p1.1.m1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1"><eq id="S5.SS2.p1.1.m1.1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1.1"></eq><ci id="S5.SS2.p1.1.m1.1.1.2.cmml" xref="S5.SS2.p1.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S5.SS2.p1.1.m1.1.1.3.cmml" xref="S5.SS2.p1.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.1c">K=3</annotation></semantics></math> and <math id="S5.SS2.p1.2.m2.1" class="ltx_Math" alttext="C=0.35" display="inline"><semantics id="S5.SS2.p1.2.m2.1a"><mrow id="S5.SS2.p1.2.m2.1.1" xref="S5.SS2.p1.2.m2.1.1.cmml"><mi id="S5.SS2.p1.2.m2.1.1.2" xref="S5.SS2.p1.2.m2.1.1.2.cmml">C</mi><mo id="S5.SS2.p1.2.m2.1.1.1" xref="S5.SS2.p1.2.m2.1.1.1.cmml">=</mo><mn id="S5.SS2.p1.2.m2.1.1.3" xref="S5.SS2.p1.2.m2.1.1.3.cmml">0.35</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.2.m2.1b"><apply id="S5.SS2.p1.2.m2.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1"><eq id="S5.SS2.p1.2.m2.1.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1.1"></eq><ci id="S5.SS2.p1.2.m2.1.1.2.cmml" xref="S5.SS2.p1.2.m2.1.1.2">𝐶</ci><cn type="float" id="S5.SS2.p1.2.m2.1.1.3.cmml" xref="S5.SS2.p1.2.m2.1.1.3">0.35</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.2.m2.1c">C=0.35</annotation></semantics></math> in all of our experiments.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para ltx_noindent">
<p id="S5.SS2.p2.1" class="ltx_p"><span id="S5.SS2.p2.1.1" class="ltx_text ltx_font_bold">Effect of FSP.</span> The purpose of FSP is to provide a warm start to the PLM, allowing it to better adapt to document data. In Table <a href="#S5.T4" title="Table 4 ‣ 5.1 Baselines ‣ 5 Results ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, we compare the performance of FedAvg with various pretraining objectives. As expected, each pretraining objective improves the results compared to the baseline. When all objectives are combined, FSP achieves a great improvement in FeDocVQA, outperforming the baseline by approximately 2.6 points while solely utilizing private data, which is considerably smaller in size compared to common practices. We believe <span id="S5.SS2.p2.1.2" class="ltx_text ltx_font_italic">our FSP strategy can effectively scale up</span> with more documents while maintaining a high level of client data privacy. We utilize all pretraining tasks in our subsequent experiments.</p>
</div>
<div id="S5.SS2.p3" class="ltx_para ltx_noindent">
<p id="S5.SS2.p3.12" class="ltx_p"><span id="S5.SS2.p3.1.1" class="ltx_text ltx_font_bold">Effect of Client fraction <math id="S5.SS2.p3.1.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S5.SS2.p3.1.1.m1.1a"><mi id="S5.SS2.p3.1.1.m1.1.1" xref="S5.SS2.p3.1.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.1.1.m1.1b"><ci id="S5.SS2.p3.1.1.m1.1.1.cmml" xref="S5.SS2.p3.1.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.1.1.m1.1c">C</annotation></semantics></math>.</span> We also study the effect of the <math id="S5.SS2.p3.2.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S5.SS2.p3.2.m1.1a"><mi id="S5.SS2.p3.2.m1.1.1" xref="S5.SS2.p3.2.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.2.m1.1b"><ci id="S5.SS2.p3.2.m1.1.1.cmml" xref="S5.SS2.p3.2.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.2.m1.1c">C</annotation></semantics></math> for each round during pretraining/finetuning, denoted as <math id="S5.SS2.p3.3.m2.1" class="ltx_Math" alttext="C_{\text{pt}}" display="inline"><semantics id="S5.SS2.p3.3.m2.1a"><msub id="S5.SS2.p3.3.m2.1.1" xref="S5.SS2.p3.3.m2.1.1.cmml"><mi id="S5.SS2.p3.3.m2.1.1.2" xref="S5.SS2.p3.3.m2.1.1.2.cmml">C</mi><mtext id="S5.SS2.p3.3.m2.1.1.3" xref="S5.SS2.p3.3.m2.1.1.3a.cmml">pt</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.3.m2.1b"><apply id="S5.SS2.p3.3.m2.1.1.cmml" xref="S5.SS2.p3.3.m2.1.1"><csymbol cd="ambiguous" id="S5.SS2.p3.3.m2.1.1.1.cmml" xref="S5.SS2.p3.3.m2.1.1">subscript</csymbol><ci id="S5.SS2.p3.3.m2.1.1.2.cmml" xref="S5.SS2.p3.3.m2.1.1.2">𝐶</ci><ci id="S5.SS2.p3.3.m2.1.1.3a.cmml" xref="S5.SS2.p3.3.m2.1.1.3"><mtext mathsize="70%" id="S5.SS2.p3.3.m2.1.1.3.cmml" xref="S5.SS2.p3.3.m2.1.1.3">pt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.3.m2.1c">C_{\text{pt}}</annotation></semantics></math> and <math id="S5.SS2.p3.4.m3.1" class="ltx_Math" alttext="C_{\text{ft}}" display="inline"><semantics id="S5.SS2.p3.4.m3.1a"><msub id="S5.SS2.p3.4.m3.1.1" xref="S5.SS2.p3.4.m3.1.1.cmml"><mi id="S5.SS2.p3.4.m3.1.1.2" xref="S5.SS2.p3.4.m3.1.1.2.cmml">C</mi><mtext id="S5.SS2.p3.4.m3.1.1.3" xref="S5.SS2.p3.4.m3.1.1.3a.cmml">ft</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.4.m3.1b"><apply id="S5.SS2.p3.4.m3.1.1.cmml" xref="S5.SS2.p3.4.m3.1.1"><csymbol cd="ambiguous" id="S5.SS2.p3.4.m3.1.1.1.cmml" xref="S5.SS2.p3.4.m3.1.1">subscript</csymbol><ci id="S5.SS2.p3.4.m3.1.1.2.cmml" xref="S5.SS2.p3.4.m3.1.1.2">𝐶</ci><ci id="S5.SS2.p3.4.m3.1.1.3a.cmml" xref="S5.SS2.p3.4.m3.1.1.3"><mtext mathsize="70%" id="S5.SS2.p3.4.m3.1.1.3.cmml" xref="S5.SS2.p3.4.m3.1.1.3">ft</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.4.m3.1c">C_{\text{ft}}</annotation></semantics></math> respectively. Table <a href="#S5.T5" title="Table 5 ‣ 5.1 Baselines ‣ 5 Results ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> gives results for each value pair of <math id="S5.SS2.p3.5.m4.2" class="ltx_Math" alttext="(C_{\text{pt}},C_{\text{ft}})" display="inline"><semantics id="S5.SS2.p3.5.m4.2a"><mrow id="S5.SS2.p3.5.m4.2.2.2" xref="S5.SS2.p3.5.m4.2.2.3.cmml"><mo stretchy="false" id="S5.SS2.p3.5.m4.2.2.2.3" xref="S5.SS2.p3.5.m4.2.2.3.cmml">(</mo><msub id="S5.SS2.p3.5.m4.1.1.1.1" xref="S5.SS2.p3.5.m4.1.1.1.1.cmml"><mi id="S5.SS2.p3.5.m4.1.1.1.1.2" xref="S5.SS2.p3.5.m4.1.1.1.1.2.cmml">C</mi><mtext id="S5.SS2.p3.5.m4.1.1.1.1.3" xref="S5.SS2.p3.5.m4.1.1.1.1.3a.cmml">pt</mtext></msub><mo id="S5.SS2.p3.5.m4.2.2.2.4" xref="S5.SS2.p3.5.m4.2.2.3.cmml">,</mo><msub id="S5.SS2.p3.5.m4.2.2.2.2" xref="S5.SS2.p3.5.m4.2.2.2.2.cmml"><mi id="S5.SS2.p3.5.m4.2.2.2.2.2" xref="S5.SS2.p3.5.m4.2.2.2.2.2.cmml">C</mi><mtext id="S5.SS2.p3.5.m4.2.2.2.2.3" xref="S5.SS2.p3.5.m4.2.2.2.2.3a.cmml">ft</mtext></msub><mo stretchy="false" id="S5.SS2.p3.5.m4.2.2.2.5" xref="S5.SS2.p3.5.m4.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.5.m4.2b"><interval closure="open" id="S5.SS2.p3.5.m4.2.2.3.cmml" xref="S5.SS2.p3.5.m4.2.2.2"><apply id="S5.SS2.p3.5.m4.1.1.1.1.cmml" xref="S5.SS2.p3.5.m4.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p3.5.m4.1.1.1.1.1.cmml" xref="S5.SS2.p3.5.m4.1.1.1.1">subscript</csymbol><ci id="S5.SS2.p3.5.m4.1.1.1.1.2.cmml" xref="S5.SS2.p3.5.m4.1.1.1.1.2">𝐶</ci><ci id="S5.SS2.p3.5.m4.1.1.1.1.3a.cmml" xref="S5.SS2.p3.5.m4.1.1.1.1.3"><mtext mathsize="70%" id="S5.SS2.p3.5.m4.1.1.1.1.3.cmml" xref="S5.SS2.p3.5.m4.1.1.1.1.3">pt</mtext></ci></apply><apply id="S5.SS2.p3.5.m4.2.2.2.2.cmml" xref="S5.SS2.p3.5.m4.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS2.p3.5.m4.2.2.2.2.1.cmml" xref="S5.SS2.p3.5.m4.2.2.2.2">subscript</csymbol><ci id="S5.SS2.p3.5.m4.2.2.2.2.2.cmml" xref="S5.SS2.p3.5.m4.2.2.2.2.2">𝐶</ci><ci id="S5.SS2.p3.5.m4.2.2.2.2.3a.cmml" xref="S5.SS2.p3.5.m4.2.2.2.2.3"><mtext mathsize="70%" id="S5.SS2.p3.5.m4.2.2.2.2.3.cmml" xref="S5.SS2.p3.5.m4.2.2.2.2.3">ft</mtext></ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.5.m4.2c">(C_{\text{pt}},C_{\text{ft}})</annotation></semantics></math>, both in <math id="S5.SS2.p3.6.m5.3" class="ltx_Math" alttext="\{0.35;0.7;1\}" display="inline"><semantics id="S5.SS2.p3.6.m5.3a"><mrow id="S5.SS2.p3.6.m5.3.4.2" xref="S5.SS2.p3.6.m5.3.4.1.cmml"><mo stretchy="false" id="S5.SS2.p3.6.m5.3.4.2.1" xref="S5.SS2.p3.6.m5.3.4.1.cmml">{</mo><mn id="S5.SS2.p3.6.m5.1.1" xref="S5.SS2.p3.6.m5.1.1.cmml">0.35</mn><mo id="S5.SS2.p3.6.m5.3.4.2.2" xref="S5.SS2.p3.6.m5.3.4.1.cmml">;</mo><mn id="S5.SS2.p3.6.m5.2.2" xref="S5.SS2.p3.6.m5.2.2.cmml">0.7</mn><mo id="S5.SS2.p3.6.m5.3.4.2.3" xref="S5.SS2.p3.6.m5.3.4.1.cmml">;</mo><mn id="S5.SS2.p3.6.m5.3.3" xref="S5.SS2.p3.6.m5.3.3.cmml">1</mn><mo stretchy="false" id="S5.SS2.p3.6.m5.3.4.2.4" xref="S5.SS2.p3.6.m5.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.6.m5.3b"><list id="S5.SS2.p3.6.m5.3.4.1.cmml" xref="S5.SS2.p3.6.m5.3.4.2"><cn type="float" id="S5.SS2.p3.6.m5.1.1.cmml" xref="S5.SS2.p3.6.m5.1.1">0.35</cn><cn type="float" id="S5.SS2.p3.6.m5.2.2.cmml" xref="S5.SS2.p3.6.m5.2.2">0.7</cn><cn type="integer" id="S5.SS2.p3.6.m5.3.3.cmml" xref="S5.SS2.p3.6.m5.3.3">1</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.6.m5.3c">\{0.35;0.7;1\}</annotation></semantics></math>. First, we see that for each <math id="S5.SS2.p3.7.m6.1" class="ltx_Math" alttext="C_{\text{ft}}" display="inline"><semantics id="S5.SS2.p3.7.m6.1a"><msub id="S5.SS2.p3.7.m6.1.1" xref="S5.SS2.p3.7.m6.1.1.cmml"><mi id="S5.SS2.p3.7.m6.1.1.2" xref="S5.SS2.p3.7.m6.1.1.2.cmml">C</mi><mtext id="S5.SS2.p3.7.m6.1.1.3" xref="S5.SS2.p3.7.m6.1.1.3a.cmml">ft</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.7.m6.1b"><apply id="S5.SS2.p3.7.m6.1.1.cmml" xref="S5.SS2.p3.7.m6.1.1"><csymbol cd="ambiguous" id="S5.SS2.p3.7.m6.1.1.1.cmml" xref="S5.SS2.p3.7.m6.1.1">subscript</csymbol><ci id="S5.SS2.p3.7.m6.1.1.2.cmml" xref="S5.SS2.p3.7.m6.1.1.2">𝐶</ci><ci id="S5.SS2.p3.7.m6.1.1.3a.cmml" xref="S5.SS2.p3.7.m6.1.1.3"><mtext mathsize="70%" id="S5.SS2.p3.7.m6.1.1.3.cmml" xref="S5.SS2.p3.7.m6.1.1.3">ft</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.7.m6.1c">C_{\text{ft}}</annotation></semantics></math> value, there is at least one configuration <math id="S5.SS2.p3.8.m7.2" class="ltx_Math" alttext="(C_{\text{pt}},C_{\text{ft}})" display="inline"><semantics id="S5.SS2.p3.8.m7.2a"><mrow id="S5.SS2.p3.8.m7.2.2.2" xref="S5.SS2.p3.8.m7.2.2.3.cmml"><mo stretchy="false" id="S5.SS2.p3.8.m7.2.2.2.3" xref="S5.SS2.p3.8.m7.2.2.3.cmml">(</mo><msub id="S5.SS2.p3.8.m7.1.1.1.1" xref="S5.SS2.p3.8.m7.1.1.1.1.cmml"><mi id="S5.SS2.p3.8.m7.1.1.1.1.2" xref="S5.SS2.p3.8.m7.1.1.1.1.2.cmml">C</mi><mtext id="S5.SS2.p3.8.m7.1.1.1.1.3" xref="S5.SS2.p3.8.m7.1.1.1.1.3a.cmml">pt</mtext></msub><mo id="S5.SS2.p3.8.m7.2.2.2.4" xref="S5.SS2.p3.8.m7.2.2.3.cmml">,</mo><msub id="S5.SS2.p3.8.m7.2.2.2.2" xref="S5.SS2.p3.8.m7.2.2.2.2.cmml"><mi id="S5.SS2.p3.8.m7.2.2.2.2.2" xref="S5.SS2.p3.8.m7.2.2.2.2.2.cmml">C</mi><mtext id="S5.SS2.p3.8.m7.2.2.2.2.3" xref="S5.SS2.p3.8.m7.2.2.2.2.3a.cmml">ft</mtext></msub><mo stretchy="false" id="S5.SS2.p3.8.m7.2.2.2.5" xref="S5.SS2.p3.8.m7.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.8.m7.2b"><interval closure="open" id="S5.SS2.p3.8.m7.2.2.3.cmml" xref="S5.SS2.p3.8.m7.2.2.2"><apply id="S5.SS2.p3.8.m7.1.1.1.1.cmml" xref="S5.SS2.p3.8.m7.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p3.8.m7.1.1.1.1.1.cmml" xref="S5.SS2.p3.8.m7.1.1.1.1">subscript</csymbol><ci id="S5.SS2.p3.8.m7.1.1.1.1.2.cmml" xref="S5.SS2.p3.8.m7.1.1.1.1.2">𝐶</ci><ci id="S5.SS2.p3.8.m7.1.1.1.1.3a.cmml" xref="S5.SS2.p3.8.m7.1.1.1.1.3"><mtext mathsize="70%" id="S5.SS2.p3.8.m7.1.1.1.1.3.cmml" xref="S5.SS2.p3.8.m7.1.1.1.1.3">pt</mtext></ci></apply><apply id="S5.SS2.p3.8.m7.2.2.2.2.cmml" xref="S5.SS2.p3.8.m7.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS2.p3.8.m7.2.2.2.2.1.cmml" xref="S5.SS2.p3.8.m7.2.2.2.2">subscript</csymbol><ci id="S5.SS2.p3.8.m7.2.2.2.2.2.cmml" xref="S5.SS2.p3.8.m7.2.2.2.2.2">𝐶</ci><ci id="S5.SS2.p3.8.m7.2.2.2.2.3a.cmml" xref="S5.SS2.p3.8.m7.2.2.2.2.3"><mtext mathsize="70%" id="S5.SS2.p3.8.m7.2.2.2.2.3.cmml" xref="S5.SS2.p3.8.m7.2.2.2.2.3">ft</mtext></ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.8.m7.2c">(C_{\text{pt}},C_{\text{ft}})</annotation></semantics></math> that outperforms the FedAvg baseline (compare numbers in each row). This demonstrates the consistent effectiveness of FSP across varying numbers of clients participating in each round. This result holds especially when <math id="S5.SS2.p3.9.m8.1" class="ltx_Math" alttext="C_{\text{pt}}" display="inline"><semantics id="S5.SS2.p3.9.m8.1a"><msub id="S5.SS2.p3.9.m8.1.1" xref="S5.SS2.p3.9.m8.1.1.cmml"><mi id="S5.SS2.p3.9.m8.1.1.2" xref="S5.SS2.p3.9.m8.1.1.2.cmml">C</mi><mtext id="S5.SS2.p3.9.m8.1.1.3" xref="S5.SS2.p3.9.m8.1.1.3a.cmml">pt</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.9.m8.1b"><apply id="S5.SS2.p3.9.m8.1.1.cmml" xref="S5.SS2.p3.9.m8.1.1"><csymbol cd="ambiguous" id="S5.SS2.p3.9.m8.1.1.1.cmml" xref="S5.SS2.p3.9.m8.1.1">subscript</csymbol><ci id="S5.SS2.p3.9.m8.1.1.2.cmml" xref="S5.SS2.p3.9.m8.1.1.2">𝐶</ci><ci id="S5.SS2.p3.9.m8.1.1.3a.cmml" xref="S5.SS2.p3.9.m8.1.1.3"><mtext mathsize="70%" id="S5.SS2.p3.9.m8.1.1.3.cmml" xref="S5.SS2.p3.9.m8.1.1.3">pt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.9.m8.1c">C_{\text{pt}}</annotation></semantics></math> and <math id="S5.SS2.p3.10.m9.1" class="ltx_Math" alttext="C_{\text{ft}}" display="inline"><semantics id="S5.SS2.p3.10.m9.1a"><msub id="S5.SS2.p3.10.m9.1.1" xref="S5.SS2.p3.10.m9.1.1.cmml"><mi id="S5.SS2.p3.10.m9.1.1.2" xref="S5.SS2.p3.10.m9.1.1.2.cmml">C</mi><mtext id="S5.SS2.p3.10.m9.1.1.3" xref="S5.SS2.p3.10.m9.1.1.3a.cmml">ft</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.10.m9.1b"><apply id="S5.SS2.p3.10.m9.1.1.cmml" xref="S5.SS2.p3.10.m9.1.1"><csymbol cd="ambiguous" id="S5.SS2.p3.10.m9.1.1.1.cmml" xref="S5.SS2.p3.10.m9.1.1">subscript</csymbol><ci id="S5.SS2.p3.10.m9.1.1.2.cmml" xref="S5.SS2.p3.10.m9.1.1.2">𝐶</ci><ci id="S5.SS2.p3.10.m9.1.1.3a.cmml" xref="S5.SS2.p3.10.m9.1.1.3"><mtext mathsize="70%" id="S5.SS2.p3.10.m9.1.1.3.cmml" xref="S5.SS2.p3.10.m9.1.1.3">ft</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.10.m9.1c">C_{\text{ft}}</annotation></semantics></math> have the same value, implying that <span id="S5.SS2.p3.12.2" class="ltx_text ltx_font_italic">maintaining a consistent parallelism between the two training phases is beneficial</span>. In our subsequent experiments, we employ the same values for both <math id="S5.SS2.p3.11.m10.1" class="ltx_Math" alttext="C_{\text{pt}}" display="inline"><semantics id="S5.SS2.p3.11.m10.1a"><msub id="S5.SS2.p3.11.m10.1.1" xref="S5.SS2.p3.11.m10.1.1.cmml"><mi id="S5.SS2.p3.11.m10.1.1.2" xref="S5.SS2.p3.11.m10.1.1.2.cmml">C</mi><mtext id="S5.SS2.p3.11.m10.1.1.3" xref="S5.SS2.p3.11.m10.1.1.3a.cmml">pt</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.11.m10.1b"><apply id="S5.SS2.p3.11.m10.1.1.cmml" xref="S5.SS2.p3.11.m10.1.1"><csymbol cd="ambiguous" id="S5.SS2.p3.11.m10.1.1.1.cmml" xref="S5.SS2.p3.11.m10.1.1">subscript</csymbol><ci id="S5.SS2.p3.11.m10.1.1.2.cmml" xref="S5.SS2.p3.11.m10.1.1.2">𝐶</ci><ci id="S5.SS2.p3.11.m10.1.1.3a.cmml" xref="S5.SS2.p3.11.m10.1.1.3"><mtext mathsize="70%" id="S5.SS2.p3.11.m10.1.1.3.cmml" xref="S5.SS2.p3.11.m10.1.1.3">pt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.11.m10.1c">C_{\text{pt}}</annotation></semantics></math> and <math id="S5.SS2.p3.12.m11.1" class="ltx_Math" alttext="C_{\text{ft}}" display="inline"><semantics id="S5.SS2.p3.12.m11.1a"><msub id="S5.SS2.p3.12.m11.1.1" xref="S5.SS2.p3.12.m11.1.1.cmml"><mi id="S5.SS2.p3.12.m11.1.1.2" xref="S5.SS2.p3.12.m11.1.1.2.cmml">C</mi><mtext id="S5.SS2.p3.12.m11.1.1.3" xref="S5.SS2.p3.12.m11.1.1.3a.cmml">ft</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.12.m11.1b"><apply id="S5.SS2.p3.12.m11.1.1.cmml" xref="S5.SS2.p3.12.m11.1.1"><csymbol cd="ambiguous" id="S5.SS2.p3.12.m11.1.1.1.cmml" xref="S5.SS2.p3.12.m11.1.1">subscript</csymbol><ci id="S5.SS2.p3.12.m11.1.1.2.cmml" xref="S5.SS2.p3.12.m11.1.1.2">𝐶</ci><ci id="S5.SS2.p3.12.m11.1.1.3a.cmml" xref="S5.SS2.p3.12.m11.1.1.3"><mtext mathsize="70%" id="S5.SS2.p3.12.m11.1.1.3.cmml" xref="S5.SS2.p3.12.m11.1.1.3">ft</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.12.m11.1c">C_{\text{ft}}</annotation></semantics></math>.</p>
</div>
<div id="S5.SS2.p4" class="ltx_para ltx_noindent">
<p id="S5.SS2.p4.14" class="ltx_p"><span id="S5.SS2.p4.1.1" class="ltx_text ltx_font_bold">Effect of number of communication rounds <math id="S5.SS2.p4.1.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S5.SS2.p4.1.1.m1.1a"><mi id="S5.SS2.p4.1.1.m1.1.1" xref="S5.SS2.p4.1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.1.1.m1.1b"><ci id="S5.SS2.p4.1.1.m1.1.1.cmml" xref="S5.SS2.p4.1.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.1.1.m1.1c">T</annotation></semantics></math>.</span>
Similarly, we investigate the impact of <math id="S5.SS2.p4.2.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S5.SS2.p4.2.m1.1a"><mi id="S5.SS2.p4.2.m1.1.1" xref="S5.SS2.p4.2.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.2.m1.1b"><ci id="S5.SS2.p4.2.m1.1.1.cmml" xref="S5.SS2.p4.2.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.2.m1.1c">T</annotation></semantics></math> for both FSP and DocVQA federated training. First, we run experiments having upto 25 rounds of communication with the FedAvg baseline. In another set of experiments, we run FSP with varying number of <math id="S5.SS2.p4.3.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S5.SS2.p4.3.m2.1a"><mi id="S5.SS2.p4.3.m2.1.1" xref="S5.SS2.p4.3.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.3.m2.1b"><ci id="S5.SS2.p4.3.m2.1.1.cmml" xref="S5.SS2.p4.3.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.3.m2.1c">T</annotation></semantics></math> while fixing this value for finetuning to 10. This choice is made because FSP is less computationally intensive than DocVQA, provided that training data size for FSP is significantly smaller compared to DocVQA, as indicated in Table <a href="#S4.T1" title="Table 1 ‣ 4.1 Dataset Selection ‣ 4 Experimental Setup ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.

<span id="S5.SS2.p4.11.9" class="ltx_inline-logical-block ltx_minipage ltx_align_middle" style="width:433.6pt;">
<span id="S5.SS2.p4.5.3.2" class="ltx_logical-block ltx_minipage ltx_align_bottom" style="width:212.5pt;">
<span id="S5.SS2.p4.5.3.2.p1" class="ltx_para"><img src="/html/2405.06636/assets/x6.png" id="S5.SS2.p4.4.2.1.g1" class="ltx_graphics ltx_img_landscape" width="425" height="316" alt="[Uncaptioned image]">
</span>
<span id="S5.F6" class="ltx_figure ltx_align_center">
<span class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F6.5.2.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="S5.F6.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Validation FSP loss<span id="S5.F6.2.1.1" class="ltx_text ltx_font_medium"> with different SERVEROPT algorithms, in case of <math id="S5.F6.2.1.1.m1.4" class="ltx_Math" alttext="(K,C)=(10,0.7)" display="inline"><semantics id="S5.F6.2.1.1.m1.4b"><mrow id="S5.F6.2.1.1.m1.4.5" xref="S5.F6.2.1.1.m1.4.5.cmml"><mrow id="S5.F6.2.1.1.m1.4.5.2.2" xref="S5.F6.2.1.1.m1.4.5.2.1.cmml"><mo stretchy="false" id="S5.F6.2.1.1.m1.4.5.2.2.1" xref="S5.F6.2.1.1.m1.4.5.2.1.cmml">(</mo><mi id="S5.F6.2.1.1.m1.1.1" xref="S5.F6.2.1.1.m1.1.1.cmml">K</mi><mo id="S5.F6.2.1.1.m1.4.5.2.2.2" xref="S5.F6.2.1.1.m1.4.5.2.1.cmml">,</mo><mi id="S5.F6.2.1.1.m1.2.2" xref="S5.F6.2.1.1.m1.2.2.cmml">C</mi><mo stretchy="false" id="S5.F6.2.1.1.m1.4.5.2.2.3" xref="S5.F6.2.1.1.m1.4.5.2.1.cmml">)</mo></mrow><mo id="S5.F6.2.1.1.m1.4.5.1" xref="S5.F6.2.1.1.m1.4.5.1.cmml">=</mo><mrow id="S5.F6.2.1.1.m1.4.5.3.2" xref="S5.F6.2.1.1.m1.4.5.3.1.cmml"><mo stretchy="false" id="S5.F6.2.1.1.m1.4.5.3.2.1" xref="S5.F6.2.1.1.m1.4.5.3.1.cmml">(</mo><mn id="S5.F6.2.1.1.m1.3.3" xref="S5.F6.2.1.1.m1.3.3.cmml">10</mn><mo id="S5.F6.2.1.1.m1.4.5.3.2.2" xref="S5.F6.2.1.1.m1.4.5.3.1.cmml">,</mo><mn id="S5.F6.2.1.1.m1.4.4" xref="S5.F6.2.1.1.m1.4.4.cmml">0.7</mn><mo stretchy="false" id="S5.F6.2.1.1.m1.4.5.3.2.3" xref="S5.F6.2.1.1.m1.4.5.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.F6.2.1.1.m1.4c"><apply id="S5.F6.2.1.1.m1.4.5.cmml" xref="S5.F6.2.1.1.m1.4.5"><eq id="S5.F6.2.1.1.m1.4.5.1.cmml" xref="S5.F6.2.1.1.m1.4.5.1"></eq><interval closure="open" id="S5.F6.2.1.1.m1.4.5.2.1.cmml" xref="S5.F6.2.1.1.m1.4.5.2.2"><ci id="S5.F6.2.1.1.m1.1.1.cmml" xref="S5.F6.2.1.1.m1.1.1">𝐾</ci><ci id="S5.F6.2.1.1.m1.2.2.cmml" xref="S5.F6.2.1.1.m1.2.2">𝐶</ci></interval><interval closure="open" id="S5.F6.2.1.1.m1.4.5.3.1.cmml" xref="S5.F6.2.1.1.m1.4.5.3.2"><cn type="integer" id="S5.F6.2.1.1.m1.3.3.cmml" xref="S5.F6.2.1.1.m1.3.3">10</cn><cn type="float" id="S5.F6.2.1.1.m1.4.4.cmml" xref="S5.F6.2.1.1.m1.4.4">0.7</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F6.2.1.1.m1.4d">(K,C)=(10,0.7)</annotation></semantics></math>.</span></span></span>
</span>
</span>
<span id="S5.SS2.p4.11.9.8" class="ltx_logical-block ltx_minipage ltx_align_bottom" style="width:212.5pt;">
<span id="S5.SS2.p4.11.9.8.p1" class="ltx_para">
<span id="S5.SS2.p4.10.8.7.5" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="S5.SS2.p4.6.4.3.1.1" class="ltx_tr">
<span id="S5.SS2.p4.6.4.3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S5.SS2.p4.6.4.3.1.1.1.1" class="ltx_text"><math id="S5.SS2.p4.6.4.3.1.1.1.1.m1.2" class="ltx_Math" alttext="(K,C)" display="inline"><semantics id="S5.SS2.p4.6.4.3.1.1.1.1.m1.2a"><mrow id="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.3.2" xref="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.3.2.1" xref="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.3.1.cmml">(</mo><mi id="S5.SS2.p4.6.4.3.1.1.1.1.m1.1.1" xref="S5.SS2.p4.6.4.3.1.1.1.1.m1.1.1.cmml">K</mi><mo id="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.3.2.2" xref="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.3.1.cmml">,</mo><mi id="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.2" xref="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.2.cmml">C</mi><mo stretchy="false" id="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.3.2.3" xref="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.6.4.3.1.1.1.1.m1.2b"><interval closure="open" id="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.3.1.cmml" xref="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.3.2"><ci id="S5.SS2.p4.6.4.3.1.1.1.1.m1.1.1.cmml" xref="S5.SS2.p4.6.4.3.1.1.1.1.m1.1.1">𝐾</ci><ci id="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.2.cmml" xref="S5.SS2.p4.6.4.3.1.1.1.1.m1.2.2">𝐶</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.6.4.3.1.1.1.1.m1.2c">(K,C)</annotation></semantics></math></span></span>
<span id="S5.SS2.p4.6.4.3.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_2">FSP+FedAvg</span>
<span id="S5.SS2.p4.6.4.3.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_rowspan ltx_rowspan_2"><span id="S5.SS2.p4.6.4.3.1.1.3.1" class="ltx_text">FedAvg</span></span></span>
<span id="S5.SS2.p4.10.8.7.5.6.1" class="ltx_tr">
<span id="S5.SS2.p4.10.8.7.5.6.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">FedAvgM</span>
<span id="S5.SS2.p4.10.8.7.5.6.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">FedAdam</span></span>
</span>
<span class="ltx_tbody">
<span id="S5.SS2.p4.7.5.4.2.2" class="ltx_tr">
<span id="S5.SS2.p4.7.5.4.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t"><math id="S5.SS2.p4.7.5.4.2.2.1.m1.2" class="ltx_Math" alttext="(3,0.35)" display="inline"><semantics id="S5.SS2.p4.7.5.4.2.2.1.m1.2a"><mrow id="S5.SS2.p4.7.5.4.2.2.1.m1.2.3.2" xref="S5.SS2.p4.7.5.4.2.2.1.m1.2.3.1.cmml"><mo stretchy="false" id="S5.SS2.p4.7.5.4.2.2.1.m1.2.3.2.1" xref="S5.SS2.p4.7.5.4.2.2.1.m1.2.3.1.cmml">(</mo><mn id="S5.SS2.p4.7.5.4.2.2.1.m1.1.1" xref="S5.SS2.p4.7.5.4.2.2.1.m1.1.1.cmml">3</mn><mo id="S5.SS2.p4.7.5.4.2.2.1.m1.2.3.2.2" xref="S5.SS2.p4.7.5.4.2.2.1.m1.2.3.1.cmml">,</mo><mn id="S5.SS2.p4.7.5.4.2.2.1.m1.2.2" xref="S5.SS2.p4.7.5.4.2.2.1.m1.2.2.cmml">0.35</mn><mo stretchy="false" id="S5.SS2.p4.7.5.4.2.2.1.m1.2.3.2.3" xref="S5.SS2.p4.7.5.4.2.2.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.7.5.4.2.2.1.m1.2b"><interval closure="open" id="S5.SS2.p4.7.5.4.2.2.1.m1.2.3.1.cmml" xref="S5.SS2.p4.7.5.4.2.2.1.m1.2.3.2"><cn type="integer" id="S5.SS2.p4.7.5.4.2.2.1.m1.1.1.cmml" xref="S5.SS2.p4.7.5.4.2.2.1.m1.1.1">3</cn><cn type="float" id="S5.SS2.p4.7.5.4.2.2.1.m1.2.2.cmml" xref="S5.SS2.p4.7.5.4.2.2.1.m1.2.2">0.35</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.7.5.4.2.2.1.m1.2c">(3,0.35)</annotation></semantics></math></span>
<span id="S5.SS2.p4.7.5.4.2.2.2" class="ltx_td ltx_align_center ltx_border_t">35.72</span>
<span id="S5.SS2.p4.7.5.4.2.2.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.SS2.p4.7.5.4.2.2.3.1" class="ltx_text ltx_font_bold">36.05</span></span>
<span id="S5.SS2.p4.7.5.4.2.2.4" class="ltx_td ltx_align_center ltx_border_t">35.04</span></span>
<span id="S5.SS2.p4.8.6.5.3.3" class="ltx_tr">
<span id="S5.SS2.p4.8.6.5.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="S5.SS2.p4.8.6.5.3.3.1.m1.2" class="ltx_Math" alttext="(3,0.7)" display="inline"><semantics id="S5.SS2.p4.8.6.5.3.3.1.m1.2a"><mrow id="S5.SS2.p4.8.6.5.3.3.1.m1.2.3.2" xref="S5.SS2.p4.8.6.5.3.3.1.m1.2.3.1.cmml"><mo stretchy="false" id="S5.SS2.p4.8.6.5.3.3.1.m1.2.3.2.1" xref="S5.SS2.p4.8.6.5.3.3.1.m1.2.3.1.cmml">(</mo><mn id="S5.SS2.p4.8.6.5.3.3.1.m1.1.1" xref="S5.SS2.p4.8.6.5.3.3.1.m1.1.1.cmml">3</mn><mo id="S5.SS2.p4.8.6.5.3.3.1.m1.2.3.2.2" xref="S5.SS2.p4.8.6.5.3.3.1.m1.2.3.1.cmml">,</mo><mn id="S5.SS2.p4.8.6.5.3.3.1.m1.2.2" xref="S5.SS2.p4.8.6.5.3.3.1.m1.2.2.cmml">0.7</mn><mo stretchy="false" id="S5.SS2.p4.8.6.5.3.3.1.m1.2.3.2.3" xref="S5.SS2.p4.8.6.5.3.3.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.8.6.5.3.3.1.m1.2b"><interval closure="open" id="S5.SS2.p4.8.6.5.3.3.1.m1.2.3.1.cmml" xref="S5.SS2.p4.8.6.5.3.3.1.m1.2.3.2"><cn type="integer" id="S5.SS2.p4.8.6.5.3.3.1.m1.1.1.cmml" xref="S5.SS2.p4.8.6.5.3.3.1.m1.1.1">3</cn><cn type="float" id="S5.SS2.p4.8.6.5.3.3.1.m1.2.2.cmml" xref="S5.SS2.p4.8.6.5.3.3.1.m1.2.2">0.7</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.8.6.5.3.3.1.m1.2c">(3,0.7)</annotation></semantics></math></span>
<span id="S5.SS2.p4.8.6.5.3.3.2" class="ltx_td ltx_align_center">37.25</span>
<span id="S5.SS2.p4.8.6.5.3.3.3" class="ltx_td ltx_align_center">39.82</span>
<span id="S5.SS2.p4.8.6.5.3.3.4" class="ltx_td ltx_align_center"><span id="S5.SS2.p4.8.6.5.3.3.4.1" class="ltx_text ltx_font_bold">43.33</span></span></span>
<span id="S5.SS2.p4.9.7.6.4.4" class="ltx_tr">
<span id="S5.SS2.p4.9.7.6.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row"><math id="S5.SS2.p4.9.7.6.4.4.1.m1.2" class="ltx_Math" alttext="(10,0.35)" display="inline"><semantics id="S5.SS2.p4.9.7.6.4.4.1.m1.2a"><mrow id="S5.SS2.p4.9.7.6.4.4.1.m1.2.3.2" xref="S5.SS2.p4.9.7.6.4.4.1.m1.2.3.1.cmml"><mo stretchy="false" id="S5.SS2.p4.9.7.6.4.4.1.m1.2.3.2.1" xref="S5.SS2.p4.9.7.6.4.4.1.m1.2.3.1.cmml">(</mo><mn id="S5.SS2.p4.9.7.6.4.4.1.m1.1.1" xref="S5.SS2.p4.9.7.6.4.4.1.m1.1.1.cmml">10</mn><mo id="S5.SS2.p4.9.7.6.4.4.1.m1.2.3.2.2" xref="S5.SS2.p4.9.7.6.4.4.1.m1.2.3.1.cmml">,</mo><mn id="S5.SS2.p4.9.7.6.4.4.1.m1.2.2" xref="S5.SS2.p4.9.7.6.4.4.1.m1.2.2.cmml">0.35</mn><mo stretchy="false" id="S5.SS2.p4.9.7.6.4.4.1.m1.2.3.2.3" xref="S5.SS2.p4.9.7.6.4.4.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.9.7.6.4.4.1.m1.2b"><interval closure="open" id="S5.SS2.p4.9.7.6.4.4.1.m1.2.3.1.cmml" xref="S5.SS2.p4.9.7.6.4.4.1.m1.2.3.2"><cn type="integer" id="S5.SS2.p4.9.7.6.4.4.1.m1.1.1.cmml" xref="S5.SS2.p4.9.7.6.4.4.1.m1.1.1">10</cn><cn type="float" id="S5.SS2.p4.9.7.6.4.4.1.m1.2.2.cmml" xref="S5.SS2.p4.9.7.6.4.4.1.m1.2.2">0.35</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.9.7.6.4.4.1.m1.2c">(10,0.35)</annotation></semantics></math></span>
<span id="S5.SS2.p4.9.7.6.4.4.2" class="ltx_td ltx_align_center">40</span>
<span id="S5.SS2.p4.9.7.6.4.4.3" class="ltx_td ltx_align_center"><span id="S5.SS2.p4.9.7.6.4.4.3.1" class="ltx_text ltx_font_bold">43.93</span></span>
<span id="S5.SS2.p4.9.7.6.4.4.4" class="ltx_td ltx_align_center">41.66</span></span>
<span id="S5.SS2.p4.10.8.7.5.5" class="ltx_tr">
<span id="S5.SS2.p4.10.8.7.5.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb"><math id="S5.SS2.p4.10.8.7.5.5.1.m1.2" class="ltx_Math" alttext="(10,0.7)" display="inline"><semantics id="S5.SS2.p4.10.8.7.5.5.1.m1.2a"><mrow id="S5.SS2.p4.10.8.7.5.5.1.m1.2.3.2" xref="S5.SS2.p4.10.8.7.5.5.1.m1.2.3.1.cmml"><mo stretchy="false" id="S5.SS2.p4.10.8.7.5.5.1.m1.2.3.2.1" xref="S5.SS2.p4.10.8.7.5.5.1.m1.2.3.1.cmml">(</mo><mn id="S5.SS2.p4.10.8.7.5.5.1.m1.1.1" xref="S5.SS2.p4.10.8.7.5.5.1.m1.1.1.cmml">10</mn><mo id="S5.SS2.p4.10.8.7.5.5.1.m1.2.3.2.2" xref="S5.SS2.p4.10.8.7.5.5.1.m1.2.3.1.cmml">,</mo><mn id="S5.SS2.p4.10.8.7.5.5.1.m1.2.2" xref="S5.SS2.p4.10.8.7.5.5.1.m1.2.2.cmml">0.7</mn><mo stretchy="false" id="S5.SS2.p4.10.8.7.5.5.1.m1.2.3.2.3" xref="S5.SS2.p4.10.8.7.5.5.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.10.8.7.5.5.1.m1.2b"><interval closure="open" id="S5.SS2.p4.10.8.7.5.5.1.m1.2.3.1.cmml" xref="S5.SS2.p4.10.8.7.5.5.1.m1.2.3.2"><cn type="integer" id="S5.SS2.p4.10.8.7.5.5.1.m1.1.1.cmml" xref="S5.SS2.p4.10.8.7.5.5.1.m1.1.1">10</cn><cn type="float" id="S5.SS2.p4.10.8.7.5.5.1.m1.2.2.cmml" xref="S5.SS2.p4.10.8.7.5.5.1.m1.2.2">0.7</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.10.8.7.5.5.1.m1.2c">(10,0.7)</annotation></semantics></math></span>
<span id="S5.SS2.p4.10.8.7.5.5.2" class="ltx_td ltx_align_center ltx_border_bb">42.7</span>
<span id="S5.SS2.p4.10.8.7.5.5.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S5.SS2.p4.10.8.7.5.5.3.1" class="ltx_text ltx_font_bold">45.2</span></span>
<span id="S5.SS2.p4.10.8.7.5.5.4" class="ltx_td ltx_align_center ltx_border_bb">43.21</span></span>
</span>
</span>
</span>
<span id="S5.T6" class="ltx_table ltx_align_center">
<span class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S5.T6.4.2.1" class="ltx_text" style="font-size:90%;">Table 6</span>: </span><span id="S5.T6.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">FedAvgM and FedAdam Test set performance on different configurations of <math id="S5.T6.2.1.m1.2" class="ltx_Math" alttext="(K,C)" display="inline"><semantics id="S5.T6.2.1.m1.2b"><mrow id="S5.T6.2.1.m1.2.3.2" xref="S5.T6.2.1.m1.2.3.1.cmml"><mo stretchy="false" id="S5.T6.2.1.m1.2.3.2.1" xref="S5.T6.2.1.m1.2.3.1.cmml">(</mo><mi id="S5.T6.2.1.m1.1.1" xref="S5.T6.2.1.m1.1.1.cmml">K</mi><mo id="S5.T6.2.1.m1.2.3.2.2" xref="S5.T6.2.1.m1.2.3.1.cmml">,</mo><mi id="S5.T6.2.1.m1.2.2" xref="S5.T6.2.1.m1.2.2.cmml">C</mi><mo stretchy="false" id="S5.T6.2.1.m1.2.3.2.3" xref="S5.T6.2.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T6.2.1.m1.2c"><interval closure="open" id="S5.T6.2.1.m1.2.3.1.cmml" xref="S5.T6.2.1.m1.2.3.2"><ci id="S5.T6.2.1.m1.1.1.cmml" xref="S5.T6.2.1.m1.1.1">𝐾</ci><ci id="S5.T6.2.1.m1.2.2.cmml" xref="S5.T6.2.1.m1.2.2">𝐶</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.2.1.m1.2d">(K,C)</annotation></semantics></math>.<span id="S5.T6.2.1.1" class="ltx_text ltx_font_medium"> The rightmost column shows the baseline’s performance.</span></span></span>
</span>
</span></span>

From Figure <a href="#S5.F5" title="Figure 5 ‣ Table 5 ‣ 5.1 Baselines ‣ 5 Results ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> (right), there is a substantial improvement while increasing the communication rounds <math id="S5.SS2.p4.12.m3.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S5.SS2.p4.12.m3.1a"><mi id="S5.SS2.p4.12.m3.1.1" xref="S5.SS2.p4.12.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.12.m3.1b"><ci id="S5.SS2.p4.12.m3.1.1.cmml" xref="S5.SS2.p4.12.m3.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.12.m3.1c">T</annotation></semantics></math> to 10 in FSP, with further increases resulting in only marginal improvements. A similar trend is also noticed in Figure <a href="#S5.F5" title="Figure 5 ‣ Table 5 ‣ 5.1 Baselines ‣ 5 Results ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> (left) as the finetuning round <math id="S5.SS2.p4.13.m4.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S5.SS2.p4.13.m4.1a"><mi id="S5.SS2.p4.13.m4.1.1" xref="S5.SS2.p4.13.m4.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.13.m4.1b"><ci id="S5.SS2.p4.13.m4.1.1.cmml" xref="S5.SS2.p4.13.m4.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.13.m4.1c">T</annotation></semantics></math> increases.
We hypothesize that in the early stages of training, the drift in local updates prevents the model from learning effectively.
This necessitates a <span id="S5.SS2.p4.14.10" class="ltx_text ltx_font_italic">much longer period to achieve convergence</span>, therefore increasing the overall cost of training. Based on these results, for our next experiments we opt to fix <math id="S5.SS2.p4.14.m5.1" class="ltx_Math" alttext="T=10" display="inline"><semantics id="S5.SS2.p4.14.m5.1a"><mrow id="S5.SS2.p4.14.m5.1.1" xref="S5.SS2.p4.14.m5.1.1.cmml"><mi id="S5.SS2.p4.14.m5.1.1.2" xref="S5.SS2.p4.14.m5.1.1.2.cmml">T</mi><mo id="S5.SS2.p4.14.m5.1.1.1" xref="S5.SS2.p4.14.m5.1.1.1.cmml">=</mo><mn id="S5.SS2.p4.14.m5.1.1.3" xref="S5.SS2.p4.14.m5.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.14.m5.1b"><apply id="S5.SS2.p4.14.m5.1.1.cmml" xref="S5.SS2.p4.14.m5.1.1"><eq id="S5.SS2.p4.14.m5.1.1.1.cmml" xref="S5.SS2.p4.14.m5.1.1.1"></eq><ci id="S5.SS2.p4.14.m5.1.1.2.cmml" xref="S5.SS2.p4.14.m5.1.1.2">𝑇</ci><cn type="integer" id="S5.SS2.p4.14.m5.1.1.3.cmml" xref="S5.SS2.p4.14.m5.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.14.m5.1c">T=10</annotation></semantics></math>, which strikes a good balance between communication efficiency and DocVQA performance.</p>
</div>
<div id="S5.SS2.p5" class="ltx_para ltx_noindent">
<p id="S5.SS2.p5.5" class="ltx_p"><span id="S5.SS2.p5.5.1" class="ltx_text ltx_font_bold">Effect of Server Optimizer.</span> In these experiments, we apply adaptive optimization methods as described in Section <a href="#S3.SS2" title="3.2 Federated Learning ‣ 3 Methodology ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>: FedAvgM and FedAdam. We only utilize adaptive optimization as SERVEROPT during FSP while fixing it to FedAvg during finetuning. The choice is motivated by our previous experiments where we show obtaining better pretrained weights leads to better performance for the federated training. We use momentum <math id="S5.SS2.p5.1.m1.1" class="ltx_Math" alttext="\beta=0.9" display="inline"><semantics id="S5.SS2.p5.1.m1.1a"><mrow id="S5.SS2.p5.1.m1.1.1" xref="S5.SS2.p5.1.m1.1.1.cmml"><mi id="S5.SS2.p5.1.m1.1.1.2" xref="S5.SS2.p5.1.m1.1.1.2.cmml">β</mi><mo id="S5.SS2.p5.1.m1.1.1.1" xref="S5.SS2.p5.1.m1.1.1.1.cmml">=</mo><mn id="S5.SS2.p5.1.m1.1.1.3" xref="S5.SS2.p5.1.m1.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.1.m1.1b"><apply id="S5.SS2.p5.1.m1.1.1.cmml" xref="S5.SS2.p5.1.m1.1.1"><eq id="S5.SS2.p5.1.m1.1.1.1.cmml" xref="S5.SS2.p5.1.m1.1.1.1"></eq><ci id="S5.SS2.p5.1.m1.1.1.2.cmml" xref="S5.SS2.p5.1.m1.1.1.2">𝛽</ci><cn type="float" id="S5.SS2.p5.1.m1.1.1.3.cmml" xref="S5.SS2.p5.1.m1.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.1.m1.1c">\beta=0.9</annotation></semantics></math> for FedAvgM, and <math id="S5.SS2.p5.2.m2.2" class="ltx_Math" alttext="\beta_{1}=0.9,\beta_{2}=0.99" display="inline"><semantics id="S5.SS2.p5.2.m2.2a"><mrow id="S5.SS2.p5.2.m2.2.2.2" xref="S5.SS2.p5.2.m2.2.2.3.cmml"><mrow id="S5.SS2.p5.2.m2.1.1.1.1" xref="S5.SS2.p5.2.m2.1.1.1.1.cmml"><msub id="S5.SS2.p5.2.m2.1.1.1.1.2" xref="S5.SS2.p5.2.m2.1.1.1.1.2.cmml"><mi id="S5.SS2.p5.2.m2.1.1.1.1.2.2" xref="S5.SS2.p5.2.m2.1.1.1.1.2.2.cmml">β</mi><mn id="S5.SS2.p5.2.m2.1.1.1.1.2.3" xref="S5.SS2.p5.2.m2.1.1.1.1.2.3.cmml">1</mn></msub><mo id="S5.SS2.p5.2.m2.1.1.1.1.1" xref="S5.SS2.p5.2.m2.1.1.1.1.1.cmml">=</mo><mn id="S5.SS2.p5.2.m2.1.1.1.1.3" xref="S5.SS2.p5.2.m2.1.1.1.1.3.cmml">0.9</mn></mrow><mo id="S5.SS2.p5.2.m2.2.2.2.3" xref="S5.SS2.p5.2.m2.2.2.3a.cmml">,</mo><mrow id="S5.SS2.p5.2.m2.2.2.2.2" xref="S5.SS2.p5.2.m2.2.2.2.2.cmml"><msub id="S5.SS2.p5.2.m2.2.2.2.2.2" xref="S5.SS2.p5.2.m2.2.2.2.2.2.cmml"><mi id="S5.SS2.p5.2.m2.2.2.2.2.2.2" xref="S5.SS2.p5.2.m2.2.2.2.2.2.2.cmml">β</mi><mn id="S5.SS2.p5.2.m2.2.2.2.2.2.3" xref="S5.SS2.p5.2.m2.2.2.2.2.2.3.cmml">2</mn></msub><mo id="S5.SS2.p5.2.m2.2.2.2.2.1" xref="S5.SS2.p5.2.m2.2.2.2.2.1.cmml">=</mo><mn id="S5.SS2.p5.2.m2.2.2.2.2.3" xref="S5.SS2.p5.2.m2.2.2.2.2.3.cmml">0.99</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.2.m2.2b"><apply id="S5.SS2.p5.2.m2.2.2.3.cmml" xref="S5.SS2.p5.2.m2.2.2.2"><csymbol cd="ambiguous" id="S5.SS2.p5.2.m2.2.2.3a.cmml" xref="S5.SS2.p5.2.m2.2.2.2.3">formulae-sequence</csymbol><apply id="S5.SS2.p5.2.m2.1.1.1.1.cmml" xref="S5.SS2.p5.2.m2.1.1.1.1"><eq id="S5.SS2.p5.2.m2.1.1.1.1.1.cmml" xref="S5.SS2.p5.2.m2.1.1.1.1.1"></eq><apply id="S5.SS2.p5.2.m2.1.1.1.1.2.cmml" xref="S5.SS2.p5.2.m2.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.SS2.p5.2.m2.1.1.1.1.2.1.cmml" xref="S5.SS2.p5.2.m2.1.1.1.1.2">subscript</csymbol><ci id="S5.SS2.p5.2.m2.1.1.1.1.2.2.cmml" xref="S5.SS2.p5.2.m2.1.1.1.1.2.2">𝛽</ci><cn type="integer" id="S5.SS2.p5.2.m2.1.1.1.1.2.3.cmml" xref="S5.SS2.p5.2.m2.1.1.1.1.2.3">1</cn></apply><cn type="float" id="S5.SS2.p5.2.m2.1.1.1.1.3.cmml" xref="S5.SS2.p5.2.m2.1.1.1.1.3">0.9</cn></apply><apply id="S5.SS2.p5.2.m2.2.2.2.2.cmml" xref="S5.SS2.p5.2.m2.2.2.2.2"><eq id="S5.SS2.p5.2.m2.2.2.2.2.1.cmml" xref="S5.SS2.p5.2.m2.2.2.2.2.1"></eq><apply id="S5.SS2.p5.2.m2.2.2.2.2.2.cmml" xref="S5.SS2.p5.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS2.p5.2.m2.2.2.2.2.2.1.cmml" xref="S5.SS2.p5.2.m2.2.2.2.2.2">subscript</csymbol><ci id="S5.SS2.p5.2.m2.2.2.2.2.2.2.cmml" xref="S5.SS2.p5.2.m2.2.2.2.2.2.2">𝛽</ci><cn type="integer" id="S5.SS2.p5.2.m2.2.2.2.2.2.3.cmml" xref="S5.SS2.p5.2.m2.2.2.2.2.2.3">2</cn></apply><cn type="float" id="S5.SS2.p5.2.m2.2.2.2.2.3.cmml" xref="S5.SS2.p5.2.m2.2.2.2.2.3">0.99</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.2.m2.2c">\beta_{1}=0.9,\beta_{2}=0.99</annotation></semantics></math> and <math id="S5.SS2.p5.3.m3.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S5.SS2.p5.3.m3.1a"><mi id="S5.SS2.p5.3.m3.1.1" xref="S5.SS2.p5.3.m3.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.3.m3.1b"><ci id="S5.SS2.p5.3.m3.1.1.cmml" xref="S5.SS2.p5.3.m3.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.3.m3.1c">\epsilon</annotation></semantics></math> is <math id="S5.SS2.p5.4.m4.1" class="ltx_Math" alttext="1e\text{-}5" display="inline"><semantics id="S5.SS2.p5.4.m4.1a"><mrow id="S5.SS2.p5.4.m4.1.1" xref="S5.SS2.p5.4.m4.1.1.cmml"><mn id="S5.SS2.p5.4.m4.1.1.2" xref="S5.SS2.p5.4.m4.1.1.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S5.SS2.p5.4.m4.1.1.1" xref="S5.SS2.p5.4.m4.1.1.1.cmml">​</mo><mi id="S5.SS2.p5.4.m4.1.1.3" xref="S5.SS2.p5.4.m4.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S5.SS2.p5.4.m4.1.1.1a" xref="S5.SS2.p5.4.m4.1.1.1.cmml">​</mo><mtext id="S5.SS2.p5.4.m4.1.1.4" xref="S5.SS2.p5.4.m4.1.1.4a.cmml">-</mtext><mo lspace="0em" rspace="0em" id="S5.SS2.p5.4.m4.1.1.1b" xref="S5.SS2.p5.4.m4.1.1.1.cmml">​</mo><mn id="S5.SS2.p5.4.m4.1.1.5" xref="S5.SS2.p5.4.m4.1.1.5.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.4.m4.1b"><apply id="S5.SS2.p5.4.m4.1.1.cmml" xref="S5.SS2.p5.4.m4.1.1"><times id="S5.SS2.p5.4.m4.1.1.1.cmml" xref="S5.SS2.p5.4.m4.1.1.1"></times><cn type="integer" id="S5.SS2.p5.4.m4.1.1.2.cmml" xref="S5.SS2.p5.4.m4.1.1.2">1</cn><ci id="S5.SS2.p5.4.m4.1.1.3.cmml" xref="S5.SS2.p5.4.m4.1.1.3">𝑒</ci><ci id="S5.SS2.p5.4.m4.1.1.4a.cmml" xref="S5.SS2.p5.4.m4.1.1.4"><mtext id="S5.SS2.p5.4.m4.1.1.4.cmml" xref="S5.SS2.p5.4.m4.1.1.4">-</mtext></ci><cn type="integer" id="S5.SS2.p5.4.m4.1.1.5.cmml" xref="S5.SS2.p5.4.m4.1.1.5">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.4.m4.1c">1e\text{-}5</annotation></semantics></math> as the momentum hyperparameters for FedAdam. We keep the server learning rate <math id="S5.SS2.p5.5.m5.1" class="ltx_Math" alttext="\eta_{s}" display="inline"><semantics id="S5.SS2.p5.5.m5.1a"><msub id="S5.SS2.p5.5.m5.1.1" xref="S5.SS2.p5.5.m5.1.1.cmml"><mi id="S5.SS2.p5.5.m5.1.1.2" xref="S5.SS2.p5.5.m5.1.1.2.cmml">η</mi><mi id="S5.SS2.p5.5.m5.1.1.3" xref="S5.SS2.p5.5.m5.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.5.m5.1b"><apply id="S5.SS2.p5.5.m5.1.1.cmml" xref="S5.SS2.p5.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS2.p5.5.m5.1.1.1.cmml" xref="S5.SS2.p5.5.m5.1.1">subscript</csymbol><ci id="S5.SS2.p5.5.m5.1.1.2.cmml" xref="S5.SS2.p5.5.m5.1.1.2">𝜂</ci><ci id="S5.SS2.p5.5.m5.1.1.3.cmml" xref="S5.SS2.p5.5.m5.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.5.m5.1c">\eta_{s}</annotation></semantics></math> at 0.001.</p>
</div>
<div id="S5.SS2.p6" class="ltx_para">
<p id="S5.SS2.p6.1" class="ltx_p">Table <a href="#S5.T6" title="Table 6 ‣ 5.2 Ablation Study ‣ 5 Results ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> and Figure <a href="#S5.F6" title="Figure 6 ‣ 5.2 Ablation Study ‣ 5 Results ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> show the effect of SERVEROPT with adaptive server optimizers compared to the FedAvg baseline. Overvall, FedAdam yields better performance than FedAvgM, since it has a mechanism to better adapt the learning rate, thus achieves better convergence. When we consider more clients with <math id="S5.SS2.p6.1.m1.1" class="ltx_Math" alttext="K=10" display="inline"><semantics id="S5.SS2.p6.1.m1.1a"><mrow id="S5.SS2.p6.1.m1.1.1" xref="S5.SS2.p6.1.m1.1.1.cmml"><mi id="S5.SS2.p6.1.m1.1.1.2" xref="S5.SS2.p6.1.m1.1.1.2.cmml">K</mi><mo id="S5.SS2.p6.1.m1.1.1.1" xref="S5.SS2.p6.1.m1.1.1.1.cmml">=</mo><mn id="S5.SS2.p6.1.m1.1.1.3" xref="S5.SS2.p6.1.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p6.1.m1.1b"><apply id="S5.SS2.p6.1.m1.1.1.cmml" xref="S5.SS2.p6.1.m1.1.1"><eq id="S5.SS2.p6.1.m1.1.1.1.cmml" xref="S5.SS2.p6.1.m1.1.1.1"></eq><ci id="S5.SS2.p6.1.m1.1.1.2.cmml" xref="S5.SS2.p6.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S5.SS2.p6.1.m1.1.1.3.cmml" xref="S5.SS2.p6.1.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p6.1.m1.1c">K=10</annotation></semantics></math>, we observe that using FedAdam constantly outperforms FedAvg, suggesting that FedAdam is more effective to deal with a high level of heterogeneity. However, we suggest that performances for both strategies can be better improved with extensive hyperparameter tuning, for such complex setting like DocVQA with FL as it involves numerous hyperparameters.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Main Results</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.3" class="ltx_p">Table <a href="#S5.T7" title="Table 7 ‣ 5.3 Main Results ‣ 5 Results ‣ Federated Document Visual Question Answering: A Pilot Study" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> presents our main results over our set of proposed methods and experiments. We select the best results, based on the hyperparameters selected for ablation study, for each configuration <math id="S5.SS3.p1.1.m1.2" class="ltx_Math" alttext="(K,C)" display="inline"><semantics id="S5.SS3.p1.1.m1.2a"><mrow id="S5.SS3.p1.1.m1.2.3.2" xref="S5.SS3.p1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S5.SS3.p1.1.m1.2.3.2.1" xref="S5.SS3.p1.1.m1.2.3.1.cmml">(</mo><mi id="S5.SS3.p1.1.m1.1.1" xref="S5.SS3.p1.1.m1.1.1.cmml">K</mi><mo id="S5.SS3.p1.1.m1.2.3.2.2" xref="S5.SS3.p1.1.m1.2.3.1.cmml">,</mo><mi id="S5.SS3.p1.1.m1.2.2" xref="S5.SS3.p1.1.m1.2.2.cmml">C</mi><mo stretchy="false" id="S5.SS3.p1.1.m1.2.3.2.3" xref="S5.SS3.p1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.1.m1.2b"><interval closure="open" id="S5.SS3.p1.1.m1.2.3.1.cmml" xref="S5.SS3.p1.1.m1.2.3.2"><ci id="S5.SS3.p1.1.m1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1">𝐾</ci><ci id="S5.SS3.p1.1.m1.2.2.cmml" xref="S5.SS3.p1.1.m1.2.2">𝐶</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.1.m1.2c">(K,C)</annotation></semantics></math>. Overall, our FSP strategy is beneficial for DocVQA under FL with consistent improvements across different configurations. While FedAvg can still be effective for small-scale setting like <math id="S5.SS3.p1.2.m2.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S5.SS3.p1.2.m2.1a"><mrow id="S5.SS3.p1.2.m2.1.1" xref="S5.SS3.p1.2.m2.1.1.cmml"><mi id="S5.SS3.p1.2.m2.1.1.2" xref="S5.SS3.p1.2.m2.1.1.2.cmml">K</mi><mo id="S5.SS3.p1.2.m2.1.1.1" xref="S5.SS3.p1.2.m2.1.1.1.cmml">=</mo><mn id="S5.SS3.p1.2.m2.1.1.3" xref="S5.SS3.p1.2.m2.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.2.m2.1b"><apply id="S5.SS3.p1.2.m2.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1"><eq id="S5.SS3.p1.2.m2.1.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1.1"></eq><ci id="S5.SS3.p1.2.m2.1.1.2.cmml" xref="S5.SS3.p1.2.m2.1.1.2">𝐾</ci><cn type="integer" id="S5.SS3.p1.2.m2.1.1.3.cmml" xref="S5.SS3.p1.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.2.m2.1c">K=3</annotation></semantics></math>, FedAdam is considered the better design choice in a more heterogeneous system like <math id="S5.SS3.p1.3.m3.1" class="ltx_Math" alttext="K=10" display="inline"><semantics id="S5.SS3.p1.3.m3.1a"><mrow id="S5.SS3.p1.3.m3.1.1" xref="S5.SS3.p1.3.m3.1.1.cmml"><mi id="S5.SS3.p1.3.m3.1.1.2" xref="S5.SS3.p1.3.m3.1.1.2.cmml">K</mi><mo id="S5.SS3.p1.3.m3.1.1.1" xref="S5.SS3.p1.3.m3.1.1.1.cmml">=</mo><mn id="S5.SS3.p1.3.m3.1.1.3" xref="S5.SS3.p1.3.m3.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.3.m3.1b"><apply id="S5.SS3.p1.3.m3.1.1.cmml" xref="S5.SS3.p1.3.m3.1.1"><eq id="S5.SS3.p1.3.m3.1.1.1.cmml" xref="S5.SS3.p1.3.m3.1.1.1"></eq><ci id="S5.SS3.p1.3.m3.1.1.2.cmml" xref="S5.SS3.p1.3.m3.1.1.2">𝐾</ci><cn type="integer" id="S5.SS3.p1.3.m3.1.1.3.cmml" xref="S5.SS3.p1.3.m3.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.3.m3.1c">K=10</annotation></semantics></math>.</p>
</div>
<figure id="S5.T7" class="ltx_table">
<table id="S5.T7.5" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T7.5.6.1" class="ltx_tr">
<th id="S5.T7.5.6.1.1" class="ltx_td ltx_th ltx_th_row ltx_border_tt"></th>
<td id="S5.T7.5.6.1.2" class="ltx_td ltx_align_center ltx_border_tt">FSP(FedAvg)</td>
<td id="S5.T7.5.6.1.3" class="ltx_td ltx_align_center ltx_border_tt">FSP(FedAdam)</td>
<td id="S5.T7.5.6.1.4" class="ltx_td ltx_align_center ltx_border_tt">FSP(FedAdam)</td>
</tr>
<tr id="S5.T7.5.7.2" class="ltx_tr">
<th id="S5.T7.5.7.2.1" class="ltx_td ltx_th ltx_th_row"></th>
<td id="S5.T7.5.7.2.2" class="ltx_td ltx_align_center">+FedAvg</td>
<td id="S5.T7.5.7.2.3" class="ltx_td ltx_align_center">+FedAvg</td>
<td id="S5.T7.5.7.2.4" class="ltx_td ltx_align_center">+FedAvg</td>
</tr>
<tr id="S5.T7.1.1" class="ltx_tr">
<th id="S5.T7.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><math id="S5.T7.1.1.1.m1.1" class="ltx_Math" alttext="C=0.7" display="inline"><semantics id="S5.T7.1.1.1.m1.1a"><mrow id="S5.T7.1.1.1.m1.1.1" xref="S5.T7.1.1.1.m1.1.1.cmml"><mi id="S5.T7.1.1.1.m1.1.1.2" xref="S5.T7.1.1.1.m1.1.1.2.cmml">C</mi><mo id="S5.T7.1.1.1.m1.1.1.1" xref="S5.T7.1.1.1.m1.1.1.1.cmml">=</mo><mn id="S5.T7.1.1.1.m1.1.1.3" xref="S5.T7.1.1.1.m1.1.1.3.cmml">0.7</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T7.1.1.1.m1.1b"><apply id="S5.T7.1.1.1.m1.1.1.cmml" xref="S5.T7.1.1.1.m1.1.1"><eq id="S5.T7.1.1.1.m1.1.1.1.cmml" xref="S5.T7.1.1.1.m1.1.1.1"></eq><ci id="S5.T7.1.1.1.m1.1.1.2.cmml" xref="S5.T7.1.1.1.m1.1.1.2">𝐶</ci><cn type="float" id="S5.T7.1.1.1.m1.1.1.3.cmml" xref="S5.T7.1.1.1.m1.1.1.3">0.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.1.1.1.m1.1c">C=0.7</annotation></semantics></math></th>
<td id="S5.T7.1.1.2" class="ltx_td ltx_align_center ltx_border_t">
<span id="S5.T7.1.1.2.1" class="ltx_text ltx_font_bold">44.54</span>(+2.12)</td>
<td id="S5.T7.1.1.3" class="ltx_td ltx_align_center ltx_border_t">
<span id="S5.T7.1.1.3.1" class="ltx_text ltx_font_bold">45.2</span>(+1.99)</td>
<td id="S5.T7.1.1.4" class="ltx_td ltx_align_center ltx_border_t">
<span id="S5.T7.1.1.4.1" class="ltx_text ltx_font_bold">38.55</span>(+3.34)</td>
</tr>
<tr id="S5.T7.2.2" class="ltx_tr">
<th id="S5.T7.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row"><math id="S5.T7.2.2.1.m1.1" class="ltx_Math" alttext="C=0.35" display="inline"><semantics id="S5.T7.2.2.1.m1.1a"><mrow id="S5.T7.2.2.1.m1.1.1" xref="S5.T7.2.2.1.m1.1.1.cmml"><mi id="S5.T7.2.2.1.m1.1.1.2" xref="S5.T7.2.2.1.m1.1.1.2.cmml">C</mi><mo id="S5.T7.2.2.1.m1.1.1.1" xref="S5.T7.2.2.1.m1.1.1.1.cmml">=</mo><mn id="S5.T7.2.2.1.m1.1.1.3" xref="S5.T7.2.2.1.m1.1.1.3.cmml">0.35</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T7.2.2.1.m1.1b"><apply id="S5.T7.2.2.1.m1.1.1.cmml" xref="S5.T7.2.2.1.m1.1.1"><eq id="S5.T7.2.2.1.m1.1.1.1.cmml" xref="S5.T7.2.2.1.m1.1.1.1"></eq><ci id="S5.T7.2.2.1.m1.1.1.2.cmml" xref="S5.T7.2.2.1.m1.1.1.2">𝐶</ci><cn type="float" id="S5.T7.2.2.1.m1.1.1.3.cmml" xref="S5.T7.2.2.1.m1.1.1.3">0.35</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.2.2.1.m1.1c">C=0.35</annotation></semantics></math></th>
<td id="S5.T7.2.2.2" class="ltx_td ltx_align_center">
<span id="S5.T7.2.2.2.1" class="ltx_text ltx_font_bold">37.65</span>(+2.61)</td>
<td id="S5.T7.2.2.3" class="ltx_td ltx_align_center">
<span id="S5.T7.2.2.3.1" class="ltx_text ltx_font_bold">43.93</span>(+2.27)</td>
<td id="S5.T7.2.2.4" class="ltx_td ltx_align_center">
<span id="S5.T7.2.2.4.1" class="ltx_text ltx_font_bold">33.06</span>(+0.64)</td>
</tr>
<tr id="S5.T7.5.5" class="ltx_tr">
<th id="S5.T7.5.5.4" class="ltx_td ltx_th ltx_th_row ltx_border_bb ltx_border_t"></th>
<td id="S5.T7.3.3.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><math id="S5.T7.3.3.1.m1.1" class="ltx_Math" alttext="K=3" display="inline"><semantics id="S5.T7.3.3.1.m1.1a"><mrow id="S5.T7.3.3.1.m1.1.1" xref="S5.T7.3.3.1.m1.1.1.cmml"><mi id="S5.T7.3.3.1.m1.1.1.2" xref="S5.T7.3.3.1.m1.1.1.2.cmml">K</mi><mo id="S5.T7.3.3.1.m1.1.1.1" xref="S5.T7.3.3.1.m1.1.1.1.cmml">=</mo><mn id="S5.T7.3.3.1.m1.1.1.3" xref="S5.T7.3.3.1.m1.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T7.3.3.1.m1.1b"><apply id="S5.T7.3.3.1.m1.1.1.cmml" xref="S5.T7.3.3.1.m1.1.1"><eq id="S5.T7.3.3.1.m1.1.1.1.cmml" xref="S5.T7.3.3.1.m1.1.1.1"></eq><ci id="S5.T7.3.3.1.m1.1.1.2.cmml" xref="S5.T7.3.3.1.m1.1.1.2">𝐾</ci><cn type="integer" id="S5.T7.3.3.1.m1.1.1.3.cmml" xref="S5.T7.3.3.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.3.3.1.m1.1c">K=3</annotation></semantics></math></td>
<td id="S5.T7.4.4.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><math id="S5.T7.4.4.2.m1.1" class="ltx_Math" alttext="K=10" display="inline"><semantics id="S5.T7.4.4.2.m1.1a"><mrow id="S5.T7.4.4.2.m1.1.1" xref="S5.T7.4.4.2.m1.1.1.cmml"><mi id="S5.T7.4.4.2.m1.1.1.2" xref="S5.T7.4.4.2.m1.1.1.2.cmml">K</mi><mo id="S5.T7.4.4.2.m1.1.1.1" xref="S5.T7.4.4.2.m1.1.1.1.cmml">=</mo><mn id="S5.T7.4.4.2.m1.1.1.3" xref="S5.T7.4.4.2.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T7.4.4.2.m1.1b"><apply id="S5.T7.4.4.2.m1.1.1.cmml" xref="S5.T7.4.4.2.m1.1.1"><eq id="S5.T7.4.4.2.m1.1.1.1.cmml" xref="S5.T7.4.4.2.m1.1.1.1"></eq><ci id="S5.T7.4.4.2.m1.1.1.2.cmml" xref="S5.T7.4.4.2.m1.1.1.2">𝐾</ci><cn type="integer" id="S5.T7.4.4.2.m1.1.1.3.cmml" xref="S5.T7.4.4.2.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.4.4.2.m1.1c">K=10</annotation></semantics></math></td>
<td id="S5.T7.5.5.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><math id="S5.T7.5.5.3.m1.1" class="ltx_Math" alttext="K=30" display="inline"><semantics id="S5.T7.5.5.3.m1.1a"><mrow id="S5.T7.5.5.3.m1.1.1" xref="S5.T7.5.5.3.m1.1.1.cmml"><mi id="S5.T7.5.5.3.m1.1.1.2" xref="S5.T7.5.5.3.m1.1.1.2.cmml">K</mi><mo id="S5.T7.5.5.3.m1.1.1.1" xref="S5.T7.5.5.3.m1.1.1.1.cmml">=</mo><mn id="S5.T7.5.5.3.m1.1.1.3" xref="S5.T7.5.5.3.m1.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T7.5.5.3.m1.1b"><apply id="S5.T7.5.5.3.m1.1.1.cmml" xref="S5.T7.5.5.3.m1.1.1"><eq id="S5.T7.5.5.3.m1.1.1.1.cmml" xref="S5.T7.5.5.3.m1.1.1.1"></eq><ci id="S5.T7.5.5.3.m1.1.1.2.cmml" xref="S5.T7.5.5.3.m1.1.1.2">𝐾</ci><cn type="integer" id="S5.T7.5.5.3.m1.1.1.3.cmml" xref="S5.T7.5.5.3.m1.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.5.5.3.m1.1c">K=30</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T7.10.2.1" class="ltx_text" style="font-size:90%;">Table 7</span>: </span><span id="S5.T7.7.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Main results of our proposed methods on FeDocVQA test set<span id="S5.T7.7.1.1" class="ltx_text ltx_font_medium">. In parenthesis, we provide the performance gain compared to the baseline. Each cell corresponds to one <math id="S5.T7.7.1.1.m1.2" class="ltx_Math" alttext="(K,C)" display="inline"><semantics id="S5.T7.7.1.1.m1.2b"><mrow id="S5.T7.7.1.1.m1.2.3.2" xref="S5.T7.7.1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S5.T7.7.1.1.m1.2.3.2.1" xref="S5.T7.7.1.1.m1.2.3.1.cmml">(</mo><mi id="S5.T7.7.1.1.m1.1.1" xref="S5.T7.7.1.1.m1.1.1.cmml">K</mi><mo id="S5.T7.7.1.1.m1.2.3.2.2" xref="S5.T7.7.1.1.m1.2.3.1.cmml">,</mo><mi id="S5.T7.7.1.1.m1.2.2" xref="S5.T7.7.1.1.m1.2.2.cmml">C</mi><mo stretchy="false" id="S5.T7.7.1.1.m1.2.3.2.3" xref="S5.T7.7.1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T7.7.1.1.m1.2c"><interval closure="open" id="S5.T7.7.1.1.m1.2.3.1.cmml" xref="S5.T7.7.1.1.m1.2.3.2"><ci id="S5.T7.7.1.1.m1.1.1.cmml" xref="S5.T7.7.1.1.m1.1.1">𝐾</ci><ci id="S5.T7.7.1.1.m1.2.2.cmml" xref="S5.T7.7.1.1.m1.2.2">𝐶</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.7.1.1.m1.2d">(K,C)</annotation></semantics></math> configuration.</span></span></figcaption>
</figure>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusions</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this work we showed how to apply a federated learning scheme to train a DocVQA model on decentralised document data, stemming from three different, heterogeneous sources. We demonstrated that FL is a viable approach for both pre-training and fine-tuning large-scale multimodal LLM models like the ones used for DocVQA, reaching results comparable to the centralised model. This can potentially enable researchers to take advantage of document collections scattered across private data silos, which can lead to better generalisation as it allows training over more heterogeneous data.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">This work has received support from Grants PID2020-116298GB-I00 and PLEC2021-007850 funded by MCIN/AEI/10.13039/501100011033 and the project ELSA, 101070617, financed by the European Union’s Horizon Europe research and innovation programme.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Borchmann, Ł., Pietruszka, M., Stanislawek, T., Jurkiewicz, D., Turski, M., Szyndler, K., Graliński, F.: DUE: End-to-end document understanding benchmark. In: Thirty-fifth Conference on Neural Information Processing Systems Datasets and Benchmarks Track (Round 2) (2021), <a target="_blank" href="https://openreview.net/forum?id=rNs2FvJGDK" title="" class="ltx_ref ltx_url"><span id="bib.bib1.1.1.1" class="ltx_text" style="color:#0000FF;">https://openreview.net/forum?id=rNs2FvJGDK</span></a>

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Che, L., Wang, J., Zhou, Y., Ma, F.: Multimodal federated learning: A survey. Sensors <span id="bib.bib2.1.1" class="ltx_text ltx_font_bold">23</span>(15),  6986 (2023)

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Chen, W., Wang, H., Chen, J., Zhang, Y., Wang, H., Li, S., Zhou, X., Wang, W.Y.: Tabfact: A large-scale dataset for table-based fact verification. In: International Conference on Learning Representations (2020), <a target="_blank" href="https://openreview.net/forum?id=rkeJRhNYDH" title="" class="ltx_ref ltx_url"><span id="bib.bib3.1.1.1" class="ltx_text" style="color:#0000FF;">https://openreview.net/forum?id=rkeJRhNYDH</span></a>

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Dayan, I., Roth, H.R., Zhong, A., Harouni, A., Gentili, A., Abidin, A.Z., Liu, A., Costa, A.B., Wood, B.J., Tsai, C.S., et al.: Federated learning for predicting clinical outcomes in patients with covid-19. Nature medicine <span id="bib.bib4.1.1" class="ltx_text ltx_font_bold">27</span>(10), 1735–1743 (2021)

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Deng, J., Dong, W., Socher, R., Li, L.J., Li, K., Fei-Fei, L.: Imagenet: A large-scale hierarchical image database. In: 2009 IEEE Conference on Computer Vision and Pattern Recognition. pp. 248–255 (2009). https://doi.org/10.1109/CVPR.2009.5206848

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Dosovitskiy, A., Beyer, L., Kolesnikov, A., Weissenborn, D., Zhai, X., Unterthiner, T., Dehghani, M., Minderer, M., Heigold, G., Gelly, S., et al.: An image is worth 16x16 words: Transformers for image recognition at scale. arXiv preprint arXiv:2010.11929 (2020)

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
El-Nouby, A., Izacard, G., Touvron, H., Laptev, I., Jegou, H., Grave, E.: Are large-scale datasets necessary for self-supervised pre-training? arXiv preprint arXiv:2112.10740 (2021)

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Ghazi, B., Pagh, R., Velingker, A.: Scalable and differentially private distributed aggregation in the shuffled model. arXiv preprint arXiv:1906.08320 (2019)

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Girgis, A., Data, D., Diggavi, S., Kairouz, P., Theertha Suresh, A.: Shuffled model of differential privacy in federated learning. In: Banerjee, A., Fukumizu, K. (eds.) Proceedings of The 24th International Conference on Artificial Intelligence and Statistics. Proceedings of Machine Learning Research, vol. 130, pp. 2521–2529. PMLR (13–15 Apr 2021), <a target="_blank" href="https://proceedings.mlr.press/v130/girgis21a.html" title="" class="ltx_ref ltx_url"><span id="bib.bib9.1.1.1" class="ltx_text" style="color:#0000FF;">https://proceedings.mlr.press/v130/girgis21a.html</span></a>

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Gururangan, S., Marasović, A., Swayamdipta, S., Lo, K., Beltagy, I., Downey, D., Smith, N.A.: Don’t stop pretraining: Adapt language models to domains and tasks. arXiv preprint arXiv:2004.10964 (2020)

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Hamer, J., Mohri, M., Suresh, A.T.: Fedboost: A communication-efficient algorithm for federated learning. In: International Conference on Machine Learning. pp. 3973–3983. PMLR (2020)

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
He, K., Chen, X., Xie, S., Li, Y., Dollár, P., Girshick, R.: Masked autoencoders are scalable vision learners. In: Proceedings of the IEEE/CVF conference on computer vision and pattern recognition. pp. 16000–16009 (2022)

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Hsu, T.M.H., Qi, H., Brown, M.: Measuring the effects of non-identical data distribution for federated visual classification. arXiv preprint arXiv:1909.06335 (2019)

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Huang, Y., Lv, T., Cui, L., Lu, Y., Wei, F.: Layoutlmv3: Pre-training for document ai with unified text and image masking. In: Proceedings of the 30th ACM International Conference on Multimedia. pp. 4083–4091 (2022)

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Jiang, J.C., Kantarci, B., Oktug, S., Soyata, T.: Federated learning in smart city sensing: Challenges and opportunities. Sensors <span id="bib.bib15.1.1" class="ltx_text ltx_font_bold">20</span>(21),  6230 (2020)

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Kairouz, P., McMahan, H.B., Avent, B., Bellet, A., Bennis, M., Bhagoji, A.N., Bonawitz, K., Charles, Z., Cormode, G., Cummings, R., et al.: Advances and open problems in federated learning. Foundations and Trends® in Machine Learning <span id="bib.bib16.1.1" class="ltx_text ltx_font_bold">14</span>(1–2), 1–210 (2021)

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Karimireddy, S.P., Kale, S., Mohri, M., Reddi, S., Stich, S., Suresh, A.T.: Scaffold: Stochastic controlled averaging for federated learning. In: International conference on machine learning. pp. 5132–5143. PMLR (2020)

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Kim, G., Hong, T., Yim, M., Nam, J., Park, J., Yim, J., Hwang, W., Yun, S., Han, D., Park, S.: Ocr-free document understanding transformer. In: Avidan, S., Brostow, G., Cissé, M., Farinella, G.M., Hassner, T. (eds.) Computer Vision – ECCV 2022. pp. 498–517. Springer Nature Switzerland, Cham (2022)

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Kingma, D.P., Ba, J.: Adam: A method for stochastic optimization. arXiv preprint arXiv:1412.6980 (2014)

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Krishna, K., Garg, S., Bigham, J.P., Lipton, Z.C.: Downstream datasets make surprisingly good pretraining corpora. arXiv preprint arXiv:2209.14389 (2022)

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Lee, K., Joshi, M., Turc, I., Hu, H., Liu, F., Eisenschlos, J., Khandelwal, U., Shaw, P., Chang, M.W., Toutanova, K.: Pix2struct: screenshot parsing as pretraining for visual language understanding. In: Proceedings of the 40th International Conference on Machine Learning. ICML’23, JMLR.org (2023)

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Lewis, D., Agam, G., Argamon, S., Frieder, O., Grossman, D., Heard, J.: Building a test collection for complex document information processing. In: Proceedings of the 29th Annual International ACM SIGIR Conference on Research and Development in Information Retrieval. p. 665–666. SIGIR ’06, Association for Computing Machinery, New York, NY, USA (2006). https://doi.org/10.1145/1148170.1148307, <a target="_blank" href="https://doi.org/10.1145/1148170.1148307" title="" class="ltx_ref ltx_url"><span id="bib.bib22.1.1.1" class="ltx_text" style="color:#0000FF;">https://doi.org/10.1145/1148170.1148307</span></a>

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Li, Q., He, B., Song, D.: Model-contrastive federated learning. In: Proceedings of the IEEE/CVF conference on computer vision and pattern recognition. pp. 10713–10722 (2021)

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Li, T., Sahu, A.K., Zaheer, M., Sanjabi, M., Talwalkar, A., Smith, V.: Federated optimization in heterogeneous networks. Proceedings of Machine learning and systems <span id="bib.bib24.1.1" class="ltx_text ltx_font_bold">2</span>, 429–450 (2020)

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Lin, G., Liang, F., Pan, W., Ming, Z.: Fedrec: Federated recommendation with explicit feedback. IEEE Intelligent Systems <span id="bib.bib25.1.1" class="ltx_text ltx_font_bold">36</span>(5), 21–30 (2020)

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Mathew, M., Bagal, V., Tito, R., Karatzas, D., Valveny, E., Jawahar, C.: Infographicvqa. In: Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision. pp. 1697–1706 (2022)

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Mathew, M., Karatzas, D., Jawahar, C.: Docvqa: A dataset for vqa on document images. In: Proceedings of the IEEE/CVF winter conference on applications of computer vision. pp. 2200–2209 (2021)

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
McMahan, B., Moore, E., Ramage, D., Hampson, S., y Arcas, B.A.: Communication-efficient learning of deep networks from decentralized data. In: Artificial intelligence and statistics. pp. 1273–1282. PMLR (2017)

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
Nguyen, J., Malik, K., Sanjabi, M., Rabbat, M.: Where to begin? exploring the impact of pre-training and initialization in federated learning. arXiv preprint arXiv:2206.15387 (2022)

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
Pasupat, P., Liang, P.: Compositional semantic parsing on semi-structured tables. In: Zong, C., Strube, M. (eds.) Proceedings of the 53rd Annual Meeting of the Association for Computational Linguistics and the 7th International Joint Conference on Natural Language Processing (Volume 1: Long Papers). pp. 1470–1480. Association for Computational Linguistics, Beijing, China (Jul 2015). https://doi.org/10.3115/v1/P15-1142, <a target="_blank" href="https://aclanthology.org/P15-1142" title="" class="ltx_ref ltx_url"><span id="bib.bib30.1.1.1" class="ltx_text" style="color:#0000FF;">https://aclanthology.org/P15-1142</span></a>

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
Powalski, R., Borchmann, Ł., Jurkiewicz, D., Dwojak, T., Pietruszka, M., Palka, G.: Going full-tilt boogie on document understanding with text-image-layout transformer. In: Document Analysis and Recognition–ICDAR 2021: 16th International Conference, Lausanne, Switzerland, September 5–10, 2021, Proceedings, Part II 16. pp. 732–747. Springer (2021)

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
Raffel, C., Shazeer, N., Roberts, A., Lee, K., Narang, S., Matena, M., Zhou, Y., Li, W., Liu, P.J.: Exploring the limits of transfer learning with a unified text-to-text transformer. The Journal of Machine Learning Research <span id="bib.bib32.1.1" class="ltx_text ltx_font_bold">21</span>(1), 5485–5551 (2020)

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
Reddi, S., Charles, Z., Zaheer, M., Garrett, Z., Rush, K., Konečnỳ, J., Kumar, S., McMahan, H.B.: Adaptive federated optimization. arXiv preprint arXiv:2003.00295 (2020)

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
Sattler, F., Wiedemann, S., Müller, K.R., Samek, W.: Robust and communication-efficient federated learning from non-iid data. IEEE transactions on neural networks and learning systems <span id="bib.bib34.1.1" class="ltx_text ltx_font_bold">31</span>(9), 3400–3413 (2019)

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
Tang, H., Yu, C., Lian, X., Zhang, T., Liu, J.: Doublesqueeze: Parallel stochastic gradient descent with double-pass error-compensated compression. In: International Conference on Machine Learning. pp. 6155–6165. PMLR (2019)

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
Tang, Z., Yang, Z., Wang, G., Fang, Y., Liu, Y., Zhu, C., Zeng, M., Zhang, C., Bansal, M.: Unifying vision, text, and layout for universal document processing. In: Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition. pp. 19254–19264 (2023)

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
Tito, R., Karatzas, D., Valveny, E.: Hierarchical multimodal transformers for multipage docvqa. Pattern Recognition <span id="bib.bib37.1.1" class="ltx_text ltx_font_bold">144</span>, 109834 (2023)

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
Tito, R., Mathew, M., Jawahar, C., Valveny, E., Karatzas, D.: Icdar 2021 competition on document visual question answering. In: International Conference on Document Analysis and Recognition. pp. 635–649. Springer (2021)

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
Tito, R., Nguyen, K., Tobaben, M., Kerkouche, R., Souibgui, M.A., Jung, K., Kang, L., Valveny, E., Honkela, A., Fritz, M., Karatzas, D.: Privacy-aware document visual question answering. arXiv preprint arXiv:2312.10108 (2023)

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock">
Van Landeghem, J., Tito, R., Borchmann, Ł., Pietruszka, M., Joziak, P., Powalski, R., Jurkiewicz, D., Coustaty, M., Anckaert, B., Valveny, E., et al.: Document understanding dataset and evaluation (dude). In: Proceedings of the IEEE/CVF International Conference on Computer Vision. pp. 19528–19540 (2023)

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock">
Vogels, T., Karimireddy, S.P., Jaggi, M.: Powersgd: Practical low-rank gradient compression for distributed optimization. Advances in Neural Information Processing Systems <span id="bib.bib41.1.1" class="ltx_text ltx_font_bold">32</span> (2019)

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock">
Wolf, T., Debut, L., Sanh, V., Chaumond, J., Delangue, C., Moi, A., Cistac, P., Rault, T., Louf, R., Funtowicz, M., Davison, J., Shleifer, S., von Platen, P., Ma, C., Jernite, Y., Plu, J., Xu, C., Le Scao, T., Gugger, S., Drame, M., Lhoest, Q., Rush, A.: Transformers: State-of-the-art natural language processing. In: Liu, Q., Schlangen, D. (eds.) Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing: System Demonstrations. pp. 38–45. Association for Computational Linguistics, Online (Oct 2020). https://doi.org/10.18653/v1/2020.emnlp-demos.6, <a target="_blank" href="https://aclanthology.org/2020.emnlp-demos.6" title="" class="ltx_ref ltx_url"><span id="bib.bib42.1.1.1" class="ltx_text" style="color:#0000FF;">https://aclanthology.org/2020.emnlp-demos.6</span></a>

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock">
Wu, Y., Li, F., Liang, P.S.: Insights into pre-training via simpler synthetic tasks. Advances in Neural Information Processing Systems <span id="bib.bib43.1.1" class="ltx_text ltx_font_bold">35</span>, 21844–21857 (2022)

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock">
Yang, Q., Liu, Y., Chen, T., Tong, Y.: Federated machine learning: Concept and applications. ACM Transactions on Intelligent Systems and Technology (TIST) <span id="bib.bib44.1.1" class="ltx_text ltx_font_bold">10</span>(2), 1–19 (2019)

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2405.06635" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2405.06636" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2405.06636">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2405.06636" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2405.06637" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Jun  5 17:09:57 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
