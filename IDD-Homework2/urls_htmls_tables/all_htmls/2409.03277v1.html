<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2409.03277] ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding</title><meta property="og:description" content="Automatic chart understanding is crucial for content comprehension and document parsing.
Multimodal large language models (MLLMs) have demonstrated remarkable capabilities in chart understanding through domain-specific…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2409.03277">

<!--Generated on Sun Oct  6 00:49:01 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Zhengzhuo Xu<sup id="id8.8.id1" class="ltx_sup"><span id="id8.8.id1.1" class="ltx_text ltx_font_italic">1,2</span></sup>,  Bowen Qu<sup id="id9.9.id2" class="ltx_sup"><span id="id9.9.id2.1" class="ltx_text ltx_font_italic">1,3∗</span></sup>, Yiyan Qi<sup id="id10.10.id3" class="ltx_sup"><span id="id10.10.id3.1" class="ltx_text ltx_font_italic">1∗</span></sup>,  Sinan Du<sup id="id11.11.id4" class="ltx_sup"><span id="id11.11.id4.1" class="ltx_text ltx_font_italic">2</span></sup> 
<br class="ltx_break"><span id="id5.5.1" class="ltx_text ltx_font_bold">Chengjin Xu<sup id="id5.5.1.1" class="ltx_sup"><span id="id5.5.1.1.1" class="ltx_text ltx_font_medium ltx_font_italic">1</span></sup></span>,  <span id="id6.6.2" class="ltx_text ltx_font_bold">Chun Yuan<sup id="id6.6.2.1" class="ltx_sup"><span id="id6.6.2.1.1" class="ltx_text ltx_font_medium ltx_font_italic">2</span></sup></span>,  <span id="id7.7.3" class="ltx_text ltx_font_bold">Jian Guo<sup id="id7.7.3.1" class="ltx_sup"><span id="id7.7.3.1.1" class="ltx_text ltx_font_medium ltx_font_italic">1,4</span></sup></span> 
<br class="ltx_break"><sup id="id12.12.id5" class="ltx_sup">1</sup>International Digital Economy Academy (IDEA) 
<br class="ltx_break"><sup id="id13.13.id6" class="ltx_sup">2</sup>Tsinghua University  <sup id="id14.14.id7" class="ltx_sup">3</sup>Peking University 
<br class="ltx_break"><sup id="id15.15.id8" class="ltx_sup">4</sup>Hong Kong University of Science and Technology, Guangzhou 
<br class="ltx_break"><a target="_blank" href="https://chartmoe.github.io/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://chartmoe.github.io/</a>
</span><span class="ltx_author_notes">Equal Contribution</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id16.id1" class="ltx_p">Automatic chart understanding is crucial for content comprehension and document parsing.
Multimodal large language models (MLLMs) have demonstrated remarkable capabilities in chart understanding through domain-specific alignment and fine-tuning.
However, the application of alignment training within the chart domain is still underexplored.
To address it, we propose ChartMoE, which employs the mixture of expert (MoE) architecture to replace the traditional linear projector to bridge the modality gap.
Specifically, we train multiple linear connectors through distinct alignment tasks, which are utilized as the foundational initialization parameters for different experts.
Additionally, we introduce ChartMoE-Align, a dataset with over 900K chart-table-JSON-code quadruples to conduct three alignment tasks (chart-table/JSON/code).
Combined with the vanilla connector, we initialize different experts in four distinct ways and adopt high-quality knowledge learning to further refine the MoE connector and LLM parameters.
Extensive experiments demonstrate the effectiveness of the MoE connector and our initialization strategy, e.g., ChartMoE improves the accuracy of the previous state-of-the-art from 80.48% to 84.64% on the ChartQA benchmark.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para ltx_noindent">
<p id="S1.p1.1" class="ltx_p">Charts serve as a fundamental tool for data visualization, with automated chart interpretation gaining prominence in domains such as text analysis <cite class="ltx_cite ltx_citemacro_cite">Hoque et al. (<a href="#bib.bib16" title="" class="ltx_ref">2017</a>)</cite>, scientific research <cite class="ltx_cite ltx_citemacro_cite">Hsu et al. (<a href="#bib.bib17" title="" class="ltx_ref">2021</a>)</cite>, and policy-making <cite class="ltx_cite ltx_citemacro_cite">Wu et al. (<a href="#bib.bib50" title="" class="ltx_ref">2024</a>)</cite>.
Chart understanding is a complex task that demands the identification of visual cues, the comprehension of intricate interactions, and the precise inference of values informed by prior knowledge.
Previous work <cite class="ltx_cite ltx_citemacro_cite">Lee et al. (<a href="#bib.bib21" title="" class="ltx_ref">2023</a>); Liu et al. (<a href="#bib.bib27" title="" class="ltx_ref">2023b</a>, <a href="#bib.bib26" title="" class="ltx_ref">a</a>)</cite> typically pretrained on structured datasets or domain-specific charts to improve the model performance and efficiency.
However, they are constrained by limited resources and narrow task focus, thereby restricting the application in diverse real-world scenarios.
In contrast, MLLMs <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib24" title="" class="ltx_ref">2023</a>); Liu et al. (<a href="#bib.bib29" title="" class="ltx_ref">2023d</a>); Bai et al. (<a href="#bib.bib4" title="" class="ltx_ref">2023a</a>); Ye et al. (<a href="#bib.bib55" title="" class="ltx_ref">2023b</a>); Chen et al. (<a href="#bib.bib11" title="" class="ltx_ref">2023a</a>); OpenAI (<a href="#bib.bib39" title="" class="ltx_ref">2023</a>)</cite> exhibit substantial potential in image comprehension and instruction following.
With the exponential growth of chart data, automated chart interpretation via MLLMs is emerging as a promising avenue.</p>
</div>
<div id="S1.p2" class="ltx_para ltx_noindent">
<p id="S1.p2.1" class="ltx_p">The community has achieved advanced progress by creating chart understanding datasets <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib28" title="" class="ltx_ref">2023c</a>); Han et al. (<a href="#bib.bib14" title="" class="ltx_ref">2023</a>); Masry et al. (<a href="#bib.bib36" title="" class="ltx_ref">2024b</a>); Xu et al. (<a href="#bib.bib52" title="" class="ltx_ref">2023</a>)</cite> and applying supervised fine-tuning on charts <cite class="ltx_cite ltx_citemacro_cite">Meng et al. (<a href="#bib.bib37" title="" class="ltx_ref">2024</a>); Yan et al. (<a href="#bib.bib53" title="" class="ltx_ref">2024</a>); Carbune et al. (<a href="#bib.bib9" title="" class="ltx_ref">2024</a>)</cite>.
Recent studies advocate for alignment pre-training as a foundational step in this paradigm, which only updates the connector’s parameters to bridge the modality gap.
ChartAst <cite class="ltx_cite ltx_citemacro_cite">Meng et al. (<a href="#bib.bib37" title="" class="ltx_ref">2024</a>)</cite> proposes to align <span id="S1.p2.1.1" class="ltx_text ltx_font_typewriter">chart</span> with <span id="S1.p2.1.2" class="ltx_text ltx_font_typewriter">table</span>, significantly improving the performance across several chart benchmarks.
ChartReformer <cite class="ltx_cite ltx_citemacro_cite">Yan et al. (<a href="#bib.bib53" title="" class="ltx_ref">2024</a>)</cite> proposes to switch the alignment intermediary from <span id="S1.p2.1.3" class="ltx_text ltx_font_typewriter">table</span> to information-rich <span id="S1.p2.1.4" class="ltx_text ltx_font_typewriter">JSON</span>.
Some chart MLLMs, e.g., ChartLlama <cite class="ltx_cite ltx_citemacro_cite">Han et al. (<a href="#bib.bib14" title="" class="ltx_ref">2023</a>)</cite>, employ code as an intermediary to achieve more accurate chart parsing and precise editing.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2409.03277/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="181" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Overview and capabilities of ChartMoE: We introduce a MoE architecture connector and provide visualizations of the top-1 expert selection (refer to Fig. <a href="#S5.F6" title="Figure 6 ‣ 5.3 In-depth Analysis ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> and appendix for details). ChartMoE can extract highly precise values and provide flexible chart editing through code-based interactions.</figcaption>
</figure>
<div id="S1.p3" class="ltx_para ltx_noindent">
<p id="S1.p3.1" class="ltx_p">However, few studies have explored <span id="S1.p3.1.1" class="ltx_text ltx_font_bold ltx_font_italic">how to select appropriate alignment tasks for chart understanding models</span>.
For instance, DocOwl <cite class="ltx_cite ltx_citemacro_cite">Hu et al. (<a href="#bib.bib18" title="" class="ltx_ref">2024</a>)</cite> advocates aligning all modalities with <span id="S1.p3.1.2" class="ltx_text ltx_font_typewriter">markdown</span>, while Llama-v3.1 <cite class="ltx_cite ltx_citemacro_cite">Team et al. (<a href="#bib.bib44" title="" class="ltx_ref">2024b</a>)</cite> warns that excessive <span id="S1.p3.1.3" class="ltx_text ltx_font_typewriter">markdown</span> data in alignment tasks could be detrimental to model performance.
In the chart domain, table and JSON formats primarily capture attributes like titles, axes, and numerical values but are less effective in conveying visual elements such as color and topology.
This limitation is especially evident in charts with implicit numerical information, such as network diagrams, where comprehension depends on the spatial relationships between visual elements.
In such cases, code effectively captures the relationships between visual marks.
Hence, we aim to embrace all these structured text formats.</p>
</div>
<div id="S1.p4" class="ltx_para ltx_noindent">
<p id="S1.p4.1" class="ltx_p">We introduce ChartMoE, an instruction-tuned MLLM specifically designed for chart comprehension and reasoning.
As illustrated in Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>&amp;<a href="#S3.F2" title="Figure 2 ‣ 3.1 Architecture ‣ 3 ChartMoE ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, we replace the linear connector with the Mixture of Experts <cite class="ltx_cite ltx_citemacro_cite">Zoph et al. (<a href="#bib.bib62" title="" class="ltx_ref">2022</a>)</cite> (MoE) architecture, each expert utilizes a two-layer MLP with GeLU activation <cite class="ltx_cite ltx_citemacro_cite">Lee (<a href="#bib.bib22" title="" class="ltx_ref">2023</a>)</cite>.
Specifically, We train three distinct connectors with different alignment tasks independently, i.e., chart to table, chart to JSON, and chart to code, as shown in Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.
For better alignment, we construct ChartMoE-Align via existing chart datasets, which consist of over 900K quadruplets {<span id="S1.p4.1.1" class="ltx_text ltx_font_typewriter">chart</span>, <span id="S1.p4.1.2" class="ltx_text ltx_font_typewriter">table</span>, <span id="S1.p4.1.3" class="ltx_text ltx_font_typewriter">JSON</span>, <span id="S1.p4.1.4" class="ltx_text ltx_font_typewriter">code</span>}, as illustrated in Fig. <a href="#S3.F3" title="Figure 3 ‣ 3.3 Supervised Finetuning. ‣ 3 ChartMoE ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.
Additionally, we retain the original vanilla connector to preserve the base model’s foundational knowledge and conversational abilities.
Consequently, we offer four distinct pathways for initializing the expert parameters.
Compared to random initialization, ChartMoE achieves faster and more stable convergence. Unlike Co-Upcycling initialization <cite class="ltx_cite ltx_citemacro_cite">Komatsuzaki et al. (<a href="#bib.bib20" title="" class="ltx_ref">2023</a>)</cite>, ChartMoE is grounded in a more principled design to prevent experts’ homogenization effectively.</p>
</div>
<div id="S1.p5" class="ltx_para ltx_noindent">
<p id="S1.p5.1" class="ltx_p">We conduct high-quality knowledge learning using the MMC instruction <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib28" title="" class="ltx_ref">2023c</a>)</cite> to update the routing network, expert connectors, and LLM LoRA parameters while further employing annealing training with datasets like ChartQA <cite class="ltx_cite ltx_citemacro_cite">Masry et al. (<a href="#bib.bib33" title="" class="ltx_ref">2022</a>)</cite> and ChartGemma <cite class="ltx_cite ltx_citemacro_cite">Masry et al. (<a href="#bib.bib36" title="" class="ltx_ref">2024b</a>)</cite>.
Following the previous work <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a href="#bib.bib58" title="" class="ltx_ref">2024</a>); Masry et al. (<a href="#bib.bib36" title="" class="ltx_ref">2024b</a>)</cite>, we integrate the Program of Thought (PoT) prompting <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib12" title="" class="ltx_ref">2023b</a>)</cite> to enhance the mathematical computation capabilities. ChartMoE can be deployed for inference on a single A100-40G GPU, achieving state-of-the-art results in areas such as question-answering, number extraction, and chart editing&amp;highlighting. In summary, our contributions are:</p>
<ol id="S1.I1" class="ltx_enumerate">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">a)</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We present ChartMoE for faithful and reasonable chart understanding, with an MoE architecture connector to bridge the visual and LLM branches, enabling differential expert initialization based on various alignment training tasks.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">b)</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We introduce ChartMoE-Align, a large-scale dataset with over 900K chart-table-JSON-code quadruplets for chart alignment pretraining.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">c)</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We propose to train ChartMoE with a three-stage training paradigm, including alignment pre-training, high-quality knowledge learning, and annealing chart tuning.</p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">d)</span> 
<div id="S1.I1.i4.p1" class="ltx_para ltx_noindent">
<p id="S1.I1.i4.p1.1" class="ltx_p">Extensive quantitative and qualitative studies demonstrate that ChartMoE significantly outperforms previous state-of-the-art across several benchmarks by a large margin.</p>
</div>
</li>
</ol>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<div id="S2.p1" class="ltx_para ltx_noindent">
<p id="S2.p1.1" class="ltx_p"><span id="S2.p1.1.1" class="ltx_text ltx_font_bold">Multimodal large language models</span> leverages a connector to bridge the gap between large language models <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a href="#bib.bib47" title="" class="ltx_ref">2023</a>); Radford et al. (<a href="#bib.bib41" title="" class="ltx_ref">2018</a>); Brown et al. (<a href="#bib.bib7" title="" class="ltx_ref">2020</a>); Zhang et al. (<a href="#bib.bib59" title="" class="ltx_ref">2022</a>); Zheng et al. (<a href="#bib.bib60" title="" class="ltx_ref">2023</a>)</cite> and vision encoders <cite class="ltx_cite ltx_citemacro_cite">Radford et al. (<a href="#bib.bib42" title="" class="ltx_ref">2021</a>); Oquab et al. (<a href="#bib.bib40" title="" class="ltx_ref">2023</a>)</cite> to enable enriched capabilities of comprehension and instruction following. Approaches such as BLIP2 <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib24" title="" class="ltx_ref">2023</a>)</cite>, Flamingo <cite class="ltx_cite ltx_citemacro_cite">Alayrac et al. (<a href="#bib.bib3" title="" class="ltx_ref">2022</a>)</cite>, mPLUG-Owl <cite class="ltx_cite ltx_citemacro_cite">Ye et al. (<a href="#bib.bib55" title="" class="ltx_ref">2023b</a>)</cite>, and Qwen-VL <cite class="ltx_cite ltx_citemacro_cite">Bai et al. (<a href="#bib.bib5" title="" class="ltx_ref">2023b</a>)</cite> utilize QFormers or Resamplers to align modalities on extensive datasets of image-text pairs. LLaVA <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib29" title="" class="ltx_ref">2023d</a>, <a href="#bib.bib31" title="" class="ltx_ref">2024b</a>)</cite> is the pioneering work to extend the instruction tuning paradigm to visual tasks with text-only GPT-4 <cite class="ltx_cite ltx_citemacro_cite">OpenAI (<a href="#bib.bib39" title="" class="ltx_ref">2023</a>)</cite>, achieving tremendous performance using a simple MLP without compromising visual information to refine the multimodal alignment. Some works <cite class="ltx_cite ltx_citemacro_cite">Lin et al. (<a href="#bib.bib25" title="" class="ltx_ref">2023</a>); Tong et al. (<a href="#bib.bib46" title="" class="ltx_ref">2024b</a>, <a href="#bib.bib45" title="" class="ltx_ref">a</a>)</cite> explore the combination of various vision encoders, complementarily enhancing visual representations to bolster the fine-grained visual perception of MLLMs. Despite efforts in structural design, training strategies and data quality remain crucial in the advancement of MLLMs.</p>
</div>
<div id="S2.p2" class="ltx_para ltx_noindent">
<p id="S2.p2.1" class="ltx_p"><span id="S2.p2.1.1" class="ltx_text ltx_font_bold">Chart Reasoning</span> refers to chart analysis, summarization, and etc. Existing methods can be categorized as 1) <span id="S2.p2.1.2" class="ltx_text ltx_font_italic">Two-stage methods</span> use specialized extraction modules to generate intermediary representations of chart information, like tables, which are provided as textual prompts for LLMs. Pix2Struct <cite class="ltx_cite ltx_citemacro_cite">Lee et al. (<a href="#bib.bib21" title="" class="ltx_ref">2023</a>)</cite> aligns markdown data with charts. MatCha <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib27" title="" class="ltx_ref">2023b</a>)</cite> aligns various data formats (e.g., tables and code) with charts on several downstream tasks. DePlot <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib26" title="" class="ltx_ref">2023a</a>)</cite> fine-tunes Pix2Struct for table extraction and uses LLMs to process queries based on the extracted data. ChartVLM <cite class="ltx_cite ltx_citemacro_cite">Xia et al. (<a href="#bib.bib51" title="" class="ltx_ref">2024</a>)</cite> employs a discriminator to ascertain the necessity of intervention by LLMs for a given query. 2) <span id="S2.p2.1.3" class="ltx_text ltx_font_italic">End-to-end methods</span> strive to tackle chart reasoning challenges with a unified model. ChartLlama <cite class="ltx_cite ltx_citemacro_cite">Han et al. (<a href="#bib.bib14" title="" class="ltx_ref">2023</a>)</cite> incorporates diverse charts and downstream tasks based on LLaVA <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib29" title="" class="ltx_ref">2023d</a>)</cite>. ChartPaLI <cite class="ltx_cite ltx_citemacro_cite">Carbune et al. (<a href="#bib.bib9" title="" class="ltx_ref">2024</a>)</cite>, ChartAst <cite class="ltx_cite ltx_citemacro_cite">Meng et al. (<a href="#bib.bib37" title="" class="ltx_ref">2024</a>)</cite>, and MMC <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib28" title="" class="ltx_ref">2023c</a>)</cite> conduct alignment on table-chart pairs. UReader <cite class="ltx_cite ltx_citemacro_cite">Ye et al. (<a href="#bib.bib54" title="" class="ltx_ref">2023a</a>)</cite> aligns all data with markdown, while mPLUG-Owl2 <cite class="ltx_cite ltx_citemacro_cite">Ye et al. (<a href="#bib.bib56" title="" class="ltx_ref">2023c</a>)</cite> achieves superior performance with high-resolution inputs. ChartThinker <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib32" title="" class="ltx_ref">2024c</a>)</cite> and DOMINO <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib48" title="" class="ltx_ref">2023</a>)</cite> propose the CoT <cite class="ltx_cite ltx_citemacro_cite">Wei et al. (<a href="#bib.bib49" title="" class="ltx_ref">2022</a>)</cite> for chart reasoning. LaMenDa <cite class="ltx_cite ltx_citemacro_cite">Zhuowan et al. (<a href="#bib.bib61" title="" class="ltx_ref">2024</a>)</cite> trains MLLMs via step-by-step reasoning QA. ChartReformer <cite class="ltx_cite ltx_citemacro_cite">Yan et al. (<a href="#bib.bib53" title="" class="ltx_ref">2024</a>)</cite> introduces chart-JSON alignment, while OneChart <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib10" title="" class="ltx_ref">2024</a>)</cite> aligns charts with Python dictionaries. MiniGPT-v2 <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib11" title="" class="ltx_ref">2023a</a>)</cite>, Doc-Owl <cite class="ltx_cite ltx_citemacro_cite">Hu et al. (<a href="#bib.bib18" title="" class="ltx_ref">2024</a>)</cite>, and TinyChart <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a href="#bib.bib58" title="" class="ltx_ref">2024</a>)</cite> tackle the reasoning efficiency for high-resolution charts by merging tokens.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>ChartMoE</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Architecture</h3>

<div id="S3.SS1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS1.p1.1" class="ltx_p">The ChartMoE is based on InternlmXC-v2 <cite class="ltx_cite ltx_citemacro_cite">Dong et al. (<a href="#bib.bib13" title="" class="ltx_ref">2024</a>)</cite> due to the concise LLaVA-like architecture <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib29" title="" class="ltx_ref">2023d</a>)</cite> and performance on par with GPT-4 on text-image comprehension. The base model includes a vision encoder and a LLM connected by a two-layer MLP. In our ChartMoE  we replace the MLP with an MoE architecture as the connector to leverage diverse prior knowledge.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para ltx_noindent">
<p id="S3.SS1.p2.6" class="ltx_p"><span id="S3.SS1.p2.6.1" class="ltx_text ltx_font_bold">Vision Encoder.</span>
We utilize CLIP ViT-Large <cite class="ltx_cite ltx_citemacro_cite">Radford et al. (<a href="#bib.bib42" title="" class="ltx_ref">2021</a>)</cite> as the vision encoder, leveraging its rich prior knowledge gained from training on millions of image-text pairs. Considering the impact of chart resolution on performance, we set the input resolution to 490 <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mo id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><times id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\times</annotation></semantics></math> 490 to strike a balance between efficiency and performance. Formally, the visual encoder <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{M}^{V}(\cdot)" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mrow id="S3.SS1.p2.2.m2.1.2" xref="S3.SS1.p2.2.m2.1.2.cmml"><msup id="S3.SS1.p2.2.m2.1.2.2" xref="S3.SS1.p2.2.m2.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.2.m2.1.2.2.2" xref="S3.SS1.p2.2.m2.1.2.2.2.cmml">ℳ</mi><mi id="S3.SS1.p2.2.m2.1.2.2.3" xref="S3.SS1.p2.2.m2.1.2.2.3.cmml">V</mi></msup><mo lspace="0em" rspace="0em" id="S3.SS1.p2.2.m2.1.2.1" xref="S3.SS1.p2.2.m2.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.2.m2.1.2.3.2" xref="S3.SS1.p2.2.m2.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.2.m2.1.2.3.2.1" xref="S3.SS1.p2.2.m2.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p2.2.m2.1.2.3.2.2" xref="S3.SS1.p2.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.2.cmml" xref="S3.SS1.p2.2.m2.1.2"><times id="S3.SS1.p2.2.m2.1.2.1.cmml" xref="S3.SS1.p2.2.m2.1.2.1"></times><apply id="S3.SS1.p2.2.m2.1.2.2.cmml" xref="S3.SS1.p2.2.m2.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.2.2.1.cmml" xref="S3.SS1.p2.2.m2.1.2.2">superscript</csymbol><ci id="S3.SS1.p2.2.m2.1.2.2.2.cmml" xref="S3.SS1.p2.2.m2.1.2.2.2">ℳ</ci><ci id="S3.SS1.p2.2.m2.1.2.2.3.cmml" xref="S3.SS1.p2.2.m2.1.2.2.3">𝑉</ci></apply><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">\mathcal{M}^{V}(\cdot)</annotation></semantics></math> will project the chart <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="\mathcal{I}" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">\mathcal{I}</annotation></semantics></math> into <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mi id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">N</annotation></semantics></math> tokens <math id="S3.SS1.p2.5.m5.4" class="ltx_Math" alttext="V:=\{v_{1},v_{2},\ldots,v_{N}\}" display="inline"><semantics id="S3.SS1.p2.5.m5.4a"><mrow id="S3.SS1.p2.5.m5.4.4" xref="S3.SS1.p2.5.m5.4.4.cmml"><mi id="S3.SS1.p2.5.m5.4.4.5" xref="S3.SS1.p2.5.m5.4.4.5.cmml">V</mi><mo lspace="0.278em" rspace="0.278em" id="S3.SS1.p2.5.m5.4.4.4" xref="S3.SS1.p2.5.m5.4.4.4.cmml">:=</mo><mrow id="S3.SS1.p2.5.m5.4.4.3.3" xref="S3.SS1.p2.5.m5.4.4.3.4.cmml"><mo stretchy="false" id="S3.SS1.p2.5.m5.4.4.3.3.4" xref="S3.SS1.p2.5.m5.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p2.5.m5.2.2.1.1.1" xref="S3.SS1.p2.5.m5.2.2.1.1.1.cmml"><mi id="S3.SS1.p2.5.m5.2.2.1.1.1.2" xref="S3.SS1.p2.5.m5.2.2.1.1.1.2.cmml">v</mi><mn id="S3.SS1.p2.5.m5.2.2.1.1.1.3" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p2.5.m5.4.4.3.3.5" xref="S3.SS1.p2.5.m5.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p2.5.m5.3.3.2.2.2" xref="S3.SS1.p2.5.m5.3.3.2.2.2.cmml"><mi id="S3.SS1.p2.5.m5.3.3.2.2.2.2" xref="S3.SS1.p2.5.m5.3.3.2.2.2.2.cmml">v</mi><mn id="S3.SS1.p2.5.m5.3.3.2.2.2.3" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p2.5.m5.4.4.3.3.6" xref="S3.SS1.p2.5.m5.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml">…</mi><mo id="S3.SS1.p2.5.m5.4.4.3.3.7" xref="S3.SS1.p2.5.m5.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p2.5.m5.4.4.3.3.3" xref="S3.SS1.p2.5.m5.4.4.3.3.3.cmml"><mi id="S3.SS1.p2.5.m5.4.4.3.3.3.2" xref="S3.SS1.p2.5.m5.4.4.3.3.3.2.cmml">v</mi><mi id="S3.SS1.p2.5.m5.4.4.3.3.3.3" xref="S3.SS1.p2.5.m5.4.4.3.3.3.3.cmml">N</mi></msub><mo stretchy="false" id="S3.SS1.p2.5.m5.4.4.3.3.8" xref="S3.SS1.p2.5.m5.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.4b"><apply id="S3.SS1.p2.5.m5.4.4.cmml" xref="S3.SS1.p2.5.m5.4.4"><csymbol cd="latexml" id="S3.SS1.p2.5.m5.4.4.4.cmml" xref="S3.SS1.p2.5.m5.4.4.4">assign</csymbol><ci id="S3.SS1.p2.5.m5.4.4.5.cmml" xref="S3.SS1.p2.5.m5.4.4.5">𝑉</ci><set id="S3.SS1.p2.5.m5.4.4.3.4.cmml" xref="S3.SS1.p2.5.m5.4.4.3.3"><apply id="S3.SS1.p2.5.m5.2.2.1.1.1.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.2.2.1.1.1.1.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.5.m5.2.2.1.1.1.2.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1.2">𝑣</ci><cn type="integer" id="S3.SS1.p2.5.m5.2.2.1.1.1.3.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p2.5.m5.3.3.2.2.2.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.3.3.2.2.2.1.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.5.m5.3.3.2.2.2.2.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.2">𝑣</ci><cn type="integer" id="S3.SS1.p2.5.m5.3.3.2.2.2.3.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">…</ci><apply id="S3.SS1.p2.5.m5.4.4.3.3.3.cmml" xref="S3.SS1.p2.5.m5.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.4.4.3.3.3.1.cmml" xref="S3.SS1.p2.5.m5.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p2.5.m5.4.4.3.3.3.2.cmml" xref="S3.SS1.p2.5.m5.4.4.3.3.3.2">𝑣</ci><ci id="S3.SS1.p2.5.m5.4.4.3.3.3.3.cmml" xref="S3.SS1.p2.5.m5.4.4.3.3.3.3">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.4c">V:=\{v_{1},v_{2},\ldots,v_{N}\}</annotation></semantics></math>, where <math id="S3.SS1.p2.6.m6.1" class="ltx_Math" alttext="N=1225" display="inline"><semantics id="S3.SS1.p2.6.m6.1a"><mrow id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml"><mi id="S3.SS1.p2.6.m6.1.1.2" xref="S3.SS1.p2.6.m6.1.1.2.cmml">N</mi><mo id="S3.SS1.p2.6.m6.1.1.1" xref="S3.SS1.p2.6.m6.1.1.1.cmml">=</mo><mn id="S3.SS1.p2.6.m6.1.1.3" xref="S3.SS1.p2.6.m6.1.1.3.cmml">1225</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><apply id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1"><eq id="S3.SS1.p2.6.m6.1.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1.1"></eq><ci id="S3.SS1.p2.6.m6.1.1.2.cmml" xref="S3.SS1.p2.6.m6.1.1.2">𝑁</ci><cn type="integer" id="S3.SS1.p2.6.m6.1.1.3.cmml" xref="S3.SS1.p2.6.m6.1.1.3">1225</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">N=1225</annotation></semantics></math> in the ChartMoE.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para ltx_noindent">
<p id="S3.SS1.p3.12" class="ltx_p"><span id="S3.SS1.p3.12.1" class="ltx_text ltx_font_bold">Mixture-of-Experts Connector.</span>
As illustrated in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3.1 Architecture ‣ 3 ChartMoE ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>c, the MoE architecture employs a parallel multi-expert collaboration approach. This architecture comprises <math id="S3.SS1.p3.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS1.p3.1.m1.1a"><mi id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><ci id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">L</annotation></semantics></math> experts <math id="S3.SS1.p3.2.m2.1" class="ltx_Math" alttext="\mathcal{M}^{E}(\cdot)" display="inline"><semantics id="S3.SS1.p3.2.m2.1a"><mrow id="S3.SS1.p3.2.m2.1.2" xref="S3.SS1.p3.2.m2.1.2.cmml"><msup id="S3.SS1.p3.2.m2.1.2.2" xref="S3.SS1.p3.2.m2.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.2.m2.1.2.2.2" xref="S3.SS1.p3.2.m2.1.2.2.2.cmml">ℳ</mi><mi id="S3.SS1.p3.2.m2.1.2.2.3" xref="S3.SS1.p3.2.m2.1.2.2.3.cmml">E</mi></msup><mo lspace="0em" rspace="0em" id="S3.SS1.p3.2.m2.1.2.1" xref="S3.SS1.p3.2.m2.1.2.1.cmml">​</mo><mrow id="S3.SS1.p3.2.m2.1.2.3.2" xref="S3.SS1.p3.2.m2.1.2.cmml"><mo stretchy="false" id="S3.SS1.p3.2.m2.1.2.3.2.1" xref="S3.SS1.p3.2.m2.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p3.2.m2.1.2.3.2.2" xref="S3.SS1.p3.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><apply id="S3.SS1.p3.2.m2.1.2.cmml" xref="S3.SS1.p3.2.m2.1.2"><times id="S3.SS1.p3.2.m2.1.2.1.cmml" xref="S3.SS1.p3.2.m2.1.2.1"></times><apply id="S3.SS1.p3.2.m2.1.2.2.cmml" xref="S3.SS1.p3.2.m2.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p3.2.m2.1.2.2.1.cmml" xref="S3.SS1.p3.2.m2.1.2.2">superscript</csymbol><ci id="S3.SS1.p3.2.m2.1.2.2.2.cmml" xref="S3.SS1.p3.2.m2.1.2.2.2">ℳ</ci><ci id="S3.SS1.p3.2.m2.1.2.2.3.cmml" xref="S3.SS1.p3.2.m2.1.2.2.3">𝐸</ci></apply><ci id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">\mathcal{M}^{E}(\cdot)</annotation></semantics></math>, each designed with the same linear layer as the baseline. For a visual token <math id="S3.SS1.p3.3.m3.1" class="ltx_Math" alttext="v_{i}" display="inline"><semantics id="S3.SS1.p3.3.m3.1a"><msub id="S3.SS1.p3.3.m3.1.1" xref="S3.SS1.p3.3.m3.1.1.cmml"><mi id="S3.SS1.p3.3.m3.1.1.2" xref="S3.SS1.p3.3.m3.1.1.2.cmml">v</mi><mi id="S3.SS1.p3.3.m3.1.1.3" xref="S3.SS1.p3.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m3.1b"><apply id="S3.SS1.p3.3.m3.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.3.m3.1.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p3.3.m3.1.1.2.cmml" xref="S3.SS1.p3.3.m3.1.1.2">𝑣</ci><ci id="S3.SS1.p3.3.m3.1.1.3.cmml" xref="S3.SS1.p3.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m3.1c">v_{i}</annotation></semantics></math> given by <math id="S3.SS1.p3.4.m4.1" class="ltx_Math" alttext="\mathcal{M}^{V}" display="inline"><semantics id="S3.SS1.p3.4.m4.1a"><msup id="S3.SS1.p3.4.m4.1.1" xref="S3.SS1.p3.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.4.m4.1.1.2" xref="S3.SS1.p3.4.m4.1.1.2.cmml">ℳ</mi><mi id="S3.SS1.p3.4.m4.1.1.3" xref="S3.SS1.p3.4.m4.1.1.3.cmml">V</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.4.m4.1b"><apply id="S3.SS1.p3.4.m4.1.1.cmml" xref="S3.SS1.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m4.1.1.1.cmml" xref="S3.SS1.p3.4.m4.1.1">superscript</csymbol><ci id="S3.SS1.p3.4.m4.1.1.2.cmml" xref="S3.SS1.p3.4.m4.1.1.2">ℳ</ci><ci id="S3.SS1.p3.4.m4.1.1.3.cmml" xref="S3.SS1.p3.4.m4.1.1.3">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.4.m4.1c">\mathcal{M}^{V}</annotation></semantics></math>, the gating network <math id="S3.SS1.p3.5.m5.1" class="ltx_Math" alttext="\mathcal{M}^{G}(\cdot)" display="inline"><semantics id="S3.SS1.p3.5.m5.1a"><mrow id="S3.SS1.p3.5.m5.1.2" xref="S3.SS1.p3.5.m5.1.2.cmml"><msup id="S3.SS1.p3.5.m5.1.2.2" xref="S3.SS1.p3.5.m5.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.5.m5.1.2.2.2" xref="S3.SS1.p3.5.m5.1.2.2.2.cmml">ℳ</mi><mi id="S3.SS1.p3.5.m5.1.2.2.3" xref="S3.SS1.p3.5.m5.1.2.2.3.cmml">G</mi></msup><mo lspace="0em" rspace="0em" id="S3.SS1.p3.5.m5.1.2.1" xref="S3.SS1.p3.5.m5.1.2.1.cmml">​</mo><mrow id="S3.SS1.p3.5.m5.1.2.3.2" xref="S3.SS1.p3.5.m5.1.2.cmml"><mo stretchy="false" id="S3.SS1.p3.5.m5.1.2.3.2.1" xref="S3.SS1.p3.5.m5.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p3.5.m5.1.1" xref="S3.SS1.p3.5.m5.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p3.5.m5.1.2.3.2.2" xref="S3.SS1.p3.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.5.m5.1b"><apply id="S3.SS1.p3.5.m5.1.2.cmml" xref="S3.SS1.p3.5.m5.1.2"><times id="S3.SS1.p3.5.m5.1.2.1.cmml" xref="S3.SS1.p3.5.m5.1.2.1"></times><apply id="S3.SS1.p3.5.m5.1.2.2.cmml" xref="S3.SS1.p3.5.m5.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p3.5.m5.1.2.2.1.cmml" xref="S3.SS1.p3.5.m5.1.2.2">superscript</csymbol><ci id="S3.SS1.p3.5.m5.1.2.2.2.cmml" xref="S3.SS1.p3.5.m5.1.2.2.2">ℳ</ci><ci id="S3.SS1.p3.5.m5.1.2.2.3.cmml" xref="S3.SS1.p3.5.m5.1.2.2.3">𝐺</ci></apply><ci id="S3.SS1.p3.5.m5.1.1.cmml" xref="S3.SS1.p3.5.m5.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.5.m5.1c">\mathcal{M}^{G}(\cdot)</annotation></semantics></math> will calculate the routing weight <math id="S3.SS1.p3.6.m6.1" class="ltx_Math" alttext="g_{j}(v_{i})" display="inline"><semantics id="S3.SS1.p3.6.m6.1a"><mrow id="S3.SS1.p3.6.m6.1.1" xref="S3.SS1.p3.6.m6.1.1.cmml"><msub id="S3.SS1.p3.6.m6.1.1.3" xref="S3.SS1.p3.6.m6.1.1.3.cmml"><mi id="S3.SS1.p3.6.m6.1.1.3.2" xref="S3.SS1.p3.6.m6.1.1.3.2.cmml">g</mi><mi id="S3.SS1.p3.6.m6.1.1.3.3" xref="S3.SS1.p3.6.m6.1.1.3.3.cmml">j</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p3.6.m6.1.1.2" xref="S3.SS1.p3.6.m6.1.1.2.cmml">​</mo><mrow id="S3.SS1.p3.6.m6.1.1.1.1" xref="S3.SS1.p3.6.m6.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p3.6.m6.1.1.1.1.2" xref="S3.SS1.p3.6.m6.1.1.1.1.1.cmml">(</mo><msub id="S3.SS1.p3.6.m6.1.1.1.1.1" xref="S3.SS1.p3.6.m6.1.1.1.1.1.cmml"><mi id="S3.SS1.p3.6.m6.1.1.1.1.1.2" xref="S3.SS1.p3.6.m6.1.1.1.1.1.2.cmml">v</mi><mi id="S3.SS1.p3.6.m6.1.1.1.1.1.3" xref="S3.SS1.p3.6.m6.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS1.p3.6.m6.1.1.1.1.3" xref="S3.SS1.p3.6.m6.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.6.m6.1b"><apply id="S3.SS1.p3.6.m6.1.1.cmml" xref="S3.SS1.p3.6.m6.1.1"><times id="S3.SS1.p3.6.m6.1.1.2.cmml" xref="S3.SS1.p3.6.m6.1.1.2"></times><apply id="S3.SS1.p3.6.m6.1.1.3.cmml" xref="S3.SS1.p3.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p3.6.m6.1.1.3.1.cmml" xref="S3.SS1.p3.6.m6.1.1.3">subscript</csymbol><ci id="S3.SS1.p3.6.m6.1.1.3.2.cmml" xref="S3.SS1.p3.6.m6.1.1.3.2">𝑔</ci><ci id="S3.SS1.p3.6.m6.1.1.3.3.cmml" xref="S3.SS1.p3.6.m6.1.1.3.3">𝑗</ci></apply><apply id="S3.SS1.p3.6.m6.1.1.1.1.1.cmml" xref="S3.SS1.p3.6.m6.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.6.m6.1.1.1.1.1.1.cmml" xref="S3.SS1.p3.6.m6.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p3.6.m6.1.1.1.1.1.2.cmml" xref="S3.SS1.p3.6.m6.1.1.1.1.1.2">𝑣</ci><ci id="S3.SS1.p3.6.m6.1.1.1.1.1.3.cmml" xref="S3.SS1.p3.6.m6.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.6.m6.1c">g_{j}(v_{i})</annotation></semantics></math> of each expert <math id="S3.SS1.p3.7.m7.1" class="ltx_Math" alttext="\mathcal{M}^{E}_{j}(\cdot)" display="inline"><semantics id="S3.SS1.p3.7.m7.1a"><mrow id="S3.SS1.p3.7.m7.1.2" xref="S3.SS1.p3.7.m7.1.2.cmml"><msubsup id="S3.SS1.p3.7.m7.1.2.2" xref="S3.SS1.p3.7.m7.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.7.m7.1.2.2.2.2" xref="S3.SS1.p3.7.m7.1.2.2.2.2.cmml">ℳ</mi><mi id="S3.SS1.p3.7.m7.1.2.2.3" xref="S3.SS1.p3.7.m7.1.2.2.3.cmml">j</mi><mi id="S3.SS1.p3.7.m7.1.2.2.2.3" xref="S3.SS1.p3.7.m7.1.2.2.2.3.cmml">E</mi></msubsup><mo lspace="0em" rspace="0em" id="S3.SS1.p3.7.m7.1.2.1" xref="S3.SS1.p3.7.m7.1.2.1.cmml">​</mo><mrow id="S3.SS1.p3.7.m7.1.2.3.2" xref="S3.SS1.p3.7.m7.1.2.cmml"><mo stretchy="false" id="S3.SS1.p3.7.m7.1.2.3.2.1" xref="S3.SS1.p3.7.m7.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p3.7.m7.1.1" xref="S3.SS1.p3.7.m7.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p3.7.m7.1.2.3.2.2" xref="S3.SS1.p3.7.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.7.m7.1b"><apply id="S3.SS1.p3.7.m7.1.2.cmml" xref="S3.SS1.p3.7.m7.1.2"><times id="S3.SS1.p3.7.m7.1.2.1.cmml" xref="S3.SS1.p3.7.m7.1.2.1"></times><apply id="S3.SS1.p3.7.m7.1.2.2.cmml" xref="S3.SS1.p3.7.m7.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p3.7.m7.1.2.2.1.cmml" xref="S3.SS1.p3.7.m7.1.2.2">subscript</csymbol><apply id="S3.SS1.p3.7.m7.1.2.2.2.cmml" xref="S3.SS1.p3.7.m7.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p3.7.m7.1.2.2.2.1.cmml" xref="S3.SS1.p3.7.m7.1.2.2">superscript</csymbol><ci id="S3.SS1.p3.7.m7.1.2.2.2.2.cmml" xref="S3.SS1.p3.7.m7.1.2.2.2.2">ℳ</ci><ci id="S3.SS1.p3.7.m7.1.2.2.2.3.cmml" xref="S3.SS1.p3.7.m7.1.2.2.2.3">𝐸</ci></apply><ci id="S3.SS1.p3.7.m7.1.2.2.3.cmml" xref="S3.SS1.p3.7.m7.1.2.2.3">𝑗</ci></apply><ci id="S3.SS1.p3.7.m7.1.1.cmml" xref="S3.SS1.p3.7.m7.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.7.m7.1c">\mathcal{M}^{E}_{j}(\cdot)</annotation></semantics></math> and select top-<span id="S3.SS1.p3.12.2" class="ltx_text ltx_font_italic">K</span> to activate. Finally, the tokens processed by each expert <math id="S3.SS1.p3.8.m8.1" class="ltx_Math" alttext="\mathcal{M}^{E}_{j}" display="inline"><semantics id="S3.SS1.p3.8.m8.1a"><msubsup id="S3.SS1.p3.8.m8.1.1" xref="S3.SS1.p3.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.8.m8.1.1.2.2" xref="S3.SS1.p3.8.m8.1.1.2.2.cmml">ℳ</mi><mi id="S3.SS1.p3.8.m8.1.1.3" xref="S3.SS1.p3.8.m8.1.1.3.cmml">j</mi><mi id="S3.SS1.p3.8.m8.1.1.2.3" xref="S3.SS1.p3.8.m8.1.1.2.3.cmml">E</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.8.m8.1b"><apply id="S3.SS1.p3.8.m8.1.1.cmml" xref="S3.SS1.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.8.m8.1.1.1.cmml" xref="S3.SS1.p3.8.m8.1.1">subscript</csymbol><apply id="S3.SS1.p3.8.m8.1.1.2.cmml" xref="S3.SS1.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.8.m8.1.1.2.1.cmml" xref="S3.SS1.p3.8.m8.1.1">superscript</csymbol><ci id="S3.SS1.p3.8.m8.1.1.2.2.cmml" xref="S3.SS1.p3.8.m8.1.1.2.2">ℳ</ci><ci id="S3.SS1.p3.8.m8.1.1.2.3.cmml" xref="S3.SS1.p3.8.m8.1.1.2.3">𝐸</ci></apply><ci id="S3.SS1.p3.8.m8.1.1.3.cmml" xref="S3.SS1.p3.8.m8.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.8.m8.1c">\mathcal{M}^{E}_{j}</annotation></semantics></math> will be averaged according to the weight <math id="S3.SS1.p3.9.m9.1" class="ltx_Math" alttext="g_{j}(v_{i})" display="inline"><semantics id="S3.SS1.p3.9.m9.1a"><mrow id="S3.SS1.p3.9.m9.1.1" xref="S3.SS1.p3.9.m9.1.1.cmml"><msub id="S3.SS1.p3.9.m9.1.1.3" xref="S3.SS1.p3.9.m9.1.1.3.cmml"><mi id="S3.SS1.p3.9.m9.1.1.3.2" xref="S3.SS1.p3.9.m9.1.1.3.2.cmml">g</mi><mi id="S3.SS1.p3.9.m9.1.1.3.3" xref="S3.SS1.p3.9.m9.1.1.3.3.cmml">j</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p3.9.m9.1.1.2" xref="S3.SS1.p3.9.m9.1.1.2.cmml">​</mo><mrow id="S3.SS1.p3.9.m9.1.1.1.1" xref="S3.SS1.p3.9.m9.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p3.9.m9.1.1.1.1.2" xref="S3.SS1.p3.9.m9.1.1.1.1.1.cmml">(</mo><msub id="S3.SS1.p3.9.m9.1.1.1.1.1" xref="S3.SS1.p3.9.m9.1.1.1.1.1.cmml"><mi id="S3.SS1.p3.9.m9.1.1.1.1.1.2" xref="S3.SS1.p3.9.m9.1.1.1.1.1.2.cmml">v</mi><mi id="S3.SS1.p3.9.m9.1.1.1.1.1.3" xref="S3.SS1.p3.9.m9.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS1.p3.9.m9.1.1.1.1.3" xref="S3.SS1.p3.9.m9.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.9.m9.1b"><apply id="S3.SS1.p3.9.m9.1.1.cmml" xref="S3.SS1.p3.9.m9.1.1"><times id="S3.SS1.p3.9.m9.1.1.2.cmml" xref="S3.SS1.p3.9.m9.1.1.2"></times><apply id="S3.SS1.p3.9.m9.1.1.3.cmml" xref="S3.SS1.p3.9.m9.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p3.9.m9.1.1.3.1.cmml" xref="S3.SS1.p3.9.m9.1.1.3">subscript</csymbol><ci id="S3.SS1.p3.9.m9.1.1.3.2.cmml" xref="S3.SS1.p3.9.m9.1.1.3.2">𝑔</ci><ci id="S3.SS1.p3.9.m9.1.1.3.3.cmml" xref="S3.SS1.p3.9.m9.1.1.3.3">𝑗</ci></apply><apply id="S3.SS1.p3.9.m9.1.1.1.1.1.cmml" xref="S3.SS1.p3.9.m9.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.9.m9.1.1.1.1.1.1.cmml" xref="S3.SS1.p3.9.m9.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p3.9.m9.1.1.1.1.1.2.cmml" xref="S3.SS1.p3.9.m9.1.1.1.1.1.2">𝑣</ci><ci id="S3.SS1.p3.9.m9.1.1.1.1.1.3.cmml" xref="S3.SS1.p3.9.m9.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.9.m9.1c">g_{j}(v_{i})</annotation></semantics></math> given by <math id="S3.SS1.p3.10.m10.1" class="ltx_Math" alttext="\mathcal{M}^{G}" display="inline"><semantics id="S3.SS1.p3.10.m10.1a"><msup id="S3.SS1.p3.10.m10.1.1" xref="S3.SS1.p3.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.10.m10.1.1.2" xref="S3.SS1.p3.10.m10.1.1.2.cmml">ℳ</mi><mi id="S3.SS1.p3.10.m10.1.1.3" xref="S3.SS1.p3.10.m10.1.1.3.cmml">G</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.10.m10.1b"><apply id="S3.SS1.p3.10.m10.1.1.cmml" xref="S3.SS1.p3.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.10.m10.1.1.1.cmml" xref="S3.SS1.p3.10.m10.1.1">superscript</csymbol><ci id="S3.SS1.p3.10.m10.1.1.2.cmml" xref="S3.SS1.p3.10.m10.1.1.2">ℳ</ci><ci id="S3.SS1.p3.10.m10.1.1.3.cmml" xref="S3.SS1.p3.10.m10.1.1.3">𝐺</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.10.m10.1c">\mathcal{M}^{G}</annotation></semantics></math> to get the token <math id="S3.SS1.p3.11.m11.1" class="ltx_Math" alttext="\hat{v}_{i}" display="inline"><semantics id="S3.SS1.p3.11.m11.1a"><msub id="S3.SS1.p3.11.m11.1.1" xref="S3.SS1.p3.11.m11.1.1.cmml"><mover accent="true" id="S3.SS1.p3.11.m11.1.1.2" xref="S3.SS1.p3.11.m11.1.1.2.cmml"><mi id="S3.SS1.p3.11.m11.1.1.2.2" xref="S3.SS1.p3.11.m11.1.1.2.2.cmml">v</mi><mo id="S3.SS1.p3.11.m11.1.1.2.1" xref="S3.SS1.p3.11.m11.1.1.2.1.cmml">^</mo></mover><mi id="S3.SS1.p3.11.m11.1.1.3" xref="S3.SS1.p3.11.m11.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.11.m11.1b"><apply id="S3.SS1.p3.11.m11.1.1.cmml" xref="S3.SS1.p3.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.11.m11.1.1.1.cmml" xref="S3.SS1.p3.11.m11.1.1">subscript</csymbol><apply id="S3.SS1.p3.11.m11.1.1.2.cmml" xref="S3.SS1.p3.11.m11.1.1.2"><ci id="S3.SS1.p3.11.m11.1.1.2.1.cmml" xref="S3.SS1.p3.11.m11.1.1.2.1">^</ci><ci id="S3.SS1.p3.11.m11.1.1.2.2.cmml" xref="S3.SS1.p3.11.m11.1.1.2.2">𝑣</ci></apply><ci id="S3.SS1.p3.11.m11.1.1.3.cmml" xref="S3.SS1.p3.11.m11.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.11.m11.1c">\hat{v}_{i}</annotation></semantics></math> for the LLM branch <math id="S3.SS1.p3.12.m12.1" class="ltx_Math" alttext="\mathcal{M}^{L}" display="inline"><semantics id="S3.SS1.p3.12.m12.1a"><msup id="S3.SS1.p3.12.m12.1.1" xref="S3.SS1.p3.12.m12.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.12.m12.1.1.2" xref="S3.SS1.p3.12.m12.1.1.2.cmml">ℳ</mi><mi id="S3.SS1.p3.12.m12.1.1.3" xref="S3.SS1.p3.12.m12.1.1.3.cmml">L</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.12.m12.1b"><apply id="S3.SS1.p3.12.m12.1.1.cmml" xref="S3.SS1.p3.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.12.m12.1.1.1.cmml" xref="S3.SS1.p3.12.m12.1.1">superscript</csymbol><ci id="S3.SS1.p3.12.m12.1.1.2.cmml" xref="S3.SS1.p3.12.m12.1.1.2">ℳ</ci><ci id="S3.SS1.p3.12.m12.1.1.3.cmml" xref="S3.SS1.p3.12.m12.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.12.m12.1c">\mathcal{M}^{L}</annotation></semantics></math>.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><span id="S3.F2.pic1" class="ltx_picture ltx_centering" style="width:432.2pt;height:184.3pt;">\begin{overpic}[width=433.62pt,grid=False]{Fig/figs/train_pipeline.pdf}
\end{overpic}</span>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Overview of proposed ChartMoE. (a) Examples of alignment instructions. (b) We conduct three different alignment tasks in parallel. (c) We initialize MoE connectors in four different manners and train the gate network, experts, and LoRA during the supervised fine-tuning stage.</figcaption>
</figure>
<div id="S3.SS1.p4" class="ltx_para ltx_noindent">
<p id="S3.SS1.p4.9" class="ltx_p"><span id="S3.SS1.p4.9.1" class="ltx_text ltx_font_bold">Large Language Model.</span>
Following the baseline, we employ the <span id="S3.SS1.p4.9.2" class="ltx_text ltx_font_italic">InternLM2-7B-ChatSFT</span> variant as the LLM <math id="S3.SS1.p4.1.m1.1" class="ltx_Math" alttext="\mathcal{M}^{L}" display="inline"><semantics id="S3.SS1.p4.1.m1.1a"><msup id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.1.m1.1.1.2" xref="S3.SS1.p4.1.m1.1.1.2.cmml">ℳ</mi><mi id="S3.SS1.p4.1.m1.1.1.3" xref="S3.SS1.p4.1.m1.1.1.3.cmml">L</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b"><apply id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">superscript</csymbol><ci id="S3.SS1.p4.1.m1.1.1.2.cmml" xref="S3.SS1.p4.1.m1.1.1.2">ℳ</ci><ci id="S3.SS1.p4.1.m1.1.1.3.cmml" xref="S3.SS1.p4.1.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">\mathcal{M}^{L}</annotation></semantics></math>, implemented as a transformer decoder with a causal attention mask.
We concate the visual tokens <math id="S3.SS1.p4.2.m2.4" class="ltx_Math" alttext="\hat{V}:=\{\hat{v}_{1},\hat{v}_{2},\ldots,\hat{v}_{N}\}" display="inline"><semantics id="S3.SS1.p4.2.m2.4a"><mrow id="S3.SS1.p4.2.m2.4.4" xref="S3.SS1.p4.2.m2.4.4.cmml"><mover accent="true" id="S3.SS1.p4.2.m2.4.4.5" xref="S3.SS1.p4.2.m2.4.4.5.cmml"><mi id="S3.SS1.p4.2.m2.4.4.5.2" xref="S3.SS1.p4.2.m2.4.4.5.2.cmml">V</mi><mo id="S3.SS1.p4.2.m2.4.4.5.1" xref="S3.SS1.p4.2.m2.4.4.5.1.cmml">^</mo></mover><mo lspace="0.278em" rspace="0.278em" id="S3.SS1.p4.2.m2.4.4.4" xref="S3.SS1.p4.2.m2.4.4.4.cmml">:=</mo><mrow id="S3.SS1.p4.2.m2.4.4.3.3" xref="S3.SS1.p4.2.m2.4.4.3.4.cmml"><mo stretchy="false" id="S3.SS1.p4.2.m2.4.4.3.3.4" xref="S3.SS1.p4.2.m2.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p4.2.m2.2.2.1.1.1" xref="S3.SS1.p4.2.m2.2.2.1.1.1.cmml"><mover accent="true" id="S3.SS1.p4.2.m2.2.2.1.1.1.2" xref="S3.SS1.p4.2.m2.2.2.1.1.1.2.cmml"><mi id="S3.SS1.p4.2.m2.2.2.1.1.1.2.2" xref="S3.SS1.p4.2.m2.2.2.1.1.1.2.2.cmml">v</mi><mo id="S3.SS1.p4.2.m2.2.2.1.1.1.2.1" xref="S3.SS1.p4.2.m2.2.2.1.1.1.2.1.cmml">^</mo></mover><mn id="S3.SS1.p4.2.m2.2.2.1.1.1.3" xref="S3.SS1.p4.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p4.2.m2.4.4.3.3.5" xref="S3.SS1.p4.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p4.2.m2.3.3.2.2.2" xref="S3.SS1.p4.2.m2.3.3.2.2.2.cmml"><mover accent="true" id="S3.SS1.p4.2.m2.3.3.2.2.2.2" xref="S3.SS1.p4.2.m2.3.3.2.2.2.2.cmml"><mi id="S3.SS1.p4.2.m2.3.3.2.2.2.2.2" xref="S3.SS1.p4.2.m2.3.3.2.2.2.2.2.cmml">v</mi><mo id="S3.SS1.p4.2.m2.3.3.2.2.2.2.1" xref="S3.SS1.p4.2.m2.3.3.2.2.2.2.1.cmml">^</mo></mover><mn id="S3.SS1.p4.2.m2.3.3.2.2.2.3" xref="S3.SS1.p4.2.m2.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p4.2.m2.4.4.3.3.6" xref="S3.SS1.p4.2.m2.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml">…</mi><mo id="S3.SS1.p4.2.m2.4.4.3.3.7" xref="S3.SS1.p4.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p4.2.m2.4.4.3.3.3" xref="S3.SS1.p4.2.m2.4.4.3.3.3.cmml"><mover accent="true" id="S3.SS1.p4.2.m2.4.4.3.3.3.2" xref="S3.SS1.p4.2.m2.4.4.3.3.3.2.cmml"><mi id="S3.SS1.p4.2.m2.4.4.3.3.3.2.2" xref="S3.SS1.p4.2.m2.4.4.3.3.3.2.2.cmml">v</mi><mo id="S3.SS1.p4.2.m2.4.4.3.3.3.2.1" xref="S3.SS1.p4.2.m2.4.4.3.3.3.2.1.cmml">^</mo></mover><mi id="S3.SS1.p4.2.m2.4.4.3.3.3.3" xref="S3.SS1.p4.2.m2.4.4.3.3.3.3.cmml">N</mi></msub><mo stretchy="false" id="S3.SS1.p4.2.m2.4.4.3.3.8" xref="S3.SS1.p4.2.m2.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.4b"><apply id="S3.SS1.p4.2.m2.4.4.cmml" xref="S3.SS1.p4.2.m2.4.4"><csymbol cd="latexml" id="S3.SS1.p4.2.m2.4.4.4.cmml" xref="S3.SS1.p4.2.m2.4.4.4">assign</csymbol><apply id="S3.SS1.p4.2.m2.4.4.5.cmml" xref="S3.SS1.p4.2.m2.4.4.5"><ci id="S3.SS1.p4.2.m2.4.4.5.1.cmml" xref="S3.SS1.p4.2.m2.4.4.5.1">^</ci><ci id="S3.SS1.p4.2.m2.4.4.5.2.cmml" xref="S3.SS1.p4.2.m2.4.4.5.2">𝑉</ci></apply><set id="S3.SS1.p4.2.m2.4.4.3.4.cmml" xref="S3.SS1.p4.2.m2.4.4.3.3"><apply id="S3.SS1.p4.2.m2.2.2.1.1.1.cmml" xref="S3.SS1.p4.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.2.m2.2.2.1.1.1.1.cmml" xref="S3.SS1.p4.2.m2.2.2.1.1.1">subscript</csymbol><apply id="S3.SS1.p4.2.m2.2.2.1.1.1.2.cmml" xref="S3.SS1.p4.2.m2.2.2.1.1.1.2"><ci id="S3.SS1.p4.2.m2.2.2.1.1.1.2.1.cmml" xref="S3.SS1.p4.2.m2.2.2.1.1.1.2.1">^</ci><ci id="S3.SS1.p4.2.m2.2.2.1.1.1.2.2.cmml" xref="S3.SS1.p4.2.m2.2.2.1.1.1.2.2">𝑣</ci></apply><cn type="integer" id="S3.SS1.p4.2.m2.2.2.1.1.1.3.cmml" xref="S3.SS1.p4.2.m2.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p4.2.m2.3.3.2.2.2.cmml" xref="S3.SS1.p4.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p4.2.m2.3.3.2.2.2.1.cmml" xref="S3.SS1.p4.2.m2.3.3.2.2.2">subscript</csymbol><apply id="S3.SS1.p4.2.m2.3.3.2.2.2.2.cmml" xref="S3.SS1.p4.2.m2.3.3.2.2.2.2"><ci id="S3.SS1.p4.2.m2.3.3.2.2.2.2.1.cmml" xref="S3.SS1.p4.2.m2.3.3.2.2.2.2.1">^</ci><ci id="S3.SS1.p4.2.m2.3.3.2.2.2.2.2.cmml" xref="S3.SS1.p4.2.m2.3.3.2.2.2.2.2">𝑣</ci></apply><cn type="integer" id="S3.SS1.p4.2.m2.3.3.2.2.2.3.cmml" xref="S3.SS1.p4.2.m2.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">…</ci><apply id="S3.SS1.p4.2.m2.4.4.3.3.3.cmml" xref="S3.SS1.p4.2.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p4.2.m2.4.4.3.3.3.1.cmml" xref="S3.SS1.p4.2.m2.4.4.3.3.3">subscript</csymbol><apply id="S3.SS1.p4.2.m2.4.4.3.3.3.2.cmml" xref="S3.SS1.p4.2.m2.4.4.3.3.3.2"><ci id="S3.SS1.p4.2.m2.4.4.3.3.3.2.1.cmml" xref="S3.SS1.p4.2.m2.4.4.3.3.3.2.1">^</ci><ci id="S3.SS1.p4.2.m2.4.4.3.3.3.2.2.cmml" xref="S3.SS1.p4.2.m2.4.4.3.3.3.2.2">𝑣</ci></apply><ci id="S3.SS1.p4.2.m2.4.4.3.3.3.3.cmml" xref="S3.SS1.p4.2.m2.4.4.3.3.3.3">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.4c">\hat{V}:=\{\hat{v}_{1},\hat{v}_{2},\ldots,\hat{v}_{N}\}</annotation></semantics></math> given by MoE connector with the <math id="S3.SS1.p4.3.m3.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS1.p4.3.m3.1a"><mi id="S3.SS1.p4.3.m3.1.1" xref="S3.SS1.p4.3.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.3.m3.1b"><ci id="S3.SS1.p4.3.m3.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.3.m3.1c">M</annotation></semantics></math> input text <math id="S3.SS1.p4.4.m4.1" class="ltx_Math" alttext="\mathcal{T}" display="inline"><semantics id="S3.SS1.p4.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.4.m4.1.1" xref="S3.SS1.p4.4.m4.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.4.m4.1b"><ci id="S3.SS1.p4.4.m4.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.4.m4.1c">\mathcal{T}</annotation></semantics></math> tokens <math id="S3.SS1.p4.5.m5.4" class="ltx_Math" alttext="T:=\{t_{1},t_{2},\ldots,t_{M}\}" display="inline"><semantics id="S3.SS1.p4.5.m5.4a"><mrow id="S3.SS1.p4.5.m5.4.4" xref="S3.SS1.p4.5.m5.4.4.cmml"><mi id="S3.SS1.p4.5.m5.4.4.5" xref="S3.SS1.p4.5.m5.4.4.5.cmml">T</mi><mo lspace="0.278em" rspace="0.278em" id="S3.SS1.p4.5.m5.4.4.4" xref="S3.SS1.p4.5.m5.4.4.4.cmml">:=</mo><mrow id="S3.SS1.p4.5.m5.4.4.3.3" xref="S3.SS1.p4.5.m5.4.4.3.4.cmml"><mo stretchy="false" id="S3.SS1.p4.5.m5.4.4.3.3.4" xref="S3.SS1.p4.5.m5.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p4.5.m5.2.2.1.1.1" xref="S3.SS1.p4.5.m5.2.2.1.1.1.cmml"><mi id="S3.SS1.p4.5.m5.2.2.1.1.1.2" xref="S3.SS1.p4.5.m5.2.2.1.1.1.2.cmml">t</mi><mn id="S3.SS1.p4.5.m5.2.2.1.1.1.3" xref="S3.SS1.p4.5.m5.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p4.5.m5.4.4.3.3.5" xref="S3.SS1.p4.5.m5.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p4.5.m5.3.3.2.2.2" xref="S3.SS1.p4.5.m5.3.3.2.2.2.cmml"><mi id="S3.SS1.p4.5.m5.3.3.2.2.2.2" xref="S3.SS1.p4.5.m5.3.3.2.2.2.2.cmml">t</mi><mn id="S3.SS1.p4.5.m5.3.3.2.2.2.3" xref="S3.SS1.p4.5.m5.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p4.5.m5.4.4.3.3.6" xref="S3.SS1.p4.5.m5.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p4.5.m5.1.1" xref="S3.SS1.p4.5.m5.1.1.cmml">…</mi><mo id="S3.SS1.p4.5.m5.4.4.3.3.7" xref="S3.SS1.p4.5.m5.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p4.5.m5.4.4.3.3.3" xref="S3.SS1.p4.5.m5.4.4.3.3.3.cmml"><mi id="S3.SS1.p4.5.m5.4.4.3.3.3.2" xref="S3.SS1.p4.5.m5.4.4.3.3.3.2.cmml">t</mi><mi id="S3.SS1.p4.5.m5.4.4.3.3.3.3" xref="S3.SS1.p4.5.m5.4.4.3.3.3.3.cmml">M</mi></msub><mo stretchy="false" id="S3.SS1.p4.5.m5.4.4.3.3.8" xref="S3.SS1.p4.5.m5.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.5.m5.4b"><apply id="S3.SS1.p4.5.m5.4.4.cmml" xref="S3.SS1.p4.5.m5.4.4"><csymbol cd="latexml" id="S3.SS1.p4.5.m5.4.4.4.cmml" xref="S3.SS1.p4.5.m5.4.4.4">assign</csymbol><ci id="S3.SS1.p4.5.m5.4.4.5.cmml" xref="S3.SS1.p4.5.m5.4.4.5">𝑇</ci><set id="S3.SS1.p4.5.m5.4.4.3.4.cmml" xref="S3.SS1.p4.5.m5.4.4.3.3"><apply id="S3.SS1.p4.5.m5.2.2.1.1.1.cmml" xref="S3.SS1.p4.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.5.m5.2.2.1.1.1.1.cmml" xref="S3.SS1.p4.5.m5.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p4.5.m5.2.2.1.1.1.2.cmml" xref="S3.SS1.p4.5.m5.2.2.1.1.1.2">𝑡</ci><cn type="integer" id="S3.SS1.p4.5.m5.2.2.1.1.1.3.cmml" xref="S3.SS1.p4.5.m5.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p4.5.m5.3.3.2.2.2.cmml" xref="S3.SS1.p4.5.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p4.5.m5.3.3.2.2.2.1.cmml" xref="S3.SS1.p4.5.m5.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p4.5.m5.3.3.2.2.2.2.cmml" xref="S3.SS1.p4.5.m5.3.3.2.2.2.2">𝑡</ci><cn type="integer" id="S3.SS1.p4.5.m5.3.3.2.2.2.3.cmml" xref="S3.SS1.p4.5.m5.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p4.5.m5.1.1.cmml" xref="S3.SS1.p4.5.m5.1.1">…</ci><apply id="S3.SS1.p4.5.m5.4.4.3.3.3.cmml" xref="S3.SS1.p4.5.m5.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p4.5.m5.4.4.3.3.3.1.cmml" xref="S3.SS1.p4.5.m5.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p4.5.m5.4.4.3.3.3.2.cmml" xref="S3.SS1.p4.5.m5.4.4.3.3.3.2">𝑡</ci><ci id="S3.SS1.p4.5.m5.4.4.3.3.3.3.cmml" xref="S3.SS1.p4.5.m5.4.4.3.3.3.3">𝑀</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.5.m5.4c">T:=\{t_{1},t_{2},\ldots,t_{M}\}</annotation></semantics></math> to form the input token sequence for the LLM <math id="S3.SS1.p4.6.m6.1" class="ltx_Math" alttext="\mathcal{M}^{L}" display="inline"><semantics id="S3.SS1.p4.6.m6.1a"><msup id="S3.SS1.p4.6.m6.1.1" xref="S3.SS1.p4.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.6.m6.1.1.2" xref="S3.SS1.p4.6.m6.1.1.2.cmml">ℳ</mi><mi id="S3.SS1.p4.6.m6.1.1.3" xref="S3.SS1.p4.6.m6.1.1.3.cmml">L</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.6.m6.1b"><apply id="S3.SS1.p4.6.m6.1.1.cmml" xref="S3.SS1.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.6.m6.1.1.1.cmml" xref="S3.SS1.p4.6.m6.1.1">superscript</csymbol><ci id="S3.SS1.p4.6.m6.1.1.2.cmml" xref="S3.SS1.p4.6.m6.1.1.2">ℳ</ci><ci id="S3.SS1.p4.6.m6.1.1.3.cmml" xref="S3.SS1.p4.6.m6.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.6.m6.1c">\mathcal{M}^{L}</annotation></semantics></math>. Formally, give the chart <math id="S3.SS1.p4.7.m7.1" class="ltx_Math" alttext="\mathcal{I}" display="inline"><semantics id="S3.SS1.p4.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.7.m7.1.1" xref="S3.SS1.p4.7.m7.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.7.m7.1b"><ci id="S3.SS1.p4.7.m7.1.1.cmml" xref="S3.SS1.p4.7.m7.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.7.m7.1c">\mathcal{I}</annotation></semantics></math> and instruction <math id="S3.SS1.p4.8.m8.1" class="ltx_Math" alttext="\mathcal{T}" display="inline"><semantics id="S3.SS1.p4.8.m8.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.8.m8.1.1" xref="S3.SS1.p4.8.m8.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.8.m8.1b"><ci id="S3.SS1.p4.8.m8.1.1.cmml" xref="S3.SS1.p4.8.m8.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.8.m8.1c">\mathcal{T}</annotation></semantics></math>, the output <math id="S3.SS1.p4.9.m9.1" class="ltx_Math" alttext="\mathcal{O}" display="inline"><semantics id="S3.SS1.p4.9.m9.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.9.m9.1.1" xref="S3.SS1.p4.9.m9.1.1.cmml">𝒪</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.9.m9.1b"><ci id="S3.SS1.p4.9.m9.1.1.cmml" xref="S3.SS1.p4.9.m9.1.1">𝒪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.9.m9.1c">\mathcal{O}</annotation></semantics></math> of proposed ChartMoE can be formulated as:</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.3" class="ltx_Math" alttext="\{v_{1},v_{2},\ldots,v_{N}\}=\mathcal{M}^{V}(\mathcal{I})," display="block"><semantics id="S3.E1.m1.3a"><mrow id="S3.E1.m1.3.3.1" xref="S3.E1.m1.3.3.1.1.cmml"><mrow id="S3.E1.m1.3.3.1.1" xref="S3.E1.m1.3.3.1.1.cmml"><mrow id="S3.E1.m1.3.3.1.1.3.3" xref="S3.E1.m1.3.3.1.1.3.4.cmml"><mo stretchy="false" id="S3.E1.m1.3.3.1.1.3.3.4" xref="S3.E1.m1.3.3.1.1.3.4.cmml">{</mo><msub id="S3.E1.m1.3.3.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.1.2.cmml">v</mi><mn id="S3.E1.m1.3.3.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.E1.m1.3.3.1.1.3.3.5" xref="S3.E1.m1.3.3.1.1.3.4.cmml">,</mo><msub id="S3.E1.m1.3.3.1.1.2.2.2" xref="S3.E1.m1.3.3.1.1.2.2.2.cmml"><mi id="S3.E1.m1.3.3.1.1.2.2.2.2" xref="S3.E1.m1.3.3.1.1.2.2.2.2.cmml">v</mi><mn id="S3.E1.m1.3.3.1.1.2.2.2.3" xref="S3.E1.m1.3.3.1.1.2.2.2.3.cmml">2</mn></msub><mo id="S3.E1.m1.3.3.1.1.3.3.6" xref="S3.E1.m1.3.3.1.1.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">…</mi><mo id="S3.E1.m1.3.3.1.1.3.3.7" xref="S3.E1.m1.3.3.1.1.3.4.cmml">,</mo><msub id="S3.E1.m1.3.3.1.1.3.3.3" xref="S3.E1.m1.3.3.1.1.3.3.3.cmml"><mi id="S3.E1.m1.3.3.1.1.3.3.3.2" xref="S3.E1.m1.3.3.1.1.3.3.3.2.cmml">v</mi><mi id="S3.E1.m1.3.3.1.1.3.3.3.3" xref="S3.E1.m1.3.3.1.1.3.3.3.3.cmml">N</mi></msub><mo stretchy="false" id="S3.E1.m1.3.3.1.1.3.3.8" xref="S3.E1.m1.3.3.1.1.3.4.cmml">}</mo></mrow><mo id="S3.E1.m1.3.3.1.1.4" xref="S3.E1.m1.3.3.1.1.4.cmml">=</mo><mrow id="S3.E1.m1.3.3.1.1.5" xref="S3.E1.m1.3.3.1.1.5.cmml"><msup id="S3.E1.m1.3.3.1.1.5.2" xref="S3.E1.m1.3.3.1.1.5.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.3.3.1.1.5.2.2" xref="S3.E1.m1.3.3.1.1.5.2.2.cmml">ℳ</mi><mi id="S3.E1.m1.3.3.1.1.5.2.3" xref="S3.E1.m1.3.3.1.1.5.2.3.cmml">V</mi></msup><mo lspace="0em" rspace="0em" id="S3.E1.m1.3.3.1.1.5.1" xref="S3.E1.m1.3.3.1.1.5.1.cmml">​</mo><mrow id="S3.E1.m1.3.3.1.1.5.3.2" xref="S3.E1.m1.3.3.1.1.5.cmml"><mo stretchy="false" id="S3.E1.m1.3.3.1.1.5.3.2.1" xref="S3.E1.m1.3.3.1.1.5.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">ℐ</mi><mo stretchy="false" id="S3.E1.m1.3.3.1.1.5.3.2.2" xref="S3.E1.m1.3.3.1.1.5.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.3.3.1.2" xref="S3.E1.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.3b"><apply id="S3.E1.m1.3.3.1.1.cmml" xref="S3.E1.m1.3.3.1"><eq id="S3.E1.m1.3.3.1.1.4.cmml" xref="S3.E1.m1.3.3.1.1.4"></eq><set id="S3.E1.m1.3.3.1.1.3.4.cmml" xref="S3.E1.m1.3.3.1.1.3.3"><apply id="S3.E1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.2">𝑣</ci><cn type="integer" id="S3.E1.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.3">1</cn></apply><apply id="S3.E1.m1.3.3.1.1.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.2.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.2.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2.2">𝑣</ci><cn type="integer" id="S3.E1.m1.3.3.1.1.2.2.2.3.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2.3">2</cn></apply><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">…</ci><apply id="S3.E1.m1.3.3.1.1.3.3.3.cmml" xref="S3.E1.m1.3.3.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.3.3.3.1.cmml" xref="S3.E1.m1.3.3.1.1.3.3.3">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.3.3.3.2.cmml" xref="S3.E1.m1.3.3.1.1.3.3.3.2">𝑣</ci><ci id="S3.E1.m1.3.3.1.1.3.3.3.3.cmml" xref="S3.E1.m1.3.3.1.1.3.3.3.3">𝑁</ci></apply></set><apply id="S3.E1.m1.3.3.1.1.5.cmml" xref="S3.E1.m1.3.3.1.1.5"><times id="S3.E1.m1.3.3.1.1.5.1.cmml" xref="S3.E1.m1.3.3.1.1.5.1"></times><apply id="S3.E1.m1.3.3.1.1.5.2.cmml" xref="S3.E1.m1.3.3.1.1.5.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.5.2.1.cmml" xref="S3.E1.m1.3.3.1.1.5.2">superscript</csymbol><ci id="S3.E1.m1.3.3.1.1.5.2.2.cmml" xref="S3.E1.m1.3.3.1.1.5.2.2">ℳ</ci><ci id="S3.E1.m1.3.3.1.1.5.2.3.cmml" xref="S3.E1.m1.3.3.1.1.5.2.3">𝑉</ci></apply><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">ℐ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.3c">\{v_{1},v_{2},\ldots,v_{N}\}=\mathcal{M}^{V}(\mathcal{I}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.2" class="ltx_Math" alttext="\hat{v_{i}}=\sum_{j}^{L}g_{j}(v_{i})\mathcal{M}^{E}_{j}(v_{i}),\quad g(v_{i})=\mathrm{Top}(\sigma(\mathcal{M}^{G}(v_{i}));K)," display="block"><semantics id="S3.E2.m1.2a"><mrow id="S3.E2.m1.2.2.1"><mrow id="S3.E2.m1.2.2.1.1.2" xref="S3.E2.m1.2.2.1.1.3.cmml"><mrow id="S3.E2.m1.2.2.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.cmml"><mover accent="true" id="S3.E2.m1.2.2.1.1.1.1.4" xref="S3.E2.m1.2.2.1.1.1.1.4.cmml"><msub id="S3.E2.m1.2.2.1.1.1.1.4.2" xref="S3.E2.m1.2.2.1.1.1.1.4.2.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.4.2.2" xref="S3.E2.m1.2.2.1.1.1.1.4.2.2.cmml">v</mi><mi id="S3.E2.m1.2.2.1.1.1.1.4.2.3" xref="S3.E2.m1.2.2.1.1.1.1.4.2.3.cmml">i</mi></msub><mo id="S3.E2.m1.2.2.1.1.1.1.4.1" xref="S3.E2.m1.2.2.1.1.1.1.4.1.cmml">^</mo></mover><mo rspace="0.111em" id="S3.E2.m1.2.2.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.3.cmml">=</mo><mrow id="S3.E2.m1.2.2.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.2.cmml"><munderover id="S3.E2.m1.2.2.1.1.1.1.2.3" xref="S3.E2.m1.2.2.1.1.1.1.2.3.cmml"><mo movablelimits="false" id="S3.E2.m1.2.2.1.1.1.1.2.3.2.2" xref="S3.E2.m1.2.2.1.1.1.1.2.3.2.2.cmml">∑</mo><mi id="S3.E2.m1.2.2.1.1.1.1.2.3.2.3" xref="S3.E2.m1.2.2.1.1.1.1.2.3.2.3.cmml">j</mi><mi id="S3.E2.m1.2.2.1.1.1.1.2.3.3" xref="S3.E2.m1.2.2.1.1.1.1.2.3.3.cmml">L</mi></munderover><mrow id="S3.E2.m1.2.2.1.1.1.1.2.2" xref="S3.E2.m1.2.2.1.1.1.1.2.2.cmml"><msub id="S3.E2.m1.2.2.1.1.1.1.2.2.4" xref="S3.E2.m1.2.2.1.1.1.1.2.2.4.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.2.2.4.2" xref="S3.E2.m1.2.2.1.1.1.1.2.2.4.2.cmml">g</mi><mi id="S3.E2.m1.2.2.1.1.1.1.2.2.4.3" xref="S3.E2.m1.2.2.1.1.1.1.2.2.4.3.cmml">j</mi></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.1.1.2.2.3" xref="S3.E2.m1.2.2.1.1.1.1.2.2.3.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">v</mi><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.1.1.2.2.3a" xref="S3.E2.m1.2.2.1.1.1.1.2.2.3.cmml">​</mo><msubsup id="S3.E2.m1.2.2.1.1.1.1.2.2.5" xref="S3.E2.m1.2.2.1.1.1.1.2.2.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.2.2.1.1.1.1.2.2.5.2.2" xref="S3.E2.m1.2.2.1.1.1.1.2.2.5.2.2.cmml">ℳ</mi><mi id="S3.E2.m1.2.2.1.1.1.1.2.2.5.3" xref="S3.E2.m1.2.2.1.1.1.1.2.2.5.3.cmml">j</mi><mi id="S3.E2.m1.2.2.1.1.1.1.2.2.5.2.3" xref="S3.E2.m1.2.2.1.1.1.1.2.2.5.2.3.cmml">E</mi></msubsup><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.1.1.2.2.3b" xref="S3.E2.m1.2.2.1.1.1.1.2.2.3.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.1.1.2.2.2.1" xref="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.2" xref="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.cmml">(</mo><msub id="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1" xref="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.2.cmml">v</mi><mi id="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.3" xref="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo rspace="1.167em" id="S3.E2.m1.2.2.1.1.2.3" xref="S3.E2.m1.2.2.1.1.3a.cmml">,</mo><mrow id="S3.E2.m1.2.2.1.1.2.2" xref="S3.E2.m1.2.2.1.1.2.2.cmml"><mrow id="S3.E2.m1.2.2.1.1.2.2.1" xref="S3.E2.m1.2.2.1.1.2.2.1.cmml"><mi id="S3.E2.m1.2.2.1.1.2.2.1.3" xref="S3.E2.m1.2.2.1.1.2.2.1.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.2.2.1.2" xref="S3.E2.m1.2.2.1.1.2.2.1.2.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.cmml">(</mo><msub id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.2.cmml">v</mi><mi id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.2.2.1.1.2.2.3" xref="S3.E2.m1.2.2.1.1.2.2.3.cmml">=</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.2" xref="S3.E2.m1.2.2.1.1.2.2.2.cmml"><mi id="S3.E2.m1.2.2.1.1.2.2.2.3" xref="S3.E2.m1.2.2.1.1.2.2.2.3.cmml">Top</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.2.2.2.2" xref="S3.E2.m1.2.2.1.1.2.2.2.2.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.2.1.1" xref="S3.E2.m1.2.2.1.1.2.2.2.1.2.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.2.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.2.1.2.cmml">(</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.3.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.cmml"><msup id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3.2" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3.2.cmml">ℳ</mi><mi id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3.3" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3.3.cmml">G</mi></msup><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.2.cmml">v</mi><mi id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.2.2.1.1.2.2.2.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.2.1.2.cmml">;</mo><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">K</mi><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.2.1.1.4" xref="S3.E2.m1.2.2.1.1.2.2.2.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E2.m1.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.2b"><apply id="S3.E2.m1.2.2.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.3a.cmml" xref="S3.E2.m1.2.2.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E2.m1.2.2.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1"><eq id="S3.E2.m1.2.2.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3"></eq><apply id="S3.E2.m1.2.2.1.1.1.1.4.cmml" xref="S3.E2.m1.2.2.1.1.1.1.4"><ci id="S3.E2.m1.2.2.1.1.1.1.4.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.4.1">^</ci><apply id="S3.E2.m1.2.2.1.1.1.1.4.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.4.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.4.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.4.2">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.4.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.4.2.2">𝑣</ci><ci id="S3.E2.m1.2.2.1.1.1.1.4.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.4.2.3">𝑖</ci></apply></apply><apply id="S3.E2.m1.2.2.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2"><apply id="S3.E2.m1.2.2.1.1.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.2.3.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.3">superscript</csymbol><apply id="S3.E2.m1.2.2.1.1.1.1.2.3.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.2.3.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.3">subscript</csymbol><sum id="S3.E2.m1.2.2.1.1.1.1.2.3.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.3.2.2"></sum><ci id="S3.E2.m1.2.2.1.1.1.1.2.3.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.3.2.3">𝑗</ci></apply><ci id="S3.E2.m1.2.2.1.1.1.1.2.3.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.3.3">𝐿</ci></apply><apply id="S3.E2.m1.2.2.1.1.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2"><times id="S3.E2.m1.2.2.1.1.1.1.2.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.3"></times><apply id="S3.E2.m1.2.2.1.1.1.1.2.2.4.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.4"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.2.2.4.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.4">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.2.2.4.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.4.2">𝑔</ci><ci id="S3.E2.m1.2.2.1.1.1.1.2.2.4.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.4.3">𝑗</ci></apply><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.2">𝑣</ci><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E2.m1.2.2.1.1.1.1.2.2.5.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.5"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.2.2.5.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.5">subscript</csymbol><apply id="S3.E2.m1.2.2.1.1.1.1.2.2.5.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.5"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.2.2.5.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.5">superscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.2.2.5.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.5.2.2">ℳ</ci><ci id="S3.E2.m1.2.2.1.1.1.1.2.2.5.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.5.2.3">𝐸</ci></apply><ci id="S3.E2.m1.2.2.1.1.1.1.2.2.5.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.5.3">𝑗</ci></apply><apply id="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.2.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.2.1">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.2">𝑣</ci><ci id="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2.2.2.1.1.3">𝑖</ci></apply></apply></apply></apply><apply id="S3.E2.m1.2.2.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2"><eq id="S3.E2.m1.2.2.1.1.2.2.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.3"></eq><apply id="S3.E2.m1.2.2.1.1.2.2.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1"><times id="S3.E2.m1.2.2.1.1.2.2.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.2"></times><ci id="S3.E2.m1.2.2.1.1.2.2.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.3">𝑔</ci><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.2">𝑣</ci><ci id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.E2.m1.2.2.1.1.2.2.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2"><times id="S3.E2.m1.2.2.1.1.2.2.2.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.2"></times><ci id="S3.E2.m1.2.2.1.1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.3">Top</ci><list id="S3.E2.m1.2.2.1.1.2.2.2.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1"><apply id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1"><times id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.2"></times><ci id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.3">𝜎</ci><apply id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1"><times id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.2"></times><apply id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3.2">ℳ</ci><ci id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.3.3">𝐺</ci></apply><apply id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.2">𝑣</ci><ci id="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝐾</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.2c">\hat{v_{i}}=\sum_{j}^{L}g_{j}(v_{i})\mathcal{M}^{E}_{j}(v_{i}),\quad g(v_{i})=\mathrm{Top}(\sigma(\mathcal{M}^{G}(v_{i}));K),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.3" class="ltx_Math" alttext="\mathcal{O}=\mathcal{M}^{L}(\{\hat{v}_{1},\hat{v}_{2},\ldots,\hat{v}_{N};t_{1},t_{2},\ldots,t_{M}\})," display="block"><semantics id="S3.E3.m1.3a"><mrow id="S3.E3.m1.3.3.1" xref="S3.E3.m1.3.3.1.1.cmml"><mrow id="S3.E3.m1.3.3.1.1" xref="S3.E3.m1.3.3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.3.3.1.1.3" xref="S3.E3.m1.3.3.1.1.3.cmml">𝒪</mi><mo id="S3.E3.m1.3.3.1.1.2" xref="S3.E3.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E3.m1.3.3.1.1.1" xref="S3.E3.m1.3.3.1.1.1.cmml"><msup id="S3.E3.m1.3.3.1.1.1.3" xref="S3.E3.m1.3.3.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.3.3.1.1.1.3.2" xref="S3.E3.m1.3.3.1.1.1.3.2.cmml">ℳ</mi><mi id="S3.E3.m1.3.3.1.1.1.3.3" xref="S3.E3.m1.3.3.1.1.1.3.3.cmml">L</mi></msup><mo lspace="0em" rspace="0em" id="S3.E3.m1.3.3.1.1.1.2" xref="S3.E3.m1.3.3.1.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.3.3.1.1.1.1.1" xref="S3.E3.m1.3.3.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.3.3.1.1.1.1.1.2" xref="S3.E3.m1.3.3.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.3.3.1.1.1.1.1.1.6" xref="S3.E3.m1.3.3.1.1.1.1.1.1.7.cmml"><mo stretchy="false" id="S3.E3.m1.3.3.1.1.1.1.1.1.6.7" xref="S3.E3.m1.3.3.1.1.1.1.1.1.7.cmml">{</mo><msub id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml">v</mi><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mn id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.6.8" xref="S3.E3.m1.3.3.1.1.1.1.1.1.7.cmml">,</mo><msub id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.cmml"><mover accent="true" id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml">v</mi><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.1.cmml">^</mo></mover><mn id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.3.cmml">2</mn></msub><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.6.9" xref="S3.E3.m1.3.3.1.1.1.1.1.1.7.cmml">,</mo><mi mathvariant="normal" id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml">…</mi><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.6.10" xref="S3.E3.m1.3.3.1.1.1.1.1.1.7.cmml">,</mo><msub id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.cmml"><mover accent="true" id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2.2.cmml">v</mi><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2.1.cmml">^</mo></mover><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.3.cmml">N</mi></msub><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.6.11" xref="S3.E3.m1.3.3.1.1.1.1.1.1.7.cmml">;</mo><msub id="S3.E3.m1.3.3.1.1.1.1.1.1.4.4" xref="S3.E3.m1.3.3.1.1.1.1.1.1.4.4.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.4.4.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.4.4.2.cmml">t</mi><mn id="S3.E3.m1.3.3.1.1.1.1.1.1.4.4.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.4.4.3.cmml">1</mn></msub><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.6.12" xref="S3.E3.m1.3.3.1.1.1.1.1.1.7.cmml">,</mo><msub id="S3.E3.m1.3.3.1.1.1.1.1.1.5.5" xref="S3.E3.m1.3.3.1.1.1.1.1.1.5.5.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.5.5.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.5.5.2.cmml">t</mi><mn id="S3.E3.m1.3.3.1.1.1.1.1.1.5.5.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.5.5.3.cmml">2</mn></msub><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.6.13" xref="S3.E3.m1.3.3.1.1.1.1.1.1.7.cmml">,</mo><mi mathvariant="normal" id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml">…</mi><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.6.14" xref="S3.E3.m1.3.3.1.1.1.1.1.1.7.cmml">,</mo><msub id="S3.E3.m1.3.3.1.1.1.1.1.1.6.6" xref="S3.E3.m1.3.3.1.1.1.1.1.1.6.6.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.6.6.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.6.6.2.cmml">t</mi><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.6.6.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.6.6.3.cmml">M</mi></msub><mo stretchy="false" id="S3.E3.m1.3.3.1.1.1.1.1.1.6.15" xref="S3.E3.m1.3.3.1.1.1.1.1.1.7.cmml">}</mo></mrow><mo stretchy="false" id="S3.E3.m1.3.3.1.1.1.1.1.3" xref="S3.E3.m1.3.3.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E3.m1.3.3.1.2" xref="S3.E3.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.3b"><apply id="S3.E3.m1.3.3.1.1.cmml" xref="S3.E3.m1.3.3.1"><eq id="S3.E3.m1.3.3.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.2"></eq><ci id="S3.E3.m1.3.3.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.3">𝒪</ci><apply id="S3.E3.m1.3.3.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1"><times id="S3.E3.m1.3.3.1.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.1.2"></times><apply id="S3.E3.m1.3.3.1.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.3.1.cmml" xref="S3.E3.m1.3.3.1.1.1.3">superscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.3.2.cmml" xref="S3.E3.m1.3.3.1.1.1.3.2">ℳ</ci><ci id="S3.E3.m1.3.3.1.1.1.3.3.cmml" xref="S3.E3.m1.3.3.1.1.1.3.3">𝐿</ci></apply><set id="S3.E3.m1.3.3.1.1.1.1.1.1.7.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.6"><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2"><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2.1">^</ci><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.2.2">𝑣</ci></apply><cn type="integer" id="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.1.3">1</cn></apply><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2">subscript</csymbol><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2"><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.1">^</ci><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.2">𝑣</ci></apply><cn type="integer" id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.3">2</cn></apply><ci id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1">…</ci><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3">subscript</csymbol><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2"><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2.1">^</ci><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.2.2">𝑣</ci></apply><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.3">𝑁</ci></apply><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.4.4.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.4.4"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.4.4.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.4.4">subscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.4.4.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.4.4.2">𝑡</ci><cn type="integer" id="S3.E3.m1.3.3.1.1.1.1.1.1.4.4.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.4.4.3">1</cn></apply><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.5.5.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.5.5"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.5.5.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.5.5">subscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.5.5.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.5.5.2">𝑡</ci><cn type="integer" id="S3.E3.m1.3.3.1.1.1.1.1.1.5.5.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.5.5.3">2</cn></apply><ci id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2">…</ci><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.6.6.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.6.6"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.6.6.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.6.6">subscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.6.6.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.6.6.2">𝑡</ci><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.6.6.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.6.6.3">𝑀</ci></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.3c">\mathcal{O}=\mathcal{M}^{L}(\{\hat{v}_{1},\hat{v}_{2},\ldots,\hat{v}_{N};t_{1},t_{2},\ldots,t_{M}\}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p4.11" class="ltx_p">where <math id="S3.SS1.p4.10.m1.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S3.SS1.p4.10.m1.1a"><mi id="S3.SS1.p4.10.m1.1.1" xref="S3.SS1.p4.10.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.10.m1.1b"><ci id="S3.SS1.p4.10.m1.1.1.cmml" xref="S3.SS1.p4.10.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.10.m1.1c">\sigma</annotation></semantics></math> indicates <span id="S3.SS1.p4.11.1" class="ltx_text ltx_font_italic">softmax</span> and the <math id="S3.SS1.p4.11.m2.2" class="ltx_Math" alttext="\mathrm{Top}(\cdot;K)" display="inline"><semantics id="S3.SS1.p4.11.m2.2a"><mrow id="S3.SS1.p4.11.m2.2.3" xref="S3.SS1.p4.11.m2.2.3.cmml"><mi id="S3.SS1.p4.11.m2.2.3.2" xref="S3.SS1.p4.11.m2.2.3.2.cmml">Top</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p4.11.m2.2.3.1" xref="S3.SS1.p4.11.m2.2.3.1.cmml">​</mo><mrow id="S3.SS1.p4.11.m2.2.3.3.2" xref="S3.SS1.p4.11.m2.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS1.p4.11.m2.2.3.3.2.1" xref="S3.SS1.p4.11.m2.2.3.3.1.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p4.11.m2.1.1" xref="S3.SS1.p4.11.m2.1.1.cmml">⋅</mo><mo id="S3.SS1.p4.11.m2.2.3.3.2.2" xref="S3.SS1.p4.11.m2.2.3.3.1.cmml">;</mo><mi id="S3.SS1.p4.11.m2.2.2" xref="S3.SS1.p4.11.m2.2.2.cmml">K</mi><mo stretchy="false" id="S3.SS1.p4.11.m2.2.3.3.2.3" xref="S3.SS1.p4.11.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.11.m2.2b"><apply id="S3.SS1.p4.11.m2.2.3.cmml" xref="S3.SS1.p4.11.m2.2.3"><times id="S3.SS1.p4.11.m2.2.3.1.cmml" xref="S3.SS1.p4.11.m2.2.3.1"></times><ci id="S3.SS1.p4.11.m2.2.3.2.cmml" xref="S3.SS1.p4.11.m2.2.3.2">Top</ci><list id="S3.SS1.p4.11.m2.2.3.3.1.cmml" xref="S3.SS1.p4.11.m2.2.3.3.2"><ci id="S3.SS1.p4.11.m2.1.1.cmml" xref="S3.SS1.p4.11.m2.1.1">⋅</ci><ci id="S3.SS1.p4.11.m2.2.2.cmml" xref="S3.SS1.p4.11.m2.2.2">𝐾</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.11.m2.2c">\mathrm{Top}(\cdot;K)</annotation></semantics></math> will reset the non-Top K routing weight to 0.</p>
</div>
<div id="S3.SS1.p5" class="ltx_para ltx_noindent">
<p id="S3.SS1.p5.1" class="ltx_p"><span id="S3.SS1.p5.1.1" class="ltx_text ltx_font_bold">Initialization of Expert.</span>
Previous approaches initialize expert parameters via <span id="S3.SS1.p5.1.2" class="ltx_text ltx_font_italic">1) Random initialization</span>, which may lead to convergence difficulties during supervised fine-tuning, and <span id="S3.SS1.p5.1.3" class="ltx_text ltx_font_italic">2) Co-upcycling initialization</span> <cite class="ltx_cite ltx_citemacro_cite">Komatsuzaki et al. (<a href="#bib.bib20" title="" class="ltx_ref">2023</a>)</cite>, i.e., copy baseline connector parameters to each expert, which may lead to homogenization of experts. ChartMoE introduces a more principled initialization strategy, enabling experts to effectively specialize different components of charts and enhance overall performance over the baseline.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Alignment Pretraining.</h3>

<div id="S3.SS2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS2.p1.1" class="ltx_p">Unlike previous work, we obtain the initialization parameters for the various experts during the different stages of alignment pre-training. Specifically, as illustrated in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3.1 Architecture ‣ 3 ChartMoE ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>b, we align expert connectors using three distinct alignment tasks, where only the connector parameters will be updated.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para ltx_noindent">
<p id="S3.SS2.p2.1" class="ltx_p"><span id="S3.SS2.p2.1.1" class="ltx_text ltx_font_bold">Alignment with Table.</span>
ChartAst <cite class="ltx_cite ltx_citemacro_cite">Meng et al. (<a href="#bib.bib37" title="" class="ltx_ref">2024</a>)</cite> first proposes performing chart alignment before supervised fine-tuning, effectively enhancing the model’s ability in numerical extraction and chart understanding. We align charts and tables (in CSV format, shown in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3.1 Architecture ‣ 3 ChartMoE ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>a) to improve the model’s capability to extract tabular data.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para ltx_noindent">
<p id="S3.SS2.p3.1" class="ltx_p"><span id="S3.SS2.p3.1.1" class="ltx_text ltx_font_bold">Alignment with JSON.</span>
ChartReformer <cite class="ltx_cite ltx_citemacro_cite">Yan et al. (<a href="#bib.bib53" title="" class="ltx_ref">2024</a>)</cite> proposes using JSON instead of table data for alignment pre-training. JSON contains not only the values of the table but also drawing properties of the chart, such as font format, line type, color style, etc. This task is more difficult than chart-to-table, contributing to attribute-based chart editing and highlighting.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para ltx_noindent">
<p id="S3.SS2.p4.1" class="ltx_p"><span id="S3.SS2.p4.1.1" class="ltx_text ltx_font_bold">Alignment with Code.</span>
Chart editing is primarily achieved by reverse engineering the plotting code and re-rendering the chart <cite class="ltx_cite ltx_citemacro_cite">Han et al. (<a href="#bib.bib14" title="" class="ltx_ref">2023</a>); Xia et al. (<a href="#bib.bib51" title="" class="ltx_ref">2024</a>)</cite>. Therefore, we propose the chart-to-code task. Specifically, the code contains precise data and plotting attributes, such as numerical values represented by Python lists and colors represented by hexadecimal codes, as shown in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3.1 Architecture ‣ 3 ChartMoE ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>a. This task is more information-rich compared to JSON and Table alignment.</p>
</div>
<div id="S3.SS2.p5" class="ltx_para ltx_noindent">
<p id="S3.SS2.p5.1" class="ltx_p">Fig. <a href="#S3.F3" title="Figure 3 ‣ 3.3 Supervised Finetuning. ‣ 3 ChartMoE ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> illustrates how we generate the aligned data in ChartMoE-Align. 1) We filter charts with meta CSV from existing datasets <cite class="ltx_cite ltx_citemacro_cite">Masry et al. (<a href="#bib.bib33" title="" class="ltx_ref">2022</a>); Methani et al. (<a href="#bib.bib38" title="" class="ltx_ref">2020</a>)</cite> and data generated by LLMs <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib10" title="" class="ltx_ref">2024</a>)</cite>. 2) We use a fine-tuned Deplot <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib26" title="" class="ltx_ref">2023a</a>)</cite> to inverse the plotting attributes following the templates provided by ChartReformer and randomly sample missing attributes from the predefined set. 3) We create code templates for different types of charts and generate plotting code based on the meta CSV and extracted JSON attributes. <span id="S3.SS2.p5.1.1" class="ltx_text ltx_font_italic">Note that all values and attributes in the code are explicitly represented.</span> 4) We retain the <span id="S3.SS2.p5.1.2" class="ltx_text ltx_font_typewriter">(table, JSON, code, chart)</span> quadruples that pass Python compilation. Tab. <a href="#S3.T1" title="Table 1 ‣ 3.3 Supervised Finetuning. ‣ 3 ChartMoE ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the data sources and size in detail.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Supervised Finetuning.</h3>

<div id="S3.SS3.p1" class="ltx_para ltx_noindent">
<p id="S3.SS3.p1.1" class="ltx_p">We initialize ChartMoE using the structure shown in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3.1 Architecture ‣ 3 ChartMoE ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>c after aligning the connectors across 3 distinct tasks separately. We also retain the vanilla connector to maintain the baseline’s excellent dialogue capabilities, which aligns with the principle of residual optimization <cite class="ltx_cite ltx_citemacro_cite">He et al. (<a href="#bib.bib15" title="" class="ltx_ref">2016</a>)</cite>. We train the MoE connector and LLM during this stage with LoRA <cite class="ltx_cite ltx_citemacro_cite">Hu et al. (<a href="#bib.bib19" title="" class="ltx_ref">2022</a>)</cite>, as shown in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3.1 Architecture ‣ 3 ChartMoE ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>c. Considering the training principles proposed in LLaVA-NeXT <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib30" title="" class="ltx_ref">2024a</a>)</cite>, this stage is divided into high-quality knowledge learning and chart-specific annealing training.</p>
</div>
<figure id="S3.F3" class="ltx_figure"><span id="S3.F3.pic1" class="ltx_picture ltx_centering" style="width:432.2pt;height:67.2pt;">\begin{overpic}[width=433.62pt,grid=False]{Fig/figs/align_pipeline.pdf}
\end{overpic}</span>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Overview of ChartMoE-Align data generation pipeline. The charts are plotted by Python <span id="S3.F3.2.1" class="ltx_text ltx_font_italic">matplotlib</span>.</figcaption>
</figure>
<figure id="S3.T1" class="ltx_table ltx_align_floatright">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Datasets used for training ChartMoE. We conduct alignment pre-training with synthetic data and supervised tuning with high-quality, real-world data. Only ChartQA is used in the ablation due to GPU constraints.</figcaption>
<div id="S3.T1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:572.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(73.8pt,-97.5pt) scale(1.51563598350907,1.51563598350907) ;">
<table id="S3.T1.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.1.1.2" class="ltx_tr">
<td id="S3.T1.1.1.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Source</td>
<td id="S3.T1.1.1.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Data Type</td>
<td id="S3.T1.1.1.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Task Type</td>
<td id="S3.T1.1.1.2.4" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Samples</td>
</tr>
<tr id="S3.T1.1.1.3" class="ltx_tr">
<td id="S3.T1.1.1.3.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="4"><span id="S3.T1.1.1.3.1.1" class="ltx_text ltx_font_italic">Alignment Training</span></td>
</tr>
<tr id="S3.T1.1.1.4" class="ltx_tr">
<td id="S3.T1.1.1.4.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;" rowspan="3"><span id="S3.T1.1.1.4.1.1" class="ltx_text">ChartQA</span></td>
<td id="S3.T1.1.1.4.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;" rowspan="3"><span id="S3.T1.1.1.4.2.1" class="ltx_text">synthetic</span></td>
<td id="S3.T1.1.1.4.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="S3.T1.1.1.4.3.1" class="ltx_text ltx_font_typewriter">chart</span> to <span id="S3.T1.1.1.4.3.2" class="ltx_text ltx_font_typewriter">table</span>
</td>
<td id="S3.T1.1.1.4.4" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">18.3K</td>
</tr>
<tr id="S3.T1.1.1.5" class="ltx_tr">
<td id="S3.T1.1.1.5.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="S3.T1.1.1.5.1.1" class="ltx_text ltx_font_typewriter">chart</span> to <span id="S3.T1.1.1.5.1.2" class="ltx_text ltx_font_typewriter">JSON</span>
</td>
<td id="S3.T1.1.1.5.2" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">18.3K</td>
</tr>
<tr id="S3.T1.1.1.6" class="ltx_tr">
<td id="S3.T1.1.1.6.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="S3.T1.1.1.6.1.1" class="ltx_text ltx_font_typewriter">chart</span> to <span id="S3.T1.1.1.6.1.2" class="ltx_text ltx_font_typewriter">code</span>
</td>
<td id="S3.T1.1.1.6.2" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">18.3K</td>
</tr>
<tr id="S3.T1.1.1.7" class="ltx_tr">
<td id="S3.T1.1.1.7.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" rowspan="3"><span id="S3.T1.1.1.7.1.1" class="ltx_text">PlotQA</span></td>
<td id="S3.T1.1.1.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" rowspan="3"><span id="S3.T1.1.1.7.2.1" class="ltx_text">synthetic</span></td>
<td id="S3.T1.1.1.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="S3.T1.1.1.7.3.1" class="ltx_text ltx_font_typewriter">chart</span> to <span id="S3.T1.1.1.7.3.2" class="ltx_text ltx_font_typewriter">table</span>
</td>
<td id="S3.T1.1.1.7.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">157K</td>
</tr>
<tr id="S3.T1.1.1.8" class="ltx_tr">
<td id="S3.T1.1.1.8.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="S3.T1.1.1.8.1.1" class="ltx_text ltx_font_typewriter">chart</span> to <span id="S3.T1.1.1.8.1.2" class="ltx_text ltx_font_typewriter">JSON</span>
</td>
<td id="S3.T1.1.1.8.2" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">157K</td>
</tr>
<tr id="S3.T1.1.1.9" class="ltx_tr">
<td id="S3.T1.1.1.9.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="S3.T1.1.1.9.1.1" class="ltx_text ltx_font_typewriter">chart</span> to <span id="S3.T1.1.1.9.1.2" class="ltx_text ltx_font_typewriter">code</span>
</td>
<td id="S3.T1.1.1.9.2" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">157K</td>
</tr>
<tr id="S3.T1.1.1.10" class="ltx_tr">
<td id="S3.T1.1.1.10.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" rowspan="3"><span id="S3.T1.1.1.10.1.1" class="ltx_text">ChartY</span></td>
<td id="S3.T1.1.1.10.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" rowspan="3"><span id="S3.T1.1.1.10.2.1" class="ltx_text">synthetic</span></td>
<td id="S3.T1.1.1.10.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="S3.T1.1.1.10.3.1" class="ltx_text ltx_font_typewriter">chart</span> to <span id="S3.T1.1.1.10.3.2" class="ltx_text ltx_font_typewriter">table</span>
</td>
<td id="S3.T1.1.1.10.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">763.6K</td>
</tr>
<tr id="S3.T1.1.1.11" class="ltx_tr">
<td id="S3.T1.1.1.11.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="S3.T1.1.1.11.1.1" class="ltx_text ltx_font_typewriter">chart</span> to <span id="S3.T1.1.1.11.1.2" class="ltx_text ltx_font_typewriter">JSON</span>
</td>
<td id="S3.T1.1.1.11.2" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">763.6K</td>
</tr>
<tr id="S3.T1.1.1.12" class="ltx_tr">
<td id="S3.T1.1.1.12.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="S3.T1.1.1.12.1.1" class="ltx_text ltx_font_typewriter">chart</span> to <span id="S3.T1.1.1.12.1.2" class="ltx_text ltx_font_typewriter">code</span>
</td>
<td id="S3.T1.1.1.12.2" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">763.6K</td>
</tr>
<tr id="S3.T1.1.1.13" class="ltx_tr">
<td id="S3.T1.1.1.13.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="3">Total</td>
<td id="S3.T1.1.1.13.2" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">2.8M</td>
</tr>
<tr id="S3.T1.1.1.14" class="ltx_tr">
<td id="S3.T1.1.1.14.1" class="ltx_td ltx_align_left ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="3">Usage: <span id="S3.T1.1.1.14.1.1" class="ltx_text ltx_font_typewriter">Table</span> = 500K <span id="S3.T1.1.1.14.1.2" class="ltx_text ltx_font_typewriter">JSON</span> = 200K <span id="S3.T1.1.1.14.1.3" class="ltx_text ltx_font_typewriter">Code</span> = 100K</td>
<td id="S3.T1.1.1.14.2" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">800K</td>
</tr>
<tr id="S3.T1.1.1.15" class="ltx_tr">
<td id="S3.T1.1.1.15.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="4"><span id="S3.T1.1.1.15.1.1" class="ltx_text ltx_font_italic">High-Quality Knowledge Learning</span></td>
</tr>
<tr id="S3.T1.1.1.16" class="ltx_tr">
<td id="S3.T1.1.1.16.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;" rowspan="2"><span id="S3.T1.1.1.16.1.1" class="ltx_text">MMC</span></td>
<td id="S3.T1.1.1.16.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">synthetic</td>
<td id="S3.T1.1.1.16.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">QA &amp; reasoning</td>
<td id="S3.T1.1.1.16.4" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;" rowspan="2"><span id="S3.T1.1.1.16.4.1" class="ltx_text">410K</span></td>
</tr>
<tr id="S3.T1.1.1.17" class="ltx_tr">
<td id="S3.T1.1.1.17.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">&amp; real world</td>
<td id="S3.T1.1.1.17.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">&amp; summariztion</td>
</tr>
<tr id="S3.T1.1.1.18" class="ltx_tr">
<td id="S3.T1.1.1.18.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="4"><span id="S3.T1.1.1.18.1.1" class="ltx_text ltx_font_italic">Chart Specific Annealing Tuning</span></td>
</tr>
<tr id="S3.T1.1.1.1" class="ltx_tr">
<td id="S3.T1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">ChartQA</td>
<td id="S3.T1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">real world</td>
<td id="S3.T1.1.1.1.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">QA</td>
<td id="S3.T1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">28.3K<math id="S3.T1.1.1.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S3.T1.1.1.1.1.m1.1a"><mo id="S3.T1.1.1.1.1.m1.1.1" xref="S3.T1.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S3.T1.1.1.1.1.m1.1b"><times id="S3.T1.1.1.1.1.m1.1.1.cmml" xref="S3.T1.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.1.1.1.1.m1.1c">\times</annotation></semantics></math>2</td>
</tr>
<tr id="S3.T1.1.1.19" class="ltx_tr">
<td id="S3.T1.1.1.19.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;" rowspan="2"><span id="S3.T1.1.1.19.1.1" class="ltx_text">ChartGemma</span></td>
<td id="S3.T1.1.1.19.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;" rowspan="2"><span id="S3.T1.1.1.19.2.1" class="ltx_text">real world</span></td>
<td id="S3.T1.1.1.19.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">QA &amp; PoT &amp; reasoning</td>
<td id="S3.T1.1.1.19.4" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;" rowspan="2"><span id="S3.T1.1.1.19.4.1" class="ltx_text">163.2K</span></td>
</tr>
<tr id="S3.T1.1.1.20" class="ltx_tr">
<td id="S3.T1.1.1.20.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:2.0pt;padding-right:2.0pt;">&amp; summariztion</td>
</tr>
<tr id="S3.T1.1.1.21" class="ltx_tr">
<td id="S3.T1.1.1.21.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="3">Total</td>
<td id="S3.T1.1.1.21.2" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">220.8K</td>
</tr>
</table>
</span></div>
</figure>
<div id="S3.SS3.p2" class="ltx_para ltx_noindent">
<p id="S3.SS3.p2.1" class="ltx_p"><span id="S3.SS3.p2.1.1" class="ltx_text ltx_font_bold">High-Quality Knowledge Learning</span>
We adopt MMC <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib28" title="" class="ltx_ref">2023c</a>)</cite> to enhance the ChartMoE’s knowledge. MMC includes a variety of chart types and tasks such as chart-related question answering, translation, extraction, reasoning, and analysis. Considering data quality, we only utilize the MMC-Instruction subset, which has been manually verified. Notice that the quality of instruction data is more important than quantity in this stage.</p>
</div>
<div id="S3.SS3.p3" class="ltx_para ltx_noindent">
<p id="S3.SS3.p3.1" class="ltx_p"><span id="S3.SS3.p3.1.1" class="ltx_text ltx_font_bold">Chart Specific Annealing Tuning</span>
Following Llama-v3.1 <cite class="ltx_cite ltx_citemacro_cite">Team et al. (<a href="#bib.bib44" title="" class="ltx_ref">2024b</a>)</cite>, we perform annealing tuning before evaluating mainstream benchmarks. We increase the learning rate and conduct instruction tuning using the training sets of ChartQA <cite class="ltx_cite ltx_citemacro_cite">Masry et al. (<a href="#bib.bib33" title="" class="ltx_ref">2022</a>)</cite> and ChartGemma <cite class="ltx_cite ltx_citemacro_cite">Masry et al. (<a href="#bib.bib36" title="" class="ltx_ref">2024b</a>)</cite> to adjust the query styles and answer formats of these benchmarks.</p>
</div>
<div id="S3.SS3.p4" class="ltx_para ltx_noindent">
<p id="S3.SS3.p4.1" class="ltx_p">PoT <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib12" title="" class="ltx_ref">2023b</a>)</cite> requires the MLLM to generate the variables and operation code rather than producing direct answers. This inference pipeline addresses the mathematical capabilities by employing <span id="S3.SS3.p4.1.1" class="ltx_text ltx_font_italic">Python</span> to handle the logical computations, which is the shortcoming of all open-sourced models. With better numerical extraction abilities, PoT can significantly enhance our ChartMoE’s question-answering performance.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiment</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Implementation Details</h3>

<div id="S4.SS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.p1.1" class="ltx_p">The ChartMoE builds on InternlmXC-v2 <cite class="ltx_cite ltx_citemacro_cite">Dong et al. (<a href="#bib.bib13" title="" class="ltx_ref">2024</a>)</cite>, integrating ViT-Large <cite class="ltx_cite ltx_citemacro_cite">Radford et al. (<a href="#bib.bib42" title="" class="ltx_ref">2021</a>)</cite> as the visual encoder and InternLM-v2 <cite class="ltx_cite ltx_citemacro_cite">Cai et al. (<a href="#bib.bib8" title="" class="ltx_ref">2024</a>)</cite> as the language model. We replace the MLP with MoE architecture as the connector. During the alignment stage, we train the connector parameters and keep the visual encoder and LLM parameters fixed for 1 epoch. The learning rate is set to 5e-5 with a warmup phase covering the first 1% of training steps. In the supervised fine-tuning stage, we continue training the connector while employing LoRA to update the LLM parameters with the rank of 64. The learning rate is adjusted to 1e-5 for the high-quality knowledge learning period and 5e-5 for the chart-specific annealing tuning period. The weight decay is 0.1 for all stages. We use the cosine annealing learning rate schedule. The global batch size is set to 64 for all stages. The training process is conducted on A100-40G GPU, with the alignment stage taking approximately 240 GPU hours, the knowledge learning stage taking 138 GPU hours, and the chart-specific annealing tuning stage taking around 76 GPU hours.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Evaluation Metrics</h3>

<div id="S4.SS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.p1.1" class="ltx_p"><span id="S4.SS2.p1.1.1" class="ltx_text ltx_font_bold">ChartQA</span> <cite class="ltx_cite ltx_citemacro_cite">Masry et al. (<a href="#bib.bib33" title="" class="ltx_ref">2022</a>)</cite> test split consists of 1,250 questions in both human and augmented parts. The charts are three common chart types and are sourced from the real world. It features a variety of human-crafted questions and answers to evaluate models’ understanding, reasoning, and data extraction skills.
ChartQA adopts relaxed accuracy, which is highlighted shortcomings by recent studies <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib10" title="" class="ltx_ref">2024</a>); Xu et al. (<a href="#bib.bib52" title="" class="ltx_ref">2023</a>)</cite>, such as simplistic string matching and direct float conversion. Therefore, we improve it by 1) using regular expression matching to extract number values, 2) optimizing string matching for short answers, and 3) demonstrating model performance under various relaxed margins. We adopt it for all experiment results in this paper.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para ltx_noindent">
<p id="S4.SS2.p2.1" class="ltx_p"><span id="S4.SS2.p2.1.1" class="ltx_text ltx_font_bold">ChartBench</span> <cite class="ltx_cite ltx_citemacro_cite">Xu et al. (<a href="#bib.bib52" title="" class="ltx_ref">2023</a>)</cite> focuses on charts without data point annotations. It includes a broader range of chart types, with 9 main categories and 42 subcategories, each containing 50 charts. ChartBench focuses on extracting numerical values, posing a greater challenge as models cannot depend on OCR for precise answers. It adopts <span id="S4.SS2.p2.1.2" class="ltx_text ltx_font_italic">Acc+</span> for judgments and relaxed accuracy for NQA tasks. The benchmark proposes to extract number values by LLMs first, which is omitted for the stratifying instruction-following ability of ChartMoE.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para ltx_noindent">
<p id="S4.SS2.p3.1" class="ltx_p"><span id="S4.SS2.p3.1.1" class="ltx_text ltx_font_bold">ChartFC</span> <cite class="ltx_cite ltx_citemacro_cite">Akhtar et al. (<a href="#bib.bib1" title="" class="ltx_ref">2023a</a>)</cite> &amp; <span id="S4.SS2.p3.1.2" class="ltx_text ltx_font_bold">ChartCheck</span> <cite class="ltx_cite ltx_citemacro_cite">Akhtar et al. (<a href="#bib.bib2" title="" class="ltx_ref">2023b</a>)</cite> They use accuracy to verify whether the claim aligns with the input chart, marking a significant advancement in chart recognition and reasoning abilities. This also identifies the potential hallucinations in chart-related contexts. The ChartFC test set has 1,591 questions, and the ChartCheck test set has two splits, containing 937 questions and 981 questions.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Comparative Models</h3>

<div id="S4.SS3.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.p1.1" class="ltx_p"><span id="S4.SS3.p1.1.1" class="ltx_text ltx_font_bold">General MLLMs.</span>
We compare PaliGemma <cite class="ltx_cite ltx_citemacro_cite">Beyer et al. (<a href="#bib.bib6" title="" class="ltx_ref">2024</a>)</cite>, LLaVA-v1.5 <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib29" title="" class="ltx_ref">2023d</a>)</cite> with an MLP connector, Qwen-VL <cite class="ltx_cite ltx_citemacro_cite">Bai et al. (<a href="#bib.bib5" title="" class="ltx_ref">2023b</a>)</cite> with a Qformer <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib24" title="" class="ltx_ref">2023</a>)</cite> connector, DocOwl-v1.5 <cite class="ltx_cite ltx_citemacro_cite">Hu et al. (<a href="#bib.bib18" title="" class="ltx_ref">2024</a>)</cite> that employs multi-level image resolution and token convolution techniques, and the current open-source SOTA, InternlmXC-v2 <cite class="ltx_cite ltx_citemacro_cite">Dong et al. (<a href="#bib.bib13" title="" class="ltx_ref">2024</a>)</cite>.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para ltx_noindent">
<p id="S4.SS3.p2.1" class="ltx_p"><span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_bold">Specialist Chart Models.</span>
Previous works specifically design models and algorithms for chart question answering. We compare Pix2Struct <cite class="ltx_cite ltx_citemacro_cite">Lee et al. (<a href="#bib.bib21" title="" class="ltx_ref">2023</a>)</cite>, Matcha <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib27" title="" class="ltx_ref">2023b</a>)</cite>, UniChart <cite class="ltx_cite ltx_citemacro_cite">Masry et al. (<a href="#bib.bib34" title="" class="ltx_ref">2023</a>)</cite>, and Deplot <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib26" title="" class="ltx_ref">2023a</a>)</cite>. Notably, Deplot fails to handle questions in arbitrary formats, so we extract table information with Deplot and use LLaVA-v1.6 to answer the questions.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>The relaxed accuracy (%) performance on <span id="S4.T2.8.1" class="ltx_text ltx_font_bold ltx_font_italic">ChartQA</span>. Ada.: Adaptive input resolution. *: Multi-scale image feature, 448<math id="S4.T2.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.3.m1.1b"><mo id="S4.T2.3.m1.1.1" xref="S4.T2.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.3.m1.1c"><times id="S4.T2.3.m1.1.1.cmml" xref="S4.T2.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.m1.1d">\times</annotation></semantics></math>9 in DocOwl. <math id="S4.T2.4.m2.1" class="ltx_Math" alttext="\dagger" display="inline"><semantics id="S4.T2.4.m2.1b"><mo id="S4.T2.4.m2.1.1" xref="S4.T2.4.m2.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="S4.T2.4.m2.1c"><ci id="S4.T2.4.m2.1.1.cmml" xref="S4.T2.4.m2.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.m2.1d">\dagger</annotation></semantics></math>: Employing token merging to reduce computational overhead.</figcaption>
<div id="S4.T2.6" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:310.3pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-60.6pt,43.3pt) scale(0.781452128793313,0.781452128793313) ;">
<table id="S4.T2.6.2" class="ltx_tabular ltx_align_middle">
<tr id="S4.T2.6.2.3" class="ltx_tr">
<td id="S4.T2.6.2.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" rowspan="2"><span id="S4.T2.6.2.3.1.1" class="ltx_text">Models</span></td>
<td id="S4.T2.6.2.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" rowspan="2"><span id="S4.T2.6.2.3.2.1" class="ltx_text">Para.</span></td>
<td id="S4.T2.6.2.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" rowspan="2"><span id="S4.T2.6.2.3.3.1" class="ltx_text">Resolution</span></td>
<td id="S4.T2.6.2.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="3">Relax Acc. @0.05</td>
<td id="S4.T2.6.2.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="3">Relax Acc. @0.10</td>
<td id="S4.T2.6.2.3.6" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="3">Relax Acc. @0.20</td>
</tr>
<tr id="S4.T2.6.2.4" class="ltx_tr">
<td id="S4.T2.6.2.4.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Human</td>
<td id="S4.T2.6.2.4.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Aug.</td>
<td id="S4.T2.6.2.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Avg.</td>
<td id="S4.T2.6.2.4.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Human</td>
<td id="S4.T2.6.2.4.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Aug.</td>
<td id="S4.T2.6.2.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Avg.</td>
<td id="S4.T2.6.2.4.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Human</td>
<td id="S4.T2.6.2.4.8" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Aug.</td>
<td id="S4.T2.6.2.4.9" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Avg.</td>
</tr>
<tr id="S4.T2.6.2.5" class="ltx_tr">
<td id="S4.T2.6.2.5.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="12">General MLLMs</td>
</tr>
<tr id="S4.T2.6.2.6" class="ltx_tr">
<td id="S4.T2.6.2.6.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">LLaVA-v1.5</td>
<td id="S4.T2.6.2.6.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">13B</td>
<td id="S4.T2.6.2.6.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">@336</td>
<td id="S4.T2.6.2.6.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">25.36</td>
<td id="S4.T2.6.2.6.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">18.56</td>
<td id="S4.T2.6.2.6.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">21.96</td>
<td id="S4.T2.6.2.6.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">28.56</td>
<td id="S4.T2.6.2.6.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">23.52</td>
<td id="S4.T2.6.2.6.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">26.04</td>
<td id="S4.T2.6.2.6.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">32.56</td>
<td id="S4.T2.6.2.6.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">30.72</td>
<td id="S4.T2.6.2.6.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">31.64</td>
</tr>
<tr id="S4.T2.6.2.7" class="ltx_tr">
<td id="S4.T2.6.2.7.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Qwen-VL</td>
<td id="S4.T2.6.2.7.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">9.6B</td>
<td id="S4.T2.6.2.7.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">@448</td>
<td id="S4.T2.6.2.7.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">40.48</td>
<td id="S4.T2.6.2.7.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">79.76</td>
<td id="S4.T2.6.2.7.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">60.12</td>
<td id="S4.T2.6.2.7.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">43.20</td>
<td id="S4.T2.6.2.7.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">82.56</td>
<td id="S4.T2.6.2.7.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">62.88</td>
<td id="S4.T2.6.2.7.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">47.52</td>
<td id="S4.T2.6.2.7.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">85.76</td>
<td id="S4.T2.6.2.7.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">66.64</td>
</tr>
<tr id="S4.T2.6.2.8" class="ltx_tr">
<td id="S4.T2.6.2.8.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">DocOwl-v1.5</td>
<td id="S4.T2.6.2.8.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">8B</td>
<td id="S4.T2.6.2.8.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">@448*</td>
<td id="S4.T2.6.2.8.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">47.44</td>
<td id="S4.T2.6.2.8.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">91.52</td>
<td id="S4.T2.6.2.8.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">69.48</td>
<td id="S4.T2.6.2.8.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">51.92</td>
<td id="S4.T2.6.2.8.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">92.08</td>
<td id="S4.T2.6.2.8.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">72.00</td>
<td id="S4.T2.6.2.8.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">56.72</td>
<td id="S4.T2.6.2.8.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">93.12</td>
<td id="S4.T2.6.2.8.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">74.92</td>
</tr>
<tr id="S4.T2.6.2.9" class="ltx_tr">
<td id="S4.T2.6.2.9.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">InternlmXC-v2</td>
<td id="S4.T2.6.2.9.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">8B</td>
<td id="S4.T2.6.2.9.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">@490</td>
<td id="S4.T2.6.2.9.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">62.72</td>
<td id="S4.T2.6.2.9.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">81.28</td>
<td id="S4.T2.6.2.9.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">72.00</td>
<td id="S4.T2.6.2.9.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">66.72</td>
<td id="S4.T2.6.2.9.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">84.08</td>
<td id="S4.T2.6.2.9.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">75.40</td>
<td id="S4.T2.6.2.9.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">70.80</td>
<td id="S4.T2.6.2.9.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">86.56</td>
<td id="S4.T2.6.2.9.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">78.68</td>
</tr>
<tr id="S4.T2.6.2.10" class="ltx_tr">
<td id="S4.T2.6.2.10.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="12">Specialist Chart Models</td>
</tr>
<tr id="S4.T2.6.2.11" class="ltx_tr">
<td id="S4.T2.6.2.11.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Pix2Struct</td>
<td id="S4.T2.6.2.11.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">282M</td>
<td id="S4.T2.6.2.11.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Ada.</td>
<td id="S4.T2.6.2.11.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">30.08</td>
<td id="S4.T2.6.2.11.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">76.88</td>
<td id="S4.T2.6.2.11.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">53.48</td>
<td id="S4.T2.6.2.11.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">31.68</td>
<td id="S4.T2.6.2.11.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">78.40</td>
<td id="S4.T2.6.2.11.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">55.04</td>
<td id="S4.T2.6.2.11.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">37.28</td>
<td id="S4.T2.6.2.11.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">81.12</td>
<td id="S4.T2.6.2.11.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">59.20</td>
</tr>
<tr id="S4.T2.6.2.12" class="ltx_tr">
<td id="S4.T2.6.2.12.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Matcha</td>
<td id="S4.T2.6.2.12.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">282M</td>
<td id="S4.T2.6.2.12.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Ada.</td>
<td id="S4.T2.6.2.12.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">37.12</td>
<td id="S4.T2.6.2.12.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">86.64</td>
<td id="S4.T2.6.2.12.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">61.88</td>
<td id="S4.T2.6.2.12.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">39.84</td>
<td id="S4.T2.6.2.12.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">87.36</td>
<td id="S4.T2.6.2.12.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">63.60</td>
<td id="S4.T2.6.2.12.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">43.52</td>
<td id="S4.T2.6.2.12.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">88.56</td>
<td id="S4.T2.6.2.12.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">66.04</td>
</tr>
<tr id="S4.T2.6.2.13" class="ltx_tr">
<td id="S4.T2.6.2.13.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">UniChart</td>
<td id="S4.T2.6.2.13.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">201M</td>
<td id="S4.T2.6.2.13.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">@960</td>
<td id="S4.T2.6.2.13.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">34.64</td>
<td id="S4.T2.6.2.13.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">83.28</td>
<td id="S4.T2.6.2.13.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">58.96</td>
<td id="S4.T2.6.2.13.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">36.48</td>
<td id="S4.T2.6.2.13.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">84.24</td>
<td id="S4.T2.6.2.13.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">60.36</td>
<td id="S4.T2.6.2.13.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">38.88</td>
<td id="S4.T2.6.2.13.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">85.28</td>
<td id="S4.T2.6.2.13.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">62.08</td>
</tr>
<tr id="S4.T2.6.2.14" class="ltx_tr">
<td id="S4.T2.6.2.14.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Deplot + LLaVA-v1.6</td>
<td id="S4.T2.6.2.14.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">282M+13B</td>
<td id="S4.T2.6.2.14.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Ada.</td>
<td id="S4.T2.6.2.14.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">53.44</td>
<td id="S4.T2.6.2.14.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">87.68</td>
<td id="S4.T2.6.2.14.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">70.56</td>
<td id="S4.T2.6.2.14.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">56.80</td>
<td id="S4.T2.6.2.14.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">88.48</td>
<td id="S4.T2.6.2.14.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">72.64</td>
<td id="S4.T2.6.2.14.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">60.64</td>
<td id="S4.T2.6.2.14.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">90.08</td>
<td id="S4.T2.6.2.14.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">75.36</td>
</tr>
<tr id="S4.T2.6.2.15" class="ltx_tr">
<td id="S4.T2.6.2.15.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="12">Chart MLLMs</td>
</tr>
<tr id="S4.T2.6.2.16" class="ltx_tr">
<td id="S4.T2.6.2.16.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">ChartVLM</td>
<td id="S4.T2.6.2.16.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">13B</td>
<td id="S4.T2.6.2.16.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Ada.</td>
<td id="S4.T2.6.2.16.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">42.08</td>
<td id="S4.T2.6.2.16.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">82.48</td>
<td id="S4.T2.6.2.16.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">62.28</td>
<td id="S4.T2.6.2.16.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">43.84</td>
<td id="S4.T2.6.2.16.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">82.88</td>
<td id="S4.T2.6.2.16.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">63.36</td>
<td id="S4.T2.6.2.16.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">46.00</td>
<td id="S4.T2.6.2.16.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">83.28</td>
<td id="S4.T2.6.2.16.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">64.64</td>
</tr>
<tr id="S4.T2.6.2.17" class="ltx_tr">
<td id="S4.T2.6.2.17.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">OneChart</td>
<td id="S4.T2.6.2.17.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">125M+13B</td>
<td id="S4.T2.6.2.17.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">@1024</td>
<td id="S4.T2.6.2.17.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">54.48</td>
<td id="S4.T2.6.2.17.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">87.12</td>
<td id="S4.T2.6.2.17.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">70.80</td>
<td id="S4.T2.6.2.17.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">57.60</td>
<td id="S4.T2.6.2.17.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">87.84</td>
<td id="S4.T2.6.2.17.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">72.72</td>
<td id="S4.T2.6.2.17.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">62.00</td>
<td id="S4.T2.6.2.17.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">88.64</td>
<td id="S4.T2.6.2.17.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">75.32</td>
</tr>
<tr id="S4.T2.6.2.18" class="ltx_tr">
<td id="S4.T2.6.2.18.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">ChartLlama</td>
<td id="S4.T2.6.2.18.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">13B</td>
<td id="S4.T2.6.2.18.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">@336</td>
<td id="S4.T2.6.2.18.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">58.40</td>
<td id="S4.T2.6.2.18.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.18.5.1" class="ltx_text ltx_framed ltx_framed_underline">93.12</span></td>
<td id="S4.T2.6.2.18.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">75.76</td>
<td id="S4.T2.6.2.18.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">61.20</td>
<td id="S4.T2.6.2.18.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">93.60</td>
<td id="S4.T2.6.2.18.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">77.40</td>
<td id="S4.T2.6.2.18.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">63.52</td>
<td id="S4.T2.6.2.18.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">94.00</td>
<td id="S4.T2.6.2.18.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">78.76</td>
</tr>
<tr id="S4.T2.6.2.19" class="ltx_tr">
<td id="S4.T2.6.2.19.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">ChartGemma+PoT</td>
<td id="S4.T2.6.2.19.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">3B</td>
<td id="S4.T2.6.2.19.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">@448</td>
<td id="S4.T2.6.2.19.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">67.84</td>
<td id="S4.T2.6.2.19.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">85.28</td>
<td id="S4.T2.6.2.19.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">76.56</td>
<td id="S4.T2.6.2.19.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">68.64</td>
<td id="S4.T2.6.2.19.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">85.84</td>
<td id="S4.T2.6.2.19.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">77.24</td>
<td id="S4.T2.6.2.19.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">69.84</td>
<td id="S4.T2.6.2.19.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">86.32</td>
<td id="S4.T2.6.2.19.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">78.08</td>
</tr>
<tr id="S4.T2.5.1.1" class="ltx_tr">
<td id="S4.T2.5.1.1.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">TinyChart</td>
<td id="S4.T2.5.1.1.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">3B</td>
<td id="S4.T2.5.1.1.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">@768<math id="S4.T2.5.1.1.1.m1.1" class="ltx_Math" alttext="\dagger" display="inline"><semantics id="S4.T2.5.1.1.1.m1.1a"><mo id="S4.T2.5.1.1.1.m1.1.1" xref="S4.T2.5.1.1.1.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="S4.T2.5.1.1.1.m1.1b"><ci id="S4.T2.5.1.1.1.m1.1.1.cmml" xref="S4.T2.5.1.1.1.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.1.1.1.m1.1c">\dagger</annotation></semantics></math>
</td>
<td id="S4.T2.5.1.1.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">58.72</td>
<td id="S4.T2.5.1.1.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.5.1.1.5.1" class="ltx_text ltx_font_bold">94.88</span></td>
<td id="S4.T2.5.1.1.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">76.80</td>
<td id="S4.T2.5.1.1.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">62.56</td>
<td id="S4.T2.5.1.1.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.5.1.1.8.1" class="ltx_text ltx_font_bold">95.28</span></td>
<td id="S4.T2.5.1.1.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">78.92</td>
<td id="S4.T2.5.1.1.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">67.04</td>
<td id="S4.T2.5.1.1.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.5.1.1.11.1" class="ltx_text ltx_font_bold">96.16</span></td>
<td id="S4.T2.5.1.1.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">81.60</td>
</tr>
<tr id="S4.T2.6.2.20" class="ltx_tr">
<td id="S4.T2.6.2.20.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">ChartAst</td>
<td id="S4.T2.6.2.20.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">13B</td>
<td id="S4.T2.6.2.20.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">@448</td>
<td id="S4.T2.6.2.20.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">64.88</td>
<td id="S4.T2.6.2.20.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.20.5.1" class="ltx_text ltx_framed ltx_framed_underline">93.12</span></td>
<td id="S4.T2.6.2.20.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">79.00</td>
<td id="S4.T2.6.2.20.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">66.24</td>
<td id="S4.T2.6.2.20.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.20.8.1" class="ltx_text ltx_framed ltx_framed_underline">93.84</span></td>
<td id="S4.T2.6.2.20.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">80.04</td>
<td id="S4.T2.6.2.20.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">67.44</td>
<td id="S4.T2.6.2.20.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.20.11.1" class="ltx_text ltx_framed ltx_framed_underline">94.32</span></td>
<td id="S4.T2.6.2.20.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">80.88</td>
</tr>
<tr id="S4.T2.6.2.2" class="ltx_tr">
<td id="S4.T2.6.2.2.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">TinyChart+PoT</td>
<td id="S4.T2.6.2.2.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">3B</td>
<td id="S4.T2.6.2.2.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">@768<math id="S4.T2.6.2.2.1.m1.1" class="ltx_Math" alttext="\dagger" display="inline"><semantics id="S4.T2.6.2.2.1.m1.1a"><mo id="S4.T2.6.2.2.1.m1.1.1" xref="S4.T2.6.2.2.1.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="S4.T2.6.2.2.1.m1.1b"><ci id="S4.T2.6.2.2.1.m1.1.1.cmml" xref="S4.T2.6.2.2.1.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.2.2.1.m1.1c">\dagger</annotation></semantics></math>
</td>
<td id="S4.T2.6.2.2.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">70.24</td>
<td id="S4.T2.6.2.2.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">90.72</td>
<td id="S4.T2.6.2.2.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">80.48</td>
<td id="S4.T2.6.2.2.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">71.20</td>
<td id="S4.T2.6.2.2.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">91.44</td>
<td id="S4.T2.6.2.2.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">81.32</td>
<td id="S4.T2.6.2.2.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">72.40</td>
<td id="S4.T2.6.2.2.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">92.56</td>
<td id="S4.T2.6.2.2.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">82.48</td>
</tr>
<tr id="S4.T2.6.2.21" class="ltx_tr" style="background-color:#F2F2FF;">
<td id="S4.T2.6.2.21.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.1.1" class="ltx_text" style="background-color:#F2F2FF;">ChartMoE (Ours)</span></td>
<td id="S4.T2.6.2.21.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.2.1" class="ltx_text" style="background-color:#F2F2FF;">8B</span></td>
<td id="S4.T2.6.2.21.3" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.3.1" class="ltx_text" style="background-color:#F2F2FF;">@490</span></td>
<td id="S4.T2.6.2.21.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.4.1" class="ltx_text ltx_framed ltx_framed_underline" style="background-color:#F2F2FF;">71.36</span></td>
<td id="S4.T2.6.2.21.5" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.5.1" class="ltx_text" style="background-color:#F2F2FF;">91.04</span></td>
<td id="S4.T2.6.2.21.6" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.6.1" class="ltx_text ltx_framed ltx_framed_underline" style="background-color:#F2F2FF;">81.20</span></td>
<td id="S4.T2.6.2.21.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.7.1" class="ltx_text ltx_framed ltx_framed_underline" style="background-color:#F2F2FF;">75.12</span></td>
<td id="S4.T2.6.2.21.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.8.1" class="ltx_text" style="background-color:#F2F2FF;">92.48</span></td>
<td id="S4.T2.6.2.21.9" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.9.1" class="ltx_text ltx_framed ltx_framed_underline" style="background-color:#F2F2FF;">83.80</span></td>
<td id="S4.T2.6.2.21.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.10.1" class="ltx_text ltx_framed ltx_framed_underline" style="background-color:#F2F2FF;">78.16</span></td>
<td id="S4.T2.6.2.21.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.11.1" class="ltx_text" style="background-color:#F2F2FF;">93.68</span></td>
<td id="S4.T2.6.2.21.12" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.21.12.1" class="ltx_text ltx_framed ltx_framed_underline" style="background-color:#F2F2FF;">85.92</span></td>
</tr>
<tr id="S4.T2.6.2.22" class="ltx_tr" style="background-color:#F2F2FF;">
<td id="S4.T2.6.2.22.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.1.1" class="ltx_text" style="background-color:#F2F2FF;">ChartMoE+PoT (Ours)</span></td>
<td id="S4.T2.6.2.22.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.2.1" class="ltx_text" style="background-color:#F2F2FF;">8B</span></td>
<td id="S4.T2.6.2.22.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.3.1" class="ltx_text" style="background-color:#F2F2FF;">@490</span></td>
<td id="S4.T2.6.2.22.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.4.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">78.32</span></td>
<td id="S4.T2.6.2.22.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.5.1" class="ltx_text" style="background-color:#F2F2FF;">90.96</span></td>
<td id="S4.T2.6.2.22.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.6.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">84.64</span></td>
<td id="S4.T2.6.2.22.7" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.7.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">80.16</span></td>
<td id="S4.T2.6.2.22.8" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.8.1" class="ltx_text" style="background-color:#F2F2FF;">92.32</span></td>
<td id="S4.T2.6.2.22.9" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.9.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">86.24</span></td>
<td id="S4.T2.6.2.22.10" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.10.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">82.08</span></td>
<td id="S4.T2.6.2.22.11" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.11.1" class="ltx_text" style="background-color:#F2F2FF;">93.60</span></td>
<td id="S4.T2.6.2.22.12" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T2.6.2.22.12.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">87.84</span></td>
</tr>
</table>
</span></div>
</figure>
<figure id="S4.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>The zero-shot performance on <span id="S4.T3.2.1" class="ltx_text ltx_font_bold ltx_font_italic">ChartBench</span>. No methods are fine-tuned on the trainset for fairness. We exclude PoT because ChartBench mainly assesses numerical extraction accuracy without math calculation.</figcaption>
<div id="S4.T3.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:305pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-39.7pt,27.9pt) scale(0.845078447533547,0.845078447533547) ;">
<table id="S4.T3.3.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T3.3.1.1" class="ltx_tr">
<td id="S4.T3.3.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" rowspan="2"><span id="S4.T3.3.1.1.1.1" class="ltx_text">Models</span></td>
<td id="S4.T3.3.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="4">Regular Type</td>
<td id="S4.T3.3.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="7">Extra Type</td>
<td id="S4.T3.3.1.1.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" rowspan="2"><span id="S4.T3.3.1.1.4.1" class="ltx_text">ALL</span></td>
</tr>
<tr id="S4.T3.3.1.2" class="ltx_tr">
<td id="S4.T3.3.1.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Line</td>
<td id="S4.T3.3.1.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Bar</td>
<td id="S4.T3.3.1.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Pie</td>
<td id="S4.T3.3.1.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Avg.</td>
<td id="S4.T3.3.1.2.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Area</td>
<td id="S4.T3.3.1.2.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Box</td>
<td id="S4.T3.3.1.2.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Radar</td>
<td id="S4.T3.3.1.2.8" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Scatter</td>
<td id="S4.T3.3.1.2.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Node</td>
<td id="S4.T3.3.1.2.10" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Comb.</td>
<td id="S4.T3.3.1.2.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Avg.</td>
</tr>
<tr id="S4.T3.3.1.3" class="ltx_tr">
<td id="S4.T3.3.1.3.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="13">General MLLMs</td>
</tr>
<tr id="S4.T3.3.1.4" class="ltx_tr">
<td id="S4.T3.3.1.4.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">LLaVA-v1.5</td>
<td id="S4.T3.3.1.4.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">29.12</td>
<td id="S4.T3.3.1.4.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">21.26</td>
<td id="S4.T3.3.1.4.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">17.28</td>
<td id="S4.T3.3.1.4.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">22.10</td>
<td id="S4.T3.3.1.4.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">21.73</td>
<td id="S4.T3.3.1.4.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">20.94</td>
<td id="S4.T3.3.1.4.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">27.50</td>
<td id="S4.T3.3.1.4.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">23.47</td>
<td id="S4.T3.3.1.4.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">36.80</td>
<td id="S4.T3.3.1.4.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">24.30</td>
<td id="S4.T3.3.1.4.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">24.96</td>
<td id="S4.T3.3.1.4.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">23.38</td>
</tr>
<tr id="S4.T3.3.1.5" class="ltx_tr">
<td id="S4.T3.3.1.5.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Qwen-VL</td>
<td id="S4.T3.3.1.5.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">38.00</td>
<td id="S4.T3.3.1.5.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">20.71</td>
<td id="S4.T3.3.1.5.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">38.24</td>
<td id="S4.T3.3.1.5.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">29.46</td>
<td id="S4.T3.3.1.5.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">28.83</td>
<td id="S4.T3.3.1.5.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">24.17</td>
<td id="S4.T3.3.1.5.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">35.00</td>
<td id="S4.T3.3.1.5.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">19.50</td>
<td id="S4.T3.3.1.5.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">18.50</td>
<td id="S4.T3.3.1.5.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">25.50</td>
<td id="S4.T3.3.1.5.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">26.56</td>
<td id="S4.T3.3.1.5.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">28.18</td>
</tr>
<tr id="S4.T3.3.1.6" class="ltx_tr">
<td id="S4.T3.3.1.6.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">DocOwl-v1.5</td>
<td id="S4.T3.3.1.6.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">49.60</td>
<td id="S4.T3.3.1.6.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">31.69</td>
<td id="S4.T3.3.1.6.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">31.54</td>
<td id="S4.T3.3.1.6.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">35.68</td>
<td id="S4.T3.3.1.6.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">12.27</td>
<td id="S4.T3.3.1.6.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">23.33</td>
<td id="S4.T3.3.1.6.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">22.50</td>
<td id="S4.T3.3.1.6.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">36.13</td>
<td id="S4.T3.3.1.6.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">29.60</td>
<td id="S4.T3.3.1.6.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">38.80</td>
<td id="S4.T3.3.1.6.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">27.38</td>
<td id="S4.T3.3.1.6.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">32.05</td>
</tr>
<tr id="S4.T3.3.1.7" class="ltx_tr">
<td id="S4.T3.3.1.7.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Mini-Gemini</td>
<td id="S4.T3.3.1.7.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">34.88</td>
<td id="S4.T3.3.1.7.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">36.12</td>
<td id="S4.T3.3.1.7.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">40.40</td>
<td id="S4.T3.3.1.7.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">36.77</td>
<td id="S4.T3.3.1.7.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">31.20</td>
<td id="S4.T3.3.1.7.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">23.33</td>
<td id="S4.T3.3.1.7.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">30.60</td>
<td id="S4.T3.3.1.7.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">35.20</td>
<td id="S4.T3.3.1.7.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">43.60</td>
<td id="S4.T3.3.1.7.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">27.90</td>
<td id="S4.T3.3.1.7.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">30.61</td>
<td id="S4.T3.3.1.7.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">34.37</td>
</tr>
<tr id="S4.T3.3.1.8" class="ltx_tr">
<td id="S4.T3.3.1.8.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">InternlmXC-v2</td>
<td id="S4.T3.3.1.8.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">68.16</td>
<td id="S4.T3.3.1.8.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">48.74</td>
<td id="S4.T3.3.1.8.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.8.4.1" class="ltx_text ltx_font_bold">56.60</span></td>
<td id="S4.T3.3.1.8.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">54.50</td>
<td id="S4.T3.3.1.8.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">27.47</td>
<td id="S4.T3.3.1.8.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.8.7.1" class="ltx_text ltx_font_bold">25.33</span></td>
<td id="S4.T3.3.1.8.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">40.10</td>
<td id="S4.T3.3.1.8.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">52.93</td>
<td id="S4.T3.3.1.8.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">50.40</td>
<td id="S4.T3.3.1.8.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">46.20</td>
<td id="S4.T3.3.1.8.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">39.72</td>
<td id="S4.T3.3.1.8.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">48.41</td>
</tr>
<tr id="S4.T3.3.1.9" class="ltx_tr">
<td id="S4.T3.3.1.9.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="13">Specialist Chart Models</td>
</tr>
<tr id="S4.T3.3.1.10" class="ltx_tr">
<td id="S4.T3.3.1.10.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Pix2Struct</td>
<td id="S4.T3.3.1.10.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">2.56</td>
<td id="S4.T3.3.1.10.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">2.37</td>
<td id="S4.T3.3.1.10.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">1.90</td>
<td id="S4.T3.3.1.10.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">2.33</td>
<td id="S4.T3.3.1.10.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">0.13</td>
<td id="S4.T3.3.1.10.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">0.13</td>
<td id="S4.T3.3.1.10.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">4.60</td>
<td id="S4.T3.3.1.10.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">0.67</td>
<td id="S4.T3.3.1.10.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">0.40</td>
<td id="S4.T3.3.1.10.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">3.20</td>
<td id="S4.T3.3.1.10.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">2.93</td>
<td id="S4.T3.3.1.10.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">2.16</td>
</tr>
<tr id="S4.T3.3.1.11" class="ltx_tr">
<td id="S4.T3.3.1.11.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Matcha</td>
<td id="S4.T3.3.1.11.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">6.80</td>
<td id="S4.T3.3.1.11.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">5.05</td>
<td id="S4.T3.3.1.11.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">3.60</td>
<td id="S4.T3.3.1.11.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">5.18</td>
<td id="S4.T3.3.1.11.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">0.27</td>
<td id="S4.T3.3.1.11.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">1.60</td>
<td id="S4.T3.3.1.11.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">6.20</td>
<td id="S4.T3.3.1.11.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">3.46</td>
<td id="S4.T3.3.1.11.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">5.40</td>
<td id="S4.T3.3.1.11.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">4.80</td>
<td id="S4.T3.3.1.11.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">5.81</td>
<td id="S4.T3.3.1.11.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">4.84</td>
</tr>
<tr id="S4.T3.3.1.12" class="ltx_tr">
<td id="S4.T3.3.1.12.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">UniChart</td>
<td id="S4.T3.3.1.12.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">7.04</td>
<td id="S4.T3.3.1.12.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">5.35</td>
<td id="S4.T3.3.1.12.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">4.30</td>
<td id="S4.T3.3.1.12.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">5.55</td>
<td id="S4.T3.3.1.12.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">3.86</td>
<td id="S4.T3.3.1.12.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">4.80</td>
<td id="S4.T3.3.1.12.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">11.60</td>
<td id="S4.T3.3.1.12.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">5.06</td>
<td id="S4.T3.3.1.12.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">15.80</td>
<td id="S4.T3.3.1.12.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">9.60</td>
<td id="S4.T3.3.1.12.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">8.30</td>
<td id="S4.T3.3.1.12.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">6.78</td>
</tr>
<tr id="S4.T3.3.1.13" class="ltx_tr">
<td id="S4.T3.3.1.13.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">Deplot+LLaVA-v1.6</td>
<td id="S4.T3.3.1.13.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">31.20</td>
<td id="S4.T3.3.1.13.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">26.46</td>
<td id="S4.T3.3.1.13.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">24.00</td>
<td id="S4.T3.3.1.13.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">27.09</td>
<td id="S4.T3.3.1.13.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">21.34</td>
<td id="S4.T3.3.1.13.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">13.34</td>
<td id="S4.T3.3.1.13.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">24.00</td>
<td id="S4.T3.3.1.13.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">41.34</td>
<td id="S4.T3.3.1.13.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">42.00</td>
<td id="S4.T3.3.1.13.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">31.00</td>
<td id="S4.T3.3.1.13.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">31.57</td>
<td id="S4.T3.3.1.13.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">27.62</td>
</tr>
<tr id="S4.T3.3.1.14" class="ltx_tr">
<td id="S4.T3.3.1.14.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="13">Chart MLLMs</td>
</tr>
<tr id="S4.T3.3.1.15" class="ltx_tr">
<td id="S4.T3.3.1.15.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">ChartVLM</td>
<td id="S4.T3.3.1.15.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">21.92</td>
<td id="S4.T3.3.1.15.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">14.16</td>
<td id="S4.T3.3.1.15.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">10.50</td>
<td id="S4.T3.3.1.15.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">15.16</td>
<td id="S4.T3.3.1.15.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">7.47</td>
<td id="S4.T3.3.1.15.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">7.87</td>
<td id="S4.T3.3.1.15.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">8.00</td>
<td id="S4.T3.3.1.15.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">7.87</td>
<td id="S4.T3.3.1.15.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">5.40</td>
<td id="S4.T3.3.1.15.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">10.50</td>
<td id="S4.T3.3.1.15.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">8.38</td>
<td id="S4.T3.3.1.15.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">11.96</td>
</tr>
<tr id="S4.T3.3.1.16" class="ltx_tr">
<td id="S4.T3.3.1.16.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">ChartLlama</td>
<td id="S4.T3.3.1.16.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">26.80</td>
<td id="S4.T3.3.1.16.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">18.83</td>
<td id="S4.T3.3.1.16.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">20.80</td>
<td id="S4.T3.3.1.16.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">20.99</td>
<td id="S4.T3.3.1.16.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">14.27</td>
<td id="S4.T3.3.1.16.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">12.00</td>
<td id="S4.T3.3.1.16.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">24.30</td>
<td id="S4.T3.3.1.16.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">27.73</td>
<td id="S4.T3.3.1.16.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">26.20</td>
<td id="S4.T3.3.1.16.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">25.80</td>
<td id="S4.T3.3.1.16.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">21.71</td>
<td id="S4.T3.3.1.16.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">21.31</td>
</tr>
<tr id="S4.T3.3.1.17" class="ltx_tr">
<td id="S4.T3.3.1.17.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">TinyChart</td>
<td id="S4.T3.3.1.17.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">32.40</td>
<td id="S4.T3.3.1.17.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">25.81</td>
<td id="S4.T3.3.1.17.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">22.50</td>
<td id="S4.T3.3.1.17.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">26.71</td>
<td id="S4.T3.3.1.17.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">10.13</td>
<td id="S4.T3.3.1.17.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">14.80</td>
<td id="S4.T3.3.1.17.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">13.40</td>
<td id="S4.T3.3.1.17.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">28.14</td>
<td id="S4.T3.3.1.17.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">10.80</td>
<td id="S4.T3.3.1.17.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">21.60</td>
<td id="S4.T3.3.1.17.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">22.56</td>
<td id="S4.T3.3.1.17.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">22.51</td>
</tr>
<tr id="S4.T3.3.1.18" class="ltx_tr">
<td id="S4.T3.3.1.18.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">OneChart</td>
<td id="S4.T3.3.1.18.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">41.28</td>
<td id="S4.T3.3.1.18.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">30.28</td>
<td id="S4.T3.3.1.18.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">29.60</td>
<td id="S4.T3.3.1.18.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">32.65</td>
<td id="S4.T3.3.1.18.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">19.07</td>
<td id="S4.T3.3.1.18.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">13.20</td>
<td id="S4.T3.3.1.18.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">24.60</td>
<td id="S4.T3.3.1.18.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">38.53</td>
<td id="S4.T3.3.1.18.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">34.80</td>
<td id="S4.T3.3.1.18.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">27.90</td>
<td id="S4.T3.3.1.18.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">31.91</td>
<td id="S4.T3.3.1.18.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">29.93</td>
</tr>
<tr id="S4.T3.3.1.19" class="ltx_tr">
<td id="S4.T3.3.1.19.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">ChartGemma</td>
<td id="S4.T3.3.1.19.2" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">50.48</td>
<td id="S4.T3.3.1.19.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">38.21</td>
<td id="S4.T3.3.1.19.4" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">32.10</td>
<td id="S4.T3.3.1.19.5" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">39.89</td>
<td id="S4.T3.3.1.19.6" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">28.27</td>
<td id="S4.T3.3.1.19.7" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">24.13</td>
<td id="S4.T3.3.1.19.8" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">28.10</td>
<td id="S4.T3.3.1.19.9" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">48.00</td>
<td id="S4.T3.3.1.19.10" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">41.80</td>
<td id="S4.T3.3.1.19.11" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">43.40</td>
<td id="S4.T3.3.1.19.12" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">42.47</td>
<td id="S4.T3.3.1.19.13" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">38.46</td>
</tr>
<tr id="S4.T3.3.1.20" class="ltx_tr" style="background-color:#F2F2FF;">
<td id="S4.T3.3.1.20.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.1.1" class="ltx_text" style="background-color:#F2F2FF;">ChartMoE (Ours)</span></td>
<td id="S4.T3.3.1.20.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.2.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">71.44</span></td>
<td id="S4.T3.3.1.20.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.3.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">51.57</span></td>
<td id="S4.T3.3.1.20.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.4.1" class="ltx_text ltx_framed ltx_framed_underline" style="background-color:#F2F2FF;">52.80</span></td>
<td id="S4.T3.3.1.20.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.5.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">56.31</span></td>
<td id="S4.T3.3.1.20.6" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.6.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">38.40</span></td>
<td id="S4.T3.3.1.20.7" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.7.1" class="ltx_text ltx_framed ltx_framed_underline" style="background-color:#F2F2FF;">24.13</span></td>
<td id="S4.T3.3.1.20.8" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.8.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">40.20</span></td>
<td id="S4.T3.3.1.20.9" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.9.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">62.67</span></td>
<td id="S4.T3.3.1.20.10" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.10.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">58.00</span></td>
<td id="S4.T3.3.1.20.11" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.11.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">49.20</span></td>
<td id="S4.T3.3.1.20.12" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.12.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">55.58</span></td>
<td id="S4.T3.3.1.20.13" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.T3.3.1.20.13.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">51.67</span></td>
</tr>
</table>
</span></div>
</figure>
<div id="S4.SS3.p3" class="ltx_para ltx_noindent">
<p id="S4.SS3.p3.1" class="ltx_p"><span id="S4.SS3.p3.1.1" class="ltx_text ltx_font_bold">Chart MLLMs.</span>
Chart-oriented MLLMs are the promising direction for utilizing prior knowledge of LLMs.
ChartLLaMA <cite class="ltx_cite ltx_citemacro_cite">Han et al. (<a href="#bib.bib14" title="" class="ltx_ref">2023</a>)</cite> proposes to generate high-quality instruction data to improve chart question-answering capabilities.
ChartAst <cite class="ltx_cite ltx_citemacro_cite">Meng et al. (<a href="#bib.bib37" title="" class="ltx_ref">2024</a>)</cite> suggests aligning the connector with chart-table pairs before supervised fine-tuning.
ChartVLM <cite class="ltx_cite ltx_citemacro_cite">Xia et al. (<a href="#bib.bib51" title="" class="ltx_ref">2024</a>)</cite> uses different decoders to handle different questions based on their difficulty.
ChartInstruct <cite class="ltx_cite ltx_citemacro_cite">Masry et al. (<a href="#bib.bib35" title="" class="ltx_ref">2024a</a>)</cite> conducts large-scale chart instruction tuning based on general MLLMs.
OneChart <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a href="#bib.bib10" title="" class="ltx_ref">2024</a>)</cite> converts the chart to the table with a dedicated decoder and uses LLMs to answer questions.
ChartGemma <cite class="ltx_cite ltx_citemacro_cite">Masry et al. (<a href="#bib.bib36" title="" class="ltx_ref">2024b</a>)</cite> proposes more instruction data and achieves efficient chart reasoning based on SigLIP <cite class="ltx_cite ltx_citemacro_cite">Zhai et al. (<a href="#bib.bib57" title="" class="ltx_ref">2023</a>)</cite> and Gemma-2B <cite class="ltx_cite ltx_citemacro_cite">Team et al. (<a href="#bib.bib43" title="" class="ltx_ref">2024a</a>)</cite>.
TinyChart <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a href="#bib.bib58" title="" class="ltx_ref">2024</a>)</cite> adopts token merge to reduce visual tokens and enable high-resolution chart input.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Main Results</h3>

<div id="S4.SS4.p1" class="ltx_para ltx_noindent">
<p id="S4.SS4.p1.1" class="ltx_p"><span id="S4.SS4.p1.1.1" class="ltx_text ltx_font_bold">ChartQA.</span>
Tab.<a href="#S4.T2" title="Table 2 ‣ 4.3 Comparative Models ‣ 4 Experiment ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> presents detailed comparisons of ChartMoE on ChartQA. ChartMoE significantly improves the baseline (InternlmXC-v2) performance (72.00% vs. 84.64%, +12.64%<math id="S4.SS4.p1.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.SS4.p1.1.m1.1a"><mo stretchy="false" id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">\uparrow</annotation></semantics></math> in Acc.@0.05). Compared to previous SOTA (TinyChart+PoT @768 pixel), ChartMoE consistently surpasses it across all metrics. The PoT effectively enhances the model’s mathematical reasoning capabilities, which is a common shortfall in current MLLMs. ChartMoE integrates better with PoT, indicating that it accurately extracts fundamental elements from charts. The questions in <span id="S4.SS4.p1.1.2" class="ltx_text ltx_font_italic">Human</span> part tend to be more computationally complex and challenging, and ChartMoE shows more significant improvement in this area, especially after incorporating PoT. Notably, our error analysis in the <span id="S4.SS4.p1.1.3" class="ltx_text ltx_font_italic">Augmented</span> part reveals that many errors stem from limitations of the evaluation criteria, i.e., string matching. For instance, it is marked incorrect if the prediction is <span id="S4.SS4.p1.1.4" class="ltx_text ltx_font_typewriter">It is between 2003 and 2005</span> and the ground truth is <span id="S4.SS4.p1.1.5" class="ltx_text ltx_font_typewriter">(2003, 2005)</span>. <span id="S4.SS4.p1.1.6" class="ltx_text ltx_font_italic">Forcing performance improvement on it may lead to model overfitting.</span></p>
</div>
<div id="S4.SS4.p2" class="ltx_para ltx_noindent">
<p id="S4.SS4.p2.2" class="ltx_p"><span id="S4.SS4.p2.2.1" class="ltx_text ltx_font_bold">ChartBench.</span>
Tab. <a href="#S4.T3" title="Table 3 ‣ 4.3 Comparative Models ‣ 4 Experiment ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> presents detailed comparisons of ChartMoE on ChartBench. None of the models, including our ChartMoE, undergo supervised finetuning on the ChartBench trainset to ensure fair experimental comparison. Chart-specific models typically underperform due to their limited generalization ability, which prevents them from effectively managing charts with sparse data point annotations (<math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="&lt;10" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><mrow id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml"><mi id="S4.SS4.p2.1.m1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.2.cmml"></mi><mo id="S4.SS4.p2.1.m1.1.1.1" xref="S4.SS4.p2.1.m1.1.1.1.cmml">&lt;</mo><mn id="S4.SS4.p2.1.m1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><apply id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1"><lt id="S4.SS4.p2.1.m1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1"></lt><csymbol cd="latexml" id="S4.SS4.p2.1.m1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.2">absent</csymbol><cn type="integer" id="S4.SS4.p2.1.m1.1.1.3.cmml" xref="S4.SS4.p2.1.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">&lt;10</annotation></semantics></math>%). Deplot shows a distinct advantage over these types of models (27.62%) with the assistance of LLaVA-v1.6. The baseline (InternlmXC-v2) demonstrates strong generalization on ChartBench (48.41%), which may benefit from pre-training instructions designed for unannotated charts. Without additional design, ChartMoE improves the baseline performance comprehensively (48.41% vs. 51.67%), especially on extra chart types (39.72% vs. 55.58%, +15.86%<math id="S4.SS4.p2.2.m2.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.SS4.p2.2.m2.1a"><mo stretchy="false" id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><ci id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">\uparrow</annotation></semantics></math>).</p>
</div>
<div id="S4.SS4.p3" class="ltx_para ltx_noindent">
<p id="S4.SS4.p3.3" class="ltx_p"><span id="S4.SS4.p3.3.1" class="ltx_text ltx_font_bold">ChartFC &amp; ChartCheck.</span>
Tab. <a href="#S4.T4" title="Table 4 ‣ 4.4 Main Results ‣ 4 Experiment ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> compares ChartMoE on the synthetic ChartFC and real-world ChartCheck. ChartMoE consistently outperforms SOTA (e.g., ChartGemma +4.4%<math id="S4.SS4.p3.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.SS4.p3.1.m1.1a"><mo stretchy="false" id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.1b"><ci id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.1c">\uparrow</annotation></semantics></math> on ChartFC) and significantly improves the performance compared to InternlmXC-v2 (+6.83%<math id="S4.SS4.p3.2.m2.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.SS4.p3.2.m2.1a"><mo stretchy="false" id="S4.SS4.p3.2.m2.1.1" xref="S4.SS4.p3.2.m2.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.2.m2.1b"><ci id="S4.SS4.p3.2.m2.1.1.cmml" xref="S4.SS4.p3.2.m2.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.2.m2.1c">\uparrow</annotation></semantics></math> and +8.76%<math id="S4.SS4.p3.3.m3.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.SS4.p3.3.m3.1a"><mo stretchy="false" id="S4.SS4.p3.3.m3.1.1" xref="S4.SS4.p3.3.m3.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.3.m3.1b"><ci id="S4.SS4.p3.3.m3.1.1.cmml" xref="S4.SS4.p3.3.m3.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.3.m3.1c">\uparrow</annotation></semantics></math> on ChartCheck T1 and T2, respectively). Note that this is implemented without using training data for supervised fine-tuning, demonstrating ChartMoE’s strong generalization capabilities.</p>
</div>
<div id="S4.SS4.2" class="ltx_logical-block ltx_minipage ltx_align_middle" style="width:147.4pt;">
<div id="S4.SS4.2.p1" class="ltx_para">
<div id="S4.SS4.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:433.6pt;height:293.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(97.2pt,-65.9pt) scale(1.81304199838523,1.81304199838523) ;">
<table id="S4.SS4.1.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.SS4.1.1.1.2" class="ltx_tr">
<td id="S4.SS4.1.1.1.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" rowspan="2"><span id="S4.SS4.1.1.1.2.1.1" class="ltx_text">Models</span></td>
<td id="S4.SS4.1.1.1.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" rowspan="2"><span id="S4.SS4.1.1.1.2.2.1" class="ltx_text">ChartFC</span></td>
<td id="S4.SS4.1.1.1.2.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="2">ChartCheck</td>
</tr>
<tr id="S4.SS4.1.1.1.3" class="ltx_tr">
<td id="S4.SS4.1.1.1.3.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">T1</td>
<td id="S4.SS4.1.1.1.3.2" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">T2</td>
</tr>
<tr id="S4.SS4.1.1.1.4" class="ltx_tr">
<td id="S4.SS4.1.1.1.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">PaliGemma</td>
<td id="S4.SS4.1.1.1.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">58.26</td>
<td id="S4.SS4.1.1.1.4.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">67.34</td>
<td id="S4.SS4.1.1.1.4.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">68.50</td>
</tr>
<tr id="S4.SS4.1.1.1.1" class="ltx_tr">
<td id="S4.SS4.1.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">LLaVA-v1.5<math id="S4.SS4.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\dagger" display="inline"><semantics id="S4.SS4.1.1.1.1.1.m1.1a"><mo id="S4.SS4.1.1.1.1.1.m1.1.1" xref="S4.SS4.1.1.1.1.1.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.1.1.1.1.1.m1.1b"><ci id="S4.SS4.1.1.1.1.1.m1.1.1.cmml" xref="S4.SS4.1.1.1.1.1.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.1.1.1.1.1.m1.1c">\dagger</annotation></semantics></math>
</td>
<td id="S4.SS4.1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">61.28</td>
<td id="S4.SS4.1.1.1.1.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">70.22</td>
<td id="S4.SS4.1.1.1.1.4" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">70.03</td>
</tr>
<tr id="S4.SS4.1.1.1.5" class="ltx_tr">
<td id="S4.SS4.1.1.1.5.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">InternlmXC-v2</td>
<td id="S4.SS4.1.1.1.5.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">65.93</td>
<td id="S4.SS4.1.1.1.5.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">72.04</td>
<td id="S4.SS4.1.1.1.5.4" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">70.44</td>
</tr>
<tr id="S4.SS4.1.1.1.6" class="ltx_tr">
<td id="S4.SS4.1.1.1.6.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">ChartInstruct-LLama2</td>
<td id="S4.SS4.1.1.1.6.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">69.57</td>
<td id="S4.SS4.1.1.1.6.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">70.11</td>
<td id="S4.SS4.1.1.1.6.4" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">68.80</td>
</tr>
<tr id="S4.SS4.1.1.1.7" class="ltx_tr">
<td id="S4.SS4.1.1.1.7.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">ChartInstruct-FlanT5XL</td>
<td id="S4.SS4.1.1.1.7.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">70.27</td>
<td id="S4.SS4.1.1.1.7.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">72.03</td>
<td id="S4.SS4.1.1.1.7.4" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">73.80</td>
</tr>
<tr id="S4.SS4.1.1.1.8" class="ltx_tr">
<td id="S4.SS4.1.1.1.8.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">ChartGemma</td>
<td id="S4.SS4.1.1.1.8.2" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;">70.33</td>
<td id="S4.SS4.1.1.1.8.3" class="ltx_td ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">71.50</td>
<td id="S4.SS4.1.1.1.8.4" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">74.31</td>
</tr>
<tr id="S4.SS4.1.1.1.9" class="ltx_tr" style="background-color:#F2F2FF;">
<td id="S4.SS4.1.1.1.9.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.SS4.1.1.1.9.1.1" class="ltx_text" style="background-color:#F2F2FF;">ChartMoE (Ours)</span></td>
<td id="S4.SS4.1.1.1.9.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.SS4.1.1.1.9.2.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">74.73</span></td>
<td id="S4.SS4.1.1.1.9.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.SS4.1.1.1.9.3.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">78.87</span></td>
<td id="S4.SS4.1.1.1.9.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S4.SS4.1.1.1.9.4.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">79.20</span></td>
</tr>
</table>
</span></div>
</div>
<figure id="S4.T4" class="ltx_table ltx_align_center">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span>The accuracy performance on <span id="S4.T4.5.1" class="ltx_text ltx_font_bold ltx_font_italic">ChartFC</span> and <span id="S4.T4.6.2" class="ltx_text ltx_font_bold ltx_font_italic">ChartCheck</span>. <math id="S4.T4.2.m1.1" class="ltx_Math" alttext="\dagger" display="inline"><semantics id="S4.T4.2.m1.1b"><mo id="S4.T4.2.m1.1.1" xref="S4.T4.2.m1.1.1.cmml">†</mo><annotation-xml encoding="MathML-Content" id="S4.T4.2.m1.1c"><ci id="S4.T4.2.m1.1.1.cmml" xref="S4.T4.2.m1.1.1">†</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.m1.1d">\dagger</annotation></semantics></math>: tuning with ChartGemma instructions.</figcaption>
</figure>
</div>
<div id="S4.SS4.4" class="ltx_logical-block ltx_minipage ltx_align_middle" style="width:121.4pt;">
<div id="S4.SS4.4.p1" class="ltx_para">
<img src="/html/2409.03277/assets/x2.png" id="S4.SS4.3.g1" class="ltx_graphics ltx_img_landscape" width="461" height="368" alt="[Uncaptioned image]">
</div>
<figure id="S4.F4" class="ltx_figure ltx_align_center">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Training loss of different initialization.</figcaption>
</figure>
</div>
<div id="S4.SS4.6" class="ltx_logical-block ltx_minipage ltx_align_middle" style="width:147.4pt;">
<div id="S4.SS4.6.p1" class="ltx_para">
<img src="/html/2409.03277/assets/x3.png" id="S4.SS4.5.g1" class="ltx_graphics ltx_img_landscape" width="461" height="307" alt="[Uncaptioned image]">
</div>
<figure id="S4.F5" class="ltx_figure ltx_align_center">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Top-2 selected expert distribution on ChartBench.</figcaption>
</figure>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Further Study</h2>

<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Model Architecture Ablation</h3>

<div id="S5.SS1.p1" class="ltx_para ltx_noindent">
<p id="S5.SS1.p1.1" class="ltx_p">We investigate the impact of three factors on our MoE connector: the number of experts, the number of activated experts, and the expert initialization manner. All the experiments are conducted with ChartQA training data and evaluated on ChartQA test split with relax accuracy metric.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para ltx_noindent">
<p id="S5.SS1.p2.1" class="ltx_p"><span id="S5.SS1.p2.1.1" class="ltx_text ltx_font_bold">Effect of the Expert Initialization Manner.</span>
The initialization strategy plays a crucial role in determining the performance of the MoE connector. Effective initialization is essential to ensure that each expert performs its designated function optimally. As illustrated in Tab. <a href="#S5.T6" title="Table 6 ‣ 5.2 Training Strategy Ablation ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> row 1-3, we explore the impact of 3 initialization strategies for the MoE connector. Random initialization serves as a baseline but struggles with convergence (refer to Fig. <a href="#S4.F4" title="Figure 4 ‣ 4.4 Main Results ‣ 4 Experiment ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>), resulting in a suboptimal accuracy of 73.20% at Acc.@0.05. Following CuMo <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib23" title="" class="ltx_ref">2024</a>)</cite>, we employ the Co-Upcycle strategy by replicating the <span id="S5.SS1.p2.1.2" class="ltx_text ltx_font_italic">table-JSON-code</span> aligned connector for all experts. Given the same starting point, this approach lacks expert diversity, which limits its effectiveness, resulting in an accuracy of 77.48% at Acc.@0.05. In contrast, our initialization assigns distinct parameters to each expert. This tailored approach enables each expert to capitalize on its specific strengths, resulting in the highest performance, achieving 78.76% in Acc.@0.05.</p>
</div>
<div id="S5.SS1.p3" class="ltx_para ltx_noindent">
<p id="S5.SS1.p3.1" class="ltx_p"><span id="S5.SS1.p3.1.1" class="ltx_text ltx_font_bold">Effect of Number of Experts and Activated Experts.</span>
As shown in rows 3-4 of Tab. <a href="#S5.T6" title="Table 6 ‣ 5.2 Training Strategy Ablation ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, we compare ChartMoE configurations with 4 and 8 experts, keeping 2 experts activated. The 8 experts are initialized in pairs using the 4 methods illustrated in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3.1 Architecture ‣ 3 ChartMoE ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>c. ChartMoE achieves 78.76% in Acc.@0.05 with 4 experts, which is slightly higher than the 78.60% achieved with 8 experts, showing a marginal increase of +0.16%. In rows 4-5, we compare the performance of configurations with 2 and 4 activated experts, finding similar results: 78.60% vs. 78.64% in Acc.@0.05. This analysis indicates that simply increasing the number of experts or activated experts does not necessarily lead to better performance. The configuration with 4 experts and 2 activated experts effectively balances complexity and performance, making it a suitable choice for ChartMoE.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Training Strategy Ablation</h3>

<div id="S5.SS2.p1" class="ltx_para ltx_noindent">
<p id="S5.SS2.p1.1" class="ltx_p">We analyze the impact of the training strategy across alignment and supervised fine-tuning stages. We use InternlmXC-v2 with ChartQA fine-tuning as our baseline, maintaining the same hyperparameters as the chart-specific annealing tuning stage.</p>
</div>
<figure id="S5.T6" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.T6.fig1" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:208.1pt;">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Table 5: </span>Ablation study on ChartMoE architecture w.r.t. the total / activated / initialization of connector experts. All experiments are conducted on ChartQA.</figcaption>
<div id="S5.T6.fig1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:165.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(52.1pt,-19.9pt) scale(1.31643571217961,1.31643571217961) ;">
<table id="S5.T6.fig1.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S5.T6.fig1.1.1.1" class="ltx_tr">
<td id="S5.T6.fig1.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" rowspan="2"><span id="S5.T6.fig1.1.1.1.1.1" class="ltx_text"><span id="S5.T6.fig1.1.1.1.1.1.1" class="ltx_text"></span> <span id="S5.T6.fig1.1.1.1.1.1.2" class="ltx_text">
<span id="S5.T6.fig1.1.1.1.1.1.2.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T6.fig1.1.1.1.1.1.2.1.1" class="ltx_tr">
<span id="S5.T6.fig1.1.1.1.1.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">Total</span></span>
<span id="S5.T6.fig1.1.1.1.1.1.2.1.2" class="ltx_tr">
<span id="S5.T6.fig1.1.1.1.1.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">Experts</span></span>
</span></span> <span id="S5.T6.fig1.1.1.1.1.1.3" class="ltx_text"></span></span></td>
<td id="S5.T6.fig1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" rowspan="2"><span id="S5.T6.fig1.1.1.1.2.1" class="ltx_text"><span id="S5.T6.fig1.1.1.1.2.1.1" class="ltx_text"></span> <span id="S5.T6.fig1.1.1.1.2.1.2" class="ltx_text">
<span id="S5.T6.fig1.1.1.1.2.1.2.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T6.fig1.1.1.1.2.1.2.1.1" class="ltx_tr">
<span id="S5.T6.fig1.1.1.1.2.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">Activated</span></span>
<span id="S5.T6.fig1.1.1.1.2.1.2.1.2" class="ltx_tr">
<span id="S5.T6.fig1.1.1.1.2.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">Experts</span></span>
</span></span> <span id="S5.T6.fig1.1.1.1.2.1.3" class="ltx_text"></span></span></td>
<td id="S5.T6.fig1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" rowspan="2"><span id="S5.T6.fig1.1.1.1.3.1" class="ltx_text"><span id="S5.T6.fig1.1.1.1.3.1.1" class="ltx_text"></span> <span id="S5.T6.fig1.1.1.1.3.1.2" class="ltx_text">
<span id="S5.T6.fig1.1.1.1.3.1.2.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T6.fig1.1.1.1.3.1.2.1.1" class="ltx_tr">
<span id="S5.T6.fig1.1.1.1.3.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">Experts</span></span>
<span id="S5.T6.fig1.1.1.1.3.1.2.1.2" class="ltx_tr">
<span id="S5.T6.fig1.1.1.1.3.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:5.0pt;padding-right:5.0pt;">Initialization</span></span>
</span></span> <span id="S5.T6.fig1.1.1.1.3.1.3" class="ltx_text"></span></span></td>
<td id="S5.T6.fig1.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="3">Relax Acc @0.05</td>
</tr>
<tr id="S5.T6.fig1.1.1.2" class="ltx_tr">
<td id="S5.T6.fig1.1.1.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Human</td>
<td id="S5.T6.fig1.1.1.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Aug.</td>
<td id="S5.T6.fig1.1.1.2.3" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Avg.</td>
</tr>
<tr id="S5.T6.fig1.1.1.3" class="ltx_tr">
<td id="S5.T6.fig1.1.1.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">4</td>
<td id="S5.T6.fig1.1.1.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">2</td>
<td id="S5.T6.fig1.1.1.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Random</td>
<td id="S5.T6.fig1.1.1.3.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">59.68</td>
<td id="S5.T6.fig1.1.1.3.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">86.72</td>
<td id="S5.T6.fig1.1.1.3.6" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">73.20</td>
</tr>
<tr id="S5.T6.fig1.1.1.4" class="ltx_tr">
<td id="S5.T6.fig1.1.1.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">4</td>
<td id="S5.T6.fig1.1.1.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">2</td>
<td id="S5.T6.fig1.1.1.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Aligned Co-Upcycle</td>
<td id="S5.T6.fig1.1.1.4.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">64.96</td>
<td id="S5.T6.fig1.1.1.4.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">90.00</td>
<td id="S5.T6.fig1.1.1.4.6" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">77.48</td>
</tr>
<tr id="S5.T6.fig1.1.1.5" class="ltx_tr" style="background-color:#F2F2FF;">
<td id="S5.T6.fig1.1.1.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S5.T6.fig1.1.1.5.1.1" class="ltx_text" style="background-color:#F2F2FF;">4</span></td>
<td id="S5.T6.fig1.1.1.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S5.T6.fig1.1.1.5.2.1" class="ltx_text" style="background-color:#F2F2FF;">2</span></td>
<td id="S5.T6.fig1.1.1.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S5.T6.fig1.1.1.5.3.1" class="ltx_text" style="background-color:#F2F2FF;">Ours</span></td>
<td id="S5.T6.fig1.1.1.5.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S5.T6.fig1.1.1.5.4.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">67.92</span></td>
<td id="S5.T6.fig1.1.1.5.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S5.T6.fig1.1.1.5.5.1" class="ltx_text" style="background-color:#F2F2FF;">89.60</span></td>
<td id="S5.T6.fig1.1.1.5.6" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S5.T6.fig1.1.1.5.6.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">78.76</span></td>
</tr>
<tr id="S5.T6.fig1.1.1.6" class="ltx_tr">
<td id="S5.T6.fig1.1.1.6.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">8</td>
<td id="S5.T6.fig1.1.1.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">2</td>
<td id="S5.T6.fig1.1.1.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Ours</td>
<td id="S5.T6.fig1.1.1.6.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">67.20</td>
<td id="S5.T6.fig1.1.1.6.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S5.T6.fig1.1.1.6.5.1" class="ltx_text ltx_font_bold">90.00</span></td>
<td id="S5.T6.fig1.1.1.6.6" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">78.60</td>
</tr>
<tr id="S5.T6.fig1.1.1.7" class="ltx_tr">
<td id="S5.T6.fig1.1.1.7.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">8</td>
<td id="S5.T6.fig1.1.1.7.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">4</td>
<td id="S5.T6.fig1.1.1.7.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Ours</td>
<td id="S5.T6.fig1.1.1.7.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">67.68</td>
<td id="S5.T6.fig1.1.1.7.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">89.60</td>
<td id="S5.T6.fig1.1.1.7.6" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">78.64</td>
</tr>
</table>
</span></div>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.T6.fig2" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:212.5pt;">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Table 6: </span>Ablation study on the training strategy, about the alignment stage, high-quality knowledge learning period and chart-specific anneal tuning period.</figcaption>
<div id="S5.T6.fig2.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:170.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(56.6pt,-22.3pt) scale(1.35318055800653,1.35318055800653) ;">
<table id="S5.T6.fig2.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S5.T6.fig2.1.1.1" class="ltx_tr">
<td id="S5.T6.fig2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" rowspan="2"><span id="S5.T6.fig2.1.1.1.1.1" class="ltx_text">ChartMoE Recipe</span></td>
<td id="S5.T6.fig2.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;" colspan="3">Relax Acc @0.05</td>
</tr>
<tr id="S5.T6.fig2.1.1.2" class="ltx_tr">
<td id="S5.T6.fig2.1.1.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Human</td>
<td id="S5.T6.fig2.1.1.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Aug.</td>
<td id="S5.T6.fig2.1.1.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Avg.</td>
</tr>
<tr id="S5.T6.fig2.1.1.3" class="ltx_tr">
<td id="S5.T6.fig2.1.1.3.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">Baseline: InternlmXC-v2 + ChartQA</td>
<td id="S5.T6.fig2.1.1.3.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">63.68</td>
<td id="S5.T6.fig2.1.1.3.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">87.68</td>
<td id="S5.T6.fig2.1.1.3.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">75.68</td>
</tr>
<tr id="S5.T6.fig2.1.1.4" class="ltx_tr">
<td id="S5.T6.fig2.1.1.4.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">+ <span id="S5.T6.fig2.1.1.4.1.1" class="ltx_text ltx_font_italic">table-JSON-code</span> Aligned Connector</td>
<td id="S5.T6.fig2.1.1.4.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">64.24</td>
<td id="S5.T6.fig2.1.1.4.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">90.16</td>
<td id="S5.T6.fig2.1.1.4.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">77.20</td>
</tr>
<tr id="S5.T6.fig2.1.1.5" class="ltx_tr">
<td id="S5.T6.fig2.1.1.5.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">+ <span id="S5.T6.fig2.1.1.5.1.1" class="ltx_text ltx_font_italic">Top2-in-4</span> ChartMoE Connector</td>
<td id="S5.T6.fig2.1.1.5.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">67.92</td>
<td id="S5.T6.fig2.1.1.5.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">89.60</td>
<td id="S5.T6.fig2.1.1.5.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">78.76</td>
</tr>
<tr id="S5.T6.fig2.1.1.6" class="ltx_tr">
<td id="S5.T6.fig2.1.1.6.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">+ <span id="S5.T6.fig2.1.1.6.1.1" class="ltx_text ltx_font_italic">MMC</span> High-Quality Knowledge Learning</td>
<td id="S5.T6.fig2.1.1.6.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">67.84</td>
<td id="S5.T6.fig2.1.1.6.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">90.24</td>
<td id="S5.T6.fig2.1.1.6.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">79.04</td>
</tr>
<tr id="S5.T6.fig2.1.1.7" class="ltx_tr" style="background-color:#F2F2FF;">
<td id="S5.T6.fig2.1.1.7.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S5.T6.fig2.1.1.7.1.1" class="ltx_text" style="background-color:#F2F2FF;">+ <span id="S5.T6.fig2.1.1.7.1.1.1" class="ltx_text ltx_font_italic">ChartGemma</span> Instructions</span></td>
<td id="S5.T6.fig2.1.1.7.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S5.T6.fig2.1.1.7.2.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">71.36</span></td>
<td id="S5.T6.fig2.1.1.7.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S5.T6.fig2.1.1.7.3.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">91.04</span></td>
<td id="S5.T6.fig2.1.1.7.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="S5.T6.fig2.1.1.7.4.1" class="ltx_text ltx_font_bold" style="background-color:#F2F2FF;">81.20</span></td>
</tr>
</table>
</span></div>
</figure>
</div>
</div>
</figure>
<figure id="S5.T8" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.T8.fig1" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:173.4pt;">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Table 7: </span>Ablation study on the expert of MoE connector. We ignore the gating network and adopt specific expert output.</figcaption>
<div id="S5.T8.fig1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:197pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(98.0pt,-44.5pt) scale(1.82448497340321,1.82448497340321) ;">
<table id="S5.T8.fig1.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S5.T8.fig1.1.1.1" class="ltx_tr">
<td id="S5.T8.fig1.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:10.0pt;padding-right:10.0pt;" rowspan="2"><span id="S5.T8.fig1.1.1.1.1.1" class="ltx_text">Connector</span></td>
<td id="S5.T8.fig1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:10.0pt;padding-right:10.0pt;" colspan="3">Relax Acc @0.05</td>
</tr>
<tr id="S5.T8.fig1.1.1.2" class="ltx_tr">
<td id="S5.T8.fig1.1.1.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">Human</td>
<td id="S5.T8.fig1.1.1.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">Aug.</td>
<td id="S5.T8.fig1.1.1.2.3" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">Avg.</td>
</tr>
<tr id="S5.T8.fig1.1.1.3" class="ltx_tr">
<td id="S5.T8.fig1.1.1.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">Expert 0 (Vanilla)</td>
<td id="S5.T8.fig1.1.1.3.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig1.1.1.3.2.1" class="ltx_text ltx_font_bold">69.76</span></td>
<td id="S5.T8.fig1.1.1.3.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig1.1.1.3.3.1" class="ltx_text ltx_font_bold">89.84</span></td>
<td id="S5.T8.fig1.1.1.3.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig1.1.1.3.4.1" class="ltx_text ltx_font_bold">79.80</span></td>
</tr>
<tr id="S5.T8.fig1.1.1.4" class="ltx_tr">
<td id="S5.T8.fig1.1.1.4.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:10.0pt;padding-right:10.0pt;">Expert 1 (Table)</td>
<td id="S5.T8.fig1.1.1.4.2" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;">63.60</td>
<td id="S5.T8.fig1.1.1.4.3" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;">89.12</td>
<td id="S5.T8.fig1.1.1.4.4" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;">76.36</td>
</tr>
<tr id="S5.T8.fig1.1.1.5" class="ltx_tr">
<td id="S5.T8.fig1.1.1.5.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:10.0pt;padding-right:10.0pt;">Expert 2 (JSON)</td>
<td id="S5.T8.fig1.1.1.5.2" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;">60.64</td>
<td id="S5.T8.fig1.1.1.5.3" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;">82.48</td>
<td id="S5.T8.fig1.1.1.5.4" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;">71.56</td>
</tr>
<tr id="S5.T8.fig1.1.1.6" class="ltx_tr">
<td id="S5.T8.fig1.1.1.6.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:10.0pt;padding-right:10.0pt;">Expert 3 (Code)</td>
<td id="S5.T8.fig1.1.1.6.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig1.1.1.6.2.1" class="ltx_text ltx_framed ltx_framed_underline">66.88</span></td>
<td id="S5.T8.fig1.1.1.6.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig1.1.1.6.3.1" class="ltx_text ltx_framed ltx_framed_underline">89.36</span></td>
<td id="S5.T8.fig1.1.1.6.4" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig1.1.1.6.4.1" class="ltx_text ltx_framed ltx_framed_underline">78.12</span></td>
</tr>
</table>
</span></div>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.T8.fig2" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:255.8pt;">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Table 8: </span>Ablation study on alignment pertaining tasks. We adopt different alignment tasks for baseline (linear connector) and further conduct supervised fine-tuning on the ChartQA train set.</figcaption>
<div id="S5.T8.fig2.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:137.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(46.5pt,-14.8pt) scale(1.27327035620602,1.27327035620602) ;">
<table id="S5.T8.fig2.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S5.T8.fig2.1.1.1" class="ltx_tr">
<td id="S5.T8.fig2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:10.0pt;padding-right:10.0pt;" rowspan="2"><span id="S5.T8.fig2.1.1.1.1.1" class="ltx_text">Alignment</span></td>
<td id="S5.T8.fig2.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding-left:10.0pt;padding-right:10.0pt;" colspan="3">
<span id="S5.T8.fig2.1.1.1.2.1" class="ltx_text ltx_font_italic">w/o</span> ChartQA SFT</td>
<td id="S5.T8.fig2.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:10.0pt;padding-right:10.0pt;" colspan="3">
<span id="S5.T8.fig2.1.1.1.3.1" class="ltx_text ltx_font_italic">w/i</span> ChartQA SFT</td>
</tr>
<tr id="S5.T8.fig2.1.1.2" class="ltx_tr">
<td id="S5.T8.fig2.1.1.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">Human</td>
<td id="S5.T8.fig2.1.1.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">Aug.</td>
<td id="S5.T8.fig2.1.1.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">Avg.</td>
<td id="S5.T8.fig2.1.1.2.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">Human</td>
<td id="S5.T8.fig2.1.1.2.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">Aug.</td>
<td id="S5.T8.fig2.1.1.2.6" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">Avg.</td>
</tr>
<tr id="S5.T8.fig2.1.1.3" class="ltx_tr">
<td id="S5.T8.fig2.1.1.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">Vanilla</td>
<td id="S5.T8.fig2.1.1.3.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.3.2.1" class="ltx_text ltx_font_bold">62.72</span></td>
<td id="S5.T8.fig2.1.1.3.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.3.3.1" class="ltx_text ltx_font_bold">81.28</span></td>
<td id="S5.T8.fig2.1.1.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.3.4.1" class="ltx_text ltx_font_bold">72.00</span></td>
<td id="S5.T8.fig2.1.1.3.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">63.68</td>
<td id="S5.T8.fig2.1.1.3.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">87.68</td>
<td id="S5.T8.fig2.1.1.3.7" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:10.0pt;padding-right:10.0pt;">75.68</td>
</tr>
<tr id="S5.T8.fig2.1.1.4" class="ltx_tr">
<td id="S5.T8.fig2.1.1.4.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:10.0pt;padding-right:10.0pt;">Table</td>
<td id="S5.T8.fig2.1.1.4.2" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.4.2.1" class="ltx_text ltx_framed ltx_framed_underline">51.28</span></td>
<td id="S5.T8.fig2.1.1.4.3" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.4.3.1" class="ltx_text ltx_framed ltx_framed_underline">71.76</span></td>
<td id="S5.T8.fig2.1.1.4.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.4.4.1" class="ltx_text ltx_framed ltx_framed_underline">61.52</span></td>
<td id="S5.T8.fig2.1.1.4.5" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;">63.92</td>
<td id="S5.T8.fig2.1.1.4.6" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;">89.28</td>
<td id="S5.T8.fig2.1.1.4.7" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;">76.60</td>
</tr>
<tr id="S5.T8.fig2.1.1.5" class="ltx_tr">
<td id="S5.T8.fig2.1.1.5.1" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:10.0pt;padding-right:10.0pt;">JSON</td>
<td id="S5.T8.fig2.1.1.5.2" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;">44.40</td>
<td id="S5.T8.fig2.1.1.5.3" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;">65.12</td>
<td id="S5.T8.fig2.1.1.5.4" class="ltx_td ltx_align_center ltx_border_r" style="padding-left:10.0pt;padding-right:10.0pt;">54.76</td>
<td id="S5.T8.fig2.1.1.5.5" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.5.5.1" class="ltx_text ltx_font_bold">64.88</span></td>
<td id="S5.T8.fig2.1.1.5.6" class="ltx_td ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.5.6.1" class="ltx_text ltx_framed ltx_framed_underline">89.84</span></td>
<td id="S5.T8.fig2.1.1.5.7" class="ltx_td ltx_nopad_r ltx_align_center" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.5.7.1" class="ltx_text ltx_font_bold">77.36</span></td>
</tr>
<tr id="S5.T8.fig2.1.1.6" class="ltx_tr">
<td id="S5.T8.fig2.1.1.6.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:10.0pt;padding-right:10.0pt;">Code</td>
<td id="S5.T8.fig2.1.1.6.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:10.0pt;padding-right:10.0pt;">50.16</td>
<td id="S5.T8.fig2.1.1.6.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:10.0pt;padding-right:10.0pt;">71.20</td>
<td id="S5.T8.fig2.1.1.6.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding-left:10.0pt;padding-right:10.0pt;">60.68</td>
<td id="S5.T8.fig2.1.1.6.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.6.5.1" class="ltx_text ltx_framed ltx_framed_underline">64.24</span></td>
<td id="S5.T8.fig2.1.1.6.6" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.6.6.1" class="ltx_text ltx_font_bold">90.16</span></td>
<td id="S5.T8.fig2.1.1.6.7" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" style="padding-left:10.0pt;padding-right:10.0pt;"><span id="S5.T8.fig2.1.1.6.7.1" class="ltx_text ltx_framed ltx_framed_underline">77.20</span></td>
</tr>
</table>
</span></div>
</figure>
</div>
</div>
</figure>
<div id="S5.SS2.p2" class="ltx_para ltx_noindent">
<p id="S5.SS2.p2.2" class="ltx_p"><span id="S5.SS2.p2.2.1" class="ltx_text ltx_font_bold">Effect of Alignment Strategy.</span>
As shown in rows 1-3 of Tab. <a href="#S5.T6" title="Table 6 ‣ 5.2 Training Strategy Ablation ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, translating the chart image into structural text formats such as table, JSON, and code during the alignment stage significantly enhances performance in downstream chart understanding tasks. After applying <span id="S5.SS2.p2.2.2" class="ltx_text ltx_font_italic">table-JSON-code</span> alignment, the model achieves 77.20% in Acc.@0.05, representing a notable improvement of +1.52%<math id="S5.SS2.p2.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S5.SS2.p2.1.m1.1a"><mo stretchy="false" id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><ci id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">\uparrow</annotation></semantics></math>. When combined with our proposed MoE architecture, performance further increases to 78.76%, a total gain of +3.08%<math id="S5.SS2.p2.2.m2.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S5.SS2.p2.2.m2.1a"><mo stretchy="false" id="S5.SS2.p2.2.m2.1.1" xref="S5.SS2.p2.2.m2.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.2.m2.1b"><ci id="S5.SS2.p2.2.m2.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.2.m2.1c">\uparrow</annotation></semantics></math> in Acc.@0.05.</p>
</div>
<div id="S5.SS2.p3" class="ltx_para ltx_noindent">
<p id="S5.SS2.p3.1" class="ltx_p"><span id="S5.SS2.p3.1.1" class="ltx_text ltx_font_bold">Effect of Supervise Fine-Tuning Strategy.</span>
As shown in rows 4-5 of Tab. <a href="#S5.T6" title="Table 6 ‣ 5.2 Training Strategy Ablation ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, we divide the supervised fine-tuning stage into two phases. By incorporating high-quality knowledge learning using the MMC dataset, ChartMoE achieves 79.04% Acc.@0.05, reflecting a 3.36% improvement. In the chart-specific annealing tuning phase, we introduce ChartGemma data to enhance the model’s reasoning and PoT capabilities, leading the model to peak performance (81.20%, +5.52%<math id="S5.SS2.p3.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S5.SS2.p3.1.m1.1a"><mo stretchy="false" id="S5.SS2.p3.1.m1.1.1" xref="S5.SS2.p3.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.1.m1.1b"><ci id="S5.SS2.p3.1.m1.1.1.cmml" xref="S5.SS2.p3.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.1.m1.1c">\uparrow</annotation></semantics></math>).</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>In-depth Analysis</h3>

<div id="S5.SS3.p1" class="ltx_para ltx_noindent">
<p id="S5.SS3.p1.1" class="ltx_p"><span id="S5.SS3.p1.1.1" class="ltx_text ltx_font_bold">Effect of the Each Expert.</span>
To explore the role of each expert in ChartMoE, we bypass the gating network and manually select the output of specific experts. As shown in Tab. <a href="#S5.T8" title="Table 8 ‣ 5.2 Training Strategy Ablation ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, E0 performs the best (79.80%), which is consistent with the distribution in Fig. <a href="#S4.F5" title="Figure 5 ‣ 4.4 Main Results ‣ 4 Experiment ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. However, this doesn’t mean other experts lack relevance, which may offer crucial insights at key moments (Fig.<a href="#S5.F6" title="Figure 6 ‣ 5.3 In-depth Analysis ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>).</p>
</div>
<div id="S5.SS3.p2" class="ltx_para ltx_noindent">
<p id="S5.SS3.p2.1" class="ltx_p"><span id="S5.SS3.p2.1.1" class="ltx_text ltx_font_bold">Effect of Alignment Task.</span>
As shown in Tab.<a href="#S5.T8" title="Table 8 ‣ 5.2 Training Strategy Ablation ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, we explore various alignment tasks based on the baseline (linear connector). After alignment, the performance significantly declines compared to the vanilla version. However, the aligned model exhibits a substantial improvement after supervised finetuning on the ChartQA train split, which is consistent with previous observations <cite class="ltx_cite ltx_citemacro_cite">Meng et al. (<a href="#bib.bib37" title="" class="ltx_ref">2024</a>); Yan et al. (<a href="#bib.bib53" title="" class="ltx_ref">2024</a>)</cite>. Specifically, alignment based on JSON and code exhibits remarkable improvement over the one based on the table.</p>
</div>
<figure id="S5.F6" class="ltx_figure"><span id="S5.F6.pic1" class="ltx_picture ltx_centering" style="width:432.2pt;height:167.7pt;">\begin{overpic}[width=433.62pt,grid=False]{Fig/figs/token_wise_expert.pdf}
\end{overpic}</span>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Visualizations of top-1 expert selection. Only the boundaries of the merged tokens are plotted.</figcaption>
</figure>
</section>
<section id="S5.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span>Expert Distribution Visualiztion</h3>

<div id="S5.SS4.p1" class="ltx_para ltx_noindent">
<p id="S5.SS4.p1.1" class="ltx_p">As shown in Fig. <a href="#S4.F5" title="Figure 5 ‣ 4.4 Main Results ‣ 4 Experiment ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> and Fig. <a href="#S5.F6" title="Figure 6 ‣ 5.3 In-depth Analysis ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, we visualize the expert distribution in the MoE connector on the ChartBench test set. We designate the vanilla connector as E0, while E1-3 corresponds to connectors aligned with tables, JSON, and code. As depicted in Fig. <a href="#S4.F5" title="Figure 5 ‣ 4.4 Main Results ‣ 4 Experiment ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, the trend is consistent across different chart types, with E0 and E3 being the most frequently selected connectors. The expert selection shows no extreme bias, as even the least chosen, E1, accounts for over 10%.</p>
</div>
<div id="S5.SS4.p2" class="ltx_para ltx_noindent">
<p id="S5.SS4.p2.1" class="ltx_p">We further visualize the expert selection for each image token, revealing the preferences of each expert. As shown in Fig. <a href="#S5.F6" title="Figure 6 ‣ 5.3 In-depth Analysis ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, E0 is the primary choice for background tokens, explaining its dominance in Fig. <a href="#S4.F5" title="Figure 5 ‣ 4.4 Main Results ‣ 4 Experiment ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. E1 and E2 are more frequently chosen by tokens from titles, axis labels, or legends, as these elements are commonly found in tables and JSON files. ChartMoE tends to use E3 to focus on the data points and visual elements within the chart, e.g., data points on the line, digital text, and edges in a node chart. These components are essential for accurately re-drawing the charts.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>

<div id="S6.p1" class="ltx_para ltx_noindent">
<p id="S6.p1.1" class="ltx_p">We introduce ChartMoE, a multi-task aligned and instruction-tuned MLLM designed for complex chart understanding and reasoning.
We replace the linear connector with the MoE architecture and initialize each expert with parameters derived from different alignment tasks.
We further present the ChartMoE-Align dataset, a synthetic collection of over 900K table-json-code-chart quadruples, to facilitate alignment training across different experts.
This approach preserves the strengths of each alignment task, ensuring efficient training and superior model performance.
ChartMoE outperforms the previous state-of-the-art on several benchmarks by a large margin and excels in real-world applications such as chart question answering, translation, and editing.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Akhtar et al. (2023a)</span>
<span class="ltx_bibblock">
Mubashara Akhtar, Oana Cocarascu, and Elena Paslaru Bontas Simperl.

</span>
<span class="ltx_bibblock">Reading and reasoning over chart images for evidence-based automated
fact-checking.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2301.11843</em>, 2023a.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Akhtar et al. (2023b)</span>
<span class="ltx_bibblock">
Mubashara Akhtar, Nikesh Subedi, Vivek Gupta, Sahar Tahmasebi, Oana Cocarascu,
and Elena Simperl.

</span>
<span class="ltx_bibblock">Chartcheck: An evidence-based fact-checking dataset over real-world
chart images.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2311.07453</em>, 2023b.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Alayrac et al. (2022)</span>
<span class="ltx_bibblock">
Jean-Baptiste Alayrac, Jeff Donahue, Pauline Luc, et al.

</span>
<span class="ltx_bibblock">Flamingo: a visual language model for few-shot learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">proceedings of NeurIPS</em>, volume 35, pp.  23716–23736,
2022.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al. (2023a)</span>
<span class="ltx_bibblock">
Jinze Bai, Shuai Bai, Yunfei Chu, et al.

</span>
<span class="ltx_bibblock">Qwen technical report.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2309.16609</em>, 2023a.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al. (2023b)</span>
<span class="ltx_bibblock">
Jinze Bai, Shuai Bai, Shusheng Yang, et al.

</span>
<span class="ltx_bibblock">Qwen-vl: A frontier large vision-language model with versatile
abilities.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2308.12966</em>, 2023b.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Beyer et al. (2024)</span>
<span class="ltx_bibblock">
Lucas Beyer, Andreas Steiner, André Susano Pinto, et al.

</span>
<span class="ltx_bibblock">Paligemma: A versatile 3b vlm for transfer.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2407.07726</em>, 2024.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al. (2020)</span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann, Nick Ryder, et al.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">proceedings of NeurIPS</em>, volume 33, pp.  1877–1901, 2020.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cai et al. (2024)</span>
<span class="ltx_bibblock">
Zheng Cai, Maosong Cao, et al.

</span>
<span class="ltx_bibblock">Internlm2 technical report.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2403.17297</em>, 2024.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carbune et al. (2024)</span>
<span class="ltx_bibblock">
Victor Carbune, Hassan Mansoor, Fangyu Liu, et al.

</span>
<span class="ltx_bibblock">Chart-based reasoning: Transferring capabilities from llms to vlms.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">proceedings of NAACL</em>, 2024.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2024)</span>
<span class="ltx_bibblock">
Jinyue Chen, Lingyu Kong, Haoran Wei, Chenglong Liu, Zheng Ge, Liang Zhao,
Jianjian Sun, Chunrui Han, and Xiangyu Zhang.

</span>
<span class="ltx_bibblock">Onechart: Purify the chart structural extraction via one auxiliary
token.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2404.09987</em>, 2024.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2023a)</span>
<span class="ltx_bibblock">
Jun Chen, Deyao Zhu, Xiaoqian Shen, et al.

</span>
<span class="ltx_bibblock">Minigpt-v2: large language model as a unified interface for
vision-language multi-task learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2310.09478</em>, 2023a.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2023b)</span>
<span class="ltx_bibblock">
Wenhu Chen, Xueguang Ma, Xinyi Wang, and William W. Cohen.

</span>
<span class="ltx_bibblock">Program of thoughts prompting: Disentangling computation from
reasoning for numerical reasoning tasks.

</span>
<span class="ltx_bibblock"><em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">TMLR</em>, 2023b.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong et al. (2024)</span>
<span class="ltx_bibblock">
Xiaoyi Dong, Pan Zhang, Yuhang Zang, et al.

</span>
<span class="ltx_bibblock">Internlm-xcomposer2: Mastering free-form text-image composition and
comprehension in vision-language large model.

</span>
<span class="ltx_bibblock"><em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2401.16420</em>, 2024.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Han et al. (2023)</span>
<span class="ltx_bibblock">
Yucheng Han, Chi Zhang, Xin Chen, et al.

</span>
<span class="ltx_bibblock">Chartllama: A multimodal llm for chart understanding and generation.

</span>
<span class="ltx_bibblock"><em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2311.16483</em>, 2023.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2016)</span>
<span class="ltx_bibblock">
Kaiming He, Xiangyu Zhang, Shaoqing Ren, and Jian Sun.

</span>
<span class="ltx_bibblock">Deep residual learning for image recognition.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">proceedings of CVPR</em>, pp.  770–778, 2016.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hoque et al. (2017)</span>
<span class="ltx_bibblock">
Enamul Hoque, Vidya Setlur, Melanie Tory, and Isaac Dykeman.

</span>
<span class="ltx_bibblock">Applying pragmatics principles for interaction with visual analytics.

</span>
<span class="ltx_bibblock"><em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">IEEE TVCG</em>, 24(1):309–318, 2017.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hsu et al. (2021)</span>
<span class="ltx_bibblock">
Ting-Yao Hsu, C Lee Giles, and Ting-Hao’Kenneth’ Huang.

</span>
<span class="ltx_bibblock">Scicap: Generating captions for scientific figures.

</span>
<span class="ltx_bibblock">In <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">Findings of ACL</em>, 2021.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al. (2024)</span>
<span class="ltx_bibblock">
Anwen Hu, Haiyang Xu, Jiabo Ye, Ming Yan, Liang Zhang, Bo Zhang, Chen Li,
Ji Zhang, Qin Jin, Fei Huang, et al.

</span>
<span class="ltx_bibblock">mplug-docowl 1.5: Unified structure learning for ocr-free document
understanding.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2403.12895</em>, 2024.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al. (2022)</span>
<span class="ltx_bibblock">
Edward J Hu, Yelong Shen, Phillip Wallis, et al.

</span>
<span class="ltx_bibblock">LoRA: Low-rank adaptation of large language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">proceedings of ICLR</em>, 2022.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Komatsuzaki et al. (2023)</span>
<span class="ltx_bibblock">
Aran Komatsuzaki, Joan Puigcerver, James Lee-Thorp, et al.

</span>
<span class="ltx_bibblock">Sparse upcycling: Training mixture-of-experts from dense checkpoints.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">proceedings of ICLR</em>, 2023.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lee et al. (2023)</span>
<span class="ltx_bibblock">
Kenton Lee, Mandar Joshi, Iulia Raluca Turc, et al.

</span>
<span class="ltx_bibblock">Pix2struct: Screenshot parsing as pretraining for visual language
understanding.

</span>
<span class="ltx_bibblock">In <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">proceedings of ICML</em>, pp.  18893–18912, 2023.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lee (2023)</span>
<span class="ltx_bibblock">
Minhyeok Lee.

</span>
<span class="ltx_bibblock">Gelu activation function in deep learning: a comprehensive
mathematical analysis and performance.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2305.12073</em>, 2023.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024)</span>
<span class="ltx_bibblock">
Jiachen Li, Xinyao Wang, Sijie Zhu, Chia-Wen Kuo, Lu Xu, Fan Chen, Jitesh Jain,
Humphrey Shi, and Longyin Wen.

</span>
<span class="ltx_bibblock">Cumo: Scaling multimodal llm with co-upcycled mixture-of-experts.

</span>
<span class="ltx_bibblock"><em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2405.05949</em>, 2024.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023)</span>
<span class="ltx_bibblock">
Junnan Li, Dongxu Li, Silvio Savarese, et al.

</span>
<span class="ltx_bibblock">BLIP-2: bootstrapping language-image pre-training with frozen image
encoders and large language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">proceedings of ICML</em>, volume 202, pp.  19730–19742, 2023.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2023)</span>
<span class="ltx_bibblock">
Ziyi Lin, Chris Liu, Renrui Zhang, et al.

</span>
<span class="ltx_bibblock">Sphinx: The joint mixing of weights, tasks, and visual embeddings for
multi-modal large language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2311.07575</em>, 2023.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023a)</span>
<span class="ltx_bibblock">
Fangyu Liu, Julian Martin Eisenschlos, Francesco Piccinno, Syrine Krichene,
et al.

</span>
<span class="ltx_bibblock">Deplot: One-shot visual language reasoning by plot-to-table
translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">Findings of ACL</em>, pp.  10381–10399, 2023a.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023b)</span>
<span class="ltx_bibblock">
Fangyu Liu, Francesco Piccinno, Syrine Krichene, et al.

</span>
<span class="ltx_bibblock">Matcha: Enhancing visual language pretraining with math reasoning and
chart derendering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">proceedings of ACL</em>, pp.  12756–12770, 2023b.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023c)</span>
<span class="ltx_bibblock">
Fuxiao Liu, Xiaoyang Wang, Wenlin Yao, Jianshu Chen, Kaiqiang Song, Sangwoo
Cho, Yaser Yacoob, and Dong Yu.

</span>
<span class="ltx_bibblock">MMC: advancing multimodal chart understanding with large-scale
instruction tuning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">proceedings of ACL</em>, 2023c.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023d)</span>
<span class="ltx_bibblock">
Haotian Liu, Chunyuan Li, Qingyang Wu, and Yong Jae Lee.

</span>
<span class="ltx_bibblock">Visual instruction tuning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">proceedings of NeurIPS</em>, 2023d.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2024a)</span>
<span class="ltx_bibblock">
Haotian Liu, Chunyuan Li, Yuheng Li, Bo Li, Yuanhan Zhang, Sheng Shen, and
Yong Jae Lee.

</span>
<span class="ltx_bibblock">Llava-next: Improved reasoning, ocr, and world knowledge, January
2024a.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://llava-vl.github.io/blog/2024-01-30-llava-next/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://llava-vl.github.io/blog/2024-01-30-llava-next/</a>.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2024b)</span>
<span class="ltx_bibblock">
Haotian Liu, Chunyuan Li, Yuheng Li, et al.

</span>
<span class="ltx_bibblock">Improved baselines with visual instruction tuning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">proceedings of CVPR</em>, 2024b.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2024c)</span>
<span class="ltx_bibblock">
Mengsha Liu, Daoyuan Chen, Yaliang Li, Guian Fang, and Ying Shen.

</span>
<span class="ltx_bibblock">Chartthinker: A contextual chain-of-thought approach to optimized
chart summarization.

</span>
<span class="ltx_bibblock"><em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2403.11236</em>, 2024c.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Masry et al. (2022)</span>
<span class="ltx_bibblock">
Ahmed Masry, Do Xuan Long, Jia Qing Tan, et al.

</span>
<span class="ltx_bibblock">Chartqa: A benchmark for question answering about charts with visual
and logical reasoning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">proceedings of ACL</em>, 2022.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Masry et al. (2023)</span>
<span class="ltx_bibblock">
Ahmed Masry, Parsa Kavehzadeh, Xuan Long Do, Enamul Hoque, and Shafiq Joty.

</span>
<span class="ltx_bibblock">Unichart: A universal vision-language pretrained model for chart
comprehension and reasoning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">proceedings of EMNLP</em>, 2023.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Masry et al. (2024a)</span>
<span class="ltx_bibblock">
Ahmed Masry, Mehrad Shahmohammadi, Md Rizwan Parvez, Enamul Hoque, and Shafiq
Joty.

</span>
<span class="ltx_bibblock">Chartinstruct: Instruction tuning for chart comprehension and
reasoning.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2403.09028</em>, 2024a.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Masry et al. (2024b)</span>
<span class="ltx_bibblock">
Ahmed Masry, Megh Thakkar, Aayush Bajaj, Aaryaman Kartha, Enamul Hoque, and
Shafiq Joty.

</span>
<span class="ltx_bibblock">Chartgemma: Visual instruction-tuning for chart reasoning in the
wild.

</span>
<span class="ltx_bibblock"><em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2407.04172</em>, 2024b.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Meng et al. (2024)</span>
<span class="ltx_bibblock">
Fanqing Meng, Wenqi Shao, Quanfeng Lu, et al.

</span>
<span class="ltx_bibblock">Chartassisstant: A universal chart multimodal language model via
chart-to-table pre-training and multitask instruction tuning.

</span>
<span class="ltx_bibblock"><em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2401.02384</em>, 2024.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Methani et al. (2020)</span>
<span class="ltx_bibblock">
Nitesh Methani, Pritha Ganguly, Mitesh M Khapra, and Pratyush Kumar.

</span>
<span class="ltx_bibblock">Plotqa: Reasoning over scientific plots.

</span>
<span class="ltx_bibblock">In <em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">proceedings of CVPR</em>, pp.  1527–1536, 2020.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2023)</span>
<span class="ltx_bibblock">
OpenAI.

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2303.08774</em>, 2023.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Oquab et al. (2023)</span>
<span class="ltx_bibblock">
Maxime Oquab, Timothée Darcet, Théo Moutakanni, et al.

</span>
<span class="ltx_bibblock">Dinov2: Learning robust visual features without supervision.

</span>
<span class="ltx_bibblock"><em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">TMLR</em>, 2023.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2018)</span>
<span class="ltx_bibblock">
Alec Radford, Karthik Narasimhan, Tim Salimans, Ilya Sutskever, et al.

</span>
<span class="ltx_bibblock">Improving language understanding by generative pre-training.

</span>
<span class="ltx_bibblock"><em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">OpenAI blog</em>, 2018.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2021)</span>
<span class="ltx_bibblock">
Alec Radford, Jong Wook Kim, Chris Hallacy, et al.

</span>
<span class="ltx_bibblock">Learning transferable visual models from natural language
supervision.

</span>
<span class="ltx_bibblock">In <em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">proceedings of ICML</em>, pp.  8748–8763. PMLR, 2021.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Team et al. (2024a)</span>
<span class="ltx_bibblock">
Gemma Team, Thomas Mesnard, Cassidy Hardin, et al.

</span>
<span class="ltx_bibblock">Gemma: Open models based on gemini research and technology.

</span>
<span class="ltx_bibblock"><em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2403.08295</em>, 2024a.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Team et al. (2024b)</span>
<span class="ltx_bibblock">
Gemma Team, Thomas Mesnard, Cassidy Hardin, et al.

</span>
<span class="ltx_bibblock">Gemma: Open models based on gemini research and technology.

</span>
<span class="ltx_bibblock"><em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2407.21783</em>, 2024b.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tong et al. (2024a)</span>
<span class="ltx_bibblock">
Shengbang Tong, Ellis Brown, Penghao Wu, Sanghyun Woo, Manoj Middepogu,
Sai Charitha Akula, Jihan Yang, Shusheng Yang, Adithya Iyer, Xichen Pan,
et al.

</span>
<span class="ltx_bibblock">Cambrian-1: A fully open, vision-centric exploration of multimodal
llms.

</span>
<span class="ltx_bibblock"><em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2406.16860</em>, 2024a.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tong et al. (2024b)</span>
<span class="ltx_bibblock">
Shengbang Tong, Zhuang Liu, Yuexiang Zhai, Yi Ma, Yann LeCun, and Saining Xie.

</span>
<span class="ltx_bibblock">Eyes wide shut? exploring the visual shortcomings of multimodal llms.

</span>
<span class="ltx_bibblock">In <em id="bib.bib46.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, pp.  9568–9578, 2024b.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Thibaut Lavril, Gautier Izacard, et al.

</span>
<span class="ltx_bibblock">Llama: Open and efficient foundation language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib47.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2302.13971</em>, 2023.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023)</span>
<span class="ltx_bibblock">
Peifang Wang, Olga Golovneva, Armen Aghajanyan, et al.

</span>
<span class="ltx_bibblock">DOMINO: A dual-system for multi-step visual language reasoning.

</span>
<span class="ltx_bibblock"><em id="bib.bib48.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2310.02804</em>, 2023.

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, et al.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language
models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib49.1.1" class="ltx_emph ltx_font_italic">proceedings of NeurIPS</em>, volume 35, pp.  24824–24837,
2022.

</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2024)</span>
<span class="ltx_bibblock">
Yifan Wu, Lutao Yan, Yuyu Luo, Yunhai Wang, and Nan Tang.

</span>
<span class="ltx_bibblock">Evaluating task-based effectiveness of mllms on charts.

</span>
<span class="ltx_bibblock"><em id="bib.bib50.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2405.07001</em>, 2024.

</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xia et al. (2024)</span>
<span class="ltx_bibblock">
Renqiu Xia, Bo Zhang, Hancheng Ye, Xiangchao Yan, et al.

</span>
<span class="ltx_bibblock">Chartx &amp; chartvlm: A versatile benchmark and foundation model
for complicated chart reasoning.

</span>
<span class="ltx_bibblock"><em id="bib.bib51.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2402.12185</em>, 2024.

</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2023)</span>
<span class="ltx_bibblock">
Zhengzhuo Xu, Sinan Du, Yiyan Qi, Chengjin Xu, Chun Yuan, and Jian Guo.

</span>
<span class="ltx_bibblock">Chartbench: A benchmark for complex visual reasoning in charts.

</span>
<span class="ltx_bibblock"><em id="bib.bib52.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2312.15915</em>, 2023.

</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yan et al. (2024)</span>
<span class="ltx_bibblock">
Pengyu Yan, Mahesh Bhosale, Jay Lal, Bikhyat Adhikari, and David S. Doermann.

</span>
<span class="ltx_bibblock">Chartreformer: Natural language-driven chart image editing.

</span>
<span class="ltx_bibblock"><em id="bib.bib53.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2403.00209</em>, 2024.

</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ye et al. (2023a)</span>
<span class="ltx_bibblock">
Jiabo Ye, Anwen Hu, Haiyang Xu, et al.

</span>
<span class="ltx_bibblock">Ureader: Universal ocr-free visually-situated language understanding
with multimodal large language model.

</span>
<span class="ltx_bibblock">In <em id="bib.bib54.1.1" class="ltx_emph ltx_font_italic">Findings of ACL</em>, 2023a.

</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ye et al. (2023b)</span>
<span class="ltx_bibblock">
Qinghao Ye, Haiyang Xu, Guohai Xu, et al.

</span>
<span class="ltx_bibblock">mplug-owl: Modularization empowers large language models with
multimodality.

</span>
<span class="ltx_bibblock"><em id="bib.bib55.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2304.14178</em>, 2023b.

</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ye et al. (2023c)</span>
<span class="ltx_bibblock">
Qinghao Ye, Haiyang Xu, Jiabo Ye, et al.

</span>
<span class="ltx_bibblock">mplug-owl2: Revolutionizing multi-modal large language model with
modality collaboration.

</span>
<span class="ltx_bibblock"><em id="bib.bib56.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2311.04257</em>, 2023c.

</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhai et al. (2023)</span>
<span class="ltx_bibblock">
Xiaohua Zhai, Basil Mustafa, Alexander Kolesnikov, and Lucas Beyer.

</span>
<span class="ltx_bibblock">Sigmoid loss for language image pre-training.

</span>
<span class="ltx_bibblock">In <em id="bib.bib57.1.1" class="ltx_emph ltx_font_italic">proceedings of ICCV</em>, pp.  11975–11986, 2023.

</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2024)</span>
<span class="ltx_bibblock">
Liang Zhang, Anwen Hu, Haiyang Xu, Ming Yan, Yichen Xu, Qin Jin, Ji Zhang, and
Fei Huang.

</span>
<span class="ltx_bibblock">Tinychart: Efficient chart understanding with visual token merging
and program-of-thoughts learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib58.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2404.16635</em>, 2024.

</span>
</li>
<li id="bib.bib59" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2022)</span>
<span class="ltx_bibblock">
Susan Zhang, Stephen Roller, Naman Goyal, et al.

</span>
<span class="ltx_bibblock">Opt: Open pre-trained transformer language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib59.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2205.01068</em>, 2022.

</span>
</li>
<li id="bib.bib60" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al. (2023)</span>
<span class="ltx_bibblock">
Lianmin Zheng, Wei-Lin Chiang, Ying Sheng, et al.

</span>
<span class="ltx_bibblock">Judging llm-as-a-judge with mt-bench and chatbot arena.

</span>
<span class="ltx_bibblock">In <em id="bib.bib60.1.1" class="ltx_emph ltx_font_italic">proceedings of NeurIPS</em>, 2023.

</span>
</li>
<li id="bib.bib61" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuowan et al. (2024)</span>
<span class="ltx_bibblock">
Li Zhuowan, Jasani Bhavan, Tang Peng, and Ghadar Shabnam.

</span>
<span class="ltx_bibblock">Synthesize step-by-step: Tools, templates and llms as data generators
for reasoning-based chart vqa.

</span>
<span class="ltx_bibblock">In <em id="bib.bib61.1.1" class="ltx_emph ltx_font_italic">proceedings of CVPR</em>, 2024.

</span>
</li>
<li id="bib.bib62" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zoph et al. (2022)</span>
<span class="ltx_bibblock">
Barret Zoph, Irwan Bello, Sameer Kumar, Nan Du, Yanping Huang, Jeff Dean,
Noam M. Shazeer, and William Fedus.

</span>
<span class="ltx_bibblock">St-moe: Designing stable and transferable sparse expert models.

</span>
<span class="ltx_bibblock"><em id="bib.bib62.1.1" class="ltx_emph ltx_font_italic">arXiv preprint:2202.08906</em>, 2022.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Additional experimental Settings and results</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Top-2 experts distribution</h3>

<div id="A1.SS1.p1" class="ltx_para ltx_noindent">
<p id="A1.SS1.p1.1" class="ltx_p">Our ChartMoEemploys MoE connector expert parameters initialized with various alignment tasks. To investigate the impact of these initialization methods on model performance, we present the comparisons in Tab. <a href="#S5.T6" title="Table 6 ‣ 5.2 Training Strategy Ablation ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>&amp; <a href="#S5.T8" title="Table 8 ‣ 5.2 Training Strategy Ablation ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>&amp; <a href="#S5.T8" title="Table 8 ‣ 5.2 Training Strategy Ablation ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> and Fig. <a href="#S4.F4" title="Figure 4 ‣ 4.4 Main Results ‣ 4 Experiment ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>&amp;<a href="#S4.F5" title="Figure 5 ‣ 4.4 Main Results ‣ 4 Experiment ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. For a deeper analysis, we explore how different initialization methods affect expert selection. As shown in Fig. <a href="#A1.F7" title="Figure 7 ‣ A.1 Top-2 experts distribution ‣ Appendix A Additional experimental Settings and results ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>, both random initialization and co-upcycle result in a more uniform distribution of experts. However, this uniformity does not inherently lead to improved performance or interpretability, possibly due to insufficient differentiation among the experts. In contrast, our ChartMoE clearly prefers specialized roles, as illustrated in Fig. <a href="#S5.F6" title="Figure 6 ‣ 5.3 In-depth Analysis ‣ 5 Further Study ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>&amp; <a href="#A2.F8" title="Figure 8 ‣ Appendix B Additional Vsualizations of top-1 expert selection ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>&amp; <a href="#A2.F9" title="Figure 9 ‣ Appendix B Additional Vsualizations of top-1 expert selection ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>.</p>
</div>
<figure id="A1.F7" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A1.F7.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/x4.png" id="A1.F7.sf1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="307" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>Random</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A1.F7.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/x5.png" id="A1.F7.sf2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="307" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Co-Upcycle</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="A1.F7.sf3" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/x6.png" id="A1.F7.sf3.g1" class="ltx_graphics ltx_img_landscape" width="461" height="307" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span>ChartMoE</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>The distribution of Top-2 experts after supervised fine-tuning with three expert initialization methods. We calculate the proportion of the top 2 experts selected by the MoE connector on the Test split of ChartBench.</figcaption>
</figure>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Summary of hyperparameter settings</h3>

<div id="A1.SS2.p1" class="ltx_para ltx_noindent">
<p id="A1.SS2.p1.1" class="ltx_p">The training process of our ChartMoEis structured into three distinct phases: Alignment Pretraining, High-Quality Knowledge Learning and Chart-Specific Annealing Tuning. Table <a href="#A1.T9" title="Table 9 ‣ A.2 Summary of hyperparameter settings ‣ Appendix A Additional experimental Settings and results ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> provides a comprehensive overview of the hyperparameter configurations employed during each of these training stages.</p>
</div>
<figure id="A1.T9" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 9: </span>Training hyperparameters of ChartMoE for all stages.</figcaption>
<div id="A1.T9.9" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:258.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-85.1pt,50.7pt) scale(0.718190479800852,0.718190479800852) ;">
<table id="A1.T9.9.9" class="ltx_tabular ltx_align_middle">
<tr id="A1.T9.9.9.10" class="ltx_tr">
<td id="A1.T9.9.9.10.1" class="ltx_td ltx_align_left ltx_border_tt" style="padding:2.5pt 2.0pt;"><span id="A1.T9.9.9.10.1.1" class="ltx_text ltx_font_bold">Configuration</span></td>
<td id="A1.T9.9.9.10.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding:2.5pt 2.0pt;"><span id="A1.T9.9.9.10.2.1" class="ltx_text ltx_font_bold">Alignment Pretraining</span></td>
<td id="A1.T9.9.9.10.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding:2.5pt 2.0pt;"><span id="A1.T9.9.9.10.3.1" class="ltx_text ltx_font_bold">High-Quality Knowledge Learning</span></td>
<td id="A1.T9.9.9.10.4" class="ltx_td ltx_align_center ltx_border_tt" style="padding:2.5pt 2.0pt;"><span id="A1.T9.9.9.10.4.1" class="ltx_text ltx_font_bold">Chart Specific Annealing Tuning</span></td>
</tr>
<tr id="A1.T9.9.9.11" class="ltx_tr">
<td id="A1.T9.9.9.11.1" class="ltx_td ltx_align_left ltx_border_t" style="padding:2.5pt 2.0pt;">Connector Initialization</td>
<td id="A1.T9.9.9.11.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:2.5pt 2.0pt;">InternlmXC-v2</td>
<td id="A1.T9.9.9.11.3" class="ltx_td ltx_align_center ltx_border_t" style="padding:2.5pt 2.0pt;">Table&amp;JSON&amp;Code Experts + InternlmXC-v2</td>
<td id="A1.T9.9.9.11.4" class="ltx_td ltx_align_center ltx_border_t" style="padding:2.5pt 2.0pt;">ChartMoE 2nd-stage</td>
</tr>
<tr id="A1.T9.9.9.12" class="ltx_tr">
<td id="A1.T9.9.9.12.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">LLM Training</td>
<td id="A1.T9.9.9.12.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">Freeze</td>
<td id="A1.T9.9.9.12.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">LoRA</td>
<td id="A1.T9.9.9.12.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">LoRA</td>
</tr>
<tr id="A1.T9.9.9.13" class="ltx_tr">
<td id="A1.T9.9.9.13.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Image Resolution</td>
<td id="A1.T9.9.9.13.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">490</td>
<td id="A1.T9.9.9.13.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">490</td>
<td id="A1.T9.9.9.13.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">490</td>
</tr>
<tr id="A1.T9.9.9.14" class="ltx_tr">
<td id="A1.T9.9.9.14.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">ViT Sequence Length</td>
<td id="A1.T9.9.9.14.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">1225</td>
<td id="A1.T9.9.9.14.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">1225</td>
<td id="A1.T9.9.9.14.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">1225</td>
</tr>
<tr id="A1.T9.9.9.15" class="ltx_tr">
<td id="A1.T9.9.9.15.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Optimizer</td>
<td id="A1.T9.9.9.15.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">AdamW</td>
<td id="A1.T9.9.9.15.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">AdamW</td>
<td id="A1.T9.9.9.15.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">AdamW</td>
</tr>
<tr id="A1.T9.3.3.3" class="ltx_tr">
<td id="A1.T9.3.3.3.4" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Optimizer Hyperparameter</td>
<td id="A1.T9.1.1.1.1" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;"><math id="A1.T9.1.1.1.1.m1.2" class="ltx_Math" alttext="\beta_{1}=0.9,\beta_{2}=0.95,\epsilon=1e^{-8}" display="inline"><semantics id="A1.T9.1.1.1.1.m1.2a"><mrow id="A1.T9.1.1.1.1.m1.2.2.2" xref="A1.T9.1.1.1.1.m1.2.2.3.cmml"><mrow id="A1.T9.1.1.1.1.m1.1.1.1.1" xref="A1.T9.1.1.1.1.m1.1.1.1.1.cmml"><msub id="A1.T9.1.1.1.1.m1.1.1.1.1.2" xref="A1.T9.1.1.1.1.m1.1.1.1.1.2.cmml"><mi id="A1.T9.1.1.1.1.m1.1.1.1.1.2.2" xref="A1.T9.1.1.1.1.m1.1.1.1.1.2.2.cmml">β</mi><mn id="A1.T9.1.1.1.1.m1.1.1.1.1.2.3" xref="A1.T9.1.1.1.1.m1.1.1.1.1.2.3.cmml">1</mn></msub><mo id="A1.T9.1.1.1.1.m1.1.1.1.1.1" xref="A1.T9.1.1.1.1.m1.1.1.1.1.1.cmml">=</mo><mn id="A1.T9.1.1.1.1.m1.1.1.1.1.3" xref="A1.T9.1.1.1.1.m1.1.1.1.1.3.cmml">0.9</mn></mrow><mo id="A1.T9.1.1.1.1.m1.2.2.2.3" xref="A1.T9.1.1.1.1.m1.2.2.3a.cmml">,</mo><mrow id="A1.T9.1.1.1.1.m1.2.2.2.2.2" xref="A1.T9.1.1.1.1.m1.2.2.2.2.3.cmml"><mrow id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.cmml"><msub id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2.cmml"><mi id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2.2" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2.2.cmml">β</mi><mn id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2.3" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2.3.cmml">2</mn></msub><mo id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.1" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.1.cmml">=</mo><mn id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.3" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.3.cmml">0.95</mn></mrow><mo id="A1.T9.1.1.1.1.m1.2.2.2.2.2.3" xref="A1.T9.1.1.1.1.m1.2.2.2.2.3a.cmml">,</mo><mrow id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.cmml"><mi id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.2" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.2.cmml">ϵ</mi><mo id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.1" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.1.cmml">=</mo><mrow id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.cmml"><mn id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.2" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.1" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.1.cmml">​</mo><msup id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.cmml"><mi id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.2" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.2.cmml">e</mi><mrow id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3.cmml"><mo id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3a" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3.cmml">−</mo><mn id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3.2" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3.2.cmml">8</mn></mrow></msup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.T9.1.1.1.1.m1.2b"><apply id="A1.T9.1.1.1.1.m1.2.2.3.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2"><csymbol cd="ambiguous" id="A1.T9.1.1.1.1.m1.2.2.3a.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.3">formulae-sequence</csymbol><apply id="A1.T9.1.1.1.1.m1.1.1.1.1.cmml" xref="A1.T9.1.1.1.1.m1.1.1.1.1"><eq id="A1.T9.1.1.1.1.m1.1.1.1.1.1.cmml" xref="A1.T9.1.1.1.1.m1.1.1.1.1.1"></eq><apply id="A1.T9.1.1.1.1.m1.1.1.1.1.2.cmml" xref="A1.T9.1.1.1.1.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.T9.1.1.1.1.m1.1.1.1.1.2.1.cmml" xref="A1.T9.1.1.1.1.m1.1.1.1.1.2">subscript</csymbol><ci id="A1.T9.1.1.1.1.m1.1.1.1.1.2.2.cmml" xref="A1.T9.1.1.1.1.m1.1.1.1.1.2.2">𝛽</ci><cn type="integer" id="A1.T9.1.1.1.1.m1.1.1.1.1.2.3.cmml" xref="A1.T9.1.1.1.1.m1.1.1.1.1.2.3">1</cn></apply><cn type="float" id="A1.T9.1.1.1.1.m1.1.1.1.1.3.cmml" xref="A1.T9.1.1.1.1.m1.1.1.1.1.3">0.9</cn></apply><apply id="A1.T9.1.1.1.1.m1.2.2.2.2.3.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.T9.1.1.1.1.m1.2.2.2.2.3a.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1"><eq id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.1.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.1"></eq><apply id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2.1.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2">subscript</csymbol><ci id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2.2.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2.2">𝛽</ci><cn type="integer" id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2.3.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.2.3">2</cn></apply><cn type="float" id="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.3.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.1.1.3">0.95</cn></apply><apply id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2"><eq id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.1.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.1"></eq><ci id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.2.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.2">italic-ϵ</ci><apply id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3"><times id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.1.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.1"></times><cn type="integer" id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.2.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.2">1</cn><apply id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.1.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3">superscript</csymbol><ci id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.2.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.2">𝑒</ci><apply id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3"><minus id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3.1.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3"></minus><cn type="integer" id="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3.2.cmml" xref="A1.T9.1.1.1.1.m1.2.2.2.2.2.2.3.3.3.2">8</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.1.1.1.1.m1.2c">\beta_{1}=0.9,\beta_{2}=0.95,\epsilon=1e^{-8}</annotation></semantics></math></td>
<td id="A1.T9.2.2.2.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;"><math id="A1.T9.2.2.2.2.m1.2" class="ltx_Math" alttext="\beta_{1}=0.9,\beta_{2}=0.95,\epsilon=1e^{-8}" display="inline"><semantics id="A1.T9.2.2.2.2.m1.2a"><mrow id="A1.T9.2.2.2.2.m1.2.2.2" xref="A1.T9.2.2.2.2.m1.2.2.3.cmml"><mrow id="A1.T9.2.2.2.2.m1.1.1.1.1" xref="A1.T9.2.2.2.2.m1.1.1.1.1.cmml"><msub id="A1.T9.2.2.2.2.m1.1.1.1.1.2" xref="A1.T9.2.2.2.2.m1.1.1.1.1.2.cmml"><mi id="A1.T9.2.2.2.2.m1.1.1.1.1.2.2" xref="A1.T9.2.2.2.2.m1.1.1.1.1.2.2.cmml">β</mi><mn id="A1.T9.2.2.2.2.m1.1.1.1.1.2.3" xref="A1.T9.2.2.2.2.m1.1.1.1.1.2.3.cmml">1</mn></msub><mo id="A1.T9.2.2.2.2.m1.1.1.1.1.1" xref="A1.T9.2.2.2.2.m1.1.1.1.1.1.cmml">=</mo><mn id="A1.T9.2.2.2.2.m1.1.1.1.1.3" xref="A1.T9.2.2.2.2.m1.1.1.1.1.3.cmml">0.9</mn></mrow><mo id="A1.T9.2.2.2.2.m1.2.2.2.3" xref="A1.T9.2.2.2.2.m1.2.2.3a.cmml">,</mo><mrow id="A1.T9.2.2.2.2.m1.2.2.2.2.2" xref="A1.T9.2.2.2.2.m1.2.2.2.2.3.cmml"><mrow id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.cmml"><msub id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2.cmml"><mi id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2.2" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2.2.cmml">β</mi><mn id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2.3" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2.3.cmml">2</mn></msub><mo id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.1" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.1.cmml">=</mo><mn id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.3" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.3.cmml">0.95</mn></mrow><mo id="A1.T9.2.2.2.2.m1.2.2.2.2.2.3" xref="A1.T9.2.2.2.2.m1.2.2.2.2.3a.cmml">,</mo><mrow id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.cmml"><mi id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.2" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.2.cmml">ϵ</mi><mo id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.1" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.1.cmml">=</mo><mrow id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.cmml"><mn id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.2" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.1" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.1.cmml">​</mo><msup id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.cmml"><mi id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.2" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.2.cmml">e</mi><mrow id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3.cmml"><mo id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3a" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3.cmml">−</mo><mn id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3.2" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3.2.cmml">8</mn></mrow></msup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.T9.2.2.2.2.m1.2b"><apply id="A1.T9.2.2.2.2.m1.2.2.3.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2"><csymbol cd="ambiguous" id="A1.T9.2.2.2.2.m1.2.2.3a.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.3">formulae-sequence</csymbol><apply id="A1.T9.2.2.2.2.m1.1.1.1.1.cmml" xref="A1.T9.2.2.2.2.m1.1.1.1.1"><eq id="A1.T9.2.2.2.2.m1.1.1.1.1.1.cmml" xref="A1.T9.2.2.2.2.m1.1.1.1.1.1"></eq><apply id="A1.T9.2.2.2.2.m1.1.1.1.1.2.cmml" xref="A1.T9.2.2.2.2.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.T9.2.2.2.2.m1.1.1.1.1.2.1.cmml" xref="A1.T9.2.2.2.2.m1.1.1.1.1.2">subscript</csymbol><ci id="A1.T9.2.2.2.2.m1.1.1.1.1.2.2.cmml" xref="A1.T9.2.2.2.2.m1.1.1.1.1.2.2">𝛽</ci><cn type="integer" id="A1.T9.2.2.2.2.m1.1.1.1.1.2.3.cmml" xref="A1.T9.2.2.2.2.m1.1.1.1.1.2.3">1</cn></apply><cn type="float" id="A1.T9.2.2.2.2.m1.1.1.1.1.3.cmml" xref="A1.T9.2.2.2.2.m1.1.1.1.1.3">0.9</cn></apply><apply id="A1.T9.2.2.2.2.m1.2.2.2.2.3.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.T9.2.2.2.2.m1.2.2.2.2.3a.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1"><eq id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.1.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.1"></eq><apply id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2.1.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2">subscript</csymbol><ci id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2.2.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2.2">𝛽</ci><cn type="integer" id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2.3.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.2.3">2</cn></apply><cn type="float" id="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.3.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.1.1.3">0.95</cn></apply><apply id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2"><eq id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.1.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.1"></eq><ci id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.2.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.2">italic-ϵ</ci><apply id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3"><times id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.1.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.1"></times><cn type="integer" id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.2.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.2">1</cn><apply id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.1.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3">superscript</csymbol><ci id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.2.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.2">𝑒</ci><apply id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3"><minus id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3.1.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3"></minus><cn type="integer" id="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3.2.cmml" xref="A1.T9.2.2.2.2.m1.2.2.2.2.2.2.3.3.3.2">8</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.2.2.2.2.m1.2c">\beta_{1}=0.9,\beta_{2}=0.95,\epsilon=1e^{-8}</annotation></semantics></math></td>
<td id="A1.T9.3.3.3.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;"><math id="A1.T9.3.3.3.3.m1.2" class="ltx_Math" alttext="\beta_{1}=0.9,\beta_{2}=0.95,\epsilon=1e^{-8}" display="inline"><semantics id="A1.T9.3.3.3.3.m1.2a"><mrow id="A1.T9.3.3.3.3.m1.2.2.2" xref="A1.T9.3.3.3.3.m1.2.2.3.cmml"><mrow id="A1.T9.3.3.3.3.m1.1.1.1.1" xref="A1.T9.3.3.3.3.m1.1.1.1.1.cmml"><msub id="A1.T9.3.3.3.3.m1.1.1.1.1.2" xref="A1.T9.3.3.3.3.m1.1.1.1.1.2.cmml"><mi id="A1.T9.3.3.3.3.m1.1.1.1.1.2.2" xref="A1.T9.3.3.3.3.m1.1.1.1.1.2.2.cmml">β</mi><mn id="A1.T9.3.3.3.3.m1.1.1.1.1.2.3" xref="A1.T9.3.3.3.3.m1.1.1.1.1.2.3.cmml">1</mn></msub><mo id="A1.T9.3.3.3.3.m1.1.1.1.1.1" xref="A1.T9.3.3.3.3.m1.1.1.1.1.1.cmml">=</mo><mn id="A1.T9.3.3.3.3.m1.1.1.1.1.3" xref="A1.T9.3.3.3.3.m1.1.1.1.1.3.cmml">0.9</mn></mrow><mo id="A1.T9.3.3.3.3.m1.2.2.2.3" xref="A1.T9.3.3.3.3.m1.2.2.3a.cmml">,</mo><mrow id="A1.T9.3.3.3.3.m1.2.2.2.2.2" xref="A1.T9.3.3.3.3.m1.2.2.2.2.3.cmml"><mrow id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.cmml"><msub id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2.cmml"><mi id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2.2" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2.2.cmml">β</mi><mn id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2.3" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2.3.cmml">2</mn></msub><mo id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.1" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.1.cmml">=</mo><mn id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.3" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.3.cmml">0.95</mn></mrow><mo id="A1.T9.3.3.3.3.m1.2.2.2.2.2.3" xref="A1.T9.3.3.3.3.m1.2.2.2.2.3a.cmml">,</mo><mrow id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.cmml"><mi id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.2" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.2.cmml">ϵ</mi><mo id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.1" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.1.cmml">=</mo><mrow id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.cmml"><mn id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.2" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.1" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.1.cmml">​</mo><msup id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.cmml"><mi id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.2" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.2.cmml">e</mi><mrow id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3.cmml"><mo id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3a" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3.cmml">−</mo><mn id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3.2" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3.2.cmml">8</mn></mrow></msup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.T9.3.3.3.3.m1.2b"><apply id="A1.T9.3.3.3.3.m1.2.2.3.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2"><csymbol cd="ambiguous" id="A1.T9.3.3.3.3.m1.2.2.3a.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.3">formulae-sequence</csymbol><apply id="A1.T9.3.3.3.3.m1.1.1.1.1.cmml" xref="A1.T9.3.3.3.3.m1.1.1.1.1"><eq id="A1.T9.3.3.3.3.m1.1.1.1.1.1.cmml" xref="A1.T9.3.3.3.3.m1.1.1.1.1.1"></eq><apply id="A1.T9.3.3.3.3.m1.1.1.1.1.2.cmml" xref="A1.T9.3.3.3.3.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.T9.3.3.3.3.m1.1.1.1.1.2.1.cmml" xref="A1.T9.3.3.3.3.m1.1.1.1.1.2">subscript</csymbol><ci id="A1.T9.3.3.3.3.m1.1.1.1.1.2.2.cmml" xref="A1.T9.3.3.3.3.m1.1.1.1.1.2.2">𝛽</ci><cn type="integer" id="A1.T9.3.3.3.3.m1.1.1.1.1.2.3.cmml" xref="A1.T9.3.3.3.3.m1.1.1.1.1.2.3">1</cn></apply><cn type="float" id="A1.T9.3.3.3.3.m1.1.1.1.1.3.cmml" xref="A1.T9.3.3.3.3.m1.1.1.1.1.3">0.9</cn></apply><apply id="A1.T9.3.3.3.3.m1.2.2.2.2.3.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.T9.3.3.3.3.m1.2.2.2.2.3a.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1"><eq id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.1.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.1"></eq><apply id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2.1.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2">subscript</csymbol><ci id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2.2.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2.2">𝛽</ci><cn type="integer" id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2.3.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.2.3">2</cn></apply><cn type="float" id="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.3.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.1.1.3">0.95</cn></apply><apply id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2"><eq id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.1.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.1"></eq><ci id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.2.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.2">italic-ϵ</ci><apply id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3"><times id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.1.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.1"></times><cn type="integer" id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.2.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.2">1</cn><apply id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.1.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3">superscript</csymbol><ci id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.2.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.2">𝑒</ci><apply id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3"><minus id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3.1.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3"></minus><cn type="integer" id="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3.2.cmml" xref="A1.T9.3.3.3.3.m1.2.2.2.2.2.2.3.3.3.2">8</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.3.3.3.3.m1.2c">\beta_{1}=0.9,\beta_{2}=0.95,\epsilon=1e^{-8}</annotation></semantics></math></td>
</tr>
<tr id="A1.T9.6.6.6" class="ltx_tr">
<td id="A1.T9.6.6.6.4" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Peak Learning Rate</td>
<td id="A1.T9.4.4.4.1" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;"><math id="A1.T9.4.4.4.1.m1.1" class="ltx_Math" alttext="5e^{-5}" display="inline"><semantics id="A1.T9.4.4.4.1.m1.1a"><mrow id="A1.T9.4.4.4.1.m1.1.1" xref="A1.T9.4.4.4.1.m1.1.1.cmml"><mn id="A1.T9.4.4.4.1.m1.1.1.2" xref="A1.T9.4.4.4.1.m1.1.1.2.cmml">5</mn><mo lspace="0em" rspace="0em" id="A1.T9.4.4.4.1.m1.1.1.1" xref="A1.T9.4.4.4.1.m1.1.1.1.cmml">​</mo><msup id="A1.T9.4.4.4.1.m1.1.1.3" xref="A1.T9.4.4.4.1.m1.1.1.3.cmml"><mi id="A1.T9.4.4.4.1.m1.1.1.3.2" xref="A1.T9.4.4.4.1.m1.1.1.3.2.cmml">e</mi><mrow id="A1.T9.4.4.4.1.m1.1.1.3.3" xref="A1.T9.4.4.4.1.m1.1.1.3.3.cmml"><mo id="A1.T9.4.4.4.1.m1.1.1.3.3a" xref="A1.T9.4.4.4.1.m1.1.1.3.3.cmml">−</mo><mn id="A1.T9.4.4.4.1.m1.1.1.3.3.2" xref="A1.T9.4.4.4.1.m1.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.T9.4.4.4.1.m1.1b"><apply id="A1.T9.4.4.4.1.m1.1.1.cmml" xref="A1.T9.4.4.4.1.m1.1.1"><times id="A1.T9.4.4.4.1.m1.1.1.1.cmml" xref="A1.T9.4.4.4.1.m1.1.1.1"></times><cn type="integer" id="A1.T9.4.4.4.1.m1.1.1.2.cmml" xref="A1.T9.4.4.4.1.m1.1.1.2">5</cn><apply id="A1.T9.4.4.4.1.m1.1.1.3.cmml" xref="A1.T9.4.4.4.1.m1.1.1.3"><csymbol cd="ambiguous" id="A1.T9.4.4.4.1.m1.1.1.3.1.cmml" xref="A1.T9.4.4.4.1.m1.1.1.3">superscript</csymbol><ci id="A1.T9.4.4.4.1.m1.1.1.3.2.cmml" xref="A1.T9.4.4.4.1.m1.1.1.3.2">𝑒</ci><apply id="A1.T9.4.4.4.1.m1.1.1.3.3.cmml" xref="A1.T9.4.4.4.1.m1.1.1.3.3"><minus id="A1.T9.4.4.4.1.m1.1.1.3.3.1.cmml" xref="A1.T9.4.4.4.1.m1.1.1.3.3"></minus><cn type="integer" id="A1.T9.4.4.4.1.m1.1.1.3.3.2.cmml" xref="A1.T9.4.4.4.1.m1.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.4.4.4.1.m1.1c">5e^{-5}</annotation></semantics></math></td>
<td id="A1.T9.5.5.5.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;"><math id="A1.T9.5.5.5.2.m1.1" class="ltx_Math" alttext="1e^{-5}" display="inline"><semantics id="A1.T9.5.5.5.2.m1.1a"><mrow id="A1.T9.5.5.5.2.m1.1.1" xref="A1.T9.5.5.5.2.m1.1.1.cmml"><mn id="A1.T9.5.5.5.2.m1.1.1.2" xref="A1.T9.5.5.5.2.m1.1.1.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="A1.T9.5.5.5.2.m1.1.1.1" xref="A1.T9.5.5.5.2.m1.1.1.1.cmml">​</mo><msup id="A1.T9.5.5.5.2.m1.1.1.3" xref="A1.T9.5.5.5.2.m1.1.1.3.cmml"><mi id="A1.T9.5.5.5.2.m1.1.1.3.2" xref="A1.T9.5.5.5.2.m1.1.1.3.2.cmml">e</mi><mrow id="A1.T9.5.5.5.2.m1.1.1.3.3" xref="A1.T9.5.5.5.2.m1.1.1.3.3.cmml"><mo id="A1.T9.5.5.5.2.m1.1.1.3.3a" xref="A1.T9.5.5.5.2.m1.1.1.3.3.cmml">−</mo><mn id="A1.T9.5.5.5.2.m1.1.1.3.3.2" xref="A1.T9.5.5.5.2.m1.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.T9.5.5.5.2.m1.1b"><apply id="A1.T9.5.5.5.2.m1.1.1.cmml" xref="A1.T9.5.5.5.2.m1.1.1"><times id="A1.T9.5.5.5.2.m1.1.1.1.cmml" xref="A1.T9.5.5.5.2.m1.1.1.1"></times><cn type="integer" id="A1.T9.5.5.5.2.m1.1.1.2.cmml" xref="A1.T9.5.5.5.2.m1.1.1.2">1</cn><apply id="A1.T9.5.5.5.2.m1.1.1.3.cmml" xref="A1.T9.5.5.5.2.m1.1.1.3"><csymbol cd="ambiguous" id="A1.T9.5.5.5.2.m1.1.1.3.1.cmml" xref="A1.T9.5.5.5.2.m1.1.1.3">superscript</csymbol><ci id="A1.T9.5.5.5.2.m1.1.1.3.2.cmml" xref="A1.T9.5.5.5.2.m1.1.1.3.2">𝑒</ci><apply id="A1.T9.5.5.5.2.m1.1.1.3.3.cmml" xref="A1.T9.5.5.5.2.m1.1.1.3.3"><minus id="A1.T9.5.5.5.2.m1.1.1.3.3.1.cmml" xref="A1.T9.5.5.5.2.m1.1.1.3.3"></minus><cn type="integer" id="A1.T9.5.5.5.2.m1.1.1.3.3.2.cmml" xref="A1.T9.5.5.5.2.m1.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.5.5.5.2.m1.1c">1e^{-5}</annotation></semantics></math></td>
<td id="A1.T9.6.6.6.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;"><math id="A1.T9.6.6.6.3.m1.1" class="ltx_Math" alttext="5e^{-5}" display="inline"><semantics id="A1.T9.6.6.6.3.m1.1a"><mrow id="A1.T9.6.6.6.3.m1.1.1" xref="A1.T9.6.6.6.3.m1.1.1.cmml"><mn id="A1.T9.6.6.6.3.m1.1.1.2" xref="A1.T9.6.6.6.3.m1.1.1.2.cmml">5</mn><mo lspace="0em" rspace="0em" id="A1.T9.6.6.6.3.m1.1.1.1" xref="A1.T9.6.6.6.3.m1.1.1.1.cmml">​</mo><msup id="A1.T9.6.6.6.3.m1.1.1.3" xref="A1.T9.6.6.6.3.m1.1.1.3.cmml"><mi id="A1.T9.6.6.6.3.m1.1.1.3.2" xref="A1.T9.6.6.6.3.m1.1.1.3.2.cmml">e</mi><mrow id="A1.T9.6.6.6.3.m1.1.1.3.3" xref="A1.T9.6.6.6.3.m1.1.1.3.3.cmml"><mo id="A1.T9.6.6.6.3.m1.1.1.3.3a" xref="A1.T9.6.6.6.3.m1.1.1.3.3.cmml">−</mo><mn id="A1.T9.6.6.6.3.m1.1.1.3.3.2" xref="A1.T9.6.6.6.3.m1.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.T9.6.6.6.3.m1.1b"><apply id="A1.T9.6.6.6.3.m1.1.1.cmml" xref="A1.T9.6.6.6.3.m1.1.1"><times id="A1.T9.6.6.6.3.m1.1.1.1.cmml" xref="A1.T9.6.6.6.3.m1.1.1.1"></times><cn type="integer" id="A1.T9.6.6.6.3.m1.1.1.2.cmml" xref="A1.T9.6.6.6.3.m1.1.1.2">5</cn><apply id="A1.T9.6.6.6.3.m1.1.1.3.cmml" xref="A1.T9.6.6.6.3.m1.1.1.3"><csymbol cd="ambiguous" id="A1.T9.6.6.6.3.m1.1.1.3.1.cmml" xref="A1.T9.6.6.6.3.m1.1.1.3">superscript</csymbol><ci id="A1.T9.6.6.6.3.m1.1.1.3.2.cmml" xref="A1.T9.6.6.6.3.m1.1.1.3.2">𝑒</ci><apply id="A1.T9.6.6.6.3.m1.1.1.3.3.cmml" xref="A1.T9.6.6.6.3.m1.1.1.3.3"><minus id="A1.T9.6.6.6.3.m1.1.1.3.3.1.cmml" xref="A1.T9.6.6.6.3.m1.1.1.3.3"></minus><cn type="integer" id="A1.T9.6.6.6.3.m1.1.1.3.3.2.cmml" xref="A1.T9.6.6.6.3.m1.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.6.6.6.3.m1.1c">5e^{-5}</annotation></semantics></math></td>
</tr>
<tr id="A1.T9.9.9.16" class="ltx_tr">
<td id="A1.T9.9.9.16.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Learning Rate Schedule</td>
<td id="A1.T9.9.9.16.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">cosine decay</td>
<td id="A1.T9.9.9.16.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">cosine decay</td>
<td id="A1.T9.9.9.16.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">cosine decay</td>
</tr>
<tr id="A1.T9.9.9.17" class="ltx_tr">
<td id="A1.T9.9.9.17.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Weight Decay</td>
<td id="A1.T9.9.9.17.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">0.1</td>
<td id="A1.T9.9.9.17.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">0.1</td>
<td id="A1.T9.9.9.17.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">0.1</td>
</tr>
<tr id="A1.T9.9.9.18" class="ltx_tr">
<td id="A1.T9.9.9.18.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Gradient Clip</td>
<td id="A1.T9.9.9.18.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">1.0</td>
<td id="A1.T9.9.9.18.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">1.0</td>
<td id="A1.T9.9.9.18.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">1.0</td>
</tr>
<tr id="A1.T9.9.9.19" class="ltx_tr">
<td id="A1.T9.9.9.19.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Warm-up Ratio</td>
<td id="A1.T9.9.9.19.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">0.01</td>
<td id="A1.T9.9.9.19.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">0.01</td>
<td id="A1.T9.9.9.19.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">0.01</td>
</tr>
<tr id="A1.T9.9.9.20" class="ltx_tr">
<td id="A1.T9.9.9.20.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Global Batch Size</td>
<td id="A1.T9.9.9.20.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">64</td>
<td id="A1.T9.9.9.20.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">32</td>
<td id="A1.T9.9.9.20.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">32</td>
</tr>
<tr id="A1.T9.9.9.21" class="ltx_tr">
<td id="A1.T9.9.9.21.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Gradient Acc.</td>
<td id="A1.T9.9.9.21.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">8</td>
<td id="A1.T9.9.9.21.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">8</td>
<td id="A1.T9.9.9.21.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">8</td>
</tr>
<tr id="A1.T9.9.9.22" class="ltx_tr">
<td id="A1.T9.9.9.22.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Numerical Precision</td>
<td id="A1.T9.9.9.22.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">bfloat16</td>
<td id="A1.T9.9.9.22.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">bfloat16</td>
<td id="A1.T9.9.9.22.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">bfloat16</td>
</tr>
<tr id="A1.T9.9.9.23" class="ltx_tr">
<td id="A1.T9.9.9.23.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Optimizer Sharding</td>
<td id="A1.T9.9.9.23.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">✓</td>
<td id="A1.T9.9.9.23.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">✓</td>
<td id="A1.T9.9.9.23.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">✓</td>
</tr>
<tr id="A1.T9.9.9.24" class="ltx_tr">
<td id="A1.T9.9.9.24.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Gradient Sharding</td>
<td id="A1.T9.9.9.24.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">✓</td>
<td id="A1.T9.9.9.24.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">✓</td>
<td id="A1.T9.9.9.24.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">✓</td>
</tr>
<tr id="A1.T9.9.9.9" class="ltx_tr">
<td id="A1.T9.9.9.9.4" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Parameter Sharding</td>
<td id="A1.T9.7.7.7.1" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;"><math id="A1.T9.7.7.7.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.T9.7.7.7.1.m1.1a"><mo id="A1.T9.7.7.7.1.m1.1.1" xref="A1.T9.7.7.7.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.T9.7.7.7.1.m1.1b"><times id="A1.T9.7.7.7.1.m1.1.1.cmml" xref="A1.T9.7.7.7.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.7.7.7.1.m1.1c">\times</annotation></semantics></math></td>
<td id="A1.T9.8.8.8.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;"><math id="A1.T9.8.8.8.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.T9.8.8.8.2.m1.1a"><mo id="A1.T9.8.8.8.2.m1.1.1" xref="A1.T9.8.8.8.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.T9.8.8.8.2.m1.1b"><times id="A1.T9.8.8.8.2.m1.1.1.cmml" xref="A1.T9.8.8.8.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.8.8.8.2.m1.1c">\times</annotation></semantics></math></td>
<td id="A1.T9.9.9.9.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;"><math id="A1.T9.9.9.9.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.T9.9.9.9.3.m1.1a"><mo id="A1.T9.9.9.9.3.m1.1.1" xref="A1.T9.9.9.9.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.T9.9.9.9.3.m1.1b"><times id="A1.T9.9.9.9.3.m1.1.1.cmml" xref="A1.T9.9.9.9.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.9.9.9.3.m1.1c">\times</annotation></semantics></math></td>
</tr>
<tr id="A1.T9.9.9.25" class="ltx_tr">
<td id="A1.T9.9.9.25.1" class="ltx_td ltx_align_left" style="padding:2.5pt 2.0pt;">Activation Checkpointing</td>
<td id="A1.T9.9.9.25.2" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">✓</td>
<td id="A1.T9.9.9.25.3" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">✓</td>
<td id="A1.T9.9.9.25.4" class="ltx_td ltx_align_center" style="padding:2.5pt 2.0pt;">✓</td>
</tr>
<tr id="A1.T9.9.9.26" class="ltx_tr">
<td id="A1.T9.9.9.26.1" class="ltx_td ltx_align_left ltx_border_bb" style="padding:2.5pt 2.0pt;">GPU Hours (A100-40G)</td>
<td id="A1.T9.9.9.26.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding:2.5pt 2.0pt;">240</td>
<td id="A1.T9.9.9.26.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding:2.5pt 2.0pt;">138</td>
<td id="A1.T9.9.9.26.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding:2.5pt 2.0pt;">76</td>
</tr>
</table>
</span></div>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Additional Vsualizations of top-1 expert selection</h2>

<figure id="A2.F8" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.1" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/logo/514.png" id="A2.F8.1.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.2" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/logo/624.png" id="A2.F8.2.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.3" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/logo/643.png" id="A2.F8.3.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.4" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/logo/748.png" id="A2.F8.4.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.5" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/man/177.png" id="A2.F8.5.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.6" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/man/180.png" id="A2.F8.6.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.7" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/man/196.png" id="A2.F8.7.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.8" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/man/384.png" id="A2.F8.8.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.9" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/reason/83.png" id="A2.F8.9.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.10" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/reason/141.png" id="A2.F8.10.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.11" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/reason/173.png" id="A2.F8.11.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.12" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/reason/470.png" id="A2.F8.12.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.13" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/view/258.png" id="A2.F8.13.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.14" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/view/493.png" id="A2.F8.14.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.15" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/view/609.png" id="A2.F8.15.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.16" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/view/641.png" id="A2.F8.16.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.17" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/blue/69.png" id="A2.F8.17.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.18" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/blue/73.png" id="A2.F8.18.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.19" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/blue/182.png" id="A2.F8.19.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F8.20" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_llava/blue/249.png" id="A2.F8.20.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1"><img src="/html/2409.03277/assets/x7.png" id="A2.F8.g1" class="ltx_graphics ltx_figure_panel ltx_img_landscape" width="461" height="8" alt="Refer to caption"></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>More visualizations of top-1 expert selection on <span id="A2.F8.22.1" class="ltx_text ltx_font_bold ltx_font_italic">general images</span> randomly sampled from LLaVA-CC3M. These examples show the selection preferences of different experts in ChartMoE.</figcaption>
</figure>
<figure id="A2.F9" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.1" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/chartqa/588.png" id="A2.F9.1.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.2" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/chartqa/592.png" id="A2.F9.2.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.3" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/chartqa/617.png" id="A2.F9.3.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.4" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/chartqa/618.png" id="A2.F9.4.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.5" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/line/0.png" id="A2.F9.5.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.6" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/line/5.png" id="A2.F9.6.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.7" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/line/29.png" id="A2.F9.7.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.8" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/line/154.png" id="A2.F9.8.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.9" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/node/176.png" id="A2.F9.9.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.10" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/node/34.png" id="A2.F9.10.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.11" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/node/60.png" id="A2.F9.11.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.12" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/node/363.png" id="A2.F9.12.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.13" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/stock/55.png" id="A2.F9.13.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.14" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/stock/100.png" id="A2.F9.14.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.15" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/stock/130.png" id="A2.F9.15.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.16" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/stock/152.png" id="A2.F9.16.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.17" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/bar/13.png" id="A2.F9.17.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.18" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/bar/30.png" id="A2.F9.18.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.19" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/bar/429.png" id="A2.F9.19.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.20" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/bar/104.png" id="A2.F9.20.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.21" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/pie/137.png" id="A2.F9.21.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.22" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/pie/243.png" id="A2.F9.22.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.23" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/pie/320.png" id="A2.F9.23.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="A2.F9.24" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/Fig/figs/appendix_tokenwise_chart/pie/357.png" id="A2.F9.24.g1" class="ltx_graphics ltx_img_square" width="598" height="598" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1"><img src="/html/2409.03277/assets/x8.png" id="A2.F9.g1" class="ltx_graphics ltx_figure_panel ltx_img_landscape" width="461" height="8" alt="Refer to caption"></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>More visualizations of top-1 expert selection on <span id="A2.F9.26.1" class="ltx_text ltx_font_bold ltx_font_italic">chart images</span>. The vanilla expert primarily handles background tokens, and the chart visual markers are handled by other experts.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Detailed Examples in ChartMoE-Align</h2>

<figure id="A3.F10" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A3.F10.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/x9.png" id="A3.F10.sf1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="65" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>Charts in ChartMoE-Align.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A3.F10.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/x10.png" id="A3.F10.sf2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="147" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Tables in ChartMoE-Align.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A3.F10.sf3" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/x11.png" id="A3.F10.sf3.g1" class="ltx_graphics ltx_img_landscape" width="461" height="191" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span>JSONs in ChartMoE-Align. JSON is combined with the table during alignment pre-training.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A3.F10.sf4" class="ltx_figure ltx_figure_panel"><img src="/html/2409.03277/assets/x12.png" id="A3.F10.sf4.g1" class="ltx_graphics ltx_img_landscape" width="461" height="203" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span>Codes in ChartMoE-Align. All values and attributes are expressed explicitly.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>Detailed Examples in ChartMoE-Align. Each quadruple contains the chart, table, JSON and code.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Additional Capabilities on Chart Editing and Highlighting</h2>

<div id="A4.p1" class="ltx_para ltx_noindent">
<p id="A4.p1.1" class="ltx_p">Leveraging fine-grained alignment, particularly in translating input charts into corresponding Python code, ChartMoE demonstrates advanced capabilities in editing and highlighting key elements. As illustrated in Fig. <a href="#A4.F11" title="Figure 11 ‣ Appendix D Additional Capabilities on Chart Editing and Highlighting ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>, ChartMoE effectively modifies input charts based on user instructions, such as converting a vertical bar chart into a horizontal one, transforming a pie chart into a bar chart, and adjusting the values of specific elements.</p>
</div>
<div id="A4.p2" class="ltx_para ltx_noindent">
<p id="A4.p2.1" class="ltx_p">ChartMoE also excels at adding auxiliary lines and highlighting elements within charts, facilitating the rapid extraction of valuable insights. For instance, in Fig. <a href="#A4.F12" title="Figure 12 ‣ Appendix D Additional Capabilities on Chart Editing and Highlighting ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a>, ChartMoE draws a horizontal line through the lowest data point and both horizontal and vertical lines through each data point, aiding in the precise determination of values. Additionally, in Fig. <a href="#A4.F13" title="Figure 13 ‣ Appendix D Additional Capabilities on Chart Editing and Highlighting ‣ ChartMoE: Mixture of Expert Connector for Advanced Chart Understanding" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>, ChartMoE highlights the maximum data point using two different methods: employing a larger green scatter with a prominent marker and applying a bright color to make it stand out.</p>
</div>
<figure id="A4.F11" class="ltx_figure"><span id="A4.F11.pic1" class="ltx_picture ltx_centering" style="width:432.2pt;height:387.4pt;">\begin{overpic}[width=433.62pt,grid=False]{Fig/figs/appendix_editing-demo/ChartMoE-editing1.pdf}
\end{overpic}</span>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 11: </span>ChartMoE learns to convert the type and adjust the values of the input chart to redraw a new one, according to the user instruction.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
<figure id="A4.F12" class="ltx_figure"><span id="A4.F12.pic1" class="ltx_picture ltx_centering" style="width:432.2pt;height:419.9pt;">\begin{overpic}[width=433.62pt,grid=False]{Fig/figs/appendix_editing-demo/ChartMoE-editing2.pdf}
\end{overpic}</span>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 12: </span>ChartMoE can generate python code to draw some auxiliary lines on the input chart according to the user query, which can benefit parsing and understanding for both human and machine.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
<figure id="A4.F13" class="ltx_figure"><span id="A4.F13.pic1" class="ltx_picture ltx_centering" style="width:432.2pt;height:415.6pt;">\begin{overpic}[width=433.62pt,grid=False]{Fig/figs/appendix_editing-demo/ChartMoE-editing3.pdf}
\end{overpic}</span>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 13: </span>ChartMoE shows its ability on highlighting the key elements via understanding the requirement of user, which is a good way to showcase the most valuable insights.</figcaption>
</figure>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2409.03276" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2409.03277" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2409.03277">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2409.03277" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2409.03278" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sun Oct  6 00:49:01 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
