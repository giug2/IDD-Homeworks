<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2105.06413] OpenFL: An open-source framework for Federated Learning</title><meta property="og:description" content="Federated learning (FL) is a computational paradigm that enables organizations to collaborate on machine learning (ML) projects without sharing sensitive data, such as, patient records, financial data, or classified se…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="OpenFL: An open-source framework for Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="OpenFL: An open-source framework for Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2105.06413">

<!--Generated on Wed Mar  6 07:37:46 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Federated learning,  FL,  OpenFL,  machine learning,  deep learning,  artificial intelligence,  AI,  distributed computing,  collaborative learning,  secure computation,  TensorFlow,  PyTorch,  FeTS">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line"><span id="id1" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">institutetext: </span>
Intel Corporation, Santa Clara, CA 95052, USA
</span></span></span><span id="id2" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">institutetext: </span>Center for Biomedical Image Computing and Analytics, University of Pennsylvania, Philadelphia, PA, USA
</span></span></span><span id="id3" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_note_type">institutetext: </span>Department of Radiology, Perelman School of Medicine, University of Pennsylvania, Philadelphia, PA, USA
</span></span></span><span id="id4" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_note_type">institutetext: </span>Department of Pathology and Laboratory Medicine, Perelman School of Medicine, University of Pennsylvania, Philadelphia, PA, USA
<br class="ltx_break"><sup id="id4.1" class="ltx_sup">*</sup> Corresponding authors <span id="id4.2" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_note_type">email: </span>{prashant.shah@intel.com, sbakas@upenn.edu}</span></span></span>
</span></span></span>
<h1 class="ltx_title ltx_title_document">OpenFL: An open-source framework for Federated Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
G Anthony Reina
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Alexey Gruzdev
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Patrick Foley
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Olga Perepelkina
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Mansi Sharma
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Igor Davidyuk
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ilya Trushkin
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Maksim Radionov
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Aleksandr Mokrov
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Dmitry Agapov
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jason Martin
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Brandon Edwards
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Micah J. Sheller
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Sarthak Pati
</span><span class="ltx_author_notes">223344</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Prakash Narayana Moorthy
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shih-han Wang
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Prashant Shah
</span><span class="ltx_author_notes">11**</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Spyridon Bakas
</span><span class="ltx_author_notes">223344**</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Federated learning (FL) is a computational paradigm that enables organizations to collaborate on machine learning (ML) projects without sharing sensitive data, such as, patient records, financial data, or classified secrets. Open Federated Learning (OpenFL)<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a target="_blank" href="https://github.com/intel/openfl" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://github.com/intel/openfl</a></span></span></span> is an open-source framework for training ML algorithms using the data-private collaborative learning paradigm of FL. OpenFL works with training pipelines built with both TensorFlow and PyTorch, and can be easily extended to other ML and deep learning frameworks. Here, we summarize the motivation and development characteristics of OpenFL, with the intention of facilitating its application to existing ML model training in a production environment. Finally, we describe the first use of the OpenFL framework to train consensus ML models in a consortium of international healthcare organizations, as well as how it facilitates the first computational competition on FL.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Keywords: </h6>Federated learning, FL, OpenFL, machine learning, deep learning, artificial intelligence, AI, distributed computing, collaborative learning, secure computation, TensorFlow, PyTorch, FeTS
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Motivation</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">In the last decade, artificial intelligence (AI<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a target="_blank" href="https://www.intel.com/content/www/us/en/artificial-intelligence/overview.html" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://www.intel.com/content/www/us/en/artificial-intelligence/overview.html</a></span></span></span>) has flourished due to greater access to data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. However, accessing vast and importantly diverse annotated datasets remains challenging because the underlying data are either too large or too sensitive to transmit to a centralized server for training a machine learning (ML) model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Federated learning (FL)<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a target="_blank" href="https://en.wikipedia.org/wiki/Federated_learning" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://en.wikipedia.org/wiki/Federated˙learning</a></span></span></span> is a collaborative computational paradigm that enables organizations to collaborate on data science projects without sharing sensitive information, such as patient records (protected health information), financial transactions, or protected secrets <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>. The basic premise behind FL, is that the AI model moves to meet the data, instead of the data moving to meet the model (that represents the current paradigm for multi-site collaborations) (Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Motivation ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2105.06413/assets/figures/fl_diagram.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="550" height="352" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S1.F1.3.2" class="ltx_text" style="font-size:90%;">Federated Learning Workflow. A global model (left) is sent to different institutions/users for training on their local data. The model rather than the data is moved around the network. An aggregator node (right) combines model updates to generate a new global model that is sent back to the local institutions/users for further training. For details, confer with  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>.</span></figcaption>
</figure>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Recently, institutions have introduced FL deployments to train AI models for the healthcare<span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span><a target="_blank" href="https://intel.ly/3oaaE7Y" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://intel.ly/3oaaE7Y</a></span></span></span> and financial<span id="footnote5" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span><a target="_blank" href="https://intel.ly/33FoJRm" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://intel.ly/33FoJRm</a></span></span></span> sectors. The goal is to allow greater access to larger and more diverse datasets without violating privacy laws, such as the Health Insurance Portability and Accountability Act (HIPAA)<span id="footnote6" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span><a target="_blank" href="https://www.hhs.gov/hipaa/index.html" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://www.hhs.gov/hipaa/index.html</a></span></span></span> of the United States <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite> and the General Data Protection Regulation (GDPR) <span id="footnote7" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span><a target="_blank" href="https://en.wikipedia.org/wiki/General_Data_Protection_Regulation" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://en.wikipedia.org/wiki/General˙Data˙Protection˙Regulation</a></span></span></span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite> of the European Union. Models trained using a FL approach can achieve similar levels of accuracy as models trained using a centralized learning approach <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In this paper, we outline our contribution of a new, open-source FL framework to the community. We overview the design and use of the framework and describe how to convert existing ML (and particularly deep learning) training instances into a federated training pipeline. Finally, we show how this new FL framework is being used to train a consensus ML model to detect and quantify boundaries of brain cancer, in a consortium of international healthcare organizations, as well as how it is used to facilitate the first computational competition on FL.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>The ‘Open Federated Learning’ framework</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Synopsis</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">Open Federated Learning (OpenFL)<span id="footnote8" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note">8</span><a target="_blank" href="https://github.com/intel/openfl" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://github.com/intel/openfl</a></span></span></span> is a software platform for federated learning (FL) that was initially developed as part of a collaborative research project between Intel Labs and the University of Pennsylvania on FL for healthcare, and continues to be developed for general-purpose real-world applications by Intel and the open-source community in GitHub<span id="footnote9" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">9</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">9</sup><span class="ltx_tag ltx_tag_note">9</span><a target="_blank" href="https://github.com/intel/openfl" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://github.com/intel/openfl</a></span></span></span>. Although the initial use case was in healthcare, the OpenFL project is designed to be agnostic to the use-case, the industry, and the ML framework. The code is open-source, mostly in Python, and distributed via pip<span id="footnote10" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">10</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">10</sup><span class="ltx_tag ltx_tag_note">10</span><a target="_blank" href="https://pypi.org/project/openfl/" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://pypi.org/project/openfl/</a></span></span></span>, conda, and Docker packages. The product allows developers to train ML models on the nodes of remote data owners (aka collaborators). The ML model is trained on the hardware at the collaborator node. Current examples are artificial neural networks trained using either TensorFlow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> or PyTorch <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>. Other ML model libraries and neural network training frameworks can be supported through an extensible mechanism. The data used to train the model remains at the collaborator node at all times; only the model weight updates and metrics are shared to the model owner via the aggregator node. A FL plan is used to describe the configuration and workflow. This FL plan is shared among all nodes in the federation to define the rules of the federation. Thanks to <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> for the term <span id="S2.SS1.p1.1.1" class="ltx_text ltx_font_italic">FL plan</span>, though as OpenFL has been designed for a different trust model (multi-institutional), the OpenFL plan is agreed upon by all parties before the workload begins, as opposed to the design in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> which delivers the FL plan at runtime (as befits that system’s design goals).</p>
</div>
<figure id="S2.F2" class="ltx_figure"><img src="/html/2105.06413/assets/figures/architecture_simple_openfl.png" id="S2.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="479" height="267" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F2.2.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S2.F2.3.2" class="ltx_text" style="font-size:90%;">The OpenFL network topology. The federation is a star topology with two types of nodes: collaborators and aggregators. The data of a collaborator remains within that node for local training. The dataset never leaves the collaborator node. Instead, model updates from each collaborator node are sent to an aggregator node so that they can be combined into a global consensus model. The global model is returned to the collaborator nodes for a further round of local training. Collaborators connect with the aggregator through remote procedure calls over mutually-authenticated TLS connections.</span></figcaption>
</figure>
<figure id="S2.F3" class="ltx_figure"><img src="/html/2105.06413/assets/figures/openfl_flow_port.png" id="S2.F3.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="538" height="957" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F3.2.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S2.F3.3.2" class="ltx_text" style="font-size:90%;">A high-level overview of Open Federated Learning (OpenFL). Note that once OpenFL is installed on all nodes of the federation and every member of the federation has a valid PKI certificate, all that is needed to run an instance of a federated workload is to distribute the workspace to all federation members and then run the command to start the node.</span></figcaption>
</figure>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">The high-level workflow is shown in the Fig. <a href="#S2.F3" title="Figure 3 ‣ 2.1 Synopsis ‣ 2 The ‘Open Federated Learning’ framework ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. In this example, we are distributing a TensorFlow model, but PyTorch and other frameworks are handled in the same way. Note that once OpenFL is installed on all nodes of the federation and every member of the federation has a valid PKI certificate, all that is needed to run an instance of a federated workload is to distribute the workspace to all federation members and then run the command to start the node (<span id="S2.SS1.p2.1.1" class="ltx_text ltx_font_italic">e.g.</span> <code id="S2.SS1.p2.1.2" class="ltx_verbatim ltx_font_typewriter">fx aggregator start</code>/<code id="S2.SS1.p2.1.3" class="ltx_verbatim ltx_font_typewriter">fx collaborator start</code>). In other words, most of the work is setting up an initial environment (steps 1-4) on all of the federation nodes that can be used across new instantiations of federations.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Architecture</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">Fig. <a href="#S2.F2" title="Figure 2 ‣ 2.1 Synopsis ‣ 2 The ‘Open Federated Learning’ framework ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the architecture for the OpenFL network topology. Each participant in the federation is defined as either a <span id="S2.SS2.p1.1.1" class="ltx_text ltx_font_italic">collaborator</span> or an <span id="S2.SS2.p1.1.2" class="ltx_text ltx_font_italic">aggregator</span> node. A collaborator node contains the dataset that is owned by that participant. The hardware of that collaborator node is used to train the ML model locally. The dataset never leaves the collaborator node. An aggregator node is a compute node that is trusted by each collaborator node. Collaborator nodes connect directly to the aggregator node in a star topology. The aggregator connects to the collaborator nodes through remote procedure calls (gRPC<span id="footnote11" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">11</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">11</sup><span class="ltx_tag ltx_tag_note">11</span><a target="_blank" href="https://grpc.io/" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://grpc.io/</a></span></span></span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>) via a mutually-authenticated transport layer security (TLS)<span id="footnote12" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">12</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">12</sup><span class="ltx_tag ltx_tag_note">12</span><a target="_blank" href="https://en.wikipedia.org/wiki/Transport_Layer_Security" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://en.wikipedia.org/wiki/Transport˙Layer˙Security</a></span></span></span> network connection. Sensitive data such as tasks, model and optimizer weights, and aggregated metrics pass between the collaborator and the aggregator nodes over this encrypted channel.</p>
</div>
<figure id="S2.F4" class="ltx_figure"><img src="/html/2105.06413/assets/figures/fl_plan.png" id="S2.F4.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="598" height="973" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F4.2.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S2.F4.3.2" class="ltx_text" style="font-size:90%;">A Federated learning (FL) plan is a YAML file that defines the tasks and parameters required to coordinate and execute a federation. The FL plan is shared to all participants within the federation. It defines the collaborator and aggregator settings as well as the remote procedure calls for this federation. Note that in this example lines 28-42 of the FL plan assign different tasks (”validation_only” and ”train_and_validate”) to random collaborators during a given round of the federation.</span></figcaption>
</figure>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">The coordination and execution of a given federation is defined by the FL plan (Fig. <a href="#S2.F4" title="Figure 4 ‣ 2.2 Architecture ‣ 2 The ‘Open Federated Learning’ framework ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>). The FL plan is a YAML<span id="footnote13" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">13</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">13</sup><span class="ltx_tag ltx_tag_note">13</span><a target="_blank" href="https://yaml.org/" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://yaml.org/</a></span></span></span> file that is shared with all the participants of a given federation. It defines the collaborator and aggregator settings, such as batch size, IP address, and rounds to train. It also specifies the remote procedure calls for the given federation tasks.</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p">Fig. <a href="#S2.F5" title="Figure 5 ‣ 2.2 Architecture ‣ 2 The ‘Open Federated Learning’ framework ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows the software components of the OpenFL framework. The collaborator contains the federation plan (FL Plan), the ML model code, and the local dataset. The FL plan and model code are manually shared with each participant prior to the start of the federation using an export command in the OpenFL command-line interface (CLI) as described later. The OpenFL backend allows the aggregator node to send remote procedure calls to the collaborators which instructs them to execute tasks as defined in the FL plan, such as ML model training and validation. When they have completed their tasks, then the collaborators report the updated model weights (and aggregated metrics, such as model accuracy and local dataset size) to the aggregator. The aggregator combines the updates from the collaborators into a global consensus model as described by the algorithm specified in the FL plan. The aggregator then sends the weights of the new global model back to the collaborators for an additional round of tasks (Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Motivation ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). This process continues until all rounds have been completed as specified in the FL plan.</p>
</div>
<figure id="S2.F5" class="ltx_figure"><img src="/html/2105.06413/assets/figures/openfl_architecture.png" id="S2.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="290" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F5.2.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S2.F5.3.2" class="ltx_text" style="font-size:90%;">The OpenFL software components. The collaborator contains the federation plan (FL Plan), ML model, and local dataset. These components are created by the developer (orange). The OpenFL backend (blue) connects the collaborator with the aggregator node via a mutually-authenticated TLS connection. The OpenFL backend (blue) on the aggregator sends remote procedure calls to the collaborator and receives model and metric updates (green) for aggregation.</span></figcaption>
</figure>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Security</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">FL addresses issues of the current paradigm for multi-institutional collaborations based on data pooling, but also introduces new privacy, security, and confidentiality challenges <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>. AI model builders may wish to protect their model intellectual properties (IP) as the model trains in decentralized environments, while data holders/contributors would like to ensure that their data cannot be extracted by inspecting the model weights over federated rounds. Initially developed in the Intel Labs Security and Privacy Research lab, the OpenFL design prioritizes key security concepts such as narrow interfaces, code reuse, open-source code, simplified information security reviews, and code design fit for running on trusted compute hardware, such as a trusted execution environment (TEE).</p>
</div>
<section id="S2.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.3.1 </span>PKI Certificates</h4>

<div id="S2.SS3.SSS1.p1" class="ltx_para">
<p id="S2.SS3.SSS1.p1.1" class="ltx_p">OpenFL uses mutually authenticated<span id="footnote14" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">14</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">14</sup><span class="ltx_tag ltx_tag_note">14</span><a target="_blank" href="https://en.wikipedia.org/wiki/Mutual_authentication" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://en.wikipedia.org/wiki/Mutual˙authentication</a></span></span></span> transport layer security (TLS)<span id="footnote15" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">15</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">15</sup><span class="ltx_tag ltx_tag_note">15</span><a target="_blank" href="https://en.wikipedia.org/wiki/Transport_Layer_Security" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://en.wikipedia.org/wiki/Transport˙Layer˙Security</a></span></span></span> connections. To establish the connection, a valid public key infrastructure certificate<span id="footnote16" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">16</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">16</sup><span class="ltx_tag ltx_tag_note">16</span><a target="_blank" href="https://en.wikipedia.org/wiki/Public_key_infrastructure" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://en.wikipedia.org/wiki/Public˙key˙infrastructure</a></span></span></span> signed by a trusted certificate authority (CA) must be provided by all participants. OpenFL provides a method for creating a certificate authority and generating X.509<span id="footnote17" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">17</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">17</sup><span class="ltx_tag ltx_tag_note">17</span><a target="_blank" href="https://en.wikipedia.org/wiki/X.509" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://en.wikipedia.org/wiki/X.509</a></span></span></span> certificates, but this mechanism is only intended for <span id="S2.SS3.SSS1.p1.1.1" class="ltx_text ltx_font_bold">non-production testing</span>. In production settings, it is recommended that a trusted certificate authority generates the PKI certificates. The minimum recommended certificates are <span id="S2.SS3.SSS1.p1.1.2" class="ltx_text ltx_font_italic">RSA SHA-384 3072-bit</span> or <span id="S2.SS3.SSS1.p1.1.3" class="ltx_text ltx_font_italic">ECDSA secp384r</span>.</p>
</div>
</section>
<section id="S2.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.3.2 </span>Trusted Execution Environments</h4>

<div id="S2.SS3.SSS2.p1" class="ltx_para">
<p id="S2.SS3.SSS2.p1.1" class="ltx_p">Trusted Execution Environments (TEEs) provide hardware mechanisms to execute code with various security properties. For FL, the three key security properties we want from a TEE are 1) <span id="S2.SS3.SSS2.p1.1.1" class="ltx_text ltx_font_italic">confidentiality</span> of the execution to mitigate attacks such as copying model IP out of memory as the training process executes, 2) <span id="S2.SS3.SSS2.p1.1.2" class="ltx_text ltx_font_italic">integrity</span> of the execution to mitigate attacks that alter the behavior of the code, and 3) <span id="S2.SS3.SSS2.p1.1.3" class="ltx_text ltx_font_italic">remote attestation</span> of the execution, wherein a TEE can provide some measure of proof regarding the initial execution state to a remote party to ensure that the remote party is interacting with the intended code on the intended hardware <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>. The latest Intel Scalable Xeon processors provide a TEE on the host CPU via the Intel Software Guard Extensions (Intel SGX) that can provide these three security properties at near-native speed, supporting memory sizes necessary for large deep learning models. OpenFL originates from the same research lab that created Intel SGX, and has been designed to properly leverage TEEs from the outset. Instructions for how to run OpenFL with SGX are outside the scope of this paper.</p>
</div>
<div id="S2.SS3.SSS2.p2" class="ltx_para">
<p id="S2.SS3.SSS2.p2.1" class="ltx_p">Intel SGX applications run in user-mode (as opposed to kernel-mode), thus in order to access kernel functions within the TEE, we have used the open-source library-OS Graphene with SGX (GSGX)<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. GSGX allows us to run OpenFL code with Intel SGX without any modification to the OpenFL code, and provides mechanisms such as file system encryption and integrity.</p>
</div>
</section>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4 </span>Installation</h3>

<section id="S2.SS4.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.4.1 </span>Baremetal</h4>

<div id="S2.SS4.SSS1.p1" class="ltx_para">
<p id="S2.SS4.SSS1.p1.1" class="ltx_p">OpenFL has been validated on Ubuntu Linux<span id="footnote18" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">18</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">18</sup><span class="ltx_tag ltx_tag_note">18</span><a target="_blank" href="https://ubuntu.com/" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://ubuntu.com/</a></span></span></span> 16.04 and 18.04. To install the latest version, it is recommended to create a Python virtual environment using either “venv”<span id="footnote19" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">19</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">19</sup><span class="ltx_tag ltx_tag_note">19</span><a target="_blank" href="https://docs.python.org/3/tutorial/venv.html" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://docs.python.org/3/tutorial/venv.html</a></span></span></span> or “conda”<span id="footnote20" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">20</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">20</sup><span class="ltx_tag ltx_tag_note">20</span><a target="_blank" href="https://www.anaconda.com/products/individual" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://www.anaconda.com/products/individual</a></span></span></span>. Within the virtual environment, run the following command to install directly from “PyPI”<span id="footnote21" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">21</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">21</sup><span class="ltx_tag ltx_tag_note">21</span><a target="_blank" href="https://pypi.org/project/openfl/" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://pypi.org/project/openfl/</a></span></span></span>:</p>
</div>
<div id="S2.SS4.SSS1.p2" class="ltx_para">
<div id="S2.SS4.SSS1.p2.1" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CnBpcCBpbnN0YWxsIG9wZW5mbAo=" download="">⬇</a></div>
<div id="lstnumberx1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx2.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pip</span><span id="lstnumberx2.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx2.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">install</span><span id="lstnumberx2.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx2.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">openfl</span>
</div>
</div>
</div>
<div id="S2.SS4.SSS1.p3" class="ltx_para">
<p id="S2.SS4.SSS1.p3.1" class="ltx_p">Alternatively, a Python wheel can be generated by downloading or cloning the source code from <a target="_blank" href="https://github.com/intel/openfl" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://github.com/intel/openfl</a> and running the commands:</p>
</div>
<div id="S2.SS4.SSS1.p4" class="ltx_para">
<div id="S2.SS4.SSS1.p4.1" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ci4vc2NyaXB0cy9idWlsZF93aGVlbC5zaApwaXAgaW5zdGFsbCAuL2Rpc3Qvb3BlbmZsLSoud2hsCg==" download="">⬇</a></div>
<div id="lstnumberx3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx4.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">./</span><span id="lstnumberx4.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">scripts</span><span id="lstnumberx4.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx4.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">build_wheel</span><span id="lstnumberx4.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx4.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sh</span>
</div>
<div id="lstnumberx5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span id="lstnumberx5.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pip</span><span id="lstnumberx5.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx5.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">install</span><span id="lstnumberx5.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx5.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">./</span><span id="lstnumberx5.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">dist</span><span id="lstnumberx5.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx5.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">openfl</span><span id="lstnumberx5.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-*.</span><span id="lstnumberx5.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">whl</span>
</div>
</div>
</div>
<div id="S2.SS4.SSS1.p5" class="ltx_para">
<p id="S2.SS4.SSS1.p5.1" class="ltx_p">Once OpenFL has been successfully installed, a new CLI called <code id="S2.SS4.SSS1.p5.1.1" class="ltx_verbatim ltx_font_typewriter">fx</code> is available to develop federations. The <code id="S2.SS4.SSS1.p5.1.2" class="ltx_verbatim ltx_font_typewriter">fx</code> command help page is listed in Fig. <a href="#S2.F6" title="Figure 6 ‣ 2.4.1 Baremetal ‣ 2.4 Installation ‣ 2 The ‘Open Federated Learning’ framework ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<figure id="S2.F6" class="ltx_figure"><img src="/html/2105.06413/assets/figures/cli.png" id="S2.F6.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="598" height="754" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F6.2.1.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="S2.F6.3.2" class="ltx_text" style="font-size:90%;">OpenFL’s fx Command Line Interface</span></figcaption>
</figure>
</section>
<section id="S2.SS4.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.4.2 </span>Docker</h4>

<div id="S2.SS4.SSS2.p1" class="ltx_para">
<p id="S2.SS4.SSS2.p1.1" class="ltx_p">If Docker is installed and running, then simply run the command:</p>
</div>
<div id="S2.SS4.SSS2.p2" class="ltx_para">
<div id="S2.SS4.SSS2.p2.1" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmRvY2tlciBwdWxsIGludGVsL29wZW5mbAo=" download="">⬇</a></div>
<div id="lstnumberx6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx7.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">docker</span><span id="lstnumberx7.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx7.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pull</span><span id="lstnumberx7.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx7.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">intel</span><span id="lstnumberx7.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx7.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">openfl</span>
</div>
</div>
</div>
<div id="S2.SS4.SSS2.p3" class="ltx_para">
<p id="S2.SS4.SSS2.p3.1" class="ltx_p">If you would prefer to build an image from a specific commit or branch, run the following commands:</p>
</div>
<div id="S2.SS4.SSS2.p4" class="ltx_para">
<div id="S2.SS4.SSS2.p4.1" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vaW50ZWwvb3BlbmZsLmdpdApjZCBvcGVuZmwKLi9zY3JpcHRzL2J1aWxkX2Jhc2VfZG9ja2VyX2ltYWdlLnNoCg==" download="">⬇</a></div>
<div id="lstnumberx8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx9.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">git</span><span id="lstnumberx9.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx9.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">clone</span><span id="lstnumberx9.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx9.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">https</span><span id="lstnumberx9.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">://</span><span id="lstnumberx9.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">github</span><span id="lstnumberx9.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx9.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">com</span><span id="lstnumberx9.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx9.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">intel</span><span id="lstnumberx9.12" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx9.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">openfl</span><span id="lstnumberx9.14" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx9.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">git</span>
</div>
<div id="lstnumberx10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span id="lstnumberx10.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">cd</span><span id="lstnumberx10.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx10.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">openfl</span>
</div>
<div id="lstnumberx11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span id="lstnumberx11.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">./</span><span id="lstnumberx11.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">scripts</span><span id="lstnumberx11.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx11.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">build_base_docker_image</span><span id="lstnumberx11.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx11.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sh</span>
</div>
</div>
</div>
<div id="S2.SS4.SSS2.p5" class="ltx_para">
<p id="S2.SS4.SSS2.p5.1" class="ltx_p">To run the base Docker container:</p>
</div>
<div id="S2.SS4.SSS2.p6" class="ltx_para">
<div id="S2.SS4.SSS2.p6.1" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmRvY2tlciBydW4gLWl0IC0tbmV0d29yayBob3N0IG9wZW5mbAo=" download="">⬇</a></div>
<div id="lstnumberx12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx13.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">docker</span><span id="lstnumberx13.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx13.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">run</span><span id="lstnumberx13.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx13.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx13.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">it</span><span id="lstnumberx13.7" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx13.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">--</span><span id="lstnumberx13.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">network</span><span id="lstnumberx13.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx13.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">host</span><span id="lstnumberx13.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx13.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">openfl</span>
</div>
</div>
</div>
</section>
</section>
<section id="S2.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.5 </span>Running a Federation</h3>

<div id="S2.SS5.p1" class="ltx_para">
<p id="S2.SS5.p1.1" class="ltx_p">OpenFL has two methods for developing federations: the Python API and the <code id="S2.SS5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">fx</code> CLI. The CLI is considered the better path for scaling federations within a production environment. The Python API is easier to understand for the data scientist who is working with OpenFL for the first time. Nevertheless, the OpenFL tutorials and demos <span id="footnote22" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">22</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">22</sup><span class="ltx_tag ltx_tag_note">22</span><a target="_blank" href="https://openfl.readthedocs.io/en/latest/running_the_federation.notebook.html" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://openfl.readthedocs.io/en/latest/running˙the˙federation.notebook.html</a></span></span></span> allow users to quickly learn both methods.</p>
</div>
<section id="S2.SS5.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.5.1 </span>Python API</h4>

<div id="S2.SS5.SSS1.p1" class="ltx_para">
<p id="S2.SS5.SSS1.p1.1" class="ltx_p">Once OpenFL is installed in a Python virtual environment, type the command:</p>
</div>
<div id="S2.SS5.SSS1.p2" class="ltx_para">
<div id="S2.SS5.SSS1.p2.1" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IHR1dG9yaWFsIHN0YXJ0Cg==" download="">⬇</a></div>
<div id="lstnumberx14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx15.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx15.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx15.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">tutorial</span><span id="lstnumberx15.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx15.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">start</span>
</div>
</div>
</div>
<div id="S2.SS5.SSS1.p3" class="ltx_para">
<p id="S2.SS5.SSS1.p3.1" class="ltx_p">which will start a Jupyter Notebook server<span id="footnote23" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">23</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">23</sup><span class="ltx_tag ltx_tag_note">23</span><a target="_blank" href="https://jupyter.org" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://jupyter.org</a></span></span></span> that hosts the OpenFL Python API tutorials. Open a web browser and start the notebook tutorial <span id="S2.SS5.SSS1.p3.1.1" class="ltx_text ltx_font_bold">Federated_Keras_MNIST_Tutorial.ipynb</span>.</p>
</div>
<figure id="S2.F7" class="ltx_figure">
<div id="S2.F7.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZyb20gdGVuc29yZmxvdy5rZXJhcyBpbXBvcnQgU2VxdWVudGlhbApmcm9tIHRlbnNvcmZsb3cua2VyYXMubGF5ZXJzIGltcG9ydCBEZW5zZQpccGFyaW1wb3J0IG9wZW5mbC5uYXRpdmUgYXMgZngKZnJvbSBvcGVuZmwuZmVkZXJhdGVkIGltcG9ydCBGZWRlcmF0ZWRNb2RlbCwgRmVkZXJhdGVkRGF0YVNldApccGFyIyBTZXR1cCBkZWZhdWx0IHdvcmtzcGFjZSwgbG9nZ2luZywgZXRjLgpmeC5pbml0KCdrZXJhc19jbm5fbW5pc3QnKQpccGFyIiIiCkRlZmluZSB0aGUgZGF0YSBsb2FkZXIgYW5kIHByZS1wcm9jZXNzaW5nIHN0ZXBzIGhlcmUKIiIiClxwYXJmbF9kYXRhID0gRmVkZXJhdGVkRGF0YVNldCh0cmFpbl9pbWFnZXMsIHRyYWluX2xhYmVscywKdmFsaWRfaW1hZ2VzLCB2YWxpZF9sYWJlbHMsCmJhdGNoX3NpemU9MzIsCm51bV9jbGFzc2VzPWNsYXNzZXMpClxwYXJkZWYgYnVpbGRfbW9kZWwoZmVhdHVyZV9zaGFwZSxjbGFzc2VzKToKIyBEZWZpbmVzIHRoZSBNTklTVCBtb2RlbAptb2RlbCA9IFNlcXVlbnRpYWwoKQptb2RlbC5hZGQoRGVuc2UoNjQsIGlucHV0X3NoYXBlPWZlYXR1cmVfc2hhcGUsIGFjdGl2YXRpb249J3JlbHUnKSkKbW9kZWwuYWRkKERlbnNlKDY0LCBhY3RpdmF0aW9uPSdyZWx1JykpCm1vZGVsLmFkZChEZW5zZShjbGFzc2VzLCBhY3RpdmF0aW9uPSdzb2Z0bWF4JykpClxwYXJtb2RlbC5jb21waWxlKG9wdGltaXplcj0nYWRhbScsCmxvc3M9J2NhdGVnb3JpY2FsX2Nyb3NzZW50cm9weScsCm1ldHJpY3M9WydhY2N1cmFjeSddLCkKcmV0dXJuIG1vZGVsClxwYXJmbF9tb2RlbCA9IEZlZGVyYXRlZE1vZGVsKGJ1aWxkX21vZGVsLCBkYXRhX2xvYWRlcj1mbF9kYXRhKQpccGFyY29sbGFib3JhdG9yX21vZGVscyA9IGZsX21vZGVsLnNldHVwKG51bV9jb2xsYWJvcmF0b3JzPTIpCmNvbGxhYm9yYXRvcnMgPSB7J29uZSc6Y29sbGFib3JhdG9yX21vZGVsc1swXSwKJ3R3byc6Y29sbGFib3JhdG9yX21vZGVsc1sxXX0KXHBhcmZpbmFsX2ZsX21vZGVsID0gZngucnVuX2V4cGVyaW1lbnQoY29sbGFib3JhdG9ycywKb3ZlcnJpZGVfY29uZmlnPXsnYWdncmVnYXRvci5zZXR0aW5ncy5yb3VuZHNfdG9fdHJhaW4nOjV9KQo=" download="">⬇</a></div>
<div id="lstnumberx16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx17.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">from</span><span id="lstnumberx17.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx17.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">tensorflow</span><span id="lstnumberx17.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx17.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">keras</span><span id="lstnumberx17.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx17.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">import</span><span id="lstnumberx17.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx17.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Sequential</span>
</div>
<div id="lstnumberx18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span id="lstnumberx18.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">from</span><span id="lstnumberx18.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx18.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">tensorflow</span><span id="lstnumberx18.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx18.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">keras</span><span id="lstnumberx18.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx18.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">layers</span><span id="lstnumberx18.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx18.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">import</span><span id="lstnumberx18.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx18.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Dense</span>
</div>
<div id="lstnumberx19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span id="lstnumberx19.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx19.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">parimport</span><span id="lstnumberx19.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx19.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">openfl</span><span id="lstnumberx19.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx19.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">native</span><span id="lstnumberx19.7" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx19.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">as</span><span id="lstnumberx19.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx19.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span>
</div>
<div id="lstnumberx20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span id="lstnumberx20.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">from</span><span id="lstnumberx20.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx20.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">openfl</span><span id="lstnumberx20.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx20.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">federated</span><span id="lstnumberx20.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx20.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">import</span><span id="lstnumberx20.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx20.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">FederatedModel</span><span id="lstnumberx20.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx20.11" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx20.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">FederatedDataSet</span>
</div>
<div id="lstnumberx21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span><span id="lstnumberx21.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx21.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">par</span><span id="lstnumberx21.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx21.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx21.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Setup</span><span id="lstnumberx21.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx21.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">default</span><span id="lstnumberx21.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx21.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">workspace</span><span id="lstnumberx21.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx21.11" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx21.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">logging</span><span id="lstnumberx21.13" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx21.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx21.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">etc</span><span id="lstnumberx21.16" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span>
</div>
<div id="lstnumberx22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span id="lstnumberx22.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx22.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx22.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">init</span><span id="lstnumberx22.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(’</span><span id="lstnumberx22.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">keras_cnn_mnist</span><span id="lstnumberx22.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’)</span>
</div>
<div id="lstnumberx23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span><span id="lstnumberx23.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx23.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">par</span><span id="lstnumberx23.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">"""</span>
</div>
<div id="lstnumberx24" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span><span id="lstnumberx24.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Define</span><span id="lstnumberx24.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx24.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">the</span><span id="lstnumberx24.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx24.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data</span><span id="lstnumberx24.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx24.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">loader</span><span id="lstnumberx24.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx24.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">and</span><span id="lstnumberx24.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx24.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pre</span><span id="lstnumberx24.12" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx24.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">processing</span><span id="lstnumberx24.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx24.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">steps</span><span id="lstnumberx24.16" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx24.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">here</span>
</div>
<div id="lstnumberx25" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span><span id="lstnumberx25.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">"""</span>
</div>
<div id="lstnumberx26" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span><span id="lstnumberx26.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx26.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">parfl_data</span><span id="lstnumberx26.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx26.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx26.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx26.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">FederatedDataSet</span><span id="lstnumberx26.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx26.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">train_images</span><span id="lstnumberx26.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx26.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx26.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">train_labels</span><span id="lstnumberx26.12" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span>
</div>
<div id="lstnumberx27" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span><span id="lstnumberx27.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">valid_images</span><span id="lstnumberx27.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx27.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx27.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">valid_labels</span><span id="lstnumberx27.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span>
</div>
<div id="lstnumberx28" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span><span id="lstnumberx28.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">batch_size</span><span id="lstnumberx28.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=32,</span>
</div>
<div id="lstnumberx29" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span><span id="lstnumberx29.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">num_classes</span><span id="lstnumberx29.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx29.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">classes</span><span id="lstnumberx29.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx30" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span><span id="lstnumberx30.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx30.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pardef</span><span id="lstnumberx30.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx30.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">build_model</span><span id="lstnumberx30.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx30.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">feature_shape</span><span id="lstnumberx30.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx30.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">classes</span><span id="lstnumberx30.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx31" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span><span id="lstnumberx31.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx31.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx31.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Defines</span><span id="lstnumberx31.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx31.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">the</span><span id="lstnumberx31.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx31.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">MNIST</span><span id="lstnumberx31.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx31.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model</span>
</div>
<div id="lstnumberx32" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span><span id="lstnumberx32.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model</span><span id="lstnumberx32.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx32.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx32.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx32.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Sequential</span><span id="lstnumberx32.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">()</span>
</div>
<div id="lstnumberx33" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18</span><span id="lstnumberx33.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model</span><span id="lstnumberx33.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx33.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">add</span><span id="lstnumberx33.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx33.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Dense</span><span id="lstnumberx33.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(64,</span><span id="lstnumberx33.7" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx33.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">input_shape</span><span id="lstnumberx33.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx33.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">feature_shape</span><span id="lstnumberx33.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx33.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx33.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">activation</span><span id="lstnumberx33.14" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=’</span><span id="lstnumberx33.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">relu</span><span id="lstnumberx33.16" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’))</span>
</div>
<div id="lstnumberx34" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19</span><span id="lstnumberx34.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model</span><span id="lstnumberx34.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx34.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">add</span><span id="lstnumberx34.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx34.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Dense</span><span id="lstnumberx34.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(64,</span><span id="lstnumberx34.7" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx34.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">activation</span><span id="lstnumberx34.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=’</span><span id="lstnumberx34.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">relu</span><span id="lstnumberx34.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’))</span>
</div>
<div id="lstnumberx35" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20</span><span id="lstnumberx35.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model</span><span id="lstnumberx35.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx35.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">add</span><span id="lstnumberx35.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx35.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Dense</span><span id="lstnumberx35.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx35.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">classes</span><span id="lstnumberx35.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx35.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx35.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">activation</span><span id="lstnumberx35.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=’</span><span id="lstnumberx35.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">softmax</span><span id="lstnumberx35.13" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’))</span>
</div>
<div id="lstnumberx36" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">21</span><span id="lstnumberx36.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx36.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">parmodel</span><span id="lstnumberx36.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx36.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">compile</span><span id="lstnumberx36.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx36.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">optimizer</span><span id="lstnumberx36.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=’</span><span id="lstnumberx36.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">adam</span><span id="lstnumberx36.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’,</span>
</div>
<div id="lstnumberx37" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">22</span><span id="lstnumberx37.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">loss</span><span id="lstnumberx37.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=’</span><span id="lstnumberx37.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">categorical_crossentropy</span><span id="lstnumberx37.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’,</span>
</div>
<div id="lstnumberx38" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">23</span><span id="lstnumberx38.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">metrics</span><span id="lstnumberx38.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=[’</span><span id="lstnumberx38.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">accuracy</span><span id="lstnumberx38.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’],)</span>
</div>
<div id="lstnumberx39" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">24</span><span id="lstnumberx39.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">return</span><span id="lstnumberx39.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx39.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model</span>
</div>
<div id="lstnumberx40" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">25</span><span id="lstnumberx40.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx40.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">parfl_model</span><span id="lstnumberx40.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx40.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx40.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx40.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">FederatedModel</span><span id="lstnumberx40.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx40.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">build_model</span><span id="lstnumberx40.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx40.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx40.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data_loader</span><span id="lstnumberx40.12" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx40.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fl_data</span><span id="lstnumberx40.14" class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx41" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">26</span><span id="lstnumberx41.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx41.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">parcollaborator_models</span><span id="lstnumberx41.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx41.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx41.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx41.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fl_model</span><span id="lstnumberx41.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx41.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">setup</span><span id="lstnumberx41.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx41.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">num_collaborators</span><span id="lstnumberx41.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=2)</span>
</div>
<div id="lstnumberx42" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">27</span><span id="lstnumberx42.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborators</span><span id="lstnumberx42.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx42.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx42.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx42.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">{’</span><span id="lstnumberx42.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">one</span><span id="lstnumberx42.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’:</span><span id="lstnumberx42.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborator_models</span><span id="lstnumberx42.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">[0],</span>
</div>
<div id="lstnumberx43" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">28</span><span id="lstnumberx43.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’</span><span id="lstnumberx43.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">two</span><span id="lstnumberx43.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’:</span><span id="lstnumberx43.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborator_models</span><span id="lstnumberx43.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">[1]}</span>
</div>
<div id="lstnumberx44" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">29</span><span id="lstnumberx44.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx44.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">parfinal_fl_model</span><span id="lstnumberx44.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx44.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx44.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx44.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx44.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx44.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">run_experiment</span><span id="lstnumberx44.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx44.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborators</span><span id="lstnumberx44.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span>
</div>
<div id="lstnumberx45" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">30</span><span id="lstnumberx45.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">override_config</span><span id="lstnumberx45.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">={’</span><span id="lstnumberx45.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">aggregator</span><span id="lstnumberx45.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx45.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">settings</span><span id="lstnumberx45.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx45.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">rounds_to_train</span><span id="lstnumberx45.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’:5})</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S2.F7.3.1.1" class="ltx_text" style="font-size:90%;">Figure 7</span>: </span><span id="S2.F7.4.2" class="ltx_text" style="font-size:90%;">Python API example</span></figcaption>
</figure>
<div id="S2.SS5.SSS1.p4" class="ltx_para">
<p id="S2.SS5.SSS1.p4.1" class="ltx_p">Listing <a href="#S2.F7" title="Figure 7 ‣ 2.5.1 Python API ‣ 2.5 Running a Federation ‣ 2 The ‘Open Federated Learning’ framework ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows a simplified version of the tutorial. Lines 4-5 import the OpenFL <code id="S2.SS5.SSS1.p4.1.1" class="ltx_verbatim ltx_font_typewriter">fx</code> function and the <span id="S2.SS5.SSS1.p4.1.2" class="ltx_text ltx_font_italic">FederatedDataSet</span> and <span id="S2.SS5.SSS1.p4.1.3" class="ltx_text ltx_font_italic">FederatedModel</span> classes. In this example, the <span id="S2.SS5.SSS1.p4.1.4" class="ltx_text ltx_font_italic">FederatedDataSet</span> class will be used to wrap the MNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> dataset and shard it equally across the collaborators. Obviously, in a real-world case, the dataset would already exist on the individual collaborators and would need no sharding. On line 31, the <span id="S2.SS5.SSS1.p4.1.5" class="ltx_text ltx_font_italic">FederatedModel</span> class is used to instantiate an FL model. Note the <code id="S2.SS5.SSS1.p4.1.6" class="ltx_verbatim ltx_font_typewriter">fx</code> commands on lines 8 and 37. Here the <code id="S2.SS5.SSS1.p4.1.7" class="ltx_verbatim ltx_font_typewriter">fx</code> command is used to initialize an FL workspace directory for the code and then run the FL experiment. An example of the logs for the experiment is shown in Fig. <a href="#S2.F8" title="Figure 8 ‣ 2.5.1 Python API ‣ 2.5 Running a Federation ‣ 2 The ‘Open Federated Learning’ framework ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>.</p>
</div>
<figure id="S2.F8" class="ltx_figure"><img src="/html/2105.06413/assets/x1.png" id="S2.F8.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="611" height="1199" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F8.2.1.1" class="ltx_text" style="font-size:90%;">Figure 8</span>: </span><span id="S2.F8.3.2" class="ltx_text" style="font-size:90%;">The OpenFL logs from the aggregator (left) and two collaborators (middle, right) during the Keras MNIST tutorial.</span></figcaption>
</figure>
</section>
<section id="S2.SS5.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.5.2 </span>Experimental: Interactive Python API</h4>

<div id="S2.SS5.SSS2.p1" class="ltx_para">
<p id="S2.SS5.SSS2.p1.1" class="ltx_p">An alternate OpenFL Python API Layer is being developed to further simplify defining FL experiments. It is anticipated that this approach will be the preferred API for developers in the future to create multi-node FL workloads. The interactive API allows creating and launching experiments from a single entry point - a Jupyter notebook or a Python script. Users of the Interactive API can operate on Python objects and use them in FL experiments. Defining an experiment includes setting up several interface entities and experiment parameters.</p>
</div>
<div id="S2.SS5.SSS2.p2" class="ltx_para">
<p id="S2.SS5.SSS2.p2.1" class="ltx_p">Tutorial notebooks with the Interactive API use cases are available as a part of OpenFL repository and Listing <a href="#S2.F9" title="Figure 9 ‣ 2.5.2 Experimental: Interactive Python API ‣ 2.5 Running a Federation ‣ 2 The ‘Open Federated Learning’ framework ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> shows a simplified example. Lines 3-7 describe the Federation object setup; Federation API is the place to tune network parameters and settings that are specific for different collaborator nodes. On lines 10-45 interactive API components are used to register an ML model (with its optimizer), an FL task, and an FL data loader. Lines 48-56 are devoted to the Experiment API that uses the Python objects previously defined to compile all the parts and settings required to start a federation. This API can pack these components into a distributable archive and can start the aggregator to conduct the FL experiment.</p>
</div>
<figure id="S2.F9" class="ltx_figure">
<div id="S2.F9.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CiMgRmlyc3QsIGNyZWF0ZSBhIGZlZGVyYXRpb24gb2JqZWN0cwpmcm9tIG9wZW5mbC5pbnRlcmZhY2UuaW50ZXJhY3RpdmVfYXBpLmZlZGVyYXRpb24gaW1wb3J0IEZlZGVyYXRpb24KZmVkZXJhdGlvbiA9IEZlZGVyYXRpb24oY2VudHJhbF9ub2RlX2ZxZG46IHN0ciwgZGlzYWJsZV90bHM6IGJvb2wsCmNlcnRfY2hhaW46IHN0ciwgYWdnX2NlcnRpZmljYXRlOiBzdHIsIGFnZ19wcml2YXRlX2tleTogc3RyKQpmZWRlcmF0aW9uLnJlZ2lzdGVyX2NvbGxhYm9yYXRvcnMoY29sX2RhdGFfcGF0aHM9CnsiY29sbGFib3JhdG9yIDEgbmFtZSI6ICJsb2NhbCBkYXRhIHBhdGgiLAoiY29sbGFib3JhdG9yIDIgbmFtZSI6ICJsb2NhbCBkYXRhIHBhdGgifSkKXHBhciMgUmVnaXN0ZXIgYSBtb2RlbCwgdGFza3MsIGFuZCBhIGRhdGFsb2FkZXIKZnJvbSBvcGVuZmwuaW50ZXJmYWNlLmludGVyYWN0aXZlX2FwaS5leHBlcmltZW50IGltcG9ydApUYXNrSW50ZXJmYWNlLCBEYXRhSW50ZXJmYWNlLCBNb2RlbEludGVyZmFjZQojIE1vZGVsCk1JID0gTW9kZWxJbnRlcmZhY2UobW9kZWwsIG9wdGltaXplciwgZnJhbWV3b3JrX3BsdWdpbikKXHBhciMgVGFza3MKVEkgPSBUYXNrSW50ZXJmYWNlKCkKXHBhcnRhc2tfc2V0dGluZ3MgPSB7CidiYXRjaF9zaXplJzogMzIsCidzb21lX2FyZyc6IDIyOCwKfQpAVEkuYWRkX2t3YXJncygqKnRhc2tfc2V0dGluZ3MpCkBUSS5yZWdpc3Rlcl9mbF90YXNrKG1vZGVsPSdteV9tb2RlbCcsIGRhdGFfbG9hZGVyPSd0cmFpbl9sb2FkZXInLApkZXZpY2U9J2RldmljZScsIG9wdGltaXplcj0nbXlfQWRhbV9vcHQnKQpkZWYgZm9vX3RyYWluaW5nX3Rhc2sobXlfbW9kZWwsIHRyYWluX2xvYWRlciwgbXlfQWRhbV9vcHQsIGRldmljZSwgYmF0Y2hfc2l6ZSwgc29tZV9hcmc9MzU2KQojIFRhc2sgYm9keQpwYXNzClxwYXIjIERhdGFsb2FkZXIKY2xhc3MgRmVkRGF0YXNldChEYXRhSW50ZXJmYWNlKToKZGVmIF9kZWxheWVkX2luaXQoc2VsZiwgZGF0YV9wYXRoKToKIyBEbyBkYXRhc2V0IHByZXBhcmF0aW9ucwojIGRhdGFfcGF0aCB2YWx1ZXMgd2VyZSByZWdpc3RlcmVkIG9uIHRoZSBmZWRlcmF0aW9uIGxldmVsClxwYXJccGFyZGVmIGdldF90cmFpbl9sb2FkZXIoc2VsZiwgKiprd2FyZ3MpOgojIFRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIGJlZm9yZSB0cmFpbmluZyB0YXNrcyBleGVjdXRpb24uCiMgVGhpcyBtZXRob2QgbXVzdCByZXR1cm4gYW55dGhpbmcgdXNlciBleHBlY3RzIHRvIHJlY2VpdmUKIyBpbiB0aGUgdHJhaW5pbmcgdGFzayB3aXRoIGRhdGFfbG9hZGVyIGNvbnRyYWN0IGFyZ3VtZW50LgpwYXNzClxwYXJkZWYgZ2V0X3RyYWluX2RhdGFfc2l6ZShzZWxmKToKIyByZXR1cm4gbnVtYmVyIG9mIHNhbXBsZXMgaW4gbG9jYWwgdHJhaW4gZGF0YXNldC4KcGFzcwpccGFyZmVkX2RhdGFzZXQgPSBGZWREYXRhc2V0KCkKXHBhciMgQ3JlYXRlIGFuIEV4cGVyaW1lbnQgb2JqZWN0CmZyb20gb3BlbmZsLmludGVyZmFjZS5pbnRlcmFjdGl2ZV9hcGkuZXhwZXJpbWVudCBpbXBvcnQgRkxFeHBlcmltZW50CmZsX2V4cGVyaW1lbnQgPSBGTEV4cGVyaW1lbnQoZmVkZXJhdGlvbj1mZWRlcmF0aW9uKQpccGFyIyBGTCBleHBlcmltZW50IGNhbiBhdXRvbWF0aWNhbGx5IHByZXBhcmUgdGhlIEZMIHBsYW4gYW5kIHRoZSB3b3Jrc3BhY2UgYXJjaGl2ZQpmbF9leHBlcmltZW50LnByZXBhcmVfd29ya3NwYWNlX2Rpc3RyaWJ1dGlvbihtb2RlbF9wcm92aWRlcj1NSSwgdGFza19rZWVwZXI9VEksCmRhdGFfbG9hZGVyPWZlZF9kYXRhc2V0LCByb3VuZHNfdG9fdHJhaW49NSwgXA1vcHRfdHJlYXRtZW50PSdDT05USU5VRV9HTE9CQUwnKQojIFN0YXJ0IGFuIGFnZ3JlZ2F0b3Igd2l0aCBpbml0aWFsIG1vZGVsIHdlaWdodHMKZmxfZXhwZXJpbWVudC5zdGFydF9leHBlcmltZW50KG1vZGVsX3Byb3ZpZGVyPU1JKQpccGFyIyBNb3ZlIHRoZSB3b3Jrc3BhY2UgYXJjaGl2ZSB0byBjb2xsYWJvcmF0b3Igbm9kZXMgYW5kIHJ1biBjb2xsYWJvcmF0b3IgcHJvY2Vzc2VzCg==" download="">⬇</a></div>
<div id="lstnumberx46" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx47" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx47.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx47.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx47.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">First</span><span id="lstnumberx47.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx47.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx47.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">create</span><span id="lstnumberx47.7" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx47.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">a</span><span id="lstnumberx47.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx47.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">federation</span><span id="lstnumberx47.11" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx47.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">objects</span>
</div>
<div id="lstnumberx48" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span id="lstnumberx48.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">from</span><span id="lstnumberx48.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx48.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">openfl</span><span id="lstnumberx48.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx48.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">interface</span><span id="lstnumberx48.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx48.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">interactive_api</span><span id="lstnumberx48.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx48.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">federation</span><span id="lstnumberx48.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx48.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">import</span><span id="lstnumberx48.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx48.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Federation</span>
</div>
<div id="lstnumberx49" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span id="lstnumberx49.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">federation</span><span id="lstnumberx49.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx49.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx49.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx49.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Federation</span><span id="lstnumberx49.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx49.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">central_node_fqdn</span><span id="lstnumberx49.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span><span id="lstnumberx49.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx49.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">str</span><span id="lstnumberx49.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx49.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx49.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">disable_tls</span><span id="lstnumberx49.14" class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span><span id="lstnumberx49.15" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx49.16" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">bool</span><span id="lstnumberx49.17" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span>
</div>
<div id="lstnumberx50" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span id="lstnumberx50.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">cert_chain</span><span id="lstnumberx50.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span><span id="lstnumberx50.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx50.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">str</span><span id="lstnumberx50.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx50.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx50.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">agg_certificate</span><span id="lstnumberx50.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span><span id="lstnumberx50.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx50.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">str</span><span id="lstnumberx50.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx50.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx50.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">agg_private_key</span><span id="lstnumberx50.14" class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span><span id="lstnumberx50.15" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx50.16" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">str</span><span id="lstnumberx50.17" class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx51" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span><span id="lstnumberx51.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">federation</span><span id="lstnumberx51.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx51.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">register_collaborators</span><span id="lstnumberx51.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx51.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">col_data_paths</span><span id="lstnumberx51.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span>
</div>
<div id="lstnumberx52" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span id="lstnumberx52.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">{"</span><span id="lstnumberx52.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborator</span><span id="lstnumberx52.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx52.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">1</span><span id="lstnumberx52.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx52.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">name</span><span id="lstnumberx52.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">":</span><span id="lstnumberx52.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx52.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">"</span><span id="lstnumberx52.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">local</span><span id="lstnumberx52.11" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx52.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data</span><span id="lstnumberx52.13" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx52.14" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">path</span><span id="lstnumberx52.15" class="ltx_text ltx_font_typewriter" style="font-size:80%;">",</span>
</div>
<div id="lstnumberx53" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span><span id="lstnumberx53.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">"</span><span id="lstnumberx53.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborator</span><span id="lstnumberx53.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx53.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">2</span><span id="lstnumberx53.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx53.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">name</span><span id="lstnumberx53.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">":</span><span id="lstnumberx53.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx53.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">"</span><span id="lstnumberx53.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">local</span><span id="lstnumberx53.11" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx53.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data</span><span id="lstnumberx53.13" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx53.14" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">path</span><span id="lstnumberx53.15" class="ltx_text ltx_font_typewriter" style="font-size:80%;">"})</span>
</div>
<div id="lstnumberx54" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span><span id="lstnumberx54.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx54.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">par</span><span id="lstnumberx54.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx54.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx54.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Register</span><span id="lstnumberx54.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx54.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">a</span><span id="lstnumberx54.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx54.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model</span><span id="lstnumberx54.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx54.11" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx54.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">tasks</span><span id="lstnumberx54.13" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx54.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx54.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">and</span><span id="lstnumberx54.16" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx54.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">a</span><span id="lstnumberx54.18" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx54.19" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">dataloader</span>
</div>
<div id="lstnumberx55" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span><span id="lstnumberx55.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">from</span><span id="lstnumberx55.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx55.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">openfl</span><span id="lstnumberx55.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx55.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">interface</span><span id="lstnumberx55.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx55.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">interactive_api</span><span id="lstnumberx55.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx55.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">experiment</span><span id="lstnumberx55.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx55.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">import</span>
</div>
<div id="lstnumberx56" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span><span id="lstnumberx56.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">TaskInterface</span><span id="lstnumberx56.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx56.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx56.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">DataInterface</span><span id="lstnumberx56.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx56.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx56.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">ModelInterface</span>
</div>
<div id="lstnumberx57" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span><span id="lstnumberx57.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx57.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx57.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Model</span>
</div>
<div id="lstnumberx58" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span><span id="lstnumberx58.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">MI</span><span id="lstnumberx58.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx58.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx58.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx58.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">ModelInterface</span><span id="lstnumberx58.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx58.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model</span><span id="lstnumberx58.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx58.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx58.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">optimizer</span><span id="lstnumberx58.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx58.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx58.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">framework_plugin</span><span id="lstnumberx58.14" class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx59" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span><span id="lstnumberx59.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx59.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">par</span><span id="lstnumberx59.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx59.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx59.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Tasks</span>
</div>
<div id="lstnumberx60" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span><span id="lstnumberx60.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">TI</span><span id="lstnumberx60.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx60.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx60.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx60.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">TaskInterface</span><span id="lstnumberx60.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">()</span>
</div>
<div id="lstnumberx61" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span><span id="lstnumberx61.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx61.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">partask_settings</span><span id="lstnumberx61.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx61.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx61.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx61.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx62" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span><span id="lstnumberx62.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’</span><span id="lstnumberx62.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">batch_size</span><span id="lstnumberx62.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’:</span><span id="lstnumberx62.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx62.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">32,</span>
</div>
<div id="lstnumberx63" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18</span><span id="lstnumberx63.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’</span><span id="lstnumberx63.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">some_arg</span><span id="lstnumberx63.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’:</span><span id="lstnumberx63.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx63.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">228,</span>
</div>
<div id="lstnumberx64" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19</span><span id="lstnumberx64.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx65" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20</span><span id="lstnumberx65.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">@TI</span><span id="lstnumberx65.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx65.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">add_kwargs</span><span id="lstnumberx65.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(**</span><span id="lstnumberx65.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">task_settings</span><span id="lstnumberx65.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx66" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">21</span><span id="lstnumberx66.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">@TI</span><span id="lstnumberx66.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx66.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">register_fl_task</span><span id="lstnumberx66.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx66.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model</span><span id="lstnumberx66.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=’</span><span id="lstnumberx66.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">my_model</span><span id="lstnumberx66.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’,</span><span id="lstnumberx66.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx66.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data_loader</span><span id="lstnumberx66.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=’</span><span id="lstnumberx66.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">train_loader</span><span id="lstnumberx66.13" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’,</span>
</div>
<div id="lstnumberx67" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">22</span><span id="lstnumberx67.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">device</span><span id="lstnumberx67.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=’</span><span id="lstnumberx67.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">device</span><span id="lstnumberx67.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’,</span><span id="lstnumberx67.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx67.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">optimizer</span><span id="lstnumberx67.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=’</span><span id="lstnumberx67.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">my_Adam_opt</span><span id="lstnumberx67.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’)</span>
</div>
<div id="lstnumberx68" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">23</span><span id="lstnumberx68.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">def</span><span id="lstnumberx68.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx68.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">foo_training_task</span><span id="lstnumberx68.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx68.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">my_model</span><span id="lstnumberx68.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx68.7" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx68.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">train_loader</span><span id="lstnumberx68.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx68.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx68.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">my_Adam_opt</span><span id="lstnumberx68.12" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx68.13" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx68.14" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">device</span><span id="lstnumberx68.15" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx68.16" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx68.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">batch_size</span><span id="lstnumberx68.18" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx68.19" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx68.20" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">some_arg</span><span id="lstnumberx68.21" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=356)</span>
</div>
<div id="lstnumberx69" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">24</span><span id="lstnumberx69.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx69.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx69.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Task</span><span id="lstnumberx69.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx69.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">body</span>
</div>
<div id="lstnumberx70" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">25</span><span id="lstnumberx70.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pass</span>
</div>
<div id="lstnumberx71" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">26</span><span id="lstnumberx71.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx71.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">par</span><span id="lstnumberx71.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx71.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx71.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Dataloader</span>
</div>
<div id="lstnumberx72" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">27</span><span id="lstnumberx72.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">class</span><span id="lstnumberx72.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx72.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">FedDataset</span><span id="lstnumberx72.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx72.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">DataInterface</span><span id="lstnumberx72.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx73" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">28</span><span id="lstnumberx73.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">def</span><span id="lstnumberx73.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx73.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">_delayed_init</span><span id="lstnumberx73.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx73.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">self</span><span id="lstnumberx73.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx73.7" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx73.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data_path</span><span id="lstnumberx73.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx74" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">29</span><span id="lstnumberx74.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx74.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx74.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Do</span><span id="lstnumberx74.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx74.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">dataset</span><span id="lstnumberx74.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx74.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">preparations</span>
</div>
<div id="lstnumberx75" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">30</span><span id="lstnumberx75.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx75.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx75.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data_path</span><span id="lstnumberx75.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx75.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">values</span><span id="lstnumberx75.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx75.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">were</span><span id="lstnumberx75.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx75.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">registered</span><span id="lstnumberx75.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx75.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">on</span><span id="lstnumberx75.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx75.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">the</span><span id="lstnumberx75.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx75.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">federation</span><span id="lstnumberx75.16" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx75.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">level</span>
</div>
<div id="lstnumberx76" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">31</span><span id="lstnumberx76.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx76.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">par</span><span id="lstnumberx76.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx76.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pardef</span><span id="lstnumberx76.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx76.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">get_train_loader</span><span id="lstnumberx76.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx76.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">self</span><span id="lstnumberx76.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx76.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx76.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">**</span><span id="lstnumberx76.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">kwargs</span><span id="lstnumberx76.13" class="ltx_text ltx_font_typewriter" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx77" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">32</span><span id="lstnumberx77.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx77.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx77.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">This</span><span id="lstnumberx77.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx77.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">method</span><span id="lstnumberx77.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx77.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">will</span><span id="lstnumberx77.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx77.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">be</span><span id="lstnumberx77.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx77.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">called</span><span id="lstnumberx77.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx77.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">before</span><span id="lstnumberx77.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx77.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">training</span><span id="lstnumberx77.16" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx77.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">tasks</span><span id="lstnumberx77.18" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx77.19" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">execution</span><span id="lstnumberx77.20" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span>
</div>
<div id="lstnumberx78" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">33</span><span id="lstnumberx78.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx78.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx78.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">This</span><span id="lstnumberx78.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx78.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">method</span><span id="lstnumberx78.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx78.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">must</span><span id="lstnumberx78.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx78.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">return</span><span id="lstnumberx78.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx78.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">anything</span><span id="lstnumberx78.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx78.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">user</span><span id="lstnumberx78.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx78.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">expects</span><span id="lstnumberx78.16" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx78.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">to</span><span id="lstnumberx78.18" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx78.19" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">receive</span>
</div>
<div id="lstnumberx79" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">34</span><span id="lstnumberx79.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx79.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx79.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">in</span><span id="lstnumberx79.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx79.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">the</span><span id="lstnumberx79.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx79.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">training</span><span id="lstnumberx79.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx79.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">task</span><span id="lstnumberx79.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx79.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">with</span><span id="lstnumberx79.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx79.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data_loader</span><span id="lstnumberx79.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx79.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">contract</span><span id="lstnumberx79.16" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx79.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">argument</span><span id="lstnumberx79.18" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span>
</div>
<div id="lstnumberx80" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">35</span><span id="lstnumberx80.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pass</span>
</div>
<div id="lstnumberx81" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">36</span><span id="lstnumberx81.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx81.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pardef</span><span id="lstnumberx81.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx81.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">get_train_data_size</span><span id="lstnumberx81.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx81.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">self</span><span id="lstnumberx81.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx82" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">37</span><span id="lstnumberx82.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx82.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx82.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">return</span><span id="lstnumberx82.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx82.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">number</span><span id="lstnumberx82.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx82.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">of</span><span id="lstnumberx82.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx82.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">samples</span><span id="lstnumberx82.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx82.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">in</span><span id="lstnumberx82.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx82.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">local</span><span id="lstnumberx82.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx82.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">train</span><span id="lstnumberx82.16" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx82.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">dataset</span><span id="lstnumberx82.18" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span>
</div>
<div id="lstnumberx83" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">38</span><span id="lstnumberx83.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pass</span>
</div>
<div id="lstnumberx84" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">39</span><span id="lstnumberx84.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx84.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">parfed_dataset</span><span id="lstnumberx84.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx84.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx84.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx84.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">FedDataset</span><span id="lstnumberx84.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">()</span>
</div>
<div id="lstnumberx85" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">40</span><span id="lstnumberx85.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx85.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">par</span><span id="lstnumberx85.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx85.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx85.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Create</span><span id="lstnumberx85.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx85.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">an</span><span id="lstnumberx85.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx85.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Experiment</span><span id="lstnumberx85.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx85.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">object</span>
</div>
<div id="lstnumberx86" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">41</span><span id="lstnumberx86.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">from</span><span id="lstnumberx86.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx86.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">openfl</span><span id="lstnumberx86.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx86.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">interface</span><span id="lstnumberx86.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx86.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">interactive_api</span><span id="lstnumberx86.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx86.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">experiment</span><span id="lstnumberx86.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx86.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">import</span><span id="lstnumberx86.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx86.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">FLExperiment</span>
</div>
<div id="lstnumberx87" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">42</span><span id="lstnumberx87.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fl_experiment</span><span id="lstnumberx87.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx87.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx87.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx87.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">FLExperiment</span><span id="lstnumberx87.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx87.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">federation</span><span id="lstnumberx87.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx87.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">federation</span><span id="lstnumberx87.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx88" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">43</span><span id="lstnumberx88.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx88.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">par</span><span id="lstnumberx88.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx88.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">FL</span><span id="lstnumberx88.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">experiment</span><span id="lstnumberx88.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">can</span><span id="lstnumberx88.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">automatically</span><span id="lstnumberx88.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">prepare</span><span id="lstnumberx88.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">the</span><span id="lstnumberx88.16" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">FL</span><span id="lstnumberx88.18" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.19" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">plan</span><span id="lstnumberx88.20" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.21" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">and</span><span id="lstnumberx88.22" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.23" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">the</span><span id="lstnumberx88.24" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.25" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">workspace</span><span id="lstnumberx88.26" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx88.27" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">archive</span>
</div>
<div id="lstnumberx89" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">44</span><span id="lstnumberx89.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fl_experiment</span><span id="lstnumberx89.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx89.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">prepare_workspace_distribution</span><span id="lstnumberx89.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx89.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model_provider</span><span id="lstnumberx89.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx89.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">MI</span><span id="lstnumberx89.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx89.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx89.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">task_keeper</span><span id="lstnumberx89.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx89.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">TI</span><span id="lstnumberx89.13" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span>
</div>
<div id="lstnumberx90" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">45</span><span id="lstnumberx90.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data_loader</span><span id="lstnumberx90.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx90.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fed_dataset</span><span id="lstnumberx90.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span id="lstnumberx90.5" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx90.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">rounds_to_train</span><span id="lstnumberx90.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=5,</span><span id="lstnumberx90.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx90.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx90.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx90.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">opt_treatment</span><span id="lstnumberx90.12" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=’</span><span id="lstnumberx90.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">CONTINUE_GLOBAL</span><span id="lstnumberx90.14" class="ltx_text ltx_font_typewriter" style="font-size:80%;">’)</span>
</div>
<div id="lstnumberx91" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">46</span><span id="lstnumberx91.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx91.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx91.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Start</span><span id="lstnumberx91.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx91.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">an</span><span id="lstnumberx91.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx91.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">aggregator</span><span id="lstnumberx91.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx91.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">with</span><span id="lstnumberx91.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx91.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">initial</span><span id="lstnumberx91.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx91.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model</span><span id="lstnumberx91.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx91.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">weights</span>
</div>
<div id="lstnumberx92" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">47</span><span id="lstnumberx92.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fl_experiment</span><span id="lstnumberx92.2" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx92.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">start_experiment</span><span id="lstnumberx92.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span id="lstnumberx92.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">model_provider</span><span id="lstnumberx92.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span id="lstnumberx92.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">MI</span><span id="lstnumberx92.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx93" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">48</span><span id="lstnumberx93.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">\</span><span id="lstnumberx93.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">par</span><span id="lstnumberx93.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;">#</span><span id="lstnumberx93.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx93.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Move</span><span id="lstnumberx93.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx93.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">the</span><span id="lstnumberx93.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx93.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">workspace</span><span id="lstnumberx93.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx93.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">archive</span><span id="lstnumberx93.12" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx93.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">to</span><span id="lstnumberx93.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx93.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborator</span><span id="lstnumberx93.16" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx93.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">nodes</span><span id="lstnumberx93.18" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx93.19" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">and</span><span id="lstnumberx93.20" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx93.21" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">run</span><span id="lstnumberx93.22" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx93.23" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborator</span><span id="lstnumberx93.24" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx93.25" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">processes</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S2.F9.3.1.1" class="ltx_text" style="font-size:90%;">Figure 9</span>: </span><span id="S2.F9.4.2" class="ltx_text" style="font-size:90%;">Experimental Interactive Python API example</span></figcaption>
</figure>
</section>
<section id="S2.SS5.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.5.3 </span>Command Line Interface (fx CLI)</h4>

<div id="S2.SS5.SSS3.p1" class="ltx_para">
<p id="S2.SS5.SSS3.p1.1" class="ltx_p">Federation can also be run using individual <code id="S2.SS5.SSS3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">fx</code> CLI commands. Here are a series of steps to run a federation experiment with <code id="S2.SS5.SSS3.p1.1.2" class="ltx_verbatim ltx_font_typewriter">fx</code> CLI:
<br class="ltx_break">
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p2" class="ltx_para">
<p id="S2.SS5.SSS3.p2.1" class="ltx_p">1. Make sure that you have initialized the virtual environment.
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p3" class="ltx_para">
<p id="S2.SS5.SSS3.p3.1" class="ltx_p">2. Create a workspace for the new federation project</p>
<div id="S2.SS5.SSS3.p3.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IHdvcmtzcGFjZSBjcmVhdGUgLS1wcmVmaXggJHtXT1JLU1BBQ0VfUEFUSH0KLS10ZW1wbGF0ZSAke1dPUktTUEFDRV9URU1QTEFURX0K" download="">⬇</a></div>
<div id="lstnumberx94" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx95" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx95.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx95.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx95.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">workspace</span><span id="lstnumberx95.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx95.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">create</span><span id="lstnumberx95.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx95.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">--</span><span id="lstnumberx95.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">prefix</span><span id="lstnumberx95.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx95.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">$</span><span id="lstnumberx95.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span><span id="lstnumberx95.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">WORKSPACE_PATH</span><span id="lstnumberx95.13" class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx96" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span id="lstnumberx96.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;">--</span><span id="lstnumberx96.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">template</span><span id="lstnumberx96.3" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx96.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">$</span><span id="lstnumberx96.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span><span id="lstnumberx96.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">WORKSPACE_TEMPLATE</span><span id="lstnumberx96.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
</div>
<p id="S2.SS5.SSS3.p3.3" class="ltx_p">where <span id="S2.SS5.SSS3.p3.3.1" class="ltx_text ltx_font_italic">–prefix</span> is the directory to create the workspace and <span id="S2.SS5.SSS3.p3.3.2" class="ltx_text ltx_font_italic">–template</span> is the template that can be chosen from a list of pre-existing templates that can be found by running this command:</p>
</div>
<div id="S2.SS5.SSS3.p4" class="ltx_para">
<div id="S2.SS5.SSS3.p4.1" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IHdvcmtzcGFjZSBjcmVhdGUgLS1wcmVmaXggJHtXT1JLU1BBQ0VfUEFUSH0K" download="">⬇</a></div>
<div id="lstnumberx97" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx98" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx98.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx98.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx98.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">workspace</span><span id="lstnumberx98.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx98.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">create</span><span id="lstnumberx98.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx98.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">--</span><span id="lstnumberx98.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">prefix</span><span id="lstnumberx98.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx98.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">$</span><span id="lstnumberx98.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span><span id="lstnumberx98.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">WORKSPACE_PATH</span><span id="lstnumberx98.13" class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
</div>
</div>
<div id="S2.SS5.SSS3.p5" class="ltx_para">
<p id="S2.SS5.SSS3.p5.1" class="ltx_p">3. Change to the workspace directory</p>
<div id="S2.SS5.SSS3.p5.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmNkICR7V09SS1NQQUNFX1BBVEh9Cg==" download="">⬇</a></div>
<div id="lstnumberx99" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx100" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx100.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">cd</span><span id="lstnumberx100.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx100.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">$</span><span id="lstnumberx100.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span><span id="lstnumberx100.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">WORKSPACE_PATH</span><span id="lstnumberx100.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
</div>
</div>
<div id="S2.SS5.SSS3.p6" class="ltx_para">
<p id="S2.SS5.SSS3.p6.1" class="ltx_p">4. Install workspace requirements</p>
<div id="S2.SS5.SSS3.p6.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CnBpcCBpbnN0YWxsIC1yIHJlcXVpcmVtZW50cy50eHQK" download="">⬇</a></div>
<div id="lstnumberx101" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx102" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx102.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pip</span><span id="lstnumberx102.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx102.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">install</span><span id="lstnumberx102.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx102.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx102.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">r</span><span id="lstnumberx102.7" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx102.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">requirements</span><span id="lstnumberx102.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx102.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">txt</span>
</div>
</div>
</div>
<div id="S2.SS5.SSS3.p7" class="ltx_para">
<p id="S2.SS5.SSS3.p7.1" class="ltx_p">5. Initialize the plan and autopopulate the fully qualified domain name (FQDN) of the aggregator node.</p>
<div id="S2.SS5.SSS3.p7.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IHBsYW4gaW5pdGlhbGl6ZQo=" download="">⬇</a></div>
<div id="lstnumberx103" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx104" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx104.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx104.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx104.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">plan</span><span id="lstnumberx104.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx104.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">initialize</span>
</div>
</div>
<p id="S2.SS5.SSS3.p7.3" class="ltx_p">Although it is possible to train models from scratch, it is assumed that in
many cases the federation may perform fine-tuning of a previously-trained model.
For this reason, the pre-trained weights for the model will be stored within protobuf
files on the aggregator and passed to the collaborators during initialization.
As seen in the YAML file, the protobuf file with the initial weights is expected
to be found in the file <span id="S2.SS5.SSS3.p7.3.1" class="ltx_text ltx_font_italic">$</span>{<span id="S2.SS5.SSS3.p7.3.2" class="ltx_text ltx_font_italic">WORKSPACE_TEMPLATE</span>}<span id="S2.SS5.SSS3.p7.3.3" class="ltx_text ltx_font_italic">_init.pbuf</span>.
For this example, however, by running the command above, we’ll just create an initial
set of random model weights that are put into that file.
The FQDN is embedded within the plan so the collaborators know the externally accessible aggregator server address to connect to. If you face connection issues with the autopopulated FQDN in the plan, this value can be overridden with the <span id="S2.SS5.SSS3.p7.3.4" class="ltx_text ltx_font_italic">-a</span> flag, for example:</p>
<div id="S2.SS5.SSS3.p7.4" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IHBsYW4gaW5pdGlhbGl6ZSAtYSBhZ2dyZWdhdG9yLWhvc3RuYW1lLmludGVybmFsLWRvbWFpbi5jb20K" download="">⬇</a></div>
<div id="lstnumberx105" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx106" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx106.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx106.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx106.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">plan</span><span id="lstnumberx106.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx106.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">initialize</span><span id="lstnumberx106.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx106.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx106.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">a</span><span id="lstnumberx106.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx106.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">aggregator</span><span id="lstnumberx106.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx106.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">hostname</span><span id="lstnumberx106.13" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx106.14" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">internal</span><span id="lstnumberx106.15" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx106.16" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">domain</span><span id="lstnumberx106.17" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx106.18" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">com</span>
</div>
</div>
</div>
<div id="S2.SS5.SSS3.p8" class="ltx_para">
<p id="S2.SS5.SSS3.p8.1" class="ltx_p"><span id="S2.SS5.SSS3.p8.1.1" class="ltx_text ltx_font_bold">On the Aggregator node
<br class="ltx_break"></span>Ensure that Python virtual environment is activated and OpenFL package is installed.
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p9" class="ltx_para">
<p id="S2.SS5.SSS3.p9.1" class="ltx_p">6. Change directory to the path for your project’s workspace:</p>
<div id="S2.SS5.SSS3.p9.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmNkICR7V09SS1NQQUNFX1BBVEh9Cg==" download="">⬇</a></div>
<div id="lstnumberx107" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx108" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx108.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">cd</span><span id="lstnumberx108.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx108.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">$</span><span id="lstnumberx108.4" class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span><span id="lstnumberx108.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">WORKSPACE_PATH</span><span id="lstnumberx108.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
</div>
</div>
<div id="S2.SS5.SSS3.p10" class="ltx_para">
<p id="S2.SS5.SSS3.p10.1" class="ltx_p">7. Run the Certificate Authority command. This will setup the Aggregator node as the Certificate Authority for the Federation. All certificates will be signed by the aggregator. Follow the command-line instructions and enter in the information as prompted. The command will create a simple database file to keep track of all issued certificates.</p>
<div id="S2.SS5.SSS3.p10.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IHdvcmtzcGFjZSBjZXJ0aWZ5Cg==" download="">⬇</a></div>
<div id="lstnumberx109" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx110" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx110.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx110.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx110.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">workspace</span><span id="lstnumberx110.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx110.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">certify</span>
</div>
</div>
</div>
<div id="S2.SS5.SSS3.p11" class="ltx_para">
<p id="S2.SS5.SSS3.p11.1" class="ltx_p">8. Run the aggregator certificate creation command, replacing AFQDN with the actual fully qualified domain name (FQDN) for the aggregator machine.</p>
<div id="S2.SS5.SSS3.p11.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IGFnZ3JlZ2F0b3IgZ2VuZXJhdGUtY2VydC1yZXF1ZXN0IC0tZnFkbiBBRlFETgo=" download="">⬇</a></div>
<div id="lstnumberx111" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx112" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx112.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx112.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx112.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">aggregator</span><span id="lstnumberx112.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx112.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">generate</span><span id="lstnumberx112.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx112.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">cert</span><span id="lstnumberx112.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx112.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">request</span><span id="lstnumberx112.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx112.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">--</span><span id="lstnumberx112.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fqdn</span><span id="lstnumberx112.13" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx112.14" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">AFQDN</span>
</div>
</div>
<p id="S2.SS5.SSS3.p11.3" class="ltx_p">If you omit the <span id="S2.SS5.SSS3.p11.3.1" class="ltx_text ltx_font_italic">–fdqn</span> parameter, then <code id="S2.SS5.SSS3.p11.3.2" class="ltx_verbatim ltx_font_typewriter">fx</code> will automatically use the FQDN of the current node assuming the node has been correctly set with a static address.
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p12" class="ltx_para">
<p id="S2.SS5.SSS3.p12.1" class="ltx_p">9. Run the aggregator certificate signing command, replacing AFQDN with the actual fully qualified domain name (FQDN) for the aggregator machine.</p>
<div id="S2.SS5.SSS3.p12.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IGFnZ3JlZ2F0b3IgY2VydGlmeSAtLWZxZG4gQUZRRE4K" download="">⬇</a></div>
<div id="lstnumberx113" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx114" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx114.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx114.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx114.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">aggregator</span><span id="lstnumberx114.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx114.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">certify</span><span id="lstnumberx114.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx114.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">--</span><span id="lstnumberx114.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fqdn</span><span id="lstnumberx114.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx114.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">AFQDN</span>
</div>
</div>
<p id="S2.SS5.SSS3.p12.3" class="ltx_p">This node now has a signed security certificate as the aggregator for this new federation. You should have the given files:
<br class="ltx_break">certificate chain (<span id="S2.SS5.SSS3.p12.3.1" class="ltx_text ltx_font_italic">WORKSPACE.PATH/cert/cert_chain.crt</span>)
<br class="ltx_break">aggregator certificate (<span id="S2.SS5.SSS3.p12.3.2" class="ltx_text ltx_font_italic">WORKSPACE.PATH/cert/server/agg_AFQDN.crt</span>)
<br class="ltx_break">aggregator key (<span id="S2.SS5.SSS3.p12.3.3" class="ltx_text ltx_font_italic">WORKSPACE.PATH/cert/server/agg_AFQDN.key</span>)
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p13" class="ltx_para">
<p id="S2.SS5.SSS3.p13.1" class="ltx_p"><span id="S2.SS5.SSS3.p13.1.1" class="ltx_text ltx_font_bold">Exporting the workspace
<br class="ltx_break"></span></p>
</div>
<div id="S2.SS5.SSS3.p14" class="ltx_para">
<p id="S2.SS5.SSS3.p14.1" class="ltx_p">10. Export the workspace so that it can be imported to the collaborator nodes.</p>
<div id="S2.SS5.SSS3.p14.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IHdvcmtzcGFjZSBleHBvcnQK" download="">⬇</a></div>
<div id="lstnumberx115" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx116" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx116.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx116.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx116.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">workspace</span><span id="lstnumberx116.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx116.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">export</span>
</div>
</div>
<p id="S2.SS5.SSS3.p14.3" class="ltx_p">The export command will archive the current workspace (as a zip) and create a <span id="S2.SS5.SSS3.p14.3.1" class="ltx_text ltx_font_italic">requirements.txt</span> file of the current Python packages in the virtual environment. Transfer this zip file to each collaborator node.
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p15" class="ltx_para">
<p id="S2.SS5.SSS3.p15.1" class="ltx_p"><span id="S2.SS5.SSS3.p15.1.1" class="ltx_text ltx_font_bold">On the Collaborator nodes
<br class="ltx_break"></span></p>
</div>
<div id="S2.SS5.SSS3.p16" class="ltx_para">
<p id="S2.SS5.SSS3.p16.1" class="ltx_p">Before you run the federation make sure you have activated a Python virtual environment and installed the OpenFL package.
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p17" class="ltx_para">
<p id="S2.SS5.SSS3.p17.1" class="ltx_p">11. Make sure you have copied the workspace archive (.zip) from the aggregator node to the collaborator node.
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p18" class="ltx_para">
<p id="S2.SS5.SSS3.p18.1" class="ltx_p">12. Import the workspace archive</p>
<div id="S2.SS5.SSS3.p18.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IHdvcmtzcGFjZSBpbXBvcnQgLS1hcmNoaXZlIFdPUktTUEFDRS56aXAK" download="">⬇</a></div>
<div id="lstnumberx117" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx118" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx118.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx118.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx118.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">workspace</span><span id="lstnumberx118.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx118.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">import</span><span id="lstnumberx118.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx118.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">--</span><span id="lstnumberx118.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">archive</span><span id="lstnumberx118.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx118.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">WORKSPACE</span><span id="lstnumberx118.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx118.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">zip</span>
</div>
</div>
<p id="S2.SS5.SSS3.p18.3" class="ltx_p">where <span id="S2.SS5.SSS3.p18.3.1" class="ltx_text ltx_font_italic">WORKSPACE.zip</span> is the name of the workspace archive. This will unzip the workspace to the current directory and install the required Python packages within the current virtual environment.
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p19" class="ltx_para">
<p id="S2.SS5.SSS3.p19.1" class="ltx_p">13. For each test machine you want to run collaborators on, we create a collaborator certificate request to be signed by the certificate authority, replacing <span id="S2.SS5.SSS3.p19.1.1" class="ltx_text ltx_font_italic">COL.LABEL</span> with the label you’ve assigned to this collaborator. Note that this does not have to be the FQDN. It can be any unique alphanumeric label.</p>
<div id="S2.SS5.SSS3.p19.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IGNvbGxhYm9yYXRvciBnZW5lcmF0ZS1jZXJ0LXJlcXVlc3QgLW4gQ09MLkxBQkVMCg==" download="">⬇</a></div>
<div id="lstnumberx119" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx120" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx120.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx120.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx120.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborator</span><span id="lstnumberx120.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx120.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">generate</span><span id="lstnumberx120.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx120.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">cert</span><span id="lstnumberx120.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx120.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">request</span><span id="lstnumberx120.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx120.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx120.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">n</span><span id="lstnumberx120.13" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx120.14" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">COL</span><span id="lstnumberx120.15" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx120.16" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">LABEL</span>
</div>
</div>
</div>
<div id="S2.SS5.SSS3.p20" class="ltx_para">
<p id="S2.SS5.SSS3.p20.1" class="ltx_p">The creation script will also ask you to specify the path to the data. For example, if using the MNIST dataset (from keras_cnn_mnist template), simply enter the an integer that represents which shard of MNIST to use on this Collaborator. For the first collaborator enter 1. For the second collaborator enter 2. This will create these three files:
<br class="ltx_break">Collaborator CSR (<span id="S2.SS5.SSS3.p20.1.1" class="ltx_text ltx_font_italic">WORKSPACE.PATH/cert/client/col_COL.LABEL.csr</span>)
<br class="ltx_break">Collaborator key (<span id="S2.SS5.SSS3.p20.1.2" class="ltx_text ltx_font_italic">WORKSPACE.PATH/cert/client/col_COL.LABEL.key</span>)
<br class="ltx_break">Collaborator CSR Package (<span id="S2.SS5.SSS3.p20.1.3" class="ltx_text ltx_font_italic">WORKSPACE.PATH/col_COL.LABEL_to_agg_cert
<br class="ltx_break">_request.zip</span>)
<br class="ltx_break">Only the Collaborator CSR Package file needs to be sent to the certificate authority to be signed (for example, aggregator in this case).
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p21" class="ltx_para">
<p id="S2.SS5.SSS3.p21.1" class="ltx_p">14. On the Aggregator node (i.e. the Certificate Authority for this demo), run the following command:</p>
<div id="S2.SS5.SSS3.p21.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IGNvbGxhYm9yYXRvciBjZXJ0aWZ5IC0tcmVxdWVzdC1wa2cgL1BBVEgvVE8vY29sX0NPTC5MQUJFTF90b19hZ2dfY2VydF9yZXF1ZXN0LnppcAo=" download="">⬇</a></div>
<div id="lstnumberx121" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx122" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx122.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx122.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx122.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborator</span><span id="lstnumberx122.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx122.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">certify</span><span id="lstnumberx122.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx122.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">--</span><span id="lstnumberx122.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">request</span><span id="lstnumberx122.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx122.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">pkg</span><span id="lstnumberx122.11" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx122.12" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx122.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">PATH</span><span id="lstnumberx122.14" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx122.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">TO</span><span id="lstnumberx122.16" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx122.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">col_COL</span><span id="lstnumberx122.18" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx122.19" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">LABEL_to_agg_cert_request</span><span id="lstnumberx122.20" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx122.21" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">zip</span>
</div>
</div>
<p id="S2.SS5.SSS3.p21.3" class="ltx_p">where <span id="S2.SS5.SSS3.p21.3.1" class="ltx_text ltx_font_italic">/PATH/TO/col_COL.LABEL_to_agg_cert_request.zip</span> is the path to the package containing the <span id="S2.SS5.SSS3.p21.3.2" class="ltx_text ltx_font_italic">.csr</span> file from the collaborator. The Certificate Authority will sign this certificate for use in the Federation.
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p22" class="ltx_para">
<p id="S2.SS5.SSS3.p22.1" class="ltx_p">15. The previous command will package the signed collaborator certificate for transport back to the Collaborator node along with the <span id="S2.SS5.SSS3.p22.1.1" class="ltx_text ltx_font_italic">cert_chain.crt</span> needed to verify certificate signatures. The only file needed to send back to the Collaborator node is the following:
<br class="ltx_break"><span id="S2.SS5.SSS3.p22.1.2" class="ltx_text ltx_font_italic">WORKSPACE.PATH/agg_to_col_COL.LABEL_signed_cert.zip
<br class="ltx_break"></span></p>
</div>
<div id="S2.SS5.SSS3.p23" class="ltx_para">
<p id="S2.SS5.SSS3.p23.1" class="ltx_p">16. Back on the Collaborator node, import the signed certificate and certificate chain into your workspace:</p>
<div id="S2.SS5.SSS3.p23.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IGNvbGxhYm9yYXRvciBjZXJ0aWZ5IC0taW1wb3J0IC9QQVRIL1RPL2FnZ190b19jb2xfQ09MLkxBQkVMX3NpZ25lZF9jZXJ0LnppcAo=" download="">⬇</a></div>
<div id="lstnumberx123" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx124" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx124.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx124.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx124.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborator</span><span id="lstnumberx124.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx124.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">certify</span><span id="lstnumberx124.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx124.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">--</span><span id="lstnumberx124.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">import</span><span id="lstnumberx124.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx124.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx124.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">PATH</span><span id="lstnumberx124.12" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx124.13" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">TO</span><span id="lstnumberx124.14" class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span id="lstnumberx124.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">agg_to_col_COL</span><span id="lstnumberx124.16" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx124.17" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">LABEL_signed_cert</span><span id="lstnumberx124.18" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx124.19" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">zip</span>
</div>
</div>
</div>
<div id="S2.SS5.SSS3.p24" class="ltx_para">
<p id="S2.SS5.SSS3.p24.1" class="ltx_p"><span id="S2.SS5.SSS3.p24.1.1" class="ltx_text ltx_font_bold">Starting the federation
<br class="ltx_break"></span>17. On the aggregator node, start the federation:</p>
<div id="S2.SS5.SSS3.p24.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IGFnZ3JlZ2F0b3Igc3RhcnQK" download="">⬇</a></div>
<div id="lstnumberx125" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx126" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx126.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx126.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx126.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">aggregator</span><span id="lstnumberx126.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx126.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">start</span>
</div>
</div>
<p id="S2.SS5.SSS3.p24.3" class="ltx_p">At this point, the aggregator is running and waiting for the collaborators to connect. When all of the collaborators connect, the aggregator starts training. When the last round of training is complete, the aggregator stores the final weights in the protobuf file that was specified in the YAML file (in this case <span id="S2.SS5.SSS3.p24.3.1" class="ltx_text ltx_font_italic">save/$WORKSPACE_TEMPLATE_latest.pbuf</span>).
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p25" class="ltx_para">
<p id="S2.SS5.SSS3.p25.1" class="ltx_p">18. On each of the collaborator nodes, start the collaborator:</p>
<div id="S2.SS5.SSS3.p25.2" class="ltx_listing ltx_lst_numbers_left ltx_lstlisting ltx_listing" style="background-color:#F2F2EB;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CmZ4IGNvbGxhYm9yYXRvciBzdGFydCAtbiBDT0xMQUJPUkFUT1IuTEFCRUwK" download="">⬇</a></div>
<div id="lstnumberx127" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div id="lstnumberx128" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span id="lstnumberx128.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">fx</span><span id="lstnumberx128.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx128.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">collaborator</span><span id="lstnumberx128.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx128.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">start</span><span id="lstnumberx128.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx128.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span id="lstnumberx128.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">n</span><span id="lstnumberx128.9" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span id="lstnumberx128.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">COLLABORATOR</span><span id="lstnumberx128.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span id="lstnumberx128.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">LABEL</span>
</div>
</div>
<p id="S2.SS5.SSS3.p25.3" class="ltx_p">where <span id="S2.SS5.SSS3.p25.3.1" class="ltx_text ltx_font_italic">COLLABORATOR_LABEL</span> is the label for this collaborator.
<br class="ltx_break"></p>
</div>
<div id="S2.SS5.SSS3.p26" class="ltx_para">
<p id="S2.SS5.SSS3.p26.1" class="ltx_p">19. Repeat this for each collaborator in the federation. Once all collaborators have joined, the aggregator will start and you will see log messages describing the progress of the federated training.</p>
</div>
</section>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Use Cases</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Federated Tumor Segmentation Initiative</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">The Federated Tumor Segmentation (FeTS) initiative describes an on-going development of the largest international federation of healthcare institutions aiming at gaining knowledge for tumor boundary detection from ample and diverse patient populations without sharing any patient data. To facilitate this initiative, a dedicated open-source platform with a user-friendly graphical user interface was developed aiming at: i) bringing state of the art pre-trained segmentation models of numerous algorithms <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> and label fusion approaches <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>, closer to clinical experts and researchers, thereby enabling easy quantification of new radiologic scans and comparative evaluation of new algorithms, and ii) allowing multi-institutional collaborations via FL by leveraging OpenFL to improve these pre-trained models without sharing patient data, thereby overcoming legal, privacy, and data-ownership challenges. FeTS has been initially deployed towards the task of brain tumor sub-region segmentation by partnering with <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="n=56" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mrow id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.2.cmml">n</mi><mo id="S3.SS1.p1.1.m1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.cmml">=</mo><mn id="S3.SS1.p1.1.m1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.3.cmml">56</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><eq id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1"></eq><ci id="S3.SS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.2">𝑛</ci><cn type="integer" id="S3.SS1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3">56</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">n=56</annotation></semantics></math> clinical sites spread all around the world (Fig. <a href="#S3.F10" title="Figure 10 ‣ 3.1 Federated Tumor Segmentation Initiative ‣ 3 Use Cases ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>).</p>
</div>
<figure id="S3.F10" class="ltx_figure"><img src="/html/2105.06413/assets/figures/fets_map.png" id="S3.F10.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="276" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F10.2.1.1" class="ltx_text" style="font-size:90%;">Figure 10</span>: </span><span id="S3.F10.3.2" class="ltx_text" style="font-size:90%;">The collaborative network of the first FeTS federation.</span></figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>First Computational Competition on Federated Learning</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">International challenges have become the <span id="S3.SS2.p1.1.1" class="ltx_text ltx_font_italic">de facto</span> standard for validating medical image analysis methods. However, the actual performance of even the winning algorithms on “real-world” clinical data often remains unclear, as the data included in these challenges are usually acquired in very controlled settings at few institutions. The seemingly obvious solution of just collecting increasingly more data from more institutions in such challenges does not scale well due to privacy and ownership hurdles (Section <a href="#S1" title="1 Motivation ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">As the first challenge ever proposed for federated learning, the FeTS challenge 2021<span id="footnote24" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">24</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">24</sup><span class="ltx_tag ltx_tag_note">24</span><a target="_blank" href="https://www.med.upenn.edu/cbica/fets/miccai2021/" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://www.med.upenn.edu/cbica/fets/miccai2021/</a></span></span></span> intends to address these hurdles towards both the creation and the evaluation of tumor segmentation models. Specifically, the FeTS 2021 challenge uses clinically acquired, multi-institutional MRI scans from the BraTS 2020 challenge <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>, as well as from various remote independent institutions included in the collaborative network of a real-world federation (Section <a href="#S3.SS1" title="3.1 Federated Tumor Segmentation Initiative ‣ 3 Use Cases ‣ OpenFL: An open-source framework for Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>). The challenge focuses on the construction and evaluation of a consensus model for the segmentation of intrinsically heterogeneous (in appearance, shape, and histology) brain tumors, namely gliomas. Compared to the BraTS challenge, the ultimate goal of the FeTS challenge is divided into the following two tasks:</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<ol id="S3.I1" class="ltx_enumerate">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Task 1</span> (“Federated Training”) aims at effective weight aggregation methods for the creation of a consensus model given a pre-defined segmentation algorithm for training, while also (optionally) accounting for network outages.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Task 2</span> (“Federated Evaluation”) aims at robust segmentation algorithms, given a pre-defined weight aggregation method, evaluated during the testing phase on unseen datasets from various remote independent institutions of the collaborative network of the <span id="S3.I1.i2.p1.1.2" class="ltx_text ltx_font_bold">fets.ai</span> federation.</p>
</div>
</li>
</ol>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Discussion</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">Kaushal <span id="S4.p1.1.1" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> recommend that researchers need greater access to large and diverse datasets, in order to generate accurate models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>. Without this greater access, they argued, AI models may also have inherent biases and perpetual inequalities. For example, Larrazabal <span id="S4.p1.1.2" class="ltx_text ltx_font_italic">et al.</span> demonstrated that introducing a gender imbalance while training convolutional neural network model to detect disease from chest X-rays resulted in poor performance on the underrepresented gender <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>. This potential for bias is not limited to the healthcare sector. Buolamwini <span id="S4.p1.1.3" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> demonstrated that a lack of diversity in training data can lead to significant racial bias in facial detection algorithms. Coston <span id="S4.p1.1.4" class="ltx_text ltx_font_italic">et al.</span> described the harmful effects as a covariate shift in risk models for the financial sector <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.</p>
</div>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.1" class="ltx_p">Federated learning (FL) is an attractive approach to training AI on large, diverse datasets requiring data privacy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>. Although there is no inherent guarantee that accessing more data translates to accessing better data, it is certainly a step in the right direction toward improving accuracy and reducing bias in AI algorithms. It should be stressed that the greater access to data that gives FL an advantage over centralized learning rather than any inherent algorithmic benefit. Sheller <span id="S4.p2.1.1" class="ltx_text ltx_font_italic">et al.</span> previously showed that FL can achieve similar accuracy as centralized learning but may be superior to similar collaborative learning techniques and to training on data from a single institution <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>.</p>
</div>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion and future work</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">We have introduced Open Federated Learning (OpenFL)<span id="footnote25" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">25</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">25</sup><span class="ltx_tag ltx_tag_note">25</span><a target="_blank" href="https://github.com/intel/openfl" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://github.com/intel/openfl</a></span></span></span>, as a production-ready FL package that allows developers to train ML models on the nodes of remote data owners. The OpenFL interface makes it easy for data scientists to port their existing ML models, whether in TensorFlow, PyTorch, or some other ML library, into a distributed training pipeline. While it was created to address problems discovered in academia, it has now being adopted by companies because of its unique security focus. The development of OpenFL has benefited significantly from our external collaborations, and by making the project open source we hope that it will continue to be shaped by the wider FL community in new and exciting ways. Our goal with OpenFL is not to compete with other FL open-source software efforts, but to inter-operate and collaborate towards providing a comprehensive solution for data-private collaborative learning.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p">Our ambition is that federations, such as the FeTS Initiative<span id="footnote26" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">26</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">26</sup><span class="ltx_tag ltx_tag_note">26</span><a target="_blank" href="https://www.fets.ai" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://www.fets.ai</a></span></span></span>, will not serve as <span id="S5.p2.1.1" class="ltx_text ltx_font_italic">ad hoc</span> collaborations for specific research efforts, but will serve as permanent networks for researchers in the healthcare, financial, industrial, and retail industries to more effectively train, deploy, monitor, and update their AI algorithms over time.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgments</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">Research reported in this publication was partly supported by the National Institutes of Health (NIH) under award number NIH/NCI:U01CA242871. The content of this publication is solely the responsibility of the authors and does not represent the official views of the NIH.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
A. Paullada, I. D. Raji, E. M. Bender, E. Denton, and A. Hanna, “Data and its
(dis) contents: A survey of dataset development and use in machine learning
research,” <span id="bib.bib1.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2012.05345</span>, 2020.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
M. J. Sheller, B. Edwards, G. A. Reina, J. Martin, S. Pati, A. Kotrotsou,
M. Milchenko, W. Xu, D. Marcus, R. R. Colen, and S. Bakas, “Federated
learning in medicine: facilitating multi-institutional collaborations without
sharing patient data,” <span id="bib.bib2.1.1" class="ltx_text ltx_font_italic">Sci Rep.</span>, vol. 10, no. 1, p. 12598, 2020.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
M. J. Sheller, G. A. Reina, B. Edwards, J. Martin, and S. Bakas,
“Multi-institutional deep learning modeling without sharing patient data: A
feasibility study on brain tumor segmentation,” <span id="bib.bib3.1.1" class="ltx_text ltx_font_italic">Brainlesion</span>,
vol. 11383, pp. 92–104, 2019.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Q. Yang, Y. Liu, T. Chen, and Y. Tong, “Federated machine learning: Concept
and applications,” <span id="bib.bib4.1.1" class="ltx_text ltx_font_italic">ACM Trans. Intell. Syst. Technol.</span>, vol. 10, Jan.
2019.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
B. McMahan, E. Moore, D. Ramage, S. Hampson, and B. A. y Arcas,
“Communication-efficient learning of deep networks from decentralized
data,” in <span id="bib.bib5.1.1" class="ltx_text ltx_font_italic">Artificial Intelligence and Statistics</span>, pp. 1273–1282,
PMLR, 2017.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
G. J. Annas <span id="bib.bib6.1.1" class="ltx_text ltx_font_italic">et al.</span>, “Hipaa regulations-a new era of medical-record
privacy?,” <span id="bib.bib6.2.2" class="ltx_text ltx_font_italic">New England Journal of Medicine</span>, vol. 348, no. 15,
pp. 1486–1490, 2003.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
P. Voigt and A. Von dem Bussche, “The eu general data protection regulation
(gdpr),” <span id="bib.bib7.1.1" class="ltx_text ltx_font_italic">A Practical Guide, 1st Ed., Cham: Springer International
Publishing</span>, vol. 10, p. 3152676, 2017.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
T. Suzumura, Y. Zhou, N. Baracaldo, G. Ye, K. Houck, R. Kawahara, A. Anwar,
L. L. Stavarache, Y. Watanabe, P. Loyola, <span id="bib.bib8.1.1" class="ltx_text ltx_font_italic">et al.</span>, “Towards federated
graph learning for collaborative financial crimes detection,” <span id="bib.bib8.2.2" class="ltx_text ltx_font_italic">arXiv
preprint arXiv:1909.12946</span>, 2019.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
M. Abadi, P. Barham, J. Chen, Z. Chen, A. Davis, J. Dean, M. Devin,
S. Ghemawat, G. Irving, M. Isard, <span id="bib.bib9.5.5" class="ltx_text ltx_font_italic">et al.</span>, “Tensorflow: A system for
large-scale machine learning,” in <span id="bib.bib9.4.4" class="ltx_text ltx_font_italic">12th <math id="bib.bib9.1.1.m1.1" class="ltx_Math" alttext="\{" display="inline"><semantics id="bib.bib9.1.1.m1.1a"><mo stretchy="false" id="bib.bib9.1.1.m1.1.1" xref="bib.bib9.1.1.m1.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib9.1.1.m1.1b"><ci id="bib.bib9.1.1.m1.1.1.cmml" xref="bib.bib9.1.1.m1.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib9.1.1.m1.1c">\{</annotation></semantics></math>USENIX<math id="bib.bib9.2.2.m2.1" class="ltx_Math" alttext="\}" display="inline"><semantics id="bib.bib9.2.2.m2.1a"><mo stretchy="false" id="bib.bib9.2.2.m2.1.1" xref="bib.bib9.2.2.m2.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib9.2.2.m2.1b"><ci id="bib.bib9.2.2.m2.1.1.cmml" xref="bib.bib9.2.2.m2.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib9.2.2.m2.1c">\}</annotation></semantics></math> symposium on
operating systems design and implementation (<math id="bib.bib9.3.3.m3.1" class="ltx_Math" alttext="\{" display="inline"><semantics id="bib.bib9.3.3.m3.1a"><mo stretchy="false" id="bib.bib9.3.3.m3.1.1" xref="bib.bib9.3.3.m3.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib9.3.3.m3.1b"><ci id="bib.bib9.3.3.m3.1.1.cmml" xref="bib.bib9.3.3.m3.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib9.3.3.m3.1c">\{</annotation></semantics></math>OSDI<math id="bib.bib9.4.4.m4.1" class="ltx_Math" alttext="\}" display="inline"><semantics id="bib.bib9.4.4.m4.1a"><mo stretchy="false" id="bib.bib9.4.4.m4.1.1" xref="bib.bib9.4.4.m4.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib9.4.4.m4.1b"><ci id="bib.bib9.4.4.m4.1.1.cmml" xref="bib.bib9.4.4.m4.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib9.4.4.m4.1c">\}</annotation></semantics></math> 16)</span>, pp. 265–283,
2016.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
A. Paszke, S. Gross, F. Massa, A. Lerer, J. Bradbury, G. Chanan, T. Killeen,
Z. Lin, N. Gimelshein, L. Antiga, <span id="bib.bib10.1.1" class="ltx_text ltx_font_italic">et al.</span>, “Pytorch: An imperative
style, high-performance deep learning library,” in <span id="bib.bib10.2.2" class="ltx_text ltx_font_italic">Advances in neural
information processing systems</span>, pp. 8026–8037, 2019.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
K. Bonawitz, H. Eichner, W. Grieskamp, D. Huba, A. Ingerman, V. Ivanov,
C. Kiddon, J. Konečnỳ, S. Mazzocchi, H. B. McMahan, <span id="bib.bib11.1.1" class="ltx_text ltx_font_italic">et al.</span>,
“Towards federated learning at scale: System design,” <span id="bib.bib11.2.2" class="ltx_text ltx_font_italic">arXiv preprint
arXiv:1902.01046</span>, 2019.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
X. Wang, H. Zhao, and J. Zhu, “Grpc: A communication cooperation mechanism in
distributed systems,” <span id="bib.bib12.1.1" class="ltx_text ltx_font_italic">ACM SIGOPS Operating Systems Review</span>, vol. 27,
no. 3, pp. 75–86, 1993.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
P. Kairouz, H. B. McMahan, B. Avent, A. Bellet, M. Bennis, A. N. Bhagoji,
K. Bonawitz, Z. Charles, G. Cormode, R. Cummings, <span id="bib.bib13.1.1" class="ltx_text ltx_font_italic">et al.</span>, “Advances
and open problems in federated learning,” <span id="bib.bib13.2.2" class="ltx_text ltx_font_italic">arXiv preprint
arXiv:1912.04977</span>, 2019.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
C. che Tsai, D. E. Porter, and M. Vij, “Graphene-sgx: A practical library OS
for unmodified applications on SGX,” in <span id="bib.bib14.1.1" class="ltx_text ltx_font_italic">2017 USENIX Annual
Technical Conference (USENIX ATC 17)</span>, (Santa Clara, CA), pp. 645–658,
USENIX Association, July 2017.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
S. Zhang, “Mnist data,” 2020.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
S. Pati, S. P. Thakur, M. Bhalerao, U. Baid, C. Grenko, B. Edwards, M. Sheller,
J. Agraz, B. Baheti, V. Bashyam, <span id="bib.bib16.1.1" class="ltx_text ltx_font_italic">et al.</span>, “Gandlf: A generally nuanced
deep learning framework for scalable end-to-end clinical workflows in medical
imaging,” <span id="bib.bib16.2.2" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2103.01006</span>, 2021.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
S. Pati, “LabelFusion: Medical Image label fusion of segmentations,” Mar.
2021.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
B. H. Menze, A. Jakab, S. Bauer, J. Kalpathy-Cramer, K. Farahani, J. Kirby,
Y. Burren, N. Porz, J. Slotboom, R. Wiest, <span id="bib.bib18.1.1" class="ltx_text ltx_font_italic">et al.</span>, “The multimodal
brain tumor image segmentation benchmark (brats),” <span id="bib.bib18.2.2" class="ltx_text ltx_font_italic">IEEE transactions on
medical imaging</span>, vol. 34, no. 10, pp. 1993–2024, 2014.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
S. Bakas, H. Akbari, A. Sotiras, M. Bilello, M. Rozycki, J. S. Kirby, J. B.
Freymann, K. Farahani, and C. Davatzikos, “Advancing the cancer genome atlas
glioma mri collections with expert segmentation labels and radiomic
features,” <span id="bib.bib19.1.1" class="ltx_text ltx_font_italic">Scientific data</span>, vol. 4, no. 1, pp. 1–13, 2017.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
S. Bakas, M. Reyes, A. Jakab, S. Bauer, M. Rempfler, A. Crimi, R. T. Shinohara,
C. Berger, S. M. Ha, M. Rozycki, <span id="bib.bib20.1.1" class="ltx_text ltx_font_italic">et al.</span>, “Identifying the best machine
learning algorithms for brain tumor segmentation, progression assessment, and
overall survival prediction in the brats challenge,” <span id="bib.bib20.2.2" class="ltx_text ltx_font_italic">arXiv preprint
arXiv:1811.02629</span>, 2018.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
A. Kaushal, R. Altman, and C. Langlotz, “Health care ai systems are biased,”
<span id="bib.bib21.1.1" class="ltx_text ltx_font_italic">Scientific American (Online)</span>, November 17, 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.scientificamerican.com/article/health-care-ai-systems-are-biased/" title="" class="ltx_ref ltx_url" style="color:#0000FF;">https://www.scientificamerican.com/article/health-care-ai-systems-are-biased/</a>.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
A. J. Larrazabal, N. Nieto, V. Peterson, D. H. Milone, and E. Ferrante,
“Gender imbalance in medical imaging datasets produces biased classifiers
for computer-aided diagnosis,” <span id="bib.bib22.1.1" class="ltx_text ltx_font_italic">Proceedings of the National Academy of
Sciences</span>, vol. 117, no. 23, pp. 12592–12594, 2020.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
J. Buolamwini and T. Gebru, “Gender shades: Intersectional accuracy
disparities in commercial gender classification,” in <span id="bib.bib23.1.1" class="ltx_text ltx_font_italic">Proceedings of the
1st Conference on Fairness, Accountability and Transparency</span> (S. A. Friedler
and C. Wilson, eds.), vol. 81 of <span id="bib.bib23.2.2" class="ltx_text ltx_font_italic">Proceedings of Machine Learning
Research</span>, (New York, NY, USA), pp. 77–91, PMLR, 23–24 Feb 2018.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
A. Coston, K. N. Ramamurthy, D. Wei, K. R. Varshney, S. Speakman, Z. Mustahsan,
and S. Chakraborty, “Fair transfer learning with missing protected
attributes,” in <span id="bib.bib24.1.1" class="ltx_text ltx_font_italic">Proceedings of the 2019 AAAI/ACM Conference on AI,
Ethics, and Society</span>, AIES ’19, (New York, NY, USA), p. 91–98, Association
for Computing Machinery, 2019.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
N. Rieke, J. Hancox, W. Li, F. Milletarì, H. R. Roth, S. Albarqouni, S. Bakas,
M. N. Galtier, A. L. Bennett, K. Maier-Hein, S. B. Ourselin, M. Sheller,
R. M. Summers, A. Trask, D. Xu, Maximilian, and M. J. Cardoso, “The future
of digital health with federated learning,” <span id="bib.bib25.1.1" class="ltx_text ltx_font_italic">npj Digit. Med.</span>, vol. 3,
no. 119, 2020.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2105.06411" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2105.06413" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2105.06413">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2105.06413" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2105.06414" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Mar  6 07:37:46 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
