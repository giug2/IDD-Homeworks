<article class="ltx_document ltx_authors_1line">
 <h1 class="ltx_title ltx_title_document">
  KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models
 </h1>
 <div class="ltx_authors">
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Kemou Jiang
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_affiliation">
     State Key Laboratory of Intelligent Transportation Systems, School of Transportation Science and Engineering, Beihang University, 100191, Beijing, P.R.China.
    </span>
   </span>
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Xuan Cai
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_affiliation">
     State Key Laboratory of Intelligent Transportation Systems, School of Transportation Science and Engineering, Beihang University, 100191, Beijing, P.R.China.
    </span>
   </span>
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Zhiyong Cui
   </span>
   <span class="ltx_author_notes">
    * Corresponding Author
    <span class="ltx_contact ltx_role_affiliation">
     State Key Laboratory of Intelligent Transportation Systems, School of Transportation Science and Engineering, Beihang University, 100191, Beijing, P.R.China.
    </span>
   </span>
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Aoyong Li
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_affiliation">
     State Key Laboratory of Intelligent Transportation Systems, School of Transportation Science and Engineering, Beihang University, 100191, Beijing, P.R.China.
    </span>
   </span>
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Yilong Ren
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_affiliation">
     State Key Laboratory of Intelligent Transportation Systems, School of Transportation Science and Engineering, Beihang University, 100191, Beijing, P.R.China.
    </span>
   </span>
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Haiyang Yu
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_affiliation">
     State Key Laboratory of Intelligent Transportation Systems, School of Transportation Science and Engineering, Beihang University, 100191, Beijing, P.R.China.
    </span>
   </span>
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Hao Yang
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_affiliation">
     Department of Civil and Systems Engineering, Johns Hopkins University, Baltimore, USA
    </span>
   </span>
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    <br class="ltx_break"/>
    Daocheng Fu
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_affiliation">
     Shanghai Artificial Intelligence Laboratory, 200232, Shanghai, P.R.China.
    </span>
   </span>
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Licheng Wen
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_affiliation">
     Shanghai Artificial Intelligence Laboratory, 200232, Shanghai, P.R.China.
    </span>
   </span>
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Pinlong Cai
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_affiliation">
     Shanghai Artificial Intelligence Laboratory, 200232, Shanghai, P.R.China.
    </span>
   </span>
  </span>
 </div>
 <div class="ltx_abstract">
  <h6 class="ltx_title ltx_title_abstract">
   Abstract
  </h6>
  <p class="ltx_p" id="id2.2">
   Large language models (LLMs) as autonomous agents offer a novel avenue for tackling real-world challenges through a knowledge-driven manner. These LLM-enhanced methodologies excel in generalization and interpretability. However, the complexity of driving tasks often necessitates the collaboration of multiple, heterogeneous agents, underscoring the need for such LLM-driven agents to engage in cooperative knowledge sharing and cognitive synergy. Despite the promise of LLMs, current applications predominantly center around single-agent scenarios, which limits their scope in the face of intricate, interconnected tasks. To broaden the horizons of knowledge-driven strategies and bolster the generalization capabilities of autonomous agents, we propose the
   <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="id1.1.m1.1">
    <semantics id="id1.1.m1.1a">
     <mi id="id1.1.m1.1.1" xref="id1.1.m1.1.1.cmml">
      ùñ™ùóàùñ¨ùñ†
     </mi>
     <annotation-xml encoding="MathML-Content" id="id1.1.m1.1b">
      <ci id="id1.1.m1.1.1.cmml" xref="id1.1.m1.1.1">
       ùñ™ùóàùñ¨ùñ†
      </ci>
     </annotation-xml>
     <annotation encoding="application/x-tex" id="id1.1.m1.1c">
      \mathsf{KoMA}
     </annotation>
    </semantics>
   </math>
   framework consisting of the multi-agent interaction, the multi-step planning, the shared-memory, and the ranking-based reflection modules to enhance multi-agents‚Äô decision-making in complex driving scenarios. Based on the framework‚Äôs generated text descriptions of driving scenarios, the multi-agent interaction module enables LLM agents to analyze and infer the intentions of surrounding vehicles based on scene information, akin to human cognition. The multi-step planning module enables LLM agents to analyze and obtain final action decisions layer by layer to ensure consistent goals for short-term action decisions. The shared memory module can accumulate collective experience to make superior decisions, and the ranking-based reflection module can evaluate and improve agent behavior with the aim of enhancing driving safety and efficiency. The
   <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="id2.2.m2.1">
    <semantics id="id2.2.m2.1a">
     <mi id="id2.2.m2.1.1" xref="id2.2.m2.1.1.cmml">
      ùñ™ùóàùñ¨ùñ†
     </mi>
     <annotation-xml encoding="MathML-Content" id="id2.2.m2.1b">
      <ci id="id2.2.m2.1.1.cmml" xref="id2.2.m2.1.1">
       ùñ™ùóàùñ¨ùñ†
      </ci>
     </annotation-xml>
     <annotation encoding="application/x-tex" id="id2.2.m2.1c">
      \mathsf{KoMA}
     </annotation>
    </semantics>
   </math>
   framework not only enhances the robustness and adaptability of autonomous driving agents but also significantly elevates their generalization capabilities across diverse scenarios. Empirical results demonstrate the superiority of our approach over traditional methods, particularly in its ability to handle complex, unpredictable driving environments without extensive retraining. Project Page:
   <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://jkmhhh.github.io/KoMA/" target="_blank" title="">
    https://jkmhhh.github.io/KoMA/
   </a>
   .
  </p>
 </div>
 <div class="ltx_keywords">
  <h6 class="ltx_title ltx_title_keywords">
   Index Terms:
  </h6>
  Autonomous Driving, Large Language Models, Multi agents, Shared Memory, Multi-Step Planning, Chain of Thought.
 </div>
 <section class="ltx_section" id="S1">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    I
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S1.1.1">
    Introduction
   </span>
  </h2>
  <div class="ltx_para" id="S1.p1">
   <p class="ltx_p" id="S1.p1.1">
    The quest for autonomous driving system has long been at the forefront of technological innovation, aiming to revolutionize transportation through improved safety, efficiency, and accessibility. Traditional approaches to autonomous driving have predominantly been data-driven
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib1" title="">
      1
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib2" title="">
      2
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib3" title="">
      3
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib4" title="">
      4
     </a>
     ]
    </cite>
    , relying heavily on the collection and analysis of vast datasets to train algorithms capable of complex driving scenarios. While these methods have made significant strides, they are often hampered by challenges such as dataset bias
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib5" title="">
      5
     </a>
     ]
    </cite>
    , overfitting
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib6" title="">
      6
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib7" title="">
      7
     </a>
     ]
    </cite>
    , and a lack of interpretability
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib8" title="">
      8
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib9" title="">
      9
     </a>
     ]
    </cite>
    , which can limit their effectiveness in novel or unforeseen circumstances.
   </p>
  </div>
  <div class="ltx_para" id="S1.p2">
   <p class="ltx_p" id="S1.p2.1">
    In response to these challenges, there has been a paradigm shift towards knowledge-driven approaches in autonomous driving
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib10" title="">
      10
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib11" title="">
      11
     </a>
     ]
    </cite>
    . This shift is underpinned by the recognition that human drivers can rely on their rich experience and knowledge coupled with logical reasoning ability to make reasonable judgments and decisions when facing new scenarios. Large Language Models (LLMs) are trained on large amounts of text data to process, understand, and generate natural language text. The LLM has a broad range of basic human knowledge and superior reasoning abilities, making it a powerful tool in this new knowledge-driven paradigm
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib12" title="">
      12
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib13" title="">
      13
     </a>
     ]
    </cite>
    . These models, exemplified by the likes of GPT3.5 and GPT4
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib13" title="">
      13
     </a>
     ]
    </cite>
    , have demonstrated unparalleled proficiency in understanding and generating natural language text and can quickly adapt to new application scenarios with a small number of prompt words, suggesting their potential to serve as agents within autonomous systems
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib14" title="">
      14
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib15" title="">
      15
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib16" title="">
      16
     </a>
     ]
    </cite>
    .
   </p>
  </div>
  <div class="ltx_para" id="S1.p3">
   <p class="ltx_p" id="S1.p3.1">
    Recent studies on LLM-based autonomous driving agents have primarily been tested in simplistic scenarios, such as highway main road driving scenarios and circular track driving scenarios
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib17" title="">
      17
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib10" title="">
      10
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib18" title="">
      18
     </a>
     ]
    </cite>
    . In these contexts, the impact of other vehicles on the agent vehicle is negligible, placing the agent vehicle in a safe and stable environment. However, real-world driving scenarios are complex and time-variant, reflected by two major aspects: 1) the
    <span class="ltx_text ltx_font_italic" id="S1.p3.1.1">
     diversity of driving scenarios
    </span>
    , such as ramp merging and roundabouts, increases the likelihood of conflicts between vehicles due to their complexity. This diversity requires the vehicle agents to make reasonable and rapid plans to ensure driving safety and efficiency. 2) The second factor is the
    <span class="ltx_text ltx_font_italic" id="S1.p3.1.2">
     diversity of drivers
    </span>
    determined by the drivers‚Äô unique charateristics and reflected by their driving behaviors. This diversity contributes to the increased temporal variability of scenarios. Therefore, autonomous driving agents based on LLMs need further verification of their intelligence levels in complex and time-variant scenarios, especially when those agents with different objectives influence with each other.
   </p>
  </div>
  <figure class="ltx_figure" id="S1.F1">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="259" id="S1.F1.g1" src="/html/2407.14239/assets/x1.png" width="461"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 1:
    </span>
    The knowledge-driven paradigm for single driving agent system and multiple driving agents system. Single knowledge-driven agent system including an interactive environment, a driver agent with recall, reasoning and reflection abilities, along with an independent memory module. Multiple knowledge-driven driving agent systems have an additional interaction module for communication and exchange among the agents.
   </figcaption>
  </figure>
  <div class="ltx_para" id="S1.p4">
   <p class="ltx_p" id="S1.p4.1">
    In multiagent driving scenarios, vehicle agents based on LLMs must account for both the impact of fixed driver model vehicles and the influence of variable LLM-based agent vehicles on their own driving decisions. By adopting this approach, the agents can more accurately simulate the complexities of real-world driving conditions, thereby advancing the frontier of knowledge-driven agent technology. The well-established knowledge-driven framework, DiLu
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib10" title="">
      10
     </a>
     ]
    </cite>
    , have summarized the knowledge-driven paradigm of autonomous driving systems, which comprises three components: 1) an environment with which the agent can interact; 2) a driving agent capable of memory, reasoning, and reflection; 3) a memory component to retain experience. As shown in Fig.
    <a class="ltx_ref" href="#S1.F1" title="Figure 1 ‚Ä£ I Introduction ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
     <span class="ltx_text ltx_ref_tag">
      1
     </span>
    </a>
    , the knowledge-driven paradigm can still be used within the multi-agent framework after expanding the interactions among multiple agents. However, due to the increased complexity of the scenarios in both time and space, further expansion and improvement of some modules are required to better apply them in complex scenarios. To address these limitations, this study introduce a knowledge-driven autonomous driving framework
    <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S1.p4.1.m1.1">
     <semantics id="S1.p4.1.m1.1a">
      <mi id="S1.p4.1.m1.1.1" xref="S1.p4.1.m1.1.1.cmml">
       ùñ™ùóàùñ¨ùñ†
      </mi>
      <annotation-xml encoding="MathML-Content" id="S1.p4.1.m1.1b">
       <ci id="S1.p4.1.m1.1.1.cmml" xref="S1.p4.1.m1.1.1">
        ùñ™ùóàùñ¨ùñ†
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S1.p4.1.m1.1c">
       \mathsf{KoMA}
      </annotation>
     </semantics>
    </math>
    that incorporates multiple agents empowered by LLMs. It encapsulates five integral modules: Environment, Multi-agent Interaction, Multi-step Planning, Shared Memory, and Ranking-based Reflection.
   </p>
  </div>
  <div class="ltx_para" id="S1.p5">
   <p class="ltx_p" id="S1.p5.1">
    At present, the reasoning module of LLMs is mainly divided into two approaches: making single-step decisions directly for each frame
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib10" title="">
      10
     </a>
     ]
    </cite>
    and formulating a plan that includes a sequence of multiple-step decisions at once
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib19" title="">
      19
     </a>
     ]
    </cite>
    . However, when faced with more complex driving scenarios, the former, which makes decisions for the next frame solely based on the current scene description, is prone to falling into local optimal solutions, lacking foresight, thereby making it difficult to achieve a goal that requires continuous action across multiple frames. In the face of more dynamic driving scenarios, the latter, which plans multiple-step action decisions at once, is susceptible to plan failure due to sudden changes in the scene conditions, thus failing to complete the scene goals smoothly. To address this, the
    <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S1.p5.1.m1.1">
     <semantics id="S1.p5.1.m1.1a">
      <mi id="S1.p5.1.m1.1.1" xref="S1.p5.1.m1.1.1.cmml">
       ùñ™ùóàùñ¨ùñ†
      </mi>
      <annotation-xml encoding="MathML-Content" id="S1.p5.1.m1.1b">
       <ci id="S1.p5.1.m1.1.1.cmml" xref="S1.p5.1.m1.1.1">
        ùñ™ùóàùñ¨ùñ†
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S1.p5.1.m1.1c">
       \mathsf{KoMA}
      </annotation>
     </semantics>
    </math>
    framework introduces a multi-step reasoning module that achieves the final single-step action decision through a three-tiered reasoning process of goal-plan-action, ensuring the continuity of action decisions.
   </p>
  </div>
  <div class="ltx_para" id="S1.p6">
   <p class="ltx_p" id="S1.p6.1">
    In the knowledge-driven autonomous driving setting, the current reflection module is primarily activated after a collision occurs
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib10" title="">
      10
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib11" title="">
      11
     </a>
     ]
    </cite>
    , but this raises two issues: (1) In complex scenarios, the cause of an accident is often not the last action decision, but rather a critical decision made earlier in a long sequence of decisions. Identifying the key erroneous decision and reflecting on it for correction is a critical challenge. (2) In reality, drivers need to ensure not only the safety of driving but also its efficiency. An agent that completely sacrifices efficiency for safety is impractical for real-world scenarios. Therefore, the
    <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S1.p6.1.m1.1">
     <semantics id="S1.p6.1.m1.1a">
      <mi id="S1.p6.1.m1.1.1" xref="S1.p6.1.m1.1.1.cmml">
       ùñ™ùóàùñ¨ùñ†
      </mi>
      <annotation-xml encoding="MathML-Content" id="S1.p6.1.m1.1b">
       <ci id="S1.p6.1.m1.1.1.cmml" xref="S1.p6.1.m1.1.1">
        ùñ™ùóàùñ¨ùñ†
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S1.p6.1.m1.1c">
       \mathsf{KoMA}
      </annotation>
     </semantics>
    </math>
    framework proposes a score-based reflection module that includes assessments of safety and efficiency. It expands the conditions for initiating reflection to situations where there is a sudden drop or extremely low score, allowing for timely correction of erroneous decisions and enhancing the quality of the memory fragments stored in the memory module.
   </p>
  </div>
  <div class="ltx_para" id="S1.p7">
   <p class="ltx_p" id="S1.p7.1">
    The memory module serves as a repository for the historical driving experiences of an agent, capable of retrieving similar scenario experiences to assist the LLM-empowered agent in making action decisions. In early reinforcement learning multi-agent systems, each agent was trained independently
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib20" title="">
      20
     </a>
     ]
    </cite>
    . However, this may lead to the collective intelligence being limited by an individual agent with poor training outcomes. Benefiting from the parameter sharing mechanism in reinforcement learning
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib21" title="">
      21
     </a>
     ]
    </cite>
    , the
    <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S1.p7.1.m1.1">
     <semantics id="S1.p7.1.m1.1a">
      <mi id="S1.p7.1.m1.1.1" xref="S1.p7.1.m1.1.1.cmml">
       ùñ™ùóàùñ¨ùñ†
      </mi>
      <annotation-xml encoding="MathML-Content" id="S1.p7.1.m1.1b">
       <ci id="S1.p7.1.m1.1.1.cmml" xref="S1.p7.1.m1.1.1">
        ùñ™ùóàùñ¨ùñ†
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S1.p7.1.m1.1c">
       \mathsf{KoMA}
      </annotation>
     </semantics>
    </math>
    framework incorporates a shared memory module, allowing all agents to share a single vector database. This enables the sharing of driving experiences among agents, thereby enhancing the training speed and effectiveness of collective intelligence.
   </p>
  </div>
  <div class="ltx_para" id="S1.p8">
   <p class="ltx_p" id="S1.p8.2">
    In summary, this study proposes
    <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S1.p8.1.m1.1">
     <semantics id="S1.p8.1.m1.1a">
      <mi id="S1.p8.1.m1.1.1" xref="S1.p8.1.m1.1.1.cmml">
       ùñ™ùóàùñ¨ùñ†
      </mi>
      <annotation-xml encoding="MathML-Content" id="S1.p8.1.m1.1b">
       <ci id="S1.p8.1.m1.1.1.cmml" xref="S1.p8.1.m1.1.1">
        ùñ™ùóàùñ¨ùñ†
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S1.p8.1.m1.1c">
       \mathsf{KoMA}
      </annotation>
     </semantics>
    </math>
    , a comprehensive framework that harnesses the power of LLMs to facilitate advanced decision-making in complex, multi-agent driving environments. The
    <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S1.p8.2.m2.1">
     <semantics id="S1.p8.2.m2.1a">
      <mi id="S1.p8.2.m2.1.1" xref="S1.p8.2.m2.1.1.cmml">
       ùñ™ùóàùñ¨ùñ†
      </mi>
      <annotation-xml encoding="MathML-Content" id="S1.p8.2.m2.1b">
       <ci id="S1.p8.2.m2.1.1.cmml" xref="S1.p8.2.m2.1.1">
        ùñ™ùóàùñ¨ùñ†
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S1.p8.2.m2.1c">
       \mathsf{KoMA}
      </annotation>
     </semantics>
    </math>
    framework is designed to address the limitations of current single-agent approaches by integrating several key components that work in concert to enhance the capabilities of autonomous agents. Through a series of experiments and implementations, we demonstrate the feasibility of our approach and its advantages over traditional methods, particularly in terms of generalization, adaptability, and the ability to handle novel scenarios without extensive retraining.
   </p>
  </div>
  <div class="ltx_para" id="S1.p9">
   <p class="ltx_p" id="S1.p9.1">
    The contribution of this paper is listed as follows:
   </p>
   <ol class="ltx_enumerate" id="S1.I1">
    <li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      1.
     </span>
     <div class="ltx_para" id="S1.I1.i1.p1">
      <p class="ltx_p" id="S1.I1.i1.p1.1">
       To the best of knowledge, we are the first to propose a knowledge-driven autonomous driving framework with multiple LLM-empowered agents, where those driving agents implicitly interact through estimating the intentions of surrounding vehicles.
      </p>
     </div>
    </li>
    <li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      2.
     </span>
     <div class="ltx_para" id="S1.I1.i2.p1">
      <p class="ltx_p" id="S1.I1.i2.p1.1">
       We propose a three-layer structure of GPA (goal-planning-action) for analyzing tasks step by step in complex autonomous driving scenarios, ensuring the coherence of long-term decision-making.
      </p>
     </div>
    </li>
    <li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      3.
     </span>
     <div class="ltx_para" id="S1.I1.i3.p1">
      <p class="ltx_p" id="S1.I1.i3.p1.1">
       The framework also integrating safety and efficiency indicators into the reflection module to accurately measure and locate erroneous decisions, thereby expanding the scope of reflection and enhancing the module‚Äôs effectiveness.
      </p>
     </div>
    </li>
    <li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      4.
     </span>
     <div class="ltx_para" id="S1.I1.i4.p1">
      <p class="ltx_p" id="S1.I1.i4.p1.1">
       A memory sharing module is proposed to enable multiple agents quickly accumulate experience of different scenario at the same time and ensure that the memory and learning procedures of multiple agents are consistent. Experiments have demonstrated that this shared memory module effectively enhances the generalization capability of the agents.
      </p>
     </div>
    </li>
   </ol>
  </div>
 </section>
 <section class="ltx_section" id="S2">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    II
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S2.1.1">
    Literature Review
   </span>
  </h2>
  <section class="ltx_subsection" id="S2.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S2.SS1.5.1.1">
      II-A
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S2.SS1.6.2">
     LLM as Agent
    </span>
   </h3>
   <div class="ltx_para" id="S2.SS1.p1">
    <p class="ltx_p" id="S2.SS1.p1.1">
     In the burgeoning field of artificial intelligence, the emergence and integration of LLMs as agents have marked a significant pivot from conventional rule-based systems to knowledge-driven approaches.
The LLMs demonstrate remarkable abilities to perform tasks based on user prompts and rapidly adapt to new scenarios through in-context learning. Zhou et al. highlighted the intrinsic properties of LLMs that facilitate this adaptability, laying the groundwork for their application as complex agents
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib22" title="">
       22
      </a>
      ]
     </cite>
     . The shift towarded employing LLMs as the ‚Äúbrain‚Äù or controller of agents, as discussed by Xi et al., signified a pivotal transition towards more integrated and autonomous systems
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib23" title="">
       23
      </a>
      ]
     </cite>
     .
Gao et al. introduced AssistGPT, which employed a method of linguistic reasoning called Plan, Do, Check, and Learn (PEIL). This methodology enhanced the integration of LLMs with various tools, pushing the boundaries of their application
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib24" title="">
       24
      </a>
      ]
     </cite>
     . Similarly, Shen et al. proposed HuggingGPT, a framework designed to leverage LLMs for connecting disparate AI models within the machine learning community to address complex AI tasks
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib25" title="">
       25
      </a>
      ]
     </cite>
     . Furthermore, ViperGPT, as presented by Suris et al., showcased a novel approach by utilizing an API to access and compose modules through Python code generation, thereby offering solutions for an array of queries
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib26" title="">
       26
      </a>
      ]
     </cite>
     .
A significant evolution in the deployment of LLMs as agents was the transition from traditional, data-driven paradigms to knowledge-driven methodologies. Li et al. emphasized this shift, advocating for a move towards active, cognition-based understanding that leveraged the extensive general knowledge and reasoning capabilities of LLMs
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib11" title="">
       11
      </a>
      ]
     </cite>
     . This approach not only enhanced the agent‚Äôs ability to interact with and comprehend the world, but also enabled the system to become more autonomous and intelligent with relevant domain knowledge and reasoning learning ability.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S2.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S2.SS2.5.1.1">
      II-B
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S2.SS2.6.2">
     Multi agent with LLM
    </span>
   </h3>
   <div class="ltx_para" id="S2.SS2.p1">
    <p class="ltx_p" id="S2.SS2.p1.1">
     The integration of LLMs in multi-agent systems has become an emerging research field for improving collective intelligence and collaboration in various fields. The exploration of LLM-powered multi-agent systems revealed the future of collaborative intelligence, where the cooperation of multiple independent agents could enhance problem-solving capabilities.
Handler et al. proposed a multi-dimensional taxonomy to tackle the difficulties in categorize and understand the architectural complexities posed by LLM-powered multi-agent systems which aimed at accomplishing complex tasks, goals, or problems with the cognitive synergy of multiple autonomous LLM-powered agents
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib27" title="">
       27
      </a>
      ]
     </cite>
     .
Liu et al. proposed the Dynamic LLM-Agent Network (DyLAN), a novel approach for fostering LLM-agent collaboration on intricate tasks such as reasoning and code generation. DyLAN created a strategic assembly of agents that communicate within a dynamic interaction architecture tailored to the specific requirements of the task query
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib28" title="">
       28
      </a>
      ]
     </cite>
     . This model exemplified the potential of context-aware collaboration among LLM-powered agents, pushing the boundaries of collective problem-solving capabilities.
Chen et al. introduced AGENTVERSE, a multi-agent framework designed to orchestrate a collaborative group of expert agents, creating a system whose capabilities exceed the sum of its parts. AGENTVERSE enhanced the efficiency and effectiveness of task accomplishment, showcasing the power of agent collaboration in complex problem-solving scenarios
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib29" title="">
       29
      </a>
      ]
     </cite>
     .
Gong et al. presented Mindagent, an infrastructure that leverages LLMs for interactive multi-agent planning. This system not only demonstrated the in-context learning capabilities of LLMs in multi-agent planning but also offered several prompting techniques to bolster their planning proficiency. It is proposed for evaluating planning and coordination capabilities in the context of gaming interaction
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib30" title="">
       30
      </a>
      ]
     </cite>
     .
Zhang et al. developed the Cooperative Embodied Language Agent (CoELA), an agent capable of planning, communicating, and cooperating with others to efficiently accomplish long-horizon tasks. Powered by GPT4, CoELA surpassed traditional planning-based methods, demonstrating emergent effective communication strategies. This advance highlighted the potential for LLM to conduct cooperative behavior and perform complex tasks in multiple agents
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib31" title="">
       31
      </a>
      ]
     </cite>
     .
    </p>
   </div>
   <figure class="ltx_figure" id="S2.F2">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="219" id="S2.F2.g1" src="/html/2407.14239/assets/x2.png" width="576"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 2:
     </span>
     Knowledge-driven autonomous driving framework
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S2.F2.3.m1.1">
      <semantics id="S2.F2.3.m1.1b">
       <mi id="S2.F2.3.m1.1.1" xref="S2.F2.3.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.F2.3.m1.1c">
        <ci id="S2.F2.3.m1.1.1.cmml" xref="S2.F2.3.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.F2.3.m1.1d">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     that incorporates multiple agents empowered by LLMs.
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S2.F2.4.m2.1">
      <semantics id="S2.F2.4.m2.1b">
       <mi id="S2.F2.4.m2.1.1" xref="S2.F2.4.m2.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S2.F2.4.m2.1c">
        <ci id="S2.F2.4.m2.1.1.cmml" xref="S2.F2.4.m2.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S2.F2.4.m2.1d">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     consists of five core modules: the environment module, the multi-step planning module, the interaction module, the ranking-based reflection module, and the shared memory module.
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="S2.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S2.SS3.5.1.1">
      II-C
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S2.SS3.6.2">
     LLM for Autonomous Driving
    </span>
   </h3>
   <div class="ltx_para" id="S2.SS3.p1">
    <p class="ltx_p" id="S2.SS3.p1.1">
     The integration of LLMs into autonomous driving systems signified a transformative leap towards embedding human-like intelligence for enhanced decision-making and interaction capabilities.
Mao et al. emphasized the role of LLMs as cognitive agents in autonomous driving systems, highlighting their capacity to integrate human-like intelligence across various functions such as perception, prediction, and planning
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib32" title="">
       32
      </a>
      ]
     </cite>
     . This foundational approach underscored the potential of LLMs to mimic human cognitive processes.
Li et al. discussed the employment of LLMs as foundation models for autonomous driving, capitalizing on their rich repository of human driving experience and common sense. These models actively understood, interacted with, acquired knowledge from, and reasoned about driving scenarios
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib11" title="">
       11
      </a>
      ]
     </cite>
     .
Wen et al. introduced DiLu, a framework combining reasoning and reflection modules to facilitate decision-making based on common-sense knowledge while enabling continuous system evolution. DiLu‚Äôs extensive experiments demonstrated its superior generalization ability over reinforcement learning-based methods, evidencing the capability of LLMs to accumulate experience and adaptively improve
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib10" title="">
       10
      </a>
      ]
     </cite>
     .
Wang et al. proposed Co-Pilot, a universal framework that incorporates LLMs as a vehicle‚Äôs ‚ÄúCo-Pilot‚Äù, adept at fulfilling specific driving tasks with human intentions in mind. This framework not only defined a workflow for human-vehicle interaction but also introduced a memory mechanism for task-related information organization and an expert-oriented black-box tuning to enhance performance without the need for fine-tuning the LLMs. The application of Co-Pilot in path tracking control and trajectory planning tasks showcased its versatility and effectiveness
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib18" title="">
       18
      </a>
      ]
     </cite>
     .
Shao et al. presented LMDrive, an innovative language-guided, end-to-end, closed-loop framework for autonomous driving. Uniquely integrating multi-modal sensor data with natural language instructions, LMDrive facilitated interaction with humans and navigation software in realistic settings
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib33" title="">
       33
      </a>
      ]
     </cite>
     .
    </p>
   </div>
   <div class="ltx_para" id="S2.SS3.p2">
    <p class="ltx_p" id="S2.SS3.p2.1">
     The exploration of LLMs within autonomous driving systems unveiled a promising horizon where vehicles not only mimicked human driving capabilities but also engaged in complex decision-making and problem-solving tasks with an unprecedented level of intelligence and adaptability. The reviewed literature underscored the shift towards leveraging human-like intelligence and knowledge-driven methodologies, illustrating the potential of LLMs to redefine autonomous driving.However, current research on LLM-empowered autonomous driving agents mainly focused on simple scenarios lacking conflicts. We try to further explore and test the scope of knowledge driven capabilities in scenarios with conflicts, in order to fill the gap in this field.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S3">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    III
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S3.1.1">
    Methodology
   </span>
  </h2>
  <section class="ltx_subsection" id="S3.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S3.SS1.5.1.1">
      III-A
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S3.SS1.6.2">
     Overview
    </span>
   </h3>
   <div class="ltx_para" id="S3.SS1.p1">
    <p class="ltx_p" id="S3.SS1.p1.1">
     We introduce a knowledge-driven autonomous driving framework
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1">
      <semantics id="S3.SS1.p1.1.m1.1a">
       <mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b">
        <ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     that incorporates multiple agents empowered by LLMs, comprising five integral modules:
     <span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.SS1.p1.1.1">
      Environment, Multi-agent Interaction, Multi-step Planning, Shared Memory, and Ranking-based Reflection
     </span>
     . Within this framework, all agents operate on an equal and independent basis, as illustrated in Fig.
     <a class="ltx_ref" href="#S2.F2" title="Figure 2 ‚Ä£ II-B Multi agent with LLM ‚Ä£ II Literature Review ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     .
    </p>
   </div>
   <div class="ltx_para" id="S3.SS1.p2">
    <p class="ltx_p" id="S3.SS1.p2.1">
     The environment module provides driving scenarios for the driving agent, which can be either a simulation environment or a real-world scenario. It is mainly responsible for providing a text description of the corresponding scene for each autonomous driving agent before making decisions.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS1.p3">
    <p class="ltx_p" id="S3.SS1.p3.1">
     The multi-agent interaction module further processes the textual information returned by the environment module, primarily enables the LLMs to analyze the behavior of other vehicles in the scenario like a human, infer their intentions, and support subsequent action decisions with relevant information.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS1.p4">
    <p class="ltx_p" id="S3.SS1.p4.1">
     Chain of Thought (CoT) is a technique used in LLMs that promotes complex reasoning and problem-solving capabilities. The core idea behind this method is to break down a complex problem into a series of smaller steps, known as intermediate reasoning steps. This enabless the model to incrementally construct a complete solution by addressing each step in a logical and sequential manner
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib34" title="">
       34
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib35" title="">
       35
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib36" title="">
       36
      </a>
      ]
     </cite>
     . The multi-step planning module is an application of the CoT technique to guide LLM make the final action decision. The LLMs firstly analyze the goal according to the current scenario, then formulates the plan, and finally makes an action decision. This structured planning process enables the LLM agent to maintain a clear goal for its actions and more effectively pursue long-term goals. Based on the textual description of the current scene and the experiential playback of historical similar scenes, the LLM ultimately selects an action through continuous analysis and then returns the action decision to the environment module for execution.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS1.p5">
    <p class="ltx_p" id="S3.SS1.p5.1">
     The shared memory module utilizes a shared vector database to store the successful driving experiences of all agents. Before each agent makes a decision, the module retrieves analogous descriptions relevant to the agent‚Äôs current situation and then provides these experiences to the agent, helping to formulate an informed action decision. This module allows each agent to train, accumulate experience, and interact with the environment, continuously enhancing decision-making effectiveness.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS1.p6">
    <p class="ltx_p" id="S3.SS1.p6.1">
     To ensure the quality of experiences in the shared memory module, this framework introduces a ranking-based reflection module that evaluates each driving decision after execution based on efficiency and safety. After a scenario has been concluded, the framework reviews the outcomes of those decisions, especially those with low scores or collisions. Only those experiences where decisions were corrected with high scores are retained. The procedure is outlined in Algorithm
     <a class="ltx_ref" href="#alg1" title="Algorithm 1 ‚Ä£ III-A Overview ‚Ä£ III Methodology ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     .
    </p>
   </div>
   <figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
    <figcaption class="ltx_caption">
     <span class="ltx_tag ltx_tag_float">
      <span class="ltx_text ltx_font_bold" id="alg1.2.1.1">
       Algorithm 1
      </span>
     </span>
     Autonomous Driving with Multi-agent LLMs
    </figcaption>
    <div class="ltx_listing ltx_listing" id="alg1.3">
     <div class="ltx_listingline" id="alg1.l1">
     </div>
     <div class="ltx_listingline" id="alg1.l2">
      <span class="ltx_text ltx_font_bold" id="alg1.l2.1">
       Input
      </span>
      : Simulation scenario
      <math alttext="sce" class="ltx_Math" display="inline" id="alg1.l2.m1.1">
       <semantics id="alg1.l2.m1.1a">
        <mrow id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">
         <mi id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml">
          s
         </mi>
         <mo id="alg1.l2.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l2.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l2.m1.1.1.3" xref="alg1.l2.m1.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l2.m1.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l2.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l2.m1.1.1.4" xref="alg1.l2.m1.1.1.4.cmml">
          e
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b">
         <apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">
          <times id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1">
          </times>
          <ci id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2">
           ùë†
          </ci>
          <ci id="alg1.l2.m1.1.1.3.cmml" xref="alg1.l2.m1.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l2.m1.1.1.4.cmml" xref="alg1.l2.m1.1.1.4">
           ùëí
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l2.m1.1c">
         sce
        </annotation>
       </semantics>
      </math>
      , simulation duration time
      <math alttext="T" class="ltx_Math" display="inline" id="alg1.l2.m2.1">
       <semantics id="alg1.l2.m2.1a">
        <mi id="alg1.l2.m2.1.1" xref="alg1.l2.m2.1.1.cmml">
         T
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l2.m2.1b">
         <ci id="alg1.l2.m2.1.1.cmml" xref="alg1.l2.m2.1.1">
          ùëá
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l2.m2.1c">
         T
        </annotation>
       </semantics>
      </math>
      , current time
      <math alttext="t" class="ltx_Math" display="inline" id="alg1.l2.m3.1">
       <semantics id="alg1.l2.m3.1a">
        <mi id="alg1.l2.m3.1.1" xref="alg1.l2.m3.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l2.m3.1b">
         <ci id="alg1.l2.m3.1.1.cmml" xref="alg1.l2.m3.1.1">
          ùë°
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l2.m3.1c">
         t
        </annotation>
       </semantics>
      </math>
      , decision interval time
      <math alttext="\Delta" class="ltx_Math" display="inline" id="alg1.l2.m4.1">
       <semantics id="alg1.l2.m4.1a">
        <mi id="alg1.l2.m4.1.1" mathvariant="normal" xref="alg1.l2.m4.1.1.cmml">
         Œî
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l2.m4.1b">
         <ci id="alg1.l2.m4.1.1.cmml" xref="alg1.l2.m4.1.1">
          Œî
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l2.m4.1c">
         \Delta
        </annotation>
       </semantics>
      </math>
      <math alttext="t" class="ltx_Math" display="inline" id="alg1.l2.m5.1">
       <semantics id="alg1.l2.m5.1a">
        <mi id="alg1.l2.m5.1.1" xref="alg1.l2.m5.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l2.m5.1b">
         <ci id="alg1.l2.m5.1.1.cmml" xref="alg1.l2.m5.1.1">
          ùë°
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l2.m5.1c">
         t
        </annotation>
       </semantics>
      </math>
      , reflection agent
      <math alttext="RA" class="ltx_Math" display="inline" id="alg1.l2.m6.1">
       <semantics id="alg1.l2.m6.1a">
        <mrow id="alg1.l2.m6.1.1" xref="alg1.l2.m6.1.1.cmml">
         <mi id="alg1.l2.m6.1.1.2" xref="alg1.l2.m6.1.1.2.cmml">
          R
         </mi>
         <mo id="alg1.l2.m6.1.1.1" lspace="0em" rspace="0em" xref="alg1.l2.m6.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l2.m6.1.1.3" xref="alg1.l2.m6.1.1.3.cmml">
          A
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l2.m6.1b">
         <apply id="alg1.l2.m6.1.1.cmml" xref="alg1.l2.m6.1.1">
          <times id="alg1.l2.m6.1.1.1.cmml" xref="alg1.l2.m6.1.1.1">
          </times>
          <ci id="alg1.l2.m6.1.1.2.cmml" xref="alg1.l2.m6.1.1.2">
           ùëÖ
          </ci>
          <ci id="alg1.l2.m6.1.1.3.cmml" xref="alg1.l2.m6.1.1.3">
           ùê¥
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l2.m6.1c">
         RA
        </annotation>
       </semantics>
      </math>
      , driving agent
      <math alttext="DA" class="ltx_Math" display="inline" id="alg1.l2.m7.1">
       <semantics id="alg1.l2.m7.1a">
        <mrow id="alg1.l2.m7.1.1" xref="alg1.l2.m7.1.1.cmml">
         <mi id="alg1.l2.m7.1.1.2" xref="alg1.l2.m7.1.1.2.cmml">
          D
         </mi>
         <mo id="alg1.l2.m7.1.1.1" lspace="0em" rspace="0em" xref="alg1.l2.m7.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l2.m7.1.1.3" xref="alg1.l2.m7.1.1.3.cmml">
          A
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l2.m7.1b">
         <apply id="alg1.l2.m7.1.1.cmml" xref="alg1.l2.m7.1.1">
          <times id="alg1.l2.m7.1.1.1.cmml" xref="alg1.l2.m7.1.1.1">
          </times>
          <ci id="alg1.l2.m7.1.1.2.cmml" xref="alg1.l2.m7.1.1.2">
           ùê∑
          </ci>
          <ci id="alg1.l2.m7.1.1.3.cmml" xref="alg1.l2.m7.1.1.3">
           ùê¥
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l2.m7.1c">
         DA
        </annotation>
       </semantics>
      </math>
      , driving agent list
      <math alttext="DA\_list" class="ltx_Math" display="inline" id="alg1.l2.m8.1">
       <semantics id="alg1.l2.m8.1a">
        <mrow id="alg1.l2.m8.1.1" xref="alg1.l2.m8.1.1.cmml">
         <mi id="alg1.l2.m8.1.1.2" xref="alg1.l2.m8.1.1.2.cmml">
          D
         </mi>
         <mo id="alg1.l2.m8.1.1.1" lspace="0em" rspace="0em" xref="alg1.l2.m8.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l2.m8.1.1.3" xref="alg1.l2.m8.1.1.3.cmml">
          A
         </mi>
         <mo id="alg1.l2.m8.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l2.m8.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l2.m8.1.1.4" mathvariant="normal" xref="alg1.l2.m8.1.1.4.cmml">
          _
         </mi>
         <mo id="alg1.l2.m8.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l2.m8.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l2.m8.1.1.5" xref="alg1.l2.m8.1.1.5.cmml">
          l
         </mi>
         <mo id="alg1.l2.m8.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l2.m8.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l2.m8.1.1.6" xref="alg1.l2.m8.1.1.6.cmml">
          i
         </mi>
         <mo id="alg1.l2.m8.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l2.m8.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l2.m8.1.1.7" xref="alg1.l2.m8.1.1.7.cmml">
          s
         </mi>
         <mo id="alg1.l2.m8.1.1.1e" lspace="0em" rspace="0em" xref="alg1.l2.m8.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l2.m8.1.1.8" xref="alg1.l2.m8.1.1.8.cmml">
          t
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l2.m8.1b">
         <apply id="alg1.l2.m8.1.1.cmml" xref="alg1.l2.m8.1.1">
          <times id="alg1.l2.m8.1.1.1.cmml" xref="alg1.l2.m8.1.1.1">
          </times>
          <ci id="alg1.l2.m8.1.1.2.cmml" xref="alg1.l2.m8.1.1.2">
           ùê∑
          </ci>
          <ci id="alg1.l2.m8.1.1.3.cmml" xref="alg1.l2.m8.1.1.3">
           ùê¥
          </ci>
          <ci id="alg1.l2.m8.1.1.4.cmml" xref="alg1.l2.m8.1.1.4">
           _
          </ci>
          <ci id="alg1.l2.m8.1.1.5.cmml" xref="alg1.l2.m8.1.1.5">
           ùëô
          </ci>
          <ci id="alg1.l2.m8.1.1.6.cmml" xref="alg1.l2.m8.1.1.6">
           ùëñ
          </ci>
          <ci id="alg1.l2.m8.1.1.7.cmml" xref="alg1.l2.m8.1.1.7">
           ùë†
          </ci>
          <ci id="alg1.l2.m8.1.1.8.cmml" xref="alg1.l2.m8.1.1.8">
           ùë°
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l2.m8.1c">
         DA\_list
        </annotation>
       </semantics>
      </math>
      , shared-memory
      <math alttext="M" class="ltx_Math" display="inline" id="alg1.l2.m9.1">
       <semantics id="alg1.l2.m9.1a">
        <mi id="alg1.l2.m9.1.1" xref="alg1.l2.m9.1.1.cmml">
         M
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l2.m9.1b">
         <ci id="alg1.l2.m9.1.1.cmml" xref="alg1.l2.m9.1.1">
          ùëÄ
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l2.m9.1c">
         M
        </annotation>
       </semantics>
      </math>
     </div>
     <div class="ltx_listingline" id="alg1.l3">
      <span class="ltx_text ltx_font_bold" id="alg1.l3.1">
       Initialize
      </span>
      :
      <math alttext="t" class="ltx_Math" display="inline" id="alg1.l3.m1.1">
       <semantics id="alg1.l3.m1.1a">
        <mi id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b">
         <ci id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">
          ùë°
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l3.m1.1c">
         t
        </annotation>
       </semantics>
      </math>
      = 0, score list
      <math alttext="SL" class="ltx_Math" display="inline" id="alg1.l3.m2.1">
       <semantics id="alg1.l3.m2.1a">
        <mrow id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml">
         <mi id="alg1.l3.m2.1.1.2" xref="alg1.l3.m2.1.1.2.cmml">
          S
         </mi>
         <mo id="alg1.l3.m2.1.1.1" lspace="0em" rspace="0em" xref="alg1.l3.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l3.m2.1.1.3" xref="alg1.l3.m2.1.1.3.cmml">
          L
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l3.m2.1b">
         <apply id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1">
          <times id="alg1.l3.m2.1.1.1.cmml" xref="alg1.l3.m2.1.1.1">
          </times>
          <ci id="alg1.l3.m2.1.1.2.cmml" xref="alg1.l3.m2.1.1.2">
           ùëÜ
          </ci>
          <ci id="alg1.l3.m2.1.1.3.cmml" xref="alg1.l3.m2.1.1.3">
           ùêø
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l3.m2.1c">
         SL
        </annotation>
       </semantics>
      </math>
      = [], decision list
      <math alttext="DL" class="ltx_Math" display="inline" id="alg1.l3.m3.1">
       <semantics id="alg1.l3.m3.1a">
        <mrow id="alg1.l3.m3.1.1" xref="alg1.l3.m3.1.1.cmml">
         <mi id="alg1.l3.m3.1.1.2" xref="alg1.l3.m3.1.1.2.cmml">
          D
         </mi>
         <mo id="alg1.l3.m3.1.1.1" lspace="0em" rspace="0em" xref="alg1.l3.m3.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l3.m3.1.1.3" xref="alg1.l3.m3.1.1.3.cmml">
          L
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l3.m3.1b">
         <apply id="alg1.l3.m3.1.1.cmml" xref="alg1.l3.m3.1.1">
          <times id="alg1.l3.m3.1.1.1.cmml" xref="alg1.l3.m3.1.1.1">
          </times>
          <ci id="alg1.l3.m3.1.1.2.cmml" xref="alg1.l3.m3.1.1.2">
           ùê∑
          </ci>
          <ci id="alg1.l3.m3.1.1.3.cmml" xref="alg1.l3.m3.1.1.3">
           ùêø
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l3.m3.1c">
         DL
        </annotation>
       </semantics>
      </math>
      = [], document
      <math alttext="doc" class="ltx_Math" display="inline" id="alg1.l3.m4.1">
       <semantics id="alg1.l3.m4.1a">
        <mrow id="alg1.l3.m4.1.1" xref="alg1.l3.m4.1.1.cmml">
         <mi id="alg1.l3.m4.1.1.2" xref="alg1.l3.m4.1.1.2.cmml">
          d
         </mi>
         <mo id="alg1.l3.m4.1.1.1" lspace="0em" rspace="0em" xref="alg1.l3.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l3.m4.1.1.3" xref="alg1.l3.m4.1.1.3.cmml">
          o
         </mi>
         <mo id="alg1.l3.m4.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l3.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l3.m4.1.1.4" xref="alg1.l3.m4.1.1.4.cmml">
          c
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l3.m4.1b">
         <apply id="alg1.l3.m4.1.1.cmml" xref="alg1.l3.m4.1.1">
          <times id="alg1.l3.m4.1.1.1.cmml" xref="alg1.l3.m4.1.1.1">
          </times>
          <ci id="alg1.l3.m4.1.1.2.cmml" xref="alg1.l3.m4.1.1.2">
           ùëë
          </ci>
          <ci id="alg1.l3.m4.1.1.3.cmml" xref="alg1.l3.m4.1.1.3">
           ùëú
          </ci>
          <ci id="alg1.l3.m4.1.1.4.cmml" xref="alg1.l3.m4.1.1.4">
           ùëê
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l3.m4.1c">
         doc
        </annotation>
       </semantics>
      </math>
      = [],
      <math alttext="plan" class="ltx_Math" display="inline" id="alg1.l3.m5.1">
       <semantics id="alg1.l3.m5.1a">
        <mrow id="alg1.l3.m5.1.1" xref="alg1.l3.m5.1.1.cmml">
         <mi id="alg1.l3.m5.1.1.2" xref="alg1.l3.m5.1.1.2.cmml">
          p
         </mi>
         <mo id="alg1.l3.m5.1.1.1" lspace="0em" rspace="0em" xref="alg1.l3.m5.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l3.m5.1.1.3" xref="alg1.l3.m5.1.1.3.cmml">
          l
         </mi>
         <mo id="alg1.l3.m5.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l3.m5.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l3.m5.1.1.4" xref="alg1.l3.m5.1.1.4.cmml">
          a
         </mi>
         <mo id="alg1.l3.m5.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l3.m5.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l3.m5.1.1.5" xref="alg1.l3.m5.1.1.5.cmml">
          n
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l3.m5.1b">
         <apply id="alg1.l3.m5.1.1.cmml" xref="alg1.l3.m5.1.1">
          <times id="alg1.l3.m5.1.1.1.cmml" xref="alg1.l3.m5.1.1.1">
          </times>
          <ci id="alg1.l3.m5.1.1.2.cmml" xref="alg1.l3.m5.1.1.2">
           ùëù
          </ci>
          <ci id="alg1.l3.m5.1.1.3.cmml" xref="alg1.l3.m5.1.1.3">
           ùëô
          </ci>
          <ci id="alg1.l3.m5.1.1.4.cmml" xref="alg1.l3.m5.1.1.4">
           ùëé
          </ci>
          <ci id="alg1.l3.m5.1.1.5.cmml" xref="alg1.l3.m5.1.1.5">
           ùëõ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l3.m5.1c">
         plan
        </annotation>
       </semantics>
      </math>
      = None
     </div>
     <div class="ltx_listingline" id="alg1.l4">
      <span class="ltx_text ltx_font_bold" id="alg1.l4.1">
       while
      </span>
      <math alttext="t" class="ltx_Math" display="inline" id="alg1.l4.m1.1">
       <semantics id="alg1.l4.m1.1a">
        <mi id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b">
         <ci id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">
          ùë°
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l4.m1.1c">
         t
        </annotation>
       </semantics>
      </math>
      <math alttext="\textless" class="ltx_Math" display="inline" id="alg1.l4.m2.1">
       <semantics id="alg1.l4.m2.1a">
        <mo id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml">
         &lt;
        </mo>
        <annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b">
         <lt id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1">
         </lt>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l4.m2.1c">
         \textless
        </annotation>
       </semantics>
      </math>
      <math alttext="T" class="ltx_Math" display="inline" id="alg1.l4.m3.1">
       <semantics id="alg1.l4.m3.1a">
        <mi id="alg1.l4.m3.1.1" xref="alg1.l4.m3.1.1.cmml">
         T
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l4.m3.1b">
         <ci id="alg1.l4.m3.1.1.cmml" xref="alg1.l4.m3.1.1">
          ùëá
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l4.m3.1c">
         T
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text ltx_font_bold" id="alg1.l4.2">
       do
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l5">
      <span class="ltx_text ltx_font_bold" id="alg1.l5.1">
       for
      </span>
      <math alttext="DA" class="ltx_Math" display="inline" id="alg1.l5.m1.1">
       <semantics id="alg1.l5.m1.1a">
        <mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml">
         <mi id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml">
          D
         </mi>
         <mo id="alg1.l5.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l5.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml">
          A
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b">
         <apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1">
          <times id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1">
          </times>
          <ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">
           ùê∑
          </ci>
          <ci id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3">
           ùê¥
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l5.m1.1c">
         DA
        </annotation>
       </semantics>
      </math>
      in
      <math alttext="DA\_list" class="ltx_Math" display="inline" id="alg1.l5.m2.1">
       <semantics id="alg1.l5.m2.1a">
        <mrow id="alg1.l5.m2.1.1" xref="alg1.l5.m2.1.1.cmml">
         <mi id="alg1.l5.m2.1.1.2" xref="alg1.l5.m2.1.1.2.cmml">
          D
         </mi>
         <mo id="alg1.l5.m2.1.1.1" lspace="0em" rspace="0em" xref="alg1.l5.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l5.m2.1.1.3" xref="alg1.l5.m2.1.1.3.cmml">
          A
         </mi>
         <mo id="alg1.l5.m2.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l5.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l5.m2.1.1.4" mathvariant="normal" xref="alg1.l5.m2.1.1.4.cmml">
          _
         </mi>
         <mo id="alg1.l5.m2.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l5.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l5.m2.1.1.5" xref="alg1.l5.m2.1.1.5.cmml">
          l
         </mi>
         <mo id="alg1.l5.m2.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l5.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l5.m2.1.1.6" xref="alg1.l5.m2.1.1.6.cmml">
          i
         </mi>
         <mo id="alg1.l5.m2.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l5.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l5.m2.1.1.7" xref="alg1.l5.m2.1.1.7.cmml">
          s
         </mi>
         <mo id="alg1.l5.m2.1.1.1e" lspace="0em" rspace="0em" xref="alg1.l5.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l5.m2.1.1.8" xref="alg1.l5.m2.1.1.8.cmml">
          t
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l5.m2.1b">
         <apply id="alg1.l5.m2.1.1.cmml" xref="alg1.l5.m2.1.1">
          <times id="alg1.l5.m2.1.1.1.cmml" xref="alg1.l5.m2.1.1.1">
          </times>
          <ci id="alg1.l5.m2.1.1.2.cmml" xref="alg1.l5.m2.1.1.2">
           ùê∑
          </ci>
          <ci id="alg1.l5.m2.1.1.3.cmml" xref="alg1.l5.m2.1.1.3">
           ùê¥
          </ci>
          <ci id="alg1.l5.m2.1.1.4.cmml" xref="alg1.l5.m2.1.1.4">
           _
          </ci>
          <ci id="alg1.l5.m2.1.1.5.cmml" xref="alg1.l5.m2.1.1.5">
           ùëô
          </ci>
          <ci id="alg1.l5.m2.1.1.6.cmml" xref="alg1.l5.m2.1.1.6">
           ùëñ
          </ci>
          <ci id="alg1.l5.m2.1.1.7.cmml" xref="alg1.l5.m2.1.1.7">
           ùë†
          </ci>
          <ci id="alg1.l5.m2.1.1.8.cmml" xref="alg1.l5.m2.1.1.8">
           ùë°
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l5.m2.1c">
         DA\_list
        </annotation>
       </semantics>
      </math>
      :
     </div>
     <div class="ltx_listingline" id="alg1.l6">
      <span class="ltx_text" id="alg1.l6.1" style="color:#00FFFF;">
       \\¬†¬†¬†Get the scenario description
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l7">
      <math alttext="sce\_des" class="ltx_Math" display="inline" id="alg1.l7.m1.1">
       <semantics id="alg1.l7.m1.1a">
        <mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml">
         <mi id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml">
          s
         </mi>
         <mo id="alg1.l7.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l7.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l7.m1.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l7.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l7.m1.1.1.4" xref="alg1.l7.m1.1.1.4.cmml">
          e
         </mi>
         <mo id="alg1.l7.m1.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l7.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l7.m1.1.1.5" mathvariant="normal" xref="alg1.l7.m1.1.1.5.cmml">
          _
         </mi>
         <mo id="alg1.l7.m1.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l7.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l7.m1.1.1.6" xref="alg1.l7.m1.1.1.6.cmml">
          d
         </mi>
         <mo id="alg1.l7.m1.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l7.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l7.m1.1.1.7" xref="alg1.l7.m1.1.1.7.cmml">
          e
         </mi>
         <mo id="alg1.l7.m1.1.1.1e" lspace="0em" rspace="0em" xref="alg1.l7.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l7.m1.1.1.8" xref="alg1.l7.m1.1.1.8.cmml">
          s
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b">
         <apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1">
          <times id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1">
          </times>
          <ci id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2">
           ùë†
          </ci>
          <ci id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l7.m1.1.1.4.cmml" xref="alg1.l7.m1.1.1.4">
           ùëí
          </ci>
          <ci id="alg1.l7.m1.1.1.5.cmml" xref="alg1.l7.m1.1.1.5">
           _
          </ci>
          <ci id="alg1.l7.m1.1.1.6.cmml" xref="alg1.l7.m1.1.1.6">
           ùëë
          </ci>
          <ci id="alg1.l7.m1.1.1.7.cmml" xref="alg1.l7.m1.1.1.7">
           ùëí
          </ci>
          <ci id="alg1.l7.m1.1.1.8.cmml" xref="alg1.l7.m1.1.1.8">
           ùë†
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l7.m1.1c">
         sce\_des
        </annotation>
       </semantics>
      </math>
      =
      <math alttext="sce" class="ltx_Math" display="inline" id="alg1.l7.m2.1">
       <semantics id="alg1.l7.m2.1a">
        <mrow id="alg1.l7.m2.1.1" xref="alg1.l7.m2.1.1.cmml">
         <mi id="alg1.l7.m2.1.1.2" xref="alg1.l7.m2.1.1.2.cmml">
          s
         </mi>
         <mo id="alg1.l7.m2.1.1.1" lspace="0em" rspace="0em" xref="alg1.l7.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l7.m2.1.1.3" xref="alg1.l7.m2.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l7.m2.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l7.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l7.m2.1.1.4" xref="alg1.l7.m2.1.1.4.cmml">
          e
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l7.m2.1b">
         <apply id="alg1.l7.m2.1.1.cmml" xref="alg1.l7.m2.1.1">
          <times id="alg1.l7.m2.1.1.1.cmml" xref="alg1.l7.m2.1.1.1">
          </times>
          <ci id="alg1.l7.m2.1.1.2.cmml" xref="alg1.l7.m2.1.1.2">
           ùë†
          </ci>
          <ci id="alg1.l7.m2.1.1.3.cmml" xref="alg1.l7.m2.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l7.m2.1.1.4.cmml" xref="alg1.l7.m2.1.1.4">
           ùëí
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l7.m2.1c">
         sce
        </annotation>
       </semantics>
      </math>
      .describe(DA)
     </div>
     <div class="ltx_listingline" id="alg1.l8">
      <span class="ltx_text" id="alg1.l8.1" style="color:#00FFFF;">
       \\¬†¬†¬†Retrive similar experience from shared-memory
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l9">
      <math alttext="few" class="ltx_Math" display="inline" id="alg1.l9.m1.1">
       <semantics id="alg1.l9.m1.1a">
        <mrow id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml">
         <mi id="alg1.l9.m1.1.1.2" xref="alg1.l9.m1.1.1.2.cmml">
          f
         </mi>
         <mo id="alg1.l9.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l9.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l9.m1.1.1.3" xref="alg1.l9.m1.1.1.3.cmml">
          e
         </mi>
         <mo id="alg1.l9.m1.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l9.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l9.m1.1.1.4" xref="alg1.l9.m1.1.1.4.cmml">
          w
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l9.m1.1b">
         <apply id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1">
          <times id="alg1.l9.m1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1">
          </times>
          <ci id="alg1.l9.m1.1.1.2.cmml" xref="alg1.l9.m1.1.1.2">
           ùëì
          </ci>
          <ci id="alg1.l9.m1.1.1.3.cmml" xref="alg1.l9.m1.1.1.3">
           ùëí
          </ci>
          <ci id="alg1.l9.m1.1.1.4.cmml" xref="alg1.l9.m1.1.1.4">
           ùë§
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l9.m1.1c">
         few
        </annotation>
       </semantics>
      </math>
      -
      <math alttext="shot" class="ltx_Math" display="inline" id="alg1.l9.m2.1">
       <semantics id="alg1.l9.m2.1a">
        <mrow id="alg1.l9.m2.1.1" xref="alg1.l9.m2.1.1.cmml">
         <mi id="alg1.l9.m2.1.1.2" xref="alg1.l9.m2.1.1.2.cmml">
          s
         </mi>
         <mo id="alg1.l9.m2.1.1.1" lspace="0em" rspace="0em" xref="alg1.l9.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l9.m2.1.1.3" xref="alg1.l9.m2.1.1.3.cmml">
          h
         </mi>
         <mo id="alg1.l9.m2.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l9.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l9.m2.1.1.4" xref="alg1.l9.m2.1.1.4.cmml">
          o
         </mi>
         <mo id="alg1.l9.m2.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l9.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l9.m2.1.1.5" xref="alg1.l9.m2.1.1.5.cmml">
          t
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l9.m2.1b">
         <apply id="alg1.l9.m2.1.1.cmml" xref="alg1.l9.m2.1.1">
          <times id="alg1.l9.m2.1.1.1.cmml" xref="alg1.l9.m2.1.1.1">
          </times>
          <ci id="alg1.l9.m2.1.1.2.cmml" xref="alg1.l9.m2.1.1.2">
           ùë†
          </ci>
          <ci id="alg1.l9.m2.1.1.3.cmml" xref="alg1.l9.m2.1.1.3">
           ‚Ñé
          </ci>
          <ci id="alg1.l9.m2.1.1.4.cmml" xref="alg1.l9.m2.1.1.4">
           ùëú
          </ci>
          <ci id="alg1.l9.m2.1.1.5.cmml" xref="alg1.l9.m2.1.1.5">
           ùë°
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l9.m2.1c">
         shot
        </annotation>
       </semantics>
      </math>
      =
      <math alttext="M" class="ltx_Math" display="inline" id="alg1.l9.m3.1">
       <semantics id="alg1.l9.m3.1a">
        <mi id="alg1.l9.m3.1.1" xref="alg1.l9.m3.1.1.cmml">
         M
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l9.m3.1b">
         <ci id="alg1.l9.m3.1.1.cmml" xref="alg1.l9.m3.1.1">
          ùëÄ
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l9.m3.1c">
         M
        </annotation>
       </semantics>
      </math>
      .retriveMemory(
      <math alttext="sce\_des" class="ltx_Math" display="inline" id="alg1.l9.m4.1">
       <semantics id="alg1.l9.m4.1a">
        <mrow id="alg1.l9.m4.1.1" xref="alg1.l9.m4.1.1.cmml">
         <mi id="alg1.l9.m4.1.1.2" xref="alg1.l9.m4.1.1.2.cmml">
          s
         </mi>
         <mo id="alg1.l9.m4.1.1.1" lspace="0em" rspace="0em" xref="alg1.l9.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l9.m4.1.1.3" xref="alg1.l9.m4.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l9.m4.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l9.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l9.m4.1.1.4" xref="alg1.l9.m4.1.1.4.cmml">
          e
         </mi>
         <mo id="alg1.l9.m4.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l9.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l9.m4.1.1.5" mathvariant="normal" xref="alg1.l9.m4.1.1.5.cmml">
          _
         </mi>
         <mo id="alg1.l9.m4.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l9.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l9.m4.1.1.6" xref="alg1.l9.m4.1.1.6.cmml">
          d
         </mi>
         <mo id="alg1.l9.m4.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l9.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l9.m4.1.1.7" xref="alg1.l9.m4.1.1.7.cmml">
          e
         </mi>
         <mo id="alg1.l9.m4.1.1.1e" lspace="0em" rspace="0em" xref="alg1.l9.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l9.m4.1.1.8" xref="alg1.l9.m4.1.1.8.cmml">
          s
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l9.m4.1b">
         <apply id="alg1.l9.m4.1.1.cmml" xref="alg1.l9.m4.1.1">
          <times id="alg1.l9.m4.1.1.1.cmml" xref="alg1.l9.m4.1.1.1">
          </times>
          <ci id="alg1.l9.m4.1.1.2.cmml" xref="alg1.l9.m4.1.1.2">
           ùë†
          </ci>
          <ci id="alg1.l9.m4.1.1.3.cmml" xref="alg1.l9.m4.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l9.m4.1.1.4.cmml" xref="alg1.l9.m4.1.1.4">
           ùëí
          </ci>
          <ci id="alg1.l9.m4.1.1.5.cmml" xref="alg1.l9.m4.1.1.5">
           _
          </ci>
          <ci id="alg1.l9.m4.1.1.6.cmml" xref="alg1.l9.m4.1.1.6">
           ùëë
          </ci>
          <ci id="alg1.l9.m4.1.1.7.cmml" xref="alg1.l9.m4.1.1.7">
           ùëí
          </ci>
          <ci id="alg1.l9.m4.1.1.8.cmml" xref="alg1.l9.m4.1.1.8">
           ùë†
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l9.m4.1c">
         sce\_des
        </annotation>
       </semantics>
      </math>
      )
     </div>
     <div class="ltx_listingline" id="alg1.l10">
      <span class="ltx_text" id="alg1.l10.1" style="color:#00FFFF;">
       \\¬†¬†¬†Driving agent making action decision
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l11">
      <math alttext="action" class="ltx_Math" display="inline" id="alg1.l11.m1.1">
       <semantics id="alg1.l11.m1.1a">
        <mrow id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml">
         <mi id="alg1.l11.m1.1.1.2" xref="alg1.l11.m1.1.1.2.cmml">
          a
         </mi>
         <mo id="alg1.l11.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l11.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m1.1.1.3" xref="alg1.l11.m1.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l11.m1.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l11.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m1.1.1.4" xref="alg1.l11.m1.1.1.4.cmml">
          t
         </mi>
         <mo id="alg1.l11.m1.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l11.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m1.1.1.5" xref="alg1.l11.m1.1.1.5.cmml">
          i
         </mi>
         <mo id="alg1.l11.m1.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l11.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m1.1.1.6" xref="alg1.l11.m1.1.1.6.cmml">
          o
         </mi>
         <mo id="alg1.l11.m1.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l11.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m1.1.1.7" xref="alg1.l11.m1.1.1.7.cmml">
          n
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b">
         <apply id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1">
          <times id="alg1.l11.m1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1">
          </times>
          <ci id="alg1.l11.m1.1.1.2.cmml" xref="alg1.l11.m1.1.1.2">
           ùëé
          </ci>
          <ci id="alg1.l11.m1.1.1.3.cmml" xref="alg1.l11.m1.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l11.m1.1.1.4.cmml" xref="alg1.l11.m1.1.1.4">
           ùë°
          </ci>
          <ci id="alg1.l11.m1.1.1.5.cmml" xref="alg1.l11.m1.1.1.5">
           ùëñ
          </ci>
          <ci id="alg1.l11.m1.1.1.6.cmml" xref="alg1.l11.m1.1.1.6">
           ùëú
          </ci>
          <ci id="alg1.l11.m1.1.1.7.cmml" xref="alg1.l11.m1.1.1.7">
           ùëõ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l11.m1.1c">
         action
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="plan" class="ltx_Math" display="inline" id="alg1.l11.m2.1">
       <semantics id="alg1.l11.m2.1a">
        <mrow id="alg1.l11.m2.1.1" xref="alg1.l11.m2.1.1.cmml">
         <mi id="alg1.l11.m2.1.1.2" xref="alg1.l11.m2.1.1.2.cmml">
          p
         </mi>
         <mo id="alg1.l11.m2.1.1.1" lspace="0em" rspace="0em" xref="alg1.l11.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m2.1.1.3" xref="alg1.l11.m2.1.1.3.cmml">
          l
         </mi>
         <mo id="alg1.l11.m2.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l11.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m2.1.1.4" xref="alg1.l11.m2.1.1.4.cmml">
          a
         </mi>
         <mo id="alg1.l11.m2.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l11.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m2.1.1.5" xref="alg1.l11.m2.1.1.5.cmml">
          n
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l11.m2.1b">
         <apply id="alg1.l11.m2.1.1.cmml" xref="alg1.l11.m2.1.1">
          <times id="alg1.l11.m2.1.1.1.cmml" xref="alg1.l11.m2.1.1.1">
          </times>
          <ci id="alg1.l11.m2.1.1.2.cmml" xref="alg1.l11.m2.1.1.2">
           ùëù
          </ci>
          <ci id="alg1.l11.m2.1.1.3.cmml" xref="alg1.l11.m2.1.1.3">
           ùëô
          </ci>
          <ci id="alg1.l11.m2.1.1.4.cmml" xref="alg1.l11.m2.1.1.4">
           ùëé
          </ci>
          <ci id="alg1.l11.m2.1.1.5.cmml" xref="alg1.l11.m2.1.1.5">
           ùëõ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l11.m2.1c">
         plan
        </annotation>
       </semantics>
      </math>
      =
      <math alttext="DA" class="ltx_Math" display="inline" id="alg1.l11.m3.1">
       <semantics id="alg1.l11.m3.1a">
        <mrow id="alg1.l11.m3.1.1" xref="alg1.l11.m3.1.1.cmml">
         <mi id="alg1.l11.m3.1.1.2" xref="alg1.l11.m3.1.1.2.cmml">
          D
         </mi>
         <mo id="alg1.l11.m3.1.1.1" lspace="0em" rspace="0em" xref="alg1.l11.m3.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m3.1.1.3" xref="alg1.l11.m3.1.1.3.cmml">
          A
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l11.m3.1b">
         <apply id="alg1.l11.m3.1.1.cmml" xref="alg1.l11.m3.1.1">
          <times id="alg1.l11.m3.1.1.1.cmml" xref="alg1.l11.m3.1.1.1">
          </times>
          <ci id="alg1.l11.m3.1.1.2.cmml" xref="alg1.l11.m3.1.1.2">
           ùê∑
          </ci>
          <ci id="alg1.l11.m3.1.1.3.cmml" xref="alg1.l11.m3.1.1.3">
           ùê¥
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l11.m3.1c">
         DA
        </annotation>
       </semantics>
      </math>
      .reason(
      <math alttext="sce\_des" class="ltx_Math" display="inline" id="alg1.l11.m4.1">
       <semantics id="alg1.l11.m4.1a">
        <mrow id="alg1.l11.m4.1.1" xref="alg1.l11.m4.1.1.cmml">
         <mi id="alg1.l11.m4.1.1.2" xref="alg1.l11.m4.1.1.2.cmml">
          s
         </mi>
         <mo id="alg1.l11.m4.1.1.1" lspace="0em" rspace="0em" xref="alg1.l11.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m4.1.1.3" xref="alg1.l11.m4.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l11.m4.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l11.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m4.1.1.4" xref="alg1.l11.m4.1.1.4.cmml">
          e
         </mi>
         <mo id="alg1.l11.m4.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l11.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m4.1.1.5" mathvariant="normal" xref="alg1.l11.m4.1.1.5.cmml">
          _
         </mi>
         <mo id="alg1.l11.m4.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l11.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m4.1.1.6" xref="alg1.l11.m4.1.1.6.cmml">
          d
         </mi>
         <mo id="alg1.l11.m4.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l11.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m4.1.1.7" xref="alg1.l11.m4.1.1.7.cmml">
          e
         </mi>
         <mo id="alg1.l11.m4.1.1.1e" lspace="0em" rspace="0em" xref="alg1.l11.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m4.1.1.8" xref="alg1.l11.m4.1.1.8.cmml">
          s
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l11.m4.1b">
         <apply id="alg1.l11.m4.1.1.cmml" xref="alg1.l11.m4.1.1">
          <times id="alg1.l11.m4.1.1.1.cmml" xref="alg1.l11.m4.1.1.1">
          </times>
          <ci id="alg1.l11.m4.1.1.2.cmml" xref="alg1.l11.m4.1.1.2">
           ùë†
          </ci>
          <ci id="alg1.l11.m4.1.1.3.cmml" xref="alg1.l11.m4.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l11.m4.1.1.4.cmml" xref="alg1.l11.m4.1.1.4">
           ùëí
          </ci>
          <ci id="alg1.l11.m4.1.1.5.cmml" xref="alg1.l11.m4.1.1.5">
           _
          </ci>
          <ci id="alg1.l11.m4.1.1.6.cmml" xref="alg1.l11.m4.1.1.6">
           ùëë
          </ci>
          <ci id="alg1.l11.m4.1.1.7.cmml" xref="alg1.l11.m4.1.1.7">
           ùëí
          </ci>
          <ci id="alg1.l11.m4.1.1.8.cmml" xref="alg1.l11.m4.1.1.8">
           ùë†
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l11.m4.1c">
         sce\_des
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="few" class="ltx_Math" display="inline" id="alg1.l11.m5.1">
       <semantics id="alg1.l11.m5.1a">
        <mrow id="alg1.l11.m5.1.1" xref="alg1.l11.m5.1.1.cmml">
         <mi id="alg1.l11.m5.1.1.2" xref="alg1.l11.m5.1.1.2.cmml">
          f
         </mi>
         <mo id="alg1.l11.m5.1.1.1" lspace="0em" rspace="0em" xref="alg1.l11.m5.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m5.1.1.3" xref="alg1.l11.m5.1.1.3.cmml">
          e
         </mi>
         <mo id="alg1.l11.m5.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l11.m5.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m5.1.1.4" xref="alg1.l11.m5.1.1.4.cmml">
          w
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l11.m5.1b">
         <apply id="alg1.l11.m5.1.1.cmml" xref="alg1.l11.m5.1.1">
          <times id="alg1.l11.m5.1.1.1.cmml" xref="alg1.l11.m5.1.1.1">
          </times>
          <ci id="alg1.l11.m5.1.1.2.cmml" xref="alg1.l11.m5.1.1.2">
           ùëì
          </ci>
          <ci id="alg1.l11.m5.1.1.3.cmml" xref="alg1.l11.m5.1.1.3">
           ùëí
          </ci>
          <ci id="alg1.l11.m5.1.1.4.cmml" xref="alg1.l11.m5.1.1.4">
           ùë§
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l11.m5.1c">
         few
        </annotation>
       </semantics>
      </math>
      -
      <math alttext="shot" class="ltx_Math" display="inline" id="alg1.l11.m6.1">
       <semantics id="alg1.l11.m6.1a">
        <mrow id="alg1.l11.m6.1.1" xref="alg1.l11.m6.1.1.cmml">
         <mi id="alg1.l11.m6.1.1.2" xref="alg1.l11.m6.1.1.2.cmml">
          s
         </mi>
         <mo id="alg1.l11.m6.1.1.1" lspace="0em" rspace="0em" xref="alg1.l11.m6.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m6.1.1.3" xref="alg1.l11.m6.1.1.3.cmml">
          h
         </mi>
         <mo id="alg1.l11.m6.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l11.m6.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m6.1.1.4" xref="alg1.l11.m6.1.1.4.cmml">
          o
         </mi>
         <mo id="alg1.l11.m6.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l11.m6.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m6.1.1.5" xref="alg1.l11.m6.1.1.5.cmml">
          t
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l11.m6.1b">
         <apply id="alg1.l11.m6.1.1.cmml" xref="alg1.l11.m6.1.1">
          <times id="alg1.l11.m6.1.1.1.cmml" xref="alg1.l11.m6.1.1.1">
          </times>
          <ci id="alg1.l11.m6.1.1.2.cmml" xref="alg1.l11.m6.1.1.2">
           ùë†
          </ci>
          <ci id="alg1.l11.m6.1.1.3.cmml" xref="alg1.l11.m6.1.1.3">
           ‚Ñé
          </ci>
          <ci id="alg1.l11.m6.1.1.4.cmml" xref="alg1.l11.m6.1.1.4">
           ùëú
          </ci>
          <ci id="alg1.l11.m6.1.1.5.cmml" xref="alg1.l11.m6.1.1.5">
           ùë°
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l11.m6.1c">
         shot
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="plan" class="ltx_Math" display="inline" id="alg1.l11.m7.1">
       <semantics id="alg1.l11.m7.1a">
        <mrow id="alg1.l11.m7.1.1" xref="alg1.l11.m7.1.1.cmml">
         <mi id="alg1.l11.m7.1.1.2" xref="alg1.l11.m7.1.1.2.cmml">
          p
         </mi>
         <mo id="alg1.l11.m7.1.1.1" lspace="0em" rspace="0em" xref="alg1.l11.m7.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m7.1.1.3" xref="alg1.l11.m7.1.1.3.cmml">
          l
         </mi>
         <mo id="alg1.l11.m7.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l11.m7.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m7.1.1.4" xref="alg1.l11.m7.1.1.4.cmml">
          a
         </mi>
         <mo id="alg1.l11.m7.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l11.m7.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l11.m7.1.1.5" xref="alg1.l11.m7.1.1.5.cmml">
          n
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l11.m7.1b">
         <apply id="alg1.l11.m7.1.1.cmml" xref="alg1.l11.m7.1.1">
          <times id="alg1.l11.m7.1.1.1.cmml" xref="alg1.l11.m7.1.1.1">
          </times>
          <ci id="alg1.l11.m7.1.1.2.cmml" xref="alg1.l11.m7.1.1.2">
           ùëù
          </ci>
          <ci id="alg1.l11.m7.1.1.3.cmml" xref="alg1.l11.m7.1.1.3">
           ùëô
          </ci>
          <ci id="alg1.l11.m7.1.1.4.cmml" xref="alg1.l11.m7.1.1.4">
           ùëé
          </ci>
          <ci id="alg1.l11.m7.1.1.5.cmml" xref="alg1.l11.m7.1.1.5">
           ùëõ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l11.m7.1c">
         plan
        </annotation>
       </semantics>
      </math>
      )
     </div>
     <div class="ltx_listingline" id="alg1.l12">
      <math alttext="DL" class="ltx_Math" display="inline" id="alg1.l12.m1.1">
       <semantics id="alg1.l12.m1.1a">
        <mrow id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml">
         <mi id="alg1.l12.m1.1.1.2" xref="alg1.l12.m1.1.1.2.cmml">
          D
         </mi>
         <mo id="alg1.l12.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l12.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l12.m1.1.1.3" xref="alg1.l12.m1.1.1.3.cmml">
          L
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l12.m1.1b">
         <apply id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1">
          <times id="alg1.l12.m1.1.1.1.cmml" xref="alg1.l12.m1.1.1.1">
          </times>
          <ci id="alg1.l12.m1.1.1.2.cmml" xref="alg1.l12.m1.1.1.2">
           ùê∑
          </ci>
          <ci id="alg1.l12.m1.1.1.3.cmml" xref="alg1.l12.m1.1.1.3">
           ùêø
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l12.m1.1c">
         DL
        </annotation>
       </semantics>
      </math>
      .append(
      <math alttext="action" class="ltx_Math" display="inline" id="alg1.l12.m2.1">
       <semantics id="alg1.l12.m2.1a">
        <mrow id="alg1.l12.m2.1.1" xref="alg1.l12.m2.1.1.cmml">
         <mi id="alg1.l12.m2.1.1.2" xref="alg1.l12.m2.1.1.2.cmml">
          a
         </mi>
         <mo id="alg1.l12.m2.1.1.1" lspace="0em" rspace="0em" xref="alg1.l12.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l12.m2.1.1.3" xref="alg1.l12.m2.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l12.m2.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l12.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l12.m2.1.1.4" xref="alg1.l12.m2.1.1.4.cmml">
          t
         </mi>
         <mo id="alg1.l12.m2.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l12.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l12.m2.1.1.5" xref="alg1.l12.m2.1.1.5.cmml">
          i
         </mi>
         <mo id="alg1.l12.m2.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l12.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l12.m2.1.1.6" xref="alg1.l12.m2.1.1.6.cmml">
          o
         </mi>
         <mo id="alg1.l12.m2.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l12.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l12.m2.1.1.7" xref="alg1.l12.m2.1.1.7.cmml">
          n
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l12.m2.1b">
         <apply id="alg1.l12.m2.1.1.cmml" xref="alg1.l12.m2.1.1">
          <times id="alg1.l12.m2.1.1.1.cmml" xref="alg1.l12.m2.1.1.1">
          </times>
          <ci id="alg1.l12.m2.1.1.2.cmml" xref="alg1.l12.m2.1.1.2">
           ùëé
          </ci>
          <ci id="alg1.l12.m2.1.1.3.cmml" xref="alg1.l12.m2.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l12.m2.1.1.4.cmml" xref="alg1.l12.m2.1.1.4">
           ùë°
          </ci>
          <ci id="alg1.l12.m2.1.1.5.cmml" xref="alg1.l12.m2.1.1.5">
           ùëñ
          </ci>
          <ci id="alg1.l12.m2.1.1.6.cmml" xref="alg1.l12.m2.1.1.6">
           ùëú
          </ci>
          <ci id="alg1.l12.m2.1.1.7.cmml" xref="alg1.l12.m2.1.1.7">
           ùëõ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l12.m2.1c">
         action
        </annotation>
       </semantics>
      </math>
      )
     </div>
     <div class="ltx_listingline" id="alg1.l13">
      <span class="ltx_text" id="alg1.l13.1" style="color:#00FFFF;">
       \\¬†¬†¬†Execute the action decision in environment
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l14">
      <math alttext="score" class="ltx_Math" display="inline" id="alg1.l14.m1.1">
       <semantics id="alg1.l14.m1.1a">
        <mrow id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml">
         <mi id="alg1.l14.m1.1.1.2" xref="alg1.l14.m1.1.1.2.cmml">
          s
         </mi>
         <mo id="alg1.l14.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l14.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m1.1.1.3" xref="alg1.l14.m1.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l14.m1.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l14.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m1.1.1.4" xref="alg1.l14.m1.1.1.4.cmml">
          o
         </mi>
         <mo id="alg1.l14.m1.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l14.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m1.1.1.5" xref="alg1.l14.m1.1.1.5.cmml">
          r
         </mi>
         <mo id="alg1.l14.m1.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l14.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m1.1.1.6" xref="alg1.l14.m1.1.1.6.cmml">
          e
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b">
         <apply id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1">
          <times id="alg1.l14.m1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1">
          </times>
          <ci id="alg1.l14.m1.1.1.2.cmml" xref="alg1.l14.m1.1.1.2">
           ùë†
          </ci>
          <ci id="alg1.l14.m1.1.1.3.cmml" xref="alg1.l14.m1.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l14.m1.1.1.4.cmml" xref="alg1.l14.m1.1.1.4">
           ùëú
          </ci>
          <ci id="alg1.l14.m1.1.1.5.cmml" xref="alg1.l14.m1.1.1.5">
           ùëü
          </ci>
          <ci id="alg1.l14.m1.1.1.6.cmml" xref="alg1.l14.m1.1.1.6">
           ùëí
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l14.m1.1c">
         score
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="done" class="ltx_Math" display="inline" id="alg1.l14.m2.1">
       <semantics id="alg1.l14.m2.1a">
        <mrow id="alg1.l14.m2.1.1" xref="alg1.l14.m2.1.1.cmml">
         <mi id="alg1.l14.m2.1.1.2" xref="alg1.l14.m2.1.1.2.cmml">
          d
         </mi>
         <mo id="alg1.l14.m2.1.1.1" lspace="0em" rspace="0em" xref="alg1.l14.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m2.1.1.3" xref="alg1.l14.m2.1.1.3.cmml">
          o
         </mi>
         <mo id="alg1.l14.m2.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l14.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m2.1.1.4" xref="alg1.l14.m2.1.1.4.cmml">
          n
         </mi>
         <mo id="alg1.l14.m2.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l14.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m2.1.1.5" xref="alg1.l14.m2.1.1.5.cmml">
          e
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l14.m2.1b">
         <apply id="alg1.l14.m2.1.1.cmml" xref="alg1.l14.m2.1.1">
          <times id="alg1.l14.m2.1.1.1.cmml" xref="alg1.l14.m2.1.1.1">
          </times>
          <ci id="alg1.l14.m2.1.1.2.cmml" xref="alg1.l14.m2.1.1.2">
           ùëë
          </ci>
          <ci id="alg1.l14.m2.1.1.3.cmml" xref="alg1.l14.m2.1.1.3">
           ùëú
          </ci>
          <ci id="alg1.l14.m2.1.1.4.cmml" xref="alg1.l14.m2.1.1.4">
           ùëõ
          </ci>
          <ci id="alg1.l14.m2.1.1.5.cmml" xref="alg1.l14.m2.1.1.5">
           ùëí
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l14.m2.1c">
         done
        </annotation>
       </semantics>
      </math>
      =
      <math alttext="env" class="ltx_Math" display="inline" id="alg1.l14.m3.1">
       <semantics id="alg1.l14.m3.1a">
        <mrow id="alg1.l14.m3.1.1" xref="alg1.l14.m3.1.1.cmml">
         <mi id="alg1.l14.m3.1.1.2" xref="alg1.l14.m3.1.1.2.cmml">
          e
         </mi>
         <mo id="alg1.l14.m3.1.1.1" lspace="0em" rspace="0em" xref="alg1.l14.m3.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m3.1.1.3" xref="alg1.l14.m3.1.1.3.cmml">
          n
         </mi>
         <mo id="alg1.l14.m3.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l14.m3.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m3.1.1.4" xref="alg1.l14.m3.1.1.4.cmml">
          v
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l14.m3.1b">
         <apply id="alg1.l14.m3.1.1.cmml" xref="alg1.l14.m3.1.1">
          <times id="alg1.l14.m3.1.1.1.cmml" xref="alg1.l14.m3.1.1.1">
          </times>
          <ci id="alg1.l14.m3.1.1.2.cmml" xref="alg1.l14.m3.1.1.2">
           ùëí
          </ci>
          <ci id="alg1.l14.m3.1.1.3.cmml" xref="alg1.l14.m3.1.1.3">
           ùëõ
          </ci>
          <ci id="alg1.l14.m3.1.1.4.cmml" xref="alg1.l14.m3.1.1.4">
           ùë£
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l14.m3.1c">
         env
        </annotation>
       </semantics>
      </math>
      .step(
      <math alttext="action" class="ltx_Math" display="inline" id="alg1.l14.m4.1">
       <semantics id="alg1.l14.m4.1a">
        <mrow id="alg1.l14.m4.1.1" xref="alg1.l14.m4.1.1.cmml">
         <mi id="alg1.l14.m4.1.1.2" xref="alg1.l14.m4.1.1.2.cmml">
          a
         </mi>
         <mo id="alg1.l14.m4.1.1.1" lspace="0em" rspace="0em" xref="alg1.l14.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m4.1.1.3" xref="alg1.l14.m4.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l14.m4.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l14.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m4.1.1.4" xref="alg1.l14.m4.1.1.4.cmml">
          t
         </mi>
         <mo id="alg1.l14.m4.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l14.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m4.1.1.5" xref="alg1.l14.m4.1.1.5.cmml">
          i
         </mi>
         <mo id="alg1.l14.m4.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l14.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m4.1.1.6" xref="alg1.l14.m4.1.1.6.cmml">
          o
         </mi>
         <mo id="alg1.l14.m4.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l14.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l14.m4.1.1.7" xref="alg1.l14.m4.1.1.7.cmml">
          n
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l14.m4.1b">
         <apply id="alg1.l14.m4.1.1.cmml" xref="alg1.l14.m4.1.1">
          <times id="alg1.l14.m4.1.1.1.cmml" xref="alg1.l14.m4.1.1.1">
          </times>
          <ci id="alg1.l14.m4.1.1.2.cmml" xref="alg1.l14.m4.1.1.2">
           ùëé
          </ci>
          <ci id="alg1.l14.m4.1.1.3.cmml" xref="alg1.l14.m4.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l14.m4.1.1.4.cmml" xref="alg1.l14.m4.1.1.4">
           ùë°
          </ci>
          <ci id="alg1.l14.m4.1.1.5.cmml" xref="alg1.l14.m4.1.1.5">
           ùëñ
          </ci>
          <ci id="alg1.l14.m4.1.1.6.cmml" xref="alg1.l14.m4.1.1.6">
           ùëú
          </ci>
          <ci id="alg1.l14.m4.1.1.7.cmml" xref="alg1.l14.m4.1.1.7">
           ùëõ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l14.m4.1c">
         action
        </annotation>
       </semantics>
      </math>
      )
     </div>
     <div class="ltx_listingline" id="alg1.l15">
      <math alttext="SL" class="ltx_Math" display="inline" id="alg1.l15.m1.1">
       <semantics id="alg1.l15.m1.1a">
        <mrow id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml">
         <mi id="alg1.l15.m1.1.1.2" xref="alg1.l15.m1.1.1.2.cmml">
          S
         </mi>
         <mo id="alg1.l15.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l15.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l15.m1.1.1.3" xref="alg1.l15.m1.1.1.3.cmml">
          L
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l15.m1.1b">
         <apply id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1">
          <times id="alg1.l15.m1.1.1.1.cmml" xref="alg1.l15.m1.1.1.1">
          </times>
          <ci id="alg1.l15.m1.1.1.2.cmml" xref="alg1.l15.m1.1.1.2">
           ùëÜ
          </ci>
          <ci id="alg1.l15.m1.1.1.3.cmml" xref="alg1.l15.m1.1.1.3">
           ùêø
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l15.m1.1c">
         SL
        </annotation>
       </semantics>
      </math>
      .append(
      <math alttext="score" class="ltx_Math" display="inline" id="alg1.l15.m2.1">
       <semantics id="alg1.l15.m2.1a">
        <mrow id="alg1.l15.m2.1.1" xref="alg1.l15.m2.1.1.cmml">
         <mi id="alg1.l15.m2.1.1.2" xref="alg1.l15.m2.1.1.2.cmml">
          s
         </mi>
         <mo id="alg1.l15.m2.1.1.1" lspace="0em" rspace="0em" xref="alg1.l15.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l15.m2.1.1.3" xref="alg1.l15.m2.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l15.m2.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l15.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l15.m2.1.1.4" xref="alg1.l15.m2.1.1.4.cmml">
          o
         </mi>
         <mo id="alg1.l15.m2.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l15.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l15.m2.1.1.5" xref="alg1.l15.m2.1.1.5.cmml">
          r
         </mi>
         <mo id="alg1.l15.m2.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l15.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l15.m2.1.1.6" xref="alg1.l15.m2.1.1.6.cmml">
          e
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l15.m2.1b">
         <apply id="alg1.l15.m2.1.1.cmml" xref="alg1.l15.m2.1.1">
          <times id="alg1.l15.m2.1.1.1.cmml" xref="alg1.l15.m2.1.1.1">
          </times>
          <ci id="alg1.l15.m2.1.1.2.cmml" xref="alg1.l15.m2.1.1.2">
           ùë†
          </ci>
          <ci id="alg1.l15.m2.1.1.3.cmml" xref="alg1.l15.m2.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l15.m2.1.1.4.cmml" xref="alg1.l15.m2.1.1.4">
           ùëú
          </ci>
          <ci id="alg1.l15.m2.1.1.5.cmml" xref="alg1.l15.m2.1.1.5">
           ùëü
          </ci>
          <ci id="alg1.l15.m2.1.1.6.cmml" xref="alg1.l15.m2.1.1.6">
           ùëí
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l15.m2.1c">
         score
        </annotation>
       </semantics>
      </math>
      )
     </div>
     <div class="ltx_listingline" id="alg1.l16">
      <math alttext="doc" class="ltx_Math" display="inline" id="alg1.l16.m1.1">
       <semantics id="alg1.l16.m1.1a">
        <mrow id="alg1.l16.m1.1.1" xref="alg1.l16.m1.1.1.cmml">
         <mi id="alg1.l16.m1.1.1.2" xref="alg1.l16.m1.1.1.2.cmml">
          d
         </mi>
         <mo id="alg1.l16.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l16.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m1.1.1.3" xref="alg1.l16.m1.1.1.3.cmml">
          o
         </mi>
         <mo id="alg1.l16.m1.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l16.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m1.1.1.4" xref="alg1.l16.m1.1.1.4.cmml">
          c
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l16.m1.1b">
         <apply id="alg1.l16.m1.1.1.cmml" xref="alg1.l16.m1.1.1">
          <times id="alg1.l16.m1.1.1.1.cmml" xref="alg1.l16.m1.1.1.1">
          </times>
          <ci id="alg1.l16.m1.1.1.2.cmml" xref="alg1.l16.m1.1.1.2">
           ùëë
          </ci>
          <ci id="alg1.l16.m1.1.1.3.cmml" xref="alg1.l16.m1.1.1.3">
           ùëú
          </ci>
          <ci id="alg1.l16.m1.1.1.4.cmml" xref="alg1.l16.m1.1.1.4">
           ùëê
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l16.m1.1c">
         doc
        </annotation>
       </semantics>
      </math>
      .append([
      <math alttext="DA" class="ltx_Math" display="inline" id="alg1.l16.m2.1">
       <semantics id="alg1.l16.m2.1a">
        <mrow id="alg1.l16.m2.1.1" xref="alg1.l16.m2.1.1.cmml">
         <mi id="alg1.l16.m2.1.1.2" xref="alg1.l16.m2.1.1.2.cmml">
          D
         </mi>
         <mo id="alg1.l16.m2.1.1.1" lspace="0em" rspace="0em" xref="alg1.l16.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m2.1.1.3" xref="alg1.l16.m2.1.1.3.cmml">
          A
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l16.m2.1b">
         <apply id="alg1.l16.m2.1.1.cmml" xref="alg1.l16.m2.1.1">
          <times id="alg1.l16.m2.1.1.1.cmml" xref="alg1.l16.m2.1.1.1">
          </times>
          <ci id="alg1.l16.m2.1.1.2.cmml" xref="alg1.l16.m2.1.1.2">
           ùê∑
          </ci>
          <ci id="alg1.l16.m2.1.1.3.cmml" xref="alg1.l16.m2.1.1.3">
           ùê¥
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l16.m2.1c">
         DA
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="sce\_des" class="ltx_Math" display="inline" id="alg1.l16.m3.1">
       <semantics id="alg1.l16.m3.1a">
        <mrow id="alg1.l16.m3.1.1" xref="alg1.l16.m3.1.1.cmml">
         <mi id="alg1.l16.m3.1.1.2" xref="alg1.l16.m3.1.1.2.cmml">
          s
         </mi>
         <mo id="alg1.l16.m3.1.1.1" lspace="0em" rspace="0em" xref="alg1.l16.m3.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m3.1.1.3" xref="alg1.l16.m3.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l16.m3.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l16.m3.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m3.1.1.4" xref="alg1.l16.m3.1.1.4.cmml">
          e
         </mi>
         <mo id="alg1.l16.m3.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l16.m3.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m3.1.1.5" mathvariant="normal" xref="alg1.l16.m3.1.1.5.cmml">
          _
         </mi>
         <mo id="alg1.l16.m3.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l16.m3.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m3.1.1.6" xref="alg1.l16.m3.1.1.6.cmml">
          d
         </mi>
         <mo id="alg1.l16.m3.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l16.m3.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m3.1.1.7" xref="alg1.l16.m3.1.1.7.cmml">
          e
         </mi>
         <mo id="alg1.l16.m3.1.1.1e" lspace="0em" rspace="0em" xref="alg1.l16.m3.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m3.1.1.8" xref="alg1.l16.m3.1.1.8.cmml">
          s
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l16.m3.1b">
         <apply id="alg1.l16.m3.1.1.cmml" xref="alg1.l16.m3.1.1">
          <times id="alg1.l16.m3.1.1.1.cmml" xref="alg1.l16.m3.1.1.1">
          </times>
          <ci id="alg1.l16.m3.1.1.2.cmml" xref="alg1.l16.m3.1.1.2">
           ùë†
          </ci>
          <ci id="alg1.l16.m3.1.1.3.cmml" xref="alg1.l16.m3.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l16.m3.1.1.4.cmml" xref="alg1.l16.m3.1.1.4">
           ùëí
          </ci>
          <ci id="alg1.l16.m3.1.1.5.cmml" xref="alg1.l16.m3.1.1.5">
           _
          </ci>
          <ci id="alg1.l16.m3.1.1.6.cmml" xref="alg1.l16.m3.1.1.6">
           ùëë
          </ci>
          <ci id="alg1.l16.m3.1.1.7.cmml" xref="alg1.l16.m3.1.1.7">
           ùëí
          </ci>
          <ci id="alg1.l16.m3.1.1.8.cmml" xref="alg1.l16.m3.1.1.8">
           ùë†
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l16.m3.1c">
         sce\_des
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="plan" class="ltx_Math" display="inline" id="alg1.l16.m4.1">
       <semantics id="alg1.l16.m4.1a">
        <mrow id="alg1.l16.m4.1.1" xref="alg1.l16.m4.1.1.cmml">
         <mi id="alg1.l16.m4.1.1.2" xref="alg1.l16.m4.1.1.2.cmml">
          p
         </mi>
         <mo id="alg1.l16.m4.1.1.1" lspace="0em" rspace="0em" xref="alg1.l16.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m4.1.1.3" xref="alg1.l16.m4.1.1.3.cmml">
          l
         </mi>
         <mo id="alg1.l16.m4.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l16.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m4.1.1.4" xref="alg1.l16.m4.1.1.4.cmml">
          a
         </mi>
         <mo id="alg1.l16.m4.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l16.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m4.1.1.5" xref="alg1.l16.m4.1.1.5.cmml">
          n
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l16.m4.1b">
         <apply id="alg1.l16.m4.1.1.cmml" xref="alg1.l16.m4.1.1">
          <times id="alg1.l16.m4.1.1.1.cmml" xref="alg1.l16.m4.1.1.1">
          </times>
          <ci id="alg1.l16.m4.1.1.2.cmml" xref="alg1.l16.m4.1.1.2">
           ùëù
          </ci>
          <ci id="alg1.l16.m4.1.1.3.cmml" xref="alg1.l16.m4.1.1.3">
           ùëô
          </ci>
          <ci id="alg1.l16.m4.1.1.4.cmml" xref="alg1.l16.m4.1.1.4">
           ùëé
          </ci>
          <ci id="alg1.l16.m4.1.1.5.cmml" xref="alg1.l16.m4.1.1.5">
           ùëõ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l16.m4.1c">
         plan
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="action" class="ltx_Math" display="inline" id="alg1.l16.m5.1">
       <semantics id="alg1.l16.m5.1a">
        <mrow id="alg1.l16.m5.1.1" xref="alg1.l16.m5.1.1.cmml">
         <mi id="alg1.l16.m5.1.1.2" xref="alg1.l16.m5.1.1.2.cmml">
          a
         </mi>
         <mo id="alg1.l16.m5.1.1.1" lspace="0em" rspace="0em" xref="alg1.l16.m5.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m5.1.1.3" xref="alg1.l16.m5.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l16.m5.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l16.m5.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m5.1.1.4" xref="alg1.l16.m5.1.1.4.cmml">
          t
         </mi>
         <mo id="alg1.l16.m5.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l16.m5.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m5.1.1.5" xref="alg1.l16.m5.1.1.5.cmml">
          i
         </mi>
         <mo id="alg1.l16.m5.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l16.m5.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m5.1.1.6" xref="alg1.l16.m5.1.1.6.cmml">
          o
         </mi>
         <mo id="alg1.l16.m5.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l16.m5.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m5.1.1.7" xref="alg1.l16.m5.1.1.7.cmml">
          n
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l16.m5.1b">
         <apply id="alg1.l16.m5.1.1.cmml" xref="alg1.l16.m5.1.1">
          <times id="alg1.l16.m5.1.1.1.cmml" xref="alg1.l16.m5.1.1.1">
          </times>
          <ci id="alg1.l16.m5.1.1.2.cmml" xref="alg1.l16.m5.1.1.2">
           ùëé
          </ci>
          <ci id="alg1.l16.m5.1.1.3.cmml" xref="alg1.l16.m5.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l16.m5.1.1.4.cmml" xref="alg1.l16.m5.1.1.4">
           ùë°
          </ci>
          <ci id="alg1.l16.m5.1.1.5.cmml" xref="alg1.l16.m5.1.1.5">
           ùëñ
          </ci>
          <ci id="alg1.l16.m5.1.1.6.cmml" xref="alg1.l16.m5.1.1.6">
           ùëú
          </ci>
          <ci id="alg1.l16.m5.1.1.7.cmml" xref="alg1.l16.m5.1.1.7">
           ùëõ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l16.m5.1c">
         action
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="score" class="ltx_Math" display="inline" id="alg1.l16.m6.1">
       <semantics id="alg1.l16.m6.1a">
        <mrow id="alg1.l16.m6.1.1" xref="alg1.l16.m6.1.1.cmml">
         <mi id="alg1.l16.m6.1.1.2" xref="alg1.l16.m6.1.1.2.cmml">
          s
         </mi>
         <mo id="alg1.l16.m6.1.1.1" lspace="0em" rspace="0em" xref="alg1.l16.m6.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m6.1.1.3" xref="alg1.l16.m6.1.1.3.cmml">
          c
         </mi>
         <mo id="alg1.l16.m6.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l16.m6.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m6.1.1.4" xref="alg1.l16.m6.1.1.4.cmml">
          o
         </mi>
         <mo id="alg1.l16.m6.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l16.m6.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m6.1.1.5" xref="alg1.l16.m6.1.1.5.cmml">
          r
         </mi>
         <mo id="alg1.l16.m6.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l16.m6.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l16.m6.1.1.6" xref="alg1.l16.m6.1.1.6.cmml">
          e
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l16.m6.1b">
         <apply id="alg1.l16.m6.1.1.cmml" xref="alg1.l16.m6.1.1">
          <times id="alg1.l16.m6.1.1.1.cmml" xref="alg1.l16.m6.1.1.1">
          </times>
          <ci id="alg1.l16.m6.1.1.2.cmml" xref="alg1.l16.m6.1.1.2">
           ùë†
          </ci>
          <ci id="alg1.l16.m6.1.1.3.cmml" xref="alg1.l16.m6.1.1.3">
           ùëê
          </ci>
          <ci id="alg1.l16.m6.1.1.4.cmml" xref="alg1.l16.m6.1.1.4">
           ùëú
          </ci>
          <ci id="alg1.l16.m6.1.1.5.cmml" xref="alg1.l16.m6.1.1.5">
           ùëü
          </ci>
          <ci id="alg1.l16.m6.1.1.6.cmml" xref="alg1.l16.m6.1.1.6">
           ùëí
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l16.m6.1c">
         score
        </annotation>
       </semantics>
      </math>
      ])
     </div>
     <div class="ltx_listingline" id="alg1.l17">
      <math alttext="t" class="ltx_Math" display="inline" id="alg1.l17.m1.1">
       <semantics id="alg1.l17.m1.1a">
        <mi id="alg1.l17.m1.1.1" xref="alg1.l17.m1.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l17.m1.1b">
         <ci id="alg1.l17.m1.1.1.cmml" xref="alg1.l17.m1.1.1">
          ùë°
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l17.m1.1c">
         t
        </annotation>
       </semantics>
      </math>
      =
      <math alttext="t" class="ltx_Math" display="inline" id="alg1.l17.m2.1">
       <semantics id="alg1.l17.m2.1a">
        <mi id="alg1.l17.m2.1.1" xref="alg1.l17.m2.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l17.m2.1b">
         <ci id="alg1.l17.m2.1.1.cmml" xref="alg1.l17.m2.1.1">
          ùë°
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l17.m2.1c">
         t
        </annotation>
       </semantics>
      </math>
      +
      <math alttext="\Delta" class="ltx_Math" display="inline" id="alg1.l17.m3.1">
       <semantics id="alg1.l17.m3.1a">
        <mi id="alg1.l17.m3.1.1" mathvariant="normal" xref="alg1.l17.m3.1.1.cmml">
         Œî
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l17.m3.1b">
         <ci id="alg1.l17.m3.1.1.cmml" xref="alg1.l17.m3.1.1">
          Œî
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l17.m3.1c">
         \Delta
        </annotation>
       </semantics>
      </math>
      <math alttext="t" class="ltx_Math" display="inline" id="alg1.l17.m4.1">
       <semantics id="alg1.l17.m4.1a">
        <mi id="alg1.l17.m4.1.1" xref="alg1.l17.m4.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l17.m4.1b">
         <ci id="alg1.l17.m4.1.1.cmml" xref="alg1.l17.m4.1.1">
          ùë°
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l17.m4.1c">
         t
        </annotation>
       </semantics>
      </math>
     </div>
     <div class="ltx_listingline" id="alg1.l18">
      <span class="ltx_text" id="alg1.l18.1" style="color:#00FFFF;">
       \\¬†¬†¬†Check whether the scene is finished
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l19">
      <span class="ltx_text ltx_font_bold" id="alg1.l19.1">
       if
      </span>
      <math alttext="done" class="ltx_Math" display="inline" id="alg1.l19.m1.1">
       <semantics id="alg1.l19.m1.1a">
        <mrow id="alg1.l19.m1.1.1" xref="alg1.l19.m1.1.1.cmml">
         <mi id="alg1.l19.m1.1.1.2" xref="alg1.l19.m1.1.1.2.cmml">
          d
         </mi>
         <mo id="alg1.l19.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l19.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l19.m1.1.1.3" xref="alg1.l19.m1.1.1.3.cmml">
          o
         </mi>
         <mo id="alg1.l19.m1.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l19.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l19.m1.1.1.4" xref="alg1.l19.m1.1.1.4.cmml">
          n
         </mi>
         <mo id="alg1.l19.m1.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l19.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l19.m1.1.1.5" xref="alg1.l19.m1.1.1.5.cmml">
          e
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l19.m1.1b">
         <apply id="alg1.l19.m1.1.1.cmml" xref="alg1.l19.m1.1.1">
          <times id="alg1.l19.m1.1.1.1.cmml" xref="alg1.l19.m1.1.1.1">
          </times>
          <ci id="alg1.l19.m1.1.1.2.cmml" xref="alg1.l19.m1.1.1.2">
           ùëë
          </ci>
          <ci id="alg1.l19.m1.1.1.3.cmml" xref="alg1.l19.m1.1.1.3">
           ùëú
          </ci>
          <ci id="alg1.l19.m1.1.1.4.cmml" xref="alg1.l19.m1.1.1.4">
           ùëõ
          </ci>
          <ci id="alg1.l19.m1.1.1.5.cmml" xref="alg1.l19.m1.1.1.5">
           ùëí
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l19.m1.1c">
         done
        </annotation>
       </semantics>
      </math>
      :
     </div>
     <div class="ltx_listingline" id="alg1.l20">
      <span class="ltx_text ltx_markedasmath ltx_font_bold" id="alg1.l20.1">
       break
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l21">
      <span class="ltx_text" id="alg1.l21.1" style="color:#00FFFF;">
       \\¬†¬†¬†Reflection agent correct the wrong action
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l22">
      <math alttext="corrected\_decision" class="ltx_Math" display="inline" id="alg1.l22.m1.1">
       <semantics id="alg1.l22.m1.1a">
        <mrow id="alg1.l22.m1.1.1" xref="alg1.l22.m1.1.1.cmml">
         <mi id="alg1.l22.m1.1.1.2" xref="alg1.l22.m1.1.1.2.cmml">
          c
         </mi>
         <mo id="alg1.l22.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.3" xref="alg1.l22.m1.1.1.3.cmml">
          o
         </mi>
         <mo id="alg1.l22.m1.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.4" xref="alg1.l22.m1.1.1.4.cmml">
          r
         </mi>
         <mo id="alg1.l22.m1.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.5" xref="alg1.l22.m1.1.1.5.cmml">
          r
         </mi>
         <mo id="alg1.l22.m1.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.6" xref="alg1.l22.m1.1.1.6.cmml">
          e
         </mi>
         <mo id="alg1.l22.m1.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.7" xref="alg1.l22.m1.1.1.7.cmml">
          c
         </mi>
         <mo id="alg1.l22.m1.1.1.1e" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.8" xref="alg1.l22.m1.1.1.8.cmml">
          t
         </mi>
         <mo id="alg1.l22.m1.1.1.1f" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.9" xref="alg1.l22.m1.1.1.9.cmml">
          e
         </mi>
         <mo id="alg1.l22.m1.1.1.1g" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.10" xref="alg1.l22.m1.1.1.10.cmml">
          d
         </mi>
         <mo id="alg1.l22.m1.1.1.1h" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.11" mathvariant="normal" xref="alg1.l22.m1.1.1.11.cmml">
          _
         </mi>
         <mo id="alg1.l22.m1.1.1.1i" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.12" xref="alg1.l22.m1.1.1.12.cmml">
          d
         </mi>
         <mo id="alg1.l22.m1.1.1.1j" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.13" xref="alg1.l22.m1.1.1.13.cmml">
          e
         </mi>
         <mo id="alg1.l22.m1.1.1.1k" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.14" xref="alg1.l22.m1.1.1.14.cmml">
          c
         </mi>
         <mo id="alg1.l22.m1.1.1.1l" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.15" xref="alg1.l22.m1.1.1.15.cmml">
          i
         </mi>
         <mo id="alg1.l22.m1.1.1.1m" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.16" xref="alg1.l22.m1.1.1.16.cmml">
          s
         </mi>
         <mo id="alg1.l22.m1.1.1.1n" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.17" xref="alg1.l22.m1.1.1.17.cmml">
          i
         </mi>
         <mo id="alg1.l22.m1.1.1.1o" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.18" xref="alg1.l22.m1.1.1.18.cmml">
          o
         </mi>
         <mo id="alg1.l22.m1.1.1.1p" lspace="0em" rspace="0em" xref="alg1.l22.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m1.1.1.19" xref="alg1.l22.m1.1.1.19.cmml">
          n
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l22.m1.1b">
         <apply id="alg1.l22.m1.1.1.cmml" xref="alg1.l22.m1.1.1">
          <times id="alg1.l22.m1.1.1.1.cmml" xref="alg1.l22.m1.1.1.1">
          </times>
          <ci id="alg1.l22.m1.1.1.2.cmml" xref="alg1.l22.m1.1.1.2">
           ùëê
          </ci>
          <ci id="alg1.l22.m1.1.1.3.cmml" xref="alg1.l22.m1.1.1.3">
           ùëú
          </ci>
          <ci id="alg1.l22.m1.1.1.4.cmml" xref="alg1.l22.m1.1.1.4">
           ùëü
          </ci>
          <ci id="alg1.l22.m1.1.1.5.cmml" xref="alg1.l22.m1.1.1.5">
           ùëü
          </ci>
          <ci id="alg1.l22.m1.1.1.6.cmml" xref="alg1.l22.m1.1.1.6">
           ùëí
          </ci>
          <ci id="alg1.l22.m1.1.1.7.cmml" xref="alg1.l22.m1.1.1.7">
           ùëê
          </ci>
          <ci id="alg1.l22.m1.1.1.8.cmml" xref="alg1.l22.m1.1.1.8">
           ùë°
          </ci>
          <ci id="alg1.l22.m1.1.1.9.cmml" xref="alg1.l22.m1.1.1.9">
           ùëí
          </ci>
          <ci id="alg1.l22.m1.1.1.10.cmml" xref="alg1.l22.m1.1.1.10">
           ùëë
          </ci>
          <ci id="alg1.l22.m1.1.1.11.cmml" xref="alg1.l22.m1.1.1.11">
           _
          </ci>
          <ci id="alg1.l22.m1.1.1.12.cmml" xref="alg1.l22.m1.1.1.12">
           ùëë
          </ci>
          <ci id="alg1.l22.m1.1.1.13.cmml" xref="alg1.l22.m1.1.1.13">
           ùëí
          </ci>
          <ci id="alg1.l22.m1.1.1.14.cmml" xref="alg1.l22.m1.1.1.14">
           ùëê
          </ci>
          <ci id="alg1.l22.m1.1.1.15.cmml" xref="alg1.l22.m1.1.1.15">
           ùëñ
          </ci>
          <ci id="alg1.l22.m1.1.1.16.cmml" xref="alg1.l22.m1.1.1.16">
           ùë†
          </ci>
          <ci id="alg1.l22.m1.1.1.17.cmml" xref="alg1.l22.m1.1.1.17">
           ùëñ
          </ci>
          <ci id="alg1.l22.m1.1.1.18.cmml" xref="alg1.l22.m1.1.1.18">
           ùëú
          </ci>
          <ci id="alg1.l22.m1.1.1.19.cmml" xref="alg1.l22.m1.1.1.19">
           ùëõ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l22.m1.1c">
         corrected\_decision
        </annotation>
       </semantics>
      </math>
      =
      <math alttext="RA" class="ltx_Math" display="inline" id="alg1.l22.m2.1">
       <semantics id="alg1.l22.m2.1a">
        <mrow id="alg1.l22.m2.1.1" xref="alg1.l22.m2.1.1.cmml">
         <mi id="alg1.l22.m2.1.1.2" xref="alg1.l22.m2.1.1.2.cmml">
          R
         </mi>
         <mo id="alg1.l22.m2.1.1.1" lspace="0em" rspace="0em" xref="alg1.l22.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m2.1.1.3" xref="alg1.l22.m2.1.1.3.cmml">
          A
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l22.m2.1b">
         <apply id="alg1.l22.m2.1.1.cmml" xref="alg1.l22.m2.1.1">
          <times id="alg1.l22.m2.1.1.1.cmml" xref="alg1.l22.m2.1.1.1">
          </times>
          <ci id="alg1.l22.m2.1.1.2.cmml" xref="alg1.l22.m2.1.1.2">
           ùëÖ
          </ci>
          <ci id="alg1.l22.m2.1.1.3.cmml" xref="alg1.l22.m2.1.1.3">
           ùê¥
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l22.m2.1c">
         RA
        </annotation>
       </semantics>
      </math>
      .reflect(
      <math alttext="SL" class="ltx_Math" display="inline" id="alg1.l22.m3.1">
       <semantics id="alg1.l22.m3.1a">
        <mrow id="alg1.l22.m3.1.1" xref="alg1.l22.m3.1.1.cmml">
         <mi id="alg1.l22.m3.1.1.2" xref="alg1.l22.m3.1.1.2.cmml">
          S
         </mi>
         <mo id="alg1.l22.m3.1.1.1" lspace="0em" rspace="0em" xref="alg1.l22.m3.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m3.1.1.3" xref="alg1.l22.m3.1.1.3.cmml">
          L
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l22.m3.1b">
         <apply id="alg1.l22.m3.1.1.cmml" xref="alg1.l22.m3.1.1">
          <times id="alg1.l22.m3.1.1.1.cmml" xref="alg1.l22.m3.1.1.1">
          </times>
          <ci id="alg1.l22.m3.1.1.2.cmml" xref="alg1.l22.m3.1.1.2">
           ùëÜ
          </ci>
          <ci id="alg1.l22.m3.1.1.3.cmml" xref="alg1.l22.m3.1.1.3">
           ùêø
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l22.m3.1c">
         SL
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="DL" class="ltx_Math" display="inline" id="alg1.l22.m4.1">
       <semantics id="alg1.l22.m4.1a">
        <mrow id="alg1.l22.m4.1.1" xref="alg1.l22.m4.1.1.cmml">
         <mi id="alg1.l22.m4.1.1.2" xref="alg1.l22.m4.1.1.2.cmml">
          D
         </mi>
         <mo id="alg1.l22.m4.1.1.1" lspace="0em" rspace="0em" xref="alg1.l22.m4.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l22.m4.1.1.3" xref="alg1.l22.m4.1.1.3.cmml">
          L
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l22.m4.1b">
         <apply id="alg1.l22.m4.1.1.cmml" xref="alg1.l22.m4.1.1">
          <times id="alg1.l22.m4.1.1.1.cmml" xref="alg1.l22.m4.1.1.1">
          </times>
          <ci id="alg1.l22.m4.1.1.2.cmml" xref="alg1.l22.m4.1.1.2">
           ùê∑
          </ci>
          <ci id="alg1.l22.m4.1.1.3.cmml" xref="alg1.l22.m4.1.1.3">
           ùêø
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l22.m4.1c">
         DL
        </annotation>
       </semantics>
      </math>
      )
     </div>
     <div class="ltx_listingline" id="alg1.l23">
      <span class="ltx_text" id="alg1.l23.1" style="color:#00FFFF;">
       \\¬†¬†¬†Update the memory
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.l24">
      <math alttext="M" class="ltx_Math" display="inline" id="alg1.l24.m1.1">
       <semantics id="alg1.l24.m1.1a">
        <mi id="alg1.l24.m1.1.1" xref="alg1.l24.m1.1.1.cmml">
         M
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l24.m1.1b">
         <ci id="alg1.l24.m1.1.1.cmml" xref="alg1.l24.m1.1.1">
          ùëÄ
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l24.m1.1c">
         M
        </annotation>
       </semantics>
      </math>
      .update(
      <math alttext="corrected\_decision" class="ltx_Math" display="inline" id="alg1.l24.m2.1">
       <semantics id="alg1.l24.m2.1a">
        <mrow id="alg1.l24.m2.1.1" xref="alg1.l24.m2.1.1.cmml">
         <mi id="alg1.l24.m2.1.1.2" xref="alg1.l24.m2.1.1.2.cmml">
          c
         </mi>
         <mo id="alg1.l24.m2.1.1.1" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.3" xref="alg1.l24.m2.1.1.3.cmml">
          o
         </mi>
         <mo id="alg1.l24.m2.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.4" xref="alg1.l24.m2.1.1.4.cmml">
          r
         </mi>
         <mo id="alg1.l24.m2.1.1.1b" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.5" xref="alg1.l24.m2.1.1.5.cmml">
          r
         </mi>
         <mo id="alg1.l24.m2.1.1.1c" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.6" xref="alg1.l24.m2.1.1.6.cmml">
          e
         </mi>
         <mo id="alg1.l24.m2.1.1.1d" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.7" xref="alg1.l24.m2.1.1.7.cmml">
          c
         </mi>
         <mo id="alg1.l24.m2.1.1.1e" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.8" xref="alg1.l24.m2.1.1.8.cmml">
          t
         </mi>
         <mo id="alg1.l24.m2.1.1.1f" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.9" xref="alg1.l24.m2.1.1.9.cmml">
          e
         </mi>
         <mo id="alg1.l24.m2.1.1.1g" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.10" xref="alg1.l24.m2.1.1.10.cmml">
          d
         </mi>
         <mo id="alg1.l24.m2.1.1.1h" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.11" mathvariant="normal" xref="alg1.l24.m2.1.1.11.cmml">
          _
         </mi>
         <mo id="alg1.l24.m2.1.1.1i" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.12" xref="alg1.l24.m2.1.1.12.cmml">
          d
         </mi>
         <mo id="alg1.l24.m2.1.1.1j" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.13" xref="alg1.l24.m2.1.1.13.cmml">
          e
         </mi>
         <mo id="alg1.l24.m2.1.1.1k" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.14" xref="alg1.l24.m2.1.1.14.cmml">
          c
         </mi>
         <mo id="alg1.l24.m2.1.1.1l" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.15" xref="alg1.l24.m2.1.1.15.cmml">
          i
         </mi>
         <mo id="alg1.l24.m2.1.1.1m" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.16" xref="alg1.l24.m2.1.1.16.cmml">
          s
         </mi>
         <mo id="alg1.l24.m2.1.1.1n" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.17" xref="alg1.l24.m2.1.1.17.cmml">
          i
         </mi>
         <mo id="alg1.l24.m2.1.1.1o" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.18" xref="alg1.l24.m2.1.1.18.cmml">
          o
         </mi>
         <mo id="alg1.l24.m2.1.1.1p" lspace="0em" rspace="0em" xref="alg1.l24.m2.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l24.m2.1.1.19" xref="alg1.l24.m2.1.1.19.cmml">
          n
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l24.m2.1b">
         <apply id="alg1.l24.m2.1.1.cmml" xref="alg1.l24.m2.1.1">
          <times id="alg1.l24.m2.1.1.1.cmml" xref="alg1.l24.m2.1.1.1">
          </times>
          <ci id="alg1.l24.m2.1.1.2.cmml" xref="alg1.l24.m2.1.1.2">
           ùëê
          </ci>
          <ci id="alg1.l24.m2.1.1.3.cmml" xref="alg1.l24.m2.1.1.3">
           ùëú
          </ci>
          <ci id="alg1.l24.m2.1.1.4.cmml" xref="alg1.l24.m2.1.1.4">
           ùëü
          </ci>
          <ci id="alg1.l24.m2.1.1.5.cmml" xref="alg1.l24.m2.1.1.5">
           ùëü
          </ci>
          <ci id="alg1.l24.m2.1.1.6.cmml" xref="alg1.l24.m2.1.1.6">
           ùëí
          </ci>
          <ci id="alg1.l24.m2.1.1.7.cmml" xref="alg1.l24.m2.1.1.7">
           ùëê
          </ci>
          <ci id="alg1.l24.m2.1.1.8.cmml" xref="alg1.l24.m2.1.1.8">
           ùë°
          </ci>
          <ci id="alg1.l24.m2.1.1.9.cmml" xref="alg1.l24.m2.1.1.9">
           ùëí
          </ci>
          <ci id="alg1.l24.m2.1.1.10.cmml" xref="alg1.l24.m2.1.1.10">
           ùëë
          </ci>
          <ci id="alg1.l24.m2.1.1.11.cmml" xref="alg1.l24.m2.1.1.11">
           _
          </ci>
          <ci id="alg1.l24.m2.1.1.12.cmml" xref="alg1.l24.m2.1.1.12">
           ùëë
          </ci>
          <ci id="alg1.l24.m2.1.1.13.cmml" xref="alg1.l24.m2.1.1.13">
           ùëí
          </ci>
          <ci id="alg1.l24.m2.1.1.14.cmml" xref="alg1.l24.m2.1.1.14">
           ùëê
          </ci>
          <ci id="alg1.l24.m2.1.1.15.cmml" xref="alg1.l24.m2.1.1.15">
           ùëñ
          </ci>
          <ci id="alg1.l24.m2.1.1.16.cmml" xref="alg1.l24.m2.1.1.16">
           ùë†
          </ci>
          <ci id="alg1.l24.m2.1.1.17.cmml" xref="alg1.l24.m2.1.1.17">
           ùëñ
          </ci>
          <ci id="alg1.l24.m2.1.1.18.cmml" xref="alg1.l24.m2.1.1.18">
           ùëú
          </ci>
          <ci id="alg1.l24.m2.1.1.19.cmml" xref="alg1.l24.m2.1.1.19">
           ùëõ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l24.m2.1c">
         corrected\_decision
        </annotation>
       </semantics>
      </math>
      )
     </div>
     <div class="ltx_listingline" id="alg1.l25">
      <span class="ltx_text ltx_font_bold" id="alg1.l25.1">
       Output
      </span>
      : Document
      <math alttext="doc" class="ltx_Math" display="inline" id="alg1.l25.m1.1">
       <semantics id="alg1.l25.m1.1a">
        <mrow id="alg1.l25.m1.1.1" xref="alg1.l25.m1.1.1.cmml">
         <mi id="alg1.l25.m1.1.1.2" xref="alg1.l25.m1.1.1.2.cmml">
          d
         </mi>
         <mo id="alg1.l25.m1.1.1.1" lspace="0em" rspace="0em" xref="alg1.l25.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l25.m1.1.1.3" xref="alg1.l25.m1.1.1.3.cmml">
          o
         </mi>
         <mo id="alg1.l25.m1.1.1.1a" lspace="0em" rspace="0em" xref="alg1.l25.m1.1.1.1.cmml">
          ‚Äã
         </mo>
         <mi id="alg1.l25.m1.1.1.4" xref="alg1.l25.m1.1.1.4.cmml">
          c
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.l25.m1.1b">
         <apply id="alg1.l25.m1.1.1.cmml" xref="alg1.l25.m1.1.1">
          <times id="alg1.l25.m1.1.1.1.cmml" xref="alg1.l25.m1.1.1.1">
          </times>
          <ci id="alg1.l25.m1.1.1.2.cmml" xref="alg1.l25.m1.1.1.2">
           ùëë
          </ci>
          <ci id="alg1.l25.m1.1.1.3.cmml" xref="alg1.l25.m1.1.1.3">
           ùëú
          </ci>
          <ci id="alg1.l25.m1.1.1.4.cmml" xref="alg1.l25.m1.1.1.4">
           ùëê
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l25.m1.1c">
         doc
        </annotation>
       </semantics>
      </math>
      , updated shared-memory
      <math alttext="M" class="ltx_Math" display="inline" id="alg1.l25.m2.1">
       <semantics id="alg1.l25.m2.1a">
        <mi id="alg1.l25.m2.1.1" xref="alg1.l25.m2.1.1.cmml">
         M
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.l25.m2.1b">
         <ci id="alg1.l25.m2.1.1.cmml" xref="alg1.l25.m2.1.1">
          ùëÄ
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.l25.m2.1c">
         M
        </annotation>
       </semantics>
      </math>
     </div>
    </div>
    <br class="ltx_break ltx_break"/>
   </figure>
   <div class="ltx_para" id="S3.SS1.p7">
    <p class="ltx_p" id="S3.SS1.p7.1">
     More details about the Multi-agent Interaction, Multi-step Planning, Shared Memory, and Ranking-based Reflection modules will be elaborated in the following sections.
    </p>
   </div>
   <figure class="ltx_figure" id="S3.F3">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="237" id="S3.F3.g1" src="/html/2407.14239/assets/x3.png" width="461"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 3:
     </span>
     A case of multi-step planning module reasoning process. The multi-step planning module refers to a three-level multi-step reasoning of goal-plan-action, which analyzes and breaks down the scene target tasks step by step to ensure the consistency of the purpose of the decision-making before and after the action. Besides, it also refers to the four-step process of plan generation, plan evaluation, plan sorting, and plan selection when formulating a plan, to select the final plan that best fits the driving characteristics of the LLM, ensuring the feasibility and personalization of the plan.
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="S3.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S3.SS2.5.1.1">
      III-B
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S3.SS2.6.2">
     Multi-agent Interaction Module
    </span>
   </h3>
   <div class="ltx_para" id="S3.SS2.p1">
    <p class="ltx_p" id="S3.SS2.p1.1">
     In
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1">
      <semantics id="S3.SS2.p1.1.m1.1a">
       <mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b">
        <ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     , agents do not interact directly with each other; instead, agents infer their intentions just like real human drivers by analyzing the history and current state information of other vehicles. For example, when the LLM-driven agent senses a vehicle on its left suddenly accelerating, it further analyzes and reasons about this, guesses the vehicle‚Äôs intention to overtake, and then analyzes these guesses along with its own plan to determine if adjustments to its short-term plan are needed. Ultimately, the agent aims to make rational action decisions. After receiving the text description from the environment module, the agent preliminarily processes the information using the multi-agent interaction module, analyzes and guesses the intentions of other vehicles before proceeding to the multi-step planning module with this information.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S3.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S3.SS3.5.1.1">
      III-C
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S3.SS3.6.2">
     Multi-step Planning
    </span>
   </h3>
   <div class="ltx_para" id="S3.SS3.p1">
    <p class="ltx_p" id="S3.SS3.p1.1">
     The Multi-step Planning Module serves as the cornerstone for LLMs‚Äô reasoning within
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1">
      <semantics id="S3.SS3.p1.1.m1.1a">
       <mi id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b">
        <ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     . The process is illustrated in Fig
     <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‚Ä£ III-A Overview ‚Ä£ III Methodology ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     . Employing the Goal-Plan-Action methodology, this module merges inputs from the current scenario description with similar historical experiences to determine the best course of action, encompassing the following stages.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS3.p2">
    <p class="ltx_p" id="S3.SS3.p2.1">
     <span class="ltx_text ltx_font_bold" id="S3.SS3.p2.1.1">
      Clarify goals based on the current scenario
     </span>
     :
Drivers have different goals to achieve in different scenarios. For example, the goal of a normal vehicle running on the highway is to drive efficiently and quickly under the premise of ensuring safety. The main goal of vehicles on the freeway ramp is to merge into the main road as soon as possible within a certain period of time, so the driver‚Äôs goal is mainly related to the scenarios. Based on this, we divide the goals within the scenario into two categories: special scenario goals and general scenario goals. Special scenario goals refer to the tasks that need to be completed within a certain time in the scenario, such as ramp merging, intersection passage, etc. The general scenario goal is a long-term objective, such as maintaining safe and efficient driving. Each agent first sets its objectives based on the scenario description to inform planning and action decisions.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS3.p3">
    <p class="ltx_p" id="S3.SS3.p3.1">
     <span class="ltx_text ltx_font_bold" id="S3.SS3.p3.1.1">
      Make a plan based on the goals
     </span>
     : The planning process involves the LLMs devising a strategy that connects identified goals with future actions, ensuring coherent actions over time. Initially, the LLMs checks for a pre-established plan. If no such plan exists, the LLMs formulates a new strategy to guide future actions. The planning process unfolds as follows:
    </p>
    <ol class="ltx_enumerate" id="S3.I1">
     <li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       1.
      </span>
      <div class="ltx_para" id="S3.I1.i1.p1">
       <p class="ltx_p" id="S3.I1.i1.p1.1">
        The LLMs brainstorm all workable and distinct plans based on the current scenario and goal.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       2.
      </span>
      <div class="ltx_para" id="S3.I1.i2.p1">
       <p class="ltx_p" id="S3.I1.i2.p1.1">
        For each of the proposed plans, the LLMs will evaluate the potential of them, consider their pros and cons, implementation difficulty, potential challenges and then assign safety, efficiency score from 0 to 10 to each option based on these factors.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       3.
      </span>
      <div class="ltx_para" id="S3.I1.i3.p1">
       <p class="ltx_p" id="S3.I1.i3.p1.1">
        Based on the evaluations and scenarios, rank the plans.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I1.i4" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       4.
      </span>
      <div class="ltx_para" id="S3.I1.i4.p1">
       <p class="ltx_p" id="S3.I1.i4.p1.1">
        A singular plan is selected to guide driving decisions.
       </p>
      </div>
     </li>
    </ol>
    <p class="ltx_p" id="S3.SS3.p3.2">
     If there is a pre-existing plan, the LLM evaluates other vehicles‚Äô intentions from the multi-agent interaction module. If the plan is deemed infeasible, it craft a new plan; otherwise, it maintains the existing plan.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS3.p4">
    <p class="ltx_p" id="S3.SS3.p4.1">
     <span class="ltx_text ltx_font_bold" id="S3.SS3.p4.1.1">
      Choose an action according to the plan
     </span>
     : It‚Äôs time for LLMs making reasonable and safe action choices based on the current scene information and the plan. There are five actions in the action space:turn-left, IDLE (remain in the current lane with current speed), turn-right, acceleration, and deceleration. The LLMs select an action based on inference.
    </p>
   </div>
   <figure class="ltx_figure" id="S3.F4">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="231" id="S3.F4.g1" src="/html/2407.14239/assets/x4.png" width="461"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 4:
     </span>
     Different agents retrieve relevant experiences of their respective scenarios from shared memory modules. The shared memory module is a vector database that accumulates driving experience fragments from all agents. These fragments are vectorized and then stored in the same database. When making decisions, the agent retrieves similar driving experiences from analogous scenarios using vector search, thereby aiding in the decision-making process.
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="S3.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S3.SS4.5.1.1">
      III-D
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S3.SS4.6.2">
     Shared Memory
    </span>
   </h3>
   <div class="ltx_para" id="S3.SS4.p1">
    <p class="ltx_p" id="S3.SS4.p1.1">
     The shared memory module is an integral component of
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S3.SS4.p1.1.m1.1">
      <semantics id="S3.SS4.p1.1.m1.1a">
       <mi id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.1b">
        <ci id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     , encapsulating a vector database designed to archive beneficial experiences. These archived experiences serve as exemplars to assist LLMs in the planning and decision-making processes. Each experience is segmented into four critical elements: the scenario description, the planning process, the final decision, and the evaluation score. The textual description of scenarios is converted into vectors, serving as keys for gauging similarity within the memory module. The concept of shared memory implies a unified memory module accessible to all agents empowered by LLM, fostering consistency of experience and performance. This approach mirrors the principle of parameter sharing observed in reinforcement learning.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS4.p2">
    <p class="ltx_p" id="S3.SS4.p2.1">
     The primary aim of shared memory is to quickly accumulate experiences in different scenarios simultaneously. Using the repository of past experiences, new agents can learn from the collective wisdom and insights of their predecessors. This shared memory module enables agents to perform tasks with an awareness of previously successful strategies and outcomes. Essentially, shared memory serves as a conduit for knowledge transfer, ensuring that the collective learning of agents is preserved and utilized to enhance future decision making.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S3.SS5">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S3.SS5.5.1.1">
      III-E
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S3.SS5.6.2">
     Ranking-based Reflection
    </span>
   </h3>
   <div class="ltx_para" id="S3.SS5.p1">
    <p class="ltx_p" id="S3.SS5.p1.1">
     The reflection module, operational at the termination of each scenario, is designed to revise action decisions. These rectified decisions, along with successful experiences, are then integrated into the memory module. When the reflection module updates the reflection results to the shared memory module, it can be considered that the agent has completed one round of training. To differentiate the efficacy of each action decision, the system incorporates safety indicators and efficiency scores, assessing the vehicle‚Äôs state post-execution of LLM-generated instructions. In the following, we delineate the criteria for these evaluations.
    </p>
   </div>
   <figure class="ltx_figure" id="S3.F5">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="185" id="S3.F5.g1" src="/html/2407.14239/assets/x5.png" width="461"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 5:
     </span>
     The ranking-based reflection module evaluates decisions, identifies those with low scores, and corrects them. It then updates the shared memory module with these refined decisions, along with the high-scoring experiences.
    </figcaption>
   </figure>
   <div class="ltx_para" id="S3.SS5.p2">
    <p class="ltx_p" id="S3.SS5.p2.1">
     <span class="ltx_text ltx_font_bold" id="S3.SS5.p2.1.1">
      Safety evaluation criteria
     </span>
     : Safety is quantified on a scale from 0 to 10, using Time To Collision (TTC) to measure vehicular safety post-action. The TTC above 3 seconds indicates optimal safety, earning the highest score of 10. Below 1.5 seconds, TTC indicates a critical safety risk, scoring 0
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib37" title="">
       37
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib38" title="">
       38
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib39" title="">
       39
      </a>
      ]
     </cite>
     . For TTC values between 1.5 and 3 seconds, the safety score linearly scales from 0 to 10.
    </p>
    <table class="ltx_equation ltx_eqn_table" id="S3.Ex1">
     <tbody>
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_eqn_cell ltx_align_center">
        <math alttext="{Safety_{score}(t)}=\begin{cases}\frac{20(TTC(t)-1.5)}{3},&amp;{\text{if}}\ 1.5s&lt;TTC(t)&lt;3s\\
10,&amp;{\text{else if}}\ TTC(t)&gt;3s\\
{0,}&amp;{\text{otherwise.}}\end{cases}" class="ltx_Math" display="block" id="S3.Ex1.m1.7">
         <semantics id="S3.Ex1.m1.7a">
          <mrow id="S3.Ex1.m1.7.8" xref="S3.Ex1.m1.7.8.cmml">
           <mrow id="S3.Ex1.m1.7.8.2" xref="S3.Ex1.m1.7.8.2.cmml">
            <mi id="S3.Ex1.m1.7.8.2.2" xref="S3.Ex1.m1.7.8.2.2.cmml">
             S
            </mi>
            <mo id="S3.Ex1.m1.7.8.2.1" lspace="0em" rspace="0em" xref="S3.Ex1.m1.7.8.2.1.cmml">
             ‚Äã
            </mo>
            <mi id="S3.Ex1.m1.7.8.2.3" xref="S3.Ex1.m1.7.8.2.3.cmml">
             a
            </mi>
            <mo id="S3.Ex1.m1.7.8.2.1a" lspace="0em" rspace="0em" xref="S3.Ex1.m1.7.8.2.1.cmml">
             ‚Äã
            </mo>
            <mi id="S3.Ex1.m1.7.8.2.4" xref="S3.Ex1.m1.7.8.2.4.cmml">
             f
            </mi>
            <mo id="S3.Ex1.m1.7.8.2.1b" lspace="0em" rspace="0em" xref="S3.Ex1.m1.7.8.2.1.cmml">
             ‚Äã
            </mo>
            <mi id="S3.Ex1.m1.7.8.2.5" xref="S3.Ex1.m1.7.8.2.5.cmml">
             e
            </mi>
            <mo id="S3.Ex1.m1.7.8.2.1c" lspace="0em" rspace="0em" xref="S3.Ex1.m1.7.8.2.1.cmml">
             ‚Äã
            </mo>
            <mi id="S3.Ex1.m1.7.8.2.6" xref="S3.Ex1.m1.7.8.2.6.cmml">
             t
            </mi>
            <mo id="S3.Ex1.m1.7.8.2.1d" lspace="0em" rspace="0em" xref="S3.Ex1.m1.7.8.2.1.cmml">
             ‚Äã
            </mo>
            <msub id="S3.Ex1.m1.7.8.2.7" xref="S3.Ex1.m1.7.8.2.7.cmml">
             <mi id="S3.Ex1.m1.7.8.2.7.2" xref="S3.Ex1.m1.7.8.2.7.2.cmml">
              y
             </mi>
             <mrow id="S3.Ex1.m1.7.8.2.7.3" xref="S3.Ex1.m1.7.8.2.7.3.cmml">
              <mi id="S3.Ex1.m1.7.8.2.7.3.2" xref="S3.Ex1.m1.7.8.2.7.3.2.cmml">
               s
              </mi>
              <mo id="S3.Ex1.m1.7.8.2.7.3.1" lspace="0em" rspace="0em" xref="S3.Ex1.m1.7.8.2.7.3.1.cmml">
               ‚Äã
              </mo>
              <mi id="S3.Ex1.m1.7.8.2.7.3.3" xref="S3.Ex1.m1.7.8.2.7.3.3.cmml">
               c
              </mi>
              <mo id="S3.Ex1.m1.7.8.2.7.3.1a" lspace="0em" rspace="0em" xref="S3.Ex1.m1.7.8.2.7.3.1.cmml">
               ‚Äã
              </mo>
              <mi id="S3.Ex1.m1.7.8.2.7.3.4" xref="S3.Ex1.m1.7.8.2.7.3.4.cmml">
               o
              </mi>
              <mo id="S3.Ex1.m1.7.8.2.7.3.1b" lspace="0em" rspace="0em" xref="S3.Ex1.m1.7.8.2.7.3.1.cmml">
               ‚Äã
              </mo>
              <mi id="S3.Ex1.m1.7.8.2.7.3.5" xref="S3.Ex1.m1.7.8.2.7.3.5.cmml">
               r
              </mi>
              <mo id="S3.Ex1.m1.7.8.2.7.3.1c" lspace="0em" rspace="0em" xref="S3.Ex1.m1.7.8.2.7.3.1.cmml">
               ‚Äã
              </mo>
              <mi id="S3.Ex1.m1.7.8.2.7.3.6" xref="S3.Ex1.m1.7.8.2.7.3.6.cmml">
               e
              </mi>
             </mrow>
            </msub>
            <mo id="S3.Ex1.m1.7.8.2.1e" lspace="0em" rspace="0em" xref="S3.Ex1.m1.7.8.2.1.cmml">
             ‚Äã
            </mo>
            <mrow id="S3.Ex1.m1.7.8.2.8.2" xref="S3.Ex1.m1.7.8.2.cmml">
             <mo id="S3.Ex1.m1.7.8.2.8.2.1" stretchy="false" xref="S3.Ex1.m1.7.8.2.cmml">
              (
             </mo>
             <mi id="S3.Ex1.m1.7.7" xref="S3.Ex1.m1.7.7.cmml">
              t
             </mi>
             <mo id="S3.Ex1.m1.7.8.2.8.2.2" stretchy="false" xref="S3.Ex1.m1.7.8.2.cmml">
              )
             </mo>
            </mrow>
           </mrow>
           <mo id="S3.Ex1.m1.7.8.1" xref="S3.Ex1.m1.7.8.1.cmml">
            =
           </mo>
           <mrow id="S3.Ex1.m1.6.6" xref="S3.Ex1.m1.7.8.3.1.cmml">
            <mo id="S3.Ex1.m1.6.6.7" xref="S3.Ex1.m1.7.8.3.1.1.cmml">
             {
            </mo>
            <mtable columnspacing="5pt" displaystyle="true" id="S3.Ex1.m1.6.6.6" rowspacing="0pt" xref="S3.Ex1.m1.7.8.3.1.cmml">
             <mtr id="S3.Ex1.m1.6.6.6a" xref="S3.Ex1.m1.7.8.3.1.cmml">
              <mtd class="ltx_align_left" columnalign="left" id="S3.Ex1.m1.6.6.6b" xref="S3.Ex1.m1.7.8.3.1.cmml">
               <mrow id="S3.Ex1.m1.1.1.1.1.1.1.4" xref="S3.Ex1.m1.1.1.1.1.1.1.2.cmml">
                <mstyle displaystyle="false" id="S3.Ex1.m1.1.1.1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.1.1.1.2.cmml">
                 <mfrac id="S3.Ex1.m1.1.1.1.1.1.1.2a" xref="S3.Ex1.m1.1.1.1.1.1.1.2.cmml">
                  <mrow id="S3.Ex1.m1.1.1.1.1.1.1.2.2" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.cmml">
                   <mn id="S3.Ex1.m1.1.1.1.1.1.1.2.2.4" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.4.cmml">
                    20
                   </mn>
                   <mo id="S3.Ex1.m1.1.1.1.1.1.1.2.2.3" lspace="0em" rspace="0em" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.3.cmml">
                    ‚Äã
                   </mo>
                   <mrow id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.cmml">
                    <mo id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.2" stretchy="false" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.cmml">
                     (
                    </mo>
                    <mrow id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.cmml">
                     <mrow id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.cmml">
                      <mi id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.2" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.2.cmml">
                       T
                      </mi>
                      <mo id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.1" lspace="0em" rspace="0em" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.1.cmml">
                       ‚Äã
                      </mo>
                      <mi id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.3" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.3.cmml">
                       T
                      </mi>
                      <mo id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.1a" lspace="0em" rspace="0em" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.1.cmml">
                       ‚Äã
                      </mo>
                      <mi id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.4" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.4.cmml">
                       C
                      </mi>
                      <mo id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.1b" lspace="0em" rspace="0em" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.1.cmml">
                       ‚Äã
                      </mo>
                      <mrow id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.5.2" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.cmml">
                       <mo id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.5.2.1" stretchy="false" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.cmml">
                        (
                       </mo>
                       <mi id="S3.Ex1.m1.1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.cmml">
                        t
                       </mi>
                       <mo id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.5.2.2" stretchy="false" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.cmml">
                        )
                       </mo>
                      </mrow>
                     </mrow>
                     <mo id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.1.cmml">
                      ‚àí
                     </mo>
                     <mn id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.3" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.3.cmml">
                      1.5
                     </mn>
                    </mrow>
                    <mo id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.3" stretchy="false" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.cmml">
                     )
                    </mo>
                   </mrow>
                  </mrow>
                  <mn id="S3.Ex1.m1.1.1.1.1.1.1.2.4" xref="S3.Ex1.m1.1.1.1.1.1.1.2.4.cmml">
                   3
                  </mn>
                 </mfrac>
                </mstyle>
                <mo id="S3.Ex1.m1.1.1.1.1.1.1.4.1" xref="S3.Ex1.m1.1.1.1.1.1.1.2.cmml">
                 ,
                </mo>
               </mrow>
              </mtd>
              <mtd class="ltx_align_left" columnalign="left" id="S3.Ex1.m1.6.6.6c" xref="S3.Ex1.m1.7.8.3.1.cmml">
               <mrow id="S3.Ex1.m1.2.2.2.2.2.1" xref="S3.Ex1.m1.2.2.2.2.2.1.cmml">
                <mrow id="S3.Ex1.m1.2.2.2.2.2.1.3" xref="S3.Ex1.m1.2.2.2.2.2.1.3.cmml">
                 <mtext id="S3.Ex1.m1.2.2.2.2.2.1.3.2" xref="S3.Ex1.m1.2.2.2.2.2.1.3.2a.cmml">
                  if
                 </mtext>
                 <mo id="S3.Ex1.m1.2.2.2.2.2.1.3.1" lspace="0em" rspace="0em" xref="S3.Ex1.m1.2.2.2.2.2.1.3.1.cmml">
                  ‚Äã
                 </mo>
                 <mn id="S3.Ex1.m1.2.2.2.2.2.1.3.3" xref="S3.Ex1.m1.2.2.2.2.2.1.3.3.cmml">
                  1.5
                 </mn>
                 <mo id="S3.Ex1.m1.2.2.2.2.2.1.3.1a" lspace="0em" rspace="0em" xref="S3.Ex1.m1.2.2.2.2.2.1.3.1.cmml">
                  ‚Äã
                 </mo>
                 <mi id="S3.Ex1.m1.2.2.2.2.2.1.3.4" xref="S3.Ex1.m1.2.2.2.2.2.1.3.4.cmml">
                  s
                 </mi>
                </mrow>
                <mo id="S3.Ex1.m1.2.2.2.2.2.1.4" xref="S3.Ex1.m1.2.2.2.2.2.1.4.cmml">
                 &lt;
                </mo>
                <mrow id="S3.Ex1.m1.2.2.2.2.2.1.5" xref="S3.Ex1.m1.2.2.2.2.2.1.5.cmml">
                 <mi id="S3.Ex1.m1.2.2.2.2.2.1.5.2" xref="S3.Ex1.m1.2.2.2.2.2.1.5.2.cmml">
                  T
                 </mi>
                 <mo id="S3.Ex1.m1.2.2.2.2.2.1.5.1" lspace="0em" rspace="0em" xref="S3.Ex1.m1.2.2.2.2.2.1.5.1.cmml">
                  ‚Äã
                 </mo>
                 <mi id="S3.Ex1.m1.2.2.2.2.2.1.5.3" xref="S3.Ex1.m1.2.2.2.2.2.1.5.3.cmml">
                  T
                 </mi>
                 <mo id="S3.Ex1.m1.2.2.2.2.2.1.5.1a" lspace="0em" rspace="0em" xref="S3.Ex1.m1.2.2.2.2.2.1.5.1.cmml">
                  ‚Äã
                 </mo>
                 <mi id="S3.Ex1.m1.2.2.2.2.2.1.5.4" xref="S3.Ex1.m1.2.2.2.2.2.1.5.4.cmml">
                  C
                 </mi>
                 <mo id="S3.Ex1.m1.2.2.2.2.2.1.5.1b" lspace="0em" rspace="0em" xref="S3.Ex1.m1.2.2.2.2.2.1.5.1.cmml">
                  ‚Äã
                 </mo>
                 <mrow id="S3.Ex1.m1.2.2.2.2.2.1.5.5.2" xref="S3.Ex1.m1.2.2.2.2.2.1.5.cmml">
                  <mo id="S3.Ex1.m1.2.2.2.2.2.1.5.5.2.1" stretchy="false" xref="S3.Ex1.m1.2.2.2.2.2.1.5.cmml">
                   (
                  </mo>
                  <mi id="S3.Ex1.m1.2.2.2.2.2.1.1" xref="S3.Ex1.m1.2.2.2.2.2.1.1.cmml">
                   t
                  </mi>
                  <mo id="S3.Ex1.m1.2.2.2.2.2.1.5.5.2.2" stretchy="false" xref="S3.Ex1.m1.2.2.2.2.2.1.5.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
                <mo id="S3.Ex1.m1.2.2.2.2.2.1.6" xref="S3.Ex1.m1.2.2.2.2.2.1.6.cmml">
                 &lt;
                </mo>
                <mrow id="S3.Ex1.m1.2.2.2.2.2.1.7" xref="S3.Ex1.m1.2.2.2.2.2.1.7.cmml">
                 <mn id="S3.Ex1.m1.2.2.2.2.2.1.7.2" xref="S3.Ex1.m1.2.2.2.2.2.1.7.2.cmml">
                  3
                 </mn>
                 <mo id="S3.Ex1.m1.2.2.2.2.2.1.7.1" lspace="0em" rspace="0em" xref="S3.Ex1.m1.2.2.2.2.2.1.7.1.cmml">
                  ‚Äã
                 </mo>
                 <mi id="S3.Ex1.m1.2.2.2.2.2.1.7.3" xref="S3.Ex1.m1.2.2.2.2.2.1.7.3.cmml">
                  s
                 </mi>
                </mrow>
               </mrow>
              </mtd>
             </mtr>
             <mtr id="S3.Ex1.m1.6.6.6d" xref="S3.Ex1.m1.7.8.3.1.cmml">
              <mtd class="ltx_align_left" columnalign="left" id="S3.Ex1.m1.6.6.6e" xref="S3.Ex1.m1.7.8.3.1.cmml">
               <mrow id="S3.Ex1.m1.3.3.3.3.1.1.3" xref="S3.Ex1.m1.7.8.3.1.cmml">
                <mn id="S3.Ex1.m1.3.3.3.3.1.1.1" xref="S3.Ex1.m1.3.3.3.3.1.1.1.cmml">
                 10
                </mn>
                <mo id="S3.Ex1.m1.3.3.3.3.1.1.3.1" xref="S3.Ex1.m1.7.8.3.1.cmml">
                 ,
                </mo>
               </mrow>
              </mtd>
              <mtd class="ltx_align_left" columnalign="left" id="S3.Ex1.m1.6.6.6f" xref="S3.Ex1.m1.7.8.3.1.cmml">
               <mrow id="S3.Ex1.m1.4.4.4.4.2.1" xref="S3.Ex1.m1.4.4.4.4.2.1.cmml">
                <mrow id="S3.Ex1.m1.4.4.4.4.2.1.3" xref="S3.Ex1.m1.4.4.4.4.2.1.3.cmml">
                 <mtext id="S3.Ex1.m1.4.4.4.4.2.1.3.2" xref="S3.Ex1.m1.4.4.4.4.2.1.3.2a.cmml">
                  else if
                 </mtext>
                 <mo id="S3.Ex1.m1.4.4.4.4.2.1.3.1" lspace="0.500em" rspace="0em" xref="S3.Ex1.m1.4.4.4.4.2.1.3.1.cmml">
                  ‚Äã
                 </mo>
                 <mi id="S3.Ex1.m1.4.4.4.4.2.1.3.3" xref="S3.Ex1.m1.4.4.4.4.2.1.3.3.cmml">
                  T
                 </mi>
                 <mo id="S3.Ex1.m1.4.4.4.4.2.1.3.1a" lspace="0em" rspace="0em" xref="S3.Ex1.m1.4.4.4.4.2.1.3.1.cmml">
                  ‚Äã
                 </mo>
                 <mi id="S3.Ex1.m1.4.4.4.4.2.1.3.4" xref="S3.Ex1.m1.4.4.4.4.2.1.3.4.cmml">
                  T
                 </mi>
                 <mo id="S3.Ex1.m1.4.4.4.4.2.1.3.1b" lspace="0em" rspace="0em" xref="S3.Ex1.m1.4.4.4.4.2.1.3.1.cmml">
                  ‚Äã
                 </mo>
                 <mi id="S3.Ex1.m1.4.4.4.4.2.1.3.5" xref="S3.Ex1.m1.4.4.4.4.2.1.3.5.cmml">
                  C
                 </mi>
                 <mo id="S3.Ex1.m1.4.4.4.4.2.1.3.1c" lspace="0em" rspace="0em" xref="S3.Ex1.m1.4.4.4.4.2.1.3.1.cmml">
                  ‚Äã
                 </mo>
                 <mrow id="S3.Ex1.m1.4.4.4.4.2.1.3.6.2" xref="S3.Ex1.m1.4.4.4.4.2.1.3.cmml">
                  <mo id="S3.Ex1.m1.4.4.4.4.2.1.3.6.2.1" stretchy="false" xref="S3.Ex1.m1.4.4.4.4.2.1.3.cmml">
                   (
                  </mo>
                  <mi id="S3.Ex1.m1.4.4.4.4.2.1.1" xref="S3.Ex1.m1.4.4.4.4.2.1.1.cmml">
                   t
                  </mi>
                  <mo id="S3.Ex1.m1.4.4.4.4.2.1.3.6.2.2" stretchy="false" xref="S3.Ex1.m1.4.4.4.4.2.1.3.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
                <mo id="S3.Ex1.m1.4.4.4.4.2.1.2" xref="S3.Ex1.m1.4.4.4.4.2.1.2.cmml">
                 &gt;
                </mo>
                <mrow id="S3.Ex1.m1.4.4.4.4.2.1.4" xref="S3.Ex1.m1.4.4.4.4.2.1.4.cmml">
                 <mn id="S3.Ex1.m1.4.4.4.4.2.1.4.2" xref="S3.Ex1.m1.4.4.4.4.2.1.4.2.cmml">
                  3
                 </mn>
                 <mo id="S3.Ex1.m1.4.4.4.4.2.1.4.1" lspace="0em" rspace="0em" xref="S3.Ex1.m1.4.4.4.4.2.1.4.1.cmml">
                  ‚Äã
                 </mo>
                 <mi id="S3.Ex1.m1.4.4.4.4.2.1.4.3" xref="S3.Ex1.m1.4.4.4.4.2.1.4.3.cmml">
                  s
                 </mi>
                </mrow>
               </mrow>
              </mtd>
             </mtr>
             <mtr id="S3.Ex1.m1.6.6.6g" xref="S3.Ex1.m1.7.8.3.1.cmml">
              <mtd class="ltx_align_left" columnalign="left" id="S3.Ex1.m1.6.6.6h" xref="S3.Ex1.m1.7.8.3.1.cmml">
               <mrow id="S3.Ex1.m1.5.5.5.5.1.1.3" xref="S3.Ex1.m1.7.8.3.1.cmml">
                <mn id="S3.Ex1.m1.5.5.5.5.1.1.1" xref="S3.Ex1.m1.5.5.5.5.1.1.1.cmml">
                 0
                </mn>
                <mo id="S3.Ex1.m1.5.5.5.5.1.1.3.1" xref="S3.Ex1.m1.7.8.3.1.cmml">
                 ,
                </mo>
               </mrow>
              </mtd>
              <mtd class="ltx_align_left" columnalign="left" id="S3.Ex1.m1.6.6.6i" xref="S3.Ex1.m1.7.8.3.1.cmml">
               <mtext id="S3.Ex1.m1.6.6.6.6.2.1" xref="S3.Ex1.m1.6.6.6.6.2.1a.cmml">
                otherwise.
               </mtext>
              </mtd>
             </mtr>
            </mtable>
           </mrow>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.7b">
           <apply id="S3.Ex1.m1.7.8.cmml" xref="S3.Ex1.m1.7.8">
            <eq id="S3.Ex1.m1.7.8.1.cmml" xref="S3.Ex1.m1.7.8.1">
            </eq>
            <apply id="S3.Ex1.m1.7.8.2.cmml" xref="S3.Ex1.m1.7.8.2">
             <times id="S3.Ex1.m1.7.8.2.1.cmml" xref="S3.Ex1.m1.7.8.2.1">
             </times>
             <ci id="S3.Ex1.m1.7.8.2.2.cmml" xref="S3.Ex1.m1.7.8.2.2">
              ùëÜ
             </ci>
             <ci id="S3.Ex1.m1.7.8.2.3.cmml" xref="S3.Ex1.m1.7.8.2.3">
              ùëé
             </ci>
             <ci id="S3.Ex1.m1.7.8.2.4.cmml" xref="S3.Ex1.m1.7.8.2.4">
              ùëì
             </ci>
             <ci id="S3.Ex1.m1.7.8.2.5.cmml" xref="S3.Ex1.m1.7.8.2.5">
              ùëí
             </ci>
             <ci id="S3.Ex1.m1.7.8.2.6.cmml" xref="S3.Ex1.m1.7.8.2.6">
              ùë°
             </ci>
             <apply id="S3.Ex1.m1.7.8.2.7.cmml" xref="S3.Ex1.m1.7.8.2.7">
              <csymbol cd="ambiguous" id="S3.Ex1.m1.7.8.2.7.1.cmml" xref="S3.Ex1.m1.7.8.2.7">
               subscript
              </csymbol>
              <ci id="S3.Ex1.m1.7.8.2.7.2.cmml" xref="S3.Ex1.m1.7.8.2.7.2">
               ùë¶
              </ci>
              <apply id="S3.Ex1.m1.7.8.2.7.3.cmml" xref="S3.Ex1.m1.7.8.2.7.3">
               <times id="S3.Ex1.m1.7.8.2.7.3.1.cmml" xref="S3.Ex1.m1.7.8.2.7.3.1">
               </times>
               <ci id="S3.Ex1.m1.7.8.2.7.3.2.cmml" xref="S3.Ex1.m1.7.8.2.7.3.2">
                ùë†
               </ci>
               <ci id="S3.Ex1.m1.7.8.2.7.3.3.cmml" xref="S3.Ex1.m1.7.8.2.7.3.3">
                ùëê
               </ci>
               <ci id="S3.Ex1.m1.7.8.2.7.3.4.cmml" xref="S3.Ex1.m1.7.8.2.7.3.4">
                ùëú
               </ci>
               <ci id="S3.Ex1.m1.7.8.2.7.3.5.cmml" xref="S3.Ex1.m1.7.8.2.7.3.5">
                ùëü
               </ci>
               <ci id="S3.Ex1.m1.7.8.2.7.3.6.cmml" xref="S3.Ex1.m1.7.8.2.7.3.6">
                ùëí
               </ci>
              </apply>
             </apply>
             <ci id="S3.Ex1.m1.7.7.cmml" xref="S3.Ex1.m1.7.7">
              ùë°
             </ci>
            </apply>
            <apply id="S3.Ex1.m1.7.8.3.1.cmml" xref="S3.Ex1.m1.6.6">
             <csymbol cd="latexml" id="S3.Ex1.m1.7.8.3.1.1.cmml" xref="S3.Ex1.m1.6.6.7">
              cases
             </csymbol>
             <apply id="S3.Ex1.m1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.4">
              <divide id="S3.Ex1.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.4">
              </divide>
              <apply id="S3.Ex1.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2">
               <times id="S3.Ex1.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.3">
               </times>
               <cn id="S3.Ex1.m1.1.1.1.1.1.1.2.2.4.cmml" type="integer" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.4">
                20
               </cn>
               <apply id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1">
                <minus id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.1">
                </minus>
                <apply id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2">
                 <times id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.1">
                 </times>
                 <ci id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.2">
                  ùëá
                 </ci>
                 <ci id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.3">
                  ùëá
                 </ci>
                 <ci id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.4.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.2.4">
                  ùê∂
                 </ci>
                 <ci id="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.1">
                  ùë°
                 </ci>
                </apply>
                <cn id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.3.cmml" type="float" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.1.3">
                 1.5
                </cn>
               </apply>
              </apply>
              <cn id="S3.Ex1.m1.1.1.1.1.1.1.2.4.cmml" type="integer" xref="S3.Ex1.m1.1.1.1.1.1.1.2.4">
               3
              </cn>
             </apply>
             <apply id="S3.Ex1.m1.2.2.2.2.2.1.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1">
              <and id="S3.Ex1.m1.2.2.2.2.2.1a.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1">
              </and>
              <apply id="S3.Ex1.m1.2.2.2.2.2.1b.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1">
               <lt id="S3.Ex1.m1.2.2.2.2.2.1.4.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.4">
               </lt>
               <apply id="S3.Ex1.m1.2.2.2.2.2.1.3.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.3">
                <times id="S3.Ex1.m1.2.2.2.2.2.1.3.1.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.3.1">
                </times>
                <ci id="S3.Ex1.m1.2.2.2.2.2.1.3.2a.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.3.2">
                 <mtext id="S3.Ex1.m1.2.2.2.2.2.1.3.2.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.3.2">
                  if
                 </mtext>
                </ci>
                <cn id="S3.Ex1.m1.2.2.2.2.2.1.3.3.cmml" type="float" xref="S3.Ex1.m1.2.2.2.2.2.1.3.3">
                 1.5
                </cn>
                <ci id="S3.Ex1.m1.2.2.2.2.2.1.3.4.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.3.4">
                 ùë†
                </ci>
               </apply>
               <apply id="S3.Ex1.m1.2.2.2.2.2.1.5.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.5">
                <times id="S3.Ex1.m1.2.2.2.2.2.1.5.1.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.5.1">
                </times>
                <ci id="S3.Ex1.m1.2.2.2.2.2.1.5.2.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.5.2">
                 ùëá
                </ci>
                <ci id="S3.Ex1.m1.2.2.2.2.2.1.5.3.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.5.3">
                 ùëá
                </ci>
                <ci id="S3.Ex1.m1.2.2.2.2.2.1.5.4.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.5.4">
                 ùê∂
                </ci>
                <ci id="S3.Ex1.m1.2.2.2.2.2.1.1.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.1">
                 ùë°
                </ci>
               </apply>
              </apply>
              <apply id="S3.Ex1.m1.2.2.2.2.2.1c.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1">
               <lt id="S3.Ex1.m1.2.2.2.2.2.1.6.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.6">
               </lt>
               <share href="#S3.Ex1.m1.2.2.2.2.2.1.5.cmml" id="S3.Ex1.m1.2.2.2.2.2.1d.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1">
               </share>
               <apply id="S3.Ex1.m1.2.2.2.2.2.1.7.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.7">
                <times id="S3.Ex1.m1.2.2.2.2.2.1.7.1.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.7.1">
                </times>
                <cn id="S3.Ex1.m1.2.2.2.2.2.1.7.2.cmml" type="integer" xref="S3.Ex1.m1.2.2.2.2.2.1.7.2">
                 3
                </cn>
                <ci id="S3.Ex1.m1.2.2.2.2.2.1.7.3.cmml" xref="S3.Ex1.m1.2.2.2.2.2.1.7.3">
                 ùë†
                </ci>
               </apply>
              </apply>
             </apply>
             <cn id="S3.Ex1.m1.3.3.3.3.1.1.1.cmml" type="integer" xref="S3.Ex1.m1.3.3.3.3.1.1.1">
              10
             </cn>
             <apply id="S3.Ex1.m1.4.4.4.4.2.1.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1">
              <gt id="S3.Ex1.m1.4.4.4.4.2.1.2.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.2">
              </gt>
              <apply id="S3.Ex1.m1.4.4.4.4.2.1.3.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.3">
               <times id="S3.Ex1.m1.4.4.4.4.2.1.3.1.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.3.1">
               </times>
               <ci id="S3.Ex1.m1.4.4.4.4.2.1.3.2a.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.3.2">
                <mtext id="S3.Ex1.m1.4.4.4.4.2.1.3.2.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.3.2">
                 else if
                </mtext>
               </ci>
               <ci id="S3.Ex1.m1.4.4.4.4.2.1.3.3.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.3.3">
                ùëá
               </ci>
               <ci id="S3.Ex1.m1.4.4.4.4.2.1.3.4.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.3.4">
                ùëá
               </ci>
               <ci id="S3.Ex1.m1.4.4.4.4.2.1.3.5.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.3.5">
                ùê∂
               </ci>
               <ci id="S3.Ex1.m1.4.4.4.4.2.1.1.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.1">
                ùë°
               </ci>
              </apply>
              <apply id="S3.Ex1.m1.4.4.4.4.2.1.4.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.4">
               <times id="S3.Ex1.m1.4.4.4.4.2.1.4.1.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.4.1">
               </times>
               <cn id="S3.Ex1.m1.4.4.4.4.2.1.4.2.cmml" type="integer" xref="S3.Ex1.m1.4.4.4.4.2.1.4.2">
                3
               </cn>
               <ci id="S3.Ex1.m1.4.4.4.4.2.1.4.3.cmml" xref="S3.Ex1.m1.4.4.4.4.2.1.4.3">
                ùë†
               </ci>
              </apply>
             </apply>
             <cn id="S3.Ex1.m1.5.5.5.5.1.1.1.cmml" type="integer" xref="S3.Ex1.m1.5.5.5.5.1.1.1">
              0
             </cn>
             <ci id="S3.Ex1.m1.6.6.6.6.2.1a.cmml" xref="S3.Ex1.m1.6.6.6.6.2.1">
              <mtext id="S3.Ex1.m1.6.6.6.6.2.1.cmml" xref="S3.Ex1.m1.6.6.6.6.2.1">
               otherwise.
              </mtext>
             </ci>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.Ex1.m1.7c">
           {Safety_{score}(t)}=\begin{cases}\frac{20(TTC(t)-1.5)}{3},&amp;{\text{if}}\ 1.5s&lt;TTC(t)&lt;3s\\
10,&amp;{\text{else if}}\ TTC(t)&gt;3s\\
{0,}&amp;{\text{otherwise.}}\end{cases}
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
      </tr>
     </tbody>
    </table>
   </div>
   <div class="ltx_para" id="S3.SS5.p3">
    <p class="ltx_p" id="S3.SS5.p3.1">
     <span class="ltx_text ltx_font_bold" id="S3.SS5.p3.1.1">
      Efficiency evaluation criteria
     </span>
     : Efficiency is similarly rated on a scale from 0 to 10 and uses speed as the efficiency metric. This metric considers the impact of surrounding vehicle speeds on the agent‚Äôs vehicle, measuring efficiency by the difference between the agent‚Äôs speed and the average speed of surrounding vehicles. An agent vehicle that matches or exceeds the average speed of surrounding vehicles receives a full efficiency score of 10. If the agent‚Äôs speed is below the average, the efficiency score is the ratio of the agent‚Äôs speed to the average speed, scaled to 10.
    </p>
    <table class="ltx_equation ltx_eqn_table" id="S3.Ex2">
     <tbody>
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_eqn_cell ltx_align_center">
        <math alttext="{Efficiency_{score}(t)}=\begin{cases}10,&amp;{\text{if}}\ V_{L}{}_{L}{}_{M}(t)&gt;V_{A}{}_{v}{}_{g}(t)\\
{0,}&amp;{\text{otherwise.}}\end{cases}" class="ltx_math_unparsed" display="block" id="S3.Ex2.m1.5">
         <semantics id="S3.Ex2.m1.5a">
          <mrow id="S3.Ex2.m1.5.6">
           <mrow id="S3.Ex2.m1.5.6.2">
            <mi id="S3.Ex2.m1.5.6.2.2">
             E
            </mi>
            <mo id="S3.Ex2.m1.5.6.2.1" lspace="0em" rspace="0em">
             ‚Äã
            </mo>
            <mi id="S3.Ex2.m1.5.6.2.3">
             f
            </mi>
            <mo id="S3.Ex2.m1.5.6.2.1a" lspace="0em" rspace="0em">
             ‚Äã
            </mo>
            <mi id="S3.Ex2.m1.5.6.2.4">
             f
            </mi>
            <mo id="S3.Ex2.m1.5.6.2.1b" lspace="0em" rspace="0em">
             ‚Äã
            </mo>
            <mi id="S3.Ex2.m1.5.6.2.5">
             i
            </mi>
            <mo id="S3.Ex2.m1.5.6.2.1c" lspace="0em" rspace="0em">
             ‚Äã
            </mo>
            <mi id="S3.Ex2.m1.5.6.2.6">
             c
            </mi>
            <mo id="S3.Ex2.m1.5.6.2.1d" lspace="0em" rspace="0em">
             ‚Äã
            </mo>
            <mi id="S3.Ex2.m1.5.6.2.7">
             i
            </mi>
            <mo id="S3.Ex2.m1.5.6.2.1e" lspace="0em" rspace="0em">
             ‚Äã
            </mo>
            <mi id="S3.Ex2.m1.5.6.2.8">
             e
            </mi>
            <mo id="S3.Ex2.m1.5.6.2.1f" lspace="0em" rspace="0em">
             ‚Äã
            </mo>
            <mi id="S3.Ex2.m1.5.6.2.9">
             n
            </mi>
            <mo id="S3.Ex2.m1.5.6.2.1g" lspace="0em" rspace="0em">
             ‚Äã
            </mo>
            <mi id="S3.Ex2.m1.5.6.2.10">
             c
            </mi>
            <mo id="S3.Ex2.m1.5.6.2.1h" lspace="0em" rspace="0em">
             ‚Äã
            </mo>
            <msub id="S3.Ex2.m1.5.6.2.11">
             <mi id="S3.Ex2.m1.5.6.2.11.2">
              y
             </mi>
             <mrow id="S3.Ex2.m1.5.6.2.11.3">
              <mi id="S3.Ex2.m1.5.6.2.11.3.2">
               s
              </mi>
              <mo id="S3.Ex2.m1.5.6.2.11.3.1" lspace="0em" rspace="0em">
               ‚Äã
              </mo>
              <mi id="S3.Ex2.m1.5.6.2.11.3.3">
               c
              </mi>
              <mo id="S3.Ex2.m1.5.6.2.11.3.1a" lspace="0em" rspace="0em">
               ‚Äã
              </mo>
              <mi id="S3.Ex2.m1.5.6.2.11.3.4">
               o
              </mi>
              <mo id="S3.Ex2.m1.5.6.2.11.3.1b" lspace="0em" rspace="0em">
               ‚Äã
              </mo>
              <mi id="S3.Ex2.m1.5.6.2.11.3.5">
               r
              </mi>
              <mo id="S3.Ex2.m1.5.6.2.11.3.1c" lspace="0em" rspace="0em">
               ‚Äã
              </mo>
              <mi id="S3.Ex2.m1.5.6.2.11.3.6">
               e
              </mi>
             </mrow>
            </msub>
            <mo id="S3.Ex2.m1.5.6.2.1i" lspace="0em" rspace="0em">
             ‚Äã
            </mo>
            <mrow id="S3.Ex2.m1.5.6.2.12.2">
             <mo id="S3.Ex2.m1.5.6.2.12.2.1" stretchy="false">
              (
             </mo>
             <mi id="S3.Ex2.m1.5.5">
              t
             </mi>
             <mo id="S3.Ex2.m1.5.6.2.12.2.2" stretchy="false">
              )
             </mo>
            </mrow>
           </mrow>
           <mo id="S3.Ex2.m1.5.6.1">
            =
           </mo>
           <mrow id="S3.Ex2.m1.4.4">
            <mo id="S3.Ex2.m1.4.4.5">
             {
            </mo>
            <mtable columnspacing="5pt" displaystyle="true" id="S3.Ex2.m1.4.4.4" rowspacing="0pt">
             <mtr id="S3.Ex2.m1.4.4.4a">
              <mtd class="ltx_align_left" columnalign="left" id="S3.Ex2.m1.4.4.4b">
               <mrow id="S3.Ex2.m1.1.1.1.1.1.1.3">
                <mn id="S3.Ex2.m1.1.1.1.1.1.1.1">
                 10
                </mn>
                <mo id="S3.Ex2.m1.1.1.1.1.1.1.3.1">
                 ,
                </mo>
               </mrow>
              </mtd>
              <mtd class="ltx_align_left" columnalign="left" id="S3.Ex2.m1.4.4.4c">
               <mrow id="S3.Ex2.m1.2.2.2.2.2.1">
                <mtext id="S3.Ex2.m1.2.2.2.2.2.1.1">
                 if
                </mtext>
                <msub id="S3.Ex2.m1.2.2.2.2.2.1.2">
                 <mi id="S3.Ex2.m1.2.2.2.2.2.1.2.2">
                  V
                 </mi>
                 <mi id="S3.Ex2.m1.2.2.2.2.2.1.2.3">
                  L
                 </mi>
                </msub>
                <mmultiscripts id="S3.Ex2.m1.2.2.2.2.2.1.3">
                 <mrow id="S3.Ex2.m1.2.2.2.2.2.1.3.2.2">
                  <mo id="S3.Ex2.m1.2.2.2.2.2.1.3.2.2.1" stretchy="false">
                   (
                  </mo>
                  <mi id="S3.Ex2.m1.2.2.2.2.2.1.3.2.2.2">
                   t
                  </mi>
                  <mo id="S3.Ex2.m1.2.2.2.2.2.1.3.2.2.3" stretchy="false">
                   )
                  </mo>
                 </mrow>
                 <mprescripts id="S3.Ex2.m1.2.2.2.2.2.1.3a">
                 </mprescripts>
                 <mi id="S3.Ex2.m1.2.2.2.2.2.1.3.3">
                  L
                 </mi>
                 <mrow id="S3.Ex2.m1.2.2.2.2.2.1.3b">
                 </mrow>
                 <mi id="S3.Ex2.m1.2.2.2.2.2.1.3.2.3">
                  M
                 </mi>
                 <mrow id="S3.Ex2.m1.2.2.2.2.2.1.3c">
                 </mrow>
                </mmultiscripts>
                <mo id="S3.Ex2.m1.2.2.2.2.2.1.4">
                 &gt;
                </mo>
                <msub id="S3.Ex2.m1.2.2.2.2.2.1.5">
                 <mi id="S3.Ex2.m1.2.2.2.2.2.1.5.2">
                  V
                 </mi>
                 <mi id="S3.Ex2.m1.2.2.2.2.2.1.5.3">
                  A
                 </mi>
                </msub>
                <mmultiscripts id="S3.Ex2.m1.2.2.2.2.2.1.6">
                 <mrow id="S3.Ex2.m1.2.2.2.2.2.1.6.2.2">
                  <mo id="S3.Ex2.m1.2.2.2.2.2.1.6.2.2.1" stretchy="false">
                   (
                  </mo>
                  <mi id="S3.Ex2.m1.2.2.2.2.2.1.6.2.2.2">
                   t
                  </mi>
                  <mo id="S3.Ex2.m1.2.2.2.2.2.1.6.2.2.3" stretchy="false">
                   )
                  </mo>
                 </mrow>
                 <mprescripts id="S3.Ex2.m1.2.2.2.2.2.1.6a">
                 </mprescripts>
                 <mi id="S3.Ex2.m1.2.2.2.2.2.1.6.3">
                  v
                 </mi>
                 <mrow id="S3.Ex2.m1.2.2.2.2.2.1.6b">
                 </mrow>
                 <mi id="S3.Ex2.m1.2.2.2.2.2.1.6.2.3">
                  g
                 </mi>
                 <mrow id="S3.Ex2.m1.2.2.2.2.2.1.6c">
                 </mrow>
                </mmultiscripts>
               </mrow>
              </mtd>
             </mtr>
             <mtr id="S3.Ex2.m1.4.4.4d">
              <mtd class="ltx_align_left" columnalign="left" id="S3.Ex2.m1.4.4.4e">
               <mrow id="S3.Ex2.m1.3.3.3.3.1.1.3">
                <mn id="S3.Ex2.m1.3.3.3.3.1.1.1">
                 0
                </mn>
                <mo id="S3.Ex2.m1.3.3.3.3.1.1.3.1">
                 ,
                </mo>
               </mrow>
              </mtd>
              <mtd class="ltx_align_left" columnalign="left" id="S3.Ex2.m1.4.4.4f">
               <mtext id="S3.Ex2.m1.4.4.4.4.2.1">
                otherwise.
               </mtext>
              </mtd>
             </mtr>
            </mtable>
           </mrow>
          </mrow>
          <annotation encoding="application/x-tex" id="S3.Ex2.m1.5b">
           {Efficiency_{score}(t)}=\begin{cases}10,&amp;{\text{if}}\ V_{L}{}_{L}{}_{M}(t)&gt;V_{A}{}_{v}{}_{g}(t)\\
{0,}&amp;{\text{otherwise.}}\end{cases}
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
      </tr>
     </tbody>
    </table>
   </div>
   <div class="ltx_para" id="S3.SS5.p4">
    <p class="ltx_p" id="S3.SS5.p4.1">
     Upon the conclusion of a scenario, the LLM undertakes an analysis of the scoring list to pinpoint actions that deviated from expected outcomes and requires reflection. This process mandates the correction of previously unsafe decisions, facilitating a cycle of continuous enhancement in the agent‚Äôs capabilities. The utilization of interpretable chain-of-thought responses significantly aids in uncovering the root causes of potentially hazardous scenarios.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS5.p5">
    <p class="ltx_p" id="S3.SS5.p5.1">
     In an effort to foster autonomous learning from past mistakes, our methodology employs the detailed description of the driving scenario in which the erroneous decision was made, alongside the corresponding reasoning output, as inputs for the LLM. This approach prompts the LLM to elucidate the underlying reasons for the flawed decisions, thereby guiding the agent towards more accurate and safer future decisions. Additionally, the LLM is tasked with devising strategies to mitigate the recurrence of similar errors, enhancing its decision-making framework.This reflective process incorporates refined reasoning and revised decisions learned from error correction into memory modules. This ensures the preservation of enhanced knowledge and underlies the agent‚Äôs ability to learn adaptively in a variety of driving environments.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S4">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    IV
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S4.1.1">
    Experiments
   </span>
  </h2>
  <section class="ltx_subsection" id="S4.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS1.5.1.1">
      IV-A
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS1.6.2">
     Experimental Settings
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS1.p1">
    <p class="ltx_p" id="S4.SS1.p1.1">
     <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.1">
      Simulation Environment
     </span>
     : We leverage the ‚Äúhighway-env‚Äù as the simulation platform, which furnishes a realistic multi-vehicle interactive environment
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib40" title="">
       40
      </a>
      ]
     </cite>
     . This environment permits the customization of various parameters including vehicle positioning, velocity, count, and lane specifics, offering a versatile setting for conducting our studies. The focal point of our scenario selection is the on-ramp merging challenge within a highway context. This particular scenario underscores the exigency of accomplishing merging objectives within a constrained timeframe, thereby serving as an apt representation of the agent‚Äôs decision-making acumen.
    </p>
   </div>
   <div class="ltx_para" id="S4.SS1.p2">
    <p class="ltx_p" id="S4.SS1.p2.2">
     <span class="ltx_text ltx_font_bold" id="S4.SS1.p2.2.1">
      Large Language Model
     </span>
     : GPT-4
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib13" title="">
       13
      </a>
      ]
     </cite>
     was mainly used in experiments to verify the validity of the
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS1.p2.1.m1.1">
      <semantics id="S4.SS1.p2.1.m1.1a">
       <mi id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b">
        <ci id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     framework. This model plays a pivotal role in both the Multi-step Planning and Rank-based Reflection modules of our architecture, showcasing its versatility and advanced understanding capabilities. For the Memory module, integral to our framework, we incorporate ‚ÄúChroma‚Äù an open-source embedded vector database. This choice is instrumental in facilitating the conversion of scene descriptions into vectors, for which we employ OpenAI‚Äôs ‚Äútext-embeddings-ada-002‚Äù model. This comprehensive setup not only exemplifies the integration of cutting-edge AI technologies but also highlights our innovative approach towards enhancing autonomous driving systems through nuanced understanding and reflection. TABLE
     <a class="ltx_ref" href="#S4.T1" title="TABLE I ‚Ä£ IV-A Experimental Settings ‚Ä£ IV Experiments ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
      <span class="ltx_text ltx_ref_tag">
       I
      </span>
     </a>
     shows the parameters and components related to
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS1.p2.2.m2.1">
      <semantics id="S4.SS1.p2.2.m2.1a">
       <mi id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.1b">
        <ci id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     .
    </p>
   </div>
   <figure class="ltx_table" id="S4.T1">
    <figcaption class="ltx_caption">
     <span class="ltx_tag ltx_tag_table">
      TABLE I:
     </span>
     the parameters and components related to
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.T1.2.m1.1">
      <semantics id="S4.T1.2.m1.1b">
       <mi id="S4.T1.2.m1.1.1" xref="S4.T1.2.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.T1.2.m1.1c">
        <ci id="S4.T1.2.m1.1.1.cmml" xref="S4.T1.2.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.T1.2.m1.1d">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
    </figcaption>
    <table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.3">
     <thead class="ltx_thead">
      <tr class="ltx_tr" id="S4.T1.3.1.1">
       <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_rr ltx_border_t" id="S4.T1.3.1.1.1">
        <span class="ltx_text ltx_font_bold" id="S4.T1.3.1.1.1.1">
         Parameter
        </span>
       </th>
       <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T1.3.1.1.2">
        <span class="ltx_text ltx_font_bold" id="S4.T1.3.1.1.2.1">
         Value
        </span>
       </th>
      </tr>
     </thead>
     <tbody class="ltx_tbody">
      <tr class="ltx_tr" id="S4.T1.3.2.1">
       <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_rr ltx_border_t" id="S4.T1.3.2.1.1">
        Simulation environment
       </th>
       <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.3.2.1.2">
        highway-env
        <cite class="ltx_cite ltx_citemacro_cite">
         [
         <a class="ltx_ref" href="#bib.bib40" title="">
          40
         </a>
         ]
        </cite>
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T1.3.3.2">
       <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_rr ltx_border_t" id="S4.T1.3.3.2.1">
        Large language model
       </th>
       <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.3.3.2.2">
        GPT-4
        <cite class="ltx_cite ltx_citemacro_cite">
         [
         <a class="ltx_ref" href="#bib.bib13" title="">
          13
         </a>
         ]
        </cite>
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T1.3.4.3">
       <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_rr ltx_border_t" id="S4.T1.3.4.3.1">
        Text embedding model
       </th>
       <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.3.4.3.2">
        text-embeddings-ada-002
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T1.3.5.4">
       <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_rr ltx_border_t" id="S4.T1.3.5.4.1">
        Vector database
       </th>
       <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T1.3.5.4.2">
        Chroma
       </td>
      </tr>
     </tbody>
    </table>
   </figure>
   <div class="ltx_para" id="S4.SS1.p3">
    <p class="ltx_p" id="S4.SS1.p3.1">
     <span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.1">
      Testing Scenario
     </span>
     : The testing scenario locates at an on-ramp entrance on the highway with two main lanes. The scenario incorporates two LLM-driven agents, one on the main road and the other on the on-ramp, as shown in Fig
     <a class="ltx_ref" href="#S4.F6" title="Figure 6 ‚Ä£ IV-A Experimental Settings ‚Ä£ IV Experiments ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
      <span class="ltx_text ltx_ref_tag">
       6
      </span>
     </a>
     .
    </p>
   </div>
   <figure class="ltx_figure" id="S4.F6">
    <div class="ltx_flex_figure">
     <div class="ltx_flex_cell ltx_flex_size_1">
      <figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F6.sf1">
       <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="69" id="S4.F6.sf1.g1" src="/html/2407.14239/assets/fig/Iniitial_scenario.png" width="538"/>
       <figcaption class="ltx_caption">
        <span class="ltx_tag ltx_tag_figure">
         <span class="ltx_text" id="S4.F6.sf1.2.1.1" style="font-size:80%;">
          (a)
         </span>
        </span>
        <span class="ltx_text" id="S4.F6.sf1.3.2" style="font-size:80%;">
         An example of initialization scenario
        </span>
       </figcaption>
      </figure>
     </div>
     <div class="ltx_flex_break">
     </div>
     <div class="ltx_flex_cell ltx_flex_size_1">
      <figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F6.sf2">
       <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="74" id="S4.F6.sf2.g1" src="/html/2407.14239/assets/fig/A_failure_scenario_where_a_collision_occurs_on_a_ramp_merge.png" width="538"/>
       <figcaption class="ltx_caption">
        <span class="ltx_tag ltx_tag_figure">
         <span class="ltx_text" id="S4.F6.sf2.2.1.1" style="font-size:80%;">
          (b)
         </span>
        </span>
        <span class="ltx_text" id="S4.F6.sf2.3.2" style="font-size:80%;">
         A failure scenario where a collision occurs on a ramp merge
        </span>
       </figcaption>
      </figure>
     </div>
     <div class="ltx_flex_break">
     </div>
     <div class="ltx_flex_cell ltx_flex_size_1">
      <figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F6.sf3">
       <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="70" id="S4.F6.sf3.g1" src="/html/2407.14239/assets/fig/A_failure_scenario_in_which_the_ramp_merge_is_not_completed_in_time.png" width="538"/>
       <figcaption class="ltx_caption">
        <span class="ltx_tag ltx_tag_figure">
         <span class="ltx_text" id="S4.F6.sf3.2.1.1" style="font-size:80%;">
          (c)
         </span>
        </span>
        <span class="ltx_text" id="S4.F6.sf3.3.2" style="font-size:80%;">
         A failure scenario where the ramp merge is not completed in time
        </span>
       </figcaption>
      </figure>
     </div>
     <div class="ltx_flex_break">
     </div>
     <div class="ltx_flex_cell ltx_flex_size_1">
      <figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F6.sf4">
       <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="62" id="S4.F6.sf4.g1" src="/html/2407.14239/assets/fig/A_successful_scenario_for_safely_completing_ramp_merges.png" width="538"/>
       <figcaption class="ltx_caption">
        <span class="ltx_tag ltx_tag_figure">
         <span class="ltx_text" id="S4.F6.sf4.2.1.1" style="font-size:80%;">
          (d)
         </span>
        </span>
        <span class="ltx_text" id="S4.F6.sf4.3.2" style="font-size:80%;">
         A successful scenario for safely completing ramp merges
        </span>
       </figcaption>
      </figure>
     </div>
    </div>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 6:
     </span>
     Examples of different phases in the testing scenarios
    </figcaption>
   </figure>
   <div class="ltx_para" id="S4.SS1.p4">
    <p class="ltx_p" id="S4.SS1.p4.1">
     When the agent reaches the endpoint or collides with other vehicles, it is considered as the end of the scenario. The reflection module will then update the shared-memory module. When the update is completed, the agent completes a round of training in that scene. After every 20 rounds of training, 20 randomly generated scenarios are selected and fixed for testing the trained agents in
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS1.p4.1.m1.1">
      <semantics id="S4.SS1.p4.1.m1.1a">
       <mi id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b">
        <ci id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     .
    </p>
   </div>
   <figure class="ltx_table" id="S4.T2">
    <figcaption class="ltx_caption">
     <span class="ltx_tag ltx_tag_table">
      TABLE II:
     </span>
     the parameters of the initialization scenarios
    </figcaption>
    <table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T2.1">
     <thead class="ltx_thead">
      <tr class="ltx_tr" id="S4.T2.1.1.1">
       <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_l ltx_border_rr ltx_border_t" id="S4.T2.1.1.1.1">
        <span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.1">
         Parameter
        </span>
       </th>
       <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T2.1.1.1.2">
        <span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.2.1">
         Value
        </span>
       </th>
      </tr>
     </thead>
     <tbody class="ltx_tbody">
      <tr class="ltx_tr" id="S4.T2.1.2.1">
       <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T2.1.2.1.1">
        The lane count of the highway main road
       </td>
       <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.2.1.2">
        2
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T2.1.3.2">
       <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T2.1.3.2.1">
        The lane count of the on-ramp merging road
       </td>
       <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.3.2.2">
        1
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T2.1.4.3">
       <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T2.1.4.3.1">
        The length of on-ramp merging road
       </td>
       <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.4.3.2">
        120 m
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T2.1.5.4">
       <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T2.1.5.4.1">
        The initialization speed of vehicles
       </td>
       <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.5.4.2">
        range from 20 to 25 m/s
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T2.1.6.5">
       <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T2.1.6.5.1">
        The spacing of the spawn points
       </td>
       <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.6.5.2">
        40 m
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T2.1.7.6">
       <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T2.1.7.6.1">
        The initial location noise
       </td>
       <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.7.6.2">
        range from -10 to 10 m
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T2.1.8.7">
       <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T2.1.8.7.1">
        The count of LLM controlled vehicles
       </td>
       <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.8.7.2">
        2
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T2.1.9.8">
       <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T2.1.9.8.1">
        The count of intelligent driver model vehicles
       </td>
       <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.9.8.2">
        5
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T2.1.10.9">
       <td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_rr ltx_border_t" id="S4.T2.1.10.9.1">
        Policy frequency
       </td>
       <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T2.1.10.9.2">
        2 Hz
       </td>
      </tr>
     </tbody>
    </table>
   </figure>
   <div class="ltx_para" id="S4.SS1.p5">
    <p class="ltx_p" id="S4.SS1.p5.1">
     <span class="ltx_text ltx_font_bold" id="S4.SS1.p5.1.1">
      Baseline MARL-based model
     </span>
     : The baseline MARL method is ‚Äúdeep multi-agent reinforcement learning for highway on-ramp merging in mixed traffic‚Äù
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib41" title="">
       41
      </a>
      ]
     </cite>
     , which develop an efficient and scalable MARL framework that can be used in dynamic traffic where the communication topology could be time-varying. We have adjusted the MARL parameter Policy frequency from 5Hz to 2Hz to maintain consistency with the Policy frequency during training in
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS1.p5.1.m1.1">
      <semantics id="S4.SS1.p5.1.m1.1a">
       <mi id="S4.SS1.p5.1.m1.1.1" xref="S4.SS1.p5.1.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS1.p5.1.m1.1b">
        <ci id="S4.SS1.p5.1.m1.1.1.cmml" xref="S4.SS1.p5.1.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS1.p5.1.m1.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     . Concurrently, we have adapted the MARL training scenarios to focus on the two-lane highway on-ramp merging context and have initiated the training process accordingly.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS2.5.1.1">
      IV-B
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS2.6.2">
     Performance of the proposed framework
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS2.p1">
    <p class="ltx_p" id="S4.SS2.p1.1">
     In this section, we conducted comparative experiments on
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1">
      <semantics id="S4.SS2.p1.1.m1.1a">
       <mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b">
        <ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     and deep multi-agent reinforcement learning (MARL). To maintain consistency with the test scenarios of the MARL methods, we conducted comparative tests in scenarios where both the main road and the highway ramp are configured as single lanes.
    </p>
   </div>
   <figure class="ltx_figure" id="S4.F7">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="404" id="S4.F7.g1" src="/html/2407.14239/assets/fig/MARL_new_v2.png" width="538"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 7:
     </span>
     The performance of
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.F7.2.m1.1">
      <semantics id="S4.F7.2.m1.1b">
       <mi id="S4.F7.2.m1.1.1" xref="S4.F7.2.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.F7.2.m1.1c">
        <ci id="S4.F7.2.m1.1.1.cmml" xref="S4.F7.2.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.F7.2.m1.1d">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     after 0, 20, and 40 training episodes is compared with the performance of MARL after 0, 20,000, and 40,000 training episodes, respectively.
    </figcaption>
   </figure>
   <div class="ltx_para" id="S4.SS2.p2">
    <p class="ltx_p" id="S4.SS2.p2.5">
     <span class="ltx_text ltx_font_bold" id="S4.SS2.p2.5.1">
      Performance
     </span>
     : In the untrained state, the success rate of the
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS2.p2.1.m1.1">
      <semantics id="S4.SS2.p2.1.m1.1a">
       <mi id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b">
        <ci id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     framework is 30%, while the success rate of MARL reaches 45%. The success rate of MARL is slightly higher than that of the
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS2.p2.2.m2.1">
      <semantics id="S4.SS2.p2.2.m2.1a">
       <mi id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b">
        <ci id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     framework. This is because the selected GPT4 model is a general LLM that has not been extensively trained with corpora in the driving domain, resulting in a less clear understanding of driving tasks. However, after 20 rounds of training and accumulating driving experience, the
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS2.p2.3.m3.1">
      <semantics id="S4.SS2.p2.3.m3.1a">
       <mi id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b">
        <ci id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     framework has achieved a success rate of 50%, which is essentially on par with the 51% success rate achieved by the MARL algorithm after 20,000 rounds of training. When the
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS2.p2.4.m4.1">
      <semantics id="S4.SS2.p2.4.m4.1a">
       <mi id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b">
        <ci id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     framework has undergone 40 rounds of training, it has already achieved a success rate of 70%, successfully surpassing the 65% success rate achieved by the MARL algorithm after 40,000 rounds of training. This experiment not only demonstrates the effectiveness of the
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS2.p2.5.m5.1">
      <semantics id="S4.SS2.p2.5.m5.1a">
       <mi id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b">
        <ci id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     framework in closed-loop learning within scenarios but also highlights that, compared to traditional data-driven methods, knowledge-driven agents possess higher learning efficiency and better training outcomes.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS3.5.1.1">
      IV-C
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS3.6.2">
     The validation of the framework
    </span>
   </h3>
   <section class="ltx_subsubsection" id="S4.SS3.SSS1">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      <span class="ltx_text" id="S4.SS3.SSS1.5.1.1">
       IV-C
      </span>
      1
     </span>
     Shared Memory
    </h4>
    <div class="ltx_para" id="S4.SS3.SSS1.p1">
     <p class="ltx_p" id="S4.SS3.SSS1.p1.1">
      In this section, an ablation study is conducted on the Shared Memory module. We have set up three different types of memory modules for comparative testing to verify the superiority of the shared memory module. The first type is the no-memory module, which means that no vector database is set up to accumulate and store historical experiences. The second type is the non-shared memory module, where each agent has its own vector database, and the accumulated experience fragments are not shared with other agents, only used to assist in their own action decisions. The third type is the shared memory module, where each agent shares a common vector database, and the experiences accumulated by an agent can be called upon by other agents to assist in their action decisions, thus achieving sharing. The testing results are shown in Fig.
      <a class="ltx_ref" href="#S4.F8" title="Figure 8 ‚Ä£ IV-C1 Shared Memory ‚Ä£ IV-C The validation of the framework ‚Ä£ IV Experiments ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
       <span class="ltx_text ltx_ref_tag">
        8
       </span>
      </a>
      .
     </p>
    </div>
    <figure class="ltx_figure" id="S4.F8">
     <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="404" id="S4.F8.g1" src="/html/2407.14239/assets/fig/no_shared.png" width="538"/>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_figure">
       Figure 8:
      </span>
      Experimentalresults tested in the initial scenario with different memory modules after 20 and 40 rounds of training.
     </figcaption>
    </figure>
    <div class="ltx_para" id="S4.SS3.SSS1.p2">
     <p class="ltx_p" id="S4.SS3.SSS1.p2.1">
      The non-shared memory module exhibits poorer performance during training; after 40 rounds of training, the success rate is only 45%, which is worse than the performance of the shared memory module after just 20 rounds of training. This is partially because sharing a common memory module leads to a richer and more abundant vector database, allowing for the simultaneous accumulation of training effects from multiple agents. After the vehicles driving on ramp merge onto the highway, they still need to travel on the main road for some time, which requires the agent to have a certain amount of highway driving experience. However, most of the experience of agents on the ramp is confined to the ramp scenario, with less experience driving on the main road, which requires more training rounds. Therefore, the shared memory module not only effectively enhances the training effectiveness of multiple agents, improving collective intelligence, but also ensures that all agents are at the same level of intelligence, preventing the group‚Äôs performance from being adversely affected by poorly trained agents.
     </p>
    </div>
   </section>
   <section class="ltx_subsubsection" id="S4.SS3.SSS2">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      <span class="ltx_text" id="S4.SS3.SSS2.5.1.1">
       IV-C
      </span>
      2
     </span>
     Multi-step Planning
    </h4>
    <div class="ltx_para" id="S4.SS3.SSS2.p1">
     <p class="ltx_p" id="S4.SS3.SSS2.p1.1">
      In this section, we will compare the training results of agents with and without the multi-step planning module to verify the effectiveness of
      <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.1.m1.1">
       <semantics id="S4.SS3.SSS2.p1.1.m1.1a">
        <mi id="S4.SS3.SSS2.p1.1.m1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.cmml">
         ùñ™ùóàùñ¨ùñ†
        </mi>
        <annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.1.m1.1b">
         <ci id="S4.SS3.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1">
          ùñ™ùóàùñ¨ùñ†
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.1.m1.1c">
         \mathsf{KoMA}
        </annotation>
       </semantics>
      </math>
      . The agents under these two frameworks are both trained for 40 rounds. The testing results are displayed via a boxplot in Table
      <a class="ltx_ref" href="#S4.T3" title="TABLE III ‚Ä£ IV-C2 Multi-step Planning ‚Ä£ IV-C The validation of the framework ‚Ä£ IV Experiments ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
       <span class="ltx_text ltx_ref_tag">
        III
       </span>
      </a>
      . It shows the success rates of agents at the different training stages, including agents without training, agents trained with 20 rounds and agents trained with 40 rounds.
     </p>
    </div>
    <figure class="ltx_table" id="S4.T3">
     <figcaption class="ltx_caption">
      <span class="ltx_tag ltx_tag_table">
       TABLE III:
      </span>
      The success rate of experimental results in the initial scenario was evaluated using different frameworks, with testing conducted after 0, 20, and 40 rounds of training.
     </figcaption>
     <table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T3.1">
      <thead class="ltx_thead">
       <tr class="ltx_tr" id="S4.T3.1.1.1">
        <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_l ltx_border_rr ltx_border_t" id="S4.T3.1.1.1.1">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.1.1">
          Training episodes
         </span>
        </th>
        <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_rr ltx_border_t" id="S4.T3.1.1.1.2">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.2.1">
          DiLu
         </span>
        </th>
        <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T3.1.1.1.3">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.3.1">
          KoMA
         </span>
        </th>
       </tr>
      </thead>
      <tbody class="ltx_tbody">
       <tr class="ltx_tr" id="S4.T3.1.2.1">
        <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T3.1.2.1.1">
         0
        </td>
        <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T3.1.2.1.2">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.2.1.2.1">
          40%
         </span>
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.2.1.3">
         30%
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.3.2">
        <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T3.1.3.2.1">
         20
        </td>
        <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T3.1.3.2.2">
         50%
        </td>
        <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.3.2.3">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.3.2.3.1">
          50%
         </span>
        </td>
       </tr>
       <tr class="ltx_tr" id="S4.T3.1.4.3">
        <td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_rr ltx_border_t" id="S4.T3.1.4.3.1">
         40
        </td>
        <td class="ltx_td ltx_align_center ltx_border_b ltx_border_rr ltx_border_t" id="S4.T3.1.4.3.2">
         50%
        </td>
        <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" id="S4.T3.1.4.3.3">
         <span class="ltx_text ltx_font_bold" id="S4.T3.1.4.3.3.1">
          70%
         </span>
        </td>
       </tr>
      </tbody>
     </table>
    </figure>
    <figure class="ltx_figure" id="S4.F9">
     <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="404" id="S4.F9.g1" src="/html/2407.14239/assets/fig/train2_v3.png" width="538"/>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_figure">
       Figure 9:
      </span>
      The average efficiency score and safety score of successful testing scenarios after 40 rounds of training.
     </figcaption>
    </figure>
    <div class="ltx_para" id="S4.SS3.SSS2.p2">
     <p class="ltx_p" id="S4.SS3.SSS2.p2.1">
      We found that agents with multi-step planning modules performed worse without training, with a success rate of only 30%. However, during 20 rounds of training, the effect was on par with that of agents without multi-step planning modules, achieving a success rate of 50%. After 40 rounds of training, the agent with multi-step planning modules achieved a success rate of 70%. This indicates that agents with multi-step planning modules have better training effects and faster convergence in ramp merging scenarios. The Fig.
      <a class="ltx_ref" href="#S4.F9" title="Figure 9 ‚Ä£ IV-C2 Multi-step Planning ‚Ä£ IV-C The validation of the framework ‚Ä£ IV Experiments ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
       <span class="ltx_text ltx_ref_tag">
        9
       </span>
      </a>
      shows the average score of successful testing scenarios after 40 rounds of training. Agents with multi-step planning modules have better efficiency and safety scores, indicating that they can complete scenario testing more safely and efficiently. This may be because the three-layer progressive reasoning thinking chain of goal-plan-action can better assist the LLM in making action decisions with consistent goals when completing urgent tasks in complex and time-varying scenarios.When there is a clear short-term goal, action decisions become more purposeful, avoiding meaningless action decisions of repeated acceleration and deceleration, which improves the efficiency of the agent. Meanwhile, the inspection part of the plan ensures that the agent can timely reformulate the plan when the old plan is no longer safe and feasible in time-varying scenarios, avoiding the continued execution of high-risk old plans and improving the security of the agent.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S4.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS4.5.1.1">
      IV-D
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS4.6.2">
     Generalization under different Scenarios
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS4.p1">
    <p class="ltx_p" id="S4.SS4.p1.1">
     Data-driven agents often tend to overfit to training scenarios, leading to poor generalization capabilities and limited applicability
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib11" title="">
       11
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib6" title="">
       6
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib7" title="">
       7
      </a>
      ]
     </cite>
     . Therefore, in this section, we conduct a series of tests on the generalization capabilities of knowledge-driven agents within the framework to examine whether LLMs can learn knowledge from experiential fragments and apply it to different scenarios.
    </p>
   </div>
   <section class="ltx_subsubsection" id="S4.SS4.SSS1">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      <span class="ltx_text" id="S4.SS4.SSS1.5.1.1">
       IV-D
      </span>
      1
     </span>
     Altering the number of lanes on the main roadway
    </h4>
    <figure class="ltx_figure" id="S4.F10">
     <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="404" id="S4.F10.g1" src="/html/2407.14239/assets/fig/train3_v3.png" width="538"/>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_figure">
       Figure 10:
      </span>
      The experimental results for different generalization scenarios are evaluated with and without the memory, which has been trained on a main roadway with two lanes.
     </figcaption>
    </figure>
    <div class="ltx_para" id="S4.SS4.SSS1.p1">
     <p class="ltx_p" id="S4.SS4.SSS1.p1.1">
      Initially, we conducted tests with minor variations in scenario complexity by changing the number of lanes on the merging main roadway. Despite these minor changes, these scenarios still pose challenges for data-driven agents in generalizing. We trained the LLM agents on scenarios with two-lane main roadways and single-lane ramps. After training, we obtained an experience-rich vector database, known as the memory module. We then tested this module in scenarios with one more or one less lane on the main roadway, at the same density. As the memory module lacks content for these new scenarios, this setup tests the LLM agents‚Äô ability to generalize. The results are shown in Fig.
      <a class="ltx_ref" href="#S4.F10" title="Figure 10 ‚Ä£ IV-D1 Altering the number of lanes on the main roadway ‚Ä£ IV-D Generalization under different Scenarios ‚Ä£ IV Experiments ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
       <span class="ltx_text ltx_ref_tag">
        10
       </span>
      </a>
      . We found that the shared-memory trained in the initial scenario still affects and yields good results when generalizing to scenarios with varying main road lanes, indicating superior generalization ability in knowledge-driven agents compared to traditional data-driven ones.
     </p>
    </div>
   </section>
   <section class="ltx_subsubsection" id="S4.SS4.SSS2">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      <span class="ltx_text" id="S4.SS4.SSS2.5.1.1">
       IV-D
      </span>
      2
     </span>
     Generalizing to roundabout scenarios
    </h4>
    <div class="ltx_para" id="S4.SS4.SSS2.p1">
     <p class="ltx_p" id="S4.SS4.SSS2.p1.1">
      Continuing with the use of the same memory module as in the previous section, we shifted the scenario from ramp merging to roundabouts. Our aim was to test whether the LLM agents could learn from previous scenarios and enhance their decision-making abilities by generalizing to completely different scenarios. Additionally, this shift aimed to demonstrate the value of a shared memory module in enhancing the generalization capabilities of multiple agents.
     </p>
    </div>
    <figure class="ltx_figure" id="S4.F11">
     <div class="ltx_flex_figure">
      <div class="ltx_flex_cell ltx_flex_size_1">
       <figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F11.sf1">
        <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="211" id="S4.F11.sf1.g1" src="/html/2407.14239/assets/fig/roundabout_stage1.png" width="538"/>
        <figcaption class="ltx_caption">
         <span class="ltx_tag ltx_tag_figure">
          <span class="ltx_text" id="S4.F11.sf1.2.1.1" style="font-size:80%;">
           (a)
          </span>
         </span>
         <span class="ltx_text" id="S4.F11.sf1.3.2" style="font-size:80%;">
          The first phase of the roundabout driving scenario: Gradually approach the roundabout and observe the traffic conditions within it, looking for the right moment to enter the roundabout.
         </span>
        </figcaption>
       </figure>
      </div>
      <div class="ltx_flex_break">
      </div>
      <div class="ltx_flex_cell ltx_flex_size_1">
       <figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F11.sf2">
        <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="211" id="S4.F11.sf2.g1" src="/html/2407.14239/assets/fig/roundabout_stage2.png" width="538"/>
        <figcaption class="ltx_caption">
         <span class="ltx_tag ltx_tag_figure">
          <span class="ltx_text" id="S4.F11.sf2.2.1.1" style="font-size:80%;">
           (b)
          </span>
         </span>
         <span class="ltx_text" id="S4.F11.sf2.3.2" style="font-size:80%;">
          The second phase of the roundabout driving scenario: The vehicle successfully enters the roundabout and drives within it. The vehicle needs to identify its exit within the roundabout and merge out in a timely manner at the designated exit.
         </span>
        </figcaption>
       </figure>
      </div>
      <div class="ltx_flex_break">
      </div>
      <div class="ltx_flex_cell ltx_flex_size_1">
       <figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F11.sf3">
        <img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="211" id="S4.F11.sf3.g1" src="/html/2407.14239/assets/fig/roundabout_stage3.png" width="538"/>
        <figcaption class="ltx_caption">
         <span class="ltx_tag ltx_tag_figure">
          <span class="ltx_text" id="S4.F11.sf3.2.1.1" style="font-size:80%;">
           (c)
          </span>
         </span>
         <span class="ltx_text" id="S4.F11.sf3.3.2" style="font-size:80%;">
          The third phase of the roundabout driving scenario: The vehicle successfully merges out from the exit and leaves the roundabout, completing the roundabout scenario.
         </span>
        </figcaption>
       </figure>
      </div>
     </div>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_figure">
       Figure 11:
      </span>
      Illustrations of the three stages of the roundabout scenario.
     </figcaption>
    </figure>
    <figure class="ltx_figure" id="S4.F12">
     <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="404" id="S4.F12.g1" src="/html/2407.14239/assets/fig/roundabout_v2.png" width="538"/>
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_figure">
       Figure 12:
      </span>
      The generalization ability of the memory, trained for 40 episodes in the initial scenario, is specifically tested in the roundabout scenario.
     </figcaption>
    </figure>
    <div class="ltx_para" id="S4.SS4.SSS2.p2">
     <p class="ltx_p" id="S4.SS4.SSS2.p2.1">
      The roundabout scenario setup is depicted in Fig.
      <a class="ltx_ref" href="#S4.F11" title="Figure 11 ‚Ä£ IV-D2 Generalizing to roundabout scenarios ‚Ä£ IV-D Generalization under different Scenarios ‚Ä£ IV Experiments ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
       <span class="ltx_text ltx_ref_tag">
        11
       </span>
      </a>
      . There is a single lane for each of the four entry and exit roads of the roundabout. Within the roundabout itself, there is a two-lane circular road. Roundabout scenarios can be mainly divided into three phases: 1. Roundabout entry phase: Merging into the roundabout from the entry road. 2. Roundabout internal driving phase: Driving within the roundabout until approaching the target exit road. 3. Roundabout exit phase: Exiting from the roundabout to the exit road and leaving the roundabout. There are four vehicles modeled as intelligent driver model (IDM) on the western entry road of the roundabout, with their destination being the eastern exit road. The agent vehicle controlled by the LLM is on the southern entry road, followed by an IDM environmental vehicle. There are a total of six vehicles in the entire roundabout scenario, and their actual generation positions still follow the form of fixed coordinate points plus random fluctuations to reflect randomness. In this scenario, the agent vehicle controlled by the LLM needs to safely merge into the roundabout from the southern entry and smoothly exit from the eastern side of the roundabout, which is considered a successful completion of the scenario. If a collision occurs or the vehicle fails to exit from the eastern side of the roundabout in time, it is considered a failure of the scenario. The result are shown in Fig.
      <a class="ltx_ref" href="#S4.F12" title="Figure 12 ‚Ä£ IV-D2 Generalizing to roundabout scenarios ‚Ä£ IV-D Generalization under different Scenarios ‚Ä£ IV Experiments ‚Ä£ KoMA: Knowledge-driven Multi-agent Framework for Autonomous Driving with Large Language Models">
       <span class="ltx_text ltx_ref_tag">
        12
       </span>
      </a>
     </p>
    </div>
    <div class="ltx_para" id="S4.SS4.SSS2.p3">
     <p class="ltx_p" id="S4.SS4.SSS2.p3.1">
      In the initial ramp merging scenario on a two-lane main road, the success rate was 30% without prior training, and it reached a 70% success rate after 40 rounds of training. An agent without any memory repository achieved a 60% success rate in the roundabout scenario. When the memory repository from 40 rounds of training in the initial ramp merging scenario was applied to the agent in the roundabout scenario, the success rate increased to 80%, demonstrating the effectiveness of knowledge-driven generalization capabilities of the agent. The reason for the roundabout scenario still having a 60% success rate without experience is mainly twofold: firstly, because there is only one LLM controlling the agent in the scenario, which reduces the overall collision risk of the LLM agent; secondly, because the roundabout scenario is simpler, with only longitudinal acceleration and deceleration control before merging, without the need to consider lane-changing behavior.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S4.SS5">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS5.5.1.1">
      IV-E
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS5.6.2">
     Performance under different LLMs
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS5.p1">
    <p class="ltx_p" id="S4.SS5.p1.2">
     In this section, we will employ various LLMs to verify the efficacy of
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS5.p1.1.m1.1">
      <semantics id="S4.SS5.p1.1.m1.1a">
       <mi id="S4.SS5.p1.1.m1.1.1" xref="S4.SS5.p1.1.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS5.p1.1.m1.1b">
        <ci id="S4.SS5.p1.1.m1.1.1.cmml" xref="S4.SS5.p1.1.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS5.p1.1.m1.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     framework. By comparing their performance during training, we aim to ascertain which model is better suited for our
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS5.p1.2.m2.1">
      <semantics id="S4.SS5.p1.2.m2.1a">
       <mi id="S4.SS5.p1.2.m2.1.1" xref="S4.SS5.p1.2.m2.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS5.p1.2.m2.1b">
        <ci id="S4.SS5.p1.2.m2.1.1.cmml" xref="S4.SS5.p1.2.m2.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS5.p1.2.m2.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     framework.
    </p>
   </div>
   <figure class="ltx_table" id="S4.T4">
    <figcaption class="ltx_caption">
     <span class="ltx_tag ltx_tag_table">
      TABLE IV:
     </span>
     The success rate of experimental results with different LLMs after 0, 20, 40 rounds of training in the KoMA framework
    </figcaption>
    <table class="ltx_tabular ltx_centering ltx_align_middle" id="S4.T4.1">
     <tbody class="ltx_tbody">
      <tr class="ltx_tr" id="S4.T4.1.1.1">
       <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T4.1.1.1.1">
        <span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1.1.1">
         episodes
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.1.1.2">
        <span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1.2.1">
         GPT3.5
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.1.1.3">
        <span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1.3.1">
         GPT4
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.1.1.4">
        <span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1.4.1">
         Llama3-8B
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.1.1.5">
        <span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1.5.1">
         Llama2-7B
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.1.1.6">
        <span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1.6.1">
         Qwen2-7B
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T4.1.2.2">
       <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T4.1.2.2.1">
        0
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.2.2.2">
        20%
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.2.2.3">
        <span class="ltx_text ltx_font_bold" id="S4.T4.1.2.2.3.1">
         30%
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.2.2.4">
        25%
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.2.2.5">
        20%
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.2.2.6">
        25%
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T4.1.3.3">
       <td class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" id="S4.T4.1.3.3.1">
        20
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.3.3.2">
        30%
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.3.3.3">
        <span class="ltx_text ltx_font_bold" id="S4.T4.1.3.3.3.1">
         50%
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.3.3.4">
        35%
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.3.3.5">
        25%
       </td>
       <td class="ltx_td ltx_align_center ltx_border_rr ltx_border_t" id="S4.T4.1.3.3.6">
        30%
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T4.1.4.4">
       <td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_rr ltx_border_t" id="S4.T4.1.4.4.1">
        40
       </td>
       <td class="ltx_td ltx_align_center ltx_border_b ltx_border_rr ltx_border_t" id="S4.T4.1.4.4.2">
        35%
       </td>
       <td class="ltx_td ltx_align_center ltx_border_b ltx_border_rr ltx_border_t" id="S4.T4.1.4.4.3">
        <span class="ltx_text ltx_font_bold" id="S4.T4.1.4.4.3.1">
         70%
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_b ltx_border_rr ltx_border_t" id="S4.T4.1.4.4.4">
        40%
       </td>
       <td class="ltx_td ltx_align_center ltx_border_b ltx_border_rr ltx_border_t" id="S4.T4.1.4.4.5">
        35%
       </td>
       <td class="ltx_td ltx_align_center ltx_border_b ltx_border_rr ltx_border_t" id="S4.T4.1.4.4.6">
        40%
       </td>
      </tr>
     </tbody>
    </table>
   </figure>
   <div class="ltx_para" id="S4.SS5.p2">
    <p class="ltx_p" id="S4.SS5.p2.3">
     Our research findings demonstrate that a range of Large Language Models (LLMs), including GPT3.5
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib42" title="">
       42
      </a>
      ]
     </cite>
     , GPT4
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib13" title="">
       13
      </a>
      ]
     </cite>
     , LLaMA2-7B
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib12" title="">
       12
      </a>
      ]
     </cite>
     , LLaMA3-8B
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib43" title="">
       43
      </a>
      ]
     </cite>
     , and QWEN2-7B
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib44" title="">
       44
      </a>
      ]
     </cite>
     , can be effectively trained within the
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS5.p2.1.m1.1">
      <semantics id="S4.SS5.p2.1.m1.1a">
       <mi id="S4.SS5.p2.1.m1.1.1" xref="S4.SS5.p2.1.m1.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS5.p2.1.m1.1b">
        <ci id="S4.SS5.p2.1.m1.1.1.cmml" xref="S4.SS5.p2.1.m1.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS5.p2.1.m1.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     framework. This training significantly improves their decision-making capabilities, thereby validating the framework‚Äôs universal applicability and effectiveness across different models. GPT-4 performs best within the
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS5.p2.2.m2.1">
      <semantics id="S4.SS5.p2.2.m2.1a">
       <mi id="S4.SS5.p2.2.m2.1.1" xref="S4.SS5.p2.2.m2.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS5.p2.2.m2.1b">
        <ci id="S4.SS5.p2.2.m2.1.1.cmml" xref="S4.SS5.p2.2.m2.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS5.p2.2.m2.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     framework, with better training outcomes and faster convergence speed. GPT-3.5 underperforms within
     <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S4.SS5.p2.3.m3.1">
      <semantics id="S4.SS5.p2.3.m3.1a">
       <mi id="S4.SS5.p2.3.m3.1.1" xref="S4.SS5.p2.3.m3.1.1.cmml">
        ùñ™ùóàùñ¨ùñ†
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS5.p2.3.m3.1b">
        <ci id="S4.SS5.p2.3.m3.1.1.cmml" xref="S4.SS5.p2.3.m3.1.1">
         ùñ™ùóàùñ¨ùñ†
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS5.p2.3.m3.1c">
        \mathsf{KoMA}
       </annotation>
      </semantics>
     </math>
     , particularly in handling lengthy scenario texts. The model‚Äôs difficulty in accurately capturing critical details, such as vehicle spacing and speed variations, often leads to the exclusion of essential information during decision-making processes. This oversight can result in collisions involving the agent vehicles, highlighting the need for enhanced model training and attention to detail recognition.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S5">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    V
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S5.1.1">
    Conclusion
   </span>
  </h2>
  <div class="ltx_para" id="S5.p1">
   <p class="ltx_p" id="S5.p1.3">
    The advent of LLMs as autonomous agents has marked a significant shift in the approach to knowledge-driven problem-solving, particularly within the autonomous driving sector. This study presents the
    <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S5.p1.1.m1.1">
     <semantics id="S5.p1.1.m1.1a">
      <mi id="S5.p1.1.m1.1.1" xref="S5.p1.1.m1.1.1.cmml">
       ùñ™ùóàùñ¨ùñ†
      </mi>
      <annotation-xml encoding="MathML-Content" id="S5.p1.1.m1.1b">
       <ci id="S5.p1.1.m1.1.1.cmml" xref="S5.p1.1.m1.1.1">
        ùñ™ùóàùñ¨ùñ†
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S5.p1.1.m1.1c">
       \mathsf{KoMA}
      </annotation>
     </semantics>
    </math>
    framework, a comprehensive system designed to transcend the limitations of current single-agent models by facilitating multi-agent collaboration, shared knowledge, and cognitive synergy. The
    <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S5.p1.2.m2.1">
     <semantics id="S5.p1.2.m2.1a">
      <mi id="S5.p1.2.m2.1.1" xref="S5.p1.2.m2.1.1.cmml">
       ùñ™ùóàùñ¨ùñ†
      </mi>
      <annotation-xml encoding="MathML-Content" id="S5.p1.2.m2.1b">
       <ci id="S5.p1.2.m2.1.1.cmml" xref="S5.p1.2.m2.1.1">
        ùñ™ùóàùñ¨ùñ†
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S5.p1.2.m2.1c">
       \mathsf{KoMA}
      </annotation>
     </semantics>
    </math>
    framework‚Äôs multi-faceted approach, integrating interaction, planning, memory, and reflection modules, has proven instrumental in enhancing decision-making in complex driving scenarios. Our empirical evaluations have confirmed the
    <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S5.p1.3.m3.1">
     <semantics id="S5.p1.3.m3.1a">
      <mi id="S5.p1.3.m3.1.1" xref="S5.p1.3.m3.1.1.cmml">
       ùñ™ùóàùñ¨ùñ†
      </mi>
      <annotation-xml encoding="MathML-Content" id="S5.p1.3.m3.1b">
       <ci id="S5.p1.3.m3.1.1.cmml" xref="S5.p1.3.m3.1.1">
        ùñ™ùóàùñ¨ùñ†
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S5.p1.3.m3.1c">
       \mathsf{KoMA}
      </annotation>
     </semantics>
    </math>
    framework‚Äôs superiority over traditional methods, showcasing its robustness in unpredictable environments and its ability to generalize across a wide array of driving situations without the need for extensive retraining. The framework‚Äôs success lies in its human-like cognition, where LLM agents can discern and respond to the intentions of surrounding vehicles, and its layered planning ensures strategic consistency in action decisions.
   </p>
  </div>
  <div class="ltx_para" id="S5.p2">
   <p class="ltx_p" id="S5.p2.1">
    The
    <math alttext="\mathsf{KoMA}" class="ltx_Math" display="inline" id="S5.p2.1.m1.1">
     <semantics id="S5.p2.1.m1.1a">
      <mi id="S5.p2.1.m1.1.1" xref="S5.p2.1.m1.1.1.cmml">
       ùñ™ùóàùñ¨ùñ†
      </mi>
      <annotation-xml encoding="MathML-Content" id="S5.p2.1.m1.1b">
       <ci id="S5.p2.1.m1.1.1.cmml" xref="S5.p2.1.m1.1.1">
        ùñ™ùóàùñ¨ùñ†
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S5.p2.1.m1.1c">
       \mathsf{KoMA}
      </annotation>
     </semantics>
    </math>
    framework is a preliminary test of the potential of LLMs in revolutionizing autonomous systems. It opens a new frontier for research, suggesting that the future of autonomous driving lies in the seamless integration and collaboration of multiple agents. As we continue to refine and expand upon this framework, we envision a future where autonomous driving systems are not only highly adaptable and safe but also capable of learning and improving continuously from shared experiences and insights.
   </p>
  </div>
 </section>
 <section class="ltx_section" id="Sx1">
  <h2 class="ltx_title ltx_font_smallcaps ltx_title_section">
   Acknowledgments
  </h2>
  <div class="ltx_para" id="Sx1.p1">
   <p class="ltx_p" id="Sx1.p1.1">
    This work was also partially supported by the National Natural Science Foundation of China (project number:
52202378), Beijing Natural Science Foundation (project number: L243008), the Open Research Project Program of the State Key Laboratory of Internet of Things for Smart City (project number: SKL-IoTSC(UM)-2021-2023/ORP/GA08/2022), and the Ministry of Transport of PRC Key Laboratory of Transport Industry of Comprehensive Transportation Theory (Grant No. MTF2023002).
   </p>
  </div>
 </section>
 <section class="ltx_bibliography" id="bib">
  <h2 class="ltx_title ltx_title_bibliography">
   References
  </h2>
  <ul class="ltx_biblist">
   <li class="ltx_bibitem" id="bib.bib1">
    <span class="ltx_tag ltx_tag_bibitem">
     [1]
    </span>
    <span class="ltx_bibblock">
     A.¬†Amini, I.¬†Gilitschenski, J.¬†Phillips, J.¬†Moseyko, R.¬†Banerjee, S.¬†Karaman, and D.¬†Rus, ‚ÄúLearning robust control policies for end-to-end autonomous driving from data-driven simulation,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">
      IEEE Robotics and Automation Letters
     </em>
     , vol.¬†5, no.¬†2, pp. 1143‚Äì1150, 2020.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib2">
    <span class="ltx_tag ltx_tag_bibitem">
     [2]
    </span>
    <span class="ltx_bibblock">
     K.¬†Xu, X.¬†Xiao, J.¬†Miao, and Q.¬†Luo, ‚ÄúData driven prediction architecture for autonomous driving and its application on apollo platform,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">
      IEEE Intelligent Vehicles Symposium
     </em>
     .¬†¬†¬†IEEE, 2020, pp. 175‚Äì181.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib3">
    <span class="ltx_tag ltx_tag_bibitem">
     [3]
    </span>
    <span class="ltx_bibblock">
     D.¬†Bogdoll, J.¬†Breitenstein, F.¬†Heidecker, M.¬†Bieshaar, B.¬†Sick, T.¬†Fingscheidt, and M.¬†Z√∂llner, ‚ÄúDescription of corner cases in automated driving: Goals and challenges,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">
      Proceedings of the IEEE/CVF International Conference on Computer Vision
     </em>
     , 2021, pp. 1023‚Äì1028.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib4">
    <span class="ltx_tag ltx_tag_bibitem">
     [4]
    </span>
    <span class="ltx_bibblock">
     L.¬†Chen, Y.¬†Li, C.¬†Huang, Y.¬†Xing, D.¬†Tian, L.¬†Li, Z.¬†Hu, S.¬†Teng, C.¬†Lv, J.¬†Wang
     <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">
      et¬†al.
     </em>
     , ‚ÄúMilestones in autonomous driving and intelligent vehicles‚Äîpart 1: Control, computing system design, communication, hd map, testing, and human behaviors,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib4.2.2">
      IEEE Transactions on Systems, Man, and Cybernetics: Systems
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib5">
    <span class="ltx_tag ltx_tag_bibitem">
     [5]
    </span>
    <span class="ltx_bibblock">
     N.¬†Jaipuria, X.¬†Zhang, R.¬†Bhasin, M.¬†Arafa, P.¬†Chakravarty, S.¬†Shrivastava, S.¬†Manglani, and V.¬†N. Murali, ‚ÄúDeflating dataset bias using synthetic data augmentation,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">
      Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition Workshops
     </em>
     , 2020, pp. 772‚Äì773.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib6">
    <span class="ltx_tag ltx_tag_bibitem">
     [6]
    </span>
    <span class="ltx_bibblock">
     X.¬†Ying, ‚ÄúAn overview of overfitting and its solutions,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">
      Journal of physics: Conference series
     </em>
     , vol. 1168.¬†¬†¬†IOP Publishing, 2019, p. 022022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib7">
    <span class="ltx_tag ltx_tag_bibitem">
     [7]
    </span>
    <span class="ltx_bibblock">
     D.¬†M. Hawkins, ‚ÄúThe problem of overfitting,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">
      Journal of chemical information and computer sciences
     </em>
     , vol.¬†44, no.¬†1, pp. 1‚Äì12, 2004.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib8">
    <span class="ltx_tag ltx_tag_bibitem">
     [8]
    </span>
    <span class="ltx_bibblock">
     Y.¬†Zhang, P.¬†Ti≈ào, A.¬†Leonardis, and K.¬†Tang, ‚ÄúA survey on neural network interpretability,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">
      IEEE Transactions on Emerging Topics in Computational Intelligence
     </em>
     , vol.¬†5, no.¬†5, pp. 726‚Äì742, 2021.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib9">
    <span class="ltx_tag ltx_tag_bibitem">
     [9]
    </span>
    <span class="ltx_bibblock">
     L.¬†H. Gilpin, D.¬†Bau, B.¬†Z. Yuan, A.¬†Bajwa, M.¬†Specter, and L.¬†Kagal, ‚ÄúExplaining explanations: An overview of interpretability of machine learning,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">
      IEEE 5th International Conference on data science and advanced analytics
     </em>
     .¬†¬†¬†IEEE, 2018, pp. 80‚Äì89.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib10">
    <span class="ltx_tag ltx_tag_bibitem">
     [10]
    </span>
    <span class="ltx_bibblock">
     L.¬†Wen, D.¬†Fu, X.¬†Li, X.¬†Cai, M.¬†Tao, P.¬†Cai, M.¬†Dou, B.¬†Shi, L.¬†He, and Y.¬†Qiao, ‚ÄúDilu: A knowledge-driven approach to autonomous driving with large language models,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">
      The Twelfth International Conference on Learning Representations
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib11">
    <span class="ltx_tag ltx_tag_bibitem">
     [11]
    </span>
    <span class="ltx_bibblock">
     X.¬†Li, Y.¬†Bai, P.¬†Cai, L.¬†Wen, D.¬†Fu, B.¬†Zhang, X.¬†Yang, X.¬†Cai, T.¬†Ma, J.¬†Guo
     <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">
      et¬†al.
     </em>
     , ‚ÄúTowards knowledge-driven autonomous driving,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib11.2.2">
      arXiv preprint arXiv:2312.04316
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib12">
    <span class="ltx_tag ltx_tag_bibitem">
     [12]
    </span>
    <span class="ltx_bibblock">
     H.¬†Touvron, T.¬†Lavril, G.¬†Izacard, X.¬†Martinet, M.-A. Lachaux, T.¬†Lacroix, B.¬†Rozi√®re, N.¬†Goyal, E.¬†Hambro, F.¬†Azhar
     <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">
      et¬†al.
     </em>
     , ‚ÄúLlama: Open and efficient foundation language models,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib12.2.2">
      arXiv preprint arXiv:2302.13971
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib13">
    <span class="ltx_tag ltx_tag_bibitem">
     [13]
    </span>
    <span class="ltx_bibblock">
     J.¬†Achiam, S.¬†Adler, S.¬†Agarwal, L.¬†Ahmad, I.¬†Akkaya, F.¬†L. Aleman, D.¬†Almeida, J.¬†Altenschmidt, S.¬†Altman, S.¬†Anadkat
     <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">
      et¬†al.
     </em>
     , ‚ÄúGpt-4 technical report,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib13.2.2">
      arXiv preprint arXiv:2303.08774
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib14">
    <span class="ltx_tag ltx_tag_bibitem">
     [14]
    </span>
    <span class="ltx_bibblock">
     C.¬†H. Song, J.¬†Wu, C.¬†Washington, B.¬†M. Sadler, W.-L. Chao, and Y.¬†Su, ‚ÄúLlm-planner: Few-shot grounded planning for embodied agents with large language models,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">
      Proceedings of the IEEE/CVF International Conference on Computer Vision
     </em>
     , 2023, pp. 2998‚Äì3009.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib15">
    <span class="ltx_tag ltx_tag_bibitem">
     [15]
    </span>
    <span class="ltx_bibblock">
     J.¬†Mai, J.¬†Chen, G.¬†Qian, M.¬†Elhoseiny, B.¬†Ghanem
     <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">
      et¬†al.
     </em>
     , ‚ÄúLlm as a robotic brain: Unifying egocentric memory and control,‚Äù 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib16">
    <span class="ltx_tag ltx_tag_bibitem">
     [16]
    </span>
    <span class="ltx_bibblock">
     J.¬†Pan, ‚ÄúWhat in-context learning ‚Äúlearns‚Äù in-context: Disentangling task recognition and task learning,‚Äù Ph.D. dissertation, Princeton University, 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib17">
    <span class="ltx_tag ltx_tag_bibitem">
     [17]
    </span>
    <span class="ltx_bibblock">
     C.¬†Cui, Y.¬†Ma, X.¬†Cao, W.¬†Ye, and Z.¬†Wang, ‚ÄúDrive as you speak: Enabling human-like interaction with large language models in autonomous vehicles,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">
      Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision
     </em>
     , 2024, pp. 902‚Äì909.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib18">
    <span class="ltx_tag ltx_tag_bibitem">
     [18]
    </span>
    <span class="ltx_bibblock">
     S.¬†Wang, Y.¬†Zhu, Z.¬†Li, Y.¬†Wang, L.¬†Li, and Z.¬†He, ‚ÄúChatgpt as your vehicle co-pilot: An initial attempt,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">
      IEEE Transactions on Intelligent Vehicles
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib19">
    <span class="ltx_tag ltx_tag_bibitem">
     [19]
    </span>
    <span class="ltx_bibblock">
     C.¬†Cui, Y.¬†Ma, X.¬†Cao, W.¬†Ye, and Z.¬†Wang, ‚ÄúReceive, reason, and react: Drive as you say, with large language models in autonomous vehicles,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">
      IEEE Intelligent Transportation Systems Magazine
     </em>
     , 2024.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib20">
    <span class="ltx_tag ltx_tag_bibitem">
     [20]
    </span>
    <span class="ltx_bibblock">
     A.¬†Tampuu, T.¬†Matiisen, D.¬†Kodelja, I.¬†Kuzovkin, K.¬†Korjus, J.¬†Aru, J.¬†Aru, and R.¬†Vicente, ‚ÄúMultiagent cooperation and competition with deep reinforcement learning,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">
      PloS one
     </em>
     , vol.¬†12, no.¬†4, p. e0172395, 2017.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib21">
    <span class="ltx_tag ltx_tag_bibitem">
     [21]
    </span>
    <span class="ltx_bibblock">
     J.¬†K. Gupta, M.¬†Egorov, and M.¬†Kochenderfer, ‚ÄúCooperative multi-agent control using deep reinforcement learning,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">
      Autonomous Agents and Multiagent Systems: AAMAS 2017 Workshops, Best Papers, S√£o Paulo, Brazil, May 8-12, 2017, Revised Selected Papers 16
     </em>
     .¬†¬†¬†Springer, 2017, pp. 66‚Äì83.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib22">
    <span class="ltx_tag ltx_tag_bibitem">
     [22]
    </span>
    <span class="ltx_bibblock">
     A.¬†Zhou, K.¬†Yan, M.¬†Shlapentokh-Rothman, H.¬†Wang, and Y.-X. Wang, ‚ÄúLanguage agent tree search unifies reasoning, acting, and planning in language models,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">
      Forty-first International Conference on Machine Learning
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib23">
    <span class="ltx_tag ltx_tag_bibitem">
     [23]
    </span>
    <span class="ltx_bibblock">
     Z.¬†Xi, W.¬†Chen, X.¬†Guo, W.¬†He, Y.¬†Ding, B.¬†Hong, M.¬†Zhang, J.¬†Wang, S.¬†Jin, E.¬†Zhou
     <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">
      et¬†al.
     </em>
     , ‚ÄúThe rise and potential of large language model based agents: A survey,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib23.2.2">
      arXiv preprint arXiv:2309.07864
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib24">
    <span class="ltx_tag ltx_tag_bibitem">
     [24]
    </span>
    <span class="ltx_bibblock">
     D.¬†Gao, L.¬†Ji, L.¬†Zhou, K.¬†Q. Lin, J.¬†Chen, Z.¬†Fan, and M.¬†Z. Shou, ‚ÄúAssistgpt: A general multi-modal assistant that can plan, execute, inspect, and learn,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">
      arXiv preprint arXiv:2306.08640
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib25">
    <span class="ltx_tag ltx_tag_bibitem">
     [25]
    </span>
    <span class="ltx_bibblock">
     Y.¬†Shen, K.¬†Song, X.¬†Tan, D.¬†Li, W.¬†Lu, and Y.¬†Zhuang, ‚ÄúHugginggpt: Solving ai tasks with chatgpt and its friends in hugging face,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , vol.¬†36, 2024.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib26">
    <span class="ltx_tag ltx_tag_bibitem">
     [26]
    </span>
    <span class="ltx_bibblock">
     D.¬†Sur√≠s, S.¬†Menon, and C.¬†Vondrick, ‚ÄúVipergpt: Visual inference via python execution for reasoning,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">
      Proceedings of the IEEE/CVF International Conference on Computer Vision
     </em>
     , 2023, pp. 11‚Äâ888‚Äì11‚Äâ898.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib27">
    <span class="ltx_tag ltx_tag_bibitem">
     [27]
    </span>
    <span class="ltx_bibblock">
     T.¬†H√§ndler, ‚ÄúBalancing autonomy and alignment: A multi-dimensional taxonomy for autonomous llm-powered multi-agent architectures,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">
      arXiv preprint arXiv:2310.03659
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib28">
    <span class="ltx_tag ltx_tag_bibitem">
     [28]
    </span>
    <span class="ltx_bibblock">
     Z.¬†Liu, Y.¬†Zhang, P.¬†Li, Y.¬†Liu, and D.¬†Yang, ‚ÄúDynamic llm-agent network: An llm-agent collaboration framework with agent team optimization,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">
      arXiv preprint arXiv:2310.02170
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib29">
    <span class="ltx_tag ltx_tag_bibitem">
     [29]
    </span>
    <span class="ltx_bibblock">
     W.¬†Chen, Y.¬†Su, J.¬†Zuo, C.¬†Yang, C.¬†Yuan, C.-M. Chan, H.¬†Yu, Y.¬†Lu, Y.-H. Hung, C.¬†Qian
     <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">
      et¬†al.
     </em>
     , ‚ÄúAgentverse: Facilitating multi-agent collaboration and exploring emergent behaviors,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib29.2.2">
      The Twelfth International Conference on Learning Representations
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib30">
    <span class="ltx_tag ltx_tag_bibitem">
     [30]
    </span>
    <span class="ltx_bibblock">
     R.¬†Gong, Q.¬†Huang, X.¬†Ma, Y.¬†Noda, Z.¬†Durante, Z.¬†Zheng, D.¬†Terzopoulos, L.¬†Fei-Fei, J.¬†Gao, and H.¬†Vo, ‚ÄúMindagent: Emergent gaming interaction,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">
      Findings of the Association for Computational Linguistics: NAACL 2024
     </em>
     , 2024, pp. 3154‚Äì3183.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib31">
    <span class="ltx_tag ltx_tag_bibitem">
     [31]
    </span>
    <span class="ltx_bibblock">
     H.¬†Zhang, W.¬†Du, J.¬†Shan, Q.¬†Zhou, Y.¬†Du, J.¬†B. Tenenbaum, T.¬†Shu, and C.¬†Gan, ‚ÄúBuilding cooperative embodied agents modularly with large language models,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">
      The Twelfth International Conference on Learning Representations
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib32">
    <span class="ltx_tag ltx_tag_bibitem">
     [32]
    </span>
    <span class="ltx_bibblock">
     J.¬†Mao, J.¬†Ye, Y.¬†Qian, M.¬†Pavone, and Y.¬†Wang, ‚ÄúA language agent for autonomous driving,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">
      arXiv preprint arXiv:2311.10813
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib33">
    <span class="ltx_tag ltx_tag_bibitem">
     [33]
    </span>
    <span class="ltx_bibblock">
     H.¬†Shao, Y.¬†Hu, L.¬†Wang, G.¬†Song, S.¬†L. Waslander, Y.¬†Liu, and H.¬†Li, ‚ÄúLmdrive: Closed-loop end-to-end driving with large language models,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">
      Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition
     </em>
     , 2024, pp. 15‚Äâ120‚Äì15‚Äâ130.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib34">
    <span class="ltx_tag ltx_tag_bibitem">
     [34]
    </span>
    <span class="ltx_bibblock">
     J.¬†Wei, X.¬†Wang, D.¬†Schuurmans, M.¬†Bosma, F.¬†Xia, E.¬†Chi, Q.¬†V. Le, D.¬†Zhou
     <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">
      et¬†al.
     </em>
     , ‚ÄúChain-of-thought prompting elicits reasoning in large language models,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib34.2.2">
      Advances in neural information processing systems
     </em>
     , vol.¬†35, pp. 24‚Äâ824‚Äì24‚Äâ837, 2022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib35">
    <span class="ltx_tag ltx_tag_bibitem">
     [35]
    </span>
    <span class="ltx_bibblock">
     Q.¬†Lyu, S.¬†Havaldar, A.¬†Stein, L.¬†Zhang, D.¬†Rao, E.¬†Wong, M.¬†Apidianaki, and C.¬†Callison-Burch, ‚ÄúFaithful chain-of-thought reasoning,‚Äù in
     <em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">
      The 13th International Joint Conference on Natural Language Processing and the 3rd Conference of the Asia-Pacific Chapter of the Association for Computational Linguistics (IJCNLP-AACL 2023)
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib36">
    <span class="ltx_tag ltx_tag_bibitem">
     [36]
    </span>
    <span class="ltx_bibblock">
     Z.¬†Zhang, A.¬†Zhang, M.¬†Li, G.¬†Karypis, A.¬†Smola
     <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">
      et¬†al.
     </em>
     , ‚ÄúMultimodal chain-of-thought reasoning in language models,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib36.2.2">
      Transactions on Machine Learning Research
     </em>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib37">
    <span class="ltx_tag ltx_tag_bibitem">
     [37]
    </span>
    <span class="ltx_bibblock">
     A.¬†Papadoulis, M.¬†Quddus, and M.¬†Imprialou, ‚ÄúEvaluating the safety impact of connected and autonomous vehicles on motorways,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">
      Accident Analysis &amp; Prevention
     </em>
     , vol. 124, pp. 12‚Äì22, 2019.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib38">
    <span class="ltx_tag ltx_tag_bibitem">
     [38]
    </span>
    <span class="ltx_bibblock">
     M.¬†M. Morando, Q.¬†Tian, L.¬†T. Truong, and H.¬†L. Vu, ‚ÄúStudying the safety impact of autonomous vehicles using simulation-based surrogate safety measures,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">
      Journal of advanced transportation
     </em>
     , vol. 2018, no.¬†1, p. 6135183, 2018.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib39">
    <span class="ltx_tag ltx_tag_bibitem">
     [39]
    </span>
    <span class="ltx_bibblock">
     N.¬†Virdi, H.¬†Grzybowska, S.¬†T. Waller, and V.¬†Dixit, ‚ÄúA safety assessment of mixed fleets with connected and autonomous vehicles using the surrogate safety assessment module,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">
      Accident Analysis &amp; Prevention
     </em>
     , vol. 131, pp. 95‚Äì111, 2019.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib40">
    <span class="ltx_tag ltx_tag_bibitem">
     [40]
    </span>
    <span class="ltx_bibblock">
     E.¬†Leurent
     <em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">
      et¬†al.
     </em>
     , ‚ÄúAn environment for autonomous driving decision-making,‚Äù 2018.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib41">
    <span class="ltx_tag ltx_tag_bibitem">
     [41]
    </span>
    <span class="ltx_bibblock">
     D.¬†Chen, M.¬†R. Hajidavalloo, Z.¬†Li, K.¬†Chen, Y.¬†Wang, L.¬†Jiang, and Y.¬†Wang, ‚ÄúDeep multi-agent reinforcement learning for highway on-ramp merging in mixed traffic,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">
      IEEE Transactions on Intelligent Transportation Systems
     </em>
     , vol.¬†24, no.¬†11, pp. 11‚Äâ623‚Äì11‚Äâ638, 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib42">
    <span class="ltx_tag ltx_tag_bibitem">
     [42]
    </span>
    <span class="ltx_bibblock">
     T.¬†Brown, B.¬†Mann, N.¬†Ryder, M.¬†Subbiah, J.¬†D. Kaplan, P.¬†Dhariwal, A.¬†Neelakantan, P.¬†Shyam, G.¬†Sastry, A.¬†Askell
     <em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">
      et¬†al.
     </em>
     , ‚ÄúLanguage models are few-shot learners,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib42.2.2">
      Advances in neural information processing systems
     </em>
     , vol.¬†33, pp. 1877‚Äì1901, 2020.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib43">
    <span class="ltx_tag ltx_tag_bibitem">
     [43]
    </span>
    <span class="ltx_bibblock">
     M.¬†L. Team. (2024) Introducing meta llama 3: The most capable openly available llm to date. [Online]. Available:
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://ai.meta.com/blog/meta-llama-3/" target="_blank" title="">
      https://ai.meta.com/blog/meta-llama-3/
     </a>
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib44">
    <span class="ltx_tag ltx_tag_bibitem">
     [44]
    </span>
    <span class="ltx_bibblock">
     J.¬†Bai, S.¬†Bai, Y.¬†Chu, Z.¬†Cui, K.¬†Dang, X.¬†Deng, Y.¬†Fan, W.¬†Ge, Y.¬†Han, F.¬†Huang
     <em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">
      et¬†al.
     </em>
     , ‚ÄúQwen technical report,‚Äù
     <em class="ltx_emph ltx_font_italic" id="bib.bib44.2.2">
      arXiv preprint arXiv:2309.16609
     </em>
     , 2023.
    </span>
   </li>
  </ul>
 </section>
 <div class="ltx_pagination ltx_role_newpage">
 </div>
</article>
