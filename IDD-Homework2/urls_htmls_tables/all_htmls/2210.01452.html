<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2210.01452] Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control</title><meta property="og:description" content="With the recent advances in mobile energy storage technologies, electric vehicles (EVs) have become a crucial part of smart grids. When EVs participate in the demand response program, the charging cost can be significa…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2210.01452">

<!--Generated on Thu Mar 14 01:29:34 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">

<span id="id6.6.id1" class="ltx_text ltx_markedasmath">Zixuan Zhang</span>2,
<span id="id7.7.id2" class="ltx_text ltx_markedasmath">Yuning Jiang</span>4,
<span id="id8.8.id3" class="ltx_text ltx_markedasmath">Yuanming Shi</span>2,
<span id="id9.9.id4" class="ltx_text ltx_markedasmath">Ye Shi</span>2,
and
<span id="id10.10.id5" class="ltx_text ltx_markedasmath">Wei Chen</span>3

<br class="ltx_break">
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
2School of Information Science and Technology (SIST), ShanghaiTech University, China 
<br class="ltx_break">4Automatic Control
Laboratory, École Polytechnique Fédérale de Lausanne (EPFL), Switzerland
<br class="ltx_break">3Department of Electronic Engineering, Tsinghua University, China 
<br class="ltx_break">, wchen@tsinghua.edu.cn
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id11.id1" class="ltx_p">With the recent advances in mobile energy storage technologies, electric vehicles (EVs) have become a crucial part of smart grids. When EVs participate in the demand response program, the charging cost can be significantly reduced by taking full advantage of the real-time pricing signals. However, many stochastic factors exist in the dynamic environment, bringing significant challenges to design an optimal charging/discharging control strategy. This paper develops an optimal EV charging/discharging control strategy for different EV users under dynamic environments to maximize EV users’ benefits. We first formulate this problem as a Markov decision process (MDP). Then we consider EV users with different behaviors as agents in different environments. Furthermore, a horizontal federated reinforcement learning (HFRL)-based method is proposed to fit various users’ behaviors and dynamic environments. This approach can learn an optimal charging/discharging control strategy without sharing users’ profiles. Simulation results illustrate that the proposed real-time EV charging/discharging control strategy can perform well among various stochastic factors.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">In the past decades, the advent of electric vehicles (EVs) has significantly mitigated air pollution and fossil energy depletion <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. When EVs are connected to the power grid, they can serve in the discharging mode as vehicle-to-grid (V2G) devices or in charging mode as grid-to-vehicle (G2V) devices <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. As a new type of mobile and adjustable load, through switching their working modes alternatively, a fleet of EVs connected to the grid can work in the G2V mode at the valley time to reach valley filling and in the V2G mode at the peak time to achieve peak shaving <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. In addition, users’ charging costs can be reduced by responding to the electricity price signals and changing the working pattern in time <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. The V2G concept and its benefits are shown in Fig. <a href="#S1.F1" title="Figure 1 ‣ I Introduction ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">With the aim of maximizing users’ benefits, the EV charging/discharging control strategy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> is always supposed to coordinate the charging/discharging action, including the charging/discharging decision and the charging/discharging rate. However, due to plentiful stochastic factors lying in the dynamic environment <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, like time-varying electricity prices and uncertain behaviors from a variety of users, it is challenging to design an optimal charging/discharging control strategy considering many kinds of EV users.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Many day-ahead approaches, such as robust optimization (RO) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite> and stochastic optimization (SO) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> have been proposed to handle the price uncertainty. Although the methods above achieved great success in day-ahead charging/discharging control, it may be hard to depict the complex, real-time scenarios with more uncertain factors. Generally, the real-time charging/discharging control strategy considering uncertain electricity prices and users’ demand satisfaction can be formulated as an optimization problem with a known state transition. Then it can be solved by model-based approaches like dynamic programming <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, model predictive control (MPC) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, model-based RL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>, etc. Nevertheless, it is tough to establish an accurate system model or estimate the state transition when considering
various EV users’ indeterminate charging/discharging behaviors.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">As a technique that can directly learn the optimal policies without establishing or estimating the environment model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, Model-free RL has been applied to numerous smart grid issues <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite> and obtains good control performances. A model-free RL approach in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> can avoid grid congestion by coordinating EV charging/discharging. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> took the dynamic electricity price, non-EV residential load consumption, and drivers’ behaviors into consideration to construct the dynamic environment. However, in these above papers, it is assumed that agents’ state transitions follow the same distribution, i.e., the environments of different agents are IID. However, in actual scenarios, the situations faced by EV users may differ slightly, resulting in the non-IID environments and different state transitions.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">As a novel type of distributed machine learning, federated learning (FL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> has received considerable interest from academia and industry. FL allows the use of isolated data from multiple devices without violating the privacy protection policy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>, and it has been applied in many areas <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>. Recently, an emerging field called federated reinforcement learning (FRL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> combines the advantages of both FL and RL. It can not only provide agents with the experience to learn to make good decisions in unknown and dynamic environments but also train a global model collaboratively without sharing their own experiences. As a branch of FRL, horizontal federated reinforcement learning (HFRL) fits well for agents who are likely to isolate from each other but face similar decision-making issues and have fewer interactions <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">This paper considers EV users with different behaviors as agents in different environments. Motivated by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>, we aim to collaboratively learn a real-time EV charging/discharging control strategy that can perform uniformly well in different kinds of environments. We first formulate this problem as a Markov decision-making process (MDP), then a HFRL-based approach is proposed to deal with the dynamic charging/discharging environments and the users’ various behaviors. In our approach, Soft Actor-Critic (SAC) algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> can alleviate the sample-efficiency problem in RL as the local training method, and the FedAvg algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite> is utilized for global aggregation to help each agent quickly learn the optimal policy while considering privacy preservation. Moreover, our simulation results demonstrate that the proposed real-time EV charging/discharging control strategy can make a good trade-off between dynamic electricity prices and uncertain behaviors from different EV users.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2210.01452/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="233" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>V2G concept and its values</figcaption>
</figure>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">System Model and Problem Formulation</span>
</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">This section first introduces a model to describe the dynamic changes of EVs’ batteries. Then, the EV charging/discharging problem is formulated as a Markov decision process (MDP). Finally, we formulate the objective of the optimal charging/discharging control policy.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS1.4.1.1" class="ltx_text">II-A</span> </span><span id="S2.SS1.5.2" class="ltx_text ltx_font_italic">EV Battery Model</span>
</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.13" class="ltx_p">In this paper, we consider <math id="S2.SS1.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS1.p1.1.m1.1a"><mi id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">N</annotation></semantics></math> EVs equipped with the same batteries indexed by <math id="S2.SS1.p1.2.m2.3" class="ltx_Math" alttext="i\in\{1,...,N\}" display="inline"><semantics id="S2.SS1.p1.2.m2.3a"><mrow id="S2.SS1.p1.2.m2.3.4" xref="S2.SS1.p1.2.m2.3.4.cmml"><mi id="S2.SS1.p1.2.m2.3.4.2" xref="S2.SS1.p1.2.m2.3.4.2.cmml">i</mi><mo id="S2.SS1.p1.2.m2.3.4.1" xref="S2.SS1.p1.2.m2.3.4.1.cmml">∈</mo><mrow id="S2.SS1.p1.2.m2.3.4.3.2" xref="S2.SS1.p1.2.m2.3.4.3.1.cmml"><mo stretchy="false" id="S2.SS1.p1.2.m2.3.4.3.2.1" xref="S2.SS1.p1.2.m2.3.4.3.1.cmml">{</mo><mn id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">1</mn><mo id="S2.SS1.p1.2.m2.3.4.3.2.2" xref="S2.SS1.p1.2.m2.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S2.SS1.p1.2.m2.2.2" xref="S2.SS1.p1.2.m2.2.2.cmml">…</mi><mo id="S2.SS1.p1.2.m2.3.4.3.2.3" xref="S2.SS1.p1.2.m2.3.4.3.1.cmml">,</mo><mi id="S2.SS1.p1.2.m2.3.3" xref="S2.SS1.p1.2.m2.3.3.cmml">N</mi><mo stretchy="false" id="S2.SS1.p1.2.m2.3.4.3.2.4" xref="S2.SS1.p1.2.m2.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.3b"><apply id="S2.SS1.p1.2.m2.3.4.cmml" xref="S2.SS1.p1.2.m2.3.4"><in id="S2.SS1.p1.2.m2.3.4.1.cmml" xref="S2.SS1.p1.2.m2.3.4.1"></in><ci id="S2.SS1.p1.2.m2.3.4.2.cmml" xref="S2.SS1.p1.2.m2.3.4.2">𝑖</ci><set id="S2.SS1.p1.2.m2.3.4.3.1.cmml" xref="S2.SS1.p1.2.m2.3.4.3.2"><cn type="integer" id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">1</cn><ci id="S2.SS1.p1.2.m2.2.2.cmml" xref="S2.SS1.p1.2.m2.2.2">…</ci><ci id="S2.SS1.p1.2.m2.3.3.cmml" xref="S2.SS1.p1.2.m2.3.3">𝑁</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.3c">i\in\{1,...,N\}</annotation></semantics></math> and we assume that the charging infrastructures are the same for each EV. We define the times by <math id="S2.SS1.p1.3.m3.1" class="ltx_Math" alttext="t_{a}^{i}" display="inline"><semantics id="S2.SS1.p1.3.m3.1a"><msubsup id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml"><mi id="S2.SS1.p1.3.m3.1.1.2.2" xref="S2.SS1.p1.3.m3.1.1.2.2.cmml">t</mi><mi id="S2.SS1.p1.3.m3.1.1.2.3" xref="S2.SS1.p1.3.m3.1.1.2.3.cmml">a</mi><mi id="S2.SS1.p1.3.m3.1.1.3" xref="S2.SS1.p1.3.m3.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><apply id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.1.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">superscript</csymbol><apply id="S2.SS1.p1.3.m3.1.1.2.cmml" xref="S2.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.1.1.2.1.cmml" xref="S2.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS1.p1.3.m3.1.1.2.2.cmml" xref="S2.SS1.p1.3.m3.1.1.2.2">𝑡</ci><ci id="S2.SS1.p1.3.m3.1.1.2.3.cmml" xref="S2.SS1.p1.3.m3.1.1.2.3">𝑎</ci></apply><ci id="S2.SS1.p1.3.m3.1.1.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">t_{a}^{i}</annotation></semantics></math> at which EV <math id="S2.SS1.p1.4.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS1.p1.4.m4.1a"><mi id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><ci id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">i</annotation></semantics></math> arrives at the charging station and by <math id="S2.SS1.p1.5.m5.1" class="ltx_Math" alttext="t_{d}^{i}" display="inline"><semantics id="S2.SS1.p1.5.m5.1a"><msubsup id="S2.SS1.p1.5.m5.1.1" xref="S2.SS1.p1.5.m5.1.1.cmml"><mi id="S2.SS1.p1.5.m5.1.1.2.2" xref="S2.SS1.p1.5.m5.1.1.2.2.cmml">t</mi><mi id="S2.SS1.p1.5.m5.1.1.2.3" xref="S2.SS1.p1.5.m5.1.1.2.3.cmml">d</mi><mi id="S2.SS1.p1.5.m5.1.1.3" xref="S2.SS1.p1.5.m5.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.1b"><apply id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.1.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1">superscript</csymbol><apply id="S2.SS1.p1.5.m5.1.1.2.cmml" xref="S2.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.1.1.2.1.cmml" xref="S2.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S2.SS1.p1.5.m5.1.1.2.2.cmml" xref="S2.SS1.p1.5.m5.1.1.2.2">𝑡</ci><ci id="S2.SS1.p1.5.m5.1.1.2.3.cmml" xref="S2.SS1.p1.5.m5.1.1.2.3">𝑑</ci></apply><ci id="S2.SS1.p1.5.m5.1.1.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.1c">t_{d}^{i}</annotation></semantics></math> at which it departs from the station. If the State of Charge (SoC) of EV <math id="S2.SS1.p1.6.m6.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS1.p1.6.m6.1a"><mi id="S2.SS1.p1.6.m6.1.1" xref="S2.SS1.p1.6.m6.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.1b"><ci id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.1c">i</annotation></semantics></math> at time <math id="S2.SS1.p1.7.m7.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.SS1.p1.7.m7.1a"><mi id="S2.SS1.p1.7.m7.1.1" xref="S2.SS1.p1.7.m7.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.7.m7.1b"><ci id="S2.SS1.p1.7.m7.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.7.m7.1c">t</annotation></semantics></math> and <math id="S2.SS1.p1.8.m8.1" class="ltx_Math" alttext="t+1" display="inline"><semantics id="S2.SS1.p1.8.m8.1a"><mrow id="S2.SS1.p1.8.m8.1.1" xref="S2.SS1.p1.8.m8.1.1.cmml"><mi id="S2.SS1.p1.8.m8.1.1.2" xref="S2.SS1.p1.8.m8.1.1.2.cmml">t</mi><mo id="S2.SS1.p1.8.m8.1.1.1" xref="S2.SS1.p1.8.m8.1.1.1.cmml">+</mo><mn id="S2.SS1.p1.8.m8.1.1.3" xref="S2.SS1.p1.8.m8.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.8.m8.1b"><apply id="S2.SS1.p1.8.m8.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1"><plus id="S2.SS1.p1.8.m8.1.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1.1"></plus><ci id="S2.SS1.p1.8.m8.1.1.2.cmml" xref="S2.SS1.p1.8.m8.1.1.2">𝑡</ci><cn type="integer" id="S2.SS1.p1.8.m8.1.1.3.cmml" xref="S2.SS1.p1.8.m8.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.8.m8.1c">t+1</annotation></semantics></math> are denoted by <math id="S2.SS1.p1.9.m9.1" class="ltx_Math" alttext="\mathrm{SoC}_{t}^{i}" display="inline"><semantics id="S2.SS1.p1.9.m9.1a"><msubsup id="S2.SS1.p1.9.m9.1.1" xref="S2.SS1.p1.9.m9.1.1.cmml"><mi id="S2.SS1.p1.9.m9.1.1.2.2" xref="S2.SS1.p1.9.m9.1.1.2.2.cmml">SoC</mi><mi id="S2.SS1.p1.9.m9.1.1.2.3" xref="S2.SS1.p1.9.m9.1.1.2.3.cmml">t</mi><mi id="S2.SS1.p1.9.m9.1.1.3" xref="S2.SS1.p1.9.m9.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.9.m9.1b"><apply id="S2.SS1.p1.9.m9.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.9.m9.1.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1">superscript</csymbol><apply id="S2.SS1.p1.9.m9.1.1.2.cmml" xref="S2.SS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.9.m9.1.1.2.1.cmml" xref="S2.SS1.p1.9.m9.1.1">subscript</csymbol><ci id="S2.SS1.p1.9.m9.1.1.2.2.cmml" xref="S2.SS1.p1.9.m9.1.1.2.2">SoC</ci><ci id="S2.SS1.p1.9.m9.1.1.2.3.cmml" xref="S2.SS1.p1.9.m9.1.1.2.3">𝑡</ci></apply><ci id="S2.SS1.p1.9.m9.1.1.3.cmml" xref="S2.SS1.p1.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.9.m9.1c">\mathrm{SoC}_{t}^{i}</annotation></semantics></math> and <math id="S2.SS1.p1.10.m10.1" class="ltx_Math" alttext="\mathrm{SoC}_{t+1}^{i}" display="inline"><semantics id="S2.SS1.p1.10.m10.1a"><msubsup id="S2.SS1.p1.10.m10.1.1" xref="S2.SS1.p1.10.m10.1.1.cmml"><mi id="S2.SS1.p1.10.m10.1.1.2.2" xref="S2.SS1.p1.10.m10.1.1.2.2.cmml">SoC</mi><mrow id="S2.SS1.p1.10.m10.1.1.2.3" xref="S2.SS1.p1.10.m10.1.1.2.3.cmml"><mi id="S2.SS1.p1.10.m10.1.1.2.3.2" xref="S2.SS1.p1.10.m10.1.1.2.3.2.cmml">t</mi><mo id="S2.SS1.p1.10.m10.1.1.2.3.1" xref="S2.SS1.p1.10.m10.1.1.2.3.1.cmml">+</mo><mn id="S2.SS1.p1.10.m10.1.1.2.3.3" xref="S2.SS1.p1.10.m10.1.1.2.3.3.cmml">1</mn></mrow><mi id="S2.SS1.p1.10.m10.1.1.3" xref="S2.SS1.p1.10.m10.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.10.m10.1b"><apply id="S2.SS1.p1.10.m10.1.1.cmml" xref="S2.SS1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.10.m10.1.1.1.cmml" xref="S2.SS1.p1.10.m10.1.1">superscript</csymbol><apply id="S2.SS1.p1.10.m10.1.1.2.cmml" xref="S2.SS1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.10.m10.1.1.2.1.cmml" xref="S2.SS1.p1.10.m10.1.1">subscript</csymbol><ci id="S2.SS1.p1.10.m10.1.1.2.2.cmml" xref="S2.SS1.p1.10.m10.1.1.2.2">SoC</ci><apply id="S2.SS1.p1.10.m10.1.1.2.3.cmml" xref="S2.SS1.p1.10.m10.1.1.2.3"><plus id="S2.SS1.p1.10.m10.1.1.2.3.1.cmml" xref="S2.SS1.p1.10.m10.1.1.2.3.1"></plus><ci id="S2.SS1.p1.10.m10.1.1.2.3.2.cmml" xref="S2.SS1.p1.10.m10.1.1.2.3.2">𝑡</ci><cn type="integer" id="S2.SS1.p1.10.m10.1.1.2.3.3.cmml" xref="S2.SS1.p1.10.m10.1.1.2.3.3">1</cn></apply></apply><ci id="S2.SS1.p1.10.m10.1.1.3.cmml" xref="S2.SS1.p1.10.m10.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.10.m10.1c">\mathrm{SoC}_{t+1}^{i}</annotation></semantics></math>, respectively, then the dynamic of <math id="S2.SS1.p1.11.m11.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS1.p1.11.m11.1a"><mi id="S2.SS1.p1.11.m11.1.1" xref="S2.SS1.p1.11.m11.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.11.m11.1b"><ci id="S2.SS1.p1.11.m11.1.1.cmml" xref="S2.SS1.p1.11.m11.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.11.m11.1c">i</annotation></semantics></math>-th EV’s battery between time instants <math id="S2.SS1.p1.12.m12.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.SS1.p1.12.m12.1a"><mi id="S2.SS1.p1.12.m12.1.1" xref="S2.SS1.p1.12.m12.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.12.m12.1b"><ci id="S2.SS1.p1.12.m12.1.1.cmml" xref="S2.SS1.p1.12.m12.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.12.m12.1c">t</annotation></semantics></math> to <math id="S2.SS1.p1.13.m13.1" class="ltx_Math" alttext="t+1" display="inline"><semantics id="S2.SS1.p1.13.m13.1a"><mrow id="S2.SS1.p1.13.m13.1.1" xref="S2.SS1.p1.13.m13.1.1.cmml"><mi id="S2.SS1.p1.13.m13.1.1.2" xref="S2.SS1.p1.13.m13.1.1.2.cmml">t</mi><mo id="S2.SS1.p1.13.m13.1.1.1" xref="S2.SS1.p1.13.m13.1.1.1.cmml">+</mo><mn id="S2.SS1.p1.13.m13.1.1.3" xref="S2.SS1.p1.13.m13.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.13.m13.1b"><apply id="S2.SS1.p1.13.m13.1.1.cmml" xref="S2.SS1.p1.13.m13.1.1"><plus id="S2.SS1.p1.13.m13.1.1.1.cmml" xref="S2.SS1.p1.13.m13.1.1.1"></plus><ci id="S2.SS1.p1.13.m13.1.1.2.cmml" xref="S2.SS1.p1.13.m13.1.1.2">𝑡</ci><cn type="integer" id="S2.SS1.p1.13.m13.1.1.3.cmml" xref="S2.SS1.p1.13.m13.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.13.m13.1c">t+1</annotation></semantics></math> can be modeled as</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.3" class="ltx_Math" alttext="\mathrm{SoC}_{t+1}^{i}=\left\{\begin{array}[]{ll}\mathrm{SoC}_{t}^{i}&amp;t&lt;t_{a}^{i},\;t\geq t_{d}^{i},\\[3.41418pt]
\mathrm{SoC}_{t}^{i}+\eta\cdot a_{t}^{i}&amp;t_{a}^{i}\leq t&lt;t_{d}^{i},\\
\end{array}\right." display="block"><semantics id="S2.E1.m1.3a"><mrow id="S2.E1.m1.3.4" xref="S2.E1.m1.3.4.cmml"><msubsup id="S2.E1.m1.3.4.2" xref="S2.E1.m1.3.4.2.cmml"><mi id="S2.E1.m1.3.4.2.2.2" xref="S2.E1.m1.3.4.2.2.2.cmml">SoC</mi><mrow id="S2.E1.m1.3.4.2.2.3" xref="S2.E1.m1.3.4.2.2.3.cmml"><mi id="S2.E1.m1.3.4.2.2.3.2" xref="S2.E1.m1.3.4.2.2.3.2.cmml">t</mi><mo id="S2.E1.m1.3.4.2.2.3.1" xref="S2.E1.m1.3.4.2.2.3.1.cmml">+</mo><mn id="S2.E1.m1.3.4.2.2.3.3" xref="S2.E1.m1.3.4.2.2.3.3.cmml">1</mn></mrow><mi id="S2.E1.m1.3.4.2.3" xref="S2.E1.m1.3.4.2.3.cmml">i</mi></msubsup><mo id="S2.E1.m1.3.4.1" xref="S2.E1.m1.3.4.1.cmml">=</mo><mrow id="S2.E1.m1.3.4.3.2" xref="S2.E1.m1.3.4.3.1.cmml"><mo id="S2.E1.m1.3.4.3.2.1" xref="S2.E1.m1.3.4.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt" id="S2.E1.m1.3.3" xref="S2.E1.m1.3.3.cmml"><mtr id="S2.E1.m1.3.3a" xref="S2.E1.m1.3.3.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.3.3b" xref="S2.E1.m1.3.3.cmml"><msubsup id="S2.E1.m1.2.2.2.3.1" xref="S2.E1.m1.2.2.2.3.1.cmml"><mi id="S2.E1.m1.2.2.2.3.1.2.2" xref="S2.E1.m1.2.2.2.3.1.2.2.cmml">SoC</mi><mi id="S2.E1.m1.2.2.2.3.1.2.3" xref="S2.E1.m1.2.2.2.3.1.2.3.cmml">t</mi><mi id="S2.E1.m1.2.2.2.3.1.3" xref="S2.E1.m1.2.2.2.3.1.3.cmml">i</mi></msubsup></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.3.3c" xref="S2.E1.m1.3.3.cmml"><mrow id="S2.E1.m1.2.2.2.2.2.2" xref="S2.E1.m1.3.3.cmml"><mrow id="S2.E1.m1.2.2.2.2.2.2.1.2" xref="S2.E1.m1.2.2.2.2.2.2.1.3.cmml"><mrow id="S2.E1.m1.2.2.2.2.2.2.1.1.1" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.cmml"><mi id="S2.E1.m1.2.2.2.2.2.2.1.1.1.2" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.2.cmml">t</mi><mo id="S2.E1.m1.2.2.2.2.2.2.1.1.1.1" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.1.cmml">&lt;</mo><msubsup id="S2.E1.m1.2.2.2.2.2.2.1.1.1.3" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.cmml"><mi id="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.2.2" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.2.2.cmml">t</mi><mi id="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.2.3" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.2.3.cmml">a</mi><mi id="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.3" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.3.cmml">i</mi></msubsup></mrow><mo rspace="0.447em" id="S2.E1.m1.2.2.2.2.2.2.1.2.3" xref="S2.E1.m1.2.2.2.2.2.2.1.3a.cmml">,</mo><mrow id="S2.E1.m1.2.2.2.2.2.2.1.2.2" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.cmml"><mi id="S2.E1.m1.1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.cmml">t</mi><mo id="S2.E1.m1.2.2.2.2.2.2.1.2.2.1" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.1.cmml">≥</mo><msubsup id="S2.E1.m1.2.2.2.2.2.2.1.2.2.2" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.cmml"><mi id="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.2.2" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.2.2.cmml">t</mi><mi id="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.2.3" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.2.3.cmml">d</mi><mi id="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.3" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.3.cmml">i</mi></msubsup></mrow></mrow><mo id="S2.E1.m1.2.2.2.2.2.2.2" xref="S2.E1.m1.3.3.cmml">,</mo></mrow></mtd></mtr><mtr id="S2.E1.m1.3.3d" xref="S2.E1.m1.3.3.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.3.3e" xref="S2.E1.m1.3.3.cmml"><mrow id="S2.E1.m1.3.3.3.2.1" xref="S2.E1.m1.3.3.3.2.1.cmml"><msubsup id="S2.E1.m1.3.3.3.2.1.2" xref="S2.E1.m1.3.3.3.2.1.2.cmml"><mi id="S2.E1.m1.3.3.3.2.1.2.2.2" xref="S2.E1.m1.3.3.3.2.1.2.2.2.cmml">SoC</mi><mi id="S2.E1.m1.3.3.3.2.1.2.2.3" xref="S2.E1.m1.3.3.3.2.1.2.2.3.cmml">t</mi><mi id="S2.E1.m1.3.3.3.2.1.2.3" xref="S2.E1.m1.3.3.3.2.1.2.3.cmml">i</mi></msubsup><mo id="S2.E1.m1.3.3.3.2.1.1" xref="S2.E1.m1.3.3.3.2.1.1.cmml">+</mo><mrow id="S2.E1.m1.3.3.3.2.1.3" xref="S2.E1.m1.3.3.3.2.1.3.cmml"><mi id="S2.E1.m1.3.3.3.2.1.3.2" xref="S2.E1.m1.3.3.3.2.1.3.2.cmml">η</mi><mo lspace="0.222em" rspace="0.222em" id="S2.E1.m1.3.3.3.2.1.3.1" xref="S2.E1.m1.3.3.3.2.1.3.1.cmml">⋅</mo><msubsup id="S2.E1.m1.3.3.3.2.1.3.3" xref="S2.E1.m1.3.3.3.2.1.3.3.cmml"><mi id="S2.E1.m1.3.3.3.2.1.3.3.2.2" xref="S2.E1.m1.3.3.3.2.1.3.3.2.2.cmml">a</mi><mi id="S2.E1.m1.3.3.3.2.1.3.3.2.3" xref="S2.E1.m1.3.3.3.2.1.3.3.2.3.cmml">t</mi><mi id="S2.E1.m1.3.3.3.2.1.3.3.3" xref="S2.E1.m1.3.3.3.2.1.3.3.3.cmml">i</mi></msubsup></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.3.3f" xref="S2.E1.m1.3.3.cmml"><mrow id="S2.E1.m1.3.3.3.1.1.1" xref="S2.E1.m1.3.3.3.1.1.1.1.cmml"><mrow id="S2.E1.m1.3.3.3.1.1.1.1" xref="S2.E1.m1.3.3.3.1.1.1.1.cmml"><msubsup id="S2.E1.m1.3.3.3.1.1.1.1.2" xref="S2.E1.m1.3.3.3.1.1.1.1.2.cmml"><mi id="S2.E1.m1.3.3.3.1.1.1.1.2.2.2" xref="S2.E1.m1.3.3.3.1.1.1.1.2.2.2.cmml">t</mi><mi id="S2.E1.m1.3.3.3.1.1.1.1.2.2.3" xref="S2.E1.m1.3.3.3.1.1.1.1.2.2.3.cmml">a</mi><mi id="S2.E1.m1.3.3.3.1.1.1.1.2.3" xref="S2.E1.m1.3.3.3.1.1.1.1.2.3.cmml">i</mi></msubsup><mo id="S2.E1.m1.3.3.3.1.1.1.1.3" xref="S2.E1.m1.3.3.3.1.1.1.1.3.cmml">≤</mo><mi id="S2.E1.m1.3.3.3.1.1.1.1.4" xref="S2.E1.m1.3.3.3.1.1.1.1.4.cmml">t</mi><mo id="S2.E1.m1.3.3.3.1.1.1.1.5" xref="S2.E1.m1.3.3.3.1.1.1.1.5.cmml">&lt;</mo><msubsup id="S2.E1.m1.3.3.3.1.1.1.1.6" xref="S2.E1.m1.3.3.3.1.1.1.1.6.cmml"><mi id="S2.E1.m1.3.3.3.1.1.1.1.6.2.2" xref="S2.E1.m1.3.3.3.1.1.1.1.6.2.2.cmml">t</mi><mi id="S2.E1.m1.3.3.3.1.1.1.1.6.2.3" xref="S2.E1.m1.3.3.3.1.1.1.1.6.2.3.cmml">d</mi><mi id="S2.E1.m1.3.3.3.1.1.1.1.6.3" xref="S2.E1.m1.3.3.3.1.1.1.1.6.3.cmml">i</mi></msubsup></mrow><mo id="S2.E1.m1.3.3.3.1.1.1.2" xref="S2.E1.m1.3.3.3.1.1.1.1.cmml">,</mo></mrow></mtd></mtr></mtable><mi id="S2.E1.m1.3.4.3.2.2" xref="S2.E1.m1.3.4.3.1.1.cmml"></mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.3b"><apply id="S2.E1.m1.3.4.cmml" xref="S2.E1.m1.3.4"><eq id="S2.E1.m1.3.4.1.cmml" xref="S2.E1.m1.3.4.1"></eq><apply id="S2.E1.m1.3.4.2.cmml" xref="S2.E1.m1.3.4.2"><csymbol cd="ambiguous" id="S2.E1.m1.3.4.2.1.cmml" xref="S2.E1.m1.3.4.2">superscript</csymbol><apply id="S2.E1.m1.3.4.2.2.cmml" xref="S2.E1.m1.3.4.2"><csymbol cd="ambiguous" id="S2.E1.m1.3.4.2.2.1.cmml" xref="S2.E1.m1.3.4.2">subscript</csymbol><ci id="S2.E1.m1.3.4.2.2.2.cmml" xref="S2.E1.m1.3.4.2.2.2">SoC</ci><apply id="S2.E1.m1.3.4.2.2.3.cmml" xref="S2.E1.m1.3.4.2.2.3"><plus id="S2.E1.m1.3.4.2.2.3.1.cmml" xref="S2.E1.m1.3.4.2.2.3.1"></plus><ci id="S2.E1.m1.3.4.2.2.3.2.cmml" xref="S2.E1.m1.3.4.2.2.3.2">𝑡</ci><cn type="integer" id="S2.E1.m1.3.4.2.2.3.3.cmml" xref="S2.E1.m1.3.4.2.2.3.3">1</cn></apply></apply><ci id="S2.E1.m1.3.4.2.3.cmml" xref="S2.E1.m1.3.4.2.3">𝑖</ci></apply><apply id="S2.E1.m1.3.4.3.1.cmml" xref="S2.E1.m1.3.4.3.2"><csymbol cd="latexml" id="S2.E1.m1.3.4.3.1.1.cmml" xref="S2.E1.m1.3.4.3.2.1">cases</csymbol><matrix id="S2.E1.m1.3.3.cmml" xref="S2.E1.m1.3.3"><matrixrow id="S2.E1.m1.3.3a.cmml" xref="S2.E1.m1.3.3"><apply id="S2.E1.m1.2.2.2.3.1.cmml" xref="S2.E1.m1.2.2.2.3.1"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.3.1.1.cmml" xref="S2.E1.m1.2.2.2.3.1">superscript</csymbol><apply id="S2.E1.m1.2.2.2.3.1.2.cmml" xref="S2.E1.m1.2.2.2.3.1"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.3.1.2.1.cmml" xref="S2.E1.m1.2.2.2.3.1">subscript</csymbol><ci id="S2.E1.m1.2.2.2.3.1.2.2.cmml" xref="S2.E1.m1.2.2.2.3.1.2.2">SoC</ci><ci id="S2.E1.m1.2.2.2.3.1.2.3.cmml" xref="S2.E1.m1.2.2.2.3.1.2.3">𝑡</ci></apply><ci id="S2.E1.m1.2.2.2.3.1.3.cmml" xref="S2.E1.m1.2.2.2.3.1.3">𝑖</ci></apply><apply id="S2.E1.m1.2.2.2.2.2.2.1.3.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.2.2.2.1.3a.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.2.3">formulae-sequence</csymbol><apply id="S2.E1.m1.2.2.2.2.2.2.1.1.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1"><lt id="S2.E1.m1.2.2.2.2.2.2.1.1.1.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.1"></lt><ci id="S2.E1.m1.2.2.2.2.2.2.1.1.1.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.2">𝑡</ci><apply id="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.3">superscript</csymbol><apply id="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.2.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.3">subscript</csymbol><ci id="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.2.2">𝑡</ci><ci id="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.2.3.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.2.3">𝑎</ci></apply><ci id="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.3.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.1.1.3.3">𝑖</ci></apply></apply><apply id="S2.E1.m1.2.2.2.2.2.2.1.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2"><geq id="S2.E1.m1.2.2.2.2.2.2.1.2.2.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.1"></geq><ci id="S2.E1.m1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1">𝑡</ci><apply id="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.2">superscript</csymbol><apply id="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.2.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.2">subscript</csymbol><ci id="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.2.2">𝑡</ci><ci id="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.2.3">𝑑</ci></apply><ci id="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.2.2.2.1.2.2.2.3">𝑖</ci></apply></apply></apply></matrixrow><matrixrow id="S2.E1.m1.3.3b.cmml" xref="S2.E1.m1.3.3"><apply id="S2.E1.m1.3.3.3.2.1.cmml" xref="S2.E1.m1.3.3.3.2.1"><plus id="S2.E1.m1.3.3.3.2.1.1.cmml" xref="S2.E1.m1.3.3.3.2.1.1"></plus><apply id="S2.E1.m1.3.3.3.2.1.2.cmml" xref="S2.E1.m1.3.3.3.2.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.2.1.2.1.cmml" xref="S2.E1.m1.3.3.3.2.1.2">superscript</csymbol><apply id="S2.E1.m1.3.3.3.2.1.2.2.cmml" xref="S2.E1.m1.3.3.3.2.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.2.1.2.2.1.cmml" xref="S2.E1.m1.3.3.3.2.1.2">subscript</csymbol><ci id="S2.E1.m1.3.3.3.2.1.2.2.2.cmml" xref="S2.E1.m1.3.3.3.2.1.2.2.2">SoC</ci><ci id="S2.E1.m1.3.3.3.2.1.2.2.3.cmml" xref="S2.E1.m1.3.3.3.2.1.2.2.3">𝑡</ci></apply><ci id="S2.E1.m1.3.3.3.2.1.2.3.cmml" xref="S2.E1.m1.3.3.3.2.1.2.3">𝑖</ci></apply><apply id="S2.E1.m1.3.3.3.2.1.3.cmml" xref="S2.E1.m1.3.3.3.2.1.3"><ci id="S2.E1.m1.3.3.3.2.1.3.1.cmml" xref="S2.E1.m1.3.3.3.2.1.3.1">⋅</ci><ci id="S2.E1.m1.3.3.3.2.1.3.2.cmml" xref="S2.E1.m1.3.3.3.2.1.3.2">𝜂</ci><apply id="S2.E1.m1.3.3.3.2.1.3.3.cmml" xref="S2.E1.m1.3.3.3.2.1.3.3"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.2.1.3.3.1.cmml" xref="S2.E1.m1.3.3.3.2.1.3.3">superscript</csymbol><apply id="S2.E1.m1.3.3.3.2.1.3.3.2.cmml" xref="S2.E1.m1.3.3.3.2.1.3.3"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.2.1.3.3.2.1.cmml" xref="S2.E1.m1.3.3.3.2.1.3.3">subscript</csymbol><ci id="S2.E1.m1.3.3.3.2.1.3.3.2.2.cmml" xref="S2.E1.m1.3.3.3.2.1.3.3.2.2">𝑎</ci><ci id="S2.E1.m1.3.3.3.2.1.3.3.2.3.cmml" xref="S2.E1.m1.3.3.3.2.1.3.3.2.3">𝑡</ci></apply><ci id="S2.E1.m1.3.3.3.2.1.3.3.3.cmml" xref="S2.E1.m1.3.3.3.2.1.3.3.3">𝑖</ci></apply></apply></apply><apply id="S2.E1.m1.3.3.3.1.1.1.1.cmml" xref="S2.E1.m1.3.3.3.1.1.1"><and id="S2.E1.m1.3.3.3.1.1.1.1a.cmml" xref="S2.E1.m1.3.3.3.1.1.1"></and><apply id="S2.E1.m1.3.3.3.1.1.1.1b.cmml" xref="S2.E1.m1.3.3.3.1.1.1"><leq id="S2.E1.m1.3.3.3.1.1.1.1.3.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.3"></leq><apply id="S2.E1.m1.3.3.3.1.1.1.1.2.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.1.1.1.1.2.1.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.2">superscript</csymbol><apply id="S2.E1.m1.3.3.3.1.1.1.1.2.2.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.1.1.1.1.2.2.1.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.2">subscript</csymbol><ci id="S2.E1.m1.3.3.3.1.1.1.1.2.2.2.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.2.2.2">𝑡</ci><ci id="S2.E1.m1.3.3.3.1.1.1.1.2.2.3.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.2.2.3">𝑎</ci></apply><ci id="S2.E1.m1.3.3.3.1.1.1.1.2.3.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.2.3">𝑖</ci></apply><ci id="S2.E1.m1.3.3.3.1.1.1.1.4.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.4">𝑡</ci></apply><apply id="S2.E1.m1.3.3.3.1.1.1.1c.cmml" xref="S2.E1.m1.3.3.3.1.1.1"><lt id="S2.E1.m1.3.3.3.1.1.1.1.5.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.5"></lt><share href="#S2.E1.m1.3.3.3.1.1.1.1.4.cmml" id="S2.E1.m1.3.3.3.1.1.1.1d.cmml" xref="S2.E1.m1.3.3.3.1.1.1"></share><apply id="S2.E1.m1.3.3.3.1.1.1.1.6.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.6"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.1.1.1.1.6.1.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.6">superscript</csymbol><apply id="S2.E1.m1.3.3.3.1.1.1.1.6.2.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.6"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.1.1.1.1.6.2.1.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.6">subscript</csymbol><ci id="S2.E1.m1.3.3.3.1.1.1.1.6.2.2.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.6.2.2">𝑡</ci><ci id="S2.E1.m1.3.3.3.1.1.1.1.6.2.3.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.6.2.3">𝑑</ci></apply><ci id="S2.E1.m1.3.3.3.1.1.1.1.6.3.cmml" xref="S2.E1.m1.3.3.3.1.1.1.1.6.3">𝑖</ci></apply></apply></apply></matrixrow></matrix></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.3c">\mathrm{SoC}_{t+1}^{i}=\left\{\begin{array}[]{ll}\mathrm{SoC}_{t}^{i}&amp;t&lt;t_{a}^{i},\;t\geq t_{d}^{i},\\[3.41418pt]
\mathrm{SoC}_{t}^{i}+\eta\cdot a_{t}^{i}&amp;t_{a}^{i}\leq t&lt;t_{d}^{i},\\
\end{array}\right.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.SS1.p1.24" class="ltx_p">where <math id="S2.SS1.p1.14.m1.1" class="ltx_Math" alttext="a_{t}^{i}" display="inline"><semantics id="S2.SS1.p1.14.m1.1a"><msubsup id="S2.SS1.p1.14.m1.1.1" xref="S2.SS1.p1.14.m1.1.1.cmml"><mi id="S2.SS1.p1.14.m1.1.1.2.2" xref="S2.SS1.p1.14.m1.1.1.2.2.cmml">a</mi><mi id="S2.SS1.p1.14.m1.1.1.2.3" xref="S2.SS1.p1.14.m1.1.1.2.3.cmml">t</mi><mi id="S2.SS1.p1.14.m1.1.1.3" xref="S2.SS1.p1.14.m1.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.14.m1.1b"><apply id="S2.SS1.p1.14.m1.1.1.cmml" xref="S2.SS1.p1.14.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.14.m1.1.1.1.cmml" xref="S2.SS1.p1.14.m1.1.1">superscript</csymbol><apply id="S2.SS1.p1.14.m1.1.1.2.cmml" xref="S2.SS1.p1.14.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.14.m1.1.1.2.1.cmml" xref="S2.SS1.p1.14.m1.1.1">subscript</csymbol><ci id="S2.SS1.p1.14.m1.1.1.2.2.cmml" xref="S2.SS1.p1.14.m1.1.1.2.2">𝑎</ci><ci id="S2.SS1.p1.14.m1.1.1.2.3.cmml" xref="S2.SS1.p1.14.m1.1.1.2.3">𝑡</ci></apply><ci id="S2.SS1.p1.14.m1.1.1.3.cmml" xref="S2.SS1.p1.14.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.14.m1.1c">a_{t}^{i}</annotation></semantics></math> is the <math id="S2.SS1.p1.15.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS1.p1.15.m2.1a"><mi id="S2.SS1.p1.15.m2.1.1" xref="S2.SS1.p1.15.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.15.m2.1b"><ci id="S2.SS1.p1.15.m2.1.1.cmml" xref="S2.SS1.p1.15.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.15.m2.1c">i</annotation></semantics></math>-th EV’s total charging/discharging rate during the time interval <math id="S2.SS1.p1.16.m3.2" class="ltx_Math" alttext="[t,t+1)" display="inline"><semantics id="S2.SS1.p1.16.m3.2a"><mrow id="S2.SS1.p1.16.m3.2.2.1" xref="S2.SS1.p1.16.m3.2.2.2.cmml"><mo stretchy="false" id="S2.SS1.p1.16.m3.2.2.1.2" xref="S2.SS1.p1.16.m3.2.2.2.cmml">[</mo><mi id="S2.SS1.p1.16.m3.1.1" xref="S2.SS1.p1.16.m3.1.1.cmml">t</mi><mo id="S2.SS1.p1.16.m3.2.2.1.3" xref="S2.SS1.p1.16.m3.2.2.2.cmml">,</mo><mrow id="S2.SS1.p1.16.m3.2.2.1.1" xref="S2.SS1.p1.16.m3.2.2.1.1.cmml"><mi id="S2.SS1.p1.16.m3.2.2.1.1.2" xref="S2.SS1.p1.16.m3.2.2.1.1.2.cmml">t</mi><mo id="S2.SS1.p1.16.m3.2.2.1.1.1" xref="S2.SS1.p1.16.m3.2.2.1.1.1.cmml">+</mo><mn id="S2.SS1.p1.16.m3.2.2.1.1.3" xref="S2.SS1.p1.16.m3.2.2.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S2.SS1.p1.16.m3.2.2.1.4" xref="S2.SS1.p1.16.m3.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.16.m3.2b"><interval closure="closed-open" id="S2.SS1.p1.16.m3.2.2.2.cmml" xref="S2.SS1.p1.16.m3.2.2.1"><ci id="S2.SS1.p1.16.m3.1.1.cmml" xref="S2.SS1.p1.16.m3.1.1">𝑡</ci><apply id="S2.SS1.p1.16.m3.2.2.1.1.cmml" xref="S2.SS1.p1.16.m3.2.2.1.1"><plus id="S2.SS1.p1.16.m3.2.2.1.1.1.cmml" xref="S2.SS1.p1.16.m3.2.2.1.1.1"></plus><ci id="S2.SS1.p1.16.m3.2.2.1.1.2.cmml" xref="S2.SS1.p1.16.m3.2.2.1.1.2">𝑡</ci><cn type="integer" id="S2.SS1.p1.16.m3.2.2.1.1.3.cmml" xref="S2.SS1.p1.16.m3.2.2.1.1.3">1</cn></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.16.m3.2c">[t,t+1)</annotation></semantics></math>. We assume the EV is under either V2G (charging mode, <math id="S2.SS1.p1.17.m4.1" class="ltx_Math" alttext="a_{t}^{i}\geq 0" display="inline"><semantics id="S2.SS1.p1.17.m4.1a"><mrow id="S2.SS1.p1.17.m4.1.1" xref="S2.SS1.p1.17.m4.1.1.cmml"><msubsup id="S2.SS1.p1.17.m4.1.1.2" xref="S2.SS1.p1.17.m4.1.1.2.cmml"><mi id="S2.SS1.p1.17.m4.1.1.2.2.2" xref="S2.SS1.p1.17.m4.1.1.2.2.2.cmml">a</mi><mi id="S2.SS1.p1.17.m4.1.1.2.2.3" xref="S2.SS1.p1.17.m4.1.1.2.2.3.cmml">t</mi><mi id="S2.SS1.p1.17.m4.1.1.2.3" xref="S2.SS1.p1.17.m4.1.1.2.3.cmml">i</mi></msubsup><mo id="S2.SS1.p1.17.m4.1.1.1" xref="S2.SS1.p1.17.m4.1.1.1.cmml">≥</mo><mn id="S2.SS1.p1.17.m4.1.1.3" xref="S2.SS1.p1.17.m4.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.17.m4.1b"><apply id="S2.SS1.p1.17.m4.1.1.cmml" xref="S2.SS1.p1.17.m4.1.1"><geq id="S2.SS1.p1.17.m4.1.1.1.cmml" xref="S2.SS1.p1.17.m4.1.1.1"></geq><apply id="S2.SS1.p1.17.m4.1.1.2.cmml" xref="S2.SS1.p1.17.m4.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.17.m4.1.1.2.1.cmml" xref="S2.SS1.p1.17.m4.1.1.2">superscript</csymbol><apply id="S2.SS1.p1.17.m4.1.1.2.2.cmml" xref="S2.SS1.p1.17.m4.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.17.m4.1.1.2.2.1.cmml" xref="S2.SS1.p1.17.m4.1.1.2">subscript</csymbol><ci id="S2.SS1.p1.17.m4.1.1.2.2.2.cmml" xref="S2.SS1.p1.17.m4.1.1.2.2.2">𝑎</ci><ci id="S2.SS1.p1.17.m4.1.1.2.2.3.cmml" xref="S2.SS1.p1.17.m4.1.1.2.2.3">𝑡</ci></apply><ci id="S2.SS1.p1.17.m4.1.1.2.3.cmml" xref="S2.SS1.p1.17.m4.1.1.2.3">𝑖</ci></apply><cn type="integer" id="S2.SS1.p1.17.m4.1.1.3.cmml" xref="S2.SS1.p1.17.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.17.m4.1c">a_{t}^{i}\geq 0</annotation></semantics></math>) or G2V mode (discharging mode, <math id="S2.SS1.p1.18.m5.1" class="ltx_Math" alttext="a_{t}^{i}\leq 0" display="inline"><semantics id="S2.SS1.p1.18.m5.1a"><mrow id="S2.SS1.p1.18.m5.1.1" xref="S2.SS1.p1.18.m5.1.1.cmml"><msubsup id="S2.SS1.p1.18.m5.1.1.2" xref="S2.SS1.p1.18.m5.1.1.2.cmml"><mi id="S2.SS1.p1.18.m5.1.1.2.2.2" xref="S2.SS1.p1.18.m5.1.1.2.2.2.cmml">a</mi><mi id="S2.SS1.p1.18.m5.1.1.2.2.3" xref="S2.SS1.p1.18.m5.1.1.2.2.3.cmml">t</mi><mi id="S2.SS1.p1.18.m5.1.1.2.3" xref="S2.SS1.p1.18.m5.1.1.2.3.cmml">i</mi></msubsup><mo id="S2.SS1.p1.18.m5.1.1.1" xref="S2.SS1.p1.18.m5.1.1.1.cmml">≤</mo><mn id="S2.SS1.p1.18.m5.1.1.3" xref="S2.SS1.p1.18.m5.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.18.m5.1b"><apply id="S2.SS1.p1.18.m5.1.1.cmml" xref="S2.SS1.p1.18.m5.1.1"><leq id="S2.SS1.p1.18.m5.1.1.1.cmml" xref="S2.SS1.p1.18.m5.1.1.1"></leq><apply id="S2.SS1.p1.18.m5.1.1.2.cmml" xref="S2.SS1.p1.18.m5.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.18.m5.1.1.2.1.cmml" xref="S2.SS1.p1.18.m5.1.1.2">superscript</csymbol><apply id="S2.SS1.p1.18.m5.1.1.2.2.cmml" xref="S2.SS1.p1.18.m5.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.18.m5.1.1.2.2.1.cmml" xref="S2.SS1.p1.18.m5.1.1.2">subscript</csymbol><ci id="S2.SS1.p1.18.m5.1.1.2.2.2.cmml" xref="S2.SS1.p1.18.m5.1.1.2.2.2">𝑎</ci><ci id="S2.SS1.p1.18.m5.1.1.2.2.3.cmml" xref="S2.SS1.p1.18.m5.1.1.2.2.3">𝑡</ci></apply><ci id="S2.SS1.p1.18.m5.1.1.2.3.cmml" xref="S2.SS1.p1.18.m5.1.1.2.3">𝑖</ci></apply><cn type="integer" id="S2.SS1.p1.18.m5.1.1.3.cmml" xref="S2.SS1.p1.18.m5.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.18.m5.1c">a_{t}^{i}\leq 0</annotation></semantics></math>). Here, we also assume charging/discharging has the same efficiency <math id="S2.SS1.p1.19.m6.2" class="ltx_Math" alttext="\eta\in(0,1]" display="inline"><semantics id="S2.SS1.p1.19.m6.2a"><mrow id="S2.SS1.p1.19.m6.2.3" xref="S2.SS1.p1.19.m6.2.3.cmml"><mi id="S2.SS1.p1.19.m6.2.3.2" xref="S2.SS1.p1.19.m6.2.3.2.cmml">η</mi><mo id="S2.SS1.p1.19.m6.2.3.1" xref="S2.SS1.p1.19.m6.2.3.1.cmml">∈</mo><mrow id="S2.SS1.p1.19.m6.2.3.3.2" xref="S2.SS1.p1.19.m6.2.3.3.1.cmml"><mo stretchy="false" id="S2.SS1.p1.19.m6.2.3.3.2.1" xref="S2.SS1.p1.19.m6.2.3.3.1.cmml">(</mo><mn id="S2.SS1.p1.19.m6.1.1" xref="S2.SS1.p1.19.m6.1.1.cmml">0</mn><mo id="S2.SS1.p1.19.m6.2.3.3.2.2" xref="S2.SS1.p1.19.m6.2.3.3.1.cmml">,</mo><mn id="S2.SS1.p1.19.m6.2.2" xref="S2.SS1.p1.19.m6.2.2.cmml">1</mn><mo stretchy="false" id="S2.SS1.p1.19.m6.2.3.3.2.3" xref="S2.SS1.p1.19.m6.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.19.m6.2b"><apply id="S2.SS1.p1.19.m6.2.3.cmml" xref="S2.SS1.p1.19.m6.2.3"><in id="S2.SS1.p1.19.m6.2.3.1.cmml" xref="S2.SS1.p1.19.m6.2.3.1"></in><ci id="S2.SS1.p1.19.m6.2.3.2.cmml" xref="S2.SS1.p1.19.m6.2.3.2">𝜂</ci><interval closure="open-closed" id="S2.SS1.p1.19.m6.2.3.3.1.cmml" xref="S2.SS1.p1.19.m6.2.3.3.2"><cn type="integer" id="S2.SS1.p1.19.m6.1.1.cmml" xref="S2.SS1.p1.19.m6.1.1">0</cn><cn type="integer" id="S2.SS1.p1.19.m6.2.2.cmml" xref="S2.SS1.p1.19.m6.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.19.m6.2c">\eta\in(0,1]</annotation></semantics></math> in this paper. Besides, <math id="S2.SS1.p1.20.m7.1" class="ltx_Math" alttext="\mathrm{SoC}_{t}^{i}" display="inline"><semantics id="S2.SS1.p1.20.m7.1a"><msubsup id="S2.SS1.p1.20.m7.1.1" xref="S2.SS1.p1.20.m7.1.1.cmml"><mi id="S2.SS1.p1.20.m7.1.1.2.2" xref="S2.SS1.p1.20.m7.1.1.2.2.cmml">SoC</mi><mi id="S2.SS1.p1.20.m7.1.1.2.3" xref="S2.SS1.p1.20.m7.1.1.2.3.cmml">t</mi><mi id="S2.SS1.p1.20.m7.1.1.3" xref="S2.SS1.p1.20.m7.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.20.m7.1b"><apply id="S2.SS1.p1.20.m7.1.1.cmml" xref="S2.SS1.p1.20.m7.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.20.m7.1.1.1.cmml" xref="S2.SS1.p1.20.m7.1.1">superscript</csymbol><apply id="S2.SS1.p1.20.m7.1.1.2.cmml" xref="S2.SS1.p1.20.m7.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.20.m7.1.1.2.1.cmml" xref="S2.SS1.p1.20.m7.1.1">subscript</csymbol><ci id="S2.SS1.p1.20.m7.1.1.2.2.cmml" xref="S2.SS1.p1.20.m7.1.1.2.2">SoC</ci><ci id="S2.SS1.p1.20.m7.1.1.2.3.cmml" xref="S2.SS1.p1.20.m7.1.1.2.3">𝑡</ci></apply><ci id="S2.SS1.p1.20.m7.1.1.3.cmml" xref="S2.SS1.p1.20.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.20.m7.1c">\mathrm{SoC}_{t}^{i}</annotation></semantics></math> satisfies <math id="S2.SS1.p1.21.m8.2" class="ltx_Math" alttext="\mathrm{SoC}_{t}^{i}\in[0,1]" display="inline"><semantics id="S2.SS1.p1.21.m8.2a"><mrow id="S2.SS1.p1.21.m8.2.3" xref="S2.SS1.p1.21.m8.2.3.cmml"><msubsup id="S2.SS1.p1.21.m8.2.3.2" xref="S2.SS1.p1.21.m8.2.3.2.cmml"><mi id="S2.SS1.p1.21.m8.2.3.2.2.2" xref="S2.SS1.p1.21.m8.2.3.2.2.2.cmml">SoC</mi><mi id="S2.SS1.p1.21.m8.2.3.2.2.3" xref="S2.SS1.p1.21.m8.2.3.2.2.3.cmml">t</mi><mi id="S2.SS1.p1.21.m8.2.3.2.3" xref="S2.SS1.p1.21.m8.2.3.2.3.cmml">i</mi></msubsup><mo id="S2.SS1.p1.21.m8.2.3.1" xref="S2.SS1.p1.21.m8.2.3.1.cmml">∈</mo><mrow id="S2.SS1.p1.21.m8.2.3.3.2" xref="S2.SS1.p1.21.m8.2.3.3.1.cmml"><mo stretchy="false" id="S2.SS1.p1.21.m8.2.3.3.2.1" xref="S2.SS1.p1.21.m8.2.3.3.1.cmml">[</mo><mn id="S2.SS1.p1.21.m8.1.1" xref="S2.SS1.p1.21.m8.1.1.cmml">0</mn><mo id="S2.SS1.p1.21.m8.2.3.3.2.2" xref="S2.SS1.p1.21.m8.2.3.3.1.cmml">,</mo><mn id="S2.SS1.p1.21.m8.2.2" xref="S2.SS1.p1.21.m8.2.2.cmml">1</mn><mo stretchy="false" id="S2.SS1.p1.21.m8.2.3.3.2.3" xref="S2.SS1.p1.21.m8.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.21.m8.2b"><apply id="S2.SS1.p1.21.m8.2.3.cmml" xref="S2.SS1.p1.21.m8.2.3"><in id="S2.SS1.p1.21.m8.2.3.1.cmml" xref="S2.SS1.p1.21.m8.2.3.1"></in><apply id="S2.SS1.p1.21.m8.2.3.2.cmml" xref="S2.SS1.p1.21.m8.2.3.2"><csymbol cd="ambiguous" id="S2.SS1.p1.21.m8.2.3.2.1.cmml" xref="S2.SS1.p1.21.m8.2.3.2">superscript</csymbol><apply id="S2.SS1.p1.21.m8.2.3.2.2.cmml" xref="S2.SS1.p1.21.m8.2.3.2"><csymbol cd="ambiguous" id="S2.SS1.p1.21.m8.2.3.2.2.1.cmml" xref="S2.SS1.p1.21.m8.2.3.2">subscript</csymbol><ci id="S2.SS1.p1.21.m8.2.3.2.2.2.cmml" xref="S2.SS1.p1.21.m8.2.3.2.2.2">SoC</ci><ci id="S2.SS1.p1.21.m8.2.3.2.2.3.cmml" xref="S2.SS1.p1.21.m8.2.3.2.2.3">𝑡</ci></apply><ci id="S2.SS1.p1.21.m8.2.3.2.3.cmml" xref="S2.SS1.p1.21.m8.2.3.2.3">𝑖</ci></apply><interval closure="closed" id="S2.SS1.p1.21.m8.2.3.3.1.cmml" xref="S2.SS1.p1.21.m8.2.3.3.2"><cn type="integer" id="S2.SS1.p1.21.m8.1.1.cmml" xref="S2.SS1.p1.21.m8.1.1">0</cn><cn type="integer" id="S2.SS1.p1.21.m8.2.2.cmml" xref="S2.SS1.p1.21.m8.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.21.m8.2c">\mathrm{SoC}_{t}^{i}\in[0,1]</annotation></semantics></math> for all <math id="S2.SS1.p1.22.m9.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS1.p1.22.m9.1a"><mi id="S2.SS1.p1.22.m9.1.1" xref="S2.SS1.p1.22.m9.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.22.m9.1b"><ci id="S2.SS1.p1.22.m9.1.1.cmml" xref="S2.SS1.p1.22.m9.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.22.m9.1c">i</annotation></semantics></math> and <math id="S2.SS1.p1.23.m10.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.SS1.p1.23.m10.1a"><mi id="S2.SS1.p1.23.m10.1.1" xref="S2.SS1.p1.23.m10.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.23.m10.1b"><ci id="S2.SS1.p1.23.m10.1.1.cmml" xref="S2.SS1.p1.23.m10.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.23.m10.1c">t</annotation></semantics></math>, and the input <math id="S2.SS1.p1.24.m11.1" class="ltx_Math" alttext="a_{t}^{i}" display="inline"><semantics id="S2.SS1.p1.24.m11.1a"><msubsup id="S2.SS1.p1.24.m11.1.1" xref="S2.SS1.p1.24.m11.1.1.cmml"><mi id="S2.SS1.p1.24.m11.1.1.2.2" xref="S2.SS1.p1.24.m11.1.1.2.2.cmml">a</mi><mi id="S2.SS1.p1.24.m11.1.1.2.3" xref="S2.SS1.p1.24.m11.1.1.2.3.cmml">t</mi><mi id="S2.SS1.p1.24.m11.1.1.3" xref="S2.SS1.p1.24.m11.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.24.m11.1b"><apply id="S2.SS1.p1.24.m11.1.1.cmml" xref="S2.SS1.p1.24.m11.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.24.m11.1.1.1.cmml" xref="S2.SS1.p1.24.m11.1.1">superscript</csymbol><apply id="S2.SS1.p1.24.m11.1.1.2.cmml" xref="S2.SS1.p1.24.m11.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.24.m11.1.1.2.1.cmml" xref="S2.SS1.p1.24.m11.1.1">subscript</csymbol><ci id="S2.SS1.p1.24.m11.1.1.2.2.cmml" xref="S2.SS1.p1.24.m11.1.1.2.2">𝑎</ci><ci id="S2.SS1.p1.24.m11.1.1.2.3.cmml" xref="S2.SS1.p1.24.m11.1.1.2.3">𝑡</ci></apply><ci id="S2.SS1.p1.24.m11.1.1.3.cmml" xref="S2.SS1.p1.24.m11.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.24.m11.1c">a_{t}^{i}</annotation></semantics></math> is constrained by the charging infrastructure.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS2.4.1.1" class="ltx_text">II-B</span> </span><span id="S2.SS2.5.2" class="ltx_text ltx_font_italic">MDP Formulation</span>
</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.9" class="ltx_p">The EV charging/discharging control problem has the same form as the sequential decision-making problem, such that it can be regarded as a Markov decision process (MDP) with discrete steps. Let us consider EV users having different charging/discharging behaviors such that <math id="S2.SS2.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS2.p1.1.m1.1a"><mi id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">N</annotation></semantics></math> agents, respectively, interact with <math id="S2.SS2.p1.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS2.p1.2.m2.1a"><mi id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><ci id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">N</annotation></semantics></math> independent environments. The environments have different state transitions <math id="S2.SS2.p1.3.m3.1" class="ltx_Math" alttext="\{\mathds{P}_{i}\}_{i=1}^{N}" display="inline"><semantics id="S2.SS2.p1.3.m3.1a"><msubsup id="S2.SS2.p1.3.m3.1.1" xref="S2.SS2.p1.3.m3.1.1.cmml"><mrow id="S2.SS2.p1.3.m3.1.1.1.1.1" xref="S2.SS2.p1.3.m3.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.SS2.p1.3.m3.1.1.1.1.1.2" xref="S2.SS2.p1.3.m3.1.1.1.1.2.cmml">{</mo><msub id="S2.SS2.p1.3.m3.1.1.1.1.1.1" xref="S2.SS2.p1.3.m3.1.1.1.1.1.1.cmml"><mi id="S2.SS2.p1.3.m3.1.1.1.1.1.1.2" xref="S2.SS2.p1.3.m3.1.1.1.1.1.1.2.cmml">ℙ</mi><mi id="S2.SS2.p1.3.m3.1.1.1.1.1.1.3" xref="S2.SS2.p1.3.m3.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S2.SS2.p1.3.m3.1.1.1.1.1.3" xref="S2.SS2.p1.3.m3.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS2.p1.3.m3.1.1.1.3" xref="S2.SS2.p1.3.m3.1.1.1.3.cmml"><mi id="S2.SS2.p1.3.m3.1.1.1.3.2" xref="S2.SS2.p1.3.m3.1.1.1.3.2.cmml">i</mi><mo id="S2.SS2.p1.3.m3.1.1.1.3.1" xref="S2.SS2.p1.3.m3.1.1.1.3.1.cmml">=</mo><mn id="S2.SS2.p1.3.m3.1.1.1.3.3" xref="S2.SS2.p1.3.m3.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.SS2.p1.3.m3.1.1.3" xref="S2.SS2.p1.3.m3.1.1.3.cmml">N</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.3.m3.1b"><apply id="S2.SS2.p1.3.m3.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.3.m3.1.1.2.cmml" xref="S2.SS2.p1.3.m3.1.1">superscript</csymbol><apply id="S2.SS2.p1.3.m3.1.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.3.m3.1.1.1.2.cmml" xref="S2.SS2.p1.3.m3.1.1">subscript</csymbol><set id="S2.SS2.p1.3.m3.1.1.1.1.2.cmml" xref="S2.SS2.p1.3.m3.1.1.1.1.1"><apply id="S2.SS2.p1.3.m3.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.3.m3.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS2.p1.3.m3.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p1.3.m3.1.1.1.1.1.1.2">ℙ</ci><ci id="S2.SS2.p1.3.m3.1.1.1.1.1.1.3.cmml" xref="S2.SS2.p1.3.m3.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S2.SS2.p1.3.m3.1.1.1.3.cmml" xref="S2.SS2.p1.3.m3.1.1.1.3"><eq id="S2.SS2.p1.3.m3.1.1.1.3.1.cmml" xref="S2.SS2.p1.3.m3.1.1.1.3.1"></eq><ci id="S2.SS2.p1.3.m3.1.1.1.3.2.cmml" xref="S2.SS2.p1.3.m3.1.1.1.3.2">𝑖</ci><cn type="integer" id="S2.SS2.p1.3.m3.1.1.1.3.3.cmml" xref="S2.SS2.p1.3.m3.1.1.1.3.3">1</cn></apply></apply><ci id="S2.SS2.p1.3.m3.1.1.3.cmml" xref="S2.SS2.p1.3.m3.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.3.m3.1c">\{\mathds{P}_{i}\}_{i=1}^{N}</annotation></semantics></math> but the same state space <math id="S2.SS2.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{S}" display="inline"><semantics id="S2.SS2.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.4.m4.1.1" xref="S2.SS2.p1.4.m4.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.4.m4.1b"><ci id="S2.SS2.p1.4.m4.1.1.cmml" xref="S2.SS2.p1.4.m4.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.4.m4.1c">\mathcal{S}</annotation></semantics></math>, action space <math id="S2.SS2.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="S2.SS2.p1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.5.m5.1.1" xref="S2.SS2.p1.5.m5.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.5.m5.1b"><ci id="S2.SS2.p1.5.m5.1.1.cmml" xref="S2.SS2.p1.5.m5.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.5.m5.1c">\mathcal{A}</annotation></semantics></math>, reward function <math id="S2.SS2.p1.6.m6.1" class="ltx_Math" alttext="\mathcal{R}" display="inline"><semantics id="S2.SS2.p1.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.6.m6.1.1" xref="S2.SS2.p1.6.m6.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.6.m6.1b"><ci id="S2.SS2.p1.6.m6.1.1.cmml" xref="S2.SS2.p1.6.m6.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.6.m6.1c">\mathcal{R}</annotation></semantics></math> and discount factor <math id="S2.SS2.p1.7.m7.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S2.SS2.p1.7.m7.1a"><mi id="S2.SS2.p1.7.m7.1.1" xref="S2.SS2.p1.7.m7.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.7.m7.1b"><ci id="S2.SS2.p1.7.m7.1.1.cmml" xref="S2.SS2.p1.7.m7.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.7.m7.1c">\gamma</annotation></semantics></math>. Then the MDP of this problem can be denoted by <math id="S2.SS2.p1.8.m8.5" class="ltx_Math" alttext="\mathcal{M}_{i}=\langle\mathcal{S},\mathcal{A},\mathds{P}_{i},\mathcal{R},\gamma\rangle" display="inline"><semantics id="S2.SS2.p1.8.m8.5a"><mrow id="S2.SS2.p1.8.m8.5.5" xref="S2.SS2.p1.8.m8.5.5.cmml"><msub id="S2.SS2.p1.8.m8.5.5.3" xref="S2.SS2.p1.8.m8.5.5.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.8.m8.5.5.3.2" xref="S2.SS2.p1.8.m8.5.5.3.2.cmml">ℳ</mi><mi id="S2.SS2.p1.8.m8.5.5.3.3" xref="S2.SS2.p1.8.m8.5.5.3.3.cmml">i</mi></msub><mo id="S2.SS2.p1.8.m8.5.5.2" xref="S2.SS2.p1.8.m8.5.5.2.cmml">=</mo><mrow id="S2.SS2.p1.8.m8.5.5.1.1" xref="S2.SS2.p1.8.m8.5.5.1.2.cmml"><mo stretchy="false" id="S2.SS2.p1.8.m8.5.5.1.1.2" xref="S2.SS2.p1.8.m8.5.5.1.2.cmml">⟨</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.8.m8.1.1" xref="S2.SS2.p1.8.m8.1.1.cmml">𝒮</mi><mo id="S2.SS2.p1.8.m8.5.5.1.1.3" xref="S2.SS2.p1.8.m8.5.5.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.8.m8.2.2" xref="S2.SS2.p1.8.m8.2.2.cmml">𝒜</mi><mo id="S2.SS2.p1.8.m8.5.5.1.1.4" xref="S2.SS2.p1.8.m8.5.5.1.2.cmml">,</mo><msub id="S2.SS2.p1.8.m8.5.5.1.1.1" xref="S2.SS2.p1.8.m8.5.5.1.1.1.cmml"><mi id="S2.SS2.p1.8.m8.5.5.1.1.1.2" xref="S2.SS2.p1.8.m8.5.5.1.1.1.2.cmml">ℙ</mi><mi id="S2.SS2.p1.8.m8.5.5.1.1.1.3" xref="S2.SS2.p1.8.m8.5.5.1.1.1.3.cmml">i</mi></msub><mo id="S2.SS2.p1.8.m8.5.5.1.1.5" xref="S2.SS2.p1.8.m8.5.5.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.8.m8.3.3" xref="S2.SS2.p1.8.m8.3.3.cmml">ℛ</mi><mo id="S2.SS2.p1.8.m8.5.5.1.1.6" xref="S2.SS2.p1.8.m8.5.5.1.2.cmml">,</mo><mi id="S2.SS2.p1.8.m8.4.4" xref="S2.SS2.p1.8.m8.4.4.cmml">γ</mi><mo stretchy="false" id="S2.SS2.p1.8.m8.5.5.1.1.7" xref="S2.SS2.p1.8.m8.5.5.1.2.cmml">⟩</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.8.m8.5b"><apply id="S2.SS2.p1.8.m8.5.5.cmml" xref="S2.SS2.p1.8.m8.5.5"><eq id="S2.SS2.p1.8.m8.5.5.2.cmml" xref="S2.SS2.p1.8.m8.5.5.2"></eq><apply id="S2.SS2.p1.8.m8.5.5.3.cmml" xref="S2.SS2.p1.8.m8.5.5.3"><csymbol cd="ambiguous" id="S2.SS2.p1.8.m8.5.5.3.1.cmml" xref="S2.SS2.p1.8.m8.5.5.3">subscript</csymbol><ci id="S2.SS2.p1.8.m8.5.5.3.2.cmml" xref="S2.SS2.p1.8.m8.5.5.3.2">ℳ</ci><ci id="S2.SS2.p1.8.m8.5.5.3.3.cmml" xref="S2.SS2.p1.8.m8.5.5.3.3">𝑖</ci></apply><list id="S2.SS2.p1.8.m8.5.5.1.2.cmml" xref="S2.SS2.p1.8.m8.5.5.1.1"><ci id="S2.SS2.p1.8.m8.1.1.cmml" xref="S2.SS2.p1.8.m8.1.1">𝒮</ci><ci id="S2.SS2.p1.8.m8.2.2.cmml" xref="S2.SS2.p1.8.m8.2.2">𝒜</ci><apply id="S2.SS2.p1.8.m8.5.5.1.1.1.cmml" xref="S2.SS2.p1.8.m8.5.5.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.8.m8.5.5.1.1.1.1.cmml" xref="S2.SS2.p1.8.m8.5.5.1.1.1">subscript</csymbol><ci id="S2.SS2.p1.8.m8.5.5.1.1.1.2.cmml" xref="S2.SS2.p1.8.m8.5.5.1.1.1.2">ℙ</ci><ci id="S2.SS2.p1.8.m8.5.5.1.1.1.3.cmml" xref="S2.SS2.p1.8.m8.5.5.1.1.1.3">𝑖</ci></apply><ci id="S2.SS2.p1.8.m8.3.3.cmml" xref="S2.SS2.p1.8.m8.3.3">ℛ</ci><ci id="S2.SS2.p1.8.m8.4.4.cmml" xref="S2.SS2.p1.8.m8.4.4">𝛾</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.8.m8.5c">\mathcal{M}_{i}=\langle\mathcal{S},\mathcal{A},\mathds{P}_{i},\mathcal{R},\gamma\rangle</annotation></semantics></math>, for all <math id="S2.SS2.p1.9.m9.4" class="ltx_Math" alttext="i=\{1,2,\cdots,N\}" display="inline"><semantics id="S2.SS2.p1.9.m9.4a"><mrow id="S2.SS2.p1.9.m9.4.5" xref="S2.SS2.p1.9.m9.4.5.cmml"><mi id="S2.SS2.p1.9.m9.4.5.2" xref="S2.SS2.p1.9.m9.4.5.2.cmml">i</mi><mo id="S2.SS2.p1.9.m9.4.5.1" xref="S2.SS2.p1.9.m9.4.5.1.cmml">=</mo><mrow id="S2.SS2.p1.9.m9.4.5.3.2" xref="S2.SS2.p1.9.m9.4.5.3.1.cmml"><mo stretchy="false" id="S2.SS2.p1.9.m9.4.5.3.2.1" xref="S2.SS2.p1.9.m9.4.5.3.1.cmml">{</mo><mn id="S2.SS2.p1.9.m9.1.1" xref="S2.SS2.p1.9.m9.1.1.cmml">1</mn><mo id="S2.SS2.p1.9.m9.4.5.3.2.2" xref="S2.SS2.p1.9.m9.4.5.3.1.cmml">,</mo><mn id="S2.SS2.p1.9.m9.2.2" xref="S2.SS2.p1.9.m9.2.2.cmml">2</mn><mo id="S2.SS2.p1.9.m9.4.5.3.2.3" xref="S2.SS2.p1.9.m9.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="S2.SS2.p1.9.m9.3.3" xref="S2.SS2.p1.9.m9.3.3.cmml">⋯</mi><mo id="S2.SS2.p1.9.m9.4.5.3.2.4" xref="S2.SS2.p1.9.m9.4.5.3.1.cmml">,</mo><mi id="S2.SS2.p1.9.m9.4.4" xref="S2.SS2.p1.9.m9.4.4.cmml">N</mi><mo stretchy="false" id="S2.SS2.p1.9.m9.4.5.3.2.5" xref="S2.SS2.p1.9.m9.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.9.m9.4b"><apply id="S2.SS2.p1.9.m9.4.5.cmml" xref="S2.SS2.p1.9.m9.4.5"><eq id="S2.SS2.p1.9.m9.4.5.1.cmml" xref="S2.SS2.p1.9.m9.4.5.1"></eq><ci id="S2.SS2.p1.9.m9.4.5.2.cmml" xref="S2.SS2.p1.9.m9.4.5.2">𝑖</ci><set id="S2.SS2.p1.9.m9.4.5.3.1.cmml" xref="S2.SS2.p1.9.m9.4.5.3.2"><cn type="integer" id="S2.SS2.p1.9.m9.1.1.cmml" xref="S2.SS2.p1.9.m9.1.1">1</cn><cn type="integer" id="S2.SS2.p1.9.m9.2.2.cmml" xref="S2.SS2.p1.9.m9.2.2">2</cn><ci id="S2.SS2.p1.9.m9.3.3.cmml" xref="S2.SS2.p1.9.m9.3.3">⋯</ci><ci id="S2.SS2.p1.9.m9.4.4.cmml" xref="S2.SS2.p1.9.m9.4.4">𝑁</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.9.m9.4c">i=\{1,2,\cdots,N\}</annotation></semantics></math>.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.10" class="ltx_p"><em id="S2.SS2.p2.10.1" class="ltx_emph ltx_font_italic">1) State:</em> As the input of the charging/discharging control strategy, the environment state is used to generate a real-time charging/discharging action. For agent <math id="S2.SS2.p2.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS2.p2.1.m1.1a"><mi id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.1b"><ci id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.1c">i</annotation></semantics></math>, the state <math id="S2.SS2.p2.2.m2.1" class="ltx_Math" alttext="s_{t}^{i}\in\mathcal{R}^{n+6}" display="inline"><semantics id="S2.SS2.p2.2.m2.1a"><mrow id="S2.SS2.p2.2.m2.1.1" xref="S2.SS2.p2.2.m2.1.1.cmml"><msubsup id="S2.SS2.p2.2.m2.1.1.2" xref="S2.SS2.p2.2.m2.1.1.2.cmml"><mi id="S2.SS2.p2.2.m2.1.1.2.2.2" xref="S2.SS2.p2.2.m2.1.1.2.2.2.cmml">s</mi><mi id="S2.SS2.p2.2.m2.1.1.2.2.3" xref="S2.SS2.p2.2.m2.1.1.2.2.3.cmml">t</mi><mi id="S2.SS2.p2.2.m2.1.1.2.3" xref="S2.SS2.p2.2.m2.1.1.2.3.cmml">i</mi></msubsup><mo id="S2.SS2.p2.2.m2.1.1.1" xref="S2.SS2.p2.2.m2.1.1.1.cmml">∈</mo><msup id="S2.SS2.p2.2.m2.1.1.3" xref="S2.SS2.p2.2.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p2.2.m2.1.1.3.2" xref="S2.SS2.p2.2.m2.1.1.3.2.cmml">ℛ</mi><mrow id="S2.SS2.p2.2.m2.1.1.3.3" xref="S2.SS2.p2.2.m2.1.1.3.3.cmml"><mi id="S2.SS2.p2.2.m2.1.1.3.3.2" xref="S2.SS2.p2.2.m2.1.1.3.3.2.cmml">n</mi><mo id="S2.SS2.p2.2.m2.1.1.3.3.1" xref="S2.SS2.p2.2.m2.1.1.3.3.1.cmml">+</mo><mn id="S2.SS2.p2.2.m2.1.1.3.3.3" xref="S2.SS2.p2.2.m2.1.1.3.3.3.cmml">6</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.2.m2.1b"><apply id="S2.SS2.p2.2.m2.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1"><in id="S2.SS2.p2.2.m2.1.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1.1"></in><apply id="S2.SS2.p2.2.m2.1.1.2.cmml" xref="S2.SS2.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p2.2.m2.1.1.2.1.cmml" xref="S2.SS2.p2.2.m2.1.1.2">superscript</csymbol><apply id="S2.SS2.p2.2.m2.1.1.2.2.cmml" xref="S2.SS2.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p2.2.m2.1.1.2.2.1.cmml" xref="S2.SS2.p2.2.m2.1.1.2">subscript</csymbol><ci id="S2.SS2.p2.2.m2.1.1.2.2.2.cmml" xref="S2.SS2.p2.2.m2.1.1.2.2.2">𝑠</ci><ci id="S2.SS2.p2.2.m2.1.1.2.2.3.cmml" xref="S2.SS2.p2.2.m2.1.1.2.2.3">𝑡</ci></apply><ci id="S2.SS2.p2.2.m2.1.1.2.3.cmml" xref="S2.SS2.p2.2.m2.1.1.2.3">𝑖</ci></apply><apply id="S2.SS2.p2.2.m2.1.1.3.cmml" xref="S2.SS2.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p2.2.m2.1.1.3.1.cmml" xref="S2.SS2.p2.2.m2.1.1.3">superscript</csymbol><ci id="S2.SS2.p2.2.m2.1.1.3.2.cmml" xref="S2.SS2.p2.2.m2.1.1.3.2">ℛ</ci><apply id="S2.SS2.p2.2.m2.1.1.3.3.cmml" xref="S2.SS2.p2.2.m2.1.1.3.3"><plus id="S2.SS2.p2.2.m2.1.1.3.3.1.cmml" xref="S2.SS2.p2.2.m2.1.1.3.3.1"></plus><ci id="S2.SS2.p2.2.m2.1.1.3.3.2.cmml" xref="S2.SS2.p2.2.m2.1.1.3.3.2">𝑛</ci><cn type="integer" id="S2.SS2.p2.2.m2.1.1.3.3.3.cmml" xref="S2.SS2.p2.2.m2.1.1.3.3.3">6</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.2.m2.1c">s_{t}^{i}\in\mathcal{R}^{n+6}</annotation></semantics></math> at time <math id="S2.SS2.p2.3.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.SS2.p2.3.m3.1a"><mi id="S2.SS2.p2.3.m3.1.1" xref="S2.SS2.p2.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.3.m3.1b"><ci id="S2.SS2.p2.3.m3.1.1.cmml" xref="S2.SS2.p2.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.3.m3.1c">t</annotation></semantics></math> includes the current and the past <math id="S2.SS2.p2.4.m4.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S2.SS2.p2.4.m4.1a"><mi id="S2.SS2.p2.4.m4.1.1" xref="S2.SS2.p2.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.4.m4.1b"><ci id="S2.SS2.p2.4.m4.1.1.cmml" xref="S2.SS2.p2.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.4.m4.1c">n</annotation></semantics></math> hours’ electricity price <math id="S2.SS2.p2.5.m5.4" class="ltx_Math" alttext="(\psi_{t-n},\psi_{t-n+1},\cdots,\psi_{t})\in\mathcal{R}^{n+1}" display="inline"><semantics id="S2.SS2.p2.5.m5.4a"><mrow id="S2.SS2.p2.5.m5.4.4" xref="S2.SS2.p2.5.m5.4.4.cmml"><mrow id="S2.SS2.p2.5.m5.4.4.3.3" xref="S2.SS2.p2.5.m5.4.4.3.4.cmml"><mo stretchy="false" id="S2.SS2.p2.5.m5.4.4.3.3.4" xref="S2.SS2.p2.5.m5.4.4.3.4.cmml">(</mo><msub id="S2.SS2.p2.5.m5.2.2.1.1.1" xref="S2.SS2.p2.5.m5.2.2.1.1.1.cmml"><mi id="S2.SS2.p2.5.m5.2.2.1.1.1.2" xref="S2.SS2.p2.5.m5.2.2.1.1.1.2.cmml">ψ</mi><mrow id="S2.SS2.p2.5.m5.2.2.1.1.1.3" xref="S2.SS2.p2.5.m5.2.2.1.1.1.3.cmml"><mi id="S2.SS2.p2.5.m5.2.2.1.1.1.3.2" xref="S2.SS2.p2.5.m5.2.2.1.1.1.3.2.cmml">t</mi><mo id="S2.SS2.p2.5.m5.2.2.1.1.1.3.1" xref="S2.SS2.p2.5.m5.2.2.1.1.1.3.1.cmml">−</mo><mi id="S2.SS2.p2.5.m5.2.2.1.1.1.3.3" xref="S2.SS2.p2.5.m5.2.2.1.1.1.3.3.cmml">n</mi></mrow></msub><mo id="S2.SS2.p2.5.m5.4.4.3.3.5" xref="S2.SS2.p2.5.m5.4.4.3.4.cmml">,</mo><msub id="S2.SS2.p2.5.m5.3.3.2.2.2" xref="S2.SS2.p2.5.m5.3.3.2.2.2.cmml"><mi id="S2.SS2.p2.5.m5.3.3.2.2.2.2" xref="S2.SS2.p2.5.m5.3.3.2.2.2.2.cmml">ψ</mi><mrow id="S2.SS2.p2.5.m5.3.3.2.2.2.3" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.cmml"><mrow id="S2.SS2.p2.5.m5.3.3.2.2.2.3.2" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.cmml"><mi id="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.2" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.2.cmml">t</mi><mo id="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.1" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.1.cmml">−</mo><mi id="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.3" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.3.cmml">n</mi></mrow><mo id="S2.SS2.p2.5.m5.3.3.2.2.2.3.1" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.1.cmml">+</mo><mn id="S2.SS2.p2.5.m5.3.3.2.2.2.3.3" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S2.SS2.p2.5.m5.4.4.3.3.6" xref="S2.SS2.p2.5.m5.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S2.SS2.p2.5.m5.1.1" xref="S2.SS2.p2.5.m5.1.1.cmml">⋯</mi><mo id="S2.SS2.p2.5.m5.4.4.3.3.7" xref="S2.SS2.p2.5.m5.4.4.3.4.cmml">,</mo><msub id="S2.SS2.p2.5.m5.4.4.3.3.3" xref="S2.SS2.p2.5.m5.4.4.3.3.3.cmml"><mi id="S2.SS2.p2.5.m5.4.4.3.3.3.2" xref="S2.SS2.p2.5.m5.4.4.3.3.3.2.cmml">ψ</mi><mi id="S2.SS2.p2.5.m5.4.4.3.3.3.3" xref="S2.SS2.p2.5.m5.4.4.3.3.3.3.cmml">t</mi></msub><mo stretchy="false" id="S2.SS2.p2.5.m5.4.4.3.3.8" xref="S2.SS2.p2.5.m5.4.4.3.4.cmml">)</mo></mrow><mo id="S2.SS2.p2.5.m5.4.4.4" xref="S2.SS2.p2.5.m5.4.4.4.cmml">∈</mo><msup id="S2.SS2.p2.5.m5.4.4.5" xref="S2.SS2.p2.5.m5.4.4.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p2.5.m5.4.4.5.2" xref="S2.SS2.p2.5.m5.4.4.5.2.cmml">ℛ</mi><mrow id="S2.SS2.p2.5.m5.4.4.5.3" xref="S2.SS2.p2.5.m5.4.4.5.3.cmml"><mi id="S2.SS2.p2.5.m5.4.4.5.3.2" xref="S2.SS2.p2.5.m5.4.4.5.3.2.cmml">n</mi><mo id="S2.SS2.p2.5.m5.4.4.5.3.1" xref="S2.SS2.p2.5.m5.4.4.5.3.1.cmml">+</mo><mn id="S2.SS2.p2.5.m5.4.4.5.3.3" xref="S2.SS2.p2.5.m5.4.4.5.3.3.cmml">1</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.5.m5.4b"><apply id="S2.SS2.p2.5.m5.4.4.cmml" xref="S2.SS2.p2.5.m5.4.4"><in id="S2.SS2.p2.5.m5.4.4.4.cmml" xref="S2.SS2.p2.5.m5.4.4.4"></in><vector id="S2.SS2.p2.5.m5.4.4.3.4.cmml" xref="S2.SS2.p2.5.m5.4.4.3.3"><apply id="S2.SS2.p2.5.m5.2.2.1.1.1.cmml" xref="S2.SS2.p2.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.5.m5.2.2.1.1.1.1.cmml" xref="S2.SS2.p2.5.m5.2.2.1.1.1">subscript</csymbol><ci id="S2.SS2.p2.5.m5.2.2.1.1.1.2.cmml" xref="S2.SS2.p2.5.m5.2.2.1.1.1.2">𝜓</ci><apply id="S2.SS2.p2.5.m5.2.2.1.1.1.3.cmml" xref="S2.SS2.p2.5.m5.2.2.1.1.1.3"><minus id="S2.SS2.p2.5.m5.2.2.1.1.1.3.1.cmml" xref="S2.SS2.p2.5.m5.2.2.1.1.1.3.1"></minus><ci id="S2.SS2.p2.5.m5.2.2.1.1.1.3.2.cmml" xref="S2.SS2.p2.5.m5.2.2.1.1.1.3.2">𝑡</ci><ci id="S2.SS2.p2.5.m5.2.2.1.1.1.3.3.cmml" xref="S2.SS2.p2.5.m5.2.2.1.1.1.3.3">𝑛</ci></apply></apply><apply id="S2.SS2.p2.5.m5.3.3.2.2.2.cmml" xref="S2.SS2.p2.5.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.p2.5.m5.3.3.2.2.2.1.cmml" xref="S2.SS2.p2.5.m5.3.3.2.2.2">subscript</csymbol><ci id="S2.SS2.p2.5.m5.3.3.2.2.2.2.cmml" xref="S2.SS2.p2.5.m5.3.3.2.2.2.2">𝜓</ci><apply id="S2.SS2.p2.5.m5.3.3.2.2.2.3.cmml" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3"><plus id="S2.SS2.p2.5.m5.3.3.2.2.2.3.1.cmml" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.1"></plus><apply id="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.cmml" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.2"><minus id="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.1.cmml" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.1"></minus><ci id="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.2.cmml" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.2">𝑡</ci><ci id="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.3.cmml" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.2.3">𝑛</ci></apply><cn type="integer" id="S2.SS2.p2.5.m5.3.3.2.2.2.3.3.cmml" xref="S2.SS2.p2.5.m5.3.3.2.2.2.3.3">1</cn></apply></apply><ci id="S2.SS2.p2.5.m5.1.1.cmml" xref="S2.SS2.p2.5.m5.1.1">⋯</ci><apply id="S2.SS2.p2.5.m5.4.4.3.3.3.cmml" xref="S2.SS2.p2.5.m5.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.SS2.p2.5.m5.4.4.3.3.3.1.cmml" xref="S2.SS2.p2.5.m5.4.4.3.3.3">subscript</csymbol><ci id="S2.SS2.p2.5.m5.4.4.3.3.3.2.cmml" xref="S2.SS2.p2.5.m5.4.4.3.3.3.2">𝜓</ci><ci id="S2.SS2.p2.5.m5.4.4.3.3.3.3.cmml" xref="S2.SS2.p2.5.m5.4.4.3.3.3.3">𝑡</ci></apply></vector><apply id="S2.SS2.p2.5.m5.4.4.5.cmml" xref="S2.SS2.p2.5.m5.4.4.5"><csymbol cd="ambiguous" id="S2.SS2.p2.5.m5.4.4.5.1.cmml" xref="S2.SS2.p2.5.m5.4.4.5">superscript</csymbol><ci id="S2.SS2.p2.5.m5.4.4.5.2.cmml" xref="S2.SS2.p2.5.m5.4.4.5.2">ℛ</ci><apply id="S2.SS2.p2.5.m5.4.4.5.3.cmml" xref="S2.SS2.p2.5.m5.4.4.5.3"><plus id="S2.SS2.p2.5.m5.4.4.5.3.1.cmml" xref="S2.SS2.p2.5.m5.4.4.5.3.1"></plus><ci id="S2.SS2.p2.5.m5.4.4.5.3.2.cmml" xref="S2.SS2.p2.5.m5.4.4.5.3.2">𝑛</ci><cn type="integer" id="S2.SS2.p2.5.m5.4.4.5.3.3.cmml" xref="S2.SS2.p2.5.m5.4.4.5.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.5.m5.4c">(\psi_{t-n},\psi_{t-n+1},\cdots,\psi_{t})\in\mathcal{R}^{n+1}</annotation></semantics></math>, the departure time <math id="S2.SS2.p2.6.m6.1" class="ltx_Math" alttext="t_{d}^{i}" display="inline"><semantics id="S2.SS2.p2.6.m6.1a"><msubsup id="S2.SS2.p2.6.m6.1.1" xref="S2.SS2.p2.6.m6.1.1.cmml"><mi id="S2.SS2.p2.6.m6.1.1.2.2" xref="S2.SS2.p2.6.m6.1.1.2.2.cmml">t</mi><mi id="S2.SS2.p2.6.m6.1.1.2.3" xref="S2.SS2.p2.6.m6.1.1.2.3.cmml">d</mi><mi id="S2.SS2.p2.6.m6.1.1.3" xref="S2.SS2.p2.6.m6.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.6.m6.1b"><apply id="S2.SS2.p2.6.m6.1.1.cmml" xref="S2.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.6.m6.1.1.1.cmml" xref="S2.SS2.p2.6.m6.1.1">superscript</csymbol><apply id="S2.SS2.p2.6.m6.1.1.2.cmml" xref="S2.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.6.m6.1.1.2.1.cmml" xref="S2.SS2.p2.6.m6.1.1">subscript</csymbol><ci id="S2.SS2.p2.6.m6.1.1.2.2.cmml" xref="S2.SS2.p2.6.m6.1.1.2.2">𝑡</ci><ci id="S2.SS2.p2.6.m6.1.1.2.3.cmml" xref="S2.SS2.p2.6.m6.1.1.2.3">𝑑</ci></apply><ci id="S2.SS2.p2.6.m6.1.1.3.cmml" xref="S2.SS2.p2.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.6.m6.1c">t_{d}^{i}</annotation></semantics></math>, the anxious time <math id="S2.SS2.p2.7.m7.1" class="ltx_Math" alttext="t_{x}^{i}" display="inline"><semantics id="S2.SS2.p2.7.m7.1a"><msubsup id="S2.SS2.p2.7.m7.1.1" xref="S2.SS2.p2.7.m7.1.1.cmml"><mi id="S2.SS2.p2.7.m7.1.1.2.2" xref="S2.SS2.p2.7.m7.1.1.2.2.cmml">t</mi><mi id="S2.SS2.p2.7.m7.1.1.2.3" xref="S2.SS2.p2.7.m7.1.1.2.3.cmml">x</mi><mi id="S2.SS2.p2.7.m7.1.1.3" xref="S2.SS2.p2.7.m7.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.7.m7.1b"><apply id="S2.SS2.p2.7.m7.1.1.cmml" xref="S2.SS2.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.7.m7.1.1.1.cmml" xref="S2.SS2.p2.7.m7.1.1">superscript</csymbol><apply id="S2.SS2.p2.7.m7.1.1.2.cmml" xref="S2.SS2.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.7.m7.1.1.2.1.cmml" xref="S2.SS2.p2.7.m7.1.1">subscript</csymbol><ci id="S2.SS2.p2.7.m7.1.1.2.2.cmml" xref="S2.SS2.p2.7.m7.1.1.2.2">𝑡</ci><ci id="S2.SS2.p2.7.m7.1.1.2.3.cmml" xref="S2.SS2.p2.7.m7.1.1.2.3">𝑥</ci></apply><ci id="S2.SS2.p2.7.m7.1.1.3.cmml" xref="S2.SS2.p2.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.7.m7.1c">t_{x}^{i}</annotation></semantics></math>, the current <math id="S2.SS2.p2.8.m8.1" class="ltx_Math" alttext="\mathrm{SoC}_{t}^{i}" display="inline"><semantics id="S2.SS2.p2.8.m8.1a"><msubsup id="S2.SS2.p2.8.m8.1.1" xref="S2.SS2.p2.8.m8.1.1.cmml"><mi id="S2.SS2.p2.8.m8.1.1.2.2" xref="S2.SS2.p2.8.m8.1.1.2.2.cmml">SoC</mi><mi id="S2.SS2.p2.8.m8.1.1.2.3" xref="S2.SS2.p2.8.m8.1.1.2.3.cmml">t</mi><mi id="S2.SS2.p2.8.m8.1.1.3" xref="S2.SS2.p2.8.m8.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.8.m8.1b"><apply id="S2.SS2.p2.8.m8.1.1.cmml" xref="S2.SS2.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.8.m8.1.1.1.cmml" xref="S2.SS2.p2.8.m8.1.1">superscript</csymbol><apply id="S2.SS2.p2.8.m8.1.1.2.cmml" xref="S2.SS2.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.8.m8.1.1.2.1.cmml" xref="S2.SS2.p2.8.m8.1.1">subscript</csymbol><ci id="S2.SS2.p2.8.m8.1.1.2.2.cmml" xref="S2.SS2.p2.8.m8.1.1.2.2">SoC</ci><ci id="S2.SS2.p2.8.m8.1.1.2.3.cmml" xref="S2.SS2.p2.8.m8.1.1.2.3">𝑡</ci></apply><ci id="S2.SS2.p2.8.m8.1.1.3.cmml" xref="S2.SS2.p2.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.8.m8.1c">\mathrm{SoC}_{t}^{i}</annotation></semantics></math>, the expected <math id="S2.SS2.p2.9.m9.1" class="ltx_Math" alttext="\mathrm{SoC}_{x}^{i}" display="inline"><semantics id="S2.SS2.p2.9.m9.1a"><msubsup id="S2.SS2.p2.9.m9.1.1" xref="S2.SS2.p2.9.m9.1.1.cmml"><mi id="S2.SS2.p2.9.m9.1.1.2.2" xref="S2.SS2.p2.9.m9.1.1.2.2.cmml">SoC</mi><mi id="S2.SS2.p2.9.m9.1.1.2.3" xref="S2.SS2.p2.9.m9.1.1.2.3.cmml">x</mi><mi id="S2.SS2.p2.9.m9.1.1.3" xref="S2.SS2.p2.9.m9.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.9.m9.1b"><apply id="S2.SS2.p2.9.m9.1.1.cmml" xref="S2.SS2.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.9.m9.1.1.1.cmml" xref="S2.SS2.p2.9.m9.1.1">superscript</csymbol><apply id="S2.SS2.p2.9.m9.1.1.2.cmml" xref="S2.SS2.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.9.m9.1.1.2.1.cmml" xref="S2.SS2.p2.9.m9.1.1">subscript</csymbol><ci id="S2.SS2.p2.9.m9.1.1.2.2.cmml" xref="S2.SS2.p2.9.m9.1.1.2.2">SoC</ci><ci id="S2.SS2.p2.9.m9.1.1.2.3.cmml" xref="S2.SS2.p2.9.m9.1.1.2.3">𝑥</ci></apply><ci id="S2.SS2.p2.9.m9.1.1.3.cmml" xref="S2.SS2.p2.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.9.m9.1c">\mathrm{SoC}_{x}^{i}</annotation></semantics></math> at the anxious time and the departure time <math id="S2.SS2.p2.10.m10.1" class="ltx_Math" alttext="\mathrm{SoC}_{d}^{i}" display="inline"><semantics id="S2.SS2.p2.10.m10.1a"><msubsup id="S2.SS2.p2.10.m10.1.1" xref="S2.SS2.p2.10.m10.1.1.cmml"><mi id="S2.SS2.p2.10.m10.1.1.2.2" xref="S2.SS2.p2.10.m10.1.1.2.2.cmml">SoC</mi><mi id="S2.SS2.p2.10.m10.1.1.2.3" xref="S2.SS2.p2.10.m10.1.1.2.3.cmml">d</mi><mi id="S2.SS2.p2.10.m10.1.1.3" xref="S2.SS2.p2.10.m10.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.10.m10.1b"><apply id="S2.SS2.p2.10.m10.1.1.cmml" xref="S2.SS2.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.10.m10.1.1.1.cmml" xref="S2.SS2.p2.10.m10.1.1">superscript</csymbol><apply id="S2.SS2.p2.10.m10.1.1.2.cmml" xref="S2.SS2.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.10.m10.1.1.2.1.cmml" xref="S2.SS2.p2.10.m10.1.1">subscript</csymbol><ci id="S2.SS2.p2.10.m10.1.1.2.2.cmml" xref="S2.SS2.p2.10.m10.1.1.2.2">SoC</ci><ci id="S2.SS2.p2.10.m10.1.1.2.3.cmml" xref="S2.SS2.p2.10.m10.1.1.2.3">𝑑</ci></apply><ci id="S2.SS2.p2.10.m10.1.1.3.cmml" xref="S2.SS2.p2.10.m10.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.10.m10.1c">\mathrm{SoC}_{d}^{i}</annotation></semantics></math>, that is</p>
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.2" class="ltx_Math" alttext="s_{t}^{i}=\{\psi_{t-n},\psi_{t-n+1},\ldots,\psi_{t},t_{d}^{i},t_{x}^{i},\mathrm{SoC}_{t}^{i},\mathrm{SoC}_{x}^{i},\mathrm{SoC}_{d}^{i}\}." display="block"><semantics id="S2.E2.m1.2a"><mrow id="S2.E2.m1.2.2.1" xref="S2.E2.m1.2.2.1.1.cmml"><mrow id="S2.E2.m1.2.2.1.1" xref="S2.E2.m1.2.2.1.1.cmml"><msubsup id="S2.E2.m1.2.2.1.1.10" xref="S2.E2.m1.2.2.1.1.10.cmml"><mi id="S2.E2.m1.2.2.1.1.10.2.2" xref="S2.E2.m1.2.2.1.1.10.2.2.cmml">s</mi><mi id="S2.E2.m1.2.2.1.1.10.2.3" xref="S2.E2.m1.2.2.1.1.10.2.3.cmml">t</mi><mi id="S2.E2.m1.2.2.1.1.10.3" xref="S2.E2.m1.2.2.1.1.10.3.cmml">i</mi></msubsup><mo id="S2.E2.m1.2.2.1.1.9" xref="S2.E2.m1.2.2.1.1.9.cmml">=</mo><mrow id="S2.E2.m1.2.2.1.1.8.8" xref="S2.E2.m1.2.2.1.1.8.9.cmml"><mo stretchy="false" id="S2.E2.m1.2.2.1.1.8.8.9" xref="S2.E2.m1.2.2.1.1.8.9.cmml">{</mo><msub id="S2.E2.m1.2.2.1.1.1.1.1" xref="S2.E2.m1.2.2.1.1.1.1.1.cmml"><mi id="S2.E2.m1.2.2.1.1.1.1.1.2" xref="S2.E2.m1.2.2.1.1.1.1.1.2.cmml">ψ</mi><mrow id="S2.E2.m1.2.2.1.1.1.1.1.3" xref="S2.E2.m1.2.2.1.1.1.1.1.3.cmml"><mi id="S2.E2.m1.2.2.1.1.1.1.1.3.2" xref="S2.E2.m1.2.2.1.1.1.1.1.3.2.cmml">t</mi><mo id="S2.E2.m1.2.2.1.1.1.1.1.3.1" xref="S2.E2.m1.2.2.1.1.1.1.1.3.1.cmml">−</mo><mi id="S2.E2.m1.2.2.1.1.1.1.1.3.3" xref="S2.E2.m1.2.2.1.1.1.1.1.3.3.cmml">n</mi></mrow></msub><mo id="S2.E2.m1.2.2.1.1.8.8.10" xref="S2.E2.m1.2.2.1.1.8.9.cmml">,</mo><msub id="S2.E2.m1.2.2.1.1.2.2.2" xref="S2.E2.m1.2.2.1.1.2.2.2.cmml"><mi id="S2.E2.m1.2.2.1.1.2.2.2.2" xref="S2.E2.m1.2.2.1.1.2.2.2.2.cmml">ψ</mi><mrow id="S2.E2.m1.2.2.1.1.2.2.2.3" xref="S2.E2.m1.2.2.1.1.2.2.2.3.cmml"><mrow id="S2.E2.m1.2.2.1.1.2.2.2.3.2" xref="S2.E2.m1.2.2.1.1.2.2.2.3.2.cmml"><mi id="S2.E2.m1.2.2.1.1.2.2.2.3.2.2" xref="S2.E2.m1.2.2.1.1.2.2.2.3.2.2.cmml">t</mi><mo id="S2.E2.m1.2.2.1.1.2.2.2.3.2.1" xref="S2.E2.m1.2.2.1.1.2.2.2.3.2.1.cmml">−</mo><mi id="S2.E2.m1.2.2.1.1.2.2.2.3.2.3" xref="S2.E2.m1.2.2.1.1.2.2.2.3.2.3.cmml">n</mi></mrow><mo id="S2.E2.m1.2.2.1.1.2.2.2.3.1" xref="S2.E2.m1.2.2.1.1.2.2.2.3.1.cmml">+</mo><mn id="S2.E2.m1.2.2.1.1.2.2.2.3.3" xref="S2.E2.m1.2.2.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S2.E2.m1.2.2.1.1.8.8.11" xref="S2.E2.m1.2.2.1.1.8.9.cmml">,</mo><mi mathvariant="normal" id="S2.E2.m1.1.1" xref="S2.E2.m1.1.1.cmml">…</mi><mo id="S2.E2.m1.2.2.1.1.8.8.12" xref="S2.E2.m1.2.2.1.1.8.9.cmml">,</mo><msub id="S2.E2.m1.2.2.1.1.3.3.3" xref="S2.E2.m1.2.2.1.1.3.3.3.cmml"><mi id="S2.E2.m1.2.2.1.1.3.3.3.2" xref="S2.E2.m1.2.2.1.1.3.3.3.2.cmml">ψ</mi><mi id="S2.E2.m1.2.2.1.1.3.3.3.3" xref="S2.E2.m1.2.2.1.1.3.3.3.3.cmml">t</mi></msub><mo id="S2.E2.m1.2.2.1.1.8.8.13" xref="S2.E2.m1.2.2.1.1.8.9.cmml">,</mo><msubsup id="S2.E2.m1.2.2.1.1.4.4.4" xref="S2.E2.m1.2.2.1.1.4.4.4.cmml"><mi id="S2.E2.m1.2.2.1.1.4.4.4.2.2" xref="S2.E2.m1.2.2.1.1.4.4.4.2.2.cmml">t</mi><mi id="S2.E2.m1.2.2.1.1.4.4.4.2.3" xref="S2.E2.m1.2.2.1.1.4.4.4.2.3.cmml">d</mi><mi id="S2.E2.m1.2.2.1.1.4.4.4.3" xref="S2.E2.m1.2.2.1.1.4.4.4.3.cmml">i</mi></msubsup><mo id="S2.E2.m1.2.2.1.1.8.8.14" xref="S2.E2.m1.2.2.1.1.8.9.cmml">,</mo><msubsup id="S2.E2.m1.2.2.1.1.5.5.5" xref="S2.E2.m1.2.2.1.1.5.5.5.cmml"><mi id="S2.E2.m1.2.2.1.1.5.5.5.2.2" xref="S2.E2.m1.2.2.1.1.5.5.5.2.2.cmml">t</mi><mi id="S2.E2.m1.2.2.1.1.5.5.5.2.3" xref="S2.E2.m1.2.2.1.1.5.5.5.2.3.cmml">x</mi><mi id="S2.E2.m1.2.2.1.1.5.5.5.3" xref="S2.E2.m1.2.2.1.1.5.5.5.3.cmml">i</mi></msubsup><mo id="S2.E2.m1.2.2.1.1.8.8.15" xref="S2.E2.m1.2.2.1.1.8.9.cmml">,</mo><msubsup id="S2.E2.m1.2.2.1.1.6.6.6" xref="S2.E2.m1.2.2.1.1.6.6.6.cmml"><mi id="S2.E2.m1.2.2.1.1.6.6.6.2.2" xref="S2.E2.m1.2.2.1.1.6.6.6.2.2.cmml">SoC</mi><mi id="S2.E2.m1.2.2.1.1.6.6.6.2.3" xref="S2.E2.m1.2.2.1.1.6.6.6.2.3.cmml">t</mi><mi id="S2.E2.m1.2.2.1.1.6.6.6.3" xref="S2.E2.m1.2.2.1.1.6.6.6.3.cmml">i</mi></msubsup><mo id="S2.E2.m1.2.2.1.1.8.8.16" xref="S2.E2.m1.2.2.1.1.8.9.cmml">,</mo><msubsup id="S2.E2.m1.2.2.1.1.7.7.7" xref="S2.E2.m1.2.2.1.1.7.7.7.cmml"><mi id="S2.E2.m1.2.2.1.1.7.7.7.2.2" xref="S2.E2.m1.2.2.1.1.7.7.7.2.2.cmml">SoC</mi><mi id="S2.E2.m1.2.2.1.1.7.7.7.2.3" xref="S2.E2.m1.2.2.1.1.7.7.7.2.3.cmml">x</mi><mi id="S2.E2.m1.2.2.1.1.7.7.7.3" xref="S2.E2.m1.2.2.1.1.7.7.7.3.cmml">i</mi></msubsup><mo id="S2.E2.m1.2.2.1.1.8.8.17" xref="S2.E2.m1.2.2.1.1.8.9.cmml">,</mo><msubsup id="S2.E2.m1.2.2.1.1.8.8.8" xref="S2.E2.m1.2.2.1.1.8.8.8.cmml"><mi id="S2.E2.m1.2.2.1.1.8.8.8.2.2" xref="S2.E2.m1.2.2.1.1.8.8.8.2.2.cmml">SoC</mi><mi id="S2.E2.m1.2.2.1.1.8.8.8.2.3" xref="S2.E2.m1.2.2.1.1.8.8.8.2.3.cmml">d</mi><mi id="S2.E2.m1.2.2.1.1.8.8.8.3" xref="S2.E2.m1.2.2.1.1.8.8.8.3.cmml">i</mi></msubsup><mo stretchy="false" id="S2.E2.m1.2.2.1.1.8.8.18" xref="S2.E2.m1.2.2.1.1.8.9.cmml">}</mo></mrow></mrow><mo lspace="0em" id="S2.E2.m1.2.2.1.2" xref="S2.E2.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.2b"><apply id="S2.E2.m1.2.2.1.1.cmml" xref="S2.E2.m1.2.2.1"><eq id="S2.E2.m1.2.2.1.1.9.cmml" xref="S2.E2.m1.2.2.1.1.9"></eq><apply id="S2.E2.m1.2.2.1.1.10.cmml" xref="S2.E2.m1.2.2.1.1.10"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.10.1.cmml" xref="S2.E2.m1.2.2.1.1.10">superscript</csymbol><apply id="S2.E2.m1.2.2.1.1.10.2.cmml" xref="S2.E2.m1.2.2.1.1.10"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.10.2.1.cmml" xref="S2.E2.m1.2.2.1.1.10">subscript</csymbol><ci id="S2.E2.m1.2.2.1.1.10.2.2.cmml" xref="S2.E2.m1.2.2.1.1.10.2.2">𝑠</ci><ci id="S2.E2.m1.2.2.1.1.10.2.3.cmml" xref="S2.E2.m1.2.2.1.1.10.2.3">𝑡</ci></apply><ci id="S2.E2.m1.2.2.1.1.10.3.cmml" xref="S2.E2.m1.2.2.1.1.10.3">𝑖</ci></apply><set id="S2.E2.m1.2.2.1.1.8.9.cmml" xref="S2.E2.m1.2.2.1.1.8.8"><apply id="S2.E2.m1.2.2.1.1.1.1.1.cmml" xref="S2.E2.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.1.1.1.1.cmml" xref="S2.E2.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S2.E2.m1.2.2.1.1.1.1.1.2.cmml" xref="S2.E2.m1.2.2.1.1.1.1.1.2">𝜓</ci><apply id="S2.E2.m1.2.2.1.1.1.1.1.3.cmml" xref="S2.E2.m1.2.2.1.1.1.1.1.3"><minus id="S2.E2.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.2.2.1.1.1.1.1.3.1"></minus><ci id="S2.E2.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.2.2.1.1.1.1.1.3.2">𝑡</ci><ci id="S2.E2.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.2.2.1.1.1.1.1.3.3">𝑛</ci></apply></apply><apply id="S2.E2.m1.2.2.1.1.2.2.2.cmml" xref="S2.E2.m1.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.2.2.2.1.cmml" xref="S2.E2.m1.2.2.1.1.2.2.2">subscript</csymbol><ci id="S2.E2.m1.2.2.1.1.2.2.2.2.cmml" xref="S2.E2.m1.2.2.1.1.2.2.2.2">𝜓</ci><apply id="S2.E2.m1.2.2.1.1.2.2.2.3.cmml" xref="S2.E2.m1.2.2.1.1.2.2.2.3"><plus id="S2.E2.m1.2.2.1.1.2.2.2.3.1.cmml" xref="S2.E2.m1.2.2.1.1.2.2.2.3.1"></plus><apply id="S2.E2.m1.2.2.1.1.2.2.2.3.2.cmml" xref="S2.E2.m1.2.2.1.1.2.2.2.3.2"><minus id="S2.E2.m1.2.2.1.1.2.2.2.3.2.1.cmml" xref="S2.E2.m1.2.2.1.1.2.2.2.3.2.1"></minus><ci id="S2.E2.m1.2.2.1.1.2.2.2.3.2.2.cmml" xref="S2.E2.m1.2.2.1.1.2.2.2.3.2.2">𝑡</ci><ci id="S2.E2.m1.2.2.1.1.2.2.2.3.2.3.cmml" xref="S2.E2.m1.2.2.1.1.2.2.2.3.2.3">𝑛</ci></apply><cn type="integer" id="S2.E2.m1.2.2.1.1.2.2.2.3.3.cmml" xref="S2.E2.m1.2.2.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S2.E2.m1.1.1.cmml" xref="S2.E2.m1.1.1">…</ci><apply id="S2.E2.m1.2.2.1.1.3.3.3.cmml" xref="S2.E2.m1.2.2.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.3.3.3.1.cmml" xref="S2.E2.m1.2.2.1.1.3.3.3">subscript</csymbol><ci id="S2.E2.m1.2.2.1.1.3.3.3.2.cmml" xref="S2.E2.m1.2.2.1.1.3.3.3.2">𝜓</ci><ci id="S2.E2.m1.2.2.1.1.3.3.3.3.cmml" xref="S2.E2.m1.2.2.1.1.3.3.3.3">𝑡</ci></apply><apply id="S2.E2.m1.2.2.1.1.4.4.4.cmml" xref="S2.E2.m1.2.2.1.1.4.4.4"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.4.4.4.1.cmml" xref="S2.E2.m1.2.2.1.1.4.4.4">superscript</csymbol><apply id="S2.E2.m1.2.2.1.1.4.4.4.2.cmml" xref="S2.E2.m1.2.2.1.1.4.4.4"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.4.4.4.2.1.cmml" xref="S2.E2.m1.2.2.1.1.4.4.4">subscript</csymbol><ci id="S2.E2.m1.2.2.1.1.4.4.4.2.2.cmml" xref="S2.E2.m1.2.2.1.1.4.4.4.2.2">𝑡</ci><ci id="S2.E2.m1.2.2.1.1.4.4.4.2.3.cmml" xref="S2.E2.m1.2.2.1.1.4.4.4.2.3">𝑑</ci></apply><ci id="S2.E2.m1.2.2.1.1.4.4.4.3.cmml" xref="S2.E2.m1.2.2.1.1.4.4.4.3">𝑖</ci></apply><apply id="S2.E2.m1.2.2.1.1.5.5.5.cmml" xref="S2.E2.m1.2.2.1.1.5.5.5"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.5.5.5.1.cmml" xref="S2.E2.m1.2.2.1.1.5.5.5">superscript</csymbol><apply id="S2.E2.m1.2.2.1.1.5.5.5.2.cmml" xref="S2.E2.m1.2.2.1.1.5.5.5"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.5.5.5.2.1.cmml" xref="S2.E2.m1.2.2.1.1.5.5.5">subscript</csymbol><ci id="S2.E2.m1.2.2.1.1.5.5.5.2.2.cmml" xref="S2.E2.m1.2.2.1.1.5.5.5.2.2">𝑡</ci><ci id="S2.E2.m1.2.2.1.1.5.5.5.2.3.cmml" xref="S2.E2.m1.2.2.1.1.5.5.5.2.3">𝑥</ci></apply><ci id="S2.E2.m1.2.2.1.1.5.5.5.3.cmml" xref="S2.E2.m1.2.2.1.1.5.5.5.3">𝑖</ci></apply><apply id="S2.E2.m1.2.2.1.1.6.6.6.cmml" xref="S2.E2.m1.2.2.1.1.6.6.6"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.6.6.6.1.cmml" xref="S2.E2.m1.2.2.1.1.6.6.6">superscript</csymbol><apply id="S2.E2.m1.2.2.1.1.6.6.6.2.cmml" xref="S2.E2.m1.2.2.1.1.6.6.6"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.6.6.6.2.1.cmml" xref="S2.E2.m1.2.2.1.1.6.6.6">subscript</csymbol><ci id="S2.E2.m1.2.2.1.1.6.6.6.2.2.cmml" xref="S2.E2.m1.2.2.1.1.6.6.6.2.2">SoC</ci><ci id="S2.E2.m1.2.2.1.1.6.6.6.2.3.cmml" xref="S2.E2.m1.2.2.1.1.6.6.6.2.3">𝑡</ci></apply><ci id="S2.E2.m1.2.2.1.1.6.6.6.3.cmml" xref="S2.E2.m1.2.2.1.1.6.6.6.3">𝑖</ci></apply><apply id="S2.E2.m1.2.2.1.1.7.7.7.cmml" xref="S2.E2.m1.2.2.1.1.7.7.7"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.7.7.7.1.cmml" xref="S2.E2.m1.2.2.1.1.7.7.7">superscript</csymbol><apply id="S2.E2.m1.2.2.1.1.7.7.7.2.cmml" xref="S2.E2.m1.2.2.1.1.7.7.7"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.7.7.7.2.1.cmml" xref="S2.E2.m1.2.2.1.1.7.7.7">subscript</csymbol><ci id="S2.E2.m1.2.2.1.1.7.7.7.2.2.cmml" xref="S2.E2.m1.2.2.1.1.7.7.7.2.2">SoC</ci><ci id="S2.E2.m1.2.2.1.1.7.7.7.2.3.cmml" xref="S2.E2.m1.2.2.1.1.7.7.7.2.3">𝑥</ci></apply><ci id="S2.E2.m1.2.2.1.1.7.7.7.3.cmml" xref="S2.E2.m1.2.2.1.1.7.7.7.3">𝑖</ci></apply><apply id="S2.E2.m1.2.2.1.1.8.8.8.cmml" xref="S2.E2.m1.2.2.1.1.8.8.8"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.8.8.8.1.cmml" xref="S2.E2.m1.2.2.1.1.8.8.8">superscript</csymbol><apply id="S2.E2.m1.2.2.1.1.8.8.8.2.cmml" xref="S2.E2.m1.2.2.1.1.8.8.8"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.1.1.8.8.8.2.1.cmml" xref="S2.E2.m1.2.2.1.1.8.8.8">subscript</csymbol><ci id="S2.E2.m1.2.2.1.1.8.8.8.2.2.cmml" xref="S2.E2.m1.2.2.1.1.8.8.8.2.2">SoC</ci><ci id="S2.E2.m1.2.2.1.1.8.8.8.2.3.cmml" xref="S2.E2.m1.2.2.1.1.8.8.8.2.3">𝑑</ci></apply><ci id="S2.E2.m1.2.2.1.1.8.8.8.3.cmml" xref="S2.E2.m1.2.2.1.1.8.8.8.3">𝑖</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.2c">s_{t}^{i}=\{\psi_{t-n},\psi_{t-n+1},\ldots,\psi_{t},t_{d}^{i},t_{x}^{i},\mathrm{SoC}_{t}^{i},\mathrm{SoC}_{x}^{i},\mathrm{SoC}_{d}^{i}\}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.4" class="ltx_p"><em id="S2.SS2.p3.4.1" class="ltx_emph ltx_font_italic">2) Action:</em> The action <math id="S2.SS2.p3.1.m1.1" class="ltx_Math" alttext="a_{t}^{i}" display="inline"><semantics id="S2.SS2.p3.1.m1.1a"><msubsup id="S2.SS2.p3.1.m1.1.1" xref="S2.SS2.p3.1.m1.1.1.cmml"><mi id="S2.SS2.p3.1.m1.1.1.2.2" xref="S2.SS2.p3.1.m1.1.1.2.2.cmml">a</mi><mi id="S2.SS2.p3.1.m1.1.1.2.3" xref="S2.SS2.p3.1.m1.1.1.2.3.cmml">t</mi><mi id="S2.SS2.p3.1.m1.1.1.3" xref="S2.SS2.p3.1.m1.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.1.m1.1b"><apply id="S2.SS2.p3.1.m1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.1.m1.1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1">superscript</csymbol><apply id="S2.SS2.p3.1.m1.1.1.2.cmml" xref="S2.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.1.m1.1.1.2.1.cmml" xref="S2.SS2.p3.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p3.1.m1.1.1.2.2.cmml" xref="S2.SS2.p3.1.m1.1.1.2.2">𝑎</ci><ci id="S2.SS2.p3.1.m1.1.1.2.3.cmml" xref="S2.SS2.p3.1.m1.1.1.2.3">𝑡</ci></apply><ci id="S2.SS2.p3.1.m1.1.1.3.cmml" xref="S2.SS2.p3.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.1.m1.1c">a_{t}^{i}</annotation></semantics></math> denotes the charging/discharging rate of EV <math id="S2.SS2.p3.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS2.p3.2.m2.1a"><mi id="S2.SS2.p3.2.m2.1.1" xref="S2.SS2.p3.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.2.m2.1b"><ci id="S2.SS2.p3.2.m2.1.1.cmml" xref="S2.SS2.p3.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.2.m2.1c">i</annotation></semantics></math>’s battery during the state transition step <math id="S2.SS2.p3.3.m3.2" class="ltx_Math" alttext="[t,t+1)" display="inline"><semantics id="S2.SS2.p3.3.m3.2a"><mrow id="S2.SS2.p3.3.m3.2.2.1" xref="S2.SS2.p3.3.m3.2.2.2.cmml"><mo stretchy="false" id="S2.SS2.p3.3.m3.2.2.1.2" xref="S2.SS2.p3.3.m3.2.2.2.cmml">[</mo><mi id="S2.SS2.p3.3.m3.1.1" xref="S2.SS2.p3.3.m3.1.1.cmml">t</mi><mo id="S2.SS2.p3.3.m3.2.2.1.3" xref="S2.SS2.p3.3.m3.2.2.2.cmml">,</mo><mrow id="S2.SS2.p3.3.m3.2.2.1.1" xref="S2.SS2.p3.3.m3.2.2.1.1.cmml"><mi id="S2.SS2.p3.3.m3.2.2.1.1.2" xref="S2.SS2.p3.3.m3.2.2.1.1.2.cmml">t</mi><mo id="S2.SS2.p3.3.m3.2.2.1.1.1" xref="S2.SS2.p3.3.m3.2.2.1.1.1.cmml">+</mo><mn id="S2.SS2.p3.3.m3.2.2.1.1.3" xref="S2.SS2.p3.3.m3.2.2.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S2.SS2.p3.3.m3.2.2.1.4" xref="S2.SS2.p3.3.m3.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.3.m3.2b"><interval closure="closed-open" id="S2.SS2.p3.3.m3.2.2.2.cmml" xref="S2.SS2.p3.3.m3.2.2.1"><ci id="S2.SS2.p3.3.m3.1.1.cmml" xref="S2.SS2.p3.3.m3.1.1">𝑡</ci><apply id="S2.SS2.p3.3.m3.2.2.1.1.cmml" xref="S2.SS2.p3.3.m3.2.2.1.1"><plus id="S2.SS2.p3.3.m3.2.2.1.1.1.cmml" xref="S2.SS2.p3.3.m3.2.2.1.1.1"></plus><ci id="S2.SS2.p3.3.m3.2.2.1.1.2.cmml" xref="S2.SS2.p3.3.m3.2.2.1.1.2">𝑡</ci><cn type="integer" id="S2.SS2.p3.3.m3.2.2.1.1.3.cmml" xref="S2.SS2.p3.3.m3.2.2.1.1.3">1</cn></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.3.m3.2c">[t,t+1)</annotation></semantics></math> with the given state <math id="S2.SS2.p3.4.m4.1" class="ltx_Math" alttext="s_{t}^{i}" display="inline"><semantics id="S2.SS2.p3.4.m4.1a"><msubsup id="S2.SS2.p3.4.m4.1.1" xref="S2.SS2.p3.4.m4.1.1.cmml"><mi id="S2.SS2.p3.4.m4.1.1.2.2" xref="S2.SS2.p3.4.m4.1.1.2.2.cmml">s</mi><mi id="S2.SS2.p3.4.m4.1.1.2.3" xref="S2.SS2.p3.4.m4.1.1.2.3.cmml">t</mi><mi id="S2.SS2.p3.4.m4.1.1.3" xref="S2.SS2.p3.4.m4.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.4.m4.1b"><apply id="S2.SS2.p3.4.m4.1.1.cmml" xref="S2.SS2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.4.m4.1.1.1.cmml" xref="S2.SS2.p3.4.m4.1.1">superscript</csymbol><apply id="S2.SS2.p3.4.m4.1.1.2.cmml" xref="S2.SS2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.4.m4.1.1.2.1.cmml" xref="S2.SS2.p3.4.m4.1.1">subscript</csymbol><ci id="S2.SS2.p3.4.m4.1.1.2.2.cmml" xref="S2.SS2.p3.4.m4.1.1.2.2">𝑠</ci><ci id="S2.SS2.p3.4.m4.1.1.2.3.cmml" xref="S2.SS2.p3.4.m4.1.1.2.3">𝑡</ci></apply><ci id="S2.SS2.p3.4.m4.1.1.3.cmml" xref="S2.SS2.p3.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.4.m4.1c">s_{t}^{i}</annotation></semantics></math>. Due to the limitation of charging infrastructures, the action is restricted as follows</p>
<table id="S2.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E3.m1.1" class="ltx_Math" alttext="\underline{a}\leq a_{t}^{i}\leq\overline{a}," display="block"><semantics id="S2.E3.m1.1a"><mrow id="S2.E3.m1.1.1.1" xref="S2.E3.m1.1.1.1.1.cmml"><mrow id="S2.E3.m1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.cmml"><munder accentunder="true" id="S2.E3.m1.1.1.1.1.2" xref="S2.E3.m1.1.1.1.1.2.cmml"><mi id="S2.E3.m1.1.1.1.1.2.2" xref="S2.E3.m1.1.1.1.1.2.2.cmml">a</mi><mo id="S2.E3.m1.1.1.1.1.2.1" xref="S2.E3.m1.1.1.1.1.2.1.cmml">¯</mo></munder><mo id="S2.E3.m1.1.1.1.1.3" xref="S2.E3.m1.1.1.1.1.3.cmml">≤</mo><msubsup id="S2.E3.m1.1.1.1.1.4" xref="S2.E3.m1.1.1.1.1.4.cmml"><mi id="S2.E3.m1.1.1.1.1.4.2.2" xref="S2.E3.m1.1.1.1.1.4.2.2.cmml">a</mi><mi id="S2.E3.m1.1.1.1.1.4.2.3" xref="S2.E3.m1.1.1.1.1.4.2.3.cmml">t</mi><mi id="S2.E3.m1.1.1.1.1.4.3" xref="S2.E3.m1.1.1.1.1.4.3.cmml">i</mi></msubsup><mo id="S2.E3.m1.1.1.1.1.5" xref="S2.E3.m1.1.1.1.1.5.cmml">≤</mo><mover accent="true" id="S2.E3.m1.1.1.1.1.6" xref="S2.E3.m1.1.1.1.1.6.cmml"><mi id="S2.E3.m1.1.1.1.1.6.2" xref="S2.E3.m1.1.1.1.1.6.2.cmml">a</mi><mo id="S2.E3.m1.1.1.1.1.6.1" xref="S2.E3.m1.1.1.1.1.6.1.cmml">¯</mo></mover></mrow><mo id="S2.E3.m1.1.1.1.2" xref="S2.E3.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.1b"><apply id="S2.E3.m1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1"><and id="S2.E3.m1.1.1.1.1a.cmml" xref="S2.E3.m1.1.1.1"></and><apply id="S2.E3.m1.1.1.1.1b.cmml" xref="S2.E3.m1.1.1.1"><leq id="S2.E3.m1.1.1.1.1.3.cmml" xref="S2.E3.m1.1.1.1.1.3"></leq><apply id="S2.E3.m1.1.1.1.1.2.cmml" xref="S2.E3.m1.1.1.1.1.2"><ci id="S2.E3.m1.1.1.1.1.2.1.cmml" xref="S2.E3.m1.1.1.1.1.2.1">¯</ci><ci id="S2.E3.m1.1.1.1.1.2.2.cmml" xref="S2.E3.m1.1.1.1.1.2.2">𝑎</ci></apply><apply id="S2.E3.m1.1.1.1.1.4.cmml" xref="S2.E3.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S2.E3.m1.1.1.1.1.4.1.cmml" xref="S2.E3.m1.1.1.1.1.4">superscript</csymbol><apply id="S2.E3.m1.1.1.1.1.4.2.cmml" xref="S2.E3.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S2.E3.m1.1.1.1.1.4.2.1.cmml" xref="S2.E3.m1.1.1.1.1.4">subscript</csymbol><ci id="S2.E3.m1.1.1.1.1.4.2.2.cmml" xref="S2.E3.m1.1.1.1.1.4.2.2">𝑎</ci><ci id="S2.E3.m1.1.1.1.1.4.2.3.cmml" xref="S2.E3.m1.1.1.1.1.4.2.3">𝑡</ci></apply><ci id="S2.E3.m1.1.1.1.1.4.3.cmml" xref="S2.E3.m1.1.1.1.1.4.3">𝑖</ci></apply></apply><apply id="S2.E3.m1.1.1.1.1c.cmml" xref="S2.E3.m1.1.1.1"><leq id="S2.E3.m1.1.1.1.1.5.cmml" xref="S2.E3.m1.1.1.1.1.5"></leq><share href="#S2.E3.m1.1.1.1.1.4.cmml" id="S2.E3.m1.1.1.1.1d.cmml" xref="S2.E3.m1.1.1.1"></share><apply id="S2.E3.m1.1.1.1.1.6.cmml" xref="S2.E3.m1.1.1.1.1.6"><ci id="S2.E3.m1.1.1.1.1.6.1.cmml" xref="S2.E3.m1.1.1.1.1.6.1">¯</ci><ci id="S2.E3.m1.1.1.1.1.6.2.cmml" xref="S2.E3.m1.1.1.1.1.6.2">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.1c">\underline{a}\leq a_{t}^{i}\leq\overline{a},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.p3.6" class="ltx_p">where <math id="S2.SS2.p3.5.m1.1" class="ltx_Math" alttext="\underline{a}" display="inline"><semantics id="S2.SS2.p3.5.m1.1a"><munder accentunder="true" id="S2.SS2.p3.5.m1.1.1" xref="S2.SS2.p3.5.m1.1.1.cmml"><mi id="S2.SS2.p3.5.m1.1.1.2" xref="S2.SS2.p3.5.m1.1.1.2.cmml">a</mi><mo id="S2.SS2.p3.5.m1.1.1.1" xref="S2.SS2.p3.5.m1.1.1.1.cmml">¯</mo></munder><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.5.m1.1b"><apply id="S2.SS2.p3.5.m1.1.1.cmml" xref="S2.SS2.p3.5.m1.1.1"><ci id="S2.SS2.p3.5.m1.1.1.1.cmml" xref="S2.SS2.p3.5.m1.1.1.1">¯</ci><ci id="S2.SS2.p3.5.m1.1.1.2.cmml" xref="S2.SS2.p3.5.m1.1.1.2">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.5.m1.1c">\underline{a}</annotation></semantics></math> and <math id="S2.SS2.p3.6.m2.1" class="ltx_Math" alttext="\overline{a}" display="inline"><semantics id="S2.SS2.p3.6.m2.1a"><mover accent="true" id="S2.SS2.p3.6.m2.1.1" xref="S2.SS2.p3.6.m2.1.1.cmml"><mi id="S2.SS2.p3.6.m2.1.1.2" xref="S2.SS2.p3.6.m2.1.1.2.cmml">a</mi><mo id="S2.SS2.p3.6.m2.1.1.1" xref="S2.SS2.p3.6.m2.1.1.1.cmml">¯</mo></mover><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.6.m2.1b"><apply id="S2.SS2.p3.6.m2.1.1.cmml" xref="S2.SS2.p3.6.m2.1.1"><ci id="S2.SS2.p3.6.m2.1.1.1.cmml" xref="S2.SS2.p3.6.m2.1.1.1">¯</ci><ci id="S2.SS2.p3.6.m2.1.1.2.cmml" xref="S2.SS2.p3.6.m2.1.1.2">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.6.m2.1c">\overline{a}</annotation></semantics></math> are the minimum and maximum rate for this EV charging/discharging problem.</p>
</div>
<div id="S2.SS2.p4" class="ltx_para">
<p id="S2.SS2.p4.4" class="ltx_p"><em id="S2.SS2.p4.4.1" class="ltx_emph ltx_font_italic">3) Reward:</em> The reward represents the immediate system feedback after the state <math id="S2.SS2.p4.1.m1.1" class="ltx_Math" alttext="s_{t}^{i}" display="inline"><semantics id="S2.SS2.p4.1.m1.1a"><msubsup id="S2.SS2.p4.1.m1.1.1" xref="S2.SS2.p4.1.m1.1.1.cmml"><mi id="S2.SS2.p4.1.m1.1.1.2.2" xref="S2.SS2.p4.1.m1.1.1.2.2.cmml">s</mi><mi id="S2.SS2.p4.1.m1.1.1.2.3" xref="S2.SS2.p4.1.m1.1.1.2.3.cmml">t</mi><mi id="S2.SS2.p4.1.m1.1.1.3" xref="S2.SS2.p4.1.m1.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.1.m1.1b"><apply id="S2.SS2.p4.1.m1.1.1.cmml" xref="S2.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.1.m1.1.1.1.cmml" xref="S2.SS2.p4.1.m1.1.1">superscript</csymbol><apply id="S2.SS2.p4.1.m1.1.1.2.cmml" xref="S2.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.1.m1.1.1.2.1.cmml" xref="S2.SS2.p4.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p4.1.m1.1.1.2.2.cmml" xref="S2.SS2.p4.1.m1.1.1.2.2">𝑠</ci><ci id="S2.SS2.p4.1.m1.1.1.2.3.cmml" xref="S2.SS2.p4.1.m1.1.1.2.3">𝑡</ci></apply><ci id="S2.SS2.p4.1.m1.1.1.3.cmml" xref="S2.SS2.p4.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.1.m1.1c">s_{t}^{i}</annotation></semantics></math> changes to <math id="S2.SS2.p4.2.m2.1" class="ltx_Math" alttext="s_{t+1}^{i}" display="inline"><semantics id="S2.SS2.p4.2.m2.1a"><msubsup id="S2.SS2.p4.2.m2.1.1" xref="S2.SS2.p4.2.m2.1.1.cmml"><mi id="S2.SS2.p4.2.m2.1.1.2.2" xref="S2.SS2.p4.2.m2.1.1.2.2.cmml">s</mi><mrow id="S2.SS2.p4.2.m2.1.1.2.3" xref="S2.SS2.p4.2.m2.1.1.2.3.cmml"><mi id="S2.SS2.p4.2.m2.1.1.2.3.2" xref="S2.SS2.p4.2.m2.1.1.2.3.2.cmml">t</mi><mo id="S2.SS2.p4.2.m2.1.1.2.3.1" xref="S2.SS2.p4.2.m2.1.1.2.3.1.cmml">+</mo><mn id="S2.SS2.p4.2.m2.1.1.2.3.3" xref="S2.SS2.p4.2.m2.1.1.2.3.3.cmml">1</mn></mrow><mi id="S2.SS2.p4.2.m2.1.1.3" xref="S2.SS2.p4.2.m2.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.2.m2.1b"><apply id="S2.SS2.p4.2.m2.1.1.cmml" xref="S2.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.2.m2.1.1.1.cmml" xref="S2.SS2.p4.2.m2.1.1">superscript</csymbol><apply id="S2.SS2.p4.2.m2.1.1.2.cmml" xref="S2.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.2.m2.1.1.2.1.cmml" xref="S2.SS2.p4.2.m2.1.1">subscript</csymbol><ci id="S2.SS2.p4.2.m2.1.1.2.2.cmml" xref="S2.SS2.p4.2.m2.1.1.2.2">𝑠</ci><apply id="S2.SS2.p4.2.m2.1.1.2.3.cmml" xref="S2.SS2.p4.2.m2.1.1.2.3"><plus id="S2.SS2.p4.2.m2.1.1.2.3.1.cmml" xref="S2.SS2.p4.2.m2.1.1.2.3.1"></plus><ci id="S2.SS2.p4.2.m2.1.1.2.3.2.cmml" xref="S2.SS2.p4.2.m2.1.1.2.3.2">𝑡</ci><cn type="integer" id="S2.SS2.p4.2.m2.1.1.2.3.3.cmml" xref="S2.SS2.p4.2.m2.1.1.2.3.3">1</cn></apply></apply><ci id="S2.SS2.p4.2.m2.1.1.3.cmml" xref="S2.SS2.p4.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.2.m2.1c">s_{t+1}^{i}</annotation></semantics></math> with <math id="S2.SS2.p4.3.m3.1" class="ltx_Math" alttext="a_{t}^{i}" display="inline"><semantics id="S2.SS2.p4.3.m3.1a"><msubsup id="S2.SS2.p4.3.m3.1.1" xref="S2.SS2.p4.3.m3.1.1.cmml"><mi id="S2.SS2.p4.3.m3.1.1.2.2" xref="S2.SS2.p4.3.m3.1.1.2.2.cmml">a</mi><mi id="S2.SS2.p4.3.m3.1.1.2.3" xref="S2.SS2.p4.3.m3.1.1.2.3.cmml">t</mi><mi id="S2.SS2.p4.3.m3.1.1.3" xref="S2.SS2.p4.3.m3.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.3.m3.1b"><apply id="S2.SS2.p4.3.m3.1.1.cmml" xref="S2.SS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.3.m3.1.1.1.cmml" xref="S2.SS2.p4.3.m3.1.1">superscript</csymbol><apply id="S2.SS2.p4.3.m3.1.1.2.cmml" xref="S2.SS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.3.m3.1.1.2.1.cmml" xref="S2.SS2.p4.3.m3.1.1">subscript</csymbol><ci id="S2.SS2.p4.3.m3.1.1.2.2.cmml" xref="S2.SS2.p4.3.m3.1.1.2.2">𝑎</ci><ci id="S2.SS2.p4.3.m3.1.1.2.3.cmml" xref="S2.SS2.p4.3.m3.1.1.2.3">𝑡</ci></apply><ci id="S2.SS2.p4.3.m3.1.1.3.cmml" xref="S2.SS2.p4.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.3.m3.1c">a_{t}^{i}</annotation></semantics></math>. We proposed a reward settlement scheme integrating EV’s demand response factor into this reward function. A mathematical model in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> is used to quantify the effect of anxiety on SoC, and the anxious time <math id="S2.SS2.p4.4.m4.1" class="ltx_Math" alttext="t_{x}^{i}" display="inline"><semantics id="S2.SS2.p4.4.m4.1a"><msubsup id="S2.SS2.p4.4.m4.1.1" xref="S2.SS2.p4.4.m4.1.1.cmml"><mi id="S2.SS2.p4.4.m4.1.1.2.2" xref="S2.SS2.p4.4.m4.1.1.2.2.cmml">t</mi><mi id="S2.SS2.p4.4.m4.1.1.2.3" xref="S2.SS2.p4.4.m4.1.1.2.3.cmml">x</mi><mi id="S2.SS2.p4.4.m4.1.1.3" xref="S2.SS2.p4.4.m4.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.4.m4.1b"><apply id="S2.SS2.p4.4.m4.1.1.cmml" xref="S2.SS2.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.4.m4.1.1.1.cmml" xref="S2.SS2.p4.4.m4.1.1">superscript</csymbol><apply id="S2.SS2.p4.4.m4.1.1.2.cmml" xref="S2.SS2.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.4.m4.1.1.2.1.cmml" xref="S2.SS2.p4.4.m4.1.1">subscript</csymbol><ci id="S2.SS2.p4.4.m4.1.1.2.2.cmml" xref="S2.SS2.p4.4.m4.1.1.2.2">𝑡</ci><ci id="S2.SS2.p4.4.m4.1.1.2.3.cmml" xref="S2.SS2.p4.4.m4.1.1.2.3">𝑥</ci></apply><ci id="S2.SS2.p4.4.m4.1.1.3.cmml" xref="S2.SS2.p4.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.4.m4.1c">t_{x}^{i}</annotation></semantics></math> is defined in this model. The model can be denoted as</p>
<table id="S2.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E4.m1.3" class="ltx_math_unparsed" alttext="\mathrm{SoC}_{x}^{i}=\frac{d_{1}^{i}\bigl{(}e^{-d_{2}^{i}(t-t_{a}^{i})/(t_{d}^{i}-t_{a}^{i})}-1\bigl{)}}{e^{-d_{2}^{i}}-1}," display="block"><semantics id="S2.E4.m1.3a"><mrow id="S2.E4.m1.3.3.1"><mrow id="S2.E4.m1.3.3.1.1"><msubsup id="S2.E4.m1.3.3.1.1.2"><mi id="S2.E4.m1.3.3.1.1.2.2.2">SoC</mi><mi id="S2.E4.m1.3.3.1.1.2.2.3">x</mi><mi id="S2.E4.m1.3.3.1.1.2.3">i</mi></msubsup><mo id="S2.E4.m1.3.3.1.1.1">=</mo><mfrac id="S2.E4.m1.2.2"><mrow id="S2.E4.m1.2.2.2"><msubsup id="S2.E4.m1.2.2.2.3"><mi id="S2.E4.m1.2.2.2.3.2.2">d</mi><mn id="S2.E4.m1.2.2.2.3.2.3">1</mn><mi id="S2.E4.m1.2.2.2.3.3">i</mi></msubsup><mrow id="S2.E4.m1.2.2.2.4"><mo maxsize="120%" minsize="120%" id="S2.E4.m1.2.2.2.4.1">(</mo><msup id="S2.E4.m1.2.2.2.4.2"><mi id="S2.E4.m1.2.2.2.4.2.2">e</mi><mrow id="S2.E4.m1.2.2.2.2.2"><mo id="S2.E4.m1.2.2.2.2.2a">−</mo><mrow id="S2.E4.m1.2.2.2.2.2.2"><mrow id="S2.E4.m1.1.1.1.1.1.1.1"><msubsup id="S2.E4.m1.1.1.1.1.1.1.1.3"><mi id="S2.E4.m1.1.1.1.1.1.1.1.3.2.2">d</mi><mn id="S2.E4.m1.1.1.1.1.1.1.1.3.2.3">2</mn><mi id="S2.E4.m1.1.1.1.1.1.1.1.3.3">i</mi></msubsup><mo lspace="0em" rspace="0em" id="S2.E4.m1.1.1.1.1.1.1.1.2">​</mo><mrow id="S2.E4.m1.1.1.1.1.1.1.1.1.1"><mo stretchy="false" id="S2.E4.m1.1.1.1.1.1.1.1.1.1.2">(</mo><mrow id="S2.E4.m1.1.1.1.1.1.1.1.1.1.1"><mi id="S2.E4.m1.1.1.1.1.1.1.1.1.1.1.2">t</mi><mo id="S2.E4.m1.1.1.1.1.1.1.1.1.1.1.1">−</mo><msubsup id="S2.E4.m1.1.1.1.1.1.1.1.1.1.1.3"><mi id="S2.E4.m1.1.1.1.1.1.1.1.1.1.1.3.2.2">t</mi><mi id="S2.E4.m1.1.1.1.1.1.1.1.1.1.1.3.2.3">a</mi><mi id="S2.E4.m1.1.1.1.1.1.1.1.1.1.1.3.3">i</mi></msubsup></mrow><mo stretchy="false" id="S2.E4.m1.1.1.1.1.1.1.1.1.1.3">)</mo></mrow></mrow><mo id="S2.E4.m1.2.2.2.2.2.2.3">/</mo><mrow id="S2.E4.m1.2.2.2.2.2.2.2.1"><mo stretchy="false" id="S2.E4.m1.2.2.2.2.2.2.2.1.2">(</mo><mrow id="S2.E4.m1.2.2.2.2.2.2.2.1.1"><msubsup id="S2.E4.m1.2.2.2.2.2.2.2.1.1.2"><mi id="S2.E4.m1.2.2.2.2.2.2.2.1.1.2.2.2">t</mi><mi id="S2.E4.m1.2.2.2.2.2.2.2.1.1.2.2.3">d</mi><mi id="S2.E4.m1.2.2.2.2.2.2.2.1.1.2.3">i</mi></msubsup><mo id="S2.E4.m1.2.2.2.2.2.2.2.1.1.1">−</mo><msubsup id="S2.E4.m1.2.2.2.2.2.2.2.1.1.3"><mi id="S2.E4.m1.2.2.2.2.2.2.2.1.1.3.2.2">t</mi><mi id="S2.E4.m1.2.2.2.2.2.2.2.1.1.3.2.3">a</mi><mi id="S2.E4.m1.2.2.2.2.2.2.2.1.1.3.3">i</mi></msubsup></mrow><mo stretchy="false" id="S2.E4.m1.2.2.2.2.2.2.2.1.3">)</mo></mrow></mrow></mrow></msup><mo id="S2.E4.m1.2.2.2.4.3">−</mo><mn id="S2.E4.m1.2.2.2.4.4">1</mn><mo lspace="0em" mathsize="120%" id="S2.E4.m1.2.2.2.4.5">)</mo></mrow></mrow><mrow id="S2.E4.m1.2.2.4"><msup id="S2.E4.m1.2.2.4.2"><mi id="S2.E4.m1.2.2.4.2.2">e</mi><mrow id="S2.E4.m1.2.2.4.2.3"><mo id="S2.E4.m1.2.2.4.2.3a">−</mo><msubsup id="S2.E4.m1.2.2.4.2.3.2"><mi id="S2.E4.m1.2.2.4.2.3.2.2.2">d</mi><mn id="S2.E4.m1.2.2.4.2.3.2.2.3">2</mn><mi id="S2.E4.m1.2.2.4.2.3.2.3">i</mi></msubsup></mrow></msup><mo id="S2.E4.m1.2.2.4.1">−</mo><mn id="S2.E4.m1.2.2.4.3">1</mn></mrow></mfrac></mrow><mo id="S2.E4.m1.3.3.1.2">,</mo></mrow><annotation encoding="application/x-tex" id="S2.E4.m1.3b">\mathrm{SoC}_{x}^{i}=\frac{d_{1}^{i}\bigl{(}e^{-d_{2}^{i}(t-t_{a}^{i})/(t_{d}^{i}-t_{a}^{i})}-1\bigl{)}}{e^{-d_{2}^{i}}-1},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.p4.11" class="ltx_p">where <math id="S2.SS2.p4.5.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.SS2.p4.5.m1.1a"><mi id="S2.SS2.p4.5.m1.1.1" xref="S2.SS2.p4.5.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.5.m1.1b"><ci id="S2.SS2.p4.5.m1.1.1.cmml" xref="S2.SS2.p4.5.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.5.m1.1c">t</annotation></semantics></math> satisfies <math id="S2.SS2.p4.6.m2.2" class="ltx_Math" alttext="t\in[t_{x}^{i},t_{d}^{i})" display="inline"><semantics id="S2.SS2.p4.6.m2.2a"><mrow id="S2.SS2.p4.6.m2.2.2" xref="S2.SS2.p4.6.m2.2.2.cmml"><mi id="S2.SS2.p4.6.m2.2.2.4" xref="S2.SS2.p4.6.m2.2.2.4.cmml">t</mi><mo id="S2.SS2.p4.6.m2.2.2.3" xref="S2.SS2.p4.6.m2.2.2.3.cmml">∈</mo><mrow id="S2.SS2.p4.6.m2.2.2.2.2" xref="S2.SS2.p4.6.m2.2.2.2.3.cmml"><mo stretchy="false" id="S2.SS2.p4.6.m2.2.2.2.2.3" xref="S2.SS2.p4.6.m2.2.2.2.3.cmml">[</mo><msubsup id="S2.SS2.p4.6.m2.1.1.1.1.1" xref="S2.SS2.p4.6.m2.1.1.1.1.1.cmml"><mi id="S2.SS2.p4.6.m2.1.1.1.1.1.2.2" xref="S2.SS2.p4.6.m2.1.1.1.1.1.2.2.cmml">t</mi><mi id="S2.SS2.p4.6.m2.1.1.1.1.1.2.3" xref="S2.SS2.p4.6.m2.1.1.1.1.1.2.3.cmml">x</mi><mi id="S2.SS2.p4.6.m2.1.1.1.1.1.3" xref="S2.SS2.p4.6.m2.1.1.1.1.1.3.cmml">i</mi></msubsup><mo id="S2.SS2.p4.6.m2.2.2.2.2.4" xref="S2.SS2.p4.6.m2.2.2.2.3.cmml">,</mo><msubsup id="S2.SS2.p4.6.m2.2.2.2.2.2" xref="S2.SS2.p4.6.m2.2.2.2.2.2.cmml"><mi id="S2.SS2.p4.6.m2.2.2.2.2.2.2.2" xref="S2.SS2.p4.6.m2.2.2.2.2.2.2.2.cmml">t</mi><mi id="S2.SS2.p4.6.m2.2.2.2.2.2.2.3" xref="S2.SS2.p4.6.m2.2.2.2.2.2.2.3.cmml">d</mi><mi id="S2.SS2.p4.6.m2.2.2.2.2.2.3" xref="S2.SS2.p4.6.m2.2.2.2.2.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="S2.SS2.p4.6.m2.2.2.2.2.5" xref="S2.SS2.p4.6.m2.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.6.m2.2b"><apply id="S2.SS2.p4.6.m2.2.2.cmml" xref="S2.SS2.p4.6.m2.2.2"><in id="S2.SS2.p4.6.m2.2.2.3.cmml" xref="S2.SS2.p4.6.m2.2.2.3"></in><ci id="S2.SS2.p4.6.m2.2.2.4.cmml" xref="S2.SS2.p4.6.m2.2.2.4">𝑡</ci><interval closure="closed-open" id="S2.SS2.p4.6.m2.2.2.2.3.cmml" xref="S2.SS2.p4.6.m2.2.2.2.2"><apply id="S2.SS2.p4.6.m2.1.1.1.1.1.cmml" xref="S2.SS2.p4.6.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.6.m2.1.1.1.1.1.1.cmml" xref="S2.SS2.p4.6.m2.1.1.1.1.1">superscript</csymbol><apply id="S2.SS2.p4.6.m2.1.1.1.1.1.2.cmml" xref="S2.SS2.p4.6.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.6.m2.1.1.1.1.1.2.1.cmml" xref="S2.SS2.p4.6.m2.1.1.1.1.1">subscript</csymbol><ci id="S2.SS2.p4.6.m2.1.1.1.1.1.2.2.cmml" xref="S2.SS2.p4.6.m2.1.1.1.1.1.2.2">𝑡</ci><ci id="S2.SS2.p4.6.m2.1.1.1.1.1.2.3.cmml" xref="S2.SS2.p4.6.m2.1.1.1.1.1.2.3">𝑥</ci></apply><ci id="S2.SS2.p4.6.m2.1.1.1.1.1.3.cmml" xref="S2.SS2.p4.6.m2.1.1.1.1.1.3">𝑖</ci></apply><apply id="S2.SS2.p4.6.m2.2.2.2.2.2.cmml" xref="S2.SS2.p4.6.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.p4.6.m2.2.2.2.2.2.1.cmml" xref="S2.SS2.p4.6.m2.2.2.2.2.2">superscript</csymbol><apply id="S2.SS2.p4.6.m2.2.2.2.2.2.2.cmml" xref="S2.SS2.p4.6.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.p4.6.m2.2.2.2.2.2.2.1.cmml" xref="S2.SS2.p4.6.m2.2.2.2.2.2">subscript</csymbol><ci id="S2.SS2.p4.6.m2.2.2.2.2.2.2.2.cmml" xref="S2.SS2.p4.6.m2.2.2.2.2.2.2.2">𝑡</ci><ci id="S2.SS2.p4.6.m2.2.2.2.2.2.2.3.cmml" xref="S2.SS2.p4.6.m2.2.2.2.2.2.2.3">𝑑</ci></apply><ci id="S2.SS2.p4.6.m2.2.2.2.2.2.3.cmml" xref="S2.SS2.p4.6.m2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.6.m2.2c">t\in[t_{x}^{i},t_{d}^{i})</annotation></semantics></math>. It can map the user’s anxiety to the expected SoC properly. <math id="S2.SS2.p4.7.m3.2" class="ltx_Math" alttext="d_{1}^{i}\in[0,1]" display="inline"><semantics id="S2.SS2.p4.7.m3.2a"><mrow id="S2.SS2.p4.7.m3.2.3" xref="S2.SS2.p4.7.m3.2.3.cmml"><msubsup id="S2.SS2.p4.7.m3.2.3.2" xref="S2.SS2.p4.7.m3.2.3.2.cmml"><mi id="S2.SS2.p4.7.m3.2.3.2.2.2" xref="S2.SS2.p4.7.m3.2.3.2.2.2.cmml">d</mi><mn id="S2.SS2.p4.7.m3.2.3.2.2.3" xref="S2.SS2.p4.7.m3.2.3.2.2.3.cmml">1</mn><mi id="S2.SS2.p4.7.m3.2.3.2.3" xref="S2.SS2.p4.7.m3.2.3.2.3.cmml">i</mi></msubsup><mo id="S2.SS2.p4.7.m3.2.3.1" xref="S2.SS2.p4.7.m3.2.3.1.cmml">∈</mo><mrow id="S2.SS2.p4.7.m3.2.3.3.2" xref="S2.SS2.p4.7.m3.2.3.3.1.cmml"><mo stretchy="false" id="S2.SS2.p4.7.m3.2.3.3.2.1" xref="S2.SS2.p4.7.m3.2.3.3.1.cmml">[</mo><mn id="S2.SS2.p4.7.m3.1.1" xref="S2.SS2.p4.7.m3.1.1.cmml">0</mn><mo id="S2.SS2.p4.7.m3.2.3.3.2.2" xref="S2.SS2.p4.7.m3.2.3.3.1.cmml">,</mo><mn id="S2.SS2.p4.7.m3.2.2" xref="S2.SS2.p4.7.m3.2.2.cmml">1</mn><mo stretchy="false" id="S2.SS2.p4.7.m3.2.3.3.2.3" xref="S2.SS2.p4.7.m3.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.7.m3.2b"><apply id="S2.SS2.p4.7.m3.2.3.cmml" xref="S2.SS2.p4.7.m3.2.3"><in id="S2.SS2.p4.7.m3.2.3.1.cmml" xref="S2.SS2.p4.7.m3.2.3.1"></in><apply id="S2.SS2.p4.7.m3.2.3.2.cmml" xref="S2.SS2.p4.7.m3.2.3.2"><csymbol cd="ambiguous" id="S2.SS2.p4.7.m3.2.3.2.1.cmml" xref="S2.SS2.p4.7.m3.2.3.2">superscript</csymbol><apply id="S2.SS2.p4.7.m3.2.3.2.2.cmml" xref="S2.SS2.p4.7.m3.2.3.2"><csymbol cd="ambiguous" id="S2.SS2.p4.7.m3.2.3.2.2.1.cmml" xref="S2.SS2.p4.7.m3.2.3.2">subscript</csymbol><ci id="S2.SS2.p4.7.m3.2.3.2.2.2.cmml" xref="S2.SS2.p4.7.m3.2.3.2.2.2">𝑑</ci><cn type="integer" id="S2.SS2.p4.7.m3.2.3.2.2.3.cmml" xref="S2.SS2.p4.7.m3.2.3.2.2.3">1</cn></apply><ci id="S2.SS2.p4.7.m3.2.3.2.3.cmml" xref="S2.SS2.p4.7.m3.2.3.2.3">𝑖</ci></apply><interval closure="closed" id="S2.SS2.p4.7.m3.2.3.3.1.cmml" xref="S2.SS2.p4.7.m3.2.3.3.2"><cn type="integer" id="S2.SS2.p4.7.m3.1.1.cmml" xref="S2.SS2.p4.7.m3.1.1">0</cn><cn type="integer" id="S2.SS2.p4.7.m3.2.2.cmml" xref="S2.SS2.p4.7.m3.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.7.m3.2c">d_{1}^{i}\in[0,1]</annotation></semantics></math> and <math id="S2.SS2.p4.8.m4.4" class="ltx_Math" alttext="d_{2}^{i}\in(-\infty,0)\cup(0,\infty)" display="inline"><semantics id="S2.SS2.p4.8.m4.4a"><mrow id="S2.SS2.p4.8.m4.4.4" xref="S2.SS2.p4.8.m4.4.4.cmml"><msubsup id="S2.SS2.p4.8.m4.4.4.3" xref="S2.SS2.p4.8.m4.4.4.3.cmml"><mi id="S2.SS2.p4.8.m4.4.4.3.2.2" xref="S2.SS2.p4.8.m4.4.4.3.2.2.cmml">d</mi><mn id="S2.SS2.p4.8.m4.4.4.3.2.3" xref="S2.SS2.p4.8.m4.4.4.3.2.3.cmml">2</mn><mi id="S2.SS2.p4.8.m4.4.4.3.3" xref="S2.SS2.p4.8.m4.4.4.3.3.cmml">i</mi></msubsup><mo id="S2.SS2.p4.8.m4.4.4.2" xref="S2.SS2.p4.8.m4.4.4.2.cmml">∈</mo><mrow id="S2.SS2.p4.8.m4.4.4.1" xref="S2.SS2.p4.8.m4.4.4.1.cmml"><mrow id="S2.SS2.p4.8.m4.4.4.1.1.1" xref="S2.SS2.p4.8.m4.4.4.1.1.2.cmml"><mo stretchy="false" id="S2.SS2.p4.8.m4.4.4.1.1.1.2" xref="S2.SS2.p4.8.m4.4.4.1.1.2.cmml">(</mo><mrow id="S2.SS2.p4.8.m4.4.4.1.1.1.1" xref="S2.SS2.p4.8.m4.4.4.1.1.1.1.cmml"><mo id="S2.SS2.p4.8.m4.4.4.1.1.1.1a" xref="S2.SS2.p4.8.m4.4.4.1.1.1.1.cmml">−</mo><mi mathvariant="normal" id="S2.SS2.p4.8.m4.4.4.1.1.1.1.2" xref="S2.SS2.p4.8.m4.4.4.1.1.1.1.2.cmml">∞</mi></mrow><mo id="S2.SS2.p4.8.m4.4.4.1.1.1.3" xref="S2.SS2.p4.8.m4.4.4.1.1.2.cmml">,</mo><mn id="S2.SS2.p4.8.m4.1.1" xref="S2.SS2.p4.8.m4.1.1.cmml">0</mn><mo stretchy="false" id="S2.SS2.p4.8.m4.4.4.1.1.1.4" xref="S2.SS2.p4.8.m4.4.4.1.1.2.cmml">)</mo></mrow><mo id="S2.SS2.p4.8.m4.4.4.1.2" xref="S2.SS2.p4.8.m4.4.4.1.2.cmml">∪</mo><mrow id="S2.SS2.p4.8.m4.4.4.1.3.2" xref="S2.SS2.p4.8.m4.4.4.1.3.1.cmml"><mo stretchy="false" id="S2.SS2.p4.8.m4.4.4.1.3.2.1" xref="S2.SS2.p4.8.m4.4.4.1.3.1.cmml">(</mo><mn id="S2.SS2.p4.8.m4.2.2" xref="S2.SS2.p4.8.m4.2.2.cmml">0</mn><mo id="S2.SS2.p4.8.m4.4.4.1.3.2.2" xref="S2.SS2.p4.8.m4.4.4.1.3.1.cmml">,</mo><mi mathvariant="normal" id="S2.SS2.p4.8.m4.3.3" xref="S2.SS2.p4.8.m4.3.3.cmml">∞</mi><mo stretchy="false" id="S2.SS2.p4.8.m4.4.4.1.3.2.3" xref="S2.SS2.p4.8.m4.4.4.1.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.8.m4.4b"><apply id="S2.SS2.p4.8.m4.4.4.cmml" xref="S2.SS2.p4.8.m4.4.4"><in id="S2.SS2.p4.8.m4.4.4.2.cmml" xref="S2.SS2.p4.8.m4.4.4.2"></in><apply id="S2.SS2.p4.8.m4.4.4.3.cmml" xref="S2.SS2.p4.8.m4.4.4.3"><csymbol cd="ambiguous" id="S2.SS2.p4.8.m4.4.4.3.1.cmml" xref="S2.SS2.p4.8.m4.4.4.3">superscript</csymbol><apply id="S2.SS2.p4.8.m4.4.4.3.2.cmml" xref="S2.SS2.p4.8.m4.4.4.3"><csymbol cd="ambiguous" id="S2.SS2.p4.8.m4.4.4.3.2.1.cmml" xref="S2.SS2.p4.8.m4.4.4.3">subscript</csymbol><ci id="S2.SS2.p4.8.m4.4.4.3.2.2.cmml" xref="S2.SS2.p4.8.m4.4.4.3.2.2">𝑑</ci><cn type="integer" id="S2.SS2.p4.8.m4.4.4.3.2.3.cmml" xref="S2.SS2.p4.8.m4.4.4.3.2.3">2</cn></apply><ci id="S2.SS2.p4.8.m4.4.4.3.3.cmml" xref="S2.SS2.p4.8.m4.4.4.3.3">𝑖</ci></apply><apply id="S2.SS2.p4.8.m4.4.4.1.cmml" xref="S2.SS2.p4.8.m4.4.4.1"><union id="S2.SS2.p4.8.m4.4.4.1.2.cmml" xref="S2.SS2.p4.8.m4.4.4.1.2"></union><interval closure="open" id="S2.SS2.p4.8.m4.4.4.1.1.2.cmml" xref="S2.SS2.p4.8.m4.4.4.1.1.1"><apply id="S2.SS2.p4.8.m4.4.4.1.1.1.1.cmml" xref="S2.SS2.p4.8.m4.4.4.1.1.1.1"><minus id="S2.SS2.p4.8.m4.4.4.1.1.1.1.1.cmml" xref="S2.SS2.p4.8.m4.4.4.1.1.1.1"></minus><infinity id="S2.SS2.p4.8.m4.4.4.1.1.1.1.2.cmml" xref="S2.SS2.p4.8.m4.4.4.1.1.1.1.2"></infinity></apply><cn type="integer" id="S2.SS2.p4.8.m4.1.1.cmml" xref="S2.SS2.p4.8.m4.1.1">0</cn></interval><interval closure="open" id="S2.SS2.p4.8.m4.4.4.1.3.1.cmml" xref="S2.SS2.p4.8.m4.4.4.1.3.2"><cn type="integer" id="S2.SS2.p4.8.m4.2.2.cmml" xref="S2.SS2.p4.8.m4.2.2">0</cn><infinity id="S2.SS2.p4.8.m4.3.3.cmml" xref="S2.SS2.p4.8.m4.3.3"></infinity></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.8.m4.4c">d_{2}^{i}\in(-\infty,0)\cup(0,\infty)</annotation></semantics></math> are both shape parameters of the SoC curve. A larger <math id="S2.SS2.p4.9.m5.1" class="ltx_Math" alttext="d_{1}^{i}" display="inline"><semantics id="S2.SS2.p4.9.m5.1a"><msubsup id="S2.SS2.p4.9.m5.1.1" xref="S2.SS2.p4.9.m5.1.1.cmml"><mi id="S2.SS2.p4.9.m5.1.1.2.2" xref="S2.SS2.p4.9.m5.1.1.2.2.cmml">d</mi><mn id="S2.SS2.p4.9.m5.1.1.2.3" xref="S2.SS2.p4.9.m5.1.1.2.3.cmml">1</mn><mi id="S2.SS2.p4.9.m5.1.1.3" xref="S2.SS2.p4.9.m5.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.9.m5.1b"><apply id="S2.SS2.p4.9.m5.1.1.cmml" xref="S2.SS2.p4.9.m5.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.9.m5.1.1.1.cmml" xref="S2.SS2.p4.9.m5.1.1">superscript</csymbol><apply id="S2.SS2.p4.9.m5.1.1.2.cmml" xref="S2.SS2.p4.9.m5.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.9.m5.1.1.2.1.cmml" xref="S2.SS2.p4.9.m5.1.1">subscript</csymbol><ci id="S2.SS2.p4.9.m5.1.1.2.2.cmml" xref="S2.SS2.p4.9.m5.1.1.2.2">𝑑</ci><cn type="integer" id="S2.SS2.p4.9.m5.1.1.2.3.cmml" xref="S2.SS2.p4.9.m5.1.1.2.3">1</cn></apply><ci id="S2.SS2.p4.9.m5.1.1.3.cmml" xref="S2.SS2.p4.9.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.9.m5.1c">d_{1}^{i}</annotation></semantics></math> leads to a higher SoC at <math id="S2.SS2.p4.10.m6.1" class="ltx_Math" alttext="t_{d}^{i}" display="inline"><semantics id="S2.SS2.p4.10.m6.1a"><msubsup id="S2.SS2.p4.10.m6.1.1" xref="S2.SS2.p4.10.m6.1.1.cmml"><mi id="S2.SS2.p4.10.m6.1.1.2.2" xref="S2.SS2.p4.10.m6.1.1.2.2.cmml">t</mi><mi id="S2.SS2.p4.10.m6.1.1.2.3" xref="S2.SS2.p4.10.m6.1.1.2.3.cmml">d</mi><mi id="S2.SS2.p4.10.m6.1.1.3" xref="S2.SS2.p4.10.m6.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.10.m6.1b"><apply id="S2.SS2.p4.10.m6.1.1.cmml" xref="S2.SS2.p4.10.m6.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.10.m6.1.1.1.cmml" xref="S2.SS2.p4.10.m6.1.1">superscript</csymbol><apply id="S2.SS2.p4.10.m6.1.1.2.cmml" xref="S2.SS2.p4.10.m6.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.10.m6.1.1.2.1.cmml" xref="S2.SS2.p4.10.m6.1.1">subscript</csymbol><ci id="S2.SS2.p4.10.m6.1.1.2.2.cmml" xref="S2.SS2.p4.10.m6.1.1.2.2">𝑡</ci><ci id="S2.SS2.p4.10.m6.1.1.2.3.cmml" xref="S2.SS2.p4.10.m6.1.1.2.3">𝑑</ci></apply><ci id="S2.SS2.p4.10.m6.1.1.3.cmml" xref="S2.SS2.p4.10.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.10.m6.1c">t_{d}^{i}</annotation></semantics></math> and a larger <math id="S2.SS2.p4.11.m7.1" class="ltx_Math" alttext="d_{2}^{i}" display="inline"><semantics id="S2.SS2.p4.11.m7.1a"><msubsup id="S2.SS2.p4.11.m7.1.1" xref="S2.SS2.p4.11.m7.1.1.cmml"><mi id="S2.SS2.p4.11.m7.1.1.2.2" xref="S2.SS2.p4.11.m7.1.1.2.2.cmml">d</mi><mn id="S2.SS2.p4.11.m7.1.1.2.3" xref="S2.SS2.p4.11.m7.1.1.2.3.cmml">2</mn><mi id="S2.SS2.p4.11.m7.1.1.3" xref="S2.SS2.p4.11.m7.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.11.m7.1b"><apply id="S2.SS2.p4.11.m7.1.1.cmml" xref="S2.SS2.p4.11.m7.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.11.m7.1.1.1.cmml" xref="S2.SS2.p4.11.m7.1.1">superscript</csymbol><apply id="S2.SS2.p4.11.m7.1.1.2.cmml" xref="S2.SS2.p4.11.m7.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.11.m7.1.1.2.1.cmml" xref="S2.SS2.p4.11.m7.1.1">subscript</csymbol><ci id="S2.SS2.p4.11.m7.1.1.2.2.cmml" xref="S2.SS2.p4.11.m7.1.1.2.2">𝑑</ci><cn type="integer" id="S2.SS2.p4.11.m7.1.1.2.3.cmml" xref="S2.SS2.p4.11.m7.1.1.2.3">2</cn></apply><ci id="S2.SS2.p4.11.m7.1.1.3.cmml" xref="S2.SS2.p4.11.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.11.m7.1c">d_{2}^{i}</annotation></semantics></math> determines a higher SoC during the charging/discharging duration.</p>
</div>
<div id="S2.SS2.p5" class="ltx_para">
<p id="S2.SS2.p5.1" class="ltx_p">We assume that the price of selling and the purchasing electricity are the same, the reward can be defined as <math id="S2.SS2.p5.1.m1.2" class="ltx_Math" alttext="r_{t}(s_{t}^{i},a_{t}^{i}):=" display="inline"><semantics id="S2.SS2.p5.1.m1.2a"><mrow id="S2.SS2.p5.1.m1.2.2" xref="S2.SS2.p5.1.m1.2.2.cmml"><mrow id="S2.SS2.p5.1.m1.2.2.2" xref="S2.SS2.p5.1.m1.2.2.2.cmml"><msub id="S2.SS2.p5.1.m1.2.2.2.4" xref="S2.SS2.p5.1.m1.2.2.2.4.cmml"><mi id="S2.SS2.p5.1.m1.2.2.2.4.2" xref="S2.SS2.p5.1.m1.2.2.2.4.2.cmml">r</mi><mi id="S2.SS2.p5.1.m1.2.2.2.4.3" xref="S2.SS2.p5.1.m1.2.2.2.4.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS2.p5.1.m1.2.2.2.3" xref="S2.SS2.p5.1.m1.2.2.2.3.cmml">​</mo><mrow id="S2.SS2.p5.1.m1.2.2.2.2.2" xref="S2.SS2.p5.1.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.SS2.p5.1.m1.2.2.2.2.2.3" xref="S2.SS2.p5.1.m1.2.2.2.2.3.cmml">(</mo><msubsup id="S2.SS2.p5.1.m1.1.1.1.1.1.1" xref="S2.SS2.p5.1.m1.1.1.1.1.1.1.cmml"><mi id="S2.SS2.p5.1.m1.1.1.1.1.1.1.2.2" xref="S2.SS2.p5.1.m1.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S2.SS2.p5.1.m1.1.1.1.1.1.1.2.3" xref="S2.SS2.p5.1.m1.1.1.1.1.1.1.2.3.cmml">t</mi><mi id="S2.SS2.p5.1.m1.1.1.1.1.1.1.3" xref="S2.SS2.p5.1.m1.1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo id="S2.SS2.p5.1.m1.2.2.2.2.2.4" xref="S2.SS2.p5.1.m1.2.2.2.2.3.cmml">,</mo><msubsup id="S2.SS2.p5.1.m1.2.2.2.2.2.2" xref="S2.SS2.p5.1.m1.2.2.2.2.2.2.cmml"><mi id="S2.SS2.p5.1.m1.2.2.2.2.2.2.2.2" xref="S2.SS2.p5.1.m1.2.2.2.2.2.2.2.2.cmml">a</mi><mi id="S2.SS2.p5.1.m1.2.2.2.2.2.2.2.3" xref="S2.SS2.p5.1.m1.2.2.2.2.2.2.2.3.cmml">t</mi><mi id="S2.SS2.p5.1.m1.2.2.2.2.2.2.3" xref="S2.SS2.p5.1.m1.2.2.2.2.2.2.3.cmml">i</mi></msubsup><mo rspace="0.278em" stretchy="false" id="S2.SS2.p5.1.m1.2.2.2.2.2.5" xref="S2.SS2.p5.1.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S2.SS2.p5.1.m1.2.2.3" xref="S2.SS2.p5.1.m1.2.2.3.cmml">:=</mo><mi id="S2.SS2.p5.1.m1.2.2.4" xref="S2.SS2.p5.1.m1.2.2.4.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.1.m1.2b"><apply id="S2.SS2.p5.1.m1.2.2.cmml" xref="S2.SS2.p5.1.m1.2.2"><csymbol cd="latexml" id="S2.SS2.p5.1.m1.2.2.3.cmml" xref="S2.SS2.p5.1.m1.2.2.3">assign</csymbol><apply id="S2.SS2.p5.1.m1.2.2.2.cmml" xref="S2.SS2.p5.1.m1.2.2.2"><times id="S2.SS2.p5.1.m1.2.2.2.3.cmml" xref="S2.SS2.p5.1.m1.2.2.2.3"></times><apply id="S2.SS2.p5.1.m1.2.2.2.4.cmml" xref="S2.SS2.p5.1.m1.2.2.2.4"><csymbol cd="ambiguous" id="S2.SS2.p5.1.m1.2.2.2.4.1.cmml" xref="S2.SS2.p5.1.m1.2.2.2.4">subscript</csymbol><ci id="S2.SS2.p5.1.m1.2.2.2.4.2.cmml" xref="S2.SS2.p5.1.m1.2.2.2.4.2">𝑟</ci><ci id="S2.SS2.p5.1.m1.2.2.2.4.3.cmml" xref="S2.SS2.p5.1.m1.2.2.2.4.3">𝑡</ci></apply><interval closure="open" id="S2.SS2.p5.1.m1.2.2.2.2.3.cmml" xref="S2.SS2.p5.1.m1.2.2.2.2.2"><apply id="S2.SS2.p5.1.m1.1.1.1.1.1.1.cmml" xref="S2.SS2.p5.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p5.1.m1.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p5.1.m1.1.1.1.1.1.1">superscript</csymbol><apply id="S2.SS2.p5.1.m1.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p5.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p5.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S2.SS2.p5.1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS2.p5.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S2.SS2.p5.1.m1.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S2.SS2.p5.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S2.SS2.p5.1.m1.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S2.SS2.p5.1.m1.1.1.1.1.1.1.3.cmml" xref="S2.SS2.p5.1.m1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S2.SS2.p5.1.m1.2.2.2.2.2.2.cmml" xref="S2.SS2.p5.1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.p5.1.m1.2.2.2.2.2.2.1.cmml" xref="S2.SS2.p5.1.m1.2.2.2.2.2.2">superscript</csymbol><apply id="S2.SS2.p5.1.m1.2.2.2.2.2.2.2.cmml" xref="S2.SS2.p5.1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.p5.1.m1.2.2.2.2.2.2.2.1.cmml" xref="S2.SS2.p5.1.m1.2.2.2.2.2.2">subscript</csymbol><ci id="S2.SS2.p5.1.m1.2.2.2.2.2.2.2.2.cmml" xref="S2.SS2.p5.1.m1.2.2.2.2.2.2.2.2">𝑎</ci><ci id="S2.SS2.p5.1.m1.2.2.2.2.2.2.2.3.cmml" xref="S2.SS2.p5.1.m1.2.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="S2.SS2.p5.1.m1.2.2.2.2.2.2.3.cmml" xref="S2.SS2.p5.1.m1.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply><csymbol cd="latexml" id="S2.SS2.p5.1.m1.2.2.4.cmml" xref="S2.SS2.p5.1.m1.2.2.4">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.1.m1.2c">r_{t}(s_{t}^{i},a_{t}^{i}):=</annotation></semantics></math></p>
<table id="S2.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex1.m1.6" class="ltx_Math" alttext="\begin{cases}-\sigma_{p}\cdot\psi_{t}\cdot a_{t}^{i}&amp;t_{a}^{i}\leq t&lt;t_{x}^{i},\\
-\sigma_{p}\cdot\psi_{t}\cdot a_{t}^{i}-\sigma_{x}\cdot\max(\mathrm{SoC}_{x}^{i}-\mathrm{SoC}_{t}^{i},0)&amp;t_{x}^{i}\leq t&lt;t_{d}^{i},\\
-\sigma_{d}\cdot\max(\mathrm{SoC}_{d}^{i}-\mathrm{SoC}_{t}^{i},0)&amp;t=t_{d}^{i}.\\
\end{cases}" display="block"><semantics id="S2.Ex1.m1.6a"><mrow id="S2.Ex1.m1.6.6" xref="S2.Ex1.m1.6.7.1.cmml"><mo id="S2.Ex1.m1.6.6.7" xref="S2.Ex1.m1.6.7.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt" id="S2.Ex1.m1.6.6.6" xref="S2.Ex1.m1.6.7.1.cmml"><mtr id="S2.Ex1.m1.6.6.6a" xref="S2.Ex1.m1.6.7.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.Ex1.m1.6.6.6b" xref="S2.Ex1.m1.6.7.1.cmml"><mrow id="S2.Ex1.m1.1.1.1.1.1.1" xref="S2.Ex1.m1.1.1.1.1.1.1.cmml"><mo id="S2.Ex1.m1.1.1.1.1.1.1a" xref="S2.Ex1.m1.1.1.1.1.1.1.cmml">−</mo><mrow id="S2.Ex1.m1.1.1.1.1.1.1.2" xref="S2.Ex1.m1.1.1.1.1.1.1.2.cmml"><msub id="S2.Ex1.m1.1.1.1.1.1.1.2.2" xref="S2.Ex1.m1.1.1.1.1.1.1.2.2.cmml"><mi id="S2.Ex1.m1.1.1.1.1.1.1.2.2.2" xref="S2.Ex1.m1.1.1.1.1.1.1.2.2.2.cmml">σ</mi><mi id="S2.Ex1.m1.1.1.1.1.1.1.2.2.3" xref="S2.Ex1.m1.1.1.1.1.1.1.2.2.3.cmml">p</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.Ex1.m1.1.1.1.1.1.1.2.1" xref="S2.Ex1.m1.1.1.1.1.1.1.2.1.cmml">⋅</mo><msub id="S2.Ex1.m1.1.1.1.1.1.1.2.3" xref="S2.Ex1.m1.1.1.1.1.1.1.2.3.cmml"><mi id="S2.Ex1.m1.1.1.1.1.1.1.2.3.2" xref="S2.Ex1.m1.1.1.1.1.1.1.2.3.2.cmml">ψ</mi><mi id="S2.Ex1.m1.1.1.1.1.1.1.2.3.3" xref="S2.Ex1.m1.1.1.1.1.1.1.2.3.3.cmml">t</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.Ex1.m1.1.1.1.1.1.1.2.1a" xref="S2.Ex1.m1.1.1.1.1.1.1.2.1.cmml">⋅</mo><msubsup id="S2.Ex1.m1.1.1.1.1.1.1.2.4" xref="S2.Ex1.m1.1.1.1.1.1.1.2.4.cmml"><mi id="S2.Ex1.m1.1.1.1.1.1.1.2.4.2.2" xref="S2.Ex1.m1.1.1.1.1.1.1.2.4.2.2.cmml">a</mi><mi id="S2.Ex1.m1.1.1.1.1.1.1.2.4.2.3" xref="S2.Ex1.m1.1.1.1.1.1.1.2.4.2.3.cmml">t</mi><mi id="S2.Ex1.m1.1.1.1.1.1.1.2.4.3" xref="S2.Ex1.m1.1.1.1.1.1.1.2.4.3.cmml">i</mi></msubsup></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.Ex1.m1.6.6.6c" xref="S2.Ex1.m1.6.7.1.cmml"><mrow id="S2.Ex1.m1.2.2.2.2.2.1.1" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.cmml"><mrow id="S2.Ex1.m1.2.2.2.2.2.1.1.1" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.cmml"><msubsup id="S2.Ex1.m1.2.2.2.2.2.1.1.1.2" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.cmml"><mi id="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.2.2" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.2.2.cmml">t</mi><mi id="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.2.3" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.2.3.cmml">a</mi><mi id="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.3" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.3.cmml">i</mi></msubsup><mo id="S2.Ex1.m1.2.2.2.2.2.1.1.1.3" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.3.cmml">≤</mo><mi id="S2.Ex1.m1.2.2.2.2.2.1.1.1.4" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.4.cmml">t</mi><mo id="S2.Ex1.m1.2.2.2.2.2.1.1.1.5" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.5.cmml">&lt;</mo><msubsup id="S2.Ex1.m1.2.2.2.2.2.1.1.1.6" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.cmml"><mi id="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.2.2" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.2.2.cmml">t</mi><mi id="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.2.3" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.2.3.cmml">x</mi><mi id="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.3" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.3.cmml">i</mi></msubsup></mrow><mo id="S2.Ex1.m1.2.2.2.2.2.1.1.2" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.cmml">,</mo></mrow></mtd></mtr><mtr id="S2.Ex1.m1.6.6.6d" xref="S2.Ex1.m1.6.7.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.Ex1.m1.6.6.6e" xref="S2.Ex1.m1.6.7.1.cmml"><mrow id="S2.Ex1.m1.3.3.3.3.1.1" xref="S2.Ex1.m1.3.3.3.3.1.1.cmml"><mrow id="S2.Ex1.m1.3.3.3.3.1.1.5" xref="S2.Ex1.m1.3.3.3.3.1.1.5.cmml"><mo id="S2.Ex1.m1.3.3.3.3.1.1.5a" xref="S2.Ex1.m1.3.3.3.3.1.1.5.cmml">−</mo><mrow id="S2.Ex1.m1.3.3.3.3.1.1.5.2" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.cmml"><msub id="S2.Ex1.m1.3.3.3.3.1.1.5.2.2" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.2.cmml"><mi id="S2.Ex1.m1.3.3.3.3.1.1.5.2.2.2" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.2.2.cmml">σ</mi><mi id="S2.Ex1.m1.3.3.3.3.1.1.5.2.2.3" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.2.3.cmml">p</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.Ex1.m1.3.3.3.3.1.1.5.2.1" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.1.cmml">⋅</mo><msub id="S2.Ex1.m1.3.3.3.3.1.1.5.2.3" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.3.cmml"><mi id="S2.Ex1.m1.3.3.3.3.1.1.5.2.3.2" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.3.2.cmml">ψ</mi><mi id="S2.Ex1.m1.3.3.3.3.1.1.5.2.3.3" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.3.3.cmml">t</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.Ex1.m1.3.3.3.3.1.1.5.2.1a" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.1.cmml">⋅</mo><msubsup id="S2.Ex1.m1.3.3.3.3.1.1.5.2.4" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.cmml"><mi id="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.2.2" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.2.2.cmml">a</mi><mi id="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.2.3" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.2.3.cmml">t</mi><mi id="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.3" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.3.cmml">i</mi></msubsup></mrow></mrow><mo id="S2.Ex1.m1.3.3.3.3.1.1.4" xref="S2.Ex1.m1.3.3.3.3.1.1.4.cmml">−</mo><mrow id="S2.Ex1.m1.3.3.3.3.1.1.3" xref="S2.Ex1.m1.3.3.3.3.1.1.3.cmml"><msub id="S2.Ex1.m1.3.3.3.3.1.1.3.3" xref="S2.Ex1.m1.3.3.3.3.1.1.3.3.cmml"><mi id="S2.Ex1.m1.3.3.3.3.1.1.3.3.2" xref="S2.Ex1.m1.3.3.3.3.1.1.3.3.2.cmml">σ</mi><mi id="S2.Ex1.m1.3.3.3.3.1.1.3.3.3" xref="S2.Ex1.m1.3.3.3.3.1.1.3.3.3.cmml">x</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.Ex1.m1.3.3.3.3.1.1.3.2" xref="S2.Ex1.m1.3.3.3.3.1.1.3.2.cmml">⋅</mo><mrow id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.2.cmml"><mi id="S2.Ex1.m1.3.3.3.3.1.1.1" xref="S2.Ex1.m1.3.3.3.3.1.1.1.cmml">max</mi><mo id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1a" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.2.cmml">⁡</mo><mrow id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.2.cmml"><mo stretchy="false" id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.2" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.2.cmml">(</mo><mrow id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.cmml"><msubsup id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.cmml"><mi id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.2.2" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.2.2.cmml">SoC</mi><mi id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.2.3" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.2.3.cmml">x</mi><mi id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.3" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.3.cmml">i</mi></msubsup><mo id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.1" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.1.cmml">−</mo><msubsup id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.cmml"><mi id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.2.2" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.2.2.cmml">SoC</mi><mi id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.2.3" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.2.3.cmml">t</mi><mi id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.3" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.3.cmml">i</mi></msubsup></mrow><mo id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.3" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.2.cmml">,</mo><mn id="S2.Ex1.m1.3.3.3.3.1.1.2" xref="S2.Ex1.m1.3.3.3.3.1.1.2.cmml">0</mn><mo stretchy="false" id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.4" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.Ex1.m1.6.6.6f" xref="S2.Ex1.m1.6.7.1.cmml"><mrow id="S2.Ex1.m1.4.4.4.4.2.1.1" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.cmml"><mrow id="S2.Ex1.m1.4.4.4.4.2.1.1.1" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.cmml"><msubsup id="S2.Ex1.m1.4.4.4.4.2.1.1.1.2" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.cmml"><mi id="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.2.2" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.2.2.cmml">t</mi><mi id="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.2.3" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.2.3.cmml">x</mi><mi id="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.3" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.3.cmml">i</mi></msubsup><mo id="S2.Ex1.m1.4.4.4.4.2.1.1.1.3" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.3.cmml">≤</mo><mi id="S2.Ex1.m1.4.4.4.4.2.1.1.1.4" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.4.cmml">t</mi><mo id="S2.Ex1.m1.4.4.4.4.2.1.1.1.5" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.5.cmml">&lt;</mo><msubsup id="S2.Ex1.m1.4.4.4.4.2.1.1.1.6" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.cmml"><mi id="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.2.2" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.2.2.cmml">t</mi><mi id="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.2.3" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.2.3.cmml">d</mi><mi id="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.3" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.3.cmml">i</mi></msubsup></mrow><mo id="S2.Ex1.m1.4.4.4.4.2.1.1.2" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.cmml">,</mo></mrow></mtd></mtr><mtr id="S2.Ex1.m1.6.6.6g" xref="S2.Ex1.m1.6.7.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.Ex1.m1.6.6.6h" xref="S2.Ex1.m1.6.7.1.cmml"><mrow id="S2.Ex1.m1.5.5.5.5.1.1" xref="S2.Ex1.m1.5.5.5.5.1.1.cmml"><mo id="S2.Ex1.m1.5.5.5.5.1.1a" xref="S2.Ex1.m1.5.5.5.5.1.1.cmml">−</mo><mrow id="S2.Ex1.m1.5.5.5.5.1.1.3" xref="S2.Ex1.m1.5.5.5.5.1.1.3.cmml"><msub id="S2.Ex1.m1.5.5.5.5.1.1.3.3" xref="S2.Ex1.m1.5.5.5.5.1.1.3.3.cmml"><mi id="S2.Ex1.m1.5.5.5.5.1.1.3.3.2" xref="S2.Ex1.m1.5.5.5.5.1.1.3.3.2.cmml">σ</mi><mi id="S2.Ex1.m1.5.5.5.5.1.1.3.3.3" xref="S2.Ex1.m1.5.5.5.5.1.1.3.3.3.cmml">d</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.Ex1.m1.5.5.5.5.1.1.3.2" xref="S2.Ex1.m1.5.5.5.5.1.1.3.2.cmml">⋅</mo><mrow id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.2.cmml"><mi id="S2.Ex1.m1.5.5.5.5.1.1.1" xref="S2.Ex1.m1.5.5.5.5.1.1.1.cmml">max</mi><mo id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1a" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.2.cmml">⁡</mo><mrow id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.2.cmml"><mo stretchy="false" id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.2" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.2.cmml">(</mo><mrow id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.cmml"><msubsup id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.cmml"><mi id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.2.2" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.2.2.cmml">SoC</mi><mi id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.2.3" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.2.3.cmml">d</mi><mi id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.3" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.3.cmml">i</mi></msubsup><mo id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.1" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.1.cmml">−</mo><msubsup id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.cmml"><mi id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.2.2" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.2.2.cmml">SoC</mi><mi id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.2.3" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.2.3.cmml">t</mi><mi id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.3" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.3.cmml">i</mi></msubsup></mrow><mo id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.3" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.2.cmml">,</mo><mn id="S2.Ex1.m1.5.5.5.5.1.1.2" xref="S2.Ex1.m1.5.5.5.5.1.1.2.cmml">0</mn><mo stretchy="false" id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.4" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.Ex1.m1.6.6.6i" xref="S2.Ex1.m1.6.7.1.cmml"><mrow id="S2.Ex1.m1.6.6.6.6.2.1.1" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.cmml"><mrow id="S2.Ex1.m1.6.6.6.6.2.1.1.1" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.cmml"><mi id="S2.Ex1.m1.6.6.6.6.2.1.1.1.2" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.2.cmml">t</mi><mo id="S2.Ex1.m1.6.6.6.6.2.1.1.1.1" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.1.cmml">=</mo><msubsup id="S2.Ex1.m1.6.6.6.6.2.1.1.1.3" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.cmml"><mi id="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.2.2" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.2.2.cmml">t</mi><mi id="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.2.3" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.2.3.cmml">d</mi><mi id="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.3" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.3.cmml">i</mi></msubsup></mrow><mo lspace="0em" id="S2.Ex1.m1.6.6.6.6.2.1.1.2" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.cmml">.</mo></mrow></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1.m1.6b"><apply id="S2.Ex1.m1.6.7.1.cmml" xref="S2.Ex1.m1.6.6"><csymbol cd="latexml" id="S2.Ex1.m1.6.7.1.1.cmml" xref="S2.Ex1.m1.6.6.7">cases</csymbol><apply id="S2.Ex1.m1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1"><minus id="S2.Ex1.m1.1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1"></minus><apply id="S2.Ex1.m1.1.1.1.1.1.1.2.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2"><ci id="S2.Ex1.m1.1.1.1.1.1.1.2.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.1">⋅</ci><apply id="S2.Ex1.m1.1.1.1.1.1.1.2.2.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S2.Ex1.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.2.2">𝜎</ci><ci id="S2.Ex1.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.2.3">𝑝</ci></apply><apply id="S2.Ex1.m1.1.1.1.1.1.1.2.3.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.1.1.1.1.1.1.2.3.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S2.Ex1.m1.1.1.1.1.1.1.2.3.2.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.3.2">𝜓</ci><ci id="S2.Ex1.m1.1.1.1.1.1.1.2.3.3.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.3.3">𝑡</ci></apply><apply id="S2.Ex1.m1.1.1.1.1.1.1.2.4.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S2.Ex1.m1.1.1.1.1.1.1.2.4.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.4">superscript</csymbol><apply id="S2.Ex1.m1.1.1.1.1.1.1.2.4.2.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S2.Ex1.m1.1.1.1.1.1.1.2.4.2.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.4">subscript</csymbol><ci id="S2.Ex1.m1.1.1.1.1.1.1.2.4.2.2.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.4.2.2">𝑎</ci><ci id="S2.Ex1.m1.1.1.1.1.1.1.2.4.2.3.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.4.2.3">𝑡</ci></apply><ci id="S2.Ex1.m1.1.1.1.1.1.1.2.4.3.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2.4.3">𝑖</ci></apply></apply></apply><apply id="S2.Ex1.m1.2.2.2.2.2.1.1.1.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1"><and id="S2.Ex1.m1.2.2.2.2.2.1.1.1a.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1"></and><apply id="S2.Ex1.m1.2.2.2.2.2.1.1.1b.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1"><leq id="S2.Ex1.m1.2.2.2.2.2.1.1.1.3.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.3"></leq><apply id="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.1.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.2">superscript</csymbol><apply id="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.2.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.2.1.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.2">subscript</csymbol><ci id="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.2.2.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.2.2">𝑡</ci><ci id="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.2.3.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.2.3">𝑎</ci></apply><ci id="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.3.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.2.3">𝑖</ci></apply><ci id="S2.Ex1.m1.2.2.2.2.2.1.1.1.4.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.4">𝑡</ci></apply><apply id="S2.Ex1.m1.2.2.2.2.2.1.1.1c.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1"><lt id="S2.Ex1.m1.2.2.2.2.2.1.1.1.5.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.5"></lt><share href="#S2.Ex1.m1.2.2.2.2.2.1.1.1.4.cmml" id="S2.Ex1.m1.2.2.2.2.2.1.1.1d.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1"></share><apply id="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.6"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.1.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.6">superscript</csymbol><apply id="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.2.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.6"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.2.1.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.6">subscript</csymbol><ci id="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.2.2.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.2.2">𝑡</ci><ci id="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.2.3.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.2.3">𝑥</ci></apply><ci id="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.3.cmml" xref="S2.Ex1.m1.2.2.2.2.2.1.1.1.6.3">𝑖</ci></apply></apply></apply><apply id="S2.Ex1.m1.3.3.3.3.1.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1"><minus id="S2.Ex1.m1.3.3.3.3.1.1.4.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.4"></minus><apply id="S2.Ex1.m1.3.3.3.3.1.1.5.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5"><minus id="S2.Ex1.m1.3.3.3.3.1.1.5.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5"></minus><apply id="S2.Ex1.m1.3.3.3.3.1.1.5.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2"><ci id="S2.Ex1.m1.3.3.3.3.1.1.5.2.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.1">⋅</ci><apply id="S2.Ex1.m1.3.3.3.3.1.1.5.2.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.3.1.1.5.2.2.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.2">subscript</csymbol><ci id="S2.Ex1.m1.3.3.3.3.1.1.5.2.2.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.2.2">𝜎</ci><ci id="S2.Ex1.m1.3.3.3.3.1.1.5.2.2.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.2.3">𝑝</ci></apply><apply id="S2.Ex1.m1.3.3.3.3.1.1.5.2.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.3.1.1.5.2.3.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.3">subscript</csymbol><ci id="S2.Ex1.m1.3.3.3.3.1.1.5.2.3.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.3.2">𝜓</ci><ci id="S2.Ex1.m1.3.3.3.3.1.1.5.2.3.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.3.3">𝑡</ci></apply><apply id="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.4"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.4">superscript</csymbol><apply id="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.4"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.2.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.4">subscript</csymbol><ci id="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.2.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.2.2">𝑎</ci><ci id="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.2.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.2.3">𝑡</ci></apply><ci id="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.5.2.4.3">𝑖</ci></apply></apply></apply><apply id="S2.Ex1.m1.3.3.3.3.1.1.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3"><ci id="S2.Ex1.m1.3.3.3.3.1.1.3.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.2">⋅</ci><apply id="S2.Ex1.m1.3.3.3.3.1.1.3.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.3.1.1.3.3.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.3">subscript</csymbol><ci id="S2.Ex1.m1.3.3.3.3.1.1.3.3.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.3.2">𝜎</ci><ci id="S2.Ex1.m1.3.3.3.3.1.1.3.3.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.3.3">𝑥</ci></apply><apply id="S2.Ex1.m1.3.3.3.3.1.1.3.1.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1"><max id="S2.Ex1.m1.3.3.3.3.1.1.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.1"></max><apply id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1"><minus id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.1"></minus><apply id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2">superscript</csymbol><apply id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.2.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2">subscript</csymbol><ci id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.2.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.2.2">SoC</ci><ci id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.2.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.2.3">𝑥</ci></apply><ci id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.2.3">𝑖</ci></apply><apply id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3">superscript</csymbol><apply id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.2.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3">subscript</csymbol><ci id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.2.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.2.2">SoC</ci><ci id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.2.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.2.3">𝑡</ci></apply><ci id="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.3.1.1.1.1.3.3">𝑖</ci></apply></apply><cn type="integer" id="S2.Ex1.m1.3.3.3.3.1.1.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.2">0</cn></apply></apply></apply><apply id="S2.Ex1.m1.4.4.4.4.2.1.1.1.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1"><and id="S2.Ex1.m1.4.4.4.4.2.1.1.1a.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1"></and><apply id="S2.Ex1.m1.4.4.4.4.2.1.1.1b.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1"><leq id="S2.Ex1.m1.4.4.4.4.2.1.1.1.3.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.3"></leq><apply id="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.1.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.2">superscript</csymbol><apply id="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.2.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.2.1.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.2">subscript</csymbol><ci id="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.2.2.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.2.2">𝑡</ci><ci id="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.2.3.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.2.3">𝑥</ci></apply><ci id="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.3.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.2.3">𝑖</ci></apply><ci id="S2.Ex1.m1.4.4.4.4.2.1.1.1.4.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.4">𝑡</ci></apply><apply id="S2.Ex1.m1.4.4.4.4.2.1.1.1c.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1"><lt id="S2.Ex1.m1.4.4.4.4.2.1.1.1.5.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.5"></lt><share href="#S2.Ex1.m1.4.4.4.4.2.1.1.1.4.cmml" id="S2.Ex1.m1.4.4.4.4.2.1.1.1d.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1"></share><apply id="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.6"><csymbol cd="ambiguous" id="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.1.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.6">superscript</csymbol><apply id="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.2.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.6"><csymbol cd="ambiguous" id="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.2.1.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.6">subscript</csymbol><ci id="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.2.2.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.2.2">𝑡</ci><ci id="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.2.3.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.2.3">𝑑</ci></apply><ci id="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.3.cmml" xref="S2.Ex1.m1.4.4.4.4.2.1.1.1.6.3">𝑖</ci></apply></apply></apply><apply id="S2.Ex1.m1.5.5.5.5.1.1.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1"><minus id="S2.Ex1.m1.5.5.5.5.1.1.4.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1"></minus><apply id="S2.Ex1.m1.5.5.5.5.1.1.3.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3"><ci id="S2.Ex1.m1.5.5.5.5.1.1.3.2.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.2">⋅</ci><apply id="S2.Ex1.m1.5.5.5.5.1.1.3.3.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.5.5.5.5.1.1.3.3.1.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.3">subscript</csymbol><ci id="S2.Ex1.m1.5.5.5.5.1.1.3.3.2.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.3.2">𝜎</ci><ci id="S2.Ex1.m1.5.5.5.5.1.1.3.3.3.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.3.3">𝑑</ci></apply><apply id="S2.Ex1.m1.5.5.5.5.1.1.3.1.2.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1"><max id="S2.Ex1.m1.5.5.5.5.1.1.1.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.1"></max><apply id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1"><minus id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.1.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.1"></minus><apply id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.1.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2">superscript</csymbol><apply id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.2.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.2.1.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2">subscript</csymbol><ci id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.2.2.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.2.2">SoC</ci><ci id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.2.3.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.2.3">𝑑</ci></apply><ci id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.3.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.2.3">𝑖</ci></apply><apply id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.1.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3">superscript</csymbol><apply id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.2.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.2.1.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3">subscript</csymbol><ci id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.2.2.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.2.2">SoC</ci><ci id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.2.3.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.2.3">𝑡</ci></apply><ci id="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.3.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.3.1.1.1.1.3.3">𝑖</ci></apply></apply><cn type="integer" id="S2.Ex1.m1.5.5.5.5.1.1.2.cmml" xref="S2.Ex1.m1.5.5.5.5.1.1.2">0</cn></apply></apply></apply><apply id="S2.Ex1.m1.6.6.6.6.2.1.1.1.cmml" xref="S2.Ex1.m1.6.6.6.6.2.1.1"><eq id="S2.Ex1.m1.6.6.6.6.2.1.1.1.1.cmml" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.1"></eq><ci id="S2.Ex1.m1.6.6.6.6.2.1.1.1.2.cmml" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.2">𝑡</ci><apply id="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.cmml" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.1.cmml" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.3">superscript</csymbol><apply id="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.2.cmml" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.2.1.cmml" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.3">subscript</csymbol><ci id="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.2.2.cmml" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.2.2">𝑡</ci><ci id="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.2.3.cmml" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.2.3">𝑑</ci></apply><ci id="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.3.cmml" xref="S2.Ex1.m1.6.6.6.6.2.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1.m1.6c">\begin{cases}-\sigma_{p}\cdot\psi_{t}\cdot a_{t}^{i}&amp;t_{a}^{i}\leq t&lt;t_{x}^{i},\\
-\sigma_{p}\cdot\psi_{t}\cdot a_{t}^{i}-\sigma_{x}\cdot\max(\mathrm{SoC}_{x}^{i}-\mathrm{SoC}_{t}^{i},0)&amp;t_{x}^{i}\leq t&lt;t_{d}^{i},\\
-\sigma_{d}\cdot\max(\mathrm{SoC}_{d}^{i}-\mathrm{SoC}_{t}^{i},0)&amp;t=t_{d}^{i}.\\
\end{cases}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S2.SS2.p5.7" class="ltx_p">Here, the factors <math id="S2.SS2.p5.2.m1.1" class="ltx_Math" alttext="\sigma_{p}" display="inline"><semantics id="S2.SS2.p5.2.m1.1a"><msub id="S2.SS2.p5.2.m1.1.1" xref="S2.SS2.p5.2.m1.1.1.cmml"><mi id="S2.SS2.p5.2.m1.1.1.2" xref="S2.SS2.p5.2.m1.1.1.2.cmml">σ</mi><mi id="S2.SS2.p5.2.m1.1.1.3" xref="S2.SS2.p5.2.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.2.m1.1b"><apply id="S2.SS2.p5.2.m1.1.1.cmml" xref="S2.SS2.p5.2.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p5.2.m1.1.1.1.cmml" xref="S2.SS2.p5.2.m1.1.1">subscript</csymbol><ci id="S2.SS2.p5.2.m1.1.1.2.cmml" xref="S2.SS2.p5.2.m1.1.1.2">𝜎</ci><ci id="S2.SS2.p5.2.m1.1.1.3.cmml" xref="S2.SS2.p5.2.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.2.m1.1c">\sigma_{p}</annotation></semantics></math>, <math id="S2.SS2.p5.3.m2.1" class="ltx_Math" alttext="\sigma_{x}" display="inline"><semantics id="S2.SS2.p5.3.m2.1a"><msub id="S2.SS2.p5.3.m2.1.1" xref="S2.SS2.p5.3.m2.1.1.cmml"><mi id="S2.SS2.p5.3.m2.1.1.2" xref="S2.SS2.p5.3.m2.1.1.2.cmml">σ</mi><mi id="S2.SS2.p5.3.m2.1.1.3" xref="S2.SS2.p5.3.m2.1.1.3.cmml">x</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.3.m2.1b"><apply id="S2.SS2.p5.3.m2.1.1.cmml" xref="S2.SS2.p5.3.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p5.3.m2.1.1.1.cmml" xref="S2.SS2.p5.3.m2.1.1">subscript</csymbol><ci id="S2.SS2.p5.3.m2.1.1.2.cmml" xref="S2.SS2.p5.3.m2.1.1.2">𝜎</ci><ci id="S2.SS2.p5.3.m2.1.1.3.cmml" xref="S2.SS2.p5.3.m2.1.1.3">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.3.m2.1c">\sigma_{x}</annotation></semantics></math>, and <math id="S2.SS2.p5.4.m3.1" class="ltx_Math" alttext="\sigma_{d}" display="inline"><semantics id="S2.SS2.p5.4.m3.1a"><msub id="S2.SS2.p5.4.m3.1.1" xref="S2.SS2.p5.4.m3.1.1.cmml"><mi id="S2.SS2.p5.4.m3.1.1.2" xref="S2.SS2.p5.4.m3.1.1.2.cmml">σ</mi><mi id="S2.SS2.p5.4.m3.1.1.3" xref="S2.SS2.p5.4.m3.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.4.m3.1b"><apply id="S2.SS2.p5.4.m3.1.1.cmml" xref="S2.SS2.p5.4.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p5.4.m3.1.1.1.cmml" xref="S2.SS2.p5.4.m3.1.1">subscript</csymbol><ci id="S2.SS2.p5.4.m3.1.1.2.cmml" xref="S2.SS2.p5.4.m3.1.1.2">𝜎</ci><ci id="S2.SS2.p5.4.m3.1.1.3.cmml" xref="S2.SS2.p5.4.m3.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.4.m3.1c">\sigma_{d}</annotation></semantics></math> depict the user’s sensitivity to price, anxiety, and demand response, respectively. When <math id="S2.SS2.p5.5.m4.1" class="ltx_Math" alttext="t_{a}^{i}\leq t&lt;t_{x}^{i}" display="inline"><semantics id="S2.SS2.p5.5.m4.1a"><mrow id="S2.SS2.p5.5.m4.1.1" xref="S2.SS2.p5.5.m4.1.1.cmml"><msubsup id="S2.SS2.p5.5.m4.1.1.2" xref="S2.SS2.p5.5.m4.1.1.2.cmml"><mi id="S2.SS2.p5.5.m4.1.1.2.2.2" xref="S2.SS2.p5.5.m4.1.1.2.2.2.cmml">t</mi><mi id="S2.SS2.p5.5.m4.1.1.2.2.3" xref="S2.SS2.p5.5.m4.1.1.2.2.3.cmml">a</mi><mi id="S2.SS2.p5.5.m4.1.1.2.3" xref="S2.SS2.p5.5.m4.1.1.2.3.cmml">i</mi></msubsup><mo id="S2.SS2.p5.5.m4.1.1.3" xref="S2.SS2.p5.5.m4.1.1.3.cmml">≤</mo><mi id="S2.SS2.p5.5.m4.1.1.4" xref="S2.SS2.p5.5.m4.1.1.4.cmml">t</mi><mo id="S2.SS2.p5.5.m4.1.1.5" xref="S2.SS2.p5.5.m4.1.1.5.cmml">&lt;</mo><msubsup id="S2.SS2.p5.5.m4.1.1.6" xref="S2.SS2.p5.5.m4.1.1.6.cmml"><mi id="S2.SS2.p5.5.m4.1.1.6.2.2" xref="S2.SS2.p5.5.m4.1.1.6.2.2.cmml">t</mi><mi id="S2.SS2.p5.5.m4.1.1.6.2.3" xref="S2.SS2.p5.5.m4.1.1.6.2.3.cmml">x</mi><mi id="S2.SS2.p5.5.m4.1.1.6.3" xref="S2.SS2.p5.5.m4.1.1.6.3.cmml">i</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.5.m4.1b"><apply id="S2.SS2.p5.5.m4.1.1.cmml" xref="S2.SS2.p5.5.m4.1.1"><and id="S2.SS2.p5.5.m4.1.1a.cmml" xref="S2.SS2.p5.5.m4.1.1"></and><apply id="S2.SS2.p5.5.m4.1.1b.cmml" xref="S2.SS2.p5.5.m4.1.1"><leq id="S2.SS2.p5.5.m4.1.1.3.cmml" xref="S2.SS2.p5.5.m4.1.1.3"></leq><apply id="S2.SS2.p5.5.m4.1.1.2.cmml" xref="S2.SS2.p5.5.m4.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p5.5.m4.1.1.2.1.cmml" xref="S2.SS2.p5.5.m4.1.1.2">superscript</csymbol><apply id="S2.SS2.p5.5.m4.1.1.2.2.cmml" xref="S2.SS2.p5.5.m4.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p5.5.m4.1.1.2.2.1.cmml" xref="S2.SS2.p5.5.m4.1.1.2">subscript</csymbol><ci id="S2.SS2.p5.5.m4.1.1.2.2.2.cmml" xref="S2.SS2.p5.5.m4.1.1.2.2.2">𝑡</ci><ci id="S2.SS2.p5.5.m4.1.1.2.2.3.cmml" xref="S2.SS2.p5.5.m4.1.1.2.2.3">𝑎</ci></apply><ci id="S2.SS2.p5.5.m4.1.1.2.3.cmml" xref="S2.SS2.p5.5.m4.1.1.2.3">𝑖</ci></apply><ci id="S2.SS2.p5.5.m4.1.1.4.cmml" xref="S2.SS2.p5.5.m4.1.1.4">𝑡</ci></apply><apply id="S2.SS2.p5.5.m4.1.1c.cmml" xref="S2.SS2.p5.5.m4.1.1"><lt id="S2.SS2.p5.5.m4.1.1.5.cmml" xref="S2.SS2.p5.5.m4.1.1.5"></lt><share href="#S2.SS2.p5.5.m4.1.1.4.cmml" id="S2.SS2.p5.5.m4.1.1d.cmml" xref="S2.SS2.p5.5.m4.1.1"></share><apply id="S2.SS2.p5.5.m4.1.1.6.cmml" xref="S2.SS2.p5.5.m4.1.1.6"><csymbol cd="ambiguous" id="S2.SS2.p5.5.m4.1.1.6.1.cmml" xref="S2.SS2.p5.5.m4.1.1.6">superscript</csymbol><apply id="S2.SS2.p5.5.m4.1.1.6.2.cmml" xref="S2.SS2.p5.5.m4.1.1.6"><csymbol cd="ambiguous" id="S2.SS2.p5.5.m4.1.1.6.2.1.cmml" xref="S2.SS2.p5.5.m4.1.1.6">subscript</csymbol><ci id="S2.SS2.p5.5.m4.1.1.6.2.2.cmml" xref="S2.SS2.p5.5.m4.1.1.6.2.2">𝑡</ci><ci id="S2.SS2.p5.5.m4.1.1.6.2.3.cmml" xref="S2.SS2.p5.5.m4.1.1.6.2.3">𝑥</ci></apply><ci id="S2.SS2.p5.5.m4.1.1.6.3.cmml" xref="S2.SS2.p5.5.m4.1.1.6.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.5.m4.1c">t_{a}^{i}\leq t&lt;t_{x}^{i}</annotation></semantics></math>, the reward fully considers the influence of electricity price fluctuations to EV charging/discharging decision. Then the EV user’s anxiety is taken into consideration during <math id="S2.SS2.p5.6.m5.1" class="ltx_Math" alttext="t_{x}^{i}\leq t&lt;t_{d}^{i}" display="inline"><semantics id="S2.SS2.p5.6.m5.1a"><mrow id="S2.SS2.p5.6.m5.1.1" xref="S2.SS2.p5.6.m5.1.1.cmml"><msubsup id="S2.SS2.p5.6.m5.1.1.2" xref="S2.SS2.p5.6.m5.1.1.2.cmml"><mi id="S2.SS2.p5.6.m5.1.1.2.2.2" xref="S2.SS2.p5.6.m5.1.1.2.2.2.cmml">t</mi><mi id="S2.SS2.p5.6.m5.1.1.2.2.3" xref="S2.SS2.p5.6.m5.1.1.2.2.3.cmml">x</mi><mi id="S2.SS2.p5.6.m5.1.1.2.3" xref="S2.SS2.p5.6.m5.1.1.2.3.cmml">i</mi></msubsup><mo id="S2.SS2.p5.6.m5.1.1.3" xref="S2.SS2.p5.6.m5.1.1.3.cmml">≤</mo><mi id="S2.SS2.p5.6.m5.1.1.4" xref="S2.SS2.p5.6.m5.1.1.4.cmml">t</mi><mo id="S2.SS2.p5.6.m5.1.1.5" xref="S2.SS2.p5.6.m5.1.1.5.cmml">&lt;</mo><msubsup id="S2.SS2.p5.6.m5.1.1.6" xref="S2.SS2.p5.6.m5.1.1.6.cmml"><mi id="S2.SS2.p5.6.m5.1.1.6.2.2" xref="S2.SS2.p5.6.m5.1.1.6.2.2.cmml">t</mi><mi id="S2.SS2.p5.6.m5.1.1.6.2.3" xref="S2.SS2.p5.6.m5.1.1.6.2.3.cmml">d</mi><mi id="S2.SS2.p5.6.m5.1.1.6.3" xref="S2.SS2.p5.6.m5.1.1.6.3.cmml">i</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.6.m5.1b"><apply id="S2.SS2.p5.6.m5.1.1.cmml" xref="S2.SS2.p5.6.m5.1.1"><and id="S2.SS2.p5.6.m5.1.1a.cmml" xref="S2.SS2.p5.6.m5.1.1"></and><apply id="S2.SS2.p5.6.m5.1.1b.cmml" xref="S2.SS2.p5.6.m5.1.1"><leq id="S2.SS2.p5.6.m5.1.1.3.cmml" xref="S2.SS2.p5.6.m5.1.1.3"></leq><apply id="S2.SS2.p5.6.m5.1.1.2.cmml" xref="S2.SS2.p5.6.m5.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p5.6.m5.1.1.2.1.cmml" xref="S2.SS2.p5.6.m5.1.1.2">superscript</csymbol><apply id="S2.SS2.p5.6.m5.1.1.2.2.cmml" xref="S2.SS2.p5.6.m5.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p5.6.m5.1.1.2.2.1.cmml" xref="S2.SS2.p5.6.m5.1.1.2">subscript</csymbol><ci id="S2.SS2.p5.6.m5.1.1.2.2.2.cmml" xref="S2.SS2.p5.6.m5.1.1.2.2.2">𝑡</ci><ci id="S2.SS2.p5.6.m5.1.1.2.2.3.cmml" xref="S2.SS2.p5.6.m5.1.1.2.2.3">𝑥</ci></apply><ci id="S2.SS2.p5.6.m5.1.1.2.3.cmml" xref="S2.SS2.p5.6.m5.1.1.2.3">𝑖</ci></apply><ci id="S2.SS2.p5.6.m5.1.1.4.cmml" xref="S2.SS2.p5.6.m5.1.1.4">𝑡</ci></apply><apply id="S2.SS2.p5.6.m5.1.1c.cmml" xref="S2.SS2.p5.6.m5.1.1"><lt id="S2.SS2.p5.6.m5.1.1.5.cmml" xref="S2.SS2.p5.6.m5.1.1.5"></lt><share href="#S2.SS2.p5.6.m5.1.1.4.cmml" id="S2.SS2.p5.6.m5.1.1d.cmml" xref="S2.SS2.p5.6.m5.1.1"></share><apply id="S2.SS2.p5.6.m5.1.1.6.cmml" xref="S2.SS2.p5.6.m5.1.1.6"><csymbol cd="ambiguous" id="S2.SS2.p5.6.m5.1.1.6.1.cmml" xref="S2.SS2.p5.6.m5.1.1.6">superscript</csymbol><apply id="S2.SS2.p5.6.m5.1.1.6.2.cmml" xref="S2.SS2.p5.6.m5.1.1.6"><csymbol cd="ambiguous" id="S2.SS2.p5.6.m5.1.1.6.2.1.cmml" xref="S2.SS2.p5.6.m5.1.1.6">subscript</csymbol><ci id="S2.SS2.p5.6.m5.1.1.6.2.2.cmml" xref="S2.SS2.p5.6.m5.1.1.6.2.2">𝑡</ci><ci id="S2.SS2.p5.6.m5.1.1.6.2.3.cmml" xref="S2.SS2.p5.6.m5.1.1.6.2.3">𝑑</ci></apply><ci id="S2.SS2.p5.6.m5.1.1.6.3.cmml" xref="S2.SS2.p5.6.m5.1.1.6.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.6.m5.1c">t_{x}^{i}\leq t&lt;t_{d}^{i}</annotation></semantics></math>. As the EV leaves the charging station, i.e., <math id="S2.SS2.p5.7.m6.1" class="ltx_Math" alttext="t=t_{d}^{i}" display="inline"><semantics id="S2.SS2.p5.7.m6.1a"><mrow id="S2.SS2.p5.7.m6.1.1" xref="S2.SS2.p5.7.m6.1.1.cmml"><mi id="S2.SS2.p5.7.m6.1.1.2" xref="S2.SS2.p5.7.m6.1.1.2.cmml">t</mi><mo id="S2.SS2.p5.7.m6.1.1.1" xref="S2.SS2.p5.7.m6.1.1.1.cmml">=</mo><msubsup id="S2.SS2.p5.7.m6.1.1.3" xref="S2.SS2.p5.7.m6.1.1.3.cmml"><mi id="S2.SS2.p5.7.m6.1.1.3.2.2" xref="S2.SS2.p5.7.m6.1.1.3.2.2.cmml">t</mi><mi id="S2.SS2.p5.7.m6.1.1.3.2.3" xref="S2.SS2.p5.7.m6.1.1.3.2.3.cmml">d</mi><mi id="S2.SS2.p5.7.m6.1.1.3.3" xref="S2.SS2.p5.7.m6.1.1.3.3.cmml">i</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.7.m6.1b"><apply id="S2.SS2.p5.7.m6.1.1.cmml" xref="S2.SS2.p5.7.m6.1.1"><eq id="S2.SS2.p5.7.m6.1.1.1.cmml" xref="S2.SS2.p5.7.m6.1.1.1"></eq><ci id="S2.SS2.p5.7.m6.1.1.2.cmml" xref="S2.SS2.p5.7.m6.1.1.2">𝑡</ci><apply id="S2.SS2.p5.7.m6.1.1.3.cmml" xref="S2.SS2.p5.7.m6.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p5.7.m6.1.1.3.1.cmml" xref="S2.SS2.p5.7.m6.1.1.3">superscript</csymbol><apply id="S2.SS2.p5.7.m6.1.1.3.2.cmml" xref="S2.SS2.p5.7.m6.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p5.7.m6.1.1.3.2.1.cmml" xref="S2.SS2.p5.7.m6.1.1.3">subscript</csymbol><ci id="S2.SS2.p5.7.m6.1.1.3.2.2.cmml" xref="S2.SS2.p5.7.m6.1.1.3.2.2">𝑡</ci><ci id="S2.SS2.p5.7.m6.1.1.3.2.3.cmml" xref="S2.SS2.p5.7.m6.1.1.3.2.3">𝑑</ci></apply><ci id="S2.SS2.p5.7.m6.1.1.3.3.cmml" xref="S2.SS2.p5.7.m6.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.7.m6.1c">t=t_{d}^{i}</annotation></semantics></math>, the reward calculates the SoC gap between expected and current SoC to meet the EV user’s demand as well as possible.</p>
</div>
<div id="S2.SS2.p6" class="ltx_para">
<p id="S2.SS2.p6.2" class="ltx_p"><em id="S2.SS2.p6.2.1" class="ltx_emph ltx_font_italic">4) State Transition:</em> In practical charging/discharging scenarios, some personal factors like travel plans and anxieties to price and SoC vary from person to person, i.e., their charging/discharging behaviors are different. To tackle this complicated situation, EV users with various charging/discharging behaviors can be regarded as agents located in different environments <math id="S2.SS2.p6.1.m1.1" class="ltx_Math" alttext="\{\Omega_{i}\}_{i=1}^{N}" display="inline"><semantics id="S2.SS2.p6.1.m1.1a"><msubsup id="S2.SS2.p6.1.m1.1.1" xref="S2.SS2.p6.1.m1.1.1.cmml"><mrow id="S2.SS2.p6.1.m1.1.1.1.1.1" xref="S2.SS2.p6.1.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.SS2.p6.1.m1.1.1.1.1.1.2" xref="S2.SS2.p6.1.m1.1.1.1.1.2.cmml">{</mo><msub id="S2.SS2.p6.1.m1.1.1.1.1.1.1" xref="S2.SS2.p6.1.m1.1.1.1.1.1.1.cmml"><mi mathvariant="normal" id="S2.SS2.p6.1.m1.1.1.1.1.1.1.2" xref="S2.SS2.p6.1.m1.1.1.1.1.1.1.2.cmml">Ω</mi><mi id="S2.SS2.p6.1.m1.1.1.1.1.1.1.3" xref="S2.SS2.p6.1.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S2.SS2.p6.1.m1.1.1.1.1.1.3" xref="S2.SS2.p6.1.m1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS2.p6.1.m1.1.1.1.3" xref="S2.SS2.p6.1.m1.1.1.1.3.cmml"><mi id="S2.SS2.p6.1.m1.1.1.1.3.2" xref="S2.SS2.p6.1.m1.1.1.1.3.2.cmml">i</mi><mo id="S2.SS2.p6.1.m1.1.1.1.3.1" xref="S2.SS2.p6.1.m1.1.1.1.3.1.cmml">=</mo><mn id="S2.SS2.p6.1.m1.1.1.1.3.3" xref="S2.SS2.p6.1.m1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.SS2.p6.1.m1.1.1.3" xref="S2.SS2.p6.1.m1.1.1.3.cmml">N</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p6.1.m1.1b"><apply id="S2.SS2.p6.1.m1.1.1.cmml" xref="S2.SS2.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p6.1.m1.1.1.2.cmml" xref="S2.SS2.p6.1.m1.1.1">superscript</csymbol><apply id="S2.SS2.p6.1.m1.1.1.1.cmml" xref="S2.SS2.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p6.1.m1.1.1.1.2.cmml" xref="S2.SS2.p6.1.m1.1.1">subscript</csymbol><set id="S2.SS2.p6.1.m1.1.1.1.1.2.cmml" xref="S2.SS2.p6.1.m1.1.1.1.1.1"><apply id="S2.SS2.p6.1.m1.1.1.1.1.1.1.cmml" xref="S2.SS2.p6.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p6.1.m1.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p6.1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS2.p6.1.m1.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p6.1.m1.1.1.1.1.1.1.2">Ω</ci><ci id="S2.SS2.p6.1.m1.1.1.1.1.1.1.3.cmml" xref="S2.SS2.p6.1.m1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S2.SS2.p6.1.m1.1.1.1.3.cmml" xref="S2.SS2.p6.1.m1.1.1.1.3"><eq id="S2.SS2.p6.1.m1.1.1.1.3.1.cmml" xref="S2.SS2.p6.1.m1.1.1.1.3.1"></eq><ci id="S2.SS2.p6.1.m1.1.1.1.3.2.cmml" xref="S2.SS2.p6.1.m1.1.1.1.3.2">𝑖</ci><cn type="integer" id="S2.SS2.p6.1.m1.1.1.1.3.3.cmml" xref="S2.SS2.p6.1.m1.1.1.1.3.3">1</cn></apply></apply><ci id="S2.SS2.p6.1.m1.1.1.3.cmml" xref="S2.SS2.p6.1.m1.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p6.1.m1.1c">\{\Omega_{i}\}_{i=1}^{N}</annotation></semantics></math> with different state transitions <math id="S2.SS2.p6.2.m2.1" class="ltx_Math" alttext="\{\mathds{P}_{i}\}_{i=1}^{N}" display="inline"><semantics id="S2.SS2.p6.2.m2.1a"><msubsup id="S2.SS2.p6.2.m2.1.1" xref="S2.SS2.p6.2.m2.1.1.cmml"><mrow id="S2.SS2.p6.2.m2.1.1.1.1.1" xref="S2.SS2.p6.2.m2.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.SS2.p6.2.m2.1.1.1.1.1.2" xref="S2.SS2.p6.2.m2.1.1.1.1.2.cmml">{</mo><msub id="S2.SS2.p6.2.m2.1.1.1.1.1.1" xref="S2.SS2.p6.2.m2.1.1.1.1.1.1.cmml"><mi id="S2.SS2.p6.2.m2.1.1.1.1.1.1.2" xref="S2.SS2.p6.2.m2.1.1.1.1.1.1.2.cmml">ℙ</mi><mi id="S2.SS2.p6.2.m2.1.1.1.1.1.1.3" xref="S2.SS2.p6.2.m2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S2.SS2.p6.2.m2.1.1.1.1.1.3" xref="S2.SS2.p6.2.m2.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS2.p6.2.m2.1.1.1.3" xref="S2.SS2.p6.2.m2.1.1.1.3.cmml"><mi id="S2.SS2.p6.2.m2.1.1.1.3.2" xref="S2.SS2.p6.2.m2.1.1.1.3.2.cmml">i</mi><mo id="S2.SS2.p6.2.m2.1.1.1.3.1" xref="S2.SS2.p6.2.m2.1.1.1.3.1.cmml">=</mo><mn id="S2.SS2.p6.2.m2.1.1.1.3.3" xref="S2.SS2.p6.2.m2.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.SS2.p6.2.m2.1.1.3" xref="S2.SS2.p6.2.m2.1.1.3.cmml">N</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p6.2.m2.1b"><apply id="S2.SS2.p6.2.m2.1.1.cmml" xref="S2.SS2.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p6.2.m2.1.1.2.cmml" xref="S2.SS2.p6.2.m2.1.1">superscript</csymbol><apply id="S2.SS2.p6.2.m2.1.1.1.cmml" xref="S2.SS2.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p6.2.m2.1.1.1.2.cmml" xref="S2.SS2.p6.2.m2.1.1">subscript</csymbol><set id="S2.SS2.p6.2.m2.1.1.1.1.2.cmml" xref="S2.SS2.p6.2.m2.1.1.1.1.1"><apply id="S2.SS2.p6.2.m2.1.1.1.1.1.1.cmml" xref="S2.SS2.p6.2.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p6.2.m2.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p6.2.m2.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS2.p6.2.m2.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p6.2.m2.1.1.1.1.1.1.2">ℙ</ci><ci id="S2.SS2.p6.2.m2.1.1.1.1.1.1.3.cmml" xref="S2.SS2.p6.2.m2.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S2.SS2.p6.2.m2.1.1.1.3.cmml" xref="S2.SS2.p6.2.m2.1.1.1.3"><eq id="S2.SS2.p6.2.m2.1.1.1.3.1.cmml" xref="S2.SS2.p6.2.m2.1.1.1.3.1"></eq><ci id="S2.SS2.p6.2.m2.1.1.1.3.2.cmml" xref="S2.SS2.p6.2.m2.1.1.1.3.2">𝑖</ci><cn type="integer" id="S2.SS2.p6.2.m2.1.1.1.3.3.cmml" xref="S2.SS2.p6.2.m2.1.1.1.3.3">1</cn></apply></apply><ci id="S2.SS2.p6.2.m2.1.1.3.cmml" xref="S2.SS2.p6.2.m2.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p6.2.m2.1c">\{\mathds{P}_{i}\}_{i=1}^{N}</annotation></semantics></math>. Notice that establishing an accurate model considering dynamic electricity prices and users’ charging/discharging behaviors is intractable, thus a model-free RL based algorithm is applied in the next section. It can learn a good control policy that does not rely on the certain model of the system.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS3.4.1.1" class="ltx_text">II-C</span> </span><span id="S2.SS3.5.2" class="ltx_text ltx_font_italic">Problem Formulation</span>
</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">Considering the various user charging/discharging behaviors mentioned before, we aim to learn an optimal charging/discharging control strategy <math id="S2.SS3.p1.1.m1.1" class="ltx_Math" alttext="\pi^{\star}" display="inline"><semantics id="S2.SS3.p1.1.m1.1a"><msup id="S2.SS3.p1.1.m1.1.1" xref="S2.SS3.p1.1.m1.1.1.cmml"><mi id="S2.SS3.p1.1.m1.1.1.2" xref="S2.SS3.p1.1.m1.1.1.2.cmml">π</mi><mo id="S2.SS3.p1.1.m1.1.1.3" xref="S2.SS3.p1.1.m1.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.1b"><apply id="S2.SS3.p1.1.m1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.1.m1.1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1">superscript</csymbol><ci id="S2.SS3.p1.1.m1.1.1.2.cmml" xref="S2.SS3.p1.1.m1.1.1.2">𝜋</ci><ci id="S2.SS3.p1.1.m1.1.1.3.cmml" xref="S2.SS3.p1.1.m1.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.1c">\pi^{\star}</annotation></semantics></math> optimizing</p>
<table id="S2.E5" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S2.E5X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.E5X.2.1.1.m1.1" class="ltx_math_unparsed" alttext="\displaystyle\max_{\pi}\biggl{(}\frac{1}{N}\sum_{i=1}^{N}\mathbb{E}" display="inline"><semantics id="S2.E5X.2.1.1.m1.1a"><mrow id="S2.E5X.2.1.1.m1.1b"><munder id="S2.E5X.2.1.1.m1.1.1"><mi id="S2.E5X.2.1.1.m1.1.1.2">max</mi><mi id="S2.E5X.2.1.1.m1.1.1.3">π</mi></munder><mrow id="S2.E5X.2.1.1.m1.1.2"><mo maxsize="210%" minsize="210%" id="S2.E5X.2.1.1.m1.1.2.1">(</mo><mstyle displaystyle="true" id="S2.E5X.2.1.1.m1.1.2.2"><mfrac id="S2.E5X.2.1.1.m1.1.2.2a"><mn id="S2.E5X.2.1.1.m1.1.2.2.2">1</mn><mi id="S2.E5X.2.1.1.m1.1.2.2.3">N</mi></mfrac></mstyle><mstyle displaystyle="true" id="S2.E5X.2.1.1.m1.1.2.3"><munderover id="S2.E5X.2.1.1.m1.1.2.3a"><mo movablelimits="false" id="S2.E5X.2.1.1.m1.1.2.3.2.2">∑</mo><mrow id="S2.E5X.2.1.1.m1.1.2.3.2.3"><mi id="S2.E5X.2.1.1.m1.1.2.3.2.3.2">i</mi><mo id="S2.E5X.2.1.1.m1.1.2.3.2.3.1">=</mo><mn id="S2.E5X.2.1.1.m1.1.2.3.2.3.3">1</mn></mrow><mi id="S2.E5X.2.1.1.m1.1.2.3.3">N</mi></munderover></mstyle><mi id="S2.E5X.2.1.1.m1.1.2.4">𝔼</mi></mrow></mrow><annotation encoding="application/x-tex" id="S2.E5X.2.1.1.m1.1c">\displaystyle\max_{\pi}\biggl{(}\frac{1}{N}\sum_{i=1}^{N}\mathbb{E}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.E5X.3.2.2.m1.1" class="ltx_math_unparsed" alttext="\displaystyle\Bigr{[}\sum_{t=0}^{T}\gamma^{t}\cdot r_{t}(s_{t}^{i},a_{t}^{i})" display="inline"><semantics id="S2.E5X.3.2.2.m1.1a"><mrow id="S2.E5X.3.2.2.m1.1b"><mo mathsize="160%" rspace="0.167em" id="S2.E5X.3.2.2.m1.1.1">[</mo><mstyle displaystyle="true" id="S2.E5X.3.2.2.m1.1.2"><mo movablelimits="false" id="S2.E5X.3.2.2.m1.1.2a">∑</mo></mstyle><msub id="S2.E5X.3.2.2.m1.1.3"><mi id="S2.E5X.3.2.2.m1.1.3a"></mi><mrow id="S2.E5X.3.2.2.m1.1.3.1"><mi id="S2.E5X.3.2.2.m1.1.3.1.2">t</mi><mo id="S2.E5X.3.2.2.m1.1.3.1.1">=</mo><mn id="S2.E5X.3.2.2.m1.1.3.1.3">0</mn></mrow></msub><msup id="S2.E5X.3.2.2.m1.1.4"><mi id="S2.E5X.3.2.2.m1.1.4a"></mi><mi id="S2.E5X.3.2.2.m1.1.4.1">T</mi></msup><mi id="S2.E5X.3.2.2.m1.1.5">γ</mi><msup id="S2.E5X.3.2.2.m1.1.6"><mi id="S2.E5X.3.2.2.m1.1.6a"></mi><mi id="S2.E5X.3.2.2.m1.1.6.1">t</mi></msup><mo lspace="0.222em" rspace="0.222em" id="S2.E5X.3.2.2.m1.1.7">⋅</mo><mi id="S2.E5X.3.2.2.m1.1.8">r</mi><msub id="S2.E5X.3.2.2.m1.1.9"><mi id="S2.E5X.3.2.2.m1.1.9a"></mi><mi id="S2.E5X.3.2.2.m1.1.9.1">t</mi></msub><mo stretchy="false" id="S2.E5X.3.2.2.m1.1.10">(</mo><msubsup id="S2.E5X.3.2.2.m1.1.11"><mi id="S2.E5X.3.2.2.m1.1.11.2.2">s</mi><mi id="S2.E5X.3.2.2.m1.1.11.2.3">t</mi><mi id="S2.E5X.3.2.2.m1.1.11.3">i</mi></msubsup><mo id="S2.E5X.3.2.2.m1.1.12">,</mo><msubsup id="S2.E5X.3.2.2.m1.1.13"><mi id="S2.E5X.3.2.2.m1.1.13.2.2">a</mi><mi id="S2.E5X.3.2.2.m1.1.13.2.3">t</mi><mi id="S2.E5X.3.2.2.m1.1.13.3">i</mi></msubsup><mo stretchy="false" id="S2.E5X.3.2.2.m1.1.14">)</mo></mrow><annotation encoding="application/x-tex" id="S2.E5X.3.2.2.m1.1c">\displaystyle\Bigr{[}\sum_{t=0}^{T}\gamma^{t}\cdot r_{t}(s_{t}^{i},a_{t}^{i})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(5)</span></td>
</tr>
<tr id="S2.E5Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.E5Xa.2.1.1.m1.1" class="ltx_math_unparsed" alttext="\displaystyle\bigg{|}a_{t}^{i}\sim\pi(\cdot|s_{t}^{i}),s_{t+1}^{i}\sim\mathds{P}_{i}(\cdot|s_{t}^{i},a_{t}^{i})\Bigr{]}\biggl{)}" display="inline"><semantics id="S2.E5Xa.2.1.1.m1.1a"><mrow id="S2.E5Xa.2.1.1.m1.1b"><mo fence="false" maxsize="210%" minsize="210%" rspace="0.167em" id="S2.E5Xa.2.1.1.m1.1.1">|</mo><msubsup id="S2.E5Xa.2.1.1.m1.1.2"><mi id="S2.E5Xa.2.1.1.m1.1.2.2.2">a</mi><mi id="S2.E5Xa.2.1.1.m1.1.2.2.3">t</mi><mi id="S2.E5Xa.2.1.1.m1.1.2.3">i</mi></msubsup><mo id="S2.E5Xa.2.1.1.m1.1.3">∼</mo><mi id="S2.E5Xa.2.1.1.m1.1.4">π</mi><mrow id="S2.E5Xa.2.1.1.m1.1.5"><mo stretchy="false" id="S2.E5Xa.2.1.1.m1.1.5.1">(</mo><mo lspace="0em" rspace="0em" id="S2.E5Xa.2.1.1.m1.1.5.2">⋅</mo><mo fence="false" rspace="0.167em" stretchy="false" id="S2.E5Xa.2.1.1.m1.1.5.3">|</mo><msubsup id="S2.E5Xa.2.1.1.m1.1.5.4"><mi id="S2.E5Xa.2.1.1.m1.1.5.4.2.2">s</mi><mi id="S2.E5Xa.2.1.1.m1.1.5.4.2.3">t</mi><mi id="S2.E5Xa.2.1.1.m1.1.5.4.3">i</mi></msubsup><mo stretchy="false" id="S2.E5Xa.2.1.1.m1.1.5.5">)</mo></mrow><mo id="S2.E5Xa.2.1.1.m1.1.6">,</mo><msubsup id="S2.E5Xa.2.1.1.m1.1.7"><mi id="S2.E5Xa.2.1.1.m1.1.7.2.2">s</mi><mrow id="S2.E5Xa.2.1.1.m1.1.7.2.3"><mi id="S2.E5Xa.2.1.1.m1.1.7.2.3.2">t</mi><mo id="S2.E5Xa.2.1.1.m1.1.7.2.3.1">+</mo><mn id="S2.E5Xa.2.1.1.m1.1.7.2.3.3">1</mn></mrow><mi id="S2.E5Xa.2.1.1.m1.1.7.3">i</mi></msubsup><mo id="S2.E5Xa.2.1.1.m1.1.8">∼</mo><msub id="S2.E5Xa.2.1.1.m1.1.9"><mi id="S2.E5Xa.2.1.1.m1.1.9.2">ℙ</mi><mi id="S2.E5Xa.2.1.1.m1.1.9.3">i</mi></msub><mrow id="S2.E5Xa.2.1.1.m1.1.10"><mo stretchy="false" id="S2.E5Xa.2.1.1.m1.1.10.1">(</mo><mo lspace="0em" rspace="0em" id="S2.E5Xa.2.1.1.m1.1.10.2">⋅</mo><mo fence="false" rspace="0.167em" stretchy="false" id="S2.E5Xa.2.1.1.m1.1.10.3">|</mo><msubsup id="S2.E5Xa.2.1.1.m1.1.10.4"><mi id="S2.E5Xa.2.1.1.m1.1.10.4.2.2">s</mi><mi id="S2.E5Xa.2.1.1.m1.1.10.4.2.3">t</mi><mi id="S2.E5Xa.2.1.1.m1.1.10.4.3">i</mi></msubsup><mo id="S2.E5Xa.2.1.1.m1.1.10.5">,</mo><msubsup id="S2.E5Xa.2.1.1.m1.1.10.6"><mi id="S2.E5Xa.2.1.1.m1.1.10.6.2.2">a</mi><mi id="S2.E5Xa.2.1.1.m1.1.10.6.2.3">t</mi><mi id="S2.E5Xa.2.1.1.m1.1.10.6.3">i</mi></msubsup><mo stretchy="false" id="S2.E5Xa.2.1.1.m1.1.10.7">)</mo></mrow><mo maxsize="160%" minsize="160%" id="S2.E5Xa.2.1.1.m1.1.11">]</mo><mo lspace="0em" mathsize="210%" id="S2.E5Xa.2.1.1.m1.1.12">)</mo></mrow><annotation encoding="application/x-tex" id="S2.E5Xa.2.1.1.m1.1c">\displaystyle\bigg{|}a_{t}^{i}\sim\pi(\cdot|s_{t}^{i}),s_{t+1}^{i}\sim\mathds{P}_{i}(\cdot|s_{t}^{i},a_{t}^{i})\Bigr{]}\biggl{)}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p id="S2.SS3.p1.2" class="ltx_p">which can fit well in different dynamic environments. Here, <math id="S2.SS3.p1.2.m1.2" class="ltx_Math" alttext="\gamma\in[0,1]" display="inline"><semantics id="S2.SS3.p1.2.m1.2a"><mrow id="S2.SS3.p1.2.m1.2.3" xref="S2.SS3.p1.2.m1.2.3.cmml"><mi id="S2.SS3.p1.2.m1.2.3.2" xref="S2.SS3.p1.2.m1.2.3.2.cmml">γ</mi><mo id="S2.SS3.p1.2.m1.2.3.1" xref="S2.SS3.p1.2.m1.2.3.1.cmml">∈</mo><mrow id="S2.SS3.p1.2.m1.2.3.3.2" xref="S2.SS3.p1.2.m1.2.3.3.1.cmml"><mo stretchy="false" id="S2.SS3.p1.2.m1.2.3.3.2.1" xref="S2.SS3.p1.2.m1.2.3.3.1.cmml">[</mo><mn id="S2.SS3.p1.2.m1.1.1" xref="S2.SS3.p1.2.m1.1.1.cmml">0</mn><mo id="S2.SS3.p1.2.m1.2.3.3.2.2" xref="S2.SS3.p1.2.m1.2.3.3.1.cmml">,</mo><mn id="S2.SS3.p1.2.m1.2.2" xref="S2.SS3.p1.2.m1.2.2.cmml">1</mn><mo stretchy="false" id="S2.SS3.p1.2.m1.2.3.3.2.3" xref="S2.SS3.p1.2.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m1.2b"><apply id="S2.SS3.p1.2.m1.2.3.cmml" xref="S2.SS3.p1.2.m1.2.3"><in id="S2.SS3.p1.2.m1.2.3.1.cmml" xref="S2.SS3.p1.2.m1.2.3.1"></in><ci id="S2.SS3.p1.2.m1.2.3.2.cmml" xref="S2.SS3.p1.2.m1.2.3.2">𝛾</ci><interval closure="closed" id="S2.SS3.p1.2.m1.2.3.3.1.cmml" xref="S2.SS3.p1.2.m1.2.3.3.2"><cn type="integer" id="S2.SS3.p1.2.m1.1.1.cmml" xref="S2.SS3.p1.2.m1.1.1">0</cn><cn type="integer" id="S2.SS3.p1.2.m1.2.2.cmml" xref="S2.SS3.p1.2.m1.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m1.2c">\gamma\in[0,1]</annotation></semantics></math> is the discount factor that relates to the rewards in the time domain. To handle the continuous state and action space in (<a href="#S2.E5" title="In II-C Problem Formulation ‣ II System Model and Problem Formulation ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>), one needs to parameterize the Q-function and policy. Moreover, in order to obtain sufficient information in various environments for further training, each agent would be set to interact with the environment following its respective state transition. In the next section, we leverage Soft Actor Critic (SAC) approach to deal with the model parameterization and propose a federated framework to utilize all local data while preserving privacy.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">Proposed Approach</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.6" class="ltx_p">In this section, we propose a Soft Actor-Critic (SAC) based Horizontal Federated Reinforcement Learning (HFRL) method to deal with Problem (<a href="#S2.E5" title="In II-C Problem Formulation ‣ II System Model and Problem Formulation ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>). To this end, we first give an overview of a generic HFRL framework, which can be summarized into two phases.</p>
<ol id="S3.I1" class="ltx_enumerate">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Local Phase</span> each agent (local client) <math id="S3.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.I1.i1.p1.1.m1.1a"><mi id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.1b"><ci id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.1c">i</annotation></semantics></math> in parallel do</p>
<ol id="S3.I1.i1.I1" class="ltx_enumerate">
<li id="S3.I1.i1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(a)</span> 
<div id="S3.I1.i1.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.I1.i1.p1.6" class="ltx_p">interacts with environment <math id="S3.I1.i1.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="\Omega_{i}" display="inline"><semantics id="S3.I1.i1.I1.i1.p1.1.m1.1a"><msub id="S3.I1.i1.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.I1.i1.p1.1.m1.1.1.cmml"><mi mathvariant="normal" id="S3.I1.i1.I1.i1.p1.1.m1.1.1.2" xref="S3.I1.i1.I1.i1.p1.1.m1.1.1.2.cmml">Ω</mi><mi id="S3.I1.i1.I1.i1.p1.1.m1.1.1.3" xref="S3.I1.i1.I1.i1.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i1.I1.i1.p1.1.m1.1b"><apply id="S3.I1.i1.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.I1.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.1.m1.1.1.1.cmml" xref="S3.I1.i1.I1.i1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.I1.i1.I1.i1.p1.1.m1.1.1.2.cmml" xref="S3.I1.i1.I1.i1.p1.1.m1.1.1.2">Ω</ci><ci id="S3.I1.i1.I1.i1.p1.1.m1.1.1.3.cmml" xref="S3.I1.i1.I1.i1.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.I1.i1.p1.1.m1.1c">\Omega_{i}</annotation></semantics></math> and obtains the observation <math id="S3.I1.i1.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="s_{t}^{i}" display="inline"><semantics id="S3.I1.i1.I1.i1.p1.2.m2.1a"><msubsup id="S3.I1.i1.I1.i1.p1.2.m2.1.1" xref="S3.I1.i1.I1.i1.p1.2.m2.1.1.cmml"><mi id="S3.I1.i1.I1.i1.p1.2.m2.1.1.2.2" xref="S3.I1.i1.I1.i1.p1.2.m2.1.1.2.2.cmml">s</mi><mi id="S3.I1.i1.I1.i1.p1.2.m2.1.1.2.3" xref="S3.I1.i1.I1.i1.p1.2.m2.1.1.2.3.cmml">t</mi><mi id="S3.I1.i1.I1.i1.p1.2.m2.1.1.3" xref="S3.I1.i1.I1.i1.p1.2.m2.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.I1.i1.I1.i1.p1.2.m2.1b"><apply id="S3.I1.i1.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.I1.i1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.2.m2.1.1.1.cmml" xref="S3.I1.i1.I1.i1.p1.2.m2.1.1">superscript</csymbol><apply id="S3.I1.i1.I1.i1.p1.2.m2.1.1.2.cmml" xref="S3.I1.i1.I1.i1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.2.m2.1.1.2.1.cmml" xref="S3.I1.i1.I1.i1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.I1.i1.I1.i1.p1.2.m2.1.1.2.2.cmml" xref="S3.I1.i1.I1.i1.p1.2.m2.1.1.2.2">𝑠</ci><ci id="S3.I1.i1.I1.i1.p1.2.m2.1.1.2.3.cmml" xref="S3.I1.i1.I1.i1.p1.2.m2.1.1.2.3">𝑡</ci></apply><ci id="S3.I1.i1.I1.i1.p1.2.m2.1.1.3.cmml" xref="S3.I1.i1.I1.i1.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.I1.i1.p1.2.m2.1c">s_{t}^{i}</annotation></semantics></math>. Then, generates action <math id="S3.I1.i1.I1.i1.p1.3.m3.1" class="ltx_Math" alttext="a_{t}^{i}" display="inline"><semantics id="S3.I1.i1.I1.i1.p1.3.m3.1a"><msubsup id="S3.I1.i1.I1.i1.p1.3.m3.1.1" xref="S3.I1.i1.I1.i1.p1.3.m3.1.1.cmml"><mi id="S3.I1.i1.I1.i1.p1.3.m3.1.1.2.2" xref="S3.I1.i1.I1.i1.p1.3.m3.1.1.2.2.cmml">a</mi><mi id="S3.I1.i1.I1.i1.p1.3.m3.1.1.2.3" xref="S3.I1.i1.I1.i1.p1.3.m3.1.1.2.3.cmml">t</mi><mi id="S3.I1.i1.I1.i1.p1.3.m3.1.1.3" xref="S3.I1.i1.I1.i1.p1.3.m3.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.I1.i1.I1.i1.p1.3.m3.1b"><apply id="S3.I1.i1.I1.i1.p1.3.m3.1.1.cmml" xref="S3.I1.i1.I1.i1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.3.m3.1.1.1.cmml" xref="S3.I1.i1.I1.i1.p1.3.m3.1.1">superscript</csymbol><apply id="S3.I1.i1.I1.i1.p1.3.m3.1.1.2.cmml" xref="S3.I1.i1.I1.i1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.3.m3.1.1.2.1.cmml" xref="S3.I1.i1.I1.i1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.I1.i1.I1.i1.p1.3.m3.1.1.2.2.cmml" xref="S3.I1.i1.I1.i1.p1.3.m3.1.1.2.2">𝑎</ci><ci id="S3.I1.i1.I1.i1.p1.3.m3.1.1.2.3.cmml" xref="S3.I1.i1.I1.i1.p1.3.m3.1.1.2.3">𝑡</ci></apply><ci id="S3.I1.i1.I1.i1.p1.3.m3.1.1.3.cmml" xref="S3.I1.i1.I1.i1.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.I1.i1.p1.3.m3.1c">a_{t}^{i}</annotation></semantics></math> based on local policy <math id="S3.I1.i1.I1.i1.p1.4.m4.1" class="ltx_math_unparsed" alttext="\pi_{i}(\cdot|s_{t}^{i})" display="inline"><semantics id="S3.I1.i1.I1.i1.p1.4.m4.1a"><mrow id="S3.I1.i1.I1.i1.p1.4.m4.1b"><msub id="S3.I1.i1.I1.i1.p1.4.m4.1.1"><mi id="S3.I1.i1.I1.i1.p1.4.m4.1.1.2">π</mi><mi id="S3.I1.i1.I1.i1.p1.4.m4.1.1.3">i</mi></msub><mrow id="S3.I1.i1.I1.i1.p1.4.m4.1.2"><mo stretchy="false" id="S3.I1.i1.I1.i1.p1.4.m4.1.2.1">(</mo><mo lspace="0em" rspace="0em" id="S3.I1.i1.I1.i1.p1.4.m4.1.2.2">⋅</mo><mo fence="false" rspace="0.167em" stretchy="false" id="S3.I1.i1.I1.i1.p1.4.m4.1.2.3">|</mo><msubsup id="S3.I1.i1.I1.i1.p1.4.m4.1.2.4"><mi id="S3.I1.i1.I1.i1.p1.4.m4.1.2.4.2.2">s</mi><mi id="S3.I1.i1.I1.i1.p1.4.m4.1.2.4.2.3">t</mi><mi id="S3.I1.i1.I1.i1.p1.4.m4.1.2.4.3">i</mi></msubsup><mo stretchy="false" id="S3.I1.i1.I1.i1.p1.4.m4.1.2.5">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.I1.i1.I1.i1.p1.4.m4.1c">\pi_{i}(\cdot|s_{t}^{i})</annotation></semantics></math> and save the current reward <math id="S3.I1.i1.I1.i1.p1.5.m5.2" class="ltx_Math" alttext="r_{t}^{i}(s_{t}^{i},a_{t}^{i})" display="inline"><semantics id="S3.I1.i1.I1.i1.p1.5.m5.2a"><mrow id="S3.I1.i1.I1.i1.p1.5.m5.2.2" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.cmml"><msubsup id="S3.I1.i1.I1.i1.p1.5.m5.2.2.4" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.cmml"><mi id="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.2.2" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.2.2.cmml">r</mi><mi id="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.2.3" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.2.3.cmml">t</mi><mi id="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.3" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.3.cmml">i</mi></msubsup><mo lspace="0em" rspace="0em" id="S3.I1.i1.I1.i1.p1.5.m5.2.2.3" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.3.cmml">​</mo><mrow id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.3.cmml"><mo stretchy="false" id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.3" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.3.cmml">(</mo><msubsup id="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1" xref="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.cmml"><mi id="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.2.2" xref="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.2.3" xref="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.2.3.cmml">t</mi><mi id="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.3" xref="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.3.cmml">i</mi></msubsup><mo id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.4" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.3.cmml">,</mo><msubsup id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.cmml"><mi id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.2" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.2.cmml">a</mi><mi id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.3" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.3.cmml">t</mi><mi id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.3" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.5" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.I1.i1.p1.5.m5.2b"><apply id="S3.I1.i1.I1.i1.p1.5.m5.2.2.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2"><times id="S3.I1.i1.I1.i1.p1.5.m5.2.2.3.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.3"></times><apply id="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.4"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.1.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.4">superscript</csymbol><apply id="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.2.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.4"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.2.1.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.4">subscript</csymbol><ci id="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.2.2.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.2.2">𝑟</ci><ci id="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.2.3.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.2.3">𝑡</ci></apply><ci id="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.3.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.4.3">𝑖</ci></apply><interval closure="open" id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.3.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2"><apply id="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1">superscript</csymbol><apply id="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.2.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.2.1.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1">subscript</csymbol><ci id="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.2.2.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.2.3.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.3.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.1.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2">superscript</csymbol><apply id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.1.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2">subscript</csymbol><ci id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.2.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.2">𝑎</ci><ci id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.3.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.3.cmml" xref="S3.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.I1.i1.p1.5.m5.2c">r_{t}^{i}(s_{t}^{i},a_{t}^{i})</annotation></semantics></math>. After that, collect the observation of next state <math id="S3.I1.i1.I1.i1.p1.6.m6.1" class="ltx_Math" alttext="s_{t+1}^{i}" display="inline"><semantics id="S3.I1.i1.I1.i1.p1.6.m6.1a"><msubsup id="S3.I1.i1.I1.i1.p1.6.m6.1.1" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.cmml"><mi id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.2" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.2.cmml">s</mi><mrow id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.cmml"><mi id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.2" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.2.cmml">t</mi><mo id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.1" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.1.cmml">+</mo><mn id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.3" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.3.cmml">1</mn></mrow><mi id="S3.I1.i1.I1.i1.p1.6.m6.1.1.3" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.I1.i1.I1.i1.p1.6.m6.1b"><apply id="S3.I1.i1.I1.i1.p1.6.m6.1.1.cmml" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.6.m6.1.1.1.cmml" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1">superscript</csymbol><apply id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.cmml" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.1.cmml" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.2.cmml" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.2">𝑠</ci><apply id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.cmml" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3"><plus id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.1.cmml" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.1"></plus><ci id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.2.cmml" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.3.cmml" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.2.3.3">1</cn></apply></apply><ci id="S3.I1.i1.I1.i1.p1.6.m6.1.1.3.cmml" xref="S3.I1.i1.I1.i1.p1.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.I1.i1.p1.6.m6.1c">s_{t+1}^{i}</annotation></semantics></math>;</p>
</div>
</li>
<li id="S3.I1.i1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(b)</span> 
<div id="S3.I1.i1.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i1.I1.i2.p1.1" class="ltx_p">updates the model of Q-function and policy using the local data. Then, send both local models to the central sever.</p>
</div>
</li>
</ol>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Global Phase</span> central server receives all local information and aggregates them via <span id="S3.I1.i2.p1.1.2" class="ltx_text ltx_font_typewriter">QAvg</span> and <span id="S3.I1.i2.p1.1.3" class="ltx_text ltx_font_typewriter">PAvg</span>. Then the aggregated information is allocated to local clients.</p>
</div>
</li>
</ol>
<p id="S3.p1.5" class="ltx_p">Here, the operator <span id="S3.p1.5.1" class="ltx_text ltx_font_typewriter">QAvg</span> and <span id="S3.p1.5.2" class="ltx_text ltx_font_typewriter">PAvg</span> replies on how to parameterize the local Q-function and policy <math id="S3.p1.1.m1.1" class="ltx_Math" alttext="\pi_{i}" display="inline"><semantics id="S3.p1.1.m1.1a"><msub id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml"><mi id="S3.p1.1.m1.1.1.2" xref="S3.p1.1.m1.1.1.2.cmml">π</mi><mi id="S3.p1.1.m1.1.1.3" xref="S3.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><apply id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p1.1.m1.1.1.1.cmml" xref="S3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.p1.1.m1.1.1.2.cmml" xref="S3.p1.1.m1.1.1.2">𝜋</ci><ci id="S3.p1.1.m1.1.1.3.cmml" xref="S3.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">\pi_{i}</annotation></semantics></math>. In this paper, we approximate local Q-function approximation using SAC method such that the parametric local Q-function and policy can be defined by <math id="S3.p1.2.m2.1" class="ltx_Math" alttext="Q_{\theta_{i}}" display="inline"><semantics id="S3.p1.2.m2.1a"><msub id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1.cmml"><mi id="S3.p1.2.m2.1.1.2" xref="S3.p1.2.m2.1.1.2.cmml">Q</mi><msub id="S3.p1.2.m2.1.1.3" xref="S3.p1.2.m2.1.1.3.cmml"><mi id="S3.p1.2.m2.1.1.3.2" xref="S3.p1.2.m2.1.1.3.2.cmml">θ</mi><mi id="S3.p1.2.m2.1.1.3.3" xref="S3.p1.2.m2.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.1b"><apply id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.cmml" xref="S3.p1.2.m2.1.1">subscript</csymbol><ci id="S3.p1.2.m2.1.1.2.cmml" xref="S3.p1.2.m2.1.1.2">𝑄</ci><apply id="S3.p1.2.m2.1.1.3.cmml" xref="S3.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.3.1.cmml" xref="S3.p1.2.m2.1.1.3">subscript</csymbol><ci id="S3.p1.2.m2.1.1.3.2.cmml" xref="S3.p1.2.m2.1.1.3.2">𝜃</ci><ci id="S3.p1.2.m2.1.1.3.3.cmml" xref="S3.p1.2.m2.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.1c">Q_{\theta_{i}}</annotation></semantics></math> and <math id="S3.p1.3.m3.1" class="ltx_Math" alttext="\pi_{\phi_{i}}" display="inline"><semantics id="S3.p1.3.m3.1a"><msub id="S3.p1.3.m3.1.1" xref="S3.p1.3.m3.1.1.cmml"><mi id="S3.p1.3.m3.1.1.2" xref="S3.p1.3.m3.1.1.2.cmml">π</mi><msub id="S3.p1.3.m3.1.1.3" xref="S3.p1.3.m3.1.1.3.cmml"><mi id="S3.p1.3.m3.1.1.3.2" xref="S3.p1.3.m3.1.1.3.2.cmml">ϕ</mi><mi id="S3.p1.3.m3.1.1.3.3" xref="S3.p1.3.m3.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S3.p1.3.m3.1b"><apply id="S3.p1.3.m3.1.1.cmml" xref="S3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p1.3.m3.1.1.1.cmml" xref="S3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.p1.3.m3.1.1.2.cmml" xref="S3.p1.3.m3.1.1.2">𝜋</ci><apply id="S3.p1.3.m3.1.1.3.cmml" xref="S3.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.p1.3.m3.1.1.3.1.cmml" xref="S3.p1.3.m3.1.1.3">subscript</csymbol><ci id="S3.p1.3.m3.1.1.3.2.cmml" xref="S3.p1.3.m3.1.1.3.2">italic-ϕ</ci><ci id="S3.p1.3.m3.1.1.3.3.cmml" xref="S3.p1.3.m3.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.3.m3.1c">\pi_{\phi_{i}}</annotation></semantics></math> with <math id="S3.p1.4.m4.1" class="ltx_Math" alttext="\theta_{i}" display="inline"><semantics id="S3.p1.4.m4.1a"><msub id="S3.p1.4.m4.1.1" xref="S3.p1.4.m4.1.1.cmml"><mi id="S3.p1.4.m4.1.1.2" xref="S3.p1.4.m4.1.1.2.cmml">θ</mi><mi id="S3.p1.4.m4.1.1.3" xref="S3.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.4.m4.1b"><apply id="S3.p1.4.m4.1.1.cmml" xref="S3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p1.4.m4.1.1.1.cmml" xref="S3.p1.4.m4.1.1">subscript</csymbol><ci id="S3.p1.4.m4.1.1.2.cmml" xref="S3.p1.4.m4.1.1.2">𝜃</ci><ci id="S3.p1.4.m4.1.1.3.cmml" xref="S3.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.4.m4.1c">\theta_{i}</annotation></semantics></math> and <math id="S3.p1.5.m5.1" class="ltx_Math" alttext="\phi_{i}" display="inline"><semantics id="S3.p1.5.m5.1a"><msub id="S3.p1.5.m5.1.1" xref="S3.p1.5.m5.1.1.cmml"><mi id="S3.p1.5.m5.1.1.2" xref="S3.p1.5.m5.1.1.2.cmml">ϕ</mi><mi id="S3.p1.5.m5.1.1.3" xref="S3.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.5.m5.1b"><apply id="S3.p1.5.m5.1.1.cmml" xref="S3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.p1.5.m5.1.1.1.cmml" xref="S3.p1.5.m5.1.1">subscript</csymbol><ci id="S3.p1.5.m5.1.1.2.cmml" xref="S3.p1.5.m5.1.1.2">italic-ϕ</ci><ci id="S3.p1.5.m5.1.1.3.cmml" xref="S3.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.5.m5.1c">\phi_{i}</annotation></semantics></math> the parameters of DNN of actor and critic, respectively. Compared to the other existing parameterization approaches, SAC trains the local models with an entropy regularization to balance the exploration and exploitation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">Using SAC to train the local models has two main steps, <span id="S3.p2.1.1" class="ltx_text ltx_font_italic">policy evaluation</span> for critic and <span id="S3.p2.1.2" class="ltx_text ltx_font_italic">policy improvement</span> for actor.</p>
</div>
<section id="S3.SS0.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S3.SS0.SSS1.4.1.1" class="ltx_text">III-</span>1 </span>Policy Evaluation</h4>

<div id="S3.SS0.SSS1.p1" class="ltx_para">
<p id="S3.SS0.SSS1.p1.10" class="ltx_p">We need learn the soft Q-function</p>
<table id="S3.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E6.m1.1" class="ltx_math_unparsed" alttext="Q(s_{t}^{i},a_{t}^{i})=r_{t}(s_{t}^{i},a_{t}^{i})+\gamma\cdot\mathbb{E}_{s_{t+1}^{i}\sim p_{i}}\Bigr{[}V(s_{t+1}^{i})\Bigr{]}," display="block"><semantics id="S3.E6.m1.1a"><mrow id="S3.E6.m1.1b"><mrow id="S3.E6.m1.1.1"><mi id="S3.E6.m1.1.1.1">Q</mi><mrow id="S3.E6.m1.1.1.2"><mo stretchy="false" id="S3.E6.m1.1.1.2.1">(</mo><msubsup id="S3.E6.m1.1.1.2.2"><mi id="S3.E6.m1.1.1.2.2.2.2">s</mi><mi id="S3.E6.m1.1.1.2.2.2.3">t</mi><mi id="S3.E6.m1.1.1.2.2.3">i</mi></msubsup><mo id="S3.E6.m1.1.1.2.3">,</mo><msubsup id="S3.E6.m1.1.1.2.4"><mi id="S3.E6.m1.1.1.2.4.2.2">a</mi><mi id="S3.E6.m1.1.1.2.4.2.3">t</mi><mi id="S3.E6.m1.1.1.2.4.3">i</mi></msubsup><mo stretchy="false" id="S3.E6.m1.1.1.2.5">)</mo></mrow><mo id="S3.E6.m1.1.1.3">=</mo><msub id="S3.E6.m1.1.1.4"><mi id="S3.E6.m1.1.1.4.2">r</mi><mi id="S3.E6.m1.1.1.4.3">t</mi></msub><mrow id="S3.E6.m1.1.1.5"><mo stretchy="false" id="S3.E6.m1.1.1.5.1">(</mo><msubsup id="S3.E6.m1.1.1.5.2"><mi id="S3.E6.m1.1.1.5.2.2.2">s</mi><mi id="S3.E6.m1.1.1.5.2.2.3">t</mi><mi id="S3.E6.m1.1.1.5.2.3">i</mi></msubsup><mo id="S3.E6.m1.1.1.5.3">,</mo><msubsup id="S3.E6.m1.1.1.5.4"><mi id="S3.E6.m1.1.1.5.4.2.2">a</mi><mi id="S3.E6.m1.1.1.5.4.2.3">t</mi><mi id="S3.E6.m1.1.1.5.4.3">i</mi></msubsup><mo stretchy="false" id="S3.E6.m1.1.1.5.5">)</mo></mrow><mo id="S3.E6.m1.1.1.6">+</mo><mi id="S3.E6.m1.1.1.7">γ</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E6.m1.1.1.8">⋅</mo><msub id="S3.E6.m1.1.1.9"><mi id="S3.E6.m1.1.1.9.2">𝔼</mi><mrow id="S3.E6.m1.1.1.9.3"><msubsup id="S3.E6.m1.1.1.9.3.2"><mi id="S3.E6.m1.1.1.9.3.2.2.2">s</mi><mrow id="S3.E6.m1.1.1.9.3.2.2.3"><mi id="S3.E6.m1.1.1.9.3.2.2.3.2">t</mi><mo id="S3.E6.m1.1.1.9.3.2.2.3.1">+</mo><mn id="S3.E6.m1.1.1.9.3.2.2.3.3">1</mn></mrow><mi id="S3.E6.m1.1.1.9.3.2.3">i</mi></msubsup><mo id="S3.E6.m1.1.1.9.3.1">∼</mo><msub id="S3.E6.m1.1.1.9.3.3"><mi id="S3.E6.m1.1.1.9.3.3.2">p</mi><mi id="S3.E6.m1.1.1.9.3.3.3">i</mi></msub></mrow></msub><mo lspace="0em" mathsize="160%" rspace="0em" id="S3.E6.m1.1.1.10">[</mo></mrow><mi id="S3.E6.m1.1.2">V</mi><mrow id="S3.E6.m1.1.3"><mo stretchy="false" id="S3.E6.m1.1.3.1">(</mo><msubsup id="S3.E6.m1.1.3.2"><mi id="S3.E6.m1.1.3.2.2.2">s</mi><mrow id="S3.E6.m1.1.3.2.2.3"><mi id="S3.E6.m1.1.3.2.2.3.2">t</mi><mo id="S3.E6.m1.1.3.2.2.3.1">+</mo><mn id="S3.E6.m1.1.3.2.2.3.3">1</mn></mrow><mi id="S3.E6.m1.1.3.2.3">i</mi></msubsup><mo stretchy="false" id="S3.E6.m1.1.3.3">)</mo></mrow><mo maxsize="160%" minsize="160%" id="S3.E6.m1.1.4">]</mo><mo id="S3.E6.m1.1.5">,</mo></mrow><annotation encoding="application/x-tex" id="S3.E6.m1.1c">Q(s_{t}^{i},a_{t}^{i})=r_{t}(s_{t}^{i},a_{t}^{i})+\gamma\cdot\mathbb{E}_{s_{t+1}^{i}\sim p_{i}}\Bigr{[}V(s_{t+1}^{i})\Bigr{]},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS0.SSS1.p1.1" class="ltx_p">where the soft state value function <math id="S3.SS0.SSS1.p1.1.m1.1" class="ltx_Math" alttext="V(\cdot)" display="inline"><semantics id="S3.SS0.SSS1.p1.1.m1.1a"><mrow id="S3.SS0.SSS1.p1.1.m1.1.2" xref="S3.SS0.SSS1.p1.1.m1.1.2.cmml"><mi id="S3.SS0.SSS1.p1.1.m1.1.2.2" xref="S3.SS0.SSS1.p1.1.m1.1.2.2.cmml">V</mi><mo lspace="0em" rspace="0em" id="S3.SS0.SSS1.p1.1.m1.1.2.1" xref="S3.SS0.SSS1.p1.1.m1.1.2.1.cmml">​</mo><mrow id="S3.SS0.SSS1.p1.1.m1.1.2.3.2" xref="S3.SS0.SSS1.p1.1.m1.1.2.cmml"><mo stretchy="false" id="S3.SS0.SSS1.p1.1.m1.1.2.3.2.1" xref="S3.SS0.SSS1.p1.1.m1.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS0.SSS1.p1.1.m1.1.1" xref="S3.SS0.SSS1.p1.1.m1.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS0.SSS1.p1.1.m1.1.2.3.2.2" xref="S3.SS0.SSS1.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS1.p1.1.m1.1b"><apply id="S3.SS0.SSS1.p1.1.m1.1.2.cmml" xref="S3.SS0.SSS1.p1.1.m1.1.2"><times id="S3.SS0.SSS1.p1.1.m1.1.2.1.cmml" xref="S3.SS0.SSS1.p1.1.m1.1.2.1"></times><ci id="S3.SS0.SSS1.p1.1.m1.1.2.2.cmml" xref="S3.SS0.SSS1.p1.1.m1.1.2.2">𝑉</ci><ci id="S3.SS0.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS1.p1.1.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS1.p1.1.m1.1c">V(\cdot)</annotation></semantics></math> is denoted by</p>
<table id="S3.E7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E7.m1.1" class="ltx_math_unparsed" alttext="V(s_{t}^{i})=\mathbb{E}_{a_{t}^{i}\sim\pi_{i}}\Bigr{[}Q(s_{t}^{i},a_{t}^{i})-\alpha_{i}\log\bigl{(}\pi_{i}(a_{t}^{i}|s_{t}^{i})\bigl{)}\Bigr{]}." display="block"><semantics id="S3.E7.m1.1a"><mrow id="S3.E7.m1.1b"><mi id="S3.E7.m1.1.1">V</mi><mrow id="S3.E7.m1.1.2"><mo stretchy="false" id="S3.E7.m1.1.2.1">(</mo><msubsup id="S3.E7.m1.1.2.2"><mi id="S3.E7.m1.1.2.2.2.2">s</mi><mi id="S3.E7.m1.1.2.2.2.3">t</mi><mi id="S3.E7.m1.1.2.2.3">i</mi></msubsup><mo stretchy="false" id="S3.E7.m1.1.2.3">)</mo></mrow><mo id="S3.E7.m1.1.3">=</mo><msub id="S3.E7.m1.1.4"><mi id="S3.E7.m1.1.4.2">𝔼</mi><mrow id="S3.E7.m1.1.4.3"><msubsup id="S3.E7.m1.1.4.3.2"><mi id="S3.E7.m1.1.4.3.2.2.2">a</mi><mi id="S3.E7.m1.1.4.3.2.2.3">t</mi><mi id="S3.E7.m1.1.4.3.2.3">i</mi></msubsup><mo id="S3.E7.m1.1.4.3.1">∼</mo><msub id="S3.E7.m1.1.4.3.3"><mi id="S3.E7.m1.1.4.3.3.2">π</mi><mi id="S3.E7.m1.1.4.3.3.3">i</mi></msub></mrow></msub><mo lspace="0em" mathsize="160%" rspace="0em" id="S3.E7.m1.1.5">[</mo><mi id="S3.E7.m1.1.6">Q</mi><mo stretchy="false" id="S3.E7.m1.1.7">(</mo><msubsup id="S3.E7.m1.1.8"><mi id="S3.E7.m1.1.8.2.2">s</mi><mi id="S3.E7.m1.1.8.2.3">t</mi><mi id="S3.E7.m1.1.8.3">i</mi></msubsup><mo id="S3.E7.m1.1.9">,</mo><msubsup id="S3.E7.m1.1.10"><mi id="S3.E7.m1.1.10.2.2">a</mi><mi id="S3.E7.m1.1.10.2.3">t</mi><mi id="S3.E7.m1.1.10.3">i</mi></msubsup><mo stretchy="false" id="S3.E7.m1.1.11">)</mo><mo id="S3.E7.m1.1.12">−</mo><mi id="S3.E7.m1.1.13">α</mi><msub id="S3.E7.m1.1.14"><mi id="S3.E7.m1.1.14a"></mi><mi id="S3.E7.m1.1.14.1">i</mi></msub><mi id="S3.E7.m1.1.15">log</mi><mo maxsize="120%" minsize="120%" id="S3.E7.m1.1.16">(</mo><msub id="S3.E7.m1.1.17"><mi id="S3.E7.m1.1.17.2">π</mi><mi id="S3.E7.m1.1.17.3">i</mi></msub><mrow id="S3.E7.m1.1.18"><mo stretchy="false" id="S3.E7.m1.1.18.1">(</mo><msubsup id="S3.E7.m1.1.18.2"><mi id="S3.E7.m1.1.18.2.2.2">a</mi><mi id="S3.E7.m1.1.18.2.2.3">t</mi><mi id="S3.E7.m1.1.18.2.3">i</mi></msubsup><mo fence="false" rspace="0.167em" stretchy="false" id="S3.E7.m1.1.18.3">|</mo><msubsup id="S3.E7.m1.1.18.4"><mi id="S3.E7.m1.1.18.4.2.2">s</mi><mi id="S3.E7.m1.1.18.4.2.3">t</mi><mi id="S3.E7.m1.1.18.4.3">i</mi></msubsup><mo stretchy="false" id="S3.E7.m1.1.18.5">)</mo></mrow><mrow id="S3.E7.m1.1.19"><mo lspace="0em" mathsize="120%" rspace="0em" id="S3.E7.m1.1.19.1">)</mo><mo maxsize="160%" minsize="160%" id="S3.E7.m1.1.19.2">]</mo></mrow><mo lspace="0em" id="S3.E7.m1.1.20">.</mo></mrow><annotation encoding="application/x-tex" id="S3.E7.m1.1c">V(s_{t}^{i})=\mathbb{E}_{a_{t}^{i}\sim\pi_{i}}\Bigr{[}Q(s_{t}^{i},a_{t}^{i})-\alpha_{i}\log\bigl{(}\pi_{i}(a_{t}^{i}|s_{t}^{i})\bigl{)}\Bigr{]}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="S3.SS0.SSS1.p1.4" class="ltx_p">Essentially, SAC introduces a DNN <math id="S3.SS0.SSS1.p1.2.m1.2" class="ltx_Math" alttext="Q_{\theta_{i}}(s_{t}^{i},a_{t}^{i})" display="inline"><semantics id="S3.SS0.SSS1.p1.2.m1.2a"><mrow id="S3.SS0.SSS1.p1.2.m1.2.2" xref="S3.SS0.SSS1.p1.2.m1.2.2.cmml"><msub id="S3.SS0.SSS1.p1.2.m1.2.2.4" xref="S3.SS0.SSS1.p1.2.m1.2.2.4.cmml"><mi id="S3.SS0.SSS1.p1.2.m1.2.2.4.2" xref="S3.SS0.SSS1.p1.2.m1.2.2.4.2.cmml">Q</mi><msub id="S3.SS0.SSS1.p1.2.m1.2.2.4.3" xref="S3.SS0.SSS1.p1.2.m1.2.2.4.3.cmml"><mi id="S3.SS0.SSS1.p1.2.m1.2.2.4.3.2" xref="S3.SS0.SSS1.p1.2.m1.2.2.4.3.2.cmml">θ</mi><mi id="S3.SS0.SSS1.p1.2.m1.2.2.4.3.3" xref="S3.SS0.SSS1.p1.2.m1.2.2.4.3.3.cmml">i</mi></msub></msub><mo lspace="0em" rspace="0em" id="S3.SS0.SSS1.p1.2.m1.2.2.3" xref="S3.SS0.SSS1.p1.2.m1.2.2.3.cmml">​</mo><mrow id="S3.SS0.SSS1.p1.2.m1.2.2.2.2" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.3" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.3.cmml">(</mo><msubsup id="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1" xref="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.cmml"><mi id="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.2.2" xref="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.2.3" xref="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.2.3.cmml">t</mi><mi id="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.3" xref="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.4" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.3.cmml">,</mo><msubsup id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.cmml"><mi id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.2.2" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.2.2.cmml">a</mi><mi id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.2.3" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.2.3.cmml">t</mi><mi id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.3" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.5" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS1.p1.2.m1.2b"><apply id="S3.SS0.SSS1.p1.2.m1.2.2.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2"><times id="S3.SS0.SSS1.p1.2.m1.2.2.3.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.3"></times><apply id="S3.SS0.SSS1.p1.2.m1.2.2.4.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.4"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.2.m1.2.2.4.1.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.4">subscript</csymbol><ci id="S3.SS0.SSS1.p1.2.m1.2.2.4.2.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.4.2">𝑄</ci><apply id="S3.SS0.SSS1.p1.2.m1.2.2.4.3.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.4.3"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.2.m1.2.2.4.3.1.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.4.3">subscript</csymbol><ci id="S3.SS0.SSS1.p1.2.m1.2.2.4.3.2.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.4.3.2">𝜃</ci><ci id="S3.SS0.SSS1.p1.2.m1.2.2.4.3.3.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.4.3.3">𝑖</ci></apply></apply><interval closure="open" id="S3.SS0.SSS1.p1.2.m1.2.2.2.3.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2"><apply id="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.cmml" xref="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.2.1.cmml" xref="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.2.2.cmml" xref="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.2.3.cmml" xref="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS1.p1.2.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.1.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2">superscript</csymbol><apply id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.2.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.2.1.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.2.2.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.2.2">𝑎</ci><ci id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.2.3.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.3.cmml" xref="S3.SS0.SSS1.p1.2.m1.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS1.p1.2.m1.2c">Q_{\theta_{i}}(s_{t}^{i},a_{t}^{i})</annotation></semantics></math> with parameters <math id="S3.SS0.SSS1.p1.3.m2.4" class="ltx_Math" alttext="\mathbf{\theta}_{i}=(\theta_{1}^{i},\theta_{2}^{i},\cdots,\theta_{n}^{i})" display="inline"><semantics id="S3.SS0.SSS1.p1.3.m2.4a"><mrow id="S3.SS0.SSS1.p1.3.m2.4.4" xref="S3.SS0.SSS1.p1.3.m2.4.4.cmml"><msub id="S3.SS0.SSS1.p1.3.m2.4.4.5" xref="S3.SS0.SSS1.p1.3.m2.4.4.5.cmml"><mi id="S3.SS0.SSS1.p1.3.m2.4.4.5.2" xref="S3.SS0.SSS1.p1.3.m2.4.4.5.2.cmml">θ</mi><mi id="S3.SS0.SSS1.p1.3.m2.4.4.5.3" xref="S3.SS0.SSS1.p1.3.m2.4.4.5.3.cmml">i</mi></msub><mo id="S3.SS0.SSS1.p1.3.m2.4.4.4" xref="S3.SS0.SSS1.p1.3.m2.4.4.4.cmml">=</mo><mrow id="S3.SS0.SSS1.p1.3.m2.4.4.3.3" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.4.cmml"><mo stretchy="false" id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.4" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.4.cmml">(</mo><msubsup id="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1" xref="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.cmml"><mi id="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.2.2" xref="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.2.2.cmml">θ</mi><mn id="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.2.3" xref="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.2.3.cmml">1</mn><mi id="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.3" xref="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.3.cmml">i</mi></msubsup><mo id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.5" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.4.cmml">,</mo><msubsup id="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2" xref="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.cmml"><mi id="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.2.2" xref="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.2.2.cmml">θ</mi><mn id="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.2.3" xref="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.2.3.cmml">2</mn><mi id="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.3" xref="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.3.cmml">i</mi></msubsup><mo id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.6" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS0.SSS1.p1.3.m2.1.1" xref="S3.SS0.SSS1.p1.3.m2.1.1.cmml">⋯</mi><mo id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.7" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.4.cmml">,</mo><msubsup id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.cmml"><mi id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.2.2" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.2.2.cmml">θ</mi><mi id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.2.3" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.2.3.cmml">n</mi><mi id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.3" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.8" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS1.p1.3.m2.4b"><apply id="S3.SS0.SSS1.p1.3.m2.4.4.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4"><eq id="S3.SS0.SSS1.p1.3.m2.4.4.4.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.4"></eq><apply id="S3.SS0.SSS1.p1.3.m2.4.4.5.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.5"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.3.m2.4.4.5.1.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.5">subscript</csymbol><ci id="S3.SS0.SSS1.p1.3.m2.4.4.5.2.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.5.2">𝜃</ci><ci id="S3.SS0.SSS1.p1.3.m2.4.4.5.3.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.5.3">𝑖</ci></apply><vector id="S3.SS0.SSS1.p1.3.m2.4.4.3.4.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3"><apply id="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.cmml" xref="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.1.cmml" xref="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1">superscript</csymbol><apply id="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.2.cmml" xref="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.2.1.cmml" xref="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.2.2.cmml" xref="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.2.2">𝜃</ci><cn type="integer" id="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.2.3.cmml" xref="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.2.3">1</cn></apply><ci id="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.3.cmml" xref="S3.SS0.SSS1.p1.3.m2.2.2.1.1.1.3">𝑖</ci></apply><apply id="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.cmml" xref="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.1.cmml" xref="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2">superscript</csymbol><apply id="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.2.cmml" xref="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.2.1.cmml" xref="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2">subscript</csymbol><ci id="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.2.2.cmml" xref="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.2.2">𝜃</ci><cn type="integer" id="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.2.3.cmml" xref="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.2.3">2</cn></apply><ci id="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.3.cmml" xref="S3.SS0.SSS1.p1.3.m2.3.3.2.2.2.3">𝑖</ci></apply><ci id="S3.SS0.SSS1.p1.3.m2.1.1.cmml" xref="S3.SS0.SSS1.p1.3.m2.1.1">⋯</ci><apply id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.1.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3">superscript</csymbol><apply id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.2.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.2.1.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3">subscript</csymbol><ci id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.2.2.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.2.2">𝜃</ci><ci id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.2.3.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.2.3">𝑛</ci></apply><ci id="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.3.cmml" xref="S3.SS0.SSS1.p1.3.m2.4.4.3.3.3.3">𝑖</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS1.p1.3.m2.4c">\mathbf{\theta}_{i}=(\theta_{1}^{i},\theta_{2}^{i},\cdots,\theta_{n}^{i})</annotation></semantics></math> to approximate the soft Q-function. Then the parameters can be trained by minimizing the soft Bellman residual by utilizing the previous sampled state and action data stored in the replay buffer <math id="S3.SS0.SSS1.p1.4.m3.1" class="ltx_Math" alttext="\mathcal{D}_{i}" display="inline"><semantics id="S3.SS0.SSS1.p1.4.m3.1a"><msub id="S3.SS0.SSS1.p1.4.m3.1.1" xref="S3.SS0.SSS1.p1.4.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS1.p1.4.m3.1.1.2" xref="S3.SS0.SSS1.p1.4.m3.1.1.2.cmml">𝒟</mi><mi id="S3.SS0.SSS1.p1.4.m3.1.1.3" xref="S3.SS0.SSS1.p1.4.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS1.p1.4.m3.1b"><apply id="S3.SS0.SSS1.p1.4.m3.1.1.cmml" xref="S3.SS0.SSS1.p1.4.m3.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.4.m3.1.1.1.cmml" xref="S3.SS0.SSS1.p1.4.m3.1.1">subscript</csymbol><ci id="S3.SS0.SSS1.p1.4.m3.1.1.2.cmml" xref="S3.SS0.SSS1.p1.4.m3.1.1.2">𝒟</ci><ci id="S3.SS0.SSS1.p1.4.m3.1.1.3.cmml" xref="S3.SS0.SSS1.p1.4.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS1.p1.4.m3.1c">\mathcal{D}_{i}</annotation></semantics></math>, that is</p>
<table id="S3.E8" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E8.m1.2" class="ltx_math_unparsed" alttext="\mathcal{J}_{Q}(\theta_{i})=\mathbb{E}_{(s_{t}^{i},a_{t}^{i})\sim\mathcal{D}_{i}}\left[\frac{1}{2}\Bigl{(}Q_{\theta_{i}}(s_{t}^{i},a_{t}^{i})-\overline{Q}_{\bar{\theta}_{i}}(s_{t}^{i},a_{t}^{i})\Bigl{)}^{2}\right]" display="block"><semantics id="S3.E8.m1.2a"><mrow id="S3.E8.m1.2b"><msub id="S3.E8.m1.2.3"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.2.3.2">𝒥</mi><mi id="S3.E8.m1.2.3.3">Q</mi></msub><mrow id="S3.E8.m1.2.4"><mo stretchy="false" id="S3.E8.m1.2.4.1">(</mo><msub id="S3.E8.m1.2.4.2"><mi id="S3.E8.m1.2.4.2.2">θ</mi><mi id="S3.E8.m1.2.4.2.3">i</mi></msub><mo stretchy="false" id="S3.E8.m1.2.4.3">)</mo></mrow><mo id="S3.E8.m1.2.5">=</mo><msub id="S3.E8.m1.2.6"><mi id="S3.E8.m1.2.6.2">𝔼</mi><mrow id="S3.E8.m1.2.2.2"><mrow id="S3.E8.m1.2.2.2.2.2"><mo stretchy="false" id="S3.E8.m1.2.2.2.2.2.3">(</mo><msubsup id="S3.E8.m1.1.1.1.1.1.1"><mi id="S3.E8.m1.1.1.1.1.1.1.2.2">s</mi><mi id="S3.E8.m1.1.1.1.1.1.1.2.3">t</mi><mi id="S3.E8.m1.1.1.1.1.1.1.3">i</mi></msubsup><mo id="S3.E8.m1.2.2.2.2.2.4">,</mo><msubsup id="S3.E8.m1.2.2.2.2.2.2"><mi id="S3.E8.m1.2.2.2.2.2.2.2.2">a</mi><mi id="S3.E8.m1.2.2.2.2.2.2.2.3">t</mi><mi id="S3.E8.m1.2.2.2.2.2.2.3">i</mi></msubsup><mo stretchy="false" id="S3.E8.m1.2.2.2.2.2.5">)</mo></mrow><mo id="S3.E8.m1.2.2.2.3">∼</mo><msub id="S3.E8.m1.2.2.2.4"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.2.2.2.4.2">𝒟</mi><mi id="S3.E8.m1.2.2.2.4.3">i</mi></msub></mrow></msub><mrow id="S3.E8.m1.2.7"><mo id="S3.E8.m1.2.7.1">[</mo><mfrac id="S3.E8.m1.2.7.2"><mn id="S3.E8.m1.2.7.2.2">1</mn><mn id="S3.E8.m1.2.7.2.3">2</mn></mfrac><mrow id="S3.E8.m1.2.7.3"><mo maxsize="160%" minsize="160%" id="S3.E8.m1.2.7.3.1">(</mo><msub id="S3.E8.m1.2.7.3.2"><mi id="S3.E8.m1.2.7.3.2.2">Q</mi><msub id="S3.E8.m1.2.7.3.2.3"><mi id="S3.E8.m1.2.7.3.2.3.2">θ</mi><mi id="S3.E8.m1.2.7.3.2.3.3">i</mi></msub></msub><mrow id="S3.E8.m1.2.7.3.3"><mo stretchy="false" id="S3.E8.m1.2.7.3.3.1">(</mo><msubsup id="S3.E8.m1.2.7.3.3.2"><mi id="S3.E8.m1.2.7.3.3.2.2.2">s</mi><mi id="S3.E8.m1.2.7.3.3.2.2.3">t</mi><mi id="S3.E8.m1.2.7.3.3.2.3">i</mi></msubsup><mo id="S3.E8.m1.2.7.3.3.3">,</mo><msubsup id="S3.E8.m1.2.7.3.3.4"><mi id="S3.E8.m1.2.7.3.3.4.2.2">a</mi><mi id="S3.E8.m1.2.7.3.3.4.2.3">t</mi><mi id="S3.E8.m1.2.7.3.3.4.3">i</mi></msubsup><mo stretchy="false" id="S3.E8.m1.2.7.3.3.5">)</mo></mrow><mo id="S3.E8.m1.2.7.3.4">−</mo><msub id="S3.E8.m1.2.7.3.5"><mover accent="true" id="S3.E8.m1.2.7.3.5.2"><mi id="S3.E8.m1.2.7.3.5.2.2">Q</mi><mo id="S3.E8.m1.2.7.3.5.2.1">¯</mo></mover><msub id="S3.E8.m1.2.7.3.5.3"><mover accent="true" id="S3.E8.m1.2.7.3.5.3.2"><mi id="S3.E8.m1.2.7.3.5.3.2.2">θ</mi><mo id="S3.E8.m1.2.7.3.5.3.2.1">¯</mo></mover><mi id="S3.E8.m1.2.7.3.5.3.3">i</mi></msub></msub><mrow id="S3.E8.m1.2.7.3.6"><mo stretchy="false" id="S3.E8.m1.2.7.3.6.1">(</mo><msubsup id="S3.E8.m1.2.7.3.6.2"><mi id="S3.E8.m1.2.7.3.6.2.2.2">s</mi><mi id="S3.E8.m1.2.7.3.6.2.2.3">t</mi><mi id="S3.E8.m1.2.7.3.6.2.3">i</mi></msubsup><mo id="S3.E8.m1.2.7.3.6.3">,</mo><msubsup id="S3.E8.m1.2.7.3.6.4"><mi id="S3.E8.m1.2.7.3.6.4.2.2">a</mi><mi id="S3.E8.m1.2.7.3.6.4.2.3">t</mi><mi id="S3.E8.m1.2.7.3.6.4.3">i</mi></msubsup><mo stretchy="false" id="S3.E8.m1.2.7.3.6.5">)</mo></mrow><mrow id="S3.E8.m1.2.7.3.7"><msup id="S3.E8.m1.2.7.3.7.1"><mo lspace="0em" mathsize="160%" rspace="0em" id="S3.E8.m1.2.7.3.7.1.2">)</mo><mn id="S3.E8.m1.2.7.3.7.1.3">2</mn></msup><mo id="S3.E8.m1.2.7.3.7.2">]</mo></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S3.E8.m1.2c">\mathcal{J}_{Q}(\theta_{i})=\mathbb{E}_{(s_{t}^{i},a_{t}^{i})\sim\mathcal{D}_{i}}\left[\frac{1}{2}\Bigl{(}Q_{\theta_{i}}(s_{t}^{i},a_{t}^{i})-\overline{Q}_{\bar{\theta}_{i}}(s_{t}^{i},a_{t}^{i})\Bigl{)}^{2}\right]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p id="S3.SS0.SSS1.p1.5" class="ltx_p">with <math id="S3.SS0.SSS1.p1.5.m1.2" class="ltx_Math" alttext="\overline{Q}_{\bar{\theta}_{i}}(s_{t}^{i},a_{t}^{i})" display="inline"><semantics id="S3.SS0.SSS1.p1.5.m1.2a"><mrow id="S3.SS0.SSS1.p1.5.m1.2.2" xref="S3.SS0.SSS1.p1.5.m1.2.2.cmml"><msub id="S3.SS0.SSS1.p1.5.m1.2.2.4" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.cmml"><mover accent="true" id="S3.SS0.SSS1.p1.5.m1.2.2.4.2" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.2.cmml"><mi id="S3.SS0.SSS1.p1.5.m1.2.2.4.2.2" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.2.2.cmml">Q</mi><mo id="S3.SS0.SSS1.p1.5.m1.2.2.4.2.1" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.2.1.cmml">¯</mo></mover><msub id="S3.SS0.SSS1.p1.5.m1.2.2.4.3" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.3.cmml"><mover accent="true" id="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2.cmml"><mi id="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2.2" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2.2.cmml">θ</mi><mo id="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2.1" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2.1.cmml">¯</mo></mover><mi id="S3.SS0.SSS1.p1.5.m1.2.2.4.3.3" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.3.3.cmml">i</mi></msub></msub><mo lspace="0em" rspace="0em" id="S3.SS0.SSS1.p1.5.m1.2.2.3" xref="S3.SS0.SSS1.p1.5.m1.2.2.3.cmml">​</mo><mrow id="S3.SS0.SSS1.p1.5.m1.2.2.2.2" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.3" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.3.cmml">(</mo><msubsup id="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1" xref="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.cmml"><mi id="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.2.2" xref="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.2.3" xref="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.2.3.cmml">t</mi><mi id="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.3" xref="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.4" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.3.cmml">,</mo><msubsup id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.cmml"><mi id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.2.2" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.2.2.cmml">a</mi><mi id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.2.3" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.2.3.cmml">t</mi><mi id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.3" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.5" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS1.p1.5.m1.2b"><apply id="S3.SS0.SSS1.p1.5.m1.2.2.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2"><times id="S3.SS0.SSS1.p1.5.m1.2.2.3.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.3"></times><apply id="S3.SS0.SSS1.p1.5.m1.2.2.4.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.4"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.5.m1.2.2.4.1.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.4">subscript</csymbol><apply id="S3.SS0.SSS1.p1.5.m1.2.2.4.2.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.2"><ci id="S3.SS0.SSS1.p1.5.m1.2.2.4.2.1.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.2.1">¯</ci><ci id="S3.SS0.SSS1.p1.5.m1.2.2.4.2.2.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.2.2">𝑄</ci></apply><apply id="S3.SS0.SSS1.p1.5.m1.2.2.4.3.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.3"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.5.m1.2.2.4.3.1.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.3">subscript</csymbol><apply id="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2"><ci id="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2.1.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2.1">¯</ci><ci id="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2.2.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.3.2.2">𝜃</ci></apply><ci id="S3.SS0.SSS1.p1.5.m1.2.2.4.3.3.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.4.3.3">𝑖</ci></apply></apply><interval closure="open" id="S3.SS0.SSS1.p1.5.m1.2.2.2.3.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2"><apply id="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.cmml" xref="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.2.1.cmml" xref="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.2.2.cmml" xref="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.2.3.cmml" xref="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS1.p1.5.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.1.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2">superscript</csymbol><apply id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.2.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.2.1.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.2.2.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.2.2">𝑎</ci><ci id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.2.3.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.3.cmml" xref="S3.SS0.SSS1.p1.5.m1.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS1.p1.5.m1.2c">\overline{Q}_{\bar{\theta}_{i}}(s_{t}^{i},a_{t}^{i})</annotation></semantics></math> given by</p>
<table id="S3.E9" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E9.m1.1" class="ltx_math_unparsed" alttext="\overline{Q}_{\bar{\theta}_{i}}(s_{t}^{i},a_{t}^{i})=r_{t}(s_{t}^{i},a_{t}^{i})+\gamma\cdot\mathbb{E}_{s^{i}_{t+1}\sim p_{i}}\bigr{[}V_{\bar{\theta}_{i}}(s_{t+1}^{i})\bigr{]}." display="block"><semantics id="S3.E9.m1.1a"><mrow id="S3.E9.m1.1b"><mrow id="S3.E9.m1.1.1"><msub id="S3.E9.m1.1.1.1"><mover accent="true" id="S3.E9.m1.1.1.1.2"><mi id="S3.E9.m1.1.1.1.2.2">Q</mi><mo id="S3.E9.m1.1.1.1.2.1">¯</mo></mover><msub id="S3.E9.m1.1.1.1.3"><mover accent="true" id="S3.E9.m1.1.1.1.3.2"><mi id="S3.E9.m1.1.1.1.3.2.2">θ</mi><mo id="S3.E9.m1.1.1.1.3.2.1">¯</mo></mover><mi id="S3.E9.m1.1.1.1.3.3">i</mi></msub></msub><mrow id="S3.E9.m1.1.1.2"><mo stretchy="false" id="S3.E9.m1.1.1.2.1">(</mo><msubsup id="S3.E9.m1.1.1.2.2"><mi id="S3.E9.m1.1.1.2.2.2.2">s</mi><mi id="S3.E9.m1.1.1.2.2.2.3">t</mi><mi id="S3.E9.m1.1.1.2.2.3">i</mi></msubsup><mo id="S3.E9.m1.1.1.2.3">,</mo><msubsup id="S3.E9.m1.1.1.2.4"><mi id="S3.E9.m1.1.1.2.4.2.2">a</mi><mi id="S3.E9.m1.1.1.2.4.2.3">t</mi><mi id="S3.E9.m1.1.1.2.4.3">i</mi></msubsup><mo stretchy="false" id="S3.E9.m1.1.1.2.5">)</mo></mrow><mo id="S3.E9.m1.1.1.3">=</mo><msub id="S3.E9.m1.1.1.4"><mi id="S3.E9.m1.1.1.4.2">r</mi><mi id="S3.E9.m1.1.1.4.3">t</mi></msub><mrow id="S3.E9.m1.1.1.5"><mo stretchy="false" id="S3.E9.m1.1.1.5.1">(</mo><msubsup id="S3.E9.m1.1.1.5.2"><mi id="S3.E9.m1.1.1.5.2.2.2">s</mi><mi id="S3.E9.m1.1.1.5.2.2.3">t</mi><mi id="S3.E9.m1.1.1.5.2.3">i</mi></msubsup><mo id="S3.E9.m1.1.1.5.3">,</mo><msubsup id="S3.E9.m1.1.1.5.4"><mi id="S3.E9.m1.1.1.5.4.2.2">a</mi><mi id="S3.E9.m1.1.1.5.4.2.3">t</mi><mi id="S3.E9.m1.1.1.5.4.3">i</mi></msubsup><mo stretchy="false" id="S3.E9.m1.1.1.5.5">)</mo></mrow><mo id="S3.E9.m1.1.1.6">+</mo><mi id="S3.E9.m1.1.1.7">γ</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E9.m1.1.1.8">⋅</mo><msub id="S3.E9.m1.1.1.9"><mi id="S3.E9.m1.1.1.9.2">𝔼</mi><mrow id="S3.E9.m1.1.1.9.3"><msubsup id="S3.E9.m1.1.1.9.3.2"><mi id="S3.E9.m1.1.1.9.3.2.2.2">s</mi><mrow id="S3.E9.m1.1.1.9.3.2.3"><mi id="S3.E9.m1.1.1.9.3.2.3.2">t</mi><mo id="S3.E9.m1.1.1.9.3.2.3.1">+</mo><mn id="S3.E9.m1.1.1.9.3.2.3.3">1</mn></mrow><mi id="S3.E9.m1.1.1.9.3.2.2.3">i</mi></msubsup><mo id="S3.E9.m1.1.1.9.3.1">∼</mo><msub id="S3.E9.m1.1.1.9.3.3"><mi id="S3.E9.m1.1.1.9.3.3.2">p</mi><mi id="S3.E9.m1.1.1.9.3.3.3">i</mi></msub></mrow></msub><mo lspace="0em" mathsize="120%" rspace="0em" id="S3.E9.m1.1.1.10">[</mo></mrow><msub id="S3.E9.m1.1.2"><mi id="S3.E9.m1.1.2.2">V</mi><msub id="S3.E9.m1.1.2.3"><mover accent="true" id="S3.E9.m1.1.2.3.2"><mi id="S3.E9.m1.1.2.3.2.2">θ</mi><mo id="S3.E9.m1.1.2.3.2.1">¯</mo></mover><mi id="S3.E9.m1.1.2.3.3">i</mi></msub></msub><mrow id="S3.E9.m1.1.3"><mo stretchy="false" id="S3.E9.m1.1.3.1">(</mo><msubsup id="S3.E9.m1.1.3.2"><mi id="S3.E9.m1.1.3.2.2.2">s</mi><mrow id="S3.E9.m1.1.3.2.2.3"><mi id="S3.E9.m1.1.3.2.2.3.2">t</mi><mo id="S3.E9.m1.1.3.2.2.3.1">+</mo><mn id="S3.E9.m1.1.3.2.2.3.3">1</mn></mrow><mi id="S3.E9.m1.1.3.2.3">i</mi></msubsup><mo stretchy="false" id="S3.E9.m1.1.3.3">)</mo></mrow><mo maxsize="120%" minsize="120%" id="S3.E9.m1.1.4">]</mo><mo lspace="0em" id="S3.E9.m1.1.5">.</mo></mrow><annotation encoding="application/x-tex" id="S3.E9.m1.1c">\overline{Q}_{\bar{\theta}_{i}}(s_{t}^{i},a_{t}^{i})=r_{t}(s_{t}^{i},a_{t}^{i})+\gamma\cdot\mathbb{E}_{s^{i}_{t+1}\sim p_{i}}\bigr{[}V_{\bar{\theta}_{i}}(s_{t+1}^{i})\bigr{]}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p id="S3.SS0.SSS1.p1.9" class="ltx_p">Here, the <math id="S3.SS0.SSS1.p1.6.m1.1" class="ltx_Math" alttext="V_{\bar{\theta}_{i}}" display="inline"><semantics id="S3.SS0.SSS1.p1.6.m1.1a"><msub id="S3.SS0.SSS1.p1.6.m1.1.1" xref="S3.SS0.SSS1.p1.6.m1.1.1.cmml"><mi id="S3.SS0.SSS1.p1.6.m1.1.1.2" xref="S3.SS0.SSS1.p1.6.m1.1.1.2.cmml">V</mi><msub id="S3.SS0.SSS1.p1.6.m1.1.1.3" xref="S3.SS0.SSS1.p1.6.m1.1.1.3.cmml"><mover accent="true" id="S3.SS0.SSS1.p1.6.m1.1.1.3.2" xref="S3.SS0.SSS1.p1.6.m1.1.1.3.2.cmml"><mi id="S3.SS0.SSS1.p1.6.m1.1.1.3.2.2" xref="S3.SS0.SSS1.p1.6.m1.1.1.3.2.2.cmml">θ</mi><mo id="S3.SS0.SSS1.p1.6.m1.1.1.3.2.1" xref="S3.SS0.SSS1.p1.6.m1.1.1.3.2.1.cmml">¯</mo></mover><mi id="S3.SS0.SSS1.p1.6.m1.1.1.3.3" xref="S3.SS0.SSS1.p1.6.m1.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS1.p1.6.m1.1b"><apply id="S3.SS0.SSS1.p1.6.m1.1.1.cmml" xref="S3.SS0.SSS1.p1.6.m1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.6.m1.1.1.1.cmml" xref="S3.SS0.SSS1.p1.6.m1.1.1">subscript</csymbol><ci id="S3.SS0.SSS1.p1.6.m1.1.1.2.cmml" xref="S3.SS0.SSS1.p1.6.m1.1.1.2">𝑉</ci><apply id="S3.SS0.SSS1.p1.6.m1.1.1.3.cmml" xref="S3.SS0.SSS1.p1.6.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.6.m1.1.1.3.1.cmml" xref="S3.SS0.SSS1.p1.6.m1.1.1.3">subscript</csymbol><apply id="S3.SS0.SSS1.p1.6.m1.1.1.3.2.cmml" xref="S3.SS0.SSS1.p1.6.m1.1.1.3.2"><ci id="S3.SS0.SSS1.p1.6.m1.1.1.3.2.1.cmml" xref="S3.SS0.SSS1.p1.6.m1.1.1.3.2.1">¯</ci><ci id="S3.SS0.SSS1.p1.6.m1.1.1.3.2.2.cmml" xref="S3.SS0.SSS1.p1.6.m1.1.1.3.2.2">𝜃</ci></apply><ci id="S3.SS0.SSS1.p1.6.m1.1.1.3.3.cmml" xref="S3.SS0.SSS1.p1.6.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS1.p1.6.m1.1c">V_{\bar{\theta}_{i}}</annotation></semantics></math> in (<a href="#S3.E9" title="In III-1 Policy Evaluation ‣ III Proposed Approach ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>) is a DNN which can be used to estimate the soft state value function in (<a href="#S3.E7" title="In III-1 Policy Evaluation ‣ III Proposed Approach ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>), and its parameters can be updated by a moving average method, i.e., <math id="S3.SS0.SSS1.p1.7.m2.1" class="ltx_Math" alttext="\bar{\theta_{i}}\leftarrow\zeta\cdot\theta_{i}+(1-\zeta)\cdot\bar{\theta}_{i}" display="inline"><semantics id="S3.SS0.SSS1.p1.7.m2.1a"><mrow id="S3.SS0.SSS1.p1.7.m2.1.1" xref="S3.SS0.SSS1.p1.7.m2.1.1.cmml"><mover accent="true" id="S3.SS0.SSS1.p1.7.m2.1.1.3" xref="S3.SS0.SSS1.p1.7.m2.1.1.3.cmml"><msub id="S3.SS0.SSS1.p1.7.m2.1.1.3.2" xref="S3.SS0.SSS1.p1.7.m2.1.1.3.2.cmml"><mi id="S3.SS0.SSS1.p1.7.m2.1.1.3.2.2" xref="S3.SS0.SSS1.p1.7.m2.1.1.3.2.2.cmml">θ</mi><mi id="S3.SS0.SSS1.p1.7.m2.1.1.3.2.3" xref="S3.SS0.SSS1.p1.7.m2.1.1.3.2.3.cmml">i</mi></msub><mo id="S3.SS0.SSS1.p1.7.m2.1.1.3.1" xref="S3.SS0.SSS1.p1.7.m2.1.1.3.1.cmml">¯</mo></mover><mo stretchy="false" id="S3.SS0.SSS1.p1.7.m2.1.1.2" xref="S3.SS0.SSS1.p1.7.m2.1.1.2.cmml">←</mo><mrow id="S3.SS0.SSS1.p1.7.m2.1.1.1" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.cmml"><mrow id="S3.SS0.SSS1.p1.7.m2.1.1.1.3" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.cmml"><mi id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.2" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.2.cmml">ζ</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.1" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.1.cmml">⋅</mo><msub id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3.cmml"><mi id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3.2" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3.2.cmml">θ</mi><mi id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3.3" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3.3.cmml">i</mi></msub></mrow><mo id="S3.SS0.SSS1.p1.7.m2.1.1.1.2" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.2.cmml">+</mo><mrow id="S3.SS0.SSS1.p1.7.m2.1.1.1.1" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.cmml"><mrow id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.2" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.cmml"><mn id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.2" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.1" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.3" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.3.cmml">ζ</mi></mrow><mo rspace="0.055em" stretchy="false" id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.3" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo rspace="0.222em" id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.2" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.2.cmml">⋅</mo><msub id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.cmml"><mover accent="true" id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2.cmml"><mi id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2.2" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2.2.cmml">θ</mi><mo id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2.1" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2.1.cmml">¯</mo></mover><mi id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.3" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS1.p1.7.m2.1b"><apply id="S3.SS0.SSS1.p1.7.m2.1.1.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1"><ci id="S3.SS0.SSS1.p1.7.m2.1.1.2.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.2">←</ci><apply id="S3.SS0.SSS1.p1.7.m2.1.1.3.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.3"><ci id="S3.SS0.SSS1.p1.7.m2.1.1.3.1.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.3.1">¯</ci><apply id="S3.SS0.SSS1.p1.7.m2.1.1.3.2.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.7.m2.1.1.3.2.1.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.3.2">subscript</csymbol><ci id="S3.SS0.SSS1.p1.7.m2.1.1.3.2.2.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.3.2.2">𝜃</ci><ci id="S3.SS0.SSS1.p1.7.m2.1.1.3.2.3.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.3.2.3">𝑖</ci></apply></apply><apply id="S3.SS0.SSS1.p1.7.m2.1.1.1.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1"><plus id="S3.SS0.SSS1.p1.7.m2.1.1.1.2.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.2"></plus><apply id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3"><ci id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.1.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.1">⋅</ci><ci id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.2.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.2">𝜁</ci><apply id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3.1.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3">subscript</csymbol><ci id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3.2.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3.2">𝜃</ci><ci id="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3.3.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.3.3.3">𝑖</ci></apply></apply><apply id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1"><ci id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.2.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.2">⋅</ci><apply id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1"><minus id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.1"></minus><cn type="integer" id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.2">1</cn><ci id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.1.1.1.3">𝜁</ci></apply><apply id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.1.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3">subscript</csymbol><apply id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2"><ci id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2.1.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2.1">¯</ci><ci id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2.2.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.2.2">𝜃</ci></apply><ci id="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.3.cmml" xref="S3.SS0.SSS1.p1.7.m2.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS1.p1.7.m2.1c">\bar{\theta_{i}}\leftarrow\zeta\cdot\theta_{i}+(1-\zeta)\cdot\bar{\theta}_{i}</annotation></semantics></math> with <math id="S3.SS0.SSS1.p1.8.m3.2" class="ltx_Math" alttext="\zeta\in(0,1)" display="inline"><semantics id="S3.SS0.SSS1.p1.8.m3.2a"><mrow id="S3.SS0.SSS1.p1.8.m3.2.3" xref="S3.SS0.SSS1.p1.8.m3.2.3.cmml"><mi id="S3.SS0.SSS1.p1.8.m3.2.3.2" xref="S3.SS0.SSS1.p1.8.m3.2.3.2.cmml">ζ</mi><mo id="S3.SS0.SSS1.p1.8.m3.2.3.1" xref="S3.SS0.SSS1.p1.8.m3.2.3.1.cmml">∈</mo><mrow id="S3.SS0.SSS1.p1.8.m3.2.3.3.2" xref="S3.SS0.SSS1.p1.8.m3.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS0.SSS1.p1.8.m3.2.3.3.2.1" xref="S3.SS0.SSS1.p1.8.m3.2.3.3.1.cmml">(</mo><mn id="S3.SS0.SSS1.p1.8.m3.1.1" xref="S3.SS0.SSS1.p1.8.m3.1.1.cmml">0</mn><mo id="S3.SS0.SSS1.p1.8.m3.2.3.3.2.2" xref="S3.SS0.SSS1.p1.8.m3.2.3.3.1.cmml">,</mo><mn id="S3.SS0.SSS1.p1.8.m3.2.2" xref="S3.SS0.SSS1.p1.8.m3.2.2.cmml">1</mn><mo stretchy="false" id="S3.SS0.SSS1.p1.8.m3.2.3.3.2.3" xref="S3.SS0.SSS1.p1.8.m3.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS1.p1.8.m3.2b"><apply id="S3.SS0.SSS1.p1.8.m3.2.3.cmml" xref="S3.SS0.SSS1.p1.8.m3.2.3"><in id="S3.SS0.SSS1.p1.8.m3.2.3.1.cmml" xref="S3.SS0.SSS1.p1.8.m3.2.3.1"></in><ci id="S3.SS0.SSS1.p1.8.m3.2.3.2.cmml" xref="S3.SS0.SSS1.p1.8.m3.2.3.2">𝜁</ci><interval closure="open" id="S3.SS0.SSS1.p1.8.m3.2.3.3.1.cmml" xref="S3.SS0.SSS1.p1.8.m3.2.3.3.2"><cn type="integer" id="S3.SS0.SSS1.p1.8.m3.1.1.cmml" xref="S3.SS0.SSS1.p1.8.m3.1.1">0</cn><cn type="integer" id="S3.SS0.SSS1.p1.8.m3.2.2.cmml" xref="S3.SS0.SSS1.p1.8.m3.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS1.p1.8.m3.2c">\zeta\in(0,1)</annotation></semantics></math>. Then <math id="S3.SS0.SSS1.p1.9.m4.1" class="ltx_Math" alttext="\mathcal{J}_{Q}(\theta_{i})" display="inline"><semantics id="S3.SS0.SSS1.p1.9.m4.1a"><mrow id="S3.SS0.SSS1.p1.9.m4.1.1" xref="S3.SS0.SSS1.p1.9.m4.1.1.cmml"><msub id="S3.SS0.SSS1.p1.9.m4.1.1.3" xref="S3.SS0.SSS1.p1.9.m4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS1.p1.9.m4.1.1.3.2" xref="S3.SS0.SSS1.p1.9.m4.1.1.3.2.cmml">𝒥</mi><mi id="S3.SS0.SSS1.p1.9.m4.1.1.3.3" xref="S3.SS0.SSS1.p1.9.m4.1.1.3.3.cmml">Q</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS0.SSS1.p1.9.m4.1.1.2" xref="S3.SS0.SSS1.p1.9.m4.1.1.2.cmml">​</mo><mrow id="S3.SS0.SSS1.p1.9.m4.1.1.1.1" xref="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS0.SSS1.p1.9.m4.1.1.1.1.2" xref="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.cmml">(</mo><msub id="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1" xref="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.cmml"><mi id="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.2" xref="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.2.cmml">θ</mi><mi id="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.3" xref="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS0.SSS1.p1.9.m4.1.1.1.1.3" xref="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS1.p1.9.m4.1b"><apply id="S3.SS0.SSS1.p1.9.m4.1.1.cmml" xref="S3.SS0.SSS1.p1.9.m4.1.1"><times id="S3.SS0.SSS1.p1.9.m4.1.1.2.cmml" xref="S3.SS0.SSS1.p1.9.m4.1.1.2"></times><apply id="S3.SS0.SSS1.p1.9.m4.1.1.3.cmml" xref="S3.SS0.SSS1.p1.9.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.9.m4.1.1.3.1.cmml" xref="S3.SS0.SSS1.p1.9.m4.1.1.3">subscript</csymbol><ci id="S3.SS0.SSS1.p1.9.m4.1.1.3.2.cmml" xref="S3.SS0.SSS1.p1.9.m4.1.1.3.2">𝒥</ci><ci id="S3.SS0.SSS1.p1.9.m4.1.1.3.3.cmml" xref="S3.SS0.SSS1.p1.9.m4.1.1.3.3">𝑄</ci></apply><apply id="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.cmml" xref="S3.SS0.SSS1.p1.9.m4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS1.p1.9.m4.1.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.2">𝜃</ci><ci id="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS1.p1.9.m4.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS1.p1.9.m4.1c">\mathcal{J}_{Q}(\theta_{i})</annotation></semantics></math> is optimized by using stochastic value gradient</p>
<table id="Sx1.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E10.m2.1" class="ltx_Math" alttext="\displaystyle\widehat{\nabla}_{\theta_{i}}\mathcal{J}_{Q}(\theta_{i}):=" display="inline"><semantics id="S3.E10.m2.1a"><mrow id="S3.E10.m2.1.1" xref="S3.E10.m2.1.1.cmml"><mrow id="S3.E10.m2.1.1.1" xref="S3.E10.m2.1.1.1.cmml"><msub id="S3.E10.m2.1.1.1.3" xref="S3.E10.m2.1.1.1.3.cmml"><mover accent="true" id="S3.E10.m2.1.1.1.3.2" xref="S3.E10.m2.1.1.1.3.2.cmml"><mo id="S3.E10.m2.1.1.1.3.2.2" xref="S3.E10.m2.1.1.1.3.2.2.cmml">∇</mo><mo id="S3.E10.m2.1.1.1.3.2.1" xref="S3.E10.m2.1.1.1.3.2.1.cmml">^</mo></mover><msub id="S3.E10.m2.1.1.1.3.3" xref="S3.E10.m2.1.1.1.3.3.cmml"><mi id="S3.E10.m2.1.1.1.3.3.2" xref="S3.E10.m2.1.1.1.3.3.2.cmml">θ</mi><mi id="S3.E10.m2.1.1.1.3.3.3" xref="S3.E10.m2.1.1.1.3.3.3.cmml">i</mi></msub></msub><mo lspace="0.167em" rspace="0em" id="S3.E10.m2.1.1.1.2" xref="S3.E10.m2.1.1.1.2.cmml">​</mo><msub id="S3.E10.m2.1.1.1.4" xref="S3.E10.m2.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m2.1.1.1.4.2" xref="S3.E10.m2.1.1.1.4.2.cmml">𝒥</mi><mi id="S3.E10.m2.1.1.1.4.3" xref="S3.E10.m2.1.1.1.4.3.cmml">Q</mi></msub><mo lspace="0em" rspace="0em" id="S3.E10.m2.1.1.1.2a" xref="S3.E10.m2.1.1.1.2.cmml">​</mo><mrow id="S3.E10.m2.1.1.1.1.1" xref="S3.E10.m2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E10.m2.1.1.1.1.1.2" xref="S3.E10.m2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E10.m2.1.1.1.1.1.1" xref="S3.E10.m2.1.1.1.1.1.1.cmml"><mi id="S3.E10.m2.1.1.1.1.1.1.2" xref="S3.E10.m2.1.1.1.1.1.1.2.cmml">θ</mi><mi id="S3.E10.m2.1.1.1.1.1.1.3" xref="S3.E10.m2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo rspace="0.278em" stretchy="false" id="S3.E10.m2.1.1.1.1.1.3" xref="S3.E10.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S3.E10.m2.1.1.2" xref="S3.E10.m2.1.1.2.cmml">:=</mo><mi id="S3.E10.m2.1.1.3" xref="S3.E10.m2.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m2.1b"><apply id="S3.E10.m2.1.1.cmml" xref="S3.E10.m2.1.1"><csymbol cd="latexml" id="S3.E10.m2.1.1.2.cmml" xref="S3.E10.m2.1.1.2">assign</csymbol><apply id="S3.E10.m2.1.1.1.cmml" xref="S3.E10.m2.1.1.1"><times id="S3.E10.m2.1.1.1.2.cmml" xref="S3.E10.m2.1.1.1.2"></times><apply id="S3.E10.m2.1.1.1.3.cmml" xref="S3.E10.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m2.1.1.1.3.1.cmml" xref="S3.E10.m2.1.1.1.3">subscript</csymbol><apply id="S3.E10.m2.1.1.1.3.2.cmml" xref="S3.E10.m2.1.1.1.3.2"><ci id="S3.E10.m2.1.1.1.3.2.1.cmml" xref="S3.E10.m2.1.1.1.3.2.1">^</ci><ci id="S3.E10.m2.1.1.1.3.2.2.cmml" xref="S3.E10.m2.1.1.1.3.2.2">∇</ci></apply><apply id="S3.E10.m2.1.1.1.3.3.cmml" xref="S3.E10.m2.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E10.m2.1.1.1.3.3.1.cmml" xref="S3.E10.m2.1.1.1.3.3">subscript</csymbol><ci id="S3.E10.m2.1.1.1.3.3.2.cmml" xref="S3.E10.m2.1.1.1.3.3.2">𝜃</ci><ci id="S3.E10.m2.1.1.1.3.3.3.cmml" xref="S3.E10.m2.1.1.1.3.3.3">𝑖</ci></apply></apply><apply id="S3.E10.m2.1.1.1.4.cmml" xref="S3.E10.m2.1.1.1.4"><csymbol cd="ambiguous" id="S3.E10.m2.1.1.1.4.1.cmml" xref="S3.E10.m2.1.1.1.4">subscript</csymbol><ci id="S3.E10.m2.1.1.1.4.2.cmml" xref="S3.E10.m2.1.1.1.4.2">𝒥</ci><ci id="S3.E10.m2.1.1.1.4.3.cmml" xref="S3.E10.m2.1.1.1.4.3">𝑄</ci></apply><apply id="S3.E10.m2.1.1.1.1.1.1.cmml" xref="S3.E10.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E10.m2.1.1.1.1.1.1.1.cmml" xref="S3.E10.m2.1.1.1.1.1">subscript</csymbol><ci id="S3.E10.m2.1.1.1.1.1.1.2.cmml" xref="S3.E10.m2.1.1.1.1.1.1.2">𝜃</ci><ci id="S3.E10.m2.1.1.1.1.1.1.3.cmml" xref="S3.E10.m2.1.1.1.1.1.1.3">𝑖</ci></apply></apply><csymbol cd="latexml" id="S3.E10.m2.1.1.3.cmml" xref="S3.E10.m2.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m2.1c">\displaystyle\widehat{\nabla}_{\theta_{i}}\mathcal{J}_{Q}(\theta_{i}):=</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
<tbody id="S3.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex2.m1.1" class="ltx_math_unparsed" alttext="\displaystyle\quad\quad\nabla_{\theta_{i}}Q_{\theta_{i}}(s_{t}^{i},a_{t}^{i})\bigl{(}Q_{\theta_{i}}(s_{t}^{i},a_{t}^{i})-r_{t}(s_{t}^{i},a_{t}^{i})-\gamma V_{\bar{\theta}_{i}}(s_{t+1}^{i})\bigl{)}." display="inline"><semantics id="S3.Ex2.m1.1a"><mrow id="S3.Ex2.m1.1b"><msub id="S3.Ex2.m1.1.1"><mo id="S3.Ex2.m1.1.1.2">∇</mo><msub id="S3.Ex2.m1.1.1.3"><mi id="S3.Ex2.m1.1.1.3.2">θ</mi><mi id="S3.Ex2.m1.1.1.3.3">i</mi></msub></msub><msub id="S3.Ex2.m1.1.2"><mi id="S3.Ex2.m1.1.2.2">Q</mi><msub id="S3.Ex2.m1.1.2.3"><mi id="S3.Ex2.m1.1.2.3.2">θ</mi><mi id="S3.Ex2.m1.1.2.3.3">i</mi></msub></msub><mrow id="S3.Ex2.m1.1.3"><mo stretchy="false" id="S3.Ex2.m1.1.3.1">(</mo><msubsup id="S3.Ex2.m1.1.3.2"><mi id="S3.Ex2.m1.1.3.2.2.2">s</mi><mi id="S3.Ex2.m1.1.3.2.2.3">t</mi><mi id="S3.Ex2.m1.1.3.2.3">i</mi></msubsup><mo id="S3.Ex2.m1.1.3.3">,</mo><msubsup id="S3.Ex2.m1.1.3.4"><mi id="S3.Ex2.m1.1.3.4.2.2">a</mi><mi id="S3.Ex2.m1.1.3.4.2.3">t</mi><mi id="S3.Ex2.m1.1.3.4.3">i</mi></msubsup><mo stretchy="false" id="S3.Ex2.m1.1.3.5">)</mo></mrow><mrow id="S3.Ex2.m1.1.4"><mo maxsize="120%" minsize="120%" id="S3.Ex2.m1.1.4.1">(</mo><msub id="S3.Ex2.m1.1.4.2"><mi id="S3.Ex2.m1.1.4.2.2">Q</mi><msub id="S3.Ex2.m1.1.4.2.3"><mi id="S3.Ex2.m1.1.4.2.3.2">θ</mi><mi id="S3.Ex2.m1.1.4.2.3.3">i</mi></msub></msub><mrow id="S3.Ex2.m1.1.4.3"><mo stretchy="false" id="S3.Ex2.m1.1.4.3.1">(</mo><msubsup id="S3.Ex2.m1.1.4.3.2"><mi id="S3.Ex2.m1.1.4.3.2.2.2">s</mi><mi id="S3.Ex2.m1.1.4.3.2.2.3">t</mi><mi id="S3.Ex2.m1.1.4.3.2.3">i</mi></msubsup><mo id="S3.Ex2.m1.1.4.3.3">,</mo><msubsup id="S3.Ex2.m1.1.4.3.4"><mi id="S3.Ex2.m1.1.4.3.4.2.2">a</mi><mi id="S3.Ex2.m1.1.4.3.4.2.3">t</mi><mi id="S3.Ex2.m1.1.4.3.4.3">i</mi></msubsup><mo stretchy="false" id="S3.Ex2.m1.1.4.3.5">)</mo></mrow><mo id="S3.Ex2.m1.1.4.4">−</mo><msub id="S3.Ex2.m1.1.4.5"><mi id="S3.Ex2.m1.1.4.5.2">r</mi><mi id="S3.Ex2.m1.1.4.5.3">t</mi></msub><mrow id="S3.Ex2.m1.1.4.6"><mo stretchy="false" id="S3.Ex2.m1.1.4.6.1">(</mo><msubsup id="S3.Ex2.m1.1.4.6.2"><mi id="S3.Ex2.m1.1.4.6.2.2.2">s</mi><mi id="S3.Ex2.m1.1.4.6.2.2.3">t</mi><mi id="S3.Ex2.m1.1.4.6.2.3">i</mi></msubsup><mo id="S3.Ex2.m1.1.4.6.3">,</mo><msubsup id="S3.Ex2.m1.1.4.6.4"><mi id="S3.Ex2.m1.1.4.6.4.2.2">a</mi><mi id="S3.Ex2.m1.1.4.6.4.2.3">t</mi><mi id="S3.Ex2.m1.1.4.6.4.3">i</mi></msubsup><mo stretchy="false" id="S3.Ex2.m1.1.4.6.5">)</mo></mrow><mo id="S3.Ex2.m1.1.4.7">−</mo><mi id="S3.Ex2.m1.1.4.8">γ</mi><msub id="S3.Ex2.m1.1.4.9"><mi id="S3.Ex2.m1.1.4.9.2">V</mi><msub id="S3.Ex2.m1.1.4.9.3"><mover accent="true" id="S3.Ex2.m1.1.4.9.3.2"><mi id="S3.Ex2.m1.1.4.9.3.2.2">θ</mi><mo id="S3.Ex2.m1.1.4.9.3.2.1">¯</mo></mover><mi id="S3.Ex2.m1.1.4.9.3.3">i</mi></msub></msub><mrow id="S3.Ex2.m1.1.4.10"><mo stretchy="false" id="S3.Ex2.m1.1.4.10.1">(</mo><msubsup id="S3.Ex2.m1.1.4.10.2"><mi id="S3.Ex2.m1.1.4.10.2.2.2">s</mi><mrow id="S3.Ex2.m1.1.4.10.2.2.3"><mi id="S3.Ex2.m1.1.4.10.2.2.3.2">t</mi><mo id="S3.Ex2.m1.1.4.10.2.2.3.1">+</mo><mn id="S3.Ex2.m1.1.4.10.2.2.3.3">1</mn></mrow><mi id="S3.Ex2.m1.1.4.10.2.3">i</mi></msubsup><mo stretchy="false" id="S3.Ex2.m1.1.4.10.3">)</mo></mrow><mrow id="S3.Ex2.m1.1.4.11"><mo lspace="0em" mathsize="120%" rspace="0em" id="S3.Ex2.m1.1.4.11.1">)</mo><mo lspace="0em" id="S3.Ex2.m1.1.4.11.2">.</mo></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S3.Ex2.m1.1c">\displaystyle\quad\quad\nabla_{\theta_{i}}Q_{\theta_{i}}(s_{t}^{i},a_{t}^{i})\bigl{(}Q_{\theta_{i}}(s_{t}^{i},a_{t}^{i})-r_{t}(s_{t}^{i},a_{t}^{i})-\gamma V_{\bar{\theta}_{i}}(s_{t+1}^{i})\bigl{)}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
<section id="S3.SS0.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S3.SS0.SSS2.4.1.1" class="ltx_text">III-</span>2 </span>Policy Improvement</h4>

<div id="S3.SS0.SSS2.p1" class="ltx_para">
<p id="S3.SS0.SSS2.p1.2" class="ltx_p">We also use <math id="S3.SS0.SSS2.p1.1.m1.1" class="ltx_Math" alttext="\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})" display="inline"><semantics id="S3.SS0.SSS2.p1.1.m1.1a"><mrow id="S3.SS0.SSS2.p1.1.m1.1.1" xref="S3.SS0.SSS2.p1.1.m1.1.1.cmml"><msub id="S3.SS0.SSS2.p1.1.m1.1.1.3" xref="S3.SS0.SSS2.p1.1.m1.1.1.3.cmml"><mi id="S3.SS0.SSS2.p1.1.m1.1.1.3.2" xref="S3.SS0.SSS2.p1.1.m1.1.1.3.2.cmml">π</mi><msub id="S3.SS0.SSS2.p1.1.m1.1.1.3.3" xref="S3.SS0.SSS2.p1.1.m1.1.1.3.3.cmml"><mi id="S3.SS0.SSS2.p1.1.m1.1.1.3.3.2" xref="S3.SS0.SSS2.p1.1.m1.1.1.3.3.2.cmml">ϕ</mi><mi id="S3.SS0.SSS2.p1.1.m1.1.1.3.3.3" xref="S3.SS0.SSS2.p1.1.m1.1.1.3.3.3.cmml">i</mi></msub></msub><mo lspace="0em" rspace="0em" id="S3.SS0.SSS2.p1.1.m1.1.1.2" xref="S3.SS0.SSS2.p1.1.m1.1.1.2.cmml">​</mo><mrow id="S3.SS0.SSS2.p1.1.m1.1.1.1.1" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.2" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.cmml"><msubsup id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.cmml"><mi id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.2.2" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.2.2.cmml">a</mi><mi id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.2.3" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.3" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.3.cmml">i</mi></msubsup><mo fence="false" id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.1" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.1.cmml">|</mo><msubsup id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.cmml"><mi id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.2.2" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.2.2.cmml">s</mi><mi id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.2.3" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.3" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.3.cmml">i</mi></msubsup></mrow><mo stretchy="false" id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.3" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.1.m1.1b"><apply id="S3.SS0.SSS2.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1"><times id="S3.SS0.SSS2.p1.1.m1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.2"></times><apply id="S3.SS0.SSS2.p1.1.m1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.1.m1.1.1.3.1.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.1.m1.1.1.3.2.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.3.2">𝜋</ci><apply id="S3.SS0.SSS2.p1.1.m1.1.1.3.3.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.1.m1.1.1.3.3.1.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.3.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.1.m1.1.1.3.3.2.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.3.3.2">italic-ϕ</ci><ci id="S3.SS0.SSS2.p1.1.m1.1.1.3.3.3.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.3.3.3">𝑖</ci></apply></apply><apply id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1"><csymbol cd="latexml" id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2">superscript</csymbol><apply id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.2.2">𝑎</ci><ci id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.2.3.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.3.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.1.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3">superscript</csymbol><apply id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.2.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.2.1.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.2.2.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.2.2">𝑠</ci><ci id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.2.3.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.3.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.1.m1.1c">\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})</annotation></semantics></math> as the approximation of the policy function <math id="S3.SS0.SSS2.p1.2.m2.1" class="ltx_Math" alttext="\pi_{i}(a_{t}^{i}|s_{t}^{i})" display="inline"><semantics id="S3.SS0.SSS2.p1.2.m2.1a"><mrow id="S3.SS0.SSS2.p1.2.m2.1.1" xref="S3.SS0.SSS2.p1.2.m2.1.1.cmml"><msub id="S3.SS0.SSS2.p1.2.m2.1.1.3" xref="S3.SS0.SSS2.p1.2.m2.1.1.3.cmml"><mi id="S3.SS0.SSS2.p1.2.m2.1.1.3.2" xref="S3.SS0.SSS2.p1.2.m2.1.1.3.2.cmml">π</mi><mi id="S3.SS0.SSS2.p1.2.m2.1.1.3.3" xref="S3.SS0.SSS2.p1.2.m2.1.1.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS0.SSS2.p1.2.m2.1.1.2" xref="S3.SS0.SSS2.p1.2.m2.1.1.2.cmml">​</mo><mrow id="S3.SS0.SSS2.p1.2.m2.1.1.1.1" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.2" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.cmml"><msubsup id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.cmml"><mi id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.2.2" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.2.2.cmml">a</mi><mi id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.2.3" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.3" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.3.cmml">i</mi></msubsup><mo fence="false" id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.1" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.1.cmml">|</mo><msubsup id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.cmml"><mi id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.2.2" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.2.2.cmml">s</mi><mi id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.2.3" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.3" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.3.cmml">i</mi></msubsup></mrow><mo stretchy="false" id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.3" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.2.m2.1b"><apply id="S3.SS0.SSS2.p1.2.m2.1.1.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1"><times id="S3.SS0.SSS2.p1.2.m2.1.1.2.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.2"></times><apply id="S3.SS0.SSS2.p1.2.m2.1.1.3.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.2.m2.1.1.3.1.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.2.m2.1.1.3.2.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.3.2">𝜋</ci><ci id="S3.SS0.SSS2.p1.2.m2.1.1.3.3.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.3.3">𝑖</ci></apply><apply id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1"><csymbol cd="latexml" id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2">superscript</csymbol><apply id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.2.1.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.2.2.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.2.2">𝑎</ci><ci id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.2.3.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.3.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.1.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3">superscript</csymbol><apply id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.2.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.2.1.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.2.2.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.2.2">𝑠</ci><ci id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.2.3.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.3.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.2.m2.1c">\pi_{i}(a_{t}^{i}|s_{t}^{i})</annotation></semantics></math>. Then the optimal policy can be improved by minimizing the expected Kullback-Leibler (KL) divergence, that is</p>
<table id="S3.Ex3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex3.m1.1" class="ltx_math_unparsed" alttext="\mathcal{J}_{\pi}(\phi_{i})=\mathbb{E}_{s_{t}^{i}\sim\mathcal{D}_{i}}\biggr{[}\mathbb{E}_{a_{t}^{i}\sim\pi_{\phi_{i}}}\Bigr{[}\alpha_{i}\log\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})-Q_{\theta_{i}}(s_{t}^{i},a_{t}^{i})\Bigr{]}\biggr{]}." display="block"><semantics id="S3.Ex3.m1.1a"><mrow id="S3.Ex3.m1.1b"><mrow id="S3.Ex3.m1.1.1"><mrow id="S3.Ex3.m1.1.1.1"><mrow id="S3.Ex3.m1.1.1.1.1"><msub id="S3.Ex3.m1.1.1.1.1.1"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m1.1.1.1.1.1.2">𝒥</mi><mi id="S3.Ex3.m1.1.1.1.1.1.3">π</mi></msub><mrow id="S3.Ex3.m1.1.1.1.1.2"><mo stretchy="false" id="S3.Ex3.m1.1.1.1.1.2.1">(</mo><msub id="S3.Ex3.m1.1.1.1.1.2.2"><mi id="S3.Ex3.m1.1.1.1.1.2.2.2">ϕ</mi><mi id="S3.Ex3.m1.1.1.1.1.2.2.3">i</mi></msub><mo stretchy="false" id="S3.Ex3.m1.1.1.1.1.2.3">)</mo></mrow><mo id="S3.Ex3.m1.1.1.1.1.3">=</mo><msub id="S3.Ex3.m1.1.1.1.1.4"><mi id="S3.Ex3.m1.1.1.1.1.4.2">𝔼</mi><mrow id="S3.Ex3.m1.1.1.1.1.4.3"><msubsup id="S3.Ex3.m1.1.1.1.1.4.3.2"><mi id="S3.Ex3.m1.1.1.1.1.4.3.2.2.2">s</mi><mi id="S3.Ex3.m1.1.1.1.1.4.3.2.2.3">t</mi><mi id="S3.Ex3.m1.1.1.1.1.4.3.2.3">i</mi></msubsup><mo id="S3.Ex3.m1.1.1.1.1.4.3.1">∼</mo><msub id="S3.Ex3.m1.1.1.1.1.4.3.3"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m1.1.1.1.1.4.3.3.2">𝒟</mi><mi id="S3.Ex3.m1.1.1.1.1.4.3.3.3">i</mi></msub></mrow></msub><mo lspace="0em" mathsize="210%" rspace="0em" id="S3.Ex3.m1.1.1.1.1.5">[</mo></mrow><msub id="S3.Ex3.m1.1.1.1.2"><mi id="S3.Ex3.m1.1.1.1.2.2">𝔼</mi><mrow id="S3.Ex3.m1.1.1.1.2.3"><msubsup id="S3.Ex3.m1.1.1.1.2.3.2"><mi id="S3.Ex3.m1.1.1.1.2.3.2.2.2">a</mi><mi id="S3.Ex3.m1.1.1.1.2.3.2.2.3">t</mi><mi id="S3.Ex3.m1.1.1.1.2.3.2.3">i</mi></msubsup><mo id="S3.Ex3.m1.1.1.1.2.3.1">∼</mo><msub id="S3.Ex3.m1.1.1.1.2.3.3"><mi id="S3.Ex3.m1.1.1.1.2.3.3.2">π</mi><msub id="S3.Ex3.m1.1.1.1.2.3.3.3"><mi id="S3.Ex3.m1.1.1.1.2.3.3.3.2">ϕ</mi><mi id="S3.Ex3.m1.1.1.1.2.3.3.3.3">i</mi></msub></msub></mrow></msub><mo lspace="0em" mathsize="160%" rspace="0em" id="S3.Ex3.m1.1.1.1.3">[</mo></mrow><msub id="S3.Ex3.m1.1.1.2"><mi id="S3.Ex3.m1.1.1.2.2">α</mi><mi id="S3.Ex3.m1.1.1.2.3">i</mi></msub><mi id="S3.Ex3.m1.1.1.3">log</mi><msub id="S3.Ex3.m1.1.1.4"><mi id="S3.Ex3.m1.1.1.4.2">π</mi><msub id="S3.Ex3.m1.1.1.4.3"><mi id="S3.Ex3.m1.1.1.4.3.2">ϕ</mi><mi id="S3.Ex3.m1.1.1.4.3.3">i</mi></msub></msub><mrow id="S3.Ex3.m1.1.1.5"><mo stretchy="false" id="S3.Ex3.m1.1.1.5.1">(</mo><msubsup id="S3.Ex3.m1.1.1.5.2"><mi id="S3.Ex3.m1.1.1.5.2.2.2">a</mi><mi id="S3.Ex3.m1.1.1.5.2.2.3">t</mi><mi id="S3.Ex3.m1.1.1.5.2.3">i</mi></msubsup><mo fence="false" rspace="0.167em" stretchy="false" id="S3.Ex3.m1.1.1.5.3">|</mo><msubsup id="S3.Ex3.m1.1.1.5.4"><mi id="S3.Ex3.m1.1.1.5.4.2.2">s</mi><mi id="S3.Ex3.m1.1.1.5.4.2.3">t</mi><mi id="S3.Ex3.m1.1.1.5.4.3">i</mi></msubsup><mo stretchy="false" id="S3.Ex3.m1.1.1.5.5">)</mo></mrow><mo id="S3.Ex3.m1.1.1.6">−</mo><msub id="S3.Ex3.m1.1.1.7"><mi id="S3.Ex3.m1.1.1.7.2">Q</mi><msub id="S3.Ex3.m1.1.1.7.3"><mi id="S3.Ex3.m1.1.1.7.3.2">θ</mi><mi id="S3.Ex3.m1.1.1.7.3.3">i</mi></msub></msub><mrow id="S3.Ex3.m1.1.1.8"><mo stretchy="false" id="S3.Ex3.m1.1.1.8.1">(</mo><msubsup id="S3.Ex3.m1.1.1.8.2"><mi id="S3.Ex3.m1.1.1.8.2.2.2">s</mi><mi id="S3.Ex3.m1.1.1.8.2.2.3">t</mi><mi id="S3.Ex3.m1.1.1.8.2.3">i</mi></msubsup><mo id="S3.Ex3.m1.1.1.8.3">,</mo><msubsup id="S3.Ex3.m1.1.1.8.4"><mi id="S3.Ex3.m1.1.1.8.4.2.2">a</mi><mi id="S3.Ex3.m1.1.1.8.4.2.3">t</mi><mi id="S3.Ex3.m1.1.1.8.4.3">i</mi></msubsup><mo stretchy="false" id="S3.Ex3.m1.1.1.8.5">)</mo></mrow><mo maxsize="160%" minsize="160%" id="S3.Ex3.m1.1.1.9">]</mo></mrow><mo maxsize="210%" minsize="210%" id="S3.Ex3.m1.1.2">]</mo><mo lspace="0em" id="S3.Ex3.m1.1.3">.</mo></mrow><annotation encoding="application/x-tex" id="S3.Ex3.m1.1c">\mathcal{J}_{\pi}(\phi_{i})=\mathbb{E}_{s_{t}^{i}\sim\mathcal{D}_{i}}\biggr{[}\mathbb{E}_{a_{t}^{i}\sim\pi_{\phi_{i}}}\Bigr{[}\alpha_{i}\log\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})-Q_{\theta_{i}}(s_{t}^{i},a_{t}^{i})\Bigr{]}\biggr{]}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS0.SSS2.p1.3" class="ltx_p">Here, the temperature parameter <math id="S3.SS0.SSS2.p1.3.m1.1" class="ltx_Math" alttext="\alpha_{i}" display="inline"><semantics id="S3.SS0.SSS2.p1.3.m1.1a"><msub id="S3.SS0.SSS2.p1.3.m1.1.1" xref="S3.SS0.SSS2.p1.3.m1.1.1.cmml"><mi id="S3.SS0.SSS2.p1.3.m1.1.1.2" xref="S3.SS0.SSS2.p1.3.m1.1.1.2.cmml">α</mi><mi id="S3.SS0.SSS2.p1.3.m1.1.1.3" xref="S3.SS0.SSS2.p1.3.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.3.m1.1b"><apply id="S3.SS0.SSS2.p1.3.m1.1.1.cmml" xref="S3.SS0.SSS2.p1.3.m1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.3.m1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.3.m1.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.3.m1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.3.m1.1.1.2">𝛼</ci><ci id="S3.SS0.SSS2.p1.3.m1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.3.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.3.m1.1c">\alpha_{i}</annotation></semantics></math> can be adjusted by an automating entropy method, that is minimizing</p>
<table id="S3.E11" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E11.m1.2" class="ltx_Math" alttext="\Phi(\alpha_{i}):=\mathbb{E}_{a_{t}^{i}\sim\pi_{\phi_{i}}}\left[-\alpha_{i}\log\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})-\alpha_{i}\widehat{\mathcal{H}}_{i}(\pi_{\phi_{i}})\right]" display="block"><semantics id="S3.E11.m1.2a"><mrow id="S3.E11.m1.2.2" xref="S3.E11.m1.2.2.cmml"><mrow id="S3.E11.m1.1.1.1" xref="S3.E11.m1.1.1.1.cmml"><mi mathvariant="normal" id="S3.E11.m1.1.1.1.3" xref="S3.E11.m1.1.1.1.3.cmml">Φ</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.1.1.1.2" xref="S3.E11.m1.1.1.1.2.cmml">​</mo><mrow id="S3.E11.m1.1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E11.m1.1.1.1.1.1.2" xref="S3.E11.m1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E11.m1.1.1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.1.1.cmml"><mi id="S3.E11.m1.1.1.1.1.1.1.2" xref="S3.E11.m1.1.1.1.1.1.1.2.cmml">α</mi><mi id="S3.E11.m1.1.1.1.1.1.1.3" xref="S3.E11.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo rspace="0.278em" stretchy="false" id="S3.E11.m1.1.1.1.1.1.3" xref="S3.E11.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S3.E11.m1.2.2.3" xref="S3.E11.m1.2.2.3.cmml">:=</mo><mrow id="S3.E11.m1.2.2.2" xref="S3.E11.m1.2.2.2.cmml"><msub id="S3.E11.m1.2.2.2.3" xref="S3.E11.m1.2.2.2.3.cmml"><mi id="S3.E11.m1.2.2.2.3.2" xref="S3.E11.m1.2.2.2.3.2.cmml">𝔼</mi><mrow id="S3.E11.m1.2.2.2.3.3" xref="S3.E11.m1.2.2.2.3.3.cmml"><msubsup id="S3.E11.m1.2.2.2.3.3.2" xref="S3.E11.m1.2.2.2.3.3.2.cmml"><mi id="S3.E11.m1.2.2.2.3.3.2.2.2" xref="S3.E11.m1.2.2.2.3.3.2.2.2.cmml">a</mi><mi id="S3.E11.m1.2.2.2.3.3.2.2.3" xref="S3.E11.m1.2.2.2.3.3.2.2.3.cmml">t</mi><mi id="S3.E11.m1.2.2.2.3.3.2.3" xref="S3.E11.m1.2.2.2.3.3.2.3.cmml">i</mi></msubsup><mo id="S3.E11.m1.2.2.2.3.3.1" xref="S3.E11.m1.2.2.2.3.3.1.cmml">∼</mo><msub id="S3.E11.m1.2.2.2.3.3.3" xref="S3.E11.m1.2.2.2.3.3.3.cmml"><mi id="S3.E11.m1.2.2.2.3.3.3.2" xref="S3.E11.m1.2.2.2.3.3.3.2.cmml">π</mi><msub id="S3.E11.m1.2.2.2.3.3.3.3" xref="S3.E11.m1.2.2.2.3.3.3.3.cmml"><mi id="S3.E11.m1.2.2.2.3.3.3.3.2" xref="S3.E11.m1.2.2.2.3.3.3.3.2.cmml">ϕ</mi><mi id="S3.E11.m1.2.2.2.3.3.3.3.3" xref="S3.E11.m1.2.2.2.3.3.3.3.3.cmml">i</mi></msub></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E11.m1.2.2.2.2" xref="S3.E11.m1.2.2.2.2.cmml">​</mo><mrow id="S3.E11.m1.2.2.2.1.1" xref="S3.E11.m1.2.2.2.1.2.cmml"><mo id="S3.E11.m1.2.2.2.1.1.2" xref="S3.E11.m1.2.2.2.1.2.1.cmml">[</mo><mrow id="S3.E11.m1.2.2.2.1.1.1" xref="S3.E11.m1.2.2.2.1.1.1.cmml"><mrow id="S3.E11.m1.2.2.2.1.1.1.1" xref="S3.E11.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E11.m1.2.2.2.1.1.1.1a" xref="S3.E11.m1.2.2.2.1.1.1.1.cmml">−</mo><mrow id="S3.E11.m1.2.2.2.1.1.1.1.1" xref="S3.E11.m1.2.2.2.1.1.1.1.1.cmml"><msub id="S3.E11.m1.2.2.2.1.1.1.1.1.3" xref="S3.E11.m1.2.2.2.1.1.1.1.1.3.cmml"><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.3.2" xref="S3.E11.m1.2.2.2.1.1.1.1.1.3.2.cmml">α</mi><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.3.3" xref="S3.E11.m1.2.2.2.1.1.1.1.1.3.3.cmml">i</mi></msub><mo lspace="0.167em" rspace="0em" id="S3.E11.m1.2.2.2.1.1.1.1.1.2" xref="S3.E11.m1.2.2.2.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E11.m1.2.2.2.1.1.1.1.1.4" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.cmml"><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.4.1" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.1.cmml">log</mi><mo lspace="0.167em" id="S3.E11.m1.2.2.2.1.1.1.1.1.4a" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.cmml">⁡</mo><msub id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.cmml"><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.2" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.2.cmml">π</mi><msub id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3.cmml"><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3.2" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3.2.cmml">ϕ</mi><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3.3" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3.3.cmml">i</mi></msub></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E11.m1.2.2.2.1.1.1.1.1.2a" xref="S3.E11.m1.2.2.2.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.2" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.cmml"><msubsup id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.2.2.cmml">a</mi><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.2.3.cmml">t</mi><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.3" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.3.cmml">i</mi></msubsup><mo fence="false" id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml">|</mo><msubsup id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.2.2.cmml">s</mi><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.2.3" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.2.3.cmml">t</mi><mi id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.3" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></msubsup></mrow><mo stretchy="false" id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.3" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E11.m1.2.2.2.1.1.1.3" xref="S3.E11.m1.2.2.2.1.1.1.3.cmml">−</mo><mrow id="S3.E11.m1.2.2.2.1.1.1.2" xref="S3.E11.m1.2.2.2.1.1.1.2.cmml"><msub id="S3.E11.m1.2.2.2.1.1.1.2.3" xref="S3.E11.m1.2.2.2.1.1.1.2.3.cmml"><mi id="S3.E11.m1.2.2.2.1.1.1.2.3.2" xref="S3.E11.m1.2.2.2.1.1.1.2.3.2.cmml">α</mi><mi id="S3.E11.m1.2.2.2.1.1.1.2.3.3" xref="S3.E11.m1.2.2.2.1.1.1.2.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E11.m1.2.2.2.1.1.1.2.2" xref="S3.E11.m1.2.2.2.1.1.1.2.2.cmml">​</mo><msub id="S3.E11.m1.2.2.2.1.1.1.2.4" xref="S3.E11.m1.2.2.2.1.1.1.2.4.cmml"><mover accent="true" id="S3.E11.m1.2.2.2.1.1.1.2.4.2" xref="S3.E11.m1.2.2.2.1.1.1.2.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.2.2.2.1.1.1.2.4.2.2" xref="S3.E11.m1.2.2.2.1.1.1.2.4.2.2.cmml">ℋ</mi><mo id="S3.E11.m1.2.2.2.1.1.1.2.4.2.1" xref="S3.E11.m1.2.2.2.1.1.1.2.4.2.1.cmml">^</mo></mover><mi id="S3.E11.m1.2.2.2.1.1.1.2.4.3" xref="S3.E11.m1.2.2.2.1.1.1.2.4.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E11.m1.2.2.2.1.1.1.2.2a" xref="S3.E11.m1.2.2.2.1.1.1.2.2.cmml">​</mo><mrow id="S3.E11.m1.2.2.2.1.1.1.2.1.1" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.cmml"><mo stretchy="false" id="S3.E11.m1.2.2.2.1.1.1.2.1.1.2" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.cmml">(</mo><msub id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.cmml"><mi id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.2" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.2.cmml">π</mi><msub id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3.cmml"><mi id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3.2" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3.2.cmml">ϕ</mi><mi id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3.3" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3.3.cmml">i</mi></msub></msub><mo stretchy="false" id="S3.E11.m1.2.2.2.1.1.1.2.1.1.3" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E11.m1.2.2.2.1.1.3" xref="S3.E11.m1.2.2.2.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E11.m1.2b"><apply id="S3.E11.m1.2.2.cmml" xref="S3.E11.m1.2.2"><csymbol cd="latexml" id="S3.E11.m1.2.2.3.cmml" xref="S3.E11.m1.2.2.3">assign</csymbol><apply id="S3.E11.m1.1.1.1.cmml" xref="S3.E11.m1.1.1.1"><times id="S3.E11.m1.1.1.1.2.cmml" xref="S3.E11.m1.1.1.1.2"></times><ci id="S3.E11.m1.1.1.1.3.cmml" xref="S3.E11.m1.1.1.1.3">Φ</ci><apply id="S3.E11.m1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E11.m1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m1.1.1.1.1.1.1.2">𝛼</ci><ci id="S3.E11.m1.1.1.1.1.1.1.3.cmml" xref="S3.E11.m1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.E11.m1.2.2.2.cmml" xref="S3.E11.m1.2.2.2"><times id="S3.E11.m1.2.2.2.2.cmml" xref="S3.E11.m1.2.2.2.2"></times><apply id="S3.E11.m1.2.2.2.3.cmml" xref="S3.E11.m1.2.2.2.3"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.3.1.cmml" xref="S3.E11.m1.2.2.2.3">subscript</csymbol><ci id="S3.E11.m1.2.2.2.3.2.cmml" xref="S3.E11.m1.2.2.2.3.2">𝔼</ci><apply id="S3.E11.m1.2.2.2.3.3.cmml" xref="S3.E11.m1.2.2.2.3.3"><csymbol cd="latexml" id="S3.E11.m1.2.2.2.3.3.1.cmml" xref="S3.E11.m1.2.2.2.3.3.1">similar-to</csymbol><apply id="S3.E11.m1.2.2.2.3.3.2.cmml" xref="S3.E11.m1.2.2.2.3.3.2"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.3.3.2.1.cmml" xref="S3.E11.m1.2.2.2.3.3.2">superscript</csymbol><apply id="S3.E11.m1.2.2.2.3.3.2.2.cmml" xref="S3.E11.m1.2.2.2.3.3.2"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.3.3.2.2.1.cmml" xref="S3.E11.m1.2.2.2.3.3.2">subscript</csymbol><ci id="S3.E11.m1.2.2.2.3.3.2.2.2.cmml" xref="S3.E11.m1.2.2.2.3.3.2.2.2">𝑎</ci><ci id="S3.E11.m1.2.2.2.3.3.2.2.3.cmml" xref="S3.E11.m1.2.2.2.3.3.2.2.3">𝑡</ci></apply><ci id="S3.E11.m1.2.2.2.3.3.2.3.cmml" xref="S3.E11.m1.2.2.2.3.3.2.3">𝑖</ci></apply><apply id="S3.E11.m1.2.2.2.3.3.3.cmml" xref="S3.E11.m1.2.2.2.3.3.3"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.3.3.3.1.cmml" xref="S3.E11.m1.2.2.2.3.3.3">subscript</csymbol><ci id="S3.E11.m1.2.2.2.3.3.3.2.cmml" xref="S3.E11.m1.2.2.2.3.3.3.2">𝜋</ci><apply id="S3.E11.m1.2.2.2.3.3.3.3.cmml" xref="S3.E11.m1.2.2.2.3.3.3.3"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.3.3.3.3.1.cmml" xref="S3.E11.m1.2.2.2.3.3.3.3">subscript</csymbol><ci id="S3.E11.m1.2.2.2.3.3.3.3.2.cmml" xref="S3.E11.m1.2.2.2.3.3.3.3.2">italic-ϕ</ci><ci id="S3.E11.m1.2.2.2.3.3.3.3.3.cmml" xref="S3.E11.m1.2.2.2.3.3.3.3.3">𝑖</ci></apply></apply></apply></apply><apply id="S3.E11.m1.2.2.2.1.2.cmml" xref="S3.E11.m1.2.2.2.1.1"><csymbol cd="latexml" id="S3.E11.m1.2.2.2.1.2.1.cmml" xref="S3.E11.m1.2.2.2.1.1.2">delimited-[]</csymbol><apply id="S3.E11.m1.2.2.2.1.1.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1"><minus id="S3.E11.m1.2.2.2.1.1.1.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.3"></minus><apply id="S3.E11.m1.2.2.2.1.1.1.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1"><minus id="S3.E11.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1"></minus><apply id="S3.E11.m1.2.2.2.1.1.1.1.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1"><times id="S3.E11.m1.2.2.2.1.1.1.1.1.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.2"></times><apply id="S3.E11.m1.2.2.2.1.1.1.1.1.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.1.1.1.1.1.3.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E11.m1.2.2.2.1.1.1.1.1.3.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.3.2">𝛼</ci><ci id="S3.E11.m1.2.2.2.1.1.1.1.1.3.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.3.3">𝑖</ci></apply><apply id="S3.E11.m1.2.2.2.1.1.1.1.1.4.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4"><log id="S3.E11.m1.2.2.2.1.1.1.1.1.4.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.1"></log><apply id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2">subscript</csymbol><ci id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.2">𝜋</ci><apply id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3">subscript</csymbol><ci id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3.2">italic-ϕ</ci><ci id="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.4.2.3.3">𝑖</ci></apply></apply></apply><apply id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.2.2">𝑎</ci><ci id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.2.3">𝑡</ci></apply><ci id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.2.2">𝑠</ci><ci id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.2.3">𝑡</ci></apply><ci id="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></apply><apply id="S3.E11.m1.2.2.2.1.1.1.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2"><times id="S3.E11.m1.2.2.2.1.1.1.2.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.2"></times><apply id="S3.E11.m1.2.2.2.1.1.1.2.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.1.1.1.2.3.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.3">subscript</csymbol><ci id="S3.E11.m1.2.2.2.1.1.1.2.3.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.3.2">𝛼</ci><ci id="S3.E11.m1.2.2.2.1.1.1.2.3.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.3.3">𝑖</ci></apply><apply id="S3.E11.m1.2.2.2.1.1.1.2.4.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.1.1.1.2.4.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.4">subscript</csymbol><apply id="S3.E11.m1.2.2.2.1.1.1.2.4.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.4.2"><ci id="S3.E11.m1.2.2.2.1.1.1.2.4.2.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.4.2.1">^</ci><ci id="S3.E11.m1.2.2.2.1.1.1.2.4.2.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.4.2.2">ℋ</ci></apply><ci id="S3.E11.m1.2.2.2.1.1.1.2.4.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.4.3">𝑖</ci></apply><apply id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1">subscript</csymbol><ci id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.2">𝜋</ci><apply id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3.1.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3">subscript</csymbol><ci id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3.2.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3.2">italic-ϕ</ci><ci id="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3.3.cmml" xref="S3.E11.m1.2.2.2.1.1.1.2.1.1.1.3.3">𝑖</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11.m1.2c">\Phi(\alpha_{i}):=\mathbb{E}_{a_{t}^{i}\sim\pi_{\phi_{i}}}\left[-\alpha_{i}\log\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})-\alpha_{i}\widehat{\mathcal{H}}_{i}(\pi_{\phi_{i}})\right]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
<p id="S3.SS0.SSS2.p1.8" class="ltx_p">over <math id="S3.SS0.SSS2.p1.4.m1.1" class="ltx_Math" alttext="\alpha_{i}" display="inline"><semantics id="S3.SS0.SSS2.p1.4.m1.1a"><msub id="S3.SS0.SSS2.p1.4.m1.1.1" xref="S3.SS0.SSS2.p1.4.m1.1.1.cmml"><mi id="S3.SS0.SSS2.p1.4.m1.1.1.2" xref="S3.SS0.SSS2.p1.4.m1.1.1.2.cmml">α</mi><mi id="S3.SS0.SSS2.p1.4.m1.1.1.3" xref="S3.SS0.SSS2.p1.4.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.4.m1.1b"><apply id="S3.SS0.SSS2.p1.4.m1.1.1.cmml" xref="S3.SS0.SSS2.p1.4.m1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.4.m1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.4.m1.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.4.m1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.4.m1.1.1.2">𝛼</ci><ci id="S3.SS0.SSS2.p1.4.m1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.4.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.4.m1.1c">\alpha_{i}</annotation></semantics></math>, where <math id="S3.SS0.SSS2.p1.5.m2.1" class="ltx_Math" alttext="\widehat{\mathcal{H}}_{i}" display="inline"><semantics id="S3.SS0.SSS2.p1.5.m2.1a"><msub id="S3.SS0.SSS2.p1.5.m2.1.1" xref="S3.SS0.SSS2.p1.5.m2.1.1.cmml"><mover accent="true" id="S3.SS0.SSS2.p1.5.m2.1.1.2" xref="S3.SS0.SSS2.p1.5.m2.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS2.p1.5.m2.1.1.2.2" xref="S3.SS0.SSS2.p1.5.m2.1.1.2.2.cmml">ℋ</mi><mo id="S3.SS0.SSS2.p1.5.m2.1.1.2.1" xref="S3.SS0.SSS2.p1.5.m2.1.1.2.1.cmml">^</mo></mover><mi id="S3.SS0.SSS2.p1.5.m2.1.1.3" xref="S3.SS0.SSS2.p1.5.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.5.m2.1b"><apply id="S3.SS0.SSS2.p1.5.m2.1.1.cmml" xref="S3.SS0.SSS2.p1.5.m2.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.5.m2.1.1.1.cmml" xref="S3.SS0.SSS2.p1.5.m2.1.1">subscript</csymbol><apply id="S3.SS0.SSS2.p1.5.m2.1.1.2.cmml" xref="S3.SS0.SSS2.p1.5.m2.1.1.2"><ci id="S3.SS0.SSS2.p1.5.m2.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.5.m2.1.1.2.1">^</ci><ci id="S3.SS0.SSS2.p1.5.m2.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.5.m2.1.1.2.2">ℋ</ci></apply><ci id="S3.SS0.SSS2.p1.5.m2.1.1.3.cmml" xref="S3.SS0.SSS2.p1.5.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.5.m2.1c">\widehat{\mathcal{H}}_{i}</annotation></semantics></math> is the desired minimum expected target entropy.
As a result of the charging/discharging rate <math id="S3.SS0.SSS2.p1.6.m3.1" class="ltx_Math" alttext="a_{t}^{i}" display="inline"><semantics id="S3.SS0.SSS2.p1.6.m3.1a"><msubsup id="S3.SS0.SSS2.p1.6.m3.1.1" xref="S3.SS0.SSS2.p1.6.m3.1.1.cmml"><mi id="S3.SS0.SSS2.p1.6.m3.1.1.2.2" xref="S3.SS0.SSS2.p1.6.m3.1.1.2.2.cmml">a</mi><mi id="S3.SS0.SSS2.p1.6.m3.1.1.2.3" xref="S3.SS0.SSS2.p1.6.m3.1.1.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.6.m3.1.1.3" xref="S3.SS0.SSS2.p1.6.m3.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.6.m3.1b"><apply id="S3.SS0.SSS2.p1.6.m3.1.1.cmml" xref="S3.SS0.SSS2.p1.6.m3.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.6.m3.1.1.1.cmml" xref="S3.SS0.SSS2.p1.6.m3.1.1">superscript</csymbol><apply id="S3.SS0.SSS2.p1.6.m3.1.1.2.cmml" xref="S3.SS0.SSS2.p1.6.m3.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.6.m3.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.6.m3.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.6.m3.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.6.m3.1.1.2.2">𝑎</ci><ci id="S3.SS0.SSS2.p1.6.m3.1.1.2.3.cmml" xref="S3.SS0.SSS2.p1.6.m3.1.1.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.6.m3.1.1.3.cmml" xref="S3.SS0.SSS2.p1.6.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.6.m3.1c">a_{t}^{i}</annotation></semantics></math> and the current SoC <math id="S3.SS0.SSS2.p1.7.m4.1" class="ltx_Math" alttext="\mathrm{SoC}_{t}^{i}" display="inline"><semantics id="S3.SS0.SSS2.p1.7.m4.1a"><msubsup id="S3.SS0.SSS2.p1.7.m4.1.1" xref="S3.SS0.SSS2.p1.7.m4.1.1.cmml"><mi id="S3.SS0.SSS2.p1.7.m4.1.1.2.2" xref="S3.SS0.SSS2.p1.7.m4.1.1.2.2.cmml">SoC</mi><mi id="S3.SS0.SSS2.p1.7.m4.1.1.2.3" xref="S3.SS0.SSS2.p1.7.m4.1.1.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.7.m4.1.1.3" xref="S3.SS0.SSS2.p1.7.m4.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.7.m4.1b"><apply id="S3.SS0.SSS2.p1.7.m4.1.1.cmml" xref="S3.SS0.SSS2.p1.7.m4.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.7.m4.1.1.1.cmml" xref="S3.SS0.SSS2.p1.7.m4.1.1">superscript</csymbol><apply id="S3.SS0.SSS2.p1.7.m4.1.1.2.cmml" xref="S3.SS0.SSS2.p1.7.m4.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.7.m4.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.7.m4.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.7.m4.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.7.m4.1.1.2.2">SoC</ci><ci id="S3.SS0.SSS2.p1.7.m4.1.1.2.3.cmml" xref="S3.SS0.SSS2.p1.7.m4.1.1.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.7.m4.1.1.3.cmml" xref="S3.SS0.SSS2.p1.7.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.7.m4.1c">\mathrm{SoC}_{t}^{i}</annotation></semantics></math> are both continuous, the policy <math id="S3.SS0.SSS2.p1.8.m5.1" class="ltx_Math" alttext="\pi_{\phi_{i}}" display="inline"><semantics id="S3.SS0.SSS2.p1.8.m5.1a"><msub id="S3.SS0.SSS2.p1.8.m5.1.1" xref="S3.SS0.SSS2.p1.8.m5.1.1.cmml"><mi id="S3.SS0.SSS2.p1.8.m5.1.1.2" xref="S3.SS0.SSS2.p1.8.m5.1.1.2.cmml">π</mi><msub id="S3.SS0.SSS2.p1.8.m5.1.1.3" xref="S3.SS0.SSS2.p1.8.m5.1.1.3.cmml"><mi id="S3.SS0.SSS2.p1.8.m5.1.1.3.2" xref="S3.SS0.SSS2.p1.8.m5.1.1.3.2.cmml">ϕ</mi><mi id="S3.SS0.SSS2.p1.8.m5.1.1.3.3" xref="S3.SS0.SSS2.p1.8.m5.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.8.m5.1b"><apply id="S3.SS0.SSS2.p1.8.m5.1.1.cmml" xref="S3.SS0.SSS2.p1.8.m5.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.8.m5.1.1.1.cmml" xref="S3.SS0.SSS2.p1.8.m5.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.8.m5.1.1.2.cmml" xref="S3.SS0.SSS2.p1.8.m5.1.1.2">𝜋</ci><apply id="S3.SS0.SSS2.p1.8.m5.1.1.3.cmml" xref="S3.SS0.SSS2.p1.8.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.8.m5.1.1.3.1.cmml" xref="S3.SS0.SSS2.p1.8.m5.1.1.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.8.m5.1.1.3.2.cmml" xref="S3.SS0.SSS2.p1.8.m5.1.1.3.2">italic-ϕ</ci><ci id="S3.SS0.SSS2.p1.8.m5.1.1.3.3.cmml" xref="S3.SS0.SSS2.p1.8.m5.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.8.m5.1c">\pi_{\phi_{i}}</annotation></semantics></math> is set as a Gaussian distribution</p>
<table id="S3.E12" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E12.m1.1" class="ltx_math_unparsed" alttext="\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})=\frac{1}{\sqrt{2\pi\sigma}}\exp\Bigl{(}-\frac{(a_{t}^{i}-\mu)^{2}}{2\sigma^{2}}\Bigl{)}," display="block"><semantics id="S3.E12.m1.1a"><mrow id="S3.E12.m1.1b"><msub id="S3.E12.m1.1.2"><mi id="S3.E12.m1.1.2.2">π</mi><msub id="S3.E12.m1.1.2.3"><mi id="S3.E12.m1.1.2.3.2">ϕ</mi><mi id="S3.E12.m1.1.2.3.3">i</mi></msub></msub><mrow id="S3.E12.m1.1.3"><mo stretchy="false" id="S3.E12.m1.1.3.1">(</mo><msubsup id="S3.E12.m1.1.3.2"><mi id="S3.E12.m1.1.3.2.2.2">a</mi><mi id="S3.E12.m1.1.3.2.2.3">t</mi><mi id="S3.E12.m1.1.3.2.3">i</mi></msubsup><mo fence="false" rspace="0.167em" stretchy="false" id="S3.E12.m1.1.3.3">|</mo><msubsup id="S3.E12.m1.1.3.4"><mi id="S3.E12.m1.1.3.4.2.2">s</mi><mi id="S3.E12.m1.1.3.4.2.3">t</mi><mi id="S3.E12.m1.1.3.4.3">i</mi></msubsup><mo stretchy="false" id="S3.E12.m1.1.3.5">)</mo></mrow><mo id="S3.E12.m1.1.4">=</mo><mfrac id="S3.E12.m1.1.5"><mn id="S3.E12.m1.1.5.2">1</mn><msqrt id="S3.E12.m1.1.5.3"><mrow id="S3.E12.m1.1.5.3.2"><mn id="S3.E12.m1.1.5.3.2.2">2</mn><mo lspace="0em" rspace="0em" id="S3.E12.m1.1.5.3.2.1">​</mo><mi id="S3.E12.m1.1.5.3.2.3">π</mi><mo lspace="0em" rspace="0em" id="S3.E12.m1.1.5.3.2.1a">​</mo><mi id="S3.E12.m1.1.5.3.2.4">σ</mi></mrow></msqrt></mfrac><mi id="S3.E12.m1.1.6">exp</mi><mrow id="S3.E12.m1.1.7"><mo maxsize="160%" minsize="160%" id="S3.E12.m1.1.7.1">(</mo><mo lspace="0em" id="S3.E12.m1.1.7.2">−</mo><mfrac id="S3.E12.m1.1.1"><msup id="S3.E12.m1.1.1.1"><mrow id="S3.E12.m1.1.1.1.1.1"><mo stretchy="false" id="S3.E12.m1.1.1.1.1.1.2">(</mo><mrow id="S3.E12.m1.1.1.1.1.1.1"><msubsup id="S3.E12.m1.1.1.1.1.1.1.2"><mi id="S3.E12.m1.1.1.1.1.1.1.2.2.2">a</mi><mi id="S3.E12.m1.1.1.1.1.1.1.2.2.3">t</mi><mi id="S3.E12.m1.1.1.1.1.1.1.2.3">i</mi></msubsup><mo id="S3.E12.m1.1.1.1.1.1.1.1">−</mo><mi id="S3.E12.m1.1.1.1.1.1.1.3">μ</mi></mrow><mo stretchy="false" id="S3.E12.m1.1.1.1.1.1.3">)</mo></mrow><mn id="S3.E12.m1.1.1.1.3">2</mn></msup><mrow id="S3.E12.m1.1.1.3"><mn id="S3.E12.m1.1.1.3.2">2</mn><mo lspace="0em" rspace="0em" id="S3.E12.m1.1.1.3.1">​</mo><msup id="S3.E12.m1.1.1.3.3"><mi id="S3.E12.m1.1.1.3.3.2">σ</mi><mn id="S3.E12.m1.1.1.3.3.3">2</mn></msup></mrow></mfrac><mrow id="S3.E12.m1.1.7.3"><mo lspace="0em" mathsize="160%" rspace="0em" id="S3.E12.m1.1.7.3.1">)</mo><mo id="S3.E12.m1.1.7.3.2">,</mo></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S3.E12.m1.1c">\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})=\frac{1}{\sqrt{2\pi\sigma}}\exp\Bigl{(}-\frac{(a_{t}^{i}-\mu)^{2}}{2\sigma^{2}}\Bigl{)},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
<p id="S3.SS0.SSS2.p1.17" class="ltx_p">where <math id="S3.SS0.SSS2.p1.9.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S3.SS0.SSS2.p1.9.m1.1a"><mi id="S3.SS0.SSS2.p1.9.m1.1.1" xref="S3.SS0.SSS2.p1.9.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.9.m1.1b"><ci id="S3.SS0.SSS2.p1.9.m1.1.1.cmml" xref="S3.SS0.SSS2.p1.9.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.9.m1.1c">\mu</annotation></semantics></math> and <math id="S3.SS0.SSS2.p1.10.m2.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S3.SS0.SSS2.p1.10.m2.1a"><mi id="S3.SS0.SSS2.p1.10.m2.1.1" xref="S3.SS0.SSS2.p1.10.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.10.m2.1b"><ci id="S3.SS0.SSS2.p1.10.m2.1.1.cmml" xref="S3.SS0.SSS2.p1.10.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.10.m2.1c">\sigma</annotation></semantics></math> are both the ouput of the policy network. Then the reparameterization trick is employed to generate the current charging/discharging rate to support backpropagation. Specifically, if the mean is <math id="S3.SS0.SSS2.p1.11.m3.1" class="ltx_Math" alttext="\mu=\mu_{\phi_{i}}(s_{t}^{i})" display="inline"><semantics id="S3.SS0.SSS2.p1.11.m3.1a"><mrow id="S3.SS0.SSS2.p1.11.m3.1.1" xref="S3.SS0.SSS2.p1.11.m3.1.1.cmml"><mi id="S3.SS0.SSS2.p1.11.m3.1.1.3" xref="S3.SS0.SSS2.p1.11.m3.1.1.3.cmml">μ</mi><mo id="S3.SS0.SSS2.p1.11.m3.1.1.2" xref="S3.SS0.SSS2.p1.11.m3.1.1.2.cmml">=</mo><mrow id="S3.SS0.SSS2.p1.11.m3.1.1.1" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.cmml"><msub id="S3.SS0.SSS2.p1.11.m3.1.1.1.3" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3.cmml"><mi id="S3.SS0.SSS2.p1.11.m3.1.1.1.3.2" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3.2.cmml">μ</mi><msub id="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3.cmml"><mi id="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3.2" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3.2.cmml">ϕ</mi><mi id="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3.3" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3.3.cmml">i</mi></msub></msub><mo lspace="0em" rspace="0em" id="S3.SS0.SSS2.p1.11.m3.1.1.1.2" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.2.cmml">​</mo><mrow id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.2" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.cmml"><mi id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.2.2" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.2.3" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.3" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.3" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.11.m3.1b"><apply id="S3.SS0.SSS2.p1.11.m3.1.1.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1"><eq id="S3.SS0.SSS2.p1.11.m3.1.1.2.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.2"></eq><ci id="S3.SS0.SSS2.p1.11.m3.1.1.3.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.3">𝜇</ci><apply id="S3.SS0.SSS2.p1.11.m3.1.1.1.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1"><times id="S3.SS0.SSS2.p1.11.m3.1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.2"></times><apply id="S3.SS0.SSS2.p1.11.m3.1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.11.m3.1.1.1.3.1.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.11.m3.1.1.1.3.2.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3.2">𝜇</ci><apply id="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3.1.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3.2.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3.2">italic-ϕ</ci><ci id="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3.3.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.3.3.3">𝑖</ci></apply></apply><apply id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1">superscript</csymbol><apply id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.2.3.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.11.m3.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.11.m3.1c">\mu=\mu_{\phi_{i}}(s_{t}^{i})</annotation></semantics></math> and the standard deviation is <math id="S3.SS0.SSS2.p1.12.m4.1" class="ltx_Math" alttext="\sigma=\sigma_{\phi_{i}}(s_{t}^{i})" display="inline"><semantics id="S3.SS0.SSS2.p1.12.m4.1a"><mrow id="S3.SS0.SSS2.p1.12.m4.1.1" xref="S3.SS0.SSS2.p1.12.m4.1.1.cmml"><mi id="S3.SS0.SSS2.p1.12.m4.1.1.3" xref="S3.SS0.SSS2.p1.12.m4.1.1.3.cmml">σ</mi><mo id="S3.SS0.SSS2.p1.12.m4.1.1.2" xref="S3.SS0.SSS2.p1.12.m4.1.1.2.cmml">=</mo><mrow id="S3.SS0.SSS2.p1.12.m4.1.1.1" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.cmml"><msub id="S3.SS0.SSS2.p1.12.m4.1.1.1.3" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3.cmml"><mi id="S3.SS0.SSS2.p1.12.m4.1.1.1.3.2" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3.2.cmml">σ</mi><msub id="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3.cmml"><mi id="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3.2" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3.2.cmml">ϕ</mi><mi id="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3.3" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3.3.cmml">i</mi></msub></msub><mo lspace="0em" rspace="0em" id="S3.SS0.SSS2.p1.12.m4.1.1.1.2" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.2.cmml">​</mo><mrow id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.2" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.cmml"><mi id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.2.2" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.2.3" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.3" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.3" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.12.m4.1b"><apply id="S3.SS0.SSS2.p1.12.m4.1.1.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1"><eq id="S3.SS0.SSS2.p1.12.m4.1.1.2.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.2"></eq><ci id="S3.SS0.SSS2.p1.12.m4.1.1.3.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.3">𝜎</ci><apply id="S3.SS0.SSS2.p1.12.m4.1.1.1.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1"><times id="S3.SS0.SSS2.p1.12.m4.1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.2"></times><apply id="S3.SS0.SSS2.p1.12.m4.1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.12.m4.1.1.1.3.1.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.12.m4.1.1.1.3.2.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3.2">𝜎</ci><apply id="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3.1.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3.2.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3.2">italic-ϕ</ci><ci id="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3.3.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.3.3.3">𝑖</ci></apply></apply><apply id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1">superscript</csymbol><apply id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.2.3.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.12.m4.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.12.m4.1c">\sigma=\sigma_{\phi_{i}}(s_{t}^{i})</annotation></semantics></math>, the policy can be reparameterized by <math id="S3.SS0.SSS2.p1.13.m5.4" class="ltx_Math" alttext="f_{\phi_{i}}(\kappa_{t}^{i};s_{t}^{i})=\mu_{\phi_{i}}(s_{t}^{i})+\kappa_{t}^{i}\cdot\sigma_{\phi_{i}}(s_{t}^{i})" display="inline"><semantics id="S3.SS0.SSS2.p1.13.m5.4a"><mrow id="S3.SS0.SSS2.p1.13.m5.4.4" xref="S3.SS0.SSS2.p1.13.m5.4.4.cmml"><mrow id="S3.SS0.SSS2.p1.13.m5.2.2.2" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.cmml"><msub id="S3.SS0.SSS2.p1.13.m5.2.2.2.4" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4.cmml"><mi id="S3.SS0.SSS2.p1.13.m5.2.2.2.4.2" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4.2.cmml">f</mi><msub id="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3.cmml"><mi id="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3.2" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3.2.cmml">ϕ</mi><mi id="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3.3" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3.3.cmml">i</mi></msub></msub><mo lspace="0em" rspace="0em" id="S3.SS0.SSS2.p1.13.m5.2.2.2.3" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.3.cmml">​</mo><mrow id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.3" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.3.cmml">(</mo><msubsup id="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1" xref="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.cmml"><mi id="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.2.2" xref="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.2.2.cmml">κ</mi><mi id="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.2.3" xref="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.3" xref="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.4" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.3.cmml">;</mo><msubsup id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.cmml"><mi id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.2.2" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.2.2.cmml">s</mi><mi id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.2.3" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.3" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.5" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.SS0.SSS2.p1.13.m5.4.4.5" xref="S3.SS0.SSS2.p1.13.m5.4.4.5.cmml">=</mo><mrow id="S3.SS0.SSS2.p1.13.m5.4.4.4" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.cmml"><mrow id="S3.SS0.SSS2.p1.13.m5.3.3.3.1" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.cmml"><msub id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.cmml"><mi id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.2" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.2.cmml">μ</mi><msub id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3.cmml"><mi id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3.2" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3.2.cmml">ϕ</mi><mi id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3.3" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3.3.cmml">i</mi></msub></msub><mo lspace="0em" rspace="0em" id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.2" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.2.cmml">​</mo><mrow id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.2" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.cmml">(</mo><msubsup id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.cmml"><mi id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.2.2" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.2.2.cmml">s</mi><mi id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.2.3" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.3" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.3" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS0.SSS2.p1.13.m5.4.4.4.3" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.3.cmml">+</mo><mrow id="S3.SS0.SSS2.p1.13.m5.4.4.4.2" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.cmml"><mrow id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.cmml"><msubsup id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.cmml"><mi id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.2.2" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.2.2.cmml">κ</mi><mi id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.2.3" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.3" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.3.cmml">i</mi></msubsup><mo lspace="0.222em" rspace="0.222em" id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.1" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.1.cmml">⋅</mo><msub id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.cmml"><mi id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.2" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.2.cmml">σ</mi><msub id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3.cmml"><mi id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3.2" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3.2.cmml">ϕ</mi><mi id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3.3" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3.3.cmml">i</mi></msub></msub></mrow><mo lspace="0em" rspace="0em" id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.2" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.2.cmml">​</mo><mrow id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.cmml"><mo stretchy="false" id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.2" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.cmml">(</mo><msubsup id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.cmml"><mi id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.2.2" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.2.2.cmml">s</mi><mi id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.2.3" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.3" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.3" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.13.m5.4b"><apply id="S3.SS0.SSS2.p1.13.m5.4.4.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4"><eq id="S3.SS0.SSS2.p1.13.m5.4.4.5.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.5"></eq><apply id="S3.SS0.SSS2.p1.13.m5.2.2.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2"><times id="S3.SS0.SSS2.p1.13.m5.2.2.2.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.3"></times><apply id="S3.SS0.SSS2.p1.13.m5.2.2.2.4.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.2.2.2.4.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4">subscript</csymbol><ci id="S3.SS0.SSS2.p1.13.m5.2.2.2.4.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4.2">𝑓</ci><apply id="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3.2">italic-ϕ</ci><ci id="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.4.3.3">𝑖</ci></apply></apply><list id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2"><apply id="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.2.2">𝜅</ci><ci id="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.2.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2">superscript</csymbol><apply id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.2.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.2.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.2.2">𝑠</ci><ci id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.2.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.2.2.2.2.2.2.3">𝑖</ci></apply></list></apply><apply id="S3.SS0.SSS2.p1.13.m5.4.4.4.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4"><plus id="S3.SS0.SSS2.p1.13.m5.4.4.4.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.3"></plus><apply id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1"><times id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.2"></times><apply id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.2">𝜇</ci><apply id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3.2">italic-ϕ</ci><ci id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.3.3.3">𝑖</ci></apply></apply><apply id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1">superscript</csymbol><apply id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.2.2">𝑠</ci><ci id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.2.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.3.3.3.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2"><times id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.2"></times><apply id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3"><ci id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.1">⋅</ci><apply id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2">superscript</csymbol><apply id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.2.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2">subscript</csymbol><ci id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.2.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.2.2">𝜅</ci><ci id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.2.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.2.3">𝑖</ci></apply><apply id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.2">𝜎</ci><apply id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3.2">italic-ϕ</ci><ci id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.3.3.3.3">𝑖</ci></apply></apply></apply><apply id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1">superscript</csymbol><apply id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.2.2">𝑠</ci><ci id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.2.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.13.m5.4.4.4.2.1.1.1.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.13.m5.4c">f_{\phi_{i}}(\kappa_{t}^{i};s_{t}^{i})=\mu_{\phi_{i}}(s_{t}^{i})+\kappa_{t}^{i}\cdot\sigma_{\phi_{i}}(s_{t}^{i})</annotation></semantics></math>, where <math id="S3.SS0.SSS2.p1.14.m6.2" class="ltx_Math" alttext="\kappa_{t}^{i}\sim\mathcal{N}(0,1)" display="inline"><semantics id="S3.SS0.SSS2.p1.14.m6.2a"><mrow id="S3.SS0.SSS2.p1.14.m6.2.3" xref="S3.SS0.SSS2.p1.14.m6.2.3.cmml"><msubsup id="S3.SS0.SSS2.p1.14.m6.2.3.2" xref="S3.SS0.SSS2.p1.14.m6.2.3.2.cmml"><mi id="S3.SS0.SSS2.p1.14.m6.2.3.2.2.2" xref="S3.SS0.SSS2.p1.14.m6.2.3.2.2.2.cmml">κ</mi><mi id="S3.SS0.SSS2.p1.14.m6.2.3.2.2.3" xref="S3.SS0.SSS2.p1.14.m6.2.3.2.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.14.m6.2.3.2.3" xref="S3.SS0.SSS2.p1.14.m6.2.3.2.3.cmml">i</mi></msubsup><mo id="S3.SS0.SSS2.p1.14.m6.2.3.1" xref="S3.SS0.SSS2.p1.14.m6.2.3.1.cmml">∼</mo><mrow id="S3.SS0.SSS2.p1.14.m6.2.3.3" xref="S3.SS0.SSS2.p1.14.m6.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS2.p1.14.m6.2.3.3.2" xref="S3.SS0.SSS2.p1.14.m6.2.3.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S3.SS0.SSS2.p1.14.m6.2.3.3.1" xref="S3.SS0.SSS2.p1.14.m6.2.3.3.1.cmml">​</mo><mrow id="S3.SS0.SSS2.p1.14.m6.2.3.3.3.2" xref="S3.SS0.SSS2.p1.14.m6.2.3.3.3.1.cmml"><mo stretchy="false" id="S3.SS0.SSS2.p1.14.m6.2.3.3.3.2.1" xref="S3.SS0.SSS2.p1.14.m6.2.3.3.3.1.cmml">(</mo><mn id="S3.SS0.SSS2.p1.14.m6.1.1" xref="S3.SS0.SSS2.p1.14.m6.1.1.cmml">0</mn><mo id="S3.SS0.SSS2.p1.14.m6.2.3.3.3.2.2" xref="S3.SS0.SSS2.p1.14.m6.2.3.3.3.1.cmml">,</mo><mn id="S3.SS0.SSS2.p1.14.m6.2.2" xref="S3.SS0.SSS2.p1.14.m6.2.2.cmml">1</mn><mo stretchy="false" id="S3.SS0.SSS2.p1.14.m6.2.3.3.3.2.3" xref="S3.SS0.SSS2.p1.14.m6.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.14.m6.2b"><apply id="S3.SS0.SSS2.p1.14.m6.2.3.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3"><csymbol cd="latexml" id="S3.SS0.SSS2.p1.14.m6.2.3.1.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.1">similar-to</csymbol><apply id="S3.SS0.SSS2.p1.14.m6.2.3.2.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.2"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.14.m6.2.3.2.1.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.2">superscript</csymbol><apply id="S3.SS0.SSS2.p1.14.m6.2.3.2.2.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.2"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.14.m6.2.3.2.2.1.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.2">subscript</csymbol><ci id="S3.SS0.SSS2.p1.14.m6.2.3.2.2.2.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.2.2.2">𝜅</ci><ci id="S3.SS0.SSS2.p1.14.m6.2.3.2.2.3.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.2.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.14.m6.2.3.2.3.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.2.3">𝑖</ci></apply><apply id="S3.SS0.SSS2.p1.14.m6.2.3.3.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.3"><times id="S3.SS0.SSS2.p1.14.m6.2.3.3.1.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.3.1"></times><ci id="S3.SS0.SSS2.p1.14.m6.2.3.3.2.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.3.2">𝒩</ci><interval closure="open" id="S3.SS0.SSS2.p1.14.m6.2.3.3.3.1.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.3.3.3.2"><cn type="integer" id="S3.SS0.SSS2.p1.14.m6.1.1.cmml" xref="S3.SS0.SSS2.p1.14.m6.1.1">0</cn><cn type="integer" id="S3.SS0.SSS2.p1.14.m6.2.2.cmml" xref="S3.SS0.SSS2.p1.14.m6.2.2">1</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.14.m6.2c">\kappa_{t}^{i}\sim\mathcal{N}(0,1)</annotation></semantics></math>. Through sampling <math id="S3.SS0.SSS2.p1.15.m7.1" class="ltx_Math" alttext="\kappa_{t}^{i}" display="inline"><semantics id="S3.SS0.SSS2.p1.15.m7.1a"><msubsup id="S3.SS0.SSS2.p1.15.m7.1.1" xref="S3.SS0.SSS2.p1.15.m7.1.1.cmml"><mi id="S3.SS0.SSS2.p1.15.m7.1.1.2.2" xref="S3.SS0.SSS2.p1.15.m7.1.1.2.2.cmml">κ</mi><mi id="S3.SS0.SSS2.p1.15.m7.1.1.2.3" xref="S3.SS0.SSS2.p1.15.m7.1.1.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.15.m7.1.1.3" xref="S3.SS0.SSS2.p1.15.m7.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.15.m7.1b"><apply id="S3.SS0.SSS2.p1.15.m7.1.1.cmml" xref="S3.SS0.SSS2.p1.15.m7.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.15.m7.1.1.1.cmml" xref="S3.SS0.SSS2.p1.15.m7.1.1">superscript</csymbol><apply id="S3.SS0.SSS2.p1.15.m7.1.1.2.cmml" xref="S3.SS0.SSS2.p1.15.m7.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.15.m7.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.15.m7.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.15.m7.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.15.m7.1.1.2.2">𝜅</ci><ci id="S3.SS0.SSS2.p1.15.m7.1.1.2.3.cmml" xref="S3.SS0.SSS2.p1.15.m7.1.1.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.15.m7.1.1.3.cmml" xref="S3.SS0.SSS2.p1.15.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.15.m7.1c">\kappa_{t}^{i}</annotation></semantics></math> from the specific distribution and then intergrating the output of policy network, the charging/discharging rate <math id="S3.SS0.SSS2.p1.16.m8.1" class="ltx_Math" alttext="a_{t}^{i}" display="inline"><semantics id="S3.SS0.SSS2.p1.16.m8.1a"><msubsup id="S3.SS0.SSS2.p1.16.m8.1.1" xref="S3.SS0.SSS2.p1.16.m8.1.1.cmml"><mi id="S3.SS0.SSS2.p1.16.m8.1.1.2.2" xref="S3.SS0.SSS2.p1.16.m8.1.1.2.2.cmml">a</mi><mi id="S3.SS0.SSS2.p1.16.m8.1.1.2.3" xref="S3.SS0.SSS2.p1.16.m8.1.1.2.3.cmml">t</mi><mi id="S3.SS0.SSS2.p1.16.m8.1.1.3" xref="S3.SS0.SSS2.p1.16.m8.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.16.m8.1b"><apply id="S3.SS0.SSS2.p1.16.m8.1.1.cmml" xref="S3.SS0.SSS2.p1.16.m8.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.16.m8.1.1.1.cmml" xref="S3.SS0.SSS2.p1.16.m8.1.1">superscript</csymbol><apply id="S3.SS0.SSS2.p1.16.m8.1.1.2.cmml" xref="S3.SS0.SSS2.p1.16.m8.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.16.m8.1.1.2.1.cmml" xref="S3.SS0.SSS2.p1.16.m8.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.16.m8.1.1.2.2.cmml" xref="S3.SS0.SSS2.p1.16.m8.1.1.2.2">𝑎</ci><ci id="S3.SS0.SSS2.p1.16.m8.1.1.2.3.cmml" xref="S3.SS0.SSS2.p1.16.m8.1.1.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS2.p1.16.m8.1.1.3.cmml" xref="S3.SS0.SSS2.p1.16.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.16.m8.1c">a_{t}^{i}</annotation></semantics></math> can be generated.
Finally, we can employ policy gradient based approaches by using the following unbiased gradient approximation of <math id="S3.SS0.SSS2.p1.17.m9.1" class="ltx_Math" alttext="J_{\pi}(\phi_{i})" display="inline"><semantics id="S3.SS0.SSS2.p1.17.m9.1a"><mrow id="S3.SS0.SSS2.p1.17.m9.1.1" xref="S3.SS0.SSS2.p1.17.m9.1.1.cmml"><msub id="S3.SS0.SSS2.p1.17.m9.1.1.3" xref="S3.SS0.SSS2.p1.17.m9.1.1.3.cmml"><mi id="S3.SS0.SSS2.p1.17.m9.1.1.3.2" xref="S3.SS0.SSS2.p1.17.m9.1.1.3.2.cmml">J</mi><mi id="S3.SS0.SSS2.p1.17.m9.1.1.3.3" xref="S3.SS0.SSS2.p1.17.m9.1.1.3.3.cmml">π</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS0.SSS2.p1.17.m9.1.1.2" xref="S3.SS0.SSS2.p1.17.m9.1.1.2.cmml">​</mo><mrow id="S3.SS0.SSS2.p1.17.m9.1.1.1.1" xref="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS0.SSS2.p1.17.m9.1.1.1.1.2" xref="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.cmml">(</mo><msub id="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1" xref="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.cmml"><mi id="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.2" xref="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.2.cmml">ϕ</mi><mi id="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.3" xref="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS0.SSS2.p1.17.m9.1.1.1.1.3" xref="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.17.m9.1b"><apply id="S3.SS0.SSS2.p1.17.m9.1.1.cmml" xref="S3.SS0.SSS2.p1.17.m9.1.1"><times id="S3.SS0.SSS2.p1.17.m9.1.1.2.cmml" xref="S3.SS0.SSS2.p1.17.m9.1.1.2"></times><apply id="S3.SS0.SSS2.p1.17.m9.1.1.3.cmml" xref="S3.SS0.SSS2.p1.17.m9.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.17.m9.1.1.3.1.cmml" xref="S3.SS0.SSS2.p1.17.m9.1.1.3">subscript</csymbol><ci id="S3.SS0.SSS2.p1.17.m9.1.1.3.2.cmml" xref="S3.SS0.SSS2.p1.17.m9.1.1.3.2">𝐽</ci><ci id="S3.SS0.SSS2.p1.17.m9.1.1.3.3.cmml" xref="S3.SS0.SSS2.p1.17.m9.1.1.3.3">𝜋</ci></apply><apply id="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.17.m9.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.17.m9.1.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.2">italic-ϕ</ci><ci id="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.17.m9.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.17.m9.1c">J_{\pi}(\phi_{i})</annotation></semantics></math></p>
<table id="Sx1.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E13"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E13.m2.3" class="ltx_Math" alttext="\displaystyle\widehat{\nabla}_{\phi_{i}}\mathcal{J}_{\pi}(\phi_{i})=\nabla_{\phi_{i}}\alpha_{i}\log\phi_{i}(s_{t}^{i},a_{t}^{i})" display="inline"><semantics id="S3.E13.m2.3a"><mrow id="S3.E13.m2.3.3" xref="S3.E13.m2.3.3.cmml"><mrow id="S3.E13.m2.1.1.1" xref="S3.E13.m2.1.1.1.cmml"><msub id="S3.E13.m2.1.1.1.3" xref="S3.E13.m2.1.1.1.3.cmml"><mover accent="true" id="S3.E13.m2.1.1.1.3.2" xref="S3.E13.m2.1.1.1.3.2.cmml"><mo id="S3.E13.m2.1.1.1.3.2.2" xref="S3.E13.m2.1.1.1.3.2.2.cmml">∇</mo><mo id="S3.E13.m2.1.1.1.3.2.1" xref="S3.E13.m2.1.1.1.3.2.1.cmml">^</mo></mover><msub id="S3.E13.m2.1.1.1.3.3" xref="S3.E13.m2.1.1.1.3.3.cmml"><mi id="S3.E13.m2.1.1.1.3.3.2" xref="S3.E13.m2.1.1.1.3.3.2.cmml">ϕ</mi><mi id="S3.E13.m2.1.1.1.3.3.3" xref="S3.E13.m2.1.1.1.3.3.3.cmml">i</mi></msub></msub><mo lspace="0.167em" rspace="0em" id="S3.E13.m2.1.1.1.2" xref="S3.E13.m2.1.1.1.2.cmml">​</mo><msub id="S3.E13.m2.1.1.1.4" xref="S3.E13.m2.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E13.m2.1.1.1.4.2" xref="S3.E13.m2.1.1.1.4.2.cmml">𝒥</mi><mi id="S3.E13.m2.1.1.1.4.3" xref="S3.E13.m2.1.1.1.4.3.cmml">π</mi></msub><mo lspace="0em" rspace="0em" id="S3.E13.m2.1.1.1.2a" xref="S3.E13.m2.1.1.1.2.cmml">​</mo><mrow id="S3.E13.m2.1.1.1.1.1" xref="S3.E13.m2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E13.m2.1.1.1.1.1.2" xref="S3.E13.m2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E13.m2.1.1.1.1.1.1" xref="S3.E13.m2.1.1.1.1.1.1.cmml"><mi id="S3.E13.m2.1.1.1.1.1.1.2" xref="S3.E13.m2.1.1.1.1.1.1.2.cmml">ϕ</mi><mi id="S3.E13.m2.1.1.1.1.1.1.3" xref="S3.E13.m2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E13.m2.1.1.1.1.1.3" xref="S3.E13.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E13.m2.3.3.4" xref="S3.E13.m2.3.3.4.cmml">=</mo><mrow id="S3.E13.m2.3.3.3" xref="S3.E13.m2.3.3.3.cmml"><mrow id="S3.E13.m2.3.3.3.4" xref="S3.E13.m2.3.3.3.4.cmml"><msub id="S3.E13.m2.3.3.3.4.1" xref="S3.E13.m2.3.3.3.4.1.cmml"><mo rspace="0.167em" id="S3.E13.m2.3.3.3.4.1.2" xref="S3.E13.m2.3.3.3.4.1.2.cmml">∇</mo><msub id="S3.E13.m2.3.3.3.4.1.3" xref="S3.E13.m2.3.3.3.4.1.3.cmml"><mi id="S3.E13.m2.3.3.3.4.1.3.2" xref="S3.E13.m2.3.3.3.4.1.3.2.cmml">ϕ</mi><mi id="S3.E13.m2.3.3.3.4.1.3.3" xref="S3.E13.m2.3.3.3.4.1.3.3.cmml">i</mi></msub></msub><mrow id="S3.E13.m2.3.3.3.4.2" xref="S3.E13.m2.3.3.3.4.2.cmml"><msub id="S3.E13.m2.3.3.3.4.2.2" xref="S3.E13.m2.3.3.3.4.2.2.cmml"><mi id="S3.E13.m2.3.3.3.4.2.2.2" xref="S3.E13.m2.3.3.3.4.2.2.2.cmml">α</mi><mi id="S3.E13.m2.3.3.3.4.2.2.3" xref="S3.E13.m2.3.3.3.4.2.2.3.cmml">i</mi></msub><mo lspace="0.167em" rspace="0em" id="S3.E13.m2.3.3.3.4.2.1" xref="S3.E13.m2.3.3.3.4.2.1.cmml">​</mo><mrow id="S3.E13.m2.3.3.3.4.2.3" xref="S3.E13.m2.3.3.3.4.2.3.cmml"><mi id="S3.E13.m2.3.3.3.4.2.3.1" xref="S3.E13.m2.3.3.3.4.2.3.1.cmml">log</mi><mo lspace="0.167em" id="S3.E13.m2.3.3.3.4.2.3a" xref="S3.E13.m2.3.3.3.4.2.3.cmml">⁡</mo><msub id="S3.E13.m2.3.3.3.4.2.3.2" xref="S3.E13.m2.3.3.3.4.2.3.2.cmml"><mi id="S3.E13.m2.3.3.3.4.2.3.2.2" xref="S3.E13.m2.3.3.3.4.2.3.2.2.cmml">ϕ</mi><mi id="S3.E13.m2.3.3.3.4.2.3.2.3" xref="S3.E13.m2.3.3.3.4.2.3.2.3.cmml">i</mi></msub></mrow></mrow></mrow><mo lspace="0em" rspace="0em" id="S3.E13.m2.3.3.3.3" xref="S3.E13.m2.3.3.3.3.cmml">​</mo><mrow id="S3.E13.m2.3.3.3.2.2" xref="S3.E13.m2.3.3.3.2.3.cmml"><mo stretchy="false" id="S3.E13.m2.3.3.3.2.2.3" xref="S3.E13.m2.3.3.3.2.3.cmml">(</mo><msubsup id="S3.E13.m2.2.2.2.1.1.1" xref="S3.E13.m2.2.2.2.1.1.1.cmml"><mi id="S3.E13.m2.2.2.2.1.1.1.2.2" xref="S3.E13.m2.2.2.2.1.1.1.2.2.cmml">s</mi><mi id="S3.E13.m2.2.2.2.1.1.1.2.3" xref="S3.E13.m2.2.2.2.1.1.1.2.3.cmml">t</mi><mi id="S3.E13.m2.2.2.2.1.1.1.3" xref="S3.E13.m2.2.2.2.1.1.1.3.cmml">i</mi></msubsup><mo id="S3.E13.m2.3.3.3.2.2.4" xref="S3.E13.m2.3.3.3.2.3.cmml">,</mo><msubsup id="S3.E13.m2.3.3.3.2.2.2" xref="S3.E13.m2.3.3.3.2.2.2.cmml"><mi id="S3.E13.m2.3.3.3.2.2.2.2.2" xref="S3.E13.m2.3.3.3.2.2.2.2.2.cmml">a</mi><mi id="S3.E13.m2.3.3.3.2.2.2.2.3" xref="S3.E13.m2.3.3.3.2.2.2.2.3.cmml">t</mi><mi id="S3.E13.m2.3.3.3.2.2.2.3" xref="S3.E13.m2.3.3.3.2.2.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="S3.E13.m2.3.3.3.2.2.5" xref="S3.E13.m2.3.3.3.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E13.m2.3b"><apply id="S3.E13.m2.3.3.cmml" xref="S3.E13.m2.3.3"><eq id="S3.E13.m2.3.3.4.cmml" xref="S3.E13.m2.3.3.4"></eq><apply id="S3.E13.m2.1.1.1.cmml" xref="S3.E13.m2.1.1.1"><times id="S3.E13.m2.1.1.1.2.cmml" xref="S3.E13.m2.1.1.1.2"></times><apply id="S3.E13.m2.1.1.1.3.cmml" xref="S3.E13.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E13.m2.1.1.1.3.1.cmml" xref="S3.E13.m2.1.1.1.3">subscript</csymbol><apply id="S3.E13.m2.1.1.1.3.2.cmml" xref="S3.E13.m2.1.1.1.3.2"><ci id="S3.E13.m2.1.1.1.3.2.1.cmml" xref="S3.E13.m2.1.1.1.3.2.1">^</ci><ci id="S3.E13.m2.1.1.1.3.2.2.cmml" xref="S3.E13.m2.1.1.1.3.2.2">∇</ci></apply><apply id="S3.E13.m2.1.1.1.3.3.cmml" xref="S3.E13.m2.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E13.m2.1.1.1.3.3.1.cmml" xref="S3.E13.m2.1.1.1.3.3">subscript</csymbol><ci id="S3.E13.m2.1.1.1.3.3.2.cmml" xref="S3.E13.m2.1.1.1.3.3.2">italic-ϕ</ci><ci id="S3.E13.m2.1.1.1.3.3.3.cmml" xref="S3.E13.m2.1.1.1.3.3.3">𝑖</ci></apply></apply><apply id="S3.E13.m2.1.1.1.4.cmml" xref="S3.E13.m2.1.1.1.4"><csymbol cd="ambiguous" id="S3.E13.m2.1.1.1.4.1.cmml" xref="S3.E13.m2.1.1.1.4">subscript</csymbol><ci id="S3.E13.m2.1.1.1.4.2.cmml" xref="S3.E13.m2.1.1.1.4.2">𝒥</ci><ci id="S3.E13.m2.1.1.1.4.3.cmml" xref="S3.E13.m2.1.1.1.4.3">𝜋</ci></apply><apply id="S3.E13.m2.1.1.1.1.1.1.cmml" xref="S3.E13.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E13.m2.1.1.1.1.1.1.1.cmml" xref="S3.E13.m2.1.1.1.1.1">subscript</csymbol><ci id="S3.E13.m2.1.1.1.1.1.1.2.cmml" xref="S3.E13.m2.1.1.1.1.1.1.2">italic-ϕ</ci><ci id="S3.E13.m2.1.1.1.1.1.1.3.cmml" xref="S3.E13.m2.1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.E13.m2.3.3.3.cmml" xref="S3.E13.m2.3.3.3"><times id="S3.E13.m2.3.3.3.3.cmml" xref="S3.E13.m2.3.3.3.3"></times><apply id="S3.E13.m2.3.3.3.4.cmml" xref="S3.E13.m2.3.3.3.4"><apply id="S3.E13.m2.3.3.3.4.1.cmml" xref="S3.E13.m2.3.3.3.4.1"><csymbol cd="ambiguous" id="S3.E13.m2.3.3.3.4.1.1.cmml" xref="S3.E13.m2.3.3.3.4.1">subscript</csymbol><ci id="S3.E13.m2.3.3.3.4.1.2.cmml" xref="S3.E13.m2.3.3.3.4.1.2">∇</ci><apply id="S3.E13.m2.3.3.3.4.1.3.cmml" xref="S3.E13.m2.3.3.3.4.1.3"><csymbol cd="ambiguous" id="S3.E13.m2.3.3.3.4.1.3.1.cmml" xref="S3.E13.m2.3.3.3.4.1.3">subscript</csymbol><ci id="S3.E13.m2.3.3.3.4.1.3.2.cmml" xref="S3.E13.m2.3.3.3.4.1.3.2">italic-ϕ</ci><ci id="S3.E13.m2.3.3.3.4.1.3.3.cmml" xref="S3.E13.m2.3.3.3.4.1.3.3">𝑖</ci></apply></apply><apply id="S3.E13.m2.3.3.3.4.2.cmml" xref="S3.E13.m2.3.3.3.4.2"><times id="S3.E13.m2.3.3.3.4.2.1.cmml" xref="S3.E13.m2.3.3.3.4.2.1"></times><apply id="S3.E13.m2.3.3.3.4.2.2.cmml" xref="S3.E13.m2.3.3.3.4.2.2"><csymbol cd="ambiguous" id="S3.E13.m2.3.3.3.4.2.2.1.cmml" xref="S3.E13.m2.3.3.3.4.2.2">subscript</csymbol><ci id="S3.E13.m2.3.3.3.4.2.2.2.cmml" xref="S3.E13.m2.3.3.3.4.2.2.2">𝛼</ci><ci id="S3.E13.m2.3.3.3.4.2.2.3.cmml" xref="S3.E13.m2.3.3.3.4.2.2.3">𝑖</ci></apply><apply id="S3.E13.m2.3.3.3.4.2.3.cmml" xref="S3.E13.m2.3.3.3.4.2.3"><log id="S3.E13.m2.3.3.3.4.2.3.1.cmml" xref="S3.E13.m2.3.3.3.4.2.3.1"></log><apply id="S3.E13.m2.3.3.3.4.2.3.2.cmml" xref="S3.E13.m2.3.3.3.4.2.3.2"><csymbol cd="ambiguous" id="S3.E13.m2.3.3.3.4.2.3.2.1.cmml" xref="S3.E13.m2.3.3.3.4.2.3.2">subscript</csymbol><ci id="S3.E13.m2.3.3.3.4.2.3.2.2.cmml" xref="S3.E13.m2.3.3.3.4.2.3.2.2">italic-ϕ</ci><ci id="S3.E13.m2.3.3.3.4.2.3.2.3.cmml" xref="S3.E13.m2.3.3.3.4.2.3.2.3">𝑖</ci></apply></apply></apply></apply><interval closure="open" id="S3.E13.m2.3.3.3.2.3.cmml" xref="S3.E13.m2.3.3.3.2.2"><apply id="S3.E13.m2.2.2.2.1.1.1.cmml" xref="S3.E13.m2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E13.m2.2.2.2.1.1.1.1.cmml" xref="S3.E13.m2.2.2.2.1.1.1">superscript</csymbol><apply id="S3.E13.m2.2.2.2.1.1.1.2.cmml" xref="S3.E13.m2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E13.m2.2.2.2.1.1.1.2.1.cmml" xref="S3.E13.m2.2.2.2.1.1.1">subscript</csymbol><ci id="S3.E13.m2.2.2.2.1.1.1.2.2.cmml" xref="S3.E13.m2.2.2.2.1.1.1.2.2">𝑠</ci><ci id="S3.E13.m2.2.2.2.1.1.1.2.3.cmml" xref="S3.E13.m2.2.2.2.1.1.1.2.3">𝑡</ci></apply><ci id="S3.E13.m2.2.2.2.1.1.1.3.cmml" xref="S3.E13.m2.2.2.2.1.1.1.3">𝑖</ci></apply><apply id="S3.E13.m2.3.3.3.2.2.2.cmml" xref="S3.E13.m2.3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.E13.m2.3.3.3.2.2.2.1.cmml" xref="S3.E13.m2.3.3.3.2.2.2">superscript</csymbol><apply id="S3.E13.m2.3.3.3.2.2.2.2.cmml" xref="S3.E13.m2.3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.E13.m2.3.3.3.2.2.2.2.1.cmml" xref="S3.E13.m2.3.3.3.2.2.2">subscript</csymbol><ci id="S3.E13.m2.3.3.3.2.2.2.2.2.cmml" xref="S3.E13.m2.3.3.3.2.2.2.2.2">𝑎</ci><ci id="S3.E13.m2.3.3.3.2.2.2.2.3.cmml" xref="S3.E13.m2.3.3.3.2.2.2.2.3">𝑡</ci></apply><ci id="S3.E13.m2.3.3.3.2.2.2.3.cmml" xref="S3.E13.m2.3.3.3.2.2.2.3">𝑖</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E13.m2.3c">\displaystyle\widehat{\nabla}_{\phi_{i}}\mathcal{J}_{\pi}(\phi_{i})=\nabla_{\phi_{i}}\alpha_{i}\log\phi_{i}(s_{t}^{i},a_{t}^{i})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(13)</span></td>
</tr></tbody>
<tbody id="S3.Ex4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex4.m1.1" class="ltx_math_unparsed" alttext="\displaystyle+\bigl{(}\nabla_{a_{t}^{i}}\alpha_{i}\log\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})-\nabla_{a_{t}^{i}}Q(s_{t}^{i},a_{t}^{i})\bigl{)}\nabla_{\phi_{i}}f_{\phi_{i}}(\kappa_{t}^{i};s_{t}^{i})." display="inline"><semantics id="S3.Ex4.m1.1a"><mrow id="S3.Ex4.m1.1b"><mo id="S3.Ex4.m1.1.1">+</mo><mrow id="S3.Ex4.m1.1.2"><mo maxsize="120%" minsize="120%" id="S3.Ex4.m1.1.2.1">(</mo><msub id="S3.Ex4.m1.1.2.2"><mo rspace="0.167em" id="S3.Ex4.m1.1.2.2.2">∇</mo><msubsup id="S3.Ex4.m1.1.2.2.3"><mi id="S3.Ex4.m1.1.2.2.3.2.2">a</mi><mi id="S3.Ex4.m1.1.2.2.3.2.3">t</mi><mi id="S3.Ex4.m1.1.2.2.3.3">i</mi></msubsup></msub><msub id="S3.Ex4.m1.1.2.3"><mi id="S3.Ex4.m1.1.2.3.2">α</mi><mi id="S3.Ex4.m1.1.2.3.3">i</mi></msub><mi id="S3.Ex4.m1.1.2.4">log</mi><msub id="S3.Ex4.m1.1.2.5"><mi id="S3.Ex4.m1.1.2.5.2">π</mi><msub id="S3.Ex4.m1.1.2.5.3"><mi id="S3.Ex4.m1.1.2.5.3.2">ϕ</mi><mi id="S3.Ex4.m1.1.2.5.3.3">i</mi></msub></msub><mrow id="S3.Ex4.m1.1.2.6"><mo stretchy="false" id="S3.Ex4.m1.1.2.6.1">(</mo><msubsup id="S3.Ex4.m1.1.2.6.2"><mi id="S3.Ex4.m1.1.2.6.2.2.2">a</mi><mi id="S3.Ex4.m1.1.2.6.2.2.3">t</mi><mi id="S3.Ex4.m1.1.2.6.2.3">i</mi></msubsup><mo fence="false" rspace="0.167em" stretchy="false" id="S3.Ex4.m1.1.2.6.3">|</mo><msubsup id="S3.Ex4.m1.1.2.6.4"><mi id="S3.Ex4.m1.1.2.6.4.2.2">s</mi><mi id="S3.Ex4.m1.1.2.6.4.2.3">t</mi><mi id="S3.Ex4.m1.1.2.6.4.3">i</mi></msubsup><mo stretchy="false" id="S3.Ex4.m1.1.2.6.5">)</mo></mrow><mo id="S3.Ex4.m1.1.2.7">−</mo><msub id="S3.Ex4.m1.1.2.8"><mo rspace="0.167em" id="S3.Ex4.m1.1.2.8.2">∇</mo><msubsup id="S3.Ex4.m1.1.2.8.3"><mi id="S3.Ex4.m1.1.2.8.3.2.2">a</mi><mi id="S3.Ex4.m1.1.2.8.3.2.3">t</mi><mi id="S3.Ex4.m1.1.2.8.3.3">i</mi></msubsup></msub><mi id="S3.Ex4.m1.1.2.9">Q</mi><mrow id="S3.Ex4.m1.1.2.10"><mo stretchy="false" id="S3.Ex4.m1.1.2.10.1">(</mo><msubsup id="S3.Ex4.m1.1.2.10.2"><mi id="S3.Ex4.m1.1.2.10.2.2.2">s</mi><mi id="S3.Ex4.m1.1.2.10.2.2.3">t</mi><mi id="S3.Ex4.m1.1.2.10.2.3">i</mi></msubsup><mo id="S3.Ex4.m1.1.2.10.3">,</mo><msubsup id="S3.Ex4.m1.1.2.10.4"><mi id="S3.Ex4.m1.1.2.10.4.2.2">a</mi><mi id="S3.Ex4.m1.1.2.10.4.2.3">t</mi><mi id="S3.Ex4.m1.1.2.10.4.3">i</mi></msubsup><mo stretchy="false" id="S3.Ex4.m1.1.2.10.5">)</mo></mrow><mrow id="S3.Ex4.m1.1.2.11"><mo lspace="0em" mathsize="120%" rspace="0em" id="S3.Ex4.m1.1.2.11.1">)</mo><msub id="S3.Ex4.m1.1.2.11.2"><mo rspace="0.167em" id="S3.Ex4.m1.1.2.11.2.2">∇</mo><msub id="S3.Ex4.m1.1.2.11.2.3"><mi id="S3.Ex4.m1.1.2.11.2.3.2">ϕ</mi><mi id="S3.Ex4.m1.1.2.11.2.3.3">i</mi></msub></msub><msub id="S3.Ex4.m1.1.2.11.3"><mi id="S3.Ex4.m1.1.2.11.3.2">f</mi><msub id="S3.Ex4.m1.1.2.11.3.3"><mi id="S3.Ex4.m1.1.2.11.3.3.2">ϕ</mi><mi id="S3.Ex4.m1.1.2.11.3.3.3">i</mi></msub></msub><mrow id="S3.Ex4.m1.1.2.11.4"><mo stretchy="false" id="S3.Ex4.m1.1.2.11.4.1">(</mo><msubsup id="S3.Ex4.m1.1.2.11.4.2"><mi id="S3.Ex4.m1.1.2.11.4.2.2.2">κ</mi><mi id="S3.Ex4.m1.1.2.11.4.2.2.3">t</mi><mi id="S3.Ex4.m1.1.2.11.4.2.3">i</mi></msubsup><mo id="S3.Ex4.m1.1.2.11.4.3">;</mo><msubsup id="S3.Ex4.m1.1.2.11.4.4"><mi id="S3.Ex4.m1.1.2.11.4.4.2.2">s</mi><mi id="S3.Ex4.m1.1.2.11.4.4.2.3">t</mi><mi id="S3.Ex4.m1.1.2.11.4.4.3">i</mi></msubsup><mo stretchy="false" id="S3.Ex4.m1.1.2.11.4.5">)</mo></mrow><mo lspace="0em" id="S3.Ex4.m1.1.2.11.5">.</mo></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S3.Ex4.m1.1c">\displaystyle+\bigl{(}\nabla_{a_{t}^{i}}\alpha_{i}\log\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})-\nabla_{a_{t}^{i}}Q(s_{t}^{i},a_{t}^{i})\bigl{)}\nabla_{\phi_{i}}f_{\phi_{i}}(\kappa_{t}^{i};s_{t}^{i}).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="Thmremark1" class="ltx_theorem ltx_theorem_remark">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="Thmremark1.1.1.1" class="ltx_text ltx_font_bold">Remark 1</span></span><span id="Thmremark1.2.2" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="Thmremark1.p1" class="ltx_para">
<p id="Thmremark1.p1.4" class="ltx_p"><span id="Thmremark1.p1.4.4" class="ltx_text ltx_font_italic">In practice, we use two parameterized soft Q-function <math id="Thmremark1.p1.1.1.m1.2" class="ltx_Math" alttext="Q_{\theta_{i}^{k}}(s_{t}^{i},a_{t}^{i})" display="inline"><semantics id="Thmremark1.p1.1.1.m1.2a"><mrow id="Thmremark1.p1.1.1.m1.2.2" xref="Thmremark1.p1.1.1.m1.2.2.cmml"><msub id="Thmremark1.p1.1.1.m1.2.2.4" xref="Thmremark1.p1.1.1.m1.2.2.4.cmml"><mi id="Thmremark1.p1.1.1.m1.2.2.4.2" xref="Thmremark1.p1.1.1.m1.2.2.4.2.cmml">Q</mi><msubsup id="Thmremark1.p1.1.1.m1.2.2.4.3" xref="Thmremark1.p1.1.1.m1.2.2.4.3.cmml"><mi id="Thmremark1.p1.1.1.m1.2.2.4.3.2.2" xref="Thmremark1.p1.1.1.m1.2.2.4.3.2.2.cmml">θ</mi><mi id="Thmremark1.p1.1.1.m1.2.2.4.3.2.3" xref="Thmremark1.p1.1.1.m1.2.2.4.3.2.3.cmml">i</mi><mi id="Thmremark1.p1.1.1.m1.2.2.4.3.3" xref="Thmremark1.p1.1.1.m1.2.2.4.3.3.cmml">k</mi></msubsup></msub><mo lspace="0em" rspace="0em" id="Thmremark1.p1.1.1.m1.2.2.3" xref="Thmremark1.p1.1.1.m1.2.2.3.cmml">​</mo><mrow id="Thmremark1.p1.1.1.m1.2.2.2.2" xref="Thmremark1.p1.1.1.m1.2.2.2.3.cmml"><mo stretchy="false" id="Thmremark1.p1.1.1.m1.2.2.2.2.3" xref="Thmremark1.p1.1.1.m1.2.2.2.3.cmml">(</mo><msubsup id="Thmremark1.p1.1.1.m1.1.1.1.1.1" xref="Thmremark1.p1.1.1.m1.1.1.1.1.1.cmml"><mi id="Thmremark1.p1.1.1.m1.1.1.1.1.1.2.2" xref="Thmremark1.p1.1.1.m1.1.1.1.1.1.2.2.cmml">s</mi><mi id="Thmremark1.p1.1.1.m1.1.1.1.1.1.2.3" xref="Thmremark1.p1.1.1.m1.1.1.1.1.1.2.3.cmml">t</mi><mi id="Thmremark1.p1.1.1.m1.1.1.1.1.1.3" xref="Thmremark1.p1.1.1.m1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo id="Thmremark1.p1.1.1.m1.2.2.2.2.4" xref="Thmremark1.p1.1.1.m1.2.2.2.3.cmml">,</mo><msubsup id="Thmremark1.p1.1.1.m1.2.2.2.2.2" xref="Thmremark1.p1.1.1.m1.2.2.2.2.2.cmml"><mi id="Thmremark1.p1.1.1.m1.2.2.2.2.2.2.2" xref="Thmremark1.p1.1.1.m1.2.2.2.2.2.2.2.cmml">a</mi><mi id="Thmremark1.p1.1.1.m1.2.2.2.2.2.2.3" xref="Thmremark1.p1.1.1.m1.2.2.2.2.2.2.3.cmml">t</mi><mi id="Thmremark1.p1.1.1.m1.2.2.2.2.2.3" xref="Thmremark1.p1.1.1.m1.2.2.2.2.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="Thmremark1.p1.1.1.m1.2.2.2.2.5" xref="Thmremark1.p1.1.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmremark1.p1.1.1.m1.2b"><apply id="Thmremark1.p1.1.1.m1.2.2.cmml" xref="Thmremark1.p1.1.1.m1.2.2"><times id="Thmremark1.p1.1.1.m1.2.2.3.cmml" xref="Thmremark1.p1.1.1.m1.2.2.3"></times><apply id="Thmremark1.p1.1.1.m1.2.2.4.cmml" xref="Thmremark1.p1.1.1.m1.2.2.4"><csymbol cd="ambiguous" id="Thmremark1.p1.1.1.m1.2.2.4.1.cmml" xref="Thmremark1.p1.1.1.m1.2.2.4">subscript</csymbol><ci id="Thmremark1.p1.1.1.m1.2.2.4.2.cmml" xref="Thmremark1.p1.1.1.m1.2.2.4.2">𝑄</ci><apply id="Thmremark1.p1.1.1.m1.2.2.4.3.cmml" xref="Thmremark1.p1.1.1.m1.2.2.4.3"><csymbol cd="ambiguous" id="Thmremark1.p1.1.1.m1.2.2.4.3.1.cmml" xref="Thmremark1.p1.1.1.m1.2.2.4.3">superscript</csymbol><apply id="Thmremark1.p1.1.1.m1.2.2.4.3.2.cmml" xref="Thmremark1.p1.1.1.m1.2.2.4.3"><csymbol cd="ambiguous" id="Thmremark1.p1.1.1.m1.2.2.4.3.2.1.cmml" xref="Thmremark1.p1.1.1.m1.2.2.4.3">subscript</csymbol><ci id="Thmremark1.p1.1.1.m1.2.2.4.3.2.2.cmml" xref="Thmremark1.p1.1.1.m1.2.2.4.3.2.2">𝜃</ci><ci id="Thmremark1.p1.1.1.m1.2.2.4.3.2.3.cmml" xref="Thmremark1.p1.1.1.m1.2.2.4.3.2.3">𝑖</ci></apply><ci id="Thmremark1.p1.1.1.m1.2.2.4.3.3.cmml" xref="Thmremark1.p1.1.1.m1.2.2.4.3.3">𝑘</ci></apply></apply><interval closure="open" id="Thmremark1.p1.1.1.m1.2.2.2.3.cmml" xref="Thmremark1.p1.1.1.m1.2.2.2.2"><apply id="Thmremark1.p1.1.1.m1.1.1.1.1.1.cmml" xref="Thmremark1.p1.1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="Thmremark1.p1.1.1.m1.1.1.1.1.1.1.cmml" xref="Thmremark1.p1.1.1.m1.1.1.1.1.1">superscript</csymbol><apply id="Thmremark1.p1.1.1.m1.1.1.1.1.1.2.cmml" xref="Thmremark1.p1.1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="Thmremark1.p1.1.1.m1.1.1.1.1.1.2.1.cmml" xref="Thmremark1.p1.1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="Thmremark1.p1.1.1.m1.1.1.1.1.1.2.2.cmml" xref="Thmremark1.p1.1.1.m1.1.1.1.1.1.2.2">𝑠</ci><ci id="Thmremark1.p1.1.1.m1.1.1.1.1.1.2.3.cmml" xref="Thmremark1.p1.1.1.m1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="Thmremark1.p1.1.1.m1.1.1.1.1.1.3.cmml" xref="Thmremark1.p1.1.1.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="Thmremark1.p1.1.1.m1.2.2.2.2.2.cmml" xref="Thmremark1.p1.1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="Thmremark1.p1.1.1.m1.2.2.2.2.2.1.cmml" xref="Thmremark1.p1.1.1.m1.2.2.2.2.2">superscript</csymbol><apply id="Thmremark1.p1.1.1.m1.2.2.2.2.2.2.cmml" xref="Thmremark1.p1.1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="Thmremark1.p1.1.1.m1.2.2.2.2.2.2.1.cmml" xref="Thmremark1.p1.1.1.m1.2.2.2.2.2">subscript</csymbol><ci id="Thmremark1.p1.1.1.m1.2.2.2.2.2.2.2.cmml" xref="Thmremark1.p1.1.1.m1.2.2.2.2.2.2.2">𝑎</ci><ci id="Thmremark1.p1.1.1.m1.2.2.2.2.2.2.3.cmml" xref="Thmremark1.p1.1.1.m1.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="Thmremark1.p1.1.1.m1.2.2.2.2.2.3.cmml" xref="Thmremark1.p1.1.1.m1.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremark1.p1.1.1.m1.2c">Q_{\theta_{i}^{k}}(s_{t}^{i},a_{t}^{i})</annotation></semantics></math> and two parameterized soft state value function <math id="Thmremark1.p1.2.2.m2.1" class="ltx_Math" alttext="V_{\bar{\theta}_{i}^{k}}(s_{t+1}^{i})" display="inline"><semantics id="Thmremark1.p1.2.2.m2.1a"><mrow id="Thmremark1.p1.2.2.m2.1.1" xref="Thmremark1.p1.2.2.m2.1.1.cmml"><msub id="Thmremark1.p1.2.2.m2.1.1.3" xref="Thmremark1.p1.2.2.m2.1.1.3.cmml"><mi id="Thmremark1.p1.2.2.m2.1.1.3.2" xref="Thmremark1.p1.2.2.m2.1.1.3.2.cmml">V</mi><msubsup id="Thmremark1.p1.2.2.m2.1.1.3.3" xref="Thmremark1.p1.2.2.m2.1.1.3.3.cmml"><mover accent="true" id="Thmremark1.p1.2.2.m2.1.1.3.3.2.2" xref="Thmremark1.p1.2.2.m2.1.1.3.3.2.2.cmml"><mi id="Thmremark1.p1.2.2.m2.1.1.3.3.2.2.2" xref="Thmremark1.p1.2.2.m2.1.1.3.3.2.2.2.cmml">θ</mi><mo id="Thmremark1.p1.2.2.m2.1.1.3.3.2.2.1" xref="Thmremark1.p1.2.2.m2.1.1.3.3.2.2.1.cmml">¯</mo></mover><mi id="Thmremark1.p1.2.2.m2.1.1.3.3.2.3" xref="Thmremark1.p1.2.2.m2.1.1.3.3.2.3.cmml">i</mi><mi id="Thmremark1.p1.2.2.m2.1.1.3.3.3" xref="Thmremark1.p1.2.2.m2.1.1.3.3.3.cmml">k</mi></msubsup></msub><mo lspace="0em" rspace="0em" id="Thmremark1.p1.2.2.m2.1.1.2" xref="Thmremark1.p1.2.2.m2.1.1.2.cmml">​</mo><mrow id="Thmremark1.p1.2.2.m2.1.1.1.1" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="Thmremark1.p1.2.2.m2.1.1.1.1.2" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.cmml">(</mo><msubsup id="Thmremark1.p1.2.2.m2.1.1.1.1.1" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.cmml"><mi id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.2" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.2.cmml">s</mi><mrow id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.cmml"><mi id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.2" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.2.cmml">t</mi><mo id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.1" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.1.cmml">+</mo><mn id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.3" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="Thmremark1.p1.2.2.m2.1.1.1.1.1.3" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="Thmremark1.p1.2.2.m2.1.1.1.1.3" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmremark1.p1.2.2.m2.1b"><apply id="Thmremark1.p1.2.2.m2.1.1.cmml" xref="Thmremark1.p1.2.2.m2.1.1"><times id="Thmremark1.p1.2.2.m2.1.1.2.cmml" xref="Thmremark1.p1.2.2.m2.1.1.2"></times><apply id="Thmremark1.p1.2.2.m2.1.1.3.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3"><csymbol cd="ambiguous" id="Thmremark1.p1.2.2.m2.1.1.3.1.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3">subscript</csymbol><ci id="Thmremark1.p1.2.2.m2.1.1.3.2.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3.2">𝑉</ci><apply id="Thmremark1.p1.2.2.m2.1.1.3.3.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="Thmremark1.p1.2.2.m2.1.1.3.3.1.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3.3">superscript</csymbol><apply id="Thmremark1.p1.2.2.m2.1.1.3.3.2.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="Thmremark1.p1.2.2.m2.1.1.3.3.2.1.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3.3">subscript</csymbol><apply id="Thmremark1.p1.2.2.m2.1.1.3.3.2.2.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3.3.2.2"><ci id="Thmremark1.p1.2.2.m2.1.1.3.3.2.2.1.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3.3.2.2.1">¯</ci><ci id="Thmremark1.p1.2.2.m2.1.1.3.3.2.2.2.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3.3.2.2.2">𝜃</ci></apply><ci id="Thmremark1.p1.2.2.m2.1.1.3.3.2.3.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3.3.2.3">𝑖</ci></apply><ci id="Thmremark1.p1.2.2.m2.1.1.3.3.3.cmml" xref="Thmremark1.p1.2.2.m2.1.1.3.3.3">𝑘</ci></apply></apply><apply id="Thmremark1.p1.2.2.m2.1.1.1.1.1.cmml" xref="Thmremark1.p1.2.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="Thmremark1.p1.2.2.m2.1.1.1.1.1.1.cmml" xref="Thmremark1.p1.2.2.m2.1.1.1.1">superscript</csymbol><apply id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.cmml" xref="Thmremark1.p1.2.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.1.cmml" xref="Thmremark1.p1.2.2.m2.1.1.1.1">subscript</csymbol><ci id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.2.cmml" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.2">𝑠</ci><apply id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.cmml" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3"><plus id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.1.cmml" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.1"></plus><ci id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.2.cmml" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.3.cmml" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.2.3.3">1</cn></apply></apply><ci id="Thmremark1.p1.2.2.m2.1.1.1.1.1.3.cmml" xref="Thmremark1.p1.2.2.m2.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremark1.p1.2.2.m2.1c">V_{\bar{\theta}_{i}^{k}}(s_{t+1}^{i})</annotation></semantics></math>, where <math id="Thmremark1.p1.3.3.m3.2" class="ltx_Math" alttext="k=\{1,2\}" display="inline"><semantics id="Thmremark1.p1.3.3.m3.2a"><mrow id="Thmremark1.p1.3.3.m3.2.3" xref="Thmremark1.p1.3.3.m3.2.3.cmml"><mi id="Thmremark1.p1.3.3.m3.2.3.2" xref="Thmremark1.p1.3.3.m3.2.3.2.cmml">k</mi><mo id="Thmremark1.p1.3.3.m3.2.3.1" xref="Thmremark1.p1.3.3.m3.2.3.1.cmml">=</mo><mrow id="Thmremark1.p1.3.3.m3.2.3.3.2" xref="Thmremark1.p1.3.3.m3.2.3.3.1.cmml"><mo stretchy="false" id="Thmremark1.p1.3.3.m3.2.3.3.2.1" xref="Thmremark1.p1.3.3.m3.2.3.3.1.cmml">{</mo><mn id="Thmremark1.p1.3.3.m3.1.1" xref="Thmremark1.p1.3.3.m3.1.1.cmml">1</mn><mo id="Thmremark1.p1.3.3.m3.2.3.3.2.2" xref="Thmremark1.p1.3.3.m3.2.3.3.1.cmml">,</mo><mn id="Thmremark1.p1.3.3.m3.2.2" xref="Thmremark1.p1.3.3.m3.2.2.cmml">2</mn><mo stretchy="false" id="Thmremark1.p1.3.3.m3.2.3.3.2.3" xref="Thmremark1.p1.3.3.m3.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmremark1.p1.3.3.m3.2b"><apply id="Thmremark1.p1.3.3.m3.2.3.cmml" xref="Thmremark1.p1.3.3.m3.2.3"><eq id="Thmremark1.p1.3.3.m3.2.3.1.cmml" xref="Thmremark1.p1.3.3.m3.2.3.1"></eq><ci id="Thmremark1.p1.3.3.m3.2.3.2.cmml" xref="Thmremark1.p1.3.3.m3.2.3.2">𝑘</ci><set id="Thmremark1.p1.3.3.m3.2.3.3.1.cmml" xref="Thmremark1.p1.3.3.m3.2.3.3.2"><cn type="integer" id="Thmremark1.p1.3.3.m3.1.1.cmml" xref="Thmremark1.p1.3.3.m3.1.1">1</cn><cn type="integer" id="Thmremark1.p1.3.3.m3.2.2.cmml" xref="Thmremark1.p1.3.3.m3.2.2">2</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremark1.p1.3.3.m3.2c">k=\{1,2\}</annotation></semantics></math> to mitigate positive bias. For the critic network <math id="Thmremark1.p1.4.4.m4.1" class="ltx_Math" alttext="Q_{\theta_{i}^{k}}" display="inline"><semantics id="Thmremark1.p1.4.4.m4.1a"><msub id="Thmremark1.p1.4.4.m4.1.1" xref="Thmremark1.p1.4.4.m4.1.1.cmml"><mi id="Thmremark1.p1.4.4.m4.1.1.2" xref="Thmremark1.p1.4.4.m4.1.1.2.cmml">Q</mi><msubsup id="Thmremark1.p1.4.4.m4.1.1.3" xref="Thmremark1.p1.4.4.m4.1.1.3.cmml"><mi id="Thmremark1.p1.4.4.m4.1.1.3.2.2" xref="Thmremark1.p1.4.4.m4.1.1.3.2.2.cmml">θ</mi><mi id="Thmremark1.p1.4.4.m4.1.1.3.2.3" xref="Thmremark1.p1.4.4.m4.1.1.3.2.3.cmml">i</mi><mi id="Thmremark1.p1.4.4.m4.1.1.3.3" xref="Thmremark1.p1.4.4.m4.1.1.3.3.cmml">k</mi></msubsup></msub><annotation-xml encoding="MathML-Content" id="Thmremark1.p1.4.4.m4.1b"><apply id="Thmremark1.p1.4.4.m4.1.1.cmml" xref="Thmremark1.p1.4.4.m4.1.1"><csymbol cd="ambiguous" id="Thmremark1.p1.4.4.m4.1.1.1.cmml" xref="Thmremark1.p1.4.4.m4.1.1">subscript</csymbol><ci id="Thmremark1.p1.4.4.m4.1.1.2.cmml" xref="Thmremark1.p1.4.4.m4.1.1.2">𝑄</ci><apply id="Thmremark1.p1.4.4.m4.1.1.3.cmml" xref="Thmremark1.p1.4.4.m4.1.1.3"><csymbol cd="ambiguous" id="Thmremark1.p1.4.4.m4.1.1.3.1.cmml" xref="Thmremark1.p1.4.4.m4.1.1.3">superscript</csymbol><apply id="Thmremark1.p1.4.4.m4.1.1.3.2.cmml" xref="Thmremark1.p1.4.4.m4.1.1.3"><csymbol cd="ambiguous" id="Thmremark1.p1.4.4.m4.1.1.3.2.1.cmml" xref="Thmremark1.p1.4.4.m4.1.1.3">subscript</csymbol><ci id="Thmremark1.p1.4.4.m4.1.1.3.2.2.cmml" xref="Thmremark1.p1.4.4.m4.1.1.3.2.2">𝜃</ci><ci id="Thmremark1.p1.4.4.m4.1.1.3.2.3.cmml" xref="Thmremark1.p1.4.4.m4.1.1.3.2.3">𝑖</ci></apply><ci id="Thmremark1.p1.4.4.m4.1.1.3.3.cmml" xref="Thmremark1.p1.4.4.m4.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremark1.p1.4.4.m4.1c">Q_{\theta_{i}^{k}}</annotation></semantics></math>, the gradient is calculated as follows</span></p>
<table id="S3.E14" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E14.m1.2" class="ltx_math_unparsed" alttext="\mathcal{J}_{Q}(\theta_{i}^{k})=\mathbb{E}_{(s_{t}^{i},a_{t}^{i})\sim\mathcal{D}_{i}}\biggr{[}\frac{1}{2}\Bigl{(}Q_{\theta_{i}^{k}}(s_{t}^{i},a_{t}^{i})-{Q}_{\min}\Bigl{)}^{2}\biggr{]}," display="block"><semantics id="S3.E14.m1.2a"><mrow id="S3.E14.m1.2b"><msub id="S3.E14.m1.2.3"><mi class="ltx_font_mathcaligraphic" id="S3.E14.m1.2.3.2">𝒥</mi><mi id="S3.E14.m1.2.3.3">Q</mi></msub><mrow id="S3.E14.m1.2.4"><mo stretchy="false" id="S3.E14.m1.2.4.1">(</mo><msubsup id="S3.E14.m1.2.4.2"><mi id="S3.E14.m1.2.4.2.2.2">θ</mi><mi id="S3.E14.m1.2.4.2.2.3">i</mi><mi id="S3.E14.m1.2.4.2.3">k</mi></msubsup><mo stretchy="false" id="S3.E14.m1.2.4.3">)</mo></mrow><mo id="S3.E14.m1.2.5">=</mo><msub id="S3.E14.m1.2.6"><mi id="S3.E14.m1.2.6.2">𝔼</mi><mrow id="S3.E14.m1.2.2.2"><mrow id="S3.E14.m1.2.2.2.2.2"><mo stretchy="false" id="S3.E14.m1.2.2.2.2.2.3">(</mo><msubsup id="S3.E14.m1.1.1.1.1.1.1"><mi id="S3.E14.m1.1.1.1.1.1.1.2.2">s</mi><mi id="S3.E14.m1.1.1.1.1.1.1.2.3">t</mi><mi id="S3.E14.m1.1.1.1.1.1.1.3">i</mi></msubsup><mo id="S3.E14.m1.2.2.2.2.2.4">,</mo><msubsup id="S3.E14.m1.2.2.2.2.2.2"><mi id="S3.E14.m1.2.2.2.2.2.2.2.2">a</mi><mi id="S3.E14.m1.2.2.2.2.2.2.2.3">t</mi><mi id="S3.E14.m1.2.2.2.2.2.2.3">i</mi></msubsup><mo stretchy="false" id="S3.E14.m1.2.2.2.2.2.5">)</mo></mrow><mo id="S3.E14.m1.2.2.2.3">∼</mo><msub id="S3.E14.m1.2.2.2.4"><mi class="ltx_font_mathcaligraphic" id="S3.E14.m1.2.2.2.4.2">𝒟</mi><mi id="S3.E14.m1.2.2.2.4.3">i</mi></msub></mrow></msub><mo lspace="0em" mathsize="210%" rspace="0em" id="S3.E14.m1.2.7">[</mo><mfrac id="S3.E14.m1.2.8"><mn id="S3.E14.m1.2.8.2">1</mn><mn id="S3.E14.m1.2.8.3">2</mn></mfrac><mo maxsize="160%" minsize="160%" id="S3.E14.m1.2.9">(</mo><msub id="S3.E14.m1.2.10"><mi id="S3.E14.m1.2.10.2">Q</mi><msubsup id="S3.E14.m1.2.10.3"><mi id="S3.E14.m1.2.10.3.2.2">θ</mi><mi id="S3.E14.m1.2.10.3.2.3">i</mi><mi id="S3.E14.m1.2.10.3.3">k</mi></msubsup></msub><mrow id="S3.E14.m1.2.11"><mo stretchy="false" id="S3.E14.m1.2.11.1">(</mo><msubsup id="S3.E14.m1.2.11.2"><mi id="S3.E14.m1.2.11.2.2.2">s</mi><mi id="S3.E14.m1.2.11.2.2.3">t</mi><mi id="S3.E14.m1.2.11.2.3">i</mi></msubsup><mo id="S3.E14.m1.2.11.3">,</mo><msubsup id="S3.E14.m1.2.11.4"><mi id="S3.E14.m1.2.11.4.2.2">a</mi><mi id="S3.E14.m1.2.11.4.2.3">t</mi><mi id="S3.E14.m1.2.11.4.3">i</mi></msubsup><mo stretchy="false" id="S3.E14.m1.2.11.5">)</mo></mrow><mo id="S3.E14.m1.2.12">−</mo><msub id="S3.E14.m1.2.13"><mi id="S3.E14.m1.2.13.2">Q</mi><mi id="S3.E14.m1.2.13.3">min</mi></msub><mrow id="S3.E14.m1.2.14"><msup id="S3.E14.m1.2.14.1"><mo lspace="0em" mathsize="160%" rspace="0em" id="S3.E14.m1.2.14.1.2">)</mo><mn id="S3.E14.m1.2.14.1.3">2</mn></msup><mo maxsize="210%" minsize="210%" id="S3.E14.m1.2.14.2">]</mo></mrow><mo id="S3.E14.m1.2.15">,</mo></mrow><annotation encoding="application/x-tex" id="S3.E14.m1.2c">\mathcal{J}_{Q}(\theta_{i}^{k})=\mathbb{E}_{(s_{t}^{i},a_{t}^{i})\sim\mathcal{D}_{i}}\biggr{[}\frac{1}{2}\Bigl{(}Q_{\theta_{i}^{k}}(s_{t}^{i},a_{t}^{i})-{Q}_{\min}\Bigl{)}^{2}\biggr{]},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(14)</span></td>
</tr></tbody>
</table>
<p id="Thmremark1.p1.5" class="ltx_p"><span id="Thmremark1.p1.5.1" class="ltx_text ltx_font_italic">where <math id="Thmremark1.p1.5.1.m1.1" class="ltx_Math" alttext="Q_{\min}" display="inline"><semantics id="Thmremark1.p1.5.1.m1.1a"><msub id="Thmremark1.p1.5.1.m1.1.1" xref="Thmremark1.p1.5.1.m1.1.1.cmml"><mi id="Thmremark1.p1.5.1.m1.1.1.2" xref="Thmremark1.p1.5.1.m1.1.1.2.cmml">Q</mi><mi id="Thmremark1.p1.5.1.m1.1.1.3" xref="Thmremark1.p1.5.1.m1.1.1.3.cmml">min</mi></msub><annotation-xml encoding="MathML-Content" id="Thmremark1.p1.5.1.m1.1b"><apply id="Thmremark1.p1.5.1.m1.1.1.cmml" xref="Thmremark1.p1.5.1.m1.1.1"><csymbol cd="ambiguous" id="Thmremark1.p1.5.1.m1.1.1.1.cmml" xref="Thmremark1.p1.5.1.m1.1.1">subscript</csymbol><ci id="Thmremark1.p1.5.1.m1.1.1.2.cmml" xref="Thmremark1.p1.5.1.m1.1.1.2">𝑄</ci><min id="Thmremark1.p1.5.1.m1.1.1.3.cmml" xref="Thmremark1.p1.5.1.m1.1.1.3"></min></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremark1.p1.5.1.m1.1c">Q_{\min}</annotation></semantics></math> satisfies</span></p>
<table id="S3.E15" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E15.m1.2" class="ltx_math_unparsed" alttext="Q_{\min}=r_{t}(s_{t}^{i},a_{t}^{i})+\gamma\min_{k=1,2}\mathbb{E}_{s^{i}_{t+1}\sim p_{i}}\bigr{[}V_{\bar{\theta}_{i}^{k}}(s_{t+1}^{i})\bigr{]}." display="block"><semantics id="S3.E15.m1.2a"><mrow id="S3.E15.m1.2b"><mrow id="S3.E15.m1.2.3"><msub id="S3.E15.m1.2.3.1"><mi id="S3.E15.m1.2.3.1.2">Q</mi><mi id="S3.E15.m1.2.3.1.3">min</mi></msub><mo id="S3.E15.m1.2.3.2">=</mo><msub id="S3.E15.m1.2.3.3"><mi id="S3.E15.m1.2.3.3.2">r</mi><mi id="S3.E15.m1.2.3.3.3">t</mi></msub><mrow id="S3.E15.m1.2.3.4"><mo stretchy="false" id="S3.E15.m1.2.3.4.1">(</mo><msubsup id="S3.E15.m1.2.3.4.2"><mi id="S3.E15.m1.2.3.4.2.2.2">s</mi><mi id="S3.E15.m1.2.3.4.2.2.3">t</mi><mi id="S3.E15.m1.2.3.4.2.3">i</mi></msubsup><mo id="S3.E15.m1.2.3.4.3">,</mo><msubsup id="S3.E15.m1.2.3.4.4"><mi id="S3.E15.m1.2.3.4.4.2.2">a</mi><mi id="S3.E15.m1.2.3.4.4.2.3">t</mi><mi id="S3.E15.m1.2.3.4.4.3">i</mi></msubsup><mo stretchy="false" id="S3.E15.m1.2.3.4.5">)</mo></mrow><mo id="S3.E15.m1.2.3.5">+</mo><mi id="S3.E15.m1.2.3.6">γ</mi><munder id="S3.E15.m1.2.3.7"><mi id="S3.E15.m1.2.3.7.2">min</mi><mrow id="S3.E15.m1.2.2.2"><mi id="S3.E15.m1.2.2.2.4">k</mi><mo id="S3.E15.m1.2.2.2.3">=</mo><mrow id="S3.E15.m1.2.2.2.5.2"><mn id="S3.E15.m1.1.1.1.1">1</mn><mo id="S3.E15.m1.2.2.2.5.2.1">,</mo><mn id="S3.E15.m1.2.2.2.2">2</mn></mrow></mrow></munder><msub id="S3.E15.m1.2.3.8"><mi id="S3.E15.m1.2.3.8.2">𝔼</mi><mrow id="S3.E15.m1.2.3.8.3"><msubsup id="S3.E15.m1.2.3.8.3.2"><mi id="S3.E15.m1.2.3.8.3.2.2.2">s</mi><mrow id="S3.E15.m1.2.3.8.3.2.3"><mi id="S3.E15.m1.2.3.8.3.2.3.2">t</mi><mo id="S3.E15.m1.2.3.8.3.2.3.1">+</mo><mn id="S3.E15.m1.2.3.8.3.2.3.3">1</mn></mrow><mi id="S3.E15.m1.2.3.8.3.2.2.3">i</mi></msubsup><mo id="S3.E15.m1.2.3.8.3.1">∼</mo><msub id="S3.E15.m1.2.3.8.3.3"><mi id="S3.E15.m1.2.3.8.3.3.2">p</mi><mi id="S3.E15.m1.2.3.8.3.3.3">i</mi></msub></mrow></msub><mo lspace="0em" mathsize="120%" rspace="0em" id="S3.E15.m1.2.3.9">[</mo></mrow><msub id="S3.E15.m1.2.4"><mi id="S3.E15.m1.2.4.2">V</mi><msubsup id="S3.E15.m1.2.4.3"><mover accent="true" id="S3.E15.m1.2.4.3.2.2"><mi id="S3.E15.m1.2.4.3.2.2.2">θ</mi><mo id="S3.E15.m1.2.4.3.2.2.1">¯</mo></mover><mi id="S3.E15.m1.2.4.3.2.3">i</mi><mi id="S3.E15.m1.2.4.3.3">k</mi></msubsup></msub><mrow id="S3.E15.m1.2.5"><mo stretchy="false" id="S3.E15.m1.2.5.1">(</mo><msubsup id="S3.E15.m1.2.5.2"><mi id="S3.E15.m1.2.5.2.2.2">s</mi><mrow id="S3.E15.m1.2.5.2.2.3"><mi id="S3.E15.m1.2.5.2.2.3.2">t</mi><mo id="S3.E15.m1.2.5.2.2.3.1">+</mo><mn id="S3.E15.m1.2.5.2.2.3.3">1</mn></mrow><mi id="S3.E15.m1.2.5.2.3">i</mi></msubsup><mo stretchy="false" id="S3.E15.m1.2.5.3">)</mo></mrow><mo maxsize="120%" minsize="120%" id="S3.E15.m1.2.6">]</mo><mo lspace="0em" id="S3.E15.m1.2.7">.</mo></mrow><annotation encoding="application/x-tex" id="S3.E15.m1.2c">Q_{\min}=r_{t}(s_{t}^{i},a_{t}^{i})+\gamma\min_{k=1,2}\mathbb{E}_{s^{i}_{t+1}\sim p_{i}}\bigr{[}V_{\bar{\theta}_{i}^{k}}(s_{t+1}^{i})\bigr{]}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(15)</span></td>
</tr></tbody>
</table>
<p id="Thmremark1.p1.6" class="ltx_p"><span id="Thmremark1.p1.6.1" class="ltx_text ltx_font_italic">Besides, a parameterized Gaussian policy network <math id="Thmremark1.p1.6.1.m1.1" class="ltx_Math" alttext="\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})" display="inline"><semantics id="Thmremark1.p1.6.1.m1.1a"><mrow id="Thmremark1.p1.6.1.m1.1.1" xref="Thmremark1.p1.6.1.m1.1.1.cmml"><msub id="Thmremark1.p1.6.1.m1.1.1.3" xref="Thmremark1.p1.6.1.m1.1.1.3.cmml"><mi id="Thmremark1.p1.6.1.m1.1.1.3.2" xref="Thmremark1.p1.6.1.m1.1.1.3.2.cmml">π</mi><msub id="Thmremark1.p1.6.1.m1.1.1.3.3" xref="Thmremark1.p1.6.1.m1.1.1.3.3.cmml"><mi id="Thmremark1.p1.6.1.m1.1.1.3.3.2" xref="Thmremark1.p1.6.1.m1.1.1.3.3.2.cmml">ϕ</mi><mi id="Thmremark1.p1.6.1.m1.1.1.3.3.3" xref="Thmremark1.p1.6.1.m1.1.1.3.3.3.cmml">i</mi></msub></msub><mo lspace="0em" rspace="0em" id="Thmremark1.p1.6.1.m1.1.1.2" xref="Thmremark1.p1.6.1.m1.1.1.2.cmml">​</mo><mrow id="Thmremark1.p1.6.1.m1.1.1.1.1" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="Thmremark1.p1.6.1.m1.1.1.1.1.2" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="Thmremark1.p1.6.1.m1.1.1.1.1.1" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.cmml"><msubsup id="Thmremark1.p1.6.1.m1.1.1.1.1.1.2" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.cmml"><mi id="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.2.2" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.2.2.cmml">a</mi><mi id="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.2.3" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.2.3.cmml">t</mi><mi id="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.3" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.3.cmml">i</mi></msubsup><mo fence="false" id="Thmremark1.p1.6.1.m1.1.1.1.1.1.1" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.1.cmml">|</mo><msubsup id="Thmremark1.p1.6.1.m1.1.1.1.1.1.3" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.cmml"><mi id="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.2.2" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.2.2.cmml">s</mi><mi id="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.2.3" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.2.3.cmml">t</mi><mi id="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.3" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.3.cmml">i</mi></msubsup></mrow><mo stretchy="false" id="Thmremark1.p1.6.1.m1.1.1.1.1.3" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmremark1.p1.6.1.m1.1b"><apply id="Thmremark1.p1.6.1.m1.1.1.cmml" xref="Thmremark1.p1.6.1.m1.1.1"><times id="Thmremark1.p1.6.1.m1.1.1.2.cmml" xref="Thmremark1.p1.6.1.m1.1.1.2"></times><apply id="Thmremark1.p1.6.1.m1.1.1.3.cmml" xref="Thmremark1.p1.6.1.m1.1.1.3"><csymbol cd="ambiguous" id="Thmremark1.p1.6.1.m1.1.1.3.1.cmml" xref="Thmremark1.p1.6.1.m1.1.1.3">subscript</csymbol><ci id="Thmremark1.p1.6.1.m1.1.1.3.2.cmml" xref="Thmremark1.p1.6.1.m1.1.1.3.2">𝜋</ci><apply id="Thmremark1.p1.6.1.m1.1.1.3.3.cmml" xref="Thmremark1.p1.6.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="Thmremark1.p1.6.1.m1.1.1.3.3.1.cmml" xref="Thmremark1.p1.6.1.m1.1.1.3.3">subscript</csymbol><ci id="Thmremark1.p1.6.1.m1.1.1.3.3.2.cmml" xref="Thmremark1.p1.6.1.m1.1.1.3.3.2">italic-ϕ</ci><ci id="Thmremark1.p1.6.1.m1.1.1.3.3.3.cmml" xref="Thmremark1.p1.6.1.m1.1.1.3.3.3">𝑖</ci></apply></apply><apply id="Thmremark1.p1.6.1.m1.1.1.1.1.1.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1"><csymbol cd="latexml" id="Thmremark1.p1.6.1.m1.1.1.1.1.1.1.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.1">conditional</csymbol><apply id="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.1.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.2">superscript</csymbol><apply id="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.2.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.2.1.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.2">subscript</csymbol><ci id="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.2.2.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.2.2">𝑎</ci><ci id="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.2.3.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.2.3">𝑡</ci></apply><ci id="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.3.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.1.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.3">superscript</csymbol><apply id="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.2.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.2.1.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.2.2.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.2.2">𝑠</ci><ci id="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.2.3.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.2.3">𝑡</ci></apply><ci id="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.3.cmml" xref="Thmremark1.p1.6.1.m1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmremark1.p1.6.1.m1.1c">\pi_{\phi_{i}}(a_{t}^{i}|s_{t}^{i})</annotation></semantics></math> is also adopted in order to generate the charging/discharging action. In this way, we can finish the local update process.</span></p>
</div>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption" style="font-size:80%;"><span class="ltx_tag ltx_tag_float"><span id="alg1.4.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Horizontal Federated Reinforcement Learning-Based Approach for EV charging/discharging Control</figcaption>
<div id="alg1.5" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span><span id="alg1.l1.2" class="ltx_text" style="font-size:80%;">  </span><span id="alg1.l1.3" class="ltx_text ltx_font_bold" style="font-size:80%;">Input</span><span id="alg1.l1.4" class="ltx_text" style="font-size:80%;">: </span><math id="alg1.l1.m1.1" class="ltx_Math" alttext="\phi_{i}" display="inline"><semantics id="alg1.l1.m1.1a"><msub id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml">ϕ</mi><mi mathsize="80%" id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1">subscript</csymbol><ci id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2">italic-ϕ</ci><ci id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">\phi_{i}</annotation></semantics></math><span id="alg1.l1.5" class="ltx_text" style="font-size:80%;">, </span><math id="alg1.l1.m2.1" class="ltx_Math" alttext="\theta_{i}^{k}" display="inline"><semantics id="alg1.l1.m2.1a"><msubsup id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml"><mi mathsize="80%" id="alg1.l1.m2.1.1.2.2" xref="alg1.l1.m2.1.1.2.2.cmml">θ</mi><mi mathsize="80%" id="alg1.l1.m2.1.1.2.3" xref="alg1.l1.m2.1.1.2.3.cmml">i</mi><mi mathsize="80%" id="alg1.l1.m2.1.1.3" xref="alg1.l1.m2.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><apply id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1"><csymbol cd="ambiguous" id="alg1.l1.m2.1.1.1.cmml" xref="alg1.l1.m2.1.1">superscript</csymbol><apply id="alg1.l1.m2.1.1.2.cmml" xref="alg1.l1.m2.1.1"><csymbol cd="ambiguous" id="alg1.l1.m2.1.1.2.1.cmml" xref="alg1.l1.m2.1.1">subscript</csymbol><ci id="alg1.l1.m2.1.1.2.2.cmml" xref="alg1.l1.m2.1.1.2.2">𝜃</ci><ci id="alg1.l1.m2.1.1.2.3.cmml" xref="alg1.l1.m2.1.1.2.3">𝑖</ci></apply><ci id="alg1.l1.m2.1.1.3.cmml" xref="alg1.l1.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">\theta_{i}^{k}</annotation></semantics></math><span id="alg1.l1.6" class="ltx_text" style="font-size:80%;">, </span><math id="alg1.l1.m3.1" class="ltx_Math" alttext="\bar{\theta}_{k}^{i}" display="inline"><semantics id="alg1.l1.m3.1a"><msubsup id="alg1.l1.m3.1.1" xref="alg1.l1.m3.1.1.cmml"><mover accent="true" id="alg1.l1.m3.1.1.2.2" xref="alg1.l1.m3.1.1.2.2.cmml"><mi mathsize="80%" id="alg1.l1.m3.1.1.2.2.2" xref="alg1.l1.m3.1.1.2.2.2.cmml">θ</mi><mo mathsize="80%" id="alg1.l1.m3.1.1.2.2.1" xref="alg1.l1.m3.1.1.2.2.1.cmml">¯</mo></mover><mi mathsize="80%" id="alg1.l1.m3.1.1.2.3" xref="alg1.l1.m3.1.1.2.3.cmml">k</mi><mi mathsize="80%" id="alg1.l1.m3.1.1.3" xref="alg1.l1.m3.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l1.m3.1b"><apply id="alg1.l1.m3.1.1.cmml" xref="alg1.l1.m3.1.1"><csymbol cd="ambiguous" id="alg1.l1.m3.1.1.1.cmml" xref="alg1.l1.m3.1.1">superscript</csymbol><apply id="alg1.l1.m3.1.1.2.cmml" xref="alg1.l1.m3.1.1"><csymbol cd="ambiguous" id="alg1.l1.m3.1.1.2.1.cmml" xref="alg1.l1.m3.1.1">subscript</csymbol><apply id="alg1.l1.m3.1.1.2.2.cmml" xref="alg1.l1.m3.1.1.2.2"><ci id="alg1.l1.m3.1.1.2.2.1.cmml" xref="alg1.l1.m3.1.1.2.2.1">¯</ci><ci id="alg1.l1.m3.1.1.2.2.2.cmml" xref="alg1.l1.m3.1.1.2.2.2">𝜃</ci></apply><ci id="alg1.l1.m3.1.1.2.3.cmml" xref="alg1.l1.m3.1.1.2.3">𝑘</ci></apply><ci id="alg1.l1.m3.1.1.3.cmml" xref="alg1.l1.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m3.1c">\bar{\theta}_{k}^{i}</annotation></semantics></math><span id="alg1.l1.7" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span><span id="alg1.l2.2" class="ltx_text" style="font-size:80%;">  </span><span id="alg1.l2.3" class="ltx_text ltx_font_italic" style="font-size:80%;">Local Initialization:</span><span id="alg1.l2.4" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span><span id="alg1.l3.2" class="ltx_text" style="font-size:80%;">  </span><span id="alg1.l3.3" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span><span id="alg1.l3.4" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l3.m1.1" class="ltx_Math" alttext="i=1" display="inline"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">i</mi><mo mathsize="80%" id="alg1.l3.m1.1.1.1" xref="alg1.l3.m1.1.1.1.cmml">=</mo><mn mathsize="80%" id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><eq id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1"></eq><ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">𝑖</ci><cn type="integer" id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">i=1</annotation></semantics></math><span id="alg1.l3.5" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l3.6" class="ltx_text ltx_font_bold" style="font-size:80%;">to</span><span id="alg1.l3.7" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l3.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.l3.m2.1a"><mi mathsize="80%" id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.1b"><ci id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.1c">N</annotation></semantics></math><span id="alg1.l3.8" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l3.9" class="ltx_text ltx_font_bold" style="font-size:80%;">each agent in parallel</span><span id="alg1.l3.10" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l3.11" class="ltx_text ltx_font_bold" style="font-size:80%;">do</span><span id="alg1.l3.12" class="ltx_text" style="font-size:80%;">


</span>
</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span><span id="alg1.l4.2" class="ltx_text" style="font-size:80%;">     Initialize the actor network weights </span><math id="alg1.l4.m1.1" class="ltx_Math" alttext="\phi_{i}" display="inline"><semantics id="alg1.l4.m1.1a"><msub id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">ϕ</mi><mi mathsize="80%" id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1">subscript</csymbol><ci id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2">italic-ϕ</ci><ci id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">\phi_{i}</annotation></semantics></math><span id="alg1.l4.3" class="ltx_text" style="font-size:80%;"> randomly.
</span>
</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span><span id="alg1.l5.2" class="ltx_text" style="font-size:80%;">     Initialize the replay buffer </span><math id="alg1.l5.m1.1" class="ltx_Math" alttext="\mathcal{D}_{i}" display="inline"><semantics id="alg1.l5.m1.1a"><msub id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml">𝒟</mi><mi mathsize="80%" id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><csymbol cd="ambiguous" id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1">subscript</csymbol><ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">𝒟</ci><ci id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">\mathcal{D}_{i}</annotation></semantics></math><span id="alg1.l5.3" class="ltx_text" style="font-size:80%;">.
</span>
</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span><span id="alg1.l6.2" class="ltx_text" style="font-size:80%;">     </span><span id="alg1.l6.3" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span><span id="alg1.l6.4" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l6.m1.1" class="ltx_Math" alttext="k=1" display="inline"><semantics id="alg1.l6.m1.1a"><mrow id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l6.m1.1.1.2" xref="alg1.l6.m1.1.1.2.cmml">k</mi><mo mathsize="80%" id="alg1.l6.m1.1.1.1" xref="alg1.l6.m1.1.1.1.cmml">=</mo><mn mathsize="80%" id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><eq id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1"></eq><ci id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2">𝑘</ci><cn type="integer" id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">k=1</annotation></semantics></math><span id="alg1.l6.5" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l6.6" class="ltx_text ltx_font_bold" style="font-size:80%;">to</span><span id="alg1.l6.7" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l6.m2.1" class="ltx_Math" alttext="2" display="inline"><semantics id="alg1.l6.m2.1a"><mn mathsize="80%" id="alg1.l6.m2.1.1" xref="alg1.l6.m2.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="alg1.l6.m2.1b"><cn type="integer" id="alg1.l6.m2.1.1.cmml" xref="alg1.l6.m2.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m2.1c">2</annotation></semantics></math><span id="alg1.l6.8" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l6.9" class="ltx_text ltx_font_bold" style="font-size:80%;">do</span><span id="alg1.l6.10" class="ltx_text" style="font-size:80%;">


</span>
</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span><span id="alg1.l7.2" class="ltx_text" style="font-size:80%;">        Initialize the critic network weights </span><math id="alg1.l7.m1.1" class="ltx_Math" alttext="\theta_{i}^{k}" display="inline"><semantics id="alg1.l7.m1.1a"><msubsup id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l7.m1.1.1.2.2" xref="alg1.l7.m1.1.1.2.2.cmml">θ</mi><mi mathsize="80%" id="alg1.l7.m1.1.1.2.3" xref="alg1.l7.m1.1.1.2.3.cmml">i</mi><mi mathsize="80%" id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1">superscript</csymbol><apply id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.2.1.cmml" xref="alg1.l7.m1.1.1">subscript</csymbol><ci id="alg1.l7.m1.1.1.2.2.cmml" xref="alg1.l7.m1.1.1.2.2">𝜃</ci><ci id="alg1.l7.m1.1.1.2.3.cmml" xref="alg1.l7.m1.1.1.2.3">𝑖</ci></apply><ci id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">\theta_{i}^{k}</annotation></semantics></math><span id="alg1.l7.3" class="ltx_text" style="font-size:80%;"> randomly.
</span>
</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span><span id="alg1.l8.2" class="ltx_text" style="font-size:80%;">        Initialize the target network weights </span><math id="alg1.l8.m1.1" class="ltx_Math" alttext="\bar{\theta}_{k}^{i}" display="inline"><semantics id="alg1.l8.m1.1a"><msubsup id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><mover accent="true" id="alg1.l8.m1.1.1.2.2" xref="alg1.l8.m1.1.1.2.2.cmml"><mi mathsize="80%" id="alg1.l8.m1.1.1.2.2.2" xref="alg1.l8.m1.1.1.2.2.2.cmml">θ</mi><mo mathsize="80%" id="alg1.l8.m1.1.1.2.2.1" xref="alg1.l8.m1.1.1.2.2.1.cmml">¯</mo></mover><mi mathsize="80%" id="alg1.l8.m1.1.1.2.3" xref="alg1.l8.m1.1.1.2.3.cmml">k</mi><mi mathsize="80%" id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1">superscript</csymbol><apply id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.2.1.cmml" xref="alg1.l8.m1.1.1">subscript</csymbol><apply id="alg1.l8.m1.1.1.2.2.cmml" xref="alg1.l8.m1.1.1.2.2"><ci id="alg1.l8.m1.1.1.2.2.1.cmml" xref="alg1.l8.m1.1.1.2.2.1">¯</ci><ci id="alg1.l8.m1.1.1.2.2.2.cmml" xref="alg1.l8.m1.1.1.2.2.2">𝜃</ci></apply><ci id="alg1.l8.m1.1.1.2.3.cmml" xref="alg1.l8.m1.1.1.2.3">𝑘</ci></apply><ci id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">\bar{\theta}_{k}^{i}</annotation></semantics></math><span id="alg1.l8.3" class="ltx_text" style="font-size:80%;"> using </span><math id="alg1.l8.m2.1" class="ltx_Math" alttext="\theta_{i}^{k}" display="inline"><semantics id="alg1.l8.m2.1a"><msubsup id="alg1.l8.m2.1.1" xref="alg1.l8.m2.1.1.cmml"><mi mathsize="80%" id="alg1.l8.m2.1.1.2.2" xref="alg1.l8.m2.1.1.2.2.cmml">θ</mi><mi mathsize="80%" id="alg1.l8.m2.1.1.2.3" xref="alg1.l8.m2.1.1.2.3.cmml">i</mi><mi mathsize="80%" id="alg1.l8.m2.1.1.3" xref="alg1.l8.m2.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l8.m2.1b"><apply id="alg1.l8.m2.1.1.cmml" xref="alg1.l8.m2.1.1"><csymbol cd="ambiguous" id="alg1.l8.m2.1.1.1.cmml" xref="alg1.l8.m2.1.1">superscript</csymbol><apply id="alg1.l8.m2.1.1.2.cmml" xref="alg1.l8.m2.1.1"><csymbol cd="ambiguous" id="alg1.l8.m2.1.1.2.1.cmml" xref="alg1.l8.m2.1.1">subscript</csymbol><ci id="alg1.l8.m2.1.1.2.2.cmml" xref="alg1.l8.m2.1.1.2.2">𝜃</ci><ci id="alg1.l8.m2.1.1.2.3.cmml" xref="alg1.l8.m2.1.1.2.3">𝑖</ci></apply><ci id="alg1.l8.m2.1.1.3.cmml" xref="alg1.l8.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m2.1c">\theta_{i}^{k}</annotation></semantics></math><span id="alg1.l8.4" class="ltx_text" style="font-size:80%;">.
</span>
</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span><span id="alg1.l9.2" class="ltx_text" style="font-size:80%;">     </span><span id="alg1.l9.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l9.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l9.5" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span>
</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span><span id="alg1.l10.2" class="ltx_text" style="font-size:80%;">  </span><span id="alg1.l10.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l10.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l10.5" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span>
</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span><span id="alg1.l11.2" class="ltx_text" style="font-size:80%;">  </span><span id="alg1.l11.3" class="ltx_text ltx_font_italic" style="font-size:80%;">Federated Training Process:</span><span id="alg1.l11.4" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span><span id="alg1.l12.2" class="ltx_text" style="font-size:80%;">  </span><span id="alg1.l12.3" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span><span id="alg1.l12.4" class="ltx_text" style="font-size:80%;"> episode = 1 </span><span id="alg1.l12.5" class="ltx_text ltx_font_bold" style="font-size:80%;">to</span><span id="alg1.l12.6" class="ltx_text" style="font-size:80%;"> 250 </span><span id="alg1.l12.7" class="ltx_text ltx_font_bold" style="font-size:80%;">do</span><span id="alg1.l12.8" class="ltx_text" style="font-size:80%;">


</span>
</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span><span id="alg1.l13.2" class="ltx_text" style="font-size:80%;">     </span><span id="alg1.l13.3" class="ltx_text ltx_font_italic" style="font-size:80%;">Parallelizable Phase I: local state transition</span><span id="alg1.l13.4" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span><span id="alg1.l14.2" class="ltx_text" style="font-size:80%;">     </span><span id="alg1.l14.3" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span><span id="alg1.l14.4" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l14.m1.1" class="ltx_Math" alttext="i=1" display="inline"><semantics id="alg1.l14.m1.1a"><mrow id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l14.m1.1.1.2" xref="alg1.l14.m1.1.1.2.cmml">i</mi><mo mathsize="80%" id="alg1.l14.m1.1.1.1" xref="alg1.l14.m1.1.1.1.cmml">=</mo><mn mathsize="80%" id="alg1.l14.m1.1.1.3" xref="alg1.l14.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b"><apply id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1"><eq id="alg1.l14.m1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1"></eq><ci id="alg1.l14.m1.1.1.2.cmml" xref="alg1.l14.m1.1.1.2">𝑖</ci><cn type="integer" id="alg1.l14.m1.1.1.3.cmml" xref="alg1.l14.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">i=1</annotation></semantics></math><span id="alg1.l14.5" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l14.6" class="ltx_text ltx_font_bold" style="font-size:80%;">to</span><span id="alg1.l14.7" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l14.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.l14.m2.1a"><mi mathsize="80%" id="alg1.l14.m2.1.1" xref="alg1.l14.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.l14.m2.1b"><ci id="alg1.l14.m2.1.1.cmml" xref="alg1.l14.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m2.1c">N</annotation></semantics></math><span id="alg1.l14.8" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l14.9" class="ltx_text ltx_font_bold" style="font-size:80%;">each agent in parallel</span><span id="alg1.l14.10" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l14.11" class="ltx_text ltx_font_bold" style="font-size:80%;">do</span><span id="alg1.l14.12" class="ltx_text" style="font-size:80%;">


</span>
</div>
<div id="alg1.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span><span id="alg1.l15.2" class="ltx_text" style="font-size:80%;">        When </span><math id="alg1.l15.m1.1" class="ltx_Math" alttext="\text{episode}&gt;1" display="inline"><semantics id="alg1.l15.m1.1a"><mrow id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml"><mtext mathsize="80%" id="alg1.l15.m1.1.1.2" xref="alg1.l15.m1.1.1.2a.cmml">episode</mtext><mo mathsize="80%" id="alg1.l15.m1.1.1.1" xref="alg1.l15.m1.1.1.1.cmml">&gt;</mo><mn mathsize="80%" id="alg1.l15.m1.1.1.3" xref="alg1.l15.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m1.1b"><apply id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1"><gt id="alg1.l15.m1.1.1.1.cmml" xref="alg1.l15.m1.1.1.1"></gt><ci id="alg1.l15.m1.1.1.2a.cmml" xref="alg1.l15.m1.1.1.2"><mtext mathsize="80%" id="alg1.l15.m1.1.1.2.cmml" xref="alg1.l15.m1.1.1.2">episode</mtext></ci><cn type="integer" id="alg1.l15.m1.1.1.3.cmml" xref="alg1.l15.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m1.1c">\text{episode}&gt;1</annotation></semantics></math><span id="alg1.l15.3" class="ltx_text" style="font-size:80%;">, after receive </span><math id="alg1.l15.m2.1" class="ltx_Math" alttext="\theta_{g}^{k}" display="inline"><semantics id="alg1.l15.m2.1a"><msubsup id="alg1.l15.m2.1.1" xref="alg1.l15.m2.1.1.cmml"><mi mathsize="80%" id="alg1.l15.m2.1.1.2.2" xref="alg1.l15.m2.1.1.2.2.cmml">θ</mi><mi mathsize="80%" id="alg1.l15.m2.1.1.2.3" xref="alg1.l15.m2.1.1.2.3.cmml">g</mi><mi mathsize="80%" id="alg1.l15.m2.1.1.3" xref="alg1.l15.m2.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l15.m2.1b"><apply id="alg1.l15.m2.1.1.cmml" xref="alg1.l15.m2.1.1"><csymbol cd="ambiguous" id="alg1.l15.m2.1.1.1.cmml" xref="alg1.l15.m2.1.1">superscript</csymbol><apply id="alg1.l15.m2.1.1.2.cmml" xref="alg1.l15.m2.1.1"><csymbol cd="ambiguous" id="alg1.l15.m2.1.1.2.1.cmml" xref="alg1.l15.m2.1.1">subscript</csymbol><ci id="alg1.l15.m2.1.1.2.2.cmml" xref="alg1.l15.m2.1.1.2.2">𝜃</ci><ci id="alg1.l15.m2.1.1.2.3.cmml" xref="alg1.l15.m2.1.1.2.3">𝑔</ci></apply><ci id="alg1.l15.m2.1.1.3.cmml" xref="alg1.l15.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m2.1c">\theta_{g}^{k}</annotation></semantics></math><span id="alg1.l15.4" class="ltx_text" style="font-size:80%;">, </span><math id="alg1.l15.m3.2" class="ltx_Math" alttext="k=1,2" display="inline"><semantics id="alg1.l15.m3.2a"><mrow id="alg1.l15.m3.2.3" xref="alg1.l15.m3.2.3.cmml"><mi mathsize="80%" id="alg1.l15.m3.2.3.2" xref="alg1.l15.m3.2.3.2.cmml">k</mi><mo mathsize="80%" id="alg1.l15.m3.2.3.1" xref="alg1.l15.m3.2.3.1.cmml">=</mo><mrow id="alg1.l15.m3.2.3.3.2" xref="alg1.l15.m3.2.3.3.1.cmml"><mn mathsize="80%" id="alg1.l15.m3.1.1" xref="alg1.l15.m3.1.1.cmml">1</mn><mo mathsize="80%" id="alg1.l15.m3.2.3.3.2.1" xref="alg1.l15.m3.2.3.3.1.cmml">,</mo><mn mathsize="80%" id="alg1.l15.m3.2.2" xref="alg1.l15.m3.2.2.cmml">2</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m3.2b"><apply id="alg1.l15.m3.2.3.cmml" xref="alg1.l15.m3.2.3"><eq id="alg1.l15.m3.2.3.1.cmml" xref="alg1.l15.m3.2.3.1"></eq><ci id="alg1.l15.m3.2.3.2.cmml" xref="alg1.l15.m3.2.3.2">𝑘</ci><list id="alg1.l15.m3.2.3.3.1.cmml" xref="alg1.l15.m3.2.3.3.2"><cn type="integer" id="alg1.l15.m3.1.1.cmml" xref="alg1.l15.m3.1.1">1</cn><cn type="integer" id="alg1.l15.m3.2.2.cmml" xref="alg1.l15.m3.2.2">2</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m3.2c">k=1,2</annotation></semantics></math><span id="alg1.l15.5" class="ltx_text" style="font-size:80%;"> and </span><math id="alg1.l15.m4.1" class="ltx_Math" alttext="\phi_{g}" display="inline"><semantics id="alg1.l15.m4.1a"><msub id="alg1.l15.m4.1.1" xref="alg1.l15.m4.1.1.cmml"><mi mathsize="80%" id="alg1.l15.m4.1.1.2" xref="alg1.l15.m4.1.1.2.cmml">ϕ</mi><mi mathsize="80%" id="alg1.l15.m4.1.1.3" xref="alg1.l15.m4.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l15.m4.1b"><apply id="alg1.l15.m4.1.1.cmml" xref="alg1.l15.m4.1.1"><csymbol cd="ambiguous" id="alg1.l15.m4.1.1.1.cmml" xref="alg1.l15.m4.1.1">subscript</csymbol><ci id="alg1.l15.m4.1.1.2.cmml" xref="alg1.l15.m4.1.1.2">italic-ϕ</ci><ci id="alg1.l15.m4.1.1.3.cmml" xref="alg1.l15.m4.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m4.1c">\phi_{g}</annotation></semantics></math><span id="alg1.l15.6" class="ltx_text" style="font-size:80%;">, update the local model by </span><math id="alg1.l15.m5.1" class="ltx_Math" alttext="\theta_{i}^{k}\leftarrow\theta_{g}^{k}" display="inline"><semantics id="alg1.l15.m5.1a"><mrow id="alg1.l15.m5.1.1" xref="alg1.l15.m5.1.1.cmml"><msubsup id="alg1.l15.m5.1.1.2" xref="alg1.l15.m5.1.1.2.cmml"><mi mathsize="80%" id="alg1.l15.m5.1.1.2.2.2" xref="alg1.l15.m5.1.1.2.2.2.cmml">θ</mi><mi mathsize="80%" id="alg1.l15.m5.1.1.2.2.3" xref="alg1.l15.m5.1.1.2.2.3.cmml">i</mi><mi mathsize="80%" id="alg1.l15.m5.1.1.2.3" xref="alg1.l15.m5.1.1.2.3.cmml">k</mi></msubsup><mo mathsize="80%" stretchy="false" id="alg1.l15.m5.1.1.1" xref="alg1.l15.m5.1.1.1.cmml">←</mo><msubsup id="alg1.l15.m5.1.1.3" xref="alg1.l15.m5.1.1.3.cmml"><mi mathsize="80%" id="alg1.l15.m5.1.1.3.2.2" xref="alg1.l15.m5.1.1.3.2.2.cmml">θ</mi><mi mathsize="80%" id="alg1.l15.m5.1.1.3.2.3" xref="alg1.l15.m5.1.1.3.2.3.cmml">g</mi><mi mathsize="80%" id="alg1.l15.m5.1.1.3.3" xref="alg1.l15.m5.1.1.3.3.cmml">k</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m5.1b"><apply id="alg1.l15.m5.1.1.cmml" xref="alg1.l15.m5.1.1"><ci id="alg1.l15.m5.1.1.1.cmml" xref="alg1.l15.m5.1.1.1">←</ci><apply id="alg1.l15.m5.1.1.2.cmml" xref="alg1.l15.m5.1.1.2"><csymbol cd="ambiguous" id="alg1.l15.m5.1.1.2.1.cmml" xref="alg1.l15.m5.1.1.2">superscript</csymbol><apply id="alg1.l15.m5.1.1.2.2.cmml" xref="alg1.l15.m5.1.1.2"><csymbol cd="ambiguous" id="alg1.l15.m5.1.1.2.2.1.cmml" xref="alg1.l15.m5.1.1.2">subscript</csymbol><ci id="alg1.l15.m5.1.1.2.2.2.cmml" xref="alg1.l15.m5.1.1.2.2.2">𝜃</ci><ci id="alg1.l15.m5.1.1.2.2.3.cmml" xref="alg1.l15.m5.1.1.2.2.3">𝑖</ci></apply><ci id="alg1.l15.m5.1.1.2.3.cmml" xref="alg1.l15.m5.1.1.2.3">𝑘</ci></apply><apply id="alg1.l15.m5.1.1.3.cmml" xref="alg1.l15.m5.1.1.3"><csymbol cd="ambiguous" id="alg1.l15.m5.1.1.3.1.cmml" xref="alg1.l15.m5.1.1.3">superscript</csymbol><apply id="alg1.l15.m5.1.1.3.2.cmml" xref="alg1.l15.m5.1.1.3"><csymbol cd="ambiguous" id="alg1.l15.m5.1.1.3.2.1.cmml" xref="alg1.l15.m5.1.1.3">subscript</csymbol><ci id="alg1.l15.m5.1.1.3.2.2.cmml" xref="alg1.l15.m5.1.1.3.2.2">𝜃</ci><ci id="alg1.l15.m5.1.1.3.2.3.cmml" xref="alg1.l15.m5.1.1.3.2.3">𝑔</ci></apply><ci id="alg1.l15.m5.1.1.3.3.cmml" xref="alg1.l15.m5.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m5.1c">\theta_{i}^{k}\leftarrow\theta_{g}^{k}</annotation></semantics></math><span id="alg1.l15.7" class="ltx_text" style="font-size:80%;"> and </span><math id="alg1.l15.m6.1" class="ltx_Math" alttext="\phi_{i}\leftarrow\phi_{g}" display="inline"><semantics id="alg1.l15.m6.1a"><mrow id="alg1.l15.m6.1.1" xref="alg1.l15.m6.1.1.cmml"><msub id="alg1.l15.m6.1.1.2" xref="alg1.l15.m6.1.1.2.cmml"><mi mathsize="80%" id="alg1.l15.m6.1.1.2.2" xref="alg1.l15.m6.1.1.2.2.cmml">ϕ</mi><mi mathsize="80%" id="alg1.l15.m6.1.1.2.3" xref="alg1.l15.m6.1.1.2.3.cmml">i</mi></msub><mo mathsize="80%" stretchy="false" id="alg1.l15.m6.1.1.1" xref="alg1.l15.m6.1.1.1.cmml">←</mo><msub id="alg1.l15.m6.1.1.3" xref="alg1.l15.m6.1.1.3.cmml"><mi mathsize="80%" id="alg1.l15.m6.1.1.3.2" xref="alg1.l15.m6.1.1.3.2.cmml">ϕ</mi><mi mathsize="80%" id="alg1.l15.m6.1.1.3.3" xref="alg1.l15.m6.1.1.3.3.cmml">g</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m6.1b"><apply id="alg1.l15.m6.1.1.cmml" xref="alg1.l15.m6.1.1"><ci id="alg1.l15.m6.1.1.1.cmml" xref="alg1.l15.m6.1.1.1">←</ci><apply id="alg1.l15.m6.1.1.2.cmml" xref="alg1.l15.m6.1.1.2"><csymbol cd="ambiguous" id="alg1.l15.m6.1.1.2.1.cmml" xref="alg1.l15.m6.1.1.2">subscript</csymbol><ci id="alg1.l15.m6.1.1.2.2.cmml" xref="alg1.l15.m6.1.1.2.2">italic-ϕ</ci><ci id="alg1.l15.m6.1.1.2.3.cmml" xref="alg1.l15.m6.1.1.2.3">𝑖</ci></apply><apply id="alg1.l15.m6.1.1.3.cmml" xref="alg1.l15.m6.1.1.3"><csymbol cd="ambiguous" id="alg1.l15.m6.1.1.3.1.cmml" xref="alg1.l15.m6.1.1.3">subscript</csymbol><ci id="alg1.l15.m6.1.1.3.2.cmml" xref="alg1.l15.m6.1.1.3.2">italic-ϕ</ci><ci id="alg1.l15.m6.1.1.3.3.cmml" xref="alg1.l15.m6.1.1.3.3">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m6.1c">\phi_{i}\leftarrow\phi_{g}</annotation></semantics></math><span id="alg1.l15.8" class="ltx_text" style="font-size:80%;">.
</span>
</div>
<div id="alg1.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l16.1.1.1" class="ltx_text" style="font-size:80%;">16:</span></span><span id="alg1.l16.2" class="ltx_text" style="font-size:80%;">        Get action </span><math id="alg1.l16.m1.1" class="ltx_Math" alttext="a_{t}^{i}" display="inline"><semantics id="alg1.l16.m1.1a"><msubsup id="alg1.l16.m1.1.1" xref="alg1.l16.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l16.m1.1.1.2.2" xref="alg1.l16.m1.1.1.2.2.cmml">a</mi><mi mathsize="80%" id="alg1.l16.m1.1.1.2.3" xref="alg1.l16.m1.1.1.2.3.cmml">t</mi><mi mathsize="80%" id="alg1.l16.m1.1.1.3" xref="alg1.l16.m1.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l16.m1.1b"><apply id="alg1.l16.m1.1.1.cmml" xref="alg1.l16.m1.1.1"><csymbol cd="ambiguous" id="alg1.l16.m1.1.1.1.cmml" xref="alg1.l16.m1.1.1">superscript</csymbol><apply id="alg1.l16.m1.1.1.2.cmml" xref="alg1.l16.m1.1.1"><csymbol cd="ambiguous" id="alg1.l16.m1.1.1.2.1.cmml" xref="alg1.l16.m1.1.1">subscript</csymbol><ci id="alg1.l16.m1.1.1.2.2.cmml" xref="alg1.l16.m1.1.1.2.2">𝑎</ci><ci id="alg1.l16.m1.1.1.2.3.cmml" xref="alg1.l16.m1.1.1.2.3">𝑡</ci></apply><ci id="alg1.l16.m1.1.1.3.cmml" xref="alg1.l16.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m1.1c">a_{t}^{i}</annotation></semantics></math><span id="alg1.l16.3" class="ltx_text" style="font-size:80%;"> in terms of state </span><math id="alg1.l16.m2.1" class="ltx_Math" alttext="s_{t}^{i}" display="inline"><semantics id="alg1.l16.m2.1a"><msubsup id="alg1.l16.m2.1.1" xref="alg1.l16.m2.1.1.cmml"><mi mathsize="80%" id="alg1.l16.m2.1.1.2.2" xref="alg1.l16.m2.1.1.2.2.cmml">s</mi><mi mathsize="80%" id="alg1.l16.m2.1.1.2.3" xref="alg1.l16.m2.1.1.2.3.cmml">t</mi><mi mathsize="80%" id="alg1.l16.m2.1.1.3" xref="alg1.l16.m2.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l16.m2.1b"><apply id="alg1.l16.m2.1.1.cmml" xref="alg1.l16.m2.1.1"><csymbol cd="ambiguous" id="alg1.l16.m2.1.1.1.cmml" xref="alg1.l16.m2.1.1">superscript</csymbol><apply id="alg1.l16.m2.1.1.2.cmml" xref="alg1.l16.m2.1.1"><csymbol cd="ambiguous" id="alg1.l16.m2.1.1.2.1.cmml" xref="alg1.l16.m2.1.1">subscript</csymbol><ci id="alg1.l16.m2.1.1.2.2.cmml" xref="alg1.l16.m2.1.1.2.2">𝑠</ci><ci id="alg1.l16.m2.1.1.2.3.cmml" xref="alg1.l16.m2.1.1.2.3">𝑡</ci></apply><ci id="alg1.l16.m2.1.1.3.cmml" xref="alg1.l16.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m2.1c">s_{t}^{i}</annotation></semantics></math><span id="alg1.l16.4" class="ltx_text" style="font-size:80%;"> using </span><math id="alg1.l16.m3.1" class="ltx_Math" alttext="\pi_{\phi_{i}}" display="inline"><semantics id="alg1.l16.m3.1a"><msub id="alg1.l16.m3.1.1" xref="alg1.l16.m3.1.1.cmml"><mi mathsize="80%" id="alg1.l16.m3.1.1.2" xref="alg1.l16.m3.1.1.2.cmml">π</mi><msub id="alg1.l16.m3.1.1.3" xref="alg1.l16.m3.1.1.3.cmml"><mi mathsize="80%" id="alg1.l16.m3.1.1.3.2" xref="alg1.l16.m3.1.1.3.2.cmml">ϕ</mi><mi mathsize="80%" id="alg1.l16.m3.1.1.3.3" xref="alg1.l16.m3.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="alg1.l16.m3.1b"><apply id="alg1.l16.m3.1.1.cmml" xref="alg1.l16.m3.1.1"><csymbol cd="ambiguous" id="alg1.l16.m3.1.1.1.cmml" xref="alg1.l16.m3.1.1">subscript</csymbol><ci id="alg1.l16.m3.1.1.2.cmml" xref="alg1.l16.m3.1.1.2">𝜋</ci><apply id="alg1.l16.m3.1.1.3.cmml" xref="alg1.l16.m3.1.1.3"><csymbol cd="ambiguous" id="alg1.l16.m3.1.1.3.1.cmml" xref="alg1.l16.m3.1.1.3">subscript</csymbol><ci id="alg1.l16.m3.1.1.3.2.cmml" xref="alg1.l16.m3.1.1.3.2">italic-ϕ</ci><ci id="alg1.l16.m3.1.1.3.3.cmml" xref="alg1.l16.m3.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m3.1c">\pi_{\phi_{i}}</annotation></semantics></math><span id="alg1.l16.5" class="ltx_text" style="font-size:80%;">.
</span>
</div>
<div id="alg1.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l17.1.1.1" class="ltx_text" style="font-size:80%;">17:</span></span><span id="alg1.l17.2" class="ltx_text" style="font-size:80%;">        Execute </span><math id="alg1.l17.m1.1" class="ltx_Math" alttext="a_{t}^{i}" display="inline"><semantics id="alg1.l17.m1.1a"><msubsup id="alg1.l17.m1.1.1" xref="alg1.l17.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l17.m1.1.1.2.2" xref="alg1.l17.m1.1.1.2.2.cmml">a</mi><mi mathsize="80%" id="alg1.l17.m1.1.1.2.3" xref="alg1.l17.m1.1.1.2.3.cmml">t</mi><mi mathsize="80%" id="alg1.l17.m1.1.1.3" xref="alg1.l17.m1.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l17.m1.1b"><apply id="alg1.l17.m1.1.1.cmml" xref="alg1.l17.m1.1.1"><csymbol cd="ambiguous" id="alg1.l17.m1.1.1.1.cmml" xref="alg1.l17.m1.1.1">superscript</csymbol><apply id="alg1.l17.m1.1.1.2.cmml" xref="alg1.l17.m1.1.1"><csymbol cd="ambiguous" id="alg1.l17.m1.1.1.2.1.cmml" xref="alg1.l17.m1.1.1">subscript</csymbol><ci id="alg1.l17.m1.1.1.2.2.cmml" xref="alg1.l17.m1.1.1.2.2">𝑎</ci><ci id="alg1.l17.m1.1.1.2.3.cmml" xref="alg1.l17.m1.1.1.2.3">𝑡</ci></apply><ci id="alg1.l17.m1.1.1.3.cmml" xref="alg1.l17.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m1.1c">a_{t}^{i}</annotation></semantics></math><span id="alg1.l17.3" class="ltx_text" style="font-size:80%;">, obtain reward </span><math id="alg1.l17.m2.2" class="ltx_Math" alttext="r_{t}(s_{t}^{i},a_{t}^{i})" display="inline"><semantics id="alg1.l17.m2.2a"><mrow id="alg1.l17.m2.2.2" xref="alg1.l17.m2.2.2.cmml"><msub id="alg1.l17.m2.2.2.4" xref="alg1.l17.m2.2.2.4.cmml"><mi mathsize="80%" id="alg1.l17.m2.2.2.4.2" xref="alg1.l17.m2.2.2.4.2.cmml">r</mi><mi mathsize="80%" id="alg1.l17.m2.2.2.4.3" xref="alg1.l17.m2.2.2.4.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="alg1.l17.m2.2.2.3" xref="alg1.l17.m2.2.2.3.cmml">​</mo><mrow id="alg1.l17.m2.2.2.2.2" xref="alg1.l17.m2.2.2.2.3.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l17.m2.2.2.2.2.3" xref="alg1.l17.m2.2.2.2.3.cmml">(</mo><msubsup id="alg1.l17.m2.1.1.1.1.1" xref="alg1.l17.m2.1.1.1.1.1.cmml"><mi mathsize="80%" id="alg1.l17.m2.1.1.1.1.1.2.2" xref="alg1.l17.m2.1.1.1.1.1.2.2.cmml">s</mi><mi mathsize="80%" id="alg1.l17.m2.1.1.1.1.1.2.3" xref="alg1.l17.m2.1.1.1.1.1.2.3.cmml">t</mi><mi mathsize="80%" id="alg1.l17.m2.1.1.1.1.1.3" xref="alg1.l17.m2.1.1.1.1.1.3.cmml">i</mi></msubsup><mo mathsize="80%" id="alg1.l17.m2.2.2.2.2.4" xref="alg1.l17.m2.2.2.2.3.cmml">,</mo><msubsup id="alg1.l17.m2.2.2.2.2.2" xref="alg1.l17.m2.2.2.2.2.2.cmml"><mi mathsize="80%" id="alg1.l17.m2.2.2.2.2.2.2.2" xref="alg1.l17.m2.2.2.2.2.2.2.2.cmml">a</mi><mi mathsize="80%" id="alg1.l17.m2.2.2.2.2.2.2.3" xref="alg1.l17.m2.2.2.2.2.2.2.3.cmml">t</mi><mi mathsize="80%" id="alg1.l17.m2.2.2.2.2.2.3" xref="alg1.l17.m2.2.2.2.2.2.3.cmml">i</mi></msubsup><mo maxsize="80%" minsize="80%" id="alg1.l17.m2.2.2.2.2.5" xref="alg1.l17.m2.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l17.m2.2b"><apply id="alg1.l17.m2.2.2.cmml" xref="alg1.l17.m2.2.2"><times id="alg1.l17.m2.2.2.3.cmml" xref="alg1.l17.m2.2.2.3"></times><apply id="alg1.l17.m2.2.2.4.cmml" xref="alg1.l17.m2.2.2.4"><csymbol cd="ambiguous" id="alg1.l17.m2.2.2.4.1.cmml" xref="alg1.l17.m2.2.2.4">subscript</csymbol><ci id="alg1.l17.m2.2.2.4.2.cmml" xref="alg1.l17.m2.2.2.4.2">𝑟</ci><ci id="alg1.l17.m2.2.2.4.3.cmml" xref="alg1.l17.m2.2.2.4.3">𝑡</ci></apply><interval closure="open" id="alg1.l17.m2.2.2.2.3.cmml" xref="alg1.l17.m2.2.2.2.2"><apply id="alg1.l17.m2.1.1.1.1.1.cmml" xref="alg1.l17.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l17.m2.1.1.1.1.1.1.cmml" xref="alg1.l17.m2.1.1.1.1.1">superscript</csymbol><apply id="alg1.l17.m2.1.1.1.1.1.2.cmml" xref="alg1.l17.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l17.m2.1.1.1.1.1.2.1.cmml" xref="alg1.l17.m2.1.1.1.1.1">subscript</csymbol><ci id="alg1.l17.m2.1.1.1.1.1.2.2.cmml" xref="alg1.l17.m2.1.1.1.1.1.2.2">𝑠</ci><ci id="alg1.l17.m2.1.1.1.1.1.2.3.cmml" xref="alg1.l17.m2.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="alg1.l17.m2.1.1.1.1.1.3.cmml" xref="alg1.l17.m2.1.1.1.1.1.3">𝑖</ci></apply><apply id="alg1.l17.m2.2.2.2.2.2.cmml" xref="alg1.l17.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l17.m2.2.2.2.2.2.1.cmml" xref="alg1.l17.m2.2.2.2.2.2">superscript</csymbol><apply id="alg1.l17.m2.2.2.2.2.2.2.cmml" xref="alg1.l17.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l17.m2.2.2.2.2.2.2.1.cmml" xref="alg1.l17.m2.2.2.2.2.2">subscript</csymbol><ci id="alg1.l17.m2.2.2.2.2.2.2.2.cmml" xref="alg1.l17.m2.2.2.2.2.2.2.2">𝑎</ci><ci id="alg1.l17.m2.2.2.2.2.2.2.3.cmml" xref="alg1.l17.m2.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="alg1.l17.m2.2.2.2.2.2.3.cmml" xref="alg1.l17.m2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m2.2c">r_{t}(s_{t}^{i},a_{t}^{i})</annotation></semantics></math><span id="alg1.l17.4" class="ltx_text" style="font-size:80%;"> and state </span><math id="alg1.l17.m3.1" class="ltx_Math" alttext="s_{t+1}^{i}" display="inline"><semantics id="alg1.l17.m3.1a"><msubsup id="alg1.l17.m3.1.1" xref="alg1.l17.m3.1.1.cmml"><mi mathsize="80%" id="alg1.l17.m3.1.1.2.2" xref="alg1.l17.m3.1.1.2.2.cmml">s</mi><mrow id="alg1.l17.m3.1.1.2.3" xref="alg1.l17.m3.1.1.2.3.cmml"><mi mathsize="80%" id="alg1.l17.m3.1.1.2.3.2" xref="alg1.l17.m3.1.1.2.3.2.cmml">t</mi><mo mathsize="80%" id="alg1.l17.m3.1.1.2.3.1" xref="alg1.l17.m3.1.1.2.3.1.cmml">+</mo><mn mathsize="80%" id="alg1.l17.m3.1.1.2.3.3" xref="alg1.l17.m3.1.1.2.3.3.cmml">1</mn></mrow><mi mathsize="80%" id="alg1.l17.m3.1.1.3" xref="alg1.l17.m3.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l17.m3.1b"><apply id="alg1.l17.m3.1.1.cmml" xref="alg1.l17.m3.1.1"><csymbol cd="ambiguous" id="alg1.l17.m3.1.1.1.cmml" xref="alg1.l17.m3.1.1">superscript</csymbol><apply id="alg1.l17.m3.1.1.2.cmml" xref="alg1.l17.m3.1.1"><csymbol cd="ambiguous" id="alg1.l17.m3.1.1.2.1.cmml" xref="alg1.l17.m3.1.1">subscript</csymbol><ci id="alg1.l17.m3.1.1.2.2.cmml" xref="alg1.l17.m3.1.1.2.2">𝑠</ci><apply id="alg1.l17.m3.1.1.2.3.cmml" xref="alg1.l17.m3.1.1.2.3"><plus id="alg1.l17.m3.1.1.2.3.1.cmml" xref="alg1.l17.m3.1.1.2.3.1"></plus><ci id="alg1.l17.m3.1.1.2.3.2.cmml" xref="alg1.l17.m3.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg1.l17.m3.1.1.2.3.3.cmml" xref="alg1.l17.m3.1.1.2.3.3">1</cn></apply></apply><ci id="alg1.l17.m3.1.1.3.cmml" xref="alg1.l17.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m3.1c">s_{t+1}^{i}</annotation></semantics></math><span id="alg1.l17.5" class="ltx_text" style="font-size:80%;">.
</span>
</div>
<div id="alg1.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l18.1.1.1" class="ltx_text" style="font-size:80%;">18:</span></span><span id="alg1.l18.2" class="ltx_text" style="font-size:80%;">        Store the tuple </span><math id="alg1.l18.m1.4" class="ltx_Math" alttext="(s_{t}^{i},a_{t}^{i},r_{t}(s_{t}^{i},a_{t}^{i}),s_{t+1}^{i})" display="inline"><semantics id="alg1.l18.m1.4a"><mrow id="alg1.l18.m1.4.4.4" xref="alg1.l18.m1.4.4.5.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l18.m1.4.4.4.5" xref="alg1.l18.m1.4.4.5.cmml">(</mo><msubsup id="alg1.l18.m1.1.1.1.1" xref="alg1.l18.m1.1.1.1.1.cmml"><mi mathsize="80%" id="alg1.l18.m1.1.1.1.1.2.2" xref="alg1.l18.m1.1.1.1.1.2.2.cmml">s</mi><mi mathsize="80%" id="alg1.l18.m1.1.1.1.1.2.3" xref="alg1.l18.m1.1.1.1.1.2.3.cmml">t</mi><mi mathsize="80%" id="alg1.l18.m1.1.1.1.1.3" xref="alg1.l18.m1.1.1.1.1.3.cmml">i</mi></msubsup><mo mathsize="80%" id="alg1.l18.m1.4.4.4.6" xref="alg1.l18.m1.4.4.5.cmml">,</mo><msubsup id="alg1.l18.m1.2.2.2.2" xref="alg1.l18.m1.2.2.2.2.cmml"><mi mathsize="80%" id="alg1.l18.m1.2.2.2.2.2.2" xref="alg1.l18.m1.2.2.2.2.2.2.cmml">a</mi><mi mathsize="80%" id="alg1.l18.m1.2.2.2.2.2.3" xref="alg1.l18.m1.2.2.2.2.2.3.cmml">t</mi><mi mathsize="80%" id="alg1.l18.m1.2.2.2.2.3" xref="alg1.l18.m1.2.2.2.2.3.cmml">i</mi></msubsup><mo mathsize="80%" id="alg1.l18.m1.4.4.4.7" xref="alg1.l18.m1.4.4.5.cmml">,</mo><mrow id="alg1.l18.m1.3.3.3.3" xref="alg1.l18.m1.3.3.3.3.cmml"><msub id="alg1.l18.m1.3.3.3.3.4" xref="alg1.l18.m1.3.3.3.3.4.cmml"><mi mathsize="80%" id="alg1.l18.m1.3.3.3.3.4.2" xref="alg1.l18.m1.3.3.3.3.4.2.cmml">r</mi><mi mathsize="80%" id="alg1.l18.m1.3.3.3.3.4.3" xref="alg1.l18.m1.3.3.3.3.4.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="alg1.l18.m1.3.3.3.3.3" xref="alg1.l18.m1.3.3.3.3.3.cmml">​</mo><mrow id="alg1.l18.m1.3.3.3.3.2.2" xref="alg1.l18.m1.3.3.3.3.2.3.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l18.m1.3.3.3.3.2.2.3" xref="alg1.l18.m1.3.3.3.3.2.3.cmml">(</mo><msubsup id="alg1.l18.m1.3.3.3.3.1.1.1" xref="alg1.l18.m1.3.3.3.3.1.1.1.cmml"><mi mathsize="80%" id="alg1.l18.m1.3.3.3.3.1.1.1.2.2" xref="alg1.l18.m1.3.3.3.3.1.1.1.2.2.cmml">s</mi><mi mathsize="80%" id="alg1.l18.m1.3.3.3.3.1.1.1.2.3" xref="alg1.l18.m1.3.3.3.3.1.1.1.2.3.cmml">t</mi><mi mathsize="80%" id="alg1.l18.m1.3.3.3.3.1.1.1.3" xref="alg1.l18.m1.3.3.3.3.1.1.1.3.cmml">i</mi></msubsup><mo mathsize="80%" id="alg1.l18.m1.3.3.3.3.2.2.4" xref="alg1.l18.m1.3.3.3.3.2.3.cmml">,</mo><msubsup id="alg1.l18.m1.3.3.3.3.2.2.2" xref="alg1.l18.m1.3.3.3.3.2.2.2.cmml"><mi mathsize="80%" id="alg1.l18.m1.3.3.3.3.2.2.2.2.2" xref="alg1.l18.m1.3.3.3.3.2.2.2.2.2.cmml">a</mi><mi mathsize="80%" id="alg1.l18.m1.3.3.3.3.2.2.2.2.3" xref="alg1.l18.m1.3.3.3.3.2.2.2.2.3.cmml">t</mi><mi mathsize="80%" id="alg1.l18.m1.3.3.3.3.2.2.2.3" xref="alg1.l18.m1.3.3.3.3.2.2.2.3.cmml">i</mi></msubsup><mo maxsize="80%" minsize="80%" id="alg1.l18.m1.3.3.3.3.2.2.5" xref="alg1.l18.m1.3.3.3.3.2.3.cmml">)</mo></mrow></mrow><mo mathsize="80%" id="alg1.l18.m1.4.4.4.8" xref="alg1.l18.m1.4.4.5.cmml">,</mo><msubsup id="alg1.l18.m1.4.4.4.4" xref="alg1.l18.m1.4.4.4.4.cmml"><mi mathsize="80%" id="alg1.l18.m1.4.4.4.4.2.2" xref="alg1.l18.m1.4.4.4.4.2.2.cmml">s</mi><mrow id="alg1.l18.m1.4.4.4.4.2.3" xref="alg1.l18.m1.4.4.4.4.2.3.cmml"><mi mathsize="80%" id="alg1.l18.m1.4.4.4.4.2.3.2" xref="alg1.l18.m1.4.4.4.4.2.3.2.cmml">t</mi><mo mathsize="80%" id="alg1.l18.m1.4.4.4.4.2.3.1" xref="alg1.l18.m1.4.4.4.4.2.3.1.cmml">+</mo><mn mathsize="80%" id="alg1.l18.m1.4.4.4.4.2.3.3" xref="alg1.l18.m1.4.4.4.4.2.3.3.cmml">1</mn></mrow><mi mathsize="80%" id="alg1.l18.m1.4.4.4.4.3" xref="alg1.l18.m1.4.4.4.4.3.cmml">i</mi></msubsup><mo maxsize="80%" minsize="80%" id="alg1.l18.m1.4.4.4.9" xref="alg1.l18.m1.4.4.5.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l18.m1.4b"><vector id="alg1.l18.m1.4.4.5.cmml" xref="alg1.l18.m1.4.4.4"><apply id="alg1.l18.m1.1.1.1.1.cmml" xref="alg1.l18.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l18.m1.1.1.1.1.1.cmml" xref="alg1.l18.m1.1.1.1.1">superscript</csymbol><apply id="alg1.l18.m1.1.1.1.1.2.cmml" xref="alg1.l18.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l18.m1.1.1.1.1.2.1.cmml" xref="alg1.l18.m1.1.1.1.1">subscript</csymbol><ci id="alg1.l18.m1.1.1.1.1.2.2.cmml" xref="alg1.l18.m1.1.1.1.1.2.2">𝑠</ci><ci id="alg1.l18.m1.1.1.1.1.2.3.cmml" xref="alg1.l18.m1.1.1.1.1.2.3">𝑡</ci></apply><ci id="alg1.l18.m1.1.1.1.1.3.cmml" xref="alg1.l18.m1.1.1.1.1.3">𝑖</ci></apply><apply id="alg1.l18.m1.2.2.2.2.cmml" xref="alg1.l18.m1.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l18.m1.2.2.2.2.1.cmml" xref="alg1.l18.m1.2.2.2.2">superscript</csymbol><apply id="alg1.l18.m1.2.2.2.2.2.cmml" xref="alg1.l18.m1.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l18.m1.2.2.2.2.2.1.cmml" xref="alg1.l18.m1.2.2.2.2">subscript</csymbol><ci id="alg1.l18.m1.2.2.2.2.2.2.cmml" xref="alg1.l18.m1.2.2.2.2.2.2">𝑎</ci><ci id="alg1.l18.m1.2.2.2.2.2.3.cmml" xref="alg1.l18.m1.2.2.2.2.2.3">𝑡</ci></apply><ci id="alg1.l18.m1.2.2.2.2.3.cmml" xref="alg1.l18.m1.2.2.2.2.3">𝑖</ci></apply><apply id="alg1.l18.m1.3.3.3.3.cmml" xref="alg1.l18.m1.3.3.3.3"><times id="alg1.l18.m1.3.3.3.3.3.cmml" xref="alg1.l18.m1.3.3.3.3.3"></times><apply id="alg1.l18.m1.3.3.3.3.4.cmml" xref="alg1.l18.m1.3.3.3.3.4"><csymbol cd="ambiguous" id="alg1.l18.m1.3.3.3.3.4.1.cmml" xref="alg1.l18.m1.3.3.3.3.4">subscript</csymbol><ci id="alg1.l18.m1.3.3.3.3.4.2.cmml" xref="alg1.l18.m1.3.3.3.3.4.2">𝑟</ci><ci id="alg1.l18.m1.3.3.3.3.4.3.cmml" xref="alg1.l18.m1.3.3.3.3.4.3">𝑡</ci></apply><interval closure="open" id="alg1.l18.m1.3.3.3.3.2.3.cmml" xref="alg1.l18.m1.3.3.3.3.2.2"><apply id="alg1.l18.m1.3.3.3.3.1.1.1.cmml" xref="alg1.l18.m1.3.3.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l18.m1.3.3.3.3.1.1.1.1.cmml" xref="alg1.l18.m1.3.3.3.3.1.1.1">superscript</csymbol><apply id="alg1.l18.m1.3.3.3.3.1.1.1.2.cmml" xref="alg1.l18.m1.3.3.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l18.m1.3.3.3.3.1.1.1.2.1.cmml" xref="alg1.l18.m1.3.3.3.3.1.1.1">subscript</csymbol><ci id="alg1.l18.m1.3.3.3.3.1.1.1.2.2.cmml" xref="alg1.l18.m1.3.3.3.3.1.1.1.2.2">𝑠</ci><ci id="alg1.l18.m1.3.3.3.3.1.1.1.2.3.cmml" xref="alg1.l18.m1.3.3.3.3.1.1.1.2.3">𝑡</ci></apply><ci id="alg1.l18.m1.3.3.3.3.1.1.1.3.cmml" xref="alg1.l18.m1.3.3.3.3.1.1.1.3">𝑖</ci></apply><apply id="alg1.l18.m1.3.3.3.3.2.2.2.cmml" xref="alg1.l18.m1.3.3.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l18.m1.3.3.3.3.2.2.2.1.cmml" xref="alg1.l18.m1.3.3.3.3.2.2.2">superscript</csymbol><apply id="alg1.l18.m1.3.3.3.3.2.2.2.2.cmml" xref="alg1.l18.m1.3.3.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l18.m1.3.3.3.3.2.2.2.2.1.cmml" xref="alg1.l18.m1.3.3.3.3.2.2.2">subscript</csymbol><ci id="alg1.l18.m1.3.3.3.3.2.2.2.2.2.cmml" xref="alg1.l18.m1.3.3.3.3.2.2.2.2.2">𝑎</ci><ci id="alg1.l18.m1.3.3.3.3.2.2.2.2.3.cmml" xref="alg1.l18.m1.3.3.3.3.2.2.2.2.3">𝑡</ci></apply><ci id="alg1.l18.m1.3.3.3.3.2.2.2.3.cmml" xref="alg1.l18.m1.3.3.3.3.2.2.2.3">𝑖</ci></apply></interval></apply><apply id="alg1.l18.m1.4.4.4.4.cmml" xref="alg1.l18.m1.4.4.4.4"><csymbol cd="ambiguous" id="alg1.l18.m1.4.4.4.4.1.cmml" xref="alg1.l18.m1.4.4.4.4">superscript</csymbol><apply id="alg1.l18.m1.4.4.4.4.2.cmml" xref="alg1.l18.m1.4.4.4.4"><csymbol cd="ambiguous" id="alg1.l18.m1.4.4.4.4.2.1.cmml" xref="alg1.l18.m1.4.4.4.4">subscript</csymbol><ci id="alg1.l18.m1.4.4.4.4.2.2.cmml" xref="alg1.l18.m1.4.4.4.4.2.2">𝑠</ci><apply id="alg1.l18.m1.4.4.4.4.2.3.cmml" xref="alg1.l18.m1.4.4.4.4.2.3"><plus id="alg1.l18.m1.4.4.4.4.2.3.1.cmml" xref="alg1.l18.m1.4.4.4.4.2.3.1"></plus><ci id="alg1.l18.m1.4.4.4.4.2.3.2.cmml" xref="alg1.l18.m1.4.4.4.4.2.3.2">𝑡</ci><cn type="integer" id="alg1.l18.m1.4.4.4.4.2.3.3.cmml" xref="alg1.l18.m1.4.4.4.4.2.3.3">1</cn></apply></apply><ci id="alg1.l18.m1.4.4.4.4.3.cmml" xref="alg1.l18.m1.4.4.4.4.3">𝑖</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="alg1.l18.m1.4c">(s_{t}^{i},a_{t}^{i},r_{t}(s_{t}^{i},a_{t}^{i}),s_{t+1}^{i})</annotation></semantics></math><span id="alg1.l18.3" class="ltx_text" style="font-size:80%;"> into </span><math id="alg1.l18.m2.1" class="ltx_Math" alttext="\mathcal{D}_{i}" display="inline"><semantics id="alg1.l18.m2.1a"><msub id="alg1.l18.m2.1.1" xref="alg1.l18.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg1.l18.m2.1.1.2" xref="alg1.l18.m2.1.1.2.cmml">𝒟</mi><mi mathsize="80%" id="alg1.l18.m2.1.1.3" xref="alg1.l18.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l18.m2.1b"><apply id="alg1.l18.m2.1.1.cmml" xref="alg1.l18.m2.1.1"><csymbol cd="ambiguous" id="alg1.l18.m2.1.1.1.cmml" xref="alg1.l18.m2.1.1">subscript</csymbol><ci id="alg1.l18.m2.1.1.2.cmml" xref="alg1.l18.m2.1.1.2">𝒟</ci><ci id="alg1.l18.m2.1.1.3.cmml" xref="alg1.l18.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l18.m2.1c">\mathcal{D}_{i}</annotation></semantics></math><span id="alg1.l18.4" class="ltx_text" style="font-size:80%;">.
</span>
</div>
<div id="alg1.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l19.1.1.1" class="ltx_text" style="font-size:80%;">19:</span></span><span id="alg1.l19.2" class="ltx_text" style="font-size:80%;">     </span><span id="alg1.l19.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l19.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l19.5" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span>
</div>
<div id="alg1.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l20.1.1.1" class="ltx_text" style="font-size:80%;">20:</span></span><span id="alg1.l20.2" class="ltx_text" style="font-size:80%;">     </span><span id="alg1.l20.3" class="ltx_text ltx_font_italic" style="font-size:80%;">Parallelizable Phase II: local model update</span><span id="alg1.l20.4" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l21.1.1.1" class="ltx_text" style="font-size:80%;">21:</span></span><span id="alg1.l21.2" class="ltx_text" style="font-size:80%;">     </span><span id="alg1.l21.3" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span><span id="alg1.l21.4" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l21.m1.1" class="ltx_Math" alttext="i=1" display="inline"><semantics id="alg1.l21.m1.1a"><mrow id="alg1.l21.m1.1.1" xref="alg1.l21.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l21.m1.1.1.2" xref="alg1.l21.m1.1.1.2.cmml">i</mi><mo mathsize="80%" id="alg1.l21.m1.1.1.1" xref="alg1.l21.m1.1.1.1.cmml">=</mo><mn mathsize="80%" id="alg1.l21.m1.1.1.3" xref="alg1.l21.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l21.m1.1b"><apply id="alg1.l21.m1.1.1.cmml" xref="alg1.l21.m1.1.1"><eq id="alg1.l21.m1.1.1.1.cmml" xref="alg1.l21.m1.1.1.1"></eq><ci id="alg1.l21.m1.1.1.2.cmml" xref="alg1.l21.m1.1.1.2">𝑖</ci><cn type="integer" id="alg1.l21.m1.1.1.3.cmml" xref="alg1.l21.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l21.m1.1c">i=1</annotation></semantics></math><span id="alg1.l21.5" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l21.6" class="ltx_text ltx_font_bold" style="font-size:80%;">to</span><span id="alg1.l21.7" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l21.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.l21.m2.1a"><mi mathsize="80%" id="alg1.l21.m2.1.1" xref="alg1.l21.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.l21.m2.1b"><ci id="alg1.l21.m2.1.1.cmml" xref="alg1.l21.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l21.m2.1c">N</annotation></semantics></math><span id="alg1.l21.8" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l21.9" class="ltx_text ltx_font_bold" style="font-size:80%;">each agent in parallel</span><span id="alg1.l21.10" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l21.11" class="ltx_text ltx_font_bold" style="font-size:80%;">do</span><span id="alg1.l21.12" class="ltx_text" style="font-size:80%;">


</span>
</div>
<div id="alg1.l22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l22.1.1.1" class="ltx_text" style="font-size:80%;">22:</span></span><span id="alg1.l22.2" class="ltx_text" style="font-size:80%;">        Update </span><math id="alg1.l22.m1.1" class="ltx_Math" alttext="\alpha_{i}" display="inline"><semantics id="alg1.l22.m1.1a"><msub id="alg1.l22.m1.1.1" xref="alg1.l22.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l22.m1.1.1.2" xref="alg1.l22.m1.1.1.2.cmml">α</mi><mi mathsize="80%" id="alg1.l22.m1.1.1.3" xref="alg1.l22.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l22.m1.1b"><apply id="alg1.l22.m1.1.1.cmml" xref="alg1.l22.m1.1.1"><csymbol cd="ambiguous" id="alg1.l22.m1.1.1.1.cmml" xref="alg1.l22.m1.1.1">subscript</csymbol><ci id="alg1.l22.m1.1.1.2.cmml" xref="alg1.l22.m1.1.1.2">𝛼</ci><ci id="alg1.l22.m1.1.1.3.cmml" xref="alg1.l22.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l22.m1.1c">\alpha_{i}</annotation></semantics></math><span id="alg1.l22.3" class="ltx_text" style="font-size:80%;"> by minimizing </span><math id="alg1.l22.m2.1" class="ltx_Math" alttext="\Phi(\alpha_{i})" display="inline"><semantics id="alg1.l22.m2.1a"><mrow id="alg1.l22.m2.1.1" xref="alg1.l22.m2.1.1.cmml"><mi mathsize="80%" mathvariant="normal" id="alg1.l22.m2.1.1.3" xref="alg1.l22.m2.1.1.3.cmml">Φ</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m2.1.1.2" xref="alg1.l22.m2.1.1.2.cmml">​</mo><mrow id="alg1.l22.m2.1.1.1.1" xref="alg1.l22.m2.1.1.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l22.m2.1.1.1.1.2" xref="alg1.l22.m2.1.1.1.1.1.cmml">(</mo><msub id="alg1.l22.m2.1.1.1.1.1" xref="alg1.l22.m2.1.1.1.1.1.cmml"><mi mathsize="80%" id="alg1.l22.m2.1.1.1.1.1.2" xref="alg1.l22.m2.1.1.1.1.1.2.cmml">α</mi><mi mathsize="80%" id="alg1.l22.m2.1.1.1.1.1.3" xref="alg1.l22.m2.1.1.1.1.1.3.cmml">i</mi></msub><mo maxsize="80%" minsize="80%" id="alg1.l22.m2.1.1.1.1.3" xref="alg1.l22.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l22.m2.1b"><apply id="alg1.l22.m2.1.1.cmml" xref="alg1.l22.m2.1.1"><times id="alg1.l22.m2.1.1.2.cmml" xref="alg1.l22.m2.1.1.2"></times><ci id="alg1.l22.m2.1.1.3.cmml" xref="alg1.l22.m2.1.1.3">Φ</ci><apply id="alg1.l22.m2.1.1.1.1.1.cmml" xref="alg1.l22.m2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l22.m2.1.1.1.1.1.1.cmml" xref="alg1.l22.m2.1.1.1.1">subscript</csymbol><ci id="alg1.l22.m2.1.1.1.1.1.2.cmml" xref="alg1.l22.m2.1.1.1.1.1.2">𝛼</ci><ci id="alg1.l22.m2.1.1.1.1.1.3.cmml" xref="alg1.l22.m2.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l22.m2.1c">\Phi(\alpha_{i})</annotation></semantics></math><span id="alg1.l22.4" class="ltx_text" style="font-size:80%;"> in (</span><a href="#S3.E11" title="In III-2 Policy Improvement ‣ III Proposed Approach ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref" style="font-size:80%;"><span class="ltx_text ltx_ref_tag">11</span></a><span id="alg1.l22.5" class="ltx_text" style="font-size:80%;">).
</span>
</div>
<div id="alg1.l23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l23.1.1.1" class="ltx_text" style="font-size:80%;">23:</span></span><span id="alg1.l23.2" class="ltx_text" style="font-size:80%;">        Update </span><math id="alg1.l23.m1.1" class="ltx_Math" alttext="\pi_{\phi_{i}}" display="inline"><semantics id="alg1.l23.m1.1a"><msub id="alg1.l23.m1.1.1" xref="alg1.l23.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l23.m1.1.1.2" xref="alg1.l23.m1.1.1.2.cmml">π</mi><msub id="alg1.l23.m1.1.1.3" xref="alg1.l23.m1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l23.m1.1.1.3.2" xref="alg1.l23.m1.1.1.3.2.cmml">ϕ</mi><mi mathsize="80%" id="alg1.l23.m1.1.1.3.3" xref="alg1.l23.m1.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="alg1.l23.m1.1b"><apply id="alg1.l23.m1.1.1.cmml" xref="alg1.l23.m1.1.1"><csymbol cd="ambiguous" id="alg1.l23.m1.1.1.1.cmml" xref="alg1.l23.m1.1.1">subscript</csymbol><ci id="alg1.l23.m1.1.1.2.cmml" xref="alg1.l23.m1.1.1.2">𝜋</ci><apply id="alg1.l23.m1.1.1.3.cmml" xref="alg1.l23.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l23.m1.1.1.3.1.cmml" xref="alg1.l23.m1.1.1.3">subscript</csymbol><ci id="alg1.l23.m1.1.1.3.2.cmml" xref="alg1.l23.m1.1.1.3.2">italic-ϕ</ci><ci id="alg1.l23.m1.1.1.3.3.cmml" xref="alg1.l23.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l23.m1.1c">\pi_{\phi_{i}}</annotation></semantics></math><span id="alg1.l23.3" class="ltx_text" style="font-size:80%;"> using gradient in (</span><a href="#S3.E13" title="In III-2 Policy Improvement ‣ III Proposed Approach ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref" style="font-size:80%;"><span class="ltx_text ltx_ref_tag">13</span></a><span id="alg1.l23.4" class="ltx_text" style="font-size:80%;">).
</span>
</div>
<div id="alg1.l24" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l24.1.1.1" class="ltx_text" style="font-size:80%;">24:</span></span><span id="alg1.l24.2" class="ltx_text" style="font-size:80%;">        </span><span id="alg1.l24.3" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span><span id="alg1.l24.4" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l24.m1.1" class="ltx_Math" alttext="k=1" display="inline"><semantics id="alg1.l24.m1.1a"><mrow id="alg1.l24.m1.1.1" xref="alg1.l24.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l24.m1.1.1.2" xref="alg1.l24.m1.1.1.2.cmml">k</mi><mo mathsize="80%" id="alg1.l24.m1.1.1.1" xref="alg1.l24.m1.1.1.1.cmml">=</mo><mn mathsize="80%" id="alg1.l24.m1.1.1.3" xref="alg1.l24.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l24.m1.1b"><apply id="alg1.l24.m1.1.1.cmml" xref="alg1.l24.m1.1.1"><eq id="alg1.l24.m1.1.1.1.cmml" xref="alg1.l24.m1.1.1.1"></eq><ci id="alg1.l24.m1.1.1.2.cmml" xref="alg1.l24.m1.1.1.2">𝑘</ci><cn type="integer" id="alg1.l24.m1.1.1.3.cmml" xref="alg1.l24.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l24.m1.1c">k=1</annotation></semantics></math><span id="alg1.l24.5" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l24.6" class="ltx_text ltx_font_bold" style="font-size:80%;">to</span><span id="alg1.l24.7" class="ltx_text" style="font-size:80%;"> 2 </span><span id="alg1.l24.8" class="ltx_text ltx_font_bold" style="font-size:80%;">do</span><span id="alg1.l24.9" class="ltx_text" style="font-size:80%;">


</span>
</div>
<div id="alg1.l25" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l25.1.1.1" class="ltx_text" style="font-size:80%;">25:</span></span><span id="alg1.l25.2" class="ltx_text" style="font-size:80%;">           Update </span><math id="alg1.l25.m1.1" class="ltx_Math" alttext="Q_{\theta_{i}^{k}}" display="inline"><semantics id="alg1.l25.m1.1a"><msub id="alg1.l25.m1.1.1" xref="alg1.l25.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l25.m1.1.1.2" xref="alg1.l25.m1.1.1.2.cmml">Q</mi><msubsup id="alg1.l25.m1.1.1.3" xref="alg1.l25.m1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l25.m1.1.1.3.2.2" xref="alg1.l25.m1.1.1.3.2.2.cmml">θ</mi><mi mathsize="80%" id="alg1.l25.m1.1.1.3.2.3" xref="alg1.l25.m1.1.1.3.2.3.cmml">i</mi><mi mathsize="80%" id="alg1.l25.m1.1.1.3.3" xref="alg1.l25.m1.1.1.3.3.cmml">k</mi></msubsup></msub><annotation-xml encoding="MathML-Content" id="alg1.l25.m1.1b"><apply id="alg1.l25.m1.1.1.cmml" xref="alg1.l25.m1.1.1"><csymbol cd="ambiguous" id="alg1.l25.m1.1.1.1.cmml" xref="alg1.l25.m1.1.1">subscript</csymbol><ci id="alg1.l25.m1.1.1.2.cmml" xref="alg1.l25.m1.1.1.2">𝑄</ci><apply id="alg1.l25.m1.1.1.3.cmml" xref="alg1.l25.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l25.m1.1.1.3.1.cmml" xref="alg1.l25.m1.1.1.3">superscript</csymbol><apply id="alg1.l25.m1.1.1.3.2.cmml" xref="alg1.l25.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l25.m1.1.1.3.2.1.cmml" xref="alg1.l25.m1.1.1.3">subscript</csymbol><ci id="alg1.l25.m1.1.1.3.2.2.cmml" xref="alg1.l25.m1.1.1.3.2.2">𝜃</ci><ci id="alg1.l25.m1.1.1.3.2.3.cmml" xref="alg1.l25.m1.1.1.3.2.3">𝑖</ci></apply><ci id="alg1.l25.m1.1.1.3.3.cmml" xref="alg1.l25.m1.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l25.m1.1c">Q_{\theta_{i}^{k}}</annotation></semantics></math><span id="alg1.l25.3" class="ltx_text" style="font-size:80%;"> using gradient in (</span><a href="#S3.E10" title="In III-1 Policy Evaluation ‣ III Proposed Approach ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref" style="font-size:80%;"><span class="ltx_text ltx_ref_tag">10</span></a><span id="alg1.l25.4" class="ltx_text" style="font-size:80%;">).
</span>
</div>
<div id="alg1.l26" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l26.1.1.1" class="ltx_text" style="font-size:80%;">26:</span></span><span id="alg1.l26.2" class="ltx_text" style="font-size:80%;">           Update </span><math id="alg1.l26.m1.1" class="ltx_Math" alttext="V_{\bar{\theta}_{i}^{k}}" display="inline"><semantics id="alg1.l26.m1.1a"><msub id="alg1.l26.m1.1.1" xref="alg1.l26.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l26.m1.1.1.2" xref="alg1.l26.m1.1.1.2.cmml">V</mi><msubsup id="alg1.l26.m1.1.1.3" xref="alg1.l26.m1.1.1.3.cmml"><mover accent="true" id="alg1.l26.m1.1.1.3.2.2" xref="alg1.l26.m1.1.1.3.2.2.cmml"><mi mathsize="80%" id="alg1.l26.m1.1.1.3.2.2.2" xref="alg1.l26.m1.1.1.3.2.2.2.cmml">θ</mi><mo mathsize="80%" id="alg1.l26.m1.1.1.3.2.2.1" xref="alg1.l26.m1.1.1.3.2.2.1.cmml">¯</mo></mover><mi mathsize="80%" id="alg1.l26.m1.1.1.3.2.3" xref="alg1.l26.m1.1.1.3.2.3.cmml">i</mi><mi mathsize="80%" id="alg1.l26.m1.1.1.3.3" xref="alg1.l26.m1.1.1.3.3.cmml">k</mi></msubsup></msub><annotation-xml encoding="MathML-Content" id="alg1.l26.m1.1b"><apply id="alg1.l26.m1.1.1.cmml" xref="alg1.l26.m1.1.1"><csymbol cd="ambiguous" id="alg1.l26.m1.1.1.1.cmml" xref="alg1.l26.m1.1.1">subscript</csymbol><ci id="alg1.l26.m1.1.1.2.cmml" xref="alg1.l26.m1.1.1.2">𝑉</ci><apply id="alg1.l26.m1.1.1.3.cmml" xref="alg1.l26.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l26.m1.1.1.3.1.cmml" xref="alg1.l26.m1.1.1.3">superscript</csymbol><apply id="alg1.l26.m1.1.1.3.2.cmml" xref="alg1.l26.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l26.m1.1.1.3.2.1.cmml" xref="alg1.l26.m1.1.1.3">subscript</csymbol><apply id="alg1.l26.m1.1.1.3.2.2.cmml" xref="alg1.l26.m1.1.1.3.2.2"><ci id="alg1.l26.m1.1.1.3.2.2.1.cmml" xref="alg1.l26.m1.1.1.3.2.2.1">¯</ci><ci id="alg1.l26.m1.1.1.3.2.2.2.cmml" xref="alg1.l26.m1.1.1.3.2.2.2">𝜃</ci></apply><ci id="alg1.l26.m1.1.1.3.2.3.cmml" xref="alg1.l26.m1.1.1.3.2.3">𝑖</ci></apply><ci id="alg1.l26.m1.1.1.3.3.cmml" xref="alg1.l26.m1.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l26.m1.1c">V_{\bar{\theta}_{i}^{k}}</annotation></semantics></math><span id="alg1.l26.3" class="ltx_text" style="font-size:80%;"> using the moving average method.
</span>
</div>
<div id="alg1.l27" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l27.1.1.1" class="ltx_text" style="font-size:80%;">27:</span></span><span id="alg1.l27.2" class="ltx_text" style="font-size:80%;">           Upload the local critic models </span><math id="alg1.l27.m1.1" class="ltx_Math" alttext="\theta_{i}^{k}" display="inline"><semantics id="alg1.l27.m1.1a"><msubsup id="alg1.l27.m1.1.1" xref="alg1.l27.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l27.m1.1.1.2.2" xref="alg1.l27.m1.1.1.2.2.cmml">θ</mi><mi mathsize="80%" id="alg1.l27.m1.1.1.2.3" xref="alg1.l27.m1.1.1.2.3.cmml">i</mi><mi mathsize="80%" id="alg1.l27.m1.1.1.3" xref="alg1.l27.m1.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l27.m1.1b"><apply id="alg1.l27.m1.1.1.cmml" xref="alg1.l27.m1.1.1"><csymbol cd="ambiguous" id="alg1.l27.m1.1.1.1.cmml" xref="alg1.l27.m1.1.1">superscript</csymbol><apply id="alg1.l27.m1.1.1.2.cmml" xref="alg1.l27.m1.1.1"><csymbol cd="ambiguous" id="alg1.l27.m1.1.1.2.1.cmml" xref="alg1.l27.m1.1.1">subscript</csymbol><ci id="alg1.l27.m1.1.1.2.2.cmml" xref="alg1.l27.m1.1.1.2.2">𝜃</ci><ci id="alg1.l27.m1.1.1.2.3.cmml" xref="alg1.l27.m1.1.1.2.3">𝑖</ci></apply><ci id="alg1.l27.m1.1.1.3.cmml" xref="alg1.l27.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l27.m1.1c">\theta_{i}^{k}</annotation></semantics></math><span id="alg1.l27.3" class="ltx_text" style="font-size:80%;"> to the server.
</span>
</div>
<div id="alg1.l28" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l28.1.1.1" class="ltx_text" style="font-size:80%;">28:</span></span><span id="alg1.l28.2" class="ltx_text" style="font-size:80%;">        </span><span id="alg1.l28.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l28.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l28.5" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span>
</div>
<div id="alg1.l29" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l29.1.1.1" class="ltx_text" style="font-size:80%;">29:</span></span><span id="alg1.l29.2" class="ltx_text" style="font-size:80%;">        Upload the local actor models </span><math id="alg1.l29.m1.1" class="ltx_Math" alttext="\phi_{i}" display="inline"><semantics id="alg1.l29.m1.1a"><msub id="alg1.l29.m1.1.1" xref="alg1.l29.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l29.m1.1.1.2" xref="alg1.l29.m1.1.1.2.cmml">ϕ</mi><mi mathsize="80%" id="alg1.l29.m1.1.1.3" xref="alg1.l29.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l29.m1.1b"><apply id="alg1.l29.m1.1.1.cmml" xref="alg1.l29.m1.1.1"><csymbol cd="ambiguous" id="alg1.l29.m1.1.1.1.cmml" xref="alg1.l29.m1.1.1">subscript</csymbol><ci id="alg1.l29.m1.1.1.2.cmml" xref="alg1.l29.m1.1.1.2">italic-ϕ</ci><ci id="alg1.l29.m1.1.1.3.cmml" xref="alg1.l29.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l29.m1.1c">\phi_{i}</annotation></semantics></math><span id="alg1.l29.3" class="ltx_text" style="font-size:80%;"> to server.
</span>
</div>
<div id="alg1.l30" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l30.1.1.1" class="ltx_text" style="font-size:80%;">30:</span></span><span id="alg1.l30.2" class="ltx_text" style="font-size:80%;">     </span><span id="alg1.l30.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l30.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l30.5" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span>
</div>
<div id="alg1.l31" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l31.1.1.1" class="ltx_text" style="font-size:80%;">31:</span></span><span id="alg1.l31.2" class="ltx_text" style="font-size:80%;">     </span><span id="alg1.l31.3" class="ltx_text ltx_font_italic" style="font-size:80%;">Aggregative Phase III: global model update</span><span id="alg1.l31.4" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l32" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l32.1.1.1" class="ltx_text" style="font-size:80%;">32:</span></span><span id="alg1.l32.2" class="ltx_text" style="font-size:80%;">     The server waits until receives all local models, then makes model aggregation
</span><math id="alg1.l32.m1.1" class="ltx_Math" alttext="\theta_{g}^{k}=\frac{1}{N}\sum_{i=1}^{N}\theta_{i}^{k}" display="inline"><semantics id="alg1.l32.m1.1a"><mrow id="alg1.l32.m1.1.1" xref="alg1.l32.m1.1.1.cmml"><msubsup id="alg1.l32.m1.1.1.2" xref="alg1.l32.m1.1.1.2.cmml"><mi mathsize="80%" id="alg1.l32.m1.1.1.2.2.2" xref="alg1.l32.m1.1.1.2.2.2.cmml">θ</mi><mi mathsize="80%" id="alg1.l32.m1.1.1.2.2.3" xref="alg1.l32.m1.1.1.2.2.3.cmml">g</mi><mi mathsize="80%" id="alg1.l32.m1.1.1.2.3" xref="alg1.l32.m1.1.1.2.3.cmml">k</mi></msubsup><mo mathsize="80%" id="alg1.l32.m1.1.1.1" xref="alg1.l32.m1.1.1.1.cmml">=</mo><mrow id="alg1.l32.m1.1.1.3" xref="alg1.l32.m1.1.1.3.cmml"><mfrac id="alg1.l32.m1.1.1.3.2" xref="alg1.l32.m1.1.1.3.2.cmml"><mn mathsize="80%" id="alg1.l32.m1.1.1.3.2.2" xref="alg1.l32.m1.1.1.3.2.2.cmml">1</mn><mi mathsize="80%" id="alg1.l32.m1.1.1.3.2.3" xref="alg1.l32.m1.1.1.3.2.3.cmml">N</mi></mfrac><mo lspace="0em" rspace="0em" id="alg1.l32.m1.1.1.3.1" xref="alg1.l32.m1.1.1.3.1.cmml">​</mo><mrow id="alg1.l32.m1.1.1.3.3" xref="alg1.l32.m1.1.1.3.3.cmml"><msubsup id="alg1.l32.m1.1.1.3.3.1" xref="alg1.l32.m1.1.1.3.3.1.cmml"><mo maxsize="80%" minsize="80%" stretchy="true" id="alg1.l32.m1.1.1.3.3.1.2.2" xref="alg1.l32.m1.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="alg1.l32.m1.1.1.3.3.1.2.3" xref="alg1.l32.m1.1.1.3.3.1.2.3.cmml"><mi mathsize="80%" id="alg1.l32.m1.1.1.3.3.1.2.3.2" xref="alg1.l32.m1.1.1.3.3.1.2.3.2.cmml">i</mi><mo mathsize="80%" id="alg1.l32.m1.1.1.3.3.1.2.3.1" xref="alg1.l32.m1.1.1.3.3.1.2.3.1.cmml">=</mo><mn mathsize="80%" id="alg1.l32.m1.1.1.3.3.1.2.3.3" xref="alg1.l32.m1.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi mathsize="80%" id="alg1.l32.m1.1.1.3.3.1.3" xref="alg1.l32.m1.1.1.3.3.1.3.cmml">N</mi></msubsup><msubsup id="alg1.l32.m1.1.1.3.3.2" xref="alg1.l32.m1.1.1.3.3.2.cmml"><mi mathsize="80%" id="alg1.l32.m1.1.1.3.3.2.2.2" xref="alg1.l32.m1.1.1.3.3.2.2.2.cmml">θ</mi><mi mathsize="80%" id="alg1.l32.m1.1.1.3.3.2.2.3" xref="alg1.l32.m1.1.1.3.3.2.2.3.cmml">i</mi><mi mathsize="80%" id="alg1.l32.m1.1.1.3.3.2.3" xref="alg1.l32.m1.1.1.3.3.2.3.cmml">k</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l32.m1.1b"><apply id="alg1.l32.m1.1.1.cmml" xref="alg1.l32.m1.1.1"><eq id="alg1.l32.m1.1.1.1.cmml" xref="alg1.l32.m1.1.1.1"></eq><apply id="alg1.l32.m1.1.1.2.cmml" xref="alg1.l32.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l32.m1.1.1.2.1.cmml" xref="alg1.l32.m1.1.1.2">superscript</csymbol><apply id="alg1.l32.m1.1.1.2.2.cmml" xref="alg1.l32.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l32.m1.1.1.2.2.1.cmml" xref="alg1.l32.m1.1.1.2">subscript</csymbol><ci id="alg1.l32.m1.1.1.2.2.2.cmml" xref="alg1.l32.m1.1.1.2.2.2">𝜃</ci><ci id="alg1.l32.m1.1.1.2.2.3.cmml" xref="alg1.l32.m1.1.1.2.2.3">𝑔</ci></apply><ci id="alg1.l32.m1.1.1.2.3.cmml" xref="alg1.l32.m1.1.1.2.3">𝑘</ci></apply><apply id="alg1.l32.m1.1.1.3.cmml" xref="alg1.l32.m1.1.1.3"><times id="alg1.l32.m1.1.1.3.1.cmml" xref="alg1.l32.m1.1.1.3.1"></times><apply id="alg1.l32.m1.1.1.3.2.cmml" xref="alg1.l32.m1.1.1.3.2"><divide id="alg1.l32.m1.1.1.3.2.1.cmml" xref="alg1.l32.m1.1.1.3.2"></divide><cn type="integer" id="alg1.l32.m1.1.1.3.2.2.cmml" xref="alg1.l32.m1.1.1.3.2.2">1</cn><ci id="alg1.l32.m1.1.1.3.2.3.cmml" xref="alg1.l32.m1.1.1.3.2.3">𝑁</ci></apply><apply id="alg1.l32.m1.1.1.3.3.cmml" xref="alg1.l32.m1.1.1.3.3"><apply id="alg1.l32.m1.1.1.3.3.1.cmml" xref="alg1.l32.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="alg1.l32.m1.1.1.3.3.1.1.cmml" xref="alg1.l32.m1.1.1.3.3.1">superscript</csymbol><apply id="alg1.l32.m1.1.1.3.3.1.2.cmml" xref="alg1.l32.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="alg1.l32.m1.1.1.3.3.1.2.1.cmml" xref="alg1.l32.m1.1.1.3.3.1">subscript</csymbol><sum id="alg1.l32.m1.1.1.3.3.1.2.2.cmml" xref="alg1.l32.m1.1.1.3.3.1.2.2"></sum><apply id="alg1.l32.m1.1.1.3.3.1.2.3.cmml" xref="alg1.l32.m1.1.1.3.3.1.2.3"><eq id="alg1.l32.m1.1.1.3.3.1.2.3.1.cmml" xref="alg1.l32.m1.1.1.3.3.1.2.3.1"></eq><ci id="alg1.l32.m1.1.1.3.3.1.2.3.2.cmml" xref="alg1.l32.m1.1.1.3.3.1.2.3.2">𝑖</ci><cn type="integer" id="alg1.l32.m1.1.1.3.3.1.2.3.3.cmml" xref="alg1.l32.m1.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="alg1.l32.m1.1.1.3.3.1.3.cmml" xref="alg1.l32.m1.1.1.3.3.1.3">𝑁</ci></apply><apply id="alg1.l32.m1.1.1.3.3.2.cmml" xref="alg1.l32.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="alg1.l32.m1.1.1.3.3.2.1.cmml" xref="alg1.l32.m1.1.1.3.3.2">superscript</csymbol><apply id="alg1.l32.m1.1.1.3.3.2.2.cmml" xref="alg1.l32.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="alg1.l32.m1.1.1.3.3.2.2.1.cmml" xref="alg1.l32.m1.1.1.3.3.2">subscript</csymbol><ci id="alg1.l32.m1.1.1.3.3.2.2.2.cmml" xref="alg1.l32.m1.1.1.3.3.2.2.2">𝜃</ci><ci id="alg1.l32.m1.1.1.3.3.2.2.3.cmml" xref="alg1.l32.m1.1.1.3.3.2.2.3">𝑖</ci></apply><ci id="alg1.l32.m1.1.1.3.3.2.3.cmml" xref="alg1.l32.m1.1.1.3.3.2.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l32.m1.1c">\theta_{g}^{k}=\frac{1}{N}\sum_{i=1}^{N}\theta_{i}^{k}</annotation></semantics></math><span id="alg1.l32.3" class="ltx_text" style="font-size:80%;">, </span><math id="alg1.l32.m2.2" class="ltx_Math" alttext="k=1,2" display="inline"><semantics id="alg1.l32.m2.2a"><mrow id="alg1.l32.m2.2.3" xref="alg1.l32.m2.2.3.cmml"><mi mathsize="80%" id="alg1.l32.m2.2.3.2" xref="alg1.l32.m2.2.3.2.cmml">k</mi><mo mathsize="80%" id="alg1.l32.m2.2.3.1" xref="alg1.l32.m2.2.3.1.cmml">=</mo><mrow id="alg1.l32.m2.2.3.3.2" xref="alg1.l32.m2.2.3.3.1.cmml"><mn mathsize="80%" id="alg1.l32.m2.1.1" xref="alg1.l32.m2.1.1.cmml">1</mn><mo mathsize="80%" id="alg1.l32.m2.2.3.3.2.1" xref="alg1.l32.m2.2.3.3.1.cmml">,</mo><mn mathsize="80%" id="alg1.l32.m2.2.2" xref="alg1.l32.m2.2.2.cmml">2</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l32.m2.2b"><apply id="alg1.l32.m2.2.3.cmml" xref="alg1.l32.m2.2.3"><eq id="alg1.l32.m2.2.3.1.cmml" xref="alg1.l32.m2.2.3.1"></eq><ci id="alg1.l32.m2.2.3.2.cmml" xref="alg1.l32.m2.2.3.2">𝑘</ci><list id="alg1.l32.m2.2.3.3.1.cmml" xref="alg1.l32.m2.2.3.3.2"><cn type="integer" id="alg1.l32.m2.1.1.cmml" xref="alg1.l32.m2.1.1">1</cn><cn type="integer" id="alg1.l32.m2.2.2.cmml" xref="alg1.l32.m2.2.2">2</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l32.m2.2c">k=1,2</annotation></semantics></math><span id="alg1.l32.4" class="ltx_text" style="font-size:80%;"> and </span><math id="alg1.l32.m3.1" class="ltx_Math" alttext="\phi_{g}=\frac{1}{N}\sum_{i=1}^{N}\phi_{i}" display="inline"><semantics id="alg1.l32.m3.1a"><mrow id="alg1.l32.m3.1.1" xref="alg1.l32.m3.1.1.cmml"><msub id="alg1.l32.m3.1.1.2" xref="alg1.l32.m3.1.1.2.cmml"><mi mathsize="80%" id="alg1.l32.m3.1.1.2.2" xref="alg1.l32.m3.1.1.2.2.cmml">ϕ</mi><mi mathsize="80%" id="alg1.l32.m3.1.1.2.3" xref="alg1.l32.m3.1.1.2.3.cmml">g</mi></msub><mo mathsize="80%" id="alg1.l32.m3.1.1.1" xref="alg1.l32.m3.1.1.1.cmml">=</mo><mrow id="alg1.l32.m3.1.1.3" xref="alg1.l32.m3.1.1.3.cmml"><mfrac id="alg1.l32.m3.1.1.3.2" xref="alg1.l32.m3.1.1.3.2.cmml"><mn mathsize="80%" id="alg1.l32.m3.1.1.3.2.2" xref="alg1.l32.m3.1.1.3.2.2.cmml">1</mn><mi mathsize="80%" id="alg1.l32.m3.1.1.3.2.3" xref="alg1.l32.m3.1.1.3.2.3.cmml">N</mi></mfrac><mo lspace="0em" rspace="0em" id="alg1.l32.m3.1.1.3.1" xref="alg1.l32.m3.1.1.3.1.cmml">​</mo><mrow id="alg1.l32.m3.1.1.3.3" xref="alg1.l32.m3.1.1.3.3.cmml"><msubsup id="alg1.l32.m3.1.1.3.3.1" xref="alg1.l32.m3.1.1.3.3.1.cmml"><mo maxsize="80%" minsize="80%" stretchy="true" id="alg1.l32.m3.1.1.3.3.1.2.2" xref="alg1.l32.m3.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="alg1.l32.m3.1.1.3.3.1.2.3" xref="alg1.l32.m3.1.1.3.3.1.2.3.cmml"><mi mathsize="80%" id="alg1.l32.m3.1.1.3.3.1.2.3.2" xref="alg1.l32.m3.1.1.3.3.1.2.3.2.cmml">i</mi><mo mathsize="80%" id="alg1.l32.m3.1.1.3.3.1.2.3.1" xref="alg1.l32.m3.1.1.3.3.1.2.3.1.cmml">=</mo><mn mathsize="80%" id="alg1.l32.m3.1.1.3.3.1.2.3.3" xref="alg1.l32.m3.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi mathsize="80%" id="alg1.l32.m3.1.1.3.3.1.3" xref="alg1.l32.m3.1.1.3.3.1.3.cmml">N</mi></msubsup><msub id="alg1.l32.m3.1.1.3.3.2" xref="alg1.l32.m3.1.1.3.3.2.cmml"><mi mathsize="80%" id="alg1.l32.m3.1.1.3.3.2.2" xref="alg1.l32.m3.1.1.3.3.2.2.cmml">ϕ</mi><mi mathsize="80%" id="alg1.l32.m3.1.1.3.3.2.3" xref="alg1.l32.m3.1.1.3.3.2.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l32.m3.1b"><apply id="alg1.l32.m3.1.1.cmml" xref="alg1.l32.m3.1.1"><eq id="alg1.l32.m3.1.1.1.cmml" xref="alg1.l32.m3.1.1.1"></eq><apply id="alg1.l32.m3.1.1.2.cmml" xref="alg1.l32.m3.1.1.2"><csymbol cd="ambiguous" id="alg1.l32.m3.1.1.2.1.cmml" xref="alg1.l32.m3.1.1.2">subscript</csymbol><ci id="alg1.l32.m3.1.1.2.2.cmml" xref="alg1.l32.m3.1.1.2.2">italic-ϕ</ci><ci id="alg1.l32.m3.1.1.2.3.cmml" xref="alg1.l32.m3.1.1.2.3">𝑔</ci></apply><apply id="alg1.l32.m3.1.1.3.cmml" xref="alg1.l32.m3.1.1.3"><times id="alg1.l32.m3.1.1.3.1.cmml" xref="alg1.l32.m3.1.1.3.1"></times><apply id="alg1.l32.m3.1.1.3.2.cmml" xref="alg1.l32.m3.1.1.3.2"><divide id="alg1.l32.m3.1.1.3.2.1.cmml" xref="alg1.l32.m3.1.1.3.2"></divide><cn type="integer" id="alg1.l32.m3.1.1.3.2.2.cmml" xref="alg1.l32.m3.1.1.3.2.2">1</cn><ci id="alg1.l32.m3.1.1.3.2.3.cmml" xref="alg1.l32.m3.1.1.3.2.3">𝑁</ci></apply><apply id="alg1.l32.m3.1.1.3.3.cmml" xref="alg1.l32.m3.1.1.3.3"><apply id="alg1.l32.m3.1.1.3.3.1.cmml" xref="alg1.l32.m3.1.1.3.3.1"><csymbol cd="ambiguous" id="alg1.l32.m3.1.1.3.3.1.1.cmml" xref="alg1.l32.m3.1.1.3.3.1">superscript</csymbol><apply id="alg1.l32.m3.1.1.3.3.1.2.cmml" xref="alg1.l32.m3.1.1.3.3.1"><csymbol cd="ambiguous" id="alg1.l32.m3.1.1.3.3.1.2.1.cmml" xref="alg1.l32.m3.1.1.3.3.1">subscript</csymbol><sum id="alg1.l32.m3.1.1.3.3.1.2.2.cmml" xref="alg1.l32.m3.1.1.3.3.1.2.2"></sum><apply id="alg1.l32.m3.1.1.3.3.1.2.3.cmml" xref="alg1.l32.m3.1.1.3.3.1.2.3"><eq id="alg1.l32.m3.1.1.3.3.1.2.3.1.cmml" xref="alg1.l32.m3.1.1.3.3.1.2.3.1"></eq><ci id="alg1.l32.m3.1.1.3.3.1.2.3.2.cmml" xref="alg1.l32.m3.1.1.3.3.1.2.3.2">𝑖</ci><cn type="integer" id="alg1.l32.m3.1.1.3.3.1.2.3.3.cmml" xref="alg1.l32.m3.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="alg1.l32.m3.1.1.3.3.1.3.cmml" xref="alg1.l32.m3.1.1.3.3.1.3">𝑁</ci></apply><apply id="alg1.l32.m3.1.1.3.3.2.cmml" xref="alg1.l32.m3.1.1.3.3.2"><csymbol cd="ambiguous" id="alg1.l32.m3.1.1.3.3.2.1.cmml" xref="alg1.l32.m3.1.1.3.3.2">subscript</csymbol><ci id="alg1.l32.m3.1.1.3.3.2.2.cmml" xref="alg1.l32.m3.1.1.3.3.2.2">italic-ϕ</ci><ci id="alg1.l32.m3.1.1.3.3.2.3.cmml" xref="alg1.l32.m3.1.1.3.3.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l32.m3.1c">\phi_{g}=\frac{1}{N}\sum_{i=1}^{N}\phi_{i}</annotation></semantics></math><span id="alg1.l32.5" class="ltx_text" style="font-size:80%;">.
</span>
</div>
<div id="alg1.l33" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l33.1.1.1" class="ltx_text" style="font-size:80%;">33:</span></span><span id="alg1.l33.2" class="ltx_text" style="font-size:80%;">     The server broadcasts </span><math id="alg1.l33.m1.1" class="ltx_Math" alttext="\theta_{g}^{k}" display="inline"><semantics id="alg1.l33.m1.1a"><msubsup id="alg1.l33.m1.1.1" xref="alg1.l33.m1.1.1.cmml"><mi mathsize="80%" id="alg1.l33.m1.1.1.2.2" xref="alg1.l33.m1.1.1.2.2.cmml">θ</mi><mi mathsize="80%" id="alg1.l33.m1.1.1.2.3" xref="alg1.l33.m1.1.1.2.3.cmml">g</mi><mi mathsize="80%" id="alg1.l33.m1.1.1.3" xref="alg1.l33.m1.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l33.m1.1b"><apply id="alg1.l33.m1.1.1.cmml" xref="alg1.l33.m1.1.1"><csymbol cd="ambiguous" id="alg1.l33.m1.1.1.1.cmml" xref="alg1.l33.m1.1.1">superscript</csymbol><apply id="alg1.l33.m1.1.1.2.cmml" xref="alg1.l33.m1.1.1"><csymbol cd="ambiguous" id="alg1.l33.m1.1.1.2.1.cmml" xref="alg1.l33.m1.1.1">subscript</csymbol><ci id="alg1.l33.m1.1.1.2.2.cmml" xref="alg1.l33.m1.1.1.2.2">𝜃</ci><ci id="alg1.l33.m1.1.1.2.3.cmml" xref="alg1.l33.m1.1.1.2.3">𝑔</ci></apply><ci id="alg1.l33.m1.1.1.3.cmml" xref="alg1.l33.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l33.m1.1c">\theta_{g}^{k}</annotation></semantics></math><span id="alg1.l33.3" class="ltx_text" style="font-size:80%;">, </span><math id="alg1.l33.m2.2" class="ltx_Math" alttext="k=1,2" display="inline"><semantics id="alg1.l33.m2.2a"><mrow id="alg1.l33.m2.2.3" xref="alg1.l33.m2.2.3.cmml"><mi mathsize="80%" id="alg1.l33.m2.2.3.2" xref="alg1.l33.m2.2.3.2.cmml">k</mi><mo mathsize="80%" id="alg1.l33.m2.2.3.1" xref="alg1.l33.m2.2.3.1.cmml">=</mo><mrow id="alg1.l33.m2.2.3.3.2" xref="alg1.l33.m2.2.3.3.1.cmml"><mn mathsize="80%" id="alg1.l33.m2.1.1" xref="alg1.l33.m2.1.1.cmml">1</mn><mo mathsize="80%" id="alg1.l33.m2.2.3.3.2.1" xref="alg1.l33.m2.2.3.3.1.cmml">,</mo><mn mathsize="80%" id="alg1.l33.m2.2.2" xref="alg1.l33.m2.2.2.cmml">2</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l33.m2.2b"><apply id="alg1.l33.m2.2.3.cmml" xref="alg1.l33.m2.2.3"><eq id="alg1.l33.m2.2.3.1.cmml" xref="alg1.l33.m2.2.3.1"></eq><ci id="alg1.l33.m2.2.3.2.cmml" xref="alg1.l33.m2.2.3.2">𝑘</ci><list id="alg1.l33.m2.2.3.3.1.cmml" xref="alg1.l33.m2.2.3.3.2"><cn type="integer" id="alg1.l33.m2.1.1.cmml" xref="alg1.l33.m2.1.1">1</cn><cn type="integer" id="alg1.l33.m2.2.2.cmml" xref="alg1.l33.m2.2.2">2</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l33.m2.2c">k=1,2</annotation></semantics></math><span id="alg1.l33.4" class="ltx_text" style="font-size:80%;"> and </span><math id="alg1.l33.m3.1" class="ltx_Math" alttext="\phi_{g}" display="inline"><semantics id="alg1.l33.m3.1a"><msub id="alg1.l33.m3.1.1" xref="alg1.l33.m3.1.1.cmml"><mi mathsize="80%" id="alg1.l33.m3.1.1.2" xref="alg1.l33.m3.1.1.2.cmml">ϕ</mi><mi mathsize="80%" id="alg1.l33.m3.1.1.3" xref="alg1.l33.m3.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l33.m3.1b"><apply id="alg1.l33.m3.1.1.cmml" xref="alg1.l33.m3.1.1"><csymbol cd="ambiguous" id="alg1.l33.m3.1.1.1.cmml" xref="alg1.l33.m3.1.1">subscript</csymbol><ci id="alg1.l33.m3.1.1.2.cmml" xref="alg1.l33.m3.1.1.2">italic-ϕ</ci><ci id="alg1.l33.m3.1.1.3.cmml" xref="alg1.l33.m3.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l33.m3.1c">\phi_{g}</annotation></semantics></math><span id="alg1.l33.5" class="ltx_text" style="font-size:80%;"> to each agent.
</span>
</div>
<div id="alg1.l34" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l34.1.1.1" class="ltx_text" style="font-size:80%;">34:</span></span><span id="alg1.l34.2" class="ltx_text" style="font-size:80%;">  </span><span id="alg1.l34.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l34.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l34.5" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span>
</div>
</div>
</figure>
<div id="S3.SS0.SSS2.p2" class="ltx_para">
<p id="S3.SS0.SSS2.p2.1" class="ltx_p">The proposed HFRL-based approach is summarized in Algorithm <a href="#alg1" title="Algorithm 1 ‣ III-2 Policy Improvement ‣ III Proposed Approach ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. First, all the parameterized policy and value networks are initialized locally. Then during the <span id="S3.SS0.SSS2.p2.1.1" class="ltx_text ltx_font_italic">federated training process</span>, each agent directly uses the initialized policy to generate actions at the first episode and otherwise, first updates the local model by using the global model received from the central server. Then, they can, in parallel, collect experience from the local environment through the state-action-reward-state cycle interactions and store the experience into replay buffers as the tuple form in the <span id="S3.SS0.SSS2.p2.1.2" class="ltx_text ltx_font_italic">local state transition</span> phase. After that, in the <span id="S3.SS0.SSS2.p2.1.3" class="ltx_text ltx_font_italic">local model update</span> phase, the minibatch of experience is sampled from replay buffers to update these models locally and then transmitted to updated local models to the central server. In the <span id="S3.SS0.SSS2.p2.1.4" class="ltx_text ltx_font_italic">global model update</span> phase, all the local models are aggregated, and the resulting global models are then sent back to the agents.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2210.01452/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="233" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>A HFRL scheme for real-time EV charging/discharging control</figcaption>
</figure>
<div id="S3.SS0.SSS2.p3" class="ltx_para">
<p id="S3.SS0.SSS2.p3.1" class="ltx_p">Fig. <a href="#S3.F2" title="Figure 2 ‣ III-2 Policy Improvement ‣ III Proposed Approach ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> visualizes the proposed HFRL framework for EV charging/discharging control policy. Each EV can obtain its current charging/discharging rate according to the observed state by the local actor. After collecting the charging/discharging profiles for a period of time, the performance of actor and critic models can be improved by the policy evaluation and policy improvement procedure. Then through the local model upload, model aggregation, and model download procedure, one training episode is over. After many training episodes, the real-time charging/discharging control strategy considering different user behaviors is well trained. Since this method does not share users’ charging/discharging profiles with the central server, it can significantly protect the privacy of EV users. As the standard federated framework, the proposed algorithm can learn a collaborative global model without collecting the local experience such that it preserve the EV users’ privacy.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">Results and Simulation</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">In this section, we introduce some basic training settings for the HFRL-based approach illustrated in section III and show the training results. Then we verify the performance of the collaborative training model by one week’s trip simulation.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS1.4.1.1" class="ltx_text">IV-A</span> </span><span id="S4.SS1.5.2" class="ltx_text ltx_font_italic">Training Settings and Results</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.10" class="ltx_p">We use the real-world regional hourly electricity price data as a part of the state to extract the price trend. The price data from Jan 1st, 2017, to June 19th, 2017, is downloaded from the California ISO <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>. We select the first 20 days’ price data each month for training and the remaining for evaluation. Moreover, three EV users with different charging/discharging behaviors are set up to interact with environments. For these users, the initial SoC by arrival time <math id="S4.SS1.p1.1.m1.1" class="ltx_Math" alttext="t_{a}^{i}" display="inline"><semantics id="S4.SS1.p1.1.m1.1a"><msubsup id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mi id="S4.SS1.p1.1.m1.1.1.2.2" xref="S4.SS1.p1.1.m1.1.1.2.2.cmml">t</mi><mi id="S4.SS1.p1.1.m1.1.1.2.3" xref="S4.SS1.p1.1.m1.1.1.2.3.cmml">a</mi><mi id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1">superscript</csymbol><apply id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.2.1.cmml" xref="S4.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.2.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2.2">𝑡</ci><ci id="S4.SS1.p1.1.m1.1.1.2.3.cmml" xref="S4.SS1.p1.1.m1.1.1.2.3">𝑎</ci></apply><ci id="S4.SS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">t_{a}^{i}</annotation></semantics></math> is sampled uniformly from <math id="S4.SS1.p1.2.m2.2" class="ltx_Math" alttext="[0,0.95]" display="inline"><semantics id="S4.SS1.p1.2.m2.2a"><mrow id="S4.SS1.p1.2.m2.2.3.2" xref="S4.SS1.p1.2.m2.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p1.2.m2.2.3.2.1" xref="S4.SS1.p1.2.m2.2.3.1.cmml">[</mo><mn id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml">0</mn><mo id="S4.SS1.p1.2.m2.2.3.2.2" xref="S4.SS1.p1.2.m2.2.3.1.cmml">,</mo><mn id="S4.SS1.p1.2.m2.2.2" xref="S4.SS1.p1.2.m2.2.2.cmml">0.95</mn><mo stretchy="false" id="S4.SS1.p1.2.m2.2.3.2.3" xref="S4.SS1.p1.2.m2.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.2b"><interval closure="closed" id="S4.SS1.p1.2.m2.2.3.1.cmml" xref="S4.SS1.p1.2.m2.2.3.2"><cn type="integer" id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1">0</cn><cn type="float" id="S4.SS1.p1.2.m2.2.2.cmml" xref="S4.SS1.p1.2.m2.2.2">0.95</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.2c">[0,0.95]</annotation></semantics></math>, and the maximum charging/discharging rate during each state transition step accounts for 20% of the EV capacity. The efficiency factor <math id="S4.SS1.p1.3.m3.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S4.SS1.p1.3.m3.1a"><mi id="S4.SS1.p1.3.m3.1.1" xref="S4.SS1.p1.3.m3.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.3.m3.1b"><ci id="S4.SS1.p1.3.m3.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.3.m3.1c">\eta</annotation></semantics></math> is equal to 0.98. The shape parameter <math id="S4.SS1.p1.4.m4.1" class="ltx_Math" alttext="d_{2}^{i}" display="inline"><semantics id="S4.SS1.p1.4.m4.1a"><msubsup id="S4.SS1.p1.4.m4.1.1" xref="S4.SS1.p1.4.m4.1.1.cmml"><mi id="S4.SS1.p1.4.m4.1.1.2.2" xref="S4.SS1.p1.4.m4.1.1.2.2.cmml">d</mi><mn id="S4.SS1.p1.4.m4.1.1.2.3" xref="S4.SS1.p1.4.m4.1.1.2.3.cmml">2</mn><mi id="S4.SS1.p1.4.m4.1.1.3" xref="S4.SS1.p1.4.m4.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.4.m4.1b"><apply id="S4.SS1.p1.4.m4.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.4.m4.1.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1">superscript</csymbol><apply id="S4.SS1.p1.4.m4.1.1.2.cmml" xref="S4.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.4.m4.1.1.2.1.cmml" xref="S4.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS1.p1.4.m4.1.1.2.2.cmml" xref="S4.SS1.p1.4.m4.1.1.2.2">𝑑</ci><cn type="integer" id="S4.SS1.p1.4.m4.1.1.2.3.cmml" xref="S4.SS1.p1.4.m4.1.1.2.3">2</cn></apply><ci id="S4.SS1.p1.4.m4.1.1.3.cmml" xref="S4.SS1.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.4.m4.1c">d_{2}^{i}</annotation></semantics></math> in (<a href="#S2.E4" title="In II-B MDP Formulation ‣ II System Model and Problem Formulation ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>) is sampled from <math id="S4.SS1.p1.5.m5.2" class="ltx_Math" alttext="\mathcal{N}(9,1^{2})" display="inline"><semantics id="S4.SS1.p1.5.m5.2a"><mrow id="S4.SS1.p1.5.m5.2.2" xref="S4.SS1.p1.5.m5.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.5.m5.2.2.3" xref="S4.SS1.p1.5.m5.2.2.3.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p1.5.m5.2.2.2" xref="S4.SS1.p1.5.m5.2.2.2.cmml">​</mo><mrow id="S4.SS1.p1.5.m5.2.2.1.1" xref="S4.SS1.p1.5.m5.2.2.1.2.cmml"><mo stretchy="false" id="S4.SS1.p1.5.m5.2.2.1.1.2" xref="S4.SS1.p1.5.m5.2.2.1.2.cmml">(</mo><mn id="S4.SS1.p1.5.m5.1.1" xref="S4.SS1.p1.5.m5.1.1.cmml">9</mn><mo id="S4.SS1.p1.5.m5.2.2.1.1.3" xref="S4.SS1.p1.5.m5.2.2.1.2.cmml">,</mo><msup id="S4.SS1.p1.5.m5.2.2.1.1.1" xref="S4.SS1.p1.5.m5.2.2.1.1.1.cmml"><mn id="S4.SS1.p1.5.m5.2.2.1.1.1.2" xref="S4.SS1.p1.5.m5.2.2.1.1.1.2.cmml">1</mn><mn id="S4.SS1.p1.5.m5.2.2.1.1.1.3" xref="S4.SS1.p1.5.m5.2.2.1.1.1.3.cmml">2</mn></msup><mo stretchy="false" id="S4.SS1.p1.5.m5.2.2.1.1.4" xref="S4.SS1.p1.5.m5.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.5.m5.2b"><apply id="S4.SS1.p1.5.m5.2.2.cmml" xref="S4.SS1.p1.5.m5.2.2"><times id="S4.SS1.p1.5.m5.2.2.2.cmml" xref="S4.SS1.p1.5.m5.2.2.2"></times><ci id="S4.SS1.p1.5.m5.2.2.3.cmml" xref="S4.SS1.p1.5.m5.2.2.3">𝒩</ci><interval closure="open" id="S4.SS1.p1.5.m5.2.2.1.2.cmml" xref="S4.SS1.p1.5.m5.2.2.1.1"><cn type="integer" id="S4.SS1.p1.5.m5.1.1.cmml" xref="S4.SS1.p1.5.m5.1.1">9</cn><apply id="S4.SS1.p1.5.m5.2.2.1.1.1.cmml" xref="S4.SS1.p1.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.5.m5.2.2.1.1.1.1.cmml" xref="S4.SS1.p1.5.m5.2.2.1.1.1">superscript</csymbol><cn type="integer" id="S4.SS1.p1.5.m5.2.2.1.1.1.2.cmml" xref="S4.SS1.p1.5.m5.2.2.1.1.1.2">1</cn><cn type="integer" id="S4.SS1.p1.5.m5.2.2.1.1.1.3.cmml" xref="S4.SS1.p1.5.m5.2.2.1.1.1.3">2</cn></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.5.m5.2c">\mathcal{N}(9,1^{2})</annotation></semantics></math> and the bound is <math id="S4.SS1.p1.6.m6.2" class="ltx_Math" alttext="[6,12]" display="inline"><semantics id="S4.SS1.p1.6.m6.2a"><mrow id="S4.SS1.p1.6.m6.2.3.2" xref="S4.SS1.p1.6.m6.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p1.6.m6.2.3.2.1" xref="S4.SS1.p1.6.m6.2.3.1.cmml">[</mo><mn id="S4.SS1.p1.6.m6.1.1" xref="S4.SS1.p1.6.m6.1.1.cmml">6</mn><mo id="S4.SS1.p1.6.m6.2.3.2.2" xref="S4.SS1.p1.6.m6.2.3.1.cmml">,</mo><mn id="S4.SS1.p1.6.m6.2.2" xref="S4.SS1.p1.6.m6.2.2.cmml">12</mn><mo stretchy="false" id="S4.SS1.p1.6.m6.2.3.2.3" xref="S4.SS1.p1.6.m6.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.6.m6.2b"><interval closure="closed" id="S4.SS1.p1.6.m6.2.3.1.cmml" xref="S4.SS1.p1.6.m6.2.3.2"><cn type="integer" id="S4.SS1.p1.6.m6.1.1.cmml" xref="S4.SS1.p1.6.m6.1.1">6</cn><cn type="integer" id="S4.SS1.p1.6.m6.2.2.cmml" xref="S4.SS1.p1.6.m6.2.2">12</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.6.m6.2c">[6,12]</annotation></semantics></math>. In addition, the sensitivity factors in the reward <math id="S4.SS1.p1.7.m7.2" class="ltx_Math" alttext="r_{t}(s_{t}^{i},a_{t}^{i})" display="inline"><semantics id="S4.SS1.p1.7.m7.2a"><mrow id="S4.SS1.p1.7.m7.2.2" xref="S4.SS1.p1.7.m7.2.2.cmml"><msub id="S4.SS1.p1.7.m7.2.2.4" xref="S4.SS1.p1.7.m7.2.2.4.cmml"><mi id="S4.SS1.p1.7.m7.2.2.4.2" xref="S4.SS1.p1.7.m7.2.2.4.2.cmml">r</mi><mi id="S4.SS1.p1.7.m7.2.2.4.3" xref="S4.SS1.p1.7.m7.2.2.4.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS1.p1.7.m7.2.2.3" xref="S4.SS1.p1.7.m7.2.2.3.cmml">​</mo><mrow id="S4.SS1.p1.7.m7.2.2.2.2" xref="S4.SS1.p1.7.m7.2.2.2.3.cmml"><mo stretchy="false" id="S4.SS1.p1.7.m7.2.2.2.2.3" xref="S4.SS1.p1.7.m7.2.2.2.3.cmml">(</mo><msubsup id="S4.SS1.p1.7.m7.1.1.1.1.1" xref="S4.SS1.p1.7.m7.1.1.1.1.1.cmml"><mi id="S4.SS1.p1.7.m7.1.1.1.1.1.2.2" xref="S4.SS1.p1.7.m7.1.1.1.1.1.2.2.cmml">s</mi><mi id="S4.SS1.p1.7.m7.1.1.1.1.1.2.3" xref="S4.SS1.p1.7.m7.1.1.1.1.1.2.3.cmml">t</mi><mi id="S4.SS1.p1.7.m7.1.1.1.1.1.3" xref="S4.SS1.p1.7.m7.1.1.1.1.1.3.cmml">i</mi></msubsup><mo id="S4.SS1.p1.7.m7.2.2.2.2.4" xref="S4.SS1.p1.7.m7.2.2.2.3.cmml">,</mo><msubsup id="S4.SS1.p1.7.m7.2.2.2.2.2" xref="S4.SS1.p1.7.m7.2.2.2.2.2.cmml"><mi id="S4.SS1.p1.7.m7.2.2.2.2.2.2.2" xref="S4.SS1.p1.7.m7.2.2.2.2.2.2.2.cmml">a</mi><mi id="S4.SS1.p1.7.m7.2.2.2.2.2.2.3" xref="S4.SS1.p1.7.m7.2.2.2.2.2.2.3.cmml">t</mi><mi id="S4.SS1.p1.7.m7.2.2.2.2.2.3" xref="S4.SS1.p1.7.m7.2.2.2.2.2.3.cmml">i</mi></msubsup><mo stretchy="false" id="S4.SS1.p1.7.m7.2.2.2.2.5" xref="S4.SS1.p1.7.m7.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.7.m7.2b"><apply id="S4.SS1.p1.7.m7.2.2.cmml" xref="S4.SS1.p1.7.m7.2.2"><times id="S4.SS1.p1.7.m7.2.2.3.cmml" xref="S4.SS1.p1.7.m7.2.2.3"></times><apply id="S4.SS1.p1.7.m7.2.2.4.cmml" xref="S4.SS1.p1.7.m7.2.2.4"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.2.2.4.1.cmml" xref="S4.SS1.p1.7.m7.2.2.4">subscript</csymbol><ci id="S4.SS1.p1.7.m7.2.2.4.2.cmml" xref="S4.SS1.p1.7.m7.2.2.4.2">𝑟</ci><ci id="S4.SS1.p1.7.m7.2.2.4.3.cmml" xref="S4.SS1.p1.7.m7.2.2.4.3">𝑡</ci></apply><interval closure="open" id="S4.SS1.p1.7.m7.2.2.2.3.cmml" xref="S4.SS1.p1.7.m7.2.2.2.2"><apply id="S4.SS1.p1.7.m7.1.1.1.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1">superscript</csymbol><apply id="S4.SS1.p1.7.m7.1.1.1.1.1.2.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.1.1.1.1.1.2.1.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p1.7.m7.1.1.1.1.1.2.2.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1.2.2">𝑠</ci><ci id="S4.SS1.p1.7.m7.1.1.1.1.1.2.3.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S4.SS1.p1.7.m7.1.1.1.1.1.3.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.SS1.p1.7.m7.2.2.2.2.2.cmml" xref="S4.SS1.p1.7.m7.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.2.2.2.2.2.1.cmml" xref="S4.SS1.p1.7.m7.2.2.2.2.2">superscript</csymbol><apply id="S4.SS1.p1.7.m7.2.2.2.2.2.2.cmml" xref="S4.SS1.p1.7.m7.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.2.2.2.2.2.2.1.cmml" xref="S4.SS1.p1.7.m7.2.2.2.2.2">subscript</csymbol><ci id="S4.SS1.p1.7.m7.2.2.2.2.2.2.2.cmml" xref="S4.SS1.p1.7.m7.2.2.2.2.2.2.2">𝑎</ci><ci id="S4.SS1.p1.7.m7.2.2.2.2.2.2.3.cmml" xref="S4.SS1.p1.7.m7.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="S4.SS1.p1.7.m7.2.2.2.2.2.3.cmml" xref="S4.SS1.p1.7.m7.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.7.m7.2c">r_{t}(s_{t}^{i},a_{t}^{i})</annotation></semantics></math> are selected as <math id="S4.SS1.p1.8.m8.1" class="ltx_Math" alttext="\sigma_{p}=8" display="inline"><semantics id="S4.SS1.p1.8.m8.1a"><mrow id="S4.SS1.p1.8.m8.1.1" xref="S4.SS1.p1.8.m8.1.1.cmml"><msub id="S4.SS1.p1.8.m8.1.1.2" xref="S4.SS1.p1.8.m8.1.1.2.cmml"><mi id="S4.SS1.p1.8.m8.1.1.2.2" xref="S4.SS1.p1.8.m8.1.1.2.2.cmml">σ</mi><mi id="S4.SS1.p1.8.m8.1.1.2.3" xref="S4.SS1.p1.8.m8.1.1.2.3.cmml">p</mi></msub><mo id="S4.SS1.p1.8.m8.1.1.1" xref="S4.SS1.p1.8.m8.1.1.1.cmml">=</mo><mn id="S4.SS1.p1.8.m8.1.1.3" xref="S4.SS1.p1.8.m8.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.8.m8.1b"><apply id="S4.SS1.p1.8.m8.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1"><eq id="S4.SS1.p1.8.m8.1.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1.1"></eq><apply id="S4.SS1.p1.8.m8.1.1.2.cmml" xref="S4.SS1.p1.8.m8.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p1.8.m8.1.1.2.1.cmml" xref="S4.SS1.p1.8.m8.1.1.2">subscript</csymbol><ci id="S4.SS1.p1.8.m8.1.1.2.2.cmml" xref="S4.SS1.p1.8.m8.1.1.2.2">𝜎</ci><ci id="S4.SS1.p1.8.m8.1.1.2.3.cmml" xref="S4.SS1.p1.8.m8.1.1.2.3">𝑝</ci></apply><cn type="integer" id="S4.SS1.p1.8.m8.1.1.3.cmml" xref="S4.SS1.p1.8.m8.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.8.m8.1c">\sigma_{p}=8</annotation></semantics></math>, <math id="S4.SS1.p1.9.m9.1" class="ltx_Math" alttext="\sigma_{x}=15" display="inline"><semantics id="S4.SS1.p1.9.m9.1a"><mrow id="S4.SS1.p1.9.m9.1.1" xref="S4.SS1.p1.9.m9.1.1.cmml"><msub id="S4.SS1.p1.9.m9.1.1.2" xref="S4.SS1.p1.9.m9.1.1.2.cmml"><mi id="S4.SS1.p1.9.m9.1.1.2.2" xref="S4.SS1.p1.9.m9.1.1.2.2.cmml">σ</mi><mi id="S4.SS1.p1.9.m9.1.1.2.3" xref="S4.SS1.p1.9.m9.1.1.2.3.cmml">x</mi></msub><mo id="S4.SS1.p1.9.m9.1.1.1" xref="S4.SS1.p1.9.m9.1.1.1.cmml">=</mo><mn id="S4.SS1.p1.9.m9.1.1.3" xref="S4.SS1.p1.9.m9.1.1.3.cmml">15</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.9.m9.1b"><apply id="S4.SS1.p1.9.m9.1.1.cmml" xref="S4.SS1.p1.9.m9.1.1"><eq id="S4.SS1.p1.9.m9.1.1.1.cmml" xref="S4.SS1.p1.9.m9.1.1.1"></eq><apply id="S4.SS1.p1.9.m9.1.1.2.cmml" xref="S4.SS1.p1.9.m9.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p1.9.m9.1.1.2.1.cmml" xref="S4.SS1.p1.9.m9.1.1.2">subscript</csymbol><ci id="S4.SS1.p1.9.m9.1.1.2.2.cmml" xref="S4.SS1.p1.9.m9.1.1.2.2">𝜎</ci><ci id="S4.SS1.p1.9.m9.1.1.2.3.cmml" xref="S4.SS1.p1.9.m9.1.1.2.3">𝑥</ci></apply><cn type="integer" id="S4.SS1.p1.9.m9.1.1.3.cmml" xref="S4.SS1.p1.9.m9.1.1.3">15</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.9.m9.1c">\sigma_{x}=15</annotation></semantics></math> and <math id="S4.SS1.p1.10.m10.1" class="ltx_Math" alttext="\sigma_{d}=35" display="inline"><semantics id="S4.SS1.p1.10.m10.1a"><mrow id="S4.SS1.p1.10.m10.1.1" xref="S4.SS1.p1.10.m10.1.1.cmml"><msub id="S4.SS1.p1.10.m10.1.1.2" xref="S4.SS1.p1.10.m10.1.1.2.cmml"><mi id="S4.SS1.p1.10.m10.1.1.2.2" xref="S4.SS1.p1.10.m10.1.1.2.2.cmml">σ</mi><mi id="S4.SS1.p1.10.m10.1.1.2.3" xref="S4.SS1.p1.10.m10.1.1.2.3.cmml">d</mi></msub><mo id="S4.SS1.p1.10.m10.1.1.1" xref="S4.SS1.p1.10.m10.1.1.1.cmml">=</mo><mn id="S4.SS1.p1.10.m10.1.1.3" xref="S4.SS1.p1.10.m10.1.1.3.cmml">35</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.10.m10.1b"><apply id="S4.SS1.p1.10.m10.1.1.cmml" xref="S4.SS1.p1.10.m10.1.1"><eq id="S4.SS1.p1.10.m10.1.1.1.cmml" xref="S4.SS1.p1.10.m10.1.1.1"></eq><apply id="S4.SS1.p1.10.m10.1.1.2.cmml" xref="S4.SS1.p1.10.m10.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p1.10.m10.1.1.2.1.cmml" xref="S4.SS1.p1.10.m10.1.1.2">subscript</csymbol><ci id="S4.SS1.p1.10.m10.1.1.2.2.cmml" xref="S4.SS1.p1.10.m10.1.1.2.2">𝜎</ci><ci id="S4.SS1.p1.10.m10.1.1.2.3.cmml" xref="S4.SS1.p1.10.m10.1.1.2.3">𝑑</ci></apply><cn type="integer" id="S4.SS1.p1.10.m10.1.1.3.cmml" xref="S4.SS1.p1.10.m10.1.1.3">35</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.10.m10.1c">\sigma_{d}=35</annotation></semantics></math>.</p>
</div>
<figure id="S4.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F3.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x3.png" id="S4.F3.sf1.g1" class="ltx_graphics ltx_img_landscape" width="133" height="100" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F3.sf1.3.2" class="ltx_text" style="font-size:80%;">Home arrival</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F3.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x4.png" id="S4.F3.sf2.g1" class="ltx_graphics ltx_img_landscape" width="133" height="100" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F3.sf2.3.2" class="ltx_text" style="font-size:80%;">Office arrival</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F3.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x5.png" id="S4.F3.sf3.g1" class="ltx_graphics ltx_img_landscape" width="133" height="100" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf3.2.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S4.F3.sf3.3.2" class="ltx_text" style="font-size:80%;">Public arrival</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F3.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x6.png" id="S4.F3.sf4.g1" class="ltx_graphics ltx_img_landscape" width="133" height="100" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf4.2.1.1" class="ltx_text" style="font-size:80%;">(d)</span> </span><span id="S4.F3.sf4.3.2" class="ltx_text" style="font-size:80%;">Home departure</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F3.sf5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x7.png" id="S4.F3.sf5.g1" class="ltx_graphics ltx_img_landscape" width="133" height="100" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf5.2.1.1" class="ltx_text" style="font-size:80%;">(e)</span> </span><span id="S4.F3.sf5.3.2" class="ltx_text" style="font-size:80%;">Office departure</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F3.sf6" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x8.png" id="S4.F3.sf6.g1" class="ltx_graphics ltx_img_landscape" width="133" height="100" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf6.2.1.1" class="ltx_text" style="font-size:80%;">(f)</span> </span><span id="S4.F3.sf6.3.2" class="ltx_text" style="font-size:80%;">Public departure</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Statistical distributions of different EV trips</figcaption>
</figure>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.8" class="ltx_p">In order to reflect different users’ charging/discharging behaviors, the shape parameter <math id="S4.SS1.p2.1.m1.1" class="ltx_Math" alttext="d_{2}^{i}" display="inline"><semantics id="S4.SS1.p2.1.m1.1a"><msubsup id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml"><mi id="S4.SS1.p2.1.m1.1.1.2.2" xref="S4.SS1.p2.1.m1.1.1.2.2.cmml">d</mi><mn id="S4.SS1.p2.1.m1.1.1.2.3" xref="S4.SS1.p2.1.m1.1.1.2.3.cmml">2</mn><mi id="S4.SS1.p2.1.m1.1.1.3" xref="S4.SS1.p2.1.m1.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><apply id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1">superscript</csymbol><apply id="S4.SS1.p2.1.m1.1.1.2.cmml" xref="S4.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.1.m1.1.1.2.1.cmml" xref="S4.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p2.1.m1.1.1.2.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2.2">𝑑</ci><cn type="integer" id="S4.SS1.p2.1.m1.1.1.2.3.cmml" xref="S4.SS1.p2.1.m1.1.1.2.3">2</cn></apply><ci id="S4.SS1.p2.1.m1.1.1.3.cmml" xref="S4.SS1.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">d_{2}^{i}</annotation></semantics></math> which reflects user’s expected SoC by the departure time <math id="S4.SS1.p2.2.m2.1" class="ltx_Math" alttext="t_{d}^{i}" display="inline"><semantics id="S4.SS1.p2.2.m2.1a"><msubsup id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml"><mi id="S4.SS1.p2.2.m2.1.1.2.2" xref="S4.SS1.p2.2.m2.1.1.2.2.cmml">t</mi><mi id="S4.SS1.p2.2.m2.1.1.2.3" xref="S4.SS1.p2.2.m2.1.1.2.3.cmml">d</mi><mi id="S4.SS1.p2.2.m2.1.1.3" xref="S4.SS1.p2.2.m2.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.1b"><apply id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.2.m2.1.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1">superscript</csymbol><apply id="S4.SS1.p2.2.m2.1.1.2.cmml" xref="S4.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.2.m2.1.1.2.1.cmml" xref="S4.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.p2.2.m2.1.1.2.2.cmml" xref="S4.SS1.p2.2.m2.1.1.2.2">𝑡</ci><ci id="S4.SS1.p2.2.m2.1.1.2.3.cmml" xref="S4.SS1.p2.2.m2.1.1.2.3">𝑑</ci></apply><ci id="S4.SS1.p2.2.m2.1.1.3.cmml" xref="S4.SS1.p2.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.1c">t_{d}^{i}</annotation></semantics></math>, is sampled from <math id="S4.SS1.p2.3.m3.2" class="ltx_Math" alttext="[0.85,0.95]" display="inline"><semantics id="S4.SS1.p2.3.m3.2a"><mrow id="S4.SS1.p2.3.m3.2.3.2" xref="S4.SS1.p2.3.m3.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p2.3.m3.2.3.2.1" xref="S4.SS1.p2.3.m3.2.3.1.cmml">[</mo><mn id="S4.SS1.p2.3.m3.1.1" xref="S4.SS1.p2.3.m3.1.1.cmml">0.85</mn><mo id="S4.SS1.p2.3.m3.2.3.2.2" xref="S4.SS1.p2.3.m3.2.3.1.cmml">,</mo><mn id="S4.SS1.p2.3.m3.2.2" xref="S4.SS1.p2.3.m3.2.2.cmml">0.95</mn><mo stretchy="false" id="S4.SS1.p2.3.m3.2.3.2.3" xref="S4.SS1.p2.3.m3.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.3.m3.2b"><interval closure="closed" id="S4.SS1.p2.3.m3.2.3.1.cmml" xref="S4.SS1.p2.3.m3.2.3.2"><cn type="float" id="S4.SS1.p2.3.m3.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1">0.85</cn><cn type="float" id="S4.SS1.p2.3.m3.2.2.cmml" xref="S4.SS1.p2.3.m3.2.2">0.95</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.3.m3.2c">[0.85,0.95]</annotation></semantics></math>, <math id="S4.SS1.p2.4.m4.2" class="ltx_Math" alttext="[0.85,0.9]" display="inline"><semantics id="S4.SS1.p2.4.m4.2a"><mrow id="S4.SS1.p2.4.m4.2.3.2" xref="S4.SS1.p2.4.m4.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p2.4.m4.2.3.2.1" xref="S4.SS1.p2.4.m4.2.3.1.cmml">[</mo><mn id="S4.SS1.p2.4.m4.1.1" xref="S4.SS1.p2.4.m4.1.1.cmml">0.85</mn><mo id="S4.SS1.p2.4.m4.2.3.2.2" xref="S4.SS1.p2.4.m4.2.3.1.cmml">,</mo><mn id="S4.SS1.p2.4.m4.2.2" xref="S4.SS1.p2.4.m4.2.2.cmml">0.9</mn><mo stretchy="false" id="S4.SS1.p2.4.m4.2.3.2.3" xref="S4.SS1.p2.4.m4.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.4.m4.2b"><interval closure="closed" id="S4.SS1.p2.4.m4.2.3.1.cmml" xref="S4.SS1.p2.4.m4.2.3.2"><cn type="float" id="S4.SS1.p2.4.m4.1.1.cmml" xref="S4.SS1.p2.4.m4.1.1">0.85</cn><cn type="float" id="S4.SS1.p2.4.m4.2.2.cmml" xref="S4.SS1.p2.4.m4.2.2">0.9</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.4.m4.2c">[0.85,0.9]</annotation></semantics></math>, <math id="S4.SS1.p2.5.m5.2" class="ltx_Math" alttext="[0.9,0.95]" display="inline"><semantics id="S4.SS1.p2.5.m5.2a"><mrow id="S4.SS1.p2.5.m5.2.3.2" xref="S4.SS1.p2.5.m5.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p2.5.m5.2.3.2.1" xref="S4.SS1.p2.5.m5.2.3.1.cmml">[</mo><mn id="S4.SS1.p2.5.m5.1.1" xref="S4.SS1.p2.5.m5.1.1.cmml">0.9</mn><mo id="S4.SS1.p2.5.m5.2.3.2.2" xref="S4.SS1.p2.5.m5.2.3.1.cmml">,</mo><mn id="S4.SS1.p2.5.m5.2.2" xref="S4.SS1.p2.5.m5.2.2.cmml">0.95</mn><mo stretchy="false" id="S4.SS1.p2.5.m5.2.3.2.3" xref="S4.SS1.p2.5.m5.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.5.m5.2b"><interval closure="closed" id="S4.SS1.p2.5.m5.2.3.1.cmml" xref="S4.SS1.p2.5.m5.2.3.2"><cn type="float" id="S4.SS1.p2.5.m5.1.1.cmml" xref="S4.SS1.p2.5.m5.1.1">0.9</cn><cn type="float" id="S4.SS1.p2.5.m5.2.2.cmml" xref="S4.SS1.p2.5.m5.2.2">0.95</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.5.m5.2c">[0.9,0.95]</annotation></semantics></math>. The anxious time durations are sampled uniformly from <math id="S4.SS1.p2.6.m6.2" class="ltx_Math" alttext="[1,4]" display="inline"><semantics id="S4.SS1.p2.6.m6.2a"><mrow id="S4.SS1.p2.6.m6.2.3.2" xref="S4.SS1.p2.6.m6.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p2.6.m6.2.3.2.1" xref="S4.SS1.p2.6.m6.2.3.1.cmml">[</mo><mn id="S4.SS1.p2.6.m6.1.1" xref="S4.SS1.p2.6.m6.1.1.cmml">1</mn><mo id="S4.SS1.p2.6.m6.2.3.2.2" xref="S4.SS1.p2.6.m6.2.3.1.cmml">,</mo><mn id="S4.SS1.p2.6.m6.2.2" xref="S4.SS1.p2.6.m6.2.2.cmml">4</mn><mo stretchy="false" id="S4.SS1.p2.6.m6.2.3.2.3" xref="S4.SS1.p2.6.m6.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.6.m6.2b"><interval closure="closed" id="S4.SS1.p2.6.m6.2.3.1.cmml" xref="S4.SS1.p2.6.m6.2.3.2"><cn type="integer" id="S4.SS1.p2.6.m6.1.1.cmml" xref="S4.SS1.p2.6.m6.1.1">1</cn><cn type="integer" id="S4.SS1.p2.6.m6.2.2.cmml" xref="S4.SS1.p2.6.m6.2.2">4</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.6.m6.2c">[1,4]</annotation></semantics></math>, <math id="S4.SS1.p2.7.m7.2" class="ltx_Math" alttext="[1,2]" display="inline"><semantics id="S4.SS1.p2.7.m7.2a"><mrow id="S4.SS1.p2.7.m7.2.3.2" xref="S4.SS1.p2.7.m7.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p2.7.m7.2.3.2.1" xref="S4.SS1.p2.7.m7.2.3.1.cmml">[</mo><mn id="S4.SS1.p2.7.m7.1.1" xref="S4.SS1.p2.7.m7.1.1.cmml">1</mn><mo id="S4.SS1.p2.7.m7.2.3.2.2" xref="S4.SS1.p2.7.m7.2.3.1.cmml">,</mo><mn id="S4.SS1.p2.7.m7.2.2" xref="S4.SS1.p2.7.m7.2.2.cmml">2</mn><mo stretchy="false" id="S4.SS1.p2.7.m7.2.3.2.3" xref="S4.SS1.p2.7.m7.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.7.m7.2b"><interval closure="closed" id="S4.SS1.p2.7.m7.2.3.1.cmml" xref="S4.SS1.p2.7.m7.2.3.2"><cn type="integer" id="S4.SS1.p2.7.m7.1.1.cmml" xref="S4.SS1.p2.7.m7.1.1">1</cn><cn type="integer" id="S4.SS1.p2.7.m7.2.2.cmml" xref="S4.SS1.p2.7.m7.2.2">2</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.7.m7.2c">[1,2]</annotation></semantics></math> and <math id="S4.SS1.p2.8.m8.2" class="ltx_Math" alttext="[2,4]" display="inline"><semantics id="S4.SS1.p2.8.m8.2a"><mrow id="S4.SS1.p2.8.m8.2.3.2" xref="S4.SS1.p2.8.m8.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p2.8.m8.2.3.2.1" xref="S4.SS1.p2.8.m8.2.3.1.cmml">[</mo><mn id="S4.SS1.p2.8.m8.1.1" xref="S4.SS1.p2.8.m8.1.1.cmml">2</mn><mo id="S4.SS1.p2.8.m8.2.3.2.2" xref="S4.SS1.p2.8.m8.2.3.1.cmml">,</mo><mn id="S4.SS1.p2.8.m8.2.2" xref="S4.SS1.p2.8.m8.2.2.cmml">4</mn><mo stretchy="false" id="S4.SS1.p2.8.m8.2.3.2.3" xref="S4.SS1.p2.8.m8.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.8.m8.2b"><interval closure="closed" id="S4.SS1.p2.8.m8.2.3.1.cmml" xref="S4.SS1.p2.8.m8.2.3.2"><cn type="integer" id="S4.SS1.p2.8.m8.1.1.cmml" xref="S4.SS1.p2.8.m8.1.1">2</cn><cn type="integer" id="S4.SS1.p2.8.m8.2.2.cmml" xref="S4.SS1.p2.8.m8.2.2">4</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.8.m8.2c">[2,4]</annotation></semantics></math>. The daily travel plans of EV user 1 follow the statistical analysis of the 2017 National Household Travel Survey (NHTS2017) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>. EV user 2 tends to go to work early and return home early as well. EV user 3 prefers to work overtime and always comes home late. Besides, we introduce some distributions related to the arrival and departure times in different places, comprising the home, the office and the public, to depict the different travel plans of drivers. The details of these distributions are shown in Fig. <a href="#S4.F3" title="Figure 3 ‣ IV-A Training Settings and Results ‣ IV Results and Simulation ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, and the time over 24 hours reflects the user has the probability of leaving or getting to someplace on the next day.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.16" class="ltx_p">In the SAC setting, each policy network <math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="\pi_{\theta_{i}}" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><msub id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml"><mi id="S4.SS1.p3.1.m1.1.1.2" xref="S4.SS1.p3.1.m1.1.1.2.cmml">π</mi><msub id="S4.SS1.p3.1.m1.1.1.3" xref="S4.SS1.p3.1.m1.1.1.3.cmml"><mi id="S4.SS1.p3.1.m1.1.1.3.2" xref="S4.SS1.p3.1.m1.1.1.3.2.cmml">θ</mi><mi id="S4.SS1.p3.1.m1.1.1.3.3" xref="S4.SS1.p3.1.m1.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><apply id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.1.m1.1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p3.1.m1.1.1.2.cmml" xref="S4.SS1.p3.1.m1.1.1.2">𝜋</ci><apply id="S4.SS1.p3.1.m1.1.1.3.cmml" xref="S4.SS1.p3.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p3.1.m1.1.1.3.1.cmml" xref="S4.SS1.p3.1.m1.1.1.3">subscript</csymbol><ci id="S4.SS1.p3.1.m1.1.1.3.2.cmml" xref="S4.SS1.p3.1.m1.1.1.3.2">𝜃</ci><ci id="S4.SS1.p3.1.m1.1.1.3.3.cmml" xref="S4.SS1.p3.1.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">\pi_{\theta_{i}}</annotation></semantics></math> contains four serial fully connected hidden layers <math id="S4.SS1.p3.2.m2.4" class="ltx_Math" alttext="\{128,128,128,128\}" display="inline"><semantics id="S4.SS1.p3.2.m2.4a"><mrow id="S4.SS1.p3.2.m2.4.5.2" xref="S4.SS1.p3.2.m2.4.5.1.cmml"><mo stretchy="false" id="S4.SS1.p3.2.m2.4.5.2.1" xref="S4.SS1.p3.2.m2.4.5.1.cmml">{</mo><mn id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml">128</mn><mo id="S4.SS1.p3.2.m2.4.5.2.2" xref="S4.SS1.p3.2.m2.4.5.1.cmml">,</mo><mn id="S4.SS1.p3.2.m2.2.2" xref="S4.SS1.p3.2.m2.2.2.cmml">128</mn><mo id="S4.SS1.p3.2.m2.4.5.2.3" xref="S4.SS1.p3.2.m2.4.5.1.cmml">,</mo><mn id="S4.SS1.p3.2.m2.3.3" xref="S4.SS1.p3.2.m2.3.3.cmml">128</mn><mo id="S4.SS1.p3.2.m2.4.5.2.4" xref="S4.SS1.p3.2.m2.4.5.1.cmml">,</mo><mn id="S4.SS1.p3.2.m2.4.4" xref="S4.SS1.p3.2.m2.4.4.cmml">128</mn><mo stretchy="false" id="S4.SS1.p3.2.m2.4.5.2.5" xref="S4.SS1.p3.2.m2.4.5.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.4b"><set id="S4.SS1.p3.2.m2.4.5.1.cmml" xref="S4.SS1.p3.2.m2.4.5.2"><cn type="integer" id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1">128</cn><cn type="integer" id="S4.SS1.p3.2.m2.2.2.cmml" xref="S4.SS1.p3.2.m2.2.2">128</cn><cn type="integer" id="S4.SS1.p3.2.m2.3.3.cmml" xref="S4.SS1.p3.2.m2.3.3">128</cn><cn type="integer" id="S4.SS1.p3.2.m2.4.4.cmml" xref="S4.SS1.p3.2.m2.4.4">128</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.4c">\{128,128,128,128\}</annotation></semantics></math> to map the state <math id="S4.SS1.p3.3.m3.1" class="ltx_Math" alttext="s_{t}^{i}" display="inline"><semantics id="S4.SS1.p3.3.m3.1a"><msubsup id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml"><mi id="S4.SS1.p3.3.m3.1.1.2.2" xref="S4.SS1.p3.3.m3.1.1.2.2.cmml">s</mi><mi id="S4.SS1.p3.3.m3.1.1.2.3" xref="S4.SS1.p3.3.m3.1.1.2.3.cmml">t</mi><mi id="S4.SS1.p3.3.m3.1.1.3" xref="S4.SS1.p3.3.m3.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.1b"><apply id="S4.SS1.p3.3.m3.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.3.m3.1.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1">superscript</csymbol><apply id="S4.SS1.p3.3.m3.1.1.2.cmml" xref="S4.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.3.m3.1.1.2.1.cmml" xref="S4.SS1.p3.3.m3.1.1">subscript</csymbol><ci id="S4.SS1.p3.3.m3.1.1.2.2.cmml" xref="S4.SS1.p3.3.m3.1.1.2.2">𝑠</ci><ci id="S4.SS1.p3.3.m3.1.1.2.3.cmml" xref="S4.SS1.p3.3.m3.1.1.2.3">𝑡</ci></apply><ci id="S4.SS1.p3.3.m3.1.1.3.cmml" xref="S4.SS1.p3.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.3.m3.1c">s_{t}^{i}</annotation></semantics></math>. Then two parallel fully connected layers are used to obtain the output <math id="S4.SS1.p3.4.m4.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S4.SS1.p3.4.m4.1a"><mi id="S4.SS1.p3.4.m4.1.1" xref="S4.SS1.p3.4.m4.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.4.m4.1b"><ci id="S4.SS1.p3.4.m4.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.4.m4.1c">\mu</annotation></semantics></math> and <math id="S4.SS1.p3.5.m5.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S4.SS1.p3.5.m5.1a"><mi id="S4.SS1.p3.5.m5.1.1" xref="S4.SS1.p3.5.m5.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.5.m5.1b"><ci id="S4.SS1.p3.5.m5.1.1.cmml" xref="S4.SS1.p3.5.m5.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.5.m5.1c">\sigma</annotation></semantics></math>. Meanwhile, RELU is adopted as the activation function to bound the output. Finally the action <math id="S4.SS1.p3.6.m6.1" class="ltx_Math" alttext="a_{t}^{i}" display="inline"><semantics id="S4.SS1.p3.6.m6.1a"><msubsup id="S4.SS1.p3.6.m6.1.1" xref="S4.SS1.p3.6.m6.1.1.cmml"><mi id="S4.SS1.p3.6.m6.1.1.2.2" xref="S4.SS1.p3.6.m6.1.1.2.2.cmml">a</mi><mi id="S4.SS1.p3.6.m6.1.1.2.3" xref="S4.SS1.p3.6.m6.1.1.2.3.cmml">t</mi><mi id="S4.SS1.p3.6.m6.1.1.3" xref="S4.SS1.p3.6.m6.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.6.m6.1b"><apply id="S4.SS1.p3.6.m6.1.1.cmml" xref="S4.SS1.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.6.m6.1.1.1.cmml" xref="S4.SS1.p3.6.m6.1.1">superscript</csymbol><apply id="S4.SS1.p3.6.m6.1.1.2.cmml" xref="S4.SS1.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.6.m6.1.1.2.1.cmml" xref="S4.SS1.p3.6.m6.1.1">subscript</csymbol><ci id="S4.SS1.p3.6.m6.1.1.2.2.cmml" xref="S4.SS1.p3.6.m6.1.1.2.2">𝑎</ci><ci id="S4.SS1.p3.6.m6.1.1.2.3.cmml" xref="S4.SS1.p3.6.m6.1.1.2.3">𝑡</ci></apply><ci id="S4.SS1.p3.6.m6.1.1.3.cmml" xref="S4.SS1.p3.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.6.m6.1c">a_{t}^{i}</annotation></semantics></math> is generated by re-parameterization trick. On the other hand, the current state <math id="S4.SS1.p3.7.m7.1" class="ltx_Math" alttext="s_{t}^{i}" display="inline"><semantics id="S4.SS1.p3.7.m7.1a"><msubsup id="S4.SS1.p3.7.m7.1.1" xref="S4.SS1.p3.7.m7.1.1.cmml"><mi id="S4.SS1.p3.7.m7.1.1.2.2" xref="S4.SS1.p3.7.m7.1.1.2.2.cmml">s</mi><mi id="S4.SS1.p3.7.m7.1.1.2.3" xref="S4.SS1.p3.7.m7.1.1.2.3.cmml">t</mi><mi id="S4.SS1.p3.7.m7.1.1.3" xref="S4.SS1.p3.7.m7.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.7.m7.1b"><apply id="S4.SS1.p3.7.m7.1.1.cmml" xref="S4.SS1.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.7.m7.1.1.1.cmml" xref="S4.SS1.p3.7.m7.1.1">superscript</csymbol><apply id="S4.SS1.p3.7.m7.1.1.2.cmml" xref="S4.SS1.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.7.m7.1.1.2.1.cmml" xref="S4.SS1.p3.7.m7.1.1">subscript</csymbol><ci id="S4.SS1.p3.7.m7.1.1.2.2.cmml" xref="S4.SS1.p3.7.m7.1.1.2.2">𝑠</ci><ci id="S4.SS1.p3.7.m7.1.1.2.3.cmml" xref="S4.SS1.p3.7.m7.1.1.2.3">𝑡</ci></apply><ci id="S4.SS1.p3.7.m7.1.1.3.cmml" xref="S4.SS1.p3.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.7.m7.1c">s_{t}^{i}</annotation></semantics></math> and action <math id="S4.SS1.p3.8.m8.1" class="ltx_Math" alttext="a_{t}^{i}" display="inline"><semantics id="S4.SS1.p3.8.m8.1a"><msubsup id="S4.SS1.p3.8.m8.1.1" xref="S4.SS1.p3.8.m8.1.1.cmml"><mi id="S4.SS1.p3.8.m8.1.1.2.2" xref="S4.SS1.p3.8.m8.1.1.2.2.cmml">a</mi><mi id="S4.SS1.p3.8.m8.1.1.2.3" xref="S4.SS1.p3.8.m8.1.1.2.3.cmml">t</mi><mi id="S4.SS1.p3.8.m8.1.1.3" xref="S4.SS1.p3.8.m8.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.8.m8.1b"><apply id="S4.SS1.p3.8.m8.1.1.cmml" xref="S4.SS1.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.8.m8.1.1.1.cmml" xref="S4.SS1.p3.8.m8.1.1">superscript</csymbol><apply id="S4.SS1.p3.8.m8.1.1.2.cmml" xref="S4.SS1.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.8.m8.1.1.2.1.cmml" xref="S4.SS1.p3.8.m8.1.1">subscript</csymbol><ci id="S4.SS1.p3.8.m8.1.1.2.2.cmml" xref="S4.SS1.p3.8.m8.1.1.2.2">𝑎</ci><ci id="S4.SS1.p3.8.m8.1.1.2.3.cmml" xref="S4.SS1.p3.8.m8.1.1.2.3">𝑡</ci></apply><ci id="S4.SS1.p3.8.m8.1.1.3.cmml" xref="S4.SS1.p3.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.8.m8.1c">a_{t}^{i}</annotation></semantics></math> are concatenated in the input layer of the critic network, and through the hidden layers <math id="S4.SS1.p3.9.m9.4" class="ltx_Math" alttext="\{128,128,128,1\}" display="inline"><semantics id="S4.SS1.p3.9.m9.4a"><mrow id="S4.SS1.p3.9.m9.4.5.2" xref="S4.SS1.p3.9.m9.4.5.1.cmml"><mo stretchy="false" id="S4.SS1.p3.9.m9.4.5.2.1" xref="S4.SS1.p3.9.m9.4.5.1.cmml">{</mo><mn id="S4.SS1.p3.9.m9.1.1" xref="S4.SS1.p3.9.m9.1.1.cmml">128</mn><mo id="S4.SS1.p3.9.m9.4.5.2.2" xref="S4.SS1.p3.9.m9.4.5.1.cmml">,</mo><mn id="S4.SS1.p3.9.m9.2.2" xref="S4.SS1.p3.9.m9.2.2.cmml">128</mn><mo id="S4.SS1.p3.9.m9.4.5.2.3" xref="S4.SS1.p3.9.m9.4.5.1.cmml">,</mo><mn id="S4.SS1.p3.9.m9.3.3" xref="S4.SS1.p3.9.m9.3.3.cmml">128</mn><mo id="S4.SS1.p3.9.m9.4.5.2.4" xref="S4.SS1.p3.9.m9.4.5.1.cmml">,</mo><mn id="S4.SS1.p3.9.m9.4.4" xref="S4.SS1.p3.9.m9.4.4.cmml">1</mn><mo stretchy="false" id="S4.SS1.p3.9.m9.4.5.2.5" xref="S4.SS1.p3.9.m9.4.5.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.9.m9.4b"><set id="S4.SS1.p3.9.m9.4.5.1.cmml" xref="S4.SS1.p3.9.m9.4.5.2"><cn type="integer" id="S4.SS1.p3.9.m9.1.1.cmml" xref="S4.SS1.p3.9.m9.1.1">128</cn><cn type="integer" id="S4.SS1.p3.9.m9.2.2.cmml" xref="S4.SS1.p3.9.m9.2.2">128</cn><cn type="integer" id="S4.SS1.p3.9.m9.3.3.cmml" xref="S4.SS1.p3.9.m9.3.3">128</cn><cn type="integer" id="S4.SS1.p3.9.m9.4.4.cmml" xref="S4.SS1.p3.9.m9.4.4">1</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.9.m9.4c">\{128,128,128,1\}</annotation></semantics></math> with three RELU functions and one linear rectification function. In the end, the critic network finally ouputs the <math id="S4.SS1.p3.10.m10.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S4.SS1.p3.10.m10.1a"><mi id="S4.SS1.p3.10.m10.1.1" xref="S4.SS1.p3.10.m10.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.10.m10.1b"><ci id="S4.SS1.p3.10.m10.1.1.cmml" xref="S4.SS1.p3.10.m10.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.10.m10.1c">q</annotation></semantics></math> value to help the policy evaluation step. The learning rate for actor, critic and temperature parameter <math id="S4.SS1.p3.11.m11.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS1.p3.11.m11.1a"><mi id="S4.SS1.p3.11.m11.1.1" xref="S4.SS1.p3.11.m11.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.11.m11.1b"><ci id="S4.SS1.p3.11.m11.1.1.cmml" xref="S4.SS1.p3.11.m11.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.11.m11.1c">\alpha</annotation></semantics></math> are set as <math id="S4.SS1.p3.12.m12.1" class="ltx_Math" alttext="10^{-3}" display="inline"><semantics id="S4.SS1.p3.12.m12.1a"><msup id="S4.SS1.p3.12.m12.1.1" xref="S4.SS1.p3.12.m12.1.1.cmml"><mn id="S4.SS1.p3.12.m12.1.1.2" xref="S4.SS1.p3.12.m12.1.1.2.cmml">10</mn><mrow id="S4.SS1.p3.12.m12.1.1.3" xref="S4.SS1.p3.12.m12.1.1.3.cmml"><mo id="S4.SS1.p3.12.m12.1.1.3a" xref="S4.SS1.p3.12.m12.1.1.3.cmml">−</mo><mn id="S4.SS1.p3.12.m12.1.1.3.2" xref="S4.SS1.p3.12.m12.1.1.3.2.cmml">3</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.12.m12.1b"><apply id="S4.SS1.p3.12.m12.1.1.cmml" xref="S4.SS1.p3.12.m12.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.12.m12.1.1.1.cmml" xref="S4.SS1.p3.12.m12.1.1">superscript</csymbol><cn type="integer" id="S4.SS1.p3.12.m12.1.1.2.cmml" xref="S4.SS1.p3.12.m12.1.1.2">10</cn><apply id="S4.SS1.p3.12.m12.1.1.3.cmml" xref="S4.SS1.p3.12.m12.1.1.3"><minus id="S4.SS1.p3.12.m12.1.1.3.1.cmml" xref="S4.SS1.p3.12.m12.1.1.3"></minus><cn type="integer" id="S4.SS1.p3.12.m12.1.1.3.2.cmml" xref="S4.SS1.p3.12.m12.1.1.3.2">3</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.12.m12.1c">10^{-3}</annotation></semantics></math>, <math id="S4.SS1.p3.13.m13.1" class="ltx_Math" alttext="10^{-2}" display="inline"><semantics id="S4.SS1.p3.13.m13.1a"><msup id="S4.SS1.p3.13.m13.1.1" xref="S4.SS1.p3.13.m13.1.1.cmml"><mn id="S4.SS1.p3.13.m13.1.1.2" xref="S4.SS1.p3.13.m13.1.1.2.cmml">10</mn><mrow id="S4.SS1.p3.13.m13.1.1.3" xref="S4.SS1.p3.13.m13.1.1.3.cmml"><mo id="S4.SS1.p3.13.m13.1.1.3a" xref="S4.SS1.p3.13.m13.1.1.3.cmml">−</mo><mn id="S4.SS1.p3.13.m13.1.1.3.2" xref="S4.SS1.p3.13.m13.1.1.3.2.cmml">2</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.13.m13.1b"><apply id="S4.SS1.p3.13.m13.1.1.cmml" xref="S4.SS1.p3.13.m13.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.13.m13.1.1.1.cmml" xref="S4.SS1.p3.13.m13.1.1">superscript</csymbol><cn type="integer" id="S4.SS1.p3.13.m13.1.1.2.cmml" xref="S4.SS1.p3.13.m13.1.1.2">10</cn><apply id="S4.SS1.p3.13.m13.1.1.3.cmml" xref="S4.SS1.p3.13.m13.1.1.3"><minus id="S4.SS1.p3.13.m13.1.1.3.1.cmml" xref="S4.SS1.p3.13.m13.1.1.3"></minus><cn type="integer" id="S4.SS1.p3.13.m13.1.1.3.2.cmml" xref="S4.SS1.p3.13.m13.1.1.3.2">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.13.m13.1c">10^{-2}</annotation></semantics></math> and <math id="S4.SS1.p3.14.m14.1" class="ltx_Math" alttext="10^{-2}" display="inline"><semantics id="S4.SS1.p3.14.m14.1a"><msup id="S4.SS1.p3.14.m14.1.1" xref="S4.SS1.p3.14.m14.1.1.cmml"><mn id="S4.SS1.p3.14.m14.1.1.2" xref="S4.SS1.p3.14.m14.1.1.2.cmml">10</mn><mrow id="S4.SS1.p3.14.m14.1.1.3" xref="S4.SS1.p3.14.m14.1.1.3.cmml"><mo id="S4.SS1.p3.14.m14.1.1.3a" xref="S4.SS1.p3.14.m14.1.1.3.cmml">−</mo><mn id="S4.SS1.p3.14.m14.1.1.3.2" xref="S4.SS1.p3.14.m14.1.1.3.2.cmml">2</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.14.m14.1b"><apply id="S4.SS1.p3.14.m14.1.1.cmml" xref="S4.SS1.p3.14.m14.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.14.m14.1.1.1.cmml" xref="S4.SS1.p3.14.m14.1.1">superscript</csymbol><cn type="integer" id="S4.SS1.p3.14.m14.1.1.2.cmml" xref="S4.SS1.p3.14.m14.1.1.2">10</cn><apply id="S4.SS1.p3.14.m14.1.1.3.cmml" xref="S4.SS1.p3.14.m14.1.1.3"><minus id="S4.SS1.p3.14.m14.1.1.3.1.cmml" xref="S4.SS1.p3.14.m14.1.1.3"></minus><cn type="integer" id="S4.SS1.p3.14.m14.1.1.3.2.cmml" xref="S4.SS1.p3.14.m14.1.1.3.2">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.14.m14.1c">10^{-2}</annotation></semantics></math> respectively. The number of training episodes is 250 and the discount factor <math id="S4.SS1.p3.15.m15.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S4.SS1.p3.15.m15.1a"><mi id="S4.SS1.p3.15.m15.1.1" xref="S4.SS1.p3.15.m15.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.15.m15.1b"><ci id="S4.SS1.p3.15.m15.1.1.cmml" xref="S4.SS1.p3.15.m15.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.15.m15.1c">\gamma</annotation></semantics></math> for each agent is 0.99. The batchsize is set as 128 and the replay buffer size is <math id="S4.SS1.p3.16.m16.1" class="ltx_Math" alttext="10^{5}" display="inline"><semantics id="S4.SS1.p3.16.m16.1a"><msup id="S4.SS1.p3.16.m16.1.1" xref="S4.SS1.p3.16.m16.1.1.cmml"><mn id="S4.SS1.p3.16.m16.1.1.2" xref="S4.SS1.p3.16.m16.1.1.2.cmml">10</mn><mn id="S4.SS1.p3.16.m16.1.1.3" xref="S4.SS1.p3.16.m16.1.1.3.cmml">5</mn></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.16.m16.1b"><apply id="S4.SS1.p3.16.m16.1.1.cmml" xref="S4.SS1.p3.16.m16.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.16.m16.1.1.1.cmml" xref="S4.SS1.p3.16.m16.1.1">superscript</csymbol><cn type="integer" id="S4.SS1.p3.16.m16.1.1.2.cmml" xref="S4.SS1.p3.16.m16.1.1.2">10</cn><cn type="integer" id="S4.SS1.p3.16.m16.1.1.3.cmml" xref="S4.SS1.p3.16.m16.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.16.m16.1c">10^{5}</annotation></semantics></math>.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.1" class="ltx_p">The local reward and global average reward during the whole training are shown in Fig. <a href="#S4.F4" title="Figure 4 ‣ IV-B Simulation ‣ IV Results and Simulation ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> respectively. Every episode reward can be divided into two parts: the price reward part and the anxiety reward part. The incremental trends of all types of rewards reflect the effect of the proposed approach. As shown in Fig. <a href="#S4.F4" title="Figure 4 ‣ IV-B Simulation ‣ IV Results and Simulation ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(a)<math id="S4.SS1.p4.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S4.SS1.p4.1.m1.1a"><mo id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><csymbol cd="latexml" id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">\sim</annotation></semantics></math>(d), the curves become more and more stable during the training process, and these rewards all converge finally.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS2.4.1.1" class="ltx_text">IV-B</span> </span><span id="S4.SS2.5.2" class="ltx_text ltx_font_italic">Simulation</span>
</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">We use one week’s consecutive trip records which consider three different user charging/discharging behaviors to verify the performance of the proposed approach. Users may choose to travel at different times according to their time schedule. In order to depict the user’s dynamic behavior, for a single user, the departure time, arrival time, anxious time and driving time could be different in each trip. In our simulation, drivers depart from home to office in the morning and come home from office in the afternoon during the weekday. On weekends, EV users drive to the public area and EVs are mainly parked in public in the daytime. When EV is in a driving pattern, we assume 5% of capacity is consumed per hour. When EV is not in use, it will be plugged to the grid by and its charging/discharging rate will be adjusted automatically.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">The simulation results are shown in Fig. <a href="#S5.F5" title="Figure 5 ‣ V Conclusion ‣ Federated Reinforcement Learning for Real-Time Electric Vehicle Charging and Discharging Control" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>(a)<math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mo id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><csymbol cd="latexml" id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">\sim</annotation></semantics></math>(f). These charging/discharging actions from different EVs balance well between dynamic electricity prices and their users’ travel plans. EVs are usually in the charging mode when the electricity price is low and in the discharging mode when it is high. But if users need to travel during times of the high electricity price, higher charging cost may be required to ensure their travel plans.</p>
</div>
<figure id="S4.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x9.png" id="S4.F4.sf1.g1" class="ltx_graphics ltx_img_landscape" width="207" height="155" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F4.sf1.3.2" class="ltx_text" style="font-size:80%;">Reward of agent 1</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x10.png" id="S4.F4.sf2.g1" class="ltx_graphics ltx_img_landscape" width="207" height="159" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F4.sf2.3.2" class="ltx_text" style="font-size:80%;">Reward of agent 2</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x11.png" id="S4.F4.sf3.g1" class="ltx_graphics ltx_img_landscape" width="207" height="155" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf3.2.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S4.F4.sf3.3.2" class="ltx_text" style="font-size:80%;">Reward of agent 3</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x12.png" id="S4.F4.sf4.g1" class="ltx_graphics ltx_img_landscape" width="207" height="155" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf4.2.1.1" class="ltx_text" style="font-size:80%;">(d)</span> </span><span id="S4.F4.sf4.3.2" class="ltx_text" style="font-size:80%;">Global average reward</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>The local and global training results</figcaption>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Conclusion</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this paper, a HFRL-based approach was proposed to collaboratively learn a real-time EV charging/discharging control strategy which could perform uniformly well in different kinds of environments. Simulation results showed that the proposed real-time EV charging/discharging control strategy could achieve great performance under the dynamic electricity prices and uncertain users’ charging/discharging behaviors.</p>
</div>
<figure id="S5.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x13.png" id="S5.F5.sf1.g1" class="ltx_graphics ltx_img_landscape" width="212" height="141" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S5.F5.sf1.3.2" class="ltx_text" style="font-size:80%;">EV 1 SoC</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x14.png" id="S5.F5.sf2.g1" class="ltx_graphics ltx_img_landscape" width="212" height="141" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S5.F5.sf2.3.2" class="ltx_text" style="font-size:80%;">EV 1 charging/discharging power</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F5.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x15.png" id="S5.F5.sf3.g1" class="ltx_graphics ltx_img_landscape" width="212" height="141" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf3.2.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S5.F5.sf3.3.2" class="ltx_text" style="font-size:80%;">EV 2 SoC</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F5.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x16.png" id="S5.F5.sf4.g1" class="ltx_graphics ltx_img_landscape" width="212" height="141" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf4.2.1.1" class="ltx_text" style="font-size:80%;">(d)</span> </span><span id="S5.F5.sf4.3.2" class="ltx_text" style="font-size:80%;">EV 2 charging/discharging power</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F5.sf5" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x17.png" id="S5.F5.sf5.g1" class="ltx_graphics ltx_img_landscape" width="212" height="141" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf5.2.1.1" class="ltx_text" style="font-size:80%;">(e)</span> </span><span id="S5.F5.sf5.3.2" class="ltx_text" style="font-size:80%;">EV 3 SoC</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F5.sf6" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.01452/assets/x18.png" id="S5.F5.sf6.g1" class="ltx_graphics ltx_img_landscape" width="212" height="141" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf6.2.1.1" class="ltx_text" style="font-size:80%;">(f)</span> </span><span id="S5.F5.sf6.3.2" class="ltx_text" style="font-size:80%;">EV 3 charging/discharging power</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>EV charging/discharging control strategy performance during one week’s trip</figcaption>
</figure>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_font_smallcaps ltx_title_section">Acknowledgement</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p"><span id="Sx1.p1.1.1" class="ltx_text" style="font-size:70%;">This work was partly supported by the National Nature Science Foundation of China under Grant No. 61601290, and the Shanghai Sailing Program under Grant No. 16YF1407700.</span></p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography" style="font-size:70%;">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock"><span id="bib.bib1.1.1" class="ltx_text" style="font-size:70%;">
C. C. Chan, “The state of the art of electric, hybrid, and fuel cell
vehicles,” </span><em id="bib.bib1.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">Proc. IEEE Proc. IRE</em><span id="bib.bib1.3.3" class="ltx_text" style="font-size:70%;">, vol. 95, no. 4, pp. 704–718, 2007.
</span>
</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock"><span id="bib.bib2.1.1" class="ltx_text" style="font-size:70%;">
W. Kempton and J. Tomić, “Vehicle-to-grid power implementation: From
stabilizing the grid to supporting large-scale renewable energy,”
</span><em id="bib.bib2.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">Journal of power sources</em><span id="bib.bib2.3.3" class="ltx_text" style="font-size:70%;">, vol. 144, no. 1, pp. 280–294, 2005.
</span>
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock"><span id="bib.bib3.1.1" class="ltx_text" style="font-size:70%;">
L. Gan, U. Topcu, and S. H. Low, “Optimal decentralized protocol for electric
vehicle charging,” </span><em id="bib.bib3.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Trans. Power Syst.</em><span id="bib.bib3.3.3" class="ltx_text" style="font-size:70%;">, vol. 28, no. 2, pp.
940–951, 2012.
</span>
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text" style="font-size:70%;">
W. Shi and V. W. Wong, “Real-time vehicle-to-grid control algorithm under
price uncertainty,” in </span><em id="bib.bib4.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">2011 IEEE International Conference on Smart
Grid Communications (SmartGridComm)</em><span id="bib.bib4.3.3" class="ltx_text" style="font-size:70%;">, 2011, pp. 261–266.
</span>
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text" style="font-size:70%;">
F. Zhang, Q. Yang, and D. An, “Cddpg: a deep-reinforcement-learning-based
approach for electric vehicle charging control,” </span><em id="bib.bib5.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Internet Things
J.</em><span id="bib.bib5.3.3" class="ltx_text" style="font-size:70%;">, vol. 8, no. 5, pp. 3075–3087, 2020.
</span>
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text" style="font-size:70%;">
L. Yan, X. Chen, J. Zhou, Y. Chen, and J. Wen, “Deep reinforcement learning
for continuous electric vehicles charging control with dynamic user
behaviors,” </span><em id="bib.bib6.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Trans. Smart Grid</em><span id="bib.bib6.3.3" class="ltx_text" style="font-size:70%;">, vol. 12, no. 6, pp. 5124–5134,
2021.
</span>
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text" style="font-size:70%;">
M. A. Ortega-Vazquez, “Optimal scheduling of electric vehicle charging and
vehicle-to-grid services at household level including battery degradation and
price uncertainty,” </span><em id="bib.bib7.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IET Generation, Transmission &amp; Distribution</em><span id="bib.bib7.3.3" class="ltx_text" style="font-size:70%;">,
vol. 8, no. 6, p. 1007, 2014.
</span>
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text" style="font-size:70%;">
D. Wu, H. Zeng, C. Lu, and B. Boulet, “Two-stage energy management for office
buildings with workplace ev charging and renewable energy,” </span><em id="bib.bib8.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE
Trans. Transport. Electrific.</em><span id="bib.bib8.3.3" class="ltx_text" style="font-size:70%;">, vol. 3, no. 1, pp. 225–237, 2017.
</span>
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text" style="font-size:70%;">
Y. Xu, F. Pan, and L. Tong, “Dynamic scheduling for charging electric
vehicles: A priority rule,” </span><em id="bib.bib9.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Trans. Autom. Control</em><span id="bib.bib9.3.3" class="ltx_text" style="font-size:70%;">, vol. 61,
no. 12, pp. 4094–4099, 2016.
</span>
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text" style="font-size:70%;">
Y. Shi, H. D. Tuan, A. V. Savkin, T. Q. Duong, and H. V. Poor, “Model
predictive control for smart grids with multiple electric-vehicle charging
stations,” </span><em id="bib.bib10.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Trans. Smart Grid</em><span id="bib.bib10.3.3" class="ltx_text" style="font-size:70%;">, vol. 10, no. 2, pp. 2127–2136,
2018.
</span>
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text" style="font-size:70%;">
A. Chiş, J. Lundén, and V. Koivunen, “Reinforcement learning-based
plug-in electric vehicle charging with forecasted price,” </span><em id="bib.bib11.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Trans.
Veh. Technol</em><span id="bib.bib11.3.3" class="ltx_text" style="font-size:70%;">, vol. 66, no. 5, pp. 3674–3684, 2016.
</span>
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_text" style="font-size:70%;">
X. Chen, G. Qu, Y. Tang, S. Low, and N. Li, “Reinforcement learning for
selective key applications in power systems: Recent advances and future
challenges,” </span><em id="bib.bib12.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Trans. Smart Grid</em><span id="bib.bib12.3.3" class="ltx_text" style="font-size:70%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text" style="font-size:70%;">
H. Li, Z. Wan, and H. He, “Real-time residential demand response,” </span><em id="bib.bib13.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE
Trans. Smart Grid</em><span id="bib.bib13.3.3" class="ltx_text" style="font-size:70%;">, vol. 11, no. 5, pp. 4144–4154, 2020.
</span>
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock"><span id="bib.bib14.1.1" class="ltx_text" style="font-size:70%;">
E. Mocanu, D. C. Mocanu, P. H. Nguyen, A. Liotta, M. E. Webber, M. Gibescu, and
J. G. Slootweg, “On-line building energy optimization using deep
reinforcement learning,” </span><em id="bib.bib14.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Trans. Smart Grid</em><span id="bib.bib14.3.3" class="ltx_text" style="font-size:70%;">, vol. 10, no. 4, pp.
3698–3708, 2018.
</span>
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock"><span id="bib.bib15.1.1" class="ltx_text" style="font-size:70%;">
A. A. Zishan, M. M. Haji, and O. Ardakanian, “Adaptive congestion control for
electric vehicle charging in the smart grid,” </span><em id="bib.bib15.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Transactions on
Smart Grid</em><span id="bib.bib15.3.3" class="ltx_text" style="font-size:70%;">, vol. 12, no. 3, pp. 2439–2449, 2021.
</span>
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text" style="font-size:70%;">
L. Yan, X. Chen, Y. Chen, and J. Wen, “A cooperative charging control strategy
for electric vehicles based on multi-agent deep reinforcement learning,”
</span><em id="bib.bib16.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Trans. Ind. Informat.</em><span id="bib.bib16.3.3" class="ltx_text" style="font-size:70%;">, pp. 1–1, 2022.
</span>
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text" style="font-size:70%;">
K. B. Letaief, Y. Shi, J. Lu, and J. Lu, “Edge artificial intelligence for 6g:
Vision, enabling technologies, and applications,” </span><em id="bib.bib17.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Journal on
Selected Areas in Communications</em><span id="bib.bib17.3.3" class="ltx_text" style="font-size:70%;">, vol. 40, no. 1, pp. 5–36, 2021.
</span>
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text" style="font-size:70%;">
K. Yang, Y. Shi, Y. Zhou, Z. Yang, L. Fu, and W. Chen, “Federated machine
learning for intelligent iot via reconfigurable intelligent surface,”
</span><em id="bib.bib18.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Network</em><span id="bib.bib18.3.3" class="ltx_text" style="font-size:70%;">, vol. 34, no. 5, pp. 16–22, 2020.
</span>
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text" style="font-size:70%;">
M. Chen, Z. Yang, W. Saad, C. Yin, H. V. Poor, and S. Cui, “A joint learning
and communications framework for federated learning over wireless networks,”
</span><em id="bib.bib19.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Trans. Wireless Commun.</em><span id="bib.bib19.3.3" class="ltx_text" style="font-size:70%;">, vol. 20, no. 1, pp. 269–283, 2020.
</span>
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text" style="font-size:70%;">
Y. Shi, K. Yang, T. Jiang, J. Zhang, and K. B. Letaief,
“Communication-efficient edge ai: Algorithms and systems,” </span><em id="bib.bib20.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE
Communications Surveys &amp; Tutorials</em><span id="bib.bib20.3.3" class="ltx_text" style="font-size:70%;">, vol. 22, no. 4, pp. 2167–2191, 2020.
</span>
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock"><span id="bib.bib21.1.1" class="ltx_text" style="font-size:70%;">
Z. Yang, M. Chen, W. Saad, C. S. Hong, and M. Shikh-Bahaei, “Energy efficient
federated learning over wireless communication networks,” </span><em id="bib.bib21.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Trans.
Wireless Commun.</em><span id="bib.bib21.3.3" class="ltx_text" style="font-size:70%;">, vol. 20, no. 3, pp. 1935–1949, 2020.
</span>
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock"><span id="bib.bib22.1.1" class="ltx_text" style="font-size:70%;">
Z. Yang, Y. Shi, Y. Zhou, Z. Wang, and K. Yang, “Trustworthy federated
learning via blockchain,” </span><em id="bib.bib22.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Internet of Things Journal</em><span id="bib.bib22.3.3" class="ltx_text" style="font-size:70%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock"><span id="bib.bib23.1.1" class="ltx_text" style="font-size:70%;">
Y. Yang, Y. Zhou, Y. Wu, and Y. Shi, “Differentially private federated
learning via reconfigurable intelligent surface,” </span><em id="bib.bib23.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">arXiv preprint
arXiv:2203.17028</em><span id="bib.bib23.3.3" class="ltx_text" style="font-size:70%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock"><span id="bib.bib24.1.1" class="ltx_text" style="font-size:70%;">
Z. Wang, J. Qiu, Y. Zhou, Y. Shi, L. Fu, W. Chen, and K. B. Letaief,
“Federated learning via intelligent reflecting surface,” </span><em id="bib.bib24.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE Trans.
Wireless Commun.</em><span id="bib.bib24.3.3" class="ltx_text" style="font-size:70%;">, vol. 21, no. 2, pp. 808–822, 2021.
</span>
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock"><span id="bib.bib25.1.1" class="ltx_text" style="font-size:70%;">
J. Qi, Q. Zhou, L. Lei, and K. Zheng, “Federated reinforcement learning:
techniques, applications, and open challenges,” </span><em id="bib.bib25.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">arXiv preprint
arXiv:2108.11887</em><span id="bib.bib25.3.3" class="ltx_text" style="font-size:70%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock"><span id="bib.bib26.1.1" class="ltx_text" style="font-size:70%;">
M. Zhang, Y. Jiang, F.-C. Zheng, M. Bennis, and X. You, “Cooperative edge
caching via federated deep reinforcement learning in fog-rans,” in
</span><em id="bib.bib26.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">2021 IEEE International Conference on Communications Workshops (ICC
Workshops)</em><span id="bib.bib26.3.3" class="ltx_text" style="font-size:70%;">.   IEEE, 2021, pp. 1–6.
</span>
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock"><span id="bib.bib27.1.1" class="ltx_text" style="font-size:70%;">
H. Jin, Y. Peng, W. Yang, S. Wang, and Z. Zhang, “Federated reinforcement
learning with environment heterogeneity,” in </span><em id="bib.bib27.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">International Conference
on Artificial Intelligence and Statistics</em><span id="bib.bib27.3.3" class="ltx_text" style="font-size:70%;">.   PMLR, 2022, pp. 18–37.
</span>
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock"><span id="bib.bib28.1.1" class="ltx_text" style="font-size:70%;">
T. Haarnoja, A. Zhou, P. Abbeel, and S. Levine, “Soft actor-critic: Off-policy
maximum entropy deep reinforcement learning with a stochastic actor,” in
</span><em id="bib.bib28.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">International conference on machine learning</em><span id="bib.bib28.3.3" class="ltx_text" style="font-size:70%;">.   PMLR, 2018, pp. 1861–1870.
</span>
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock"><span id="bib.bib29.1.1" class="ltx_text" style="font-size:70%;">
B. McMahan, E. Moore, D. Ramage, S. Hampson, and B. A. y Arcas,
“Communication-efficient learning of deep networks from decentralized
data,” in </span><em id="bib.bib29.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">Artificial intelligence and statistics</em><span id="bib.bib29.3.3" class="ltx_text" style="font-size:70%;">.   PMLR, 2017, pp. 1273–1282.
</span>
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock"><span id="bib.bib30.1.1" class="ltx_text" style="font-size:70%;">
A. Alsabbagh, B. Wu, and C. Ma, “Distributed electric vehicles charging
management considering time anxiety and customer behaviors,” </span><em id="bib.bib30.2.2" class="ltx_emph ltx_font_italic" style="font-size:70%;">IEEE
Trans. Ind. Informat.</em><span id="bib.bib30.3.3" class="ltx_text" style="font-size:70%;">, vol. 17, no. 4, pp. 2422–2431, 2020.
</span>
</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock"><span id="bib.bib31.1.1" class="ltx_text" style="font-size:70%;">
G. Rhodes, “Electricity market and nrel atb resources,” 01 2020. [Online].
Available: https://data.openei.org/submissions/4033
</span>
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock"><span id="bib.bib32.1.1" class="ltx_text" style="font-size:70%;">
F. H. A. U.S. Department of Transportation, “2017 national household travel
survey.” [Online]. Available: http://nhts.ornl.gov
</span>
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2210.01451" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2210.01452" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2210.01452">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2210.01452" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2210.01453" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Mar 14 01:29:34 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
