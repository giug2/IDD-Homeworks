<article class="ltx_document ltx_authors_1line ltx_leqno">
 <h1 class="ltx_title ltx_title_document">
  A Multi-Agent Conversational Recommender System
 </h1>
 <div class="ltx_authors">
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Jiabao Fang
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_email">
     <a href="mailto:202215111@mail.sdu.edu.cn">
      202215111@mail.sdu.edu.cn
     </a>
    </span>
    <span class="ltx_contact ltx_role_affiliation">
     <span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">
      Shandong University
     </span>
     <span class="ltx_text ltx_affiliation_country" id="id2.2.id2">
      China
     </span>
    </span>
   </span>
  </span>
  <span class="ltx_author_before">
   ,
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Shen Gao
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_email">
     <a href="mailto:shengao@sdu.edu.cn">
      shengao@sdu.edu.cn
     </a>
    </span>
    <span class="ltx_contact ltx_role_affiliation">
     <span class="ltx_text ltx_affiliation_institution" id="id3.1.id1">
      Shandong University
     </span>
     <span class="ltx_text ltx_affiliation_country" id="id4.2.id2">
      China
     </span>
    </span>
   </span>
  </span>
  <span class="ltx_author_before">
   ,
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Pengjie Ren
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_email">
     <a href="mailto:jay.ren@outlook.com">
      jay.ren@outlook.com
     </a>
    </span>
    <span class="ltx_contact ltx_role_affiliation">
     <span class="ltx_text ltx_affiliation_institution" id="id5.1.id1">
      Shandong University
     </span>
     <span class="ltx_text ltx_affiliation_country" id="id6.2.id2">
      China
     </span>
    </span>
   </span>
  </span>
  <span class="ltx_author_before">
   ,
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Xiuying Chen
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_email">
     <a href="mailto:xiuying.chen@kaust.edu.sa">
      xiuying.chen@kaust.edu.sa
     </a>
    </span>
    <span class="ltx_contact ltx_role_affiliation">
     <span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">
      KAUST
     </span>
     <span class="ltx_text ltx_affiliation_country" id="id8.2.id2">
      Kingdom of Saudi Arabia
     </span>
    </span>
   </span>
  </span>
  <span class="ltx_author_before">
   ,
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Suzan Verberne
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_email">
     <a href="mailto:s.verberne@liacs.leidenuniv.nl">
      s.verberne@liacs.leidenuniv.nl
     </a>
    </span>
    <span class="ltx_contact ltx_role_affiliation">
     <span class="ltx_text ltx_affiliation_institution" id="id9.1.id1">
      Leiden University
     </span>
     <span class="ltx_text ltx_affiliation_country" id="id10.2.id2">
      Netherland
     </span>
    </span>
   </span>
  </span>
  <span class="ltx_author_before">
   and
  </span>
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Zhaochun Ren
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_email">
     <a href="mailto:z.ren@liacs.leidenuniv.nl">
      z.ren@liacs.leidenuniv.nl
     </a>
    </span>
    <span class="ltx_contact ltx_role_affiliation">
     <span class="ltx_text ltx_affiliation_institution" id="id11.1.id1">
      Leiden University
     </span>
     <span class="ltx_text ltx_affiliation_country" id="id12.2.id2">
      Netherland
     </span>
    </span>
   </span>
  </span>
 </div>
 <div class="ltx_dates">
  (2024)
 </div>
 <div class="ltx_abstract">
  <h6 class="ltx_title ltx_title_abstract">
   Abstract.
  </h6>
  <p class="ltx_p" id="id13.id1">
   Due to strong capabilities in conducting fluent, multi-turn conversations with users, Large Language Models (LLMs) have the potential to further improve the performance of Conversational Recommender System (CRS).
Unlike the aimless chit-chat that LLM excels at, CRS has a clear target. So it is imperative to control the dialogue flow in the LLM to successfully recommend appropriate items to the users.
Furthermore, user feedback in CRS can assist the system in better modeling user preferences, which has been ignored by existing studies.
However, simply prompting LLM to conduct conversational recommendation cannot address the above two key challenges.
  </p>
  <p class="ltx_p" id="id14.id2">
   In this paper, we propose Multi-Agent Conversational Recommender System (MACRS) which contains two essential modules.
First, we design a multi-agent act planning framework, which can control the dialogue flow based on four LLM-based agents.
This cooperative multi-agent framework will generate various candidate responses based on different dialogue acts and then choose the most appropriate response as the system response, which can help MACRS plan suitable dialogue acts.
Second, we propose a user feedback-aware reflection mechanism which leverages user feedback to reason errors made in previous turns to adjust the dialogue act planning, and higher-level user information from implicit semantics.
We conduct extensive experiments based on user simulator to demonstrate the effectiveness of MACRS in recommendation and user preferences collection.
Experimental results illustrate that MACRS demonstrates an improvement in user interaction experience compared to directly using LLMs.
  </p>
 </div>
 <div class="ltx_keywords">
  Conversational recommendation, Large language models, Multi-agent, In-context learning
 </div>
 <span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id1">
  <sup class="ltx_note_mark">
   †
  </sup>
  <span class="ltx_note_outer">
   <span class="ltx_note_content">
    <sup class="ltx_note_mark">
     †
    </sup>
    <span class="ltx_note_type">
     journalyear:
    </span>
    2024
   </span>
  </span>
 </span>
 <span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id2">
  <sup class="ltx_note_mark">
   †
  </sup>
  <span class="ltx_note_outer">
   <span class="ltx_note_content">
    <sup class="ltx_note_mark">
     †
    </sup>
    <span class="ltx_note_type">
     copyright:
    </span>
    rightsretained
   </span>
  </span>
 </span>
 <span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id3">
  <sup class="ltx_note_mark">
   †
  </sup>
  <span class="ltx_note_outer">
   <span class="ltx_note_content">
    <sup class="ltx_note_mark">
     †
    </sup>
    <span class="ltx_note_type">
     conference:
    </span>
    Proceedings of the 47th International ACM SIGIR Conference on Research and Development in Information Retrieval; July 14–18, 2024; Washington D.C., USA
   </span>
  </span>
 </span>
 <span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="id4">
  <sup class="ltx_note_mark">
   †
  </sup>
  <span class="ltx_note_outer">
   <span class="ltx_note_content">
    <sup class="ltx_note_mark">
     †
    </sup>
    <span class="ltx_note_type">
     booktitle:
    </span>
    Proceedings of the 47th International ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR ’24), July 14–18, 2024, Washington D.C., USA
   </span>
  </span>
 </span>
 <span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id5">
  <sup class="ltx_note_mark">
   †
  </sup>
  <span class="ltx_note_outer">
   <span class="ltx_note_content">
    <sup class="ltx_note_mark">
     †
    </sup>
    <span class="ltx_note_type">
     ccs:
    </span>
    Information systems Recommender system
   </span>
  </span>
 </span>
 <span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id6">
  <sup class="ltx_note_mark">
   †
  </sup>
  <span class="ltx_note_outer">
   <span class="ltx_note_content">
    <sup class="ltx_note_mark">
     †
    </sup>
    <span class="ltx_note_type">
     ccs:
    </span>
    Information systems Users and interactive retrieval
   </span>
  </span>
 </span>
 <section class="ltx_section" id="S1">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    1.
   </span>
   Introduction
  </h2>
  <div class="ltx_para" id="S1.p1">
   <p class="ltx_p" id="S1.p1.1">
    Unlike traditional recommender systems which solely rely on users’ historical behaviors, conversational recommender system (CRS) engages in natural language interactions with the users, allowing the users to better express their needs
    <cite class="ltx_cite ltx_citemacro_citep">
     (Jannach et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib13" title="">
      2021
     </a>
     )
    </cite>
    .
Existing CRS frameworks are generally categorized into two streams:
    <span class="ltx_inline-enumerate" id="S1.I1">
     <span class="ltx_inline-item" id="S1.I1.i1">
      <span class="ltx_tag ltx_tag_inline-item">
       (1)
      </span>
      <span class="ltx_text" id="S1.I1.i1.1">
       The attribute-based CRS learns about user preferences by asking questions about the item attributes and generate responses based on the template. And the users only need to reply “yes/no” to the questions
       <cite class="ltx_cite ltx_citemacro_citep">
        (Lei et al
        <span class="ltx_text">
         .
        </span>
        ,
        <a class="ltx_ref" href="#bib.bib14" title="">
         2020
        </a>
        ; Xu et al
        <span class="ltx_text">
         .
        </span>
        ,
        <a class="ltx_ref" href="#bib.bib34" title="">
         2021
        </a>
        )
       </cite>
       . This approach lacks flexibility as users cannot actively pose questions to the system, while the system can only reply through human-annotated templates.
      </span>
     </span>
     <span class="ltx_inline-item" id="S1.I1.i2">
      <span class="ltx_tag ltx_tag_inline-item">
       (2)
      </span>
      <span class="ltx_text" id="S1.I1.i2.1">
       The generation-based CRS focuses on generating human-like responses, where users can express their intention without limitation
       <cite class="ltx_cite ltx_citemacro_citep">
        (Zhou et al
        <span class="ltx_text">
         .
        </span>
        ,
        <a class="ltx_ref" href="#bib.bib37" title="">
         2020a
        </a>
        ; Wang et al
        <span class="ltx_text">
         .
        </span>
        ,
        <a class="ltx_ref" href="#bib.bib31" title="">
         2022b
        </a>
        ; Ren et al
        <span class="ltx_text">
         .
        </span>
        ,
        <a class="ltx_ref" href="#bib.bib25" title="">
         2022
        </a>
        ; Zhang et al
        <span class="ltx_text">
         .
        </span>
        ,
        <a class="ltx_ref" href="#bib.bib35" title="">
         2023
        </a>
        )
       </cite>
       .
Most previous generation-based methods are based on either pre-defined knowledge-graphs or smaller-scale generative models, which result in poor generalizability and infeasibility in real-world scenarios.
      </span>
     </span>
    </span>
   </p>
  </div>
  <div class="ltx_para" id="S1.p2">
   <p class="ltx_p" id="S1.p2.1">
    Due to powerful language generation ability and the extensive parameterized knowledge embedded in Large Language Models (LLMs), CRS with an LLM base has recently received more and more attention
    <cite class="ltx_cite ltx_citemacro_citep">
     (Friedman et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib5" title="">
      2023
     </a>
     )
    </cite>
    .
Existing CRS with LLMs generally follows two paradigms:
(1)
    <span class="ltx_text ltx_font_italic" id="S1.p2.1.1">
     LLM with external RecSys
    </span>
    : In these methods, the LLM is only used for response generation while an external recommender system is employed to recommend as an individual module
    <cite class="ltx_cite ltx_citemacro_citep">
     (Gao et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib6" title="">
      2023
     </a>
     ; Feng et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib4" title="">
      2023
     </a>
     ; Liu et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib18" title="">
      2023
     </a>
     )
    </cite>
    .
(2)
    <span class="ltx_text ltx_font_italic" id="S1.p2.1.2">
     LLM-only
    </span>
    : The LLM in these methods not only facilitates conversations but also directly generates recommendation results given user preferences
    <cite class="ltx_cite ltx_citemacro_citep">
     (He et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib10" title="">
      2023
     </a>
     ; Wang et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib30" title="">
      2023b
     </a>
     )
    </cite>
    .
However, in recommendation and dialogue tasks, the LLM integrated with an external RecSys CRS relies on distinct modules (
    <em class="ltx_emph ltx_font_italic" id="S1.p2.1.3">
     a.k.a.,
    </em>
    recommendation module and dialogue module).
Unfortunately, a majority of current approaches overlook the exchange of user information between these modules, consequently having an information gap between them.
    <cite class="ltx_cite ltx_citemacro_citep">
     (Wang et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib31" title="">
      2022b
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib29" title="">
      a
     </a>
     )
    </cite>
    .
In contrast, LLM-only CRS can share useful information between the recommendation task and the dialogue task.
   </p>
  </div>
  <div class="ltx_para" id="S1.p3">
   <p class="ltx_p" id="S1.p3.1">
    LLM-only CRS needs to fulfill both the recommendation task and the dialogue task, thus it typically contains various dialogue acts:
(1) An asking act that can actively elicit user preferences;
(2) A recommending act that can provide items to users in natural language form;
(3) A chit-chatting act that can attract user interest and guide the topic of the conversation.
Since a conversational recommendation generally has a clearly defined target – the goal is to recommend a specific item to a user – an engaging CRS with LLM should be able to control the dialogue flow, meaning choose the proper dialogue act at each turn.
For example, when user preferences are ambiguous, the CRS can elicit user preferences through the asking act.
And the CRS can utilize the chit-chatting act to explore various topics and maintain an engaging conversation.
However, previous work shows that the ability of the LLM to control the target-directed dialogue flow remains limited
    <cite class="ltx_cite ltx_citemacro_citep">
     (Hong et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib11" title="">
      2023a
     </a>
     )
    </cite>
    .
For that reason, simply prompting an LLM as a CRS can lead to unreasonable dialogue flows.
For some complex tasks that a single LLM-based agent may struggle to accomplish, researchers propose breaking them down into multiple simpler sub-tasks
    <cite class="ltx_cite ltx_citemacro_citep">
     (Qian et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib22" title="">
      2023
     </a>
     ; Qiao et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib23" title="">
      2024
     </a>
     )
    </cite>
    and then having multiple LLM-based agents collaborate to jointly complete the complex task.
Similarly, CRS is also a type of complex task involving various intricate dialogue acts.
Inspired by these multi-agent approaches
    <cite class="ltx_cite ltx_citemacro_citep">
     (Qian et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib22" title="">
      2023
     </a>
     ; Qiao et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib23" title="">
      2024
     </a>
     ; Hong et al
     <span class="ltx_text">
      .
     </span>
     ,
     <a class="ltx_ref" href="#bib.bib12" title="">
      2023b
     </a>
     )
    </cite>
    , we propose to employ a multi-agent framework on the CRS.
However, designing the architecture of these agents, defining their interactions, and collaborative methods to enhance the performance of the CRS remains challenging.
   </p>
  </div>
  <div class="ltx_para" id="S1.p4">
   <p class="ltx_p" id="S1.p4.1">
    Moreover, the characteristic of CRS is that users and the system can engage in multi-turn interactions.
During this process, users can provide their feedback according to the system responses.
Users can actively clarify their preferences in their feedback.
And this feedback also encompasses their satisfaction towards the recommended items.
Therefore, this informative feedback not only allows the system to obtain more user information but also reflects the reason why the recommendation failed before.
We believe this feedback can be used to dynamically optimize the system during the interaction, but this aspect has been overlooked in previous research.
   </p>
  </div>
  <figure class="ltx_figure" id="S1.F1">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="476" id="S1.F1.g1" src="/html/2402.01135/assets/x1.png" width="438"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 1.
    </span>
    Example of modeling a Conversational Recommendation System (CRS) using a multi-agent framework. The right side shows a dialogue between CRS and user, while the left side depicts the internal framework of MACRS. The responder agent and planner agent collaboratively generate appropriate responses, while the reflection mechanism provides feedback and refined guidance to these agents, optimizing their responses to better satisfy user needs.
   </figcaption>
  </figure>
  <div class="ltx_para" id="S1.p5">
   <p class="ltx_p" id="S1.p5.1">
    To address the above issues, we propose Multi-Agent Conversational Recommender System (MACRS), an LLM-only CRS that can efficiently plan and dynamically refine its dialogue and recommendations.
MACRS comprises two essential modules (Figure
    <a class="ltx_ref" href="#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ A Multi-Agent Conversational Recommender System">
     <span class="ltx_text ltx_ref_tag">
      1
     </span>
    </a>
    ).
The first is
    <span class="ltx_text ltx_font_bold" id="S1.p5.1.1">
     multi-agent act planning
    </span>
    , a cooperative LLM-based multi-agent framework which includes three responder agents and one planner agent.
In order to build an engaging dialogue flow, this framework will plan the dialogue acts for each turn.
Each responder agent in the framework is responsible for performing a dialogue act and generating a candidate response based on its dialogue act.
After collecting various candidate responses, the planner agent will comprehensively consider and select the most appropriate response as the system response.
The second module is
    <span class="ltx_text ltx_font_bold" id="S1.p5.1.2">
     user feedback-aware reflection
    </span>
    , a dynamic optimization mechanism based on the LLM.
This mechanism leverages the user utterances as feedback to adjust the responder agents and the planner agent.
The user feedback-aware reflection contains two levels.
As user feedback in each interaction holds significant information about user preferences, including browsing history and current demand, information-level reflection becomes an essential aspect to consider.
And the information-level reflection will refine the user feedback to create higher-level information, referred to as user profiles.
These user profiles will help the responder agents generate more personalized responses in subsequent interactions.
On the other hand, when the recommendation fails, the act plan of MACRS needs to be adjusted in time according to the user feedback.
Therefore, reflection will also operate on the strategy-level, which will deduce the reasons for the recommend failure and then provide suggestions and experiences to the agents.
Extensive experiments conducted on Movielens demonstrate the effectiveness of MACRS in recommendation and user preferences collection.
   </p>
  </div>
  <div class="ltx_para" id="S1.p6">
   <p class="ltx_p" id="S1.p6.1">
    Our contributions of this work are as follows:
    <span class="ltx_inline-enumerate" id="S1.I2">
     <span class="ltx_inline-item" id="S1.I2.i1">
      <span class="ltx_tag ltx_tag_inline-item">
       (i)
      </span>
      <span class="ltx_text" id="S1.I2.i1.1">
       We propose MACRS, an LLM-only CRS that focuses on controlling the dialogue flow for multi-turn interactions.
      </span>
     </span>
     <span class="ltx_inline-item" id="S1.I2.i2">
      <span class="ltx_tag ltx_tag_inline-item">
       (ii)
      </span>
      <span class="ltx_text" id="S1.I2.i2.1">
       We design a multi-agent act planning framework, including three responder agents and one planner agent.
MACRS completes dialogue act planning by guiding these agents to collaborate.
      </span>
     </span>
     <span class="ltx_inline-item" id="S1.I2.i3">
      <span class="ltx_tag ltx_tag_inline-item">
       (iii)
      </span>
      <span class="ltx_text" id="S1.I2.i3.1">
       We design a user feedback-aware reflection mechanism that leverages the user feedback to dynamically optimize the agent’s response from the information-level and strategy-level.
      </span>
     </span>
     <span class="ltx_inline-item" id="S1.I2.i4">
      <span class="ltx_tag ltx_tag_inline-item">
       (iv)
      </span>
      <span class="ltx_text" id="S1.I2.i4.1">
       Experimental results based on user simulator illustrate the advantage of MACRS in recommendation accuracy and efficiency of user preferences collection.
      </span>
     </span>
    </span>
   </p>
  </div>
 </section>
 <section class="ltx_section" id="S2">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    2.
   </span>
   Related Work
  </h2>
  <section class="ltx_subsection" id="S2.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     2.1.
    </span>
    LLM-based Autonomous Agents
   </h3>
   <div class="ltx_para" id="S2.SS1.p1">
    <p class="ltx_p" id="S2.SS1.p1.1">
     Autonomous agents are considered to be a promising step towards artificial general intelligence (AGI), which can complete tasks through self-directed planning and actions
     <cite class="ltx_cite ltx_citemacro_citep">
      (Zhou et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib39" title="">
       2023
      </a>
      ; Xi et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib33" title="">
       2023
      </a>
      )
     </cite>
     .
Meanwhile, LLMs have become powerful and fluent chatbots with convincing results in many topic domains
     <cite class="ltx_cite ltx_citemacro_citep">
      (Zhao et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib36" title="">
       2023
      </a>
      ; Min et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib20" title="">
       2023
      </a>
      ; Hadi et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib8" title="">
       2023
      </a>
      )
     </cite>
     .
Therefore, there are many attempts to use the LLM as central controllers to construct autonomous agents and thus obtain human-like decision-making capabilities
     <cite class="ltx_cite ltx_citemacro_citep">
      (Wang et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib28" title="">
       2023a
      </a>
      ; Park et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib21" title="">
       2023
      </a>
      )
     </cite>
     , which are also called LLM-based agents.
For example,
     <cite class="ltx_cite ltx_citemacro_citet">
      Gur et al
      <span class="ltx_text">
       .
      </span>
      (
      <a class="ltx_ref" href="#bib.bib7" title="">
       2023
      </a>
      )
     </cite>
     propose an LLM-based agent that can complete user instructions on real websites by combining canonical web actions in a program space.
     <cite class="ltx_cite ltx_citemacro_citet">
      Schick et al
      <span class="ltx_text">
       .
      </span>
      (
      <a class="ltx_ref" href="#bib.bib26" title="">
       2023
      </a>
      )
     </cite>
     propose an LLM-based agent that can teach itself to use external tools via simple APIs.
    </p>
   </div>
   <div class="ltx_para" id="S2.SS1.p2">
    <p class="ltx_p" id="S2.SS1.p2.1">
     Recently, a number of researchers have started to explore LLM-based multi-agent systems, which enable the solution of more complex problems.
For example,
     <cite class="ltx_cite ltx_citemacro_citet">
      Hong et al
      <span class="ltx_text">
       .
      </span>
      (
      <a class="ltx_ref" href="#bib.bib12" title="">
       2023b
      </a>
      )
     </cite>
     propose to incorporate efficient human workflows as a meta programming approach into LLM-based multi-agent collaboration.
In the task of multi-robot cooperation,
     <cite class="ltx_cite ltx_citemacro_citet">
      Mandi et al
      <span class="ltx_text">
       .
      </span>
      (
      <a class="ltx_ref" href="#bib.bib19" title="">
       2023
      </a>
      )
     </cite>
     design multiple LLM-based agents to perform high-level communication and low-level path planning for different robots.
To the best of our knowledge, our study is the first to propose an LLM-based multi-agent system for conversation recommendation.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S2.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     2.2.
    </span>
    Conversational Recommender Systems
   </h3>
   <div class="ltx_para" id="S2.SS2.p1">
    <p class="ltx_p" id="S2.SS2.p1.1">
     Conversational Recommender Systems (CRS) aim to recommend personalized items to users through interactive conversations
     <cite class="ltx_cite ltx_citemacro_citep">
      (Zhou et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib38" title="">
       2020b
      </a>
      )
     </cite>
     .
Conventional CRS can be broadly divided into two categories:
The first category is attribute-based methods, in which the system clarifies user preferences by asking attribute-related questions, and users respond with “yes/no” to the questions.
These methods focus on when and what to ask before deciding about the item(s) to be recommended
     <cite class="ltx_cite ltx_citemacro_citep">
      (Lei et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib14" title="">
       2020
      </a>
      ; Ren et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib24" title="">
       2021
      </a>
      )
     </cite>
     .
For example,
     <cite class="ltx_cite ltx_citemacro_citep">
      (Lei et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib14" title="">
       2020
      </a>
      )
     </cite>
     model conversational recommendation as a path reasoning problem on a user-item-attribute graph.
However, due to the restricted communication between the system and the user, the attribute-based methods lack flexibility.
The second category is generation-based methods, in which both users and the system can communicate using free-form natural language.
Most existing generation-based CRS rely on a knowledge graph for reasoning
     <cite class="ltx_cite ltx_citemacro_citep">
      (Zhou et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib37" title="">
       2020a
      </a>
      ; Chen et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib3" title="">
       2019
      </a>
      )
     </cite>
     .
Furthermore, in order to generate more human-like responses, some prior work uses smaller-scale generative language models (e.g. DialoGPT based on GPT-2) as generators
     <cite class="ltx_cite ltx_citemacro_citep">
      (Wang et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib29" title="">
       2022a
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib31" title="">
       b
      </a>
      )
     </cite>
     .
But due to the limited generalization ability of knowledge graphs and these smaller language models, previous generation-based CRS lack practicality in real-world scenarios.
    </p>
   </div>
   <div class="ltx_para" id="S2.SS2.p2">
    <p class="ltx_p" id="S2.SS2.p2.1">
     Due to the success of LLMs, many researchers have started incorporating it into CRS.
With its powerful natural language generation capabilities and an implicit knowledge base, LLMs have significant potential in conversational recommendation.
Existing LLM-based CRS can be broadly divided into two categories:
(1)
     <cite class="ltx_cite ltx_citemacro_citet">
      Liu et al
      <span class="ltx_text">
       .
      </span>
      (
      <a class="ltx_ref" href="#bib.bib18" title="">
       2023
      </a>
      ); Gao et al
      <span class="ltx_text">
       .
      </span>
      (
      <a class="ltx_ref" href="#bib.bib6" title="">
       2023
      </a>
      ); Feng et al
      <span class="ltx_text">
       .
      </span>
      (
      <a class="ltx_ref" href="#bib.bib4" title="">
       2023
      </a>
      )
     </cite>
     incorporate the LLM with additional recommendation models.
(2)
     <cite class="ltx_cite ltx_citemacro_citet">
      He et al
      <span class="ltx_text">
       .
      </span>
      (
      <a class="ltx_ref" href="#bib.bib10" title="">
       2023
      </a>
      ); Wang et al
      <span class="ltx_text">
       .
      </span>
      (
      <a class="ltx_ref" href="#bib.bib30" title="">
       2023b
      </a>
      )
     </cite>
     use the LLM itself as the CRS.
Although directly using LLM for CRS can share useful knowledge between different tasks, it’s difficult for the LLM to control the goal-directed dialogue flow.
To the best of our knowledge, our study is the first to propose a controlling dialogue flow for the CRS completely constructed on LLM.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S3">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    3.
   </span>
   Methodology
  </h2>
  <section class="ltx_subsection" id="S3.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.1.
    </span>
    Overview
   </h3>
   <div class="ltx_para" id="S3.SS1.p1">
    <p class="ltx_p" id="S3.SS1.p1.1">
     Following previous CRS work
     <cite class="ltx_cite ltx_citemacro_citep">
      (Wang et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib31" title="">
       2022b
      </a>
      )
     </cite>
     , the user initiates the dialogue with the CRS by a natural language utterance to describe their demand.
Then the CRS will respond to the user with an utterance that may ask the user for more details or chit-chat with the user.
After several turns of dialogue to elicit clear user preferences, the CRS tries to recommend an item to the user.
When the user accepts the recommended item given by our CRS, we call this dialogue session a
     <span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.1">
      successful sample
     </span>
     , and then the user will terminate the dialogue.
In our task setting, we also define a
     <span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.2">
      maximum turn threshold
     </span>
     .
When the dialogue reaches the maximum turn threshold, but the CRS still does not provide product suggestions that the user is satisfied with, we have a fallback strategy in which the CRS will give a recommendation list containing 10 items before terminating the dialogue.
Thus, if the CRS cannot recommend an item that satisfies the user demand before reaching the maximum turn threshold and going to the fallback strategy, this dialogue session is referred to as an
     <span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.3">
      unsuccessful sample
     </span>
     .
    </p>
   </div>
   <div class="ltx_para" id="S3.SS1.p2">
    <p class="ltx_p" id="S3.SS1.p2.1">
     In this paper, to tackle this task, we introduce Multi-Agent Conversational Recommender System (MACRS), an LLM-only CRS that can flexibly control the dialogue flow and dynamically optimize the system action with user feedback.
MACRS consists of two modules.
The first is the multi-agent act planning, a cooperative multi-agent framework that integrates four LLM-based agents for planning the multiple dialogue acts, as shown in §
     <a class="ltx_ref" href="#S3.SS2" title="3.2. Multi-Agent Act Planning ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
      <span class="ltx_text ltx_ref_tag">
       3.2
      </span>
     </a>
     .
Secondly, we propose a user feedback-aware reflection mechanism, which can leverage the user feedback to adjust the agents in MACRS, as shown in §
     <a class="ltx_ref" href="#S3.SS3" title="3.3. User Feedback-aware Reflection ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
      <span class="ltx_text ltx_ref_tag">
       3.3
      </span>
     </a>
     .
Figure
     <a class="ltx_ref" href="#S3.F2" title="Figure 2 ‣ 3.2. Multi-Agent Act Planning ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     shows an overview of MACRS.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S3.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.2.
    </span>
    Multi-Agent Act Planning
   </h3>
   <figure class="ltx_figure" id="S3.F2">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="483" id="S3.F2.g1" src="/html/2402.01135/assets/x2.png" width="853"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 2.
     </span>
     The overview of MACRS, which contains two modules: multi-agent act planning and user feedback-aware reflection. The
     <span class="ltx_text ltx_font_italic" id="S3.F2.3.1">
      multi-agent act planning module
     </span>
     generates the response according to the user feedback. The
     <span class="ltx_text ltx_font_italic" id="S3.F2.4.2">
      user feedback-aware reflection module
     </span>
     summarizes the high-level user profile and dialogue strategy suggestions which helps the responder agents to optimize their response.
    </figcaption>
   </figure>
   <div class="ltx_para" id="S3.SS2.p1">
    <p class="ltx_p" id="S3.SS2.p1.1">
     In order to achieve an engaging interaction, a CRS generally can use various dialogue acts.
Therefore, it is essential for the CRS to effectively plan the dialogue flow by selecting suitable dialogue acts for each turn.
The dialogue flow planning plays a crucial role in enhancing the efficiency and attractiveness of the CRS.
To accomplish this complex planning task, we design a multi-agent act planning framework that contains multiple responder agents and one planner agent.
The responder agents are responsible for generating various candidate responses based on different dialogue acts.
The planner agent is responsible for devising a dialogue act plan that can develop an appropriate and fluent dialogue flow.
    </p>
   </div>
   <section class="ltx_subsubsection" id="S3.SS2.SSS1">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      3.2.1.
     </span>
     Responder Agent
    </h4>
    <div class="ltx_para" id="S3.SS2.SSS1.p1">
     <p class="ltx_p" id="S3.SS2.SSS1.p1.3">
      An engaging CRS should incorporate a variety of dialogue acts during multi-turn interactions.
Therefore, we designed three types of responder agents to implement various dialogue acts including asking, chit-chatting, and recommending.
The asking responder agent
      <math alttext="\pi^{r}_{ask}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.1.m1.1">
       <semantics id="S3.SS2.SSS1.p1.1.m1.1a">
        <msubsup id="S3.SS2.SSS1.p1.1.m1.1.1" xref="S3.SS2.SSS1.p1.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS1.p1.1.m1.1.1.2.2" xref="S3.SS2.SSS1.p1.1.m1.1.1.2.2.cmml">
          π
         </mi>
         <mrow id="S3.SS2.SSS1.p1.1.m1.1.1.3" xref="S3.SS2.SSS1.p1.1.m1.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p1.1.m1.1.1.3.2" xref="S3.SS2.SSS1.p1.1.m1.1.1.3.2.cmml">
           a
          </mi>
          <mo id="S3.SS2.SSS1.p1.1.m1.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p1.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p1.1.m1.1.1.3.3" xref="S3.SS2.SSS1.p1.1.m1.1.1.3.3.cmml">
           s
          </mi>
          <mo id="S3.SS2.SSS1.p1.1.m1.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p1.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p1.1.m1.1.1.3.4" xref="S3.SS2.SSS1.p1.1.m1.1.1.3.4.cmml">
           k
          </mi>
         </mrow>
         <mi id="S3.SS2.SSS1.p1.1.m1.1.1.2.3" xref="S3.SS2.SSS1.p1.1.m1.1.1.2.3.cmml">
          r
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.1.m1.1b">
         <apply id="S3.SS2.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS2.SSS1.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.1.m1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS2.SSS1.p1.1.m1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1.2.2">
            𝜋
           </ci>
           <ci id="S3.SS2.SSS1.p1.1.m1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1.2.3">
            𝑟
           </ci>
          </apply>
          <apply id="S3.SS2.SSS1.p1.1.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1.3">
           <times id="S3.SS2.SSS1.p1.1.m1.1.1.3.1.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p1.1.m1.1.1.3.2.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1.3.2">
            𝑎
           </ci>
           <ci id="S3.SS2.SSS1.p1.1.m1.1.1.3.3.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1.3.3">
            𝑠
           </ci>
           <ci id="S3.SS2.SSS1.p1.1.m1.1.1.3.4.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1.3.4">
            𝑘
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.1.m1.1c">
         \pi^{r}_{ask}
        </annotation>
       </semantics>
      </math>
      aims at asking user questions to elicit their preferences.
The recommending responder agent
      <math alttext="\pi^{r}_{rec}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.2.m2.1">
       <semantics id="S3.SS2.SSS1.p1.2.m2.1a">
        <msubsup id="S3.SS2.SSS1.p1.2.m2.1.1" xref="S3.SS2.SSS1.p1.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS1.p1.2.m2.1.1.2.2" xref="S3.SS2.SSS1.p1.2.m2.1.1.2.2.cmml">
          π
         </mi>
         <mrow id="S3.SS2.SSS1.p1.2.m2.1.1.3" xref="S3.SS2.SSS1.p1.2.m2.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p1.2.m2.1.1.3.2" xref="S3.SS2.SSS1.p1.2.m2.1.1.3.2.cmml">
           r
          </mi>
          <mo id="S3.SS2.SSS1.p1.2.m2.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p1.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p1.2.m2.1.1.3.3" xref="S3.SS2.SSS1.p1.2.m2.1.1.3.3.cmml">
           e
          </mi>
          <mo id="S3.SS2.SSS1.p1.2.m2.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p1.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p1.2.m2.1.1.3.4" xref="S3.SS2.SSS1.p1.2.m2.1.1.3.4.cmml">
           c
          </mi>
         </mrow>
         <mi id="S3.SS2.SSS1.p1.2.m2.1.1.2.3" xref="S3.SS2.SSS1.p1.2.m2.1.1.2.3.cmml">
          r
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.2.m2.1b">
         <apply id="S3.SS2.SSS1.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS2.SSS1.p1.2.m2.1.1.2.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.2.m2.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS2.SSS1.p1.2.m2.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.2.2">
            𝜋
           </ci>
           <ci id="S3.SS2.SSS1.p1.2.m2.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.2.3">
            𝑟
           </ci>
          </apply>
          <apply id="S3.SS2.SSS1.p1.2.m2.1.1.3.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.3">
           <times id="S3.SS2.SSS1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.3.2">
            𝑟
           </ci>
           <ci id="S3.SS2.SSS1.p1.2.m2.1.1.3.3.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.3.3">
            𝑒
           </ci>
           <ci id="S3.SS2.SSS1.p1.2.m2.1.1.3.4.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1.3.4">
            𝑐
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.2.m2.1c">
         \pi^{r}_{rec}
        </annotation>
       </semantics>
      </math>
      shows an item to the user that it predicts the user may be interested in.
In order to improve the user experience when interacting with CRS, we cannot repeatedly recommend and ask questions but need to have timely chit-chats with users about the items using the chit-chatting responder agent
      <math alttext="\pi^{r}_{chat}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.3.m3.1">
       <semantics id="S3.SS2.SSS1.p1.3.m3.1a">
        <msubsup id="S3.SS2.SSS1.p1.3.m3.1.1" xref="S3.SS2.SSS1.p1.3.m3.1.1.cmml">
         <mi id="S3.SS2.SSS1.p1.3.m3.1.1.2.2" xref="S3.SS2.SSS1.p1.3.m3.1.1.2.2.cmml">
          π
         </mi>
         <mrow id="S3.SS2.SSS1.p1.3.m3.1.1.3" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p1.3.m3.1.1.3.2" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.2.cmml">
           c
          </mi>
          <mo id="S3.SS2.SSS1.p1.3.m3.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p1.3.m3.1.1.3.3" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.3.cmml">
           h
          </mi>
          <mo id="S3.SS2.SSS1.p1.3.m3.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p1.3.m3.1.1.3.4" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.4.cmml">
           a
          </mi>
          <mo id="S3.SS2.SSS1.p1.3.m3.1.1.3.1b" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p1.3.m3.1.1.3.5" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.5.cmml">
           t
          </mi>
         </mrow>
         <mi id="S3.SS2.SSS1.p1.3.m3.1.1.2.3" xref="S3.SS2.SSS1.p1.3.m3.1.1.2.3.cmml">
          r
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.3.m3.1b">
         <apply id="S3.SS2.SSS1.p1.3.m3.1.1.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.3.m3.1.1.1.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS2.SSS1.p1.3.m3.1.1.2.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.3.m3.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS2.SSS1.p1.3.m3.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.2.2">
            𝜋
           </ci>
           <ci id="S3.SS2.SSS1.p1.3.m3.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.2.3">
            𝑟
           </ci>
          </apply>
          <apply id="S3.SS2.SSS1.p1.3.m3.1.1.3.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.3">
           <times id="S3.SS2.SSS1.p1.3.m3.1.1.3.1.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p1.3.m3.1.1.3.2.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.2">
            𝑐
           </ci>
           <ci id="S3.SS2.SSS1.p1.3.m3.1.1.3.3.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.3">
            ℎ
           </ci>
           <ci id="S3.SS2.SSS1.p1.3.m3.1.1.3.4.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.4">
            𝑎
           </ci>
           <ci id="S3.SS2.SSS1.p1.3.m3.1.1.3.5.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1.3.5">
            𝑡
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.3.m3.1c">
         \pi^{r}_{chat}
        </annotation>
       </semantics>
      </math>
      .
These chit-chats can enhance the user’s interest in interacting with CRS, and can also better understand user preferences, like a real salesperson.
These responder agents share the same agent architecture which is composed of three modules: memory module, profiling module, and action module.
All these modules are defined through in-context learning with instructions in the LLM prompt.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS1.p2">
     <p class="ltx_p" id="S3.SS2.SSS1.p2.6">
      <span class="ltx_text ltx_font_bold" id="S3.SS2.SSS1.p2.6.1">
       The Memory module
      </span>
      contains the dialogue history
      <math alttext="D_{h}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p2.1.m1.1">
       <semantics id="S3.SS2.SSS1.p2.1.m1.1a">
        <msub id="S3.SS2.SSS1.p2.1.m1.1.1" xref="S3.SS2.SSS1.p2.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS1.p2.1.m1.1.1.2" xref="S3.SS2.SSS1.p2.1.m1.1.1.2.cmml">
          D
         </mi>
         <mi id="S3.SS2.SSS1.p2.1.m1.1.1.3" xref="S3.SS2.SSS1.p2.1.m1.1.1.3.cmml">
          h
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.1.m1.1b">
         <apply id="S3.SS2.SSS1.p2.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p2.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p2.1.m1.1.1.1.cmml" xref="S3.SS2.SSS1.p2.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS1.p2.1.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p2.1.m1.1.1.2">
           𝐷
          </ci>
          <ci id="S3.SS2.SSS1.p2.1.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p2.1.m1.1.1.3">
           ℎ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.1.m1.1c">
         D_{h}
        </annotation>
       </semantics>
      </math>
      , the user profile
      <math alttext="U_{p}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p2.2.m2.1">
       <semantics id="S3.SS2.SSS1.p2.2.m2.1a">
        <msub id="S3.SS2.SSS1.p2.2.m2.1.1" xref="S3.SS2.SSS1.p2.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS1.p2.2.m2.1.1.2" xref="S3.SS2.SSS1.p2.2.m2.1.1.2.cmml">
          U
         </mi>
         <mi id="S3.SS2.SSS1.p2.2.m2.1.1.3" xref="S3.SS2.SSS1.p2.2.m2.1.1.3.cmml">
          p
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.2.m2.1b">
         <apply id="S3.SS2.SSS1.p2.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p2.2.m2.1.1.1.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS1.p2.2.m2.1.1.2.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.2">
           𝑈
          </ci>
          <ci id="S3.SS2.SSS1.p2.2.m2.1.1.3.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.2.m2.1c">
         U_{p}
        </annotation>
       </semantics>
      </math>
      (as mentioned in §
      <a class="ltx_ref" href="#S3.SS3.SSS1" title="3.3.1. Information-level Reflection ‣ 3.3. User Feedback-aware Reflection ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
       <span class="ltx_text ltx_ref_tag">
        3.3.1
       </span>
      </a>
      ) and strategy-level suggestions
      <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p2.3.m3.1">
       <semantics id="S3.SS2.SSS1.p2.3.m3.1a">
        <mi id="S3.SS2.SSS1.p2.3.m3.1.1" xref="S3.SS2.SSS1.p2.3.m3.1.1.cmml">
         S
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.3.m3.1b">
         <ci id="S3.SS2.SSS1.p2.3.m3.1.1.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1">
          𝑆
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.3.m3.1c">
         S
        </annotation>
       </semantics>
      </math>
      (as mentioned in §
      <a class="ltx_ref" href="#S3.SS3.SSS2" title="3.3.2. Strategy-level Reflection ‣ 3.3. User Feedback-aware Reflection ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
       <span class="ltx_text ltx_ref_tag">
        3.3.2
       </span>
      </a>
      ).
The dialogue history
      <math alttext="D_{h}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p2.4.m4.1">
       <semantics id="S3.SS2.SSS1.p2.4.m4.1a">
        <msub id="S3.SS2.SSS1.p2.4.m4.1.1" xref="S3.SS2.SSS1.p2.4.m4.1.1.cmml">
         <mi id="S3.SS2.SSS1.p2.4.m4.1.1.2" xref="S3.SS2.SSS1.p2.4.m4.1.1.2.cmml">
          D
         </mi>
         <mi id="S3.SS2.SSS1.p2.4.m4.1.1.3" xref="S3.SS2.SSS1.p2.4.m4.1.1.3.cmml">
          h
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.4.m4.1b">
         <apply id="S3.SS2.SSS1.p2.4.m4.1.1.cmml" xref="S3.SS2.SSS1.p2.4.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p2.4.m4.1.1.1.cmml" xref="S3.SS2.SSS1.p2.4.m4.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS1.p2.4.m4.1.1.2.cmml" xref="S3.SS2.SSS1.p2.4.m4.1.1.2">
           𝐷
          </ci>
          <ci id="S3.SS2.SSS1.p2.4.m4.1.1.3.cmml" xref="S3.SS2.SSS1.p2.4.m4.1.1.3">
           ℎ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.4.m4.1c">
         D_{h}
        </annotation>
       </semantics>
      </math>
      comprises the user utterances and system responses from previous turns.
The user profile
      <math alttext="U_{p}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p2.5.m5.1">
       <semantics id="S3.SS2.SSS1.p2.5.m5.1a">
        <msub id="S3.SS2.SSS1.p2.5.m5.1.1" xref="S3.SS2.SSS1.p2.5.m5.1.1.cmml">
         <mi id="S3.SS2.SSS1.p2.5.m5.1.1.2" xref="S3.SS2.SSS1.p2.5.m5.1.1.2.cmml">
          U
         </mi>
         <mi id="S3.SS2.SSS1.p2.5.m5.1.1.3" xref="S3.SS2.SSS1.p2.5.m5.1.1.3.cmml">
          p
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.5.m5.1b">
         <apply id="S3.SS2.SSS1.p2.5.m5.1.1.cmml" xref="S3.SS2.SSS1.p2.5.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p2.5.m5.1.1.1.cmml" xref="S3.SS2.SSS1.p2.5.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS1.p2.5.m5.1.1.2.cmml" xref="S3.SS2.SSS1.p2.5.m5.1.1.2">
           𝑈
          </ci>
          <ci id="S3.SS2.SSS1.p2.5.m5.1.1.3.cmml" xref="S3.SS2.SSS1.p2.5.m5.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.5.m5.1c">
         U_{p}
        </annotation>
       </semantics>
      </math>
      contains the user’s current demand and browsing history.
The strategy-level suggestions
      <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p2.6.m6.1">
       <semantics id="S3.SS2.SSS1.p2.6.m6.1a">
        <mi id="S3.SS2.SSS1.p2.6.m6.1.1" xref="S3.SS2.SSS1.p2.6.m6.1.1.cmml">
         S
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.6.m6.1b">
         <ci id="S3.SS2.SSS1.p2.6.m6.1.1.cmml" xref="S3.SS2.SSS1.p2.6.m6.1.1">
          𝑆
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.6.m6.1c">
         S
        </annotation>
       </semantics>
      </math>
      are the guidance for the responder agents in the current turn and are learned from user feedback in previous turns.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS1.p3">
     <p class="ltx_p" id="S3.SS2.SSS1.p3.1">
      <span class="ltx_text ltx_font_bold" id="S3.SS2.SSS1.p3.1.1">
       The Profiling module
      </span>
      refers to the instructions and indicates the role of the responder agent.
Obviously, responder agents for different dialogue acts need to complete different task objectives, we separately design the instructions for each of the agents:
     </p>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS1.p4">
     <p class="ltx_p" id="S3.SS2.SSS1.p4.2">
      (1) Instruction
      <math alttext="I_{ask}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p4.1.m1.1">
       <semantics id="S3.SS2.SSS1.p4.1.m1.1a">
        <msub id="S3.SS2.SSS1.p4.1.m1.1.1" xref="S3.SS2.SSS1.p4.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS1.p4.1.m1.1.1.2" xref="S3.SS2.SSS1.p4.1.m1.1.1.2.cmml">
          I
         </mi>
         <mrow id="S3.SS2.SSS1.p4.1.m1.1.1.3" xref="S3.SS2.SSS1.p4.1.m1.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p4.1.m1.1.1.3.2" xref="S3.SS2.SSS1.p4.1.m1.1.1.3.2.cmml">
           a
          </mi>
          <mo id="S3.SS2.SSS1.p4.1.m1.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p4.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p4.1.m1.1.1.3.3" xref="S3.SS2.SSS1.p4.1.m1.1.1.3.3.cmml">
           s
          </mi>
          <mo id="S3.SS2.SSS1.p4.1.m1.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p4.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p4.1.m1.1.1.3.4" xref="S3.SS2.SSS1.p4.1.m1.1.1.3.4.cmml">
           k
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p4.1.m1.1b">
         <apply id="S3.SS2.SSS1.p4.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p4.1.m1.1.1.1.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS1.p4.1.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1.2">
           𝐼
          </ci>
          <apply id="S3.SS2.SSS1.p4.1.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1.3">
           <times id="S3.SS2.SSS1.p4.1.m1.1.1.3.1.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p4.1.m1.1.1.3.2.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1.3.2">
            𝑎
           </ci>
           <ci id="S3.SS2.SSS1.p4.1.m1.1.1.3.3.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1.3.3">
            𝑠
           </ci>
           <ci id="S3.SS2.SSS1.p4.1.m1.1.1.3.4.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1.3.4">
            𝑘
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p4.1.m1.1c">
         I_{ask}
        </annotation>
       </semantics>
      </math>
      for asking responder agent
      <math alttext="\pi^{r}_{ask}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p4.2.m2.1">
       <semantics id="S3.SS2.SSS1.p4.2.m2.1a">
        <msubsup id="S3.SS2.SSS1.p4.2.m2.1.1" xref="S3.SS2.SSS1.p4.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS1.p4.2.m2.1.1.2.2" xref="S3.SS2.SSS1.p4.2.m2.1.1.2.2.cmml">
          π
         </mi>
         <mrow id="S3.SS2.SSS1.p4.2.m2.1.1.3" xref="S3.SS2.SSS1.p4.2.m2.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p4.2.m2.1.1.3.2" xref="S3.SS2.SSS1.p4.2.m2.1.1.3.2.cmml">
           a
          </mi>
          <mo id="S3.SS2.SSS1.p4.2.m2.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p4.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p4.2.m2.1.1.3.3" xref="S3.SS2.SSS1.p4.2.m2.1.1.3.3.cmml">
           s
          </mi>
          <mo id="S3.SS2.SSS1.p4.2.m2.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p4.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p4.2.m2.1.1.3.4" xref="S3.SS2.SSS1.p4.2.m2.1.1.3.4.cmml">
           k
          </mi>
         </mrow>
         <mi id="S3.SS2.SSS1.p4.2.m2.1.1.2.3" xref="S3.SS2.SSS1.p4.2.m2.1.1.2.3.cmml">
          r
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p4.2.m2.1b">
         <apply id="S3.SS2.SSS1.p4.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p4.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p4.2.m2.1.1.1.cmml" xref="S3.SS2.SSS1.p4.2.m2.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS2.SSS1.p4.2.m2.1.1.2.cmml" xref="S3.SS2.SSS1.p4.2.m2.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.SSS1.p4.2.m2.1.1.2.1.cmml" xref="S3.SS2.SSS1.p4.2.m2.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS2.SSS1.p4.2.m2.1.1.2.2.cmml" xref="S3.SS2.SSS1.p4.2.m2.1.1.2.2">
            𝜋
           </ci>
           <ci id="S3.SS2.SSS1.p4.2.m2.1.1.2.3.cmml" xref="S3.SS2.SSS1.p4.2.m2.1.1.2.3">
            𝑟
           </ci>
          </apply>
          <apply id="S3.SS2.SSS1.p4.2.m2.1.1.3.cmml" xref="S3.SS2.SSS1.p4.2.m2.1.1.3">
           <times id="S3.SS2.SSS1.p4.2.m2.1.1.3.1.cmml" xref="S3.SS2.SSS1.p4.2.m2.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p4.2.m2.1.1.3.2.cmml" xref="S3.SS2.SSS1.p4.2.m2.1.1.3.2">
            𝑎
           </ci>
           <ci id="S3.SS2.SSS1.p4.2.m2.1.1.3.3.cmml" xref="S3.SS2.SSS1.p4.2.m2.1.1.3.3">
            𝑠
           </ci>
           <ci id="S3.SS2.SSS1.p4.2.m2.1.1.3.4.cmml" xref="S3.SS2.SSS1.p4.2.m2.1.1.3.4">
            𝑘
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p4.2.m2.1c">
         \pi^{r}_{ask}
        </annotation>
       </semantics>
      </math>
      :
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS1.p5">
     <svg class="ltx_picture" height="39.86" id="S3.SS2.SSS1.p5.pic1" overflow="visible" version="1.1" width="600">
      <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,39.86) matrix(1 0 0 -1 0 0)">
       <g fill="#6E6E6E" fill-opacity="1.0">
        <path d="M 0 5.91 L 0 33.95 C 0 37.21 2.64 39.86 5.91 39.86 L 594.09 39.86 C 597.36 39.86 600 37.21 600 33.95 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#FCFCFC" fill-opacity="1.0">
        <path d="M 1.97 5.91 L 1.97 33.95 C 1.97 36.13 3.73 37.89 5.91 37.89 L 594.09 37.89 C 596.27 37.89 598.03 36.13 598.03 33.95 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
        <foreignobject color="#000000" height="12.3" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
         <span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S3.SS2.SSS1.p5.pic1.1.1.1.1.1" style="width:402.3pt;">
          <span class="ltx_p" id="S3.SS2.SSS1.p5.pic1.1.1.1.1.1.1">
           You should elicit user preferences by asking questions.
          </span>
         </span>
        </foreignobject>
       </g>
      </g>
     </svg>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS1.p6">
     <p class="ltx_p" id="S3.SS2.SSS1.p6.2">
      (2) Instruction
      <math alttext="I_{chat}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p6.1.m1.1">
       <semantics id="S3.SS2.SSS1.p6.1.m1.1a">
        <msub id="S3.SS2.SSS1.p6.1.m1.1.1" xref="S3.SS2.SSS1.p6.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS1.p6.1.m1.1.1.2" xref="S3.SS2.SSS1.p6.1.m1.1.1.2.cmml">
          I
         </mi>
         <mrow id="S3.SS2.SSS1.p6.1.m1.1.1.3" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p6.1.m1.1.1.3.2" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.2.cmml">
           c
          </mi>
          <mo id="S3.SS2.SSS1.p6.1.m1.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p6.1.m1.1.1.3.3" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.3.cmml">
           h
          </mi>
          <mo id="S3.SS2.SSS1.p6.1.m1.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p6.1.m1.1.1.3.4" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.4.cmml">
           a
          </mi>
          <mo id="S3.SS2.SSS1.p6.1.m1.1.1.3.1b" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p6.1.m1.1.1.3.5" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.5.cmml">
           t
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.1.m1.1b">
         <apply id="S3.SS2.SSS1.p6.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p6.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.1.m1.1.1.1.cmml" xref="S3.SS2.SSS1.p6.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS1.p6.1.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p6.1.m1.1.1.2">
           𝐼
          </ci>
          <apply id="S3.SS2.SSS1.p6.1.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p6.1.m1.1.1.3">
           <times id="S3.SS2.SSS1.p6.1.m1.1.1.3.1.cmml" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p6.1.m1.1.1.3.2.cmml" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.2">
            𝑐
           </ci>
           <ci id="S3.SS2.SSS1.p6.1.m1.1.1.3.3.cmml" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.3">
            ℎ
           </ci>
           <ci id="S3.SS2.SSS1.p6.1.m1.1.1.3.4.cmml" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.4">
            𝑎
           </ci>
           <ci id="S3.SS2.SSS1.p6.1.m1.1.1.3.5.cmml" xref="S3.SS2.SSS1.p6.1.m1.1.1.3.5">
            𝑡
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.1.m1.1c">
         I_{chat}
        </annotation>
       </semantics>
      </math>
      for chit-chatting agent
      <math alttext="\pi^{r}_{chat}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p6.2.m2.1">
       <semantics id="S3.SS2.SSS1.p6.2.m2.1a">
        <msubsup id="S3.SS2.SSS1.p6.2.m2.1.1" xref="S3.SS2.SSS1.p6.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS1.p6.2.m2.1.1.2.2" xref="S3.SS2.SSS1.p6.2.m2.1.1.2.2.cmml">
          π
         </mi>
         <mrow id="S3.SS2.SSS1.p6.2.m2.1.1.3" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p6.2.m2.1.1.3.2" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.2.cmml">
           c
          </mi>
          <mo id="S3.SS2.SSS1.p6.2.m2.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p6.2.m2.1.1.3.3" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.3.cmml">
           h
          </mi>
          <mo id="S3.SS2.SSS1.p6.2.m2.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p6.2.m2.1.1.3.4" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.4.cmml">
           a
          </mi>
          <mo id="S3.SS2.SSS1.p6.2.m2.1.1.3.1b" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p6.2.m2.1.1.3.5" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.5.cmml">
           t
          </mi>
         </mrow>
         <mi id="S3.SS2.SSS1.p6.2.m2.1.1.2.3" xref="S3.SS2.SSS1.p6.2.m2.1.1.2.3.cmml">
          r
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.2.m2.1b">
         <apply id="S3.SS2.SSS1.p6.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.2.m2.1.1.1.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS2.SSS1.p6.2.m2.1.1.2.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.2.m2.1.1.2.1.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS2.SSS1.p6.2.m2.1.1.2.2.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.2.2">
            𝜋
           </ci>
           <ci id="S3.SS2.SSS1.p6.2.m2.1.1.2.3.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.2.3">
            𝑟
           </ci>
          </apply>
          <apply id="S3.SS2.SSS1.p6.2.m2.1.1.3.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.3">
           <times id="S3.SS2.SSS1.p6.2.m2.1.1.3.1.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p6.2.m2.1.1.3.2.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.2">
            𝑐
           </ci>
           <ci id="S3.SS2.SSS1.p6.2.m2.1.1.3.3.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.3">
            ℎ
           </ci>
           <ci id="S3.SS2.SSS1.p6.2.m2.1.1.3.4.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.4">
            𝑎
           </ci>
           <ci id="S3.SS2.SSS1.p6.2.m2.1.1.3.5.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.3.5">
            𝑡
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.2.m2.1c">
         \pi^{r}_{chat}
        </annotation>
       </semantics>
      </math>
      :
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS1.p7">
     <svg class="ltx_picture" height="73.07" id="S3.SS2.SSS1.p7.pic1" overflow="visible" version="1.1" width="600">
      <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,73.07) matrix(1 0 0 -1 0 0)">
       <g fill="#6E6E6E" fill-opacity="1.0">
        <path d="M 0 5.91 L 0 67.16 C 0 70.42 2.64 73.07 5.91 73.07 L 594.09 73.07 C 597.36 73.07 600 70.42 600 67.16 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#FCFCFC" fill-opacity="1.0">
        <path d="M 1.97 5.91 L 1.97 67.16 C 1.97 69.34 3.73 71.1 5.91 71.1 L 594.09 71.1 C 596.27 71.1 598.03 69.34 598.03 67.16 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
        <foreignobject color="#000000" height="45.51" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
         <span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S3.SS2.SSS1.p7.pic1.1.1.1.1.1" style="width:402.3pt;">
          <span class="ltx_p" id="S3.SS2.SSS1.p7.pic1.1.1.1.1.1.1">
           You should chit-chat with the user to learn about their preferences.
You can express your admiration for certain item elements to guide the conversation towards them, thereby gaining insights into the user preferences regarding those elements.
          </span>
         </span>
        </foreignobject>
       </g>
      </g>
     </svg>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS1.p8">
     <p class="ltx_p" id="S3.SS2.SSS1.p8.2">
      (3) Instruction
      <math alttext="I_{rec}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p8.1.m1.1">
       <semantics id="S3.SS2.SSS1.p8.1.m1.1a">
        <msub id="S3.SS2.SSS1.p8.1.m1.1.1" xref="S3.SS2.SSS1.p8.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS1.p8.1.m1.1.1.2" xref="S3.SS2.SSS1.p8.1.m1.1.1.2.cmml">
          I
         </mi>
         <mrow id="S3.SS2.SSS1.p8.1.m1.1.1.3" xref="S3.SS2.SSS1.p8.1.m1.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p8.1.m1.1.1.3.2" xref="S3.SS2.SSS1.p8.1.m1.1.1.3.2.cmml">
           r
          </mi>
          <mo id="S3.SS2.SSS1.p8.1.m1.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p8.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p8.1.m1.1.1.3.3" xref="S3.SS2.SSS1.p8.1.m1.1.1.3.3.cmml">
           e
          </mi>
          <mo id="S3.SS2.SSS1.p8.1.m1.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p8.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p8.1.m1.1.1.3.4" xref="S3.SS2.SSS1.p8.1.m1.1.1.3.4.cmml">
           c
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p8.1.m1.1b">
         <apply id="S3.SS2.SSS1.p8.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p8.1.m1.1.1.1.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS1.p8.1.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.2">
           𝐼
          </ci>
          <apply id="S3.SS2.SSS1.p8.1.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.3">
           <times id="S3.SS2.SSS1.p8.1.m1.1.1.3.1.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p8.1.m1.1.1.3.2.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.3.2">
            𝑟
           </ci>
           <ci id="S3.SS2.SSS1.p8.1.m1.1.1.3.3.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.3.3">
            𝑒
           </ci>
           <ci id="S3.SS2.SSS1.p8.1.m1.1.1.3.4.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.3.4">
            𝑐
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p8.1.m1.1c">
         I_{rec}
        </annotation>
       </semantics>
      </math>
      for recommending agent
      <math alttext="\pi^{r}_{rec}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p8.2.m2.1">
       <semantics id="S3.SS2.SSS1.p8.2.m2.1a">
        <msubsup id="S3.SS2.SSS1.p8.2.m2.1.1" xref="S3.SS2.SSS1.p8.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS1.p8.2.m2.1.1.2.2" xref="S3.SS2.SSS1.p8.2.m2.1.1.2.2.cmml">
          π
         </mi>
         <mrow id="S3.SS2.SSS1.p8.2.m2.1.1.3" xref="S3.SS2.SSS1.p8.2.m2.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p8.2.m2.1.1.3.2" xref="S3.SS2.SSS1.p8.2.m2.1.1.3.2.cmml">
           r
          </mi>
          <mo id="S3.SS2.SSS1.p8.2.m2.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p8.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p8.2.m2.1.1.3.3" xref="S3.SS2.SSS1.p8.2.m2.1.1.3.3.cmml">
           e
          </mi>
          <mo id="S3.SS2.SSS1.p8.2.m2.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p8.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p8.2.m2.1.1.3.4" xref="S3.SS2.SSS1.p8.2.m2.1.1.3.4.cmml">
           c
          </mi>
         </mrow>
         <mi id="S3.SS2.SSS1.p8.2.m2.1.1.2.3" xref="S3.SS2.SSS1.p8.2.m2.1.1.2.3.cmml">
          r
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p8.2.m2.1b">
         <apply id="S3.SS2.SSS1.p8.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p8.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p8.2.m2.1.1.1.cmml" xref="S3.SS2.SSS1.p8.2.m2.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS2.SSS1.p8.2.m2.1.1.2.cmml" xref="S3.SS2.SSS1.p8.2.m2.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.SSS1.p8.2.m2.1.1.2.1.cmml" xref="S3.SS2.SSS1.p8.2.m2.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS2.SSS1.p8.2.m2.1.1.2.2.cmml" xref="S3.SS2.SSS1.p8.2.m2.1.1.2.2">
            𝜋
           </ci>
           <ci id="S3.SS2.SSS1.p8.2.m2.1.1.2.3.cmml" xref="S3.SS2.SSS1.p8.2.m2.1.1.2.3">
            𝑟
           </ci>
          </apply>
          <apply id="S3.SS2.SSS1.p8.2.m2.1.1.3.cmml" xref="S3.SS2.SSS1.p8.2.m2.1.1.3">
           <times id="S3.SS2.SSS1.p8.2.m2.1.1.3.1.cmml" xref="S3.SS2.SSS1.p8.2.m2.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p8.2.m2.1.1.3.2.cmml" xref="S3.SS2.SSS1.p8.2.m2.1.1.3.2">
            𝑟
           </ci>
           <ci id="S3.SS2.SSS1.p8.2.m2.1.1.3.3.cmml" xref="S3.SS2.SSS1.p8.2.m2.1.1.3.3">
            𝑒
           </ci>
           <ci id="S3.SS2.SSS1.p8.2.m2.1.1.3.4.cmml" xref="S3.SS2.SSS1.p8.2.m2.1.1.3.4">
            𝑐
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p8.2.m2.1c">
         \pi^{r}_{rec}
        </annotation>
       </semantics>
      </math>
      :
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS1.p9">
     <svg class="ltx_picture" height="45.62" id="S3.SS2.SSS1.p9.pic1" overflow="visible" version="1.1" width="600">
      <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,45.62) matrix(1 0 0 -1 0 0)">
       <g fill="#6E6E6E" fill-opacity="1.0">
        <path d="M 0 5.91 L 0 39.72 C 0 42.98 2.64 45.62 5.91 45.62 L 594.09 45.62 C 597.36 45.62 600 42.98 600 39.72 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#FCFCFC" fill-opacity="1.0">
        <path d="M 1.97 5.91 L 1.97 39.72 C 1.97 41.89 3.73 43.66 5.91 43.66 L 594.09 43.66 C 596.27 43.66 598.03 41.89 598.03 39.72 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
        <foreignobject color="#000000" height="18.06" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
         <span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S3.SS2.SSS1.p9.pic1.1.1.1.1.1" style="width:402.3pt;">
          <span class="ltx_p" id="S3.SS2.SSS1.p9.pic1.1.1.1.1.1.1">
           You should recommend an item to user and generate an engaging description about the item.
          </span>
         </span>
        </foreignobject>
       </g>
      </g>
     </svg>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS1.p10">
     <p class="ltx_p" id="S3.SS2.SSS1.p10.3">
      <span class="ltx_text ltx_font_bold" id="S3.SS2.SSS1.p10.3.1">
       The Action module
      </span>
      generates three candidate responses
      <math alttext="R_{ask}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p10.1.m1.1">
       <semantics id="S3.SS2.SSS1.p10.1.m1.1a">
        <msub id="S3.SS2.SSS1.p10.1.m1.1.1" xref="S3.SS2.SSS1.p10.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS1.p10.1.m1.1.1.2" xref="S3.SS2.SSS1.p10.1.m1.1.1.2.cmml">
          R
         </mi>
         <mrow id="S3.SS2.SSS1.p10.1.m1.1.1.3" xref="S3.SS2.SSS1.p10.1.m1.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p10.1.m1.1.1.3.2" xref="S3.SS2.SSS1.p10.1.m1.1.1.3.2.cmml">
           a
          </mi>
          <mo id="S3.SS2.SSS1.p10.1.m1.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p10.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p10.1.m1.1.1.3.3" xref="S3.SS2.SSS1.p10.1.m1.1.1.3.3.cmml">
           s
          </mi>
          <mo id="S3.SS2.SSS1.p10.1.m1.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p10.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p10.1.m1.1.1.3.4" xref="S3.SS2.SSS1.p10.1.m1.1.1.3.4.cmml">
           k
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p10.1.m1.1b">
         <apply id="S3.SS2.SSS1.p10.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p10.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p10.1.m1.1.1.1.cmml" xref="S3.SS2.SSS1.p10.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS1.p10.1.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p10.1.m1.1.1.2">
           𝑅
          </ci>
          <apply id="S3.SS2.SSS1.p10.1.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p10.1.m1.1.1.3">
           <times id="S3.SS2.SSS1.p10.1.m1.1.1.3.1.cmml" xref="S3.SS2.SSS1.p10.1.m1.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p10.1.m1.1.1.3.2.cmml" xref="S3.SS2.SSS1.p10.1.m1.1.1.3.2">
            𝑎
           </ci>
           <ci id="S3.SS2.SSS1.p10.1.m1.1.1.3.3.cmml" xref="S3.SS2.SSS1.p10.1.m1.1.1.3.3">
            𝑠
           </ci>
           <ci id="S3.SS2.SSS1.p10.1.m1.1.1.3.4.cmml" xref="S3.SS2.SSS1.p10.1.m1.1.1.3.4">
            𝑘
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p10.1.m1.1c">
         R_{ask}
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="R_{chat}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p10.2.m2.1">
       <semantics id="S3.SS2.SSS1.p10.2.m2.1a">
        <msub id="S3.SS2.SSS1.p10.2.m2.1.1" xref="S3.SS2.SSS1.p10.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS1.p10.2.m2.1.1.2" xref="S3.SS2.SSS1.p10.2.m2.1.1.2.cmml">
          R
         </mi>
         <mrow id="S3.SS2.SSS1.p10.2.m2.1.1.3" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p10.2.m2.1.1.3.2" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.2.cmml">
           c
          </mi>
          <mo id="S3.SS2.SSS1.p10.2.m2.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p10.2.m2.1.1.3.3" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.3.cmml">
           h
          </mi>
          <mo id="S3.SS2.SSS1.p10.2.m2.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p10.2.m2.1.1.3.4" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.4.cmml">
           a
          </mi>
          <mo id="S3.SS2.SSS1.p10.2.m2.1.1.3.1b" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p10.2.m2.1.1.3.5" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.5.cmml">
           t
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p10.2.m2.1b">
         <apply id="S3.SS2.SSS1.p10.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p10.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p10.2.m2.1.1.1.cmml" xref="S3.SS2.SSS1.p10.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS1.p10.2.m2.1.1.2.cmml" xref="S3.SS2.SSS1.p10.2.m2.1.1.2">
           𝑅
          </ci>
          <apply id="S3.SS2.SSS1.p10.2.m2.1.1.3.cmml" xref="S3.SS2.SSS1.p10.2.m2.1.1.3">
           <times id="S3.SS2.SSS1.p10.2.m2.1.1.3.1.cmml" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p10.2.m2.1.1.3.2.cmml" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.2">
            𝑐
           </ci>
           <ci id="S3.SS2.SSS1.p10.2.m2.1.1.3.3.cmml" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.3">
            ℎ
           </ci>
           <ci id="S3.SS2.SSS1.p10.2.m2.1.1.3.4.cmml" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.4">
            𝑎
           </ci>
           <ci id="S3.SS2.SSS1.p10.2.m2.1.1.3.5.cmml" xref="S3.SS2.SSS1.p10.2.m2.1.1.3.5">
            𝑡
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p10.2.m2.1c">
         R_{chat}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="R_{rec}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p10.3.m3.1">
       <semantics id="S3.SS2.SSS1.p10.3.m3.1a">
        <msub id="S3.SS2.SSS1.p10.3.m3.1.1" xref="S3.SS2.SSS1.p10.3.m3.1.1.cmml">
         <mi id="S3.SS2.SSS1.p10.3.m3.1.1.2" xref="S3.SS2.SSS1.p10.3.m3.1.1.2.cmml">
          R
         </mi>
         <mrow id="S3.SS2.SSS1.p10.3.m3.1.1.3" xref="S3.SS2.SSS1.p10.3.m3.1.1.3.cmml">
          <mi id="S3.SS2.SSS1.p10.3.m3.1.1.3.2" xref="S3.SS2.SSS1.p10.3.m3.1.1.3.2.cmml">
           r
          </mi>
          <mo id="S3.SS2.SSS1.p10.3.m3.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p10.3.m3.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p10.3.m3.1.1.3.3" xref="S3.SS2.SSS1.p10.3.m3.1.1.3.3.cmml">
           e
          </mi>
          <mo id="S3.SS2.SSS1.p10.3.m3.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS1.p10.3.m3.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS1.p10.3.m3.1.1.3.4" xref="S3.SS2.SSS1.p10.3.m3.1.1.3.4.cmml">
           c
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p10.3.m3.1b">
         <apply id="S3.SS2.SSS1.p10.3.m3.1.1.cmml" xref="S3.SS2.SSS1.p10.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS1.p10.3.m3.1.1.1.cmml" xref="S3.SS2.SSS1.p10.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS1.p10.3.m3.1.1.2.cmml" xref="S3.SS2.SSS1.p10.3.m3.1.1.2">
           𝑅
          </ci>
          <apply id="S3.SS2.SSS1.p10.3.m3.1.1.3.cmml" xref="S3.SS2.SSS1.p10.3.m3.1.1.3">
           <times id="S3.SS2.SSS1.p10.3.m3.1.1.3.1.cmml" xref="S3.SS2.SSS1.p10.3.m3.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS1.p10.3.m3.1.1.3.2.cmml" xref="S3.SS2.SSS1.p10.3.m3.1.1.3.2">
            𝑟
           </ci>
           <ci id="S3.SS2.SSS1.p10.3.m3.1.1.3.3.cmml" xref="S3.SS2.SSS1.p10.3.m3.1.1.3.3">
            𝑒
           </ci>
           <ci id="S3.SS2.SSS1.p10.3.m3.1.1.3.4.cmml" xref="S3.SS2.SSS1.p10.3.m3.1.1.3.4">
            𝑐
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p10.3.m3.1c">
         R_{rec}
        </annotation>
       </semantics>
      </math>
      based on the memory and profile:
     </p>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS1.p11">
     <table class="ltx_equation ltx_eqn_table" id="S3.E1">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_left">
          (1)
         </span>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\begin{gathered}R_{*}=\pi_{r}^{*}(I_{*},D_{h},U_{p},S_{*}),\end{gathered}" class="ltx_Math" display="block" id="S3.E1.m1.22">
          <semantics id="S3.E1.m1.22a">
           <mtable displaystyle="true" id="S3.E1.m1.22.22.2">
            <mtr id="S3.E1.m1.22.22.2a">
             <mtd id="S3.E1.m1.22.22.2b">
              <mrow id="S3.E1.m1.22.22.2.21.21.21.21">
               <mrow id="S3.E1.m1.22.22.2.21.21.21.21.1">
                <msub id="S3.E1.m1.22.22.2.21.21.21.21.1.5">
                 <mi id="S3.E1.m1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.cmml">
                  R
                 </mi>
                 <mo id="S3.E1.m1.2.2.2.2.2.2.1" xref="S3.E1.m1.2.2.2.2.2.2.1.cmml">
                  ∗
                 </mo>
                </msub>
                <mo id="S3.E1.m1.3.3.3.3.3.3" xref="S3.E1.m1.3.3.3.3.3.3.cmml">
                 =
                </mo>
                <mrow id="S3.E1.m1.22.22.2.21.21.21.21.1.4">
                 <msubsup id="S3.E1.m1.22.22.2.21.21.21.21.1.4.6">
                  <mi id="S3.E1.m1.4.4.4.4.4.4" xref="S3.E1.m1.4.4.4.4.4.4.cmml">
                   π
                  </mi>
                  <mi id="S3.E1.m1.5.5.5.5.5.5.1" xref="S3.E1.m1.5.5.5.5.5.5.1.cmml">
                   r
                  </mi>
                  <mo id="S3.E1.m1.6.6.6.6.6.6.1" xref="S3.E1.m1.6.6.6.6.6.6.1.cmml">
                   ∗
                  </mo>
                 </msubsup>
                 <mo id="S3.E1.m1.22.22.2.21.21.21.21.1.4.5" lspace="0em" rspace="0em" xref="S3.E1.m1.21.21.1.1.1.cmml">
                  ​
                 </mo>
                 <mrow id="S3.E1.m1.22.22.2.21.21.21.21.1.4.4.4">
                  <mo id="S3.E1.m1.7.7.7.7.7.7" stretchy="false" xref="S3.E1.m1.21.21.1.1.1.cmml">
                   (
                  </mo>
                  <msub id="S3.E1.m1.22.22.2.21.21.21.21.1.1.1.1.1">
                   <mi id="S3.E1.m1.8.8.8.8.8.8" xref="S3.E1.m1.8.8.8.8.8.8.cmml">
                    I
                   </mi>
                   <mo id="S3.E1.m1.9.9.9.9.9.9.1" xref="S3.E1.m1.9.9.9.9.9.9.1.cmml">
                    ∗
                   </mo>
                  </msub>
                  <mo id="S3.E1.m1.10.10.10.10.10.10" xref="S3.E1.m1.21.21.1.1.1.cmml">
                   ,
                  </mo>
                  <msub id="S3.E1.m1.22.22.2.21.21.21.21.1.2.2.2.2">
                   <mi id="S3.E1.m1.11.11.11.11.11.11" xref="S3.E1.m1.11.11.11.11.11.11.cmml">
                    D
                   </mi>
                   <mi id="S3.E1.m1.12.12.12.12.12.12.1" xref="S3.E1.m1.12.12.12.12.12.12.1.cmml">
                    h
                   </mi>
                  </msub>
                  <mo id="S3.E1.m1.13.13.13.13.13.13" xref="S3.E1.m1.21.21.1.1.1.cmml">
                   ,
                  </mo>
                  <msub id="S3.E1.m1.22.22.2.21.21.21.21.1.3.3.3.3">
                   <mi id="S3.E1.m1.14.14.14.14.14.14" xref="S3.E1.m1.14.14.14.14.14.14.cmml">
                    U
                   </mi>
                   <mi id="S3.E1.m1.15.15.15.15.15.15.1" xref="S3.E1.m1.15.15.15.15.15.15.1.cmml">
                    p
                   </mi>
                  </msub>
                  <mo id="S3.E1.m1.16.16.16.16.16.16" xref="S3.E1.m1.21.21.1.1.1.cmml">
                   ,
                  </mo>
                  <msub id="S3.E1.m1.22.22.2.21.21.21.21.1.4.4.4.4">
                   <mi id="S3.E1.m1.17.17.17.17.17.17" xref="S3.E1.m1.17.17.17.17.17.17.cmml">
                    S
                   </mi>
                   <mo id="S3.E1.m1.18.18.18.18.18.18.1" xref="S3.E1.m1.18.18.18.18.18.18.1.cmml">
                    ∗
                   </mo>
                  </msub>
                  <mo id="S3.E1.m1.19.19.19.19.19.19" stretchy="false" xref="S3.E1.m1.21.21.1.1.1.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
               </mrow>
               <mo id="S3.E1.m1.20.20.20.20.20.20" xref="S3.E1.m1.21.21.1.1.1.cmml">
                ,
               </mo>
              </mrow>
             </mtd>
            </mtr>
           </mtable>
           <annotation-xml encoding="MathML-Content" id="S3.E1.m1.22b">
            <apply id="S3.E1.m1.21.21.1.1.1.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
             <eq id="S3.E1.m1.3.3.3.3.3.3.cmml" xref="S3.E1.m1.3.3.3.3.3.3">
             </eq>
             <apply id="S3.E1.m1.21.21.1.1.1.6.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
              <csymbol cd="ambiguous" id="S3.E1.m1.21.21.1.1.1.6.1.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
               subscript
              </csymbol>
              <ci id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1">
               𝑅
              </ci>
              <times id="S3.E1.m1.2.2.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.2.2.2.1">
              </times>
             </apply>
             <apply id="S3.E1.m1.21.21.1.1.1.4.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
              <times id="S3.E1.m1.21.21.1.1.1.4.5.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
              </times>
              <apply id="S3.E1.m1.21.21.1.1.1.4.6.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
               <csymbol cd="ambiguous" id="S3.E1.m1.21.21.1.1.1.4.6.1.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
                superscript
               </csymbol>
               <apply id="S3.E1.m1.21.21.1.1.1.4.6.2.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
                <csymbol cd="ambiguous" id="S3.E1.m1.21.21.1.1.1.4.6.2.1.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
                 subscript
                </csymbol>
                <ci id="S3.E1.m1.4.4.4.4.4.4.cmml" xref="S3.E1.m1.4.4.4.4.4.4">
                 𝜋
                </ci>
                <ci id="S3.E1.m1.5.5.5.5.5.5.1.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1">
                 𝑟
                </ci>
               </apply>
               <times id="S3.E1.m1.6.6.6.6.6.6.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.1">
               </times>
              </apply>
              <vector id="S3.E1.m1.21.21.1.1.1.4.4.5.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
               <apply id="S3.E1.m1.21.21.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
                <csymbol cd="ambiguous" id="S3.E1.m1.21.21.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
                 subscript
                </csymbol>
                <ci id="S3.E1.m1.8.8.8.8.8.8.cmml" xref="S3.E1.m1.8.8.8.8.8.8">
                 𝐼
                </ci>
                <times id="S3.E1.m1.9.9.9.9.9.9.1.cmml" xref="S3.E1.m1.9.9.9.9.9.9.1">
                </times>
               </apply>
               <apply id="S3.E1.m1.21.21.1.1.1.2.2.2.2.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
                <csymbol cd="ambiguous" id="S3.E1.m1.21.21.1.1.1.2.2.2.2.1.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
                 subscript
                </csymbol>
                <ci id="S3.E1.m1.11.11.11.11.11.11.cmml" xref="S3.E1.m1.11.11.11.11.11.11">
                 𝐷
                </ci>
                <ci id="S3.E1.m1.12.12.12.12.12.12.1.cmml" xref="S3.E1.m1.12.12.12.12.12.12.1">
                 ℎ
                </ci>
               </apply>
               <apply id="S3.E1.m1.21.21.1.1.1.3.3.3.3.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
                <csymbol cd="ambiguous" id="S3.E1.m1.21.21.1.1.1.3.3.3.3.1.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
                 subscript
                </csymbol>
                <ci id="S3.E1.m1.14.14.14.14.14.14.cmml" xref="S3.E1.m1.14.14.14.14.14.14">
                 𝑈
                </ci>
                <ci id="S3.E1.m1.15.15.15.15.15.15.1.cmml" xref="S3.E1.m1.15.15.15.15.15.15.1">
                 𝑝
                </ci>
               </apply>
               <apply id="S3.E1.m1.21.21.1.1.1.4.4.4.4.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
                <csymbol cd="ambiguous" id="S3.E1.m1.21.21.1.1.1.4.4.4.4.1.cmml" xref="S3.E1.m1.22.22.2.21.21.21.21.1.4.5">
                 subscript
                </csymbol>
                <ci id="S3.E1.m1.17.17.17.17.17.17.cmml" xref="S3.E1.m1.17.17.17.17.17.17">
                 𝑆
                </ci>
                <times id="S3.E1.m1.18.18.18.18.18.18.1.cmml" xref="S3.E1.m1.18.18.18.18.18.18.1">
                </times>
               </apply>
              </vector>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E1.m1.22c">
            \begin{gathered}R_{*}=\pi_{r}^{*}(I_{*},D_{h},U_{p},S_{*}),\end{gathered}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS2.SSS1.p11.1">
      where
      <math alttext="*" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p11.1.m1.1">
       <semantics id="S3.SS2.SSS1.p11.1.m1.1a">
        <mo id="S3.SS2.SSS1.p11.1.m1.1.1" xref="S3.SS2.SSS1.p11.1.m1.1.1.cmml">
         ∗
        </mo>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p11.1.m1.1b">
         <times id="S3.SS2.SSS1.p11.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p11.1.m1.1.1">
         </times>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS1.p11.1.m1.1c">
         *
        </annotation>
       </semantics>
      </math>
      indicates“ask”, “rec” or “chat” respectively.
     </p>
    </div>
   </section>
   <section class="ltx_subsubsection" id="S3.SS2.SSS2">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      3.2.2.
     </span>
     Planner Agent
    </h4>
    <div class="ltx_para" id="S3.SS2.SSS2.p1">
     <p class="ltx_p" id="S3.SS2.SSS2.p1.6">
      In order to control the dialogue flow, it is important to select the most suitable response from the candidate responses
      <math alttext="R_{ask},R_{chat}," class="ltx_Math" display="inline" id="S3.SS2.SSS2.p1.1.m1.1">
       <semantics id="S3.SS2.SSS2.p1.1.m1.1a">
        <mrow id="S3.SS2.SSS2.p1.1.m1.1.1.1">
         <mrow id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.3.cmml">
          <msub id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.cmml">
           <mi id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.2" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.2.cmml">
            R
           </mi>
           <mrow id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.cmml">
            <mi id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.2" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.2.cmml">
             a
            </mi>
            <mo id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.1.cmml">
             ​
            </mo>
            <mi id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.3" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.3.cmml">
             s
            </mi>
            <mo id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.1.cmml">
             ​
            </mo>
            <mi id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.4" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.4.cmml">
             k
            </mi>
           </mrow>
          </msub>
          <mo id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.3" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.3.cmml">
           ,
          </mo>
          <msub id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.cmml">
           <mi id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.2" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.2.cmml">
            R
           </mi>
           <mrow id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.cmml">
            <mi id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.2" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.2.cmml">
             c
            </mi>
            <mo id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.1.cmml">
             ​
            </mo>
            <mi id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.3" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.3.cmml">
             h
            </mi>
            <mo id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.1.cmml">
             ​
            </mo>
            <mi id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.4" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.4.cmml">
             a
            </mi>
            <mo id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.1b" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.1.cmml">
             ​
            </mo>
            <mi id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.5" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.5.cmml">
             t
            </mi>
           </mrow>
          </msub>
         </mrow>
         <mo id="S3.SS2.SSS2.p1.1.m1.1.1.1.2">
          ,
         </mo>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.1.m1.1b">
         <list id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.3.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2">
          <apply id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1">
            subscript
           </csymbol>
           <ci id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.2">
            𝑅
           </ci>
           <apply id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3">
            <times id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.1">
            </times>
            <ci id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.2">
             𝑎
            </ci>
            <ci id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.3">
             𝑠
            </ci>
            <ci id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.4.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.1.1.3.4">
             𝑘
            </ci>
           </apply>
          </apply>
          <apply id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2">
           <csymbol cd="ambiguous" id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.1.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2">
            subscript
           </csymbol>
           <ci id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.2">
            𝑅
           </ci>
           <apply id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3">
            <times id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.1.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.1">
            </times>
            <ci id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.2.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.2">
             𝑐
            </ci>
            <ci id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.3.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.3">
             ℎ
            </ci>
            <ci id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.4.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.4">
             𝑎
            </ci>
            <ci id="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.5.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1.1.1.2.2.3.5">
             𝑡
            </ci>
           </apply>
          </apply>
         </list>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.1.m1.1c">
         R_{ask},R_{chat},
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="R_{rec}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p1.2.m2.1">
       <semantics id="S3.SS2.SSS2.p1.2.m2.1a">
        <msub id="S3.SS2.SSS2.p1.2.m2.1.1" xref="S3.SS2.SSS2.p1.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS2.p1.2.m2.1.1.2" xref="S3.SS2.SSS2.p1.2.m2.1.1.2.cmml">
          R
         </mi>
         <mrow id="S3.SS2.SSS2.p1.2.m2.1.1.3" xref="S3.SS2.SSS2.p1.2.m2.1.1.3.cmml">
          <mi id="S3.SS2.SSS2.p1.2.m2.1.1.3.2" xref="S3.SS2.SSS2.p1.2.m2.1.1.3.2.cmml">
           r
          </mi>
          <mo id="S3.SS2.SSS2.p1.2.m2.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p1.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS2.p1.2.m2.1.1.3.3" xref="S3.SS2.SSS2.p1.2.m2.1.1.3.3.cmml">
           e
          </mi>
          <mo id="S3.SS2.SSS2.p1.2.m2.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p1.2.m2.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS2.p1.2.m2.1.1.3.4" xref="S3.SS2.SSS2.p1.2.m2.1.1.3.4.cmml">
           c
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.2.m2.1b">
         <apply id="S3.SS2.SSS2.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p1.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p1.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p1.2.m2.1.1.2">
           𝑅
          </ci>
          <apply id="S3.SS2.SSS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p1.2.m2.1.1.3">
           <times id="S3.SS2.SSS2.p1.2.m2.1.1.3.1.cmml" xref="S3.SS2.SSS2.p1.2.m2.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS2.p1.2.m2.1.1.3.2.cmml" xref="S3.SS2.SSS2.p1.2.m2.1.1.3.2">
            𝑟
           </ci>
           <ci id="S3.SS2.SSS2.p1.2.m2.1.1.3.3.cmml" xref="S3.SS2.SSS2.p1.2.m2.1.1.3.3">
            𝑒
           </ci>
           <ci id="S3.SS2.SSS2.p1.2.m2.1.1.3.4.cmml" xref="S3.SS2.SSS2.p1.2.m2.1.1.3.4">
            𝑐
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.2.m2.1c">
         R_{rec}
        </annotation>
       </semantics>
      </math>
      as the system response
      <math alttext="R_{s}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p1.3.m3.1">
       <semantics id="S3.SS2.SSS2.p1.3.m3.1a">
        <msub id="S3.SS2.SSS2.p1.3.m3.1.1" xref="S3.SS2.SSS2.p1.3.m3.1.1.cmml">
         <mi id="S3.SS2.SSS2.p1.3.m3.1.1.2" xref="S3.SS2.SSS2.p1.3.m3.1.1.2.cmml">
          R
         </mi>
         <mi id="S3.SS2.SSS2.p1.3.m3.1.1.3" xref="S3.SS2.SSS2.p1.3.m3.1.1.3.cmml">
          s
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.3.m3.1b">
         <apply id="S3.SS2.SSS2.p1.3.m3.1.1.cmml" xref="S3.SS2.SSS2.p1.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.SSS2.p1.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.SSS2.p1.3.m3.1.1.2">
           𝑅
          </ci>
          <ci id="S3.SS2.SSS2.p1.3.m3.1.1.3.cmml" xref="S3.SS2.SSS2.p1.3.m3.1.1.3">
           𝑠
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.3.m3.1c">
         R_{s}
        </annotation>
       </semantics>
      </math>
      .
To tackle this task, the planner agent
      <math alttext="\pi_{p}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p1.4.m4.1">
       <semantics id="S3.SS2.SSS2.p1.4.m4.1a">
        <msub id="S3.SS2.SSS2.p1.4.m4.1.1" xref="S3.SS2.SSS2.p1.4.m4.1.1.cmml">
         <mi id="S3.SS2.SSS2.p1.4.m4.1.1.2" xref="S3.SS2.SSS2.p1.4.m4.1.1.2.cmml">
          π
         </mi>
         <mi id="S3.SS2.SSS2.p1.4.m4.1.1.3" xref="S3.SS2.SSS2.p1.4.m4.1.1.3.cmml">
          p
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.4.m4.1b">
         <apply id="S3.SS2.SSS2.p1.4.m4.1.1.cmml" xref="S3.SS2.SSS2.p1.4.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.SSS2.p1.4.m4.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.SSS2.p1.4.m4.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS2.SSS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.SSS2.p1.4.m4.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.4.m4.1c">
         \pi_{p}
        </annotation>
       </semantics>
      </math>
      utilizes multi-step reasoning to select responses across multiple dimensions, such as informativeness and engagement.
For example, when the available user preferences are insufficient, the planner agent reasons which candidate response can potentially yield a higher user information gain.
Then the planner agent will select the candidate response
      <math alttext="R_{ask}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p1.5.m5.1">
       <semantics id="S3.SS2.SSS2.p1.5.m5.1a">
        <msub id="S3.SS2.SSS2.p1.5.m5.1.1" xref="S3.SS2.SSS2.p1.5.m5.1.1.cmml">
         <mi id="S3.SS2.SSS2.p1.5.m5.1.1.2" xref="S3.SS2.SSS2.p1.5.m5.1.1.2.cmml">
          R
         </mi>
         <mrow id="S3.SS2.SSS2.p1.5.m5.1.1.3" xref="S3.SS2.SSS2.p1.5.m5.1.1.3.cmml">
          <mi id="S3.SS2.SSS2.p1.5.m5.1.1.3.2" xref="S3.SS2.SSS2.p1.5.m5.1.1.3.2.cmml">
           a
          </mi>
          <mo id="S3.SS2.SSS2.p1.5.m5.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p1.5.m5.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS2.p1.5.m5.1.1.3.3" xref="S3.SS2.SSS2.p1.5.m5.1.1.3.3.cmml">
           s
          </mi>
          <mo id="S3.SS2.SSS2.p1.5.m5.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p1.5.m5.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS2.p1.5.m5.1.1.3.4" xref="S3.SS2.SSS2.p1.5.m5.1.1.3.4.cmml">
           k
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.5.m5.1b">
         <apply id="S3.SS2.SSS2.p1.5.m5.1.1.cmml" xref="S3.SS2.SSS2.p1.5.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p1.5.m5.1.1.1.cmml" xref="S3.SS2.SSS2.p1.5.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p1.5.m5.1.1.2.cmml" xref="S3.SS2.SSS2.p1.5.m5.1.1.2">
           𝑅
          </ci>
          <apply id="S3.SS2.SSS2.p1.5.m5.1.1.3.cmml" xref="S3.SS2.SSS2.p1.5.m5.1.1.3">
           <times id="S3.SS2.SSS2.p1.5.m5.1.1.3.1.cmml" xref="S3.SS2.SSS2.p1.5.m5.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS2.p1.5.m5.1.1.3.2.cmml" xref="S3.SS2.SSS2.p1.5.m5.1.1.3.2">
            𝑎
           </ci>
           <ci id="S3.SS2.SSS2.p1.5.m5.1.1.3.3.cmml" xref="S3.SS2.SSS2.p1.5.m5.1.1.3.3">
            𝑠
           </ci>
           <ci id="S3.SS2.SSS2.p1.5.m5.1.1.3.4.cmml" xref="S3.SS2.SSS2.p1.5.m5.1.1.3.4">
            𝑘
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.5.m5.1c">
         R_{ask}
        </annotation>
       </semantics>
      </math>
      of the ask responder agent as the final response to the user to gather more user preferences.
To achieve this goal, we propose a novel architecture of planner agent
      <math alttext="\pi_{p}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p1.6.m6.1">
       <semantics id="S3.SS2.SSS2.p1.6.m6.1a">
        <msub id="S3.SS2.SSS2.p1.6.m6.1.1" xref="S3.SS2.SSS2.p1.6.m6.1.1.cmml">
         <mi id="S3.SS2.SSS2.p1.6.m6.1.1.2" xref="S3.SS2.SSS2.p1.6.m6.1.1.2.cmml">
          π
         </mi>
         <mi id="S3.SS2.SSS2.p1.6.m6.1.1.3" xref="S3.SS2.SSS2.p1.6.m6.1.1.3.cmml">
          p
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.6.m6.1b">
         <apply id="S3.SS2.SSS2.p1.6.m6.1.1.cmml" xref="S3.SS2.SSS2.p1.6.m6.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p1.6.m6.1.1.1.cmml" xref="S3.SS2.SSS2.p1.6.m6.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p1.6.m6.1.1.2.cmml" xref="S3.SS2.SSS2.p1.6.m6.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS2.SSS2.p1.6.m6.1.1.3.cmml" xref="S3.SS2.SSS2.p1.6.m6.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.6.m6.1c">
         \pi_{p}
        </annotation>
       </semantics>
      </math>
      which is composed of a memory module, a profiling module, and a planning module:
     </p>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS2.p2">
     <p class="ltx_p" id="S3.SS2.SSS2.p2.5">
      <span class="ltx_text ltx_font_bold" id="S3.SS2.SSS2.p2.5.1">
       The Memory module
      </span>
      contains the dialogue history
      <math alttext="D_{h}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.1.m1.1">
       <semantics id="S3.SS2.SSS2.p2.1.m1.1a">
        <msub id="S3.SS2.SSS2.p2.1.m1.1.1" xref="S3.SS2.SSS2.p2.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS2.p2.1.m1.1.1.2" xref="S3.SS2.SSS2.p2.1.m1.1.1.2.cmml">
          D
         </mi>
         <mi id="S3.SS2.SSS2.p2.1.m1.1.1.3" xref="S3.SS2.SSS2.p2.1.m1.1.1.3.cmml">
          h
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.1.m1.1b">
         <apply id="S3.SS2.SSS2.p2.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p2.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.SSS2.p2.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.SSS2.p2.1.m1.1.1.2">
           𝐷
          </ci>
          <ci id="S3.SS2.SSS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.SSS2.p2.1.m1.1.1.3">
           ℎ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.1.m1.1c">
         D_{h}
        </annotation>
       </semantics>
      </math>
      , the dialogue act history
      <math alttext="A_{h}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.2.m2.1">
       <semantics id="S3.SS2.SSS2.p2.2.m2.1a">
        <msub id="S3.SS2.SSS2.p2.2.m2.1.1" xref="S3.SS2.SSS2.p2.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS2.p2.2.m2.1.1.2" xref="S3.SS2.SSS2.p2.2.m2.1.1.2.cmml">
          A
         </mi>
         <mi id="S3.SS2.SSS2.p2.2.m2.1.1.3" xref="S3.SS2.SSS2.p2.2.m2.1.1.3.cmml">
          h
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.2.m2.1b">
         <apply id="S3.SS2.SSS2.p2.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p2.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p2.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p2.2.m2.1.1.2">
           𝐴
          </ci>
          <ci id="S3.SS2.SSS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p2.2.m2.1.1.3">
           ℎ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.2.m2.1c">
         A_{h}
        </annotation>
       </semantics>
      </math>
      , and corrective experiences
      <math alttext="E" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.3.m3.1">
       <semantics id="S3.SS2.SSS2.p2.3.m3.1a">
        <mi id="S3.SS2.SSS2.p2.3.m3.1.1" xref="S3.SS2.SSS2.p2.3.m3.1.1.cmml">
         E
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.3.m3.1b">
         <ci id="S3.SS2.SSS2.p2.3.m3.1.1.cmml" xref="S3.SS2.SSS2.p2.3.m3.1.1">
          𝐸
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.3.m3.1c">
         E
        </annotation>
       </semantics>
      </math>
      (introduced in §
      <a class="ltx_ref" href="#S3.SS3.SSS2" title="3.3.2. Strategy-level Reflection ‣ 3.3. User Feedback-aware Reflection ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
       <span class="ltx_text ltx_ref_tag">
        3.3.2
       </span>
      </a>
      ).
The dialogue act history
      <math alttext="A_{h}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.4.m4.1">
       <semantics id="S3.SS2.SSS2.p2.4.m4.1a">
        <msub id="S3.SS2.SSS2.p2.4.m4.1.1" xref="S3.SS2.SSS2.p2.4.m4.1.1.cmml">
         <mi id="S3.SS2.SSS2.p2.4.m4.1.1.2" xref="S3.SS2.SSS2.p2.4.m4.1.1.2.cmml">
          A
         </mi>
         <mi id="S3.SS2.SSS2.p2.4.m4.1.1.3" xref="S3.SS2.SSS2.p2.4.m4.1.1.3.cmml">
          h
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.4.m4.1b">
         <apply id="S3.SS2.SSS2.p2.4.m4.1.1.cmml" xref="S3.SS2.SSS2.p2.4.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.4.m4.1.1.1.cmml" xref="S3.SS2.SSS2.p2.4.m4.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p2.4.m4.1.1.2.cmml" xref="S3.SS2.SSS2.p2.4.m4.1.1.2">
           𝐴
          </ci>
          <ci id="S3.SS2.SSS2.p2.4.m4.1.1.3.cmml" xref="S3.SS2.SSS2.p2.4.m4.1.1.3">
           ℎ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.4.m4.1c">
         A_{h}
        </annotation>
       </semantics>
      </math>
      records the dialogue act selected by the planner agent in previous dialogue turns.
The corrective experiences
      <math alttext="E" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.5.m5.1">
       <semantics id="S3.SS2.SSS2.p2.5.m5.1a">
        <mi id="S3.SS2.SSS2.p2.5.m5.1.1" xref="S3.SS2.SSS2.p2.5.m5.1.1.cmml">
         E
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.5.m5.1b">
         <ci id="S3.SS2.SSS2.p2.5.m5.1.1.cmml" xref="S3.SS2.SSS2.p2.5.m5.1.1">
          𝐸
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.5.m5.1c">
         E
        </annotation>
       </semantics>
      </math>
      are learned from user feedback in past turns.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS2.p3">
     <p class="ltx_p" id="S3.SS2.SSS2.p3.2">
      <span class="ltx_text ltx_font_bold" id="S3.SS2.SSS2.p3.2.1">
       The Profiling module
      </span>
      indicates both its role and the background knowledge.
Instruction
      <math alttext="I_{plan}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.1.m1.1">
       <semantics id="S3.SS2.SSS2.p3.1.m1.1a">
        <msub id="S3.SS2.SSS2.p3.1.m1.1.1" xref="S3.SS2.SSS2.p3.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS2.p3.1.m1.1.1.2" xref="S3.SS2.SSS2.p3.1.m1.1.1.2.cmml">
          I
         </mi>
         <mrow id="S3.SS2.SSS2.p3.1.m1.1.1.3" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.cmml">
          <mi id="S3.SS2.SSS2.p3.1.m1.1.1.3.2" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.2.cmml">
           p
          </mi>
          <mo id="S3.SS2.SSS2.p3.1.m1.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS2.p3.1.m1.1.1.3.3" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.3.cmml">
           l
          </mi>
          <mo id="S3.SS2.SSS2.p3.1.m1.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS2.p3.1.m1.1.1.3.4" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.4.cmml">
           a
          </mi>
          <mo id="S3.SS2.SSS2.p3.1.m1.1.1.3.1b" lspace="0em" rspace="0em" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS2.p3.1.m1.1.1.3.5" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.5.cmml">
           n
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.1.m1.1b">
         <apply id="S3.SS2.SSS2.p3.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p3.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.SSS2.p3.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.SSS2.p3.1.m1.1.1.2">
           𝐼
          </ci>
          <apply id="S3.SS2.SSS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.SSS2.p3.1.m1.1.1.3">
           <times id="S3.SS2.SSS2.p3.1.m1.1.1.3.1.cmml" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS2.p3.1.m1.1.1.3.2.cmml" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.2">
            𝑝
           </ci>
           <ci id="S3.SS2.SSS2.p3.1.m1.1.1.3.3.cmml" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.3">
            𝑙
           </ci>
           <ci id="S3.SS2.SSS2.p3.1.m1.1.1.3.4.cmml" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.4">
            𝑎
           </ci>
           <ci id="S3.SS2.SSS2.p3.1.m1.1.1.3.5.cmml" xref="S3.SS2.SSS2.p3.1.m1.1.1.3.5">
            𝑛
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.1.m1.1c">
         I_{plan}
        </annotation>
       </semantics>
      </math>
      for the planner agent
      <math alttext="\pi_{p}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.2.m2.1">
       <semantics id="S3.SS2.SSS2.p3.2.m2.1a">
        <msub id="S3.SS2.SSS2.p3.2.m2.1.1" xref="S3.SS2.SSS2.p3.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS2.p3.2.m2.1.1.2" xref="S3.SS2.SSS2.p3.2.m2.1.1.2.cmml">
          π
         </mi>
         <mi id="S3.SS2.SSS2.p3.2.m2.1.1.3" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.cmml">
          p
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.2.m2.1b">
         <apply id="S3.SS2.SSS2.p3.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS2.SSS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.2.m2.1c">
         \pi_{p}
        </annotation>
       </semantics>
      </math>
      :
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS2.p4">
     <svg class="ltx_picture" height="56.46" id="S3.SS2.SSS2.p4.pic1" overflow="visible" version="1.1" width="600">
      <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,56.46) matrix(1 0 0 -1 0 0)">
       <g fill="#6E6E6E" fill-opacity="1.0">
        <path d="M 0 5.91 L 0 50.56 C 0 53.82 2.64 56.46 5.91 56.46 L 594.09 56.46 C 597.36 56.46 600 53.82 600 50.56 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#FCFCFC" fill-opacity="1.0">
        <path d="M 1.97 5.91 L 1.97 50.56 C 1.97 52.73 3.73 54.49 5.91 54.49 L 594.09 54.49 C 596.27 54.49 598.03 52.73 598.03 50.56 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
        <foreignobject color="#000000" height="28.9" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
         <span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S3.SS2.SSS2.p4.pic1.1.1.1.1.1" style="width:402.3pt;">
          <span class="ltx_p" id="S3.SS2.SSS2.p4.pic1.1.1.1.1.1.1">
           Choose one of the candidate responses based on three different dialogue acts. These three dialogue acts are: recommending, asking, and chit-chatting.
          </span>
         </span>
        </foreignobject>
       </g>
      </g>
     </svg>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS2.p5">
     <p class="ltx_p" id="S3.SS2.SSS2.p5.1">
      <span class="ltx_text ltx_font_bold" id="S3.SS2.SSS2.p5.1.1">
       The Planning module
      </span>
      performs multi-step reasoning based on its memory and its profile to make an appropriate dialogue act selection.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS2.p6">
     <p class="ltx_p" id="S3.SS2.SSS2.p6.2">
      <math alttext="\bullet" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p6.1.m1.1">
       <semantics id="S3.SS2.SSS2.p6.1.m1.1a">
        <mo id="S3.SS2.SSS2.p6.1.m1.1.1" xref="S3.SS2.SSS2.p6.1.m1.1.1.cmml">
         ∙
        </mo>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p6.1.m1.1b">
         <ci id="S3.SS2.SSS2.p6.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p6.1.m1.1.1">
          ∙
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p6.1.m1.1c">
         \bullet
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p6.2.1">
       Step 1:
      </span>
      Review past acts in the dialogue act history
      <math alttext="A_{h}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p6.2.m2.1">
       <semantics id="S3.SS2.SSS2.p6.2.m2.1a">
        <msub id="S3.SS2.SSS2.p6.2.m2.1.1" xref="S3.SS2.SSS2.p6.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS2.p6.2.m2.1.1.2" xref="S3.SS2.SSS2.p6.2.m2.1.1.2.cmml">
          A
         </mi>
         <mi id="S3.SS2.SSS2.p6.2.m2.1.1.3" xref="S3.SS2.SSS2.p6.2.m2.1.1.3.cmml">
          h
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p6.2.m2.1b">
         <apply id="S3.SS2.SSS2.p6.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p6.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p6.2.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p6.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p6.2.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p6.2.m2.1.1.2">
           𝐴
          </ci>
          <ci id="S3.SS2.SSS2.p6.2.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p6.2.m2.1.1.3">
           ℎ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p6.2.m2.1c">
         A_{h}
        </annotation>
       </semantics>
      </math>
      and avoid the repetition of the same act across multiple turns.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS2.p7">
     <p class="ltx_p" id="S3.SS2.SSS2.p7.2">
      <math alttext="\bullet" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p7.1.m1.1">
       <semantics id="S3.SS2.SSS2.p7.1.m1.1a">
        <mo id="S3.SS2.SSS2.p7.1.m1.1.1" xref="S3.SS2.SSS2.p7.1.m1.1.1.cmml">
         ∙
        </mo>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p7.1.m1.1b">
         <ci id="S3.SS2.SSS2.p7.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p7.1.m1.1.1">
          ∙
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p7.1.m1.1c">
         \bullet
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p7.2.1">
       Step 2:
      </span>
      Determine whether the available user preferences are sufficient based on the dialogue history
      <math alttext="D_{h}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p7.2.m2.1">
       <semantics id="S3.SS2.SSS2.p7.2.m2.1a">
        <msub id="S3.SS2.SSS2.p7.2.m2.1.1" xref="S3.SS2.SSS2.p7.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS2.p7.2.m2.1.1.2" xref="S3.SS2.SSS2.p7.2.m2.1.1.2.cmml">
          D
         </mi>
         <mi id="S3.SS2.SSS2.p7.2.m2.1.1.3" xref="S3.SS2.SSS2.p7.2.m2.1.1.3.cmml">
          h
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p7.2.m2.1b">
         <apply id="S3.SS2.SSS2.p7.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p7.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p7.2.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p7.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p7.2.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p7.2.m2.1.1.2">
           𝐷
          </ci>
          <ci id="S3.SS2.SSS2.p7.2.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p7.2.m2.1.1.3">
           ℎ
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p7.2.m2.1c">
         D_{h}
        </annotation>
       </semantics>
      </math>
      . If so, the recommending act is a suitable choice.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS2.p8">
     <p class="ltx_p" id="S3.SS2.SSS2.p8.1">
      <math alttext="\bullet" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p8.1.m1.1">
       <semantics id="S3.SS2.SSS2.p8.1.m1.1a">
        <mo id="S3.SS2.SSS2.p8.1.m1.1.1" xref="S3.SS2.SSS2.p8.1.m1.1.1.cmml">
         ∙
        </mo>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p8.1.m1.1b">
         <ci id="S3.SS2.SSS2.p8.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p8.1.m1.1.1">
          ∙
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p8.1.m1.1c">
         \bullet
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p8.1.1">
       Step 3:
      </span>
      If the available user preferences are insufficient, determine which candidate response is more appropriate or can yield greater user information gain.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS2.SSS2.p9">
     <p class="ltx_p" id="S3.SS2.SSS2.p9.2">
      After multi-step reasoning, the planner agent
      <math alttext="\pi_{p}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p9.1.m1.1">
       <semantics id="S3.SS2.SSS2.p9.1.m1.1a">
        <msub id="S3.SS2.SSS2.p9.1.m1.1.1" xref="S3.SS2.SSS2.p9.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS2.p9.1.m1.1.1.2" xref="S3.SS2.SSS2.p9.1.m1.1.1.2.cmml">
          π
         </mi>
         <mi id="S3.SS2.SSS2.p9.1.m1.1.1.3" xref="S3.SS2.SSS2.p9.1.m1.1.1.3.cmml">
          p
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p9.1.m1.1b">
         <apply id="S3.SS2.SSS2.p9.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p9.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p9.1.m1.1.1.1.cmml" xref="S3.SS2.SSS2.p9.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p9.1.m1.1.1.2.cmml" xref="S3.SS2.SSS2.p9.1.m1.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS2.SSS2.p9.1.m1.1.1.3.cmml" xref="S3.SS2.SSS2.p9.1.m1.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p9.1.m1.1c">
         \pi_{p}
        </annotation>
       </semantics>
      </math>
      will output a selection, which in turn determines the final system response
      <math alttext="R_{s}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p9.2.m2.1">
       <semantics id="S3.SS2.SSS2.p9.2.m2.1a">
        <msub id="S3.SS2.SSS2.p9.2.m2.1.1" xref="S3.SS2.SSS2.p9.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS2.p9.2.m2.1.1.2" xref="S3.SS2.SSS2.p9.2.m2.1.1.2.cmml">
          R
         </mi>
         <mi id="S3.SS2.SSS2.p9.2.m2.1.1.3" xref="S3.SS2.SSS2.p9.2.m2.1.1.3.cmml">
          s
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p9.2.m2.1b">
         <apply id="S3.SS2.SSS2.p9.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p9.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS2.p9.2.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p9.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS2.p9.2.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p9.2.m2.1.1.2">
           𝑅
          </ci>
          <ci id="S3.SS2.SSS2.p9.2.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p9.2.m2.1.1.3">
           𝑠
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS2.p9.2.m2.1c">
         R_{s}
        </annotation>
       </semantics>
      </math>
      :
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.E2">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_left">
          (2)
         </span>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\begin{gathered}R_{s}=\pi_{p}(I_{plan},R_{ask},R_{rec},R_{chat},D_{h},A_{h},E).\end{gathered}" class="ltx_Math" display="block" id="S3.E2.m1.29">
          <semantics id="S3.E2.m1.29a">
           <mtable displaystyle="true" id="S3.E2.m1.29.29.2">
            <mtr id="S3.E2.m1.29.29.2a">
             <mtd id="S3.E2.m1.29.29.2b">
              <mrow id="S3.E2.m1.29.29.2.28.28.28.28">
               <mrow id="S3.E2.m1.29.29.2.28.28.28.28.1">
                <msub id="S3.E2.m1.29.29.2.28.28.28.28.1.7">
                 <mi id="S3.E2.m1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml">
                  R
                 </mi>
                 <mi id="S3.E2.m1.2.2.2.2.2.2.1" xref="S3.E2.m1.2.2.2.2.2.2.1.cmml">
                  s
                 </mi>
                </msub>
                <mo id="S3.E2.m1.3.3.3.3.3.3" xref="S3.E2.m1.3.3.3.3.3.3.cmml">
                 =
                </mo>
                <mrow id="S3.E2.m1.29.29.2.28.28.28.28.1.6">
                 <msub id="S3.E2.m1.29.29.2.28.28.28.28.1.6.8">
                  <mi id="S3.E2.m1.4.4.4.4.4.4" xref="S3.E2.m1.4.4.4.4.4.4.cmml">
                   π
                  </mi>
                  <mi id="S3.E2.m1.5.5.5.5.5.5.1" xref="S3.E2.m1.5.5.5.5.5.5.1.cmml">
                   p
                  </mi>
                 </msub>
                 <mo id="S3.E2.m1.29.29.2.28.28.28.28.1.6.7" lspace="0em" rspace="0em" xref="S3.E2.m1.28.28.1.1.1.cmml">
                  ​
                 </mo>
                 <mrow id="S3.E2.m1.29.29.2.28.28.28.28.1.6.6.6">
                  <mo id="S3.E2.m1.6.6.6.6.6.6" stretchy="false" xref="S3.E2.m1.28.28.1.1.1.cmml">
                   (
                  </mo>
                  <msub id="S3.E2.m1.29.29.2.28.28.28.28.1.1.1.1.1">
                   <mi id="S3.E2.m1.7.7.7.7.7.7" xref="S3.E2.m1.7.7.7.7.7.7.cmml">
                    I
                   </mi>
                   <mrow id="S3.E2.m1.8.8.8.8.8.8.1" xref="S3.E2.m1.8.8.8.8.8.8.1.cmml">
                    <mi id="S3.E2.m1.8.8.8.8.8.8.1.2" xref="S3.E2.m1.8.8.8.8.8.8.1.2.cmml">
                     p
                    </mi>
                    <mo id="S3.E2.m1.8.8.8.8.8.8.1.1" lspace="0em" rspace="0em" xref="S3.E2.m1.8.8.8.8.8.8.1.1.cmml">
                     ​
                    </mo>
                    <mi id="S3.E2.m1.8.8.8.8.8.8.1.3" xref="S3.E2.m1.8.8.8.8.8.8.1.3.cmml">
                     l
                    </mi>
                    <mo id="S3.E2.m1.8.8.8.8.8.8.1.1a" lspace="0em" rspace="0em" xref="S3.E2.m1.8.8.8.8.8.8.1.1.cmml">
                     ​
                    </mo>
                    <mi id="S3.E2.m1.8.8.8.8.8.8.1.4" xref="S3.E2.m1.8.8.8.8.8.8.1.4.cmml">
                     a
                    </mi>
                    <mo id="S3.E2.m1.8.8.8.8.8.8.1.1b" lspace="0em" rspace="0em" xref="S3.E2.m1.8.8.8.8.8.8.1.1.cmml">
                     ​
                    </mo>
                    <mi id="S3.E2.m1.8.8.8.8.8.8.1.5" xref="S3.E2.m1.8.8.8.8.8.8.1.5.cmml">
                     n
                    </mi>
                   </mrow>
                  </msub>
                  <mo id="S3.E2.m1.9.9.9.9.9.9" xref="S3.E2.m1.28.28.1.1.1.cmml">
                   ,
                  </mo>
                  <msub id="S3.E2.m1.29.29.2.28.28.28.28.1.2.2.2.2">
                   <mi id="S3.E2.m1.10.10.10.10.10.10" xref="S3.E2.m1.10.10.10.10.10.10.cmml">
                    R
                   </mi>
                   <mrow id="S3.E2.m1.11.11.11.11.11.11.1" xref="S3.E2.m1.11.11.11.11.11.11.1.cmml">
                    <mi id="S3.E2.m1.11.11.11.11.11.11.1.2" xref="S3.E2.m1.11.11.11.11.11.11.1.2.cmml">
                     a
                    </mi>
                    <mo id="S3.E2.m1.11.11.11.11.11.11.1.1" lspace="0em" rspace="0em" xref="S3.E2.m1.11.11.11.11.11.11.1.1.cmml">
                     ​
                    </mo>
                    <mi id="S3.E2.m1.11.11.11.11.11.11.1.3" xref="S3.E2.m1.11.11.11.11.11.11.1.3.cmml">
                     s
                    </mi>
                    <mo id="S3.E2.m1.11.11.11.11.11.11.1.1a" lspace="0em" rspace="0em" xref="S3.E2.m1.11.11.11.11.11.11.1.1.cmml">
                     ​
                    </mo>
                    <mi id="S3.E2.m1.11.11.11.11.11.11.1.4" xref="S3.E2.m1.11.11.11.11.11.11.1.4.cmml">
                     k
                    </mi>
                   </mrow>
                  </msub>
                  <mo id="S3.E2.m1.12.12.12.12.12.12" xref="S3.E2.m1.28.28.1.1.1.cmml">
                   ,
                  </mo>
                  <msub id="S3.E2.m1.29.29.2.28.28.28.28.1.3.3.3.3">
                   <mi id="S3.E2.m1.13.13.13.13.13.13" xref="S3.E2.m1.13.13.13.13.13.13.cmml">
                    R
                   </mi>
                   <mrow id="S3.E2.m1.14.14.14.14.14.14.1" xref="S3.E2.m1.14.14.14.14.14.14.1.cmml">
                    <mi id="S3.E2.m1.14.14.14.14.14.14.1.2" xref="S3.E2.m1.14.14.14.14.14.14.1.2.cmml">
                     r
                    </mi>
                    <mo id="S3.E2.m1.14.14.14.14.14.14.1.1" lspace="0em" rspace="0em" xref="S3.E2.m1.14.14.14.14.14.14.1.1.cmml">
                     ​
                    </mo>
                    <mi id="S3.E2.m1.14.14.14.14.14.14.1.3" xref="S3.E2.m1.14.14.14.14.14.14.1.3.cmml">
                     e
                    </mi>
                    <mo id="S3.E2.m1.14.14.14.14.14.14.1.1a" lspace="0em" rspace="0em" xref="S3.E2.m1.14.14.14.14.14.14.1.1.cmml">
                     ​
                    </mo>
                    <mi id="S3.E2.m1.14.14.14.14.14.14.1.4" xref="S3.E2.m1.14.14.14.14.14.14.1.4.cmml">
                     c
                    </mi>
                   </mrow>
                  </msub>
                  <mo id="S3.E2.m1.15.15.15.15.15.15" xref="S3.E2.m1.28.28.1.1.1.cmml">
                   ,
                  </mo>
                  <msub id="S3.E2.m1.29.29.2.28.28.28.28.1.4.4.4.4">
                   <mi id="S3.E2.m1.16.16.16.16.16.16" xref="S3.E2.m1.16.16.16.16.16.16.cmml">
                    R
                   </mi>
                   <mrow id="S3.E2.m1.17.17.17.17.17.17.1" xref="S3.E2.m1.17.17.17.17.17.17.1.cmml">
                    <mi id="S3.E2.m1.17.17.17.17.17.17.1.2" xref="S3.E2.m1.17.17.17.17.17.17.1.2.cmml">
                     c
                    </mi>
                    <mo id="S3.E2.m1.17.17.17.17.17.17.1.1" lspace="0em" rspace="0em" xref="S3.E2.m1.17.17.17.17.17.17.1.1.cmml">
                     ​
                    </mo>
                    <mi id="S3.E2.m1.17.17.17.17.17.17.1.3" xref="S3.E2.m1.17.17.17.17.17.17.1.3.cmml">
                     h
                    </mi>
                    <mo id="S3.E2.m1.17.17.17.17.17.17.1.1a" lspace="0em" rspace="0em" xref="S3.E2.m1.17.17.17.17.17.17.1.1.cmml">
                     ​
                    </mo>
                    <mi id="S3.E2.m1.17.17.17.17.17.17.1.4" xref="S3.E2.m1.17.17.17.17.17.17.1.4.cmml">
                     a
                    </mi>
                    <mo id="S3.E2.m1.17.17.17.17.17.17.1.1b" lspace="0em" rspace="0em" xref="S3.E2.m1.17.17.17.17.17.17.1.1.cmml">
                     ​
                    </mo>
                    <mi id="S3.E2.m1.17.17.17.17.17.17.1.5" xref="S3.E2.m1.17.17.17.17.17.17.1.5.cmml">
                     t
                    </mi>
                   </mrow>
                  </msub>
                  <mo id="S3.E2.m1.18.18.18.18.18.18" xref="S3.E2.m1.28.28.1.1.1.cmml">
                   ,
                  </mo>
                  <msub id="S3.E2.m1.29.29.2.28.28.28.28.1.5.5.5.5">
                   <mi id="S3.E2.m1.19.19.19.19.19.19" xref="S3.E2.m1.19.19.19.19.19.19.cmml">
                    D
                   </mi>
                   <mi id="S3.E2.m1.20.20.20.20.20.20.1" xref="S3.E2.m1.20.20.20.20.20.20.1.cmml">
                    h
                   </mi>
                  </msub>
                  <mo id="S3.E2.m1.21.21.21.21.21.21" xref="S3.E2.m1.28.28.1.1.1.cmml">
                   ,
                  </mo>
                  <msub id="S3.E2.m1.29.29.2.28.28.28.28.1.6.6.6.6">
                   <mi id="S3.E2.m1.22.22.22.22.22.22" xref="S3.E2.m1.22.22.22.22.22.22.cmml">
                    A
                   </mi>
                   <mi id="S3.E2.m1.23.23.23.23.23.23.1" xref="S3.E2.m1.23.23.23.23.23.23.1.cmml">
                    h
                   </mi>
                  </msub>
                  <mo id="S3.E2.m1.24.24.24.24.24.24" xref="S3.E2.m1.28.28.1.1.1.cmml">
                   ,
                  </mo>
                  <mi id="S3.E2.m1.25.25.25.25.25.25" xref="S3.E2.m1.25.25.25.25.25.25.cmml">
                   E
                  </mi>
                  <mo id="S3.E2.m1.26.26.26.26.26.26" stretchy="false" xref="S3.E2.m1.28.28.1.1.1.cmml">
                   )
                  </mo>
                 </mrow>
                </mrow>
               </mrow>
               <mo id="S3.E2.m1.27.27.27.27.27.27" lspace="0em" xref="S3.E2.m1.28.28.1.1.1.cmml">
                .
               </mo>
              </mrow>
             </mtd>
            </mtr>
           </mtable>
           <annotation-xml encoding="MathML-Content" id="S3.E2.m1.29b">
            <apply id="S3.E2.m1.28.28.1.1.1.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
             <eq id="S3.E2.m1.3.3.3.3.3.3.cmml" xref="S3.E2.m1.3.3.3.3.3.3">
             </eq>
             <apply id="S3.E2.m1.28.28.1.1.1.8.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
              <csymbol cd="ambiguous" id="S3.E2.m1.28.28.1.1.1.8.1.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
               subscript
              </csymbol>
              <ci id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1">
               𝑅
              </ci>
              <ci id="S3.E2.m1.2.2.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2.2.2.1">
               𝑠
              </ci>
             </apply>
             <apply id="S3.E2.m1.28.28.1.1.1.6.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
              <times id="S3.E2.m1.28.28.1.1.1.6.7.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
              </times>
              <apply id="S3.E2.m1.28.28.1.1.1.6.8.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
               <csymbol cd="ambiguous" id="S3.E2.m1.28.28.1.1.1.6.8.1.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                subscript
               </csymbol>
               <ci id="S3.E2.m1.4.4.4.4.4.4.cmml" xref="S3.E2.m1.4.4.4.4.4.4">
                𝜋
               </ci>
               <ci id="S3.E2.m1.5.5.5.5.5.5.1.cmml" xref="S3.E2.m1.5.5.5.5.5.5.1">
                𝑝
               </ci>
              </apply>
              <vector id="S3.E2.m1.28.28.1.1.1.6.6.7.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
               <apply id="S3.E2.m1.28.28.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                <csymbol cd="ambiguous" id="S3.E2.m1.28.28.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                 subscript
                </csymbol>
                <ci id="S3.E2.m1.7.7.7.7.7.7.cmml" xref="S3.E2.m1.7.7.7.7.7.7">
                 𝐼
                </ci>
                <apply id="S3.E2.m1.8.8.8.8.8.8.1.cmml" xref="S3.E2.m1.8.8.8.8.8.8.1">
                 <times id="S3.E2.m1.8.8.8.8.8.8.1.1.cmml" xref="S3.E2.m1.8.8.8.8.8.8.1.1">
                 </times>
                 <ci id="S3.E2.m1.8.8.8.8.8.8.1.2.cmml" xref="S3.E2.m1.8.8.8.8.8.8.1.2">
                  𝑝
                 </ci>
                 <ci id="S3.E2.m1.8.8.8.8.8.8.1.3.cmml" xref="S3.E2.m1.8.8.8.8.8.8.1.3">
                  𝑙
                 </ci>
                 <ci id="S3.E2.m1.8.8.8.8.8.8.1.4.cmml" xref="S3.E2.m1.8.8.8.8.8.8.1.4">
                  𝑎
                 </ci>
                 <ci id="S3.E2.m1.8.8.8.8.8.8.1.5.cmml" xref="S3.E2.m1.8.8.8.8.8.8.1.5">
                  𝑛
                 </ci>
                </apply>
               </apply>
               <apply id="S3.E2.m1.28.28.1.1.1.2.2.2.2.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                <csymbol cd="ambiguous" id="S3.E2.m1.28.28.1.1.1.2.2.2.2.1.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                 subscript
                </csymbol>
                <ci id="S3.E2.m1.10.10.10.10.10.10.cmml" xref="S3.E2.m1.10.10.10.10.10.10">
                 𝑅
                </ci>
                <apply id="S3.E2.m1.11.11.11.11.11.11.1.cmml" xref="S3.E2.m1.11.11.11.11.11.11.1">
                 <times id="S3.E2.m1.11.11.11.11.11.11.1.1.cmml" xref="S3.E2.m1.11.11.11.11.11.11.1.1">
                 </times>
                 <ci id="S3.E2.m1.11.11.11.11.11.11.1.2.cmml" xref="S3.E2.m1.11.11.11.11.11.11.1.2">
                  𝑎
                 </ci>
                 <ci id="S3.E2.m1.11.11.11.11.11.11.1.3.cmml" xref="S3.E2.m1.11.11.11.11.11.11.1.3">
                  𝑠
                 </ci>
                 <ci id="S3.E2.m1.11.11.11.11.11.11.1.4.cmml" xref="S3.E2.m1.11.11.11.11.11.11.1.4">
                  𝑘
                 </ci>
                </apply>
               </apply>
               <apply id="S3.E2.m1.28.28.1.1.1.3.3.3.3.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                <csymbol cd="ambiguous" id="S3.E2.m1.28.28.1.1.1.3.3.3.3.1.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                 subscript
                </csymbol>
                <ci id="S3.E2.m1.13.13.13.13.13.13.cmml" xref="S3.E2.m1.13.13.13.13.13.13">
                 𝑅
                </ci>
                <apply id="S3.E2.m1.14.14.14.14.14.14.1.cmml" xref="S3.E2.m1.14.14.14.14.14.14.1">
                 <times id="S3.E2.m1.14.14.14.14.14.14.1.1.cmml" xref="S3.E2.m1.14.14.14.14.14.14.1.1">
                 </times>
                 <ci id="S3.E2.m1.14.14.14.14.14.14.1.2.cmml" xref="S3.E2.m1.14.14.14.14.14.14.1.2">
                  𝑟
                 </ci>
                 <ci id="S3.E2.m1.14.14.14.14.14.14.1.3.cmml" xref="S3.E2.m1.14.14.14.14.14.14.1.3">
                  𝑒
                 </ci>
                 <ci id="S3.E2.m1.14.14.14.14.14.14.1.4.cmml" xref="S3.E2.m1.14.14.14.14.14.14.1.4">
                  𝑐
                 </ci>
                </apply>
               </apply>
               <apply id="S3.E2.m1.28.28.1.1.1.4.4.4.4.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                <csymbol cd="ambiguous" id="S3.E2.m1.28.28.1.1.1.4.4.4.4.1.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                 subscript
                </csymbol>
                <ci id="S3.E2.m1.16.16.16.16.16.16.cmml" xref="S3.E2.m1.16.16.16.16.16.16">
                 𝑅
                </ci>
                <apply id="S3.E2.m1.17.17.17.17.17.17.1.cmml" xref="S3.E2.m1.17.17.17.17.17.17.1">
                 <times id="S3.E2.m1.17.17.17.17.17.17.1.1.cmml" xref="S3.E2.m1.17.17.17.17.17.17.1.1">
                 </times>
                 <ci id="S3.E2.m1.17.17.17.17.17.17.1.2.cmml" xref="S3.E2.m1.17.17.17.17.17.17.1.2">
                  𝑐
                 </ci>
                 <ci id="S3.E2.m1.17.17.17.17.17.17.1.3.cmml" xref="S3.E2.m1.17.17.17.17.17.17.1.3">
                  ℎ
                 </ci>
                 <ci id="S3.E2.m1.17.17.17.17.17.17.1.4.cmml" xref="S3.E2.m1.17.17.17.17.17.17.1.4">
                  𝑎
                 </ci>
                 <ci id="S3.E2.m1.17.17.17.17.17.17.1.5.cmml" xref="S3.E2.m1.17.17.17.17.17.17.1.5">
                  𝑡
                 </ci>
                </apply>
               </apply>
               <apply id="S3.E2.m1.28.28.1.1.1.5.5.5.5.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                <csymbol cd="ambiguous" id="S3.E2.m1.28.28.1.1.1.5.5.5.5.1.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                 subscript
                </csymbol>
                <ci id="S3.E2.m1.19.19.19.19.19.19.cmml" xref="S3.E2.m1.19.19.19.19.19.19">
                 𝐷
                </ci>
                <ci id="S3.E2.m1.20.20.20.20.20.20.1.cmml" xref="S3.E2.m1.20.20.20.20.20.20.1">
                 ℎ
                </ci>
               </apply>
               <apply id="S3.E2.m1.28.28.1.1.1.6.6.6.6.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                <csymbol cd="ambiguous" id="S3.E2.m1.28.28.1.1.1.6.6.6.6.1.cmml" xref="S3.E2.m1.29.29.2.28.28.28.28.1.6.7">
                 subscript
                </csymbol>
                <ci id="S3.E2.m1.22.22.22.22.22.22.cmml" xref="S3.E2.m1.22.22.22.22.22.22">
                 𝐴
                </ci>
                <ci id="S3.E2.m1.23.23.23.23.23.23.1.cmml" xref="S3.E2.m1.23.23.23.23.23.23.1">
                 ℎ
                </ci>
               </apply>
               <ci id="S3.E2.m1.25.25.25.25.25.25.cmml" xref="S3.E2.m1.25.25.25.25.25.25">
                𝐸
               </ci>
              </vector>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E2.m1.29c">
            \begin{gathered}R_{s}=\pi_{p}(I_{plan},R_{ask},R_{rec},R_{chat},D_{h},A_{h},E).\end{gathered}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S3.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.3.
    </span>
    User Feedback-aware Reflection
   </h3>
   <figure class="ltx_figure" id="S3.F3">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="223" id="S3.F3.g1" src="/html/2402.01135/assets/x3.png" width="461"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 3.
     </span>
     Overview of user feedback-aware reflection mechanism.
    </figcaption>
   </figure>
   <div class="ltx_para" id="S3.SS3.p1">
    <p class="ltx_p" id="S3.SS3.p1.7">
     During the interactions with the CRS, the user provides the feedback utterance
     <math alttext="U_{f}" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1">
      <semantics id="S3.SS3.p1.1.m1.1a">
       <msub id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">
        <mi id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml">
         U
        </mi>
        <mi id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3.cmml">
         f
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b">
        <apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">
         <csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2">
          𝑈
         </ci>
         <ci id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3">
          𝑓
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">
        U_{f}
       </annotation>
      </semantics>
     </math>
     to the system response.
On the one hand, users will actively express their preferences in the feedback by providing more detailed descriptions or responding to questions.
On the other hand, users will also implicitly convey their satisfaction with the recommendations and occasionally clarify the reasons behind their satisfaction.
In order to leverage this valuable feedback
     <math alttext="U_{f}" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.1">
      <semantics id="S3.SS3.p1.2.m2.1a">
       <msub id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml">
        <mi id="S3.SS3.p1.2.m2.1.1.2" xref="S3.SS3.p1.2.m2.1.1.2.cmml">
         U
        </mi>
        <mi id="S3.SS3.p1.2.m2.1.1.3" xref="S3.SS3.p1.2.m2.1.1.3.cmml">
         f
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b">
        <apply id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">
         <csymbol cd="ambiguous" id="S3.SS3.p1.2.m2.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS3.p1.2.m2.1.1.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2">
          𝑈
         </ci>
         <ci id="S3.SS3.p1.2.m2.1.1.3.cmml" xref="S3.SS3.p1.2.m2.1.1.3">
          𝑓
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">
        U_{f}
       </annotation>
      </semantics>
     </math>
     to dynamically optimize our agents, we propose a user feedback-aware reflection mechanism that operates at two levels.
Figure
     <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‣ 3.3. User Feedback-aware Reflection ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     provides a illustration for the proposed mechanism.
The first information-level reflection
     <math alttext="\pi_{\text{info\_reflect}}" class="ltx_Math" display="inline" id="S3.SS3.p1.3.m3.1">
      <semantics id="S3.SS3.p1.3.m3.1a">
       <msub id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml">
        <mi id="S3.SS3.p1.3.m3.1.1.2" xref="S3.SS3.p1.3.m3.1.1.2.cmml">
         π
        </mi>
        <mtext id="S3.SS3.p1.3.m3.1.1.3" xref="S3.SS3.p1.3.m3.1.1.3a.cmml">
         info_reflect
        </mtext>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b">
        <apply id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">
         <csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS3.p1.3.m3.1.1.2.cmml" xref="S3.SS3.p1.3.m3.1.1.2">
          𝜋
         </ci>
         <ci id="S3.SS3.p1.3.m3.1.1.3a.cmml" xref="S3.SS3.p1.3.m3.1.1.3">
          <mtext id="S3.SS3.p1.3.m3.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.3.m3.1.1.3">
           info_reflect
          </mtext>
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">
        \pi_{\text{info\_reflect}}
       </annotation>
      </semantics>
     </math>
     infers user preferences from user feedback and summarizes them as user profiles
     <math alttext="U_{p}" class="ltx_Math" display="inline" id="S3.SS3.p1.4.m4.1">
      <semantics id="S3.SS3.p1.4.m4.1a">
       <msub id="S3.SS3.p1.4.m4.1.1" xref="S3.SS3.p1.4.m4.1.1.cmml">
        <mi id="S3.SS3.p1.4.m4.1.1.2" xref="S3.SS3.p1.4.m4.1.1.2.cmml">
         U
        </mi>
        <mi id="S3.SS3.p1.4.m4.1.1.3" xref="S3.SS3.p1.4.m4.1.1.3.cmml">
         p
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.1b">
        <apply id="S3.SS3.p1.4.m4.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1">
         <csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS3.p1.4.m4.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1.2">
          𝑈
         </ci>
         <ci id="S3.SS3.p1.4.m4.1.1.3.cmml" xref="S3.SS3.p1.4.m4.1.1.3">
          𝑝
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.1c">
        U_{p}
       </annotation>
      </semantics>
     </math>
     .
The second strategy-level reflection
     <math alttext="\pi_{\text{stra\_reflect}}" class="ltx_Math" display="inline" id="S3.SS3.p1.5.m5.1">
      <semantics id="S3.SS3.p1.5.m5.1a">
       <msub id="S3.SS3.p1.5.m5.1.1" xref="S3.SS3.p1.5.m5.1.1.cmml">
        <mi id="S3.SS3.p1.5.m5.1.1.2" xref="S3.SS3.p1.5.m5.1.1.2.cmml">
         π
        </mi>
        <mtext id="S3.SS3.p1.5.m5.1.1.3" xref="S3.SS3.p1.5.m5.1.1.3a.cmml">
         stra_reflect
        </mtext>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m5.1b">
        <apply id="S3.SS3.p1.5.m5.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1">
         <csymbol cd="ambiguous" id="S3.SS3.p1.5.m5.1.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS3.p1.5.m5.1.1.2.cmml" xref="S3.SS3.p1.5.m5.1.1.2">
          𝜋
         </ci>
         <ci id="S3.SS3.p1.5.m5.1.1.3a.cmml" xref="S3.SS3.p1.5.m5.1.1.3">
          <mtext id="S3.SS3.p1.5.m5.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p1.5.m5.1.1.3">
           stra_reflect
          </mtext>
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.5.m5.1c">
        \pi_{\text{stra\_reflect}}
       </annotation>
      </semantics>
     </math>
     adjusts the dialogue act plan by generating suggestions
     <math alttext="S" class="ltx_Math" display="inline" id="S3.SS3.p1.6.m6.1">
      <semantics id="S3.SS3.p1.6.m6.1a">
       <mi id="S3.SS3.p1.6.m6.1.1" xref="S3.SS3.p1.6.m6.1.1.cmml">
        S
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.6.m6.1b">
        <ci id="S3.SS3.p1.6.m6.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1">
         𝑆
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.6.m6.1c">
        S
       </annotation>
      </semantics>
     </math>
     and corrective experiences
     <math alttext="E" class="ltx_Math" display="inline" id="S3.SS3.p1.7.m7.1">
      <semantics id="S3.SS3.p1.7.m7.1a">
       <mi id="S3.SS3.p1.7.m7.1.1" xref="S3.SS3.p1.7.m7.1.1.cmml">
        E
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS3.p1.7.m7.1b">
        <ci id="S3.SS3.p1.7.m7.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1">
         𝐸
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS3.p1.7.m7.1c">
        E
       </annotation>
      </semantics>
     </math>
     based on the user’s clarifications to the recommendations.
Again, all strategies are implemented through in-context learning.
    </p>
   </div>
   <section class="ltx_subsubsection" id="S3.SS3.SSS1">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      3.3.1.
     </span>
     Information-level Reflection
    </h4>
    <div class="ltx_para" id="S3.SS3.SSS1.p1">
     <p class="ltx_p" id="S3.SS3.SSS1.p1.5">
      We propose the information-level reflection mechanism
      <math alttext="\pi_{\text{info\_reflect}}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.1.m1.1">
       <semantics id="S3.SS3.SSS1.p1.1.m1.1a">
        <msub id="S3.SS3.SSS1.p1.1.m1.1.1" xref="S3.SS3.SSS1.p1.1.m1.1.1.cmml">
         <mi id="S3.SS3.SSS1.p1.1.m1.1.1.2" xref="S3.SS3.SSS1.p1.1.m1.1.1.2.cmml">
          π
         </mi>
         <mtext id="S3.SS3.SSS1.p1.1.m1.1.1.3" xref="S3.SS3.SSS1.p1.1.m1.1.1.3a.cmml">
          info_reflect
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.1.m1.1b">
         <apply id="S3.SS3.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS1.p1.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.1.m1.1.1.1.cmml" xref="S3.SS3.SSS1.p1.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p1.1.m1.1.1.2.cmml" xref="S3.SS3.SSS1.p1.1.m1.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS3.SSS1.p1.1.m1.1.1.3a.cmml" xref="S3.SS3.SSS1.p1.1.m1.1.1.3">
           <mtext id="S3.SS3.SSS1.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS1.p1.1.m1.1.1.3">
            info_reflect
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.1.m1.1c">
         \pi_{\text{info\_reflect}}
        </annotation>
       </semantics>
      </math>
      which summarizes user feedback to higher-level information, referred as to user profiles
      <math alttext="U_{p}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.2.m2.1">
       <semantics id="S3.SS3.SSS1.p1.2.m2.1a">
        <msub id="S3.SS3.SSS1.p1.2.m2.1.1" xref="S3.SS3.SSS1.p1.2.m2.1.1.cmml">
         <mi id="S3.SS3.SSS1.p1.2.m2.1.1.2" xref="S3.SS3.SSS1.p1.2.m2.1.1.2.cmml">
          U
         </mi>
         <mi id="S3.SS3.SSS1.p1.2.m2.1.1.3" xref="S3.SS3.SSS1.p1.2.m2.1.1.3.cmml">
          p
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.2.m2.1b">
         <apply id="S3.SS3.SSS1.p1.2.m2.1.1.cmml" xref="S3.SS3.SSS1.p1.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.2.m2.1.1.1.cmml" xref="S3.SS3.SSS1.p1.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p1.2.m2.1.1.2.cmml" xref="S3.SS3.SSS1.p1.2.m2.1.1.2">
           𝑈
          </ci>
          <ci id="S3.SS3.SSS1.p1.2.m2.1.1.3.cmml" xref="S3.SS3.SSS1.p1.2.m2.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.2.m2.1c">
         U_{p}
        </annotation>
       </semantics>
      </math>
      .
The user profiles
      <math alttext="U_{p}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.3.m3.1">
       <semantics id="S3.SS3.SSS1.p1.3.m3.1a">
        <msub id="S3.SS3.SSS1.p1.3.m3.1.1" xref="S3.SS3.SSS1.p1.3.m3.1.1.cmml">
         <mi id="S3.SS3.SSS1.p1.3.m3.1.1.2" xref="S3.SS3.SSS1.p1.3.m3.1.1.2.cmml">
          U
         </mi>
         <mi id="S3.SS3.SSS1.p1.3.m3.1.1.3" xref="S3.SS3.SSS1.p1.3.m3.1.1.3.cmml">
          p
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.3.m3.1b">
         <apply id="S3.SS3.SSS1.p1.3.m3.1.1.cmml" xref="S3.SS3.SSS1.p1.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.3.m3.1.1.1.cmml" xref="S3.SS3.SSS1.p1.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p1.3.m3.1.1.2.cmml" xref="S3.SS3.SSS1.p1.3.m3.1.1.2">
           𝑈
          </ci>
          <ci id="S3.SS3.SSS1.p1.3.m3.1.1.3.cmml" xref="S3.SS3.SSS1.p1.3.m3.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.3.m3.1c">
         U_{p}
        </annotation>
       </semantics>
      </math>
      contain current user demand and browsing history: (1) The current user demand is stored in a dictionary format, comprising multiple key-value pairs.
Each key-value pair represents an item attribute that the user is interested in.
And these key-value pairs are extracted from the user feedback by using this mechanism
      <math alttext="\pi_{\text{info\_reflect}}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.4.m4.1">
       <semantics id="S3.SS3.SSS1.p1.4.m4.1a">
        <msub id="S3.SS3.SSS1.p1.4.m4.1.1" xref="S3.SS3.SSS1.p1.4.m4.1.1.cmml">
         <mi id="S3.SS3.SSS1.p1.4.m4.1.1.2" xref="S3.SS3.SSS1.p1.4.m4.1.1.2.cmml">
          π
         </mi>
         <mtext id="S3.SS3.SSS1.p1.4.m4.1.1.3" xref="S3.SS3.SSS1.p1.4.m4.1.1.3a.cmml">
          info_reflect
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.4.m4.1b">
         <apply id="S3.SS3.SSS1.p1.4.m4.1.1.cmml" xref="S3.SS3.SSS1.p1.4.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.4.m4.1.1.1.cmml" xref="S3.SS3.SSS1.p1.4.m4.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p1.4.m4.1.1.2.cmml" xref="S3.SS3.SSS1.p1.4.m4.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS3.SSS1.p1.4.m4.1.1.3a.cmml" xref="S3.SS3.SSS1.p1.4.m4.1.1.3">
           <mtext id="S3.SS3.SSS1.p1.4.m4.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS1.p1.4.m4.1.1.3">
            info_reflect
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.4.m4.1c">
         \pi_{\text{info\_reflect}}
        </annotation>
       </semantics>
      </math>
      . (2) The browsing history includes multiple items mentioned by the user, which are extracted from the user feedback
      <math alttext="U_{f}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.5.m5.1">
       <semantics id="S3.SS3.SSS1.p1.5.m5.1a">
        <msub id="S3.SS3.SSS1.p1.5.m5.1.1" xref="S3.SS3.SSS1.p1.5.m5.1.1.cmml">
         <mi id="S3.SS3.SSS1.p1.5.m5.1.1.2" xref="S3.SS3.SSS1.p1.5.m5.1.1.2.cmml">
          U
         </mi>
         <mi id="S3.SS3.SSS1.p1.5.m5.1.1.3" xref="S3.SS3.SSS1.p1.5.m5.1.1.3.cmml">
          f
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.5.m5.1b">
         <apply id="S3.SS3.SSS1.p1.5.m5.1.1.cmml" xref="S3.SS3.SSS1.p1.5.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.5.m5.1.1.1.cmml" xref="S3.SS3.SSS1.p1.5.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p1.5.m5.1.1.2.cmml" xref="S3.SS3.SSS1.p1.5.m5.1.1.2">
           𝑈
          </ci>
          <ci id="S3.SS3.SSS1.p1.5.m5.1.1.3.cmml" xref="S3.SS3.SSS1.p1.5.m5.1.1.3">
           𝑓
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.5.m5.1c">
         U_{f}
        </annotation>
       </semantics>
      </math>
      .
It helps the responder agents effectively capture user preferences and also reminds them to avoid generating duplicate content.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS1.p2">
     <p class="ltx_p" id="S3.SS3.SSS1.p2.7">
      In dialogue turn
      <math alttext="t" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p2.1.m1.1">
       <semantics id="S3.SS3.SSS1.p2.1.m1.1a">
        <mi id="S3.SS3.SSS1.p2.1.m1.1.1" xref="S3.SS3.SSS1.p2.1.m1.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.1.m1.1b">
         <ci id="S3.SS3.SSS1.p2.1.m1.1.1.cmml" xref="S3.SS3.SSS1.p2.1.m1.1.1">
          𝑡
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.1.m1.1c">
         t
        </annotation>
       </semantics>
      </math>
      , the information-level reflection mechanism
      <math alttext="\pi_{\text{info\_reflect}}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p2.2.m2.1">
       <semantics id="S3.SS3.SSS1.p2.2.m2.1a">
        <msub id="S3.SS3.SSS1.p2.2.m2.1.1" xref="S3.SS3.SSS1.p2.2.m2.1.1.cmml">
         <mi id="S3.SS3.SSS1.p2.2.m2.1.1.2" xref="S3.SS3.SSS1.p2.2.m2.1.1.2.cmml">
          π
         </mi>
         <mtext id="S3.SS3.SSS1.p2.2.m2.1.1.3" xref="S3.SS3.SSS1.p2.2.m2.1.1.3a.cmml">
          info_reflect
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.2.m2.1b">
         <apply id="S3.SS3.SSS1.p2.2.m2.1.1.cmml" xref="S3.SS3.SSS1.p2.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.2.m2.1.1.1.cmml" xref="S3.SS3.SSS1.p2.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p2.2.m2.1.1.2.cmml" xref="S3.SS3.SSS1.p2.2.m2.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS3.SSS1.p2.2.m2.1.1.3a.cmml" xref="S3.SS3.SSS1.p2.2.m2.1.1.3">
           <mtext id="S3.SS3.SSS1.p2.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS1.p2.2.m2.1.1.3">
            info_reflect
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.2.m2.1c">
         \pi_{\text{info\_reflect}}
        </annotation>
       </semantics>
      </math>
      generates the user profile
      <math alttext="U^{t}_{p}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p2.3.m3.1">
       <semantics id="S3.SS3.SSS1.p2.3.m3.1a">
        <msubsup id="S3.SS3.SSS1.p2.3.m3.1.1" xref="S3.SS3.SSS1.p2.3.m3.1.1.cmml">
         <mi id="S3.SS3.SSS1.p2.3.m3.1.1.2.2" xref="S3.SS3.SSS1.p2.3.m3.1.1.2.2.cmml">
          U
         </mi>
         <mi id="S3.SS3.SSS1.p2.3.m3.1.1.3" xref="S3.SS3.SSS1.p2.3.m3.1.1.3.cmml">
          p
         </mi>
         <mi id="S3.SS3.SSS1.p2.3.m3.1.1.2.3" xref="S3.SS3.SSS1.p2.3.m3.1.1.2.3.cmml">
          t
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.3.m3.1b">
         <apply id="S3.SS3.SSS1.p2.3.m3.1.1.cmml" xref="S3.SS3.SSS1.p2.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.3.m3.1.1.1.cmml" xref="S3.SS3.SSS1.p2.3.m3.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS1.p2.3.m3.1.1.2.cmml" xref="S3.SS3.SSS1.p2.3.m3.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.3.m3.1.1.2.1.cmml" xref="S3.SS3.SSS1.p2.3.m3.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS1.p2.3.m3.1.1.2.2.cmml" xref="S3.SS3.SSS1.p2.3.m3.1.1.2.2">
            𝑈
           </ci>
           <ci id="S3.SS3.SSS1.p2.3.m3.1.1.2.3.cmml" xref="S3.SS3.SSS1.p2.3.m3.1.1.2.3">
            𝑡
           </ci>
          </apply>
          <ci id="S3.SS3.SSS1.p2.3.m3.1.1.3.cmml" xref="S3.SS3.SSS1.p2.3.m3.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.3.m3.1c">
         U^{t}_{p}
        </annotation>
       </semantics>
      </math>
      based on the user profile
      <math alttext="U^{t-1}_{p}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p2.4.m4.1">
       <semantics id="S3.SS3.SSS1.p2.4.m4.1a">
        <msubsup id="S3.SS3.SSS1.p2.4.m4.1.1" xref="S3.SS3.SSS1.p2.4.m4.1.1.cmml">
         <mi id="S3.SS3.SSS1.p2.4.m4.1.1.2.2" xref="S3.SS3.SSS1.p2.4.m4.1.1.2.2.cmml">
          U
         </mi>
         <mi id="S3.SS3.SSS1.p2.4.m4.1.1.3" xref="S3.SS3.SSS1.p2.4.m4.1.1.3.cmml">
          p
         </mi>
         <mrow id="S3.SS3.SSS1.p2.4.m4.1.1.2.3" xref="S3.SS3.SSS1.p2.4.m4.1.1.2.3.cmml">
          <mi id="S3.SS3.SSS1.p2.4.m4.1.1.2.3.2" xref="S3.SS3.SSS1.p2.4.m4.1.1.2.3.2.cmml">
           t
          </mi>
          <mo id="S3.SS3.SSS1.p2.4.m4.1.1.2.3.1" xref="S3.SS3.SSS1.p2.4.m4.1.1.2.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS3.SSS1.p2.4.m4.1.1.2.3.3" xref="S3.SS3.SSS1.p2.4.m4.1.1.2.3.3.cmml">
           1
          </mn>
         </mrow>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.4.m4.1b">
         <apply id="S3.SS3.SSS1.p2.4.m4.1.1.cmml" xref="S3.SS3.SSS1.p2.4.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.4.m4.1.1.1.cmml" xref="S3.SS3.SSS1.p2.4.m4.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS1.p2.4.m4.1.1.2.cmml" xref="S3.SS3.SSS1.p2.4.m4.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.4.m4.1.1.2.1.cmml" xref="S3.SS3.SSS1.p2.4.m4.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS1.p2.4.m4.1.1.2.2.cmml" xref="S3.SS3.SSS1.p2.4.m4.1.1.2.2">
            𝑈
           </ci>
           <apply id="S3.SS3.SSS1.p2.4.m4.1.1.2.3.cmml" xref="S3.SS3.SSS1.p2.4.m4.1.1.2.3">
            <minus id="S3.SS3.SSS1.p2.4.m4.1.1.2.3.1.cmml" xref="S3.SS3.SSS1.p2.4.m4.1.1.2.3.1">
            </minus>
            <ci id="S3.SS3.SSS1.p2.4.m4.1.1.2.3.2.cmml" xref="S3.SS3.SSS1.p2.4.m4.1.1.2.3.2">
             𝑡
            </ci>
            <cn id="S3.SS3.SSS1.p2.4.m4.1.1.2.3.3.cmml" type="integer" xref="S3.SS3.SSS1.p2.4.m4.1.1.2.3.3">
             1
            </cn>
           </apply>
          </apply>
          <ci id="S3.SS3.SSS1.p2.4.m4.1.1.3.cmml" xref="S3.SS3.SSS1.p2.4.m4.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.4.m4.1c">
         U^{t-1}_{p}
        </annotation>
       </semantics>
      </math>
      from the previous turn
      <math alttext="t-1" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p2.5.m5.1">
       <semantics id="S3.SS3.SSS1.p2.5.m5.1a">
        <mrow id="S3.SS3.SSS1.p2.5.m5.1.1" xref="S3.SS3.SSS1.p2.5.m5.1.1.cmml">
         <mi id="S3.SS3.SSS1.p2.5.m5.1.1.2" xref="S3.SS3.SSS1.p2.5.m5.1.1.2.cmml">
          t
         </mi>
         <mo id="S3.SS3.SSS1.p2.5.m5.1.1.1" xref="S3.SS3.SSS1.p2.5.m5.1.1.1.cmml">
          −
         </mo>
         <mn id="S3.SS3.SSS1.p2.5.m5.1.1.3" xref="S3.SS3.SSS1.p2.5.m5.1.1.3.cmml">
          1
         </mn>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.5.m5.1b">
         <apply id="S3.SS3.SSS1.p2.5.m5.1.1.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1">
          <minus id="S3.SS3.SSS1.p2.5.m5.1.1.1.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1.1">
          </minus>
          <ci id="S3.SS3.SSS1.p2.5.m5.1.1.2.cmml" xref="S3.SS3.SSS1.p2.5.m5.1.1.2">
           𝑡
          </ci>
          <cn id="S3.SS3.SSS1.p2.5.m5.1.1.3.cmml" type="integer" xref="S3.SS3.SSS1.p2.5.m5.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.5.m5.1c">
         t-1
        </annotation>
       </semantics>
      </math>
      , system response
      <math alttext="R_{s}^{t-1}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p2.6.m6.1">
       <semantics id="S3.SS3.SSS1.p2.6.m6.1a">
        <msubsup id="S3.SS3.SSS1.p2.6.m6.1.1" xref="S3.SS3.SSS1.p2.6.m6.1.1.cmml">
         <mi id="S3.SS3.SSS1.p2.6.m6.1.1.2.2" xref="S3.SS3.SSS1.p2.6.m6.1.1.2.2.cmml">
          R
         </mi>
         <mi id="S3.SS3.SSS1.p2.6.m6.1.1.2.3" xref="S3.SS3.SSS1.p2.6.m6.1.1.2.3.cmml">
          s
         </mi>
         <mrow id="S3.SS3.SSS1.p2.6.m6.1.1.3" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.cmml">
          <mi id="S3.SS3.SSS1.p2.6.m6.1.1.3.2" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.2.cmml">
           t
          </mi>
          <mo id="S3.SS3.SSS1.p2.6.m6.1.1.3.1" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS3.SSS1.p2.6.m6.1.1.3.3" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3.cmml">
           1
          </mn>
         </mrow>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.6.m6.1b">
         <apply id="S3.SS3.SSS1.p2.6.m6.1.1.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.6.m6.1.1.1.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1">
           superscript
          </csymbol>
          <apply id="S3.SS3.SSS1.p2.6.m6.1.1.2.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.6.m6.1.1.2.1.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1">
            subscript
           </csymbol>
           <ci id="S3.SS3.SSS1.p2.6.m6.1.1.2.2.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.2.2">
            𝑅
           </ci>
           <ci id="S3.SS3.SSS1.p2.6.m6.1.1.2.3.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.2.3">
            𝑠
           </ci>
          </apply>
          <apply id="S3.SS3.SSS1.p2.6.m6.1.1.3.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3">
           <minus id="S3.SS3.SSS1.p2.6.m6.1.1.3.1.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.1">
           </minus>
           <ci id="S3.SS3.SSS1.p2.6.m6.1.1.3.2.cmml" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.2">
            𝑡
           </ci>
           <cn id="S3.SS3.SSS1.p2.6.m6.1.1.3.3.cmml" type="integer" xref="S3.SS3.SSS1.p2.6.m6.1.1.3.3">
            1
           </cn>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.6.m6.1c">
         R_{s}^{t-1}
        </annotation>
       </semantics>
      </math>
      and user feedback
      <math alttext="U^{t-1}_{f}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p2.7.m7.1">
       <semantics id="S3.SS3.SSS1.p2.7.m7.1a">
        <msubsup id="S3.SS3.SSS1.p2.7.m7.1.1" xref="S3.SS3.SSS1.p2.7.m7.1.1.cmml">
         <mi id="S3.SS3.SSS1.p2.7.m7.1.1.2.2" xref="S3.SS3.SSS1.p2.7.m7.1.1.2.2.cmml">
          U
         </mi>
         <mi id="S3.SS3.SSS1.p2.7.m7.1.1.3" xref="S3.SS3.SSS1.p2.7.m7.1.1.3.cmml">
          f
         </mi>
         <mrow id="S3.SS3.SSS1.p2.7.m7.1.1.2.3" xref="S3.SS3.SSS1.p2.7.m7.1.1.2.3.cmml">
          <mi id="S3.SS3.SSS1.p2.7.m7.1.1.2.3.2" xref="S3.SS3.SSS1.p2.7.m7.1.1.2.3.2.cmml">
           t
          </mi>
          <mo id="S3.SS3.SSS1.p2.7.m7.1.1.2.3.1" xref="S3.SS3.SSS1.p2.7.m7.1.1.2.3.1.cmml">
           −
          </mo>
          <mn id="S3.SS3.SSS1.p2.7.m7.1.1.2.3.3" xref="S3.SS3.SSS1.p2.7.m7.1.1.2.3.3.cmml">
           1
          </mn>
         </mrow>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.7.m7.1b">
         <apply id="S3.SS3.SSS1.p2.7.m7.1.1.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.7.m7.1.1.1.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS1.p2.7.m7.1.1.2.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.7.m7.1.1.2.1.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS1.p2.7.m7.1.1.2.2.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1.2.2">
            𝑈
           </ci>
           <apply id="S3.SS3.SSS1.p2.7.m7.1.1.2.3.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1.2.3">
            <minus id="S3.SS3.SSS1.p2.7.m7.1.1.2.3.1.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1.2.3.1">
            </minus>
            <ci id="S3.SS3.SSS1.p2.7.m7.1.1.2.3.2.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1.2.3.2">
             𝑡
            </ci>
            <cn id="S3.SS3.SSS1.p2.7.m7.1.1.2.3.3.cmml" type="integer" xref="S3.SS3.SSS1.p2.7.m7.1.1.2.3.3">
             1
            </cn>
           </apply>
          </apply>
          <ci id="S3.SS3.SSS1.p2.7.m7.1.1.3.cmml" xref="S3.SS3.SSS1.p2.7.m7.1.1.3">
           𝑓
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.7.m7.1c">
         U^{t-1}_{f}
        </annotation>
       </semantics>
      </math>
      :
     </p>
     <table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="S6.EGx1">
      <tbody id="S3.E3">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_left">
          (3)
         </span>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\displaystyle U^{t}_{p}=\pi_{\text{info\_reflect}}(U^{t-1}_{p},R_{s}^{t-1},U^{t-1}_{f})," class="ltx_Math" display="block" id="S3.E3.m1.1">
          <semantics id="S3.E3.m1.1a">
           <mrow id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml">
            <mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml">
             <msubsup id="S3.E3.m1.1.1.1.1.5" xref="S3.E3.m1.1.1.1.1.5.cmml">
              <mi id="S3.E3.m1.1.1.1.1.5.2.2" xref="S3.E3.m1.1.1.1.1.5.2.2.cmml">
               U
              </mi>
              <mi id="S3.E3.m1.1.1.1.1.5.3" xref="S3.E3.m1.1.1.1.1.5.3.cmml">
               p
              </mi>
              <mi id="S3.E3.m1.1.1.1.1.5.2.3" xref="S3.E3.m1.1.1.1.1.5.2.3.cmml">
               t
              </mi>
             </msubsup>
             <mo id="S3.E3.m1.1.1.1.1.4" xref="S3.E3.m1.1.1.1.1.4.cmml">
              =
             </mo>
             <mrow id="S3.E3.m1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.3.cmml">
              <msub id="S3.E3.m1.1.1.1.1.3.5" xref="S3.E3.m1.1.1.1.1.3.5.cmml">
               <mi id="S3.E3.m1.1.1.1.1.3.5.2" xref="S3.E3.m1.1.1.1.1.3.5.2.cmml">
                π
               </mi>
               <mtext id="S3.E3.m1.1.1.1.1.3.5.3" xref="S3.E3.m1.1.1.1.1.3.5.3a.cmml">
                info_reflect
               </mtext>
              </msub>
              <mo id="S3.E3.m1.1.1.1.1.3.4" lspace="0em" rspace="0em" xref="S3.E3.m1.1.1.1.1.3.4.cmml">
               ​
              </mo>
              <mrow id="S3.E3.m1.1.1.1.1.3.3.3" xref="S3.E3.m1.1.1.1.1.3.3.4.cmml">
               <mo id="S3.E3.m1.1.1.1.1.3.3.3.4" stretchy="false" xref="S3.E3.m1.1.1.1.1.3.3.4.cmml">
                (
               </mo>
               <msubsup id="S3.E3.m1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.cmml">
                <mi id="S3.E3.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.2.cmml">
                 U
                </mi>
                <mi id="S3.E3.m1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.cmml">
                 p
                </mi>
                <mrow id="S3.E3.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.cmml">
                 <mi id="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.2.cmml">
                  t
                 </mi>
                 <mo id="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.1.cmml">
                  −
                 </mo>
                 <mn id="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.3.cmml">
                  1
                 </mn>
                </mrow>
               </msubsup>
               <mo id="S3.E3.m1.1.1.1.1.3.3.3.5" xref="S3.E3.m1.1.1.1.1.3.3.4.cmml">
                ,
               </mo>
               <msubsup id="S3.E3.m1.1.1.1.1.2.2.2.2" xref="S3.E3.m1.1.1.1.1.2.2.2.2.cmml">
                <mi id="S3.E3.m1.1.1.1.1.2.2.2.2.2.2" xref="S3.E3.m1.1.1.1.1.2.2.2.2.2.2.cmml">
                 R
                </mi>
                <mi id="S3.E3.m1.1.1.1.1.2.2.2.2.2.3" xref="S3.E3.m1.1.1.1.1.2.2.2.2.2.3.cmml">
                 s
                </mi>
                <mrow id="S3.E3.m1.1.1.1.1.2.2.2.2.3" xref="S3.E3.m1.1.1.1.1.2.2.2.2.3.cmml">
                 <mi id="S3.E3.m1.1.1.1.1.2.2.2.2.3.2" xref="S3.E3.m1.1.1.1.1.2.2.2.2.3.2.cmml">
                  t
                 </mi>
                 <mo id="S3.E3.m1.1.1.1.1.2.2.2.2.3.1" xref="S3.E3.m1.1.1.1.1.2.2.2.2.3.1.cmml">
                  −
                 </mo>
                 <mn id="S3.E3.m1.1.1.1.1.2.2.2.2.3.3" xref="S3.E3.m1.1.1.1.1.2.2.2.2.3.3.cmml">
                  1
                 </mn>
                </mrow>
               </msubsup>
               <mo id="S3.E3.m1.1.1.1.1.3.3.3.6" xref="S3.E3.m1.1.1.1.1.3.3.4.cmml">
                ,
               </mo>
               <msubsup id="S3.E3.m1.1.1.1.1.3.3.3.3" xref="S3.E3.m1.1.1.1.1.3.3.3.3.cmml">
                <mi id="S3.E3.m1.1.1.1.1.3.3.3.3.2.2" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2.2.cmml">
                 U
                </mi>
                <mi id="S3.E3.m1.1.1.1.1.3.3.3.3.3" xref="S3.E3.m1.1.1.1.1.3.3.3.3.3.cmml">
                 f
                </mi>
                <mrow id="S3.E3.m1.1.1.1.1.3.3.3.3.2.3" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.cmml">
                 <mi id="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.2" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.2.cmml">
                  t
                 </mi>
                 <mo id="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.1" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.1.cmml">
                  −
                 </mo>
                 <mn id="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.3" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.3.cmml">
                  1
                 </mn>
                </mrow>
               </msubsup>
               <mo id="S3.E3.m1.1.1.1.1.3.3.3.7" stretchy="false" xref="S3.E3.m1.1.1.1.1.3.3.4.cmml">
                )
               </mo>
              </mrow>
             </mrow>
            </mrow>
            <mo id="S3.E3.m1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.cmml">
             ,
            </mo>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E3.m1.1b">
            <apply id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1">
             <eq id="S3.E3.m1.1.1.1.1.4.cmml" xref="S3.E3.m1.1.1.1.1.4">
             </eq>
             <apply id="S3.E3.m1.1.1.1.1.5.cmml" xref="S3.E3.m1.1.1.1.1.5">
              <csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.5.1.cmml" xref="S3.E3.m1.1.1.1.1.5">
               subscript
              </csymbol>
              <apply id="S3.E3.m1.1.1.1.1.5.2.cmml" xref="S3.E3.m1.1.1.1.1.5">
               <csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.5.2.1.cmml" xref="S3.E3.m1.1.1.1.1.5">
                superscript
               </csymbol>
               <ci id="S3.E3.m1.1.1.1.1.5.2.2.cmml" xref="S3.E3.m1.1.1.1.1.5.2.2">
                𝑈
               </ci>
               <ci id="S3.E3.m1.1.1.1.1.5.2.3.cmml" xref="S3.E3.m1.1.1.1.1.5.2.3">
                𝑡
               </ci>
              </apply>
              <ci id="S3.E3.m1.1.1.1.1.5.3.cmml" xref="S3.E3.m1.1.1.1.1.5.3">
               𝑝
              </ci>
             </apply>
             <apply id="S3.E3.m1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.3">
              <times id="S3.E3.m1.1.1.1.1.3.4.cmml" xref="S3.E3.m1.1.1.1.1.3.4">
              </times>
              <apply id="S3.E3.m1.1.1.1.1.3.5.cmml" xref="S3.E3.m1.1.1.1.1.3.5">
               <csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.5.1.cmml" xref="S3.E3.m1.1.1.1.1.3.5">
                subscript
               </csymbol>
               <ci id="S3.E3.m1.1.1.1.1.3.5.2.cmml" xref="S3.E3.m1.1.1.1.1.3.5.2">
                𝜋
               </ci>
               <ci id="S3.E3.m1.1.1.1.1.3.5.3a.cmml" xref="S3.E3.m1.1.1.1.1.3.5.3">
                <mtext id="S3.E3.m1.1.1.1.1.3.5.3.cmml" mathsize="70%" xref="S3.E3.m1.1.1.1.1.3.5.3">
                 info_reflect
                </mtext>
               </ci>
              </apply>
              <vector id="S3.E3.m1.1.1.1.1.3.3.4.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3">
               <apply id="S3.E3.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1">
                 subscript
                </csymbol>
                <apply id="S3.E3.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1">
                 <csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1">
                  superscript
                 </csymbol>
                 <ci id="S3.E3.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.2">
                  𝑈
                 </ci>
                 <apply id="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.3">
                  <minus id="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.1">
                  </minus>
                  <ci id="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.2">
                   𝑡
                  </ci>
                  <cn id="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.3.cmml" type="integer" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.3.3">
                   1
                  </cn>
                 </apply>
                </apply>
                <ci id="S3.E3.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3">
                 𝑝
                </ci>
               </apply>
               <apply id="S3.E3.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2">
                <csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2">
                 superscript
                </csymbol>
                <apply id="S3.E3.m1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2">
                 <csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2">
                  subscript
                 </csymbol>
                 <ci id="S3.E3.m1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2.2.2">
                  𝑅
                 </ci>
                 <ci id="S3.E3.m1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2.2.3">
                  𝑠
                 </ci>
                </apply>
                <apply id="S3.E3.m1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2.3">
                 <minus id="S3.E3.m1.1.1.1.1.2.2.2.2.3.1.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2.3.1">
                 </minus>
                 <ci id="S3.E3.m1.1.1.1.1.2.2.2.2.3.2.cmml" xref="S3.E3.m1.1.1.1.1.2.2.2.2.3.2">
                  𝑡
                 </ci>
                 <cn id="S3.E3.m1.1.1.1.1.2.2.2.2.3.3.cmml" type="integer" xref="S3.E3.m1.1.1.1.1.2.2.2.2.3.3">
                  1
                 </cn>
                </apply>
               </apply>
               <apply id="S3.E3.m1.1.1.1.1.3.3.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3">
                <csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.3.3.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3">
                 subscript
                </csymbol>
                <apply id="S3.E3.m1.1.1.1.1.3.3.3.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3">
                 <csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.3.3.3.2.1.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3">
                  superscript
                 </csymbol>
                 <ci id="S3.E3.m1.1.1.1.1.3.3.3.3.2.2.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2.2">
                  𝑈
                 </ci>
                 <apply id="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2.3">
                  <minus id="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.1">
                  </minus>
                  <ci id="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.2">
                   𝑡
                  </ci>
                  <cn id="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.3.cmml" type="integer" xref="S3.E3.m1.1.1.1.1.3.3.3.3.2.3.3">
                   1
                  </cn>
                 </apply>
                </apply>
                <ci id="S3.E3.m1.1.1.1.1.3.3.3.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3.3.3">
                 𝑓
                </ci>
               </apply>
              </vector>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E3.m1.1c">
            \displaystyle U^{t}_{p}=\pi_{\text{info\_reflect}}(U^{t-1}_{p},R_{s}^{t-1},U^{t-1}_{f}),
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS1.p2.8">
      where the information-level reflection mechanism
      <math alttext="\pi_{\text{info\_reflect}}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p2.8.m1.1">
       <semantics id="S3.SS3.SSS1.p2.8.m1.1a">
        <msub id="S3.SS3.SSS1.p2.8.m1.1.1" xref="S3.SS3.SSS1.p2.8.m1.1.1.cmml">
         <mi id="S3.SS3.SSS1.p2.8.m1.1.1.2" xref="S3.SS3.SSS1.p2.8.m1.1.1.2.cmml">
          π
         </mi>
         <mtext id="S3.SS3.SSS1.p2.8.m1.1.1.3" xref="S3.SS3.SSS1.p2.8.m1.1.1.3a.cmml">
          info_reflect
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p2.8.m1.1b">
         <apply id="S3.SS3.SSS1.p2.8.m1.1.1.cmml" xref="S3.SS3.SSS1.p2.8.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p2.8.m1.1.1.1.cmml" xref="S3.SS3.SSS1.p2.8.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p2.8.m1.1.1.2.cmml" xref="S3.SS3.SSS1.p2.8.m1.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS3.SSS1.p2.8.m1.1.1.3a.cmml" xref="S3.SS3.SSS1.p2.8.m1.1.1.3">
           <mtext id="S3.SS3.SSS1.p2.8.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS1.p2.8.m1.1.1.3">
            info_reflect
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p2.8.m1.1c">
         \pi_{\text{info\_reflect}}
        </annotation>
       </semantics>
      </math>
      is implemented by prompting an LLM-based agent using the following instructions:
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS3.SSS1.p3">
     <svg class="ltx_picture" height="56.46" id="S3.SS3.SSS1.p3.pic1" overflow="visible" version="1.1" width="600">
      <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,56.46) matrix(1 0 0 -1 0 0)">
       <g fill="#6E6E6E" fill-opacity="1.0">
        <path d="M 0 5.91 L 0 50.56 C 0 53.82 2.64 56.46 5.91 56.46 L 594.09 56.46 C 597.36 56.46 600 53.82 600 50.56 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#FCFCFC" fill-opacity="1.0">
        <path d="M 1.97 5.91 L 1.97 50.56 C 1.97 52.73 3.73 54.49 5.91 54.49 L 594.09 54.49 C 596.27 54.49 598.03 52.73 598.03 50.56 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
        <foreignobject color="#000000" height="28.9" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
         <span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S3.SS3.SSS1.p3.pic1.1.1.1.1.1" style="width:402.3pt;">
          <span class="ltx_p" id="S3.SS3.SSS1.p3.pic1.1.1.1.1.1.1">
           Please infer user preferences based on the conversation.
And combine them with the past preferences to summarize a more complete user preferences.
          </span>
         </span>
        </foreignobject>
       </g>
      </g>
     </svg>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS1.p4">
     <p class="ltx_p" id="S3.SS3.SSS1.p4.1">
      After information-level reflection, the user profiles
      <math alttext="U_{p}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p4.1.m1.1">
       <semantics id="S3.SS3.SSS1.p4.1.m1.1a">
        <msub id="S3.SS3.SSS1.p4.1.m1.1.1" xref="S3.SS3.SSS1.p4.1.m1.1.1.cmml">
         <mi id="S3.SS3.SSS1.p4.1.m1.1.1.2" xref="S3.SS3.SSS1.p4.1.m1.1.1.2.cmml">
          U
         </mi>
         <mi id="S3.SS3.SSS1.p4.1.m1.1.1.3" xref="S3.SS3.SSS1.p4.1.m1.1.1.3.cmml">
          p
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p4.1.m1.1b">
         <apply id="S3.SS3.SSS1.p4.1.m1.1.1.cmml" xref="S3.SS3.SSS1.p4.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p4.1.m1.1.1.1.cmml" xref="S3.SS3.SSS1.p4.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p4.1.m1.1.1.2.cmml" xref="S3.SS3.SSS1.p4.1.m1.1.1.2">
           𝑈
          </ci>
          <ci id="S3.SS3.SSS1.p4.1.m1.1.1.3.cmml" xref="S3.SS3.SSS1.p4.1.m1.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p4.1.m1.1c">
         U_{p}
        </annotation>
       </semantics>
      </math>
      will be transmitted to the memory module of each responder agent.
     </p>
    </div>
   </section>
   <section class="ltx_subsubsection" id="S3.SS3.SSS2">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      3.3.2.
     </span>
     Strategy-level Reflection
    </h4>
    <div class="ltx_para" id="S3.SS3.SSS2.p1">
     <p class="ltx_p" id="S3.SS3.SSS2.p1.2">
      User feedback implicitly indicates their satisfaction with the recommendations.
When a user is dissatisfied, it indicates that MACRS has issues in controlling the dialogue flow in the past few turns.
So we propose the strategy-level reflection mechanism
      <math alttext="\pi_{\text{stra\_reflect}}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p1.1.m1.1">
       <semantics id="S3.SS3.SSS2.p1.1.m1.1a">
        <msub id="S3.SS3.SSS2.p1.1.m1.1.1" xref="S3.SS3.SSS2.p1.1.m1.1.1.cmml">
         <mi id="S3.SS3.SSS2.p1.1.m1.1.1.2" xref="S3.SS3.SSS2.p1.1.m1.1.1.2.cmml">
          π
         </mi>
         <mtext id="S3.SS3.SSS2.p1.1.m1.1.1.3" xref="S3.SS3.SSS2.p1.1.m1.1.1.3a.cmml">
          stra_reflect
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p1.1.m1.1b">
         <apply id="S3.SS3.SSS2.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS2.p1.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p1.1.m1.1.1.1.cmml" xref="S3.SS3.SSS2.p1.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p1.1.m1.1.1.2.cmml" xref="S3.SS3.SSS2.p1.1.m1.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS3.SSS2.p1.1.m1.1.1.3a.cmml" xref="S3.SS3.SSS2.p1.1.m1.1.1.3">
           <mtext id="S3.SS3.SSS2.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS2.p1.1.m1.1.1.3">
            stra_reflect
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p1.1.m1.1c">
         \pi_{\text{stra\_reflect}}
        </annotation>
       </semantics>
      </math>
      which mainly focuses on dynamically adjusting the dialogue act plan when recommendation fails.
This mechanism
      <math alttext="\pi_{\text{stra\_reflect}}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p1.2.m2.1">
       <semantics id="S3.SS3.SSS2.p1.2.m2.1a">
        <msub id="S3.SS3.SSS2.p1.2.m2.1.1" xref="S3.SS3.SSS2.p1.2.m2.1.1.cmml">
         <mi id="S3.SS3.SSS2.p1.2.m2.1.1.2" xref="S3.SS3.SSS2.p1.2.m2.1.1.2.cmml">
          π
         </mi>
         <mtext id="S3.SS3.SSS2.p1.2.m2.1.1.3" xref="S3.SS3.SSS2.p1.2.m2.1.1.3a.cmml">
          stra_reflect
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p1.2.m2.1b">
         <apply id="S3.SS3.SSS2.p1.2.m2.1.1.cmml" xref="S3.SS3.SSS2.p1.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p1.2.m2.1.1.1.cmml" xref="S3.SS3.SSS2.p1.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p1.2.m2.1.1.2.cmml" xref="S3.SS3.SSS2.p1.2.m2.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS3.SSS2.p1.2.m2.1.1.3a.cmml" xref="S3.SS3.SSS2.p1.2.m2.1.1.3">
           <mtext id="S3.SS3.SSS2.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS2.p1.2.m2.1.1.3">
            stra_reflect
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p1.2.m2.1c">
         \pi_{\text{stra\_reflect}}
        </annotation>
       </semantics>
      </math>
      is implemented by prompting an LLM-based agent.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS2.p2">
     <p class="ltx_p" id="S3.SS3.SSS2.p2.8">
      Our proposed strategy-level reflection mechanism
      <math alttext="\pi_{\text{stra\_reflect}}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.1.m1.1">
       <semantics id="S3.SS3.SSS2.p2.1.m1.1a">
        <msub id="S3.SS3.SSS2.p2.1.m1.1.1" xref="S3.SS3.SSS2.p2.1.m1.1.1.cmml">
         <mi id="S3.SS3.SSS2.p2.1.m1.1.1.2" xref="S3.SS3.SSS2.p2.1.m1.1.1.2.cmml">
          π
         </mi>
         <mtext id="S3.SS3.SSS2.p2.1.m1.1.1.3" xref="S3.SS3.SSS2.p2.1.m1.1.1.3a.cmml">
          stra_reflect
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.1.m1.1b">
         <apply id="S3.SS3.SSS2.p2.1.m1.1.1.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.1.m1.1.1.1.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p2.1.m1.1.1.2.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS3.SSS2.p2.1.m1.1.1.3a.cmml" xref="S3.SS3.SSS2.p2.1.m1.1.1.3">
           <mtext id="S3.SS3.SSS2.p2.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS2.p2.1.m1.1.1.3">
            stra_reflect
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.1.m1.1c">
         \pi_{\text{stra\_reflect}}
        </annotation>
       </semantics>
      </math>
      will first collect multi-turn trajectory
      <math alttext="M" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.2.m2.1">
       <semantics id="S3.SS3.SSS2.p2.2.m2.1a">
        <mi id="S3.SS3.SSS2.p2.2.m2.1.1" xref="S3.SS3.SSS2.p2.2.m2.1.1.cmml">
         M
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.2.m2.1b">
         <ci id="S3.SS3.SSS2.p2.2.m2.1.1.cmml" xref="S3.SS3.SSS2.p2.2.m2.1.1">
          𝑀
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.2.m2.1c">
         M
        </annotation>
       </semantics>
      </math>
      , which consists of three parts: user profile
      <math alttext="U_{p}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.3.m3.1">
       <semantics id="S3.SS3.SSS2.p2.3.m3.1a">
        <msub id="S3.SS3.SSS2.p2.3.m3.1.1" xref="S3.SS3.SSS2.p2.3.m3.1.1.cmml">
         <mi id="S3.SS3.SSS2.p2.3.m3.1.1.2" xref="S3.SS3.SSS2.p2.3.m3.1.1.2.cmml">
          U
         </mi>
         <mi id="S3.SS3.SSS2.p2.3.m3.1.1.3" xref="S3.SS3.SSS2.p2.3.m3.1.1.3.cmml">
          p
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.3.m3.1b">
         <apply id="S3.SS3.SSS2.p2.3.m3.1.1.cmml" xref="S3.SS3.SSS2.p2.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.3.m3.1.1.1.cmml" xref="S3.SS3.SSS2.p2.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p2.3.m3.1.1.2.cmml" xref="S3.SS3.SSS2.p2.3.m3.1.1.2">
           𝑈
          </ci>
          <ci id="S3.SS3.SSS2.p2.3.m3.1.1.3.cmml" xref="S3.SS3.SSS2.p2.3.m3.1.1.3">
           𝑝
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.3.m3.1c">
         U_{p}
        </annotation>
       </semantics>
      </math>
      (as mentioned in §
      <a class="ltx_ref" href="#S3.SS3.SSS1" title="3.3.1. Information-level Reflection ‣ 3.3. User Feedback-aware Reflection ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
       <span class="ltx_text ltx_ref_tag">
        3.3.1
       </span>
      </a>
      ), system response
      <math alttext="R_{s}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.4.m4.1">
       <semantics id="S3.SS3.SSS2.p2.4.m4.1a">
        <msub id="S3.SS3.SSS2.p2.4.m4.1.1" xref="S3.SS3.SSS2.p2.4.m4.1.1.cmml">
         <mi id="S3.SS3.SSS2.p2.4.m4.1.1.2" xref="S3.SS3.SSS2.p2.4.m4.1.1.2.cmml">
          R
         </mi>
         <mi id="S3.SS3.SSS2.p2.4.m4.1.1.3" xref="S3.SS3.SSS2.p2.4.m4.1.1.3.cmml">
          s
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.4.m4.1b">
         <apply id="S3.SS3.SSS2.p2.4.m4.1.1.cmml" xref="S3.SS3.SSS2.p2.4.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.4.m4.1.1.1.cmml" xref="S3.SS3.SSS2.p2.4.m4.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p2.4.m4.1.1.2.cmml" xref="S3.SS3.SSS2.p2.4.m4.1.1.2">
           𝑅
          </ci>
          <ci id="S3.SS3.SSS2.p2.4.m4.1.1.3.cmml" xref="S3.SS3.SSS2.p2.4.m4.1.1.3">
           𝑠
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.4.m4.1c">
         R_{s}
        </annotation>
       </semantics>
      </math>
      and user feedback
      <math alttext="U_{f}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.5.m5.1">
       <semantics id="S3.SS3.SSS2.p2.5.m5.1a">
        <msub id="S3.SS3.SSS2.p2.5.m5.1.1" xref="S3.SS3.SSS2.p2.5.m5.1.1.cmml">
         <mi id="S3.SS3.SSS2.p2.5.m5.1.1.2" xref="S3.SS3.SSS2.p2.5.m5.1.1.2.cmml">
          U
         </mi>
         <mi id="S3.SS3.SSS2.p2.5.m5.1.1.3" xref="S3.SS3.SSS2.p2.5.m5.1.1.3.cmml">
          f
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.5.m5.1b">
         <apply id="S3.SS3.SSS2.p2.5.m5.1.1.cmml" xref="S3.SS3.SSS2.p2.5.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.5.m5.1.1.1.cmml" xref="S3.SS3.SSS2.p2.5.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p2.5.m5.1.1.2.cmml" xref="S3.SS3.SSS2.p2.5.m5.1.1.2">
           𝑈
          </ci>
          <ci id="S3.SS3.SSS2.p2.5.m5.1.1.3.cmml" xref="S3.SS3.SSS2.p2.5.m5.1.1.3">
           𝑓
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.5.m5.1c">
         U_{f}
        </annotation>
       </semantics>
      </math>
      .
Then the trajectory
      <math alttext="M" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.6.m6.1">
       <semantics id="S3.SS3.SSS2.p2.6.m6.1a">
        <mi id="S3.SS3.SSS2.p2.6.m6.1.1" xref="S3.SS3.SSS2.p2.6.m6.1.1.cmml">
         M
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.6.m6.1b">
         <ci id="S3.SS3.SSS2.p2.6.m6.1.1.cmml" xref="S3.SS3.SSS2.p2.6.m6.1.1">
          𝑀
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.6.m6.1c">
         M
        </annotation>
       </semantics>
      </math>
      from turn
      <math alttext="i" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.7.m7.1">
       <semantics id="S3.SS3.SSS2.p2.7.m7.1a">
        <mi id="S3.SS3.SSS2.p2.7.m7.1.1" xref="S3.SS3.SSS2.p2.7.m7.1.1.cmml">
         i
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.7.m7.1b">
         <ci id="S3.SS3.SSS2.p2.7.m7.1.1.cmml" xref="S3.SS3.SSS2.p2.7.m7.1.1">
          𝑖
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.7.m7.1c">
         i
        </annotation>
       </semantics>
      </math>
      to turn
      <math alttext="t" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.8.m8.1">
       <semantics id="S3.SS3.SSS2.p2.8.m8.1a">
        <mi id="S3.SS3.SSS2.p2.8.m8.1.1" xref="S3.SS3.SSS2.p2.8.m8.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.8.m8.1b">
         <ci id="S3.SS3.SSS2.p2.8.m8.1.1.cmml" xref="S3.SS3.SSS2.p2.8.m8.1.1">
          𝑡
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.8.m8.1c">
         t
        </annotation>
       </semantics>
      </math>
      can be represented as:
     </p>
     <table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="S6.EGx2">
      <tbody id="S3.E4">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_left">
          (4)
         </span>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\displaystyle M^{i}_{t}=\left((U_{p}^{i},R_{s}^{i},U_{f}^{i}),\dots,(U_{p}^{t},R_{s}^{t},U_{f}^{t})\right)." class="ltx_Math" display="block" id="S3.E4.m1.2">
          <semantics id="S3.E4.m1.2a">
           <mrow id="S3.E4.m1.2.2.1" xref="S3.E4.m1.2.2.1.1.cmml">
            <mrow id="S3.E4.m1.2.2.1.1" xref="S3.E4.m1.2.2.1.1.cmml">
             <msubsup id="S3.E4.m1.2.2.1.1.4" xref="S3.E4.m1.2.2.1.1.4.cmml">
              <mi id="S3.E4.m1.2.2.1.1.4.2.2" xref="S3.E4.m1.2.2.1.1.4.2.2.cmml">
               M
              </mi>
              <mi id="S3.E4.m1.2.2.1.1.4.3" xref="S3.E4.m1.2.2.1.1.4.3.cmml">
               t
              </mi>
              <mi id="S3.E4.m1.2.2.1.1.4.2.3" xref="S3.E4.m1.2.2.1.1.4.2.3.cmml">
               i
              </mi>
             </msubsup>
             <mo id="S3.E4.m1.2.2.1.1.3" xref="S3.E4.m1.2.2.1.1.3.cmml">
              =
             </mo>
             <mrow id="S3.E4.m1.2.2.1.1.2.2" xref="S3.E4.m1.2.2.1.1.2.3.cmml">
              <mo id="S3.E4.m1.2.2.1.1.2.2.3" xref="S3.E4.m1.2.2.1.1.2.3.cmml">
               (
              </mo>
              <mrow id="S3.E4.m1.2.2.1.1.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.1.4.cmml">
               <mo id="S3.E4.m1.2.2.1.1.1.1.1.3.4" stretchy="false" xref="S3.E4.m1.2.2.1.1.1.1.1.4.cmml">
                (
               </mo>
               <msubsup id="S3.E4.m1.2.2.1.1.1.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.cmml">
                <mi id="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.2" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.2.cmml">
                 U
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.3" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.3.cmml">
                 p
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.3.cmml">
                 i
                </mi>
               </msubsup>
               <mo id="S3.E4.m1.2.2.1.1.1.1.1.3.5" xref="S3.E4.m1.2.2.1.1.1.1.1.4.cmml">
                ,
               </mo>
               <msubsup id="S3.E4.m1.2.2.1.1.1.1.1.2.2" xref="S3.E4.m1.2.2.1.1.1.1.1.2.2.cmml">
                <mi id="S3.E4.m1.2.2.1.1.1.1.1.2.2.2.2" xref="S3.E4.m1.2.2.1.1.1.1.1.2.2.2.2.cmml">
                 R
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.1.1.1.2.2.2.3" xref="S3.E4.m1.2.2.1.1.1.1.1.2.2.2.3.cmml">
                 s
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.1.1.1.2.2.3" xref="S3.E4.m1.2.2.1.1.1.1.1.2.2.3.cmml">
                 i
                </mi>
               </msubsup>
               <mo id="S3.E4.m1.2.2.1.1.1.1.1.3.6" xref="S3.E4.m1.2.2.1.1.1.1.1.4.cmml">
                ,
               </mo>
               <msubsup id="S3.E4.m1.2.2.1.1.1.1.1.3.3" xref="S3.E4.m1.2.2.1.1.1.1.1.3.3.cmml">
                <mi id="S3.E4.m1.2.2.1.1.1.1.1.3.3.2.2" xref="S3.E4.m1.2.2.1.1.1.1.1.3.3.2.2.cmml">
                 U
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.1.1.1.3.3.2.3" xref="S3.E4.m1.2.2.1.1.1.1.1.3.3.2.3.cmml">
                 f
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.1.1.1.3.3.3" xref="S3.E4.m1.2.2.1.1.1.1.1.3.3.3.cmml">
                 i
                </mi>
               </msubsup>
               <mo id="S3.E4.m1.2.2.1.1.1.1.1.3.7" stretchy="false" xref="S3.E4.m1.2.2.1.1.1.1.1.4.cmml">
                )
               </mo>
              </mrow>
              <mo id="S3.E4.m1.2.2.1.1.2.2.4" xref="S3.E4.m1.2.2.1.1.2.3.cmml">
               ,
              </mo>
              <mi id="S3.E4.m1.1.1" mathvariant="normal" xref="S3.E4.m1.1.1.cmml">
               …
              </mi>
              <mo id="S3.E4.m1.2.2.1.1.2.2.5" xref="S3.E4.m1.2.2.1.1.2.3.cmml">
               ,
              </mo>
              <mrow id="S3.E4.m1.2.2.1.1.2.2.2.3" xref="S3.E4.m1.2.2.1.1.2.2.2.4.cmml">
               <mo id="S3.E4.m1.2.2.1.1.2.2.2.3.4" stretchy="false" xref="S3.E4.m1.2.2.1.1.2.2.2.4.cmml">
                (
               </mo>
               <msubsup id="S3.E4.m1.2.2.1.1.2.2.2.1.1" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.cmml">
                <mi id="S3.E4.m1.2.2.1.1.2.2.2.1.1.2.2" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.2.2.cmml">
                 U
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.2.2.2.1.1.2.3" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.2.3.cmml">
                 p
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.2.2.2.1.1.3" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.3.cmml">
                 t
                </mi>
               </msubsup>
               <mo id="S3.E4.m1.2.2.1.1.2.2.2.3.5" xref="S3.E4.m1.2.2.1.1.2.2.2.4.cmml">
                ,
               </mo>
               <msubsup id="S3.E4.m1.2.2.1.1.2.2.2.2.2" xref="S3.E4.m1.2.2.1.1.2.2.2.2.2.cmml">
                <mi id="S3.E4.m1.2.2.1.1.2.2.2.2.2.2.2" xref="S3.E4.m1.2.2.1.1.2.2.2.2.2.2.2.cmml">
                 R
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.2.2.2.2.2.2.3" xref="S3.E4.m1.2.2.1.1.2.2.2.2.2.2.3.cmml">
                 s
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.2.2.2.2.2.3" xref="S3.E4.m1.2.2.1.1.2.2.2.2.2.3.cmml">
                 t
                </mi>
               </msubsup>
               <mo id="S3.E4.m1.2.2.1.1.2.2.2.3.6" xref="S3.E4.m1.2.2.1.1.2.2.2.4.cmml">
                ,
               </mo>
               <msubsup id="S3.E4.m1.2.2.1.1.2.2.2.3.3" xref="S3.E4.m1.2.2.1.1.2.2.2.3.3.cmml">
                <mi id="S3.E4.m1.2.2.1.1.2.2.2.3.3.2.2" xref="S3.E4.m1.2.2.1.1.2.2.2.3.3.2.2.cmml">
                 U
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.2.2.2.3.3.2.3" xref="S3.E4.m1.2.2.1.1.2.2.2.3.3.2.3.cmml">
                 f
                </mi>
                <mi id="S3.E4.m1.2.2.1.1.2.2.2.3.3.3" xref="S3.E4.m1.2.2.1.1.2.2.2.3.3.3.cmml">
                 t
                </mi>
               </msubsup>
               <mo id="S3.E4.m1.2.2.1.1.2.2.2.3.7" stretchy="false" xref="S3.E4.m1.2.2.1.1.2.2.2.4.cmml">
                )
               </mo>
              </mrow>
              <mo id="S3.E4.m1.2.2.1.1.2.2.6" xref="S3.E4.m1.2.2.1.1.2.3.cmml">
               )
              </mo>
             </mrow>
            </mrow>
            <mo id="S3.E4.m1.2.2.1.2" lspace="0em" xref="S3.E4.m1.2.2.1.1.cmml">
             .
            </mo>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E4.m1.2b">
            <apply id="S3.E4.m1.2.2.1.1.cmml" xref="S3.E4.m1.2.2.1">
             <eq id="S3.E4.m1.2.2.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.3">
             </eq>
             <apply id="S3.E4.m1.2.2.1.1.4.cmml" xref="S3.E4.m1.2.2.1.1.4">
              <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.4.1.cmml" xref="S3.E4.m1.2.2.1.1.4">
               subscript
              </csymbol>
              <apply id="S3.E4.m1.2.2.1.1.4.2.cmml" xref="S3.E4.m1.2.2.1.1.4">
               <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.4.2.1.cmml" xref="S3.E4.m1.2.2.1.1.4">
                superscript
               </csymbol>
               <ci id="S3.E4.m1.2.2.1.1.4.2.2.cmml" xref="S3.E4.m1.2.2.1.1.4.2.2">
                𝑀
               </ci>
               <ci id="S3.E4.m1.2.2.1.1.4.2.3.cmml" xref="S3.E4.m1.2.2.1.1.4.2.3">
                𝑖
               </ci>
              </apply>
              <ci id="S3.E4.m1.2.2.1.1.4.3.cmml" xref="S3.E4.m1.2.2.1.1.4.3">
               𝑡
              </ci>
             </apply>
             <vector id="S3.E4.m1.2.2.1.1.2.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2">
              <vector id="S3.E4.m1.2.2.1.1.1.1.1.4.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.3">
               <apply id="S3.E4.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1">
                 superscript
                </csymbol>
                <apply id="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1">
                 <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1">
                  subscript
                 </csymbol>
                 <ci id="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.2">
                  𝑈
                 </ci>
                 <ci id="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.3">
                  𝑝
                 </ci>
                </apply>
                <ci id="S3.E4.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.3">
                 𝑖
                </ci>
               </apply>
               <apply id="S3.E4.m1.2.2.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.2.2">
                <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.2.2">
                 superscript
                </csymbol>
                <apply id="S3.E4.m1.2.2.1.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.2.2">
                 <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.2.2">
                  subscript
                 </csymbol>
                 <ci id="S3.E4.m1.2.2.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.2.2.2.2">
                  𝑅
                 </ci>
                 <ci id="S3.E4.m1.2.2.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.2.2.2.3">
                  𝑠
                 </ci>
                </apply>
                <ci id="S3.E4.m1.2.2.1.1.1.1.1.2.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.2.2.3">
                 𝑖
                </ci>
               </apply>
               <apply id="S3.E4.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.3.3">
                <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.3.3">
                 superscript
                </csymbol>
                <apply id="S3.E4.m1.2.2.1.1.1.1.1.3.3.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.3.3">
                 <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.1.3.3.2.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.3.3">
                  subscript
                 </csymbol>
                 <ci id="S3.E4.m1.2.2.1.1.1.1.1.3.3.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.3.3.2.2">
                  𝑈
                 </ci>
                 <ci id="S3.E4.m1.2.2.1.1.1.1.1.3.3.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.3.3.2.3">
                  𝑓
                 </ci>
                </apply>
                <ci id="S3.E4.m1.2.2.1.1.1.1.1.3.3.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.3.3.3">
                 𝑖
                </ci>
               </apply>
              </vector>
              <ci id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1">
               …
              </ci>
              <vector id="S3.E4.m1.2.2.1.1.2.2.2.4.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.3">
               <apply id="S3.E4.m1.2.2.1.1.2.2.2.1.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1">
                <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1">
                 superscript
                </csymbol>
                <apply id="S3.E4.m1.2.2.1.1.2.2.2.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1">
                 <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.2.1.1.2.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1">
                  subscript
                 </csymbol>
                 <ci id="S3.E4.m1.2.2.1.1.2.2.2.1.1.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.2.2">
                  𝑈
                 </ci>
                 <ci id="S3.E4.m1.2.2.1.1.2.2.2.1.1.2.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.2.3">
                  𝑝
                 </ci>
                </apply>
                <ci id="S3.E4.m1.2.2.1.1.2.2.2.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.3">
                 𝑡
                </ci>
               </apply>
               <apply id="S3.E4.m1.2.2.1.1.2.2.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.2.2">
                <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.2.2">
                 superscript
                </csymbol>
                <apply id="S3.E4.m1.2.2.1.1.2.2.2.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.2.2">
                 <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.2.2">
                  subscript
                 </csymbol>
                 <ci id="S3.E4.m1.2.2.1.1.2.2.2.2.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.2.2.2.2">
                  𝑅
                 </ci>
                 <ci id="S3.E4.m1.2.2.1.1.2.2.2.2.2.2.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.2.2.2.3">
                  𝑠
                 </ci>
                </apply>
                <ci id="S3.E4.m1.2.2.1.1.2.2.2.2.2.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.2.2.3">
                 𝑡
                </ci>
               </apply>
               <apply id="S3.E4.m1.2.2.1.1.2.2.2.3.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.3.3">
                <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.2.3.3.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.3.3">
                 superscript
                </csymbol>
                <apply id="S3.E4.m1.2.2.1.1.2.2.2.3.3.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.3.3">
                 <csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.2.3.3.2.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.3.3">
                  subscript
                 </csymbol>
                 <ci id="S3.E4.m1.2.2.1.1.2.2.2.3.3.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.3.3.2.2">
                  𝑈
                 </ci>
                 <ci id="S3.E4.m1.2.2.1.1.2.2.2.3.3.2.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.3.3.2.3">
                  𝑓
                 </ci>
                </apply>
                <ci id="S3.E4.m1.2.2.1.1.2.2.2.3.3.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.3.3.3">
                 𝑡
                </ci>
               </apply>
              </vector>
             </vector>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E4.m1.2c">
            \displaystyle M^{i}_{t}=\left((U_{p}^{i},R_{s}^{i},U_{f}^{i}),\dots,(U_{p}^{t},R_{s}^{t},U_{f}^{t})\right).
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS2.p2.17">
      When the system provide a failed recommendation in turn
      <math alttext="t" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.9.m1.1">
       <semantics id="S3.SS3.SSS2.p2.9.m1.1a">
        <mi id="S3.SS3.SSS2.p2.9.m1.1.1" xref="S3.SS3.SSS2.p2.9.m1.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.9.m1.1b">
         <ci id="S3.SS3.SSS2.p2.9.m1.1.1.cmml" xref="S3.SS3.SSS2.p2.9.m1.1.1">
          𝑡
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.9.m1.1c">
         t
        </annotation>
       </semantics>
      </math>
      , this mechanism
      <math alttext="\pi_{\text{stra\_reflect}}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.10.m2.1">
       <semantics id="S3.SS3.SSS2.p2.10.m2.1a">
        <msub id="S3.SS3.SSS2.p2.10.m2.1.1" xref="S3.SS3.SSS2.p2.10.m2.1.1.cmml">
         <mi id="S3.SS3.SSS2.p2.10.m2.1.1.2" xref="S3.SS3.SSS2.p2.10.m2.1.1.2.cmml">
          π
         </mi>
         <mtext id="S3.SS3.SSS2.p2.10.m2.1.1.3" xref="S3.SS3.SSS2.p2.10.m2.1.1.3a.cmml">
          stra_reflect
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.10.m2.1b">
         <apply id="S3.SS3.SSS2.p2.10.m2.1.1.cmml" xref="S3.SS3.SSS2.p2.10.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.10.m2.1.1.1.cmml" xref="S3.SS3.SSS2.p2.10.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p2.10.m2.1.1.2.cmml" xref="S3.SS3.SSS2.p2.10.m2.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS3.SSS2.p2.10.m2.1.1.3a.cmml" xref="S3.SS3.SSS2.p2.10.m2.1.1.3">
           <mtext id="S3.SS3.SSS2.p2.10.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS2.p2.10.m2.1.1.3">
            stra_reflect
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.10.m2.1c">
         \pi_{\text{stra\_reflect}}
        </annotation>
       </semantics>
      </math>
      reflects on the trajectory from turn
      <math alttext="i" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.11.m3.1">
       <semantics id="S3.SS3.SSS2.p2.11.m3.1a">
        <mi id="S3.SS3.SSS2.p2.11.m3.1.1" xref="S3.SS3.SSS2.p2.11.m3.1.1.cmml">
         i
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.11.m3.1b">
         <ci id="S3.SS3.SSS2.p2.11.m3.1.1.cmml" xref="S3.SS3.SSS2.p2.11.m3.1.1">
          𝑖
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.11.m3.1c">
         i
        </annotation>
       </semantics>
      </math>
      to turn
      <math alttext="t" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.12.m4.1">
       <semantics id="S3.SS3.SSS2.p2.12.m4.1a">
        <mi id="S3.SS3.SSS2.p2.12.m4.1.1" xref="S3.SS3.SSS2.p2.12.m4.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.12.m4.1b">
         <ci id="S3.SS3.SSS2.p2.12.m4.1.1.cmml" xref="S3.SS3.SSS2.p2.12.m4.1.1">
          𝑡
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.12.m4.1c">
         t
        </annotation>
       </semantics>
      </math>
      , where turn
      <math alttext="i" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.13.m5.1">
       <semantics id="S3.SS3.SSS2.p2.13.m5.1a">
        <mi id="S3.SS3.SSS2.p2.13.m5.1.1" xref="S3.SS3.SSS2.p2.13.m5.1.1.cmml">
         i
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.13.m5.1b">
         <ci id="S3.SS3.SSS2.p2.13.m5.1.1.cmml" xref="S3.SS3.SSS2.p2.13.m5.1.1">
          𝑖
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.13.m5.1c">
         i
        </annotation>
       </semantics>
      </math>
      refers to the turn immediately following the last recommendation failure.
If turn
      <math alttext="t" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.14.m6.1">
       <semantics id="S3.SS3.SSS2.p2.14.m6.1a">
        <mi id="S3.SS3.SSS2.p2.14.m6.1.1" xref="S3.SS3.SSS2.p2.14.m6.1.1.cmml">
         t
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.14.m6.1b">
         <ci id="S3.SS3.SSS2.p2.14.m6.1.1.cmml" xref="S3.SS3.SSS2.p2.14.m6.1.1">
          𝑡
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.14.m6.1c">
         t
        </annotation>
       </semantics>
      </math>
      is the first recommendation failure, then
      <math alttext="i=1" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.15.m7.1">
       <semantics id="S3.SS3.SSS2.p2.15.m7.1a">
        <mrow id="S3.SS3.SSS2.p2.15.m7.1.1" xref="S3.SS3.SSS2.p2.15.m7.1.1.cmml">
         <mi id="S3.SS3.SSS2.p2.15.m7.1.1.2" xref="S3.SS3.SSS2.p2.15.m7.1.1.2.cmml">
          i
         </mi>
         <mo id="S3.SS3.SSS2.p2.15.m7.1.1.1" xref="S3.SS3.SSS2.p2.15.m7.1.1.1.cmml">
          =
         </mo>
         <mn id="S3.SS3.SSS2.p2.15.m7.1.1.3" xref="S3.SS3.SSS2.p2.15.m7.1.1.3.cmml">
          1
         </mn>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.15.m7.1b">
         <apply id="S3.SS3.SSS2.p2.15.m7.1.1.cmml" xref="S3.SS3.SSS2.p2.15.m7.1.1">
          <eq id="S3.SS3.SSS2.p2.15.m7.1.1.1.cmml" xref="S3.SS3.SSS2.p2.15.m7.1.1.1">
          </eq>
          <ci id="S3.SS3.SSS2.p2.15.m7.1.1.2.cmml" xref="S3.SS3.SSS2.p2.15.m7.1.1.2">
           𝑖
          </ci>
          <cn id="S3.SS3.SSS2.p2.15.m7.1.1.3.cmml" type="integer" xref="S3.SS3.SSS2.p2.15.m7.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.15.m7.1c">
         i=1
        </annotation>
       </semantics>
      </math>
      .
To reflect the mistakes the system has made in the trajectory
      <math alttext="M^{i}_{t}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.16.m8.1">
       <semantics id="S3.SS3.SSS2.p2.16.m8.1a">
        <msubsup id="S3.SS3.SSS2.p2.16.m8.1.1" xref="S3.SS3.SSS2.p2.16.m8.1.1.cmml">
         <mi id="S3.SS3.SSS2.p2.16.m8.1.1.2.2" xref="S3.SS3.SSS2.p2.16.m8.1.1.2.2.cmml">
          M
         </mi>
         <mi id="S3.SS3.SSS2.p2.16.m8.1.1.3" xref="S3.SS3.SSS2.p2.16.m8.1.1.3.cmml">
          t
         </mi>
         <mi id="S3.SS3.SSS2.p2.16.m8.1.1.2.3" xref="S3.SS3.SSS2.p2.16.m8.1.1.2.3.cmml">
          i
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.16.m8.1b">
         <apply id="S3.SS3.SSS2.p2.16.m8.1.1.cmml" xref="S3.SS3.SSS2.p2.16.m8.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.16.m8.1.1.1.cmml" xref="S3.SS3.SSS2.p2.16.m8.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS2.p2.16.m8.1.1.2.cmml" xref="S3.SS3.SSS2.p2.16.m8.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.16.m8.1.1.2.1.cmml" xref="S3.SS3.SSS2.p2.16.m8.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS2.p2.16.m8.1.1.2.2.cmml" xref="S3.SS3.SSS2.p2.16.m8.1.1.2.2">
            𝑀
           </ci>
           <ci id="S3.SS3.SSS2.p2.16.m8.1.1.2.3.cmml" xref="S3.SS3.SSS2.p2.16.m8.1.1.2.3">
            𝑖
           </ci>
          </apply>
          <ci id="S3.SS3.SSS2.p2.16.m8.1.1.3.cmml" xref="S3.SS3.SSS2.p2.16.m8.1.1.3">
           𝑡
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.16.m8.1c">
         M^{i}_{t}
        </annotation>
       </semantics>
      </math>
      , strategy-level reflection generates an error summary
      <math alttext="E_{s}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.17.m9.1">
       <semantics id="S3.SS3.SSS2.p2.17.m9.1a">
        <msub id="S3.SS3.SSS2.p2.17.m9.1.1" xref="S3.SS3.SSS2.p2.17.m9.1.1.cmml">
         <mi id="S3.SS3.SSS2.p2.17.m9.1.1.2" xref="S3.SS3.SSS2.p2.17.m9.1.1.2.cmml">
          E
         </mi>
         <mi id="S3.SS3.SSS2.p2.17.m9.1.1.3" xref="S3.SS3.SSS2.p2.17.m9.1.1.3.cmml">
          s
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.17.m9.1b">
         <apply id="S3.SS3.SSS2.p2.17.m9.1.1.cmml" xref="S3.SS3.SSS2.p2.17.m9.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.17.m9.1.1.1.cmml" xref="S3.SS3.SSS2.p2.17.m9.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p2.17.m9.1.1.2.cmml" xref="S3.SS3.SSS2.p2.17.m9.1.1.2">
           𝐸
          </ci>
          <ci id="S3.SS3.SSS2.p2.17.m9.1.1.3.cmml" xref="S3.SS3.SSS2.p2.17.m9.1.1.3">
           𝑠
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.17.m9.1c">
         E_{s}
        </annotation>
       </semantics>
      </math>
      :
     </p>
     <table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="S6.EGx3">
      <tbody id="S3.E5">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_left">
          (5)
         </span>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\displaystyle E_{s}=\pi_{\text{stra\_reflect}}(M^{i}_{t})," class="ltx_Math" display="block" id="S3.E5.m1.1">
          <semantics id="S3.E5.m1.1a">
           <mrow id="S3.E5.m1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml">
            <mrow id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml">
             <msub id="S3.E5.m1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.cmml">
              <mi id="S3.E5.m1.1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.1.3.2.cmml">
               E
              </mi>
              <mi id="S3.E5.m1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.3.3.cmml">
               s
              </mi>
             </msub>
             <mo id="S3.E5.m1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.2.cmml">
              =
             </mo>
             <mrow id="S3.E5.m1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.cmml">
              <msub id="S3.E5.m1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.3.cmml">
               <mi id="S3.E5.m1.1.1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.1.1.3.2.cmml">
                π
               </mi>
               <mtext id="S3.E5.m1.1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.1.3.3a.cmml">
                stra_reflect
               </mtext>
              </msub>
              <mo id="S3.E5.m1.1.1.1.1.1.2" lspace="0em" rspace="0em" xref="S3.E5.m1.1.1.1.1.1.2.cmml">
               ​
              </mo>
              <mrow id="S3.E5.m1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml">
               <mo id="S3.E5.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml">
                (
               </mo>
               <msubsup id="S3.E5.m1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml">
                <mi id="S3.E5.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.cmml">
                 M
                </mi>
                <mi id="S3.E5.m1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3.cmml">
                 t
                </mi>
                <mi id="S3.E5.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.3.cmml">
                 i
                </mi>
               </msubsup>
               <mo id="S3.E5.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml">
                )
               </mo>
              </mrow>
             </mrow>
            </mrow>
            <mo id="S3.E5.m1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.cmml">
             ,
            </mo>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b">
            <apply id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1">
             <eq id="S3.E5.m1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.2">
             </eq>
             <apply id="S3.E5.m1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3">
              <csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.3">
               subscript
              </csymbol>
              <ci id="S3.E5.m1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2">
               𝐸
              </ci>
              <ci id="S3.E5.m1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.3.3">
               𝑠
              </ci>
             </apply>
             <apply id="S3.E5.m1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1">
              <times id="S3.E5.m1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.2">
              </times>
              <apply id="S3.E5.m1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3">
               <csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.3">
                subscript
               </csymbol>
               <ci id="S3.E5.m1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.3.2">
                𝜋
               </ci>
               <ci id="S3.E5.m1.1.1.1.1.1.3.3a.cmml" xref="S3.E5.m1.1.1.1.1.1.3.3">
                <mtext id="S3.E5.m1.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="S3.E5.m1.1.1.1.1.1.3.3">
                 stra_reflect
                </mtext>
               </ci>
              </apply>
              <apply id="S3.E5.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1">
               <csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1">
                subscript
               </csymbol>
               <apply id="S3.E5.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1">
                 superscript
                </csymbol>
                <ci id="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.2">
                 𝑀
                </ci>
                <ci id="S3.E5.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.3">
                 𝑖
                </ci>
               </apply>
               <ci id="S3.E5.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3">
                𝑡
               </ci>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E5.m1.1c">
            \displaystyle E_{s}=\pi_{\text{stra\_reflect}}(M^{i}_{t}),
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS2.p2.19">
      where the error summary
      <math alttext="E_{s}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.18.m1.1">
       <semantics id="S3.SS3.SSS2.p2.18.m1.1a">
        <msub id="S3.SS3.SSS2.p2.18.m1.1.1" xref="S3.SS3.SSS2.p2.18.m1.1.1.cmml">
         <mi id="S3.SS3.SSS2.p2.18.m1.1.1.2" xref="S3.SS3.SSS2.p2.18.m1.1.1.2.cmml">
          E
         </mi>
         <mi id="S3.SS3.SSS2.p2.18.m1.1.1.3" xref="S3.SS3.SSS2.p2.18.m1.1.1.3.cmml">
          s
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.18.m1.1b">
         <apply id="S3.SS3.SSS2.p2.18.m1.1.1.cmml" xref="S3.SS3.SSS2.p2.18.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.18.m1.1.1.1.cmml" xref="S3.SS3.SSS2.p2.18.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p2.18.m1.1.1.2.cmml" xref="S3.SS3.SSS2.p2.18.m1.1.1.2">
           𝐸
          </ci>
          <ci id="S3.SS3.SSS2.p2.18.m1.1.1.3.cmml" xref="S3.SS3.SSS2.p2.18.m1.1.1.3">
           𝑠
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.18.m1.1c">
         E_{s}
        </annotation>
       </semantics>
      </math>
      is a descriptive natural language representation that encompasses errors made by both the responder agents and the planner agent.
The instruction of error summary
      <math alttext="E_{s}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p2.19.m2.1">
       <semantics id="S3.SS3.SSS2.p2.19.m2.1a">
        <msub id="S3.SS3.SSS2.p2.19.m2.1.1" xref="S3.SS3.SSS2.p2.19.m2.1.1.cmml">
         <mi id="S3.SS3.SSS2.p2.19.m2.1.1.2" xref="S3.SS3.SSS2.p2.19.m2.1.1.2.cmml">
          E
         </mi>
         <mi id="S3.SS3.SSS2.p2.19.m2.1.1.3" xref="S3.SS3.SSS2.p2.19.m2.1.1.3.cmml">
          s
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p2.19.m2.1b">
         <apply id="S3.SS3.SSS2.p2.19.m2.1.1.cmml" xref="S3.SS3.SSS2.p2.19.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p2.19.m2.1.1.1.cmml" xref="S3.SS3.SSS2.p2.19.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p2.19.m2.1.1.2.cmml" xref="S3.SS3.SSS2.p2.19.m2.1.1.2">
           𝐸
          </ci>
          <ci id="S3.SS3.SSS2.p2.19.m2.1.1.3.cmml" xref="S3.SS3.SSS2.p2.19.m2.1.1.3">
           𝑠
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p2.19.m2.1c">
         E_{s}
        </annotation>
       </semantics>
      </math>
      generation is as follow:
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS3.SSS2.p3">
     <svg class="ltx_picture" height="56.46" id="S3.SS3.SSS2.p3.pic1" overflow="visible" version="1.1" width="600">
      <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,56.46) matrix(1 0 0 -1 0 0)">
       <g fill="#6E6E6E" fill-opacity="1.0">
        <path d="M 0 5.91 L 0 50.56 C 0 53.82 2.64 56.46 5.91 56.46 L 594.09 56.46 C 597.36 56.46 600 53.82 600 50.56 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#FCFCFC" fill-opacity="1.0">
        <path d="M 1.97 5.91 L 1.97 50.56 C 1.97 52.73 3.73 54.49 5.91 54.49 L 594.09 54.49 C 596.27 54.49 598.03 52.73 598.03 50.56 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
        <foreignobject color="#000000" height="28.9" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
         <span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S3.SS3.SSS2.p3.pic1.1.1.1.1.1" style="width:402.3pt;">
          <span class="ltx_p" id="S3.SS3.SSS2.p3.pic1.1.1.1.1.1.1">
           Based on your past action trajectory, your goal is to write a few sentences to explain why your recommendation failed as indicated by the user utterance.
          </span>
         </span>
        </foreignobject>
       </g>
      </g>
     </svg>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS2.p4">
     <p class="ltx_p" id="S3.SS3.SSS2.p4.11">
      To avoid repeating the same mistake, the strategy-level reflection mechanism
      <math alttext="\pi_{\text{stra\_reflect}}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.1.m1.1">
       <semantics id="S3.SS3.SSS2.p4.1.m1.1a">
        <msub id="S3.SS3.SSS2.p4.1.m1.1.1" xref="S3.SS3.SSS2.p4.1.m1.1.1.cmml">
         <mi id="S3.SS3.SSS2.p4.1.m1.1.1.2" xref="S3.SS3.SSS2.p4.1.m1.1.1.2.cmml">
          π
         </mi>
         <mtext id="S3.SS3.SSS2.p4.1.m1.1.1.3" xref="S3.SS3.SSS2.p4.1.m1.1.1.3a.cmml">
          stra_reflect
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.1.m1.1b">
         <apply id="S3.SS3.SSS2.p4.1.m1.1.1.cmml" xref="S3.SS3.SSS2.p4.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p4.1.m1.1.1.1.cmml" xref="S3.SS3.SSS2.p4.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p4.1.m1.1.1.2.cmml" xref="S3.SS3.SSS2.p4.1.m1.1.1.2">
           𝜋
          </ci>
          <ci id="S3.SS3.SSS2.p4.1.m1.1.1.3a.cmml" xref="S3.SS3.SSS2.p4.1.m1.1.1.3">
           <mtext id="S3.SS3.SSS2.p4.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS2.p4.1.m1.1.1.3">
            stra_reflect
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.1.m1.1c">
         \pi_{\text{stra\_reflect}}
        </annotation>
       </semantics>
      </math>
      adjusts the agents by generating an error summary
      <math alttext="E_{s}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.2.m2.1">
       <semantics id="S3.SS3.SSS2.p4.2.m2.1a">
        <msub id="S3.SS3.SSS2.p4.2.m2.1.1" xref="S3.SS3.SSS2.p4.2.m2.1.1.cmml">
         <mi id="S3.SS3.SSS2.p4.2.m2.1.1.2" xref="S3.SS3.SSS2.p4.2.m2.1.1.2.cmml">
          E
         </mi>
         <mi id="S3.SS3.SSS2.p4.2.m2.1.1.3" xref="S3.SS3.SSS2.p4.2.m2.1.1.3.cmml">
          s
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.2.m2.1b">
         <apply id="S3.SS3.SSS2.p4.2.m2.1.1.cmml" xref="S3.SS3.SSS2.p4.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p4.2.m2.1.1.1.cmml" xref="S3.SS3.SSS2.p4.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p4.2.m2.1.1.2.cmml" xref="S3.SS3.SSS2.p4.2.m2.1.1.2">
           𝐸
          </ci>
          <ci id="S3.SS3.SSS2.p4.2.m2.1.1.3.cmml" xref="S3.SS3.SSS2.p4.2.m2.1.1.3">
           𝑠
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.2.m2.1c">
         E_{s}
        </annotation>
       </semantics>
      </math>
      .
There are two main parts in the error summary
      <math alttext="E_{s}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.3.m3.1">
       <semantics id="S3.SS3.SSS2.p4.3.m3.1a">
        <msub id="S3.SS3.SSS2.p4.3.m3.1.1" xref="S3.SS3.SSS2.p4.3.m3.1.1.cmml">
         <mi id="S3.SS3.SSS2.p4.3.m3.1.1.2" xref="S3.SS3.SSS2.p4.3.m3.1.1.2.cmml">
          E
         </mi>
         <mi id="S3.SS3.SSS2.p4.3.m3.1.1.3" xref="S3.SS3.SSS2.p4.3.m3.1.1.3.cmml">
          s
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.3.m3.1b">
         <apply id="S3.SS3.SSS2.p4.3.m3.1.1.cmml" xref="S3.SS3.SSS2.p4.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p4.3.m3.1.1.1.cmml" xref="S3.SS3.SSS2.p4.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p4.3.m3.1.1.2.cmml" xref="S3.SS3.SSS2.p4.3.m3.1.1.2">
           𝐸
          </ci>
          <ci id="S3.SS3.SSS2.p4.3.m3.1.1.3.cmml" xref="S3.SS3.SSS2.p4.3.m3.1.1.3">
           𝑠
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.3.m3.1c">
         E_{s}
        </annotation>
       </semantics>
      </math>
      : the strategy-level suggestions
      <math alttext="S" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.4.m4.1">
       <semantics id="S3.SS3.SSS2.p4.4.m4.1a">
        <mi id="S3.SS3.SSS2.p4.4.m4.1.1" xref="S3.SS3.SSS2.p4.4.m4.1.1.cmml">
         S
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.4.m4.1b">
         <ci id="S3.SS3.SSS2.p4.4.m4.1.1.cmml" xref="S3.SS3.SSS2.p4.4.m4.1.1">
          𝑆
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.4.m4.1c">
         S
        </annotation>
       </semantics>
      </math>
      and the corrective experiences
      <math alttext="E" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.5.m5.1">
       <semantics id="S3.SS3.SSS2.p4.5.m5.1a">
        <mi id="S3.SS3.SSS2.p4.5.m5.1.1" xref="S3.SS3.SSS2.p4.5.m5.1.1.cmml">
         E
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.5.m5.1b">
         <ci id="S3.SS3.SSS2.p4.5.m5.1.1.cmml" xref="S3.SS3.SSS2.p4.5.m5.1.1">
          𝐸
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.5.m5.1c">
         E
        </annotation>
       </semantics>
      </math>
      .
The strategy-level suggestions
      <math alttext="S" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.6.m6.1">
       <semantics id="S3.SS3.SSS2.p4.6.m6.1a">
        <mi id="S3.SS3.SSS2.p4.6.m6.1.1" xref="S3.SS3.SSS2.p4.6.m6.1.1.cmml">
         S
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.6.m6.1b">
         <ci id="S3.SS3.SSS2.p4.6.m6.1.1.cmml" xref="S3.SS3.SSS2.p4.6.m6.1.1">
          𝑆
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.6.m6.1c">
         S
        </annotation>
       </semantics>
      </math>
      indicate the dialogue strategies that each agent needs to complete in the next dialogue turn and will be used in the memory module of each responder agent (
      <em class="ltx_emph ltx_font_italic" id="S3.SS3.SSS2.p4.11.1">
       e.g.,
      </em>
      ask, rec and chat).
For example, a user rejects the recommendation and responds with “I want to watch more classic films”, which is vague.
The mechanism can suggest the asking responder agent
      <math alttext="\pi^{r}_{ask}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.7.m7.1">
       <semantics id="S3.SS3.SSS2.p4.7.m7.1a">
        <msubsup id="S3.SS3.SSS2.p4.7.m7.1.1" xref="S3.SS3.SSS2.p4.7.m7.1.1.cmml">
         <mi id="S3.SS3.SSS2.p4.7.m7.1.1.2.2" xref="S3.SS3.SSS2.p4.7.m7.1.1.2.2.cmml">
          π
         </mi>
         <mrow id="S3.SS3.SSS2.p4.7.m7.1.1.3" xref="S3.SS3.SSS2.p4.7.m7.1.1.3.cmml">
          <mi id="S3.SS3.SSS2.p4.7.m7.1.1.3.2" xref="S3.SS3.SSS2.p4.7.m7.1.1.3.2.cmml">
           a
          </mi>
          <mo id="S3.SS3.SSS2.p4.7.m7.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS3.SSS2.p4.7.m7.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS3.SSS2.p4.7.m7.1.1.3.3" xref="S3.SS3.SSS2.p4.7.m7.1.1.3.3.cmml">
           s
          </mi>
          <mo id="S3.SS3.SSS2.p4.7.m7.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS3.SSS2.p4.7.m7.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS3.SSS2.p4.7.m7.1.1.3.4" xref="S3.SS3.SSS2.p4.7.m7.1.1.3.4.cmml">
           k
          </mi>
         </mrow>
         <mi id="S3.SS3.SSS2.p4.7.m7.1.1.2.3" xref="S3.SS3.SSS2.p4.7.m7.1.1.2.3.cmml">
          r
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.7.m7.1b">
         <apply id="S3.SS3.SSS2.p4.7.m7.1.1.cmml" xref="S3.SS3.SSS2.p4.7.m7.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p4.7.m7.1.1.1.cmml" xref="S3.SS3.SSS2.p4.7.m7.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS2.p4.7.m7.1.1.2.cmml" xref="S3.SS3.SSS2.p4.7.m7.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS2.p4.7.m7.1.1.2.1.cmml" xref="S3.SS3.SSS2.p4.7.m7.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS2.p4.7.m7.1.1.2.2.cmml" xref="S3.SS3.SSS2.p4.7.m7.1.1.2.2">
            𝜋
           </ci>
           <ci id="S3.SS3.SSS2.p4.7.m7.1.1.2.3.cmml" xref="S3.SS3.SSS2.p4.7.m7.1.1.2.3">
            𝑟
           </ci>
          </apply>
          <apply id="S3.SS3.SSS2.p4.7.m7.1.1.3.cmml" xref="S3.SS3.SSS2.p4.7.m7.1.1.3">
           <times id="S3.SS3.SSS2.p4.7.m7.1.1.3.1.cmml" xref="S3.SS3.SSS2.p4.7.m7.1.1.3.1">
           </times>
           <ci id="S3.SS3.SSS2.p4.7.m7.1.1.3.2.cmml" xref="S3.SS3.SSS2.p4.7.m7.1.1.3.2">
            𝑎
           </ci>
           <ci id="S3.SS3.SSS2.p4.7.m7.1.1.3.3.cmml" xref="S3.SS3.SSS2.p4.7.m7.1.1.3.3">
            𝑠
           </ci>
           <ci id="S3.SS3.SSS2.p4.7.m7.1.1.3.4.cmml" xref="S3.SS3.SSS2.p4.7.m7.1.1.3.4">
            𝑘
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.7.m7.1c">
         \pi^{r}_{ask}
        </annotation>
       </semantics>
      </math>
      to elicit specific preferences regarding the release time of films.
Secondly, the strategy-level reflection summarizes the suggestions
      <math alttext="S" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.8.m8.1">
       <semantics id="S3.SS3.SSS2.p4.8.m8.1a">
        <mi id="S3.SS3.SSS2.p4.8.m8.1.1" xref="S3.SS3.SSS2.p4.8.m8.1.1.cmml">
         S
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.8.m8.1b">
         <ci id="S3.SS3.SSS2.p4.8.m8.1.1.cmml" xref="S3.SS3.SSS2.p4.8.m8.1.1">
          𝑆
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.8.m8.1c">
         S
        </annotation>
       </semantics>
      </math>
      into corrective experiences
      <math alttext="E" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.9.m9.1">
       <semantics id="S3.SS3.SSS2.p4.9.m9.1a">
        <mi id="S3.SS3.SSS2.p4.9.m9.1.1" xref="S3.SS3.SSS2.p4.9.m9.1.1.cmml">
         E
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.9.m9.1b">
         <ci id="S3.SS3.SSS2.p4.9.m9.1.1.cmml" xref="S3.SS3.SSS2.p4.9.m9.1.1">
          𝐸
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.9.m9.1c">
         E
        </annotation>
       </semantics>
      </math>
      and stores them in the memory module of the planner agent.
These experiences will influence its subsequent planning process.
The instruction of strategy-level suggestions
      <math alttext="S" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.10.m10.1">
       <semantics id="S3.SS3.SSS2.p4.10.m10.1a">
        <mi id="S3.SS3.SSS2.p4.10.m10.1.1" xref="S3.SS3.SSS2.p4.10.m10.1.1.cmml">
         S
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.10.m10.1b">
         <ci id="S3.SS3.SSS2.p4.10.m10.1.1.cmml" xref="S3.SS3.SSS2.p4.10.m10.1.1">
          𝑆
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.10.m10.1c">
         S
        </annotation>
       </semantics>
      </math>
      and corrective experiences
      <math alttext="E" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.11.m11.1">
       <semantics id="S3.SS3.SSS2.p4.11.m11.1a">
        <mi id="S3.SS3.SSS2.p4.11.m11.1.1" xref="S3.SS3.SSS2.p4.11.m11.1.1.cmml">
         E
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.11.m11.1b">
         <ci id="S3.SS3.SSS2.p4.11.m11.1.1.cmml" xref="S3.SS3.SSS2.p4.11.m11.1.1">
          𝐸
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.11.m11.1c">
         E
        </annotation>
       </semantics>
      </math>
      is as follow:
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS3.SSS2.p5">
     <svg class="ltx_picture" height="72.7" id="S3.SS3.SSS2.p5.pic1" overflow="visible" version="1.1" width="600">
      <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,72.7) matrix(1 0 0 -1 0 0)">
       <g fill="#6E6E6E" fill-opacity="1.0">
        <path d="M 0 5.91 L 0 66.79 C 0 70.06 2.64 72.7 5.91 72.7 L 594.09 72.7 C 597.36 72.7 600 70.06 600 66.79 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill="#FCFCFC" fill-opacity="1.0">
        <path d="M 1.97 5.91 L 1.97 66.79 C 1.97 68.97 3.73 70.73 5.91 70.73 L 594.09 70.73 C 596.27 70.73 598.03 68.97 598.03 66.79 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
        </path>
       </g>
       <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
        <foreignobject color="#000000" height="45.14" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
         <span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S3.SS3.SSS2.p5.pic1.1.1.1.1.1" style="width:402.3pt;">
          <span class="ltx_p" id="S3.SS3.SSS2.p5.pic1.1.1.1.1.1.1">
           You need to generate several suggestions to “Recommending Agent”, “Asking Agent” and “Chit-chatting Agent”. Then you should report the suggestions to the “Planning Agent” as experiences.
          </span>
         </span>
        </foreignobject>
       </g>
      </g>
     </svg>
    </div>
    <figure class="ltx_table" id="S3.T1">
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 1.
      </span>
      Conversational recommendation performance comparison.
      <math alttext="\ddagger" class="ltx_Math" display="inline" id="S3.T1.3.m1.1">
       <semantics id="S3.T1.3.m1.1b">
        <mo id="S3.T1.3.m1.1.1" xref="S3.T1.3.m1.1.1.cmml">
         ‡
        </mo>
        <annotation-xml encoding="MathML-Content" id="S3.T1.3.m1.1c">
         <ci id="S3.T1.3.m1.1.1.cmml" xref="S3.T1.3.m1.1.1">
          ‡
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.T1.3.m1.1d">
         \ddagger
        </annotation>
       </semantics>
      </math>
      indicates significant improvement over
      <span class="ltx_text ltx_font_typewriter" id="S3.T1.14.1">
       ChatGPT
      </span>
      with
      <math alttext="p\leq 0.01" class="ltx_Math" display="inline" id="S3.T1.4.m2.1">
       <semantics id="S3.T1.4.m2.1b">
        <mrow id="S3.T1.4.m2.1.1" xref="S3.T1.4.m2.1.1.cmml">
         <mi id="S3.T1.4.m2.1.1.2" xref="S3.T1.4.m2.1.1.2.cmml">
          p
         </mi>
         <mo id="S3.T1.4.m2.1.1.1" xref="S3.T1.4.m2.1.1.1.cmml">
          ≤
         </mo>
         <mn id="S3.T1.4.m2.1.1.3" xref="S3.T1.4.m2.1.1.3.cmml">
          0.01
         </mn>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.T1.4.m2.1c">
         <apply id="S3.T1.4.m2.1.1.cmml" xref="S3.T1.4.m2.1.1">
          <leq id="S3.T1.4.m2.1.1.1.cmml" xref="S3.T1.4.m2.1.1.1">
          </leq>
          <ci id="S3.T1.4.m2.1.1.2.cmml" xref="S3.T1.4.m2.1.1.2">
           𝑝
          </ci>
          <cn id="S3.T1.4.m2.1.1.3.cmml" type="float" xref="S3.T1.4.m2.1.1.3">
           0.01
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.T1.4.m2.1d">
         p\leq 0.01
        </annotation>
       </semantics>
      </math>
      according to a Student’s t test.
     </figcaption>
     <table class="ltx_tabular ltx_centering ltx_align_middle" id="S3.T1.12">
      <tr class="ltx_tr" id="S3.T1.8.4">
       <td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T1.8.4.5">
        <span class="ltx_text ltx_font_bold" id="S3.T1.8.4.5.1">
         Method
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T1.5.1.1">
        Success Rate (
        <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T1.5.1.1.m1.1">
         <semantics id="S3.T1.5.1.1.m1.1a">
          <mo id="S3.T1.5.1.1.m1.1.1" stretchy="false" xref="S3.T1.5.1.1.m1.1.1.cmml">
           ↑
          </mo>
          <annotation-xml encoding="MathML-Content" id="S3.T1.5.1.1.m1.1b">
           <ci id="S3.T1.5.1.1.m1.1.1.cmml" xref="S3.T1.5.1.1.m1.1.1">
            ↑
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.T1.5.1.1.m1.1c">
           \uparrow
          </annotation>
         </semantics>
        </math>
        )
       </td>
       <td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T1.6.2.2">
        Average Turns (
        <math alttext="\downarrow" class="ltx_Math" display="inline" id="S3.T1.6.2.2.m1.1">
         <semantics id="S3.T1.6.2.2.m1.1a">
          <mo id="S3.T1.6.2.2.m1.1.1" stretchy="false" xref="S3.T1.6.2.2.m1.1.1.cmml">
           ↓
          </mo>
          <annotation-xml encoding="MathML-Content" id="S3.T1.6.2.2.m1.1b">
           <ci id="S3.T1.6.2.2.m1.1.1.cmml" xref="S3.T1.6.2.2.m1.1.1">
            ↓
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.T1.6.2.2.m1.1c">
           \downarrow
          </annotation>
         </semantics>
        </math>
        )
       </td>
       <td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T1.7.3.3">
        Hit Ratio@5 (
        <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T1.7.3.3.m1.1">
         <semantics id="S3.T1.7.3.3.m1.1a">
          <mo id="S3.T1.7.3.3.m1.1.1" stretchy="false" xref="S3.T1.7.3.3.m1.1.1.cmml">
           ↑
          </mo>
          <annotation-xml encoding="MathML-Content" id="S3.T1.7.3.3.m1.1b">
           <ci id="S3.T1.7.3.3.m1.1.1.cmml" xref="S3.T1.7.3.3.m1.1.1">
            ↑
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.T1.7.3.3.m1.1c">
           \uparrow
          </annotation>
         </semantics>
        </math>
        )
       </td>
       <td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T1.8.4.4">
        Hit Ratio@10 (
        <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T1.8.4.4.m1.1">
         <semantics id="S3.T1.8.4.4.m1.1a">
          <mo id="S3.T1.8.4.4.m1.1.1" stretchy="false" xref="S3.T1.8.4.4.m1.1.1.cmml">
           ↑
          </mo>
          <annotation-xml encoding="MathML-Content" id="S3.T1.8.4.4.m1.1b">
           <ci id="S3.T1.8.4.4.m1.1.1.cmml" xref="S3.T1.8.4.4.m1.1.1">
            ↑
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.T1.8.4.4.m1.1c">
           \uparrow
          </annotation>
         </semantics>
        </math>
        )
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.9">
       <td class="ltx_td ltx_align_left ltx_border_t" colspan="4" id="S3.T1.12.9.1">
        <em class="ltx_emph ltx_font_italic" id="S3.T1.12.9.1.1">
         Traditional CRS Baselines
        </em>
       </td>
       <td class="ltx_td ltx_border_t" id="S3.T1.12.9.2">
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.10">
       <td class="ltx_td ltx_align_left" id="S3.T1.12.10.1">
        <span class="ltx_text ltx_font_typewriter" id="S3.T1.12.10.1.1">
         KBRD
        </span>
        <cite class="ltx_cite ltx_citemacro_citep">
         (Chen et al
         <span class="ltx_text">
          .
         </span>
         ,
         <a class="ltx_ref" href="#bib.bib3" title="">
          2019
         </a>
         )
        </cite>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.10.2">
        0.00
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.10.3">
        6.0
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.10.4">
        0.00
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.10.5">
        0.01
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.11">
       <td class="ltx_td ltx_align_left" id="S3.T1.12.11.1">
        <span class="ltx_text ltx_font_typewriter" id="S3.T1.12.11.1.1">
         BARCOR
        </span>
        <cite class="ltx_cite ltx_citemacro_citep">
         (Wang et al
         <span class="ltx_text">
          .
         </span>
         ,
         <a class="ltx_ref" href="#bib.bib29" title="">
          2022a
         </a>
         )
        </cite>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.11.2">
        0.03
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.11.3">
        5.9
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.11.4">
        0.03
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.11.5">
        0.07
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.12">
       <td class="ltx_td ltx_align_left ltx_border_t" colspan="4" id="S3.T1.12.12.1">
        <em class="ltx_emph ltx_font_italic" id="S3.T1.12.12.1.1">
         LLM-based CRS Baselines
        </em>
       </td>
       <td class="ltx_td ltx_border_t" id="S3.T1.12.12.2">
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.13">
       <td class="ltx_td ltx_align_left" id="S3.T1.12.13.1">
        <span class="ltx_text ltx_font_typewriter" id="S3.T1.12.13.1.1">
         Llama2
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.13.2">
        0.42
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.13.3">
        4.34
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.13.4">
        0.47
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.13.5">
        0.51
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.14">
       <td class="ltx_td ltx_align_left" id="S3.T1.12.14.1">
        <span class="ltx_text ltx_font_typewriter" id="S3.T1.12.14.1.1">
         ChatGPT
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.14.2">
        0.39
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.14.3">
        4.24
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.14.4">
        0.44
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.14.5">
        0.51
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.15">
       <td class="ltx_td ltx_align_left ltx_border_t" colspan="4" id="S3.T1.12.15.1">
        <em class="ltx_emph ltx_font_italic" id="S3.T1.12.15.1.1">
         Our Proposed Method
        </em>
       </td>
       <td class="ltx_td ltx_border_t" id="S3.T1.12.15.2">
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.16">
       <td class="ltx_td ltx_align_left" id="S3.T1.12.16.1">
        MACRS-L
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.16.2">
        0.48
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.16.3">
        4.49
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.16.4">
        0.55
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.16.5">
        0.60
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.8">
       <td class="ltx_td ltx_align_left" id="S3.T1.12.8.5">
        MACRS-C
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.9.5.1">
        <span class="ltx_text ltx_font_bold" id="S3.T1.9.5.1.1">
         0.61
         <sup class="ltx_sup" id="S3.T1.9.5.1.1.1">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="S3.T1.9.5.1.1.1.1">
           ‡
          </span>
         </sup>
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.10.6.2">
        <span class="ltx_text ltx_font_bold" id="S3.T1.10.6.2.1">
         4.19
         <sup class="ltx_sup" id="S3.T1.10.6.2.1.1">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="S3.T1.10.6.2.1.1.1">
           †
          </span>
         </sup>
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.11.7.3">
        <span class="ltx_text ltx_font_bold" id="S3.T1.11.7.3.1">
         0.77
         <sup class="ltx_sup" id="S3.T1.11.7.3.1.1">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="S3.T1.11.7.3.1.1.1">
           ‡
          </span>
         </sup>
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.8.4">
        <span class="ltx_text ltx_font_bold" id="S3.T1.12.8.4.1">
         0.80
         <sup class="ltx_sup" id="S3.T1.12.8.4.1.1">
          <span class="ltx_text ltx_font_medium ltx_font_italic" id="S3.T1.12.8.4.1.1.1">
           ‡
          </span>
         </sup>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.17">
       <td class="ltx_td ltx_align_left" id="S3.T1.12.17.1" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.17.1.1" style="background-color:#D2D2D2;">
         MACRS-C w/o IR
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.17.2" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.17.2.1" style="background-color:#D2D2D2;">
         0.53
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.17.3" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.17.3.1" style="background-color:#D2D2D2;">
         4.42
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.17.4" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.17.4.1" style="background-color:#D2D2D2;">
         0.72
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.17.5" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.17.5.1" style="background-color:#D2D2D2;">
         0.77
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.18">
       <td class="ltx_td ltx_align_left" id="S3.T1.12.18.1" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.18.1.1" style="background-color:#D2D2D2;">
         MACRS-C w/o SR
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.18.2" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.18.2.1" style="background-color:#D2D2D2;">
         0.52
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.18.3" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.18.3.1" style="background-color:#D2D2D2;">
         4.42
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.18.4" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.18.4.1" style="background-color:#D2D2D2;">
         0.67
        </span>
       </td>
       <td class="ltx_td ltx_align_center" id="S3.T1.12.18.5" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.18.5.1" style="background-color:#D2D2D2;">
         0.73
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.12.19">
       <td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T1.12.19.1" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.19.1.1" style="background-color:#D2D2D2;">
         MACRS-C w/o SR+IR
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.12.19.2" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.19.2.1" style="background-color:#D2D2D2;">
         0.51
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.12.19.3" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.19.3.1" style="background-color:#D2D2D2;">
         4.40
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.12.19.4" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.19.4.1" style="background-color:#D2D2D2;">
         0.64
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.12.19.5" style="background-color:#D2D2D2;">
        <span class="ltx_text" id="S3.T1.12.19.5.1" style="background-color:#D2D2D2;">
         0.66
        </span>
       </td>
      </tr>
     </table>
    </figure>
   </section>
  </section>
 </section>
 <section class="ltx_section" id="S4">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    4.
   </span>
   Experimental Setup
  </h2>
  <div class="ltx_para" id="S4.p1">
   <p class="ltx_p" id="S4.p1.1">
    We evaluate the effectiveness of MACRS in both user preferences collection and recommendation.
   </p>
  </div>
  <section class="ltx_subsection" id="S4.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.1.
    </span>
    User Simulator
   </h3>
   <div class="ltx_para" id="S4.SS1.p1">
    <p class="ltx_p" id="S4.SS1.p1.1">
     To evaluate the performance of MACRS in multi-turn interactions, we develop a LLM-based user simulator inspired by
     <cite class="ltx_cite ltx_citemacro_citep">
      (Wang et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib30" title="">
       2023b
      </a>
      )
     </cite>
     .
We construct the user simulator based on ChatGPT and define the preference of the user simulator using the browsing history and target item information.
In prior work
     <cite class="ltx_cite ltx_citemacro_citep">
      (Wang et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib30" title="">
       2023b
      </a>
      )
     </cite>
     , the target item is directly given to the user simulator, which leads to the simulator describing the target item in excessive detail.
We argue that this setting does not align with real-life scenarios, in which users usually have fuzzy preferences
     <cite class="ltx_cite ltx_citemacro_citep">
      (Li et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib16" title="">
       2023
      </a>
      )
     </cite>
     .
In order to create a more realistic and natural user simulator, we use ChatGPT to summarize the information of the target item into multiple keywords, referred to as target item profiles.
Then we replace the name of target items with the target item profiles and request the user simulator to avoid overly direct descriptions.
The instruction prompt of the user simulator is:
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS1.p2">
    <svg class="ltx_picture" height="74.6" id="S4.SS1.p2.pic1" overflow="visible" version="1.1" width="600">
     <g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,74.6) matrix(1 0 0 -1 0 0)">
      <g fill="#6E6E6E" fill-opacity="1.0">
       <path d="M 0 5.91 L 0 68.7 C 0 71.96 2.64 74.6 5.91 74.6 L 594.09 74.6 C 597.36 74.6 600 71.96 600 68.7 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none">
       </path>
      </g>
      <g fill="#FCFCFC" fill-opacity="1.0">
       <path d="M 1.97 5.91 L 1.97 68.7 C 1.97 70.87 3.73 72.64 5.91 72.64 L 594.09 72.64 C 596.27 72.64 598.03 70.87 598.03 68.7 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none">
       </path>
      </g>
      <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)">
       <foreignobject color="#000000" height="47.05" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
        <span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.SS1.p2.pic1.1.1.1.1.1" style="width:402.3pt;">
         <span class="ltx_p" id="S4.SS1.p2.pic1.1.1.1.1.1.1">
          You are a user chatting with an assistant for movie recommendation in turn.
Your browsing history can reflect your past preferences. And you will seek recommendations from the assistant based on the
          <span class="ltx_text" id="S4.SS1.p2.pic1.1.1.1.1.1.1.1" style="background-color:#FFFFB3;">
           [target movie information]
          </span>
          .
         </span>
        </span>
       </foreignobject>
      </g>
     </g>
    </svg>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS1.p3">
    <p class="ltx_p" id="S4.SS1.p3.1">
     where the
     <span class="ltx_text" id="S4.SS1.p3.1.1" style="background-color:#FFFFB3;">
      [target movie information]
     </span>
     represents the target item profiles.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.2.
    </span>
    Implementation Details
   </h3>
   <div class="ltx_para" id="S4.SS2.p1">
    <p class="ltx_p" id="S4.SS2.p1.1">
     In our experiments, all MACRS-C variants and the ChatGPT baseline use the gpt-3.5-turbo-0613 version, and the MACRS-L variant and Llama2 baseline use the Llama-2-70b-chat-hf version which is open-sourced.
We use the temperature 0.0 in our experiments.
And we update the memory modules of agents in MACRS after each turn, meaning that only the suggestions and experiences from the previous turn are retained.
For a fair comparison, we maintain consistency in the item summary and user utterance of the first turn across all experiments.
We set the maximum threshold of turns as 5.
And when the CRS is still unsuccessful in the 5th turn, it will directly generate a recommendation list in the 6th turn.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.3.
    </span>
    Evaluation Metrics
   </h3>
   <div class="ltx_para" id="S4.SS3.p1">
    <p class="ltx_p" id="S4.SS3.p1.1">
     To quantitatively measure the performance of MACRS, we design three automatic metrics:
    </p>
   </div>
   <div class="ltx_para" id="S4.SS3.p2">
    <p class="ltx_p" id="S4.SS3.p2.3">
     (1)
     <span class="ltx_text ltx_font_bold" id="S4.SS3.p2.3.1">
      Success Rate
     </span>
     :
To evaluate the overall efficiency of CRSs, we calculate the rate of successful samples (definition can be found at §
     <a class="ltx_ref" href="#S3.SS1" title="3.1. Overview ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
      <span class="ltx_text ltx_ref_tag">
       3.1
      </span>
     </a>
     ) over all the test sets:
    </p>
    <table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="S6.EGx4">
     <tbody id="S4.E6">
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1">
        <span class="ltx_tag ltx_tag_equation ltx_align_left">
         (6)
        </span>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_eqn_cell ltx_align_center">
        <math alttext="\displaystyle\text{Success\_Rate}=\frac{N_{su}}{N}," class="ltx_Math" display="block" id="S4.E6.m1.1">
         <semantics id="S4.E6.m1.1a">
          <mrow id="S4.E6.m1.1.1.1" xref="S4.E6.m1.1.1.1.1.cmml">
           <mrow id="S4.E6.m1.1.1.1.1" xref="S4.E6.m1.1.1.1.1.cmml">
            <mtext id="S4.E6.m1.1.1.1.1.2" xref="S4.E6.m1.1.1.1.1.2a.cmml">
             Success_Rate
            </mtext>
            <mo id="S4.E6.m1.1.1.1.1.1" xref="S4.E6.m1.1.1.1.1.1.cmml">
             =
            </mo>
            <mfrac id="S4.E6.m1.1.1.1.1.3" xref="S4.E6.m1.1.1.1.1.3.cmml">
             <msub id="S4.E6.m1.1.1.1.1.3.2" xref="S4.E6.m1.1.1.1.1.3.2.cmml">
              <mi id="S4.E6.m1.1.1.1.1.3.2.2" xref="S4.E6.m1.1.1.1.1.3.2.2.cmml">
               N
              </mi>
              <mrow id="S4.E6.m1.1.1.1.1.3.2.3" xref="S4.E6.m1.1.1.1.1.3.2.3.cmml">
               <mi id="S4.E6.m1.1.1.1.1.3.2.3.2" xref="S4.E6.m1.1.1.1.1.3.2.3.2.cmml">
                s
               </mi>
               <mo id="S4.E6.m1.1.1.1.1.3.2.3.1" lspace="0em" rspace="0em" xref="S4.E6.m1.1.1.1.1.3.2.3.1.cmml">
                ​
               </mo>
               <mi id="S4.E6.m1.1.1.1.1.3.2.3.3" xref="S4.E6.m1.1.1.1.1.3.2.3.3.cmml">
                u
               </mi>
              </mrow>
             </msub>
             <mi id="S4.E6.m1.1.1.1.1.3.3" xref="S4.E6.m1.1.1.1.1.3.3.cmml">
              N
             </mi>
            </mfrac>
           </mrow>
           <mo id="S4.E6.m1.1.1.1.2" xref="S4.E6.m1.1.1.1.1.cmml">
            ,
           </mo>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S4.E6.m1.1b">
           <apply id="S4.E6.m1.1.1.1.1.cmml" xref="S4.E6.m1.1.1.1">
            <eq id="S4.E6.m1.1.1.1.1.1.cmml" xref="S4.E6.m1.1.1.1.1.1">
            </eq>
            <ci id="S4.E6.m1.1.1.1.1.2a.cmml" xref="S4.E6.m1.1.1.1.1.2">
             <mtext id="S4.E6.m1.1.1.1.1.2.cmml" xref="S4.E6.m1.1.1.1.1.2">
              Success_Rate
             </mtext>
            </ci>
            <apply id="S4.E6.m1.1.1.1.1.3.cmml" xref="S4.E6.m1.1.1.1.1.3">
             <divide id="S4.E6.m1.1.1.1.1.3.1.cmml" xref="S4.E6.m1.1.1.1.1.3">
             </divide>
             <apply id="S4.E6.m1.1.1.1.1.3.2.cmml" xref="S4.E6.m1.1.1.1.1.3.2">
              <csymbol cd="ambiguous" id="S4.E6.m1.1.1.1.1.3.2.1.cmml" xref="S4.E6.m1.1.1.1.1.3.2">
               subscript
              </csymbol>
              <ci id="S4.E6.m1.1.1.1.1.3.2.2.cmml" xref="S4.E6.m1.1.1.1.1.3.2.2">
               𝑁
              </ci>
              <apply id="S4.E6.m1.1.1.1.1.3.2.3.cmml" xref="S4.E6.m1.1.1.1.1.3.2.3">
               <times id="S4.E6.m1.1.1.1.1.3.2.3.1.cmml" xref="S4.E6.m1.1.1.1.1.3.2.3.1">
               </times>
               <ci id="S4.E6.m1.1.1.1.1.3.2.3.2.cmml" xref="S4.E6.m1.1.1.1.1.3.2.3.2">
                𝑠
               </ci>
               <ci id="S4.E6.m1.1.1.1.1.3.2.3.3.cmml" xref="S4.E6.m1.1.1.1.1.3.2.3.3">
                𝑢
               </ci>
              </apply>
             </apply>
             <ci id="S4.E6.m1.1.1.1.1.3.3.cmml" xref="S4.E6.m1.1.1.1.1.3.3">
              𝑁
             </ci>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S4.E6.m1.1c">
           \displaystyle\text{Success\_Rate}=\frac{N_{su}}{N},
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
      </tr>
     </tbody>
    </table>
    <p class="ltx_p" id="S4.SS3.p2.2">
     where
     <math alttext="N" class="ltx_Math" display="inline" id="S4.SS3.p2.1.m1.1">
      <semantics id="S4.SS3.p2.1.m1.1a">
       <mi id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml">
        N
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b">
        <ci id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">
         𝑁
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">
        N
       </annotation>
      </semantics>
     </math>
     is the number of test set samples, and
     <math alttext="N_{su}" class="ltx_Math" display="inline" id="S4.SS3.p2.2.m2.1">
      <semantics id="S4.SS3.p2.2.m2.1a">
       <msub id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml">
        <mi id="S4.SS3.p2.2.m2.1.1.2" xref="S4.SS3.p2.2.m2.1.1.2.cmml">
         N
        </mi>
        <mrow id="S4.SS3.p2.2.m2.1.1.3" xref="S4.SS3.p2.2.m2.1.1.3.cmml">
         <mi id="S4.SS3.p2.2.m2.1.1.3.2" xref="S4.SS3.p2.2.m2.1.1.3.2.cmml">
          s
         </mi>
         <mo id="S4.SS3.p2.2.m2.1.1.3.1" lspace="0em" rspace="0em" xref="S4.SS3.p2.2.m2.1.1.3.1.cmml">
          ​
         </mo>
         <mi id="S4.SS3.p2.2.m2.1.1.3.3" xref="S4.SS3.p2.2.m2.1.1.3.3.cmml">
          u
         </mi>
        </mrow>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b">
        <apply id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1">
         <csymbol cd="ambiguous" id="S4.SS3.p2.2.m2.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1">
          subscript
         </csymbol>
         <ci id="S4.SS3.p2.2.m2.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.2">
          𝑁
         </ci>
         <apply id="S4.SS3.p2.2.m2.1.1.3.cmml" xref="S4.SS3.p2.2.m2.1.1.3">
          <times id="S4.SS3.p2.2.m2.1.1.3.1.cmml" xref="S4.SS3.p2.2.m2.1.1.3.1">
          </times>
          <ci id="S4.SS3.p2.2.m2.1.1.3.2.cmml" xref="S4.SS3.p2.2.m2.1.1.3.2">
           𝑠
          </ci>
          <ci id="S4.SS3.p2.2.m2.1.1.3.3.cmml" xref="S4.SS3.p2.2.m2.1.1.3.3">
           𝑢
          </ci>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">
        N_{su}
       </annotation>
      </semantics>
     </math>
     is the number of successful samples.
    </p>
   </div>
   <div class="ltx_para" id="S4.SS3.p3">
    <p class="ltx_p" id="S4.SS3.p3.2">
     (2)
     <span class="ltx_text ltx_font_bold" id="S4.SS3.p3.2.1">
      Hit Ratio@K
     </span>
     :
Since our method has a fallback strategy of recommending an item list at the end of the conversation, we also include this part of the recommendation results in the final recommendation effect evaluation.
This allows us to evaluate the efficiency of information gathering.
We calculate the number of top-
     <math alttext="K" class="ltx_Math" display="inline" id="S4.SS3.p3.1.m1.1">
      <semantics id="S4.SS3.p3.1.m1.1a">
       <mi id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml">
        K
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b">
        <ci id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1">
         𝐾
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">
        K
       </annotation>
      </semantics>
     </math>
     hits in recommendation lists, where
     <math alttext="K=5,10" class="ltx_Math" display="inline" id="S4.SS3.p3.2.m2.2">
      <semantics id="S4.SS3.p3.2.m2.2a">
       <mrow id="S4.SS3.p3.2.m2.2.3" xref="S4.SS3.p3.2.m2.2.3.cmml">
        <mi id="S4.SS3.p3.2.m2.2.3.2" xref="S4.SS3.p3.2.m2.2.3.2.cmml">
         K
        </mi>
        <mo id="S4.SS3.p3.2.m2.2.3.1" xref="S4.SS3.p3.2.m2.2.3.1.cmml">
         =
        </mo>
        <mrow id="S4.SS3.p3.2.m2.2.3.3.2" xref="S4.SS3.p3.2.m2.2.3.3.1.cmml">
         <mn id="S4.SS3.p3.2.m2.1.1" xref="S4.SS3.p3.2.m2.1.1.cmml">
          5
         </mn>
         <mo id="S4.SS3.p3.2.m2.2.3.3.2.1" xref="S4.SS3.p3.2.m2.2.3.3.1.cmml">
          ,
         </mo>
         <mn id="S4.SS3.p3.2.m2.2.2" xref="S4.SS3.p3.2.m2.2.2.cmml">
          10
         </mn>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m2.2b">
        <apply id="S4.SS3.p3.2.m2.2.3.cmml" xref="S4.SS3.p3.2.m2.2.3">
         <eq id="S4.SS3.p3.2.m2.2.3.1.cmml" xref="S4.SS3.p3.2.m2.2.3.1">
         </eq>
         <ci id="S4.SS3.p3.2.m2.2.3.2.cmml" xref="S4.SS3.p3.2.m2.2.3.2">
          𝐾
         </ci>
         <list id="S4.SS3.p3.2.m2.2.3.3.1.cmml" xref="S4.SS3.p3.2.m2.2.3.3.2">
          <cn id="S4.SS3.p3.2.m2.1.1.cmml" type="integer" xref="S4.SS3.p3.2.m2.1.1">
           5
          </cn>
          <cn id="S4.SS3.p3.2.m2.2.2.cmml" type="integer" xref="S4.SS3.p3.2.m2.2.2">
           10
          </cn>
         </list>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p3.2.m2.2c">
        K=5,10
       </annotation>
      </semantics>
     </math>
     .
We also add the number of successful samples in the final calculation:
    </p>
    <table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="S6.EGx5">
     <tbody id="S4.E7">
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1">
        <span class="ltx_tag ltx_tag_equation ltx_align_left">
         (7)
        </span>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_eqn_cell ltx_align_center">
        <math alttext="\displaystyle\text{Hit\_Ratio}=\frac{\sum_{i=1}^{N_{un}}hit(i)+N_{su}}{N}," class="ltx_Math" display="block" id="S4.E7.m1.2">
         <semantics id="S4.E7.m1.2a">
          <mrow id="S4.E7.m1.2.2.1" xref="S4.E7.m1.2.2.1.1.cmml">
           <mrow id="S4.E7.m1.2.2.1.1" xref="S4.E7.m1.2.2.1.1.cmml">
            <mtext id="S4.E7.m1.2.2.1.1.2" xref="S4.E7.m1.2.2.1.1.2a.cmml">
             Hit_Ratio
            </mtext>
            <mo id="S4.E7.m1.2.2.1.1.1" xref="S4.E7.m1.2.2.1.1.1.cmml">
             =
            </mo>
            <mfrac id="S4.E7.m1.1.1" xref="S4.E7.m1.1.1.cmml">
             <mrow id="S4.E7.m1.1.1.1" xref="S4.E7.m1.1.1.1.cmml">
              <mrow id="S4.E7.m1.1.1.1.3" xref="S4.E7.m1.1.1.1.3.cmml">
               <msubsup id="S4.E7.m1.1.1.1.3.1" xref="S4.E7.m1.1.1.1.3.1.cmml">
                <mo id="S4.E7.m1.1.1.1.3.1.2.2" xref="S4.E7.m1.1.1.1.3.1.2.2.cmml">
                 ∑
                </mo>
                <mrow id="S4.E7.m1.1.1.1.3.1.2.3" xref="S4.E7.m1.1.1.1.3.1.2.3.cmml">
                 <mi id="S4.E7.m1.1.1.1.3.1.2.3.2" xref="S4.E7.m1.1.1.1.3.1.2.3.2.cmml">
                  i
                 </mi>
                 <mo id="S4.E7.m1.1.1.1.3.1.2.3.1" xref="S4.E7.m1.1.1.1.3.1.2.3.1.cmml">
                  =
                 </mo>
                 <mn id="S4.E7.m1.1.1.1.3.1.2.3.3" xref="S4.E7.m1.1.1.1.3.1.2.3.3.cmml">
                  1
                 </mn>
                </mrow>
                <msub id="S4.E7.m1.1.1.1.3.1.3" xref="S4.E7.m1.1.1.1.3.1.3.cmml">
                 <mi id="S4.E7.m1.1.1.1.3.1.3.2" xref="S4.E7.m1.1.1.1.3.1.3.2.cmml">
                  N
                 </mi>
                 <mrow id="S4.E7.m1.1.1.1.3.1.3.3" xref="S4.E7.m1.1.1.1.3.1.3.3.cmml">
                  <mi id="S4.E7.m1.1.1.1.3.1.3.3.2" xref="S4.E7.m1.1.1.1.3.1.3.3.2.cmml">
                   u
                  </mi>
                  <mo id="S4.E7.m1.1.1.1.3.1.3.3.1" lspace="0em" rspace="0em" xref="S4.E7.m1.1.1.1.3.1.3.3.1.cmml">
                   ​
                  </mo>
                  <mi id="S4.E7.m1.1.1.1.3.1.3.3.3" xref="S4.E7.m1.1.1.1.3.1.3.3.3.cmml">
                   n
                  </mi>
                 </mrow>
                </msub>
               </msubsup>
               <mrow id="S4.E7.m1.1.1.1.3.2" xref="S4.E7.m1.1.1.1.3.2.cmml">
                <mi id="S4.E7.m1.1.1.1.3.2.2" xref="S4.E7.m1.1.1.1.3.2.2.cmml">
                 h
                </mi>
                <mo id="S4.E7.m1.1.1.1.3.2.1" lspace="0em" rspace="0em" xref="S4.E7.m1.1.1.1.3.2.1.cmml">
                 ​
                </mo>
                <mi id="S4.E7.m1.1.1.1.3.2.3" xref="S4.E7.m1.1.1.1.3.2.3.cmml">
                 i
                </mi>
                <mo id="S4.E7.m1.1.1.1.3.2.1a" lspace="0em" rspace="0em" xref="S4.E7.m1.1.1.1.3.2.1.cmml">
                 ​
                </mo>
                <mi id="S4.E7.m1.1.1.1.3.2.4" xref="S4.E7.m1.1.1.1.3.2.4.cmml">
                 t
                </mi>
                <mo id="S4.E7.m1.1.1.1.3.2.1b" lspace="0em" rspace="0em" xref="S4.E7.m1.1.1.1.3.2.1.cmml">
                 ​
                </mo>
                <mrow id="S4.E7.m1.1.1.1.3.2.5.2" xref="S4.E7.m1.1.1.1.3.2.cmml">
                 <mo id="S4.E7.m1.1.1.1.3.2.5.2.1" stretchy="false" xref="S4.E7.m1.1.1.1.3.2.cmml">
                  (
                 </mo>
                 <mi id="S4.E7.m1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml">
                  i
                 </mi>
                 <mo id="S4.E7.m1.1.1.1.3.2.5.2.2" stretchy="false" xref="S4.E7.m1.1.1.1.3.2.cmml">
                  )
                 </mo>
                </mrow>
               </mrow>
              </mrow>
              <mo id="S4.E7.m1.1.1.1.2" xref="S4.E7.m1.1.1.1.2.cmml">
               +
              </mo>
              <msub id="S4.E7.m1.1.1.1.4" xref="S4.E7.m1.1.1.1.4.cmml">
               <mi id="S4.E7.m1.1.1.1.4.2" xref="S4.E7.m1.1.1.1.4.2.cmml">
                N
               </mi>
               <mrow id="S4.E7.m1.1.1.1.4.3" xref="S4.E7.m1.1.1.1.4.3.cmml">
                <mi id="S4.E7.m1.1.1.1.4.3.2" xref="S4.E7.m1.1.1.1.4.3.2.cmml">
                 s
                </mi>
                <mo id="S4.E7.m1.1.1.1.4.3.1" lspace="0em" rspace="0em" xref="S4.E7.m1.1.1.1.4.3.1.cmml">
                 ​
                </mo>
                <mi id="S4.E7.m1.1.1.1.4.3.3" xref="S4.E7.m1.1.1.1.4.3.3.cmml">
                 u
                </mi>
               </mrow>
              </msub>
             </mrow>
             <mi id="S4.E7.m1.1.1.3" xref="S4.E7.m1.1.1.3.cmml">
              N
             </mi>
            </mfrac>
           </mrow>
           <mo id="S4.E7.m1.2.2.1.2" xref="S4.E7.m1.2.2.1.1.cmml">
            ,
           </mo>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S4.E7.m1.2b">
           <apply id="S4.E7.m1.2.2.1.1.cmml" xref="S4.E7.m1.2.2.1">
            <eq id="S4.E7.m1.2.2.1.1.1.cmml" xref="S4.E7.m1.2.2.1.1.1">
            </eq>
            <ci id="S4.E7.m1.2.2.1.1.2a.cmml" xref="S4.E7.m1.2.2.1.1.2">
             <mtext id="S4.E7.m1.2.2.1.1.2.cmml" xref="S4.E7.m1.2.2.1.1.2">
              Hit_Ratio
             </mtext>
            </ci>
            <apply id="S4.E7.m1.1.1.cmml" xref="S4.E7.m1.1.1">
             <divide id="S4.E7.m1.1.1.2.cmml" xref="S4.E7.m1.1.1">
             </divide>
             <apply id="S4.E7.m1.1.1.1.cmml" xref="S4.E7.m1.1.1.1">
              <plus id="S4.E7.m1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.2">
              </plus>
              <apply id="S4.E7.m1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.3">
               <apply id="S4.E7.m1.1.1.1.3.1.cmml" xref="S4.E7.m1.1.1.1.3.1">
                <csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.3.1.1.cmml" xref="S4.E7.m1.1.1.1.3.1">
                 superscript
                </csymbol>
                <apply id="S4.E7.m1.1.1.1.3.1.2.cmml" xref="S4.E7.m1.1.1.1.3.1">
                 <csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.3.1.2.1.cmml" xref="S4.E7.m1.1.1.1.3.1">
                  subscript
                 </csymbol>
                 <sum id="S4.E7.m1.1.1.1.3.1.2.2.cmml" xref="S4.E7.m1.1.1.1.3.1.2.2">
                 </sum>
                 <apply id="S4.E7.m1.1.1.1.3.1.2.3.cmml" xref="S4.E7.m1.1.1.1.3.1.2.3">
                  <eq id="S4.E7.m1.1.1.1.3.1.2.3.1.cmml" xref="S4.E7.m1.1.1.1.3.1.2.3.1">
                  </eq>
                  <ci id="S4.E7.m1.1.1.1.3.1.2.3.2.cmml" xref="S4.E7.m1.1.1.1.3.1.2.3.2">
                   𝑖
                  </ci>
                  <cn id="S4.E7.m1.1.1.1.3.1.2.3.3.cmml" type="integer" xref="S4.E7.m1.1.1.1.3.1.2.3.3">
                   1
                  </cn>
                 </apply>
                </apply>
                <apply id="S4.E7.m1.1.1.1.3.1.3.cmml" xref="S4.E7.m1.1.1.1.3.1.3">
                 <csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.3.1.3.1.cmml" xref="S4.E7.m1.1.1.1.3.1.3">
                  subscript
                 </csymbol>
                 <ci id="S4.E7.m1.1.1.1.3.1.3.2.cmml" xref="S4.E7.m1.1.1.1.3.1.3.2">
                  𝑁
                 </ci>
                 <apply id="S4.E7.m1.1.1.1.3.1.3.3.cmml" xref="S4.E7.m1.1.1.1.3.1.3.3">
                  <times id="S4.E7.m1.1.1.1.3.1.3.3.1.cmml" xref="S4.E7.m1.1.1.1.3.1.3.3.1">
                  </times>
                  <ci id="S4.E7.m1.1.1.1.3.1.3.3.2.cmml" xref="S4.E7.m1.1.1.1.3.1.3.3.2">
                   𝑢
                  </ci>
                  <ci id="S4.E7.m1.1.1.1.3.1.3.3.3.cmml" xref="S4.E7.m1.1.1.1.3.1.3.3.3">
                   𝑛
                  </ci>
                 </apply>
                </apply>
               </apply>
               <apply id="S4.E7.m1.1.1.1.3.2.cmml" xref="S4.E7.m1.1.1.1.3.2">
                <times id="S4.E7.m1.1.1.1.3.2.1.cmml" xref="S4.E7.m1.1.1.1.3.2.1">
                </times>
                <ci id="S4.E7.m1.1.1.1.3.2.2.cmml" xref="S4.E7.m1.1.1.1.3.2.2">
                 ℎ
                </ci>
                <ci id="S4.E7.m1.1.1.1.3.2.3.cmml" xref="S4.E7.m1.1.1.1.3.2.3">
                 𝑖
                </ci>
                <ci id="S4.E7.m1.1.1.1.3.2.4.cmml" xref="S4.E7.m1.1.1.1.3.2.4">
                 𝑡
                </ci>
                <ci id="S4.E7.m1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1">
                 𝑖
                </ci>
               </apply>
              </apply>
              <apply id="S4.E7.m1.1.1.1.4.cmml" xref="S4.E7.m1.1.1.1.4">
               <csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.4.1.cmml" xref="S4.E7.m1.1.1.1.4">
                subscript
               </csymbol>
               <ci id="S4.E7.m1.1.1.1.4.2.cmml" xref="S4.E7.m1.1.1.1.4.2">
                𝑁
               </ci>
               <apply id="S4.E7.m1.1.1.1.4.3.cmml" xref="S4.E7.m1.1.1.1.4.3">
                <times id="S4.E7.m1.1.1.1.4.3.1.cmml" xref="S4.E7.m1.1.1.1.4.3.1">
                </times>
                <ci id="S4.E7.m1.1.1.1.4.3.2.cmml" xref="S4.E7.m1.1.1.1.4.3.2">
                 𝑠
                </ci>
                <ci id="S4.E7.m1.1.1.1.4.3.3.cmml" xref="S4.E7.m1.1.1.1.4.3.3">
                 𝑢
                </ci>
               </apply>
              </apply>
             </apply>
             <ci id="S4.E7.m1.1.1.3.cmml" xref="S4.E7.m1.1.1.3">
              𝑁
             </ci>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S4.E7.m1.2c">
           \displaystyle\text{Hit\_Ratio}=\frac{\sum_{i=1}^{N_{un}}hit(i)+N_{su}}{N},
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
      </tr>
     </tbody>
    </table>
    <p class="ltx_p" id="S4.SS3.p3.5">
     where
     <math alttext="N_{un}" class="ltx_Math" display="inline" id="S4.SS3.p3.3.m1.1">
      <semantics id="S4.SS3.p3.3.m1.1a">
       <msub id="S4.SS3.p3.3.m1.1.1" xref="S4.SS3.p3.3.m1.1.1.cmml">
        <mi id="S4.SS3.p3.3.m1.1.1.2" xref="S4.SS3.p3.3.m1.1.1.2.cmml">
         N
        </mi>
        <mrow id="S4.SS3.p3.3.m1.1.1.3" xref="S4.SS3.p3.3.m1.1.1.3.cmml">
         <mi id="S4.SS3.p3.3.m1.1.1.3.2" xref="S4.SS3.p3.3.m1.1.1.3.2.cmml">
          u
         </mi>
         <mo id="S4.SS3.p3.3.m1.1.1.3.1" lspace="0em" rspace="0em" xref="S4.SS3.p3.3.m1.1.1.3.1.cmml">
          ​
         </mo>
         <mi id="S4.SS3.p3.3.m1.1.1.3.3" xref="S4.SS3.p3.3.m1.1.1.3.3.cmml">
          n
         </mi>
        </mrow>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p3.3.m1.1b">
        <apply id="S4.SS3.p3.3.m1.1.1.cmml" xref="S4.SS3.p3.3.m1.1.1">
         <csymbol cd="ambiguous" id="S4.SS3.p3.3.m1.1.1.1.cmml" xref="S4.SS3.p3.3.m1.1.1">
          subscript
         </csymbol>
         <ci id="S4.SS3.p3.3.m1.1.1.2.cmml" xref="S4.SS3.p3.3.m1.1.1.2">
          𝑁
         </ci>
         <apply id="S4.SS3.p3.3.m1.1.1.3.cmml" xref="S4.SS3.p3.3.m1.1.1.3">
          <times id="S4.SS3.p3.3.m1.1.1.3.1.cmml" xref="S4.SS3.p3.3.m1.1.1.3.1">
          </times>
          <ci id="S4.SS3.p3.3.m1.1.1.3.2.cmml" xref="S4.SS3.p3.3.m1.1.1.3.2">
           𝑢
          </ci>
          <ci id="S4.SS3.p3.3.m1.1.1.3.3.cmml" xref="S4.SS3.p3.3.m1.1.1.3.3">
           𝑛
          </ci>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p3.3.m1.1c">
        N_{un}
       </annotation>
      </semantics>
     </math>
     is the number of unsuccessful samples (definition can be found at §
     <a class="ltx_ref" href="#S3.SS1" title="3.1. Overview ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
      <span class="ltx_text ltx_ref_tag">
       3.1
      </span>
     </a>
     ).
And when the target item appears in the recommendation list,
     <math alttext="hit(i)=1" class="ltx_Math" display="inline" id="S4.SS3.p3.4.m2.1">
      <semantics id="S4.SS3.p3.4.m2.1a">
       <mrow id="S4.SS3.p3.4.m2.1.2" xref="S4.SS3.p3.4.m2.1.2.cmml">
        <mrow id="S4.SS3.p3.4.m2.1.2.2" xref="S4.SS3.p3.4.m2.1.2.2.cmml">
         <mi id="S4.SS3.p3.4.m2.1.2.2.2" xref="S4.SS3.p3.4.m2.1.2.2.2.cmml">
          h
         </mi>
         <mo id="S4.SS3.p3.4.m2.1.2.2.1" lspace="0em" rspace="0em" xref="S4.SS3.p3.4.m2.1.2.2.1.cmml">
          ​
         </mo>
         <mi id="S4.SS3.p3.4.m2.1.2.2.3" xref="S4.SS3.p3.4.m2.1.2.2.3.cmml">
          i
         </mi>
         <mo id="S4.SS3.p3.4.m2.1.2.2.1a" lspace="0em" rspace="0em" xref="S4.SS3.p3.4.m2.1.2.2.1.cmml">
          ​
         </mo>
         <mi id="S4.SS3.p3.4.m2.1.2.2.4" xref="S4.SS3.p3.4.m2.1.2.2.4.cmml">
          t
         </mi>
         <mo id="S4.SS3.p3.4.m2.1.2.2.1b" lspace="0em" rspace="0em" xref="S4.SS3.p3.4.m2.1.2.2.1.cmml">
          ​
         </mo>
         <mrow id="S4.SS3.p3.4.m2.1.2.2.5.2" xref="S4.SS3.p3.4.m2.1.2.2.cmml">
          <mo id="S4.SS3.p3.4.m2.1.2.2.5.2.1" stretchy="false" xref="S4.SS3.p3.4.m2.1.2.2.cmml">
           (
          </mo>
          <mi id="S4.SS3.p3.4.m2.1.1" xref="S4.SS3.p3.4.m2.1.1.cmml">
           i
          </mi>
          <mo id="S4.SS3.p3.4.m2.1.2.2.5.2.2" stretchy="false" xref="S4.SS3.p3.4.m2.1.2.2.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <mo id="S4.SS3.p3.4.m2.1.2.1" xref="S4.SS3.p3.4.m2.1.2.1.cmml">
         =
        </mo>
        <mn id="S4.SS3.p3.4.m2.1.2.3" xref="S4.SS3.p3.4.m2.1.2.3.cmml">
         1
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p3.4.m2.1b">
        <apply id="S4.SS3.p3.4.m2.1.2.cmml" xref="S4.SS3.p3.4.m2.1.2">
         <eq id="S4.SS3.p3.4.m2.1.2.1.cmml" xref="S4.SS3.p3.4.m2.1.2.1">
         </eq>
         <apply id="S4.SS3.p3.4.m2.1.2.2.cmml" xref="S4.SS3.p3.4.m2.1.2.2">
          <times id="S4.SS3.p3.4.m2.1.2.2.1.cmml" xref="S4.SS3.p3.4.m2.1.2.2.1">
          </times>
          <ci id="S4.SS3.p3.4.m2.1.2.2.2.cmml" xref="S4.SS3.p3.4.m2.1.2.2.2">
           ℎ
          </ci>
          <ci id="S4.SS3.p3.4.m2.1.2.2.3.cmml" xref="S4.SS3.p3.4.m2.1.2.2.3">
           𝑖
          </ci>
          <ci id="S4.SS3.p3.4.m2.1.2.2.4.cmml" xref="S4.SS3.p3.4.m2.1.2.2.4">
           𝑡
          </ci>
          <ci id="S4.SS3.p3.4.m2.1.1.cmml" xref="S4.SS3.p3.4.m2.1.1">
           𝑖
          </ci>
         </apply>
         <cn id="S4.SS3.p3.4.m2.1.2.3.cmml" type="integer" xref="S4.SS3.p3.4.m2.1.2.3">
          1
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p3.4.m2.1c">
        hit(i)=1
       </annotation>
      </semantics>
     </math>
     .
Otherwise,
     <math alttext="hit(i)=0" class="ltx_Math" display="inline" id="S4.SS3.p3.5.m3.1">
      <semantics id="S4.SS3.p3.5.m3.1a">
       <mrow id="S4.SS3.p3.5.m3.1.2" xref="S4.SS3.p3.5.m3.1.2.cmml">
        <mrow id="S4.SS3.p3.5.m3.1.2.2" xref="S4.SS3.p3.5.m3.1.2.2.cmml">
         <mi id="S4.SS3.p3.5.m3.1.2.2.2" xref="S4.SS3.p3.5.m3.1.2.2.2.cmml">
          h
         </mi>
         <mo id="S4.SS3.p3.5.m3.1.2.2.1" lspace="0em" rspace="0em" xref="S4.SS3.p3.5.m3.1.2.2.1.cmml">
          ​
         </mo>
         <mi id="S4.SS3.p3.5.m3.1.2.2.3" xref="S4.SS3.p3.5.m3.1.2.2.3.cmml">
          i
         </mi>
         <mo id="S4.SS3.p3.5.m3.1.2.2.1a" lspace="0em" rspace="0em" xref="S4.SS3.p3.5.m3.1.2.2.1.cmml">
          ​
         </mo>
         <mi id="S4.SS3.p3.5.m3.1.2.2.4" xref="S4.SS3.p3.5.m3.1.2.2.4.cmml">
          t
         </mi>
         <mo id="S4.SS3.p3.5.m3.1.2.2.1b" lspace="0em" rspace="0em" xref="S4.SS3.p3.5.m3.1.2.2.1.cmml">
          ​
         </mo>
         <mrow id="S4.SS3.p3.5.m3.1.2.2.5.2" xref="S4.SS3.p3.5.m3.1.2.2.cmml">
          <mo id="S4.SS3.p3.5.m3.1.2.2.5.2.1" stretchy="false" xref="S4.SS3.p3.5.m3.1.2.2.cmml">
           (
          </mo>
          <mi id="S4.SS3.p3.5.m3.1.1" xref="S4.SS3.p3.5.m3.1.1.cmml">
           i
          </mi>
          <mo id="S4.SS3.p3.5.m3.1.2.2.5.2.2" stretchy="false" xref="S4.SS3.p3.5.m3.1.2.2.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <mo id="S4.SS3.p3.5.m3.1.2.1" xref="S4.SS3.p3.5.m3.1.2.1.cmml">
         =
        </mo>
        <mn id="S4.SS3.p3.5.m3.1.2.3" xref="S4.SS3.p3.5.m3.1.2.3.cmml">
         0
        </mn>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p3.5.m3.1b">
        <apply id="S4.SS3.p3.5.m3.1.2.cmml" xref="S4.SS3.p3.5.m3.1.2">
         <eq id="S4.SS3.p3.5.m3.1.2.1.cmml" xref="S4.SS3.p3.5.m3.1.2.1">
         </eq>
         <apply id="S4.SS3.p3.5.m3.1.2.2.cmml" xref="S4.SS3.p3.5.m3.1.2.2">
          <times id="S4.SS3.p3.5.m3.1.2.2.1.cmml" xref="S4.SS3.p3.5.m3.1.2.2.1">
          </times>
          <ci id="S4.SS3.p3.5.m3.1.2.2.2.cmml" xref="S4.SS3.p3.5.m3.1.2.2.2">
           ℎ
          </ci>
          <ci id="S4.SS3.p3.5.m3.1.2.2.3.cmml" xref="S4.SS3.p3.5.m3.1.2.2.3">
           𝑖
          </ci>
          <ci id="S4.SS3.p3.5.m3.1.2.2.4.cmml" xref="S4.SS3.p3.5.m3.1.2.2.4">
           𝑡
          </ci>
          <ci id="S4.SS3.p3.5.m3.1.1.cmml" xref="S4.SS3.p3.5.m3.1.1">
           𝑖
          </ci>
         </apply>
         <cn id="S4.SS3.p3.5.m3.1.2.3.cmml" type="integer" xref="S4.SS3.p3.5.m3.1.2.3">
          0
         </cn>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p3.5.m3.1c">
        hit(i)=0
       </annotation>
      </semantics>
     </math>
     .
    </p>
   </div>
   <div class="ltx_para" id="S4.SS3.p4">
    <p class="ltx_p" id="S4.SS3.p4.3">
     (3)
     <span class="ltx_text ltx_font_bold" id="S4.SS3.p4.3.1">
      Average Turns
     </span>
     :
To evaluate the recommendation efficiency of the CRS, we calculate the average number of turns in the conversation:
    </p>
    <table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="S6.EGx6">
     <tbody id="S4.E8">
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1">
        <span class="ltx_tag ltx_tag_equation ltx_align_left">
         (8)
        </span>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_eqn_cell ltx_align_center">
        <math alttext="\displaystyle\text{Average\_Turns}=\frac{\sum_{i=1}^{N}NT_{i}}{N}," class="ltx_Math" display="block" id="S4.E8.m1.1">
         <semantics id="S4.E8.m1.1a">
          <mrow id="S4.E8.m1.1.1.1" xref="S4.E8.m1.1.1.1.1.cmml">
           <mrow id="S4.E8.m1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.cmml">
            <mtext id="S4.E8.m1.1.1.1.1.2" xref="S4.E8.m1.1.1.1.1.2a.cmml">
             Average_Turns
            </mtext>
            <mo id="S4.E8.m1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.cmml">
             =
            </mo>
            <mfrac id="S4.E8.m1.1.1.1.1.3" xref="S4.E8.m1.1.1.1.1.3.cmml">
             <mrow id="S4.E8.m1.1.1.1.1.3.2" xref="S4.E8.m1.1.1.1.1.3.2.cmml">
              <msubsup id="S4.E8.m1.1.1.1.1.3.2.1" xref="S4.E8.m1.1.1.1.1.3.2.1.cmml">
               <mo id="S4.E8.m1.1.1.1.1.3.2.1.2.2" xref="S4.E8.m1.1.1.1.1.3.2.1.2.2.cmml">
                ∑
               </mo>
               <mrow id="S4.E8.m1.1.1.1.1.3.2.1.2.3" xref="S4.E8.m1.1.1.1.1.3.2.1.2.3.cmml">
                <mi id="S4.E8.m1.1.1.1.1.3.2.1.2.3.2" xref="S4.E8.m1.1.1.1.1.3.2.1.2.3.2.cmml">
                 i
                </mi>
                <mo id="S4.E8.m1.1.1.1.1.3.2.1.2.3.1" xref="S4.E8.m1.1.1.1.1.3.2.1.2.3.1.cmml">
                 =
                </mo>
                <mn id="S4.E8.m1.1.1.1.1.3.2.1.2.3.3" xref="S4.E8.m1.1.1.1.1.3.2.1.2.3.3.cmml">
                 1
                </mn>
               </mrow>
               <mi id="S4.E8.m1.1.1.1.1.3.2.1.3" xref="S4.E8.m1.1.1.1.1.3.2.1.3.cmml">
                N
               </mi>
              </msubsup>
              <mrow id="S4.E8.m1.1.1.1.1.3.2.2" xref="S4.E8.m1.1.1.1.1.3.2.2.cmml">
               <mi id="S4.E8.m1.1.1.1.1.3.2.2.2" xref="S4.E8.m1.1.1.1.1.3.2.2.2.cmml">
                N
               </mi>
               <mo id="S4.E8.m1.1.1.1.1.3.2.2.1" lspace="0em" rspace="0em" xref="S4.E8.m1.1.1.1.1.3.2.2.1.cmml">
                ​
               </mo>
               <msub id="S4.E8.m1.1.1.1.1.3.2.2.3" xref="S4.E8.m1.1.1.1.1.3.2.2.3.cmml">
                <mi id="S4.E8.m1.1.1.1.1.3.2.2.3.2" xref="S4.E8.m1.1.1.1.1.3.2.2.3.2.cmml">
                 T
                </mi>
                <mi id="S4.E8.m1.1.1.1.1.3.2.2.3.3" xref="S4.E8.m1.1.1.1.1.3.2.2.3.3.cmml">
                 i
                </mi>
               </msub>
              </mrow>
             </mrow>
             <mi id="S4.E8.m1.1.1.1.1.3.3" xref="S4.E8.m1.1.1.1.1.3.3.cmml">
              N
             </mi>
            </mfrac>
           </mrow>
           <mo id="S4.E8.m1.1.1.1.2" xref="S4.E8.m1.1.1.1.1.cmml">
            ,
           </mo>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S4.E8.m1.1b">
           <apply id="S4.E8.m1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1">
            <eq id="S4.E8.m1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1">
            </eq>
            <ci id="S4.E8.m1.1.1.1.1.2a.cmml" xref="S4.E8.m1.1.1.1.1.2">
             <mtext id="S4.E8.m1.1.1.1.1.2.cmml" xref="S4.E8.m1.1.1.1.1.2">
              Average_Turns
             </mtext>
            </ci>
            <apply id="S4.E8.m1.1.1.1.1.3.cmml" xref="S4.E8.m1.1.1.1.1.3">
             <divide id="S4.E8.m1.1.1.1.1.3.1.cmml" xref="S4.E8.m1.1.1.1.1.3">
             </divide>
             <apply id="S4.E8.m1.1.1.1.1.3.2.cmml" xref="S4.E8.m1.1.1.1.1.3.2">
              <apply id="S4.E8.m1.1.1.1.1.3.2.1.cmml" xref="S4.E8.m1.1.1.1.1.3.2.1">
               <csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.3.2.1.1.cmml" xref="S4.E8.m1.1.1.1.1.3.2.1">
                superscript
               </csymbol>
               <apply id="S4.E8.m1.1.1.1.1.3.2.1.2.cmml" xref="S4.E8.m1.1.1.1.1.3.2.1">
                <csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.3.2.1.2.1.cmml" xref="S4.E8.m1.1.1.1.1.3.2.1">
                 subscript
                </csymbol>
                <sum id="S4.E8.m1.1.1.1.1.3.2.1.2.2.cmml" xref="S4.E8.m1.1.1.1.1.3.2.1.2.2">
                </sum>
                <apply id="S4.E8.m1.1.1.1.1.3.2.1.2.3.cmml" xref="S4.E8.m1.1.1.1.1.3.2.1.2.3">
                 <eq id="S4.E8.m1.1.1.1.1.3.2.1.2.3.1.cmml" xref="S4.E8.m1.1.1.1.1.3.2.1.2.3.1">
                 </eq>
                 <ci id="S4.E8.m1.1.1.1.1.3.2.1.2.3.2.cmml" xref="S4.E8.m1.1.1.1.1.3.2.1.2.3.2">
                  𝑖
                 </ci>
                 <cn id="S4.E8.m1.1.1.1.1.3.2.1.2.3.3.cmml" type="integer" xref="S4.E8.m1.1.1.1.1.3.2.1.2.3.3">
                  1
                 </cn>
                </apply>
               </apply>
               <ci id="S4.E8.m1.1.1.1.1.3.2.1.3.cmml" xref="S4.E8.m1.1.1.1.1.3.2.1.3">
                𝑁
               </ci>
              </apply>
              <apply id="S4.E8.m1.1.1.1.1.3.2.2.cmml" xref="S4.E8.m1.1.1.1.1.3.2.2">
               <times id="S4.E8.m1.1.1.1.1.3.2.2.1.cmml" xref="S4.E8.m1.1.1.1.1.3.2.2.1">
               </times>
               <ci id="S4.E8.m1.1.1.1.1.3.2.2.2.cmml" xref="S4.E8.m1.1.1.1.1.3.2.2.2">
                𝑁
               </ci>
               <apply id="S4.E8.m1.1.1.1.1.3.2.2.3.cmml" xref="S4.E8.m1.1.1.1.1.3.2.2.3">
                <csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.3.2.2.3.1.cmml" xref="S4.E8.m1.1.1.1.1.3.2.2.3">
                 subscript
                </csymbol>
                <ci id="S4.E8.m1.1.1.1.1.3.2.2.3.2.cmml" xref="S4.E8.m1.1.1.1.1.3.2.2.3.2">
                 𝑇
                </ci>
                <ci id="S4.E8.m1.1.1.1.1.3.2.2.3.3.cmml" xref="S4.E8.m1.1.1.1.1.3.2.2.3.3">
                 𝑖
                </ci>
               </apply>
              </apply>
             </apply>
             <ci id="S4.E8.m1.1.1.1.1.3.3.cmml" xref="S4.E8.m1.1.1.1.1.3.3">
              𝑁
             </ci>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S4.E8.m1.1c">
           \displaystyle\text{Average\_Turns}=\frac{\sum_{i=1}^{N}NT_{i}}{N},
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
      </tr>
     </tbody>
    </table>
    <p class="ltx_p" id="S4.SS3.p4.2">
     where
     <math alttext="NT_{i}" class="ltx_Math" display="inline" id="S4.SS3.p4.1.m1.1">
      <semantics id="S4.SS3.p4.1.m1.1a">
       <mrow id="S4.SS3.p4.1.m1.1.1" xref="S4.SS3.p4.1.m1.1.1.cmml">
        <mi id="S4.SS3.p4.1.m1.1.1.2" xref="S4.SS3.p4.1.m1.1.1.2.cmml">
         N
        </mi>
        <mo id="S4.SS3.p4.1.m1.1.1.1" lspace="0em" rspace="0em" xref="S4.SS3.p4.1.m1.1.1.1.cmml">
         ​
        </mo>
        <msub id="S4.SS3.p4.1.m1.1.1.3" xref="S4.SS3.p4.1.m1.1.1.3.cmml">
         <mi id="S4.SS3.p4.1.m1.1.1.3.2" xref="S4.SS3.p4.1.m1.1.1.3.2.cmml">
          T
         </mi>
         <mi id="S4.SS3.p4.1.m1.1.1.3.3" xref="S4.SS3.p4.1.m1.1.1.3.3.cmml">
          i
         </mi>
        </msub>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p4.1.m1.1b">
        <apply id="S4.SS3.p4.1.m1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1">
         <times id="S4.SS3.p4.1.m1.1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1.1">
         </times>
         <ci id="S4.SS3.p4.1.m1.1.1.2.cmml" xref="S4.SS3.p4.1.m1.1.1.2">
          𝑁
         </ci>
         <apply id="S4.SS3.p4.1.m1.1.1.3.cmml" xref="S4.SS3.p4.1.m1.1.1.3">
          <csymbol cd="ambiguous" id="S4.SS3.p4.1.m1.1.1.3.1.cmml" xref="S4.SS3.p4.1.m1.1.1.3">
           subscript
          </csymbol>
          <ci id="S4.SS3.p4.1.m1.1.1.3.2.cmml" xref="S4.SS3.p4.1.m1.1.1.3.2">
           𝑇
          </ci>
          <ci id="S4.SS3.p4.1.m1.1.1.3.3.cmml" xref="S4.SS3.p4.1.m1.1.1.3.3">
           𝑖
          </ci>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p4.1.m1.1c">
        NT_{i}
       </annotation>
      </semantics>
     </math>
     is the number of turns in sample
     <math alttext="i" class="ltx_Math" display="inline" id="S4.SS3.p4.2.m2.1">
      <semantics id="S4.SS3.p4.2.m2.1a">
       <mi id="S4.SS3.p4.2.m2.1.1" xref="S4.SS3.p4.2.m2.1.1.cmml">
        i
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS3.p4.2.m2.1b">
        <ci id="S4.SS3.p4.2.m2.1.1.cmml" xref="S4.SS3.p4.2.m2.1.1">
         𝑖
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS3.p4.2.m2.1c">
        i
       </annotation>
      </semantics>
     </math>
     .
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.4.
    </span>
    Dataset
   </h3>
   <div class="ltx_para" id="S4.SS4.p1">
    <p class="ltx_p" id="S4.SS4.p1.1">
     We conduct our experiments on the MovieLens
     <cite class="ltx_cite ltx_citemacro_citep">
      (Harper and Konstan,
      <a class="ltx_ref" href="#bib.bib9" title="">
       2015
      </a>
      )
     </cite>
     which is a benchmark dataset for movie recommendation.
It contains 162,541 users, 62,423 movies and 25,000,095 ratings.
To construct the user simulator, we truncate the interaction sequence to 20 items, utilizing them to create the browsing history.
The 21st item is then used as the prediction target item.
Then we filter the browsing history and only retain the items that belong to the same category as the target item.
We randomly select 100 samples and ensured that the length of their browsing history is not less than 5.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS5">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.5.
    </span>
    Comparison Methods
   </h3>
   <div class="ltx_para" id="S4.SS5.p1">
    <p class="ltx_p" id="S4.SS5.p1.1">
     To evaluate the effectiveness of MACRS, we compare it to four strong CRS baseline methods:
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS5.p2">
    <p class="ltx_p" id="S4.SS5.p2.1">
     (1)
     <span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS5.p2.1.1">
      KBRD
     </span>
     <cite class="ltx_cite ltx_citemacro_citep">
      (Chen et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib3" title="">
       2019
      </a>
      )
     </cite>
     contains a recommendation module and a Transformer-based dialogue module. It leverages an external knowledge graph to enhance the semantics of entities mentioned in the dialogue history.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS5.p3">
    <p class="ltx_p" id="S4.SS5.p3.1">
     (2)
     <span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS5.p3.1.1">
      BARCOR
     </span>
     <cite class="ltx_cite ltx_citemacro_citep">
      (Wang et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib29" title="">
       2022a
      </a>
      )
     </cite>
     uses the bidirectional encoder of BART
     <cite class="ltx_cite ltx_citemacro_citep">
      (Lewis et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib15" title="">
       2020
      </a>
      )
     </cite>
     as the recommendation module and its auto-regressive decoder as the dialogue module.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS5.p4">
    <p class="ltx_p" id="S4.SS5.p4.1">
     (3)
     <span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS5.p4.1.1">
      ChatGPT
     </span>
     <span class="ltx_note ltx_role_footnote" id="footnote1">
      <sup class="ltx_note_mark">
       1
      </sup>
      <span class="ltx_note_outer">
       <span class="ltx_note_content">
        <sup class="ltx_note_mark">
         1
        </sup>
        <span class="ltx_tag ltx_tag_note">
         1
        </span>
        <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://chat.openai.com/" target="_blank" title="">
         https://chat.openai.com/
        </a>
       </span>
      </span>
     </span>
     is a closed-source LLM from OpenAI. We use the version gpt-3.5-turbo-0613. We construct a powerful single-agent CRS based on it using the same prompt as our model.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS5.p5">
    <p class="ltx_p" id="S4.SS5.p5.1">
     (4)
     <span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS5.p5.1.1">
      Llama2
      <span class="ltx_text ltx_font_serif" id="S4.SS5.p5.1.1.1">
       <span class="ltx_note ltx_role_footnote" id="footnote2">
        <sup class="ltx_note_mark">
         2
        </sup>
        <span class="ltx_note_outer">
         <span class="ltx_note_content">
          <sup class="ltx_note_mark">
           2
          </sup>
          <span class="ltx_tag ltx_tag_note">
           <span class="ltx_text ltx_font_medium" id="footnote2.1.1.1">
            2
           </span>
          </span>
          <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/meta-llama/Llama-2-70b-chat-hf" target="_blank" title="">
           https://huggingface.co/meta-llama/Llama-2-70b-chat-hf
          </a>
         </span>
        </span>
       </span>
      </span>
     </span>
     is an open-source LLM that has been trained using both supervised fine-tuning and reinforcement learning with human feedback
     <cite class="ltx_cite ltx_citemacro_citep">
      (Touvron et al
      <span class="ltx_text">
       .
      </span>
      ,
      <a class="ltx_ref" href="#bib.bib27" title="">
       2023
      </a>
      )
     </cite>
     .
We use the
     <span class="ltx_text ltx_font_typewriter" id="S4.SS5.p5.1.2">
      Llama2
     </span>
     model with 70 billion parameters.
We construct it as a single-agent method to plan the dialogue flow and compare it with our multi-agent framework.
    </p>
   </div>
   <div class="ltx_para" id="S4.SS5.p6">
    <p class="ltx_p" id="S4.SS5.p6.1">
     We propose two variants of MACRS:
     <span class="ltx_text ltx_font_bold" id="S4.SS5.p6.1.1">
      MACRS-C
     </span>
     and
     <span class="ltx_text ltx_font_bold" id="S4.SS5.p6.1.2">
      MACRS-L
     </span>
     , which use the
     <span class="ltx_text ltx_font_typewriter" id="S4.SS5.p6.1.3">
      ChatGPT
     </span>
     and
     <span class="ltx_text ltx_font_typewriter" id="S4.SS5.p6.1.4">
      Llama2
     </span>
     as the backbone respectively. To demonstrate the effectiveness of each module in our proposed MACRS framework, we employ several ablation models in our experiments:
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS5.p7">
    <p class="ltx_p" id="S4.SS5.p7.1">
     (1)
     <span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS5.p7.1.1">
      MACRS w/o SR
     </span>
     : We remove the
     <span class="ltx_text ltx_font_bold" id="S4.SS5.p7.1.2">
      s
     </span>
     trategy
     <span class="ltx_text ltx_font_bold" id="S4.SS5.p7.1.3">
      r
     </span>
     eflection (SR) module in MACRS, which can verify the effectiveness of the reflection on the dialogue strategy.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS5.p8">
    <p class="ltx_p" id="S4.SS5.p8.1">
     (2)
     <span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS5.p8.1.1">
      MACRS w/o IR
     </span>
     : We remove the
     <span class="ltx_text ltx_font_bold" id="S4.SS5.p8.1.2">
      i
     </span>
     nformation
     <span class="ltx_text ltx_font_bold" id="S4.SS5.p8.1.3">
      r
     </span>
     eflection (IR) module in our user feedback-aware reflection which generates the user profile, which verifies the effectiveness of high-level user preference information.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS5.p9">
    <p class="ltx_p" id="S4.SS5.p9.1">
     (3)
     <span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS5.p9.1.1">
      MACRS w/o SR+IR
     </span>
     : We remove both of the
     <span class="ltx_text ltx_font_bold" id="S4.SS5.p9.1.2">
      s
     </span>
     trategy
     <span class="ltx_text ltx_font_bold" id="S4.SS5.p9.1.3">
      r
     </span>
     eflection and
     <span class="ltx_text ltx_font_bold" id="S4.SS5.p9.1.4">
      i
     </span>
     nformation
     <span class="ltx_text ltx_font_bold" id="S4.SS5.p9.1.5">
      r
     </span>
     eflection (SR+IR) to verify the effectiveness of the reflection mechanism in MACRS.
    </p>
   </div>
   <div class="ltx_para" id="S4.SS5.p10">
    <p class="ltx_p" id="S4.SS5.p10.1">
     All the ablation studies are conducted on
     <span class="ltx_text ltx_font_bold" id="S4.SS5.p10.1.1">
      MACRS-C
     </span>
     .
    </p>
   </div>
   <figure class="ltx_figure" id="S4.F4">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="208" id="S4.F4.g1" src="/html/2402.01135/assets/x4.png" width="830"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 4.
     </span>
     The ratio of different dialogue acts chosen in each turn of dialogue. The diversity in dialogue act selection of our proposed MACRS is remarkably enhanced compared to the corresponding backbone model, and it enhances the user experience.
    </figcaption>
   </figure>
  </section>
 </section>
 <section class="ltx_section" id="S5">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    5.
   </span>
   Experimental results
  </h2>
  <section class="ltx_subsection" id="S5.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.1.
    </span>
    Main Results
   </h3>
   <div class="ltx_para" id="S5.SS1.p1">
    <p class="ltx_p" id="S5.SS1.p1.1">
     Table
     <a class="ltx_ref" href="#S3.T1" title="Table 1 ‣ 3.3.2. Strategy-level Reflection ‣ 3.3. User Feedback-aware Reflection ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     shows the performance of our proposed MACRS and baselines in terms of four metrics.
We see that the LLM-only CRSs (
     <em class="ltx_emph ltx_font_italic" id="S5.SS1.p1.1.1">
      e.g.,
     </em>
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p1.1.2">
      ChatGPT
     </span>
     and
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p1.1.3">
      Llama2
     </span>
     ) demonstrate superior performance compared to traditional CRS methods (
     <em class="ltx_emph ltx_font_italic" id="S5.SS1.p1.1.4">
      e.g.,
     </em>
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p1.1.5">
      BARCOR
     </span>
     and
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p1.1.6">
      KBRD
     </span>
     ).
On the one hand, this is because
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p1.1.7">
      BARCOR
     </span>
     and
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p1.1.8">
      KBRD
     </span>
     rely on knowledge graphs and face limitations in successfully recommending items that are not present in the knowledge graph.
On the other hand, they rely on smaller-scale generative models that exhibit weaker reasoning and natural language understanding capabilities than LLMs.
    </p>
   </div>
   <div class="ltx_para" id="S5.SS1.p2">
    <p class="ltx_p" id="S5.SS1.p2.1">
     We also find that MACRS-C outperforms its backbone LLM
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p2.1.1">
      ChatGPT
     </span>
     in terms of all metrics.
This suggests that with the help of our proposed MACRS framework, the LLM-only CRS can improve in both user preference gathering and recommendation accuracy.
Although the MACRS-L outperforms the
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p2.1.2">
      Llama2
     </span>
     in terms of all the recommendation accuracy metrics (
     <em class="ltx_emph ltx_font_italic" id="S5.SS1.p2.1.3">
      e.g.,
     </em>
     Success Rate and Hit Ratio), we observe that MACRS-L has a slightly higher average number of turns compared to the
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p2.1.4">
      Llama2
     </span>
     .
We suspect that this is because MACRS method recommends more cautiously, which gives it an advantage in both success rate and recommendation accuracy.
In contrast, the single-agent methods (
     <em class="ltx_emph ltx_font_italic" id="S5.SS1.p2.1.5">
      e.g.,
     </em>
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p2.1.6">
      ChatGPT
     </span>
     and
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p2.1.7">
      Llama2
     </span>
     ) tend to directly and frequently recommend items to the user, and this behavior will lead to higher efficiency.
However, it is obvious that such frequent recommendations not only risk user dissatisfaction but are also inefficient for capturing user preferences.
A more detailed analysis can be found in §
     <a class="ltx_ref" href="#S5.SS3.SSS1" title="5.3.1. Analysis of different dialogue acts ratio ‣ 5.3. Discussion ‣ 5. Experimental results ‣ A Multi-Agent Conversational Recommender System">
      <span class="ltx_text ltx_ref_tag">
       5.3.1
      </span>
     </a>
     .
    </p>
   </div>
   <div class="ltx_para" id="S5.SS1.p3">
    <p class="ltx_p" id="S5.SS1.p3.1">
     Moreover, while
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p3.1.1">
      Llama2
     </span>
     exhibits enhanced performance compared to
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p3.1.2">
      ChatGPT
     </span>
     as a single agent, MACRS-L lags behind MACRS-C across all metrics.
We speculate the reason for this phenomenon is the
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p3.1.3">
      Llama2
     </span>
     ’s weaker ability to follow the complex instructions than
     <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p3.1.4">
      ChatGPT
     </span>
     , which results in suboptimal outcomes within our proposed multi-agent framework.
    </p>
   </div>
   <figure class="ltx_figure" id="S5.F5">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="343" id="S5.F5.g1" src="/html/2402.01135/assets/x5.png" width="392"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 5.
     </span>
     Cumulative number of successful samples for each dialogue turn.
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="S5.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.2.
    </span>
    Ablation Study
   </h3>
   <div class="ltx_para" id="S5.SS2.p1">
    <p class="ltx_p" id="S5.SS2.p1.1">
     To evaluate the effectiveness of each module in MACRS, we conduct ablation studies with three variant models: (1) only using the multi-agent act planning without both levels of reflection (
     <em class="ltx_emph ltx_font_italic" id="S5.SS2.p1.1.1">
      a.k.a.,
     </em>
     MACRS w/o SR+IR); (2) only using the information-level user feedback-aware reflection (
     <em class="ltx_emph ltx_font_italic" id="S5.SS2.p1.1.2">
      a.k.a.,
     </em>
     MACRS w/o SR); (3) only using the strategy-level user feedback-aware reflection (
     <em class="ltx_emph ltx_font_italic" id="S5.SS2.p1.1.3">
      a.k.a.,
     </em>
     MACRS w/o IR).
The performance of ablation models is shown in Table
     <a class="ltx_ref" href="#S3.T1" title="Table 1 ‣ 3.3.2. Strategy-level Reflection ‣ 3.3. User Feedback-aware Reflection ‣ 3. Methodology ‣ A Multi-Agent Conversational Recommender System">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     , and we can find that all of the ablation models perform less promising than the best model MACRS-C, which demonstrates the preeminence of each module in MACRS.
We can also find that the MACRS w/o SR performs worse than the MACRS w/o IR, which demonstrates that strategy-level suggestion and corrective experience are more important of the CRS.
    </p>
   </div>
   <figure class="ltx_figure" id="S5.F6">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="384" id="S5.F6.g1" src="/html/2402.01135/assets/x6.png" width="461"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 6.
     </span>
     Performance of different models with respect to the popularity level of item.
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="S5.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.3.
    </span>
    Discussion
   </h3>
   <section class="ltx_subsubsection" id="S5.SS3.SSS1">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      5.3.1.
     </span>
     Analysis of different dialogue acts ratio
    </h4>
    <div class="ltx_para" id="S5.SS3.SSS1.p1">
     <p class="ltx_p" id="S5.SS3.SSS1.p1.1">
      In order to compare the differences in dialogue act planning between MACRS and single-agent CRS, we conduct a statistical analysis comparing the dialogue act selection in each turn.
As shown in Figure
      <a class="ltx_ref" href="#S4.F4" title="Figure 4 ‣ 4.5. Comparison Methods ‣ 4. Experimental Setup ‣ A Multi-Agent Conversational Recommender System">
       <span class="ltx_text ltx_ref_tag">
        4
       </span>
      </a>
      , our method has better diversity in choosing dialogue acts than other baseline models.
Other baseline methods (
      <em class="ltx_emph ltx_font_italic" id="S5.SS3.SSS1.p1.1.1">
       e.g.,
      </em>
      <span class="ltx_text ltx_font_typewriter" id="S5.SS3.SSS1.p1.1.2">
       ChatGPT
      </span>
      ) tend to directly recommend or ask the user’s preference in each round of dialogue.
This will lead to a poor user experience with the CRS, as users are often impatient with being constantly recommended boring items.
In addition, Figure
      <a class="ltx_ref" href="#S4.F4" title="Figure 4 ‣ 4.5. Comparison Methods ‣ 4. Experimental Setup ‣ A Multi-Agent Conversational Recommender System">
       <span class="ltx_text ltx_ref_tag">
        4
       </span>
      </a>
      shows that our method tends to ask the user’s preference in the first round of dialogue, make a trial recommendation in the second round, and then adjust the dialogue act based on the previous interaction in the subsequent turns.
MACRS also inserts a small amount of chit-chat acts at appropriate times during the dialogue to enhance the user experience and increase the appeal of the CRS to users.
We expect this conversational behavior of the CRS to be more natural and human-like and will therefore be preferred by users.
     </p>
    </div>
    <div class="ltx_para" id="S5.SS3.SSS1.p2">
     <p class="ltx_p" id="S5.SS3.SSS1.p2.3">
      We also conduct a statistical analysis on the number of cumulative successful samples at each turn
      <math alttext="T" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.1.m1.1">
       <semantics id="S5.SS3.SSS1.p2.1.m1.1a">
        <mi id="S5.SS3.SSS1.p2.1.m1.1.1" xref="S5.SS3.SSS1.p2.1.m1.1.1.cmml">
         T
        </mi>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.1.m1.1b">
         <ci id="S5.SS3.SSS1.p2.1.m1.1.1.cmml" xref="S5.SS3.SSS1.p2.1.m1.1.1">
          𝑇
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.1.m1.1c">
         T
        </annotation>
       </semantics>
      </math>
      , where
      <math alttext="T=\{1,2,3,4,5\}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.2.m2.5">
       <semantics id="S5.SS3.SSS1.p2.2.m2.5a">
        <mrow id="S5.SS3.SSS1.p2.2.m2.5.6" xref="S5.SS3.SSS1.p2.2.m2.5.6.cmml">
         <mi id="S5.SS3.SSS1.p2.2.m2.5.6.2" xref="S5.SS3.SSS1.p2.2.m2.5.6.2.cmml">
          T
         </mi>
         <mo id="S5.SS3.SSS1.p2.2.m2.5.6.1" xref="S5.SS3.SSS1.p2.2.m2.5.6.1.cmml">
          =
         </mo>
         <mrow id="S5.SS3.SSS1.p2.2.m2.5.6.3.2" xref="S5.SS3.SSS1.p2.2.m2.5.6.3.1.cmml">
          <mo id="S5.SS3.SSS1.p2.2.m2.5.6.3.2.1" stretchy="false" xref="S5.SS3.SSS1.p2.2.m2.5.6.3.1.cmml">
           {
          </mo>
          <mn id="S5.SS3.SSS1.p2.2.m2.1.1" xref="S5.SS3.SSS1.p2.2.m2.1.1.cmml">
           1
          </mn>
          <mo id="S5.SS3.SSS1.p2.2.m2.5.6.3.2.2" xref="S5.SS3.SSS1.p2.2.m2.5.6.3.1.cmml">
           ,
          </mo>
          <mn id="S5.SS3.SSS1.p2.2.m2.2.2" xref="S5.SS3.SSS1.p2.2.m2.2.2.cmml">
           2
          </mn>
          <mo id="S5.SS3.SSS1.p2.2.m2.5.6.3.2.3" xref="S5.SS3.SSS1.p2.2.m2.5.6.3.1.cmml">
           ,
          </mo>
          <mn id="S5.SS3.SSS1.p2.2.m2.3.3" xref="S5.SS3.SSS1.p2.2.m2.3.3.cmml">
           3
          </mn>
          <mo id="S5.SS3.SSS1.p2.2.m2.5.6.3.2.4" xref="S5.SS3.SSS1.p2.2.m2.5.6.3.1.cmml">
           ,
          </mo>
          <mn id="S5.SS3.SSS1.p2.2.m2.4.4" xref="S5.SS3.SSS1.p2.2.m2.4.4.cmml">
           4
          </mn>
          <mo id="S5.SS3.SSS1.p2.2.m2.5.6.3.2.5" xref="S5.SS3.SSS1.p2.2.m2.5.6.3.1.cmml">
           ,
          </mo>
          <mn id="S5.SS3.SSS1.p2.2.m2.5.5" xref="S5.SS3.SSS1.p2.2.m2.5.5.cmml">
           5
          </mn>
          <mo id="S5.SS3.SSS1.p2.2.m2.5.6.3.2.6" stretchy="false" xref="S5.SS3.SSS1.p2.2.m2.5.6.3.1.cmml">
           }
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.2.m2.5b">
         <apply id="S5.SS3.SSS1.p2.2.m2.5.6.cmml" xref="S5.SS3.SSS1.p2.2.m2.5.6">
          <eq id="S5.SS3.SSS1.p2.2.m2.5.6.1.cmml" xref="S5.SS3.SSS1.p2.2.m2.5.6.1">
          </eq>
          <ci id="S5.SS3.SSS1.p2.2.m2.5.6.2.cmml" xref="S5.SS3.SSS1.p2.2.m2.5.6.2">
           𝑇
          </ci>
          <set id="S5.SS3.SSS1.p2.2.m2.5.6.3.1.cmml" xref="S5.SS3.SSS1.p2.2.m2.5.6.3.2">
           <cn id="S5.SS3.SSS1.p2.2.m2.1.1.cmml" type="integer" xref="S5.SS3.SSS1.p2.2.m2.1.1">
            1
           </cn>
           <cn id="S5.SS3.SSS1.p2.2.m2.2.2.cmml" type="integer" xref="S5.SS3.SSS1.p2.2.m2.2.2">
            2
           </cn>
           <cn id="S5.SS3.SSS1.p2.2.m2.3.3.cmml" type="integer" xref="S5.SS3.SSS1.p2.2.m2.3.3">
            3
           </cn>
           <cn id="S5.SS3.SSS1.p2.2.m2.4.4.cmml" type="integer" xref="S5.SS3.SSS1.p2.2.m2.4.4">
            4
           </cn>
           <cn id="S5.SS3.SSS1.p2.2.m2.5.5.cmml" type="integer" xref="S5.SS3.SSS1.p2.2.m2.5.5">
            5
           </cn>
          </set>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.2.m2.5c">
         T=\{1,2,3,4,5\}
        </annotation>
       </semantics>
      </math>
      .
As shown in Figure
      <a class="ltx_ref" href="#S5.F5" title="Figure 5 ‣ 5.1. Main Results ‣ 5. Experimental results ‣ A Multi-Agent Conversational Recommender System">
       <span class="ltx_text ltx_ref_tag">
        5
       </span>
      </a>
      , since MACRS tends to ask about user preferences in the initial turns, while
      <span class="ltx_text ltx_font_typewriter" id="S5.SS3.SSS1.p2.3.1">
       ChatGPT
      </span>
      tends to directly make recommendations,
      <span class="ltx_text ltx_font_typewriter" id="S5.SS3.SSS1.p2.3.2">
       ChatGPT
      </span>
      has more accumulative successful examples when
      <math alttext="T=\{1,2\}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.3.m3.2">
       <semantics id="S5.SS3.SSS1.p2.3.m3.2a">
        <mrow id="S5.SS3.SSS1.p2.3.m3.2.3" xref="S5.SS3.SSS1.p2.3.m3.2.3.cmml">
         <mi id="S5.SS3.SSS1.p2.3.m3.2.3.2" xref="S5.SS3.SSS1.p2.3.m3.2.3.2.cmml">
          T
         </mi>
         <mo id="S5.SS3.SSS1.p2.3.m3.2.3.1" xref="S5.SS3.SSS1.p2.3.m3.2.3.1.cmml">
          =
         </mo>
         <mrow id="S5.SS3.SSS1.p2.3.m3.2.3.3.2" xref="S5.SS3.SSS1.p2.3.m3.2.3.3.1.cmml">
          <mo id="S5.SS3.SSS1.p2.3.m3.2.3.3.2.1" stretchy="false" xref="S5.SS3.SSS1.p2.3.m3.2.3.3.1.cmml">
           {
          </mo>
          <mn id="S5.SS3.SSS1.p2.3.m3.1.1" xref="S5.SS3.SSS1.p2.3.m3.1.1.cmml">
           1
          </mn>
          <mo id="S5.SS3.SSS1.p2.3.m3.2.3.3.2.2" xref="S5.SS3.SSS1.p2.3.m3.2.3.3.1.cmml">
           ,
          </mo>
          <mn id="S5.SS3.SSS1.p2.3.m3.2.2" xref="S5.SS3.SSS1.p2.3.m3.2.2.cmml">
           2
          </mn>
          <mo id="S5.SS3.SSS1.p2.3.m3.2.3.3.2.3" stretchy="false" xref="S5.SS3.SSS1.p2.3.m3.2.3.3.1.cmml">
           }
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.3.m3.2b">
         <apply id="S5.SS3.SSS1.p2.3.m3.2.3.cmml" xref="S5.SS3.SSS1.p2.3.m3.2.3">
          <eq id="S5.SS3.SSS1.p2.3.m3.2.3.1.cmml" xref="S5.SS3.SSS1.p2.3.m3.2.3.1">
          </eq>
          <ci id="S5.SS3.SSS1.p2.3.m3.2.3.2.cmml" xref="S5.SS3.SSS1.p2.3.m3.2.3.2">
           𝑇
          </ci>
          <set id="S5.SS3.SSS1.p2.3.m3.2.3.3.1.cmml" xref="S5.SS3.SSS1.p2.3.m3.2.3.3.2">
           <cn id="S5.SS3.SSS1.p2.3.m3.1.1.cmml" type="integer" xref="S5.SS3.SSS1.p2.3.m3.1.1">
            1
           </cn>
           <cn id="S5.SS3.SSS1.p2.3.m3.2.2.cmml" type="integer" xref="S5.SS3.SSS1.p2.3.m3.2.2">
            2
           </cn>
          </set>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.3.m3.2c">
         T=\{1,2\}
        </annotation>
       </semantics>
      </math>
      .
However, as
      <span class="ltx_text ltx_font_typewriter" id="S5.SS3.SSS1.p2.3.3">
       ChatGPT
      </span>
      lacks explicit modeling of user preferences, the cumulative count of successfully recommended samples gradually decreases in later interaction turns.
This experiment also demonstrates the importance of actively obtaining user preference information.
     </p>
    </div>
   </section>
   <section class="ltx_subsubsection" id="S5.SS3.SSS2">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      5.3.2.
     </span>
     Analysis of the influence of item popularity
    </h4>
    <div class="ltx_para" id="S5.SS3.SSS2.p1">
     <p class="ltx_p" id="S5.SS3.SSS2.p1.1">
      Popularity bias, a well-known phenomenon in recommendation systems
      <cite class="ltx_cite ltx_citemacro_citep">
       (Abdollahpouri et al
       <span class="ltx_text">
        .
       </span>
       ,
       <a class="ltx_ref" href="#bib.bib2" title="">
        2020
       </a>
       ; Wei et al
       <span class="ltx_text">
        .
       </span>
       ,
       <a class="ltx_ref" href="#bib.bib32" title="">
        2021
       </a>
       ; Lin et al
       <span class="ltx_text">
        .
       </span>
       ,
       <a class="ltx_ref" href="#bib.bib17" title="">
        2022
       </a>
       )
      </cite>
      , can lead to reduced user satisfaction when the target item is unpopular.
We conducted a statistical analysis to examine the performance differences of MACRS under varying levels of target item popularity and we compared it with the LLM-based CRS baseline
      <span class="ltx_text ltx_font_typewriter" id="S5.SS3.SSS2.p1.1.1">
       ChatGPT
      </span>
      .
In the experiments, we quantify the popularity of an item based on the number of interactions and categorize it into five levels: top 10%, top 10%-20%, top 20%-30%, top 30%-50%, and bottom 50%.
For each level, we randomly selected 20 samples.
     </p>
    </div>
    <div class="ltx_para" id="S5.SS3.SSS2.p2">
     <p class="ltx_p" id="S5.SS3.SSS2.p2.1">
      The results are shown in Figure
      <a class="ltx_ref" href="#S5.F6" title="Figure 6 ‣ 5.2. Ablation Study ‣ 5. Experimental results ‣ A Multi-Agent Conversational Recommender System">
       <span class="ltx_text ltx_ref_tag">
        6
       </span>
      </a>
      .
The experimental results indicate that MACRS outperforms the baseline in all popularity levels of items.
Moreover, MACRS demonstrates remarkable recommendation accuracy when dealing with challenging samples characterized by lower item popularity.
This can be attributed to the effective dialogue act planning in MACRS, which enables it to gather more comprehensive user preference information.
     </p>
    </div>
    <div class="ltx_para" id="S5.SS3.SSS2.p3">
     <p class="ltx_p" id="S5.SS3.SSS2.p3.1">
      On the contrary, the single-agent method
      <span class="ltx_text ltx_font_typewriter" id="S5.SS3.SSS2.p3.1.1">
       ChatGPT
      </span>
      tends to make more frequent recommending acts, which can help improve the overall efficiency and reduce the number of average number of dialogue turns on the test set.
However, this approach has a negative effect on low-popularity items, which can make it difficult for these CRS methods to recommend low-popularity items to users, as they lack a detailed understanding of user preferences.
     </p>
    </div>
    <figure class="ltx_table" id="S5.T2">
     <figcaption class="ltx_caption ltx_centering">
      <span class="ltx_tag ltx_tag_table">
       Table 2.
      </span>
      The influence of strategy-level suggestions.
     </figcaption>
     <table class="ltx_tabular ltx_centering ltx_align_middle" id="S5.T2.3">
      <tr class="ltx_tr" id="S5.T2.3.4">
       <td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.3.4.1">
        <span class="ltx_text" id="S5.T2.3.4.1.1">
        </span>
        <span class="ltx_text ltx_font_bold" id="S5.T2.3.4.1.2">
         <span class="ltx_text" id="S5.T2.3.4.1.2.1">
          <span class="ltx_tabular ltx_align_middle" id="S5.T2.3.4.1.2.1.1">
           <span class="ltx_tr" id="S5.T2.3.4.1.2.1.1.1">
            <span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.4.1.2.1.1.1.1">
             Response
            </span>
           </span>
           <span class="ltx_tr" id="S5.T2.3.4.1.2.1.1.2">
            <span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.4.1.2.1.1.2.1">
             w/ Suggestions Wins
            </span>
           </span>
          </span>
         </span>
         <span class="ltx_text" id="S5.T2.3.4.1.2.2">
         </span>
        </span>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.3.4.2">
        <span class="ltx_text ltx_font_bold" id="S5.T2.3.4.2.1">
         Tie
        </span>
       </td>
       <td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" id="S5.T2.3.4.3">
        <span class="ltx_text" id="S5.T2.3.4.3.1">
        </span>
        <span class="ltx_text ltx_font_bold" id="S5.T2.3.4.3.2">
         <span class="ltx_text" id="S5.T2.3.4.3.2.1">
          <span class="ltx_tabular ltx_align_middle" id="S5.T2.3.4.3.2.1.1">
           <span class="ltx_tr" id="S5.T2.3.4.3.2.1.1.1">
            <span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.4.3.2.1.1.1.1">
             Response
            </span>
           </span>
           <span class="ltx_tr" id="S5.T2.3.4.3.2.1.1.2">
            <span class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.3.4.3.2.1.1.2.1">
             w/o Suggestions Wins
            </span>
           </span>
          </span>
         </span>
         <span class="ltx_text" id="S5.T2.3.4.3.2.2">
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="S5.T2.3.3">
       <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T2.1.1.1">
        <math alttext="45.4\%" class="ltx_Math" display="inline" id="S5.T2.1.1.1.m1.1">
         <semantics id="S5.T2.1.1.1.m1.1a">
          <mrow id="S5.T2.1.1.1.m1.1.1" xref="S5.T2.1.1.1.m1.1.1.cmml">
           <mn id="S5.T2.1.1.1.m1.1.1.2" xref="S5.T2.1.1.1.m1.1.1.2.cmml">
            45.4
           </mn>
           <mo id="S5.T2.1.1.1.m1.1.1.1" xref="S5.T2.1.1.1.m1.1.1.1.cmml">
            %
           </mo>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S5.T2.1.1.1.m1.1b">
           <apply id="S5.T2.1.1.1.m1.1.1.cmml" xref="S5.T2.1.1.1.m1.1.1">
            <csymbol cd="latexml" id="S5.T2.1.1.1.m1.1.1.1.cmml" xref="S5.T2.1.1.1.m1.1.1.1">
             percent
            </csymbol>
            <cn id="S5.T2.1.1.1.m1.1.1.2.cmml" type="float" xref="S5.T2.1.1.1.m1.1.1.2">
             45.4
            </cn>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S5.T2.1.1.1.m1.1c">
           45.4\%
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T2.2.2.2">
        <math alttext="33.0\%" class="ltx_Math" display="inline" id="S5.T2.2.2.2.m1.1">
         <semantics id="S5.T2.2.2.2.m1.1a">
          <mrow id="S5.T2.2.2.2.m1.1.1" xref="S5.T2.2.2.2.m1.1.1.cmml">
           <mn id="S5.T2.2.2.2.m1.1.1.2" xref="S5.T2.2.2.2.m1.1.1.2.cmml">
            33.0
           </mn>
           <mo id="S5.T2.2.2.2.m1.1.1.1" xref="S5.T2.2.2.2.m1.1.1.1.cmml">
            %
           </mo>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S5.T2.2.2.2.m1.1b">
           <apply id="S5.T2.2.2.2.m1.1.1.cmml" xref="S5.T2.2.2.2.m1.1.1">
            <csymbol cd="latexml" id="S5.T2.2.2.2.m1.1.1.1.cmml" xref="S5.T2.2.2.2.m1.1.1.1">
             percent
            </csymbol>
            <cn id="S5.T2.2.2.2.m1.1.1.2.cmml" type="float" xref="S5.T2.2.2.2.m1.1.1.2">
             33.0
            </cn>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S5.T2.2.2.2.m1.1c">
           33.0\%
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" id="S5.T2.3.3.3">
        <math alttext="21.6\%" class="ltx_Math" display="inline" id="S5.T2.3.3.3.m1.1">
         <semantics id="S5.T2.3.3.3.m1.1a">
          <mrow id="S5.T2.3.3.3.m1.1.1" xref="S5.T2.3.3.3.m1.1.1.cmml">
           <mn id="S5.T2.3.3.3.m1.1.1.2" xref="S5.T2.3.3.3.m1.1.1.2.cmml">
            21.6
           </mn>
           <mo id="S5.T2.3.3.3.m1.1.1.1" xref="S5.T2.3.3.3.m1.1.1.1.cmml">
            %
           </mo>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S5.T2.3.3.3.m1.1b">
           <apply id="S5.T2.3.3.3.m1.1.1.cmml" xref="S5.T2.3.3.3.m1.1.1">
            <csymbol cd="latexml" id="S5.T2.3.3.3.m1.1.1.1.cmml" xref="S5.T2.3.3.3.m1.1.1.1">
             percent
            </csymbol>
            <cn id="S5.T2.3.3.3.m1.1.1.2.cmml" type="float" xref="S5.T2.3.3.3.m1.1.1.2">
             21.6
            </cn>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S5.T2.3.3.3.m1.1c">
           21.6\%
          </annotation>
         </semantics>
        </math>
       </td>
      </tr>
     </table>
    </figure>
   </section>
   <section class="ltx_subsubsection" id="S5.SS3.SSS3">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      5.3.3.
     </span>
     The influence of strategy-level suggestions
    </h4>
    <div class="ltx_para" id="S5.SS3.SSS3.p1">
     <p class="ltx_p" id="S5.SS3.SSS3.p1.1">
      In order to evaluate the strategy-level suggestions generated by the strategy-level reflection mechanism, we compared the responses with suggestions and the responses without suggestions.
We use ChatGPT
      <span class="ltx_note ltx_role_footnote" id="footnote3">
       <sup class="ltx_note_mark">
        3
       </sup>
       <span class="ltx_note_outer">
        <span class="ltx_note_content">
         <sup class="ltx_note_mark">
          3
         </sup>
         <span class="ltx_tag ltx_tag_note">
          3
         </span>
         https://chat.openai.com/
        </span>
       </span>
      </span>
      as the evaluator. We instruct the evaluator to compare the responses according to multiple criteria including (1) recommendation accuracy, (2) user information gain, (3) conciseness, and (4) engagement.
Then the evaluator selects the superior response based on these criteria.
The result shown in Table
      <a class="ltx_ref" href="#S5.T2" title="Table 2 ‣ 5.3.2. Analysis of the influence of item popularity ‣ 5.3. Discussion ‣ 5. Experimental results ‣ A Multi-Agent Conversational Recommender System">
       <span class="ltx_text ltx_ref_tag">
        2
       </span>
      </a>
      indicates that the strategy-level suggestions can enhance the quality of the responses.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S5.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     5.4.
    </span>
    Case Study
   </h3>
   <div class="ltx_para" id="S5.SS4.p1">
    <p class="ltx_p" id="S5.SS4.p1.1">
     In Figure
     <a class="ltx_ref" href="#S5.F7" title="Figure 7 ‣ 5.4. Case Study ‣ 5. Experimental results ‣ A Multi-Agent Conversational Recommender System">
      <span class="ltx_text ltx_ref_tag">
       7
      </span>
     </a>
     , we show an example of the dialogue between the user and MACRS and between the user and the baseline method.
The text in
     <span class="ltx_text" id="S5.SS4.p1.1.1" style="color:#00FF00;">
      green
     </span>
     indicates whether the user accepts the CRS recommended item, the text in
     <span class="ltx_text" id="S5.SS4.p1.1.2" style="color:#FF0000;">
      red
     </span>
     represents dialogue acts that are beneficial for recommendation. From this case, we can find that the
     <span class="ltx_text ltx_font_typewriter" id="S5.SS4.p1.1.3">
      ChatGPT
     </span>
     fails to recommend the proper item to the user since it does not further explore user preferences in the 2nd turn.
When the user chats with MACRS, MACRS accurately identifies user implicit preferences for directors when the user replies with “the director of it did not meet my expectations”.
It is essential for the CRS to detect implicit preferences from user feedback and further explore them to uncover more explicit preferences.
This observation demonstrates that our proposed user feedback-aware reflection module can help the CRS adjust the dialogue act plan based on user feedback.
    </p>
   </div>
   <figure class="ltx_figure" id="S5.F7">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="716" id="S5.F7.g1" src="/html/2402.01135/assets/x7.png" width="461"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 7.
     </span>
     Case study for a conversational recommendation.
    </figcaption>
   </figure>
  </section>
 </section>
 <section class="ltx_section" id="S6">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    6.
   </span>
   Conclusion
  </h2>
  <div class="ltx_para" id="S6.p1">
   <p class="ltx_p" id="S6.p1.1">
    In this paper, we introduced Multi-Agent Conversational Recommender System (MACRS), an LLM-only multi-agent Conversational Recommender System (CRS) that leverages several different agents to tackle the dialogue flow planning and integrate the user feedback to optimize the dialogue planning dynamically.
We first propose a novel multi-agent dialogue planning module to separately model each dialogue act using LLM-based responder agents and schedule these responder agents according to the dialogue strategy and user feedback by using the planner agent.
Then we propose a user feedback-aware reflection module that conducts the reflection on both information-level and strategy-level to produce high-level user preference descriptions and dialogue strategy suggestions for the subsequent dialogue.
These two modules can collaborate to optimize the dialogue flow and increase the user experience and recommendation accuracy.
Experiments conducted on a benchmark CRS dataset demonstrate that our proposed MACRS can boost the performance of recommendations significantly and have a better and more engaging user experience than with the existing CRS methods.
   </p>
  </div>
 </section>
 <section class="ltx_bibliography" id="bib">
  <h2 class="ltx_title ltx_title_bibliography">
   References
  </h2>
  <ul class="ltx_biblist">
   <li class="ltx_bibitem" id="bib.bib1">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     (1)
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib2">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Abdollahpouri et al
     <span class="ltx_text" id="bib.bib2.2.2.1">
      .
     </span>
     (2020)
    </span>
    <span class="ltx_bibblock">
     Himan Abdollahpouri, Masoud Mansoury, Robin Burke, and Bamshad Mobasher. 2020.
    </span>
    <span class="ltx_bibblock">
     The connection between popularity bias, calibration, and fairness in recommendation. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">
      Proceedings of the 14th ACM Conference on Recommender Systems
     </em>
     . 726–731.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib3">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Chen et al
     <span class="ltx_text" id="bib.bib3.2.2.1">
      .
     </span>
     (2019)
    </span>
    <span class="ltx_bibblock">
     Qibin Chen, Junyang Lin, Yichang Zhang, Ming Ding, Yukuo Cen, Hongxia Yang, and Jie Tang. 2019.
    </span>
    <span class="ltx_bibblock">
     Towards knowledge-based recommender dialog system.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">
      arXiv preprint arXiv:1908.05391
     </em>
     (2019).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib4">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Feng et al
     <span class="ltx_text" id="bib.bib4.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Yue Feng, Shuchang Liu, Zhenghai Xue, Qingpeng Cai, Lantao Hu, Peng Jiang, Kun Gai, and Fei Sun. 2023.
    </span>
    <span class="ltx_bibblock">
     A Large Language Model Enhanced Conversational Recommender System.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">
      arXiv preprint arXiv:2308.06212
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib5">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Friedman et al
     <span class="ltx_text" id="bib.bib5.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Luke Friedman, Sameer Ahuja, David Allen, Terry Tan, Hakim Sidahmed, Changbo Long, Jun Xie, Gabriel Schubiner, Ajay Patel, Harsh Lara, et al
     <span class="ltx_text" id="bib.bib5.3.1">
      .
     </span>
     2023.
    </span>
    <span class="ltx_bibblock">
     Leveraging Large Language Models in Conversational Recommender Systems.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib5.4.1">
      arXiv preprint arXiv:2305.07961
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib6">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Gao et al
     <span class="ltx_text" id="bib.bib6.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Yunfan Gao, Tao Sheng, Youlin Xiang, Yun Xiong, Haofen Wang, and Jiawei Zhang. 2023.
    </span>
    <span class="ltx_bibblock">
     Chat-rec: Towards interactive and explainable llms-augmented recommender system.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">
      arXiv preprint arXiv:2303.14524
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib7">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Gur et al
     <span class="ltx_text" id="bib.bib7.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Izzeddin Gur, Hiroki Furuta, Austin Huang, Mustafa Safdari, Yutaka Matsuo, Douglas Eck, and Aleksandra Faust. 2023.
    </span>
    <span class="ltx_bibblock">
     A real-world webagent with planning, long context understanding, and program synthesis.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">
      arXiv preprint arXiv:2307.12856
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib8">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Hadi et al
     <span class="ltx_text" id="bib.bib8.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Muhammad Usman Hadi, Rizwan Qureshi, Abbas Shah, Muhammad Irfan, Anas Zafar, Muhammad Bilal Shaikh, Naveed Akhtar, Jia Wu, Seyedali Mirjalili, et al
     <span class="ltx_text" id="bib.bib8.3.1">
      .
     </span>
     2023.
    </span>
    <span class="ltx_bibblock">
     Large language models: a comprehensive survey of its applications, challenges, limitations, and future prospects.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib8.4.1">
      Authorea Preprints
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib9">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Harper and Konstan (2015)
    </span>
    <span class="ltx_bibblock">
     F. Maxwell Harper and Joseph A. Konstan. 2015.
    </span>
    <span class="ltx_bibblock">
     The MovieLens Datasets: History and Context.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">
      ACM Trans. Interact. Intell. Syst.
     </em>
     5, 4, Article 19 (dec 2015), 19 pages.
    </span>
    <span class="ltx_bibblock">
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/2827872" target="_blank" title="">
      https://doi.org/10.1145/2827872
     </a>
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib10">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     He et al
     <span class="ltx_text" id="bib.bib10.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Zhankui He, Zhouhang Xie, Rahul Jha, Harald Steck, Dawen Liang, Yesu Feng, Bodhisattwa Prasad Majumder, Nathan Kallus, and Julian McAuley. 2023.
    </span>
    <span class="ltx_bibblock">
     Large language models as zero-shot conversational recommenders. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">
      Proceedings of the 32nd ACM international conference on information and knowledge management
     </em>
     . 720–730.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib11">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Hong et al
     <span class="ltx_text" id="bib.bib11.2.2.1">
      .
     </span>
     (2023a)
    </span>
    <span class="ltx_bibblock">
     Joey Hong, Sergey Levine, and Anca Dragan. 2023a.
    </span>
    <span class="ltx_bibblock">
     Zero-Shot Goal-Directed Dialogue via RL on Imagined Conversations.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">
      arXiv preprint arXiv:2311.05584
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib12">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Hong et al
     <span class="ltx_text" id="bib.bib12.2.2.1">
      .
     </span>
     (2023b)
    </span>
    <span class="ltx_bibblock">
     Sirui Hong, Xiawu Zheng, Jonathan Chen, Yuheng Cheng, Jinlin Wang, Ceyao Zhang, Zili Wang, Steven Ka Shing Yau, Zijuan Lin, Liyang Zhou, et al
     <span class="ltx_text" id="bib.bib12.3.1">
      .
     </span>
     2023b.
    </span>
    <span class="ltx_bibblock">
     Metagpt: Meta programming for multi-agent collaborative framework.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib12.4.1">
      arXiv preprint arXiv:2308.00352
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib13">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Jannach et al
     <span class="ltx_text" id="bib.bib13.2.2.1">
      .
     </span>
     (2021)
    </span>
    <span class="ltx_bibblock">
     Dietmar Jannach, Ahtsham Manzoor, Wanling Cai, and Li Chen. 2021.
    </span>
    <span class="ltx_bibblock">
     A survey on conversational recommender systems.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">
      ACM Computing Surveys (CSUR)
     </em>
     54, 5 (2021), 1–36.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib14">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Lei et al
     <span class="ltx_text" id="bib.bib14.2.2.1">
      .
     </span>
     (2020)
    </span>
    <span class="ltx_bibblock">
     Wenqiang Lei, Gangyi Zhang, Xiangnan He, Yisong Miao, Xiang Wang, Liang Chen, and Tat-Seng Chua. 2020.
    </span>
    <span class="ltx_bibblock">
     Interactive path reasoning on graph for conversational recommendation. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">
      Proceedings of the 26th ACM SIGKDD international conference on knowledge discovery &amp; data mining
     </em>
     . 2073–2083.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib15">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Lewis et al
     <span class="ltx_text" id="bib.bib15.2.2.1">
      .
     </span>
     (2020)
    </span>
    <span class="ltx_bibblock">
     Mike Lewis, Yinhan Liu, Naman Goyal, Marjan Ghazvininejad, Abdelrahman Mohamed, Omer Levy, Veselin Stoyanov, and Luke Zettlemoyer. 2020.
    </span>
    <span class="ltx_bibblock">
     BART: Denoising Sequence-to-Sequence Pre-training for Natural Language Generation, Translation, and Comprehension. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">
      Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics
     </em>
     . 7871–7880.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib16">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Li et al
     <span class="ltx_text" id="bib.bib16.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Belinda Z Li, Alex Tamkin, Noah Goodman, and Jacob Andreas. 2023.
    </span>
    <span class="ltx_bibblock">
     Eliciting human preferences with language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">
      arXiv preprint arXiv:2310.11589
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib17">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Lin et al
     <span class="ltx_text" id="bib.bib17.2.2.1">
      .
     </span>
     (2022)
    </span>
    <span class="ltx_bibblock">
     Allen Lin, Jianling Wang, Ziwei Zhu, and James Caverlee. 2022.
    </span>
    <span class="ltx_bibblock">
     Quantifying and mitigating popularity bias in conversational recommender systems. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">
      Proceedings of the 31st ACM International Conference on Information &amp; Knowledge Management
     </em>
     . 1238–1247.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib18">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Liu et al
     <span class="ltx_text" id="bib.bib18.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Yuanxing Liu, Wei-Nan Zhang, Yifan Chen, Yuchi Zhang, Haopeng Bai, Fan Feng, Hengbin Cui, Yongbin Li, and Wanxiang Che. 2023.
    </span>
    <span class="ltx_bibblock">
     Conversational Recommender System and Large Language Model Are Made for Each Other in E-commerce Pre-sales Dialogue.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">
      arXiv preprint arXiv:2310.14626
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib19">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Mandi et al
     <span class="ltx_text" id="bib.bib19.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Zhao Mandi, Shreeya Jain, and Shuran Song. 2023.
    </span>
    <span class="ltx_bibblock">
     Roco: Dialectic multi-robot collaboration with large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">
      arXiv preprint arXiv:2307.04738
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib20">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Min et al
     <span class="ltx_text" id="bib.bib20.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Bonan Min, Hayley Ross, Elior Sulem, Amir Pouran Ben Veyseh, Thien Huu Nguyen, Oscar Sainz, Eneko Agirre, Ilana Heintz, and Dan Roth. 2023.
    </span>
    <span class="ltx_bibblock">
     Recent advances in natural language processing via large pre-trained language models: A survey.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">
      Comput. Surveys
     </em>
     56, 2 (2023), 1–40.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib21">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Park et al
     <span class="ltx_text" id="bib.bib21.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Joon Sung Park, Joseph O’Brien, Carrie Jun Cai, Meredith Ringel Morris, Percy Liang, and Michael S Bernstein. 2023.
    </span>
    <span class="ltx_bibblock">
     Generative agents: Interactive simulacra of human behavior. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">
      Proceedings of the 36th Annual ACM Symposium on User Interface Software and Technology
     </em>
     . 1–22.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib22">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Qian et al
     <span class="ltx_text" id="bib.bib22.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Chen Qian, Xin Cong, Cheng Yang, Weize Chen, Yusheng Su, Juyuan Xu, Zhiyuan Liu, and Maosong Sun. 2023.
    </span>
    <span class="ltx_bibblock">
     Communicative agents for software development.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">
      arXiv preprint arXiv:2307.07924
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib23">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Qiao et al
     <span class="ltx_text" id="bib.bib23.2.2.1">
      .
     </span>
     (2024)
    </span>
    <span class="ltx_bibblock">
     Shuofei Qiao, Ningyu Zhang, Runnan Fang, Yujie Luo, Wangchunshu Zhou, Yuchen Eleanor Jiang, Chengfei Lv, and Huajun Chen. 2024.
    </span>
    <span class="ltx_bibblock">
     AUTOACT: Automatic Agent Learning from Scratch via Self-Planning.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib23.3.1">
      arXiv preprint arXiv:2401.05268
     </em>
     (2024).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib24">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Ren et al
     <span class="ltx_text" id="bib.bib24.2.2.1">
      .
     </span>
     (2021)
    </span>
    <span class="ltx_bibblock">
     Xuhui Ren, Hongzhi Yin, Tong Chen, Hao Wang, Zi Huang, and Kai Zheng. 2021.
    </span>
    <span class="ltx_bibblock">
     Learning to ask appropriate questions in conversational recommendation. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">
      Proceedings of the 44th international ACM SIGIR conference on research and development in information retrieval
     </em>
     . 808–817.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib25">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Ren et al
     <span class="ltx_text" id="bib.bib25.2.2.1">
      .
     </span>
     (2022)
    </span>
    <span class="ltx_bibblock">
     Zhaochun Ren, Zhi Tian, Dongdong Li, Pengjie Ren, Liu Yang, Xin Xin, Huasheng Liang, Maarten de Rijke, and Zhumin Chen. 2022.
    </span>
    <span class="ltx_bibblock">
     Variational Reasoning about User Preferences for Conversational Recommendation. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib25.3.1">
      Proceedings of the 45th International ACM SIGIR Conference on Research and Development in Information Retrieval
     </em>
     . 165–175.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib26">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Schick et al
     <span class="ltx_text" id="bib.bib26.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Timo Schick, Jane Dwivedi-Yu, Roberto Dessì, Roberta Raileanu, Maria Lomeli, Luke Zettlemoyer, Nicola Cancedda, and Thomas Scialom. 2023.
    </span>
    <span class="ltx_bibblock">
     Toolformer: Language models can teach themselves to use tools.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">
      arXiv preprint arXiv:2302.04761
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib27">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Touvron et al
     <span class="ltx_text" id="bib.bib27.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al
     <span class="ltx_text" id="bib.bib27.3.1">
      .
     </span>
     2023.
    </span>
    <span class="ltx_bibblock">
     Llama 2: Open foundation and fine-tuned chat models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib27.4.1">
      arXiv preprint arXiv:2307.09288
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib28">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wang et al
     <span class="ltx_text" id="bib.bib28.2.2.1">
      .
     </span>
     (2023a)
    </span>
    <span class="ltx_bibblock">
     Lei Wang, Chen Ma, Xueyang Feng, Zeyu Zhang, Hao Yang, Jingsen Zhang, Zhiyuan Chen, Jiakai Tang, Xu Chen, Yankai Lin, et al
     <span class="ltx_text" id="bib.bib28.3.1">
      .
     </span>
     2023a.
    </span>
    <span class="ltx_bibblock">
     A survey on large language model based autonomous agents.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib28.4.1">
      arXiv preprint arXiv:2308.11432
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib29">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wang et al
     <span class="ltx_text" id="bib.bib29.2.2.1">
      .
     </span>
     (2022a)
    </span>
    <span class="ltx_bibblock">
     Ting-Chun Wang, Shang-Yu Su, and Yun-Nung Chen. 2022a.
    </span>
    <span class="ltx_bibblock">
     BARCOR: Towards A Unified Framework for Conversational Recommendation Systems.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">
      arXiv preprint arXiv:2203.14257
     </em>
     (2022).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib30">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wang et al
     <span class="ltx_text" id="bib.bib30.2.2.1">
      .
     </span>
     (2023b)
    </span>
    <span class="ltx_bibblock">
     Xiaolei Wang, Xinyu Tang, Wayne Xin Zhao, Jingyuan Wang, and Ji-Rong Wen. 2023b.
    </span>
    <span class="ltx_bibblock">
     Rethinking the Evaluation for Conversational Recommendation in the Era of Large Language Models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">
      arXiv preprint arXiv:2305.13112
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib31">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wang et al
     <span class="ltx_text" id="bib.bib31.2.2.1">
      .
     </span>
     (2022b)
    </span>
    <span class="ltx_bibblock">
     Xiaolei Wang, Kun Zhou, Ji-Rong Wen, and Wayne Xin Zhao. 2022b.
    </span>
    <span class="ltx_bibblock">
     Towards unified conversational recommender systems via knowledge-enhanced prompt learning. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib31.3.1">
      Proceedings of the 28th ACM SIGKDD Conference on Knowledge Discovery and Data Mining
     </em>
     . 1929–1937.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib32">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wei et al
     <span class="ltx_text" id="bib.bib32.2.2.1">
      .
     </span>
     (2021)
    </span>
    <span class="ltx_bibblock">
     Tianxin Wei, Fuli Feng, Jiawei Chen, Ziwei Wu, Jinfeng Yi, and Xiangnan He. 2021.
    </span>
    <span class="ltx_bibblock">
     Model-agnostic counterfactual reasoning for eliminating popularity bias in recommender system. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">
      Proceedings of the 27th ACM SIGKDD Conference on Knowledge Discovery &amp; Data Mining
     </em>
     . 1791–1800.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib33">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Xi et al
     <span class="ltx_text" id="bib.bib33.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Zhiheng Xi, Wenxiang Chen, Xin Guo, Wei He, Yiwen Ding, Boyang Hong, Ming Zhang, Junzhe Wang, Senjie Jin, Enyu Zhou, et al
     <span class="ltx_text" id="bib.bib33.3.1">
      .
     </span>
     2023.
    </span>
    <span class="ltx_bibblock">
     The rise and potential of large language model based agents: A survey.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib33.4.1">
      arXiv preprint arXiv:2309.07864
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib34">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Xu et al
     <span class="ltx_text" id="bib.bib34.2.2.1">
      .
     </span>
     (2021)
    </span>
    <span class="ltx_bibblock">
     Kerui Xu, Jingxuan Yang, Jun Xu, Sheng Gao, Jun Guo, and Ji-Rong Wen. 2021.
    </span>
    <span class="ltx_bibblock">
     Adapting user preference to online feedback in multi-round conversational recommendation. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib34.3.1">
      Proceedings of the 14th ACM international conference on web search and data mining
     </em>
     . 364–372.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib35">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhang et al
     <span class="ltx_text" id="bib.bib35.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Xiaoyu Zhang, Xin Xin, Dongdong Li, Wenxuan Liu, Pengjie Ren, Zhumin Chen, Jun Ma, and Zhaochun Ren. 2023.
    </span>
    <span class="ltx_bibblock">
     Variational Reasoning over Incomplete Knowledge Graphs for Conversational Recommendation. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib35.3.1">
      Proceedings of the Sixteenth ACM International Conference on Web Search and Data Mining
     </em>
     . 231–239.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib36">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhao et al
     <span class="ltx_text" id="bib.bib36.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Wayne Xin Zhao, Kun Zhou, Junyi Li, Tianyi Tang, Xiaolei Wang, Yupeng Hou, Yingqian Min, Beichen Zhang, Junjie Zhang, Zican Dong, et al
     <span class="ltx_text" id="bib.bib36.3.1">
      .
     </span>
     2023.
    </span>
    <span class="ltx_bibblock">
     A survey of large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib36.4.1">
      arXiv preprint arXiv:2303.18223
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib37">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhou et al
     <span class="ltx_text" id="bib.bib37.2.2.1">
      .
     </span>
     (2020a)
    </span>
    <span class="ltx_bibblock">
     Kun Zhou, Wayne Xin Zhao, Shuqing Bian, Yuanhang Zhou, Ji-Rong Wen, and Jingsong Yu. 2020a.
    </span>
    <span class="ltx_bibblock">
     Improving conversational recommender systems via knowledge graph based semantic fusion. In
     <em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">
      Proceedings of the 26th ACM SIGKDD international conference on knowledge discovery &amp; data mining
     </em>
     . 1006–1014.
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib38">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhou et al
     <span class="ltx_text" id="bib.bib38.2.2.1">
      .
     </span>
     (2020b)
    </span>
    <span class="ltx_bibblock">
     Kun Zhou, Yuanhang Zhou, Wayne Xin Zhao, Xiaoke Wang, and Ji-Rong Wen. 2020b.
    </span>
    <span class="ltx_bibblock">
     Towards topic-guided conversational recommender system.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib38.3.1">
      arXiv preprint arXiv:2010.04125
     </em>
     (2020).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib39">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zhou et al
     <span class="ltx_text" id="bib.bib39.2.2.1">
      .
     </span>
     (2023)
    </span>
    <span class="ltx_bibblock">
     Wangchunshu Zhou, Yuchen Eleanor Jiang, Long Li, Jialong Wu, Tiannan Wang, Shi Qiu, Jintian Zhang, Jing Chen, Ruipu Wu, Shuai Wang, et al
     <span class="ltx_text" id="bib.bib39.3.1">
      .
     </span>
     2023.
    </span>
    <span class="ltx_bibblock">
     Agents: An open-source framework for autonomous language agents.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib39.4.1">
      arXiv preprint arXiv:2309.07870
     </em>
     (2023).
    </span>
    <span class="ltx_bibblock">
    </span>
   </li>
  </ul>
 </section>
 <div class="ltx_pagination ltx_role_newpage">
 </div>
</article>
