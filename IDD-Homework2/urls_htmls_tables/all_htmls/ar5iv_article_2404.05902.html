<article class="ltx_document ltx_authors_1line">
 <h1 class="ltx_title ltx_title_document">
  <span class="ltx_text ltx_font_smallcaps" id="id1.id1">
   Wilbur
  </span>
  : Adaptive In-Context Learning for Robust
  <br class="ltx_break"/>
  and Accurate Web Agents
 </h1>
 <div class="ltx_authors">
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Michael Lutz, Arth Bohra
    <br class="ltx_break"/>
    Department of Eletrical Engineering and Computer Science
    <br class="ltx_break"/>
    University of California Berkeley
    <br class="ltx_break"/>
    Berkeley, CA, USA
    <br class="ltx_break"/>
    <span class="ltx_text ltx_font_typewriter" id="id2.1.id1">
     {michaeljlutz,arthbohra}@berkeley.edu
    </span>
    <br class="ltx_break"/>
    &amp;Manvel Saroyan, Artem Harutyunyan, Giovanni Campagna
    <br class="ltx_break"/>
    Bardeen, Inc.
    <br class="ltx_break"/>
    San Francisco, CA, USA
    <br class="ltx_break"/>
    <span class="ltx_text ltx_font_typewriter" id="id3.2.id2">
     {manvel,artem,giovanni}@bardeen.ai
    </span>
   </span>
   <span class="ltx_author_notes">
    Equal contribution. Work done while at Bardeen.
   </span>
  </span>
 </div>
 <div class="ltx_abstract">
  <h6 class="ltx_title ltx_title_abstract">
   Abstract
  </h6>
  <p class="ltx_p" id="id4.id1">
   In the realm of web agent research, achieving both generalization and accuracy remains a challenging problem. Due to high variance in website structure, existing approaches often fail. Moreover, existing fine-tuning and in-context learning techniques fail to generalize across multiple websites. We introduce
   <span class="ltx_text ltx_font_smallcaps" id="id4.id1.1">
    Wilbur
   </span>
   , an approach that uses a differentiable ranking model and a novel instruction synthesis technique to optimally populate a black-box large language model’s prompt with task demonstrations from previous runs. To maximize end-to-end success rates, we also propose an intelligent backtracking mechanism that learns and recovers from its mistakes. Finally, we show that our ranking model can be trained on data from a generative auto-curriculum which samples representative goals from an LLM, runs the agent, and automatically evaluates it, with no manual annotation.
   <span class="ltx_text ltx_font_smallcaps" id="id4.id1.2">
    Wilbur
   </span>
   achieves state-of-the-art results on the WebVoyager benchmark, beating text-only models by 8% overall, and up to 36% on certain websites. On the same benchmark,
   <span class="ltx_text ltx_font_smallcaps" id="id4.id1.3">
    Wilbur
   </span>
   is within 5% of a strong multi-modal model despite only receiving textual inputs, and further analysis reveals a substantial number of failures are due to engineering challenges of operating the web.
  </p>
 </div>
 <section class="ltx_section" id="S1">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    1
   </span>
   Introduction
  </h2>
  <div class="ltx_para ltx_noindent" id="S1.p1">
   <p class="ltx_p" id="S1.p1.1">
    The rise of large language models has led to various attempts at creating intelligent agents that interact with the web through a browser, also known as
    <span class="ltx_text ltx_font_italic" id="S1.p1.1.1">
     web agents
    </span>
    <cite class="ltx_cite ltx_citemacro_citep">
     (Gur et al.,
     <a class="ltx_ref" href="#bib.bib7" title="">
      2022
     </a>
     ; Kagaya et al.,
     <a class="ltx_ref" href="#bib.bib12" title="">
      2024
     </a>
     ; Kim et al.,
     <a class="ltx_ref" href="#bib.bib13" title="">
      2024
     </a>
     )
    </cite>
    . By encoding the Document Object Model (DOM) and optionally a screenshot of the page in a multimodal fashion, state-of-the-art web agents have obtained noteworthy success rates on various tasks on the web
    <cite class="ltx_cite ltx_citemacro_citep">
     (He et al.,
     <a class="ltx_ref" href="#bib.bib10" title="">
      2024
     </a>
     ; Zheng et al.,
     <a class="ltx_ref" href="#bib.bib27" title="">
      2024
     </a>
     )
    </cite>
    . Yet, the success rate of even the best web agents is a far cry from that of experienced people familiar with the websites and tasks at hand.
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="S1.p2">
   <p class="ltx_p" id="S1.p2.1">
    We hypothesize that the disparity in success rate is not only due to the reasoning limitations of the underlying LLM, but also due to the need to learn how specific websites works. Even for a person, it is not enough to know how to operate the web: instead, faced with a never-seen-before website, one needs to explore, try different approaches, and adjust. Only after succeeding at the task once (or a few times), one can perform the task without hitting dead ends or clicking the wrong link. At the same time, there are more than a billion websites in the world
    <cite class="ltx_cite ltx_citemacro_citep">
     (Haan,
     <a class="ltx_ref" href="#bib.bib9" title="">
      2023
     </a>
     )
    </cite>
    . It is implausible that any LLM can memorize all of them just from pretraining, thus any zero-shot approach is likely to fail
    <cite class="ltx_cite ltx_citemacro_citep">
     (Kim et al.,
     <a class="ltx_ref" href="#bib.bib13" title="">
      2024
     </a>
     )
    </cite>
    .
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="S1.p3">
   <p class="ltx_p" id="S1.p3.1">
    To address this challenge and improve the generality of web agents, we propose
    <span class="ltx_text ltx_font_smallcaps" id="S1.p3.1.1">
     Wilbur
    </span>
    , an agent with two novel capabilities (Fig.
    <a class="ltx_ref" href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Wilbur: Adaptive In-Context Learning for Robust and Accurate Web Agents">
     <span class="ltx_text ltx_ref_tag">
      1
     </span>
    </a>
    ):
   </p>
   <ul class="ltx_itemize" id="S1.I1">
    <li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S1.I1.i1.p1">
      <p class="ltx_p" id="S1.I1.i1.p1.1">
       <span class="ltx_text ltx_font_italic" id="S1.I1.i1.p1.1.1">
        explore, reflect, and backtrack
       </span>
       : faced with a novel website,
       <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i1.p1.1.2">
        Wilbur
       </span>
       proceeds by executing an action sampled from an LLM. After observing the new page state, it queries a reflection LM to verify that the action contributed progress toward the goal. If verification fails,
       <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i1.p1.1.3">
        Wilbur
       </span>
       dynamically
       <span class="ltx_text ltx_font_italic" id="S1.I1.i1.p1.1.4">
        backtracks
       </span>
       to a previous successful state, while storing the failure in the model’s context for all future steps.
      </p>
     </div>
    </li>
    <li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para ltx_noindent" id="S1.I1.i2.p1">
      <p class="ltx_p" id="S1.I1.i2.p1.1">
       <span class="ltx_text ltx_font_italic" id="S1.I1.i2.p1.1.1">
        retrieve demonstrations from a scalable knowledge bank
       </span>
       : We include both
       <span class="ltx_text ltx_font_italic" id="S1.I1.i2.p1.1.2">
        goal-conditioned
       </span>
       demonstrations, which teach
       <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i2.p1.1.3">
        Wilbur
       </span>
       how to perform a similar task on a potentially unseen website, and
       <span class="ltx_text ltx_font_italic" id="S1.I1.i2.p1.1.4">
        website-conditioned
       </span>
       demonstrations, which teach
       <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i2.p1.1.5">
        Wilbur
       </span>
       how to act on a similar web page, regardless of the overall task. These two sources of knowledge are complementary and help
       <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i2.p1.1.6">
        Wilbur
       </span>
       generalize.
      </p>
     </div>
    </li>
   </ul>
  </div>
  <figure class="ltx_figure" id="S1.F1">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="195" id="S1.F1.g1" src="/html/2404.05902/assets/x1.png" width="461"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 1:
    </span>
    The
    <span class="ltx_text ltx_font_smallcaps" id="S1.F1.2.1">
     Wilbur
    </span>
    Agent, which utilizes retrieval, synthesis, action, and verification steps to accomplish tasks on the web.
   </figcaption>
  </figure>
  <div class="ltx_para ltx_noindent" id="S1.p4">
   <p class="ltx_p" id="S1.p4.1">
    As the limited LLM context window can only fit a small number of demonstrations, we train a dedicated
    <span class="ltx_text ltx_font_italic" id="S1.p4.1.1">
     demonstration ranking model
    </span>
    to select the most helpful ones. This model is trained to predict whether the actions will lead to a successful execution or not and optimally populates a model’s context. Additionally, following
    <cite class="ltx_cite ltx_citemacro_citet">
     Bohra et al. (
     <a class="ltx_ref" href="#bib.bib1" title="">
      2023
     </a>
     )
    </cite>
    , we propose to summarize a large sample of successful and unsuccessful actions into concise instructions. This combination of explicit examples and summarized instructions allows the model to see a few details while also gather insight from many runs, including unsuccessful ones.
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="S1.p5">
   <p class="ltx_p" id="S1.p5.1">
    Finally, in order to quickly acquire knowledge of new websites and new tasks, we propose an autocurriculum which generates plausible goals to populate demonstration banks
    <cite class="ltx_cite ltx_citemacro_citep">
     (Clark et al.,
     <a class="ltx_ref" href="#bib.bib3" title="">
      2003
     </a>
     ; McClosky et al.,
     <a class="ltx_ref" href="#bib.bib17" title="">
      2006
     </a>
     ; Wang et al.,
     <a class="ltx_ref" href="#bib.bib23" title="">
      2023
     </a>
     )
    </cite>
    . Applying an LLM-based automatic scoring step to evaluate an agent’s execution, our approach quickly populates a dataset of trajectories, both successful and unsuccessful. These executions can be fed back into the agent in the future, through task demonstrations and instruction synthesis, to further improve success rate.
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="S1.p6">
   <p class="ltx_p" id="S1.p6.1">
    To evaluate our approach, we have
    <span class="ltx_text ltx_font_smallcaps" id="S1.p6.1.1">
     Wilbur
    </span>
    on the WebVoyager
    <cite class="ltx_cite ltx_citemacro_citep">
     (He et al.,
     <a class="ltx_ref" href="#bib.bib10" title="">
      2024
     </a>
     )
    </cite>
    benchmark, where we achieve a new text-only state-of-the-art result of 53%, 8% higher than the previous state of the art, and within 5% of a strong multimodal model. Compared to a strong baseline with retrying but no backtracking, using backtracking and loop detection improves by 6%. Furthermore, our approach of adaptive in-context-learning and autocurriculum leads to an additional 12% improvement, without any annotated data, which strongly shows the importance of learning the websites where the agent is applied.
   </p>
  </div>
  <section class="ltx_subsection" id="S1.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     1.1
    </span>
    Contributions
   </h3>
   <div class="ltx_para ltx_noindent" id="S1.SS1.p1">
    <p class="ltx_p" id="S1.SS1.p1.1">
     The contributions of this paper are as follows:
    </p>
    <ul class="ltx_itemize" id="S1.I2">
     <li class="ltx_item" id="S1.I2.i1" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para ltx_noindent" id="S1.I2.i1.p1">
       <p class="ltx_p" id="S1.I2.i1.p1.1">
        We propose the first web agent that is able to recover from delayed mistakes, by modeling the web agent task as graph exploration over the web and adding the ability to navigate back to a previous state in the graph.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S1.I2.i2" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para ltx_noindent" id="S1.I2.i2.p1">
       <p class="ltx_p" id="S1.I2.i2.p1.1">
        To reduce the number of backtracks and improve accuracy, we propose learning in-context from previous executions of the agent, querying on similar pages and goals. These executions are both selected as task demonstrations using a novel trained model, and summarized into succinct instructions, allowing a large number of executions to be used while limiting the prompt size.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S1.I2.i3" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para ltx_noindent" id="S1.I2.i3.p1">
       <p class="ltx_p" id="S1.I2.i3.p1.1">
        To bootstrap the agent on new websites and task, we are the first to apply an autocurriculum strategy with an LLM scoring step to the web agent task, allowing us to obtain high quality training data without human feedback.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S1.I2.i4" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para ltx_noindent" id="S1.I2.i4.p1">
       <p class="ltx_p" id="S1.I2.i4.p1.1">
        We evaluated our approach end-to-end on the WebVoyager benchmark, and we find our agent outperforms the zero-shot baseline by 18%, and the text-only state of the art by 8%.
       </p>
      </div>
     </li>
    </ul>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S2">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    2
   </span>
   Related Work
  </h2>
  <section class="ltx_paragraph" id="S2.SS0.SSS0.Px1">
   <h4 class="ltx_title ltx_title_paragraph">
    Web Agents
   </h4>
   <div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px1.p1">
    <p class="ltx_p" id="S2.SS0.SSS0.Px1.p1.1">
     The field of web agents has recently seen an increase in research interest, due to the general availability of powerful LLMs. These agents are tested on a variety of benchmarks, some highly specialized
     <cite class="ltx_cite ltx_citemacro_citep">
      (Yao et al.,
      <a class="ltx_ref" href="#bib.bib25" title="">
       2022a
      </a>
      )
     </cite>
     and others with general goals on a diverse set of websites
     <cite class="ltx_cite ltx_citemacro_citep">
      (Shi et al.,
      <a class="ltx_ref" href="#bib.bib20" title="">
       2017
      </a>
      ; Liu et al.,
      <a class="ltx_ref" href="#bib.bib15" title="">
       2018
      </a>
      ; He et al.,
      <a class="ltx_ref" href="#bib.bib10" title="">
       2024
      </a>
      ; Deng et al.,
      <a class="ltx_ref" href="#bib.bib4" title="">
       2023
      </a>
      )
     </cite>
     .
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px1.p2">
    <p class="ltx_p" id="S2.SS0.SSS0.Px1.p2.1">
     Common state of the art approaches for web agents include splitting the agent’s work amongst an actor, a retriever, a planner, and a verifier or critique step
     <cite class="ltx_cite ltx_citemacro_citep">
      (Gur et al.,
      <a class="ltx_ref" href="#bib.bib7" title="">
       2022
      </a>
      ; Kagaya et al.,
      <a class="ltx_ref" href="#bib.bib12" title="">
       2024
      </a>
      ; He et al.,
      <a class="ltx_ref" href="#bib.bib10" title="">
       2024
      </a>
      )
     </cite>
     . Previous work also proposed using a code-generation step, with LLM feedback to critique the generated code
     <cite class="ltx_cite ltx_citemacro_citep">
      (Gur et al.,
      <a class="ltx_ref" href="#bib.bib8" title="">
       2023
      </a>
      ; Sun et al.,
      <a class="ltx_ref" href="#bib.bib22" title="">
       2024
      </a>
      )
     </cite>
     . Critically, these works only include the ability to retry failures, and do not backtrack to previous steps, so they cannot recover mistakes that are not immediately apparent.
     <cite class="ltx_cite ltx_citemacro_citet">
      Ma et al. (
      <a class="ltx_ref" href="#bib.bib16" title="">
       2023
      </a>
      )
     </cite>
     recognized the need for backtracking, but used a fixed state-space specific for the WebShop benchmark, instead of operating directly on the agent’s trajectory on the web.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px1.p3">
    <p class="ltx_p" id="S2.SS0.SSS0.Px1.p3.1">
     Due to context window limitations, many previous works did not use few-shot task demonstrations, preferring zero-shot prompting techniques such as ReAct
     <cite class="ltx_cite ltx_citemacro_citep">
      (Yao et al.,
      <a class="ltx_ref" href="#bib.bib26" title="">
       2022b
      </a>
      )
     </cite>
     or fine-tuning dedicated models
     <cite class="ltx_cite ltx_citemacro_citep">
      (Furuta et al.,
      <a class="ltx_ref" href="#bib.bib5" title="">
       2023
      </a>
      ; Xu et al.,
      <a class="ltx_ref" href="#bib.bib24" title="">
       2021
      </a>
      )
     </cite>
     .
     <cite class="ltx_cite ltx_citemacro_citet">
      Sridhar et al. (
      <a class="ltx_ref" href="#bib.bib21" title="">
       2023
      </a>
      )
     </cite>
     and
     <cite class="ltx_cite ltx_citemacro_citet">
      Deng et al. (
      <a class="ltx_ref" href="#bib.bib4" title="">
       2023
      </a>
      )
     </cite>
     proposed summarizing the current web page to reduce the prompt size, but did not include previous demonstrations in the summary.
     <cite class="ltx_cite ltx_citemacro_cite">
      Kim et al. (
      <a class="ltx_ref" href="#bib.bib13" title="">
       2024
      </a>
      )
     </cite>
     included task demonstrations in the LLM prompt, but only used few positive experiences related to the specific subtask.
     <span class="ltx_text ltx_font_smallcaps" id="S2.SS0.SSS0.Px1.p3.1.1">
      Wilbur
     </span>
     is the first agent to summarize positive and negative task demonstrations, and separate both website-conditioned and goal-conditioned examples.
    </p>
   </div>
  </section>
  <section class="ltx_paragraph" id="S2.SS0.SSS0.Px2">
   <h4 class="ltx_title ltx_title_paragraph">
    In-Context and Few-shot Learning
   </h4>
   <div class="ltx_para ltx_noindent" id="S2.SS0.SSS0.Px2.p1">
    <p class="ltx_p" id="S2.SS0.SSS0.Px2.p1.1">
     Beyond web agents, in-context learning, also known as few-shot learning, has been applied to a number of tasks
     <cite class="ltx_cite ltx_citemacro_citep">
      (Brown et al.,
      <a class="ltx_ref" href="#bib.bib2" title="">
       2020
      </a>
      ; Gao et al.,
      <a class="ltx_ref" href="#bib.bib6" title="">
       2021
      </a>
      ; Hendrycks et al.,
      <a class="ltx_ref" href="#bib.bib11" title="">
       2021
      </a>
      ; Min et al.,
      <a class="ltx_ref" href="#bib.bib18" title="">
       2022
      </a>
      )
     </cite>
     . In ICL, demonstrations taken from a training set are included as examples in the to the prompt of an LLM, optionally with explanations
     <cite class="ltx_cite ltx_citemacro_citep">
      (Lampinen et al.,
      <a class="ltx_ref" href="#bib.bib14" title="">
       2022
      </a>
      )
     </cite>
     . Raw task demonstrations are limited by the size of the context window.
Previous work by
     <cite class="ltx_cite ltx_citemacro_citet">
      Bohra et al. (
      <a class="ltx_ref" href="#bib.bib1" title="">
       2023
      </a>
      )
     </cite>
     proposed summarizing training examples into succinct instructions. They only evaluated on classification, and did not use negative examples. Additionally, existing approaches either use a fixed set of few-shot training examples, or naively include the closest examples by embedding similarity. We propose instead to use a dedicated model to predict the suitability of each specific example.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S3">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    3
   </span>
   The
   <span class="ltx_text ltx_font_smallcaps" id="S3.1.1">
    Wilbur
   </span>
   Agent
  </h2>
  <section class="ltx_subsection" id="S3.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.1
    </span>
    Problem Statement
   </h3>
   <div class="ltx_para ltx_noindent" id="S3.SS1.p1">
    <p class="ltx_p" id="S3.SS1.p1.2">
     The web agent challenge can be modeled under a Partially Observable Markov Decision Process (POMDP). The agent receives a natural language goal
     <math alttext="g" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1">
      <semantics id="S3.SS1.p1.1.m1.1a">
       <mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">
        g
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b">
        <ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">
         𝑔
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">
        g
       </annotation>
      </semantics>
     </math>
     which requires a multi-step execution where each action
     <math alttext="a\in\mathcal{A}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1">
      <semantics id="S3.SS1.p1.2.m2.1a">
       <mrow id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">
        <mi id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">
         a
        </mi>
        <mo id="S3.SS1.p1.2.m2.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.cmml">
         ∈
        </mo>
        <mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml">
         𝒜
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b">
        <apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">
         <in id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1">
         </in>
         <ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">
          𝑎
         </ci>
         <ci id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3">
          𝒜
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">
        a\in\mathcal{A}
       </annotation>
      </semantics>
     </math>
     modifies the web page (clicking, typing, etc.) and/or extracts textual information for the user.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S3.SS1.p2">
    <p class="ltx_p" id="S3.SS1.p2.3">
     The agent’s state space
     <math alttext="\mathcal{S}" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1">
      <semantics id="S3.SS1.p2.1.m1.1a">
       <mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">
        𝒮
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b">
        <ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">
         𝒮
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">
        \mathcal{S}
       </annotation>
      </semantics>
     </math>
     represents a combination of previously extracted text and the website environment’s true state, itself comprised of current DOM, network requests, state of the website’s backend, etc. Because the backend is not accessible to a web agent, the agent’s observation space
     <math alttext="\mathcal{O}" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1">
      <semantics id="S3.SS1.p2.2.m2.1a">
       <mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">
        𝒪
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b">
        <ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">
         𝒪
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">
        \mathcal{O}
       </annotation>
      </semantics>
     </math>
     is limited to all visible DOM elements as well as the text extracted by the agent so far. Specifically, we treat
     <math alttext="o\in\mathcal{O}" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1">
      <semantics id="S3.SS1.p2.3.m3.1a">
       <mrow id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">
        <mi id="S3.SS1.p2.3.m3.1.1.2" xref="S3.SS1.p2.3.m3.1.1.2.cmml">
         o
        </mi>
        <mo id="S3.SS1.p2.3.m3.1.1.1" xref="S3.SS1.p2.3.m3.1.1.1.cmml">
         ∈
        </mo>
        <mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.3.m3.1.1.3" xref="S3.SS1.p2.3.m3.1.1.3.cmml">
         𝒪
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b">
        <apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">
         <in id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1.1">
         </in>
         <ci id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2">
          𝑜
         </ci>
         <ci id="S3.SS1.p2.3.m3.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.3">
          𝒪
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">
        o\in\mathcal{O}
       </annotation>
      </semantics>
     </math>
     as follows:
    </p>
    <table class="ltx_equation ltx_eqn_table" id="S3.Ex1">
     <tbody>
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_eqn_cell ltx_align_center">
        <math alttext="o=(\text{URL},\text{DOM},\ \text{Extracted Text})" class="ltx_Math" display="block" id="S3.Ex1.m1.3">
         <semantics id="S3.Ex1.m1.3a">
          <mrow id="S3.Ex1.m1.3.4" xref="S3.Ex1.m1.3.4.cmml">
           <mi id="S3.Ex1.m1.3.4.2" xref="S3.Ex1.m1.3.4.2.cmml">
            o
           </mi>
           <mo id="S3.Ex1.m1.3.4.1" xref="S3.Ex1.m1.3.4.1.cmml">
            =
           </mo>
           <mrow id="S3.Ex1.m1.3.4.3.2" xref="S3.Ex1.m1.3.4.3.1.cmml">
            <mo id="S3.Ex1.m1.3.4.3.2.1" stretchy="false" xref="S3.Ex1.m1.3.4.3.1.cmml">
             (
            </mo>
            <mtext id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1a.cmml">
             URL
            </mtext>
            <mo id="S3.Ex1.m1.3.4.3.2.2" xref="S3.Ex1.m1.3.4.3.1.cmml">
             ,
            </mo>
            <mtext id="S3.Ex1.m1.2.2" xref="S3.Ex1.m1.2.2a.cmml">
             DOM
            </mtext>
            <mo id="S3.Ex1.m1.3.4.3.2.3" rspace="0.667em" xref="S3.Ex1.m1.3.4.3.1.cmml">
             ,
            </mo>
            <mtext id="S3.Ex1.m1.3.3" xref="S3.Ex1.m1.3.3a.cmml">
             Extracted Text
            </mtext>
            <mo id="S3.Ex1.m1.3.4.3.2.4" stretchy="false" xref="S3.Ex1.m1.3.4.3.1.cmml">
             )
            </mo>
           </mrow>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.3b">
           <apply id="S3.Ex1.m1.3.4.cmml" xref="S3.Ex1.m1.3.4">
            <eq id="S3.Ex1.m1.3.4.1.cmml" xref="S3.Ex1.m1.3.4.1">
            </eq>
            <ci id="S3.Ex1.m1.3.4.2.cmml" xref="S3.Ex1.m1.3.4.2">
             𝑜
            </ci>
            <vector id="S3.Ex1.m1.3.4.3.1.cmml" xref="S3.Ex1.m1.3.4.3.2">
             <ci id="S3.Ex1.m1.1.1a.cmml" xref="S3.Ex1.m1.1.1">
              <mtext id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1">
               URL
              </mtext>
             </ci>
             <ci id="S3.Ex1.m1.2.2a.cmml" xref="S3.Ex1.m1.2.2">
              <mtext id="S3.Ex1.m1.2.2.cmml" xref="S3.Ex1.m1.2.2">
               DOM
              </mtext>
             </ci>
             <ci id="S3.Ex1.m1.3.3a.cmml" xref="S3.Ex1.m1.3.3">
              <mtext id="S3.Ex1.m1.3.3.cmml" xref="S3.Ex1.m1.3.3">
               Extracted Text
              </mtext>
             </ci>
            </vector>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.Ex1.m1.3c">
           o=(\text{URL},\text{DOM},\ \text{Extracted Text})
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
      </tr>
     </tbody>
    </table>
   </div>
   <div class="ltx_para ltx_noindent" id="S3.SS1.p3">
    <p class="ltx_p" id="S3.SS1.p3.1">
     In
     <math alttext="o" class="ltx_Math" display="inline" id="S3.SS1.p3.1.m1.1">
      <semantics id="S3.SS1.p3.1.m1.1a">
       <mi id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml">
        o
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b">
        <ci id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">
         𝑜
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">
        o
       </annotation>
      </semantics>
     </math>
     , the DOM is formatted as text. The specific format is described in Appendix
     <a class="ltx_ref" href="#A1" title="Appendix A DOM Formatting ‣ Wilbur: Adaptive In-Context Learning for Robust and Accurate Web Agents">
      <span class="ltx_text ltx_ref_tag">
       A
      </span>
     </a>
     .
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S3.SS1.p4">
    <p class="ltx_p" id="S3.SS1.p4.3">
     Provided the current
     <math alttext="o_{t}" class="ltx_Math" display="inline" id="S3.SS1.p4.1.m1.1">
      <semantics id="S3.SS1.p4.1.m1.1a">
       <msub id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml">
        <mi id="S3.SS1.p4.1.m1.1.1.2" xref="S3.SS1.p4.1.m1.1.1.2.cmml">
         o
        </mi>
        <mi id="S3.SS1.p4.1.m1.1.1.3" xref="S3.SS1.p4.1.m1.1.1.3.cmml">
         t
        </mi>
       </msub>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b">
        <apply id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">
         <csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">
          subscript
         </csymbol>
         <ci id="S3.SS1.p4.1.m1.1.1.2.cmml" xref="S3.SS1.p4.1.m1.1.1.2">
          𝑜
         </ci>
         <ci id="S3.SS1.p4.1.m1.1.1.3.cmml" xref="S3.SS1.p4.1.m1.1.1.3">
          𝑡
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">
        o_{t}
       </annotation>
      </semantics>
     </math>
     and the goal
     <math alttext="g" class="ltx_Math" display="inline" id="S3.SS1.p4.2.m2.1">
      <semantics id="S3.SS1.p4.2.m2.1a">
       <mi id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml">
        g
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.1b">
        <ci id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">
         𝑔
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.1c">
        g
       </annotation>
      </semantics>
     </math>
     , the agent takes an action according to a policy
     <math alttext="\pi" class="ltx_Math" display="inline" id="S3.SS1.p4.3.m3.1">
      <semantics id="S3.SS1.p4.3.m3.1a">
       <mi id="S3.SS1.p4.3.m3.1.1" xref="S3.SS1.p4.3.m3.1.1.cmml">
        π
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p4.3.m3.1b">
        <ci id="S3.SS1.p4.3.m3.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1">
         𝜋
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p4.3.m3.1c">
        \pi
       </annotation>
      </semantics>
     </math>
     :
    </p>
    <table class="ltx_equation ltx_eqn_table" id="S3.Ex2">
     <tbody>
      <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
       <td class="ltx_eqn_cell ltx_eqn_center_padleft">
       </td>
       <td class="ltx_eqn_cell ltx_align_center">
        <math alttext="\pi(o_{t},g)\rightarrow a_{t},\ \text{where}\ o\in\mathcal{O},\ a\in\mathcal{A}" class="ltx_Math" display="block" id="S3.Ex2.m1.3">
         <semantics id="S3.Ex2.m1.3a">
          <mrow id="S3.Ex2.m1.3.3.2" xref="S3.Ex2.m1.3.3.3.cmml">
           <mrow id="S3.Ex2.m1.2.2.1.1" xref="S3.Ex2.m1.2.2.1.1.cmml">
            <mrow id="S3.Ex2.m1.2.2.1.1.1" xref="S3.Ex2.m1.2.2.1.1.1.cmml">
             <mi id="S3.Ex2.m1.2.2.1.1.1.3" xref="S3.Ex2.m1.2.2.1.1.1.3.cmml">
              π
             </mi>
             <mo id="S3.Ex2.m1.2.2.1.1.1.2" lspace="0em" rspace="0em" xref="S3.Ex2.m1.2.2.1.1.1.2.cmml">
              ​
             </mo>
             <mrow id="S3.Ex2.m1.2.2.1.1.1.1.1" xref="S3.Ex2.m1.2.2.1.1.1.1.2.cmml">
              <mo id="S3.Ex2.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.Ex2.m1.2.2.1.1.1.1.2.cmml">
               (
              </mo>
              <msub id="S3.Ex2.m1.2.2.1.1.1.1.1.1" xref="S3.Ex2.m1.2.2.1.1.1.1.1.1.cmml">
               <mi id="S3.Ex2.m1.2.2.1.1.1.1.1.1.2" xref="S3.Ex2.m1.2.2.1.1.1.1.1.1.2.cmml">
                o
               </mi>
               <mi id="S3.Ex2.m1.2.2.1.1.1.1.1.1.3" xref="S3.Ex2.m1.2.2.1.1.1.1.1.1.3.cmml">
                t
               </mi>
              </msub>
              <mo id="S3.Ex2.m1.2.2.1.1.1.1.1.3" xref="S3.Ex2.m1.2.2.1.1.1.1.2.cmml">
               ,
              </mo>
              <mi id="S3.Ex2.m1.1.1" xref="S3.Ex2.m1.1.1.cmml">
               g
              </mi>
              <mo id="S3.Ex2.m1.2.2.1.1.1.1.1.4" stretchy="false" xref="S3.Ex2.m1.2.2.1.1.1.1.2.cmml">
               )
              </mo>
             </mrow>
            </mrow>
            <mo id="S3.Ex2.m1.2.2.1.1.2" stretchy="false" xref="S3.Ex2.m1.2.2.1.1.2.cmml">
             →
            </mo>
            <msub id="S3.Ex2.m1.2.2.1.1.3" xref="S3.Ex2.m1.2.2.1.1.3.cmml">
             <mi id="S3.Ex2.m1.2.2.1.1.3.2" xref="S3.Ex2.m1.2.2.1.1.3.2.cmml">
              a
             </mi>
             <mi id="S3.Ex2.m1.2.2.1.1.3.3" xref="S3.Ex2.m1.2.2.1.1.3.3.cmml">
              t
             </mi>
            </msub>
           </mrow>
           <mo id="S3.Ex2.m1.3.3.2.3" rspace="0.667em" xref="S3.Ex2.m1.3.3.3a.cmml">
            ,
           </mo>
           <mrow id="S3.Ex2.m1.3.3.2.2.2" xref="S3.Ex2.m1.3.3.2.2.3.cmml">
            <mrow id="S3.Ex2.m1.3.3.2.2.1.1" xref="S3.Ex2.m1.3.3.2.2.1.1.cmml">
             <mrow id="S3.Ex2.m1.3.3.2.2.1.1.2" xref="S3.Ex2.m1.3.3.2.2.1.1.2.cmml">
              <mtext id="S3.Ex2.m1.3.3.2.2.1.1.2.2" xref="S3.Ex2.m1.3.3.2.2.1.1.2.2a.cmml">
               where
              </mtext>
              <mo id="S3.Ex2.m1.3.3.2.2.1.1.2.1" lspace="0.500em" rspace="0em" xref="S3.Ex2.m1.3.3.2.2.1.1.2.1.cmml">
               ​
              </mo>
              <mi id="S3.Ex2.m1.3.3.2.2.1.1.2.3" xref="S3.Ex2.m1.3.3.2.2.1.1.2.3.cmml">
               o
              </mi>
             </mrow>
             <mo id="S3.Ex2.m1.3.3.2.2.1.1.1" xref="S3.Ex2.m1.3.3.2.2.1.1.1.cmml">
              ∈
             </mo>
             <mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m1.3.3.2.2.1.1.3" xref="S3.Ex2.m1.3.3.2.2.1.1.3.cmml">
              𝒪
             </mi>
            </mrow>
            <mo id="S3.Ex2.m1.3.3.2.2.2.3" rspace="0.667em" xref="S3.Ex2.m1.3.3.2.2.3a.cmml">
             ,
            </mo>
            <mrow id="S3.Ex2.m1.3.3.2.2.2.2" xref="S3.Ex2.m1.3.3.2.2.2.2.cmml">
             <mi id="S3.Ex2.m1.3.3.2.2.2.2.2" xref="S3.Ex2.m1.3.3.2.2.2.2.2.cmml">
              a
             </mi>
             <mo id="S3.Ex2.m1.3.3.2.2.2.2.1" xref="S3.Ex2.m1.3.3.2.2.2.2.1.cmml">
              ∈
             </mo>
             <mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m1.3.3.2.2.2.2.3" xref="S3.Ex2.m1.3.3.2.2.2.2.3.cmml">
              𝒜
             </mi>
            </mrow>
           </mrow>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.3b">
           <apply id="S3.Ex2.m1.3.3.3.cmml" xref="S3.Ex2.m1.3.3.2">
            <csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.3a.cmml" xref="S3.Ex2.m1.3.3.2.3">
             formulae-sequence
            </csymbol>
            <apply id="S3.Ex2.m1.2.2.1.1.cmml" xref="S3.Ex2.m1.2.2.1.1">
             <ci id="S3.Ex2.m1.2.2.1.1.2.cmml" xref="S3.Ex2.m1.2.2.1.1.2">
              →
             </ci>
             <apply id="S3.Ex2.m1.2.2.1.1.1.cmml" xref="S3.Ex2.m1.2.2.1.1.1">
              <times id="S3.Ex2.m1.2.2.1.1.1.2.cmml" xref="S3.Ex2.m1.2.2.1.1.1.2">
              </times>
              <ci id="S3.Ex2.m1.2.2.1.1.1.3.cmml" xref="S3.Ex2.m1.2.2.1.1.1.3">
               𝜋
              </ci>
              <interval closure="open" id="S3.Ex2.m1.2.2.1.1.1.1.2.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1">
               <apply id="S3.Ex2.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.Ex2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1.1">
                 subscript
                </csymbol>
                <ci id="S3.Ex2.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1.1.2">
                 𝑜
                </ci>
                <ci id="S3.Ex2.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1.1.3">
                 𝑡
                </ci>
               </apply>
               <ci id="S3.Ex2.m1.1.1.cmml" xref="S3.Ex2.m1.1.1">
                𝑔
               </ci>
              </interval>
             </apply>
             <apply id="S3.Ex2.m1.2.2.1.1.3.cmml" xref="S3.Ex2.m1.2.2.1.1.3">
              <csymbol cd="ambiguous" id="S3.Ex2.m1.2.2.1.1.3.1.cmml" xref="S3.Ex2.m1.2.2.1.1.3">
               subscript
              </csymbol>
              <ci id="S3.Ex2.m1.2.2.1.1.3.2.cmml" xref="S3.Ex2.m1.2.2.1.1.3.2">
               𝑎
              </ci>
              <ci id="S3.Ex2.m1.2.2.1.1.3.3.cmml" xref="S3.Ex2.m1.2.2.1.1.3.3">
               𝑡
              </ci>
             </apply>
            </apply>
            <apply id="S3.Ex2.m1.3.3.2.2.3.cmml" xref="S3.Ex2.m1.3.3.2.2.2">
             <csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.2.2.3a.cmml" xref="S3.Ex2.m1.3.3.2.2.2.3">
              formulae-sequence
             </csymbol>
             <apply id="S3.Ex2.m1.3.3.2.2.1.1.cmml" xref="S3.Ex2.m1.3.3.2.2.1.1">
              <in id="S3.Ex2.m1.3.3.2.2.1.1.1.cmml" xref="S3.Ex2.m1.3.3.2.2.1.1.1">
              </in>
              <apply id="S3.Ex2.m1.3.3.2.2.1.1.2.cmml" xref="S3.Ex2.m1.3.3.2.2.1.1.2">
               <times id="S3.Ex2.m1.3.3.2.2.1.1.2.1.cmml" xref="S3.Ex2.m1.3.3.2.2.1.1.2.1">
               </times>
               <ci id="S3.Ex2.m1.3.3.2.2.1.1.2.2a.cmml" xref="S3.Ex2.m1.3.3.2.2.1.1.2.2">
                <mtext id="S3.Ex2.m1.3.3.2.2.1.1.2.2.cmml" xref="S3.Ex2.m1.3.3.2.2.1.1.2.2">
                 where
                </mtext>
               </ci>
               <ci id="S3.Ex2.m1.3.3.2.2.1.1.2.3.cmml" xref="S3.Ex2.m1.3.3.2.2.1.1.2.3">
                𝑜
               </ci>
              </apply>
              <ci id="S3.Ex2.m1.3.3.2.2.1.1.3.cmml" xref="S3.Ex2.m1.3.3.2.2.1.1.3">
               𝒪
              </ci>
             </apply>
             <apply id="S3.Ex2.m1.3.3.2.2.2.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2">
              <in id="S3.Ex2.m1.3.3.2.2.2.2.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.1">
              </in>
              <ci id="S3.Ex2.m1.3.3.2.2.2.2.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2">
               𝑎
              </ci>
              <ci id="S3.Ex2.m1.3.3.2.2.2.2.3.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.3">
               𝒜
              </ci>
             </apply>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.Ex2.m1.3c">
           \pi(o_{t},g)\rightarrow a_{t},\ \text{where}\ o\in\mathcal{O},\ a\in\mathcal{A}
          </annotation>
         </semantics>
        </math>
       </td>
       <td class="ltx_eqn_cell ltx_eqn_center_padright">
       </td>
      </tr>
     </tbody>
    </table>
   </div>
   <div class="ltx_para ltx_noindent" id="S3.SS1.p5">
    <p class="ltx_p" id="S3.SS1.p5.5">
     resulting in a trajectory
     <math alttext="\tau=\{(o_{0},a_{0}),...,(o_{t},a_{t})\}" class="ltx_Math" display="inline" id="S3.SS1.p5.1.m1.3">
      <semantics id="S3.SS1.p5.1.m1.3a">
       <mrow id="S3.SS1.p5.1.m1.3.3" xref="S3.SS1.p5.1.m1.3.3.cmml">
        <mi id="S3.SS1.p5.1.m1.3.3.4" xref="S3.SS1.p5.1.m1.3.3.4.cmml">
         τ
        </mi>
        <mo id="S3.SS1.p5.1.m1.3.3.3" xref="S3.SS1.p5.1.m1.3.3.3.cmml">
         =
        </mo>
        <mrow id="S3.SS1.p5.1.m1.3.3.2.2" xref="S3.SS1.p5.1.m1.3.3.2.3.cmml">
         <mo id="S3.SS1.p5.1.m1.3.3.2.2.3" stretchy="false" xref="S3.SS1.p5.1.m1.3.3.2.3.cmml">
          {
         </mo>
         <mrow id="S3.SS1.p5.1.m1.2.2.1.1.1.2" xref="S3.SS1.p5.1.m1.2.2.1.1.1.3.cmml">
          <mo id="S3.SS1.p5.1.m1.2.2.1.1.1.2.3" stretchy="false" xref="S3.SS1.p5.1.m1.2.2.1.1.1.3.cmml">
           (
          </mo>
          <msub id="S3.SS1.p5.1.m1.2.2.1.1.1.1.1" xref="S3.SS1.p5.1.m1.2.2.1.1.1.1.1.cmml">
           <mi id="S3.SS1.p5.1.m1.2.2.1.1.1.1.1.2" xref="S3.SS1.p5.1.m1.2.2.1.1.1.1.1.2.cmml">
            o
           </mi>
           <mn id="S3.SS1.p5.1.m1.2.2.1.1.1.1.1.3" xref="S3.SS1.p5.1.m1.2.2.1.1.1.1.1.3.cmml">
            0
           </mn>
          </msub>
          <mo id="S3.SS1.p5.1.m1.2.2.1.1.1.2.4" xref="S3.SS1.p5.1.m1.2.2.1.1.1.3.cmml">
           ,
          </mo>
          <msub id="S3.SS1.p5.1.m1.2.2.1.1.1.2.2" xref="S3.SS1.p5.1.m1.2.2.1.1.1.2.2.cmml">
           <mi id="S3.SS1.p5.1.m1.2.2.1.1.1.2.2.2" xref="S3.SS1.p5.1.m1.2.2.1.1.1.2.2.2.cmml">
            a
           </mi>
           <mn id="S3.SS1.p5.1.m1.2.2.1.1.1.2.2.3" xref="S3.SS1.p5.1.m1.2.2.1.1.1.2.2.3.cmml">
            0
           </mn>
          </msub>
          <mo id="S3.SS1.p5.1.m1.2.2.1.1.1.2.5" stretchy="false" xref="S3.SS1.p5.1.m1.2.2.1.1.1.3.cmml">
           )
          </mo>
         </mrow>
         <mo id="S3.SS1.p5.1.m1.3.3.2.2.4" xref="S3.SS1.p5.1.m1.3.3.2.3.cmml">
          ,
         </mo>
         <mi id="S3.SS1.p5.1.m1.1.1" mathvariant="normal" xref="S3.SS1.p5.1.m1.1.1.cmml">
          …
         </mi>
         <mo id="S3.SS1.p5.1.m1.3.3.2.2.5" xref="S3.SS1.p5.1.m1.3.3.2.3.cmml">
          ,
         </mo>
         <mrow id="S3.SS1.p5.1.m1.3.3.2.2.2.2" xref="S3.SS1.p5.1.m1.3.3.2.2.2.3.cmml">
          <mo id="S3.SS1.p5.1.m1.3.3.2.2.2.2.3" stretchy="false" xref="S3.SS1.p5.1.m1.3.3.2.2.2.3.cmml">
           (
          </mo>
          <msub id="S3.SS1.p5.1.m1.3.3.2.2.2.1.1" xref="S3.SS1.p5.1.m1.3.3.2.2.2.1.1.cmml">
           <mi id="S3.SS1.p5.1.m1.3.3.2.2.2.1.1.2" xref="S3.SS1.p5.1.m1.3.3.2.2.2.1.1.2.cmml">
            o
           </mi>
           <mi id="S3.SS1.p5.1.m1.3.3.2.2.2.1.1.3" xref="S3.SS1.p5.1.m1.3.3.2.2.2.1.1.3.cmml">
            t
           </mi>
          </msub>
          <mo id="S3.SS1.p5.1.m1.3.3.2.2.2.2.4" xref="S3.SS1.p5.1.m1.3.3.2.2.2.3.cmml">
           ,
          </mo>
          <msub id="S3.SS1.p5.1.m1.3.3.2.2.2.2.2" xref="S3.SS1.p5.1.m1.3.3.2.2.2.2.2.cmml">
           <mi id="S3.SS1.p5.1.m1.3.3.2.2.2.2.2.2" xref="S3.SS1.p5.1.m1.3.3.2.2.2.2.2.2.cmml">
            a
           </mi>
           <mi id="S3.SS1.p5.1.m1.3.3.2.2.2.2.2.3" xref="S3.SS1.p5.1.m1.3.3.2.2.2.2.2.3.cmml">
            t
           </mi>
          </msub>
          <mo id="S3.SS1.p5.1.m1.3.3.2.2.2.2.5" stretchy="false" xref="S3.SS1.p5.1.m1.3.3.2.2.2.3.cmml">
           )
          </mo>
         </mrow>
         <mo id="S3.SS1.p5.1.m1.3.3.2.2.6" stretchy="false" xref="S3.SS1.p5.1.m1.3.3.2.3.cmml">
          }
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p5.1.m1.3b">
        <apply id="S3.SS1.p5.1.m1.3.3.cmml" xref="S3.SS1.p5.1.m1.3.3">
         <eq id="S3.SS1.p5.1.m1.3.3.3.cmml" xref="S3.SS1.p5.1.m1.3.3.3">
         </eq>
         <ci id="S3.SS1.p5.1.m1.3.3.4.cmml" xref="S3.SS1.p5.1.m1.3.3.4">
          𝜏
         </ci>
         <set id="S3.SS1.p5.1.m1.3.3.2.3.cmml" xref="S3.SS1.p5.1.m1.3.3.2.2">
          <interval closure="open" id="S3.SS1.p5.1.m1.2.2.1.1.1.3.cmml" xref="S3.SS1.p5.1.m1.2.2.1.1.1.2">
           <apply id="S3.SS1.p5.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p5.1.m1.2.2.1.1.1.1.1">
            <csymbol cd="ambiguous" id="S3.SS1.p5.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.SS1.p5.1.m1.2.2.1.1.1.1.1">
             subscript
            </csymbol>
            <ci id="S3.SS1.p5.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.SS1.p5.1.m1.2.2.1.1.1.1.1.2">
             𝑜
            </ci>
            <cn id="S3.SS1.p5.1.m1.2.2.1.1.1.1.1.3.cmml" type="integer" xref="S3.SS1.p5.1.m1.2.2.1.1.1.1.1.3">
             0
            </cn>
           </apply>
           <apply id="S3.SS1.p5.1.m1.2.2.1.1.1.2.2.cmml" xref="S3.SS1.p5.1.m1.2.2.1.1.1.2.2">
            <csymbol cd="ambiguous" id="S3.SS1.p5.1.m1.2.2.1.1.1.2.2.1.cmml" xref="S3.SS1.p5.1.m1.2.2.1.1.1.2.2">
             subscript
            </csymbol>
            <ci id="S3.SS1.p5.1.m1.2.2.1.1.1.2.2.2.cmml" xref="S3.SS1.p5.1.m1.2.2.1.1.1.2.2.2">
             𝑎
            </ci>
            <cn id="S3.SS1.p5.1.m1.2.2.1.1.1.2.2.3.cmml" type="integer" xref="S3.SS1.p5.1.m1.2.2.1.1.1.2.2.3">
             0
            </cn>
           </apply>
          </interval>
          <ci id="S3.SS1.p5.1.m1.1.1.cmml" xref="S3.SS1.p5.1.m1.1.1">
           …
          </ci>
          <interval closure="open" id="S3.SS1.p5.1.m1.3.3.2.2.2.3.cmml" xref="S3.SS1.p5.1.m1.3.3.2.2.2.2">
           <apply id="S3.SS1.p5.1.m1.3.3.2.2.2.1.1.cmml" xref="S3.SS1.p5.1.m1.3.3.2.2.2.1.1">
            <csymbol cd="ambiguous" id="S3.SS1.p5.1.m1.3.3.2.2.2.1.1.1.cmml" xref="S3.SS1.p5.1.m1.3.3.2.2.2.1.1">
             subscript
            </csymbol>
            <ci id="S3.SS1.p5.1.m1.3.3.2.2.2.1.1.2.cmml" xref="S3.SS1.p5.1.m1.3.3.2.2.2.1.1.2">
             𝑜
            </ci>
            <ci id="S3.SS1.p5.1.m1.3.3.2.2.2.1.1.3.cmml" xref="S3.SS1.p5.1.m1.3.3.2.2.2.1.1.3">
             𝑡
            </ci>
           </apply>
           <apply id="S3.SS1.p5.1.m1.3.3.2.2.2.2.2.cmml" xref="S3.SS1.p5.1.m1.3.3.2.2.2.2.2">
            <csymbol cd="ambiguous" id="S3.SS1.p5.1.m1.3.3.2.2.2.2.2.1.cmml" xref="S3.SS1.p5.1.m1.3.3.2.2.2.2.2">
             subscript
            </csymbol>
            <ci id="S3.SS1.p5.1.m1.3.3.2.2.2.2.2.2.cmml" xref="S3.SS1.p5.1.m1.3.3.2.2.2.2.2.2">
             𝑎
            </ci>
            <ci id="S3.SS1.p5.1.m1.3.3.2.2.2.2.2.3.cmml" xref="S3.SS1.p5.1.m1.3.3.2.2.2.2.2.3">
             𝑡
            </ci>
           </apply>
          </interval>
         </set>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p5.1.m1.3c">
        \tau=\{(o_{0},a_{0}),...,(o_{t},a_{t})\}
       </annotation>
      </semantics>
     </math>
     at timestep
     <math alttext="t" class="ltx_Math" display="inline" id="S3.SS1.p5.2.m2.1">
      <semantics id="S3.SS1.p5.2.m2.1a">
       <mi id="S3.SS1.p5.2.m2.1.1" xref="S3.SS1.p5.2.m2.1.1.cmml">
        t
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p5.2.m2.1b">
        <ci id="S3.SS1.p5.2.m2.1.1.cmml" xref="S3.SS1.p5.2.m2.1.1">
         𝑡
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p5.2.m2.1c">
        t
       </annotation>
      </semantics>
     </math>
     . When the agent finishes execution, the reward
     <math alttext="r" class="ltx_Math" display="inline" id="S3.SS1.p5.3.m3.1">
      <semantics id="S3.SS1.p5.3.m3.1a">
       <mi id="S3.SS1.p5.3.m3.1.1" xref="S3.SS1.p5.3.m3.1.1.cmml">
        r
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p5.3.m3.1b">
        <ci id="S3.SS1.p5.3.m3.1.1.cmml" xref="S3.SS1.p5.3.m3.1.1">
         𝑟
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p5.3.m3.1c">
        r
       </annotation>
      </semantics>
     </math>
     can be calculated deterministically by a benchmark or estimated by a self-evaluation module
     <math alttext="\hat{r}(\tau,g,\textit{answer})\in[0,1]" class="ltx_Math" display="inline" id="S3.SS1.p5.4.m4.5">
      <semantics id="S3.SS1.p5.4.m4.5a">
       <mrow id="S3.SS1.p5.4.m4.5.6" xref="S3.SS1.p5.4.m4.5.6.cmml">
        <mrow id="S3.SS1.p5.4.m4.5.6.2" xref="S3.SS1.p5.4.m4.5.6.2.cmml">
         <mover accent="true" id="S3.SS1.p5.4.m4.5.6.2.2" xref="S3.SS1.p5.4.m4.5.6.2.2.cmml">
          <mi id="S3.SS1.p5.4.m4.5.6.2.2.2" xref="S3.SS1.p5.4.m4.5.6.2.2.2.cmml">
           r
          </mi>
          <mo id="S3.SS1.p5.4.m4.5.6.2.2.1" xref="S3.SS1.p5.4.m4.5.6.2.2.1.cmml">
           ^
          </mo>
         </mover>
         <mo id="S3.SS1.p5.4.m4.5.6.2.1" lspace="0em" rspace="0em" xref="S3.SS1.p5.4.m4.5.6.2.1.cmml">
          ​
         </mo>
         <mrow id="S3.SS1.p5.4.m4.5.6.2.3.2" xref="S3.SS1.p5.4.m4.5.6.2.3.1.cmml">
          <mo id="S3.SS1.p5.4.m4.5.6.2.3.2.1" stretchy="false" xref="S3.SS1.p5.4.m4.5.6.2.3.1.cmml">
           (
          </mo>
          <mi id="S3.SS1.p5.4.m4.1.1" xref="S3.SS1.p5.4.m4.1.1.cmml">
           τ
          </mi>
          <mo id="S3.SS1.p5.4.m4.5.6.2.3.2.2" xref="S3.SS1.p5.4.m4.5.6.2.3.1.cmml">
           ,
          </mo>
          <mi id="S3.SS1.p5.4.m4.2.2" xref="S3.SS1.p5.4.m4.2.2.cmml">
           g
          </mi>
          <mo id="S3.SS1.p5.4.m4.5.6.2.3.2.3" xref="S3.SS1.p5.4.m4.5.6.2.3.1.cmml">
           ,
          </mo>
          <mtext class="ltx_mathvariant_italic" id="S3.SS1.p5.4.m4.3.3" xref="S3.SS1.p5.4.m4.3.3a.cmml">
           answer
          </mtext>
          <mo id="S3.SS1.p5.4.m4.5.6.2.3.2.4" stretchy="false" xref="S3.SS1.p5.4.m4.5.6.2.3.1.cmml">
           )
          </mo>
         </mrow>
        </mrow>
        <mo id="S3.SS1.p5.4.m4.5.6.1" xref="S3.SS1.p5.4.m4.5.6.1.cmml">
         ∈
        </mo>
        <mrow id="S3.SS1.p5.4.m4.5.6.3.2" xref="S3.SS1.p5.4.m4.5.6.3.1.cmml">
         <mo id="S3.SS1.p5.4.m4.5.6.3.2.1" stretchy="false" xref="S3.SS1.p5.4.m4.5.6.3.1.cmml">
          [
         </mo>
         <mn id="S3.SS1.p5.4.m4.4.4" xref="S3.SS1.p5.4.m4.4.4.cmml">
          0
         </mn>
         <mo id="S3.SS1.p5.4.m4.5.6.3.2.2" xref="S3.SS1.p5.4.m4.5.6.3.1.cmml">
          ,
         </mo>
         <mn id="S3.SS1.p5.4.m4.5.5" xref="S3.SS1.p5.4.m4.5.5.cmml">
          1
         </mn>
         <mo id="S3.SS1.p5.4.m4.5.6.3.2.3" stretchy="false" xref="S3.SS1.p5.4.m4.5.6.3.1.cmml">
          ]
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS1.p5.4.m4.5b">
        <apply id="S3.SS1.p5.4.m4.5.6.cmml" xref="S3.SS1.p5.4.m4.5.6">
         <in id="S3.SS1.p5.4.m4.5.6.1.cmml" xref="S3.SS1.p5.4.m4.5.6.1">
         </in>
         <apply id="S3.SS1.p5.4.m4.5.6.2.cmml" xref="S3.SS1.p5.4.m4.5.6.2">
          <times id="S3.SS1.p5.4.m4.5.6.2.1.cmml" xref="S3.SS1.p5.4.m4.5.6.2.1">
          </times>
          <apply id="S3.SS1.p5.4.m4.5.6.2.2.cmml" xref="S3.SS1.p5.4.m4.5.6.2.2">
           <ci id="S3.SS1.p5.4.m4.5.6.2.2.1.cmml" xref="S3.SS1.p5.4.m4.5.6.2.2.1">
            ^
           </ci>
           <ci id="S3.SS1.p5.4.m4.5.6.2.2.2.cmml" xref="S3.SS1.p5.4.m4.5.6.2.2.2">
            𝑟
           </ci>
          </apply>
          <vector id="S3.SS1.p5.4.m4.5.6.2.3.1.cmml" xref="S3.SS1.p5.4.m4.5.6.2.3.2">
           <ci id="S3.SS1.p5.4.m4.1.1.cmml" xref="S3.SS1.p5.4.m4.1.1">
            𝜏
           </ci>
           <ci id="S3.SS1.p5.4.m4.2.2.cmml" xref="S3.SS1.p5.4.m4.2.2">
            𝑔
           </ci>
           <ci id="S3.SS1.p5.4.m4.3.3a.cmml" xref="S3.SS1.p5.4.m4.3.3">
            <mtext class="ltx_mathvariant_italic" id="S3.SS1.p5.4.m4.3.3.cmml" xref="S3.SS1.p5.4.m4.3.3">
             answer
            </mtext>
           </ci>
          </vector>
         </apply>
         <interval closure="closed" id="S3.SS1.p5.4.m4.5.6.3.1.cmml" xref="S3.SS1.p5.4.m4.5.6.3.2">
          <cn id="S3.SS1.p5.4.m4.4.4.cmml" type="integer" xref="S3.SS1.p5.4.m4.4.4">
           0
          </cn>
          <cn id="S3.SS1.p5.4.m4.5.5.cmml" type="integer" xref="S3.SS1.p5.4.m4.5.5">
           1
          </cn>
         </interval>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS1.p5.4.m4.5c">
        \hat{r}(\tau,g,\textit{answer})\in[0,1]
       </annotation>
      </semantics>
     </math>
     run at the end of an execution, where
     <span class="ltx_text ltx_markedasmath ltx_font_italic" id="S3.SS1.p5.5.1">
      answer
     </span>
     is the textual output of the agent.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S3.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.2
    </span>
    <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.1.1">
     Wilbur
    </span>
    During Inference Time
   </h3>
   <div class="ltx_para ltx_noindent" id="S3.SS2.p1">
    <p class="ltx_p" id="S3.SS2.p1.1">
     Given the goal and the current state of the page, the
     <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.p1.1.1">
      Wilbur
     </span>
     repeatedly executes actions according to policy
     <math alttext="\pi" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1">
      <semantics id="S3.SS2.p1.1.m1.1a">
       <mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">
        π
       </mi>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b">
        <ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">
         𝜋
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">
        \pi
       </annotation>
      </semantics>
     </math>
     until the task is predicted to have finished or until backtracking is necessary. The formal algorithm is given in Algorithm
     <a class="ltx_ref" href="#alg1" title="Algorithm 1 ‣ Figure 2 ‣ 3.2 Wilbur During Inference Time ‣ 3 The Wilbur Agent ‣ Wilbur: Adaptive In-Context Learning for Robust and Accurate Web Agents">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     , and an example is shown in Fig.
     <a class="ltx_ref" href="#S3.F2" title="Figure 2 ‣ 3.2 Wilbur During Inference Time ‣ 3 The Wilbur Agent ‣ Wilbur: Adaptive In-Context Learning for Robust and Accurate Web Agents">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     .
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S3.SS2.p2">
    <p class="ltx_p" id="S3.SS2.p2.1">
     At each step of the execution,
     <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.p2.1.1">
      Wilbur
     </span>
     makes use of the following sub-modules:
    </p>
    <ol class="ltx_enumerate" id="S3.I1">
     <li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       1.
      </span>
      <div class="ltx_para" id="S3.I1.i1.p1">
       <p class="ltx_p" id="S3.I1.i1.p1.6">
        the
        <span class="ltx_text ltx_font_italic" id="S3.I1.i1.p1.6.1">
         demonstration retriever
        </span>
        queries a demonstration bank of full-length trajectories
        <math alttext="\mathcal{D}_{\tau}" class="ltx_Math" display="inline" id="S3.I1.i1.p1.1.m1.1">
         <semantics id="S3.I1.i1.p1.1.m1.1a">
          <msub id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml">
           <mi class="ltx_font_mathcaligraphic" id="S3.I1.i1.p1.1.m1.1.1.2" xref="S3.I1.i1.p1.1.m1.1.1.2.cmml">
            𝒟
           </mi>
           <mi id="S3.I1.i1.p1.1.m1.1.1.3" xref="S3.I1.i1.p1.1.m1.1.1.3.cmml">
            τ
           </mi>
          </msub>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.1b">
           <apply id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">
            <csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">
             subscript
            </csymbol>
            <ci id="S3.I1.i1.p1.1.m1.1.1.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1.2">
             𝒟
            </ci>
            <ci id="S3.I1.i1.p1.1.m1.1.1.3.cmml" xref="S3.I1.i1.p1.1.m1.1.1.3">
             𝜏
            </ci>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.1c">
           \mathcal{D}_{\tau}
          </annotation>
         </semantics>
        </math>
        and finds the relevant ones
        <math alttext="D_{\tau}\subset\mathcal{D}_{\tau}" class="ltx_Math" display="inline" id="S3.I1.i1.p1.2.m2.1">
         <semantics id="S3.I1.i1.p1.2.m2.1a">
          <mrow id="S3.I1.i1.p1.2.m2.1.1" xref="S3.I1.i1.p1.2.m2.1.1.cmml">
           <msub id="S3.I1.i1.p1.2.m2.1.1.2" xref="S3.I1.i1.p1.2.m2.1.1.2.cmml">
            <mi id="S3.I1.i1.p1.2.m2.1.1.2.2" xref="S3.I1.i1.p1.2.m2.1.1.2.2.cmml">
             D
            </mi>
            <mi id="S3.I1.i1.p1.2.m2.1.1.2.3" xref="S3.I1.i1.p1.2.m2.1.1.2.3.cmml">
             τ
            </mi>
           </msub>
           <mo id="S3.I1.i1.p1.2.m2.1.1.1" xref="S3.I1.i1.p1.2.m2.1.1.1.cmml">
            ⊂
           </mo>
           <msub id="S3.I1.i1.p1.2.m2.1.1.3" xref="S3.I1.i1.p1.2.m2.1.1.3.cmml">
            <mi class="ltx_font_mathcaligraphic" id="S3.I1.i1.p1.2.m2.1.1.3.2" xref="S3.I1.i1.p1.2.m2.1.1.3.2.cmml">
             𝒟
            </mi>
            <mi id="S3.I1.i1.p1.2.m2.1.1.3.3" xref="S3.I1.i1.p1.2.m2.1.1.3.3.cmml">
             τ
            </mi>
           </msub>
          </mrow>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.2.m2.1b">
           <apply id="S3.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1">
            <subset id="S3.I1.i1.p1.2.m2.1.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1.1">
            </subset>
            <apply id="S3.I1.i1.p1.2.m2.1.1.2.cmml" xref="S3.I1.i1.p1.2.m2.1.1.2">
             <csymbol cd="ambiguous" id="S3.I1.i1.p1.2.m2.1.1.2.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1.2">
              subscript
             </csymbol>
             <ci id="S3.I1.i1.p1.2.m2.1.1.2.2.cmml" xref="S3.I1.i1.p1.2.m2.1.1.2.2">
              𝐷
             </ci>
             <ci id="S3.I1.i1.p1.2.m2.1.1.2.3.cmml" xref="S3.I1.i1.p1.2.m2.1.1.2.3">
              𝜏
             </ci>
            </apply>
            <apply id="S3.I1.i1.p1.2.m2.1.1.3.cmml" xref="S3.I1.i1.p1.2.m2.1.1.3">
             <csymbol cd="ambiguous" id="S3.I1.i1.p1.2.m2.1.1.3.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1.3">
              subscript
             </csymbol>
             <ci id="S3.I1.i1.p1.2.m2.1.1.3.2.cmml" xref="S3.I1.i1.p1.2.m2.1.1.3.2">
              𝒟
             </ci>
             <ci id="S3.I1.i1.p1.2.m2.1.1.3.3.cmml" xref="S3.I1.i1.p1.2.m2.1.1.3.3">
              𝜏
             </ci>
            </apply>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i1.p1.2.m2.1c">
           D_{\tau}\subset\mathcal{D}_{\tau}
          </annotation>
         </semantics>
        </math>
        ; individual action demonstrations
        <math alttext="D_{a}" class="ltx_Math" display="inline" id="S3.I1.i1.p1.3.m3.1">
         <semantics id="S3.I1.i1.p1.3.m3.1a">
          <msub id="S3.I1.i1.p1.3.m3.1.1" xref="S3.I1.i1.p1.3.m3.1.1.cmml">
           <mi id="S3.I1.i1.p1.3.m3.1.1.2" xref="S3.I1.i1.p1.3.m3.1.1.2.cmml">
            D
           </mi>
           <mi id="S3.I1.i1.p1.3.m3.1.1.3" xref="S3.I1.i1.p1.3.m3.1.1.3.cmml">
            a
           </mi>
          </msub>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.3.m3.1b">
           <apply id="S3.I1.i1.p1.3.m3.1.1.cmml" xref="S3.I1.i1.p1.3.m3.1.1">
            <csymbol cd="ambiguous" id="S3.I1.i1.p1.3.m3.1.1.1.cmml" xref="S3.I1.i1.p1.3.m3.1.1">
             subscript
            </csymbol>
            <ci id="S3.I1.i1.p1.3.m3.1.1.2.cmml" xref="S3.I1.i1.p1.3.m3.1.1.2">
             𝐷
            </ci>
            <ci id="S3.I1.i1.p1.3.m3.1.1.3.cmml" xref="S3.I1.i1.p1.3.m3.1.1.3">
             𝑎
            </ci>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i1.p1.3.m3.1c">
           D_{a}
          </annotation>
         </semantics>
        </math>
        are also queried from
        <math alttext="\mathcal{D}_{a}" class="ltx_Math" display="inline" id="S3.I1.i1.p1.4.m4.1">
         <semantics id="S3.I1.i1.p1.4.m4.1a">
          <msub id="S3.I1.i1.p1.4.m4.1.1" xref="S3.I1.i1.p1.4.m4.1.1.cmml">
           <mi class="ltx_font_mathcaligraphic" id="S3.I1.i1.p1.4.m4.1.1.2" xref="S3.I1.i1.p1.4.m4.1.1.2.cmml">
            𝒟
           </mi>
           <mi id="S3.I1.i1.p1.4.m4.1.1.3" xref="S3.I1.i1.p1.4.m4.1.1.3.cmml">
            a
           </mi>
          </msub>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.4.m4.1b">
           <apply id="S3.I1.i1.p1.4.m4.1.1.cmml" xref="S3.I1.i1.p1.4.m4.1.1">
            <csymbol cd="ambiguous" id="S3.I1.i1.p1.4.m4.1.1.1.cmml" xref="S3.I1.i1.p1.4.m4.1.1">
             subscript
            </csymbol>
            <ci id="S3.I1.i1.p1.4.m4.1.1.2.cmml" xref="S3.I1.i1.p1.4.m4.1.1.2">
             𝒟
            </ci>
            <ci id="S3.I1.i1.p1.4.m4.1.1.3.cmml" xref="S3.I1.i1.p1.4.m4.1.1.3">
             𝑎
            </ci>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i1.p1.4.m4.1c">
           \mathcal{D}_{a}
          </annotation>
         </semantics>
        </math>
        ; the retriever obtains both positive (successful) demonstrations
        <math alttext="D^{+}" class="ltx_Math" display="inline" id="S3.I1.i1.p1.5.m5.1">
         <semantics id="S3.I1.i1.p1.5.m5.1a">
          <msup id="S3.I1.i1.p1.5.m5.1.1" xref="S3.I1.i1.p1.5.m5.1.1.cmml">
           <mi id="S3.I1.i1.p1.5.m5.1.1.2" xref="S3.I1.i1.p1.5.m5.1.1.2.cmml">
            D
           </mi>
           <mo id="S3.I1.i1.p1.5.m5.1.1.3" xref="S3.I1.i1.p1.5.m5.1.1.3.cmml">
            +
           </mo>
          </msup>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.5.m5.1b">
           <apply id="S3.I1.i1.p1.5.m5.1.1.cmml" xref="S3.I1.i1.p1.5.m5.1.1">
            <csymbol cd="ambiguous" id="S3.I1.i1.p1.5.m5.1.1.1.cmml" xref="S3.I1.i1.p1.5.m5.1.1">
             superscript
            </csymbol>
            <ci id="S3.I1.i1.p1.5.m5.1.1.2.cmml" xref="S3.I1.i1.p1.5.m5.1.1.2">
             𝐷
            </ci>
            <plus id="S3.I1.i1.p1.5.m5.1.1.3.cmml" xref="S3.I1.i1.p1.5.m5.1.1.3">
            </plus>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i1.p1.5.m5.1c">
           D^{+}
          </annotation>
         </semantics>
        </math>
        and negative (unsuccessful) demonstrations
        <math alttext="D^{-}" class="ltx_Math" display="inline" id="S3.I1.i1.p1.6.m6.1">
         <semantics id="S3.I1.i1.p1.6.m6.1a">
          <msup id="S3.I1.i1.p1.6.m6.1.1" xref="S3.I1.i1.p1.6.m6.1.1.cmml">
           <mi id="S3.I1.i1.p1.6.m6.1.1.2" xref="S3.I1.i1.p1.6.m6.1.1.2.cmml">
            D
           </mi>
           <mo id="S3.I1.i1.p1.6.m6.1.1.3" xref="S3.I1.i1.p1.6.m6.1.1.3.cmml">
            −
           </mo>
          </msup>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.6.m6.1b">
           <apply id="S3.I1.i1.p1.6.m6.1.1.cmml" xref="S3.I1.i1.p1.6.m6.1.1">
            <csymbol cd="ambiguous" id="S3.I1.i1.p1.6.m6.1.1.1.cmml" xref="S3.I1.i1.p1.6.m6.1.1">
             superscript
            </csymbol>
            <ci id="S3.I1.i1.p1.6.m6.1.1.2.cmml" xref="S3.I1.i1.p1.6.m6.1.1.2">
             𝐷
            </ci>
            <minus id="S3.I1.i1.p1.6.m6.1.1.3.cmml" xref="S3.I1.i1.p1.6.m6.1.1.3">
            </minus>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i1.p1.6.m6.1c">
           D^{-}
          </annotation>
         </semantics>
        </math>
        .
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       2.
      </span>
      <div class="ltx_para" id="S3.I1.i2.p1">
       <p class="ltx_p" id="S3.I1.i2.p1.3">
        the
        <span class="ltx_text ltx_font_italic" id="S3.I1.i2.p1.3.1">
         knowledge synthesizer
        </span>
        summarizes the demonstrations into a description of learnings
        <math alttext="l" class="ltx_Math" display="inline" id="S3.I1.i2.p1.1.m1.1">
         <semantics id="S3.I1.i2.p1.1.m1.1a">
          <mi id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml">
           l
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.1b">
           <ci id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1">
            𝑙
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.1c">
           l
          </annotation>
         </semantics>
        </math>
        ;
        <math alttext="D_{\tau}" class="ltx_Math" display="inline" id="S3.I1.i2.p1.2.m2.1">
         <semantics id="S3.I1.i2.p1.2.m2.1a">
          <msub id="S3.I1.i2.p1.2.m2.1.1" xref="S3.I1.i2.p1.2.m2.1.1.cmml">
           <mi id="S3.I1.i2.p1.2.m2.1.1.2" xref="S3.I1.i2.p1.2.m2.1.1.2.cmml">
            D
           </mi>
           <mi id="S3.I1.i2.p1.2.m2.1.1.3" xref="S3.I1.i2.p1.2.m2.1.1.3.cmml">
            τ
           </mi>
          </msub>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.2.m2.1b">
           <apply id="S3.I1.i2.p1.2.m2.1.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1">
            <csymbol cd="ambiguous" id="S3.I1.i2.p1.2.m2.1.1.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1">
             subscript
            </csymbol>
            <ci id="S3.I1.i2.p1.2.m2.1.1.2.cmml" xref="S3.I1.i2.p1.2.m2.1.1.2">
             𝐷
            </ci>
            <ci id="S3.I1.i2.p1.2.m2.1.1.3.cmml" xref="S3.I1.i2.p1.2.m2.1.1.3">
             𝜏
            </ci>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i2.p1.2.m2.1c">
           D_{\tau}
          </annotation>
         </semantics>
        </math>
        and
        <math alttext="D_{a}" class="ltx_Math" display="inline" id="S3.I1.i2.p1.3.m3.1">
         <semantics id="S3.I1.i2.p1.3.m3.1a">
          <msub id="S3.I1.i2.p1.3.m3.1.1" xref="S3.I1.i2.p1.3.m3.1.1.cmml">
           <mi id="S3.I1.i2.p1.3.m3.1.1.2" xref="S3.I1.i2.p1.3.m3.1.1.2.cmml">
            D
           </mi>
           <mi id="S3.I1.i2.p1.3.m3.1.1.3" xref="S3.I1.i2.p1.3.m3.1.1.3.cmml">
            a
           </mi>
          </msub>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.3.m3.1b">
           <apply id="S3.I1.i2.p1.3.m3.1.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1">
            <csymbol cd="ambiguous" id="S3.I1.i2.p1.3.m3.1.1.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1">
             subscript
            </csymbol>
            <ci id="S3.I1.i2.p1.3.m3.1.1.2.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2">
             𝐷
            </ci>
            <ci id="S3.I1.i2.p1.3.m3.1.1.3.cmml" xref="S3.I1.i2.p1.3.m3.1.1.3">
             𝑎
            </ci>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i2.p1.3.m3.1c">
           D_{a}
          </annotation>
         </semantics>
        </math>
        are summarized separately.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       3.
      </span>
      <div class="ltx_para" id="S3.I1.i3.p1">
       <p class="ltx_p" id="S3.I1.i3.p1.7">
        the
        <span class="ltx_text ltx_font_italic" id="S3.I1.i3.p1.7.1">
         actor
        </span>
        references
        <math alttext="D_{\tau}" class="ltx_Math" display="inline" id="S3.I1.i3.p1.1.m1.1">
         <semantics id="S3.I1.i3.p1.1.m1.1a">
          <msub id="S3.I1.i3.p1.1.m1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.cmml">
           <mi id="S3.I1.i3.p1.1.m1.1.1.2" xref="S3.I1.i3.p1.1.m1.1.1.2.cmml">
            D
           </mi>
           <mi id="S3.I1.i3.p1.1.m1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.3.cmml">
            τ
           </mi>
          </msub>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.1.m1.1b">
           <apply id="S3.I1.i3.p1.1.m1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1">
            <csymbol cd="ambiguous" id="S3.I1.i3.p1.1.m1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1">
             subscript
            </csymbol>
            <ci id="S3.I1.i3.p1.1.m1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.2">
             𝐷
            </ci>
            <ci id="S3.I1.i3.p1.1.m1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.3">
             𝜏
            </ci>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i3.p1.1.m1.1c">
           D_{\tau}
          </annotation>
         </semantics>
        </math>
        ,
        <math alttext="D_{a}" class="ltx_Math" display="inline" id="S3.I1.i3.p1.2.m2.1">
         <semantics id="S3.I1.i3.p1.2.m2.1a">
          <msub id="S3.I1.i3.p1.2.m2.1.1" xref="S3.I1.i3.p1.2.m2.1.1.cmml">
           <mi id="S3.I1.i3.p1.2.m2.1.1.2" xref="S3.I1.i3.p1.2.m2.1.1.2.cmml">
            D
           </mi>
           <mi id="S3.I1.i3.p1.2.m2.1.1.3" xref="S3.I1.i3.p1.2.m2.1.1.3.cmml">
            a
           </mi>
          </msub>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.2.m2.1b">
           <apply id="S3.I1.i3.p1.2.m2.1.1.cmml" xref="S3.I1.i3.p1.2.m2.1.1">
            <csymbol cd="ambiguous" id="S3.I1.i3.p1.2.m2.1.1.1.cmml" xref="S3.I1.i3.p1.2.m2.1.1">
             subscript
            </csymbol>
            <ci id="S3.I1.i3.p1.2.m2.1.1.2.cmml" xref="S3.I1.i3.p1.2.m2.1.1.2">
             𝐷
            </ci>
            <ci id="S3.I1.i3.p1.2.m2.1.1.3.cmml" xref="S3.I1.i3.p1.2.m2.1.1.3">
             𝑎
            </ci>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i3.p1.2.m2.1c">
           D_{a}
          </annotation>
         </semantics>
        </math>
        , and
        <math alttext="l" class="ltx_Math" display="inline" id="S3.I1.i3.p1.3.m3.1">
         <semantics id="S3.I1.i3.p1.3.m3.1a">
          <mi id="S3.I1.i3.p1.3.m3.1.1" xref="S3.I1.i3.p1.3.m3.1.1.cmml">
           l
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.3.m3.1b">
           <ci id="S3.I1.i3.p1.3.m3.1.1.cmml" xref="S3.I1.i3.p1.3.m3.1.1">
            𝑙
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i3.p1.3.m3.1c">
           l
          </annotation>
         </semantics>
        </math>
        to predict an action
        <math alttext="a" class="ltx_Math" display="inline" id="S3.I1.i3.p1.4.m4.1">
         <semantics id="S3.I1.i3.p1.4.m4.1a">
          <mi id="S3.I1.i3.p1.4.m4.1.1" xref="S3.I1.i3.p1.4.m4.1.1.cmml">
           a
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.4.m4.1b">
           <ci id="S3.I1.i3.p1.4.m4.1.1.cmml" xref="S3.I1.i3.p1.4.m4.1.1">
            𝑎
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i3.p1.4.m4.1c">
           a
          </annotation>
         </semantics>
        </math>
        , given the current state
        <math alttext="o" class="ltx_Math" display="inline" id="S3.I1.i3.p1.5.m5.1">
         <semantics id="S3.I1.i3.p1.5.m5.1a">
          <mi id="S3.I1.i3.p1.5.m5.1.1" xref="S3.I1.i3.p1.5.m5.1.1.cmml">
           o
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.5.m5.1b">
           <ci id="S3.I1.i3.p1.5.m5.1.1.cmml" xref="S3.I1.i3.p1.5.m5.1.1">
            𝑜
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i3.p1.5.m5.1c">
           o
          </annotation>
         </semantics>
        </math>
        , next step plan
        <math alttext="p" class="ltx_Math" display="inline" id="S3.I1.i3.p1.6.m6.1">
         <semantics id="S3.I1.i3.p1.6.m6.1a">
          <mi id="S3.I1.i3.p1.6.m6.1.1" xref="S3.I1.i3.p1.6.m6.1.1.cmml">
           p
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.6.m6.1b">
           <ci id="S3.I1.i3.p1.6.m6.1.1.cmml" xref="S3.I1.i3.p1.6.m6.1.1">
            𝑝
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i3.p1.6.m6.1c">
           p
          </annotation>
         </semantics>
        </math>
        form previous step, and feedback
        <math alttext="\varphi" class="ltx_Math" display="inline" id="S3.I1.i3.p1.7.m7.1">
         <semantics id="S3.I1.i3.p1.7.m7.1a">
          <mi id="S3.I1.i3.p1.7.m7.1.1" xref="S3.I1.i3.p1.7.m7.1.1.cmml">
           φ
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.7.m7.1b">
           <ci id="S3.I1.i3.p1.7.m7.1.1.cmml" xref="S3.I1.i3.p1.7.m7.1.1">
            𝜑
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i3.p1.7.m7.1c">
           \varphi
          </annotation>
         </semantics>
        </math>
        if returning from a backtrack.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I1.i4" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       4.
      </span>
      <div class="ltx_para" id="S3.I1.i4.p1">
       <p class="ltx_p" id="S3.I1.i4.p1.3">
        the
        <span class="ltx_text ltx_font_italic" id="S3.I1.i4.p1.3.1">
         executor
        </span>
        performs action
        <math alttext="a" class="ltx_Math" display="inline" id="S3.I1.i4.p1.1.m1.1">
         <semantics id="S3.I1.i4.p1.1.m1.1a">
          <mi id="S3.I1.i4.p1.1.m1.1.1" xref="S3.I1.i4.p1.1.m1.1.1.cmml">
           a
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i4.p1.1.m1.1b">
           <ci id="S3.I1.i4.p1.1.m1.1.1.cmml" xref="S3.I1.i4.p1.1.m1.1.1">
            𝑎
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i4.p1.1.m1.1c">
           a
          </annotation>
         </semantics>
        </math>
        on the website and obtains the new observable state
        <math alttext="o^{\prime}" class="ltx_Math" display="inline" id="S3.I1.i4.p1.2.m2.1">
         <semantics id="S3.I1.i4.p1.2.m2.1a">
          <msup id="S3.I1.i4.p1.2.m2.1.1" xref="S3.I1.i4.p1.2.m2.1.1.cmml">
           <mi id="S3.I1.i4.p1.2.m2.1.1.2" xref="S3.I1.i4.p1.2.m2.1.1.2.cmml">
            o
           </mi>
           <mo id="S3.I1.i4.p1.2.m2.1.1.3" xref="S3.I1.i4.p1.2.m2.1.1.3.cmml">
            ′
           </mo>
          </msup>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i4.p1.2.m2.1b">
           <apply id="S3.I1.i4.p1.2.m2.1.1.cmml" xref="S3.I1.i4.p1.2.m2.1.1">
            <csymbol cd="ambiguous" id="S3.I1.i4.p1.2.m2.1.1.1.cmml" xref="S3.I1.i4.p1.2.m2.1.1">
             superscript
            </csymbol>
            <ci id="S3.I1.i4.p1.2.m2.1.1.2.cmml" xref="S3.I1.i4.p1.2.m2.1.1.2">
             𝑜
            </ci>
            <ci id="S3.I1.i4.p1.2.m2.1.1.3.cmml" xref="S3.I1.i4.p1.2.m2.1.1.3">
             ′
            </ci>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i4.p1.2.m2.1c">
           o^{\prime}
          </annotation>
         </semantics>
        </math>
        as well as execution feedback
        <math alttext="\varphi" class="ltx_Math" display="inline" id="S3.I1.i4.p1.3.m3.1">
         <semantics id="S3.I1.i4.p1.3.m3.1a">
          <mi id="S3.I1.i4.p1.3.m3.1.1" xref="S3.I1.i4.p1.3.m3.1.1.cmml">
           φ
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i4.p1.3.m3.1b">
           <ci id="S3.I1.i4.p1.3.m3.1.1.cmml" xref="S3.I1.i4.p1.3.m3.1.1">
            𝜑
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i4.p1.3.m3.1c">
           \varphi
          </annotation>
         </semantics>
        </math>
        .
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I1.i5" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       5.
      </span>
      <div class="ltx_para" id="S3.I1.i5.p1">
       <p class="ltx_p" id="S3.I1.i5.p1.6">
        the
        <span class="ltx_text ltx_font_italic" id="S3.I1.i5.p1.6.1">
         reflection
        </span>
        module compares
        <math alttext="o" class="ltx_Math" display="inline" id="S3.I1.i5.p1.1.m1.1">
         <semantics id="S3.I1.i5.p1.1.m1.1a">
          <mi id="S3.I1.i5.p1.1.m1.1.1" xref="S3.I1.i5.p1.1.m1.1.1.cmml">
           o
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i5.p1.1.m1.1b">
           <ci id="S3.I1.i5.p1.1.m1.1.1.cmml" xref="S3.I1.i5.p1.1.m1.1.1">
            𝑜
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i5.p1.1.m1.1c">
           o
          </annotation>
         </semantics>
        </math>
        and
        <math alttext="o^{\prime}" class="ltx_Math" display="inline" id="S3.I1.i5.p1.2.m2.1">
         <semantics id="S3.I1.i5.p1.2.m2.1a">
          <msup id="S3.I1.i5.p1.2.m2.1.1" xref="S3.I1.i5.p1.2.m2.1.1.cmml">
           <mi id="S3.I1.i5.p1.2.m2.1.1.2" xref="S3.I1.i5.p1.2.m2.1.1.2.cmml">
            o
           </mi>
           <mo id="S3.I1.i5.p1.2.m2.1.1.3" xref="S3.I1.i5.p1.2.m2.1.1.3.cmml">
            ′
           </mo>
          </msup>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i5.p1.2.m2.1b">
           <apply id="S3.I1.i5.p1.2.m2.1.1.cmml" xref="S3.I1.i5.p1.2.m2.1.1">
            <csymbol cd="ambiguous" id="S3.I1.i5.p1.2.m2.1.1.1.cmml" xref="S3.I1.i5.p1.2.m2.1.1">
             superscript
            </csymbol>
            <ci id="S3.I1.i5.p1.2.m2.1.1.2.cmml" xref="S3.I1.i5.p1.2.m2.1.1.2">
             𝑜
            </ci>
            <ci id="S3.I1.i5.p1.2.m2.1.1.3.cmml" xref="S3.I1.i5.p1.2.m2.1.1.3">
             ′
            </ci>
           </apply>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i5.p1.2.m2.1c">
           o^{\prime}
          </annotation>
         </semantics>
        </math>
        before determining whether to backtrack, continue, or finish; if backtrack
        <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S3.I1.i5.p1.3.m3.1">
         <semantics id="S3.I1.i5.p1.3.m3.1a">
          <mo id="S3.I1.i5.p1.3.m3.1.1" stretchy="false" xref="S3.I1.i5.p1.3.m3.1.1.cmml">
           →
          </mo>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i5.p1.3.m3.1b">
           <ci id="S3.I1.i5.p1.3.m3.1.1.cmml" xref="S3.I1.i5.p1.3.m3.1.1">
            →
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i5.p1.3.m3.1c">
           \rightarrow
          </annotation>
         </semantics>
        </math>
        update
        <math alttext="\varphi" class="ltx_Math" display="inline" id="S3.I1.i5.p1.4.m4.1">
         <semantics id="S3.I1.i5.p1.4.m4.1a">
          <mi id="S3.I1.i5.p1.4.m4.1.1" xref="S3.I1.i5.p1.4.m4.1.1.cmml">
           φ
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i5.p1.4.m4.1b">
           <ci id="S3.I1.i5.p1.4.m4.1.1.cmml" xref="S3.I1.i5.p1.4.m4.1.1">
            𝜑
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i5.p1.4.m4.1c">
           \varphi
          </annotation>
         </semantics>
        </math>
        ; if continue
        <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S3.I1.i5.p1.5.m5.1">
         <semantics id="S3.I1.i5.p1.5.m5.1a">
          <mo id="S3.I1.i5.p1.5.m5.1.1" stretchy="false" xref="S3.I1.i5.p1.5.m5.1.1.cmml">
           →
          </mo>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i5.p1.5.m5.1b">
           <ci id="S3.I1.i5.p1.5.m5.1.1.cmml" xref="S3.I1.i5.p1.5.m5.1.1">
            →
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i5.p1.5.m5.1c">
           \rightarrow
          </annotation>
         </semantics>
        </math>
        plan next step
        <span class="ltx_text ltx_markedasmath ltx_font_italic" id="S3.I1.i5.p1.6.2">
         p’
        </span>
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I1.i6" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       6.
      </span>
      <div class="ltx_para ltx_noindent" id="S3.I1.i6.p1">
       <p class="ltx_p" id="S3.I1.i6.p1.2">
        at the end of an execution, the
        <span class="ltx_text ltx_font_italic" id="S3.I1.i6.p1.2.1">
         answer module
        </span>
        produces the textual response required by the goal using the final observable state
        <math alttext="o" class="ltx_Math" display="inline" id="S3.I1.i6.p1.1.m1.1">
         <semantics id="S3.I1.i6.p1.1.m1.1a">
          <mi id="S3.I1.i6.p1.1.m1.1.1" xref="S3.I1.i6.p1.1.m1.1.1.cmml">
           o
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i6.p1.1.m1.1b">
           <ci id="S3.I1.i6.p1.1.m1.1.1.cmml" xref="S3.I1.i6.p1.1.m1.1.1">
            𝑜
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i6.p1.1.m1.1c">
           o
          </annotation>
         </semantics>
        </math>
        , and agent’s trajectory
        <math alttext="\tau" class="ltx_Math" display="inline" id="S3.I1.i6.p1.2.m2.1">
         <semantics id="S3.I1.i6.p1.2.m2.1a">
          <mi id="S3.I1.i6.p1.2.m2.1.1" xref="S3.I1.i6.p1.2.m2.1.1.cmml">
           τ
          </mi>
          <annotation-xml encoding="MathML-Content" id="S3.I1.i6.p1.2.m2.1b">
           <ci id="S3.I1.i6.p1.2.m2.1.1.cmml" xref="S3.I1.i6.p1.2.m2.1.1">
            𝜏
           </ci>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S3.I1.i6.p1.2.m2.1c">
           \tau
          </annotation>
         </semantics>
        </math>
       </p>
      </div>
     </li>
    </ol>
   </div>
   <div class="ltx_para ltx_noindent" id="S3.SS2.p3">
    <p class="ltx_p" id="S3.SS2.p3.1">
     In the rest of this section, we describe each
     <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.p3.1.1">
      Wilbur
     </span>
     module in detail.
    </p>
   </div>
   <figure class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" id="S3.F2" style="width:212.5pt;">
    <figure class="ltx_float ltx_figure_panel ltx_minipage ltx_align_middle ltx_framed ltx_framed_top" id="alg1" style="width:212.5pt;">
     <figcaption class="ltx_caption">
      <span class="ltx_tag ltx_tag_float">
       <span class="ltx_text ltx_font_bold" id="alg1.3.1.1">
        Algorithm 1
       </span>
      </span>
      <span class="ltx_text ltx_font_smallcaps" id="alg1.4.2">
       Wilbur
      </span>
      agent loop
     </figcaption>
     <div class="ltx_listing ltx_listing" id="alg1.5">
      <div class="ltx_listingline" id="alg1.l1">
       <span class="ltx_tag ltx_tag_listingline">
        1:
       </span>
       goal
       <math alttext="g" class="ltx_Math" display="inline" id="alg1.l1.m1.1">
        <semantics id="alg1.l1.m1.1a">
         <mi id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml">
          g
         </mi>
         <annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b">
          <ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">
           𝑔
          </ci>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l1.m1.1c">
          g
         </annotation>
        </semantics>
       </math>
       , initial state
       <math alttext="o" class="ltx_Math" display="inline" id="alg1.l1.m2.1">
        <semantics id="alg1.l1.m2.1a">
         <mi id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml">
          o
         </mi>
         <annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b">
          <ci id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1">
           𝑜
          </ci>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l1.m2.1c">
          o
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l2">
       <span class="ltx_tag ltx_tag_listingline">
        2:
       </span>
       <math alttext="D_{g}^{+},D_{g}^{-}\leftarrow\text{RetrieveForGoal}(D_{\tau},g)" class="ltx_Math" display="inline" id="alg1.l2.m1.4">
        <semantics id="alg1.l2.m1.4a">
         <mrow id="alg1.l2.m1.4.4" xref="alg1.l2.m1.4.4.cmml">
          <mrow id="alg1.l2.m1.3.3.2.2" xref="alg1.l2.m1.3.3.2.3.cmml">
           <msubsup id="alg1.l2.m1.2.2.1.1.1" xref="alg1.l2.m1.2.2.1.1.1.cmml">
            <mi id="alg1.l2.m1.2.2.1.1.1.2.2" xref="alg1.l2.m1.2.2.1.1.1.2.2.cmml">
             D
            </mi>
            <mi id="alg1.l2.m1.2.2.1.1.1.2.3" xref="alg1.l2.m1.2.2.1.1.1.2.3.cmml">
             g
            </mi>
            <mo id="alg1.l2.m1.2.2.1.1.1.3" xref="alg1.l2.m1.2.2.1.1.1.3.cmml">
             +
            </mo>
           </msubsup>
           <mo id="alg1.l2.m1.3.3.2.2.3" xref="alg1.l2.m1.3.3.2.3.cmml">
            ,
           </mo>
           <msubsup id="alg1.l2.m1.3.3.2.2.2" xref="alg1.l2.m1.3.3.2.2.2.cmml">
            <mi id="alg1.l2.m1.3.3.2.2.2.2.2" xref="alg1.l2.m1.3.3.2.2.2.2.2.cmml">
             D
            </mi>
            <mi id="alg1.l2.m1.3.3.2.2.2.2.3" xref="alg1.l2.m1.3.3.2.2.2.2.3.cmml">
             g
            </mi>
            <mo id="alg1.l2.m1.3.3.2.2.2.3" xref="alg1.l2.m1.3.3.2.2.2.3.cmml">
             −
            </mo>
           </msubsup>
          </mrow>
          <mo id="alg1.l2.m1.4.4.4" stretchy="false" xref="alg1.l2.m1.4.4.4.cmml">
           ←
          </mo>
          <mrow id="alg1.l2.m1.4.4.3" xref="alg1.l2.m1.4.4.3.cmml">
           <mtext id="alg1.l2.m1.4.4.3.3" xref="alg1.l2.m1.4.4.3.3a.cmml">
            RetrieveForGoal
           </mtext>
           <mo id="alg1.l2.m1.4.4.3.2" lspace="0em" rspace="0em" xref="alg1.l2.m1.4.4.3.2.cmml">
            ​
           </mo>
           <mrow id="alg1.l2.m1.4.4.3.1.1" xref="alg1.l2.m1.4.4.3.1.2.cmml">
            <mo id="alg1.l2.m1.4.4.3.1.1.2" stretchy="false" xref="alg1.l2.m1.4.4.3.1.2.cmml">
             (
            </mo>
            <msub id="alg1.l2.m1.4.4.3.1.1.1" xref="alg1.l2.m1.4.4.3.1.1.1.cmml">
             <mi id="alg1.l2.m1.4.4.3.1.1.1.2" xref="alg1.l2.m1.4.4.3.1.1.1.2.cmml">
              D
             </mi>
             <mi id="alg1.l2.m1.4.4.3.1.1.1.3" xref="alg1.l2.m1.4.4.3.1.1.1.3.cmml">
              τ
             </mi>
            </msub>
            <mo id="alg1.l2.m1.4.4.3.1.1.3" xref="alg1.l2.m1.4.4.3.1.2.cmml">
             ,
            </mo>
            <mi id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">
             g
            </mi>
            <mo id="alg1.l2.m1.4.4.3.1.1.4" stretchy="false" xref="alg1.l2.m1.4.4.3.1.2.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l2.m1.4b">
          <apply id="alg1.l2.m1.4.4.cmml" xref="alg1.l2.m1.4.4">
           <ci id="alg1.l2.m1.4.4.4.cmml" xref="alg1.l2.m1.4.4.4">
            ←
           </ci>
           <list id="alg1.l2.m1.3.3.2.3.cmml" xref="alg1.l2.m1.3.3.2.2">
            <apply id="alg1.l2.m1.2.2.1.1.1.cmml" xref="alg1.l2.m1.2.2.1.1.1">
             <csymbol cd="ambiguous" id="alg1.l2.m1.2.2.1.1.1.1.cmml" xref="alg1.l2.m1.2.2.1.1.1">
              superscript
             </csymbol>
             <apply id="alg1.l2.m1.2.2.1.1.1.2.cmml" xref="alg1.l2.m1.2.2.1.1.1">
              <csymbol cd="ambiguous" id="alg1.l2.m1.2.2.1.1.1.2.1.cmml" xref="alg1.l2.m1.2.2.1.1.1">
               subscript
              </csymbol>
              <ci id="alg1.l2.m1.2.2.1.1.1.2.2.cmml" xref="alg1.l2.m1.2.2.1.1.1.2.2">
               𝐷
              </ci>
              <ci id="alg1.l2.m1.2.2.1.1.1.2.3.cmml" xref="alg1.l2.m1.2.2.1.1.1.2.3">
               𝑔
              </ci>
             </apply>
             <plus id="alg1.l2.m1.2.2.1.1.1.3.cmml" xref="alg1.l2.m1.2.2.1.1.1.3">
             </plus>
            </apply>
            <apply id="alg1.l2.m1.3.3.2.2.2.cmml" xref="alg1.l2.m1.3.3.2.2.2">
             <csymbol cd="ambiguous" id="alg1.l2.m1.3.3.2.2.2.1.cmml" xref="alg1.l2.m1.3.3.2.2.2">
              superscript
             </csymbol>
             <apply id="alg1.l2.m1.3.3.2.2.2.2.cmml" xref="alg1.l2.m1.3.3.2.2.2">
              <csymbol cd="ambiguous" id="alg1.l2.m1.3.3.2.2.2.2.1.cmml" xref="alg1.l2.m1.3.3.2.2.2">
               subscript
              </csymbol>
              <ci id="alg1.l2.m1.3.3.2.2.2.2.2.cmml" xref="alg1.l2.m1.3.3.2.2.2.2.2">
               𝐷
              </ci>
              <ci id="alg1.l2.m1.3.3.2.2.2.2.3.cmml" xref="alg1.l2.m1.3.3.2.2.2.2.3">
               𝑔
              </ci>
             </apply>
             <minus id="alg1.l2.m1.3.3.2.2.2.3.cmml" xref="alg1.l2.m1.3.3.2.2.2.3">
             </minus>
            </apply>
           </list>
           <apply id="alg1.l2.m1.4.4.3.cmml" xref="alg1.l2.m1.4.4.3">
            <times id="alg1.l2.m1.4.4.3.2.cmml" xref="alg1.l2.m1.4.4.3.2">
            </times>
            <ci id="alg1.l2.m1.4.4.3.3a.cmml" xref="alg1.l2.m1.4.4.3.3">
             <mtext id="alg1.l2.m1.4.4.3.3.cmml" xref="alg1.l2.m1.4.4.3.3">
              RetrieveForGoal
             </mtext>
            </ci>
            <interval closure="open" id="alg1.l2.m1.4.4.3.1.2.cmml" xref="alg1.l2.m1.4.4.3.1.1">
             <apply id="alg1.l2.m1.4.4.3.1.1.1.cmml" xref="alg1.l2.m1.4.4.3.1.1.1">
              <csymbol cd="ambiguous" id="alg1.l2.m1.4.4.3.1.1.1.1.cmml" xref="alg1.l2.m1.4.4.3.1.1.1">
               subscript
              </csymbol>
              <ci id="alg1.l2.m1.4.4.3.1.1.1.2.cmml" xref="alg1.l2.m1.4.4.3.1.1.1.2">
               𝐷
              </ci>
              <ci id="alg1.l2.m1.4.4.3.1.1.1.3.cmml" xref="alg1.l2.m1.4.4.3.1.1.1.3">
               𝜏
              </ci>
             </apply>
             <ci id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">
              𝑔
             </ci>
            </interval>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l2.m1.4c">
          D_{g}^{+},D_{g}^{-}\leftarrow\text{RetrieveForGoal}(D_{\tau},g)
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l3">
       <span class="ltx_tag ltx_tag_listingline">
        3:
       </span>
       <math alttext="l_{g}\leftarrow\text{SynthesizeForGoal}(D_{\tau}^{+},D_{\tau}^{-},g)" class="ltx_Math" display="inline" id="alg1.l3.m1.3">
        <semantics id="alg1.l3.m1.3a">
         <mrow id="alg1.l3.m1.3.3" xref="alg1.l3.m1.3.3.cmml">
          <msub id="alg1.l3.m1.3.3.4" xref="alg1.l3.m1.3.3.4.cmml">
           <mi id="alg1.l3.m1.3.3.4.2" xref="alg1.l3.m1.3.3.4.2.cmml">
            l
           </mi>
           <mi id="alg1.l3.m1.3.3.4.3" xref="alg1.l3.m1.3.3.4.3.cmml">
            g
           </mi>
          </msub>
          <mo id="alg1.l3.m1.3.3.3" stretchy="false" xref="alg1.l3.m1.3.3.3.cmml">
           ←
          </mo>
          <mrow id="alg1.l3.m1.3.3.2" xref="alg1.l3.m1.3.3.2.cmml">
           <mtext id="alg1.l3.m1.3.3.2.4" xref="alg1.l3.m1.3.3.2.4a.cmml">
            SynthesizeForGoal
           </mtext>
           <mo id="alg1.l3.m1.3.3.2.3" lspace="0em" rspace="0em" xref="alg1.l3.m1.3.3.2.3.cmml">
            ​
           </mo>
           <mrow id="alg1.l3.m1.3.3.2.2.2" xref="alg1.l3.m1.3.3.2.2.3.cmml">
            <mo id="alg1.l3.m1.3.3.2.2.2.3" stretchy="false" xref="alg1.l3.m1.3.3.2.2.3.cmml">
             (
            </mo>
            <msubsup id="alg1.l3.m1.2.2.1.1.1.1" xref="alg1.l3.m1.2.2.1.1.1.1.cmml">
             <mi id="alg1.l3.m1.2.2.1.1.1.1.2.2" xref="alg1.l3.m1.2.2.1.1.1.1.2.2.cmml">
              D
             </mi>
             <mi id="alg1.l3.m1.2.2.1.1.1.1.2.3" xref="alg1.l3.m1.2.2.1.1.1.1.2.3.cmml">
              τ
             </mi>
             <mo id="alg1.l3.m1.2.2.1.1.1.1.3" xref="alg1.l3.m1.2.2.1.1.1.1.3.cmml">
              +
             </mo>
            </msubsup>
            <mo id="alg1.l3.m1.3.3.2.2.2.4" xref="alg1.l3.m1.3.3.2.2.3.cmml">
             ,
            </mo>
            <msubsup id="alg1.l3.m1.3.3.2.2.2.2" xref="alg1.l3.m1.3.3.2.2.2.2.cmml">
             <mi id="alg1.l3.m1.3.3.2.2.2.2.2.2" xref="alg1.l3.m1.3.3.2.2.2.2.2.2.cmml">
              D
             </mi>
             <mi id="alg1.l3.m1.3.3.2.2.2.2.2.3" xref="alg1.l3.m1.3.3.2.2.2.2.2.3.cmml">
              τ
             </mi>
             <mo id="alg1.l3.m1.3.3.2.2.2.2.3" xref="alg1.l3.m1.3.3.2.2.2.2.3.cmml">
              −
             </mo>
            </msubsup>
            <mo id="alg1.l3.m1.3.3.2.2.2.5" xref="alg1.l3.m1.3.3.2.2.3.cmml">
             ,
            </mo>
            <mi id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">
             g
            </mi>
            <mo id="alg1.l3.m1.3.3.2.2.2.6" stretchy="false" xref="alg1.l3.m1.3.3.2.2.3.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l3.m1.3b">
          <apply id="alg1.l3.m1.3.3.cmml" xref="alg1.l3.m1.3.3">
           <ci id="alg1.l3.m1.3.3.3.cmml" xref="alg1.l3.m1.3.3.3">
            ←
           </ci>
           <apply id="alg1.l3.m1.3.3.4.cmml" xref="alg1.l3.m1.3.3.4">
            <csymbol cd="ambiguous" id="alg1.l3.m1.3.3.4.1.cmml" xref="alg1.l3.m1.3.3.4">
             subscript
            </csymbol>
            <ci id="alg1.l3.m1.3.3.4.2.cmml" xref="alg1.l3.m1.3.3.4.2">
             𝑙
            </ci>
            <ci id="alg1.l3.m1.3.3.4.3.cmml" xref="alg1.l3.m1.3.3.4.3">
             𝑔
            </ci>
           </apply>
           <apply id="alg1.l3.m1.3.3.2.cmml" xref="alg1.l3.m1.3.3.2">
            <times id="alg1.l3.m1.3.3.2.3.cmml" xref="alg1.l3.m1.3.3.2.3">
            </times>
            <ci id="alg1.l3.m1.3.3.2.4a.cmml" xref="alg1.l3.m1.3.3.2.4">
             <mtext id="alg1.l3.m1.3.3.2.4.cmml" xref="alg1.l3.m1.3.3.2.4">
              SynthesizeForGoal
             </mtext>
            </ci>
            <vector id="alg1.l3.m1.3.3.2.2.3.cmml" xref="alg1.l3.m1.3.3.2.2.2">
             <apply id="alg1.l3.m1.2.2.1.1.1.1.cmml" xref="alg1.l3.m1.2.2.1.1.1.1">
              <csymbol cd="ambiguous" id="alg1.l3.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l3.m1.2.2.1.1.1.1">
               superscript
              </csymbol>
              <apply id="alg1.l3.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l3.m1.2.2.1.1.1.1">
               <csymbol cd="ambiguous" id="alg1.l3.m1.2.2.1.1.1.1.2.1.cmml" xref="alg1.l3.m1.2.2.1.1.1.1">
                subscript
               </csymbol>
               <ci id="alg1.l3.m1.2.2.1.1.1.1.2.2.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.2.2">
                𝐷
               </ci>
               <ci id="alg1.l3.m1.2.2.1.1.1.1.2.3.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.2.3">
                𝜏
               </ci>
              </apply>
              <plus id="alg1.l3.m1.2.2.1.1.1.1.3.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.3">
              </plus>
             </apply>
             <apply id="alg1.l3.m1.3.3.2.2.2.2.cmml" xref="alg1.l3.m1.3.3.2.2.2.2">
              <csymbol cd="ambiguous" id="alg1.l3.m1.3.3.2.2.2.2.1.cmml" xref="alg1.l3.m1.3.3.2.2.2.2">
               superscript
              </csymbol>
              <apply id="alg1.l3.m1.3.3.2.2.2.2.2.cmml" xref="alg1.l3.m1.3.3.2.2.2.2">
               <csymbol cd="ambiguous" id="alg1.l3.m1.3.3.2.2.2.2.2.1.cmml" xref="alg1.l3.m1.3.3.2.2.2.2">
                subscript
               </csymbol>
               <ci id="alg1.l3.m1.3.3.2.2.2.2.2.2.cmml" xref="alg1.l3.m1.3.3.2.2.2.2.2.2">
                𝐷
               </ci>
               <ci id="alg1.l3.m1.3.3.2.2.2.2.2.3.cmml" xref="alg1.l3.m1.3.3.2.2.2.2.2.3">
                𝜏
               </ci>
              </apply>
              <minus id="alg1.l3.m1.3.3.2.2.2.2.3.cmml" xref="alg1.l3.m1.3.3.2.2.2.2.3">
              </minus>
             </apply>
             <ci id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">
              𝑔
             </ci>
            </vector>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l3.m1.3c">
          l_{g}\leftarrow\text{SynthesizeForGoal}(D_{\tau}^{+},D_{\tau}^{-},g)
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l4">
       <span class="ltx_tag ltx_tag_listingline">
        4:
       </span>
       <math alttext="\tau\leftarrow\emptyset" class="ltx_Math" display="inline" id="alg1.l4.m1.1">
        <semantics id="alg1.l4.m1.1a">
         <mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">
          <mi id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">
           τ
          </mi>
          <mo id="alg1.l4.m1.1.1.1" stretchy="false" xref="alg1.l4.m1.1.1.1.cmml">
           ←
          </mo>
          <mi id="alg1.l4.m1.1.1.3" mathvariant="normal" xref="alg1.l4.m1.1.1.3.cmml">
           ∅
          </mi>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b">
          <apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">
           <ci id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1">
            ←
           </ci>
           <ci id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2">
            𝜏
           </ci>
           <emptyset id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">
           </emptyset>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l4.m1.1c">
          \tau\leftarrow\emptyset
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l5">
       <span class="ltx_tag ltx_tag_listingline">
        5:
       </span>
       <math alttext="\varphi\leftarrow\emptyset" class="ltx_Math" display="inline" id="alg1.l5.m1.1">
        <semantics id="alg1.l5.m1.1a">
         <mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml">
          <mi id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml">
           φ
          </mi>
          <mo id="alg1.l5.m1.1.1.1" stretchy="false" xref="alg1.l5.m1.1.1.1.cmml">
           ←
          </mo>
          <mi id="alg1.l5.m1.1.1.3" mathvariant="normal" xref="alg1.l5.m1.1.1.3.cmml">
           ∅
          </mi>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b">
          <apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1">
           <ci id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1">
            ←
           </ci>
           <ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">
            𝜑
           </ci>
           <emptyset id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3">
           </emptyset>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l5.m1.1c">
          \varphi\leftarrow\emptyset
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l6">
       <span class="ltx_tag ltx_tag_listingline">
        6:
       </span>
       <math alttext="\textit{p}\leftarrow g" class="ltx_Math" display="inline" id="alg1.l6.m1.1">
        <semantics id="alg1.l6.m1.1a">
         <mrow id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml">
          <mtext class="ltx_mathvariant_italic" id="alg1.l6.m1.1.1.2" xref="alg1.l6.m1.1.1.2a.cmml">
           p
          </mtext>
          <mo id="alg1.l6.m1.1.1.1" stretchy="false" xref="alg1.l6.m1.1.1.1.cmml">
           ←
          </mo>
          <mi id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml">
           g
          </mi>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b">
          <apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1">
           <ci id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1">
            ←
           </ci>
           <ci id="alg1.l6.m1.1.1.2a.cmml" xref="alg1.l6.m1.1.1.2">
            <mtext class="ltx_mathvariant_italic" id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2">
             p
            </mtext>
           </ci>
           <ci id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3">
            𝑔
           </ci>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l6.m1.1c">
          \textit{p}\leftarrow g
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l7">
       <span class="ltx_tag ltx_tag_listingline">
        7:
       </span>
       <math alttext="\textit{done}\leftarrow\textsc{continue}" class="ltx_Math" display="inline" id="alg1.l7.m1.1">
        <semantics id="alg1.l7.m1.1a">
         <mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml">
          <mtext class="ltx_mathvariant_italic" id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2a.cmml">
           done
          </mtext>
          <mo id="alg1.l7.m1.1.1.1" stretchy="false" xref="alg1.l7.m1.1.1.1.cmml">
           ←
          </mo>
          <mtext class="ltx_font_smallcaps" id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3a.cmml">
           continue
          </mtext>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b">
          <apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1">
           <ci id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1">
            ←
           </ci>
           <ci id="alg1.l7.m1.1.1.2a.cmml" xref="alg1.l7.m1.1.1.2">
            <mtext class="ltx_mathvariant_italic" id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2">
             done
            </mtext>
           </ci>
           <ci id="alg1.l7.m1.1.1.3a.cmml" xref="alg1.l7.m1.1.1.3">
            <mtext class="ltx_font_smallcaps" id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">
             continue
            </mtext>
           </ci>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l7.m1.1c">
          \textit{done}\leftarrow\textsc{continue}
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l8">
       <span class="ltx_tag ltx_tag_listingline">
        8:
       </span>
       <span class="ltx_text ltx_font_bold" id="alg1.l8.1">
        while
       </span>
       <math alttext="\textit{done}\neq\textsc{finish}" class="ltx_Math" display="inline" id="alg1.l8.m1.1">
        <semantics id="alg1.l8.m1.1a">
         <mrow id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml">
          <mtext class="ltx_mathvariant_italic" id="alg1.l8.m1.1.1.2" xref="alg1.l8.m1.1.1.2a.cmml">
           done
          </mtext>
          <mo id="alg1.l8.m1.1.1.1" xref="alg1.l8.m1.1.1.1.cmml">
           ≠
          </mo>
          <mtext class="ltx_font_smallcaps" id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3a.cmml">
           finish
          </mtext>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b">
          <apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1">
           <neq id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1">
           </neq>
           <ci id="alg1.l8.m1.1.1.2a.cmml" xref="alg1.l8.m1.1.1.2">
            <mtext class="ltx_mathvariant_italic" id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2">
             done
            </mtext>
           </ci>
           <ci id="alg1.l8.m1.1.1.3a.cmml" xref="alg1.l8.m1.1.1.3">
            <mtext class="ltx_font_smallcaps" id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3">
             finish
            </mtext>
           </ci>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l8.m1.1c">
          \textit{done}\neq\textsc{finish}
         </annotation>
        </semantics>
       </math>
       <span class="ltx_text ltx_font_bold" id="alg1.l8.2">
        do
       </span>
      </div>
      <div class="ltx_listingline" id="alg1.l9">
       <span class="ltx_tag ltx_tag_listingline">
        9:
       </span>
       <math alttext="D_{a}^{+},D_{a}^{-}\leftarrow\text{RetrieveForAction}(D_{a},p)" class="ltx_Math" display="inline" id="alg1.l9.m1.4">
        <semantics id="alg1.l9.m1.4a">
         <mrow id="alg1.l9.m1.4.4" xref="alg1.l9.m1.4.4.cmml">
          <mrow id="alg1.l9.m1.3.3.2.2" xref="alg1.l9.m1.3.3.2.3.cmml">
           <msubsup id="alg1.l9.m1.2.2.1.1.1" xref="alg1.l9.m1.2.2.1.1.1.cmml">
            <mi id="alg1.l9.m1.2.2.1.1.1.2.2" xref="alg1.l9.m1.2.2.1.1.1.2.2.cmml">
             D
            </mi>
            <mi id="alg1.l9.m1.2.2.1.1.1.2.3" xref="alg1.l9.m1.2.2.1.1.1.2.3.cmml">
             a
            </mi>
            <mo id="alg1.l9.m1.2.2.1.1.1.3" xref="alg1.l9.m1.2.2.1.1.1.3.cmml">
             +
            </mo>
           </msubsup>
           <mo id="alg1.l9.m1.3.3.2.2.3" xref="alg1.l9.m1.3.3.2.3.cmml">
            ,
           </mo>
           <msubsup id="alg1.l9.m1.3.3.2.2.2" xref="alg1.l9.m1.3.3.2.2.2.cmml">
            <mi id="alg1.l9.m1.3.3.2.2.2.2.2" xref="alg1.l9.m1.3.3.2.2.2.2.2.cmml">
             D
            </mi>
            <mi id="alg1.l9.m1.3.3.2.2.2.2.3" xref="alg1.l9.m1.3.3.2.2.2.2.3.cmml">
             a
            </mi>
            <mo id="alg1.l9.m1.3.3.2.2.2.3" xref="alg1.l9.m1.3.3.2.2.2.3.cmml">
             −
            </mo>
           </msubsup>
          </mrow>
          <mo id="alg1.l9.m1.4.4.4" stretchy="false" xref="alg1.l9.m1.4.4.4.cmml">
           ←
          </mo>
          <mrow id="alg1.l9.m1.4.4.3" xref="alg1.l9.m1.4.4.3.cmml">
           <mtext id="alg1.l9.m1.4.4.3.3" xref="alg1.l9.m1.4.4.3.3a.cmml">
            RetrieveForAction
           </mtext>
           <mo id="alg1.l9.m1.4.4.3.2" lspace="0em" rspace="0em" xref="alg1.l9.m1.4.4.3.2.cmml">
            ​
           </mo>
           <mrow id="alg1.l9.m1.4.4.3.1.1" xref="alg1.l9.m1.4.4.3.1.2.cmml">
            <mo id="alg1.l9.m1.4.4.3.1.1.2" stretchy="false" xref="alg1.l9.m1.4.4.3.1.2.cmml">
             (
            </mo>
            <msub id="alg1.l9.m1.4.4.3.1.1.1" xref="alg1.l9.m1.4.4.3.1.1.1.cmml">
             <mi id="alg1.l9.m1.4.4.3.1.1.1.2" xref="alg1.l9.m1.4.4.3.1.1.1.2.cmml">
              D
             </mi>
             <mi id="alg1.l9.m1.4.4.3.1.1.1.3" xref="alg1.l9.m1.4.4.3.1.1.1.3.cmml">
              a
             </mi>
            </msub>
            <mo id="alg1.l9.m1.4.4.3.1.1.3" xref="alg1.l9.m1.4.4.3.1.2.cmml">
             ,
            </mo>
            <mi id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml">
             p
            </mi>
            <mo id="alg1.l9.m1.4.4.3.1.1.4" stretchy="false" xref="alg1.l9.m1.4.4.3.1.2.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l9.m1.4b">
          <apply id="alg1.l9.m1.4.4.cmml" xref="alg1.l9.m1.4.4">
           <ci id="alg1.l9.m1.4.4.4.cmml" xref="alg1.l9.m1.4.4.4">
            ←
           </ci>
           <list id="alg1.l9.m1.3.3.2.3.cmml" xref="alg1.l9.m1.3.3.2.2">
            <apply id="alg1.l9.m1.2.2.1.1.1.cmml" xref="alg1.l9.m1.2.2.1.1.1">
             <csymbol cd="ambiguous" id="alg1.l9.m1.2.2.1.1.1.1.cmml" xref="alg1.l9.m1.2.2.1.1.1">
              superscript
             </csymbol>
             <apply id="alg1.l9.m1.2.2.1.1.1.2.cmml" xref="alg1.l9.m1.2.2.1.1.1">
              <csymbol cd="ambiguous" id="alg1.l9.m1.2.2.1.1.1.2.1.cmml" xref="alg1.l9.m1.2.2.1.1.1">
               subscript
              </csymbol>
              <ci id="alg1.l9.m1.2.2.1.1.1.2.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.2.2">
               𝐷
              </ci>
              <ci id="alg1.l9.m1.2.2.1.1.1.2.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.2.3">
               𝑎
              </ci>
             </apply>
             <plus id="alg1.l9.m1.2.2.1.1.1.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.3">
             </plus>
            </apply>
            <apply id="alg1.l9.m1.3.3.2.2.2.cmml" xref="alg1.l9.m1.3.3.2.2.2">
             <csymbol cd="ambiguous" id="alg1.l9.m1.3.3.2.2.2.1.cmml" xref="alg1.l9.m1.3.3.2.2.2">
              superscript
             </csymbol>
             <apply id="alg1.l9.m1.3.3.2.2.2.2.cmml" xref="alg1.l9.m1.3.3.2.2.2">
              <csymbol cd="ambiguous" id="alg1.l9.m1.3.3.2.2.2.2.1.cmml" xref="alg1.l9.m1.3.3.2.2.2">
               subscript
              </csymbol>
              <ci id="alg1.l9.m1.3.3.2.2.2.2.2.cmml" xref="alg1.l9.m1.3.3.2.2.2.2.2">
               𝐷
              </ci>
              <ci id="alg1.l9.m1.3.3.2.2.2.2.3.cmml" xref="alg1.l9.m1.3.3.2.2.2.2.3">
               𝑎
              </ci>
             </apply>
             <minus id="alg1.l9.m1.3.3.2.2.2.3.cmml" xref="alg1.l9.m1.3.3.2.2.2.3">
             </minus>
            </apply>
           </list>
           <apply id="alg1.l9.m1.4.4.3.cmml" xref="alg1.l9.m1.4.4.3">
            <times id="alg1.l9.m1.4.4.3.2.cmml" xref="alg1.l9.m1.4.4.3.2">
            </times>
            <ci id="alg1.l9.m1.4.4.3.3a.cmml" xref="alg1.l9.m1.4.4.3.3">
             <mtext id="alg1.l9.m1.4.4.3.3.cmml" xref="alg1.l9.m1.4.4.3.3">
              RetrieveForAction
             </mtext>
            </ci>
            <interval closure="open" id="alg1.l9.m1.4.4.3.1.2.cmml" xref="alg1.l9.m1.4.4.3.1.1">
             <apply id="alg1.l9.m1.4.4.3.1.1.1.cmml" xref="alg1.l9.m1.4.4.3.1.1.1">
              <csymbol cd="ambiguous" id="alg1.l9.m1.4.4.3.1.1.1.1.cmml" xref="alg1.l9.m1.4.4.3.1.1.1">
               subscript
              </csymbol>
              <ci id="alg1.l9.m1.4.4.3.1.1.1.2.cmml" xref="alg1.l9.m1.4.4.3.1.1.1.2">
               𝐷
              </ci>
              <ci id="alg1.l9.m1.4.4.3.1.1.1.3.cmml" xref="alg1.l9.m1.4.4.3.1.1.1.3">
               𝑎
              </ci>
             </apply>
             <ci id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1">
              𝑝
             </ci>
            </interval>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l9.m1.4c">
          D_{a}^{+},D_{a}^{-}\leftarrow\text{RetrieveForAction}(D_{a},p)
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l10">
       <span class="ltx_tag ltx_tag_listingline">
        10:
       </span>
       <math alttext="l_{a}\leftarrow\text{SynthesizeForAction}(D_{a}^{+},D_{a}^{-},g,o)" class="ltx_Math" display="inline" id="alg1.l10.m1.4">
        <semantics id="alg1.l10.m1.4a">
         <mrow id="alg1.l10.m1.4.4" xref="alg1.l10.m1.4.4.cmml">
          <msub id="alg1.l10.m1.4.4.4" xref="alg1.l10.m1.4.4.4.cmml">
           <mi id="alg1.l10.m1.4.4.4.2" xref="alg1.l10.m1.4.4.4.2.cmml">
            l
           </mi>
           <mi id="alg1.l10.m1.4.4.4.3" xref="alg1.l10.m1.4.4.4.3.cmml">
            a
           </mi>
          </msub>
          <mo id="alg1.l10.m1.4.4.3" stretchy="false" xref="alg1.l10.m1.4.4.3.cmml">
           ←
          </mo>
          <mrow id="alg1.l10.m1.4.4.2" xref="alg1.l10.m1.4.4.2.cmml">
           <mtext id="alg1.l10.m1.4.4.2.4" xref="alg1.l10.m1.4.4.2.4a.cmml">
            SynthesizeForAction
           </mtext>
           <mo id="alg1.l10.m1.4.4.2.3" lspace="0em" rspace="0em" xref="alg1.l10.m1.4.4.2.3.cmml">
            ​
           </mo>
           <mrow id="alg1.l10.m1.4.4.2.2.2" xref="alg1.l10.m1.4.4.2.2.3.cmml">
            <mo id="alg1.l10.m1.4.4.2.2.2.3" stretchy="false" xref="alg1.l10.m1.4.4.2.2.3.cmml">
             (
            </mo>
            <msubsup id="alg1.l10.m1.3.3.1.1.1.1" xref="alg1.l10.m1.3.3.1.1.1.1.cmml">
             <mi id="alg1.l10.m1.3.3.1.1.1.1.2.2" xref="alg1.l10.m1.3.3.1.1.1.1.2.2.cmml">
              D
             </mi>
             <mi id="alg1.l10.m1.3.3.1.1.1.1.2.3" xref="alg1.l10.m1.3.3.1.1.1.1.2.3.cmml">
              a
             </mi>
             <mo id="alg1.l10.m1.3.3.1.1.1.1.3" xref="alg1.l10.m1.3.3.1.1.1.1.3.cmml">
              +
             </mo>
            </msubsup>
            <mo id="alg1.l10.m1.4.4.2.2.2.4" xref="alg1.l10.m1.4.4.2.2.3.cmml">
             ,
            </mo>
            <msubsup id="alg1.l10.m1.4.4.2.2.2.2" xref="alg1.l10.m1.4.4.2.2.2.2.cmml">
             <mi id="alg1.l10.m1.4.4.2.2.2.2.2.2" xref="alg1.l10.m1.4.4.2.2.2.2.2.2.cmml">
              D
             </mi>
             <mi id="alg1.l10.m1.4.4.2.2.2.2.2.3" xref="alg1.l10.m1.4.4.2.2.2.2.2.3.cmml">
              a
             </mi>
             <mo id="alg1.l10.m1.4.4.2.2.2.2.3" xref="alg1.l10.m1.4.4.2.2.2.2.3.cmml">
              −
             </mo>
            </msubsup>
            <mo id="alg1.l10.m1.4.4.2.2.2.5" xref="alg1.l10.m1.4.4.2.2.3.cmml">
             ,
            </mo>
            <mi id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml">
             g
            </mi>
            <mo id="alg1.l10.m1.4.4.2.2.2.6" xref="alg1.l10.m1.4.4.2.2.3.cmml">
             ,
            </mo>
            <mi id="alg1.l10.m1.2.2" xref="alg1.l10.m1.2.2.cmml">
             o
            </mi>
            <mo id="alg1.l10.m1.4.4.2.2.2.7" stretchy="false" xref="alg1.l10.m1.4.4.2.2.3.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l10.m1.4b">
          <apply id="alg1.l10.m1.4.4.cmml" xref="alg1.l10.m1.4.4">
           <ci id="alg1.l10.m1.4.4.3.cmml" xref="alg1.l10.m1.4.4.3">
            ←
           </ci>
           <apply id="alg1.l10.m1.4.4.4.cmml" xref="alg1.l10.m1.4.4.4">
            <csymbol cd="ambiguous" id="alg1.l10.m1.4.4.4.1.cmml" xref="alg1.l10.m1.4.4.4">
             subscript
            </csymbol>
            <ci id="alg1.l10.m1.4.4.4.2.cmml" xref="alg1.l10.m1.4.4.4.2">
             𝑙
            </ci>
            <ci id="alg1.l10.m1.4.4.4.3.cmml" xref="alg1.l10.m1.4.4.4.3">
             𝑎
            </ci>
           </apply>
           <apply id="alg1.l10.m1.4.4.2.cmml" xref="alg1.l10.m1.4.4.2">
            <times id="alg1.l10.m1.4.4.2.3.cmml" xref="alg1.l10.m1.4.4.2.3">
            </times>
            <ci id="alg1.l10.m1.4.4.2.4a.cmml" xref="alg1.l10.m1.4.4.2.4">
             <mtext id="alg1.l10.m1.4.4.2.4.cmml" xref="alg1.l10.m1.4.4.2.4">
              SynthesizeForAction
             </mtext>
            </ci>
            <vector id="alg1.l10.m1.4.4.2.2.3.cmml" xref="alg1.l10.m1.4.4.2.2.2">
             <apply id="alg1.l10.m1.3.3.1.1.1.1.cmml" xref="alg1.l10.m1.3.3.1.1.1.1">
              <csymbol cd="ambiguous" id="alg1.l10.m1.3.3.1.1.1.1.1.cmml" xref="alg1.l10.m1.3.3.1.1.1.1">
               superscript
              </csymbol>
              <apply id="alg1.l10.m1.3.3.1.1.1.1.2.cmml" xref="alg1.l10.m1.3.3.1.1.1.1">
               <csymbol cd="ambiguous" id="alg1.l10.m1.3.3.1.1.1.1.2.1.cmml" xref="alg1.l10.m1.3.3.1.1.1.1">
                subscript
               </csymbol>
               <ci id="alg1.l10.m1.3.3.1.1.1.1.2.2.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.2.2">
                𝐷
               </ci>
               <ci id="alg1.l10.m1.3.3.1.1.1.1.2.3.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.2.3">
                𝑎
               </ci>
              </apply>
              <plus id="alg1.l10.m1.3.3.1.1.1.1.3.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3">
              </plus>
             </apply>
             <apply id="alg1.l10.m1.4.4.2.2.2.2.cmml" xref="alg1.l10.m1.4.4.2.2.2.2">
              <csymbol cd="ambiguous" id="alg1.l10.m1.4.4.2.2.2.2.1.cmml" xref="alg1.l10.m1.4.4.2.2.2.2">
               superscript
              </csymbol>
              <apply id="alg1.l10.m1.4.4.2.2.2.2.2.cmml" xref="alg1.l10.m1.4.4.2.2.2.2">
               <csymbol cd="ambiguous" id="alg1.l10.m1.4.4.2.2.2.2.2.1.cmml" xref="alg1.l10.m1.4.4.2.2.2.2">
                subscript
               </csymbol>
               <ci id="alg1.l10.m1.4.4.2.2.2.2.2.2.cmml" xref="alg1.l10.m1.4.4.2.2.2.2.2.2">
                𝐷
               </ci>
               <ci id="alg1.l10.m1.4.4.2.2.2.2.2.3.cmml" xref="alg1.l10.m1.4.4.2.2.2.2.2.3">
                𝑎
               </ci>
              </apply>
              <minus id="alg1.l10.m1.4.4.2.2.2.2.3.cmml" xref="alg1.l10.m1.4.4.2.2.2.2.3">
              </minus>
             </apply>
             <ci id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1">
              𝑔
             </ci>
             <ci id="alg1.l10.m1.2.2.cmml" xref="alg1.l10.m1.2.2">
              𝑜
             </ci>
            </vector>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l10.m1.4c">
          l_{a}\leftarrow\text{SynthesizeForAction}(D_{a}^{+},D_{a}^{-},g,o)
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l11">
       <span class="ltx_tag ltx_tag_listingline">
        11:
       </span>
       <math alttext="a\leftarrow\text{Actor}(o,\tau,\varphi,D_{a}^{+},l_{a},l_{g})" class="ltx_Math" display="inline" id="alg1.l11.m1.6">
        <semantics id="alg1.l11.m1.6a">
         <mrow id="alg1.l11.m1.6.6" xref="alg1.l11.m1.6.6.cmml">
          <mi id="alg1.l11.m1.6.6.5" xref="alg1.l11.m1.6.6.5.cmml">
           a
          </mi>
          <mo id="alg1.l11.m1.6.6.4" stretchy="false" xref="alg1.l11.m1.6.6.4.cmml">
           ←
          </mo>
          <mrow id="alg1.l11.m1.6.6.3" xref="alg1.l11.m1.6.6.3.cmml">
           <mtext id="alg1.l11.m1.6.6.3.5" xref="alg1.l11.m1.6.6.3.5a.cmml">
            Actor
           </mtext>
           <mo id="alg1.l11.m1.6.6.3.4" lspace="0em" rspace="0em" xref="alg1.l11.m1.6.6.3.4.cmml">
            ​
           </mo>
           <mrow id="alg1.l11.m1.6.6.3.3.3" xref="alg1.l11.m1.6.6.3.3.4.cmml">
            <mo id="alg1.l11.m1.6.6.3.3.3.4" stretchy="false" xref="alg1.l11.m1.6.6.3.3.4.cmml">
             (
            </mo>
            <mi id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml">
             o
            </mi>
            <mo id="alg1.l11.m1.6.6.3.3.3.5" xref="alg1.l11.m1.6.6.3.3.4.cmml">
             ,
            </mo>
            <mi id="alg1.l11.m1.2.2" xref="alg1.l11.m1.2.2.cmml">
             τ
            </mi>
            <mo id="alg1.l11.m1.6.6.3.3.3.6" xref="alg1.l11.m1.6.6.3.3.4.cmml">
             ,
            </mo>
            <mi id="alg1.l11.m1.3.3" xref="alg1.l11.m1.3.3.cmml">
             φ
            </mi>
            <mo id="alg1.l11.m1.6.6.3.3.3.7" xref="alg1.l11.m1.6.6.3.3.4.cmml">
             ,
            </mo>
            <msubsup id="alg1.l11.m1.4.4.1.1.1.1" xref="alg1.l11.m1.4.4.1.1.1.1.cmml">
             <mi id="alg1.l11.m1.4.4.1.1.1.1.2.2" xref="alg1.l11.m1.4.4.1.1.1.1.2.2.cmml">
              D
             </mi>
             <mi id="alg1.l11.m1.4.4.1.1.1.1.2.3" xref="alg1.l11.m1.4.4.1.1.1.1.2.3.cmml">
              a
             </mi>
             <mo id="alg1.l11.m1.4.4.1.1.1.1.3" xref="alg1.l11.m1.4.4.1.1.1.1.3.cmml">
              +
             </mo>
            </msubsup>
            <mo id="alg1.l11.m1.6.6.3.3.3.8" xref="alg1.l11.m1.6.6.3.3.4.cmml">
             ,
            </mo>
            <msub id="alg1.l11.m1.5.5.2.2.2.2" xref="alg1.l11.m1.5.5.2.2.2.2.cmml">
             <mi id="alg1.l11.m1.5.5.2.2.2.2.2" xref="alg1.l11.m1.5.5.2.2.2.2.2.cmml">
              l
             </mi>
             <mi id="alg1.l11.m1.5.5.2.2.2.2.3" xref="alg1.l11.m1.5.5.2.2.2.2.3.cmml">
              a
             </mi>
            </msub>
            <mo id="alg1.l11.m1.6.6.3.3.3.9" xref="alg1.l11.m1.6.6.3.3.4.cmml">
             ,
            </mo>
            <msub id="alg1.l11.m1.6.6.3.3.3.3" xref="alg1.l11.m1.6.6.3.3.3.3.cmml">
             <mi id="alg1.l11.m1.6.6.3.3.3.3.2" xref="alg1.l11.m1.6.6.3.3.3.3.2.cmml">
              l
             </mi>
             <mi id="alg1.l11.m1.6.6.3.3.3.3.3" xref="alg1.l11.m1.6.6.3.3.3.3.3.cmml">
              g
             </mi>
            </msub>
            <mo id="alg1.l11.m1.6.6.3.3.3.10" stretchy="false" xref="alg1.l11.m1.6.6.3.3.4.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l11.m1.6b">
          <apply id="alg1.l11.m1.6.6.cmml" xref="alg1.l11.m1.6.6">
           <ci id="alg1.l11.m1.6.6.4.cmml" xref="alg1.l11.m1.6.6.4">
            ←
           </ci>
           <ci id="alg1.l11.m1.6.6.5.cmml" xref="alg1.l11.m1.6.6.5">
            𝑎
           </ci>
           <apply id="alg1.l11.m1.6.6.3.cmml" xref="alg1.l11.m1.6.6.3">
            <times id="alg1.l11.m1.6.6.3.4.cmml" xref="alg1.l11.m1.6.6.3.4">
            </times>
            <ci id="alg1.l11.m1.6.6.3.5a.cmml" xref="alg1.l11.m1.6.6.3.5">
             <mtext id="alg1.l11.m1.6.6.3.5.cmml" xref="alg1.l11.m1.6.6.3.5">
              Actor
             </mtext>
            </ci>
            <vector id="alg1.l11.m1.6.6.3.3.4.cmml" xref="alg1.l11.m1.6.6.3.3.3">
             <ci id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1">
              𝑜
             </ci>
             <ci id="alg1.l11.m1.2.2.cmml" xref="alg1.l11.m1.2.2">
              𝜏
             </ci>
             <ci id="alg1.l11.m1.3.3.cmml" xref="alg1.l11.m1.3.3">
              𝜑
             </ci>
             <apply id="alg1.l11.m1.4.4.1.1.1.1.cmml" xref="alg1.l11.m1.4.4.1.1.1.1">
              <csymbol cd="ambiguous" id="alg1.l11.m1.4.4.1.1.1.1.1.cmml" xref="alg1.l11.m1.4.4.1.1.1.1">
               superscript
              </csymbol>
              <apply id="alg1.l11.m1.4.4.1.1.1.1.2.cmml" xref="alg1.l11.m1.4.4.1.1.1.1">
               <csymbol cd="ambiguous" id="alg1.l11.m1.4.4.1.1.1.1.2.1.cmml" xref="alg1.l11.m1.4.4.1.1.1.1">
                subscript
               </csymbol>
               <ci id="alg1.l11.m1.4.4.1.1.1.1.2.2.cmml" xref="alg1.l11.m1.4.4.1.1.1.1.2.2">
                𝐷
               </ci>
               <ci id="alg1.l11.m1.4.4.1.1.1.1.2.3.cmml" xref="alg1.l11.m1.4.4.1.1.1.1.2.3">
                𝑎
               </ci>
              </apply>
              <plus id="alg1.l11.m1.4.4.1.1.1.1.3.cmml" xref="alg1.l11.m1.4.4.1.1.1.1.3">
              </plus>
             </apply>
             <apply id="alg1.l11.m1.5.5.2.2.2.2.cmml" xref="alg1.l11.m1.5.5.2.2.2.2">
              <csymbol cd="ambiguous" id="alg1.l11.m1.5.5.2.2.2.2.1.cmml" xref="alg1.l11.m1.5.5.2.2.2.2">
               subscript
              </csymbol>
              <ci id="alg1.l11.m1.5.5.2.2.2.2.2.cmml" xref="alg1.l11.m1.5.5.2.2.2.2.2">
               𝑙
              </ci>
              <ci id="alg1.l11.m1.5.5.2.2.2.2.3.cmml" xref="alg1.l11.m1.5.5.2.2.2.2.3">
               𝑎
              </ci>
             </apply>
             <apply id="alg1.l11.m1.6.6.3.3.3.3.cmml" xref="alg1.l11.m1.6.6.3.3.3.3">
              <csymbol cd="ambiguous" id="alg1.l11.m1.6.6.3.3.3.3.1.cmml" xref="alg1.l11.m1.6.6.3.3.3.3">
               subscript
              </csymbol>
              <ci id="alg1.l11.m1.6.6.3.3.3.3.2.cmml" xref="alg1.l11.m1.6.6.3.3.3.3.2">
               𝑙
              </ci>
              <ci id="alg1.l11.m1.6.6.3.3.3.3.3.cmml" xref="alg1.l11.m1.6.6.3.3.3.3.3">
               𝑔
              </ci>
             </apply>
            </vector>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l11.m1.6c">
          a\leftarrow\text{Actor}(o,\tau,\varphi,D_{a}^{+},l_{a},l_{g})
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l12">
       <span class="ltx_tag ltx_tag_listingline">
        12:
       </span>
       <math alttext="o^{\prime},\varphi^{\prime}\leftarrow\text{Execute}(a)" class="ltx_Math" display="inline" id="alg1.l12.m1.3">
        <semantics id="alg1.l12.m1.3a">
         <mrow id="alg1.l12.m1.3.3" xref="alg1.l12.m1.3.3.cmml">
          <mrow id="alg1.l12.m1.3.3.2.2" xref="alg1.l12.m1.3.3.2.3.cmml">
           <msup id="alg1.l12.m1.2.2.1.1.1" xref="alg1.l12.m1.2.2.1.1.1.cmml">
            <mi id="alg1.l12.m1.2.2.1.1.1.2" xref="alg1.l12.m1.2.2.1.1.1.2.cmml">
             o
            </mi>
            <mo id="alg1.l12.m1.2.2.1.1.1.3" xref="alg1.l12.m1.2.2.1.1.1.3.cmml">
             ′
            </mo>
           </msup>
           <mo id="alg1.l12.m1.3.3.2.2.3" xref="alg1.l12.m1.3.3.2.3.cmml">
            ,
           </mo>
           <msup id="alg1.l12.m1.3.3.2.2.2" xref="alg1.l12.m1.3.3.2.2.2.cmml">
            <mi id="alg1.l12.m1.3.3.2.2.2.2" xref="alg1.l12.m1.3.3.2.2.2.2.cmml">
             φ
            </mi>
            <mo id="alg1.l12.m1.3.3.2.2.2.3" xref="alg1.l12.m1.3.3.2.2.2.3.cmml">
             ′
            </mo>
           </msup>
          </mrow>
          <mo id="alg1.l12.m1.3.3.3" stretchy="false" xref="alg1.l12.m1.3.3.3.cmml">
           ←
          </mo>
          <mrow id="alg1.l12.m1.3.3.4" xref="alg1.l12.m1.3.3.4.cmml">
           <mtext id="alg1.l12.m1.3.3.4.2" xref="alg1.l12.m1.3.3.4.2a.cmml">
            Execute
           </mtext>
           <mo id="alg1.l12.m1.3.3.4.1" lspace="0em" rspace="0em" xref="alg1.l12.m1.3.3.4.1.cmml">
            ​
           </mo>
           <mrow id="alg1.l12.m1.3.3.4.3.2" xref="alg1.l12.m1.3.3.4.cmml">
            <mo id="alg1.l12.m1.3.3.4.3.2.1" stretchy="false" xref="alg1.l12.m1.3.3.4.cmml">
             (
            </mo>
            <mi id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml">
             a
            </mi>
            <mo id="alg1.l12.m1.3.3.4.3.2.2" stretchy="false" xref="alg1.l12.m1.3.3.4.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l12.m1.3b">
          <apply id="alg1.l12.m1.3.3.cmml" xref="alg1.l12.m1.3.3">
           <ci id="alg1.l12.m1.3.3.3.cmml" xref="alg1.l12.m1.3.3.3">
            ←
           </ci>
           <list id="alg1.l12.m1.3.3.2.3.cmml" xref="alg1.l12.m1.3.3.2.2">
            <apply id="alg1.l12.m1.2.2.1.1.1.cmml" xref="alg1.l12.m1.2.2.1.1.1">
             <csymbol cd="ambiguous" id="alg1.l12.m1.2.2.1.1.1.1.cmml" xref="alg1.l12.m1.2.2.1.1.1">
              superscript
             </csymbol>
             <ci id="alg1.l12.m1.2.2.1.1.1.2.cmml" xref="alg1.l12.m1.2.2.1.1.1.2">
              𝑜
             </ci>
             <ci id="alg1.l12.m1.2.2.1.1.1.3.cmml" xref="alg1.l12.m1.2.2.1.1.1.3">
              ′
             </ci>
            </apply>
            <apply id="alg1.l12.m1.3.3.2.2.2.cmml" xref="alg1.l12.m1.3.3.2.2.2">
             <csymbol cd="ambiguous" id="alg1.l12.m1.3.3.2.2.2.1.cmml" xref="alg1.l12.m1.3.3.2.2.2">
              superscript
             </csymbol>
             <ci id="alg1.l12.m1.3.3.2.2.2.2.cmml" xref="alg1.l12.m1.3.3.2.2.2.2">
              𝜑
             </ci>
             <ci id="alg1.l12.m1.3.3.2.2.2.3.cmml" xref="alg1.l12.m1.3.3.2.2.2.3">
              ′
             </ci>
            </apply>
           </list>
           <apply id="alg1.l12.m1.3.3.4.cmml" xref="alg1.l12.m1.3.3.4">
            <times id="alg1.l12.m1.3.3.4.1.cmml" xref="alg1.l12.m1.3.3.4.1">
            </times>
            <ci id="alg1.l12.m1.3.3.4.2a.cmml" xref="alg1.l12.m1.3.3.4.2">
             <mtext id="alg1.l12.m1.3.3.4.2.cmml" xref="alg1.l12.m1.3.3.4.2">
              Execute
             </mtext>
            </ci>
            <ci id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1">
             𝑎
            </ci>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l12.m1.3c">
          o^{\prime},\varphi^{\prime}\leftarrow\text{Execute}(a)
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l13">
       <span class="ltx_tag ltx_tag_listingline">
        13:
       </span>
       <math alttext="\tau^{\prime}\leftarrow\tau\cup\{(a,o^{\prime})\}" class="ltx_Math" display="inline" id="alg1.l13.m1.2">
        <semantics id="alg1.l13.m1.2a">
         <mrow id="alg1.l13.m1.2.2" xref="alg1.l13.m1.2.2.cmml">
          <msup id="alg1.l13.m1.2.2.3" xref="alg1.l13.m1.2.2.3.cmml">
           <mi id="alg1.l13.m1.2.2.3.2" xref="alg1.l13.m1.2.2.3.2.cmml">
            τ
           </mi>
           <mo id="alg1.l13.m1.2.2.3.3" xref="alg1.l13.m1.2.2.3.3.cmml">
            ′
           </mo>
          </msup>
          <mo id="alg1.l13.m1.2.2.2" stretchy="false" xref="alg1.l13.m1.2.2.2.cmml">
           ←
          </mo>
          <mrow id="alg1.l13.m1.2.2.1" xref="alg1.l13.m1.2.2.1.cmml">
           <mi id="alg1.l13.m1.2.2.1.3" xref="alg1.l13.m1.2.2.1.3.cmml">
            τ
           </mi>
           <mo id="alg1.l13.m1.2.2.1.2" xref="alg1.l13.m1.2.2.1.2.cmml">
            ∪
           </mo>
           <mrow id="alg1.l13.m1.2.2.1.1.1" xref="alg1.l13.m1.2.2.1.1.2.cmml">
            <mo id="alg1.l13.m1.2.2.1.1.1.2" stretchy="false" xref="alg1.l13.m1.2.2.1.1.2.cmml">
             {
            </mo>
            <mrow id="alg1.l13.m1.2.2.1.1.1.1.1" xref="alg1.l13.m1.2.2.1.1.1.1.2.cmml">
             <mo id="alg1.l13.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="alg1.l13.m1.2.2.1.1.1.1.2.cmml">
              (
             </mo>
             <mi id="alg1.l13.m1.1.1" xref="alg1.l13.m1.1.1.cmml">
              a
             </mi>
             <mo id="alg1.l13.m1.2.2.1.1.1.1.1.3" xref="alg1.l13.m1.2.2.1.1.1.1.2.cmml">
              ,
             </mo>
             <msup id="alg1.l13.m1.2.2.1.1.1.1.1.1" xref="alg1.l13.m1.2.2.1.1.1.1.1.1.cmml">
              <mi id="alg1.l13.m1.2.2.1.1.1.1.1.1.2" xref="alg1.l13.m1.2.2.1.1.1.1.1.1.2.cmml">
               o
              </mi>
              <mo id="alg1.l13.m1.2.2.1.1.1.1.1.1.3" xref="alg1.l13.m1.2.2.1.1.1.1.1.1.3.cmml">
               ′
              </mo>
             </msup>
             <mo id="alg1.l13.m1.2.2.1.1.1.1.1.4" stretchy="false" xref="alg1.l13.m1.2.2.1.1.1.1.2.cmml">
              )
             </mo>
            </mrow>
            <mo id="alg1.l13.m1.2.2.1.1.1.3" stretchy="false" xref="alg1.l13.m1.2.2.1.1.2.cmml">
             }
            </mo>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l13.m1.2b">
          <apply id="alg1.l13.m1.2.2.cmml" xref="alg1.l13.m1.2.2">
           <ci id="alg1.l13.m1.2.2.2.cmml" xref="alg1.l13.m1.2.2.2">
            ←
           </ci>
           <apply id="alg1.l13.m1.2.2.3.cmml" xref="alg1.l13.m1.2.2.3">
            <csymbol cd="ambiguous" id="alg1.l13.m1.2.2.3.1.cmml" xref="alg1.l13.m1.2.2.3">
             superscript
            </csymbol>
            <ci id="alg1.l13.m1.2.2.3.2.cmml" xref="alg1.l13.m1.2.2.3.2">
             𝜏
            </ci>
            <ci id="alg1.l13.m1.2.2.3.3.cmml" xref="alg1.l13.m1.2.2.3.3">
             ′
            </ci>
           </apply>
           <apply id="alg1.l13.m1.2.2.1.cmml" xref="alg1.l13.m1.2.2.1">
            <union id="alg1.l13.m1.2.2.1.2.cmml" xref="alg1.l13.m1.2.2.1.2">
            </union>
            <ci id="alg1.l13.m1.2.2.1.3.cmml" xref="alg1.l13.m1.2.2.1.3">
             𝜏
            </ci>
            <set id="alg1.l13.m1.2.2.1.1.2.cmml" xref="alg1.l13.m1.2.2.1.1.1">
             <interval closure="open" id="alg1.l13.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l13.m1.2.2.1.1.1.1.1">
              <ci id="alg1.l13.m1.1.1.cmml" xref="alg1.l13.m1.1.1">
               𝑎
              </ci>
              <apply id="alg1.l13.m1.2.2.1.1.1.1.1.1.cmml" xref="alg1.l13.m1.2.2.1.1.1.1.1.1">
               <csymbol cd="ambiguous" id="alg1.l13.m1.2.2.1.1.1.1.1.1.1.cmml" xref="alg1.l13.m1.2.2.1.1.1.1.1.1">
                superscript
               </csymbol>
               <ci id="alg1.l13.m1.2.2.1.1.1.1.1.1.2.cmml" xref="alg1.l13.m1.2.2.1.1.1.1.1.1.2">
                𝑜
               </ci>
               <ci id="alg1.l13.m1.2.2.1.1.1.1.1.1.3.cmml" xref="alg1.l13.m1.2.2.1.1.1.1.1.1.3">
                ′
               </ci>
              </apply>
             </interval>
            </set>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l13.m1.2c">
          \tau^{\prime}\leftarrow\tau\cup\{(a,o^{\prime})\}
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l14">
       <span class="ltx_tag ltx_tag_listingline">
        14:
       </span>
       <math alttext="\textit{done},p,\varphi^{\prime}\leftarrow\text{Verify}(o,o^{\prime},\tau^{\prime},\varphi^{\prime})" class="ltx_Math" display="inline" id="alg1.l14.m1.7">
        <semantics id="alg1.l14.m1.7a">
         <mrow id="alg1.l14.m1.7.7" xref="alg1.l14.m1.7.7.cmml">
          <mrow id="alg1.l14.m1.4.4.1.1" xref="alg1.l14.m1.4.4.1.2.cmml">
           <mtext class="ltx_mathvariant_italic" id="alg1.l14.m1.2.2" xref="alg1.l14.m1.2.2a.cmml">
            done
           </mtext>
           <mo id="alg1.l14.m1.4.4.1.1.2" xref="alg1.l14.m1.4.4.1.2.cmml">
            ,
           </mo>
           <mi id="alg1.l14.m1.3.3" xref="alg1.l14.m1.3.3.cmml">
            p
           </mi>
           <mo id="alg1.l14.m1.4.4.1.1.3" xref="alg1.l14.m1.4.4.1.2.cmml">
            ,
           </mo>
           <msup id="alg1.l14.m1.4.4.1.1.1" xref="alg1.l14.m1.4.4.1.1.1.cmml">
            <mi id="alg1.l14.m1.4.4.1.1.1.2" xref="alg1.l14.m1.4.4.1.1.1.2.cmml">
             φ
            </mi>
            <mo id="alg1.l14.m1.4.4.1.1.1.3" xref="alg1.l14.m1.4.4.1.1.1.3.cmml">
             ′
            </mo>
           </msup>
          </mrow>
          <mo id="alg1.l14.m1.7.7.5" stretchy="false" xref="alg1.l14.m1.7.7.5.cmml">
           ←
          </mo>
          <mrow id="alg1.l14.m1.7.7.4" xref="alg1.l14.m1.7.7.4.cmml">
           <mtext id="alg1.l14.m1.7.7.4.5" xref="alg1.l14.m1.7.7.4.5a.cmml">
            Verify
           </mtext>
           <mo id="alg1.l14.m1.7.7.4.4" lspace="0em" rspace="0em" xref="alg1.l14.m1.7.7.4.4.cmml">
            ​
           </mo>
           <mrow id="alg1.l14.m1.7.7.4.3.3" xref="alg1.l14.m1.7.7.4.3.4.cmml">
            <mo id="alg1.l14.m1.7.7.4.3.3.4" stretchy="false" xref="alg1.l14.m1.7.7.4.3.4.cmml">
             (
            </mo>
            <mi id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml">
             o
            </mi>
            <mo id="alg1.l14.m1.7.7.4.3.3.5" xref="alg1.l14.m1.7.7.4.3.4.cmml">
             ,
            </mo>
            <msup id="alg1.l14.m1.5.5.2.1.1.1" xref="alg1.l14.m1.5.5.2.1.1.1.cmml">
             <mi id="alg1.l14.m1.5.5.2.1.1.1.2" xref="alg1.l14.m1.5.5.2.1.1.1.2.cmml">
              o
             </mi>
             <mo id="alg1.l14.m1.5.5.2.1.1.1.3" xref="alg1.l14.m1.5.5.2.1.1.1.3.cmml">
              ′
             </mo>
            </msup>
            <mo id="alg1.l14.m1.7.7.4.3.3.6" xref="alg1.l14.m1.7.7.4.3.4.cmml">
             ,
            </mo>
            <msup id="alg1.l14.m1.6.6.3.2.2.2" xref="alg1.l14.m1.6.6.3.2.2.2.cmml">
             <mi id="alg1.l14.m1.6.6.3.2.2.2.2" xref="alg1.l14.m1.6.6.3.2.2.2.2.cmml">
              τ
             </mi>
             <mo id="alg1.l14.m1.6.6.3.2.2.2.3" xref="alg1.l14.m1.6.6.3.2.2.2.3.cmml">
              ′
             </mo>
            </msup>
            <mo id="alg1.l14.m1.7.7.4.3.3.7" xref="alg1.l14.m1.7.7.4.3.4.cmml">
             ,
            </mo>
            <msup id="alg1.l14.m1.7.7.4.3.3.3" xref="alg1.l14.m1.7.7.4.3.3.3.cmml">
             <mi id="alg1.l14.m1.7.7.4.3.3.3.2" xref="alg1.l14.m1.7.7.4.3.3.3.2.cmml">
              φ
             </mi>
             <mo id="alg1.l14.m1.7.7.4.3.3.3.3" xref="alg1.l14.m1.7.7.4.3.3.3.3.cmml">
              ′
             </mo>
            </msup>
            <mo id="alg1.l14.m1.7.7.4.3.3.8" stretchy="false" xref="alg1.l14.m1.7.7.4.3.4.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l14.m1.7b">
          <apply id="alg1.l14.m1.7.7.cmml" xref="alg1.l14.m1.7.7">
           <ci id="alg1.l14.m1.7.7.5.cmml" xref="alg1.l14.m1.7.7.5">
            ←
           </ci>
           <list id="alg1.l14.m1.4.4.1.2.cmml" xref="alg1.l14.m1.4.4.1.1">
            <ci id="alg1.l14.m1.2.2a.cmml" xref="alg1.l14.m1.2.2">
             <mtext class="ltx_mathvariant_italic" id="alg1.l14.m1.2.2.cmml" xref="alg1.l14.m1.2.2">
              done
             </mtext>
            </ci>
            <ci id="alg1.l14.m1.3.3.cmml" xref="alg1.l14.m1.3.3">
             𝑝
            </ci>
            <apply id="alg1.l14.m1.4.4.1.1.1.cmml" xref="alg1.l14.m1.4.4.1.1.1">
             <csymbol cd="ambiguous" id="alg1.l14.m1.4.4.1.1.1.1.cmml" xref="alg1.l14.m1.4.4.1.1.1">
              superscript
             </csymbol>
             <ci id="alg1.l14.m1.4.4.1.1.1.2.cmml" xref="alg1.l14.m1.4.4.1.1.1.2">
              𝜑
             </ci>
             <ci id="alg1.l14.m1.4.4.1.1.1.3.cmml" xref="alg1.l14.m1.4.4.1.1.1.3">
              ′
             </ci>
            </apply>
           </list>
           <apply id="alg1.l14.m1.7.7.4.cmml" xref="alg1.l14.m1.7.7.4">
            <times id="alg1.l14.m1.7.7.4.4.cmml" xref="alg1.l14.m1.7.7.4.4">
            </times>
            <ci id="alg1.l14.m1.7.7.4.5a.cmml" xref="alg1.l14.m1.7.7.4.5">
             <mtext id="alg1.l14.m1.7.7.4.5.cmml" xref="alg1.l14.m1.7.7.4.5">
              Verify
             </mtext>
            </ci>
            <vector id="alg1.l14.m1.7.7.4.3.4.cmml" xref="alg1.l14.m1.7.7.4.3.3">
             <ci id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1">
              𝑜
             </ci>
             <apply id="alg1.l14.m1.5.5.2.1.1.1.cmml" xref="alg1.l14.m1.5.5.2.1.1.1">
              <csymbol cd="ambiguous" id="alg1.l14.m1.5.5.2.1.1.1.1.cmml" xref="alg1.l14.m1.5.5.2.1.1.1">
               superscript
              </csymbol>
              <ci id="alg1.l14.m1.5.5.2.1.1.1.2.cmml" xref="alg1.l14.m1.5.5.2.1.1.1.2">
               𝑜
              </ci>
              <ci id="alg1.l14.m1.5.5.2.1.1.1.3.cmml" xref="alg1.l14.m1.5.5.2.1.1.1.3">
               ′
              </ci>
             </apply>
             <apply id="alg1.l14.m1.6.6.3.2.2.2.cmml" xref="alg1.l14.m1.6.6.3.2.2.2">
              <csymbol cd="ambiguous" id="alg1.l14.m1.6.6.3.2.2.2.1.cmml" xref="alg1.l14.m1.6.6.3.2.2.2">
               superscript
              </csymbol>
              <ci id="alg1.l14.m1.6.6.3.2.2.2.2.cmml" xref="alg1.l14.m1.6.6.3.2.2.2.2">
               𝜏
              </ci>
              <ci id="alg1.l14.m1.6.6.3.2.2.2.3.cmml" xref="alg1.l14.m1.6.6.3.2.2.2.3">
               ′
              </ci>
             </apply>
             <apply id="alg1.l14.m1.7.7.4.3.3.3.cmml" xref="alg1.l14.m1.7.7.4.3.3.3">
              <csymbol cd="ambiguous" id="alg1.l14.m1.7.7.4.3.3.3.1.cmml" xref="alg1.l14.m1.7.7.4.3.3.3">
               superscript
              </csymbol>
              <ci id="alg1.l14.m1.7.7.4.3.3.3.2.cmml" xref="alg1.l14.m1.7.7.4.3.3.3.2">
               𝜑
              </ci>
              <ci id="alg1.l14.m1.7.7.4.3.3.3.3.cmml" xref="alg1.l14.m1.7.7.4.3.3.3.3">
               ′
              </ci>
             </apply>
            </vector>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l14.m1.7c">
          \textit{done},p,\varphi^{\prime}\leftarrow\text{Verify}(o,o^{\prime},\tau^{\prime},\varphi^{\prime})
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l15">
       <span class="ltx_tag ltx_tag_listingline">
        15:
       </span>
       <math alttext="\varphi\leftarrow\varphi\cup\varphi^{\prime}" class="ltx_Math" display="inline" id="alg1.l15.m1.1">
        <semantics id="alg1.l15.m1.1a">
         <mrow id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml">
          <mi id="alg1.l15.m1.1.1.2" xref="alg1.l15.m1.1.1.2.cmml">
           φ
          </mi>
          <mo id="alg1.l15.m1.1.1.1" stretchy="false" xref="alg1.l15.m1.1.1.1.cmml">
           ←
          </mo>
          <mrow id="alg1.l15.m1.1.1.3" xref="alg1.l15.m1.1.1.3.cmml">
           <mi id="alg1.l15.m1.1.1.3.2" xref="alg1.l15.m1.1.1.3.2.cmml">
            φ
           </mi>
           <mo id="alg1.l15.m1.1.1.3.1" xref="alg1.l15.m1.1.1.3.1.cmml">
            ∪
           </mo>
           <msup id="alg1.l15.m1.1.1.3.3" xref="alg1.l15.m1.1.1.3.3.cmml">
            <mi id="alg1.l15.m1.1.1.3.3.2" xref="alg1.l15.m1.1.1.3.3.2.cmml">
             φ
            </mi>
            <mo id="alg1.l15.m1.1.1.3.3.3" xref="alg1.l15.m1.1.1.3.3.3.cmml">
             ′
            </mo>
           </msup>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l15.m1.1b">
          <apply id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1">
           <ci id="alg1.l15.m1.1.1.1.cmml" xref="alg1.l15.m1.1.1.1">
            ←
           </ci>
           <ci id="alg1.l15.m1.1.1.2.cmml" xref="alg1.l15.m1.1.1.2">
            𝜑
           </ci>
           <apply id="alg1.l15.m1.1.1.3.cmml" xref="alg1.l15.m1.1.1.3">
            <union id="alg1.l15.m1.1.1.3.1.cmml" xref="alg1.l15.m1.1.1.3.1">
            </union>
            <ci id="alg1.l15.m1.1.1.3.2.cmml" xref="alg1.l15.m1.1.1.3.2">
             𝜑
            </ci>
            <apply id="alg1.l15.m1.1.1.3.3.cmml" xref="alg1.l15.m1.1.1.3.3">
             <csymbol cd="ambiguous" id="alg1.l15.m1.1.1.3.3.1.cmml" xref="alg1.l15.m1.1.1.3.3">
              superscript
             </csymbol>
             <ci id="alg1.l15.m1.1.1.3.3.2.cmml" xref="alg1.l15.m1.1.1.3.3.2">
              𝜑
             </ci>
             <ci id="alg1.l15.m1.1.1.3.3.3.cmml" xref="alg1.l15.m1.1.1.3.3.3">
              ′
             </ci>
            </apply>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l15.m1.1c">
          \varphi\leftarrow\varphi\cup\varphi^{\prime}
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l16">
       <span class="ltx_tag ltx_tag_listingline">
        16:
       </span>
       <span class="ltx_text ltx_font_bold" id="alg1.l16.1">
        if
       </span>
       <math alttext="\textit{done}=\textsc{continue}" class="ltx_Math" display="inline" id="alg1.l16.m1.1">
        <semantics id="alg1.l16.m1.1a">
         <mrow id="alg1.l16.m1.1.1" xref="alg1.l16.m1.1.1.cmml">
          <mtext class="ltx_mathvariant_italic" id="alg1.l16.m1.1.1.2" xref="alg1.l16.m1.1.1.2a.cmml">
           done
          </mtext>
          <mo id="alg1.l16.m1.1.1.1" xref="alg1.l16.m1.1.1.1.cmml">
           =
          </mo>
          <mtext class="ltx_font_smallcaps" id="alg1.l16.m1.1.1.3" xref="alg1.l16.m1.1.1.3a.cmml">
           continue
          </mtext>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l16.m1.1b">
          <apply id="alg1.l16.m1.1.1.cmml" xref="alg1.l16.m1.1.1">
           <eq id="alg1.l16.m1.1.1.1.cmml" xref="alg1.l16.m1.1.1.1">
           </eq>
           <ci id="alg1.l16.m1.1.1.2a.cmml" xref="alg1.l16.m1.1.1.2">
            <mtext class="ltx_mathvariant_italic" id="alg1.l16.m1.1.1.2.cmml" xref="alg1.l16.m1.1.1.2">
             done
            </mtext>
           </ci>
           <ci id="alg1.l16.m1.1.1.3a.cmml" xref="alg1.l16.m1.1.1.3">
            <mtext class="ltx_font_smallcaps" id="alg1.l16.m1.1.1.3.cmml" xref="alg1.l16.m1.1.1.3">
             continue
            </mtext>
           </ci>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l16.m1.1c">
          \textit{done}=\textsc{continue}
         </annotation>
        </semantics>
       </math>
       <span class="ltx_text ltx_font_bold" id="alg1.l16.2">
        then
       </span>
      </div>
      <div class="ltx_listingline" id="alg1.l17">
       <span class="ltx_tag ltx_tag_listingline">
        17:
       </span>
       <math alttext="o\leftarrow o^{\prime}" class="ltx_Math" display="inline" id="alg1.l17.m1.1">
        <semantics id="alg1.l17.m1.1a">
         <mrow id="alg1.l17.m1.1.1" xref="alg1.l17.m1.1.1.cmml">
          <mi id="alg1.l17.m1.1.1.2" xref="alg1.l17.m1.1.1.2.cmml">
           o
          </mi>
          <mo id="alg1.l17.m1.1.1.1" stretchy="false" xref="alg1.l17.m1.1.1.1.cmml">
           ←
          </mo>
          <msup id="alg1.l17.m1.1.1.3" xref="alg1.l17.m1.1.1.3.cmml">
           <mi id="alg1.l17.m1.1.1.3.2" xref="alg1.l17.m1.1.1.3.2.cmml">
            o
           </mi>
           <mo id="alg1.l17.m1.1.1.3.3" xref="alg1.l17.m1.1.1.3.3.cmml">
            ′
           </mo>
          </msup>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l17.m1.1b">
          <apply id="alg1.l17.m1.1.1.cmml" xref="alg1.l17.m1.1.1">
           <ci id="alg1.l17.m1.1.1.1.cmml" xref="alg1.l17.m1.1.1.1">
            ←
           </ci>
           <ci id="alg1.l17.m1.1.1.2.cmml" xref="alg1.l17.m1.1.1.2">
            𝑜
           </ci>
           <apply id="alg1.l17.m1.1.1.3.cmml" xref="alg1.l17.m1.1.1.3">
            <csymbol cd="ambiguous" id="alg1.l17.m1.1.1.3.1.cmml" xref="alg1.l17.m1.1.1.3">
             superscript
            </csymbol>
            <ci id="alg1.l17.m1.1.1.3.2.cmml" xref="alg1.l17.m1.1.1.3.2">
             𝑜
            </ci>
            <ci id="alg1.l17.m1.1.1.3.3.cmml" xref="alg1.l17.m1.1.1.3.3">
             ′
            </ci>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l17.m1.1c">
          o\leftarrow o^{\prime}
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l18">
       <span class="ltx_tag ltx_tag_listingline">
        18:
       </span>
       <math alttext="\tau\leftarrow\tau^{\prime}" class="ltx_Math" display="inline" id="alg1.l18.m1.1">
        <semantics id="alg1.l18.m1.1a">
         <mrow id="alg1.l18.m1.1.1" xref="alg1.l18.m1.1.1.cmml">
          <mi id="alg1.l18.m1.1.1.2" xref="alg1.l18.m1.1.1.2.cmml">
           τ
          </mi>
          <mo id="alg1.l18.m1.1.1.1" stretchy="false" xref="alg1.l18.m1.1.1.1.cmml">
           ←
          </mo>
          <msup id="alg1.l18.m1.1.1.3" xref="alg1.l18.m1.1.1.3.cmml">
           <mi id="alg1.l18.m1.1.1.3.2" xref="alg1.l18.m1.1.1.3.2.cmml">
            τ
           </mi>
           <mo id="alg1.l18.m1.1.1.3.3" xref="alg1.l18.m1.1.1.3.3.cmml">
            ′
           </mo>
          </msup>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l18.m1.1b">
          <apply id="alg1.l18.m1.1.1.cmml" xref="alg1.l18.m1.1.1">
           <ci id="alg1.l18.m1.1.1.1.cmml" xref="alg1.l18.m1.1.1.1">
            ←
           </ci>
           <ci id="alg1.l18.m1.1.1.2.cmml" xref="alg1.l18.m1.1.1.2">
            𝜏
           </ci>
           <apply id="alg1.l18.m1.1.1.3.cmml" xref="alg1.l18.m1.1.1.3">
            <csymbol cd="ambiguous" id="alg1.l18.m1.1.1.3.1.cmml" xref="alg1.l18.m1.1.1.3">
             superscript
            </csymbol>
            <ci id="alg1.l18.m1.1.1.3.2.cmml" xref="alg1.l18.m1.1.1.3.2">
             𝜏
            </ci>
            <ci id="alg1.l18.m1.1.1.3.3.cmml" xref="alg1.l18.m1.1.1.3.3">
             ′
            </ci>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l18.m1.1c">
          \tau\leftarrow\tau^{\prime}
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l19">
       <span class="ltx_tag ltx_tag_listingline">
        19:
       </span>
       <span class="ltx_text ltx_font_bold" id="alg1.l19.1">
        else
       </span>
       <span class="ltx_text ltx_font_bold" id="alg1.l19.2">
        if
       </span>
       <math alttext="\textit{done}=\textsc{backtrack}" class="ltx_Math" display="inline" id="alg1.l19.m1.1">
        <semantics id="alg1.l19.m1.1a">
         <mrow id="alg1.l19.m1.1.1" xref="alg1.l19.m1.1.1.cmml">
          <mtext class="ltx_mathvariant_italic" id="alg1.l19.m1.1.1.2" xref="alg1.l19.m1.1.1.2a.cmml">
           done
          </mtext>
          <mo id="alg1.l19.m1.1.1.1" xref="alg1.l19.m1.1.1.1.cmml">
           =
          </mo>
          <mtext class="ltx_font_smallcaps" id="alg1.l19.m1.1.1.3" xref="alg1.l19.m1.1.1.3a.cmml">
           backtrack
          </mtext>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l19.m1.1b">
          <apply id="alg1.l19.m1.1.1.cmml" xref="alg1.l19.m1.1.1">
           <eq id="alg1.l19.m1.1.1.1.cmml" xref="alg1.l19.m1.1.1.1">
           </eq>
           <ci id="alg1.l19.m1.1.1.2a.cmml" xref="alg1.l19.m1.1.1.2">
            <mtext class="ltx_mathvariant_italic" id="alg1.l19.m1.1.1.2.cmml" xref="alg1.l19.m1.1.1.2">
             done
            </mtext>
           </ci>
           <ci id="alg1.l19.m1.1.1.3a.cmml" xref="alg1.l19.m1.1.1.3">
            <mtext class="ltx_font_smallcaps" id="alg1.l19.m1.1.1.3.cmml" xref="alg1.l19.m1.1.1.3">
             backtrack
            </mtext>
           </ci>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l19.m1.1c">
          \textit{done}=\textsc{backtrack}
         </annotation>
        </semantics>
       </math>
       <span class="ltx_text ltx_font_bold" id="alg1.l19.3">
        then
       </span>
      </div>
      <div class="ltx_listingline" id="alg1.l20">
       <span class="ltx_tag ltx_tag_listingline">
        20:
       </span>
       <math alttext="o_{b},\tau,p\leftarrow\text{Previous}(\tau)" class="ltx_Math" display="inline" id="alg1.l20.m1.4">
        <semantics id="alg1.l20.m1.4a">
         <mrow id="alg1.l20.m1.4.4" xref="alg1.l20.m1.4.4.cmml">
          <mrow id="alg1.l20.m1.4.4.1.1" xref="alg1.l20.m1.4.4.1.2.cmml">
           <msub id="alg1.l20.m1.4.4.1.1.1" xref="alg1.l20.m1.4.4.1.1.1.cmml">
            <mi id="alg1.l20.m1.4.4.1.1.1.2" xref="alg1.l20.m1.4.4.1.1.1.2.cmml">
             o
            </mi>
            <mi id="alg1.l20.m1.4.4.1.1.1.3" xref="alg1.l20.m1.4.4.1.1.1.3.cmml">
             b
            </mi>
           </msub>
           <mo id="alg1.l20.m1.4.4.1.1.2" xref="alg1.l20.m1.4.4.1.2.cmml">
            ,
           </mo>
           <mi id="alg1.l20.m1.2.2" xref="alg1.l20.m1.2.2.cmml">
            τ
           </mi>
           <mo id="alg1.l20.m1.4.4.1.1.3" xref="alg1.l20.m1.4.4.1.2.cmml">
            ,
           </mo>
           <mi id="alg1.l20.m1.3.3" xref="alg1.l20.m1.3.3.cmml">
            p
           </mi>
          </mrow>
          <mo id="alg1.l20.m1.4.4.2" stretchy="false" xref="alg1.l20.m1.4.4.2.cmml">
           ←
          </mo>
          <mrow id="alg1.l20.m1.4.4.3" xref="alg1.l20.m1.4.4.3.cmml">
           <mtext id="alg1.l20.m1.4.4.3.2" xref="alg1.l20.m1.4.4.3.2a.cmml">
            Previous
           </mtext>
           <mo id="alg1.l20.m1.4.4.3.1" lspace="0em" rspace="0em" xref="alg1.l20.m1.4.4.3.1.cmml">
            ​
           </mo>
           <mrow id="alg1.l20.m1.4.4.3.3.2" xref="alg1.l20.m1.4.4.3.cmml">
            <mo id="alg1.l20.m1.4.4.3.3.2.1" stretchy="false" xref="alg1.l20.m1.4.4.3.cmml">
             (
            </mo>
            <mi id="alg1.l20.m1.1.1" xref="alg1.l20.m1.1.1.cmml">
             τ
            </mi>
            <mo id="alg1.l20.m1.4.4.3.3.2.2" stretchy="false" xref="alg1.l20.m1.4.4.3.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l20.m1.4b">
          <apply id="alg1.l20.m1.4.4.cmml" xref="alg1.l20.m1.4.4">
           <ci id="alg1.l20.m1.4.4.2.cmml" xref="alg1.l20.m1.4.4.2">
            ←
           </ci>
           <list id="alg1.l20.m1.4.4.1.2.cmml" xref="alg1.l20.m1.4.4.1.1">
            <apply id="alg1.l20.m1.4.4.1.1.1.cmml" xref="alg1.l20.m1.4.4.1.1.1">
             <csymbol cd="ambiguous" id="alg1.l20.m1.4.4.1.1.1.1.cmml" xref="alg1.l20.m1.4.4.1.1.1">
              subscript
             </csymbol>
             <ci id="alg1.l20.m1.4.4.1.1.1.2.cmml" xref="alg1.l20.m1.4.4.1.1.1.2">
              𝑜
             </ci>
             <ci id="alg1.l20.m1.4.4.1.1.1.3.cmml" xref="alg1.l20.m1.4.4.1.1.1.3">
              𝑏
             </ci>
            </apply>
            <ci id="alg1.l20.m1.2.2.cmml" xref="alg1.l20.m1.2.2">
             𝜏
            </ci>
            <ci id="alg1.l20.m1.3.3.cmml" xref="alg1.l20.m1.3.3">
             𝑝
            </ci>
           </list>
           <apply id="alg1.l20.m1.4.4.3.cmml" xref="alg1.l20.m1.4.4.3">
            <times id="alg1.l20.m1.4.4.3.1.cmml" xref="alg1.l20.m1.4.4.3.1">
            </times>
            <ci id="alg1.l20.m1.4.4.3.2a.cmml" xref="alg1.l20.m1.4.4.3.2">
             <mtext id="alg1.l20.m1.4.4.3.2.cmml" xref="alg1.l20.m1.4.4.3.2">
              Previous
             </mtext>
            </ci>
            <ci id="alg1.l20.m1.1.1.cmml" xref="alg1.l20.m1.1.1">
             𝜏
            </ci>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l20.m1.4c">
          o_{b},\tau,p\leftarrow\text{Previous}(\tau)
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l21">
       <span class="ltx_tag ltx_tag_listingline">
        21:
       </span>
       <math alttext="o\leftarrow\text{Revert}(o_{b})" class="ltx_Math" display="inline" id="alg1.l21.m1.1">
        <semantics id="alg1.l21.m1.1a">
         <mrow id="alg1.l21.m1.1.1" xref="alg1.l21.m1.1.1.cmml">
          <mi id="alg1.l21.m1.1.1.3" xref="alg1.l21.m1.1.1.3.cmml">
           o
          </mi>
          <mo id="alg1.l21.m1.1.1.2" stretchy="false" xref="alg1.l21.m1.1.1.2.cmml">
           ←
          </mo>
          <mrow id="alg1.l21.m1.1.1.1" xref="alg1.l21.m1.1.1.1.cmml">
           <mtext id="alg1.l21.m1.1.1.1.3" xref="alg1.l21.m1.1.1.1.3a.cmml">
            Revert
           </mtext>
           <mo id="alg1.l21.m1.1.1.1.2" lspace="0em" rspace="0em" xref="alg1.l21.m1.1.1.1.2.cmml">
            ​
           </mo>
           <mrow id="alg1.l21.m1.1.1.1.1.1" xref="alg1.l21.m1.1.1.1.1.1.1.cmml">
            <mo id="alg1.l21.m1.1.1.1.1.1.2" stretchy="false" xref="alg1.l21.m1.1.1.1.1.1.1.cmml">
             (
            </mo>
            <msub id="alg1.l21.m1.1.1.1.1.1.1" xref="alg1.l21.m1.1.1.1.1.1.1.cmml">
             <mi id="alg1.l21.m1.1.1.1.1.1.1.2" xref="alg1.l21.m1.1.1.1.1.1.1.2.cmml">
              o
             </mi>
             <mi id="alg1.l21.m1.1.1.1.1.1.1.3" xref="alg1.l21.m1.1.1.1.1.1.1.3.cmml">
              b
             </mi>
            </msub>
            <mo id="alg1.l21.m1.1.1.1.1.1.3" stretchy="false" xref="alg1.l21.m1.1.1.1.1.1.1.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l21.m1.1b">
          <apply id="alg1.l21.m1.1.1.cmml" xref="alg1.l21.m1.1.1">
           <ci id="alg1.l21.m1.1.1.2.cmml" xref="alg1.l21.m1.1.1.2">
            ←
           </ci>
           <ci id="alg1.l21.m1.1.1.3.cmml" xref="alg1.l21.m1.1.1.3">
            𝑜
           </ci>
           <apply id="alg1.l21.m1.1.1.1.cmml" xref="alg1.l21.m1.1.1.1">
            <times id="alg1.l21.m1.1.1.1.2.cmml" xref="alg1.l21.m1.1.1.1.2">
            </times>
            <ci id="alg1.l21.m1.1.1.1.3a.cmml" xref="alg1.l21.m1.1.1.1.3">
             <mtext id="alg1.l21.m1.1.1.1.3.cmml" xref="alg1.l21.m1.1.1.1.3">
              Revert
             </mtext>
            </ci>
            <apply id="alg1.l21.m1.1.1.1.1.1.1.cmml" xref="alg1.l21.m1.1.1.1.1.1">
             <csymbol cd="ambiguous" id="alg1.l21.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l21.m1.1.1.1.1.1">
              subscript
             </csymbol>
             <ci id="alg1.l21.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l21.m1.1.1.1.1.1.1.2">
              𝑜
             </ci>
             <ci id="alg1.l21.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l21.m1.1.1.1.1.1.1.3">
              𝑏
             </ci>
            </apply>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l21.m1.1c">
          o\leftarrow\text{Revert}(o_{b})
         </annotation>
        </semantics>
       </math>
      </div>
      <div class="ltx_listingline" id="alg1.l22">
       <span class="ltx_tag ltx_tag_listingline">
        22:
       </span>
       <span class="ltx_text ltx_font_bold" id="alg1.l22.1">
        end
       </span>
       <span class="ltx_text ltx_font_bold" id="alg1.l22.2">
        if
       </span>
      </div>
      <div class="ltx_listingline" id="alg1.l23">
       <span class="ltx_tag ltx_tag_listingline">
        23:
       </span>
       <span class="ltx_text ltx_font_bold" id="alg1.l23.1">
        end
       </span>
       <span class="ltx_text ltx_font_bold" id="alg1.l23.2">
        while
       </span>
      </div>
      <div class="ltx_listingline" id="alg1.l24">
       <span class="ltx_tag ltx_tag_listingline">
        24:
       </span>
       <span class="ltx_text ltx_font_bold" id="alg1.l24.1">
        return
       </span>
       <math alttext="(\tau,\text{Answer}(o,\tau,g))" class="ltx_Math" display="inline" id="alg1.l24.m1.5">
        <semantics id="alg1.l24.m1.5a">
         <mrow id="alg1.l24.m1.5.5.1" xref="alg1.l24.m1.5.5.2.cmml">
          <mo id="alg1.l24.m1.5.5.1.2" stretchy="false" xref="alg1.l24.m1.5.5.2.cmml">
           (
          </mo>
          <mi id="alg1.l24.m1.4.4" xref="alg1.l24.m1.4.4.cmml">
           τ
          </mi>
          <mo id="alg1.l24.m1.5.5.1.3" xref="alg1.l24.m1.5.5.2.cmml">
           ,
          </mo>
          <mrow id="alg1.l24.m1.5.5.1.1" xref="alg1.l24.m1.5.5.1.1.cmml">
           <mtext id="alg1.l24.m1.5.5.1.1.2" xref="alg1.l24.m1.5.5.1.1.2a.cmml">
            Answer
           </mtext>
           <mo id="alg1.l24.m1.5.5.1.1.1" lspace="0em" rspace="0em" xref="alg1.l24.m1.5.5.1.1.1.cmml">
            ​
           </mo>
           <mrow id="alg1.l24.m1.5.5.1.1.3.2" xref="alg1.l24.m1.5.5.1.1.3.1.cmml">
            <mo id="alg1.l24.m1.5.5.1.1.3.2.1" stretchy="false" xref="alg1.l24.m1.5.5.1.1.3.1.cmml">
             (
            </mo>
            <mi id="alg1.l24.m1.1.1" xref="alg1.l24.m1.1.1.cmml">
             o
            </mi>
            <mo id="alg1.l24.m1.5.5.1.1.3.2.2" xref="alg1.l24.m1.5.5.1.1.3.1.cmml">
             ,
            </mo>
            <mi id="alg1.l24.m1.2.2" xref="alg1.l24.m1.2.2.cmml">
             τ
            </mi>
            <mo id="alg1.l24.m1.5.5.1.1.3.2.3" xref="alg1.l24.m1.5.5.1.1.3.1.cmml">
             ,
            </mo>
            <mi id="alg1.l24.m1.3.3" xref="alg1.l24.m1.3.3.cmml">
             g
            </mi>
            <mo id="alg1.l24.m1.5.5.1.1.3.2.4" stretchy="false" xref="alg1.l24.m1.5.5.1.1.3.1.cmml">
             )
            </mo>
           </mrow>
          </mrow>
          <mo id="alg1.l24.m1.5.5.1.4" stretchy="false" xref="alg1.l24.m1.5.5.2.cmml">
           )
          </mo>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.l24.m1.5b">
          <interval closure="open" id="alg1.l24.m1.5.5.2.cmml" xref="alg1.l24.m1.5.5.1">
           <ci id="alg1.l24.m1.4.4.cmml" xref="alg1.l24.m1.4.4">
            𝜏
           </ci>
           <apply id="alg1.l24.m1.5.5.1.1.cmml" xref="alg1.l24.m1.5.5.1.1">
            <times id="alg1.l24.m1.5.5.1.1.1.cmml" xref="alg1.l24.m1.5.5.1.1.1">
            </times>
            <ci id="alg1.l24.m1.5.5.1.1.2a.cmml" xref="alg1.l24.m1.5.5.1.1.2">
             <mtext id="alg1.l24.m1.5.5.1.1.2.cmml" xref="alg1.l24.m1.5.5.1.1.2">
              Answer
             </mtext>
            </ci>
            <vector id="alg1.l24.m1.5.5.1.1.3.1.cmml" xref="alg1.l24.m1.5.5.1.1.3.2">
             <ci id="alg1.l24.m1.1.1.cmml" xref="alg1.l24.m1.1.1">
              𝑜
             </ci>
             <ci id="alg1.l24.m1.2.2.cmml" xref="alg1.l24.m1.2.2">
              𝜏
             </ci>
             <ci id="alg1.l24.m1.3.3.cmml" xref="alg1.l24.m1.3.3">
              𝑔
             </ci>
            </vector>
           </apply>
          </interval>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.l24.m1.5c">
          (\tau,\text{Answer}(o,\tau,g))
         </annotation>
        </semantics>
       </math>
      </div>
     </div>
    </figure>
    <br class="ltx_break ltx_break"/>
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="588" id="S3.F2.g1" src="/html/2404.05902/assets/x2.png" width="415"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 2:
     </span>
     An example of
     <span class="ltx_text ltx_font_smallcaps" id="S3.F2.2.1">
      Wilbur
     </span>
     backtracking to previous URL after failure.
    </figcaption>
   </figure>
   <section class="ltx_paragraph" id="S3.SS2.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Demonstration Retrieval
    </h4>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px1.p1">
     <p class="ltx_p" id="S3.SS2.SSS0.Px1.p1.2">
      The goal of the demonstration retriever is to identify previous relevant trajectories and actions to use as guidance. Full-length trajectories provide information relevant to planning, while action demonstrations help the actor correctly interact with website elements. Hence, we store two types of demonstration banks: a bank
      <math alttext="\mathcal{D}_{\tau}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p1.1.m1.1">
       <semantics id="S3.SS2.SSS0.Px1.p1.1.m1.1a">
        <msub id="S3.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml">
          𝒟
         </mi>
         <mi id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml">
          τ
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.1.m1.1b">
         <apply id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2">
           𝒟
          </ci>
          <ci id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.3">
           𝜏
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.1.m1.1c">
         \mathcal{D}_{\tau}
        </annotation>
       </semantics>
      </math>
      of entire trajectories and a bank
      <math alttext="D_{a}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p1.2.m2.1">
       <semantics id="S3.SS2.SSS0.Px1.p1.2.m2.1a">
        <msub id="S3.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.2" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.2.cmml">
          D
         </mi>
         <mi id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.3.cmml">
          a
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.2.m2.1b">
         <apply id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.2">
           𝐷
          </ci>
          <ci id="S3.SS2.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.2.m2.1.1.3">
           𝑎
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.2.m2.1c">
         D_{a}
        </annotation>
       </semantics>
      </math>
      of isolated actions relevant to the current step action plan.
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px1.p2">
     <p class="ltx_p" id="S3.SS2.SSS0.Px1.p2.8">
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.SSS0.Px1.p2.8.1">
       Wilbur
      </span>
      queries
      <math alttext="\mathcal{D}_{\tau}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p2.1.m1.1">
       <semantics id="S3.SS2.SSS0.Px1.p2.1.m1.1a">
        <msub id="S3.SS2.SSS0.Px1.p2.1.m1.1.1" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.2" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.2.cmml">
          𝒟
         </mi>
         <mi id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.3" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.3.cmml">
          τ
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p2.1.m1.1b">
         <apply id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.2">
           𝒟
          </ci>
          <ci id="S3.SS2.SSS0.Px1.p2.1.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p2.1.m1.1.1.3">
           𝜏
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p2.1.m1.1c">
         \mathcal{D}_{\tau}
        </annotation>
       </semantics>
      </math>
      with the goal
      <math alttext="g" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p2.2.m2.1">
       <semantics id="S3.SS2.SSS0.Px1.p2.2.m2.1a">
        <mi id="S3.SS2.SSS0.Px1.p2.2.m2.1.1" xref="S3.SS2.SSS0.Px1.p2.2.m2.1.1.cmml">
         g
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p2.2.m2.1b">
         <ci id="S3.SS2.SSS0.Px1.p2.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.2.m2.1.1">
          𝑔
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p2.2.m2.1c">
         g
        </annotation>
       </semantics>
      </math>
      and queries
      <math alttext="\mathcal{D}_{a}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p2.3.m3.1">
       <semantics id="S3.SS2.SSS0.Px1.p2.3.m3.1a">
        <msub id="S3.SS2.SSS0.Px1.p2.3.m3.1.1" xref="S3.SS2.SSS0.Px1.p2.3.m3.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS0.Px1.p2.3.m3.1.1.2" xref="S3.SS2.SSS0.Px1.p2.3.m3.1.1.2.cmml">
          𝒟
         </mi>
         <mi id="S3.SS2.SSS0.Px1.p2.3.m3.1.1.3" xref="S3.SS2.SSS0.Px1.p2.3.m3.1.1.3.cmml">
          a
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p2.3.m3.1b">
         <apply id="S3.SS2.SSS0.Px1.p2.3.m3.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p2.3.m3.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px1.p2.3.m3.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p2.3.m3.1.1.2">
           𝒟
          </ci>
          <ci id="S3.SS2.SSS0.Px1.p2.3.m3.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p2.3.m3.1.1.3">
           𝑎
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p2.3.m3.1c">
         \mathcal{D}_{a}
        </annotation>
       </semantics>
      </math>
      with the current step
      <math alttext="p" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p2.4.m4.1">
       <semantics id="S3.SS2.SSS0.Px1.p2.4.m4.1a">
        <mi id="S3.SS2.SSS0.Px1.p2.4.m4.1.1" xref="S3.SS2.SSS0.Px1.p2.4.m4.1.1.cmml">
         p
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p2.4.m4.1b">
         <ci id="S3.SS2.SSS0.Px1.p2.4.m4.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.4.m4.1.1">
          𝑝
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p2.4.m4.1c">
         p
        </annotation>
       </semantics>
      </math>
      , using cosine similarity between an embedding of the query and an embedding of the trajectory or action in the bank. The
      <math alttext="k_{g}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p2.5.m5.1">
       <semantics id="S3.SS2.SSS0.Px1.p2.5.m5.1a">
        <msub id="S3.SS2.SSS0.Px1.p2.5.m5.1.1" xref="S3.SS2.SSS0.Px1.p2.5.m5.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px1.p2.5.m5.1.1.2" xref="S3.SS2.SSS0.Px1.p2.5.m5.1.1.2.cmml">
          k
         </mi>
         <mi id="S3.SS2.SSS0.Px1.p2.5.m5.1.1.3" xref="S3.SS2.SSS0.Px1.p2.5.m5.1.1.3.cmml">
          g
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p2.5.m5.1b">
         <apply id="S3.SS2.SSS0.Px1.p2.5.m5.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.5.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p2.5.m5.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.5.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px1.p2.5.m5.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p2.5.m5.1.1.2">
           𝑘
          </ci>
          <ci id="S3.SS2.SSS0.Px1.p2.5.m5.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p2.5.m5.1.1.3">
           𝑔
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p2.5.m5.1c">
         k_{g}
        </annotation>
       </semantics>
      </math>
      goal-conditioned trajectories
      <math alttext="D_{g}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p2.6.m6.1">
       <semantics id="S3.SS2.SSS0.Px1.p2.6.m6.1a">
        <msub id="S3.SS2.SSS0.Px1.p2.6.m6.1.1" xref="S3.SS2.SSS0.Px1.p2.6.m6.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px1.p2.6.m6.1.1.2" xref="S3.SS2.SSS0.Px1.p2.6.m6.1.1.2.cmml">
          D
         </mi>
         <mi id="S3.SS2.SSS0.Px1.p2.6.m6.1.1.3" xref="S3.SS2.SSS0.Px1.p2.6.m6.1.1.3.cmml">
          g
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p2.6.m6.1b">
         <apply id="S3.SS2.SSS0.Px1.p2.6.m6.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.6.m6.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p2.6.m6.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.6.m6.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px1.p2.6.m6.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p2.6.m6.1.1.2">
           𝐷
          </ci>
          <ci id="S3.SS2.SSS0.Px1.p2.6.m6.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p2.6.m6.1.1.3">
           𝑔
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p2.6.m6.1c">
         D_{g}
        </annotation>
       </semantics>
      </math>
      are then split into
      <math alttext="D_{g}^{+}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p2.7.m7.1">
       <semantics id="S3.SS2.SSS0.Px1.p2.7.m7.1a">
        <msubsup id="S3.SS2.SSS0.Px1.p2.7.m7.1.1" xref="S3.SS2.SSS0.Px1.p2.7.m7.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px1.p2.7.m7.1.1.2.2" xref="S3.SS2.SSS0.Px1.p2.7.m7.1.1.2.2.cmml">
          D
         </mi>
         <mi id="S3.SS2.SSS0.Px1.p2.7.m7.1.1.2.3" xref="S3.SS2.SSS0.Px1.p2.7.m7.1.1.2.3.cmml">
          g
         </mi>
         <mo id="S3.SS2.SSS0.Px1.p2.7.m7.1.1.3" xref="S3.SS2.SSS0.Px1.p2.7.m7.1.1.3.cmml">
          +
         </mo>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p2.7.m7.1b">
         <apply id="S3.SS2.SSS0.Px1.p2.7.m7.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.7.m7.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p2.7.m7.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.7.m7.1.1">
           superscript
          </csymbol>
          <apply id="S3.SS2.SSS0.Px1.p2.7.m7.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p2.7.m7.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p2.7.m7.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p2.7.m7.1.1">
            subscript
           </csymbol>
           <ci id="S3.SS2.SSS0.Px1.p2.7.m7.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px1.p2.7.m7.1.1.2.2">
            𝐷
           </ci>
           <ci id="S3.SS2.SSS0.Px1.p2.7.m7.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px1.p2.7.m7.1.1.2.3">
            𝑔
           </ci>
          </apply>
          <plus id="S3.SS2.SSS0.Px1.p2.7.m7.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p2.7.m7.1.1.3">
          </plus>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p2.7.m7.1c">
         D_{g}^{+}
        </annotation>
       </semantics>
      </math>
      (successful) and
      <math alttext="D_{g}^{-}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p2.8.m8.1">
       <semantics id="S3.SS2.SSS0.Px1.p2.8.m8.1a">
        <msubsup id="S3.SS2.SSS0.Px1.p2.8.m8.1.1" xref="S3.SS2.SSS0.Px1.p2.8.m8.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px1.p2.8.m8.1.1.2.2" xref="S3.SS2.SSS0.Px1.p2.8.m8.1.1.2.2.cmml">
          D
         </mi>
         <mi id="S3.SS2.SSS0.Px1.p2.8.m8.1.1.2.3" xref="S3.SS2.SSS0.Px1.p2.8.m8.1.1.2.3.cmml">
          g
         </mi>
         <mo id="S3.SS2.SSS0.Px1.p2.8.m8.1.1.3" xref="S3.SS2.SSS0.Px1.p2.8.m8.1.1.3.cmml">
          −
         </mo>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p2.8.m8.1b">
         <apply id="S3.SS2.SSS0.Px1.p2.8.m8.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.8.m8.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p2.8.m8.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p2.8.m8.1.1">
           superscript
          </csymbol>
          <apply id="S3.SS2.SSS0.Px1.p2.8.m8.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p2.8.m8.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p2.8.m8.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px1.p2.8.m8.1.1">
            subscript
           </csymbol>
           <ci id="S3.SS2.SSS0.Px1.p2.8.m8.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px1.p2.8.m8.1.1.2.2">
            𝐷
           </ci>
           <ci id="S3.SS2.SSS0.Px1.p2.8.m8.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px1.p2.8.m8.1.1.2.3">
            𝑔
           </ci>
          </apply>
          <minus id="S3.SS2.SSS0.Px1.p2.8.m8.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p2.8.m8.1.1.3">
          </minus>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p2.8.m8.1c">
         D_{g}^{-}
        </annotation>
       </semantics>
      </math>
      (unsuccessful) demonstrations.
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px1.p3">
     <p class="ltx_p" id="S3.SS2.SSS0.Px1.p3.1">
      We include negative examples to help
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.SSS0.Px1.p3.1.1">
       Wilbur
      </span>
      avoid previously discovered pitfalls. For example, through negative goal-conditioned trajectory demonstrations,
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.SSS0.Px1.p3.1.2">
       Wilbur
      </span>
      can learn how specific steps can lead to downstream failure of tasks. Similarly, showing the agent negative website-conditioned tasks teaches it how to avoid mistakes given the specific nuances of certain webpages (e.g. saving the wrong text, clicking the wrong element).
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS2.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Action Demonstration Reranking
    </h4>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px2.p1">
     <p class="ltx_p" id="S3.SS2.SSS0.Px2.p1.1">
      In order to have action demonstrations scale across multiple websites and types of pages (e.g. search pages, documentation, etc.), we must also factor in DOM similarity. Additionally, the quality of positive action demonstrations strongly impacts performance, and simple cosine similarity is not sufficient to determine whether a demonstration will actively help the actor. While a demonstration might be similar, there may exist slight differences in respective DOMs that lead the actor astray.
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px2.p2">
     <p class="ltx_p" id="S3.SS2.SSS0.Px2.p2.2">
      Hence, after retrieving the top
      <math alttext="k_{a}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px2.p2.1.m1.1">
       <semantics id="S3.SS2.SSS0.Px2.p2.1.m1.1a">
        <msub id="S3.SS2.SSS0.Px2.p2.1.m1.1.1" xref="S3.SS2.SSS0.Px2.p2.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px2.p2.1.m1.1.1.2" xref="S3.SS2.SSS0.Px2.p2.1.m1.1.1.2.cmml">
          k
         </mi>
         <mi id="S3.SS2.SSS0.Px2.p2.1.m1.1.1.3" xref="S3.SS2.SSS0.Px2.p2.1.m1.1.1.3.cmml">
          a
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p2.1.m1.1b">
         <apply id="S3.SS2.SSS0.Px2.p2.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p2.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p2.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p2.1.m1.1.1.2">
           𝑘
          </ci>
          <ci id="S3.SS2.SSS0.Px2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p2.1.m1.1.1.3">
           𝑎
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p2.1.m1.1c">
         k_{a}
        </annotation>
       </semantics>
      </math>
      action demonstrations
      <math alttext="d\in D_{a}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px2.p2.2.m2.1">
       <semantics id="S3.SS2.SSS0.Px2.p2.2.m2.1a">
        <mrow id="S3.SS2.SSS0.Px2.p2.2.m2.1.1" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.2" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.2.cmml">
          d
         </mi>
         <mo id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.1" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.1.cmml">
          ∈
         </mo>
         <msub id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3.cmml">
          <mi id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3.2" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3.2.cmml">
           D
          </mi>
          <mi id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3.3" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3.3.cmml">
           a
          </mi>
         </msub>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p2.2.m2.1b">
         <apply id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1">
          <in id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.1">
          </in>
          <ci id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.2">
           𝑑
          </ci>
          <apply id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3">
           <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3">
            subscript
           </csymbol>
           <ci id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3.2">
            𝐷
           </ci>
           <ci id="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px2.p2.2.m2.1.1.3.3">
            𝑎
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p2.2.m2.1c">
         d\in D_{a}
        </annotation>
       </semantics>
      </math>
      , we re-rank them:
     </p>
     <table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx1">
      <tbody id="S3.Ex3">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\vec{h}_{o_{d}},\vec{h}_{p_{d}},\vec{h}_{a_{d}},\vec{h}_{p},\vec{h}_{o}" class="ltx_Math" display="inline" id="S3.Ex3.m1.5">
          <semantics id="S3.Ex3.m1.5a">
           <mrow id="S3.Ex3.m1.5.5.5" xref="S3.Ex3.m1.5.5.6.cmml">
            <msub id="S3.Ex3.m1.1.1.1.1" xref="S3.Ex3.m1.1.1.1.1.cmml">
             <mover accent="true" id="S3.Ex3.m1.1.1.1.1.2" xref="S3.Ex3.m1.1.1.1.1.2.cmml">
              <mi id="S3.Ex3.m1.1.1.1.1.2.2" xref="S3.Ex3.m1.1.1.1.1.2.2.cmml">
               h
              </mi>
              <mo id="S3.Ex3.m1.1.1.1.1.2.1" stretchy="false" xref="S3.Ex3.m1.1.1.1.1.2.1.cmml">
               →
              </mo>
             </mover>
             <msub id="S3.Ex3.m1.1.1.1.1.3" xref="S3.Ex3.m1.1.1.1.1.3.cmml">
              <mi id="S3.Ex3.m1.1.1.1.1.3.2" xref="S3.Ex3.m1.1.1.1.1.3.2.cmml">
               o
              </mi>
              <mi id="S3.Ex3.m1.1.1.1.1.3.3" xref="S3.Ex3.m1.1.1.1.1.3.3.cmml">
               d
              </mi>
             </msub>
            </msub>
            <mo id="S3.Ex3.m1.5.5.5.6" xref="S3.Ex3.m1.5.5.6.cmml">
             ,
            </mo>
            <msub id="S3.Ex3.m1.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.cmml">
             <mover accent="true" id="S3.Ex3.m1.2.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.2.cmml">
              <mi id="S3.Ex3.m1.2.2.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.2.2.cmml">
               h
              </mi>
              <mo id="S3.Ex3.m1.2.2.2.2.2.1" stretchy="false" xref="S3.Ex3.m1.2.2.2.2.2.1.cmml">
               →
              </mo>
             </mover>
             <msub id="S3.Ex3.m1.2.2.2.2.3" xref="S3.Ex3.m1.2.2.2.2.3.cmml">
              <mi id="S3.Ex3.m1.2.2.2.2.3.2" xref="S3.Ex3.m1.2.2.2.2.3.2.cmml">
               p
              </mi>
              <mi id="S3.Ex3.m1.2.2.2.2.3.3" xref="S3.Ex3.m1.2.2.2.2.3.3.cmml">
               d
              </mi>
             </msub>
            </msub>
            <mo id="S3.Ex3.m1.5.5.5.7" xref="S3.Ex3.m1.5.5.6.cmml">
             ,
            </mo>
            <msub id="S3.Ex3.m1.3.3.3.3" xref="S3.Ex3.m1.3.3.3.3.cmml">
             <mover accent="true" id="S3.Ex3.m1.3.3.3.3.2" xref="S3.Ex3.m1.3.3.3.3.2.cmml">
              <mi id="S3.Ex3.m1.3.3.3.3.2.2" xref="S3.Ex3.m1.3.3.3.3.2.2.cmml">
               h
              </mi>
              <mo id="S3.Ex3.m1.3.3.3.3.2.1" stretchy="false" xref="S3.Ex3.m1.3.3.3.3.2.1.cmml">
               →
              </mo>
             </mover>
             <msub id="S3.Ex3.m1.3.3.3.3.3" xref="S3.Ex3.m1.3.3.3.3.3.cmml">
              <mi id="S3.Ex3.m1.3.3.3.3.3.2" xref="S3.Ex3.m1.3.3.3.3.3.2.cmml">
               a
              </mi>
              <mi id="S3.Ex3.m1.3.3.3.3.3.3" xref="S3.Ex3.m1.3.3.3.3.3.3.cmml">
               d
              </mi>
             </msub>
            </msub>
            <mo id="S3.Ex3.m1.5.5.5.8" xref="S3.Ex3.m1.5.5.6.cmml">
             ,
            </mo>
            <msub id="S3.Ex3.m1.4.4.4.4" xref="S3.Ex3.m1.4.4.4.4.cmml">
             <mover accent="true" id="S3.Ex3.m1.4.4.4.4.2" xref="S3.Ex3.m1.4.4.4.4.2.cmml">
              <mi id="S3.Ex3.m1.4.4.4.4.2.2" xref="S3.Ex3.m1.4.4.4.4.2.2.cmml">
               h
              </mi>
              <mo id="S3.Ex3.m1.4.4.4.4.2.1" stretchy="false" xref="S3.Ex3.m1.4.4.4.4.2.1.cmml">
               →
              </mo>
             </mover>
             <mi id="S3.Ex3.m1.4.4.4.4.3" xref="S3.Ex3.m1.4.4.4.4.3.cmml">
              p
             </mi>
            </msub>
            <mo id="S3.Ex3.m1.5.5.5.9" xref="S3.Ex3.m1.5.5.6.cmml">
             ,
            </mo>
            <msub id="S3.Ex3.m1.5.5.5.5" xref="S3.Ex3.m1.5.5.5.5.cmml">
             <mover accent="true" id="S3.Ex3.m1.5.5.5.5.2" xref="S3.Ex3.m1.5.5.5.5.2.cmml">
              <mi id="S3.Ex3.m1.5.5.5.5.2.2" xref="S3.Ex3.m1.5.5.5.5.2.2.cmml">
               h
              </mi>
              <mo id="S3.Ex3.m1.5.5.5.5.2.1" stretchy="false" xref="S3.Ex3.m1.5.5.5.5.2.1.cmml">
               →
              </mo>
             </mover>
             <mi id="S3.Ex3.m1.5.5.5.5.3" xref="S3.Ex3.m1.5.5.5.5.3.cmml">
              o
             </mi>
            </msub>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.5b">
            <list id="S3.Ex3.m1.5.5.6.cmml" xref="S3.Ex3.m1.5.5.5">
             <apply id="S3.Ex3.m1.1.1.1.1.cmml" xref="S3.Ex3.m1.1.1.1.1">
              <csymbol cd="ambiguous" id="S3.Ex3.m1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.1.1.1.1">
               subscript
              </csymbol>
              <apply id="S3.Ex3.m1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.1.1.1.1.2">
               <ci id="S3.Ex3.m1.1.1.1.1.2.1.cmml" xref="S3.Ex3.m1.1.1.1.1.2.1">
                →
               </ci>
               <ci id="S3.Ex3.m1.1.1.1.1.2.2.cmml" xref="S3.Ex3.m1.1.1.1.1.2.2">
                ℎ
               </ci>
              </apply>
              <apply id="S3.Ex3.m1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.1.1.1.1.3">
               <csymbol cd="ambiguous" id="S3.Ex3.m1.1.1.1.1.3.1.cmml" xref="S3.Ex3.m1.1.1.1.1.3">
                subscript
               </csymbol>
               <ci id="S3.Ex3.m1.1.1.1.1.3.2.cmml" xref="S3.Ex3.m1.1.1.1.1.3.2">
                𝑜
               </ci>
               <ci id="S3.Ex3.m1.1.1.1.1.3.3.cmml" xref="S3.Ex3.m1.1.1.1.1.3.3">
                𝑑
               </ci>
              </apply>
             </apply>
             <apply id="S3.Ex3.m1.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2">
              <csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.1.cmml" xref="S3.Ex3.m1.2.2.2.2">
               subscript
              </csymbol>
              <apply id="S3.Ex3.m1.2.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2">
               <ci id="S3.Ex3.m1.2.2.2.2.2.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1">
                →
               </ci>
               <ci id="S3.Ex3.m1.2.2.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2">
                ℎ
               </ci>
              </apply>
              <apply id="S3.Ex3.m1.2.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.2.3">
               <csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.3.1.cmml" xref="S3.Ex3.m1.2.2.2.2.3">
                subscript
               </csymbol>
               <ci id="S3.Ex3.m1.2.2.2.2.3.2.cmml" xref="S3.Ex3.m1.2.2.2.2.3.2">
                𝑝
               </ci>
               <ci id="S3.Ex3.m1.2.2.2.2.3.3.cmml" xref="S3.Ex3.m1.2.2.2.2.3.3">
                𝑑
               </ci>
              </apply>
             </apply>
             <apply id="S3.Ex3.m1.3.3.3.3.cmml" xref="S3.Ex3.m1.3.3.3.3">
              <csymbol cd="ambiguous" id="S3.Ex3.m1.3.3.3.3.1.cmml" xref="S3.Ex3.m1.3.3.3.3">
               subscript
              </csymbol>
              <apply id="S3.Ex3.m1.3.3.3.3.2.cmml" xref="S3.Ex3.m1.3.3.3.3.2">
               <ci id="S3.Ex3.m1.3.3.3.3.2.1.cmml" xref="S3.Ex3.m1.3.3.3.3.2.1">
                →
               </ci>
               <ci id="S3.Ex3.m1.3.3.3.3.2.2.cmml" xref="S3.Ex3.m1.3.3.3.3.2.2">
                ℎ
               </ci>
              </apply>
              <apply id="S3.Ex3.m1.3.3.3.3.3.cmml" xref="S3.Ex3.m1.3.3.3.3.3">
               <csymbol cd="ambiguous" id="S3.Ex3.m1.3.3.3.3.3.1.cmml" xref="S3.Ex3.m1.3.3.3.3.3">
                subscript
               </csymbol>
               <ci id="S3.Ex3.m1.3.3.3.3.3.2.cmml" xref="S3.Ex3.m1.3.3.3.3.3.2">
                𝑎
               </ci>
               <ci id="S3.Ex3.m1.3.3.3.3.3.3.cmml" xref="S3.Ex3.m1.3.3.3.3.3.3">
                𝑑
               </ci>
              </apply>
             </apply>
             <apply id="S3.Ex3.m1.4.4.4.4.cmml" xref="S3.Ex3.m1.4.4.4.4">
              <csymbol cd="ambiguous" id="S3.Ex3.m1.4.4.4.4.1.cmml" xref="S3.Ex3.m1.4.4.4.4">
               subscript
              </csymbol>
              <apply id="S3.Ex3.m1.4.4.4.4.2.cmml" xref="S3.Ex3.m1.4.4.4.4.2">
               <ci id="S3.Ex3.m1.4.4.4.4.2.1.cmml" xref="S3.Ex3.m1.4.4.4.4.2.1">
                →
               </ci>
               <ci id="S3.Ex3.m1.4.4.4.4.2.2.cmml" xref="S3.Ex3.m1.4.4.4.4.2.2">
                ℎ
               </ci>
              </apply>
              <ci id="S3.Ex3.m1.4.4.4.4.3.cmml" xref="S3.Ex3.m1.4.4.4.4.3">
               𝑝
              </ci>
             </apply>
             <apply id="S3.Ex3.m1.5.5.5.5.cmml" xref="S3.Ex3.m1.5.5.5.5">
              <csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.5.5.1.cmml" xref="S3.Ex3.m1.5.5.5.5">
               subscript
              </csymbol>
              <apply id="S3.Ex3.m1.5.5.5.5.2.cmml" xref="S3.Ex3.m1.5.5.5.5.2">
               <ci id="S3.Ex3.m1.5.5.5.5.2.1.cmml" xref="S3.Ex3.m1.5.5.5.5.2.1">
                →
               </ci>
               <ci id="S3.Ex3.m1.5.5.5.5.2.2.cmml" xref="S3.Ex3.m1.5.5.5.5.2.2">
                ℎ
               </ci>
              </apply>
              <ci id="S3.Ex3.m1.5.5.5.5.3.cmml" xref="S3.Ex3.m1.5.5.5.5.3">
               𝑜
              </ci>
             </apply>
            </list>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex3.m1.5c">
            \displaystyle\vec{h}_{o_{d}},\vec{h}_{p_{d}},\vec{h}_{a_{d}},\vec{h}_{p},\vec{h}_{o}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_left ltx_eqn_cell">
         <math alttext="\displaystyle=\text{Embedding}(o_{d},p_{d},a_{d},p,o)" class="ltx_Math" display="inline" id="S3.Ex3.m2.5">
          <semantics id="S3.Ex3.m2.5a">
           <mrow id="S3.Ex3.m2.5.5" xref="S3.Ex3.m2.5.5.cmml">
            <mi id="S3.Ex3.m2.5.5.5" xref="S3.Ex3.m2.5.5.5.cmml">
            </mi>
            <mo id="S3.Ex3.m2.5.5.4" xref="S3.Ex3.m2.5.5.4.cmml">
             =
            </mo>
            <mrow id="S3.Ex3.m2.5.5.3" xref="S3.Ex3.m2.5.5.3.cmml">
             <mtext id="S3.Ex3.m2.5.5.3.5" xref="S3.Ex3.m2.5.5.3.5a.cmml">
              Embedding
             </mtext>
             <mo id="S3.Ex3.m2.5.5.3.4" lspace="0em" rspace="0em" xref="S3.Ex3.m2.5.5.3.4.cmml">
              ​
             </mo>
             <mrow id="S3.Ex3.m2.5.5.3.3.3" xref="S3.Ex3.m2.5.5.3.3.4.cmml">
              <mo id="S3.Ex3.m2.5.5.3.3.3.4" stretchy="false" xref="S3.Ex3.m2.5.5.3.3.4.cmml">
               (
              </mo>
              <msub id="S3.Ex3.m2.3.3.1.1.1.1" xref="S3.Ex3.m2.3.3.1.1.1.1.cmml">
               <mi id="S3.Ex3.m2.3.3.1.1.1.1.2" xref="S3.Ex3.m2.3.3.1.1.1.1.2.cmml">
                o
               </mi>
               <mi id="S3.Ex3.m2.3.3.1.1.1.1.3" xref="S3.Ex3.m2.3.3.1.1.1.1.3.cmml">
                d
               </mi>
              </msub>
              <mo id="S3.Ex3.m2.5.5.3.3.3.5" xref="S3.Ex3.m2.5.5.3.3.4.cmml">
               ,
              </mo>
              <msub id="S3.Ex3.m2.4.4.2.2.2.2" xref="S3.Ex3.m2.4.4.2.2.2.2.cmml">
               <mi id="S3.Ex3.m2.4.4.2.2.2.2.2" xref="S3.Ex3.m2.4.4.2.2.2.2.2.cmml">
                p
               </mi>
               <mi id="S3.Ex3.m2.4.4.2.2.2.2.3" xref="S3.Ex3.m2.4.4.2.2.2.2.3.cmml">
                d
               </mi>
              </msub>
              <mo id="S3.Ex3.m2.5.5.3.3.3.6" xref="S3.Ex3.m2.5.5.3.3.4.cmml">
               ,
              </mo>
              <msub id="S3.Ex3.m2.5.5.3.3.3.3" xref="S3.Ex3.m2.5.5.3.3.3.3.cmml">
               <mi id="S3.Ex3.m2.5.5.3.3.3.3.2" xref="S3.Ex3.m2.5.5.3.3.3.3.2.cmml">
                a
               </mi>
               <mi id="S3.Ex3.m2.5.5.3.3.3.3.3" xref="S3.Ex3.m2.5.5.3.3.3.3.3.cmml">
                d
               </mi>
              </msub>
              <mo id="S3.Ex3.m2.5.5.3.3.3.7" xref="S3.Ex3.m2.5.5.3.3.4.cmml">
               ,
              </mo>
              <mi id="S3.Ex3.m2.1.1" xref="S3.Ex3.m2.1.1.cmml">
               p
              </mi>
              <mo id="S3.Ex3.m2.5.5.3.3.3.8" xref="S3.Ex3.m2.5.5.3.3.4.cmml">
               ,
              </mo>
              <mi id="S3.Ex3.m2.2.2" xref="S3.Ex3.m2.2.2.cmml">
               o
              </mi>
              <mo id="S3.Ex3.m2.5.5.3.3.3.9" stretchy="false" xref="S3.Ex3.m2.5.5.3.3.4.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.Ex3.m2.5b">
            <apply id="S3.Ex3.m2.5.5.cmml" xref="S3.Ex3.m2.5.5">
             <eq id="S3.Ex3.m2.5.5.4.cmml" xref="S3.Ex3.m2.5.5.4">
             </eq>
             <csymbol cd="latexml" id="S3.Ex3.m2.5.5.5.cmml" xref="S3.Ex3.m2.5.5.5">
              absent
             </csymbol>
             <apply id="S3.Ex3.m2.5.5.3.cmml" xref="S3.Ex3.m2.5.5.3">
              <times id="S3.Ex3.m2.5.5.3.4.cmml" xref="S3.Ex3.m2.5.5.3.4">
              </times>
              <ci id="S3.Ex3.m2.5.5.3.5a.cmml" xref="S3.Ex3.m2.5.5.3.5">
               <mtext id="S3.Ex3.m2.5.5.3.5.cmml" xref="S3.Ex3.m2.5.5.3.5">
                Embedding
               </mtext>
              </ci>
              <vector id="S3.Ex3.m2.5.5.3.3.4.cmml" xref="S3.Ex3.m2.5.5.3.3.3">
               <apply id="S3.Ex3.m2.3.3.1.1.1.1.cmml" xref="S3.Ex3.m2.3.3.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.Ex3.m2.3.3.1.1.1.1.1.cmml" xref="S3.Ex3.m2.3.3.1.1.1.1">
                 subscript
                </csymbol>
                <ci id="S3.Ex3.m2.3.3.1.1.1.1.2.cmml" xref="S3.Ex3.m2.3.3.1.1.1.1.2">
                 𝑜
                </ci>
                <ci id="S3.Ex3.m2.3.3.1.1.1.1.3.cmml" xref="S3.Ex3.m2.3.3.1.1.1.1.3">
                 𝑑
                </ci>
               </apply>
               <apply id="S3.Ex3.m2.4.4.2.2.2.2.cmml" xref="S3.Ex3.m2.4.4.2.2.2.2">
                <csymbol cd="ambiguous" id="S3.Ex3.m2.4.4.2.2.2.2.1.cmml" xref="S3.Ex3.m2.4.4.2.2.2.2">
                 subscript
                </csymbol>
                <ci id="S3.Ex3.m2.4.4.2.2.2.2.2.cmml" xref="S3.Ex3.m2.4.4.2.2.2.2.2">
                 𝑝
                </ci>
                <ci id="S3.Ex3.m2.4.4.2.2.2.2.3.cmml" xref="S3.Ex3.m2.4.4.2.2.2.2.3">
                 𝑑
                </ci>
               </apply>
               <apply id="S3.Ex3.m2.5.5.3.3.3.3.cmml" xref="S3.Ex3.m2.5.5.3.3.3.3">
                <csymbol cd="ambiguous" id="S3.Ex3.m2.5.5.3.3.3.3.1.cmml" xref="S3.Ex3.m2.5.5.3.3.3.3">
                 subscript
                </csymbol>
                <ci id="S3.Ex3.m2.5.5.3.3.3.3.2.cmml" xref="S3.Ex3.m2.5.5.3.3.3.3.2">
                 𝑎
                </ci>
                <ci id="S3.Ex3.m2.5.5.3.3.3.3.3.cmml" xref="S3.Ex3.m2.5.5.3.3.3.3.3">
                 𝑑
                </ci>
               </apply>
               <ci id="S3.Ex3.m2.1.1.cmml" xref="S3.Ex3.m2.1.1">
                𝑝
               </ci>
               <ci id="S3.Ex3.m2.2.2.cmml" xref="S3.Ex3.m2.2.2">
                𝑜
               </ci>
              </vector>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex3.m2.5c">
            \displaystyle=\text{Embedding}(o_{d},p_{d},a_{d},p,o)
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
      <tbody id="S3.Ex4">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\textit{sim}_{d}" class="ltx_Math" display="inline" id="S3.Ex4.m1.1">
          <semantics id="S3.Ex4.m1.1a">
           <msub id="S3.Ex4.m1.1.1" xref="S3.Ex4.m1.1.1.cmml">
            <mtext class="ltx_mathvariant_italic" id="S3.Ex4.m1.1.1.2" xref="S3.Ex4.m1.1.1.2a.cmml">
             sim
            </mtext>
            <mi id="S3.Ex4.m1.1.1.3" xref="S3.Ex4.m1.1.1.3.cmml">
             d
            </mi>
           </msub>
           <annotation-xml encoding="MathML-Content" id="S3.Ex4.m1.1b">
            <apply id="S3.Ex4.m1.1.1.cmml" xref="S3.Ex4.m1.1.1">
             <csymbol cd="ambiguous" id="S3.Ex4.m1.1.1.1.cmml" xref="S3.Ex4.m1.1.1">
              subscript
             </csymbol>
             <ci id="S3.Ex4.m1.1.1.2a.cmml" xref="S3.Ex4.m1.1.1.2">
              <mtext class="ltx_mathvariant_italic" id="S3.Ex4.m1.1.1.2.cmml" xref="S3.Ex4.m1.1.1.2">
               sim
              </mtext>
             </ci>
             <ci id="S3.Ex4.m1.1.1.3.cmml" xref="S3.Ex4.m1.1.1.3">
              𝑑
             </ci>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex4.m1.1c">
            \displaystyle\textit{sim}_{d}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_left ltx_eqn_cell">
         <math alttext="\displaystyle=\alpha_{1}(\vec{h}_{o_{d}}^{T}\vec{h}_{o})+\alpha_{2}(\vec{h}_{p_{d}}^{T}\vec{h}_{p})" class="ltx_Math" display="inline" id="S3.Ex4.m2.2">
          <semantics id="S3.Ex4.m2.2a">
           <mrow id="S3.Ex4.m2.2.2" xref="S3.Ex4.m2.2.2.cmml">
            <mi id="S3.Ex4.m2.2.2.4" xref="S3.Ex4.m2.2.2.4.cmml">
            </mi>
            <mo id="S3.Ex4.m2.2.2.3" xref="S3.Ex4.m2.2.2.3.cmml">
             =
            </mo>
            <mrow id="S3.Ex4.m2.2.2.2" xref="S3.Ex4.m2.2.2.2.cmml">
             <mrow id="S3.Ex4.m2.1.1.1.1" xref="S3.Ex4.m2.1.1.1.1.cmml">
              <msub id="S3.Ex4.m2.1.1.1.1.3" xref="S3.Ex4.m2.1.1.1.1.3.cmml">
               <mi id="S3.Ex4.m2.1.1.1.1.3.2" xref="S3.Ex4.m2.1.1.1.1.3.2.cmml">
                α
               </mi>
               <mn id="S3.Ex4.m2.1.1.1.1.3.3" xref="S3.Ex4.m2.1.1.1.1.3.3.cmml">
                1
               </mn>
              </msub>
              <mo id="S3.Ex4.m2.1.1.1.1.2" lspace="0em" rspace="0em" xref="S3.Ex4.m2.1.1.1.1.2.cmml">
               ​
              </mo>
              <mrow id="S3.Ex4.m2.1.1.1.1.1.1" xref="S3.Ex4.m2.1.1.1.1.1.1.1.cmml">
               <mo id="S3.Ex4.m2.1.1.1.1.1.1.2" stretchy="false" xref="S3.Ex4.m2.1.1.1.1.1.1.1.cmml">
                (
               </mo>
               <mrow id="S3.Ex4.m2.1.1.1.1.1.1.1" xref="S3.Ex4.m2.1.1.1.1.1.1.1.cmml">
                <msubsup id="S3.Ex4.m2.1.1.1.1.1.1.1.2" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.cmml">
                 <mover accent="true" id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2.cmml">
                  <mi id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2.2" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2.2.cmml">
                   h
                  </mi>
                  <mo id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2.1" stretchy="false" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2.1.cmml">
                   →
                  </mo>
                 </mover>
                 <msub id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3.cmml">
                  <mi id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3.2" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3.2.cmml">
                   o
                  </mi>
                  <mi id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3.3" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3.3.cmml">
                   d
                  </mi>
                 </msub>
                 <mi id="S3.Ex4.m2.1.1.1.1.1.1.1.2.3" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.3.cmml">
                  T
                 </mi>
                </msubsup>
                <mo id="S3.Ex4.m2.1.1.1.1.1.1.1.1" lspace="0em" rspace="0em" xref="S3.Ex4.m2.1.1.1.1.1.1.1.1.cmml">
                 ​
                </mo>
                <msub id="S3.Ex4.m2.1.1.1.1.1.1.1.3" xref="S3.Ex4.m2.1.1.1.1.1.1.1.3.cmml">
                 <mover accent="true" id="S3.Ex4.m2.1.1.1.1.1.1.1.3.2" xref="S3.Ex4.m2.1.1.1.1.1.1.1.3.2.cmml">
                  <mi id="S3.Ex4.m2.1.1.1.1.1.1.1.3.2.2" xref="S3.Ex4.m2.1.1.1.1.1.1.1.3.2.2.cmml">
                   h
                  </mi>
                  <mo id="S3.Ex4.m2.1.1.1.1.1.1.1.3.2.1" stretchy="false" xref="S3.Ex4.m2.1.1.1.1.1.1.1.3.2.1.cmml">
                   →
                  </mo>
                 </mover>
                 <mi id="S3.Ex4.m2.1.1.1.1.1.1.1.3.3" xref="S3.Ex4.m2.1.1.1.1.1.1.1.3.3.cmml">
                  o
                 </mi>
                </msub>
               </mrow>
               <mo id="S3.Ex4.m2.1.1.1.1.1.1.3" stretchy="false" xref="S3.Ex4.m2.1.1.1.1.1.1.1.cmml">
                )
               </mo>
              </mrow>
             </mrow>
             <mo id="S3.Ex4.m2.2.2.2.3" xref="S3.Ex4.m2.2.2.2.3.cmml">
              +
             </mo>
             <mrow id="S3.Ex4.m2.2.2.2.2" xref="S3.Ex4.m2.2.2.2.2.cmml">
              <msub id="S3.Ex4.m2.2.2.2.2.3" xref="S3.Ex4.m2.2.2.2.2.3.cmml">
               <mi id="S3.Ex4.m2.2.2.2.2.3.2" xref="S3.Ex4.m2.2.2.2.2.3.2.cmml">
                α
               </mi>
               <mn id="S3.Ex4.m2.2.2.2.2.3.3" xref="S3.Ex4.m2.2.2.2.2.3.3.cmml">
                2
               </mn>
              </msub>
              <mo id="S3.Ex4.m2.2.2.2.2.2" lspace="0em" rspace="0em" xref="S3.Ex4.m2.2.2.2.2.2.cmml">
               ​
              </mo>
              <mrow id="S3.Ex4.m2.2.2.2.2.1.1" xref="S3.Ex4.m2.2.2.2.2.1.1.1.cmml">
               <mo id="S3.Ex4.m2.2.2.2.2.1.1.2" stretchy="false" xref="S3.Ex4.m2.2.2.2.2.1.1.1.cmml">
                (
               </mo>
               <mrow id="S3.Ex4.m2.2.2.2.2.1.1.1" xref="S3.Ex4.m2.2.2.2.2.1.1.1.cmml">
                <msubsup id="S3.Ex4.m2.2.2.2.2.1.1.1.2" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.cmml">
                 <mover accent="true" id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2.cmml">
                  <mi id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2.2" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2.2.cmml">
                   h
                  </mi>
                  <mo id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2.1" stretchy="false" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2.1.cmml">
                   →
                  </mo>
                 </mover>
                 <msub id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3.cmml">
                  <mi id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3.2" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3.2.cmml">
                   p
                  </mi>
                  <mi id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3.3" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3.3.cmml">
                   d
                  </mi>
                 </msub>
                 <mi id="S3.Ex4.m2.2.2.2.2.1.1.1.2.3" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.3.cmml">
                  T
                 </mi>
                </msubsup>
                <mo id="S3.Ex4.m2.2.2.2.2.1.1.1.1" lspace="0em" rspace="0em" xref="S3.Ex4.m2.2.2.2.2.1.1.1.1.cmml">
                 ​
                </mo>
                <msub id="S3.Ex4.m2.2.2.2.2.1.1.1.3" xref="S3.Ex4.m2.2.2.2.2.1.1.1.3.cmml">
                 <mover accent="true" id="S3.Ex4.m2.2.2.2.2.1.1.1.3.2" xref="S3.Ex4.m2.2.2.2.2.1.1.1.3.2.cmml">
                  <mi id="S3.Ex4.m2.2.2.2.2.1.1.1.3.2.2" xref="S3.Ex4.m2.2.2.2.2.1.1.1.3.2.2.cmml">
                   h
                  </mi>
                  <mo id="S3.Ex4.m2.2.2.2.2.1.1.1.3.2.1" stretchy="false" xref="S3.Ex4.m2.2.2.2.2.1.1.1.3.2.1.cmml">
                   →
                  </mo>
                 </mover>
                 <mi id="S3.Ex4.m2.2.2.2.2.1.1.1.3.3" xref="S3.Ex4.m2.2.2.2.2.1.1.1.3.3.cmml">
                  p
                 </mi>
                </msub>
               </mrow>
               <mo id="S3.Ex4.m2.2.2.2.2.1.1.3" stretchy="false" xref="S3.Ex4.m2.2.2.2.2.1.1.1.cmml">
                )
               </mo>
              </mrow>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.Ex4.m2.2b">
            <apply id="S3.Ex4.m2.2.2.cmml" xref="S3.Ex4.m2.2.2">
             <eq id="S3.Ex4.m2.2.2.3.cmml" xref="S3.Ex4.m2.2.2.3">
             </eq>
             <csymbol cd="latexml" id="S3.Ex4.m2.2.2.4.cmml" xref="S3.Ex4.m2.2.2.4">
              absent
             </csymbol>
             <apply id="S3.Ex4.m2.2.2.2.cmml" xref="S3.Ex4.m2.2.2.2">
              <plus id="S3.Ex4.m2.2.2.2.3.cmml" xref="S3.Ex4.m2.2.2.2.3">
              </plus>
              <apply id="S3.Ex4.m2.1.1.1.1.cmml" xref="S3.Ex4.m2.1.1.1.1">
               <times id="S3.Ex4.m2.1.1.1.1.2.cmml" xref="S3.Ex4.m2.1.1.1.1.2">
               </times>
               <apply id="S3.Ex4.m2.1.1.1.1.3.cmml" xref="S3.Ex4.m2.1.1.1.1.3">
                <csymbol cd="ambiguous" id="S3.Ex4.m2.1.1.1.1.3.1.cmml" xref="S3.Ex4.m2.1.1.1.1.3">
                 subscript
                </csymbol>
                <ci id="S3.Ex4.m2.1.1.1.1.3.2.cmml" xref="S3.Ex4.m2.1.1.1.1.3.2">
                 𝛼
                </ci>
                <cn id="S3.Ex4.m2.1.1.1.1.3.3.cmml" type="integer" xref="S3.Ex4.m2.1.1.1.1.3.3">
                 1
                </cn>
               </apply>
               <apply id="S3.Ex4.m2.1.1.1.1.1.1.1.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1">
                <times id="S3.Ex4.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.1">
                </times>
                <apply id="S3.Ex4.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2">
                 <csymbol cd="ambiguous" id="S3.Ex4.m2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2">
                  superscript
                 </csymbol>
                 <apply id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2">
                  <csymbol cd="ambiguous" id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2">
                   subscript
                  </csymbol>
                  <apply id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2">
                   <ci id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2.1">
                    →
                   </ci>
                   <ci id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.2.2">
                    ℎ
                   </ci>
                  </apply>
                  <apply id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3">
                   <csymbol cd="ambiguous" id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3">
                    subscript
                   </csymbol>
                   <ci id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3.2">
                    𝑜
                   </ci>
                   <ci id="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.2.3.3">
                    𝑑
                   </ci>
                  </apply>
                 </apply>
                 <ci id="S3.Ex4.m2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.2.3">
                  𝑇
                 </ci>
                </apply>
                <apply id="S3.Ex4.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.3">
                 <csymbol cd="ambiguous" id="S3.Ex4.m2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.3">
                  subscript
                 </csymbol>
                 <apply id="S3.Ex4.m2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.3.2">
                  <ci id="S3.Ex4.m2.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.3.2.1">
                   →
                  </ci>
                  <ci id="S3.Ex4.m2.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.3.2.2">
                   ℎ
                  </ci>
                 </apply>
                 <ci id="S3.Ex4.m2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex4.m2.1.1.1.1.1.1.1.3.3">
                  𝑜
                 </ci>
                </apply>
               </apply>
              </apply>
              <apply id="S3.Ex4.m2.2.2.2.2.cmml" xref="S3.Ex4.m2.2.2.2.2">
               <times id="S3.Ex4.m2.2.2.2.2.2.cmml" xref="S3.Ex4.m2.2.2.2.2.2">
               </times>
               <apply id="S3.Ex4.m2.2.2.2.2.3.cmml" xref="S3.Ex4.m2.2.2.2.2.3">
                <csymbol cd="ambiguous" id="S3.Ex4.m2.2.2.2.2.3.1.cmml" xref="S3.Ex4.m2.2.2.2.2.3">
                 subscript
                </csymbol>
                <ci id="S3.Ex4.m2.2.2.2.2.3.2.cmml" xref="S3.Ex4.m2.2.2.2.2.3.2">
                 𝛼
                </ci>
                <cn id="S3.Ex4.m2.2.2.2.2.3.3.cmml" type="integer" xref="S3.Ex4.m2.2.2.2.2.3.3">
                 2
                </cn>
               </apply>
               <apply id="S3.Ex4.m2.2.2.2.2.1.1.1.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1">
                <times id="S3.Ex4.m2.2.2.2.2.1.1.1.1.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.1">
                </times>
                <apply id="S3.Ex4.m2.2.2.2.2.1.1.1.2.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2">
                 <csymbol cd="ambiguous" id="S3.Ex4.m2.2.2.2.2.1.1.1.2.1.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2">
                  superscript
                 </csymbol>
                 <apply id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2">
                  <csymbol cd="ambiguous" id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.1.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2">
                   subscript
                  </csymbol>
                  <apply id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2">
                   <ci id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2.1.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2.1">
                    →
                   </ci>
                   <ci id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2.2.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.2.2">
                    ℎ
                   </ci>
                  </apply>
                  <apply id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3">
                   <csymbol cd="ambiguous" id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3.1.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3">
                    subscript
                   </csymbol>
                   <ci id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3.2.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3.2">
                    𝑝
                   </ci>
                   <ci id="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3.3.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.2.3.3">
                    𝑑
                   </ci>
                  </apply>
                 </apply>
                 <ci id="S3.Ex4.m2.2.2.2.2.1.1.1.2.3.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.2.3">
                  𝑇
                 </ci>
                </apply>
                <apply id="S3.Ex4.m2.2.2.2.2.1.1.1.3.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.3">
                 <csymbol cd="ambiguous" id="S3.Ex4.m2.2.2.2.2.1.1.1.3.1.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.3">
                  subscript
                 </csymbol>
                 <apply id="S3.Ex4.m2.2.2.2.2.1.1.1.3.2.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.3.2">
                  <ci id="S3.Ex4.m2.2.2.2.2.1.1.1.3.2.1.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.3.2.1">
                   →
                  </ci>
                  <ci id="S3.Ex4.m2.2.2.2.2.1.1.1.3.2.2.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.3.2.2">
                   ℎ
                  </ci>
                 </apply>
                 <ci id="S3.Ex4.m2.2.2.2.2.1.1.1.3.3.cmml" xref="S3.Ex4.m2.2.2.2.2.1.1.1.3.3">
                  𝑝
                 </ci>
                </apply>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex4.m2.2c">
            \displaystyle=\alpha_{1}(\vec{h}_{o_{d}}^{T}\vec{h}_{o})+\alpha_{2}(\vec{h}_{p_{d}}^{T}\vec{h}_{p})
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
      <tbody id="S3.Ex5">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\textit{score}_{d}" class="ltx_Math" display="inline" id="S3.Ex5.m1.1">
          <semantics id="S3.Ex5.m1.1a">
           <msub id="S3.Ex5.m1.1.1" xref="S3.Ex5.m1.1.1.cmml">
            <mtext class="ltx_mathvariant_italic" id="S3.Ex5.m1.1.1.2" xref="S3.Ex5.m1.1.1.2a.cmml">
             score
            </mtext>
            <mi id="S3.Ex5.m1.1.1.3" xref="S3.Ex5.m1.1.1.3.cmml">
             d
            </mi>
           </msub>
           <annotation-xml encoding="MathML-Content" id="S3.Ex5.m1.1b">
            <apply id="S3.Ex5.m1.1.1.cmml" xref="S3.Ex5.m1.1.1">
             <csymbol cd="ambiguous" id="S3.Ex5.m1.1.1.1.cmml" xref="S3.Ex5.m1.1.1">
              subscript
             </csymbol>
             <ci id="S3.Ex5.m1.1.1.2a.cmml" xref="S3.Ex5.m1.1.1.2">
              <mtext class="ltx_mathvariant_italic" id="S3.Ex5.m1.1.1.2.cmml" xref="S3.Ex5.m1.1.1.2">
               score
              </mtext>
             </ci>
             <ci id="S3.Ex5.m1.1.1.3.cmml" xref="S3.Ex5.m1.1.1.3">
              𝑑
             </ci>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex5.m1.1c">
            \displaystyle\textit{score}_{d}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_left ltx_eqn_cell">
         <math alttext="\displaystyle=\textit{sim}_{d}\times\text{MLP}(\vec{h}_{o_{d}}\|\vec{h}_{p_{d}}\|\vec{h}_{a_{d}}\|\vec{h}_{o}\|\vec{h}_{p})" class="ltx_Math" display="inline" id="S3.Ex5.m2.1">
          <semantics id="S3.Ex5.m2.1a">
           <mrow id="S3.Ex5.m2.1.1" xref="S3.Ex5.m2.1.1.cmml">
            <mi id="S3.Ex5.m2.1.1.3" xref="S3.Ex5.m2.1.1.3.cmml">
            </mi>
            <mo id="S3.Ex5.m2.1.1.2" xref="S3.Ex5.m2.1.1.2.cmml">
             =
            </mo>
            <mrow id="S3.Ex5.m2.1.1.1" xref="S3.Ex5.m2.1.1.1.cmml">
             <mrow id="S3.Ex5.m2.1.1.1.3" xref="S3.Ex5.m2.1.1.1.3.cmml">
              <msub id="S3.Ex5.m2.1.1.1.3.2" xref="S3.Ex5.m2.1.1.1.3.2.cmml">
               <mtext class="ltx_mathvariant_italic" id="S3.Ex5.m2.1.1.1.3.2.2" xref="S3.Ex5.m2.1.1.1.3.2.2a.cmml">
                sim
               </mtext>
               <mi id="S3.Ex5.m2.1.1.1.3.2.3" xref="S3.Ex5.m2.1.1.1.3.2.3.cmml">
                d
               </mi>
              </msub>
              <mo id="S3.Ex5.m2.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.Ex5.m2.1.1.1.3.1.cmml">
               ×
              </mo>
              <mtext id="S3.Ex5.m2.1.1.1.3.3" xref="S3.Ex5.m2.1.1.1.3.3a.cmml">
               MLP
              </mtext>
             </mrow>
             <mo id="S3.Ex5.m2.1.1.1.2" lspace="0em" rspace="0em" xref="S3.Ex5.m2.1.1.1.2.cmml">
              ​
             </mo>
             <mrow id="S3.Ex5.m2.1.1.1.1.1" xref="S3.Ex5.m2.1.1.1.1.1.1.cmml">
              <mo id="S3.Ex5.m2.1.1.1.1.1.2" stretchy="false" xref="S3.Ex5.m2.1.1.1.1.1.1.cmml">
               (
              </mo>
              <mrow id="S3.Ex5.m2.1.1.1.1.1.1" xref="S3.Ex5.m2.1.1.1.1.1.1.cmml">
               <msub id="S3.Ex5.m2.1.1.1.1.1.1.4" xref="S3.Ex5.m2.1.1.1.1.1.1.4.cmml">
                <mover accent="true" id="S3.Ex5.m2.1.1.1.1.1.1.4.2" xref="S3.Ex5.m2.1.1.1.1.1.1.4.2.cmml">
                 <mi id="S3.Ex5.m2.1.1.1.1.1.1.4.2.2" xref="S3.Ex5.m2.1.1.1.1.1.1.4.2.2.cmml">
                  h
                 </mi>
                 <mo id="S3.Ex5.m2.1.1.1.1.1.1.4.2.1" stretchy="false" xref="S3.Ex5.m2.1.1.1.1.1.1.4.2.1.cmml">
                  →
                 </mo>
                </mover>
                <msub id="S3.Ex5.m2.1.1.1.1.1.1.4.3" xref="S3.Ex5.m2.1.1.1.1.1.1.4.3.cmml">
                 <mi id="S3.Ex5.m2.1.1.1.1.1.1.4.3.2" xref="S3.Ex5.m2.1.1.1.1.1.1.4.3.2.cmml">
                  o
                 </mi>
                 <mi id="S3.Ex5.m2.1.1.1.1.1.1.4.3.3" xref="S3.Ex5.m2.1.1.1.1.1.1.4.3.3.cmml">
                  d
                 </mi>
                </msub>
               </msub>
               <mo id="S3.Ex5.m2.1.1.1.1.1.1.3" lspace="0em" rspace="0em" xref="S3.Ex5.m2.1.1.1.1.1.1.3.cmml">
                ​
               </mo>
               <mrow id="S3.Ex5.m2.1.1.1.1.1.1.1.1" xref="S3.Ex5.m2.1.1.1.1.1.1.1.2.cmml">
                <mo id="S3.Ex5.m2.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.Ex5.m2.1.1.1.1.1.1.1.2.1.cmml">
                 ‖
                </mo>
                <msub id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.cmml">
                 <mover accent="true" id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2.cmml">
                  <mi id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2.2" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2.2.cmml">
                   h
                  </mi>
                  <mo id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2.1" stretchy="false" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2.1.cmml">
                   →
                  </mo>
                 </mover>
                 <msub id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3.cmml">
                  <mi id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3.2" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3.2.cmml">
                   p
                  </mi>
                  <mi id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3.3" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3.3.cmml">
                   d
                  </mi>
                 </msub>
                </msub>
                <mo id="S3.Ex5.m2.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.Ex5.m2.1.1.1.1.1.1.1.2.1.cmml">
                 ‖
                </mo>
               </mrow>
               <mo id="S3.Ex5.m2.1.1.1.1.1.1.3a" lspace="0em" rspace="0em" xref="S3.Ex5.m2.1.1.1.1.1.1.3.cmml">
                ​
               </mo>
               <msub id="S3.Ex5.m2.1.1.1.1.1.1.5" xref="S3.Ex5.m2.1.1.1.1.1.1.5.cmml">
                <mover accent="true" id="S3.Ex5.m2.1.1.1.1.1.1.5.2" xref="S3.Ex5.m2.1.1.1.1.1.1.5.2.cmml">
                 <mi id="S3.Ex5.m2.1.1.1.1.1.1.5.2.2" xref="S3.Ex5.m2.1.1.1.1.1.1.5.2.2.cmml">
                  h
                 </mi>
                 <mo id="S3.Ex5.m2.1.1.1.1.1.1.5.2.1" stretchy="false" xref="S3.Ex5.m2.1.1.1.1.1.1.5.2.1.cmml">
                  →
                 </mo>
                </mover>
                <msub id="S3.Ex5.m2.1.1.1.1.1.1.5.3" xref="S3.Ex5.m2.1.1.1.1.1.1.5.3.cmml">
                 <mi id="S3.Ex5.m2.1.1.1.1.1.1.5.3.2" xref="S3.Ex5.m2.1.1.1.1.1.1.5.3.2.cmml">
                  a
                 </mi>
                 <mi id="S3.Ex5.m2.1.1.1.1.1.1.5.3.3" xref="S3.Ex5.m2.1.1.1.1.1.1.5.3.3.cmml">
                  d
                 </mi>
                </msub>
               </msub>
               <mo id="S3.Ex5.m2.1.1.1.1.1.1.3b" lspace="0em" rspace="0em" xref="S3.Ex5.m2.1.1.1.1.1.1.3.cmml">
                ​
               </mo>
               <mrow id="S3.Ex5.m2.1.1.1.1.1.1.2.1" xref="S3.Ex5.m2.1.1.1.1.1.1.2.2.cmml">
                <mo id="S3.Ex5.m2.1.1.1.1.1.1.2.1.2" stretchy="false" xref="S3.Ex5.m2.1.1.1.1.1.1.2.2.1.cmml">
                 ‖
                </mo>
                <msub id="S3.Ex5.m2.1.1.1.1.1.1.2.1.1" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.cmml">
                 <mover accent="true" id="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2.cmml">
                  <mi id="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2.2" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2.2.cmml">
                   h
                  </mi>
                  <mo id="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2.1" stretchy="false" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2.1.cmml">
                   →
                  </mo>
                 </mover>
                 <mi id="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.3" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.3.cmml">
                  o
                 </mi>
                </msub>
                <mo id="S3.Ex5.m2.1.1.1.1.1.1.2.1.3" stretchy="false" xref="S3.Ex5.m2.1.1.1.1.1.1.2.2.1.cmml">
                 ‖
                </mo>
               </mrow>
               <mo id="S3.Ex5.m2.1.1.1.1.1.1.3c" lspace="0em" rspace="0em" xref="S3.Ex5.m2.1.1.1.1.1.1.3.cmml">
                ​
               </mo>
               <msub id="S3.Ex5.m2.1.1.1.1.1.1.6" xref="S3.Ex5.m2.1.1.1.1.1.1.6.cmml">
                <mover accent="true" id="S3.Ex5.m2.1.1.1.1.1.1.6.2" xref="S3.Ex5.m2.1.1.1.1.1.1.6.2.cmml">
                 <mi id="S3.Ex5.m2.1.1.1.1.1.1.6.2.2" xref="S3.Ex5.m2.1.1.1.1.1.1.6.2.2.cmml">
                  h
                 </mi>
                 <mo id="S3.Ex5.m2.1.1.1.1.1.1.6.2.1" stretchy="false" xref="S3.Ex5.m2.1.1.1.1.1.1.6.2.1.cmml">
                  →
                 </mo>
                </mover>
                <mi id="S3.Ex5.m2.1.1.1.1.1.1.6.3" xref="S3.Ex5.m2.1.1.1.1.1.1.6.3.cmml">
                 p
                </mi>
               </msub>
              </mrow>
              <mo id="S3.Ex5.m2.1.1.1.1.1.3" stretchy="false" xref="S3.Ex5.m2.1.1.1.1.1.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.Ex5.m2.1b">
            <apply id="S3.Ex5.m2.1.1.cmml" xref="S3.Ex5.m2.1.1">
             <eq id="S3.Ex5.m2.1.1.2.cmml" xref="S3.Ex5.m2.1.1.2">
             </eq>
             <csymbol cd="latexml" id="S3.Ex5.m2.1.1.3.cmml" xref="S3.Ex5.m2.1.1.3">
              absent
             </csymbol>
             <apply id="S3.Ex5.m2.1.1.1.cmml" xref="S3.Ex5.m2.1.1.1">
              <times id="S3.Ex5.m2.1.1.1.2.cmml" xref="S3.Ex5.m2.1.1.1.2">
              </times>
              <apply id="S3.Ex5.m2.1.1.1.3.cmml" xref="S3.Ex5.m2.1.1.1.3">
               <times id="S3.Ex5.m2.1.1.1.3.1.cmml" xref="S3.Ex5.m2.1.1.1.3.1">
               </times>
               <apply id="S3.Ex5.m2.1.1.1.3.2.cmml" xref="S3.Ex5.m2.1.1.1.3.2">
                <csymbol cd="ambiguous" id="S3.Ex5.m2.1.1.1.3.2.1.cmml" xref="S3.Ex5.m2.1.1.1.3.2">
                 subscript
                </csymbol>
                <ci id="S3.Ex5.m2.1.1.1.3.2.2a.cmml" xref="S3.Ex5.m2.1.1.1.3.2.2">
                 <mtext class="ltx_mathvariant_italic" id="S3.Ex5.m2.1.1.1.3.2.2.cmml" xref="S3.Ex5.m2.1.1.1.3.2.2">
                  sim
                 </mtext>
                </ci>
                <ci id="S3.Ex5.m2.1.1.1.3.2.3.cmml" xref="S3.Ex5.m2.1.1.1.3.2.3">
                 𝑑
                </ci>
               </apply>
               <ci id="S3.Ex5.m2.1.1.1.3.3a.cmml" xref="S3.Ex5.m2.1.1.1.3.3">
                <mtext id="S3.Ex5.m2.1.1.1.3.3.cmml" xref="S3.Ex5.m2.1.1.1.3.3">
                 MLP
                </mtext>
               </ci>
              </apply>
              <apply id="S3.Ex5.m2.1.1.1.1.1.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1">
               <times id="S3.Ex5.m2.1.1.1.1.1.1.3.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.3">
               </times>
               <apply id="S3.Ex5.m2.1.1.1.1.1.1.4.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.4">
                <csymbol cd="ambiguous" id="S3.Ex5.m2.1.1.1.1.1.1.4.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.4">
                 subscript
                </csymbol>
                <apply id="S3.Ex5.m2.1.1.1.1.1.1.4.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.4.2">
                 <ci id="S3.Ex5.m2.1.1.1.1.1.1.4.2.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.4.2.1">
                  →
                 </ci>
                 <ci id="S3.Ex5.m2.1.1.1.1.1.1.4.2.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.4.2.2">
                  ℎ
                 </ci>
                </apply>
                <apply id="S3.Ex5.m2.1.1.1.1.1.1.4.3.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.4.3">
                 <csymbol cd="ambiguous" id="S3.Ex5.m2.1.1.1.1.1.1.4.3.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.4.3">
                  subscript
                 </csymbol>
                 <ci id="S3.Ex5.m2.1.1.1.1.1.1.4.3.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.4.3.2">
                  𝑜
                 </ci>
                 <ci id="S3.Ex5.m2.1.1.1.1.1.1.4.3.3.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.4.3.3">
                  𝑑
                 </ci>
                </apply>
               </apply>
               <apply id="S3.Ex5.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1">
                <csymbol cd="latexml" id="S3.Ex5.m2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.2">
                 norm
                </csymbol>
                <apply id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1">
                 <csymbol cd="ambiguous" id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1">
                  subscript
                 </csymbol>
                 <apply id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2">
                  <ci id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2.1">
                   →
                  </ci>
                  <ci id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.2.2">
                   ℎ
                  </ci>
                 </apply>
                 <apply id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3">
                  <csymbol cd="ambiguous" id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3">
                   subscript
                  </csymbol>
                  <ci id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3.2">
                   𝑝
                  </ci>
                  <ci id="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.1.1.1.3.3">
                   𝑑
                  </ci>
                 </apply>
                </apply>
               </apply>
               <apply id="S3.Ex5.m2.1.1.1.1.1.1.5.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.5">
                <csymbol cd="ambiguous" id="S3.Ex5.m2.1.1.1.1.1.1.5.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.5">
                 subscript
                </csymbol>
                <apply id="S3.Ex5.m2.1.1.1.1.1.1.5.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.5.2">
                 <ci id="S3.Ex5.m2.1.1.1.1.1.1.5.2.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.5.2.1">
                  →
                 </ci>
                 <ci id="S3.Ex5.m2.1.1.1.1.1.1.5.2.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.5.2.2">
                  ℎ
                 </ci>
                </apply>
                <apply id="S3.Ex5.m2.1.1.1.1.1.1.5.3.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.5.3">
                 <csymbol cd="ambiguous" id="S3.Ex5.m2.1.1.1.1.1.1.5.3.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.5.3">
                  subscript
                 </csymbol>
                 <ci id="S3.Ex5.m2.1.1.1.1.1.1.5.3.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.5.3.2">
                  𝑎
                 </ci>
                 <ci id="S3.Ex5.m2.1.1.1.1.1.1.5.3.3.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.5.3.3">
                  𝑑
                 </ci>
                </apply>
               </apply>
               <apply id="S3.Ex5.m2.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1">
                <csymbol cd="latexml" id="S3.Ex5.m2.1.1.1.1.1.1.2.2.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.2">
                 norm
                </csymbol>
                <apply id="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.1">
                 <csymbol cd="ambiguous" id="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.1">
                  subscript
                 </csymbol>
                 <apply id="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2">
                  <ci id="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2.1">
                   →
                  </ci>
                  <ci id="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.2.2">
                   ℎ
                  </ci>
                 </apply>
                 <ci id="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.3.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.2.1.1.3">
                  𝑜
                 </ci>
                </apply>
               </apply>
               <apply id="S3.Ex5.m2.1.1.1.1.1.1.6.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.6">
                <csymbol cd="ambiguous" id="S3.Ex5.m2.1.1.1.1.1.1.6.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.6">
                 subscript
                </csymbol>
                <apply id="S3.Ex5.m2.1.1.1.1.1.1.6.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.6.2">
                 <ci id="S3.Ex5.m2.1.1.1.1.1.1.6.2.1.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.6.2.1">
                  →
                 </ci>
                 <ci id="S3.Ex5.m2.1.1.1.1.1.1.6.2.2.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.6.2.2">
                  ℎ
                 </ci>
                </apply>
                <ci id="S3.Ex5.m2.1.1.1.1.1.1.6.3.cmml" xref="S3.Ex5.m2.1.1.1.1.1.1.6.3">
                 𝑝
                </ci>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex5.m2.1c">
            \displaystyle=\textit{sim}_{d}\times\text{MLP}(\vec{h}_{o_{d}}\|\vec{h}_{p_{d}}\|\vec{h}_{a_{d}}\|\vec{h}_{o}\|\vec{h}_{p})
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
      <tbody id="S3.Ex6">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle d^{+}" class="ltx_Math" display="inline" id="S3.Ex6.m1.1">
          <semantics id="S3.Ex6.m1.1a">
           <msup id="S3.Ex6.m1.1.1" xref="S3.Ex6.m1.1.1.cmml">
            <mi id="S3.Ex6.m1.1.1.2" xref="S3.Ex6.m1.1.1.2.cmml">
             d
            </mi>
            <mo id="S3.Ex6.m1.1.1.3" xref="S3.Ex6.m1.1.1.3.cmml">
             +
            </mo>
           </msup>
           <annotation-xml encoding="MathML-Content" id="S3.Ex6.m1.1b">
            <apply id="S3.Ex6.m1.1.1.cmml" xref="S3.Ex6.m1.1.1">
             <csymbol cd="ambiguous" id="S3.Ex6.m1.1.1.1.cmml" xref="S3.Ex6.m1.1.1">
              superscript
             </csymbol>
             <ci id="S3.Ex6.m1.1.1.2.cmml" xref="S3.Ex6.m1.1.1.2">
              𝑑
             </ci>
             <plus id="S3.Ex6.m1.1.1.3.cmml" xref="S3.Ex6.m1.1.1.3">
             </plus>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex6.m1.1c">
            \displaystyle d^{+}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_left ltx_eqn_cell">
         <math alttext="\displaystyle\sim\text{Softmax}(\textit{score}_{d\in D_{a}})" class="ltx_Math" display="inline" id="S3.Ex6.m2.1">
          <semantics id="S3.Ex6.m2.1a">
           <mrow id="S3.Ex6.m2.1.1" xref="S3.Ex6.m2.1.1.cmml">
            <mi id="S3.Ex6.m2.1.1.3" xref="S3.Ex6.m2.1.1.3.cmml">
            </mi>
            <mo id="S3.Ex6.m2.1.1.2" xref="S3.Ex6.m2.1.1.2.cmml">
             ∼
            </mo>
            <mrow id="S3.Ex6.m2.1.1.1" xref="S3.Ex6.m2.1.1.1.cmml">
             <mtext id="S3.Ex6.m2.1.1.1.3" xref="S3.Ex6.m2.1.1.1.3a.cmml">
              Softmax
             </mtext>
             <mo id="S3.Ex6.m2.1.1.1.2" lspace="0em" rspace="0em" xref="S3.Ex6.m2.1.1.1.2.cmml">
              ​
             </mo>
             <mrow id="S3.Ex6.m2.1.1.1.1.1" xref="S3.Ex6.m2.1.1.1.1.1.1.cmml">
              <mo id="S3.Ex6.m2.1.1.1.1.1.2" stretchy="false" xref="S3.Ex6.m2.1.1.1.1.1.1.cmml">
               (
              </mo>
              <msub id="S3.Ex6.m2.1.1.1.1.1.1" xref="S3.Ex6.m2.1.1.1.1.1.1.cmml">
               <mtext class="ltx_mathvariant_italic" id="S3.Ex6.m2.1.1.1.1.1.1.2" xref="S3.Ex6.m2.1.1.1.1.1.1.2a.cmml">
                score
               </mtext>
               <mrow id="S3.Ex6.m2.1.1.1.1.1.1.3" xref="S3.Ex6.m2.1.1.1.1.1.1.3.cmml">
                <mi id="S3.Ex6.m2.1.1.1.1.1.1.3.2" xref="S3.Ex6.m2.1.1.1.1.1.1.3.2.cmml">
                 d
                </mi>
                <mo id="S3.Ex6.m2.1.1.1.1.1.1.3.1" xref="S3.Ex6.m2.1.1.1.1.1.1.3.1.cmml">
                 ∈
                </mo>
                <msub id="S3.Ex6.m2.1.1.1.1.1.1.3.3" xref="S3.Ex6.m2.1.1.1.1.1.1.3.3.cmml">
                 <mi id="S3.Ex6.m2.1.1.1.1.1.1.3.3.2" xref="S3.Ex6.m2.1.1.1.1.1.1.3.3.2.cmml">
                  D
                 </mi>
                 <mi id="S3.Ex6.m2.1.1.1.1.1.1.3.3.3" xref="S3.Ex6.m2.1.1.1.1.1.1.3.3.3.cmml">
                  a
                 </mi>
                </msub>
               </mrow>
              </msub>
              <mo id="S3.Ex6.m2.1.1.1.1.1.3" stretchy="false" xref="S3.Ex6.m2.1.1.1.1.1.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.Ex6.m2.1b">
            <apply id="S3.Ex6.m2.1.1.cmml" xref="S3.Ex6.m2.1.1">
             <csymbol cd="latexml" id="S3.Ex6.m2.1.1.2.cmml" xref="S3.Ex6.m2.1.1.2">
              similar-to
             </csymbol>
             <csymbol cd="latexml" id="S3.Ex6.m2.1.1.3.cmml" xref="S3.Ex6.m2.1.1.3">
              absent
             </csymbol>
             <apply id="S3.Ex6.m2.1.1.1.cmml" xref="S3.Ex6.m2.1.1.1">
              <times id="S3.Ex6.m2.1.1.1.2.cmml" xref="S3.Ex6.m2.1.1.1.2">
              </times>
              <ci id="S3.Ex6.m2.1.1.1.3a.cmml" xref="S3.Ex6.m2.1.1.1.3">
               <mtext id="S3.Ex6.m2.1.1.1.3.cmml" xref="S3.Ex6.m2.1.1.1.3">
                Softmax
               </mtext>
              </ci>
              <apply id="S3.Ex6.m2.1.1.1.1.1.1.cmml" xref="S3.Ex6.m2.1.1.1.1.1">
               <csymbol cd="ambiguous" id="S3.Ex6.m2.1.1.1.1.1.1.1.cmml" xref="S3.Ex6.m2.1.1.1.1.1">
                subscript
               </csymbol>
               <ci id="S3.Ex6.m2.1.1.1.1.1.1.2a.cmml" xref="S3.Ex6.m2.1.1.1.1.1.1.2">
                <mtext class="ltx_mathvariant_italic" id="S3.Ex6.m2.1.1.1.1.1.1.2.cmml" xref="S3.Ex6.m2.1.1.1.1.1.1.2">
                 score
                </mtext>
               </ci>
               <apply id="S3.Ex6.m2.1.1.1.1.1.1.3.cmml" xref="S3.Ex6.m2.1.1.1.1.1.1.3">
                <in id="S3.Ex6.m2.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex6.m2.1.1.1.1.1.1.3.1">
                </in>
                <ci id="S3.Ex6.m2.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex6.m2.1.1.1.1.1.1.3.2">
                 𝑑
                </ci>
                <apply id="S3.Ex6.m2.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex6.m2.1.1.1.1.1.1.3.3">
                 <csymbol cd="ambiguous" id="S3.Ex6.m2.1.1.1.1.1.1.3.3.1.cmml" xref="S3.Ex6.m2.1.1.1.1.1.1.3.3">
                  subscript
                 </csymbol>
                 <ci id="S3.Ex6.m2.1.1.1.1.1.1.3.3.2.cmml" xref="S3.Ex6.m2.1.1.1.1.1.1.3.3.2">
                  𝐷
                 </ci>
                 <ci id="S3.Ex6.m2.1.1.1.1.1.1.3.3.3.cmml" xref="S3.Ex6.m2.1.1.1.1.1.1.3.3.3">
                  𝑎
                 </ci>
                </apply>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex6.m2.1c">
            \displaystyle\sim\text{Softmax}(\textit{score}_{d\in D_{a}})
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px2.p3">
     <p class="ltx_p" id="S3.SS2.SSS0.Px2.p3.3">
      where where
      <math alttext="\alpha_{1}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px2.p3.1.m1.1">
       <semantics id="S3.SS2.SSS0.Px2.p3.1.m1.1a">
        <msub id="S3.SS2.SSS0.Px2.p3.1.m1.1.1" xref="S3.SS2.SSS0.Px2.p3.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px2.p3.1.m1.1.1.2" xref="S3.SS2.SSS0.Px2.p3.1.m1.1.1.2.cmml">
          α
         </mi>
         <mn id="S3.SS2.SSS0.Px2.p3.1.m1.1.1.3" xref="S3.SS2.SSS0.Px2.p3.1.m1.1.1.3.cmml">
          1
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p3.1.m1.1b">
         <apply id="S3.SS2.SSS0.Px2.p3.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p3.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p3.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p3.1.m1.1.1.2">
           𝛼
          </ci>
          <cn id="S3.SS2.SSS0.Px2.p3.1.m1.1.1.3.cmml" type="integer" xref="S3.SS2.SSS0.Px2.p3.1.m1.1.1.3">
           1
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p3.1.m1.1c">
         \alpha_{1}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="\alpha_{2}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px2.p3.2.m2.1">
       <semantics id="S3.SS2.SSS0.Px2.p3.2.m2.1a">
        <msub id="S3.SS2.SSS0.Px2.p3.2.m2.1.1" xref="S3.SS2.SSS0.Px2.p3.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px2.p3.2.m2.1.1.2" xref="S3.SS2.SSS0.Px2.p3.2.m2.1.1.2.cmml">
          α
         </mi>
         <mn id="S3.SS2.SSS0.Px2.p3.2.m2.1.1.3" xref="S3.SS2.SSS0.Px2.p3.2.m2.1.1.3.cmml">
          2
         </mn>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p3.2.m2.1b">
         <apply id="S3.SS2.SSS0.Px2.p3.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px2.p3.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p3.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p3.2.m2.1.1.2">
           𝛼
          </ci>
          <cn id="S3.SS2.SSS0.Px2.p3.2.m2.1.1.3.cmml" type="integer" xref="S3.SS2.SSS0.Px2.p3.2.m2.1.1.3">
           2
          </cn>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p3.2.m2.1c">
         \alpha_{2}
        </annotation>
       </semantics>
      </math>
      are hyperparameters. The ranking model is an MLP that encodes the embeddings of the demonstrations (observation, plan, action) as well as the current observation and plan, and it is trained to predict whether a demonstration leads to a successful execution or not, as a 0-1 score.
After computing the score of each demonstrations and normalizing with softmax, we then sample
      <math alttext="k_{a}^{+}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px2.p3.3.m3.1">
       <semantics id="S3.SS2.SSS0.Px2.p3.3.m3.1a">
        <msubsup id="S3.SS2.SSS0.Px2.p3.3.m3.1.1" xref="S3.SS2.SSS0.Px2.p3.3.m3.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px2.p3.3.m3.1.1.2.2" xref="S3.SS2.SSS0.Px2.p3.3.m3.1.1.2.2.cmml">
          k
         </mi>
         <mi id="S3.SS2.SSS0.Px2.p3.3.m3.1.1.2.3" xref="S3.SS2.SSS0.Px2.p3.3.m3.1.1.2.3.cmml">
          a
         </mi>
         <mo id="S3.SS2.SSS0.Px2.p3.3.m3.1.1.3" xref="S3.SS2.SSS0.Px2.p3.3.m3.1.1.3.cmml">
          +
         </mo>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p3.3.m3.1b">
         <apply id="S3.SS2.SSS0.Px2.p3.3.m3.1.1.cmml" xref="S3.SS2.SSS0.Px2.p3.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p3.3.m3.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p3.3.m3.1.1">
           superscript
          </csymbol>
          <apply id="S3.SS2.SSS0.Px2.p3.3.m3.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p3.3.m3.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p3.3.m3.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px2.p3.3.m3.1.1">
            subscript
           </csymbol>
           <ci id="S3.SS2.SSS0.Px2.p3.3.m3.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px2.p3.3.m3.1.1.2.2">
            𝑘
           </ci>
           <ci id="S3.SS2.SSS0.Px2.p3.3.m3.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px2.p3.3.m3.1.1.2.3">
            𝑎
           </ci>
          </apply>
          <plus id="S3.SS2.SSS0.Px2.p3.3.m3.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p3.3.m3.1.1.3">
          </plus>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p3.3.m3.1c">
         k_{a}^{+}
        </annotation>
       </semantics>
      </math>
      successful executions to include in the actor’s context.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS2.SSS0.Px3">
    <h4 class="ltx_title ltx_title_paragraph">
     Synthesizing Demonstrations
    </h4>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px3.p1">
     <p class="ltx_p" id="S3.SS2.SSS0.Px3.p1.1">
      We wish to retrieve a large space of relevant demonstrations, so the actor has access to a diverse set of previous experiences. Yet, we cannot include the raw
      <math alttext="k" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px3.p1.1.m1.1">
       <semantics id="S3.SS2.SSS0.Px3.p1.1.m1.1a">
        <mi id="S3.SS2.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px3.p1.1.m1.1.1.cmml">
         k
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px3.p1.1.m1.1b">
         <ci id="S3.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px3.p1.1.m1.1.1">
          𝑘
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px3.p1.1.m1.1c">
         k
        </annotation>
       </semantics>
      </math>
      demonstrations in the actor’s prompt due to context window limitations. To overcome this,
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.SSS0.Px3.p1.1.1">
       Wilbur
      </span>
      calls a synthesizer LLM to distill the essence of multiple demonstrations into actionable insights. This guides the actor in performing the next action by highlighting common patterns, strategies, or pitfalls identified across the demonstrations.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS2.SSS0.Px4">
    <h4 class="ltx_title ltx_title_paragraph">
     Action Prediction and Execution
    </h4>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px4.p1">
     <p class="ltx_p" id="S3.SS2.SSS0.Px4.p1.4">
      Given the goal
      <math alttext="g" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px4.p1.1.m1.1">
       <semantics id="S3.SS2.SSS0.Px4.p1.1.m1.1a">
        <mi id="S3.SS2.SSS0.Px4.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px4.p1.1.m1.1.1.cmml">
         g
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px4.p1.1.m1.1b">
         <ci id="S3.SS2.SSS0.Px4.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px4.p1.1.m1.1.1">
          𝑔
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px4.p1.1.m1.1c">
         g
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="k^{\prime}&lt;k" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px4.p1.2.m2.1">
       <semantics id="S3.SS2.SSS0.Px4.p1.2.m2.1a">
        <mrow id="S3.SS2.SSS0.Px4.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.cmml">
         <msup id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2.cmml">
          <mi id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2.2" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2.2.cmml">
           k
          </mi>
          <mo id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2.3" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2.3.cmml">
           ′
          </mo>
         </msup>
         <mo id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.1" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.1.cmml">
          &lt;
         </mo>
         <mi id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.3" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.3.cmml">
          k
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px4.p1.2.m2.1b">
         <apply id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1">
          <lt id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.1">
          </lt>
          <apply id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2">
           <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2">
            superscript
           </csymbol>
           <ci id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2.2">
            𝑘
           </ci>
           <ci id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.2.3">
            ′
           </ci>
          </apply>
          <ci id="S3.SS2.SSS0.Px4.p1.2.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px4.p1.2.m2.1.1.3">
           𝑘
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px4.p1.2.m2.1c">
         k^{\prime}&lt;k
        </annotation>
       </semantics>
      </math>
      raw demonstrations, the synthesized learnings
      <math alttext="l" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px4.p1.3.m3.1">
       <semantics id="S3.SS2.SSS0.Px4.p1.3.m3.1a">
        <mi id="S3.SS2.SSS0.Px4.p1.3.m3.1.1" xref="S3.SS2.SSS0.Px4.p1.3.m3.1.1.cmml">
         l
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px4.p1.3.m3.1b">
         <ci id="S3.SS2.SSS0.Px4.p1.3.m3.1.1.cmml" xref="S3.SS2.SSS0.Px4.p1.3.m3.1.1">
          𝑙
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px4.p1.3.m3.1c">
         l
        </annotation>
       </semantics>
      </math>
      , and the current observable state of the webpage
      <math alttext="o" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px4.p1.4.m4.1">
       <semantics id="S3.SS2.SSS0.Px4.p1.4.m4.1a">
        <mi id="S3.SS2.SSS0.Px4.p1.4.m4.1.1" xref="S3.SS2.SSS0.Px4.p1.4.m4.1.1.cmml">
         o
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px4.p1.4.m4.1b">
         <ci id="S3.SS2.SSS0.Px4.p1.4.m4.1.1.cmml" xref="S3.SS2.SSS0.Px4.p1.4.m4.1.1">
          𝑜
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px4.p1.4.m4.1c">
         o
        </annotation>
       </semantics>
      </math>
      , the actor predicts:
     </p>
     <table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx2">
      <tbody id="S3.Ex7">
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle a=\pi(o,g)=\text{Actor}(o,\tau,\varphi,D_{a}^{+},l_{a},l_{g})" class="ltx_Math" display="inline" id="S3.Ex7.m1.8">
          <semantics id="S3.Ex7.m1.8a">
           <mrow id="S3.Ex7.m1.8.8" xref="S3.Ex7.m1.8.8.cmml">
            <mi id="S3.Ex7.m1.8.8.5" xref="S3.Ex7.m1.8.8.5.cmml">
             a
            </mi>
            <mo id="S3.Ex7.m1.8.8.6" xref="S3.Ex7.m1.8.8.6.cmml">
             =
            </mo>
            <mrow id="S3.Ex7.m1.8.8.7" xref="S3.Ex7.m1.8.8.7.cmml">
             <mi id="S3.Ex7.m1.8.8.7.2" xref="S3.Ex7.m1.8.8.7.2.cmml">
              π
             </mi>
             <mo id="S3.Ex7.m1.8.8.7.1" lspace="0em" rspace="0em" xref="S3.Ex7.m1.8.8.7.1.cmml">
              ​
             </mo>
             <mrow id="S3.Ex7.m1.8.8.7.3.2" xref="S3.Ex7.m1.8.8.7.3.1.cmml">
              <mo id="S3.Ex7.m1.8.8.7.3.2.1" stretchy="false" xref="S3.Ex7.m1.8.8.7.3.1.cmml">
               (
              </mo>
              <mi id="S3.Ex7.m1.1.1" xref="S3.Ex7.m1.1.1.cmml">
               o
              </mi>
              <mo id="S3.Ex7.m1.8.8.7.3.2.2" xref="S3.Ex7.m1.8.8.7.3.1.cmml">
               ,
              </mo>
              <mi id="S3.Ex7.m1.2.2" xref="S3.Ex7.m1.2.2.cmml">
               g
              </mi>
              <mo id="S3.Ex7.m1.8.8.7.3.2.3" stretchy="false" xref="S3.Ex7.m1.8.8.7.3.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
            <mo id="S3.Ex7.m1.8.8.8" xref="S3.Ex7.m1.8.8.8.cmml">
             =
            </mo>
            <mrow id="S3.Ex7.m1.8.8.3" xref="S3.Ex7.m1.8.8.3.cmml">
             <mtext id="S3.Ex7.m1.8.8.3.5" xref="S3.Ex7.m1.8.8.3.5a.cmml">
              Actor
             </mtext>
             <mo id="S3.Ex7.m1.8.8.3.4" lspace="0em" rspace="0em" xref="S3.Ex7.m1.8.8.3.4.cmml">
              ​
             </mo>
             <mrow id="S3.Ex7.m1.8.8.3.3.3" xref="S3.Ex7.m1.8.8.3.3.4.cmml">
              <mo id="S3.Ex7.m1.8.8.3.3.3.4" stretchy="false" xref="S3.Ex7.m1.8.8.3.3.4.cmml">
               (
              </mo>
              <mi id="S3.Ex7.m1.3.3" xref="S3.Ex7.m1.3.3.cmml">
               o
              </mi>
              <mo id="S3.Ex7.m1.8.8.3.3.3.5" xref="S3.Ex7.m1.8.8.3.3.4.cmml">
               ,
              </mo>
              <mi id="S3.Ex7.m1.4.4" xref="S3.Ex7.m1.4.4.cmml">
               τ
              </mi>
              <mo id="S3.Ex7.m1.8.8.3.3.3.6" xref="S3.Ex7.m1.8.8.3.3.4.cmml">
               ,
              </mo>
              <mi id="S3.Ex7.m1.5.5" xref="S3.Ex7.m1.5.5.cmml">
               φ
              </mi>
              <mo id="S3.Ex7.m1.8.8.3.3.3.7" xref="S3.Ex7.m1.8.8.3.3.4.cmml">
               ,
              </mo>
              <msubsup id="S3.Ex7.m1.6.6.1.1.1.1" xref="S3.Ex7.m1.6.6.1.1.1.1.cmml">
               <mi id="S3.Ex7.m1.6.6.1.1.1.1.2.2" xref="S3.Ex7.m1.6.6.1.1.1.1.2.2.cmml">
                D
               </mi>
               <mi id="S3.Ex7.m1.6.6.1.1.1.1.2.3" xref="S3.Ex7.m1.6.6.1.1.1.1.2.3.cmml">
                a
               </mi>
               <mo id="S3.Ex7.m1.6.6.1.1.1.1.3" xref="S3.Ex7.m1.6.6.1.1.1.1.3.cmml">
                +
               </mo>
              </msubsup>
              <mo id="S3.Ex7.m1.8.8.3.3.3.8" xref="S3.Ex7.m1.8.8.3.3.4.cmml">
               ,
              </mo>
              <msub id="S3.Ex7.m1.7.7.2.2.2.2" xref="S3.Ex7.m1.7.7.2.2.2.2.cmml">
               <mi id="S3.Ex7.m1.7.7.2.2.2.2.2" xref="S3.Ex7.m1.7.7.2.2.2.2.2.cmml">
                l
               </mi>
               <mi id="S3.Ex7.m1.7.7.2.2.2.2.3" xref="S3.Ex7.m1.7.7.2.2.2.2.3.cmml">
                a
               </mi>
              </msub>
              <mo id="S3.Ex7.m1.8.8.3.3.3.9" xref="S3.Ex7.m1.8.8.3.3.4.cmml">
               ,
              </mo>
              <msub id="S3.Ex7.m1.8.8.3.3.3.3" xref="S3.Ex7.m1.8.8.3.3.3.3.cmml">
               <mi id="S3.Ex7.m1.8.8.3.3.3.3.2" xref="S3.Ex7.m1.8.8.3.3.3.3.2.cmml">
                l
               </mi>
               <mi id="S3.Ex7.m1.8.8.3.3.3.3.3" xref="S3.Ex7.m1.8.8.3.3.3.3.3.cmml">
                g
               </mi>
              </msub>
              <mo id="S3.Ex7.m1.8.8.3.3.3.10" stretchy="false" xref="S3.Ex7.m1.8.8.3.3.4.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.Ex7.m1.8b">
            <apply id="S3.Ex7.m1.8.8.cmml" xref="S3.Ex7.m1.8.8">
             <and id="S3.Ex7.m1.8.8a.cmml" xref="S3.Ex7.m1.8.8">
             </and>
             <apply id="S3.Ex7.m1.8.8b.cmml" xref="S3.Ex7.m1.8.8">
              <eq id="S3.Ex7.m1.8.8.6.cmml" xref="S3.Ex7.m1.8.8.6">
              </eq>
              <ci id="S3.Ex7.m1.8.8.5.cmml" xref="S3.Ex7.m1.8.8.5">
               𝑎
              </ci>
              <apply id="S3.Ex7.m1.8.8.7.cmml" xref="S3.Ex7.m1.8.8.7">
               <times id="S3.Ex7.m1.8.8.7.1.cmml" xref="S3.Ex7.m1.8.8.7.1">
               </times>
               <ci id="S3.Ex7.m1.8.8.7.2.cmml" xref="S3.Ex7.m1.8.8.7.2">
                𝜋
               </ci>
               <interval closure="open" id="S3.Ex7.m1.8.8.7.3.1.cmml" xref="S3.Ex7.m1.8.8.7.3.2">
                <ci id="S3.Ex7.m1.1.1.cmml" xref="S3.Ex7.m1.1.1">
                 𝑜
                </ci>
                <ci id="S3.Ex7.m1.2.2.cmml" xref="S3.Ex7.m1.2.2">
                 𝑔
                </ci>
               </interval>
              </apply>
             </apply>
             <apply id="S3.Ex7.m1.8.8c.cmml" xref="S3.Ex7.m1.8.8">
              <eq id="S3.Ex7.m1.8.8.8.cmml" xref="S3.Ex7.m1.8.8.8">
              </eq>
              <share href="#S3.Ex7.m1.8.8.7.cmml" id="S3.Ex7.m1.8.8d.cmml" xref="S3.Ex7.m1.8.8">
              </share>
              <apply id="S3.Ex7.m1.8.8.3.cmml" xref="S3.Ex7.m1.8.8.3">
               <times id="S3.Ex7.m1.8.8.3.4.cmml" xref="S3.Ex7.m1.8.8.3.4">
               </times>
               <ci id="S3.Ex7.m1.8.8.3.5a.cmml" xref="S3.Ex7.m1.8.8.3.5">
                <mtext id="S3.Ex7.m1.8.8.3.5.cmml" xref="S3.Ex7.m1.8.8.3.5">
                 Actor
                </mtext>
               </ci>
               <vector id="S3.Ex7.m1.8.8.3.3.4.cmml" xref="S3.Ex7.m1.8.8.3.3.3">
                <ci id="S3.Ex7.m1.3.3.cmml" xref="S3.Ex7.m1.3.3">
                 𝑜
                </ci>
                <ci id="S3.Ex7.m1.4.4.cmml" xref="S3.Ex7.m1.4.4">
                 𝜏
                </ci>
                <ci id="S3.Ex7.m1.5.5.cmml" xref="S3.Ex7.m1.5.5">
                 𝜑
                </ci>
                <apply id="S3.Ex7.m1.6.6.1.1.1.1.cmml" xref="S3.Ex7.m1.6.6.1.1.1.1">
                 <csymbol cd="ambiguous" id="S3.Ex7.m1.6.6.1.1.1.1.1.cmml" xref="S3.Ex7.m1.6.6.1.1.1.1">
                  superscript
                 </csymbol>
                 <apply id="S3.Ex7.m1.6.6.1.1.1.1.2.cmml" xref="S3.Ex7.m1.6.6.1.1.1.1">
                  <csymbol cd="ambiguous" id="S3.Ex7.m1.6.6.1.1.1.1.2.1.cmml" xref="S3.Ex7.m1.6.6.1.1.1.1">
                   subscript
                  </csymbol>
                  <ci id="S3.Ex7.m1.6.6.1.1.1.1.2.2.cmml" xref="S3.Ex7.m1.6.6.1.1.1.1.2.2">
                   𝐷
                  </ci>
                  <ci id="S3.Ex7.m1.6.6.1.1.1.1.2.3.cmml" xref="S3.Ex7.m1.6.6.1.1.1.1.2.3">
                   𝑎
                  </ci>
                 </apply>
                 <plus id="S3.Ex7.m1.6.6.1.1.1.1.3.cmml" xref="S3.Ex7.m1.6.6.1.1.1.1.3">
                 </plus>
                </apply>
                <apply id="S3.Ex7.m1.7.7.2.2.2.2.cmml" xref="S3.Ex7.m1.7.7.2.2.2.2">
                 <csymbol cd="ambiguous" id="S3.Ex7.m1.7.7.2.2.2.2.1.cmml" xref="S3.Ex7.m1.7.7.2.2.2.2">
                  subscript
                 </csymbol>
                 <ci id="S3.Ex7.m1.7.7.2.2.2.2.2.cmml" xref="S3.Ex7.m1.7.7.2.2.2.2.2">
                  𝑙
                 </ci>
                 <ci id="S3.Ex7.m1.7.7.2.2.2.2.3.cmml" xref="S3.Ex7.m1.7.7.2.2.2.2.3">
                  𝑎
                 </ci>
                </apply>
                <apply id="S3.Ex7.m1.8.8.3.3.3.3.cmml" xref="S3.Ex7.m1.8.8.3.3.3.3">
                 <csymbol cd="ambiguous" id="S3.Ex7.m1.8.8.3.3.3.3.1.cmml" xref="S3.Ex7.m1.8.8.3.3.3.3">
                  subscript
                 </csymbol>
                 <ci id="S3.Ex7.m1.8.8.3.3.3.3.2.cmml" xref="S3.Ex7.m1.8.8.3.3.3.3.2">
                  𝑙
                 </ci>
                 <ci id="S3.Ex7.m1.8.8.3.3.3.3.3.cmml" xref="S3.Ex7.m1.8.8.3.3.3.3.3">
                  𝑔
                 </ci>
                </apply>
               </vector>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex7.m1.8c">
            \displaystyle a=\pi(o,g)=\text{Actor}(o,\tau,\varphi,D_{a}^{+},l_{a},l_{g})
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px4.p2">
     <p class="ltx_p" id="S3.SS2.SSS0.Px4.p2.1">
      The actor is implemented as an LLM which produces executable code in a domain-specific language optimized for web actions. The DSL also includes operations to save content from the page in the state. The full definition of the agent DSL is given in Appendix
      <a class="ltx_ref" href="#A2" title="Appendix B DSL Definition ‣ Wilbur: Adaptive In-Context Learning for Robust and Accurate Web Agents">
       <span class="ltx_text ltx_ref_tag">
        B
       </span>
      </a>
      . If the actor does not produce valid DSL (according to its syntax or semantics), it is prompted again to attempt to produce a different
      <math alttext="a" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px4.p2.1.m1.1">
       <semantics id="S3.SS2.SSS0.Px4.p2.1.m1.1a">
        <mi id="S3.SS2.SSS0.Px4.p2.1.m1.1.1" xref="S3.SS2.SSS0.Px4.p2.1.m1.1.1.cmml">
         a
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px4.p2.1.m1.1b">
         <ci id="S3.SS2.SSS0.Px4.p2.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px4.p2.1.m1.1.1">
          𝑎
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px4.p2.1.m1.1c">
         a
        </annotation>
       </semantics>
      </math>
      , adding the DSL compilation feedback to the context.
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px4.p3">
     <p class="ltx_p" id="S3.SS2.SSS0.Px4.p3.2">
      The DSL is executed by an interpreter in the web browser. If execution fails, for example because the selector does not match an interactable element on the page, the whole step is marked as failed, new feedback
      <math alttext="\varphi" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px4.p3.1.m1.1">
       <semantics id="S3.SS2.SSS0.Px4.p3.1.m1.1a">
        <mi id="S3.SS2.SSS0.Px4.p3.1.m1.1.1" xref="S3.SS2.SSS0.Px4.p3.1.m1.1.1.cmml">
         φ
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px4.p3.1.m1.1b">
         <ci id="S3.SS2.SSS0.Px4.p3.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px4.p3.1.m1.1.1">
          𝜑
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px4.p3.1.m1.1c">
         \varphi
        </annotation>
       </semantics>
      </math>
      is computed, and the agent backtracks. After execution, the new observed state
      <math alttext="o^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px4.p3.2.m2.1">
       <semantics id="S3.SS2.SSS0.Px4.p3.2.m2.1a">
        <msup id="S3.SS2.SSS0.Px4.p3.2.m2.1.1" xref="S3.SS2.SSS0.Px4.p3.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px4.p3.2.m2.1.1.2" xref="S3.SS2.SSS0.Px4.p3.2.m2.1.1.2.cmml">
          o
         </mi>
         <mo id="S3.SS2.SSS0.Px4.p3.2.m2.1.1.3" xref="S3.SS2.SSS0.Px4.p3.2.m2.1.1.3.cmml">
          ′
         </mo>
        </msup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px4.p3.2.m2.1b">
         <apply id="S3.SS2.SSS0.Px4.p3.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px4.p3.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px4.p3.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px4.p3.2.m2.1.1">
           superscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px4.p3.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px4.p3.2.m2.1.1.2">
           𝑜
          </ci>
          <ci id="S3.SS2.SSS0.Px4.p3.2.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px4.p3.2.m2.1.1.3">
           ′
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px4.p3.2.m2.1c">
         o^{\prime}
        </annotation>
       </semantics>
      </math>
      is computed based on the new URL and new content of the page.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS2.SSS0.Px5">
    <h4 class="ltx_title ltx_title_paragraph">
     Reflection and Backtracking
    </h4>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px5.p1">
     <p class="ltx_p" id="S3.SS2.SSS0.Px5.p1.5">
      The purpose of the reflection LM is to assess the effectiveness of actions taken by
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.SSS0.Px5.p1.5.1">
       Wilbur
      </span>
      . After the actor executes an action, resulting in a new observation
      <math alttext="o^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px5.p1.1.m1.1">
       <semantics id="S3.SS2.SSS0.Px5.p1.1.m1.1a">
        <msup id="S3.SS2.SSS0.Px5.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.2" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.2.cmml">
          o
         </mi>
         <mo id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.cmml">
          ′
         </mo>
        </msup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px5.p1.1.m1.1b">
         <apply id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1">
           superscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.2">
           𝑜
          </ci>
          <ci id="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px5.p1.1.m1.1.1.3">
           ′
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px5.p1.1.m1.1c">
         o^{\prime}
        </annotation>
       </semantics>
      </math>
      , the reflector checks whether the action has reasonably completed the planned step. It takes into consideration the previous observed state
      <math alttext="o" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px5.p1.2.m2.1">
       <semantics id="S3.SS2.SSS0.Px5.p1.2.m2.1a">
        <mi id="S3.SS2.SSS0.Px5.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px5.p1.2.m2.1.1.cmml">
         o
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px5.p1.2.m2.1b">
         <ci id="S3.SS2.SSS0.Px5.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.2.m2.1.1">
          𝑜
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px5.p1.2.m2.1c">
         o
        </annotation>
       </semantics>
      </math>
      , new observed state
      <math alttext="o^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px5.p1.3.m3.1">
       <semantics id="S3.SS2.SSS0.Px5.p1.3.m3.1a">
        <msup id="S3.SS2.SSS0.Px5.p1.3.m3.1.1" xref="S3.SS2.SSS0.Px5.p1.3.m3.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px5.p1.3.m3.1.1.2" xref="S3.SS2.SSS0.Px5.p1.3.m3.1.1.2.cmml">
          o
         </mi>
         <mo id="S3.SS2.SSS0.Px5.p1.3.m3.1.1.3" xref="S3.SS2.SSS0.Px5.p1.3.m3.1.1.3.cmml">
          ′
         </mo>
        </msup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px5.p1.3.m3.1b">
         <apply id="S3.SS2.SSS0.Px5.p1.3.m3.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px5.p1.3.m3.1.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.3.m3.1.1">
           superscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px5.p1.3.m3.1.1.2.cmml" xref="S3.SS2.SSS0.Px5.p1.3.m3.1.1.2">
           𝑜
          </ci>
          <ci id="S3.SS2.SSS0.Px5.p1.3.m3.1.1.3.cmml" xref="S3.SS2.SSS0.Px5.p1.3.m3.1.1.3">
           ′
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px5.p1.3.m3.1c">
         o^{\prime}
        </annotation>
       </semantics>
      </math>
      , the action
      <math alttext="a" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px5.p1.4.m4.1">
       <semantics id="S3.SS2.SSS0.Px5.p1.4.m4.1a">
        <mi id="S3.SS2.SSS0.Px5.p1.4.m4.1.1" xref="S3.SS2.SSS0.Px5.p1.4.m4.1.1.cmml">
         a
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px5.p1.4.m4.1b">
         <ci id="S3.SS2.SSS0.Px5.p1.4.m4.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.4.m4.1.1">
          𝑎
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px5.p1.4.m4.1c">
         a
        </annotation>
       </semantics>
      </math>
      , the plan
      <math alttext="p" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px5.p1.5.m5.1">
       <semantics id="S3.SS2.SSS0.Px5.p1.5.m5.1a">
        <mi id="S3.SS2.SSS0.Px5.p1.5.m5.1.1" xref="S3.SS2.SSS0.Px5.p1.5.m5.1.1.cmml">
         p
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px5.p1.5.m5.1b">
         <ci id="S3.SS2.SSS0.Px5.p1.5.m5.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.5.m5.1.1">
          𝑝
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px5.p1.5.m5.1c">
         p
        </annotation>
       </semantics>
      </math>
      , and the current goal to make its judgment:
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.Ex8">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="v,\varphi,p^{\prime}=\text{Reflect}(o,o^{\prime},a,p,g)" class="ltx_Math" display="block" id="S3.Ex8.m1.8">
          <semantics id="S3.Ex8.m1.8a">
           <mrow id="S3.Ex8.m1.8.8" xref="S3.Ex8.m1.8.8.cmml">
            <mrow id="S3.Ex8.m1.7.7.1.1" xref="S3.Ex8.m1.7.7.1.2.cmml">
             <mi id="S3.Ex8.m1.5.5" xref="S3.Ex8.m1.5.5.cmml">
              v
             </mi>
             <mo id="S3.Ex8.m1.7.7.1.1.2" xref="S3.Ex8.m1.7.7.1.2.cmml">
              ,
             </mo>
             <mi id="S3.Ex8.m1.6.6" xref="S3.Ex8.m1.6.6.cmml">
              φ
             </mi>
             <mo id="S3.Ex8.m1.7.7.1.1.3" xref="S3.Ex8.m1.7.7.1.2.cmml">
              ,
             </mo>
             <msup id="S3.Ex8.m1.7.7.1.1.1" xref="S3.Ex8.m1.7.7.1.1.1.cmml">
              <mi id="S3.Ex8.m1.7.7.1.1.1.2" xref="S3.Ex8.m1.7.7.1.1.1.2.cmml">
               p
              </mi>
              <mo id="S3.Ex8.m1.7.7.1.1.1.3" xref="S3.Ex8.m1.7.7.1.1.1.3.cmml">
               ′
              </mo>
             </msup>
            </mrow>
            <mo id="S3.Ex8.m1.8.8.3" xref="S3.Ex8.m1.8.8.3.cmml">
             =
            </mo>
            <mrow id="S3.Ex8.m1.8.8.2" xref="S3.Ex8.m1.8.8.2.cmml">
             <mtext id="S3.Ex8.m1.8.8.2.3" xref="S3.Ex8.m1.8.8.2.3a.cmml">
              Reflect
             </mtext>
             <mo id="S3.Ex8.m1.8.8.2.2" lspace="0em" rspace="0em" xref="S3.Ex8.m1.8.8.2.2.cmml">
              ​
             </mo>
             <mrow id="S3.Ex8.m1.8.8.2.1.1" xref="S3.Ex8.m1.8.8.2.1.2.cmml">
              <mo id="S3.Ex8.m1.8.8.2.1.1.2" stretchy="false" xref="S3.Ex8.m1.8.8.2.1.2.cmml">
               (
              </mo>
              <mi id="S3.Ex8.m1.1.1" xref="S3.Ex8.m1.1.1.cmml">
               o
              </mi>
              <mo id="S3.Ex8.m1.8.8.2.1.1.3" xref="S3.Ex8.m1.8.8.2.1.2.cmml">
               ,
              </mo>
              <msup id="S3.Ex8.m1.8.8.2.1.1.1" xref="S3.Ex8.m1.8.8.2.1.1.1.cmml">
               <mi id="S3.Ex8.m1.8.8.2.1.1.1.2" xref="S3.Ex8.m1.8.8.2.1.1.1.2.cmml">
                o
               </mi>
               <mo id="S3.Ex8.m1.8.8.2.1.1.1.3" xref="S3.Ex8.m1.8.8.2.1.1.1.3.cmml">
                ′
               </mo>
              </msup>
              <mo id="S3.Ex8.m1.8.8.2.1.1.4" xref="S3.Ex8.m1.8.8.2.1.2.cmml">
               ,
              </mo>
              <mi id="S3.Ex8.m1.2.2" xref="S3.Ex8.m1.2.2.cmml">
               a
              </mi>
              <mo id="S3.Ex8.m1.8.8.2.1.1.5" xref="S3.Ex8.m1.8.8.2.1.2.cmml">
               ,
              </mo>
              <mi id="S3.Ex8.m1.3.3" xref="S3.Ex8.m1.3.3.cmml">
               p
              </mi>
              <mo id="S3.Ex8.m1.8.8.2.1.1.6" xref="S3.Ex8.m1.8.8.2.1.2.cmml">
               ,
              </mo>
              <mi id="S3.Ex8.m1.4.4" xref="S3.Ex8.m1.4.4.cmml">
               g
              </mi>
              <mo id="S3.Ex8.m1.8.8.2.1.1.7" stretchy="false" xref="S3.Ex8.m1.8.8.2.1.2.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.Ex8.m1.8b">
            <apply id="S3.Ex8.m1.8.8.cmml" xref="S3.Ex8.m1.8.8">
             <eq id="S3.Ex8.m1.8.8.3.cmml" xref="S3.Ex8.m1.8.8.3">
             </eq>
             <list id="S3.Ex8.m1.7.7.1.2.cmml" xref="S3.Ex8.m1.7.7.1.1">
              <ci id="S3.Ex8.m1.5.5.cmml" xref="S3.Ex8.m1.5.5">
               𝑣
              </ci>
              <ci id="S3.Ex8.m1.6.6.cmml" xref="S3.Ex8.m1.6.6">
               𝜑
              </ci>
              <apply id="S3.Ex8.m1.7.7.1.1.1.cmml" xref="S3.Ex8.m1.7.7.1.1.1">
               <csymbol cd="ambiguous" id="S3.Ex8.m1.7.7.1.1.1.1.cmml" xref="S3.Ex8.m1.7.7.1.1.1">
                superscript
               </csymbol>
               <ci id="S3.Ex8.m1.7.7.1.1.1.2.cmml" xref="S3.Ex8.m1.7.7.1.1.1.2">
                𝑝
               </ci>
               <ci id="S3.Ex8.m1.7.7.1.1.1.3.cmml" xref="S3.Ex8.m1.7.7.1.1.1.3">
                ′
               </ci>
              </apply>
             </list>
             <apply id="S3.Ex8.m1.8.8.2.cmml" xref="S3.Ex8.m1.8.8.2">
              <times id="S3.Ex8.m1.8.8.2.2.cmml" xref="S3.Ex8.m1.8.8.2.2">
              </times>
              <ci id="S3.Ex8.m1.8.8.2.3a.cmml" xref="S3.Ex8.m1.8.8.2.3">
               <mtext id="S3.Ex8.m1.8.8.2.3.cmml" xref="S3.Ex8.m1.8.8.2.3">
                Reflect
               </mtext>
              </ci>
              <vector id="S3.Ex8.m1.8.8.2.1.2.cmml" xref="S3.Ex8.m1.8.8.2.1.1">
               <ci id="S3.Ex8.m1.1.1.cmml" xref="S3.Ex8.m1.1.1">
                𝑜
               </ci>
               <apply id="S3.Ex8.m1.8.8.2.1.1.1.cmml" xref="S3.Ex8.m1.8.8.2.1.1.1">
                <csymbol cd="ambiguous" id="S3.Ex8.m1.8.8.2.1.1.1.1.cmml" xref="S3.Ex8.m1.8.8.2.1.1.1">
                 superscript
                </csymbol>
                <ci id="S3.Ex8.m1.8.8.2.1.1.1.2.cmml" xref="S3.Ex8.m1.8.8.2.1.1.1.2">
                 𝑜
                </ci>
                <ci id="S3.Ex8.m1.8.8.2.1.1.1.3.cmml" xref="S3.Ex8.m1.8.8.2.1.1.1.3">
                 ′
                </ci>
               </apply>
               <ci id="S3.Ex8.m1.2.2.cmml" xref="S3.Ex8.m1.2.2">
                𝑎
               </ci>
               <ci id="S3.Ex8.m1.3.3.cmml" xref="S3.Ex8.m1.3.3">
                𝑝
               </ci>
               <ci id="S3.Ex8.m1.4.4.cmml" xref="S3.Ex8.m1.4.4">
                𝑔
               </ci>
              </vector>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex8.m1.8c">
            v,\varphi,p^{\prime}=\text{Reflect}(o,o^{\prime},a,p,g)
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS2.SSS0.Px5.p1.6">
      where
      <math alttext="v" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px5.p1.6.m1.1">
       <semantics id="S3.SS2.SSS0.Px5.p1.6.m1.1a">
        <mi id="S3.SS2.SSS0.Px5.p1.6.m1.1.1" xref="S3.SS2.SSS0.Px5.p1.6.m1.1.1.cmml">
         v
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px5.p1.6.m1.1b">
         <ci id="S3.SS2.SSS0.Px5.p1.6.m1.1.1.cmml" xref="S3.SS2.SSS0.Px5.p1.6.m1.1.1">
          𝑣
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px5.p1.6.m1.1c">
         v
        </annotation>
       </semantics>
      </math>
      is a ternary verdict:
     </p>
     <ul class="ltx_itemize" id="S3.I2">
      <li class="ltx_item" id="S3.I2.i1" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="S3.I2.i1.p1">
        <p class="ltx_p" id="S3.I2.i1.p1.1">
         <span class="ltx_text ltx_font_smallcaps" id="S3.I2.i1.p1.1.1">
          finish
         </span>
         : the current goal was completed successfully and the agent is done
        </p>
       </div>
      </li>
      <li class="ltx_item" id="S3.I2.i2" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="S3.I2.i2.p1">
        <p class="ltx_p" id="S3.I2.i2.p1.1">
         <span class="ltx_text ltx_font_smallcaps" id="S3.I2.i2.p1.1.1">
          continue
         </span>
         : proceed by completing planned step
         <math alttext="p^{\prime}" class="ltx_Math" display="inline" id="S3.I2.i2.p1.1.m1.1">
          <semantics id="S3.I2.i2.p1.1.m1.1a">
           <msup id="S3.I2.i2.p1.1.m1.1.1" xref="S3.I2.i2.p1.1.m1.1.1.cmml">
            <mi id="S3.I2.i2.p1.1.m1.1.1.2" xref="S3.I2.i2.p1.1.m1.1.1.2.cmml">
             p
            </mi>
            <mo id="S3.I2.i2.p1.1.m1.1.1.3" xref="S3.I2.i2.p1.1.m1.1.1.3.cmml">
             ′
            </mo>
           </msup>
           <annotation-xml encoding="MathML-Content" id="S3.I2.i2.p1.1.m1.1b">
            <apply id="S3.I2.i2.p1.1.m1.1.1.cmml" xref="S3.I2.i2.p1.1.m1.1.1">
             <csymbol cd="ambiguous" id="S3.I2.i2.p1.1.m1.1.1.1.cmml" xref="S3.I2.i2.p1.1.m1.1.1">
              superscript
             </csymbol>
             <ci id="S3.I2.i2.p1.1.m1.1.1.2.cmml" xref="S3.I2.i2.p1.1.m1.1.1.2">
              𝑝
             </ci>
             <ci id="S3.I2.i2.p1.1.m1.1.1.3.cmml" xref="S3.I2.i2.p1.1.m1.1.1.3">
              ′
             </ci>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.I2.i2.p1.1.m1.1c">
            p^{\prime}
           </annotation>
          </semantics>
         </math>
         next
        </p>
       </div>
      </li>
      <li class="ltx_item" id="S3.I2.i3" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para ltx_noindent" id="S3.I2.i3.p1">
        <p class="ltx_p" id="S3.I2.i3.p1.1">
         <span class="ltx_text ltx_font_smallcaps" id="S3.I2.i3.p1.1.1">
          backtrack
         </span>
         : backtrack and try an alternative action with feedback
         <math alttext="\varphi" class="ltx_Math" display="inline" id="S3.I2.i3.p1.1.m1.1">
          <semantics id="S3.I2.i3.p1.1.m1.1a">
           <mi id="S3.I2.i3.p1.1.m1.1.1" xref="S3.I2.i3.p1.1.m1.1.1.cmml">
            φ
           </mi>
           <annotation-xml encoding="MathML-Content" id="S3.I2.i3.p1.1.m1.1b">
            <ci id="S3.I2.i3.p1.1.m1.1.1.cmml" xref="S3.I2.i3.p1.1.m1.1.1">
             𝜑
            </ci>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.I2.i3.p1.1.m1.1c">
            \varphi
           </annotation>
          </semantics>
         </math>
        </p>
       </div>
      </li>
     </ul>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px5.p2">
     <p class="ltx_p" id="S3.SS2.SSS0.Px5.p2.2">
      The reflector uses both a rule-based comparison algorithm that checks for differences between
      <math alttext="o" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px5.p2.1.m1.1">
       <semantics id="S3.SS2.SSS0.Px5.p2.1.m1.1a">
        <mi id="S3.SS2.SSS0.Px5.p2.1.m1.1.1" xref="S3.SS2.SSS0.Px5.p2.1.m1.1.1.cmml">
         o
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px5.p2.1.m1.1b">
         <ci id="S3.SS2.SSS0.Px5.p2.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px5.p2.1.m1.1.1">
          𝑜
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px5.p2.1.m1.1c">
         o
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="o^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px5.p2.2.m2.1">
       <semantics id="S3.SS2.SSS0.Px5.p2.2.m2.1a">
        <msup id="S3.SS2.SSS0.Px5.p2.2.m2.1.1" xref="S3.SS2.SSS0.Px5.p2.2.m2.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px5.p2.2.m2.1.1.2" xref="S3.SS2.SSS0.Px5.p2.2.m2.1.1.2.cmml">
          o
         </mi>
         <mo id="S3.SS2.SSS0.Px5.p2.2.m2.1.1.3" xref="S3.SS2.SSS0.Px5.p2.2.m2.1.1.3.cmml">
          ′
         </mo>
        </msup>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px5.p2.2.m2.1b">
         <apply id="S3.SS2.SSS0.Px5.p2.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px5.p2.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px5.p2.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px5.p2.2.m2.1.1">
           superscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px5.p2.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px5.p2.2.m2.1.1.2">
           𝑜
          </ci>
          <ci id="S3.SS2.SSS0.Px5.p2.2.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px5.p2.2.m2.1.1.3">
           ′
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px5.p2.2.m2.1c">
         o^{\prime}
        </annotation>
       </semantics>
      </math>
      , and an LLM to compute the verdict. Qualitatively, we observe that incorrect executions often result in no change in the DOM, for example because the agent tries to click on a button that is disabled because a form needs to be filled first. Hence, the rule-based comparison ensures that execution performed had the desired effect on the page. The additional reflection step then checks that the new state of the page corresponds to the expected state according to the plan.
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px5.p3">
     <p class="ltx_p" id="S3.SS2.SSS0.Px5.p3.1">
      If the agent backtracks, it returns to the most recent observation
      <math alttext="o_{prev}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px5.p3.1.m1.1">
       <semantics id="S3.SS2.SSS0.Px5.p3.1.m1.1a">
        <msub id="S3.SS2.SSS0.Px5.p3.1.m1.1.1" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.cmml">
         <mi id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.2" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.2.cmml">
          o
         </mi>
         <mrow id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.cmml">
          <mi id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.2" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.2.cmml">
           p
          </mi>
          <mo id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.1" lspace="0em" rspace="0em" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.3" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.3.cmml">
           r
          </mi>
          <mo id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.1a" lspace="0em" rspace="0em" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.4" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.4.cmml">
           e
          </mi>
          <mo id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.1b" lspace="0em" rspace="0em" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.1.cmml">
           ​
          </mo>
          <mi id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.5" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.5.cmml">
           v
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px5.p3.1.m1.1b">
         <apply id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.2">
           𝑜
          </ci>
          <apply id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3">
           <times id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.1.cmml" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.1">
           </times>
           <ci id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.2.cmml" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.2">
            𝑝
           </ci>
           <ci id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.3.cmml" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.3">
            𝑟
           </ci>
           <ci id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.4.cmml" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.4">
            𝑒
           </ci>
           <ci id="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.5.cmml" xref="S3.SS2.SSS0.Px5.p3.1.m1.1.1.3.5">
            𝑣
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px5.p3.1.m1.1c">
         o_{prev}
        </annotation>
       </semantics>
      </math>
      that is possible to return to. Because the backend is real and not simulated, not all state changes can be reverted. In the current implementation,
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.SSS0.Px5.p3.1.1">
       Wilbur
      </span>
      returns to the most recent state that corresponded to a navigation (change in page URL). The new state is applied by that refreshing or navigating to that URL, which resets the DOM on the page.
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px5.p4">
     <p class="ltx_p" id="S3.SS2.SSS0.Px5.p4.1">
      Overall, the reflector helps in ensuring
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.SSS0.Px5.p4.1.1">
       Wilbur
      </span>
      remains on the most promising path towards the goal at every step by preventing wasted efforts on ineffective actions.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS2.SSS0.Px6">
    <h4 class="ltx_title ltx_title_paragraph">
     Answering Model
    </h4>
    <div class="ltx_para ltx_noindent" id="S3.SS2.SSS0.Px6.p1">
     <p class="ltx_p" id="S3.SS2.SSS0.Px6.p1.1">
      Once
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.SSS0.Px6.p1.1.1">
       Wilbur
      </span>
      finishes the execution, it leverages a final LLM call to deliver a human-readable answer as a response. Given the goal, execution history, and extracted text, it produces a summary of
      <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.SSS0.Px6.p1.1.2">
       Wilbur
      </span>
      ’s trajectory and addresses the initial goal.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S3.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     3.3
    </span>
    Learning websites with
    <span class="ltx_text ltx_font_smallcaps" id="S3.SS3.1.1">
     Wilbur
    </span>
   </h3>
   <div class="ltx_para ltx_noindent" id="S3.SS3.p1">
    <p class="ltx_p" id="S3.SS3.p1.1">
     In order to populate
     <span class="ltx_text ltx_font_smallcaps" id="S3.SS3.p1.1.1">
      Wilbur
     </span>
     ’s demonstration banks and train the knowledge model, we leverage a multi-step auto-curriculum to collect reference trajectories (Algorithm
     <a class="ltx_ref" href="#alg2" title="Algorithm 2 ‣ Appendix C Training Algorithm ‣ Wilbur: Adaptive In-Context Learning for Robust and Accurate Web Agents">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     ):
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S3.SS3.p2">
    <ol class="ltx_enumerate" id="S3.I3">
     <li class="ltx_item" id="S3.I3.i1" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       1.
      </span>
      <div class="ltx_para" id="S3.I3.i1.p1">
       <p class="ltx_p" id="S3.I3.i1.p1.1">
        An auto-curriculum is run on a batch of websites and record predicted end-to-end success using an execution evaluation LM.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I3.i2" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       2.
      </span>
      <div class="ltx_para" id="S3.I3.i2.p1">
       <p class="ltx_p" id="S3.I3.i2.p1.1">
        A more challenging goal-generation process is run conditioned on initial goals and utilizing task and goal demonstrations from trajectories recorded in the first step.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I3.i3" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       3.
      </span>
      <div class="ltx_para ltx_noindent" id="S3.I3.i3.p1">
       <p class="ltx_p" id="S3.I3.i3.p1.1">
        We train our knowledge model to predict success likelihood of actions in the follow-up run which reference demonstrations in the first run.
       </p>
      </div>
     </li>
    </ol>
   </div>
   <section class="ltx_paragraph" id="S3.SS3.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Autocurriculum Goal Generation
    </h4>
    <div class="ltx_para ltx_noindent" id="S3.SS3.SSS0.Px1.p1">
     <p class="ltx_p" id="S3.SS3.SSS0.Px1.p1.2">
      In order to model realistic use-cases and goals on the web, we model the goal generation process as a function of a website’s DOM representation:
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.Ex9">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="G=\text{GenerateGoals}(w)" class="ltx_Math" display="block" id="S3.Ex9.m1.1">
          <semantics id="S3.Ex9.m1.1a">
           <mrow id="S3.Ex9.m1.1.2" xref="S3.Ex9.m1.1.2.cmml">
            <mi id="S3.Ex9.m1.1.2.2" xref="S3.Ex9.m1.1.2.2.cmml">
             G
            </mi>
            <mo id="S3.Ex9.m1.1.2.1" xref="S3.Ex9.m1.1.2.1.cmml">
             =
            </mo>
            <mrow id="S3.Ex9.m1.1.2.3" xref="S3.Ex9.m1.1.2.3.cmml">
             <mtext id="S3.Ex9.m1.1.2.3.2" xref="S3.Ex9.m1.1.2.3.2a.cmml">
              GenerateGoals
             </mtext>
             <mo id="S3.Ex9.m1.1.2.3.1" lspace="0em" rspace="0em" xref="S3.Ex9.m1.1.2.3.1.cmml">
              ​
             </mo>
             <mrow id="S3.Ex9.m1.1.2.3.3.2" xref="S3.Ex9.m1.1.2.3.cmml">
              <mo id="S3.Ex9.m1.1.2.3.3.2.1" stretchy="false" xref="S3.Ex9.m1.1.2.3.cmml">
               (
              </mo>
              <mi id="S3.Ex9.m1.1.1" xref="S3.Ex9.m1.1.1.cmml">
               w
              </mi>
              <mo id="S3.Ex9.m1.1.2.3.3.2.2" stretchy="false" xref="S3.Ex9.m1.1.2.3.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.Ex9.m1.1b">
            <apply id="S3.Ex9.m1.1.2.cmml" xref="S3.Ex9.m1.1.2">
             <eq id="S3.Ex9.m1.1.2.1.cmml" xref="S3.Ex9.m1.1.2.1">
             </eq>
             <ci id="S3.Ex9.m1.1.2.2.cmml" xref="S3.Ex9.m1.1.2.2">
              𝐺
             </ci>
             <apply id="S3.Ex9.m1.1.2.3.cmml" xref="S3.Ex9.m1.1.2.3">
              <times id="S3.Ex9.m1.1.2.3.1.cmml" xref="S3.Ex9.m1.1.2.3.1">
              </times>
              <ci id="S3.Ex9.m1.1.2.3.2a.cmml" xref="S3.Ex9.m1.1.2.3.2">
               <mtext id="S3.Ex9.m1.1.2.3.2.cmml" xref="S3.Ex9.m1.1.2.3.2">
                GenerateGoals
               </mtext>
              </ci>
              <ci id="S3.Ex9.m1.1.1.cmml" xref="S3.Ex9.m1.1.1">
               𝑤
              </ci>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex9.m1.1c">
            G=\text{GenerateGoals}(w)
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS0.Px1.p1.1">
      where
      <math alttext="G=\{g_{1},g_{2},...,g_{n}\}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p1.1.m1.4">
       <semantics id="S3.SS3.SSS0.Px1.p1.1.m1.4a">
        <mrow id="S3.SS3.SSS0.Px1.p1.1.m1.4.4" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.cmml">
         <mi id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.5" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.5.cmml">
          G
         </mi>
         <mo id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.4" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.4.cmml">
          =
         </mo>
         <mrow id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.4.cmml">
          <mo id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.4" stretchy="false" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.4.cmml">
           {
          </mo>
          <msub id="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1" xref="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1.cmml">
           <mi id="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1.2" xref="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.cmml">
            g
           </mi>
           <mn id="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1.3" xref="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.cmml">
            1
           </mn>
          </msub>
          <mo id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.5" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.4.cmml">
           ,
          </mo>
          <msub id="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2" xref="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2.cmml">
           <mi id="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2.2" xref="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2.2.cmml">
            g
           </mi>
           <mn id="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2.3" xref="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2.3.cmml">
            2
           </mn>
          </msub>
          <mo id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.6" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.4.cmml">
           ,
          </mo>
          <mi id="S3.SS3.SSS0.Px1.p1.1.m1.1.1" mathvariant="normal" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.cmml">
           …
          </mi>
          <mo id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.7" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.4.cmml">
           ,
          </mo>
          <msub id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3.cmml">
           <mi id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3.2" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3.2.cmml">
            g
           </mi>
           <mi id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3.3" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3.3.cmml">
            n
           </mi>
          </msub>
          <mo id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.8" stretchy="false" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.4.cmml">
           }
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.1.m1.4b">
         <apply id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4">
          <eq id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.4.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.4">
          </eq>
          <ci id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.5.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.5">
           𝐺
          </ci>
          <set id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.4.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3">
           <apply id="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1">
            <csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1">
             subscript
            </csymbol>
            <ci id="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1.2">
             𝑔
            </ci>
            <cn id="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS3.SSS0.Px1.p1.1.m1.2.2.1.1.1.3">
             1
            </cn>
           </apply>
           <apply id="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2">
            <csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2.1.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2">
             subscript
            </csymbol>
            <ci id="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2.2.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2.2">
             𝑔
            </ci>
            <cn id="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS3.SSS0.Px1.p1.1.m1.3.3.2.2.2.3">
             2
            </cn>
           </apply>
           <ci id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1">
            …
           </ci>
           <apply id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3">
            <csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3.1.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3">
             subscript
            </csymbol>
            <ci id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3.2.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3.2">
             𝑔
            </ci>
            <ci id="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3.3.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.4.4.3.3.3.3">
             𝑛
            </ci>
           </apply>
          </set>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.1.m1.4c">
         G=\{g_{1},g_{2},...,g_{n}\}
        </annotation>
       </semantics>
      </math>
      is a batch of goals that are reasonably achievable given the starting state of a website, sampled from an LLM. We instruct the LLM to produce information extraction and DOM interaction goals in approximately equal proportion.
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S3.SS3.SSS0.Px1.p2">
     <p class="ltx_p" id="S3.SS3.SSS0.Px1.p2.1">
      During the second phase of the auto-curriculum, we condition on previously generated goals in order to develop diverse and more challenging follow-up goals
      <math alttext="G^{\prime}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px1.p2.1.m1.1">
       <semantics id="S3.SS3.SSS0.Px1.p2.1.m1.1a">
        <msup id="S3.SS3.SSS0.Px1.p2.1.m1.1.1" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.cmml">
         <mi id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.2" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.2.cmml">
          G
         </mi>
         <mo id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.3" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.3.cmml">
          ′
         </mo>
        </msup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p2.1.m1.1b">
         <apply id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1">
           superscript
          </csymbol>
          <ci id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.2">
           𝐺
          </ci>
          <ci id="S3.SS3.SSS0.Px1.p2.1.m1.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p2.1.m1.1.1.3">
           ′
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p2.1.m1.1c">
         G^{\prime}
        </annotation>
       </semantics>
      </math>
      :
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.Ex10">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="G^{\prime}=\text{GenerateGoals}(G,w)" class="ltx_Math" display="block" id="S3.Ex10.m1.2">
          <semantics id="S3.Ex10.m1.2a">
           <mrow id="S3.Ex10.m1.2.3" xref="S3.Ex10.m1.2.3.cmml">
            <msup id="S3.Ex10.m1.2.3.2" xref="S3.Ex10.m1.2.3.2.cmml">
             <mi id="S3.Ex10.m1.2.3.2.2" xref="S3.Ex10.m1.2.3.2.2.cmml">
              G
             </mi>
             <mo id="S3.Ex10.m1.2.3.2.3" xref="S3.Ex10.m1.2.3.2.3.cmml">
              ′
             </mo>
            </msup>
            <mo id="S3.Ex10.m1.2.3.1" xref="S3.Ex10.m1.2.3.1.cmml">
             =
            </mo>
            <mrow id="S3.Ex10.m1.2.3.3" xref="S3.Ex10.m1.2.3.3.cmml">
             <mtext id="S3.Ex10.m1.2.3.3.2" xref="S3.Ex10.m1.2.3.3.2a.cmml">
              GenerateGoals
             </mtext>
             <mo id="S3.Ex10.m1.2.3.3.1" lspace="0em" rspace="0em" xref="S3.Ex10.m1.2.3.3.1.cmml">
              ​
             </mo>
             <mrow id="S3.Ex10.m1.2.3.3.3.2" xref="S3.Ex10.m1.2.3.3.3.1.cmml">
              <mo id="S3.Ex10.m1.2.3.3.3.2.1" stretchy="false" xref="S3.Ex10.m1.2.3.3.3.1.cmml">
               (
              </mo>
              <mi id="S3.Ex10.m1.1.1" xref="S3.Ex10.m1.1.1.cmml">
               G
              </mi>
              <mo id="S3.Ex10.m1.2.3.3.3.2.2" xref="S3.Ex10.m1.2.3.3.3.1.cmml">
               ,
              </mo>
              <mi id="S3.Ex10.m1.2.2" xref="S3.Ex10.m1.2.2.cmml">
               w
              </mi>
              <mo id="S3.Ex10.m1.2.3.3.3.2.3" stretchy="false" xref="S3.Ex10.m1.2.3.3.3.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.Ex10.m1.2b">
            <apply id="S3.Ex10.m1.2.3.cmml" xref="S3.Ex10.m1.2.3">
             <eq id="S3.Ex10.m1.2.3.1.cmml" xref="S3.Ex10.m1.2.3.1">
             </eq>
             <apply id="S3.Ex10.m1.2.3.2.cmml" xref="S3.Ex10.m1.2.3.2">
              <csymbol cd="ambiguous" id="S3.Ex10.m1.2.3.2.1.cmml" xref="S3.Ex10.m1.2.3.2">
               superscript
              </csymbol>
              <ci id="S3.Ex10.m1.2.3.2.2.cmml" xref="S3.Ex10.m1.2.3.2.2">
               𝐺
              </ci>
              <ci id="S3.Ex10.m1.2.3.2.3.cmml" xref="S3.Ex10.m1.2.3.2.3">
               ′
              </ci>
             </apply>
             <apply id="S3.Ex10.m1.2.3.3.cmml" xref="S3.Ex10.m1.2.3.3">
              <times id="S3.Ex10.m1.2.3.3.1.cmml" xref="S3.Ex10.m1.2.3.3.1">
              </times>
              <ci id="S3.Ex10.m1.2.3.3.2a.cmml" xref="S3.Ex10.m1.2.3.3.2">
               <mtext id="S3.Ex10.m1.2.3.3.2.cmml" xref="S3.Ex10.m1.2.3.3.2">
                GenerateGoals
               </mtext>
              </ci>
              <interval closure="open" id="S3.Ex10.m1.2.3.3.3.1.cmml" xref="S3.Ex10.m1.2.3.3.3.2">
               <ci id="S3.Ex10.m1.1.1.cmml" xref="S3.Ex10.m1.1.1">
                𝐺
               </ci>
               <ci id="S3.Ex10.m1.2.2.cmml" xref="S3.Ex10.m1.2.2">
                𝑤
               </ci>
              </interval>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.Ex10.m1.2c">
            G^{\prime}=\text{GenerateGoals}(G,w)
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS3.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Self-Evaluation
    </h4>
    <div class="ltx_para ltx_noindent" id="S3.SS3.SSS0.Px2.p1">
     <p class="ltx_p" id="S3.SS3.SSS0.Px2.p1.4">
      In order to evaluate an agent’s execution on a goal from the auto-curriculum, we model self-evaluation
      <math alttext="\hat{r}\in[0,1]" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px2.p1.1.m1.2">
       <semantics id="S3.SS3.SSS0.Px2.p1.1.m1.2a">
        <mrow id="S3.SS3.SSS0.Px2.p1.1.m1.2.3" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.cmml">
         <mover accent="true" id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2.cmml">
          <mi id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2.2" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2.2.cmml">
           r
          </mi>
          <mo id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2.1" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2.1.cmml">
           ^
          </mo>
         </mover>
         <mo id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.1" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.1.cmml">
          ∈
         </mo>
         <mrow id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.3.2" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.3.1.cmml">
          <mo id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.3.2.1" stretchy="false" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.3.1.cmml">
           [
          </mo>
          <mn id="S3.SS3.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml">
           0
          </mn>
          <mo id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.3.2.2" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.3.1.cmml">
           ,
          </mo>
          <mn id="S3.SS3.SSS0.Px2.p1.1.m1.2.2" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.2.cmml">
           1
          </mn>
          <mo id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.3.2.3" stretchy="false" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.3.1.cmml">
           ]
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.1.m1.2b">
         <apply id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3">
          <in id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.1">
          </in>
          <apply id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2">
           <ci id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2.1.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2.1">
            ^
           </ci>
           <ci id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2.2.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.2.2">
            𝑟
           </ci>
          </apply>
          <interval closure="closed" id="S3.SS3.SSS0.Px2.p1.1.m1.2.3.3.1.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.3.3.2">
           <cn id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml" type="integer" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1">
            0
           </cn>
           <cn id="S3.SS3.SSS0.Px2.p1.1.m1.2.2.cmml" type="integer" xref="S3.SS3.SSS0.Px2.p1.1.m1.2.2">
            1
           </cn>
          </interval>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.1.m1.2c">
         \hat{r}\in[0,1]
        </annotation>
       </semantics>
      </math>
      as a function of the agent’s execution trajectory
      <math alttext="\tau" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px2.p1.2.m2.1">
       <semantics id="S3.SS3.SSS0.Px2.p1.2.m2.1a">
        <mi id="S3.SS3.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1.cmml">
         τ
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.2.m2.1b">
         <ci id="S3.SS3.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.2.m2.1.1">
          𝜏
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.2.m2.1c">
         \tau
        </annotation>
       </semantics>
      </math>
      and returned text
      <span class="ltx_text ltx_markedasmath ltx_font_italic" id="S3.SS3.SSS0.Px2.p1.4.1">
       answer
      </span>
      .
      <math alttext="\hat{r}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px2.p1.4.m4.1">
       <semantics id="S3.SS3.SSS0.Px2.p1.4.m4.1a">
        <mover accent="true" id="S3.SS3.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.cmml">
         <mi id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.2" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.2.cmml">
          r
         </mi>
         <mo id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.1" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.1.cmml">
          ^
         </mo>
        </mover>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.4.m4.1b">
         <apply id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1">
          <ci id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.1">
           ^
          </ci>
          <ci id="S3.SS3.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.4.m4.1.1.2">
           𝑟
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.4.m4.1c">
         \hat{r}
        </annotation>
       </semantics>
      </math>
      is predicted by an LLM which evaluates the entire execution trajectory with regards to the goal’s requirements.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S3.SS3.SSS0.Px3">
    <h4 class="ltx_title ltx_title_paragraph">
     Knowledge Model Training
    </h4>
    <div class="ltx_para ltx_noindent" id="S3.SS3.SSS0.Px3.p1">
     <p class="ltx_p" id="S3.SS3.SSS0.Px3.p1.1">
      The first run of the auto-curriculum generates demonstrations queried during the second run of the auto-curriculum. As such, the follow-up run generates training data for the knowledge model. We train the knowledge model to predict action success
      <math alttext="v_{a}" class="ltx_Math" display="inline" id="S3.SS3.SSS0.Px3.p1.1.m1.1">
       <semantics id="S3.SS3.SSS0.Px3.p1.1.m1.1a">
        <msub id="S3.SS3.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS3.SSS0.Px3.p1.1.m1.1.1.cmml">
         <mi id="S3.SS3.SSS0.Px3.p1.1.m1.1.1.2" xref="S3.SS3.SSS0.Px3.p1.1.m1.1.1.2.cmml">
          v
         </mi>
         <mi id="S3.SS3.SSS0.Px3.p1.1.m1.1.1.3" xref="S3.SS3.SSS0.Px3.p1.1.m1.1.1.3.cmml">
          a
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px3.p1.1.m1.1b">
         <apply id="S3.SS3.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px3.p1.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.SSS0.Px3.p1.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.SSS0.Px3.p1.1.m1.1.1.2">
           𝑣
          </ci>
          <ci id="S3.SS3.SSS0.Px3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.SSS0.Px3.p1.1.m1.1.1.3">
           𝑎
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px3.p1.1.m1.1c">
         v_{a}
        </annotation>
       </semantics>
      </math>
      as estimated in the reflection step, using binary cross-entropy loss.
     </p>
    </div>
   </section>
  </section>
 </section>
 <section class="ltx_section" id="S4">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    4
   </span>
   Evaluation
  </h2>
  <div class="ltx_para ltx_noindent" id="S4.p1">
   <p class="ltx_p" id="S4.p1.1">
    We implemented
    <span class="ltx_text ltx_font_smallcaps" id="S4.p1.1.1">
     Wilbur
    </span>
    as a browser extension in a commercial web automation platform.
In this section, we evaluate it on the WebVoyager benchmark
    <cite class="ltx_cite ltx_citemacro_citep">
     (He et al.,
     <a class="ltx_ref" href="#bib.bib10" title="">
      2024
     </a>
     )
    </cite>
    . For reproducibility, upon publication, we will release detailed evaluation results, as well as the auto-curriculum training data.
   </p>
  </div>
  <section class="ltx_subsection" id="S4.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.1
    </span>
    Experimental Setup
   </h3>
   <section class="ltx_paragraph" id="S4.SS1.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Benchmark
    </h4>
    <div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px1.p1">
     <p class="ltx_p" id="S4.SS1.SSS0.Px1.p1.1">
      WebVoyager is a benchmark of 643 goals, divided across 15 diverse real websites. Tasks include navigation, information retrieval, transactions, general question-answering. The tasks are performed on the actual websites, not on simulators or sandbox environments. The score is obtained at the end of the task from automatic evaluation by GPT4V
      <cite class="ltx_cite ltx_citemacro_citep">
       (OpenAI,
       <a class="ltx_ref" href="#bib.bib19" title="">
        2023
       </a>
       )
      </cite>
      , which uses the screenshot of the page at the end of the task. Note though that
      <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.SSS0.Px1.p1.1.1">
       Wilbur
      </span>
      is a text-only model and does not use screenshots to predict actions.
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px1.p2">
     <p class="ltx_p" id="S4.SS1.SSS0.Px1.p2.1">
      We chose WebVoyager because it uses real websites and, unlike other benchmarks, the score only measures task success rate. Agents are not penalized for following different trajectories than the reference one, as long as they complete the task and obtain the right answer.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S4.SS1.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Ablation Study
    </h4>
    <div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px2.p1">
     <p class="ltx_p" id="S4.SS1.SSS0.Px2.p1.1">
      To further study the effect of the different components of our methodology, we perform an ablation study. We compare
      <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.SSS0.Px2.p1.1.1">
       Wilbur
      </span>
      against the following baselines:
     </p>
     <ul class="ltx_itemize" id="S4.I1">
      <li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="S4.I1.i1.p1">
        <p class="ltx_p" id="S4.I1.i1.p1.1">
         Zero-shot: a baseline with no backtracking capabilities and no task demonstrations.
        </p>
       </div>
      </li>
      <li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="S4.I1.i2.p1">
        <p class="ltx_p" id="S4.I1.i2.p1.1">
         <math alttext="+" class="ltx_Math" display="inline" id="S4.I1.i2.p1.1.m1.1">
          <semantics id="S4.I1.i2.p1.1.m1.1a">
           <mo id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml">
            +
           </mo>
           <annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b">
            <plus id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1">
            </plus>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">
            +
           </annotation>
          </semantics>
         </math>
         Backtracking: a zero-shot agent with the ability to verify and backtrack.
        </p>
       </div>
      </li>
      <li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="S4.I1.i3.p1">
        <p class="ltx_p" id="S4.I1.i3.p1.1">
         <math alttext="+" class="ltx_Math" display="inline" id="S4.I1.i3.p1.1.m1.1">
          <semantics id="S4.I1.i3.p1.1.m1.1a">
           <mo id="S4.I1.i3.p1.1.m1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.cmml">
            +
           </mo>
           <annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.1.m1.1b">
            <plus id="S4.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1">
            </plus>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.I1.i3.p1.1.m1.1c">
            +
           </annotation>
          </semantics>
         </math>
         Demonstrations: the agent is additionally prompted with positive-only task demonstrations, obtained from the auto-curriculum training data by embedding similarity with no dedicated model.
        </p>
       </div>
      </li>
      <li class="ltx_item" id="S4.I1.i4" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para ltx_noindent" id="S4.I1.i4.p1">
        <p class="ltx_p" id="S4.I1.i4.p1.1">
         <math alttext="+" class="ltx_Math" display="inline" id="S4.I1.i4.p1.1.m1.1">
          <semantics id="S4.I1.i4.p1.1.m1.1a">
           <mo id="S4.I1.i4.p1.1.m1.1.1" xref="S4.I1.i4.p1.1.m1.1.1.cmml">
            +
           </mo>
           <annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.1.m1.1b">
            <plus id="S4.I1.i4.p1.1.m1.1.1.cmml" xref="S4.I1.i4.p1.1.m1.1.1">
            </plus>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.I1.i4.p1.1.m1.1c">
            +
           </annotation>
          </semantics>
         </math>
         Synthesis: in addition to positive task demonstrations, we synthesize instructions from positive and negative demonstrations.
        </p>
       </div>
      </li>
     </ul>
    </div>
   </section>
   <section class="ltx_paragraph" id="S4.SS1.SSS0.Px3">
    <h4 class="ltx_title ltx_title_paragraph">
     Hyperparameters
    </h4>
    <div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px3.p1">
     <p class="ltx_p" id="S4.SS1.SSS0.Px3.p1.1">
      For our experiments, we use OpenAI GPT-4 Turbo
      <cite class="ltx_cite ltx_citemacro_citep">
       (OpenAI,
       <a class="ltx_ref" href="#bib.bib19" title="">
        2023
       </a>
       )
      </cite>
      (
      <span class="ltx_text ltx_font_typewriter" id="S4.SS1.SSS0.Px3.p1.1.1">
       gpt-4-0125-preview
      </span>
      ) as the underlying LLM. We set the temperature to 0 for all calls, except for the actor LLM during autocurriculum, which has a temperature of
      <math alttext="0.4" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px3.p1.1.m1.1">
       <semantics id="S4.SS1.SSS0.Px3.p1.1.m1.1a">
        <mn id="S4.SS1.SSS0.Px3.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1.cmml">
         0.4
        </mn>
        <annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px3.p1.1.m1.1b">
         <cn id="S4.SS1.SSS0.Px3.p1.1.m1.1.1.cmml" type="float" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1">
          0.4
         </cn>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px3.p1.1.m1.1c">
         0.4
        </annotation>
       </semantics>
      </math>
      . We use OpenAI’s
      <span class="ltx_text ltx_font_italic" id="S4.SS1.SSS0.Px3.p1.1.2">
       text-embedding-3-large
      </span>
      as the embedding model, compressed down to a dimension of (1536, 1) for vector storage. For every goal, we retrieve 20 goal-conditioned demonstrations by cosine-similarity, of which we use 2 negative and 3 positive for instruction synthesis. Similarly for every execution step, we retrieve 20 website-conditioned demonstrations by cosime-similar, from which we select 5 positive to include in the prompt, and we use 5 positive and 5 negative examples for instruction synthesis.
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px3.p2">
     <p class="ltx_p" id="S4.SS1.SSS0.Px3.p2.1">
      For the knowledge model, we use a three-layer fully-connected MLP, using a ReLU non-linearity between hidden layers and a sigmoid at the end. The input concatenates embedding vectors of demonstration DOM, demonstration plan, demonstration action, current DOM, and current plan for a total size of 7680. The intermediate layers have hidden size 200.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S4.SS1.SSS0.Px4">
    <h4 class="ltx_title ltx_title_paragraph">
     Autocurriculum Training
    </h4>
    <div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px4.p1">
     <p class="ltx_p" id="S4.SS1.SSS0.Px4.p1.1">
      We sample 254 goals during the initial phase of the autocurriculum across the websites used in WebVoyager. Of these, 72% were marked successful during the self-evaluation phase. Overall, the knowledge bank includes 183 goals and 634 action steps across all websites.
     </p>
    </div>
    <div class="ltx_para ltx_noindent" id="S4.SS1.SSS0.Px4.p2">
     <p class="ltx_p" id="S4.SS1.SSS0.Px4.p2.1">
      To train the knowledge model, we record total action steps across the follow-up goal executions. Of all actions, approximately 61% were marked as as successful during the autocurriculum. We split the action step demonstrations into 4319 demonstrations for training and 1080 for evaluation. On the held-out set, the knowledge model achieves an accuracy of 93.1% and F1 score of 0.942 after training for 8 epochs with batch-size 32 and learning rate 0.001.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S4.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.2
    </span>
    Results
   </h3>
   <figure class="ltx_table" id="S4.T1">
    <figcaption class="ltx_caption">
     <span class="ltx_tag ltx_tag_table">
      Table 1:
     </span>
     Evaluation of
     <span class="ltx_text ltx_font_smallcaps" id="S4.T1.9.1">
      Wilbur
     </span>
     on WebVoyager (automatic evaluation). “text” is a text-only model, “multi” is multimodal (text and vision). All
     <span class="ltx_text ltx_font_smallcaps" id="S4.T1.10.2">
      Wilbur
     </span>
     results are text-only.
    </figcaption>
    <table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.6">
     <thead class="ltx_thead">
      <tr class="ltx_tr" id="S4.T1.6.7.1">
       <th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="S4.T1.6.7.1.1">
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S4.T1.6.7.1.2">
        Allrecipes
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S4.T1.6.7.1.3">
        Amazon
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S4.T1.6.7.1.4">
        Apple
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S4.T1.6.7.1.5">
        ArXiv
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S4.T1.6.7.1.6">
        GitHub
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S4.T1.6.7.1.7">
        Booking
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S4.T1.6.7.1.8">
        ESPN
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S4.T1.6.7.1.9">
        Coursera
       </th>
      </tr>
     </thead>
     <tbody class="ltx_tbody">
      <tr class="ltx_tr" id="S4.T1.6.8.1">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.6.8.1.1">
        <cite class="ltx_cite ltx_citemacro_citet">
         He et al. (
         <a class="ltx_ref" href="#bib.bib10" title="">
          2024
         </a>
         )
        </cite>
        (text)
       </th>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.8.1.2">
        57.8
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.8.1.3">
        43.1
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.8.1.4">
        36.4
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.8.1.5">
        50.4
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.8.1.6">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.8.1.6.1">
         63.4
        </span>
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.8.1.7">
        2.3
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.8.1.8">
        38.6
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.8.1.9">
        24.6
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T1.6.9.2">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S4.T1.6.9.2.1">
        Zero-shot
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.9.2.2">
        40.0
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.9.2.3">
        41.5
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.9.2.4">
        48.9
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.9.2.5">
        39.5
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.9.2.6">
        22.0
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.9.2.7">
        4.5
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.9.2.8">
        31.8
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.9.2.9">
        31.0
       </th>
      </tr>
      <tr class="ltx_tr" id="S4.T1.1.1">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.1.1.1">
        <math alttext="+" class="ltx_Math" display="inline" id="S4.T1.1.1.1.m1.1">
         <semantics id="S4.T1.1.1.1.m1.1a">
          <mo id="S4.T1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.m1.1.1.cmml">
           +
          </mo>
          <annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.m1.1b">
           <plus id="S4.T1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.m1.1.1">
           </plus>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S4.T1.1.1.1.m1.1c">
           +
          </annotation>
         </semantics>
        </math>
        Backtrack
       </th>
       <td class="ltx_td ltx_align_right" id="S4.T1.1.1.2">
        35.6
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.1.1.3">
        43.9
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.1.1.4">
        41.9
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.1.1.5">
        39.5
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.1.1.6">
        31.7
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.1.1.7">
        2.3
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.1.1.8">
        47.7
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.1.1.9">
        <span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.1">
         73.3
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T1.2.2">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" id="S4.T1.2.2.1">
        <math alttext="+" class="ltx_Math" display="inline" id="S4.T1.2.2.1.m1.1">
         <semantics id="S4.T1.2.2.1.m1.1a">
          <mo id="S4.T1.2.2.1.m1.1.1" xref="S4.T1.2.2.1.m1.1.1.cmml">
           +
          </mo>
          <annotation-xml encoding="MathML-Content" id="S4.T1.2.2.1.m1.1b">
           <plus id="S4.T1.2.2.1.m1.1.1.cmml" xref="S4.T1.2.2.1.m1.1.1">
           </plus>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S4.T1.2.2.1.m1.1c">
           +
          </annotation>
         </semantics>
        </math>
        Demonstrations
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.2.2.2">
        28.9
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.2.2.3">
        43.9
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.2.2.4">
        62.8
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.2.2.5">
        <span class="ltx_text ltx_font_bold" id="S4.T1.2.2.5.1">
         62.8
        </span>
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.2.2.6">
        17.1
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.2.2.7">
        18.3
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.2.2.8">
        40.1
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.2.2.9">
        61.9
       </th>
      </tr>
      <tr class="ltx_tr" id="S4.T1.3.3">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.3.3.1">
        <math alttext="+" class="ltx_Math" display="inline" id="S4.T1.3.3.1.m1.1">
         <semantics id="S4.T1.3.3.1.m1.1a">
          <mo id="S4.T1.3.3.1.m1.1.1" xref="S4.T1.3.3.1.m1.1.1.cmml">
           +
          </mo>
          <annotation-xml encoding="MathML-Content" id="S4.T1.3.3.1.m1.1b">
           <plus id="S4.T1.3.3.1.m1.1.1.cmml" xref="S4.T1.3.3.1.m1.1.1">
           </plus>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S4.T1.3.3.1.m1.1c">
           +
          </annotation>
         </semantics>
        </math>
        Synthesis
       </th>
       <td class="ltx_td ltx_align_right" id="S4.T1.3.3.2">
        53.3
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.3.3.3">
        <span class="ltx_text ltx_font_bold" id="S4.T1.3.3.3.1">
         48.8
        </span>
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.3.3.4">
        <span class="ltx_text ltx_font_bold" id="S4.T1.3.3.4.1">
         65.1
        </span>
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.3.3.5">
        55.8
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.3.3.6">
        12.2
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.3.3.7">
        13.6
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.3.3.8">
        47.7
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.3.3.9">
        61.9
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T1.6.10.3">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" id="S4.T1.6.10.3.1">
        <span class="ltx_text ltx_font_smallcaps" id="S4.T1.6.10.3.1.1">
         Wilbur
        </span>
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.10.3.2">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.10.3.2.1">
         60.0
        </span>
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.10.3.3">
        43.9
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.10.3.4">
        60.5
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.10.3.5">
        51.2
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.10.3.6">
        22.0
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.10.3.7">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.10.3.7.1">
         38.6
        </span>
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.10.3.8">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.10.3.8.1">
         59.1
        </span>
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.10.3.9">
        51.1
       </th>
      </tr>
      <tr class="ltx_tr" id="S4.T1.6.11.4">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.6.11.4.1">
        <cite class="ltx_cite ltx_citemacro_citet">
         He et al. (
         <a class="ltx_ref" href="#bib.bib10" title="">
          2024
         </a>
         )
        </cite>
        (multi)
       </th>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.11.4.2">
        51.1
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.11.4.3">
        52.9
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.11.4.4">
        62.8
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.11.4.5">
        52.0
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.11.4.6">
        59.3
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.11.4.7">
        32.6
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.11.4.8">
        47.0
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.11.4.9">
        57.9
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T1.6.12.5">
       <th class="ltx_td ltx_th ltx_th_row ltx_border_tt ltx_border_tt" id="S4.T1.6.12.5.1">
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt ltx_border_tt" id="S4.T1.6.12.5.2">
        Dictionary
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt ltx_border_tt" id="S4.T1.6.12.5.3">
        BBC News
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt ltx_border_tt" id="S4.T1.6.12.5.4">
        Flights
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt ltx_border_tt" id="S4.T1.6.12.5.5">
        Maps
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt ltx_border_tt" id="S4.T1.6.12.5.6">
        Search
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt ltx_border_tt" id="S4.T1.6.12.5.7">
        Huggingface
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt ltx_border_tt" id="S4.T1.6.12.5.8">
        Wolfram
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt ltx_border_tt" id="S4.T1.6.12.5.9">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.12.5.9.1">
         Overall
        </span>
       </th>
      </tr>
      <tr class="ltx_tr" id="S4.T1.6.13.6">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.6.13.6.1">
        <cite class="ltx_cite ltx_citemacro_citet">
         He et al. (
         <a class="ltx_ref" href="#bib.bib10" title="">
          2024
         </a>
         )
        </cite>
        (text)
       </th>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.13.6.2">
        66.7
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.13.6.3">
        45.2
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.13.6.4">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.13.6.4.1">
         7.1
        </span>
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.13.6.5">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.13.6.5.1">
         62.6
        </span>
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.13.6.6">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.13.6.6.1">
         75.2
        </span>
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.13.6.7">
        31.0
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.13.6.8">
        60.2
       </td>
       <td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.6.13.6.9">
        44.3
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T1.6.14.7">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S4.T1.6.14.7.1">
        Zero-shot
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.14.7.2">
        46.5
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.14.7.3">
        54.8
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.14.7.4">
        2.4
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.14.7.5">
        41.5
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.14.7.6">
        55.8
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.14.7.7">
        41.9
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.14.7.8">
        15.2
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.14.7.9">
        34.4
       </th>
      </tr>
      <tr class="ltx_tr" id="S4.T1.4.4">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.4.4.1">
        <math alttext="+" class="ltx_Math" display="inline" id="S4.T1.4.4.1.m1.1">
         <semantics id="S4.T1.4.4.1.m1.1a">
          <mo id="S4.T1.4.4.1.m1.1.1" xref="S4.T1.4.4.1.m1.1.1.cmml">
           +
          </mo>
          <annotation-xml encoding="MathML-Content" id="S4.T1.4.4.1.m1.1b">
           <plus id="S4.T1.4.4.1.m1.1.1.cmml" xref="S4.T1.4.4.1.m1.1.1">
           </plus>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S4.T1.4.4.1.m1.1c">
           +
          </annotation>
         </semantics>
        </math>
        Backtrack
       </th>
       <td class="ltx_td ltx_align_right" id="S4.T1.4.4.2">
        74.4
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.4.4.3">
        69.0
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.4.4.4">
        0.0
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.4.4.5">
        34.1
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.4.4.6">
        62.8
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.4.4.7">
        41.9
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.4.4.8">
        13.0
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.4.4.9">
        40.6
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T1.5.5">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" id="S4.T1.5.5.1">
        <math alttext="+" class="ltx_Math" display="inline" id="S4.T1.5.5.1.m1.1">
         <semantics id="S4.T1.5.5.1.m1.1a">
          <mo id="S4.T1.5.5.1.m1.1.1" xref="S4.T1.5.5.1.m1.1.1.cmml">
           +
          </mo>
          <annotation-xml encoding="MathML-Content" id="S4.T1.5.5.1.m1.1b">
           <plus id="S4.T1.5.5.1.m1.1.1.cmml" xref="S4.T1.5.5.1.m1.1.1">
           </plus>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S4.T1.5.5.1.m1.1c">
           +
          </annotation>
         </semantics>
        </math>
        Demonstrations
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.5.5.2">
        72.1
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.5.5.3">
        76.2
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.5.5.4">
        2.4
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.5.5.5">
        43.9
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.5.5.6">
        67.4
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.5.5.7">
        53.5
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.5.5.8">
        <span class="ltx_text ltx_font_bold" id="S4.T1.5.5.8.1">
         71.7
        </span>
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.5.5.9">
        48.4
       </th>
      </tr>
      <tr class="ltx_tr" id="S4.T1.6.6">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.6.6.1">
        <math alttext="+" class="ltx_Math" display="inline" id="S4.T1.6.6.1.m1.1">
         <semantics id="S4.T1.6.6.1.m1.1a">
          <mo id="S4.T1.6.6.1.m1.1.1" xref="S4.T1.6.6.1.m1.1.1.cmml">
           +
          </mo>
          <annotation-xml encoding="MathML-Content" id="S4.T1.6.6.1.m1.1b">
           <plus id="S4.T1.6.6.1.m1.1.1.cmml" xref="S4.T1.6.6.1.m1.1.1">
           </plus>
          </annotation-xml>
          <annotation encoding="application/x-tex" id="S4.T1.6.6.1.m1.1c">
           +
          </annotation>
         </semantics>
        </math>
        Synthesis
       </th>
       <td class="ltx_td ltx_align_right" id="S4.T1.6.6.2">
        76.7
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.6.6.3">
        66.7
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.6.6.4">
        0.0
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.6.6.5">
        46.3
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.6.6.6">
        72.1
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.6.6.7">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.6.7.1">
         58.1
        </span>
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.6.6.8">
        67.4
       </td>
       <td class="ltx_td ltx_align_right" id="S4.T1.6.6.9">
        49.9
       </td>
      </tr>
      <tr class="ltx_tr" id="S4.T1.6.15.8">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" id="S4.T1.6.15.8.1">
        <span class="ltx_text ltx_font_smallcaps" id="S4.T1.6.15.8.1.1">
         Wilbur
        </span>
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.15.8.2">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.15.8.2.1">
         86.0
        </span>
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.15.8.3">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.15.8.3.1">
         81.0
        </span>
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.15.8.4">
        0.0
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.15.8.5">
        39.0
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.15.8.6">
        67.4
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.15.8.7">
        53.5
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.15.8.8">
        65.2
       </th>
       <th class="ltx_td ltx_align_right ltx_th ltx_th_column" id="S4.T1.6.15.8.9">
        <span class="ltx_text ltx_font_bold" id="S4.T1.6.15.8.9.1">
         52.6
        </span>
       </th>
      </tr>
      <tr class="ltx_tr" id="S4.T1.6.16.9">
       <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S4.T1.6.16.9.1">
        <cite class="ltx_cite ltx_citemacro_citet">
         He et al. (
         <a class="ltx_ref" href="#bib.bib10" title="">
          2024
         </a>
         )
        </cite>
        (multi)
       </th>
       <td class="ltx_td ltx_align_right ltx_border_bb ltx_border_t" id="S4.T1.6.16.9.2">
        71.3
       </td>
       <td class="ltx_td ltx_align_right ltx_border_bb ltx_border_t" id="S4.T1.6.16.9.3">
        60.3
       </td>
       <td class="ltx_td ltx_align_right ltx_border_bb ltx_border_t" id="S4.T1.6.16.9.4">
        51.6
       </td>
       <td class="ltx_td ltx_align_right ltx_border_bb ltx_border_t" id="S4.T1.6.16.9.5">
        64.3
       </td>
       <td class="ltx_td ltx_align_right ltx_border_bb ltx_border_t" id="S4.T1.6.16.9.6">
        77.5
       </td>
       <td class="ltx_td ltx_align_right ltx_border_bb ltx_border_t" id="S4.T1.6.16.9.7">
        55.8
       </td>
       <td class="ltx_td ltx_align_right ltx_border_bb ltx_border_t" id="S4.T1.6.16.9.8">
        60.9
       </td>
       <td class="ltx_td ltx_align_right ltx_border_bb ltx_border_t" id="S4.T1.6.16.9.9">
        57.1
       </td>
      </tr>
     </tbody>
    </table>
   </figure>
   <div class="ltx_para ltx_noindent" id="S4.SS2.p1">
    <p class="ltx_p" id="S4.SS2.p1.1">
     Results of running the agent are shown in Table
     <a class="ltx_ref" href="#S4.T1" title="Table 1 ‣ 4.2 Results ‣ 4 Evaluation ‣ Wilbur: Adaptive In-Context Learning for Robust and Accurate Web Agents">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     . On this benchmark,
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p1.1.1">
      Wilbur
     </span>
     outperforms the state-of-the-art text-only model by
     <cite class="ltx_cite ltx_citemacro_citet">
      He et al. (
      <a class="ltx_ref" href="#bib.bib10" title="">
       2024
      </a>
      )
     </cite>
     by 8%. Specifically, we observe that
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p1.1.2">
      Wilbur
     </span>
     outperforms the text-only state of the art on most websites except GitHub and the Google websites. It improves substantially on the very hard Booking.com case, from around 2-4% to 39%.
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p1.1.3">
      Wilbur
     </span>
     is also within 5% of the multimodal model, which has access to screenshots during execution, and outperforms it on Allrecipes, ArXiv, Booking.com, ESPN, Cambridge Dictionary, BBC News, and Wolfram.
    </p>
   </div>
   <div class="ltx_para ltx_noindent" id="S4.SS2.p2">
    <p class="ltx_p" id="S4.SS2.p2.1">
     Comparing against the ablation baselines, we observe that the naive zero-shot baseline is significantly worse than the state of the art, but adding backtracking is enough to come close to the state-of-the-art result. Adding task demonstrations improves to 50%, showing the value of recalling previous experiences from auto-curriculum. Finally, the use of the fine-tuned demonstration retrieval model further improves by 3% overall, highlighting the importance of selecting high-quality task demonstrations.
We additionally discuss the number of LLM calls of the different ablations in Appendix
     <a class="ltx_ref" href="#A4" title="Appendix D Computation Cost of Wilbur ‣ Wilbur: Adaptive In-Context Learning for Robust and Accurate Web Agents">
      <span class="ltx_text ltx_ref_tag">
       D
      </span>
     </a>
     .
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     4.3
    </span>
    Error analysis
   </h3>
   <div class="ltx_para ltx_noindent" id="S4.SS3.p1">
    <p class="ltx_p" id="S4.SS3.p1.1">
     Further analyzing the cases where
     <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.p1.1.1">
      Wilbur
     </span>
     does not succeed, we observe a few key reasons. These reasons suggest that many of the failures of web agents in practice are engineering-related, not caused by the model, which should inform future research in web agents.
    </p>
   </div>
   <section class="ltx_paragraph" id="S4.SS3.SSS0.Px1">
    <h4 class="ltx_title ltx_title_paragraph">
     Inability to interact with complex widgets
    </h4>
    <div class="ltx_para ltx_noindent" id="S4.SS3.SSS0.Px1.p1">
     <p class="ltx_p" id="S4.SS3.SSS0.Px1.p1.1">
      A large source of errors for
      <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p1.1.1">
       Wilbur
      </span>
      was its inability to interact with date selectors, which are used by Google Flights and Booking.com. In these situations, the model tends to get stuck trying to operate these widgets, leading to its eventual failure. Future work should explore creating new built-in functions for the agent to interact with common complex widgets.
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S4.SS3.SSS0.Px2">
    <h4 class="ltx_title ltx_title_paragraph">
     Inability to performing actions
    </h4>
    <div class="ltx_para ltx_noindent" id="S4.SS3.SSS0.Px2.p1">
     <p class="ltx_p" id="S4.SS3.SSS0.Px2.p1.1">
      We find that in many cases, even if the agent predicts the correct action, it is unable to perform it on the page. For example, we see issues trying to successfully emulate the Enter key. Additionally, our agent is built to operate only on main DOM of the page, and cannot act inside frames or inside the shadow DOM used by web components. We find this affects the success rates on Apple and GitHub. Future work should investigate a DSL and DOM representation that successfully captures this aspect of web technology, and an agent architecture,
     </p>
    </div>
   </section>
   <section class="ltx_paragraph" id="S4.SS3.SSS0.Px3">
    <h4 class="ltx_title ltx_title_paragraph">
     Anti-scraping techniques
    </h4>
    <div class="ltx_para ltx_noindent" id="S4.SS3.SSS0.Px3.p1">
     <p class="ltx_p" id="S4.SS3.SSS0.Px3.p1.1">
      A lot of websites have anti-scraping techniques that detect and block automated agents. This is noticeable on ArXiv, where the agent can be rate-limited and be presented with an empty page. As a result, Wilbur is unable to get past the first step of the execution and fails.
This is a well-known failure mode of automated web agents, with known workarounds such as using proxies and artificially slowing down execution.
     </p>
    </div>
   </section>
  </section>
 </section>
 <section class="ltx_section" id="S5">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    5
   </span>
   Conclusion and Future Work
  </h2>
  <div class="ltx_para ltx_noindent" id="S5.p1">
   <p class="ltx_p" id="S5.p1.1">
    We have presented
    <span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.1">
     Wilbur
    </span>
    , a novel web agent approach that can leverage its own experiences, both successes and failures, in performing the tasks, and automatically improve over time.
    <span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.2">
     Wilbur
    </span>
    is the first agent that can backtrack to a previous state during execution. This leads to a significantly higher success rate because mistakes become non-fatal even if they are not detected immediately. We also propose a novel in-context-learning approach that combines high-quality positive task demonstrations selected by a fine-tuned model with a large set of positive and negative task demonstrations summarized in succinct instructions.
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="S5.p2">
   <p class="ltx_p" id="S5.p2.1">
    With our approach,
    <span class="ltx_text ltx_font_smallcaps" id="S5.p2.1.1">
     Wilbur
    </span>
    achieves a new text-only state-of-the-art result of 53% on the WebVoyager benchmark, while using the same underlying LLM, showing that there is significant space for improving web agents with better prompting, independently of the base model in use. Our approach is within 5% of the multimodal state of the art, and in fact surpasses it on Apple, ArXiv, Cambridge Dictionary, BBC News, and Wolfram Alpha, showing that text-only models can be effective at navigating the web, at a fraction of the cost of multi-modal models.
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="S5.p3">
   <p class="ltx_p" id="S5.p3.1">
    Our error analysis suggests that a large class of errors is in fact caused by the engineering of the agent, and not a failure of the model. These practical issues are a result of the complexity of the web, but we expect they will eventually be overcome, leading to high-accuracy, general-purpose web agents.
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="S5.p4">
   <p class="ltx_p" id="S5.p4.1">
    Additionally, while
    <span class="ltx_text ltx_font_smallcaps" id="S5.p4.1.1">
     Wilbur
    </span>
    can learn from executing on similar pages, it still needs to perform expensive model predictions at inference time. In principle, because
    <span class="ltx_text ltx_font_smallcaps" id="S5.p4.1.2">
     Wilbur
    </span>
    ’s DSL uses CSS selectors, which generalize across pages with identical structure and different content, successful actions could also be used by future executions without regenerating them. Future work should explore how to directly reuse previously generated skills, both simple and complex, ranging from basic search to filtering and exploring.
   </p>
  </div>
 </section>
 <section class="ltx_bibliography" id="bib">
  <h2 class="ltx_title ltx_title_bibliography">
   References
  </h2>
  <ul class="ltx_biblist">
   <li class="ltx_bibitem" id="bib.bib1">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Bohra et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Arth Bohra, Govert Verkes, Artem Harutyunyan, Pascal Weinberger, and Giovanni Campagna.
    </span>
    <span class="ltx_bibblock">
     BYOC: Personalized few-shot classification with co-authored class descriptions.
    </span>
    <span class="ltx_bibblock">
     In Houda Bouamor, Juan Pino, and Kalika Bali (eds.),
     <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">
      Findings of the Association for Computational Linguistics: EMNLP 2023
     </em>
     , pp.  13999–14015, Singapore, December 2023. Association for Computational Linguistics.
    </span>
    <span class="ltx_bibblock">
     doi:
     <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">
      10.18653/v1/2023.findings-emnlp.933
     </span>
     .
    </span>
    <span class="ltx_bibblock">
     URL
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.findings-emnlp.933" target="_blank" title="">
      https://aclanthology.org/2023.findings-emnlp.933
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib2">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Brown et al. (2020)
    </span>
    <span class="ltx_bibblock">
     Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, Sandhini Agarwal, Ariel Herbert-Voss, Gretchen Krueger, Tom Henighan, Rewon Child, Aditya Ramesh, Daniel Ziegler, Jeffrey Wu, Clemens Winter, Chris Hesse, Mark Chen, Eric Sigler, Mateusz Litwin, Scott Gray, Benjamin Chess, Jack Clark, Christopher Berner, Sam McCandlish, Alec Radford, Ilya Sutskever, and Dario Amodei.
    </span>
    <span class="ltx_bibblock">
     Language models are few-shot learners.
    </span>
    <span class="ltx_bibblock">
     In H. Larochelle, M. Ranzato, R. Hadsell, M.F. Balcan, and H. Lin (eds.),
     <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , volume 33, pp.  1877–1901. Curran Associates, Inc., 2020.
    </span>
    <span class="ltx_bibblock">
     URL
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://proceedings.neurips.cc/paper_files/paper/2020/file/1457c0d6bfcb4967418bfb8ac142f64a-Paper.pdf" target="_blank" title="">
      https://proceedings.neurips.cc/paper_files/paper/2020/file/1457c0d6bfcb4967418bfb8ac142f64a-Paper.pdf
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib3">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Clark et al. (2003)
    </span>
    <span class="ltx_bibblock">
     Stephen Clark, James R Curran, and Miles Osborne.
    </span>
    <span class="ltx_bibblock">
     Bootstrapping pos-taggers using unlabelled data.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">
      Proceedings of the seventh conference on Natural language learning at HLT-NAACL 2003
     </em>
     , pp.  49–55, 2003.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib4">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Deng et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Xiang Deng, Yu Gu, Boyuan Zheng, Shijie Chen, Samuel Stevens, Boshi Wang, Huan Sun, and Yu Su.
    </span>
    <span class="ltx_bibblock">
     Mind2web: Towards a generalist agent for the web, 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib5">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Furuta et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Hiroki Furuta, Ofir Nachum, Kuang-Huei Lee, Yutaka Matsuo, Shixiang Shane Gu, and Izzeddin Gur.
    </span>
    <span class="ltx_bibblock">
     Multimodal web navigation with instruction-finetuned foundation models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">
      arXiv preprint arXiv:2305.11854
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib6">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Gao et al. (2021)
    </span>
    <span class="ltx_bibblock">
     Tianyu Gao, Adam Fisch, and Danqi Chen.
    </span>
    <span class="ltx_bibblock">
     Making pre-trained language models better few-shot learners.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">
      Proceedings of the 59th Annual Meeting of the Association for Computational Linguistics and the 11th International Joint Conference on Natural Language Processing (Volume 1: Long Papers)
     </em>
     , pp.  3816–3830, Online, August 2021. Association for Computational Linguistics.
    </span>
    <span class="ltx_bibblock">
     doi:
     <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">
      10.18653/v1/2021.acl-long.295
     </span>
     .
    </span>
    <span class="ltx_bibblock">
     URL
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2021.acl-long.295" target="_blank" title="">
      https://aclanthology.org/2021.acl-long.295
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib7">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Gur et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Izzeddin Gur, Ofir Nachum, Yingjie Miao, Mustafa Safdari, Austin Huang, Aakanksha Chowdhery, Sharan Narang, Noah Fiedel, and Aleksandra Faust.
    </span>
    <span class="ltx_bibblock">
     Understanding html with large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">
      arXiv preprint arXiv:2210.03945
     </em>
     , 2022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib8">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Gur et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Izzeddin Gur, Hiroki Furuta, Austin Huang, Mustafa Safdari, Yutaka Matsuo, Douglas Eck, and Aleksandra Faust.
    </span>
    <span class="ltx_bibblock">
     A real-world webagent with planning, long context understanding, and program synthesis.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">
      arXiv preprint arXiv:2307.12856
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib9">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Haan (2023)
    </span>
    <span class="ltx_bibblock">
     Katherine Haan.
    </span>
    <span class="ltx_bibblock">
     Top website statistics for 2023.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">
      Forbes
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib10">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     He et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Hongliang He, Wenlin Yao, Kaixin Ma, Wenhao Yu, Yong Dai, Hongming Zhang, Zhenzhong Lan, and Dong Yu.
    </span>
    <span class="ltx_bibblock">
     Webvoyager: Building an end-to-end web agent with large multimodal models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">
      arXiv preprint arXiv:2401.13919
     </em>
     , 2024.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib11">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Hendrycks et al. (2021)
    </span>
    <span class="ltx_bibblock">
     Dan Hendrycks, Collin Burns, Steven Basart, Andy Zou, Mantas Mazeika, Dawn Song, and Jacob Steinhardt.
    </span>
    <span class="ltx_bibblock">
     Measuring massive multitask language understanding, 2021.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib12">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Kagaya et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Tomoyuki Kagaya, Thong Jing Yuan, Yuxuan Lou, Jayashree Karlekar, Sugiri Pranata, Akira Kinose, Koki Oguri, Felix Wick, and Yang You.
    </span>
    <span class="ltx_bibblock">
     Rap: Retrieval-augmented planning with contextual memory for multimodal llm agents, 2024.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib13">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Kim et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Geunwoo Kim, Pierre Baldi, and Stephen McAleer.
    </span>
    <span class="ltx_bibblock">
     Language models can solve computer tasks.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , 36, 2024.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib14">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Lampinen et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Andrew Lampinen, Ishita Dasgupta, Stephanie Chan, Kory Mathewson, Mh Tessler, Antonia Creswell, James McClelland, Jane Wang, and Felix Hill.
    </span>
    <span class="ltx_bibblock">
     Can language models learn from explanations in context?
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">
      Findings of the Association for Computational Linguistics: EMNLP 2022
     </em>
     , pp.  537–563, Abu Dhabi, United Arab Emirates, December 2022. Association for Computational Linguistics.
    </span>
    <span class="ltx_bibblock">
     URL
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2022.findings-emnlp.38" target="_blank" title="">
      https://aclanthology.org/2022.findings-emnlp.38
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib15">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Liu et al. (2018)
    </span>
    <span class="ltx_bibblock">
     Evan Zheran Liu, Kelvin Guu, Panupong Pasupat, Tianlin Shi, and Percy Liang.
    </span>
    <span class="ltx_bibblock">
     Reinforcement learning on web interfaces using workflow-guided exploration.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">
      arXiv preprint arXiv:1802.08802
     </em>
     , 2018.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib16">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Ma et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Kaixin Ma, Hongming Zhang, Hongwei Wang, Xiaoman Pan, and Dong Yu.
    </span>
    <span class="ltx_bibblock">
     Laser: Llm agent with state-space exploration for web navigation.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">
      arXiv preprint arXiv:2309.08172
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib17">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     McClosky et al. (2006)
    </span>
    <span class="ltx_bibblock">
     David McClosky, Eugene Charniak, and Mark Johnson.
    </span>
    <span class="ltx_bibblock">
     Effective self-training for parsing.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">
      Proceedings of the Human Language Technology Conference of the NAACL, Main Conference
     </em>
     , pp.  152–159, New York City, USA, June 2006. Association for Computational Linguistics.
    </span>
    <span class="ltx_bibblock">
     URL
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/N06-1020" target="_blank" title="">
      https://aclanthology.org/N06-1020
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib18">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Min et al. (2022)
    </span>
    <span class="ltx_bibblock">
     Sewon Min, Xinxi Lyu, Ari Holtzman, Mikel Artetxe, Mike Lewis, Hannaneh Hajishirzi, and Luke Zettlemoyer.
    </span>
    <span class="ltx_bibblock">
     Rethinking the role of demonstrations: What makes in-context learning work?
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">
      arXiv preprint arXiv:2202.12837
     </em>
     , 2022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib19">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     OpenAI (2023)
    </span>
    <span class="ltx_bibblock">
     OpenAI.
    </span>
    <span class="ltx_bibblock">
     Gpt-4 technical report, 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib20">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Shi et al. (2017)
    </span>
    <span class="ltx_bibblock">
     Tianlin Shi, Andrej Karpathy, Linxi Fan, Jonathan Hernandez, and Percy Liang.
    </span>
    <span class="ltx_bibblock">
     World of bits: An open-domain platform for web-based agents.
    </span>
    <span class="ltx_bibblock">
     In
     <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">
      International Conference on Machine Learning
     </em>
     , pp.  3135–3144. PMLR, 2017.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib21">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Sridhar et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Abishek Sridhar, Robert Lo, Frank F Xu, Hao Zhu, and Shuyan Zhou.
    </span>
    <span class="ltx_bibblock">
     Hierarchical prompting assists large language model on web navigation.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">
      arXiv preprint arXiv:2305.14257
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib22">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Sun et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Haotian Sun, Yuchen Zhuang, Lingkai Kong, Bo Dai, and Chao Zhang.
    </span>
    <span class="ltx_bibblock">
     Adaplanner: Adaptive planning from feedback with language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , 36, 2024.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib23">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Wang et al. (2023)
    </span>
    <span class="ltx_bibblock">
     Guanzhi Wang, Yuqi Xie, Yunfan Jiang, Ajay Mandlekar, Chaowei Xiao, Yuke Zhu, Linxi Fan, and Anima Anandkumar.
    </span>
    <span class="ltx_bibblock">
     Voyager: An open-ended embodied agent with large language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">
      arXiv preprint arXiv: Arxiv-2305.16291
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib24">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Xu et al. (2021)
    </span>
    <span class="ltx_bibblock">
     Nancy Xu, Sam Masling, Michael Du, Giovanni Campagna, Larry Heck, James Landay, and Monica S Lam.
    </span>
    <span class="ltx_bibblock">
     Grounding open-domain instructions to automate web support tasks, 2021.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib25">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yao et al. (2022a)
    </span>
    <span class="ltx_bibblock">
     Shunyu Yao, Howard Chen, John Yang, and Karthik Narasimhan.
    </span>
    <span class="ltx_bibblock">
     Webshop: Towards scalable real-world web interaction with grounded language agents.
    </span>
    <span class="ltx_bibblock">
     In S. Koyejo, S. Mohamed, A. Agarwal, D. Belgrave, K. Cho, and A. Oh (eds.),
     <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">
      Advances in Neural Information Processing Systems
     </em>
     , volume 35, pp.  20744–20757. Curran Associates, Inc., 2022a.
    </span>
    <span class="ltx_bibblock">
     URL
     <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://proceedings.neurips.cc/paper_files/paper/2022/file/82ad13ec01f9fe44c01cb91814fd7b8c-Paper-Conference.pdf" target="_blank" title="">
      https://proceedings.neurips.cc/paper_files/paper/2022/file/82ad13ec01f9fe44c01cb91814fd7b8c-Paper-Conference.pdf
     </a>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib26">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Yao et al. (2022b)
    </span>
    <span class="ltx_bibblock">
     Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik Narasimhan, and Yuan Cao.
    </span>
    <span class="ltx_bibblock">
     React: Synergizing reasoning and acting in language models.
    </span>
    <span class="ltx_bibblock">
     <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">
      arXiv preprint arXiv:2210.03629
     </em>
     , 2022b.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib27">
    <span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">
     Zheng et al. (2024)
    </span>
    <span class="ltx_bibblock">
     Boyuan Zheng, Boyu Gou, Jihyung Kil, Huan Sun, and Yu Su.
    </span>
    <span class="ltx_bibblock">
     Gpt-4v(ision) is a generalist web agent, if grounded, 2024.
    </span>
   </li>
  </ul>
 </section>
 <div class="ltx_pagination ltx_role_newpage">
 </div>
 <section class="ltx_appendix" id="A1">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix A
   </span>
   DOM Formatting
  </h2>
  <div class="ltx_para ltx_noindent" id="A1.p1">
   <p class="ltx_p" id="A1.p1.1">
    To represent the DOM, we include all leaves of interactive and structural elements (headings, links, paragraphs). We do not include formatting elements. For each element, we include element index, tag name, accessiblity properties (role, alt, ARIA label), content, and links. An example snippet of formatted DOM is included in Fig.
    <a class="ltx_ref" href="#A1.F3" title="Figure 3 ‣ Appendix A DOM Formatting ‣ Wilbur: Adaptive In-Context Learning for Robust and Accurate Web Agents">
     <span class="ltx_text ltx_ref_tag">
      3
     </span>
    </a>
    .
   </p>
  </div>
  <figure class="ltx_figure" id="A1.F3">
   <pre class="ltx_verbatim ltx_font_typewriter" id="A1.F3.1">
&lt;0: [button] ariaLabel: Collapse side panel/&gt;
&lt;1: [button] ariaLabel: Collapse side panel/&gt;
&lt;2: [label] text: Search Google Maps/&gt;
&lt;3: [label] text: Search Google Maps/&gt;
&lt;4: [input] required: True, name: q, type: text/&gt;
&lt;5: [button] ariaLabel: Search/&gt;
&lt;6: [button] ariaLabel: Directions/&gt;
&lt;7: [button] ariaLabel: Collapse side panel/&gt;
&lt;8: [button] ariaLabel: Collapse side panel/&gt;
&lt;9: [button] ariaLabel: Menu/&gt;
&lt;10: [button] text: Saved/&gt;
&lt;11: [button] text: Recents/&gt;
&lt;12: [button] ariaLabel: Collapse side panel/&gt;
&lt;13: [button] ariaLabel: Collapse side panel/&gt;
&lt;14: [a] ariaLabel: Sign in, text: Sign in/&gt;
&lt;15: [button] ariaLabel: Show Your Location/&gt;
&lt;16: [label] text: Show Your Location/&gt;
&lt;17: [label] text: Show Your Location/&gt;
&lt;18: [button] text: Update/&gt;
&lt;19: [button] text: Learn more/&gt;
&lt;20: [button] ariaLabel: Zoom in/&gt;
&lt;21: [label] text: Zoom/&gt;
&lt;22: [label] text: Zoom/&gt;
&lt;23: [button] text: Show slider/&gt;
&lt;24: [button] text: Hide slider/&gt;
&lt;25: [button] ariaLabel: Zoom out/&gt;
&lt;26: [button] ariaLabel: Show Street View coverage/&gt;
&lt;27: [button] ariaLabel: Show imagery/&gt;
&lt;28: [button] ariaLabel: Collapse side panel/&gt;
&lt;29: [button] ariaLabel: Zoom in/&gt;
&lt;30: [button] ariaLabel: Zoom out/&gt;
&lt;31: [span] text: ""/&gt;
&lt;32: [label] text: Layers/&gt;
&lt;33: [label] text: Layers/&gt;
&lt;34: [h2] text: Map details/&gt;
&lt;35: [button] ariaLabel: Close, text: /&gt;
&lt;36: [button] text: Transit/&gt;
&lt;37: [button] text: Traffic/&gt;
&lt;38: [button] text: Biking/&gt;
&lt;39: [button] text: Terrain/&gt;
&lt;40: [button] text: Street View/&gt;
&lt;41: [button] text: Wildfires/&gt;
&lt;42: [button] text: Air Quality/&gt;
&lt;43: [h2] text: Map tools/&gt;
&lt;44: [button] text: Travel time/&gt;
&lt;45: [button] text: Measure/&gt;
&lt;46: [h2] text: Map type/&gt;
&lt;47: [button] text: Default/&gt;
&lt;48: [button] text: Satellite/&gt;
&lt;49: [button] text: Globe view/&gt;
&lt;50: [button] text: Labels/&gt;
&lt;51: [span] text: Map data 2024 Google/&gt;
&lt;52: [button] text: United States/&gt;
&lt;53: [button] text: Terms/&gt;
&lt;54: [button] text: Privacy/&gt;
&lt;55: [button] text: Send Product Feedback/&gt;
&lt;56: [button] text: 2000 ft&gt;
</pre>
   <figcaption class="ltx_caption">
    <span class="ltx_tag ltx_tag_figure">
     Figure 3:
    </span>
    Example of formatted DOM from Google Maps
   </figcaption>
  </figure>
 </section>
 <section class="ltx_appendix" id="A2">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix B
   </span>
   DSL Definition
  </h2>
  <div class="ltx_para ltx_noindent" id="A2.p1">
   <p class="ltx_p" id="A2.p1.1">
    The
    <span class="ltx_text ltx_font_smallcaps" id="A2.p1.1.1">
     Wilbur
    </span>
    actor predicts code in a DSL syntactically similar to Python. The DSL does not support control constructs, and only supports assignments and function call statements. The agent can predict more than one function call in one step, and they are executed sequentially. The agent predicts element references by numeric index, which are converted to CSS selectors prior to execution.
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="A2.p2">
   <p class="ltx_p" id="A2.p2.1">
    The DSL has access to the following builtin functions:
   </p>
  </div>
  <div class="ltx_para ltx_noindent" id="A2.p3">
   <table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="A2.p3.2">
    <tbody class="ltx_tbody">
     <tr class="ltx_tr" id="A2.p3.2.3.1">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="A2.p3.2.3.1.1">
       <span class="ltx_text ltx_font_typewriter" id="A2.p3.2.3.1.1.1">
        save_text
       </span>
       (
       <span class="ltx_text ltx_font_italic" id="A2.p3.2.3.1.1.2">
        element
       </span>
       ,
       <span class="ltx_text ltx_font_italic" id="A2.p3.2.3.1.1.3">
        key
       </span>
       )
      </th>
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.p3.2.3.1.2">
       <span class="ltx_inline-block ltx_align_top" id="A2.p3.2.3.1.2.1">
        <span class="ltx_p" id="A2.p3.2.3.1.2.1.1" style="width:256.1pt;">
         Extract the content of the given element into the agent’s temporary database.
         <span class="ltx_text ltx_font_italic" id="A2.p3.2.3.1.2.1.1.1">
          key
         </span>
         is the description of the saved text.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.p3.2.4.2">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A2.p3.2.4.2.1">
       <span class="ltx_text ltx_font_typewriter" id="A2.p3.2.4.2.1.1">
        save_link
       </span>
       (
       <span class="ltx_text ltx_font_italic" id="A2.p3.2.4.2.1.2">
        element
       </span>
       ,
       <span class="ltx_text ltx_font_italic" id="A2.p3.2.4.2.1.3">
        key
       </span>
       )
      </th>
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.p3.2.4.2.2">
       <span class="ltx_inline-block ltx_align_top" id="A2.p3.2.4.2.2.1">
        <span class="ltx_p" id="A2.p3.2.4.2.2.1.1" style="width:256.1pt;">
         Extract the link URL from the given anchor element into the agent’s temporary database.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.p3.2.2">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A2.p3.2.2.2">
       <span class="ltx_text ltx_font_typewriter" id="A2.p3.2.2.2.1">
        save_list
       </span>
       (
       <math alttext="\textit{element}_{1}" class="ltx_Math" display="inline" id="A2.p3.1.1.1.m1.1">
        <semantics id="A2.p3.1.1.1.m1.1a">
         <msub id="A2.p3.1.1.1.m1.1.1" xref="A2.p3.1.1.1.m1.1.1.cmml">
          <mtext class="ltx_mathvariant_italic" id="A2.p3.1.1.1.m1.1.1.2" xref="A2.p3.1.1.1.m1.1.1.2a.cmml">
           element
          </mtext>
          <mn id="A2.p3.1.1.1.m1.1.1.3" xref="A2.p3.1.1.1.m1.1.1.3.cmml">
           1
          </mn>
         </msub>
         <annotation-xml encoding="MathML-Content" id="A2.p3.1.1.1.m1.1b">
          <apply id="A2.p3.1.1.1.m1.1.1.cmml" xref="A2.p3.1.1.1.m1.1.1">
           <csymbol cd="ambiguous" id="A2.p3.1.1.1.m1.1.1.1.cmml" xref="A2.p3.1.1.1.m1.1.1">
            subscript
           </csymbol>
           <ci id="A2.p3.1.1.1.m1.1.1.2a.cmml" xref="A2.p3.1.1.1.m1.1.1.2">
            <mtext class="ltx_mathvariant_italic" id="A2.p3.1.1.1.m1.1.1.2.cmml" xref="A2.p3.1.1.1.m1.1.1.2">
             element
            </mtext>
           </ci>
           <cn id="A2.p3.1.1.1.m1.1.1.3.cmml" type="integer" xref="A2.p3.1.1.1.m1.1.1.3">
            1
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="A2.p3.1.1.1.m1.1c">
          \textit{element}_{1}
         </annotation>
        </semantics>
       </math>
       ,
       <math alttext="\textit{element}_{2}" class="ltx_Math" display="inline" id="A2.p3.2.2.2.m2.1">
        <semantics id="A2.p3.2.2.2.m2.1a">
         <msub id="A2.p3.2.2.2.m2.1.1" xref="A2.p3.2.2.2.m2.1.1.cmml">
          <mtext class="ltx_mathvariant_italic" id="A2.p3.2.2.2.m2.1.1.2" xref="A2.p3.2.2.2.m2.1.1.2a.cmml">
           element
          </mtext>
          <mn id="A2.p3.2.2.2.m2.1.1.3" xref="A2.p3.2.2.2.m2.1.1.3.cmml">
           2
          </mn>
         </msub>
         <annotation-xml encoding="MathML-Content" id="A2.p3.2.2.2.m2.1b">
          <apply id="A2.p3.2.2.2.m2.1.1.cmml" xref="A2.p3.2.2.2.m2.1.1">
           <csymbol cd="ambiguous" id="A2.p3.2.2.2.m2.1.1.1.cmml" xref="A2.p3.2.2.2.m2.1.1">
            subscript
           </csymbol>
           <ci id="A2.p3.2.2.2.m2.1.1.2a.cmml" xref="A2.p3.2.2.2.m2.1.1.2">
            <mtext class="ltx_mathvariant_italic" id="A2.p3.2.2.2.m2.1.1.2.cmml" xref="A2.p3.2.2.2.m2.1.1.2">
             element
            </mtext>
           </ci>
           <cn id="A2.p3.2.2.2.m2.1.1.3.cmml" type="integer" xref="A2.p3.2.2.2.m2.1.1.3">
            2
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="A2.p3.2.2.2.m2.1c">
          \textit{element}_{2}
         </annotation>
        </semantics>
       </math>
       )
      </th>
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.p3.2.2.3">
       <span class="ltx_inline-block ltx_align_top" id="A2.p3.2.2.3.1">
        <span class="ltx_p" id="A2.p3.2.2.3.1.1" style="width:256.1pt;">
         Given two elements inside a list, compute a CSS selector that refers to all elements in the list, then enter
         <span class="ltx_text ltx_font_italic" id="A2.p3.2.2.3.1.1.1">
          list mode
         </span>
         . While in list mode, further DSL calls are repeated for each list element, using CSS selectors scoped to the list element.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.p3.2.5.3">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A2.p3.2.5.3.1">
       <span class="ltx_text ltx_font_typewriter" id="A2.p3.2.5.3.1.1">
        type_input
       </span>
       (
       <span class="ltx_text ltx_font_italic" id="A2.p3.2.5.3.1.2">
        element
       </span>
       ,
       <span class="ltx_text ltx_font_italic" id="A2.p3.2.5.3.1.3">
        value
       </span>
       )
      </th>
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.p3.2.5.3.2">
       <span class="ltx_inline-block ltx_align_top" id="A2.p3.2.5.3.2.1">
        <span class="ltx_p" id="A2.p3.2.5.3.2.1.1" style="width:256.1pt;">
         Set the given element to the specified value.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.p3.2.6.4">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A2.p3.2.6.4.1">
       <span class="ltx_text ltx_font_typewriter" id="A2.p3.2.6.4.1.1">
        press_enter
       </span>
       (
       <span class="ltx_text ltx_font_italic" id="A2.p3.2.6.4.1.2">
        element
       </span>
       )
      </th>
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.p3.2.6.4.2">
       <span class="ltx_inline-block ltx_align_top" id="A2.p3.2.6.4.2.1">
        <span class="ltx_p" id="A2.p3.2.6.4.2.1.1" style="width:256.1pt;">
         Focus the given element and press the Enter key.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.p3.2.7.5">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A2.p3.2.7.5.1">
       <span class="ltx_text ltx_font_typewriter" id="A2.p3.2.7.5.1.1">
        click
       </span>
       (
       <span class="ltx_text ltx_font_italic" id="A2.p3.2.7.5.1.2">
        element
       </span>
       )
      </th>
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.p3.2.7.5.2">
       <span class="ltx_inline-block ltx_align_top" id="A2.p3.2.7.5.2.1">
        <span class="ltx_p" id="A2.p3.2.7.5.2.1.1" style="width:256.1pt;">
         Click on the given element.
        </span>
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A2.p3.2.8.6">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="A2.p3.2.8.6.1">
       <span class="ltx_text ltx_font_typewriter" id="A2.p3.2.8.6.1.1">
        go_back
       </span>
       ()
      </th>
      <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" id="A2.p3.2.8.6.2">
       <span class="ltx_inline-block ltx_align_top" id="A2.p3.2.8.6.2.1">
        <span class="ltx_p" id="A2.p3.2.8.6.2.1.1" style="width:256.1pt;">
         Navigate to the previous URL.
        </span>
       </span>
      </td>
     </tr>
    </tbody>
   </table>
  </div>
 </section>
 <section class="ltx_appendix" id="A3">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix C
   </span>
   Training Algorithm
  </h2>
  <figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg2">
   <figcaption class="ltx_caption">
    <span class="ltx_tag ltx_tag_float">
     <span class="ltx_text ltx_font_bold" id="alg2.3.1.1">
      Algorithm 2
     </span>
    </span>
    Training
    <span class="ltx_text ltx_font_smallcaps" id="alg2.4.2">
     Wilbur
    </span>
   </figcaption>
   <div class="ltx_listing ltx_listing" id="alg2.5">
    <div class="ltx_listingline" id="alg2.l1">
     <span class="ltx_tag ltx_tag_listingline">
      1:
     </span>
     Websites
     <math alttext="W" class="ltx_Math" display="inline" id="alg2.l1.m1.1">
      <semantics id="alg2.l1.m1.1a">
       <mi id="alg2.l1.m1.1.1" xref="alg2.l1.m1.1.1.cmml">
        W
       </mi>
       <annotation-xml encoding="MathML-Content" id="alg2.l1.m1.1b">
        <ci id="alg2.l1.m1.1.1.cmml" xref="alg2.l1.m1.1.1">
         𝑊
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l1.m1.1c">
        W
       </annotation>
      </semantics>
     </math>
    </div>
    <div class="ltx_listingline" id="alg2.l2">
     <span class="ltx_tag ltx_tag_listingline">
      2:
     </span>
     <math alttext="D_{\tau},D_{a}\leftarrow\emptyset" class="ltx_Math" display="inline" id="alg2.l2.m1.2">
      <semantics id="alg2.l2.m1.2a">
       <mrow id="alg2.l2.m1.2.2" xref="alg2.l2.m1.2.2.cmml">
        <mrow id="alg2.l2.m1.2.2.2.2" xref="alg2.l2.m1.2.2.2.3.cmml">
         <msub id="alg2.l2.m1.1.1.1.1.1" xref="alg2.l2.m1.1.1.1.1.1.cmml">
          <mi id="alg2.l2.m1.1.1.1.1.1.2" xref="alg2.l2.m1.1.1.1.1.1.2.cmml">
           D
          </mi>
          <mi id="alg2.l2.m1.1.1.1.1.1.3" xref="alg2.l2.m1.1.1.1.1.1.3.cmml">
           τ
          </mi>
         </msub>
         <mo id="alg2.l2.m1.2.2.2.2.3" xref="alg2.l2.m1.2.2.2.3.cmml">
          ,
         </mo>
         <msub id="alg2.l2.m1.2.2.2.2.2" xref="alg2.l2.m1.2.2.2.2.2.cmml">
          <mi id="alg2.l2.m1.2.2.2.2.2.2" xref="alg2.l2.m1.2.2.2.2.2.2.cmml">
           D
          </mi>
          <mi id="alg2.l2.m1.2.2.2.2.2.3" xref="alg2.l2.m1.2.2.2.2.2.3.cmml">
           a
          </mi>
         </msub>
        </mrow>
        <mo id="alg2.l2.m1.2.2.3" stretchy="false" xref="alg2.l2.m1.2.2.3.cmml">
         ←
        </mo>
        <mi id="alg2.l2.m1.2.2.4" mathvariant="normal" xref="alg2.l2.m1.2.2.4.cmml">
         ∅
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l2.m1.2b">
        <apply id="alg2.l2.m1.2.2.cmml" xref="alg2.l2.m1.2.2">
         <ci id="alg2.l2.m1.2.2.3.cmml" xref="alg2.l2.m1.2.2.3">
          ←
         </ci>
         <list id="alg2.l2.m1.2.2.2.3.cmml" xref="alg2.l2.m1.2.2.2.2">
          <apply id="alg2.l2.m1.1.1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1.1.1">
           <csymbol cd="ambiguous" id="alg2.l2.m1.1.1.1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1.1.1">
            subscript
           </csymbol>
           <ci id="alg2.l2.m1.1.1.1.1.1.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.2">
            𝐷
           </ci>
           <ci id="alg2.l2.m1.1.1.1.1.1.3.cmml" xref="alg2.l2.m1.1.1.1.1.1.3">
            𝜏
           </ci>
          </apply>
          <apply id="alg2.l2.m1.2.2.2.2.2.cmml" xref="alg2.l2.m1.2.2.2.2.2">
           <csymbol cd="ambiguous" id="alg2.l2.m1.2.2.2.2.2.1.cmml" xref="alg2.l2.m1.2.2.2.2.2">
            subscript
           </csymbol>
           <ci id="alg2.l2.m1.2.2.2.2.2.2.cmml" xref="alg2.l2.m1.2.2.2.2.2.2">
            𝐷
           </ci>
           <ci id="alg2.l2.m1.2.2.2.2.2.3.cmml" xref="alg2.l2.m1.2.2.2.2.2.3">
            𝑎
           </ci>
          </apply>
         </list>
         <emptyset id="alg2.l2.m1.2.2.4.cmml" xref="alg2.l2.m1.2.2.4">
         </emptyset>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l2.m1.2c">
        D_{\tau},D_{a}\leftarrow\emptyset
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text" id="alg2.l2.1" style="float:right;">
      <math alttext="\triangleright" class="ltx_Math" display="inline" id="alg2.l2.1.m1.1">
       <semantics id="alg2.l2.1.m1.1a">
        <mo id="alg2.l2.1.m1.1.1" xref="alg2.l2.1.m1.1.1.cmml">
         ▷
        </mo>
        <annotation-xml encoding="MathML-Content" id="alg2.l2.1.m1.1b">
         <ci id="alg2.l2.1.m1.1.1.cmml" xref="alg2.l2.1.m1.1.1">
          ▷
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg2.l2.1.m1.1c">
         \triangleright
        </annotation>
       </semantics>
      </math>
      Knowledge and action demonstration vectors
     </span>
    </div>
    <div class="ltx_listingline" id="alg2.l3">
     <span class="ltx_tag ltx_tag_listingline">
      3:
     </span>
     Initialize auto-curriculum phase
    </div>
    <div class="ltx_listingline" id="alg2.l4">
     <span class="ltx_tag ltx_tag_listingline">
      4:
     </span>
     <span class="ltx_text ltx_font_bold" id="alg2.l4.1">
      for
     </span>
     each website
     <math alttext="w\in W" class="ltx_Math" display="inline" id="alg2.l4.m1.1">
      <semantics id="alg2.l4.m1.1a">
       <mrow id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml">
        <mi id="alg2.l4.m1.1.1.2" xref="alg2.l4.m1.1.1.2.cmml">
         w
        </mi>
        <mo id="alg2.l4.m1.1.1.1" xref="alg2.l4.m1.1.1.1.cmml">
         ∈
        </mo>
        <mi id="alg2.l4.m1.1.1.3" xref="alg2.l4.m1.1.1.3.cmml">
         W
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l4.m1.1b">
        <apply id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1">
         <in id="alg2.l4.m1.1.1.1.cmml" xref="alg2.l4.m1.1.1.1">
         </in>
         <ci id="alg2.l4.m1.1.1.2.cmml" xref="alg2.l4.m1.1.1.2">
          𝑤
         </ci>
         <ci id="alg2.l4.m1.1.1.3.cmml" xref="alg2.l4.m1.1.1.3">
          𝑊
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l4.m1.1c">
        w\in W
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text ltx_font_bold" id="alg2.l4.2">
      do
     </span>
    </div>
    <div class="ltx_listingline" id="alg2.l5">
     <span class="ltx_tag ltx_tag_listingline">
      5:
     </span>
     <math alttext="o_{0}\leftarrow\text{initial observation state in }w" class="ltx_Math" display="inline" id="alg2.l5.m1.1">
      <semantics id="alg2.l5.m1.1a">
       <mrow id="alg2.l5.m1.1.1" xref="alg2.l5.m1.1.1.cmml">
        <msub id="alg2.l5.m1.1.1.2" xref="alg2.l5.m1.1.1.2.cmml">
         <mi id="alg2.l5.m1.1.1.2.2" xref="alg2.l5.m1.1.1.2.2.cmml">
          o
         </mi>
         <mn id="alg2.l5.m1.1.1.2.3" xref="alg2.l5.m1.1.1.2.3.cmml">
          0
         </mn>
        </msub>
        <mo id="alg2.l5.m1.1.1.1" stretchy="false" xref="alg2.l5.m1.1.1.1.cmml">
         ←
        </mo>
        <mrow id="alg2.l5.m1.1.1.3" xref="alg2.l5.m1.1.1.3.cmml">
         <mtext id="alg2.l5.m1.1.1.3.2" xref="alg2.l5.m1.1.1.3.2a.cmml">
          initial observation state in
         </mtext>
         <mo id="alg2.l5.m1.1.1.3.1" lspace="0em" rspace="0em" xref="alg2.l5.m1.1.1.3.1.cmml">
          ​
         </mo>
         <mi id="alg2.l5.m1.1.1.3.3" xref="alg2.l5.m1.1.1.3.3.cmml">
          w
         </mi>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l5.m1.1b">
        <apply id="alg2.l5.m1.1.1.cmml" xref="alg2.l5.m1.1.1">
         <ci id="alg2.l5.m1.1.1.1.cmml" xref="alg2.l5.m1.1.1.1">
          ←
         </ci>
         <apply id="alg2.l5.m1.1.1.2.cmml" xref="alg2.l5.m1.1.1.2">
          <csymbol cd="ambiguous" id="alg2.l5.m1.1.1.2.1.cmml" xref="alg2.l5.m1.1.1.2">
           subscript
          </csymbol>
          <ci id="alg2.l5.m1.1.1.2.2.cmml" xref="alg2.l5.m1.1.1.2.2">
           𝑜
          </ci>
          <cn id="alg2.l5.m1.1.1.2.3.cmml" type="integer" xref="alg2.l5.m1.1.1.2.3">
           0
          </cn>
         </apply>
         <apply id="alg2.l5.m1.1.1.3.cmml" xref="alg2.l5.m1.1.1.3">
          <times id="alg2.l5.m1.1.1.3.1.cmml" xref="alg2.l5.m1.1.1.3.1">
          </times>
          <ci id="alg2.l5.m1.1.1.3.2a.cmml" xref="alg2.l5.m1.1.1.3.2">
           <mtext id="alg2.l5.m1.1.1.3.2.cmml" xref="alg2.l5.m1.1.1.3.2">
            initial observation state in
           </mtext>
          </ci>
          <ci id="alg2.l5.m1.1.1.3.3.cmml" xref="alg2.l5.m1.1.1.3.3">
           𝑤
          </ci>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l5.m1.1c">
        o_{0}\leftarrow\text{initial observation state in }w
       </annotation>
      </semantics>
     </math>
    </div>
    <div class="ltx_listingline" id="alg2.l6">
     <span class="ltx_tag ltx_tag_listingline">
      6:
     </span>
     <math alttext="G\leftarrow\text{GenerateGoals}(w)" class="ltx_Math" display="inline" id="alg2.l6.m1.1">
      <semantics id="alg2.l6.m1.1a">
       <mrow id="alg2.l6.m1.1.2" xref="alg2.l6.m1.1.2.cmml">
        <mi id="alg2.l6.m1.1.2.2" xref="alg2.l6.m1.1.2.2.cmml">
         G
        </mi>
        <mo id="alg2.l6.m1.1.2.1" stretchy="false" xref="alg2.l6.m1.1.2.1.cmml">
         ←
        </mo>
        <mrow id="alg2.l6.m1.1.2.3" xref="alg2.l6.m1.1.2.3.cmml">
         <mtext id="alg2.l6.m1.1.2.3.2" xref="alg2.l6.m1.1.2.3.2a.cmml">
          GenerateGoals
         </mtext>
         <mo id="alg2.l6.m1.1.2.3.1" lspace="0em" rspace="0em" xref="alg2.l6.m1.1.2.3.1.cmml">
          ​
         </mo>
         <mrow id="alg2.l6.m1.1.2.3.3.2" xref="alg2.l6.m1.1.2.3.cmml">
          <mo id="alg2.l6.m1.1.2.3.3.2.1" stretchy="false" xref="alg2.l6.m1.1.2.3.cmml">
           (
          </mo>
          <mi id="alg2.l6.m1.1.1" xref="alg2.l6.m1.1.1.cmml">
           w
          </mi>
          <mo id="alg2.l6.m1.1.2.3.3.2.2" stretchy="false" xref="alg2.l6.m1.1.2.3.cmml">
           )
          </mo>
         </mrow>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l6.m1.1b">
        <apply id="alg2.l6.m1.1.2.cmml" xref="alg2.l6.m1.1.2">
         <ci id="alg2.l6.m1.1.2.1.cmml" xref="alg2.l6.m1.1.2.1">
          ←
         </ci>
         <ci id="alg2.l6.m1.1.2.2.cmml" xref="alg2.l6.m1.1.2.2">
          𝐺
         </ci>
         <apply id="alg2.l6.m1.1.2.3.cmml" xref="alg2.l6.m1.1.2.3">
          <times id="alg2.l6.m1.1.2.3.1.cmml" xref="alg2.l6.m1.1.2.3.1">
          </times>
          <ci id="alg2.l6.m1.1.2.3.2a.cmml" xref="alg2.l6.m1.1.2.3.2">
           <mtext id="alg2.l6.m1.1.2.3.2.cmml" xref="alg2.l6.m1.1.2.3.2">
            GenerateGoals
           </mtext>
          </ci>
          <ci id="alg2.l6.m1.1.1.cmml" xref="alg2.l6.m1.1.1">
           𝑤
          </ci>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l6.m1.1c">
        G\leftarrow\text{GenerateGoals}(w)
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text" id="alg2.l6.1" style="float:right;">
      <math alttext="\triangleright" class="ltx_Math" display="inline" id="alg2.l6.1.m1.1">
       <semantics id="alg2.l6.1.m1.1a">
        <mo id="alg2.l6.1.m1.1.1" xref="alg2.l6.1.m1.1.1.cmml">
         ▷
        </mo>
        <annotation-xml encoding="MathML-Content" id="alg2.l6.1.m1.1b">
         <ci id="alg2.l6.1.m1.1.1.cmml" xref="alg2.l6.1.m1.1.1">
          ▷
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg2.l6.1.m1.1c">
         \triangleright
        </annotation>
       </semantics>
      </math>
      Generate multiple plausible goals
     </span>
    </div>
    <div class="ltx_listingline" id="alg2.l7">
     <span class="ltx_tag ltx_tag_listingline">
      7:
     </span>
     <span class="ltx_text ltx_font_bold" id="alg2.l7.1">
      for
     </span>
     each goal
     <math alttext="g\in G" class="ltx_Math" display="inline" id="alg2.l7.m1.1">
      <semantics id="alg2.l7.m1.1a">
       <mrow id="alg2.l7.m1.1.1" xref="alg2.l7.m1.1.1.cmml">
        <mi id="alg2.l7.m1.1.1.2" xref="alg2.l7.m1.1.1.2.cmml">
         g
        </mi>
        <mo id="alg2.l7.m1.1.1.1" xref="alg2.l7.m1.1.1.1.cmml">
         ∈
        </mo>
        <mi id="alg2.l7.m1.1.1.3" xref="alg2.l7.m1.1.1.3.cmml">
         G
        </mi>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l7.m1.1b">
        <apply id="alg2.l7.m1.1.1.cmml" xref="alg2.l7.m1.1.1">
         <in id="alg2.l7.m1.1.1.1.cmml" xref="alg2.l7.m1.1.1.1">
         </in>
         <ci id="alg2.l7.m1.1.1.2.cmml" xref="alg2.l7.m1.1.1.2">
          𝑔
         </ci>
         <ci id="alg2.l7.m1.1.1.3.cmml" xref="alg2.l7.m1.1.1.3">
          𝐺
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l7.m1.1c">
        g\in G
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text ltx_font_bold" id="alg2.l7.2">
      do
     </span>
    </div>
    <div class="ltx_listingline" id="alg2.l8">
     <span class="ltx_tag ltx_tag_listingline">
      8:
     </span>
     <math alttext="\tau,\textit{answer}\leftarrow\text{{Wilbur}}(g,o_{0})" class="ltx_Math" display="inline" id="alg2.l8.m1.4">
      <semantics id="alg2.l8.m1.4a">
       <mrow id="alg2.l8.m1.4.4" xref="alg2.l8.m1.4.4.cmml">
        <mrow id="alg2.l8.m1.4.4.3.2" xref="alg2.l8.m1.4.4.3.1.cmml">
         <mi id="alg2.l8.m1.2.2" xref="alg2.l8.m1.2.2.cmml">
          τ
         </mi>
         <mo id="alg2.l8.m1.4.4.3.2.1" xref="alg2.l8.m1.4.4.3.1.cmml">
          ,
         </mo>
         <mtext class="ltx_mathvariant_italic" id="alg2.l8.m1.3.3" xref="alg2.l8.m1.3.3a.cmml">
          answer
         </mtext>
        </mrow>
        <mo id="alg2.l8.m1.4.4.2" stretchy="false" xref="alg2.l8.m1.4.4.2.cmml">
         ←
        </mo>
        <mrow id="alg2.l8.m1.4.4.1" xref="alg2.l8.m1.4.4.1.cmml">
         <mtext class="ltx_font_smallcaps" id="alg2.l8.m1.4.4.1.3" xref="alg2.l8.m1.4.4.1.3a.cmml">
          Wilbur
         </mtext>
         <mo id="alg2.l8.m1.4.4.1.2" lspace="0em" rspace="0em" xref="alg2.l8.m1.4.4.1.2.cmml">
          ​
         </mo>
         <mrow id="alg2.l8.m1.4.4.1.1.1" xref="alg2.l8.m1.4.4.1.1.2.cmml">
          <mo id="alg2.l8.m1.4.4.1.1.1.2" stretchy="false" xref="alg2.l8.m1.4.4.1.1.2.cmml">
           (
          </mo>
          <mi id="alg2.l8.m1.1.1" xref="alg2.l8.m1.1.1.cmml">
           g
          </mi>
          <mo id="alg2.l8.m1.4.4.1.1.1.3" xref="alg2.l8.m1.4.4.1.1.2.cmml">
           ,
          </mo>
          <msub id="alg2.l8.m1.4.4.1.1.1.1" xref="alg2.l8.m1.4.4.1.1.1.1.cmml">
           <mi id="alg2.l8.m1.4.4.1.1.1.1.2" xref="alg2.l8.m1.4.4.1.1.1.1.2.cmml">
            o
           </mi>
           <mn id="alg2.l8.m1.4.4.1.1.1.1.3" xref="alg2.l8.m1.4.4.1.1.1.1.3.cmml">
            0
           </mn>
          </msub>
          <mo id="alg2.l8.m1.4.4.1.1.1.4" stretchy="false" xref="alg2.l8.m1.4.4.1.1.2.cmml">
           )
          </mo>
         </mrow>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l8.m1.4b">
        <apply id="alg2.l8.m1.4.4.cmml" xref="alg2.l8.m1.4.4">
         <ci id="alg2.l8.m1.4.4.2.cmml" xref="alg2.l8.m1.4.4.2">
          ←
         </ci>
         <list id="alg2.l8.m1.4.4.3.1.cmml" xref="alg2.l8.m1.4.4.3.2">
          <ci id="alg2.l8.m1.2.2.cmml" xref="alg2.l8.m1.2.2">
           𝜏
          </ci>
          <ci id="alg2.l8.m1.3.3a.cmml" xref="alg2.l8.m1.3.3">
           <mtext class="ltx_mathvariant_italic" id="alg2.l8.m1.3.3.cmml" xref="alg2.l8.m1.3.3">
            answer
           </mtext>
          </ci>
         </list>
         <apply id="alg2.l8.m1.4.4.1.cmml" xref="alg2.l8.m1.4.4.1">
          <times id="alg2.l8.m1.4.4.1.2.cmml" xref="alg2.l8.m1.4.4.1.2">
          </times>
          <ci id="alg2.l8.m1.4.4.1.3a.cmml" xref="alg2.l8.m1.4.4.1.3">
           <mtext class="ltx_font_smallcaps" id="alg2.l8.m1.4.4.1.3.cmml" xref="alg2.l8.m1.4.4.1.3">
            Wilbur
           </mtext>
          </ci>
          <interval closure="open" id="alg2.l8.m1.4.4.1.1.2.cmml" xref="alg2.l8.m1.4.4.1.1.1">
           <ci id="alg2.l8.m1.1.1.cmml" xref="alg2.l8.m1.1.1">
            𝑔
           </ci>
           <apply id="alg2.l8.m1.4.4.1.1.1.1.cmml" xref="alg2.l8.m1.4.4.1.1.1.1">
            <csymbol cd="ambiguous" id="alg2.l8.m1.4.4.1.1.1.1.1.cmml" xref="alg2.l8.m1.4.4.1.1.1.1">
             subscript
            </csymbol>
            <ci id="alg2.l8.m1.4.4.1.1.1.1.2.cmml" xref="alg2.l8.m1.4.4.1.1.1.1.2">
             𝑜
            </ci>
            <cn id="alg2.l8.m1.4.4.1.1.1.1.3.cmml" type="integer" xref="alg2.l8.m1.4.4.1.1.1.1.3">
             0
            </cn>
           </apply>
          </interval>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l8.m1.4c">
        \tau,\textit{answer}\leftarrow\text{{Wilbur}}(g,o_{0})
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text" id="alg2.l8.1" style="float:right;">
      <math alttext="\triangleright" class="ltx_Math" display="inline" id="alg2.l8.1.m1.1">
       <semantics id="alg2.l8.1.m1.1a">
        <mo id="alg2.l8.1.m1.1.1" xref="alg2.l8.1.m1.1.1.cmml">
         ▷
        </mo>
        <annotation-xml encoding="MathML-Content" id="alg2.l8.1.m1.1b">
         <ci id="alg2.l8.1.m1.1.1.cmml" xref="alg2.l8.1.m1.1.1">
          ▷
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg2.l8.1.m1.1c">
         \triangleright
        </annotation>
       </semantics>
      </math>
      Perform actions towards goal
     </span>
    </div>
    <div class="ltx_listingline" id="alg2.l9">
     <span class="ltx_tag ltx_tag_listingline">
      9:
     </span>
     <math alttext="v_{\tau}\leftarrow\text{ExecutionSelfEvaluation}(\tau,g,text)" class="ltx_Math" display="inline" id="alg2.l9.m1.3">
      <semantics id="alg2.l9.m1.3a">
       <mrow id="alg2.l9.m1.3.3" xref="alg2.l9.m1.3.3.cmml">
        <msub id="alg2.l9.m1.3.3.3" xref="alg2.l9.m1.3.3.3.cmml">
         <mi id="alg2.l9.m1.3.3.3.2" xref="alg2.l9.m1.3.3.3.2.cmml">
          v
         </mi>
         <mi id="alg2.l9.m1.3.3.3.3" xref="alg2.l9.m1.3.3.3.3.cmml">
          τ
         </mi>
        </msub>
        <mo id="alg2.l9.m1.3.3.2" stretchy="false" xref="alg2.l9.m1.3.3.2.cmml">
         ←
        </mo>
        <mrow id="alg2.l9.m1.3.3.1" xref="alg2.l9.m1.3.3.1.cmml">
         <mtext id="alg2.l9.m1.3.3.1.3" xref="alg2.l9.m1.3.3.1.3a.cmml">
          ExecutionSelfEvaluation
         </mtext>
         <mo id="alg2.l9.m1.3.3.1.2" lspace="0em" rspace="0em" xref="alg2.l9.m1.3.3.1.2.cmml">
          ​
         </mo>
         <mrow id="alg2.l9.m1.3.3.1.1.1" xref="alg2.l9.m1.3.3.1.1.2.cmml">
          <mo id="alg2.l9.m1.3.3.1.1.1.2" stretchy="false" xref="alg2.l9.m1.3.3.1.1.2.cmml">
           (
          </mo>
          <mi id="alg2.l9.m1.1.1" xref="alg2.l9.m1.1.1.cmml">
           τ
          </mi>
          <mo id="alg2.l9.m1.3.3.1.1.1.3" xref="alg2.l9.m1.3.3.1.1.2.cmml">
           ,
          </mo>
          <mi id="alg2.l9.m1.2.2" xref="alg2.l9.m1.2.2.cmml">
           g
          </mi>
          <mo id="alg2.l9.m1.3.3.1.1.1.4" xref="alg2.l9.m1.3.3.1.1.2.cmml">
           ,
          </mo>
          <mrow id="alg2.l9.m1.3.3.1.1.1.1" xref="alg2.l9.m1.3.3.1.1.1.1.cmml">
           <mi id="alg2.l9.m1.3.3.1.1.1.1.2" xref="alg2.l9.m1.3.3.1.1.1.1.2.cmml">
            t
           </mi>
           <mo id="alg2.l9.m1.3.3.1.1.1.1.1" lspace="0em" rspace="0em" xref="alg2.l9.m1.3.3.1.1.1.1.1.cmml">
            ​
           </mo>
           <mi id="alg2.l9.m1.3.3.1.1.1.1.3" xref="alg2.l9.m1.3.3.1.1.1.1.3.cmml">
            e
           </mi>
           <mo id="alg2.l9.m1.3.3.1.1.1.1.1a" lspace="0em" rspace="0em" xref="alg2.l9.m1.3.3.1.1.1.1.1.cmml">
            ​
           </mo>
           <mi id="alg2.l9.m1.3.3.1.1.1.1.4" xref="alg2.l9.m1.3.3.1.1.1.1.4.cmml">
            x
           </mi>
           <mo id="alg2.l9.m1.3.3.1.1.1.1.1b" lspace="0em" rspace="0em" xref="alg2.l9.m1.3.3.1.1.1.1.1.cmml">
            ​
           </mo>
           <mi id="alg2.l9.m1.3.3.1.1.1.1.5" xref="alg2.l9.m1.3.3.1.1.1.1.5.cmml">
            t
           </mi>
          </mrow>
          <mo id="alg2.l9.m1.3.3.1.1.1.5" stretchy="false" xref="alg2.l9.m1.3.3.1.1.2.cmml">
           )
          </mo>
         </mrow>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l9.m1.3b">
        <apply id="alg2.l9.m1.3.3.cmml" xref="alg2.l9.m1.3.3">
         <ci id="alg2.l9.m1.3.3.2.cmml" xref="alg2.l9.m1.3.3.2">
          ←
         </ci>
         <apply id="alg2.l9.m1.3.3.3.cmml" xref="alg2.l9.m1.3.3.3">
          <csymbol cd="ambiguous" id="alg2.l9.m1.3.3.3.1.cmml" xref="alg2.l9.m1.3.3.3">
           subscript
          </csymbol>
          <ci id="alg2.l9.m1.3.3.3.2.cmml" xref="alg2.l9.m1.3.3.3.2">
           𝑣
          </ci>
          <ci id="alg2.l9.m1.3.3.3.3.cmml" xref="alg2.l9.m1.3.3.3.3">
           𝜏
          </ci>
         </apply>
         <apply id="alg2.l9.m1.3.3.1.cmml" xref="alg2.l9.m1.3.3.1">
          <times id="alg2.l9.m1.3.3.1.2.cmml" xref="alg2.l9.m1.3.3.1.2">
          </times>
          <ci id="alg2.l9.m1.3.3.1.3a.cmml" xref="alg2.l9.m1.3.3.1.3">
           <mtext id="alg2.l9.m1.3.3.1.3.cmml" xref="alg2.l9.m1.3.3.1.3">
            ExecutionSelfEvaluation
           </mtext>
          </ci>
          <vector id="alg2.l9.m1.3.3.1.1.2.cmml" xref="alg2.l9.m1.3.3.1.1.1">
           <ci id="alg2.l9.m1.1.1.cmml" xref="alg2.l9.m1.1.1">
            𝜏
           </ci>
           <ci id="alg2.l9.m1.2.2.cmml" xref="alg2.l9.m1.2.2">
            𝑔
           </ci>
           <apply id="alg2.l9.m1.3.3.1.1.1.1.cmml" xref="alg2.l9.m1.3.3.1.1.1.1">
            <times id="alg2.l9.m1.3.3.1.1.1.1.1.cmml" xref="alg2.l9.m1.3.3.1.1.1.1.1">
            </times>
            <ci id="alg2.l9.m1.3.3.1.1.1.1.2.cmml" xref="alg2.l9.m1.3.3.1.1.1.1.2">
             𝑡
            </ci>
            <ci id="alg2.l9.m1.3.3.1.1.1.1.3.cmml" xref="alg2.l9.m1.3.3.1.1.1.1.3">
             𝑒
            </ci>
            <ci id="alg2.l9.m1.3.3.1.1.1.1.4.cmml" xref="alg2.l9.m1.3.3.1.1.1.1.4">
             𝑥
            </ci>
            <ci id="alg2.l9.m1.3.3.1.1.1.1.5.cmml" xref="alg2.l9.m1.3.3.1.1.1.1.5">
             𝑡
            </ci>
           </apply>
          </vector>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l9.m1.3c">
        v_{\tau}\leftarrow\text{ExecutionSelfEvaluation}(\tau,g,text)
       </annotation>
      </semantics>
     </math>
    </div>
    <div class="ltx_listingline" id="alg2.l10">
     <span class="ltx_tag ltx_tag_listingline">
      10:
     </span>
     <math alttext="\text{UpdateDemonstrations}(D_{g},D_{a},g,v_{\tau})" class="ltx_Math" display="inline" id="alg2.l10.m1.4">
      <semantics id="alg2.l10.m1.4a">
       <mrow id="alg2.l10.m1.4.4" xref="alg2.l10.m1.4.4.cmml">
        <mtext id="alg2.l10.m1.4.4.5" xref="alg2.l10.m1.4.4.5a.cmml">
         UpdateDemonstrations
        </mtext>
        <mo id="alg2.l10.m1.4.4.4" lspace="0em" rspace="0em" xref="alg2.l10.m1.4.4.4.cmml">
         ​
        </mo>
        <mrow id="alg2.l10.m1.4.4.3.3" xref="alg2.l10.m1.4.4.3.4.cmml">
         <mo id="alg2.l10.m1.4.4.3.3.4" stretchy="false" xref="alg2.l10.m1.4.4.3.4.cmml">
          (
         </mo>
         <msub id="alg2.l10.m1.2.2.1.1.1" xref="alg2.l10.m1.2.2.1.1.1.cmml">
          <mi id="alg2.l10.m1.2.2.1.1.1.2" xref="alg2.l10.m1.2.2.1.1.1.2.cmml">
           D
          </mi>
          <mi id="alg2.l10.m1.2.2.1.1.1.3" xref="alg2.l10.m1.2.2.1.1.1.3.cmml">
           g
          </mi>
         </msub>
         <mo id="alg2.l10.m1.4.4.3.3.5" xref="alg2.l10.m1.4.4.3.4.cmml">
          ,
         </mo>
         <msub id="alg2.l10.m1.3.3.2.2.2" xref="alg2.l10.m1.3.3.2.2.2.cmml">
          <mi id="alg2.l10.m1.3.3.2.2.2.2" xref="alg2.l10.m1.3.3.2.2.2.2.cmml">
           D
          </mi>
          <mi id="alg2.l10.m1.3.3.2.2.2.3" xref="alg2.l10.m1.3.3.2.2.2.3.cmml">
           a
          </mi>
         </msub>
         <mo id="alg2.l10.m1.4.4.3.3.6" xref="alg2.l10.m1.4.4.3.4.cmml">
          ,
         </mo>
         <mi id="alg2.l10.m1.1.1" xref="alg2.l10.m1.1.1.cmml">
          g
         </mi>
         <mo id="alg2.l10.m1.4.4.3.3.7" xref="alg2.l10.m1.4.4.3.4.cmml">
          ,
         </mo>
         <msub id="alg2.l10.m1.4.4.3.3.3" xref="alg2.l10.m1.4.4.3.3.3.cmml">
          <mi id="alg2.l10.m1.4.4.3.3.3.2" xref="alg2.l10.m1.4.4.3.3.3.2.cmml">
           v
          </mi>
          <mi id="alg2.l10.m1.4.4.3.3.3.3" xref="alg2.l10.m1.4.4.3.3.3.3.cmml">
           τ
          </mi>
         </msub>
         <mo id="alg2.l10.m1.4.4.3.3.8" stretchy="false" xref="alg2.l10.m1.4.4.3.4.cmml">
          )
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l10.m1.4b">
        <apply id="alg2.l10.m1.4.4.cmml" xref="alg2.l10.m1.4.4">
         <times id="alg2.l10.m1.4.4.4.cmml" xref="alg2.l10.m1.4.4.4">
         </times>
         <ci id="alg2.l10.m1.4.4.5a.cmml" xref="alg2.l10.m1.4.4.5">
          <mtext id="alg2.l10.m1.4.4.5.cmml" xref="alg2.l10.m1.4.4.5">
           UpdateDemonstrations
          </mtext>
         </ci>
         <vector id="alg2.l10.m1.4.4.3.4.cmml" xref="alg2.l10.m1.4.4.3.3">
          <apply id="alg2.l10.m1.2.2.1.1.1.cmml" xref="alg2.l10.m1.2.2.1.1.1">
           <csymbol cd="ambiguous" id="alg2.l10.m1.2.2.1.1.1.1.cmml" xref="alg2.l10.m1.2.2.1.1.1">
            subscript
           </csymbol>
           <ci id="alg2.l10.m1.2.2.1.1.1.2.cmml" xref="alg2.l10.m1.2.2.1.1.1.2">
            𝐷
           </ci>
           <ci id="alg2.l10.m1.2.2.1.1.1.3.cmml" xref="alg2.l10.m1.2.2.1.1.1.3">
            𝑔
           </ci>
          </apply>
          <apply id="alg2.l10.m1.3.3.2.2.2.cmml" xref="alg2.l10.m1.3.3.2.2.2">
           <csymbol cd="ambiguous" id="alg2.l10.m1.3.3.2.2.2.1.cmml" xref="alg2.l10.m1.3.3.2.2.2">
            subscript
           </csymbol>
           <ci id="alg2.l10.m1.3.3.2.2.2.2.cmml" xref="alg2.l10.m1.3.3.2.2.2.2">
            𝐷
           </ci>
           <ci id="alg2.l10.m1.3.3.2.2.2.3.cmml" xref="alg2.l10.m1.3.3.2.2.2.3">
            𝑎
           </ci>
          </apply>
          <ci id="alg2.l10.m1.1.1.cmml" xref="alg2.l10.m1.1.1">
           𝑔
          </ci>
          <apply id="alg2.l10.m1.4.4.3.3.3.cmml" xref="alg2.l10.m1.4.4.3.3.3">
           <csymbol cd="ambiguous" id="alg2.l10.m1.4.4.3.3.3.1.cmml" xref="alg2.l10.m1.4.4.3.3.3">
            subscript
           </csymbol>
           <ci id="alg2.l10.m1.4.4.3.3.3.2.cmml" xref="alg2.l10.m1.4.4.3.3.3.2">
            𝑣
           </ci>
           <ci id="alg2.l10.m1.4.4.3.3.3.3.cmml" xref="alg2.l10.m1.4.4.3.3.3.3">
            𝜏
           </ci>
          </apply>
         </vector>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l10.m1.4c">
        \text{UpdateDemonstrations}(D_{g},D_{a},g,v_{\tau})
       </annotation>
      </semantics>
     </math>
    </div>
    <div class="ltx_listingline" id="alg2.l11">
     <span class="ltx_tag ltx_tag_listingline">
      11:
     </span>
     <span class="ltx_text ltx_font_bold" id="alg2.l11.1">
      end
     </span>
     <span class="ltx_text ltx_font_bold" id="alg2.l11.2">
      for
     </span>
    </div>
    <div class="ltx_listingline" id="alg2.l12">
     <span class="ltx_tag ltx_tag_listingline">
      12:
     </span>
     <math alttext="G^{\prime}\leftarrow\text{GenerateFollowupGoals}(G,w)" class="ltx_Math" display="inline" id="alg2.l12.m1.2">
      <semantics id="alg2.l12.m1.2a">
       <mrow id="alg2.l12.m1.2.3" xref="alg2.l12.m1.2.3.cmml">
        <msup id="alg2.l12.m1.2.3.2" xref="alg2.l12.m1.2.3.2.cmml">
         <mi id="alg2.l12.m1.2.3.2.2" xref="alg2.l12.m1.2.3.2.2.cmml">
          G
         </mi>
         <mo id="alg2.l12.m1.2.3.2.3" xref="alg2.l12.m1.2.3.2.3.cmml">
          ′
         </mo>
        </msup>
        <mo id="alg2.l12.m1.2.3.1" stretchy="false" xref="alg2.l12.m1.2.3.1.cmml">
         ←
        </mo>
        <mrow id="alg2.l12.m1.2.3.3" xref="alg2.l12.m1.2.3.3.cmml">
         <mtext id="alg2.l12.m1.2.3.3.2" xref="alg2.l12.m1.2.3.3.2a.cmml">
          GenerateFollowupGoals
         </mtext>
         <mo id="alg2.l12.m1.2.3.3.1" lspace="0em" rspace="0em" xref="alg2.l12.m1.2.3.3.1.cmml">
          ​
         </mo>
         <mrow id="alg2.l12.m1.2.3.3.3.2" xref="alg2.l12.m1.2.3.3.3.1.cmml">
          <mo id="alg2.l12.m1.2.3.3.3.2.1" stretchy="false" xref="alg2.l12.m1.2.3.3.3.1.cmml">
           (
          </mo>
          <mi id="alg2.l12.m1.1.1" xref="alg2.l12.m1.1.1.cmml">
           G
          </mi>
          <mo id="alg2.l12.m1.2.3.3.3.2.2" xref="alg2.l12.m1.2.3.3.3.1.cmml">
           ,
          </mo>
          <mi id="alg2.l12.m1.2.2" xref="alg2.l12.m1.2.2.cmml">
           w
          </mi>
          <mo id="alg2.l12.m1.2.3.3.3.2.3" stretchy="false" xref="alg2.l12.m1.2.3.3.3.1.cmml">
           )
          </mo>
         </mrow>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l12.m1.2b">
        <apply id="alg2.l12.m1.2.3.cmml" xref="alg2.l12.m1.2.3">
         <ci id="alg2.l12.m1.2.3.1.cmml" xref="alg2.l12.m1.2.3.1">
          ←
         </ci>
         <apply id="alg2.l12.m1.2.3.2.cmml" xref="alg2.l12.m1.2.3.2">
          <csymbol cd="ambiguous" id="alg2.l12.m1.2.3.2.1.cmml" xref="alg2.l12.m1.2.3.2">
           superscript
          </csymbol>
          <ci id="alg2.l12.m1.2.3.2.2.cmml" xref="alg2.l12.m1.2.3.2.2">
           𝐺
          </ci>
          <ci id="alg2.l12.m1.2.3.2.3.cmml" xref="alg2.l12.m1.2.3.2.3">
           ′
          </ci>
         </apply>
         <apply id="alg2.l12.m1.2.3.3.cmml" xref="alg2.l12.m1.2.3.3">
          <times id="alg2.l12.m1.2.3.3.1.cmml" xref="alg2.l12.m1.2.3.3.1">
          </times>
          <ci id="alg2.l12.m1.2.3.3.2a.cmml" xref="alg2.l12.m1.2.3.3.2">
           <mtext id="alg2.l12.m1.2.3.3.2.cmml" xref="alg2.l12.m1.2.3.3.2">
            GenerateFollowupGoals
           </mtext>
          </ci>
          <interval closure="open" id="alg2.l12.m1.2.3.3.3.1.cmml" xref="alg2.l12.m1.2.3.3.3.2">
           <ci id="alg2.l12.m1.1.1.cmml" xref="alg2.l12.m1.1.1">
            𝐺
           </ci>
           <ci id="alg2.l12.m1.2.2.cmml" xref="alg2.l12.m1.2.2">
            𝑤
           </ci>
          </interval>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l12.m1.2c">
        G^{\prime}\leftarrow\text{GenerateFollowupGoals}(G,w)
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text" id="alg2.l12.1" style="float:right;">
      <math alttext="\triangleright" class="ltx_Math" display="inline" id="alg2.l12.1.m1.1">
       <semantics id="alg2.l12.1.m1.1a">
        <mo id="alg2.l12.1.m1.1.1" xref="alg2.l12.1.m1.1.1.cmml">
         ▷
        </mo>
        <annotation-xml encoding="MathML-Content" id="alg2.l12.1.m1.1b">
         <ci id="alg2.l12.1.m1.1.1.cmml" xref="alg2.l12.1.m1.1.1">
          ▷
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg2.l12.1.m1.1c">
         \triangleright
        </annotation>
       </semantics>
      </math>
      Condition on previous goals
     </span>
    </div>
    <div class="ltx_listingline" id="alg2.l13">
     <span class="ltx_tag ltx_tag_listingline">
      13:
     </span>
     <span class="ltx_text ltx_font_bold" id="alg2.l13.1">
      for
     </span>
     each goal
     <math alttext="g^{\prime}\in G^{\prime}" class="ltx_Math" display="inline" id="alg2.l13.m1.1">
      <semantics id="alg2.l13.m1.1a">
       <mrow id="alg2.l13.m1.1.1" xref="alg2.l13.m1.1.1.cmml">
        <msup id="alg2.l13.m1.1.1.2" xref="alg2.l13.m1.1.1.2.cmml">
         <mi id="alg2.l13.m1.1.1.2.2" xref="alg2.l13.m1.1.1.2.2.cmml">
          g
         </mi>
         <mo id="alg2.l13.m1.1.1.2.3" xref="alg2.l13.m1.1.1.2.3.cmml">
          ′
         </mo>
        </msup>
        <mo id="alg2.l13.m1.1.1.1" xref="alg2.l13.m1.1.1.1.cmml">
         ∈
        </mo>
        <msup id="alg2.l13.m1.1.1.3" xref="alg2.l13.m1.1.1.3.cmml">
         <mi id="alg2.l13.m1.1.1.3.2" xref="alg2.l13.m1.1.1.3.2.cmml">
          G
         </mi>
         <mo id="alg2.l13.m1.1.1.3.3" xref="alg2.l13.m1.1.1.3.3.cmml">
          ′
         </mo>
        </msup>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l13.m1.1b">
        <apply id="alg2.l13.m1.1.1.cmml" xref="alg2.l13.m1.1.1">
         <in id="alg2.l13.m1.1.1.1.cmml" xref="alg2.l13.m1.1.1.1">
         </in>
         <apply id="alg2.l13.m1.1.1.2.cmml" xref="alg2.l13.m1.1.1.2">
          <csymbol cd="ambiguous" id="alg2.l13.m1.1.1.2.1.cmml" xref="alg2.l13.m1.1.1.2">
           superscript
          </csymbol>
          <ci id="alg2.l13.m1.1.1.2.2.cmml" xref="alg2.l13.m1.1.1.2.2">
           𝑔
          </ci>
          <ci id="alg2.l13.m1.1.1.2.3.cmml" xref="alg2.l13.m1.1.1.2.3">
           ′
          </ci>
         </apply>
         <apply id="alg2.l13.m1.1.1.3.cmml" xref="alg2.l13.m1.1.1.3">
          <csymbol cd="ambiguous" id="alg2.l13.m1.1.1.3.1.cmml" xref="alg2.l13.m1.1.1.3">
           superscript
          </csymbol>
          <ci id="alg2.l13.m1.1.1.3.2.cmml" xref="alg2.l13.m1.1.1.3.2">
           𝐺
          </ci>
          <ci id="alg2.l13.m1.1.1.3.3.cmml" xref="alg2.l13.m1.1.1.3.3">
           ′
          </ci>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l13.m1.1c">
        g^{\prime}\in G^{\prime}
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text ltx_font_bold" id="alg2.l13.2">
      do
     </span>
    </div>
    <div class="ltx_listingline" id="alg2.l14">
     <span class="ltx_tag ltx_tag_listingline">
      14:
     </span>
     <math alttext="\tau,text\leftarrow\text{{Wilbur}}(g,o_{0})" class="ltx_Math" display="inline" id="alg2.l14.m1.4">
      <semantics id="alg2.l14.m1.4a">
       <mrow id="alg2.l14.m1.4.4" xref="alg2.l14.m1.4.4.cmml">
        <mrow id="alg2.l14.m1.3.3.1.1" xref="alg2.l14.m1.3.3.1.2.cmml">
         <mi id="alg2.l14.m1.2.2" xref="alg2.l14.m1.2.2.cmml">
          τ
         </mi>
         <mo id="alg2.l14.m1.3.3.1.1.2" xref="alg2.l14.m1.3.3.1.2.cmml">
          ,
         </mo>
         <mrow id="alg2.l14.m1.3.3.1.1.1" xref="alg2.l14.m1.3.3.1.1.1.cmml">
          <mi id="alg2.l14.m1.3.3.1.1.1.2" xref="alg2.l14.m1.3.3.1.1.1.2.cmml">
           t
          </mi>
          <mo id="alg2.l14.m1.3.3.1.1.1.1" lspace="0em" rspace="0em" xref="alg2.l14.m1.3.3.1.1.1.1.cmml">
           ​
          </mo>
          <mi id="alg2.l14.m1.3.3.1.1.1.3" xref="alg2.l14.m1.3.3.1.1.1.3.cmml">
           e
          </mi>
          <mo id="alg2.l14.m1.3.3.1.1.1.1a" lspace="0em" rspace="0em" xref="alg2.l14.m1.3.3.1.1.1.1.cmml">
           ​
          </mo>
          <mi id="alg2.l14.m1.3.3.1.1.1.4" xref="alg2.l14.m1.3.3.1.1.1.4.cmml">
           x
          </mi>
          <mo id="alg2.l14.m1.3.3.1.1.1.1b" lspace="0em" rspace="0em" xref="alg2.l14.m1.3.3.1.1.1.1.cmml">
           ​
          </mo>
          <mi id="alg2.l14.m1.3.3.1.1.1.5" xref="alg2.l14.m1.3.3.1.1.1.5.cmml">
           t
          </mi>
         </mrow>
        </mrow>
        <mo id="alg2.l14.m1.4.4.3" stretchy="false" xref="alg2.l14.m1.4.4.3.cmml">
         ←
        </mo>
        <mrow id="alg2.l14.m1.4.4.2" xref="alg2.l14.m1.4.4.2.cmml">
         <mtext class="ltx_font_smallcaps" id="alg2.l14.m1.4.4.2.3" xref="alg2.l14.m1.4.4.2.3a.cmml">
          Wilbur
         </mtext>
         <mo id="alg2.l14.m1.4.4.2.2" lspace="0em" rspace="0em" xref="alg2.l14.m1.4.4.2.2.cmml">
          ​
         </mo>
         <mrow id="alg2.l14.m1.4.4.2.1.1" xref="alg2.l14.m1.4.4.2.1.2.cmml">
          <mo id="alg2.l14.m1.4.4.2.1.1.2" stretchy="false" xref="alg2.l14.m1.4.4.2.1.2.cmml">
           (
          </mo>
          <mi id="alg2.l14.m1.1.1" xref="alg2.l14.m1.1.1.cmml">
           g
          </mi>
          <mo id="alg2.l14.m1.4.4.2.1.1.3" xref="alg2.l14.m1.4.4.2.1.2.cmml">
           ,
          </mo>
          <msub id="alg2.l14.m1.4.4.2.1.1.1" xref="alg2.l14.m1.4.4.2.1.1.1.cmml">
           <mi id="alg2.l14.m1.4.4.2.1.1.1.2" xref="alg2.l14.m1.4.4.2.1.1.1.2.cmml">
            o
           </mi>
           <mn id="alg2.l14.m1.4.4.2.1.1.1.3" xref="alg2.l14.m1.4.4.2.1.1.1.3.cmml">
            0
           </mn>
          </msub>
          <mo id="alg2.l14.m1.4.4.2.1.1.4" stretchy="false" xref="alg2.l14.m1.4.4.2.1.2.cmml">
           )
          </mo>
         </mrow>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l14.m1.4b">
        <apply id="alg2.l14.m1.4.4.cmml" xref="alg2.l14.m1.4.4">
         <ci id="alg2.l14.m1.4.4.3.cmml" xref="alg2.l14.m1.4.4.3">
          ←
         </ci>
         <list id="alg2.l14.m1.3.3.1.2.cmml" xref="alg2.l14.m1.3.3.1.1">
          <ci id="alg2.l14.m1.2.2.cmml" xref="alg2.l14.m1.2.2">
           𝜏
          </ci>
          <apply id="alg2.l14.m1.3.3.1.1.1.cmml" xref="alg2.l14.m1.3.3.1.1.1">
           <times id="alg2.l14.m1.3.3.1.1.1.1.cmml" xref="alg2.l14.m1.3.3.1.1.1.1">
           </times>
           <ci id="alg2.l14.m1.3.3.1.1.1.2.cmml" xref="alg2.l14.m1.3.3.1.1.1.2">
            𝑡
           </ci>
           <ci id="alg2.l14.m1.3.3.1.1.1.3.cmml" xref="alg2.l14.m1.3.3.1.1.1.3">
            𝑒
           </ci>
           <ci id="alg2.l14.m1.3.3.1.1.1.4.cmml" xref="alg2.l14.m1.3.3.1.1.1.4">
            𝑥
           </ci>
           <ci id="alg2.l14.m1.3.3.1.1.1.5.cmml" xref="alg2.l14.m1.3.3.1.1.1.5">
            𝑡
           </ci>
          </apply>
         </list>
         <apply id="alg2.l14.m1.4.4.2.cmml" xref="alg2.l14.m1.4.4.2">
          <times id="alg2.l14.m1.4.4.2.2.cmml" xref="alg2.l14.m1.4.4.2.2">
          </times>
          <ci id="alg2.l14.m1.4.4.2.3a.cmml" xref="alg2.l14.m1.4.4.2.3">
           <mtext class="ltx_font_smallcaps" id="alg2.l14.m1.4.4.2.3.cmml" xref="alg2.l14.m1.4.4.2.3">
            Wilbur
           </mtext>
          </ci>
          <interval closure="open" id="alg2.l14.m1.4.4.2.1.2.cmml" xref="alg2.l14.m1.4.4.2.1.1">
           <ci id="alg2.l14.m1.1.1.cmml" xref="alg2.l14.m1.1.1">
            𝑔
           </ci>
           <apply id="alg2.l14.m1.4.4.2.1.1.1.cmml" xref="alg2.l14.m1.4.4.2.1.1.1">
            <csymbol cd="ambiguous" id="alg2.l14.m1.4.4.2.1.1.1.1.cmml" xref="alg2.l14.m1.4.4.2.1.1.1">
             subscript
            </csymbol>
            <ci id="alg2.l14.m1.4.4.2.1.1.1.2.cmml" xref="alg2.l14.m1.4.4.2.1.1.1.2">
             𝑜
            </ci>
            <cn id="alg2.l14.m1.4.4.2.1.1.1.3.cmml" type="integer" xref="alg2.l14.m1.4.4.2.1.1.1.3">
             0
            </cn>
           </apply>
          </interval>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l14.m1.4c">
        \tau,text\leftarrow\text{{Wilbur}}(g,o_{0})
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text" id="alg2.l14.1" style="float:right;">
      <math alttext="\triangleright" class="ltx_Math" display="inline" id="alg2.l14.1.m1.1">
       <semantics id="alg2.l14.1.m1.1a">
        <mo id="alg2.l14.1.m1.1.1" xref="alg2.l14.1.m1.1.1.cmml">
         ▷
        </mo>
        <annotation-xml encoding="MathML-Content" id="alg2.l14.1.m1.1b">
         <ci id="alg2.l14.1.m1.1.1.cmml" xref="alg2.l14.1.m1.1.1">
          ▷
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg2.l14.1.m1.1c">
         \triangleright
        </annotation>
       </semantics>
      </math>
      Perform actions towards goal
     </span>
    </div>
    <div class="ltx_listingline" id="alg2.l15">
     <span class="ltx_tag ltx_tag_listingline">
      15:
     </span>
     <math alttext="\hat{r}\leftarrow\text{ExecutionSelfEvaluation}(\tau,text)" class="ltx_Math" display="inline" id="alg2.l15.m1.2">
      <semantics id="alg2.l15.m1.2a">
       <mrow id="alg2.l15.m1.2.2" xref="alg2.l15.m1.2.2.cmml">
        <mover accent="true" id="alg2.l15.m1.2.2.3" xref="alg2.l15.m1.2.2.3.cmml">
         <mi id="alg2.l15.m1.2.2.3.2" xref="alg2.l15.m1.2.2.3.2.cmml">
          r
         </mi>
         <mo id="alg2.l15.m1.2.2.3.1" xref="alg2.l15.m1.2.2.3.1.cmml">
          ^
         </mo>
        </mover>
        <mo id="alg2.l15.m1.2.2.2" stretchy="false" xref="alg2.l15.m1.2.2.2.cmml">
         ←
        </mo>
        <mrow id="alg2.l15.m1.2.2.1" xref="alg2.l15.m1.2.2.1.cmml">
         <mtext id="alg2.l15.m1.2.2.1.3" xref="alg2.l15.m1.2.2.1.3a.cmml">
          ExecutionSelfEvaluation
         </mtext>
         <mo id="alg2.l15.m1.2.2.1.2" lspace="0em" rspace="0em" xref="alg2.l15.m1.2.2.1.2.cmml">
          ​
         </mo>
         <mrow id="alg2.l15.m1.2.2.1.1.1" xref="alg2.l15.m1.2.2.1.1.2.cmml">
          <mo id="alg2.l15.m1.2.2.1.1.1.2" stretchy="false" xref="alg2.l15.m1.2.2.1.1.2.cmml">
           (
          </mo>
          <mi id="alg2.l15.m1.1.1" xref="alg2.l15.m1.1.1.cmml">
           τ
          </mi>
          <mo id="alg2.l15.m1.2.2.1.1.1.3" xref="alg2.l15.m1.2.2.1.1.2.cmml">
           ,
          </mo>
          <mrow id="alg2.l15.m1.2.2.1.1.1.1" xref="alg2.l15.m1.2.2.1.1.1.1.cmml">
           <mi id="alg2.l15.m1.2.2.1.1.1.1.2" xref="alg2.l15.m1.2.2.1.1.1.1.2.cmml">
            t
           </mi>
           <mo id="alg2.l15.m1.2.2.1.1.1.1.1" lspace="0em" rspace="0em" xref="alg2.l15.m1.2.2.1.1.1.1.1.cmml">
            ​
           </mo>
           <mi id="alg2.l15.m1.2.2.1.1.1.1.3" xref="alg2.l15.m1.2.2.1.1.1.1.3.cmml">
            e
           </mi>
           <mo id="alg2.l15.m1.2.2.1.1.1.1.1a" lspace="0em" rspace="0em" xref="alg2.l15.m1.2.2.1.1.1.1.1.cmml">
            ​
           </mo>
           <mi id="alg2.l15.m1.2.2.1.1.1.1.4" xref="alg2.l15.m1.2.2.1.1.1.1.4.cmml">
            x
           </mi>
           <mo id="alg2.l15.m1.2.2.1.1.1.1.1b" lspace="0em" rspace="0em" xref="alg2.l15.m1.2.2.1.1.1.1.1.cmml">
            ​
           </mo>
           <mi id="alg2.l15.m1.2.2.1.1.1.1.5" xref="alg2.l15.m1.2.2.1.1.1.1.5.cmml">
            t
           </mi>
          </mrow>
          <mo id="alg2.l15.m1.2.2.1.1.1.4" stretchy="false" xref="alg2.l15.m1.2.2.1.1.2.cmml">
           )
          </mo>
         </mrow>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l15.m1.2b">
        <apply id="alg2.l15.m1.2.2.cmml" xref="alg2.l15.m1.2.2">
         <ci id="alg2.l15.m1.2.2.2.cmml" xref="alg2.l15.m1.2.2.2">
          ←
         </ci>
         <apply id="alg2.l15.m1.2.2.3.cmml" xref="alg2.l15.m1.2.2.3">
          <ci id="alg2.l15.m1.2.2.3.1.cmml" xref="alg2.l15.m1.2.2.3.1">
           ^
          </ci>
          <ci id="alg2.l15.m1.2.2.3.2.cmml" xref="alg2.l15.m1.2.2.3.2">
           𝑟
          </ci>
         </apply>
         <apply id="alg2.l15.m1.2.2.1.cmml" xref="alg2.l15.m1.2.2.1">
          <times id="alg2.l15.m1.2.2.1.2.cmml" xref="alg2.l15.m1.2.2.1.2">
          </times>
          <ci id="alg2.l15.m1.2.2.1.3a.cmml" xref="alg2.l15.m1.2.2.1.3">
           <mtext id="alg2.l15.m1.2.2.1.3.cmml" xref="alg2.l15.m1.2.2.1.3">
            ExecutionSelfEvaluation
           </mtext>
          </ci>
          <interval closure="open" id="alg2.l15.m1.2.2.1.1.2.cmml" xref="alg2.l15.m1.2.2.1.1.1">
           <ci id="alg2.l15.m1.1.1.cmml" xref="alg2.l15.m1.1.1">
            𝜏
           </ci>
           <apply id="alg2.l15.m1.2.2.1.1.1.1.cmml" xref="alg2.l15.m1.2.2.1.1.1.1">
            <times id="alg2.l15.m1.2.2.1.1.1.1.1.cmml" xref="alg2.l15.m1.2.2.1.1.1.1.1">
            </times>
            <ci id="alg2.l15.m1.2.2.1.1.1.1.2.cmml" xref="alg2.l15.m1.2.2.1.1.1.1.2">
             𝑡
            </ci>
            <ci id="alg2.l15.m1.2.2.1.1.1.1.3.cmml" xref="alg2.l15.m1.2.2.1.1.1.1.3">
             𝑒
            </ci>
            <ci id="alg2.l15.m1.2.2.1.1.1.1.4.cmml" xref="alg2.l15.m1.2.2.1.1.1.1.4">
             𝑥
            </ci>
            <ci id="alg2.l15.m1.2.2.1.1.1.1.5.cmml" xref="alg2.l15.m1.2.2.1.1.1.1.5">
             𝑡
            </ci>
           </apply>
          </interval>
         </apply>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l15.m1.2c">
        \hat{r}\leftarrow\text{ExecutionSelfEvaluation}(\tau,text)
       </annotation>
      </semantics>
     </math>
    </div>
    <div class="ltx_listingline" id="alg2.l16">
     <span class="ltx_tag ltx_tag_listingline">
      16:
     </span>
     <math alttext="\text{UpdateDemonstrations}(D_{\tau},D_{a},g^{\prime},v_{\tau})" class="ltx_Math" display="inline" id="alg2.l16.m1.4">
      <semantics id="alg2.l16.m1.4a">
       <mrow id="alg2.l16.m1.4.4" xref="alg2.l16.m1.4.4.cmml">
        <mtext id="alg2.l16.m1.4.4.6" xref="alg2.l16.m1.4.4.6a.cmml">
         UpdateDemonstrations
        </mtext>
        <mo id="alg2.l16.m1.4.4.5" lspace="0em" rspace="0em" xref="alg2.l16.m1.4.4.5.cmml">
         ​
        </mo>
        <mrow id="alg2.l16.m1.4.4.4.4" xref="alg2.l16.m1.4.4.4.5.cmml">
         <mo id="alg2.l16.m1.4.4.4.4.5" stretchy="false" xref="alg2.l16.m1.4.4.4.5.cmml">
          (
         </mo>
         <msub id="alg2.l16.m1.1.1.1.1.1" xref="alg2.l16.m1.1.1.1.1.1.cmml">
          <mi id="alg2.l16.m1.1.1.1.1.1.2" xref="alg2.l16.m1.1.1.1.1.1.2.cmml">
           D
          </mi>
          <mi id="alg2.l16.m1.1.1.1.1.1.3" xref="alg2.l16.m1.1.1.1.1.1.3.cmml">
           τ
          </mi>
         </msub>
         <mo id="alg2.l16.m1.4.4.4.4.6" xref="alg2.l16.m1.4.4.4.5.cmml">
          ,
         </mo>
         <msub id="alg2.l16.m1.2.2.2.2.2" xref="alg2.l16.m1.2.2.2.2.2.cmml">
          <mi id="alg2.l16.m1.2.2.2.2.2.2" xref="alg2.l16.m1.2.2.2.2.2.2.cmml">
           D
          </mi>
          <mi id="alg2.l16.m1.2.2.2.2.2.3" xref="alg2.l16.m1.2.2.2.2.2.3.cmml">
           a
          </mi>
         </msub>
         <mo id="alg2.l16.m1.4.4.4.4.7" xref="alg2.l16.m1.4.4.4.5.cmml">
          ,
         </mo>
         <msup id="alg2.l16.m1.3.3.3.3.3" xref="alg2.l16.m1.3.3.3.3.3.cmml">
          <mi id="alg2.l16.m1.3.3.3.3.3.2" xref="alg2.l16.m1.3.3.3.3.3.2.cmml">
           g
          </mi>
          <mo id="alg2.l16.m1.3.3.3.3.3.3" xref="alg2.l16.m1.3.3.3.3.3.3.cmml">
           ′
          </mo>
         </msup>
         <mo id="alg2.l16.m1.4.4.4.4.8" xref="alg2.l16.m1.4.4.4.5.cmml">
          ,
         </mo>
         <msub id="alg2.l16.m1.4.4.4.4.4" xref="alg2.l16.m1.4.4.4.4.4.cmml">
          <mi id="alg2.l16.m1.4.4.4.4.4.2" xref="alg2.l16.m1.4.4.4.4.4.2.cmml">
           v
          </mi>
          <mi id="alg2.l16.m1.4.4.4.4.4.3" xref="alg2.l16.m1.4.4.4.4.4.3.cmml">
           τ
          </mi>
         </msub>
         <mo id="alg2.l16.m1.4.4.4.4.9" stretchy="false" xref="alg2.l16.m1.4.4.4.5.cmml">
          )
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l16.m1.4b">
        <apply id="alg2.l16.m1.4.4.cmml" xref="alg2.l16.m1.4.4">
         <times id="alg2.l16.m1.4.4.5.cmml" xref="alg2.l16.m1.4.4.5">
         </times>
         <ci id="alg2.l16.m1.4.4.6a.cmml" xref="alg2.l16.m1.4.4.6">
          <mtext id="alg2.l16.m1.4.4.6.cmml" xref="alg2.l16.m1.4.4.6">
           UpdateDemonstrations
          </mtext>
         </ci>
         <vector id="alg2.l16.m1.4.4.4.5.cmml" xref="alg2.l16.m1.4.4.4.4">
          <apply id="alg2.l16.m1.1.1.1.1.1.cmml" xref="alg2.l16.m1.1.1.1.1.1">
           <csymbol cd="ambiguous" id="alg2.l16.m1.1.1.1.1.1.1.cmml" xref="alg2.l16.m1.1.1.1.1.1">
            subscript
           </csymbol>
           <ci id="alg2.l16.m1.1.1.1.1.1.2.cmml" xref="alg2.l16.m1.1.1.1.1.1.2">
            𝐷
           </ci>
           <ci id="alg2.l16.m1.1.1.1.1.1.3.cmml" xref="alg2.l16.m1.1.1.1.1.1.3">
            𝜏
           </ci>
          </apply>
          <apply id="alg2.l16.m1.2.2.2.2.2.cmml" xref="alg2.l16.m1.2.2.2.2.2">
           <csymbol cd="ambiguous" id="alg2.l16.m1.2.2.2.2.2.1.cmml" xref="alg2.l16.m1.2.2.2.2.2">
            subscript
           </csymbol>
           <ci id="alg2.l16.m1.2.2.2.2.2.2.cmml" xref="alg2.l16.m1.2.2.2.2.2.2">
            𝐷
           </ci>
           <ci id="alg2.l16.m1.2.2.2.2.2.3.cmml" xref="alg2.l16.m1.2.2.2.2.2.3">
            𝑎
           </ci>
          </apply>
          <apply id="alg2.l16.m1.3.3.3.3.3.cmml" xref="alg2.l16.m1.3.3.3.3.3">
           <csymbol cd="ambiguous" id="alg2.l16.m1.3.3.3.3.3.1.cmml" xref="alg2.l16.m1.3.3.3.3.3">
            superscript
           </csymbol>
           <ci id="alg2.l16.m1.3.3.3.3.3.2.cmml" xref="alg2.l16.m1.3.3.3.3.3.2">
            𝑔
           </ci>
           <ci id="alg2.l16.m1.3.3.3.3.3.3.cmml" xref="alg2.l16.m1.3.3.3.3.3.3">
            ′
           </ci>
          </apply>
          <apply id="alg2.l16.m1.4.4.4.4.4.cmml" xref="alg2.l16.m1.4.4.4.4.4">
           <csymbol cd="ambiguous" id="alg2.l16.m1.4.4.4.4.4.1.cmml" xref="alg2.l16.m1.4.4.4.4.4">
            subscript
           </csymbol>
           <ci id="alg2.l16.m1.4.4.4.4.4.2.cmml" xref="alg2.l16.m1.4.4.4.4.4.2">
            𝑣
           </ci>
           <ci id="alg2.l16.m1.4.4.4.4.4.3.cmml" xref="alg2.l16.m1.4.4.4.4.4.3">
            𝜏
           </ci>
          </apply>
         </vector>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l16.m1.4c">
        \text{UpdateDemonstrations}(D_{\tau},D_{a},g^{\prime},v_{\tau})
       </annotation>
      </semantics>
     </math>
    </div>
    <div class="ltx_listingline" id="alg2.l17">
     <span class="ltx_tag ltx_tag_listingline">
      17:
     </span>
     <span class="ltx_text ltx_font_bold" id="alg2.l17.1">
      end
     </span>
     <span class="ltx_text ltx_font_bold" id="alg2.l17.2">
      for
     </span>
    </div>
    <div class="ltx_listingline" id="alg2.l18">
     <span class="ltx_tag ltx_tag_listingline">
      18:
     </span>
     <span class="ltx_text ltx_font_bold" id="alg2.l18.1">
      end
     </span>
     <span class="ltx_text ltx_font_bold" id="alg2.l18.2">
      for
     </span>
    </div>
    <div class="ltx_listingline" id="alg2.l19">
     <span class="ltx_tag ltx_tag_listingline">
      19:
     </span>
     <math alttext="\text{TrainKnowledgeModel}(D_{g},D_{a})" class="ltx_Math" display="inline" id="alg2.l19.m1.2">
      <semantics id="alg2.l19.m1.2a">
       <mrow id="alg2.l19.m1.2.2" xref="alg2.l19.m1.2.2.cmml">
        <mtext id="alg2.l19.m1.2.2.4" xref="alg2.l19.m1.2.2.4a.cmml">
         TrainKnowledgeModel
        </mtext>
        <mo id="alg2.l19.m1.2.2.3" lspace="0em" rspace="0em" xref="alg2.l19.m1.2.2.3.cmml">
         ​
        </mo>
        <mrow id="alg2.l19.m1.2.2.2.2" xref="alg2.l19.m1.2.2.2.3.cmml">
         <mo id="alg2.l19.m1.2.2.2.2.3" stretchy="false" xref="alg2.l19.m1.2.2.2.3.cmml">
          (
         </mo>
         <msub id="alg2.l19.m1.1.1.1.1.1" xref="alg2.l19.m1.1.1.1.1.1.cmml">
          <mi id="alg2.l19.m1.1.1.1.1.1.2" xref="alg2.l19.m1.1.1.1.1.1.2.cmml">
           D
          </mi>
          <mi id="alg2.l19.m1.1.1.1.1.1.3" xref="alg2.l19.m1.1.1.1.1.1.3.cmml">
           g
          </mi>
         </msub>
         <mo id="alg2.l19.m1.2.2.2.2.4" xref="alg2.l19.m1.2.2.2.3.cmml">
          ,
         </mo>
         <msub id="alg2.l19.m1.2.2.2.2.2" xref="alg2.l19.m1.2.2.2.2.2.cmml">
          <mi id="alg2.l19.m1.2.2.2.2.2.2" xref="alg2.l19.m1.2.2.2.2.2.2.cmml">
           D
          </mi>
          <mi id="alg2.l19.m1.2.2.2.2.2.3" xref="alg2.l19.m1.2.2.2.2.2.3.cmml">
           a
          </mi>
         </msub>
         <mo id="alg2.l19.m1.2.2.2.2.5" stretchy="false" xref="alg2.l19.m1.2.2.2.3.cmml">
          )
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="alg2.l19.m1.2b">
        <apply id="alg2.l19.m1.2.2.cmml" xref="alg2.l19.m1.2.2">
         <times id="alg2.l19.m1.2.2.3.cmml" xref="alg2.l19.m1.2.2.3">
         </times>
         <ci id="alg2.l19.m1.2.2.4a.cmml" xref="alg2.l19.m1.2.2.4">
          <mtext id="alg2.l19.m1.2.2.4.cmml" xref="alg2.l19.m1.2.2.4">
           TrainKnowledgeModel
          </mtext>
         </ci>
         <interval closure="open" id="alg2.l19.m1.2.2.2.3.cmml" xref="alg2.l19.m1.2.2.2.2">
          <apply id="alg2.l19.m1.1.1.1.1.1.cmml" xref="alg2.l19.m1.1.1.1.1.1">
           <csymbol cd="ambiguous" id="alg2.l19.m1.1.1.1.1.1.1.cmml" xref="alg2.l19.m1.1.1.1.1.1">
            subscript
           </csymbol>
           <ci id="alg2.l19.m1.1.1.1.1.1.2.cmml" xref="alg2.l19.m1.1.1.1.1.1.2">
            𝐷
           </ci>
           <ci id="alg2.l19.m1.1.1.1.1.1.3.cmml" xref="alg2.l19.m1.1.1.1.1.1.3">
            𝑔
           </ci>
          </apply>
          <apply id="alg2.l19.m1.2.2.2.2.2.cmml" xref="alg2.l19.m1.2.2.2.2.2">
           <csymbol cd="ambiguous" id="alg2.l19.m1.2.2.2.2.2.1.cmml" xref="alg2.l19.m1.2.2.2.2.2">
            subscript
           </csymbol>
           <ci id="alg2.l19.m1.2.2.2.2.2.2.cmml" xref="alg2.l19.m1.2.2.2.2.2.2">
            𝐷
           </ci>
           <ci id="alg2.l19.m1.2.2.2.2.2.3.cmml" xref="alg2.l19.m1.2.2.2.2.2.3">
            𝑎
           </ci>
          </apply>
         </interval>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="alg2.l19.m1.2c">
        \text{TrainKnowledgeModel}(D_{g},D_{a})
       </annotation>
      </semantics>
     </math>
     <span class="ltx_text" id="alg2.l19.1" style="float:right;">
      <math alttext="\triangleright" class="ltx_Math" display="inline" id="alg2.l19.1.m1.1">
       <semantics id="alg2.l19.1.m1.1a">
        <mo id="alg2.l19.1.m1.1.1" xref="alg2.l19.1.m1.1.1.cmml">
         ▷
        </mo>
        <annotation-xml encoding="MathML-Content" id="alg2.l19.1.m1.1b">
         <ci id="alg2.l19.1.m1.1.1.cmml" xref="alg2.l19.1.m1.1.1">
          ▷
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg2.l19.1.m1.1c">
         \triangleright
        </annotation>
       </semantics>
      </math>
      Finetune model with demonstrations
     </span>
    </div>
   </div>
  </figure>
 </section>
 <section class="ltx_appendix" id="A4">
  <h2 class="ltx_title ltx_title_appendix">
   <span class="ltx_tag ltx_tag_appendix">
    Appendix D
   </span>
   Computation Cost of
   <span class="ltx_text ltx_font_smallcaps" id="A4.1.1">
    Wilbur
   </span>
  </h2>
  <div class="ltx_para ltx_noindent" id="A4.p1">
   <p class="ltx_p" id="A4.p1.1">
    In Table
    <a class="ltx_ref" href="#A4.T2" title="Table 2 ‣ Appendix D Computation Cost of Wilbur ‣ Wilbur: Adaptive In-Context Learning for Robust and Accurate Web Agents">
     <span class="ltx_text ltx_ref_tag">
      2
     </span>
    </a>
    we show the number of actor LLM calls used by
    <span class="ltx_text ltx_font_smallcaps" id="A4.p1.1.1">
     Wilbur
    </span>
    and the different ablated baselines. We see that while adding in-context learning examples decreases the number of steps required by the agent, the added synthesis step leads to a sharp increase again.
    <span class="ltx_text ltx_font_smallcaps" id="A4.p1.1.2">
     Wilbur
    </span>
    , however, utilizing the demonstrating ranking model, is able to filter out bad fewshot examples to lower the average steps to success.
   </p>
  </div>
  <figure class="ltx_table" id="A4.T2">
   <figcaption class="ltx_caption">
    <span class="ltx_tag ltx_tag_table">
     Table 2:
    </span>
    Average number of actor LLM calls on successful executions on the WebVoyager benchmark
   </figcaption>
   <table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A4.T2.3">
    <thead class="ltx_thead">
     <tr class="ltx_tr" id="A4.T2.3.4.1">
      <th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="A4.T2.3.4.1.1">
      </th>
      <th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="A4.T2.3.4.1.2">
       <span class="ltx_text ltx_font_bold" id="A4.T2.3.4.1.2.1">
        # calls
       </span>
      </th>
     </tr>
    </thead>
    <tbody class="ltx_tbody">
     <tr class="ltx_tr" id="A4.T2.3.5.1">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A4.T2.3.5.1.1">
       Zero-shot
      </th>
      <td class="ltx_td ltx_align_right ltx_border_t" id="A4.T2.3.5.1.2">
       6.72
      </td>
     </tr>
     <tr class="ltx_tr" id="A4.T2.1.1">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A4.T2.1.1.1">
       <math alttext="+" class="ltx_Math" display="inline" id="A4.T2.1.1.1.m1.1">
        <semantics id="A4.T2.1.1.1.m1.1a">
         <mo id="A4.T2.1.1.1.m1.1.1" xref="A4.T2.1.1.1.m1.1.1.cmml">
          +
         </mo>
         <annotation-xml encoding="MathML-Content" id="A4.T2.1.1.1.m1.1b">
          <plus id="A4.T2.1.1.1.m1.1.1.cmml" xref="A4.T2.1.1.1.m1.1.1">
          </plus>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="A4.T2.1.1.1.m1.1c">
          +
         </annotation>
        </semantics>
       </math>
       Backtrack
      </th>
      <td class="ltx_td ltx_align_right" id="A4.T2.1.1.2">
       6.43
      </td>
     </tr>
     <tr class="ltx_tr" id="A4.T2.2.2">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A4.T2.2.2.1">
       <math alttext="+" class="ltx_Math" display="inline" id="A4.T2.2.2.1.m1.1">
        <semantics id="A4.T2.2.2.1.m1.1a">
         <mo id="A4.T2.2.2.1.m1.1.1" xref="A4.T2.2.2.1.m1.1.1.cmml">
          +
         </mo>
         <annotation-xml encoding="MathML-Content" id="A4.T2.2.2.1.m1.1b">
          <plus id="A4.T2.2.2.1.m1.1.1.cmml" xref="A4.T2.2.2.1.m1.1.1">
          </plus>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="A4.T2.2.2.1.m1.1c">
          +
         </annotation>
        </semantics>
       </math>
       Demonstrations
      </th>
      <td class="ltx_td ltx_align_right" id="A4.T2.2.2.2">
       <span class="ltx_text ltx_font_bold" id="A4.T2.2.2.2.1">
        4.34
       </span>
      </td>
     </tr>
     <tr class="ltx_tr" id="A4.T2.3.3">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A4.T2.3.3.1">
       <math alttext="+" class="ltx_Math" display="inline" id="A4.T2.3.3.1.m1.1">
        <semantics id="A4.T2.3.3.1.m1.1a">
         <mo id="A4.T2.3.3.1.m1.1.1" xref="A4.T2.3.3.1.m1.1.1.cmml">
          +
         </mo>
         <annotation-xml encoding="MathML-Content" id="A4.T2.3.3.1.m1.1b">
          <plus id="A4.T2.3.3.1.m1.1.1.cmml" xref="A4.T2.3.3.1.m1.1.1">
          </plus>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="A4.T2.3.3.1.m1.1c">
          +
         </annotation>
        </semantics>
       </math>
       Synthesis
      </th>
      <td class="ltx_td ltx_align_right" id="A4.T2.3.3.2">
       7.19
      </td>
     </tr>
     <tr class="ltx_tr" id="A4.T2.3.6.2">
      <th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A4.T2.3.6.2.1">
       <span class="ltx_text ltx_font_smallcaps" id="A4.T2.3.6.2.1.1">
        Wilbur
       </span>
      </th>
      <td class="ltx_td ltx_align_right ltx_border_bb" id="A4.T2.3.6.2.2">
       5.33
      </td>
     </tr>
    </tbody>
   </table>
  </figure>
 </section>
</article>
