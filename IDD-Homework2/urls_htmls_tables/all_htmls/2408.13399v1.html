<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning</title>
<!--Generated on Fri Aug 23 22:47:25 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Information Retrieval,  Audience Expansion,  Location based search systems,  Machine Learning,  Deep Learning,  Reinforcement Learning,  E-commerce" lang="en" name="keywords"/>
<base href="/html/2408.13399v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S1" title="In Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S2" title="In Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Cold Start Heuristics for Location Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S3" title="In Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Statistics based Location Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S4" title="In Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Machine Learning based Location Retrieval</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S4.SS1" title="In 4. Machine Learning based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>The opportunity</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S4.SS2" title="In 4. Machine Learning based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>The Approach</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S5" title="In Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>
<span class="ltx_text ltx_font_bold">Reinforcement Learning Based Location Retrieval</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S5.SS1" title="In 5. Reinforcement Learning Based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span><span class="ltx_text ltx_font_bold">The opportunity</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S5.SS2" title="In 5. Reinforcement Learning Based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span><span class="ltx_text ltx_font_bold">The challenge of location retrieval exploration</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S5.SS3" title="In 5. Reinforcement Learning Based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Active Contextual Estimation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S5.SS4" title="In 5. Reinforcement Learning Based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>Uncertainty Estimation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S5.SS5" title="In 5. Reinforcement Learning Based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.5 </span>Exploration Strategy</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S5.SS6" title="In 5. Reinforcement Learning Based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.6 </span><span class="ltx_text ltx_font_bold">The Approach for Location Retrieval Exploration </span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S6" title="In Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Experimental Results</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S6.SS1" title="In 6. Experimental Results ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1 </span><span class="ltx_text ltx_font_bold">Overview</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S6.SS2" title="In 6. Experimental Results ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2 </span><span class="ltx_text ltx_font_bold">Cold Start Heuristic based Location Retrieval</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S6.SS3" title="In 6. Experimental Results ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.3 </span><span class="ltx_text ltx_font_bold">Statistics based Location Retrieval</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S6.SS4" title="In 6. Experimental Results ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.4 </span><span class="ltx_text ltx_font_bold">Machine Learning based Location Retrieval</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S6.SS5" title="In 6. Experimental Results ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.5 </span><span class="ltx_text ltx_font_bold">Reinforcement Learning based Location Retrieval</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S7" title="In Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Dillon Davis
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:dillon.davis@airbnb.com">dillon.davis@airbnb.com</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/1234-5678-9012" title="ORCID identifier">1234-5678-9012</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">Relevance</span><span class="ltx_text ltx_affiliation_institution" id="id2.2.id2">Airbnb, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id3.3.id3">San Francisco, CA</span><span class="ltx_text ltx_affiliation_country" id="id4.4.id4">USA</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Huiji Gao
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:huiji.gao@airbnb.com">huiji.gao@airbnb.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id5.1.id1">Relevance</span><span class="ltx_text ltx_affiliation_institution" id="id6.2.id2">Airbnb, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id7.3.id3">San Francisco, CA</span><span class="ltx_text ltx_affiliation_country" id="id8.4.id4">USA</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Weiwei Guo
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:weiwei.guo@airbnb.com">weiwei.guo@airbnb.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id9.1.id1">Relevance</span><span class="ltx_text ltx_affiliation_institution" id="id10.2.id2">Airbnb, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id11.3.id3">San Francisco, CA</span><span class="ltx_text ltx_affiliation_country" id="id12.4.id4">USA</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Thomas Legrand
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:thomas.legrand@airbnb.com">thomas.legrand@airbnb.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id13.1.id1">Relevance</span><span class="ltx_text ltx_affiliation_institution" id="id14.2.id2">Airbnb, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id15.3.id3">San Francisco, CA</span><span class="ltx_text ltx_affiliation_country" id="id16.4.id4">USA</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Malay Haldar
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:malay.haldar@airbnb.com">malay.haldar@airbnb.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id17.1.id1">Relevance</span><span class="ltx_text ltx_affiliation_institution" id="id18.2.id2">Airbnb, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id19.3.id3">San Francisco, CA</span><span class="ltx_text ltx_affiliation_country" id="id20.4.id4">USA</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Alex Deng
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:alex.deng@airbnb.com">alex.deng@airbnb.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id21.1.id1">Relevance</span><span class="ltx_text ltx_affiliation_institution" id="id22.2.id2">Airbnb, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id23.3.id3">San Francisco, CA</span><span class="ltx_text ltx_affiliation_country" id="id24.4.id4">USA</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Han Zhao
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:han.zhao@airbnb.com">han.zhao@airbnb.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id25.1.id1">Relevance</span><span class="ltx_text ltx_affiliation_institution" id="id26.2.id2">Airbnb, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id27.3.id3">San Francisco, CA</span><span class="ltx_text ltx_affiliation_country" id="id28.4.id4">USA</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Liwei He
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:liwei.he@airbnb.com">liwei.he@airbnb.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id29.1.id1">Relevance</span><span class="ltx_text ltx_affiliation_institution" id="id30.2.id2">Airbnb, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id31.3.id3">San Francisco, CA</span><span class="ltx_text ltx_affiliation_country" id="id32.4.id4">USA</span>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Sanjeev Katariya
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:sanjeev.katariya@airbnb.com">sanjeev.katariya@airbnb.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id33.1.id1">Relevance</span><span class="ltx_text ltx_affiliation_institution" id="id34.2.id2">Airbnb, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id35.3.id3">San Francisco, CA</span><span class="ltx_text ltx_affiliation_country" id="id36.4.id4">USA</span>
</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id37.id1">The Airbnb search system grapples with many unique challenges as it continues to evolve. We oversee a marketplace that is nuanced by geography, diversity of homes, and guests with a variety of preferences. Crafting an efficient search system that can accommodate diverse guest needs, while showcasing relevant homes lies at the heart of Airbnb’s success. Airbnb search has many challenges that parallel other recommendation and search systems but it has a unique information retrieval problem, upstream of ranking, called location retrieval. It requires defining a topological map area that is relevant to the searched query for homes listing retrieval. The purpose of this paper is to demonstrate the methodology, challenges, and impact of building a machine learning based location retrieval product from the ground up. Despite the lack of suitable, prevalent machine learning based approaches, we tackle cold start, generalization, differentiation and algorithmic bias. We detail the efficacy of heuristics, statistics, machine learning, and reinforcement learning approaches to solve these challenges, particularly for systems that are often unexplored by current literature.</p>
</div>
<div class="ltx_keywords">Information Retrieval, Audience Expansion, Location based search systems, Machine Learning, Deep Learning, Reinforcement Learning, E-commerce
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>none</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Recommender systems</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Novelty in information retrieval</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Query intent</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Applied computing Online shopping</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Airbnb is a trusted platform for hosts with diverse homes everywhere around the world. It serves guests with increasingly unique preferences about location, amenities, style, price, and more.
Traditional travel accommodations are often concentrated in a few limited areas of a searched location. However, Airbnb often has inventory spread throughout the surrounding areas with varying density, amenities, styles, prices, space, and environments. For example, a family who may not like the limited inventory available in a city with short term rental regulations, typically might stay at a hotel for a trip. However, single family home inventory in cities right outside of the regulated city may suit them much better than the semiprivate, smaller accommodations in the city. This is evidenced by the extensive booking behavior of San Francisco searchers in surrounding areas like Daly City, shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">1</span></a>. 
<br class="ltx_break"/></p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="567" id="S1.F1.g1" src="extracted/5810497/sf_heatmap_and_offsets.png" width="449"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.2.1.1" style="font-size:90%;">Figure 1</span>. </span><span class="ltx_text" id="S1.F1.3.2" style="font-size:90%;">Heatmap of booked listing locations for guests who searched for ”San Francisco, CA”</span></figcaption>
</figure>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.2">This presents Airbnb the opportunity to truly allow any guest to belong anywhere, regardless of their needs. We can infer where guests <span class="ltx_text ltx_font_bold" id="S1.p2.2.1">might</span> be willing to stay for any given destination and expose different kinds of inventory available across those destinations. If we can do this, while respecting their flexibility and preferences, we can provide guests with much better travel experiences and appeal to a wider audience. 
<br class="ltx_break"/><span class="ltx_text" id="S1.p2.2.2"></span> A typical guest journey starts by entering a destination into the search bar (a location search) and receiving a list of the top ranked, most bookable results for their search. Some guests (<math alttext="\sim" class="ltx_Math" display="inline" id="S1.p2.1.m1.1"><semantics id="S1.p2.1.m1.1a"><mo id="S1.p2.1.m1.1.1" xref="S1.p2.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S1.p2.1.m1.1b"><csymbol cd="latexml" id="S1.p2.1.m1.1.1.cmml" xref="S1.p2.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S1.p2.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S1.p2.1.m1.1d">∼</annotation></semantics></math>52%) then pan and zoom the displayed map (a map search) to find more listings that may be more suitable for them. Many guests never go beyond the initial location search to explore Airbnb’s diverse inventory in more detail. Exposing this unique, differentiated, bookable inventory in the initial location search can help all guests better understand the breadth and depth of Airbnb’s offerings. 
<br class="ltx_break"/><span class="ltx_text" id="S1.p2.2.3"></span> Airbnb has incredible scale with over 7M+ active listings, <math alttext="\sim" class="ltx_Math" display="inline" id="S1.p2.2.m2.1"><semantics id="S1.p2.2.m2.1a"><mo id="S1.p2.2.m2.1.1" xref="S1.p2.2.m2.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S1.p2.2.m2.1b"><csymbol cd="latexml" id="S1.p2.2.m2.1.1.cmml" xref="S1.p2.2.m2.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S1.p2.2.m2.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S1.p2.2.m2.1d">∼</annotation></semantics></math>390M nights booked per year and proportionately large search volume. It also has complex ranking systems with strict performance and product expectations. As a result, it is infeasible to rank <span class="ltx_text ltx_font_bold" id="S1.p2.2.4">every listing</span> for <span class="ltx_text ltx_font_bold" id="S1.p2.2.5">every search</span>. We also cannot simply filter by whether a listing matches the exact searched location, due to the value and diverse amenities of listings in surrounding areas discussed above. Our search system requires defining a rectangular area on the map, known as <span class="ltx_text ltx_font_bold ltx_font_italic" id="S1.p2.2.6">retrieval bounds</span>. These retrieval bounds are used to filter our inventory to a reasonable set of listings that any guest would <span class="ltx_text ltx_font_bold" id="S1.p2.2.7">ever</span> book for the search. The search ranking models described in <cite class="ltx_cite ltx_citemacro_citep">(Abdool et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib2" title="">2020</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Haldar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib9" title="">2019</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Haldar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib10" title="">2020</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Tan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib18" title="">2023</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Haldar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib8" title="">2023</a>)</cite> then determine the most relevant and bookable listings in these retrieval bounds, which are shown to Airbnb’s guests. This flow is outlined below in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S1.F2" title="Figure 2 ‣ 1. Introduction ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">2</span></a>
<br class="ltx_break"/></p>
</div>
<figure class="ltx_figure" id="S1.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="243" id="S1.F2.g1" src="extracted/5810497/system_architecture.png" width="449"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F2.2.1.1" style="font-size:90%;">Figure 2</span>. </span><span class="ltx_text" id="S1.F2.3.2" style="font-size:90%;">Location Retrieval System Architecture</span></figcaption>
</figure>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1"><span class="ltx_text" id="S1.p3.1.1"></span> These retrieval bounds are set by the guest for map searches but they are inferred for location searches. This retrieval bound inference based on the location and other search parameters is known as <span class="ltx_text ltx_font_bold ltx_font_italic" id="S1.p3.1.2">location retrieval</span>. It allows us to include the bookable Daly City inventory, demonstrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">1</span></a>, for a San Francisco search, albeit typically ranked much lower since it does not strictly respect the guest’s search criteria. Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">1</span></a> also shows the inferred retrieval bounds in blue for a sample San Francisco location search. 
<br class="ltx_break"/></p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1"><span class="ltx_text" id="S1.p4.1.1"></span> Location retrieval trades off increasing the size, quality, and diversity of the final result set for a search, at the cost of latency and potential location irrelevance. For example, narrow retrieval bounds can eliminate listings that might be relevant to a guest. On the other hand, wide retrieval bounds can include irrelevant listings and slow down search. 
<br class="ltx_break"/><span class="ltx_text" id="S1.p4.1.2"></span> This presented the opportunity of building a data and machine learning driven product solution from the ground up to deeply understand this trade off by capturing booking preferences. However, understanding these preferences requires developing an end-to-end solution that collects, models, and enhances booking behavior data, by tackling the following unique challenges:</p>
<ol class="ltx_enumerate" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i1.p1.1.1">Cold Start</span>: How can we develop an intuitive, initial solution with little prior data while enabling data collection?</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i2.p1.1.1">Generalization and Differentiation</span>: How can we use prior data and bookings to build an ML solution that can generalize across searches and differentiate experiences?</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i3.p1.1.1">Reinforcement</span>: How can we enhance data collected from bookings to build a robust, unbiased, high confidence model?</p>
</div>
</li>
</ol>
<p class="ltx_p" id="S1.p4.2">There is little existing work on how to tackle the location retrieval problem even though location based search is used across the web every day on products like Yelp™, Google Maps™, Booking.com™, and Zillow™. The closest task is audience expansion for applications like marketing and ads which have been explored by many <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib14" title="">2016</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Zhuang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib19" title="">2020</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Chan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib5" title="">2021</a>)</cite>. However, none of their approaches could directly be applied due to the large differences in task construction and output such as optimizing similarity instead of diversity and product experience constraints regarding the distance of listings. This paper will go over the evolution and efficacy of solutions for the outlined challenges, including simple heuristics, statistics, machine learning and reinforcement learning, with an emphasis on the application of reinforcement learning.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Cold Start Heuristics for Location Retrieval</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.6"><span class="ltx_text" id="S2.p1.6.1"></span> The initial approach for location retrieval was simple heuristics based on the type of location that was searched, i.e., country, state, city, neighborhood, address, etc. They typically took advantage of the administrative bounds that outline the exact map area corresponding to the searched location. The heuristics for each location type are outlined below.</p>
<ol class="ltx_enumerate" id="S2.I1">
<li class="ltx_item" id="S2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S2.I1.i1.p1">
<p class="ltx_p" id="S2.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S2.I1.i1.p1.1.1">Countries, states, neighborhoods (Heuristic 1)</span>: Use the administrative bounds from geocoding services to retrieve listings that are exactly within the searched location.</p>
</div>
</li>
<li class="ltx_item" id="S2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S2.I1.i2.p1">
<p class="ltx_p" id="S2.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S2.I1.i2.p1.1.1">Cities (Heuristic 2)</span>: We construct retrieval bounds with a 25 mile radius around the searched location’s center</p>
</div>
</li>
<li class="ltx_item" id="S2.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S2.I1.i3.p1">
<p class="ltx_p" id="S2.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S2.I1.i3.p1.1.1">Addresses and buildings (Heuristic 3)</span>: We used retrieval bounds constructed by scaling the administrative bounds from geocoding services by 2.5X to prevent showing little to no results and better match booking behavior.</p>
</div>
</li>
</ol>
<p class="ltx_p" id="S2.p1.3"><span class="ltx_text" id="S2.p1.3.1"></span> These heuristics served as simple cold start techniques that allowed the product to function as intended as well as collect information over time about booking preferences. We also improved <span class="ltx_text ltx_font_bold" id="S2.p1.3.2">Heuristic 3</span> by introducing a parameterized smooth function that computes an expansion factor for the original diagonal size of the administrative bounds <span class="ltx_text ltx_font_bold" id="S2.p1.3.3">(Heuristic 4)</span>. The log scale function <math alttext="f" class="ltx_Math" display="inline" id="S2.p1.1.m1.1"><semantics id="S2.p1.1.m1.1a"><mi id="S2.p1.1.m1.1.1" xref="S2.p1.1.m1.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S2.p1.1.m1.1b"><ci id="S2.p1.1.m1.1.1.cmml" xref="S2.p1.1.m1.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.1.m1.1c">f</annotation><annotation encoding="application/x-llamapun" id="S2.p1.1.m1.1d">italic_f</annotation></semantics></math> scaled the original diagonal size by a hyperparameter <math alttext="\mathbf{\beta}" class="ltx_Math" display="inline" id="S2.p1.2.m2.1"><semantics id="S2.p1.2.m2.1a"><mi id="S2.p1.2.m2.1.1" xref="S2.p1.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S2.p1.2.m2.1b"><ci id="S2.p1.2.m2.1.1.cmml" xref="S2.p1.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.2.m2.1c">\mathbf{\beta}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.2.m2.1d">italic_β</annotation></semantics></math> and offset <math alttext="\mathbf{\alpha}" class="ltx_Math" display="inline" id="S2.p1.3.m3.1"><semantics id="S2.p1.3.m3.1a"><mi id="S2.p1.3.m3.1.1" xref="S2.p1.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S2.p1.3.m3.1b"><ci id="S2.p1.3.m3.1.1.cmml" xref="S2.p1.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.3.m3.1c">\mathbf{\alpha}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.3.m3.1d">italic_α</annotation></semantics></math> shown below. This function better captured inventory in the surrounding areas of these very specific locations, providing guests with more options.</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="f(d)=max(1.0,\alpha+\beta*ln(d+1))." class="ltx_Math" display="block" id="S2.E1.m1.3"><semantics id="S2.E1.m1.3a"><mrow id="S2.E1.m1.3.3.1" xref="S2.E1.m1.3.3.1.1.cmml"><mrow id="S2.E1.m1.3.3.1.1" xref="S2.E1.m1.3.3.1.1.cmml"><mrow id="S2.E1.m1.3.3.1.1.3" xref="S2.E1.m1.3.3.1.1.3.cmml"><mi id="S2.E1.m1.3.3.1.1.3.2" xref="S2.E1.m1.3.3.1.1.3.2.cmml">f</mi><mo id="S2.E1.m1.3.3.1.1.3.1" xref="S2.E1.m1.3.3.1.1.3.1.cmml">⁢</mo><mrow id="S2.E1.m1.3.3.1.1.3.3.2" xref="S2.E1.m1.3.3.1.1.3.cmml"><mo id="S2.E1.m1.3.3.1.1.3.3.2.1" stretchy="false" xref="S2.E1.m1.3.3.1.1.3.cmml">(</mo><mi id="S2.E1.m1.1.1" xref="S2.E1.m1.1.1.cmml">d</mi><mo id="S2.E1.m1.3.3.1.1.3.3.2.2" stretchy="false" xref="S2.E1.m1.3.3.1.1.3.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.3.3.1.1.2" xref="S2.E1.m1.3.3.1.1.2.cmml">=</mo><mrow id="S2.E1.m1.3.3.1.1.1" xref="S2.E1.m1.3.3.1.1.1.cmml"><mi id="S2.E1.m1.3.3.1.1.1.3" xref="S2.E1.m1.3.3.1.1.1.3.cmml">m</mi><mo id="S2.E1.m1.3.3.1.1.1.2" xref="S2.E1.m1.3.3.1.1.1.2.cmml">⁢</mo><mi id="S2.E1.m1.3.3.1.1.1.4" xref="S2.E1.m1.3.3.1.1.1.4.cmml">a</mi><mo id="S2.E1.m1.3.3.1.1.1.2a" xref="S2.E1.m1.3.3.1.1.1.2.cmml">⁢</mo><mi id="S2.E1.m1.3.3.1.1.1.5" xref="S2.E1.m1.3.3.1.1.1.5.cmml">x</mi><mo id="S2.E1.m1.3.3.1.1.1.2b" xref="S2.E1.m1.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S2.E1.m1.3.3.1.1.1.1.1" xref="S2.E1.m1.3.3.1.1.1.1.2.cmml"><mo id="S2.E1.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="S2.E1.m1.3.3.1.1.1.1.2.cmml">(</mo><mn id="S2.E1.m1.2.2" xref="S2.E1.m1.2.2.cmml">1.0</mn><mo id="S2.E1.m1.3.3.1.1.1.1.1.3" xref="S2.E1.m1.3.3.1.1.1.1.2.cmml">,</mo><mrow id="S2.E1.m1.3.3.1.1.1.1.1.1" xref="S2.E1.m1.3.3.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.3.3.1.1.1.1.1.1.3" xref="S2.E1.m1.3.3.1.1.1.1.1.1.3.cmml">α</mi><mo id="S2.E1.m1.3.3.1.1.1.1.1.1.2" xref="S2.E1.m1.3.3.1.1.1.1.1.1.2.cmml">+</mo><mrow id="S2.E1.m1.3.3.1.1.1.1.1.1.1" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.cmml"><mrow id="S2.E1.m1.3.3.1.1.1.1.1.1.1.3" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.2" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.2.cmml">β</mi><mo id="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.1.cmml">∗</mo><mi id="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.3" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.3.cmml">l</mi></mrow><mo id="S2.E1.m1.3.3.1.1.1.1.1.1.1.2" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S2.E1.m1.3.3.1.1.1.1.1.1.1.4" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.4.cmml">n</mi><mo id="S2.E1.m1.3.3.1.1.1.1.1.1.1.2a" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml">d</mi><mo id="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mn id="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E1.m1.3.3.1.1.1.1.1.4" stretchy="false" xref="S2.E1.m1.3.3.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E1.m1.3.3.1.2" lspace="0em" xref="S2.E1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.3b"><apply id="S2.E1.m1.3.3.1.1.cmml" xref="S2.E1.m1.3.3.1"><eq id="S2.E1.m1.3.3.1.1.2.cmml" xref="S2.E1.m1.3.3.1.1.2"></eq><apply id="S2.E1.m1.3.3.1.1.3.cmml" xref="S2.E1.m1.3.3.1.1.3"><times id="S2.E1.m1.3.3.1.1.3.1.cmml" xref="S2.E1.m1.3.3.1.1.3.1"></times><ci id="S2.E1.m1.3.3.1.1.3.2.cmml" xref="S2.E1.m1.3.3.1.1.3.2">𝑓</ci><ci id="S2.E1.m1.1.1.cmml" xref="S2.E1.m1.1.1">𝑑</ci></apply><apply id="S2.E1.m1.3.3.1.1.1.cmml" xref="S2.E1.m1.3.3.1.1.1"><times id="S2.E1.m1.3.3.1.1.1.2.cmml" xref="S2.E1.m1.3.3.1.1.1.2"></times><ci id="S2.E1.m1.3.3.1.1.1.3.cmml" xref="S2.E1.m1.3.3.1.1.1.3">𝑚</ci><ci id="S2.E1.m1.3.3.1.1.1.4.cmml" xref="S2.E1.m1.3.3.1.1.1.4">𝑎</ci><ci id="S2.E1.m1.3.3.1.1.1.5.cmml" xref="S2.E1.m1.3.3.1.1.1.5">𝑥</ci><interval closure="open" id="S2.E1.m1.3.3.1.1.1.1.2.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1"><cn id="S2.E1.m1.2.2.cmml" type="float" xref="S2.E1.m1.2.2">1.0</cn><apply id="S2.E1.m1.3.3.1.1.1.1.1.1.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1"><plus id="S2.E1.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.2"></plus><ci id="S2.E1.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.3">𝛼</ci><apply id="S2.E1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1"><times id="S2.E1.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.2"></times><apply id="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.3"><times id="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.1"></times><ci id="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.2">𝛽</ci><ci id="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.3.3">𝑙</ci></apply><ci id="S2.E1.m1.3.3.1.1.1.1.1.1.1.4.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.4">𝑛</ci><apply id="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1"><plus id="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1"></plus><ci id="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2">𝑑</ci><cn id="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S2.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3">1</cn></apply></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.3c">f(d)=max(1.0,\alpha+\beta*ln(d+1)).</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.3d">italic_f ( italic_d ) = italic_m italic_a italic_x ( 1.0 , italic_α + italic_β ∗ italic_l italic_n ( italic_d + 1 ) ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.p1.5">where d is the administrative bounds diagonal size, <math alttext="\alpha=2.9" class="ltx_Math" display="inline" id="S2.p1.4.m1.1"><semantics id="S2.p1.4.m1.1a"><mrow id="S2.p1.4.m1.1.1" xref="S2.p1.4.m1.1.1.cmml"><mi id="S2.p1.4.m1.1.1.2" xref="S2.p1.4.m1.1.1.2.cmml">α</mi><mo id="S2.p1.4.m1.1.1.1" xref="S2.p1.4.m1.1.1.1.cmml">=</mo><mn id="S2.p1.4.m1.1.1.3" xref="S2.p1.4.m1.1.1.3.cmml">2.9</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.4.m1.1b"><apply id="S2.p1.4.m1.1.1.cmml" xref="S2.p1.4.m1.1.1"><eq id="S2.p1.4.m1.1.1.1.cmml" xref="S2.p1.4.m1.1.1.1"></eq><ci id="S2.p1.4.m1.1.1.2.cmml" xref="S2.p1.4.m1.1.1.2">𝛼</ci><cn id="S2.p1.4.m1.1.1.3.cmml" type="float" xref="S2.p1.4.m1.1.1.3">2.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.4.m1.1c">\alpha=2.9</annotation><annotation encoding="application/x-llamapun" id="S2.p1.4.m1.1d">italic_α = 2.9</annotation></semantics></math> and <math alttext="\beta=-0.5" class="ltx_Math" display="inline" id="S2.p1.5.m2.1"><semantics id="S2.p1.5.m2.1a"><mrow id="S2.p1.5.m2.1.1" xref="S2.p1.5.m2.1.1.cmml"><mi id="S2.p1.5.m2.1.1.2" xref="S2.p1.5.m2.1.1.2.cmml">β</mi><mo id="S2.p1.5.m2.1.1.1" xref="S2.p1.5.m2.1.1.1.cmml">=</mo><mrow id="S2.p1.5.m2.1.1.3" xref="S2.p1.5.m2.1.1.3.cmml"><mo id="S2.p1.5.m2.1.1.3a" xref="S2.p1.5.m2.1.1.3.cmml">−</mo><mn id="S2.p1.5.m2.1.1.3.2" xref="S2.p1.5.m2.1.1.3.2.cmml">0.5</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.5.m2.1b"><apply id="S2.p1.5.m2.1.1.cmml" xref="S2.p1.5.m2.1.1"><eq id="S2.p1.5.m2.1.1.1.cmml" xref="S2.p1.5.m2.1.1.1"></eq><ci id="S2.p1.5.m2.1.1.2.cmml" xref="S2.p1.5.m2.1.1.2">𝛽</ci><apply id="S2.p1.5.m2.1.1.3.cmml" xref="S2.p1.5.m2.1.1.3"><minus id="S2.p1.5.m2.1.1.3.1.cmml" xref="S2.p1.5.m2.1.1.3"></minus><cn id="S2.p1.5.m2.1.1.3.2.cmml" type="float" xref="S2.p1.5.m2.1.1.3.2">0.5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.5.m2.1c">\beta=-0.5</annotation><annotation encoding="application/x-llamapun" id="S2.p1.5.m2.1d">italic_β = - 0.5</annotation></semantics></math>. Hyperparameter values were chosen by maximizing expansion while still respecting the performance constraints of our search system.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Statistics based Location Retrieval</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1"><span class="ltx_text" id="S3.p1.1.1"></span> After solving cold start, we slowly collected millions of examples of bookings indicating where a guest is willing to stay when they search for a particular location. However, the naive cold start solutions often returned few, unbookable search results. This led us to ask: what’s the simplest way we can use this data to deliver a search experience that’s more aligned with guest booking behavior? 
<br class="ltx_break"/><span class="ltx_text" id="S3.p1.1.2"></span> The simplest solution was to build a dataset for each travel destination, with locations of listings that are booked when guests search for that destination. We then constructed retrieval bounds that contained 96% of the booked listing locations that were closest to the center of a given searched location, and applied a small expansion factor on top of that. This was selected to maximize expansion while still respecting the performance constraints of our search system. These retrieval bounds were simply keyed by the searched location and were not differentiated based on other search parameters, such as trip dates and number of guests. 
<br class="ltx_break"/><span class="ltx_text" id="S3.p1.1.3"></span> We believed that this solution would be much more robust than the naive heuristics above because it aligned better with guest’s booking behavior in a simple intuitive manner.</p>
</div>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Machine Learning based Location Retrieval</h2>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>The opportunity</h3>
<figure class="ltx_figure" id="S4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_img_portrait" height="566" id="S4.F3.g1" src="extracted/5810497/sf_heatmap_group.png" width="449"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F3.2.1.1" style="font-size:90%;">Figure 3</span>. </span><span class="ltx_text" id="S4.F3.3.2" style="font-size:90%;">Heatmap of booked listing locations for guests who searched for ”San Francisco, CA” with guest count ¿= 10</span></figcaption>
</figure>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1"><span class="ltx_text" id="S4.SS1.p1.1.1"></span> Beyond naively applying where Airbnb’s guests had booked in the past for a location, we believed that there was an opportunity to <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.2">learn</span> from this data. This could generalize better for locations with little data, differentiate search experiences based on specific search parameters, and improve the experiences of non-bookers by learning from booker behavior. 
<br class="ltx_break"/><span class="ltx_text" id="S4.SS1.p1.1.3"></span> For example, large group travelers searching for San Francisco book in significantly different locations than San Francisco searchers overall, demonstrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">1</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S4.F3" title="Figure 3 ‣ 4.1. The opportunity ‣ 4. Machine Learning based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">3</span></a>. Differentiating search experiences based on parameters like guest count and lead time could potentially provide more succinct, relevant results for guests.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>The Approach</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.3"><span class="ltx_text" id="S4.SS2.p1.3.1"></span> The location retrieval problem can be formulated in the following way in order to generalize and differentiate searches based on prior data and search parameters. We define the location retrieval model as a function <math alttext="\mathbf{f}" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">𝐟</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝐟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">\mathbf{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">bold_f</annotation></semantics></math>, that takes features derived from a search request <math alttext="\mathbf{x}" class="ltx_Math" display="inline" id="S4.SS2.p1.2.m2.1"><semantics id="S4.SS2.p1.2.m2.1a"><mi id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><ci id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">\mathbf{x}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.2.m2.1d">bold_x</annotation></semantics></math> and produces a location bound <math alttext="\mathbf{y}" class="ltx_Math" display="inline" id="S4.SS2.p1.3.m3.1"><semantics id="S4.SS2.p1.3.m3.1a"><mi id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml">𝐲</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><ci id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1">𝐲</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">\mathbf{y}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.3.m3.1d">bold_y</annotation></semantics></math>, which contains 4 floats</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}\mathbf{y}=[swLatOffset,neLatOffset,\\
swLngOffset,neLngOffset]\end{split}" class="ltx_Math" display="block" id="S4.E2.m1.55"><semantics id="S4.E2.m1.55a"><mtable displaystyle="true" id="S4.E2.m1.51.51" rowspacing="0pt" xref="S4.E2.m1.55.55.4.cmml"><mtr id="S4.E2.m1.51.51a" xref="S4.E2.m1.55.55.4.cmml"><mtd class="ltx_align_right" columnalign="right" id="S4.E2.m1.51.51b" xref="S4.E2.m1.55.55.4.cmml"><mrow id="S4.E2.m1.27.27.27.27.27" xref="S4.E2.m1.55.55.4.cmml"><mi id="S4.E2.m1.1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.1.cmml">𝐲</mi><mo id="S4.E2.m1.2.2.2.2.2.2" xref="S4.E2.m1.2.2.2.2.2.2.cmml">=</mo><mrow id="S4.E2.m1.27.27.27.27.27.28" xref="S4.E2.m1.55.55.4.cmml"><mo id="S4.E2.m1.3.3.3.3.3.3" stretchy="false" xref="S4.E2.m1.55.55.4.cmml">[</mo><mi id="S4.E2.m1.4.4.4.4.4.4" xref="S4.E2.m1.4.4.4.4.4.4.cmml">s</mi><mi id="S4.E2.m1.5.5.5.5.5.5" xref="S4.E2.m1.5.5.5.5.5.5.cmml">w</mi><mi id="S4.E2.m1.6.6.6.6.6.6" xref="S4.E2.m1.6.6.6.6.6.6.cmml">L</mi><mi id="S4.E2.m1.7.7.7.7.7.7" xref="S4.E2.m1.7.7.7.7.7.7.cmml">a</mi><mi id="S4.E2.m1.8.8.8.8.8.8" xref="S4.E2.m1.8.8.8.8.8.8.cmml">t</mi><mi id="S4.E2.m1.9.9.9.9.9.9" xref="S4.E2.m1.9.9.9.9.9.9.cmml">O</mi><mi id="S4.E2.m1.10.10.10.10.10.10" xref="S4.E2.m1.10.10.10.10.10.10.cmml">f</mi><mi id="S4.E2.m1.11.11.11.11.11.11" xref="S4.E2.m1.11.11.11.11.11.11.cmml">f</mi><mi id="S4.E2.m1.12.12.12.12.12.12" xref="S4.E2.m1.12.12.12.12.12.12.cmml">s</mi><mi id="S4.E2.m1.13.13.13.13.13.13" xref="S4.E2.m1.13.13.13.13.13.13.cmml">e</mi><mi id="S4.E2.m1.14.14.14.14.14.14" xref="S4.E2.m1.14.14.14.14.14.14.cmml">t</mi><mo id="S4.E2.m1.15.15.15.15.15.15" xref="S4.E2.m1.55.55.4.cmml">,</mo><mi id="S4.E2.m1.16.16.16.16.16.16" xref="S4.E2.m1.16.16.16.16.16.16.cmml">n</mi><mi id="S4.E2.m1.17.17.17.17.17.17" xref="S4.E2.m1.17.17.17.17.17.17.cmml">e</mi><mi id="S4.E2.m1.18.18.18.18.18.18" xref="S4.E2.m1.18.18.18.18.18.18.cmml">L</mi><mi id="S4.E2.m1.19.19.19.19.19.19" xref="S4.E2.m1.19.19.19.19.19.19.cmml">a</mi><mi id="S4.E2.m1.20.20.20.20.20.20" xref="S4.E2.m1.20.20.20.20.20.20.cmml">t</mi><mi id="S4.E2.m1.21.21.21.21.21.21" xref="S4.E2.m1.21.21.21.21.21.21.cmml">O</mi><mi id="S4.E2.m1.22.22.22.22.22.22" xref="S4.E2.m1.22.22.22.22.22.22.cmml">f</mi><mi id="S4.E2.m1.23.23.23.23.23.23" xref="S4.E2.m1.23.23.23.23.23.23.cmml">f</mi><mi id="S4.E2.m1.24.24.24.24.24.24" xref="S4.E2.m1.24.24.24.24.24.24.cmml">s</mi><mi id="S4.E2.m1.25.25.25.25.25.25" xref="S4.E2.m1.25.25.25.25.25.25.cmml">e</mi><mi id="S4.E2.m1.26.26.26.26.26.26" xref="S4.E2.m1.26.26.26.26.26.26.cmml">t</mi><mo id="S4.E2.m1.27.27.27.27.27.27" xref="S4.E2.m1.55.55.4.cmml">,</mo></mrow></mrow></mtd></mtr><mtr id="S4.E2.m1.51.51c" xref="S4.E2.m1.55.55.4.cmml"><mtd class="ltx_align_right" columnalign="right" id="S4.E2.m1.51.51d" xref="S4.E2.m1.55.55.4.cmml"><mrow id="S4.E2.m1.51.51.51.24.24" xref="S4.E2.m1.55.55.4.cmml"><mi id="S4.E2.m1.28.28.28.1.1.1" xref="S4.E2.m1.28.28.28.1.1.1.cmml">s</mi><mi id="S4.E2.m1.29.29.29.2.2.2" xref="S4.E2.m1.29.29.29.2.2.2.cmml">w</mi><mi id="S4.E2.m1.30.30.30.3.3.3" xref="S4.E2.m1.30.30.30.3.3.3.cmml">L</mi><mi id="S4.E2.m1.31.31.31.4.4.4" xref="S4.E2.m1.31.31.31.4.4.4.cmml">n</mi><mi id="S4.E2.m1.32.32.32.5.5.5" xref="S4.E2.m1.32.32.32.5.5.5.cmml">g</mi><mi id="S4.E2.m1.33.33.33.6.6.6" xref="S4.E2.m1.33.33.33.6.6.6.cmml">O</mi><mi id="S4.E2.m1.34.34.34.7.7.7" xref="S4.E2.m1.34.34.34.7.7.7.cmml">f</mi><mi id="S4.E2.m1.35.35.35.8.8.8" xref="S4.E2.m1.35.35.35.8.8.8.cmml">f</mi><mi id="S4.E2.m1.36.36.36.9.9.9" xref="S4.E2.m1.36.36.36.9.9.9.cmml">s</mi><mi id="S4.E2.m1.37.37.37.10.10.10" xref="S4.E2.m1.37.37.37.10.10.10.cmml">e</mi><mi id="S4.E2.m1.38.38.38.11.11.11" xref="S4.E2.m1.38.38.38.11.11.11.cmml">t</mi><mo id="S4.E2.m1.39.39.39.12.12.12" xref="S4.E2.m1.55.55.4.cmml">,</mo><mi id="S4.E2.m1.40.40.40.13.13.13" xref="S4.E2.m1.40.40.40.13.13.13.cmml">n</mi><mi id="S4.E2.m1.41.41.41.14.14.14" xref="S4.E2.m1.41.41.41.14.14.14.cmml">e</mi><mi id="S4.E2.m1.42.42.42.15.15.15" xref="S4.E2.m1.42.42.42.15.15.15.cmml">L</mi><mi id="S4.E2.m1.43.43.43.16.16.16" xref="S4.E2.m1.43.43.43.16.16.16.cmml">n</mi><mi id="S4.E2.m1.44.44.44.17.17.17" xref="S4.E2.m1.44.44.44.17.17.17.cmml">g</mi><mi id="S4.E2.m1.45.45.45.18.18.18" xref="S4.E2.m1.45.45.45.18.18.18.cmml">O</mi><mi id="S4.E2.m1.46.46.46.19.19.19" xref="S4.E2.m1.46.46.46.19.19.19.cmml">f</mi><mi id="S4.E2.m1.47.47.47.20.20.20" xref="S4.E2.m1.47.47.47.20.20.20.cmml">f</mi><mi id="S4.E2.m1.48.48.48.21.21.21" xref="S4.E2.m1.48.48.48.21.21.21.cmml">s</mi><mi id="S4.E2.m1.49.49.49.22.22.22" xref="S4.E2.m1.49.49.49.22.22.22.cmml">e</mi><mi id="S4.E2.m1.50.50.50.23.23.23" xref="S4.E2.m1.50.50.50.23.23.23.cmml">t</mi><mo id="S4.E2.m1.51.51.51.24.24.24" stretchy="false" xref="S4.E2.m1.55.55.4.cmml">]</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E2.m1.55b"><apply id="S4.E2.m1.55.55.4.cmml" xref="S4.E2.m1.51.51"><eq id="S4.E2.m1.2.2.2.2.2.2.cmml" xref="S4.E2.m1.2.2.2.2.2.2"></eq><ci id="S4.E2.m1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1">𝐲</ci><list id="S4.E2.m1.55.55.4.4.5.cmml" xref="S4.E2.m1.51.51"><apply id="S4.E2.m1.52.52.1.1.1.1.cmml" xref="S4.E2.m1.51.51"><times id="S4.E2.m1.52.52.1.1.1.1.1.cmml" xref="S4.E2.m1.51.51"></times><ci id="S4.E2.m1.4.4.4.4.4.4.cmml" xref="S4.E2.m1.4.4.4.4.4.4">𝑠</ci><ci id="S4.E2.m1.5.5.5.5.5.5.cmml" xref="S4.E2.m1.5.5.5.5.5.5">𝑤</ci><ci id="S4.E2.m1.6.6.6.6.6.6.cmml" xref="S4.E2.m1.6.6.6.6.6.6">𝐿</ci><ci id="S4.E2.m1.7.7.7.7.7.7.cmml" xref="S4.E2.m1.7.7.7.7.7.7">𝑎</ci><ci id="S4.E2.m1.8.8.8.8.8.8.cmml" xref="S4.E2.m1.8.8.8.8.8.8">𝑡</ci><ci id="S4.E2.m1.9.9.9.9.9.9.cmml" xref="S4.E2.m1.9.9.9.9.9.9">𝑂</ci><ci id="S4.E2.m1.10.10.10.10.10.10.cmml" xref="S4.E2.m1.10.10.10.10.10.10">𝑓</ci><ci id="S4.E2.m1.11.11.11.11.11.11.cmml" xref="S4.E2.m1.11.11.11.11.11.11">𝑓</ci><ci id="S4.E2.m1.12.12.12.12.12.12.cmml" xref="S4.E2.m1.12.12.12.12.12.12">𝑠</ci><ci id="S4.E2.m1.13.13.13.13.13.13.cmml" xref="S4.E2.m1.13.13.13.13.13.13">𝑒</ci><ci id="S4.E2.m1.14.14.14.14.14.14.cmml" xref="S4.E2.m1.14.14.14.14.14.14">𝑡</ci></apply><apply id="S4.E2.m1.53.53.2.2.2.2.cmml" xref="S4.E2.m1.51.51"><times id="S4.E2.m1.53.53.2.2.2.2.1.cmml" xref="S4.E2.m1.51.51"></times><ci id="S4.E2.m1.16.16.16.16.16.16.cmml" xref="S4.E2.m1.16.16.16.16.16.16">𝑛</ci><ci id="S4.E2.m1.17.17.17.17.17.17.cmml" xref="S4.E2.m1.17.17.17.17.17.17">𝑒</ci><ci id="S4.E2.m1.18.18.18.18.18.18.cmml" xref="S4.E2.m1.18.18.18.18.18.18">𝐿</ci><ci id="S4.E2.m1.19.19.19.19.19.19.cmml" xref="S4.E2.m1.19.19.19.19.19.19">𝑎</ci><ci id="S4.E2.m1.20.20.20.20.20.20.cmml" xref="S4.E2.m1.20.20.20.20.20.20">𝑡</ci><ci id="S4.E2.m1.21.21.21.21.21.21.cmml" xref="S4.E2.m1.21.21.21.21.21.21">𝑂</ci><ci id="S4.E2.m1.22.22.22.22.22.22.cmml" xref="S4.E2.m1.22.22.22.22.22.22">𝑓</ci><ci id="S4.E2.m1.23.23.23.23.23.23.cmml" xref="S4.E2.m1.23.23.23.23.23.23">𝑓</ci><ci id="S4.E2.m1.24.24.24.24.24.24.cmml" xref="S4.E2.m1.24.24.24.24.24.24">𝑠</ci><ci id="S4.E2.m1.25.25.25.25.25.25.cmml" xref="S4.E2.m1.25.25.25.25.25.25">𝑒</ci><ci id="S4.E2.m1.26.26.26.26.26.26.cmml" xref="S4.E2.m1.26.26.26.26.26.26">𝑡</ci></apply><apply id="S4.E2.m1.54.54.3.3.3.3.cmml" xref="S4.E2.m1.51.51"><times id="S4.E2.m1.54.54.3.3.3.3.1.cmml" xref="S4.E2.m1.51.51"></times><ci id="S4.E2.m1.28.28.28.1.1.1.cmml" xref="S4.E2.m1.28.28.28.1.1.1">𝑠</ci><ci id="S4.E2.m1.29.29.29.2.2.2.cmml" xref="S4.E2.m1.29.29.29.2.2.2">𝑤</ci><ci id="S4.E2.m1.30.30.30.3.3.3.cmml" xref="S4.E2.m1.30.30.30.3.3.3">𝐿</ci><ci id="S4.E2.m1.31.31.31.4.4.4.cmml" xref="S4.E2.m1.31.31.31.4.4.4">𝑛</ci><ci id="S4.E2.m1.32.32.32.5.5.5.cmml" xref="S4.E2.m1.32.32.32.5.5.5">𝑔</ci><ci id="S4.E2.m1.33.33.33.6.6.6.cmml" xref="S4.E2.m1.33.33.33.6.6.6">𝑂</ci><ci id="S4.E2.m1.34.34.34.7.7.7.cmml" xref="S4.E2.m1.34.34.34.7.7.7">𝑓</ci><ci id="S4.E2.m1.35.35.35.8.8.8.cmml" xref="S4.E2.m1.35.35.35.8.8.8">𝑓</ci><ci id="S4.E2.m1.36.36.36.9.9.9.cmml" xref="S4.E2.m1.36.36.36.9.9.9">𝑠</ci><ci id="S4.E2.m1.37.37.37.10.10.10.cmml" xref="S4.E2.m1.37.37.37.10.10.10">𝑒</ci><ci id="S4.E2.m1.38.38.38.11.11.11.cmml" xref="S4.E2.m1.38.38.38.11.11.11">𝑡</ci></apply><apply id="S4.E2.m1.55.55.4.4.4.4.cmml" xref="S4.E2.m1.51.51"><times id="S4.E2.m1.55.55.4.4.4.4.1.cmml" xref="S4.E2.m1.51.51"></times><ci id="S4.E2.m1.40.40.40.13.13.13.cmml" xref="S4.E2.m1.40.40.40.13.13.13">𝑛</ci><ci id="S4.E2.m1.41.41.41.14.14.14.cmml" xref="S4.E2.m1.41.41.41.14.14.14">𝑒</ci><ci id="S4.E2.m1.42.42.42.15.15.15.cmml" xref="S4.E2.m1.42.42.42.15.15.15">𝐿</ci><ci id="S4.E2.m1.43.43.43.16.16.16.cmml" xref="S4.E2.m1.43.43.43.16.16.16">𝑛</ci><ci id="S4.E2.m1.44.44.44.17.17.17.cmml" xref="S4.E2.m1.44.44.44.17.17.17">𝑔</ci><ci id="S4.E2.m1.45.45.45.18.18.18.cmml" xref="S4.E2.m1.45.45.45.18.18.18">𝑂</ci><ci id="S4.E2.m1.46.46.46.19.19.19.cmml" xref="S4.E2.m1.46.46.46.19.19.19">𝑓</ci><ci id="S4.E2.m1.47.47.47.20.20.20.cmml" xref="S4.E2.m1.47.47.47.20.20.20">𝑓</ci><ci id="S4.E2.m1.48.48.48.21.21.21.cmml" xref="S4.E2.m1.48.48.48.21.21.21">𝑠</ci><ci id="S4.E2.m1.49.49.49.22.22.22.cmml" xref="S4.E2.m1.49.49.49.22.22.22">𝑒</ci><ci id="S4.E2.m1.50.50.50.23.23.23.cmml" xref="S4.E2.m1.50.50.50.23.23.23">𝑡</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.55c">\begin{split}\mathbf{y}=[swLatOffset,neLatOffset,\\
swLngOffset,neLngOffset]\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E2.m1.55d">start_ROW start_CELL bold_y = [ italic_s italic_w italic_L italic_a italic_t italic_O italic_f italic_f italic_s italic_e italic_t , italic_n italic_e italic_L italic_a italic_t italic_O italic_f italic_f italic_s italic_e italic_t , end_CELL end_ROW start_ROW start_CELL italic_s italic_w italic_L italic_n italic_g italic_O italic_f italic_f italic_s italic_e italic_t , italic_n italic_e italic_L italic_n italic_g italic_O italic_f italic_f italic_s italic_e italic_t ] end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.p1.9">where <math alttext="\mathbf{swLatOffset},\mathbf{neLatOffset}," class="ltx_Math" display="inline" id="S4.SS2.p1.4.m1.3"><semantics id="S4.SS2.p1.4.m1.3a"><mrow id="S4.SS2.p1.4.m1.3.3.1"><mrow id="S4.SS2.p1.4.m1.3.3.1.1.2" xref="S4.SS2.p1.4.m1.3.3.1.1.1.cmml"><mi id="S4.SS2.p1.4.m1.1.1" xref="S4.SS2.p1.4.m1.1.1.cmml">𝐬𝐰𝐋𝐚𝐭𝐎𝐟𝐟𝐬𝐞𝐭</mi><mo id="S4.SS2.p1.4.m1.3.3.1.1.2.1" xref="S4.SS2.p1.4.m1.3.3.1.1.1.cmml">,</mo><mi id="S4.SS2.p1.4.m1.2.2" xref="S4.SS2.p1.4.m1.2.2.cmml">𝐧𝐞𝐋𝐚𝐭𝐎𝐟𝐟𝐬𝐞𝐭</mi></mrow><mo id="S4.SS2.p1.4.m1.3.3.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m1.3b"><list id="S4.SS2.p1.4.m1.3.3.1.1.1.cmml" xref="S4.SS2.p1.4.m1.3.3.1.1.2"><ci id="S4.SS2.p1.4.m1.1.1.cmml" xref="S4.SS2.p1.4.m1.1.1">𝐬𝐰𝐋𝐚𝐭𝐎𝐟𝐟𝐬𝐞𝐭</ci><ci id="S4.SS2.p1.4.m1.2.2.cmml" xref="S4.SS2.p1.4.m1.2.2">𝐧𝐞𝐋𝐚𝐭𝐎𝐟𝐟𝐬𝐞𝐭</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.4.m1.3c">\mathbf{swLatOffset},\mathbf{neLatOffset},</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.4.m1.3d">bold_swLatOffset , bold_neLatOffset ,</annotation></semantics></math> <math alttext="\mathbf{swLngOffset},\mathbf{neLngOffset}" class="ltx_Math" display="inline" id="S4.SS2.p1.5.m2.2"><semantics id="S4.SS2.p1.5.m2.2a"><mrow id="S4.SS2.p1.5.m2.2.3.2" xref="S4.SS2.p1.5.m2.2.3.1.cmml"><mi id="S4.SS2.p1.5.m2.1.1" xref="S4.SS2.p1.5.m2.1.1.cmml">𝐬𝐰𝐋𝐧𝐠𝐎𝐟𝐟𝐬𝐞𝐭</mi><mo id="S4.SS2.p1.5.m2.2.3.2.1" xref="S4.SS2.p1.5.m2.2.3.1.cmml">,</mo><mi id="S4.SS2.p1.5.m2.2.2" xref="S4.SS2.p1.5.m2.2.2.cmml">𝐧𝐞𝐋𝐧𝐠𝐎𝐟𝐟𝐬𝐞𝐭</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.5.m2.2b"><list id="S4.SS2.p1.5.m2.2.3.1.cmml" xref="S4.SS2.p1.5.m2.2.3.2"><ci id="S4.SS2.p1.5.m2.1.1.cmml" xref="S4.SS2.p1.5.m2.1.1">𝐬𝐰𝐋𝐧𝐠𝐎𝐟𝐟𝐬𝐞𝐭</ci><ci id="S4.SS2.p1.5.m2.2.2.cmml" xref="S4.SS2.p1.5.m2.2.2">𝐧𝐞𝐋𝐧𝐠𝐎𝐟𝐟𝐬𝐞𝐭</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.5.m2.2c">\mathbf{swLngOffset},\mathbf{neLngOffset}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.5.m2.2d">bold_swLngOffset , bold_neLngOffset</annotation></semantics></math> correspond to the southwest latitude offset, northeast latitude offset, southwest longitude offset, and northeast longitude offset in degrees. These offsets can be combined with the center latitude and center longitude of the searched location (<math alttext="\mathbf{centerLat}" class="ltx_Math" display="inline" id="S4.SS2.p1.6.m3.1"><semantics id="S4.SS2.p1.6.m3.1a"><mi id="S4.SS2.p1.6.m3.1.1" xref="S4.SS2.p1.6.m3.1.1.cmml">𝐜𝐞𝐧𝐭𝐞𝐫𝐋𝐚𝐭</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.6.m3.1b"><ci id="S4.SS2.p1.6.m3.1.1.cmml" xref="S4.SS2.p1.6.m3.1.1">𝐜𝐞𝐧𝐭𝐞𝐫𝐋𝐚𝐭</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.6.m3.1c">\mathbf{centerLat}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.6.m3.1d">bold_centerLat</annotation></semantics></math> and <math alttext="\mathbf{centerLng}" class="ltx_Math" display="inline" id="S4.SS2.p1.7.m4.1"><semantics id="S4.SS2.p1.7.m4.1a"><mi id="S4.SS2.p1.7.m4.1.1" xref="S4.SS2.p1.7.m4.1.1.cmml">𝐜𝐞𝐧𝐭𝐞𝐫𝐋𝐧𝐠</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.7.m4.1b"><ci id="S4.SS2.p1.7.m4.1.1.cmml" xref="S4.SS2.p1.7.m4.1.1">𝐜𝐞𝐧𝐭𝐞𝐫𝐋𝐧𝐠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.7.m4.1c">\mathbf{centerLng}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.7.m4.1d">bold_centerLng</annotation></semantics></math>) to construct the predicted retrieval bounds (<math alttext="\mathbf{retrievalSwLat}," class="ltx_Math" display="inline" id="S4.SS2.p1.8.m5.1"><semantics id="S4.SS2.p1.8.m5.1a"><mrow id="S4.SS2.p1.8.m5.1.2.2"><mi id="S4.SS2.p1.8.m5.1.1" xref="S4.SS2.p1.8.m5.1.1.cmml">𝐫𝐞𝐭𝐫𝐢𝐞𝐯𝐚𝐥𝐒𝐰𝐋𝐚𝐭</mi><mo id="S4.SS2.p1.8.m5.1.2.2.1">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.8.m5.1b"><ci id="S4.SS2.p1.8.m5.1.1.cmml" xref="S4.SS2.p1.8.m5.1.1">𝐫𝐞𝐭𝐫𝐢𝐞𝐯𝐚𝐥𝐒𝐰𝐋𝐚𝐭</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.8.m5.1c">\mathbf{retrievalSwLat},</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.8.m5.1d">bold_retrievalSwLat ,</annotation></semantics></math>
<br class="ltx_break"/><math alttext="\mathbf{retrievalSwLng},\mathbf{retrievalNeLat},\mathbf{retrievalNeLng}" class="ltx_Math" display="inline" id="S4.SS2.p1.9.m6.3"><semantics id="S4.SS2.p1.9.m6.3a"><mrow id="S4.SS2.p1.9.m6.3.4.2" xref="S4.SS2.p1.9.m6.3.4.1.cmml"><mi id="S4.SS2.p1.9.m6.1.1" xref="S4.SS2.p1.9.m6.1.1.cmml">𝐫𝐞𝐭𝐫𝐢𝐞𝐯𝐚𝐥𝐒𝐰𝐋𝐧𝐠</mi><mo id="S4.SS2.p1.9.m6.3.4.2.1" xref="S4.SS2.p1.9.m6.3.4.1.cmml">,</mo><mi id="S4.SS2.p1.9.m6.2.2" xref="S4.SS2.p1.9.m6.2.2.cmml">𝐫𝐞𝐭𝐫𝐢𝐞𝐯𝐚𝐥𝐍𝐞𝐋𝐚𝐭</mi><mo id="S4.SS2.p1.9.m6.3.4.2.2" xref="S4.SS2.p1.9.m6.3.4.1.cmml">,</mo><mi id="S4.SS2.p1.9.m6.3.3" xref="S4.SS2.p1.9.m6.3.3.cmml">𝐫𝐞𝐭𝐫𝐢𝐞𝐯𝐚𝐥𝐍𝐞𝐋𝐧𝐠</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.9.m6.3b"><list id="S4.SS2.p1.9.m6.3.4.1.cmml" xref="S4.SS2.p1.9.m6.3.4.2"><ci id="S4.SS2.p1.9.m6.1.1.cmml" xref="S4.SS2.p1.9.m6.1.1">𝐫𝐞𝐭𝐫𝐢𝐞𝐯𝐚𝐥𝐒𝐰𝐋𝐧𝐠</ci><ci id="S4.SS2.p1.9.m6.2.2.cmml" xref="S4.SS2.p1.9.m6.2.2">𝐫𝐞𝐭𝐫𝐢𝐞𝐯𝐚𝐥𝐍𝐞𝐋𝐚𝐭</ci><ci id="S4.SS2.p1.9.m6.3.3.cmml" xref="S4.SS2.p1.9.m6.3.3">𝐫𝐞𝐭𝐫𝐢𝐞𝐯𝐚𝐥𝐍𝐞𝐋𝐧𝐠</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.9.m6.3c">\mathbf{retrievalSwLng},\mathbf{retrievalNeLat},\mathbf{retrievalNeLng}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.9.m6.3d">bold_retrievalSwLng , bold_retrievalNeLat , bold_retrievalNeLng</annotation></semantics></math>), illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">1</span></a>. 
<br class="ltx_break"/><span class="ltx_text" id="S4.SS2.p1.9.1"></span> Location retrieval has opposing objectives of including listings that anyone would ever book (recall maximization) while minimizing the size of the retrieval bounds for performance. These opposing objectives did not lend themselves well to traditional machine learning model formulations and losses. Given the nature of retrieval bounds based retrieval, there are no true negatives with respect to location retrieval when a guest books a listing (a positive). If a guest searches for San Francisco and books a listing in Oakland, that does not indicate that we should not have retrieved listings from San Francisco. 
<br class="ltx_break"/><span class="ltx_text" id="S4.SS2.p1.9.2"></span> Considering these challenges, we took the following approach for the model formulation.</p>
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.1">Training Examples</span>:
We use 1 year of training examples (<math alttext="\sim" class="ltx_Math" display="inline" id="S4.I1.i1.p1.1.m1.1"><semantics id="S4.I1.i1.p1.1.m1.1a"><mo id="S4.I1.i1.p1.1.m1.1.1" xref="S4.I1.i1.p1.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.1.m1.1b"><csymbol cd="latexml" id="S4.I1.i1.p1.1.m1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.1.m1.1d">∼</annotation></semantics></math>365M) derived from bookings and searches. We attribute any booking that is not cancelled after 7 days to any search issued on the same day or 1 day before the reservation is made. The booked listing must also appear in the attributed search’s results.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.1.1">Training Features</span>: We employ features derived directly from the search request. These features are a mix of 9 continuous features that are directly used in the model and 10 categorical features that are embedded during training time and trained in unison with the model. The most important features based on the impact of randomly permuting each feature on booked listing location recall are following in decreasing order. Five unimportant features are omitted for company privacy.</p>
<ol class="ltx_enumerate" id="S4.I1.i2.I1">
<li class="ltx_item" id="S4.I1.i2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i1.p1.1">Unique ID representing the location searched</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i2.p1.1">Metropolitan area of the searched location</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i3.p1.1">Unique id of the specific cell on the earth’s surface containing the searched location’s center</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(4)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i4.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i4.p1.1">Whether the searched location is an address, POI, street, neighborhood, or city</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(5)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i5.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i5.p1.1">Country of the searched location</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(6)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i6.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i6.p1.1">Number of guests</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i7" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(7)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i7.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i7.p1.1">Whether the search is from our mobile application</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i8" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(8)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i8.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i8.p1.1">Device type</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i9" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(9)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i9.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i9.p1.1">Number of lead days before trip</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i10" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(10)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i10.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i10.p1.1">Trip length</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i11" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(11)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i11.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i11.p1.1">Whether the trip is during a weekend</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i12" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(12)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i12.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i12.p1.1">Check in date</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i13" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(13)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i13.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i13.p1.1">Check out date</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2.I1.i14" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(14)</span>
<div class="ltx_para" id="S4.I1.i2.I1.i14.p1">
<p class="ltx_p" id="S4.I1.i2.I1.i14.p1.1">Search date</p>
</div>
</li>
</ol>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i3.p1.1.1">Training Labels</span>: The latitude and longitude coordinates of the booked listing attributed to the search of the training example, defined as <span class="ltx_text ltx_font_italic" id="S4.I1.i3.p1.1.2">bookedListingLat</span> and <span class="ltx_text ltx_font_italic" id="S4.I1.i3.p1.1.3">bookedListingLng</span>.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i4.p1">
<p class="ltx_p" id="S4.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i4.p1.1.1">Architecture and Training</span>: The architecture is a two layer neural network with hidden layers of size 256. This is shown with the red outlined components in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S5.F4" title="Figure 4 ‣ 5.6. The Approach for Location Retrieval Exploration ‣ 5. Reinforcement Learning Based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">4</span></a> below. The model is trained for 9 hours with a learning rate of 0.001 and batch size 800 for 30 epochs. We use Tensorflow Horovod Distributed training on 10 Nvidia Tesla A10Gs machines.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S4.SS2.p1.14"><span class="ltx_text" id="S4.SS2.p1.14.1"></span> Loss construction involves several considerations that are crucial to the product and guest experience w.r.t. relevance and recall of listings from the retrieval bound, as well as the bound’s reliability. The following defines the loss for a single training example</p>
<ol class="ltx_enumerate" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i1.p1.1.1">Booked Listing Location (BL) Loss</span>: This recall loss penalizes the model if the predicted retrieval bounds do not contain their corresponding booked listing location. This encourages the model to predict retrieval bounds that would contain most listings that anyone would book for the search</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}\mathbf{L}(BL)=D(retrievalSwLng,bookedListingLng)\\
+D(retrievalNeLng,bookedListingLng)\\
+D(retrievalSwLat,bookedListingLat)\\
+D(retrievalNeLat,bookedListingLat),\end{split}" class="ltx_Math" display="block" id="S4.E3.m1.155"><semantics id="S4.E3.m1.155a"><mtable displaystyle="true" id="S4.E3.m1.155.155.9" rowspacing="0pt"><mtr id="S4.E3.m1.155.155.9a"><mtd class="ltx_align_right" columnalign="right" id="S4.E3.m1.155.155.9b"><mrow id="S4.E3.m1.150.150.4.149.43.43"><mrow id="S4.E3.m1.148.148.2.147.41.41.41"><mi id="S4.E3.m1.1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.cmml">𝐋</mi><mo id="S4.E3.m1.148.148.2.147.41.41.41.2" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mrow id="S4.E3.m1.148.148.2.147.41.41.41.1.1"><mo id="S4.E3.m1.2.2.2.2.2.2" stretchy="false" xref="S4.E3.m1.147.147.1.1.1.cmml">(</mo><mrow id="S4.E3.m1.148.148.2.147.41.41.41.1.1.1"><mi id="S4.E3.m1.3.3.3.3.3.3" xref="S4.E3.m1.3.3.3.3.3.3.cmml">B</mi><mo id="S4.E3.m1.148.148.2.147.41.41.41.1.1.1.1" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.4.4.4.4.4.4" xref="S4.E3.m1.4.4.4.4.4.4.cmml">L</mi></mrow><mo id="S4.E3.m1.5.5.5.5.5.5" stretchy="false" xref="S4.E3.m1.147.147.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E3.m1.6.6.6.6.6.6" xref="S4.E3.m1.6.6.6.6.6.6.cmml">=</mo><mrow id="S4.E3.m1.150.150.4.149.43.43.43"><mi id="S4.E3.m1.7.7.7.7.7.7" xref="S4.E3.m1.7.7.7.7.7.7.cmml">D</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.3" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mrow id="S4.E3.m1.150.150.4.149.43.43.43.2.2"><mo id="S4.E3.m1.8.8.8.8.8.8" stretchy="false" xref="S4.E3.m1.147.147.1.1.1.cmml">(</mo><mrow id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1"><mi id="S4.E3.m1.9.9.9.9.9.9" xref="S4.E3.m1.9.9.9.9.9.9.cmml">r</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.10.10.10.10.10.10" xref="S4.E3.m1.10.10.10.10.10.10.cmml">e</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1a" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.11.11.11.11.11.11" xref="S4.E3.m1.11.11.11.11.11.11.cmml">t</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1b" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.12.12.12.12.12.12" xref="S4.E3.m1.12.12.12.12.12.12.cmml">r</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1c" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.13.13.13.13.13.13" xref="S4.E3.m1.13.13.13.13.13.13.cmml">i</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1d" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.14.14.14.14.14.14" xref="S4.E3.m1.14.14.14.14.14.14.cmml">e</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1e" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.15.15.15.15.15.15" xref="S4.E3.m1.15.15.15.15.15.15.cmml">v</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1f" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.16.16.16.16.16.16" xref="S4.E3.m1.16.16.16.16.16.16.cmml">a</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1g" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.17.17.17.17.17.17" xref="S4.E3.m1.17.17.17.17.17.17.cmml">l</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1h" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.18.18.18.18.18.18" xref="S4.E3.m1.18.18.18.18.18.18.cmml">S</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1i" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.19.19.19.19.19.19" xref="S4.E3.m1.19.19.19.19.19.19.cmml">w</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1j" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.20.20.20.20.20.20" xref="S4.E3.m1.20.20.20.20.20.20.cmml">L</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1k" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.21.21.21.21.21.21" xref="S4.E3.m1.21.21.21.21.21.21.cmml">n</mi><mo id="S4.E3.m1.149.149.3.148.42.42.42.1.1.1.1l" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.22.22.22.22.22.22" xref="S4.E3.m1.22.22.22.22.22.22.cmml">g</mi></mrow><mo id="S4.E3.m1.23.23.23.23.23.23" xref="S4.E3.m1.147.147.1.1.1.cmml">,</mo><mrow id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2"><mi id="S4.E3.m1.24.24.24.24.24.24" xref="S4.E3.m1.24.24.24.24.24.24.cmml">b</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.25.25.25.25.25.25" xref="S4.E3.m1.25.25.25.25.25.25.cmml">o</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1a" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.26.26.26.26.26.26" xref="S4.E3.m1.26.26.26.26.26.26.cmml">o</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1b" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.27.27.27.27.27.27" xref="S4.E3.m1.27.27.27.27.27.27.cmml">k</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1c" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.28.28.28.28.28.28" xref="S4.E3.m1.28.28.28.28.28.28.cmml">e</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1d" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.29.29.29.29.29.29" xref="S4.E3.m1.29.29.29.29.29.29.cmml">d</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1e" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.30.30.30.30.30.30" xref="S4.E3.m1.30.30.30.30.30.30.cmml">L</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1f" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.31.31.31.31.31.31" xref="S4.E3.m1.31.31.31.31.31.31.cmml">i</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1g" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.32.32.32.32.32.32" xref="S4.E3.m1.32.32.32.32.32.32.cmml">s</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1h" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.33.33.33.33.33.33" xref="S4.E3.m1.33.33.33.33.33.33.cmml">t</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1i" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.34.34.34.34.34.34" xref="S4.E3.m1.34.34.34.34.34.34.cmml">i</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1j" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.35.35.35.35.35.35" xref="S4.E3.m1.35.35.35.35.35.35.cmml">n</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1k" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.36.36.36.36.36.36" xref="S4.E3.m1.36.36.36.36.36.36.cmml">g</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1l" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.37.37.37.37.37.37" xref="S4.E3.m1.37.37.37.37.37.37.cmml">L</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1m" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.38.38.38.38.38.38" xref="S4.E3.m1.38.38.38.38.38.38.cmml">n</mi><mo id="S4.E3.m1.150.150.4.149.43.43.43.2.2.2.1n" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.39.39.39.39.39.39" xref="S4.E3.m1.39.39.39.39.39.39.cmml">g</mi></mrow><mo id="S4.E3.m1.40.40.40.40.40.40" stretchy="false" xref="S4.E3.m1.147.147.1.1.1.cmml">)</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S4.E3.m1.155.155.9c"><mtd class="ltx_align_right" columnalign="right" id="S4.E3.m1.155.155.9d"><mrow id="S4.E3.m1.152.152.6.151.37.37"><mo id="S4.E3.m1.152.152.6.151.37.37a" xref="S4.E3.m1.147.147.1.1.1.cmml">+</mo><mrow id="S4.E3.m1.152.152.6.151.37.37.37"><mi id="S4.E3.m1.42.42.42.2.2.2" xref="S4.E3.m1.42.42.42.2.2.2.cmml">D</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.3" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mrow id="S4.E3.m1.152.152.6.151.37.37.37.2.2"><mo id="S4.E3.m1.43.43.43.3.3.3" stretchy="false" xref="S4.E3.m1.147.147.1.1.1.cmml">(</mo><mrow id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1"><mi id="S4.E3.m1.44.44.44.4.4.4" xref="S4.E3.m1.44.44.44.4.4.4.cmml">r</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.45.45.45.5.5.5" xref="S4.E3.m1.45.45.45.5.5.5.cmml">e</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1a" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.46.46.46.6.6.6" xref="S4.E3.m1.46.46.46.6.6.6.cmml">t</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1b" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.47.47.47.7.7.7" xref="S4.E3.m1.47.47.47.7.7.7.cmml">r</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1c" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.48.48.48.8.8.8" xref="S4.E3.m1.48.48.48.8.8.8.cmml">i</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1d" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.49.49.49.9.9.9" xref="S4.E3.m1.49.49.49.9.9.9.cmml">e</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1e" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.50.50.50.10.10.10" xref="S4.E3.m1.50.50.50.10.10.10.cmml">v</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1f" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.51.51.51.11.11.11" xref="S4.E3.m1.51.51.51.11.11.11.cmml">a</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1g" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.52.52.52.12.12.12" xref="S4.E3.m1.52.52.52.12.12.12.cmml">l</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1h" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.53.53.53.13.13.13" xref="S4.E3.m1.53.53.53.13.13.13.cmml">N</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1i" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.54.54.54.14.14.14" xref="S4.E3.m1.54.54.54.14.14.14.cmml">e</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1j" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.55.55.55.15.15.15" xref="S4.E3.m1.55.55.55.15.15.15.cmml">L</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1k" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.56.56.56.16.16.16" xref="S4.E3.m1.56.56.56.16.16.16.cmml">n</mi><mo id="S4.E3.m1.151.151.5.150.36.36.36.1.1.1.1l" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.57.57.57.17.17.17" xref="S4.E3.m1.57.57.57.17.17.17.cmml">g</mi></mrow><mo id="S4.E3.m1.58.58.58.18.18.18" xref="S4.E3.m1.147.147.1.1.1.cmml">,</mo><mrow id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2"><mi id="S4.E3.m1.59.59.59.19.19.19" xref="S4.E3.m1.59.59.59.19.19.19.cmml">b</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.60.60.60.20.20.20" xref="S4.E3.m1.60.60.60.20.20.20.cmml">o</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1a" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.61.61.61.21.21.21" xref="S4.E3.m1.61.61.61.21.21.21.cmml">o</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1b" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.62.62.62.22.22.22" xref="S4.E3.m1.62.62.62.22.22.22.cmml">k</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1c" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.63.63.63.23.23.23" xref="S4.E3.m1.63.63.63.23.23.23.cmml">e</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1d" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.64.64.64.24.24.24" xref="S4.E3.m1.64.64.64.24.24.24.cmml">d</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1e" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.65.65.65.25.25.25" xref="S4.E3.m1.65.65.65.25.25.25.cmml">L</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1f" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.66.66.66.26.26.26" xref="S4.E3.m1.66.66.66.26.26.26.cmml">i</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1g" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.67.67.67.27.27.27" xref="S4.E3.m1.67.67.67.27.27.27.cmml">s</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1h" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.68.68.68.28.28.28" xref="S4.E3.m1.68.68.68.28.28.28.cmml">t</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1i" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.69.69.69.29.29.29" xref="S4.E3.m1.69.69.69.29.29.29.cmml">i</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1j" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.70.70.70.30.30.30" xref="S4.E3.m1.70.70.70.30.30.30.cmml">n</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1k" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.71.71.71.31.31.31" xref="S4.E3.m1.71.71.71.31.31.31.cmml">g</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1l" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.72.72.72.32.32.32" xref="S4.E3.m1.72.72.72.32.32.32.cmml">L</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1m" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.73.73.73.33.33.33" xref="S4.E3.m1.73.73.73.33.33.33.cmml">n</mi><mo id="S4.E3.m1.152.152.6.151.37.37.37.2.2.2.1n" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.74.74.74.34.34.34" xref="S4.E3.m1.74.74.74.34.34.34.cmml">g</mi></mrow><mo id="S4.E3.m1.75.75.75.35.35.35" stretchy="false" xref="S4.E3.m1.147.147.1.1.1.cmml">)</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S4.E3.m1.155.155.9e"><mtd class="ltx_align_right" columnalign="right" id="S4.E3.m1.155.155.9f"><mrow id="S4.E3.m1.154.154.8.153.37.37"><mo id="S4.E3.m1.154.154.8.153.37.37a" xref="S4.E3.m1.147.147.1.1.1.cmml">+</mo><mrow id="S4.E3.m1.154.154.8.153.37.37.37"><mi id="S4.E3.m1.77.77.77.2.2.2" xref="S4.E3.m1.77.77.77.2.2.2.cmml">D</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.3" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mrow id="S4.E3.m1.154.154.8.153.37.37.37.2.2"><mo id="S4.E3.m1.78.78.78.3.3.3" stretchy="false" xref="S4.E3.m1.147.147.1.1.1.cmml">(</mo><mrow id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1"><mi id="S4.E3.m1.79.79.79.4.4.4" xref="S4.E3.m1.79.79.79.4.4.4.cmml">r</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.80.80.80.5.5.5" xref="S4.E3.m1.80.80.80.5.5.5.cmml">e</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1a" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.81.81.81.6.6.6" xref="S4.E3.m1.81.81.81.6.6.6.cmml">t</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1b" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.82.82.82.7.7.7" xref="S4.E3.m1.82.82.82.7.7.7.cmml">r</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1c" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.83.83.83.8.8.8" xref="S4.E3.m1.83.83.83.8.8.8.cmml">i</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1d" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.84.84.84.9.9.9" xref="S4.E3.m1.84.84.84.9.9.9.cmml">e</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1e" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.85.85.85.10.10.10" xref="S4.E3.m1.85.85.85.10.10.10.cmml">v</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1f" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.86.86.86.11.11.11" xref="S4.E3.m1.86.86.86.11.11.11.cmml">a</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1g" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.87.87.87.12.12.12" xref="S4.E3.m1.87.87.87.12.12.12.cmml">l</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1h" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.88.88.88.13.13.13" xref="S4.E3.m1.88.88.88.13.13.13.cmml">S</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1i" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.89.89.89.14.14.14" xref="S4.E3.m1.89.89.89.14.14.14.cmml">w</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1j" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.90.90.90.15.15.15" xref="S4.E3.m1.90.90.90.15.15.15.cmml">L</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1k" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.91.91.91.16.16.16" xref="S4.E3.m1.91.91.91.16.16.16.cmml">a</mi><mo id="S4.E3.m1.153.153.7.152.36.36.36.1.1.1.1l" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.92.92.92.17.17.17" xref="S4.E3.m1.92.92.92.17.17.17.cmml">t</mi></mrow><mo id="S4.E3.m1.93.93.93.18.18.18" xref="S4.E3.m1.147.147.1.1.1.cmml">,</mo><mrow id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2"><mi id="S4.E3.m1.94.94.94.19.19.19" xref="S4.E3.m1.94.94.94.19.19.19.cmml">b</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.95.95.95.20.20.20" xref="S4.E3.m1.95.95.95.20.20.20.cmml">o</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1a" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.96.96.96.21.21.21" xref="S4.E3.m1.96.96.96.21.21.21.cmml">o</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1b" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.97.97.97.22.22.22" xref="S4.E3.m1.97.97.97.22.22.22.cmml">k</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1c" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.98.98.98.23.23.23" xref="S4.E3.m1.98.98.98.23.23.23.cmml">e</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1d" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.99.99.99.24.24.24" xref="S4.E3.m1.99.99.99.24.24.24.cmml">d</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1e" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.100.100.100.25.25.25" xref="S4.E3.m1.100.100.100.25.25.25.cmml">L</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1f" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.101.101.101.26.26.26" xref="S4.E3.m1.101.101.101.26.26.26.cmml">i</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1g" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.102.102.102.27.27.27" xref="S4.E3.m1.102.102.102.27.27.27.cmml">s</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1h" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.103.103.103.28.28.28" xref="S4.E3.m1.103.103.103.28.28.28.cmml">t</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1i" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.104.104.104.29.29.29" xref="S4.E3.m1.104.104.104.29.29.29.cmml">i</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1j" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.105.105.105.30.30.30" xref="S4.E3.m1.105.105.105.30.30.30.cmml">n</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1k" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.106.106.106.31.31.31" xref="S4.E3.m1.106.106.106.31.31.31.cmml">g</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1l" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.107.107.107.32.32.32" xref="S4.E3.m1.107.107.107.32.32.32.cmml">L</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1m" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.108.108.108.33.33.33" xref="S4.E3.m1.108.108.108.33.33.33.cmml">a</mi><mo id="S4.E3.m1.154.154.8.153.37.37.37.2.2.2.1n" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.109.109.109.34.34.34" xref="S4.E3.m1.109.109.109.34.34.34.cmml">t</mi></mrow><mo id="S4.E3.m1.110.110.110.35.35.35" stretchy="false" xref="S4.E3.m1.147.147.1.1.1.cmml">)</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S4.E3.m1.155.155.9g"><mtd class="ltx_align_right" columnalign="right" id="S4.E3.m1.155.155.9h"><mrow id="S4.E3.m1.155.155.9.154.37.37.37"><mrow id="S4.E3.m1.155.155.9.154.37.37.37.1"><mo id="S4.E3.m1.155.155.9.154.37.37.37.1a" xref="S4.E3.m1.147.147.1.1.1.cmml">+</mo><mrow id="S4.E3.m1.155.155.9.154.37.37.37.1.2"><mi id="S4.E3.m1.112.112.112.2.2.2" xref="S4.E3.m1.112.112.112.2.2.2.cmml">D</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.3" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mrow id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2"><mo id="S4.E3.m1.113.113.113.3.3.3" stretchy="false" xref="S4.E3.m1.147.147.1.1.1.cmml">(</mo><mrow id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1"><mi id="S4.E3.m1.114.114.114.4.4.4" xref="S4.E3.m1.114.114.114.4.4.4.cmml">r</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.115.115.115.5.5.5" xref="S4.E3.m1.115.115.115.5.5.5.cmml">e</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1a" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.116.116.116.6.6.6" xref="S4.E3.m1.116.116.116.6.6.6.cmml">t</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1b" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.117.117.117.7.7.7" xref="S4.E3.m1.117.117.117.7.7.7.cmml">r</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1c" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.118.118.118.8.8.8" xref="S4.E3.m1.118.118.118.8.8.8.cmml">i</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1d" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.119.119.119.9.9.9" xref="S4.E3.m1.119.119.119.9.9.9.cmml">e</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1e" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.120.120.120.10.10.10" xref="S4.E3.m1.120.120.120.10.10.10.cmml">v</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1f" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.121.121.121.11.11.11" xref="S4.E3.m1.121.121.121.11.11.11.cmml">a</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1g" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.122.122.122.12.12.12" xref="S4.E3.m1.122.122.122.12.12.12.cmml">l</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1h" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.123.123.123.13.13.13" xref="S4.E3.m1.123.123.123.13.13.13.cmml">N</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1i" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.124.124.124.14.14.14" xref="S4.E3.m1.124.124.124.14.14.14.cmml">e</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1j" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.125.125.125.15.15.15" xref="S4.E3.m1.125.125.125.15.15.15.cmml">L</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1k" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.126.126.126.16.16.16" xref="S4.E3.m1.126.126.126.16.16.16.cmml">a</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.1.1.1.1.1l" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.127.127.127.17.17.17" xref="S4.E3.m1.127.127.127.17.17.17.cmml">t</mi></mrow><mo id="S4.E3.m1.128.128.128.18.18.18" xref="S4.E3.m1.147.147.1.1.1.cmml">,</mo><mrow id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2"><mi id="S4.E3.m1.129.129.129.19.19.19" xref="S4.E3.m1.129.129.129.19.19.19.cmml">b</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.130.130.130.20.20.20" xref="S4.E3.m1.130.130.130.20.20.20.cmml">o</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1a" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.131.131.131.21.21.21" xref="S4.E3.m1.131.131.131.21.21.21.cmml">o</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1b" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.132.132.132.22.22.22" xref="S4.E3.m1.132.132.132.22.22.22.cmml">k</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1c" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.133.133.133.23.23.23" xref="S4.E3.m1.133.133.133.23.23.23.cmml">e</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1d" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.134.134.134.24.24.24" xref="S4.E3.m1.134.134.134.24.24.24.cmml">d</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1e" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.135.135.135.25.25.25" xref="S4.E3.m1.135.135.135.25.25.25.cmml">L</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1f" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.136.136.136.26.26.26" xref="S4.E3.m1.136.136.136.26.26.26.cmml">i</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1g" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.137.137.137.27.27.27" xref="S4.E3.m1.137.137.137.27.27.27.cmml">s</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1h" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.138.138.138.28.28.28" xref="S4.E3.m1.138.138.138.28.28.28.cmml">t</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1i" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.139.139.139.29.29.29" xref="S4.E3.m1.139.139.139.29.29.29.cmml">i</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1j" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.140.140.140.30.30.30" xref="S4.E3.m1.140.140.140.30.30.30.cmml">n</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1k" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.141.141.141.31.31.31" xref="S4.E3.m1.141.141.141.31.31.31.cmml">g</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1l" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.142.142.142.32.32.32" xref="S4.E3.m1.142.142.142.32.32.32.cmml">L</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1m" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.143.143.143.33.33.33" xref="S4.E3.m1.143.143.143.33.33.33.cmml">a</mi><mo id="S4.E3.m1.155.155.9.154.37.37.37.1.2.2.2.2.1n" xref="S4.E3.m1.147.147.1.1.1.cmml">⁢</mo><mi id="S4.E3.m1.144.144.144.34.34.34" xref="S4.E3.m1.144.144.144.34.34.34.cmml">t</mi></mrow><mo id="S4.E3.m1.145.145.145.35.35.35" stretchy="false" xref="S4.E3.m1.147.147.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E3.m1.146.146.146.36.36.36" xref="S4.E3.m1.147.147.1.1.1.cmml">,</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E3.m1.155b"><apply id="S4.E3.m1.147.147.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><eq id="S4.E3.m1.6.6.6.6.6.6.cmml" xref="S4.E3.m1.6.6.6.6.6.6"></eq><apply id="S4.E3.m1.147.147.1.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.1.2.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1">𝐋</ci><apply id="S4.E3.m1.147.147.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.3.3.3.3.3.3.cmml" xref="S4.E3.m1.3.3.3.3.3.3">𝐵</ci><ci id="S4.E3.m1.4.4.4.4.4.4.cmml" xref="S4.E3.m1.4.4.4.4.4.4">𝐿</ci></apply></apply><apply id="S4.E3.m1.147.147.1.1.1.9.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><plus id="S4.E3.m1.41.41.41.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></plus><apply id="S4.E3.m1.147.147.1.1.1.3.2.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.3.2.3.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.7.7.7.7.7.7.cmml" xref="S4.E3.m1.7.7.7.7.7.7">𝐷</ci><interval closure="open" id="S4.E3.m1.147.147.1.1.1.3.2.2.3.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><apply id="S4.E3.m1.147.147.1.1.1.2.1.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.2.1.1.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.9.9.9.9.9.9.cmml" xref="S4.E3.m1.9.9.9.9.9.9">𝑟</ci><ci id="S4.E3.m1.10.10.10.10.10.10.cmml" xref="S4.E3.m1.10.10.10.10.10.10">𝑒</ci><ci id="S4.E3.m1.11.11.11.11.11.11.cmml" xref="S4.E3.m1.11.11.11.11.11.11">𝑡</ci><ci id="S4.E3.m1.12.12.12.12.12.12.cmml" xref="S4.E3.m1.12.12.12.12.12.12">𝑟</ci><ci id="S4.E3.m1.13.13.13.13.13.13.cmml" xref="S4.E3.m1.13.13.13.13.13.13">𝑖</ci><ci id="S4.E3.m1.14.14.14.14.14.14.cmml" xref="S4.E3.m1.14.14.14.14.14.14">𝑒</ci><ci id="S4.E3.m1.15.15.15.15.15.15.cmml" xref="S4.E3.m1.15.15.15.15.15.15">𝑣</ci><ci id="S4.E3.m1.16.16.16.16.16.16.cmml" xref="S4.E3.m1.16.16.16.16.16.16">𝑎</ci><ci id="S4.E3.m1.17.17.17.17.17.17.cmml" xref="S4.E3.m1.17.17.17.17.17.17">𝑙</ci><ci id="S4.E3.m1.18.18.18.18.18.18.cmml" xref="S4.E3.m1.18.18.18.18.18.18">𝑆</ci><ci id="S4.E3.m1.19.19.19.19.19.19.cmml" xref="S4.E3.m1.19.19.19.19.19.19">𝑤</ci><ci id="S4.E3.m1.20.20.20.20.20.20.cmml" xref="S4.E3.m1.20.20.20.20.20.20">𝐿</ci><ci id="S4.E3.m1.21.21.21.21.21.21.cmml" xref="S4.E3.m1.21.21.21.21.21.21">𝑛</ci><ci id="S4.E3.m1.22.22.22.22.22.22.cmml" xref="S4.E3.m1.22.22.22.22.22.22">𝑔</ci></apply><apply id="S4.E3.m1.147.147.1.1.1.3.2.2.2.2.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.3.2.2.2.2.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.24.24.24.24.24.24.cmml" xref="S4.E3.m1.24.24.24.24.24.24">𝑏</ci><ci id="S4.E3.m1.25.25.25.25.25.25.cmml" xref="S4.E3.m1.25.25.25.25.25.25">𝑜</ci><ci id="S4.E3.m1.26.26.26.26.26.26.cmml" xref="S4.E3.m1.26.26.26.26.26.26">𝑜</ci><ci id="S4.E3.m1.27.27.27.27.27.27.cmml" xref="S4.E3.m1.27.27.27.27.27.27">𝑘</ci><ci id="S4.E3.m1.28.28.28.28.28.28.cmml" xref="S4.E3.m1.28.28.28.28.28.28">𝑒</ci><ci id="S4.E3.m1.29.29.29.29.29.29.cmml" xref="S4.E3.m1.29.29.29.29.29.29">𝑑</ci><ci id="S4.E3.m1.30.30.30.30.30.30.cmml" xref="S4.E3.m1.30.30.30.30.30.30">𝐿</ci><ci id="S4.E3.m1.31.31.31.31.31.31.cmml" xref="S4.E3.m1.31.31.31.31.31.31">𝑖</ci><ci id="S4.E3.m1.32.32.32.32.32.32.cmml" xref="S4.E3.m1.32.32.32.32.32.32">𝑠</ci><ci id="S4.E3.m1.33.33.33.33.33.33.cmml" xref="S4.E3.m1.33.33.33.33.33.33">𝑡</ci><ci id="S4.E3.m1.34.34.34.34.34.34.cmml" xref="S4.E3.m1.34.34.34.34.34.34">𝑖</ci><ci id="S4.E3.m1.35.35.35.35.35.35.cmml" xref="S4.E3.m1.35.35.35.35.35.35">𝑛</ci><ci id="S4.E3.m1.36.36.36.36.36.36.cmml" xref="S4.E3.m1.36.36.36.36.36.36">𝑔</ci><ci id="S4.E3.m1.37.37.37.37.37.37.cmml" xref="S4.E3.m1.37.37.37.37.37.37">𝐿</ci><ci id="S4.E3.m1.38.38.38.38.38.38.cmml" xref="S4.E3.m1.38.38.38.38.38.38">𝑛</ci><ci id="S4.E3.m1.39.39.39.39.39.39.cmml" xref="S4.E3.m1.39.39.39.39.39.39">𝑔</ci></apply></interval></apply><apply id="S4.E3.m1.147.147.1.1.1.5.4.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.5.4.3.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.42.42.42.2.2.2.cmml" xref="S4.E3.m1.42.42.42.2.2.2">𝐷</ci><interval closure="open" id="S4.E3.m1.147.147.1.1.1.5.4.2.3.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><apply id="S4.E3.m1.147.147.1.1.1.4.3.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.4.3.1.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.44.44.44.4.4.4.cmml" xref="S4.E3.m1.44.44.44.4.4.4">𝑟</ci><ci id="S4.E3.m1.45.45.45.5.5.5.cmml" xref="S4.E3.m1.45.45.45.5.5.5">𝑒</ci><ci id="S4.E3.m1.46.46.46.6.6.6.cmml" xref="S4.E3.m1.46.46.46.6.6.6">𝑡</ci><ci id="S4.E3.m1.47.47.47.7.7.7.cmml" xref="S4.E3.m1.47.47.47.7.7.7">𝑟</ci><ci id="S4.E3.m1.48.48.48.8.8.8.cmml" xref="S4.E3.m1.48.48.48.8.8.8">𝑖</ci><ci id="S4.E3.m1.49.49.49.9.9.9.cmml" xref="S4.E3.m1.49.49.49.9.9.9">𝑒</ci><ci id="S4.E3.m1.50.50.50.10.10.10.cmml" xref="S4.E3.m1.50.50.50.10.10.10">𝑣</ci><ci id="S4.E3.m1.51.51.51.11.11.11.cmml" xref="S4.E3.m1.51.51.51.11.11.11">𝑎</ci><ci id="S4.E3.m1.52.52.52.12.12.12.cmml" xref="S4.E3.m1.52.52.52.12.12.12">𝑙</ci><ci id="S4.E3.m1.53.53.53.13.13.13.cmml" xref="S4.E3.m1.53.53.53.13.13.13">𝑁</ci><ci id="S4.E3.m1.54.54.54.14.14.14.cmml" xref="S4.E3.m1.54.54.54.14.14.14">𝑒</ci><ci id="S4.E3.m1.55.55.55.15.15.15.cmml" xref="S4.E3.m1.55.55.55.15.15.15">𝐿</ci><ci id="S4.E3.m1.56.56.56.16.16.16.cmml" xref="S4.E3.m1.56.56.56.16.16.16">𝑛</ci><ci id="S4.E3.m1.57.57.57.17.17.17.cmml" xref="S4.E3.m1.57.57.57.17.17.17">𝑔</ci></apply><apply id="S4.E3.m1.147.147.1.1.1.5.4.2.2.2.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.5.4.2.2.2.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.59.59.59.19.19.19.cmml" xref="S4.E3.m1.59.59.59.19.19.19">𝑏</ci><ci id="S4.E3.m1.60.60.60.20.20.20.cmml" xref="S4.E3.m1.60.60.60.20.20.20">𝑜</ci><ci id="S4.E3.m1.61.61.61.21.21.21.cmml" xref="S4.E3.m1.61.61.61.21.21.21">𝑜</ci><ci id="S4.E3.m1.62.62.62.22.22.22.cmml" xref="S4.E3.m1.62.62.62.22.22.22">𝑘</ci><ci id="S4.E3.m1.63.63.63.23.23.23.cmml" xref="S4.E3.m1.63.63.63.23.23.23">𝑒</ci><ci id="S4.E3.m1.64.64.64.24.24.24.cmml" xref="S4.E3.m1.64.64.64.24.24.24">𝑑</ci><ci id="S4.E3.m1.65.65.65.25.25.25.cmml" xref="S4.E3.m1.65.65.65.25.25.25">𝐿</ci><ci id="S4.E3.m1.66.66.66.26.26.26.cmml" xref="S4.E3.m1.66.66.66.26.26.26">𝑖</ci><ci id="S4.E3.m1.67.67.67.27.27.27.cmml" xref="S4.E3.m1.67.67.67.27.27.27">𝑠</ci><ci id="S4.E3.m1.68.68.68.28.28.28.cmml" xref="S4.E3.m1.68.68.68.28.28.28">𝑡</ci><ci id="S4.E3.m1.69.69.69.29.29.29.cmml" xref="S4.E3.m1.69.69.69.29.29.29">𝑖</ci><ci id="S4.E3.m1.70.70.70.30.30.30.cmml" xref="S4.E3.m1.70.70.70.30.30.30">𝑛</ci><ci id="S4.E3.m1.71.71.71.31.31.31.cmml" xref="S4.E3.m1.71.71.71.31.31.31">𝑔</ci><ci id="S4.E3.m1.72.72.72.32.32.32.cmml" xref="S4.E3.m1.72.72.72.32.32.32">𝐿</ci><ci id="S4.E3.m1.73.73.73.33.33.33.cmml" xref="S4.E3.m1.73.73.73.33.33.33">𝑛</ci><ci id="S4.E3.m1.74.74.74.34.34.34.cmml" xref="S4.E3.m1.74.74.74.34.34.34">𝑔</ci></apply></interval></apply><apply id="S4.E3.m1.147.147.1.1.1.7.6.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.7.6.3.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.77.77.77.2.2.2.cmml" xref="S4.E3.m1.77.77.77.2.2.2">𝐷</ci><interval closure="open" id="S4.E3.m1.147.147.1.1.1.7.6.2.3.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><apply id="S4.E3.m1.147.147.1.1.1.6.5.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.6.5.1.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.79.79.79.4.4.4.cmml" xref="S4.E3.m1.79.79.79.4.4.4">𝑟</ci><ci id="S4.E3.m1.80.80.80.5.5.5.cmml" xref="S4.E3.m1.80.80.80.5.5.5">𝑒</ci><ci id="S4.E3.m1.81.81.81.6.6.6.cmml" xref="S4.E3.m1.81.81.81.6.6.6">𝑡</ci><ci id="S4.E3.m1.82.82.82.7.7.7.cmml" xref="S4.E3.m1.82.82.82.7.7.7">𝑟</ci><ci id="S4.E3.m1.83.83.83.8.8.8.cmml" xref="S4.E3.m1.83.83.83.8.8.8">𝑖</ci><ci id="S4.E3.m1.84.84.84.9.9.9.cmml" xref="S4.E3.m1.84.84.84.9.9.9">𝑒</ci><ci id="S4.E3.m1.85.85.85.10.10.10.cmml" xref="S4.E3.m1.85.85.85.10.10.10">𝑣</ci><ci id="S4.E3.m1.86.86.86.11.11.11.cmml" xref="S4.E3.m1.86.86.86.11.11.11">𝑎</ci><ci id="S4.E3.m1.87.87.87.12.12.12.cmml" xref="S4.E3.m1.87.87.87.12.12.12">𝑙</ci><ci id="S4.E3.m1.88.88.88.13.13.13.cmml" xref="S4.E3.m1.88.88.88.13.13.13">𝑆</ci><ci id="S4.E3.m1.89.89.89.14.14.14.cmml" xref="S4.E3.m1.89.89.89.14.14.14">𝑤</ci><ci id="S4.E3.m1.90.90.90.15.15.15.cmml" xref="S4.E3.m1.90.90.90.15.15.15">𝐿</ci><ci id="S4.E3.m1.91.91.91.16.16.16.cmml" xref="S4.E3.m1.91.91.91.16.16.16">𝑎</ci><ci id="S4.E3.m1.92.92.92.17.17.17.cmml" xref="S4.E3.m1.92.92.92.17.17.17">𝑡</ci></apply><apply id="S4.E3.m1.147.147.1.1.1.7.6.2.2.2.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.7.6.2.2.2.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.94.94.94.19.19.19.cmml" xref="S4.E3.m1.94.94.94.19.19.19">𝑏</ci><ci id="S4.E3.m1.95.95.95.20.20.20.cmml" xref="S4.E3.m1.95.95.95.20.20.20">𝑜</ci><ci id="S4.E3.m1.96.96.96.21.21.21.cmml" xref="S4.E3.m1.96.96.96.21.21.21">𝑜</ci><ci id="S4.E3.m1.97.97.97.22.22.22.cmml" xref="S4.E3.m1.97.97.97.22.22.22">𝑘</ci><ci id="S4.E3.m1.98.98.98.23.23.23.cmml" xref="S4.E3.m1.98.98.98.23.23.23">𝑒</ci><ci id="S4.E3.m1.99.99.99.24.24.24.cmml" xref="S4.E3.m1.99.99.99.24.24.24">𝑑</ci><ci id="S4.E3.m1.100.100.100.25.25.25.cmml" xref="S4.E3.m1.100.100.100.25.25.25">𝐿</ci><ci id="S4.E3.m1.101.101.101.26.26.26.cmml" xref="S4.E3.m1.101.101.101.26.26.26">𝑖</ci><ci id="S4.E3.m1.102.102.102.27.27.27.cmml" xref="S4.E3.m1.102.102.102.27.27.27">𝑠</ci><ci id="S4.E3.m1.103.103.103.28.28.28.cmml" xref="S4.E3.m1.103.103.103.28.28.28">𝑡</ci><ci id="S4.E3.m1.104.104.104.29.29.29.cmml" xref="S4.E3.m1.104.104.104.29.29.29">𝑖</ci><ci id="S4.E3.m1.105.105.105.30.30.30.cmml" xref="S4.E3.m1.105.105.105.30.30.30">𝑛</ci><ci id="S4.E3.m1.106.106.106.31.31.31.cmml" xref="S4.E3.m1.106.106.106.31.31.31">𝑔</ci><ci id="S4.E3.m1.107.107.107.32.32.32.cmml" xref="S4.E3.m1.107.107.107.32.32.32">𝐿</ci><ci id="S4.E3.m1.108.108.108.33.33.33.cmml" xref="S4.E3.m1.108.108.108.33.33.33">𝑎</ci><ci id="S4.E3.m1.109.109.109.34.34.34.cmml" xref="S4.E3.m1.109.109.109.34.34.34">𝑡</ci></apply></interval></apply><apply id="S4.E3.m1.147.147.1.1.1.9.8.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.9.8.3.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.112.112.112.2.2.2.cmml" xref="S4.E3.m1.112.112.112.2.2.2">𝐷</ci><interval closure="open" id="S4.E3.m1.147.147.1.1.1.9.8.2.3.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><apply id="S4.E3.m1.147.147.1.1.1.8.7.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.8.7.1.1.1.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.114.114.114.4.4.4.cmml" xref="S4.E3.m1.114.114.114.4.4.4">𝑟</ci><ci id="S4.E3.m1.115.115.115.5.5.5.cmml" xref="S4.E3.m1.115.115.115.5.5.5">𝑒</ci><ci id="S4.E3.m1.116.116.116.6.6.6.cmml" xref="S4.E3.m1.116.116.116.6.6.6">𝑡</ci><ci id="S4.E3.m1.117.117.117.7.7.7.cmml" xref="S4.E3.m1.117.117.117.7.7.7">𝑟</ci><ci id="S4.E3.m1.118.118.118.8.8.8.cmml" xref="S4.E3.m1.118.118.118.8.8.8">𝑖</ci><ci id="S4.E3.m1.119.119.119.9.9.9.cmml" xref="S4.E3.m1.119.119.119.9.9.9">𝑒</ci><ci id="S4.E3.m1.120.120.120.10.10.10.cmml" xref="S4.E3.m1.120.120.120.10.10.10">𝑣</ci><ci id="S4.E3.m1.121.121.121.11.11.11.cmml" xref="S4.E3.m1.121.121.121.11.11.11">𝑎</ci><ci id="S4.E3.m1.122.122.122.12.12.12.cmml" xref="S4.E3.m1.122.122.122.12.12.12">𝑙</ci><ci id="S4.E3.m1.123.123.123.13.13.13.cmml" xref="S4.E3.m1.123.123.123.13.13.13">𝑁</ci><ci id="S4.E3.m1.124.124.124.14.14.14.cmml" xref="S4.E3.m1.124.124.124.14.14.14">𝑒</ci><ci id="S4.E3.m1.125.125.125.15.15.15.cmml" xref="S4.E3.m1.125.125.125.15.15.15">𝐿</ci><ci id="S4.E3.m1.126.126.126.16.16.16.cmml" xref="S4.E3.m1.126.126.126.16.16.16">𝑎</ci><ci id="S4.E3.m1.127.127.127.17.17.17.cmml" xref="S4.E3.m1.127.127.127.17.17.17">𝑡</ci></apply><apply id="S4.E3.m1.147.147.1.1.1.9.8.2.2.2.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"><times id="S4.E3.m1.147.147.1.1.1.9.8.2.2.2.1.cmml" xref="S4.E3.m1.148.148.2.147.41.41.41.2"></times><ci id="S4.E3.m1.129.129.129.19.19.19.cmml" xref="S4.E3.m1.129.129.129.19.19.19">𝑏</ci><ci id="S4.E3.m1.130.130.130.20.20.20.cmml" xref="S4.E3.m1.130.130.130.20.20.20">𝑜</ci><ci id="S4.E3.m1.131.131.131.21.21.21.cmml" xref="S4.E3.m1.131.131.131.21.21.21">𝑜</ci><ci id="S4.E3.m1.132.132.132.22.22.22.cmml" xref="S4.E3.m1.132.132.132.22.22.22">𝑘</ci><ci id="S4.E3.m1.133.133.133.23.23.23.cmml" xref="S4.E3.m1.133.133.133.23.23.23">𝑒</ci><ci id="S4.E3.m1.134.134.134.24.24.24.cmml" xref="S4.E3.m1.134.134.134.24.24.24">𝑑</ci><ci id="S4.E3.m1.135.135.135.25.25.25.cmml" xref="S4.E3.m1.135.135.135.25.25.25">𝐿</ci><ci id="S4.E3.m1.136.136.136.26.26.26.cmml" xref="S4.E3.m1.136.136.136.26.26.26">𝑖</ci><ci id="S4.E3.m1.137.137.137.27.27.27.cmml" xref="S4.E3.m1.137.137.137.27.27.27">𝑠</ci><ci id="S4.E3.m1.138.138.138.28.28.28.cmml" xref="S4.E3.m1.138.138.138.28.28.28">𝑡</ci><ci id="S4.E3.m1.139.139.139.29.29.29.cmml" xref="S4.E3.m1.139.139.139.29.29.29">𝑖</ci><ci id="S4.E3.m1.140.140.140.30.30.30.cmml" xref="S4.E3.m1.140.140.140.30.30.30">𝑛</ci><ci id="S4.E3.m1.141.141.141.31.31.31.cmml" xref="S4.E3.m1.141.141.141.31.31.31">𝑔</ci><ci id="S4.E3.m1.142.142.142.32.32.32.cmml" xref="S4.E3.m1.142.142.142.32.32.32">𝐿</ci><ci id="S4.E3.m1.143.143.143.33.33.33.cmml" xref="S4.E3.m1.143.143.143.33.33.33">𝑎</ci><ci id="S4.E3.m1.144.144.144.34.34.34.cmml" xref="S4.E3.m1.144.144.144.34.34.34">𝑡</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.155c">\begin{split}\mathbf{L}(BL)=D(retrievalSwLng,bookedListingLng)\\
+D(retrievalNeLng,bookedListingLng)\\
+D(retrievalSwLat,bookedListingLat)\\
+D(retrievalNeLat,bookedListingLat),\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E3.m1.155d">start_ROW start_CELL bold_L ( italic_B italic_L ) = italic_D ( italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_S italic_w italic_L italic_n italic_g , italic_b italic_o italic_o italic_k italic_e italic_d italic_L italic_i italic_s italic_t italic_i italic_n italic_g italic_L italic_n italic_g ) end_CELL end_ROW start_ROW start_CELL + italic_D ( italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_N italic_e italic_L italic_n italic_g , italic_b italic_o italic_o italic_k italic_e italic_d italic_L italic_i italic_s italic_t italic_i italic_n italic_g italic_L italic_n italic_g ) end_CELL end_ROW start_ROW start_CELL + italic_D ( italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_S italic_w italic_L italic_a italic_t , italic_b italic_o italic_o italic_k italic_e italic_d italic_L italic_i italic_s italic_t italic_i italic_n italic_g italic_L italic_a italic_t ) end_CELL end_ROW start_ROW start_CELL + italic_D ( italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_N italic_e italic_L italic_a italic_t , italic_b italic_o italic_o italic_k italic_e italic_d italic_L italic_i italic_s italic_t italic_i italic_n italic_g italic_L italic_a italic_t ) , end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.I2.i1.p1.2">where D(a, b) is the geographical distance between coordinates a and b.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.p1.1.1">Retrieval Bounds Size (RBS) Loss</span>: This loss penalizes the model for predicting retrieval bounds that are unnecessarily large. This loss acts as a ”quasi-negative” and prevents the model from predicting retrieval bounds that cover the entire world to minimize the Booked Listing Location Loss.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}\mathbf{L}(RBS)=W(retrievalNeLng,retrievalSwLng)\\
+H(retrievalNeLat,retrievalSwLat),\end{split}" class="ltx_Math" display="block" id="S4.E4.m1.78"><semantics id="S4.E4.m1.78a"><mtable displaystyle="true" id="S4.E4.m1.78.78.5" rowspacing="0pt"><mtr id="S4.E4.m1.78.78.5a"><mtd class="ltx_align_right" columnalign="right" id="S4.E4.m1.78.78.5b"><mrow id="S4.E4.m1.77.77.4.76.42.42"><mrow id="S4.E4.m1.75.75.2.74.40.40.40"><mi id="S4.E4.m1.1.1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.1.1.cmml">𝐋</mi><mo id="S4.E4.m1.75.75.2.74.40.40.40.2" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mrow id="S4.E4.m1.75.75.2.74.40.40.40.1.1"><mo id="S4.E4.m1.2.2.2.2.2.2" stretchy="false" xref="S4.E4.m1.74.74.1.1.1.cmml">(</mo><mrow id="S4.E4.m1.75.75.2.74.40.40.40.1.1.1"><mi id="S4.E4.m1.3.3.3.3.3.3" xref="S4.E4.m1.3.3.3.3.3.3.cmml">R</mi><mo id="S4.E4.m1.75.75.2.74.40.40.40.1.1.1.1" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.4.4.4.4.4.4" xref="S4.E4.m1.4.4.4.4.4.4.cmml">B</mi><mo id="S4.E4.m1.75.75.2.74.40.40.40.1.1.1.1a" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.5.5.5.5.5.5" xref="S4.E4.m1.5.5.5.5.5.5.cmml">S</mi></mrow><mo id="S4.E4.m1.6.6.6.6.6.6" stretchy="false" xref="S4.E4.m1.74.74.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E4.m1.7.7.7.7.7.7" xref="S4.E4.m1.7.7.7.7.7.7.cmml">=</mo><mrow id="S4.E4.m1.77.77.4.76.42.42.42"><mi id="S4.E4.m1.8.8.8.8.8.8" xref="S4.E4.m1.8.8.8.8.8.8.cmml">W</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.3" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mrow id="S4.E4.m1.77.77.4.76.42.42.42.2.2"><mo id="S4.E4.m1.9.9.9.9.9.9" stretchy="false" xref="S4.E4.m1.74.74.1.1.1.cmml">(</mo><mrow id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1"><mi id="S4.E4.m1.10.10.10.10.10.10" xref="S4.E4.m1.10.10.10.10.10.10.cmml">r</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.11.11.11.11.11.11" xref="S4.E4.m1.11.11.11.11.11.11.cmml">e</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1a" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.12.12.12.12.12.12" xref="S4.E4.m1.12.12.12.12.12.12.cmml">t</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1b" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.13.13.13.13.13.13" xref="S4.E4.m1.13.13.13.13.13.13.cmml">r</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1c" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.14.14.14.14.14.14" xref="S4.E4.m1.14.14.14.14.14.14.cmml">i</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1d" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.15.15.15.15.15.15" xref="S4.E4.m1.15.15.15.15.15.15.cmml">e</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1e" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.16.16.16.16.16.16" xref="S4.E4.m1.16.16.16.16.16.16.cmml">v</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1f" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.17.17.17.17.17.17" xref="S4.E4.m1.17.17.17.17.17.17.cmml">a</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1g" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.18.18.18.18.18.18" xref="S4.E4.m1.18.18.18.18.18.18.cmml">l</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1h" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.19.19.19.19.19.19" xref="S4.E4.m1.19.19.19.19.19.19.cmml">N</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1i" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.20.20.20.20.20.20" xref="S4.E4.m1.20.20.20.20.20.20.cmml">e</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1j" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.21.21.21.21.21.21" xref="S4.E4.m1.21.21.21.21.21.21.cmml">L</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1k" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.22.22.22.22.22.22" xref="S4.E4.m1.22.22.22.22.22.22.cmml">n</mi><mo id="S4.E4.m1.76.76.3.75.41.41.41.1.1.1.1l" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.23.23.23.23.23.23" xref="S4.E4.m1.23.23.23.23.23.23.cmml">g</mi></mrow><mo id="S4.E4.m1.24.24.24.24.24.24" xref="S4.E4.m1.74.74.1.1.1.cmml">,</mo><mrow id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2"><mi id="S4.E4.m1.25.25.25.25.25.25" xref="S4.E4.m1.25.25.25.25.25.25.cmml">r</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.26.26.26.26.26.26" xref="S4.E4.m1.26.26.26.26.26.26.cmml">e</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1a" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.27.27.27.27.27.27" xref="S4.E4.m1.27.27.27.27.27.27.cmml">t</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1b" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.28.28.28.28.28.28" xref="S4.E4.m1.28.28.28.28.28.28.cmml">r</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1c" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.29.29.29.29.29.29" xref="S4.E4.m1.29.29.29.29.29.29.cmml">i</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1d" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.30.30.30.30.30.30" xref="S4.E4.m1.30.30.30.30.30.30.cmml">e</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1e" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.31.31.31.31.31.31" xref="S4.E4.m1.31.31.31.31.31.31.cmml">v</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1f" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.32.32.32.32.32.32" xref="S4.E4.m1.32.32.32.32.32.32.cmml">a</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1g" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.33.33.33.33.33.33" xref="S4.E4.m1.33.33.33.33.33.33.cmml">l</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1h" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.34.34.34.34.34.34" xref="S4.E4.m1.34.34.34.34.34.34.cmml">S</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1i" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.35.35.35.35.35.35" xref="S4.E4.m1.35.35.35.35.35.35.cmml">w</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1j" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.36.36.36.36.36.36" xref="S4.E4.m1.36.36.36.36.36.36.cmml">L</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1k" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.37.37.37.37.37.37" xref="S4.E4.m1.37.37.37.37.37.37.cmml">n</mi><mo id="S4.E4.m1.77.77.4.76.42.42.42.2.2.2.1l" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.38.38.38.38.38.38" xref="S4.E4.m1.38.38.38.38.38.38.cmml">g</mi></mrow><mo id="S4.E4.m1.39.39.39.39.39.39" stretchy="false" xref="S4.E4.m1.74.74.1.1.1.cmml">)</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S4.E4.m1.78.78.5c"><mtd class="ltx_align_right" columnalign="right" id="S4.E4.m1.78.78.5d"><mrow id="S4.E4.m1.78.78.5.77.35.35.35"><mrow id="S4.E4.m1.78.78.5.77.35.35.35.1"><mo id="S4.E4.m1.78.78.5.77.35.35.35.1a" xref="S4.E4.m1.74.74.1.1.1.cmml">+</mo><mrow id="S4.E4.m1.78.78.5.77.35.35.35.1.2"><mi id="S4.E4.m1.41.41.41.2.2.2" xref="S4.E4.m1.41.41.41.2.2.2.cmml">H</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.3" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mrow id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2"><mo id="S4.E4.m1.42.42.42.3.3.3" stretchy="false" xref="S4.E4.m1.74.74.1.1.1.cmml">(</mo><mrow id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1"><mi id="S4.E4.m1.43.43.43.4.4.4" xref="S4.E4.m1.43.43.43.4.4.4.cmml">r</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.44.44.44.5.5.5" xref="S4.E4.m1.44.44.44.5.5.5.cmml">e</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1a" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.45.45.45.6.6.6" xref="S4.E4.m1.45.45.45.6.6.6.cmml">t</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1b" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.46.46.46.7.7.7" xref="S4.E4.m1.46.46.46.7.7.7.cmml">r</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1c" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.47.47.47.8.8.8" xref="S4.E4.m1.47.47.47.8.8.8.cmml">i</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1d" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.48.48.48.9.9.9" xref="S4.E4.m1.48.48.48.9.9.9.cmml">e</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1e" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.49.49.49.10.10.10" xref="S4.E4.m1.49.49.49.10.10.10.cmml">v</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1f" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.50.50.50.11.11.11" xref="S4.E4.m1.50.50.50.11.11.11.cmml">a</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1g" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.51.51.51.12.12.12" xref="S4.E4.m1.51.51.51.12.12.12.cmml">l</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1h" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.52.52.52.13.13.13" xref="S4.E4.m1.52.52.52.13.13.13.cmml">N</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1i" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.53.53.53.14.14.14" xref="S4.E4.m1.53.53.53.14.14.14.cmml">e</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1j" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.54.54.54.15.15.15" xref="S4.E4.m1.54.54.54.15.15.15.cmml">L</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1k" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.55.55.55.16.16.16" xref="S4.E4.m1.55.55.55.16.16.16.cmml">a</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.1.1.1.1.1l" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.56.56.56.17.17.17" xref="S4.E4.m1.56.56.56.17.17.17.cmml">t</mi></mrow><mo id="S4.E4.m1.57.57.57.18.18.18" xref="S4.E4.m1.74.74.1.1.1.cmml">,</mo><mrow id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2"><mi id="S4.E4.m1.58.58.58.19.19.19" xref="S4.E4.m1.58.58.58.19.19.19.cmml">r</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.59.59.59.20.20.20" xref="S4.E4.m1.59.59.59.20.20.20.cmml">e</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1a" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.60.60.60.21.21.21" xref="S4.E4.m1.60.60.60.21.21.21.cmml">t</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1b" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.61.61.61.22.22.22" xref="S4.E4.m1.61.61.61.22.22.22.cmml">r</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1c" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.62.62.62.23.23.23" xref="S4.E4.m1.62.62.62.23.23.23.cmml">i</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1d" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.63.63.63.24.24.24" xref="S4.E4.m1.63.63.63.24.24.24.cmml">e</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1e" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.64.64.64.25.25.25" xref="S4.E4.m1.64.64.64.25.25.25.cmml">v</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1f" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.65.65.65.26.26.26" xref="S4.E4.m1.65.65.65.26.26.26.cmml">a</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1g" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.66.66.66.27.27.27" xref="S4.E4.m1.66.66.66.27.27.27.cmml">l</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1h" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.67.67.67.28.28.28" xref="S4.E4.m1.67.67.67.28.28.28.cmml">S</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1i" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.68.68.68.29.29.29" xref="S4.E4.m1.68.68.68.29.29.29.cmml">w</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1j" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.69.69.69.30.30.30" xref="S4.E4.m1.69.69.69.30.30.30.cmml">L</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1k" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.70.70.70.31.31.31" xref="S4.E4.m1.70.70.70.31.31.31.cmml">a</mi><mo id="S4.E4.m1.78.78.5.77.35.35.35.1.2.2.2.2.1l" xref="S4.E4.m1.74.74.1.1.1.cmml">⁢</mo><mi id="S4.E4.m1.71.71.71.32.32.32" xref="S4.E4.m1.71.71.71.32.32.32.cmml">t</mi></mrow><mo id="S4.E4.m1.72.72.72.33.33.33" stretchy="false" xref="S4.E4.m1.74.74.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E4.m1.73.73.73.34.34.34" xref="S4.E4.m1.74.74.1.1.1.cmml">,</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E4.m1.78b"><apply id="S4.E4.m1.74.74.1.1.1.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><eq id="S4.E4.m1.7.7.7.7.7.7.cmml" xref="S4.E4.m1.7.7.7.7.7.7"></eq><apply id="S4.E4.m1.74.74.1.1.1.1.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><times id="S4.E4.m1.74.74.1.1.1.1.2.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"></times><ci id="S4.E4.m1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1">𝐋</ci><apply id="S4.E4.m1.74.74.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><times id="S4.E4.m1.74.74.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"></times><ci id="S4.E4.m1.3.3.3.3.3.3.cmml" xref="S4.E4.m1.3.3.3.3.3.3">𝑅</ci><ci id="S4.E4.m1.4.4.4.4.4.4.cmml" xref="S4.E4.m1.4.4.4.4.4.4">𝐵</ci><ci id="S4.E4.m1.5.5.5.5.5.5.cmml" xref="S4.E4.m1.5.5.5.5.5.5">𝑆</ci></apply></apply><apply id="S4.E4.m1.74.74.1.1.1.5.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><plus id="S4.E4.m1.40.40.40.1.1.1.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"></plus><apply id="S4.E4.m1.74.74.1.1.1.3.2.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><times id="S4.E4.m1.74.74.1.1.1.3.2.3.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"></times><ci id="S4.E4.m1.8.8.8.8.8.8.cmml" xref="S4.E4.m1.8.8.8.8.8.8">𝑊</ci><interval closure="open" id="S4.E4.m1.74.74.1.1.1.3.2.2.3.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><apply id="S4.E4.m1.74.74.1.1.1.2.1.1.1.1.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><times id="S4.E4.m1.74.74.1.1.1.2.1.1.1.1.1.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"></times><ci id="S4.E4.m1.10.10.10.10.10.10.cmml" xref="S4.E4.m1.10.10.10.10.10.10">𝑟</ci><ci id="S4.E4.m1.11.11.11.11.11.11.cmml" xref="S4.E4.m1.11.11.11.11.11.11">𝑒</ci><ci id="S4.E4.m1.12.12.12.12.12.12.cmml" xref="S4.E4.m1.12.12.12.12.12.12">𝑡</ci><ci id="S4.E4.m1.13.13.13.13.13.13.cmml" xref="S4.E4.m1.13.13.13.13.13.13">𝑟</ci><ci id="S4.E4.m1.14.14.14.14.14.14.cmml" xref="S4.E4.m1.14.14.14.14.14.14">𝑖</ci><ci id="S4.E4.m1.15.15.15.15.15.15.cmml" xref="S4.E4.m1.15.15.15.15.15.15">𝑒</ci><ci id="S4.E4.m1.16.16.16.16.16.16.cmml" xref="S4.E4.m1.16.16.16.16.16.16">𝑣</ci><ci id="S4.E4.m1.17.17.17.17.17.17.cmml" xref="S4.E4.m1.17.17.17.17.17.17">𝑎</ci><ci id="S4.E4.m1.18.18.18.18.18.18.cmml" xref="S4.E4.m1.18.18.18.18.18.18">𝑙</ci><ci id="S4.E4.m1.19.19.19.19.19.19.cmml" xref="S4.E4.m1.19.19.19.19.19.19">𝑁</ci><ci id="S4.E4.m1.20.20.20.20.20.20.cmml" xref="S4.E4.m1.20.20.20.20.20.20">𝑒</ci><ci id="S4.E4.m1.21.21.21.21.21.21.cmml" xref="S4.E4.m1.21.21.21.21.21.21">𝐿</ci><ci id="S4.E4.m1.22.22.22.22.22.22.cmml" xref="S4.E4.m1.22.22.22.22.22.22">𝑛</ci><ci id="S4.E4.m1.23.23.23.23.23.23.cmml" xref="S4.E4.m1.23.23.23.23.23.23">𝑔</ci></apply><apply id="S4.E4.m1.74.74.1.1.1.3.2.2.2.2.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><times id="S4.E4.m1.74.74.1.1.1.3.2.2.2.2.1.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"></times><ci id="S4.E4.m1.25.25.25.25.25.25.cmml" xref="S4.E4.m1.25.25.25.25.25.25">𝑟</ci><ci id="S4.E4.m1.26.26.26.26.26.26.cmml" xref="S4.E4.m1.26.26.26.26.26.26">𝑒</ci><ci id="S4.E4.m1.27.27.27.27.27.27.cmml" xref="S4.E4.m1.27.27.27.27.27.27">𝑡</ci><ci id="S4.E4.m1.28.28.28.28.28.28.cmml" xref="S4.E4.m1.28.28.28.28.28.28">𝑟</ci><ci id="S4.E4.m1.29.29.29.29.29.29.cmml" xref="S4.E4.m1.29.29.29.29.29.29">𝑖</ci><ci id="S4.E4.m1.30.30.30.30.30.30.cmml" xref="S4.E4.m1.30.30.30.30.30.30">𝑒</ci><ci id="S4.E4.m1.31.31.31.31.31.31.cmml" xref="S4.E4.m1.31.31.31.31.31.31">𝑣</ci><ci id="S4.E4.m1.32.32.32.32.32.32.cmml" xref="S4.E4.m1.32.32.32.32.32.32">𝑎</ci><ci id="S4.E4.m1.33.33.33.33.33.33.cmml" xref="S4.E4.m1.33.33.33.33.33.33">𝑙</ci><ci id="S4.E4.m1.34.34.34.34.34.34.cmml" xref="S4.E4.m1.34.34.34.34.34.34">𝑆</ci><ci id="S4.E4.m1.35.35.35.35.35.35.cmml" xref="S4.E4.m1.35.35.35.35.35.35">𝑤</ci><ci id="S4.E4.m1.36.36.36.36.36.36.cmml" xref="S4.E4.m1.36.36.36.36.36.36">𝐿</ci><ci id="S4.E4.m1.37.37.37.37.37.37.cmml" xref="S4.E4.m1.37.37.37.37.37.37">𝑛</ci><ci id="S4.E4.m1.38.38.38.38.38.38.cmml" xref="S4.E4.m1.38.38.38.38.38.38">𝑔</ci></apply></interval></apply><apply id="S4.E4.m1.74.74.1.1.1.5.4.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><times id="S4.E4.m1.74.74.1.1.1.5.4.3.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"></times><ci id="S4.E4.m1.41.41.41.2.2.2.cmml" xref="S4.E4.m1.41.41.41.2.2.2">𝐻</ci><interval closure="open" id="S4.E4.m1.74.74.1.1.1.5.4.2.3.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><apply id="S4.E4.m1.74.74.1.1.1.4.3.1.1.1.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><times id="S4.E4.m1.74.74.1.1.1.4.3.1.1.1.1.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"></times><ci id="S4.E4.m1.43.43.43.4.4.4.cmml" xref="S4.E4.m1.43.43.43.4.4.4">𝑟</ci><ci id="S4.E4.m1.44.44.44.5.5.5.cmml" xref="S4.E4.m1.44.44.44.5.5.5">𝑒</ci><ci id="S4.E4.m1.45.45.45.6.6.6.cmml" xref="S4.E4.m1.45.45.45.6.6.6">𝑡</ci><ci id="S4.E4.m1.46.46.46.7.7.7.cmml" xref="S4.E4.m1.46.46.46.7.7.7">𝑟</ci><ci id="S4.E4.m1.47.47.47.8.8.8.cmml" xref="S4.E4.m1.47.47.47.8.8.8">𝑖</ci><ci id="S4.E4.m1.48.48.48.9.9.9.cmml" xref="S4.E4.m1.48.48.48.9.9.9">𝑒</ci><ci id="S4.E4.m1.49.49.49.10.10.10.cmml" xref="S4.E4.m1.49.49.49.10.10.10">𝑣</ci><ci id="S4.E4.m1.50.50.50.11.11.11.cmml" xref="S4.E4.m1.50.50.50.11.11.11">𝑎</ci><ci id="S4.E4.m1.51.51.51.12.12.12.cmml" xref="S4.E4.m1.51.51.51.12.12.12">𝑙</ci><ci id="S4.E4.m1.52.52.52.13.13.13.cmml" xref="S4.E4.m1.52.52.52.13.13.13">𝑁</ci><ci id="S4.E4.m1.53.53.53.14.14.14.cmml" xref="S4.E4.m1.53.53.53.14.14.14">𝑒</ci><ci id="S4.E4.m1.54.54.54.15.15.15.cmml" xref="S4.E4.m1.54.54.54.15.15.15">𝐿</ci><ci id="S4.E4.m1.55.55.55.16.16.16.cmml" xref="S4.E4.m1.55.55.55.16.16.16">𝑎</ci><ci id="S4.E4.m1.56.56.56.17.17.17.cmml" xref="S4.E4.m1.56.56.56.17.17.17">𝑡</ci></apply><apply id="S4.E4.m1.74.74.1.1.1.5.4.2.2.2.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"><times id="S4.E4.m1.74.74.1.1.1.5.4.2.2.2.1.cmml" xref="S4.E4.m1.75.75.2.74.40.40.40.2"></times><ci id="S4.E4.m1.58.58.58.19.19.19.cmml" xref="S4.E4.m1.58.58.58.19.19.19">𝑟</ci><ci id="S4.E4.m1.59.59.59.20.20.20.cmml" xref="S4.E4.m1.59.59.59.20.20.20">𝑒</ci><ci id="S4.E4.m1.60.60.60.21.21.21.cmml" xref="S4.E4.m1.60.60.60.21.21.21">𝑡</ci><ci id="S4.E4.m1.61.61.61.22.22.22.cmml" xref="S4.E4.m1.61.61.61.22.22.22">𝑟</ci><ci id="S4.E4.m1.62.62.62.23.23.23.cmml" xref="S4.E4.m1.62.62.62.23.23.23">𝑖</ci><ci id="S4.E4.m1.63.63.63.24.24.24.cmml" xref="S4.E4.m1.63.63.63.24.24.24">𝑒</ci><ci id="S4.E4.m1.64.64.64.25.25.25.cmml" xref="S4.E4.m1.64.64.64.25.25.25">𝑣</ci><ci id="S4.E4.m1.65.65.65.26.26.26.cmml" xref="S4.E4.m1.65.65.65.26.26.26">𝑎</ci><ci id="S4.E4.m1.66.66.66.27.27.27.cmml" xref="S4.E4.m1.66.66.66.27.27.27">𝑙</ci><ci id="S4.E4.m1.67.67.67.28.28.28.cmml" xref="S4.E4.m1.67.67.67.28.28.28">𝑆</ci><ci id="S4.E4.m1.68.68.68.29.29.29.cmml" xref="S4.E4.m1.68.68.68.29.29.29">𝑤</ci><ci id="S4.E4.m1.69.69.69.30.30.30.cmml" xref="S4.E4.m1.69.69.69.30.30.30">𝐿</ci><ci id="S4.E4.m1.70.70.70.31.31.31.cmml" xref="S4.E4.m1.70.70.70.31.31.31">𝑎</ci><ci id="S4.E4.m1.71.71.71.32.32.32.cmml" xref="S4.E4.m1.71.71.71.32.32.32">𝑡</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.78c">\begin{split}\mathbf{L}(RBS)=W(retrievalNeLng,retrievalSwLng)\\
+H(retrievalNeLat,retrievalSwLat),\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E4.m1.78d">start_ROW start_CELL bold_L ( italic_R italic_B italic_S ) = italic_W ( italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_N italic_e italic_L italic_n italic_g , italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_S italic_w italic_L italic_n italic_g ) end_CELL end_ROW start_ROW start_CELL + italic_H ( italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_N italic_e italic_L italic_a italic_t , italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_S italic_w italic_L italic_a italic_t ) , end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.I2.i2.p1.2">where W(a, b) and H(a, b) are the difference in degrees between points a and b converted to kilometers</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i3.p1.1.1">Valid Bounds (VB) Loss</span>: This loss penalizes the model for predicting invalid bounding boxes. This occurs if the predicted southwest bound is north or east of the predicted northeast bound.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}\mathbf{L}(VB)=max(retrievalSwLat-retrievalNeLat,0)\\
+max(retrievalSwLng-retrievalNeLng,0),\end{split}" class="ltx_Math" display="block" id="S4.E5.m1.84"><semantics id="S4.E5.m1.84a"><mtable displaystyle="true" id="S4.E5.m1.84.84.4" rowspacing="0pt"><mtr id="S4.E5.m1.84.84.4a"><mtd class="ltx_align_right" columnalign="right" id="S4.E5.m1.84.84.4b"><mrow id="S4.E5.m1.83.83.3.82.44.44"><mrow id="S4.E5.m1.82.82.2.81.43.43.43"><mi id="S4.E5.m1.1.1.1.1.1.1" xref="S4.E5.m1.1.1.1.1.1.1.cmml">𝐋</mi><mo id="S4.E5.m1.82.82.2.81.43.43.43.2" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mrow id="S4.E5.m1.82.82.2.81.43.43.43.1.1"><mo id="S4.E5.m1.2.2.2.2.2.2" stretchy="false" xref="S4.E5.m1.81.81.1.1.1.cmml">(</mo><mrow id="S4.E5.m1.82.82.2.81.43.43.43.1.1.1"><mi id="S4.E5.m1.3.3.3.3.3.3" xref="S4.E5.m1.3.3.3.3.3.3.cmml">V</mi><mo id="S4.E5.m1.82.82.2.81.43.43.43.1.1.1.1" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.4.4.4.4.4.4" xref="S4.E5.m1.4.4.4.4.4.4.cmml">B</mi></mrow><mo id="S4.E5.m1.5.5.5.5.5.5" stretchy="false" xref="S4.E5.m1.81.81.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E5.m1.6.6.6.6.6.6" xref="S4.E5.m1.6.6.6.6.6.6.cmml">=</mo><mrow id="S4.E5.m1.83.83.3.82.44.44.44"><mi id="S4.E5.m1.7.7.7.7.7.7" xref="S4.E5.m1.7.7.7.7.7.7.cmml">m</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.2" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.8.8.8.8.8.8" xref="S4.E5.m1.8.8.8.8.8.8.cmml">a</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.2a" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.9.9.9.9.9.9" xref="S4.E5.m1.9.9.9.9.9.9.cmml">x</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.2b" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mrow id="S4.E5.m1.83.83.3.82.44.44.44.1.1"><mo id="S4.E5.m1.10.10.10.10.10.10" stretchy="false" xref="S4.E5.m1.81.81.1.1.1.cmml">(</mo><mrow id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1"><mrow id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1"><mi id="S4.E5.m1.11.11.11.11.11.11" xref="S4.E5.m1.11.11.11.11.11.11.cmml">r</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.12.12.12.12.12.12" xref="S4.E5.m1.12.12.12.12.12.12.cmml">e</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1a" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.13.13.13.13.13.13" xref="S4.E5.m1.13.13.13.13.13.13.cmml">t</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1b" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.14.14.14.14.14.14" xref="S4.E5.m1.14.14.14.14.14.14.cmml">r</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1c" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.15.15.15.15.15.15" xref="S4.E5.m1.15.15.15.15.15.15.cmml">i</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1d" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.16.16.16.16.16.16" xref="S4.E5.m1.16.16.16.16.16.16.cmml">e</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1e" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.17.17.17.17.17.17" xref="S4.E5.m1.17.17.17.17.17.17.cmml">v</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1f" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.18.18.18.18.18.18" xref="S4.E5.m1.18.18.18.18.18.18.cmml">a</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1g" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.19.19.19.19.19.19" xref="S4.E5.m1.19.19.19.19.19.19.cmml">l</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1h" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.20.20.20.20.20.20" xref="S4.E5.m1.20.20.20.20.20.20.cmml">S</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1i" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.21.21.21.21.21.21" xref="S4.E5.m1.21.21.21.21.21.21.cmml">w</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1j" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.22.22.22.22.22.22" xref="S4.E5.m1.22.22.22.22.22.22.cmml">L</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1k" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.23.23.23.23.23.23" xref="S4.E5.m1.23.23.23.23.23.23.cmml">a</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.1.1l" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.24.24.24.24.24.24" xref="S4.E5.m1.24.24.24.24.24.24.cmml">t</mi></mrow><mo id="S4.E5.m1.25.25.25.25.25.25" xref="S4.E5.m1.25.25.25.25.25.25.cmml">−</mo><mrow id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2"><mi id="S4.E5.m1.26.26.26.26.26.26" xref="S4.E5.m1.26.26.26.26.26.26.cmml">r</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.27.27.27.27.27.27" xref="S4.E5.m1.27.27.27.27.27.27.cmml">e</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1a" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.28.28.28.28.28.28" xref="S4.E5.m1.28.28.28.28.28.28.cmml">t</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1b" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.29.29.29.29.29.29" xref="S4.E5.m1.29.29.29.29.29.29.cmml">r</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1c" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.30.30.30.30.30.30" xref="S4.E5.m1.30.30.30.30.30.30.cmml">i</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1d" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.31.31.31.31.31.31" xref="S4.E5.m1.31.31.31.31.31.31.cmml">e</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1e" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.32.32.32.32.32.32" xref="S4.E5.m1.32.32.32.32.32.32.cmml">v</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1f" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.33.33.33.33.33.33" xref="S4.E5.m1.33.33.33.33.33.33.cmml">a</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1g" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.34.34.34.34.34.34" xref="S4.E5.m1.34.34.34.34.34.34.cmml">l</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1h" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.35.35.35.35.35.35" xref="S4.E5.m1.35.35.35.35.35.35.cmml">N</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1i" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.36.36.36.36.36.36" xref="S4.E5.m1.36.36.36.36.36.36.cmml">e</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1j" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.37.37.37.37.37.37" xref="S4.E5.m1.37.37.37.37.37.37.cmml">L</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1k" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.38.38.38.38.38.38" xref="S4.E5.m1.38.38.38.38.38.38.cmml">a</mi><mo id="S4.E5.m1.83.83.3.82.44.44.44.1.1.1.2.1l" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.39.39.39.39.39.39" xref="S4.E5.m1.39.39.39.39.39.39.cmml">t</mi></mrow></mrow><mo id="S4.E5.m1.40.40.40.40.40.40" xref="S4.E5.m1.81.81.1.1.1.cmml">,</mo><mn id="S4.E5.m1.41.41.41.41.41.41" xref="S4.E5.m1.41.41.41.41.41.41.cmml">0</mn><mo id="S4.E5.m1.42.42.42.42.42.42" stretchy="false" xref="S4.E5.m1.81.81.1.1.1.cmml">)</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S4.E5.m1.84.84.4c"><mtd class="ltx_align_right" columnalign="right" id="S4.E5.m1.84.84.4d"><mrow id="S4.E5.m1.84.84.4.83.39.39.39"><mrow id="S4.E5.m1.84.84.4.83.39.39.39.1"><mo id="S4.E5.m1.84.84.4.83.39.39.39.1a" xref="S4.E5.m1.81.81.1.1.1.cmml">+</mo><mrow id="S4.E5.m1.84.84.4.83.39.39.39.1.1"><mi id="S4.E5.m1.44.44.44.2.2.2" xref="S4.E5.m1.44.44.44.2.2.2.cmml">m</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.2" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.45.45.45.3.3.3" xref="S4.E5.m1.45.45.45.3.3.3.cmml">a</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.2a" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.46.46.46.4.4.4" xref="S4.E5.m1.46.46.46.4.4.4.cmml">x</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.2b" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mrow id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1"><mo id="S4.E5.m1.47.47.47.5.5.5" stretchy="false" xref="S4.E5.m1.81.81.1.1.1.cmml">(</mo><mrow id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1"><mrow id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1"><mi id="S4.E5.m1.48.48.48.6.6.6" xref="S4.E5.m1.48.48.48.6.6.6.cmml">r</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.49.49.49.7.7.7" xref="S4.E5.m1.49.49.49.7.7.7.cmml">e</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1a" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.50.50.50.8.8.8" xref="S4.E5.m1.50.50.50.8.8.8.cmml">t</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1b" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.51.51.51.9.9.9" xref="S4.E5.m1.51.51.51.9.9.9.cmml">r</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1c" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.52.52.52.10.10.10" xref="S4.E5.m1.52.52.52.10.10.10.cmml">i</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1d" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.53.53.53.11.11.11" xref="S4.E5.m1.53.53.53.11.11.11.cmml">e</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1e" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.54.54.54.12.12.12" xref="S4.E5.m1.54.54.54.12.12.12.cmml">v</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1f" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.55.55.55.13.13.13" xref="S4.E5.m1.55.55.55.13.13.13.cmml">a</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1g" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.56.56.56.14.14.14" xref="S4.E5.m1.56.56.56.14.14.14.cmml">l</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1h" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.57.57.57.15.15.15" xref="S4.E5.m1.57.57.57.15.15.15.cmml">S</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1i" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.58.58.58.16.16.16" xref="S4.E5.m1.58.58.58.16.16.16.cmml">w</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1j" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.59.59.59.17.17.17" xref="S4.E5.m1.59.59.59.17.17.17.cmml">L</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1k" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.60.60.60.18.18.18" xref="S4.E5.m1.60.60.60.18.18.18.cmml">n</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.1.1l" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.61.61.61.19.19.19" xref="S4.E5.m1.61.61.61.19.19.19.cmml">g</mi></mrow><mo id="S4.E5.m1.62.62.62.20.20.20" xref="S4.E5.m1.62.62.62.20.20.20.cmml">−</mo><mrow id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2"><mi id="S4.E5.m1.63.63.63.21.21.21" xref="S4.E5.m1.63.63.63.21.21.21.cmml">r</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.64.64.64.22.22.22" xref="S4.E5.m1.64.64.64.22.22.22.cmml">e</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1a" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.65.65.65.23.23.23" xref="S4.E5.m1.65.65.65.23.23.23.cmml">t</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1b" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.66.66.66.24.24.24" xref="S4.E5.m1.66.66.66.24.24.24.cmml">r</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1c" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.67.67.67.25.25.25" xref="S4.E5.m1.67.67.67.25.25.25.cmml">i</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1d" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.68.68.68.26.26.26" xref="S4.E5.m1.68.68.68.26.26.26.cmml">e</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1e" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.69.69.69.27.27.27" xref="S4.E5.m1.69.69.69.27.27.27.cmml">v</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1f" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.70.70.70.28.28.28" xref="S4.E5.m1.70.70.70.28.28.28.cmml">a</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1g" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.71.71.71.29.29.29" xref="S4.E5.m1.71.71.71.29.29.29.cmml">l</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1h" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.72.72.72.30.30.30" xref="S4.E5.m1.72.72.72.30.30.30.cmml">N</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1i" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.73.73.73.31.31.31" xref="S4.E5.m1.73.73.73.31.31.31.cmml">e</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1j" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.74.74.74.32.32.32" xref="S4.E5.m1.74.74.74.32.32.32.cmml">L</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1k" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.75.75.75.33.33.33" xref="S4.E5.m1.75.75.75.33.33.33.cmml">n</mi><mo id="S4.E5.m1.84.84.4.83.39.39.39.1.1.1.1.1.2.1l" xref="S4.E5.m1.81.81.1.1.1.cmml">⁢</mo><mi id="S4.E5.m1.76.76.76.34.34.34" xref="S4.E5.m1.76.76.76.34.34.34.cmml">g</mi></mrow></mrow><mo id="S4.E5.m1.77.77.77.35.35.35" xref="S4.E5.m1.81.81.1.1.1.cmml">,</mo><mn id="S4.E5.m1.78.78.78.36.36.36" xref="S4.E5.m1.78.78.78.36.36.36.cmml">0</mn><mo id="S4.E5.m1.79.79.79.37.37.37" stretchy="false" xref="S4.E5.m1.81.81.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E5.m1.80.80.80.38.38.38" xref="S4.E5.m1.81.81.1.1.1.cmml">,</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E5.m1.84b"><apply id="S4.E5.m1.81.81.1.1.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><eq id="S4.E5.m1.6.6.6.6.6.6.cmml" xref="S4.E5.m1.6.6.6.6.6.6"></eq><apply id="S4.E5.m1.81.81.1.1.1.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><times id="S4.E5.m1.81.81.1.1.1.1.2.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"></times><ci id="S4.E5.m1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.1.1.1.1.1.1">𝐋</ci><apply id="S4.E5.m1.81.81.1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><times id="S4.E5.m1.81.81.1.1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"></times><ci id="S4.E5.m1.3.3.3.3.3.3.cmml" xref="S4.E5.m1.3.3.3.3.3.3">𝑉</ci><ci id="S4.E5.m1.4.4.4.4.4.4.cmml" xref="S4.E5.m1.4.4.4.4.4.4">𝐵</ci></apply></apply><apply id="S4.E5.m1.81.81.1.1.1.3.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><plus id="S4.E5.m1.43.43.43.1.1.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"></plus><apply id="S4.E5.m1.81.81.1.1.1.2.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><times id="S4.E5.m1.81.81.1.1.1.2.1.2.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"></times><ci id="S4.E5.m1.7.7.7.7.7.7.cmml" xref="S4.E5.m1.7.7.7.7.7.7">𝑚</ci><ci id="S4.E5.m1.8.8.8.8.8.8.cmml" xref="S4.E5.m1.8.8.8.8.8.8">𝑎</ci><ci id="S4.E5.m1.9.9.9.9.9.9.cmml" xref="S4.E5.m1.9.9.9.9.9.9">𝑥</ci><interval closure="open" id="S4.E5.m1.81.81.1.1.1.2.1.1.2.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><apply id="S4.E5.m1.81.81.1.1.1.2.1.1.1.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><minus id="S4.E5.m1.25.25.25.25.25.25.cmml" xref="S4.E5.m1.25.25.25.25.25.25"></minus><apply id="S4.E5.m1.81.81.1.1.1.2.1.1.1.1.2.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><times id="S4.E5.m1.81.81.1.1.1.2.1.1.1.1.2.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"></times><ci id="S4.E5.m1.11.11.11.11.11.11.cmml" xref="S4.E5.m1.11.11.11.11.11.11">𝑟</ci><ci id="S4.E5.m1.12.12.12.12.12.12.cmml" xref="S4.E5.m1.12.12.12.12.12.12">𝑒</ci><ci id="S4.E5.m1.13.13.13.13.13.13.cmml" xref="S4.E5.m1.13.13.13.13.13.13">𝑡</ci><ci id="S4.E5.m1.14.14.14.14.14.14.cmml" xref="S4.E5.m1.14.14.14.14.14.14">𝑟</ci><ci id="S4.E5.m1.15.15.15.15.15.15.cmml" xref="S4.E5.m1.15.15.15.15.15.15">𝑖</ci><ci id="S4.E5.m1.16.16.16.16.16.16.cmml" xref="S4.E5.m1.16.16.16.16.16.16">𝑒</ci><ci id="S4.E5.m1.17.17.17.17.17.17.cmml" xref="S4.E5.m1.17.17.17.17.17.17">𝑣</ci><ci id="S4.E5.m1.18.18.18.18.18.18.cmml" xref="S4.E5.m1.18.18.18.18.18.18">𝑎</ci><ci id="S4.E5.m1.19.19.19.19.19.19.cmml" xref="S4.E5.m1.19.19.19.19.19.19">𝑙</ci><ci id="S4.E5.m1.20.20.20.20.20.20.cmml" xref="S4.E5.m1.20.20.20.20.20.20">𝑆</ci><ci id="S4.E5.m1.21.21.21.21.21.21.cmml" xref="S4.E5.m1.21.21.21.21.21.21">𝑤</ci><ci id="S4.E5.m1.22.22.22.22.22.22.cmml" xref="S4.E5.m1.22.22.22.22.22.22">𝐿</ci><ci id="S4.E5.m1.23.23.23.23.23.23.cmml" xref="S4.E5.m1.23.23.23.23.23.23">𝑎</ci><ci id="S4.E5.m1.24.24.24.24.24.24.cmml" xref="S4.E5.m1.24.24.24.24.24.24">𝑡</ci></apply><apply id="S4.E5.m1.81.81.1.1.1.2.1.1.1.1.3.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><times id="S4.E5.m1.81.81.1.1.1.2.1.1.1.1.3.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"></times><ci id="S4.E5.m1.26.26.26.26.26.26.cmml" xref="S4.E5.m1.26.26.26.26.26.26">𝑟</ci><ci id="S4.E5.m1.27.27.27.27.27.27.cmml" xref="S4.E5.m1.27.27.27.27.27.27">𝑒</ci><ci id="S4.E5.m1.28.28.28.28.28.28.cmml" xref="S4.E5.m1.28.28.28.28.28.28">𝑡</ci><ci id="S4.E5.m1.29.29.29.29.29.29.cmml" xref="S4.E5.m1.29.29.29.29.29.29">𝑟</ci><ci id="S4.E5.m1.30.30.30.30.30.30.cmml" xref="S4.E5.m1.30.30.30.30.30.30">𝑖</ci><ci id="S4.E5.m1.31.31.31.31.31.31.cmml" xref="S4.E5.m1.31.31.31.31.31.31">𝑒</ci><ci id="S4.E5.m1.32.32.32.32.32.32.cmml" xref="S4.E5.m1.32.32.32.32.32.32">𝑣</ci><ci id="S4.E5.m1.33.33.33.33.33.33.cmml" xref="S4.E5.m1.33.33.33.33.33.33">𝑎</ci><ci id="S4.E5.m1.34.34.34.34.34.34.cmml" xref="S4.E5.m1.34.34.34.34.34.34">𝑙</ci><ci id="S4.E5.m1.35.35.35.35.35.35.cmml" xref="S4.E5.m1.35.35.35.35.35.35">𝑁</ci><ci id="S4.E5.m1.36.36.36.36.36.36.cmml" xref="S4.E5.m1.36.36.36.36.36.36">𝑒</ci><ci id="S4.E5.m1.37.37.37.37.37.37.cmml" xref="S4.E5.m1.37.37.37.37.37.37">𝐿</ci><ci id="S4.E5.m1.38.38.38.38.38.38.cmml" xref="S4.E5.m1.38.38.38.38.38.38">𝑎</ci><ci id="S4.E5.m1.39.39.39.39.39.39.cmml" xref="S4.E5.m1.39.39.39.39.39.39">𝑡</ci></apply></apply><cn id="S4.E5.m1.41.41.41.41.41.41.cmml" type="integer" xref="S4.E5.m1.41.41.41.41.41.41">0</cn></interval></apply><apply id="S4.E5.m1.81.81.1.1.1.3.2.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><times id="S4.E5.m1.81.81.1.1.1.3.2.2.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"></times><ci id="S4.E5.m1.44.44.44.2.2.2.cmml" xref="S4.E5.m1.44.44.44.2.2.2">𝑚</ci><ci id="S4.E5.m1.45.45.45.3.3.3.cmml" xref="S4.E5.m1.45.45.45.3.3.3">𝑎</ci><ci id="S4.E5.m1.46.46.46.4.4.4.cmml" xref="S4.E5.m1.46.46.46.4.4.4">𝑥</ci><interval closure="open" id="S4.E5.m1.81.81.1.1.1.3.2.1.2.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><apply id="S4.E5.m1.81.81.1.1.1.3.2.1.1.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><minus id="S4.E5.m1.62.62.62.20.20.20.cmml" xref="S4.E5.m1.62.62.62.20.20.20"></minus><apply id="S4.E5.m1.81.81.1.1.1.3.2.1.1.1.2.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><times id="S4.E5.m1.81.81.1.1.1.3.2.1.1.1.2.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"></times><ci id="S4.E5.m1.48.48.48.6.6.6.cmml" xref="S4.E5.m1.48.48.48.6.6.6">𝑟</ci><ci id="S4.E5.m1.49.49.49.7.7.7.cmml" xref="S4.E5.m1.49.49.49.7.7.7">𝑒</ci><ci id="S4.E5.m1.50.50.50.8.8.8.cmml" xref="S4.E5.m1.50.50.50.8.8.8">𝑡</ci><ci id="S4.E5.m1.51.51.51.9.9.9.cmml" xref="S4.E5.m1.51.51.51.9.9.9">𝑟</ci><ci id="S4.E5.m1.52.52.52.10.10.10.cmml" xref="S4.E5.m1.52.52.52.10.10.10">𝑖</ci><ci id="S4.E5.m1.53.53.53.11.11.11.cmml" xref="S4.E5.m1.53.53.53.11.11.11">𝑒</ci><ci id="S4.E5.m1.54.54.54.12.12.12.cmml" xref="S4.E5.m1.54.54.54.12.12.12">𝑣</ci><ci id="S4.E5.m1.55.55.55.13.13.13.cmml" xref="S4.E5.m1.55.55.55.13.13.13">𝑎</ci><ci id="S4.E5.m1.56.56.56.14.14.14.cmml" xref="S4.E5.m1.56.56.56.14.14.14">𝑙</ci><ci id="S4.E5.m1.57.57.57.15.15.15.cmml" xref="S4.E5.m1.57.57.57.15.15.15">𝑆</ci><ci id="S4.E5.m1.58.58.58.16.16.16.cmml" xref="S4.E5.m1.58.58.58.16.16.16">𝑤</ci><ci id="S4.E5.m1.59.59.59.17.17.17.cmml" xref="S4.E5.m1.59.59.59.17.17.17">𝐿</ci><ci id="S4.E5.m1.60.60.60.18.18.18.cmml" xref="S4.E5.m1.60.60.60.18.18.18">𝑛</ci><ci id="S4.E5.m1.61.61.61.19.19.19.cmml" xref="S4.E5.m1.61.61.61.19.19.19">𝑔</ci></apply><apply id="S4.E5.m1.81.81.1.1.1.3.2.1.1.1.3.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"><times id="S4.E5.m1.81.81.1.1.1.3.2.1.1.1.3.1.cmml" xref="S4.E5.m1.82.82.2.81.43.43.43.2"></times><ci id="S4.E5.m1.63.63.63.21.21.21.cmml" xref="S4.E5.m1.63.63.63.21.21.21">𝑟</ci><ci id="S4.E5.m1.64.64.64.22.22.22.cmml" xref="S4.E5.m1.64.64.64.22.22.22">𝑒</ci><ci id="S4.E5.m1.65.65.65.23.23.23.cmml" xref="S4.E5.m1.65.65.65.23.23.23">𝑡</ci><ci id="S4.E5.m1.66.66.66.24.24.24.cmml" xref="S4.E5.m1.66.66.66.24.24.24">𝑟</ci><ci id="S4.E5.m1.67.67.67.25.25.25.cmml" xref="S4.E5.m1.67.67.67.25.25.25">𝑖</ci><ci id="S4.E5.m1.68.68.68.26.26.26.cmml" xref="S4.E5.m1.68.68.68.26.26.26">𝑒</ci><ci id="S4.E5.m1.69.69.69.27.27.27.cmml" xref="S4.E5.m1.69.69.69.27.27.27">𝑣</ci><ci id="S4.E5.m1.70.70.70.28.28.28.cmml" xref="S4.E5.m1.70.70.70.28.28.28">𝑎</ci><ci id="S4.E5.m1.71.71.71.29.29.29.cmml" xref="S4.E5.m1.71.71.71.29.29.29">𝑙</ci><ci id="S4.E5.m1.72.72.72.30.30.30.cmml" xref="S4.E5.m1.72.72.72.30.30.30">𝑁</ci><ci id="S4.E5.m1.73.73.73.31.31.31.cmml" xref="S4.E5.m1.73.73.73.31.31.31">𝑒</ci><ci id="S4.E5.m1.74.74.74.32.32.32.cmml" xref="S4.E5.m1.74.74.74.32.32.32">𝐿</ci><ci id="S4.E5.m1.75.75.75.33.33.33.cmml" xref="S4.E5.m1.75.75.75.33.33.33">𝑛</ci><ci id="S4.E5.m1.76.76.76.34.34.34.cmml" xref="S4.E5.m1.76.76.76.34.34.34">𝑔</ci></apply></apply><cn id="S4.E5.m1.78.78.78.36.36.36.cmml" type="integer" xref="S4.E5.m1.78.78.78.36.36.36">0</cn></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5.m1.84c">\begin{split}\mathbf{L}(VB)=max(retrievalSwLat-retrievalNeLat,0)\\
+max(retrievalSwLng-retrievalNeLng,0),\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E5.m1.84d">start_ROW start_CELL bold_L ( italic_V italic_B ) = italic_m italic_a italic_x ( italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_S italic_w italic_L italic_a italic_t - italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_N italic_e italic_L italic_a italic_t , 0 ) end_CELL end_ROW start_ROW start_CELL + italic_m italic_a italic_x ( italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_S italic_w italic_L italic_n italic_g - italic_r italic_e italic_t italic_r italic_i italic_e italic_v italic_a italic_l italic_N italic_e italic_L italic_n italic_g , 0 ) , end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</li>
</ol>
<p class="ltx_p" id="S4.SS2.p1.13"><span class="ltx_text ltx_font_bold" id="S4.SS2.p1.13.1">Final Model Loss</span>: The model is trained using a weighted combination of the losses defined above. Loss weights were tuned offline to have the same average retrieval bounds size as the previous baseline method but higher recall of booked listing locations resulting in <math alttext="\alpha=250,\beta=1,\gamma=1000000" class="ltx_Math" display="inline" id="S4.SS2.p1.10.m1.2"><semantics id="S4.SS2.p1.10.m1.2a"><mrow id="S4.SS2.p1.10.m1.2.2.2" xref="S4.SS2.p1.10.m1.2.2.3.cmml"><mrow id="S4.SS2.p1.10.m1.1.1.1.1" xref="S4.SS2.p1.10.m1.1.1.1.1.cmml"><mi id="S4.SS2.p1.10.m1.1.1.1.1.2" xref="S4.SS2.p1.10.m1.1.1.1.1.2.cmml">α</mi><mo id="S4.SS2.p1.10.m1.1.1.1.1.1" xref="S4.SS2.p1.10.m1.1.1.1.1.1.cmml">=</mo><mn id="S4.SS2.p1.10.m1.1.1.1.1.3" xref="S4.SS2.p1.10.m1.1.1.1.1.3.cmml">250</mn></mrow><mo id="S4.SS2.p1.10.m1.2.2.2.3" xref="S4.SS2.p1.10.m1.2.2.3a.cmml">,</mo><mrow id="S4.SS2.p1.10.m1.2.2.2.2.2" xref="S4.SS2.p1.10.m1.2.2.2.2.3.cmml"><mrow id="S4.SS2.p1.10.m1.2.2.2.2.1.1" xref="S4.SS2.p1.10.m1.2.2.2.2.1.1.cmml"><mi id="S4.SS2.p1.10.m1.2.2.2.2.1.1.2" xref="S4.SS2.p1.10.m1.2.2.2.2.1.1.2.cmml">β</mi><mo id="S4.SS2.p1.10.m1.2.2.2.2.1.1.1" xref="S4.SS2.p1.10.m1.2.2.2.2.1.1.1.cmml">=</mo><mn id="S4.SS2.p1.10.m1.2.2.2.2.1.1.3" xref="S4.SS2.p1.10.m1.2.2.2.2.1.1.3.cmml">1</mn></mrow><mo id="S4.SS2.p1.10.m1.2.2.2.2.2.3" xref="S4.SS2.p1.10.m1.2.2.2.2.3a.cmml">,</mo><mrow id="S4.SS2.p1.10.m1.2.2.2.2.2.2" xref="S4.SS2.p1.10.m1.2.2.2.2.2.2.cmml"><mi id="S4.SS2.p1.10.m1.2.2.2.2.2.2.2" xref="S4.SS2.p1.10.m1.2.2.2.2.2.2.2.cmml">γ</mi><mo id="S4.SS2.p1.10.m1.2.2.2.2.2.2.1" xref="S4.SS2.p1.10.m1.2.2.2.2.2.2.1.cmml">=</mo><mn id="S4.SS2.p1.10.m1.2.2.2.2.2.2.3" xref="S4.SS2.p1.10.m1.2.2.2.2.2.2.3.cmml">1000000</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.10.m1.2b"><apply id="S4.SS2.p1.10.m1.2.2.3.cmml" xref="S4.SS2.p1.10.m1.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p1.10.m1.2.2.3a.cmml" xref="S4.SS2.p1.10.m1.2.2.2.3">formulae-sequence</csymbol><apply id="S4.SS2.p1.10.m1.1.1.1.1.cmml" xref="S4.SS2.p1.10.m1.1.1.1.1"><eq id="S4.SS2.p1.10.m1.1.1.1.1.1.cmml" xref="S4.SS2.p1.10.m1.1.1.1.1.1"></eq><ci id="S4.SS2.p1.10.m1.1.1.1.1.2.cmml" xref="S4.SS2.p1.10.m1.1.1.1.1.2">𝛼</ci><cn id="S4.SS2.p1.10.m1.1.1.1.1.3.cmml" type="integer" xref="S4.SS2.p1.10.m1.1.1.1.1.3">250</cn></apply><apply id="S4.SS2.p1.10.m1.2.2.2.2.3.cmml" xref="S4.SS2.p1.10.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p1.10.m1.2.2.2.2.3a.cmml" xref="S4.SS2.p1.10.m1.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S4.SS2.p1.10.m1.2.2.2.2.1.1.cmml" xref="S4.SS2.p1.10.m1.2.2.2.2.1.1"><eq id="S4.SS2.p1.10.m1.2.2.2.2.1.1.1.cmml" xref="S4.SS2.p1.10.m1.2.2.2.2.1.1.1"></eq><ci id="S4.SS2.p1.10.m1.2.2.2.2.1.1.2.cmml" xref="S4.SS2.p1.10.m1.2.2.2.2.1.1.2">𝛽</ci><cn id="S4.SS2.p1.10.m1.2.2.2.2.1.1.3.cmml" type="integer" xref="S4.SS2.p1.10.m1.2.2.2.2.1.1.3">1</cn></apply><apply id="S4.SS2.p1.10.m1.2.2.2.2.2.2.cmml" xref="S4.SS2.p1.10.m1.2.2.2.2.2.2"><eq id="S4.SS2.p1.10.m1.2.2.2.2.2.2.1.cmml" xref="S4.SS2.p1.10.m1.2.2.2.2.2.2.1"></eq><ci id="S4.SS2.p1.10.m1.2.2.2.2.2.2.2.cmml" xref="S4.SS2.p1.10.m1.2.2.2.2.2.2.2">𝛾</ci><cn id="S4.SS2.p1.10.m1.2.2.2.2.2.2.3.cmml" type="integer" xref="S4.SS2.p1.10.m1.2.2.2.2.2.2.3">1000000</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.10.m1.2c">\alpha=250,\beta=1,\gamma=1000000</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.10.m1.2d">italic_α = 250 , italic_β = 1 , italic_γ = 1000000</annotation></semantics></math>. This heuristic for weight tuning was used to prevent expanding the bounds too much in order to comply with product requirements. The values of each loss have very different distributions so these hyperparameters values do not directly reflect their relative importance. In practice, we only tune <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS2.p1.11.m2.1"><semantics id="S4.SS2.p1.11.m2.1a"><mi id="S4.SS2.p1.11.m2.1.1" xref="S4.SS2.p1.11.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.11.m2.1b"><ci id="S4.SS2.p1.11.m2.1.1.cmml" xref="S4.SS2.p1.11.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.11.m2.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.11.m2.1d">italic_α</annotation></semantics></math> to modify the tradeoff between booked listing location recall and the size of the bounding box while keeping <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.p1.12.m3.1"><semantics id="S4.SS2.p1.12.m3.1a"><mi id="S4.SS2.p1.12.m3.1.1" xref="S4.SS2.p1.12.m3.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.12.m3.1b"><ci id="S4.SS2.p1.12.m3.1.1.cmml" xref="S4.SS2.p1.12.m3.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.12.m3.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.12.m3.1d">italic_β</annotation></semantics></math> constant. <math alttext="\gamma" class="ltx_Math" display="inline" id="S4.SS2.p1.13.m4.1"><semantics id="S4.SS2.p1.13.m4.1a"><mi id="S4.SS2.p1.13.m4.1.1" xref="S4.SS2.p1.13.m4.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.13.m4.1b"><ci id="S4.SS2.p1.13.m4.1.1.cmml" xref="S4.SS2.p1.13.m4.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.13.m4.1c">\gamma</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.13.m4.1d">italic_γ</annotation></semantics></math> is not very sensitive and we have set it arbitrarily high in order to reflect the importance of predicting bounds that can actually be used for retrieval.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}\mathbf{L}=\alpha*\mathbf{L}(BL)+\beta*\mathbf{L}(RBS)+\gamma*%
\mathbf{L}(VB)\end{split}" class="ltx_Math" display="block" id="S4.E6.m1.32"><semantics id="S4.E6.m1.32a"><mtable displaystyle="true" id="S4.E6.m1.32.32.6" xref="S4.E6.m1.29.29.3.cmml"><mtr id="S4.E6.m1.32.32.6a" xref="S4.E6.m1.29.29.3.cmml"><mtd class="ltx_align_right" columnalign="right" id="S4.E6.m1.32.32.6b" xref="S4.E6.m1.29.29.3.cmml"><mrow id="S4.E6.m1.32.32.6.29.29.29" xref="S4.E6.m1.29.29.3.cmml"><mi id="S4.E6.m1.1.1.1.1.1.1" xref="S4.E6.m1.1.1.1.1.1.1.cmml">𝐋</mi><mo id="S4.E6.m1.2.2.2.2.2.2" xref="S4.E6.m1.2.2.2.2.2.2.cmml">=</mo><mrow id="S4.E6.m1.32.32.6.29.29.29.29" xref="S4.E6.m1.29.29.3.cmml"><mrow id="S4.E6.m1.30.30.4.27.27.27.27.1" xref="S4.E6.m1.29.29.3.cmml"><mrow id="S4.E6.m1.30.30.4.27.27.27.27.1.3" xref="S4.E6.m1.29.29.3.cmml"><mi id="S4.E6.m1.3.3.3.3.3.3" xref="S4.E6.m1.3.3.3.3.3.3.cmml">α</mi><mo id="S4.E6.m1.4.4.4.4.4.4" lspace="0.222em" rspace="0.222em" xref="S4.E6.m1.4.4.4.4.4.4.cmml">∗</mo><mi id="S4.E6.m1.5.5.5.5.5.5" xref="S4.E6.m1.5.5.5.5.5.5.cmml">𝐋</mi></mrow><mo id="S4.E6.m1.30.30.4.27.27.27.27.1.2" xref="S4.E6.m1.29.29.3.cmml">⁢</mo><mrow id="S4.E6.m1.30.30.4.27.27.27.27.1.1.1" xref="S4.E6.m1.29.29.3.cmml"><mo id="S4.E6.m1.6.6.6.6.6.6" stretchy="false" xref="S4.E6.m1.29.29.3.cmml">(</mo><mrow id="S4.E6.m1.30.30.4.27.27.27.27.1.1.1.1" xref="S4.E6.m1.29.29.3.cmml"><mi id="S4.E6.m1.7.7.7.7.7.7" xref="S4.E6.m1.7.7.7.7.7.7.cmml">B</mi><mo id="S4.E6.m1.30.30.4.27.27.27.27.1.1.1.1.1" xref="S4.E6.m1.29.29.3.cmml">⁢</mo><mi id="S4.E6.m1.8.8.8.8.8.8" xref="S4.E6.m1.8.8.8.8.8.8.cmml">L</mi></mrow><mo id="S4.E6.m1.9.9.9.9.9.9" stretchy="false" xref="S4.E6.m1.29.29.3.cmml">)</mo></mrow></mrow><mo id="S4.E6.m1.10.10.10.10.10.10" xref="S4.E6.m1.10.10.10.10.10.10.cmml">+</mo><mrow id="S4.E6.m1.31.31.5.28.28.28.28.2" xref="S4.E6.m1.29.29.3.cmml"><mrow id="S4.E6.m1.31.31.5.28.28.28.28.2.3" xref="S4.E6.m1.29.29.3.cmml"><mi id="S4.E6.m1.11.11.11.11.11.11" xref="S4.E6.m1.11.11.11.11.11.11.cmml">β</mi><mo id="S4.E6.m1.12.12.12.12.12.12" lspace="0.222em" rspace="0.222em" xref="S4.E6.m1.12.12.12.12.12.12.cmml">∗</mo><mi id="S4.E6.m1.13.13.13.13.13.13" xref="S4.E6.m1.13.13.13.13.13.13.cmml">𝐋</mi></mrow><mo id="S4.E6.m1.31.31.5.28.28.28.28.2.2" xref="S4.E6.m1.29.29.3.cmml">⁢</mo><mrow id="S4.E6.m1.31.31.5.28.28.28.28.2.1.1" xref="S4.E6.m1.29.29.3.cmml"><mo id="S4.E6.m1.14.14.14.14.14.14" stretchy="false" xref="S4.E6.m1.29.29.3.cmml">(</mo><mrow id="S4.E6.m1.31.31.5.28.28.28.28.2.1.1.1" xref="S4.E6.m1.29.29.3.cmml"><mi id="S4.E6.m1.15.15.15.15.15.15" xref="S4.E6.m1.15.15.15.15.15.15.cmml">R</mi><mo id="S4.E6.m1.31.31.5.28.28.28.28.2.1.1.1.1" xref="S4.E6.m1.29.29.3.cmml">⁢</mo><mi id="S4.E6.m1.16.16.16.16.16.16" xref="S4.E6.m1.16.16.16.16.16.16.cmml">B</mi><mo id="S4.E6.m1.31.31.5.28.28.28.28.2.1.1.1.1a" xref="S4.E6.m1.29.29.3.cmml">⁢</mo><mi id="S4.E6.m1.17.17.17.17.17.17" xref="S4.E6.m1.17.17.17.17.17.17.cmml">S</mi></mrow><mo id="S4.E6.m1.18.18.18.18.18.18" stretchy="false" xref="S4.E6.m1.29.29.3.cmml">)</mo></mrow></mrow><mo id="S4.E6.m1.10.10.10.10.10.10a" xref="S4.E6.m1.10.10.10.10.10.10.cmml">+</mo><mrow id="S4.E6.m1.32.32.6.29.29.29.29.3" xref="S4.E6.m1.29.29.3.cmml"><mrow id="S4.E6.m1.32.32.6.29.29.29.29.3.3" xref="S4.E6.m1.29.29.3.cmml"><mi id="S4.E6.m1.20.20.20.20.20.20" xref="S4.E6.m1.20.20.20.20.20.20.cmml">γ</mi><mo id="S4.E6.m1.21.21.21.21.21.21" lspace="0.222em" rspace="0.222em" xref="S4.E6.m1.21.21.21.21.21.21.cmml">∗</mo><mi id="S4.E6.m1.22.22.22.22.22.22" xref="S4.E6.m1.22.22.22.22.22.22.cmml">𝐋</mi></mrow><mo id="S4.E6.m1.32.32.6.29.29.29.29.3.2" xref="S4.E6.m1.29.29.3.cmml">⁢</mo><mrow id="S4.E6.m1.32.32.6.29.29.29.29.3.1.1" xref="S4.E6.m1.29.29.3.cmml"><mo id="S4.E6.m1.23.23.23.23.23.23" stretchy="false" xref="S4.E6.m1.29.29.3.cmml">(</mo><mrow id="S4.E6.m1.32.32.6.29.29.29.29.3.1.1.1" xref="S4.E6.m1.29.29.3.cmml"><mi id="S4.E6.m1.24.24.24.24.24.24" xref="S4.E6.m1.24.24.24.24.24.24.cmml">V</mi><mo id="S4.E6.m1.32.32.6.29.29.29.29.3.1.1.1.1" xref="S4.E6.m1.29.29.3.cmml">⁢</mo><mi id="S4.E6.m1.25.25.25.25.25.25" xref="S4.E6.m1.25.25.25.25.25.25.cmml">B</mi></mrow><mo id="S4.E6.m1.26.26.26.26.26.26" stretchy="false" xref="S4.E6.m1.29.29.3.cmml">)</mo></mrow></mrow></mrow></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E6.m1.32b"><apply id="S4.E6.m1.29.29.3.cmml" xref="S4.E6.m1.32.32.6"><eq id="S4.E6.m1.2.2.2.2.2.2.cmml" xref="S4.E6.m1.2.2.2.2.2.2"></eq><ci id="S4.E6.m1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.1.1.1.1.1.1">𝐋</ci><apply id="S4.E6.m1.29.29.3.3.cmml" xref="S4.E6.m1.32.32.6"><plus id="S4.E6.m1.10.10.10.10.10.10.cmml" xref="S4.E6.m1.10.10.10.10.10.10"></plus><apply id="S4.E6.m1.27.27.1.1.1.cmml" xref="S4.E6.m1.32.32.6"><times id="S4.E6.m1.27.27.1.1.1.2.cmml" xref="S4.E6.m1.32.32.6"></times><apply id="S4.E6.m1.27.27.1.1.1.3.cmml" xref="S4.E6.m1.32.32.6"><times id="S4.E6.m1.4.4.4.4.4.4.cmml" xref="S4.E6.m1.4.4.4.4.4.4"></times><ci id="S4.E6.m1.3.3.3.3.3.3.cmml" xref="S4.E6.m1.3.3.3.3.3.3">𝛼</ci><ci id="S4.E6.m1.5.5.5.5.5.5.cmml" xref="S4.E6.m1.5.5.5.5.5.5">𝐋</ci></apply><apply id="S4.E6.m1.27.27.1.1.1.1.1.1.cmml" xref="S4.E6.m1.32.32.6"><times id="S4.E6.m1.27.27.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.32.32.6"></times><ci id="S4.E6.m1.7.7.7.7.7.7.cmml" xref="S4.E6.m1.7.7.7.7.7.7">𝐵</ci><ci id="S4.E6.m1.8.8.8.8.8.8.cmml" xref="S4.E6.m1.8.8.8.8.8.8">𝐿</ci></apply></apply><apply id="S4.E6.m1.28.28.2.2.2.cmml" xref="S4.E6.m1.32.32.6"><times id="S4.E6.m1.28.28.2.2.2.2.cmml" xref="S4.E6.m1.32.32.6"></times><apply id="S4.E6.m1.28.28.2.2.2.3.cmml" xref="S4.E6.m1.32.32.6"><times id="S4.E6.m1.12.12.12.12.12.12.cmml" xref="S4.E6.m1.12.12.12.12.12.12"></times><ci id="S4.E6.m1.11.11.11.11.11.11.cmml" xref="S4.E6.m1.11.11.11.11.11.11">𝛽</ci><ci id="S4.E6.m1.13.13.13.13.13.13.cmml" xref="S4.E6.m1.13.13.13.13.13.13">𝐋</ci></apply><apply id="S4.E6.m1.28.28.2.2.2.1.1.1.cmml" xref="S4.E6.m1.32.32.6"><times id="S4.E6.m1.28.28.2.2.2.1.1.1.1.cmml" xref="S4.E6.m1.32.32.6"></times><ci id="S4.E6.m1.15.15.15.15.15.15.cmml" xref="S4.E6.m1.15.15.15.15.15.15">𝑅</ci><ci id="S4.E6.m1.16.16.16.16.16.16.cmml" xref="S4.E6.m1.16.16.16.16.16.16">𝐵</ci><ci id="S4.E6.m1.17.17.17.17.17.17.cmml" xref="S4.E6.m1.17.17.17.17.17.17">𝑆</ci></apply></apply><apply id="S4.E6.m1.29.29.3.3.3.cmml" xref="S4.E6.m1.32.32.6"><times id="S4.E6.m1.29.29.3.3.3.2.cmml" xref="S4.E6.m1.32.32.6"></times><apply id="S4.E6.m1.29.29.3.3.3.3.cmml" xref="S4.E6.m1.32.32.6"><times id="S4.E6.m1.21.21.21.21.21.21.cmml" xref="S4.E6.m1.21.21.21.21.21.21"></times><ci id="S4.E6.m1.20.20.20.20.20.20.cmml" xref="S4.E6.m1.20.20.20.20.20.20">𝛾</ci><ci id="S4.E6.m1.22.22.22.22.22.22.cmml" xref="S4.E6.m1.22.22.22.22.22.22">𝐋</ci></apply><apply id="S4.E6.m1.29.29.3.3.3.1.1.1.cmml" xref="S4.E6.m1.32.32.6"><times id="S4.E6.m1.29.29.3.3.3.1.1.1.1.cmml" xref="S4.E6.m1.32.32.6"></times><ci id="S4.E6.m1.24.24.24.24.24.24.cmml" xref="S4.E6.m1.24.24.24.24.24.24">𝑉</ci><ci id="S4.E6.m1.25.25.25.25.25.25.cmml" xref="S4.E6.m1.25.25.25.25.25.25">𝐵</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m1.32c">\begin{split}\mathbf{L}=\alpha*\mathbf{L}(BL)+\beta*\mathbf{L}(RBS)+\gamma*%
\mathbf{L}(VB)\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E6.m1.32d">start_ROW start_CELL bold_L = italic_α ∗ bold_L ( italic_B italic_L ) + italic_β ∗ bold_L ( italic_R italic_B italic_S ) + italic_γ ∗ bold_L ( italic_V italic_B ) end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>
<span class="ltx_text ltx_font_bold" id="S5.1.1">Reinforcement Learning Based Location Retrieval</span>
</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span><span class="ltx_text ltx_font_bold" id="S5.SS1.1.1">The opportunity</span>
</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1"><span class="ltx_text" id="S5.SS1.p1.1.1"></span> The initial machine learning approach was cyclical in nature. We only learned booking preferences relative to search parameters within the map areas that were selected by the preexisting model. Exploring and learning for searches where the model has little confidence and updating the model with newly collected data could address this bias and improve the experience.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span><span class="ltx_text ltx_font_bold" id="S5.SS2.1.1">The challenge of location retrieval exploration</span>
</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1"><span class="ltx_text" id="S5.SS2.p1.1.1"></span> Location retrieval can be reformulated as a reinforcement learning problem, more specifically a contextual multi-armed bandit task, in order to explore for new locations and exploit the known. The context is defined by a search with location, dates, etc. There are 4 continuous actions, defined as northern, southern, eastern and western expansion from the center of the searched location with the potential reward of a booking. 
<br class="ltx_break"/><span class="ltx_text" id="S5.SS2.p1.1.2"></span> Approaches for contextual multi armed bandits require the following three components</p>
<ol class="ltx_enumerate" id="S5.I1">
<li class="ltx_item" id="S5.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S5.I1.i1.p1">
<p class="ltx_p" id="S5.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I1.i1.p1.1.1">Active Contextual Estimation</span>: A method to estimate actions and rewards given a context that is regularly updated based on new exploration and feedback</p>
</div>
</li>
<li class="ltx_item" id="S5.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S5.I1.i2.p1">
<p class="ltx_p" id="S5.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I1.i2.p1.1.1">Uncertainty Estimation</span>: A method to determine the confidence of the estimator’s predictions</p>
</div>
</li>
<li class="ltx_item" id="S5.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S5.I1.i3.p1">
<p class="ltx_p" id="S5.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I1.i3.p1.1.1">Exploration Strategy</span>: A method to facilitate exploration and data collection for actions</p>
</div>
</li>
</ol>
<p class="ltx_p" id="S5.SS2.p1.2">Additionally, potential solutions had to fulfill the following product constraints</p>
<ol class="ltx_enumerate" id="S5.I2">
<li class="ltx_item" id="S5.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S5.I2.i1.p1">
<p class="ltx_p" id="S5.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I2.i1.p1.1.1">Deterministic</span>: The prediction should be stable and consistent across different guests for the same query on the same day while ranking handles personalization.</p>
</div>
</li>
<li class="ltx_item" id="S5.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S5.I2.i2.p1">
<p class="ltx_p" id="S5.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I2.i2.p1.1.1">Optimistic Confidence Based</span>: Only optimistically explore using reasonably, larger retrieval bounds for searches with low confidence predictions</p>
</div>
</li>
<li class="ltx_item" id="S5.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S5.I2.i3.p1">
<p class="ltx_p" id="S5.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I2.i3.p1.1.1">Performant</span>: Solutions must satisfy the latency and performance requirements to serve Airbnb traffic.</p>
</div>
</li>
</ol>
<p class="ltx_p" id="S5.SS2.p1.3"><span class="ltx_text" id="S5.SS2.p1.3.1"></span> Formulating a solution to the contextual multi-armed bandit problem for location retrieval with common methods that satisfied these constraints proved to be challenging.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>Active Contextual Estimation</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1"><span class="ltx_text" id="S5.SS3.p1.1.1"></span> The existing model based location retrieval solution would satisfy the requirement for a contextual estimator. Given the frequency of bookings on Airbnb, we employed daily retraining so that the estimator could be regularly updated based on new booking behavior from exploration.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4. </span>Uncertainty Estimation</h3>
<div class="ltx_para" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.1"><span class="ltx_text" id="S5.SS4.p1.1.1"></span> Uncertainty estimation proved to be the most challenging to construct with the existing unusual model formulation and loss. We initially considered the following traditional methods.</p>
<ol class="ltx_enumerate" id="S5.I3">
<li class="ltx_item" id="S5.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S5.I3.i1.p1">
<p class="ltx_p" id="S5.I3.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I3.i1.p1.1.1">Ridge regression</span> <cite class="ltx_cite ltx_citemacro_citep">(Hoerl and Kennard, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib11" title="">1970</a>)</cite>: regularized linear regression with least squares loss that allows for uncertainty estimation based on the standard errors of its coefficients</p>
</div>
</li>
<li class="ltx_item" id="S5.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S5.I3.i2.p1">
<p class="ltx_p" id="S5.I3.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I3.i2.p1.1.1">Bayesian deep learning</span> <cite class="ltx_cite ltx_citemacro_citep">(Neal, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib15" title="">2012</a>)</cite><cite class="ltx_cite ltx_citemacro_citep">(Joo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib12" title="">2020</a>)</cite>: Deep neural networks where weights and biases are constructed as random variables with distributions for uncertainty estimation.</p>
</div>
</li>
<li class="ltx_item" id="S5.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S5.I3.i3.p1">
<p class="ltx_p" id="S5.I3.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I3.i3.p1.1.1">Deep ensembles</span> <cite class="ltx_cite ltx_citemacro_citep">(Lakshminarayanan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib13" title="">2017</a>)</cite>: Ensemble of deep neural networks that are jointly use to compute the prediction mean and variance that can be used for uncertainty estimation.</p>
</div>
</li>
<li class="ltx_item" id="S5.I3.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(4)</span>
<div class="ltx_para" id="S5.I3.i4.p1">
<p class="ltx_p" id="S5.I3.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I3.i4.p1.1.1">Evidential Networks</span> <cite class="ltx_cite ltx_citemacro_citep">(Sensoy et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib16" title="">2018</a>)</cite>: Utilizes learned belief functions to model the predictors uncertainty</p>
</div>
</li>
</ol>
<p class="ltx_p" id="S5.SS4.p1.2"><span class="ltx_text" id="S5.SS4.p1.2.1"></span> These prevalent methods did not fit this use case for a variety of reasons. Ridge regression assumes a linear relationship between predictor variables and the target variable which is untrue for location retrieval. It also requires using the regularized least squares loss which is not compatible with the location retrieval objective defined above. Bayesian deep learning has slower training and inference, in addition to having twice as many parameters. Meanwhile, deep ensembles would require N times more parameters increasing code, training, and operational complexity. Finally, evidential networks would increase parameters, complexity, and latency in order to score the learned belief function for uncertainty estimation. These considerations made them unfavorable for our production use case.
<br class="ltx_break"/><span class="ltx_text" id="S5.SS4.p1.2.2"></span> Given these considerations, we employ <span class="ltx_text ltx_font_bold" id="S5.SS4.p1.2.3">Monte Carlo Dropout<cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_medium" id="S5.SS4.p1.2.3.1.1">(</span>Gal and Ghahramani<span class="ltx_text ltx_font_medium" id="S5.SS4.p1.2.3.2.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib6" title="">2016</a><span class="ltx_text ltx_font_medium" id="S5.SS4.p1.2.3.3.3">)</span></cite></span> <cite class="ltx_cite ltx_citemacro_citep">(Guo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib7" title="">2020</a>)</cite> to handle uncertainty estimation. Gal et. al demonstrates that any deep neural network of arbitrary depth, non linearities, and architecture with a dropout layer is equivalent to an approximation to the probabilistic deep Gaussian process. Given an example, we can score it N unique times to generate N unique predictions which is equivalent to the score distribution for the example. This score distribution can be used for uncertainty estimation. This approach requires minimal modification to the existing model architecture and any additional overhead for training and serving can be minimized through parallelization unlike some of the other methods.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.5. </span>Exploration Strategy</h3>
<div class="ltx_para" id="S5.SS5.p1">
<p class="ltx_p" id="S5.SS5.p1.1"><span class="ltx_text" id="S5.SS5.p1.1.1"></span> There were three exploration strategies that we considered:</p>
<ol class="ltx_enumerate" id="S5.I4">
<li class="ltx_item" id="S5.I4.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S5.I4.i1.p1">
<p class="ltx_p" id="S5.I4.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I4.i1.p1.1.1">E-greedy<cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_medium" id="S5.I4.i1.p1.1.1.1.1">(</span>Sutton and Barto<span class="ltx_text ltx_font_medium" id="S5.I4.i1.p1.1.1.2.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib17" title="">2018</a><span class="ltx_text ltx_font_medium" id="S5.I4.i1.p1.1.1.3.3">)</span></cite></span>: Greedily recommends the actions with the highest reward with probability 1-e and randomly selects other actions uniformly with probability e.</p>
</div>
</li>
<li class="ltx_item" id="S5.I4.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S5.I4.i2.p1">
<p class="ltx_p" id="S5.I4.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I4.i2.p1.1.1">Thompson sampling<cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_medium" id="S5.I4.i2.p1.1.1.1.1">(</span>Agrawal and Goyal<span class="ltx_text ltx_font_medium" id="S5.I4.i2.p1.1.1.2.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib3" title="">2013</a><span class="ltx_text ltx_font_medium" id="S5.I4.i2.p1.1.1.3.3">)</span></cite></span>: Samples from the posterior distribution of the action reward space with current knowledge; recommends the action with the highest sampled reward estimate.</p>
</div>
</li>
<li class="ltx_item" id="S5.I4.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S5.I4.i3.p1">
<p class="ltx_p" id="S5.I4.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I4.i3.p1.1.1">Upper Confidence Bound<cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_medium" id="S5.I4.i3.p1.1.1.1.1">(</span>Auer<span class="ltx_text ltx_font_medium" id="S5.I4.i3.p1.1.1.2.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib4" title="">2002</a><span class="ltx_text ltx_font_medium" id="S5.I4.i3.p1.1.1.3.3">)</span></cite></span>: Computes upper confidence bounds for each action using the mean estimate for an action plus a bonus based on the uncertainty of the estimate and tuneable parameter <math alttext="\lambda" class="ltx_Math" display="inline" id="S5.I4.i3.p1.1.m1.1"><semantics id="S5.I4.i3.p1.1.m1.1a"><mi id="S5.I4.i3.p1.1.m1.1.1" xref="S5.I4.i3.p1.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S5.I4.i3.p1.1.m1.1b"><ci id="S5.I4.i3.p1.1.m1.1.1.cmml" xref="S5.I4.i3.p1.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I4.i3.p1.1.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S5.I4.i3.p1.1.m1.1d">italic_λ</annotation></semantics></math>. It then chooses the action with the highest upper confidence bound.</p>
</div>
</li>
</ol>
<p class="ltx_p" id="S5.SS5.p1.2"><span class="ltx_text" id="S5.SS5.p1.2.1"></span> Thompson sampling’s random nature results in retrieval bounds that lie anywhere on the prediction distribution. This would result in different guests having different experiences for the same search and potentially egregiously small or large bounds. This violates the product constraints outlined above and made it unsuitable for location retrieval. The e-greedy exploration strategy is context agnostic and randomly decides when and how much to explore so it would not fulfill the constraints of being optimistic confidence based or deterministic. 
<br class="ltx_break"/><span class="ltx_text" id="S5.SS5.p1.2.2"></span> The Upper Confidence Bound algorithm serves an optimistic, upper percentile of the prediction distribution based on confidence in its estimate. It is also stable across guests. Given these qualities, it was the most appropriate exploration strategy among the three candidates that would be applicable to location retrieval.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.6. </span><span class="ltx_text ltx_font_bold" id="S5.SS6.1.1">The Approach for Location Retrieval Exploration </span>
</h3>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.2.1.1">Algorithm 1</span> </span> Exploration Enhanced Location Retrieval</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_left" id="alg1.3"><span class="ltx_text ltx_font_bold" id="alg1.3.1">Input:</span> Search Features x</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_left" id="alg1.4"><span class="ltx_text ltx_font_bold" id="alg1.4.1">Output:</span> Location retrieval bound F = {swLatOffsetUCB, swLngOffsetUCB, neLatOffsetUCB, neLngOffsetUCB}</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_listing ltx_figure_panel ltx_listing" id="alg1.5">
<div class="ltx_listingline" id="alg1.l1">
<span class="ltx_text ltx_font_bold" id="alg1.l1.1">procedure</span> 

</div>
<div class="ltx_listingline" id="alg1.l2">     Train a DNN <math alttext="f(x)" class="ltx_Math" display="inline" id="alg1.l2.m1.1"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.2" xref="alg1.l2.m1.1.2.cmml"><mi id="alg1.l2.m1.1.2.2" xref="alg1.l2.m1.1.2.2.cmml">f</mi><mo id="alg1.l2.m1.1.2.1" xref="alg1.l2.m1.1.2.1.cmml">⁢</mo><mrow id="alg1.l2.m1.1.2.3.2" xref="alg1.l2.m1.1.2.cmml"><mo id="alg1.l2.m1.1.2.3.2.1" stretchy="false" xref="alg1.l2.m1.1.2.cmml">(</mo><mi id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">x</mi><mo id="alg1.l2.m1.1.2.3.2.2" stretchy="false" xref="alg1.l2.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.2.cmml" xref="alg1.l2.m1.1.2"><times id="alg1.l2.m1.1.2.1.cmml" xref="alg1.l2.m1.1.2.1"></times><ci id="alg1.l2.m1.1.2.2.cmml" xref="alg1.l2.m1.1.2.2">𝑓</ci><ci id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">f(x)</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.1d">italic_f ( italic_x )</annotation></semantics></math> with a random dropout layer that replaces an activation with 0 with probability 0.95.

</div>
<div class="ltx_listingline" id="alg1.l3">     Score an example 32 times with the dropout layer enabled producing 32 unique estimates
<math alttext="y=\{y^{0},y^{1},...,y^{31}\}" class="ltx_Math" display="inline" id="alg1.l3.m1.4"><semantics id="alg1.l3.m1.4a"><mrow id="alg1.l3.m1.4.4" xref="alg1.l3.m1.4.4.cmml"><mi id="alg1.l3.m1.4.4.5" xref="alg1.l3.m1.4.4.5.cmml">y</mi><mo id="alg1.l3.m1.4.4.4" xref="alg1.l3.m1.4.4.4.cmml">=</mo><mrow id="alg1.l3.m1.4.4.3.3" xref="alg1.l3.m1.4.4.3.4.cmml"><mo id="alg1.l3.m1.4.4.3.3.4" stretchy="false" xref="alg1.l3.m1.4.4.3.4.cmml">{</mo><msup id="alg1.l3.m1.2.2.1.1.1" xref="alg1.l3.m1.2.2.1.1.1.cmml"><mi id="alg1.l3.m1.2.2.1.1.1.2" xref="alg1.l3.m1.2.2.1.1.1.2.cmml">y</mi><mn id="alg1.l3.m1.2.2.1.1.1.3" xref="alg1.l3.m1.2.2.1.1.1.3.cmml">0</mn></msup><mo id="alg1.l3.m1.4.4.3.3.5" xref="alg1.l3.m1.4.4.3.4.cmml">,</mo><msup id="alg1.l3.m1.3.3.2.2.2" xref="alg1.l3.m1.3.3.2.2.2.cmml"><mi id="alg1.l3.m1.3.3.2.2.2.2" xref="alg1.l3.m1.3.3.2.2.2.2.cmml">y</mi><mn id="alg1.l3.m1.3.3.2.2.2.3" xref="alg1.l3.m1.3.3.2.2.2.3.cmml">1</mn></msup><mo id="alg1.l3.m1.4.4.3.3.6" xref="alg1.l3.m1.4.4.3.4.cmml">,</mo><mi id="alg1.l3.m1.1.1" mathvariant="normal" xref="alg1.l3.m1.1.1.cmml">…</mi><mo id="alg1.l3.m1.4.4.3.3.7" xref="alg1.l3.m1.4.4.3.4.cmml">,</mo><msup id="alg1.l3.m1.4.4.3.3.3" xref="alg1.l3.m1.4.4.3.3.3.cmml"><mi id="alg1.l3.m1.4.4.3.3.3.2" xref="alg1.l3.m1.4.4.3.3.3.2.cmml">y</mi><mn id="alg1.l3.m1.4.4.3.3.3.3" xref="alg1.l3.m1.4.4.3.3.3.3.cmml">31</mn></msup><mo id="alg1.l3.m1.4.4.3.3.8" stretchy="false" xref="alg1.l3.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.4b"><apply id="alg1.l3.m1.4.4.cmml" xref="alg1.l3.m1.4.4"><eq id="alg1.l3.m1.4.4.4.cmml" xref="alg1.l3.m1.4.4.4"></eq><ci id="alg1.l3.m1.4.4.5.cmml" xref="alg1.l3.m1.4.4.5">𝑦</ci><set id="alg1.l3.m1.4.4.3.4.cmml" xref="alg1.l3.m1.4.4.3.3"><apply id="alg1.l3.m1.2.2.1.1.1.cmml" xref="alg1.l3.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l3.m1.2.2.1.1.1.1.cmml" xref="alg1.l3.m1.2.2.1.1.1">superscript</csymbol><ci id="alg1.l3.m1.2.2.1.1.1.2.cmml" xref="alg1.l3.m1.2.2.1.1.1.2">𝑦</ci><cn id="alg1.l3.m1.2.2.1.1.1.3.cmml" type="integer" xref="alg1.l3.m1.2.2.1.1.1.3">0</cn></apply><apply id="alg1.l3.m1.3.3.2.2.2.cmml" xref="alg1.l3.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l3.m1.3.3.2.2.2.1.cmml" xref="alg1.l3.m1.3.3.2.2.2">superscript</csymbol><ci id="alg1.l3.m1.3.3.2.2.2.2.cmml" xref="alg1.l3.m1.3.3.2.2.2.2">𝑦</ci><cn id="alg1.l3.m1.3.3.2.2.2.3.cmml" type="integer" xref="alg1.l3.m1.3.3.2.2.2.3">1</cn></apply><ci id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">…</ci><apply id="alg1.l3.m1.4.4.3.3.3.cmml" xref="alg1.l3.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="alg1.l3.m1.4.4.3.3.3.1.cmml" xref="alg1.l3.m1.4.4.3.3.3">superscript</csymbol><ci id="alg1.l3.m1.4.4.3.3.3.2.cmml" xref="alg1.l3.m1.4.4.3.3.3.2">𝑦</ci><cn id="alg1.l3.m1.4.4.3.3.3.3.cmml" type="integer" xref="alg1.l3.m1.4.4.3.3.3.3">31</cn></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.4c">y=\{y^{0},y^{1},...,y^{31}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.4d">italic_y = { italic_y start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT , italic_y start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , … , italic_y start_POSTSUPERSCRIPT 31 end_POSTSUPERSCRIPT }</annotation></semantics></math>, where <math alttext="y^{i}=f(x^{i})" class="ltx_Math" display="inline" id="alg1.l3.m2.1"><semantics id="alg1.l3.m2.1a"><mrow id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml"><msup id="alg1.l3.m2.1.1.3" xref="alg1.l3.m2.1.1.3.cmml"><mi id="alg1.l3.m2.1.1.3.2" xref="alg1.l3.m2.1.1.3.2.cmml">y</mi><mi id="alg1.l3.m2.1.1.3.3" xref="alg1.l3.m2.1.1.3.3.cmml">i</mi></msup><mo id="alg1.l3.m2.1.1.2" xref="alg1.l3.m2.1.1.2.cmml">=</mo><mrow id="alg1.l3.m2.1.1.1" xref="alg1.l3.m2.1.1.1.cmml"><mi id="alg1.l3.m2.1.1.1.3" xref="alg1.l3.m2.1.1.1.3.cmml">f</mi><mo id="alg1.l3.m2.1.1.1.2" xref="alg1.l3.m2.1.1.1.2.cmml">⁢</mo><mrow id="alg1.l3.m2.1.1.1.1.1" xref="alg1.l3.m2.1.1.1.1.1.1.cmml"><mo id="alg1.l3.m2.1.1.1.1.1.2" stretchy="false" xref="alg1.l3.m2.1.1.1.1.1.1.cmml">(</mo><msup id="alg1.l3.m2.1.1.1.1.1.1" xref="alg1.l3.m2.1.1.1.1.1.1.cmml"><mi id="alg1.l3.m2.1.1.1.1.1.1.2" xref="alg1.l3.m2.1.1.1.1.1.1.2.cmml">x</mi><mi id="alg1.l3.m2.1.1.1.1.1.1.3" xref="alg1.l3.m2.1.1.1.1.1.1.3.cmml">i</mi></msup><mo id="alg1.l3.m2.1.1.1.1.1.3" stretchy="false" xref="alg1.l3.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.1b"><apply id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1"><eq id="alg1.l3.m2.1.1.2.cmml" xref="alg1.l3.m2.1.1.2"></eq><apply id="alg1.l3.m2.1.1.3.cmml" xref="alg1.l3.m2.1.1.3"><csymbol cd="ambiguous" id="alg1.l3.m2.1.1.3.1.cmml" xref="alg1.l3.m2.1.1.3">superscript</csymbol><ci id="alg1.l3.m2.1.1.3.2.cmml" xref="alg1.l3.m2.1.1.3.2">𝑦</ci><ci id="alg1.l3.m2.1.1.3.3.cmml" xref="alg1.l3.m2.1.1.3.3">𝑖</ci></apply><apply id="alg1.l3.m2.1.1.1.cmml" xref="alg1.l3.m2.1.1.1"><times id="alg1.l3.m2.1.1.1.2.cmml" xref="alg1.l3.m2.1.1.1.2"></times><ci id="alg1.l3.m2.1.1.1.3.cmml" xref="alg1.l3.m2.1.1.1.3">𝑓</ci><apply id="alg1.l3.m2.1.1.1.1.1.1.cmml" xref="alg1.l3.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l3.m2.1.1.1.1.1.1.1.cmml" xref="alg1.l3.m2.1.1.1.1.1">superscript</csymbol><ci id="alg1.l3.m2.1.1.1.1.1.1.2.cmml" xref="alg1.l3.m2.1.1.1.1.1.1.2">𝑥</ci><ci id="alg1.l3.m2.1.1.1.1.1.1.3.cmml" xref="alg1.l3.m2.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.1c">y^{i}=f(x^{i})</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m2.1d">italic_y start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT = italic_f ( italic_x start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT )</annotation></semantics></math> is the i-th estimate of the example x, represents the predicted retrieval bound offsets {swLatOffset, swLngOffset,
neLatOffset, neLngOffset}

</div>
<div class="ltx_listingline" id="alg1.l4">     Compute the mean of the estimates <math alttext="\mu" class="ltx_Math" display="inline" id="alg1.l4.m1.1"><semantics id="alg1.l4.m1.1a"><mi id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><ci id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">\mu</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.1d">italic_μ</annotation></semantics></math> for the reward estimate and the standard deviation <math alttext="\sigma" class="ltx_Math" display="inline" id="alg1.l4.m2.1"><semantics id="alg1.l4.m2.1a"><mi id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b"><ci id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m2.1d">italic_σ</annotation></semantics></math> of the estimates for uncertainty estimation.

<table class="ltx_equation ltx_eqn_table" id="S5.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mu=\dfrac{\sum_{i=0}^{31}y^{i}}{32},\sigma=\dfrac{\sum_{i=0}^{31}\sqrt{(y^{i}%
-\mu)^{2}}}{32}" class="ltx_Math" display="block" id="S5.E7.m1.3"><semantics id="S5.E7.m1.3a"><mrow id="S5.E7.m1.3.3.2" xref="S5.E7.m1.3.3.3.cmml"><mrow id="S5.E7.m1.2.2.1.1" xref="S5.E7.m1.2.2.1.1.cmml"><mi id="S5.E7.m1.2.2.1.1.2" xref="S5.E7.m1.2.2.1.1.2.cmml">μ</mi><mo id="S5.E7.m1.2.2.1.1.1" xref="S5.E7.m1.2.2.1.1.1.cmml">=</mo><mfrac id="S5.E7.m1.2.2.1.1.3" xref="S5.E7.m1.2.2.1.1.3.cmml"><mrow id="S5.E7.m1.2.2.1.1.3.2" xref="S5.E7.m1.2.2.1.1.3.2.cmml"><msubsup id="S5.E7.m1.2.2.1.1.3.2.1" xref="S5.E7.m1.2.2.1.1.3.2.1.cmml"><mo id="S5.E7.m1.2.2.1.1.3.2.1.2.2" xref="S5.E7.m1.2.2.1.1.3.2.1.2.2.cmml">∑</mo><mrow id="S5.E7.m1.2.2.1.1.3.2.1.2.3" xref="S5.E7.m1.2.2.1.1.3.2.1.2.3.cmml"><mi id="S5.E7.m1.2.2.1.1.3.2.1.2.3.2" xref="S5.E7.m1.2.2.1.1.3.2.1.2.3.2.cmml">i</mi><mo id="S5.E7.m1.2.2.1.1.3.2.1.2.3.1" xref="S5.E7.m1.2.2.1.1.3.2.1.2.3.1.cmml">=</mo><mn id="S5.E7.m1.2.2.1.1.3.2.1.2.3.3" xref="S5.E7.m1.2.2.1.1.3.2.1.2.3.3.cmml">0</mn></mrow><mn id="S5.E7.m1.2.2.1.1.3.2.1.3" xref="S5.E7.m1.2.2.1.1.3.2.1.3.cmml">31</mn></msubsup><msup id="S5.E7.m1.2.2.1.1.3.2.2" xref="S5.E7.m1.2.2.1.1.3.2.2.cmml"><mi id="S5.E7.m1.2.2.1.1.3.2.2.2" xref="S5.E7.m1.2.2.1.1.3.2.2.2.cmml">y</mi><mi id="S5.E7.m1.2.2.1.1.3.2.2.3" xref="S5.E7.m1.2.2.1.1.3.2.2.3.cmml">i</mi></msup></mrow><mn id="S5.E7.m1.2.2.1.1.3.3" xref="S5.E7.m1.2.2.1.1.3.3.cmml">32</mn></mfrac></mrow><mo id="S5.E7.m1.3.3.2.3" xref="S5.E7.m1.3.3.3a.cmml">,</mo><mrow id="S5.E7.m1.3.3.2.2" xref="S5.E7.m1.3.3.2.2.cmml"><mi id="S5.E7.m1.3.3.2.2.2" xref="S5.E7.m1.3.3.2.2.2.cmml">σ</mi><mo id="S5.E7.m1.3.3.2.2.1" xref="S5.E7.m1.3.3.2.2.1.cmml">=</mo><mfrac id="S5.E7.m1.1.1" xref="S5.E7.m1.1.1.cmml"><mrow id="S5.E7.m1.1.1.1" xref="S5.E7.m1.1.1.1.cmml"><msubsup id="S5.E7.m1.1.1.1.2" xref="S5.E7.m1.1.1.1.2.cmml"><mo id="S5.E7.m1.1.1.1.2.2.2" xref="S5.E7.m1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S5.E7.m1.1.1.1.2.2.3" xref="S5.E7.m1.1.1.1.2.2.3.cmml"><mi id="S5.E7.m1.1.1.1.2.2.3.2" xref="S5.E7.m1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S5.E7.m1.1.1.1.2.2.3.1" xref="S5.E7.m1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S5.E7.m1.1.1.1.2.2.3.3" xref="S5.E7.m1.1.1.1.2.2.3.3.cmml">0</mn></mrow><mn id="S5.E7.m1.1.1.1.2.3" xref="S5.E7.m1.1.1.1.2.3.cmml">31</mn></msubsup><msqrt id="S5.E7.m1.1.1.1.1" xref="S5.E7.m1.1.1.1.1.cmml"><msup id="S5.E7.m1.1.1.1.1.1" xref="S5.E7.m1.1.1.1.1.1.cmml"><mrow id="S5.E7.m1.1.1.1.1.1.1.1" xref="S5.E7.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S5.E7.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E7.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E7.m1.1.1.1.1.1.1.1.1" xref="S5.E7.m1.1.1.1.1.1.1.1.1.cmml"><msup id="S5.E7.m1.1.1.1.1.1.1.1.1.2" xref="S5.E7.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S5.E7.m1.1.1.1.1.1.1.1.1.2.2" xref="S5.E7.m1.1.1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S5.E7.m1.1.1.1.1.1.1.1.1.2.3" xref="S5.E7.m1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi></msup><mo id="S5.E7.m1.1.1.1.1.1.1.1.1.1" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S5.E7.m1.1.1.1.1.1.1.1.1.3" xref="S5.E7.m1.1.1.1.1.1.1.1.1.3.cmml">μ</mi></mrow><mo id="S5.E7.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E7.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="S5.E7.m1.1.1.1.1.1.3" xref="S5.E7.m1.1.1.1.1.1.3.cmml">2</mn></msup></msqrt></mrow><mn id="S5.E7.m1.1.1.3" xref="S5.E7.m1.1.1.3.cmml">32</mn></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.E7.m1.3b"><apply id="S5.E7.m1.3.3.3.cmml" xref="S5.E7.m1.3.3.2"><csymbol cd="ambiguous" id="S5.E7.m1.3.3.3a.cmml" xref="S5.E7.m1.3.3.2.3">formulae-sequence</csymbol><apply id="S5.E7.m1.2.2.1.1.cmml" xref="S5.E7.m1.2.2.1.1"><eq id="S5.E7.m1.2.2.1.1.1.cmml" xref="S5.E7.m1.2.2.1.1.1"></eq><ci id="S5.E7.m1.2.2.1.1.2.cmml" xref="S5.E7.m1.2.2.1.1.2">𝜇</ci><apply id="S5.E7.m1.2.2.1.1.3.cmml" xref="S5.E7.m1.2.2.1.1.3"><divide id="S5.E7.m1.2.2.1.1.3.1.cmml" xref="S5.E7.m1.2.2.1.1.3"></divide><apply id="S5.E7.m1.2.2.1.1.3.2.cmml" xref="S5.E7.m1.2.2.1.1.3.2"><apply id="S5.E7.m1.2.2.1.1.3.2.1.cmml" xref="S5.E7.m1.2.2.1.1.3.2.1"><csymbol cd="ambiguous" id="S5.E7.m1.2.2.1.1.3.2.1.1.cmml" xref="S5.E7.m1.2.2.1.1.3.2.1">superscript</csymbol><apply id="S5.E7.m1.2.2.1.1.3.2.1.2.cmml" xref="S5.E7.m1.2.2.1.1.3.2.1"><csymbol cd="ambiguous" id="S5.E7.m1.2.2.1.1.3.2.1.2.1.cmml" xref="S5.E7.m1.2.2.1.1.3.2.1">subscript</csymbol><sum id="S5.E7.m1.2.2.1.1.3.2.1.2.2.cmml" xref="S5.E7.m1.2.2.1.1.3.2.1.2.2"></sum><apply id="S5.E7.m1.2.2.1.1.3.2.1.2.3.cmml" xref="S5.E7.m1.2.2.1.1.3.2.1.2.3"><eq id="S5.E7.m1.2.2.1.1.3.2.1.2.3.1.cmml" xref="S5.E7.m1.2.2.1.1.3.2.1.2.3.1"></eq><ci id="S5.E7.m1.2.2.1.1.3.2.1.2.3.2.cmml" xref="S5.E7.m1.2.2.1.1.3.2.1.2.3.2">𝑖</ci><cn id="S5.E7.m1.2.2.1.1.3.2.1.2.3.3.cmml" type="integer" xref="S5.E7.m1.2.2.1.1.3.2.1.2.3.3">0</cn></apply></apply><cn id="S5.E7.m1.2.2.1.1.3.2.1.3.cmml" type="integer" xref="S5.E7.m1.2.2.1.1.3.2.1.3">31</cn></apply><apply id="S5.E7.m1.2.2.1.1.3.2.2.cmml" xref="S5.E7.m1.2.2.1.1.3.2.2"><csymbol cd="ambiguous" id="S5.E7.m1.2.2.1.1.3.2.2.1.cmml" xref="S5.E7.m1.2.2.1.1.3.2.2">superscript</csymbol><ci id="S5.E7.m1.2.2.1.1.3.2.2.2.cmml" xref="S5.E7.m1.2.2.1.1.3.2.2.2">𝑦</ci><ci id="S5.E7.m1.2.2.1.1.3.2.2.3.cmml" xref="S5.E7.m1.2.2.1.1.3.2.2.3">𝑖</ci></apply></apply><cn id="S5.E7.m1.2.2.1.1.3.3.cmml" type="integer" xref="S5.E7.m1.2.2.1.1.3.3">32</cn></apply></apply><apply id="S5.E7.m1.3.3.2.2.cmml" xref="S5.E7.m1.3.3.2.2"><eq id="S5.E7.m1.3.3.2.2.1.cmml" xref="S5.E7.m1.3.3.2.2.1"></eq><ci id="S5.E7.m1.3.3.2.2.2.cmml" xref="S5.E7.m1.3.3.2.2.2">𝜎</ci><apply id="S5.E7.m1.1.1.cmml" xref="S5.E7.m1.1.1"><divide id="S5.E7.m1.1.1.2.cmml" xref="S5.E7.m1.1.1"></divide><apply id="S5.E7.m1.1.1.1.cmml" xref="S5.E7.m1.1.1.1"><apply id="S5.E7.m1.1.1.1.2.cmml" xref="S5.E7.m1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E7.m1.1.1.1.2.1.cmml" xref="S5.E7.m1.1.1.1.2">superscript</csymbol><apply id="S5.E7.m1.1.1.1.2.2.cmml" xref="S5.E7.m1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E7.m1.1.1.1.2.2.1.cmml" xref="S5.E7.m1.1.1.1.2">subscript</csymbol><sum id="S5.E7.m1.1.1.1.2.2.2.cmml" xref="S5.E7.m1.1.1.1.2.2.2"></sum><apply id="S5.E7.m1.1.1.1.2.2.3.cmml" xref="S5.E7.m1.1.1.1.2.2.3"><eq id="S5.E7.m1.1.1.1.2.2.3.1.cmml" xref="S5.E7.m1.1.1.1.2.2.3.1"></eq><ci id="S5.E7.m1.1.1.1.2.2.3.2.cmml" xref="S5.E7.m1.1.1.1.2.2.3.2">𝑖</ci><cn id="S5.E7.m1.1.1.1.2.2.3.3.cmml" type="integer" xref="S5.E7.m1.1.1.1.2.2.3.3">0</cn></apply></apply><cn id="S5.E7.m1.1.1.1.2.3.cmml" type="integer" xref="S5.E7.m1.1.1.1.2.3">31</cn></apply><apply id="S5.E7.m1.1.1.1.1.cmml" xref="S5.E7.m1.1.1.1.1"><root id="S5.E7.m1.1.1.1.1a.cmml" xref="S5.E7.m1.1.1.1.1"></root><apply id="S5.E7.m1.1.1.1.1.1.cmml" xref="S5.E7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E7.m1.1.1.1.1.1.2.cmml" xref="S5.E7.m1.1.1.1.1.1">superscript</csymbol><apply id="S5.E7.m1.1.1.1.1.1.1.1.1.cmml" xref="S5.E7.m1.1.1.1.1.1.1.1"><minus id="S5.E7.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1"></minus><apply id="S5.E7.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E7.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E7.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S5.E7.m1.1.1.1.1.1.1.1.1.2">superscript</csymbol><ci id="S5.E7.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S5.E7.m1.1.1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S5.E7.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S5.E7.m1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S5.E7.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E7.m1.1.1.1.1.1.1.1.1.3">𝜇</ci></apply><cn id="S5.E7.m1.1.1.1.1.1.3.cmml" type="integer" xref="S5.E7.m1.1.1.1.1.1.3">2</cn></apply></apply></apply><cn id="S5.E7.m1.1.1.3.cmml" type="integer" xref="S5.E7.m1.1.1.3">32</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E7.m1.3c">\mu=\dfrac{\sum_{i=0}^{31}y^{i}}{32},\sigma=\dfrac{\sum_{i=0}^{31}\sqrt{(y^{i}%
-\mu)^{2}}}{32}</annotation><annotation encoding="application/x-llamapun" id="S5.E7.m1.3d">italic_μ = divide start_ARG ∑ start_POSTSUBSCRIPT italic_i = 0 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 31 end_POSTSUPERSCRIPT italic_y start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT end_ARG start_ARG 32 end_ARG , italic_σ = divide start_ARG ∑ start_POSTSUBSCRIPT italic_i = 0 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 31 end_POSTSUPERSCRIPT square-root start_ARG ( italic_y start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT - italic_μ ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT end_ARG end_ARG start_ARG 32 end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_listingline" id="alg1.l5">     Construct UCB retrieval bounds using <math alttext="F=\mu+2*\sigma" class="ltx_Math" display="inline" id="alg1.l5.m1.1"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mi id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml">F</mi><mo id="alg1.l5.m1.1.1.1" xref="alg1.l5.m1.1.1.1.cmml">=</mo><mrow id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml"><mi id="alg1.l5.m1.1.1.3.2" xref="alg1.l5.m1.1.1.3.2.cmml">μ</mi><mo id="alg1.l5.m1.1.1.3.1" xref="alg1.l5.m1.1.1.3.1.cmml">+</mo><mrow id="alg1.l5.m1.1.1.3.3" xref="alg1.l5.m1.1.1.3.3.cmml"><mn id="alg1.l5.m1.1.1.3.3.2" xref="alg1.l5.m1.1.1.3.3.2.cmml">2</mn><mo id="alg1.l5.m1.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="alg1.l5.m1.1.1.3.3.1.cmml">∗</mo><mi id="alg1.l5.m1.1.1.3.3.3" xref="alg1.l5.m1.1.1.3.3.3.cmml">σ</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><eq id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1"></eq><ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">𝐹</ci><apply id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3"><plus id="alg1.l5.m1.1.1.3.1.cmml" xref="alg1.l5.m1.1.1.3.1"></plus><ci id="alg1.l5.m1.1.1.3.2.cmml" xref="alg1.l5.m1.1.1.3.2">𝜇</ci><apply id="alg1.l5.m1.1.1.3.3.cmml" xref="alg1.l5.m1.1.1.3.3"><times id="alg1.l5.m1.1.1.3.3.1.cmml" xref="alg1.l5.m1.1.1.3.3.1"></times><cn id="alg1.l5.m1.1.1.3.3.2.cmml" type="integer" xref="alg1.l5.m1.1.1.3.3.2">2</cn><ci id="alg1.l5.m1.1.1.3.3.3.cmml" xref="alg1.l5.m1.1.1.3.3.3">𝜎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">F=\mu+2*\sigma</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m1.1d">italic_F = italic_μ + 2 ∗ italic_σ</annotation></semantics></math> and retrieve listings in production within these bounds to facilitate exploration

</div>
<div class="ltx_listingline" id="alg1.l6">     Retrain daily based on training data derived from any new bookings to learn from exploration and increase model confidence

</div>
<div class="ltx_listingline" id="alg1.l7">
<span class="ltx_text ltx_font_bold" id="alg1.l7.1">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l7.2">procedure</span>
</div>
</div>
</div>
</div>
</figure>
<div class="ltx_para" id="S5.SS6.p1">
<p class="ltx_p" id="S5.SS6.p1.3"><span class="ltx_text" id="S5.SS6.p1.3.1"></span> Algorithm 1 gives an overview of the proposed approach to solve the contextual multi armed bandit problem for location retrieval with the existing estimator, Monte Carlo Dropout, and the Upper Confidence Bound algorithm. We selected a dropout rate of 0.95 based on an offline parameter sweep to find the highest dropout rate with minimal impact to model performance. We selected N=32 for uncertainty estimation by choosing the minimum value where <math alttext="\mu" class="ltx_Math" display="inline" id="S5.SS6.p1.1.m1.1"><semantics id="S5.SS6.p1.1.m1.1a"><mi id="S5.SS6.p1.1.m1.1.1" xref="S5.SS6.p1.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S5.SS6.p1.1.m1.1b"><ci id="S5.SS6.p1.1.m1.1.1.cmml" xref="S5.SS6.p1.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS6.p1.1.m1.1c">\mu</annotation><annotation encoding="application/x-llamapun" id="S5.SS6.p1.1.m1.1d">italic_μ</annotation></semantics></math> and <math alttext="\sigma" class="ltx_Math" display="inline" id="S5.SS6.p1.2.m2.1"><semantics id="S5.SS6.p1.2.m2.1a"><mi id="S5.SS6.p1.2.m2.1.1" xref="S5.SS6.p1.2.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S5.SS6.p1.2.m2.1b"><ci id="S5.SS6.p1.2.m2.1.1.cmml" xref="S5.SS6.p1.2.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS6.p1.2.m2.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S5.SS6.p1.2.m2.1d">italic_σ</annotation></semantics></math> are stable across different scoring runs with the same example. We chose <math alttext="\lambda=2" class="ltx_Math" display="inline" id="S5.SS6.p1.3.m3.1"><semantics id="S5.SS6.p1.3.m3.1a"><mrow id="S5.SS6.p1.3.m3.1.1" xref="S5.SS6.p1.3.m3.1.1.cmml"><mi id="S5.SS6.p1.3.m3.1.1.2" xref="S5.SS6.p1.3.m3.1.1.2.cmml">λ</mi><mo id="S5.SS6.p1.3.m3.1.1.1" xref="S5.SS6.p1.3.m3.1.1.1.cmml">=</mo><mn id="S5.SS6.p1.3.m3.1.1.3" xref="S5.SS6.p1.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS6.p1.3.m3.1b"><apply id="S5.SS6.p1.3.m3.1.1.cmml" xref="S5.SS6.p1.3.m3.1.1"><eq id="S5.SS6.p1.3.m3.1.1.1.cmml" xref="S5.SS6.p1.3.m3.1.1.1"></eq><ci id="S5.SS6.p1.3.m3.1.1.2.cmml" xref="S5.SS6.p1.3.m3.1.1.2">𝜆</ci><cn id="S5.SS6.p1.3.m3.1.1.3.cmml" type="integer" xref="S5.SS6.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS6.p1.3.m3.1c">\lambda=2</annotation><annotation encoding="application/x-llamapun" id="S5.SS6.p1.3.m3.1d">italic_λ = 2</annotation></semantics></math> for exploration with UCB by choosing the maximum value that still satisfied latency constraints. The model architecture consists of one hidden layer, one random dropout layer, one hidden layer and the output layer which computes the 4 coordinate offsets. This architecture is outlined in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S5.F4" title="Figure 4 ‣ 5.6. The Approach for Location Retrieval Exploration ‣ 5. Reinforcement Learning Based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">4</span></a>. Model training also remains unchanged from the previous method.</p>
</div>
<figure class="ltx_figure" id="S5.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="447" id="S5.F4.g1" src="extracted/5810497/ucb_architecture.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F4.2.1.1" style="font-size:90%;">Figure 4</span>. </span><span class="ltx_text" id="S5.F4.3.2" style="font-size:90%;">Location Retrieval Model Architectures</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S5.F4.4"><span class="ltx_text" id="S5.F4.4.1" style="font-size:80%;">Architecture for Section 5 in Red and Section 6 in Blue</span></p>
</div>
</div>
</figure>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Experimental Results</h2>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1. </span><span class="ltx_text ltx_font_bold" id="S6.SS1.1.1">Overview</span> </h3>
<figure class="ltx_table" id="S6.T1">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_inline-block ltx_figure_panel ltx_align_center ltx_transformed_outer" id="S6.T1.2" style="width:433.6pt;height:55.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-137.5pt,17.5pt) scale(0.611952384648057,0.611952384648057) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S6.T1.2.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S6.T1.2.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="S6.T1.2.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T1.2.1.1.1.1.1">Approach</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S6.T1.2.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S6.T1.2.1.1.1.2.1">Baseline</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S6.T1.2.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S6.T1.2.1.1.1.3.1">Uncancelled Bookers</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S6.T1.2.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S6.T1.2.1.1.1.4.1">Booked Listing Location Recall</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S6.T1.2.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S6.T1.2.1.1.1.5.1">Retrieval Bounds Size</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T1.2.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S6.T1.2.1.1.1.6.1">Number of Listings Retrieved</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T1.2.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S6.T1.2.1.2.1.1">Heuristic 4</th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S6.T1.2.1.2.1.2">Heuristic 3</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S6.T1.2.1.2.1.3">+0.35%</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S6.T1.2.1.2.1.4">N/A</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S6.T1.2.1.2.1.5">N/A</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.2.1.2.1.6">+0.18%</td>
</tr>
<tr class="ltx_tr" id="S6.T1.2.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S6.T1.2.1.3.2.1">Statistics</th>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.3.2.2">Heuristic 1, 2, 4</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.3.2.3">No Stat Sig Change</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.3.2.4">+1.05%</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.3.2.5">N/A</td>
<td class="ltx_td ltx_align_center" id="S6.T1.2.1.3.2.6">-0.40%</td>
</tr>
<tr class="ltx_tr" id="S6.T1.2.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S6.T1.2.1.4.3.1">Machine Learning</th>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.4.3.2">Heuristic 1, 2, 4</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.4.3.3">+1.8%</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.4.3.4">+7.12%</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.4.3.5">-40.83%</td>
<td class="ltx_td ltx_align_center" id="S6.T1.2.1.4.3.6">+0.57%</td>
</tr>
<tr class="ltx_tr" id="S6.T1.2.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S6.T1.2.1.5.4.1">Reinforcement Learning</th>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.5.4.2">Machine Learning</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.5.4.3">+0.51%</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.5.4.4">+0.25%</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S6.T1.2.1.5.4.5">-9.3%</td>
<td class="ltx_td ltx_align_center" id="S6.T1.2.1.5.4.6">+0.01%</td>
</tr>
</tbody>
</table>
</span></div>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S6.T1.3.1.1" style="font-size:90%;">Table 1</span>. </span><span class="ltx_text" id="S6.T1.4.2" style="font-size:90%;">Online and Offline Impact of all Approaches</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S6.T1.5"><span class="ltx_text" id="S6.T1.5.1" style="font-size:80%;">Absolute metric values are not shown for company privacy reasons.</span></p>
</div>
</div>
</figure>
<div class="ltx_para" id="S6.SS1.p1">
<p class="ltx_p" id="S6.SS1.p1.1"><span class="ltx_text" id="S6.SS1.p1.1.1"></span> We evaluate location retrieval models offline on held out test data. The held out data is composed of 1 weeks worth of bookings and searches from dates not included in training dataset construction equating to roughly 7 million examples. We consider the following two metrics based on the losses described above. These two metrics are typically inversely correlated, i.e., the larger, less relevant the bounds are the higher the recall of booked listing locations.</p>
<ol class="ltx_enumerate" id="S6.I1">
<li class="ltx_item" id="S6.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S6.I1.i1.p1">
<p class="ltx_p" id="S6.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S6.I1.i1.p1.1.1">Booked Listing Location Recall</span>: Percentage of booked listing locations that are contained within the predicted retrieval bounds of attributed searches</p>
</div>
</li>
<li class="ltx_item" id="S6.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S6.I1.i2.p1">
<p class="ltx_p" id="S6.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S6.I1.i2.p1.1.1">Retrieval Bounds Size</span>: The average size in kilometers of the predicted retrieval bounds</p>
</div>
</li>
<li class="ltx_item" id="S6.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S6.I1.i3.p1">
<p class="ltx_p" id="S6.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S6.I1.i3.p1.1.1">Number of Listings Retrieved</span>: The average number of listings retrieved using the predicted bounds</p>
</div>
</li>
</ol>
<p class="ltx_p" id="S6.SS1.p1.2"><span class="ltx_text" id="S6.SS1.p1.2.1"></span> The primary evaluation to determine whether a new approach will be launched to 100% of production traffic is to test whether it has a statistically significant (p-val ¡ 0.05) increase in the following business metric in a massive online A/B experiment.

<br class="ltx_break"/><span class="ltx_text" id="S6.SS1.p1.2.2"></span> <span class="ltx_text ltx_font_bold" id="S6.SS1.p1.2.3">Uncancelled Bookers</span>: The unique number of guests that complete a homes booking reservation on Airbnb that did not cancel the reservation during the experiment period. 
<br class="ltx_break"/><span class="ltx_text" id="S6.SS1.p1.2.4"></span> All methods were tested in 3 week 50/50 A/B experiments with ~54M guests worldwide. Advancements in location retrieval primarily increase uncancelled booker conversion by surfacing new listings that were not shown before that offer differing values, amenities, or style. Given Airbnb’s scale and the long tail booking objective, an improvement of even just 0.2% is very significant and difficult to achieve for optimizations within search. The impact of each method on offline and online evaluation criteria are detailed above in Table 1. Additionally, we do qualitative evaluation of specific searches, retrieval bounds, and search results to determine whether solutions test the original hypotheses. 
<br class="ltx_break"/></p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2. </span><span class="ltx_text ltx_font_bold" id="S6.SS2.1.1">Cold Start Heuristic based Location Retrieval</span> </h3>
<div class="ltx_para" id="S6.SS2.p1">
<p class="ltx_p" id="S6.SS2.p1.1"><span class="ltx_text" id="S6.SS2.p1.1.1"></span> The log scale expansion function (Heuristic 4) was tested in online A/B experiments against the baseline method (Heuristic 3) outlined in Section 2 for each location type. It significantly improved the launch criterion of uncancelled bookers by 0.35% and was launched to 100% of production traffic. Offline impact is not shown in Table 1 because it was developed and tested before our offline evaluation criteria was defined and tracked. 
<br class="ltx_break"/><span class="ltx_text" id="S6.SS2.p1.1.2"></span> These improvements proved that location retrieval was an impactful lever to improve experiences for guests and booking behavior. These heuristics improved searches that had disproportionately low inventory states and unbookable inventory. For example searches for a specific building in Ibiza, Spain previously resulted in 5 results with the baseline while the new heuristic surfaced several pages of bookable results by expanding the bounds less than a mile. This is demonstrated in Figures <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S6.F5" title="Figure 5 ‣ 6.2. Cold Start Heuristic based Location Retrieval ‣ 6. Experimental Results ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">5</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S6.F6" title="Figure 6 ‣ 6.2. Cold Start Heuristic based Location Retrieval ‣ 6. Experimental Results ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<figure class="ltx_figure" id="S6.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="189" id="S6.F5.g1" src="extracted/5810497/ibiza_before.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S6.F5.2.1.1" style="font-size:90%;">Figure 5</span>. </span><span class="ltx_text" id="S6.F5.3.2" style="font-size:90%;">Search for Building in Ibiza, Spain Before Log Scale Expansion Heuristic</span></figcaption>
</figure>
<figure class="ltx_figure" id="S6.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="190" id="S6.F6.g1" src="extracted/5810497/ibiza_after.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S6.F6.2.1.1" style="font-size:90%;">Figure 6</span>. </span><span class="ltx_text" id="S6.F6.3.2" style="font-size:90%;">Search for Building in Ibiza, Spain After Log Scale Expansion Heuristic</span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S6.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3. </span><span class="ltx_text ltx_font_bold" id="S6.SS3.1.1">Statistics based Location Retrieval</span> </h3>
<div class="ltx_para" id="S6.SS3.p1">
<p class="ltx_p" id="S6.SS3.p1.1"><span class="ltx_text" id="S6.SS3.p1.1.1"></span> The statistics based method was tested in an online A/B experiment against the three heuristics for each searched location typed defined in Section 1. However, it did not have a stat sig impact on uncancelled bookers so it was never launched to 100% of production traffic. This experiment showed that naively taking advantage of booking data segmented only by searched location was not enough to materially improve the amount of bookers on the platform. We believed this was likely due to the methods inability to generalize across different searches and differentiate guest experiences because it was coarsely keyed by searched location. The need for this is evidenced by the difference in booking behavior between different guest counts, demonstrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">1</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S4.F3" title="Figure 3 ‣ 4.1. The opportunity ‣ 4. Machine Learning based Location Retrieval ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">3</span></a> above.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.4. </span><span class="ltx_text ltx_font_bold" id="S6.SS4.1.1">Machine Learning based Location Retrieval</span> </h3>
<div class="ltx_para" id="S6.SS4.p1">
<p class="ltx_p" id="S6.SS4.p1.1"><span class="ltx_text" id="S6.SS4.p1.1.1"></span> Applying machine learning for location retrieval was profoundly impactful. The methodology described and the following impact are the result of the initial model launch and two successive iterations on the input features and attribution. The feature engineering effort added features indicating the business market and a unique identifier for the specific cell on the Earth’s surface that corresponds to the search location center in order to generalize better for rare locations. It also introduced trip dates to better handle seasonality. The attribution iteration expanded the training data to include booked listing locations that were found through map pan and zoom searches. The initial model launch was tested against the three heuristics for each searched location type defined in Section 2 and each iteration was tested successively with the previous model as a baseline for offline evaluation and online experiments. The methods cumulatively increased booked listing location recall by 7.12% and reduced retrieval bounds sizes by 40.83%, according to offline evaluation on held out test data compared to the baseline method.

<br class="ltx_break"/><span class="ltx_text" id="S6.SS4.p1.1.2"></span> The machine learning based location retrieval solutions were also tested successively in online A/B experiments resulting in a cumulative +1.8% uncancelled bookers by showing guests more bookable inventory near their travel destinations. Each iteration had statistically significant positive impact to uncancelled bookers, was launched to 100% of production traffic for a period of time, and served as the following iteration’s baseline for offline and online evaluation.

<br class="ltx_break"/><span class="ltx_text" id="S6.SS4.p1.1.3"></span> We also qualitatively evaluated searches to verify whether the model generalizes for uncommon locations. For example, the baseline retrieval bounds are arbitrarily large with many results that were extremely far away and irrelevant for a search for a small street in Lima, Peru such that the searched street is not visible in the UI. The machine learning based retrieval bounds results in much smaller bounds and more relevant results near the street demonstrating its ability to generalize for uncommon locations. This is shown in Figures <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S6.F7" title="Figure 7 ‣ 6.4. Machine Learning based Location Retrieval ‣ 6. Experimental Results ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">7</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S6.F8" title="Figure 8 ‣ 6.4. Machine Learning based Location Retrieval ‣ 6. Experimental Results ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">8</span></a>.</p>
</div>
<figure class="ltx_figure" id="S6.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="294" id="S6.F7.g1" src="extracted/5810497/deep_lima_search_before.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S6.F7.2.1.1" style="font-size:90%;">Figure 7</span>. </span><span class="ltx_text" id="S6.F7.3.2" style="font-size:90%;">Retrieval Bounds and results for a search for a small street in Lima, Peru before machine learning based location retrieval</span></figcaption>
</figure>
<figure class="ltx_figure" id="S6.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="290" id="S6.F8.g1" src="extracted/5810497/deep_lima_search_after.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S6.F8.2.1.1" style="font-size:90%;">Figure 8</span>. </span><span class="ltx_text" id="S6.F8.3.2" style="font-size:90%;">Retrieval Bounds and results for a search for a small street in Lima, Peru after machine learning based location retrieval</span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S6.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.5. </span><span class="ltx_text ltx_font_bold" id="S6.SS5.1.1">Reinforcement Learning based Location Retrieval</span> </h3>
<div class="ltx_para" id="S6.SS5.p1">
<p class="ltx_p" id="S6.SS5.p1.1"><span class="ltx_text" id="S6.SS5.p1.1.1"></span> The MC Dropout Location Retrieval model performs better than the baseline machine learning model when evaluating offline using the mean prediction <math alttext="\mu" class="ltx_Math" display="inline" id="S6.SS5.p1.1.m1.1"><semantics id="S6.SS5.p1.1.m1.1a"><mi id="S6.SS5.p1.1.m1.1.1" xref="S6.SS5.p1.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S6.SS5.p1.1.m1.1b"><ci id="S6.SS5.p1.1.m1.1.1.cmml" xref="S6.SS5.p1.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS5.p1.1.m1.1c">\mu</annotation><annotation encoding="application/x-llamapun" id="S6.SS5.p1.1.m1.1d">italic_μ</annotation></semantics></math> for each test example with +0.25% in recall and -9.3% in retrieval size. We also qualitatively verified whether the MC Dropout Location Retrieval model explores more for locations with little prior data versus locations that are often searched and booked. For example, the difference between the mean bounds and UCB bounds for San Francisco, California is very small. However, the difference is much larger for Smith Mountain Lake, Virginia where we have little prior data. This is demonstrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#S6.F9" title="Figure 9 ‣ 6.5. Reinforcement Learning based Location Retrieval ‣ 6. Experimental Results ‣ Transforming Location Retrieval at Airbnb: A Journey from Heuristics to Reinforcement Learning"><span class="ltx_text ltx_ref_tag">9</span></a>.</p>
</div>
<figure class="ltx_figure" id="S6.F9">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S6.F9.2.1.1" style="font-size:90%;">Figure 9</span>. </span><span class="ltx_text" id="S6.F9.3.2" style="font-size:90%;">Mean and UCB Retrieval Bounds from Searches San Francicso, CA (left) and Smith Mountain Lake, Virginia (right) </span></figcaption><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="155" id="S6.F9.g1" src="extracted/5810497/combo_ucb_bounds.png" width="299"/>
</figure>
<div class="ltx_para" id="S6.SS5.p2">
<p class="ltx_p" id="S6.SS5.p2.1"><span class="ltx_text" id="S6.SS5.p2.1.1"></span> The MC Dropout Location Retrieval Model was also tested in an online A/B experiment against the baseline production machine learning model retrained on data up to the start of the experiment and the production model trained on data up to 8 months before the start of the experiment. There was no statistically significant difference in performance between the production and retrained production models. The MC Dropout model showed a statistically significant increase of +0.51% in uncancelled bookers compared to the retrained production model, which was primarily driven by surfacing more bookable, affordable, and diverse inventory to guests. This is the result of two successive experiments. The first tested the method described against the preexisting machine learning solution. The second optimized the 32 forward passes required for uncertainty estimation by embedding it into the tensorflow graph instead of manually scoring the model 32 separate times which resulted in a significant latency improvement. Traditional multi-armed bandit regret analysis is infeasible for the nontraditional recall maximizing application but model confidence for each prediction offset has increased by 7.33% on average since launch.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7. </span>Conclusion</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">We presented how location retrieval was built from the ground up in Airbnb search by solving cold start, generalization, and algorithmic bias. The system evolved from heuristics all the way to the application of reinforcement learning with significant cumulative impact of +2.66% in uncancelled bookers. This is comparable or more impactful than many previously published machine learning techniques within Airbnb search such as <cite class="ltx_cite ltx_citemacro_citep">(Abdool et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib2" title="">2020</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Haldar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib9" title="">2019</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Haldar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib10" title="">2020</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Tan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib18" title="">2023</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Haldar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.13399v1#bib.bib8" title="">2023</a>)</cite>. We outlined the successes and failures along the way and the motivation for more advanced techniques to tackle the aforementioned challenges. The Monte Carlo Dropout model, the application of reinforcement learning, proved that it performed better than previous baselines offline and online for business metrics and now serves all production traffic at Airbnb. For future work, there is opportunity to advance the model’s understanding with more complex features. There is also an opportunity to reformulate the retrieval mechanism from retrieval bounds to map cells. This would allow for organically learning booking probabilities for each cell instead of training with hand tuned weights.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abdool et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Mustafa Abdool, Malay Haldar, Prashant Ramanathan, Tyler Sax, Lanbo Zhang, Aamir Manaswala, Lynn Yang, Bradley Turnbull, Qing Zhang, and Thomas Legrand. 2020.

</span>
<span class="ltx_bibblock">Managing diversity in airbnb search. In <em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">Proceedings of the 26th ACM SIGKDD International Conference on Knowledge Discovery &amp; Data Mining</em>. 2952–2960.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Agrawal and Goyal (2013)</span>
<span class="ltx_bibblock">
Shipra Agrawal and Navin Goyal. 2013.

</span>
<span class="ltx_bibblock">Thompson sampling for contextual bandits with linear payoffs. In <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">International conference on machine learning</em>. PMLR, 127–135.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Auer (2002)</span>
<span class="ltx_bibblock">
Peter Auer. 2002.

</span>
<span class="ltx_bibblock">Using confidence bounds for exploitation-exploration trade-offs.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Journal of Machine Learning Research</em> 3, Nov (2002), 397–422.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chan et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Gromit Yeuk-Yin Chan, Tung Mai, Anup B. Rao, Ryan A. Rossi, Fan Du, Cláudio T. Silva, and Juliana Freire. 2021.

</span>
<span class="ltx_bibblock">Interactive Audience Expansion On Large Scale Online Visitor Data. In <em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">Proceedings of the 27th ACM SIGKDD Conference on Knowledge Discovery &amp; Data Mining</em> (Virtual Event, Singapore) <em class="ltx_emph ltx_font_italic" id="bib.bib5.4.2">(KDD ’21)</em>. Association for Computing Machinery, New York, NY, USA, 2621–2631.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3447548.3467179" title="">https://doi.org/10.1145/3447548.3467179</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gal and Ghahramani (2016)</span>
<span class="ltx_bibblock">
Yarin Gal and Zoubin Ghahramani. 2016.

</span>
<span class="ltx_bibblock">Dropout as a bayesian approximation: Representing model uncertainty in deep learning. In <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">international conference on machine learning</em>. PMLR, 1050–1059.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Dalin Guo, Sofia Ira Ktena, Pranay Kumar Myana, Ferenc Huszar, Wenzhe Shi, Alykhan Tejani, Michael Kneier, and Sourav Das. 2020.

</span>
<span class="ltx_bibblock">Deep bayesian bandits: Exploring in online personalized recommendations. In <em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">Proceedings of the 14th ACM Conference on Recommender Systems</em>. 456–461.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Haldar et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Malay Haldar, Mustafa Abdool, Liwei He, Dillon Davis, Huiji Gao, and Sanjeev Katariya. 2023.

</span>
<span class="ltx_bibblock">Learning To Rank Diversely At Airbnb. In <em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">Proceedings of the 32nd ACM International Conference on Information and Knowledge Management</em>. 4609–4615.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Haldar et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Malay Haldar, Mustafa Abdool, Prashant Ramanathan, Tao Xu, Shulin Yang, Huizhong Duan, Qing Zhang, Nick Barrow-Williams, Bradley C Turnbull, Brendan M Collins, et al<span class="ltx_text" id="bib.bib9.3.1">.</span> 2019.

</span>
<span class="ltx_bibblock">Applying deep learning to airbnb search. In <em class="ltx_emph ltx_font_italic" id="bib.bib9.4.1">proceedings of the 25th ACM SIGKDD international conference on knowledge discovery &amp; Data Mining</em>. 1927–1935.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Haldar et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Malay Haldar, Prashant Ramanathan, Tyler Sax, Mustafa Abdool, Lanbo Zhang, Aamir Mansawala, Shulin Yang, Bradley Turnbull, and Junshuo Liao. 2020.

</span>
<span class="ltx_bibblock">Improving deep learning for airbnb search. In <em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">Proceedings of the 26th ACM SIGKDD International Conference on Knowledge Discovery &amp; Data Mining</em>. 2822–2830.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hoerl and Kennard (1970)</span>
<span class="ltx_bibblock">
Arthur E Hoerl and Robert W Kennard. 1970.

</span>
<span class="ltx_bibblock">Ridge regression: Biased estimation for nonorthogonal problems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">Technometrics</em> 12, 1 (1970), 55–67.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Joo et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Taejong Joo, Uijung Chung, and Min-Gwan Seo. 2020.

</span>
<span class="ltx_bibblock">Being bayesian about categorical probability. In <em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">International conference on machine learning</em>. PMLR, 4950–4961.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lakshminarayanan et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Balaji Lakshminarayanan, Alexander Pritzel, and Charles Blundell. 2017.

</span>
<span class="ltx_bibblock">Simple and scalable predictive uncertainty estimation using deep ensembles.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">Advances in neural information processing systems</em> 30 (2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Haishan Liu, David Pardoe, Kun Liu, Manoj Thakur, Frank Cao, and Chongzhe Li. 2016.

</span>
<span class="ltx_bibblock">Audience Expansion for Online Social Network Advertising. In <em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining</em> (San Francisco, California, USA) <em class="ltx_emph ltx_font_italic" id="bib.bib14.4.2">(KDD ’16)</em>. Association for Computing Machinery, New York, NY, USA, 165–174.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/2939672.2939680" title="">https://doi.org/10.1145/2939672.2939680</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Neal (2012)</span>
<span class="ltx_bibblock">
Radford M Neal. 2012.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Bayesian learning for neural networks</em>. Vol. 118.

</span>
<span class="ltx_bibblock">Springer Science &amp; Business Media.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sensoy et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Murat Sensoy, Lance Kaplan, and Melih Kandemir. 2018.

</span>
<span class="ltx_bibblock">Evidential deep learning to quantify classification uncertainty.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">Advances in neural information processing systems</em> 31 (2018).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sutton and Barto (2018)</span>
<span class="ltx_bibblock">
Richard S Sutton and Andrew G Barto. 2018.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">Reinforcement learning: An introduction</em>.

</span>
<span class="ltx_bibblock">MIT press.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tan et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Chun How Tan, Austin Chan, Malay Haldar, Jie Tang, Xin Liu, Mustafa Abdool, Huiji Gao, Liwei He, and Sanjeev Katariya. 2023.

</span>
<span class="ltx_bibblock">Optimizing Airbnb Search Journey with Multi-Task Learning. In <em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">Proceedings of the 29th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em> (Long Beach, CA, USA) <em class="ltx_emph ltx_font_italic" id="bib.bib18.4.2">(KDD ’23)</em>. Association for Computing Machinery, New York, NY, USA, 4872–4881.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3580305.3599881" title="">https://doi.org/10.1145/3580305.3599881</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuang et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Chenyi Zhuang, Ziqi Liu, Zhiqiang Zhang, Yize Tan, Zhengwei Wu, Zhining Liu, Jianping Wei, Jinjie Gu, Guannan Zhang, Jun Zhou, and Yuan Qi. 2020.

</span>
<span class="ltx_bibblock">Hubble: An Industrial System for Audience Expansion in Mobile Marketing. In <em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">Proceedings of the 26th ACM SIGKDD International Conference on Knowledge Discovery &amp; Data Mining</em> (Virtual Event, CA, USA) <em class="ltx_emph ltx_font_italic" id="bib.bib19.4.2">(KDD ’20)</em>. Association for Computing Machinery, New York, NY, USA, 2455–2463.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3394486.3403295" title="">https://doi.org/10.1145/3394486.3403295</a>
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_para" id="p1">
<p class="ltx_p" id="p1.1"></p>
</div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Aug 23 22:47:25 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
