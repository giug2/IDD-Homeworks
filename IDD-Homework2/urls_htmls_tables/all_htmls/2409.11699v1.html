<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement</title>
<!--Generated on Wed Sep 18 04:26:02 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2409.11699v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S1" title="In FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S2" title="In FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S3" title="In FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S3.SS1" title="In 3 Method ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Task Definition</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S3.SS2" title="In 3 Method ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Flare Model Architecture</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S3.SS3" title="In 3 Method ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>ID-Text Contrastive Learning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S3.SS4" title="In 3 Method ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Critiquing</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S3.SS5" title="In 3 Method ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5 </span>Training</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4" title="In FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Results</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4.SS1" title="In 4 Results ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Datasets</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4.SS1.SSSx1" title="In 4.1 Datasets ‣ 4 Results ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title">Amazon Product Reviews</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4.SS2" title="In 4 Results ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Experimental Setup</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4.SS2.SSSx1" title="In 4.2 Experimental Setup ‣ 4 Results ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title">Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4.SS2.SSSx2" title="In 4.2 Experimental Setup ‣ 4 Results ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title">Evaluation Settings</span></a>
<ol class="ltx_toclist ltx_toclist_subsubsection">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4.SS3" title="In Evaluation Settings ‣ 4.2 Experimental Setup ‣ 4 Results ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>RQ1: Flare Performance on Existing Benchmarks</span></a></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">FLARE: Fusing <span class="ltx_text ltx_font_bold" id="id1.id1">L</span>anguage Models and Collaborative <span class="ltx_text ltx_font_bold" id="id2.id2">A</span>rchitectures for <span class="ltx_text ltx_font_bold" id="id3.id3">R</span>ecommender <span class="ltx_text ltx_font_bold" id="id4.id4">E</span>nhancement</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Liam Hebert<sup class="ltx_sup" id="id5.1.id1">†1</sup>,
Marialena Kyriakidi<sup class="ltx_sup" id="id6.2.id2">†2</sup>,
Hubert Pham<sup class="ltx_sup" id="id7.3.id3">†2</sup>,
Krishna Sayana<sup class="ltx_sup" id="id8.4.id4">†2</sup>,
James Pine<sup class="ltx_sup" id="id9.5.id5">†2</sup>,
Sukhdeep Sodhi<sup class="ltx_sup" id="id10.6.id6">2</sup>,
Ambarish Jash<sup class="ltx_sup" id="id11.7.id7">2</sup>
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id12.id1">Hybrid recommender systems, combining item IDs and textual descriptions, offer potential for improved accuracy. However, previous work has largely focused on smaller datasets and model architectures. This paper introduces Flare (<span class="ltx_text ltx_font_bold" id="id12.id1.1">F</span>using <span class="ltx_text ltx_font_bold" id="id12.id1.2">L</span>anguage models and collaborative <span class="ltx_text ltx_font_bold" id="id12.id1.3">A</span>rchitectures for <span class="ltx_text ltx_font_bold" id="id12.id1.4">R</span>ecommender <span class="ltx_text ltx_font_bold" id="id12.id1.5">E</span>nhancement), a novel hybrid recommender that integrates a language model (mT5) with a collaborative filtering model (Bert4Rec) using a Perceiver network. This architecture allows Flare to effectively combine collaborative and content information for enhanced recommendations.</p>
<p class="ltx_p" id="id13.id2">We conduct a two-stage evaluation, first assessing Flare’s performance against established baselines on smaller datasets, where it demonstrates competitive accuracy. Subsequently, we evaluate Flare on a larger, more realistic dataset with a significantly larger item vocabulary, introducing new baselines for this setting. Finally, we showcase Flare’s inherent ability to support critiquing, enabling users to provide feedback and refine recommendations. We further leverage critiquing as an evaluation method to assess the model’s language understanding and its transferability to the recommendation task.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Sequential recommender systems incorporate the sequence of user interactions to recommend items grounded in the user’s historical preferences and temporal context <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">Donkers2017-xy</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Hidasi2016-qn</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">sasrec</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">bert4rec</span>)</cite>. While early systems modeled sequences of items only, recent work have proposed hybrid recommenders that also model sequential context (e.g. textual descriptions, categories, attributes) for those items <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">Hidasi2016-zt</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Huang2019-pu</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Zhang2019-tr</span>)</cite>. These models suggest that the sequential item context is itself informative, with potential to improve general recommendation quality and handle cold start for new items.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">With the recent trend in transformer-based and natural language models, more recent work has focused on recommender models that incorporate free-form text and attributes <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">recformer</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">s3rec</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">carca</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">u-bert</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">userllm</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">tiger</span>)</cite>. Adding text tends to improve performance over item ID baselines, e.g. Bert4Rec <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">bert4rec</span>)</cite>. However, to the best of our knowledge, the effectiveness of hybrid recommenders have been evaluated only on small datasets, specifically ones with a limited number of items. For instance, many models use subsets of the Amazon Product Reviews dataset that contains relatively small item inventory. Examples of common sub-sets include the Video Games (17k items), Office Products (27k) and Instruments (10k).</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">To investigate the performance of hybrid models on larger datasets, this paper uses two recommenders. The first is a reimplementation of Bert4Rec to serve as an item-only baseline, and Flare, a simple test-bench hybrid recommender that extends Bert4Rec by incorporating a modern text encoder using a Perceiver <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">perceiver</span>)</cite> network. This integration enables the synthesis of text based item context and item embeddings, potentially providing a richer representation for recommendations. Throughout this paper, ‘item-text’ denotes the concatenated key-value representation of all item context expressed in natural language.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">When thoroughly tuned, Bert4Rec and Flare models outperform more complex hybrid models on certain datasets. Notably, we observe that on certain datasets, a tuned baseline Bert4Rec model, which uses only IDs, surpasses previously reported hybrid model results that use text. On datasets where Bert4Rec underperforms, our tuned model consistently outperforms the previously reported Bert4Rec baselines used to evaluate hybrid recommenders. These findings suggest that the contribution of adding text may yield less increased performance for next recommendation prediction than previously thought.
That said, Flare, which incorporates text, outperforms our tuned Bert4Rec baseline, suggesting that item text improves metrics. In addition to the smaller datasets used by the current benchmarks, we also present new baseline results for Clothing, Shoes and Jewelry dataset from Amazon Product Reviews (376k) which involve larger vocabularies, where we observe similar trends.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">Finally, while it is natural to use standard ranking metrics to evaluate hybrid recommenders, we propose critiquing <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">Chen2012-dv</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Gao2021-xo</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Jannach2021-bp</span>)</cite> as an additional methodology. For hybrid recommenders trained with textual context, we believe that evaluating recommendations with text critiques is a natural way to measure how well the model assimilates item and textual information. To evaluate models with critiquing, we simulate the user providing input for the desired recommendations based on recent recommended items. We present an evaluation methodology for applying critiquing using the Amazon Reviews dataset and establish baselines.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">Our contributions include:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We propose a conceptually simple hybrid recommender model using an LLM to encode text and a Perceiver network to produce contextual embeddings (Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S3.F1" title="Figure 1 ‣ 3.2 Flare Model Architecture ‣ 3 Method ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_tag">1</span></a>). These are then combined with ID embeddings for a richer representation.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We show that, despite its simplicity, Flare obtains competitive performance on small datasets, approaching state-of-the-art techniques in some cases and outperforming previously reported Bert4Rec baselines used to evaluate hybrid recommenders.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">Additionally to the smaller datasets used in current benchmarks, we establish new baselines for hybrid models on large vocabulary datasets.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1">We investigate critiquing as a promising methodology to assess and debug performance gains obtained as a result of adding text meta-data. We present a new critiquing-based metric and associated baselines.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">Work in sequence modeling for recommendations have traditionally focused on RNNs <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">Hidasi2016-qn</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Donkers2017-xy</span>)</cite>, and more recently, using transformers. For example, SASRec <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">sasrec</span>)</cite> proposes using a transformer-based approach to model item sequences for recommendations, using causal self-attention. Bert4Rec <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">bert4rec</span>)</cite> extends SASRec with BERT-style <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">bert</span>)</cite> masked language-model training for item sequences. These seminal models serve as popular baselines in subsequent work.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">To improve general recommendation quality, follow-on efforts investigate hybrid models, which augment the sequence of item IDs with a corresponding sequence of item context (e.g. textual descriptions, categories, attributes). For example, HybridBERT4Rec <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">hybridbert4rec</span>)</cite> extends BERT4Rec with a separate tower that models item context, using the set of users that consume that item as input. S<sup class="ltx_sup" id="S2.p2.1.1">3</sup>Rec <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">s3rec</span>)</cite> proposes self-supervised pre-training tasks to align items and attributes by utilizing mutual information maximization. CaFe <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">li2022coarsetofine</span>)</cite> explicitly models coarse-grained, or intent-based, sequences along with dense fine-grained sequences to better capture short-term vs long-term preferences. CARCA <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">carca</span>)</cite> combines item sequences, associated context, and item attributes connected via cross-attention to better correlate between older and more recent items in the user profile. U-BERT <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">u-bert</span>)</cite> trains user and content encoders during self-supervised pre-training with content-rich signals, followed by fine-tuning to focus on content-deficient domains. Some efforts explore replacing the explicit item ID representation and rely solely on a contextual representation. For example, Recformer <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">recformer</span>)</cite> proposes an item representation comprising learned embeddings of text-based key-value pairs. TIGER <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">tiger</span>)</cite> investigates a semantic ID representation for items, along with a T5-style <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">T5</span>)</cite> training and generative approach for retrieval.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">As described in the next section, Flare shares similarities with some of the models above. It learns embeddings to represent each item, uses a pre-trained text encoder to encode item metadata, and models item sequence with a stack of transformer layers. Flare differs in that it does not require additional pre-training (aside from the “off-the-shelf” text encoder) nor fine-tuning.</p>
</div>
<div class="ltx_para" id="S2.p4">
<p class="ltx_p" id="S2.p4.1">Recent efforts explore incorporating collaborative filtering signals directly into a large-language model (LLM), motivated by the intuition that the language semantics encoded in the LLM promote item context interpretation. P5 <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">p5rec</span>)</cite> represents all user–item signals, along with associated context, as natural language sequences that is input to an encoder/decoder model. LC-Rec <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">lc-rec</span>)</cite> uses vector quantization for ID representation and LLM pre-training tasks to align items and language. CLLM4Rec <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">zhu2023collaborative</span>)</cite> adds new user and item tokens to the LLM, along with a training head to model the collaborative filtering signal. Hua et al. <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">Hua_2023</span>)</cite> studies methods to effectively add item IDs to the LLM token vocabulary. User-LLM <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">userllm</span>)</cite> encodes user history into user embeddings, and incorporates them into an LLM via cross-attention. Harte et al. <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">Harte2023-gq</span>)</cite> experiment with extracting item embeddings from a pretrained LLM to make recommendations directly, as well as to initialize Bert4Rec’s item embeddings. Unlike the above, Flare is focused on using encoders and does not explore the use of a language decoder to make recommendations.</p>
</div>
<div class="ltx_para" id="S2.p5">
<p class="ltx_p" id="S2.p5.1">We propose critiquing (surveyed in <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">Chen2012-dv</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Gao2021-xo</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Jannach2021-bp</span>)</cite>) as a new task for evaluating hybrid models. Early critiquing systems enable the user to provide feedback on recommended items, typically at the feature-level, through (e.g.) suggested pre-designed tweaks <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">Burke1996-rv</span>)</cite> or language-driven dialog systems <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">Shimazu2002-uq</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Thompson2004-jj</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Grasch2013-kw</span>)</cite>. Recent work <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">Wu2019-qx</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Luo2020-uw</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Luo2020-qh</span>)</cite> explore systems that jointly learn latent representations for users, items, and key-phrases, the latter of which serves as critiques that can influence the recommendations through operations in the latent space. Others explore the interpretation of attributes <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">Nema2021-ad</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">Balog2021-cj</span>)</cite> to support critiquing. We view hybrid models that associate item sequences with the associated textual context signals as natural extensions to the recent critiquable recommenders. As such, we believe hybrid recommenders offer a promising approach for building critiquing systems, and that it would be instructive to start evaluating such recommenders with critiquing.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Task Definition</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.10">We formulate the recommendation task as follows. Assume a dataset consisting of user sequences <math alttext="S=\{i_{1},i_{2},...,i_{n}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.4"><semantics id="S3.SS1.p1.1.m1.4a"><mrow id="S3.SS1.p1.1.m1.4.4" xref="S3.SS1.p1.1.m1.4.4.cmml"><mi id="S3.SS1.p1.1.m1.4.4.5" xref="S3.SS1.p1.1.m1.4.4.5.cmml">S</mi><mo id="S3.SS1.p1.1.m1.4.4.4" xref="S3.SS1.p1.1.m1.4.4.4.cmml">=</mo><mrow id="S3.SS1.p1.1.m1.4.4.3.3" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml"><mo id="S3.SS1.p1.1.m1.4.4.3.3.4" stretchy="false" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p1.1.m1.2.2.1.1.1" xref="S3.SS1.p1.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.2.2.1.1.1.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml">i</mi><mn id="S3.SS1.p1.1.m1.2.2.1.1.1.3" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.5" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.1.m1.3.3.2.2.2" xref="S3.SS1.p1.1.m1.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.1.m1.3.3.2.2.2.2" xref="S3.SS1.p1.1.m1.3.3.2.2.2.2.cmml">i</mi><mn id="S3.SS1.p1.1.m1.3.3.2.2.2.3" xref="S3.SS1.p1.1.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.6" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><mi id="S3.SS1.p1.1.m1.1.1" mathvariant="normal" xref="S3.SS1.p1.1.m1.1.1.cmml">…</mi><mo id="S3.SS1.p1.1.m1.4.4.3.3.7" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.1.m1.4.4.3.3.3" xref="S3.SS1.p1.1.m1.4.4.3.3.3.cmml"><mi id="S3.SS1.p1.1.m1.4.4.3.3.3.2" xref="S3.SS1.p1.1.m1.4.4.3.3.3.2.cmml">i</mi><mi id="S3.SS1.p1.1.m1.4.4.3.3.3.3" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3.cmml">n</mi></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.8" stretchy="false" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.4b"><apply id="S3.SS1.p1.1.m1.4.4.cmml" xref="S3.SS1.p1.1.m1.4.4"><eq id="S3.SS1.p1.1.m1.4.4.4.cmml" xref="S3.SS1.p1.1.m1.4.4.4"></eq><ci id="S3.SS1.p1.1.m1.4.4.5.cmml" xref="S3.SS1.p1.1.m1.4.4.5">𝑆</ci><set id="S3.SS1.p1.1.m1.4.4.3.4.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3"><apply id="S3.SS1.p1.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2">𝑖</ci><cn id="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p1.1.m1.3.3.2.2.2.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.1.m1.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2.2">𝑖</ci><cn id="S3.SS1.p1.1.m1.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">…</ci><apply id="S3.SS1.p1.1.m1.4.4.3.3.3.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.4.4.3.3.3.1.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.1.m1.4.4.3.3.3.2.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3.2">𝑖</ci><ci id="S3.SS1.p1.1.m1.4.4.3.3.3.3.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3">𝑛</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.4c">S=\{i_{1},i_{2},...,i_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.4d">italic_S = { italic_i start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_i start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_i start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math> containing items <math alttext="i\in\mathcal{I}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mrow id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">i</mi><mo id="S3.SS1.p1.2.m2.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml">ℐ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><in id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1"></in><ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">𝑖</ci><ci id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3">ℐ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">i\in\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">italic_i ∈ caligraphic_I</annotation></semantics></math>. Each item <math alttext="i" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.1"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.1d">italic_i</annotation></semantics></math> is a tuple <math alttext="(\mathrm{ID},T)" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.2"><semantics id="S3.SS1.p1.4.m4.2a"><mrow id="S3.SS1.p1.4.m4.2.3.2" xref="S3.SS1.p1.4.m4.2.3.1.cmml"><mo id="S3.SS1.p1.4.m4.2.3.2.1" stretchy="false" xref="S3.SS1.p1.4.m4.2.3.1.cmml">(</mo><mi id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">ID</mi><mo id="S3.SS1.p1.4.m4.2.3.2.2" xref="S3.SS1.p1.4.m4.2.3.1.cmml">,</mo><mi id="S3.SS1.p1.4.m4.2.2" xref="S3.SS1.p1.4.m4.2.2.cmml">T</mi><mo id="S3.SS1.p1.4.m4.2.3.2.3" stretchy="false" xref="S3.SS1.p1.4.m4.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.2b"><interval closure="open" id="S3.SS1.p1.4.m4.2.3.1.cmml" xref="S3.SS1.p1.4.m4.2.3.2"><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">ID</ci><ci id="S3.SS1.p1.4.m4.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2">𝑇</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.2c">(\mathrm{ID},T)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.2d">( roman_ID , italic_T )</annotation></semantics></math>, where <math alttext="\mathrm{ID}" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><mi id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">ID</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">ID</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">\mathrm{ID}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">roman_ID</annotation></semantics></math> is the unique identifier of the item, and <math alttext="T=\{t^{1},t^{2},...,t^{m}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.4"><semantics id="S3.SS1.p1.6.m6.4a"><mrow id="S3.SS1.p1.6.m6.4.4" xref="S3.SS1.p1.6.m6.4.4.cmml"><mi id="S3.SS1.p1.6.m6.4.4.5" xref="S3.SS1.p1.6.m6.4.4.5.cmml">T</mi><mo id="S3.SS1.p1.6.m6.4.4.4" xref="S3.SS1.p1.6.m6.4.4.4.cmml">=</mo><mrow id="S3.SS1.p1.6.m6.4.4.3.3" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml"><mo id="S3.SS1.p1.6.m6.4.4.3.3.4" stretchy="false" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml">{</mo><msup id="S3.SS1.p1.6.m6.2.2.1.1.1" xref="S3.SS1.p1.6.m6.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.6.m6.2.2.1.1.1.2" xref="S3.SS1.p1.6.m6.2.2.1.1.1.2.cmml">t</mi><mn id="S3.SS1.p1.6.m6.2.2.1.1.1.3" xref="S3.SS1.p1.6.m6.2.2.1.1.1.3.cmml">1</mn></msup><mo id="S3.SS1.p1.6.m6.4.4.3.3.5" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml">,</mo><msup id="S3.SS1.p1.6.m6.3.3.2.2.2" xref="S3.SS1.p1.6.m6.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.6.m6.3.3.2.2.2.2" xref="S3.SS1.p1.6.m6.3.3.2.2.2.2.cmml">t</mi><mn id="S3.SS1.p1.6.m6.3.3.2.2.2.3" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3.cmml">2</mn></msup><mo id="S3.SS1.p1.6.m6.4.4.3.3.6" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml">,</mo><mi id="S3.SS1.p1.6.m6.1.1" mathvariant="normal" xref="S3.SS1.p1.6.m6.1.1.cmml">…</mi><mo id="S3.SS1.p1.6.m6.4.4.3.3.7" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml">,</mo><msup id="S3.SS1.p1.6.m6.4.4.3.3.3" xref="S3.SS1.p1.6.m6.4.4.3.3.3.cmml"><mi id="S3.SS1.p1.6.m6.4.4.3.3.3.2" xref="S3.SS1.p1.6.m6.4.4.3.3.3.2.cmml">t</mi><mi id="S3.SS1.p1.6.m6.4.4.3.3.3.3" xref="S3.SS1.p1.6.m6.4.4.3.3.3.3.cmml">m</mi></msup><mo id="S3.SS1.p1.6.m6.4.4.3.3.8" stretchy="false" xref="S3.SS1.p1.6.m6.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.4b"><apply id="S3.SS1.p1.6.m6.4.4.cmml" xref="S3.SS1.p1.6.m6.4.4"><eq id="S3.SS1.p1.6.m6.4.4.4.cmml" xref="S3.SS1.p1.6.m6.4.4.4"></eq><ci id="S3.SS1.p1.6.m6.4.4.5.cmml" xref="S3.SS1.p1.6.m6.4.4.5">𝑇</ci><set id="S3.SS1.p1.6.m6.4.4.3.4.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3"><apply id="S3.SS1.p1.6.m6.2.2.1.1.1.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1">superscript</csymbol><ci id="S3.SS1.p1.6.m6.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1.2">𝑡</ci><cn id="S3.SS1.p1.6.m6.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.6.m6.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p1.6.m6.3.3.2.2.2.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2">superscript</csymbol><ci id="S3.SS1.p1.6.m6.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2.2">𝑡</ci><cn id="S3.SS1.p1.6.m6.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">…</ci><apply id="S3.SS1.p1.6.m6.4.4.3.3.3.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.4.4.3.3.3.1.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3.3">superscript</csymbol><ci id="S3.SS1.p1.6.m6.4.4.3.3.3.2.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3.3.2">𝑡</ci><ci id="S3.SS1.p1.6.m6.4.4.3.3.3.3.cmml" xref="S3.SS1.p1.6.m6.4.4.3.3.3.3">𝑚</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.4c">T=\{t^{1},t^{2},...,t^{m}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.4d">italic_T = { italic_t start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , italic_t start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT , … , italic_t start_POSTSUPERSCRIPT italic_m end_POSTSUPERSCRIPT }</annotation></semantics></math> is a natural language description of the item consisting of text tokens <math alttext="t" class="ltx_Math" display="inline" id="S3.SS1.p1.7.m7.1"><semantics id="S3.SS1.p1.7.m7.1a"><mi id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m7.1d">italic_t</annotation></semantics></math>. Each description <math alttext="T" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m8.1"><semantics id="S3.SS1.p1.8.m8.1a"><mi id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><ci id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">T</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m8.1d">italic_T</annotation></semantics></math> comprises the title, description category, and a short review summary given by the user. The task is to predict <math alttext="i_{n+1}" class="ltx_Math" display="inline" id="S3.SS1.p1.9.m9.1"><semantics id="S3.SS1.p1.9.m9.1a"><msub id="S3.SS1.p1.9.m9.1.1" xref="S3.SS1.p1.9.m9.1.1.cmml"><mi id="S3.SS1.p1.9.m9.1.1.2" xref="S3.SS1.p1.9.m9.1.1.2.cmml">i</mi><mrow id="S3.SS1.p1.9.m9.1.1.3" xref="S3.SS1.p1.9.m9.1.1.3.cmml"><mi id="S3.SS1.p1.9.m9.1.1.3.2" xref="S3.SS1.p1.9.m9.1.1.3.2.cmml">n</mi><mo id="S3.SS1.p1.9.m9.1.1.3.1" xref="S3.SS1.p1.9.m9.1.1.3.1.cmml">+</mo><mn id="S3.SS1.p1.9.m9.1.1.3.3" xref="S3.SS1.p1.9.m9.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.1b"><apply id="S3.SS1.p1.9.m9.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.1.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS1.p1.9.m9.1.1.2.cmml" xref="S3.SS1.p1.9.m9.1.1.2">𝑖</ci><apply id="S3.SS1.p1.9.m9.1.1.3.cmml" xref="S3.SS1.p1.9.m9.1.1.3"><plus id="S3.SS1.p1.9.m9.1.1.3.1.cmml" xref="S3.SS1.p1.9.m9.1.1.3.1"></plus><ci id="S3.SS1.p1.9.m9.1.1.3.2.cmml" xref="S3.SS1.p1.9.m9.1.1.3.2">𝑛</ci><cn id="S3.SS1.p1.9.m9.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.9.m9.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.1c">i_{n+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.9.m9.1d">italic_i start_POSTSUBSCRIPT italic_n + 1 end_POSTSUBSCRIPT</annotation></semantics></math> given <math alttext="S" class="ltx_Math" display="inline" id="S3.SS1.p1.10.m10.1"><semantics id="S3.SS1.p1.10.m10.1a"><mi id="S3.SS1.p1.10.m10.1.1" xref="S3.SS1.p1.10.m10.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m10.1b"><ci id="S3.SS1.p1.10.m10.1.1.cmml" xref="S3.SS1.p1.10.m10.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m10.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.10.m10.1d">italic_S</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Flare Model Architecture</h3>
<figure class="ltx_figure" id="S3.F1">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S3.F1.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="216" id="S3.F1.sf1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>Flare Model Architecture.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S3.F1.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="446" id="S3.F1.sf2.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Flare adapted to incorporate recommendation critiques. Critiques are textual descriptions, incorporated as a separate modality to the Perceiver, to direct the model’s predictions.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S3.F1.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="498" id="S3.F1.sf3.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span>Text-ID contrastive alignment loss, aligning textual embeddings with collaborative filtering embeddings. Gray squares are in-batch negative text-item embedding pairs, and yellow squares represent positive pairs.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Sequential recommender model architecture with text augmentation. Text tokens are encoded with a frozen (blue) LLM (mT5), and the associated embeddings are resampled with the Perceiver. Parameters in green boxes are learned using MLM.</figcaption>
</figure>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.5">Flare augments the Bert4Rec architecture <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">bert4rec</span>)</cite> with item context features (Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S3.F1" title="Figure 1 ‣ 3.2 Flare Model Architecture ‣ 3 Method ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_tag">1</span></a>). Sequential recommendation models like Bert4Rec use masked language modeling (MLM) with a cloze learning task, similar to BERT’s approach for language tokens. During training, a random subset of items in the input sequence is replaced with a special mask token <math alttext="\langle mask\rangle" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mrow id="S3.SS2.p1.1.m1.1.1.1" xref="S3.SS2.p1.1.m1.1.1.2.cmml"><mo id="S3.SS2.p1.1.m1.1.1.1.2" stretchy="false" xref="S3.SS2.p1.1.m1.1.1.2.1.cmml">⟨</mo><mrow id="S3.SS2.p1.1.m1.1.1.1.1" xref="S3.SS2.p1.1.m1.1.1.1.1.cmml"><mi id="S3.SS2.p1.1.m1.1.1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.1.1.2.cmml">m</mi><mo id="S3.SS2.p1.1.m1.1.1.1.1.1" xref="S3.SS2.p1.1.m1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.1.m1.1.1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.1.1.3.cmml">a</mi><mo id="S3.SS2.p1.1.m1.1.1.1.1.1a" xref="S3.SS2.p1.1.m1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.1.m1.1.1.1.1.4" xref="S3.SS2.p1.1.m1.1.1.1.1.4.cmml">s</mi><mo id="S3.SS2.p1.1.m1.1.1.1.1.1b" xref="S3.SS2.p1.1.m1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.1.m1.1.1.1.1.5" xref="S3.SS2.p1.1.m1.1.1.1.1.5.cmml">k</mi></mrow><mo id="S3.SS2.p1.1.m1.1.1.1.3" stretchy="false" xref="S3.SS2.p1.1.m1.1.1.2.1.cmml">⟩</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p1.1.m1.1.1.2.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1.2">delimited-⟨⟩</csymbol><apply id="S3.SS2.p1.1.m1.1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1"><times id="S3.SS2.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.1"></times><ci id="S3.SS2.p1.1.m1.1.1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.2">𝑚</ci><ci id="S3.SS2.p1.1.m1.1.1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.3">𝑎</ci><ci id="S3.SS2.p1.1.m1.1.1.1.1.4.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.4">𝑠</ci><ci id="S3.SS2.p1.1.m1.1.1.1.1.5.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.5">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">\langle mask\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">⟨ italic_m italic_a italic_s italic_k ⟩</annotation></semantics></math>. The model’s objective is to predict these masked items based on their surrounding context.
For example, an input sequence of items <math alttext="[ID_{1},ID_{2},ID_{3},ID_{4},ID_{5}]" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.5"><semantics id="S3.SS2.p1.2.m2.5a"><mrow id="S3.SS2.p1.2.m2.5.5.5" xref="S3.SS2.p1.2.m2.5.5.6.cmml"><mo id="S3.SS2.p1.2.m2.5.5.5.6" stretchy="false" xref="S3.SS2.p1.2.m2.5.5.6.cmml">[</mo><mrow id="S3.SS2.p1.2.m2.1.1.1.1" xref="S3.SS2.p1.2.m2.1.1.1.1.cmml"><mi id="S3.SS2.p1.2.m2.1.1.1.1.2" xref="S3.SS2.p1.2.m2.1.1.1.1.2.cmml">I</mi><mo id="S3.SS2.p1.2.m2.1.1.1.1.1" xref="S3.SS2.p1.2.m2.1.1.1.1.1.cmml">⁢</mo><msub id="S3.SS2.p1.2.m2.1.1.1.1.3" xref="S3.SS2.p1.2.m2.1.1.1.1.3.cmml"><mi id="S3.SS2.p1.2.m2.1.1.1.1.3.2" xref="S3.SS2.p1.2.m2.1.1.1.1.3.2.cmml">D</mi><mn id="S3.SS2.p1.2.m2.1.1.1.1.3.3" xref="S3.SS2.p1.2.m2.1.1.1.1.3.3.cmml">1</mn></msub></mrow><mo id="S3.SS2.p1.2.m2.5.5.5.7" xref="S3.SS2.p1.2.m2.5.5.6.cmml">,</mo><mrow id="S3.SS2.p1.2.m2.2.2.2.2" xref="S3.SS2.p1.2.m2.2.2.2.2.cmml"><mi id="S3.SS2.p1.2.m2.2.2.2.2.2" xref="S3.SS2.p1.2.m2.2.2.2.2.2.cmml">I</mi><mo id="S3.SS2.p1.2.m2.2.2.2.2.1" xref="S3.SS2.p1.2.m2.2.2.2.2.1.cmml">⁢</mo><msub id="S3.SS2.p1.2.m2.2.2.2.2.3" xref="S3.SS2.p1.2.m2.2.2.2.2.3.cmml"><mi id="S3.SS2.p1.2.m2.2.2.2.2.3.2" xref="S3.SS2.p1.2.m2.2.2.2.2.3.2.cmml">D</mi><mn id="S3.SS2.p1.2.m2.2.2.2.2.3.3" xref="S3.SS2.p1.2.m2.2.2.2.2.3.3.cmml">2</mn></msub></mrow><mo id="S3.SS2.p1.2.m2.5.5.5.8" xref="S3.SS2.p1.2.m2.5.5.6.cmml">,</mo><mrow id="S3.SS2.p1.2.m2.3.3.3.3" xref="S3.SS2.p1.2.m2.3.3.3.3.cmml"><mi id="S3.SS2.p1.2.m2.3.3.3.3.2" xref="S3.SS2.p1.2.m2.3.3.3.3.2.cmml">I</mi><mo id="S3.SS2.p1.2.m2.3.3.3.3.1" xref="S3.SS2.p1.2.m2.3.3.3.3.1.cmml">⁢</mo><msub id="S3.SS2.p1.2.m2.3.3.3.3.3" xref="S3.SS2.p1.2.m2.3.3.3.3.3.cmml"><mi id="S3.SS2.p1.2.m2.3.3.3.3.3.2" xref="S3.SS2.p1.2.m2.3.3.3.3.3.2.cmml">D</mi><mn id="S3.SS2.p1.2.m2.3.3.3.3.3.3" xref="S3.SS2.p1.2.m2.3.3.3.3.3.3.cmml">3</mn></msub></mrow><mo id="S3.SS2.p1.2.m2.5.5.5.9" xref="S3.SS2.p1.2.m2.5.5.6.cmml">,</mo><mrow id="S3.SS2.p1.2.m2.4.4.4.4" xref="S3.SS2.p1.2.m2.4.4.4.4.cmml"><mi id="S3.SS2.p1.2.m2.4.4.4.4.2" xref="S3.SS2.p1.2.m2.4.4.4.4.2.cmml">I</mi><mo id="S3.SS2.p1.2.m2.4.4.4.4.1" xref="S3.SS2.p1.2.m2.4.4.4.4.1.cmml">⁢</mo><msub id="S3.SS2.p1.2.m2.4.4.4.4.3" xref="S3.SS2.p1.2.m2.4.4.4.4.3.cmml"><mi id="S3.SS2.p1.2.m2.4.4.4.4.3.2" xref="S3.SS2.p1.2.m2.4.4.4.4.3.2.cmml">D</mi><mn id="S3.SS2.p1.2.m2.4.4.4.4.3.3" xref="S3.SS2.p1.2.m2.4.4.4.4.3.3.cmml">4</mn></msub></mrow><mo id="S3.SS2.p1.2.m2.5.5.5.10" xref="S3.SS2.p1.2.m2.5.5.6.cmml">,</mo><mrow id="S3.SS2.p1.2.m2.5.5.5.5" xref="S3.SS2.p1.2.m2.5.5.5.5.cmml"><mi id="S3.SS2.p1.2.m2.5.5.5.5.2" xref="S3.SS2.p1.2.m2.5.5.5.5.2.cmml">I</mi><mo id="S3.SS2.p1.2.m2.5.5.5.5.1" xref="S3.SS2.p1.2.m2.5.5.5.5.1.cmml">⁢</mo><msub id="S3.SS2.p1.2.m2.5.5.5.5.3" xref="S3.SS2.p1.2.m2.5.5.5.5.3.cmml"><mi id="S3.SS2.p1.2.m2.5.5.5.5.3.2" xref="S3.SS2.p1.2.m2.5.5.5.5.3.2.cmml">D</mi><mn id="S3.SS2.p1.2.m2.5.5.5.5.3.3" xref="S3.SS2.p1.2.m2.5.5.5.5.3.3.cmml">5</mn></msub></mrow><mo id="S3.SS2.p1.2.m2.5.5.5.11" stretchy="false" xref="S3.SS2.p1.2.m2.5.5.6.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.5b"><list id="S3.SS2.p1.2.m2.5.5.6.cmml" xref="S3.SS2.p1.2.m2.5.5.5"><apply id="S3.SS2.p1.2.m2.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1"><times id="S3.SS2.p1.2.m2.1.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1"></times><ci id="S3.SS2.p1.2.m2.1.1.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.2">𝐼</ci><apply id="S3.SS2.p1.2.m2.1.1.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.1.3.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.1.1.3.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.3.2">𝐷</ci><cn id="S3.SS2.p1.2.m2.1.1.1.1.3.3.cmml" type="integer" xref="S3.SS2.p1.2.m2.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS2.p1.2.m2.2.2.2.2.cmml" xref="S3.SS2.p1.2.m2.2.2.2.2"><times id="S3.SS2.p1.2.m2.2.2.2.2.1.cmml" xref="S3.SS2.p1.2.m2.2.2.2.2.1"></times><ci id="S3.SS2.p1.2.m2.2.2.2.2.2.cmml" xref="S3.SS2.p1.2.m2.2.2.2.2.2">𝐼</ci><apply id="S3.SS2.p1.2.m2.2.2.2.2.3.cmml" xref="S3.SS2.p1.2.m2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.2.2.2.2.3.1.cmml" xref="S3.SS2.p1.2.m2.2.2.2.2.3">subscript</csymbol><ci id="S3.SS2.p1.2.m2.2.2.2.2.3.2.cmml" xref="S3.SS2.p1.2.m2.2.2.2.2.3.2">𝐷</ci><cn id="S3.SS2.p1.2.m2.2.2.2.2.3.3.cmml" type="integer" xref="S3.SS2.p1.2.m2.2.2.2.2.3.3">2</cn></apply></apply><apply id="S3.SS2.p1.2.m2.3.3.3.3.cmml" xref="S3.SS2.p1.2.m2.3.3.3.3"><times id="S3.SS2.p1.2.m2.3.3.3.3.1.cmml" xref="S3.SS2.p1.2.m2.3.3.3.3.1"></times><ci id="S3.SS2.p1.2.m2.3.3.3.3.2.cmml" xref="S3.SS2.p1.2.m2.3.3.3.3.2">𝐼</ci><apply id="S3.SS2.p1.2.m2.3.3.3.3.3.cmml" xref="S3.SS2.p1.2.m2.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.3.3.3.3.3.1.cmml" xref="S3.SS2.p1.2.m2.3.3.3.3.3">subscript</csymbol><ci id="S3.SS2.p1.2.m2.3.3.3.3.3.2.cmml" xref="S3.SS2.p1.2.m2.3.3.3.3.3.2">𝐷</ci><cn id="S3.SS2.p1.2.m2.3.3.3.3.3.3.cmml" type="integer" xref="S3.SS2.p1.2.m2.3.3.3.3.3.3">3</cn></apply></apply><apply id="S3.SS2.p1.2.m2.4.4.4.4.cmml" xref="S3.SS2.p1.2.m2.4.4.4.4"><times id="S3.SS2.p1.2.m2.4.4.4.4.1.cmml" xref="S3.SS2.p1.2.m2.4.4.4.4.1"></times><ci id="S3.SS2.p1.2.m2.4.4.4.4.2.cmml" xref="S3.SS2.p1.2.m2.4.4.4.4.2">𝐼</ci><apply id="S3.SS2.p1.2.m2.4.4.4.4.3.cmml" xref="S3.SS2.p1.2.m2.4.4.4.4.3"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.4.4.4.4.3.1.cmml" xref="S3.SS2.p1.2.m2.4.4.4.4.3">subscript</csymbol><ci id="S3.SS2.p1.2.m2.4.4.4.4.3.2.cmml" xref="S3.SS2.p1.2.m2.4.4.4.4.3.2">𝐷</ci><cn id="S3.SS2.p1.2.m2.4.4.4.4.3.3.cmml" type="integer" xref="S3.SS2.p1.2.m2.4.4.4.4.3.3">4</cn></apply></apply><apply id="S3.SS2.p1.2.m2.5.5.5.5.cmml" xref="S3.SS2.p1.2.m2.5.5.5.5"><times id="S3.SS2.p1.2.m2.5.5.5.5.1.cmml" xref="S3.SS2.p1.2.m2.5.5.5.5.1"></times><ci id="S3.SS2.p1.2.m2.5.5.5.5.2.cmml" xref="S3.SS2.p1.2.m2.5.5.5.5.2">𝐼</ci><apply id="S3.SS2.p1.2.m2.5.5.5.5.3.cmml" xref="S3.SS2.p1.2.m2.5.5.5.5.3"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.5.5.5.5.3.1.cmml" xref="S3.SS2.p1.2.m2.5.5.5.5.3">subscript</csymbol><ci id="S3.SS2.p1.2.m2.5.5.5.5.3.2.cmml" xref="S3.SS2.p1.2.m2.5.5.5.5.3.2">𝐷</ci><cn id="S3.SS2.p1.2.m2.5.5.5.5.3.3.cmml" type="integer" xref="S3.SS2.p1.2.m2.5.5.5.5.3.3">5</cn></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.5c">[ID_{1},ID_{2},ID_{3},ID_{4},ID_{5}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.5d">[ italic_I italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_I italic_D start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT , italic_I italic_D start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT , italic_I italic_D start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT ]</annotation></semantics></math> could be transformed through random masking into <math alttext="[ID_{1},\langle mask\rangle_{1},ID_{3},\langle mask\rangle_{2},ID_{5}]" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.5"><semantics id="S3.SS2.p1.3.m3.5a"><mrow id="S3.SS2.p1.3.m3.5.5.5" xref="S3.SS2.p1.3.m3.5.5.6.cmml"><mo id="S3.SS2.p1.3.m3.5.5.5.6" stretchy="false" xref="S3.SS2.p1.3.m3.5.5.6.cmml">[</mo><mrow id="S3.SS2.p1.3.m3.1.1.1.1" xref="S3.SS2.p1.3.m3.1.1.1.1.cmml"><mi id="S3.SS2.p1.3.m3.1.1.1.1.2" xref="S3.SS2.p1.3.m3.1.1.1.1.2.cmml">I</mi><mo id="S3.SS2.p1.3.m3.1.1.1.1.1" xref="S3.SS2.p1.3.m3.1.1.1.1.1.cmml">⁢</mo><msub id="S3.SS2.p1.3.m3.1.1.1.1.3" xref="S3.SS2.p1.3.m3.1.1.1.1.3.cmml"><mi id="S3.SS2.p1.3.m3.1.1.1.1.3.2" xref="S3.SS2.p1.3.m3.1.1.1.1.3.2.cmml">D</mi><mn id="S3.SS2.p1.3.m3.1.1.1.1.3.3" xref="S3.SS2.p1.3.m3.1.1.1.1.3.3.cmml">1</mn></msub></mrow><mo id="S3.SS2.p1.3.m3.5.5.5.7" xref="S3.SS2.p1.3.m3.5.5.6.cmml">,</mo><msub id="S3.SS2.p1.3.m3.2.2.2.2" xref="S3.SS2.p1.3.m3.2.2.2.2.cmml"><mrow id="S3.SS2.p1.3.m3.2.2.2.2.1.1" xref="S3.SS2.p1.3.m3.2.2.2.2.1.2.cmml"><mo id="S3.SS2.p1.3.m3.2.2.2.2.1.1.2" stretchy="false" xref="S3.SS2.p1.3.m3.2.2.2.2.1.2.1.cmml">⟨</mo><mrow id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.cmml"><mi id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.2" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.2.cmml">m</mi><mo id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.1" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.3" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.3.cmml">a</mi><mo id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.1a" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.4" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.4.cmml">s</mi><mo id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.1b" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.5" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.5.cmml">k</mi></mrow><mo id="S3.SS2.p1.3.m3.2.2.2.2.1.1.3" stretchy="false" xref="S3.SS2.p1.3.m3.2.2.2.2.1.2.1.cmml">⟩</mo></mrow><mn id="S3.SS2.p1.3.m3.2.2.2.2.3" xref="S3.SS2.p1.3.m3.2.2.2.2.3.cmml">1</mn></msub><mo id="S3.SS2.p1.3.m3.5.5.5.8" xref="S3.SS2.p1.3.m3.5.5.6.cmml">,</mo><mrow id="S3.SS2.p1.3.m3.3.3.3.3" xref="S3.SS2.p1.3.m3.3.3.3.3.cmml"><mi id="S3.SS2.p1.3.m3.3.3.3.3.2" xref="S3.SS2.p1.3.m3.3.3.3.3.2.cmml">I</mi><mo id="S3.SS2.p1.3.m3.3.3.3.3.1" xref="S3.SS2.p1.3.m3.3.3.3.3.1.cmml">⁢</mo><msub id="S3.SS2.p1.3.m3.3.3.3.3.3" xref="S3.SS2.p1.3.m3.3.3.3.3.3.cmml"><mi id="S3.SS2.p1.3.m3.3.3.3.3.3.2" xref="S3.SS2.p1.3.m3.3.3.3.3.3.2.cmml">D</mi><mn id="S3.SS2.p1.3.m3.3.3.3.3.3.3" xref="S3.SS2.p1.3.m3.3.3.3.3.3.3.cmml">3</mn></msub></mrow><mo id="S3.SS2.p1.3.m3.5.5.5.9" xref="S3.SS2.p1.3.m3.5.5.6.cmml">,</mo><msub id="S3.SS2.p1.3.m3.4.4.4.4" xref="S3.SS2.p1.3.m3.4.4.4.4.cmml"><mrow id="S3.SS2.p1.3.m3.4.4.4.4.1.1" xref="S3.SS2.p1.3.m3.4.4.4.4.1.2.cmml"><mo id="S3.SS2.p1.3.m3.4.4.4.4.1.1.2" stretchy="false" xref="S3.SS2.p1.3.m3.4.4.4.4.1.2.1.cmml">⟨</mo><mrow id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.cmml"><mi id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.2" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.2.cmml">m</mi><mo id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.1" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.3" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.3.cmml">a</mi><mo id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.1a" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.4" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.4.cmml">s</mi><mo id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.1b" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.5" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.5.cmml">k</mi></mrow><mo id="S3.SS2.p1.3.m3.4.4.4.4.1.1.3" stretchy="false" xref="S3.SS2.p1.3.m3.4.4.4.4.1.2.1.cmml">⟩</mo></mrow><mn id="S3.SS2.p1.3.m3.4.4.4.4.3" xref="S3.SS2.p1.3.m3.4.4.4.4.3.cmml">2</mn></msub><mo id="S3.SS2.p1.3.m3.5.5.5.10" xref="S3.SS2.p1.3.m3.5.5.6.cmml">,</mo><mrow id="S3.SS2.p1.3.m3.5.5.5.5" xref="S3.SS2.p1.3.m3.5.5.5.5.cmml"><mi id="S3.SS2.p1.3.m3.5.5.5.5.2" xref="S3.SS2.p1.3.m3.5.5.5.5.2.cmml">I</mi><mo id="S3.SS2.p1.3.m3.5.5.5.5.1" xref="S3.SS2.p1.3.m3.5.5.5.5.1.cmml">⁢</mo><msub id="S3.SS2.p1.3.m3.5.5.5.5.3" xref="S3.SS2.p1.3.m3.5.5.5.5.3.cmml"><mi id="S3.SS2.p1.3.m3.5.5.5.5.3.2" xref="S3.SS2.p1.3.m3.5.5.5.5.3.2.cmml">D</mi><mn id="S3.SS2.p1.3.m3.5.5.5.5.3.3" xref="S3.SS2.p1.3.m3.5.5.5.5.3.3.cmml">5</mn></msub></mrow><mo id="S3.SS2.p1.3.m3.5.5.5.11" stretchy="false" xref="S3.SS2.p1.3.m3.5.5.6.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.5b"><list id="S3.SS2.p1.3.m3.5.5.6.cmml" xref="S3.SS2.p1.3.m3.5.5.5"><apply id="S3.SS2.p1.3.m3.1.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1"><times id="S3.SS2.p1.3.m3.1.1.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.1"></times><ci id="S3.SS2.p1.3.m3.1.1.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.2">𝐼</ci><apply id="S3.SS2.p1.3.m3.1.1.1.1.3.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.1.1.1.3.1.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p1.3.m3.1.1.1.1.3.2.cmml" xref="S3.SS2.p1.3.m3.1.1.1.1.3.2">𝐷</ci><cn id="S3.SS2.p1.3.m3.1.1.1.1.3.3.cmml" type="integer" xref="S3.SS2.p1.3.m3.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS2.p1.3.m3.2.2.2.2.cmml" xref="S3.SS2.p1.3.m3.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.2.2.2.2.2.cmml" xref="S3.SS2.p1.3.m3.2.2.2.2">subscript</csymbol><apply id="S3.SS2.p1.3.m3.2.2.2.2.1.2.cmml" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1"><csymbol cd="latexml" id="S3.SS2.p1.3.m3.2.2.2.2.1.2.1.cmml" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.2">delimited-⟨⟩</csymbol><apply id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.cmml" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1"><times id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.1.cmml" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.1"></times><ci id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.2.cmml" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.2">𝑚</ci><ci id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.3.cmml" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.3">𝑎</ci><ci id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.4.cmml" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.4">𝑠</ci><ci id="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.5.cmml" xref="S3.SS2.p1.3.m3.2.2.2.2.1.1.1.5">𝑘</ci></apply></apply><cn id="S3.SS2.p1.3.m3.2.2.2.2.3.cmml" type="integer" xref="S3.SS2.p1.3.m3.2.2.2.2.3">1</cn></apply><apply id="S3.SS2.p1.3.m3.3.3.3.3.cmml" xref="S3.SS2.p1.3.m3.3.3.3.3"><times id="S3.SS2.p1.3.m3.3.3.3.3.1.cmml" xref="S3.SS2.p1.3.m3.3.3.3.3.1"></times><ci id="S3.SS2.p1.3.m3.3.3.3.3.2.cmml" xref="S3.SS2.p1.3.m3.3.3.3.3.2">𝐼</ci><apply id="S3.SS2.p1.3.m3.3.3.3.3.3.cmml" xref="S3.SS2.p1.3.m3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.3.3.3.3.3.1.cmml" xref="S3.SS2.p1.3.m3.3.3.3.3.3">subscript</csymbol><ci id="S3.SS2.p1.3.m3.3.3.3.3.3.2.cmml" xref="S3.SS2.p1.3.m3.3.3.3.3.3.2">𝐷</ci><cn id="S3.SS2.p1.3.m3.3.3.3.3.3.3.cmml" type="integer" xref="S3.SS2.p1.3.m3.3.3.3.3.3.3">3</cn></apply></apply><apply id="S3.SS2.p1.3.m3.4.4.4.4.cmml" xref="S3.SS2.p1.3.m3.4.4.4.4"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.4.4.4.4.2.cmml" xref="S3.SS2.p1.3.m3.4.4.4.4">subscript</csymbol><apply id="S3.SS2.p1.3.m3.4.4.4.4.1.2.cmml" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1"><csymbol cd="latexml" id="S3.SS2.p1.3.m3.4.4.4.4.1.2.1.cmml" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.2">delimited-⟨⟩</csymbol><apply id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.cmml" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1"><times id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.1.cmml" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.1"></times><ci id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.2.cmml" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.2">𝑚</ci><ci id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.3.cmml" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.3">𝑎</ci><ci id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.4.cmml" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.4">𝑠</ci><ci id="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.5.cmml" xref="S3.SS2.p1.3.m3.4.4.4.4.1.1.1.5">𝑘</ci></apply></apply><cn id="S3.SS2.p1.3.m3.4.4.4.4.3.cmml" type="integer" xref="S3.SS2.p1.3.m3.4.4.4.4.3">2</cn></apply><apply id="S3.SS2.p1.3.m3.5.5.5.5.cmml" xref="S3.SS2.p1.3.m3.5.5.5.5"><times id="S3.SS2.p1.3.m3.5.5.5.5.1.cmml" xref="S3.SS2.p1.3.m3.5.5.5.5.1"></times><ci id="S3.SS2.p1.3.m3.5.5.5.5.2.cmml" xref="S3.SS2.p1.3.m3.5.5.5.5.2">𝐼</ci><apply id="S3.SS2.p1.3.m3.5.5.5.5.3.cmml" xref="S3.SS2.p1.3.m3.5.5.5.5.3"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.5.5.5.5.3.1.cmml" xref="S3.SS2.p1.3.m3.5.5.5.5.3">subscript</csymbol><ci id="S3.SS2.p1.3.m3.5.5.5.5.3.2.cmml" xref="S3.SS2.p1.3.m3.5.5.5.5.3.2">𝐷</ci><cn id="S3.SS2.p1.3.m3.5.5.5.5.3.3.cmml" type="integer" xref="S3.SS2.p1.3.m3.5.5.5.5.3.3">5</cn></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.5c">[ID_{1},\langle mask\rangle_{1},ID_{3},\langle mask\rangle_{2},ID_{5}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m3.5d">[ italic_I italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , ⟨ italic_m italic_a italic_s italic_k ⟩ start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I italic_D start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT , ⟨ italic_m italic_a italic_s italic_k ⟩ start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_I italic_D start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT ]</annotation></semantics></math>. The labels for this masked sequence would then be <math alttext="\langle mask\rangle_{1}=ID_{2}" class="ltx_Math" display="inline" id="S3.SS2.p1.4.m4.1"><semantics id="S3.SS2.p1.4.m4.1a"><mrow id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml"><msub id="S3.SS2.p1.4.m4.1.1.1" xref="S3.SS2.p1.4.m4.1.1.1.cmml"><mrow id="S3.SS2.p1.4.m4.1.1.1.1.1" xref="S3.SS2.p1.4.m4.1.1.1.1.2.cmml"><mo id="S3.SS2.p1.4.m4.1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p1.4.m4.1.1.1.1.2.1.cmml">⟨</mo><mrow id="S3.SS2.p1.4.m4.1.1.1.1.1.1" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.4.m4.1.1.1.1.1.1.2" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.2.cmml">m</mi><mo id="S3.SS2.p1.4.m4.1.1.1.1.1.1.1" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.4.m4.1.1.1.1.1.1.3" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.3.cmml">a</mi><mo id="S3.SS2.p1.4.m4.1.1.1.1.1.1.1a" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.4.m4.1.1.1.1.1.1.4" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.4.cmml">s</mi><mo id="S3.SS2.p1.4.m4.1.1.1.1.1.1.1b" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.4.m4.1.1.1.1.1.1.5" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.5.cmml">k</mi></mrow><mo id="S3.SS2.p1.4.m4.1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p1.4.m4.1.1.1.1.2.1.cmml">⟩</mo></mrow><mn id="S3.SS2.p1.4.m4.1.1.1.3" xref="S3.SS2.p1.4.m4.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS2.p1.4.m4.1.1.2" xref="S3.SS2.p1.4.m4.1.1.2.cmml">=</mo><mrow id="S3.SS2.p1.4.m4.1.1.3" xref="S3.SS2.p1.4.m4.1.1.3.cmml"><mi id="S3.SS2.p1.4.m4.1.1.3.2" xref="S3.SS2.p1.4.m4.1.1.3.2.cmml">I</mi><mo id="S3.SS2.p1.4.m4.1.1.3.1" xref="S3.SS2.p1.4.m4.1.1.3.1.cmml">⁢</mo><msub id="S3.SS2.p1.4.m4.1.1.3.3" xref="S3.SS2.p1.4.m4.1.1.3.3.cmml"><mi id="S3.SS2.p1.4.m4.1.1.3.3.2" xref="S3.SS2.p1.4.m4.1.1.3.3.2.cmml">D</mi><mn id="S3.SS2.p1.4.m4.1.1.3.3.3" xref="S3.SS2.p1.4.m4.1.1.3.3.3.cmml">2</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><apply id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1"><eq id="S3.SS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.2"></eq><apply id="S3.SS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.1">subscript</csymbol><apply id="S3.SS2.p1.4.m4.1.1.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p1.4.m4.1.1.1.1.2.1.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.2">delimited-⟨⟩</csymbol><apply id="S3.SS2.p1.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1"><times id="S3.SS2.p1.4.m4.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.1"></times><ci id="S3.SS2.p1.4.m4.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.2">𝑚</ci><ci id="S3.SS2.p1.4.m4.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.3">𝑎</ci><ci id="S3.SS2.p1.4.m4.1.1.1.1.1.1.4.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.4">𝑠</ci><ci id="S3.SS2.p1.4.m4.1.1.1.1.1.1.5.cmml" xref="S3.SS2.p1.4.m4.1.1.1.1.1.1.5">𝑘</ci></apply></apply><cn id="S3.SS2.p1.4.m4.1.1.1.3.cmml" type="integer" xref="S3.SS2.p1.4.m4.1.1.1.3">1</cn></apply><apply id="S3.SS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3"><times id="S3.SS2.p1.4.m4.1.1.3.1.cmml" xref="S3.SS2.p1.4.m4.1.1.3.1"></times><ci id="S3.SS2.p1.4.m4.1.1.3.2.cmml" xref="S3.SS2.p1.4.m4.1.1.3.2">𝐼</ci><apply id="S3.SS2.p1.4.m4.1.1.3.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.3.3.1.cmml" xref="S3.SS2.p1.4.m4.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p1.4.m4.1.1.3.3.2.cmml" xref="S3.SS2.p1.4.m4.1.1.3.3.2">𝐷</ci><cn id="S3.SS2.p1.4.m4.1.1.3.3.3.cmml" type="integer" xref="S3.SS2.p1.4.m4.1.1.3.3.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">\langle mask\rangle_{1}=ID_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.4.m4.1d">⟨ italic_m italic_a italic_s italic_k ⟩ start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = italic_I italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="\langle mask\rangle_{2}=ID_{4}" class="ltx_Math" display="inline" id="S3.SS2.p1.5.m5.1"><semantics id="S3.SS2.p1.5.m5.1a"><mrow id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml"><msub id="S3.SS2.p1.5.m5.1.1.1" xref="S3.SS2.p1.5.m5.1.1.1.cmml"><mrow id="S3.SS2.p1.5.m5.1.1.1.1.1" xref="S3.SS2.p1.5.m5.1.1.1.1.2.cmml"><mo id="S3.SS2.p1.5.m5.1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p1.5.m5.1.1.1.1.2.1.cmml">⟨</mo><mrow id="S3.SS2.p1.5.m5.1.1.1.1.1.1" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.5.m5.1.1.1.1.1.1.2" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.2.cmml">m</mi><mo id="S3.SS2.p1.5.m5.1.1.1.1.1.1.1" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.5.m5.1.1.1.1.1.1.3" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.3.cmml">a</mi><mo id="S3.SS2.p1.5.m5.1.1.1.1.1.1.1a" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.5.m5.1.1.1.1.1.1.4" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.4.cmml">s</mi><mo id="S3.SS2.p1.5.m5.1.1.1.1.1.1.1b" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.5.m5.1.1.1.1.1.1.5" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.5.cmml">k</mi></mrow><mo id="S3.SS2.p1.5.m5.1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p1.5.m5.1.1.1.1.2.1.cmml">⟩</mo></mrow><mn id="S3.SS2.p1.5.m5.1.1.1.3" xref="S3.SS2.p1.5.m5.1.1.1.3.cmml">2</mn></msub><mo id="S3.SS2.p1.5.m5.1.1.2" xref="S3.SS2.p1.5.m5.1.1.2.cmml">=</mo><mrow id="S3.SS2.p1.5.m5.1.1.3" xref="S3.SS2.p1.5.m5.1.1.3.cmml"><mi id="S3.SS2.p1.5.m5.1.1.3.2" xref="S3.SS2.p1.5.m5.1.1.3.2.cmml">I</mi><mo id="S3.SS2.p1.5.m5.1.1.3.1" xref="S3.SS2.p1.5.m5.1.1.3.1.cmml">⁢</mo><msub id="S3.SS2.p1.5.m5.1.1.3.3" xref="S3.SS2.p1.5.m5.1.1.3.3.cmml"><mi id="S3.SS2.p1.5.m5.1.1.3.3.2" xref="S3.SS2.p1.5.m5.1.1.3.3.2.cmml">D</mi><mn id="S3.SS2.p1.5.m5.1.1.3.3.3" xref="S3.SS2.p1.5.m5.1.1.3.3.3.cmml">4</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><apply id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1"><eq id="S3.SS2.p1.5.m5.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1.2"></eq><apply id="S3.SS2.p1.5.m5.1.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1.1">subscript</csymbol><apply id="S3.SS2.p1.5.m5.1.1.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p1.5.m5.1.1.1.1.2.1.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1.2">delimited-⟨⟩</csymbol><apply id="S3.SS2.p1.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1"><times id="S3.SS2.p1.5.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.1"></times><ci id="S3.SS2.p1.5.m5.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.2">𝑚</ci><ci id="S3.SS2.p1.5.m5.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.3">𝑎</ci><ci id="S3.SS2.p1.5.m5.1.1.1.1.1.1.4.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.4">𝑠</ci><ci id="S3.SS2.p1.5.m5.1.1.1.1.1.1.5.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.5">𝑘</ci></apply></apply><cn id="S3.SS2.p1.5.m5.1.1.1.3.cmml" type="integer" xref="S3.SS2.p1.5.m5.1.1.1.3">2</cn></apply><apply id="S3.SS2.p1.5.m5.1.1.3.cmml" xref="S3.SS2.p1.5.m5.1.1.3"><times id="S3.SS2.p1.5.m5.1.1.3.1.cmml" xref="S3.SS2.p1.5.m5.1.1.3.1"></times><ci id="S3.SS2.p1.5.m5.1.1.3.2.cmml" xref="S3.SS2.p1.5.m5.1.1.3.2">𝐼</ci><apply id="S3.SS2.p1.5.m5.1.1.3.3.cmml" xref="S3.SS2.p1.5.m5.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.1.3.3.1.cmml" xref="S3.SS2.p1.5.m5.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p1.5.m5.1.1.3.3.2.cmml" xref="S3.SS2.p1.5.m5.1.1.3.3.2">𝐷</ci><cn id="S3.SS2.p1.5.m5.1.1.3.3.3.cmml" type="integer" xref="S3.SS2.p1.5.m5.1.1.3.3.3">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">\langle mask\rangle_{2}=ID_{4}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.5.m5.1d">⟨ italic_m italic_a italic_s italic_k ⟩ start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = italic_I italic_D start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.4">Following the item embedding lookup, the inputs to the initial transformer layer can be represented as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="[e_{1},e_{\langle mask\rangle},e_{3},e_{\langle mask\rangle},e_{5}]" class="ltx_Math" display="block" id="S3.Ex1.m1.7"><semantics id="S3.Ex1.m1.7a"><mrow id="S3.Ex1.m1.7.7.5" xref="S3.Ex1.m1.7.7.6.cmml"><mo id="S3.Ex1.m1.7.7.5.6" stretchy="false" xref="S3.Ex1.m1.7.7.6.cmml">[</mo><msub id="S3.Ex1.m1.3.3.1.1" xref="S3.Ex1.m1.3.3.1.1.cmml"><mi id="S3.Ex1.m1.3.3.1.1.2" xref="S3.Ex1.m1.3.3.1.1.2.cmml">e</mi><mn id="S3.Ex1.m1.3.3.1.1.3" xref="S3.Ex1.m1.3.3.1.1.3.cmml">1</mn></msub><mo id="S3.Ex1.m1.7.7.5.7" xref="S3.Ex1.m1.7.7.6.cmml">,</mo><msub id="S3.Ex1.m1.4.4.2.2" xref="S3.Ex1.m1.4.4.2.2.cmml"><mi id="S3.Ex1.m1.4.4.2.2.2" xref="S3.Ex1.m1.4.4.2.2.2.cmml">e</mi><mrow id="S3.Ex1.m1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.2.cmml"><mo id="S3.Ex1.m1.1.1.1.1.2" stretchy="false" xref="S3.Ex1.m1.1.1.1.2.1.cmml">⟨</mo><mrow id="S3.Ex1.m1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.1.1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.1.1.2.cmml">m</mi><mo id="S3.Ex1.m1.1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex1.m1.1.1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.1.1.3.cmml">a</mi><mo id="S3.Ex1.m1.1.1.1.1.1.1a" xref="S3.Ex1.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex1.m1.1.1.1.1.1.4" xref="S3.Ex1.m1.1.1.1.1.1.4.cmml">s</mi><mo id="S3.Ex1.m1.1.1.1.1.1.1b" xref="S3.Ex1.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex1.m1.1.1.1.1.1.5" xref="S3.Ex1.m1.1.1.1.1.1.5.cmml">k</mi></mrow><mo id="S3.Ex1.m1.1.1.1.1.3" stretchy="false" xref="S3.Ex1.m1.1.1.1.2.1.cmml">⟩</mo></mrow></msub><mo id="S3.Ex1.m1.7.7.5.8" xref="S3.Ex1.m1.7.7.6.cmml">,</mo><msub id="S3.Ex1.m1.5.5.3.3" xref="S3.Ex1.m1.5.5.3.3.cmml"><mi id="S3.Ex1.m1.5.5.3.3.2" xref="S3.Ex1.m1.5.5.3.3.2.cmml">e</mi><mn id="S3.Ex1.m1.5.5.3.3.3" xref="S3.Ex1.m1.5.5.3.3.3.cmml">3</mn></msub><mo id="S3.Ex1.m1.7.7.5.9" xref="S3.Ex1.m1.7.7.6.cmml">,</mo><msub id="S3.Ex1.m1.6.6.4.4" xref="S3.Ex1.m1.6.6.4.4.cmml"><mi id="S3.Ex1.m1.6.6.4.4.2" xref="S3.Ex1.m1.6.6.4.4.2.cmml">e</mi><mrow id="S3.Ex1.m1.2.2.1.1" xref="S3.Ex1.m1.2.2.1.2.cmml"><mo id="S3.Ex1.m1.2.2.1.1.2" stretchy="false" xref="S3.Ex1.m1.2.2.1.2.1.cmml">⟨</mo><mrow id="S3.Ex1.m1.2.2.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.2.cmml">m</mi><mo id="S3.Ex1.m1.2.2.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex1.m1.2.2.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.3.cmml">a</mi><mo id="S3.Ex1.m1.2.2.1.1.1.1a" xref="S3.Ex1.m1.2.2.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex1.m1.2.2.1.1.1.4" xref="S3.Ex1.m1.2.2.1.1.1.4.cmml">s</mi><mo id="S3.Ex1.m1.2.2.1.1.1.1b" xref="S3.Ex1.m1.2.2.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex1.m1.2.2.1.1.1.5" xref="S3.Ex1.m1.2.2.1.1.1.5.cmml">k</mi></mrow><mo id="S3.Ex1.m1.2.2.1.1.3" stretchy="false" xref="S3.Ex1.m1.2.2.1.2.1.cmml">⟩</mo></mrow></msub><mo id="S3.Ex1.m1.7.7.5.10" xref="S3.Ex1.m1.7.7.6.cmml">,</mo><msub id="S3.Ex1.m1.7.7.5.5" xref="S3.Ex1.m1.7.7.5.5.cmml"><mi id="S3.Ex1.m1.7.7.5.5.2" xref="S3.Ex1.m1.7.7.5.5.2.cmml">e</mi><mn id="S3.Ex1.m1.7.7.5.5.3" xref="S3.Ex1.m1.7.7.5.5.3.cmml">5</mn></msub><mo id="S3.Ex1.m1.7.7.5.11" stretchy="false" xref="S3.Ex1.m1.7.7.6.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.7b"><list id="S3.Ex1.m1.7.7.6.cmml" xref="S3.Ex1.m1.7.7.5"><apply id="S3.Ex1.m1.3.3.1.1.cmml" xref="S3.Ex1.m1.3.3.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.3.3.1.1.1.cmml" xref="S3.Ex1.m1.3.3.1.1">subscript</csymbol><ci id="S3.Ex1.m1.3.3.1.1.2.cmml" xref="S3.Ex1.m1.3.3.1.1.2">𝑒</ci><cn id="S3.Ex1.m1.3.3.1.1.3.cmml" type="integer" xref="S3.Ex1.m1.3.3.1.1.3">1</cn></apply><apply id="S3.Ex1.m1.4.4.2.2.cmml" xref="S3.Ex1.m1.4.4.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.4.4.2.2.1.cmml" xref="S3.Ex1.m1.4.4.2.2">subscript</csymbol><ci id="S3.Ex1.m1.4.4.2.2.2.cmml" xref="S3.Ex1.m1.4.4.2.2.2">𝑒</ci><apply id="S3.Ex1.m1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex1.m1.1.1.1.2.1.cmml" xref="S3.Ex1.m1.1.1.1.1.2">delimited-⟨⟩</csymbol><apply id="S3.Ex1.m1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1"><times id="S3.Ex1.m1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1"></times><ci id="S3.Ex1.m1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.2">𝑚</ci><ci id="S3.Ex1.m1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.3">𝑎</ci><ci id="S3.Ex1.m1.1.1.1.1.1.4.cmml" xref="S3.Ex1.m1.1.1.1.1.1.4">𝑠</ci><ci id="S3.Ex1.m1.1.1.1.1.1.5.cmml" xref="S3.Ex1.m1.1.1.1.1.1.5">𝑘</ci></apply></apply></apply><apply id="S3.Ex1.m1.5.5.3.3.cmml" xref="S3.Ex1.m1.5.5.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.5.5.3.3.1.cmml" xref="S3.Ex1.m1.5.5.3.3">subscript</csymbol><ci id="S3.Ex1.m1.5.5.3.3.2.cmml" xref="S3.Ex1.m1.5.5.3.3.2">𝑒</ci><cn id="S3.Ex1.m1.5.5.3.3.3.cmml" type="integer" xref="S3.Ex1.m1.5.5.3.3.3">3</cn></apply><apply id="S3.Ex1.m1.6.6.4.4.cmml" xref="S3.Ex1.m1.6.6.4.4"><csymbol cd="ambiguous" id="S3.Ex1.m1.6.6.4.4.1.cmml" xref="S3.Ex1.m1.6.6.4.4">subscript</csymbol><ci id="S3.Ex1.m1.6.6.4.4.2.cmml" xref="S3.Ex1.m1.6.6.4.4.2">𝑒</ci><apply id="S3.Ex1.m1.2.2.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1"><csymbol cd="latexml" id="S3.Ex1.m1.2.2.1.2.1.cmml" xref="S3.Ex1.m1.2.2.1.1.2">delimited-⟨⟩</csymbol><apply id="S3.Ex1.m1.2.2.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1"><times id="S3.Ex1.m1.2.2.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1"></times><ci id="S3.Ex1.m1.2.2.1.1.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.2">𝑚</ci><ci id="S3.Ex1.m1.2.2.1.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.3">𝑎</ci><ci id="S3.Ex1.m1.2.2.1.1.1.4.cmml" xref="S3.Ex1.m1.2.2.1.1.1.4">𝑠</ci><ci id="S3.Ex1.m1.2.2.1.1.1.5.cmml" xref="S3.Ex1.m1.2.2.1.1.1.5">𝑘</ci></apply></apply></apply><apply id="S3.Ex1.m1.7.7.5.5.cmml" xref="S3.Ex1.m1.7.7.5.5"><csymbol cd="ambiguous" id="S3.Ex1.m1.7.7.5.5.1.cmml" xref="S3.Ex1.m1.7.7.5.5">subscript</csymbol><ci id="S3.Ex1.m1.7.7.5.5.2.cmml" xref="S3.Ex1.m1.7.7.5.5.2">𝑒</ci><cn id="S3.Ex1.m1.7.7.5.5.3.cmml" type="integer" xref="S3.Ex1.m1.7.7.5.5.3">5</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.7c">[e_{1},e_{\langle mask\rangle},e_{3},e_{\langle mask\rangle},e_{5}]</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.7d">[ italic_e start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT ⟨ italic_m italic_a italic_s italic_k ⟩ end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT ⟨ italic_m italic_a italic_s italic_k ⟩ end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p2.3">where <math alttext="e_{i}" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><msub id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml">e</mi><mi id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2">𝑒</ci><ci id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">e_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents the item embedding for item <math alttext="ID_{i}" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mrow id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">I</mi><mo id="S3.SS2.p2.2.m2.1.1.1" xref="S3.SS2.p2.2.m2.1.1.1.cmml">⁢</mo><msub id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml"><mi id="S3.SS2.p2.2.m2.1.1.3.2" xref="S3.SS2.p2.2.m2.1.1.3.2.cmml">D</mi><mi id="S3.SS2.p2.2.m2.1.1.3.3" xref="S3.SS2.p2.2.m2.1.1.3.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><times id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1"></times><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝐼</ci><apply id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.3.1.cmml" xref="S3.SS2.p2.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.3.2.cmml" xref="S3.SS2.p2.2.m2.1.1.3.2">𝐷</ci><ci id="S3.SS2.p2.2.m2.1.1.3.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">ID_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_I italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, and <math alttext="e_{\langle mask\rangle}" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1"><semantics id="S3.SS2.p2.3.m3.1a"><msub id="S3.SS2.p2.3.m3.1.2" xref="S3.SS2.p2.3.m3.1.2.cmml"><mi id="S3.SS2.p2.3.m3.1.2.2" xref="S3.SS2.p2.3.m3.1.2.2.cmml">e</mi><mrow id="S3.SS2.p2.3.m3.1.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.2.cmml"><mo id="S3.SS2.p2.3.m3.1.1.1.1.2" stretchy="false" xref="S3.SS2.p2.3.m3.1.1.1.2.1.cmml">⟨</mo><mrow id="S3.SS2.p2.3.m3.1.1.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.1.1.cmml"><mi id="S3.SS2.p2.3.m3.1.1.1.1.1.2" xref="S3.SS2.p2.3.m3.1.1.1.1.1.2.cmml">m</mi><mo id="S3.SS2.p2.3.m3.1.1.1.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.3.m3.1.1.1.1.1.3" xref="S3.SS2.p2.3.m3.1.1.1.1.1.3.cmml">a</mi><mo id="S3.SS2.p2.3.m3.1.1.1.1.1.1a" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.3.m3.1.1.1.1.1.4" xref="S3.SS2.p2.3.m3.1.1.1.1.1.4.cmml">s</mi><mo id="S3.SS2.p2.3.m3.1.1.1.1.1.1b" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.3.m3.1.1.1.1.1.5" xref="S3.SS2.p2.3.m3.1.1.1.1.1.5.cmml">k</mi></mrow><mo id="S3.SS2.p2.3.m3.1.1.1.1.3" stretchy="false" xref="S3.SS2.p2.3.m3.1.1.1.2.1.cmml">⟩</mo></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.2.cmml" xref="S3.SS2.p2.3.m3.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.2.1.cmml" xref="S3.SS2.p2.3.m3.1.2">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.2.2.cmml" xref="S3.SS2.p2.3.m3.1.2.2">𝑒</ci><apply id="S3.SS2.p2.3.m3.1.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p2.3.m3.1.1.1.2.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.2">delimited-⟨⟩</csymbol><apply id="S3.SS2.p2.3.m3.1.1.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1"><times id="S3.SS2.p2.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.1"></times><ci id="S3.SS2.p2.3.m3.1.1.1.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.2">𝑚</ci><ci id="S3.SS2.p2.3.m3.1.1.1.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.3">𝑎</ci><ci id="S3.SS2.p2.3.m3.1.1.1.1.1.4.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.4">𝑠</ci><ci id="S3.SS2.p2.3.m3.1.1.1.1.1.5.cmml" xref="S3.SS2.p2.3.m3.1.1.1.1.1.5">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">e_{\langle mask\rangle}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.1d">italic_e start_POSTSUBSCRIPT ⟨ italic_m italic_a italic_s italic_k ⟩ end_POSTSUBSCRIPT</annotation></semantics></math> denotes the mask embedding.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.6">The transformer layers process the masked sequence, and the outputs corresponding to the masked positions are fed into a softmax function over the item vocabulary. The model’s loss is calculated as the average negative log-likelihood over the masked positions:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{MLM}=\frac{1}{S^{m}}\sum_{ID_{m}\in S^{m}}P(ID_{m}=ID_{m}^{*}|S^{%
\prime})" class="ltx_Math" display="block" id="S3.E1.m1.1"><semantics id="S3.E1.m1.1a"><mrow id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml"><msub id="S3.E1.m1.1.1.3" xref="S3.E1.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.1.1.3.2" xref="S3.E1.m1.1.1.3.2.cmml">ℒ</mi><mrow id="S3.E1.m1.1.1.3.3" xref="S3.E1.m1.1.1.3.3.cmml"><mi id="S3.E1.m1.1.1.3.3.2" xref="S3.E1.m1.1.1.3.3.2.cmml">M</mi><mo id="S3.E1.m1.1.1.3.3.1" xref="S3.E1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E1.m1.1.1.3.3.3" xref="S3.E1.m1.1.1.3.3.3.cmml">L</mi><mo id="S3.E1.m1.1.1.3.3.1a" xref="S3.E1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E1.m1.1.1.3.3.4" xref="S3.E1.m1.1.1.3.3.4.cmml">M</mi></mrow></msub><mo id="S3.E1.m1.1.1.2" xref="S3.E1.m1.1.1.2.cmml">=</mo><mrow id="S3.E1.m1.1.1.1" xref="S3.E1.m1.1.1.1.cmml"><mfrac id="S3.E1.m1.1.1.1.3" xref="S3.E1.m1.1.1.1.3.cmml"><mn id="S3.E1.m1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.3.2.cmml">1</mn><msup id="S3.E1.m1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.3.3.cmml"><mi id="S3.E1.m1.1.1.1.3.3.2" xref="S3.E1.m1.1.1.1.3.3.2.cmml">S</mi><mi id="S3.E1.m1.1.1.1.3.3.3" xref="S3.E1.m1.1.1.1.3.3.3.cmml">m</mi></msup></mfrac><mo id="S3.E1.m1.1.1.1.2" xref="S3.E1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><munder id="S3.E1.m1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.2.cmml"><mo id="S3.E1.m1.1.1.1.1.2.2" movablelimits="false" xref="S3.E1.m1.1.1.1.1.2.2.cmml">∑</mo><mrow id="S3.E1.m1.1.1.1.1.2.3" xref="S3.E1.m1.1.1.1.1.2.3.cmml"><mrow id="S3.E1.m1.1.1.1.1.2.3.2" xref="S3.E1.m1.1.1.1.1.2.3.2.cmml"><mi id="S3.E1.m1.1.1.1.1.2.3.2.2" xref="S3.E1.m1.1.1.1.1.2.3.2.2.cmml">I</mi><mo id="S3.E1.m1.1.1.1.1.2.3.2.1" xref="S3.E1.m1.1.1.1.1.2.3.2.1.cmml">⁢</mo><msub id="S3.E1.m1.1.1.1.1.2.3.2.3" xref="S3.E1.m1.1.1.1.1.2.3.2.3.cmml"><mi id="S3.E1.m1.1.1.1.1.2.3.2.3.2" xref="S3.E1.m1.1.1.1.1.2.3.2.3.2.cmml">D</mi><mi id="S3.E1.m1.1.1.1.1.2.3.2.3.3" xref="S3.E1.m1.1.1.1.1.2.3.2.3.3.cmml">m</mi></msub></mrow><mo id="S3.E1.m1.1.1.1.1.2.3.1" xref="S3.E1.m1.1.1.1.1.2.3.1.cmml">∈</mo><msup id="S3.E1.m1.1.1.1.1.2.3.3" xref="S3.E1.m1.1.1.1.1.2.3.3.cmml"><mi id="S3.E1.m1.1.1.1.1.2.3.3.2" xref="S3.E1.m1.1.1.1.1.2.3.3.2.cmml">S</mi><mi id="S3.E1.m1.1.1.1.1.2.3.3.3" xref="S3.E1.m1.1.1.1.1.2.3.3.3.cmml">m</mi></msup></mrow></munder><mrow id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.3.cmml">P</mi><mo id="S3.E1.m1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E1.m1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.2.cmml">I</mi><mo id="S3.E1.m1.1.1.1.1.1.1.1.1.2.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.1.cmml">⁢</mo><msub id="S3.E1.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.2.cmml">D</mi><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.3.cmml">m</mi></msub></mrow><mo id="S3.E1.m1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.cmml"><mrow id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.2.cmml">I</mi><mo id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.1.cmml">⁢</mo><msubsup id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.2.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.2.2.cmml">D</mi><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.2.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.2.3.cmml">m</mi><mo id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.3.cmml">∗</mo></msubsup></mrow><mo fence="false" id="S3.E1.m1.1.1.1.1.1.1.1.1.3.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.1.cmml">|</mo><msup id="S3.E1.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.3.2.cmml">S</mi><mo id="S3.E1.m1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.3.3.cmml">′</mo></msup></mrow></mrow><mo id="S3.E1.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1"><eq id="S3.E1.m1.1.1.2.cmml" xref="S3.E1.m1.1.1.2"></eq><apply id="S3.E1.m1.1.1.3.cmml" xref="S3.E1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.3.2">ℒ</ci><apply id="S3.E1.m1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.3.3"><times id="S3.E1.m1.1.1.3.3.1.cmml" xref="S3.E1.m1.1.1.3.3.1"></times><ci id="S3.E1.m1.1.1.3.3.2.cmml" xref="S3.E1.m1.1.1.3.3.2">𝑀</ci><ci id="S3.E1.m1.1.1.3.3.3.cmml" xref="S3.E1.m1.1.1.3.3.3">𝐿</ci><ci id="S3.E1.m1.1.1.3.3.4.cmml" xref="S3.E1.m1.1.1.3.3.4">𝑀</ci></apply></apply><apply id="S3.E1.m1.1.1.1.cmml" xref="S3.E1.m1.1.1.1"><times id="S3.E1.m1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.2"></times><apply id="S3.E1.m1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.3"><divide id="S3.E1.m1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.3"></divide><cn id="S3.E1.m1.1.1.1.3.2.cmml" type="integer" xref="S3.E1.m1.1.1.1.3.2">1</cn><apply id="S3.E1.m1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.1.1.1.3.3">superscript</csymbol><ci id="S3.E1.m1.1.1.1.3.3.2.cmml" xref="S3.E1.m1.1.1.1.3.3.2">𝑆</ci><ci id="S3.E1.m1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.1.1.1.3.3.3">𝑚</ci></apply></apply><apply id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1"><apply id="S3.E1.m1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2">subscript</csymbol><sum id="S3.E1.m1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.2"></sum><apply id="S3.E1.m1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.1.1.1.1.2.3"><in id="S3.E1.m1.1.1.1.1.2.3.1.cmml" xref="S3.E1.m1.1.1.1.1.2.3.1"></in><apply id="S3.E1.m1.1.1.1.1.2.3.2.cmml" xref="S3.E1.m1.1.1.1.1.2.3.2"><times id="S3.E1.m1.1.1.1.1.2.3.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2.3.2.1"></times><ci id="S3.E1.m1.1.1.1.1.2.3.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.3.2.2">𝐼</ci><apply id="S3.E1.m1.1.1.1.1.2.3.2.3.cmml" xref="S3.E1.m1.1.1.1.1.2.3.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.3.2.3.1.cmml" xref="S3.E1.m1.1.1.1.1.2.3.2.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.2.3.2.3.2.cmml" xref="S3.E1.m1.1.1.1.1.2.3.2.3.2">𝐷</ci><ci id="S3.E1.m1.1.1.1.1.2.3.2.3.3.cmml" xref="S3.E1.m1.1.1.1.1.2.3.2.3.3">𝑚</ci></apply></apply><apply id="S3.E1.m1.1.1.1.1.2.3.3.cmml" xref="S3.E1.m1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.3.3.1.cmml" xref="S3.E1.m1.1.1.1.1.2.3.3">superscript</csymbol><ci id="S3.E1.m1.1.1.1.1.2.3.3.2.cmml" xref="S3.E1.m1.1.1.1.1.2.3.3.2">𝑆</ci><ci id="S3.E1.m1.1.1.1.1.2.3.3.3.cmml" xref="S3.E1.m1.1.1.1.1.2.3.3.3">𝑚</ci></apply></apply></apply><apply id="S3.E1.m1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"><times id="S3.E1.m1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.2"></times><ci id="S3.E1.m1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.3">𝑃</ci><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1"><eq id="S3.E1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1"></eq><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2"><times id="S3.E1.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.1"></times><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.2">𝐼</ci><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.2">𝐷</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.3">𝑚</ci></apply></apply><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.E1.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2"><times id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.1"></times><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.2">𝐼</ci><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3">superscript</csymbol><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.2.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.2.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.2.2">𝐷</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.2.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.2.3">𝑚</ci></apply><times id="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.2.3.3"></times></apply></apply><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.3">superscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.3.2">𝑆</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.3.3">′</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">\mathcal{L}_{MLM}=\frac{1}{S^{m}}\sum_{ID_{m}\in S^{m}}P(ID_{m}=ID_{m}^{*}|S^{%
\prime})</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.1d">caligraphic_L start_POSTSUBSCRIPT italic_M italic_L italic_M end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG italic_S start_POSTSUPERSCRIPT italic_m end_POSTSUPERSCRIPT end_ARG ∑ start_POSTSUBSCRIPT italic_I italic_D start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ∈ italic_S start_POSTSUPERSCRIPT italic_m end_POSTSUPERSCRIPT end_POSTSUBSCRIPT italic_P ( italic_I italic_D start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT = italic_I italic_D start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT | italic_S start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p3.5">where <math alttext="S^{m}" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.1"><semantics id="S3.SS2.p3.1.m1.1a"><msup id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml">S</mi><mi id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml">m</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">superscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2">𝑆</ci><ci id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">S^{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.1d">italic_S start_POSTSUPERSCRIPT italic_m end_POSTSUPERSCRIPT</annotation></semantics></math> is the set of masked items, <math alttext="ID_{m}^{*}" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><mrow id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">I</mi><mo id="S3.SS2.p3.2.m2.1.1.1" xref="S3.SS2.p3.2.m2.1.1.1.cmml">⁢</mo><msubsup id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml"><mi id="S3.SS2.p3.2.m2.1.1.3.2.2" xref="S3.SS2.p3.2.m2.1.1.3.2.2.cmml">D</mi><mi id="S3.SS2.p3.2.m2.1.1.3.2.3" xref="S3.SS2.p3.2.m2.1.1.3.2.3.cmml">m</mi><mo id="S3.SS2.p3.2.m2.1.1.3.3" xref="S3.SS2.p3.2.m2.1.1.3.3.cmml">∗</mo></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><times id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1.1"></times><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">𝐼</ci><apply id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.3.1.cmml" xref="S3.SS2.p3.2.m2.1.1.3">superscript</csymbol><apply id="S3.SS2.p3.2.m2.1.1.3.2.cmml" xref="S3.SS2.p3.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.3.2.1.cmml" xref="S3.SS2.p3.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS2.p3.2.m2.1.1.3.2.2.cmml" xref="S3.SS2.p3.2.m2.1.1.3.2.2">𝐷</ci><ci id="S3.SS2.p3.2.m2.1.1.3.2.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3.2.3">𝑚</ci></apply><times id="S3.SS2.p3.2.m2.1.1.3.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3"></times></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">ID_{m}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">italic_I italic_D start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> is the actual item corresponding to the masked item <math alttext="ID_{m}" class="ltx_Math" display="inline" id="S3.SS2.p3.3.m3.1"><semantics id="S3.SS2.p3.3.m3.1a"><mrow id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml"><mi id="S3.SS2.p3.3.m3.1.1.2" xref="S3.SS2.p3.3.m3.1.1.2.cmml">I</mi><mo id="S3.SS2.p3.3.m3.1.1.1" xref="S3.SS2.p3.3.m3.1.1.1.cmml">⁢</mo><msub id="S3.SS2.p3.3.m3.1.1.3" xref="S3.SS2.p3.3.m3.1.1.3.cmml"><mi id="S3.SS2.p3.3.m3.1.1.3.2" xref="S3.SS2.p3.3.m3.1.1.3.2.cmml">D</mi><mi id="S3.SS2.p3.3.m3.1.1.3.3" xref="S3.SS2.p3.3.m3.1.1.3.3.cmml">m</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><apply id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1"><times id="S3.SS2.p3.3.m3.1.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1.1"></times><ci id="S3.SS2.p3.3.m3.1.1.2.cmml" xref="S3.SS2.p3.3.m3.1.1.2">𝐼</ci><apply id="S3.SS2.p3.3.m3.1.1.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.1.1.3.1.cmml" xref="S3.SS2.p3.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS2.p3.3.m3.1.1.3.2.cmml" xref="S3.SS2.p3.3.m3.1.1.3.2">𝐷</ci><ci id="S3.SS2.p3.3.m3.1.1.3.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">ID_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.3.m3.1d">italic_I italic_D start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="S^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.p3.4.m4.1"><semantics id="S3.SS2.p3.4.m4.1a"><msup id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml"><mi id="S3.SS2.p3.4.m4.1.1.2" xref="S3.SS2.p3.4.m4.1.1.2.cmml">S</mi><mo id="S3.SS2.p3.4.m4.1.1.3" xref="S3.SS2.p3.4.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.1b"><apply id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">superscript</csymbol><ci id="S3.SS2.p3.4.m4.1.1.2.cmml" xref="S3.SS2.p3.4.m4.1.1.2">𝑆</ci><ci id="S3.SS2.p3.4.m4.1.1.3.cmml" xref="S3.SS2.p3.4.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.1c">S^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.4.m4.1d">italic_S start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> is the input sequence with masking and <math alttext="P(\cdot)" class="ltx_Math" display="inline" id="S3.SS2.p3.5.m5.1"><semantics id="S3.SS2.p3.5.m5.1a"><mrow id="S3.SS2.p3.5.m5.1.2" xref="S3.SS2.p3.5.m5.1.2.cmml"><mi id="S3.SS2.p3.5.m5.1.2.2" xref="S3.SS2.p3.5.m5.1.2.2.cmml">P</mi><mo id="S3.SS2.p3.5.m5.1.2.1" xref="S3.SS2.p3.5.m5.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p3.5.m5.1.2.3.2" xref="S3.SS2.p3.5.m5.1.2.cmml"><mo id="S3.SS2.p3.5.m5.1.2.3.2.1" stretchy="false" xref="S3.SS2.p3.5.m5.1.2.cmml">(</mo><mo id="S3.SS2.p3.5.m5.1.1" lspace="0em" rspace="0em" xref="S3.SS2.p3.5.m5.1.1.cmml">⋅</mo><mo id="S3.SS2.p3.5.m5.1.2.3.2.2" stretchy="false" xref="S3.SS2.p3.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.1b"><apply id="S3.SS2.p3.5.m5.1.2.cmml" xref="S3.SS2.p3.5.m5.1.2"><times id="S3.SS2.p3.5.m5.1.2.1.cmml" xref="S3.SS2.p3.5.m5.1.2.1"></times><ci id="S3.SS2.p3.5.m5.1.2.2.cmml" xref="S3.SS2.p3.5.m5.1.2.2">𝑃</ci><ci id="S3.SS2.p3.5.m5.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.1c">P(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.5.m5.1d">italic_P ( ⋅ )</annotation></semantics></math> represents the output of the softmax layer given the masked input.</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.6">To incorporate item contextual information, we augment the item embeddings in the masked sequence as</p>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="[c_{1},e_{\langle mask\rangle},c_{3},e_{\langle mask\rangle},c_{5}]" class="ltx_Math" display="block" id="S3.Ex2.m1.7"><semantics id="S3.Ex2.m1.7a"><mrow id="S3.Ex2.m1.7.7.5" xref="S3.Ex2.m1.7.7.6.cmml"><mo id="S3.Ex2.m1.7.7.5.6" stretchy="false" xref="S3.Ex2.m1.7.7.6.cmml">[</mo><msub id="S3.Ex2.m1.3.3.1.1" xref="S3.Ex2.m1.3.3.1.1.cmml"><mi id="S3.Ex2.m1.3.3.1.1.2" xref="S3.Ex2.m1.3.3.1.1.2.cmml">c</mi><mn id="S3.Ex2.m1.3.3.1.1.3" xref="S3.Ex2.m1.3.3.1.1.3.cmml">1</mn></msub><mo id="S3.Ex2.m1.7.7.5.7" xref="S3.Ex2.m1.7.7.6.cmml">,</mo><msub id="S3.Ex2.m1.4.4.2.2" xref="S3.Ex2.m1.4.4.2.2.cmml"><mi id="S3.Ex2.m1.4.4.2.2.2" xref="S3.Ex2.m1.4.4.2.2.2.cmml">e</mi><mrow id="S3.Ex2.m1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.2.cmml"><mo id="S3.Ex2.m1.1.1.1.1.2" stretchy="false" xref="S3.Ex2.m1.1.1.1.2.1.cmml">⟨</mo><mrow id="S3.Ex2.m1.1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.1.1.1.1.1.2" xref="S3.Ex2.m1.1.1.1.1.1.2.cmml">m</mi><mo id="S3.Ex2.m1.1.1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex2.m1.1.1.1.1.1.3" xref="S3.Ex2.m1.1.1.1.1.1.3.cmml">a</mi><mo id="S3.Ex2.m1.1.1.1.1.1.1a" xref="S3.Ex2.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex2.m1.1.1.1.1.1.4" xref="S3.Ex2.m1.1.1.1.1.1.4.cmml">s</mi><mo id="S3.Ex2.m1.1.1.1.1.1.1b" xref="S3.Ex2.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex2.m1.1.1.1.1.1.5" xref="S3.Ex2.m1.1.1.1.1.1.5.cmml">k</mi></mrow><mo id="S3.Ex2.m1.1.1.1.1.3" stretchy="false" xref="S3.Ex2.m1.1.1.1.2.1.cmml">⟩</mo></mrow></msub><mo id="S3.Ex2.m1.7.7.5.8" xref="S3.Ex2.m1.7.7.6.cmml">,</mo><msub id="S3.Ex2.m1.5.5.3.3" xref="S3.Ex2.m1.5.5.3.3.cmml"><mi id="S3.Ex2.m1.5.5.3.3.2" xref="S3.Ex2.m1.5.5.3.3.2.cmml">c</mi><mn id="S3.Ex2.m1.5.5.3.3.3" xref="S3.Ex2.m1.5.5.3.3.3.cmml">3</mn></msub><mo id="S3.Ex2.m1.7.7.5.9" xref="S3.Ex2.m1.7.7.6.cmml">,</mo><msub id="S3.Ex2.m1.6.6.4.4" xref="S3.Ex2.m1.6.6.4.4.cmml"><mi id="S3.Ex2.m1.6.6.4.4.2" xref="S3.Ex2.m1.6.6.4.4.2.cmml">e</mi><mrow id="S3.Ex2.m1.2.2.1.1" xref="S3.Ex2.m1.2.2.1.2.cmml"><mo id="S3.Ex2.m1.2.2.1.1.2" stretchy="false" xref="S3.Ex2.m1.2.2.1.2.1.cmml">⟨</mo><mrow id="S3.Ex2.m1.2.2.1.1.1" xref="S3.Ex2.m1.2.2.1.1.1.cmml"><mi id="S3.Ex2.m1.2.2.1.1.1.2" xref="S3.Ex2.m1.2.2.1.1.1.2.cmml">m</mi><mo id="S3.Ex2.m1.2.2.1.1.1.1" xref="S3.Ex2.m1.2.2.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex2.m1.2.2.1.1.1.3" xref="S3.Ex2.m1.2.2.1.1.1.3.cmml">a</mi><mo id="S3.Ex2.m1.2.2.1.1.1.1a" xref="S3.Ex2.m1.2.2.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex2.m1.2.2.1.1.1.4" xref="S3.Ex2.m1.2.2.1.1.1.4.cmml">s</mi><mo id="S3.Ex2.m1.2.2.1.1.1.1b" xref="S3.Ex2.m1.2.2.1.1.1.1.cmml">⁢</mo><mi id="S3.Ex2.m1.2.2.1.1.1.5" xref="S3.Ex2.m1.2.2.1.1.1.5.cmml">k</mi></mrow><mo id="S3.Ex2.m1.2.2.1.1.3" stretchy="false" xref="S3.Ex2.m1.2.2.1.2.1.cmml">⟩</mo></mrow></msub><mo id="S3.Ex2.m1.7.7.5.10" xref="S3.Ex2.m1.7.7.6.cmml">,</mo><msub id="S3.Ex2.m1.7.7.5.5" xref="S3.Ex2.m1.7.7.5.5.cmml"><mi id="S3.Ex2.m1.7.7.5.5.2" xref="S3.Ex2.m1.7.7.5.5.2.cmml">c</mi><mn id="S3.Ex2.m1.7.7.5.5.3" xref="S3.Ex2.m1.7.7.5.5.3.cmml">5</mn></msub><mo id="S3.Ex2.m1.7.7.5.11" stretchy="false" xref="S3.Ex2.m1.7.7.6.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.7b"><list id="S3.Ex2.m1.7.7.6.cmml" xref="S3.Ex2.m1.7.7.5"><apply id="S3.Ex2.m1.3.3.1.1.cmml" xref="S3.Ex2.m1.3.3.1.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.1.1.1.cmml" xref="S3.Ex2.m1.3.3.1.1">subscript</csymbol><ci id="S3.Ex2.m1.3.3.1.1.2.cmml" xref="S3.Ex2.m1.3.3.1.1.2">𝑐</ci><cn id="S3.Ex2.m1.3.3.1.1.3.cmml" type="integer" xref="S3.Ex2.m1.3.3.1.1.3">1</cn></apply><apply id="S3.Ex2.m1.4.4.2.2.cmml" xref="S3.Ex2.m1.4.4.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.4.4.2.2.1.cmml" xref="S3.Ex2.m1.4.4.2.2">subscript</csymbol><ci id="S3.Ex2.m1.4.4.2.2.2.cmml" xref="S3.Ex2.m1.4.4.2.2.2">𝑒</ci><apply id="S3.Ex2.m1.1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex2.m1.1.1.1.2.1.cmml" xref="S3.Ex2.m1.1.1.1.1.2">delimited-⟨⟩</csymbol><apply id="S3.Ex2.m1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1"><times id="S3.Ex2.m1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1.1"></times><ci id="S3.Ex2.m1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.1.1.1.2">𝑚</ci><ci id="S3.Ex2.m1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3">𝑎</ci><ci id="S3.Ex2.m1.1.1.1.1.1.4.cmml" xref="S3.Ex2.m1.1.1.1.1.1.4">𝑠</ci><ci id="S3.Ex2.m1.1.1.1.1.1.5.cmml" xref="S3.Ex2.m1.1.1.1.1.1.5">𝑘</ci></apply></apply></apply><apply id="S3.Ex2.m1.5.5.3.3.cmml" xref="S3.Ex2.m1.5.5.3.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.3.3.1.cmml" xref="S3.Ex2.m1.5.5.3.3">subscript</csymbol><ci id="S3.Ex2.m1.5.5.3.3.2.cmml" xref="S3.Ex2.m1.5.5.3.3.2">𝑐</ci><cn id="S3.Ex2.m1.5.5.3.3.3.cmml" type="integer" xref="S3.Ex2.m1.5.5.3.3.3">3</cn></apply><apply id="S3.Ex2.m1.6.6.4.4.cmml" xref="S3.Ex2.m1.6.6.4.4"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.4.4.1.cmml" xref="S3.Ex2.m1.6.6.4.4">subscript</csymbol><ci id="S3.Ex2.m1.6.6.4.4.2.cmml" xref="S3.Ex2.m1.6.6.4.4.2">𝑒</ci><apply id="S3.Ex2.m1.2.2.1.2.cmml" xref="S3.Ex2.m1.2.2.1.1"><csymbol cd="latexml" id="S3.Ex2.m1.2.2.1.2.1.cmml" xref="S3.Ex2.m1.2.2.1.1.2">delimited-⟨⟩</csymbol><apply id="S3.Ex2.m1.2.2.1.1.1.cmml" xref="S3.Ex2.m1.2.2.1.1.1"><times id="S3.Ex2.m1.2.2.1.1.1.1.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1"></times><ci id="S3.Ex2.m1.2.2.1.1.1.2.cmml" xref="S3.Ex2.m1.2.2.1.1.1.2">𝑚</ci><ci id="S3.Ex2.m1.2.2.1.1.1.3.cmml" xref="S3.Ex2.m1.2.2.1.1.1.3">𝑎</ci><ci id="S3.Ex2.m1.2.2.1.1.1.4.cmml" xref="S3.Ex2.m1.2.2.1.1.1.4">𝑠</ci><ci id="S3.Ex2.m1.2.2.1.1.1.5.cmml" xref="S3.Ex2.m1.2.2.1.1.1.5">𝑘</ci></apply></apply></apply><apply id="S3.Ex2.m1.7.7.5.5.cmml" xref="S3.Ex2.m1.7.7.5.5"><csymbol cd="ambiguous" id="S3.Ex2.m1.7.7.5.5.1.cmml" xref="S3.Ex2.m1.7.7.5.5">subscript</csymbol><ci id="S3.Ex2.m1.7.7.5.5.2.cmml" xref="S3.Ex2.m1.7.7.5.5.2">𝑐</ci><cn id="S3.Ex2.m1.7.7.5.5.3.cmml" type="integer" xref="S3.Ex2.m1.7.7.5.5.3">5</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.7c">[c_{1},e_{\langle mask\rangle},c_{3},e_{\langle mask\rangle},c_{5}]</annotation><annotation encoding="application/x-llamapun" id="S3.Ex2.m1.7d">[ italic_c start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT ⟨ italic_m italic_a italic_s italic_k ⟩ end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT ⟨ italic_m italic_a italic_s italic_k ⟩ end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p4.5">where <math alttext="c_{i}" class="ltx_Math" display="inline" id="S3.SS2.p4.1.m1.1"><semantics id="S3.SS2.p4.1.m1.1a"><msub id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml">c</mi><mi id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2">𝑐</ci><ci id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">c_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.1.m1.1d">italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is derived from a combination of the item embedding <math alttext="e_{i}" class="ltx_Math" display="inline" id="S3.SS2.p4.2.m2.1"><semantics id="S3.SS2.p4.2.m2.1a"><msub id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml">e</mi><mi id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2">𝑒</ci><ci id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">e_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.2.m2.1d">italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and the item context embedding <math alttext="t_{i}" class="ltx_Math" display="inline" id="S3.SS2.p4.3.m3.1"><semantics id="S3.SS2.p4.3.m3.1a"><msub id="S3.SS2.p4.3.m3.1.1" xref="S3.SS2.p4.3.m3.1.1.cmml"><mi id="S3.SS2.p4.3.m3.1.1.2" xref="S3.SS2.p4.3.m3.1.1.2.cmml">t</mi><mi id="S3.SS2.p4.3.m3.1.1.3" xref="S3.SS2.p4.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m3.1b"><apply id="S3.SS2.p4.3.m3.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.1.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p4.3.m3.1.1.2.cmml" xref="S3.SS2.p4.3.m3.1.1.2">𝑡</ci><ci id="S3.SS2.p4.3.m3.1.1.3.cmml" xref="S3.SS2.p4.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m3.1c">t_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.3.m3.1d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> representing item metadata.
<math alttext="t_{i}" class="ltx_Math" display="inline" id="S3.SS2.p4.4.m4.1"><semantics id="S3.SS2.p4.4.m4.1a"><msub id="S3.SS2.p4.4.m4.1.1" xref="S3.SS2.p4.4.m4.1.1.cmml"><mi id="S3.SS2.p4.4.m4.1.1.2" xref="S3.SS2.p4.4.m4.1.1.2.cmml">t</mi><mi id="S3.SS2.p4.4.m4.1.1.3" xref="S3.SS2.p4.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m4.1b"><apply id="S3.SS2.p4.4.m4.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.4.m4.1.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p4.4.m4.1.1.2.cmml" xref="S3.SS2.p4.4.m4.1.1.2">𝑡</ci><ci id="S3.SS2.p4.4.m4.1.1.3.cmml" xref="S3.SS2.p4.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m4.1c">t_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.4.m4.1d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is generated using a pre-trained and frozen LLM encoder and a perceiver <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">perceiver</span>)</cite> to encode the LLM output embeddings into a fixed length. The resulting output is concatenated with the item embedding and projected to the modified item embedding <math alttext="c_{i}" class="ltx_Math" display="inline" id="S3.SS2.p4.5.m5.1"><semantics id="S3.SS2.p4.5.m5.1a"><msub id="S3.SS2.p4.5.m5.1.1" xref="S3.SS2.p4.5.m5.1.1.cmml"><mi id="S3.SS2.p4.5.m5.1.1.2" xref="S3.SS2.p4.5.m5.1.1.2.cmml">c</mi><mi id="S3.SS2.p4.5.m5.1.1.3" xref="S3.SS2.p4.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.5.m5.1b"><apply id="S3.SS2.p4.5.m5.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.5.m5.1.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p4.5.m5.1.1.2.cmml" xref="S3.SS2.p4.5.m5.1.1.2">𝑐</ci><ci id="S3.SS2.p4.5.m5.1.1.3.cmml" xref="S3.SS2.p4.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.5.m5.1c">c_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.5.m5.1d">italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> at the transformer input.
This allows the model to learn masked item prediction with <span class="ltx_text ltx_font_italic" id="S3.SS2.p4.5.1">text as side information</span>, which we show improves the performance on recommendation tasks. In our experiments, we use the mT5 Base model <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">mt5</span>)</cite> to encode text. The output of the perceiver is then linearly projected to match the item embedding dimensions and then vector summed with the item embeddings.</p>
</div>
<div class="ltx_para" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.1">The use of a perceiver network provides certain key advantages in this context. It encodes a variable length input sequence of embeddings to a fixed length output sequence of embeddings. By concatenating (in the sequence dimension) different modality types at its input, the network can learn a joint encoding. Thus the perceiver offers a natural method of joining multiple modalities of text data, as described later for critiquing.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>ID-Text Contrastive Learning</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.3">We implement an auxiliary contrastive loss to align item ID embeddings with item context embeddings as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S3.F1" title="Figure 1 ‣ 3.2 Flare Model Architecture ‣ 3 Method ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_tag">1</span></a>c. This approach is motivated by the observation that the less frequent, or “tail” items, which have limited representation in training data, can rely instead on their contextual representations. Conversely, frequently appearing items can benefit from collaborative filtering signals that can be learnt from training a sequential recommender. Aligning ID and context embeddings embeds both the collaborative filtering (CF) and contextual signals into the same latent space, allowing context to potentially fill in for gaps in CF. More precisely, we employ the InfoNCE loss function <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">infoNCE</span>)</cite> as detailed below:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{c}=-\frac{1}{N}\sum^{N}_{i=1}\frac{exp(\frac{e_{i}\cdot t_{i}}{%
\tau}-m)}{exp(\frac{e_{i}\cdot t_{i}}{\tau}-m)+\sum^{N}_{j=1,j\neq i}exp(\frac%
{e_{i}\cdot t_{j}}{\tau})}" class="ltx_Math" display="block" id="S3.E2.m1.5"><semantics id="S3.E2.m1.5a"><mrow id="S3.E2.m1.5.6" xref="S3.E2.m1.5.6.cmml"><msub id="S3.E2.m1.5.6.2" xref="S3.E2.m1.5.6.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.5.6.2.2" xref="S3.E2.m1.5.6.2.2.cmml">ℒ</mi><mi id="S3.E2.m1.5.6.2.3" xref="S3.E2.m1.5.6.2.3.cmml">c</mi></msub><mo id="S3.E2.m1.5.6.1" xref="S3.E2.m1.5.6.1.cmml">=</mo><mrow id="S3.E2.m1.5.6.3" xref="S3.E2.m1.5.6.3.cmml"><mo id="S3.E2.m1.5.6.3a" xref="S3.E2.m1.5.6.3.cmml">−</mo><mrow id="S3.E2.m1.5.6.3.2" xref="S3.E2.m1.5.6.3.2.cmml"><mfrac id="S3.E2.m1.5.6.3.2.2" xref="S3.E2.m1.5.6.3.2.2.cmml"><mn id="S3.E2.m1.5.6.3.2.2.2" xref="S3.E2.m1.5.6.3.2.2.2.cmml">1</mn><mi id="S3.E2.m1.5.6.3.2.2.3" xref="S3.E2.m1.5.6.3.2.2.3.cmml">N</mi></mfrac><mo id="S3.E2.m1.5.6.3.2.1" xref="S3.E2.m1.5.6.3.2.1.cmml">⁢</mo><mrow id="S3.E2.m1.5.6.3.2.3" xref="S3.E2.m1.5.6.3.2.3.cmml"><munderover id="S3.E2.m1.5.6.3.2.3.1" xref="S3.E2.m1.5.6.3.2.3.1.cmml"><mo id="S3.E2.m1.5.6.3.2.3.1.2.2" movablelimits="false" xref="S3.E2.m1.5.6.3.2.3.1.2.2.cmml">∑</mo><mrow id="S3.E2.m1.5.6.3.2.3.1.3" xref="S3.E2.m1.5.6.3.2.3.1.3.cmml"><mi id="S3.E2.m1.5.6.3.2.3.1.3.2" xref="S3.E2.m1.5.6.3.2.3.1.3.2.cmml">i</mi><mo id="S3.E2.m1.5.6.3.2.3.1.3.1" xref="S3.E2.m1.5.6.3.2.3.1.3.1.cmml">=</mo><mn id="S3.E2.m1.5.6.3.2.3.1.3.3" xref="S3.E2.m1.5.6.3.2.3.1.3.3.cmml">1</mn></mrow><mi id="S3.E2.m1.5.6.3.2.3.1.2.3" xref="S3.E2.m1.5.6.3.2.3.1.2.3.cmml">N</mi></munderover><mfrac id="S3.E2.m1.5.5" xref="S3.E2.m1.5.5.cmml"><mrow id="S3.E2.m1.1.1.1" xref="S3.E2.m1.1.1.1.cmml"><mi id="S3.E2.m1.1.1.1.3" xref="S3.E2.m1.1.1.1.3.cmml">e</mi><mo id="S3.E2.m1.1.1.1.2" xref="S3.E2.m1.1.1.1.2.cmml">⁢</mo><mi id="S3.E2.m1.1.1.1.4" xref="S3.E2.m1.1.1.1.4.cmml">x</mi><mo id="S3.E2.m1.1.1.1.2a" xref="S3.E2.m1.1.1.1.2.cmml">⁢</mo><mi id="S3.E2.m1.1.1.1.5" xref="S3.E2.m1.1.1.1.5.cmml">p</mi><mo id="S3.E2.m1.1.1.1.2b" xref="S3.E2.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml"><mfrac id="S3.E2.m1.1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.1.2.cmml"><mrow id="S3.E2.m1.1.1.1.1.1.1.2.2" xref="S3.E2.m1.1.1.1.1.1.1.2.2.cmml"><msub id="S3.E2.m1.1.1.1.1.1.1.2.2.2" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="S3.E2.m1.1.1.1.1.1.1.2.2.2.3" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2.3.cmml">i</mi></msub><mo id="S3.E2.m1.1.1.1.1.1.1.2.2.1" lspace="0.222em" rspace="0.222em" xref="S3.E2.m1.1.1.1.1.1.1.2.2.1.cmml">⋅</mo><msub id="S3.E2.m1.1.1.1.1.1.1.2.2.3" xref="S3.E2.m1.1.1.1.1.1.1.2.2.3.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.2.2.3.2" xref="S3.E2.m1.1.1.1.1.1.1.2.2.3.2.cmml">t</mi><mi id="S3.E2.m1.1.1.1.1.1.1.2.2.3.3" xref="S3.E2.m1.1.1.1.1.1.1.2.2.3.3.cmml">i</mi></msub></mrow><mi id="S3.E2.m1.1.1.1.1.1.1.2.3" xref="S3.E2.m1.1.1.1.1.1.1.2.3.cmml">τ</mi></mfrac><mo id="S3.E2.m1.1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S3.E2.m1.1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.1.3.cmml">m</mi></mrow><mo id="S3.E2.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E2.m1.5.5.5" xref="S3.E2.m1.5.5.5.cmml"><mrow id="S3.E2.m1.5.5.5.4" xref="S3.E2.m1.5.5.5.4.cmml"><mi id="S3.E2.m1.5.5.5.4.3" xref="S3.E2.m1.5.5.5.4.3.cmml">e</mi><mo id="S3.E2.m1.5.5.5.4.2" xref="S3.E2.m1.5.5.5.4.2.cmml">⁢</mo><mi id="S3.E2.m1.5.5.5.4.4" xref="S3.E2.m1.5.5.5.4.4.cmml">x</mi><mo id="S3.E2.m1.5.5.5.4.2a" xref="S3.E2.m1.5.5.5.4.2.cmml">⁢</mo><mi id="S3.E2.m1.5.5.5.4.5" xref="S3.E2.m1.5.5.5.4.5.cmml">p</mi><mo id="S3.E2.m1.5.5.5.4.2b" xref="S3.E2.m1.5.5.5.4.2.cmml">⁢</mo><mrow id="S3.E2.m1.5.5.5.4.1.1" xref="S3.E2.m1.5.5.5.4.1.1.1.cmml"><mo id="S3.E2.m1.5.5.5.4.1.1.2" stretchy="false" xref="S3.E2.m1.5.5.5.4.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.5.5.5.4.1.1.1" xref="S3.E2.m1.5.5.5.4.1.1.1.cmml"><mfrac id="S3.E2.m1.5.5.5.4.1.1.1.2" xref="S3.E2.m1.5.5.5.4.1.1.1.2.cmml"><mrow id="S3.E2.m1.5.5.5.4.1.1.1.2.2" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.cmml"><msub id="S3.E2.m1.5.5.5.4.1.1.1.2.2.2" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.2.cmml"><mi id="S3.E2.m1.5.5.5.4.1.1.1.2.2.2.2" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.2.2.cmml">e</mi><mi id="S3.E2.m1.5.5.5.4.1.1.1.2.2.2.3" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.2.3.cmml">i</mi></msub><mo id="S3.E2.m1.5.5.5.4.1.1.1.2.2.1" lspace="0.222em" rspace="0.222em" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.1.cmml">⋅</mo><msub id="S3.E2.m1.5.5.5.4.1.1.1.2.2.3" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.3.cmml"><mi id="S3.E2.m1.5.5.5.4.1.1.1.2.2.3.2" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.3.2.cmml">t</mi><mi id="S3.E2.m1.5.5.5.4.1.1.1.2.2.3.3" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.3.3.cmml">i</mi></msub></mrow><mi id="S3.E2.m1.5.5.5.4.1.1.1.2.3" xref="S3.E2.m1.5.5.5.4.1.1.1.2.3.cmml">τ</mi></mfrac><mo id="S3.E2.m1.5.5.5.4.1.1.1.1" xref="S3.E2.m1.5.5.5.4.1.1.1.1.cmml">−</mo><mi id="S3.E2.m1.5.5.5.4.1.1.1.3" xref="S3.E2.m1.5.5.5.4.1.1.1.3.cmml">m</mi></mrow><mo id="S3.E2.m1.5.5.5.4.1.1.3" stretchy="false" xref="S3.E2.m1.5.5.5.4.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.5.5.5.5" rspace="0.055em" xref="S3.E2.m1.5.5.5.5.cmml">+</mo><mrow id="S3.E2.m1.5.5.5.6" xref="S3.E2.m1.5.5.5.6.cmml"><msubsup id="S3.E2.m1.5.5.5.6.1" xref="S3.E2.m1.5.5.5.6.1.cmml"><mo id="S3.E2.m1.5.5.5.6.1.2.2" xref="S3.E2.m1.5.5.5.6.1.2.2.cmml">∑</mo><mrow id="S3.E2.m1.3.3.3.2.2.2" xref="S3.E2.m1.3.3.3.2.2.3.cmml"><mrow id="S3.E2.m1.2.2.2.1.1.1.1" xref="S3.E2.m1.2.2.2.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.2.1.1.1.1.2" xref="S3.E2.m1.2.2.2.1.1.1.1.2.cmml">j</mi><mo id="S3.E2.m1.2.2.2.1.1.1.1.1" xref="S3.E2.m1.2.2.2.1.1.1.1.1.cmml">=</mo><mn id="S3.E2.m1.2.2.2.1.1.1.1.3" xref="S3.E2.m1.2.2.2.1.1.1.1.3.cmml">1</mn></mrow><mo id="S3.E2.m1.3.3.3.2.2.2.3" xref="S3.E2.m1.3.3.3.2.2.3a.cmml">,</mo><mrow id="S3.E2.m1.3.3.3.2.2.2.2" xref="S3.E2.m1.3.3.3.2.2.2.2.cmml"><mi id="S3.E2.m1.3.3.3.2.2.2.2.2" xref="S3.E2.m1.3.3.3.2.2.2.2.2.cmml">j</mi><mo id="S3.E2.m1.3.3.3.2.2.2.2.1" xref="S3.E2.m1.3.3.3.2.2.2.2.1.cmml">≠</mo><mi id="S3.E2.m1.3.3.3.2.2.2.2.3" xref="S3.E2.m1.3.3.3.2.2.2.2.3.cmml">i</mi></mrow></mrow><mi id="S3.E2.m1.5.5.5.6.1.2.3" xref="S3.E2.m1.5.5.5.6.1.2.3.cmml">N</mi></msubsup><mrow id="S3.E2.m1.5.5.5.6.2" xref="S3.E2.m1.5.5.5.6.2.cmml"><mi id="S3.E2.m1.5.5.5.6.2.2" xref="S3.E2.m1.5.5.5.6.2.2.cmml">e</mi><mo id="S3.E2.m1.5.5.5.6.2.1" xref="S3.E2.m1.5.5.5.6.2.1.cmml">⁢</mo><mi id="S3.E2.m1.5.5.5.6.2.3" xref="S3.E2.m1.5.5.5.6.2.3.cmml">x</mi><mo id="S3.E2.m1.5.5.5.6.2.1a" xref="S3.E2.m1.5.5.5.6.2.1.cmml">⁢</mo><mi id="S3.E2.m1.5.5.5.6.2.4" xref="S3.E2.m1.5.5.5.6.2.4.cmml">p</mi><mo id="S3.E2.m1.5.5.5.6.2.1b" xref="S3.E2.m1.5.5.5.6.2.1.cmml">⁢</mo><mrow id="S3.E2.m1.5.5.5.6.2.5.2" xref="S3.E2.m1.4.4.4.3.cmml"><mo id="S3.E2.m1.5.5.5.6.2.5.2.1" stretchy="false" xref="S3.E2.m1.4.4.4.3.cmml">(</mo><mfrac id="S3.E2.m1.4.4.4.3" xref="S3.E2.m1.4.4.4.3.cmml"><mrow id="S3.E2.m1.4.4.4.3.2" xref="S3.E2.m1.4.4.4.3.2.cmml"><msub id="S3.E2.m1.4.4.4.3.2.2" xref="S3.E2.m1.4.4.4.3.2.2.cmml"><mi id="S3.E2.m1.4.4.4.3.2.2.2" xref="S3.E2.m1.4.4.4.3.2.2.2.cmml">e</mi><mi id="S3.E2.m1.4.4.4.3.2.2.3" xref="S3.E2.m1.4.4.4.3.2.2.3.cmml">i</mi></msub><mo id="S3.E2.m1.4.4.4.3.2.1" lspace="0.222em" rspace="0.222em" xref="S3.E2.m1.4.4.4.3.2.1.cmml">⋅</mo><msub id="S3.E2.m1.4.4.4.3.2.3" xref="S3.E2.m1.4.4.4.3.2.3.cmml"><mi id="S3.E2.m1.4.4.4.3.2.3.2" xref="S3.E2.m1.4.4.4.3.2.3.2.cmml">t</mi><mi id="S3.E2.m1.4.4.4.3.2.3.3" xref="S3.E2.m1.4.4.4.3.2.3.3.cmml">j</mi></msub></mrow><mi id="S3.E2.m1.4.4.4.3.3" xref="S3.E2.m1.4.4.4.3.3.cmml">τ</mi></mfrac><mo id="S3.E2.m1.5.5.5.6.2.5.2.2" stretchy="false" xref="S3.E2.m1.4.4.4.3.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.5b"><apply id="S3.E2.m1.5.6.cmml" xref="S3.E2.m1.5.6"><eq id="S3.E2.m1.5.6.1.cmml" xref="S3.E2.m1.5.6.1"></eq><apply id="S3.E2.m1.5.6.2.cmml" xref="S3.E2.m1.5.6.2"><csymbol cd="ambiguous" id="S3.E2.m1.5.6.2.1.cmml" xref="S3.E2.m1.5.6.2">subscript</csymbol><ci id="S3.E2.m1.5.6.2.2.cmml" xref="S3.E2.m1.5.6.2.2">ℒ</ci><ci id="S3.E2.m1.5.6.2.3.cmml" xref="S3.E2.m1.5.6.2.3">𝑐</ci></apply><apply id="S3.E2.m1.5.6.3.cmml" xref="S3.E2.m1.5.6.3"><minus id="S3.E2.m1.5.6.3.1.cmml" xref="S3.E2.m1.5.6.3"></minus><apply id="S3.E2.m1.5.6.3.2.cmml" xref="S3.E2.m1.5.6.3.2"><times id="S3.E2.m1.5.6.3.2.1.cmml" xref="S3.E2.m1.5.6.3.2.1"></times><apply id="S3.E2.m1.5.6.3.2.2.cmml" xref="S3.E2.m1.5.6.3.2.2"><divide id="S3.E2.m1.5.6.3.2.2.1.cmml" xref="S3.E2.m1.5.6.3.2.2"></divide><cn id="S3.E2.m1.5.6.3.2.2.2.cmml" type="integer" xref="S3.E2.m1.5.6.3.2.2.2">1</cn><ci id="S3.E2.m1.5.6.3.2.2.3.cmml" xref="S3.E2.m1.5.6.3.2.2.3">𝑁</ci></apply><apply id="S3.E2.m1.5.6.3.2.3.cmml" xref="S3.E2.m1.5.6.3.2.3"><apply id="S3.E2.m1.5.6.3.2.3.1.cmml" xref="S3.E2.m1.5.6.3.2.3.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.6.3.2.3.1.1.cmml" xref="S3.E2.m1.5.6.3.2.3.1">subscript</csymbol><apply id="S3.E2.m1.5.6.3.2.3.1.2.cmml" xref="S3.E2.m1.5.6.3.2.3.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.6.3.2.3.1.2.1.cmml" xref="S3.E2.m1.5.6.3.2.3.1">superscript</csymbol><sum id="S3.E2.m1.5.6.3.2.3.1.2.2.cmml" xref="S3.E2.m1.5.6.3.2.3.1.2.2"></sum><ci id="S3.E2.m1.5.6.3.2.3.1.2.3.cmml" xref="S3.E2.m1.5.6.3.2.3.1.2.3">𝑁</ci></apply><apply id="S3.E2.m1.5.6.3.2.3.1.3.cmml" xref="S3.E2.m1.5.6.3.2.3.1.3"><eq id="S3.E2.m1.5.6.3.2.3.1.3.1.cmml" xref="S3.E2.m1.5.6.3.2.3.1.3.1"></eq><ci id="S3.E2.m1.5.6.3.2.3.1.3.2.cmml" xref="S3.E2.m1.5.6.3.2.3.1.3.2">𝑖</ci><cn id="S3.E2.m1.5.6.3.2.3.1.3.3.cmml" type="integer" xref="S3.E2.m1.5.6.3.2.3.1.3.3">1</cn></apply></apply><apply id="S3.E2.m1.5.5.cmml" xref="S3.E2.m1.5.5"><divide id="S3.E2.m1.5.5.6.cmml" xref="S3.E2.m1.5.5"></divide><apply id="S3.E2.m1.1.1.1.cmml" xref="S3.E2.m1.1.1.1"><times id="S3.E2.m1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.2"></times><ci id="S3.E2.m1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.3">𝑒</ci><ci id="S3.E2.m1.1.1.1.4.cmml" xref="S3.E2.m1.1.1.1.4">𝑥</ci><ci id="S3.E2.m1.1.1.1.5.cmml" xref="S3.E2.m1.1.1.1.5">𝑝</ci><apply id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1"><minus id="S3.E2.m1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1"></minus><apply id="S3.E2.m1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2"><divide id="S3.E2.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2"></divide><apply id="S3.E2.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2"><ci id="S3.E2.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.1">⋅</ci><apply id="S3.E2.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2.2">𝑒</ci><ci id="S3.E2.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.2.3">𝑖</ci></apply><apply id="S3.E2.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.3">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.3.2">𝑡</ci><ci id="S3.E2.m1.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.2.3.3">𝑖</ci></apply></apply><ci id="S3.E2.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2.3">𝜏</ci></apply><ci id="S3.E2.m1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.3">𝑚</ci></apply></apply><apply id="S3.E2.m1.5.5.5.cmml" xref="S3.E2.m1.5.5.5"><plus id="S3.E2.m1.5.5.5.5.cmml" xref="S3.E2.m1.5.5.5.5"></plus><apply id="S3.E2.m1.5.5.5.4.cmml" xref="S3.E2.m1.5.5.5.4"><times id="S3.E2.m1.5.5.5.4.2.cmml" xref="S3.E2.m1.5.5.5.4.2"></times><ci id="S3.E2.m1.5.5.5.4.3.cmml" xref="S3.E2.m1.5.5.5.4.3">𝑒</ci><ci id="S3.E2.m1.5.5.5.4.4.cmml" xref="S3.E2.m1.5.5.5.4.4">𝑥</ci><ci id="S3.E2.m1.5.5.5.4.5.cmml" xref="S3.E2.m1.5.5.5.4.5">𝑝</ci><apply id="S3.E2.m1.5.5.5.4.1.1.1.cmml" xref="S3.E2.m1.5.5.5.4.1.1"><minus id="S3.E2.m1.5.5.5.4.1.1.1.1.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.1"></minus><apply id="S3.E2.m1.5.5.5.4.1.1.1.2.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2"><divide id="S3.E2.m1.5.5.5.4.1.1.1.2.1.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2"></divide><apply id="S3.E2.m1.5.5.5.4.1.1.1.2.2.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2"><ci id="S3.E2.m1.5.5.5.4.1.1.1.2.2.1.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.1">⋅</ci><apply id="S3.E2.m1.5.5.5.4.1.1.1.2.2.2.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.5.4.1.1.1.2.2.2.1.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E2.m1.5.5.5.4.1.1.1.2.2.2.2.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.2.2">𝑒</ci><ci id="S3.E2.m1.5.5.5.4.1.1.1.2.2.2.3.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.2.3">𝑖</ci></apply><apply id="S3.E2.m1.5.5.5.4.1.1.1.2.2.3.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.5.4.1.1.1.2.2.3.1.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.3">subscript</csymbol><ci id="S3.E2.m1.5.5.5.4.1.1.1.2.2.3.2.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.3.2">𝑡</ci><ci id="S3.E2.m1.5.5.5.4.1.1.1.2.2.3.3.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2.2.3.3">𝑖</ci></apply></apply><ci id="S3.E2.m1.5.5.5.4.1.1.1.2.3.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.2.3">𝜏</ci></apply><ci id="S3.E2.m1.5.5.5.4.1.1.1.3.cmml" xref="S3.E2.m1.5.5.5.4.1.1.1.3">𝑚</ci></apply></apply><apply id="S3.E2.m1.5.5.5.6.cmml" xref="S3.E2.m1.5.5.5.6"><apply id="S3.E2.m1.5.5.5.6.1.cmml" xref="S3.E2.m1.5.5.5.6.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.5.6.1.1.cmml" xref="S3.E2.m1.5.5.5.6.1">subscript</csymbol><apply id="S3.E2.m1.5.5.5.6.1.2.cmml" xref="S3.E2.m1.5.5.5.6.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.5.6.1.2.1.cmml" xref="S3.E2.m1.5.5.5.6.1">superscript</csymbol><sum id="S3.E2.m1.5.5.5.6.1.2.2.cmml" xref="S3.E2.m1.5.5.5.6.1.2.2"></sum><ci id="S3.E2.m1.5.5.5.6.1.2.3.cmml" xref="S3.E2.m1.5.5.5.6.1.2.3">𝑁</ci></apply><apply id="S3.E2.m1.3.3.3.2.2.3.cmml" xref="S3.E2.m1.3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.2.2.3a.cmml" xref="S3.E2.m1.3.3.3.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E2.m1.2.2.2.1.1.1.1.cmml" xref="S3.E2.m1.2.2.2.1.1.1.1"><eq id="S3.E2.m1.2.2.2.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.2.1.1.1.1.1"></eq><ci id="S3.E2.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.2.1.1.1.1.2">𝑗</ci><cn id="S3.E2.m1.2.2.2.1.1.1.1.3.cmml" type="integer" xref="S3.E2.m1.2.2.2.1.1.1.1.3">1</cn></apply><apply id="S3.E2.m1.3.3.3.2.2.2.2.cmml" xref="S3.E2.m1.3.3.3.2.2.2.2"><neq id="S3.E2.m1.3.3.3.2.2.2.2.1.cmml" xref="S3.E2.m1.3.3.3.2.2.2.2.1"></neq><ci id="S3.E2.m1.3.3.3.2.2.2.2.2.cmml" xref="S3.E2.m1.3.3.3.2.2.2.2.2">𝑗</ci><ci id="S3.E2.m1.3.3.3.2.2.2.2.3.cmml" xref="S3.E2.m1.3.3.3.2.2.2.2.3">𝑖</ci></apply></apply></apply><apply id="S3.E2.m1.5.5.5.6.2.cmml" xref="S3.E2.m1.5.5.5.6.2"><times id="S3.E2.m1.5.5.5.6.2.1.cmml" xref="S3.E2.m1.5.5.5.6.2.1"></times><ci id="S3.E2.m1.5.5.5.6.2.2.cmml" xref="S3.E2.m1.5.5.5.6.2.2">𝑒</ci><ci id="S3.E2.m1.5.5.5.6.2.3.cmml" xref="S3.E2.m1.5.5.5.6.2.3">𝑥</ci><ci id="S3.E2.m1.5.5.5.6.2.4.cmml" xref="S3.E2.m1.5.5.5.6.2.4">𝑝</ci><apply id="S3.E2.m1.4.4.4.3.cmml" xref="S3.E2.m1.5.5.5.6.2.5.2"><divide id="S3.E2.m1.4.4.4.3.1.cmml" xref="S3.E2.m1.5.5.5.6.2.5.2"></divide><apply id="S3.E2.m1.4.4.4.3.2.cmml" xref="S3.E2.m1.4.4.4.3.2"><ci id="S3.E2.m1.4.4.4.3.2.1.cmml" xref="S3.E2.m1.4.4.4.3.2.1">⋅</ci><apply id="S3.E2.m1.4.4.4.3.2.2.cmml" xref="S3.E2.m1.4.4.4.3.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.4.3.2.2.1.cmml" xref="S3.E2.m1.4.4.4.3.2.2">subscript</csymbol><ci id="S3.E2.m1.4.4.4.3.2.2.2.cmml" xref="S3.E2.m1.4.4.4.3.2.2.2">𝑒</ci><ci id="S3.E2.m1.4.4.4.3.2.2.3.cmml" xref="S3.E2.m1.4.4.4.3.2.2.3">𝑖</ci></apply><apply id="S3.E2.m1.4.4.4.3.2.3.cmml" xref="S3.E2.m1.4.4.4.3.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.4.3.2.3.1.cmml" xref="S3.E2.m1.4.4.4.3.2.3">subscript</csymbol><ci id="S3.E2.m1.4.4.4.3.2.3.2.cmml" xref="S3.E2.m1.4.4.4.3.2.3.2">𝑡</ci><ci id="S3.E2.m1.4.4.4.3.2.3.3.cmml" xref="S3.E2.m1.4.4.4.3.2.3.3">𝑗</ci></apply></apply><ci id="S3.E2.m1.4.4.4.3.3.cmml" xref="S3.E2.m1.4.4.4.3.3">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.5c">\mathcal{L}_{c}=-\frac{1}{N}\sum^{N}_{i=1}\frac{exp(\frac{e_{i}\cdot t_{i}}{%
\tau}-m)}{exp(\frac{e_{i}\cdot t_{i}}{\tau}-m)+\sum^{N}_{j=1,j\neq i}exp(\frac%
{e_{i}\cdot t_{j}}{\tau})}</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.5d">caligraphic_L start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT = - divide start_ARG 1 end_ARG start_ARG italic_N end_ARG ∑ start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT divide start_ARG italic_e italic_x italic_p ( divide start_ARG italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ⋅ italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG start_ARG italic_τ end_ARG - italic_m ) end_ARG start_ARG italic_e italic_x italic_p ( divide start_ARG italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ⋅ italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG start_ARG italic_τ end_ARG - italic_m ) + ∑ start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j = 1 , italic_j ≠ italic_i end_POSTSUBSCRIPT italic_e italic_x italic_p ( divide start_ARG italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ⋅ italic_t start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_ARG start_ARG italic_τ end_ARG ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p1.2">where <math alttext="\tau" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><mi id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">italic_τ</annotation></semantics></math> is the softmax temperature, and we also include a softmax additive margin term <math alttext="m" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.1"><semantics id="S3.SS3.p1.2.m2.1a"><mi id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><ci id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">m</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.2.m2.1d">italic_m</annotation></semantics></math> to each positive pair to increase the separation between positive and negative pairs, as proposed by <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">yang2019improving</span>)</cite>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Critiquing</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">A core component of hybrid recommenders is their ability to effectively utilize both textual content semantics and collaborative filtering information. However, bridging the gap between these two modalities poses a challenge, potentially leading to a situation where the downstream sequential recommender fails to fully exploit the information available in each.</p>
</div>
<div class="ltx_para" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.11">We propose a novel masking and evaluation paradigm utilizing critiquing to assess whether hybrid recommenders can appropriately leverage both modalities. This consists of adding a critique in the form of a textual product category <math alttext="S" class="ltx_Math" display="inline" id="S3.SS4.p2.1.m1.1"><semantics id="S3.SS4.p2.1.m1.1a"><mi id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><ci id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.1.m1.1d">italic_S</annotation></semantics></math> to each item <math alttext="i" class="ltx_Math" display="inline" id="S3.SS4.p2.2.m2.1"><semantics id="S3.SS4.p2.2.m2.1a"><mi id="S3.SS4.p2.2.m2.1.1" xref="S3.SS4.p2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.2.m2.1b"><ci id="S3.SS4.p2.2.m2.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.2.m2.1d">italic_i</annotation></semantics></math> in the user’s sequence <math alttext="S" class="ltx_Math" display="inline" id="S3.SS4.p2.3.m3.1"><semantics id="S3.SS4.p2.3.m3.1a"><mi id="S3.SS4.p2.3.m3.1.1" xref="S3.SS4.p2.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.3.m3.1b"><ci id="S3.SS4.p2.3.m3.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.3.m3.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.3.m3.1d">italic_S</annotation></semantics></math>, providing a broad hint to direct the model to the next recommended item. That is, each item <math alttext="i" class="ltx_Math" display="inline" id="S3.SS4.p2.4.m4.1"><semantics id="S3.SS4.p2.4.m4.1a"><mi id="S3.SS4.p2.4.m4.1.1" xref="S3.SS4.p2.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.4.m4.1b"><ci id="S3.SS4.p2.4.m4.1.1.cmml" xref="S3.SS4.p2.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.4.m4.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.4.m4.1d">italic_i</annotation></semantics></math> in the user sequence <math alttext="S" class="ltx_Math" display="inline" id="S3.SS4.p2.5.m5.1"><semantics id="S3.SS4.p2.5.m5.1a"><mi id="S3.SS4.p2.5.m5.1.1" xref="S3.SS4.p2.5.m5.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.5.m5.1b"><ci id="S3.SS4.p2.5.m5.1.1.cmml" xref="S3.SS4.p2.5.m5.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.5.m5.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.5.m5.1d">italic_S</annotation></semantics></math> becomes <math alttext="i=(ID,T,S)" class="ltx_Math" display="inline" id="S3.SS4.p2.6.m6.3"><semantics id="S3.SS4.p2.6.m6.3a"><mrow id="S3.SS4.p2.6.m6.3.3" xref="S3.SS4.p2.6.m6.3.3.cmml"><mi id="S3.SS4.p2.6.m6.3.3.3" xref="S3.SS4.p2.6.m6.3.3.3.cmml">i</mi><mo id="S3.SS4.p2.6.m6.3.3.2" xref="S3.SS4.p2.6.m6.3.3.2.cmml">=</mo><mrow id="S3.SS4.p2.6.m6.3.3.1.1" xref="S3.SS4.p2.6.m6.3.3.1.2.cmml"><mo id="S3.SS4.p2.6.m6.3.3.1.1.2" stretchy="false" xref="S3.SS4.p2.6.m6.3.3.1.2.cmml">(</mo><mrow id="S3.SS4.p2.6.m6.3.3.1.1.1" xref="S3.SS4.p2.6.m6.3.3.1.1.1.cmml"><mi id="S3.SS4.p2.6.m6.3.3.1.1.1.2" xref="S3.SS4.p2.6.m6.3.3.1.1.1.2.cmml">I</mi><mo id="S3.SS4.p2.6.m6.3.3.1.1.1.1" xref="S3.SS4.p2.6.m6.3.3.1.1.1.1.cmml">⁢</mo><mi id="S3.SS4.p2.6.m6.3.3.1.1.1.3" xref="S3.SS4.p2.6.m6.3.3.1.1.1.3.cmml">D</mi></mrow><mo id="S3.SS4.p2.6.m6.3.3.1.1.3" xref="S3.SS4.p2.6.m6.3.3.1.2.cmml">,</mo><mi id="S3.SS4.p2.6.m6.1.1" xref="S3.SS4.p2.6.m6.1.1.cmml">T</mi><mo id="S3.SS4.p2.6.m6.3.3.1.1.4" xref="S3.SS4.p2.6.m6.3.3.1.2.cmml">,</mo><mi id="S3.SS4.p2.6.m6.2.2" xref="S3.SS4.p2.6.m6.2.2.cmml">S</mi><mo id="S3.SS4.p2.6.m6.3.3.1.1.5" stretchy="false" xref="S3.SS4.p2.6.m6.3.3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.6.m6.3b"><apply id="S3.SS4.p2.6.m6.3.3.cmml" xref="S3.SS4.p2.6.m6.3.3"><eq id="S3.SS4.p2.6.m6.3.3.2.cmml" xref="S3.SS4.p2.6.m6.3.3.2"></eq><ci id="S3.SS4.p2.6.m6.3.3.3.cmml" xref="S3.SS4.p2.6.m6.3.3.3">𝑖</ci><vector id="S3.SS4.p2.6.m6.3.3.1.2.cmml" xref="S3.SS4.p2.6.m6.3.3.1.1"><apply id="S3.SS4.p2.6.m6.3.3.1.1.1.cmml" xref="S3.SS4.p2.6.m6.3.3.1.1.1"><times id="S3.SS4.p2.6.m6.3.3.1.1.1.1.cmml" xref="S3.SS4.p2.6.m6.3.3.1.1.1.1"></times><ci id="S3.SS4.p2.6.m6.3.3.1.1.1.2.cmml" xref="S3.SS4.p2.6.m6.3.3.1.1.1.2">𝐼</ci><ci id="S3.SS4.p2.6.m6.3.3.1.1.1.3.cmml" xref="S3.SS4.p2.6.m6.3.3.1.1.1.3">𝐷</ci></apply><ci id="S3.SS4.p2.6.m6.1.1.cmml" xref="S3.SS4.p2.6.m6.1.1">𝑇</ci><ci id="S3.SS4.p2.6.m6.2.2.cmml" xref="S3.SS4.p2.6.m6.2.2">𝑆</ci></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.6.m6.3c">i=(ID,T,S)</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.6.m6.3d">italic_i = ( italic_I italic_D , italic_T , italic_S )</annotation></semantics></math>, where <math alttext="S" class="ltx_Math" display="inline" id="S3.SS4.p2.7.m7.1"><semantics id="S3.SS4.p2.7.m7.1a"><mi id="S3.SS4.p2.7.m7.1.1" xref="S3.SS4.p2.7.m7.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.7.m7.1b"><ci id="S3.SS4.p2.7.m7.1.1.cmml" xref="S3.SS4.p2.7.m7.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.7.m7.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.7.m7.1d">italic_S</annotation></semantics></math> is the critique string. For masked locations during training and inference, we only mask the <math alttext="ID" class="ltx_Math" display="inline" id="S3.SS4.p2.8.m8.1"><semantics id="S3.SS4.p2.8.m8.1a"><mrow id="S3.SS4.p2.8.m8.1.1" xref="S3.SS4.p2.8.m8.1.1.cmml"><mi id="S3.SS4.p2.8.m8.1.1.2" xref="S3.SS4.p2.8.m8.1.1.2.cmml">I</mi><mo id="S3.SS4.p2.8.m8.1.1.1" xref="S3.SS4.p2.8.m8.1.1.1.cmml">⁢</mo><mi id="S3.SS4.p2.8.m8.1.1.3" xref="S3.SS4.p2.8.m8.1.1.3.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.8.m8.1b"><apply id="S3.SS4.p2.8.m8.1.1.cmml" xref="S3.SS4.p2.8.m8.1.1"><times id="S3.SS4.p2.8.m8.1.1.1.cmml" xref="S3.SS4.p2.8.m8.1.1.1"></times><ci id="S3.SS4.p2.8.m8.1.1.2.cmml" xref="S3.SS4.p2.8.m8.1.1.2">𝐼</ci><ci id="S3.SS4.p2.8.m8.1.1.3.cmml" xref="S3.SS4.p2.8.m8.1.1.3">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.8.m8.1c">ID</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.8.m8.1d">italic_I italic_D</annotation></semantics></math> and item description <math alttext="T" class="ltx_Math" display="inline" id="S3.SS4.p2.9.m9.1"><semantics id="S3.SS4.p2.9.m9.1a"><mi id="S3.SS4.p2.9.m9.1.1" xref="S3.SS4.p2.9.m9.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.9.m9.1b"><ci id="S3.SS4.p2.9.m9.1.1.cmml" xref="S3.SS4.p2.9.m9.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.9.m9.1c">T</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.9.m9.1d">italic_T</annotation></semantics></math>, leaving <math alttext="S" class="ltx_Math" display="inline" id="S3.SS4.p2.10.m10.1"><semantics id="S3.SS4.p2.10.m10.1a"><mi id="S3.SS4.p2.10.m10.1.1" xref="S3.SS4.p2.10.m10.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.10.m10.1b"><ci id="S3.SS4.p2.10.m10.1.1.cmml" xref="S3.SS4.p2.10.m10.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.10.m10.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.10.m10.1d">italic_S</annotation></semantics></math> unmasked, which the model can utilize as a hint towards the target item (i.e., <math alttext="i=([\langle mask\rangle,\langle mask\rangle,S)" class="ltx_math_unparsed" display="inline" id="S3.SS4.p2.11.m11.1"><semantics id="S3.SS4.p2.11.m11.1a"><mrow id="S3.SS4.p2.11.m11.1b"><mi id="S3.SS4.p2.11.m11.1.2">i</mi><mo id="S3.SS4.p2.11.m11.1.3">=</mo><mrow id="S3.SS4.p2.11.m11.1.4"><mo id="S3.SS4.p2.11.m11.1.4.1" stretchy="false">(</mo><mrow id="S3.SS4.p2.11.m11.1.4.2"><mo id="S3.SS4.p2.11.m11.1.4.2.1" stretchy="false">[</mo><mrow id="S3.SS4.p2.11.m11.1.4.2.2"><mo id="S3.SS4.p2.11.m11.1.4.2.2.1" stretchy="false">⟨</mo><mi id="S3.SS4.p2.11.m11.1.4.2.2.2">m</mi><mi id="S3.SS4.p2.11.m11.1.4.2.2.3">a</mi><mi id="S3.SS4.p2.11.m11.1.4.2.2.4">s</mi><mi id="S3.SS4.p2.11.m11.1.4.2.2.5">k</mi><mo id="S3.SS4.p2.11.m11.1.4.2.2.6" stretchy="false">⟩</mo></mrow><mo id="S3.SS4.p2.11.m11.1.4.2.3">,</mo><mrow id="S3.SS4.p2.11.m11.1.4.2.4"><mo id="S3.SS4.p2.11.m11.1.4.2.4.1" stretchy="false">⟨</mo><mi id="S3.SS4.p2.11.m11.1.4.2.4.2">m</mi><mi id="S3.SS4.p2.11.m11.1.4.2.4.3">a</mi><mi id="S3.SS4.p2.11.m11.1.4.2.4.4">s</mi><mi id="S3.SS4.p2.11.m11.1.4.2.4.5">k</mi><mo id="S3.SS4.p2.11.m11.1.4.2.4.6" stretchy="false">⟩</mo></mrow><mo id="S3.SS4.p2.11.m11.1.4.2.5">,</mo><mi id="S3.SS4.p2.11.m11.1.1">S</mi><mo id="S3.SS4.p2.11.m11.1.4.2.6" stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS4.p2.11.m11.1c">i=([\langle mask\rangle,\langle mask\rangle,S)</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.11.m11.1d">italic_i = ( [ ⟨ italic_m italic_a italic_s italic_k ⟩ , ⟨ italic_m italic_a italic_s italic_k ⟩ , italic_S )</annotation></semantics></math>).</p>
</div>
<div class="ltx_para" id="S3.SS4.p3">
<p class="ltx_p" id="S3.SS4.p3.1">The key to this task is that hints are textual, therefore requiring recommenders to adapt to a text modality by relating the critique to the other signals in the user’s sequence.
Note that this task formulation has applications to many real-life uses of recommender systems, such as refining recommendations based on the user’s natural language query text or the webpage subsection the user is currently navigating. In essence, critiquing strings can be used as a vehicle to steer a model predictions to incorporate the user’s current context.</p>
</div>
<div class="ltx_para" id="S3.SS4.p4">
<p class="ltx_p" id="S3.SS4.p4.6">We incorporate critiquing text in Flare as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S3.F1" title="Figure 1 ‣ 3.2 Flare Model Architecture ‣ 3 Method ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_tag">1</span></a>. Critique text is a distinct type of input modality, separate from the item contextual text. This is done by separately encoding each modality, with distinct type embeddings, and then using the Perceiver network to merge both text modalities together. Given an item <math alttext="i_{k}=(ID_{k},T_{k},S_{k})" class="ltx_Math" display="inline" id="S3.SS4.p4.1.m1.3"><semantics id="S3.SS4.p4.1.m1.3a"><mrow id="S3.SS4.p4.1.m1.3.3" xref="S3.SS4.p4.1.m1.3.3.cmml"><msub id="S3.SS4.p4.1.m1.3.3.5" xref="S3.SS4.p4.1.m1.3.3.5.cmml"><mi id="S3.SS4.p4.1.m1.3.3.5.2" xref="S3.SS4.p4.1.m1.3.3.5.2.cmml">i</mi><mi id="S3.SS4.p4.1.m1.3.3.5.3" xref="S3.SS4.p4.1.m1.3.3.5.3.cmml">k</mi></msub><mo id="S3.SS4.p4.1.m1.3.3.4" xref="S3.SS4.p4.1.m1.3.3.4.cmml">=</mo><mrow id="S3.SS4.p4.1.m1.3.3.3.3" xref="S3.SS4.p4.1.m1.3.3.3.4.cmml"><mo id="S3.SS4.p4.1.m1.3.3.3.3.4" stretchy="false" xref="S3.SS4.p4.1.m1.3.3.3.4.cmml">(</mo><mrow id="S3.SS4.p4.1.m1.1.1.1.1.1" xref="S3.SS4.p4.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS4.p4.1.m1.1.1.1.1.1.2" xref="S3.SS4.p4.1.m1.1.1.1.1.1.2.cmml">I</mi><mo id="S3.SS4.p4.1.m1.1.1.1.1.1.1" xref="S3.SS4.p4.1.m1.1.1.1.1.1.1.cmml">⁢</mo><msub id="S3.SS4.p4.1.m1.1.1.1.1.1.3" xref="S3.SS4.p4.1.m1.1.1.1.1.1.3.cmml"><mi id="S3.SS4.p4.1.m1.1.1.1.1.1.3.2" xref="S3.SS4.p4.1.m1.1.1.1.1.1.3.2.cmml">D</mi><mi id="S3.SS4.p4.1.m1.1.1.1.1.1.3.3" xref="S3.SS4.p4.1.m1.1.1.1.1.1.3.3.cmml">k</mi></msub></mrow><mo id="S3.SS4.p4.1.m1.3.3.3.3.5" xref="S3.SS4.p4.1.m1.3.3.3.4.cmml">,</mo><msub id="S3.SS4.p4.1.m1.2.2.2.2.2" xref="S3.SS4.p4.1.m1.2.2.2.2.2.cmml"><mi id="S3.SS4.p4.1.m1.2.2.2.2.2.2" xref="S3.SS4.p4.1.m1.2.2.2.2.2.2.cmml">T</mi><mi id="S3.SS4.p4.1.m1.2.2.2.2.2.3" xref="S3.SS4.p4.1.m1.2.2.2.2.2.3.cmml">k</mi></msub><mo id="S3.SS4.p4.1.m1.3.3.3.3.6" xref="S3.SS4.p4.1.m1.3.3.3.4.cmml">,</mo><msub id="S3.SS4.p4.1.m1.3.3.3.3.3" xref="S3.SS4.p4.1.m1.3.3.3.3.3.cmml"><mi id="S3.SS4.p4.1.m1.3.3.3.3.3.2" xref="S3.SS4.p4.1.m1.3.3.3.3.3.2.cmml">S</mi><mi id="S3.SS4.p4.1.m1.3.3.3.3.3.3" xref="S3.SS4.p4.1.m1.3.3.3.3.3.3.cmml">k</mi></msub><mo id="S3.SS4.p4.1.m1.3.3.3.3.7" stretchy="false" xref="S3.SS4.p4.1.m1.3.3.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.1.m1.3b"><apply id="S3.SS4.p4.1.m1.3.3.cmml" xref="S3.SS4.p4.1.m1.3.3"><eq id="S3.SS4.p4.1.m1.3.3.4.cmml" xref="S3.SS4.p4.1.m1.3.3.4"></eq><apply id="S3.SS4.p4.1.m1.3.3.5.cmml" xref="S3.SS4.p4.1.m1.3.3.5"><csymbol cd="ambiguous" id="S3.SS4.p4.1.m1.3.3.5.1.cmml" xref="S3.SS4.p4.1.m1.3.3.5">subscript</csymbol><ci id="S3.SS4.p4.1.m1.3.3.5.2.cmml" xref="S3.SS4.p4.1.m1.3.3.5.2">𝑖</ci><ci id="S3.SS4.p4.1.m1.3.3.5.3.cmml" xref="S3.SS4.p4.1.m1.3.3.5.3">𝑘</ci></apply><vector id="S3.SS4.p4.1.m1.3.3.3.4.cmml" xref="S3.SS4.p4.1.m1.3.3.3.3"><apply id="S3.SS4.p4.1.m1.1.1.1.1.1.cmml" xref="S3.SS4.p4.1.m1.1.1.1.1.1"><times id="S3.SS4.p4.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS4.p4.1.m1.1.1.1.1.1.1"></times><ci id="S3.SS4.p4.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS4.p4.1.m1.1.1.1.1.1.2">𝐼</ci><apply id="S3.SS4.p4.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS4.p4.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p4.1.m1.1.1.1.1.1.3.1.cmml" xref="S3.SS4.p4.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS4.p4.1.m1.1.1.1.1.1.3.2.cmml" xref="S3.SS4.p4.1.m1.1.1.1.1.1.3.2">𝐷</ci><ci id="S3.SS4.p4.1.m1.1.1.1.1.1.3.3.cmml" xref="S3.SS4.p4.1.m1.1.1.1.1.1.3.3">𝑘</ci></apply></apply><apply id="S3.SS4.p4.1.m1.2.2.2.2.2.cmml" xref="S3.SS4.p4.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS4.p4.1.m1.2.2.2.2.2.1.cmml" xref="S3.SS4.p4.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.SS4.p4.1.m1.2.2.2.2.2.2.cmml" xref="S3.SS4.p4.1.m1.2.2.2.2.2.2">𝑇</ci><ci id="S3.SS4.p4.1.m1.2.2.2.2.2.3.cmml" xref="S3.SS4.p4.1.m1.2.2.2.2.2.3">𝑘</ci></apply><apply id="S3.SS4.p4.1.m1.3.3.3.3.3.cmml" xref="S3.SS4.p4.1.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS4.p4.1.m1.3.3.3.3.3.1.cmml" xref="S3.SS4.p4.1.m1.3.3.3.3.3">subscript</csymbol><ci id="S3.SS4.p4.1.m1.3.3.3.3.3.2.cmml" xref="S3.SS4.p4.1.m1.3.3.3.3.3.2">𝑆</ci><ci id="S3.SS4.p4.1.m1.3.3.3.3.3.3.cmml" xref="S3.SS4.p4.1.m1.3.3.3.3.3.3">𝑘</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.1.m1.3c">i_{k}=(ID_{k},T_{k},S_{k})</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.1.m1.3d">italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT = ( italic_I italic_D start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_T start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> consisting of an <math alttext="ID_{k}" class="ltx_Math" display="inline" id="S3.SS4.p4.2.m2.1"><semantics id="S3.SS4.p4.2.m2.1a"><mrow id="S3.SS4.p4.2.m2.1.1" xref="S3.SS4.p4.2.m2.1.1.cmml"><mi id="S3.SS4.p4.2.m2.1.1.2" xref="S3.SS4.p4.2.m2.1.1.2.cmml">I</mi><mo id="S3.SS4.p4.2.m2.1.1.1" xref="S3.SS4.p4.2.m2.1.1.1.cmml">⁢</mo><msub id="S3.SS4.p4.2.m2.1.1.3" xref="S3.SS4.p4.2.m2.1.1.3.cmml"><mi id="S3.SS4.p4.2.m2.1.1.3.2" xref="S3.SS4.p4.2.m2.1.1.3.2.cmml">D</mi><mi id="S3.SS4.p4.2.m2.1.1.3.3" xref="S3.SS4.p4.2.m2.1.1.3.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.2.m2.1b"><apply id="S3.SS4.p4.2.m2.1.1.cmml" xref="S3.SS4.p4.2.m2.1.1"><times id="S3.SS4.p4.2.m2.1.1.1.cmml" xref="S3.SS4.p4.2.m2.1.1.1"></times><ci id="S3.SS4.p4.2.m2.1.1.2.cmml" xref="S3.SS4.p4.2.m2.1.1.2">𝐼</ci><apply id="S3.SS4.p4.2.m2.1.1.3.cmml" xref="S3.SS4.p4.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p4.2.m2.1.1.3.1.cmml" xref="S3.SS4.p4.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS4.p4.2.m2.1.1.3.2.cmml" xref="S3.SS4.p4.2.m2.1.1.3.2">𝐷</ci><ci id="S3.SS4.p4.2.m2.1.1.3.3.cmml" xref="S3.SS4.p4.2.m2.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.2.m2.1c">ID_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.2.m2.1d">italic_I italic_D start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math>, natural language description <math alttext="T_{k}" class="ltx_Math" display="inline" id="S3.SS4.p4.3.m3.1"><semantics id="S3.SS4.p4.3.m3.1a"><msub id="S3.SS4.p4.3.m3.1.1" xref="S3.SS4.p4.3.m3.1.1.cmml"><mi id="S3.SS4.p4.3.m3.1.1.2" xref="S3.SS4.p4.3.m3.1.1.2.cmml">T</mi><mi id="S3.SS4.p4.3.m3.1.1.3" xref="S3.SS4.p4.3.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.3.m3.1b"><apply id="S3.SS4.p4.3.m3.1.1.cmml" xref="S3.SS4.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.3.m3.1.1.1.cmml" xref="S3.SS4.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS4.p4.3.m3.1.1.2.cmml" xref="S3.SS4.p4.3.m3.1.1.2">𝑇</ci><ci id="S3.SS4.p4.3.m3.1.1.3.cmml" xref="S3.SS4.p4.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.3.m3.1c">T_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.3.m3.1d">italic_T start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> and critique <math alttext="S_{k}" class="ltx_Math" display="inline" id="S3.SS4.p4.4.m4.1"><semantics id="S3.SS4.p4.4.m4.1a"><msub id="S3.SS4.p4.4.m4.1.1" xref="S3.SS4.p4.4.m4.1.1.cmml"><mi id="S3.SS4.p4.4.m4.1.1.2" xref="S3.SS4.p4.4.m4.1.1.2.cmml">S</mi><mi id="S3.SS4.p4.4.m4.1.1.3" xref="S3.SS4.p4.4.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.4.m4.1b"><apply id="S3.SS4.p4.4.m4.1.1.cmml" xref="S3.SS4.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.4.m4.1.1.1.cmml" xref="S3.SS4.p4.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.p4.4.m4.1.1.2.cmml" xref="S3.SS4.p4.4.m4.1.1.2">𝑆</ci><ci id="S3.SS4.p4.4.m4.1.1.3.cmml" xref="S3.SS4.p4.4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.4.m4.1c">S_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.4.m4.1d">italic_S start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math>, we compute the modified item contextual representation <math alttext="t_{k}" class="ltx_Math" display="inline" id="S3.SS4.p4.5.m5.1"><semantics id="S3.SS4.p4.5.m5.1a"><msub id="S3.SS4.p4.5.m5.1.1" xref="S3.SS4.p4.5.m5.1.1.cmml"><mi id="S3.SS4.p4.5.m5.1.1.2" xref="S3.SS4.p4.5.m5.1.1.2.cmml">t</mi><mi id="S3.SS4.p4.5.m5.1.1.3" xref="S3.SS4.p4.5.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.5.m5.1b"><apply id="S3.SS4.p4.5.m5.1.1.cmml" xref="S3.SS4.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.5.m5.1.1.1.cmml" xref="S3.SS4.p4.5.m5.1.1">subscript</csymbol><ci id="S3.SS4.p4.5.m5.1.1.2.cmml" xref="S3.SS4.p4.5.m5.1.1.2">𝑡</ci><ci id="S3.SS4.p4.5.m5.1.1.3.cmml" xref="S3.SS4.p4.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.5.m5.1c">t_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.5.m5.1d">italic_t start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> and augmented item representation <math alttext="c_{k}" class="ltx_Math" display="inline" id="S3.SS4.p4.6.m6.1"><semantics id="S3.SS4.p4.6.m6.1a"><msub id="S3.SS4.p4.6.m6.1.1" xref="S3.SS4.p4.6.m6.1.1.cmml"><mi id="S3.SS4.p4.6.m6.1.1.2" xref="S3.SS4.p4.6.m6.1.1.2.cmml">c</mi><mi id="S3.SS4.p4.6.m6.1.1.3" xref="S3.SS4.p4.6.m6.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.6.m6.1b"><apply id="S3.SS4.p4.6.m6.1.1.cmml" xref="S3.SS4.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.6.m6.1.1.1.cmml" xref="S3.SS4.p4.6.m6.1.1">subscript</csymbol><ci id="S3.SS4.p4.6.m6.1.1.2.cmml" xref="S3.SS4.p4.6.m6.1.1.2">𝑐</ci><ci id="S3.SS4.p4.6.m6.1.1.3.cmml" xref="S3.SS4.p4.6.m6.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.6.m6.1c">c_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.6.m6.1d">italic_c start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> with critiquing text as</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A3.EGx1">
<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle T^{\prime}_{k}" class="ltx_Math" display="inline" id="S3.E3.m1.1"><semantics id="S3.E3.m1.1a"><msubsup id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml"><mi id="S3.E3.m1.1.1.2.2" xref="S3.E3.m1.1.1.2.2.cmml">T</mi><mi id="S3.E3.m1.1.1.3" xref="S3.E3.m1.1.1.3.cmml">k</mi><mo id="S3.E3.m1.1.1.2.3" xref="S3.E3.m1.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.E3.m1.1b"><apply id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.cmml" xref="S3.E3.m1.1.1">subscript</csymbol><apply id="S3.E3.m1.1.1.2.cmml" xref="S3.E3.m1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.2.1.cmml" xref="S3.E3.m1.1.1">superscript</csymbol><ci id="S3.E3.m1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.2.2">𝑇</ci><ci id="S3.E3.m1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.2.3">′</ci></apply><ci id="S3.E3.m1.1.1.3.cmml" xref="S3.E3.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.1c">\displaystyle T^{\prime}_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.1d">italic_T start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=LLM(T_{k})+\theta_{T}" class="ltx_Math" display="inline" id="S3.E3.m2.1"><semantics id="S3.E3.m2.1a"><mrow id="S3.E3.m2.1.1" xref="S3.E3.m2.1.1.cmml"><mi id="S3.E3.m2.1.1.3" xref="S3.E3.m2.1.1.3.cmml"></mi><mo id="S3.E3.m2.1.1.2" xref="S3.E3.m2.1.1.2.cmml">=</mo><mrow id="S3.E3.m2.1.1.1" xref="S3.E3.m2.1.1.1.cmml"><mrow id="S3.E3.m2.1.1.1.1" xref="S3.E3.m2.1.1.1.1.cmml"><mi id="S3.E3.m2.1.1.1.1.3" xref="S3.E3.m2.1.1.1.1.3.cmml">L</mi><mo id="S3.E3.m2.1.1.1.1.2" xref="S3.E3.m2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E3.m2.1.1.1.1.4" xref="S3.E3.m2.1.1.1.1.4.cmml">L</mi><mo id="S3.E3.m2.1.1.1.1.2a" xref="S3.E3.m2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E3.m2.1.1.1.1.5" xref="S3.E3.m2.1.1.1.1.5.cmml">M</mi><mo id="S3.E3.m2.1.1.1.1.2b" xref="S3.E3.m2.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3.m2.1.1.1.1.1.1" xref="S3.E3.m2.1.1.1.1.1.1.1.cmml"><mo id="S3.E3.m2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m2.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E3.m2.1.1.1.1.1.1.1" xref="S3.E3.m2.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m2.1.1.1.1.1.1.1.2" xref="S3.E3.m2.1.1.1.1.1.1.1.2.cmml">T</mi><mi id="S3.E3.m2.1.1.1.1.1.1.1.3" xref="S3.E3.m2.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.E3.m2.1.1.1.1.1.1.3" stretchy="false" xref="S3.E3.m2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m2.1.1.1.2" xref="S3.E3.m2.1.1.1.2.cmml">+</mo><msub id="S3.E3.m2.1.1.1.3" xref="S3.E3.m2.1.1.1.3.cmml"><mi id="S3.E3.m2.1.1.1.3.2" xref="S3.E3.m2.1.1.1.3.2.cmml">θ</mi><mi id="S3.E3.m2.1.1.1.3.3" xref="S3.E3.m2.1.1.1.3.3.cmml">T</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m2.1b"><apply id="S3.E3.m2.1.1.cmml" xref="S3.E3.m2.1.1"><eq id="S3.E3.m2.1.1.2.cmml" xref="S3.E3.m2.1.1.2"></eq><csymbol cd="latexml" id="S3.E3.m2.1.1.3.cmml" xref="S3.E3.m2.1.1.3">absent</csymbol><apply id="S3.E3.m2.1.1.1.cmml" xref="S3.E3.m2.1.1.1"><plus id="S3.E3.m2.1.1.1.2.cmml" xref="S3.E3.m2.1.1.1.2"></plus><apply id="S3.E3.m2.1.1.1.1.cmml" xref="S3.E3.m2.1.1.1.1"><times id="S3.E3.m2.1.1.1.1.2.cmml" xref="S3.E3.m2.1.1.1.1.2"></times><ci id="S3.E3.m2.1.1.1.1.3.cmml" xref="S3.E3.m2.1.1.1.1.3">𝐿</ci><ci id="S3.E3.m2.1.1.1.1.4.cmml" xref="S3.E3.m2.1.1.1.1.4">𝐿</ci><ci id="S3.E3.m2.1.1.1.1.5.cmml" xref="S3.E3.m2.1.1.1.1.5">𝑀</ci><apply id="S3.E3.m2.1.1.1.1.1.1.1.cmml" xref="S3.E3.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m2.1.1.1.1.1.1.1.2">𝑇</ci><ci id="S3.E3.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m2.1.1.1.1.1.1.1.3">𝑘</ci></apply></apply><apply id="S3.E3.m2.1.1.1.3.cmml" xref="S3.E3.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m2.1.1.1.3.1.cmml" xref="S3.E3.m2.1.1.1.3">subscript</csymbol><ci id="S3.E3.m2.1.1.1.3.2.cmml" xref="S3.E3.m2.1.1.1.3.2">𝜃</ci><ci id="S3.E3.m2.1.1.1.3.3.cmml" xref="S3.E3.m2.1.1.1.3.3">𝑇</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m2.1c">\displaystyle=LLM(T_{k})+\theta_{T}</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m2.1d">= italic_L italic_L italic_M ( italic_T start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) + italic_θ start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle S^{\prime}_{k}" class="ltx_Math" display="inline" id="S3.E4.m1.1"><semantics id="S3.E4.m1.1a"><msubsup id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml"><mi id="S3.E4.m1.1.1.2.2" xref="S3.E4.m1.1.1.2.2.cmml">S</mi><mi id="S3.E4.m1.1.1.3" xref="S3.E4.m1.1.1.3.cmml">k</mi><mo id="S3.E4.m1.1.1.2.3" xref="S3.E4.m1.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.E4.m1.1b"><apply id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.cmml" xref="S3.E4.m1.1.1">subscript</csymbol><apply id="S3.E4.m1.1.1.2.cmml" xref="S3.E4.m1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.2.1.cmml" xref="S3.E4.m1.1.1">superscript</csymbol><ci id="S3.E4.m1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.2.2">𝑆</ci><ci id="S3.E4.m1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.2.3">′</ci></apply><ci id="S3.E4.m1.1.1.3.cmml" xref="S3.E4.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.1c">\displaystyle S^{\prime}_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.1d">italic_S start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=LLM(S_{k})+\theta_{S}" class="ltx_Math" display="inline" id="S3.E4.m2.1"><semantics id="S3.E4.m2.1a"><mrow id="S3.E4.m2.1.1" xref="S3.E4.m2.1.1.cmml"><mi id="S3.E4.m2.1.1.3" xref="S3.E4.m2.1.1.3.cmml"></mi><mo id="S3.E4.m2.1.1.2" xref="S3.E4.m2.1.1.2.cmml">=</mo><mrow id="S3.E4.m2.1.1.1" xref="S3.E4.m2.1.1.1.cmml"><mrow id="S3.E4.m2.1.1.1.1" xref="S3.E4.m2.1.1.1.1.cmml"><mi id="S3.E4.m2.1.1.1.1.3" xref="S3.E4.m2.1.1.1.1.3.cmml">L</mi><mo id="S3.E4.m2.1.1.1.1.2" xref="S3.E4.m2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E4.m2.1.1.1.1.4" xref="S3.E4.m2.1.1.1.1.4.cmml">L</mi><mo id="S3.E4.m2.1.1.1.1.2a" xref="S3.E4.m2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E4.m2.1.1.1.1.5" xref="S3.E4.m2.1.1.1.1.5.cmml">M</mi><mo id="S3.E4.m2.1.1.1.1.2b" xref="S3.E4.m2.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E4.m2.1.1.1.1.1.1" xref="S3.E4.m2.1.1.1.1.1.1.1.cmml"><mo id="S3.E4.m2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E4.m2.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E4.m2.1.1.1.1.1.1.1" xref="S3.E4.m2.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m2.1.1.1.1.1.1.1.2" xref="S3.E4.m2.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S3.E4.m2.1.1.1.1.1.1.1.3" xref="S3.E4.m2.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.E4.m2.1.1.1.1.1.1.3" stretchy="false" xref="S3.E4.m2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m2.1.1.1.2" xref="S3.E4.m2.1.1.1.2.cmml">+</mo><msub id="S3.E4.m2.1.1.1.3" xref="S3.E4.m2.1.1.1.3.cmml"><mi id="S3.E4.m2.1.1.1.3.2" xref="S3.E4.m2.1.1.1.3.2.cmml">θ</mi><mi id="S3.E4.m2.1.1.1.3.3" xref="S3.E4.m2.1.1.1.3.3.cmml">S</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m2.1b"><apply id="S3.E4.m2.1.1.cmml" xref="S3.E4.m2.1.1"><eq id="S3.E4.m2.1.1.2.cmml" xref="S3.E4.m2.1.1.2"></eq><csymbol cd="latexml" id="S3.E4.m2.1.1.3.cmml" xref="S3.E4.m2.1.1.3">absent</csymbol><apply id="S3.E4.m2.1.1.1.cmml" xref="S3.E4.m2.1.1.1"><plus id="S3.E4.m2.1.1.1.2.cmml" xref="S3.E4.m2.1.1.1.2"></plus><apply id="S3.E4.m2.1.1.1.1.cmml" xref="S3.E4.m2.1.1.1.1"><times id="S3.E4.m2.1.1.1.1.2.cmml" xref="S3.E4.m2.1.1.1.1.2"></times><ci id="S3.E4.m2.1.1.1.1.3.cmml" xref="S3.E4.m2.1.1.1.1.3">𝐿</ci><ci id="S3.E4.m2.1.1.1.1.4.cmml" xref="S3.E4.m2.1.1.1.1.4">𝐿</ci><ci id="S3.E4.m2.1.1.1.1.5.cmml" xref="S3.E4.m2.1.1.1.1.5">𝑀</ci><apply id="S3.E4.m2.1.1.1.1.1.1.1.cmml" xref="S3.E4.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m2.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S3.E4.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m2.1.1.1.1.1.1.1.3">𝑘</ci></apply></apply><apply id="S3.E4.m2.1.1.1.3.cmml" xref="S3.E4.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m2.1.1.1.3.1.cmml" xref="S3.E4.m2.1.1.1.3">subscript</csymbol><ci id="S3.E4.m2.1.1.1.3.2.cmml" xref="S3.E4.m2.1.1.1.3.2">𝜃</ci><ci id="S3.E4.m2.1.1.1.3.3.cmml" xref="S3.E4.m2.1.1.1.3.3">𝑆</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m2.1c">\displaystyle=LLM(S_{k})+\theta_{S}</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m2.1d">= italic_L italic_L italic_M ( italic_S start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) + italic_θ start_POSTSUBSCRIPT italic_S end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle t_{k}" class="ltx_Math" display="inline" id="S3.E5.m1.1"><semantics id="S3.E5.m1.1a"><msub id="S3.E5.m1.1.1" xref="S3.E5.m1.1.1.cmml"><mi id="S3.E5.m1.1.1.2" xref="S3.E5.m1.1.1.2.cmml">t</mi><mi id="S3.E5.m1.1.1.3" xref="S3.E5.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.1.cmml" xref="S3.E5.m1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.cmml" xref="S3.E5.m1.1.1">subscript</csymbol><ci id="S3.E5.m1.1.1.2.cmml" xref="S3.E5.m1.1.1.2">𝑡</ci><ci id="S3.E5.m1.1.1.3.cmml" xref="S3.E5.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">\displaystyle t_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.1d">italic_t start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=Linear(Perceiver([S^{{}^{\prime}}_{k};T^{{}^{\prime}}_{k}]))" class="ltx_Math" display="inline" id="S3.E5.m2.1"><semantics id="S3.E5.m2.1a"><mrow id="S3.E5.m2.1.1" xref="S3.E5.m2.1.1.cmml"><mi id="S3.E5.m2.1.1.3" xref="S3.E5.m2.1.1.3.cmml"></mi><mo id="S3.E5.m2.1.1.2" xref="S3.E5.m2.1.1.2.cmml">=</mo><mrow id="S3.E5.m2.1.1.1" xref="S3.E5.m2.1.1.1.cmml"><mi id="S3.E5.m2.1.1.1.3" xref="S3.E5.m2.1.1.1.3.cmml">L</mi><mo id="S3.E5.m2.1.1.1.2" xref="S3.E5.m2.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.4" xref="S3.E5.m2.1.1.1.4.cmml">i</mi><mo id="S3.E5.m2.1.1.1.2a" xref="S3.E5.m2.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.5" xref="S3.E5.m2.1.1.1.5.cmml">n</mi><mo id="S3.E5.m2.1.1.1.2b" xref="S3.E5.m2.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.6" xref="S3.E5.m2.1.1.1.6.cmml">e</mi><mo id="S3.E5.m2.1.1.1.2c" xref="S3.E5.m2.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.7" xref="S3.E5.m2.1.1.1.7.cmml">a</mi><mo id="S3.E5.m2.1.1.1.2d" xref="S3.E5.m2.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.8" xref="S3.E5.m2.1.1.1.8.cmml">r</mi><mo id="S3.E5.m2.1.1.1.2e" xref="S3.E5.m2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E5.m2.1.1.1.1.1" xref="S3.E5.m2.1.1.1.1.1.1.cmml"><mo id="S3.E5.m2.1.1.1.1.1.2" stretchy="false" xref="S3.E5.m2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m2.1.1.1.1.1.1" xref="S3.E5.m2.1.1.1.1.1.1.cmml"><mi id="S3.E5.m2.1.1.1.1.1.1.3" xref="S3.E5.m2.1.1.1.1.1.1.3.cmml">P</mi><mo id="S3.E5.m2.1.1.1.1.1.1.2" xref="S3.E5.m2.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.1.1.1.4" xref="S3.E5.m2.1.1.1.1.1.1.4.cmml">e</mi><mo id="S3.E5.m2.1.1.1.1.1.1.2a" xref="S3.E5.m2.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.1.1.1.5" xref="S3.E5.m2.1.1.1.1.1.1.5.cmml">r</mi><mo id="S3.E5.m2.1.1.1.1.1.1.2b" xref="S3.E5.m2.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.1.1.1.6" xref="S3.E5.m2.1.1.1.1.1.1.6.cmml">c</mi><mo id="S3.E5.m2.1.1.1.1.1.1.2c" xref="S3.E5.m2.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.1.1.1.7" xref="S3.E5.m2.1.1.1.1.1.1.7.cmml">e</mi><mo id="S3.E5.m2.1.1.1.1.1.1.2d" xref="S3.E5.m2.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.1.1.1.8" xref="S3.E5.m2.1.1.1.1.1.1.8.cmml">i</mi><mo id="S3.E5.m2.1.1.1.1.1.1.2e" xref="S3.E5.m2.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.1.1.1.9" xref="S3.E5.m2.1.1.1.1.1.1.9.cmml">v</mi><mo id="S3.E5.m2.1.1.1.1.1.1.2f" xref="S3.E5.m2.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.1.1.1.10" xref="S3.E5.m2.1.1.1.1.1.1.10.cmml">e</mi><mo id="S3.E5.m2.1.1.1.1.1.1.2g" xref="S3.E5.m2.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m2.1.1.1.1.1.1.11" xref="S3.E5.m2.1.1.1.1.1.1.11.cmml">r</mi><mo id="S3.E5.m2.1.1.1.1.1.1.2h" xref="S3.E5.m2.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E5.m2.1.1.1.1.1.1.1.1" xref="S3.E5.m2.1.1.1.1.1.1.cmml"><mo id="S3.E5.m2.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E5.m2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.3.cmml"><mo id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.3" stretchy="false" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.3.cmml">[</mo><msubsup id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">S</mi><mi id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.3.cmml">k</mi><msup id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.3a" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml"></mi><mo id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">′</mo></msup></msubsup><mo id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.4" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.3.cmml">;</mo><msubsup id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">T</mi><mi id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.3.cmml">k</mi><msup id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.3a" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml"></mi><mo id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.3.1" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml">′</mo></msup></msubsup><mo id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.5" stretchy="false" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.3.cmml">]</mo></mrow><mo id="S3.E5.m2.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E5.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m2.1.1.1.1.1.3" stretchy="false" xref="S3.E5.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m2.1b"><apply id="S3.E5.m2.1.1.cmml" xref="S3.E5.m2.1.1"><eq id="S3.E5.m2.1.1.2.cmml" xref="S3.E5.m2.1.1.2"></eq><csymbol cd="latexml" id="S3.E5.m2.1.1.3.cmml" xref="S3.E5.m2.1.1.3">absent</csymbol><apply id="S3.E5.m2.1.1.1.cmml" xref="S3.E5.m2.1.1.1"><times id="S3.E5.m2.1.1.1.2.cmml" xref="S3.E5.m2.1.1.1.2"></times><ci id="S3.E5.m2.1.1.1.3.cmml" xref="S3.E5.m2.1.1.1.3">𝐿</ci><ci id="S3.E5.m2.1.1.1.4.cmml" xref="S3.E5.m2.1.1.1.4">𝑖</ci><ci id="S3.E5.m2.1.1.1.5.cmml" xref="S3.E5.m2.1.1.1.5">𝑛</ci><ci id="S3.E5.m2.1.1.1.6.cmml" xref="S3.E5.m2.1.1.1.6">𝑒</ci><ci id="S3.E5.m2.1.1.1.7.cmml" xref="S3.E5.m2.1.1.1.7">𝑎</ci><ci id="S3.E5.m2.1.1.1.8.cmml" xref="S3.E5.m2.1.1.1.8">𝑟</ci><apply id="S3.E5.m2.1.1.1.1.1.1.cmml" xref="S3.E5.m2.1.1.1.1.1"><times id="S3.E5.m2.1.1.1.1.1.1.2.cmml" xref="S3.E5.m2.1.1.1.1.1.1.2"></times><ci id="S3.E5.m2.1.1.1.1.1.1.3.cmml" xref="S3.E5.m2.1.1.1.1.1.1.3">𝑃</ci><ci id="S3.E5.m2.1.1.1.1.1.1.4.cmml" xref="S3.E5.m2.1.1.1.1.1.1.4">𝑒</ci><ci id="S3.E5.m2.1.1.1.1.1.1.5.cmml" xref="S3.E5.m2.1.1.1.1.1.1.5">𝑟</ci><ci id="S3.E5.m2.1.1.1.1.1.1.6.cmml" xref="S3.E5.m2.1.1.1.1.1.1.6">𝑐</ci><ci id="S3.E5.m2.1.1.1.1.1.1.7.cmml" xref="S3.E5.m2.1.1.1.1.1.1.7">𝑒</ci><ci id="S3.E5.m2.1.1.1.1.1.1.8.cmml" xref="S3.E5.m2.1.1.1.1.1.1.8">𝑖</ci><ci id="S3.E5.m2.1.1.1.1.1.1.9.cmml" xref="S3.E5.m2.1.1.1.1.1.1.9">𝑣</ci><ci id="S3.E5.m2.1.1.1.1.1.1.10.cmml" xref="S3.E5.m2.1.1.1.1.1.1.10">𝑒</ci><ci id="S3.E5.m2.1.1.1.1.1.1.11.cmml" xref="S3.E5.m2.1.1.1.1.1.1.11">𝑟</ci><list id="S3.E5.m2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2"><apply id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.2">𝑆</ci><apply id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.3"><ci id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.2.3.1">′</ci></apply></apply><ci id="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2">subscript</csymbol><apply id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2">superscript</csymbol><ci id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.2">𝑇</ci><apply id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.3"><ci id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.2.3.1">′</ci></apply></apply><ci id="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E5.m2.1.1.1.1.1.1.1.1.1.2.2.3">𝑘</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m2.1c">\displaystyle=Linear(Perceiver([S^{{}^{\prime}}_{k};T^{{}^{\prime}}_{k}]))</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m2.1d">= italic_L italic_i italic_n italic_e italic_a italic_r ( italic_P italic_e italic_r italic_c italic_e italic_i italic_v italic_e italic_r ( [ italic_S start_POSTSUPERSCRIPT start_FLOATSUPERSCRIPT ′ end_FLOATSUPERSCRIPT end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ; italic_T start_POSTSUPERSCRIPT start_FLOATSUPERSCRIPT ′ end_FLOATSUPERSCRIPT end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ] ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle c_{k}" class="ltx_Math" display="inline" id="S3.E6.m1.1"><semantics id="S3.E6.m1.1a"><msub id="S3.E6.m1.1.1" xref="S3.E6.m1.1.1.cmml"><mi id="S3.E6.m1.1.1.2" xref="S3.E6.m1.1.1.2.cmml">c</mi><mi id="S3.E6.m1.1.1.3" xref="S3.E6.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.E6.m1.1b"><apply id="S3.E6.m1.1.1.cmml" xref="S3.E6.m1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.cmml" xref="S3.E6.m1.1.1">subscript</csymbol><ci id="S3.E6.m1.1.1.2.cmml" xref="S3.E6.m1.1.1.2">𝑐</ci><ci id="S3.E6.m1.1.1.3.cmml" xref="S3.E6.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.1c">\displaystyle c_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.1d">italic_c start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=t_{k}+e_{k}" class="ltx_Math" display="inline" id="S3.E6.m2.1"><semantics id="S3.E6.m2.1a"><mrow id="S3.E6.m2.1.1" xref="S3.E6.m2.1.1.cmml"><mi id="S3.E6.m2.1.1.2" xref="S3.E6.m2.1.1.2.cmml"></mi><mo id="S3.E6.m2.1.1.1" xref="S3.E6.m2.1.1.1.cmml">=</mo><mrow id="S3.E6.m2.1.1.3" xref="S3.E6.m2.1.1.3.cmml"><msub id="S3.E6.m2.1.1.3.2" xref="S3.E6.m2.1.1.3.2.cmml"><mi id="S3.E6.m2.1.1.3.2.2" xref="S3.E6.m2.1.1.3.2.2.cmml">t</mi><mi id="S3.E6.m2.1.1.3.2.3" xref="S3.E6.m2.1.1.3.2.3.cmml">k</mi></msub><mo id="S3.E6.m2.1.1.3.1" xref="S3.E6.m2.1.1.3.1.cmml">+</mo><msub id="S3.E6.m2.1.1.3.3" xref="S3.E6.m2.1.1.3.3.cmml"><mi id="S3.E6.m2.1.1.3.3.2" xref="S3.E6.m2.1.1.3.3.2.cmml">e</mi><mi id="S3.E6.m2.1.1.3.3.3" xref="S3.E6.m2.1.1.3.3.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m2.1b"><apply id="S3.E6.m2.1.1.cmml" xref="S3.E6.m2.1.1"><eq id="S3.E6.m2.1.1.1.cmml" xref="S3.E6.m2.1.1.1"></eq><csymbol cd="latexml" id="S3.E6.m2.1.1.2.cmml" xref="S3.E6.m2.1.1.2">absent</csymbol><apply id="S3.E6.m2.1.1.3.cmml" xref="S3.E6.m2.1.1.3"><plus id="S3.E6.m2.1.1.3.1.cmml" xref="S3.E6.m2.1.1.3.1"></plus><apply id="S3.E6.m2.1.1.3.2.cmml" xref="S3.E6.m2.1.1.3.2"><csymbol cd="ambiguous" id="S3.E6.m2.1.1.3.2.1.cmml" xref="S3.E6.m2.1.1.3.2">subscript</csymbol><ci id="S3.E6.m2.1.1.3.2.2.cmml" xref="S3.E6.m2.1.1.3.2.2">𝑡</ci><ci id="S3.E6.m2.1.1.3.2.3.cmml" xref="S3.E6.m2.1.1.3.2.3">𝑘</ci></apply><apply id="S3.E6.m2.1.1.3.3.cmml" xref="S3.E6.m2.1.1.3.3"><csymbol cd="ambiguous" id="S3.E6.m2.1.1.3.3.1.cmml" xref="S3.E6.m2.1.1.3.3">subscript</csymbol><ci id="S3.E6.m2.1.1.3.3.2.cmml" xref="S3.E6.m2.1.1.3.3.2">𝑒</ci><ci id="S3.E6.m2.1.1.3.3.3.cmml" xref="S3.E6.m2.1.1.3.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m2.1c">\displaystyle=t_{k}+e_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m2.1d">= italic_t start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT + italic_e start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.p4.16">where <math alttext="\theta_{T}" class="ltx_Math" display="inline" id="S3.SS4.p4.7.m1.1"><semantics id="S3.SS4.p4.7.m1.1a"><msub id="S3.SS4.p4.7.m1.1.1" xref="S3.SS4.p4.7.m1.1.1.cmml"><mi id="S3.SS4.p4.7.m1.1.1.2" xref="S3.SS4.p4.7.m1.1.1.2.cmml">θ</mi><mi id="S3.SS4.p4.7.m1.1.1.3" xref="S3.SS4.p4.7.m1.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.7.m1.1b"><apply id="S3.SS4.p4.7.m1.1.1.cmml" xref="S3.SS4.p4.7.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.7.m1.1.1.1.cmml" xref="S3.SS4.p4.7.m1.1.1">subscript</csymbol><ci id="S3.SS4.p4.7.m1.1.1.2.cmml" xref="S3.SS4.p4.7.m1.1.1.2">𝜃</ci><ci id="S3.SS4.p4.7.m1.1.1.3.cmml" xref="S3.SS4.p4.7.m1.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.7.m1.1c">\theta_{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.7.m1.1d">italic_θ start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\theta_{C}" class="ltx_Math" display="inline" id="S3.SS4.p4.8.m2.1"><semantics id="S3.SS4.p4.8.m2.1a"><msub id="S3.SS4.p4.8.m2.1.1" xref="S3.SS4.p4.8.m2.1.1.cmml"><mi id="S3.SS4.p4.8.m2.1.1.2" xref="S3.SS4.p4.8.m2.1.1.2.cmml">θ</mi><mi id="S3.SS4.p4.8.m2.1.1.3" xref="S3.SS4.p4.8.m2.1.1.3.cmml">C</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.8.m2.1b"><apply id="S3.SS4.p4.8.m2.1.1.cmml" xref="S3.SS4.p4.8.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.8.m2.1.1.1.cmml" xref="S3.SS4.p4.8.m2.1.1">subscript</csymbol><ci id="S3.SS4.p4.8.m2.1.1.2.cmml" xref="S3.SS4.p4.8.m2.1.1.2">𝜃</ci><ci id="S3.SS4.p4.8.m2.1.1.3.cmml" xref="S3.SS4.p4.8.m2.1.1.3">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.8.m2.1c">\theta_{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.8.m2.1d">italic_θ start_POSTSUBSCRIPT italic_C end_POSTSUBSCRIPT</annotation></semantics></math> are type embeddings to denote text and critiquing as distinct types, “<span class="ltx_text ltx_markedasmath" id="S3.SS4.p4.16.1">;</span>” denotes concatenation, and “<math alttext="+" class="ltx_Math" display="inline" id="S3.SS4.p4.10.m4.1"><semantics id="S3.SS4.p4.10.m4.1a"><mo id="S3.SS4.p4.10.m4.1.1" xref="S3.SS4.p4.10.m4.1.1.cmml">+</mo><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.10.m4.1b"><plus id="S3.SS4.p4.10.m4.1.1.cmml" xref="S3.SS4.p4.10.m4.1.1"></plus></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.10.m4.1c">+</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.10.m4.1d">+</annotation></semantics></math>” denotes vector addition, and <math alttext="e_{k}" class="ltx_Math" display="inline" id="S3.SS4.p4.11.m5.1"><semantics id="S3.SS4.p4.11.m5.1a"><msub id="S3.SS4.p4.11.m5.1.1" xref="S3.SS4.p4.11.m5.1.1.cmml"><mi id="S3.SS4.p4.11.m5.1.1.2" xref="S3.SS4.p4.11.m5.1.1.2.cmml">e</mi><mi id="S3.SS4.p4.11.m5.1.1.3" xref="S3.SS4.p4.11.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.11.m5.1b"><apply id="S3.SS4.p4.11.m5.1.1.cmml" xref="S3.SS4.p4.11.m5.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.11.m5.1.1.1.cmml" xref="S3.SS4.p4.11.m5.1.1">subscript</csymbol><ci id="S3.SS4.p4.11.m5.1.1.2.cmml" xref="S3.SS4.p4.11.m5.1.1.2">𝑒</ci><ci id="S3.SS4.p4.11.m5.1.1.3.cmml" xref="S3.SS4.p4.11.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.11.m5.1c">e_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.11.m5.1d">italic_e start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> is the embedding for item <math alttext="ID_{k}" class="ltx_Math" display="inline" id="S3.SS4.p4.12.m6.1"><semantics id="S3.SS4.p4.12.m6.1a"><mrow id="S3.SS4.p4.12.m6.1.1" xref="S3.SS4.p4.12.m6.1.1.cmml"><mi id="S3.SS4.p4.12.m6.1.1.2" xref="S3.SS4.p4.12.m6.1.1.2.cmml">I</mi><mo id="S3.SS4.p4.12.m6.1.1.1" xref="S3.SS4.p4.12.m6.1.1.1.cmml">⁢</mo><msub id="S3.SS4.p4.12.m6.1.1.3" xref="S3.SS4.p4.12.m6.1.1.3.cmml"><mi id="S3.SS4.p4.12.m6.1.1.3.2" xref="S3.SS4.p4.12.m6.1.1.3.2.cmml">D</mi><mi id="S3.SS4.p4.12.m6.1.1.3.3" xref="S3.SS4.p4.12.m6.1.1.3.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.12.m6.1b"><apply id="S3.SS4.p4.12.m6.1.1.cmml" xref="S3.SS4.p4.12.m6.1.1"><times id="S3.SS4.p4.12.m6.1.1.1.cmml" xref="S3.SS4.p4.12.m6.1.1.1"></times><ci id="S3.SS4.p4.12.m6.1.1.2.cmml" xref="S3.SS4.p4.12.m6.1.1.2">𝐼</ci><apply id="S3.SS4.p4.12.m6.1.1.3.cmml" xref="S3.SS4.p4.12.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p4.12.m6.1.1.3.1.cmml" xref="S3.SS4.p4.12.m6.1.1.3">subscript</csymbol><ci id="S3.SS4.p4.12.m6.1.1.3.2.cmml" xref="S3.SS4.p4.12.m6.1.1.3.2">𝐷</ci><ci id="S3.SS4.p4.12.m6.1.1.3.3.cmml" xref="S3.SS4.p4.12.m6.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.12.m6.1c">ID_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.12.m6.1d">italic_I italic_D start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math>. When masking items for training or during inference, we replace <math alttext="T^{\prime}_{k}" class="ltx_Math" display="inline" id="S3.SS4.p4.13.m7.1"><semantics id="S3.SS4.p4.13.m7.1a"><msubsup id="S3.SS4.p4.13.m7.1.1" xref="S3.SS4.p4.13.m7.1.1.cmml"><mi id="S3.SS4.p4.13.m7.1.1.2.2" xref="S3.SS4.p4.13.m7.1.1.2.2.cmml">T</mi><mi id="S3.SS4.p4.13.m7.1.1.3" xref="S3.SS4.p4.13.m7.1.1.3.cmml">k</mi><mo id="S3.SS4.p4.13.m7.1.1.2.3" xref="S3.SS4.p4.13.m7.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.13.m7.1b"><apply id="S3.SS4.p4.13.m7.1.1.cmml" xref="S3.SS4.p4.13.m7.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.13.m7.1.1.1.cmml" xref="S3.SS4.p4.13.m7.1.1">subscript</csymbol><apply id="S3.SS4.p4.13.m7.1.1.2.cmml" xref="S3.SS4.p4.13.m7.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.13.m7.1.1.2.1.cmml" xref="S3.SS4.p4.13.m7.1.1">superscript</csymbol><ci id="S3.SS4.p4.13.m7.1.1.2.2.cmml" xref="S3.SS4.p4.13.m7.1.1.2.2">𝑇</ci><ci id="S3.SS4.p4.13.m7.1.1.2.3.cmml" xref="S3.SS4.p4.13.m7.1.1.2.3">′</ci></apply><ci id="S3.SS4.p4.13.m7.1.1.3.cmml" xref="S3.SS4.p4.13.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.13.m7.1c">T^{\prime}_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.13.m7.1d">italic_T start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="e_{k}" class="ltx_Math" display="inline" id="S3.SS4.p4.14.m8.1"><semantics id="S3.SS4.p4.14.m8.1a"><msub id="S3.SS4.p4.14.m8.1.1" xref="S3.SS4.p4.14.m8.1.1.cmml"><mi id="S3.SS4.p4.14.m8.1.1.2" xref="S3.SS4.p4.14.m8.1.1.2.cmml">e</mi><mi id="S3.SS4.p4.14.m8.1.1.3" xref="S3.SS4.p4.14.m8.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.14.m8.1b"><apply id="S3.SS4.p4.14.m8.1.1.cmml" xref="S3.SS4.p4.14.m8.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.14.m8.1.1.1.cmml" xref="S3.SS4.p4.14.m8.1.1">subscript</csymbol><ci id="S3.SS4.p4.14.m8.1.1.2.cmml" xref="S3.SS4.p4.14.m8.1.1.2">𝑒</ci><ci id="S3.SS4.p4.14.m8.1.1.3.cmml" xref="S3.SS4.p4.14.m8.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.14.m8.1c">e_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.14.m8.1d">italic_e start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> at the desired positions with <math alttext="\langle mask\rangle" class="ltx_Math" display="inline" id="S3.SS4.p4.15.m9.1"><semantics id="S3.SS4.p4.15.m9.1a"><mrow id="S3.SS4.p4.15.m9.1.1.1" xref="S3.SS4.p4.15.m9.1.1.2.cmml"><mo id="S3.SS4.p4.15.m9.1.1.1.2" stretchy="false" xref="S3.SS4.p4.15.m9.1.1.2.1.cmml">⟨</mo><mrow id="S3.SS4.p4.15.m9.1.1.1.1" xref="S3.SS4.p4.15.m9.1.1.1.1.cmml"><mi id="S3.SS4.p4.15.m9.1.1.1.1.2" xref="S3.SS4.p4.15.m9.1.1.1.1.2.cmml">m</mi><mo id="S3.SS4.p4.15.m9.1.1.1.1.1" xref="S3.SS4.p4.15.m9.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS4.p4.15.m9.1.1.1.1.3" xref="S3.SS4.p4.15.m9.1.1.1.1.3.cmml">a</mi><mo id="S3.SS4.p4.15.m9.1.1.1.1.1a" xref="S3.SS4.p4.15.m9.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS4.p4.15.m9.1.1.1.1.4" xref="S3.SS4.p4.15.m9.1.1.1.1.4.cmml">s</mi><mo id="S3.SS4.p4.15.m9.1.1.1.1.1b" xref="S3.SS4.p4.15.m9.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS4.p4.15.m9.1.1.1.1.5" xref="S3.SS4.p4.15.m9.1.1.1.1.5.cmml">k</mi></mrow><mo id="S3.SS4.p4.15.m9.1.1.1.3" stretchy="false" xref="S3.SS4.p4.15.m9.1.1.2.1.cmml">⟩</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.15.m9.1b"><apply id="S3.SS4.p4.15.m9.1.1.2.cmml" xref="S3.SS4.p4.15.m9.1.1.1"><csymbol cd="latexml" id="S3.SS4.p4.15.m9.1.1.2.1.cmml" xref="S3.SS4.p4.15.m9.1.1.1.2">delimited-⟨⟩</csymbol><apply id="S3.SS4.p4.15.m9.1.1.1.1.cmml" xref="S3.SS4.p4.15.m9.1.1.1.1"><times id="S3.SS4.p4.15.m9.1.1.1.1.1.cmml" xref="S3.SS4.p4.15.m9.1.1.1.1.1"></times><ci id="S3.SS4.p4.15.m9.1.1.1.1.2.cmml" xref="S3.SS4.p4.15.m9.1.1.1.1.2">𝑚</ci><ci id="S3.SS4.p4.15.m9.1.1.1.1.3.cmml" xref="S3.SS4.p4.15.m9.1.1.1.1.3">𝑎</ci><ci id="S3.SS4.p4.15.m9.1.1.1.1.4.cmml" xref="S3.SS4.p4.15.m9.1.1.1.1.4">𝑠</ci><ci id="S3.SS4.p4.15.m9.1.1.1.1.5.cmml" xref="S3.SS4.p4.15.m9.1.1.1.1.5">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.15.m9.1c">\langle mask\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.15.m9.1d">⟨ italic_m italic_a italic_s italic_k ⟩</annotation></semantics></math> embeddings, allowing the model to utilize <math alttext="S^{\prime}" class="ltx_Math" display="inline" id="S3.SS4.p4.16.m10.1"><semantics id="S3.SS4.p4.16.m10.1a"><msup id="S3.SS4.p4.16.m10.1.1" xref="S3.SS4.p4.16.m10.1.1.cmml"><mi id="S3.SS4.p4.16.m10.1.1.2" xref="S3.SS4.p4.16.m10.1.1.2.cmml">S</mi><mo id="S3.SS4.p4.16.m10.1.1.3" xref="S3.SS4.p4.16.m10.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.16.m10.1b"><apply id="S3.SS4.p4.16.m10.1.1.cmml" xref="S3.SS4.p4.16.m10.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.16.m10.1.1.1.cmml" xref="S3.SS4.p4.16.m10.1.1">superscript</csymbol><ci id="S3.SS4.p4.16.m10.1.1.2.cmml" xref="S3.SS4.p4.16.m10.1.1.2">𝑆</ci><ci id="S3.SS4.p4.16.m10.1.1.3.cmml" xref="S3.SS4.p4.16.m10.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.16.m10.1c">S^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.16.m10.1d">italic_S start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> as a hint. By treating critique text as a separate input modality, we hypothesize that the model can learn the connection between critique text and item context.
Note that critiquing is applied with Flare through an optional additional input to the Perceiver model, which can be omitted.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5 </span>Training</h3>
<div class="ltx_para" id="S3.SS5.p1">
<p class="ltx_p" id="S3.SS5.p1.5">We train our model using MLM loss by masking items in the user’s sequence with 15% probability, ensuring that at least one item is masked. For the total loss, we use a weighted sum of MLM loss and the ID-Text contrastive loss:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{total}=\alpha\mathcal{L}_{MLM}+(1-\alpha)\mathcal{L}_{c}" class="ltx_Math" display="block" id="S3.E7.m1.1"><semantics id="S3.E7.m1.1a"><mrow id="S3.E7.m1.1.1" xref="S3.E7.m1.1.1.cmml"><msub id="S3.E7.m1.1.1.3" xref="S3.E7.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.1.1.3.2" xref="S3.E7.m1.1.1.3.2.cmml">ℒ</mi><mrow id="S3.E7.m1.1.1.3.3" xref="S3.E7.m1.1.1.3.3.cmml"><mi id="S3.E7.m1.1.1.3.3.2" xref="S3.E7.m1.1.1.3.3.2.cmml">t</mi><mo id="S3.E7.m1.1.1.3.3.1" xref="S3.E7.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E7.m1.1.1.3.3.3" xref="S3.E7.m1.1.1.3.3.3.cmml">o</mi><mo id="S3.E7.m1.1.1.3.3.1a" xref="S3.E7.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E7.m1.1.1.3.3.4" xref="S3.E7.m1.1.1.3.3.4.cmml">t</mi><mo id="S3.E7.m1.1.1.3.3.1b" xref="S3.E7.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E7.m1.1.1.3.3.5" xref="S3.E7.m1.1.1.3.3.5.cmml">a</mi><mo id="S3.E7.m1.1.1.3.3.1c" xref="S3.E7.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E7.m1.1.1.3.3.6" xref="S3.E7.m1.1.1.3.3.6.cmml">l</mi></mrow></msub><mo id="S3.E7.m1.1.1.2" xref="S3.E7.m1.1.1.2.cmml">=</mo><mrow id="S3.E7.m1.1.1.1" xref="S3.E7.m1.1.1.1.cmml"><mrow id="S3.E7.m1.1.1.1.3" xref="S3.E7.m1.1.1.1.3.cmml"><mi id="S3.E7.m1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.3.2.cmml">α</mi><mo id="S3.E7.m1.1.1.1.3.1" xref="S3.E7.m1.1.1.1.3.1.cmml">⁢</mo><msub id="S3.E7.m1.1.1.1.3.3" xref="S3.E7.m1.1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.1.1.1.3.3.2" xref="S3.E7.m1.1.1.1.3.3.2.cmml">ℒ</mi><mrow id="S3.E7.m1.1.1.1.3.3.3" xref="S3.E7.m1.1.1.1.3.3.3.cmml"><mi id="S3.E7.m1.1.1.1.3.3.3.2" xref="S3.E7.m1.1.1.1.3.3.3.2.cmml">M</mi><mo id="S3.E7.m1.1.1.1.3.3.3.1" xref="S3.E7.m1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E7.m1.1.1.1.3.3.3.3" xref="S3.E7.m1.1.1.1.3.3.3.3.cmml">L</mi><mo id="S3.E7.m1.1.1.1.3.3.3.1a" xref="S3.E7.m1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E7.m1.1.1.1.3.3.3.4" xref="S3.E7.m1.1.1.1.3.3.3.4.cmml">M</mi></mrow></msub></mrow><mo id="S3.E7.m1.1.1.1.2" xref="S3.E7.m1.1.1.1.2.cmml">+</mo><mrow id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml"><mrow id="S3.E7.m1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E7.m1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E7.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.cmml"><mn id="S3.E7.m1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E7.m1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S3.E7.m1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.1.3.cmml">α</mi></mrow><mo id="S3.E7.m1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E7.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E7.m1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.2.cmml">⁢</mo><msub id="S3.E7.m1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.1.3.2.cmml">ℒ</mi><mi id="S3.E7.m1.1.1.1.1.3.3" xref="S3.E7.m1.1.1.1.1.3.3.cmml">c</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.1b"><apply id="S3.E7.m1.1.1.cmml" xref="S3.E7.m1.1.1"><eq id="S3.E7.m1.1.1.2.cmml" xref="S3.E7.m1.1.1.2"></eq><apply id="S3.E7.m1.1.1.3.cmml" xref="S3.E7.m1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.3">subscript</csymbol><ci id="S3.E7.m1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.3.2">ℒ</ci><apply id="S3.E7.m1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.3.3"><times id="S3.E7.m1.1.1.3.3.1.cmml" xref="S3.E7.m1.1.1.3.3.1"></times><ci id="S3.E7.m1.1.1.3.3.2.cmml" xref="S3.E7.m1.1.1.3.3.2">𝑡</ci><ci id="S3.E7.m1.1.1.3.3.3.cmml" xref="S3.E7.m1.1.1.3.3.3">𝑜</ci><ci id="S3.E7.m1.1.1.3.3.4.cmml" xref="S3.E7.m1.1.1.3.3.4">𝑡</ci><ci id="S3.E7.m1.1.1.3.3.5.cmml" xref="S3.E7.m1.1.1.3.3.5">𝑎</ci><ci id="S3.E7.m1.1.1.3.3.6.cmml" xref="S3.E7.m1.1.1.3.3.6">𝑙</ci></apply></apply><apply id="S3.E7.m1.1.1.1.cmml" xref="S3.E7.m1.1.1.1"><plus id="S3.E7.m1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.2"></plus><apply id="S3.E7.m1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.3"><times id="S3.E7.m1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.3.1"></times><ci id="S3.E7.m1.1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.1.3.2">𝛼</ci><apply id="S3.E7.m1.1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.3.3.1.cmml" xref="S3.E7.m1.1.1.1.3.3">subscript</csymbol><ci id="S3.E7.m1.1.1.1.3.3.2.cmml" xref="S3.E7.m1.1.1.1.3.3.2">ℒ</ci><apply id="S3.E7.m1.1.1.1.3.3.3.cmml" xref="S3.E7.m1.1.1.1.3.3.3"><times id="S3.E7.m1.1.1.1.3.3.3.1.cmml" xref="S3.E7.m1.1.1.1.3.3.3.1"></times><ci id="S3.E7.m1.1.1.1.3.3.3.2.cmml" xref="S3.E7.m1.1.1.1.3.3.3.2">𝑀</ci><ci id="S3.E7.m1.1.1.1.3.3.3.3.cmml" xref="S3.E7.m1.1.1.1.3.3.3.3">𝐿</ci><ci id="S3.E7.m1.1.1.1.3.3.3.4.cmml" xref="S3.E7.m1.1.1.1.3.3.3.4">𝑀</ci></apply></apply></apply><apply id="S3.E7.m1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1"><times id="S3.E7.m1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.2"></times><apply id="S3.E7.m1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1"><minus id="S3.E7.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1"></minus><cn id="S3.E7.m1.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S3.E7.m1.1.1.1.1.1.1.1.2">1</cn><ci id="S3.E7.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.3">𝛼</ci></apply><apply id="S3.E7.m1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.3">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.1.1.3.2">ℒ</ci><ci id="S3.E7.m1.1.1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.1.1.3.3">𝑐</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.1c">\mathcal{L}_{total}=\alpha\mathcal{L}_{MLM}+(1-\alpha)\mathcal{L}_{c}</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m1.1d">caligraphic_L start_POSTSUBSCRIPT italic_t italic_o italic_t italic_a italic_l end_POSTSUBSCRIPT = italic_α caligraphic_L start_POSTSUBSCRIPT italic_M italic_L italic_M end_POSTSUBSCRIPT + ( 1 - italic_α ) caligraphic_L start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS5.p1.4">controlled by the hyper-parameter <math alttext="\alpha" class="ltx_Math" display="inline" id="S3.SS5.p1.1.m1.1"><semantics id="S3.SS5.p1.1.m1.1a"><mi id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><ci id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.1.m1.1d">italic_α</annotation></semantics></math>, which we found setting <math alttext="\alpha=0.5" class="ltx_Math" display="inline" id="S3.SS5.p1.2.m2.1"><semantics id="S3.SS5.p1.2.m2.1a"><mrow id="S3.SS5.p1.2.m2.1.1" xref="S3.SS5.p1.2.m2.1.1.cmml"><mi id="S3.SS5.p1.2.m2.1.1.2" xref="S3.SS5.p1.2.m2.1.1.2.cmml">α</mi><mo id="S3.SS5.p1.2.m2.1.1.1" xref="S3.SS5.p1.2.m2.1.1.1.cmml">=</mo><mn id="S3.SS5.p1.2.m2.1.1.3" xref="S3.SS5.p1.2.m2.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.2.m2.1b"><apply id="S3.SS5.p1.2.m2.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1"><eq id="S3.SS5.p1.2.m2.1.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1.1"></eq><ci id="S3.SS5.p1.2.m2.1.1.2.cmml" xref="S3.SS5.p1.2.m2.1.1.2">𝛼</ci><cn id="S3.SS5.p1.2.m2.1.1.3.cmml" type="float" xref="S3.SS5.p1.2.m2.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.2.m2.1c">\alpha=0.5</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.2.m2.1d">italic_α = 0.5</annotation></semantics></math> yielded optimal results. For the contrastive loss, we utilize a softmax temperature of <math alttext="\tau=0.3" class="ltx_Math" display="inline" id="S3.SS5.p1.3.m3.1"><semantics id="S3.SS5.p1.3.m3.1a"><mrow id="S3.SS5.p1.3.m3.1.1" xref="S3.SS5.p1.3.m3.1.1.cmml"><mi id="S3.SS5.p1.3.m3.1.1.2" xref="S3.SS5.p1.3.m3.1.1.2.cmml">τ</mi><mo id="S3.SS5.p1.3.m3.1.1.1" xref="S3.SS5.p1.3.m3.1.1.1.cmml">=</mo><mn id="S3.SS5.p1.3.m3.1.1.3" xref="S3.SS5.p1.3.m3.1.1.3.cmml">0.3</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.3.m3.1b"><apply id="S3.SS5.p1.3.m3.1.1.cmml" xref="S3.SS5.p1.3.m3.1.1"><eq id="S3.SS5.p1.3.m3.1.1.1.cmml" xref="S3.SS5.p1.3.m3.1.1.1"></eq><ci id="S3.SS5.p1.3.m3.1.1.2.cmml" xref="S3.SS5.p1.3.m3.1.1.2">𝜏</ci><cn id="S3.SS5.p1.3.m3.1.1.3.cmml" type="float" xref="S3.SS5.p1.3.m3.1.1.3">0.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.3.m3.1c">\tau=0.3</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.3.m3.1d">italic_τ = 0.3</annotation></semantics></math> and softmax additive margin term of <math alttext="m=0.2" class="ltx_Math" display="inline" id="S3.SS5.p1.4.m4.1"><semantics id="S3.SS5.p1.4.m4.1a"><mrow id="S3.SS5.p1.4.m4.1.1" xref="S3.SS5.p1.4.m4.1.1.cmml"><mi id="S3.SS5.p1.4.m4.1.1.2" xref="S3.SS5.p1.4.m4.1.1.2.cmml">m</mi><mo id="S3.SS5.p1.4.m4.1.1.1" xref="S3.SS5.p1.4.m4.1.1.1.cmml">=</mo><mn id="S3.SS5.p1.4.m4.1.1.3" xref="S3.SS5.p1.4.m4.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.4.m4.1b"><apply id="S3.SS5.p1.4.m4.1.1.cmml" xref="S3.SS5.p1.4.m4.1.1"><eq id="S3.SS5.p1.4.m4.1.1.1.cmml" xref="S3.SS5.p1.4.m4.1.1.1"></eq><ci id="S3.SS5.p1.4.m4.1.1.2.cmml" xref="S3.SS5.p1.4.m4.1.1.2">𝑚</ci><cn id="S3.SS5.p1.4.m4.1.1.3.cmml" type="float" xref="S3.SS5.p1.4.m4.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.4.m4.1c">m=0.2</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.p1.4.m4.1d">italic_m = 0.2</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Results</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">This section investigates the following research questions:</p>
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.1">RQ1</span>:
Do the previously reported Bert4Rec baseline models have potential for further performance gains through tuning?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.1.1">RQ2</span>: Can simple models like Flare scale to large item count datasets?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i3.p1.1.1">RQ3</span>: Can Flare relate textual critique commands to sequential user signals?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i4.p1">
<p class="ltx_p" id="S4.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i4.p1.1.1">RQ4</span>: Can Flare adapt to critique commands that are out of sequence?</p>
</div>
</li>
</ul>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Datasets</h3>
<figure class="ltx_table" id="S4.T1">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S4.T1.1.1.1.1">Dataset</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S4.T1.1.1.1.2"># Users</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S4.T1.1.1.1.3"># Items</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" id="S4.T1.1.1.1.4">Avg. Length</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.1.2.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T1.1.2.1.1">Games</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T1.1.2.1.2">55 132</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T1.1.2.1.3">17 389</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.1.2.1.4">8.99</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.3.2.1">Office</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.3.2.2">101 357</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.3.2.3">27 932</td>
<td class="ltx_td ltx_align_left" id="S4.T1.1.3.2.4">7.87</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.4.3">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.4.3.1">Scientific</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.4.3.2">11 011</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.4.3.3">5 327</td>
<td class="ltx_td ltx_align_left" id="S4.T1.1.4.3.4">6.97</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.5.4">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.5.4.1">Music</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.5.4.2">27 525</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.5.4.3">10 611</td>
<td class="ltx_td ltx_align_left" id="S4.T1.1.5.4.4">8.4</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.6.5">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.6.5.1">Arts</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.6.5.2">56 110</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.6.5.3">22 855</td>
<td class="ltx_td ltx_align_left" id="S4.T1.1.6.5.4">8.77</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.7.6">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.7.6.1">Pets</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.7.6.2">47 569</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.1.7.6.3">37 970</td>
<td class="ltx_td ltx_align_left" id="S4.T1.1.7.6.4">8.84</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.8.7">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.1.8.7.1">Clothing</td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.1.8.7.2">1 219 592</td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.1.8.7.3">376 843</td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S4.T1.1.8.7.4">9.2</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Amazon product reviews dataset statistics</figcaption>
</figure>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">We use datasets from Amazon Product Reviews <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">ni-etal</span>)</cite> to evaluate our model. Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4.T1" title="Table 1 ‣ 4.1 Datasets ‣ 4 Results ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_tag">1</span></a> shows the statistics<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>We observed that the statistics from the downloaded Recformer datasets differ from the statistics reported in the Recformer paper, most notably the Games dataset.</span></span></span> for the datasets.</p>
</div>
<section class="ltx_subsubsection" id="S4.SS1.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Amazon Product Reviews</h4>
<div class="ltx_para" id="S4.SS1.SSSx1.p1">
<p class="ltx_p" id="S4.SS1.SSSx1.p1.1">The Amazon Product Reviews dataset contains 233.1 million reviews from May 1996 to October 2018, covering 29 categories ranging from Office Supplies to Video Games. Each review includes item features (title, description, category, price) and review features (text, timestamp, score, summary). User sequences can be created by sorting each user review by timestamp, creating a sequential recommendation task with the goal of predicting what the user will review next.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx1.p2">
<p class="ltx_p" id="S4.SS1.SSSx1.p2.1">We compare our results to Recformer (<cite class="ltx_cite ltx_citemacro_citet"><span class="ltx_ref ltx_missing_citation ltx_ref_self">recformer</span></cite>). To enable fair comparison, we use the six dataset splits provided in Recformer: “Video Games”, “Office Supplies”, “Industrial and Scientific”, “Arts, Crafts and Sewing”, “Pet Supplies” and “Musical Instruments.” Each item has at least five reviews, and every user has given at least five reviews. We use the same preprocessing procedure as Recformer, which includes trimming the user sequences to a max length of 51; training on all sequences, regardless of length; and, evaluating on only sequences with 4 or more items for validation and test. Recformer associates and trains each item with the category, title, and brand features.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx1.p3">
<p class="ltx_p" id="S4.SS1.SSSx1.p3.1">In addition to the six “small” datasets above, we also evaluate on one medium-sized dataset, “Clothing, Shoes and Jewelry,” which contains 378k items. The preprocessing procedure is the same as before, but rather than trim, we filter all user sequences with more than 50 items and items with a missing title. We associate and train each item to the category and item features. Notably, this dataset is approximately 9x larger than the largest small dataset. Statistics for this dataset too can be found in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4.T1" title="Table 1 ‣ 4.1 Datasets ‣ 4 Results ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Experimental Setup</h3>
<section class="ltx_subsubsection" id="S4.SS2.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Baselines</h4>
<div class="ltx_para" id="S4.SS2.SSSx1.p1">
<p class="ltx_p" id="S4.SS2.SSSx1.p1.1">We compare Flare Text + ID against two classes of state-of-the-art sequential recommenders:</p>
<ol class="ltx_enumerate" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1">ID only models, like
Bert4Rec <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">bert4rec</span>)</cite>, which utilizes a transformer-based approach with BERT-style <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">bert</span>)</cite> masked language-model training for item sequences. We present updated baseline results after extensive tuning, which we call Flare ID. We emphasize that Flare ID is a Bert4Rec model, with our hyper-parameter tuning.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1">Text-only models, specifically Recformer <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">recformer</span>)</cite>, which departs from using explicit item ID representations and proposes a text-based representation using learned key-value pairs.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1">Hybrid Text + ID models, specifically S<sup class="ltx_sup" id="S4.I2.i3.p1.1.1">3</sup>Rec <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">s3rec</span>)</cite>, which utilizes self-supervised pre-training tasks to align items and attributes through mutual information maximization.</p>
</div>
</li>
</ol>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSSx2">
<h4 class="ltx_title ltx_title_subsubsection">Evaluation Settings</h4>
<figure class="ltx_table" id="S4.SS2.SSSx2.2">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<div class="ltx_inline-block ltx_figure_panel ltx_transformed_outer" id="S4.SS2.SSSx2.2.3" style="width:227.6pt;height:124.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-34.5pt,18.9pt) scale(0.767247090347566,0.767247090347566) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.SS2.SSSx2.2.3.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.3.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.1.1.1">Params</th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.1.1.2">Games</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.1.1.3">Office</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.1.1.4">Scient.</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.1.1.5">Music</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.1.1.6">Arts</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.1.1.7">Pets</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.3.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.2.2.1"># Layers</th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.2.2.2">2</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.2.2.3">2</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.2.2.4">4</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.2.2.5">8</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.2.2.6">2</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.SS2.SSSx2.2.3.1.2.2.7">2</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.3.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.3.3.1"># Heads</th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.3.3.2">2</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.3.3.3">2</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.3.3.4">16</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.3.3.5">8</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.3.3.6">8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.SS2.SSSx2.2.3.1.3.3.7">16</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.3.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.4.4.1">Model Dims</th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.4.4.2">64</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.4.4.3">64</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.4.4.4">512</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.4.4.5">256</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.4.4.6">768</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.SS2.SSSx2.2.3.1.4.4.7">1024</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.3.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.5.5.1">Hidden Dims</th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.5.5.2">256</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.5.5.3">256</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.5.5.4">2048</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.5.5.5">1024</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.5.5.6">3072</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.SS2.SSSx2.2.3.1.5.5.7">4096</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.3.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.6.6.1">Learning Rate</th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.6.6.2">1e-3</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.6.6.3">1e-3</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.6.6.4">1e-4</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.6.6.5">1e-5</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.6.6.6">1e-4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.SS2.SSSx2.2.3.1.6.6.7">1e-4</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.3.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.7.7.1">Batch</th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.7.7.2">1</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.7.7.3">1</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.7.7.4">16</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.7.7.5">16</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.7.7.6">16</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.SS2.SSSx2.2.3.1.7.7.7">32</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.3.1.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.8.8.1" rowspan="2">
<span class="ltx_text" id="S4.SS2.SSSx2.2.3.1.8.8.1.1">Total </span>
Steps</th>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.8.8.2"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.8.8.3"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.8.8.4"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.8.8.5"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.3.1.8.8.6"></td>
<td class="ltx_td ltx_border_t" id="S4.SS2.SSSx2.2.3.1.8.8.7"></td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.3.1.9.9">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.SS2.SSSx2.2.3.1.9.9.1">50K</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.SS2.SSSx2.2.3.1.9.9.2">50K</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.SS2.SSSx2.2.3.1.9.9.3">50K</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.SS2.SSSx2.2.3.1.9.9.4">50K</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.SS2.SSSx2.2.3.1.9.9.5">50K</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.SS2.SSSx2.2.3.1.9.9.6">10K</td>
</tr>
</tbody>
</table>
</span></div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>Hyper-Parameters for Flare ID (tuned Bert4Rec)</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_table ltx_figure_panel" id="S4.SS2.SSSx2.2.2">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<div class="ltx_inline-block ltx_figure_panel ltx_transformed_outer" id="S4.SS2.SSSx2.2.2.3" style="width:227.6pt;height:216.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-47.1pt,44.8pt) scale(0.707441051996525,0.707441051996525) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.SS2.SSSx2.2.2.3.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.1.1.1">Params</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.1.1.2">Games</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.1.1.3">Office</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.1.1.4">Scient.</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.1.1.5">Music</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.1.1.6">Arts</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.1.1.7">Pets</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.2.2">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.2.2.1"># Layers</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.2.2.2">8</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.2.2.3">2</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.2.2.4">2</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.2.2.5">2</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.2.2.6">4</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.SS2.SSSx2.2.2.3.1.2.2.7">2</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.3.3">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.3.3.1"># Heads</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.3.3.2">16</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.3.3.3">4</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.3.3.4">8</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.3.3.5">2</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.3.3.6">4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.3.3.7">8</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.4.4">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.4.4.1">Model Dims</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.4.4.2">1024</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.4.4.3">768</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.4.4.4">256</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.4.4.5">1024</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.4.4.6">512</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.4.4.7">256</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.5.5">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.5.5.1">Hidden Dims</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.5.5.2">4096</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.5.5.3">3072</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.5.5.4">1024</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.5.5.5">4096</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.5.5.6">2048</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.5.5.7">1024</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.6.6">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.6.6.1">Learning Rate</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.6.6.2">1e-4</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.6.6.3">1e-4</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.6.6.4">1e-4</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.6.6.5">1e-5</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.6.6.6">1e-4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.6.6.7">1e-4</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.7.7">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.7.7.1">Batch</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.7.7.2">2</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.7.7.3">16</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.7.7.4">8</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.7.7.5">2</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.7.7.6">8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.7.7.7">16</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.8.8">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.8.8.1" rowspan="2">
<span class="ltx_text" id="S4.SS2.SSSx2.2.2.3.1.8.8.1.1">Total </span>
Steps</td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.8.8.2"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.8.8.3"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.8.8.4"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.8.8.5"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.8.8.6"></td>
<td class="ltx_td ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.8.8.7"></td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.9.9">
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.9.9.1">5K</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.9.9.2">5K</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.9.9.3">5</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.9.9.4">25K</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.9.9.5">10K</td>
<td class="ltx_td ltx_align_center" id="S4.SS2.SSSx2.2.2.3.1.9.9.6">25K</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.10.10">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.10.10.1" rowspan="2">
<span class="ltx_text" id="S4.SS2.SSSx2.2.2.3.1.10.10.1.1">Perceiver </span>
#Heads</td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.10.10.2"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.10.10.3"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.10.10.4"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.10.10.5"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.10.10.6"></td>
<td class="ltx_td ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.10.10.7"></td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.11.11">
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.11.11.1">16</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.11.11.2">16</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.11.11.3">8</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.11.11.4">8</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.11.11.5">2</td>
<td class="ltx_td ltx_align_center" id="S4.SS2.SSSx2.2.2.3.1.11.11.6">8</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.12.12">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.12.12.1" rowspan="2">
<span class="ltx_text" id="S4.SS2.SSSx2.2.2.3.1.12.12.1.1">Perceiver </span>
#Layers</td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.12.12.2"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.12.12.3"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.12.12.4"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.12.12.5"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.12.12.6"></td>
<td class="ltx_td ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.12.12.7"></td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.13.13">
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.13.13.1">8</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.13.13.2">2</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.13.13.3">2</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.13.13.4">8</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.13.13.5">2</td>
<td class="ltx_td ltx_align_center" id="S4.SS2.SSSx2.2.2.3.1.13.13.6">2</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.14.14">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.14.14.1" rowspan="2">
<span class="ltx_text" id="S4.SS2.SSSx2.2.2.3.1.14.14.1.1">Perceiver </span>
#Latents</td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.14.14.2"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.14.14.3"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.14.14.4"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.14.14.5"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.14.14.6"></td>
<td class="ltx_td ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.14.14.7"></td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.15.15">
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.15.15.1">2</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.15.15.2">8</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.15.15.3">2</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.15.15.4">4</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.15.15.5">2</td>
<td class="ltx_td ltx_align_center" id="S4.SS2.SSSx2.2.2.3.1.15.15.6">2</td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.16.16">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.16.16.1" rowspan="2">
<span class="ltx_text" id="S4.SS2.SSSx2.2.2.3.1.16.16.1.1">Weight </span>
Decay</td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.16.16.2"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.16.16.3"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.16.16.4"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.16.16.5"></td>
<td class="ltx_td ltx_border_r ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.16.16.6"></td>
<td class="ltx_td ltx_border_t" id="S4.SS2.SSSx2.2.2.3.1.16.16.7"></td>
</tr>
<tr class="ltx_tr" id="S4.SS2.SSSx2.2.2.3.1.17.17">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.17.17.1">1e-3</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.17.17.2">1e-2</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.17.17.3">1e-3</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.17.17.4">1e-3</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.SS2.SSSx2.2.2.3.1.17.17.5">1e-3</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.SS2.SSSx2.2.2.3.1.17.17.6">1e-3</td>
</tr>
</tbody>
</table>
</span></div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Hyper-Parameters for for Flare T+ID</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel" id="S4.SS2.SSSx2.2.2.4">Following prior work <cite class="ltx_cite ltx_citemacro_citep">(<span class="ltx_ref ltx_missing_citation ltx_ref_self">recformer</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">lc-rec</span>; <span class="ltx_ref ltx_missing_citation ltx_ref_self">bert4rec</span>)</cite>, we adopt the leave-one-out strategy for evaluation. We reserve each user’s penultimate and last items for validation and test, respectively, using the rest of the user sequence for train.</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel" id="S4.SS2.SSSx2.2.2.5">Since training sequences can be of varying length (Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4.T1" title="Table 1 ‣ 4.1 Datasets ‣ 4 Results ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_tag">1</span></a>), we pack multiple training sequences into a single input example such that each packed example is as close to the same size as possible. Then, during training, we restrict attention to just the items within the same sequence. This allows us to maximize the throughput of our hardware and avoid wasteful computation due to excessive padding tokens. As a result, the effective batch size during training can vary from step to step, depending on the length of the sequences.</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel" id="S4.SS2.SSSx2.2.2.2">For our experiments, we use the Adam optimizer with <math alttext="\beta_{1}=0.9" class="ltx_Math" display="inline" id="S4.SS2.SSSx2.1.1.1.m1.1"><semantics id="S4.SS2.SSSx2.1.1.1.m1.1a"><mrow id="S4.SS2.SSSx2.1.1.1.m1.1.1" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.cmml"><msub id="S4.SS2.SSSx2.1.1.1.m1.1.1.2" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.2.cmml"><mi id="S4.SS2.SSSx2.1.1.1.m1.1.1.2.2" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.2.2.cmml">β</mi><mn id="S4.SS2.SSSx2.1.1.1.m1.1.1.2.3" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="S4.SS2.SSSx2.1.1.1.m1.1.1.1" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS2.SSSx2.1.1.1.m1.1.1.3" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSSx2.1.1.1.m1.1b"><apply id="S4.SS2.SSSx2.1.1.1.m1.1.1.cmml" xref="S4.SS2.SSSx2.1.1.1.m1.1.1"><eq id="S4.SS2.SSSx2.1.1.1.m1.1.1.1.cmml" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.1"></eq><apply id="S4.SS2.SSSx2.1.1.1.m1.1.1.2.cmml" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSSx2.1.1.1.m1.1.1.2.1.cmml" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS2.SSSx2.1.1.1.m1.1.1.2.2.cmml" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.2.2">𝛽</ci><cn id="S4.SS2.SSSx2.1.1.1.m1.1.1.2.3.cmml" type="integer" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.2.3">1</cn></apply><cn id="S4.SS2.SSSx2.1.1.1.m1.1.1.3.cmml" type="float" xref="S4.SS2.SSSx2.1.1.1.m1.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSSx2.1.1.1.m1.1c">\beta_{1}=0.9</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSSx2.1.1.1.m1.1d">italic_β start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 0.9</annotation></semantics></math> and <math alttext="\beta_{2}=0.99" class="ltx_Math" display="inline" id="S4.SS2.SSSx2.2.2.2.m2.1"><semantics id="S4.SS2.SSSx2.2.2.2.m2.1a"><mrow id="S4.SS2.SSSx2.2.2.2.m2.1.1" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.cmml"><msub id="S4.SS2.SSSx2.2.2.2.m2.1.1.2" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.2.cmml"><mi id="S4.SS2.SSSx2.2.2.2.m2.1.1.2.2" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.2.2.cmml">β</mi><mn id="S4.SS2.SSSx2.2.2.2.m2.1.1.2.3" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.2.3.cmml">2</mn></msub><mo id="S4.SS2.SSSx2.2.2.2.m2.1.1.1" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS2.SSSx2.2.2.2.m2.1.1.3" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.3.cmml">0.99</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSSx2.2.2.2.m2.1b"><apply id="S4.SS2.SSSx2.2.2.2.m2.1.1.cmml" xref="S4.SS2.SSSx2.2.2.2.m2.1.1"><eq id="S4.SS2.SSSx2.2.2.2.m2.1.1.1.cmml" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.1"></eq><apply id="S4.SS2.SSSx2.2.2.2.m2.1.1.2.cmml" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSSx2.2.2.2.m2.1.1.2.1.cmml" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS2.SSSx2.2.2.2.m2.1.1.2.2.cmml" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.2.2">𝛽</ci><cn id="S4.SS2.SSSx2.2.2.2.m2.1.1.2.3.cmml" type="integer" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.2.3">2</cn></apply><cn id="S4.SS2.SSSx2.2.2.2.m2.1.1.3.cmml" type="float" xref="S4.SS2.SSSx2.2.2.2.m2.1.1.3">0.99</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSSx2.2.2.2.m2.1c">\beta_{2}=0.99</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSSx2.2.2.2.m2.1d">italic_β start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = 0.99</annotation></semantics></math>. We also performed a hyper-parameter sweep on: the number of the transformer’s layers, heads, model and hidden dimensions, learning rate, batch size, total step count, weight decay, usage of contrastive loss, and number of Perceiver layers, and number of heads and latents for the Perceiver network. Tables <a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4.SS2.SSSx2" title="Evaluation Settings ‣ 4.2 Experimental Setup ‣ 4 Results ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_tag">4.2</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2409.11699v1#S4.SS2.SSSx2" title="Evaluation Settings ‣ 4.2 Experimental Setup ‣ 4 Results ‣ FLARE: Fusing Language Models and Collaborative Architectures for Recommender Enhancement"><span class="ltx_text ltx_ref_tag">4.2</span></a> summarize the best model configurations for each dataset using Recall@10.</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<section class="ltx_subsection ltx_figure_panel" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>RQ1: Flare Performance on Existing Benchmarks</h3>
</section>
</div>
</div>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_table ltx_figure_panel" id="A3.T10">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A3.T10.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A3.T10.1.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" colspan="3" id="A3.T10.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A3.T10.1.1.1.1.1">User Input History</span></td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.2.2.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.2.2.1.1">
<span class="ltx_p" id="A3.T10.1.2.2.1.1.1" style="width:14.2pt;">Seq.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.2.2.2.1">
<span class="ltx_p" id="A3.T10.1.2.2.2.1.1" style="width:242.8pt;">Title</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T10.1.2.2.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.2.2.3.1">
<span class="ltx_p" id="A3.T10.1.2.2.3.1.1" style="width:212.5pt;">Category</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.3.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.3.3.1.1">
<span class="ltx_p" id="A3.T10.1.3.3.1.1.1" style="width:14.2pt;">1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.3.3.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.3.3.2.1">
<span class="ltx_p" id="A3.T10.1.3.3.2.1.1" style="width:242.8pt;">Spectrum Diversified Scroll Mail and Letter Organizer, Wall Mount, Black</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T10.1.3.3.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.3.3.3.1">
<span class="ltx_p" id="A3.T10.1.3.3.3.1.1" style="width:212.5pt;">Office Products - Office&amp; School Supplies - Forms, Recordkeeping &amp; Money Handling - Key Cabinets, Racks &amp; Holders</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.4.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.4.4.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.4.4.1.1">
<span class="ltx_p" id="A3.T10.1.4.4.1.1.1" style="width:14.2pt;">2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.4.4.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.4.4.2.1">
<span class="ltx_p" id="A3.T10.1.4.4.2.1.1" style="width:242.8pt;">Spectrum Diversified Scroll Mail and Letter Organizer, Wall Mount, Black</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.4.4.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.4.4.3.1">
<span class="ltx_p" id="A3.T10.1.4.4.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Forms, Recordkeeping &amp; Money Handling - Key Cabinets, Racks &amp; Holders</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.5.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.5.5.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.5.5.1.1">
<span class="ltx_p" id="A3.T10.1.5.5.1.1.1" style="width:14.2pt;">3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.5.5.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.5.5.2.1">
<span class="ltx_p" id="A3.T10.1.5.5.2.1.1" style="width:242.8pt;">Canon PGI-250/CLI-251 Combo Pack</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.5.5.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.5.5.3.1">
<span class="ltx_p" id="A3.T10.1.5.5.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Printer Ink &amp; Toner - Inkjet Printer Ink</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.6.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.6.6.1.1">
<span class="ltx_p" id="A3.T10.1.6.6.1.1.1" style="width:14.2pt;">4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.6.6.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.6.6.2.1">
<span class="ltx_p" id="A3.T10.1.6.6.2.1.1" style="width:242.8pt;">Arrow Fastener 506 Genuine T50 3/8-Inch Staples, 1250-Pack</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.6.6.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.6.6.3.1">
<span class="ltx_p" id="A3.T10.1.6.6.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches - Staples</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.7.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" colspan="3" id="A3.T10.1.7.7.1"><span class="ltx_text ltx_font_bold" id="A3.T10.1.7.7.1.1">Recommendations using Bert4Rec</span></td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.8.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.8.8.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.8.8.1.1">
<span class="ltx_p" id="A3.T10.1.8.8.1.1.1" style="width:14.2pt;">Rank</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.8.8.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.8.8.2.1">
<span class="ltx_p" id="A3.T10.1.8.8.2.1.1" style="width:242.8pt;">Title</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T10.1.8.8.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.8.8.3.1">
<span class="ltx_p" id="A3.T10.1.8.8.3.1.1" style="width:212.5pt;">Category</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.9.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.9.9.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.9.9.1.1">
<span class="ltx_p" id="A3.T10.1.9.9.1.1.1" style="width:14.2pt;">1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.9.9.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.9.9.2.1">
<span class="ltx_p" id="A3.T10.1.9.9.2.1.1" style="width:242.8pt;">Scotch Thermal Laminator 2 Roller System (TL901C)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T10.1.9.9.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.9.9.3.1">
<span class="ltx_p" id="A3.T10.1.9.9.3.1.1" style="width:212.5pt;">Office Products - Office Electronics - Presentation Products - Laminators</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.10.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.10.10.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.10.10.1.1">
<span class="ltx_p" id="A3.T10.1.10.10.1.1.1" style="width:14.2pt;">2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.10.10.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.10.10.2.1">
<span class="ltx_p" id="A3.T10.1.10.10.2.1.1" style="width:242.8pt;">Spectrum Diversified Scroll Mail and Letter Organizer, Wall Mount, Black</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.10.10.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.10.10.3.1">
<span class="ltx_p" id="A3.T10.1.10.10.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Forms, Recordkeeping &amp; Money Handling - Key Cabinets, Racks &amp; Holders</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.11.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.11.11.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.11.11.1.1">
<span class="ltx_p" id="A3.T10.1.11.11.1.1.1" style="width:14.2pt;">3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.11.11.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.11.11.2.1">
<span class="ltx_p" id="A3.T10.1.11.11.2.1.1" style="width:242.8pt;">Scotch Thermal Laminating Pouches, 8.9 x 11.4-Inches, 3 mil thick, 20-Pack (TP3854-20), Clear</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.11.11.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.11.11.3.1">
<span class="ltx_p" id="A3.T10.1.11.11.3.1.1" style="width:212.5pt;">Office Products - Office Electronics - Presentation Products - Laminating Supplies</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.12.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.12.12.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.12.12.1.1">
<span class="ltx_p" id="A3.T10.1.12.12.1.1.1" style="width:14.2pt;">4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.12.12.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.12.12.2.1">
<span class="ltx_p" id="A3.T10.1.12.12.2.1.1" style="width:242.8pt;">Quartet Dry Erase Board, Whiteboard / White Board, Magnetic, 17” x 23”, Assorted Frame Colors - Color Will Vary, 1 Board (MWDW1723M)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.12.12.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.12.12.3.1">
<span class="ltx_p" id="A3.T10.1.12.12.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Presentation Boards - Dry Erase Boards</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.13.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.13.13.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.13.13.1.1">
<span class="ltx_p" id="A3.T10.1.13.13.1.1.1" style="width:14.2pt;">5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.13.13.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.13.13.2.1">
<span class="ltx_p" id="A3.T10.1.13.13.2.1.1" style="width:242.8pt;">Sakura Pigma 30062 Micron Blister Card Ink Pen Set, Black, Ass’t Point Sizes 6CT Set</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.13.13.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.13.13.3.1">
<span class="ltx_p" id="A3.T10.1.13.13.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Writing &amp; Correction Supplies - Pens &amp; Refills - Calligraphy Pens</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.14.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" colspan="3" id="A3.T10.1.14.14.1"><span class="ltx_text ltx_font_bold" id="A3.T10.1.14.14.1.1">Recommendations using Flare (item ID + textual context)</span></td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.15.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.15.15.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.15.15.1.1">
<span class="ltx_p" id="A3.T10.1.15.15.1.1.1" style="width:14.2pt;">Rank</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.15.15.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.15.15.2.1">
<span class="ltx_p" id="A3.T10.1.15.15.2.1.1" style="width:242.8pt;">Title</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T10.1.15.15.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.15.15.3.1">
<span class="ltx_p" id="A3.T10.1.15.15.3.1.1" style="width:212.5pt;">Category</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.16.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.16.16.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.16.16.1.1">
<span class="ltx_p" id="A3.T10.1.16.16.1.1.1" style="width:14.2pt;">1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.16.16.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.16.16.2.1">
<span class="ltx_p" id="A3.T10.1.16.16.2.1.1" style="width:242.8pt;">Sharpie 37001 Permanent Markers, Ultra Fine Point, Black, 12 Count</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T10.1.16.16.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.16.16.3.1">
<span class="ltx_p" id="A3.T10.1.16.16.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Writing &amp; Correction Supplies - Markers &amp; Highlighters - Permanent Markers</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.17.17">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.17.17.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.17.17.1.1">
<span class="ltx_p" id="A3.T10.1.17.17.1.1.1" style="width:14.2pt;">2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.17.17.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.17.17.2.1">
<span class="ltx_p" id="A3.T10.1.17.17.2.1.1" style="width:242.8pt;">Canon PGI-250XL Pigment Black Ink, Twin Value Pack, Compatible to MG5520, MG6620, MG5420, …</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.17.17.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.17.17.3.1">
<span class="ltx_p" id="A3.T10.1.17.17.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Printer Ink &amp; Toner - Inkjet Printer Ink</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.18.18">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.18.18.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.18.18.1.1">
<span class="ltx_p" id="A3.T10.1.18.18.1.1.1" style="width:14.2pt;">3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.18.18.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.18.18.2.1">
<span class="ltx_p" id="A3.T10.1.18.18.2.1.1" style="width:242.8pt;">Arrow Fastener 506 Genuine T50 3/8-Inch Staples, 1250-Pack</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.18.18.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.18.18.3.1">
<span class="ltx_p" id="A3.T10.1.18.18.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches - Staples</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.19.19">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.19.19.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.19.19.1.1">
<span class="ltx_p" id="A3.T10.1.19.19.1.1.1" style="width:14.2pt;">4.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.19.19.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.19.19.2.1">
<span class="ltx_p" id="A3.T10.1.19.19.2.1.1" style="width:242.8pt;">AT&amp;T CL2940 Corded Phone with Caller ID/Call waiting, Speakerphone, XL Tilt Display, …</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.19.19.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.19.19.3.1">
<span class="ltx_p" id="A3.T10.1.19.19.3.1.1" style="width:212.5pt;">Office Products - Office Electronics - Telephones &amp; Accessories - Landline Phones - Corded Telephones</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.20.20">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.20.20.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.20.20.1.1">
<span class="ltx_p" id="A3.T10.1.20.20.1.1.1" style="width:14.2pt;">5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.20.20.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.20.20.2.1">
<span class="ltx_p" id="A3.T10.1.20.20.2.1.1" style="width:242.8pt;">Pilot G2 Retractable Premium Gel Ink Roller Ball Pens Fine Pt (.7) Dozen Box Red ; Retractable, Refillable &amp; Premium …</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.20.20.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.20.20.3.1">
<span class="ltx_p" id="A3.T10.1.20.20.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Writing &amp; Correction Supplies - Pens &amp; Refills - Rollerball Pens - Gel Ink Rollerball Pens</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.21.21">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" colspan="3" id="A3.T10.1.21.21.1"><span class="ltx_text ltx_font_bold" id="A3.T10.1.21.21.1.1">Recommendations using Flare, with label’s category as critique: <em class="ltx_emph ltx_font_italic" id="A3.T10.1.21.21.1.1.1">Office Products - Office &amp; School Supplies - Staplers &amp; Punches</em></span></td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.22.22">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.22.22.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.22.22.1.1">
<span class="ltx_p" id="A3.T10.1.22.22.1.1.1" style="width:14.2pt;">Rank</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.22.22.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.22.22.2.1">
<span class="ltx_p" id="A3.T10.1.22.22.2.1.1" style="width:242.8pt;">Title</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T10.1.22.22.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.22.22.3.1">
<span class="ltx_p" id="A3.T10.1.22.22.3.1.1" style="width:212.5pt;">Category</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.23.23">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.23.23.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.23.23.1.1">
<span class="ltx_p" id="A3.T10.1.23.23.1.1.1" style="width:14.2pt;">1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T10.1.23.23.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.23.23.2.1">
<span class="ltx_p" id="A3.T10.1.23.23.2.1.1" style="width:242.8pt;">T50 Heavy Duty Staples [Set of 2]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T10.1.23.23.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.23.23.3.1">
<span class="ltx_p" id="A3.T10.1.23.23.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.24.24">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.24.24.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.24.24.1.1">
<span class="ltx_p" id="A3.T10.1.24.24.1.1.1" style="width:14.2pt;">2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.24.24.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.24.24.2.1">
<span class="ltx_p" id="A3.T10.1.24.24.2.1.1" style="width:242.8pt;">Onotio Heavy Duty 100 Sheet High Capacity Office Desk Stapler with 1000 Box Staples</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.24.24.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.24.24.3.1">
<span class="ltx_p" id="A3.T10.1.24.24.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.25.25">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.25.25.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.25.25.1.1">
<span class="ltx_p" id="A3.T10.1.25.25.1.1.1" style="width:14.2pt;">3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.25.25.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.25.25.2.1">
<span class="ltx_p" id="A3.T10.1.25.25.2.1.1" style="width:242.8pt;">Swingline Stapler, Optima 70, Desktop Stapler, 70 Sheet Capacity, Reduced Effort, Half Strip, Silver (87875)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.25.25.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.25.25.3.1">
<span class="ltx_p" id="A3.T10.1.25.25.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.26.26">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.26.26.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.26.26.1.1">
<span class="ltx_p" id="A3.T10.1.26.26.1.1.1" style="width:14.2pt;">4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T10.1.26.26.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.26.26.2.1">
<span class="ltx_p" id="A3.T10.1.26.26.2.1.1" style="width:242.8pt;">1 X Flat Clinch Staples Mini Box of 1000 by MAX No.10</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T10.1.26.26.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.26.26.3.1">
<span class="ltx_p" id="A3.T10.1.26.26.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T10.1.27.27">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A3.T10.1.27.27.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.27.27.1.1">
<span class="ltx_p" id="A3.T10.1.27.27.1.1.1" style="width:14.2pt;">5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A3.T10.1.27.27.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.27.27.2.1">
<span class="ltx_p" id="A3.T10.1.27.27.2.1.1" style="width:242.8pt;">Swingline Automatic Stapler, Breeze, 20 Sheet Capacity, Battery Powered, Color Selected For You (S7042131)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A3.T10.1.27.27.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T10.1.27.27.3.1">
<span class="ltx_p" id="A3.T10.1.27.27.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 10: </span>Example input sequence and recommendations from Bert4Rec, Flare, and Flare with a category-based critiquing input. The critique is the category of the held-out labeled item.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_table ltx_figure_panel" id="A3.T11">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A3.T11.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A3.T11.1.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" colspan="3" id="A3.T11.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A3.T11.1.1.1.1.1">User Input History</span></td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.2.2.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.2.2.1.1">
<span class="ltx_p" id="A3.T11.1.2.2.1.1.1" style="width:14.2pt;">Seq.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.2.2.2.1">
<span class="ltx_p" id="A3.T11.1.2.2.2.1.1" style="width:242.8pt;">Title</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T11.1.2.2.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.2.2.3.1">
<span class="ltx_p" id="A3.T11.1.2.2.3.1.1" style="width:212.5pt;">Category</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.3.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.3.3.1.1">
<span class="ltx_p" id="A3.T11.1.3.3.1.1.1" style="width:14.2pt;">1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.3.3.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.3.3.2.1">
<span class="ltx_p" id="A3.T11.1.3.3.2.1.1" style="width:242.8pt;">Spectrum Diversified Scroll Mail and Letter Organizer, Wall Mount, Black</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T11.1.3.3.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.3.3.3.1">
<span class="ltx_p" id="A3.T11.1.3.3.3.1.1" style="width:212.5pt;">Office Products - Office&amp; School Supplies - Forms, Recordkeeping &amp; Money Handling - Key Cabinets, Racks &amp; Holders</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.4.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.4.4.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.4.4.1.1">
<span class="ltx_p" id="A3.T11.1.4.4.1.1.1" style="width:14.2pt;">2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.4.4.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.4.4.2.1">
<span class="ltx_p" id="A3.T11.1.4.4.2.1.1" style="width:242.8pt;">Spectrum Diversified Scroll Mail and Letter Organizer, Wall Mount, Black</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.4.4.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.4.4.3.1">
<span class="ltx_p" id="A3.T11.1.4.4.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Forms, Recordkeeping &amp; Money Handling - Key Cabinets, Racks &amp; Holders</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.5.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.5.5.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.5.5.1.1">
<span class="ltx_p" id="A3.T11.1.5.5.1.1.1" style="width:14.2pt;">3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.5.5.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.5.5.2.1">
<span class="ltx_p" id="A3.T11.1.5.5.2.1.1" style="width:242.8pt;">Canon PGI-250/CLI-251 Combo Pack</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.5.5.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.5.5.3.1">
<span class="ltx_p" id="A3.T11.1.5.5.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Printer Ink &amp; Toner - Inkjet Printer Ink</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.6.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.6.6.1.1">
<span class="ltx_p" id="A3.T11.1.6.6.1.1.1" style="width:14.2pt;">4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.6.6.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.6.6.2.1">
<span class="ltx_p" id="A3.T11.1.6.6.2.1.1" style="width:242.8pt;">Arrow Fastener 506 Genuine T50 3/8-Inch Staples, 1250-Pack</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.6.6.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.6.6.3.1">
<span class="ltx_p" id="A3.T11.1.6.6.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches - Staples</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.7.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" colspan="3" id="A3.T11.1.7.7.1"><span class="ltx_text ltx_font_bold" id="A3.T11.1.7.7.1.1">Recommendations with alternate in-history category as critique: <em class="ltx_emph ltx_font_italic" id="A3.T11.1.7.7.1.1.1">Forms, Recordkeeping &amp; Money Handling - Key Cabinets, Racks &amp; Holders</em></span></td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.8.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.8.8.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.8.8.1.1">
<span class="ltx_p" id="A3.T11.1.8.8.1.1.1" style="width:14.2pt;">Rank</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.8.8.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.8.8.2.1">
<span class="ltx_p" id="A3.T11.1.8.8.2.1.1" style="width:242.8pt;">Title</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T11.1.8.8.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.8.8.3.1">
<span class="ltx_p" id="A3.T11.1.8.8.3.1.1" style="width:212.5pt;">Category</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.9.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.9.9.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.9.9.1.1">
<span class="ltx_p" id="A3.T11.1.9.9.1.1.1" style="width:14.2pt;">1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.9.9.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.9.9.2.1">
<span class="ltx_p" id="A3.T11.1.9.9.2.1.1" style="width:242.8pt;">Spectrum Diversified Scroll Mail and Letter Organizer, Wall Mount, Black</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T11.1.9.9.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.9.9.3.1">
<span class="ltx_p" id="A3.T11.1.9.9.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Forms, Recordkeeping &amp; Money Handling - Key Cabinets, Racks &amp; Holders</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.10.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.10.10.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.10.10.1.1">
<span class="ltx_p" id="A3.T11.1.10.10.1.1.1" style="width:14.2pt;">2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.10.10.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.10.10.2.1">
<span class="ltx_p" id="A3.T11.1.10.10.2.1.1" style="width:242.8pt;">Lucky Line Designer Pattern Key Identifier Caps, 4 Pack (16304)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.10.10.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.10.10.3.1">
<span class="ltx_p" id="A3.T11.1.10.10.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Forms, Recordkeeping &amp; Money Handling - Key Cabinets, Racks &amp; Holders</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.11.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.11.11.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.11.11.1.1">
<span class="ltx_p" id="A3.T11.1.11.11.1.1.1" style="width:14.2pt;">3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.11.11.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.11.11.2.1">
<span class="ltx_p" id="A3.T11.1.11.11.2.1.1" style="width:242.8pt;">KeyGuard SL-8548-U Dual Access Combination Key Cabinet With Chrome 4-Dial Combi-Cam Ultra - 48 Hook</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.11.11.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.11.11.3.1">
<span class="ltx_p" id="A3.T11.1.11.11.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Forms, Recordkeeping &amp; Money Handling - Key Cabinets, Racks &amp; Holders - Cabinets</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.12.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.12.12.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.12.12.1.1">
<span class="ltx_p" id="A3.T11.1.12.12.1.1.1" style="width:14.2pt;">4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.12.12.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.12.12.2.1">
<span class="ltx_p" id="A3.T11.1.12.12.2.1.1" style="width:242.8pt;">Master Lock Small Lock Box with 20 Key Capacity, 7131D, Beige</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.12.12.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.12.12.3.1">
<span class="ltx_p" id="A3.T11.1.12.12.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Forms, Recordkeeping &amp; Money Handling - Key Cabinets, Racks &amp; Holders - Cabinets</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.13.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.13.13.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.13.13.1.1">
<span class="ltx_p" id="A3.T11.1.13.13.1.1.1" style="width:14.2pt;">5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.13.13.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.13.13.2.1">
<span class="ltx_p" id="A3.T11.1.13.13.2.1.1" style="width:242.8pt;">Security Large Magnetic Hide-A-Key Holder for Over-Sized Keys - Extra-Strong Magnet</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.13.13.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.13.13.3.1">
<span class="ltx_p" id="A3.T11.1.13.13.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Forms, Recordkeeping &amp; Money Handling - Key Cabinets, Racks &amp; Holders - Cabinets</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.14.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" colspan="3" id="A3.T11.1.14.14.1"><span class="ltx_text ltx_font_bold" id="A3.T11.1.14.14.1.1">Recommendations with outside-history category as critique:</span></td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.15.15">
<td class="ltx_td ltx_align_justify ltx_align_top" colspan="3" id="A3.T11.1.15.15.1"><em class="ltx_emph ltx_font_bold ltx_font_italic" id="A3.T11.1.15.15.1.1">Office Products - Office Electronics - PDAs, Handhelds &amp; Accessories - PDA &amp; Handheld Accessories</em></td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.16.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.16.16.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.16.16.1.1">
<span class="ltx_p" id="A3.T11.1.16.16.1.1.1" style="width:14.2pt;">Rank</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.16.16.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.16.16.2.1">
<span class="ltx_p" id="A3.T11.1.16.16.2.1.1" style="width:242.8pt;">Title</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T11.1.16.16.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.16.16.3.1">
<span class="ltx_p" id="A3.T11.1.16.16.3.1.1" style="width:212.5pt;">Category</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.17.17">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.17.17.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.17.17.1.1">
<span class="ltx_p" id="A3.T11.1.17.17.1.1.1" style="width:14.2pt;">1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.17.17.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.17.17.2.1">
<span class="ltx_p" id="A3.T11.1.17.17.2.1.1" style="width:242.8pt;">Kyocera Kona Black (Virgin Mobile)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T11.1.17.17.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.17.17.3.1">
<span class="ltx_p" id="A3.T11.1.17.17.3.1.1" style="width:212.5pt;">Office Products - Office Electronics - PDAs, Handhelds &amp; Accessories - PDA &amp; Handheld Accessories</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.18.18">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.18.18.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.18.18.1.1">
<span class="ltx_p" id="A3.T11.1.18.18.1.1.1" style="width:14.2pt;">2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.18.18.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.18.18.2.1">
<span class="ltx_p" id="A3.T11.1.18.18.2.1.1" style="width:242.8pt;">iPad Pro 9.7 Case, Apple iPad Pro 9.7 Folio Case, roocase Dual View Pro PU Leather Folio Stand Case for Apple iPad PRO 9.7-inch (2016), Black - NOT Compatible with iPad PRO 10.5 and 12.9, Black</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.18.18.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.18.18.3.1">
<span class="ltx_p" id="A3.T11.1.18.18.3.1.1" style="width:212.5pt;">Office Products - Office Electronics - PDAs, Handhelds &amp; Accessories - PDA &amp; Handheld Accessories</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.19.19">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.19.19.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.19.19.1.1">
<span class="ltx_p" id="A3.T11.1.19.19.1.1.1" style="width:14.2pt;">3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.19.19.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.19.19.2.1">
<span class="ltx_p" id="A3.T11.1.19.19.2.1.1" style="width:242.8pt;">Saunders 00497 RhinoSkin Aluminum Hardcase for Palm Tungsten TX/T5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.19.19.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.19.19.3.1">
<span class="ltx_p" id="A3.T11.1.19.19.3.1.1" style="width:212.5pt;">Office Products - Office Electronics - PDAs, Handhelds &amp; Accessories - PDA &amp; Handheld Accessories</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.20.20">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.20.20.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.20.20.1.1">
<span class="ltx_p" id="A3.T11.1.20.20.1.1.1" style="width:14.2pt;">4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.20.20.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.20.20.2.1">
<span class="ltx_p" id="A3.T11.1.20.20.2.1.1" style="width:242.8pt;">ZAGG Folio Case with Backlit Bluetooth Keyboard for Apple iPad Mini Purple-Black (1st Generation Only) Backlit Keyboard and Case</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.20.20.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.20.20.3.1">
<span class="ltx_p" id="A3.T11.1.20.20.3.1.1" style="width:212.5pt;">Office Products - Office Electronics - PDAs, Handhelds &amp; Accessories - PDA &amp; Handheld Accessories</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.21.21">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.21.21.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.21.21.1.1">
<span class="ltx_p" id="A3.T11.1.21.21.1.1.1" style="width:14.2pt;">5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.21.21.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.21.21.2.1">
<span class="ltx_p" id="A3.T11.1.21.21.2.1.1" style="width:242.8pt;">HQRP Replacement Battery Palm Tungsten E2 PDA + Screwdriver + HQRP Universal Screen Protector</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.21.21.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.21.21.3.1">
<span class="ltx_p" id="A3.T11.1.21.21.3.1.1" style="width:212.5pt;">Office Products - Office Electronics - PDAs, Handhelds &amp; Accessories - PDA &amp; Handheld Accessories</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.22.22">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" colspan="3" id="A3.T11.1.22.22.1"><span class="ltx_text ltx_font_bold" id="A3.T11.1.22.22.1.1">Recommendations with the label’s broadened category as critique: <em class="ltx_emph ltx_font_italic" id="A3.T11.1.22.22.1.1.1">Office Products - Office &amp; School Supplies</em></span></td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.23.23">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.23.23.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.23.23.1.1">
<span class="ltx_p" id="A3.T11.1.23.23.1.1.1" style="width:14.2pt;">Rank</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.23.23.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.23.23.2.1">
<span class="ltx_p" id="A3.T11.1.23.23.2.1.1" style="width:242.8pt;">Title</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T11.1.23.23.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.23.23.3.1">
<span class="ltx_p" id="A3.T11.1.23.23.3.1.1" style="width:212.5pt;">Category</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.24.24">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.24.24.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.24.24.1.1">
<span class="ltx_p" id="A3.T11.1.24.24.1.1.1" style="width:14.2pt;">1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.24.24.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.24.24.2.1">
<span class="ltx_p" id="A3.T11.1.24.24.2.1.1" style="width:242.8pt;">Canon CLI-8M Magenta Ink Tank</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T11.1.24.24.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.24.24.3.1">
<span class="ltx_p" id="A3.T11.1.24.24.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.25.25">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.25.25.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.25.25.1.1">
<span class="ltx_p" id="A3.T11.1.25.25.1.1.1" style="width:14.2pt;">2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.25.25.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.25.25.2.1">
<span class="ltx_p" id="A3.T11.1.25.25.2.1.1" style="width:242.8pt;">Swingline Stapler, Optima 25, Full Size Desktop Stapler, 25 Sheet Capacity, Reduced Effort, Blue/Gray (66404)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.25.25.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.25.25.3.1">
<span class="ltx_p" id="A3.T11.1.25.25.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.26.26">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.26.26.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.26.26.1.1">
<span class="ltx_p" id="A3.T11.1.26.26.1.1.1" style="width:14.2pt;">3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.26.26.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.26.26.2.1">
<span class="ltx_p" id="A3.T11.1.26.26.2.1.1" style="width:242.8pt;">Mead #10 Envelopes, Press-It Seal-It, White, 50/Box (75024)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.26.26.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.26.26.3.1">
<span class="ltx_p" id="A3.T11.1.26.26.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.27.27">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.27.27.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.27.27.1.1">
<span class="ltx_p" id="A3.T11.1.27.27.1.1.1" style="width:14.2pt;">4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.27.27.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.27.27.2.1">
<span class="ltx_p" id="A3.T11.1.27.27.2.1.1" style="width:242.8pt;">Columbian #10 Envelopes, Security Tinted,4-1/8” x 9-1/2”, White, 500 Per Box, 2-PACK (CO128)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.27.27.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.27.27.3.1">
<span class="ltx_p" id="A3.T11.1.27.27.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.28.28">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.28.28.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.28.28.1.1">
<span class="ltx_p" id="A3.T11.1.28.28.1.1.1" style="width:14.2pt;">5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.28.28.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.28.28.2.1">
<span class="ltx_p" id="A3.T11.1.28.28.2.1.1" style="width:242.8pt;">Five Star Filler Paper, Graph Ruled Paper, 100 Sheets/Pack, 11” x 8-1/2”, Reinforced, Loose Leaf, White (17016)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.28.28.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.28.28.3.1">
<span class="ltx_p" id="A3.T11.1.28.28.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.29.29">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" colspan="3" id="A3.T11.1.29.29.1"><span class="ltx_text ltx_font_bold" id="A3.T11.1.29.29.1.1">Recommendations with a the label’s critique, made more specific: <em class="ltx_emph ltx_font_italic" id="A3.T11.1.29.29.1.1.1">Office Products - Office &amp; School Supplies - Staplers &amp; Punches - Staples</em></span></td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.30.30">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.30.30.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.30.30.1.1">
<span class="ltx_p" id="A3.T11.1.30.30.1.1.1" style="width:14.2pt;">Rank</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.30.30.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.30.30.2.1">
<span class="ltx_p" id="A3.T11.1.30.30.2.1.1" style="width:242.8pt;">Title</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T11.1.30.30.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.30.30.3.1">
<span class="ltx_p" id="A3.T11.1.30.30.3.1.1" style="width:212.5pt;">Category</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.31.31">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.31.31.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.31.31.1.1">
<span class="ltx_p" id="A3.T11.1.31.31.1.1.1" style="width:14.2pt;">1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A3.T11.1.31.31.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.31.31.2.1">
<span class="ltx_p" id="A3.T11.1.31.31.2.1.1" style="width:242.8pt;">Arrow Fastener 506 Genuine T50 3/8-Inch Staples, 1250-Pack</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A3.T11.1.31.31.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.31.31.3.1">
<span class="ltx_p" id="A3.T11.1.31.31.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches - Staples</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.32.32">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.32.32.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.32.32.1.1">
<span class="ltx_p" id="A3.T11.1.32.32.1.1.1" style="width:14.2pt;">2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.32.32.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.32.32.2.1">
<span class="ltx_p" id="A3.T11.1.32.32.2.1.1" style="width:242.8pt;">Swingline Staples, S.F. 4, Premium, 1/4” Length, 210/Strip, 5000/Box, 1 Box (35450)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.32.32.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.32.32.3.1">
<span class="ltx_p" id="A3.T11.1.32.32.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches - Staples</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.33.33">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.33.33.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.33.33.1.1">
<span class="ltx_p" id="A3.T11.1.33.33.1.1.1" style="width:14.2pt;">3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.33.33.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.33.33.2.1">
<span class="ltx_p" id="A3.T11.1.33.33.2.1.1" style="width:242.8pt;">Swingline Staples, Standard, 1/4” Length, 210/Strip, 5000/Box, 5 Pack (35101)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.33.33.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.33.33.3.1">
<span class="ltx_p" id="A3.T11.1.33.33.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches - Staples</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.34.34">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.34.34.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.34.34.1.1">
<span class="ltx_p" id="A3.T11.1.34.34.1.1.1" style="width:14.2pt;">4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A3.T11.1.34.34.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.34.34.2.1">
<span class="ltx_p" id="A3.T11.1.34.34.2.1.1" style="width:242.8pt;">Swingline Staples, Standard, 1/4” Length, 210/Strip, 5000/Box, 1 Box (35108)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A3.T11.1.34.34.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.34.34.3.1">
<span class="ltx_p" id="A3.T11.1.34.34.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches - Staples</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T11.1.35.35">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A3.T11.1.35.35.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.35.35.1.1">
<span class="ltx_p" id="A3.T11.1.35.35.1.1.1" style="width:14.2pt;">5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A3.T11.1.35.35.2">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.35.35.2.1">
<span class="ltx_p" id="A3.T11.1.35.35.2.1.1" style="width:242.8pt;">Arrow Fastener 224 Genuine P22 1/4-Inch Staples, 5,050-Pack</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A3.T11.1.35.35.3">
<span class="ltx_inline-block ltx_align_top" id="A3.T11.1.35.35.3.1">
<span class="ltx_p" id="A3.T11.1.35.35.3.1.1" style="width:212.5pt;">Office Products - Office &amp; School Supplies - Staplers &amp; Punches - Staples</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 11: </span>Example input sequence and recommendations from Flare with various alternative category-based critiques.</figcaption>
</figure>
</div>
</div>
</figure>
</section>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Wed Sep 18 04:26:02 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
