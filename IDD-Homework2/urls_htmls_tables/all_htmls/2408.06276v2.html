<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation</title>
<!--Generated on Tue Aug 13 11:06:00 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Recommender systems,  Large language models,  Review-driven preference profiling,  Reasoning distillation,  Explainability" lang="en" name="keywords"/>
<base href="/html/2408.06276v2/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S1" title="In Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S2" title="In Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S2.SS1" title="In 2. Related Work ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>LLM-based Recommenders for Prediction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S2.SS2" title="In 2. Related Work ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>LLM-based Recommenders for Explanation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3" title="In Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Proposed Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS1" title="In 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Preliminaries</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS1.SSS1" title="In 3.1. Preliminaries ‣ 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1.1 </span>Rating prediction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS1.SSS2" title="In 3.1. Preliminaries ‣ 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1.2 </span>Knowledge distillation from teacher to student LLM</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS2" title="In 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Preference Extraction from Reviews</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS3" title="In 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>User and Item Profile Construction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS4" title="In 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Reasoning-enhanced Rating Prediction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS5" title="In 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5 </span>Optimization and Inference</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS5.SSS1" title="In 3.5. Optimization and Inference ‣ 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5.1 </span>Optimization</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS5.SSS2" title="In 3.5. Optimization and Inference ‣ 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5.2 </span>Inference</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS5.SSS3" title="In 3.5. Optimization and Inference ‣ 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5.3 </span>Rating score prediction</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS6" title="In 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.6 </span>Top-<span class="ltx_text ltx_font_italic">k</span> Recommendation with <span class="ltx_text ltx_font_smallcaps">Exp3rt</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4" title="In Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.SS1" title="In 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Experimental Settings</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.SS1.SSS1" title="In 4.1. Experimental Settings ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.1 </span>Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.SS1.SSS2" title="In 4.1. Experimental Settings ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.2 </span>Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.SS1.SSS3" title="In 4.1. Experimental Settings ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.3 </span>Evaluation Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.SS1.SSS4" title="In 4.1. Experimental Settings ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.4 </span>Implementation Details</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.SS2" title="In 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Rating Prediction Performance (RQ1)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.SS3" title="In 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Top-<span class="ltx_text ltx_font_italic">k</span> Recommendation Performance (RQ2)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.SS4" title="In 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Explanation Quality (RQ3)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.SS5" title="In 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>Ablation Study (RQ4)</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S5" title="In Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A1" title="In Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Prompts</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A2" title="In Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>User Simialrity Calculation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A3" title="In Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Human Evaluation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A4" title="In Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Case Study</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jieyong Kim
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">Yonsei University</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2">Seoul</span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3">Republic of Korea</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:jieyong99@yonsei.ac.kr">jieyong99@yonsei.ac.kr</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Hyunseo Kim
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">Yonsei University</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2">Seoul</span><span class="ltx_text ltx_affiliation_country" id="id6.3.id3">Republic of Korea</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:hyunseo00@yonsei.ac.kr">hyunseo00@yonsei.ac.kr</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Hyunjin Cho
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">Yonsei University</span><span class="ltx_text ltx_affiliation_city" id="id8.2.id2">Seoul</span><span class="ltx_text ltx_affiliation_country" id="id9.3.id3">Republic of Korea</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:cyberhyunjin@yonsei.ac.kr">cyberhyunjin@yonsei.ac.kr</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">SeongKu Kang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id10.1.id1">UIUC</span><span class="ltx_text ltx_affiliation_city" id="id11.2.id2">Champaign</span><span class="ltx_text ltx_affiliation_country" id="id12.3.id3">USA</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:seongku@illinois.edu">seongku@illinois.edu</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Buru Chang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id13.1.id1">Sogang University</span><span class="ltx_text ltx_affiliation_city" id="id14.2.id2">Seoul</span><span class="ltx_text ltx_affiliation_country" id="id15.3.id3">Republic of Korea</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:buru@sogang.ac.kr">buru@sogang.ac.kr</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jinyoung Yeo
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id16.1.id1">Yonsei University</span><span class="ltx_text ltx_affiliation_city" id="id17.2.id2">Seoul</span><span class="ltx_text ltx_affiliation_country" id="id18.3.id3">Republic of Korea</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:jinyeo@yonsei.ac.kr">jinyeo@yonsei.ac.kr</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Dongha Lee
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id19.1.id1">Yonsei University</span><span class="ltx_text ltx_affiliation_city" id="id20.2.id2">Seoul</span><span class="ltx_text ltx_affiliation_country" id="id21.3.id3">Republic of Korea</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:donalee@yonsei.ac.kr">donalee@yonsei.ac.kr</a>
</span></span></span>
</div>
<div class="ltx_dates">(2024; 20 February 2007; 12 March 2009; 5 June 2009)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id22.id1">Recent advancements in Large Language Models (LLMs) have demonstrated exceptional performance across a wide range of tasks, generating significant interest in their application to recommendation systems.
However, existing methods have not fully capitalized on the potential of LLMs, often constrained by limited input information or failing to fully utilize their advanced reasoning capabilities.
To address these limitations, we introduce <span class="ltx_text ltx_font_smallcaps" id="id22.id1.1">Exp3rt</span>, a novel LLM-based recommender designed to leverage rich preference information contained in user and item reviews.
<span class="ltx_text ltx_font_smallcaps" id="id22.id1.2">Exp3rt</span> is basically fine-tuned through distillation from a teacher LLM to perform three key tasks in order:
<span class="ltx_text ltx_font_smallcaps" id="id22.id1.3">Exp3rt</span> first extracts and encapsulates essential subjective preferences from raw reviews, aggregates and summarizes them according to specific criteria to create user and item profiles.
It then generates detailed step-by-step reasoning followed by predicted rating, i.e., reasoning-enhanced rating prediction, by considering both subjective and objective information from user/item profiles and item descriptions.
This personalized preference reasoning from <span class="ltx_text ltx_font_smallcaps" id="id22.id1.4">Exp3rt</span> enhances rating prediction accuracy and also provides faithful and reasonable explanations for recommendation.
Extensive experiments show that <span class="ltx_text ltx_font_smallcaps" id="id22.id1.5">Exp3rt</span> outperforms existing methods on both rating prediction and candidate item reranking for top-<span class="ltx_text ltx_font_italic" id="id22.id1.6">k</span> recommendation, while significantly enhancing the explainability of recommendation systems.

<br class="ltx_break"/></p>
</div>
<div class="ltx_keywords">Recommender systems, Large language models, Review-driven preference profiling, Reasoning distillation, Explainability
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2024</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>XXXXXXX.XXXXXXX</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Make sure to enter the correct
conference title from your rights confirmation emai; June 03–05,
2018; Woodstock, NY</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>978-1-4503-XXXX-X/18/06</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="605" id="S1.F1.g1" src="extracted/5789182/FIG/intro.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.4.1.1" style="font-size:90%;">Figure 1</span>. </span><span class="ltx_text" id="S1.F1.5.2" style="font-size:90%;">Comparison between existing LLM-based recommenders (Upper) and our proposed <span class="ltx_text ltx_font_smallcaps" id="S1.F1.5.2.1">Exp3rt</span> (Lower). <span class="ltx_text ltx_font_smallcaps" id="S1.F1.5.2.2">Exp3rt</span> predicts the rating score of a user-item pair based on step-by-step textual reasoning, by leveraging key preference descriptions extracted from user and item reviews.</span></figcaption>
</figure>
<figure class="ltx_table" id="S1.T1">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 1. </span>Comparison of LLM-based recommenders, categorized by their target tasks.
<span class="ltx_text ltx_font_italic" id="S1.T1.13.1">Rerank-ability</span> denotes whether each method can function as a candidate item reranker within a multi-stage ranking pipeline for top-<span class="ltx_text ltx_font_italic" id="S1.T1.14.2">k</span> recommendation.
P5 <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>)</cite> achieves both rerank-ability and explainability via multi-task learning (i.e., explanation generation and rating prediction).</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S1.T1.1" style="width:429.3pt;height:64pt;vertical-align:-0.4pt;"><span class="ltx_transformed_inner" style="transform:translate(-271.6pt,40.2pt) scale(0.441404735836967,0.441404735836967) ;">
<table class="ltx_tabular ltx_align_middle" id="S1.T1.1.1">
<tr class="ltx_tr" id="S1.T1.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S1.T1.1.1.2.1"><span class="ltx_text ltx_font_bold" id="S1.T1.1.1.2.1.1" style="font-size:90%;">Task</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S1.T1.1.1.2.2"><span class="ltx_text ltx_font_bold" id="S1.T1.1.1.2.2.1" style="font-size:90%;">Method</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S1.T1.1.1.2.3"><span class="ltx_text ltx_font_bold" id="S1.T1.1.1.2.3.1" style="font-size:90%;">LLM Input</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S1.T1.1.1.2.4"><span class="ltx_text ltx_font_bold" id="S1.T1.1.1.2.4.1" style="font-size:90%;">Rerank-ability</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S1.T1.1.1.2.5"><span class="ltx_text ltx_font_bold" id="S1.T1.1.1.2.5.1" style="font-size:90%;">Explainability</span></td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S1.T1.1.1.1.1">
<span class="ltx_text" id="S1.T1.1.1.1.1.1" style="font-size:90%;">Multiple Tasks</span><sup class="ltx_sup" id="S1.T1.1.1.1.1.2"><span class="ltx_text" id="S1.T1.1.1.1.1.2.1" style="font-size:90%;">∗</span></sup>
</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S1.T1.1.1.1.2">
<span class="ltx_text" id="S1.T1.1.1.1.2.1" style="font-size:90%;">P5 </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S1.T1.1.1.1.2.2.1" style="font-size:90%;">(</span>Geng et al<span class="ltx_text">.</span><span class="ltx_text" id="S1.T1.1.1.1.2.3.2.1.1" style="font-size:90%;">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a><span class="ltx_text" id="S1.T1.1.1.1.2.4.3" style="font-size:90%;">)</span></cite>
</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S1.T1.1.1.1.3"><span class="ltx_text" id="S1.T1.1.1.1.3.1" style="font-size:90%;">User/Item ID, Item Title, Feature Word</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S1.T1.1.1.1.4"><span class="ltx_text" id="S1.T1.1.1.1.4.1" style="font-size:90%;color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S1.T1.1.1.1.5"><span class="ltx_text" id="S1.T1.1.1.1.5.1" style="font-size:90%;">Review Generation</span></td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.3">
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.3.1"><span class="ltx_text" id="S1.T1.1.1.3.1.1" style="font-size:90%;">Explanation Generation</span></td>
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.3.2">
<span class="ltx_text" id="S1.T1.1.1.3.2.1" style="font-size:90%;">PEPLER </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S1.T1.1.1.3.2.2.1" style="font-size:90%;">(</span>Li et al<span class="ltx_text">.</span><span class="ltx_text" id="S1.T1.1.1.3.2.3.2.1.1" style="font-size:90%;">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib16" title="">2023</a><span class="ltx_text" id="S1.T1.1.1.3.2.4.3" style="font-size:90%;">)</span></cite><span class="ltx_text" id="S1.T1.1.1.3.2.5" style="font-size:90%;">, XRec </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S1.T1.1.1.3.2.6.1" style="font-size:90%;">(</span>Ma et al<span class="ltx_text">.</span><span class="ltx_text" id="S1.T1.1.1.3.2.7.2.1.1" style="font-size:90%;">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib20" title="">2024</a><span class="ltx_text" id="S1.T1.1.1.3.2.8.3" style="font-size:90%;">)</span></cite>
</td>
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.3.3"><span class="ltx_text" id="S1.T1.1.1.3.3.1" style="font-size:90%;">User/Item Embedding, User/Item Feature</span></td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.3.4"><span class="ltx_text" id="S1.T1.1.1.3.4.1" style="font-size:90%;color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.3.5"><span class="ltx_text" id="S1.T1.1.1.3.5.1" style="font-size:90%;">Review Generation</span></td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.4">
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.4.1"><span class="ltx_text" id="S1.T1.1.1.4.1.1" style="font-size:90%;">Target Item Generation</span></td>
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.4.2">
<span class="ltx_text" id="S1.T1.1.1.4.2.1" style="font-size:90%;">GenRec </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S1.T1.1.1.4.2.2.1" style="font-size:90%;">(</span>Ji et al<span class="ltx_text">.</span><span class="ltx_text" id="S1.T1.1.1.4.2.3.2.1.1" style="font-size:90%;">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib12" title="">2024</a><span class="ltx_text" id="S1.T1.1.1.4.2.4.3" style="font-size:90%;">)</span></cite>
</td>
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.4.3"><span class="ltx_text" id="S1.T1.1.1.4.3.1" style="font-size:90%;">Interaction History</span></td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.4.4"><span class="ltx_text" id="S1.T1.1.1.4.4.1" style="font-size:90%;color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.4.5"><span class="ltx_text" id="S1.T1.1.1.4.5.1" style="font-size:90%;color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.5">
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.5.1"><span class="ltx_text" id="S1.T1.1.1.5.1.1" style="font-size:90%;">Candidate Item Reranking</span></td>
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.5.2">
<span class="ltx_text" id="S1.T1.1.1.5.2.1" style="font-size:90%;">ZS-Ranker </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S1.T1.1.1.5.2.2.1" style="font-size:90%;">(</span>Hou et al<span class="ltx_text">.</span><span class="ltx_text" id="S1.T1.1.1.5.2.3.2.1.1" style="font-size:90%;">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib11" title="">2024b</a><span class="ltx_text" id="S1.T1.1.1.5.2.4.3" style="font-size:90%;">)</span></cite><span class="ltx_text" id="S1.T1.1.1.5.2.5" style="font-size:90%;">, LlamaRec </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S1.T1.1.1.5.2.6.1" style="font-size:90%;">(</span>Yue et al<span class="ltx_text">.</span><span class="ltx_text" id="S1.T1.1.1.5.2.7.2.1.1" style="font-size:90%;">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib27" title="">2023</a><span class="ltx_text" id="S1.T1.1.1.5.2.8.3" style="font-size:90%;">)</span></cite>
</td>
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.5.3"><span class="ltx_text" id="S1.T1.1.1.5.3.1" style="font-size:90%;">Interaction History, Item Candidates</span></td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.5.4"><span class="ltx_text" id="S1.T1.1.1.5.4.1" style="font-size:90%;color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.5.5"><span class="ltx_text" id="S1.T1.1.1.5.5.1" style="font-size:90%;color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.6">
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.6.1"><span class="ltx_text" id="S1.T1.1.1.6.1.1" style="font-size:90%;">Binary Prediction</span></td>
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.6.2">
<span class="ltx_text" id="S1.T1.1.1.6.2.1" style="font-size:90%;">TALLRec </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S1.T1.1.1.6.2.2.1" style="font-size:90%;">(</span>Bao et al<span class="ltx_text">.</span><span class="ltx_text" id="S1.T1.1.1.6.2.3.2.1.1" style="font-size:90%;">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib2" title="">2023</a><span class="ltx_text" id="S1.T1.1.1.6.2.4.3" style="font-size:90%;">)</span></cite><span class="ltx_text" id="S1.T1.1.1.6.2.5" style="font-size:90%;">, CoLLM </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S1.T1.1.1.6.2.6.1" style="font-size:90%;">(</span>Zhang et al<span class="ltx_text">.</span><span class="ltx_text" id="S1.T1.1.1.6.2.7.2.1.1" style="font-size:90%;">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib28" title="">2023</a><span class="ltx_text" id="S1.T1.1.1.6.2.8.3" style="font-size:90%;">)</span></cite>
</td>
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.6.3"><span class="ltx_text" id="S1.T1.1.1.6.3.1" style="font-size:90%;">Interaction History (+User/Item Embedding)</span></td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.6.4"><span class="ltx_text" id="S1.T1.1.1.6.4.1" style="font-size:90%;color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.6.5"><span class="ltx_text" id="S1.T1.1.1.6.5.1" style="font-size:90%;color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.7">
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.7.1"><span class="ltx_text" id="S1.T1.1.1.7.1.1" style="font-size:90%;">Rating Prediction</span></td>
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.7.2">
<span class="ltx_text" id="S1.T1.1.1.7.2.1" style="font-size:90%;">LLMRec </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S1.T1.1.1.7.2.2.1" style="font-size:90%;">(</span>Liu et al<span class="ltx_text">.</span><span class="ltx_text" id="S1.T1.1.1.7.2.3.2.1.1" style="font-size:90%;">, </span><a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib18" title="">2023a</a><span class="ltx_text" id="S1.T1.1.1.7.2.4.3" style="font-size:90%;">)</span></cite>
</td>
<td class="ltx_td ltx_align_left" id="S1.T1.1.1.7.3"><span class="ltx_text" id="S1.T1.1.1.7.3.1" style="font-size:90%;">Interaction History, Item Title, Item Category</span></td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.7.4"><span class="ltx_text" id="S1.T1.1.1.7.4.1" style="font-size:90%;color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.1.7.5"><span class="ltx_text" id="S1.T1.1.1.7.5.1" style="font-size:90%;color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.1.8">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S1.T1.1.1.8.1"><span class="ltx_text" id="S1.T1.1.1.8.1.1" style="font-size:90%;">Rating Prediction</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S1.T1.1.1.8.2">
<span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S1.T1.1.1.8.2.1" style="font-size:90%;">Exp3rt</span><span class="ltx_text" id="S1.T1.1.1.8.2.2" style="font-size:90%;"> (ours)</span>
</td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S1.T1.1.1.8.3"><span class="ltx_text" id="S1.T1.1.1.8.3.1" style="font-size:90%;">User/Item Profile, Item Description</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S1.T1.1.1.8.4"><span class="ltx_text" id="S1.T1.1.1.8.4.1" style="font-size:90%;color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S1.T1.1.1.8.5"><span class="ltx_text" id="S1.T1.1.1.8.5.1" style="font-size:90%;">Step-by-step Reasoning</span></td>
</tr>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Large Language Models (LLMs) have demonstrated remarkable performance in diverse tasks owing to their exceptional ability to understand semantic information and perform advanced reasoning <cite class="ltx_cite ltx_citemacro_citep">(Brown et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib3" title="">2020</a>; Kojima et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib14" title="">2022</a>; Wei et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib25" title="">2022</a>)</cite>.
Leveraging these strengths, there have been many attempts to integrate LLMs into recommendation systems to enhance overall performance.
Some studies have explored in-context learning for recommendation tasks by directly prompting LLMs <cite class="ltx_cite ltx_citemacro_citep">(Gao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib6" title="">2023</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib18" title="">2023a</a>)</cite>;
however, this approach often struggles with limited accuracy due to insufficient task-specific training.
As a result, recent studies mainly focus on fine-tuning LLMs to better adapt them to specific recommendation tasks and datasets.
For instance, LLMs have been fine-tuned for binary prediction <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib2" title="">2023</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib28" title="">2023</a>)</cite>, user rating prediction <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>)</cite>, next item prediction <cite class="ltx_cite ltx_citemacro_citep">(Ji et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib12" title="">2024</a>)</cite>, and candidate item reranking <cite class="ltx_cite ltx_citemacro_citep">(Yue et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib27" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Despite recent advancements, existing studies fall short in fully leveraging the potential of LLMs for recommendation tasks due to several limitations.
First, they often rely on insufficient input information about users and items, such as user/item IDs, item titles, and interaction history <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>; Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib2" title="">2023</a>; Yue et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib27" title="">2023</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib28" title="">2023</a>; Ji et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib12" title="">2024</a>)</cite>, which restricts the model’s understanding of user preferences (Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>, Upper Left).
This limited information hinders the generalization capability of LLM-based recommenders in predicting outputs.
Second, these models are typically optimized to generate short responses, such as simple “yes”/“no” answers or rating scores <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>; Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib2" title="">2023</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib28" title="">2023</a>)</cite>, where the lack of rich target context makes it challenging for the model to produce accurate predictions (Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>, Upper Right).
Besides, such concise outputs fail to provide the necessary explainability for supporting recommendations.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">On the other hand, another line of research has focused on generating personalized explanations for recommendations by leveraging the text generation capabilities of LLMs <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib16" title="">2023</a>; Ma et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib20" title="">2024</a>)</cite>.
This involves first annotating an explanation for a specific user-item interaction using the corresponding review text and then optimizing the LLM to generate this annotated explanation;
for instance, some studies simply use the first sentence or a brief summary of the review as the target explanation <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib16" title="">2023</a>; Ma et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib20" title="">2024</a>)</cite>.
However, annotations taken directly from target reviews often fail to generalize to unobserved user-item interactions, due to their lack of grounding in evidence or logical reasoning.
Consequently, the generated explanations may exhibit poor faithfulness and reasonableness.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">To address these limitations, our work aims to fine-tune an LLM for <span class="ltx_text ltx_font_italic" id="S1.p4.1.1">personalized preference reasoning</span>, enhancing both rating prediction accuracy and explainability by leveraging user and item review texts.
Reviews contain rich details about users’ feedback and subjective opinions, making them an excellent resource for modeling user and item preferences.
Our key idea is constructing <span class="ltx_text ltx_font_italic" id="S1.p4.1.2">user profiles</span> and <span class="ltx_text ltx_font_italic" id="S1.p4.1.3">item profiles</span>, which refer to lists of key preference descriptions extracted from reviews (Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>, Lower Left).
Using these profiles, we annotate step-by-step textual reasoning via prompting a teacher LLM (e.g., GPT-3.5) to align with the corresponding rating score.
In the end, our LLM is optimized to generate this annotated reasoning, followed by a rating score, using the user/item profiles and the item description as inputs (Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>, Lower Right).
In essence, we distill the teacher LLM’s outstanding reasoning capabilities into our student LLM to enable reasoning-enhanced rating predictions.
Note that the generated step-by-step textual reasoning provides faithful and logical explanations for the predicted rating.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">In this work, we introduce <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S1.p5.1.1">Exp3rt</span>, <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p5.1.2">EXP</span>lainable <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p5.1.3">P</span>ersonalized <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p5.1.4">P</span>reference <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p5.1.5">R</span>easoner for recommenda<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p5.1.6">T</span>ion, which performs reasoning-enhanced rating prediction based on review-driven preference profiles of users and items.
To be specific, <span class="ltx_text ltx_font_smallcaps" id="S1.p5.1.7">Exp3rt</span> is basically fine-tuned as a student LLM via distillation from a teacher LLM for three different tasks, each of which correspond to each step:
(1) the first step encapsulates preference sets by extracting them from raw reviews, (2) the second step constructs user and item profiles by aggregating and summarizing the preference sets, and (3) the last step predicts the user’s rating through step-by-step textual reasoning.
This distillation process makes our student LLM cost-efficient as well as significantly improve its reasoning capability.
During inference, <span class="ltx_text ltx_font_smallcaps" id="S1.p5.1.8">Exp3rt</span> utilizes both the subjective and objective information from user/item profiles and item descriptions, allowing it to comprehensively understand user and item preferences.
This leads to effective generalization to unobserved user-item interaction pairs.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">Our extensive experiments evaluate the effectiveness of <span class="ltx_text ltx_font_smallcaps" id="S1.p6.1.1">Exp3rt</span> in terms of various recommendation tasks, including rating prediction, top-<span class="ltx_text ltx_font_italic" id="S1.p6.1.2">k</span> recommendation, and explanation generation.
The evaluation results demonstrate that the personalized preference reasoning of <span class="ltx_text ltx_font_smallcaps" id="S1.p6.1.3">Exp3rt</span> not only improves rating prediction and reranking accuracy but also offers a high level of explainability.
Additionally, <span class="ltx_text ltx_font_smallcaps" id="S1.p6.1.4">Exp3rt</span> effectively reranks candidate items, generated from conventional CF-based recommender, within a multi-stage ranking pipeline for top-<math alttext="k" class="ltx_Math" display="inline" id="S1.p6.1.m1.1"><semantics id="S1.p6.1.m1.1a"><mi id="S1.p6.1.m1.1.1" xref="S1.p6.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S1.p6.1.m1.1b"><ci id="S1.p6.1.m1.1.1.cmml" xref="S1.p6.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p6.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S1.p6.1.m1.1d">italic_k</annotation></semantics></math> recommendation.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">The main contributions are summarized as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1"><span class="ltx_text ltx_font_smallcaps" id="S1.I1.i1.p1.1.1">Exp3rt</span> effectively enhances rating prediction accuracy through review-driven personalized reasoning.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1"><span class="ltx_text ltx_font_smallcaps" id="S1.I1.i2.p1.1.1">Exp3rt</span> generates detailed step-by-step reasoning, providing faithful and logical explanations by utilizing rich preference information extracted from reviews.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1"><span class="ltx_text ltx_font_smallcaps" id="S1.I1.i3.p1.1.1">Exp3rt</span> can function independently as a recommender and seamlessly integrate with traditional CF-based recommenders as an item reranker within a multi-stage ranking pipeline.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Work</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>LLM-based Recommenders for Prediction</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Recent advancements in Large Language Models (LLMs) have led to significant performance improvements across various tasks <cite class="ltx_cite ltx_citemacro_citep">(Brown et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib3" title="">2020</a>)</cite>, resulting in a growing number of attempts to harness their advanced capabilities in recommender systems (RS) <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib26" title="">2023</a>)</cite>.
Some approaches have utilized LLMs to provide binary recommendations (i.e., <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.1.1">yes</span> or <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.1.2">no</span>) to a user for target items <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib2" title="">2023</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib28" title="">2023</a>)</cite> or to predict the user’s ratings on the items <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>)</cite>.
For binary recommendations, TALLRec <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib2" title="">2023</a>)</cite> utilizes a two-stage instruction tuning process on Alpaca <cite class="ltx_cite ltx_citemacro_citep">(Taori et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib23" title="">2023</a>)</cite> to effectively handle few-shot scenarios.
In a different approach, CoLLM <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib28" title="">2023</a>)</cite> integrates collaborative filtering information directly into the LLM’s input embedding space, allowing the model to leverage traditional recommendation data within its predictions.
For rating predictions, both P5 <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>)</cite> and LLMRec <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib19" title="">2023b</a>)</cite> focus on predicting user ratings by utilizing user and item IDs, enabling the models to generate predictions based on these identifiers.
Other studies shift their focus towards item generation and re-ranking tasks. GenRec <cite class="ltx_cite ltx_citemacro_citep">(Ji et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib12" title="">2024</a>)</cite> applies instruction tuning on LLaMA <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib24" title="">2023</a>)</cite> to create generative recommendations, adapting the model to generate relevant items for users.
LlamaRec <cite class="ltx_cite ltx_citemacro_citep">(Yue et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib27" title="">2023</a>)</cite> and Zero-Shot Ranker <cite class="ltx_cite ltx_citemacro_citep">(Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib11" title="">2024b</a>)</cite> investigate the potential of LLMs in re-ranking candidate items that have been initially generated by a separate retrieval model, highlighting the adaptability of LLMs in refining recommendation lists.
A comparison of these methods can be found in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S1.T1" title="Table 1 ‣ 1. Introduction ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">Despite these efforts, the aforementioned studies have achieved limited accuracy in preference prediction tasks compared to conventional Collaborative Filetering (CF) methods;
they fail to fully utilize exceptional reasoning abilities of LLMs.
First, they rely on limited contextual information about users and items, which is insufficient to make LLMs understand the latent preference of a target user and item.
Most of them take only user/item IDs or minimal attributes as inputs.
In addition, they have not explored advanced textual reasoning strategy, such as Chain-of-Thought (CoT) reasoning <cite class="ltx_cite ltx_citemacro_citep">(Kojima et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib14" title="">2022</a>)</cite>, in that their models are simply optimized to generate short-form outputs tailored for their target tasks.
In this sense, our work aims to leverage rich information sources, specifically <span class="ltx_text ltx_font_italic" id="S2.SS1.p2.1.1">reviews</span>, and to predict user ratings through enhanced reasoning techniques, such as CoT reasoning, supported by distillation methods to fully harness the advanced reasoning capabilities of LLMs.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>LLM-based Recommenders for Explanation</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">LLMs are highly effective at utilizing and processing semantic information to generate coherent and relevant text.
Consequently, some efforts have focused on leveraging this capability by using sources rich in semantic content, such as reviews, to generate explanations for recommendations or to summarize reviews.
For explanation generation, P5 <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>)</cite> uses user and item IDs combined with feature words to guide the generation of explanations.
PEPLER <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib16" title="">2023</a>)</cite> integrates user and item ID vectors within a pretrained transformer, applying sequential tuning and recommendation regularization to align prompts with the model’s capabilities.
Meanwhile, XRec <cite class="ltx_cite ltx_citemacro_citep">(Ma et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib20" title="">2024</a>)</cite> leverages collaborative signals along with a lightweight collaborative adaptor, which helps LLMs better grasp complex user-item interaction patterns and generate more accurate explanations.
For review summarization, P5 uses user IDs alongside the reviews themselves, allowing for the creation of summaries that reflect the specific perspectives and experiences of individual users.</p>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">Despite their effectiveness, these studies have notable limitations.
They often focus on extracting sentences from reviews to generate explanations or summaries, which can result in poor generalization and a lack of grounding in evidence or logical reasoning, making it difficult for these explanations to adapt to unobserved user-item interactions.
To overcome these limitations, our work focuses on extracting key information of user and item preferences from reviews and encapsulating them into a structured format. We further aggregate and summarize these insights from multiple reviews to build collective knowledge, enabling a comprehensive understanding of user and item preferences.
</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Proposed Method</h2>
<figure class="ltx_figure" id="S3.F2">
<p class="ltx_p ltx_align_center" id="S3.F2.1"><span class="ltx_text" id="S3.F2.1.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="204" id="S3.F2.1.1.g1" src="extracted/5789182/FIG/image.png" width="598"/></span></p>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F2.6.1.1" style="font-size:90%;">Figure 2</span>. </span><span class="ltx_text" id="S3.F2.7.2" style="font-size:90%;">
The overview of our <span class="ltx_text ltx_font_smallcaps" id="S3.F2.7.2.1">Exp3rt</span> framework.
During training, we distill the reasoning capabilities of a teacher LLM (i.e., GPT-3.5) into our student LLM (i.e., Llama3-8B) for three tasks:
(1) Extracting preference descriptions from raw reviews,
(2) constructing user/item profiles by aggregating these preferences, and
(3) predicting rating scores based on textual reasoning.
During inference, given a user-item pair, <span class="ltx_text ltx_font_smallcaps" id="S3.F2.7.2.2">Exp3rt</span> sequentially performs these tasks to predict the rating;
in addition, it can serve as an item reranker for top-<span class="ltx_text ltx_font_italic" id="S3.F2.7.2.3">k</span> recommendation, compatible with other CF models that efficiently retrieve candidate items.</span></figcaption>
</figure>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we present <span class="ltx_text ltx_font_smallcaps" id="S3.p1.1.1">Exp3rt</span>, an LLM-based recommendation model designed to enhance both accuracy and explainability by leveraging subjective user and item preferences extracted from reviews.
<span class="ltx_text ltx_font_smallcaps" id="S3.p1.1.2">Exp3rt</span> is optimized by distilling the remarkable reasoning capabilities of a teacher LLM into a student LLM, for three key tasks:
(1) <span class="ltx_text ltx_font_italic" id="S3.p1.1.3">preference extraction</span>,
(2) <span class="ltx_text ltx_font_italic" id="S3.p1.1.4">profile construction</span>, and
(3) <span class="ltx_text ltx_font_italic" id="S3.p1.1.5">textual reasoning for rating prediction</span>.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.1">Given an input user-item pair, <span class="ltx_text ltx_font_smallcaps" id="S3.p2.1.1">Exp3rt</span> first extracts key preference information from each review related to the user and item, organizing this information into a list.
Next, <span class="ltx_text ltx_font_smallcaps" id="S3.p2.1.2">Exp3rt</span> constructs profiles for the user and item by aggregating and summarizing all extracted preferences in a user-wise and item-wise manner, respectively.
Finally, <span class="ltx_text ltx_font_smallcaps" id="S3.p2.1.3">Exp3rt</span> predicts the user’s rating on the item through step-by-step textual reasoning, using the user and item profiles along with the item description as inputs.
Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.F2" title="Figure 2 ‣ 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a> illustrates the overview of our <span class="ltx_text ltx_font_smallcaps" id="S3.p2.1.4">Exp3rt</span> framework.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Preliminaries</h3>
<section class="ltx_subsubsection" id="S3.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.1. </span>Rating prediction</h4>
<div class="ltx_para" id="S3.SS1.SSS1.p1">
<p class="ltx_p" id="S3.SS1.SSS1.p1.14">Given a user set <math alttext="\mathcal{U}" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.1.m1.1"><semantics id="S3.SS1.SSS1.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.1.m1.1.1" xref="S3.SS1.SSS1.p1.1.m1.1.1.cmml">𝒰</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.1.m1.1b"><ci id="S3.SS1.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS1.p1.1.m1.1.1">𝒰</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.1.m1.1c">\mathcal{U}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.1.m1.1d">caligraphic_U</annotation></semantics></math> and an item set <math alttext="\mathcal{I}" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.2.m2.1"><semantics id="S3.SS1.SSS1.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.2.m2.1.1" xref="S3.SS1.SSS1.p1.2.m2.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.2.m2.1b"><ci id="S3.SS1.SSS1.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS1.p1.2.m2.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.2.m2.1c">\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.2.m2.1d">caligraphic_I</annotation></semantics></math>, we collect a set of user-item interactions, which includes ratings (denoted by <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.3.m3.1"><semantics id="S3.SS1.SSS1.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.3.m3.1.1" xref="S3.SS1.SSS1.p1.3.m3.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.3.m3.1b"><ci id="S3.SS1.SSS1.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS1.p1.3.m3.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.3.m3.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.3.m3.1d">caligraphic_R</annotation></semantics></math>) and reviews (denoted by <math alttext="\mathcal{V}" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.4.m4.1"><semantics id="S3.SS1.SSS1.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.4.m4.1.1" xref="S3.SS1.SSS1.p1.4.m4.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.4.m4.1b"><ci id="S3.SS1.SSS1.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS1.p1.4.m4.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.4.m4.1c">\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.4.m4.1d">caligraphic_V</annotation></semantics></math>) written by users to items.
The problem of rating prediction involves estimating the rating <math alttext="{r}_{u,i}" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.5.m5.2"><semantics id="S3.SS1.SSS1.p1.5.m5.2a"><msub id="S3.SS1.SSS1.p1.5.m5.2.3" xref="S3.SS1.SSS1.p1.5.m5.2.3.cmml"><mi id="S3.SS1.SSS1.p1.5.m5.2.3.2" xref="S3.SS1.SSS1.p1.5.m5.2.3.2.cmml">r</mi><mrow id="S3.SS1.SSS1.p1.5.m5.2.2.2.4" xref="S3.SS1.SSS1.p1.5.m5.2.2.2.3.cmml"><mi id="S3.SS1.SSS1.p1.5.m5.1.1.1.1" xref="S3.SS1.SSS1.p1.5.m5.1.1.1.1.cmml">u</mi><mo id="S3.SS1.SSS1.p1.5.m5.2.2.2.4.1" xref="S3.SS1.SSS1.p1.5.m5.2.2.2.3.cmml">,</mo><mi id="S3.SS1.SSS1.p1.5.m5.2.2.2.2" xref="S3.SS1.SSS1.p1.5.m5.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.5.m5.2b"><apply id="S3.SS1.SSS1.p1.5.m5.2.3.cmml" xref="S3.SS1.SSS1.p1.5.m5.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.5.m5.2.3.1.cmml" xref="S3.SS1.SSS1.p1.5.m5.2.3">subscript</csymbol><ci id="S3.SS1.SSS1.p1.5.m5.2.3.2.cmml" xref="S3.SS1.SSS1.p1.5.m5.2.3.2">𝑟</ci><list id="S3.SS1.SSS1.p1.5.m5.2.2.2.3.cmml" xref="S3.SS1.SSS1.p1.5.m5.2.2.2.4"><ci id="S3.SS1.SSS1.p1.5.m5.1.1.1.1.cmml" xref="S3.SS1.SSS1.p1.5.m5.1.1.1.1">𝑢</ci><ci id="S3.SS1.SSS1.p1.5.m5.2.2.2.2.cmml" xref="S3.SS1.SSS1.p1.5.m5.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.5.m5.2c">{r}_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.5.m5.2d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math> for a user-item pair <math alttext="(u,i)" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.6.m6.2"><semantics id="S3.SS1.SSS1.p1.6.m6.2a"><mrow id="S3.SS1.SSS1.p1.6.m6.2.3.2" xref="S3.SS1.SSS1.p1.6.m6.2.3.1.cmml"><mo id="S3.SS1.SSS1.p1.6.m6.2.3.2.1" stretchy="false" xref="S3.SS1.SSS1.p1.6.m6.2.3.1.cmml">(</mo><mi id="S3.SS1.SSS1.p1.6.m6.1.1" xref="S3.SS1.SSS1.p1.6.m6.1.1.cmml">u</mi><mo id="S3.SS1.SSS1.p1.6.m6.2.3.2.2" xref="S3.SS1.SSS1.p1.6.m6.2.3.1.cmml">,</mo><mi id="S3.SS1.SSS1.p1.6.m6.2.2" xref="S3.SS1.SSS1.p1.6.m6.2.2.cmml">i</mi><mo id="S3.SS1.SSS1.p1.6.m6.2.3.2.3" stretchy="false" xref="S3.SS1.SSS1.p1.6.m6.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.6.m6.2b"><interval closure="open" id="S3.SS1.SSS1.p1.6.m6.2.3.1.cmml" xref="S3.SS1.SSS1.p1.6.m6.2.3.2"><ci id="S3.SS1.SSS1.p1.6.m6.1.1.cmml" xref="S3.SS1.SSS1.p1.6.m6.1.1">𝑢</ci><ci id="S3.SS1.SSS1.p1.6.m6.2.2.cmml" xref="S3.SS1.SSS1.p1.6.m6.2.2">𝑖</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.6.m6.2c">(u,i)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.6.m6.2d">( italic_u , italic_i )</annotation></semantics></math> based on observed ratings <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.7.m7.1"><semantics id="S3.SS1.SSS1.p1.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.7.m7.1.1" xref="S3.SS1.SSS1.p1.7.m7.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.7.m7.1b"><ci id="S3.SS1.SSS1.p1.7.m7.1.1.cmml" xref="S3.SS1.SSS1.p1.7.m7.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.7.m7.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.7.m7.1d">caligraphic_R</annotation></semantics></math> and reviews <math alttext="\mathcal{V}" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.8.m8.1"><semantics id="S3.SS1.SSS1.p1.8.m8.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS1.p1.8.m8.1.1" xref="S3.SS1.SSS1.p1.8.m8.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.8.m8.1b"><ci id="S3.SS1.SSS1.p1.8.m8.1.1.cmml" xref="S3.SS1.SSS1.p1.8.m8.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.8.m8.1c">\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.8.m8.1d">caligraphic_V</annotation></semantics></math>.
That is, it aims to accurately predict the rating <math alttext="\hat{r}_{u,i}" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.9.m9.2"><semantics id="S3.SS1.SSS1.p1.9.m9.2a"><msub id="S3.SS1.SSS1.p1.9.m9.2.3" xref="S3.SS1.SSS1.p1.9.m9.2.3.cmml"><mover accent="true" id="S3.SS1.SSS1.p1.9.m9.2.3.2" xref="S3.SS1.SSS1.p1.9.m9.2.3.2.cmml"><mi id="S3.SS1.SSS1.p1.9.m9.2.3.2.2" xref="S3.SS1.SSS1.p1.9.m9.2.3.2.2.cmml">r</mi><mo id="S3.SS1.SSS1.p1.9.m9.2.3.2.1" xref="S3.SS1.SSS1.p1.9.m9.2.3.2.1.cmml">^</mo></mover><mrow id="S3.SS1.SSS1.p1.9.m9.2.2.2.4" xref="S3.SS1.SSS1.p1.9.m9.2.2.2.3.cmml"><mi id="S3.SS1.SSS1.p1.9.m9.1.1.1.1" xref="S3.SS1.SSS1.p1.9.m9.1.1.1.1.cmml">u</mi><mo id="S3.SS1.SSS1.p1.9.m9.2.2.2.4.1" xref="S3.SS1.SSS1.p1.9.m9.2.2.2.3.cmml">,</mo><mi id="S3.SS1.SSS1.p1.9.m9.2.2.2.2" xref="S3.SS1.SSS1.p1.9.m9.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.9.m9.2b"><apply id="S3.SS1.SSS1.p1.9.m9.2.3.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.9.m9.2.3.1.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3">subscript</csymbol><apply id="S3.SS1.SSS1.p1.9.m9.2.3.2.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3.2"><ci id="S3.SS1.SSS1.p1.9.m9.2.3.2.1.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3.2.1">^</ci><ci id="S3.SS1.SSS1.p1.9.m9.2.3.2.2.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.3.2.2">𝑟</ci></apply><list id="S3.SS1.SSS1.p1.9.m9.2.2.2.3.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.2.2.4"><ci id="S3.SS1.SSS1.p1.9.m9.1.1.1.1.cmml" xref="S3.SS1.SSS1.p1.9.m9.1.1.1.1">𝑢</ci><ci id="S3.SS1.SSS1.p1.9.m9.2.2.2.2.cmml" xref="S3.SS1.SSS1.p1.9.m9.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.9.m9.2c">\hat{r}_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.9.m9.2d">over^ start_ARG italic_r end_ARG start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math> <math alttext="\approx" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.10.m10.1"><semantics id="S3.SS1.SSS1.p1.10.m10.1a"><mo id="S3.SS1.SSS1.p1.10.m10.1.1" xref="S3.SS1.SSS1.p1.10.m10.1.1.cmml">≈</mo><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.10.m10.1b"><approx id="S3.SS1.SSS1.p1.10.m10.1.1.cmml" xref="S3.SS1.SSS1.p1.10.m10.1.1"></approx></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.10.m10.1c">\approx</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.10.m10.1d">≈</annotation></semantics></math><math alttext="{r}_{u,i}" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.11.m11.2"><semantics id="S3.SS1.SSS1.p1.11.m11.2a"><msub id="S3.SS1.SSS1.p1.11.m11.2.3" xref="S3.SS1.SSS1.p1.11.m11.2.3.cmml"><mi id="S3.SS1.SSS1.p1.11.m11.2.3.2" xref="S3.SS1.SSS1.p1.11.m11.2.3.2.cmml">r</mi><mrow id="S3.SS1.SSS1.p1.11.m11.2.2.2.4" xref="S3.SS1.SSS1.p1.11.m11.2.2.2.3.cmml"><mi id="S3.SS1.SSS1.p1.11.m11.1.1.1.1" xref="S3.SS1.SSS1.p1.11.m11.1.1.1.1.cmml">u</mi><mo id="S3.SS1.SSS1.p1.11.m11.2.2.2.4.1" xref="S3.SS1.SSS1.p1.11.m11.2.2.2.3.cmml">,</mo><mi id="S3.SS1.SSS1.p1.11.m11.2.2.2.2" xref="S3.SS1.SSS1.p1.11.m11.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.11.m11.2b"><apply id="S3.SS1.SSS1.p1.11.m11.2.3.cmml" xref="S3.SS1.SSS1.p1.11.m11.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.11.m11.2.3.1.cmml" xref="S3.SS1.SSS1.p1.11.m11.2.3">subscript</csymbol><ci id="S3.SS1.SSS1.p1.11.m11.2.3.2.cmml" xref="S3.SS1.SSS1.p1.11.m11.2.3.2">𝑟</ci><list id="S3.SS1.SSS1.p1.11.m11.2.2.2.3.cmml" xref="S3.SS1.SSS1.p1.11.m11.2.2.2.4"><ci id="S3.SS1.SSS1.p1.11.m11.1.1.1.1.cmml" xref="S3.SS1.SSS1.p1.11.m11.1.1.1.1">𝑢</ci><ci id="S3.SS1.SSS1.p1.11.m11.2.2.2.2.cmml" xref="S3.SS1.SSS1.p1.11.m11.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.11.m11.2c">{r}_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.11.m11.2d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math> for any unobserved user-item pair <math alttext="(u,i)" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.12.m12.2"><semantics id="S3.SS1.SSS1.p1.12.m12.2a"><mrow id="S3.SS1.SSS1.p1.12.m12.2.3.2" xref="S3.SS1.SSS1.p1.12.m12.2.3.1.cmml"><mo id="S3.SS1.SSS1.p1.12.m12.2.3.2.1" stretchy="false" xref="S3.SS1.SSS1.p1.12.m12.2.3.1.cmml">(</mo><mi id="S3.SS1.SSS1.p1.12.m12.1.1" xref="S3.SS1.SSS1.p1.12.m12.1.1.cmml">u</mi><mo id="S3.SS1.SSS1.p1.12.m12.2.3.2.2" xref="S3.SS1.SSS1.p1.12.m12.2.3.1.cmml">,</mo><mi id="S3.SS1.SSS1.p1.12.m12.2.2" xref="S3.SS1.SSS1.p1.12.m12.2.2.cmml">i</mi><mo id="S3.SS1.SSS1.p1.12.m12.2.3.2.3" stretchy="false" xref="S3.SS1.SSS1.p1.12.m12.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.12.m12.2b"><interval closure="open" id="S3.SS1.SSS1.p1.12.m12.2.3.1.cmml" xref="S3.SS1.SSS1.p1.12.m12.2.3.2"><ci id="S3.SS1.SSS1.p1.12.m12.1.1.cmml" xref="S3.SS1.SSS1.p1.12.m12.1.1">𝑢</ci><ci id="S3.SS1.SSS1.p1.12.m12.2.2.cmml" xref="S3.SS1.SSS1.p1.12.m12.2.2">𝑖</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.12.m12.2c">(u,i)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.12.m12.2d">( italic_u , italic_i )</annotation></semantics></math>, where <math alttext="\hat{r}_{u,i}" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.13.m13.2"><semantics id="S3.SS1.SSS1.p1.13.m13.2a"><msub id="S3.SS1.SSS1.p1.13.m13.2.3" xref="S3.SS1.SSS1.p1.13.m13.2.3.cmml"><mover accent="true" id="S3.SS1.SSS1.p1.13.m13.2.3.2" xref="S3.SS1.SSS1.p1.13.m13.2.3.2.cmml"><mi id="S3.SS1.SSS1.p1.13.m13.2.3.2.2" xref="S3.SS1.SSS1.p1.13.m13.2.3.2.2.cmml">r</mi><mo id="S3.SS1.SSS1.p1.13.m13.2.3.2.1" xref="S3.SS1.SSS1.p1.13.m13.2.3.2.1.cmml">^</mo></mover><mrow id="S3.SS1.SSS1.p1.13.m13.2.2.2.4" xref="S3.SS1.SSS1.p1.13.m13.2.2.2.3.cmml"><mi id="S3.SS1.SSS1.p1.13.m13.1.1.1.1" xref="S3.SS1.SSS1.p1.13.m13.1.1.1.1.cmml">u</mi><mo id="S3.SS1.SSS1.p1.13.m13.2.2.2.4.1" xref="S3.SS1.SSS1.p1.13.m13.2.2.2.3.cmml">,</mo><mi id="S3.SS1.SSS1.p1.13.m13.2.2.2.2" xref="S3.SS1.SSS1.p1.13.m13.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.13.m13.2b"><apply id="S3.SS1.SSS1.p1.13.m13.2.3.cmml" xref="S3.SS1.SSS1.p1.13.m13.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSS1.p1.13.m13.2.3.1.cmml" xref="S3.SS1.SSS1.p1.13.m13.2.3">subscript</csymbol><apply id="S3.SS1.SSS1.p1.13.m13.2.3.2.cmml" xref="S3.SS1.SSS1.p1.13.m13.2.3.2"><ci id="S3.SS1.SSS1.p1.13.m13.2.3.2.1.cmml" xref="S3.SS1.SSS1.p1.13.m13.2.3.2.1">^</ci><ci id="S3.SS1.SSS1.p1.13.m13.2.3.2.2.cmml" xref="S3.SS1.SSS1.p1.13.m13.2.3.2.2">𝑟</ci></apply><list id="S3.SS1.SSS1.p1.13.m13.2.2.2.3.cmml" xref="S3.SS1.SSS1.p1.13.m13.2.2.2.4"><ci id="S3.SS1.SSS1.p1.13.m13.1.1.1.1.cmml" xref="S3.SS1.SSS1.p1.13.m13.1.1.1.1">𝑢</ci><ci id="S3.SS1.SSS1.p1.13.m13.2.2.2.2.cmml" xref="S3.SS1.SSS1.p1.13.m13.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.13.m13.2c">\hat{r}_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.13.m13.2d">over^ start_ARG italic_r end_ARG start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math> falls within the rating scale <math alttext="S" class="ltx_Math" display="inline" id="S3.SS1.SSS1.p1.14.m14.1"><semantics id="S3.SS1.SSS1.p1.14.m14.1a"><mi id="S3.SS1.SSS1.p1.14.m14.1.1" xref="S3.SS1.SSS1.p1.14.m14.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS1.p1.14.m14.1b"><ci id="S3.SS1.SSS1.p1.14.m14.1.1.cmml" xref="S3.SS1.SSS1.p1.14.m14.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS1.p1.14.m14.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS1.p1.14.m14.1d">italic_S</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.2. </span>Knowledge distillation from teacher to student LLM</h4>
<div class="ltx_para" id="S3.SS1.SSS2.p1">
<p class="ltx_p" id="S3.SS1.SSS2.p1.1">This work distills the capabilities of an LLM into a more cost-efficient one.
Specifically, we use GPT-3.5<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://chat.openai.com/" title="">https://chat.openai.com/</a></span></span></span> as the teacher LLM, leveraging its superior reasoning and language understanding capabilities.
The student LLM is built upon the LLaMA3-8B<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://llama.meta.com/docs/model-cards-and-prompt-formats/meta-llama-3" title="">https://llama.meta.com/docs/model-cards-and-prompt-formats/meta-llama-3</a></span></span></span> model, of which capabilities would be enhanced through distillation from the teacher LLM.
The knowledge distillation process primarily consist of two steps: (1) constructing data by prompting the teacher LLM to generate high-quality outputs, and (2) optimizing the student LLM via supervised fine-tuning (SFT) to mimic the teacher LLM’s outputs.
This approach enables the student LLM to perform effectively on various tasks while reducing resource requirements.
</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Preference Extraction from Reviews</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">The first step of <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.p1.1.1">Exp3rt</span> is to extract key preferences from raw reviews and organize them in a structured format.
Since raw reviews may be unstructured and noisy, making it difficult for LLMs to understand the contents, we extract and encapsulate a review into a list of preference descriptions, named as <span class="ltx_text ltx_font_italic" id="S3.SS2.p1.1.2">preference</span>.
Specifically, the preference categorizes a user’s various tastes for an item into “<span class="ltx_text ltx_font_italic" id="S3.SS2.p1.1.3">Like</span>” and “<span class="ltx_text ltx_font_italic" id="S3.SS2.p1.1.4">Dislike</span>” which can be inferred from the review.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.6">To distill the teacher LLM’s preference extraction ability, we collect training examples by prompting the teacher LLM to extract key preferences (i.e., <span class="ltx_text ltx_font_italic" id="S3.SS2.p2.6.1">Like</span> and <span class="ltx_text ltx_font_italic" id="S3.SS2.p2.6.2">Dislike</span>) from an input review <math alttext="v" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">v</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝑣</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">v</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_v</annotation></semantics></math> and organize them into a list of preference descriptions <math alttext="p" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">p</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_p</annotation></semantics></math>, i.e.,
<math alttext="{D}_{\text{PE}}=\{(v,p)|p\sim P_{\text{teacher}}(\cdot|v,T_{\text{PE}}),v\in%
\mathcal{V}\}" class="ltx_math_unparsed" display="inline" id="S3.SS2.p2.3.m3.2"><semantics id="S3.SS2.p2.3.m3.2a"><mrow id="S3.SS2.p2.3.m3.2b"><msub id="S3.SS2.p2.3.m3.2.3"><mi id="S3.SS2.p2.3.m3.2.3.2">D</mi><mtext id="S3.SS2.p2.3.m3.2.3.3">PE</mtext></msub><mo id="S3.SS2.p2.3.m3.2.4">=</mo><mrow id="S3.SS2.p2.3.m3.2.5"><mo id="S3.SS2.p2.3.m3.2.5.1" stretchy="false">{</mo><mrow id="S3.SS2.p2.3.m3.2.5.2"><mo id="S3.SS2.p2.3.m3.2.5.2.1" stretchy="false">(</mo><mi id="S3.SS2.p2.3.m3.1.1">v</mi><mo id="S3.SS2.p2.3.m3.2.5.2.2">,</mo><mi id="S3.SS2.p2.3.m3.2.2">p</mi><mo id="S3.SS2.p2.3.m3.2.5.2.3" stretchy="false">)</mo></mrow><mo fence="false" id="S3.SS2.p2.3.m3.2.5.3" rspace="0.167em" stretchy="false">|</mo><mi id="S3.SS2.p2.3.m3.2.5.4">p</mi><mo id="S3.SS2.p2.3.m3.2.5.5">∼</mo><msub id="S3.SS2.p2.3.m3.2.5.6"><mi id="S3.SS2.p2.3.m3.2.5.6.2">P</mi><mtext id="S3.SS2.p2.3.m3.2.5.6.3">teacher</mtext></msub><mrow id="S3.SS2.p2.3.m3.2.5.7"><mo id="S3.SS2.p2.3.m3.2.5.7.1" stretchy="false">(</mo><mo id="S3.SS2.p2.3.m3.2.5.7.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S3.SS2.p2.3.m3.2.5.7.3" rspace="0.167em" stretchy="false">|</mo><mi id="S3.SS2.p2.3.m3.2.5.7.4">v</mi><mo id="S3.SS2.p2.3.m3.2.5.7.5">,</mo><msub id="S3.SS2.p2.3.m3.2.5.7.6"><mi id="S3.SS2.p2.3.m3.2.5.7.6.2">T</mi><mtext id="S3.SS2.p2.3.m3.2.5.7.6.3">PE</mtext></msub><mo id="S3.SS2.p2.3.m3.2.5.7.7" stretchy="false">)</mo></mrow><mo id="S3.SS2.p2.3.m3.2.5.8">,</mo><mi id="S3.SS2.p2.3.m3.2.5.9">v</mi><mo id="S3.SS2.p2.3.m3.2.5.10">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.3.m3.2.5.11">𝒱</mi><mo id="S3.SS2.p2.3.m3.2.5.12" stretchy="false">}</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.2c">{D}_{\text{PE}}=\{(v,p)|p\sim P_{\text{teacher}}(\cdot|v,T_{\text{PE}}),v\in%
\mathcal{V}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.2d">italic_D start_POSTSUBSCRIPT PE end_POSTSUBSCRIPT = { ( italic_v , italic_p ) | italic_p ∼ italic_P start_POSTSUBSCRIPT teacher end_POSTSUBSCRIPT ( ⋅ | italic_v , italic_T start_POSTSUBSCRIPT PE end_POSTSUBSCRIPT ) , italic_v ∈ caligraphic_V }</annotation></semantics></math> where <math alttext="D_{\text{PE}}" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m4.1"><semantics id="S3.SS2.p2.4.m4.1a"><msub id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml"><mi id="S3.SS2.p2.4.m4.1.1.2" xref="S3.SS2.p2.4.m4.1.1.2.cmml">D</mi><mtext id="S3.SS2.p2.4.m4.1.1.3" xref="S3.SS2.p2.4.m4.1.1.3a.cmml">PE</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><apply id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.1.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p2.4.m4.1.1.2.cmml" xref="S3.SS2.p2.4.m4.1.1.2">𝐷</ci><ci id="S3.SS2.p2.4.m4.1.1.3a.cmml" xref="S3.SS2.p2.4.m4.1.1.3"><mtext id="S3.SS2.p2.4.m4.1.1.3.cmml" mathsize="70%" xref="S3.SS2.p2.4.m4.1.1.3">PE</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">D_{\text{PE}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m4.1d">italic_D start_POSTSUBSCRIPT PE end_POSTSUBSCRIPT</annotation></semantics></math> is the dataset, <math alttext="T_{\text{PE}}" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m5.1"><semantics id="S3.SS2.p2.5.m5.1a"><msub id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml"><mi id="S3.SS2.p2.5.m5.1.1.2" xref="S3.SS2.p2.5.m5.1.1.2.cmml">T</mi><mtext id="S3.SS2.p2.5.m5.1.1.3" xref="S3.SS2.p2.5.m5.1.1.3a.cmml">PE</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><apply id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m5.1.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p2.5.m5.1.1.2.cmml" xref="S3.SS2.p2.5.m5.1.1.2">𝑇</ci><ci id="S3.SS2.p2.5.m5.1.1.3a.cmml" xref="S3.SS2.p2.5.m5.1.1.3"><mtext id="S3.SS2.p2.5.m5.1.1.3.cmml" mathsize="70%" xref="S3.SS2.p2.5.m5.1.1.3">PE</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">T_{\text{PE}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m5.1d">italic_T start_POSTSUBSCRIPT PE end_POSTSUBSCRIPT</annotation></semantics></math> is the prompt for the preference extraction task, and <math alttext="P_{\text{teacher}}" class="ltx_Math" display="inline" id="S3.SS2.p2.6.m6.1"><semantics id="S3.SS2.p2.6.m6.1a"><msub id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml"><mi id="S3.SS2.p2.6.m6.1.1.2" xref="S3.SS2.p2.6.m6.1.1.2.cmml">P</mi><mtext id="S3.SS2.p2.6.m6.1.1.3" xref="S3.SS2.p2.6.m6.1.1.3a.cmml">teacher</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><apply id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m6.1.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p2.6.m6.1.1.2.cmml" xref="S3.SS2.p2.6.m6.1.1.2">𝑃</ci><ci id="S3.SS2.p2.6.m6.1.1.3a.cmml" xref="S3.SS2.p2.6.m6.1.1.3"><mtext id="S3.SS2.p2.6.m6.1.1.3.cmml" mathsize="70%" xref="S3.SS2.p2.6.m6.1.1.3">teacher</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">P_{\text{teacher}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.6.m6.1d">italic_P start_POSTSUBSCRIPT teacher end_POSTSUBSCRIPT</annotation></semantics></math> is the decoding probability of the teacher LLM.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>User and Item Profile Construction</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">The second step is constructing <span class="ltx_text ltx_font_italic" id="S3.SS3.p1.1.1">user profiles</span> and <span class="ltx_text ltx_font_italic" id="S3.SS3.p1.1.2">item profiles</span>, which refer to texts reflecting comprehensive subjective preference information about users or items;
the profile is obtained by aggregating and summarizing the preferences extracted from all <math alttext="\mathcal{V}" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">caligraphic_V</annotation></semantics></math> (in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS2" title="3.2. Preference Extraction from Reviews ‣ 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3.2</span></a>) with respect to each user or item.
In other words, these profiles include subjective information, capturing the preferences and characteristics associated with a specific user and item.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.8">The user profile <math alttext="s_{u}" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><msub id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mi id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml">s</mi><mi id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2">𝑠</ci><ci id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">s_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.1d">italic_s start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> is constructed by aggregating the set of preferences <math alttext="P_{u}=\{p|(v\in\mathcal{V}_{u},p)\in D_{\text{PE}}\}" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.3"><semantics id="S3.SS3.p2.2.m2.3a"><mrow id="S3.SS3.p2.2.m2.3.3" xref="S3.SS3.p2.2.m2.3.3.cmml"><msub id="S3.SS3.p2.2.m2.3.3.3" xref="S3.SS3.p2.2.m2.3.3.3.cmml"><mi id="S3.SS3.p2.2.m2.3.3.3.2" xref="S3.SS3.p2.2.m2.3.3.3.2.cmml">P</mi><mi id="S3.SS3.p2.2.m2.3.3.3.3" xref="S3.SS3.p2.2.m2.3.3.3.3.cmml">u</mi></msub><mo id="S3.SS3.p2.2.m2.3.3.2" xref="S3.SS3.p2.2.m2.3.3.2.cmml">=</mo><mrow id="S3.SS3.p2.2.m2.3.3.1.1" xref="S3.SS3.p2.2.m2.3.3.1.2.cmml"><mo id="S3.SS3.p2.2.m2.3.3.1.1.2" stretchy="false" xref="S3.SS3.p2.2.m2.3.3.1.2.1.cmml">{</mo><mi id="S3.SS3.p2.2.m2.2.2" xref="S3.SS3.p2.2.m2.2.2.cmml">p</mi><mo id="S3.SS3.p2.2.m2.3.3.1.1.3" lspace="0em" rspace="0em" xref="S3.SS3.p2.2.m2.3.3.1.2.1.cmml">|</mo><mrow id="S3.SS3.p2.2.m2.3.3.1.1.1" xref="S3.SS3.p2.2.m2.3.3.1.1.1.cmml"><mrow id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.cmml"><mo id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.cmml"><mi id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.3" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.3.cmml">v</mi><mo id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.2" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.2.cmml">∈</mo><mrow id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.2.cmml"><msub id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1.2" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1.2.cmml">𝒱</mi><mi id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1.3" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.2" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml">p</mi></mrow></mrow><mo id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.SS3.p2.2.m2.3.3.1.1.1.2" xref="S3.SS3.p2.2.m2.3.3.1.1.1.2.cmml">∈</mo><msub id="S3.SS3.p2.2.m2.3.3.1.1.1.3" xref="S3.SS3.p2.2.m2.3.3.1.1.1.3.cmml"><mi id="S3.SS3.p2.2.m2.3.3.1.1.1.3.2" xref="S3.SS3.p2.2.m2.3.3.1.1.1.3.2.cmml">D</mi><mtext id="S3.SS3.p2.2.m2.3.3.1.1.1.3.3" xref="S3.SS3.p2.2.m2.3.3.1.1.1.3.3a.cmml">PE</mtext></msub></mrow><mo id="S3.SS3.p2.2.m2.3.3.1.1.4" stretchy="false" xref="S3.SS3.p2.2.m2.3.3.1.2.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.3b"><apply id="S3.SS3.p2.2.m2.3.3.cmml" xref="S3.SS3.p2.2.m2.3.3"><eq id="S3.SS3.p2.2.m2.3.3.2.cmml" xref="S3.SS3.p2.2.m2.3.3.2"></eq><apply id="S3.SS3.p2.2.m2.3.3.3.cmml" xref="S3.SS3.p2.2.m2.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.3.3.3.1.cmml" xref="S3.SS3.p2.2.m2.3.3.3">subscript</csymbol><ci id="S3.SS3.p2.2.m2.3.3.3.2.cmml" xref="S3.SS3.p2.2.m2.3.3.3.2">𝑃</ci><ci id="S3.SS3.p2.2.m2.3.3.3.3.cmml" xref="S3.SS3.p2.2.m2.3.3.3.3">𝑢</ci></apply><apply id="S3.SS3.p2.2.m2.3.3.1.2.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1"><csymbol cd="latexml" id="S3.SS3.p2.2.m2.3.3.1.2.1.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.2">conditional-set</csymbol><ci id="S3.SS3.p2.2.m2.2.2.cmml" xref="S3.SS3.p2.2.m2.2.2">𝑝</ci><apply id="S3.SS3.p2.2.m2.3.3.1.1.1.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1"><in id="S3.SS3.p2.2.m2.3.3.1.1.1.2.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.2"></in><apply id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1"><in id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.2"></in><ci id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.3">𝑣</ci><list id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1"><apply id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1.2">𝒱</ci><ci id="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.1.1.1.1.1.1.3">𝑢</ci></apply><ci id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">𝑝</ci></list></apply><apply id="S3.SS3.p2.2.m2.3.3.1.1.1.3.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.3.3.1.1.1.3.1.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.3">subscript</csymbol><ci id="S3.SS3.p2.2.m2.3.3.1.1.1.3.2.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.3.2">𝐷</ci><ci id="S3.SS3.p2.2.m2.3.3.1.1.1.3.3a.cmml" xref="S3.SS3.p2.2.m2.3.3.1.1.1.3.3"><mtext id="S3.SS3.p2.2.m2.3.3.1.1.1.3.3.cmml" mathsize="70%" xref="S3.SS3.p2.2.m2.3.3.1.1.1.3.3">PE</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.3c">P_{u}=\{p|(v\in\mathcal{V}_{u},p)\in D_{\text{PE}}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.3d">italic_P start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT = { italic_p | ( italic_v ∈ caligraphic_V start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_p ) ∈ italic_D start_POSTSUBSCRIPT PE end_POSTSUBSCRIPT }</annotation></semantics></math> extracted from the user’s review set <math alttext="\mathcal{V}_{u}" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m3.1"><semantics id="S3.SS3.p2.3.m3.1a"><msub id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.3.m3.1.1.2" xref="S3.SS3.p2.3.m3.1.1.2.cmml">𝒱</mi><mi id="S3.SS3.p2.3.m3.1.1.3" xref="S3.SS3.p2.3.m3.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><apply id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.1.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p2.3.m3.1.1.2.cmml" xref="S3.SS3.p2.3.m3.1.1.2">𝒱</ci><ci id="S3.SS3.p2.3.m3.1.1.3.cmml" xref="S3.SS3.p2.3.m3.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">\mathcal{V}_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.3.m3.1d">caligraphic_V start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>, while the item profile <math alttext="s_{i}" class="ltx_Math" display="inline" id="S3.SS3.p2.4.m4.1"><semantics id="S3.SS3.p2.4.m4.1a"><msub id="S3.SS3.p2.4.m4.1.1" xref="S3.SS3.p2.4.m4.1.1.cmml"><mi id="S3.SS3.p2.4.m4.1.1.2" xref="S3.SS3.p2.4.m4.1.1.2.cmml">s</mi><mi id="S3.SS3.p2.4.m4.1.1.3" xref="S3.SS3.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m4.1b"><apply id="S3.SS3.p2.4.m4.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.1.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS3.p2.4.m4.1.1.2.cmml" xref="S3.SS3.p2.4.m4.1.1.2">𝑠</ci><ci id="S3.SS3.p2.4.m4.1.1.3.cmml" xref="S3.SS3.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m4.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.4.m4.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is created in a similar way by using the set of preferences <math alttext="P_{i}=\{p|(v\in\mathcal{V}_{i},p)\in D_{\text{PE}}\}" class="ltx_Math" display="inline" id="S3.SS3.p2.5.m5.3"><semantics id="S3.SS3.p2.5.m5.3a"><mrow id="S3.SS3.p2.5.m5.3.3" xref="S3.SS3.p2.5.m5.3.3.cmml"><msub id="S3.SS3.p2.5.m5.3.3.3" xref="S3.SS3.p2.5.m5.3.3.3.cmml"><mi id="S3.SS3.p2.5.m5.3.3.3.2" xref="S3.SS3.p2.5.m5.3.3.3.2.cmml">P</mi><mi id="S3.SS3.p2.5.m5.3.3.3.3" xref="S3.SS3.p2.5.m5.3.3.3.3.cmml">i</mi></msub><mo id="S3.SS3.p2.5.m5.3.3.2" xref="S3.SS3.p2.5.m5.3.3.2.cmml">=</mo><mrow id="S3.SS3.p2.5.m5.3.3.1.1" xref="S3.SS3.p2.5.m5.3.3.1.2.cmml"><mo id="S3.SS3.p2.5.m5.3.3.1.1.2" stretchy="false" xref="S3.SS3.p2.5.m5.3.3.1.2.1.cmml">{</mo><mi id="S3.SS3.p2.5.m5.2.2" xref="S3.SS3.p2.5.m5.2.2.cmml">p</mi><mo id="S3.SS3.p2.5.m5.3.3.1.1.3" lspace="0em" rspace="0em" xref="S3.SS3.p2.5.m5.3.3.1.2.1.cmml">|</mo><mrow id="S3.SS3.p2.5.m5.3.3.1.1.1" xref="S3.SS3.p2.5.m5.3.3.1.1.1.cmml"><mrow id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.cmml"><mo id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.cmml"><mi id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.3" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.3.cmml">v</mi><mo id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.2" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.2.cmml">∈</mo><mrow id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.2.cmml"><msub id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1.2" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1.2.cmml">𝒱</mi><mi id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1.3" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.2" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.SS3.p2.5.m5.1.1" xref="S3.SS3.p2.5.m5.1.1.cmml">p</mi></mrow></mrow><mo id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.SS3.p2.5.m5.3.3.1.1.1.2" xref="S3.SS3.p2.5.m5.3.3.1.1.1.2.cmml">∈</mo><msub id="S3.SS3.p2.5.m5.3.3.1.1.1.3" xref="S3.SS3.p2.5.m5.3.3.1.1.1.3.cmml"><mi id="S3.SS3.p2.5.m5.3.3.1.1.1.3.2" xref="S3.SS3.p2.5.m5.3.3.1.1.1.3.2.cmml">D</mi><mtext id="S3.SS3.p2.5.m5.3.3.1.1.1.3.3" xref="S3.SS3.p2.5.m5.3.3.1.1.1.3.3a.cmml">PE</mtext></msub></mrow><mo id="S3.SS3.p2.5.m5.3.3.1.1.4" stretchy="false" xref="S3.SS3.p2.5.m5.3.3.1.2.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m5.3b"><apply id="S3.SS3.p2.5.m5.3.3.cmml" xref="S3.SS3.p2.5.m5.3.3"><eq id="S3.SS3.p2.5.m5.3.3.2.cmml" xref="S3.SS3.p2.5.m5.3.3.2"></eq><apply id="S3.SS3.p2.5.m5.3.3.3.cmml" xref="S3.SS3.p2.5.m5.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p2.5.m5.3.3.3.1.cmml" xref="S3.SS3.p2.5.m5.3.3.3">subscript</csymbol><ci id="S3.SS3.p2.5.m5.3.3.3.2.cmml" xref="S3.SS3.p2.5.m5.3.3.3.2">𝑃</ci><ci id="S3.SS3.p2.5.m5.3.3.3.3.cmml" xref="S3.SS3.p2.5.m5.3.3.3.3">𝑖</ci></apply><apply id="S3.SS3.p2.5.m5.3.3.1.2.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1"><csymbol cd="latexml" id="S3.SS3.p2.5.m5.3.3.1.2.1.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.2">conditional-set</csymbol><ci id="S3.SS3.p2.5.m5.2.2.cmml" xref="S3.SS3.p2.5.m5.2.2">𝑝</ci><apply id="S3.SS3.p2.5.m5.3.3.1.1.1.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1"><in id="S3.SS3.p2.5.m5.3.3.1.1.1.2.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.2"></in><apply id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1"><in id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.2"></in><ci id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.3">𝑣</ci><list id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1"><apply id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1.2">𝒱</ci><ci id="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><ci id="S3.SS3.p2.5.m5.1.1.cmml" xref="S3.SS3.p2.5.m5.1.1">𝑝</ci></list></apply><apply id="S3.SS3.p2.5.m5.3.3.1.1.1.3.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.5.m5.3.3.1.1.1.3.1.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.3">subscript</csymbol><ci id="S3.SS3.p2.5.m5.3.3.1.1.1.3.2.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.3.2">𝐷</ci><ci id="S3.SS3.p2.5.m5.3.3.1.1.1.3.3a.cmml" xref="S3.SS3.p2.5.m5.3.3.1.1.1.3.3"><mtext id="S3.SS3.p2.5.m5.3.3.1.1.1.3.3.cmml" mathsize="70%" xref="S3.SS3.p2.5.m5.3.3.1.1.1.3.3">PE</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m5.3c">P_{i}=\{p|(v\in\mathcal{V}_{i},p)\in D_{\text{PE}}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.5.m5.3d">italic_P start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = { italic_p | ( italic_v ∈ caligraphic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_p ) ∈ italic_D start_POSTSUBSCRIPT PE end_POSTSUBSCRIPT }</annotation></semantics></math> obtained from the item’s review set <math alttext="\mathcal{V}_{i}" class="ltx_Math" display="inline" id="S3.SS3.p2.6.m6.1"><semantics id="S3.SS3.p2.6.m6.1a"><msub id="S3.SS3.p2.6.m6.1.1" xref="S3.SS3.p2.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.6.m6.1.1.2" xref="S3.SS3.p2.6.m6.1.1.2.cmml">𝒱</mi><mi id="S3.SS3.p2.6.m6.1.1.3" xref="S3.SS3.p2.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.6.m6.1b"><apply id="S3.SS3.p2.6.m6.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.6.m6.1.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1">subscript</csymbol><ci id="S3.SS3.p2.6.m6.1.1.2.cmml" xref="S3.SS3.p2.6.m6.1.1.2">𝒱</ci><ci id="S3.SS3.p2.6.m6.1.1.3.cmml" xref="S3.SS3.p2.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.6.m6.1c">\mathcal{V}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.6.m6.1d">caligraphic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>.
That is, training examples for profile construction are obtained by prompting the teacher LLM, i.e., <math alttext="{D}_{\text{PC}}=\{(P,s)|s\sim P_{\text{teacher}}(\cdot|P,T_{\text{PC}})\}" class="ltx_math_unparsed" display="inline" id="S3.SS3.p2.7.m7.2"><semantics id="S3.SS3.p2.7.m7.2a"><mrow id="S3.SS3.p2.7.m7.2b"><msub id="S3.SS3.p2.7.m7.2.3"><mi id="S3.SS3.p2.7.m7.2.3.2">D</mi><mtext id="S3.SS3.p2.7.m7.2.3.3">PC</mtext></msub><mo id="S3.SS3.p2.7.m7.2.4">=</mo><mrow id="S3.SS3.p2.7.m7.2.5"><mo id="S3.SS3.p2.7.m7.2.5.1" stretchy="false">{</mo><mrow id="S3.SS3.p2.7.m7.2.5.2"><mo id="S3.SS3.p2.7.m7.2.5.2.1" stretchy="false">(</mo><mi id="S3.SS3.p2.7.m7.1.1">P</mi><mo id="S3.SS3.p2.7.m7.2.5.2.2">,</mo><mi id="S3.SS3.p2.7.m7.2.2">s</mi><mo id="S3.SS3.p2.7.m7.2.5.2.3" stretchy="false">)</mo></mrow><mo fence="false" id="S3.SS3.p2.7.m7.2.5.3" rspace="0.167em" stretchy="false">|</mo><mi id="S3.SS3.p2.7.m7.2.5.4">s</mi><mo id="S3.SS3.p2.7.m7.2.5.5">∼</mo><msub id="S3.SS3.p2.7.m7.2.5.6"><mi id="S3.SS3.p2.7.m7.2.5.6.2">P</mi><mtext id="S3.SS3.p2.7.m7.2.5.6.3">teacher</mtext></msub><mrow id="S3.SS3.p2.7.m7.2.5.7"><mo id="S3.SS3.p2.7.m7.2.5.7.1" stretchy="false">(</mo><mo id="S3.SS3.p2.7.m7.2.5.7.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S3.SS3.p2.7.m7.2.5.7.3" rspace="0.167em" stretchy="false">|</mo><mi id="S3.SS3.p2.7.m7.2.5.7.4">P</mi><mo id="S3.SS3.p2.7.m7.2.5.7.5">,</mo><msub id="S3.SS3.p2.7.m7.2.5.7.6"><mi id="S3.SS3.p2.7.m7.2.5.7.6.2">T</mi><mtext id="S3.SS3.p2.7.m7.2.5.7.6.3">PC</mtext></msub><mo id="S3.SS3.p2.7.m7.2.5.7.7" stretchy="false">)</mo></mrow><mo id="S3.SS3.p2.7.m7.2.5.8" stretchy="false">}</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS3.p2.7.m7.2c">{D}_{\text{PC}}=\{(P,s)|s\sim P_{\text{teacher}}(\cdot|P,T_{\text{PC}})\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.7.m7.2d">italic_D start_POSTSUBSCRIPT PC end_POSTSUBSCRIPT = { ( italic_P , italic_s ) | italic_s ∼ italic_P start_POSTSUBSCRIPT teacher end_POSTSUBSCRIPT ( ⋅ | italic_P , italic_T start_POSTSUBSCRIPT PC end_POSTSUBSCRIPT ) }</annotation></semantics></math>, where <math alttext="T_{\text{PC}}" class="ltx_Math" display="inline" id="S3.SS3.p2.8.m8.1"><semantics id="S3.SS3.p2.8.m8.1a"><msub id="S3.SS3.p2.8.m8.1.1" xref="S3.SS3.p2.8.m8.1.1.cmml"><mi id="S3.SS3.p2.8.m8.1.1.2" xref="S3.SS3.p2.8.m8.1.1.2.cmml">T</mi><mtext id="S3.SS3.p2.8.m8.1.1.3" xref="S3.SS3.p2.8.m8.1.1.3a.cmml">PC</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.8.m8.1b"><apply id="S3.SS3.p2.8.m8.1.1.cmml" xref="S3.SS3.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m8.1.1.1.cmml" xref="S3.SS3.p2.8.m8.1.1">subscript</csymbol><ci id="S3.SS3.p2.8.m8.1.1.2.cmml" xref="S3.SS3.p2.8.m8.1.1.2">𝑇</ci><ci id="S3.SS3.p2.8.m8.1.1.3a.cmml" xref="S3.SS3.p2.8.m8.1.1.3"><mtext id="S3.SS3.p2.8.m8.1.1.3.cmml" mathsize="70%" xref="S3.SS3.p2.8.m8.1.1.3">PC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.8.m8.1c">T_{\text{PC}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.8.m8.1d">italic_T start_POSTSUBSCRIPT PC end_POSTSUBSCRIPT</annotation></semantics></math> is the prompt for the profile construction task.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Reasoning-enhanced Rating Prediction</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.2">The final step is to predict the rating <math alttext="\hat{r}_{u,i}" class="ltx_Math" display="inline" id="S3.SS4.p1.1.m1.2"><semantics id="S3.SS4.p1.1.m1.2a"><msub id="S3.SS4.p1.1.m1.2.3" xref="S3.SS4.p1.1.m1.2.3.cmml"><mover accent="true" id="S3.SS4.p1.1.m1.2.3.2" xref="S3.SS4.p1.1.m1.2.3.2.cmml"><mi id="S3.SS4.p1.1.m1.2.3.2.2" xref="S3.SS4.p1.1.m1.2.3.2.2.cmml">r</mi><mo id="S3.SS4.p1.1.m1.2.3.2.1" xref="S3.SS4.p1.1.m1.2.3.2.1.cmml">^</mo></mover><mrow id="S3.SS4.p1.1.m1.2.2.2.4" xref="S3.SS4.p1.1.m1.2.2.2.3.cmml"><mi id="S3.SS4.p1.1.m1.1.1.1.1" xref="S3.SS4.p1.1.m1.1.1.1.1.cmml">u</mi><mo id="S3.SS4.p1.1.m1.2.2.2.4.1" xref="S3.SS4.p1.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p1.1.m1.2.2.2.2" xref="S3.SS4.p1.1.m1.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.2b"><apply id="S3.SS4.p1.1.m1.2.3.cmml" xref="S3.SS4.p1.1.m1.2.3"><csymbol cd="ambiguous" id="S3.SS4.p1.1.m1.2.3.1.cmml" xref="S3.SS4.p1.1.m1.2.3">subscript</csymbol><apply id="S3.SS4.p1.1.m1.2.3.2.cmml" xref="S3.SS4.p1.1.m1.2.3.2"><ci id="S3.SS4.p1.1.m1.2.3.2.1.cmml" xref="S3.SS4.p1.1.m1.2.3.2.1">^</ci><ci id="S3.SS4.p1.1.m1.2.3.2.2.cmml" xref="S3.SS4.p1.1.m1.2.3.2.2">𝑟</ci></apply><list id="S3.SS4.p1.1.m1.2.2.2.3.cmml" xref="S3.SS4.p1.1.m1.2.2.2.4"><ci id="S3.SS4.p1.1.m1.1.1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1.1.1">𝑢</ci><ci id="S3.SS4.p1.1.m1.2.2.2.2.cmml" xref="S3.SS4.p1.1.m1.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.2c">\hat{r}_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.1.m1.2d">over^ start_ARG italic_r end_ARG start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math> of a user-item interaction based on step-by-step textual reasoning, utilizing key information extracted from <math alttext="\mathcal{V}" class="ltx_Math" display="inline" id="S3.SS4.p1.2.m2.1"><semantics id="S3.SS4.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b"><ci id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.2.m2.1d">caligraphic_V</annotation></semantics></math> (in Sections <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS2" title="3.2. Preference Extraction from Reviews ‣ 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3.2</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS3" title="3.3. User and Item Profile Construction ‣ 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3.3</span></a>).
Since user/item profiles contain subjective information, we additionally make use of item descriptions as an objective information source, in order to generate reasoning from a comprehensive perspective.
In the reasoning process, our model is expected to match user preferences (from user profile) with item characteristics (from item profile and descriptions) to evaluate their alignment for rating prediction.
Consequently, through step-by-step reasoning, <span class="ltx_text ltx_font_smallcaps" id="S3.SS4.p1.2.1">Exp3rt</span> generates personalized and comprehensible reasonings, which are helpful to predict a user’s rating for a target item.</p>
</div>
<div class="ltx_para" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.10">To achieve this, we annotate detailed step-by-step reasoning for each user-item interaction (i.e., rating) by leveraging the great reasoning capability of the teacher LLM.
For an observed interaction between user <math alttext="u" class="ltx_Math" display="inline" id="S3.SS4.p2.1.m1.1"><semantics id="S3.SS4.p2.1.m1.1a"><mi id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><ci id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.1.m1.1d">italic_u</annotation></semantics></math> and item <math alttext="i" class="ltx_Math" display="inline" id="S3.SS4.p2.2.m2.1"><semantics id="S3.SS4.p2.2.m2.1a"><mi id="S3.SS4.p2.2.m2.1.1" xref="S3.SS4.p2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.2.m2.1b"><ci id="S3.SS4.p2.2.m2.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.2.m2.1d">italic_i</annotation></semantics></math>, we prompt the teacher LLM to decode a textual explanation <math alttext="e" class="ltx_Math" display="inline" id="S3.SS4.p2.3.m3.1"><semantics id="S3.SS4.p2.3.m3.1a"><mi id="S3.SS4.p2.3.m3.1.1" xref="S3.SS4.p2.3.m3.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.3.m3.1b"><ci id="S3.SS4.p2.3.m3.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.3.m3.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.3.m3.1d">italic_e</annotation></semantics></math> given a user profile <math alttext="s_{u}" class="ltx_Math" display="inline" id="S3.SS4.p2.4.m4.1"><semantics id="S3.SS4.p2.4.m4.1a"><msub id="S3.SS4.p2.4.m4.1.1" xref="S3.SS4.p2.4.m4.1.1.cmml"><mi id="S3.SS4.p2.4.m4.1.1.2" xref="S3.SS4.p2.4.m4.1.1.2.cmml">s</mi><mi id="S3.SS4.p2.4.m4.1.1.3" xref="S3.SS4.p2.4.m4.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.4.m4.1b"><apply id="S3.SS4.p2.4.m4.1.1.cmml" xref="S3.SS4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.4.m4.1.1.1.cmml" xref="S3.SS4.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.p2.4.m4.1.1.2.cmml" xref="S3.SS4.p2.4.m4.1.1.2">𝑠</ci><ci id="S3.SS4.p2.4.m4.1.1.3.cmml" xref="S3.SS4.p2.4.m4.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.4.m4.1c">s_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.4.m4.1d">italic_s start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>, an item profile <math alttext="s_{i}" class="ltx_Math" display="inline" id="S3.SS4.p2.5.m5.1"><semantics id="S3.SS4.p2.5.m5.1a"><msub id="S3.SS4.p2.5.m5.1.1" xref="S3.SS4.p2.5.m5.1.1.cmml"><mi id="S3.SS4.p2.5.m5.1.1.2" xref="S3.SS4.p2.5.m5.1.1.2.cmml">s</mi><mi id="S3.SS4.p2.5.m5.1.1.3" xref="S3.SS4.p2.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.5.m5.1b"><apply id="S3.SS4.p2.5.m5.1.1.cmml" xref="S3.SS4.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.5.m5.1.1.1.cmml" xref="S3.SS4.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS4.p2.5.m5.1.1.2.cmml" xref="S3.SS4.p2.5.m5.1.1.2">𝑠</ci><ci id="S3.SS4.p2.5.m5.1.1.3.cmml" xref="S3.SS4.p2.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.5.m5.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.5.m5.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, item descriptions <math alttext="d_{i}" class="ltx_Math" display="inline" id="S3.SS4.p2.6.m6.1"><semantics id="S3.SS4.p2.6.m6.1a"><msub id="S3.SS4.p2.6.m6.1.1" xref="S3.SS4.p2.6.m6.1.1.cmml"><mi id="S3.SS4.p2.6.m6.1.1.2" xref="S3.SS4.p2.6.m6.1.1.2.cmml">d</mi><mi id="S3.SS4.p2.6.m6.1.1.3" xref="S3.SS4.p2.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.6.m6.1b"><apply id="S3.SS4.p2.6.m6.1.1.cmml" xref="S3.SS4.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.6.m6.1.1.1.cmml" xref="S3.SS4.p2.6.m6.1.1">subscript</csymbol><ci id="S3.SS4.p2.6.m6.1.1.2.cmml" xref="S3.SS4.p2.6.m6.1.1.2">𝑑</ci><ci id="S3.SS4.p2.6.m6.1.1.3.cmml" xref="S3.SS4.p2.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.6.m6.1c">d_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.6.m6.1d">italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, and the user’s actual rating <math alttext="r_{u,i}" class="ltx_Math" display="inline" id="S3.SS4.p2.7.m7.2"><semantics id="S3.SS4.p2.7.m7.2a"><msub id="S3.SS4.p2.7.m7.2.3" xref="S3.SS4.p2.7.m7.2.3.cmml"><mi id="S3.SS4.p2.7.m7.2.3.2" xref="S3.SS4.p2.7.m7.2.3.2.cmml">r</mi><mrow id="S3.SS4.p2.7.m7.2.2.2.4" xref="S3.SS4.p2.7.m7.2.2.2.3.cmml"><mi id="S3.SS4.p2.7.m7.1.1.1.1" xref="S3.SS4.p2.7.m7.1.1.1.1.cmml">u</mi><mo id="S3.SS4.p2.7.m7.2.2.2.4.1" xref="S3.SS4.p2.7.m7.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p2.7.m7.2.2.2.2" xref="S3.SS4.p2.7.m7.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.7.m7.2b"><apply id="S3.SS4.p2.7.m7.2.3.cmml" xref="S3.SS4.p2.7.m7.2.3"><csymbol cd="ambiguous" id="S3.SS4.p2.7.m7.2.3.1.cmml" xref="S3.SS4.p2.7.m7.2.3">subscript</csymbol><ci id="S3.SS4.p2.7.m7.2.3.2.cmml" xref="S3.SS4.p2.7.m7.2.3.2">𝑟</ci><list id="S3.SS4.p2.7.m7.2.2.2.3.cmml" xref="S3.SS4.p2.7.m7.2.2.2.4"><ci id="S3.SS4.p2.7.m7.1.1.1.1.cmml" xref="S3.SS4.p2.7.m7.1.1.1.1">𝑢</ci><ci id="S3.SS4.p2.7.m7.2.2.2.2.cmml" xref="S3.SS4.p2.7.m7.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.7.m7.2c">r_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.7.m7.2d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math>;
that is, the training dataset for reasoning-enhanced rating prediction <math alttext="D_{\text{RP}}" class="ltx_Math" display="inline" id="S3.SS4.p2.8.m8.1"><semantics id="S3.SS4.p2.8.m8.1a"><msub id="S3.SS4.p2.8.m8.1.1" xref="S3.SS4.p2.8.m8.1.1.cmml"><mi id="S3.SS4.p2.8.m8.1.1.2" xref="S3.SS4.p2.8.m8.1.1.2.cmml">D</mi><mtext id="S3.SS4.p2.8.m8.1.1.3" xref="S3.SS4.p2.8.m8.1.1.3a.cmml">RP</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.8.m8.1b"><apply id="S3.SS4.p2.8.m8.1.1.cmml" xref="S3.SS4.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.8.m8.1.1.1.cmml" xref="S3.SS4.p2.8.m8.1.1">subscript</csymbol><ci id="S3.SS4.p2.8.m8.1.1.2.cmml" xref="S3.SS4.p2.8.m8.1.1.2">𝐷</ci><ci id="S3.SS4.p2.8.m8.1.1.3a.cmml" xref="S3.SS4.p2.8.m8.1.1.3"><mtext id="S3.SS4.p2.8.m8.1.1.3.cmml" mathsize="70%" xref="S3.SS4.p2.8.m8.1.1.3">RP</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.8.m8.1c">D_{\text{RP}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.8.m8.1d">italic_D start_POSTSUBSCRIPT RP end_POSTSUBSCRIPT</annotation></semantics></math> is obtained by <math alttext="{D}_{\text{RP}}=\{(s_{u},s_{i},d_{i},e,r_{u,i})|e\sim P_{\text{teacher}}(\cdot%
|s_{u},s_{i},d_{i},r_{u,i},T_{\text{RG}})\}," class="ltx_math_unparsed" display="inline" id="S3.SS4.p2.9.m9.5"><semantics id="S3.SS4.p2.9.m9.5a"><mrow id="S3.SS4.p2.9.m9.5b"><msub id="S3.SS4.p2.9.m9.5.6"><mi id="S3.SS4.p2.9.m9.5.6.2">D</mi><mtext id="S3.SS4.p2.9.m9.5.6.3">RP</mtext></msub><mo id="S3.SS4.p2.9.m9.5.7">=</mo><mrow id="S3.SS4.p2.9.m9.5.8"><mo id="S3.SS4.p2.9.m9.5.8.1" stretchy="false">{</mo><mrow id="S3.SS4.p2.9.m9.5.8.2"><mo id="S3.SS4.p2.9.m9.5.8.2.1" stretchy="false">(</mo><msub id="S3.SS4.p2.9.m9.5.8.2.2"><mi id="S3.SS4.p2.9.m9.5.8.2.2.2">s</mi><mi id="S3.SS4.p2.9.m9.5.8.2.2.3">u</mi></msub><mo id="S3.SS4.p2.9.m9.5.8.2.3">,</mo><msub id="S3.SS4.p2.9.m9.5.8.2.4"><mi id="S3.SS4.p2.9.m9.5.8.2.4.2">s</mi><mi id="S3.SS4.p2.9.m9.5.8.2.4.3">i</mi></msub><mo id="S3.SS4.p2.9.m9.5.8.2.5">,</mo><msub id="S3.SS4.p2.9.m9.5.8.2.6"><mi id="S3.SS4.p2.9.m9.5.8.2.6.2">d</mi><mi id="S3.SS4.p2.9.m9.5.8.2.6.3">i</mi></msub><mo id="S3.SS4.p2.9.m9.5.8.2.7">,</mo><mi id="S3.SS4.p2.9.m9.5.5">e</mi><mo id="S3.SS4.p2.9.m9.5.8.2.8">,</mo><msub id="S3.SS4.p2.9.m9.5.8.2.9"><mi id="S3.SS4.p2.9.m9.5.8.2.9.2">r</mi><mrow id="S3.SS4.p2.9.m9.2.2.2.4"><mi id="S3.SS4.p2.9.m9.1.1.1.1">u</mi><mo id="S3.SS4.p2.9.m9.2.2.2.4.1">,</mo><mi id="S3.SS4.p2.9.m9.2.2.2.2">i</mi></mrow></msub><mo id="S3.SS4.p2.9.m9.5.8.2.10" stretchy="false">)</mo></mrow><mo fence="false" id="S3.SS4.p2.9.m9.5.8.3" rspace="0.167em" stretchy="false">|</mo><mi id="S3.SS4.p2.9.m9.5.8.4">e</mi><mo id="S3.SS4.p2.9.m9.5.8.5">∼</mo><msub id="S3.SS4.p2.9.m9.5.8.6"><mi id="S3.SS4.p2.9.m9.5.8.6.2">P</mi><mtext id="S3.SS4.p2.9.m9.5.8.6.3">teacher</mtext></msub><mrow id="S3.SS4.p2.9.m9.5.8.7"><mo id="S3.SS4.p2.9.m9.5.8.7.1" stretchy="false">(</mo><mo id="S3.SS4.p2.9.m9.5.8.7.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S3.SS4.p2.9.m9.5.8.7.3" rspace="0.167em" stretchy="false">|</mo><msub id="S3.SS4.p2.9.m9.5.8.7.4"><mi id="S3.SS4.p2.9.m9.5.8.7.4.2">s</mi><mi id="S3.SS4.p2.9.m9.5.8.7.4.3">u</mi></msub><mo id="S3.SS4.p2.9.m9.5.8.7.5">,</mo><msub id="S3.SS4.p2.9.m9.5.8.7.6"><mi id="S3.SS4.p2.9.m9.5.8.7.6.2">s</mi><mi id="S3.SS4.p2.9.m9.5.8.7.6.3">i</mi></msub><mo id="S3.SS4.p2.9.m9.5.8.7.7">,</mo><msub id="S3.SS4.p2.9.m9.5.8.7.8"><mi id="S3.SS4.p2.9.m9.5.8.7.8.2">d</mi><mi id="S3.SS4.p2.9.m9.5.8.7.8.3">i</mi></msub><mo id="S3.SS4.p2.9.m9.5.8.7.9">,</mo><msub id="S3.SS4.p2.9.m9.5.8.7.10"><mi id="S3.SS4.p2.9.m9.5.8.7.10.2">r</mi><mrow id="S3.SS4.p2.9.m9.4.4.2.4"><mi id="S3.SS4.p2.9.m9.3.3.1.1">u</mi><mo id="S3.SS4.p2.9.m9.4.4.2.4.1">,</mo><mi id="S3.SS4.p2.9.m9.4.4.2.2">i</mi></mrow></msub><mo id="S3.SS4.p2.9.m9.5.8.7.11">,</mo><msub id="S3.SS4.p2.9.m9.5.8.7.12"><mi id="S3.SS4.p2.9.m9.5.8.7.12.2">T</mi><mtext id="S3.SS4.p2.9.m9.5.8.7.12.3">RG</mtext></msub><mo id="S3.SS4.p2.9.m9.5.8.7.13" stretchy="false">)</mo></mrow><mo id="S3.SS4.p2.9.m9.5.8.8" stretchy="false">}</mo></mrow><mo id="S3.SS4.p2.9.m9.5.9">,</mo></mrow><annotation encoding="application/x-tex" id="S3.SS4.p2.9.m9.5c">{D}_{\text{RP}}=\{(s_{u},s_{i},d_{i},e,r_{u,i})|e\sim P_{\text{teacher}}(\cdot%
|s_{u},s_{i},d_{i},r_{u,i},T_{\text{RG}})\},</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.9.m9.5d">italic_D start_POSTSUBSCRIPT RP end_POSTSUBSCRIPT = { ( italic_s start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_e , italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT ) | italic_e ∼ italic_P start_POSTSUBSCRIPT teacher end_POSTSUBSCRIPT ( ⋅ | italic_s start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT , italic_T start_POSTSUBSCRIPT RG end_POSTSUBSCRIPT ) } ,</annotation></semantics></math>
where <math alttext="T_{\text{RG}}" class="ltx_Math" display="inline" id="S3.SS4.p2.10.m10.1"><semantics id="S3.SS4.p2.10.m10.1a"><msub id="S3.SS4.p2.10.m10.1.1" xref="S3.SS4.p2.10.m10.1.1.cmml"><mi id="S3.SS4.p2.10.m10.1.1.2" xref="S3.SS4.p2.10.m10.1.1.2.cmml">T</mi><mtext id="S3.SS4.p2.10.m10.1.1.3" xref="S3.SS4.p2.10.m10.1.1.3a.cmml">RG</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.10.m10.1b"><apply id="S3.SS4.p2.10.m10.1.1.cmml" xref="S3.SS4.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.10.m10.1.1.1.cmml" xref="S3.SS4.p2.10.m10.1.1">subscript</csymbol><ci id="S3.SS4.p2.10.m10.1.1.2.cmml" xref="S3.SS4.p2.10.m10.1.1.2">𝑇</ci><ci id="S3.SS4.p2.10.m10.1.1.3a.cmml" xref="S3.SS4.p2.10.m10.1.1.3"><mtext id="S3.SS4.p2.10.m10.1.1.3.cmml" mathsize="70%" xref="S3.SS4.p2.10.m10.1.1.3">RG</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.10.m10.1c">T_{\text{RG}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.10.m10.1d">italic_T start_POSTSUBSCRIPT RG end_POSTSUBSCRIPT</annotation></semantics></math> is the prompt for the reasoning generation task.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5. </span>Optimization and Inference</h3>
<section class="ltx_subsubsection" id="S3.SS5.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.5.1. </span>Optimization</h4>
<div class="ltx_para" id="S3.SS5.SSS1.p1">
<p class="ltx_p" id="S3.SS5.SSS1.p1.5">Instruction tuning is a key technique for training LLMs with human-annotated instructions, enabling them to handle tasks more effectively <cite class="ltx_cite ltx_citemacro_citep">(Ouyang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib21" title="">2022</a>)</cite>.
To apply LLMs to recommendation tasks, we use this technique to guide the model in predicting user preferences.
To perform instruction tuning, we transform the three datasets <math alttext="{D}_{\text{PE}}" class="ltx_Math" display="inline" id="S3.SS5.SSS1.p1.1.m1.1"><semantics id="S3.SS5.SSS1.p1.1.m1.1a"><msub id="S3.SS5.SSS1.p1.1.m1.1.1" xref="S3.SS5.SSS1.p1.1.m1.1.1.cmml"><mi id="S3.SS5.SSS1.p1.1.m1.1.1.2" xref="S3.SS5.SSS1.p1.1.m1.1.1.2.cmml">D</mi><mtext id="S3.SS5.SSS1.p1.1.m1.1.1.3" xref="S3.SS5.SSS1.p1.1.m1.1.1.3a.cmml">PE</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS1.p1.1.m1.1b"><apply id="S3.SS5.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS5.SSS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS1.p1.1.m1.1.1.1.cmml" xref="S3.SS5.SSS1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.SSS1.p1.1.m1.1.1.2.cmml" xref="S3.SS5.SSS1.p1.1.m1.1.1.2">𝐷</ci><ci id="S3.SS5.SSS1.p1.1.m1.1.1.3a.cmml" xref="S3.SS5.SSS1.p1.1.m1.1.1.3"><mtext id="S3.SS5.SSS1.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS5.SSS1.p1.1.m1.1.1.3">PE</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS1.p1.1.m1.1c">{D}_{\text{PE}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS1.p1.1.m1.1d">italic_D start_POSTSUBSCRIPT PE end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="{D}_{\text{PC}}" class="ltx_Math" display="inline" id="S3.SS5.SSS1.p1.2.m2.1"><semantics id="S3.SS5.SSS1.p1.2.m2.1a"><msub id="S3.SS5.SSS1.p1.2.m2.1.1" xref="S3.SS5.SSS1.p1.2.m2.1.1.cmml"><mi id="S3.SS5.SSS1.p1.2.m2.1.1.2" xref="S3.SS5.SSS1.p1.2.m2.1.1.2.cmml">D</mi><mtext id="S3.SS5.SSS1.p1.2.m2.1.1.3" xref="S3.SS5.SSS1.p1.2.m2.1.1.3a.cmml">PC</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS1.p1.2.m2.1b"><apply id="S3.SS5.SSS1.p1.2.m2.1.1.cmml" xref="S3.SS5.SSS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS1.p1.2.m2.1.1.1.cmml" xref="S3.SS5.SSS1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.SSS1.p1.2.m2.1.1.2.cmml" xref="S3.SS5.SSS1.p1.2.m2.1.1.2">𝐷</ci><ci id="S3.SS5.SSS1.p1.2.m2.1.1.3a.cmml" xref="S3.SS5.SSS1.p1.2.m2.1.1.3"><mtext id="S3.SS5.SSS1.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS5.SSS1.p1.2.m2.1.1.3">PC</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS1.p1.2.m2.1c">{D}_{\text{PC}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS1.p1.2.m2.1d">italic_D start_POSTSUBSCRIPT PC end_POSTSUBSCRIPT</annotation></semantics></math>, and <math alttext="{D}_{\text{RP}}" class="ltx_Math" display="inline" id="S3.SS5.SSS1.p1.3.m3.1"><semantics id="S3.SS5.SSS1.p1.3.m3.1a"><msub id="S3.SS5.SSS1.p1.3.m3.1.1" xref="S3.SS5.SSS1.p1.3.m3.1.1.cmml"><mi id="S3.SS5.SSS1.p1.3.m3.1.1.2" xref="S3.SS5.SSS1.p1.3.m3.1.1.2.cmml">D</mi><mtext id="S3.SS5.SSS1.p1.3.m3.1.1.3" xref="S3.SS5.SSS1.p1.3.m3.1.1.3a.cmml">RP</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS1.p1.3.m3.1b"><apply id="S3.SS5.SSS1.p1.3.m3.1.1.cmml" xref="S3.SS5.SSS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS1.p1.3.m3.1.1.1.cmml" xref="S3.SS5.SSS1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS5.SSS1.p1.3.m3.1.1.2.cmml" xref="S3.SS5.SSS1.p1.3.m3.1.1.2">𝐷</ci><ci id="S3.SS5.SSS1.p1.3.m3.1.1.3a.cmml" xref="S3.SS5.SSS1.p1.3.m3.1.1.3"><mtext id="S3.SS5.SSS1.p1.3.m3.1.1.3.cmml" mathsize="70%" xref="S3.SS5.SSS1.p1.3.m3.1.1.3">RP</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS1.p1.3.m3.1c">{D}_{\text{RP}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS1.p1.3.m3.1d">italic_D start_POSTSUBSCRIPT RP end_POSTSUBSCRIPT</annotation></semantics></math> into the prompts to include specific instructions tailored for their tasks.
Then, we combine them to obtain the final dataset <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.SS5.SSS1.p1.4.m4.1"><semantics id="S3.SS5.SSS1.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS5.SSS1.p1.4.m4.1.1" xref="S3.SS5.SSS1.p1.4.m4.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS1.p1.4.m4.1b"><ci id="S3.SS5.SSS1.p1.4.m4.1.1.cmml" xref="S3.SS5.SSS1.p1.4.m4.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS1.p1.4.m4.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS1.p1.4.m4.1d">caligraphic_D</annotation></semantics></math>, which consists of instruction input-output pairs <math alttext="(x,y)" class="ltx_Math" display="inline" id="S3.SS5.SSS1.p1.5.m5.2"><semantics id="S3.SS5.SSS1.p1.5.m5.2a"><mrow id="S3.SS5.SSS1.p1.5.m5.2.3.2" xref="S3.SS5.SSS1.p1.5.m5.2.3.1.cmml"><mo id="S3.SS5.SSS1.p1.5.m5.2.3.2.1" stretchy="false" xref="S3.SS5.SSS1.p1.5.m5.2.3.1.cmml">(</mo><mi id="S3.SS5.SSS1.p1.5.m5.1.1" xref="S3.SS5.SSS1.p1.5.m5.1.1.cmml">x</mi><mo id="S3.SS5.SSS1.p1.5.m5.2.3.2.2" xref="S3.SS5.SSS1.p1.5.m5.2.3.1.cmml">,</mo><mi id="S3.SS5.SSS1.p1.5.m5.2.2" xref="S3.SS5.SSS1.p1.5.m5.2.2.cmml">y</mi><mo id="S3.SS5.SSS1.p1.5.m5.2.3.2.3" stretchy="false" xref="S3.SS5.SSS1.p1.5.m5.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS1.p1.5.m5.2b"><interval closure="open" id="S3.SS5.SSS1.p1.5.m5.2.3.1.cmml" xref="S3.SS5.SSS1.p1.5.m5.2.3.2"><ci id="S3.SS5.SSS1.p1.5.m5.1.1.cmml" xref="S3.SS5.SSS1.p1.5.m5.1.1">𝑥</ci><ci id="S3.SS5.SSS1.p1.5.m5.2.2.cmml" xref="S3.SS5.SSS1.p1.5.m5.2.2">𝑦</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS1.p1.5.m5.2c">(x,y)</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS1.p1.5.m5.2d">( italic_x , italic_y )</annotation></semantics></math> for the three tasks.
We employ QLoRA <cite class="ltx_cite ltx_citemacro_citep">(Dettmers et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib5" title="">2024</a>)</cite> for each step, making our student LLM efficiently adapt to various tasks.
Note that QLoRA enables us to integrate supplementary information while keeping the original parameters unchanged.</p>
</div>
<div class="ltx_para" id="S3.SS5.SSS1.p2">
<p class="ltx_p" id="S3.SS5.SSS1.p2.3">The final learning objective of <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.SSS1.p2.3.1">Exp3rt</span> is defined by Negative Log-Likelihood (NLL), used to maximize the probability of the correct token <math alttext="y_{t}" class="ltx_Math" display="inline" id="S3.SS5.SSS1.p2.1.m1.1"><semantics id="S3.SS5.SSS1.p2.1.m1.1a"><msub id="S3.SS5.SSS1.p2.1.m1.1.1" xref="S3.SS5.SSS1.p2.1.m1.1.1.cmml"><mi id="S3.SS5.SSS1.p2.1.m1.1.1.2" xref="S3.SS5.SSS1.p2.1.m1.1.1.2.cmml">y</mi><mi id="S3.SS5.SSS1.p2.1.m1.1.1.3" xref="S3.SS5.SSS1.p2.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS1.p2.1.m1.1b"><apply id="S3.SS5.SSS1.p2.1.m1.1.1.cmml" xref="S3.SS5.SSS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS1.p2.1.m1.1.1.1.cmml" xref="S3.SS5.SSS1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.SSS1.p2.1.m1.1.1.2.cmml" xref="S3.SS5.SSS1.p2.1.m1.1.1.2">𝑦</ci><ci id="S3.SS5.SSS1.p2.1.m1.1.1.3.cmml" xref="S3.SS5.SSS1.p2.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS1.p2.1.m1.1c">y_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS1.p2.1.m1.1d">italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> given the previous tokens <math alttext="y_{&lt;t}" class="ltx_Math" display="inline" id="S3.SS5.SSS1.p2.2.m2.1"><semantics id="S3.SS5.SSS1.p2.2.m2.1a"><msub id="S3.SS5.SSS1.p2.2.m2.1.1" xref="S3.SS5.SSS1.p2.2.m2.1.1.cmml"><mi id="S3.SS5.SSS1.p2.2.m2.1.1.2" xref="S3.SS5.SSS1.p2.2.m2.1.1.2.cmml">y</mi><mrow id="S3.SS5.SSS1.p2.2.m2.1.1.3" xref="S3.SS5.SSS1.p2.2.m2.1.1.3.cmml"><mi id="S3.SS5.SSS1.p2.2.m2.1.1.3.2" xref="S3.SS5.SSS1.p2.2.m2.1.1.3.2.cmml"></mi><mo id="S3.SS5.SSS1.p2.2.m2.1.1.3.1" xref="S3.SS5.SSS1.p2.2.m2.1.1.3.1.cmml">&lt;</mo><mi id="S3.SS5.SSS1.p2.2.m2.1.1.3.3" xref="S3.SS5.SSS1.p2.2.m2.1.1.3.3.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS1.p2.2.m2.1b"><apply id="S3.SS5.SSS1.p2.2.m2.1.1.cmml" xref="S3.SS5.SSS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS1.p2.2.m2.1.1.1.cmml" xref="S3.SS5.SSS1.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.SSS1.p2.2.m2.1.1.2.cmml" xref="S3.SS5.SSS1.p2.2.m2.1.1.2">𝑦</ci><apply id="S3.SS5.SSS1.p2.2.m2.1.1.3.cmml" xref="S3.SS5.SSS1.p2.2.m2.1.1.3"><lt id="S3.SS5.SSS1.p2.2.m2.1.1.3.1.cmml" xref="S3.SS5.SSS1.p2.2.m2.1.1.3.1"></lt><csymbol cd="latexml" id="S3.SS5.SSS1.p2.2.m2.1.1.3.2.cmml" xref="S3.SS5.SSS1.p2.2.m2.1.1.3.2">absent</csymbol><ci id="S3.SS5.SSS1.p2.2.m2.1.1.3.3.cmml" xref="S3.SS5.SSS1.p2.2.m2.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS1.p2.2.m2.1c">y_{&lt;t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS1.p2.2.m2.1d">italic_y start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and the input <math alttext="x" class="ltx_Math" display="inline" id="S3.SS5.SSS1.p2.3.m3.1"><semantics id="S3.SS5.SSS1.p2.3.m3.1a"><mi id="S3.SS5.SSS1.p2.3.m3.1.1" xref="S3.SS5.SSS1.p2.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS1.p2.3.m3.1b"><ci id="S3.SS5.SSS1.p2.3.m3.1.1.cmml" xref="S3.SS5.SSS1.p2.3.m3.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS1.p2.3.m3.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS1.p2.3.m3.1d">italic_x</annotation></semantics></math> as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\max_{\Theta}\sum_{(x,y)\in\mathcal{D}}\sum_{t=1}^{|y|}\log\left(P_{\Phi+%
\Theta}\left(y_{t}\mid x,y_{&lt;t}\right)\right)," class="ltx_Math" display="block" id="S3.E1.m1.6"><semantics id="S3.E1.m1.6a"><mrow id="S3.E1.m1.6.6.1" xref="S3.E1.m1.6.6.1.1.cmml"><mrow id="S3.E1.m1.6.6.1.1" xref="S3.E1.m1.6.6.1.1.cmml"><munder id="S3.E1.m1.6.6.1.1.3" xref="S3.E1.m1.6.6.1.1.3.cmml"><mi id="S3.E1.m1.6.6.1.1.3.2" xref="S3.E1.m1.6.6.1.1.3.2.cmml">max</mi><mi id="S3.E1.m1.6.6.1.1.3.3" mathvariant="normal" xref="S3.E1.m1.6.6.1.1.3.3.cmml">Θ</mi></munder><mo id="S3.E1.m1.6.6.1.1.2" xref="S3.E1.m1.6.6.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.6.6.1.1.1" xref="S3.E1.m1.6.6.1.1.1.cmml"><munder id="S3.E1.m1.6.6.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.2.cmml"><mo id="S3.E1.m1.6.6.1.1.1.2.2" movablelimits="false" rspace="0em" xref="S3.E1.m1.6.6.1.1.1.2.2.cmml">∑</mo><mrow id="S3.E1.m1.2.2.2" xref="S3.E1.m1.2.2.2.cmml"><mrow id="S3.E1.m1.2.2.2.4.2" xref="S3.E1.m1.2.2.2.4.1.cmml"><mo id="S3.E1.m1.2.2.2.4.2.1" stretchy="false" xref="S3.E1.m1.2.2.2.4.1.cmml">(</mo><mi id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">x</mi><mo id="S3.E1.m1.2.2.2.4.2.2" xref="S3.E1.m1.2.2.2.4.1.cmml">,</mo><mi id="S3.E1.m1.2.2.2.2" xref="S3.E1.m1.2.2.2.2.cmml">y</mi><mo id="S3.E1.m1.2.2.2.4.2.3" stretchy="false" xref="S3.E1.m1.2.2.2.4.1.cmml">)</mo></mrow><mo id="S3.E1.m1.2.2.2.3" xref="S3.E1.m1.2.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.2.2.2.5" xref="S3.E1.m1.2.2.2.5.cmml">𝒟</mi></mrow></munder><mrow id="S3.E1.m1.6.6.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.cmml"><munderover id="S3.E1.m1.6.6.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.2.cmml"><mo id="S3.E1.m1.6.6.1.1.1.1.2.2.2" movablelimits="false" xref="S3.E1.m1.6.6.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E1.m1.6.6.1.1.1.1.2.2.3" xref="S3.E1.m1.6.6.1.1.1.1.2.2.3.cmml"><mi id="S3.E1.m1.6.6.1.1.1.1.2.2.3.2" xref="S3.E1.m1.6.6.1.1.1.1.2.2.3.2.cmml">t</mi><mo id="S3.E1.m1.6.6.1.1.1.1.2.2.3.1" xref="S3.E1.m1.6.6.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E1.m1.6.6.1.1.1.1.2.2.3.3" xref="S3.E1.m1.6.6.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.E1.m1.3.3.1.3" xref="S3.E1.m1.3.3.1.2.cmml"><mo id="S3.E1.m1.3.3.1.3.1" stretchy="false" xref="S3.E1.m1.3.3.1.2.1.cmml">|</mo><mi id="S3.E1.m1.3.3.1.1" xref="S3.E1.m1.3.3.1.1.cmml">y</mi><mo id="S3.E1.m1.3.3.1.3.2" stretchy="false" xref="S3.E1.m1.3.3.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S3.E1.m1.6.6.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.2.cmml"><mi id="S3.E1.m1.5.5" xref="S3.E1.m1.5.5.cmml">log</mi><mo id="S3.E1.m1.6.6.1.1.1.1.1.1a" xref="S3.E1.m1.6.6.1.1.1.1.1.2.cmml">⁡</mo><mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.2.cmml"><mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.1.2.cmml">(</mo><mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.2.cmml">P</mi><mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.2" mathvariant="normal" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.2.cmml">Φ</mi><mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.1.cmml">+</mo><mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.3" mathvariant="normal" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.3.cmml">Θ</mi></mrow></msub><mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">y</mi><mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">t</mi></msub><mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml">∣</mo><mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E1.m1.4.4" xref="S3.E1.m1.4.4.cmml">x</mi><mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><msub id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">t</mi></mrow></msub></mrow></mrow><mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.6.6.1.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E1.m1.6.6.1.2" xref="S3.E1.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.6b"><apply id="S3.E1.m1.6.6.1.1.cmml" xref="S3.E1.m1.6.6.1"><times id="S3.E1.m1.6.6.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.2"></times><apply id="S3.E1.m1.6.6.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.3">subscript</csymbol><max id="S3.E1.m1.6.6.1.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.3.2"></max><ci id="S3.E1.m1.6.6.1.1.3.3.cmml" xref="S3.E1.m1.6.6.1.1.3.3">Θ</ci></apply><apply id="S3.E1.m1.6.6.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1"><apply id="S3.E1.m1.6.6.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.2.1.cmml" xref="S3.E1.m1.6.6.1.1.1.2">subscript</csymbol><sum id="S3.E1.m1.6.6.1.1.1.2.2.cmml" xref="S3.E1.m1.6.6.1.1.1.2.2"></sum><apply id="S3.E1.m1.2.2.2.cmml" xref="S3.E1.m1.2.2.2"><in id="S3.E1.m1.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.3"></in><interval closure="open" id="S3.E1.m1.2.2.2.4.1.cmml" xref="S3.E1.m1.2.2.2.4.2"><ci id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1">𝑥</ci><ci id="S3.E1.m1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2">𝑦</ci></interval><ci id="S3.E1.m1.2.2.2.5.cmml" xref="S3.E1.m1.2.2.2.5">𝒟</ci></apply></apply><apply id="S3.E1.m1.6.6.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1"><apply id="S3.E1.m1.6.6.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.2.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.2">superscript</csymbol><apply id="S3.E1.m1.6.6.1.1.1.1.2.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.2.2.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.2">subscript</csymbol><sum id="S3.E1.m1.6.6.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.2.2.2"></sum><apply id="S3.E1.m1.6.6.1.1.1.1.2.2.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.2.2.3"><eq id="S3.E1.m1.6.6.1.1.1.1.2.2.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.2.2.3.1"></eq><ci id="S3.E1.m1.6.6.1.1.1.1.2.2.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.2.2.3.2">𝑡</ci><cn id="S3.E1.m1.6.6.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E1.m1.6.6.1.1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E1.m1.3.3.1.2.cmml" xref="S3.E1.m1.3.3.1.3"><abs id="S3.E1.m1.3.3.1.2.1.cmml" xref="S3.E1.m1.3.3.1.3.1"></abs><ci id="S3.E1.m1.3.3.1.1.cmml" xref="S3.E1.m1.3.3.1.1">𝑦</ci></apply></apply><apply id="S3.E1.m1.6.6.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1"><log id="S3.E1.m1.5.5.cmml" xref="S3.E1.m1.5.5"></log><apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1"><times id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.2">𝑃</ci><apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3"><plus id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.1"></plus><ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.2">Φ</ci><ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.3.3.3">Θ</ci></apply></apply><apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2">𝑦</ci><ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3">𝑡</ci></apply><list id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1"><ci id="S3.E1.m1.4.4.cmml" xref="S3.E1.m1.4.4">𝑥</ci><apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑦</ci><apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><lt id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.6c">\max_{\Theta}\sum_{(x,y)\in\mathcal{D}}\sum_{t=1}^{|y|}\log\left(P_{\Phi+%
\Theta}\left(y_{t}\mid x,y_{&lt;t}\right)\right),</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.6d">roman_max start_POSTSUBSCRIPT roman_Θ end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT ( italic_x , italic_y ) ∈ caligraphic_D end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | italic_y | end_POSTSUPERSCRIPT roman_log ( italic_P start_POSTSUBSCRIPT roman_Φ + roman_Θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∣ italic_x , italic_y start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ) ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS5.SSS1.p2.5">where <math alttext="\Theta" class="ltx_Math" display="inline" id="S3.SS5.SSS1.p2.4.m1.1"><semantics id="S3.SS5.SSS1.p2.4.m1.1a"><mi id="S3.SS5.SSS1.p2.4.m1.1.1" mathvariant="normal" xref="S3.SS5.SSS1.p2.4.m1.1.1.cmml">Θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS1.p2.4.m1.1b"><ci id="S3.SS5.SSS1.p2.4.m1.1.1.cmml" xref="S3.SS5.SSS1.p2.4.m1.1.1">Θ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS1.p2.4.m1.1c">\Theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS1.p2.4.m1.1d">roman_Θ</annotation></semantics></math> represents the QLoRA parameters, and <math alttext="\Phi" class="ltx_Math" display="inline" id="S3.SS5.SSS1.p2.5.m2.1"><semantics id="S3.SS5.SSS1.p2.5.m2.1a"><mi id="S3.SS5.SSS1.p2.5.m2.1.1" mathvariant="normal" xref="S3.SS5.SSS1.p2.5.m2.1.1.cmml">Φ</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS1.p2.5.m2.1b"><ci id="S3.SS5.SSS1.p2.5.m2.1.1.cmml" xref="S3.SS5.SSS1.p2.5.m2.1.1">Φ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS1.p2.5.m2.1c">\Phi</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS1.p2.5.m2.1d">roman_Φ</annotation></semantics></math> represents the parameters of our target student LLM, and only the QLoRA parameters are updated during the training process.
The actual prompts used for each step can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A1" title="Appendix A Prompts ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS5.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.5.2. </span>Inference</h4>
<div class="ltx_para" id="S3.SS5.SSS2.p1">
<p class="ltx_p" id="S3.SS5.SSS2.p1.7">For inference on an unobserved user-item <math alttext="(u,i)" class="ltx_Math" display="inline" id="S3.SS5.SSS2.p1.1.m1.2"><semantics id="S3.SS5.SSS2.p1.1.m1.2a"><mrow id="S3.SS5.SSS2.p1.1.m1.2.3.2" xref="S3.SS5.SSS2.p1.1.m1.2.3.1.cmml"><mo id="S3.SS5.SSS2.p1.1.m1.2.3.2.1" stretchy="false" xref="S3.SS5.SSS2.p1.1.m1.2.3.1.cmml">(</mo><mi id="S3.SS5.SSS2.p1.1.m1.1.1" xref="S3.SS5.SSS2.p1.1.m1.1.1.cmml">u</mi><mo id="S3.SS5.SSS2.p1.1.m1.2.3.2.2" xref="S3.SS5.SSS2.p1.1.m1.2.3.1.cmml">,</mo><mi id="S3.SS5.SSS2.p1.1.m1.2.2" xref="S3.SS5.SSS2.p1.1.m1.2.2.cmml">i</mi><mo id="S3.SS5.SSS2.p1.1.m1.2.3.2.3" stretchy="false" xref="S3.SS5.SSS2.p1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS2.p1.1.m1.2b"><interval closure="open" id="S3.SS5.SSS2.p1.1.m1.2.3.1.cmml" xref="S3.SS5.SSS2.p1.1.m1.2.3.2"><ci id="S3.SS5.SSS2.p1.1.m1.1.1.cmml" xref="S3.SS5.SSS2.p1.1.m1.1.1">𝑢</ci><ci id="S3.SS5.SSS2.p1.1.m1.2.2.cmml" xref="S3.SS5.SSS2.p1.1.m1.2.2">𝑖</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS2.p1.1.m1.2c">(u,i)</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS2.p1.1.m1.2d">( italic_u , italic_i )</annotation></semantics></math> pair, <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.SSS2.p1.7.1">Exp3rt</span> first extracts information that reflects preferences from their raw reviews, <math alttext="\mathcal{V}_{u}" class="ltx_Math" display="inline" id="S3.SS5.SSS2.p1.2.m2.1"><semantics id="S3.SS5.SSS2.p1.2.m2.1a"><msub id="S3.SS5.SSS2.p1.2.m2.1.1" xref="S3.SS5.SSS2.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS5.SSS2.p1.2.m2.1.1.2" xref="S3.SS5.SSS2.p1.2.m2.1.1.2.cmml">𝒱</mi><mi id="S3.SS5.SSS2.p1.2.m2.1.1.3" xref="S3.SS5.SSS2.p1.2.m2.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS2.p1.2.m2.1b"><apply id="S3.SS5.SSS2.p1.2.m2.1.1.cmml" xref="S3.SS5.SSS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS2.p1.2.m2.1.1.1.cmml" xref="S3.SS5.SSS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.SSS2.p1.2.m2.1.1.2.cmml" xref="S3.SS5.SSS2.p1.2.m2.1.1.2">𝒱</ci><ci id="S3.SS5.SSS2.p1.2.m2.1.1.3.cmml" xref="S3.SS5.SSS2.p1.2.m2.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS2.p1.2.m2.1c">\mathcal{V}_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS2.p1.2.m2.1d">caligraphic_V start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{V}_{i}" class="ltx_Math" display="inline" id="S3.SS5.SSS2.p1.3.m3.1"><semantics id="S3.SS5.SSS2.p1.3.m3.1a"><msub id="S3.SS5.SSS2.p1.3.m3.1.1" xref="S3.SS5.SSS2.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS5.SSS2.p1.3.m3.1.1.2" xref="S3.SS5.SSS2.p1.3.m3.1.1.2.cmml">𝒱</mi><mi id="S3.SS5.SSS2.p1.3.m3.1.1.3" xref="S3.SS5.SSS2.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS2.p1.3.m3.1b"><apply id="S3.SS5.SSS2.p1.3.m3.1.1.cmml" xref="S3.SS5.SSS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS2.p1.3.m3.1.1.1.cmml" xref="S3.SS5.SSS2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS5.SSS2.p1.3.m3.1.1.2.cmml" xref="S3.SS5.SSS2.p1.3.m3.1.1.2">𝒱</ci><ci id="S3.SS5.SSS2.p1.3.m3.1.1.3.cmml" xref="S3.SS5.SSS2.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS2.p1.3.m3.1c">\mathcal{V}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS2.p1.3.m3.1d">caligraphic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, to form preference sets, <math alttext="P_{u}" class="ltx_Math" display="inline" id="S3.SS5.SSS2.p1.4.m4.1"><semantics id="S3.SS5.SSS2.p1.4.m4.1a"><msub id="S3.SS5.SSS2.p1.4.m4.1.1" xref="S3.SS5.SSS2.p1.4.m4.1.1.cmml"><mi id="S3.SS5.SSS2.p1.4.m4.1.1.2" xref="S3.SS5.SSS2.p1.4.m4.1.1.2.cmml">P</mi><mi id="S3.SS5.SSS2.p1.4.m4.1.1.3" xref="S3.SS5.SSS2.p1.4.m4.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS2.p1.4.m4.1b"><apply id="S3.SS5.SSS2.p1.4.m4.1.1.cmml" xref="S3.SS5.SSS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS2.p1.4.m4.1.1.1.cmml" xref="S3.SS5.SSS2.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS5.SSS2.p1.4.m4.1.1.2.cmml" xref="S3.SS5.SSS2.p1.4.m4.1.1.2">𝑃</ci><ci id="S3.SS5.SSS2.p1.4.m4.1.1.3.cmml" xref="S3.SS5.SSS2.p1.4.m4.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS2.p1.4.m4.1c">P_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS2.p1.4.m4.1d">italic_P start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="P_{i}" class="ltx_Math" display="inline" id="S3.SS5.SSS2.p1.5.m5.1"><semantics id="S3.SS5.SSS2.p1.5.m5.1a"><msub id="S3.SS5.SSS2.p1.5.m5.1.1" xref="S3.SS5.SSS2.p1.5.m5.1.1.cmml"><mi id="S3.SS5.SSS2.p1.5.m5.1.1.2" xref="S3.SS5.SSS2.p1.5.m5.1.1.2.cmml">P</mi><mi id="S3.SS5.SSS2.p1.5.m5.1.1.3" xref="S3.SS5.SSS2.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS2.p1.5.m5.1b"><apply id="S3.SS5.SSS2.p1.5.m5.1.1.cmml" xref="S3.SS5.SSS2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS2.p1.5.m5.1.1.1.cmml" xref="S3.SS5.SSS2.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS5.SSS2.p1.5.m5.1.1.2.cmml" xref="S3.SS5.SSS2.p1.5.m5.1.1.2">𝑃</ci><ci id="S3.SS5.SSS2.p1.5.m5.1.1.3.cmml" xref="S3.SS5.SSS2.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS2.p1.5.m5.1c">P_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS2.p1.5.m5.1d">italic_P start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>.
Then, it constructs the user/item profile, <math alttext="s_{u}" class="ltx_Math" display="inline" id="S3.SS5.SSS2.p1.6.m6.1"><semantics id="S3.SS5.SSS2.p1.6.m6.1a"><msub id="S3.SS5.SSS2.p1.6.m6.1.1" xref="S3.SS5.SSS2.p1.6.m6.1.1.cmml"><mi id="S3.SS5.SSS2.p1.6.m6.1.1.2" xref="S3.SS5.SSS2.p1.6.m6.1.1.2.cmml">s</mi><mi id="S3.SS5.SSS2.p1.6.m6.1.1.3" xref="S3.SS5.SSS2.p1.6.m6.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS2.p1.6.m6.1b"><apply id="S3.SS5.SSS2.p1.6.m6.1.1.cmml" xref="S3.SS5.SSS2.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS2.p1.6.m6.1.1.1.cmml" xref="S3.SS5.SSS2.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS5.SSS2.p1.6.m6.1.1.2.cmml" xref="S3.SS5.SSS2.p1.6.m6.1.1.2">𝑠</ci><ci id="S3.SS5.SSS2.p1.6.m6.1.1.3.cmml" xref="S3.SS5.SSS2.p1.6.m6.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS2.p1.6.m6.1c">s_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS2.p1.6.m6.1d">italic_s start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="s_{i}" class="ltx_Math" display="inline" id="S3.SS5.SSS2.p1.7.m7.1"><semantics id="S3.SS5.SSS2.p1.7.m7.1a"><msub id="S3.SS5.SSS2.p1.7.m7.1.1" xref="S3.SS5.SSS2.p1.7.m7.1.1.cmml"><mi id="S3.SS5.SSS2.p1.7.m7.1.1.2" xref="S3.SS5.SSS2.p1.7.m7.1.1.2.cmml">s</mi><mi id="S3.SS5.SSS2.p1.7.m7.1.1.3" xref="S3.SS5.SSS2.p1.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS2.p1.7.m7.1b"><apply id="S3.SS5.SSS2.p1.7.m7.1.1.cmml" xref="S3.SS5.SSS2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS2.p1.7.m7.1.1.1.cmml" xref="S3.SS5.SSS2.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS5.SSS2.p1.7.m7.1.1.2.cmml" xref="S3.SS5.SSS2.p1.7.m7.1.1.2">𝑠</ci><ci id="S3.SS5.SSS2.p1.7.m7.1.1.3.cmml" xref="S3.SS5.SSS2.p1.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS2.p1.7.m7.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS2.p1.7.m7.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, by aggregating the preference sets.
Unlike the construction process of a user profile that aggregates all preferences of the user, the item profile construction process introduces several strategies on how to select the item preferences to be aggregated.
In detail, the set of item preferences can be determined in three different ways:
(1) using all preferences of the item to reflect the overall preferences for the item,
(2) selecting only the preferences extracted from the reviews with the highest number of helpful votes (i.e., <span class="ltx_text ltx_font_italic" id="S3.SS5.SSS2.p1.7.2">helpfulness-based selection</span>) to highlight the item’s representative preferences, and
(3) using the preferences from the reviews written by the users with similar preferences to a target user (i.e., <span class="ltx_text ltx_font_italic" id="S3.SS5.SSS2.p1.7.3">neighbor-based selection</span>) <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib17" title="">2014</a>)</cite> to create a more personalized item profile.<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>The details of calculating user preference similarity can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A2" title="Appendix B User Simialrity Calculation ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">B</span></a>.</span></span></span></p>
</div>
<div class="ltx_para" id="S3.SS5.SSS2.p2">
<p class="ltx_p" id="S3.SS5.SSS2.p2.1">Finally, <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.SSS2.p2.1.1">Exp3rt</span> takes the user profile, item profile, and item descriptions as its input, to predict the rating score along with textual reasoning.
In the input prompt for <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.SSS2.p2.1.2">Exp3rt</span>, the average ratings for both the user and the item are included, which represent biases to address label inconsistency.
Through detailed textual reasoning that evaluates matches and mismatches between preferences of the user and item, <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.SSS2.p2.1.3">Exp3rt</span> predicts the user’s rating for the target item.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS5.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.5.3. </span>Rating score prediction</h4>
<div class="ltx_para" id="S3.SS5.SSS3.p1">
<p class="ltx_p" id="S3.SS5.SSS3.p1.1">To output the rating scores as continuous real values for more precise prediction beyond the limitations of discrete integer values, we adopt a post-computation technique by utilizing the model’s logit outputs for the numeric tokens.
Training the model to predict ratings as discrete categories (i.e., integer tokens) can reduce the precision of predictions.
For example, items predicted to have a rating of 3 might actually be closer to 2 or 4.
Such a decoding approach can mask significant differences between items, as assigning them the same integer value fails to capture subtle variations in their actual ratings.
</p>
</div>
<div class="ltx_para" id="S3.SS5.SSS3.p2">
<p class="ltx_p" id="S3.SS5.SSS3.p2.4">Given the logit values <math alttext="l_{i}" class="ltx_Math" display="inline" id="S3.SS5.SSS3.p2.1.m1.1"><semantics id="S3.SS5.SSS3.p2.1.m1.1a"><msub id="S3.SS5.SSS3.p2.1.m1.1.1" xref="S3.SS5.SSS3.p2.1.m1.1.1.cmml"><mi id="S3.SS5.SSS3.p2.1.m1.1.1.2" xref="S3.SS5.SSS3.p2.1.m1.1.1.2.cmml">l</mi><mi id="S3.SS5.SSS3.p2.1.m1.1.1.3" xref="S3.SS5.SSS3.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS3.p2.1.m1.1b"><apply id="S3.SS5.SSS3.p2.1.m1.1.1.cmml" xref="S3.SS5.SSS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS3.p2.1.m1.1.1.1.cmml" xref="S3.SS5.SSS3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.SSS3.p2.1.m1.1.1.2.cmml" xref="S3.SS5.SSS3.p2.1.m1.1.1.2">𝑙</ci><ci id="S3.SS5.SSS3.p2.1.m1.1.1.3.cmml" xref="S3.SS5.SSS3.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS3.p2.1.m1.1c">l_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS3.p2.1.m1.1d">italic_l start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> corresponding to the model’s tokens for integer rating <math alttext="r_{i}" class="ltx_Math" display="inline" id="S3.SS5.SSS3.p2.2.m2.1"><semantics id="S3.SS5.SSS3.p2.2.m2.1a"><msub id="S3.SS5.SSS3.p2.2.m2.1.1" xref="S3.SS5.SSS3.p2.2.m2.1.1.cmml"><mi id="S3.SS5.SSS3.p2.2.m2.1.1.2" xref="S3.SS5.SSS3.p2.2.m2.1.1.2.cmml">r</mi><mi id="S3.SS5.SSS3.p2.2.m2.1.1.3" xref="S3.SS5.SSS3.p2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS3.p2.2.m2.1b"><apply id="S3.SS5.SSS3.p2.2.m2.1.1.cmml" xref="S3.SS5.SSS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS3.p2.2.m2.1.1.1.cmml" xref="S3.SS5.SSS3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS5.SSS3.p2.2.m2.1.1.2.cmml" xref="S3.SS5.SSS3.p2.2.m2.1.1.2">𝑟</ci><ci id="S3.SS5.SSS3.p2.2.m2.1.1.3.cmml" xref="S3.SS5.SSS3.p2.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS3.p2.2.m2.1c">r_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS3.p2.2.m2.1d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, we obtain the probability <math alttext="p(r_{i})" class="ltx_Math" display="inline" id="S3.SS5.SSS3.p2.3.m3.1"><semantics id="S3.SS5.SSS3.p2.3.m3.1a"><mrow id="S3.SS5.SSS3.p2.3.m3.1.1" xref="S3.SS5.SSS3.p2.3.m3.1.1.cmml"><mi id="S3.SS5.SSS3.p2.3.m3.1.1.3" xref="S3.SS5.SSS3.p2.3.m3.1.1.3.cmml">p</mi><mo id="S3.SS5.SSS3.p2.3.m3.1.1.2" xref="S3.SS5.SSS3.p2.3.m3.1.1.2.cmml">⁢</mo><mrow id="S3.SS5.SSS3.p2.3.m3.1.1.1.1" xref="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.cmml"><mo id="S3.SS5.SSS3.p2.3.m3.1.1.1.1.2" stretchy="false" xref="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.cmml">(</mo><msub id="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1" xref="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.cmml"><mi id="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.2" xref="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.2.cmml">r</mi><mi id="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.3" xref="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS5.SSS3.p2.3.m3.1.1.1.1.3" stretchy="false" xref="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS3.p2.3.m3.1b"><apply id="S3.SS5.SSS3.p2.3.m3.1.1.cmml" xref="S3.SS5.SSS3.p2.3.m3.1.1"><times id="S3.SS5.SSS3.p2.3.m3.1.1.2.cmml" xref="S3.SS5.SSS3.p2.3.m3.1.1.2"></times><ci id="S3.SS5.SSS3.p2.3.m3.1.1.3.cmml" xref="S3.SS5.SSS3.p2.3.m3.1.1.3">𝑝</ci><apply id="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.cmml" xref="S3.SS5.SSS3.p2.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS5.SSS3.p2.3.m3.1.1.1.1">subscript</csymbol><ci id="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.2.cmml" xref="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.2">𝑟</ci><ci id="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.3.cmml" xref="S3.SS5.SSS3.p2.3.m3.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS3.p2.3.m3.1c">p(r_{i})</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS3.p2.3.m3.1d">italic_p ( italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> of each rating by using the softmax function, <math alttext="p(r_{i})={\exp({l_{i}})}/{\sum_{j=1}^{|S|}\exp({l_{j}})}" class="ltx_Math" display="inline" id="S3.SS5.SSS3.p2.4.m4.6"><semantics id="S3.SS5.SSS3.p2.4.m4.6a"><mrow id="S3.SS5.SSS3.p2.4.m4.6.6" xref="S3.SS5.SSS3.p2.4.m4.6.6.cmml"><mrow id="S3.SS5.SSS3.p2.4.m4.4.4.1" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.cmml"><mi id="S3.SS5.SSS3.p2.4.m4.4.4.1.3" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.3.cmml">p</mi><mo id="S3.SS5.SSS3.p2.4.m4.4.4.1.2" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.2.cmml">⁢</mo><mrow id="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.cmml"><mo id="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.2" stretchy="false" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.cmml">(</mo><msub id="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.cmml"><mi id="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.2" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.2.cmml">r</mi><mi id="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.3" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.3" stretchy="false" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS5.SSS3.p2.4.m4.6.6.4" xref="S3.SS5.SSS3.p2.4.m4.6.6.4.cmml">=</mo><mrow id="S3.SS5.SSS3.p2.4.m4.6.6.3" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.cmml"><mrow id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.2.cmml"><mi id="S3.SS5.SSS3.p2.4.m4.2.2" xref="S3.SS5.SSS3.p2.4.m4.2.2.cmml">exp</mi><mo id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1a" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.2.cmml">⁡</mo><mrow id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.2.cmml"><mo id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.2" stretchy="false" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.2.cmml">(</mo><msub id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1.cmml"><mi id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1.2" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1.2.cmml">l</mi><mi id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1.3" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.3" stretchy="false" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.2.cmml">)</mo></mrow></mrow><mo id="S3.SS5.SSS3.p2.4.m4.6.6.3.3" rspace="0.055em" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.3.cmml">/</mo><mrow id="S3.SS5.SSS3.p2.4.m4.6.6.3.2" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.cmml"><msubsup id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.cmml"><mo id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.2" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.2.cmml">∑</mo><mrow id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.cmml"><mi id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.2" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.2.cmml">j</mi><mo id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.1" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.1.cmml">=</mo><mn id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.3" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.SS5.SSS3.p2.4.m4.1.1.1.3" xref="S3.SS5.SSS3.p2.4.m4.1.1.1.2.cmml"><mo id="S3.SS5.SSS3.p2.4.m4.1.1.1.3.1" stretchy="false" xref="S3.SS5.SSS3.p2.4.m4.1.1.1.2.1.cmml">|</mo><mi id="S3.SS5.SSS3.p2.4.m4.1.1.1.1" xref="S3.SS5.SSS3.p2.4.m4.1.1.1.1.cmml">S</mi><mo id="S3.SS5.SSS3.p2.4.m4.1.1.1.3.2" stretchy="false" xref="S3.SS5.SSS3.p2.4.m4.1.1.1.2.1.cmml">|</mo></mrow></msubsup><mrow id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.2.cmml"><mi id="S3.SS5.SSS3.p2.4.m4.3.3" xref="S3.SS5.SSS3.p2.4.m4.3.3.cmml">exp</mi><mo id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1a" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.2.cmml">⁡</mo><mrow id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.2.cmml"><mo id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.2" stretchy="false" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.2.cmml">(</mo><msub id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1.cmml"><mi id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1.2" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1.2.cmml">l</mi><mi id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1.3" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1.3.cmml">j</mi></msub><mo id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.3" stretchy="false" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS5.SSS3.p2.4.m4.6b"><apply id="S3.SS5.SSS3.p2.4.m4.6.6.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6"><eq id="S3.SS5.SSS3.p2.4.m4.6.6.4.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.4"></eq><apply id="S3.SS5.SSS3.p2.4.m4.4.4.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.4.4.1"><times id="S3.SS5.SSS3.p2.4.m4.4.4.1.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.2"></times><ci id="S3.SS5.SSS3.p2.4.m4.4.4.1.3.cmml" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.3">𝑝</ci><apply id="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1">subscript</csymbol><ci id="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.2">𝑟</ci><ci id="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.3.cmml" xref="S3.SS5.SSS3.p2.4.m4.4.4.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.SS5.SSS3.p2.4.m4.6.6.3.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3"><divide id="S3.SS5.SSS3.p2.4.m4.6.6.3.3.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.3"></divide><apply id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1"><exp id="S3.SS5.SSS3.p2.4.m4.2.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.2.2"></exp><apply id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1">subscript</csymbol><ci id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1.2">𝑙</ci><ci id="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1.3.cmml" xref="S3.SS5.SSS3.p2.4.m4.5.5.2.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2"><apply id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2"><csymbol cd="ambiguous" id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2">superscript</csymbol><apply id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2"><csymbol cd="ambiguous" id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2">subscript</csymbol><sum id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.2"></sum><apply id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3"><eq id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.1"></eq><ci id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.2">𝑗</ci><cn id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.3.cmml" type="integer" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.2.2.3.3">1</cn></apply></apply><apply id="S3.SS5.SSS3.p2.4.m4.1.1.1.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.1.1.1.3"><abs id="S3.SS5.SSS3.p2.4.m4.1.1.1.2.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.1.1.1.3.1"></abs><ci id="S3.SS5.SSS3.p2.4.m4.1.1.1.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.1.1.1.1">𝑆</ci></apply></apply><apply id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1"><exp id="S3.SS5.SSS3.p2.4.m4.3.3.cmml" xref="S3.SS5.SSS3.p2.4.m4.3.3"></exp><apply id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1.1.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1">subscript</csymbol><ci id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1.2.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1.2">𝑙</ci><ci id="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1.3.cmml" xref="S3.SS5.SSS3.p2.4.m4.6.6.3.2.1.1.1.1.3">𝑗</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.SSS3.p2.4.m4.6c">p(r_{i})={\exp({l_{i}})}/{\sum_{j=1}^{|S|}\exp({l_{j}})}</annotation><annotation encoding="application/x-llamapun" id="S3.SS5.SSS3.p2.4.m4.6d">italic_p ( italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) = roman_exp ( italic_l start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) / ∑ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | italic_S | end_POSTSUPERSCRIPT roman_exp ( italic_l start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math>.
We use the expected value of integer ratings as our final prediction:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{E}[R]=\sum_{r_{i}}r_{i}\cdot p(r_{i})." class="ltx_Math" display="block" id="S3.E2.m1.2"><semantics id="S3.E2.m1.2a"><mrow id="S3.E2.m1.2.2.1" xref="S3.E2.m1.2.2.1.1.cmml"><mrow id="S3.E2.m1.2.2.1.1" xref="S3.E2.m1.2.2.1.1.cmml"><mrow id="S3.E2.m1.2.2.1.1.3" xref="S3.E2.m1.2.2.1.1.3.cmml"><mi id="S3.E2.m1.2.2.1.1.3.2" xref="S3.E2.m1.2.2.1.1.3.2.cmml">𝔼</mi><mo id="S3.E2.m1.2.2.1.1.3.1" xref="S3.E2.m1.2.2.1.1.3.1.cmml">⁢</mo><mrow id="S3.E2.m1.2.2.1.1.3.3.2" xref="S3.E2.m1.2.2.1.1.3.3.1.cmml"><mo id="S3.E2.m1.2.2.1.1.3.3.2.1" stretchy="false" xref="S3.E2.m1.2.2.1.1.3.3.1.1.cmml">[</mo><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">R</mi><mo id="S3.E2.m1.2.2.1.1.3.3.2.2" stretchy="false" xref="S3.E2.m1.2.2.1.1.3.3.1.1.cmml">]</mo></mrow></mrow><mo id="S3.E2.m1.2.2.1.1.2" rspace="0.111em" xref="S3.E2.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E2.m1.2.2.1.1.1" xref="S3.E2.m1.2.2.1.1.1.cmml"><munder id="S3.E2.m1.2.2.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.2.cmml"><mo id="S3.E2.m1.2.2.1.1.1.2.2" movablelimits="false" xref="S3.E2.m1.2.2.1.1.1.2.2.cmml">∑</mo><msub id="S3.E2.m1.2.2.1.1.1.2.3" xref="S3.E2.m1.2.2.1.1.1.2.3.cmml"><mi id="S3.E2.m1.2.2.1.1.1.2.3.2" xref="S3.E2.m1.2.2.1.1.1.2.3.2.cmml">r</mi><mi id="S3.E2.m1.2.2.1.1.1.2.3.3" xref="S3.E2.m1.2.2.1.1.1.2.3.3.cmml">i</mi></msub></munder><mrow id="S3.E2.m1.2.2.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.cmml"><mrow id="S3.E2.m1.2.2.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.3.cmml"><msub id="S3.E2.m1.2.2.1.1.1.1.3.2" xref="S3.E2.m1.2.2.1.1.1.1.3.2.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.3.2.2" xref="S3.E2.m1.2.2.1.1.1.1.3.2.2.cmml">r</mi><mi id="S3.E2.m1.2.2.1.1.1.1.3.2.3" xref="S3.E2.m1.2.2.1.1.1.1.3.2.3.cmml">i</mi></msub><mo id="S3.E2.m1.2.2.1.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E2.m1.2.2.1.1.1.1.3.1.cmml">⋅</mo><mi id="S3.E2.m1.2.2.1.1.1.1.3.3" xref="S3.E2.m1.2.2.1.1.1.1.3.3.cmml">p</mi></mrow><mo id="S3.E2.m1.2.2.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.2.2.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E2.m1.2.2.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.cmml">r</mi><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E2.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E2.m1.2.2.1.2" lspace="0em" xref="S3.E2.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.2b"><apply id="S3.E2.m1.2.2.1.1.cmml" xref="S3.E2.m1.2.2.1"><eq id="S3.E2.m1.2.2.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2"></eq><apply id="S3.E2.m1.2.2.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.3"><times id="S3.E2.m1.2.2.1.1.3.1.cmml" xref="S3.E2.m1.2.2.1.1.3.1"></times><ci id="S3.E2.m1.2.2.1.1.3.2.cmml" xref="S3.E2.m1.2.2.1.1.3.2">𝔼</ci><apply id="S3.E2.m1.2.2.1.1.3.3.1.cmml" xref="S3.E2.m1.2.2.1.1.3.3.2"><csymbol cd="latexml" id="S3.E2.m1.2.2.1.1.3.3.1.1.cmml" xref="S3.E2.m1.2.2.1.1.3.3.2.1">delimited-[]</csymbol><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝑅</ci></apply></apply><apply id="S3.E2.m1.2.2.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1"><apply id="S3.E2.m1.2.2.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1.2">subscript</csymbol><sum id="S3.E2.m1.2.2.1.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.2.2"></sum><apply id="S3.E2.m1.2.2.1.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.2.3.1.cmml" xref="S3.E2.m1.2.2.1.1.1.2.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.2.3.2.cmml" xref="S3.E2.m1.2.2.1.1.1.2.3.2">𝑟</ci><ci id="S3.E2.m1.2.2.1.1.1.2.3.3.cmml" xref="S3.E2.m1.2.2.1.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.E2.m1.2.2.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1"><times id="S3.E2.m1.2.2.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2"></times><apply id="S3.E2.m1.2.2.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3"><ci id="S3.E2.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.1">⋅</ci><apply id="S3.E2.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.3.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.3.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.2.2">𝑟</ci><ci id="S3.E2.m1.2.2.1.1.1.1.3.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.2.3">𝑖</ci></apply><ci id="S3.E2.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.3">𝑝</ci></apply><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.2">𝑟</ci><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.2c">\mathbb{E}[R]=\sum_{r_{i}}r_{i}\cdot p(r_{i}).</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.2d">blackboard_E [ italic_R ] = ∑ start_POSTSUBSCRIPT italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ⋅ italic_p ( italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS5.SSS3.p2.5">This method enables continuous rating predictions, even though the model is trained to decode ratings as discrete integers.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.6. </span>Top-<span class="ltx_text ltx_font_italic" id="S3.SS6.1.1">k</span> Recommendation with <span class="ltx_text ltx_font_smallcaps" id="S3.SS6.2.2">Exp3rt</span>
</h3>
<div class="ltx_para" id="S3.SS6.p1">
<p class="ltx_p" id="S3.SS6.p1.1">Since <span class="ltx_text ltx_font_smallcaps" id="S3.SS6.p1.1.1">Exp3rt</span> is built upon an LLM with billion-scale parameters, directly using our model for top-<span class="ltx_text ltx_font_italic" id="S3.SS6.p1.1.2">k</span> recommendation incurs significant computational costs and is practically infeasible.
On the other hand, traditional CF-based recommenders achieve decent performance with relatively lower costs when generating candidate items for top-<span class="ltx_text ltx_font_italic" id="S3.SS6.p1.1.3">k</span> recommendation.
Therefore, we incorporate <span class="ltx_text ltx_font_smallcaps" id="S3.SS6.p1.1.4">Exp3rt</span> into a multi-stage ranking pipeline, where traditional CF-based recommendation models serve as candidate generators.
After efficiently generating these candidates, <span class="ltx_text ltx_font_smallcaps" id="S3.SS6.p1.1.5">Exp3rt</span> reranks them based on their predicted ratings to produce a final ranked list of the top-<span class="ltx_text ltx_font_italic" id="S3.SS6.p1.1.6">k</span> items.
This approach allows our LLM-based recommender to effectively handle top-<span class="ltx_text ltx_font_italic" id="S3.SS6.p1.1.7">k</span> recommendation while maintaining relatively low computational costs.
In short, the multi-stage ranking pipeline combines the scalability and efficiency of CF-based candidate generation with the accuracy of LLM-based reranking, making it highly adaptable for a variety of recommendation scenarios.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Experiments</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we design and conduct experiments to answer the following research questions:</p>
</div>
<div class="ltx_para" id="S4.p2">
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.1">RQ1:</span> How effectively does <span class="ltx_text ltx_font_smallcaps" id="S4.I1.i1.p1.1.2">Exp3rt</span> perform in rating prediction, compared to existing methods?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.1.1">RQ2:</span> How effectively does <span class="ltx_text ltx_font_smallcaps" id="S4.I1.i2.p1.1.2">Exp3rt</span> rerank candidate items within the multi-stage ranking pipeline for top-<span class="ltx_text ltx_font_italic" id="S4.I1.i2.p1.1.3">k</span> recommendation?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i3.p1.1.1">RQ3:</span> How good personalized reasoning can <span class="ltx_text ltx_font_smallcaps" id="S4.I1.i3.p1.1.2">Exp3rt</span> generate?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i4.p1">
<p class="ltx_p" id="S4.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i4.p1.1.1">RQ4:</span> How effective is each component of <span class="ltx_text ltx_font_smallcaps" id="S4.I1.i4.p1.1.2">Exp3rt</span>?</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T2.2.1.1" style="font-size:90%;">Table 2</span>. </span><span class="ltx_text" id="S4.T2.3.2" style="font-size:90%;">Statistics of the datasets</span></figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T2.4" style="width:429.3pt;height:78.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(67.4pt,-12.3pt) scale(1.45726337876051,1.45726337876051) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T2.4.1">
<tr class="ltx_tr" id="S4.T2.4.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T2.4.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T2.4.1.1.1.1">Dataset</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.4.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T2.4.1.1.2.1">#Users</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.4.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T2.4.1.1.3.1">#Items</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.4.1.1.4"><span class="ltx_text ltx_font_bold" id="S4.T2.4.1.1.4.1">#Interactions</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.4.1.1.5"><span class="ltx_text ltx_font_bold" id="S4.T2.4.1.1.5.1">Density</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.1.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.4.1.2.1">IMDB</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.1.2.2">     859</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.1.2.3">  1,155</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.1.2.4">  19,124</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.4.1.2.5">0.0193</td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.1.3">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.4.1.3.1">Amazon-Book</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.4.1.3.2">10,761</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.4.1.3.3">10,084</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.4.1.3.4">118,705</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.4.1.3.5">0.0011</td>
</tr>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S4.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T3.4.2.1" style="font-size:90%;">Table 3</span>. </span><span class="ltx_text" id="S4.T3.2.1" style="font-size:90%;">Performance for rating prediction. The best and second-best results are in bold and underlined (*: <math alttext="p" class="ltx_Math" display="inline" id="S4.T3.2.1.m1.1"><semantics id="S4.T3.2.1.m1.1b"><mi id="S4.T3.2.1.m1.1.1" xref="S4.T3.2.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T3.2.1.m1.1c"><ci id="S4.T3.2.1.m1.1.1.cmml" xref="S4.T3.2.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.1.m1.1d">p</annotation><annotation encoding="application/x-llamapun" id="S4.T3.2.1.m1.1e">italic_p</annotation></semantics></math>-value ¡ 0.05).</span></figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T3.5" style="width:429.3pt;height:836.1pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-44.5pt,86.6pt) scale(0.828225378400378,0.828225378400378) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T3.5.1">
<tr class="ltx_tr" id="S4.T3.5.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T3.5.1.1.1" rowspan="3"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.1.1.1">Methods</span></td>
<td class="ltx_td ltx_align_center ltx_align_middle ltx_border_tt" colspan="2" id="S4.T3.5.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.1.2.1">IMDB</span></td>
<td class="ltx_td ltx_align_center ltx_align_middle ltx_border_tt" colspan="8" id="S4.T3.5.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.1.3.1">Amazon-Book</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.2">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.2.1" style="width:26.0pt;"></td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.2.2" style="width:26.0pt;"></td>
<td class="ltx_td ltx_align_center ltx_align_middle ltx_border_t" colspan="2" id="S4.T3.5.1.2.3"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.2.3.1">Total</span></td>
<td class="ltx_td ltx_align_center ltx_align_middle ltx_border_t" colspan="2" id="S4.T3.5.1.2.4"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.2.4.1">Warm-start</span></td>
<td class="ltx_td ltx_align_center ltx_align_middle ltx_border_t" colspan="2" id="S4.T3.5.1.2.5"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.2.5.1">Cold-start</span></td>
<td class="ltx_td ltx_align_center ltx_align_middle ltx_border_t" colspan="2" id="S4.T3.5.1.2.6"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.2.6.1">Unseen</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.3">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.3.1" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.3.1.1">
<span class="ltx_p" id="S4.T3.5.1.3.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.3.1.1.1.1">RMSE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.3.2" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.3.2.1">
<span class="ltx_p" id="S4.T3.5.1.3.2.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.3.2.1.1.1">MAE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.3.3" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.3.3.1">
<span class="ltx_p" id="S4.T3.5.1.3.3.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.3.3.1.1.1">RMSE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.3.4" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.3.4.1">
<span class="ltx_p" id="S4.T3.5.1.3.4.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.3.4.1.1.1">MAE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.3.5" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.3.5.1">
<span class="ltx_p" id="S4.T3.5.1.3.5.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.3.5.1.1.1">RMSE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.3.6" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.3.6.1">
<span class="ltx_p" id="S4.T3.5.1.3.6.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.3.6.1.1.1">MAE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.3.7" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.3.7.1">
<span class="ltx_p" id="S4.T3.5.1.3.7.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.3.7.1.1.1">RMSE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.3.8" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.3.8.1">
<span class="ltx_p" id="S4.T3.5.1.3.8.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.3.8.1.1.1">MAE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.3.9" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.3.9.1">
<span class="ltx_p" id="S4.T3.5.1.3.9.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.3.9.1.1.1">RMSE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.3.10" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.3.10.1">
<span class="ltx_p" id="S4.T3.5.1.3.10.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.3.10.1.1.1">MAE</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.5.1.4.1">MF</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.4.2" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.4.2.1">
<span class="ltx_p" id="S4.T3.5.1.4.2.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.5.1.4.2.1.1.1">1.9530</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.4.3" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.4.3.1">
<span class="ltx_p" id="S4.T3.5.1.4.3.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.5.1.4.3.1.1.1">1.4771</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.4.4" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.4.4.1">
<span class="ltx_p" id="S4.T3.5.1.4.4.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.5.1.4.4.1.1.1">0.6683</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.4.5" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.4.5.1">
<span class="ltx_p" id="S4.T3.5.1.4.5.1.1">0.4572</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.4.6" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.4.6.1">
<span class="ltx_p" id="S4.T3.5.1.4.6.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.5.1.4.6.1.1.1">0.6663</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.4.7" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.4.7.1">
<span class="ltx_p" id="S4.T3.5.1.4.7.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.5.1.4.7.1.1.1">0.4588</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.4.8" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.4.8.1">
<span class="ltx_p" id="S4.T3.5.1.4.8.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.5.1.4.8.1.1.1">0.6769</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.4.9" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.4.9.1">
<span class="ltx_p" id="S4.T3.5.1.4.9.1.1">0.4501</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.4.10" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.4.10.1">
<span class="ltx_p" id="S4.T3.5.1.4.10.1.1">-</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.4.11" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.4.11.1">
<span class="ltx_p" id="S4.T3.5.1.4.11.1.1">-</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.5">
<td class="ltx_td ltx_align_left" id="S4.T3.5.1.5.1">WDL</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.5.2" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.5.2.1">
<span class="ltx_p" id="S4.T3.5.1.5.2.1.1">2.2562</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.5.3" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.5.3.1">
<span class="ltx_p" id="S4.T3.5.1.5.3.1.1">1.7467</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.5.4" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.5.4.1">
<span class="ltx_p" id="S4.T3.5.1.5.4.1.1">0.7020</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.5.5" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.5.5.1">
<span class="ltx_p" id="S4.T3.5.1.5.5.1.1">0.5324</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.5.6" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.5.6.1">
<span class="ltx_p" id="S4.T3.5.1.5.6.1.1">0.6963</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.5.7" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.5.7.1">
<span class="ltx_p" id="S4.T3.5.1.5.7.1.1">0.5280</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.5.8" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.5.8.1">
<span class="ltx_p" id="S4.T3.5.1.5.8.1.1">0.7262</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.5.9" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.5.9.1">
<span class="ltx_p" id="S4.T3.5.1.5.9.1.1">0.5519</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.5.10" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.5.10.1">
<span class="ltx_p" id="S4.T3.5.1.5.10.1.1">-</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.5.11" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.5.11.1">
<span class="ltx_p" id="S4.T3.5.1.5.11.1.1">-</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.6">
<td class="ltx_td ltx_align_left" id="S4.T3.5.1.6.1">RGCL</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.6.2" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.6.2.1">
<span class="ltx_p" id="S4.T3.5.1.6.2.1.1">2.3143</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.6.3" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.6.3.1">
<span class="ltx_p" id="S4.T3.5.1.6.3.1.1">1.8036</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.6.4" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.6.4.1">
<span class="ltx_p" id="S4.T3.5.1.6.4.1.1">0.7562</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.6.5" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.6.5.1">
<span class="ltx_p" id="S4.T3.5.1.6.5.1.1">0.6117</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.6.6" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.6.6.1">
<span class="ltx_p" id="S4.T3.5.1.6.6.1.1">0.7533</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.6.7" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.6.7.1">
<span class="ltx_p" id="S4.T3.5.1.6.7.1.1">0.6109</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.6.8" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.6.8.1">
<span class="ltx_p" id="S4.T3.5.1.6.8.1.1">0.7693</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.6.9" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.6.9.1">
<span class="ltx_p" id="S4.T3.5.1.6.9.1.1">0.6154</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.6.10" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.6.10.1">
<span class="ltx_p" id="S4.T3.5.1.6.10.1.1">-</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.6.11" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.6.11.1">
<span class="ltx_p" id="S4.T3.5.1.6.11.1.1">-</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.5.1.7.1">P5</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.7.2" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.7.2.1">
<span class="ltx_p" id="S4.T3.5.1.7.2.1.1">2.5471</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.7.3" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.7.3.1">
<span class="ltx_p" id="S4.T3.5.1.7.3.1.1">1.8604</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.7.4" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.7.4.1">
<span class="ltx_p" id="S4.T3.5.1.7.4.1.1">0.8868</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.7.5" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.7.5.1">
<span class="ltx_p" id="S4.T3.5.1.7.5.1.1">0.4756</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.7.6" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.7.6.1">
<span class="ltx_p" id="S4.T3.5.1.7.6.1.1">0.8873</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.7.7" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.7.7.1">
<span class="ltx_p" id="S4.T3.5.1.7.7.1.1">0.4810</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.7.8" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.7.8.1">
<span class="ltx_p" id="S4.T3.5.1.7.8.1.1">0.8846</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.7.9" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.7.9.1">
<span class="ltx_p" id="S4.T3.5.1.7.9.1.1">0.4508</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.7.10" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.7.10.1">
<span class="ltx_p" id="S4.T3.5.1.7.10.1.1">-</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T3.5.1.7.11" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.7.11.1">
<span class="ltx_p" id="S4.T3.5.1.7.11.1.1">-</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.8">
<td class="ltx_td ltx_align_left" id="S4.T3.5.1.8.1">LLMRec (GPT-3.5, ZS)</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.8.2" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.8.2.1">
<span class="ltx_p" id="S4.T3.5.1.8.2.1.1">2.4843</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.8.3" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.8.3.1">
<span class="ltx_p" id="S4.T3.5.1.8.3.1.1">1.7559</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.8.4" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.8.4.1">
<span class="ltx_p" id="S4.T3.5.1.8.4.1.1">0.8974</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.8.5" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.8.5.1">
<span class="ltx_p" id="S4.T3.5.1.8.5.1.1">0.6356</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.8.6" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.8.6.1">
<span class="ltx_p" id="S4.T3.5.1.8.6.1.1">0.8910</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.8.7" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.8.7.1">
<span class="ltx_p" id="S4.T3.5.1.8.7.1.1">0.6301</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.8.8" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.8.8.1">
<span class="ltx_p" id="S4.T3.5.1.8.8.1.1">0.9260</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.8.9" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.8.9.1">
<span class="ltx_p" id="S4.T3.5.1.8.9.1.1">0.6609</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.8.10" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.8.10.1">
<span class="ltx_p" id="S4.T3.5.1.8.10.1.1">1.9732</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.8.11" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.8.11.1">
<span class="ltx_p" id="S4.T3.5.1.8.11.1.1">1.6170</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.9">
<td class="ltx_td ltx_align_left" id="S4.T3.5.1.9.1">LLMRec (GPT-3.5, FS)</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.9.2" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.9.2.1">
<span class="ltx_p" id="S4.T3.5.1.9.2.1.1">2.2161</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.9.3" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.9.3.1">
<span class="ltx_p" id="S4.T3.5.1.9.3.1.1">1.6223</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.9.4" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.9.4.1">
<span class="ltx_p" id="S4.T3.5.1.9.4.1.1">0.7852</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.9.5" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.9.5.1">
<span class="ltx_p" id="S4.T3.5.1.9.5.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.5.1.9.5.1.1.1">0.4562</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.9.6" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.9.6.1">
<span class="ltx_p" id="S4.T3.5.1.9.6.1.1">0.7888</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.9.7" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.9.7.1">
<span class="ltx_p" id="S4.T3.5.1.9.7.1.1">0.4623</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.9.8" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.9.8.1">
<span class="ltx_p" id="S4.T3.5.1.9.8.1.1">0.7688</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.9.9" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.9.9.1">
<span class="ltx_p" id="S4.T3.5.1.9.9.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.5.1.9.9.1.1.1">0.4286</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.9.10" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.9.10.1">
<span class="ltx_p" id="S4.T3.5.1.9.10.1.1">1.7607</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.9.11" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.9.11.1">
<span class="ltx_p" id="S4.T3.5.1.9.11.1.1">1.3000</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.10">
<td class="ltx_td ltx_align_left" id="S4.T3.5.1.10.1">LLMRec (GPT-4, ZS)</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.10.2" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.10.2.1">
<span class="ltx_p" id="S4.T3.5.1.10.2.1.1">2.1586</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.10.3" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.10.3.1">
<span class="ltx_p" id="S4.T3.5.1.10.3.1.1">1.6261</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.10.4" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.10.4.1">
<span class="ltx_p" id="S4.T3.5.1.10.4.1.1">0.9986</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.10.5" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.10.5.1">
<span class="ltx_p" id="S4.T3.5.1.10.5.1.1">0.8331</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.10.6" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.10.6.1">
<span class="ltx_p" id="S4.T3.5.1.10.6.1.1">0.9941</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.10.7" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.10.7.1">
<span class="ltx_p" id="S4.T3.5.1.10.7.1.1">0.8257</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.10.8" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.10.8.1">
<span class="ltx_p" id="S4.T3.5.1.10.8.1.1">1.0187</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.10.9" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.10.9.1">
<span class="ltx_p" id="S4.T3.5.1.10.9.1.1">0.8670</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.10.10" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.10.10.1">
<span class="ltx_p" id="S4.T3.5.1.10.10.1.1">1.7139</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.10.11" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.10.11.1">
<span class="ltx_p" id="S4.T3.5.1.10.11.1.1">1.3958</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.11">
<td class="ltx_td ltx_align_left" id="S4.T3.5.1.11.1">LLMRec (GPT-4, FS)</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.11.2" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.11.2.1">
<span class="ltx_p" id="S4.T3.5.1.11.2.1.1">2.1410</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.11.3" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.11.3.1">
<span class="ltx_p" id="S4.T3.5.1.11.3.1.1">1.6334</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.11.4" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.11.4.1">
<span class="ltx_p" id="S4.T3.5.1.11.4.1.1">0.8386</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.11.5" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.11.5.1">
<span class="ltx_p" id="S4.T3.5.1.11.5.1.1">0.5004</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.11.6" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.11.6.1">
<span class="ltx_p" id="S4.T3.5.1.11.6.1.1">0.8370</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.11.7" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.11.7.1">
<span class="ltx_p" id="S4.T3.5.1.11.7.1.1">0.5010</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.11.8" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.11.8.1">
<span class="ltx_p" id="S4.T3.5.1.11.8.1.1">0.8460</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.11.9" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.11.9.1">
<span class="ltx_p" id="S4.T3.5.1.11.9.1.1">0.4974</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.11.10" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.11.10.1">
<span class="ltx_p" id="S4.T3.5.1.11.10.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.5.1.11.10.1.1.1">1.4993</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T3.5.1.11.11" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.11.11.1">
<span class="ltx_p" id="S4.T3.5.1.11.11.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.11.11.1.1.1">1.0300</span>*</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.12">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T3.5.1.12.1"><span class="ltx_text ltx_font_smallcaps" id="S4.T3.5.1.12.1.1">Exp3rt</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T3.5.1.12.2" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.12.2.1">
<span class="ltx_p" id="S4.T3.5.1.12.2.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.12.2.1.1.1">1.9122</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T3.5.1.12.3" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.12.3.1">
<span class="ltx_p" id="S4.T3.5.1.12.3.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.12.3.1.1.1">1.4691</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T3.5.1.12.4" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.12.4.1">
<span class="ltx_p" id="S4.T3.5.1.12.4.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.12.4.1.1.1">0.6508</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T3.5.1.12.5" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.12.5.1">
<span class="ltx_p" id="S4.T3.5.1.12.5.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.12.5.1.1.1">0.4297</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T3.5.1.12.6" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.12.6.1">
<span class="ltx_p" id="S4.T3.5.1.12.6.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.12.6.1.1.1">0.6572</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T3.5.1.12.7" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.12.7.1">
<span class="ltx_p" id="S4.T3.5.1.12.7.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.12.7.1.1.1">0.4369</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T3.5.1.12.8" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.12.8.1">
<span class="ltx_p" id="S4.T3.5.1.12.8.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.12.8.1.1.1">0.6072</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T3.5.1.12.9" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.12.9.1">
<span class="ltx_p" id="S4.T3.5.1.12.9.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.12.9.1.1.1">0.3858</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T3.5.1.12.10" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.12.10.1">
<span class="ltx_p" id="S4.T3.5.1.12.10.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.12.10.1.1.1">1.4398</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T3.5.1.12.11" style="width:26.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T3.5.1.12.11.1">
<span class="ltx_p" id="S4.T3.5.1.12.11.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.5.1.12.11.1.1.1">1.1192</span></span>
</span>
</td>
</tr>
</table>
</span></div>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Experimental Settings</h3>
<section class="ltx_subsubsection" id="S4.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.1. </span>Datasets</h4>
<div class="ltx_para" id="S4.SS1.SSS1.p1">
<p class="ltx_p" id="S4.SS1.SSS1.p1.1">We conduct our experiments on two publicly available datasets with different sparsity: <span class="ltx_text ltx_font_bold" id="S4.SS1.SSS1.p1.1.1">IMDB</span> and <span class="ltx_text ltx_font_bold" id="S4.SS1.SSS1.p1.1.2">Amazon-Book</span> <cite class="ltx_cite ltx_citemacro_citep">(Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib10" title="">2024a</a>)</cite>.
IMDB is a movie-domain dataset collected from IMDB website<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>https://www.imdb.com/</span></span></span>, and its ratings are on a scale of 1 to 10.
Amazon-Book is obtained from Amazon-Reviews-2023 dataset<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>https://huggingface.co/datasets/McAuley-Lab/Amazon-Reviews-2023</span></span></span>,
where users’ ratings on a scale of 1 to 5.
Both datasets contain item metadata and user reviews with ratings.
Note that IMDB has much higher density that Amazon-Book, which is advantageous to conventional CF methods.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSS1.p2">
<p class="ltx_p" id="S4.SS1.SSS1.p2.1">For preprocessing, we filtered out users and items with fewer than 5 interactions (i.e., 5-core) and excluded interactions without user ratings.
To better simulate real-world recommendation scenarios, we split the dataset into training, validation, and testing sets in an 8:1:1 ratio based on interaction timestamps.
The statistics of the datasets are provided in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.T2" title="Table 2 ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.2. </span>Baselines</h4>
<div class="ltx_para" id="S4.SS1.SSS2.p1">
<p class="ltx_p" id="S4.SS1.SSS2.p1.1">To verify the effectiveness of <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.SSS2.p1.1.1">Exp3rt</span>, we consider a wide range of baseline methods for three tasks:
(1) rating prediction, (2) candidate item reranking, and (3) explanation generation.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.SSS2.p2">
<p class="ltx_p" id="S4.SS1.SSS2.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.SSS2.p2.1.1">Rating prediction.  </span>
We consider a variety of baseline methods for rating prediction, including conventional CF methods <cite class="ltx_cite ltx_citemacro_citep">(Koren et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib15" title="">2009</a>; Cheng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib4" title="">2016</a>)</cite>, a review-enhanced CF method <cite class="ltx_cite ltx_citemacro_citep">(Shuai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib22" title="">2022</a>)</cite>, and LLM-based methods <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib18" title="">2023a</a>)</cite>.</p>
<ul class="ltx_itemize" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i1.p1.1.1">MF</span> <cite class="ltx_cite ltx_citemacro_citep">(Koren et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib15" title="">2009</a>)</cite>: Matrix Factorization, which is one representative latent factor-based CF method.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.p1.1.1">WDL</span> <cite class="ltx_cite ltx_citemacro_citep">(Cheng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib4" title="">2016</a>)</cite>: Wide and Deep Learning, jointly training wide linear models and deep neural networks, to combine the benefits of memorization and generalization.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i3.p1.1.1">RGCL</span> <cite class="ltx_cite ltx_citemacro_citep">(Shuai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib22" title="">2022</a>)</cite>: Review-aware Graph Contrastive Learning framework for review-based recommendation.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i4.p1">
<p class="ltx_p" id="S4.I2.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i4.p1.1.1">P5</span> <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>)</cite>: A text-to-text LLM for recommendation, which incorporates various recommendation tasks into a shared framework.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i5.p1">
<p class="ltx_p" id="S4.I2.i5.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i5.p1.1.1">LLMRec</span> <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib18" title="">2023a</a>)</cite>: An prompting-based method using an LLM as a recommender in rating prediction. We adopt zero-shot (ZS) and few-shot (FS) prompting with GPT-3.5 and GPT-4.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.SSS2.p3">
<p class="ltx_p" id="S4.SS1.SSS2.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.SSS2.p3.1.1">Candidate item reranking.  </span>
We explore personalized item ranking capability of existing LLM-based methods specifically designed for preference prediction <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib2" title="">2023</a>; Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib11" title="">2024b</a>)</cite>.
We employ GPT-3.5 as the LLM.</p>
<ul class="ltx_itemize" id="S4.I3">
<li class="ltx_item" id="S4.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i1.p1">
<p class="ltx_p" id="S4.I3.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I3.i1.p1.1.1">TALLRec</span> <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib2" title="">2023</a>)</cite>: Lightweight instruction tuning framework which generates a binary answer of ”Yes” or ”No” by composing a task instruction based on their historical interactions. We reranked the item with the LLM’s output logit value.</p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i2.p1">
<p class="ltx_p" id="S4.I3.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I3.i2.p1.1.1">ZS-Ranker</span> <cite class="ltx_cite ltx_citemacro_citep">(Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib11" title="">2024b</a>)</cite>: A prompting-based method that uses an LLM as a zero-shot ranker, based on sequential interaction histories and retrieved candidate items.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.SSS2.p4">
<p class="ltx_p" id="S4.SS1.SSS2.p4.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.SSS2.p4.1.1">Explanation generation.  </span>
The third category generates explanations about the recommended items, by leveraging LLMs’ text understanding and generation capabilities.
We compare these methods to make comparisons with our reasoning. We use GPT-3.5 to adopt the following methods.</p>
<ul class="ltx_itemize" id="S4.I4">
<li class="ltx_item" id="S4.I4.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I4.i1.p1">
<p class="ltx_p" id="S4.I4.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I4.i1.p1.1.1">P5</span> <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib7" title="">2022</a>)</cite>: A text-to-text LLM optimized for explanation generation, which generates random spans extracted from an actual review. The target explanation is the first sentence of the review.</p>
</div>
</li>
<li class="ltx_item" id="S4.I4.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I4.i2.p1">
<p class="ltx_p" id="S4.I4.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I4.i2.p1.1.1">XRec</span> <cite class="ltx_cite ltx_citemacro_citep">(Ma et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib20" title="">2024</a>)</cite>:
An LLM-based method for explanation, optimized to generate a concise summary of a user’s actual review. Summary of a single review is provided as the target explanation.</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_table" id="S4.T4">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T4.10.3.1" style="font-size:90%;">Table 4</span>. </span><span class="ltx_text" id="S4.T4.4.2" style="font-size:90%;">Performance comparison of various LLM-based recommenders as candidate item rerankers for top-<math alttext="k" class="ltx_Math" display="inline" id="S4.T4.3.1.m1.1"><semantics id="S4.T4.3.1.m1.1b"><mi id="S4.T4.3.1.m1.1.1" xref="S4.T4.3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T4.3.1.m1.1c"><ci id="S4.T4.3.1.m1.1.1.cmml" xref="S4.T4.3.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.3.1.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="S4.T4.3.1.m1.1e">italic_k</annotation></semantics></math> recommendation, Dataset: IMDB. The best and second-best results are highlighted in bold and underlined (*: <math alttext="p" class="ltx_Math" display="inline" id="S4.T4.4.2.m2.1"><semantics id="S4.T4.4.2.m2.1b"><mi id="S4.T4.4.2.m2.1.1" xref="S4.T4.4.2.m2.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T4.4.2.m2.1c"><ci id="S4.T4.4.2.m2.1.1.cmml" xref="S4.T4.4.2.m2.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.4.2.m2.1d">p</annotation><annotation encoding="application/x-llamapun" id="S4.T4.4.2.m2.1e">italic_p</annotation></semantics></math>-value ¡ 0.05).</span></figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T4.8" style="width:433.6pt;height:149.9pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-71.0pt,24.4pt) scale(0.753265463670766,0.753265463670766) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T4.8.4">
<tr class="ltx_tr" id="S4.T4.8.4.5">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.8.4.5.1"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.5.1.1">Generator</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T4.8.4.5.2"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.5.2.1">Reranker</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.8.4.5.3"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.5.3.1">Recall@5</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.8.4.5.4"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.5.4.1">NDCG@5</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.8.4.5.5"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.5.5.1">Recall@10</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.8.4.5.6"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.5.6.1">NDCG@10</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.8.4.5.7"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.5.7.1">Recall@15</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.8.4.5.8"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.5.8.1">NDCG@15</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.8.4.5.9"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.5.9.1">Recall@20</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.8.4.5.10"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.5.10.1">NDCG@20</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.5.1.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.5.1.1.2" rowspan="5"><span class="ltx_text" id="S4.T4.5.1.1.2.1">BPR-MF</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T4.5.1.1.3">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.5.1.1.4">0.0296</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.5.1.1.5">0.0328</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.5.1.1.6">0.0468</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.5.1.1.7">0.0379</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.5.1.1.8">0.0659</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.5.1.1.9">0.0450</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.5.1.1.1" rowspan="2"><span class="ltx_text" id="S4.T4.5.1.1.1.1"><math alttext="|" class="ltx_Math" display="inline" id="S4.T4.5.1.1.1.1.m1.1"><semantics id="S4.T4.5.1.1.1.1.m1.1a"><mo fence="false" id="S4.T4.5.1.1.1.1.m1.1.1" stretchy="false" xref="S4.T4.5.1.1.1.1.m1.1.1.cmml">|</mo><annotation-xml encoding="MathML-Content" id="S4.T4.5.1.1.1.1.m1.1b"><ci id="S4.T4.5.1.1.1.1.m1.1.1.cmml" xref="S4.T4.5.1.1.1.1.m1.1.1">|</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.5.1.1.1.1.m1.1c">|</annotation><annotation encoding="application/x-llamapun" id="S4.T4.5.1.1.1.1.m1.1d">|</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.5.1.1.10">0.0516</td>
</tr>
<tr class="ltx_tr" id="S4.T4.8.4.6">
<td class="ltx_td ltx_align_left" id="S4.T4.8.4.6.1">P5</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.6.2">0.0232</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.6.3">0.0229</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.6.4">0.0418</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.6.5">0.0306</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.6.6">0.0609</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.6.7">0.0383</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.6.8">0.0467</td>
</tr>
<tr class="ltx_tr" id="S4.T4.8.4.7">
<td class="ltx_td ltx_align_left" id="S4.T4.8.4.7.1">TALLRec</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.7.2">0.0172</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.7.3">0.0192</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.7.4">0.0394</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.7.5">0.0282</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.7.6">0.0642</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.7.7">0.0379</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.7.8">0.0843</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.7.9">0.0448</td>
</tr>
<tr class="ltx_tr" id="S4.T4.6.2.2">
<td class="ltx_td ltx_align_left" id="S4.T4.6.2.2.2">ZS-Ranker</td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.2.2.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.6.2.2.3.1">0.0392</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.2.2.4">
<span class="ltx_text ltx_font_bold" id="S4.T4.6.2.2.4.1">0.0435</span>*</td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.2.2.5"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.6.2.2.5.1">0.0592</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.2.2.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.6.2.2.6.1">0.0482</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.2.2.7"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.6.2.2.7.1">0.0711</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.2.2.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.6.2.2.8.1">0.0530</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.2.2.1" rowspan="2"><span class="ltx_text" id="S4.T4.6.2.2.1.1"><math alttext="|" class="ltx_Math" display="inline" id="S4.T4.6.2.2.1.1.m1.1"><semantics id="S4.T4.6.2.2.1.1.m1.1a"><mo fence="false" id="S4.T4.6.2.2.1.1.m1.1.1" stretchy="false" xref="S4.T4.6.2.2.1.1.m1.1.1.cmml">|</mo><annotation-xml encoding="MathML-Content" id="S4.T4.6.2.2.1.1.m1.1b"><ci id="S4.T4.6.2.2.1.1.m1.1.1.cmml" xref="S4.T4.6.2.2.1.1.m1.1.1">|</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.6.2.2.1.1.m1.1c">|</annotation><annotation encoding="application/x-llamapun" id="S4.T4.6.2.2.1.1.m1.1d">|</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.2.2.9"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.6.2.2.9.1">0.0568</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.8.4.8">
<td class="ltx_td ltx_align_left" id="S4.T4.8.4.8.1"><span class="ltx_text ltx_font_smallcaps" id="S4.T4.8.4.8.1.1">Exp3rt</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.8.2"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.8.2.1">0.0395</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.8.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.8.4.8.3.1">0.0419</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.8.4">
<span class="ltx_text ltx_font_bold" id="S4.T4.8.4.8.4.1">0.0624</span>*</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.8.5">
<span class="ltx_text ltx_font_bold" id="S4.T4.8.4.8.5.1">0.0491</span>*</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.8.6">
<span class="ltx_text ltx_font_bold" id="S4.T4.8.4.8.6.1">0.0768</span>*</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.8.7">
<span class="ltx_text ltx_font_bold" id="S4.T4.8.4.8.7.1">0.0543</span>*</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.8.8"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.8.8.1">0.0569</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.7.3.3">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T4.7.3.3.2" rowspan="5"><span class="ltx_text" id="S4.T4.7.3.3.2.1">LightGCN</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T4.7.3.3.3">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.3.3.4">0.0401</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.3.3.5">0.0463</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.3.3.6">0.0693</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.3.3.7">0.0560</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.3.3.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.7.3.3.8.1">0.0972</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.3.3.9">0.0664</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.3.3.1" rowspan="2"><span class="ltx_text" id="S4.T4.7.3.3.1.1"><math alttext="|" class="ltx_Math" display="inline" id="S4.T4.7.3.3.1.1.m1.1"><semantics id="S4.T4.7.3.3.1.1.m1.1a"><mo fence="false" id="S4.T4.7.3.3.1.1.m1.1.1" stretchy="false" xref="S4.T4.7.3.3.1.1.m1.1.1.cmml">|</mo><annotation-xml encoding="MathML-Content" id="S4.T4.7.3.3.1.1.m1.1b"><ci id="S4.T4.7.3.3.1.1.m1.1.1.cmml" xref="S4.T4.7.3.3.1.1.m1.1.1">|</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.7.3.3.1.1.m1.1c">|</annotation><annotation encoding="application/x-llamapun" id="S4.T4.7.3.3.1.1.m1.1d">|</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.3.3.10">0.0739</td>
</tr>
<tr class="ltx_tr" id="S4.T4.8.4.9">
<td class="ltx_td ltx_align_left" id="S4.T4.8.4.9.1">P5</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.9.2">0.0362</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.9.3">0.0375</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.9.4">0.0578</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.9.5">0.0456</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.9.6">0.0872</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.9.7">0.0571</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.9.8">0.0682</td>
</tr>
<tr class="ltx_tr" id="S4.T4.8.4.10">
<td class="ltx_td ltx_align_left" id="S4.T4.8.4.10.1">TALLRec</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.10.2">0.0274</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.10.3">0.0294</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.10.4">0.0583</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.10.5">0.0423</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.10.6">0.0890</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.10.7">0.0543</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.10.8">0.1169</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.10.9">0.0650</td>
</tr>
<tr class="ltx_tr" id="S4.T4.8.4.4">
<td class="ltx_td ltx_align_left" id="S4.T4.8.4.4.2">ZS-Ranker</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.4.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.8.4.4.3.1">0.0461</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.4.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.8.4.4.4.1">0.0520</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.4.5"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.8.4.4.5.1">0.0717</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.4.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.8.4.4.6.1">0.0593</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.4.7">0.0953</td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.4.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.8.4.4.8.1">0.0685</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.8.4.4.1" rowspan="2"><span class="ltx_text" id="S4.T4.8.4.4.1.1"><math alttext="|" class="ltx_Math" display="inline" id="S4.T4.8.4.4.1.1.m1.1"><semantics id="S4.T4.8.4.4.1.1.m1.1a"><mo fence="false" id="S4.T4.8.4.4.1.1.m1.1.1" stretchy="false" xref="S4.T4.8.4.4.1.1.m1.1.1.cmml">|</mo><annotation-xml encoding="MathML-Content" id="S4.T4.8.4.4.1.1.m1.1b"><ci id="S4.T4.8.4.4.1.1.m1.1.1.cmml" xref="S4.T4.8.4.4.1.1.m1.1.1">|</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.8.4.4.1.1.m1.1c">|</annotation><annotation encoding="application/x-llamapun" id="S4.T4.8.4.4.1.1.m1.1d">|</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.8.4.4.9"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.8.4.4.9.1">0.0765</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.8.4.11">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T4.8.4.11.1"><span class="ltx_text ltx_font_smallcaps" id="S4.T4.8.4.11.1.1">Exp3rt</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.8.4.11.2">
<span class="ltx_text ltx_font_bold" id="S4.T4.8.4.11.2.1">0.0543</span>*</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.8.4.11.3">
<span class="ltx_text ltx_font_bold" id="S4.T4.8.4.11.3.1">0.0560</span>*</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.8.4.11.4">
<span class="ltx_text ltx_font_bold" id="S4.T4.8.4.11.4.1">0.0846</span>*</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.8.4.11.5">
<span class="ltx_text ltx_font_bold" id="S4.T4.8.4.11.5.1">0.0669</span>*</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.8.4.11.6">
<span class="ltx_text ltx_font_bold" id="S4.T4.8.4.11.6.1">0.1006</span>*</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.8.4.11.7">
<span class="ltx_text ltx_font_bold" id="S4.T4.8.4.11.7.1">0.0734</span>*</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.8.4.11.8"><span class="ltx_text ltx_font_bold" id="S4.T4.8.4.11.8.1">0.0796</span></td>
</tr>
</table>
</span></div>
</figure>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.3. </span>Evaluation Metrics</h4>
<div class="ltx_para" id="S4.SS1.SSS3.p1">
<p class="ltx_p" id="S4.SS1.SSS3.p1.1">We use different evaluation metrics for each target task.
For rating prediction, we use Mean Absolute Error (MAE) and Root Mean Squared Error (RMSE).
These metrics evaluate the accuracy of the predicted ratings against the actual ratings, with MAE measuring the average magnitude of errors and RMSE giving more weight to larger errors due to its squared nature.
On the other hand, for top-<math alttext="k" class="ltx_Math" display="inline" id="S4.SS1.SSS3.p1.1.m1.1"><semantics id="S4.SS1.SSS3.p1.1.m1.1a"><mi id="S4.SS1.SSS3.p1.1.m1.1.1" xref="S4.SS1.SSS3.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS3.p1.1.m1.1b"><ci id="S4.SS1.SSS3.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS3.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS3.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS3.p1.1.m1.1d">italic_k</annotation></semantics></math> recommendation, we compare ranking performance using Recall and Normalized Discounted Cumulative Gain (NDCG).
Recall measures the fraction of relevant items successfully retrieved in the top-<span class="ltx_text ltx_font_italic" id="S4.SS1.SSS3.p1.1.1">k</span> recommendations, while NDCG accounts for the position of the relevant items, emphasizing higher-ranked items.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.4. </span>Implementation Details</h4>
<div class="ltx_para" id="S4.SS1.SSS4.p1">
<p class="ltx_p" id="S4.SS1.SSS4.p1.1">We employ GPT-3.5 as a teacher LLM and Llama3-8B-Instruct as a student LLM.
We use teacher LLM to construct training data for <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.SSS4.p1.1.1">Exp3rt</span>.
User profile, item profile and average rating only utilizes the training dataset.
All prompts used for constructing dataset are provided in the Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A1" title="Appendix A Prompts ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">A</span></a>.
During training, we compute the loss only for label tokens within the prompt for each data.
This approach is more efficient, as optimizing the entire input does not yield significant improvements.
We conduct each experiment three times using different random seeds, and report the average values.
The models are trained with the AdamW optimizer using a learning rate of 2e-4, with a constant learning rate scheduler, and a weight decay of 0.0.
The maximum epoch is set to 10, with early stopping based on evaluation loss and a patience of 1.
Evaluation is performed after each epoch.
The maximum token length is set to 1200.
The model with the best validation performance is saved for test set evaluation.
The QLoRA hyperparameters differ by dataset: for IMDb, we use lora_r=512, lora_alpha=128, and lora_dropout=0.1; for Amazon-Book, we use lora_r=128, lora_alpha=32, and lora_dropout=0.1.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Rating Prediction Performance (RQ1)</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">To validate the effectiveness of <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p1.1.1">Exp3rt</span> in the rating prediction task, we evaluate <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p1.1.2">Exp3rt</span> and other methods on both datasets.
Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.T3" title="Table 3 ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a> clearly demonstrates that <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p1.1.3">Exp3rt</span> outperforms all the other methods across two datasets, consistently achieving superior results in both datasets with varying density levels.
Notably, even when compared to MF, which is known for its superior performance among CF-based models, <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p1.1.4">Exp3rt</span> demonstrates higher efficacy.
When evaluated against LLM-based baselines, <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p1.1.5">Exp3rt</span> shows even more substantial performance improvements.
This indicates that our model effectively leverages the reasoning capabilities of LLMs, achieving significant enhancements in rating prediction accuracy.
The consistent outperformance of <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p1.1.6">Exp3rt</span> across various baselines underlines its robustness and efficiency in recommendation tasks, validating its design and underlying approach.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">To further assess the robustness of <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p2.1.1">Exp3rt</span> in various recommendation scenarios, we have designed settings for <span class="ltx_text ltx_font_italic" id="S4.SS2.p2.1.2">warm-start</span>, <span class="ltx_text ltx_font_italic" id="S4.SS2.p2.1.3">cold-start</span>, and <span class="ltx_text ltx_font_italic" id="S4.SS2.p2.1.4">unseen</span> user/item interactions:<span class="ltx_note ltx_role_footnote" id="footnote6"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>We focus on a sparse dataset (i.e., Amazon-Book) to identify cold-start users/items.</span></span></span>
We divide the testing set into warm-start and cold-start subsets:
(1) The warm-start subset includes users who have interacted with items more than three times in the training set, (2) the cold-start subset comprises the remaining interactions, and (3) the unseen set consists of interactions from users who have not appeared in the training set.
It is well known that review-based recommender systems are particularly beneficial for cold-start users, who often lack sufficient interaction data.
Therefore, when demonstrating cold-start performance, it is advantageous to rely on robust reasoning based on reviews rather than on direct learning from sparse interactions, as this can significantly enhance the performance in cold-start scenarios.</p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">In Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.T3" title="Table 3 ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>, we observe performance enhancements in both warm-start and cold-start scenarios for <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p3.1.1">Exp3rt</span>.
However, the performance gap between <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p3.1.2">Exp3rt</span> and the baselines is notably larger in the cold-start subset when compared to the original testing set.
Furthermore, existing CF methods, which fall into a transductive approach, cannot predict the rating for unseen users and items, as they are not included in the training set.
On the contrary, <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p3.1.3">Exp3rt</span> is able to make predictions as long as user (or item) reviews are available;
it even performs much better than prompting-based LLM in the most cases, especially in cold-start scenarios.</p>
</div>
<figure class="ltx_figure" id="S4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="392" id="S4.F3.g1" src="extracted/5789182/FIG/humaneval3.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F3.5.2.1" style="font-size:90%;">Figure 3</span>. </span><span class="ltx_text" id="S4.F3.2.1" style="font-size:90%;">Human evaluation on pairwise quality comparison of recommendation explanations, generated by <span class="ltx_text ltx_font_smallcaps" id="S4.F3.2.1.1">Exp3rt</span> and baselines (*: <math alttext="p" class="ltx_Math" display="inline" id="S4.F3.2.1.m1.1"><semantics id="S4.F3.2.1.m1.1b"><mi id="S4.F3.2.1.m1.1.1" xref="S4.F3.2.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.F3.2.1.m1.1c"><ci id="S4.F3.2.1.m1.1.1.cmml" xref="S4.F3.2.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.2.1.m1.1d">p</annotation><annotation encoding="application/x-llamapun" id="S4.F3.2.1.m1.1e">italic_p</annotation></semantics></math>-value ¡ 0.05). </span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Top-<span class="ltx_text ltx_font_italic" id="S4.SS3.1.1">k</span> Recommendation Performance (RQ2)</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">To investigate the effectiveness of <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.p1.1.1">Exp3rt</span> as a candidate item reranker within a multi-stage ranking pipeline, we evaluate the top-<span class="ltx_text ltx_font_italic" id="S4.SS3.p1.1.2">k</span> recommendation accuracy on the IMDB dataset.<span class="ltx_note ltx_role_footnote" id="footnote7"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span>The necessity of reranking top-<span class="ltx_text ltx_font_italic" id="footnote7.1">k</span> candidate items, generated from a relevance-based recommender, becomes significant only for datasets having a balanced rating distribution, as the candidates need to be further aligned with users’ true preference. Thus, we do not use Amazon-Book having a skewed rating distribution (almost 5).</span></span></span>
To evaluate the model’s ability to rank highly preferred items at the top, we create a balanced subset of the IMDB dataset by selecting interactions with ratings of 6 or higher from the original dataset.
Among these, items with ratings of 9 and 10 are clearly classified as highly preferred items and evenly split between the training and test sets.
Through this process, the test set contains only the most highly preferred items.
This setup allows us to test the reranker’s ability to accurately identify and prioritize the most preferred items.
</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">We choose two popular CF-based top-<span class="ltx_text ltx_font_italic" id="S4.SS3.p2.1.1">k</span> recommender, <span class="ltx_text ltx_font_bold" id="S4.SS3.p2.1.2">BPR-MF</span> <cite class="ltx_cite ltx_citemacro_citep">(Koren et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib15" title="">2009</a>)</cite> and <span class="ltx_text ltx_font_bold" id="S4.SS3.p2.1.3">LightGCN</span> <cite class="ltx_cite ltx_citemacro_citep">(He et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib9" title="">2020</a>)</cite>, as candidate item generators to retrieve top-20 items for each user in the dataset.
As the rerankers, <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.p2.1.4">Exp3rt</span> and other baseline methods rerank the retrieved candidate items based on the predicted scores or relevance.</p>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.T4" title="Table 4 ‣ 4.1.2. Baselines ‣ 4.1. Experimental Settings ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a> shows that <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.p3.1.1">Exp3rt</span> considerably improves the recommendation accuracy by effectively reranking the candidate items.
In case of other LLM-based reranker (i.e., P5, TALLRec, and ZS-Ranker), they sometime degrades the ranking accuracy compared to the case without the reranking process, whereas the reranking of <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.p3.1.2">Exp3rt</span> consistently yields improvements.
These findings show the superiority of <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.p3.1.3">Exp3rt</span> in discriminating between highly preferred and less preferred items within a subtle environment.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Explanation Quality (RQ3)</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">We also evaluate the quality of explanations generated by LLM-based methods with the human evaluation via Amazon Mechanical Turk (AMT).
We randomly sample 100 examples from each dataset, and ask three human judges to compare the quality of explanations based on the five distinct criteria:
<span class="ltx_text ltx_font_italic" id="S4.SS4.p1.1.1">scrutability</span>, <span class="ltx_text ltx_font_italic" id="S4.SS4.p1.1.2">reasonability</span>, <span class="ltx_text ltx_font_italic" id="S4.SS4.p1.1.3">persuasiveness</span>, <span class="ltx_text ltx_font_italic" id="S4.SS4.p1.1.4">faithfulness</span> and <span class="ltx_text ltx_font_italic" id="S4.SS4.p1.1.5">overall</span>.<span class="ltx_note ltx_role_footnote" id="footnote8"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note">8</span>We adopt the evaluation perspectives commonly used in conversational recommendation systems in terms of verifying whether an explanation has sufficient explainability to the actual users <cite class="ltx_cite ltx_citemacro_citep">(Guo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib8" title="">2023</a>)</cite>.</span></span></span>
The detailed descriptions about the criteria are presented in the Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A3" title="Appendix C Human Evaluation ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.1">In Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.F3" title="Figure 3 ‣ 4.2. Rating Prediction Performance (RQ1) ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>, <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.p2.1.1">Exp3rt</span> beats all other baselines by a large margin for all criteria.
Particularly, the explanations from <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.p2.1.2">Exp3rt</span> are considered to achieve remarkable <span class="ltx_text ltx_font_italic" id="S4.SS4.p2.1.3">persuasiveness</span>, implying that step-by-step reasoning based on subjective information in user/item profiles and objective information in item description exhibits great explainability as well as enhances the rating prediction accuracy.
In addition, qualitative comparison of the explanations generated by various LLM-based methods in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.T5" title="Table 5 ‣ 4.4. Explanation Quality (RQ3) ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">5</span></a> clearly supports that our textual reasoning provides more insightful and faithful explanations about the item.
For instance, while P5 offers a brief and vague statement and XRec provides an abstract explanation, <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.p2.1.4">Exp3rt</span> provides a rich, generalized narrative.
This detailed elucidation captures a variety of aspects and gives reasonable rationale for personalized recommendation that align closely with the user’s preferences.
This allows users to get a more thorough and convincing understanding of the explanations.</p>
</div>
<figure class="ltx_table" id="S4.T5">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T5.5.1.1" style="font-size:90%;">Table 5</span>. </span><span class="ltx_text" id="S4.T5.6.2" style="font-size:90%;">Explanations for user <span class="ltx_text ltx_font_italic" id="S4.T5.6.2.1">AGIR2FRRAWXR6C4J7MZT5C QENTIA</span> and item <span class="ltx_text ltx_font_italic" id="S4.T5.6.2.2">B094NRQWQK</span> (<span class="ltx_text ltx_font_italic" id="S4.T5.6.2.3">Magnus Maximus 29: The Last Romans</span>) generated by LLM-based methods.</span></figcaption>
<table class="ltx_tabular ltx_align_middle" id="S4.T5.7">
<tr class="ltx_tr" id="S4.T5.7.1">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="S4.T5.7.1.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T5.7.1.1.1">
<span class="ltx_p" id="S4.T5.7.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T5.7.1.1.1.1.1">P5</span>: Max surprised me.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T5.7.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T5.7.2.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T5.7.2.1.1">
<span class="ltx_p" id="S4.T5.7.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T5.7.2.1.1.1.1">XRec</span>: The user would enjoy the item because it provides surprising confrontations and engaging interactions, which can add excitement and unpredictability to their experience.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T5.7.3">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb ltx_border_t" id="S4.T5.7.3.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T5.7.3.1.1">
<span class="ltx_p" id="S4.T5.7.3.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S4.T5.7.3.1.1.1.1">Exp3rt</span>: The user would definitely enjoy “Magnus Maximus 29: The Last Romans” as it offers an epic storyline with entertaining twists and impressive performances. <span class="ltx_text ltx_font_bold" id="S4.T5.7.3.1.1.1.2">The well-portrayed characters and action-packed plot would captivate the user’s interest, and the cool twists in the story would keep user engaged.</span> Additionally, the increased stature of Max would likely appeal to the user’s preference for impressive character development. Overall, the book seems to align perfectly with the user’s love for killer stories and well-researched plots.</span>
</span>
</td>
</tr>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5. </span>Ablation Study (RQ4)</h3>
<figure class="ltx_table" id="S4.T6">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T6.5.2.1" style="font-size:90%;">Table 6</span>. </span><span class="ltx_text" id="S4.T6.2.1" style="font-size:90%;">Performance of <span class="ltx_text ltx_font_smallcaps" id="S4.T6.2.1.1">Exp3rt</span> for rating prediction with various item profile construction strategies (*: <math alttext="p" class="ltx_Math" display="inline" id="S4.T6.2.1.m1.1"><semantics id="S4.T6.2.1.m1.1b"><mi id="S4.T6.2.1.m1.1.1" xref="S4.T6.2.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T6.2.1.m1.1c"><ci id="S4.T6.2.1.m1.1.1.cmml" xref="S4.T6.2.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.2.1.m1.1d">p</annotation><annotation encoding="application/x-llamapun" id="S4.T6.2.1.m1.1e">italic_p</annotation></semantics></math>-value ¡ 0.05).</span></figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T6.6" style="width:429.3pt;height:675.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(86.2pt,-135.6pt) scale(1.67055151949734,1.67055151949734) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T6.6.1">
<tr class="ltx_tr" id="S4.T6.6.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T6.6.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="S4.T6.6.1.1.1.1">Selection Strategy</span></td>
<td class="ltx_td ltx_align_center ltx_align_middle ltx_border_tt" colspan="2" id="S4.T6.6.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T6.6.1.1.2.1">IMDB</span></td>
<td class="ltx_td ltx_align_center ltx_align_middle ltx_border_tt" colspan="2" id="S4.T6.6.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T6.6.1.1.3.1">Amazon-book</span></td>
</tr>
<tr class="ltx_tr" id="S4.T6.6.1.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T6.6.1.2.1" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.2.1.1">
<span class="ltx_p" id="S4.T6.6.1.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T6.6.1.2.1.1.1.1">RSME</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T6.6.1.2.2" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.2.2.1">
<span class="ltx_p" id="S4.T6.6.1.2.2.1.1"><span class="ltx_text ltx_font_bold" id="S4.T6.6.1.2.2.1.1.1">MAE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T6.6.1.2.3" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.2.3.1">
<span class="ltx_p" id="S4.T6.6.1.2.3.1.1"><span class="ltx_text ltx_font_bold" id="S4.T6.6.1.2.3.1.1.1">RSME</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T6.6.1.2.4" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.2.4.1">
<span class="ltx_p" id="S4.T6.6.1.2.4.1.1"><span class="ltx_text ltx_font_bold" id="S4.T6.6.1.2.4.1.1.1">MAE</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T6.6.1.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.6.1.3.1">All (<span class="ltx_text ltx_font_italic" id="S4.T6.6.1.3.1.1">Default</span>)</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T6.6.1.3.2" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.3.2.1">
<span class="ltx_p" id="S4.T6.6.1.3.2.1.1"><span class="ltx_text ltx_font_bold" id="S4.T6.6.1.3.2.1.1.1">1.9122</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T6.6.1.3.3" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.3.3.1">
<span class="ltx_p" id="S4.T6.6.1.3.3.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T6.6.1.3.3.1.1.1">1.4691</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T6.6.1.3.4" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.3.4.1">
<span class="ltx_p" id="S4.T6.6.1.3.4.1.1"><span class="ltx_text ltx_font_bold" id="S4.T6.6.1.3.4.1.1.1">0.6508</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T6.6.1.3.5" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.3.5.1">
<span class="ltx_p" id="S4.T6.6.1.3.5.1.1"><span class="ltx_text ltx_font_bold" id="S4.T6.6.1.3.5.1.1.1">0.4297</span>*</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T6.6.1.4">
<td class="ltx_td ltx_align_center" id="S4.T6.6.1.4.1">Helpfulness-based</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T6.6.1.4.2" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.4.2.1">
<span class="ltx_p" id="S4.T6.6.1.4.2.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T6.6.1.4.2.1.1.1">1.9451</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T6.6.1.4.3" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.4.3.1">
<span class="ltx_p" id="S4.T6.6.1.4.3.1.1"><span class="ltx_text ltx_font_bold" id="S4.T6.6.1.4.3.1.1.1">1.4530</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T6.6.1.4.4" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.4.4.1">
<span class="ltx_p" id="S4.T6.6.1.4.4.1.1">0.9727</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T6.6.1.4.5" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.4.5.1">
<span class="ltx_p" id="S4.T6.6.1.4.5.1.1">0.7058</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T6.6.1.5">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.6.1.5.1">Neighbor-based</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T6.6.1.5.2" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.5.2.1">
<span class="ltx_p" id="S4.T6.6.1.5.2.1.1">1.9812</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T6.6.1.5.3" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.5.3.1">
<span class="ltx_p" id="S4.T6.6.1.5.3.1.1">1.4931</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T6.6.1.5.4" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.5.4.1">
<span class="ltx_p" id="S4.T6.6.1.5.4.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T6.6.1.5.4.1.1.1">0.9555</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T6.6.1.5.5" style="width:52.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T6.6.1.5.5.1">
<span class="ltx_p" id="S4.T6.6.1.5.5.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T6.6.1.5.5.1.1.1">0.6876</span></span>
</span>
</td>
</tr>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S4.T7">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T7.4.2.1" style="font-size:90%;">Table 7</span>. </span><span class="ltx_text" id="S4.T7.2.1" style="font-size:90%;">Effect of step-by-step reasoning (“R”) and bias (“B”) in rating prediction (*: <math alttext="p" class="ltx_Math" display="inline" id="S4.T7.2.1.m1.1"><semantics id="S4.T7.2.1.m1.1b"><mi id="S4.T7.2.1.m1.1.1" xref="S4.T7.2.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T7.2.1.m1.1c"><ci id="S4.T7.2.1.m1.1.1.cmml" xref="S4.T7.2.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.2.1.m1.1d">p</annotation><annotation encoding="application/x-llamapun" id="S4.T7.2.1.m1.1e">italic_p</annotation></semantics></math>-value ¡ 0.05).</span></figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T7.5" style="width:429.3pt;height:2178.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(71.3pt,-361.9pt) scale(1.49750697595888,1.49750697595888) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T7.5.1">
<tr class="ltx_tr" id="S4.T7.5.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T7.5.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.1.1.1">Methods</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T7.5.1.1.2" rowspan="2"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.1.2.1">R</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T7.5.1.1.3" rowspan="2"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.1.3.1">B</span></td>
<td class="ltx_td ltx_align_center ltx_align_middle ltx_border_tt" colspan="2" id="S4.T7.5.1.1.4"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.1.4.1">IMDB</span></td>
<td class="ltx_td ltx_align_center ltx_align_middle ltx_border_tt" colspan="2" id="S4.T7.5.1.1.5"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.1.5.1">Amazon-book</span></td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.2.1" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.2.1.1">
<span class="ltx_p" id="S4.T7.5.1.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.2.1.1.1.1">RMSE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.2.2" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.2.2.1">
<span class="ltx_p" id="S4.T7.5.1.2.2.1.1"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.2.2.1.1.1">MAE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.2.3" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.2.3.1">
<span class="ltx_p" id="S4.T7.5.1.2.3.1.1"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.2.3.1.1.1">RMSE</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.2.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.2.4.1">
<span class="ltx_p" id="S4.T7.5.1.2.4.1.1"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.2.4.1.1.1">MAE</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.3">
<td class="ltx_td ltx_border_t" id="S4.T7.5.1.3.1"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.5.1.3.2"><span class="ltx_text" id="S4.T7.5.1.3.2.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.5.1.3.3"><span class="ltx_text" id="S4.T7.5.1.3.3.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.3.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.3.4.1">
<span class="ltx_p" id="S4.T7.5.1.3.4.1.1">2.2088</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.3.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.3.5.1">
<span class="ltx_p" id="S4.T7.5.1.3.5.1.1">1.6290</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.3.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.3.6.1">
<span class="ltx_p" id="S4.T7.5.1.3.6.1.1">0.9100</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.3.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.3.7.1">
<span class="ltx_p" id="S4.T7.5.1.3.7.1.1">0.7139</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.4">
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.4.1">LLMRec</td>
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.4.2"><span class="ltx_text" id="S4.T7.5.1.4.2.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td" id="S4.T7.5.1.4.3"></td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.4.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.4.4.1">
<span class="ltx_p" id="S4.T7.5.1.4.4.1.1">2.4221</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.4.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.4.5.1">
<span class="ltx_p" id="S4.T7.5.1.4.5.1.1">1.7449</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.4.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.4.6.1">
<span class="ltx_p" id="S4.T7.5.1.4.6.1.1">0.9291</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.4.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.4.7.1">
<span class="ltx_p" id="S4.T7.5.1.4.7.1.1">0.7372</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.5">
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.5.1">(GPT-3.5, ZS)</td>
<td class="ltx_td" id="S4.T7.5.1.5.2"></td>
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.5.3"><span class="ltx_text" id="S4.T7.5.1.5.3.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.5.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.5.4.1">
<span class="ltx_p" id="S4.T7.5.1.5.4.1.1">2.2023</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.5.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.5.5.1">
<span class="ltx_p" id="S4.T7.5.1.5.5.1.1">1.6519</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.5.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.5.6.1">
<span class="ltx_p" id="S4.T7.5.1.5.6.1.1">0.9193</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.5.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.5.7.1">
<span class="ltx_p" id="S4.T7.5.1.5.7.1.1">0.6392</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.6">
<td class="ltx_td" id="S4.T7.5.1.6.1"></td>
<td class="ltx_td" id="S4.T7.5.1.6.2"></td>
<td class="ltx_td" id="S4.T7.5.1.6.3"></td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.6.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.6.4.1">
<span class="ltx_p" id="S4.T7.5.1.6.4.1.1">2.4843</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.6.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.6.5.1">
<span class="ltx_p" id="S4.T7.5.1.6.5.1.1">1.7559</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.6.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.6.6.1">
<span class="ltx_p" id="S4.T7.5.1.6.6.1.1">0.8974</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.6.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.6.7.1">
<span class="ltx_p" id="S4.T7.5.1.6.7.1.1">0.6356</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.7">
<td class="ltx_td ltx_border_t" id="S4.T7.5.1.7.1"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.5.1.7.2"><span class="ltx_text" id="S4.T7.5.1.7.2.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.5.1.7.3"><span class="ltx_text" id="S4.T7.5.1.7.3.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.7.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.7.4.1">
<span class="ltx_p" id="S4.T7.5.1.7.4.1.1">2.1600</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.7.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.7.5.1">
<span class="ltx_p" id="S4.T7.5.1.7.5.1.1">1.5913</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.7.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.7.6.1">
<span class="ltx_p" id="S4.T7.5.1.7.6.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T7.5.1.7.6.1.1.1">0.7815</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.7.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.7.7.1">
<span class="ltx_p" id="S4.T7.5.1.7.7.1.1">0.4982</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.8">
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.8.1">LLMRec</td>
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.8.2"><span class="ltx_text" id="S4.T7.5.1.8.2.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td" id="S4.T7.5.1.8.3"></td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.8.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.8.4.1">
<span class="ltx_p" id="S4.T7.5.1.8.4.1.1">2.2254</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.8.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.8.5.1">
<span class="ltx_p" id="S4.T7.5.1.8.5.1.1">1.6403</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.8.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.8.6.1">
<span class="ltx_p" id="S4.T7.5.1.8.6.1.1">0.7872</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.8.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.8.7.1">
<span class="ltx_p" id="S4.T7.5.1.8.7.1.1">0.4776</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.9">
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.9.1">(GPT-3.5, FS)</td>
<td class="ltx_td" id="S4.T7.5.1.9.2"></td>
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.9.3"><span class="ltx_text" id="S4.T7.5.1.9.3.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.9.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.9.4.1">
<span class="ltx_p" id="S4.T7.5.1.9.4.1.1">2.2243</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.9.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.9.5.1">
<span class="ltx_p" id="S4.T7.5.1.9.5.1.1">1.6726</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.9.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.9.6.1">
<span class="ltx_p" id="S4.T7.5.1.9.6.1.1">0.8051</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.9.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.9.7.1">
<span class="ltx_p" id="S4.T7.5.1.9.7.1.1">0.5246</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.10">
<td class="ltx_td" id="S4.T7.5.1.10.1"></td>
<td class="ltx_td" id="S4.T7.5.1.10.2"></td>
<td class="ltx_td" id="S4.T7.5.1.10.3"></td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.10.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.10.4.1">
<span class="ltx_p" id="S4.T7.5.1.10.4.1.1">2.2161</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.10.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.10.5.1">
<span class="ltx_p" id="S4.T7.5.1.10.5.1.1">1.6223</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.10.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.10.6.1">
<span class="ltx_p" id="S4.T7.5.1.10.6.1.1">0.7852</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.10.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.10.7.1">
<span class="ltx_p" id="S4.T7.5.1.10.7.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T7.5.1.10.7.1.1.1">0.4562</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.11">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.5.1.11.1" rowspan="3"><span class="ltx_text" id="S4.T7.5.1.11.1.1">
<span class="ltx_inline-block" id="S4.T7.5.1.11.1.1.1">
<span class="ltx_p" id="S4.T7.5.1.11.1.1.1.1">GPT-3.5, ZS</span>
<span class="ltx_p" id="S4.T7.5.1.11.1.1.1.2">(<span class="ltx_text ltx_font_smallcaps" id="S4.T7.5.1.11.1.1.1.2.1">Exp3rt</span> input)</span>
</span></span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.5.1.11.2"><span class="ltx_text" id="S4.T7.5.1.11.2.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.5.1.11.3"><span class="ltx_text" id="S4.T7.5.1.11.3.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.11.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.11.4.1">
<span class="ltx_p" id="S4.T7.5.1.11.4.1.1">2.0688</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.11.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.11.5.1">
<span class="ltx_p" id="S4.T7.5.1.11.5.1.1">1.6489</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.11.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.11.6.1">
<span class="ltx_p" id="S4.T7.5.1.11.6.1.1">0.9038</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.11.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.11.7.1">
<span class="ltx_p" id="S4.T7.5.1.11.7.1.1">0.6518</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.12">
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.12.1"><span class="ltx_text" id="S4.T7.5.1.12.1.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td" id="S4.T7.5.1.12.2"></td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.12.3" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.12.3.1">
<span class="ltx_p" id="S4.T7.5.1.12.3.1.1">2.2785</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.12.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.12.4.1">
<span class="ltx_p" id="S4.T7.5.1.12.4.1.1">1.8321</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.12.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.12.5.1">
<span class="ltx_p" id="S4.T7.5.1.12.5.1.1">1.2453</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.12.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.12.6.1">
<span class="ltx_p" id="S4.T7.5.1.12.6.1.1">1.0354</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.13">
<td class="ltx_td" id="S4.T7.5.1.13.1"></td>
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.13.2"><span class="ltx_text" id="S4.T7.5.1.13.2.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.13.3" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.13.3.1">
<span class="ltx_p" id="S4.T7.5.1.13.3.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T7.5.1.13.3.1.1.1">2.0021</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.13.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.13.4.1">
<span class="ltx_p" id="S4.T7.5.1.13.4.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T7.5.1.13.4.1.1.1">1.5789</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.13.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.13.5.1">
<span class="ltx_p" id="S4.T7.5.1.13.5.1.1">0.8888</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.13.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.13.6.1">
<span class="ltx_p" id="S4.T7.5.1.13.6.1.1">0.5562</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.14">
<td class="ltx_td ltx_border_t" id="S4.T7.5.1.14.1"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.5.1.14.2"><span class="ltx_text" id="S4.T7.5.1.14.2.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.5.1.14.3"><span class="ltx_text" id="S4.T7.5.1.14.3.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.14.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.14.4.1">
<span class="ltx_p" id="S4.T7.5.1.14.4.1.1"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.14.4.1.1.1">1.9122</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.14.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.14.5.1">
<span class="ltx_p" id="S4.T7.5.1.14.5.1.1"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.14.5.1.1.1">1.4691</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.14.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.14.6.1">
<span class="ltx_p" id="S4.T7.5.1.14.6.1.1"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.14.6.1.1.1">0.6508</span>*</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T7.5.1.14.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.14.7.1">
<span class="ltx_p" id="S4.T7.5.1.14.7.1.1"><span class="ltx_text ltx_font_bold" id="S4.T7.5.1.14.7.1.1.1">0.4297</span>*</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.15">
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.15.1"><span class="ltx_text ltx_font_smallcaps" id="S4.T7.5.1.15.1.1">Exp3rt</span></td>
<td class="ltx_td ltx_align_center" id="S4.T7.5.1.15.2"><span class="ltx_text" id="S4.T7.5.1.15.2.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td" id="S4.T7.5.1.15.3"></td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.15.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.15.4.1">
<span class="ltx_p" id="S4.T7.5.1.15.4.1.1">2.1802</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.15.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.15.5.1">
<span class="ltx_p" id="S4.T7.5.1.15.5.1.1">1.6848</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.15.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.15.6.1">
<span class="ltx_p" id="S4.T7.5.1.15.6.1.1">0.8793</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T7.5.1.15.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.15.7.1">
<span class="ltx_p" id="S4.T7.5.1.15.7.1.1">0.5598</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.5.1.16">
<td class="ltx_td ltx_border_bb" id="S4.T7.5.1.16.1"></td>
<td class="ltx_td ltx_border_bb" id="S4.T7.5.1.16.2"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.5.1.16.3"><span class="ltx_text" id="S4.T7.5.1.16.3.1" style="color:#1E821E;">✓</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T7.5.1.16.4" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.16.4.1">
<span class="ltx_p" id="S4.T7.5.1.16.4.1.1">2.0655</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T7.5.1.16.5" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.16.5.1">
<span class="ltx_p" id="S4.T7.5.1.16.5.1.1">1.6919</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T7.5.1.16.6" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.16.6.1">
<span class="ltx_p" id="S4.T7.5.1.16.6.1.1">0.9181</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="S4.T7.5.1.16.7" style="width:47.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T7.5.1.16.7.1">
<span class="ltx_p" id="S4.T7.5.1.16.7.1.1">0.8006</span>
</span>
</td>
</tr>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">To demonstrate the flexibility of our framework, we explore various item profile construction strategies (Section <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S3.SS5.SSS2" title="3.5.2. Inference ‣ 3.5. Optimization and Inference ‣ 3. Proposed Method ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3.5.2</span></a>) and examine how these different strategies impact the performance of <span class="ltx_text ltx_font_smallcaps" id="S4.SS5.p1.1.1">Exp3rt</span>.
This flexibility allows us to customize the item profile based on specific criteria, such as helpfulness-based and neighbor-based selection.
Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.T6" title="Table 6 ‣ 4.5. Ablation Study (RQ4) ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">6</span></a> provides detailed insights into these aspects. For example, while the helpfulness-based and neighbor-based strategies offer useful alternatives for different recommendation tasks, they are slightly less effective compared to the default setting. The default setting, which utilizes all available reviews, proves to be the most effective.
Therefore, we set the default setting to utilize all reviews, constructing the item profile in a comprehensive manner.</p>
</div>
<div class="ltx_para" id="S4.SS5.p2">
<p class="ltx_p" id="S4.SS5.p2.1">To demonstrate the effectiveness of incorporating user/item rating bias and textual reasoning into our model, we examine the impact of these components on the performance of <span class="ltx_text ltx_font_smallcaps" id="S4.SS5.p2.1.1">Exp3rt</span> in rating prediction tasks by ablating these technical components.
Additionally, to assess the impact of incorporating bias and reasoning into the existing approach, we evaluate the effectiveness of zero-shot and few-shot prompting-based rating prediction with LLMRec (GPT-3.5).
We analyze enhancements achieved by integrating (1) user/item rating bias, (2) textual reasoning for prediction, and (3) a combination of both approaches.
In Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#S4.T7" title="Table 7 ‣ 4.5. Ablation Study (RQ4) ‣ 4. Experiments ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">7</span></a>, it is obvious that both rating bias and textual reasoning are significantly helpful for reducing prediction errors.
In addition, we provide same inputs as <span class="ltx_text ltx_font_smallcaps" id="S4.SS5.p2.1.2">Exp3rt</span> to GPT-3.5 as zero-shot, to show the effectiveness of knowledge distillation.
Notably, our model, which is specifically fine-tuned on the target dataset through distillation, outperforms the prompting-based approach, highlighting the necessity of LLM fine-tuning for recommendation tasks.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Conclusion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">This paper proposes <span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.1">Exp3rt</span>, a novel LLM-based recommender for reasoning-enhanced rating prediction.
<span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.2">Exp3rt</span> is optimized via distillation of a powerful teacher LLM for various tasks, including preference extraction, profile construction, and textual reasoning for rating prediction.
Our empirical evaluation on two datasets demonstrates that <span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.3">Exp3rt</span> is effective in rating prediction itself, as well as a reranker within a multi-stage ranking pipeline for top-k recommendation.
Furthermore, its textual reasoning can serve as faithful and reasonable explanations for recommendation, comprehensively capturing the subjective preference of users and items.
This study is the first work to propose a direction for fully leveraging the reasoning capabilities of LLMs for recommendation, based on rich information and detailed reasoning processes.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Keqin Bao, Jizhi Zhang, Yang Zhang, Wenjie Wang, Fuli Feng, and Xiangnan He. 2023.

</span>
<span class="ltx_bibblock">Tallrec: An effective and efficient tuning framework to align large language model with recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">Proceedings of the 17th ACM Conference on Recommender Systems</em>. 1007–1014.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, et al<span class="ltx_text" id="bib.bib3.3.1">.</span> 2020.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.4.1">Advances in neural information processing systems</em> 33 (2020), 1877–1901.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cheng et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Heng-Tze Cheng, Levent Koc, Jeremiah Harmsen, Tal Shaked, Tushar Chandra, Hrishi Aradhye, Glen Anderson, Greg Corrado, Wei Chai, Mustafa Ispir, et al<span class="ltx_text" id="bib.bib4.3.1">.</span> 2016.

</span>
<span class="ltx_bibblock">Wide &amp; deep learning for recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib4.4.1">Proceedings of the 1st workshop on deep learning for recommender systems</em>. 7–10.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dettmers et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Tim Dettmers, Artidoro Pagnoni, Ari Holtzman, and Luke Zettlemoyer. 2024.

</span>
<span class="ltx_bibblock">Qlora: Efficient finetuning of quantized llms.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">Advances in Neural Information Processing Systems</em> 36 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yunfan Gao, Tao Sheng, Youlin Xiang, Yun Xiong, Haofen Wang, and Jiawei Zhang. 2023.

</span>
<span class="ltx_bibblock">Chat-rec: Towards interactive and explainable llms-augmented recommender system.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">arXiv preprint arXiv:2303.14524</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geng et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Shijie Geng, Shuchang Liu, Zuohui Fu, Yingqiang Ge, and Yongfeng Zhang. 2022.

</span>
<span class="ltx_bibblock">Recommendation as language processing (rlp): A unified pretrain, personalized prompt &amp; predict paradigm (p5). In <em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">Proceedings of the 16th ACM Conference on Recommender Systems</em>. 299–315.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Shuyu Guo, Shuo Zhang, Weiwei Sun, Pengjie Ren, Zhumin Chen, and Zhaochun Ren. 2023.

</span>
<span class="ltx_bibblock">Towards explainable conversational recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">Proceedings of the 46th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 2786–2795.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Xiangnan He, Kuan Deng, Xiang Wang, Yan Li, Yongdong Zhang, and Meng Wang. 2020.

</span>
<span class="ltx_bibblock">Lightgcn: Simplifying and powering graph convolution network for recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">Proceedings of the 43rd International ACM SIGIR conference on research and development in Information Retrieval</em>. 639–648.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Yupeng Hou, Jiacheng Li, Zhankui He, An Yan, Xiusi Chen, and Julian McAuley. 2024a.

</span>
<span class="ltx_bibblock">Bridging Language and Items for Retrieval and Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">arXiv preprint arXiv:2403.03952</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Yupeng Hou, Junjie Zhang, Zihan Lin, Hongyu Lu, Ruobing Xie, Julian McAuley, and Wayne Xin Zhao. 2024b.

</span>
<span class="ltx_bibblock">Large language models are zero-shot rankers for recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">European Conference on Information Retrieval</em>. Springer, 364–381.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ji et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Jianchao Ji, Zelong Li, Shuyuan Xu, Wenyue Hua, Yingqiang Ge, Juntao Tan, and Yongfeng Zhang. 2024.

</span>
<span class="ltx_bibblock">Genrec: Large language model for generative recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">European Conference on Information Retrieval</em>. Springer, 494–502.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Minjin Kim, Minju Kim, Hana Kim, Beong-woo Kwak, Soyeon Chun, Hyunseo Kim, SeongKu Kang, Youngjae Yu, Jinyoung Yeo, and Dongha Lee. 2024.

</span>
<span class="ltx_bibblock">Pearl: A Review-driven Persona-Knowledge Grounded Conversational Recommendation Dataset.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">arXiv preprint arXiv:2403.04460</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kojima et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Takeshi Kojima, Shixiang Shane Gu, Machel Reid, Yutaka Matsuo, and Yusuke Iwasawa. 2022.

</span>
<span class="ltx_bibblock">Large language models are zero-shot reasoners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">Advances in neural information processing systems</em> 35 (2022), 22199–22213.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koren et al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2009)</span>
<span class="ltx_bibblock">
Yehuda Koren, Robert Bell, and Chris Volinsky. 2009.

</span>
<span class="ltx_bibblock">Matrix factorization techniques for recommender systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">Computer</em> 42, 8 (2009), 30–37.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Lei Li, Yongfeng Zhang, and Li Chen. 2023.

</span>
<span class="ltx_bibblock">Personalized prompt learning for explainable recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">ACM Transactions on Information Systems</em> 41, 4 (2023), 1–26.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2014)</span>
<span class="ltx_bibblock">
Haifeng Liu, Zheng Hu, Ahmad Mian, Hui Tian, and Xuzhen Zhu. 2014.

</span>
<span class="ltx_bibblock">A new user similarity model to improve the accuracy of collaborative filtering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">Knowledge-based systems</em> 56 (2014), 156–166.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Junling Liu, Chao Liu, Peilin Zhou, Renjie Lv, Kang Zhou, and Yan Zhang. 2023a.

</span>
<span class="ltx_bibblock">Is chatgpt a good recommender? a preliminary study.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">arXiv preprint arXiv:2304.10149</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Junling Liu, Chao Liu, Peilin Zhou, Qichen Ye, Dading Chong, Kang Zhou, Yueqi Xie, Yuwei Cao, Shoujin Wang, Chenyu You, et al<span class="ltx_text" id="bib.bib19.3.1">.</span> 2023b.

</span>
<span class="ltx_bibblock">Llmrec: Benchmarking large language models on recommendation task.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.4.1">arXiv preprint arXiv:2308.12241</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Qiyao Ma, Xubin Ren, and Chao Huang. 2024.

</span>
<span class="ltx_bibblock">XRec: Large Language Models for Explainable Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">arXiv preprint arXiv:2406.02377</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ouyang et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Long Ouyang, Jeffrey Wu, Xu Jiang, Diogo Almeida, Carroll Wainwright, Pamela Mishkin, Chong Zhang, Sandhini Agarwal, Katarina Slama, Alex Ray, et al<span class="ltx_text" id="bib.bib21.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Training language models to follow instructions with human feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.4.1">Advances in neural information processing systems</em> 35 (2022), 27730–27744.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shuai et al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Jie Shuai, Kun Zhang, Le Wu, Peijie Sun, Richang Hong, Meng Wang, and Yong Li. 2022.

</span>
<span class="ltx_bibblock">A review-aware graph contrastive learning framework for recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">Proceedings of the 45th international ACM SIGIR conference on research and development in information retrieval</em>. 1283–1293.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Taori et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Rohan Taori, Ishaan Gulrajani, Tianyi Zhang, Yann Dubois, Xuechen Li, Carlos Guestrin, Percy Liang, and Tatsunori B Hashimoto. 2023.

</span>
<span class="ltx_bibblock">Stanford alpaca: An instruction-following llama model.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne Lachaux, Timothée Lacroix, Baptiste Rozière, Naman Goyal, Eric Hambro, Faisal Azhar, et al<span class="ltx_text" id="bib.bib24.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Llama: Open and efficient foundation language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.4.1">arXiv preprint arXiv:2302.13971</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al<span class="ltx_text" id="bib.bib25.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.4.1">Advances in neural information processing systems</em> 35 (2022), 24824–24837.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Likang Wu, Zhi Zheng, Zhaopeng Qiu, Hao Wang, Hongchao Gu, Tingjia Shen, Chuan Qin, Chen Zhu, Hengshu Zhu, Qi Liu, et al<span class="ltx_text" id="bib.bib26.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">A survey on large language models for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.4.1">arXiv preprint arXiv:2305.19860</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yue et al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhenrui Yue, Sara Rabhi, Gabriel de Souza Pereira Moreira, Dong Wang, and Even Oldridge. 2023.

</span>
<span class="ltx_bibblock">LlamaRec: Two-stage recommendation using large language models for ranking.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">arXiv preprint arXiv:2311.02089</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yang Zhang, Fuli Feng, Jizhi Zhang, Keqin Bao, Qifan Wang, and Xiangnan He. 2023.

</span>
<span class="ltx_bibblock">Collm: Integrating collaborative embeddings into large language models for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">arXiv preprint arXiv:2310.19488</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Prompts</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">Applying  <cite class="ltx_cite ltx_citemacro_citep">(Kim et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#bib.bib13" title="">2024</a>)</cite>, the prompts used for each step are as follows:</p>
</div>
<div class="ltx_para" id="A1.p2">
<ul class="ltx_itemize" id="A1.I1">
<li class="ltx_item" id="A1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i1.p1">
<p class="ltx_p" id="A1.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I1.i1.p1.1.1">Step 1: Preference Extraction and Encapsulation</span>
In this step, the prompt instructs the model to extract key preferences from raw reviews and encapsulate them into structured sets. The prompts can be found in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A1.T8" title="Table 8 ‣ Appendix A Prompts ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">8</span></a>.</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i2.p1">
<p class="ltx_p" id="A1.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I1.i2.p1.1.1">Step 2: User and Item Profile Construction</span>
This step involves a prompt that directs the model to aggregate and summarize the extracted preferences to build comprehensive user and item profiles. The prompts for user profiles can be found in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A1.T9" title="Table 9 ‣ Appendix A Prompts ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">9</span></a> and the prompts for item profiles can be found in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A1.T10" title="Table 10 ‣ Appendix A Prompts ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">10</span></a>.</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i3.p1">
<p class="ltx_p" id="A1.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I1.i3.p1.1.1">Step 3: Rating Prediction through Textual Reasoning</span>
In the final step, the prompt guides the model to generate a textual reasoning process that predicts the user’s rating based on the generated profiles and additional item descriptions. The prompts for generating reasoning with the teacher LLM can be found in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A1.T11" title="Table 11 ‣ Appendix A Prompts ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">11</span></a>, and the prompts used for our model’s training and inference can be found in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A1.T12" title="Table 12 ‣ Appendix A Prompts ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">12</span></a>.</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_table" id="A1.T8">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A1.T8.2.1.1" style="font-size:90%;">Table 8</span>. </span><span class="ltx_text" id="A1.T8.3.2" style="font-size:90%;">The prompt for extracting preference descriptions from raw reviews.</span></figcaption>
<table class="ltx_tabular ltx_align_middle" id="A1.T8.4">
<tr class="ltx_tr" id="A1.T8.4.1">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="A1.T8.4.1.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.4.1.1.1">
<span class="ltx_p" id="A1.T8.4.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T8.4.1.1.1.1.1">Prompt: Preference Extraction</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.4.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A1.T8.4.2.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.4.2.1.1">
<span class="ltx_p" id="A1.T8.4.2.1.1.1">Given a review written by a user, list about the “preference” the user liked and disliked about the item, under [<span class="ltx_text ltx_font_italic" id="A1.T8.4.2.1.1.1.1">Like</span>] and [<span class="ltx_text ltx_font_italic" id="A1.T8.4.2.1.1.1.2">Dislike</span>] in bullet points, respectively.
If there is nothing to mention about like/dislike, simply write “None.” under the corresponding tag. DO NOT write any content that is not revealed in the review.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.4.3">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T8.4.3.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T8.4.4">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T8.4.4.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.4.4.1.1">
<span class="ltx_p" id="A1.T8.4.4.1.1.1">###Output Format:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.4.5">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T8.4.5.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.4.5.1.1">
<span class="ltx_p" id="A1.T8.4.5.1.1.1">[<span class="ltx_text ltx_font_italic" id="A1.T8.4.5.1.1.1.1">Like</span>]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.4.6">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T8.4.6.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.4.6.1.1">
<span class="ltx_p" id="A1.T8.4.6.1.1.1">- Encapsulate the “preference” user liked about the item in bullet points.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.4.7">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T8.4.7.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.4.7.1.1">
<span class="ltx_p" id="A1.T8.4.7.1.1.1">[<span class="ltx_text ltx_font_italic" id="A1.T8.4.7.1.1.1.1">Dislike</span>]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.4.8">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T8.4.8.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.4.8.1.1">
<span class="ltx_p" id="A1.T8.4.8.1.1.1">- Encapsulate the “preference” user disliked about the item in bullet points.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.4.9">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T8.4.9.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T8.4.10">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="A1.T8.4.10.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.4.10.1.1">
<span class="ltx_p" id="A1.T8.4.10.1.1.1">Here is the review written by the user: {review}</span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A1.T9">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A1.T9.3.1.1" style="font-size:90%;">Table 9</span>. </span><span class="ltx_text" id="A1.T9.4.2" style="font-size:90%;">The prompt for constructing a user profile based on the user’s preference descriptions.</span></figcaption>
<table class="ltx_tabular ltx_align_middle" id="A1.T9.1">
<tr class="ltx_tr" id="A1.T9.1.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="A1.T9.1.2.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.2.1.1">
<span class="ltx_p" id="A1.T9.1.2.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T9.1.2.1.1.1.1">Prompt: User Profile Construction</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.3">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A1.T9.1.3.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.3.1.1">
<span class="ltx_p" id="A1.T9.1.3.1.1.1">These are the user’s preferences about items: {preferences}</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.4">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T9.1.4.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.1">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T9.1.1.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.1.1.1">
<span class="ltx_p" id="A1.T9.1.1.1.1.1">Based on this preferences, point out the personality of the user under [<span class="ltx_text ltx_font_italic" id="A1.T9.1.1.1.1.1.1">Like</span>] and [<span class="ltx_text ltx_font_italic" id="A1.T9.1.1.1.1.1.2">Dislike</span>] in bullet point, respectively.
If there is nothing to mention about like/dislike, simply write “None.” under the corresponding tag.
List only about the preferences. DO NOT mention “Based on <math alttext="\sim" class="ltx_Math" display="inline" id="A1.T9.1.1.1.1.1.m1.1"><semantics id="A1.T9.1.1.1.1.1.m1.1a"><mo id="A1.T9.1.1.1.1.1.m1.1.1" xref="A1.T9.1.1.1.1.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="A1.T9.1.1.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T9.1.1.1.1.1.m1.1.1.cmml" xref="A1.T9.1.1.1.1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.1.1.1.1.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="A1.T9.1.1.1.1.1.m1.1d">∼</annotation></semantics></math>”.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.5">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T9.1.5.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.6">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T9.1.6.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.6.1.1">
<span class="ltx_p" id="A1.T9.1.6.1.1.1">### Output Format:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.7">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T9.1.7.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.7.1.1">
<span class="ltx_p" id="A1.T9.1.7.1.1.1">[<span class="ltx_text ltx_font_italic" id="A1.T9.1.7.1.1.1.1">Like</span>]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.8">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T9.1.8.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.8.1.1">
<span class="ltx_p" id="A1.T9.1.8.1.1.1">- Summarize the “preferences” of the user in bullet points.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.9">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T9.1.9.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.9.1.1">
<span class="ltx_p" id="A1.T9.1.9.1.1.1">[<span class="ltx_text ltx_font_italic" id="A1.T9.1.9.1.1.1.1">Dislike</span>]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.10">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T9.1.10.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.10.1.1">
<span class="ltx_p" id="A1.T9.1.10.1.1.1">- Summarize the “preferences” of the user in bullet points.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.11">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T9.1.11.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.12">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="A1.T9.1.12.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.12.1.1">
<span class="ltx_p" id="A1.T9.1.12.1.1.1">Each personalities should be about 5.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A1.T10">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A1.T10.2.1.1" style="font-size:90%;">Table 10</span>. </span><span class="ltx_text" id="A1.T10.3.2" style="font-size:90%;">The prompt for constructing an item profile based on the item’s preference descriptions.</span></figcaption>
<table class="ltx_tabular ltx_align_middle" id="A1.T10.4">
<tr class="ltx_tr" id="A1.T10.4.1">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="A1.T10.4.1.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.4.1.1.1">
<span class="ltx_p" id="A1.T10.4.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T10.4.1.1.1.1.1">Prompt: Item Profile Construction</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.4.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A1.T10.4.2.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.4.2.1.1">
<span class="ltx_p" id="A1.T10.4.2.1.1.1">These are users’ preferences about the item : {preferences}</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.4.3">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T10.4.3.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T10.4.4">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T10.4.4.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.4.4.1.1">
<span class="ltx_p" id="A1.T10.4.4.1.1.1">Based on this preferences, point out the “preference” people liked and disliked about the item under [<span class="ltx_text ltx_font_italic" id="A1.T10.4.4.1.1.1.1">Like</span>] and [<span class="ltx_text ltx_font_italic" id="A1.T10.4.4.1.1.1.2">Dislike</span>] in bullet point, respectively.
If there is nothing to mention about like/dislike, simply write “None.” under the corresponding tag.
List only about the preferences. DO NOT mention “People” or “They”.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.4.5">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T10.4.5.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T10.4.6">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T10.4.6.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.4.6.1.1">
<span class="ltx_p" id="A1.T10.4.6.1.1.1">### Output Format:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.4.7">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T10.4.7.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.4.7.1.1">
<span class="ltx_p" id="A1.T10.4.7.1.1.1">[<span class="ltx_text ltx_font_italic" id="A1.T10.4.7.1.1.1.1">Like</span>]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.4.8">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T10.4.8.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.4.8.1.1">
<span class="ltx_p" id="A1.T10.4.8.1.1.1">- Summarize the “preference” people liked about the item in bullet points.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.4.9">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T10.4.9.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.4.9.1.1">
<span class="ltx_p" id="A1.T10.4.9.1.1.1">[<span class="ltx_text ltx_font_italic" id="A1.T10.4.9.1.1.1.1">Dislike</span>]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.4.10">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T10.4.10.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.4.10.1.1">
<span class="ltx_p" id="A1.T10.4.10.1.1.1">- Summarize the “preference” people disliked about the item in bullet points.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.4.11">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T10.4.11.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T10.4.12">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="A1.T10.4.12.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.4.12.1.1">
<span class="ltx_p" id="A1.T10.4.12.1.1.1">Make sure each preferences are in a completed form. Generate less then 150 tokens.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A1.T11">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A1.T11.2.1.1" style="font-size:90%;">Table 11</span>. </span><span class="ltx_text" id="A1.T11.3.2" style="font-size:90%;">The prompt for generating step-by-step reasoning on rating prediction.</span></figcaption>
<table class="ltx_tabular ltx_align_middle" id="A1.T11.4">
<tr class="ltx_tr" id="A1.T11.4.1">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="A1.T11.4.1.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.1.1.1">
<span class="ltx_p" id="A1.T11.4.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T11.4.1.1.1.1.1">Prompt: Step-by-step Reasoning Generation</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A1.T11.4.2.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.2.1.1">
<span class="ltx_p" id="A1.T11.4.2.1.1.1">You are a recommender who provides a reason for whether or not to recommend a specific item to the user.
You will be given a ¡User Rating¿, ¡User Profile¿, ¡Item Description¿, and an ¡Item Profile¿.
Based on this features, create a explanation of whether or not to recommend it. Only make a recommendation in case of ¡User Rating¿ of “3” or higher.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.3">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.3.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.4">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.4.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.4.1.1">
<span class="ltx_p" id="A1.T11.4.4.1.1.1">Let’s think step by step.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.5">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.5.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.5.1.1">
<span class="ltx_p" id="A1.T11.4.5.1.1.1">1. Think about the user’s preference based on ¡User Profile¿.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.6">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.6.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.6.1.1">
<span class="ltx_p" id="A1.T11.4.6.1.1.1">2. Connect the user profile with item description and item profile, in which specific point the user will like/dislike this item.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.7">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.7.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.7.1.1">
<span class="ltx_p" id="A1.T11.4.7.1.1.1">3. Create explanation of recommendation based on the given information.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.8">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.8.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.9">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.9.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.9.1.1">
<span class="ltx_p" id="A1.T11.4.9.1.1.1">Follow the instructions :</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.10">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.10.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.10.1.1">
<span class="ltx_p" id="A1.T11.4.10.1.1.1">- Rationale should contain only about “the reason” why user would like/dislike this item.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.11">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.11.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.11.1.1">
<span class="ltx_p" id="A1.T11.4.11.1.1.1">- Assume that the user have never seen the item.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.12">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.12.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.12.1.1">
<span class="ltx_p" id="A1.T11.4.12.1.1.1">- ¡User Profile¿ SHOULD NOT BE directly revealed in the explanation.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.13">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.13.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.13.1.1">
<span class="ltx_p" id="A1.T11.4.13.1.1.1">- You must not mention that you have refer to the given information.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.14">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.14.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.14.1.1">
<span class="ltx_p" id="A1.T11.4.14.1.1.1">- Do not just list the preferences, and make sure your explanation have causality.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.15">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.15.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.15.1.1">
<span class="ltx_p" id="A1.T11.4.15.1.1.1">- Rationale should be able to convince users.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.16">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.16.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.16.1.1">
<span class="ltx_p" id="A1.T11.4.16.1.1.1">- It should include a description of how it will suit the user’s taste or how it will not suit the user’s taste.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.17">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.17.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.17.1.1">
<span class="ltx_p" id="A1.T11.4.17.1.1.1">- Generate about 5 sentences.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.18">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.18.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.18.1.1">
<span class="ltx_p" id="A1.T11.4.18.1.1.1">- Mention the user as “the user”. DO NOT mention you as “I”</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.19">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.19.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.19.1.1">
<span class="ltx_p" id="A1.T11.4.19.1.1.1">- You are recommending to one user. DO NOT mention the user as “they”.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.20">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.20.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.20.1.1">
<span class="ltx_p" id="A1.T11.4.20.1.1.1">- DO NOT start with “Based on   ”.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.21">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.21.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.21.1.1">
<span class="ltx_p" id="A1.T11.4.21.1.1.1">* DO NOT start with “I would   ”.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.22">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.22.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.23">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.23.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.23.1.1">
<span class="ltx_p" id="A1.T11.4.23.1.1.1">Here is the rating of item by the user:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.24">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.24.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.24.1.1">
<span class="ltx_p" id="A1.T11.4.24.1.1.1">¡User Rating¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.25">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.25.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.25.1.1">
<span class="ltx_p" id="A1.T11.4.25.1.1.1">{user rating}</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.26">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.26.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.27">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.27.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.27.1.1">
<span class="ltx_p" id="A1.T11.4.27.1.1.1">Here are some information about user’s preferences:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.28">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.28.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.28.1.1">
<span class="ltx_p" id="A1.T11.4.28.1.1.1">¡User Profile¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.29">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.29.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.29.1.1">
<span class="ltx_p" id="A1.T11.4.29.1.1.1">{user profile}</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.30">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.30.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.31">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.31.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.31.1.1">
<span class="ltx_p" id="A1.T11.4.31.1.1.1">Some features of the item you should know:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.32">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.32.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.32.1.1">
<span class="ltx_p" id="A1.T11.4.32.1.1.1">¡Item Description¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.33">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.33.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.33.1.1">
<span class="ltx_p" id="A1.T11.4.33.1.1.1">{item description}</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.34">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.34.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.35">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T11.4.35.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.35.1.1">
<span class="ltx_p" id="A1.T11.4.35.1.1.1">¡Item Profile¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.4.36">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="A1.T11.4.36.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T11.4.36.1.1">
<span class="ltx_p" id="A1.T11.4.36.1.1.1">{item profile}</span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A1.T12">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A1.T12.2.1.1" style="font-size:90%;">Table 12</span>. </span><span class="ltx_text" id="A1.T12.3.2" style="font-size:90%;">The prompt for Personalized Preference Reasoning-based Rating Prediction in IMDB dataset. For Amazon-Book dataset, we use same prompt with different rating scale.</span></figcaption>
<table class="ltx_tabular ltx_align_middle" id="A1.T12.4">
<tr class="ltx_tr" id="A1.T12.4.1">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="A1.T12.4.1.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.1.1.1">
<span class="ltx_p" id="A1.T12.4.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T12.4.1.1.1.1.1">Prompt: Training Prompt for Rating Prediction.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A1.T12.4.2.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.2.1.1">
<span class="ltx_p" id="A1.T12.4.2.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T12.4.2.1.1.1.1">INPUT:</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.3">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.3.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.3.1.1">
<span class="ltx_p" id="A1.T12.4.3.1.1.1">¡—SYSTEM—¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.4">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.4.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.4.1.1">
<span class="ltx_p" id="A1.T12.4.4.1.1.1">You are a helpful AI assistant for item recommendation.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.5">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.5.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.5.1.1">
<span class="ltx_p" id="A1.T12.4.5.1.1.1">Based on the user’s preferences and item characteristics provided, generate a recommendation reasoning and predict the user’s rating.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.6">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.6.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.6.1.1">
<span class="ltx_p" id="A1.T12.4.6.1.1.1">You must always generate a response in the following format whenever the user provides information:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.7">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.7.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.8">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.8.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.8.1.1">
<span class="ltx_p" id="A1.T12.4.8.1.1.1">Reasoning: [Provide a detailed, single-paragraph reasoning for your prediction, addressing at least three specific points of alignment or misalignment between the user’s preferences and the item’s characteristics.]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.9">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.9.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.9.1.1">
<span class="ltx_p" id="A1.T12.4.9.1.1.1">Predicted User Rating: [Predict the user’s rating as an integer from 0 to 9: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9. 0 indicates the user would strongly dislike the item, while 9 indicates the user would highly enjoy and recommend it. Consider the average ratings provided for the user and the item in your prediction.]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.10">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.10.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.10.1.1">
<span class="ltx_p" id="A1.T12.4.10.1.1.1">Note: Do not simply repeat the input text. Generate a new reasoning and rating prediction based on the input provided.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.11">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.11.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.12">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.12.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.12.1.1">
<span class="ltx_p" id="A1.T12.4.12.1.1.1">¡—USER—¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.13">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.13.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.13.1.1">
<span class="ltx_p" id="A1.T12.4.13.1.1.1">I need a recommendation for this item. Here’s the information:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.14">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.14.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.15">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.15.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.15.1.1">
<span class="ltx_p" id="A1.T12.4.15.1.1.1">User Preferences:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.16">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.16.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.16.1.1">
<span class="ltx_p" id="A1.T12.4.16.1.1.1">¡User Profile¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.17">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.17.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.17.1.1">
<span class="ltx_p" id="A1.T12.4.17.1.1.1">{user profile}</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.18">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.18.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.19">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.19.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.19.1.1">
<span class="ltx_p" id="A1.T12.4.19.1.1.1">Item Characteristics:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.20">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.20.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.20.1.1">
<span class="ltx_p" id="A1.T12.4.20.1.1.1">¡Item Description¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.21">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.21.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.21.1.1">
<span class="ltx_p" id="A1.T12.4.21.1.1.1">{item description}</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.22">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.22.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.23">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.23.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.23.1.1">
<span class="ltx_p" id="A1.T12.4.23.1.1.1">¡Item Profile¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.24">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.24.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.24.1.1">
<span class="ltx_p" id="A1.T12.4.24.1.1.1">{item profile}</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.25">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.25.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.25.1.1">
<span class="ltx_p" id="A1.T12.4.25.1.1.1">Based on this information, please provide a detailed reasoning for your recommendation and predict a rating for this item.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.26">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.26.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.26.1.1">
<span class="ltx_p" id="A1.T12.4.26.1.1.1">Follow the format specified in the system instructions.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.27">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.27.1" style="width:411.9pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.28">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.28.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.28.1.1">
<span class="ltx_p" id="A1.T12.4.28.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T12.4.28.1.1.1.1">TARGET:</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.29">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.29.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.29.1.1">
<span class="ltx_p" id="A1.T12.4.29.1.1.1">¡—ASSISTANT—¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.30">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A1.T12.4.30.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.30.1.1">
<span class="ltx_p" id="A1.T12.4.30.1.1.1">Reasoning: {reasoning}</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T12.4.31">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="A1.T12.4.31.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A1.T12.4.31.1.1">
<span class="ltx_p" id="A1.T12.4.31.1.1.1">Predicted User Rating: {rating}</span>
</span>
</td>
</tr>
</table>
</figure>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>User Simialrity Calculation</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">To calculate the user-user cosine similarity, the following steps were followed:</p>
</div>
<div class="ltx_para" id="A2.p2">
<ol class="ltx_enumerate" id="A2.I1">
<li class="ltx_item" id="A2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="A2.I1.i1.p1">
<p class="ltx_p" id="A2.I1.i1.p1.4"><span class="ltx_text ltx_font_bold" id="A2.I1.i1.p1.4.1">Data Loading and Preprocessing:</span>
The user-item rating data was loaded from a train dataset, organized into a user-item rating matrix <math alttext="R" class="ltx_Math" display="inline" id="A2.I1.i1.p1.1.m1.1"><semantics id="A2.I1.i1.p1.1.m1.1a"><mi id="A2.I1.i1.p1.1.m1.1.1" xref="A2.I1.i1.p1.1.m1.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i1.p1.1.m1.1b"><ci id="A2.I1.i1.p1.1.m1.1.1.cmml" xref="A2.I1.i1.p1.1.m1.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.p1.1.m1.1c">R</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i1.p1.1.m1.1d">italic_R</annotation></semantics></math>, where <math alttext="R_{ui}" class="ltx_Math" display="inline" id="A2.I1.i1.p1.2.m2.1"><semantics id="A2.I1.i1.p1.2.m2.1a"><msub id="A2.I1.i1.p1.2.m2.1.1" xref="A2.I1.i1.p1.2.m2.1.1.cmml"><mi id="A2.I1.i1.p1.2.m2.1.1.2" xref="A2.I1.i1.p1.2.m2.1.1.2.cmml">R</mi><mrow id="A2.I1.i1.p1.2.m2.1.1.3" xref="A2.I1.i1.p1.2.m2.1.1.3.cmml"><mi id="A2.I1.i1.p1.2.m2.1.1.3.2" xref="A2.I1.i1.p1.2.m2.1.1.3.2.cmml">u</mi><mo id="A2.I1.i1.p1.2.m2.1.1.3.1" xref="A2.I1.i1.p1.2.m2.1.1.3.1.cmml">⁢</mo><mi id="A2.I1.i1.p1.2.m2.1.1.3.3" xref="A2.I1.i1.p1.2.m2.1.1.3.3.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A2.I1.i1.p1.2.m2.1b"><apply id="A2.I1.i1.p1.2.m2.1.1.cmml" xref="A2.I1.i1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A2.I1.i1.p1.2.m2.1.1.1.cmml" xref="A2.I1.i1.p1.2.m2.1.1">subscript</csymbol><ci id="A2.I1.i1.p1.2.m2.1.1.2.cmml" xref="A2.I1.i1.p1.2.m2.1.1.2">𝑅</ci><apply id="A2.I1.i1.p1.2.m2.1.1.3.cmml" xref="A2.I1.i1.p1.2.m2.1.1.3"><times id="A2.I1.i1.p1.2.m2.1.1.3.1.cmml" xref="A2.I1.i1.p1.2.m2.1.1.3.1"></times><ci id="A2.I1.i1.p1.2.m2.1.1.3.2.cmml" xref="A2.I1.i1.p1.2.m2.1.1.3.2">𝑢</ci><ci id="A2.I1.i1.p1.2.m2.1.1.3.3.cmml" xref="A2.I1.i1.p1.2.m2.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.p1.2.m2.1c">R_{ui}</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i1.p1.2.m2.1d">italic_R start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents the rating of user <math alttext="u" class="ltx_Math" display="inline" id="A2.I1.i1.p1.3.m3.1"><semantics id="A2.I1.i1.p1.3.m3.1a"><mi id="A2.I1.i1.p1.3.m3.1.1" xref="A2.I1.i1.p1.3.m3.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i1.p1.3.m3.1b"><ci id="A2.I1.i1.p1.3.m3.1.1.cmml" xref="A2.I1.i1.p1.3.m3.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.p1.3.m3.1c">u</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i1.p1.3.m3.1d">italic_u</annotation></semantics></math> for item <math alttext="i" class="ltx_Math" display="inline" id="A2.I1.i1.p1.4.m4.1"><semantics id="A2.I1.i1.p1.4.m4.1a"><mi id="A2.I1.i1.p1.4.m4.1.1" xref="A2.I1.i1.p1.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i1.p1.4.m4.1b"><ci id="A2.I1.i1.p1.4.m4.1.1.cmml" xref="A2.I1.i1.p1.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.p1.4.m4.1c">i</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i1.p1.4.m4.1d">italic_i</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="A2.I1.i2.p1">
<p class="ltx_p" id="A2.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i2.p1.1.1">User-Item Rating Matrix Construction:</span>
The matrix <math alttext="R" class="ltx_Math" display="inline" id="A2.I1.i2.p1.1.m1.1"><semantics id="A2.I1.i2.p1.1.m1.1a"><mi id="A2.I1.i2.p1.1.m1.1.1" xref="A2.I1.i2.p1.1.m1.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i2.p1.1.m1.1b"><ci id="A2.I1.i2.p1.1.m1.1.1.cmml" xref="A2.I1.i2.p1.1.m1.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i2.p1.1.m1.1c">R</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i2.p1.1.m1.1d">italic_R</annotation></semantics></math> was constructed as:</p>
<table class="ltx_equation ltx_eqn_table" id="A2.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="R_{ui}=\text{rating of user }u\text{ for item }i" class="ltx_Math" display="block" id="A2.Ex1.m1.1"><semantics id="A2.Ex1.m1.1a"><mrow id="A2.Ex1.m1.1.1" xref="A2.Ex1.m1.1.1.cmml"><msub id="A2.Ex1.m1.1.1.2" xref="A2.Ex1.m1.1.1.2.cmml"><mi id="A2.Ex1.m1.1.1.2.2" xref="A2.Ex1.m1.1.1.2.2.cmml">R</mi><mrow id="A2.Ex1.m1.1.1.2.3" xref="A2.Ex1.m1.1.1.2.3.cmml"><mi id="A2.Ex1.m1.1.1.2.3.2" xref="A2.Ex1.m1.1.1.2.3.2.cmml">u</mi><mo id="A2.Ex1.m1.1.1.2.3.1" xref="A2.Ex1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="A2.Ex1.m1.1.1.2.3.3" xref="A2.Ex1.m1.1.1.2.3.3.cmml">i</mi></mrow></msub><mo id="A2.Ex1.m1.1.1.1" xref="A2.Ex1.m1.1.1.1.cmml">=</mo><mrow id="A2.Ex1.m1.1.1.3" xref="A2.Ex1.m1.1.1.3.cmml"><mtext id="A2.Ex1.m1.1.1.3.2" xref="A2.Ex1.m1.1.1.3.2a.cmml">rating of user </mtext><mo id="A2.Ex1.m1.1.1.3.1" xref="A2.Ex1.m1.1.1.3.1.cmml">⁢</mo><mi id="A2.Ex1.m1.1.1.3.3" xref="A2.Ex1.m1.1.1.3.3.cmml">u</mi><mo id="A2.Ex1.m1.1.1.3.1a" xref="A2.Ex1.m1.1.1.3.1.cmml">⁢</mo><mtext id="A2.Ex1.m1.1.1.3.4" xref="A2.Ex1.m1.1.1.3.4a.cmml"> for item </mtext><mo id="A2.Ex1.m1.1.1.3.1b" xref="A2.Ex1.m1.1.1.3.1.cmml">⁢</mo><mi id="A2.Ex1.m1.1.1.3.5" xref="A2.Ex1.m1.1.1.3.5.cmml">i</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.Ex1.m1.1b"><apply id="A2.Ex1.m1.1.1.cmml" xref="A2.Ex1.m1.1.1"><eq id="A2.Ex1.m1.1.1.1.cmml" xref="A2.Ex1.m1.1.1.1"></eq><apply id="A2.Ex1.m1.1.1.2.cmml" xref="A2.Ex1.m1.1.1.2"><csymbol cd="ambiguous" id="A2.Ex1.m1.1.1.2.1.cmml" xref="A2.Ex1.m1.1.1.2">subscript</csymbol><ci id="A2.Ex1.m1.1.1.2.2.cmml" xref="A2.Ex1.m1.1.1.2.2">𝑅</ci><apply id="A2.Ex1.m1.1.1.2.3.cmml" xref="A2.Ex1.m1.1.1.2.3"><times id="A2.Ex1.m1.1.1.2.3.1.cmml" xref="A2.Ex1.m1.1.1.2.3.1"></times><ci id="A2.Ex1.m1.1.1.2.3.2.cmml" xref="A2.Ex1.m1.1.1.2.3.2">𝑢</ci><ci id="A2.Ex1.m1.1.1.2.3.3.cmml" xref="A2.Ex1.m1.1.1.2.3.3">𝑖</ci></apply></apply><apply id="A2.Ex1.m1.1.1.3.cmml" xref="A2.Ex1.m1.1.1.3"><times id="A2.Ex1.m1.1.1.3.1.cmml" xref="A2.Ex1.m1.1.1.3.1"></times><ci id="A2.Ex1.m1.1.1.3.2a.cmml" xref="A2.Ex1.m1.1.1.3.2"><mtext id="A2.Ex1.m1.1.1.3.2.cmml" xref="A2.Ex1.m1.1.1.3.2">rating of user </mtext></ci><ci id="A2.Ex1.m1.1.1.3.3.cmml" xref="A2.Ex1.m1.1.1.3.3">𝑢</ci><ci id="A2.Ex1.m1.1.1.3.4a.cmml" xref="A2.Ex1.m1.1.1.3.4"><mtext id="A2.Ex1.m1.1.1.3.4.cmml" xref="A2.Ex1.m1.1.1.3.4"> for item </mtext></ci><ci id="A2.Ex1.m1.1.1.3.5.cmml" xref="A2.Ex1.m1.1.1.3.5">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.Ex1.m1.1c">R_{ui}=\text{rating of user }u\text{ for item }i</annotation><annotation encoding="application/x-llamapun" id="A2.Ex1.m1.1d">italic_R start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT = rating of user italic_u for item italic_i</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A2.I1.i2.p1.2">Missing ratings were set to 0.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="A2.I1.i3.p1">
<p class="ltx_p" id="A2.I1.i3.p1.3"><span class="ltx_text ltx_font_bold" id="A2.I1.i3.p1.3.1">Mean-Centering the Ratings:</span>
The ratings were normalized by subtracting the user’s mean rating:</p>
<table class="ltx_equation ltx_eqn_table" id="A2.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="R^{\prime}_{ui}=R_{ui}-\mu_{u}" class="ltx_Math" display="block" id="A2.Ex2.m1.1"><semantics id="A2.Ex2.m1.1a"><mrow id="A2.Ex2.m1.1.1" xref="A2.Ex2.m1.1.1.cmml"><msubsup id="A2.Ex2.m1.1.1.2" xref="A2.Ex2.m1.1.1.2.cmml"><mi id="A2.Ex2.m1.1.1.2.2.2" xref="A2.Ex2.m1.1.1.2.2.2.cmml">R</mi><mrow id="A2.Ex2.m1.1.1.2.3" xref="A2.Ex2.m1.1.1.2.3.cmml"><mi id="A2.Ex2.m1.1.1.2.3.2" xref="A2.Ex2.m1.1.1.2.3.2.cmml">u</mi><mo id="A2.Ex2.m1.1.1.2.3.1" xref="A2.Ex2.m1.1.1.2.3.1.cmml">⁢</mo><mi id="A2.Ex2.m1.1.1.2.3.3" xref="A2.Ex2.m1.1.1.2.3.3.cmml">i</mi></mrow><mo id="A2.Ex2.m1.1.1.2.2.3" xref="A2.Ex2.m1.1.1.2.2.3.cmml">′</mo></msubsup><mo id="A2.Ex2.m1.1.1.1" xref="A2.Ex2.m1.1.1.1.cmml">=</mo><mrow id="A2.Ex2.m1.1.1.3" xref="A2.Ex2.m1.1.1.3.cmml"><msub id="A2.Ex2.m1.1.1.3.2" xref="A2.Ex2.m1.1.1.3.2.cmml"><mi id="A2.Ex2.m1.1.1.3.2.2" xref="A2.Ex2.m1.1.1.3.2.2.cmml">R</mi><mrow id="A2.Ex2.m1.1.1.3.2.3" xref="A2.Ex2.m1.1.1.3.2.3.cmml"><mi id="A2.Ex2.m1.1.1.3.2.3.2" xref="A2.Ex2.m1.1.1.3.2.3.2.cmml">u</mi><mo id="A2.Ex2.m1.1.1.3.2.3.1" xref="A2.Ex2.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="A2.Ex2.m1.1.1.3.2.3.3" xref="A2.Ex2.m1.1.1.3.2.3.3.cmml">i</mi></mrow></msub><mo id="A2.Ex2.m1.1.1.3.1" xref="A2.Ex2.m1.1.1.3.1.cmml">−</mo><msub id="A2.Ex2.m1.1.1.3.3" xref="A2.Ex2.m1.1.1.3.3.cmml"><mi id="A2.Ex2.m1.1.1.3.3.2" xref="A2.Ex2.m1.1.1.3.3.2.cmml">μ</mi><mi id="A2.Ex2.m1.1.1.3.3.3" xref="A2.Ex2.m1.1.1.3.3.3.cmml">u</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.Ex2.m1.1b"><apply id="A2.Ex2.m1.1.1.cmml" xref="A2.Ex2.m1.1.1"><eq id="A2.Ex2.m1.1.1.1.cmml" xref="A2.Ex2.m1.1.1.1"></eq><apply id="A2.Ex2.m1.1.1.2.cmml" xref="A2.Ex2.m1.1.1.2"><csymbol cd="ambiguous" id="A2.Ex2.m1.1.1.2.1.cmml" xref="A2.Ex2.m1.1.1.2">subscript</csymbol><apply id="A2.Ex2.m1.1.1.2.2.cmml" xref="A2.Ex2.m1.1.1.2"><csymbol cd="ambiguous" id="A2.Ex2.m1.1.1.2.2.1.cmml" xref="A2.Ex2.m1.1.1.2">superscript</csymbol><ci id="A2.Ex2.m1.1.1.2.2.2.cmml" xref="A2.Ex2.m1.1.1.2.2.2">𝑅</ci><ci id="A2.Ex2.m1.1.1.2.2.3.cmml" xref="A2.Ex2.m1.1.1.2.2.3">′</ci></apply><apply id="A2.Ex2.m1.1.1.2.3.cmml" xref="A2.Ex2.m1.1.1.2.3"><times id="A2.Ex2.m1.1.1.2.3.1.cmml" xref="A2.Ex2.m1.1.1.2.3.1"></times><ci id="A2.Ex2.m1.1.1.2.3.2.cmml" xref="A2.Ex2.m1.1.1.2.3.2">𝑢</ci><ci id="A2.Ex2.m1.1.1.2.3.3.cmml" xref="A2.Ex2.m1.1.1.2.3.3">𝑖</ci></apply></apply><apply id="A2.Ex2.m1.1.1.3.cmml" xref="A2.Ex2.m1.1.1.3"><minus id="A2.Ex2.m1.1.1.3.1.cmml" xref="A2.Ex2.m1.1.1.3.1"></minus><apply id="A2.Ex2.m1.1.1.3.2.cmml" xref="A2.Ex2.m1.1.1.3.2"><csymbol cd="ambiguous" id="A2.Ex2.m1.1.1.3.2.1.cmml" xref="A2.Ex2.m1.1.1.3.2">subscript</csymbol><ci id="A2.Ex2.m1.1.1.3.2.2.cmml" xref="A2.Ex2.m1.1.1.3.2.2">𝑅</ci><apply id="A2.Ex2.m1.1.1.3.2.3.cmml" xref="A2.Ex2.m1.1.1.3.2.3"><times id="A2.Ex2.m1.1.1.3.2.3.1.cmml" xref="A2.Ex2.m1.1.1.3.2.3.1"></times><ci id="A2.Ex2.m1.1.1.3.2.3.2.cmml" xref="A2.Ex2.m1.1.1.3.2.3.2">𝑢</ci><ci id="A2.Ex2.m1.1.1.3.2.3.3.cmml" xref="A2.Ex2.m1.1.1.3.2.3.3">𝑖</ci></apply></apply><apply id="A2.Ex2.m1.1.1.3.3.cmml" xref="A2.Ex2.m1.1.1.3.3"><csymbol cd="ambiguous" id="A2.Ex2.m1.1.1.3.3.1.cmml" xref="A2.Ex2.m1.1.1.3.3">subscript</csymbol><ci id="A2.Ex2.m1.1.1.3.3.2.cmml" xref="A2.Ex2.m1.1.1.3.3.2">𝜇</ci><ci id="A2.Ex2.m1.1.1.3.3.3.cmml" xref="A2.Ex2.m1.1.1.3.3.3">𝑢</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.Ex2.m1.1c">R^{\prime}_{ui}=R_{ui}-\mu_{u}</annotation><annotation encoding="application/x-llamapun" id="A2.Ex2.m1.1d">italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT = italic_R start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT - italic_μ start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A2.I1.i3.p1.2">where <math alttext="\mu_{u}" class="ltx_Math" display="inline" id="A2.I1.i3.p1.1.m1.1"><semantics id="A2.I1.i3.p1.1.m1.1a"><msub id="A2.I1.i3.p1.1.m1.1.1" xref="A2.I1.i3.p1.1.m1.1.1.cmml"><mi id="A2.I1.i3.p1.1.m1.1.1.2" xref="A2.I1.i3.p1.1.m1.1.1.2.cmml">μ</mi><mi id="A2.I1.i3.p1.1.m1.1.1.3" xref="A2.I1.i3.p1.1.m1.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="A2.I1.i3.p1.1.m1.1b"><apply id="A2.I1.i3.p1.1.m1.1.1.cmml" xref="A2.I1.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A2.I1.i3.p1.1.m1.1.1.1.cmml" xref="A2.I1.i3.p1.1.m1.1.1">subscript</csymbol><ci id="A2.I1.i3.p1.1.m1.1.1.2.cmml" xref="A2.I1.i3.p1.1.m1.1.1.2">𝜇</ci><ci id="A2.I1.i3.p1.1.m1.1.1.3.cmml" xref="A2.I1.i3.p1.1.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i3.p1.1.m1.1c">\mu_{u}</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i3.p1.1.m1.1d">italic_μ start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> is the mean rating of user <math alttext="u" class="ltx_Math" display="inline" id="A2.I1.i3.p1.2.m2.1"><semantics id="A2.I1.i3.p1.2.m2.1a"><mi id="A2.I1.i3.p1.2.m2.1.1" xref="A2.I1.i3.p1.2.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i3.p1.2.m2.1b"><ci id="A2.I1.i3.p1.2.m2.1.1.cmml" xref="A2.I1.i3.p1.2.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i3.p1.2.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i3.p1.2.m2.1d">italic_u</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(4)</span>
<div class="ltx_para" id="A2.I1.i4.p1">
<p class="ltx_p" id="A2.I1.i4.p1.2"><span class="ltx_text ltx_font_bold" id="A2.I1.i4.p1.2.1">Adjusted Cosine Similarity Calculation:</span>
The similarity between users <math alttext="u" class="ltx_Math" display="inline" id="A2.I1.i4.p1.1.m1.1"><semantics id="A2.I1.i4.p1.1.m1.1a"><mi id="A2.I1.i4.p1.1.m1.1.1" xref="A2.I1.i4.p1.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i4.p1.1.m1.1b"><ci id="A2.I1.i4.p1.1.m1.1.1.cmml" xref="A2.I1.i4.p1.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i4.p1.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i4.p1.1.m1.1d">italic_u</annotation></semantics></math> and <math alttext="v" class="ltx_Math" display="inline" id="A2.I1.i4.p1.2.m2.1"><semantics id="A2.I1.i4.p1.2.m2.1a"><mi id="A2.I1.i4.p1.2.m2.1.1" xref="A2.I1.i4.p1.2.m2.1.1.cmml">v</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i4.p1.2.m2.1b"><ci id="A2.I1.i4.p1.2.m2.1.1.cmml" xref="A2.I1.i4.p1.2.m2.1.1">𝑣</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i4.p1.2.m2.1c">v</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i4.p1.2.m2.1d">italic_v</annotation></semantics></math> was calculated using the adjusted cosine similarity:</p>
<table class="ltx_equation ltx_eqn_table" id="A2.Ex3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{sim}(u,v)=\frac{\sum_{i\in I_{uv}}(R^{\prime}_{ui}\cdot R^{\prime}_{vi})%
}{\sqrt{\sum_{i\in I_{uv}}(R^{\prime}_{ui})^{2}}\cdot\sqrt{\sum_{i\in I_{uv}}(%
R^{\prime}_{vi})^{2}}}" class="ltx_Math" display="block" id="A2.Ex3.m1.5"><semantics id="A2.Ex3.m1.5a"><mrow id="A2.Ex3.m1.5.6" xref="A2.Ex3.m1.5.6.cmml"><mrow id="A2.Ex3.m1.5.6.2" xref="A2.Ex3.m1.5.6.2.cmml"><mtext id="A2.Ex3.m1.5.6.2.2" xref="A2.Ex3.m1.5.6.2.2a.cmml">sim</mtext><mo id="A2.Ex3.m1.5.6.2.1" xref="A2.Ex3.m1.5.6.2.1.cmml">⁢</mo><mrow id="A2.Ex3.m1.5.6.2.3.2" xref="A2.Ex3.m1.5.6.2.3.1.cmml"><mo id="A2.Ex3.m1.5.6.2.3.2.1" stretchy="false" xref="A2.Ex3.m1.5.6.2.3.1.cmml">(</mo><mi id="A2.Ex3.m1.4.4" xref="A2.Ex3.m1.4.4.cmml">u</mi><mo id="A2.Ex3.m1.5.6.2.3.2.2" xref="A2.Ex3.m1.5.6.2.3.1.cmml">,</mo><mi id="A2.Ex3.m1.5.5" xref="A2.Ex3.m1.5.5.cmml">v</mi><mo id="A2.Ex3.m1.5.6.2.3.2.3" stretchy="false" xref="A2.Ex3.m1.5.6.2.3.1.cmml">)</mo></mrow></mrow><mo id="A2.Ex3.m1.5.6.1" xref="A2.Ex3.m1.5.6.1.cmml">=</mo><mfrac id="A2.Ex3.m1.3.3" xref="A2.Ex3.m1.3.3.cmml"><mrow id="A2.Ex3.m1.1.1.1" xref="A2.Ex3.m1.1.1.1.cmml"><msub id="A2.Ex3.m1.1.1.1.2" xref="A2.Ex3.m1.1.1.1.2.cmml"><mo id="A2.Ex3.m1.1.1.1.2.2" xref="A2.Ex3.m1.1.1.1.2.2.cmml">∑</mo><mrow id="A2.Ex3.m1.1.1.1.2.3" xref="A2.Ex3.m1.1.1.1.2.3.cmml"><mi id="A2.Ex3.m1.1.1.1.2.3.2" xref="A2.Ex3.m1.1.1.1.2.3.2.cmml">i</mi><mo id="A2.Ex3.m1.1.1.1.2.3.1" xref="A2.Ex3.m1.1.1.1.2.3.1.cmml">∈</mo><msub id="A2.Ex3.m1.1.1.1.2.3.3" xref="A2.Ex3.m1.1.1.1.2.3.3.cmml"><mi id="A2.Ex3.m1.1.1.1.2.3.3.2" xref="A2.Ex3.m1.1.1.1.2.3.3.2.cmml">I</mi><mrow id="A2.Ex3.m1.1.1.1.2.3.3.3" xref="A2.Ex3.m1.1.1.1.2.3.3.3.cmml"><mi id="A2.Ex3.m1.1.1.1.2.3.3.3.2" xref="A2.Ex3.m1.1.1.1.2.3.3.3.2.cmml">u</mi><mo id="A2.Ex3.m1.1.1.1.2.3.3.3.1" xref="A2.Ex3.m1.1.1.1.2.3.3.3.1.cmml">⁢</mo><mi id="A2.Ex3.m1.1.1.1.2.3.3.3.3" xref="A2.Ex3.m1.1.1.1.2.3.3.3.3.cmml">v</mi></mrow></msub></mrow></msub><mrow id="A2.Ex3.m1.1.1.1.1.1" xref="A2.Ex3.m1.1.1.1.1.1.1.cmml"><mo id="A2.Ex3.m1.1.1.1.1.1.2" lspace="0em" stretchy="false" xref="A2.Ex3.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="A2.Ex3.m1.1.1.1.1.1.1" xref="A2.Ex3.m1.1.1.1.1.1.1.cmml"><msubsup id="A2.Ex3.m1.1.1.1.1.1.1.2" xref="A2.Ex3.m1.1.1.1.1.1.1.2.cmml"><mi id="A2.Ex3.m1.1.1.1.1.1.1.2.2.2" xref="A2.Ex3.m1.1.1.1.1.1.1.2.2.2.cmml">R</mi><mrow id="A2.Ex3.m1.1.1.1.1.1.1.2.3" xref="A2.Ex3.m1.1.1.1.1.1.1.2.3.cmml"><mi id="A2.Ex3.m1.1.1.1.1.1.1.2.3.2" xref="A2.Ex3.m1.1.1.1.1.1.1.2.3.2.cmml">u</mi><mo id="A2.Ex3.m1.1.1.1.1.1.1.2.3.1" xref="A2.Ex3.m1.1.1.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="A2.Ex3.m1.1.1.1.1.1.1.2.3.3" xref="A2.Ex3.m1.1.1.1.1.1.1.2.3.3.cmml">i</mi></mrow><mo id="A2.Ex3.m1.1.1.1.1.1.1.2.2.3" xref="A2.Ex3.m1.1.1.1.1.1.1.2.2.3.cmml">′</mo></msubsup><mo id="A2.Ex3.m1.1.1.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A2.Ex3.m1.1.1.1.1.1.1.1.cmml">⋅</mo><msubsup id="A2.Ex3.m1.1.1.1.1.1.1.3" xref="A2.Ex3.m1.1.1.1.1.1.1.3.cmml"><mi id="A2.Ex3.m1.1.1.1.1.1.1.3.2.2" xref="A2.Ex3.m1.1.1.1.1.1.1.3.2.2.cmml">R</mi><mrow id="A2.Ex3.m1.1.1.1.1.1.1.3.3" xref="A2.Ex3.m1.1.1.1.1.1.1.3.3.cmml"><mi id="A2.Ex3.m1.1.1.1.1.1.1.3.3.2" xref="A2.Ex3.m1.1.1.1.1.1.1.3.3.2.cmml">v</mi><mo id="A2.Ex3.m1.1.1.1.1.1.1.3.3.1" xref="A2.Ex3.m1.1.1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="A2.Ex3.m1.1.1.1.1.1.1.3.3.3" xref="A2.Ex3.m1.1.1.1.1.1.1.3.3.3.cmml">i</mi></mrow><mo id="A2.Ex3.m1.1.1.1.1.1.1.3.2.3" xref="A2.Ex3.m1.1.1.1.1.1.1.3.2.3.cmml">′</mo></msubsup></mrow><mo id="A2.Ex3.m1.1.1.1.1.1.3" stretchy="false" xref="A2.Ex3.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A2.Ex3.m1.3.3.3" xref="A2.Ex3.m1.3.3.3.cmml"><msqrt id="A2.Ex3.m1.2.2.2.1" xref="A2.Ex3.m1.2.2.2.1.cmml"><mrow id="A2.Ex3.m1.2.2.2.1.1" xref="A2.Ex3.m1.2.2.2.1.1.cmml"><msub id="A2.Ex3.m1.2.2.2.1.1.2" xref="A2.Ex3.m1.2.2.2.1.1.2.cmml"><mo id="A2.Ex3.m1.2.2.2.1.1.2.2" xref="A2.Ex3.m1.2.2.2.1.1.2.2.cmml">∑</mo><mrow id="A2.Ex3.m1.2.2.2.1.1.2.3" xref="A2.Ex3.m1.2.2.2.1.1.2.3.cmml"><mi id="A2.Ex3.m1.2.2.2.1.1.2.3.2" xref="A2.Ex3.m1.2.2.2.1.1.2.3.2.cmml">i</mi><mo id="A2.Ex3.m1.2.2.2.1.1.2.3.1" xref="A2.Ex3.m1.2.2.2.1.1.2.3.1.cmml">∈</mo><msub id="A2.Ex3.m1.2.2.2.1.1.2.3.3" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3.cmml"><mi id="A2.Ex3.m1.2.2.2.1.1.2.3.3.2" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3.2.cmml">I</mi><mrow id="A2.Ex3.m1.2.2.2.1.1.2.3.3.3" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.cmml"><mi id="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.2" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.2.cmml">u</mi><mo id="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.1" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.1.cmml">⁢</mo><mi id="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.3" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.3.cmml">v</mi></mrow></msub></mrow></msub><msup id="A2.Ex3.m1.2.2.2.1.1.1" xref="A2.Ex3.m1.2.2.2.1.1.1.cmml"><mrow id="A2.Ex3.m1.2.2.2.1.1.1.1.1" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.cmml"><mo id="A2.Ex3.m1.2.2.2.1.1.1.1.1.2" lspace="0em" stretchy="false" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.cmml">(</mo><msubsup id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.cmml"><mi id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.2.2" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.2.2.cmml">R</mi><mrow id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.cmml"><mi id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.2" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.2.cmml">u</mi><mo id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.1" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.3" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.3.cmml">i</mi></mrow><mo id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.2.3" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.2.3.cmml">′</mo></msubsup><mo id="A2.Ex3.m1.2.2.2.1.1.1.1.1.3" stretchy="false" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="A2.Ex3.m1.2.2.2.1.1.1.3" xref="A2.Ex3.m1.2.2.2.1.1.1.3.cmml">2</mn></msup></mrow></msqrt><mo id="A2.Ex3.m1.3.3.3.3" lspace="0.222em" rspace="0.222em" xref="A2.Ex3.m1.3.3.3.3.cmml">⋅</mo><msqrt id="A2.Ex3.m1.3.3.3.2" xref="A2.Ex3.m1.3.3.3.2.cmml"><mrow id="A2.Ex3.m1.3.3.3.2.1" xref="A2.Ex3.m1.3.3.3.2.1.cmml"><msub id="A2.Ex3.m1.3.3.3.2.1.2" xref="A2.Ex3.m1.3.3.3.2.1.2.cmml"><mo id="A2.Ex3.m1.3.3.3.2.1.2.2" xref="A2.Ex3.m1.3.3.3.2.1.2.2.cmml">∑</mo><mrow id="A2.Ex3.m1.3.3.3.2.1.2.3" xref="A2.Ex3.m1.3.3.3.2.1.2.3.cmml"><mi id="A2.Ex3.m1.3.3.3.2.1.2.3.2" xref="A2.Ex3.m1.3.3.3.2.1.2.3.2.cmml">i</mi><mo id="A2.Ex3.m1.3.3.3.2.1.2.3.1" xref="A2.Ex3.m1.3.3.3.2.1.2.3.1.cmml">∈</mo><msub id="A2.Ex3.m1.3.3.3.2.1.2.3.3" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3.cmml"><mi id="A2.Ex3.m1.3.3.3.2.1.2.3.3.2" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3.2.cmml">I</mi><mrow id="A2.Ex3.m1.3.3.3.2.1.2.3.3.3" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.cmml"><mi id="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.2" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.2.cmml">u</mi><mo id="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.1" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.1.cmml">⁢</mo><mi id="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.3" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.3.cmml">v</mi></mrow></msub></mrow></msub><msup id="A2.Ex3.m1.3.3.3.2.1.1" xref="A2.Ex3.m1.3.3.3.2.1.1.cmml"><mrow id="A2.Ex3.m1.3.3.3.2.1.1.1.1" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.cmml"><mo id="A2.Ex3.m1.3.3.3.2.1.1.1.1.2" lspace="0em" stretchy="false" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.cmml">(</mo><msubsup id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.cmml"><mi id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.2.2" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.2.2.cmml">R</mi><mrow id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.cmml"><mi id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.2" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.2.cmml">v</mi><mo id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.1" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.3" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.3.cmml">i</mi></mrow><mo id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.2.3" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.2.3.cmml">′</mo></msubsup><mo id="A2.Ex3.m1.3.3.3.2.1.1.1.1.3" stretchy="false" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.cmml">)</mo></mrow><mn id="A2.Ex3.m1.3.3.3.2.1.1.3" xref="A2.Ex3.m1.3.3.3.2.1.1.3.cmml">2</mn></msup></mrow></msqrt></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="A2.Ex3.m1.5b"><apply id="A2.Ex3.m1.5.6.cmml" xref="A2.Ex3.m1.5.6"><eq id="A2.Ex3.m1.5.6.1.cmml" xref="A2.Ex3.m1.5.6.1"></eq><apply id="A2.Ex3.m1.5.6.2.cmml" xref="A2.Ex3.m1.5.6.2"><times id="A2.Ex3.m1.5.6.2.1.cmml" xref="A2.Ex3.m1.5.6.2.1"></times><ci id="A2.Ex3.m1.5.6.2.2a.cmml" xref="A2.Ex3.m1.5.6.2.2"><mtext id="A2.Ex3.m1.5.6.2.2.cmml" xref="A2.Ex3.m1.5.6.2.2">sim</mtext></ci><interval closure="open" id="A2.Ex3.m1.5.6.2.3.1.cmml" xref="A2.Ex3.m1.5.6.2.3.2"><ci id="A2.Ex3.m1.4.4.cmml" xref="A2.Ex3.m1.4.4">𝑢</ci><ci id="A2.Ex3.m1.5.5.cmml" xref="A2.Ex3.m1.5.5">𝑣</ci></interval></apply><apply id="A2.Ex3.m1.3.3.cmml" xref="A2.Ex3.m1.3.3"><divide id="A2.Ex3.m1.3.3.4.cmml" xref="A2.Ex3.m1.3.3"></divide><apply id="A2.Ex3.m1.1.1.1.cmml" xref="A2.Ex3.m1.1.1.1"><apply id="A2.Ex3.m1.1.1.1.2.cmml" xref="A2.Ex3.m1.1.1.1.2"><csymbol cd="ambiguous" id="A2.Ex3.m1.1.1.1.2.1.cmml" xref="A2.Ex3.m1.1.1.1.2">subscript</csymbol><sum id="A2.Ex3.m1.1.1.1.2.2.cmml" xref="A2.Ex3.m1.1.1.1.2.2"></sum><apply id="A2.Ex3.m1.1.1.1.2.3.cmml" xref="A2.Ex3.m1.1.1.1.2.3"><in id="A2.Ex3.m1.1.1.1.2.3.1.cmml" xref="A2.Ex3.m1.1.1.1.2.3.1"></in><ci id="A2.Ex3.m1.1.1.1.2.3.2.cmml" xref="A2.Ex3.m1.1.1.1.2.3.2">𝑖</ci><apply id="A2.Ex3.m1.1.1.1.2.3.3.cmml" xref="A2.Ex3.m1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="A2.Ex3.m1.1.1.1.2.3.3.1.cmml" xref="A2.Ex3.m1.1.1.1.2.3.3">subscript</csymbol><ci id="A2.Ex3.m1.1.1.1.2.3.3.2.cmml" xref="A2.Ex3.m1.1.1.1.2.3.3.2">𝐼</ci><apply id="A2.Ex3.m1.1.1.1.2.3.3.3.cmml" xref="A2.Ex3.m1.1.1.1.2.3.3.3"><times id="A2.Ex3.m1.1.1.1.2.3.3.3.1.cmml" xref="A2.Ex3.m1.1.1.1.2.3.3.3.1"></times><ci id="A2.Ex3.m1.1.1.1.2.3.3.3.2.cmml" xref="A2.Ex3.m1.1.1.1.2.3.3.3.2">𝑢</ci><ci id="A2.Ex3.m1.1.1.1.2.3.3.3.3.cmml" xref="A2.Ex3.m1.1.1.1.2.3.3.3.3">𝑣</ci></apply></apply></apply></apply><apply id="A2.Ex3.m1.1.1.1.1.1.1.cmml" xref="A2.Ex3.m1.1.1.1.1.1"><ci id="A2.Ex3.m1.1.1.1.1.1.1.1.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.1">⋅</ci><apply id="A2.Ex3.m1.1.1.1.1.1.1.2.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A2.Ex3.m1.1.1.1.1.1.1.2.1.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.2">subscript</csymbol><apply id="A2.Ex3.m1.1.1.1.1.1.1.2.2.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A2.Ex3.m1.1.1.1.1.1.1.2.2.1.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.2">superscript</csymbol><ci id="A2.Ex3.m1.1.1.1.1.1.1.2.2.2.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.2.2.2">𝑅</ci><ci id="A2.Ex3.m1.1.1.1.1.1.1.2.2.3.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.2.2.3">′</ci></apply><apply id="A2.Ex3.m1.1.1.1.1.1.1.2.3.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.2.3"><times id="A2.Ex3.m1.1.1.1.1.1.1.2.3.1.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.2.3.1"></times><ci id="A2.Ex3.m1.1.1.1.1.1.1.2.3.2.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.2.3.2">𝑢</ci><ci id="A2.Ex3.m1.1.1.1.1.1.1.2.3.3.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.2.3.3">𝑖</ci></apply></apply><apply id="A2.Ex3.m1.1.1.1.1.1.1.3.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A2.Ex3.m1.1.1.1.1.1.1.3.1.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.3">subscript</csymbol><apply id="A2.Ex3.m1.1.1.1.1.1.1.3.2.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A2.Ex3.m1.1.1.1.1.1.1.3.2.1.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.3">superscript</csymbol><ci id="A2.Ex3.m1.1.1.1.1.1.1.3.2.2.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.3.2.2">𝑅</ci><ci id="A2.Ex3.m1.1.1.1.1.1.1.3.2.3.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.3.2.3">′</ci></apply><apply id="A2.Ex3.m1.1.1.1.1.1.1.3.3.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.3.3"><times id="A2.Ex3.m1.1.1.1.1.1.1.3.3.1.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.3.3.1"></times><ci id="A2.Ex3.m1.1.1.1.1.1.1.3.3.2.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.3.3.2">𝑣</ci><ci id="A2.Ex3.m1.1.1.1.1.1.1.3.3.3.cmml" xref="A2.Ex3.m1.1.1.1.1.1.1.3.3.3">𝑖</ci></apply></apply></apply></apply><apply id="A2.Ex3.m1.3.3.3.cmml" xref="A2.Ex3.m1.3.3.3"><ci id="A2.Ex3.m1.3.3.3.3.cmml" xref="A2.Ex3.m1.3.3.3.3">⋅</ci><apply id="A2.Ex3.m1.2.2.2.1.cmml" xref="A2.Ex3.m1.2.2.2.1"><root id="A2.Ex3.m1.2.2.2.1a.cmml" xref="A2.Ex3.m1.2.2.2.1"></root><apply id="A2.Ex3.m1.2.2.2.1.1.cmml" xref="A2.Ex3.m1.2.2.2.1.1"><apply id="A2.Ex3.m1.2.2.2.1.1.2.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2"><csymbol cd="ambiguous" id="A2.Ex3.m1.2.2.2.1.1.2.1.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2">subscript</csymbol><sum id="A2.Ex3.m1.2.2.2.1.1.2.2.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2.2"></sum><apply id="A2.Ex3.m1.2.2.2.1.1.2.3.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2.3"><in id="A2.Ex3.m1.2.2.2.1.1.2.3.1.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2.3.1"></in><ci id="A2.Ex3.m1.2.2.2.1.1.2.3.2.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2.3.2">𝑖</ci><apply id="A2.Ex3.m1.2.2.2.1.1.2.3.3.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3"><csymbol cd="ambiguous" id="A2.Ex3.m1.2.2.2.1.1.2.3.3.1.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3">subscript</csymbol><ci id="A2.Ex3.m1.2.2.2.1.1.2.3.3.2.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3.2">𝐼</ci><apply id="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3.3"><times id="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.1.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.1"></times><ci id="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.2.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.2">𝑢</ci><ci id="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.3.cmml" xref="A2.Ex3.m1.2.2.2.1.1.2.3.3.3.3">𝑣</ci></apply></apply></apply></apply><apply id="A2.Ex3.m1.2.2.2.1.1.1.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="A2.Ex3.m1.2.2.2.1.1.1.2.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1">superscript</csymbol><apply id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.1.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1">subscript</csymbol><apply id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.2.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.2.1.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1">superscript</csymbol><ci id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.2.2.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.2.2">𝑅</ci><ci id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.2.3.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.2.3">′</ci></apply><apply id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3"><times id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.1.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.1"></times><ci id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.2.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.2">𝑢</ci><ci id="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.3.cmml" xref="A2.Ex3.m1.2.2.2.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><cn id="A2.Ex3.m1.2.2.2.1.1.1.3.cmml" type="integer" xref="A2.Ex3.m1.2.2.2.1.1.1.3">2</cn></apply></apply></apply><apply id="A2.Ex3.m1.3.3.3.2.cmml" xref="A2.Ex3.m1.3.3.3.2"><root id="A2.Ex3.m1.3.3.3.2a.cmml" xref="A2.Ex3.m1.3.3.3.2"></root><apply id="A2.Ex3.m1.3.3.3.2.1.cmml" xref="A2.Ex3.m1.3.3.3.2.1"><apply id="A2.Ex3.m1.3.3.3.2.1.2.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2"><csymbol cd="ambiguous" id="A2.Ex3.m1.3.3.3.2.1.2.1.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2">subscript</csymbol><sum id="A2.Ex3.m1.3.3.3.2.1.2.2.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2.2"></sum><apply id="A2.Ex3.m1.3.3.3.2.1.2.3.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2.3"><in id="A2.Ex3.m1.3.3.3.2.1.2.3.1.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2.3.1"></in><ci id="A2.Ex3.m1.3.3.3.2.1.2.3.2.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2.3.2">𝑖</ci><apply id="A2.Ex3.m1.3.3.3.2.1.2.3.3.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3"><csymbol cd="ambiguous" id="A2.Ex3.m1.3.3.3.2.1.2.3.3.1.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3">subscript</csymbol><ci id="A2.Ex3.m1.3.3.3.2.1.2.3.3.2.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3.2">𝐼</ci><apply id="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3.3"><times id="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.1.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.1"></times><ci id="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.2.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.2">𝑢</ci><ci id="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.3.cmml" xref="A2.Ex3.m1.3.3.3.2.1.2.3.3.3.3">𝑣</ci></apply></apply></apply></apply><apply id="A2.Ex3.m1.3.3.3.2.1.1.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1"><csymbol cd="ambiguous" id="A2.Ex3.m1.3.3.3.2.1.1.2.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1">superscript</csymbol><apply id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.1.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1">subscript</csymbol><apply id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.2.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.2.1.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1">superscript</csymbol><ci id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.2.2.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.2.2">𝑅</ci><ci id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.2.3.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.2.3">′</ci></apply><apply id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3"><times id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.1.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.1"></times><ci id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.2.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.2">𝑣</ci><ci id="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.3.cmml" xref="A2.Ex3.m1.3.3.3.2.1.1.1.1.1.3.3">𝑖</ci></apply></apply><cn id="A2.Ex3.m1.3.3.3.2.1.1.3.cmml" type="integer" xref="A2.Ex3.m1.3.3.3.2.1.1.3">2</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.Ex3.m1.5c">\text{sim}(u,v)=\frac{\sum_{i\in I_{uv}}(R^{\prime}_{ui}\cdot R^{\prime}_{vi})%
}{\sqrt{\sum_{i\in I_{uv}}(R^{\prime}_{ui})^{2}}\cdot\sqrt{\sum_{i\in I_{uv}}(%
R^{\prime}_{vi})^{2}}}</annotation><annotation encoding="application/x-llamapun" id="A2.Ex3.m1.5d">sim ( italic_u , italic_v ) = divide start_ARG ∑ start_POSTSUBSCRIPT italic_i ∈ italic_I start_POSTSUBSCRIPT italic_u italic_v end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT ⋅ italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_v italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG square-root start_ARG ∑ start_POSTSUBSCRIPT italic_i ∈ italic_I start_POSTSUBSCRIPT italic_u italic_v end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT end_ARG ⋅ square-root start_ARG ∑ start_POSTSUBSCRIPT italic_i ∈ italic_I start_POSTSUBSCRIPT italic_u italic_v end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_v italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT end_ARG end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A2.I1.i4.p1.3">where <math alttext="I_{uv}" class="ltx_Math" display="inline" id="A2.I1.i4.p1.3.m1.1"><semantics id="A2.I1.i4.p1.3.m1.1a"><msub id="A2.I1.i4.p1.3.m1.1.1" xref="A2.I1.i4.p1.3.m1.1.1.cmml"><mi id="A2.I1.i4.p1.3.m1.1.1.2" xref="A2.I1.i4.p1.3.m1.1.1.2.cmml">I</mi><mrow id="A2.I1.i4.p1.3.m1.1.1.3" xref="A2.I1.i4.p1.3.m1.1.1.3.cmml"><mi id="A2.I1.i4.p1.3.m1.1.1.3.2" xref="A2.I1.i4.p1.3.m1.1.1.3.2.cmml">u</mi><mo id="A2.I1.i4.p1.3.m1.1.1.3.1" xref="A2.I1.i4.p1.3.m1.1.1.3.1.cmml">⁢</mo><mi id="A2.I1.i4.p1.3.m1.1.1.3.3" xref="A2.I1.i4.p1.3.m1.1.1.3.3.cmml">v</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A2.I1.i4.p1.3.m1.1b"><apply id="A2.I1.i4.p1.3.m1.1.1.cmml" xref="A2.I1.i4.p1.3.m1.1.1"><csymbol cd="ambiguous" id="A2.I1.i4.p1.3.m1.1.1.1.cmml" xref="A2.I1.i4.p1.3.m1.1.1">subscript</csymbol><ci id="A2.I1.i4.p1.3.m1.1.1.2.cmml" xref="A2.I1.i4.p1.3.m1.1.1.2">𝐼</ci><apply id="A2.I1.i4.p1.3.m1.1.1.3.cmml" xref="A2.I1.i4.p1.3.m1.1.1.3"><times id="A2.I1.i4.p1.3.m1.1.1.3.1.cmml" xref="A2.I1.i4.p1.3.m1.1.1.3.1"></times><ci id="A2.I1.i4.p1.3.m1.1.1.3.2.cmml" xref="A2.I1.i4.p1.3.m1.1.1.3.2">𝑢</ci><ci id="A2.I1.i4.p1.3.m1.1.1.3.3.cmml" xref="A2.I1.i4.p1.3.m1.1.1.3.3">𝑣</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i4.p1.3.m1.1c">I_{uv}</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i4.p1.3.m1.1d">italic_I start_POSTSUBSCRIPT italic_u italic_v end_POSTSUBSCRIPT</annotation></semantics></math> is the set of items rated by both users.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(5)</span>
<div class="ltx_para" id="A2.I1.i5.p1">
<p class="ltx_p" id="A2.I1.i5.p1.4"><span class="ltx_text ltx_font_bold" id="A2.I1.i5.p1.4.1">Similarity Matrix Construction:</span>
The similarities were stored in a matrix <math alttext="S" class="ltx_Math" display="inline" id="A2.I1.i5.p1.1.m1.1"><semantics id="A2.I1.i5.p1.1.m1.1a"><mi id="A2.I1.i5.p1.1.m1.1.1" xref="A2.I1.i5.p1.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i5.p1.1.m1.1b"><ci id="A2.I1.i5.p1.1.m1.1.1.cmml" xref="A2.I1.i5.p1.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i5.p1.1.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i5.p1.1.m1.1d">italic_S</annotation></semantics></math>, where each entry <math alttext="S_{uv}" class="ltx_Math" display="inline" id="A2.I1.i5.p1.2.m2.1"><semantics id="A2.I1.i5.p1.2.m2.1a"><msub id="A2.I1.i5.p1.2.m2.1.1" xref="A2.I1.i5.p1.2.m2.1.1.cmml"><mi id="A2.I1.i5.p1.2.m2.1.1.2" xref="A2.I1.i5.p1.2.m2.1.1.2.cmml">S</mi><mrow id="A2.I1.i5.p1.2.m2.1.1.3" xref="A2.I1.i5.p1.2.m2.1.1.3.cmml"><mi id="A2.I1.i5.p1.2.m2.1.1.3.2" xref="A2.I1.i5.p1.2.m2.1.1.3.2.cmml">u</mi><mo id="A2.I1.i5.p1.2.m2.1.1.3.1" xref="A2.I1.i5.p1.2.m2.1.1.3.1.cmml">⁢</mo><mi id="A2.I1.i5.p1.2.m2.1.1.3.3" xref="A2.I1.i5.p1.2.m2.1.1.3.3.cmml">v</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A2.I1.i5.p1.2.m2.1b"><apply id="A2.I1.i5.p1.2.m2.1.1.cmml" xref="A2.I1.i5.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A2.I1.i5.p1.2.m2.1.1.1.cmml" xref="A2.I1.i5.p1.2.m2.1.1">subscript</csymbol><ci id="A2.I1.i5.p1.2.m2.1.1.2.cmml" xref="A2.I1.i5.p1.2.m2.1.1.2">𝑆</ci><apply id="A2.I1.i5.p1.2.m2.1.1.3.cmml" xref="A2.I1.i5.p1.2.m2.1.1.3"><times id="A2.I1.i5.p1.2.m2.1.1.3.1.cmml" xref="A2.I1.i5.p1.2.m2.1.1.3.1"></times><ci id="A2.I1.i5.p1.2.m2.1.1.3.2.cmml" xref="A2.I1.i5.p1.2.m2.1.1.3.2">𝑢</ci><ci id="A2.I1.i5.p1.2.m2.1.1.3.3.cmml" xref="A2.I1.i5.p1.2.m2.1.1.3.3">𝑣</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i5.p1.2.m2.1c">S_{uv}</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i5.p1.2.m2.1d">italic_S start_POSTSUBSCRIPT italic_u italic_v end_POSTSUBSCRIPT</annotation></semantics></math> represents the similarity between user <math alttext="u" class="ltx_Math" display="inline" id="A2.I1.i5.p1.3.m3.1"><semantics id="A2.I1.i5.p1.3.m3.1a"><mi id="A2.I1.i5.p1.3.m3.1.1" xref="A2.I1.i5.p1.3.m3.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i5.p1.3.m3.1b"><ci id="A2.I1.i5.p1.3.m3.1.1.cmml" xref="A2.I1.i5.p1.3.m3.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i5.p1.3.m3.1c">u</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i5.p1.3.m3.1d">italic_u</annotation></semantics></math> and user <math alttext="v" class="ltx_Math" display="inline" id="A2.I1.i5.p1.4.m4.1"><semantics id="A2.I1.i5.p1.4.m4.1a"><mi id="A2.I1.i5.p1.4.m4.1.1" xref="A2.I1.i5.p1.4.m4.1.1.cmml">v</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i5.p1.4.m4.1b"><ci id="A2.I1.i5.p1.4.m4.1.1.cmml" xref="A2.I1.i5.p1.4.m4.1.1">𝑣</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i5.p1.4.m4.1c">v</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i5.p1.4.m4.1d">italic_v</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(6)</span>
<div class="ltx_para" id="A2.I1.i6.p1">
<p class="ltx_p" id="A2.I1.i6.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i6.p1.1.1">Identifying Top Similar Users:</span>
For each interaction in the test set, the top 3 most similar users who have interacted with the same item in the training set were identified based on the similarity matrix <math alttext="S" class="ltx_Math" display="inline" id="A2.I1.i6.p1.1.m1.1"><semantics id="A2.I1.i6.p1.1.m1.1a"><mi id="A2.I1.i6.p1.1.m1.1.1" xref="A2.I1.i6.p1.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i6.p1.1.m1.1b"><ci id="A2.I1.i6.p1.1.m1.1.1.cmml" xref="A2.I1.i6.p1.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i6.p1.1.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="A2.I1.i6.p1.1.m1.1d">italic_S</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i7" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(7)</span>
<div class="ltx_para" id="A2.I1.i7.p1">
<p class="ltx_p" id="A2.I1.i7.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i7.p1.1.1">Preference Set and Item Profile Construction:</span>
The reviews from the identified top 3 users were encapsulated to form a preference set, which was then used to construct the item profile for the given interaction.</p>
</div>
</li>
</ol>
</div>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Human Evaluation</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">We evaluate the quality of the generated explanations by outsourcing a human evaluation, comparing the outputs of <span class="ltx_text ltx_font_smallcaps" id="A3.p1.1.1">Exp3rt</span> with those from other baseline models using Amazon Mechanical Turk (AMT).
We ask three human judges to compare the quality of explanation based on the following three criteria:</p>
<ul class="ltx_itemize" id="A3.I1">
<li class="ltx_item" id="A3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A3.I1.i1.p1">
<p class="ltx_p" id="A3.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A3.I1.i1.p1.1.1">Persuasiveness</span>: Which explanation is more persuasive in convincing the user to accept the recommendation?</p>
</div>
</li>
<li class="ltx_item" id="A3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A3.I1.i2.p1">
<p class="ltx_p" id="A3.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A3.I1.i2.p1.1.1">Reasonability</span>: Which explanation is more logical and reasonable?</p>
</div>
</li>
<li class="ltx_item" id="A3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A3.I1.i3.p1">
<p class="ltx_p" id="A3.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A3.I1.i3.p1.1.1">Scrutability</span>: Which explanation better helps the user understand their preferences for the item?</p>
</div>
</li>
<li class="ltx_item" id="A3.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A3.I1.i4.p1">
<p class="ltx_p" id="A3.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="A3.I1.i4.p1.1.1">Faithfulness</span>: Which explanation more accurately reflects the actual content, features, or attributes of the item being recommended?</p>
</div>
</li>
<li class="ltx_item" id="A3.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A3.I1.i5.p1">
<p class="ltx_p" id="A3.I1.i5.p1.1"><span class="ltx_text ltx_font_bold" id="A3.I1.i5.p1.1.1">Overall</span>: Which explanation has a higher overall quality as a recommendation explanation?</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Case Study</h2>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2408.06276v2#A4.T13" title="Table 13 ‣ Appendix D Case Study ‣ Review-driven Personalized Preference Reasoning with Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">13</span></a> present explanation generated for user /user/ur18123905/ and item 2084970 : The Imitation Game (2014) generated by <span class="ltx_text ltx_font_smallcaps" id="A4.p1.1.1">Exp3rt</span>.</p>
</div>
<figure class="ltx_table" id="A4.T13">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A4.T13.2.1.1" style="font-size:90%;">Table 13</span>. </span><span class="ltx_text" id="A4.T13.3.2" style="font-size:90%;">Explanations generated by LLM-based models</span></figcaption>
<table class="ltx_tabular ltx_align_middle" id="A4.T13.4">
<tr class="ltx_tr" id="A4.T13.4.1">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="A4.T13.4.1.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.1.1.1">
<span class="ltx_p" id="A4.T13.4.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T13.4.1.1.1.1.1">UserID</span>: /user/ur18123905/, <span class="ltx_text ltx_font_bold" id="A4.T13.4.1.1.1.1.2">ItemID</span>: 2084970</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A4.T13.4.2.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.2.1.1">
<span class="ltx_p" id="A4.T13.4.2.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T13.4.2.1.1.1.1">Item Title</span>: The Imitation Game (2014)</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.3">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.3.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.3.1.1">
<span class="ltx_p" id="A4.T13.4.3.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T13.4.3.1.1.1.1">Item Genres</span>: Biography, Drama, Thriller, War</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.4">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.4.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.4.1.1">
<span class="ltx_p" id="A4.T13.4.4.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T13.4.4.1.1.1.1">Item Directors</span>: Morten Tyldum</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.5">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.5.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.5.1.1">
<span class="ltx_p" id="A4.T13.4.5.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T13.4.5.1.1.1.1">Item Cast</span>: Benedict Cumberbatch, Keira Knightley, Matthew Goode</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.6">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.6.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.6.1.1">
<span class="ltx_p" id="A4.T13.4.6.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T13.4.6.1.1.1.1">Item Plot</span>: It is based on the real life story of legendary cryptanalyst Alan Turing. The film portrays the nail-biting race against time by Turing and his brilliant team of code-breakers at Britain’s top-secret Government Code and Cypher School at Bletchley Park, during the darkest days of World War II.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.7">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.7.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.7.1.1">
<span class="ltx_p" id="A4.T13.4.7.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T13.4.7.1.1.1.1">User Profile</span> (by <span class="ltx_text ltx_font_smallcaps" id="A4.T13.4.7.1.1.1.2">Exp3rt</span>):</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.8">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.8.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.8.1.1">
<span class="ltx_p" id="A4.T13.4.8.1.1.1">[<span class="ltx_text ltx_font_italic" id="A4.T13.4.8.1.1.1.1">Like</span>]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.9">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.9.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.9.1.1">
<span class="ltx_p" id="A4.T13.4.9.1.1.1">- Appreciates visually stunning cinematography</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.10">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.10.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.10.1.1">
<span class="ltx_p" id="A4.T13.4.10.1.1.1">- Enjoys strong and memorable storytelling</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.11">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.11.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.11.1.1">
<span class="ltx_p" id="A4.T13.4.11.1.1.1">- Values chemistry and relationships between characters</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.12">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.12.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.12.1.1">
<span class="ltx_p" id="A4.T13.4.12.1.1.1">- Enjoys thought-provoking and intense films</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.13">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.13.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.13.1.1">
<span class="ltx_p" id="A4.T13.4.13.1.1.1">- Appreciates fresh and unique concepts</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.14">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.14.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.14.1.1">
<span class="ltx_p" id="A4.T13.4.14.1.1.1">[<span class="ltx_text ltx_font_italic" id="A4.T13.4.14.1.1.1.1">Dislike</span>]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.15">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.15.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.15.1.1">
<span class="ltx_p" id="A4.T13.4.15.1.1.1">- Dislikes predictability and cliches in movies</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.16">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.16.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.16.1.1">
<span class="ltx_p" id="A4.T13.4.16.1.1.1">- Prefers relatable and likable protagonists</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.17">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.17.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.17.1.1">
<span class="ltx_p" id="A4.T13.4.17.1.1.1">- Dislikes forced or unnatural dialogue</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.18">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.18.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.18.1.1">
<span class="ltx_p" id="A4.T13.4.18.1.1.1">- Dislikes prolonged or unnecessary scenes</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.19">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.19.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.19.1.1">
<span class="ltx_p" id="A4.T13.4.19.1.1.1">- Dislikes lack of focus or transparency in storytelling</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.20">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.20.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.20.1.1">
<span class="ltx_p" id="A4.T13.4.20.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T13.4.20.1.1.1.1">Item Profile</span> (by <span class="ltx_text ltx_font_smallcaps" id="A4.T13.4.20.1.1.1.2">Exp3rt</span>):</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.21">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.21.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.21.1.1">
<span class="ltx_p" id="A4.T13.4.21.1.1.1">[<span class="ltx_text ltx_font_italic" id="A4.T13.4.21.1.1.1.1">Like</span>]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.22">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.22.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.22.1.1">
<span class="ltx_p" id="A4.T13.4.22.1.1.1">- Benedict Cumberbatch’s performance was frequently highlighted as exceptional.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.23">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.23.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.23.1.1">
<span class="ltx_p" id="A4.T13.4.23.1.1.1">- The portrayal and exploration of Alan Turing’s personal and professional life.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.24">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.24.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.24.1.1">
<span class="ltx_p" id="A4.T13.4.24.1.1.1">- Historical significance and educational value regarding Turing’s contributions during WWII.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.25">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.25.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.25.1.1">
<span class="ltx_p" id="A4.T13.4.25.1.1.1">- High-quality acting from the supporting cast, including Keira Knightley and Matthew Goode.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.26">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.26.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.26.1.1">
<span class="ltx_p" id="A4.T13.4.26.1.1.1">- Well-crafted storytelling and direction, emphasizing the dramatic and emotional aspects of Turing’s story.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.27">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.27.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.27.1.1">
<span class="ltx_p" id="A4.T13.4.27.1.1.1">[<span class="ltx_text ltx_font_italic" id="A4.T13.4.27.1.1.1.1">Dislike</span>]</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.28">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.28.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.28.1.1">
<span class="ltx_p" id="A4.T13.4.28.1.1.1">- Excessive focus on Turing’s personal life at the expense of other story elements.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.29">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.29.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.29.1.1">
<span class="ltx_p" id="A4.T13.4.29.1.1.1">- Some viewers criticized the film for taking liberties with historical facts.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.30">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.30.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.30.1.1">
<span class="ltx_p" id="A4.T13.4.30.1.1.1">- Use of flashbacks and non-linear storytelling was not appreciated by all.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.31">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.31.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.31.1.1">
<span class="ltx_p" id="A4.T13.4.31.1.1.1">- Perceived as playing it too safe or vague in dealing with sensitive historical issues.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.32">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.32.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.32.1.1">
<span class="ltx_p" id="A4.T13.4.32.1.1.1">- Criticisms of other technical aspects like editing, soundtrack, and some supporting performances.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.33">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A4.T13.4.33.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.33.1.1">
<span class="ltx_p" id="A4.T13.4.33.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T13.4.33.1.1.1.1">Generated Explanations</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.34">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A4.T13.4.34.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.34.1.1">
<span class="ltx_p" id="A4.T13.4.34.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T13.4.34.1.1.1.1">P5</span>: The secrets behind the true victors of World War II were only divulged not too long ago (interestingly enough, it’s hard to come by the exact date of the reveal).</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.35">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="A4.T13.4.35.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.35.1.1">
<span class="ltx_p" id="A4.T13.4.35.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T13.4.35.1.1.1.1">XRec</span>: You would enjoy ”The Imitation Game” because it celebrates the genius of Alan Turing without sentimentally concluding that there’s a genius in everyone. The film’s execution, integrity in character portrayal, and the dynamic between the characters make it a compelling and emotionally impactful watch.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T13.4.36">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb" id="A4.T13.4.36.1" style="width:411.9pt;">
<span class="ltx_inline-block ltx_align_top" id="A4.T13.4.36.1.1">
<span class="ltx_p" id="A4.T13.4.36.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="A4.T13.4.36.1.1.1.1">Exp3rt</span>: The user would likely enjoy ”The Imitation Game” as it offers visually stunning cinematography and a strong, memorable storytelling. The film delves into the personal and professional life of Alan Turing, providing a thought-provoking and intense narrative. The chemistry and relationships between characters, particularly Benedict Cumberbatch’s exceptional performance, would be appreciated by the user. Additionally, the historical significance and educational value regarding Turing’s contributions during WWII align with the user’s preference for fresh and unique concepts. However, the excessive focus on Turing’s personal life and the film’s perceived vagueness in dealing with sensitive historical issues may be points of contention for the user. Nonetheless, the overall quality of acting and well-crafted storytelling would likely make ”The Imitation Game” a recommended watch for the user.</span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue Aug 13 11:06:00 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
