<article class="ltx_document ltx_authors_1line">
 <h1 class="ltx_title ltx_title_document">
  Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM
 </h1>
 <div class="ltx_authors">
  <span class="ltx_creator ltx_role_author">
   <span class="ltx_personname">
    Xiaopeng Li
    <sup class="ltx_sup" id="id10.10.id1">
     <span class="ltx_text ltx_font_italic" id="id10.10.id1.1">
      †
     </span>
    </sup>
    , Lixin Su
    <sup class="ltx_sup" id="id11.11.id2">
     <span class="ltx_text ltx_font_italic" id="id11.11.id2.1">
      ‡
     </span>
    </sup>
    , Pengyue Jia
    <sup class="ltx_sup" id="id12.12.id3">
     <span class="ltx_text ltx_font_italic" id="id12.12.id3.1">
      †
     </span>
    </sup>
    , Xiangyu Zhao
    <sup class="ltx_sup" id="id13.13.id4">
     <span class="ltx_text ltx_font_italic" id="id13.13.id4.1">
      †
     </span>
    </sup>
    , Suqi Cheng
    <sup class="ltx_sup" id="id14.14.id5">
     <span class="ltx_text ltx_font_italic" id="id14.14.id5.1">
      ‡
     </span>
    </sup>
    , Junfeng Wang
    <sup class="ltx_sup" id="id15.15.id6">
     <span class="ltx_text ltx_font_italic" id="id15.15.id6.1">
      ‡
     </span>
    </sup>
    , Dawei Yin
    <sup class="ltx_sup" id="id16.16.id7">
     <span class="ltx_text ltx_font_italic" id="id16.16.id7.1">
      ‡
     </span>
    </sup>
   </span>
   <span class="ltx_author_notes">
    <span class="ltx_contact ltx_role_affiliation">
     <sup class="ltx_sup" id="id17.17.id1">
      †
     </sup>
     City Univerisity of HongKong
    </span>
    <span class="ltx_contact ltx_role_affiliation">
     <sup class="ltx_sup" id="id18.18.id1">
      ‡
     </sup>
     Baidu Inc.
    </span>
    <span class="ltx_contact ltx_role_affiliation">
     {xiaopli2-c, jia.pengyue}@my.cityu.edu.hk, xianzhao@cityu.edu.hk,
     <br class="ltx_break"/>
     {sulixin, chengsuqi, wangjunfeng}@baidu.com, yindawei@acm.org
    </span>
   </span>
  </span>
 </div>
 <div class="ltx_abstract">
  <h6 class="ltx_title ltx_title_abstract">
   Abstract
  </h6>
  <p class="ltx_p" id="id19.id1">
   Search engines are crucial as they provide an efficient and easy way to access vast amounts of information on the internet for diverse information needs.
User queries, even with a specific need, can differ significantly. Prior research has explored the resilience of ranking models against typical query variations like paraphrasing, misspellings, and order changes. Yet, these works overlook how diverse demographics uniquely formulate identical queries.
For instance, older individuals tend to construct queries more naturally and in varied order compared to other groups. This demographic diversity necessitates enhancing the adaptability of ranking models to diverse query formulations.
To this end, in this paper, we propose a framework that integrates a novel rewriting pipeline that rewrites queries from various demographic perspectives and a novel framework to enhance ranking robustness. To be specific, we use Chain of Thought (CoT) technology to utilize Large Language Models (LLMs) as agents to emulate various demographic profiles, then use them for efficient query rewriting, and we innovate a robust Multi-gate Mixture of Experts (MMoE) architecture coupled with a hybrid loss function, collectively strengthening the ranking models’ robustness. Our extensive experimentation on both public and industrial datasets assesses the efficacy of our query rewriting approach and the enhanced accuracy and robustness of the ranking model. The findings highlight the sophistication and effectiveness of our proposed model.
  </p>
 </div>
 <div class="ltx_keywords">
  <h6 class="ltx_title ltx_title_keywords">
   Index Terms:
  </h6>
  Data mining, Information retrieval, Query processing, Robust ranking
 </div>
 <section class="ltx_section" id="S1">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    I
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S1.1.1">
    Introduction
   </span>
  </h2>
  <div class="ltx_para" id="S1.p1">
   <p class="ltx_p" id="S1.p1.1">
    Search engines, pivotal in Computer Science and Data Management, focus on efficiently searching and retrieving relevant information from extensive data repositories
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib1" title="">
      1
     </a>
     ]
    </cite>
    . A central challenge in search engine technology is addressing the ranking problem, which involves prioritizing search results according to their relevance to user queries. Ranking models have evolved significantly, encompassing three main types: traditional probabilistic models
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib2" title="">
      2
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib3" title="">
      3
     </a>
     ]
    </cite>
    , which falter in large-scale applications due to their keyword-centric design; neural rankers
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib4" title="">
      4
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib5" title="">
      5
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib6" title="">
      6
     </a>
     ]
    </cite>
    that leverage deep learning for enhanced performance; and recent pre-trained models
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib7" title="">
      7
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib8" title="">
      8
     </a>
     ]
    </cite>
    capable of understanding complex queries with limited data. Most of this research has principally focused on evaluating and enhancing the effectiveness of ranking models. However, the robustness of these ranking models, which refers to the stability of document rankings under the influence of perturbed queries, has received relatively less attention.
   </p>
  </div>
  <div class="ltx_para" id="S1.p2">
   <p class="ltx_p" id="S1.p2.1">
    In practical search scenarios, the robustness of search systems in ranking is of paramount importance. Ideally, a robust search engine should return consistent results for semantically consistent queries
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib9" title="">
      9
     </a>
     ]
    </cite>
    . However, a lack of robustness can lead to significant variability in results, adversely affecting the user experience. Existing studies have explored the impact of query variations on robustness of the search engine pipeline. For example, Penha et al.
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib10" title="">
      10
     </a>
     ]
    </cite>
    examine the effects of variations like misspellings and paraphrasing, identifying a notable 20% decline in retrieval effectiveness, indicating current systems’ robustness deficiencies. CAPOT
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib11" title="">
      11
     </a>
     ]
    </cite>
    employs contrastive learning to address noisy query impacts including typos and misspellings. Zhuang et al. investigate the use of Character-Bert and self-teaching techniques
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib12" title="">
      12
     </a>
     ]
    </cite>
    for effectively handling typo-laden queries. Nevertheless, the majority of these studies predominantly concentrate on the retrieval process lacking exploration of the ranking procedure, more importantly, these studies heuristically define types of query variations and tackle insufficient robustness. Practically, the search engine often confronts mixed query variations composed of multiple types of query alterations.
Intuitively, different demographic groups have the same information requirement. But limited by their different personal knowledge background, they express different queries. Therefore, a more direct way is to simulate different demographic groups of people to rewrite queries based on the information needs.
   </p>
  </div>
  <figure class="ltx_figure" id="S1.F1">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="292" id="S1.F1.g1" src="/html/2312.15450/assets/x1.png" width="368"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 1:
    </span>
    Up: Four demographic group statistics by CNNIC
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib13" title="">
      13
     </a>
     ]
    </cite>
    . Down: Taxonomy of query variations statistics for four groups. All the queries are from the industrial dataset in Baidu. The Red Bar indicates the most significant feature of this group.
   </figcaption>
  </figure>
  <div class="ltx_para" id="S1.p3">
   <p class="ltx_p" id="S1.p3.1">
    To tackle the aforementioned issues, this paper proposes to investigate the application of Large Language Models (LLMs) in query rewriting from demographic perspectives, aiming to fortify the robustness of ranking models for different groups of users. LLMs have emerged as formidable tools, noted for their exceptional contextual awareness and generative abilities, are particularly effective in query rewriting, ensuring semantic integrity and simultaneously boosting model robustness
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib14" title="">
      14
     </a>
     ]
    </cite>
    . However, it is not easy to apply LLMs into query rewriting in demographic perspectives.
Firstly, how to accurately rewrite queries from various perspectives using LLMs such as ChatGPT. These models are notable for their contextual understanding and semantic comprehension. Nevertheless, the unpredictability in their outputs often leads to generation inaccuracies or ”hallucinations”
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib15" title="">
      15
     </a>
     ]
    </cite>
    . The complexity of crafting prompts that guide LLMs to produce contextually relevant and diverse query rewrites exacerbates this issue.
Secondly, how to enhance the robustness of ranking models via multiple query variants. Current literature primarily addresses single perspective variants, such as misspellings or ordering, and often neglects the complexity of mixed query rewrites in practical scenarios
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib10" title="">
      10
     </a>
     ]
    </cite>
    . Consequently, the development of a robust model capable of handling a variety of semantically similar queries, and consistently producing similar ranking outcomes without sacrificing accuracy is of paramount importance.
   </p>
  </div>
  <div class="ltx_para" id="S1.p4">
   <p class="ltx_p" id="S1.p4.1">
    Recent advancements in query rewriting using LLMs predominantly fall into two categories.
The first is the corpora-incorporated approach, exemplified by HyDE
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib16" title="">
      16
     </a>
     ]
    </cite>
    , which generates hypothetical documents from original queries for enhanced retrieval, and Query2doc
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib17" title="">
      17
     </a>
     ]
    </cite>
    , which employs few-shot learning in LLMs to create pseudo documents for query rewriting.
Shen et al. proposed a method
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib18" title="">
      18
     </a>
     ]
    </cite>
    that integrates potential relevant documents into LLM prompts to modify queries.
The second category, generative rewriting, leverages LLMs’ language understanding and pre-existing knowledge for query regeneration, such as using prompting
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib14" title="">
      14
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib19" title="">
      19
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib20" title="">
      20
     </a>
     ]
    </cite>
    and domain-specific fine-tuning methods
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib21" title="">
      21
     </a>
     ,
     <a class="ltx_ref" href="#bib.bib22" title="">
      22
     </a>
     ]
    </cite>
    for the rewriting task.
Nevertheless, these approaches generally focus on single-perspective rewriting and lack an extensive exploration of multi-perspective rewriting. They also fall short in addressing the quality of rewritten queries, particularly in terms of hallucination effects and the strategies for their mitigation. Moreover, there’s a gap in exploring how to systematically utilize these rewritten queries to jointly enhance the robustness of ranking models.
   </p>
  </div>
  <div class="ltx_para" id="S1.p5">
   <p class="ltx_p" id="S1.p5.1">
    Addressing the aforementioned challenges, in this paper, we introduce an innovative pipeline for query rewriting and a framework for enhancing robustness for ranking within search engines. To improve the effectiveness of query rewriting from varied semantic perspectives, we harness the potential of LLMs to simulate four distinct agent roles—woman, man, student, and elder—and rephrase queries accordingly. We carefully chose these four roles according to the statistics from the government
    <cite class="ltx_cite ltx_citemacro_cite">
     [
     <a class="ltx_ref" href="#bib.bib13" title="">
      13
     </a>
     ]
    </cite>
    , which cover the majority of Chinese Internet users, shown in Figure
    <a class="ltx_ref" href="#S1.F1" title="Figure 1 ‣ I Introduction ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
     <span class="ltx_text ltx_ref_tag">
      1
     </span>
    </a>
    . We integrate Chain of Thought (CoT) technology and implement rigorous query verification procedures to counteract hallucination effects and enhance the precision of query generation. This approach is encapsulated within a cyclic generation framework that evaluates and iteratively refines the query until it meets predefined quality standards. According to our results analysis, our methodology demonstrates exceptional performance and closely aligns with the character’s personality. Moreover, to reinforce the robustness of the ranking model, we introduce a Robust MMoE structure. This structure dynamically identifies semantic commonalities across various rewritten queries, facilitating a more stable ranking process. Additionally, we develop a novel loss function that promotes robustness by leveraging Jensen-Shannon divergence to measure distribution variations across different agent perspectives, thus enhancing the robustness of the result. The paper’s primary contributions are as follows:
   </p>
  </div>
  <div class="ltx_para" id="S1.p6">
   <ul class="ltx_itemize" id="S1.I1">
    <li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S1.I1.i1.p1">
      <p class="ltx_p" id="S1.I1.i1.p1.1">
       We introduce a novel query rewriting approach utilizing Large Language Models (LLMs) in various agent roles. This method is supplemented by a query validation procedure that rigorously assesses and iteratively refines the queries, enhancing precision until they conform to our high standards;
      </p>
     </div>
    </li>
    <li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S1.I1.i2.p1">
      <p class="ltx_p" id="S1.I1.i2.p1.1">
       In order to enhance the robustness of the ranking model, we design a robust ranking model that incorporates a Mixture-of-Experts (MoE) structure with multiple adapters. This architecture is adept at capturing semantic similarities, thereby fortifying the model’s robustness. Concurrently, we also develop a novel loss function that strategically enhances model robustness by constraining output distributions.
      </p>
     </div>
    </li>
    <li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
     <span class="ltx_tag ltx_tag_item">
      •
     </span>
     <div class="ltx_para" id="S1.I1.i3.p1">
      <p class="ltx_p" id="S1.I1.i3.p1.1">
       We execute our experiments on two distinct datasets: a publicly available dataset and an industrial dataset from Baidu. Our extensive experimental setup encompasses query evaluation, effectiveness assessments, and robustness performance tests, which collectively affirm the strengths of our proposed framework.
      </p>
     </div>
    </li>
   </ul>
  </div>
  <figure class="ltx_figure" id="S1.F2">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="142" id="S1.F2.g1" src="/html/2312.15450/assets/x2.png" width="368"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 2:
    </span>
    An illustration of the overall architecture of our proposed model.
   </figcaption>
  </figure>
 </section>
 <section class="ltx_section" id="S2">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    II
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S2.1.1">
    Preliminary
   </span>
  </h2>
  <div class="ltx_para" id="S2.p1">
   <p class="ltx_p" id="S2.p1.1">
    In this section, we delineate the principal notations and the mathematical formulation of our research problem, which encompasses query rewriting and ranking tasks.
   </p>
  </div>
  <div class="ltx_para" id="S2.p2">
   <p class="ltx_p" id="S2.p2.8">
    Consider a set of original user queries,
    <math alttext="\mathcal{Q}={q_{0},...,q_{i},...,q_{n}}" class="ltx_Math" display="inline" id="S2.p2.1.m1.5">
     <semantics id="S2.p2.1.m1.5a">
      <mrow id="S2.p2.1.m1.5.5" xref="S2.p2.1.m1.5.5.cmml">
       <mi class="ltx_font_mathcaligraphic" id="S2.p2.1.m1.5.5.5" xref="S2.p2.1.m1.5.5.5.cmml">
        𝒬
       </mi>
       <mo id="S2.p2.1.m1.5.5.4" xref="S2.p2.1.m1.5.5.4.cmml">
        =
       </mo>
       <mrow id="S2.p2.1.m1.5.5.3.3" xref="S2.p2.1.m1.5.5.3.4.cmml">
        <msub id="S2.p2.1.m1.3.3.1.1.1" xref="S2.p2.1.m1.3.3.1.1.1.cmml">
         <mi id="S2.p2.1.m1.3.3.1.1.1.2" xref="S2.p2.1.m1.3.3.1.1.1.2.cmml">
          q
         </mi>
         <mn id="S2.p2.1.m1.3.3.1.1.1.3" xref="S2.p2.1.m1.3.3.1.1.1.3.cmml">
          0
         </mn>
        </msub>
        <mo id="S2.p2.1.m1.5.5.3.3.4" xref="S2.p2.1.m1.5.5.3.4.cmml">
         ,
        </mo>
        <mi id="S2.p2.1.m1.1.1" mathvariant="normal" xref="S2.p2.1.m1.1.1.cmml">
         …
        </mi>
        <mo id="S2.p2.1.m1.5.5.3.3.5" xref="S2.p2.1.m1.5.5.3.4.cmml">
         ,
        </mo>
        <msub id="S2.p2.1.m1.4.4.2.2.2" xref="S2.p2.1.m1.4.4.2.2.2.cmml">
         <mi id="S2.p2.1.m1.4.4.2.2.2.2" xref="S2.p2.1.m1.4.4.2.2.2.2.cmml">
          q
         </mi>
         <mi id="S2.p2.1.m1.4.4.2.2.2.3" xref="S2.p2.1.m1.4.4.2.2.2.3.cmml">
          i
         </mi>
        </msub>
        <mo id="S2.p2.1.m1.5.5.3.3.6" xref="S2.p2.1.m1.5.5.3.4.cmml">
         ,
        </mo>
        <mi id="S2.p2.1.m1.2.2" mathvariant="normal" xref="S2.p2.1.m1.2.2.cmml">
         …
        </mi>
        <mo id="S2.p2.1.m1.5.5.3.3.7" xref="S2.p2.1.m1.5.5.3.4.cmml">
         ,
        </mo>
        <msub id="S2.p2.1.m1.5.5.3.3.3" xref="S2.p2.1.m1.5.5.3.3.3.cmml">
         <mi id="S2.p2.1.m1.5.5.3.3.3.2" xref="S2.p2.1.m1.5.5.3.3.3.2.cmml">
          q
         </mi>
         <mi id="S2.p2.1.m1.5.5.3.3.3.3" xref="S2.p2.1.m1.5.5.3.3.3.3.cmml">
          n
         </mi>
        </msub>
       </mrow>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.5b">
       <apply id="S2.p2.1.m1.5.5.cmml" xref="S2.p2.1.m1.5.5">
        <eq id="S2.p2.1.m1.5.5.4.cmml" xref="S2.p2.1.m1.5.5.4">
        </eq>
        <ci id="S2.p2.1.m1.5.5.5.cmml" xref="S2.p2.1.m1.5.5.5">
         𝒬
        </ci>
        <list id="S2.p2.1.m1.5.5.3.4.cmml" xref="S2.p2.1.m1.5.5.3.3">
         <apply id="S2.p2.1.m1.3.3.1.1.1.cmml" xref="S2.p2.1.m1.3.3.1.1.1">
          <csymbol cd="ambiguous" id="S2.p2.1.m1.3.3.1.1.1.1.cmml" xref="S2.p2.1.m1.3.3.1.1.1">
           subscript
          </csymbol>
          <ci id="S2.p2.1.m1.3.3.1.1.1.2.cmml" xref="S2.p2.1.m1.3.3.1.1.1.2">
           𝑞
          </ci>
          <cn id="S2.p2.1.m1.3.3.1.1.1.3.cmml" type="integer" xref="S2.p2.1.m1.3.3.1.1.1.3">
           0
          </cn>
         </apply>
         <ci id="S2.p2.1.m1.1.1.cmml" xref="S2.p2.1.m1.1.1">
          …
         </ci>
         <apply id="S2.p2.1.m1.4.4.2.2.2.cmml" xref="S2.p2.1.m1.4.4.2.2.2">
          <csymbol cd="ambiguous" id="S2.p2.1.m1.4.4.2.2.2.1.cmml" xref="S2.p2.1.m1.4.4.2.2.2">
           subscript
          </csymbol>
          <ci id="S2.p2.1.m1.4.4.2.2.2.2.cmml" xref="S2.p2.1.m1.4.4.2.2.2.2">
           𝑞
          </ci>
          <ci id="S2.p2.1.m1.4.4.2.2.2.3.cmml" xref="S2.p2.1.m1.4.4.2.2.2.3">
           𝑖
          </ci>
         </apply>
         <ci id="S2.p2.1.m1.2.2.cmml" xref="S2.p2.1.m1.2.2">
          …
         </ci>
         <apply id="S2.p2.1.m1.5.5.3.3.3.cmml" xref="S2.p2.1.m1.5.5.3.3.3">
          <csymbol cd="ambiguous" id="S2.p2.1.m1.5.5.3.3.3.1.cmml" xref="S2.p2.1.m1.5.5.3.3.3">
           subscript
          </csymbol>
          <ci id="S2.p2.1.m1.5.5.3.3.3.2.cmml" xref="S2.p2.1.m1.5.5.3.3.3.2">
           𝑞
          </ci>
          <ci id="S2.p2.1.m1.5.5.3.3.3.3.cmml" xref="S2.p2.1.m1.5.5.3.3.3.3">
           𝑛
          </ci>
         </apply>
        </list>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p2.1.m1.5c">
       \mathcal{Q}={q_{0},...,q_{i},...,q_{n}}
      </annotation>
     </semantics>
    </math>
    , with
    <math alttext="n" class="ltx_Math" display="inline" id="S2.p2.2.m2.1">
     <semantics id="S2.p2.2.m2.1a">
      <mi id="S2.p2.2.m2.1.1" xref="S2.p2.2.m2.1.1.cmml">
       n
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p2.2.m2.1b">
       <ci id="S2.p2.2.m2.1.1.cmml" xref="S2.p2.2.m2.1.1">
        𝑛
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p2.2.m2.1c">
       n
      </annotation>
     </semantics>
    </math>
    representing the total number of queries. Our objective is to rewrite these queries from
    <math alttext="K" class="ltx_Math" display="inline" id="S2.p2.3.m3.1">
     <semantics id="S2.p2.3.m3.1a">
      <mi id="S2.p2.3.m3.1.1" xref="S2.p2.3.m3.1.1.cmml">
       K
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p2.3.m3.1b">
       <ci id="S2.p2.3.m3.1.1.cmml" xref="S2.p2.3.m3.1.1">
        𝐾
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p2.3.m3.1c">
       K
      </annotation>
     </semantics>
    </math>
    distinct perspectives. We define the
    <math alttext="k" class="ltx_Math" display="inline" id="S2.p2.4.m4.1">
     <semantics id="S2.p2.4.m4.1a">
      <mi id="S2.p2.4.m4.1.1" xref="S2.p2.4.m4.1.1.cmml">
       k
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p2.4.m4.1b">
       <ci id="S2.p2.4.m4.1.1.cmml" xref="S2.p2.4.m4.1.1">
        𝑘
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p2.4.m4.1c">
       k
      </annotation>
     </semantics>
    </math>
    -th rewriting function as
    <math alttext="\mathcal{F}{\theta{k}}" class="ltx_Math" display="inline" id="S2.p2.5.m5.1">
     <semantics id="S2.p2.5.m5.1a">
      <mrow id="S2.p2.5.m5.1.1" xref="S2.p2.5.m5.1.1.cmml">
       <mi class="ltx_font_mathcaligraphic" id="S2.p2.5.m5.1.1.2" xref="S2.p2.5.m5.1.1.2.cmml">
        ℱ
       </mi>
       <mo id="S2.p2.5.m5.1.1.1" lspace="0em" rspace="0em" xref="S2.p2.5.m5.1.1.1.cmml">
        ​
       </mo>
       <mi id="S2.p2.5.m5.1.1.3" xref="S2.p2.5.m5.1.1.3.cmml">
        θ
       </mi>
       <mo id="S2.p2.5.m5.1.1.1a" lspace="0em" rspace="0em" xref="S2.p2.5.m5.1.1.1.cmml">
        ​
       </mo>
       <mi id="S2.p2.5.m5.1.1.4" xref="S2.p2.5.m5.1.1.4.cmml">
        k
       </mi>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S2.p2.5.m5.1b">
       <apply id="S2.p2.5.m5.1.1.cmml" xref="S2.p2.5.m5.1.1">
        <times id="S2.p2.5.m5.1.1.1.cmml" xref="S2.p2.5.m5.1.1.1">
        </times>
        <ci id="S2.p2.5.m5.1.1.2.cmml" xref="S2.p2.5.m5.1.1.2">
         ℱ
        </ci>
        <ci id="S2.p2.5.m5.1.1.3.cmml" xref="S2.p2.5.m5.1.1.3">
         𝜃
        </ci>
        <ci id="S2.p2.5.m5.1.1.4.cmml" xref="S2.p2.5.m5.1.1.4">
         𝑘
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p2.5.m5.1c">
       \mathcal{F}{\theta{k}}
      </annotation>
     </semantics>
    </math>
    , where
    <math alttext="\theta_{k}" class="ltx_Math" display="inline" id="S2.p2.6.m6.1">
     <semantics id="S2.p2.6.m6.1a">
      <msub id="S2.p2.6.m6.1.1" xref="S2.p2.6.m6.1.1.cmml">
       <mi id="S2.p2.6.m6.1.1.2" xref="S2.p2.6.m6.1.1.2.cmml">
        θ
       </mi>
       <mi id="S2.p2.6.m6.1.1.3" xref="S2.p2.6.m6.1.1.3.cmml">
        k
       </mi>
      </msub>
      <annotation-xml encoding="MathML-Content" id="S2.p2.6.m6.1b">
       <apply id="S2.p2.6.m6.1.1.cmml" xref="S2.p2.6.m6.1.1">
        <csymbol cd="ambiguous" id="S2.p2.6.m6.1.1.1.cmml" xref="S2.p2.6.m6.1.1">
         subscript
        </csymbol>
        <ci id="S2.p2.6.m6.1.1.2.cmml" xref="S2.p2.6.m6.1.1.2">
         𝜃
        </ci>
        <ci id="S2.p2.6.m6.1.1.3.cmml" xref="S2.p2.6.m6.1.1.3">
         𝑘
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p2.6.m6.1c">
       \theta_{k}
      </annotation>
     </semantics>
    </math>
    parameterizes the rewriting process. The set of rewritten queries corresponding to the
    <math alttext="k" class="ltx_Math" display="inline" id="S2.p2.7.m7.1">
     <semantics id="S2.p2.7.m7.1a">
      <mi id="S2.p2.7.m7.1.1" xref="S2.p2.7.m7.1.1.cmml">
       k
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p2.7.m7.1b">
       <ci id="S2.p2.7.m7.1.1.cmml" xref="S2.p2.7.m7.1.1">
        𝑘
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p2.7.m7.1c">
       k
      </annotation>
     </semantics>
    </math>
    -th perspective is represented as
    <math alttext="\widetilde{\mathcal{Q}}^{k}={\widetilde{q}^{k}_{0},...,\widetilde{q}^{k}_{i},...,\widetilde{q}^{k}n}" class="ltx_Math" display="inline" id="S2.p2.8.m8.5">
     <semantics id="S2.p2.8.m8.5a">
      <mrow id="S2.p2.8.m8.5.5" xref="S2.p2.8.m8.5.5.cmml">
       <msup id="S2.p2.8.m8.5.5.5" xref="S2.p2.8.m8.5.5.5.cmml">
        <mover accent="true" id="S2.p2.8.m8.5.5.5.2" xref="S2.p2.8.m8.5.5.5.2.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S2.p2.8.m8.5.5.5.2.2" xref="S2.p2.8.m8.5.5.5.2.2.cmml">
          𝒬
         </mi>
         <mo id="S2.p2.8.m8.5.5.5.2.1" xref="S2.p2.8.m8.5.5.5.2.1.cmml">
          ~
         </mo>
        </mover>
        <mi id="S2.p2.8.m8.5.5.5.3" xref="S2.p2.8.m8.5.5.5.3.cmml">
         k
        </mi>
       </msup>
       <mo id="S2.p2.8.m8.5.5.4" xref="S2.p2.8.m8.5.5.4.cmml">
        =
       </mo>
       <mrow id="S2.p2.8.m8.5.5.3.3" xref="S2.p2.8.m8.5.5.3.4.cmml">
        <msubsup id="S2.p2.8.m8.3.3.1.1.1" xref="S2.p2.8.m8.3.3.1.1.1.cmml">
         <mover accent="true" id="S2.p2.8.m8.3.3.1.1.1.2.2" xref="S2.p2.8.m8.3.3.1.1.1.2.2.cmml">
          <mi id="S2.p2.8.m8.3.3.1.1.1.2.2.2" xref="S2.p2.8.m8.3.3.1.1.1.2.2.2.cmml">
           q
          </mi>
          <mo id="S2.p2.8.m8.3.3.1.1.1.2.2.1" xref="S2.p2.8.m8.3.3.1.1.1.2.2.1.cmml">
           ~
          </mo>
         </mover>
         <mn id="S2.p2.8.m8.3.3.1.1.1.3" xref="S2.p2.8.m8.3.3.1.1.1.3.cmml">
          0
         </mn>
         <mi id="S2.p2.8.m8.3.3.1.1.1.2.3" xref="S2.p2.8.m8.3.3.1.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <mo id="S2.p2.8.m8.5.5.3.3.4" xref="S2.p2.8.m8.5.5.3.4.cmml">
         ,
        </mo>
        <mi id="S2.p2.8.m8.1.1" mathvariant="normal" xref="S2.p2.8.m8.1.1.cmml">
         …
        </mi>
        <mo id="S2.p2.8.m8.5.5.3.3.5" xref="S2.p2.8.m8.5.5.3.4.cmml">
         ,
        </mo>
        <msubsup id="S2.p2.8.m8.4.4.2.2.2" xref="S2.p2.8.m8.4.4.2.2.2.cmml">
         <mover accent="true" id="S2.p2.8.m8.4.4.2.2.2.2.2" xref="S2.p2.8.m8.4.4.2.2.2.2.2.cmml">
          <mi id="S2.p2.8.m8.4.4.2.2.2.2.2.2" xref="S2.p2.8.m8.4.4.2.2.2.2.2.2.cmml">
           q
          </mi>
          <mo id="S2.p2.8.m8.4.4.2.2.2.2.2.1" xref="S2.p2.8.m8.4.4.2.2.2.2.2.1.cmml">
           ~
          </mo>
         </mover>
         <mi id="S2.p2.8.m8.4.4.2.2.2.3" xref="S2.p2.8.m8.4.4.2.2.2.3.cmml">
          i
         </mi>
         <mi id="S2.p2.8.m8.4.4.2.2.2.2.3" xref="S2.p2.8.m8.4.4.2.2.2.2.3.cmml">
          k
         </mi>
        </msubsup>
        <mo id="S2.p2.8.m8.5.5.3.3.6" xref="S2.p2.8.m8.5.5.3.4.cmml">
         ,
        </mo>
        <mi id="S2.p2.8.m8.2.2" mathvariant="normal" xref="S2.p2.8.m8.2.2.cmml">
         …
        </mi>
        <mo id="S2.p2.8.m8.5.5.3.3.7" xref="S2.p2.8.m8.5.5.3.4.cmml">
         ,
        </mo>
        <mrow id="S2.p2.8.m8.5.5.3.3.3" xref="S2.p2.8.m8.5.5.3.3.3.cmml">
         <msup id="S2.p2.8.m8.5.5.3.3.3.2" xref="S2.p2.8.m8.5.5.3.3.3.2.cmml">
          <mover accent="true" id="S2.p2.8.m8.5.5.3.3.3.2.2" xref="S2.p2.8.m8.5.5.3.3.3.2.2.cmml">
           <mi id="S2.p2.8.m8.5.5.3.3.3.2.2.2" xref="S2.p2.8.m8.5.5.3.3.3.2.2.2.cmml">
            q
           </mi>
           <mo id="S2.p2.8.m8.5.5.3.3.3.2.2.1" xref="S2.p2.8.m8.5.5.3.3.3.2.2.1.cmml">
            ~
           </mo>
          </mover>
          <mi id="S2.p2.8.m8.5.5.3.3.3.2.3" xref="S2.p2.8.m8.5.5.3.3.3.2.3.cmml">
           k
          </mi>
         </msup>
         <mo id="S2.p2.8.m8.5.5.3.3.3.1" lspace="0em" rspace="0em" xref="S2.p2.8.m8.5.5.3.3.3.1.cmml">
          ​
         </mo>
         <mi id="S2.p2.8.m8.5.5.3.3.3.3" xref="S2.p2.8.m8.5.5.3.3.3.3.cmml">
          n
         </mi>
        </mrow>
       </mrow>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S2.p2.8.m8.5b">
       <apply id="S2.p2.8.m8.5.5.cmml" xref="S2.p2.8.m8.5.5">
        <eq id="S2.p2.8.m8.5.5.4.cmml" xref="S2.p2.8.m8.5.5.4">
        </eq>
        <apply id="S2.p2.8.m8.5.5.5.cmml" xref="S2.p2.8.m8.5.5.5">
         <csymbol cd="ambiguous" id="S2.p2.8.m8.5.5.5.1.cmml" xref="S2.p2.8.m8.5.5.5">
          superscript
         </csymbol>
         <apply id="S2.p2.8.m8.5.5.5.2.cmml" xref="S2.p2.8.m8.5.5.5.2">
          <ci id="S2.p2.8.m8.5.5.5.2.1.cmml" xref="S2.p2.8.m8.5.5.5.2.1">
           ~
          </ci>
          <ci id="S2.p2.8.m8.5.5.5.2.2.cmml" xref="S2.p2.8.m8.5.5.5.2.2">
           𝒬
          </ci>
         </apply>
         <ci id="S2.p2.8.m8.5.5.5.3.cmml" xref="S2.p2.8.m8.5.5.5.3">
          𝑘
         </ci>
        </apply>
        <list id="S2.p2.8.m8.5.5.3.4.cmml" xref="S2.p2.8.m8.5.5.3.3">
         <apply id="S2.p2.8.m8.3.3.1.1.1.cmml" xref="S2.p2.8.m8.3.3.1.1.1">
          <csymbol cd="ambiguous" id="S2.p2.8.m8.3.3.1.1.1.1.cmml" xref="S2.p2.8.m8.3.3.1.1.1">
           subscript
          </csymbol>
          <apply id="S2.p2.8.m8.3.3.1.1.1.2.cmml" xref="S2.p2.8.m8.3.3.1.1.1">
           <csymbol cd="ambiguous" id="S2.p2.8.m8.3.3.1.1.1.2.1.cmml" xref="S2.p2.8.m8.3.3.1.1.1">
            superscript
           </csymbol>
           <apply id="S2.p2.8.m8.3.3.1.1.1.2.2.cmml" xref="S2.p2.8.m8.3.3.1.1.1.2.2">
            <ci id="S2.p2.8.m8.3.3.1.1.1.2.2.1.cmml" xref="S2.p2.8.m8.3.3.1.1.1.2.2.1">
             ~
            </ci>
            <ci id="S2.p2.8.m8.3.3.1.1.1.2.2.2.cmml" xref="S2.p2.8.m8.3.3.1.1.1.2.2.2">
             𝑞
            </ci>
           </apply>
           <ci id="S2.p2.8.m8.3.3.1.1.1.2.3.cmml" xref="S2.p2.8.m8.3.3.1.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <cn id="S2.p2.8.m8.3.3.1.1.1.3.cmml" type="integer" xref="S2.p2.8.m8.3.3.1.1.1.3">
           0
          </cn>
         </apply>
         <ci id="S2.p2.8.m8.1.1.cmml" xref="S2.p2.8.m8.1.1">
          …
         </ci>
         <apply id="S2.p2.8.m8.4.4.2.2.2.cmml" xref="S2.p2.8.m8.4.4.2.2.2">
          <csymbol cd="ambiguous" id="S2.p2.8.m8.4.4.2.2.2.1.cmml" xref="S2.p2.8.m8.4.4.2.2.2">
           subscript
          </csymbol>
          <apply id="S2.p2.8.m8.4.4.2.2.2.2.cmml" xref="S2.p2.8.m8.4.4.2.2.2">
           <csymbol cd="ambiguous" id="S2.p2.8.m8.4.4.2.2.2.2.1.cmml" xref="S2.p2.8.m8.4.4.2.2.2">
            superscript
           </csymbol>
           <apply id="S2.p2.8.m8.4.4.2.2.2.2.2.cmml" xref="S2.p2.8.m8.4.4.2.2.2.2.2">
            <ci id="S2.p2.8.m8.4.4.2.2.2.2.2.1.cmml" xref="S2.p2.8.m8.4.4.2.2.2.2.2.1">
             ~
            </ci>
            <ci id="S2.p2.8.m8.4.4.2.2.2.2.2.2.cmml" xref="S2.p2.8.m8.4.4.2.2.2.2.2.2">
             𝑞
            </ci>
           </apply>
           <ci id="S2.p2.8.m8.4.4.2.2.2.2.3.cmml" xref="S2.p2.8.m8.4.4.2.2.2.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S2.p2.8.m8.4.4.2.2.2.3.cmml" xref="S2.p2.8.m8.4.4.2.2.2.3">
           𝑖
          </ci>
         </apply>
         <ci id="S2.p2.8.m8.2.2.cmml" xref="S2.p2.8.m8.2.2">
          …
         </ci>
         <apply id="S2.p2.8.m8.5.5.3.3.3.cmml" xref="S2.p2.8.m8.5.5.3.3.3">
          <times id="S2.p2.8.m8.5.5.3.3.3.1.cmml" xref="S2.p2.8.m8.5.5.3.3.3.1">
          </times>
          <apply id="S2.p2.8.m8.5.5.3.3.3.2.cmml" xref="S2.p2.8.m8.5.5.3.3.3.2">
           <csymbol cd="ambiguous" id="S2.p2.8.m8.5.5.3.3.3.2.1.cmml" xref="S2.p2.8.m8.5.5.3.3.3.2">
            superscript
           </csymbol>
           <apply id="S2.p2.8.m8.5.5.3.3.3.2.2.cmml" xref="S2.p2.8.m8.5.5.3.3.3.2.2">
            <ci id="S2.p2.8.m8.5.5.3.3.3.2.2.1.cmml" xref="S2.p2.8.m8.5.5.3.3.3.2.2.1">
             ~
            </ci>
            <ci id="S2.p2.8.m8.5.5.3.3.3.2.2.2.cmml" xref="S2.p2.8.m8.5.5.3.3.3.2.2.2">
             𝑞
            </ci>
           </apply>
           <ci id="S2.p2.8.m8.5.5.3.3.3.2.3.cmml" xref="S2.p2.8.m8.5.5.3.3.3.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S2.p2.8.m8.5.5.3.3.3.3.cmml" xref="S2.p2.8.m8.5.5.3.3.3.3">
           𝑛
          </ci>
         </apply>
        </list>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p2.8.m8.5c">
       \widetilde{\mathcal{Q}}^{k}={\widetilde{q}^{k}_{0},...,\widetilde{q}^{k}_{i},...,\widetilde{q}^{k}n}
      </annotation>
     </semantics>
    </math>
    . This process can be formalized as
   </p>
   <table class="ltx_equation ltx_eqn_table" id="S2.Ex1">
    <tbody>
     <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
      <td class="ltx_eqn_cell ltx_eqn_center_padleft">
      </td>
      <td class="ltx_eqn_cell ltx_align_center">
       <math alttext="\mathcal{F}{\theta_{k}}:\mathcal{Q}\rightarrow\widetilde{\mathcal{Q}}^{k},~{}k\in[1,...,K]" class="ltx_Math" display="block" id="S2.Ex1.m1.5">
        <semantics id="S2.Ex1.m1.5a">
         <mrow id="S2.Ex1.m1.5.5" xref="S2.Ex1.m1.5.5.cmml">
          <mrow id="S2.Ex1.m1.5.5.4" xref="S2.Ex1.m1.5.5.4.cmml">
           <mi class="ltx_font_mathcaligraphic" id="S2.Ex1.m1.5.5.4.2" xref="S2.Ex1.m1.5.5.4.2.cmml">
            ℱ
           </mi>
           <mo id="S2.Ex1.m1.5.5.4.1" lspace="0em" rspace="0em" xref="S2.Ex1.m1.5.5.4.1.cmml">
            ​
           </mo>
           <msub id="S2.Ex1.m1.5.5.4.3" xref="S2.Ex1.m1.5.5.4.3.cmml">
            <mi id="S2.Ex1.m1.5.5.4.3.2" xref="S2.Ex1.m1.5.5.4.3.2.cmml">
             θ
            </mi>
            <mi id="S2.Ex1.m1.5.5.4.3.3" xref="S2.Ex1.m1.5.5.4.3.3.cmml">
             k
            </mi>
           </msub>
          </mrow>
          <mo id="S2.Ex1.m1.5.5.3" lspace="0.278em" rspace="0.278em" xref="S2.Ex1.m1.5.5.3.cmml">
           :
          </mo>
          <mrow id="S2.Ex1.m1.5.5.2.2" xref="S2.Ex1.m1.5.5.2.3.cmml">
           <mrow id="S2.Ex1.m1.4.4.1.1.1" xref="S2.Ex1.m1.4.4.1.1.1.cmml">
            <mi class="ltx_font_mathcaligraphic" id="S2.Ex1.m1.4.4.1.1.1.2" xref="S2.Ex1.m1.4.4.1.1.1.2.cmml">
             𝒬
            </mi>
            <mo id="S2.Ex1.m1.4.4.1.1.1.1" stretchy="false" xref="S2.Ex1.m1.4.4.1.1.1.1.cmml">
             →
            </mo>
            <msup id="S2.Ex1.m1.4.4.1.1.1.3" xref="S2.Ex1.m1.4.4.1.1.1.3.cmml">
             <mover accent="true" id="S2.Ex1.m1.4.4.1.1.1.3.2" xref="S2.Ex1.m1.4.4.1.1.1.3.2.cmml">
              <mi class="ltx_font_mathcaligraphic" id="S2.Ex1.m1.4.4.1.1.1.3.2.2" xref="S2.Ex1.m1.4.4.1.1.1.3.2.2.cmml">
               𝒬
              </mi>
              <mo id="S2.Ex1.m1.4.4.1.1.1.3.2.1" xref="S2.Ex1.m1.4.4.1.1.1.3.2.1.cmml">
               ~
              </mo>
             </mover>
             <mi id="S2.Ex1.m1.4.4.1.1.1.3.3" xref="S2.Ex1.m1.4.4.1.1.1.3.3.cmml">
              k
             </mi>
            </msup>
           </mrow>
           <mo id="S2.Ex1.m1.5.5.2.2.3" rspace="0.497em" xref="S2.Ex1.m1.5.5.2.3a.cmml">
            ,
           </mo>
           <mrow id="S2.Ex1.m1.5.5.2.2.2" xref="S2.Ex1.m1.5.5.2.2.2.cmml">
            <mi id="S2.Ex1.m1.5.5.2.2.2.2" xref="S2.Ex1.m1.5.5.2.2.2.2.cmml">
             k
            </mi>
            <mo id="S2.Ex1.m1.5.5.2.2.2.1" xref="S2.Ex1.m1.5.5.2.2.2.1.cmml">
             ∈
            </mo>
            <mrow id="S2.Ex1.m1.5.5.2.2.2.3.2" xref="S2.Ex1.m1.5.5.2.2.2.3.1.cmml">
             <mo id="S2.Ex1.m1.5.5.2.2.2.3.2.1" stretchy="false" xref="S2.Ex1.m1.5.5.2.2.2.3.1.cmml">
              [
             </mo>
             <mn id="S2.Ex1.m1.1.1" xref="S2.Ex1.m1.1.1.cmml">
              1
             </mn>
             <mo id="S2.Ex1.m1.5.5.2.2.2.3.2.2" xref="S2.Ex1.m1.5.5.2.2.2.3.1.cmml">
              ,
             </mo>
             <mi id="S2.Ex1.m1.2.2" mathvariant="normal" xref="S2.Ex1.m1.2.2.cmml">
              …
             </mi>
             <mo id="S2.Ex1.m1.5.5.2.2.2.3.2.3" xref="S2.Ex1.m1.5.5.2.2.2.3.1.cmml">
              ,
             </mo>
             <mi id="S2.Ex1.m1.3.3" xref="S2.Ex1.m1.3.3.cmml">
              K
             </mi>
             <mo id="S2.Ex1.m1.5.5.2.2.2.3.2.4" stretchy="false" xref="S2.Ex1.m1.5.5.2.2.2.3.1.cmml">
              ]
             </mo>
            </mrow>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="S2.Ex1.m1.5b">
          <apply id="S2.Ex1.m1.5.5.cmml" xref="S2.Ex1.m1.5.5">
           <ci id="S2.Ex1.m1.5.5.3.cmml" xref="S2.Ex1.m1.5.5.3">
            :
           </ci>
           <apply id="S2.Ex1.m1.5.5.4.cmml" xref="S2.Ex1.m1.5.5.4">
            <times id="S2.Ex1.m1.5.5.4.1.cmml" xref="S2.Ex1.m1.5.5.4.1">
            </times>
            <ci id="S2.Ex1.m1.5.5.4.2.cmml" xref="S2.Ex1.m1.5.5.4.2">
             ℱ
            </ci>
            <apply id="S2.Ex1.m1.5.5.4.3.cmml" xref="S2.Ex1.m1.5.5.4.3">
             <csymbol cd="ambiguous" id="S2.Ex1.m1.5.5.4.3.1.cmml" xref="S2.Ex1.m1.5.5.4.3">
              subscript
             </csymbol>
             <ci id="S2.Ex1.m1.5.5.4.3.2.cmml" xref="S2.Ex1.m1.5.5.4.3.2">
              𝜃
             </ci>
             <ci id="S2.Ex1.m1.5.5.4.3.3.cmml" xref="S2.Ex1.m1.5.5.4.3.3">
              𝑘
             </ci>
            </apply>
           </apply>
           <apply id="S2.Ex1.m1.5.5.2.3.cmml" xref="S2.Ex1.m1.5.5.2.2">
            <csymbol cd="ambiguous" id="S2.Ex1.m1.5.5.2.3a.cmml" xref="S2.Ex1.m1.5.5.2.2.3">
             formulae-sequence
            </csymbol>
            <apply id="S2.Ex1.m1.4.4.1.1.1.cmml" xref="S2.Ex1.m1.4.4.1.1.1">
             <ci id="S2.Ex1.m1.4.4.1.1.1.1.cmml" xref="S2.Ex1.m1.4.4.1.1.1.1">
              →
             </ci>
             <ci id="S2.Ex1.m1.4.4.1.1.1.2.cmml" xref="S2.Ex1.m1.4.4.1.1.1.2">
              𝒬
             </ci>
             <apply id="S2.Ex1.m1.4.4.1.1.1.3.cmml" xref="S2.Ex1.m1.4.4.1.1.1.3">
              <csymbol cd="ambiguous" id="S2.Ex1.m1.4.4.1.1.1.3.1.cmml" xref="S2.Ex1.m1.4.4.1.1.1.3">
               superscript
              </csymbol>
              <apply id="S2.Ex1.m1.4.4.1.1.1.3.2.cmml" xref="S2.Ex1.m1.4.4.1.1.1.3.2">
               <ci id="S2.Ex1.m1.4.4.1.1.1.3.2.1.cmml" xref="S2.Ex1.m1.4.4.1.1.1.3.2.1">
                ~
               </ci>
               <ci id="S2.Ex1.m1.4.4.1.1.1.3.2.2.cmml" xref="S2.Ex1.m1.4.4.1.1.1.3.2.2">
                𝒬
               </ci>
              </apply>
              <ci id="S2.Ex1.m1.4.4.1.1.1.3.3.cmml" xref="S2.Ex1.m1.4.4.1.1.1.3.3">
               𝑘
              </ci>
             </apply>
            </apply>
            <apply id="S2.Ex1.m1.5.5.2.2.2.cmml" xref="S2.Ex1.m1.5.5.2.2.2">
             <in id="S2.Ex1.m1.5.5.2.2.2.1.cmml" xref="S2.Ex1.m1.5.5.2.2.2.1">
             </in>
             <ci id="S2.Ex1.m1.5.5.2.2.2.2.cmml" xref="S2.Ex1.m1.5.5.2.2.2.2">
              𝑘
             </ci>
             <list id="S2.Ex1.m1.5.5.2.2.2.3.1.cmml" xref="S2.Ex1.m1.5.5.2.2.2.3.2">
              <cn id="S2.Ex1.m1.1.1.cmml" type="integer" xref="S2.Ex1.m1.1.1">
               1
              </cn>
              <ci id="S2.Ex1.m1.2.2.cmml" xref="S2.Ex1.m1.2.2">
               …
              </ci>
              <ci id="S2.Ex1.m1.3.3.cmml" xref="S2.Ex1.m1.3.3">
               𝐾
              </ci>
             </list>
            </apply>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="S2.Ex1.m1.5c">
          \mathcal{F}{\theta_{k}}:\mathcal{Q}\rightarrow\widetilde{\mathcal{Q}}^{k},~{}k\in[1,...,K]
         </annotation>
        </semantics>
       </math>
      </td>
      <td class="ltx_eqn_cell ltx_eqn_center_padright">
      </td>
     </tr>
    </tbody>
   </table>
  </div>
  <div class="ltx_para" id="S2.p3">
   <p class="ltx_p" id="S2.p3.17">
    Suppose each query
    <math alttext="q_{i}" class="ltx_Math" display="inline" id="S2.p3.1.m1.1">
     <semantics id="S2.p3.1.m1.1a">
      <msub id="S2.p3.1.m1.1.1" xref="S2.p3.1.m1.1.1.cmml">
       <mi id="S2.p3.1.m1.1.1.2" xref="S2.p3.1.m1.1.1.2.cmml">
        q
       </mi>
       <mi id="S2.p3.1.m1.1.1.3" xref="S2.p3.1.m1.1.1.3.cmml">
        i
       </mi>
      </msub>
      <annotation-xml encoding="MathML-Content" id="S2.p3.1.m1.1b">
       <apply id="S2.p3.1.m1.1.1.cmml" xref="S2.p3.1.m1.1.1">
        <csymbol cd="ambiguous" id="S2.p3.1.m1.1.1.1.cmml" xref="S2.p3.1.m1.1.1">
         subscript
        </csymbol>
        <ci id="S2.p3.1.m1.1.1.2.cmml" xref="S2.p3.1.m1.1.1.2">
         𝑞
        </ci>
        <ci id="S2.p3.1.m1.1.1.3.cmml" xref="S2.p3.1.m1.1.1.3">
         𝑖
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.1.m1.1c">
       q_{i}
      </annotation>
     </semantics>
    </math>
    in
    <math alttext="\mathcal{Q}" class="ltx_Math" display="inline" id="S2.p3.2.m2.1">
     <semantics id="S2.p3.2.m2.1a">
      <mi class="ltx_font_mathcaligraphic" id="S2.p3.2.m2.1.1" xref="S2.p3.2.m2.1.1.cmml">
       𝒬
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p3.2.m2.1b">
       <ci id="S2.p3.2.m2.1.1.cmml" xref="S2.p3.2.m2.1.1">
        𝒬
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.2.m2.1c">
       \mathcal{Q}
      </annotation>
     </semantics>
    </math>
    is associated with a document list
    <math alttext="\mathcal{D}_{i}=\{d_{i,1},d_{i,2},...,d_{i,n_{q_{i}}}\}" class="ltx_Math" display="inline" id="S2.p3.3.m3.10">
     <semantics id="S2.p3.3.m3.10a">
      <mrow id="S2.p3.3.m3.10.10" xref="S2.p3.3.m3.10.10.cmml">
       <msub id="S2.p3.3.m3.10.10.5" xref="S2.p3.3.m3.10.10.5.cmml">
        <mi class="ltx_font_mathcaligraphic" id="S2.p3.3.m3.10.10.5.2" xref="S2.p3.3.m3.10.10.5.2.cmml">
         𝒟
        </mi>
        <mi id="S2.p3.3.m3.10.10.5.3" xref="S2.p3.3.m3.10.10.5.3.cmml">
         i
        </mi>
       </msub>
       <mo id="S2.p3.3.m3.10.10.4" xref="S2.p3.3.m3.10.10.4.cmml">
        =
       </mo>
       <mrow id="S2.p3.3.m3.10.10.3.3" xref="S2.p3.3.m3.10.10.3.4.cmml">
        <mo id="S2.p3.3.m3.10.10.3.3.4" stretchy="false" xref="S2.p3.3.m3.10.10.3.4.cmml">
         {
        </mo>
        <msub id="S2.p3.3.m3.8.8.1.1.1" xref="S2.p3.3.m3.8.8.1.1.1.cmml">
         <mi id="S2.p3.3.m3.8.8.1.1.1.2" xref="S2.p3.3.m3.8.8.1.1.1.2.cmml">
          d
         </mi>
         <mrow id="S2.p3.3.m3.2.2.2.4" xref="S2.p3.3.m3.2.2.2.3.cmml">
          <mi id="S2.p3.3.m3.1.1.1.1" xref="S2.p3.3.m3.1.1.1.1.cmml">
           i
          </mi>
          <mo id="S2.p3.3.m3.2.2.2.4.1" xref="S2.p3.3.m3.2.2.2.3.cmml">
           ,
          </mo>
          <mn id="S2.p3.3.m3.2.2.2.2" xref="S2.p3.3.m3.2.2.2.2.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <mo id="S2.p3.3.m3.10.10.3.3.5" xref="S2.p3.3.m3.10.10.3.4.cmml">
         ,
        </mo>
        <msub id="S2.p3.3.m3.9.9.2.2.2" xref="S2.p3.3.m3.9.9.2.2.2.cmml">
         <mi id="S2.p3.3.m3.9.9.2.2.2.2" xref="S2.p3.3.m3.9.9.2.2.2.2.cmml">
          d
         </mi>
         <mrow id="S2.p3.3.m3.4.4.2.4" xref="S2.p3.3.m3.4.4.2.3.cmml">
          <mi id="S2.p3.3.m3.3.3.1.1" xref="S2.p3.3.m3.3.3.1.1.cmml">
           i
          </mi>
          <mo id="S2.p3.3.m3.4.4.2.4.1" xref="S2.p3.3.m3.4.4.2.3.cmml">
           ,
          </mo>
          <mn id="S2.p3.3.m3.4.4.2.2" xref="S2.p3.3.m3.4.4.2.2.cmml">
           2
          </mn>
         </mrow>
        </msub>
        <mo id="S2.p3.3.m3.10.10.3.3.6" xref="S2.p3.3.m3.10.10.3.4.cmml">
         ,
        </mo>
        <mi id="S2.p3.3.m3.7.7" mathvariant="normal" xref="S2.p3.3.m3.7.7.cmml">
         …
        </mi>
        <mo id="S2.p3.3.m3.10.10.3.3.7" xref="S2.p3.3.m3.10.10.3.4.cmml">
         ,
        </mo>
        <msub id="S2.p3.3.m3.10.10.3.3.3" xref="S2.p3.3.m3.10.10.3.3.3.cmml">
         <mi id="S2.p3.3.m3.10.10.3.3.3.2" xref="S2.p3.3.m3.10.10.3.3.3.2.cmml">
          d
         </mi>
         <mrow id="S2.p3.3.m3.6.6.2.2" xref="S2.p3.3.m3.6.6.2.3.cmml">
          <mi id="S2.p3.3.m3.5.5.1.1" xref="S2.p3.3.m3.5.5.1.1.cmml">
           i
          </mi>
          <mo id="S2.p3.3.m3.6.6.2.2.2" xref="S2.p3.3.m3.6.6.2.3.cmml">
           ,
          </mo>
          <msub id="S2.p3.3.m3.6.6.2.2.1" xref="S2.p3.3.m3.6.6.2.2.1.cmml">
           <mi id="S2.p3.3.m3.6.6.2.2.1.2" xref="S2.p3.3.m3.6.6.2.2.1.2.cmml">
            n
           </mi>
           <msub id="S2.p3.3.m3.6.6.2.2.1.3" xref="S2.p3.3.m3.6.6.2.2.1.3.cmml">
            <mi id="S2.p3.3.m3.6.6.2.2.1.3.2" xref="S2.p3.3.m3.6.6.2.2.1.3.2.cmml">
             q
            </mi>
            <mi id="S2.p3.3.m3.6.6.2.2.1.3.3" xref="S2.p3.3.m3.6.6.2.2.1.3.3.cmml">
             i
            </mi>
           </msub>
          </msub>
         </mrow>
        </msub>
        <mo id="S2.p3.3.m3.10.10.3.3.8" stretchy="false" xref="S2.p3.3.m3.10.10.3.4.cmml">
         }
        </mo>
       </mrow>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S2.p3.3.m3.10b">
       <apply id="S2.p3.3.m3.10.10.cmml" xref="S2.p3.3.m3.10.10">
        <eq id="S2.p3.3.m3.10.10.4.cmml" xref="S2.p3.3.m3.10.10.4">
        </eq>
        <apply id="S2.p3.3.m3.10.10.5.cmml" xref="S2.p3.3.m3.10.10.5">
         <csymbol cd="ambiguous" id="S2.p3.3.m3.10.10.5.1.cmml" xref="S2.p3.3.m3.10.10.5">
          subscript
         </csymbol>
         <ci id="S2.p3.3.m3.10.10.5.2.cmml" xref="S2.p3.3.m3.10.10.5.2">
          𝒟
         </ci>
         <ci id="S2.p3.3.m3.10.10.5.3.cmml" xref="S2.p3.3.m3.10.10.5.3">
          𝑖
         </ci>
        </apply>
        <set id="S2.p3.3.m3.10.10.3.4.cmml" xref="S2.p3.3.m3.10.10.3.3">
         <apply id="S2.p3.3.m3.8.8.1.1.1.cmml" xref="S2.p3.3.m3.8.8.1.1.1">
          <csymbol cd="ambiguous" id="S2.p3.3.m3.8.8.1.1.1.1.cmml" xref="S2.p3.3.m3.8.8.1.1.1">
           subscript
          </csymbol>
          <ci id="S2.p3.3.m3.8.8.1.1.1.2.cmml" xref="S2.p3.3.m3.8.8.1.1.1.2">
           𝑑
          </ci>
          <list id="S2.p3.3.m3.2.2.2.3.cmml" xref="S2.p3.3.m3.2.2.2.4">
           <ci id="S2.p3.3.m3.1.1.1.1.cmml" xref="S2.p3.3.m3.1.1.1.1">
            𝑖
           </ci>
           <cn id="S2.p3.3.m3.2.2.2.2.cmml" type="integer" xref="S2.p3.3.m3.2.2.2.2">
            1
           </cn>
          </list>
         </apply>
         <apply id="S2.p3.3.m3.9.9.2.2.2.cmml" xref="S2.p3.3.m3.9.9.2.2.2">
          <csymbol cd="ambiguous" id="S2.p3.3.m3.9.9.2.2.2.1.cmml" xref="S2.p3.3.m3.9.9.2.2.2">
           subscript
          </csymbol>
          <ci id="S2.p3.3.m3.9.9.2.2.2.2.cmml" xref="S2.p3.3.m3.9.9.2.2.2.2">
           𝑑
          </ci>
          <list id="S2.p3.3.m3.4.4.2.3.cmml" xref="S2.p3.3.m3.4.4.2.4">
           <ci id="S2.p3.3.m3.3.3.1.1.cmml" xref="S2.p3.3.m3.3.3.1.1">
            𝑖
           </ci>
           <cn id="S2.p3.3.m3.4.4.2.2.cmml" type="integer" xref="S2.p3.3.m3.4.4.2.2">
            2
           </cn>
          </list>
         </apply>
         <ci id="S2.p3.3.m3.7.7.cmml" xref="S2.p3.3.m3.7.7">
          …
         </ci>
         <apply id="S2.p3.3.m3.10.10.3.3.3.cmml" xref="S2.p3.3.m3.10.10.3.3.3">
          <csymbol cd="ambiguous" id="S2.p3.3.m3.10.10.3.3.3.1.cmml" xref="S2.p3.3.m3.10.10.3.3.3">
           subscript
          </csymbol>
          <ci id="S2.p3.3.m3.10.10.3.3.3.2.cmml" xref="S2.p3.3.m3.10.10.3.3.3.2">
           𝑑
          </ci>
          <list id="S2.p3.3.m3.6.6.2.3.cmml" xref="S2.p3.3.m3.6.6.2.2">
           <ci id="S2.p3.3.m3.5.5.1.1.cmml" xref="S2.p3.3.m3.5.5.1.1">
            𝑖
           </ci>
           <apply id="S2.p3.3.m3.6.6.2.2.1.cmml" xref="S2.p3.3.m3.6.6.2.2.1">
            <csymbol cd="ambiguous" id="S2.p3.3.m3.6.6.2.2.1.1.cmml" xref="S2.p3.3.m3.6.6.2.2.1">
             subscript
            </csymbol>
            <ci id="S2.p3.3.m3.6.6.2.2.1.2.cmml" xref="S2.p3.3.m3.6.6.2.2.1.2">
             𝑛
            </ci>
            <apply id="S2.p3.3.m3.6.6.2.2.1.3.cmml" xref="S2.p3.3.m3.6.6.2.2.1.3">
             <csymbol cd="ambiguous" id="S2.p3.3.m3.6.6.2.2.1.3.1.cmml" xref="S2.p3.3.m3.6.6.2.2.1.3">
              subscript
             </csymbol>
             <ci id="S2.p3.3.m3.6.6.2.2.1.3.2.cmml" xref="S2.p3.3.m3.6.6.2.2.1.3.2">
              𝑞
             </ci>
             <ci id="S2.p3.3.m3.6.6.2.2.1.3.3.cmml" xref="S2.p3.3.m3.6.6.2.2.1.3.3">
              𝑖
             </ci>
            </apply>
           </apply>
          </list>
         </apply>
        </set>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.3.m3.10c">
       \mathcal{D}_{i}=\{d_{i,1},d_{i,2},...,d_{i,n_{q_{i}}}\}
      </annotation>
     </semantics>
    </math>
    , and for the corresponding list of labels is
    <math alttext="\boldsymbol{Y}_{i}=\{\boldsymbol{y}_{i,1},\boldsymbol{y}_{i,2},...,\boldsymbol{y}_{i,n_{q_{i}}}\}" class="ltx_Math" display="inline" id="S2.p3.4.m4.10">
     <semantics id="S2.p3.4.m4.10a">
      <mrow id="S2.p3.4.m4.10.10" xref="S2.p3.4.m4.10.10.cmml">
       <msub id="S2.p3.4.m4.10.10.5" xref="S2.p3.4.m4.10.10.5.cmml">
        <mi id="S2.p3.4.m4.10.10.5.2" xref="S2.p3.4.m4.10.10.5.2.cmml">
         𝒀
        </mi>
        <mi id="S2.p3.4.m4.10.10.5.3" xref="S2.p3.4.m4.10.10.5.3.cmml">
         i
        </mi>
       </msub>
       <mo id="S2.p3.4.m4.10.10.4" xref="S2.p3.4.m4.10.10.4.cmml">
        =
       </mo>
       <mrow id="S2.p3.4.m4.10.10.3.3" xref="S2.p3.4.m4.10.10.3.4.cmml">
        <mo id="S2.p3.4.m4.10.10.3.3.4" stretchy="false" xref="S2.p3.4.m4.10.10.3.4.cmml">
         {
        </mo>
        <msub id="S2.p3.4.m4.8.8.1.1.1" xref="S2.p3.4.m4.8.8.1.1.1.cmml">
         <mi id="S2.p3.4.m4.8.8.1.1.1.2" xref="S2.p3.4.m4.8.8.1.1.1.2.cmml">
          𝒚
         </mi>
         <mrow id="S2.p3.4.m4.2.2.2.4" xref="S2.p3.4.m4.2.2.2.3.cmml">
          <mi id="S2.p3.4.m4.1.1.1.1" xref="S2.p3.4.m4.1.1.1.1.cmml">
           i
          </mi>
          <mo id="S2.p3.4.m4.2.2.2.4.1" xref="S2.p3.4.m4.2.2.2.3.cmml">
           ,
          </mo>
          <mn id="S2.p3.4.m4.2.2.2.2" xref="S2.p3.4.m4.2.2.2.2.cmml">
           1
          </mn>
         </mrow>
        </msub>
        <mo id="S2.p3.4.m4.10.10.3.3.5" xref="S2.p3.4.m4.10.10.3.4.cmml">
         ,
        </mo>
        <msub id="S2.p3.4.m4.9.9.2.2.2" xref="S2.p3.4.m4.9.9.2.2.2.cmml">
         <mi id="S2.p3.4.m4.9.9.2.2.2.2" xref="S2.p3.4.m4.9.9.2.2.2.2.cmml">
          𝒚
         </mi>
         <mrow id="S2.p3.4.m4.4.4.2.4" xref="S2.p3.4.m4.4.4.2.3.cmml">
          <mi id="S2.p3.4.m4.3.3.1.1" xref="S2.p3.4.m4.3.3.1.1.cmml">
           i
          </mi>
          <mo id="S2.p3.4.m4.4.4.2.4.1" xref="S2.p3.4.m4.4.4.2.3.cmml">
           ,
          </mo>
          <mn id="S2.p3.4.m4.4.4.2.2" xref="S2.p3.4.m4.4.4.2.2.cmml">
           2
          </mn>
         </mrow>
        </msub>
        <mo id="S2.p3.4.m4.10.10.3.3.6" xref="S2.p3.4.m4.10.10.3.4.cmml">
         ,
        </mo>
        <mi id="S2.p3.4.m4.7.7" mathvariant="normal" xref="S2.p3.4.m4.7.7.cmml">
         …
        </mi>
        <mo id="S2.p3.4.m4.10.10.3.3.7" xref="S2.p3.4.m4.10.10.3.4.cmml">
         ,
        </mo>
        <msub id="S2.p3.4.m4.10.10.3.3.3" xref="S2.p3.4.m4.10.10.3.3.3.cmml">
         <mi id="S2.p3.4.m4.10.10.3.3.3.2" xref="S2.p3.4.m4.10.10.3.3.3.2.cmml">
          𝒚
         </mi>
         <mrow id="S2.p3.4.m4.6.6.2.2" xref="S2.p3.4.m4.6.6.2.3.cmml">
          <mi id="S2.p3.4.m4.5.5.1.1" xref="S2.p3.4.m4.5.5.1.1.cmml">
           i
          </mi>
          <mo id="S2.p3.4.m4.6.6.2.2.2" xref="S2.p3.4.m4.6.6.2.3.cmml">
           ,
          </mo>
          <msub id="S2.p3.4.m4.6.6.2.2.1" xref="S2.p3.4.m4.6.6.2.2.1.cmml">
           <mi id="S2.p3.4.m4.6.6.2.2.1.2" xref="S2.p3.4.m4.6.6.2.2.1.2.cmml">
            n
           </mi>
           <msub id="S2.p3.4.m4.6.6.2.2.1.3" xref="S2.p3.4.m4.6.6.2.2.1.3.cmml">
            <mi id="S2.p3.4.m4.6.6.2.2.1.3.2" xref="S2.p3.4.m4.6.6.2.2.1.3.2.cmml">
             q
            </mi>
            <mi id="S2.p3.4.m4.6.6.2.2.1.3.3" xref="S2.p3.4.m4.6.6.2.2.1.3.3.cmml">
             i
            </mi>
           </msub>
          </msub>
         </mrow>
        </msub>
        <mo id="S2.p3.4.m4.10.10.3.3.8" stretchy="false" xref="S2.p3.4.m4.10.10.3.4.cmml">
         }
        </mo>
       </mrow>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S2.p3.4.m4.10b">
       <apply id="S2.p3.4.m4.10.10.cmml" xref="S2.p3.4.m4.10.10">
        <eq id="S2.p3.4.m4.10.10.4.cmml" xref="S2.p3.4.m4.10.10.4">
        </eq>
        <apply id="S2.p3.4.m4.10.10.5.cmml" xref="S2.p3.4.m4.10.10.5">
         <csymbol cd="ambiguous" id="S2.p3.4.m4.10.10.5.1.cmml" xref="S2.p3.4.m4.10.10.5">
          subscript
         </csymbol>
         <ci id="S2.p3.4.m4.10.10.5.2.cmml" xref="S2.p3.4.m4.10.10.5.2">
          𝒀
         </ci>
         <ci id="S2.p3.4.m4.10.10.5.3.cmml" xref="S2.p3.4.m4.10.10.5.3">
          𝑖
         </ci>
        </apply>
        <set id="S2.p3.4.m4.10.10.3.4.cmml" xref="S2.p3.4.m4.10.10.3.3">
         <apply id="S2.p3.4.m4.8.8.1.1.1.cmml" xref="S2.p3.4.m4.8.8.1.1.1">
          <csymbol cd="ambiguous" id="S2.p3.4.m4.8.8.1.1.1.1.cmml" xref="S2.p3.4.m4.8.8.1.1.1">
           subscript
          </csymbol>
          <ci id="S2.p3.4.m4.8.8.1.1.1.2.cmml" xref="S2.p3.4.m4.8.8.1.1.1.2">
           𝒚
          </ci>
          <list id="S2.p3.4.m4.2.2.2.3.cmml" xref="S2.p3.4.m4.2.2.2.4">
           <ci id="S2.p3.4.m4.1.1.1.1.cmml" xref="S2.p3.4.m4.1.1.1.1">
            𝑖
           </ci>
           <cn id="S2.p3.4.m4.2.2.2.2.cmml" type="integer" xref="S2.p3.4.m4.2.2.2.2">
            1
           </cn>
          </list>
         </apply>
         <apply id="S2.p3.4.m4.9.9.2.2.2.cmml" xref="S2.p3.4.m4.9.9.2.2.2">
          <csymbol cd="ambiguous" id="S2.p3.4.m4.9.9.2.2.2.1.cmml" xref="S2.p3.4.m4.9.9.2.2.2">
           subscript
          </csymbol>
          <ci id="S2.p3.4.m4.9.9.2.2.2.2.cmml" xref="S2.p3.4.m4.9.9.2.2.2.2">
           𝒚
          </ci>
          <list id="S2.p3.4.m4.4.4.2.3.cmml" xref="S2.p3.4.m4.4.4.2.4">
           <ci id="S2.p3.4.m4.3.3.1.1.cmml" xref="S2.p3.4.m4.3.3.1.1">
            𝑖
           </ci>
           <cn id="S2.p3.4.m4.4.4.2.2.cmml" type="integer" xref="S2.p3.4.m4.4.4.2.2">
            2
           </cn>
          </list>
         </apply>
         <ci id="S2.p3.4.m4.7.7.cmml" xref="S2.p3.4.m4.7.7">
          …
         </ci>
         <apply id="S2.p3.4.m4.10.10.3.3.3.cmml" xref="S2.p3.4.m4.10.10.3.3.3">
          <csymbol cd="ambiguous" id="S2.p3.4.m4.10.10.3.3.3.1.cmml" xref="S2.p3.4.m4.10.10.3.3.3">
           subscript
          </csymbol>
          <ci id="S2.p3.4.m4.10.10.3.3.3.2.cmml" xref="S2.p3.4.m4.10.10.3.3.3.2">
           𝒚
          </ci>
          <list id="S2.p3.4.m4.6.6.2.3.cmml" xref="S2.p3.4.m4.6.6.2.2">
           <ci id="S2.p3.4.m4.5.5.1.1.cmml" xref="S2.p3.4.m4.5.5.1.1">
            𝑖
           </ci>
           <apply id="S2.p3.4.m4.6.6.2.2.1.cmml" xref="S2.p3.4.m4.6.6.2.2.1">
            <csymbol cd="ambiguous" id="S2.p3.4.m4.6.6.2.2.1.1.cmml" xref="S2.p3.4.m4.6.6.2.2.1">
             subscript
            </csymbol>
            <ci id="S2.p3.4.m4.6.6.2.2.1.2.cmml" xref="S2.p3.4.m4.6.6.2.2.1.2">
             𝑛
            </ci>
            <apply id="S2.p3.4.m4.6.6.2.2.1.3.cmml" xref="S2.p3.4.m4.6.6.2.2.1.3">
             <csymbol cd="ambiguous" id="S2.p3.4.m4.6.6.2.2.1.3.1.cmml" xref="S2.p3.4.m4.6.6.2.2.1.3">
              subscript
             </csymbol>
             <ci id="S2.p3.4.m4.6.6.2.2.1.3.2.cmml" xref="S2.p3.4.m4.6.6.2.2.1.3.2">
              𝑞
             </ci>
             <ci id="S2.p3.4.m4.6.6.2.2.1.3.3.cmml" xref="S2.p3.4.m4.6.6.2.2.1.3.3">
              𝑖
             </ci>
            </apply>
           </apply>
          </list>
         </apply>
        </set>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.4.m4.10c">
       \boldsymbol{Y}_{i}=\{\boldsymbol{y}_{i,1},\boldsymbol{y}_{i,2},...,\boldsymbol{y}_{i,n_{q_{i}}}\}
      </annotation>
     </semantics>
    </math>
    , where
    <math alttext="n_{q_{i}}" class="ltx_Math" display="inline" id="S2.p3.5.m5.1">
     <semantics id="S2.p3.5.m5.1a">
      <msub id="S2.p3.5.m5.1.1" xref="S2.p3.5.m5.1.1.cmml">
       <mi id="S2.p3.5.m5.1.1.2" xref="S2.p3.5.m5.1.1.2.cmml">
        n
       </mi>
       <msub id="S2.p3.5.m5.1.1.3" xref="S2.p3.5.m5.1.1.3.cmml">
        <mi id="S2.p3.5.m5.1.1.3.2" xref="S2.p3.5.m5.1.1.3.2.cmml">
         q
        </mi>
        <mi id="S2.p3.5.m5.1.1.3.3" xref="S2.p3.5.m5.1.1.3.3.cmml">
         i
        </mi>
       </msub>
      </msub>
      <annotation-xml encoding="MathML-Content" id="S2.p3.5.m5.1b">
       <apply id="S2.p3.5.m5.1.1.cmml" xref="S2.p3.5.m5.1.1">
        <csymbol cd="ambiguous" id="S2.p3.5.m5.1.1.1.cmml" xref="S2.p3.5.m5.1.1">
         subscript
        </csymbol>
        <ci id="S2.p3.5.m5.1.1.2.cmml" xref="S2.p3.5.m5.1.1.2">
         𝑛
        </ci>
        <apply id="S2.p3.5.m5.1.1.3.cmml" xref="S2.p3.5.m5.1.1.3">
         <csymbol cd="ambiguous" id="S2.p3.5.m5.1.1.3.1.cmml" xref="S2.p3.5.m5.1.1.3">
          subscript
         </csymbol>
         <ci id="S2.p3.5.m5.1.1.3.2.cmml" xref="S2.p3.5.m5.1.1.3.2">
          𝑞
         </ci>
         <ci id="S2.p3.5.m5.1.1.3.3.cmml" xref="S2.p3.5.m5.1.1.3.3">
          𝑖
         </ci>
        </apply>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.5.m5.1c">
       n_{q_{i}}
      </annotation>
     </semantics>
    </math>
    represents the length of list
    <math alttext="\mathcal{D}_{i}" class="ltx_Math" display="inline" id="S2.p3.6.m6.1">
     <semantics id="S2.p3.6.m6.1a">
      <msub id="S2.p3.6.m6.1.1" xref="S2.p3.6.m6.1.1.cmml">
       <mi class="ltx_font_mathcaligraphic" id="S2.p3.6.m6.1.1.2" xref="S2.p3.6.m6.1.1.2.cmml">
        𝒟
       </mi>
       <mi id="S2.p3.6.m6.1.1.3" xref="S2.p3.6.m6.1.1.3.cmml">
        i
       </mi>
      </msub>
      <annotation-xml encoding="MathML-Content" id="S2.p3.6.m6.1b">
       <apply id="S2.p3.6.m6.1.1.cmml" xref="S2.p3.6.m6.1.1">
        <csymbol cd="ambiguous" id="S2.p3.6.m6.1.1.1.cmml" xref="S2.p3.6.m6.1.1">
         subscript
        </csymbol>
        <ci id="S2.p3.6.m6.1.1.2.cmml" xref="S2.p3.6.m6.1.1.2">
         𝒟
        </ci>
        <ci id="S2.p3.6.m6.1.1.3.cmml" xref="S2.p3.6.m6.1.1.3">
         𝑖
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.6.m6.1c">
       \mathcal{D}_{i}
      </annotation>
     </semantics>
    </math>
    and
    <math alttext="d_{i,j}" class="ltx_Math" display="inline" id="S2.p3.7.m7.2">
     <semantics id="S2.p3.7.m7.2a">
      <msub id="S2.p3.7.m7.2.3" xref="S2.p3.7.m7.2.3.cmml">
       <mi id="S2.p3.7.m7.2.3.2" xref="S2.p3.7.m7.2.3.2.cmml">
        d
       </mi>
       <mrow id="S2.p3.7.m7.2.2.2.4" xref="S2.p3.7.m7.2.2.2.3.cmml">
        <mi id="S2.p3.7.m7.1.1.1.1" xref="S2.p3.7.m7.1.1.1.1.cmml">
         i
        </mi>
        <mo id="S2.p3.7.m7.2.2.2.4.1" xref="S2.p3.7.m7.2.2.2.3.cmml">
         ,
        </mo>
        <mi id="S2.p3.7.m7.2.2.2.2" xref="S2.p3.7.m7.2.2.2.2.cmml">
         j
        </mi>
       </mrow>
      </msub>
      <annotation-xml encoding="MathML-Content" id="S2.p3.7.m7.2b">
       <apply id="S2.p3.7.m7.2.3.cmml" xref="S2.p3.7.m7.2.3">
        <csymbol cd="ambiguous" id="S2.p3.7.m7.2.3.1.cmml" xref="S2.p3.7.m7.2.3">
         subscript
        </csymbol>
        <ci id="S2.p3.7.m7.2.3.2.cmml" xref="S2.p3.7.m7.2.3.2">
         𝑑
        </ci>
        <list id="S2.p3.7.m7.2.2.2.3.cmml" xref="S2.p3.7.m7.2.2.2.4">
         <ci id="S2.p3.7.m7.1.1.1.1.cmml" xref="S2.p3.7.m7.1.1.1.1">
          𝑖
         </ci>
         <ci id="S2.p3.7.m7.2.2.2.2.cmml" xref="S2.p3.7.m7.2.2.2.2">
          𝑗
         </ci>
        </list>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.7.m7.2c">
       d_{i,j}
      </annotation>
     </semantics>
    </math>
    denotes the
    <math alttext="j" class="ltx_Math" display="inline" id="S2.p3.8.m8.1">
     <semantics id="S2.p3.8.m8.1a">
      <mi id="S2.p3.8.m8.1.1" xref="S2.p3.8.m8.1.1.cmml">
       j
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p3.8.m8.1b">
       <ci id="S2.p3.8.m8.1.1.cmml" xref="S2.p3.8.m8.1.1">
        𝑗
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.8.m8.1c">
       j
      </annotation>
     </semantics>
    </math>
    -th document in document list
    <math alttext="\mathcal{D}_{i}" class="ltx_Math" display="inline" id="S2.p3.9.m9.1">
     <semantics id="S2.p3.9.m9.1a">
      <msub id="S2.p3.9.m9.1.1" xref="S2.p3.9.m9.1.1.cmml">
       <mi class="ltx_font_mathcaligraphic" id="S2.p3.9.m9.1.1.2" xref="S2.p3.9.m9.1.1.2.cmml">
        𝒟
       </mi>
       <mi id="S2.p3.9.m9.1.1.3" xref="S2.p3.9.m9.1.1.3.cmml">
        i
       </mi>
      </msub>
      <annotation-xml encoding="MathML-Content" id="S2.p3.9.m9.1b">
       <apply id="S2.p3.9.m9.1.1.cmml" xref="S2.p3.9.m9.1.1">
        <csymbol cd="ambiguous" id="S2.p3.9.m9.1.1.1.cmml" xref="S2.p3.9.m9.1.1">
         subscript
        </csymbol>
        <ci id="S2.p3.9.m9.1.1.2.cmml" xref="S2.p3.9.m9.1.1.2">
         𝒟
        </ci>
        <ci id="S2.p3.9.m9.1.1.3.cmml" xref="S2.p3.9.m9.1.1.3">
         𝑖
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.9.m9.1c">
       \mathcal{D}_{i}
      </annotation>
     </semantics>
    </math>
    for query
    <math alttext="q_{i}" class="ltx_Math" display="inline" id="S2.p3.10.m10.1">
     <semantics id="S2.p3.10.m10.1a">
      <msub id="S2.p3.10.m10.1.1" xref="S2.p3.10.m10.1.1.cmml">
       <mi id="S2.p3.10.m10.1.1.2" xref="S2.p3.10.m10.1.1.2.cmml">
        q
       </mi>
       <mi id="S2.p3.10.m10.1.1.3" xref="S2.p3.10.m10.1.1.3.cmml">
        i
       </mi>
      </msub>
      <annotation-xml encoding="MathML-Content" id="S2.p3.10.m10.1b">
       <apply id="S2.p3.10.m10.1.1.cmml" xref="S2.p3.10.m10.1.1">
        <csymbol cd="ambiguous" id="S2.p3.10.m10.1.1.1.cmml" xref="S2.p3.10.m10.1.1">
         subscript
        </csymbol>
        <ci id="S2.p3.10.m10.1.1.2.cmml" xref="S2.p3.10.m10.1.1.2">
         𝑞
        </ci>
        <ci id="S2.p3.10.m10.1.1.3.cmml" xref="S2.p3.10.m10.1.1.3">
         𝑖
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.10.m10.1c">
       q_{i}
      </annotation>
     </semantics>
    </math>
    . We consider a ranking model as
    <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S2.p3.11.m11.1">
     <semantics id="S2.p3.11.m11.1a">
      <mi class="ltx_font_mathcaligraphic" id="S2.p3.11.m11.1.1" xref="S2.p3.11.m11.1.1.cmml">
       ℛ
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p3.11.m11.1b">
       <ci id="S2.p3.11.m11.1.1.cmml" xref="S2.p3.11.m11.1.1">
        ℛ
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.11.m11.1c">
       \mathcal{R}
      </annotation>
     </semantics>
    </math>
    , which is trained on the samples
    <math alttext="\{q_{i},\mathcal{D}_{i},\boldsymbol{Y}_{i}\}_{i=1}^{t}" class="ltx_Math" display="inline" id="S2.p3.12.m12.3">
     <semantics id="S2.p3.12.m12.3a">
      <msubsup id="S2.p3.12.m12.3.3" xref="S2.p3.12.m12.3.3.cmml">
       <mrow id="S2.p3.12.m12.3.3.3.3.3" xref="S2.p3.12.m12.3.3.3.3.4.cmml">
        <mo id="S2.p3.12.m12.3.3.3.3.3.4" stretchy="false" xref="S2.p3.12.m12.3.3.3.3.4.cmml">
         {
        </mo>
        <msub id="S2.p3.12.m12.1.1.1.1.1.1" xref="S2.p3.12.m12.1.1.1.1.1.1.cmml">
         <mi id="S2.p3.12.m12.1.1.1.1.1.1.2" xref="S2.p3.12.m12.1.1.1.1.1.1.2.cmml">
          q
         </mi>
         <mi id="S2.p3.12.m12.1.1.1.1.1.1.3" xref="S2.p3.12.m12.1.1.1.1.1.1.3.cmml">
          i
         </mi>
        </msub>
        <mo id="S2.p3.12.m12.3.3.3.3.3.5" xref="S2.p3.12.m12.3.3.3.3.4.cmml">
         ,
        </mo>
        <msub id="S2.p3.12.m12.2.2.2.2.2.2" xref="S2.p3.12.m12.2.2.2.2.2.2.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S2.p3.12.m12.2.2.2.2.2.2.2" xref="S2.p3.12.m12.2.2.2.2.2.2.2.cmml">
          𝒟
         </mi>
         <mi id="S2.p3.12.m12.2.2.2.2.2.2.3" xref="S2.p3.12.m12.2.2.2.2.2.2.3.cmml">
          i
         </mi>
        </msub>
        <mo id="S2.p3.12.m12.3.3.3.3.3.6" xref="S2.p3.12.m12.3.3.3.3.4.cmml">
         ,
        </mo>
        <msub id="S2.p3.12.m12.3.3.3.3.3.3" xref="S2.p3.12.m12.3.3.3.3.3.3.cmml">
         <mi id="S2.p3.12.m12.3.3.3.3.3.3.2" xref="S2.p3.12.m12.3.3.3.3.3.3.2.cmml">
          𝒀
         </mi>
         <mi id="S2.p3.12.m12.3.3.3.3.3.3.3" xref="S2.p3.12.m12.3.3.3.3.3.3.3.cmml">
          i
         </mi>
        </msub>
        <mo id="S2.p3.12.m12.3.3.3.3.3.7" stretchy="false" xref="S2.p3.12.m12.3.3.3.3.4.cmml">
         }
        </mo>
       </mrow>
       <mrow id="S2.p3.12.m12.3.3.3.5" xref="S2.p3.12.m12.3.3.3.5.cmml">
        <mi id="S2.p3.12.m12.3.3.3.5.2" xref="S2.p3.12.m12.3.3.3.5.2.cmml">
         i
        </mi>
        <mo id="S2.p3.12.m12.3.3.3.5.1" xref="S2.p3.12.m12.3.3.3.5.1.cmml">
         =
        </mo>
        <mn id="S2.p3.12.m12.3.3.3.5.3" xref="S2.p3.12.m12.3.3.3.5.3.cmml">
         1
        </mn>
       </mrow>
       <mi id="S2.p3.12.m12.3.3.5" xref="S2.p3.12.m12.3.3.5.cmml">
        t
       </mi>
      </msubsup>
      <annotation-xml encoding="MathML-Content" id="S2.p3.12.m12.3b">
       <apply id="S2.p3.12.m12.3.3.cmml" xref="S2.p3.12.m12.3.3">
        <csymbol cd="ambiguous" id="S2.p3.12.m12.3.3.4.cmml" xref="S2.p3.12.m12.3.3">
         superscript
        </csymbol>
        <apply id="S2.p3.12.m12.3.3.3.cmml" xref="S2.p3.12.m12.3.3">
         <csymbol cd="ambiguous" id="S2.p3.12.m12.3.3.3.4.cmml" xref="S2.p3.12.m12.3.3">
          subscript
         </csymbol>
         <set id="S2.p3.12.m12.3.3.3.3.4.cmml" xref="S2.p3.12.m12.3.3.3.3.3">
          <apply id="S2.p3.12.m12.1.1.1.1.1.1.cmml" xref="S2.p3.12.m12.1.1.1.1.1.1">
           <csymbol cd="ambiguous" id="S2.p3.12.m12.1.1.1.1.1.1.1.cmml" xref="S2.p3.12.m12.1.1.1.1.1.1">
            subscript
           </csymbol>
           <ci id="S2.p3.12.m12.1.1.1.1.1.1.2.cmml" xref="S2.p3.12.m12.1.1.1.1.1.1.2">
            𝑞
           </ci>
           <ci id="S2.p3.12.m12.1.1.1.1.1.1.3.cmml" xref="S2.p3.12.m12.1.1.1.1.1.1.3">
            𝑖
           </ci>
          </apply>
          <apply id="S2.p3.12.m12.2.2.2.2.2.2.cmml" xref="S2.p3.12.m12.2.2.2.2.2.2">
           <csymbol cd="ambiguous" id="S2.p3.12.m12.2.2.2.2.2.2.1.cmml" xref="S2.p3.12.m12.2.2.2.2.2.2">
            subscript
           </csymbol>
           <ci id="S2.p3.12.m12.2.2.2.2.2.2.2.cmml" xref="S2.p3.12.m12.2.2.2.2.2.2.2">
            𝒟
           </ci>
           <ci id="S2.p3.12.m12.2.2.2.2.2.2.3.cmml" xref="S2.p3.12.m12.2.2.2.2.2.2.3">
            𝑖
           </ci>
          </apply>
          <apply id="S2.p3.12.m12.3.3.3.3.3.3.cmml" xref="S2.p3.12.m12.3.3.3.3.3.3">
           <csymbol cd="ambiguous" id="S2.p3.12.m12.3.3.3.3.3.3.1.cmml" xref="S2.p3.12.m12.3.3.3.3.3.3">
            subscript
           </csymbol>
           <ci id="S2.p3.12.m12.3.3.3.3.3.3.2.cmml" xref="S2.p3.12.m12.3.3.3.3.3.3.2">
            𝒀
           </ci>
           <ci id="S2.p3.12.m12.3.3.3.3.3.3.3.cmml" xref="S2.p3.12.m12.3.3.3.3.3.3.3">
            𝑖
           </ci>
          </apply>
         </set>
         <apply id="S2.p3.12.m12.3.3.3.5.cmml" xref="S2.p3.12.m12.3.3.3.5">
          <eq id="S2.p3.12.m12.3.3.3.5.1.cmml" xref="S2.p3.12.m12.3.3.3.5.1">
          </eq>
          <ci id="S2.p3.12.m12.3.3.3.5.2.cmml" xref="S2.p3.12.m12.3.3.3.5.2">
           𝑖
          </ci>
          <cn id="S2.p3.12.m12.3.3.3.5.3.cmml" type="integer" xref="S2.p3.12.m12.3.3.3.5.3">
           1
          </cn>
         </apply>
        </apply>
        <ci id="S2.p3.12.m12.3.3.5.cmml" xref="S2.p3.12.m12.3.3.5">
         𝑡
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.12.m12.3c">
       \{q_{i},\mathcal{D}_{i},\boldsymbol{Y}_{i}\}_{i=1}^{t}
      </annotation>
     </semantics>
    </math>
    drawn from the training dataset distribution
    <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S2.p3.13.m13.1">
     <semantics id="S2.p3.13.m13.1a">
      <mi class="ltx_font_mathcaligraphic" id="S2.p3.13.m13.1.1" xref="S2.p3.13.m13.1.1.cmml">
       𝒢
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p3.13.m13.1b">
       <ci id="S2.p3.13.m13.1.1.cmml" xref="S2.p3.13.m13.1.1">
        𝒢
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.13.m13.1c">
       \mathcal{G}
      </annotation>
     </semantics>
    </math>
    . The ranking process is defined as producing a permutation
    <math alttext="\pi(q_{i},\mathcal{D}_{i},\mathcal{R})" class="ltx_Math" display="inline" id="S2.p3.14.m14.3">
     <semantics id="S2.p3.14.m14.3a">
      <mrow id="S2.p3.14.m14.3.3" xref="S2.p3.14.m14.3.3.cmml">
       <mi id="S2.p3.14.m14.3.3.4" xref="S2.p3.14.m14.3.3.4.cmml">
        π
       </mi>
       <mo id="S2.p3.14.m14.3.3.3" lspace="0em" rspace="0em" xref="S2.p3.14.m14.3.3.3.cmml">
        ​
       </mo>
       <mrow id="S2.p3.14.m14.3.3.2.2" xref="S2.p3.14.m14.3.3.2.3.cmml">
        <mo id="S2.p3.14.m14.3.3.2.2.3" stretchy="false" xref="S2.p3.14.m14.3.3.2.3.cmml">
         (
        </mo>
        <msub id="S2.p3.14.m14.2.2.1.1.1" xref="S2.p3.14.m14.2.2.1.1.1.cmml">
         <mi id="S2.p3.14.m14.2.2.1.1.1.2" xref="S2.p3.14.m14.2.2.1.1.1.2.cmml">
          q
         </mi>
         <mi id="S2.p3.14.m14.2.2.1.1.1.3" xref="S2.p3.14.m14.2.2.1.1.1.3.cmml">
          i
         </mi>
        </msub>
        <mo id="S2.p3.14.m14.3.3.2.2.4" xref="S2.p3.14.m14.3.3.2.3.cmml">
         ,
        </mo>
        <msub id="S2.p3.14.m14.3.3.2.2.2" xref="S2.p3.14.m14.3.3.2.2.2.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S2.p3.14.m14.3.3.2.2.2.2" xref="S2.p3.14.m14.3.3.2.2.2.2.cmml">
          𝒟
         </mi>
         <mi id="S2.p3.14.m14.3.3.2.2.2.3" xref="S2.p3.14.m14.3.3.2.2.2.3.cmml">
          i
         </mi>
        </msub>
        <mo id="S2.p3.14.m14.3.3.2.2.5" xref="S2.p3.14.m14.3.3.2.3.cmml">
         ,
        </mo>
        <mi class="ltx_font_mathcaligraphic" id="S2.p3.14.m14.1.1" xref="S2.p3.14.m14.1.1.cmml">
         ℛ
        </mi>
        <mo id="S2.p3.14.m14.3.3.2.2.6" stretchy="false" xref="S2.p3.14.m14.3.3.2.3.cmml">
         )
        </mo>
       </mrow>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S2.p3.14.m14.3b">
       <apply id="S2.p3.14.m14.3.3.cmml" xref="S2.p3.14.m14.3.3">
        <times id="S2.p3.14.m14.3.3.3.cmml" xref="S2.p3.14.m14.3.3.3">
        </times>
        <ci id="S2.p3.14.m14.3.3.4.cmml" xref="S2.p3.14.m14.3.3.4">
         𝜋
        </ci>
        <vector id="S2.p3.14.m14.3.3.2.3.cmml" xref="S2.p3.14.m14.3.3.2.2">
         <apply id="S2.p3.14.m14.2.2.1.1.1.cmml" xref="S2.p3.14.m14.2.2.1.1.1">
          <csymbol cd="ambiguous" id="S2.p3.14.m14.2.2.1.1.1.1.cmml" xref="S2.p3.14.m14.2.2.1.1.1">
           subscript
          </csymbol>
          <ci id="S2.p3.14.m14.2.2.1.1.1.2.cmml" xref="S2.p3.14.m14.2.2.1.1.1.2">
           𝑞
          </ci>
          <ci id="S2.p3.14.m14.2.2.1.1.1.3.cmml" xref="S2.p3.14.m14.2.2.1.1.1.3">
           𝑖
          </ci>
         </apply>
         <apply id="S2.p3.14.m14.3.3.2.2.2.cmml" xref="S2.p3.14.m14.3.3.2.2.2">
          <csymbol cd="ambiguous" id="S2.p3.14.m14.3.3.2.2.2.1.cmml" xref="S2.p3.14.m14.3.3.2.2.2">
           subscript
          </csymbol>
          <ci id="S2.p3.14.m14.3.3.2.2.2.2.cmml" xref="S2.p3.14.m14.3.3.2.2.2.2">
           𝒟
          </ci>
          <ci id="S2.p3.14.m14.3.3.2.2.2.3.cmml" xref="S2.p3.14.m14.3.3.2.2.2.3">
           𝑖
          </ci>
         </apply>
         <ci id="S2.p3.14.m14.1.1.cmml" xref="S2.p3.14.m14.1.1">
          ℛ
         </ci>
        </vector>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.14.m14.3c">
       \pi(q_{i},\mathcal{D}_{i},\mathcal{R})
      </annotation>
     </semantics>
    </math>
    for the given query
    <math alttext="q_{i}" class="ltx_Math" display="inline" id="S2.p3.15.m15.1">
     <semantics id="S2.p3.15.m15.1a">
      <msub id="S2.p3.15.m15.1.1" xref="S2.p3.15.m15.1.1.cmml">
       <mi id="S2.p3.15.m15.1.1.2" xref="S2.p3.15.m15.1.1.2.cmml">
        q
       </mi>
       <mi id="S2.p3.15.m15.1.1.3" xref="S2.p3.15.m15.1.1.3.cmml">
        i
       </mi>
      </msub>
      <annotation-xml encoding="MathML-Content" id="S2.p3.15.m15.1b">
       <apply id="S2.p3.15.m15.1.1.cmml" xref="S2.p3.15.m15.1.1">
        <csymbol cd="ambiguous" id="S2.p3.15.m15.1.1.1.cmml" xref="S2.p3.15.m15.1.1">
         subscript
        </csymbol>
        <ci id="S2.p3.15.m15.1.1.2.cmml" xref="S2.p3.15.m15.1.1.2">
         𝑞
        </ci>
        <ci id="S2.p3.15.m15.1.1.3.cmml" xref="S2.p3.15.m15.1.1.3">
         𝑖
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.15.m15.1c">
       q_{i}
      </annotation>
     </semantics>
    </math>
    and the corresponding document list
    <math alttext="\mathcal{D}_{i}" class="ltx_Math" display="inline" id="S2.p3.16.m16.1">
     <semantics id="S2.p3.16.m16.1a">
      <msub id="S2.p3.16.m16.1.1" xref="S2.p3.16.m16.1.1.cmml">
       <mi class="ltx_font_mathcaligraphic" id="S2.p3.16.m16.1.1.2" xref="S2.p3.16.m16.1.1.2.cmml">
        𝒟
       </mi>
       <mi id="S2.p3.16.m16.1.1.3" xref="S2.p3.16.m16.1.1.3.cmml">
        i
       </mi>
      </msub>
      <annotation-xml encoding="MathML-Content" id="S2.p3.16.m16.1b">
       <apply id="S2.p3.16.m16.1.1.cmml" xref="S2.p3.16.m16.1.1">
        <csymbol cd="ambiguous" id="S2.p3.16.m16.1.1.1.cmml" xref="S2.p3.16.m16.1.1">
         subscript
        </csymbol>
        <ci id="S2.p3.16.m16.1.1.2.cmml" xref="S2.p3.16.m16.1.1.2">
         𝒟
        </ci>
        <ci id="S2.p3.16.m16.1.1.3.cmml" xref="S2.p3.16.m16.1.1.3">
         𝑖
        </ci>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.16.m16.1c">
       \mathcal{D}_{i}
      </annotation>
     </semantics>
    </math>
    using ranking model
    <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S2.p3.17.m17.1">
     <semantics id="S2.p3.17.m17.1a">
      <mi class="ltx_font_mathcaligraphic" id="S2.p3.17.m17.1.1" xref="S2.p3.17.m17.1.1.cmml">
       ℛ
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p3.17.m17.1b">
       <ci id="S2.p3.17.m17.1.1.cmml" xref="S2.p3.17.m17.1.1">
        ℛ
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p3.17.m17.1c">
       \mathcal{R}
      </annotation>
     </semantics>
    </math>
    .
   </p>
  </div>
  <div class="ltx_para" id="S2.p4">
   <p class="ltx_p" id="S2.p4.4">
    The evaluation of the ranking model’s effectiveness can be expressed as follows
   </p>
   <table class="ltx_equation ltx_eqn_table" id="S2.E1">
    <tbody>
     <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
      <td class="ltx_eqn_cell ltx_eqn_center_padleft">
      </td>
      <td class="ltx_eqn_cell ltx_align_center">
       <math alttext="\mathbb{E}_{(q_{c},\mathcal{D}_{c},\boldsymbol{Y}_{c})}\sim\mathcal{M}\left(\pi\left(q_{c},\mathcal{D}_{c},\mathcal{R}\right),\boldsymbol{Y}_{c}\right)" class="ltx_Math" display="block" id="S2.E1.m1.6">
        <semantics id="S2.E1.m1.6a">
         <mrow id="S2.E1.m1.6.6" xref="S2.E1.m1.6.6.cmml">
          <msub id="S2.E1.m1.6.6.4" xref="S2.E1.m1.6.6.4.cmml">
           <mi id="S2.E1.m1.6.6.4.2" xref="S2.E1.m1.6.6.4.2.cmml">
            𝔼
           </mi>
           <mrow id="S2.E1.m1.3.3.3.3" xref="S2.E1.m1.3.3.3.4.cmml">
            <mo id="S2.E1.m1.3.3.3.3.4" stretchy="false" xref="S2.E1.m1.3.3.3.4.cmml">
             (
            </mo>
            <msub id="S2.E1.m1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.cmml">
             <mi id="S2.E1.m1.1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.1.2.cmml">
              q
             </mi>
             <mi id="S2.E1.m1.1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.1.3.cmml">
              c
             </mi>
            </msub>
            <mo id="S2.E1.m1.3.3.3.3.5" xref="S2.E1.m1.3.3.3.4.cmml">
             ,
            </mo>
            <msub id="S2.E1.m1.2.2.2.2.2" xref="S2.E1.m1.2.2.2.2.2.cmml">
             <mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.2.2.2.2.2.2" xref="S2.E1.m1.2.2.2.2.2.2.cmml">
              𝒟
             </mi>
             <mi id="S2.E1.m1.2.2.2.2.2.3" xref="S2.E1.m1.2.2.2.2.2.3.cmml">
              c
             </mi>
            </msub>
            <mo id="S2.E1.m1.3.3.3.3.6" xref="S2.E1.m1.3.3.3.4.cmml">
             ,
            </mo>
            <msub id="S2.E1.m1.3.3.3.3.3" xref="S2.E1.m1.3.3.3.3.3.cmml">
             <mi id="S2.E1.m1.3.3.3.3.3.2" xref="S2.E1.m1.3.3.3.3.3.2.cmml">
              𝒀
             </mi>
             <mi id="S2.E1.m1.3.3.3.3.3.3" xref="S2.E1.m1.3.3.3.3.3.3.cmml">
              c
             </mi>
            </msub>
            <mo id="S2.E1.m1.3.3.3.3.7" stretchy="false" xref="S2.E1.m1.3.3.3.4.cmml">
             )
            </mo>
           </mrow>
          </msub>
          <mo id="S2.E1.m1.6.6.3" xref="S2.E1.m1.6.6.3.cmml">
           ∼
          </mo>
          <mrow id="S2.E1.m1.6.6.2" xref="S2.E1.m1.6.6.2.cmml">
           <mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.6.6.2.4" xref="S2.E1.m1.6.6.2.4.cmml">
            ℳ
           </mi>
           <mo id="S2.E1.m1.6.6.2.3" lspace="0em" rspace="0em" xref="S2.E1.m1.6.6.2.3.cmml">
            ​
           </mo>
           <mrow id="S2.E1.m1.6.6.2.2.2" xref="S2.E1.m1.6.6.2.2.3.cmml">
            <mo id="S2.E1.m1.6.6.2.2.2.3" xref="S2.E1.m1.6.6.2.2.3.cmml">
             (
            </mo>
            <mrow id="S2.E1.m1.5.5.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.cmml">
             <mi id="S2.E1.m1.5.5.1.1.1.1.4" xref="S2.E1.m1.5.5.1.1.1.1.4.cmml">
              π
             </mi>
             <mo id="S2.E1.m1.5.5.1.1.1.1.3" lspace="0em" rspace="0em" xref="S2.E1.m1.5.5.1.1.1.1.3.cmml">
              ​
             </mo>
             <mrow id="S2.E1.m1.5.5.1.1.1.1.2.2" xref="S2.E1.m1.5.5.1.1.1.1.2.3.cmml">
              <mo id="S2.E1.m1.5.5.1.1.1.1.2.2.3" xref="S2.E1.m1.5.5.1.1.1.1.2.3.cmml">
               (
              </mo>
              <msub id="S2.E1.m1.5.5.1.1.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.cmml">
               <mi id="S2.E1.m1.5.5.1.1.1.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.2.cmml">
                q
               </mi>
               <mi id="S2.E1.m1.5.5.1.1.1.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.3.cmml">
                c
               </mi>
              </msub>
              <mo id="S2.E1.m1.5.5.1.1.1.1.2.2.4" xref="S2.E1.m1.5.5.1.1.1.1.2.3.cmml">
               ,
              </mo>
              <msub id="S2.E1.m1.5.5.1.1.1.1.2.2.2" xref="S2.E1.m1.5.5.1.1.1.1.2.2.2.cmml">
               <mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.5.5.1.1.1.1.2.2.2.2" xref="S2.E1.m1.5.5.1.1.1.1.2.2.2.2.cmml">
                𝒟
               </mi>
               <mi id="S2.E1.m1.5.5.1.1.1.1.2.2.2.3" xref="S2.E1.m1.5.5.1.1.1.1.2.2.2.3.cmml">
                c
               </mi>
              </msub>
              <mo id="S2.E1.m1.5.5.1.1.1.1.2.2.5" xref="S2.E1.m1.5.5.1.1.1.1.2.3.cmml">
               ,
              </mo>
              <mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.4.4" xref="S2.E1.m1.4.4.cmml">
               ℛ
              </mi>
              <mo id="S2.E1.m1.5.5.1.1.1.1.2.2.6" xref="S2.E1.m1.5.5.1.1.1.1.2.3.cmml">
               )
              </mo>
             </mrow>
            </mrow>
            <mo id="S2.E1.m1.6.6.2.2.2.4" xref="S2.E1.m1.6.6.2.2.3.cmml">
             ,
            </mo>
            <msub id="S2.E1.m1.6.6.2.2.2.2" xref="S2.E1.m1.6.6.2.2.2.2.cmml">
             <mi id="S2.E1.m1.6.6.2.2.2.2.2" xref="S2.E1.m1.6.6.2.2.2.2.2.cmml">
              𝒀
             </mi>
             <mi id="S2.E1.m1.6.6.2.2.2.2.3" xref="S2.E1.m1.6.6.2.2.2.2.3.cmml">
              c
             </mi>
            </msub>
            <mo id="S2.E1.m1.6.6.2.2.2.5" xref="S2.E1.m1.6.6.2.2.3.cmml">
             )
            </mo>
           </mrow>
          </mrow>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="S2.E1.m1.6b">
          <apply id="S2.E1.m1.6.6.cmml" xref="S2.E1.m1.6.6">
           <csymbol cd="latexml" id="S2.E1.m1.6.6.3.cmml" xref="S2.E1.m1.6.6.3">
            similar-to
           </csymbol>
           <apply id="S2.E1.m1.6.6.4.cmml" xref="S2.E1.m1.6.6.4">
            <csymbol cd="ambiguous" id="S2.E1.m1.6.6.4.1.cmml" xref="S2.E1.m1.6.6.4">
             subscript
            </csymbol>
            <ci id="S2.E1.m1.6.6.4.2.cmml" xref="S2.E1.m1.6.6.4.2">
             𝔼
            </ci>
            <vector id="S2.E1.m1.3.3.3.4.cmml" xref="S2.E1.m1.3.3.3.3">
             <apply id="S2.E1.m1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1">
              <csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1">
               subscript
              </csymbol>
              <ci id="S2.E1.m1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.1.2">
               𝑞
              </ci>
              <ci id="S2.E1.m1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.1.3">
               𝑐
              </ci>
             </apply>
             <apply id="S2.E1.m1.2.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2">
              <csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.2.2.1.cmml" xref="S2.E1.m1.2.2.2.2.2">
               subscript
              </csymbol>
              <ci id="S2.E1.m1.2.2.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2">
               𝒟
              </ci>
              <ci id="S2.E1.m1.2.2.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.2.2.3">
               𝑐
              </ci>
             </apply>
             <apply id="S2.E1.m1.3.3.3.3.3.cmml" xref="S2.E1.m1.3.3.3.3.3">
              <csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.3.3.1.cmml" xref="S2.E1.m1.3.3.3.3.3">
               subscript
              </csymbol>
              <ci id="S2.E1.m1.3.3.3.3.3.2.cmml" xref="S2.E1.m1.3.3.3.3.3.2">
               𝒀
              </ci>
              <ci id="S2.E1.m1.3.3.3.3.3.3.cmml" xref="S2.E1.m1.3.3.3.3.3.3">
               𝑐
              </ci>
             </apply>
            </vector>
           </apply>
           <apply id="S2.E1.m1.6.6.2.cmml" xref="S2.E1.m1.6.6.2">
            <times id="S2.E1.m1.6.6.2.3.cmml" xref="S2.E1.m1.6.6.2.3">
            </times>
            <ci id="S2.E1.m1.6.6.2.4.cmml" xref="S2.E1.m1.6.6.2.4">
             ℳ
            </ci>
            <interval closure="open" id="S2.E1.m1.6.6.2.2.3.cmml" xref="S2.E1.m1.6.6.2.2.2">
             <apply id="S2.E1.m1.5.5.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1">
              <times id="S2.E1.m1.5.5.1.1.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.1.1.3">
              </times>
              <ci id="S2.E1.m1.5.5.1.1.1.1.4.cmml" xref="S2.E1.m1.5.5.1.1.1.1.4">
               𝜋
              </ci>
              <vector id="S2.E1.m1.5.5.1.1.1.1.2.3.cmml" xref="S2.E1.m1.5.5.1.1.1.1.2.2">
               <apply id="S2.E1.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1">
                 subscript
                </csymbol>
                <ci id="S2.E1.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.2">
                 𝑞
                </ci>
                <ci id="S2.E1.m1.5.5.1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.3">
                 𝑐
                </ci>
               </apply>
               <apply id="S2.E1.m1.5.5.1.1.1.1.2.2.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.2.2.2">
                <csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.1.1.2.2.2.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.2.2.2">
                 subscript
                </csymbol>
                <ci id="S2.E1.m1.5.5.1.1.1.1.2.2.2.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.2.2.2.2">
                 𝒟
                </ci>
                <ci id="S2.E1.m1.5.5.1.1.1.1.2.2.2.3.cmml" xref="S2.E1.m1.5.5.1.1.1.1.2.2.2.3">
                 𝑐
                </ci>
               </apply>
               <ci id="S2.E1.m1.4.4.cmml" xref="S2.E1.m1.4.4">
                ℛ
               </ci>
              </vector>
             </apply>
             <apply id="S2.E1.m1.6.6.2.2.2.2.cmml" xref="S2.E1.m1.6.6.2.2.2.2">
              <csymbol cd="ambiguous" id="S2.E1.m1.6.6.2.2.2.2.1.cmml" xref="S2.E1.m1.6.6.2.2.2.2">
               subscript
              </csymbol>
              <ci id="S2.E1.m1.6.6.2.2.2.2.2.cmml" xref="S2.E1.m1.6.6.2.2.2.2.2">
               𝒀
              </ci>
              <ci id="S2.E1.m1.6.6.2.2.2.2.3.cmml" xref="S2.E1.m1.6.6.2.2.2.2.3">
               𝑐
              </ci>
             </apply>
            </interval>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="S2.E1.m1.6c">
          \mathbb{E}_{(q_{c},\mathcal{D}_{c},\boldsymbol{Y}_{c})}\sim\mathcal{M}\left(\pi\left(q_{c},\mathcal{D}_{c},\mathcal{R}\right),\boldsymbol{Y}_{c}\right)
         </annotation>
        </semantics>
       </math>
      </td>
      <td class="ltx_eqn_cell ltx_eqn_center_padright">
      </td>
      <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
       <span class="ltx_tag ltx_tag_equation ltx_align_right">
        (1)
       </span>
      </td>
     </tr>
    </tbody>
   </table>
   <p class="ltx_p" id="S2.p4.3">
    Here,
    <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S2.p4.1.m1.1">
     <semantics id="S2.p4.1.m1.1a">
      <mi class="ltx_font_mathcaligraphic" id="S2.p4.1.m1.1.1" xref="S2.p4.1.m1.1.1.cmml">
       ℳ
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p4.1.m1.1b">
       <ci id="S2.p4.1.m1.1.1.cmml" xref="S2.p4.1.m1.1.1">
        ℳ
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p4.1.m1.1c">
       \mathcal{M}
      </annotation>
     </semantics>
    </math>
    represents the metric for evaluating effectiveness, and the tuple
    <math alttext="(q_{c},\mathcal{D}_{c},\boldsymbol{Y}_{c})" class="ltx_Math" display="inline" id="S2.p4.2.m2.3">
     <semantics id="S2.p4.2.m2.3a">
      <mrow id="S2.p4.2.m2.3.3.3" xref="S2.p4.2.m2.3.3.4.cmml">
       <mo id="S2.p4.2.m2.3.3.3.4" stretchy="false" xref="S2.p4.2.m2.3.3.4.cmml">
        (
       </mo>
       <msub id="S2.p4.2.m2.1.1.1.1" xref="S2.p4.2.m2.1.1.1.1.cmml">
        <mi id="S2.p4.2.m2.1.1.1.1.2" xref="S2.p4.2.m2.1.1.1.1.2.cmml">
         q
        </mi>
        <mi id="S2.p4.2.m2.1.1.1.1.3" xref="S2.p4.2.m2.1.1.1.1.3.cmml">
         c
        </mi>
       </msub>
       <mo id="S2.p4.2.m2.3.3.3.5" xref="S2.p4.2.m2.3.3.4.cmml">
        ,
       </mo>
       <msub id="S2.p4.2.m2.2.2.2.2" xref="S2.p4.2.m2.2.2.2.2.cmml">
        <mi class="ltx_font_mathcaligraphic" id="S2.p4.2.m2.2.2.2.2.2" xref="S2.p4.2.m2.2.2.2.2.2.cmml">
         𝒟
        </mi>
        <mi id="S2.p4.2.m2.2.2.2.2.3" xref="S2.p4.2.m2.2.2.2.2.3.cmml">
         c
        </mi>
       </msub>
       <mo id="S2.p4.2.m2.3.3.3.6" xref="S2.p4.2.m2.3.3.4.cmml">
        ,
       </mo>
       <msub id="S2.p4.2.m2.3.3.3.3" xref="S2.p4.2.m2.3.3.3.3.cmml">
        <mi id="S2.p4.2.m2.3.3.3.3.2" xref="S2.p4.2.m2.3.3.3.3.2.cmml">
         𝒀
        </mi>
        <mi id="S2.p4.2.m2.3.3.3.3.3" xref="S2.p4.2.m2.3.3.3.3.3.cmml">
         c
        </mi>
       </msub>
       <mo id="S2.p4.2.m2.3.3.3.7" stretchy="false" xref="S2.p4.2.m2.3.3.4.cmml">
        )
       </mo>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S2.p4.2.m2.3b">
       <vector id="S2.p4.2.m2.3.3.4.cmml" xref="S2.p4.2.m2.3.3.3">
        <apply id="S2.p4.2.m2.1.1.1.1.cmml" xref="S2.p4.2.m2.1.1.1.1">
         <csymbol cd="ambiguous" id="S2.p4.2.m2.1.1.1.1.1.cmml" xref="S2.p4.2.m2.1.1.1.1">
          subscript
         </csymbol>
         <ci id="S2.p4.2.m2.1.1.1.1.2.cmml" xref="S2.p4.2.m2.1.1.1.1.2">
          𝑞
         </ci>
         <ci id="S2.p4.2.m2.1.1.1.1.3.cmml" xref="S2.p4.2.m2.1.1.1.1.3">
          𝑐
         </ci>
        </apply>
        <apply id="S2.p4.2.m2.2.2.2.2.cmml" xref="S2.p4.2.m2.2.2.2.2">
         <csymbol cd="ambiguous" id="S2.p4.2.m2.2.2.2.2.1.cmml" xref="S2.p4.2.m2.2.2.2.2">
          subscript
         </csymbol>
         <ci id="S2.p4.2.m2.2.2.2.2.2.cmml" xref="S2.p4.2.m2.2.2.2.2.2">
          𝒟
         </ci>
         <ci id="S2.p4.2.m2.2.2.2.2.3.cmml" xref="S2.p4.2.m2.2.2.2.2.3">
          𝑐
         </ci>
        </apply>
        <apply id="S2.p4.2.m2.3.3.3.3.cmml" xref="S2.p4.2.m2.3.3.3.3">
         <csymbol cd="ambiguous" id="S2.p4.2.m2.3.3.3.3.1.cmml" xref="S2.p4.2.m2.3.3.3.3">
          subscript
         </csymbol>
         <ci id="S2.p4.2.m2.3.3.3.3.2.cmml" xref="S2.p4.2.m2.3.3.3.3.2">
          𝒀
         </ci>
         <ci id="S2.p4.2.m2.3.3.3.3.3.cmml" xref="S2.p4.2.m2.3.3.3.3.3">
          𝑐
         </ci>
        </apply>
       </vector>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p4.2.m2.3c">
       (q_{c},\mathcal{D}_{c},\boldsymbol{Y}_{c})
      </annotation>
     </semantics>
    </math>
    signifies the test queries, their associated document lists, and ranking labels. Notably, the test dataset is derived from the same distribution
    <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S2.p4.3.m3.1">
     <semantics id="S2.p4.3.m3.1a">
      <mi class="ltx_font_mathcaligraphic" id="S2.p4.3.m3.1.1" xref="S2.p4.3.m3.1.1.cmml">
       𝒢
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p4.3.m3.1b">
       <ci id="S2.p4.3.m3.1.1.cmml" xref="S2.p4.3.m3.1.1">
        𝒢
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p4.3.m3.1c">
       \mathcal{G}
      </annotation>
     </semantics>
    </math>
    as the training set. The ranking model’s performance is quantified by the mean effectiveness across test datasets.
   </p>
  </div>
  <div class="ltx_para" id="S2.p5">
   <p class="ltx_p" id="S2.p5.3">
    The robustness of the ranking model is quantified as
   </p>
   <table class="ltx_equation ltx_eqn_table" id="S2.E2">
    <tbody>
     <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
      <td class="ltx_eqn_cell ltx_eqn_center_padleft">
      </td>
      <td class="ltx_eqn_cell ltx_align_center">
       <math alttext="\begin{split}\mathbb{V}_{(q_{c},\mathcal{D}_{c})}\sim\mathcal{M}([\pi^{k}(q^{k}_{c},\mathcal{D}_{c},\mathcal{R})]),k\in[1,..,K]\end{split}" class="ltx_math_unparsed" display="block" id="S2.E2.m1.31">
        <semantics id="S2.E2.m1.31a">
         <mtable displaystyle="true" id="S2.E2.m1.31.31">
          <mtr id="S2.E2.m1.31.31a">
           <mtd class="ltx_align_right" columnalign="right" id="S2.E2.m1.31.31b">
            <mrow id="S2.E2.m1.31.31.31.31.31">
             <msub id="S2.E2.m1.31.31.31.31.31.32">
              <mi id="S2.E2.m1.1.1.1.1.1.1">
               𝕍
              </mi>
              <mrow id="S2.E2.m1.2.2.2.2.2.2.1.2">
               <mo id="S2.E2.m1.2.2.2.2.2.2.1.2.3" stretchy="false">
                (
               </mo>
               <msub id="S2.E2.m1.2.2.2.2.2.2.1.1.1">
                <mi id="S2.E2.m1.2.2.2.2.2.2.1.1.1.2">
                 q
                </mi>
                <mi id="S2.E2.m1.2.2.2.2.2.2.1.1.1.3">
                 c
                </mi>
               </msub>
               <mo id="S2.E2.m1.2.2.2.2.2.2.1.2.4">
                ,
               </mo>
               <msub id="S2.E2.m1.2.2.2.2.2.2.1.2.2">
                <mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.2.2.2.2.2.2.1.2.2.2">
                 𝒟
                </mi>
                <mi id="S2.E2.m1.2.2.2.2.2.2.1.2.2.3">
                 c
                </mi>
               </msub>
               <mo id="S2.E2.m1.2.2.2.2.2.2.1.2.5" stretchy="false">
                )
               </mo>
              </mrow>
             </msub>
             <mo id="S2.E2.m1.3.3.3.3.3.3">
              ∼
             </mo>
             <mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.4.4.4.4.4.4">
              ℳ
             </mi>
             <mrow id="S2.E2.m1.31.31.31.31.31.33">
              <mo id="S2.E2.m1.5.5.5.5.5.5" stretchy="false">
               (
              </mo>
              <mrow id="S2.E2.m1.31.31.31.31.31.33.1">
               <mo id="S2.E2.m1.6.6.6.6.6.6" stretchy="false">
                [
               </mo>
               <msup id="S2.E2.m1.31.31.31.31.31.33.1.1">
                <mi id="S2.E2.m1.7.7.7.7.7.7">
                 π
                </mi>
                <mi id="S2.E2.m1.8.8.8.8.8.8.1">
                 k
                </mi>
               </msup>
               <mrow id="S2.E2.m1.31.31.31.31.31.33.1.2">
                <mo id="S2.E2.m1.9.9.9.9.9.9" stretchy="false">
                 (
                </mo>
                <msubsup id="S2.E2.m1.31.31.31.31.31.33.1.2.1">
                 <mi id="S2.E2.m1.10.10.10.10.10.10">
                  q
                 </mi>
                 <mi id="S2.E2.m1.12.12.12.12.12.12.1">
                  c
                 </mi>
                 <mi id="S2.E2.m1.11.11.11.11.11.11.1">
                  k
                 </mi>
                </msubsup>
                <mo id="S2.E2.m1.13.13.13.13.13.13">
                 ,
                </mo>
                <msub id="S2.E2.m1.31.31.31.31.31.33.1.2.2">
                 <mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.14.14.14.14.14.14">
                  𝒟
                 </mi>
                 <mi id="S2.E2.m1.15.15.15.15.15.15.1">
                  c
                 </mi>
                </msub>
                <mo id="S2.E2.m1.16.16.16.16.16.16">
                 ,
                </mo>
                <mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.17.17.17.17.17.17">
                 ℛ
                </mi>
                <mo id="S2.E2.m1.18.18.18.18.18.18" stretchy="false">
                 )
                </mo>
               </mrow>
               <mo id="S2.E2.m1.19.19.19.19.19.19" stretchy="false">
                ]
               </mo>
              </mrow>
              <mo id="S2.E2.m1.20.20.20.20.20.20" stretchy="false">
               )
              </mo>
             </mrow>
             <mo id="S2.E2.m1.21.21.21.21.21.21">
              ,
             </mo>
             <mi id="S2.E2.m1.22.22.22.22.22.22">
              k
             </mi>
             <mo id="S2.E2.m1.23.23.23.23.23.23">
              ∈
             </mo>
             <mrow id="S2.E2.m1.31.31.31.31.31.34">
              <mo id="S2.E2.m1.24.24.24.24.24.24" stretchy="false">
               [
              </mo>
              <mn id="S2.E2.m1.25.25.25.25.25.25">
               1
              </mn>
              <mo id="S2.E2.m1.26.26.26.26.26.26">
               ,
              </mo>
              <mo id="S2.E2.m1.27.27.27.27.27.27" lspace="0em" rspace="0.0835em">
               .
              </mo>
              <mo id="S2.E2.m1.28.28.28.28.28.28" lspace="0.0835em" rspace="0.167em">
               .
              </mo>
              <mo id="S2.E2.m1.29.29.29.29.29.29">
               ,
              </mo>
              <mi id="S2.E2.m1.30.30.30.30.30.30">
               K
              </mi>
              <mo id="S2.E2.m1.31.31.31.31.31.31" stretchy="false">
               ]
              </mo>
             </mrow>
            </mrow>
           </mtd>
          </mtr>
         </mtable>
         <annotation encoding="application/x-tex" id="S2.E2.m1.31b">
          \begin{split}\mathbb{V}_{(q_{c},\mathcal{D}_{c})}\sim\mathcal{M}([\pi^{k}(q^{k}_{c},\mathcal{D}_{c},\mathcal{R})]),k\in[1,..,K]\end{split}
         </annotation>
        </semantics>
       </math>
      </td>
      <td class="ltx_eqn_cell ltx_eqn_center_padright">
      </td>
      <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
       <span class="ltx_tag ltx_tag_equation ltx_align_right">
        (2)
       </span>
      </td>
     </tr>
    </tbody>
   </table>
   <p class="ltx_p" id="S2.p5.2">
    In this case,
    <math alttext="\pi^{k}(q^{k}_{c},\mathcal{D}_{c},\mathcal{R})" class="ltx_Math" display="inline" id="S2.p5.1.m1.3">
     <semantics id="S2.p5.1.m1.3a">
      <mrow id="S2.p5.1.m1.3.3" xref="S2.p5.1.m1.3.3.cmml">
       <msup id="S2.p5.1.m1.3.3.4" xref="S2.p5.1.m1.3.3.4.cmml">
        <mi id="S2.p5.1.m1.3.3.4.2" xref="S2.p5.1.m1.3.3.4.2.cmml">
         π
        </mi>
        <mi id="S2.p5.1.m1.3.3.4.3" xref="S2.p5.1.m1.3.3.4.3.cmml">
         k
        </mi>
       </msup>
       <mo id="S2.p5.1.m1.3.3.3" lspace="0em" rspace="0em" xref="S2.p5.1.m1.3.3.3.cmml">
        ​
       </mo>
       <mrow id="S2.p5.1.m1.3.3.2.2" xref="S2.p5.1.m1.3.3.2.3.cmml">
        <mo id="S2.p5.1.m1.3.3.2.2.3" stretchy="false" xref="S2.p5.1.m1.3.3.2.3.cmml">
         (
        </mo>
        <msubsup id="S2.p5.1.m1.2.2.1.1.1" xref="S2.p5.1.m1.2.2.1.1.1.cmml">
         <mi id="S2.p5.1.m1.2.2.1.1.1.2.2" xref="S2.p5.1.m1.2.2.1.1.1.2.2.cmml">
          q
         </mi>
         <mi id="S2.p5.1.m1.2.2.1.1.1.3" xref="S2.p5.1.m1.2.2.1.1.1.3.cmml">
          c
         </mi>
         <mi id="S2.p5.1.m1.2.2.1.1.1.2.3" xref="S2.p5.1.m1.2.2.1.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <mo id="S2.p5.1.m1.3.3.2.2.4" xref="S2.p5.1.m1.3.3.2.3.cmml">
         ,
        </mo>
        <msub id="S2.p5.1.m1.3.3.2.2.2" xref="S2.p5.1.m1.3.3.2.2.2.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S2.p5.1.m1.3.3.2.2.2.2" xref="S2.p5.1.m1.3.3.2.2.2.2.cmml">
          𝒟
         </mi>
         <mi id="S2.p5.1.m1.3.3.2.2.2.3" xref="S2.p5.1.m1.3.3.2.2.2.3.cmml">
          c
         </mi>
        </msub>
        <mo id="S2.p5.1.m1.3.3.2.2.5" xref="S2.p5.1.m1.3.3.2.3.cmml">
         ,
        </mo>
        <mi class="ltx_font_mathcaligraphic" id="S2.p5.1.m1.1.1" xref="S2.p5.1.m1.1.1.cmml">
         ℛ
        </mi>
        <mo id="S2.p5.1.m1.3.3.2.2.6" stretchy="false" xref="S2.p5.1.m1.3.3.2.3.cmml">
         )
        </mo>
       </mrow>
      </mrow>
      <annotation-xml encoding="MathML-Content" id="S2.p5.1.m1.3b">
       <apply id="S2.p5.1.m1.3.3.cmml" xref="S2.p5.1.m1.3.3">
        <times id="S2.p5.1.m1.3.3.3.cmml" xref="S2.p5.1.m1.3.3.3">
        </times>
        <apply id="S2.p5.1.m1.3.3.4.cmml" xref="S2.p5.1.m1.3.3.4">
         <csymbol cd="ambiguous" id="S2.p5.1.m1.3.3.4.1.cmml" xref="S2.p5.1.m1.3.3.4">
          superscript
         </csymbol>
         <ci id="S2.p5.1.m1.3.3.4.2.cmml" xref="S2.p5.1.m1.3.3.4.2">
          𝜋
         </ci>
         <ci id="S2.p5.1.m1.3.3.4.3.cmml" xref="S2.p5.1.m1.3.3.4.3">
          𝑘
         </ci>
        </apply>
        <vector id="S2.p5.1.m1.3.3.2.3.cmml" xref="S2.p5.1.m1.3.3.2.2">
         <apply id="S2.p5.1.m1.2.2.1.1.1.cmml" xref="S2.p5.1.m1.2.2.1.1.1">
          <csymbol cd="ambiguous" id="S2.p5.1.m1.2.2.1.1.1.1.cmml" xref="S2.p5.1.m1.2.2.1.1.1">
           subscript
          </csymbol>
          <apply id="S2.p5.1.m1.2.2.1.1.1.2.cmml" xref="S2.p5.1.m1.2.2.1.1.1">
           <csymbol cd="ambiguous" id="S2.p5.1.m1.2.2.1.1.1.2.1.cmml" xref="S2.p5.1.m1.2.2.1.1.1">
            superscript
           </csymbol>
           <ci id="S2.p5.1.m1.2.2.1.1.1.2.2.cmml" xref="S2.p5.1.m1.2.2.1.1.1.2.2">
            𝑞
           </ci>
           <ci id="S2.p5.1.m1.2.2.1.1.1.2.3.cmml" xref="S2.p5.1.m1.2.2.1.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S2.p5.1.m1.2.2.1.1.1.3.cmml" xref="S2.p5.1.m1.2.2.1.1.1.3">
           𝑐
          </ci>
         </apply>
         <apply id="S2.p5.1.m1.3.3.2.2.2.cmml" xref="S2.p5.1.m1.3.3.2.2.2">
          <csymbol cd="ambiguous" id="S2.p5.1.m1.3.3.2.2.2.1.cmml" xref="S2.p5.1.m1.3.3.2.2.2">
           subscript
          </csymbol>
          <ci id="S2.p5.1.m1.3.3.2.2.2.2.cmml" xref="S2.p5.1.m1.3.3.2.2.2.2">
           𝒟
          </ci>
          <ci id="S2.p5.1.m1.3.3.2.2.2.3.cmml" xref="S2.p5.1.m1.3.3.2.2.2.3">
           𝑐
          </ci>
         </apply>
         <ci id="S2.p5.1.m1.1.1.cmml" xref="S2.p5.1.m1.1.1">
          ℛ
         </ci>
        </vector>
       </apply>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p5.1.m1.3c">
       \pi^{k}(q^{k}_{c},\mathcal{D}_{c},\mathcal{R})
      </annotation>
     </semantics>
    </math>
    indicates the ranking label list for the
    <math alttext="k" class="ltx_Math" display="inline" id="S2.p5.2.m2.1">
     <semantics id="S2.p5.2.m2.1a">
      <mi id="S2.p5.2.m2.1.1" xref="S2.p5.2.m2.1.1.cmml">
       k
      </mi>
      <annotation-xml encoding="MathML-Content" id="S2.p5.2.m2.1b">
       <ci id="S2.p5.2.m2.1.1.cmml" xref="S2.p5.2.m2.1.1">
        𝑘
       </ci>
      </annotation-xml>
      <annotation encoding="application/x-tex" id="S2.p5.2.m2.1c">
       k
      </annotation>
     </semantics>
    </math>
    -th rewritten query and its corresponding documents using the ranking model. The robustness is assessed by the variance in ranking permutations for different rewritten queries.
   </p>
  </div>
 </section>
 <section class="ltx_section" id="S3">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    III
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S3.1.1">
    Methodology
   </span>
  </h2>
  <div class="ltx_para" id="S3.p1">
   <p class="ltx_p" id="S3.p1.1">
    In this section, we will offer a comprehensive exposition of the methodology employed in our study. At first, we will present a conceptual overview of the proposed architectural framework. This is followed by an in-depth examination of two constituent subtasks, query rewriting and robust ranking, which are explicated sequentially.
   </p>
  </div>
  <figure class="ltx_figure" id="S3.F3">
   <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="261" id="S3.F3.g1" src="/html/2312.15450/assets/x3.png" width="368"/>
   <figcaption class="ltx_caption ltx_centering">
    <span class="ltx_tag ltx_tag_figure">
     Figure 3:
    </span>
    An illustration of the rewriting pipeline of our proposed model.
   </figcaption>
  </figure>
  <section class="ltx_subsection" id="S3.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S3.SS1.4.1.1">
      III-A
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S3.SS1.5.2">
     Framework Overview
    </span>
   </h3>
   <div class="ltx_para" id="S3.SS1.p1">
    <p class="ltx_p" id="S3.SS1.p1.1">
     The framework of our study is shown in Figure
     <a class="ltx_ref" href="#S1.F2" title="Figure 2 ‣ I Introduction ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       2
      </span>
     </a>
     . Our study encompasses two distinct yet interconnected subtasks. The first task is query rewriting. Unlike traditional methods that solely emphasize the quality of rewritten queries, we extend our consideration to rewriting from various semantic viewpoints. The recent developments in the field of LLM agents have provided an opportunity that allows different agents acting in diverse roles to do different tasks. Our research explores how these different roles agents can rewrite queries in a manner that aligns with corresponding demographic group characteristics.
The second subtask is robust ranking. The current ranking model does not return consistent results when faced with queries with the same semantics, which proves the non-robustness of the existing ranking model. This is primarily due to the ranking module’s weak semantic comprehension between queries and documents. To enhance robustness, we raise a robust MMoE ranking model to effectively capture shared semantic information across different queries. Additionally, we devise a loss function, imposing constraints on accuracy and robustness at the same time, increasing robustness while ensuring ranking accuracy.
    </p>
    <ul class="ltx_itemize" id="S3.I1">
     <li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S3.I1.i1.p1">
       <p class="ltx_p" id="S3.I1.i1.p1.1">
        <span class="ltx_text ltx_font_bold" id="S3.I1.i1.p1.1.1">
         Query Rewriting
        </span>
        :
The optimization of query rewriting commences with the application of ChatGPT-3.5, where prompts are carefully structured to distill the core intent of user queries, thereby revealing their underlying information needs. Subsequently, distinct personas representing four demographic groups — the elderly, middle-aged women, middle-aged men, and students — are assigned to the LLM. We carefully choose these four roles to pretend to be real users on the Internet. The LLM is then tasked with performing the query rewriting under these specified roles. Nonetheless, due to the hallucination limitations inherent in LLMs, the resultant queries may substantially diverge from the original semantics. To counteract this issue, we implement a critical evaluation of the rewrites, including two aspects: Semantic fidelity to the original query and consistency of the rewritten tone with the designated persona. Queries not meeting our standards are subjected to additional refinement, employing an iterative approach until the desired quality threshold is attained. This cycle of evaluation and refinement is sustained until the rephrased queries align semantically with the original intent and correspond with the assigned persona’s tone, thereby ensuring the final output’s utmost quality and appropriateness.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S3.I1.i2.p1">
       <p class="ltx_p" id="S3.I1.i2.p1.1">
        <span class="ltx_text ltx_font_bold" id="S3.I1.i2.p1.1.1">
         Robust Ranking
        </span>
        :
To augment the robustness of document ranking amidst semantically similar queries, our approach encompasses two primary dimensions. First, we aim to bolster robustness structurally. The prevalent issue in existing cross-encoders is their limited capacity to discern similar semantic content across varied queries. To overcome this, we introduce the Robust MMoE, an innovative structure integrated atop the transformer model. This model consists of two main components: a query-specific expert and a query-shared expert, designed to capture both query-independent and shared semantic representations, respectively. Second, concerning the loss function, we advocate a loss function designed to optimize both accuracy and robustness. The robust loss segment computes the Jensen–Shannon divergence between the document ranking scores of different queries, thereby enhancing robustness. Simultaneously, the accuracy loss segment focuses on maintaining the precision of the ranking, thus ensuring accuracy.
       </p>
      </div>
     </li>
    </ul>
   </div>
  </section>
  <section class="ltx_subsection" id="S3.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S3.SS2.4.1.1">
      III-B
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S3.SS2.5.2">
     Query Rewriting
    </span>
   </h3>
   <div class="ltx_para" id="S3.SS2.p1">
    <p class="ltx_p" id="S3.SS2.p1.1">
     This subsection delves into the detailed methodology of our rewriting pipeline.
Large Language Models (LLMs) have recently become prominent as effective query rewriters in search engines
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib23" title="">
       23
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib24" title="">
       24
      </a>
      ]
     </cite>
     . While most existing research concentrates on single perspective variants, such as misspellings or typos
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib12" title="">
       12
      </a>
      ]
     </cite>
     , the complexity of multi-semantic query rewrites in real-world scenarios is often overlooked
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib10" title="">
       10
      </a>
      ]
     </cite>
     . In our study, we utilize LLMs as agents adopting diverse roles to skillfully rewrite queries from multiple semantic perspectives, and we enhance the quality of these rewrites through an iterative process. The workflow of this process is illustrated in Figure
     <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‣ III Methodology ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     for a comprehensive understanding.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS2.p2">
    <p class="ltx_p" id="S3.SS2.p2.1">
     The essence of the query rewriting task lies in comprehending the user’s intent and discerning the actual information they seek, which is crucial for effective query rewriting. To achieve this, we leverage the advanced semantic understanding capabilities of LLMs to accurately ascertain the underlying information needs within the queries. In practical terms, given an initial set of raw queries denoted as
     <math alttext="\mathcal{Q}^{r}" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1">
      <semantics id="S3.SS2.p2.1.m1.1a">
       <msup id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">
        <mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml">
         𝒬
        </mi>
        <mi id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml">
         r
        </mi>
       </msup>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b">
        <apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">
         <csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">
          superscript
         </csymbol>
         <ci id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2">
          𝒬
         </ci>
         <ci id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3">
          𝑟
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">
        \mathcal{Q}^{r}
       </annotation>
      </semantics>
     </math>
     , we utilize prompt engineering techniques to craft prompt (a), as detailed in Table
     <a class="ltx_ref" href="#S3.T1" title="TABLE I ‣ III-B Query Rewriting ‣ III Methodology ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       I
      </span>
     </a>
     . This approach is instrumental in extracting pertinent details from the queries and precisely capturing the user’s authentic intent.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS2.p3">
    <p class="ltx_p" id="S3.SS2.p3.1">
     Following the initial extraction of information, we assign the LLM to diverse agent roles for query rewriting. To facilitate this, prompt (b) is provided to guide the LLMs. These agent roles are meticulously crafted to mirror four distinct demographic groups: middle-aged men, middle-aged women, the elderly, and students, with the resultant queries represented as
     <math alttext="\mathcal{Q}^{\prime}_{k},k\in[1,2,3,4]" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.6">
      <semantics id="S3.SS2.p3.1.m1.6a">
       <mrow id="S3.SS2.p3.1.m1.6.6" xref="S3.SS2.p3.1.m1.6.6.cmml">
        <mrow id="S3.SS2.p3.1.m1.6.6.1.1" xref="S3.SS2.p3.1.m1.6.6.1.2.cmml">
         <msubsup id="S3.SS2.p3.1.m1.6.6.1.1.1" xref="S3.SS2.p3.1.m1.6.6.1.1.1.cmml">
          <mi class="ltx_font_mathcaligraphic" id="S3.SS2.p3.1.m1.6.6.1.1.1.2.2" xref="S3.SS2.p3.1.m1.6.6.1.1.1.2.2.cmml">
           𝒬
          </mi>
          <mi id="S3.SS2.p3.1.m1.6.6.1.1.1.3" xref="S3.SS2.p3.1.m1.6.6.1.1.1.3.cmml">
           k
          </mi>
          <mo id="S3.SS2.p3.1.m1.6.6.1.1.1.2.3" xref="S3.SS2.p3.1.m1.6.6.1.1.1.2.3.cmml">
           ′
          </mo>
         </msubsup>
         <mo id="S3.SS2.p3.1.m1.6.6.1.1.2" xref="S3.SS2.p3.1.m1.6.6.1.2.cmml">
          ,
         </mo>
         <mi id="S3.SS2.p3.1.m1.5.5" xref="S3.SS2.p3.1.m1.5.5.cmml">
          k
         </mi>
        </mrow>
        <mo id="S3.SS2.p3.1.m1.6.6.2" xref="S3.SS2.p3.1.m1.6.6.2.cmml">
         ∈
        </mo>
        <mrow id="S3.SS2.p3.1.m1.6.6.3.2" xref="S3.SS2.p3.1.m1.6.6.3.1.cmml">
         <mo id="S3.SS2.p3.1.m1.6.6.3.2.1" stretchy="false" xref="S3.SS2.p3.1.m1.6.6.3.1.cmml">
          [
         </mo>
         <mn id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml">
          1
         </mn>
         <mo id="S3.SS2.p3.1.m1.6.6.3.2.2" xref="S3.SS2.p3.1.m1.6.6.3.1.cmml">
          ,
         </mo>
         <mn id="S3.SS2.p3.1.m1.2.2" xref="S3.SS2.p3.1.m1.2.2.cmml">
          2
         </mn>
         <mo id="S3.SS2.p3.1.m1.6.6.3.2.3" xref="S3.SS2.p3.1.m1.6.6.3.1.cmml">
          ,
         </mo>
         <mn id="S3.SS2.p3.1.m1.3.3" xref="S3.SS2.p3.1.m1.3.3.cmml">
          3
         </mn>
         <mo id="S3.SS2.p3.1.m1.6.6.3.2.4" xref="S3.SS2.p3.1.m1.6.6.3.1.cmml">
          ,
         </mo>
         <mn id="S3.SS2.p3.1.m1.4.4" xref="S3.SS2.p3.1.m1.4.4.cmml">
          4
         </mn>
         <mo id="S3.SS2.p3.1.m1.6.6.3.2.5" stretchy="false" xref="S3.SS2.p3.1.m1.6.6.3.1.cmml">
          ]
         </mo>
        </mrow>
       </mrow>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.6b">
        <apply id="S3.SS2.p3.1.m1.6.6.cmml" xref="S3.SS2.p3.1.m1.6.6">
         <in id="S3.SS2.p3.1.m1.6.6.2.cmml" xref="S3.SS2.p3.1.m1.6.6.2">
         </in>
         <list id="S3.SS2.p3.1.m1.6.6.1.2.cmml" xref="S3.SS2.p3.1.m1.6.6.1.1">
          <apply id="S3.SS2.p3.1.m1.6.6.1.1.1.cmml" xref="S3.SS2.p3.1.m1.6.6.1.1.1">
           <csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.6.6.1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.6.6.1.1.1">
            subscript
           </csymbol>
           <apply id="S3.SS2.p3.1.m1.6.6.1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.6.6.1.1.1">
            <csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.6.6.1.1.1.2.1.cmml" xref="S3.SS2.p3.1.m1.6.6.1.1.1">
             superscript
            </csymbol>
            <ci id="S3.SS2.p3.1.m1.6.6.1.1.1.2.2.cmml" xref="S3.SS2.p3.1.m1.6.6.1.1.1.2.2">
             𝒬
            </ci>
            <ci id="S3.SS2.p3.1.m1.6.6.1.1.1.2.3.cmml" xref="S3.SS2.p3.1.m1.6.6.1.1.1.2.3">
             ′
            </ci>
           </apply>
           <ci id="S3.SS2.p3.1.m1.6.6.1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.6.6.1.1.1.3">
            𝑘
           </ci>
          </apply>
          <ci id="S3.SS2.p3.1.m1.5.5.cmml" xref="S3.SS2.p3.1.m1.5.5">
           𝑘
          </ci>
         </list>
         <list id="S3.SS2.p3.1.m1.6.6.3.1.cmml" xref="S3.SS2.p3.1.m1.6.6.3.2">
          <cn id="S3.SS2.p3.1.m1.1.1.cmml" type="integer" xref="S3.SS2.p3.1.m1.1.1">
           1
          </cn>
          <cn id="S3.SS2.p3.1.m1.2.2.cmml" type="integer" xref="S3.SS2.p3.1.m1.2.2">
           2
          </cn>
          <cn id="S3.SS2.p3.1.m1.3.3.cmml" type="integer" xref="S3.SS2.p3.1.m1.3.3">
           3
          </cn>
          <cn id="S3.SS2.p3.1.m1.4.4.cmml" type="integer" xref="S3.SS2.p3.1.m1.4.4">
           4
          </cn>
         </list>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.6c">
        \mathcal{Q}^{\prime}_{k},k\in[1,2,3,4]
       </annotation>
      </semantics>
     </math>
     . According to the demographic investigation on the Internet
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib13" title="">
       13
      </a>
      ]
     </cite>
     , these four groups were selected to offer a balanced representation across age spectrums, categorizing users over 50 years as old and those under 25 as student, with the remaining demographics segmented by gender, results are shown in Figure
     <a class="ltx_ref" href="#S1.F1" title="Figure 1 ‣ I Introduction ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     . Additionally, these groups showcase unique semantic expressions in their queries, encompassing aspects of naturality, ordering, and paraphrasing
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib19" title="">
       19
      </a>
      ]
     </cite>
     . For example, the old prefer colloquial language, whereas students, more adept with search tools, tend to use keyword-driven queries. Thus, each demographic group exhibits distinctive query expression patterns influenced by their age and gender characteristics.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS2.p4">
    <p class="ltx_p" id="S3.SS2.p4.1">
     Upon obtaining the queries reformulated by four distinct agent roles, conducting a rigorous quality assessment is imperative. This evaluation step is crucial to ascertain the fidelity of the regenerated queries. Given that the issue of hallucinations in LLMs is not entirely resolved, there remains a possibility of some queries failing to align with the set standards. For example, some queries might undergo substantial semantic alteration, deviating from their original intent, or may not be appropriately rephrased in accordance with the assigned agent role.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS2.p5">
    <p class="ltx_p" id="S3.SS2.p5.1">
     To mitigate these concerns, we evaluate the rewritten queries from two different perspectives. Firstly, it assesses the semantic similarity between the original and rewritten queries. Secondly, it evaluates the adherence of the rewritten queries to their designated agent roles. For both evaluations, a three-tiered scoring mechanism is implemented: fully meeting the requirements, partially meeting the requirements, and not meeting the requirements. Details of the corresponding prompts are presented as prompt (c) in Table
     <a class="ltx_ref" href="#S3.T1" title="TABLE I ‣ III-B Query Rewriting ‣ III Methodology ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       I
      </span>
     </a>
     .
    </p>
   </div>
   <div class="ltx_para" id="S3.SS2.p6">
    <p class="ltx_p" id="S3.SS2.p6.1">
     When queries fall short of the set criteria, we will redirect them to the query rewriting phase with modified instructions for the LLMs. In cases where the queries are of substandard quality, particularly regarding semantic fidelity, we mandate a closer alignment of the regenerated queries with the original semantics, as elaborated in prompt (d). In instances where the query inadequately conforms to the designated agent role, we craft the prompt to underscore the need for enhanced adherence to the agent role, as delineated in prompt (e). To effectively tackle both quality and role conformity challenges simultaneously, a tailored prompt (f) is formulated for comprehensive mitigation.
    </p>
   </div>
   <figure class="ltx_table" id="S3.T1">
    <figcaption class="ltx_caption">
     <span class="ltx_tag ltx_tag_table">
      TABLE I:
     </span>
     Prompts of query rewriting for public dataset
    </figcaption>
    <table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T1.1">
     <thead class="ltx_thead">
      <tr class="ltx_tr" id="S3.T1.1.1.1">
       <th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="S3.T1.1.1.1.1">
        <span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.1.1">
         <span class="ltx_p" id="S3.T1.1.1.1.1.1.1" style="width:48.4pt;">
          <span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.1.1.1">
           Methods
          </span>
         </span>
        </span>
       </th>
       <th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.1.1.2">
        <span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.2.1">
         <span class="ltx_p" id="S3.T1.1.1.1.2.1.1" style="width:156.5pt;">
          <span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.2.1.1.1">
           Prompts
          </span>
         </span>
        </span>
       </th>
      </tr>
     </thead>
     <tbody class="ltx_tbody">
      <tr class="ltx_tr" id="S3.T1.1.2.1">
       <th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S3.T1.1.2.1.1" rowspan="2">
        <span class="ltx_inline-block ltx_align_top" id="S3.T1.1.2.1.1.1">
         <span class="ltx_p" id="S3.T1.1.2.1.1.1.1" style="width:48.4pt;">
          <span class="ltx_text" id="S3.T1.1.2.1.1.1.1.1">
           Queries Generation
          </span>
         </span>
        </span>
       </th>
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.2.1.2">
        <span class="ltx_inline-block ltx_align_top" id="S3.T1.1.2.1.2.1">
         <span class="ltx_p" id="S3.T1.1.2.1.2.1.1" style="width:156.5pt;">
          (a). The search query is {query}. Please analyze and determine the actual intention or meaning that the person is trying to convey through this search query.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.1.3.2">
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.3.2.1">
        <span class="ltx_inline-block ltx_align_top" id="S3.T1.1.3.2.1.1">
         <span class="ltx_p" id="S3.T1.1.3.2.1.1.1" style="width:156.5pt;">
          (b). Assuming you are a woman, what changes might you make when rewriting the query? Please rewrite the query to align it with your role.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.1.4.3">
       <th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S3.T1.1.4.3.1">
        <span class="ltx_inline-block ltx_align_top" id="S3.T1.1.4.3.1.1">
         <span class="ltx_p" id="S3.T1.1.4.3.1.1.1" style="width:48.4pt;">
          <span class="ltx_text" id="S3.T1.1.4.3.1.1.1.1">
           Queries Check
          </span>
         </span>
        </span>
       </th>
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.4.3.2">
        <span class="ltx_inline-block ltx_align_top" id="S3.T1.1.4.3.2.1">
         <span class="ltx_p" id="S3.T1.1.4.3.2.1.1" style="width:156.5pt;">
          (c). The original query is: {query}. The rephrased query is: {rewriting query}. Evaluate the following:1. Are these two queries describing the same information? 2. Does the modified query align with the query posed by {agent}? Assign judgment scores of -1, 0, or 1. A score of -1 implies no match, 0 suggests an approximate match, and 1 indicates an exact match.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.1.5.4">
       <th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S3.T1.1.5.4.1">
        <span class="ltx_inline-block ltx_align_top" id="S3.T1.1.5.4.1.1">
         <span class="ltx_p" id="S3.T1.1.5.4.1.1.1" style="width:48.4pt;">
          <span class="ltx_text" id="S3.T1.1.5.4.1.1.1.1">
           Queries Modification
          </span>
         </span>
        </span>
       </th>
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.5.4.2">
        <span class="ltx_inline-block ltx_align_top" id="S3.T1.1.5.4.2.1">
         <span class="ltx_p" id="S3.T1.1.5.4.2.1.1" style="width:156.5pt;">
          (d). Assuming you are an {agent}, please rephrase the query in accordance with your role while preserving the original meaning of the question.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.1.6.5">
       <th class="ltx_td ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S3.T1.1.6.5.1">
       </th>
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S3.T1.1.6.5.2">
        <span class="ltx_inline-block ltx_align_top" id="S3.T1.1.6.5.2.1">
         <span class="ltx_p" id="S3.T1.1.6.5.2.1.1" style="width:156.5pt;">
          (e). Assuming you are an {agent}, please rephrase the query according to your role and rewrite it more in line with the character’s attributes.
         </span>
        </span>
       </td>
      </tr>
      <tr class="ltx_tr" id="S3.T1.1.7.6">
       <th class="ltx_td ltx_align_top ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S3.T1.1.7.6.1">
       </th>
       <td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_t" id="S3.T1.1.7.6.2">
        <span class="ltx_inline-block ltx_align_top" id="S3.T1.1.7.6.2.1">
         <span class="ltx_p" id="S3.T1.1.7.6.2.1.1" style="width:156.5pt;">
          (f). Assuming you are an {agent}, please rephrase the question consistent with your role, maintaining the essence of the original query and aligning it with the character’s attributes.
         </span>
        </span>
       </td>
      </tr>
     </tbody>
    </table>
   </figure>
   <div class="ltx_para" id="S3.SS2.p7">
    <p class="ltx_p" id="S3.SS2.p7.1">
     This iterative process continues until the generation of queries that satisfy the established requirements, denoted as
     <math alttext="\widetilde{\mathcal{Q}}^{k}" class="ltx_Math" display="inline" id="S3.SS2.p7.1.m1.1">
      <semantics id="S3.SS2.p7.1.m1.1a">
       <msup id="S3.SS2.p7.1.m1.1.1" xref="S3.SS2.p7.1.m1.1.1.cmml">
        <mover accent="true" id="S3.SS2.p7.1.m1.1.1.2" xref="S3.SS2.p7.1.m1.1.1.2.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS2.p7.1.m1.1.1.2.2" xref="S3.SS2.p7.1.m1.1.1.2.2.cmml">
          𝒬
         </mi>
         <mo id="S3.SS2.p7.1.m1.1.1.2.1" xref="S3.SS2.p7.1.m1.1.1.2.1.cmml">
          ~
         </mo>
        </mover>
        <mi id="S3.SS2.p7.1.m1.1.1.3" xref="S3.SS2.p7.1.m1.1.1.3.cmml">
         k
        </mi>
       </msup>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p7.1.m1.1b">
        <apply id="S3.SS2.p7.1.m1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1">
         <csymbol cd="ambiguous" id="S3.SS2.p7.1.m1.1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1">
          superscript
         </csymbol>
         <apply id="S3.SS2.p7.1.m1.1.1.2.cmml" xref="S3.SS2.p7.1.m1.1.1.2">
          <ci id="S3.SS2.p7.1.m1.1.1.2.1.cmml" xref="S3.SS2.p7.1.m1.1.1.2.1">
           ~
          </ci>
          <ci id="S3.SS2.p7.1.m1.1.1.2.2.cmml" xref="S3.SS2.p7.1.m1.1.1.2.2">
           𝒬
          </ci>
         </apply>
         <ci id="S3.SS2.p7.1.m1.1.1.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3">
          𝑘
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p7.1.m1.1c">
        \widetilde{\mathcal{Q}}^{k}
       </annotation>
      </semantics>
     </math>
     . The algorithm for the entire rewriting process is depicted in Algorithm
     <a class="ltx_ref" href="#alg1" title="In III-B Query Rewriting ‣ III Methodology ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     .
    </p>
   </div>
   <div class="ltx_para" id="S3.SS2.p8">
    <p class="ltx_p" id="S3.SS2.p8.1">
     This process is repeated until the queries that meet the requirements are generated, denoted as
     <math alttext="\widetilde{\mathcal{Q}}^{k}" class="ltx_Math" display="inline" id="S3.SS2.p8.1.m1.1">
      <semantics id="S3.SS2.p8.1.m1.1a">
       <msup id="S3.SS2.p8.1.m1.1.1" xref="S3.SS2.p8.1.m1.1.1.cmml">
        <mover accent="true" id="S3.SS2.p8.1.m1.1.1.2" xref="S3.SS2.p8.1.m1.1.1.2.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS2.p8.1.m1.1.1.2.2" xref="S3.SS2.p8.1.m1.1.1.2.2.cmml">
          𝒬
         </mi>
         <mo id="S3.SS2.p8.1.m1.1.1.2.1" xref="S3.SS2.p8.1.m1.1.1.2.1.cmml">
          ~
         </mo>
        </mover>
        <mi id="S3.SS2.p8.1.m1.1.1.3" xref="S3.SS2.p8.1.m1.1.1.3.cmml">
         k
        </mi>
       </msup>
       <annotation-xml encoding="MathML-Content" id="S3.SS2.p8.1.m1.1b">
        <apply id="S3.SS2.p8.1.m1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1">
         <csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1">
          superscript
         </csymbol>
         <apply id="S3.SS2.p8.1.m1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1.2">
          <ci id="S3.SS2.p8.1.m1.1.1.2.1.cmml" xref="S3.SS2.p8.1.m1.1.1.2.1">
           ~
          </ci>
          <ci id="S3.SS2.p8.1.m1.1.1.2.2.cmml" xref="S3.SS2.p8.1.m1.1.1.2.2">
           𝒬
          </ci>
         </apply>
         <ci id="S3.SS2.p8.1.m1.1.1.3.cmml" xref="S3.SS2.p8.1.m1.1.1.3">
          𝑘
         </ci>
        </apply>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S3.SS2.p8.1.m1.1c">
        \widetilde{\mathcal{Q}}^{k}
       </annotation>
      </semantics>
     </math>
     The algorithm for the entire rewriting process is depicted in Algorithm
     <a class="ltx_ref" href="#alg1" title="In III-B Query Rewriting ‣ III Methodology ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       1
      </span>
     </a>
     .
    </p>
   </div>
   <figure class="ltx_float ltx_algorithm" id="alg1">
    <div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="alg1.24">
     <div class="ltx_listingline" id="alg1.2.2">
      <span class="ltx_text" id="alg1.2.2.2" style="font-size:80%;">
       <span class="ltx_text" id="alg1.2.2.2.1">
        <span class="ltx_text ltx_font_bold" id="alg1.2.2.2.1.1">
         Input:
        </span>
       </span>
       Input queries
       <math alttext="\mathcal{Q}^{r}" class="ltx_Math" display="inline" id="alg1.1.1.1.m1.1">
        <semantics id="alg1.1.1.1.m1.1a">
         <msup id="alg1.1.1.1.m1.1.1" xref="alg1.1.1.1.m1.1.1.cmml">
          <mi class="ltx_font_mathcaligraphic" id="alg1.1.1.1.m1.1.1.2" xref="alg1.1.1.1.m1.1.1.2.cmml">
           𝒬
          </mi>
          <mi id="alg1.1.1.1.m1.1.1.3" xref="alg1.1.1.1.m1.1.1.3.cmml">
           r
          </mi>
         </msup>
         <annotation-xml encoding="MathML-Content" id="alg1.1.1.1.m1.1b">
          <apply id="alg1.1.1.1.m1.1.1.cmml" xref="alg1.1.1.1.m1.1.1">
           <csymbol cd="ambiguous" id="alg1.1.1.1.m1.1.1.1.cmml" xref="alg1.1.1.1.m1.1.1">
            superscript
           </csymbol>
           <ci id="alg1.1.1.1.m1.1.1.2.cmml" xref="alg1.1.1.1.m1.1.1.2">
            𝒬
           </ci>
           <ci id="alg1.1.1.1.m1.1.1.3.cmml" xref="alg1.1.1.1.m1.1.1.3">
            𝑟
           </ci>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.1.1.1.m1.1c">
          \mathcal{Q}^{r}
         </annotation>
        </semantics>
       </math>
       , prompts
       <math alttext="\mathcal{P}_{a},\mathcal{P}_{b},\mathcal{P}_{c},\mathcal{P}_{d},\mathcal{P}_{e}" class="ltx_Math" display="inline" id="alg1.2.2.2.m2.5">
        <semantics id="alg1.2.2.2.m2.5a">
         <mrow id="alg1.2.2.2.m2.5.5.5" xref="alg1.2.2.2.m2.5.5.6.cmml">
          <msub id="alg1.2.2.2.m2.1.1.1.1" xref="alg1.2.2.2.m2.1.1.1.1.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.2.2.2.m2.1.1.1.1.2" xref="alg1.2.2.2.m2.1.1.1.1.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.2.2.2.m2.1.1.1.1.3" xref="alg1.2.2.2.m2.1.1.1.1.3.cmml">
            a
           </mi>
          </msub>
          <mo id="alg1.2.2.2.m2.5.5.5.6" xref="alg1.2.2.2.m2.5.5.6.cmml">
           ,
          </mo>
          <msub id="alg1.2.2.2.m2.2.2.2.2" xref="alg1.2.2.2.m2.2.2.2.2.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.2.2.2.m2.2.2.2.2.2" xref="alg1.2.2.2.m2.2.2.2.2.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.2.2.2.m2.2.2.2.2.3" xref="alg1.2.2.2.m2.2.2.2.2.3.cmml">
            b
           </mi>
          </msub>
          <mo id="alg1.2.2.2.m2.5.5.5.7" xref="alg1.2.2.2.m2.5.5.6.cmml">
           ,
          </mo>
          <msub id="alg1.2.2.2.m2.3.3.3.3" xref="alg1.2.2.2.m2.3.3.3.3.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.2.2.2.m2.3.3.3.3.2" xref="alg1.2.2.2.m2.3.3.3.3.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.2.2.2.m2.3.3.3.3.3" xref="alg1.2.2.2.m2.3.3.3.3.3.cmml">
            c
           </mi>
          </msub>
          <mo id="alg1.2.2.2.m2.5.5.5.8" xref="alg1.2.2.2.m2.5.5.6.cmml">
           ,
          </mo>
          <msub id="alg1.2.2.2.m2.4.4.4.4" xref="alg1.2.2.2.m2.4.4.4.4.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.2.2.2.m2.4.4.4.4.2" xref="alg1.2.2.2.m2.4.4.4.4.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.2.2.2.m2.4.4.4.4.3" xref="alg1.2.2.2.m2.4.4.4.4.3.cmml">
            d
           </mi>
          </msub>
          <mo id="alg1.2.2.2.m2.5.5.5.9" xref="alg1.2.2.2.m2.5.5.6.cmml">
           ,
          </mo>
          <msub id="alg1.2.2.2.m2.5.5.5.5" xref="alg1.2.2.2.m2.5.5.5.5.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.2.2.2.m2.5.5.5.5.2" xref="alg1.2.2.2.m2.5.5.5.5.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.2.2.2.m2.5.5.5.5.3" xref="alg1.2.2.2.m2.5.5.5.5.3.cmml">
            e
           </mi>
          </msub>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.2.2.2.m2.5b">
          <list id="alg1.2.2.2.m2.5.5.6.cmml" xref="alg1.2.2.2.m2.5.5.5">
           <apply id="alg1.2.2.2.m2.1.1.1.1.cmml" xref="alg1.2.2.2.m2.1.1.1.1">
            <csymbol cd="ambiguous" id="alg1.2.2.2.m2.1.1.1.1.1.cmml" xref="alg1.2.2.2.m2.1.1.1.1">
             subscript
            </csymbol>
            <ci id="alg1.2.2.2.m2.1.1.1.1.2.cmml" xref="alg1.2.2.2.m2.1.1.1.1.2">
             𝒫
            </ci>
            <ci id="alg1.2.2.2.m2.1.1.1.1.3.cmml" xref="alg1.2.2.2.m2.1.1.1.1.3">
             𝑎
            </ci>
           </apply>
           <apply id="alg1.2.2.2.m2.2.2.2.2.cmml" xref="alg1.2.2.2.m2.2.2.2.2">
            <csymbol cd="ambiguous" id="alg1.2.2.2.m2.2.2.2.2.1.cmml" xref="alg1.2.2.2.m2.2.2.2.2">
             subscript
            </csymbol>
            <ci id="alg1.2.2.2.m2.2.2.2.2.2.cmml" xref="alg1.2.2.2.m2.2.2.2.2.2">
             𝒫
            </ci>
            <ci id="alg1.2.2.2.m2.2.2.2.2.3.cmml" xref="alg1.2.2.2.m2.2.2.2.2.3">
             𝑏
            </ci>
           </apply>
           <apply id="alg1.2.2.2.m2.3.3.3.3.cmml" xref="alg1.2.2.2.m2.3.3.3.3">
            <csymbol cd="ambiguous" id="alg1.2.2.2.m2.3.3.3.3.1.cmml" xref="alg1.2.2.2.m2.3.3.3.3">
             subscript
            </csymbol>
            <ci id="alg1.2.2.2.m2.3.3.3.3.2.cmml" xref="alg1.2.2.2.m2.3.3.3.3.2">
             𝒫
            </ci>
            <ci id="alg1.2.2.2.m2.3.3.3.3.3.cmml" xref="alg1.2.2.2.m2.3.3.3.3.3">
             𝑐
            </ci>
           </apply>
           <apply id="alg1.2.2.2.m2.4.4.4.4.cmml" xref="alg1.2.2.2.m2.4.4.4.4">
            <csymbol cd="ambiguous" id="alg1.2.2.2.m2.4.4.4.4.1.cmml" xref="alg1.2.2.2.m2.4.4.4.4">
             subscript
            </csymbol>
            <ci id="alg1.2.2.2.m2.4.4.4.4.2.cmml" xref="alg1.2.2.2.m2.4.4.4.4.2">
             𝒫
            </ci>
            <ci id="alg1.2.2.2.m2.4.4.4.4.3.cmml" xref="alg1.2.2.2.m2.4.4.4.4.3">
             𝑑
            </ci>
           </apply>
           <apply id="alg1.2.2.2.m2.5.5.5.5.cmml" xref="alg1.2.2.2.m2.5.5.5.5">
            <csymbol cd="ambiguous" id="alg1.2.2.2.m2.5.5.5.5.1.cmml" xref="alg1.2.2.2.m2.5.5.5.5">
             subscript
            </csymbol>
            <ci id="alg1.2.2.2.m2.5.5.5.5.2.cmml" xref="alg1.2.2.2.m2.5.5.5.5.2">
             𝒫
            </ci>
            <ci id="alg1.2.2.2.m2.5.5.5.5.3.cmml" xref="alg1.2.2.2.m2.5.5.5.5.3">
             𝑒
            </ci>
           </apply>
          </list>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.2.2.2.m2.5c">
          \mathcal{P}_{a},\mathcal{P}_{b},\mathcal{P}_{c},\mathcal{P}_{d},\mathcal{P}_{e}
         </annotation>
        </semantics>
       </math>
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.3.3">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.3.3.1.1.1" style="font-size:80%;">
        1
       </span>
      </span>
      <span class="ltx_text" id="alg1.3.3.2" style="font-size:80%;">
       , agent list
      </span>
      <math alttext="K" class="ltx_Math" display="inline" id="alg1.3.3.m1.1">
       <semantics id="alg1.3.3.m1.1a">
        <mi id="alg1.3.3.m1.1.1" mathsize="80%" xref="alg1.3.3.m1.1.1.cmml">
         K
        </mi>
        <annotation-xml encoding="MathML-Content" id="alg1.3.3.m1.1b">
         <ci id="alg1.3.3.m1.1.1.cmml" xref="alg1.3.3.m1.1.1">
          𝐾
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.3.3.m1.1c">
         K
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.3.3.3" style="font-size:80%;">
       .
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.4.4">
      <span class="ltx_text" id="alg1.4.4.1" style="font-size:80%;">
       <span class="ltx_text ltx_font_bold" id="alg1.4.4.1.1">
        Output:
       </span>
      </span>
      <span class="ltx_text" id="alg1.4.4.2" style="font-size:80%;">
       Rewritten queries
      </span>
      <math alttext="\widetilde{\mathcal{Q}}^{k},k\in K" class="ltx_Math" display="inline" id="alg1.4.4.m1.2">
       <semantics id="alg1.4.4.m1.2a">
        <mrow id="alg1.4.4.m1.2.2" xref="alg1.4.4.m1.2.2.cmml">
         <mrow id="alg1.4.4.m1.2.2.1.1" xref="alg1.4.4.m1.2.2.1.2.cmml">
          <msup id="alg1.4.4.m1.2.2.1.1.1" xref="alg1.4.4.m1.2.2.1.1.1.cmml">
           <mover accent="true" id="alg1.4.4.m1.2.2.1.1.1.2" xref="alg1.4.4.m1.2.2.1.1.1.2.cmml">
            <mi class="ltx_font_mathcaligraphic" id="alg1.4.4.m1.2.2.1.1.1.2.2" mathsize="80%" xref="alg1.4.4.m1.2.2.1.1.1.2.2.cmml">
             𝒬
            </mi>
            <mo id="alg1.4.4.m1.2.2.1.1.1.2.1" mathsize="80%" xref="alg1.4.4.m1.2.2.1.1.1.2.1.cmml">
             ~
            </mo>
           </mover>
           <mi id="alg1.4.4.m1.2.2.1.1.1.3" mathsize="80%" xref="alg1.4.4.m1.2.2.1.1.1.3.cmml">
            k
           </mi>
          </msup>
          <mo id="alg1.4.4.m1.2.2.1.1.2" mathsize="80%" xref="alg1.4.4.m1.2.2.1.2.cmml">
           ,
          </mo>
          <mi id="alg1.4.4.m1.1.1" mathsize="80%" xref="alg1.4.4.m1.1.1.cmml">
           k
          </mi>
         </mrow>
         <mo id="alg1.4.4.m1.2.2.2" mathsize="80%" xref="alg1.4.4.m1.2.2.2.cmml">
          ∈
         </mo>
         <mi id="alg1.4.4.m1.2.2.3" mathsize="80%" xref="alg1.4.4.m1.2.2.3.cmml">
          K
         </mi>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.4.4.m1.2b">
         <apply id="alg1.4.4.m1.2.2.cmml" xref="alg1.4.4.m1.2.2">
          <in id="alg1.4.4.m1.2.2.2.cmml" xref="alg1.4.4.m1.2.2.2">
          </in>
          <list id="alg1.4.4.m1.2.2.1.2.cmml" xref="alg1.4.4.m1.2.2.1.1">
           <apply id="alg1.4.4.m1.2.2.1.1.1.cmml" xref="alg1.4.4.m1.2.2.1.1.1">
            <csymbol cd="ambiguous" id="alg1.4.4.m1.2.2.1.1.1.1.cmml" xref="alg1.4.4.m1.2.2.1.1.1">
             superscript
            </csymbol>
            <apply id="alg1.4.4.m1.2.2.1.1.1.2.cmml" xref="alg1.4.4.m1.2.2.1.1.1.2">
             <ci id="alg1.4.4.m1.2.2.1.1.1.2.1.cmml" xref="alg1.4.4.m1.2.2.1.1.1.2.1">
              ~
             </ci>
             <ci id="alg1.4.4.m1.2.2.1.1.1.2.2.cmml" xref="alg1.4.4.m1.2.2.1.1.1.2.2">
              𝒬
             </ci>
            </apply>
            <ci id="alg1.4.4.m1.2.2.1.1.1.3.cmml" xref="alg1.4.4.m1.2.2.1.1.1.3">
             𝑘
            </ci>
           </apply>
           <ci id="alg1.4.4.m1.1.1.cmml" xref="alg1.4.4.m1.1.1">
            𝑘
           </ci>
          </list>
          <ci id="alg1.4.4.m1.2.2.3.cmml" xref="alg1.4.4.m1.2.2.3">
           𝐾
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.4.4.m1.2c">
         \widetilde{\mathcal{Q}}^{k},k\in K
        </annotation>
       </semantics>
      </math>
     </div>
     <div class="ltx_listingline" id="alg1.5.5">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.5.5.2.1.1" style="font-size:80%;">
        2
       </span>
      </span>
      <span class="ltx_text" id="alg1.5.5.3" style="font-size:80%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.5.5.4" style="font-size:80%;">
       foreach
      </span>
      <span class="ltx_text" id="alg1.5.5.5" style="font-size:80%;">
      </span>
      <em class="ltx_emph ltx_font_italic" id="alg1.5.5.1" style="font-size:80%;">
       <math alttext="q_{i}\in\mathcal{Q}^{r}" class="ltx_Math" display="inline" id="alg1.5.5.1.m1.1">
        <semantics id="alg1.5.5.1.m1.1a">
         <mrow id="alg1.5.5.1.m1.1.1" xref="alg1.5.5.1.m1.1.1.cmml">
          <msub id="alg1.5.5.1.m1.1.1.2" xref="alg1.5.5.1.m1.1.1.2.cmml">
           <mi id="alg1.5.5.1.m1.1.1.2.2" xref="alg1.5.5.1.m1.1.1.2.2.cmml">
            q
           </mi>
           <mi id="alg1.5.5.1.m1.1.1.2.3" xref="alg1.5.5.1.m1.1.1.2.3.cmml">
            i
           </mi>
          </msub>
          <mo id="alg1.5.5.1.m1.1.1.1" xref="alg1.5.5.1.m1.1.1.1.cmml">
           ∈
          </mo>
          <msup id="alg1.5.5.1.m1.1.1.3" xref="alg1.5.5.1.m1.1.1.3.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.5.5.1.m1.1.1.3.2" xref="alg1.5.5.1.m1.1.1.3.2.cmml">
            𝒬
           </mi>
           <mi id="alg1.5.5.1.m1.1.1.3.3" xref="alg1.5.5.1.m1.1.1.3.3.cmml">
            r
           </mi>
          </msup>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.5.5.1.m1.1b">
          <apply id="alg1.5.5.1.m1.1.1.cmml" xref="alg1.5.5.1.m1.1.1">
           <in id="alg1.5.5.1.m1.1.1.1.cmml" xref="alg1.5.5.1.m1.1.1.1">
           </in>
           <apply id="alg1.5.5.1.m1.1.1.2.cmml" xref="alg1.5.5.1.m1.1.1.2">
            <csymbol cd="ambiguous" id="alg1.5.5.1.m1.1.1.2.1.cmml" xref="alg1.5.5.1.m1.1.1.2">
             subscript
            </csymbol>
            <ci id="alg1.5.5.1.m1.1.1.2.2.cmml" xref="alg1.5.5.1.m1.1.1.2.2">
             𝑞
            </ci>
            <ci id="alg1.5.5.1.m1.1.1.2.3.cmml" xref="alg1.5.5.1.m1.1.1.2.3">
             𝑖
            </ci>
           </apply>
           <apply id="alg1.5.5.1.m1.1.1.3.cmml" xref="alg1.5.5.1.m1.1.1.3">
            <csymbol cd="ambiguous" id="alg1.5.5.1.m1.1.1.3.1.cmml" xref="alg1.5.5.1.m1.1.1.3">
             superscript
            </csymbol>
            <ci id="alg1.5.5.1.m1.1.1.3.2.cmml" xref="alg1.5.5.1.m1.1.1.3.2">
             𝒬
            </ci>
            <ci id="alg1.5.5.1.m1.1.1.3.3.cmml" xref="alg1.5.5.1.m1.1.1.3.3">
             𝑟
            </ci>
           </apply>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.5.5.1.m1.1c">
          q_{i}\in\mathcal{Q}^{r}
         </annotation>
        </semantics>
       </math>
      </em>
      <span class="ltx_text" id="alg1.5.5.6" style="font-size:80%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.5.5.7" style="font-size:80%;">
       do
      </span>
      <span class="ltx_text" id="alg1.5.5.8" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.6.6">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.6.6.1.1.1" style="font-size:80%;">
        3
       </span>
      </span>
      <span class="ltx_text" id="alg1.6.6.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.6.6.3" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.6.6.4" style="font-size:80%;">
       Information extraction
      </span>
      <math alttext="e_{i}=\mathcal{P}_{a}(q_{i})" class="ltx_Math" display="inline" id="alg1.6.6.m1.1">
       <semantics id="alg1.6.6.m1.1a">
        <mrow id="alg1.6.6.m1.1.1" xref="alg1.6.6.m1.1.1.cmml">
         <msub id="alg1.6.6.m1.1.1.3" xref="alg1.6.6.m1.1.1.3.cmml">
          <mi id="alg1.6.6.m1.1.1.3.2" mathsize="80%" xref="alg1.6.6.m1.1.1.3.2.cmml">
           e
          </mi>
          <mi id="alg1.6.6.m1.1.1.3.3" mathsize="80%" xref="alg1.6.6.m1.1.1.3.3.cmml">
           i
          </mi>
         </msub>
         <mo id="alg1.6.6.m1.1.1.2" mathsize="80%" xref="alg1.6.6.m1.1.1.2.cmml">
          =
         </mo>
         <mrow id="alg1.6.6.m1.1.1.1" xref="alg1.6.6.m1.1.1.1.cmml">
          <msub id="alg1.6.6.m1.1.1.1.3" xref="alg1.6.6.m1.1.1.1.3.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.6.6.m1.1.1.1.3.2" mathsize="80%" xref="alg1.6.6.m1.1.1.1.3.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.6.6.m1.1.1.1.3.3" mathsize="80%" xref="alg1.6.6.m1.1.1.1.3.3.cmml">
            a
           </mi>
          </msub>
          <mo id="alg1.6.6.m1.1.1.1.2" lspace="0em" rspace="0em" xref="alg1.6.6.m1.1.1.1.2.cmml">
           ​
          </mo>
          <mrow id="alg1.6.6.m1.1.1.1.1.1" xref="alg1.6.6.m1.1.1.1.1.1.1.cmml">
           <mo id="alg1.6.6.m1.1.1.1.1.1.2" maxsize="80%" minsize="80%" xref="alg1.6.6.m1.1.1.1.1.1.1.cmml">
            (
           </mo>
           <msub id="alg1.6.6.m1.1.1.1.1.1.1" xref="alg1.6.6.m1.1.1.1.1.1.1.cmml">
            <mi id="alg1.6.6.m1.1.1.1.1.1.1.2" mathsize="80%" xref="alg1.6.6.m1.1.1.1.1.1.1.2.cmml">
             q
            </mi>
            <mi id="alg1.6.6.m1.1.1.1.1.1.1.3" mathsize="80%" xref="alg1.6.6.m1.1.1.1.1.1.1.3.cmml">
             i
            </mi>
           </msub>
           <mo id="alg1.6.6.m1.1.1.1.1.1.3" maxsize="80%" minsize="80%" xref="alg1.6.6.m1.1.1.1.1.1.1.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.6.6.m1.1b">
         <apply id="alg1.6.6.m1.1.1.cmml" xref="alg1.6.6.m1.1.1">
          <eq id="alg1.6.6.m1.1.1.2.cmml" xref="alg1.6.6.m1.1.1.2">
          </eq>
          <apply id="alg1.6.6.m1.1.1.3.cmml" xref="alg1.6.6.m1.1.1.3">
           <csymbol cd="ambiguous" id="alg1.6.6.m1.1.1.3.1.cmml" xref="alg1.6.6.m1.1.1.3">
            subscript
           </csymbol>
           <ci id="alg1.6.6.m1.1.1.3.2.cmml" xref="alg1.6.6.m1.1.1.3.2">
            𝑒
           </ci>
           <ci id="alg1.6.6.m1.1.1.3.3.cmml" xref="alg1.6.6.m1.1.1.3.3">
            𝑖
           </ci>
          </apply>
          <apply id="alg1.6.6.m1.1.1.1.cmml" xref="alg1.6.6.m1.1.1.1">
           <times id="alg1.6.6.m1.1.1.1.2.cmml" xref="alg1.6.6.m1.1.1.1.2">
           </times>
           <apply id="alg1.6.6.m1.1.1.1.3.cmml" xref="alg1.6.6.m1.1.1.1.3">
            <csymbol cd="ambiguous" id="alg1.6.6.m1.1.1.1.3.1.cmml" xref="alg1.6.6.m1.1.1.1.3">
             subscript
            </csymbol>
            <ci id="alg1.6.6.m1.1.1.1.3.2.cmml" xref="alg1.6.6.m1.1.1.1.3.2">
             𝒫
            </ci>
            <ci id="alg1.6.6.m1.1.1.1.3.3.cmml" xref="alg1.6.6.m1.1.1.1.3.3">
             𝑎
            </ci>
           </apply>
           <apply id="alg1.6.6.m1.1.1.1.1.1.1.cmml" xref="alg1.6.6.m1.1.1.1.1.1">
            <csymbol cd="ambiguous" id="alg1.6.6.m1.1.1.1.1.1.1.1.cmml" xref="alg1.6.6.m1.1.1.1.1.1">
             subscript
            </csymbol>
            <ci id="alg1.6.6.m1.1.1.1.1.1.1.2.cmml" xref="alg1.6.6.m1.1.1.1.1.1.1.2">
             𝑞
            </ci>
            <ci id="alg1.6.6.m1.1.1.1.1.1.1.3.cmml" xref="alg1.6.6.m1.1.1.1.1.1.1.3">
             𝑖
            </ci>
           </apply>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.6.6.m1.1c">
         e_{i}=\mathcal{P}_{a}(q_{i})
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.6.6.5" style="font-size:80%;">
       ;
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.7.7">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.7.7.2.1.1" style="font-size:80%;">
        4
       </span>
      </span>
      <span class="ltx_text" id="alg1.7.7.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.7.7.4" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.7.7.5" style="font-size:80%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.7.7.6" style="font-size:80%;">
       foreach
      </span>
      <span class="ltx_text" id="alg1.7.7.7" style="font-size:80%;">
      </span>
      <em class="ltx_emph ltx_font_italic" id="alg1.7.7.1" style="font-size:80%;">
       <span class="ltx_text" id="alg1.7.7.1.1">
        agent
       </span>
       <math alttext="k\in K" class="ltx_Math" display="inline" id="alg1.7.7.1.m1.1">
        <semantics id="alg1.7.7.1.m1.1a">
         <mrow id="alg1.7.7.1.m1.1.1" xref="alg1.7.7.1.m1.1.1.cmml">
          <mi id="alg1.7.7.1.m1.1.1.2" xref="alg1.7.7.1.m1.1.1.2.cmml">
           k
          </mi>
          <mo id="alg1.7.7.1.m1.1.1.1" xref="alg1.7.7.1.m1.1.1.1.cmml">
           ∈
          </mo>
          <mi id="alg1.7.7.1.m1.1.1.3" xref="alg1.7.7.1.m1.1.1.3.cmml">
           K
          </mi>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.7.7.1.m1.1b">
          <apply id="alg1.7.7.1.m1.1.1.cmml" xref="alg1.7.7.1.m1.1.1">
           <in id="alg1.7.7.1.m1.1.1.1.cmml" xref="alg1.7.7.1.m1.1.1.1">
           </in>
           <ci id="alg1.7.7.1.m1.1.1.2.cmml" xref="alg1.7.7.1.m1.1.1.2">
            𝑘
           </ci>
           <ci id="alg1.7.7.1.m1.1.1.3.cmml" xref="alg1.7.7.1.m1.1.1.3">
            𝐾
           </ci>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.7.7.1.m1.1c">
          k\in K
         </annotation>
        </semantics>
       </math>
      </em>
      <span class="ltx_text" id="alg1.7.7.8" style="font-size:80%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.7.7.9" style="font-size:80%;">
       do
      </span>
      <span class="ltx_text" id="alg1.7.7.10" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.8.8">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.8.8.1.1.1" style="font-size:80%;">
        5
       </span>
      </span>
      <span class="ltx_text" id="alg1.8.8.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.8.8.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.8.8.4" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.8.8.5" style="font-size:80%;">
       Persona rewriting
      </span>
      <math alttext="q^{\prime}_{i_{k}}=\mathcal{P}_{b}(e_{i},k)" class="ltx_Math" display="inline" id="alg1.8.8.m1.2">
       <semantics id="alg1.8.8.m1.2a">
        <mrow id="alg1.8.8.m1.2.2" xref="alg1.8.8.m1.2.2.cmml">
         <msubsup id="alg1.8.8.m1.2.2.3" xref="alg1.8.8.m1.2.2.3.cmml">
          <mi id="alg1.8.8.m1.2.2.3.2.2" mathsize="80%" xref="alg1.8.8.m1.2.2.3.2.2.cmml">
           q
          </mi>
          <msub id="alg1.8.8.m1.2.2.3.3" xref="alg1.8.8.m1.2.2.3.3.cmml">
           <mi id="alg1.8.8.m1.2.2.3.3.2" mathsize="80%" xref="alg1.8.8.m1.2.2.3.3.2.cmml">
            i
           </mi>
           <mi id="alg1.8.8.m1.2.2.3.3.3" mathsize="80%" xref="alg1.8.8.m1.2.2.3.3.3.cmml">
            k
           </mi>
          </msub>
          <mo id="alg1.8.8.m1.2.2.3.2.3" mathsize="80%" xref="alg1.8.8.m1.2.2.3.2.3.cmml">
           ′
          </mo>
         </msubsup>
         <mo id="alg1.8.8.m1.2.2.2" mathsize="80%" xref="alg1.8.8.m1.2.2.2.cmml">
          =
         </mo>
         <mrow id="alg1.8.8.m1.2.2.1" xref="alg1.8.8.m1.2.2.1.cmml">
          <msub id="alg1.8.8.m1.2.2.1.3" xref="alg1.8.8.m1.2.2.1.3.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.8.8.m1.2.2.1.3.2" mathsize="80%" xref="alg1.8.8.m1.2.2.1.3.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.8.8.m1.2.2.1.3.3" mathsize="80%" xref="alg1.8.8.m1.2.2.1.3.3.cmml">
            b
           </mi>
          </msub>
          <mo id="alg1.8.8.m1.2.2.1.2" lspace="0em" rspace="0em" xref="alg1.8.8.m1.2.2.1.2.cmml">
           ​
          </mo>
          <mrow id="alg1.8.8.m1.2.2.1.1.1" xref="alg1.8.8.m1.2.2.1.1.2.cmml">
           <mo id="alg1.8.8.m1.2.2.1.1.1.2" maxsize="80%" minsize="80%" xref="alg1.8.8.m1.2.2.1.1.2.cmml">
            (
           </mo>
           <msub id="alg1.8.8.m1.2.2.1.1.1.1" xref="alg1.8.8.m1.2.2.1.1.1.1.cmml">
            <mi id="alg1.8.8.m1.2.2.1.1.1.1.2" mathsize="80%" xref="alg1.8.8.m1.2.2.1.1.1.1.2.cmml">
             e
            </mi>
            <mi id="alg1.8.8.m1.2.2.1.1.1.1.3" mathsize="80%" xref="alg1.8.8.m1.2.2.1.1.1.1.3.cmml">
             i
            </mi>
           </msub>
           <mo id="alg1.8.8.m1.2.2.1.1.1.3" mathsize="80%" xref="alg1.8.8.m1.2.2.1.1.2.cmml">
            ,
           </mo>
           <mi id="alg1.8.8.m1.1.1" mathsize="80%" xref="alg1.8.8.m1.1.1.cmml">
            k
           </mi>
           <mo id="alg1.8.8.m1.2.2.1.1.1.4" maxsize="80%" minsize="80%" xref="alg1.8.8.m1.2.2.1.1.2.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.8.8.m1.2b">
         <apply id="alg1.8.8.m1.2.2.cmml" xref="alg1.8.8.m1.2.2">
          <eq id="alg1.8.8.m1.2.2.2.cmml" xref="alg1.8.8.m1.2.2.2">
          </eq>
          <apply id="alg1.8.8.m1.2.2.3.cmml" xref="alg1.8.8.m1.2.2.3">
           <csymbol cd="ambiguous" id="alg1.8.8.m1.2.2.3.1.cmml" xref="alg1.8.8.m1.2.2.3">
            subscript
           </csymbol>
           <apply id="alg1.8.8.m1.2.2.3.2.cmml" xref="alg1.8.8.m1.2.2.3">
            <csymbol cd="ambiguous" id="alg1.8.8.m1.2.2.3.2.1.cmml" xref="alg1.8.8.m1.2.2.3">
             superscript
            </csymbol>
            <ci id="alg1.8.8.m1.2.2.3.2.2.cmml" xref="alg1.8.8.m1.2.2.3.2.2">
             𝑞
            </ci>
            <ci id="alg1.8.8.m1.2.2.3.2.3.cmml" xref="alg1.8.8.m1.2.2.3.2.3">
             ′
            </ci>
           </apply>
           <apply id="alg1.8.8.m1.2.2.3.3.cmml" xref="alg1.8.8.m1.2.2.3.3">
            <csymbol cd="ambiguous" id="alg1.8.8.m1.2.2.3.3.1.cmml" xref="alg1.8.8.m1.2.2.3.3">
             subscript
            </csymbol>
            <ci id="alg1.8.8.m1.2.2.3.3.2.cmml" xref="alg1.8.8.m1.2.2.3.3.2">
             𝑖
            </ci>
            <ci id="alg1.8.8.m1.2.2.3.3.3.cmml" xref="alg1.8.8.m1.2.2.3.3.3">
             𝑘
            </ci>
           </apply>
          </apply>
          <apply id="alg1.8.8.m1.2.2.1.cmml" xref="alg1.8.8.m1.2.2.1">
           <times id="alg1.8.8.m1.2.2.1.2.cmml" xref="alg1.8.8.m1.2.2.1.2">
           </times>
           <apply id="alg1.8.8.m1.2.2.1.3.cmml" xref="alg1.8.8.m1.2.2.1.3">
            <csymbol cd="ambiguous" id="alg1.8.8.m1.2.2.1.3.1.cmml" xref="alg1.8.8.m1.2.2.1.3">
             subscript
            </csymbol>
            <ci id="alg1.8.8.m1.2.2.1.3.2.cmml" xref="alg1.8.8.m1.2.2.1.3.2">
             𝒫
            </ci>
            <ci id="alg1.8.8.m1.2.2.1.3.3.cmml" xref="alg1.8.8.m1.2.2.1.3.3">
             𝑏
            </ci>
           </apply>
           <interval closure="open" id="alg1.8.8.m1.2.2.1.1.2.cmml" xref="alg1.8.8.m1.2.2.1.1.1">
            <apply id="alg1.8.8.m1.2.2.1.1.1.1.cmml" xref="alg1.8.8.m1.2.2.1.1.1.1">
             <csymbol cd="ambiguous" id="alg1.8.8.m1.2.2.1.1.1.1.1.cmml" xref="alg1.8.8.m1.2.2.1.1.1.1">
              subscript
             </csymbol>
             <ci id="alg1.8.8.m1.2.2.1.1.1.1.2.cmml" xref="alg1.8.8.m1.2.2.1.1.1.1.2">
              𝑒
             </ci>
             <ci id="alg1.8.8.m1.2.2.1.1.1.1.3.cmml" xref="alg1.8.8.m1.2.2.1.1.1.1.3">
              𝑖
             </ci>
            </apply>
            <ci id="alg1.8.8.m1.1.1.cmml" xref="alg1.8.8.m1.1.1">
             𝑘
            </ci>
           </interval>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.8.8.m1.2c">
         q^{\prime}_{i_{k}}=\mathcal{P}_{b}(e_{i},k)
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.8.8.6" style="font-size:80%;">
       ;
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.10.10">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.10.10.1.1.1" style="font-size:80%;">
        6
       </span>
      </span>
      <span class="ltx_text" id="alg1.10.10.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.10.10.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.10.10.4" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.10.10.5" style="font-size:80%;">
       Get quality and persona score
      </span>
      <math alttext="s_{0},s_{1}" class="ltx_Math" display="inline" id="alg1.9.9.m1.2">
       <semantics id="alg1.9.9.m1.2a">
        <mrow id="alg1.9.9.m1.2.2.2" xref="alg1.9.9.m1.2.2.3.cmml">
         <msub id="alg1.9.9.m1.1.1.1.1" xref="alg1.9.9.m1.1.1.1.1.cmml">
          <mi id="alg1.9.9.m1.1.1.1.1.2" mathsize="80%" xref="alg1.9.9.m1.1.1.1.1.2.cmml">
           s
          </mi>
          <mn id="alg1.9.9.m1.1.1.1.1.3" mathsize="80%" xref="alg1.9.9.m1.1.1.1.1.3.cmml">
           0
          </mn>
         </msub>
         <mo id="alg1.9.9.m1.2.2.2.3" mathsize="80%" xref="alg1.9.9.m1.2.2.3.cmml">
          ,
         </mo>
         <msub id="alg1.9.9.m1.2.2.2.2" xref="alg1.9.9.m1.2.2.2.2.cmml">
          <mi id="alg1.9.9.m1.2.2.2.2.2" mathsize="80%" xref="alg1.9.9.m1.2.2.2.2.2.cmml">
           s
          </mi>
          <mn id="alg1.9.9.m1.2.2.2.2.3" mathsize="80%" xref="alg1.9.9.m1.2.2.2.2.3.cmml">
           1
          </mn>
         </msub>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.9.9.m1.2b">
         <list id="alg1.9.9.m1.2.2.3.cmml" xref="alg1.9.9.m1.2.2.2">
          <apply id="alg1.9.9.m1.1.1.1.1.cmml" xref="alg1.9.9.m1.1.1.1.1">
           <csymbol cd="ambiguous" id="alg1.9.9.m1.1.1.1.1.1.cmml" xref="alg1.9.9.m1.1.1.1.1">
            subscript
           </csymbol>
           <ci id="alg1.9.9.m1.1.1.1.1.2.cmml" xref="alg1.9.9.m1.1.1.1.1.2">
            𝑠
           </ci>
           <cn id="alg1.9.9.m1.1.1.1.1.3.cmml" type="integer" xref="alg1.9.9.m1.1.1.1.1.3">
            0
           </cn>
          </apply>
          <apply id="alg1.9.9.m1.2.2.2.2.cmml" xref="alg1.9.9.m1.2.2.2.2">
           <csymbol cd="ambiguous" id="alg1.9.9.m1.2.2.2.2.1.cmml" xref="alg1.9.9.m1.2.2.2.2">
            subscript
           </csymbol>
           <ci id="alg1.9.9.m1.2.2.2.2.2.cmml" xref="alg1.9.9.m1.2.2.2.2.2">
            𝑠
           </ci>
           <cn id="alg1.9.9.m1.2.2.2.2.3.cmml" type="integer" xref="alg1.9.9.m1.2.2.2.2.3">
            1
           </cn>
          </apply>
         </list>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.9.9.m1.2c">
         s_{0},s_{1}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.10.10.6" style="font-size:80%;">
       via query check
      </span>
      <math alttext="s_{0},s_{1}=\mathcal{P}_{c}(q^{\prime}_{i_{k}},q_{i},k)" class="ltx_Math" display="inline" id="alg1.10.10.m2.5">
       <semantics id="alg1.10.10.m2.5a">
        <mrow id="alg1.10.10.m2.5.5" xref="alg1.10.10.m2.5.5.cmml">
         <mrow id="alg1.10.10.m2.3.3.2.2" xref="alg1.10.10.m2.3.3.2.3.cmml">
          <msub id="alg1.10.10.m2.2.2.1.1.1" xref="alg1.10.10.m2.2.2.1.1.1.cmml">
           <mi id="alg1.10.10.m2.2.2.1.1.1.2" mathsize="80%" xref="alg1.10.10.m2.2.2.1.1.1.2.cmml">
            s
           </mi>
           <mn id="alg1.10.10.m2.2.2.1.1.1.3" mathsize="80%" xref="alg1.10.10.m2.2.2.1.1.1.3.cmml">
            0
           </mn>
          </msub>
          <mo id="alg1.10.10.m2.3.3.2.2.3" mathsize="80%" xref="alg1.10.10.m2.3.3.2.3.cmml">
           ,
          </mo>
          <msub id="alg1.10.10.m2.3.3.2.2.2" xref="alg1.10.10.m2.3.3.2.2.2.cmml">
           <mi id="alg1.10.10.m2.3.3.2.2.2.2" mathsize="80%" xref="alg1.10.10.m2.3.3.2.2.2.2.cmml">
            s
           </mi>
           <mn id="alg1.10.10.m2.3.3.2.2.2.3" mathsize="80%" xref="alg1.10.10.m2.3.3.2.2.2.3.cmml">
            1
           </mn>
          </msub>
         </mrow>
         <mo id="alg1.10.10.m2.5.5.5" mathsize="80%" xref="alg1.10.10.m2.5.5.5.cmml">
          =
         </mo>
         <mrow id="alg1.10.10.m2.5.5.4" xref="alg1.10.10.m2.5.5.4.cmml">
          <msub id="alg1.10.10.m2.5.5.4.4" xref="alg1.10.10.m2.5.5.4.4.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.10.10.m2.5.5.4.4.2" mathsize="80%" xref="alg1.10.10.m2.5.5.4.4.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.10.10.m2.5.5.4.4.3" mathsize="80%" xref="alg1.10.10.m2.5.5.4.4.3.cmml">
            c
           </mi>
          </msub>
          <mo id="alg1.10.10.m2.5.5.4.3" lspace="0em" rspace="0em" xref="alg1.10.10.m2.5.5.4.3.cmml">
           ​
          </mo>
          <mrow id="alg1.10.10.m2.5.5.4.2.2" xref="alg1.10.10.m2.5.5.4.2.3.cmml">
           <mo id="alg1.10.10.m2.5.5.4.2.2.3" maxsize="80%" minsize="80%" xref="alg1.10.10.m2.5.5.4.2.3.cmml">
            (
           </mo>
           <msubsup id="alg1.10.10.m2.4.4.3.1.1.1" xref="alg1.10.10.m2.4.4.3.1.1.1.cmml">
            <mi id="alg1.10.10.m2.4.4.3.1.1.1.2.2" mathsize="80%" xref="alg1.10.10.m2.4.4.3.1.1.1.2.2.cmml">
             q
            </mi>
            <msub id="alg1.10.10.m2.4.4.3.1.1.1.3" xref="alg1.10.10.m2.4.4.3.1.1.1.3.cmml">
             <mi id="alg1.10.10.m2.4.4.3.1.1.1.3.2" mathsize="80%" xref="alg1.10.10.m2.4.4.3.1.1.1.3.2.cmml">
              i
             </mi>
             <mi id="alg1.10.10.m2.4.4.3.1.1.1.3.3" mathsize="80%" xref="alg1.10.10.m2.4.4.3.1.1.1.3.3.cmml">
              k
             </mi>
            </msub>
            <mo id="alg1.10.10.m2.4.4.3.1.1.1.2.3" mathsize="80%" xref="alg1.10.10.m2.4.4.3.1.1.1.2.3.cmml">
             ′
            </mo>
           </msubsup>
           <mo id="alg1.10.10.m2.5.5.4.2.2.4" mathsize="80%" xref="alg1.10.10.m2.5.5.4.2.3.cmml">
            ,
           </mo>
           <msub id="alg1.10.10.m2.5.5.4.2.2.2" xref="alg1.10.10.m2.5.5.4.2.2.2.cmml">
            <mi id="alg1.10.10.m2.5.5.4.2.2.2.2" mathsize="80%" xref="alg1.10.10.m2.5.5.4.2.2.2.2.cmml">
             q
            </mi>
            <mi id="alg1.10.10.m2.5.5.4.2.2.2.3" mathsize="80%" xref="alg1.10.10.m2.5.5.4.2.2.2.3.cmml">
             i
            </mi>
           </msub>
           <mo id="alg1.10.10.m2.5.5.4.2.2.5" mathsize="80%" xref="alg1.10.10.m2.5.5.4.2.3.cmml">
            ,
           </mo>
           <mi id="alg1.10.10.m2.1.1" mathsize="80%" xref="alg1.10.10.m2.1.1.cmml">
            k
           </mi>
           <mo id="alg1.10.10.m2.5.5.4.2.2.6" maxsize="80%" minsize="80%" xref="alg1.10.10.m2.5.5.4.2.3.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.10.10.m2.5b">
         <apply id="alg1.10.10.m2.5.5.cmml" xref="alg1.10.10.m2.5.5">
          <eq id="alg1.10.10.m2.5.5.5.cmml" xref="alg1.10.10.m2.5.5.5">
          </eq>
          <list id="alg1.10.10.m2.3.3.2.3.cmml" xref="alg1.10.10.m2.3.3.2.2">
           <apply id="alg1.10.10.m2.2.2.1.1.1.cmml" xref="alg1.10.10.m2.2.2.1.1.1">
            <csymbol cd="ambiguous" id="alg1.10.10.m2.2.2.1.1.1.1.cmml" xref="alg1.10.10.m2.2.2.1.1.1">
             subscript
            </csymbol>
            <ci id="alg1.10.10.m2.2.2.1.1.1.2.cmml" xref="alg1.10.10.m2.2.2.1.1.1.2">
             𝑠
            </ci>
            <cn id="alg1.10.10.m2.2.2.1.1.1.3.cmml" type="integer" xref="alg1.10.10.m2.2.2.1.1.1.3">
             0
            </cn>
           </apply>
           <apply id="alg1.10.10.m2.3.3.2.2.2.cmml" xref="alg1.10.10.m2.3.3.2.2.2">
            <csymbol cd="ambiguous" id="alg1.10.10.m2.3.3.2.2.2.1.cmml" xref="alg1.10.10.m2.3.3.2.2.2">
             subscript
            </csymbol>
            <ci id="alg1.10.10.m2.3.3.2.2.2.2.cmml" xref="alg1.10.10.m2.3.3.2.2.2.2">
             𝑠
            </ci>
            <cn id="alg1.10.10.m2.3.3.2.2.2.3.cmml" type="integer" xref="alg1.10.10.m2.3.3.2.2.2.3">
             1
            </cn>
           </apply>
          </list>
          <apply id="alg1.10.10.m2.5.5.4.cmml" xref="alg1.10.10.m2.5.5.4">
           <times id="alg1.10.10.m2.5.5.4.3.cmml" xref="alg1.10.10.m2.5.5.4.3">
           </times>
           <apply id="alg1.10.10.m2.5.5.4.4.cmml" xref="alg1.10.10.m2.5.5.4.4">
            <csymbol cd="ambiguous" id="alg1.10.10.m2.5.5.4.4.1.cmml" xref="alg1.10.10.m2.5.5.4.4">
             subscript
            </csymbol>
            <ci id="alg1.10.10.m2.5.5.4.4.2.cmml" xref="alg1.10.10.m2.5.5.4.4.2">
             𝒫
            </ci>
            <ci id="alg1.10.10.m2.5.5.4.4.3.cmml" xref="alg1.10.10.m2.5.5.4.4.3">
             𝑐
            </ci>
           </apply>
           <vector id="alg1.10.10.m2.5.5.4.2.3.cmml" xref="alg1.10.10.m2.5.5.4.2.2">
            <apply id="alg1.10.10.m2.4.4.3.1.1.1.cmml" xref="alg1.10.10.m2.4.4.3.1.1.1">
             <csymbol cd="ambiguous" id="alg1.10.10.m2.4.4.3.1.1.1.1.cmml" xref="alg1.10.10.m2.4.4.3.1.1.1">
              subscript
             </csymbol>
             <apply id="alg1.10.10.m2.4.4.3.1.1.1.2.cmml" xref="alg1.10.10.m2.4.4.3.1.1.1">
              <csymbol cd="ambiguous" id="alg1.10.10.m2.4.4.3.1.1.1.2.1.cmml" xref="alg1.10.10.m2.4.4.3.1.1.1">
               superscript
              </csymbol>
              <ci id="alg1.10.10.m2.4.4.3.1.1.1.2.2.cmml" xref="alg1.10.10.m2.4.4.3.1.1.1.2.2">
               𝑞
              </ci>
              <ci id="alg1.10.10.m2.4.4.3.1.1.1.2.3.cmml" xref="alg1.10.10.m2.4.4.3.1.1.1.2.3">
               ′
              </ci>
             </apply>
             <apply id="alg1.10.10.m2.4.4.3.1.1.1.3.cmml" xref="alg1.10.10.m2.4.4.3.1.1.1.3">
              <csymbol cd="ambiguous" id="alg1.10.10.m2.4.4.3.1.1.1.3.1.cmml" xref="alg1.10.10.m2.4.4.3.1.1.1.3">
               subscript
              </csymbol>
              <ci id="alg1.10.10.m2.4.4.3.1.1.1.3.2.cmml" xref="alg1.10.10.m2.4.4.3.1.1.1.3.2">
               𝑖
              </ci>
              <ci id="alg1.10.10.m2.4.4.3.1.1.1.3.3.cmml" xref="alg1.10.10.m2.4.4.3.1.1.1.3.3">
               𝑘
              </ci>
             </apply>
            </apply>
            <apply id="alg1.10.10.m2.5.5.4.2.2.2.cmml" xref="alg1.10.10.m2.5.5.4.2.2.2">
             <csymbol cd="ambiguous" id="alg1.10.10.m2.5.5.4.2.2.2.1.cmml" xref="alg1.10.10.m2.5.5.4.2.2.2">
              subscript
             </csymbol>
             <ci id="alg1.10.10.m2.5.5.4.2.2.2.2.cmml" xref="alg1.10.10.m2.5.5.4.2.2.2.2">
              𝑞
             </ci>
             <ci id="alg1.10.10.m2.5.5.4.2.2.2.3.cmml" xref="alg1.10.10.m2.5.5.4.2.2.2.3">
              𝑖
             </ci>
            </apply>
            <ci id="alg1.10.10.m2.1.1.cmml" xref="alg1.10.10.m2.1.1">
             𝑘
            </ci>
           </vector>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.10.10.m2.5c">
         s_{0},s_{1}=\mathcal{P}_{c}(q^{\prime}_{i_{k}},q_{i},k)
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.10.10.7" style="font-size:80%;">
       ;
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.25">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.25.1.1.1" style="font-size:80%;">
        7
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.25.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.25.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.25.4" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.25.5" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.12.12">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.12.12.3.1.1" style="font-size:80%;">
        8
       </span>
      </span>
      <span class="ltx_text" id="alg1.12.12.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.12.12.5" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.12.12.6" style="font-size:80%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.12.12.7" style="font-size:80%;">
       while
      </span>
      <span class="ltx_text" id="alg1.12.12.8" style="font-size:80%;">
      </span>
      <em class="ltx_emph ltx_font_italic" id="alg1.12.12.2" style="font-size:80%;">
       <math alttext="s_{0}&lt;0" class="ltx_Math" display="inline" id="alg1.11.11.1.m1.1">
        <semantics id="alg1.11.11.1.m1.1a">
         <mrow id="alg1.11.11.1.m1.1.1" xref="alg1.11.11.1.m1.1.1.cmml">
          <msub id="alg1.11.11.1.m1.1.1.2" xref="alg1.11.11.1.m1.1.1.2.cmml">
           <mi id="alg1.11.11.1.m1.1.1.2.2" xref="alg1.11.11.1.m1.1.1.2.2.cmml">
            s
           </mi>
           <mn id="alg1.11.11.1.m1.1.1.2.3" xref="alg1.11.11.1.m1.1.1.2.3.cmml">
            0
           </mn>
          </msub>
          <mo id="alg1.11.11.1.m1.1.1.1" xref="alg1.11.11.1.m1.1.1.1.cmml">
           &lt;
          </mo>
          <mn id="alg1.11.11.1.m1.1.1.3" xref="alg1.11.11.1.m1.1.1.3.cmml">
           0
          </mn>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.11.11.1.m1.1b">
          <apply id="alg1.11.11.1.m1.1.1.cmml" xref="alg1.11.11.1.m1.1.1">
           <lt id="alg1.11.11.1.m1.1.1.1.cmml" xref="alg1.11.11.1.m1.1.1.1">
           </lt>
           <apply id="alg1.11.11.1.m1.1.1.2.cmml" xref="alg1.11.11.1.m1.1.1.2">
            <csymbol cd="ambiguous" id="alg1.11.11.1.m1.1.1.2.1.cmml" xref="alg1.11.11.1.m1.1.1.2">
             subscript
            </csymbol>
            <ci id="alg1.11.11.1.m1.1.1.2.2.cmml" xref="alg1.11.11.1.m1.1.1.2.2">
             𝑠
            </ci>
            <cn id="alg1.11.11.1.m1.1.1.2.3.cmml" type="integer" xref="alg1.11.11.1.m1.1.1.2.3">
             0
            </cn>
           </apply>
           <cn id="alg1.11.11.1.m1.1.1.3.cmml" type="integer" xref="alg1.11.11.1.m1.1.1.3">
            0
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.11.11.1.m1.1c">
          s_{0}&lt;0
         </annotation>
        </semantics>
       </math>
       or
       <math alttext="s_{1}&lt;0" class="ltx_Math" display="inline" id="alg1.12.12.2.m2.1">
        <semantics id="alg1.12.12.2.m2.1a">
         <mrow id="alg1.12.12.2.m2.1.1" xref="alg1.12.12.2.m2.1.1.cmml">
          <msub id="alg1.12.12.2.m2.1.1.2" xref="alg1.12.12.2.m2.1.1.2.cmml">
           <mi id="alg1.12.12.2.m2.1.1.2.2" xref="alg1.12.12.2.m2.1.1.2.2.cmml">
            s
           </mi>
           <mn id="alg1.12.12.2.m2.1.1.2.3" xref="alg1.12.12.2.m2.1.1.2.3.cmml">
            1
           </mn>
          </msub>
          <mo id="alg1.12.12.2.m2.1.1.1" xref="alg1.12.12.2.m2.1.1.1.cmml">
           &lt;
          </mo>
          <mn id="alg1.12.12.2.m2.1.1.3" xref="alg1.12.12.2.m2.1.1.3.cmml">
           0
          </mn>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.12.12.2.m2.1b">
          <apply id="alg1.12.12.2.m2.1.1.cmml" xref="alg1.12.12.2.m2.1.1">
           <lt id="alg1.12.12.2.m2.1.1.1.cmml" xref="alg1.12.12.2.m2.1.1.1">
           </lt>
           <apply id="alg1.12.12.2.m2.1.1.2.cmml" xref="alg1.12.12.2.m2.1.1.2">
            <csymbol cd="ambiguous" id="alg1.12.12.2.m2.1.1.2.1.cmml" xref="alg1.12.12.2.m2.1.1.2">
             subscript
            </csymbol>
            <ci id="alg1.12.12.2.m2.1.1.2.2.cmml" xref="alg1.12.12.2.m2.1.1.2.2">
             𝑠
            </ci>
            <cn id="alg1.12.12.2.m2.1.1.2.3.cmml" type="integer" xref="alg1.12.12.2.m2.1.1.2.3">
             1
            </cn>
           </apply>
           <cn id="alg1.12.12.2.m2.1.1.3.cmml" type="integer" xref="alg1.12.12.2.m2.1.1.3">
            0
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.12.12.2.m2.1c">
          s_{1}&lt;0
         </annotation>
        </semantics>
       </math>
      </em>
      <span class="ltx_text" id="alg1.12.12.9" style="font-size:80%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.12.12.10" style="font-size:80%;">
       do
      </span>
      <span class="ltx_text" id="alg1.12.12.11" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.14.14">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.14.14.3.1.1" style="font-size:80%;">
        9
       </span>
      </span>
      <span class="ltx_text" id="alg1.14.14.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.14.14.5" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.14.14.6" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.14.14.7" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.14.14.8" style="font-size:80%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.14.14.9" style="font-size:80%;">
       if
      </span>
      <span class="ltx_text" id="alg1.14.14.10" style="font-size:80%;">
      </span>
      <em class="ltx_emph ltx_font_italic" id="alg1.14.14.2" style="font-size:80%;">
       <math alttext="s_{0}&lt;0" class="ltx_Math" display="inline" id="alg1.13.13.1.m1.1">
        <semantics id="alg1.13.13.1.m1.1a">
         <mrow id="alg1.13.13.1.m1.1.1" xref="alg1.13.13.1.m1.1.1.cmml">
          <msub id="alg1.13.13.1.m1.1.1.2" xref="alg1.13.13.1.m1.1.1.2.cmml">
           <mi id="alg1.13.13.1.m1.1.1.2.2" xref="alg1.13.13.1.m1.1.1.2.2.cmml">
            s
           </mi>
           <mn id="alg1.13.13.1.m1.1.1.2.3" xref="alg1.13.13.1.m1.1.1.2.3.cmml">
            0
           </mn>
          </msub>
          <mo id="alg1.13.13.1.m1.1.1.1" xref="alg1.13.13.1.m1.1.1.1.cmml">
           &lt;
          </mo>
          <mn id="alg1.13.13.1.m1.1.1.3" xref="alg1.13.13.1.m1.1.1.3.cmml">
           0
          </mn>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.13.13.1.m1.1b">
          <apply id="alg1.13.13.1.m1.1.1.cmml" xref="alg1.13.13.1.m1.1.1">
           <lt id="alg1.13.13.1.m1.1.1.1.cmml" xref="alg1.13.13.1.m1.1.1.1">
           </lt>
           <apply id="alg1.13.13.1.m1.1.1.2.cmml" xref="alg1.13.13.1.m1.1.1.2">
            <csymbol cd="ambiguous" id="alg1.13.13.1.m1.1.1.2.1.cmml" xref="alg1.13.13.1.m1.1.1.2">
             subscript
            </csymbol>
            <ci id="alg1.13.13.1.m1.1.1.2.2.cmml" xref="alg1.13.13.1.m1.1.1.2.2">
             𝑠
            </ci>
            <cn id="alg1.13.13.1.m1.1.1.2.3.cmml" type="integer" xref="alg1.13.13.1.m1.1.1.2.3">
             0
            </cn>
           </apply>
           <cn id="alg1.13.13.1.m1.1.1.3.cmml" type="integer" xref="alg1.13.13.1.m1.1.1.3">
            0
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.13.13.1.m1.1c">
          s_{0}&lt;0
         </annotation>
        </semantics>
       </math>
       and
       <math alttext="s_{1}&gt;=0" class="ltx_Math" display="inline" id="alg1.14.14.2.m2.1">
        <semantics id="alg1.14.14.2.m2.1a">
         <mrow id="alg1.14.14.2.m2.1.1" xref="alg1.14.14.2.m2.1.1.cmml">
          <msub id="alg1.14.14.2.m2.1.1.2" xref="alg1.14.14.2.m2.1.1.2.cmml">
           <mi id="alg1.14.14.2.m2.1.1.2.2" xref="alg1.14.14.2.m2.1.1.2.2.cmml">
            s
           </mi>
           <mn id="alg1.14.14.2.m2.1.1.2.3" xref="alg1.14.14.2.m2.1.1.2.3.cmml">
            1
           </mn>
          </msub>
          <mo id="alg1.14.14.2.m2.1.1.1" lspace="0.278em" rspace="0.278em" xref="alg1.14.14.2.m2.1.1.1.cmml">
           &gt;=
          </mo>
          <mn id="alg1.14.14.2.m2.1.1.3" xref="alg1.14.14.2.m2.1.1.3.cmml">
           0
          </mn>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.14.14.2.m2.1b">
          <apply id="alg1.14.14.2.m2.1.1.cmml" xref="alg1.14.14.2.m2.1.1">
           <geq id="alg1.14.14.2.m2.1.1.1.cmml" xref="alg1.14.14.2.m2.1.1.1">
           </geq>
           <apply id="alg1.14.14.2.m2.1.1.2.cmml" xref="alg1.14.14.2.m2.1.1.2">
            <csymbol cd="ambiguous" id="alg1.14.14.2.m2.1.1.2.1.cmml" xref="alg1.14.14.2.m2.1.1.2">
             subscript
            </csymbol>
            <ci id="alg1.14.14.2.m2.1.1.2.2.cmml" xref="alg1.14.14.2.m2.1.1.2.2">
             𝑠
            </ci>
            <cn id="alg1.14.14.2.m2.1.1.2.3.cmml" type="integer" xref="alg1.14.14.2.m2.1.1.2.3">
             1
            </cn>
           </apply>
           <cn id="alg1.14.14.2.m2.1.1.3.cmml" type="integer" xref="alg1.14.14.2.m2.1.1.3">
            0
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.14.14.2.m2.1c">
          s_{1}&gt;=0
         </annotation>
        </semantics>
       </math>
      </em>
      <span class="ltx_text" id="alg1.14.14.11" style="font-size:80%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.14.14.12" style="font-size:80%;">
       then
      </span>
      <span class="ltx_text" id="alg1.14.14.13" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.15.15">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.15.15.1.1.1" style="font-size:80%;">
        10
       </span>
      </span>
      <span class="ltx_text" id="alg1.15.15.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.15.15.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.15.15.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.15.15.5" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.15.15.6" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.15.15.7" style="font-size:80%;">
       Query regeneration
      </span>
      <math alttext="q^{\prime}_{i_{k}}=\mathcal{P}_{d}(e_{i},q_{i},q^{\prime}_{i_{k}},k)" class="ltx_Math" display="inline" id="alg1.15.15.m1.4">
       <semantics id="alg1.15.15.m1.4a">
        <mrow id="alg1.15.15.m1.4.4" xref="alg1.15.15.m1.4.4.cmml">
         <msubsup id="alg1.15.15.m1.4.4.5" xref="alg1.15.15.m1.4.4.5.cmml">
          <mi id="alg1.15.15.m1.4.4.5.2.2" mathsize="80%" xref="alg1.15.15.m1.4.4.5.2.2.cmml">
           q
          </mi>
          <msub id="alg1.15.15.m1.4.4.5.3" xref="alg1.15.15.m1.4.4.5.3.cmml">
           <mi id="alg1.15.15.m1.4.4.5.3.2" mathsize="80%" xref="alg1.15.15.m1.4.4.5.3.2.cmml">
            i
           </mi>
           <mi id="alg1.15.15.m1.4.4.5.3.3" mathsize="80%" xref="alg1.15.15.m1.4.4.5.3.3.cmml">
            k
           </mi>
          </msub>
          <mo id="alg1.15.15.m1.4.4.5.2.3" mathsize="80%" xref="alg1.15.15.m1.4.4.5.2.3.cmml">
           ′
          </mo>
         </msubsup>
         <mo id="alg1.15.15.m1.4.4.4" mathsize="80%" xref="alg1.15.15.m1.4.4.4.cmml">
          =
         </mo>
         <mrow id="alg1.15.15.m1.4.4.3" xref="alg1.15.15.m1.4.4.3.cmml">
          <msub id="alg1.15.15.m1.4.4.3.5" xref="alg1.15.15.m1.4.4.3.5.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.15.15.m1.4.4.3.5.2" mathsize="80%" xref="alg1.15.15.m1.4.4.3.5.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.15.15.m1.4.4.3.5.3" mathsize="80%" xref="alg1.15.15.m1.4.4.3.5.3.cmml">
            d
           </mi>
          </msub>
          <mo id="alg1.15.15.m1.4.4.3.4" lspace="0em" rspace="0em" xref="alg1.15.15.m1.4.4.3.4.cmml">
           ​
          </mo>
          <mrow id="alg1.15.15.m1.4.4.3.3.3" xref="alg1.15.15.m1.4.4.3.3.4.cmml">
           <mo id="alg1.15.15.m1.4.4.3.3.3.4" maxsize="80%" minsize="80%" xref="alg1.15.15.m1.4.4.3.3.4.cmml">
            (
           </mo>
           <msub id="alg1.15.15.m1.2.2.1.1.1.1" xref="alg1.15.15.m1.2.2.1.1.1.1.cmml">
            <mi id="alg1.15.15.m1.2.2.1.1.1.1.2" mathsize="80%" xref="alg1.15.15.m1.2.2.1.1.1.1.2.cmml">
             e
            </mi>
            <mi id="alg1.15.15.m1.2.2.1.1.1.1.3" mathsize="80%" xref="alg1.15.15.m1.2.2.1.1.1.1.3.cmml">
             i
            </mi>
           </msub>
           <mo id="alg1.15.15.m1.4.4.3.3.3.5" mathsize="80%" xref="alg1.15.15.m1.4.4.3.3.4.cmml">
            ,
           </mo>
           <msub id="alg1.15.15.m1.3.3.2.2.2.2" xref="alg1.15.15.m1.3.3.2.2.2.2.cmml">
            <mi id="alg1.15.15.m1.3.3.2.2.2.2.2" mathsize="80%" xref="alg1.15.15.m1.3.3.2.2.2.2.2.cmml">
             q
            </mi>
            <mi id="alg1.15.15.m1.3.3.2.2.2.2.3" mathsize="80%" xref="alg1.15.15.m1.3.3.2.2.2.2.3.cmml">
             i
            </mi>
           </msub>
           <mo id="alg1.15.15.m1.4.4.3.3.3.6" mathsize="80%" xref="alg1.15.15.m1.4.4.3.3.4.cmml">
            ,
           </mo>
           <msubsup id="alg1.15.15.m1.4.4.3.3.3.3" xref="alg1.15.15.m1.4.4.3.3.3.3.cmml">
            <mi id="alg1.15.15.m1.4.4.3.3.3.3.2.2" mathsize="80%" xref="alg1.15.15.m1.4.4.3.3.3.3.2.2.cmml">
             q
            </mi>
            <msub id="alg1.15.15.m1.4.4.3.3.3.3.3" xref="alg1.15.15.m1.4.4.3.3.3.3.3.cmml">
             <mi id="alg1.15.15.m1.4.4.3.3.3.3.3.2" mathsize="80%" xref="alg1.15.15.m1.4.4.3.3.3.3.3.2.cmml">
              i
             </mi>
             <mi id="alg1.15.15.m1.4.4.3.3.3.3.3.3" mathsize="80%" xref="alg1.15.15.m1.4.4.3.3.3.3.3.3.cmml">
              k
             </mi>
            </msub>
            <mo id="alg1.15.15.m1.4.4.3.3.3.3.2.3" mathsize="80%" xref="alg1.15.15.m1.4.4.3.3.3.3.2.3.cmml">
             ′
            </mo>
           </msubsup>
           <mo id="alg1.15.15.m1.4.4.3.3.3.7" mathsize="80%" xref="alg1.15.15.m1.4.4.3.3.4.cmml">
            ,
           </mo>
           <mi id="alg1.15.15.m1.1.1" mathsize="80%" xref="alg1.15.15.m1.1.1.cmml">
            k
           </mi>
           <mo id="alg1.15.15.m1.4.4.3.3.3.8" maxsize="80%" minsize="80%" xref="alg1.15.15.m1.4.4.3.3.4.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.15.15.m1.4b">
         <apply id="alg1.15.15.m1.4.4.cmml" xref="alg1.15.15.m1.4.4">
          <eq id="alg1.15.15.m1.4.4.4.cmml" xref="alg1.15.15.m1.4.4.4">
          </eq>
          <apply id="alg1.15.15.m1.4.4.5.cmml" xref="alg1.15.15.m1.4.4.5">
           <csymbol cd="ambiguous" id="alg1.15.15.m1.4.4.5.1.cmml" xref="alg1.15.15.m1.4.4.5">
            subscript
           </csymbol>
           <apply id="alg1.15.15.m1.4.4.5.2.cmml" xref="alg1.15.15.m1.4.4.5">
            <csymbol cd="ambiguous" id="alg1.15.15.m1.4.4.5.2.1.cmml" xref="alg1.15.15.m1.4.4.5">
             superscript
            </csymbol>
            <ci id="alg1.15.15.m1.4.4.5.2.2.cmml" xref="alg1.15.15.m1.4.4.5.2.2">
             𝑞
            </ci>
            <ci id="alg1.15.15.m1.4.4.5.2.3.cmml" xref="alg1.15.15.m1.4.4.5.2.3">
             ′
            </ci>
           </apply>
           <apply id="alg1.15.15.m1.4.4.5.3.cmml" xref="alg1.15.15.m1.4.4.5.3">
            <csymbol cd="ambiguous" id="alg1.15.15.m1.4.4.5.3.1.cmml" xref="alg1.15.15.m1.4.4.5.3">
             subscript
            </csymbol>
            <ci id="alg1.15.15.m1.4.4.5.3.2.cmml" xref="alg1.15.15.m1.4.4.5.3.2">
             𝑖
            </ci>
            <ci id="alg1.15.15.m1.4.4.5.3.3.cmml" xref="alg1.15.15.m1.4.4.5.3.3">
             𝑘
            </ci>
           </apply>
          </apply>
          <apply id="alg1.15.15.m1.4.4.3.cmml" xref="alg1.15.15.m1.4.4.3">
           <times id="alg1.15.15.m1.4.4.3.4.cmml" xref="alg1.15.15.m1.4.4.3.4">
           </times>
           <apply id="alg1.15.15.m1.4.4.3.5.cmml" xref="alg1.15.15.m1.4.4.3.5">
            <csymbol cd="ambiguous" id="alg1.15.15.m1.4.4.3.5.1.cmml" xref="alg1.15.15.m1.4.4.3.5">
             subscript
            </csymbol>
            <ci id="alg1.15.15.m1.4.4.3.5.2.cmml" xref="alg1.15.15.m1.4.4.3.5.2">
             𝒫
            </ci>
            <ci id="alg1.15.15.m1.4.4.3.5.3.cmml" xref="alg1.15.15.m1.4.4.3.5.3">
             𝑑
            </ci>
           </apply>
           <vector id="alg1.15.15.m1.4.4.3.3.4.cmml" xref="alg1.15.15.m1.4.4.3.3.3">
            <apply id="alg1.15.15.m1.2.2.1.1.1.1.cmml" xref="alg1.15.15.m1.2.2.1.1.1.1">
             <csymbol cd="ambiguous" id="alg1.15.15.m1.2.2.1.1.1.1.1.cmml" xref="alg1.15.15.m1.2.2.1.1.1.1">
              subscript
             </csymbol>
             <ci id="alg1.15.15.m1.2.2.1.1.1.1.2.cmml" xref="alg1.15.15.m1.2.2.1.1.1.1.2">
              𝑒
             </ci>
             <ci id="alg1.15.15.m1.2.2.1.1.1.1.3.cmml" xref="alg1.15.15.m1.2.2.1.1.1.1.3">
              𝑖
             </ci>
            </apply>
            <apply id="alg1.15.15.m1.3.3.2.2.2.2.cmml" xref="alg1.15.15.m1.3.3.2.2.2.2">
             <csymbol cd="ambiguous" id="alg1.15.15.m1.3.3.2.2.2.2.1.cmml" xref="alg1.15.15.m1.3.3.2.2.2.2">
              subscript
             </csymbol>
             <ci id="alg1.15.15.m1.3.3.2.2.2.2.2.cmml" xref="alg1.15.15.m1.3.3.2.2.2.2.2">
              𝑞
             </ci>
             <ci id="alg1.15.15.m1.3.3.2.2.2.2.3.cmml" xref="alg1.15.15.m1.3.3.2.2.2.2.3">
              𝑖
             </ci>
            </apply>
            <apply id="alg1.15.15.m1.4.4.3.3.3.3.cmml" xref="alg1.15.15.m1.4.4.3.3.3.3">
             <csymbol cd="ambiguous" id="alg1.15.15.m1.4.4.3.3.3.3.1.cmml" xref="alg1.15.15.m1.4.4.3.3.3.3">
              subscript
             </csymbol>
             <apply id="alg1.15.15.m1.4.4.3.3.3.3.2.cmml" xref="alg1.15.15.m1.4.4.3.3.3.3">
              <csymbol cd="ambiguous" id="alg1.15.15.m1.4.4.3.3.3.3.2.1.cmml" xref="alg1.15.15.m1.4.4.3.3.3.3">
               superscript
              </csymbol>
              <ci id="alg1.15.15.m1.4.4.3.3.3.3.2.2.cmml" xref="alg1.15.15.m1.4.4.3.3.3.3.2.2">
               𝑞
              </ci>
              <ci id="alg1.15.15.m1.4.4.3.3.3.3.2.3.cmml" xref="alg1.15.15.m1.4.4.3.3.3.3.2.3">
               ′
              </ci>
             </apply>
             <apply id="alg1.15.15.m1.4.4.3.3.3.3.3.cmml" xref="alg1.15.15.m1.4.4.3.3.3.3.3">
              <csymbol cd="ambiguous" id="alg1.15.15.m1.4.4.3.3.3.3.3.1.cmml" xref="alg1.15.15.m1.4.4.3.3.3.3.3">
               subscript
              </csymbol>
              <ci id="alg1.15.15.m1.4.4.3.3.3.3.3.2.cmml" xref="alg1.15.15.m1.4.4.3.3.3.3.3.2">
               𝑖
              </ci>
              <ci id="alg1.15.15.m1.4.4.3.3.3.3.3.3.cmml" xref="alg1.15.15.m1.4.4.3.3.3.3.3.3">
               𝑘
              </ci>
             </apply>
            </apply>
            <ci id="alg1.15.15.m1.1.1.cmml" xref="alg1.15.15.m1.1.1">
             𝑘
            </ci>
           </vector>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.15.15.m1.4c">
         q^{\prime}_{i_{k}}=\mathcal{P}_{d}(e_{i},q_{i},q^{\prime}_{i_{k}},k)
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.15.15.8" style="font-size:80%;">
       ;
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.26">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.26.1.1.1" style="font-size:80%;">
        11
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.26.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.26.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.26.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.26.5" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.26.6" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.26.7" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.27">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.27.1.1.1" style="font-size:80%;">
        12
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.27.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.27.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.27.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.27.5" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.27.6" style="font-size:80%;">
       end if
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.17.17">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.17.17.3.1.1" style="font-size:80%;">
        13
       </span>
      </span>
      <span class="ltx_text" id="alg1.17.17.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.17.17.5" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.17.17.6" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.17.17.7" style="font-size:80%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.17.17.8" style="font-size:80%;">
       if
      </span>
      <span class="ltx_text" id="alg1.17.17.9" style="font-size:80%;">
      </span>
      <em class="ltx_emph ltx_font_italic" id="alg1.17.17.2" style="font-size:80%;">
       <math alttext="s_{1}&lt;0" class="ltx_Math" display="inline" id="alg1.16.16.1.m1.1">
        <semantics id="alg1.16.16.1.m1.1a">
         <mrow id="alg1.16.16.1.m1.1.1" xref="alg1.16.16.1.m1.1.1.cmml">
          <msub id="alg1.16.16.1.m1.1.1.2" xref="alg1.16.16.1.m1.1.1.2.cmml">
           <mi id="alg1.16.16.1.m1.1.1.2.2" xref="alg1.16.16.1.m1.1.1.2.2.cmml">
            s
           </mi>
           <mn id="alg1.16.16.1.m1.1.1.2.3" xref="alg1.16.16.1.m1.1.1.2.3.cmml">
            1
           </mn>
          </msub>
          <mo id="alg1.16.16.1.m1.1.1.1" xref="alg1.16.16.1.m1.1.1.1.cmml">
           &lt;
          </mo>
          <mn id="alg1.16.16.1.m1.1.1.3" xref="alg1.16.16.1.m1.1.1.3.cmml">
           0
          </mn>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.16.16.1.m1.1b">
          <apply id="alg1.16.16.1.m1.1.1.cmml" xref="alg1.16.16.1.m1.1.1">
           <lt id="alg1.16.16.1.m1.1.1.1.cmml" xref="alg1.16.16.1.m1.1.1.1">
           </lt>
           <apply id="alg1.16.16.1.m1.1.1.2.cmml" xref="alg1.16.16.1.m1.1.1.2">
            <csymbol cd="ambiguous" id="alg1.16.16.1.m1.1.1.2.1.cmml" xref="alg1.16.16.1.m1.1.1.2">
             subscript
            </csymbol>
            <ci id="alg1.16.16.1.m1.1.1.2.2.cmml" xref="alg1.16.16.1.m1.1.1.2.2">
             𝑠
            </ci>
            <cn id="alg1.16.16.1.m1.1.1.2.3.cmml" type="integer" xref="alg1.16.16.1.m1.1.1.2.3">
             1
            </cn>
           </apply>
           <cn id="alg1.16.16.1.m1.1.1.3.cmml" type="integer" xref="alg1.16.16.1.m1.1.1.3">
            0
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.16.16.1.m1.1c">
          s_{1}&lt;0
         </annotation>
        </semantics>
       </math>
       and
       <math alttext="s_{0}&gt;=0" class="ltx_Math" display="inline" id="alg1.17.17.2.m2.1">
        <semantics id="alg1.17.17.2.m2.1a">
         <mrow id="alg1.17.17.2.m2.1.1" xref="alg1.17.17.2.m2.1.1.cmml">
          <msub id="alg1.17.17.2.m2.1.1.2" xref="alg1.17.17.2.m2.1.1.2.cmml">
           <mi id="alg1.17.17.2.m2.1.1.2.2" xref="alg1.17.17.2.m2.1.1.2.2.cmml">
            s
           </mi>
           <mn id="alg1.17.17.2.m2.1.1.2.3" xref="alg1.17.17.2.m2.1.1.2.3.cmml">
            0
           </mn>
          </msub>
          <mo id="alg1.17.17.2.m2.1.1.1" lspace="0.278em" rspace="0.278em" xref="alg1.17.17.2.m2.1.1.1.cmml">
           &gt;=
          </mo>
          <mn id="alg1.17.17.2.m2.1.1.3" xref="alg1.17.17.2.m2.1.1.3.cmml">
           0
          </mn>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="alg1.17.17.2.m2.1b">
          <apply id="alg1.17.17.2.m2.1.1.cmml" xref="alg1.17.17.2.m2.1.1">
           <geq id="alg1.17.17.2.m2.1.1.1.cmml" xref="alg1.17.17.2.m2.1.1.1">
           </geq>
           <apply id="alg1.17.17.2.m2.1.1.2.cmml" xref="alg1.17.17.2.m2.1.1.2">
            <csymbol cd="ambiguous" id="alg1.17.17.2.m2.1.1.2.1.cmml" xref="alg1.17.17.2.m2.1.1.2">
             subscript
            </csymbol>
            <ci id="alg1.17.17.2.m2.1.1.2.2.cmml" xref="alg1.17.17.2.m2.1.1.2.2">
             𝑠
            </ci>
            <cn id="alg1.17.17.2.m2.1.1.2.3.cmml" type="integer" xref="alg1.17.17.2.m2.1.1.2.3">
             0
            </cn>
           </apply>
           <cn id="alg1.17.17.2.m2.1.1.3.cmml" type="integer" xref="alg1.17.17.2.m2.1.1.3">
            0
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="alg1.17.17.2.m2.1c">
          s_{0}&gt;=0
         </annotation>
        </semantics>
       </math>
      </em>
      <span class="ltx_text" id="alg1.17.17.10" style="font-size:80%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.17.17.11" style="font-size:80%;">
       then
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.18.18">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.18.18.1.1.1" style="font-size:80%;">
        14
       </span>
      </span>
      <span class="ltx_text" id="alg1.18.18.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.18.18.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.18.18.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.18.18.5" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.18.18.6" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.18.18.7" style="font-size:80%;">
       Query regeneration
      </span>
      <math alttext="q^{\prime}_{i_{k}}=\mathcal{P}_{e}(e_{i},q_{i},q^{\prime}_{i_{k}},k)" class="ltx_Math" display="inline" id="alg1.18.18.m1.4">
       <semantics id="alg1.18.18.m1.4a">
        <mrow id="alg1.18.18.m1.4.4" xref="alg1.18.18.m1.4.4.cmml">
         <msubsup id="alg1.18.18.m1.4.4.5" xref="alg1.18.18.m1.4.4.5.cmml">
          <mi id="alg1.18.18.m1.4.4.5.2.2" mathsize="80%" xref="alg1.18.18.m1.4.4.5.2.2.cmml">
           q
          </mi>
          <msub id="alg1.18.18.m1.4.4.5.3" xref="alg1.18.18.m1.4.4.5.3.cmml">
           <mi id="alg1.18.18.m1.4.4.5.3.2" mathsize="80%" xref="alg1.18.18.m1.4.4.5.3.2.cmml">
            i
           </mi>
           <mi id="alg1.18.18.m1.4.4.5.3.3" mathsize="80%" xref="alg1.18.18.m1.4.4.5.3.3.cmml">
            k
           </mi>
          </msub>
          <mo id="alg1.18.18.m1.4.4.5.2.3" mathsize="80%" xref="alg1.18.18.m1.4.4.5.2.3.cmml">
           ′
          </mo>
         </msubsup>
         <mo id="alg1.18.18.m1.4.4.4" mathsize="80%" xref="alg1.18.18.m1.4.4.4.cmml">
          =
         </mo>
         <mrow id="alg1.18.18.m1.4.4.3" xref="alg1.18.18.m1.4.4.3.cmml">
          <msub id="alg1.18.18.m1.4.4.3.5" xref="alg1.18.18.m1.4.4.3.5.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.18.18.m1.4.4.3.5.2" mathsize="80%" xref="alg1.18.18.m1.4.4.3.5.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.18.18.m1.4.4.3.5.3" mathsize="80%" xref="alg1.18.18.m1.4.4.3.5.3.cmml">
            e
           </mi>
          </msub>
          <mo id="alg1.18.18.m1.4.4.3.4" lspace="0em" rspace="0em" xref="alg1.18.18.m1.4.4.3.4.cmml">
           ​
          </mo>
          <mrow id="alg1.18.18.m1.4.4.3.3.3" xref="alg1.18.18.m1.4.4.3.3.4.cmml">
           <mo id="alg1.18.18.m1.4.4.3.3.3.4" maxsize="80%" minsize="80%" xref="alg1.18.18.m1.4.4.3.3.4.cmml">
            (
           </mo>
           <msub id="alg1.18.18.m1.2.2.1.1.1.1" xref="alg1.18.18.m1.2.2.1.1.1.1.cmml">
            <mi id="alg1.18.18.m1.2.2.1.1.1.1.2" mathsize="80%" xref="alg1.18.18.m1.2.2.1.1.1.1.2.cmml">
             e
            </mi>
            <mi id="alg1.18.18.m1.2.2.1.1.1.1.3" mathsize="80%" xref="alg1.18.18.m1.2.2.1.1.1.1.3.cmml">
             i
            </mi>
           </msub>
           <mo id="alg1.18.18.m1.4.4.3.3.3.5" mathsize="80%" xref="alg1.18.18.m1.4.4.3.3.4.cmml">
            ,
           </mo>
           <msub id="alg1.18.18.m1.3.3.2.2.2.2" xref="alg1.18.18.m1.3.3.2.2.2.2.cmml">
            <mi id="alg1.18.18.m1.3.3.2.2.2.2.2" mathsize="80%" xref="alg1.18.18.m1.3.3.2.2.2.2.2.cmml">
             q
            </mi>
            <mi id="alg1.18.18.m1.3.3.2.2.2.2.3" mathsize="80%" xref="alg1.18.18.m1.3.3.2.2.2.2.3.cmml">
             i
            </mi>
           </msub>
           <mo id="alg1.18.18.m1.4.4.3.3.3.6" mathsize="80%" xref="alg1.18.18.m1.4.4.3.3.4.cmml">
            ,
           </mo>
           <msubsup id="alg1.18.18.m1.4.4.3.3.3.3" xref="alg1.18.18.m1.4.4.3.3.3.3.cmml">
            <mi id="alg1.18.18.m1.4.4.3.3.3.3.2.2" mathsize="80%" xref="alg1.18.18.m1.4.4.3.3.3.3.2.2.cmml">
             q
            </mi>
            <msub id="alg1.18.18.m1.4.4.3.3.3.3.3" xref="alg1.18.18.m1.4.4.3.3.3.3.3.cmml">
             <mi id="alg1.18.18.m1.4.4.3.3.3.3.3.2" mathsize="80%" xref="alg1.18.18.m1.4.4.3.3.3.3.3.2.cmml">
              i
             </mi>
             <mi id="alg1.18.18.m1.4.4.3.3.3.3.3.3" mathsize="80%" xref="alg1.18.18.m1.4.4.3.3.3.3.3.3.cmml">
              k
             </mi>
            </msub>
            <mo id="alg1.18.18.m1.4.4.3.3.3.3.2.3" mathsize="80%" xref="alg1.18.18.m1.4.4.3.3.3.3.2.3.cmml">
             ′
            </mo>
           </msubsup>
           <mo id="alg1.18.18.m1.4.4.3.3.3.7" mathsize="80%" xref="alg1.18.18.m1.4.4.3.3.4.cmml">
            ,
           </mo>
           <mi id="alg1.18.18.m1.1.1" mathsize="80%" xref="alg1.18.18.m1.1.1.cmml">
            k
           </mi>
           <mo id="alg1.18.18.m1.4.4.3.3.3.8" maxsize="80%" minsize="80%" xref="alg1.18.18.m1.4.4.3.3.4.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.18.18.m1.4b">
         <apply id="alg1.18.18.m1.4.4.cmml" xref="alg1.18.18.m1.4.4">
          <eq id="alg1.18.18.m1.4.4.4.cmml" xref="alg1.18.18.m1.4.4.4">
          </eq>
          <apply id="alg1.18.18.m1.4.4.5.cmml" xref="alg1.18.18.m1.4.4.5">
           <csymbol cd="ambiguous" id="alg1.18.18.m1.4.4.5.1.cmml" xref="alg1.18.18.m1.4.4.5">
            subscript
           </csymbol>
           <apply id="alg1.18.18.m1.4.4.5.2.cmml" xref="alg1.18.18.m1.4.4.5">
            <csymbol cd="ambiguous" id="alg1.18.18.m1.4.4.5.2.1.cmml" xref="alg1.18.18.m1.4.4.5">
             superscript
            </csymbol>
            <ci id="alg1.18.18.m1.4.4.5.2.2.cmml" xref="alg1.18.18.m1.4.4.5.2.2">
             𝑞
            </ci>
            <ci id="alg1.18.18.m1.4.4.5.2.3.cmml" xref="alg1.18.18.m1.4.4.5.2.3">
             ′
            </ci>
           </apply>
           <apply id="alg1.18.18.m1.4.4.5.3.cmml" xref="alg1.18.18.m1.4.4.5.3">
            <csymbol cd="ambiguous" id="alg1.18.18.m1.4.4.5.3.1.cmml" xref="alg1.18.18.m1.4.4.5.3">
             subscript
            </csymbol>
            <ci id="alg1.18.18.m1.4.4.5.3.2.cmml" xref="alg1.18.18.m1.4.4.5.3.2">
             𝑖
            </ci>
            <ci id="alg1.18.18.m1.4.4.5.3.3.cmml" xref="alg1.18.18.m1.4.4.5.3.3">
             𝑘
            </ci>
           </apply>
          </apply>
          <apply id="alg1.18.18.m1.4.4.3.cmml" xref="alg1.18.18.m1.4.4.3">
           <times id="alg1.18.18.m1.4.4.3.4.cmml" xref="alg1.18.18.m1.4.4.3.4">
           </times>
           <apply id="alg1.18.18.m1.4.4.3.5.cmml" xref="alg1.18.18.m1.4.4.3.5">
            <csymbol cd="ambiguous" id="alg1.18.18.m1.4.4.3.5.1.cmml" xref="alg1.18.18.m1.4.4.3.5">
             subscript
            </csymbol>
            <ci id="alg1.18.18.m1.4.4.3.5.2.cmml" xref="alg1.18.18.m1.4.4.3.5.2">
             𝒫
            </ci>
            <ci id="alg1.18.18.m1.4.4.3.5.3.cmml" xref="alg1.18.18.m1.4.4.3.5.3">
             𝑒
            </ci>
           </apply>
           <vector id="alg1.18.18.m1.4.4.3.3.4.cmml" xref="alg1.18.18.m1.4.4.3.3.3">
            <apply id="alg1.18.18.m1.2.2.1.1.1.1.cmml" xref="alg1.18.18.m1.2.2.1.1.1.1">
             <csymbol cd="ambiguous" id="alg1.18.18.m1.2.2.1.1.1.1.1.cmml" xref="alg1.18.18.m1.2.2.1.1.1.1">
              subscript
             </csymbol>
             <ci id="alg1.18.18.m1.2.2.1.1.1.1.2.cmml" xref="alg1.18.18.m1.2.2.1.1.1.1.2">
              𝑒
             </ci>
             <ci id="alg1.18.18.m1.2.2.1.1.1.1.3.cmml" xref="alg1.18.18.m1.2.2.1.1.1.1.3">
              𝑖
             </ci>
            </apply>
            <apply id="alg1.18.18.m1.3.3.2.2.2.2.cmml" xref="alg1.18.18.m1.3.3.2.2.2.2">
             <csymbol cd="ambiguous" id="alg1.18.18.m1.3.3.2.2.2.2.1.cmml" xref="alg1.18.18.m1.3.3.2.2.2.2">
              subscript
             </csymbol>
             <ci id="alg1.18.18.m1.3.3.2.2.2.2.2.cmml" xref="alg1.18.18.m1.3.3.2.2.2.2.2">
              𝑞
             </ci>
             <ci id="alg1.18.18.m1.3.3.2.2.2.2.3.cmml" xref="alg1.18.18.m1.3.3.2.2.2.2.3">
              𝑖
             </ci>
            </apply>
            <apply id="alg1.18.18.m1.4.4.3.3.3.3.cmml" xref="alg1.18.18.m1.4.4.3.3.3.3">
             <csymbol cd="ambiguous" id="alg1.18.18.m1.4.4.3.3.3.3.1.cmml" xref="alg1.18.18.m1.4.4.3.3.3.3">
              subscript
             </csymbol>
             <apply id="alg1.18.18.m1.4.4.3.3.3.3.2.cmml" xref="alg1.18.18.m1.4.4.3.3.3.3">
              <csymbol cd="ambiguous" id="alg1.18.18.m1.4.4.3.3.3.3.2.1.cmml" xref="alg1.18.18.m1.4.4.3.3.3.3">
               superscript
              </csymbol>
              <ci id="alg1.18.18.m1.4.4.3.3.3.3.2.2.cmml" xref="alg1.18.18.m1.4.4.3.3.3.3.2.2">
               𝑞
              </ci>
              <ci id="alg1.18.18.m1.4.4.3.3.3.3.2.3.cmml" xref="alg1.18.18.m1.4.4.3.3.3.3.2.3">
               ′
              </ci>
             </apply>
             <apply id="alg1.18.18.m1.4.4.3.3.3.3.3.cmml" xref="alg1.18.18.m1.4.4.3.3.3.3.3">
              <csymbol cd="ambiguous" id="alg1.18.18.m1.4.4.3.3.3.3.3.1.cmml" xref="alg1.18.18.m1.4.4.3.3.3.3.3">
               subscript
              </csymbol>
              <ci id="alg1.18.18.m1.4.4.3.3.3.3.3.2.cmml" xref="alg1.18.18.m1.4.4.3.3.3.3.3.2">
               𝑖
              </ci>
              <ci id="alg1.18.18.m1.4.4.3.3.3.3.3.3.cmml" xref="alg1.18.18.m1.4.4.3.3.3.3.3.3">
               𝑘
              </ci>
             </apply>
            </apply>
            <ci id="alg1.18.18.m1.1.1.cmml" xref="alg1.18.18.m1.1.1">
             𝑘
            </ci>
           </vector>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.18.18.m1.4c">
         q^{\prime}_{i_{k}}=\mathcal{P}_{e}(e_{i},q_{i},q^{\prime}_{i_{k}},k)
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.18.18.8" style="font-size:80%;">
       ;
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.28">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.28.1.1.1" style="font-size:80%;">
        15
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.28.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.28.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.28.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.28.5" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.28.6" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.28.7" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.29">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.29.1.1.1" style="font-size:80%;">
        16
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.29.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.29.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.29.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.29.5" style="font-size:80%;">
      </span>
      <span class="ltx_text ltx_font_bold" id="alg1.24.29.6" style="font-size:80%;">
       else
      </span>
      <span class="ltx_text" id="alg1.24.29.7" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.19.19">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.19.19.1.1.1" style="font-size:80%;">
        17
       </span>
      </span>
      <span class="ltx_text" id="alg1.19.19.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.19.19.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.19.19.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.19.19.5" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.19.19.6" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.19.19.7" style="font-size:80%;">
       Query regeneration
      </span>
      <math alttext="q^{\prime}_{i_{k}}=\mathcal{P}_{f}(e_{i},q_{i},q^{\prime}_{i_{k}},k)" class="ltx_Math" display="inline" id="alg1.19.19.m1.4">
       <semantics id="alg1.19.19.m1.4a">
        <mrow id="alg1.19.19.m1.4.4" xref="alg1.19.19.m1.4.4.cmml">
         <msubsup id="alg1.19.19.m1.4.4.5" xref="alg1.19.19.m1.4.4.5.cmml">
          <mi id="alg1.19.19.m1.4.4.5.2.2" mathsize="80%" xref="alg1.19.19.m1.4.4.5.2.2.cmml">
           q
          </mi>
          <msub id="alg1.19.19.m1.4.4.5.3" xref="alg1.19.19.m1.4.4.5.3.cmml">
           <mi id="alg1.19.19.m1.4.4.5.3.2" mathsize="80%" xref="alg1.19.19.m1.4.4.5.3.2.cmml">
            i
           </mi>
           <mi id="alg1.19.19.m1.4.4.5.3.3" mathsize="80%" xref="alg1.19.19.m1.4.4.5.3.3.cmml">
            k
           </mi>
          </msub>
          <mo id="alg1.19.19.m1.4.4.5.2.3" mathsize="80%" xref="alg1.19.19.m1.4.4.5.2.3.cmml">
           ′
          </mo>
         </msubsup>
         <mo id="alg1.19.19.m1.4.4.4" mathsize="80%" xref="alg1.19.19.m1.4.4.4.cmml">
          =
         </mo>
         <mrow id="alg1.19.19.m1.4.4.3" xref="alg1.19.19.m1.4.4.3.cmml">
          <msub id="alg1.19.19.m1.4.4.3.5" xref="alg1.19.19.m1.4.4.3.5.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.19.19.m1.4.4.3.5.2" mathsize="80%" xref="alg1.19.19.m1.4.4.3.5.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.19.19.m1.4.4.3.5.3" mathsize="80%" xref="alg1.19.19.m1.4.4.3.5.3.cmml">
            f
           </mi>
          </msub>
          <mo id="alg1.19.19.m1.4.4.3.4" lspace="0em" rspace="0em" xref="alg1.19.19.m1.4.4.3.4.cmml">
           ​
          </mo>
          <mrow id="alg1.19.19.m1.4.4.3.3.3" xref="alg1.19.19.m1.4.4.3.3.4.cmml">
           <mo id="alg1.19.19.m1.4.4.3.3.3.4" maxsize="80%" minsize="80%" xref="alg1.19.19.m1.4.4.3.3.4.cmml">
            (
           </mo>
           <msub id="alg1.19.19.m1.2.2.1.1.1.1" xref="alg1.19.19.m1.2.2.1.1.1.1.cmml">
            <mi id="alg1.19.19.m1.2.2.1.1.1.1.2" mathsize="80%" xref="alg1.19.19.m1.2.2.1.1.1.1.2.cmml">
             e
            </mi>
            <mi id="alg1.19.19.m1.2.2.1.1.1.1.3" mathsize="80%" xref="alg1.19.19.m1.2.2.1.1.1.1.3.cmml">
             i
            </mi>
           </msub>
           <mo id="alg1.19.19.m1.4.4.3.3.3.5" mathsize="80%" xref="alg1.19.19.m1.4.4.3.3.4.cmml">
            ,
           </mo>
           <msub id="alg1.19.19.m1.3.3.2.2.2.2" xref="alg1.19.19.m1.3.3.2.2.2.2.cmml">
            <mi id="alg1.19.19.m1.3.3.2.2.2.2.2" mathsize="80%" xref="alg1.19.19.m1.3.3.2.2.2.2.2.cmml">
             q
            </mi>
            <mi id="alg1.19.19.m1.3.3.2.2.2.2.3" mathsize="80%" xref="alg1.19.19.m1.3.3.2.2.2.2.3.cmml">
             i
            </mi>
           </msub>
           <mo id="alg1.19.19.m1.4.4.3.3.3.6" mathsize="80%" xref="alg1.19.19.m1.4.4.3.3.4.cmml">
            ,
           </mo>
           <msubsup id="alg1.19.19.m1.4.4.3.3.3.3" xref="alg1.19.19.m1.4.4.3.3.3.3.cmml">
            <mi id="alg1.19.19.m1.4.4.3.3.3.3.2.2" mathsize="80%" xref="alg1.19.19.m1.4.4.3.3.3.3.2.2.cmml">
             q
            </mi>
            <msub id="alg1.19.19.m1.4.4.3.3.3.3.3" xref="alg1.19.19.m1.4.4.3.3.3.3.3.cmml">
             <mi id="alg1.19.19.m1.4.4.3.3.3.3.3.2" mathsize="80%" xref="alg1.19.19.m1.4.4.3.3.3.3.3.2.cmml">
              i
             </mi>
             <mi id="alg1.19.19.m1.4.4.3.3.3.3.3.3" mathsize="80%" xref="alg1.19.19.m1.4.4.3.3.3.3.3.3.cmml">
              k
             </mi>
            </msub>
            <mo id="alg1.19.19.m1.4.4.3.3.3.3.2.3" mathsize="80%" xref="alg1.19.19.m1.4.4.3.3.3.3.2.3.cmml">
             ′
            </mo>
           </msubsup>
           <mo id="alg1.19.19.m1.4.4.3.3.3.7" mathsize="80%" xref="alg1.19.19.m1.4.4.3.3.4.cmml">
            ,
           </mo>
           <mi id="alg1.19.19.m1.1.1" mathsize="80%" xref="alg1.19.19.m1.1.1.cmml">
            k
           </mi>
           <mo id="alg1.19.19.m1.4.4.3.3.3.8" maxsize="80%" minsize="80%" xref="alg1.19.19.m1.4.4.3.3.4.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.19.19.m1.4b">
         <apply id="alg1.19.19.m1.4.4.cmml" xref="alg1.19.19.m1.4.4">
          <eq id="alg1.19.19.m1.4.4.4.cmml" xref="alg1.19.19.m1.4.4.4">
          </eq>
          <apply id="alg1.19.19.m1.4.4.5.cmml" xref="alg1.19.19.m1.4.4.5">
           <csymbol cd="ambiguous" id="alg1.19.19.m1.4.4.5.1.cmml" xref="alg1.19.19.m1.4.4.5">
            subscript
           </csymbol>
           <apply id="alg1.19.19.m1.4.4.5.2.cmml" xref="alg1.19.19.m1.4.4.5">
            <csymbol cd="ambiguous" id="alg1.19.19.m1.4.4.5.2.1.cmml" xref="alg1.19.19.m1.4.4.5">
             superscript
            </csymbol>
            <ci id="alg1.19.19.m1.4.4.5.2.2.cmml" xref="alg1.19.19.m1.4.4.5.2.2">
             𝑞
            </ci>
            <ci id="alg1.19.19.m1.4.4.5.2.3.cmml" xref="alg1.19.19.m1.4.4.5.2.3">
             ′
            </ci>
           </apply>
           <apply id="alg1.19.19.m1.4.4.5.3.cmml" xref="alg1.19.19.m1.4.4.5.3">
            <csymbol cd="ambiguous" id="alg1.19.19.m1.4.4.5.3.1.cmml" xref="alg1.19.19.m1.4.4.5.3">
             subscript
            </csymbol>
            <ci id="alg1.19.19.m1.4.4.5.3.2.cmml" xref="alg1.19.19.m1.4.4.5.3.2">
             𝑖
            </ci>
            <ci id="alg1.19.19.m1.4.4.5.3.3.cmml" xref="alg1.19.19.m1.4.4.5.3.3">
             𝑘
            </ci>
           </apply>
          </apply>
          <apply id="alg1.19.19.m1.4.4.3.cmml" xref="alg1.19.19.m1.4.4.3">
           <times id="alg1.19.19.m1.4.4.3.4.cmml" xref="alg1.19.19.m1.4.4.3.4">
           </times>
           <apply id="alg1.19.19.m1.4.4.3.5.cmml" xref="alg1.19.19.m1.4.4.3.5">
            <csymbol cd="ambiguous" id="alg1.19.19.m1.4.4.3.5.1.cmml" xref="alg1.19.19.m1.4.4.3.5">
             subscript
            </csymbol>
            <ci id="alg1.19.19.m1.4.4.3.5.2.cmml" xref="alg1.19.19.m1.4.4.3.5.2">
             𝒫
            </ci>
            <ci id="alg1.19.19.m1.4.4.3.5.3.cmml" xref="alg1.19.19.m1.4.4.3.5.3">
             𝑓
            </ci>
           </apply>
           <vector id="alg1.19.19.m1.4.4.3.3.4.cmml" xref="alg1.19.19.m1.4.4.3.3.3">
            <apply id="alg1.19.19.m1.2.2.1.1.1.1.cmml" xref="alg1.19.19.m1.2.2.1.1.1.1">
             <csymbol cd="ambiguous" id="alg1.19.19.m1.2.2.1.1.1.1.1.cmml" xref="alg1.19.19.m1.2.2.1.1.1.1">
              subscript
             </csymbol>
             <ci id="alg1.19.19.m1.2.2.1.1.1.1.2.cmml" xref="alg1.19.19.m1.2.2.1.1.1.1.2">
              𝑒
             </ci>
             <ci id="alg1.19.19.m1.2.2.1.1.1.1.3.cmml" xref="alg1.19.19.m1.2.2.1.1.1.1.3">
              𝑖
             </ci>
            </apply>
            <apply id="alg1.19.19.m1.3.3.2.2.2.2.cmml" xref="alg1.19.19.m1.3.3.2.2.2.2">
             <csymbol cd="ambiguous" id="alg1.19.19.m1.3.3.2.2.2.2.1.cmml" xref="alg1.19.19.m1.3.3.2.2.2.2">
              subscript
             </csymbol>
             <ci id="alg1.19.19.m1.3.3.2.2.2.2.2.cmml" xref="alg1.19.19.m1.3.3.2.2.2.2.2">
              𝑞
             </ci>
             <ci id="alg1.19.19.m1.3.3.2.2.2.2.3.cmml" xref="alg1.19.19.m1.3.3.2.2.2.2.3">
              𝑖
             </ci>
            </apply>
            <apply id="alg1.19.19.m1.4.4.3.3.3.3.cmml" xref="alg1.19.19.m1.4.4.3.3.3.3">
             <csymbol cd="ambiguous" id="alg1.19.19.m1.4.4.3.3.3.3.1.cmml" xref="alg1.19.19.m1.4.4.3.3.3.3">
              subscript
             </csymbol>
             <apply id="alg1.19.19.m1.4.4.3.3.3.3.2.cmml" xref="alg1.19.19.m1.4.4.3.3.3.3">
              <csymbol cd="ambiguous" id="alg1.19.19.m1.4.4.3.3.3.3.2.1.cmml" xref="alg1.19.19.m1.4.4.3.3.3.3">
               superscript
              </csymbol>
              <ci id="alg1.19.19.m1.4.4.3.3.3.3.2.2.cmml" xref="alg1.19.19.m1.4.4.3.3.3.3.2.2">
               𝑞
              </ci>
              <ci id="alg1.19.19.m1.4.4.3.3.3.3.2.3.cmml" xref="alg1.19.19.m1.4.4.3.3.3.3.2.3">
               ′
              </ci>
             </apply>
             <apply id="alg1.19.19.m1.4.4.3.3.3.3.3.cmml" xref="alg1.19.19.m1.4.4.3.3.3.3.3">
              <csymbol cd="ambiguous" id="alg1.19.19.m1.4.4.3.3.3.3.3.1.cmml" xref="alg1.19.19.m1.4.4.3.3.3.3.3">
               subscript
              </csymbol>
              <ci id="alg1.19.19.m1.4.4.3.3.3.3.3.2.cmml" xref="alg1.19.19.m1.4.4.3.3.3.3.3.2">
               𝑖
              </ci>
              <ci id="alg1.19.19.m1.4.4.3.3.3.3.3.3.cmml" xref="alg1.19.19.m1.4.4.3.3.3.3.3.3">
               𝑘
              </ci>
             </apply>
            </apply>
            <ci id="alg1.19.19.m1.1.1.cmml" xref="alg1.19.19.m1.1.1">
             𝑘
            </ci>
           </vector>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.19.19.m1.4c">
         q^{\prime}_{i_{k}}=\mathcal{P}_{f}(e_{i},q_{i},q^{\prime}_{i_{k}},k)
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.19.19.8" style="font-size:80%;">
       ;
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.30">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.30.1.1.1" style="font-size:80%;">
        18
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.30.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.30.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.30.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.30.5" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.30.6" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.30.7" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.31">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.31.1.1.1" style="font-size:80%;">
        19
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.31.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.31.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.31.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.31.5" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.31.6" style="font-size:80%;">
       end if
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.20.20">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.20.20.1.1.1" style="font-size:80%;">
        20
       </span>
      </span>
      <span class="ltx_text" id="alg1.20.20.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.20.20.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.20.20.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.20.20.5" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.20.20.6" style="font-size:80%;">
       Query Check
      </span>
      <math alttext="s_{0},s_{1}=\mathcal{P}_{c}(q^{\prime}_{i_{k}},q_{i},k)" class="ltx_Math" display="inline" id="alg1.20.20.m1.5">
       <semantics id="alg1.20.20.m1.5a">
        <mrow id="alg1.20.20.m1.5.5" xref="alg1.20.20.m1.5.5.cmml">
         <mrow id="alg1.20.20.m1.3.3.2.2" xref="alg1.20.20.m1.3.3.2.3.cmml">
          <msub id="alg1.20.20.m1.2.2.1.1.1" xref="alg1.20.20.m1.2.2.1.1.1.cmml">
           <mi id="alg1.20.20.m1.2.2.1.1.1.2" mathsize="80%" xref="alg1.20.20.m1.2.2.1.1.1.2.cmml">
            s
           </mi>
           <mn id="alg1.20.20.m1.2.2.1.1.1.3" mathsize="80%" xref="alg1.20.20.m1.2.2.1.1.1.3.cmml">
            0
           </mn>
          </msub>
          <mo id="alg1.20.20.m1.3.3.2.2.3" mathsize="80%" xref="alg1.20.20.m1.3.3.2.3.cmml">
           ,
          </mo>
          <msub id="alg1.20.20.m1.3.3.2.2.2" xref="alg1.20.20.m1.3.3.2.2.2.cmml">
           <mi id="alg1.20.20.m1.3.3.2.2.2.2" mathsize="80%" xref="alg1.20.20.m1.3.3.2.2.2.2.cmml">
            s
           </mi>
           <mn id="alg1.20.20.m1.3.3.2.2.2.3" mathsize="80%" xref="alg1.20.20.m1.3.3.2.2.2.3.cmml">
            1
           </mn>
          </msub>
         </mrow>
         <mo id="alg1.20.20.m1.5.5.5" mathsize="80%" xref="alg1.20.20.m1.5.5.5.cmml">
          =
         </mo>
         <mrow id="alg1.20.20.m1.5.5.4" xref="alg1.20.20.m1.5.5.4.cmml">
          <msub id="alg1.20.20.m1.5.5.4.4" xref="alg1.20.20.m1.5.5.4.4.cmml">
           <mi class="ltx_font_mathcaligraphic" id="alg1.20.20.m1.5.5.4.4.2" mathsize="80%" xref="alg1.20.20.m1.5.5.4.4.2.cmml">
            𝒫
           </mi>
           <mi id="alg1.20.20.m1.5.5.4.4.3" mathsize="80%" xref="alg1.20.20.m1.5.5.4.4.3.cmml">
            c
           </mi>
          </msub>
          <mo id="alg1.20.20.m1.5.5.4.3" lspace="0em" rspace="0em" xref="alg1.20.20.m1.5.5.4.3.cmml">
           ​
          </mo>
          <mrow id="alg1.20.20.m1.5.5.4.2.2" xref="alg1.20.20.m1.5.5.4.2.3.cmml">
           <mo id="alg1.20.20.m1.5.5.4.2.2.3" maxsize="80%" minsize="80%" xref="alg1.20.20.m1.5.5.4.2.3.cmml">
            (
           </mo>
           <msubsup id="alg1.20.20.m1.4.4.3.1.1.1" xref="alg1.20.20.m1.4.4.3.1.1.1.cmml">
            <mi id="alg1.20.20.m1.4.4.3.1.1.1.2.2" mathsize="80%" xref="alg1.20.20.m1.4.4.3.1.1.1.2.2.cmml">
             q
            </mi>
            <msub id="alg1.20.20.m1.4.4.3.1.1.1.3" xref="alg1.20.20.m1.4.4.3.1.1.1.3.cmml">
             <mi id="alg1.20.20.m1.4.4.3.1.1.1.3.2" mathsize="80%" xref="alg1.20.20.m1.4.4.3.1.1.1.3.2.cmml">
              i
             </mi>
             <mi id="alg1.20.20.m1.4.4.3.1.1.1.3.3" mathsize="80%" xref="alg1.20.20.m1.4.4.3.1.1.1.3.3.cmml">
              k
             </mi>
            </msub>
            <mo id="alg1.20.20.m1.4.4.3.1.1.1.2.3" mathsize="80%" xref="alg1.20.20.m1.4.4.3.1.1.1.2.3.cmml">
             ′
            </mo>
           </msubsup>
           <mo id="alg1.20.20.m1.5.5.4.2.2.4" mathsize="80%" xref="alg1.20.20.m1.5.5.4.2.3.cmml">
            ,
           </mo>
           <msub id="alg1.20.20.m1.5.5.4.2.2.2" xref="alg1.20.20.m1.5.5.4.2.2.2.cmml">
            <mi id="alg1.20.20.m1.5.5.4.2.2.2.2" mathsize="80%" xref="alg1.20.20.m1.5.5.4.2.2.2.2.cmml">
             q
            </mi>
            <mi id="alg1.20.20.m1.5.5.4.2.2.2.3" mathsize="80%" xref="alg1.20.20.m1.5.5.4.2.2.2.3.cmml">
             i
            </mi>
           </msub>
           <mo id="alg1.20.20.m1.5.5.4.2.2.5" mathsize="80%" xref="alg1.20.20.m1.5.5.4.2.3.cmml">
            ,
           </mo>
           <mi id="alg1.20.20.m1.1.1" mathsize="80%" xref="alg1.20.20.m1.1.1.cmml">
            k
           </mi>
           <mo id="alg1.20.20.m1.5.5.4.2.2.6" maxsize="80%" minsize="80%" xref="alg1.20.20.m1.5.5.4.2.3.cmml">
            )
           </mo>
          </mrow>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="alg1.20.20.m1.5b">
         <apply id="alg1.20.20.m1.5.5.cmml" xref="alg1.20.20.m1.5.5">
          <eq id="alg1.20.20.m1.5.5.5.cmml" xref="alg1.20.20.m1.5.5.5">
          </eq>
          <list id="alg1.20.20.m1.3.3.2.3.cmml" xref="alg1.20.20.m1.3.3.2.2">
           <apply id="alg1.20.20.m1.2.2.1.1.1.cmml" xref="alg1.20.20.m1.2.2.1.1.1">
            <csymbol cd="ambiguous" id="alg1.20.20.m1.2.2.1.1.1.1.cmml" xref="alg1.20.20.m1.2.2.1.1.1">
             subscript
            </csymbol>
            <ci id="alg1.20.20.m1.2.2.1.1.1.2.cmml" xref="alg1.20.20.m1.2.2.1.1.1.2">
             𝑠
            </ci>
            <cn id="alg1.20.20.m1.2.2.1.1.1.3.cmml" type="integer" xref="alg1.20.20.m1.2.2.1.1.1.3">
             0
            </cn>
           </apply>
           <apply id="alg1.20.20.m1.3.3.2.2.2.cmml" xref="alg1.20.20.m1.3.3.2.2.2">
            <csymbol cd="ambiguous" id="alg1.20.20.m1.3.3.2.2.2.1.cmml" xref="alg1.20.20.m1.3.3.2.2.2">
             subscript
            </csymbol>
            <ci id="alg1.20.20.m1.3.3.2.2.2.2.cmml" xref="alg1.20.20.m1.3.3.2.2.2.2">
             𝑠
            </ci>
            <cn id="alg1.20.20.m1.3.3.2.2.2.3.cmml" type="integer" xref="alg1.20.20.m1.3.3.2.2.2.3">
             1
            </cn>
           </apply>
          </list>
          <apply id="alg1.20.20.m1.5.5.4.cmml" xref="alg1.20.20.m1.5.5.4">
           <times id="alg1.20.20.m1.5.5.4.3.cmml" xref="alg1.20.20.m1.5.5.4.3">
           </times>
           <apply id="alg1.20.20.m1.5.5.4.4.cmml" xref="alg1.20.20.m1.5.5.4.4">
            <csymbol cd="ambiguous" id="alg1.20.20.m1.5.5.4.4.1.cmml" xref="alg1.20.20.m1.5.5.4.4">
             subscript
            </csymbol>
            <ci id="alg1.20.20.m1.5.5.4.4.2.cmml" xref="alg1.20.20.m1.5.5.4.4.2">
             𝒫
            </ci>
            <ci id="alg1.20.20.m1.5.5.4.4.3.cmml" xref="alg1.20.20.m1.5.5.4.4.3">
             𝑐
            </ci>
           </apply>
           <vector id="alg1.20.20.m1.5.5.4.2.3.cmml" xref="alg1.20.20.m1.5.5.4.2.2">
            <apply id="alg1.20.20.m1.4.4.3.1.1.1.cmml" xref="alg1.20.20.m1.4.4.3.1.1.1">
             <csymbol cd="ambiguous" id="alg1.20.20.m1.4.4.3.1.1.1.1.cmml" xref="alg1.20.20.m1.4.4.3.1.1.1">
              subscript
             </csymbol>
             <apply id="alg1.20.20.m1.4.4.3.1.1.1.2.cmml" xref="alg1.20.20.m1.4.4.3.1.1.1">
              <csymbol cd="ambiguous" id="alg1.20.20.m1.4.4.3.1.1.1.2.1.cmml" xref="alg1.20.20.m1.4.4.3.1.1.1">
               superscript
              </csymbol>
              <ci id="alg1.20.20.m1.4.4.3.1.1.1.2.2.cmml" xref="alg1.20.20.m1.4.4.3.1.1.1.2.2">
               𝑞
              </ci>
              <ci id="alg1.20.20.m1.4.4.3.1.1.1.2.3.cmml" xref="alg1.20.20.m1.4.4.3.1.1.1.2.3">
               ′
              </ci>
             </apply>
             <apply id="alg1.20.20.m1.4.4.3.1.1.1.3.cmml" xref="alg1.20.20.m1.4.4.3.1.1.1.3">
              <csymbol cd="ambiguous" id="alg1.20.20.m1.4.4.3.1.1.1.3.1.cmml" xref="alg1.20.20.m1.4.4.3.1.1.1.3">
               subscript
              </csymbol>
              <ci id="alg1.20.20.m1.4.4.3.1.1.1.3.2.cmml" xref="alg1.20.20.m1.4.4.3.1.1.1.3.2">
               𝑖
              </ci>
              <ci id="alg1.20.20.m1.4.4.3.1.1.1.3.3.cmml" xref="alg1.20.20.m1.4.4.3.1.1.1.3.3">
               𝑘
              </ci>
             </apply>
            </apply>
            <apply id="alg1.20.20.m1.5.5.4.2.2.2.cmml" xref="alg1.20.20.m1.5.5.4.2.2.2">
             <csymbol cd="ambiguous" id="alg1.20.20.m1.5.5.4.2.2.2.1.cmml" xref="alg1.20.20.m1.5.5.4.2.2.2">
              subscript
             </csymbol>
             <ci id="alg1.20.20.m1.5.5.4.2.2.2.2.cmml" xref="alg1.20.20.m1.5.5.4.2.2.2.2">
              𝑞
             </ci>
             <ci id="alg1.20.20.m1.5.5.4.2.2.2.3.cmml" xref="alg1.20.20.m1.5.5.4.2.2.2.3">
              𝑖
             </ci>
            </apply>
            <ci id="alg1.20.20.m1.1.1.cmml" xref="alg1.20.20.m1.1.1">
             𝑘
            </ci>
           </vector>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.20.20.m1.5c">
         s_{0},s_{1}=\mathcal{P}_{c}(q^{\prime}_{i_{k}},q_{i},k)
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.20.20.7" style="font-size:80%;">
       ;
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.32">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.32.1.1.1" style="font-size:80%;">
        21
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.32.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.32.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.32.4" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.32.5" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.32.6" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.33">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.33.1.1.1" style="font-size:80%;">
        22
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.33.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.33.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.33.4" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.33.5" style="font-size:80%;">
       end while
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.22.22">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.22.22.1.1.1" style="font-size:80%;">
        23
       </span>
      </span>
      <span class="ltx_text" id="alg1.22.22.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.22.22.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.22.22.4" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.22.22.5" style="font-size:80%;">
       Add
      </span>
      <math alttext="q^{\prime}_{i_{k}}" class="ltx_Math" display="inline" id="alg1.21.21.m1.1">
       <semantics id="alg1.21.21.m1.1a">
        <msubsup id="alg1.21.21.m1.1.1" xref="alg1.21.21.m1.1.1.cmml">
         <mi id="alg1.21.21.m1.1.1.2.2" mathsize="80%" xref="alg1.21.21.m1.1.1.2.2.cmml">
          q
         </mi>
         <msub id="alg1.21.21.m1.1.1.3" xref="alg1.21.21.m1.1.1.3.cmml">
          <mi id="alg1.21.21.m1.1.1.3.2" mathsize="80%" xref="alg1.21.21.m1.1.1.3.2.cmml">
           i
          </mi>
          <mi id="alg1.21.21.m1.1.1.3.3" mathsize="80%" xref="alg1.21.21.m1.1.1.3.3.cmml">
           k
          </mi>
         </msub>
         <mo id="alg1.21.21.m1.1.1.2.3" mathsize="80%" xref="alg1.21.21.m1.1.1.2.3.cmml">
          ′
         </mo>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="alg1.21.21.m1.1b">
         <apply id="alg1.21.21.m1.1.1.cmml" xref="alg1.21.21.m1.1.1">
          <csymbol cd="ambiguous" id="alg1.21.21.m1.1.1.1.cmml" xref="alg1.21.21.m1.1.1">
           subscript
          </csymbol>
          <apply id="alg1.21.21.m1.1.1.2.cmml" xref="alg1.21.21.m1.1.1">
           <csymbol cd="ambiguous" id="alg1.21.21.m1.1.1.2.1.cmml" xref="alg1.21.21.m1.1.1">
            superscript
           </csymbol>
           <ci id="alg1.21.21.m1.1.1.2.2.cmml" xref="alg1.21.21.m1.1.1.2.2">
            𝑞
           </ci>
           <ci id="alg1.21.21.m1.1.1.2.3.cmml" xref="alg1.21.21.m1.1.1.2.3">
            ′
           </ci>
          </apply>
          <apply id="alg1.21.21.m1.1.1.3.cmml" xref="alg1.21.21.m1.1.1.3">
           <csymbol cd="ambiguous" id="alg1.21.21.m1.1.1.3.1.cmml" xref="alg1.21.21.m1.1.1.3">
            subscript
           </csymbol>
           <ci id="alg1.21.21.m1.1.1.3.2.cmml" xref="alg1.21.21.m1.1.1.3.2">
            𝑖
           </ci>
           <ci id="alg1.21.21.m1.1.1.3.3.cmml" xref="alg1.21.21.m1.1.1.3.3">
            𝑘
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.21.21.m1.1c">
         q^{\prime}_{i_{k}}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.22.22.6" style="font-size:80%;">
       to list
      </span>
      <math alttext="\widetilde{q}^{k}" class="ltx_Math" display="inline" id="alg1.22.22.m2.1">
       <semantics id="alg1.22.22.m2.1a">
        <msup id="alg1.22.22.m2.1.1" xref="alg1.22.22.m2.1.1.cmml">
         <mover accent="true" id="alg1.22.22.m2.1.1.2" xref="alg1.22.22.m2.1.1.2.cmml">
          <mi id="alg1.22.22.m2.1.1.2.2" mathsize="80%" xref="alg1.22.22.m2.1.1.2.2.cmml">
           q
          </mi>
          <mo id="alg1.22.22.m2.1.1.2.1" mathsize="80%" xref="alg1.22.22.m2.1.1.2.1.cmml">
           ~
          </mo>
         </mover>
         <mi id="alg1.22.22.m2.1.1.3" mathsize="80%" xref="alg1.22.22.m2.1.1.3.cmml">
          k
         </mi>
        </msup>
        <annotation-xml encoding="MathML-Content" id="alg1.22.22.m2.1b">
         <apply id="alg1.22.22.m2.1.1.cmml" xref="alg1.22.22.m2.1.1">
          <csymbol cd="ambiguous" id="alg1.22.22.m2.1.1.1.cmml" xref="alg1.22.22.m2.1.1">
           superscript
          </csymbol>
          <apply id="alg1.22.22.m2.1.1.2.cmml" xref="alg1.22.22.m2.1.1.2">
           <ci id="alg1.22.22.m2.1.1.2.1.cmml" xref="alg1.22.22.m2.1.1.2.1">
            ~
           </ci>
           <ci id="alg1.22.22.m2.1.1.2.2.cmml" xref="alg1.22.22.m2.1.1.2.2">
            𝑞
           </ci>
          </apply>
          <ci id="alg1.22.22.m2.1.1.3.cmml" xref="alg1.22.22.m2.1.1.3">
           𝑘
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.22.22.m2.1c">
         \widetilde{q}^{k}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.22.22.7" style="font-size:80%;">
       ;
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.34">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.34.1.1.1" style="font-size:80%;">
        24
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.34.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.34.3" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.34.4" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.34.5" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.35">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.35.1.1.1" style="font-size:80%;">
        25
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.35.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.35.3" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.35.4" style="font-size:80%;">
       end foreach
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.24">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.24.1.1.1" style="font-size:80%;">
        26
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.24.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.24.3" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.24.4" style="font-size:80%;">
       Add
      </span>
      <math alttext="q^{k}" class="ltx_Math" display="inline" id="alg1.23.23.m1.1">
       <semantics id="alg1.23.23.m1.1a">
        <msup id="alg1.23.23.m1.1.1" xref="alg1.23.23.m1.1.1.cmml">
         <mi id="alg1.23.23.m1.1.1.2" mathsize="80%" xref="alg1.23.23.m1.1.1.2.cmml">
          q
         </mi>
         <mi id="alg1.23.23.m1.1.1.3" mathsize="80%" xref="alg1.23.23.m1.1.1.3.cmml">
          k
         </mi>
        </msup>
        <annotation-xml encoding="MathML-Content" id="alg1.23.23.m1.1b">
         <apply id="alg1.23.23.m1.1.1.cmml" xref="alg1.23.23.m1.1.1">
          <csymbol cd="ambiguous" id="alg1.23.23.m1.1.1.1.cmml" xref="alg1.23.23.m1.1.1">
           superscript
          </csymbol>
          <ci id="alg1.23.23.m1.1.1.2.cmml" xref="alg1.23.23.m1.1.1.2">
           𝑞
          </ci>
          <ci id="alg1.23.23.m1.1.1.3.cmml" xref="alg1.23.23.m1.1.1.3">
           𝑘
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.23.23.m1.1c">
         q^{k}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.24.24.5" style="font-size:80%;">
       to
      </span>
      <math alttext="\widetilde{\mathcal{Q}}^{k}" class="ltx_Math" display="inline" id="alg1.24.24.m2.1">
       <semantics id="alg1.24.24.m2.1a">
        <msup id="alg1.24.24.m2.1.1" xref="alg1.24.24.m2.1.1.cmml">
         <mover accent="true" id="alg1.24.24.m2.1.1.2" xref="alg1.24.24.m2.1.1.2.cmml">
          <mi class="ltx_font_mathcaligraphic" id="alg1.24.24.m2.1.1.2.2" mathsize="80%" xref="alg1.24.24.m2.1.1.2.2.cmml">
           𝒬
          </mi>
          <mo id="alg1.24.24.m2.1.1.2.1" mathsize="80%" xref="alg1.24.24.m2.1.1.2.1.cmml">
           ~
          </mo>
         </mover>
         <mi id="alg1.24.24.m2.1.1.3" mathsize="80%" xref="alg1.24.24.m2.1.1.3.cmml">
          k
         </mi>
        </msup>
        <annotation-xml encoding="MathML-Content" id="alg1.24.24.m2.1b">
         <apply id="alg1.24.24.m2.1.1.cmml" xref="alg1.24.24.m2.1.1">
          <csymbol cd="ambiguous" id="alg1.24.24.m2.1.1.1.cmml" xref="alg1.24.24.m2.1.1">
           superscript
          </csymbol>
          <apply id="alg1.24.24.m2.1.1.2.cmml" xref="alg1.24.24.m2.1.1.2">
           <ci id="alg1.24.24.m2.1.1.2.1.cmml" xref="alg1.24.24.m2.1.1.2.1">
            ~
           </ci>
           <ci id="alg1.24.24.m2.1.1.2.2.cmml" xref="alg1.24.24.m2.1.1.2.2">
            𝒬
           </ci>
          </apply>
          <ci id="alg1.24.24.m2.1.1.3.cmml" xref="alg1.24.24.m2.1.1.3">
           𝑘
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="alg1.24.24.m2.1c">
         \widetilde{\mathcal{Q}}^{k}
        </annotation>
       </semantics>
      </math>
      <span class="ltx_text" id="alg1.24.24.6" style="font-size:80%;">
       ;
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.36">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.36.1.1.1" style="font-size:80%;">
        27
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.36.2" style="font-size:80%;">
      </span>
      <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;">
      </span>
      <span class="ltx_text" id="alg1.24.36.3" style="font-size:80%;">
      </span>
      <span class="ltx_text" id="alg1.24.36.4" style="font-size:80%;">
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.37">
      <span class="ltx_tag ltx_tag_listingline">
       <span class="ltx_text" id="alg1.24.37.1.1.1" style="font-size:80%;">
        28
       </span>
      </span>
      <span class="ltx_text" id="alg1.24.37.2" style="font-size:80%;">
       end foreach
      </span>
     </div>
     <div class="ltx_listingline" id="alg1.24.38">
      <span class="ltx_text" id="alg1.24.38.1">
      </span>
     </div>
    </div>
    <figcaption class="ltx_caption" style="font-size:80%;">
     <span class="ltx_tag ltx_tag_float">
      <span class="ltx_text ltx_font_bold" id="alg1.28.1.1">
       Algorithm 1
      </span>
     </span>
     The Algorithm for rewriting.
    </figcaption>
   </figure>
  </section>
  <section class="ltx_subsection" id="S3.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S3.SS3.4.1.1">
      III-C
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S3.SS3.5.2">
     Robust Ranking
    </span>
   </h3>
   <div class="ltx_para" id="S3.SS3.p1">
    <p class="ltx_p" id="S3.SS3.p1.1">
     In this subsection, we will introduce how to enhance the robustness of the existing ranking model.
    </p>
   </div>
   <figure class="ltx_figure" id="S3.F4">
    <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="219" id="S3.F4.g1" src="/html/2312.15450/assets/x4.png" width="368"/>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 4:
     </span>
     An illustration of the robust ranking architecture of our proposed model.
    </figcaption>
   </figure>
   <div class="ltx_para" id="S3.SS3.p2">
    <p class="ltx_p" id="S3.SS3.p2.1">
     The conventional cross-encoder
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib25" title="">
       25
      </a>
      ]
     </cite>
     takes in a pair of texts, typically a search query and a document, and encodes text into a single contextual vector. This vector is then compressed into a singular value, serving as a metric to assess the relationship or similarity between the query and the document. Despite its widespread usage, we argue that the existing cross-encoder framework exhibits insufficient robustness for two primary reasons. One major drawback lies in the insufficient capacity to extract shared semantic information effectively. In instances where inputs are semantically identical, the current cross-encoder architecture fails to capture shared semantic nuances adequately, thus resulting in unrobust ranking outcomes and hindering the model’s overall performance. Another critical factor contributing to the inadequate robustness is the lack of stringent constraints in the training process. As a consequence, the model fails to generalize effectively across semantically similar instances, leading to a lack of robustness in real-world ranking scenarios.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS3.p3">
    <p class="ltx_p" id="S3.SS3.p3.1">
     In response to the above two points, our approach begins with enhancements in structure and loss function design to boost robustness. Specifically, we have developed a robust Multi-gate Mixture of Experts (MMoE)-adapter structure coupled with a robust loss function, collaboratively designed to augment the ranker’s robustness.
    </p>
   </div>
   <div class="ltx_para" id="S3.SS3.p4">
    <p class="ltx_p" id="S3.SS3.p4.1">
     The specific structure is shown in the Figure
     <a class="ltx_ref" href="#S3.F4" title="Figure 4 ‣ III-C Robust Ranking ‣ III Methodology ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       4
      </span>
     </a>
     . In the following content, we will first introduce the input, followed by detailed discussions on the two primary modules: the robust Mixed Model of Experts (MMoE)-adapter and the module’s loss design.
    </p>
   </div>
   <section class="ltx_subsubsection" id="S3.SS3.SSS1">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      <span class="ltx_text" id="S3.SS3.SSS1.4.1.1">
       III-C
      </span>
      1
     </span>
     Data Input
    </h4>
    <div class="ltx_para" id="S3.SS3.SSS1.p1">
     <p class="ltx_p" id="S3.SS3.SSS1.p1.6">
      For different agent queries
      <math alttext="\widetilde{\mathcal{Q}}^{k},k\in[1,...,4]" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.1.m1.5">
       <semantics id="S3.SS3.SSS1.p1.1.m1.5a">
        <mrow id="S3.SS3.SSS1.p1.1.m1.5.5" xref="S3.SS3.SSS1.p1.1.m1.5.5.cmml">
         <mrow id="S3.SS3.SSS1.p1.1.m1.5.5.1.1" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.2.cmml">
          <msup id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.cmml">
           <mover accent="true" id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2.cmml">
            <mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2.2" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2.2.cmml">
             𝒬
            </mi>
            <mo id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2.1" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2.1.cmml">
             ~
            </mo>
           </mover>
           <mi id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.3" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.3.cmml">
            k
           </mi>
          </msup>
          <mo id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.2" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.2.cmml">
           ,
          </mo>
          <mi id="S3.SS3.SSS1.p1.1.m1.4.4" xref="S3.SS3.SSS1.p1.1.m1.4.4.cmml">
           k
          </mi>
         </mrow>
         <mo id="S3.SS3.SSS1.p1.1.m1.5.5.2" xref="S3.SS3.SSS1.p1.1.m1.5.5.2.cmml">
          ∈
         </mo>
         <mrow id="S3.SS3.SSS1.p1.1.m1.5.5.3.2" xref="S3.SS3.SSS1.p1.1.m1.5.5.3.1.cmml">
          <mo id="S3.SS3.SSS1.p1.1.m1.5.5.3.2.1" stretchy="false" xref="S3.SS3.SSS1.p1.1.m1.5.5.3.1.cmml">
           [
          </mo>
          <mn id="S3.SS3.SSS1.p1.1.m1.1.1" xref="S3.SS3.SSS1.p1.1.m1.1.1.cmml">
           1
          </mn>
          <mo id="S3.SS3.SSS1.p1.1.m1.5.5.3.2.2" xref="S3.SS3.SSS1.p1.1.m1.5.5.3.1.cmml">
           ,
          </mo>
          <mi id="S3.SS3.SSS1.p1.1.m1.2.2" mathvariant="normal" xref="S3.SS3.SSS1.p1.1.m1.2.2.cmml">
           …
          </mi>
          <mo id="S3.SS3.SSS1.p1.1.m1.5.5.3.2.3" xref="S3.SS3.SSS1.p1.1.m1.5.5.3.1.cmml">
           ,
          </mo>
          <mn id="S3.SS3.SSS1.p1.1.m1.3.3" xref="S3.SS3.SSS1.p1.1.m1.3.3.cmml">
           4
          </mn>
          <mo id="S3.SS3.SSS1.p1.1.m1.5.5.3.2.4" stretchy="false" xref="S3.SS3.SSS1.p1.1.m1.5.5.3.1.cmml">
           ]
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.1.m1.5b">
         <apply id="S3.SS3.SSS1.p1.1.m1.5.5.cmml" xref="S3.SS3.SSS1.p1.1.m1.5.5">
          <in id="S3.SS3.SSS1.p1.1.m1.5.5.2.cmml" xref="S3.SS3.SSS1.p1.1.m1.5.5.2">
          </in>
          <list id="S3.SS3.SSS1.p1.1.m1.5.5.1.2.cmml" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1">
           <apply id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.cmml" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1">
            <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.1.cmml" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1">
             superscript
            </csymbol>
            <apply id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2.cmml" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2">
             <ci id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2.1.cmml" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2.1">
              ~
             </ci>
             <ci id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2.2.cmml" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.2.2">
              𝒬
             </ci>
            </apply>
            <ci id="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.3.cmml" xref="S3.SS3.SSS1.p1.1.m1.5.5.1.1.1.3">
             𝑘
            </ci>
           </apply>
           <ci id="S3.SS3.SSS1.p1.1.m1.4.4.cmml" xref="S3.SS3.SSS1.p1.1.m1.4.4">
            𝑘
           </ci>
          </list>
          <list id="S3.SS3.SSS1.p1.1.m1.5.5.3.1.cmml" xref="S3.SS3.SSS1.p1.1.m1.5.5.3.2">
           <cn id="S3.SS3.SSS1.p1.1.m1.1.1.cmml" type="integer" xref="S3.SS3.SSS1.p1.1.m1.1.1">
            1
           </cn>
           <ci id="S3.SS3.SSS1.p1.1.m1.2.2.cmml" xref="S3.SS3.SSS1.p1.1.m1.2.2">
            …
           </ci>
           <cn id="S3.SS3.SSS1.p1.1.m1.3.3.cmml" type="integer" xref="S3.SS3.SSS1.p1.1.m1.3.3">
            4
           </cn>
          </list>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.1.m1.5c">
         \widetilde{\mathcal{Q}}^{k},k\in[1,...,4]
        </annotation>
       </semantics>
      </math>
      , where
      <math alttext="k" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.2.m2.1">
       <semantics id="S3.SS3.SSS1.p1.2.m2.1a">
        <mi id="S3.SS3.SSS1.p1.2.m2.1.1" xref="S3.SS3.SSS1.p1.2.m2.1.1.cmml">
         k
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.2.m2.1b">
         <ci id="S3.SS3.SSS1.p1.2.m2.1.1.cmml" xref="S3.SS3.SSS1.p1.2.m2.1.1">
          𝑘
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.2.m2.1c">
         k
        </annotation>
       </semantics>
      </math>
      denotes
      <math alttext="k" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.3.m3.1">
       <semantics id="S3.SS3.SSS1.p1.3.m3.1a">
        <mi id="S3.SS3.SSS1.p1.3.m3.1.1" xref="S3.SS3.SSS1.p1.3.m3.1.1.cmml">
         k
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.3.m3.1b">
         <ci id="S3.SS3.SSS1.p1.3.m3.1.1.cmml" xref="S3.SS3.SSS1.p1.3.m3.1.1">
          𝑘
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.3.m3.1c">
         k
        </annotation>
       </semantics>
      </math>
      -th agent, and the raw query list
      <math alttext="Q^{r}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.4.m4.1">
       <semantics id="S3.SS3.SSS1.p1.4.m4.1a">
        <msup id="S3.SS3.SSS1.p1.4.m4.1.1" xref="S3.SS3.SSS1.p1.4.m4.1.1.cmml">
         <mi id="S3.SS3.SSS1.p1.4.m4.1.1.2" xref="S3.SS3.SSS1.p1.4.m4.1.1.2.cmml">
          Q
         </mi>
         <mi id="S3.SS3.SSS1.p1.4.m4.1.1.3" xref="S3.SS3.SSS1.p1.4.m4.1.1.3.cmml">
          r
         </mi>
        </msup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.4.m4.1b">
         <apply id="S3.SS3.SSS1.p1.4.m4.1.1.cmml" xref="S3.SS3.SSS1.p1.4.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.4.m4.1.1.1.cmml" xref="S3.SS3.SSS1.p1.4.m4.1.1">
           superscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p1.4.m4.1.1.2.cmml" xref="S3.SS3.SSS1.p1.4.m4.1.1.2">
           𝑄
          </ci>
          <ci id="S3.SS3.SSS1.p1.4.m4.1.1.3.cmml" xref="S3.SS3.SSS1.p1.4.m4.1.1.3">
           𝑟
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.4.m4.1c">
         Q^{r}
        </annotation>
       </semantics>
      </math>
      . We have a document list
      <math alttext="\mathcal{D}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.5.m5.1">
       <semantics id="S3.SS3.SSS1.p1.5.m5.1a">
        <msub id="S3.SS3.SSS1.p1.5.m5.1.1" xref="S3.SS3.SSS1.p1.5.m5.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS1.p1.5.m5.1.1.2" xref="S3.SS3.SSS1.p1.5.m5.1.1.2.cmml">
          𝒟
         </mi>
         <mi id="S3.SS3.SSS1.p1.5.m5.1.1.3" xref="S3.SS3.SSS1.p1.5.m5.1.1.3.cmml">
          i
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.5.m5.1b">
         <apply id="S3.SS3.SSS1.p1.5.m5.1.1.cmml" xref="S3.SS3.SSS1.p1.5.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.5.m5.1.1.1.cmml" xref="S3.SS3.SSS1.p1.5.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p1.5.m5.1.1.2.cmml" xref="S3.SS3.SSS1.p1.5.m5.1.1.2">
           𝒟
          </ci>
          <ci id="S3.SS3.SSS1.p1.5.m5.1.1.3.cmml" xref="S3.SS3.SSS1.p1.5.m5.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.5.m5.1c">
         \mathcal{D}_{i}
        </annotation>
       </semantics>
      </math>
      for
      <math alttext="i" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.6.m6.1">
       <semantics id="S3.SS3.SSS1.p1.6.m6.1a">
        <mi id="S3.SS3.SSS1.p1.6.m6.1.1" xref="S3.SS3.SSS1.p1.6.m6.1.1.cmml">
         i
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.6.m6.1b">
         <ci id="S3.SS3.SSS1.p1.6.m6.1.1.cmml" xref="S3.SS3.SSS1.p1.6.m6.1.1">
          𝑖
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.6.m6.1c">
         i
        </annotation>
       </semantics>
      </math>
      -th query that needed to be ranked. We combine the above data into candidate pairs and formulate the input pairs as follows
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.Ex2">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\text{Input}:~{}&lt;q^{r}_{i},d_{i,j}&gt;,&lt;q^{1}_{i},d_{i,j}&gt;,...,&lt;q^{4}_{i},d_{i,j}&gt;" class="ltx_math_unparsed" display="block" id="S3.Ex2.m1.6">
          <semantics id="S3.Ex2.m1.6a">
           <mrow id="S3.Ex2.m1.6b">
            <mtext id="S3.Ex2.m1.6.7">
             Input
            </mtext>
            <mo id="S3.Ex2.m1.6.8" lspace="0.278em" rspace="0.052em">
             :
            </mo>
            <mo id="S3.Ex2.m1.6.9">
             &lt;
            </mo>
            <msubsup id="S3.Ex2.m1.6.10">
             <mi id="S3.Ex2.m1.6.10.2.2">
              q
             </mi>
             <mi id="S3.Ex2.m1.6.10.3">
              i
             </mi>
             <mi id="S3.Ex2.m1.6.10.2.3">
              r
             </mi>
            </msubsup>
            <mo id="S3.Ex2.m1.6.11">
             ,
            </mo>
            <msub id="S3.Ex2.m1.6.12">
             <mi id="S3.Ex2.m1.6.12.2">
              d
             </mi>
             <mrow id="S3.Ex2.m1.2.2.2.4">
              <mi id="S3.Ex2.m1.1.1.1.1">
               i
              </mi>
              <mo id="S3.Ex2.m1.2.2.2.4.1">
               ,
              </mo>
              <mi id="S3.Ex2.m1.2.2.2.2">
               j
              </mi>
             </mrow>
            </msub>
            <mo id="S3.Ex2.m1.6.13" rspace="0em">
             &gt;
            </mo>
            <mo id="S3.Ex2.m1.6.14">
             ,
            </mo>
            <mo id="S3.Ex2.m1.6.15" lspace="0em">
             &lt;
            </mo>
            <msubsup id="S3.Ex2.m1.6.16">
             <mi id="S3.Ex2.m1.6.16.2.2">
              q
             </mi>
             <mi id="S3.Ex2.m1.6.16.3">
              i
             </mi>
             <mn id="S3.Ex2.m1.6.16.2.3">
              1
             </mn>
            </msubsup>
            <mo id="S3.Ex2.m1.6.17">
             ,
            </mo>
            <msub id="S3.Ex2.m1.6.18">
             <mi id="S3.Ex2.m1.6.18.2">
              d
             </mi>
             <mrow id="S3.Ex2.m1.4.4.2.4">
              <mi id="S3.Ex2.m1.3.3.1.1">
               i
              </mi>
              <mo id="S3.Ex2.m1.4.4.2.4.1">
               ,
              </mo>
              <mi id="S3.Ex2.m1.4.4.2.2">
               j
              </mi>
             </mrow>
            </msub>
            <mo id="S3.Ex2.m1.6.19" rspace="0em">
             &gt;
            </mo>
            <mo id="S3.Ex2.m1.6.20">
             ,
            </mo>
            <mi id="S3.Ex2.m1.6.21" mathvariant="normal">
             …
            </mi>
            <mo id="S3.Ex2.m1.6.22">
             ,
            </mo>
            <mo id="S3.Ex2.m1.6.23" lspace="0em">
             &lt;
            </mo>
            <msubsup id="S3.Ex2.m1.6.24">
             <mi id="S3.Ex2.m1.6.24.2.2">
              q
             </mi>
             <mi id="S3.Ex2.m1.6.24.3">
              i
             </mi>
             <mn id="S3.Ex2.m1.6.24.2.3">
              4
             </mn>
            </msubsup>
            <mo id="S3.Ex2.m1.6.25">
             ,
            </mo>
            <msub id="S3.Ex2.m1.6.26">
             <mi id="S3.Ex2.m1.6.26.2">
              d
             </mi>
             <mrow id="S3.Ex2.m1.6.6.2.4">
              <mi id="S3.Ex2.m1.5.5.1.1">
               i
              </mi>
              <mo id="S3.Ex2.m1.6.6.2.4.1">
               ,
              </mo>
              <mi id="S3.Ex2.m1.6.6.2.2">
               j
              </mi>
             </mrow>
            </msub>
            <mo id="S3.Ex2.m1.6.27">
             &gt;
            </mo>
           </mrow>
           <annotation encoding="application/x-tex" id="S3.Ex2.m1.6c">
            \text{Input}:~{}&lt;q^{r}_{i},d_{i,j}&gt;,&lt;q^{1}_{i},d_{i,j}&gt;,...,&lt;q^{4}_{i},d_{i,j}&gt;
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS1.p1.12">
      where
      <math alttext="q^{r}_{i}\in Q^{r}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.7.m1.1">
       <semantics id="S3.SS3.SSS1.p1.7.m1.1a">
        <mrow id="S3.SS3.SSS1.p1.7.m1.1.1" xref="S3.SS3.SSS1.p1.7.m1.1.1.cmml">
         <msubsup id="S3.SS3.SSS1.p1.7.m1.1.1.2" xref="S3.SS3.SSS1.p1.7.m1.1.1.2.cmml">
          <mi id="S3.SS3.SSS1.p1.7.m1.1.1.2.2.2" xref="S3.SS3.SSS1.p1.7.m1.1.1.2.2.2.cmml">
           q
          </mi>
          <mi id="S3.SS3.SSS1.p1.7.m1.1.1.2.3" xref="S3.SS3.SSS1.p1.7.m1.1.1.2.3.cmml">
           i
          </mi>
          <mi id="S3.SS3.SSS1.p1.7.m1.1.1.2.2.3" xref="S3.SS3.SSS1.p1.7.m1.1.1.2.2.3.cmml">
           r
          </mi>
         </msubsup>
         <mo id="S3.SS3.SSS1.p1.7.m1.1.1.1" xref="S3.SS3.SSS1.p1.7.m1.1.1.1.cmml">
          ∈
         </mo>
         <msup id="S3.SS3.SSS1.p1.7.m1.1.1.3" xref="S3.SS3.SSS1.p1.7.m1.1.1.3.cmml">
          <mi id="S3.SS3.SSS1.p1.7.m1.1.1.3.2" xref="S3.SS3.SSS1.p1.7.m1.1.1.3.2.cmml">
           Q
          </mi>
          <mi id="S3.SS3.SSS1.p1.7.m1.1.1.3.3" xref="S3.SS3.SSS1.p1.7.m1.1.1.3.3.cmml">
           r
          </mi>
         </msup>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.7.m1.1b">
         <apply id="S3.SS3.SSS1.p1.7.m1.1.1.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1">
          <in id="S3.SS3.SSS1.p1.7.m1.1.1.1.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.1">
          </in>
          <apply id="S3.SS3.SSS1.p1.7.m1.1.1.2.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.2">
           <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.7.m1.1.1.2.1.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.2">
            subscript
           </csymbol>
           <apply id="S3.SS3.SSS1.p1.7.m1.1.1.2.2.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.2">
            <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.7.m1.1.1.2.2.1.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.2">
             superscript
            </csymbol>
            <ci id="S3.SS3.SSS1.p1.7.m1.1.1.2.2.2.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.2.2.2">
             𝑞
            </ci>
            <ci id="S3.SS3.SSS1.p1.7.m1.1.1.2.2.3.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.2.2.3">
             𝑟
            </ci>
           </apply>
           <ci id="S3.SS3.SSS1.p1.7.m1.1.1.2.3.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.2.3">
            𝑖
           </ci>
          </apply>
          <apply id="S3.SS3.SSS1.p1.7.m1.1.1.3.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.3">
           <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.7.m1.1.1.3.1.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.3">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS1.p1.7.m1.1.1.3.2.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.3.2">
            𝑄
           </ci>
           <ci id="S3.SS3.SSS1.p1.7.m1.1.1.3.3.cmml" xref="S3.SS3.SSS1.p1.7.m1.1.1.3.3">
            𝑟
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.7.m1.1c">
         q^{r}_{i}\in Q^{r}
        </annotation>
       </semantics>
      </math>
      ,
      <math alttext="q^{k}_{i}\in\widetilde{\mathcal{Q}}^{k}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.8.m2.1">
       <semantics id="S3.SS3.SSS1.p1.8.m2.1a">
        <mrow id="S3.SS3.SSS1.p1.8.m2.1.1" xref="S3.SS3.SSS1.p1.8.m2.1.1.cmml">
         <msubsup id="S3.SS3.SSS1.p1.8.m2.1.1.2" xref="S3.SS3.SSS1.p1.8.m2.1.1.2.cmml">
          <mi id="S3.SS3.SSS1.p1.8.m2.1.1.2.2.2" xref="S3.SS3.SSS1.p1.8.m2.1.1.2.2.2.cmml">
           q
          </mi>
          <mi id="S3.SS3.SSS1.p1.8.m2.1.1.2.3" xref="S3.SS3.SSS1.p1.8.m2.1.1.2.3.cmml">
           i
          </mi>
          <mi id="S3.SS3.SSS1.p1.8.m2.1.1.2.2.3" xref="S3.SS3.SSS1.p1.8.m2.1.1.2.2.3.cmml">
           k
          </mi>
         </msubsup>
         <mo id="S3.SS3.SSS1.p1.8.m2.1.1.1" xref="S3.SS3.SSS1.p1.8.m2.1.1.1.cmml">
          ∈
         </mo>
         <msup id="S3.SS3.SSS1.p1.8.m2.1.1.3" xref="S3.SS3.SSS1.p1.8.m2.1.1.3.cmml">
          <mover accent="true" id="S3.SS3.SSS1.p1.8.m2.1.1.3.2" xref="S3.SS3.SSS1.p1.8.m2.1.1.3.2.cmml">
           <mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS1.p1.8.m2.1.1.3.2.2" xref="S3.SS3.SSS1.p1.8.m2.1.1.3.2.2.cmml">
            𝒬
           </mi>
           <mo id="S3.SS3.SSS1.p1.8.m2.1.1.3.2.1" xref="S3.SS3.SSS1.p1.8.m2.1.1.3.2.1.cmml">
            ~
           </mo>
          </mover>
          <mi id="S3.SS3.SSS1.p1.8.m2.1.1.3.3" xref="S3.SS3.SSS1.p1.8.m2.1.1.3.3.cmml">
           k
          </mi>
         </msup>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.8.m2.1b">
         <apply id="S3.SS3.SSS1.p1.8.m2.1.1.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1">
          <in id="S3.SS3.SSS1.p1.8.m2.1.1.1.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.1">
          </in>
          <apply id="S3.SS3.SSS1.p1.8.m2.1.1.2.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.2">
           <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.8.m2.1.1.2.1.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.2">
            subscript
           </csymbol>
           <apply id="S3.SS3.SSS1.p1.8.m2.1.1.2.2.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.2">
            <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.8.m2.1.1.2.2.1.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.2">
             superscript
            </csymbol>
            <ci id="S3.SS3.SSS1.p1.8.m2.1.1.2.2.2.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.2.2.2">
             𝑞
            </ci>
            <ci id="S3.SS3.SSS1.p1.8.m2.1.1.2.2.3.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.2.2.3">
             𝑘
            </ci>
           </apply>
           <ci id="S3.SS3.SSS1.p1.8.m2.1.1.2.3.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.2.3">
            𝑖
           </ci>
          </apply>
          <apply id="S3.SS3.SSS1.p1.8.m2.1.1.3.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.3">
           <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.8.m2.1.1.3.1.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.3">
            superscript
           </csymbol>
           <apply id="S3.SS3.SSS1.p1.8.m2.1.1.3.2.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.3.2">
            <ci id="S3.SS3.SSS1.p1.8.m2.1.1.3.2.1.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.3.2.1">
             ~
            </ci>
            <ci id="S3.SS3.SSS1.p1.8.m2.1.1.3.2.2.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.3.2.2">
             𝒬
            </ci>
           </apply>
           <ci id="S3.SS3.SSS1.p1.8.m2.1.1.3.3.cmml" xref="S3.SS3.SSS1.p1.8.m2.1.1.3.3">
            𝑘
           </ci>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.8.m2.1c">
         q^{k}_{i}\in\widetilde{\mathcal{Q}}^{k}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="d_{i,j}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.9.m3.2">
       <semantics id="S3.SS3.SSS1.p1.9.m3.2a">
        <msub id="S3.SS3.SSS1.p1.9.m3.2.3" xref="S3.SS3.SSS1.p1.9.m3.2.3.cmml">
         <mi id="S3.SS3.SSS1.p1.9.m3.2.3.2" xref="S3.SS3.SSS1.p1.9.m3.2.3.2.cmml">
          d
         </mi>
         <mrow id="S3.SS3.SSS1.p1.9.m3.2.2.2.4" xref="S3.SS3.SSS1.p1.9.m3.2.2.2.3.cmml">
          <mi id="S3.SS3.SSS1.p1.9.m3.1.1.1.1" xref="S3.SS3.SSS1.p1.9.m3.1.1.1.1.cmml">
           i
          </mi>
          <mo id="S3.SS3.SSS1.p1.9.m3.2.2.2.4.1" xref="S3.SS3.SSS1.p1.9.m3.2.2.2.3.cmml">
           ,
          </mo>
          <mi id="S3.SS3.SSS1.p1.9.m3.2.2.2.2" xref="S3.SS3.SSS1.p1.9.m3.2.2.2.2.cmml">
           j
          </mi>
         </mrow>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.9.m3.2b">
         <apply id="S3.SS3.SSS1.p1.9.m3.2.3.cmml" xref="S3.SS3.SSS1.p1.9.m3.2.3">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.9.m3.2.3.1.cmml" xref="S3.SS3.SSS1.p1.9.m3.2.3">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p1.9.m3.2.3.2.cmml" xref="S3.SS3.SSS1.p1.9.m3.2.3.2">
           𝑑
          </ci>
          <list id="S3.SS3.SSS1.p1.9.m3.2.2.2.3.cmml" xref="S3.SS3.SSS1.p1.9.m3.2.2.2.4">
           <ci id="S3.SS3.SSS1.p1.9.m3.1.1.1.1.cmml" xref="S3.SS3.SSS1.p1.9.m3.1.1.1.1">
            𝑖
           </ci>
           <ci id="S3.SS3.SSS1.p1.9.m3.2.2.2.2.cmml" xref="S3.SS3.SSS1.p1.9.m3.2.2.2.2">
            𝑗
           </ci>
          </list>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.9.m3.2c">
         d_{i,j}
        </annotation>
       </semantics>
      </math>
      represents
      <math alttext="j" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.10.m4.1">
       <semantics id="S3.SS3.SSS1.p1.10.m4.1a">
        <mi id="S3.SS3.SSS1.p1.10.m4.1.1" xref="S3.SS3.SSS1.p1.10.m4.1.1.cmml">
         j
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.10.m4.1b">
         <ci id="S3.SS3.SSS1.p1.10.m4.1.1.cmml" xref="S3.SS3.SSS1.p1.10.m4.1.1">
          𝑗
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.10.m4.1c">
         j
        </annotation>
       </semantics>
      </math>
      -th document in document list
      <math alttext="\mathcal{D}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.11.m5.1">
       <semantics id="S3.SS3.SSS1.p1.11.m5.1a">
        <msub id="S3.SS3.SSS1.p1.11.m5.1.1" xref="S3.SS3.SSS1.p1.11.m5.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS1.p1.11.m5.1.1.2" xref="S3.SS3.SSS1.p1.11.m5.1.1.2.cmml">
          𝒟
         </mi>
         <mi id="S3.SS3.SSS1.p1.11.m5.1.1.3" xref="S3.SS3.SSS1.p1.11.m5.1.1.3.cmml">
          i
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.11.m5.1b">
         <apply id="S3.SS3.SSS1.p1.11.m5.1.1.cmml" xref="S3.SS3.SSS1.p1.11.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.11.m5.1.1.1.cmml" xref="S3.SS3.SSS1.p1.11.m5.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS1.p1.11.m5.1.1.2.cmml" xref="S3.SS3.SSS1.p1.11.m5.1.1.2">
           𝒟
          </ci>
          <ci id="S3.SS3.SSS1.p1.11.m5.1.1.3.cmml" xref="S3.SS3.SSS1.p1.11.m5.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.11.m5.1c">
         \mathcal{D}_{i}
        </annotation>
       </semantics>
      </math>
      .
For each pair, we model them as the format
      <math alttext="\boldsymbol{s}_{i,j}=&lt;[\text{CLS}]~{}q_{i}~{}[\text{SEP}]~{}d_{i,j}~{}[\text{SEP}]&gt;" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.12.m6.8">
       <semantics id="S3.SS3.SSS1.p1.12.m6.8a">
        <mrow id="S3.SS3.SSS1.p1.12.m6.8.8" xref="S3.SS3.SSS1.p1.12.m6.8.8.cmml">
         <msub id="S3.SS3.SSS1.p1.12.m6.8.8.3" xref="S3.SS3.SSS1.p1.12.m6.8.8.3.cmml">
          <mi id="S3.SS3.SSS1.p1.12.m6.8.8.3.2" xref="S3.SS3.SSS1.p1.12.m6.8.8.3.2.cmml">
           𝒔
          </mi>
          <mrow id="S3.SS3.SSS1.p1.12.m6.2.2.2.4" xref="S3.SS3.SSS1.p1.12.m6.2.2.2.3.cmml">
           <mi id="S3.SS3.SSS1.p1.12.m6.1.1.1.1" xref="S3.SS3.SSS1.p1.12.m6.1.1.1.1.cmml">
            i
           </mi>
           <mo id="S3.SS3.SSS1.p1.12.m6.2.2.2.4.1" xref="S3.SS3.SSS1.p1.12.m6.2.2.2.3.cmml">
            ,
           </mo>
           <mi id="S3.SS3.SSS1.p1.12.m6.2.2.2.2" xref="S3.SS3.SSS1.p1.12.m6.2.2.2.2.cmml">
            j
           </mi>
          </mrow>
         </msub>
         <mo id="S3.SS3.SSS1.p1.12.m6.8.8.2" rspace="0.1389em" xref="S3.SS3.SSS1.p1.12.m6.8.8.2.cmml">
          =
         </mo>
         <mrow id="S3.SS3.SSS1.p1.12.m6.8.8.1.1" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.2.cmml">
          <mo fence="true" id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.2" lspace="0.1389em" rspace="0em" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.2.1.cmml">
           &lt;
          </mo>
          <mrow id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.cmml">
           <mrow id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.2.2" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.2.1.cmml">
            <mo id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.2.2.1" stretchy="false" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.2.1.1.cmml">
             [
            </mo>
            <mtext id="S3.SS3.SSS1.p1.12.m6.5.5" xref="S3.SS3.SSS1.p1.12.m6.5.5a.cmml">
             CLS
            </mtext>
            <mo id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.2.2.2" stretchy="false" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.2.1.1.cmml">
             ]
            </mo>
           </mrow>
           <mo id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.1" lspace="0.330em" rspace="0em" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.1.cmml">
            ​
           </mo>
           <msub id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3.cmml">
            <mi id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3.2" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3.2.cmml">
             q
            </mi>
            <mi id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3.3" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3.3.cmml">
             i
            </mi>
           </msub>
           <mo id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.1a" lspace="0em" rspace="0em" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.1.cmml">
            ​
           </mo>
           <mrow id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.4.2" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.4.1.cmml">
            <mo id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.4.2.1" stretchy="false" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.4.1.1.cmml">
             [
            </mo>
            <mtext id="S3.SS3.SSS1.p1.12.m6.6.6" xref="S3.SS3.SSS1.p1.12.m6.6.6a.cmml">
             SEP
            </mtext>
            <mo id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.4.2.2" stretchy="false" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.4.1.1.cmml">
             ]
            </mo>
           </mrow>
           <mo id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.1b" lspace="0.330em" rspace="0em" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.1.cmml">
            ​
           </mo>
           <msub id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.5" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.5.cmml">
            <mi id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.5.2" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.5.2.cmml">
             d
            </mi>
            <mrow id="S3.SS3.SSS1.p1.12.m6.4.4.2.4" xref="S3.SS3.SSS1.p1.12.m6.4.4.2.3.cmml">
             <mi id="S3.SS3.SSS1.p1.12.m6.3.3.1.1" xref="S3.SS3.SSS1.p1.12.m6.3.3.1.1.cmml">
              i
             </mi>
             <mo id="S3.SS3.SSS1.p1.12.m6.4.4.2.4.1" xref="S3.SS3.SSS1.p1.12.m6.4.4.2.3.cmml">
              ,
             </mo>
             <mi id="S3.SS3.SSS1.p1.12.m6.4.4.2.2" xref="S3.SS3.SSS1.p1.12.m6.4.4.2.2.cmml">
              j
             </mi>
            </mrow>
           </msub>
           <mo id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.1c" lspace="0em" rspace="0em" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.1.cmml">
            ​
           </mo>
           <mrow id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.6.2" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.6.1.cmml">
            <mo id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.6.2.1" stretchy="false" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.6.1.1.cmml">
             [
            </mo>
            <mtext id="S3.SS3.SSS1.p1.12.m6.7.7" xref="S3.SS3.SSS1.p1.12.m6.7.7a.cmml">
             SEP
            </mtext>
            <mo id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.6.2.2" stretchy="false" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.6.1.1.cmml">
             ]
            </mo>
           </mrow>
          </mrow>
          <mo fence="true" id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.3" lspace="0em" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.2.1.cmml">
           &gt;
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.12.m6.8b">
         <apply id="S3.SS3.SSS1.p1.12.m6.8.8.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8">
          <eq id="S3.SS3.SSS1.p1.12.m6.8.8.2.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.2">
          </eq>
          <apply id="S3.SS3.SSS1.p1.12.m6.8.8.3.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.3">
           <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.12.m6.8.8.3.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.3">
            subscript
           </csymbol>
           <ci id="S3.SS3.SSS1.p1.12.m6.8.8.3.2.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.3.2">
            𝒔
           </ci>
           <list id="S3.SS3.SSS1.p1.12.m6.2.2.2.3.cmml" xref="S3.SS3.SSS1.p1.12.m6.2.2.2.4">
            <ci id="S3.SS3.SSS1.p1.12.m6.1.1.1.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.1.1.1.1">
             𝑖
            </ci>
            <ci id="S3.SS3.SSS1.p1.12.m6.2.2.2.2.cmml" xref="S3.SS3.SSS1.p1.12.m6.2.2.2.2">
             𝑗
            </ci>
           </list>
          </apply>
          <apply id="S3.SS3.SSS1.p1.12.m6.8.8.1.2.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1">
           <csymbol cd="latexml" id="S3.SS3.SSS1.p1.12.m6.8.8.1.2.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.2">
            expectation
           </csymbol>
           <apply id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1">
            <times id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.1">
            </times>
            <apply id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.2.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.2.2">
             <csymbol cd="latexml" id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.2.1.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.2.2.1">
              delimited-[]
             </csymbol>
             <ci id="S3.SS3.SSS1.p1.12.m6.5.5a.cmml" xref="S3.SS3.SSS1.p1.12.m6.5.5">
              <mtext id="S3.SS3.SSS1.p1.12.m6.5.5.cmml" xref="S3.SS3.SSS1.p1.12.m6.5.5">
               CLS
              </mtext>
             </ci>
            </apply>
            <apply id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3">
             <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3">
              subscript
             </csymbol>
             <ci id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3.2.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3.2">
              𝑞
             </ci>
             <ci id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3.3.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.3.3">
              𝑖
             </ci>
            </apply>
            <apply id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.4.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.4.2">
             <csymbol cd="latexml" id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.4.1.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.4.2.1">
              delimited-[]
             </csymbol>
             <ci id="S3.SS3.SSS1.p1.12.m6.6.6a.cmml" xref="S3.SS3.SSS1.p1.12.m6.6.6">
              <mtext id="S3.SS3.SSS1.p1.12.m6.6.6.cmml" xref="S3.SS3.SSS1.p1.12.m6.6.6">
               SEP
              </mtext>
             </ci>
            </apply>
            <apply id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.5.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.5">
             <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.5.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.5">
              subscript
             </csymbol>
             <ci id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.5.2.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.5.2">
              𝑑
             </ci>
             <list id="S3.SS3.SSS1.p1.12.m6.4.4.2.3.cmml" xref="S3.SS3.SSS1.p1.12.m6.4.4.2.4">
              <ci id="S3.SS3.SSS1.p1.12.m6.3.3.1.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.3.3.1.1">
               𝑖
              </ci>
              <ci id="S3.SS3.SSS1.p1.12.m6.4.4.2.2.cmml" xref="S3.SS3.SSS1.p1.12.m6.4.4.2.2">
               𝑗
              </ci>
             </list>
            </apply>
            <apply id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.6.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.6.2">
             <csymbol cd="latexml" id="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.6.1.1.cmml" xref="S3.SS3.SSS1.p1.12.m6.8.8.1.1.1.6.2.1">
              delimited-[]
             </csymbol>
             <ci id="S3.SS3.SSS1.p1.12.m6.7.7a.cmml" xref="S3.SS3.SSS1.p1.12.m6.7.7">
              <mtext id="S3.SS3.SSS1.p1.12.m6.7.7.cmml" xref="S3.SS3.SSS1.p1.12.m6.7.7">
               SEP
              </mtext>
             </ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.12.m6.8c">
         \boldsymbol{s}_{i,j}=&lt;[\text{CLS}]~{}q_{i}~{}[\text{SEP}]~{}d_{i,j}~{}[\text{SEP}]&gt;
        </annotation>
       </semantics>
      </math>
      and feed them into the pre-trained transformer model to derive the intermediate dense representation for each pair, formulate as follows
     </p>
     <table class="ltx_equationgroup ltx_eqn_table" id="S3.E3">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E3X">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\boldsymbol{e}^{r}_{i}" class="ltx_Math" display="inline" id="S3.E3X.2.1.1.m1.1">
          <semantics id="S3.E3X.2.1.1.m1.1a">
           <msubsup id="S3.E3X.2.1.1.m1.1.1" xref="S3.E3X.2.1.1.m1.1.1.cmml">
            <mi id="S3.E3X.2.1.1.m1.1.1.2.2" xref="S3.E3X.2.1.1.m1.1.1.2.2.cmml">
             𝒆
            </mi>
            <mi id="S3.E3X.2.1.1.m1.1.1.3" xref="S3.E3X.2.1.1.m1.1.1.3.cmml">
             i
            </mi>
            <mi id="S3.E3X.2.1.1.m1.1.1.2.3" xref="S3.E3X.2.1.1.m1.1.1.2.3.cmml">
             r
            </mi>
           </msubsup>
           <annotation-xml encoding="MathML-Content" id="S3.E3X.2.1.1.m1.1b">
            <apply id="S3.E3X.2.1.1.m1.1.1.cmml" xref="S3.E3X.2.1.1.m1.1.1">
             <csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.1.1.1.cmml" xref="S3.E3X.2.1.1.m1.1.1">
              subscript
             </csymbol>
             <apply id="S3.E3X.2.1.1.m1.1.1.2.cmml" xref="S3.E3X.2.1.1.m1.1.1">
              <csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.1.1.2.1.cmml" xref="S3.E3X.2.1.1.m1.1.1">
               superscript
              </csymbol>
              <ci id="S3.E3X.2.1.1.m1.1.1.2.2.cmml" xref="S3.E3X.2.1.1.m1.1.1.2.2">
               𝒆
              </ci>
              <ci id="S3.E3X.2.1.1.m1.1.1.2.3.cmml" xref="S3.E3X.2.1.1.m1.1.1.2.3">
               𝑟
              </ci>
             </apply>
             <ci id="S3.E3X.2.1.1.m1.1.1.3.cmml" xref="S3.E3X.2.1.1.m1.1.1.3">
              𝑖
             </ci>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E3X.2.1.1.m1.1c">
            \displaystyle\boldsymbol{e}^{r}_{i}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_left ltx_eqn_cell">
         <math alttext="\displaystyle=\text{PLM}(\boldsymbol{s}^{r}_{i,j})" class="ltx_Math" display="inline" id="S3.E3X.3.2.2.m1.3">
          <semantics id="S3.E3X.3.2.2.m1.3a">
           <mrow id="S3.E3X.3.2.2.m1.3.3" xref="S3.E3X.3.2.2.m1.3.3.cmml">
            <mi id="S3.E3X.3.2.2.m1.3.3.3" xref="S3.E3X.3.2.2.m1.3.3.3.cmml">
            </mi>
            <mo id="S3.E3X.3.2.2.m1.3.3.2" xref="S3.E3X.3.2.2.m1.3.3.2.cmml">
             =
            </mo>
            <mrow id="S3.E3X.3.2.2.m1.3.3.1" xref="S3.E3X.3.2.2.m1.3.3.1.cmml">
             <mtext id="S3.E3X.3.2.2.m1.3.3.1.3" xref="S3.E3X.3.2.2.m1.3.3.1.3a.cmml">
              PLM
             </mtext>
             <mo id="S3.E3X.3.2.2.m1.3.3.1.2" lspace="0em" rspace="0em" xref="S3.E3X.3.2.2.m1.3.3.1.2.cmml">
              ​
             </mo>
             <mrow id="S3.E3X.3.2.2.m1.3.3.1.1.1" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.cmml">
              <mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.2" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.cmml">
               (
              </mo>
              <msubsup id="S3.E3X.3.2.2.m1.3.3.1.1.1.1" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.cmml">
               <mi id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.2" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.2.cmml">
                𝒔
               </mi>
               <mrow id="S3.E3X.3.2.2.m1.2.2.2.4" xref="S3.E3X.3.2.2.m1.2.2.2.3.cmml">
                <mi id="S3.E3X.3.2.2.m1.1.1.1.1" xref="S3.E3X.3.2.2.m1.1.1.1.1.cmml">
                 i
                </mi>
                <mo id="S3.E3X.3.2.2.m1.2.2.2.4.1" xref="S3.E3X.3.2.2.m1.2.2.2.3.cmml">
                 ,
                </mo>
                <mi id="S3.E3X.3.2.2.m1.2.2.2.2" xref="S3.E3X.3.2.2.m1.2.2.2.2.cmml">
                 j
                </mi>
               </mrow>
               <mi id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.3" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.3.cmml">
                r
               </mi>
              </msubsup>
              <mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.3" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E3X.3.2.2.m1.3b">
            <apply id="S3.E3X.3.2.2.m1.3.3.cmml" xref="S3.E3X.3.2.2.m1.3.3">
             <eq id="S3.E3X.3.2.2.m1.3.3.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.2">
             </eq>
             <csymbol cd="latexml" id="S3.E3X.3.2.2.m1.3.3.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.3">
              absent
             </csymbol>
             <apply id="S3.E3X.3.2.2.m1.3.3.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.1">
              <times id="S3.E3X.3.2.2.m1.3.3.1.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.2">
              </times>
              <ci id="S3.E3X.3.2.2.m1.3.3.1.3a.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.3">
               <mtext id="S3.E3X.3.2.2.m1.3.3.1.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.3">
                PLM
               </mtext>
              </ci>
              <apply id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1">
               <csymbol cd="ambiguous" id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1">
                subscript
               </csymbol>
               <apply id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1">
                <csymbol cd="ambiguous" id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1">
                 superscript
                </csymbol>
                <ci id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.2">
                 𝒔
                </ci>
                <ci id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.3">
                 𝑟
                </ci>
               </apply>
               <list id="S3.E3X.3.2.2.m1.2.2.2.3.cmml" xref="S3.E3X.3.2.2.m1.2.2.2.4">
                <ci id="S3.E3X.3.2.2.m1.1.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.1.1.1.1">
                 𝑖
                </ci>
                <ci id="S3.E3X.3.2.2.m1.2.2.2.2.cmml" xref="S3.E3X.3.2.2.m1.2.2.2.2">
                 𝑗
                </ci>
               </list>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E3X.3.2.2.m1.3c">
            \displaystyle=\text{PLM}(\boldsymbol{s}^{r}_{i,j})
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2">
         <span class="ltx_tag ltx_tag_equationgroup ltx_align_right">
          (3)
         </span>
        </td>
       </tr>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E3Xa">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\boldsymbol{e}^{k}_{i}=\text{PLM}" class="ltx_Math" display="inline" id="S3.E3Xa.2.1.1.m1.1">
          <semantics id="S3.E3Xa.2.1.1.m1.1a">
           <mrow id="S3.E3Xa.2.1.1.m1.1.1" xref="S3.E3Xa.2.1.1.m1.1.1.cmml">
            <msubsup id="S3.E3Xa.2.1.1.m1.1.1.2" xref="S3.E3Xa.2.1.1.m1.1.1.2.cmml">
             <mi id="S3.E3Xa.2.1.1.m1.1.1.2.2.2" xref="S3.E3Xa.2.1.1.m1.1.1.2.2.2.cmml">
              𝒆
             </mi>
             <mi id="S3.E3Xa.2.1.1.m1.1.1.2.3" xref="S3.E3Xa.2.1.1.m1.1.1.2.3.cmml">
              i
             </mi>
             <mi id="S3.E3Xa.2.1.1.m1.1.1.2.2.3" xref="S3.E3Xa.2.1.1.m1.1.1.2.2.3.cmml">
              k
             </mi>
            </msubsup>
            <mo id="S3.E3Xa.2.1.1.m1.1.1.1" xref="S3.E3Xa.2.1.1.m1.1.1.1.cmml">
             =
            </mo>
            <mtext id="S3.E3Xa.2.1.1.m1.1.1.3" xref="S3.E3Xa.2.1.1.m1.1.1.3a.cmml">
             PLM
            </mtext>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E3Xa.2.1.1.m1.1b">
            <apply id="S3.E3Xa.2.1.1.m1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.1.1">
             <eq id="S3.E3Xa.2.1.1.m1.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1">
             </eq>
             <apply id="S3.E3Xa.2.1.1.m1.1.1.2.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.2">
              <csymbol cd="ambiguous" id="S3.E3Xa.2.1.1.m1.1.1.2.1.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.2">
               subscript
              </csymbol>
              <apply id="S3.E3Xa.2.1.1.m1.1.1.2.2.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.2">
               <csymbol cd="ambiguous" id="S3.E3Xa.2.1.1.m1.1.1.2.2.1.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.2">
                superscript
               </csymbol>
               <ci id="S3.E3Xa.2.1.1.m1.1.1.2.2.2.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.2.2.2">
                𝒆
               </ci>
               <ci id="S3.E3Xa.2.1.1.m1.1.1.2.2.3.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.2.2.3">
                𝑘
               </ci>
              </apply>
              <ci id="S3.E3Xa.2.1.1.m1.1.1.2.3.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.2.3">
               𝑖
              </ci>
             </apply>
             <ci id="S3.E3Xa.2.1.1.m1.1.1.3a.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.3">
              <mtext id="S3.E3Xa.2.1.1.m1.1.1.3.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.3">
               PLM
              </mtext>
             </ci>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E3Xa.2.1.1.m1.1c">
            \displaystyle\boldsymbol{e}^{k}_{i}=\text{PLM}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_left ltx_eqn_cell">
         <math alttext="\displaystyle(\boldsymbol{s}^{k}_{i,j}),k\in[1,2,3,4]" class="ltx_Math" display="inline" id="S3.E3Xa.3.2.2.m1.8">
          <semantics id="S3.E3Xa.3.2.2.m1.8a">
           <mrow id="S3.E3Xa.3.2.2.m1.8.8" xref="S3.E3Xa.3.2.2.m1.8.8.cmml">
            <mrow id="S3.E3Xa.3.2.2.m1.8.8.1.1" xref="S3.E3Xa.3.2.2.m1.8.8.1.2.cmml">
             <mrow id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.cmml">
              <mo id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.2" stretchy="false" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.cmml">
               (
              </mo>
              <msubsup id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.cmml">
               <mi id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.2.2" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.2.2.cmml">
                𝒔
               </mi>
               <mrow id="S3.E3Xa.3.2.2.m1.2.2.2.4" xref="S3.E3Xa.3.2.2.m1.2.2.2.3.cmml">
                <mi id="S3.E3Xa.3.2.2.m1.1.1.1.1" xref="S3.E3Xa.3.2.2.m1.1.1.1.1.cmml">
                 i
                </mi>
                <mo id="S3.E3Xa.3.2.2.m1.2.2.2.4.1" xref="S3.E3Xa.3.2.2.m1.2.2.2.3.cmml">
                 ,
                </mo>
                <mi id="S3.E3Xa.3.2.2.m1.2.2.2.2" xref="S3.E3Xa.3.2.2.m1.2.2.2.2.cmml">
                 j
                </mi>
               </mrow>
               <mi id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.2.3" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.2.3.cmml">
                k
               </mi>
              </msubsup>
              <mo id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.3" stretchy="false" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.cmml">
               )
              </mo>
             </mrow>
             <mo id="S3.E3Xa.3.2.2.m1.8.8.1.1.2" xref="S3.E3Xa.3.2.2.m1.8.8.1.2.cmml">
              ,
             </mo>
             <mi id="S3.E3Xa.3.2.2.m1.7.7" xref="S3.E3Xa.3.2.2.m1.7.7.cmml">
              k
             </mi>
            </mrow>
            <mo id="S3.E3Xa.3.2.2.m1.8.8.2" xref="S3.E3Xa.3.2.2.m1.8.8.2.cmml">
             ∈
            </mo>
            <mrow id="S3.E3Xa.3.2.2.m1.8.8.3.2" xref="S3.E3Xa.3.2.2.m1.8.8.3.1.cmml">
             <mo id="S3.E3Xa.3.2.2.m1.8.8.3.2.1" stretchy="false" xref="S3.E3Xa.3.2.2.m1.8.8.3.1.cmml">
              [
             </mo>
             <mn id="S3.E3Xa.3.2.2.m1.3.3" xref="S3.E3Xa.3.2.2.m1.3.3.cmml">
              1
             </mn>
             <mo id="S3.E3Xa.3.2.2.m1.8.8.3.2.2" xref="S3.E3Xa.3.2.2.m1.8.8.3.1.cmml">
              ,
             </mo>
             <mn id="S3.E3Xa.3.2.2.m1.4.4" xref="S3.E3Xa.3.2.2.m1.4.4.cmml">
              2
             </mn>
             <mo id="S3.E3Xa.3.2.2.m1.8.8.3.2.3" xref="S3.E3Xa.3.2.2.m1.8.8.3.1.cmml">
              ,
             </mo>
             <mn id="S3.E3Xa.3.2.2.m1.5.5" xref="S3.E3Xa.3.2.2.m1.5.5.cmml">
              3
             </mn>
             <mo id="S3.E3Xa.3.2.2.m1.8.8.3.2.4" xref="S3.E3Xa.3.2.2.m1.8.8.3.1.cmml">
              ,
             </mo>
             <mn id="S3.E3Xa.3.2.2.m1.6.6" xref="S3.E3Xa.3.2.2.m1.6.6.cmml">
              4
             </mn>
             <mo id="S3.E3Xa.3.2.2.m1.8.8.3.2.5" stretchy="false" xref="S3.E3Xa.3.2.2.m1.8.8.3.1.cmml">
              ]
             </mo>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E3Xa.3.2.2.m1.8b">
            <apply id="S3.E3Xa.3.2.2.m1.8.8.cmml" xref="S3.E3Xa.3.2.2.m1.8.8">
             <in id="S3.E3Xa.3.2.2.m1.8.8.2.cmml" xref="S3.E3Xa.3.2.2.m1.8.8.2">
             </in>
             <list id="S3.E3Xa.3.2.2.m1.8.8.1.2.cmml" xref="S3.E3Xa.3.2.2.m1.8.8.1.1">
              <apply id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.cmml" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1">
               <csymbol cd="ambiguous" id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.1.cmml" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1">
                subscript
               </csymbol>
               <apply id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.2.cmml" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.2.1.cmml" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1">
                 superscript
                </csymbol>
                <ci id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.2.2.cmml" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.2.2">
                 𝒔
                </ci>
                <ci id="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.2.3.cmml" xref="S3.E3Xa.3.2.2.m1.8.8.1.1.1.1.1.2.3">
                 𝑘
                </ci>
               </apply>
               <list id="S3.E3Xa.3.2.2.m1.2.2.2.3.cmml" xref="S3.E3Xa.3.2.2.m1.2.2.2.4">
                <ci id="S3.E3Xa.3.2.2.m1.1.1.1.1.cmml" xref="S3.E3Xa.3.2.2.m1.1.1.1.1">
                 𝑖
                </ci>
                <ci id="S3.E3Xa.3.2.2.m1.2.2.2.2.cmml" xref="S3.E3Xa.3.2.2.m1.2.2.2.2">
                 𝑗
                </ci>
               </list>
              </apply>
              <ci id="S3.E3Xa.3.2.2.m1.7.7.cmml" xref="S3.E3Xa.3.2.2.m1.7.7">
               𝑘
              </ci>
             </list>
             <list id="S3.E3Xa.3.2.2.m1.8.8.3.1.cmml" xref="S3.E3Xa.3.2.2.m1.8.8.3.2">
              <cn id="S3.E3Xa.3.2.2.m1.3.3.cmml" type="integer" xref="S3.E3Xa.3.2.2.m1.3.3">
               1
              </cn>
              <cn id="S3.E3Xa.3.2.2.m1.4.4.cmml" type="integer" xref="S3.E3Xa.3.2.2.m1.4.4">
               2
              </cn>
              <cn id="S3.E3Xa.3.2.2.m1.5.5.cmml" type="integer" xref="S3.E3Xa.3.2.2.m1.5.5">
               3
              </cn>
              <cn id="S3.E3Xa.3.2.2.m1.6.6.cmml" type="integer" xref="S3.E3Xa.3.2.2.m1.6.6">
               4
              </cn>
             </list>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E3Xa.3.2.2.m1.8c">
            \displaystyle(\boldsymbol{s}^{k}_{i,j}),k\in[1,2,3,4]
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS1.p1.15">
      where
      <math alttext="\boldsymbol{e}^{r}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.13.m1.1">
       <semantics id="S3.SS3.SSS1.p1.13.m1.1a">
        <msubsup id="S3.SS3.SSS1.p1.13.m1.1.1" xref="S3.SS3.SSS1.p1.13.m1.1.1.cmml">
         <mi id="S3.SS3.SSS1.p1.13.m1.1.1.2.2" xref="S3.SS3.SSS1.p1.13.m1.1.1.2.2.cmml">
          𝒆
         </mi>
         <mi id="S3.SS3.SSS1.p1.13.m1.1.1.3" xref="S3.SS3.SSS1.p1.13.m1.1.1.3.cmml">
          i
         </mi>
         <mi id="S3.SS3.SSS1.p1.13.m1.1.1.2.3" xref="S3.SS3.SSS1.p1.13.m1.1.1.2.3.cmml">
          r
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.13.m1.1b">
         <apply id="S3.SS3.SSS1.p1.13.m1.1.1.cmml" xref="S3.SS3.SSS1.p1.13.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.13.m1.1.1.1.cmml" xref="S3.SS3.SSS1.p1.13.m1.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS1.p1.13.m1.1.1.2.cmml" xref="S3.SS3.SSS1.p1.13.m1.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.13.m1.1.1.2.1.cmml" xref="S3.SS3.SSS1.p1.13.m1.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS1.p1.13.m1.1.1.2.2.cmml" xref="S3.SS3.SSS1.p1.13.m1.1.1.2.2">
            𝒆
           </ci>
           <ci id="S3.SS3.SSS1.p1.13.m1.1.1.2.3.cmml" xref="S3.SS3.SSS1.p1.13.m1.1.1.2.3">
            𝑟
           </ci>
          </apply>
          <ci id="S3.SS3.SSS1.p1.13.m1.1.1.3.cmml" xref="S3.SS3.SSS1.p1.13.m1.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.13.m1.1c">
         \boldsymbol{e}^{r}_{i}
        </annotation>
       </semantics>
      </math>
      denotes the raw query-doc representation and
      <math alttext="\boldsymbol{e}^{k}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.14.m2.1">
       <semantics id="S3.SS3.SSS1.p1.14.m2.1a">
        <msubsup id="S3.SS3.SSS1.p1.14.m2.1.1" xref="S3.SS3.SSS1.p1.14.m2.1.1.cmml">
         <mi id="S3.SS3.SSS1.p1.14.m2.1.1.2.2" xref="S3.SS3.SSS1.p1.14.m2.1.1.2.2.cmml">
          𝒆
         </mi>
         <mi id="S3.SS3.SSS1.p1.14.m2.1.1.3" xref="S3.SS3.SSS1.p1.14.m2.1.1.3.cmml">
          i
         </mi>
         <mi id="S3.SS3.SSS1.p1.14.m2.1.1.2.3" xref="S3.SS3.SSS1.p1.14.m2.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.14.m2.1b">
         <apply id="S3.SS3.SSS1.p1.14.m2.1.1.cmml" xref="S3.SS3.SSS1.p1.14.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.14.m2.1.1.1.cmml" xref="S3.SS3.SSS1.p1.14.m2.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS1.p1.14.m2.1.1.2.cmml" xref="S3.SS3.SSS1.p1.14.m2.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS1.p1.14.m2.1.1.2.1.cmml" xref="S3.SS3.SSS1.p1.14.m2.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS1.p1.14.m2.1.1.2.2.cmml" xref="S3.SS3.SSS1.p1.14.m2.1.1.2.2">
            𝒆
           </ci>
           <ci id="S3.SS3.SSS1.p1.14.m2.1.1.2.3.cmml" xref="S3.SS3.SSS1.p1.14.m2.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S3.SS3.SSS1.p1.14.m2.1.1.3.cmml" xref="S3.SS3.SSS1.p1.14.m2.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.14.m2.1c">
         \boldsymbol{e}^{k}_{i}
        </annotation>
       </semantics>
      </math>
      denotes
      <math alttext="k" class="ltx_Math" display="inline" id="S3.SS3.SSS1.p1.15.m3.1">
       <semantics id="S3.SS3.SSS1.p1.15.m3.1a">
        <mi id="S3.SS3.SSS1.p1.15.m3.1.1" xref="S3.SS3.SSS1.p1.15.m3.1.1.cmml">
         k
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS1.p1.15.m3.1b">
         <ci id="S3.SS3.SSS1.p1.15.m3.1.1.cmml" xref="S3.SS3.SSS1.p1.15.m3.1.1">
          𝑘
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS1.p1.15.m3.1c">
         k
        </annotation>
       </semantics>
      </math>
      -th agent rewritten query-doc representation. We selected three different transformer models for the experiment: BERT
      <cite class="ltx_cite ltx_citemacro_cite">
       [
       <a class="ltx_ref" href="#bib.bib26" title="">
        26
       </a>
       ]
      </cite>
      , RoBERTa
      <cite class="ltx_cite ltx_citemacro_cite">
       [
       <a class="ltx_ref" href="#bib.bib27" title="">
        27
       </a>
       ]
      </cite>
      , and ERNIE
      <cite class="ltx_cite ltx_citemacro_cite">
       [
       <a class="ltx_ref" href="#bib.bib28" title="">
        28
       </a>
       ]
      </cite>
      . To achieve optimal performance, preliminary training on the training dataset is conducted for these PLMs, followed by fine-tuning for the whole model to enhance the robustness. Detailed descriptions of the whole model design and experimental procedures will be presented in the subsequent section.
     </p>
    </div>
   </section>
   <section class="ltx_subsubsection" id="S3.SS3.SSS2">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      <span class="ltx_text" id="S3.SS3.SSS2.4.1.1">
       III-C
      </span>
      2
     </span>
     Robust MMoE Module
    </h4>
    <div class="ltx_para" id="S3.SS3.SSS2.p1">
     <p class="ltx_p" id="S3.SS3.SSS2.p1.1">
      In this part, we present the methodology for designing an MMoE-adapter structure as an extension of an existing model to enhance robustness under multiple consistent semantic query inputs.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS2.p2">
     <p class="ltx_p" id="S3.SS3.SSS2.p2.1">
      The Multi-gate Mixture-of-Experts (MMoE) model, originally introduced by Ma et al.
      <cite class="ltx_cite ltx_citemacro_cite">
       [
       <a class="ltx_ref" href="#bib.bib29" title="">
        29
       </a>
       ]
      </cite>
      , tackles the challenges of multi-task learning by incorporating a Mixture-of-Experts (MoE) architecture. This innovative approach explicitly models the relationship between individual tasks and employs a gating network to optimize the outcomes. In the context of our task, we aim to use the MoE module to simultaneously capture both query-independent semantic information and query-shared information. These captured representations are subsequently fused together to enhance the overall robustness.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS2.p3">
     <p class="ltx_p" id="S3.SS3.SSS2.p3.1">
      For each agent role, we construct an independent “expert” network to capture agent-specific representations, along with an agent-shared ”expert” network that captures representations shared across different agents. To achieve this, we employ an adapter structure for each expert in our approach, drawing inspiration from the work
      <cite class="ltx_cite ltx_citemacro_cite">
       [
       <a class="ltx_ref" href="#bib.bib30" title="">
        30
       </a>
       ]
      </cite>
      . Adapter tuning, a widely adopted strategy in natural language processing, involves updating only a minimal number of parameters while achieving substantial improvements in generalization across various downstream tasks
      <cite class="ltx_cite ltx_citemacro_cite">
       [
       <a class="ltx_ref" href="#bib.bib31" title="">
        31
       </a>
       ,
       <a class="ltx_ref" href="#bib.bib32" title="">
        32
       </a>
       ]
      </cite>
      . The adapter modules adhere to a bottleneck design, encompassing a down-projection layer, a non-linear layer, an up-projection layer, and a skip connection. This module seamlessly integrates as a plug-in directly within the transformer architecture.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS2.p4">
     <p class="ltx_p" id="S3.SS3.SSS2.p4.3">
      In our model, for each agent, we construct an agent-independent adapter
      <math alttext="\mathcal{A}^{d}_{k}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.1.m1.1">
       <semantics id="S3.SS3.SSS2.p4.1.m1.1a">
        <msubsup id="S3.SS3.SSS2.p4.1.m1.1.1" xref="S3.SS3.SSS2.p4.1.m1.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS2.p4.1.m1.1.1.2.2" xref="S3.SS3.SSS2.p4.1.m1.1.1.2.2.cmml">
          𝒜
         </mi>
         <mi id="S3.SS3.SSS2.p4.1.m1.1.1.3" xref="S3.SS3.SSS2.p4.1.m1.1.1.3.cmml">
          k
         </mi>
         <mi id="S3.SS3.SSS2.p4.1.m1.1.1.2.3" xref="S3.SS3.SSS2.p4.1.m1.1.1.2.3.cmml">
          d
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.1.m1.1b">
         <apply id="S3.SS3.SSS2.p4.1.m1.1.1.cmml" xref="S3.SS3.SSS2.p4.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p4.1.m1.1.1.1.cmml" xref="S3.SS3.SSS2.p4.1.m1.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS2.p4.1.m1.1.1.2.cmml" xref="S3.SS3.SSS2.p4.1.m1.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS2.p4.1.m1.1.1.2.1.cmml" xref="S3.SS3.SSS2.p4.1.m1.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS2.p4.1.m1.1.1.2.2.cmml" xref="S3.SS3.SSS2.p4.1.m1.1.1.2.2">
            𝒜
           </ci>
           <ci id="S3.SS3.SSS2.p4.1.m1.1.1.2.3.cmml" xref="S3.SS3.SSS2.p4.1.m1.1.1.2.3">
            𝑑
           </ci>
          </apply>
          <ci id="S3.SS3.SSS2.p4.1.m1.1.1.3.cmml" xref="S3.SS3.SSS2.p4.1.m1.1.1.3">
           𝑘
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.1.m1.1c">
         \mathcal{A}^{d}_{k}
        </annotation>
       </semantics>
      </math>
      cell, where
      <math alttext="k\in[0,...,4]" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.2.m2.3">
       <semantics id="S3.SS3.SSS2.p4.2.m2.3a">
        <mrow id="S3.SS3.SSS2.p4.2.m2.3.4" xref="S3.SS3.SSS2.p4.2.m2.3.4.cmml">
         <mi id="S3.SS3.SSS2.p4.2.m2.3.4.2" xref="S3.SS3.SSS2.p4.2.m2.3.4.2.cmml">
          k
         </mi>
         <mo id="S3.SS3.SSS2.p4.2.m2.3.4.1" xref="S3.SS3.SSS2.p4.2.m2.3.4.1.cmml">
          ∈
         </mo>
         <mrow id="S3.SS3.SSS2.p4.2.m2.3.4.3.2" xref="S3.SS3.SSS2.p4.2.m2.3.4.3.1.cmml">
          <mo id="S3.SS3.SSS2.p4.2.m2.3.4.3.2.1" stretchy="false" xref="S3.SS3.SSS2.p4.2.m2.3.4.3.1.cmml">
           [
          </mo>
          <mn id="S3.SS3.SSS2.p4.2.m2.1.1" xref="S3.SS3.SSS2.p4.2.m2.1.1.cmml">
           0
          </mn>
          <mo id="S3.SS3.SSS2.p4.2.m2.3.4.3.2.2" xref="S3.SS3.SSS2.p4.2.m2.3.4.3.1.cmml">
           ,
          </mo>
          <mi id="S3.SS3.SSS2.p4.2.m2.2.2" mathvariant="normal" xref="S3.SS3.SSS2.p4.2.m2.2.2.cmml">
           …
          </mi>
          <mo id="S3.SS3.SSS2.p4.2.m2.3.4.3.2.3" xref="S3.SS3.SSS2.p4.2.m2.3.4.3.1.cmml">
           ,
          </mo>
          <mn id="S3.SS3.SSS2.p4.2.m2.3.3" xref="S3.SS3.SSS2.p4.2.m2.3.3.cmml">
           4
          </mn>
          <mo id="S3.SS3.SSS2.p4.2.m2.3.4.3.2.4" stretchy="false" xref="S3.SS3.SSS2.p4.2.m2.3.4.3.1.cmml">
           ]
          </mo>
         </mrow>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.2.m2.3b">
         <apply id="S3.SS3.SSS2.p4.2.m2.3.4.cmml" xref="S3.SS3.SSS2.p4.2.m2.3.4">
          <in id="S3.SS3.SSS2.p4.2.m2.3.4.1.cmml" xref="S3.SS3.SSS2.p4.2.m2.3.4.1">
          </in>
          <ci id="S3.SS3.SSS2.p4.2.m2.3.4.2.cmml" xref="S3.SS3.SSS2.p4.2.m2.3.4.2">
           𝑘
          </ci>
          <list id="S3.SS3.SSS2.p4.2.m2.3.4.3.1.cmml" xref="S3.SS3.SSS2.p4.2.m2.3.4.3.2">
           <cn id="S3.SS3.SSS2.p4.2.m2.1.1.cmml" type="integer" xref="S3.SS3.SSS2.p4.2.m2.1.1">
            0
           </cn>
           <ci id="S3.SS3.SSS2.p4.2.m2.2.2.cmml" xref="S3.SS3.SSS2.p4.2.m2.2.2">
            …
           </ci>
           <cn id="S3.SS3.SSS2.p4.2.m2.3.3.cmml" type="integer" xref="S3.SS3.SSS2.p4.2.m2.3.3">
            4
           </cn>
          </list>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.2.m2.3c">
         k\in[0,...,4]
        </annotation>
       </semantics>
      </math>
      . Additionally, an agent-shared adapter cell is formulated as
      <math alttext="\mathcal{A}^{s}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p4.3.m3.1">
       <semantics id="S3.SS3.SSS2.p4.3.m3.1a">
        <msup id="S3.SS3.SSS2.p4.3.m3.1.1" xref="S3.SS3.SSS2.p4.3.m3.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS2.p4.3.m3.1.1.2" xref="S3.SS3.SSS2.p4.3.m3.1.1.2.cmml">
          𝒜
         </mi>
         <mi id="S3.SS3.SSS2.p4.3.m3.1.1.3" xref="S3.SS3.SSS2.p4.3.m3.1.1.3.cmml">
          s
         </mi>
        </msup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p4.3.m3.1b">
         <apply id="S3.SS3.SSS2.p4.3.m3.1.1.cmml" xref="S3.SS3.SSS2.p4.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p4.3.m3.1.1.1.cmml" xref="S3.SS3.SSS2.p4.3.m3.1.1">
           superscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p4.3.m3.1.1.2.cmml" xref="S3.SS3.SSS2.p4.3.m3.1.1.2">
           𝒜
          </ci>
          <ci id="S3.SS3.SSS2.p4.3.m3.1.1.3.cmml" xref="S3.SS3.SSS2.p4.3.m3.1.1.3">
           𝑠
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p4.3.m3.1c">
         \mathcal{A}^{s}
        </annotation>
       </semantics>
      </math>
      to capture shared information across distinct queries. Mathematically, we can express this as follows
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS2.p5">
     <table class="ltx_equationgroup ltx_eqn_table" id="S3.E4">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E4X">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\boldsymbol{v}^{k}_{i}" class="ltx_Math" display="inline" id="S3.E4X.2.1.1.m1.1">
          <semantics id="S3.E4X.2.1.1.m1.1a">
           <msubsup id="S3.E4X.2.1.1.m1.1.1" xref="S3.E4X.2.1.1.m1.1.1.cmml">
            <mi id="S3.E4X.2.1.1.m1.1.1.2.2" xref="S3.E4X.2.1.1.m1.1.1.2.2.cmml">
             𝒗
            </mi>
            <mi id="S3.E4X.2.1.1.m1.1.1.3" xref="S3.E4X.2.1.1.m1.1.1.3.cmml">
             i
            </mi>
            <mi id="S3.E4X.2.1.1.m1.1.1.2.3" xref="S3.E4X.2.1.1.m1.1.1.2.3.cmml">
             k
            </mi>
           </msubsup>
           <annotation-xml encoding="MathML-Content" id="S3.E4X.2.1.1.m1.1b">
            <apply id="S3.E4X.2.1.1.m1.1.1.cmml" xref="S3.E4X.2.1.1.m1.1.1">
             <csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.1.1.1.cmml" xref="S3.E4X.2.1.1.m1.1.1">
              subscript
             </csymbol>
             <apply id="S3.E4X.2.1.1.m1.1.1.2.cmml" xref="S3.E4X.2.1.1.m1.1.1">
              <csymbol cd="ambiguous" id="S3.E4X.2.1.1.m1.1.1.2.1.cmml" xref="S3.E4X.2.1.1.m1.1.1">
               superscript
              </csymbol>
              <ci id="S3.E4X.2.1.1.m1.1.1.2.2.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.2">
               𝒗
              </ci>
              <ci id="S3.E4X.2.1.1.m1.1.1.2.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.2.3">
               𝑘
              </ci>
             </apply>
             <ci id="S3.E4X.2.1.1.m1.1.1.3.cmml" xref="S3.E4X.2.1.1.m1.1.1.3">
              𝑖
             </ci>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E4X.2.1.1.m1.1c">
            \displaystyle\boldsymbol{v}^{k}_{i}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_left ltx_eqn_cell">
         <math alttext="\displaystyle=\mathcal{A}^{d}_{k}(\boldsymbol{e}^{k}_{i})" class="ltx_Math" display="inline" id="S3.E4X.3.2.2.m1.1">
          <semantics id="S3.E4X.3.2.2.m1.1a">
           <mrow id="S3.E4X.3.2.2.m1.1.1" xref="S3.E4X.3.2.2.m1.1.1.cmml">
            <mi id="S3.E4X.3.2.2.m1.1.1.3" xref="S3.E4X.3.2.2.m1.1.1.3.cmml">
            </mi>
            <mo id="S3.E4X.3.2.2.m1.1.1.2" xref="S3.E4X.3.2.2.m1.1.1.2.cmml">
             =
            </mo>
            <mrow id="S3.E4X.3.2.2.m1.1.1.1" xref="S3.E4X.3.2.2.m1.1.1.1.cmml">
             <msubsup id="S3.E4X.3.2.2.m1.1.1.1.3" xref="S3.E4X.3.2.2.m1.1.1.1.3.cmml">
              <mi class="ltx_font_mathcaligraphic" id="S3.E4X.3.2.2.m1.1.1.1.3.2.2" xref="S3.E4X.3.2.2.m1.1.1.1.3.2.2.cmml">
               𝒜
              </mi>
              <mi id="S3.E4X.3.2.2.m1.1.1.1.3.3" xref="S3.E4X.3.2.2.m1.1.1.1.3.3.cmml">
               k
              </mi>
              <mi id="S3.E4X.3.2.2.m1.1.1.1.3.2.3" xref="S3.E4X.3.2.2.m1.1.1.1.3.2.3.cmml">
               d
              </mi>
             </msubsup>
             <mo id="S3.E4X.3.2.2.m1.1.1.1.2" lspace="0em" rspace="0em" xref="S3.E4X.3.2.2.m1.1.1.1.2.cmml">
              ​
             </mo>
             <mrow id="S3.E4X.3.2.2.m1.1.1.1.1.1" xref="S3.E4X.3.2.2.m1.1.1.1.1.1.1.cmml">
              <mo id="S3.E4X.3.2.2.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E4X.3.2.2.m1.1.1.1.1.1.1.cmml">
               (
              </mo>
              <msubsup id="S3.E4X.3.2.2.m1.1.1.1.1.1.1" xref="S3.E4X.3.2.2.m1.1.1.1.1.1.1.cmml">
               <mi id="S3.E4X.3.2.2.m1.1.1.1.1.1.1.2.2" xref="S3.E4X.3.2.2.m1.1.1.1.1.1.1.2.2.cmml">
                𝒆
               </mi>
               <mi id="S3.E4X.3.2.2.m1.1.1.1.1.1.1.3" xref="S3.E4X.3.2.2.m1.1.1.1.1.1.1.3.cmml">
                i
               </mi>
               <mi id="S3.E4X.3.2.2.m1.1.1.1.1.1.1.2.3" xref="S3.E4X.3.2.2.m1.1.1.1.1.1.1.2.3.cmml">
                k
               </mi>
              </msubsup>
              <mo id="S3.E4X.3.2.2.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E4X.3.2.2.m1.1.1.1.1.1.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E4X.3.2.2.m1.1b">
            <apply id="S3.E4X.3.2.2.m1.1.1.cmml" xref="S3.E4X.3.2.2.m1.1.1">
             <eq id="S3.E4X.3.2.2.m1.1.1.2.cmml" xref="S3.E4X.3.2.2.m1.1.1.2">
             </eq>
             <csymbol cd="latexml" id="S3.E4X.3.2.2.m1.1.1.3.cmml" xref="S3.E4X.3.2.2.m1.1.1.3">
              absent
             </csymbol>
             <apply id="S3.E4X.3.2.2.m1.1.1.1.cmml" xref="S3.E4X.3.2.2.m1.1.1.1">
              <times id="S3.E4X.3.2.2.m1.1.1.1.2.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.2">
              </times>
              <apply id="S3.E4X.3.2.2.m1.1.1.1.3.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.3">
               <csymbol cd="ambiguous" id="S3.E4X.3.2.2.m1.1.1.1.3.1.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.3">
                subscript
               </csymbol>
               <apply id="S3.E4X.3.2.2.m1.1.1.1.3.2.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.3">
                <csymbol cd="ambiguous" id="S3.E4X.3.2.2.m1.1.1.1.3.2.1.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.3">
                 superscript
                </csymbol>
                <ci id="S3.E4X.3.2.2.m1.1.1.1.3.2.2.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.3.2.2">
                 𝒜
                </ci>
                <ci id="S3.E4X.3.2.2.m1.1.1.1.3.2.3.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.3.2.3">
                 𝑑
                </ci>
               </apply>
               <ci id="S3.E4X.3.2.2.m1.1.1.1.3.3.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.3.3">
                𝑘
               </ci>
              </apply>
              <apply id="S3.E4X.3.2.2.m1.1.1.1.1.1.1.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.1.1">
               <csymbol cd="ambiguous" id="S3.E4X.3.2.2.m1.1.1.1.1.1.1.1.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.1.1">
                subscript
               </csymbol>
               <apply id="S3.E4X.3.2.2.m1.1.1.1.1.1.1.2.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.E4X.3.2.2.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.1.1">
                 superscript
                </csymbol>
                <ci id="S3.E4X.3.2.2.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.1.1.1.2.2">
                 𝒆
                </ci>
                <ci id="S3.E4X.3.2.2.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.1.1.1.2.3">
                 𝑘
                </ci>
               </apply>
               <ci id="S3.E4X.3.2.2.m1.1.1.1.1.1.1.3.cmml" xref="S3.E4X.3.2.2.m1.1.1.1.1.1.1.3">
                𝑖
               </ci>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E4X.3.2.2.m1.1c">
            \displaystyle=\mathcal{A}^{d}_{k}(\boldsymbol{e}^{k}_{i})
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2">
         <span class="ltx_tag ltx_tag_equationgroup ltx_align_right">
          (4)
         </span>
        </td>
       </tr>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E4Xa">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_td ltx_align_right ltx_eqn_cell">
         <math alttext="\displaystyle\boldsymbol{w}^{k}_{i}" class="ltx_Math" display="inline" id="S3.E4Xa.2.1.1.m1.1">
          <semantics id="S3.E4Xa.2.1.1.m1.1a">
           <msubsup id="S3.E4Xa.2.1.1.m1.1.1" xref="S3.E4Xa.2.1.1.m1.1.1.cmml">
            <mi id="S3.E4Xa.2.1.1.m1.1.1.2.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.2.cmml">
             𝒘
            </mi>
            <mi id="S3.E4Xa.2.1.1.m1.1.1.3" xref="S3.E4Xa.2.1.1.m1.1.1.3.cmml">
             i
            </mi>
            <mi id="S3.E4Xa.2.1.1.m1.1.1.2.3" xref="S3.E4Xa.2.1.1.m1.1.1.2.3.cmml">
             k
            </mi>
           </msubsup>
           <annotation-xml encoding="MathML-Content" id="S3.E4Xa.2.1.1.m1.1b">
            <apply id="S3.E4Xa.2.1.1.m1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1">
             <csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1">
              subscript
             </csymbol>
             <apply id="S3.E4Xa.2.1.1.m1.1.1.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1">
              <csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.1.1.2.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1">
               superscript
              </csymbol>
              <ci id="S3.E4Xa.2.1.1.m1.1.1.2.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.2">
               𝒘
              </ci>
              <ci id="S3.E4Xa.2.1.1.m1.1.1.2.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2.3">
               𝑘
              </ci>
             </apply>
             <ci id="S3.E4Xa.2.1.1.m1.1.1.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.3">
              𝑖
             </ci>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E4Xa.2.1.1.m1.1c">
            \displaystyle\boldsymbol{w}^{k}_{i}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_td ltx_align_left ltx_eqn_cell">
         <math alttext="\displaystyle=\mathcal{A}^{s}(\boldsymbol{e}^{k}_{i})" class="ltx_Math" display="inline" id="S3.E4Xa.3.2.2.m1.1">
          <semantics id="S3.E4Xa.3.2.2.m1.1a">
           <mrow id="S3.E4Xa.3.2.2.m1.1.1" xref="S3.E4Xa.3.2.2.m1.1.1.cmml">
            <mi id="S3.E4Xa.3.2.2.m1.1.1.3" xref="S3.E4Xa.3.2.2.m1.1.1.3.cmml">
            </mi>
            <mo id="S3.E4Xa.3.2.2.m1.1.1.2" xref="S3.E4Xa.3.2.2.m1.1.1.2.cmml">
             =
            </mo>
            <mrow id="S3.E4Xa.3.2.2.m1.1.1.1" xref="S3.E4Xa.3.2.2.m1.1.1.1.cmml">
             <msup id="S3.E4Xa.3.2.2.m1.1.1.1.3" xref="S3.E4Xa.3.2.2.m1.1.1.1.3.cmml">
              <mi class="ltx_font_mathcaligraphic" id="S3.E4Xa.3.2.2.m1.1.1.1.3.2" xref="S3.E4Xa.3.2.2.m1.1.1.1.3.2.cmml">
               𝒜
              </mi>
              <mi id="S3.E4Xa.3.2.2.m1.1.1.1.3.3" xref="S3.E4Xa.3.2.2.m1.1.1.1.3.3.cmml">
               s
              </mi>
             </msup>
             <mo id="S3.E4Xa.3.2.2.m1.1.1.1.2" lspace="0em" rspace="0em" xref="S3.E4Xa.3.2.2.m1.1.1.1.2.cmml">
              ​
             </mo>
             <mrow id="S3.E4Xa.3.2.2.m1.1.1.1.1.1" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.cmml">
              <mo id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.cmml">
               (
              </mo>
              <msubsup id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.cmml">
               <mi id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.2" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.2.cmml">
                𝒆
               </mi>
               <mi id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.3" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.cmml">
                i
               </mi>
               <mi id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.3" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.3.cmml">
                k
               </mi>
              </msubsup>
              <mo id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E4Xa.3.2.2.m1.1b">
            <apply id="S3.E4Xa.3.2.2.m1.1.1.cmml" xref="S3.E4Xa.3.2.2.m1.1.1">
             <eq id="S3.E4Xa.3.2.2.m1.1.1.2.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.2">
             </eq>
             <csymbol cd="latexml" id="S3.E4Xa.3.2.2.m1.1.1.3.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.3">
              absent
             </csymbol>
             <apply id="S3.E4Xa.3.2.2.m1.1.1.1.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1">
              <times id="S3.E4Xa.3.2.2.m1.1.1.1.2.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.2">
              </times>
              <apply id="S3.E4Xa.3.2.2.m1.1.1.1.3.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.3">
               <csymbol cd="ambiguous" id="S3.E4Xa.3.2.2.m1.1.1.1.3.1.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.3">
                superscript
               </csymbol>
               <ci id="S3.E4Xa.3.2.2.m1.1.1.1.3.2.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.3.2">
                𝒜
               </ci>
               <ci id="S3.E4Xa.3.2.2.m1.1.1.1.3.3.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.3.3">
                𝑠
               </ci>
              </apply>
              <apply id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1">
               <csymbol cd="ambiguous" id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.1.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1">
                subscript
               </csymbol>
               <apply id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1">
                 superscript
                </csymbol>
                <ci id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.2">
                 𝒆
                </ci>
                <ci id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.3">
                 𝑘
                </ci>
               </apply>
               <ci id="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.cmml" xref="S3.E4Xa.3.2.2.m1.1.1.1.1.1.1.3">
                𝑖
               </ci>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E4Xa.3.2.2.m1.1c">
            \displaystyle=\mathcal{A}^{s}(\boldsymbol{e}^{k}_{i})
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS2.p5.6">
      where
      <math alttext="\boldsymbol{v}^{k}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p5.1.m1.1">
       <semantics id="S3.SS3.SSS2.p5.1.m1.1a">
        <msubsup id="S3.SS3.SSS2.p5.1.m1.1.1" xref="S3.SS3.SSS2.p5.1.m1.1.1.cmml">
         <mi id="S3.SS3.SSS2.p5.1.m1.1.1.2.2" xref="S3.SS3.SSS2.p5.1.m1.1.1.2.2.cmml">
          𝒗
         </mi>
         <mi id="S3.SS3.SSS2.p5.1.m1.1.1.3" xref="S3.SS3.SSS2.p5.1.m1.1.1.3.cmml">
          i
         </mi>
         <mi id="S3.SS3.SSS2.p5.1.m1.1.1.2.3" xref="S3.SS3.SSS2.p5.1.m1.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p5.1.m1.1b">
         <apply id="S3.SS3.SSS2.p5.1.m1.1.1.cmml" xref="S3.SS3.SSS2.p5.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p5.1.m1.1.1.1.cmml" xref="S3.SS3.SSS2.p5.1.m1.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS2.p5.1.m1.1.1.2.cmml" xref="S3.SS3.SSS2.p5.1.m1.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS2.p5.1.m1.1.1.2.1.cmml" xref="S3.SS3.SSS2.p5.1.m1.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS2.p5.1.m1.1.1.2.2.cmml" xref="S3.SS3.SSS2.p5.1.m1.1.1.2.2">
            𝒗
           </ci>
           <ci id="S3.SS3.SSS2.p5.1.m1.1.1.2.3.cmml" xref="S3.SS3.SSS2.p5.1.m1.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S3.SS3.SSS2.p5.1.m1.1.1.3.cmml" xref="S3.SS3.SSS2.p5.1.m1.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p5.1.m1.1c">
         \boldsymbol{v}^{k}_{i}
        </annotation>
       </semantics>
      </math>
      represents the agent-independent representation for the
      <math alttext="k" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p5.2.m2.1">
       <semantics id="S3.SS3.SSS2.p5.2.m2.1a">
        <mi id="S3.SS3.SSS2.p5.2.m2.1.1" xref="S3.SS3.SSS2.p5.2.m2.1.1.cmml">
         k
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p5.2.m2.1b">
         <ci id="S3.SS3.SSS2.p5.2.m2.1.1.cmml" xref="S3.SS3.SSS2.p5.2.m2.1.1">
          𝑘
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p5.2.m2.1c">
         k
        </annotation>
       </semantics>
      </math>
      -th adapter and
      <math alttext="i" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p5.3.m3.1">
       <semantics id="S3.SS3.SSS2.p5.3.m3.1a">
        <mi id="S3.SS3.SSS2.p5.3.m3.1.1" xref="S3.SS3.SSS2.p5.3.m3.1.1.cmml">
         i
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p5.3.m3.1b">
         <ci id="S3.SS3.SSS2.p5.3.m3.1.1.cmml" xref="S3.SS3.SSS2.p5.3.m3.1.1">
          𝑖
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p5.3.m3.1c">
         i
        </annotation>
       </semantics>
      </math>
      -th query, and
      <math alttext="\boldsymbol{w}^{k}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p5.4.m4.1">
       <semantics id="S3.SS3.SSS2.p5.4.m4.1a">
        <msubsup id="S3.SS3.SSS2.p5.4.m4.1.1" xref="S3.SS3.SSS2.p5.4.m4.1.1.cmml">
         <mi id="S3.SS3.SSS2.p5.4.m4.1.1.2.2" xref="S3.SS3.SSS2.p5.4.m4.1.1.2.2.cmml">
          𝒘
         </mi>
         <mi id="S3.SS3.SSS2.p5.4.m4.1.1.3" xref="S3.SS3.SSS2.p5.4.m4.1.1.3.cmml">
          i
         </mi>
         <mi id="S3.SS3.SSS2.p5.4.m4.1.1.2.3" xref="S3.SS3.SSS2.p5.4.m4.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p5.4.m4.1b">
         <apply id="S3.SS3.SSS2.p5.4.m4.1.1.cmml" xref="S3.SS3.SSS2.p5.4.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p5.4.m4.1.1.1.cmml" xref="S3.SS3.SSS2.p5.4.m4.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS2.p5.4.m4.1.1.2.cmml" xref="S3.SS3.SSS2.p5.4.m4.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS2.p5.4.m4.1.1.2.1.cmml" xref="S3.SS3.SSS2.p5.4.m4.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS2.p5.4.m4.1.1.2.2.cmml" xref="S3.SS3.SSS2.p5.4.m4.1.1.2.2">
            𝒘
           </ci>
           <ci id="S3.SS3.SSS2.p5.4.m4.1.1.2.3.cmml" xref="S3.SS3.SSS2.p5.4.m4.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S3.SS3.SSS2.p5.4.m4.1.1.3.cmml" xref="S3.SS3.SSS2.p5.4.m4.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p5.4.m4.1c">
         \boldsymbol{w}^{k}_{i}
        </annotation>
       </semantics>
      </math>
      represents the agent-shared representation, with all different agents share the same adapter cell
      <math alttext="\mathcal{A}^{s}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p5.5.m5.1">
       <semantics id="S3.SS3.SSS2.p5.5.m5.1a">
        <msup id="S3.SS3.SSS2.p5.5.m5.1.1" xref="S3.SS3.SSS2.p5.5.m5.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS2.p5.5.m5.1.1.2" xref="S3.SS3.SSS2.p5.5.m5.1.1.2.cmml">
          𝒜
         </mi>
         <mi id="S3.SS3.SSS2.p5.5.m5.1.1.3" xref="S3.SS3.SSS2.p5.5.m5.1.1.3.cmml">
          s
         </mi>
        </msup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p5.5.m5.1b">
         <apply id="S3.SS3.SSS2.p5.5.m5.1.1.cmml" xref="S3.SS3.SSS2.p5.5.m5.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p5.5.m5.1.1.1.cmml" xref="S3.SS3.SSS2.p5.5.m5.1.1">
           superscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p5.5.m5.1.1.2.cmml" xref="S3.SS3.SSS2.p5.5.m5.1.1.2">
           𝒜
          </ci>
          <ci id="S3.SS3.SSS2.p5.5.m5.1.1.3.cmml" xref="S3.SS3.SSS2.p5.5.m5.1.1.3">
           𝑠
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p5.5.m5.1c">
         \mathcal{A}^{s}
        </annotation>
       </semantics>
      </math>
      . When
      <math alttext="k" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p5.6.m6.1">
       <semantics id="S3.SS3.SSS2.p5.6.m6.1a">
        <mi id="S3.SS3.SSS2.p5.6.m6.1.1" xref="S3.SS3.SSS2.p5.6.m6.1.1.cmml">
         k
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p5.6.m6.1b">
         <ci id="S3.SS3.SSS2.p5.6.m6.1.1.cmml" xref="S3.SS3.SSS2.p5.6.m6.1.1">
          𝑘
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p5.6.m6.1c">
         k
        </annotation>
       </semantics>
      </math>
      is set 0, t specifically refers to the processing of the original query. The integration of these representations is efficiently executed through a gate network.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS2.p6">
     <p class="ltx_p" id="S3.SS3.SSS2.p6.3">
      The gate network is designed to balance the proportion of individual and shared components in the model. The aforementioned operations decompose the representation
      <math alttext="\boldsymbol{e}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p6.1.m1.1">
       <semantics id="S3.SS3.SSS2.p6.1.m1.1a">
        <msub id="S3.SS3.SSS2.p6.1.m1.1.1" xref="S3.SS3.SSS2.p6.1.m1.1.1.cmml">
         <mi id="S3.SS3.SSS2.p6.1.m1.1.1.2" xref="S3.SS3.SSS2.p6.1.m1.1.1.2.cmml">
          𝒆
         </mi>
         <mi id="S3.SS3.SSS2.p6.1.m1.1.1.3" xref="S3.SS3.SSS2.p6.1.m1.1.1.3.cmml">
          i
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p6.1.m1.1b">
         <apply id="S3.SS3.SSS2.p6.1.m1.1.1.cmml" xref="S3.SS3.SSS2.p6.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.1.m1.1.1.1.cmml" xref="S3.SS3.SSS2.p6.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p6.1.m1.1.1.2.cmml" xref="S3.SS3.SSS2.p6.1.m1.1.1.2">
           𝒆
          </ci>
          <ci id="S3.SS3.SSS2.p6.1.m1.1.1.3.cmml" xref="S3.SS3.SSS2.p6.1.m1.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p6.1.m1.1c">
         \boldsymbol{e}_{i}
        </annotation>
       </semantics>
      </math>
      into independent embeddings
      <math alttext="\boldsymbol{v}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p6.2.m2.1">
       <semantics id="S3.SS3.SSS2.p6.2.m2.1a">
        <msub id="S3.SS3.SSS2.p6.2.m2.1.1" xref="S3.SS3.SSS2.p6.2.m2.1.1.cmml">
         <mi id="S3.SS3.SSS2.p6.2.m2.1.1.2" xref="S3.SS3.SSS2.p6.2.m2.1.1.2.cmml">
          𝒗
         </mi>
         <mi id="S3.SS3.SSS2.p6.2.m2.1.1.3" xref="S3.SS3.SSS2.p6.2.m2.1.1.3.cmml">
          i
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p6.2.m2.1b">
         <apply id="S3.SS3.SSS2.p6.2.m2.1.1.cmml" xref="S3.SS3.SSS2.p6.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.2.m2.1.1.1.cmml" xref="S3.SS3.SSS2.p6.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p6.2.m2.1.1.2.cmml" xref="S3.SS3.SSS2.p6.2.m2.1.1.2">
           𝒗
          </ci>
          <ci id="S3.SS3.SSS2.p6.2.m2.1.1.3.cmml" xref="S3.SS3.SSS2.p6.2.m2.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p6.2.m2.1c">
         \boldsymbol{v}_{i}
        </annotation>
       </semantics>
      </math>
      and shared embeddings
      <math alttext="\boldsymbol{w}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p6.3.m3.1">
       <semantics id="S3.SS3.SSS2.p6.3.m3.1a">
        <msub id="S3.SS3.SSS2.p6.3.m3.1.1" xref="S3.SS3.SSS2.p6.3.m3.1.1.cmml">
         <mi id="S3.SS3.SSS2.p6.3.m3.1.1.2" xref="S3.SS3.SSS2.p6.3.m3.1.1.2.cmml">
          𝒘
         </mi>
         <mi id="S3.SS3.SSS2.p6.3.m3.1.1.3" xref="S3.SS3.SSS2.p6.3.m3.1.1.3.cmml">
          i
         </mi>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p6.3.m3.1b">
         <apply id="S3.SS3.SSS2.p6.3.m3.1.1.cmml" xref="S3.SS3.SSS2.p6.3.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.3.m3.1.1.1.cmml" xref="S3.SS3.SSS2.p6.3.m3.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS2.p6.3.m3.1.1.2.cmml" xref="S3.SS3.SSS2.p6.3.m3.1.1.2">
           𝒘
          </ci>
          <ci id="S3.SS3.SSS2.p6.3.m3.1.1.3.cmml" xref="S3.SS3.SSS2.p6.3.m3.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p6.3.m3.1c">
         \boldsymbol{w}_{i}
        </annotation>
       </semantics>
      </math>
      , with the shared embedding capturing common semantic information. Reintegrating these components via the gating network effectively enhances the model’s overall robustness. The gating network is designed as an MLP module. The fusion process is specified as follows
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.E5">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\boldsymbol{g}^{k}_{i}=\text{softmax}(W^{k}\boldsymbol{e}^{k}_{i})" class="ltx_Math" display="block" id="S3.E5.m1.1">
          <semantics id="S3.E5.m1.1a">
           <mrow id="S3.E5.m1.1.1" xref="S3.E5.m1.1.1.cmml">
            <msubsup id="S3.E5.m1.1.1.3" xref="S3.E5.m1.1.1.3.cmml">
             <mi id="S3.E5.m1.1.1.3.2.2" xref="S3.E5.m1.1.1.3.2.2.cmml">
              𝒈
             </mi>
             <mi id="S3.E5.m1.1.1.3.3" xref="S3.E5.m1.1.1.3.3.cmml">
              i
             </mi>
             <mi id="S3.E5.m1.1.1.3.2.3" xref="S3.E5.m1.1.1.3.2.3.cmml">
              k
             </mi>
            </msubsup>
            <mo id="S3.E5.m1.1.1.2" xref="S3.E5.m1.1.1.2.cmml">
             =
            </mo>
            <mrow id="S3.E5.m1.1.1.1" xref="S3.E5.m1.1.1.1.cmml">
             <mtext id="S3.E5.m1.1.1.1.3" xref="S3.E5.m1.1.1.1.3a.cmml">
              softmax
             </mtext>
             <mo id="S3.E5.m1.1.1.1.2" lspace="0em" rspace="0em" xref="S3.E5.m1.1.1.1.2.cmml">
              ​
             </mo>
             <mrow id="S3.E5.m1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.cmml">
              <mo id="S3.E5.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E5.m1.1.1.1.1.1.1.cmml">
               (
              </mo>
              <mrow id="S3.E5.m1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.cmml">
               <msup id="S3.E5.m1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.2.cmml">
                <mi id="S3.E5.m1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.1.1.2.2.cmml">
                 W
                </mi>
                <mi id="S3.E5.m1.1.1.1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.1.1.2.3.cmml">
                 k
                </mi>
               </msup>
               <mo id="S3.E5.m1.1.1.1.1.1.1.1" lspace="0em" rspace="0em" xref="S3.E5.m1.1.1.1.1.1.1.1.cmml">
                ​
               </mo>
               <msubsup id="S3.E5.m1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.3.cmml">
                <mi id="S3.E5.m1.1.1.1.1.1.1.3.2.2" xref="S3.E5.m1.1.1.1.1.1.1.3.2.2.cmml">
                 𝒆
                </mi>
                <mi id="S3.E5.m1.1.1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.1.1.3.3.cmml">
                 i
                </mi>
                <mi id="S3.E5.m1.1.1.1.1.1.1.3.2.3" xref="S3.E5.m1.1.1.1.1.1.1.3.2.3.cmml">
                 k
                </mi>
               </msubsup>
              </mrow>
              <mo id="S3.E5.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E5.m1.1.1.1.1.1.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b">
            <apply id="S3.E5.m1.1.1.cmml" xref="S3.E5.m1.1.1">
             <eq id="S3.E5.m1.1.1.2.cmml" xref="S3.E5.m1.1.1.2">
             </eq>
             <apply id="S3.E5.m1.1.1.3.cmml" xref="S3.E5.m1.1.1.3">
              <csymbol cd="ambiguous" id="S3.E5.m1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.3">
               subscript
              </csymbol>
              <apply id="S3.E5.m1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.3">
               <csymbol cd="ambiguous" id="S3.E5.m1.1.1.3.2.1.cmml" xref="S3.E5.m1.1.1.3">
                superscript
               </csymbol>
               <ci id="S3.E5.m1.1.1.3.2.2.cmml" xref="S3.E5.m1.1.1.3.2.2">
                𝒈
               </ci>
               <ci id="S3.E5.m1.1.1.3.2.3.cmml" xref="S3.E5.m1.1.1.3.2.3">
                𝑘
               </ci>
              </apply>
              <ci id="S3.E5.m1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.3.3">
               𝑖
              </ci>
             </apply>
             <apply id="S3.E5.m1.1.1.1.cmml" xref="S3.E5.m1.1.1.1">
              <times id="S3.E5.m1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.2">
              </times>
              <ci id="S3.E5.m1.1.1.1.3a.cmml" xref="S3.E5.m1.1.1.1.3">
               <mtext id="S3.E5.m1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.3">
                softmax
               </mtext>
              </ci>
              <apply id="S3.E5.m1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1">
               <times id="S3.E5.m1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1">
               </times>
               <apply id="S3.E5.m1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2">
                <csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2">
                 superscript
                </csymbol>
                <ci id="S3.E5.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2.2">
                 𝑊
                </ci>
                <ci id="S3.E5.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2.3">
                 𝑘
                </ci>
               </apply>
               <apply id="S3.E5.m1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.3">
                <csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.3">
                 subscript
                </csymbol>
                <apply id="S3.E5.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.3">
                 <csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.3">
                  superscript
                 </csymbol>
                 <ci id="S3.E5.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.3.2.2">
                  𝒆
                 </ci>
                 <ci id="S3.E5.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.3.2.3">
                  𝑘
                 </ci>
                </apply>
                <ci id="S3.E5.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.3.3">
                 𝑖
                </ci>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E5.m1.1c">
            \boldsymbol{g}^{k}_{i}=\text{softmax}(W^{k}\boldsymbol{e}^{k}_{i})
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (5)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS2.p6.7">
      where
      <math alttext="\boldsymbol{W}^{k}\in\mathbb{R}^{2\times d}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p6.4.m1.1">
       <semantics id="S3.SS3.SSS2.p6.4.m1.1a">
        <mrow id="S3.SS3.SSS2.p6.4.m1.1.1" xref="S3.SS3.SSS2.p6.4.m1.1.1.cmml">
         <msup id="S3.SS3.SSS2.p6.4.m1.1.1.2" xref="S3.SS3.SSS2.p6.4.m1.1.1.2.cmml">
          <mi id="S3.SS3.SSS2.p6.4.m1.1.1.2.2" xref="S3.SS3.SSS2.p6.4.m1.1.1.2.2.cmml">
           𝑾
          </mi>
          <mi id="S3.SS3.SSS2.p6.4.m1.1.1.2.3" xref="S3.SS3.SSS2.p6.4.m1.1.1.2.3.cmml">
           k
          </mi>
         </msup>
         <mo id="S3.SS3.SSS2.p6.4.m1.1.1.1" xref="S3.SS3.SSS2.p6.4.m1.1.1.1.cmml">
          ∈
         </mo>
         <msup id="S3.SS3.SSS2.p6.4.m1.1.1.3" xref="S3.SS3.SSS2.p6.4.m1.1.1.3.cmml">
          <mi id="S3.SS3.SSS2.p6.4.m1.1.1.3.2" xref="S3.SS3.SSS2.p6.4.m1.1.1.3.2.cmml">
           ℝ
          </mi>
          <mrow id="S3.SS3.SSS2.p6.4.m1.1.1.3.3" xref="S3.SS3.SSS2.p6.4.m1.1.1.3.3.cmml">
           <mn id="S3.SS3.SSS2.p6.4.m1.1.1.3.3.2" xref="S3.SS3.SSS2.p6.4.m1.1.1.3.3.2.cmml">
            2
           </mn>
           <mo id="S3.SS3.SSS2.p6.4.m1.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS3.SSS2.p6.4.m1.1.1.3.3.1.cmml">
            ×
           </mo>
           <mi id="S3.SS3.SSS2.p6.4.m1.1.1.3.3.3" xref="S3.SS3.SSS2.p6.4.m1.1.1.3.3.3.cmml">
            d
           </mi>
          </mrow>
         </msup>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p6.4.m1.1b">
         <apply id="S3.SS3.SSS2.p6.4.m1.1.1.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1">
          <in id="S3.SS3.SSS2.p6.4.m1.1.1.1.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1.1">
          </in>
          <apply id="S3.SS3.SSS2.p6.4.m1.1.1.2.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1.2">
           <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.4.m1.1.1.2.1.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1.2">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS2.p6.4.m1.1.1.2.2.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1.2.2">
            𝑾
           </ci>
           <ci id="S3.SS3.SSS2.p6.4.m1.1.1.2.3.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <apply id="S3.SS3.SSS2.p6.4.m1.1.1.3.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1.3">
           <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.4.m1.1.1.3.1.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1.3">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS2.p6.4.m1.1.1.3.2.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1.3.2">
            ℝ
           </ci>
           <apply id="S3.SS3.SSS2.p6.4.m1.1.1.3.3.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1.3.3">
            <times id="S3.SS3.SSS2.p6.4.m1.1.1.3.3.1.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1.3.3.1">
            </times>
            <cn id="S3.SS3.SSS2.p6.4.m1.1.1.3.3.2.cmml" type="integer" xref="S3.SS3.SSS2.p6.4.m1.1.1.3.3.2">
             2
            </cn>
            <ci id="S3.SS3.SSS2.p6.4.m1.1.1.3.3.3.cmml" xref="S3.SS3.SSS2.p6.4.m1.1.1.3.3.3">
             𝑑
            </ci>
           </apply>
          </apply>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p6.4.m1.1c">
         \boldsymbol{W}^{k}\in\mathbb{R}^{2\times d}
        </annotation>
       </semantics>
      </math>
      is a trainable matrix of gating network,
      <math alttext="d" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p6.5.m2.1">
       <semantics id="S3.SS3.SSS2.p6.5.m2.1a">
        <mi id="S3.SS3.SSS2.p6.5.m2.1.1" xref="S3.SS3.SSS2.p6.5.m2.1.1.cmml">
         d
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p6.5.m2.1b">
         <ci id="S3.SS3.SSS2.p6.5.m2.1.1.cmml" xref="S3.SS3.SSS2.p6.5.m2.1.1">
          𝑑
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p6.5.m2.1c">
         d
        </annotation>
       </semantics>
      </math>
      denotes the feature dimension, then we fuse the
      <math alttext="v^{k}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p6.6.m3.1">
       <semantics id="S3.SS3.SSS2.p6.6.m3.1a">
        <msubsup id="S3.SS3.SSS2.p6.6.m3.1.1" xref="S3.SS3.SSS2.p6.6.m3.1.1.cmml">
         <mi id="S3.SS3.SSS2.p6.6.m3.1.1.2.2" xref="S3.SS3.SSS2.p6.6.m3.1.1.2.2.cmml">
          v
         </mi>
         <mi id="S3.SS3.SSS2.p6.6.m3.1.1.3" xref="S3.SS3.SSS2.p6.6.m3.1.1.3.cmml">
          i
         </mi>
         <mi id="S3.SS3.SSS2.p6.6.m3.1.1.2.3" xref="S3.SS3.SSS2.p6.6.m3.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p6.6.m3.1b">
         <apply id="S3.SS3.SSS2.p6.6.m3.1.1.cmml" xref="S3.SS3.SSS2.p6.6.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.6.m3.1.1.1.cmml" xref="S3.SS3.SSS2.p6.6.m3.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS2.p6.6.m3.1.1.2.cmml" xref="S3.SS3.SSS2.p6.6.m3.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.6.m3.1.1.2.1.cmml" xref="S3.SS3.SSS2.p6.6.m3.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS2.p6.6.m3.1.1.2.2.cmml" xref="S3.SS3.SSS2.p6.6.m3.1.1.2.2">
            𝑣
           </ci>
           <ci id="S3.SS3.SSS2.p6.6.m3.1.1.2.3.cmml" xref="S3.SS3.SSS2.p6.6.m3.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S3.SS3.SSS2.p6.6.m3.1.1.3.cmml" xref="S3.SS3.SSS2.p6.6.m3.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p6.6.m3.1c">
         v^{k}_{i}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="w^{k}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p6.7.m4.1">
       <semantics id="S3.SS3.SSS2.p6.7.m4.1a">
        <msubsup id="S3.SS3.SSS2.p6.7.m4.1.1" xref="S3.SS3.SSS2.p6.7.m4.1.1.cmml">
         <mi id="S3.SS3.SSS2.p6.7.m4.1.1.2.2" xref="S3.SS3.SSS2.p6.7.m4.1.1.2.2.cmml">
          w
         </mi>
         <mi id="S3.SS3.SSS2.p6.7.m4.1.1.3" xref="S3.SS3.SSS2.p6.7.m4.1.1.3.cmml">
          i
         </mi>
         <mi id="S3.SS3.SSS2.p6.7.m4.1.1.2.3" xref="S3.SS3.SSS2.p6.7.m4.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p6.7.m4.1b">
         <apply id="S3.SS3.SSS2.p6.7.m4.1.1.cmml" xref="S3.SS3.SSS2.p6.7.m4.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.7.m4.1.1.1.cmml" xref="S3.SS3.SSS2.p6.7.m4.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS2.p6.7.m4.1.1.2.cmml" xref="S3.SS3.SSS2.p6.7.m4.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.7.m4.1.1.2.1.cmml" xref="S3.SS3.SSS2.p6.7.m4.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS2.p6.7.m4.1.1.2.2.cmml" xref="S3.SS3.SSS2.p6.7.m4.1.1.2.2">
            𝑤
           </ci>
           <ci id="S3.SS3.SSS2.p6.7.m4.1.1.2.3.cmml" xref="S3.SS3.SSS2.p6.7.m4.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S3.SS3.SSS2.p6.7.m4.1.1.3.cmml" xref="S3.SS3.SSS2.p6.7.m4.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p6.7.m4.1c">
         w^{k}_{i}
        </annotation>
       </semantics>
      </math>
      through gate net, expressed as
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.E6">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\boldsymbol{h}^{k}_{i}=\boldsymbol{g}^{k}_{i}[\boldsymbol{v}^{k}_{i},\boldsymbol{w}^{k}_{i}]" class="ltx_Math" display="block" id="S3.E6.m1.2">
          <semantics id="S3.E6.m1.2a">
           <mrow id="S3.E6.m1.2.2" xref="S3.E6.m1.2.2.cmml">
            <msubsup id="S3.E6.m1.2.2.4" xref="S3.E6.m1.2.2.4.cmml">
             <mi id="S3.E6.m1.2.2.4.2.2" xref="S3.E6.m1.2.2.4.2.2.cmml">
              𝒉
             </mi>
             <mi id="S3.E6.m1.2.2.4.3" xref="S3.E6.m1.2.2.4.3.cmml">
              i
             </mi>
             <mi id="S3.E6.m1.2.2.4.2.3" xref="S3.E6.m1.2.2.4.2.3.cmml">
              k
             </mi>
            </msubsup>
            <mo id="S3.E6.m1.2.2.3" xref="S3.E6.m1.2.2.3.cmml">
             =
            </mo>
            <mrow id="S3.E6.m1.2.2.2" xref="S3.E6.m1.2.2.2.cmml">
             <msubsup id="S3.E6.m1.2.2.2.4" xref="S3.E6.m1.2.2.2.4.cmml">
              <mi id="S3.E6.m1.2.2.2.4.2.2" xref="S3.E6.m1.2.2.2.4.2.2.cmml">
               𝒈
              </mi>
              <mi id="S3.E6.m1.2.2.2.4.3" xref="S3.E6.m1.2.2.2.4.3.cmml">
               i
              </mi>
              <mi id="S3.E6.m1.2.2.2.4.2.3" xref="S3.E6.m1.2.2.2.4.2.3.cmml">
               k
              </mi>
             </msubsup>
             <mo id="S3.E6.m1.2.2.2.3" lspace="0em" rspace="0em" xref="S3.E6.m1.2.2.2.3.cmml">
              ​
             </mo>
             <mrow id="S3.E6.m1.2.2.2.2.2" xref="S3.E6.m1.2.2.2.2.3.cmml">
              <mo id="S3.E6.m1.2.2.2.2.2.3" stretchy="false" xref="S3.E6.m1.2.2.2.2.3.cmml">
               [
              </mo>
              <msubsup id="S3.E6.m1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml">
               <mi id="S3.E6.m1.1.1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.1.1.2.2.cmml">
                𝒗
               </mi>
               <mi id="S3.E6.m1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.3.cmml">
                i
               </mi>
               <mi id="S3.E6.m1.1.1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.1.1.2.3.cmml">
                k
               </mi>
              </msubsup>
              <mo id="S3.E6.m1.2.2.2.2.2.4" xref="S3.E6.m1.2.2.2.2.3.cmml">
               ,
              </mo>
              <msubsup id="S3.E6.m1.2.2.2.2.2.2" xref="S3.E6.m1.2.2.2.2.2.2.cmml">
               <mi id="S3.E6.m1.2.2.2.2.2.2.2.2" xref="S3.E6.m1.2.2.2.2.2.2.2.2.cmml">
                𝒘
               </mi>
               <mi id="S3.E6.m1.2.2.2.2.2.2.3" xref="S3.E6.m1.2.2.2.2.2.2.3.cmml">
                i
               </mi>
               <mi id="S3.E6.m1.2.2.2.2.2.2.2.3" xref="S3.E6.m1.2.2.2.2.2.2.2.3.cmml">
                k
               </mi>
              </msubsup>
              <mo id="S3.E6.m1.2.2.2.2.2.5" stretchy="false" xref="S3.E6.m1.2.2.2.2.3.cmml">
               ]
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E6.m1.2b">
            <apply id="S3.E6.m1.2.2.cmml" xref="S3.E6.m1.2.2">
             <eq id="S3.E6.m1.2.2.3.cmml" xref="S3.E6.m1.2.2.3">
             </eq>
             <apply id="S3.E6.m1.2.2.4.cmml" xref="S3.E6.m1.2.2.4">
              <csymbol cd="ambiguous" id="S3.E6.m1.2.2.4.1.cmml" xref="S3.E6.m1.2.2.4">
               subscript
              </csymbol>
              <apply id="S3.E6.m1.2.2.4.2.cmml" xref="S3.E6.m1.2.2.4">
               <csymbol cd="ambiguous" id="S3.E6.m1.2.2.4.2.1.cmml" xref="S3.E6.m1.2.2.4">
                superscript
               </csymbol>
               <ci id="S3.E6.m1.2.2.4.2.2.cmml" xref="S3.E6.m1.2.2.4.2.2">
                𝒉
               </ci>
               <ci id="S3.E6.m1.2.2.4.2.3.cmml" xref="S3.E6.m1.2.2.4.2.3">
                𝑘
               </ci>
              </apply>
              <ci id="S3.E6.m1.2.2.4.3.cmml" xref="S3.E6.m1.2.2.4.3">
               𝑖
              </ci>
             </apply>
             <apply id="S3.E6.m1.2.2.2.cmml" xref="S3.E6.m1.2.2.2">
              <times id="S3.E6.m1.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.3">
              </times>
              <apply id="S3.E6.m1.2.2.2.4.cmml" xref="S3.E6.m1.2.2.2.4">
               <csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.4.1.cmml" xref="S3.E6.m1.2.2.2.4">
                subscript
               </csymbol>
               <apply id="S3.E6.m1.2.2.2.4.2.cmml" xref="S3.E6.m1.2.2.2.4">
                <csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.4.2.1.cmml" xref="S3.E6.m1.2.2.2.4">
                 superscript
                </csymbol>
                <ci id="S3.E6.m1.2.2.2.4.2.2.cmml" xref="S3.E6.m1.2.2.2.4.2.2">
                 𝒈
                </ci>
                <ci id="S3.E6.m1.2.2.2.4.2.3.cmml" xref="S3.E6.m1.2.2.2.4.2.3">
                 𝑘
                </ci>
               </apply>
               <ci id="S3.E6.m1.2.2.2.4.3.cmml" xref="S3.E6.m1.2.2.2.4.3">
                𝑖
               </ci>
              </apply>
              <interval closure="closed" id="S3.E6.m1.2.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.2.2">
               <apply id="S3.E6.m1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1">
                 subscript
                </csymbol>
                <apply id="S3.E6.m1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1">
                 <csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1">
                  superscript
                 </csymbol>
                 <ci id="S3.E6.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2">
                  𝒗
                 </ci>
                 <ci id="S3.E6.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.3">
                  𝑘
                 </ci>
                </apply>
                <ci id="S3.E6.m1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3">
                 𝑖
                </ci>
               </apply>
               <apply id="S3.E6.m1.2.2.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2.2.2">
                <csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.2.2.1.cmml" xref="S3.E6.m1.2.2.2.2.2.2">
                 subscript
                </csymbol>
                <apply id="S3.E6.m1.2.2.2.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2.2.2">
                 <csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.2.2.2.1.cmml" xref="S3.E6.m1.2.2.2.2.2.2">
                  superscript
                 </csymbol>
                 <ci id="S3.E6.m1.2.2.2.2.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2.2.2.2.2">
                  𝒘
                 </ci>
                 <ci id="S3.E6.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.2.2.2.2.3">
                  𝑘
                 </ci>
                </apply>
                <ci id="S3.E6.m1.2.2.2.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.2.2.2.3">
                 𝑖
                </ci>
               </apply>
              </interval>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E6.m1.2c">
            \boldsymbol{h}^{k}_{i}=\boldsymbol{g}^{k}_{i}[\boldsymbol{v}^{k}_{i},\boldsymbol{w}^{k}_{i}]
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (6)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS2.p6.10">
      where
      <math alttext="[\cdot]" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p6.8.m1.1">
       <semantics id="S3.SS3.SSS2.p6.8.m1.1a">
        <mrow id="S3.SS3.SSS2.p6.8.m1.1.2.2" xref="S3.SS3.SSS2.p6.8.m1.1.2.1.cmml">
         <mo id="S3.SS3.SSS2.p6.8.m1.1.2.2.1" stretchy="false" xref="S3.SS3.SSS2.p6.8.m1.1.2.1.1.cmml">
          [
         </mo>
         <mo id="S3.SS3.SSS2.p6.8.m1.1.1" lspace="0em" rspace="0em" xref="S3.SS3.SSS2.p6.8.m1.1.1.cmml">
          ⋅
         </mo>
         <mo id="S3.SS3.SSS2.p6.8.m1.1.2.2.2" stretchy="false" xref="S3.SS3.SSS2.p6.8.m1.1.2.1.1.cmml">
          ]
         </mo>
        </mrow>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p6.8.m1.1b">
         <apply id="S3.SS3.SSS2.p6.8.m1.1.2.1.cmml" xref="S3.SS3.SSS2.p6.8.m1.1.2.2">
          <csymbol cd="latexml" id="S3.SS3.SSS2.p6.8.m1.1.2.1.1.cmml" xref="S3.SS3.SSS2.p6.8.m1.1.2.2.1">
           delimited-[]
          </csymbol>
          <ci id="S3.SS3.SSS2.p6.8.m1.1.1.cmml" xref="S3.SS3.SSS2.p6.8.m1.1.1">
           ⋅
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p6.8.m1.1c">
         [\cdot]
        </annotation>
       </semantics>
      </math>
      denotes the concat operation,
      <math alttext="h^{k}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p6.9.m2.1">
       <semantics id="S3.SS3.SSS2.p6.9.m2.1a">
        <msubsup id="S3.SS3.SSS2.p6.9.m2.1.1" xref="S3.SS3.SSS2.p6.9.m2.1.1.cmml">
         <mi id="S3.SS3.SSS2.p6.9.m2.1.1.2.2" xref="S3.SS3.SSS2.p6.9.m2.1.1.2.2.cmml">
          h
         </mi>
         <mi id="S3.SS3.SSS2.p6.9.m2.1.1.3" xref="S3.SS3.SSS2.p6.9.m2.1.1.3.cmml">
          i
         </mi>
         <mi id="S3.SS3.SSS2.p6.9.m2.1.1.2.3" xref="S3.SS3.SSS2.p6.9.m2.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p6.9.m2.1b">
         <apply id="S3.SS3.SSS2.p6.9.m2.1.1.cmml" xref="S3.SS3.SSS2.p6.9.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.9.m2.1.1.1.cmml" xref="S3.SS3.SSS2.p6.9.m2.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS2.p6.9.m2.1.1.2.cmml" xref="S3.SS3.SSS2.p6.9.m2.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.9.m2.1.1.2.1.cmml" xref="S3.SS3.SSS2.p6.9.m2.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS2.p6.9.m2.1.1.2.2.cmml" xref="S3.SS3.SSS2.p6.9.m2.1.1.2.2">
            ℎ
           </ci>
           <ci id="S3.SS3.SSS2.p6.9.m2.1.1.2.3.cmml" xref="S3.SS3.SSS2.p6.9.m2.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S3.SS3.SSS2.p6.9.m2.1.1.3.cmml" xref="S3.SS3.SSS2.p6.9.m2.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p6.9.m2.1c">
         h^{k}_{i}
        </annotation>
       </semantics>
      </math>
      is the aggregation result. Then, we will map the fusing results
      <math alttext="h^{k}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p6.10.m3.1">
       <semantics id="S3.SS3.SSS2.p6.10.m3.1a">
        <msubsup id="S3.SS3.SSS2.p6.10.m3.1.1" xref="S3.SS3.SSS2.p6.10.m3.1.1.cmml">
         <mi id="S3.SS3.SSS2.p6.10.m3.1.1.2.2" xref="S3.SS3.SSS2.p6.10.m3.1.1.2.2.cmml">
          h
         </mi>
         <mi id="S3.SS3.SSS2.p6.10.m3.1.1.3" xref="S3.SS3.SSS2.p6.10.m3.1.1.3.cmml">
          i
         </mi>
         <mi id="S3.SS3.SSS2.p6.10.m3.1.1.2.3" xref="S3.SS3.SSS2.p6.10.m3.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p6.10.m3.1b">
         <apply id="S3.SS3.SSS2.p6.10.m3.1.1.cmml" xref="S3.SS3.SSS2.p6.10.m3.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.10.m3.1.1.1.cmml" xref="S3.SS3.SSS2.p6.10.m3.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS2.p6.10.m3.1.1.2.cmml" xref="S3.SS3.SSS2.p6.10.m3.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS2.p6.10.m3.1.1.2.1.cmml" xref="S3.SS3.SSS2.p6.10.m3.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS2.p6.10.m3.1.1.2.2.cmml" xref="S3.SS3.SSS2.p6.10.m3.1.1.2.2">
            ℎ
           </ci>
           <ci id="S3.SS3.SSS2.p6.10.m3.1.1.2.3.cmml" xref="S3.SS3.SSS2.p6.10.m3.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S3.SS3.SSS2.p6.10.m3.1.1.3.cmml" xref="S3.SS3.SSS2.p6.10.m3.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p6.10.m3.1c">
         h^{k}_{i}
        </annotation>
       </semantics>
      </math>
      through a classier, denoted as
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.E7">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\boldsymbol{\hat{y}}^{k}_{i}=\mathcal{C}(\boldsymbol{h}^{k}_{i})" class="ltx_Math" display="block" id="S3.E7.m1.1">
          <semantics id="S3.E7.m1.1a">
           <mrow id="S3.E7.m1.1.1" xref="S3.E7.m1.1.1.cmml">
            <msubsup id="S3.E7.m1.1.1.3" xref="S3.E7.m1.1.1.3.cmml">
             <mover accent="true" id="S3.E7.m1.1.1.3.2.2" xref="S3.E7.m1.1.1.3.2.2.cmml">
              <mi id="S3.E7.m1.1.1.3.2.2.2" xref="S3.E7.m1.1.1.3.2.2.2.cmml">
               𝒚
              </mi>
              <mo class="ltx_mathvariant_bold" id="S3.E7.m1.1.1.3.2.2.1" mathvariant="bold" xref="S3.E7.m1.1.1.3.2.2.1.cmml">
               ^
              </mo>
             </mover>
             <mi id="S3.E7.m1.1.1.3.3" xref="S3.E7.m1.1.1.3.3.cmml">
              i
             </mi>
             <mi id="S3.E7.m1.1.1.3.2.3" xref="S3.E7.m1.1.1.3.2.3.cmml">
              k
             </mi>
            </msubsup>
            <mo id="S3.E7.m1.1.1.2" xref="S3.E7.m1.1.1.2.cmml">
             =
            </mo>
            <mrow id="S3.E7.m1.1.1.1" xref="S3.E7.m1.1.1.1.cmml">
             <mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.1.1.1.3" xref="S3.E7.m1.1.1.1.3.cmml">
              𝒞
             </mi>
             <mo id="S3.E7.m1.1.1.1.2" lspace="0em" rspace="0em" xref="S3.E7.m1.1.1.1.2.cmml">
              ​
             </mo>
             <mrow id="S3.E7.m1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.cmml">
              <mo id="S3.E7.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E7.m1.1.1.1.1.1.1.cmml">
               (
              </mo>
              <msubsup id="S3.E7.m1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.cmml">
               <mi id="S3.E7.m1.1.1.1.1.1.1.2.2" xref="S3.E7.m1.1.1.1.1.1.1.2.2.cmml">
                𝒉
               </mi>
               <mi id="S3.E7.m1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.3.cmml">
                i
               </mi>
               <mi id="S3.E7.m1.1.1.1.1.1.1.2.3" xref="S3.E7.m1.1.1.1.1.1.1.2.3.cmml">
                k
               </mi>
              </msubsup>
              <mo id="S3.E7.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E7.m1.1.1.1.1.1.1.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E7.m1.1b">
            <apply id="S3.E7.m1.1.1.cmml" xref="S3.E7.m1.1.1">
             <eq id="S3.E7.m1.1.1.2.cmml" xref="S3.E7.m1.1.1.2">
             </eq>
             <apply id="S3.E7.m1.1.1.3.cmml" xref="S3.E7.m1.1.1.3">
              <csymbol cd="ambiguous" id="S3.E7.m1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.3">
               subscript
              </csymbol>
              <apply id="S3.E7.m1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.3">
               <csymbol cd="ambiguous" id="S3.E7.m1.1.1.3.2.1.cmml" xref="S3.E7.m1.1.1.3">
                superscript
               </csymbol>
               <apply id="S3.E7.m1.1.1.3.2.2.cmml" xref="S3.E7.m1.1.1.3.2.2">
                <ci id="S3.E7.m1.1.1.3.2.2.1.cmml" xref="S3.E7.m1.1.1.3.2.2.1">
                 bold-^
                </ci>
                <ci id="S3.E7.m1.1.1.3.2.2.2.cmml" xref="S3.E7.m1.1.1.3.2.2.2">
                 𝒚
                </ci>
               </apply>
               <ci id="S3.E7.m1.1.1.3.2.3.cmml" xref="S3.E7.m1.1.1.3.2.3">
                𝑘
               </ci>
              </apply>
              <ci id="S3.E7.m1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.3.3">
               𝑖
              </ci>
             </apply>
             <apply id="S3.E7.m1.1.1.1.cmml" xref="S3.E7.m1.1.1.1">
              <times id="S3.E7.m1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.2">
              </times>
              <ci id="S3.E7.m1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.3">
               𝒞
              </ci>
              <apply id="S3.E7.m1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1">
               <csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1">
                subscript
               </csymbol>
               <apply id="S3.E7.m1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1">
                 superscript
                </csymbol>
                <ci id="S3.E7.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2.2">
                 𝒉
                </ci>
                <ci id="S3.E7.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.2.3">
                 𝑘
                </ci>
               </apply>
               <ci id="S3.E7.m1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.3">
                𝑖
               </ci>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E7.m1.1c">
            \boldsymbol{\hat{y}}^{k}_{i}=\mathcal{C}(\boldsymbol{h}^{k}_{i})
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (7)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS2.p6.11">
      where
      <math alttext="\mathcal{C}" class="ltx_Math" display="inline" id="S3.SS3.SSS2.p6.11.m1.1">
       <semantics id="S3.SS3.SSS2.p6.11.m1.1a">
        <mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS2.p6.11.m1.1.1" xref="S3.SS3.SSS2.p6.11.m1.1.1.cmml">
         𝒞
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS2.p6.11.m1.1b">
         <ci id="S3.SS3.SSS2.p6.11.m1.1.1.cmml" xref="S3.SS3.SSS2.p6.11.m1.1.1">
          𝒞
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS2.p6.11.m1.1c">
         \mathcal{C}
        </annotation>
       </semantics>
      </math>
      is a classifier, as we will normalize and classify the result into different classification levels。
     </p>
    </div>
   </section>
   <section class="ltx_subsubsection" id="S3.SS3.SSS3">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      <span class="ltx_text" id="S3.SS3.SSS3.4.1.1">
       III-C
      </span>
      3
     </span>
     Loss Design
    </h4>
    <div class="ltx_para" id="S3.SS3.SSS3.p1">
     <p class="ltx_p" id="S3.SS3.SSS3.p1.1">
      In this part, we propose a novel loss function that concurrently optimizes accuracy and enhances model robustness by incorporating specific constraints into the loss function itself. Our design comprises two integral components: the accuracy loss and the robustness loss.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS3.p2">
     <p class="ltx_p" id="S3.SS3.SSS3.p2.1">
      To address the challenge of accuracy loss, we employ the pointwise cross-entropy loss function, calculated on an individual query-document pair basis, with each pair treated independently. Within our experimental setup, the industrial dataset comprises labels classified into five relevance levels, contrasting with the three-level relevance classification of the public dataset we utilize. To harmonize these differing label structures, we initially transform the original value labels into a format compatible with a one-hot encoding scheme, denoted as
      <math alttext="\hat{y}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p2.1.m1.1">
       <semantics id="S3.SS3.SSS3.p2.1.m1.1a">
        <mover accent="true" id="S3.SS3.SSS3.p2.1.m1.1.1" xref="S3.SS3.SSS3.p2.1.m1.1.1.cmml">
         <mi id="S3.SS3.SSS3.p2.1.m1.1.1.2" xref="S3.SS3.SSS3.p2.1.m1.1.1.2.cmml">
          y
         </mi>
         <mo id="S3.SS3.SSS3.p2.1.m1.1.1.1" xref="S3.SS3.SSS3.p2.1.m1.1.1.1.cmml">
          ^
         </mo>
        </mover>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p2.1.m1.1b">
         <apply id="S3.SS3.SSS3.p2.1.m1.1.1.cmml" xref="S3.SS3.SSS3.p2.1.m1.1.1">
          <ci id="S3.SS3.SSS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.SSS3.p2.1.m1.1.1.1">
           ^
          </ci>
          <ci id="S3.SS3.SSS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.SSS3.p2.1.m1.1.1.2">
           𝑦
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p2.1.m1.1c">
         \hat{y}
        </annotation>
       </semantics>
      </math>
      . This step is followed by the application of cross-entropy calculations to juxtapose the predicted labels against the ground truth labels. The detailed procedure for this calculation is outlined below.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS3.p3">
     <p class="ltx_p" id="S3.SS3.SSS3.p3.1">
      In addressing the issue of accuracy loss, we opt for the pointwise cross-entropy loss. This particular loss function is computed on a query-document pair basis, treating each pair independently. In our experimental framework, our industrial dataset contains labels originally categorized into five levels of relevance, whereas the public dataset we employ utilizes a three-level relevance classification. Mathematically, the calculation process is depicted as follows
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS3.p4">
     <p class="ltx_p" id="S3.SS3.SSS3.p4.1">
      Consequently, in the initial phase, we encode the original value labels to correspond to a one-hot encoding scheme, denoted as
      <math alttext="\boldsymbol{y}^{k}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p4.1.m1.1">
       <semantics id="S3.SS3.SSS3.p4.1.m1.1a">
        <msubsup id="S3.SS3.SSS3.p4.1.m1.1.1" xref="S3.SS3.SSS3.p4.1.m1.1.1.cmml">
         <mi id="S3.SS3.SSS3.p4.1.m1.1.1.2.2" xref="S3.SS3.SSS3.p4.1.m1.1.1.2.2.cmml">
          𝒚
         </mi>
         <mi id="S3.SS3.SSS3.p4.1.m1.1.1.3" xref="S3.SS3.SSS3.p4.1.m1.1.1.3.cmml">
          i
         </mi>
         <mi id="S3.SS3.SSS3.p4.1.m1.1.1.2.3" xref="S3.SS3.SSS3.p4.1.m1.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p4.1.m1.1b">
         <apply id="S3.SS3.SSS3.p4.1.m1.1.1.cmml" xref="S3.SS3.SSS3.p4.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS3.p4.1.m1.1.1.1.cmml" xref="S3.SS3.SSS3.p4.1.m1.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS3.p4.1.m1.1.1.2.cmml" xref="S3.SS3.SSS3.p4.1.m1.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS3.p4.1.m1.1.1.2.1.cmml" xref="S3.SS3.SSS3.p4.1.m1.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS3.p4.1.m1.1.1.2.2.cmml" xref="S3.SS3.SSS3.p4.1.m1.1.1.2.2">
            𝒚
           </ci>
           <ci id="S3.SS3.SSS3.p4.1.m1.1.1.2.3.cmml" xref="S3.SS3.SSS3.p4.1.m1.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S3.SS3.SSS3.p4.1.m1.1.1.3.cmml" xref="S3.SS3.SSS3.p4.1.m1.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p4.1.m1.1c">
         \boldsymbol{y}^{k}_{i}
        </annotation>
       </semantics>
      </math>
      . Subsequently, we employ the cross-entropy calculation to compare the predicted labels with the ground truth labels. The calculation process can be elaborated as follows
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.E8">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\mathcal{L}_{\text{acc}}=-\frac{1}{N}\frac{1}{K}\sum_{i}^{N}\sum_{k}^{K}(\boldsymbol{y}^{k}_{i}\cdot\log\boldsymbol{\hat{y}}^{k}_{i}+(1-\boldsymbol{y}^{k}_{i})\cdot\log(1-\boldsymbol{\hat{y}}^{k}_{i}))" class="ltx_Math" display="block" id="S3.E8.m1.2">
          <semantics id="S3.E8.m1.2a">
           <mrow id="S3.E8.m1.2.2" xref="S3.E8.m1.2.2.cmml">
            <msub id="S3.E8.m1.2.2.3" xref="S3.E8.m1.2.2.3.cmml">
             <mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.2.2.3.2" xref="S3.E8.m1.2.2.3.2.cmml">
              ℒ
             </mi>
             <mtext id="S3.E8.m1.2.2.3.3" xref="S3.E8.m1.2.2.3.3a.cmml">
              acc
             </mtext>
            </msub>
            <mo id="S3.E8.m1.2.2.2" xref="S3.E8.m1.2.2.2.cmml">
             =
            </mo>
            <mrow id="S3.E8.m1.2.2.1" xref="S3.E8.m1.2.2.1.cmml">
             <mo id="S3.E8.m1.2.2.1a" xref="S3.E8.m1.2.2.1.cmml">
              −
             </mo>
             <mrow id="S3.E8.m1.2.2.1.1" xref="S3.E8.m1.2.2.1.1.cmml">
              <mfrac id="S3.E8.m1.2.2.1.1.3" xref="S3.E8.m1.2.2.1.1.3.cmml">
               <mn id="S3.E8.m1.2.2.1.1.3.2" xref="S3.E8.m1.2.2.1.1.3.2.cmml">
                1
               </mn>
               <mi id="S3.E8.m1.2.2.1.1.3.3" xref="S3.E8.m1.2.2.1.1.3.3.cmml">
                N
               </mi>
              </mfrac>
              <mo id="S3.E8.m1.2.2.1.1.2" lspace="0em" rspace="0em" xref="S3.E8.m1.2.2.1.1.2.cmml">
               ​
              </mo>
              <mfrac id="S3.E8.m1.2.2.1.1.4" xref="S3.E8.m1.2.2.1.1.4.cmml">
               <mn id="S3.E8.m1.2.2.1.1.4.2" xref="S3.E8.m1.2.2.1.1.4.2.cmml">
                1
               </mn>
               <mi id="S3.E8.m1.2.2.1.1.4.3" xref="S3.E8.m1.2.2.1.1.4.3.cmml">
                K
               </mi>
              </mfrac>
              <mo id="S3.E8.m1.2.2.1.1.2a" lspace="0em" rspace="0em" xref="S3.E8.m1.2.2.1.1.2.cmml">
               ​
              </mo>
              <mrow id="S3.E8.m1.2.2.1.1.1" xref="S3.E8.m1.2.2.1.1.1.cmml">
               <munderover id="S3.E8.m1.2.2.1.1.1.2" xref="S3.E8.m1.2.2.1.1.1.2.cmml">
                <mo id="S3.E8.m1.2.2.1.1.1.2.2.2" movablelimits="false" rspace="0em" xref="S3.E8.m1.2.2.1.1.1.2.2.2.cmml">
                 ∑
                </mo>
                <mi id="S3.E8.m1.2.2.1.1.1.2.2.3" xref="S3.E8.m1.2.2.1.1.1.2.2.3.cmml">
                 i
                </mi>
                <mi id="S3.E8.m1.2.2.1.1.1.2.3" xref="S3.E8.m1.2.2.1.1.1.2.3.cmml">
                 N
                </mi>
               </munderover>
               <mrow id="S3.E8.m1.2.2.1.1.1.1" xref="S3.E8.m1.2.2.1.1.1.1.cmml">
                <munderover id="S3.E8.m1.2.2.1.1.1.1.2" xref="S3.E8.m1.2.2.1.1.1.1.2.cmml">
                 <mo id="S3.E8.m1.2.2.1.1.1.1.2.2.2" movablelimits="false" rspace="0em" xref="S3.E8.m1.2.2.1.1.1.1.2.2.2.cmml">
                  ∑
                 </mo>
                 <mi id="S3.E8.m1.2.2.1.1.1.1.2.2.3" xref="S3.E8.m1.2.2.1.1.1.1.2.2.3.cmml">
                  k
                 </mi>
                 <mi id="S3.E8.m1.2.2.1.1.1.1.2.3" xref="S3.E8.m1.2.2.1.1.1.1.2.3.cmml">
                  K
                 </mi>
                </munderover>
                <mrow id="S3.E8.m1.2.2.1.1.1.1.1.1" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.cmml">
                 <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.cmml">
                  (
                 </mo>
                 <mrow id="S3.E8.m1.2.2.1.1.1.1.1.1.1" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.cmml">
                  <mrow id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.cmml">
                   <msubsup id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.cmml">
                    <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.2.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.2.2.cmml">
                     𝒚
                    </mi>
                    <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.3.cmml">
                     i
                    </mi>
                    <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.2.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.2.3.cmml">
                     k
                    </mi>
                   </msubsup>
                   <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.1" lspace="0.222em" rspace="0.222em" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.1.cmml">
                    ⋅
                   </mo>
                   <mrow id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.cmml">
                    <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.1" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.1.cmml">
                     log
                    </mi>
                    <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3a" lspace="0.167em" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.cmml">
                     ⁡
                    </mo>
                    <msubsup id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.cmml">
                     <mover accent="true" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2.cmml">
                      <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2.2.cmml">
                       𝒚
                      </mi>
                      <mo class="ltx_mathvariant_bold" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2.1" mathvariant="bold" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2.1.cmml">
                       ^
                      </mo>
                     </mover>
                     <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.3.cmml">
                      i
                     </mi>
                     <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.3.cmml">
                      k
                     </mi>
                    </msubsup>
                   </mrow>
                  </mrow>
                  <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.3.cmml">
                   +
                  </mo>
                  <mrow id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.cmml">
                   <mrow id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">
                    <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">
                     (
                    </mo>
                    <mrow id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">
                     <mn id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml">
                      1
                     </mn>
                     <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                      −
                     </mo>
                     <msubsup id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml">
                      <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml">
                       𝒚
                      </mi>
                      <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">
                       i
                      </mi>
                      <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.3.cmml">
                       k
                      </mi>
                     </msubsup>
                    </mrow>
                    <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">
                     )
                    </mo>
                   </mrow>
                   <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.3" rspace="0.222em" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.3.cmml">
                    ⋅
                   </mo>
                   <mrow id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml">
                    <mi id="S3.E8.m1.1.1" xref="S3.E8.m1.1.1.cmml">
                     log
                    </mi>
                    <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1a" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml">
                     ⁡
                    </mo>
                    <mrow id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml">
                     <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.2" stretchy="false" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml">
                      (
                     </mo>
                     <mrow id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.cmml">
                      <mn id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.2.cmml">
                       1
                      </mn>
                      <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.1" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.1.cmml">
                       −
                      </mo>
                      <msubsup id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.cmml">
                       <mover accent="true" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2.cmml">
                        <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2.2.cmml">
                         𝒚
                        </mi>
                        <mo class="ltx_mathvariant_bold" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2.1" mathvariant="bold" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2.1.cmml">
                         ^
                        </mo>
                       </mover>
                       <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.3.cmml">
                        i
                       </mi>
                       <mi id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.3.cmml">
                        k
                       </mi>
                      </msubsup>
                     </mrow>
                     <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.3" stretchy="false" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml">
                      )
                     </mo>
                    </mrow>
                   </mrow>
                  </mrow>
                 </mrow>
                 <mo id="S3.E8.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.cmml">
                  )
                 </mo>
                </mrow>
               </mrow>
              </mrow>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E8.m1.2b">
            <apply id="S3.E8.m1.2.2.cmml" xref="S3.E8.m1.2.2">
             <eq id="S3.E8.m1.2.2.2.cmml" xref="S3.E8.m1.2.2.2">
             </eq>
             <apply id="S3.E8.m1.2.2.3.cmml" xref="S3.E8.m1.2.2.3">
              <csymbol cd="ambiguous" id="S3.E8.m1.2.2.3.1.cmml" xref="S3.E8.m1.2.2.3">
               subscript
              </csymbol>
              <ci id="S3.E8.m1.2.2.3.2.cmml" xref="S3.E8.m1.2.2.3.2">
               ℒ
              </ci>
              <ci id="S3.E8.m1.2.2.3.3a.cmml" xref="S3.E8.m1.2.2.3.3">
               <mtext id="S3.E8.m1.2.2.3.3.cmml" mathsize="70%" xref="S3.E8.m1.2.2.3.3">
                acc
               </mtext>
              </ci>
             </apply>
             <apply id="S3.E8.m1.2.2.1.cmml" xref="S3.E8.m1.2.2.1">
              <minus id="S3.E8.m1.2.2.1.2.cmml" xref="S3.E8.m1.2.2.1">
              </minus>
              <apply id="S3.E8.m1.2.2.1.1.cmml" xref="S3.E8.m1.2.2.1.1">
               <times id="S3.E8.m1.2.2.1.1.2.cmml" xref="S3.E8.m1.2.2.1.1.2">
               </times>
               <apply id="S3.E8.m1.2.2.1.1.3.cmml" xref="S3.E8.m1.2.2.1.1.3">
                <divide id="S3.E8.m1.2.2.1.1.3.1.cmml" xref="S3.E8.m1.2.2.1.1.3">
                </divide>
                <cn id="S3.E8.m1.2.2.1.1.3.2.cmml" type="integer" xref="S3.E8.m1.2.2.1.1.3.2">
                 1
                </cn>
                <ci id="S3.E8.m1.2.2.1.1.3.3.cmml" xref="S3.E8.m1.2.2.1.1.3.3">
                 𝑁
                </ci>
               </apply>
               <apply id="S3.E8.m1.2.2.1.1.4.cmml" xref="S3.E8.m1.2.2.1.1.4">
                <divide id="S3.E8.m1.2.2.1.1.4.1.cmml" xref="S3.E8.m1.2.2.1.1.4">
                </divide>
                <cn id="S3.E8.m1.2.2.1.1.4.2.cmml" type="integer" xref="S3.E8.m1.2.2.1.1.4.2">
                 1
                </cn>
                <ci id="S3.E8.m1.2.2.1.1.4.3.cmml" xref="S3.E8.m1.2.2.1.1.4.3">
                 𝐾
                </ci>
               </apply>
               <apply id="S3.E8.m1.2.2.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.1">
                <apply id="S3.E8.m1.2.2.1.1.1.2.cmml" xref="S3.E8.m1.2.2.1.1.1.2">
                 <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.2">
                  superscript
                 </csymbol>
                 <apply id="S3.E8.m1.2.2.1.1.1.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.2">
                  <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.2.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.2">
                   subscript
                  </csymbol>
                  <sum id="S3.E8.m1.2.2.1.1.1.2.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.2.2.2">
                  </sum>
                  <ci id="S3.E8.m1.2.2.1.1.1.2.2.3.cmml" xref="S3.E8.m1.2.2.1.1.1.2.2.3">
                   𝑖
                  </ci>
                 </apply>
                 <ci id="S3.E8.m1.2.2.1.1.1.2.3.cmml" xref="S3.E8.m1.2.2.1.1.1.2.3">
                  𝑁
                 </ci>
                </apply>
                <apply id="S3.E8.m1.2.2.1.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1">
                 <apply id="S3.E8.m1.2.2.1.1.1.1.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.2">
                  <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.1.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.2">
                   superscript
                  </csymbol>
                  <apply id="S3.E8.m1.2.2.1.1.1.1.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.2">
                   <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.1.2.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.2">
                    subscript
                   </csymbol>
                   <sum id="S3.E8.m1.2.2.1.1.1.1.2.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.2.2.2">
                   </sum>
                   <ci id="S3.E8.m1.2.2.1.1.1.1.2.2.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.2.2.3">
                    𝑘
                   </ci>
                  </apply>
                  <ci id="S3.E8.m1.2.2.1.1.1.1.2.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.2.3">
                   𝐾
                  </ci>
                 </apply>
                 <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1">
                  <plus id="S3.E8.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.3">
                  </plus>
                  <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4">
                   <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.1">
                    ⋅
                   </ci>
                   <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2">
                    <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2">
                     subscript
                    </csymbol>
                    <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2">
                     <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2">
                      superscript
                     </csymbol>
                     <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.2.2">
                      𝒚
                     </ci>
                     <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.2.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.2.3">
                      𝑘
                     </ci>
                    </apply>
                    <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.2.3">
                     𝑖
                    </ci>
                   </apply>
                   <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3">
                    <log id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.1">
                    </log>
                    <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2">
                     <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2">
                      subscript
                     </csymbol>
                     <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2">
                      <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2">
                       superscript
                      </csymbol>
                      <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2">
                       <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2.1">
                        bold-^
                       </ci>
                       <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.2.2">
                        𝒚
                       </ci>
                      </apply>
                      <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.2.3">
                       𝑘
                      </ci>
                     </apply>
                     <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.4.3.2.3">
                      𝑖
                     </ci>
                    </apply>
                   </apply>
                  </apply>
                  <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2">
                   <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.3">
                    ⋅
                   </ci>
                   <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1">
                    <minus id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1">
                    </minus>
                    <cn id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2">
                     1
                    </cn>
                    <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3">
                     <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3">
                      subscript
                     </csymbol>
                     <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3">
                      <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3">
                       superscript
                      </csymbol>
                      <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.2">
                       𝒚
                      </ci>
                      <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.3">
                       𝑘
                      </ci>
                     </apply>
                     <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.3">
                      𝑖
                     </ci>
                    </apply>
                   </apply>
                   <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1">
                    <log id="S3.E8.m1.1.1.cmml" xref="S3.E8.m1.1.1">
                    </log>
                    <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1">
                     <minus id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.1">
                     </minus>
                     <cn id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.2.cmml" type="integer" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.2">
                      1
                     </cn>
                     <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3">
                      <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3">
                       subscript
                      </csymbol>
                      <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3">
                       <csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3">
                        superscript
                       </csymbol>
                       <apply id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2">
                        <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2.1">
                         bold-^
                        </ci>
                        <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.2.2">
                         𝒚
                        </ci>
                       </apply>
                       <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.2.3">
                        𝑘
                       </ci>
                      </apply>
                      <ci id="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.1.2.2.1.1.1.3.3">
                       𝑖
                      </ci>
                     </apply>
                    </apply>
                   </apply>
                  </apply>
                 </apply>
                </apply>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E8.m1.2c">
            \mathcal{L}_{\text{acc}}=-\frac{1}{N}\frac{1}{K}\sum_{i}^{N}\sum_{k}^{K}(\boldsymbol{y}^{k}_{i}\cdot\log\boldsymbol{\hat{y}}^{k}_{i}+(1-\boldsymbol{y}^{k}_{i})\cdot\log(1-\boldsymbol{\hat{y}}^{k}_{i}))
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (8)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS3.p4.7">
      here,
      <math alttext="\boldsymbol{y}^{k}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p4.2.m1.1">
       <semantics id="S3.SS3.SSS3.p4.2.m1.1a">
        <msubsup id="S3.SS3.SSS3.p4.2.m1.1.1" xref="S3.SS3.SSS3.p4.2.m1.1.1.cmml">
         <mi id="S3.SS3.SSS3.p4.2.m1.1.1.2.2" xref="S3.SS3.SSS3.p4.2.m1.1.1.2.2.cmml">
          𝒚
         </mi>
         <mi id="S3.SS3.SSS3.p4.2.m1.1.1.3" xref="S3.SS3.SSS3.p4.2.m1.1.1.3.cmml">
          i
         </mi>
         <mi id="S3.SS3.SSS3.p4.2.m1.1.1.2.3" xref="S3.SS3.SSS3.p4.2.m1.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p4.2.m1.1b">
         <apply id="S3.SS3.SSS3.p4.2.m1.1.1.cmml" xref="S3.SS3.SSS3.p4.2.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS3.p4.2.m1.1.1.1.cmml" xref="S3.SS3.SSS3.p4.2.m1.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS3.p4.2.m1.1.1.2.cmml" xref="S3.SS3.SSS3.p4.2.m1.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS3.p4.2.m1.1.1.2.1.cmml" xref="S3.SS3.SSS3.p4.2.m1.1.1">
            superscript
           </csymbol>
           <ci id="S3.SS3.SSS3.p4.2.m1.1.1.2.2.cmml" xref="S3.SS3.SSS3.p4.2.m1.1.1.2.2">
            𝒚
           </ci>
           <ci id="S3.SS3.SSS3.p4.2.m1.1.1.2.3.cmml" xref="S3.SS3.SSS3.p4.2.m1.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S3.SS3.SSS3.p4.2.m1.1.1.3.cmml" xref="S3.SS3.SSS3.p4.2.m1.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p4.2.m1.1c">
         \boldsymbol{y}^{k}_{i}
        </annotation>
       </semantics>
      </math>
      signifies the golden label of datasets, while
      <math alttext="\hat{y}^{k}_{i}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p4.3.m2.1">
       <semantics id="S3.SS3.SSS3.p4.3.m2.1a">
        <msubsup id="S3.SS3.SSS3.p4.3.m2.1.1" xref="S3.SS3.SSS3.p4.3.m2.1.1.cmml">
         <mover accent="true" id="S3.SS3.SSS3.p4.3.m2.1.1.2.2" xref="S3.SS3.SSS3.p4.3.m2.1.1.2.2.cmml">
          <mi id="S3.SS3.SSS3.p4.3.m2.1.1.2.2.2" xref="S3.SS3.SSS3.p4.3.m2.1.1.2.2.2.cmml">
           y
          </mi>
          <mo id="S3.SS3.SSS3.p4.3.m2.1.1.2.2.1" xref="S3.SS3.SSS3.p4.3.m2.1.1.2.2.1.cmml">
           ^
          </mo>
         </mover>
         <mi id="S3.SS3.SSS3.p4.3.m2.1.1.3" xref="S3.SS3.SSS3.p4.3.m2.1.1.3.cmml">
          i
         </mi>
         <mi id="S3.SS3.SSS3.p4.3.m2.1.1.2.3" xref="S3.SS3.SSS3.p4.3.m2.1.1.2.3.cmml">
          k
         </mi>
        </msubsup>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p4.3.m2.1b">
         <apply id="S3.SS3.SSS3.p4.3.m2.1.1.cmml" xref="S3.SS3.SSS3.p4.3.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS3.p4.3.m2.1.1.1.cmml" xref="S3.SS3.SSS3.p4.3.m2.1.1">
           subscript
          </csymbol>
          <apply id="S3.SS3.SSS3.p4.3.m2.1.1.2.cmml" xref="S3.SS3.SSS3.p4.3.m2.1.1">
           <csymbol cd="ambiguous" id="S3.SS3.SSS3.p4.3.m2.1.1.2.1.cmml" xref="S3.SS3.SSS3.p4.3.m2.1.1">
            superscript
           </csymbol>
           <apply id="S3.SS3.SSS3.p4.3.m2.1.1.2.2.cmml" xref="S3.SS3.SSS3.p4.3.m2.1.1.2.2">
            <ci id="S3.SS3.SSS3.p4.3.m2.1.1.2.2.1.cmml" xref="S3.SS3.SSS3.p4.3.m2.1.1.2.2.1">
             ^
            </ci>
            <ci id="S3.SS3.SSS3.p4.3.m2.1.1.2.2.2.cmml" xref="S3.SS3.SSS3.p4.3.m2.1.1.2.2.2">
             𝑦
            </ci>
           </apply>
           <ci id="S3.SS3.SSS3.p4.3.m2.1.1.2.3.cmml" xref="S3.SS3.SSS3.p4.3.m2.1.1.2.3">
            𝑘
           </ci>
          </apply>
          <ci id="S3.SS3.SSS3.p4.3.m2.1.1.3.cmml" xref="S3.SS3.SSS3.p4.3.m2.1.1.3">
           𝑖
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p4.3.m2.1c">
         \hat{y}^{k}_{i}
        </annotation>
       </semantics>
      </math>
      denotes the predicted label for the
      <math alttext="i" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p4.4.m3.1">
       <semantics id="S3.SS3.SSS3.p4.4.m3.1a">
        <mi id="S3.SS3.SSS3.p4.4.m3.1.1" xref="S3.SS3.SSS3.p4.4.m3.1.1.cmml">
         i
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p4.4.m3.1b">
         <ci id="S3.SS3.SSS3.p4.4.m3.1.1.cmml" xref="S3.SS3.SSS3.p4.4.m3.1.1">
          𝑖
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p4.4.m3.1c">
         i
        </annotation>
       </semantics>
      </math>
      -th query and the
      <math alttext="k" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p4.5.m4.1">
       <semantics id="S3.SS3.SSS3.p4.5.m4.1a">
        <mi id="S3.SS3.SSS3.p4.5.m4.1.1" xref="S3.SS3.SSS3.p4.5.m4.1.1.cmml">
         k
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p4.5.m4.1b">
         <ci id="S3.SS3.SSS3.p4.5.m4.1.1.cmml" xref="S3.SS3.SSS3.p4.5.m4.1.1">
          𝑘
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p4.5.m4.1c">
         k
        </annotation>
       </semantics>
      </math>
      -th agent. Here,
      <math alttext="N" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p4.6.m5.1">
       <semantics id="S3.SS3.SSS3.p4.6.m5.1a">
        <mi id="S3.SS3.SSS3.p4.6.m5.1.1" xref="S3.SS3.SSS3.p4.6.m5.1.1.cmml">
         N
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p4.6.m5.1b">
         <ci id="S3.SS3.SSS3.p4.6.m5.1.1.cmml" xref="S3.SS3.SSS3.p4.6.m5.1.1">
          𝑁
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p4.6.m5.1c">
         N
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="K" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p4.7.m6.1">
       <semantics id="S3.SS3.SSS3.p4.7.m6.1a">
        <mi id="S3.SS3.SSS3.p4.7.m6.1.1" xref="S3.SS3.SSS3.p4.7.m6.1.1.cmml">
         K
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p4.7.m6.1b">
         <ci id="S3.SS3.SSS3.p4.7.m6.1.1.cmml" xref="S3.SS3.SSS3.p4.7.m6.1.1">
          𝐾
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p4.7.m6.1c">
         K
        </annotation>
       </semantics>
      </math>
      represent the total number of training samples and the aggregate number of agents, respectively. The loss function is specifically designed to calculate the logarithmic discrepancies between the predicted labels and actual relevance labels. This metric acts as a gauge for the model’s accuracy within the scope of point-wise ranking.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS3.p5">
     <p class="ltx_p" id="S3.SS3.SSS3.p5.2">
      In addition to addressing accuracy loss, it is imperative to consider the robustness of ranking performance, which constitutes a primary focus of this paper. To enhance robustness, our design strategy involves minimizing the divergence among different agents. While previous research like
      <cite class="ltx_cite ltx_citemacro_cite">
       [
       <a class="ltx_ref" href="#bib.bib12" title="">
        12
       </a>
       ,
       <a class="ltx_ref" href="#bib.bib33" title="">
        33
       </a>
       ]
      </cite>
      have incorporated KL divergence in the loss function to reduce the distribution disparity between two predictions, this approach is not without limitations. Specifically, KL divergence is an asymmetric metric, potentially leading to an unbalanced problem. Given that our scenario involves multiple agent groups, where each agent is expected to maintain an equal status, we have selected the Jensen-Shannon (JS) divergence as a more equitable metric, denoted as
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.E9">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\mathcal{L}_{JS}(\boldsymbol{y}^{a},\boldsymbol{y}^{b})=\frac{1}{2}\mathcal{L}_{KL}(\boldsymbol{y}^{a},\boldsymbol{y}^{b})+\frac{1}{2}\mathcal{L}_{KL}(\boldsymbol{y}^{b},\boldsymbol{y}^{a})" class="ltx_Math" display="block" id="S3.E9.m1.6">
          <semantics id="S3.E9.m1.6a">
           <mrow id="S3.E9.m1.6.6" xref="S3.E9.m1.6.6.cmml">
            <mrow id="S3.E9.m1.2.2.2" xref="S3.E9.m1.2.2.2.cmml">
             <msub id="S3.E9.m1.2.2.2.4" xref="S3.E9.m1.2.2.2.4.cmml">
              <mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.2.2.2.4.2" xref="S3.E9.m1.2.2.2.4.2.cmml">
               ℒ
              </mi>
              <mrow id="S3.E9.m1.2.2.2.4.3" xref="S3.E9.m1.2.2.2.4.3.cmml">
               <mi id="S3.E9.m1.2.2.2.4.3.2" xref="S3.E9.m1.2.2.2.4.3.2.cmml">
                J
               </mi>
               <mo id="S3.E9.m1.2.2.2.4.3.1" lspace="0em" rspace="0em" xref="S3.E9.m1.2.2.2.4.3.1.cmml">
                ​
               </mo>
               <mi id="S3.E9.m1.2.2.2.4.3.3" xref="S3.E9.m1.2.2.2.4.3.3.cmml">
                S
               </mi>
              </mrow>
             </msub>
             <mo id="S3.E9.m1.2.2.2.3" lspace="0em" rspace="0em" xref="S3.E9.m1.2.2.2.3.cmml">
              ​
             </mo>
             <mrow id="S3.E9.m1.2.2.2.2.2" xref="S3.E9.m1.2.2.2.2.3.cmml">
              <mo id="S3.E9.m1.2.2.2.2.2.3" stretchy="false" xref="S3.E9.m1.2.2.2.2.3.cmml">
               (
              </mo>
              <msup id="S3.E9.m1.1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.1.1.cmml">
               <mi id="S3.E9.m1.1.1.1.1.1.1.2" xref="S3.E9.m1.1.1.1.1.1.1.2.cmml">
                𝒚
               </mi>
               <mi id="S3.E9.m1.1.1.1.1.1.1.3" xref="S3.E9.m1.1.1.1.1.1.1.3.cmml">
                a
               </mi>
              </msup>
              <mo id="S3.E9.m1.2.2.2.2.2.4" xref="S3.E9.m1.2.2.2.2.3.cmml">
               ,
              </mo>
              <msup id="S3.E9.m1.2.2.2.2.2.2" xref="S3.E9.m1.2.2.2.2.2.2.cmml">
               <mi id="S3.E9.m1.2.2.2.2.2.2.2" xref="S3.E9.m1.2.2.2.2.2.2.2.cmml">
                𝒚
               </mi>
               <mi id="S3.E9.m1.2.2.2.2.2.2.3" xref="S3.E9.m1.2.2.2.2.2.2.3.cmml">
                b
               </mi>
              </msup>
              <mo id="S3.E9.m1.2.2.2.2.2.5" stretchy="false" xref="S3.E9.m1.2.2.2.2.3.cmml">
               )
              </mo>
             </mrow>
            </mrow>
            <mo id="S3.E9.m1.6.6.7" xref="S3.E9.m1.6.6.7.cmml">
             =
            </mo>
            <mrow id="S3.E9.m1.6.6.6" xref="S3.E9.m1.6.6.6.cmml">
             <mrow id="S3.E9.m1.4.4.4.2" xref="S3.E9.m1.4.4.4.2.cmml">
              <mfrac id="S3.E9.m1.4.4.4.2.4" xref="S3.E9.m1.4.4.4.2.4.cmml">
               <mn id="S3.E9.m1.4.4.4.2.4.2" xref="S3.E9.m1.4.4.4.2.4.2.cmml">
                1
               </mn>
               <mn id="S3.E9.m1.4.4.4.2.4.3" xref="S3.E9.m1.4.4.4.2.4.3.cmml">
                2
               </mn>
              </mfrac>
              <mo id="S3.E9.m1.4.4.4.2.3" lspace="0em" rspace="0em" xref="S3.E9.m1.4.4.4.2.3.cmml">
               ​
              </mo>
              <msub id="S3.E9.m1.4.4.4.2.5" xref="S3.E9.m1.4.4.4.2.5.cmml">
               <mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.4.4.4.2.5.2" xref="S3.E9.m1.4.4.4.2.5.2.cmml">
                ℒ
               </mi>
               <mrow id="S3.E9.m1.4.4.4.2.5.3" xref="S3.E9.m1.4.4.4.2.5.3.cmml">
                <mi id="S3.E9.m1.4.4.4.2.5.3.2" xref="S3.E9.m1.4.4.4.2.5.3.2.cmml">
                 K
                </mi>
                <mo id="S3.E9.m1.4.4.4.2.5.3.1" lspace="0em" rspace="0em" xref="S3.E9.m1.4.4.4.2.5.3.1.cmml">
                 ​
                </mo>
                <mi id="S3.E9.m1.4.4.4.2.5.3.3" xref="S3.E9.m1.4.4.4.2.5.3.3.cmml">
                 L
                </mi>
               </mrow>
              </msub>
              <mo id="S3.E9.m1.4.4.4.2.3a" lspace="0em" rspace="0em" xref="S3.E9.m1.4.4.4.2.3.cmml">
               ​
              </mo>
              <mrow id="S3.E9.m1.4.4.4.2.2.2" xref="S3.E9.m1.4.4.4.2.2.3.cmml">
               <mo id="S3.E9.m1.4.4.4.2.2.2.3" stretchy="false" xref="S3.E9.m1.4.4.4.2.2.3.cmml">
                (
               </mo>
               <msup id="S3.E9.m1.3.3.3.1.1.1.1" xref="S3.E9.m1.3.3.3.1.1.1.1.cmml">
                <mi id="S3.E9.m1.3.3.3.1.1.1.1.2" xref="S3.E9.m1.3.3.3.1.1.1.1.2.cmml">
                 𝒚
                </mi>
                <mi id="S3.E9.m1.3.3.3.1.1.1.1.3" xref="S3.E9.m1.3.3.3.1.1.1.1.3.cmml">
                 a
                </mi>
               </msup>
               <mo id="S3.E9.m1.4.4.4.2.2.2.4" xref="S3.E9.m1.4.4.4.2.2.3.cmml">
                ,
               </mo>
               <msup id="S3.E9.m1.4.4.4.2.2.2.2" xref="S3.E9.m1.4.4.4.2.2.2.2.cmml">
                <mi id="S3.E9.m1.4.4.4.2.2.2.2.2" xref="S3.E9.m1.4.4.4.2.2.2.2.2.cmml">
                 𝒚
                </mi>
                <mi id="S3.E9.m1.4.4.4.2.2.2.2.3" xref="S3.E9.m1.4.4.4.2.2.2.2.3.cmml">
                 b
                </mi>
               </msup>
               <mo id="S3.E9.m1.4.4.4.2.2.2.5" stretchy="false" xref="S3.E9.m1.4.4.4.2.2.3.cmml">
                )
               </mo>
              </mrow>
             </mrow>
             <mo id="S3.E9.m1.6.6.6.5" xref="S3.E9.m1.6.6.6.5.cmml">
              +
             </mo>
             <mrow id="S3.E9.m1.6.6.6.4" xref="S3.E9.m1.6.6.6.4.cmml">
              <mfrac id="S3.E9.m1.6.6.6.4.4" xref="S3.E9.m1.6.6.6.4.4.cmml">
               <mn id="S3.E9.m1.6.6.6.4.4.2" xref="S3.E9.m1.6.6.6.4.4.2.cmml">
                1
               </mn>
               <mn id="S3.E9.m1.6.6.6.4.4.3" xref="S3.E9.m1.6.6.6.4.4.3.cmml">
                2
               </mn>
              </mfrac>
              <mo id="S3.E9.m1.6.6.6.4.3" lspace="0em" rspace="0em" xref="S3.E9.m1.6.6.6.4.3.cmml">
               ​
              </mo>
              <msub id="S3.E9.m1.6.6.6.4.5" xref="S3.E9.m1.6.6.6.4.5.cmml">
               <mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.6.6.6.4.5.2" xref="S3.E9.m1.6.6.6.4.5.2.cmml">
                ℒ
               </mi>
               <mrow id="S3.E9.m1.6.6.6.4.5.3" xref="S3.E9.m1.6.6.6.4.5.3.cmml">
                <mi id="S3.E9.m1.6.6.6.4.5.3.2" xref="S3.E9.m1.6.6.6.4.5.3.2.cmml">
                 K
                </mi>
                <mo id="S3.E9.m1.6.6.6.4.5.3.1" lspace="0em" rspace="0em" xref="S3.E9.m1.6.6.6.4.5.3.1.cmml">
                 ​
                </mo>
                <mi id="S3.E9.m1.6.6.6.4.5.3.3" xref="S3.E9.m1.6.6.6.4.5.3.3.cmml">
                 L
                </mi>
               </mrow>
              </msub>
              <mo id="S3.E9.m1.6.6.6.4.3a" lspace="0em" rspace="0em" xref="S3.E9.m1.6.6.6.4.3.cmml">
               ​
              </mo>
              <mrow id="S3.E9.m1.6.6.6.4.2.2" xref="S3.E9.m1.6.6.6.4.2.3.cmml">
               <mo id="S3.E9.m1.6.6.6.4.2.2.3" stretchy="false" xref="S3.E9.m1.6.6.6.4.2.3.cmml">
                (
               </mo>
               <msup id="S3.E9.m1.5.5.5.3.1.1.1" xref="S3.E9.m1.5.5.5.3.1.1.1.cmml">
                <mi id="S3.E9.m1.5.5.5.3.1.1.1.2" xref="S3.E9.m1.5.5.5.3.1.1.1.2.cmml">
                 𝒚
                </mi>
                <mi id="S3.E9.m1.5.5.5.3.1.1.1.3" xref="S3.E9.m1.5.5.5.3.1.1.1.3.cmml">
                 b
                </mi>
               </msup>
               <mo id="S3.E9.m1.6.6.6.4.2.2.4" xref="S3.E9.m1.6.6.6.4.2.3.cmml">
                ,
               </mo>
               <msup id="S3.E9.m1.6.6.6.4.2.2.2" xref="S3.E9.m1.6.6.6.4.2.2.2.cmml">
                <mi id="S3.E9.m1.6.6.6.4.2.2.2.2" xref="S3.E9.m1.6.6.6.4.2.2.2.2.cmml">
                 𝒚
                </mi>
                <mi id="S3.E9.m1.6.6.6.4.2.2.2.3" xref="S3.E9.m1.6.6.6.4.2.2.2.3.cmml">
                 a
                </mi>
               </msup>
               <mo id="S3.E9.m1.6.6.6.4.2.2.5" stretchy="false" xref="S3.E9.m1.6.6.6.4.2.3.cmml">
                )
               </mo>
              </mrow>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E9.m1.6b">
            <apply id="S3.E9.m1.6.6.cmml" xref="S3.E9.m1.6.6">
             <eq id="S3.E9.m1.6.6.7.cmml" xref="S3.E9.m1.6.6.7">
             </eq>
             <apply id="S3.E9.m1.2.2.2.cmml" xref="S3.E9.m1.2.2.2">
              <times id="S3.E9.m1.2.2.2.3.cmml" xref="S3.E9.m1.2.2.2.3">
              </times>
              <apply id="S3.E9.m1.2.2.2.4.cmml" xref="S3.E9.m1.2.2.2.4">
               <csymbol cd="ambiguous" id="S3.E9.m1.2.2.2.4.1.cmml" xref="S3.E9.m1.2.2.2.4">
                subscript
               </csymbol>
               <ci id="S3.E9.m1.2.2.2.4.2.cmml" xref="S3.E9.m1.2.2.2.4.2">
                ℒ
               </ci>
               <apply id="S3.E9.m1.2.2.2.4.3.cmml" xref="S3.E9.m1.2.2.2.4.3">
                <times id="S3.E9.m1.2.2.2.4.3.1.cmml" xref="S3.E9.m1.2.2.2.4.3.1">
                </times>
                <ci id="S3.E9.m1.2.2.2.4.3.2.cmml" xref="S3.E9.m1.2.2.2.4.3.2">
                 𝐽
                </ci>
                <ci id="S3.E9.m1.2.2.2.4.3.3.cmml" xref="S3.E9.m1.2.2.2.4.3.3">
                 𝑆
                </ci>
               </apply>
              </apply>
              <interval closure="open" id="S3.E9.m1.2.2.2.2.3.cmml" xref="S3.E9.m1.2.2.2.2.2">
               <apply id="S3.E9.m1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1">
                <csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1">
                 superscript
                </csymbol>
                <ci id="S3.E9.m1.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.1.1.1.1.1.1.2">
                 𝒚
                </ci>
                <ci id="S3.E9.m1.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.1.1.1.1.1.1.3">
                 𝑎
                </ci>
               </apply>
               <apply id="S3.E9.m1.2.2.2.2.2.2.cmml" xref="S3.E9.m1.2.2.2.2.2.2">
                <csymbol cd="ambiguous" id="S3.E9.m1.2.2.2.2.2.2.1.cmml" xref="S3.E9.m1.2.2.2.2.2.2">
                 superscript
                </csymbol>
                <ci id="S3.E9.m1.2.2.2.2.2.2.2.cmml" xref="S3.E9.m1.2.2.2.2.2.2.2">
                 𝒚
                </ci>
                <ci id="S3.E9.m1.2.2.2.2.2.2.3.cmml" xref="S3.E9.m1.2.2.2.2.2.2.3">
                 𝑏
                </ci>
               </apply>
              </interval>
             </apply>
             <apply id="S3.E9.m1.6.6.6.cmml" xref="S3.E9.m1.6.6.6">
              <plus id="S3.E9.m1.6.6.6.5.cmml" xref="S3.E9.m1.6.6.6.5">
              </plus>
              <apply id="S3.E9.m1.4.4.4.2.cmml" xref="S3.E9.m1.4.4.4.2">
               <times id="S3.E9.m1.4.4.4.2.3.cmml" xref="S3.E9.m1.4.4.4.2.3">
               </times>
               <apply id="S3.E9.m1.4.4.4.2.4.cmml" xref="S3.E9.m1.4.4.4.2.4">
                <divide id="S3.E9.m1.4.4.4.2.4.1.cmml" xref="S3.E9.m1.4.4.4.2.4">
                </divide>
                <cn id="S3.E9.m1.4.4.4.2.4.2.cmml" type="integer" xref="S3.E9.m1.4.4.4.2.4.2">
                 1
                </cn>
                <cn id="S3.E9.m1.4.4.4.2.4.3.cmml" type="integer" xref="S3.E9.m1.4.4.4.2.4.3">
                 2
                </cn>
               </apply>
               <apply id="S3.E9.m1.4.4.4.2.5.cmml" xref="S3.E9.m1.4.4.4.2.5">
                <csymbol cd="ambiguous" id="S3.E9.m1.4.4.4.2.5.1.cmml" xref="S3.E9.m1.4.4.4.2.5">
                 subscript
                </csymbol>
                <ci id="S3.E9.m1.4.4.4.2.5.2.cmml" xref="S3.E9.m1.4.4.4.2.5.2">
                 ℒ
                </ci>
                <apply id="S3.E9.m1.4.4.4.2.5.3.cmml" xref="S3.E9.m1.4.4.4.2.5.3">
                 <times id="S3.E9.m1.4.4.4.2.5.3.1.cmml" xref="S3.E9.m1.4.4.4.2.5.3.1">
                 </times>
                 <ci id="S3.E9.m1.4.4.4.2.5.3.2.cmml" xref="S3.E9.m1.4.4.4.2.5.3.2">
                  𝐾
                 </ci>
                 <ci id="S3.E9.m1.4.4.4.2.5.3.3.cmml" xref="S3.E9.m1.4.4.4.2.5.3.3">
                  𝐿
                 </ci>
                </apply>
               </apply>
               <interval closure="open" id="S3.E9.m1.4.4.4.2.2.3.cmml" xref="S3.E9.m1.4.4.4.2.2.2">
                <apply id="S3.E9.m1.3.3.3.1.1.1.1.cmml" xref="S3.E9.m1.3.3.3.1.1.1.1">
                 <csymbol cd="ambiguous" id="S3.E9.m1.3.3.3.1.1.1.1.1.cmml" xref="S3.E9.m1.3.3.3.1.1.1.1">
                  superscript
                 </csymbol>
                 <ci id="S3.E9.m1.3.3.3.1.1.1.1.2.cmml" xref="S3.E9.m1.3.3.3.1.1.1.1.2">
                  𝒚
                 </ci>
                 <ci id="S3.E9.m1.3.3.3.1.1.1.1.3.cmml" xref="S3.E9.m1.3.3.3.1.1.1.1.3">
                  𝑎
                 </ci>
                </apply>
                <apply id="S3.E9.m1.4.4.4.2.2.2.2.cmml" xref="S3.E9.m1.4.4.4.2.2.2.2">
                 <csymbol cd="ambiguous" id="S3.E9.m1.4.4.4.2.2.2.2.1.cmml" xref="S3.E9.m1.4.4.4.2.2.2.2">
                  superscript
                 </csymbol>
                 <ci id="S3.E9.m1.4.4.4.2.2.2.2.2.cmml" xref="S3.E9.m1.4.4.4.2.2.2.2.2">
                  𝒚
                 </ci>
                 <ci id="S3.E9.m1.4.4.4.2.2.2.2.3.cmml" xref="S3.E9.m1.4.4.4.2.2.2.2.3">
                  𝑏
                 </ci>
                </apply>
               </interval>
              </apply>
              <apply id="S3.E9.m1.6.6.6.4.cmml" xref="S3.E9.m1.6.6.6.4">
               <times id="S3.E9.m1.6.6.6.4.3.cmml" xref="S3.E9.m1.6.6.6.4.3">
               </times>
               <apply id="S3.E9.m1.6.6.6.4.4.cmml" xref="S3.E9.m1.6.6.6.4.4">
                <divide id="S3.E9.m1.6.6.6.4.4.1.cmml" xref="S3.E9.m1.6.6.6.4.4">
                </divide>
                <cn id="S3.E9.m1.6.6.6.4.4.2.cmml" type="integer" xref="S3.E9.m1.6.6.6.4.4.2">
                 1
                </cn>
                <cn id="S3.E9.m1.6.6.6.4.4.3.cmml" type="integer" xref="S3.E9.m1.6.6.6.4.4.3">
                 2
                </cn>
               </apply>
               <apply id="S3.E9.m1.6.6.6.4.5.cmml" xref="S3.E9.m1.6.6.6.4.5">
                <csymbol cd="ambiguous" id="S3.E9.m1.6.6.6.4.5.1.cmml" xref="S3.E9.m1.6.6.6.4.5">
                 subscript
                </csymbol>
                <ci id="S3.E9.m1.6.6.6.4.5.2.cmml" xref="S3.E9.m1.6.6.6.4.5.2">
                 ℒ
                </ci>
                <apply id="S3.E9.m1.6.6.6.4.5.3.cmml" xref="S3.E9.m1.6.6.6.4.5.3">
                 <times id="S3.E9.m1.6.6.6.4.5.3.1.cmml" xref="S3.E9.m1.6.6.6.4.5.3.1">
                 </times>
                 <ci id="S3.E9.m1.6.6.6.4.5.3.2.cmml" xref="S3.E9.m1.6.6.6.4.5.3.2">
                  𝐾
                 </ci>
                 <ci id="S3.E9.m1.6.6.6.4.5.3.3.cmml" xref="S3.E9.m1.6.6.6.4.5.3.3">
                  𝐿
                 </ci>
                </apply>
               </apply>
               <interval closure="open" id="S3.E9.m1.6.6.6.4.2.3.cmml" xref="S3.E9.m1.6.6.6.4.2.2">
                <apply id="S3.E9.m1.5.5.5.3.1.1.1.cmml" xref="S3.E9.m1.5.5.5.3.1.1.1">
                 <csymbol cd="ambiguous" id="S3.E9.m1.5.5.5.3.1.1.1.1.cmml" xref="S3.E9.m1.5.5.5.3.1.1.1">
                  superscript
                 </csymbol>
                 <ci id="S3.E9.m1.5.5.5.3.1.1.1.2.cmml" xref="S3.E9.m1.5.5.5.3.1.1.1.2">
                  𝒚
                 </ci>
                 <ci id="S3.E9.m1.5.5.5.3.1.1.1.3.cmml" xref="S3.E9.m1.5.5.5.3.1.1.1.3">
                  𝑏
                 </ci>
                </apply>
                <apply id="S3.E9.m1.6.6.6.4.2.2.2.cmml" xref="S3.E9.m1.6.6.6.4.2.2.2">
                 <csymbol cd="ambiguous" id="S3.E9.m1.6.6.6.4.2.2.2.1.cmml" xref="S3.E9.m1.6.6.6.4.2.2.2">
                  superscript
                 </csymbol>
                 <ci id="S3.E9.m1.6.6.6.4.2.2.2.2.cmml" xref="S3.E9.m1.6.6.6.4.2.2.2.2">
                  𝒚
                 </ci>
                 <ci id="S3.E9.m1.6.6.6.4.2.2.2.3.cmml" xref="S3.E9.m1.6.6.6.4.2.2.2.3">
                  𝑎
                 </ci>
                </apply>
               </interval>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E9.m1.6c">
            \mathcal{L}_{JS}(\boldsymbol{y}^{a},\boldsymbol{y}^{b})=\frac{1}{2}\mathcal{L}_{KL}(\boldsymbol{y}^{a},\boldsymbol{y}^{b})+\frac{1}{2}\mathcal{L}_{KL}(\boldsymbol{y}^{b},\boldsymbol{y}^{a})
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (9)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS3.p5.3">
      then we use JS divergence to minimize the distribution gap among all the agent pair distributions, formulated as follows
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.E10">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\mathcal{L}_{\text{rbt}}=-\frac{1}{N}\sum_{m}^{K}\sum_{n}^{K}\mathcal{L}_{JS}(\boldsymbol{\hat{y}}^{m}_{i},\boldsymbol{\hat{y}}^{n}_{i}),m&lt;n" class="ltx_Math" display="block" id="S3.E10.m1.2">
          <semantics id="S3.E10.m1.2a">
           <mrow id="S3.E10.m1.2.2.2" xref="S3.E10.m1.2.2.3.cmml">
            <mrow id="S3.E10.m1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.cmml">
             <msub id="S3.E10.m1.1.1.1.1.4" xref="S3.E10.m1.1.1.1.1.4.cmml">
              <mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.1.1.4.2" xref="S3.E10.m1.1.1.1.1.4.2.cmml">
               ℒ
              </mi>
              <mtext id="S3.E10.m1.1.1.1.1.4.3" xref="S3.E10.m1.1.1.1.1.4.3a.cmml">
               rbt
              </mtext>
             </msub>
             <mo id="S3.E10.m1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.3.cmml">
              =
             </mo>
             <mrow id="S3.E10.m1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.2.cmml">
              <mo id="S3.E10.m1.1.1.1.1.2a" xref="S3.E10.m1.1.1.1.1.2.cmml">
               −
              </mo>
              <mrow id="S3.E10.m1.1.1.1.1.2.2" xref="S3.E10.m1.1.1.1.1.2.2.cmml">
               <mfrac id="S3.E10.m1.1.1.1.1.2.2.4" xref="S3.E10.m1.1.1.1.1.2.2.4.cmml">
                <mn id="S3.E10.m1.1.1.1.1.2.2.4.2" xref="S3.E10.m1.1.1.1.1.2.2.4.2.cmml">
                 1
                </mn>
                <mi id="S3.E10.m1.1.1.1.1.2.2.4.3" xref="S3.E10.m1.1.1.1.1.2.2.4.3.cmml">
                 N
                </mi>
               </mfrac>
               <mo id="S3.E10.m1.1.1.1.1.2.2.3" lspace="0em" rspace="0em" xref="S3.E10.m1.1.1.1.1.2.2.3.cmml">
                ​
               </mo>
               <mrow id="S3.E10.m1.1.1.1.1.2.2.2" xref="S3.E10.m1.1.1.1.1.2.2.2.cmml">
                <munderover id="S3.E10.m1.1.1.1.1.2.2.2.3" xref="S3.E10.m1.1.1.1.1.2.2.2.3.cmml">
                 <mo id="S3.E10.m1.1.1.1.1.2.2.2.3.2.2" movablelimits="false" rspace="0em" xref="S3.E10.m1.1.1.1.1.2.2.2.3.2.2.cmml">
                  ∑
                 </mo>
                 <mi id="S3.E10.m1.1.1.1.1.2.2.2.3.2.3" xref="S3.E10.m1.1.1.1.1.2.2.2.3.2.3.cmml">
                  m
                 </mi>
                 <mi id="S3.E10.m1.1.1.1.1.2.2.2.3.3" xref="S3.E10.m1.1.1.1.1.2.2.2.3.3.cmml">
                  K
                 </mi>
                </munderover>
                <mrow id="S3.E10.m1.1.1.1.1.2.2.2.2" xref="S3.E10.m1.1.1.1.1.2.2.2.2.cmml">
                 <munderover id="S3.E10.m1.1.1.1.1.2.2.2.2.3" xref="S3.E10.m1.1.1.1.1.2.2.2.2.3.cmml">
                  <mo id="S3.E10.m1.1.1.1.1.2.2.2.2.3.2.2" movablelimits="false" xref="S3.E10.m1.1.1.1.1.2.2.2.2.3.2.2.cmml">
                   ∑
                  </mo>
                  <mi id="S3.E10.m1.1.1.1.1.2.2.2.2.3.2.3" xref="S3.E10.m1.1.1.1.1.2.2.2.2.3.2.3.cmml">
                   n
                  </mi>
                  <mi id="S3.E10.m1.1.1.1.1.2.2.2.2.3.3" xref="S3.E10.m1.1.1.1.1.2.2.2.2.3.3.cmml">
                   K
                  </mi>
                 </munderover>
                 <mrow id="S3.E10.m1.1.1.1.1.2.2.2.2.2" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.cmml">
                  <msub id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.cmml">
                   <mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.2" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.2.cmml">
                    ℒ
                   </mi>
                   <mrow id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.cmml">
                    <mi id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.2" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.2.cmml">
                     J
                    </mi>
                    <mo id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.1" lspace="0em" rspace="0em" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.1.cmml">
                     ​
                    </mo>
                    <mi id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.3" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.3.cmml">
                     S
                    </mi>
                   </mrow>
                  </msub>
                  <mo id="S3.E10.m1.1.1.1.1.2.2.2.2.2.3" lspace="0em" rspace="0em" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.3.cmml">
                   ​
                  </mo>
                  <mrow id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.3.cmml">
                   <mo id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.3" stretchy="false" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.3.cmml">
                    (
                   </mo>
                   <msubsup id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">
                    <mover accent="true" id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">
                     <mi id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">
                      𝒚
                     </mi>
                     <mo class="ltx_mathvariant_bold" id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1" mathvariant="bold" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml">
                      ^
                     </mo>
                    </mover>
                    <mi id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">
                     i
                    </mi>
                    <mi id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">
                     m
                    </mi>
                   </msubsup>
                   <mo id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.4" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.3.cmml">
                    ,
                   </mo>
                   <msubsup id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.cmml">
                    <mover accent="true" id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2.cmml">
                     <mi id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2.2" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2.2.cmml">
                      𝒚
                     </mi>
                     <mo class="ltx_mathvariant_bold" id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2.1" mathvariant="bold" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2.1.cmml">
                      ^
                     </mo>
                    </mover>
                    <mi id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.3" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.3.cmml">
                     i
                    </mi>
                    <mi id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.3" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.3.cmml">
                     n
                    </mi>
                   </msubsup>
                   <mo id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.5" stretchy="false" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.3.cmml">
                    )
                   </mo>
                  </mrow>
                 </mrow>
                </mrow>
               </mrow>
              </mrow>
             </mrow>
            </mrow>
            <mo id="S3.E10.m1.2.2.2.3" xref="S3.E10.m1.2.2.3a.cmml">
             ,
            </mo>
            <mrow id="S3.E10.m1.2.2.2.2" xref="S3.E10.m1.2.2.2.2.cmml">
             <mi id="S3.E10.m1.2.2.2.2.2" xref="S3.E10.m1.2.2.2.2.2.cmml">
              m
             </mi>
             <mo id="S3.E10.m1.2.2.2.2.1" xref="S3.E10.m1.2.2.2.2.1.cmml">
              &lt;
             </mo>
             <mi id="S3.E10.m1.2.2.2.2.3" xref="S3.E10.m1.2.2.2.2.3.cmml">
              n
             </mi>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E10.m1.2b">
            <apply id="S3.E10.m1.2.2.3.cmml" xref="S3.E10.m1.2.2.2">
             <csymbol cd="ambiguous" id="S3.E10.m1.2.2.3a.cmml" xref="S3.E10.m1.2.2.2.3">
              formulae-sequence
             </csymbol>
             <apply id="S3.E10.m1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1">
              <eq id="S3.E10.m1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.3">
              </eq>
              <apply id="S3.E10.m1.1.1.1.1.4.cmml" xref="S3.E10.m1.1.1.1.1.4">
               <csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.4.1.cmml" xref="S3.E10.m1.1.1.1.1.4">
                subscript
               </csymbol>
               <ci id="S3.E10.m1.1.1.1.1.4.2.cmml" xref="S3.E10.m1.1.1.1.1.4.2">
                ℒ
               </ci>
               <ci id="S3.E10.m1.1.1.1.1.4.3a.cmml" xref="S3.E10.m1.1.1.1.1.4.3">
                <mtext id="S3.E10.m1.1.1.1.1.4.3.cmml" mathsize="70%" xref="S3.E10.m1.1.1.1.1.4.3">
                 rbt
                </mtext>
               </ci>
              </apply>
              <apply id="S3.E10.m1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.2">
               <minus id="S3.E10.m1.1.1.1.1.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2">
               </minus>
               <apply id="S3.E10.m1.1.1.1.1.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2">
                <times id="S3.E10.m1.1.1.1.1.2.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.3">
                </times>
                <apply id="S3.E10.m1.1.1.1.1.2.2.4.cmml" xref="S3.E10.m1.1.1.1.1.2.2.4">
                 <divide id="S3.E10.m1.1.1.1.1.2.2.4.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.4">
                 </divide>
                 <cn id="S3.E10.m1.1.1.1.1.2.2.4.2.cmml" type="integer" xref="S3.E10.m1.1.1.1.1.2.2.4.2">
                  1
                 </cn>
                 <ci id="S3.E10.m1.1.1.1.1.2.2.4.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.4.3">
                  𝑁
                 </ci>
                </apply>
                <apply id="S3.E10.m1.1.1.1.1.2.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2">
                 <apply id="S3.E10.m1.1.1.1.1.2.2.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.3">
                  <csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.3">
                   superscript
                  </csymbol>
                  <apply id="S3.E10.m1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.3">
                   <csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.2.2.2.3.2.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.3">
                    subscript
                   </csymbol>
                   <sum id="S3.E10.m1.1.1.1.1.2.2.2.3.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.3.2.2">
                   </sum>
                   <ci id="S3.E10.m1.1.1.1.1.2.2.2.3.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.3.2.3">
                    𝑚
                   </ci>
                  </apply>
                  <ci id="S3.E10.m1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.3.3">
                   𝐾
                  </ci>
                 </apply>
                 <apply id="S3.E10.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2">
                  <apply id="S3.E10.m1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.3">
                   <csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.2.2.2.2.3.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.3">
                    superscript
                   </csymbol>
                   <apply id="S3.E10.m1.1.1.1.1.2.2.2.2.3.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.3">
                    <csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.2.2.2.2.3.2.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.3">
                     subscript
                    </csymbol>
                    <sum id="S3.E10.m1.1.1.1.1.2.2.2.2.3.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.3.2.2">
                    </sum>
                    <ci id="S3.E10.m1.1.1.1.1.2.2.2.2.3.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.3.2.3">
                     𝑛
                    </ci>
                   </apply>
                   <ci id="S3.E10.m1.1.1.1.1.2.2.2.2.3.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.3.3">
                    𝐾
                   </ci>
                  </apply>
                  <apply id="S3.E10.m1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2">
                   <times id="S3.E10.m1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.3">
                   </times>
                   <apply id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4">
                    <csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4">
                     subscript
                    </csymbol>
                    <ci id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.2">
                     ℒ
                    </ci>
                    <apply id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3">
                     <times id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.1">
                     </times>
                     <ci id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.2">
                      𝐽
                     </ci>
                     <ci id="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.4.3.3">
                      𝑆
                     </ci>
                    </apply>
                   </apply>
                   <interval closure="open" id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2">
                    <apply id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1">
                     <csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1">
                      subscript
                     </csymbol>
                     <apply id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1">
                      <csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1">
                       superscript
                      </csymbol>
                      <apply id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">
                       <ci id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1">
                        bold-^
                       </ci>
                       <ci id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2">
                        𝒚
                       </ci>
                      </apply>
                      <ci id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">
                       𝑚
                      </ci>
                     </apply>
                     <ci id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">
                      𝑖
                     </ci>
                    </apply>
                    <apply id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2">
                     <csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2">
                      subscript
                     </csymbol>
                     <apply id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2">
                      <csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2">
                       superscript
                      </csymbol>
                      <apply id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2">
                       <ci id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2.1">
                        bold-^
                       </ci>
                       <ci id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.2.2">
                        𝒚
                       </ci>
                      </apply>
                      <ci id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.2.3">
                       𝑛
                      </ci>
                     </apply>
                     <ci id="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2.2.2.2.2.3">
                      𝑖
                     </ci>
                    </apply>
                   </interval>
                  </apply>
                 </apply>
                </apply>
               </apply>
              </apply>
             </apply>
             <apply id="S3.E10.m1.2.2.2.2.cmml" xref="S3.E10.m1.2.2.2.2">
              <lt id="S3.E10.m1.2.2.2.2.1.cmml" xref="S3.E10.m1.2.2.2.2.1">
              </lt>
              <ci id="S3.E10.m1.2.2.2.2.2.cmml" xref="S3.E10.m1.2.2.2.2.2">
               𝑚
              </ci>
              <ci id="S3.E10.m1.2.2.2.2.3.cmml" xref="S3.E10.m1.2.2.2.2.3">
               𝑛
              </ci>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E10.m1.2c">
            \mathcal{L}_{\text{rbt}}=-\frac{1}{N}\sum_{m}^{K}\sum_{n}^{K}\mathcal{L}_{JS}(\boldsymbol{\hat{y}}^{m}_{i},\boldsymbol{\hat{y}}^{n}_{i}),m&lt;n
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (10)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS3.p5.1">
      minimizing
      <math alttext="\mathcal{L}_{\text{rbt}}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p5.1.m1.1">
       <semantics id="S3.SS3.SSS3.p5.1.m1.1a">
        <msub id="S3.SS3.SSS3.p5.1.m1.1.1" xref="S3.SS3.SSS3.p5.1.m1.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS3.p5.1.m1.1.1.2" xref="S3.SS3.SSS3.p5.1.m1.1.1.2.cmml">
          ℒ
         </mi>
         <mtext id="S3.SS3.SSS3.p5.1.m1.1.1.3" xref="S3.SS3.SSS3.p5.1.m1.1.1.3a.cmml">
          rbt
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p5.1.m1.1b">
         <apply id="S3.SS3.SSS3.p5.1.m1.1.1.cmml" xref="S3.SS3.SSS3.p5.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS3.p5.1.m1.1.1.1.cmml" xref="S3.SS3.SSS3.p5.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS3.p5.1.m1.1.1.2.cmml" xref="S3.SS3.SSS3.p5.1.m1.1.1.2">
           ℒ
          </ci>
          <ci id="S3.SS3.SSS3.p5.1.m1.1.1.3a.cmml" xref="S3.SS3.SSS3.p5.1.m1.1.1.3">
           <mtext id="S3.SS3.SSS3.p5.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS3.p5.1.m1.1.1.3">
            rbt
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p5.1.m1.1c">
         \mathcal{L}_{\text{rbt}}
        </annotation>
       </semantics>
      </math>
      will reduce the discrepancy between each agent pair distribution. This way, we implicitly align representations of each agent and satisfy the robustness property.
     </p>
    </div>
    <div class="ltx_para" id="S3.SS3.SSS3.p6">
     <p class="ltx_p" id="S3.SS3.SSS3.p6.2">
      Then we combine
      <math alttext="\mathcal{L}_{\text{rbt}}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p6.1.m1.1">
       <semantics id="S3.SS3.SSS3.p6.1.m1.1a">
        <msub id="S3.SS3.SSS3.p6.1.m1.1.1" xref="S3.SS3.SSS3.p6.1.m1.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS3.p6.1.m1.1.1.2" xref="S3.SS3.SSS3.p6.1.m1.1.1.2.cmml">
          ℒ
         </mi>
         <mtext id="S3.SS3.SSS3.p6.1.m1.1.1.3" xref="S3.SS3.SSS3.p6.1.m1.1.1.3a.cmml">
          rbt
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p6.1.m1.1b">
         <apply id="S3.SS3.SSS3.p6.1.m1.1.1.cmml" xref="S3.SS3.SSS3.p6.1.m1.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS3.p6.1.m1.1.1.1.cmml" xref="S3.SS3.SSS3.p6.1.m1.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS3.p6.1.m1.1.1.2.cmml" xref="S3.SS3.SSS3.p6.1.m1.1.1.2">
           ℒ
          </ci>
          <ci id="S3.SS3.SSS3.p6.1.m1.1.1.3a.cmml" xref="S3.SS3.SSS3.p6.1.m1.1.1.3">
           <mtext id="S3.SS3.SSS3.p6.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS3.p6.1.m1.1.1.3">
            rbt
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p6.1.m1.1c">
         \mathcal{L}_{\text{rbt}}
        </annotation>
       </semantics>
      </math>
      and
      <math alttext="\mathcal{L}_{\text{acc}}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p6.2.m2.1">
       <semantics id="S3.SS3.SSS3.p6.2.m2.1a">
        <msub id="S3.SS3.SSS3.p6.2.m2.1.1" xref="S3.SS3.SSS3.p6.2.m2.1.1.cmml">
         <mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS3.p6.2.m2.1.1.2" xref="S3.SS3.SSS3.p6.2.m2.1.1.2.cmml">
          ℒ
         </mi>
         <mtext id="S3.SS3.SSS3.p6.2.m2.1.1.3" xref="S3.SS3.SSS3.p6.2.m2.1.1.3a.cmml">
          acc
         </mtext>
        </msub>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p6.2.m2.1b">
         <apply id="S3.SS3.SSS3.p6.2.m2.1.1.cmml" xref="S3.SS3.SSS3.p6.2.m2.1.1">
          <csymbol cd="ambiguous" id="S3.SS3.SSS3.p6.2.m2.1.1.1.cmml" xref="S3.SS3.SSS3.p6.2.m2.1.1">
           subscript
          </csymbol>
          <ci id="S3.SS3.SSS3.p6.2.m2.1.1.2.cmml" xref="S3.SS3.SSS3.p6.2.m2.1.1.2">
           ℒ
          </ci>
          <ci id="S3.SS3.SSS3.p6.2.m2.1.1.3a.cmml" xref="S3.SS3.SSS3.p6.2.m2.1.1.3">
           <mtext id="S3.SS3.SSS3.p6.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS3.SSS3.p6.2.m2.1.1.3">
            acc
           </mtext>
          </ci>
         </apply>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p6.2.m2.1c">
         \mathcal{L}_{\text{acc}}
        </annotation>
       </semantics>
      </math>
      to get the total loss
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S3.E11">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="\mathcal{L}_{\text{total}}=\mathcal{L}_{\text{acc}}+\alpha\mathcal{L}_{\text{rbt}}" class="ltx_Math" display="block" id="S3.E11.m1.1">
          <semantics id="S3.E11.m1.1a">
           <mrow id="S3.E11.m1.1.1" xref="S3.E11.m1.1.1.cmml">
            <msub id="S3.E11.m1.1.1.2" xref="S3.E11.m1.1.1.2.cmml">
             <mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.1.1.2.2" xref="S3.E11.m1.1.1.2.2.cmml">
              ℒ
             </mi>
             <mtext id="S3.E11.m1.1.1.2.3" xref="S3.E11.m1.1.1.2.3a.cmml">
              total
             </mtext>
            </msub>
            <mo id="S3.E11.m1.1.1.1" xref="S3.E11.m1.1.1.1.cmml">
             =
            </mo>
            <mrow id="S3.E11.m1.1.1.3" xref="S3.E11.m1.1.1.3.cmml">
             <msub id="S3.E11.m1.1.1.3.2" xref="S3.E11.m1.1.1.3.2.cmml">
              <mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.1.1.3.2.2" xref="S3.E11.m1.1.1.3.2.2.cmml">
               ℒ
              </mi>
              <mtext id="S3.E11.m1.1.1.3.2.3" xref="S3.E11.m1.1.1.3.2.3a.cmml">
               acc
              </mtext>
             </msub>
             <mo id="S3.E11.m1.1.1.3.1" xref="S3.E11.m1.1.1.3.1.cmml">
              +
             </mo>
             <mrow id="S3.E11.m1.1.1.3.3" xref="S3.E11.m1.1.1.3.3.cmml">
              <mi id="S3.E11.m1.1.1.3.3.2" xref="S3.E11.m1.1.1.3.3.2.cmml">
               α
              </mi>
              <mo id="S3.E11.m1.1.1.3.3.1" lspace="0em" rspace="0em" xref="S3.E11.m1.1.1.3.3.1.cmml">
               ​
              </mo>
              <msub id="S3.E11.m1.1.1.3.3.3" xref="S3.E11.m1.1.1.3.3.3.cmml">
               <mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.1.1.3.3.3.2" xref="S3.E11.m1.1.1.3.3.3.2.cmml">
                ℒ
               </mi>
               <mtext id="S3.E11.m1.1.1.3.3.3.3" xref="S3.E11.m1.1.1.3.3.3.3a.cmml">
                rbt
               </mtext>
              </msub>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S3.E11.m1.1b">
            <apply id="S3.E11.m1.1.1.cmml" xref="S3.E11.m1.1.1">
             <eq id="S3.E11.m1.1.1.1.cmml" xref="S3.E11.m1.1.1.1">
             </eq>
             <apply id="S3.E11.m1.1.1.2.cmml" xref="S3.E11.m1.1.1.2">
              <csymbol cd="ambiguous" id="S3.E11.m1.1.1.2.1.cmml" xref="S3.E11.m1.1.1.2">
               subscript
              </csymbol>
              <ci id="S3.E11.m1.1.1.2.2.cmml" xref="S3.E11.m1.1.1.2.2">
               ℒ
              </ci>
              <ci id="S3.E11.m1.1.1.2.3a.cmml" xref="S3.E11.m1.1.1.2.3">
               <mtext id="S3.E11.m1.1.1.2.3.cmml" mathsize="70%" xref="S3.E11.m1.1.1.2.3">
                total
               </mtext>
              </ci>
             </apply>
             <apply id="S3.E11.m1.1.1.3.cmml" xref="S3.E11.m1.1.1.3">
              <plus id="S3.E11.m1.1.1.3.1.cmml" xref="S3.E11.m1.1.1.3.1">
              </plus>
              <apply id="S3.E11.m1.1.1.3.2.cmml" xref="S3.E11.m1.1.1.3.2">
               <csymbol cd="ambiguous" id="S3.E11.m1.1.1.3.2.1.cmml" xref="S3.E11.m1.1.1.3.2">
                subscript
               </csymbol>
               <ci id="S3.E11.m1.1.1.3.2.2.cmml" xref="S3.E11.m1.1.1.3.2.2">
                ℒ
               </ci>
               <ci id="S3.E11.m1.1.1.3.2.3a.cmml" xref="S3.E11.m1.1.1.3.2.3">
                <mtext id="S3.E11.m1.1.1.3.2.3.cmml" mathsize="70%" xref="S3.E11.m1.1.1.3.2.3">
                 acc
                </mtext>
               </ci>
              </apply>
              <apply id="S3.E11.m1.1.1.3.3.cmml" xref="S3.E11.m1.1.1.3.3">
               <times id="S3.E11.m1.1.1.3.3.1.cmml" xref="S3.E11.m1.1.1.3.3.1">
               </times>
               <ci id="S3.E11.m1.1.1.3.3.2.cmml" xref="S3.E11.m1.1.1.3.3.2">
                𝛼
               </ci>
               <apply id="S3.E11.m1.1.1.3.3.3.cmml" xref="S3.E11.m1.1.1.3.3.3">
                <csymbol cd="ambiguous" id="S3.E11.m1.1.1.3.3.3.1.cmml" xref="S3.E11.m1.1.1.3.3.3">
                 subscript
                </csymbol>
                <ci id="S3.E11.m1.1.1.3.3.3.2.cmml" xref="S3.E11.m1.1.1.3.3.3.2">
                 ℒ
                </ci>
                <ci id="S3.E11.m1.1.1.3.3.3.3a.cmml" xref="S3.E11.m1.1.1.3.3.3.3">
                 <mtext id="S3.E11.m1.1.1.3.3.3.3.cmml" mathsize="70%" xref="S3.E11.m1.1.1.3.3.3.3">
                  rbt
                 </mtext>
                </ci>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S3.E11.m1.1c">
            \mathcal{L}_{\text{total}}=\mathcal{L}_{\text{acc}}+\alpha\mathcal{L}_{\text{rbt}}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (11)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S3.SS3.SSS3.p6.3">
      The parameter
      <math alttext="\alpha" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p6.3.m1.1">
       <semantics id="S3.SS3.SSS3.p6.3.m1.1a">
        <mi id="S3.SS3.SSS3.p6.3.m1.1.1" xref="S3.SS3.SSS3.p6.3.m1.1.1.cmml">
         α
        </mi>
        <annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p6.3.m1.1b">
         <ci id="S3.SS3.SSS3.p6.3.m1.1.1.cmml" xref="S3.SS3.SSS3.p6.3.m1.1.1">
          𝛼
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S3.SS3.SSS3.p6.3.m1.1c">
         \alpha
        </annotation>
       </semantics>
      </math>
      represents a tunable hyperparameter, instrumental in balancing between accuracy and robustness loss. Through this synergistic combination of losses, we successfully attain all the targeted properties of our model.
     </p>
    </div>
   </section>
  </section>
 </section>
 <section class="ltx_section" id="S4">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    IV
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S4.1.1">
    Experiment
   </span>
  </h2>
  <div class="ltx_para" id="S4.p1">
   <p class="ltx_p" id="S4.p1.1">
    We conduct thorough experiments to assess our proposed framework. The section will begin by describing the dataset, outlining the baseline models, and specifying the metrics employed for evaluation. Following this, we will delve into the evaluation of queries and the examination of model performance. Additionally, we will present results for ablation experiments and the impact of hyperparameters.
   </p>
  </div>
  <section class="ltx_subsection" id="S4.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS1.4.1.1">
      IV-A
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS1.5.2">
     Datasets Description
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS1.p1">
    <p class="ltx_p" id="S4.SS1.p1.1">
     We conduct experiments on two datasets: one public dataset Robust04 and one industrial dataset from Baidu.
    </p>
    <ul class="ltx_itemize" id="S4.I1">
     <li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S4.I1.i1.p1">
       <p class="ltx_p" id="S4.I1.i1.p1.1">
        <span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.1">
         Robust04
         <span class="ltx_note ltx_role_footnote" id="footnote1">
          <sup class="ltx_note_mark">
           1
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             1
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnote1.1.1.1">
              1
             </span>
            </span>
            <span class="ltx_text ltx_font_medium" id="footnote1.4">
             https://trec.nist.gov/data/robust/04.guidelines.html
            </span>
           </span>
          </span>
         </span>
        </span>
        :
The Robust04 dataset was specifically developed for the TREC 2004 Robust Track, a component of the Text Retrieval Conference (TREC) series. This dataset comprises 249 queries, each associated with relevance judgments on a collection of 528K documents.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S4.I1.i2.p1">
       <p class="ltx_p" id="S4.I1.i2.p1.1">
        <span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.1.1">
         Industrial Dataset
        </span>
        :
The industrial dataset we employed is a Chinese language dataset, which was sourced from user video search data collected from Baidu, the largest search engine platform in China. In this dataset, the queries and documents were extracted from real-world search logs, and the corpus corresponds to the documents generated through OCR recognition of the associated video URLs. The dataset comprises 16K queries and 430K documents.
       </p>
      </div>
     </li>
    </ul>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS2.4.1.1">
      IV-B
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS2.5.2">
     Baseline
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS2.p1">
    <p class="ltx_p" id="S4.SS2.p1.1">
     During our experiment, we use the following baselines:
    </p>
   </div>
   <div class="ltx_para" id="S4.SS2.p2">
    <ul class="ltx_itemize" id="S4.I2">
     <li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S4.I2.i1.p1">
       <p class="ltx_p" id="S4.I2.i1.p1.1">
        <span class="ltx_text ltx_font_bold" id="S4.I2.i1.p1.1.1">
         BM25
        </span>
        <cite class="ltx_cite ltx_citemacro_cite">
         [
         <a class="ltx_ref" href="#bib.bib34" title="">
          34
         </a>
         ]
        </cite>
        :
BM25 is a straightforward yet powerful bag-of-words retrieval model that calculates relevance scores based on query term frequency, inverse document frequency, and document length.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S4.I2.i2.p1">
       <p class="ltx_p" id="S4.I2.i2.p1.1">
        <span class="ltx_text ltx_font_bold" id="S4.I2.i2.p1.1.1">
         ANCE
        </span>
        <cite class="ltx_cite ltx_citemacro_cite">
         [
         <a class="ltx_ref" href="#bib.bib35" title="">
          35
         </a>
         ]
        </cite>
        :
ANCE uses an approximate nearest neighbor index for hard negative sample selection, integrated with model fine-tuning for dynamic training updates, leading to faster convergence, improved retrieval performance, and efficient utilization of computational resources.
       </p>
      </div>
     </li>
    </ul>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS3">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS3.4.1.1">
      IV-C
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS3.5.2">
     Evaluation Metric
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS3.p1">
    <p class="ltx_p" id="S4.SS3.p1.1">
     To comprehensively assess our results, we employed both effectiveness and robustness evaluation metrics.
    </p>
   </div>
   <section class="ltx_subsubsection" id="S4.SS3.SSS1">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      <span class="ltx_text" id="S4.SS3.SSS1.4.1.1">
       IV-C
      </span>
      1
     </span>
     Effectiveness Metric
    </h4>
    <div class="ltx_para" id="S4.SS3.SSS1.p1">
     <p class="ltx_p" id="S4.SS3.SSS1.p1.1">
      For effectiveness, we select the NDCG@N and MAP to evaluate effectiveness.
     </p>
    </div>
   </section>
   <section class="ltx_subsubsection" id="S4.SS3.SSS2">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      <span class="ltx_text" id="S4.SS3.SSS2.4.1.1">
       IV-C
      </span>
      2
     </span>
     Robustness Metric
    </h4>
    <div class="ltx_para" id="S4.SS3.SSS2.p1">
     <p class="ltx_p" id="S4.SS3.SSS2.p1.3">
      Following the previous work
      <cite class="ltx_cite ltx_citemacro_cite">
       [
       <a class="ltx_ref" href="#bib.bib36" title="">
        36
       </a>
       ]
      </cite>
      , we select the Variance of Normalized Average Precision (VNAP) as a robustness evaluation metric. Furthermore, we introduce the Variance of Normalized Discounted Cumulative Gain (VNDCG) for a comprehensive joint assessment. We use these two metrics to evaluate robustness performance across different agents. Mathematically, these metrics can be elaborated as follows
     </p>
     <table class="ltx_equation ltx_eqn_table" id="S4.Ex3">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="NAP(q)=\frac{AP(q)}{E(AP(q))}" class="ltx_Math" display="block" id="S4.Ex3.m1.4">
          <semantics id="S4.Ex3.m1.4a">
           <mrow id="S4.Ex3.m1.4.5" xref="S4.Ex3.m1.4.5.cmml">
            <mrow id="S4.Ex3.m1.4.5.2" xref="S4.Ex3.m1.4.5.2.cmml">
             <mi id="S4.Ex3.m1.4.5.2.2" xref="S4.Ex3.m1.4.5.2.2.cmml">
              N
             </mi>
             <mo id="S4.Ex3.m1.4.5.2.1" lspace="0em" rspace="0em" xref="S4.Ex3.m1.4.5.2.1.cmml">
              ​
             </mo>
             <mi id="S4.Ex3.m1.4.5.2.3" xref="S4.Ex3.m1.4.5.2.3.cmml">
              A
             </mi>
             <mo id="S4.Ex3.m1.4.5.2.1a" lspace="0em" rspace="0em" xref="S4.Ex3.m1.4.5.2.1.cmml">
              ​
             </mo>
             <mi id="S4.Ex3.m1.4.5.2.4" xref="S4.Ex3.m1.4.5.2.4.cmml">
              P
             </mi>
             <mo id="S4.Ex3.m1.4.5.2.1b" lspace="0em" rspace="0em" xref="S4.Ex3.m1.4.5.2.1.cmml">
              ​
             </mo>
             <mrow id="S4.Ex3.m1.4.5.2.5.2" xref="S4.Ex3.m1.4.5.2.cmml">
              <mo id="S4.Ex3.m1.4.5.2.5.2.1" stretchy="false" xref="S4.Ex3.m1.4.5.2.cmml">
               (
              </mo>
              <mi id="S4.Ex3.m1.4.4" xref="S4.Ex3.m1.4.4.cmml">
               q
              </mi>
              <mo id="S4.Ex3.m1.4.5.2.5.2.2" stretchy="false" xref="S4.Ex3.m1.4.5.2.cmml">
               )
              </mo>
             </mrow>
            </mrow>
            <mo id="S4.Ex3.m1.4.5.1" xref="S4.Ex3.m1.4.5.1.cmml">
             =
            </mo>
            <mfrac id="S4.Ex3.m1.3.3" xref="S4.Ex3.m1.3.3.cmml">
             <mrow id="S4.Ex3.m1.1.1.1" xref="S4.Ex3.m1.1.1.1.cmml">
              <mi id="S4.Ex3.m1.1.1.1.3" xref="S4.Ex3.m1.1.1.1.3.cmml">
               A
              </mi>
              <mo id="S4.Ex3.m1.1.1.1.2" lspace="0em" rspace="0em" xref="S4.Ex3.m1.1.1.1.2.cmml">
               ​
              </mo>
              <mi id="S4.Ex3.m1.1.1.1.4" xref="S4.Ex3.m1.1.1.1.4.cmml">
               P
              </mi>
              <mo id="S4.Ex3.m1.1.1.1.2a" lspace="0em" rspace="0em" xref="S4.Ex3.m1.1.1.1.2.cmml">
               ​
              </mo>
              <mrow id="S4.Ex3.m1.1.1.1.5.2" xref="S4.Ex3.m1.1.1.1.cmml">
               <mo id="S4.Ex3.m1.1.1.1.5.2.1" stretchy="false" xref="S4.Ex3.m1.1.1.1.cmml">
                (
               </mo>
               <mi id="S4.Ex3.m1.1.1.1.1" xref="S4.Ex3.m1.1.1.1.1.cmml">
                q
               </mi>
               <mo id="S4.Ex3.m1.1.1.1.5.2.2" stretchy="false" xref="S4.Ex3.m1.1.1.1.cmml">
                )
               </mo>
              </mrow>
             </mrow>
             <mrow id="S4.Ex3.m1.3.3.3" xref="S4.Ex3.m1.3.3.3.cmml">
              <mi id="S4.Ex3.m1.3.3.3.4" xref="S4.Ex3.m1.3.3.3.4.cmml">
               E
              </mi>
              <mo id="S4.Ex3.m1.3.3.3.3" lspace="0em" rspace="0em" xref="S4.Ex3.m1.3.3.3.3.cmml">
               ​
              </mo>
              <mrow id="S4.Ex3.m1.3.3.3.2.1" xref="S4.Ex3.m1.3.3.3.2.1.1.cmml">
               <mo id="S4.Ex3.m1.3.3.3.2.1.2" stretchy="false" xref="S4.Ex3.m1.3.3.3.2.1.1.cmml">
                (
               </mo>
               <mrow id="S4.Ex3.m1.3.3.3.2.1.1" xref="S4.Ex3.m1.3.3.3.2.1.1.cmml">
                <mi id="S4.Ex3.m1.3.3.3.2.1.1.2" xref="S4.Ex3.m1.3.3.3.2.1.1.2.cmml">
                 A
                </mi>
                <mo id="S4.Ex3.m1.3.3.3.2.1.1.1" lspace="0em" rspace="0em" xref="S4.Ex3.m1.3.3.3.2.1.1.1.cmml">
                 ​
                </mo>
                <mi id="S4.Ex3.m1.3.3.3.2.1.1.3" xref="S4.Ex3.m1.3.3.3.2.1.1.3.cmml">
                 P
                </mi>
                <mo id="S4.Ex3.m1.3.3.3.2.1.1.1a" lspace="0em" rspace="0em" xref="S4.Ex3.m1.3.3.3.2.1.1.1.cmml">
                 ​
                </mo>
                <mrow id="S4.Ex3.m1.3.3.3.2.1.1.4.2" xref="S4.Ex3.m1.3.3.3.2.1.1.cmml">
                 <mo id="S4.Ex3.m1.3.3.3.2.1.1.4.2.1" stretchy="false" xref="S4.Ex3.m1.3.3.3.2.1.1.cmml">
                  (
                 </mo>
                 <mi id="S4.Ex3.m1.2.2.2.1" xref="S4.Ex3.m1.2.2.2.1.cmml">
                  q
                 </mi>
                 <mo id="S4.Ex3.m1.3.3.3.2.1.1.4.2.2" stretchy="false" xref="S4.Ex3.m1.3.3.3.2.1.1.cmml">
                  )
                 </mo>
                </mrow>
               </mrow>
               <mo id="S4.Ex3.m1.3.3.3.2.1.3" stretchy="false" xref="S4.Ex3.m1.3.3.3.2.1.1.cmml">
                )
               </mo>
              </mrow>
             </mrow>
            </mfrac>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S4.Ex3.m1.4b">
            <apply id="S4.Ex3.m1.4.5.cmml" xref="S4.Ex3.m1.4.5">
             <eq id="S4.Ex3.m1.4.5.1.cmml" xref="S4.Ex3.m1.4.5.1">
             </eq>
             <apply id="S4.Ex3.m1.4.5.2.cmml" xref="S4.Ex3.m1.4.5.2">
              <times id="S4.Ex3.m1.4.5.2.1.cmml" xref="S4.Ex3.m1.4.5.2.1">
              </times>
              <ci id="S4.Ex3.m1.4.5.2.2.cmml" xref="S4.Ex3.m1.4.5.2.2">
               𝑁
              </ci>
              <ci id="S4.Ex3.m1.4.5.2.3.cmml" xref="S4.Ex3.m1.4.5.2.3">
               𝐴
              </ci>
              <ci id="S4.Ex3.m1.4.5.2.4.cmml" xref="S4.Ex3.m1.4.5.2.4">
               𝑃
              </ci>
              <ci id="S4.Ex3.m1.4.4.cmml" xref="S4.Ex3.m1.4.4">
               𝑞
              </ci>
             </apply>
             <apply id="S4.Ex3.m1.3.3.cmml" xref="S4.Ex3.m1.3.3">
              <divide id="S4.Ex3.m1.3.3.4.cmml" xref="S4.Ex3.m1.3.3">
              </divide>
              <apply id="S4.Ex3.m1.1.1.1.cmml" xref="S4.Ex3.m1.1.1.1">
               <times id="S4.Ex3.m1.1.1.1.2.cmml" xref="S4.Ex3.m1.1.1.1.2">
               </times>
               <ci id="S4.Ex3.m1.1.1.1.3.cmml" xref="S4.Ex3.m1.1.1.1.3">
                𝐴
               </ci>
               <ci id="S4.Ex3.m1.1.1.1.4.cmml" xref="S4.Ex3.m1.1.1.1.4">
                𝑃
               </ci>
               <ci id="S4.Ex3.m1.1.1.1.1.cmml" xref="S4.Ex3.m1.1.1.1.1">
                𝑞
               </ci>
              </apply>
              <apply id="S4.Ex3.m1.3.3.3.cmml" xref="S4.Ex3.m1.3.3.3">
               <times id="S4.Ex3.m1.3.3.3.3.cmml" xref="S4.Ex3.m1.3.3.3.3">
               </times>
               <ci id="S4.Ex3.m1.3.3.3.4.cmml" xref="S4.Ex3.m1.3.3.3.4">
                𝐸
               </ci>
               <apply id="S4.Ex3.m1.3.3.3.2.1.1.cmml" xref="S4.Ex3.m1.3.3.3.2.1">
                <times id="S4.Ex3.m1.3.3.3.2.1.1.1.cmml" xref="S4.Ex3.m1.3.3.3.2.1.1.1">
                </times>
                <ci id="S4.Ex3.m1.3.3.3.2.1.1.2.cmml" xref="S4.Ex3.m1.3.3.3.2.1.1.2">
                 𝐴
                </ci>
                <ci id="S4.Ex3.m1.3.3.3.2.1.1.3.cmml" xref="S4.Ex3.m1.3.3.3.2.1.1.3">
                 𝑃
                </ci>
                <ci id="S4.Ex3.m1.2.2.2.1.cmml" xref="S4.Ex3.m1.2.2.2.1">
                 𝑞
                </ci>
               </apply>
              </apply>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.Ex3.m1.4c">
            NAP(q)=\frac{AP(q)}{E(AP(q))}
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
       </tr>
      </tbody>
     </table>
     <table class="ltx_equation ltx_eqn_table" id="S4.E12">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="VNAP=\mathbb{V}(NAP_{1}(q),...,NAP_{K}(q))" class="ltx_Math" display="block" id="S4.E12.m1.5">
          <semantics id="S4.E12.m1.5a">
           <mrow id="S4.E12.m1.5.5" xref="S4.E12.m1.5.5.cmml">
            <mrow id="S4.E12.m1.5.5.4" xref="S4.E12.m1.5.5.4.cmml">
             <mi id="S4.E12.m1.5.5.4.2" xref="S4.E12.m1.5.5.4.2.cmml">
              V
             </mi>
             <mo id="S4.E12.m1.5.5.4.1" lspace="0em" rspace="0em" xref="S4.E12.m1.5.5.4.1.cmml">
              ​
             </mo>
             <mi id="S4.E12.m1.5.5.4.3" xref="S4.E12.m1.5.5.4.3.cmml">
              N
             </mi>
             <mo id="S4.E12.m1.5.5.4.1a" lspace="0em" rspace="0em" xref="S4.E12.m1.5.5.4.1.cmml">
              ​
             </mo>
             <mi id="S4.E12.m1.5.5.4.4" xref="S4.E12.m1.5.5.4.4.cmml">
              A
             </mi>
             <mo id="S4.E12.m1.5.5.4.1b" lspace="0em" rspace="0em" xref="S4.E12.m1.5.5.4.1.cmml">
              ​
             </mo>
             <mi id="S4.E12.m1.5.5.4.5" xref="S4.E12.m1.5.5.4.5.cmml">
              P
             </mi>
            </mrow>
            <mo id="S4.E12.m1.5.5.3" xref="S4.E12.m1.5.5.3.cmml">
             =
            </mo>
            <mrow id="S4.E12.m1.5.5.2" xref="S4.E12.m1.5.5.2.cmml">
             <mi id="S4.E12.m1.5.5.2.4" xref="S4.E12.m1.5.5.2.4.cmml">
              𝕍
             </mi>
             <mo id="S4.E12.m1.5.5.2.3" lspace="0em" rspace="0em" xref="S4.E12.m1.5.5.2.3.cmml">
              ​
             </mo>
             <mrow id="S4.E12.m1.5.5.2.2.2" xref="S4.E12.m1.5.5.2.2.3.cmml">
              <mo id="S4.E12.m1.5.5.2.2.2.3" stretchy="false" xref="S4.E12.m1.5.5.2.2.3.cmml">
               (
              </mo>
              <mrow id="S4.E12.m1.4.4.1.1.1.1" xref="S4.E12.m1.4.4.1.1.1.1.cmml">
               <mi id="S4.E12.m1.4.4.1.1.1.1.2" xref="S4.E12.m1.4.4.1.1.1.1.2.cmml">
                N
               </mi>
               <mo id="S4.E12.m1.4.4.1.1.1.1.1" lspace="0em" rspace="0em" xref="S4.E12.m1.4.4.1.1.1.1.1.cmml">
                ​
               </mo>
               <mi id="S4.E12.m1.4.4.1.1.1.1.3" xref="S4.E12.m1.4.4.1.1.1.1.3.cmml">
                A
               </mi>
               <mo id="S4.E12.m1.4.4.1.1.1.1.1a" lspace="0em" rspace="0em" xref="S4.E12.m1.4.4.1.1.1.1.1.cmml">
                ​
               </mo>
               <msub id="S4.E12.m1.4.4.1.1.1.1.4" xref="S4.E12.m1.4.4.1.1.1.1.4.cmml">
                <mi id="S4.E12.m1.4.4.1.1.1.1.4.2" xref="S4.E12.m1.4.4.1.1.1.1.4.2.cmml">
                 P
                </mi>
                <mn id="S4.E12.m1.4.4.1.1.1.1.4.3" xref="S4.E12.m1.4.4.1.1.1.1.4.3.cmml">
                 1
                </mn>
               </msub>
               <mo id="S4.E12.m1.4.4.1.1.1.1.1b" lspace="0em" rspace="0em" xref="S4.E12.m1.4.4.1.1.1.1.1.cmml">
                ​
               </mo>
               <mrow id="S4.E12.m1.4.4.1.1.1.1.5.2" xref="S4.E12.m1.4.4.1.1.1.1.cmml">
                <mo id="S4.E12.m1.4.4.1.1.1.1.5.2.1" stretchy="false" xref="S4.E12.m1.4.4.1.1.1.1.cmml">
                 (
                </mo>
                <mi id="S4.E12.m1.1.1" xref="S4.E12.m1.1.1.cmml">
                 q
                </mi>
                <mo id="S4.E12.m1.4.4.1.1.1.1.5.2.2" stretchy="false" xref="S4.E12.m1.4.4.1.1.1.1.cmml">
                 )
                </mo>
               </mrow>
              </mrow>
              <mo id="S4.E12.m1.5.5.2.2.2.4" xref="S4.E12.m1.5.5.2.2.3.cmml">
               ,
              </mo>
              <mi id="S4.E12.m1.3.3" mathvariant="normal" xref="S4.E12.m1.3.3.cmml">
               …
              </mi>
              <mo id="S4.E12.m1.5.5.2.2.2.5" xref="S4.E12.m1.5.5.2.2.3.cmml">
               ,
              </mo>
              <mrow id="S4.E12.m1.5.5.2.2.2.2" xref="S4.E12.m1.5.5.2.2.2.2.cmml">
               <mi id="S4.E12.m1.5.5.2.2.2.2.2" xref="S4.E12.m1.5.5.2.2.2.2.2.cmml">
                N
               </mi>
               <mo id="S4.E12.m1.5.5.2.2.2.2.1" lspace="0em" rspace="0em" xref="S4.E12.m1.5.5.2.2.2.2.1.cmml">
                ​
               </mo>
               <mi id="S4.E12.m1.5.5.2.2.2.2.3" xref="S4.E12.m1.5.5.2.2.2.2.3.cmml">
                A
               </mi>
               <mo id="S4.E12.m1.5.5.2.2.2.2.1a" lspace="0em" rspace="0em" xref="S4.E12.m1.5.5.2.2.2.2.1.cmml">
                ​
               </mo>
               <msub id="S4.E12.m1.5.5.2.2.2.2.4" xref="S4.E12.m1.5.5.2.2.2.2.4.cmml">
                <mi id="S4.E12.m1.5.5.2.2.2.2.4.2" xref="S4.E12.m1.5.5.2.2.2.2.4.2.cmml">
                 P
                </mi>
                <mi id="S4.E12.m1.5.5.2.2.2.2.4.3" xref="S4.E12.m1.5.5.2.2.2.2.4.3.cmml">
                 K
                </mi>
               </msub>
               <mo id="S4.E12.m1.5.5.2.2.2.2.1b" lspace="0em" rspace="0em" xref="S4.E12.m1.5.5.2.2.2.2.1.cmml">
                ​
               </mo>
               <mrow id="S4.E12.m1.5.5.2.2.2.2.5.2" xref="S4.E12.m1.5.5.2.2.2.2.cmml">
                <mo id="S4.E12.m1.5.5.2.2.2.2.5.2.1" stretchy="false" xref="S4.E12.m1.5.5.2.2.2.2.cmml">
                 (
                </mo>
                <mi id="S4.E12.m1.2.2" xref="S4.E12.m1.2.2.cmml">
                 q
                </mi>
                <mo id="S4.E12.m1.5.5.2.2.2.2.5.2.2" stretchy="false" xref="S4.E12.m1.5.5.2.2.2.2.cmml">
                 )
                </mo>
               </mrow>
              </mrow>
              <mo id="S4.E12.m1.5.5.2.2.2.6" stretchy="false" xref="S4.E12.m1.5.5.2.2.3.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S4.E12.m1.5b">
            <apply id="S4.E12.m1.5.5.cmml" xref="S4.E12.m1.5.5">
             <eq id="S4.E12.m1.5.5.3.cmml" xref="S4.E12.m1.5.5.3">
             </eq>
             <apply id="S4.E12.m1.5.5.4.cmml" xref="S4.E12.m1.5.5.4">
              <times id="S4.E12.m1.5.5.4.1.cmml" xref="S4.E12.m1.5.5.4.1">
              </times>
              <ci id="S4.E12.m1.5.5.4.2.cmml" xref="S4.E12.m1.5.5.4.2">
               𝑉
              </ci>
              <ci id="S4.E12.m1.5.5.4.3.cmml" xref="S4.E12.m1.5.5.4.3">
               𝑁
              </ci>
              <ci id="S4.E12.m1.5.5.4.4.cmml" xref="S4.E12.m1.5.5.4.4">
               𝐴
              </ci>
              <ci id="S4.E12.m1.5.5.4.5.cmml" xref="S4.E12.m1.5.5.4.5">
               𝑃
              </ci>
             </apply>
             <apply id="S4.E12.m1.5.5.2.cmml" xref="S4.E12.m1.5.5.2">
              <times id="S4.E12.m1.5.5.2.3.cmml" xref="S4.E12.m1.5.5.2.3">
              </times>
              <ci id="S4.E12.m1.5.5.2.4.cmml" xref="S4.E12.m1.5.5.2.4">
               𝕍
              </ci>
              <vector id="S4.E12.m1.5.5.2.2.3.cmml" xref="S4.E12.m1.5.5.2.2.2">
               <apply id="S4.E12.m1.4.4.1.1.1.1.cmml" xref="S4.E12.m1.4.4.1.1.1.1">
                <times id="S4.E12.m1.4.4.1.1.1.1.1.cmml" xref="S4.E12.m1.4.4.1.1.1.1.1">
                </times>
                <ci id="S4.E12.m1.4.4.1.1.1.1.2.cmml" xref="S4.E12.m1.4.4.1.1.1.1.2">
                 𝑁
                </ci>
                <ci id="S4.E12.m1.4.4.1.1.1.1.3.cmml" xref="S4.E12.m1.4.4.1.1.1.1.3">
                 𝐴
                </ci>
                <apply id="S4.E12.m1.4.4.1.1.1.1.4.cmml" xref="S4.E12.m1.4.4.1.1.1.1.4">
                 <csymbol cd="ambiguous" id="S4.E12.m1.4.4.1.1.1.1.4.1.cmml" xref="S4.E12.m1.4.4.1.1.1.1.4">
                  subscript
                 </csymbol>
                 <ci id="S4.E12.m1.4.4.1.1.1.1.4.2.cmml" xref="S4.E12.m1.4.4.1.1.1.1.4.2">
                  𝑃
                 </ci>
                 <cn id="S4.E12.m1.4.4.1.1.1.1.4.3.cmml" type="integer" xref="S4.E12.m1.4.4.1.1.1.1.4.3">
                  1
                 </cn>
                </apply>
                <ci id="S4.E12.m1.1.1.cmml" xref="S4.E12.m1.1.1">
                 𝑞
                </ci>
               </apply>
               <ci id="S4.E12.m1.3.3.cmml" xref="S4.E12.m1.3.3">
                …
               </ci>
               <apply id="S4.E12.m1.5.5.2.2.2.2.cmml" xref="S4.E12.m1.5.5.2.2.2.2">
                <times id="S4.E12.m1.5.5.2.2.2.2.1.cmml" xref="S4.E12.m1.5.5.2.2.2.2.1">
                </times>
                <ci id="S4.E12.m1.5.5.2.2.2.2.2.cmml" xref="S4.E12.m1.5.5.2.2.2.2.2">
                 𝑁
                </ci>
                <ci id="S4.E12.m1.5.5.2.2.2.2.3.cmml" xref="S4.E12.m1.5.5.2.2.2.2.3">
                 𝐴
                </ci>
                <apply id="S4.E12.m1.5.5.2.2.2.2.4.cmml" xref="S4.E12.m1.5.5.2.2.2.2.4">
                 <csymbol cd="ambiguous" id="S4.E12.m1.5.5.2.2.2.2.4.1.cmml" xref="S4.E12.m1.5.5.2.2.2.2.4">
                  subscript
                 </csymbol>
                 <ci id="S4.E12.m1.5.5.2.2.2.2.4.2.cmml" xref="S4.E12.m1.5.5.2.2.2.2.4.2">
                  𝑃
                 </ci>
                 <ci id="S4.E12.m1.5.5.2.2.2.2.4.3.cmml" xref="S4.E12.m1.5.5.2.2.2.2.4.3">
                  𝐾
                 </ci>
                </apply>
                <ci id="S4.E12.m1.2.2.cmml" xref="S4.E12.m1.2.2">
                 𝑞
                </ci>
               </apply>
              </vector>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.E12.m1.5c">
            VNAP=\mathbb{V}(NAP_{1}(q),...,NAP_{K}(q))
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (12)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S4.SS3.SSS2.p1.2">
      where AP denotes the average precision with respect to the query
      <math alttext="q" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.1.m1.1">
       <semantics id="S4.SS3.SSS2.p1.1.m1.1a">
        <mi id="S4.SS3.SSS2.p1.1.m1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.cmml">
         q
        </mi>
        <annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.1.m1.1b">
         <ci id="S4.SS3.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1">
          𝑞
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.1.m1.1c">
         q
        </annotation>
       </semantics>
      </math>
      , NAP denotes the normalized average precision, and VNAP denotes the variance of a list NAP across different
      <math alttext="K" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p1.2.m2.1">
       <semantics id="S4.SS3.SSS2.p1.2.m2.1a">
        <mi id="S4.SS3.SSS2.p1.2.m2.1.1" xref="S4.SS3.SSS2.p1.2.m2.1.1.cmml">
         K
        </mi>
        <annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.2.m2.1b">
         <ci id="S4.SS3.SSS2.p1.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.1">
          𝐾
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.2.m2.1c">
         K
        </annotation>
       </semantics>
      </math>
      agents, and for VNDCG, it is defined as follows
     </p>
    </div>
    <div class="ltx_para" id="S4.SS3.SSS2.p2">
     <table class="ltx_equation ltx_eqn_table" id="S4.E13">
      <tbody>
       <tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
        <td class="ltx_eqn_cell ltx_eqn_center_padleft">
        </td>
        <td class="ltx_eqn_cell ltx_align_center">
         <math alttext="VNDCG@N=\mathbb{V}(NDCG_{1}@N,...,NDCG_{K}@N)" class="ltx_Math" display="block" id="S4.E13.m1.3">
          <semantics id="S4.E13.m1.3a">
           <mrow id="S4.E13.m1.3.3" xref="S4.E13.m1.3.3.cmml">
            <mrow id="S4.E13.m1.3.3.4" xref="S4.E13.m1.3.3.4.cmml">
             <mi id="S4.E13.m1.3.3.4.2" xref="S4.E13.m1.3.3.4.2.cmml">
              V
             </mi>
             <mo id="S4.E13.m1.3.3.4.1" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.4.1.cmml">
              ​
             </mo>
             <mi id="S4.E13.m1.3.3.4.3" xref="S4.E13.m1.3.3.4.3.cmml">
              N
             </mi>
             <mo id="S4.E13.m1.3.3.4.1a" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.4.1.cmml">
              ​
             </mo>
             <mi id="S4.E13.m1.3.3.4.4" xref="S4.E13.m1.3.3.4.4.cmml">
              D
             </mi>
             <mo id="S4.E13.m1.3.3.4.1b" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.4.1.cmml">
              ​
             </mo>
             <mi id="S4.E13.m1.3.3.4.5" xref="S4.E13.m1.3.3.4.5.cmml">
              C
             </mi>
             <mo id="S4.E13.m1.3.3.4.1c" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.4.1.cmml">
              ​
             </mo>
             <mi id="S4.E13.m1.3.3.4.6" xref="S4.E13.m1.3.3.4.6.cmml">
              G
             </mi>
             <mo id="S4.E13.m1.3.3.4.1d" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.4.1.cmml">
              ​
             </mo>
             <mi id="S4.E13.m1.3.3.4.7" mathvariant="normal" xref="S4.E13.m1.3.3.4.7.cmml">
              @
             </mi>
             <mo id="S4.E13.m1.3.3.4.1e" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.4.1.cmml">
              ​
             </mo>
             <mi id="S4.E13.m1.3.3.4.8" xref="S4.E13.m1.3.3.4.8.cmml">
              N
             </mi>
            </mrow>
            <mo id="S4.E13.m1.3.3.3" xref="S4.E13.m1.3.3.3.cmml">
             =
            </mo>
            <mrow id="S4.E13.m1.3.3.2" xref="S4.E13.m1.3.3.2.cmml">
             <mi id="S4.E13.m1.3.3.2.4" xref="S4.E13.m1.3.3.2.4.cmml">
              𝕍
             </mi>
             <mo id="S4.E13.m1.3.3.2.3" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.2.3.cmml">
              ​
             </mo>
             <mrow id="S4.E13.m1.3.3.2.2.2" xref="S4.E13.m1.3.3.2.2.3.cmml">
              <mo id="S4.E13.m1.3.3.2.2.2.3" stretchy="false" xref="S4.E13.m1.3.3.2.2.3.cmml">
               (
              </mo>
              <mrow id="S4.E13.m1.2.2.1.1.1.1" xref="S4.E13.m1.2.2.1.1.1.1.cmml">
               <mi id="S4.E13.m1.2.2.1.1.1.1.2" xref="S4.E13.m1.2.2.1.1.1.1.2.cmml">
                N
               </mi>
               <mo id="S4.E13.m1.2.2.1.1.1.1.1" lspace="0em" rspace="0em" xref="S4.E13.m1.2.2.1.1.1.1.1.cmml">
                ​
               </mo>
               <mi id="S4.E13.m1.2.2.1.1.1.1.3" xref="S4.E13.m1.2.2.1.1.1.1.3.cmml">
                D
               </mi>
               <mo id="S4.E13.m1.2.2.1.1.1.1.1a" lspace="0em" rspace="0em" xref="S4.E13.m1.2.2.1.1.1.1.1.cmml">
                ​
               </mo>
               <mi id="S4.E13.m1.2.2.1.1.1.1.4" xref="S4.E13.m1.2.2.1.1.1.1.4.cmml">
                C
               </mi>
               <mo id="S4.E13.m1.2.2.1.1.1.1.1b" lspace="0em" rspace="0em" xref="S4.E13.m1.2.2.1.1.1.1.1.cmml">
                ​
               </mo>
               <msub id="S4.E13.m1.2.2.1.1.1.1.5" xref="S4.E13.m1.2.2.1.1.1.1.5.cmml">
                <mi id="S4.E13.m1.2.2.1.1.1.1.5.2" xref="S4.E13.m1.2.2.1.1.1.1.5.2.cmml">
                 G
                </mi>
                <mn id="S4.E13.m1.2.2.1.1.1.1.5.3" xref="S4.E13.m1.2.2.1.1.1.1.5.3.cmml">
                 1
                </mn>
               </msub>
               <mo id="S4.E13.m1.2.2.1.1.1.1.1c" lspace="0em" rspace="0em" xref="S4.E13.m1.2.2.1.1.1.1.1.cmml">
                ​
               </mo>
               <mi id="S4.E13.m1.2.2.1.1.1.1.6" mathvariant="normal" xref="S4.E13.m1.2.2.1.1.1.1.6.cmml">
                @
               </mi>
               <mo id="S4.E13.m1.2.2.1.1.1.1.1d" lspace="0em" rspace="0em" xref="S4.E13.m1.2.2.1.1.1.1.1.cmml">
                ​
               </mo>
               <mi id="S4.E13.m1.2.2.1.1.1.1.7" xref="S4.E13.m1.2.2.1.1.1.1.7.cmml">
                N
               </mi>
              </mrow>
              <mo id="S4.E13.m1.3.3.2.2.2.4" xref="S4.E13.m1.3.3.2.2.3.cmml">
               ,
              </mo>
              <mi id="S4.E13.m1.1.1" mathvariant="normal" xref="S4.E13.m1.1.1.cmml">
               …
              </mi>
              <mo id="S4.E13.m1.3.3.2.2.2.5" xref="S4.E13.m1.3.3.2.2.3.cmml">
               ,
              </mo>
              <mrow id="S4.E13.m1.3.3.2.2.2.2" xref="S4.E13.m1.3.3.2.2.2.2.cmml">
               <mi id="S4.E13.m1.3.3.2.2.2.2.2" xref="S4.E13.m1.3.3.2.2.2.2.2.cmml">
                N
               </mi>
               <mo id="S4.E13.m1.3.3.2.2.2.2.1" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.2.2.2.2.1.cmml">
                ​
               </mo>
               <mi id="S4.E13.m1.3.3.2.2.2.2.3" xref="S4.E13.m1.3.3.2.2.2.2.3.cmml">
                D
               </mi>
               <mo id="S4.E13.m1.3.3.2.2.2.2.1a" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.2.2.2.2.1.cmml">
                ​
               </mo>
               <mi id="S4.E13.m1.3.3.2.2.2.2.4" xref="S4.E13.m1.3.3.2.2.2.2.4.cmml">
                C
               </mi>
               <mo id="S4.E13.m1.3.3.2.2.2.2.1b" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.2.2.2.2.1.cmml">
                ​
               </mo>
               <msub id="S4.E13.m1.3.3.2.2.2.2.5" xref="S4.E13.m1.3.3.2.2.2.2.5.cmml">
                <mi id="S4.E13.m1.3.3.2.2.2.2.5.2" xref="S4.E13.m1.3.3.2.2.2.2.5.2.cmml">
                 G
                </mi>
                <mi id="S4.E13.m1.3.3.2.2.2.2.5.3" xref="S4.E13.m1.3.3.2.2.2.2.5.3.cmml">
                 K
                </mi>
               </msub>
               <mo id="S4.E13.m1.3.3.2.2.2.2.1c" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.2.2.2.2.1.cmml">
                ​
               </mo>
               <mi id="S4.E13.m1.3.3.2.2.2.2.6" mathvariant="normal" xref="S4.E13.m1.3.3.2.2.2.2.6.cmml">
                @
               </mi>
               <mo id="S4.E13.m1.3.3.2.2.2.2.1d" lspace="0em" rspace="0em" xref="S4.E13.m1.3.3.2.2.2.2.1.cmml">
                ​
               </mo>
               <mi id="S4.E13.m1.3.3.2.2.2.2.7" xref="S4.E13.m1.3.3.2.2.2.2.7.cmml">
                N
               </mi>
              </mrow>
              <mo id="S4.E13.m1.3.3.2.2.2.6" stretchy="false" xref="S4.E13.m1.3.3.2.2.3.cmml">
               )
              </mo>
             </mrow>
            </mrow>
           </mrow>
           <annotation-xml encoding="MathML-Content" id="S4.E13.m1.3b">
            <apply id="S4.E13.m1.3.3.cmml" xref="S4.E13.m1.3.3">
             <eq id="S4.E13.m1.3.3.3.cmml" xref="S4.E13.m1.3.3.3">
             </eq>
             <apply id="S4.E13.m1.3.3.4.cmml" xref="S4.E13.m1.3.3.4">
              <times id="S4.E13.m1.3.3.4.1.cmml" xref="S4.E13.m1.3.3.4.1">
              </times>
              <ci id="S4.E13.m1.3.3.4.2.cmml" xref="S4.E13.m1.3.3.4.2">
               𝑉
              </ci>
              <ci id="S4.E13.m1.3.3.4.3.cmml" xref="S4.E13.m1.3.3.4.3">
               𝑁
              </ci>
              <ci id="S4.E13.m1.3.3.4.4.cmml" xref="S4.E13.m1.3.3.4.4">
               𝐷
              </ci>
              <ci id="S4.E13.m1.3.3.4.5.cmml" xref="S4.E13.m1.3.3.4.5">
               𝐶
              </ci>
              <ci id="S4.E13.m1.3.3.4.6.cmml" xref="S4.E13.m1.3.3.4.6">
               𝐺
              </ci>
              <ci id="S4.E13.m1.3.3.4.7.cmml" xref="S4.E13.m1.3.3.4.7">
               @
              </ci>
              <ci id="S4.E13.m1.3.3.4.8.cmml" xref="S4.E13.m1.3.3.4.8">
               𝑁
              </ci>
             </apply>
             <apply id="S4.E13.m1.3.3.2.cmml" xref="S4.E13.m1.3.3.2">
              <times id="S4.E13.m1.3.3.2.3.cmml" xref="S4.E13.m1.3.3.2.3">
              </times>
              <ci id="S4.E13.m1.3.3.2.4.cmml" xref="S4.E13.m1.3.3.2.4">
               𝕍
              </ci>
              <vector id="S4.E13.m1.3.3.2.2.3.cmml" xref="S4.E13.m1.3.3.2.2.2">
               <apply id="S4.E13.m1.2.2.1.1.1.1.cmml" xref="S4.E13.m1.2.2.1.1.1.1">
                <times id="S4.E13.m1.2.2.1.1.1.1.1.cmml" xref="S4.E13.m1.2.2.1.1.1.1.1">
                </times>
                <ci id="S4.E13.m1.2.2.1.1.1.1.2.cmml" xref="S4.E13.m1.2.2.1.1.1.1.2">
                 𝑁
                </ci>
                <ci id="S4.E13.m1.2.2.1.1.1.1.3.cmml" xref="S4.E13.m1.2.2.1.1.1.1.3">
                 𝐷
                </ci>
                <ci id="S4.E13.m1.2.2.1.1.1.1.4.cmml" xref="S4.E13.m1.2.2.1.1.1.1.4">
                 𝐶
                </ci>
                <apply id="S4.E13.m1.2.2.1.1.1.1.5.cmml" xref="S4.E13.m1.2.2.1.1.1.1.5">
                 <csymbol cd="ambiguous" id="S4.E13.m1.2.2.1.1.1.1.5.1.cmml" xref="S4.E13.m1.2.2.1.1.1.1.5">
                  subscript
                 </csymbol>
                 <ci id="S4.E13.m1.2.2.1.1.1.1.5.2.cmml" xref="S4.E13.m1.2.2.1.1.1.1.5.2">
                  𝐺
                 </ci>
                 <cn id="S4.E13.m1.2.2.1.1.1.1.5.3.cmml" type="integer" xref="S4.E13.m1.2.2.1.1.1.1.5.3">
                  1
                 </cn>
                </apply>
                <ci id="S4.E13.m1.2.2.1.1.1.1.6.cmml" xref="S4.E13.m1.2.2.1.1.1.1.6">
                 @
                </ci>
                <ci id="S4.E13.m1.2.2.1.1.1.1.7.cmml" xref="S4.E13.m1.2.2.1.1.1.1.7">
                 𝑁
                </ci>
               </apply>
               <ci id="S4.E13.m1.1.1.cmml" xref="S4.E13.m1.1.1">
                …
               </ci>
               <apply id="S4.E13.m1.3.3.2.2.2.2.cmml" xref="S4.E13.m1.3.3.2.2.2.2">
                <times id="S4.E13.m1.3.3.2.2.2.2.1.cmml" xref="S4.E13.m1.3.3.2.2.2.2.1">
                </times>
                <ci id="S4.E13.m1.3.3.2.2.2.2.2.cmml" xref="S4.E13.m1.3.3.2.2.2.2.2">
                 𝑁
                </ci>
                <ci id="S4.E13.m1.3.3.2.2.2.2.3.cmml" xref="S4.E13.m1.3.3.2.2.2.2.3">
                 𝐷
                </ci>
                <ci id="S4.E13.m1.3.3.2.2.2.2.4.cmml" xref="S4.E13.m1.3.3.2.2.2.2.4">
                 𝐶
                </ci>
                <apply id="S4.E13.m1.3.3.2.2.2.2.5.cmml" xref="S4.E13.m1.3.3.2.2.2.2.5">
                 <csymbol cd="ambiguous" id="S4.E13.m1.3.3.2.2.2.2.5.1.cmml" xref="S4.E13.m1.3.3.2.2.2.2.5">
                  subscript
                 </csymbol>
                 <ci id="S4.E13.m1.3.3.2.2.2.2.5.2.cmml" xref="S4.E13.m1.3.3.2.2.2.2.5.2">
                  𝐺
                 </ci>
                 <ci id="S4.E13.m1.3.3.2.2.2.2.5.3.cmml" xref="S4.E13.m1.3.3.2.2.2.2.5.3">
                  𝐾
                 </ci>
                </apply>
                <ci id="S4.E13.m1.3.3.2.2.2.2.6.cmml" xref="S4.E13.m1.3.3.2.2.2.2.6">
                 @
                </ci>
                <ci id="S4.E13.m1.3.3.2.2.2.2.7.cmml" xref="S4.E13.m1.3.3.2.2.2.2.7">
                 𝑁
                </ci>
               </apply>
              </vector>
             </apply>
            </apply>
           </annotation-xml>
           <annotation encoding="application/x-tex" id="S4.E13.m1.3c">
            VNDCG@N=\mathbb{V}(NDCG_{1}@N,...,NDCG_{K}@N)
           </annotation>
          </semantics>
         </math>
        </td>
        <td class="ltx_eqn_cell ltx_eqn_center_padright">
        </td>
        <td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1">
         <span class="ltx_tag ltx_tag_equation ltx_align_right">
          (13)
         </span>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="ltx_p" id="S4.SS3.SSS2.p2.2">
      where NDCG@N represents the normalized discounted cumulative gain at
      <math alttext="N" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p2.1.m1.1">
       <semantics id="S4.SS3.SSS2.p2.1.m1.1a">
        <mi id="S4.SS3.SSS2.p2.1.m1.1.1" xref="S4.SS3.SSS2.p2.1.m1.1.1.cmml">
         N
        </mi>
        <annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.1.m1.1b">
         <ci id="S4.SS3.SSS2.p2.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1">
          𝑁
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.1.m1.1c">
         N
        </annotation>
       </semantics>
      </math>
      , while VNDCG@N denotes the variance observed across a series of NDCG@N values from different
      <math alttext="K" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p2.2.m2.1">
       <semantics id="S4.SS3.SSS2.p2.2.m2.1a">
        <mi id="S4.SS3.SSS2.p2.2.m2.1.1" xref="S4.SS3.SSS2.p2.2.m2.1.1.cmml">
         K
        </mi>
        <annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.2.m2.1b">
         <ci id="S4.SS3.SSS2.p2.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1">
          𝐾
         </ci>
        </annotation-xml>
        <annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.2.m2.1c">
         K
        </annotation>
       </semantics>
      </math>
      agents.
     </p>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S4.SS4">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS4.4.1.1">
      IV-D
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS4.5.2">
     Implementation Details
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS4.p1">
    <p class="ltx_p" id="S4.SS4.p1.1">
     In our experiment, we utilized various pre-trained models to executive (
     <a class="ltx_ref" href="#S3.E3" title="In III-C1 Data Input ‣ III-C Robust Ranking ‣ III Methodology ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       3
      </span>
     </a>
     ), including BERT, ERNIE, and RoBERTa, which serve as our base models. Specifically, for BERT-CE
     <span class="ltx_note ltx_role_footnote" id="footnote2">
      <sup class="ltx_note_mark">
       2
      </sup>
      <span class="ltx_note_outer">
       <span class="ltx_note_content">
        <sup class="ltx_note_mark">
         2
        </sup>
        <span class="ltx_tag ltx_tag_note">
         2
        </span>
        https://huggingface.co/bert-base-chinese
       </span>
      </span>
     </span>
     <span class="ltx_note ltx_role_footnote" id="footnote3">
      <sup class="ltx_note_mark">
       3
      </sup>
      <span class="ltx_note_outer">
       <span class="ltx_note_content">
        <sup class="ltx_note_mark">
         3
        </sup>
        <span class="ltx_tag ltx_tag_note">
         3
        </span>
        https://huggingface.co/bert-base-uncased
       </span>
      </span>
     </span>
     , ERNIE-CE
     <span class="ltx_note ltx_role_footnote" id="footnote4">
      <sup class="ltx_note_mark">
       4
      </sup>
      <span class="ltx_note_outer">
       <span class="ltx_note_content">
        <sup class="ltx_note_mark">
         4
        </sup>
        <span class="ltx_tag ltx_tag_note">
         4
        </span>
        https://huggingface.co/nghuyong/ernie-3.0-base-zh
       </span>
      </span>
     </span>
     <span class="ltx_note ltx_role_footnote" id="footnote5">
      <sup class="ltx_note_mark">
       5
      </sup>
      <span class="ltx_note_outer">
       <span class="ltx_note_content">
        <sup class="ltx_note_mark">
         5
        </sup>
        <span class="ltx_tag ltx_tag_note">
         5
        </span>
        https://huggingface.co/nghuyong/ernie-2.0-base-en
       </span>
      </span>
     </span>
     , and RoBERTa-CE
     <span class="ltx_note ltx_role_footnote" id="footnote6">
      <sup class="ltx_note_mark">
       6
      </sup>
      <span class="ltx_note_outer">
       <span class="ltx_note_content">
        <sup class="ltx_note_mark">
         6
        </sup>
        <span class="ltx_tag ltx_tag_note">
         6
        </span>
        https://huggingface.co/hfl/chinese-roberta-wwm-ext
       </span>
      </span>
     </span>
     <span class="ltx_note ltx_role_footnote" id="footnote7">
      <sup class="ltx_note_mark">
       7
      </sup>
      <span class="ltx_note_outer">
       <span class="ltx_note_content">
        <sup class="ltx_note_mark">
         7
        </sup>
        <span class="ltx_tag ltx_tag_note">
         7
        </span>
        https://huggingface.co/deepset/roberta-base-squad2
       </span>
      </span>
     </span>
     , we used different checkpoints from Hugging Face for the two datasets according to their language types, then finetuned them as cross-encoders on training datasets. Our experimental approach, such as in BERT+ours, adheres to a two-stage paradigm. In the first stage, we load the BERT-CE PLM checkpoint, followed by freezing the pre-trained model in the second stage. we integrate the insert PLM into the robust ranking structure and execute fine-tuning tasks on the training dataset. All experiments were conducted on a single Tesla V100 32G GPU using the AdamW optimizer. For baseline comparisons, we employed the open-sourced BM25 implementation from BEIR
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib37" title="">
       37
      </a>
      ]
     </cite>
     . Our implementation of ANCE utilizes RoBERTa as the base pre-trained language model. Regarding CharacterBert, we follow the configuration in
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib12" title="">
       12
      </a>
      ]
     </cite>
     , with a modification with a point-wise loss function with align to our setting for a fair comparison.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S4.SS5">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS5.4.1.1">
      IV-E
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS5.5.2">
     Query Quality Experiment
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS5.p1">
    <p class="ltx_p" id="S4.SS5.p1.1">
     Evaluating rewritten query results is crucial, as they significantly impact overall performance. Current assessment challenges arise from the alteration of semantic information and the need to evaluate character traits, areas lacking robust evaluation methods. To address this, we employ large language models to assess the rewritten queries. Our evaluation focuses on two key metrics: the semantic fidelity of the rewritten queries and their alignment with the defined agent’s roles. We use diverse, publicly LLMS for both Chinese and English query assessments. We design specific prompts for the evaluation, enabling them to rate each metric on a 0 to 5 scale, with 0 being the poorest and 5 being the optimal performance.
    </p>
   </div>
   <figure class="ltx_figure" id="S4.F5">
    <div class="ltx_flex_figure">
     <div class="ltx_flex_cell ltx_flex_size_2">
      <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" height="202" id="S4.F5.g1" src="/html/2312.15450/assets/x5.png" width="223"/>
     </div>
     <div class="ltx_flex_cell ltx_flex_size_2">
      <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" height="212" id="S4.F5.g2" src="/html/2312.15450/assets/x6.png" width="223"/>
     </div>
     <div class="ltx_flex_break">
     </div>
     <div class="ltx_flex_cell ltx_flex_size_2">
      <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" height="212" id="S4.F5.g3" src="/html/2312.15450/assets/x7.png" width="223"/>
     </div>
     <div class="ltx_flex_cell ltx_flex_size_2">
      <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" height="212" id="S4.F5.g4" src="/html/2312.15450/assets/x8.png" width="223"/>
     </div>
    </div>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 5:
     </span>
     The Evaluation of Queries
    </figcaption>
   </figure>
   <div class="ltx_para" id="S4.SS5.p2">
    <p class="ltx_p" id="S4.SS5.p2.1">
     As LLMs for Chinese, we select:
    </p>
    <ul class="ltx_itemize" id="S4.I3">
     <li class="ltx_item" id="S4.I3.i1" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S4.I3.i1.p1">
       <p class="ltx_p" id="S4.I3.i1.p1.1">
        <span class="ltx_text ltx_font_bold" id="S4.I3.i1.p1.1.1">
         ChatGLM2-6B
         <span class="ltx_note ltx_role_footnote" id="footnote8">
          <sup class="ltx_note_mark">
           8
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             8
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnote8.1.1.1">
              8
             </span>
            </span>
            <span class="ltx_text ltx_font_medium" id="footnote8.4">
             https://huggingface.co/THUDM/chatglm2-6b
            </span>
           </span>
          </span>
         </span>
        </span>
        : Tsinghua University’s second-generation bilingual chat model in the ChatGLM series.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S4.I3.i2" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S4.I3.i2.p1">
       <p class="ltx_p" id="S4.I3.i2.p1.1">
        <span class="ltx_text ltx_font_bold" id="S4.I3.i2.p1.1.1">
         Atom-7B
         <span class="ltx_note ltx_role_footnote" id="footnote9">
          <sup class="ltx_note_mark">
           9
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             9
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnote9.1.1.1">
              9
             </span>
            </span>
            <span class="ltx_text ltx_font_medium" id="footnote9.4">
             https://huggingface.co/FlagAlpha/Atom-7B
            </span>
           </span>
          </span>
         </span>
        </span>
        : A joint development by Llama Chinese community, Atom-7B is based on Llama2-7B and further pre-trained with extensive Chinese data.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S4.I3.i3" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S4.I3.i3.p1">
       <p class="ltx_p" id="S4.I3.i3.p1.1">
        <span class="ltx_text ltx_font_bold" id="S4.I3.i3.p1.1.1">
         ERNIE-Bot
         <span class="ltx_note ltx_role_footnote" id="footnote10">
          <sup class="ltx_note_mark">
           10
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             10
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnote10.1.1.1">
              10
             </span>
            </span>
            <span class="ltx_text ltx_font_medium" id="footnote10.4">
             https://yiyan.baidu.com/
            </span>
           </span>
          </span>
         </span>
        </span>
        : Baidu’s ERNIE Bot, a 2023 knowledge-enhanced generative AI, aims for accurate and fluent human-like responses, understanding human intentions effectively.
       </p>
      </div>
     </li>
    </ul>
    <p class="ltx_p" id="S4.SS5.p2.2">
     As LLMs for English, we select:
    </p>
    <ul class="ltx_itemize" id="S4.I4">
     <li class="ltx_item" id="S4.I4.i1" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S4.I4.i1.p1">
       <p class="ltx_p" id="S4.I4.i1.p1.1">
        <span class="ltx_text ltx_font_bold" id="S4.I4.i1.p1.1.1">
         vicuna-13B
         <span class="ltx_note ltx_role_footnote" id="footnote11">
          <sup class="ltx_note_mark">
           11
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             11
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnote11.1.1.1">
              11
             </span>
            </span>
            <span class="ltx_text ltx_font_medium" id="footnote11.4">
             https://https//huggingface.co/lmsys/vicuna-13b-v1.3
            </span>
           </span>
          </span>
         </span>
        </span>
        :
An open-source conversational model built by fine-tuning the Llama 13B model with user-shared conversations from ShareGPT.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S4.I4.i2" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S4.I4.i2.p1">
       <p class="ltx_p" id="S4.I4.i2.p1.1">
        <span class="ltx_text ltx_font_bold" id="S4.I4.i2.p1.1.1">
         Claude
         <span class="ltx_note ltx_role_footnote" id="footnote12">
          <sup class="ltx_note_mark">
           12
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             12
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnote12.1.1.1">
              12
             </span>
            </span>
            <span class="ltx_text ltx_font_medium" id="footnote12.4">
             www.anthropic.com
            </span>
           </span>
          </span>
         </span>
        </span>
        :
A large, conversationally-focused language model developed by Anthropic.
       </p>
      </div>
     </li>
     <li class="ltx_item" id="S4.I4.i3" style="list-style-type:none;">
      <span class="ltx_tag ltx_tag_item">
       •
      </span>
      <div class="ltx_para" id="S4.I4.i3.p1">
       <p class="ltx_p" id="S4.I4.i3.p1.1">
        <span class="ltx_text ltx_font_bold" id="S4.I4.i3.p1.1.1">
         Llama-2-13b
         <span class="ltx_note ltx_role_footnote" id="footnote13">
          <sup class="ltx_note_mark">
           13
          </sup>
          <span class="ltx_note_outer">
           <span class="ltx_note_content">
            <sup class="ltx_note_mark">
             13
            </sup>
            <span class="ltx_tag ltx_tag_note">
             <span class="ltx_text ltx_font_medium" id="footnote13.1.1.1">
              13
             </span>
            </span>
            <span class="ltx_text ltx_font_medium" id="footnote13.4">
             https://huggingface.co/meta-llama/Llama-2-13b-chat-hf
            </span>
           </span>
          </span>
         </span>
        </span>
        :
Meta and Microsoft’s open-source Llama 2, for research and commercial use, features an optimized transformer architecture.
       </p>
      </div>
     </li>
    </ul>
   </div>
   <figure class="ltx_table" id="S4.T2">
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      TABLE II:
     </span>
     Performance Comparison Results.
    </figcaption>
    <div class="ltx_flex_figure">
     <div class="ltx_flex_cell ltx_flex_size_1">
      <table class="ltx_tabular ltx_centering ltx_figure_panel ltx_guessed_headers ltx_align_middle" id="S4.T2.2">
       <tbody class="ltx_tbody">
        <tr class="ltx_tr" id="S4.T2.2.1.1">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.2.1.1.1" rowspan="2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text" id="S4.T2.2.1.1.1.1">
           Models /
           <span class="ltx_text ltx_font_bold" id="S4.T2.2.1.1.1.1.1">
            NDCG@10
           </span>
          </span>
         </th>
         <td class="ltx_td ltx_align_center ltx_border_t" colspan="5" id="S4.T2.2.1.1.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.1.1.2.1">
           Robust04
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" colspan="5" id="S4.T2.2.1.1.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.1.1.3.1">
           Industrial Dataset
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.2.2">
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.2.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          original
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.2.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          woman
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.2.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          man
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.2.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          student
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.2.2.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          old
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.2.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          original
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.2.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          woman
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.2.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          man
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.2.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          student
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.2.2.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          old
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.3.3">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.2.3.3.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          BM25
         </th>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.3.3.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4262
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.3.3.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4062
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.3.3.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3798
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.3.3.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4259
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.3.3.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3792
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.3.3.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5380
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.3.3.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5259
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.3.3.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5264
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.3.3.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5392
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.3.3.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5183
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.4.4">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.4.4.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          ANCE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.4.4.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4037
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.4.4.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3905
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.4.4.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3774
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.4.4.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3802
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.4.4.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3723
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.4.4.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5640
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.4.4.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5595
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.4.4.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5588
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.4.4.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5492
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.4.4.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5587
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.5.5">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.5.5.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          CharacterBert
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.5.5.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4489
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.5.5.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4192
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.5.5.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4332
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.5.5.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4274
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.5.5.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4195
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.5.5.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5860
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.5.5.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5799
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.5.5.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5859
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.5.5.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5802
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.5.5.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5733
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.6.6">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.6.6.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          BERT-CE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.6.6.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4423
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.6.6.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4129
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.6.6.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4084
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.6.6.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4082
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.6.6.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4010
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.6.6.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5821
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.6.6.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5602
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.6.6.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5637
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.6.6.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5656
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.6.6.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5679
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.7.7">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.7.7.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          ERNIE-CE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.7.7.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4362
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.7.7.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4021
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.7.7.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3923
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.7.7.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3993
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.7.7.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4283
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.7.7.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5888
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.7.7.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5664
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.7.7.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5687
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.7.7.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5663
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.7.7.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5699
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.8.8">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.8.8.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          RoBERTa-CE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.8.8.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4562
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.8.8.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4272
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.8.8.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3997
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.8.8.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4098
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.8.8.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4194
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.8.8.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5987
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.8.8.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5740
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.8.8.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5758
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.8.8.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5809
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.8.8.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5828
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.9.9">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.2.9.9.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.9.9.1.1">
           BERT+ours
          </span>
         </th>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.9.9.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4353
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.9.9.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4102
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.9.9.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4207
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.9.9.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4178
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.9.9.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4265
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.9.9.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5924
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.9.9.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.9.9.8.1">
           0.5911*
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.9.9.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5854
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.9.9.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5821
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.9.9.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5837
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.10.10">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.10.10.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.10.10.1.1">
           ERNIE+ours
          </span>
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.10.10.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4408
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.10.10.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4305
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.10.10.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4252
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.10.10.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4365
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.10.10.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4124
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.10.10.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5896
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.10.10.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5805
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.10.10.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5829
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.10.10.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5843
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.10.10.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5870
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.11.11">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.11.11.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.11.11.1.1">
           RoBERTa+ours
          </span>
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.11.11.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.11.11.2.1">
           0.4598*
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.11.11.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.11.11.3.1">
           0.4365*
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.11.11.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.11.11.4.1">
           0.4423*
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.11.11.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.11.11.5.1">
           0.4398*
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.11.11.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.11.11.6.1">
           0.4292*
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.11.11.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.11.11.7.1">
           0.5962*
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.11.11.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5892
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.11.11.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.11.11.9.1">
           0.5879*
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.11.11.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.11.11.10.1">
           0.5843*
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.11.11.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.11.11.11.1">
           0.5877*
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.12.12">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.T2.2.12.12.1" rowspan="2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text" id="S4.T2.2.12.12.1.1">
           Models /
           <span class="ltx_text ltx_font_bold" id="S4.T2.2.12.12.1.1.1">
            MAP
           </span>
          </span>
         </th>
         <td class="ltx_td ltx_align_center ltx_border_tt" colspan="5" id="S4.T2.2.12.12.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.12.12.2.1">
           Robust04
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_tt" colspan="5" id="S4.T2.2.12.12.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.12.12.3.1">
           Industrial Dataset
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.13.13">
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.13.13.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          original
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.13.13.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          woman
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.13.13.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          man
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.13.13.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          student
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.13.13.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          old
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.13.13.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          original
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.13.13.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          woman
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.13.13.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          man
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.13.13.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          student
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.13.13.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          old
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.14.14">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.2.14.14.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          BM25
         </th>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.14.14.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2652
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.14.14.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2528
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.14.14.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2332
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.14.14.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2643
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.14.14.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2383
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.14.14.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3584
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.14.14.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3431
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.14.14.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3571
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.14.14.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3407
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.14.14.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3391
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.15.15">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.15.15.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          ANCE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.15.15.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2512
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.15.15.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2453
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.15.15.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2389
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.15.15.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2592
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.15.15.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2364
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.15.15.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3753
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.15.15.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3695
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.15.15.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3698
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.15.15.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3604
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.15.15.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3674
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.16.16">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.16.16.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          CharacterBert
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.16.16.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2851
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.16.16.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2623
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.16.16.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2752
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.16.16.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2589
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.16.16.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2607
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.16.16.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3950
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.16.16.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3892
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.16.16.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3932
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.16.16.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3878
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.16.16.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3821
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.17.17">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.17.17.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          BERT-CE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.17.17.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2952
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.17.17.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2694
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.17.17.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2595
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.17.17.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.258
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.17.17.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2572
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.17.17.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3913
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.17.17.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3797
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.17.17.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3850
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.17.17.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3874
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.17.17.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3982
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.18.18">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.18.18.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          ERNIE-CE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.18.18.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2864
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.18.18.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2664
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.18.18.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2659
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.18.18.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2495
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.18.18.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2722
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.18.18.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4009
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.18.18.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3876
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.18.18.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3920
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.18.18.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3968
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.18.18.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3995
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.19.19">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.19.19.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          RoBERTa-CE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.19.19.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2892
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.19.19.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2467
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.19.19.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2574
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.19.19.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2503
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.19.19.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2490
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.19.19.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4081
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.19.19.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3840
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.19.19.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3894
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.19.19.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3836
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.19.19.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3855
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.20.20">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.2.20.20.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.20.20.1.1">
           BERT+ours
          </span>
         </th>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.20.20.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2887
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.20.20.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2668
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.20.20.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2792
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.20.20.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2684
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.2.20.20.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.20.20.6.1">
           0.2809*
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.20.20.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3947
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.20.20.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3912
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.20.20.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3896
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.20.20.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3920
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.2.20.20.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3974
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.21.21">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.2.21.21.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.21.21.1.1">
           ERNIE+ours
          </span>
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.21.21.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2895
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.21.21.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.21.21.3.1">
           0.2858
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.21.21.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2748
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.21.21.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2793
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.2.21.21.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2673
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.21.21.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4072
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.21.21.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.21.21.8.1">
           0.4059*
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.21.21.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.21.21.9.1">
           0.4039*
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.21.21.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3952
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T2.2.21.21.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.4018
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T2.2.22.22">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T2.2.22.22.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.22.22.1.1">
           RoBERTa+ours
          </span>
         </th>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.2.22.22.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.22.22.2.1">
           0.2961*
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.2.22.22.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2797
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.2.22.22.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.22.22.4.1">
           0.2849*
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.2.22.22.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.22.22.5.1">
           0.2809*
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T2.2.22.22.6" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.2704
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.2.22.22.7" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.22.22.7.1">
           0.4083*
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.2.22.22.8" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3921
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.2.22.22.9" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.3904
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.2.22.22.10" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.22.22.10.1">
           0.4021*
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.2.22.22.11" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T2.2.22.22.11.1">
           0.4037*
          </span>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="ltx_flex_break">
     </div>
     <div class="ltx_flex_cell ltx_flex_size_1">
      <p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.T2.1.1">
       “
       <span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1">
        *
       </span>
       ” indicates significance level test
       <math alttext="p&lt;0.05" class="ltx_Math" display="inline" id="S4.T2.1.1.m1.1">
        <semantics id="S4.T2.1.1.m1.1a">
         <mrow id="S4.T2.1.1.m1.1.1" xref="S4.T2.1.1.m1.1.1.cmml">
          <mi id="S4.T2.1.1.m1.1.1.2" xref="S4.T2.1.1.m1.1.1.2.cmml">
           p
          </mi>
          <mo id="S4.T2.1.1.m1.1.1.1" xref="S4.T2.1.1.m1.1.1.1.cmml">
           &lt;
          </mo>
          <mn id="S4.T2.1.1.m1.1.1.3" xref="S4.T2.1.1.m1.1.1.3.cmml">
           0.05
          </mn>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="S4.T2.1.1.m1.1b">
          <apply id="S4.T2.1.1.m1.1.1.cmml" xref="S4.T2.1.1.m1.1.1">
           <lt id="S4.T2.1.1.m1.1.1.1.cmml" xref="S4.T2.1.1.m1.1.1.1">
           </lt>
           <ci id="S4.T2.1.1.m1.1.1.2.cmml" xref="S4.T2.1.1.m1.1.1.2">
            𝑝
           </ci>
           <cn id="S4.T2.1.1.m1.1.1.3.cmml" type="float" xref="S4.T2.1.1.m1.1.1.3">
            0.05
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="S4.T2.1.1.m1.1c">
          p&lt;0.05
         </annotation>
        </semantics>
       </math>
       .
      </p>
     </div>
     <div class="ltx_flex_break">
     </div>
    </div>
   </figure>
   <div class="ltx_para" id="S4.SS5.p3">
    <p class="ltx_p" id="S4.SS5.p3.1">
     For a fair evaluation, we draw 100 queries for each role from each dataset, and assessed them by using three LLMs as mentioned earlier. Figure
     <a class="ltx_ref" href="#S4.F5" title="Figure 5 ‣ IV-E Query Quality Experiment ‣ IV Experiment ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       5
      </span>
     </a>
     presents the score distribution results. The results suggest high quality in both rewritten and persona queries, as evidenced by scores predominantly exceeding 3 out of 5. Notably, the quality of rewritten queries in English surpassed that of Chinese. We hypothesize this disparity stems from ChatGPT’s proficiency in English tasks, paralleling our findings in role quality assessment. Additionally, the distribution does not indicate any role preference in ChatGPT, given the relatively uniform distribution across different roles. These outcomes robustly validate the effectiveness of employing LLMs for query rewriting across varied roles.
    </p>
   </div>
   <figure class="ltx_table" id="S4.T3">
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      TABLE III:
     </span>
     Robustness Performance Comparison Results.
    </figcaption>
    <div class="ltx_flex_figure">
     <div class="ltx_flex_cell ltx_flex_size_1">
      <table class="ltx_tabular ltx_centering ltx_figure_panel ltx_guessed_headers ltx_align_middle" id="S4.T3.4.4">
       <tbody class="ltx_tbody">
        <tr class="ltx_tr" id="S4.T3.4.4.5.1">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.4.4.5.1.1" rowspan="2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text" id="S4.T3.4.4.5.1.1.1">
           <span class="ltx_text ltx_font_bold" id="S4.T3.4.4.5.1.1.1.1">
            Metric
           </span>
          </span>
         </th>
         <td class="ltx_td ltx_align_center ltx_border_t" colspan="2" id="S4.T3.4.4.5.1.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.4.4.5.1.2.1">
           Robust04
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" colspan="2" id="S4.T3.4.4.5.1.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.4.4.5.1.3.1">
           Industrial Dataset
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T3.4.4.4">
         <td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          VNDCG@10 (e-5)
          <math alttext="\downarrow" class="ltx_Math" display="inline" id="S4.T3.1.1.1.1.m1.1">
           <semantics id="S4.T3.1.1.1.1.m1.1a">
            <mo id="S4.T3.1.1.1.1.m1.1.1" stretchy="false" xref="S4.T3.1.1.1.1.m1.1.1.cmml">
             ↓
            </mo>
            <annotation-xml encoding="MathML-Content" id="S4.T3.1.1.1.1.m1.1b">
             <ci id="S4.T3.1.1.1.1.m1.1.1.cmml" xref="S4.T3.1.1.1.1.m1.1.1">
              ↓
             </ci>
            </annotation-xml>
            <annotation encoding="application/x-tex" id="S4.T3.1.1.1.1.m1.1c">
             \downarrow
            </annotation>
           </semantics>
          </math>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.2.2.2.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          VNAP
          <math alttext="\downarrow" class="ltx_Math" display="inline" id="S4.T3.2.2.2.2.m1.1">
           <semantics id="S4.T3.2.2.2.2.m1.1a">
            <mo id="S4.T3.2.2.2.2.m1.1.1" stretchy="false" xref="S4.T3.2.2.2.2.m1.1.1.cmml">
             ↓
            </mo>
            <annotation-xml encoding="MathML-Content" id="S4.T3.2.2.2.2.m1.1b">
             <ci id="S4.T3.2.2.2.2.m1.1.1.cmml" xref="S4.T3.2.2.2.2.m1.1.1">
              ↓
             </ci>
            </annotation-xml>
            <annotation encoding="application/x-tex" id="S4.T3.2.2.2.2.m1.1c">
             \downarrow
            </annotation>
           </semantics>
          </math>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.3.3.3.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          VNDCG@10 (e-5)
          <math alttext="\downarrow" class="ltx_Math" display="inline" id="S4.T3.3.3.3.3.m1.1">
           <semantics id="S4.T3.3.3.3.3.m1.1a">
            <mo id="S4.T3.3.3.3.3.m1.1.1" stretchy="false" xref="S4.T3.3.3.3.3.m1.1.1.cmml">
             ↓
            </mo>
            <annotation-xml encoding="MathML-Content" id="S4.T3.3.3.3.3.m1.1b">
             <ci id="S4.T3.3.3.3.3.m1.1.1.cmml" xref="S4.T3.3.3.3.3.m1.1.1">
              ↓
             </ci>
            </annotation-xml>
            <annotation encoding="application/x-tex" id="S4.T3.3.3.3.3.m1.1c">
             \downarrow
            </annotation>
           </semantics>
          </math>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.4.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          VNAP
          <math alttext="\downarrow" class="ltx_Math" display="inline" id="S4.T3.4.4.4.4.m1.1">
           <semantics id="S4.T3.4.4.4.4.m1.1a">
            <mo id="S4.T3.4.4.4.4.m1.1.1" stretchy="false" xref="S4.T3.4.4.4.4.m1.1.1.cmml">
             ↓
            </mo>
            <annotation-xml encoding="MathML-Content" id="S4.T3.4.4.4.4.m1.1b">
             <ci id="S4.T3.4.4.4.4.m1.1.1.cmml" xref="S4.T3.4.4.4.4.m1.1.1">
              ↓
             </ci>
            </annotation-xml>
            <annotation encoding="application/x-tex" id="S4.T3.4.4.4.4.m1.1c">
             \downarrow
            </annotation>
           </semantics>
          </math>
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T3.4.4.6.2">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.4.4.6.2.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          BM25
         </th>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.4.6.2.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          43.53
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.4.4.6.2.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          1.1823
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.4.6.2.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          6.287
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.4.6.2.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          1.0372
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T3.4.4.7.3">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T3.4.4.7.3.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          ANCE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.7.3.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          12.43
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.4.4.7.3.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.9827
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.7.3.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          2.336
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.7.3.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.8764
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T3.4.4.8.4">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T3.4.4.8.4.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          CharacterBert
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.8.4.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.4.4.8.4.2.1">
           12.01
          </span>
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.4.4.8.4.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.4.4.8.4.3.1">
           0.9723
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.8.4.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.4.4.8.4.4.1">
           2.209
          </span>
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.8.4.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.4.4.8.4.5.1">
           0.8394
          </span>
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T3.4.4.9.5">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T3.4.4.9.5.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          BERT-CE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.9.5.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          20.69
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.4.4.9.5.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          1.0212
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.9.5.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          5.625
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.9.5.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          1.0360
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T3.4.4.10.6">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T3.4.4.10.6.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          ERNIE-CE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.10.6.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          29.96
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.4.4.10.6.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          1.0519
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.10.6.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          7.210
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.10.6.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          1.0142
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T3.4.4.11.7">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T3.4.4.11.7.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          RoBERTa-CE
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.11.7.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          36.97
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.4.4.11.7.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          1.0745
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.11.7.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          7.635
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.11.7.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          1.0284
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T3.4.4.12.8">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.4.4.12.8.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.4.4.12.8.1.1">
           BERT+ours
          </span>
         </th>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.4.12.8.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.4.4.12.8.2.1">
           8.841*
          </span>
          (-26.3%)
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.4.4.12.8.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.4.4.12.8.3.1">
           0.9082*
          </span>
          (-6.6%)
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.4.12.8.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          1.650(-25.3%)
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.4.12.8.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.7176(-14.4%)
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T3.4.4.13.9">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T3.4.4.13.9.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.4.4.13.9.1.1">
           ERNIE+ours
          </span>
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.13.9.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          9.754(-16.9%)
         </td>
         <td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.4.4.13.9.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.9242(4.9%)
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.13.9.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          1.518(-31.2%)
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T3.4.4.13.9.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.6350(-11.5%)
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T3.4.4.14.10">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T3.4.4.14.10.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.4.4.14.10.1.1">
           RoBERTa+ours
          </span>
         </th>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.4.4.14.10.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          10.29(-14.3%)
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S4.T3.4.4.14.10.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.9473(2.6%)
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.4.4.14.10.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.4.4.14.10.4.1">
           1.427*
          </span>
          (-35.4%)
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.4.4.14.10.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T3.4.4.14.10.5.1">
           0.6165*
          </span>
          (-26.5%)
         </td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="ltx_flex_break">
     </div>
     <div class="ltx_flex_cell ltx_flex_size_1">
      <p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.T3.5.5">
       The optimal results are highlighted in
       <span class="ltx_text ltx_font_bold" id="S4.T3.5.5.1">
        bold
       </span>
       , the suboptimal results are
       <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.5.5.2">
        underlined
       </span>
       .
       <math alttext="\downarrow" class="ltx_Math" display="inline" id="S4.T3.5.5.m1.1">
        <semantics id="S4.T3.5.5.m1.1a">
         <mo id="S4.T3.5.5.m1.1.1" stretchy="false" xref="S4.T3.5.5.m1.1.1.cmml">
          ↓
         </mo>
         <annotation-xml encoding="MathML-Content" id="S4.T3.5.5.m1.1b">
          <ci id="S4.T3.5.5.m1.1.1.cmml" xref="S4.T3.5.5.m1.1.1">
           ↓
          </ci>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="S4.T3.5.5.m1.1c">
          \downarrow
         </annotation>
        </semantics>
       </math>
       : the lower the better.
      </p>
     </div>
     <div class="ltx_flex_break">
     </div>
     <div class="ltx_flex_cell ltx_flex_size_1">
      <p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.T3.6.6">
       “
       <span class="ltx_text ltx_font_bold" id="S4.T3.6.6.1">
        *
       </span>
       ” indicates significance level test
       <math alttext="p&lt;0.05" class="ltx_Math" display="inline" id="S4.T3.6.6.m1.1">
        <semantics id="S4.T3.6.6.m1.1a">
         <mrow id="S4.T3.6.6.m1.1.1" xref="S4.T3.6.6.m1.1.1.cmml">
          <mi id="S4.T3.6.6.m1.1.1.2" xref="S4.T3.6.6.m1.1.1.2.cmml">
           p
          </mi>
          <mo id="S4.T3.6.6.m1.1.1.1" xref="S4.T3.6.6.m1.1.1.1.cmml">
           &lt;
          </mo>
          <mn id="S4.T3.6.6.m1.1.1.3" xref="S4.T3.6.6.m1.1.1.3.cmml">
           0.05
          </mn>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="S4.T3.6.6.m1.1b">
          <apply id="S4.T3.6.6.m1.1.1.cmml" xref="S4.T3.6.6.m1.1.1">
           <lt id="S4.T3.6.6.m1.1.1.1.cmml" xref="S4.T3.6.6.m1.1.1.1">
           </lt>
           <ci id="S4.T3.6.6.m1.1.1.2.cmml" xref="S4.T3.6.6.m1.1.1.2">
            𝑝
           </ci>
           <cn id="S4.T3.6.6.m1.1.1.3.cmml" type="float" xref="S4.T3.6.6.m1.1.1.3">
            0.05
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="S4.T3.6.6.m1.1c">
          p&lt;0.05
         </annotation>
        </semantics>
       </math>
       .
      </p>
     </div>
    </div>
   </figure>
  </section>
  <section class="ltx_subsection" id="S4.SS6">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS6.4.1.1">
      IV-F
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS6.5.2">
     Performance Experiment
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS6.p1">
    <p class="ltx_p" id="S4.SS6.p1.1">
     In this section, we will display the result performance, including effectiveness and robustness, on two datasets. We compared our results against various baseline models, and we incorporated three transformer-based cross-encoders for aomparasion: BERT-CE, ERNIE-CE, and RoBERTa-CE. In our model, we adopted the same three transformer backbones, integrating our robust enhancing module atop them. We documented the results for all roles across both public and industrial datasets. Tables
     <a class="ltx_ref" href="#S4.T2" title="TABLE II ‣ IV-E Query Quality Experiment ‣ IV Experiment ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       II
      </span>
     </a>
     and
     <a class="ltx_ref" href="#S4.T3" title="TABLE III ‣ IV-E Query Quality Experiment ‣ IV Experiment ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       III
      </span>
     </a>
     display the effectiveness and robustness findings respectively.
    </p>
   </div>
   <section class="ltx_subsubsection" id="S4.SS6.SSS1">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      <span class="ltx_text" id="S4.SS6.SSS1.4.1.1">
       IV-F
      </span>
      1
     </span>
     Effevtivess Analysis
    </h4>
    <div class="ltx_para" id="S4.SS6.SSS1.p1">
     <p class="ltx_p" id="S4.SS6.SSS1.p1.1">
      In this part, we will first discuss the performance impact of our model for the final result.
     </p>
     <ul class="ltx_itemize" id="S4.I5">
      <li class="ltx_item" id="S4.I5.i1" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="S4.I5.i1.p1">
        <p class="ltx_p" id="S4.I5.i1.p1.1">
         When comparing our model with BM25 and ANCE, it is evident that transformer-based models, like ours, yield superior results due to their enhanced capability in capturing sentence relationships. Further comparison with CharacterBert, which is grounded in a self-teaching paradigm, reveals its proficient ranking ability. Our model excels in performance, particularly due to the systematic effect of our loss design and the MMoE-adapter network.
        </p>
       </div>
      </li>
      <li class="ltx_item" id="S4.I5.i2" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="S4.I5.i2.p1">
        <p class="ltx_p" id="S4.I5.i2.p1.1">
         Comparing rewritten queries with original query results, it is observed that all models, except CharacterBert, show inferior performance. This inferiority stems from their lack of robustness in handling out-of-distribution datasets. However, both CharacterBert and our model, designed with a robust loss function, successfully impose constraints across varied agent roles, ensuring consistent performance across different rewritten queries.
        </p>
       </div>
      </li>
      <li class="ltx_item" id="S4.I5.i3" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="S4.I5.i3.p1">
        <p class="ltx_p" id="S4.I5.i3.p1.1">
         When comparing our model with cross-encoders using the original datasets, we occasionally observe a slight decline in performance for our model. This can be reasonably attributed to potential semantic differences between queries. Consequently, our approach maintains a careful equilibrium between accuracy and robustness. To enhance robustness, a minor compromise in efficiency is sometimes necessary. However, in most cases, our model demonstrates improved accuracy. This improvement is facilitated by an additional stage of fine-tuning aimed at boosting model effectiveness. Furthermore, our uniquely designed loss function incorporates an accuracy component, ensuring continual improvement in accuracy.
        </p>
       </div>
      </li>
     </ul>
    </div>
   </section>
   <section class="ltx_subsubsection" id="S4.SS6.SSS2">
    <h4 class="ltx_title ltx_title_subsubsection">
     <span class="ltx_tag ltx_tag_subsubsection">
      <span class="ltx_text" id="S4.SS6.SSS2.4.1.1">
       IV-F
      </span>
      2
     </span>
     Robustness Analysis
    </h4>
    <div class="ltx_para" id="S4.SS6.SSS2.p1">
     <p class="ltx_p" id="S4.SS6.SSS2.p1.1">
      Robustness is our main concern in this paper, and the results are shown in Table
      <a class="ltx_ref" href="#S4.T3" title="TABLE III ‣ IV-E Query Quality Experiment ‣ IV Experiment ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
       <span class="ltx_text ltx_ref_tag">
        III
       </span>
      </a>
      . The analysis is listed as follows
     </p>
     <ul class="ltx_itemize" id="S4.I6">
      <li class="ltx_item" id="S4.I6.i1" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="S4.I6.i1.p1">
        <p class="ltx_p" id="S4.I6.i1.p1.1">
         Our model achieves the highest performance, owing to its framework design that effectively captures semantic similarities across different groups and employs a loss function to unify these groups. BM25 exhibits lower robustness due to its nature of fragile attributes for statistical models, vulnerable to varied queries. BERT-CE, ERNIE-CE, and RoBERTa-CE also show poor robustness, lacking generalization capabilities across various queries. In contrast, ANCE models fare better, attributed to their neighborhood search process that inherently adds robustness. CharacterBert models, implementing a self-teaching process and leveraging KL-divergence, significantly narrow performance gaps. Our models utilize JS-divergence in loss design and employ a multi-expert adapter network, dynamically addressing commonalities in agent queries, thereby outperforming all other models.
        </p>
       </div>
      </li>
      <li class="ltx_item" id="S4.I6.i2" style="list-style-type:none;">
       <span class="ltx_tag ltx_tag_item">
        •
       </span>
       <div class="ltx_para" id="S4.I6.i2.p1">
        <p class="ltx_p" id="S4.I6.i2.p1.1">
         In comparisons with various cross-encoders on both datasets, our models consistently indicate an enhancement in overall robustness performance. This improvement can be attributed to our innovative plug-in module design, during which we employ two stages of fine-tuning to more effectively improve the robustness of existing models. However, due to the differing parameter scales and capabilities of various backbone models, performance variations are observed. Notably, BERT-based backbone models demonstrate the most substantial performance improvements in Robust04, while RoBERTa-based models excel in industrial datasets. This difference could be attributed to different data distribution.
        </p>
       </div>
      </li>
     </ul>
    </div>
   </section>
  </section>
  <section class="ltx_subsection" id="S4.SS7">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS7.4.1.1">
      IV-G
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS7.5.2">
     Ablation Experiment
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS7.p1">
    <p class="ltx_p" id="S4.SS7.p1.1">
     The ablation study results are detailed in Table
     <a class="ltx_ref" href="#S4.T4" title="TABLE IV ‣ IV-G Ablation Experiment ‣ IV Experiment ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       IV
      </span>
     </a>
     . In this study, we evaluate five metrics on the industrial dataset: two effectiveness metrics (NDCG@10 and NDCG@20) and three robustness metrics (VNDCG@10, VNDCG@20, and VNAP). Our evaluation considers three distinct settings: first, the removal of the robust loss component, retaining only the accuracy loss (denoted as w/o-L); second, the exclusion of the robust MMoE module (denoted as w/o-N); and third, the elimination of both two components (denoted as w/o-N+L). Additionally, BERT is employed as the backbone model for this experiment.
    </p>
   </div>
   <div class="ltx_para" id="S4.SS7.p2">
    <p class="ltx_p" id="S4.SS7.p2.1">
     Our findings indicate that our model consistently outperforms across all experiments. However, there are additional observations that warrant discussion. Firstly, an analysis of the results reveals that the use of MMoE introduces certain interferences in effectiveness, particularly when compared with the results from w/o-N+L and w/o-N configurations. This suggests that relying solely on MMoE modules may be counterproductive due to potential negative impacts on the final outcomes. Moreover, when examining robustness metrics, both the robust loss and MMoE modules appear to play a crucial role in enhancing robustness. However, the robust loss seems to have a more significant impact on robustness. We hypothesize that this is due to its direct influence on the model’s performance, making it a pivotal factor in achieving superior results.
    </p>
   </div>
   <figure class="ltx_table" id="S4.T4">
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_table">
      TABLE IV:
     </span>
     Ablation Experiment Results On Industrial Dataset.
    </figcaption>
    <div class="ltx_flex_figure">
     <div class="ltx_flex_cell ltx_flex_size_1">
      <table class="ltx_tabular ltx_centering ltx_figure_panel ltx_guessed_headers ltx_align_middle" id="S4.T4.2">
       <thead class="ltx_thead">
        <tr class="ltx_tr" id="S4.T4.2.1.1">
         <th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.2.1.1.1" style="padding-left:2.8pt;padding-right:2.8pt;">
         </th>
         <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.2.1.1.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T4.2.1.1.2.1">
           Ours
          </span>
         </th>
         <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.1.1.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T4.2.1.1.3.1">
           w/o-L
          </span>
         </th>
         <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.1.1.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T4.2.1.1.4.1">
           w/o-N
          </span>
         </th>
         <th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.1.1.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T4.2.1.1.5.1">
           w/o-N+L
          </span>
         </th>
        </tr>
       </thead>
       <tbody class="ltx_tbody">
        <tr class="ltx_tr" id="S4.T4.2.2.1">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.2.2.1.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          NDCG@10
         </th>
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.2.2.1.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T4.2.2.1.2.1">
           0.5881*
          </span>
         </th>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.1.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5725
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.1.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5847
         </td>
         <td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.1.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.5739
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T4.2.3.2">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.2.3.2.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          NDCG@20
         </th>
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.2.3.2.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T4.2.3.2.2.1">
           0.6239*
          </span>
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T4.2.3.2.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.6102
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.2.3.2.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.6130
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.2.3.2.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.6109
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T4.2.4.3">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.2.4.3.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          VNDCG@10(e-5)
         </th>
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.2.4.3.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T4.2.4.3.2.1">
           1.650*
          </span>
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T4.2.4.3.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          4.795
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.2.4.3.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          2.206
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.2.4.3.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          5.625
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T4.2.5.4">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.2.5.4.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          VNDCG@20(e-5)
         </th>
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.2.5.4.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T4.2.5.4.2.1">
           1.903*
          </span>
         </th>
         <td class="ltx_td ltx_align_center" id="S4.T4.2.5.4.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          5.143
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.2.5.4.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          2.594
         </td>
         <td class="ltx_td ltx_align_center" id="S4.T4.2.5.4.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          7.372
         </td>
        </tr>
        <tr class="ltx_tr" id="S4.T4.2.6.5">
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T4.2.6.5.1" style="padding-left:2.8pt;padding-right:2.8pt;">
          VNAP
         </th>
         <th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T4.2.6.5.2" style="padding-left:2.8pt;padding-right:2.8pt;">
          <span class="ltx_text ltx_font_bold" id="S4.T4.2.6.5.2.1">
           0.7176*
          </span>
         </th>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T4.2.6.5.3" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.9068
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T4.2.6.5.4" style="padding-left:2.8pt;padding-right:2.8pt;">
          0.8346
         </td>
         <td class="ltx_td ltx_align_center ltx_border_b" id="S4.T4.2.6.5.5" style="padding-left:2.8pt;padding-right:2.8pt;">
          1.0360
         </td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="ltx_flex_break">
     </div>
     <div class="ltx_flex_cell ltx_flex_size_1">
      <p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.T4.1.1">
       “
       <span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1">
        *
       </span>
       ” indicates significance level test
       <math alttext="p&lt;0.05" class="ltx_Math" display="inline" id="S4.T4.1.1.m1.1">
        <semantics id="S4.T4.1.1.m1.1a">
         <mrow id="S4.T4.1.1.m1.1.1" xref="S4.T4.1.1.m1.1.1.cmml">
          <mi id="S4.T4.1.1.m1.1.1.2" xref="S4.T4.1.1.m1.1.1.2.cmml">
           p
          </mi>
          <mo id="S4.T4.1.1.m1.1.1.1" xref="S4.T4.1.1.m1.1.1.1.cmml">
           &lt;
          </mo>
          <mn id="S4.T4.1.1.m1.1.1.3" xref="S4.T4.1.1.m1.1.1.3.cmml">
           0.05
          </mn>
         </mrow>
         <annotation-xml encoding="MathML-Content" id="S4.T4.1.1.m1.1b">
          <apply id="S4.T4.1.1.m1.1.1.cmml" xref="S4.T4.1.1.m1.1.1">
           <lt id="S4.T4.1.1.m1.1.1.1.cmml" xref="S4.T4.1.1.m1.1.1.1">
           </lt>
           <ci id="S4.T4.1.1.m1.1.1.2.cmml" xref="S4.T4.1.1.m1.1.1.2">
            𝑝
           </ci>
           <cn id="S4.T4.1.1.m1.1.1.3.cmml" type="float" xref="S4.T4.1.1.m1.1.1.3">
            0.05
           </cn>
          </apply>
         </annotation-xml>
         <annotation encoding="application/x-tex" id="S4.T4.1.1.m1.1c">
          p&lt;0.05
         </annotation>
        </semantics>
       </math>
       .
      </p>
     </div>
    </div>
   </figure>
  </section>
  <section class="ltx_subsection" id="S4.SS8">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S4.SS8.4.1.1">
      IV-H
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S4.SS8.5.2">
     Hyper Parameter Experiment
    </span>
   </h3>
   <div class="ltx_para" id="S4.SS8.p1">
    <p class="ltx_p" id="S4.SS8.p1.7">
     In this part, we explore the impact of the hyper-parameter
     <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS8.p1.1.m1.1">
      <semantics id="S4.SS8.p1.1.m1.1a">
       <mi id="S4.SS8.p1.1.m1.1.1" xref="S4.SS8.p1.1.m1.1.1.cmml">
        α
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS8.p1.1.m1.1b">
        <ci id="S4.SS8.p1.1.m1.1.1.cmml" xref="S4.SS8.p1.1.m1.1.1">
         𝛼
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS8.p1.1.m1.1c">
        \alpha
       </annotation>
      </semantics>
     </math>
     as defined in Equation (
     <a class="ltx_ref" href="#S3.E11" title="In III-C3 Loss Design ‣ III-C Robust Ranking ‣ III Methodology ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       11
      </span>
     </a>
     ). The parameter
     <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS8.p1.2.m2.1">
      <semantics id="S4.SS8.p1.2.m2.1a">
       <mi id="S4.SS8.p1.2.m2.1.1" xref="S4.SS8.p1.2.m2.1.1.cmml">
        α
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS8.p1.2.m2.1b">
        <ci id="S4.SS8.p1.2.m2.1.1.cmml" xref="S4.SS8.p1.2.m2.1.1">
         𝛼
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS8.p1.2.m2.1c">
        \alpha
       </annotation>
      </semantics>
     </math>
     is pivotal, determining the balance between accuracy and robust loss within the overall loss, and consequently, it has a direct influence on the model’s final performance. Extending our previous discussion, we examine how changes in
     <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS8.p1.3.m3.1">
      <semantics id="S4.SS8.p1.3.m3.1a">
       <mi id="S4.SS8.p1.3.m3.1.1" xref="S4.SS8.p1.3.m3.1.1.cmml">
        α
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS8.p1.3.m3.1b">
        <ci id="S4.SS8.p1.3.m3.1.1.cmml" xref="S4.SS8.p1.3.m3.1.1">
         𝛼
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS8.p1.3.m3.1c">
        \alpha
       </annotation>
      </semantics>
     </math>
     impact the model’s accuracy and robustness. An
     <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS8.p1.4.m4.1">
      <semantics id="S4.SS8.p1.4.m4.1a">
       <mi id="S4.SS8.p1.4.m4.1.1" xref="S4.SS8.p1.4.m4.1.1.cmml">
        α
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS8.p1.4.m4.1b">
        <ci id="S4.SS8.p1.4.m4.1.1.cmml" xref="S4.SS8.p1.4.m4.1.1">
         𝛼
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS8.p1.4.m4.1c">
        \alpha
       </annotation>
      </semantics>
     </math>
     range from 5 to 30 was methodically chosen to study the resulting variations in accuracy and robustness metrics. These outcomes are depicted in Figure
     <a class="ltx_ref" href="#S4.F6" title="Figure 6 ‣ IV-H Hyper Parameter Experiment ‣ IV Experiment ‣ Agent4Ranking: Semantic Robust Ranking via Personalized Query Rewriting Using Multi-agent LLM">
      <span class="ltx_text ltx_ref_tag">
       6
      </span>
     </a>
     . As
     <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS8.p1.5.m5.1">
      <semantics id="S4.SS8.p1.5.m5.1a">
       <mi id="S4.SS8.p1.5.m5.1.1" xref="S4.SS8.p1.5.m5.1.1.cmml">
        α
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS8.p1.5.m5.1b">
        <ci id="S4.SS8.p1.5.m5.1.1.cmml" xref="S4.SS8.p1.5.m5.1.1">
         𝛼
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS8.p1.5.m5.1c">
        \alpha
       </annotation>
      </semantics>
     </math>
     is scaled up, the proportion of robust loss increases, leading to a decrease in the proportion of accuracy loss. Consequently, we observe a general uptrend in robustness while accuracy exhibits a downtrend. However, as
     <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS8.p1.6.m6.1">
      <semantics id="S4.SS8.p1.6.m6.1a">
       <mi id="S4.SS8.p1.6.m6.1.1" xref="S4.SS8.p1.6.m6.1.1.cmml">
        α
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS8.p1.6.m6.1b">
        <ci id="S4.SS8.p1.6.m6.1.1.cmml" xref="S4.SS8.p1.6.m6.1.1">
         𝛼
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS8.p1.6.m6.1c">
        \alpha
       </annotation>
      </semantics>
     </math>
     becomes larger, we notice a downtrend in both accuracy and robustness. Thus, the reasonable selection of
     <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS8.p1.7.m7.1">
      <semantics id="S4.SS8.p1.7.m7.1a">
       <mi id="S4.SS8.p1.7.m7.1.1" xref="S4.SS8.p1.7.m7.1.1.cmml">
        α
       </mi>
       <annotation-xml encoding="MathML-Content" id="S4.SS8.p1.7.m7.1b">
        <ci id="S4.SS8.p1.7.m7.1.1.cmml" xref="S4.SS8.p1.7.m7.1.1">
         𝛼
        </ci>
       </annotation-xml>
       <annotation encoding="application/x-tex" id="S4.SS8.p1.7.m7.1c">
        \alpha
       </annotation>
      </semantics>
     </math>
     is crucial for the model’s optimal performance, which should consider both robustness and accuracy.
    </p>
   </div>
   <figure class="ltx_figure" id="S4.F6">
    <div class="ltx_flex_figure">
     <div class="ltx_flex_cell ltx_flex_size_2">
      <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" height="223" id="S4.F6.g1" src="/html/2312.15450/assets/x9.png" width="223"/>
     </div>
     <div class="ltx_flex_cell ltx_flex_size_2">
      <img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" height="223" id="S4.F6.g2" src="/html/2312.15450/assets/x10.png" width="223"/>
     </div>
    </div>
    <figcaption class="ltx_caption ltx_centering">
     <span class="ltx_tag ltx_tag_figure">
      Figure 6:
     </span>
     Hyper-parameters experiment
    </figcaption>
   </figure>
  </section>
 </section>
 <section class="ltx_section" id="S5">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    V
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S5.1.1">
    Related Work
   </span>
  </h2>
  <div class="ltx_para" id="S5.p1">
   <p class="ltx_p" id="S5.p1.1">
    During this section, an introduction related to our topic will be elaborated.
We will first introduce the recent research on query rewriting for large language models. Then, we will present recent studies on robust ranking.
   </p>
  </div>
  <section class="ltx_subsection" id="S5.SS1">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S5.SS1.4.1.1">
      V-A
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S5.SS1.5.2">
     LLMs for Query Rewriting
    </span>
   </h3>
   <div class="ltx_para" id="S5.SS1.p1">
    <p class="ltx_p" id="S5.SS1.p1.1">
     Traditional search engine systems encounter difficulties with ambiguous user queries, resulting in a vocabulary mismatch. The emergence of Large Language Models (LLMs) offers a substantial opportunity to revolutionize query rewriting capabilities. We categorized current LLMs-based query rewriting methods into four types: The first type is the prompting strategy, which deging prompt to instruct LLMs to rewrite queries. The approach like zero-shot prompting
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib38" title="">
       38
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib39" title="">
       39
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib18" title="">
       18
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib19" title="">
       19
      </a>
      ]
     </cite>
     , few-shot learning
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib20" title="">
       20
      </a>
      ,
      <a class="ltx_ref" href="#bib.bib17" title="">
       17
      </a>
      ]
     </cite>
     , and CoT prompting, like
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib20" title="">
       20
      </a>
      ]
     </cite>
     .
The second type is the fine-tuning strategy, which fine-tune LLMs on on specific datasets. in the paper
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib23" title="">
       23
      </a>
      ]
     </cite>
     , fine-tuned LLMs are employed to modify queries, and then read the associated documents, contributing to the refinement of query quality.
The third category is retrieval-augmented methods, involving rewriting queries using retrieval strategies. In
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib23" title="">
       23
      </a>
      ]
     </cite>
     , an external search engine supplements query information. Similarly,
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib17" title="">
       17
      </a>
      ]
     </cite>
     describes creating fake documents and employing a web search engine to obtain external documents as ground-truth data for query rewriting.
Another type is the knowledge distillation method, addressing the deployment limitations of LLMs due to reference speed constraints. In
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib40" title="">
       40
      </a>
      ]
     </cite>
     , the author first fine-tuned an LLM on the query-rewriting dataset, followed by two steps of distillation. Firstly, a professor model is distilled into a teacher model, and then, the teacher model is distilled into a lightweight BERT student model for query rewriting.
Our method falls into prompting strategies. However, it distinctively utilizes LLMs as varied role agents, diverging from traditional prompting approaches.
    </p>
   </div>
  </section>
  <section class="ltx_subsection" id="S5.SS2">
   <h3 class="ltx_title ltx_title_subsection">
    <span class="ltx_tag ltx_tag_subsection">
     <span class="ltx_text" id="S5.SS2.4.1.1">
      V-B
     </span>
    </span>
    <span class="ltx_text ltx_font_italic" id="S5.SS2.5.2">
     Robust Ranking
    </span>
   </h3>
   <div class="ltx_para" id="S5.SS2.p1">
    <p class="ltx_p" id="S5.SS2.p1.1">
     Pre-trained language models have demonstrated exceptional performance in retrieval and ranking tasks. However, while traditional research has predominantly focused on effectiveness, neural models are often susceptible to errors when confronted with altered input, prompting recent studies to prioritize robustness.
In
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib10" title="">
       10
      </a>
      ]
     </cite>
     , the author assesses the robustness of current retrieval pipelines by introducing various query variants, including specialization, misspelling, naturality, ordering, and paraphrasing. The findings reveal a significant decrease in effectiveness when queries undergo disturbances.
In
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib11" title="">
       11
      </a>
      ]
     </cite>
     , a contrastive aligning method is proposed to enhance robustness. This method clusters positive samples, distinguishing them from negative samples to improve overall system robustness. Another approach, CharacterBert
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib12" title="">
       12
      </a>
      ]
     </cite>
     , is introduced to bolster robustness in the face of query typos. CharacterBert is used to encode both the original document and queries, employing a self-teaching paradigm with KL-divergence to enforce an identical distribution across queries and queries with typos.
In
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib41" title="">
       41
      </a>
      ]
     </cite>
     , adversarial training is proposed as a method to increase robustness. The authors explore FGSM techniques to make the model more robust to variations in input.
Addressing misspelling queries, work
     <cite class="ltx_cite ltx_citemacro_cite">
      [
      <a class="ltx_ref" href="#bib.bib33" title="">
       33
      </a>
      ]
     </cite>
     focuses on query augmentation models to generate misspelling queries. It calculates the similarity score distribution between each query and a passage list, then introduces a dual self-teaching loss for alignment. These studies collectively contribute to the ongoing efforts to enhance the robustness of pre-trained language models in retrieval tasks.
    </p>
   </div>
   <div class="ltx_para" id="S5.SS2.p2">
    <p class="ltx_p" id="S5.SS2.p2.1">
     Our architecture for enhancing robustness incorporates two distinct tasks: the MMoE module and the loss design module. In contrast to self-teaching methods, our approach leverages JS divergence to narrow the gap between different distributions.
    </p>
   </div>
  </section>
 </section>
 <section class="ltx_section" id="S6">
  <h2 class="ltx_title ltx_title_section">
   <span class="ltx_tag ltx_tag_section">
    VI
   </span>
   <span class="ltx_text ltx_font_smallcaps" id="S6.1.1">
    Conclusion
   </span>
  </h2>
  <div class="ltx_para" id="S6.p1">
   <p class="ltx_p" id="S6.p1.1">
    In this paper, we introduce an innovative pipeline designed to enhance the robustness of existing ranking models in search engines from demographic perspectives. Our pipeline comprises two main components: query rewriting leveraging multi-role LLM agents and a novel framework including a MMoE robustness model and a robust loss function. During the initial phase, we employ LLMs in various roles as agents to effectively rewrite queries. Subsequently, we introduce a framework with an MMoE robust model and a robust loss function. These two elements jointly improve the robustness of the ranking results, particularly when dealing with queries that have different semantic inputs. Extensive experimentations are conducted to validate the effectiveness of our proposed framework. Future research will explore the possibility of directly involving LLMs in the ranking process and enhancing interpretability to further improve robustness.
   </p>
  </div>
 </section>
 <section class="ltx_bibliography" id="bib">
  <h2 class="ltx_title ltx_title_bibliography">
   References
  </h2>
  <ul class="ltx_biblist">
   <li class="ltx_bibitem" id="bib.bib1">
    <span class="ltx_tag ltx_tag_bibitem">
     [1]
    </span>
    <span class="ltx_bibblock">
     A. Ntoulas, J. Cho, and C. Olston, “What’s new on the web? the evolution of
the web from a search engine perspective,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">
      Proceedings of the 13th
international conference on World Wide Web
     </em>
     , 2004, pp. 1–12.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib2">
    <span class="ltx_tag ltx_tag_bibitem">
     [2]
    </span>
    <span class="ltx_bibblock">
     G. Salton, A. Wong, and C.-S. Yang, “A vector space model for automatic
indexing,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">
      Communications of the ACM
     </em>
     , vol. 18, no. 11, pp. 613–620,
1975.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib3">
    <span class="ltx_tag ltx_tag_bibitem">
     [3]
    </span>
    <span class="ltx_bibblock">
     S. E. Robertson and K. S. Jones, “Relevance weighting of search terms,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">
      Journal of the American Society for Information science
     </em>
     , vol. 27,
no. 3, pp. 129–146, 1976.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib4">
    <span class="ltx_tag ltx_tag_bibitem">
     [4]
    </span>
    <span class="ltx_bibblock">
     Z. Dai and J. Callan, “Deeper text understanding for ir with contextual neural
language modeling,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">
      Proceedings of the 42nd international ACM SIGIR
conference on research and development in information retrieval
     </em>
     , 2019, pp.
985–988.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib5">
    <span class="ltx_tag ltx_tag_bibitem">
     [5]
    </span>
    <span class="ltx_bibblock">
     Z. Dai, C. Xiong, J. Callan, and Z. Liu, “Convolutional neural networks for
soft-matching n-grams in ad-hoc search,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">
      Proceedings of the
eleventh ACM international conference on web search and data mining
     </em>
     , 2018,
pp. 126–134.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib6">
    <span class="ltx_tag ltx_tag_bibitem">
     [6]
    </span>
    <span class="ltx_bibblock">
     J. Guo, Y. Fan, Q. Ai, and W. B. Croft, “A deep relevance matching model for
ad-hoc retrieval,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">
      Proceedings of the 25th ACM international on
conference on information and knowledge management
     </em>
     , 2016, pp. 55–64.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib7">
    <span class="ltx_tag ltx_tag_bibitem">
     [7]
    </span>
    <span class="ltx_bibblock">
     J.-C. Gu, T. Li, Q. Liu, Z.-H. Ling, Z. Su, S. Wei, and X. Zhu, “Speaker-aware
bert for multi-turn response selection in retrieval-based chatbots,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">
      Proceedings of the 29th ACM International Conference on Information &amp;
Knowledge Management
     </em>
     , 2020, pp. 2041–2044.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib8">
    <span class="ltx_tag ltx_tag_bibitem">
     [8]
    </span>
    <span class="ltx_bibblock">
     X. Ma, J. Guo, R. Zhang, Y. Fan, Y. Li, and X. Cheng, “B-prop: bootstrapped
pre-training with representative words prediction for ad-hoc retrieval,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">
      Proceedings of the 44th International ACM SIGIR Conference on Research
and Development in Information Retrieval
     </em>
     , 2021, pp. 1513–1522.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib9">
    <span class="ltx_tag ltx_tag_bibitem">
     [9]
    </span>
    <span class="ltx_bibblock">
     M. Dash and H. Liu, “Consistency-based search in feature selection,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">
      Artificial intelligence
     </em>
     , vol. 151, no. 1-2, pp. 155–176, 2003.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib10">
    <span class="ltx_tag ltx_tag_bibitem">
     [10]
    </span>
    <span class="ltx_bibblock">
     G. Penha, A. Câmara, and C. Hauff, “Evaluating the robustness of retrieval
pipelines with query variation generators,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">
      European conference on
information retrieval
     </em>
     .   Springer,
2022, pp. 397–412.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib11">
    <span class="ltx_tag ltx_tag_bibitem">
     [11]
    </span>
    <span class="ltx_bibblock">
     D. Campos, C. Zhai, and A. Magnani, “Noise-robust dense retrieval via
contrastive alignment post training,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">
      arXiv e-prints
     </em>
     , pp.
arXiv–2304, 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib12">
    <span class="ltx_tag ltx_tag_bibitem">
     [12]
    </span>
    <span class="ltx_bibblock">
     S. Zhuang and G. Zuccon, “Characterbert and self-teaching for improving the
robustness of dense retrievers on queries with typos,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">
      Proceedings
of the 45th International ACM SIGIR Conference on Research and Development in
Information Retrieval
     </em>
     , 2022, pp. 1444–1454.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib13">
    <span class="ltx_tag ltx_tag_bibitem">
     [13]
    </span>
    <span class="ltx_bibblock">
     CNNIC, “Statistical report on internet development in china,”
     <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">
      https://www.cnnic.net.cn/n4/2022/0401/c88-1125.html
     </span>
     .
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib14">
    <span class="ltx_tag ltx_tag_bibitem">
     [14]
    </span>
    <span class="ltx_bibblock">
     P. Jia, Y. Liu, X. Zhao, X. Li, C. Hao, S. Wang, and D. Yin, “Mill: Mutual
verification with large language models for zero-shot query expansion,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">
      arXiv preprint arXiv:2310.19056
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib15">
    <span class="ltx_tag ltx_tag_bibitem">
     [15]
    </span>
    <span class="ltx_bibblock">
     J. Hao, Y. Liu, X. Fan, S. Gupta, S. Soltan, R. Chada, P. Natarajan, C. Guo,
and G. Tür, “Cgf: Constrained generation framework for query rewriting
in conversational ai,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">
      Proceedings of the 2022 Conference on
Empirical Methods in Natural Language Processing: Industry Track
     </em>
     , 2022, pp.
475–483.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib16">
    <span class="ltx_tag ltx_tag_bibitem">
     [16]
    </span>
    <span class="ltx_bibblock">
     L. Gao, X. Ma, J. Lin, and J. Callan, “Precise zero-shot dense retrieval
without relevance labels,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">
      arXiv preprint arXiv:2212.10496
     </em>
     , 2022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib17">
    <span class="ltx_tag ltx_tag_bibitem">
     [17]
    </span>
    <span class="ltx_bibblock">
     L. Wang, N. Yang, and F. Wei, “Query2doc: Query expansion with large language
models,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">
      arXiv preprint arXiv:2303.07678
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib18">
    <span class="ltx_tag ltx_tag_bibitem">
     [18]
    </span>
    <span class="ltx_bibblock">
     T. Shen, G. Long, X. Geng, C. Tao, T. Zhou, and D. Jiang, “Large language
models are strong zero-shot retriever,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">
      arXiv preprint
arXiv:2304.14233
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib19">
    <span class="ltx_tag ltx_tag_bibitem">
     [19]
    </span>
    <span class="ltx_bibblock">
     M. Alaofi, L. Gallagher, M. Sanderson, F. Scholer, and P. Thomas, “Can
generative llms create query variants for test collections? an exploratory
study,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">
      Proceedings of the 46th International ACM SIGIR Conference
on Research and Development in Information Retrieval
     </em>
     , 2023, pp. 1869–1873.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib20">
    <span class="ltx_tag ltx_tag_bibitem">
     [20]
    </span>
    <span class="ltx_bibblock">
     R. Jagerman, H. Zhuang, Z. Qin, X. Wang, and M. Bendersky, “Query expansion by
prompting large language models,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">
      arXiv preprint arXiv:2305.03653
     </em>
     ,
2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib21">
    <span class="ltx_tag ltx_tag_bibitem">
     [21]
    </span>
    <span class="ltx_bibblock">
     W. Yu, D. Iter, S. Wang, Y. Xu, M. Ju, S. Sanyal, C. Zhu, M. Zeng, and
M. Jiang, “Generate rather than retrieve: Large language models are strong
context generators,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">
      arXiv preprint arXiv:2209.10063
     </em>
     , 2022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib22">
    <span class="ltx_tag ltx_tag_bibitem">
     [22]
    </span>
    <span class="ltx_bibblock">
     G. Izacard and E. Grave, “Leveraging passage retrieval with generative models
for open domain question answering,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">
      arXiv preprint arXiv:2007.01282
     </em>
     ,
2020.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib23">
    <span class="ltx_tag ltx_tag_bibitem">
     [23]
    </span>
    <span class="ltx_bibblock">
     X. Ma, Y. Gong, P. He, H. Zhao, and N. Duan, “Query rewriting for
retrieval-augmented large language models,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">
      arXiv preprint
arXiv:2305.14283
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib24">
    <span class="ltx_tag ltx_tag_bibitem">
     [24]
    </span>
    <span class="ltx_bibblock">
     A. Anand, A. Anand, V. Setty
     <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">
      et al.
     </em>
     , “Query understanding in the age of
large language models,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib24.2.2">
      arXiv preprint arXiv:2306.16004
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib25">
    <span class="ltx_tag ltx_tag_bibitem">
     [25]
    </span>
    <span class="ltx_bibblock">
     N. Reimers and I. Gurevych, “Sentence-bert: Sentence embeddings using siamese
bert-networks,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">
      arXiv preprint arXiv:1908.10084
     </em>
     , 2019.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib26">
    <span class="ltx_tag ltx_tag_bibitem">
     [26]
    </span>
    <span class="ltx_bibblock">
     J. Devlin, M.-W. Chang, K. Lee, and K. Toutanova, “Bert: Pre-training of deep
bidirectional transformers for language understanding,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">
      arXiv preprint
arXiv:1810.04805
     </em>
     , 2018.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib27">
    <span class="ltx_tag ltx_tag_bibitem">
     [27]
    </span>
    <span class="ltx_bibblock">
     Y. Liu, M. Ott, N. Goyal, J. Du, M. Joshi, D. Chen, O. Levy, M. Lewis,
L. Zettlemoyer, and V. Stoyanov, “Roberta: A robustly optimized bert
pretraining approach,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">
      arXiv preprint arXiv:1907.11692
     </em>
     , 2019.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib28">
    <span class="ltx_tag ltx_tag_bibitem">
     [28]
    </span>
    <span class="ltx_bibblock">
     Y. Sun, S. Wang, Y. Li, S. Feng, H. Tian, H. Wu, and H. Wang, “Ernie 2.0: A
continual pre-training framework for language understanding,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">
      Proceedings of the AAAI conference on artificial intelligence
     </em>
     ,
vol. 34, no. 05, 2020, pp. 8968–8975.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib29">
    <span class="ltx_tag ltx_tag_bibitem">
     [29]
    </span>
    <span class="ltx_bibblock">
     J. Ma, Z. Zhao, X. Yi, J. Chen, L. Hong, and E. H. Chi, “Modeling task
relationships in multi-task learning with multi-gate mixture-of-experts,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">
      Proceedings of the 24th ACM SIGKDD international conference on
knowledge discovery &amp; data mining
     </em>
     , 2018, pp. 1930–1939.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib30">
    <span class="ltx_tag ltx_tag_bibitem">
     [30]
    </span>
    <span class="ltx_bibblock">
     N. Houlsby, A. Giurgiu, S. Jastrzebski, B. Morrone, Q. De Laroussilhe,
A. Gesmundo, M. Attariyan, and S. Gelly, “Parameter-efficient transfer
learning for nlp,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">
      International Conference on Machine
Learning
     </em>
     .   PMLR, 2019, pp. 2790–2799.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib31">
    <span class="ltx_tag ltx_tag_bibitem">
     [31]
    </span>
    <span class="ltx_bibblock">
     R. Wang, D. Tang, N. Duan, Z. Wei, X. Huang, G. Cao, D. Jiang, M. Zhou
     <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">
      et al.
     </em>
     , “K-adapter: Infusing knowledge into pre-trained models with
adapters,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib31.2.2">
      arXiv preprint arXiv:2002.01808
     </em>
     , 2020.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib32">
    <span class="ltx_tag ltx_tag_bibitem">
     [32]
    </span>
    <span class="ltx_bibblock">
     X. Li, F. Yan, X. Zhao, Y. Wang, B. Chen, H. Guo, and R. Tang, “Hamur: Hyper
adapter for multi-domain recommendation,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">
      Proceedings of the 32nd
ACM International Conference on Information and Knowledge Management
     </em>
     , 2023,
pp. 1268–1277.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib33">
    <span class="ltx_tag ltx_tag_bibitem">
     [33]
    </span>
    <span class="ltx_bibblock">
     P. Tasawong, W. Ponwitayarat, P. Limkonchotiwat, C. Udomcharoenchaikit,
E. Chuangsuwanich, and S. Nutanong, “Typo-robust representation learning for
dense retrieval,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">
      arXiv preprint arXiv:2306.10348
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib34">
    <span class="ltx_tag ltx_tag_bibitem">
     [34]
    </span>
    <span class="ltx_bibblock">
     S. Robertson, H. Zaragoza
     <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">
      et al.
     </em>
     , “The probabilistic relevance
framework: Bm25 and beyond,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib34.2.2">
      Foundations and Trends®
in Information Retrieval
     </em>
     , vol. 3, no. 4, pp. 333–389, 2009.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib35">
    <span class="ltx_tag ltx_tag_bibitem">
     [35]
    </span>
    <span class="ltx_bibblock">
     L. Xiong, C. Xiong, Y. Li, K.-F. Tang, J. Liu, P. Bennett, J. Ahmed, and
A. Overwijk, “Approximate nearest neighbor negative contrastive learning for
dense text retrieval,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">
      arXiv preprint arXiv:2007.00808
     </em>
     , 2020.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib36">
    <span class="ltx_tag ltx_tag_bibitem">
     [36]
    </span>
    <span class="ltx_bibblock">
     C. Wu, R. Zhang, J. Guo, Y. Fan, and X. Cheng, “Are neural ranking models
robust?”
     <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">
      ACM Transactions on Information Systems
     </em>
     , vol. 41, no. 2, pp.
1–36, 2022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib37">
    <span class="ltx_tag ltx_tag_bibitem">
     [37]
    </span>
    <span class="ltx_bibblock">
     N. Thakur, N. Reimers, A. Rücklé, A. Srivastava, and I. Gurevych,
“Beir: A heterogenous benchmark for zero-shot evaluation of information
retrieval models,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">
      arXiv preprint arXiv:2104.08663
     </em>
     , 2021.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib38">
    <span class="ltx_tag ltx_tag_bibitem">
     [38]
    </span>
    <span class="ltx_bibblock">
     J. Feng, C. Tao, X. Geng, T. Shen, C. Xu, G. Long, D. Zhao, and D. Jiang,
“Knowledge refinement via interaction between search engines and large
language models,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">
      arXiv preprint arXiv:2305.07402
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib39">
    <span class="ltx_tag ltx_tag_bibitem">
     [39]
    </span>
    <span class="ltx_bibblock">
     I. Mackie, S. Chatterjee, and J. Dalton, “Generative and pseudo-relevant
feedback for sparse, dense and learned sparse retrieval,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">
      arXiv
preprint arXiv:2305.07477
     </em>
     , 2023.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib40">
    <span class="ltx_tag ltx_tag_bibitem">
     [40]
    </span>
    <span class="ltx_bibblock">
     K. Srinivasan, K. Raman, A. Samanta, L. Liao, L. Bertelli, and M. Bendersky,
“Quill: Query intent with large language models using retrieval augmentation
and multi-stage distillation,”
     <em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">
      arXiv preprint arXiv:2210.15718
     </em>
     , 2022.
    </span>
   </li>
   <li class="ltx_bibitem" id="bib.bib41">
    <span class="ltx_tag ltx_tag_bibitem">
     [41]
    </span>
    <span class="ltx_bibblock">
     S. Lupart and S. Clinchant, “A study on fgsm adversarial training for neural
retrieval,” in
     <em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">
      European Conference on Information Retrieval
     </em>
     .   Springer, 2023, pp. 484–492.
    </span>
   </li>
  </ul>
 </section>
</article>
