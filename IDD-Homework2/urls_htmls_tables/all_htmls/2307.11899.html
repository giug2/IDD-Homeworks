<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2307.11899] Project Florida: Federated Learning Made Easy</title><meta property="og:description" content="We present Project Florida, a system architecture and software development kit (SDK) enabling deployment of large-scale Federated Learning (FL) solutions across a heterogeneous device ecosystem. Federated learning is a…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Project Florida: Federated Learning Made Easy">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Project Florida: Federated Learning Made Easy">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2307.11899">

<!--Generated on Wed Feb 28 17:03:54 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Project Florida: Federated Learning Made Easy</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Daniel Madrigal Diaz, Andre Manoel, Jialei Chen, Nalin Singal, Robert Sim 
<br class="ltx_break">{danielmad,andre.manoel,jialeichen,rsim}@microsoft.com, singal.nalin@gmail.com

<br class="ltx_break"> Microsoft Corporation
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">We present <em id="id1.id1.1" class="ltx_emph ltx_font_italic">Project Florida</em>, a system architecture and software development kit (SDK) enabling deployment of large-scale Federated Learning (FL) solutions across a heterogeneous device ecosystem. Federated learning is an approach to machine learning based on a strong data sovereignty principle- i.e. that privacy and security of data is best enabled by storing it at its origin, whether on end-user devices or in segregated cloud storage silos. Federated learning enables model training across devices and silos while the training data remains within its security boundary, by distributing a model snapshot to a client running inside the boundary, running client code to update the model, and then aggregating updated snapshots across many clients in a central orchestrator. Deploying a FL solution requires implementation of complex privacy and security mechanisms as well as scalable orchestration infrastructure. Scale and performance is a paramount concern, as the model training process benefits from full participation of many client devices, which may have a wide variety of performance characteristics. Project Florida aims to simplify the task of deploying cross-device FL solutions by providing cloud-hosted infrastructure and accompanying task management interfaces, as well as a multi-platform SDK supporting most major programming languages including C++, Java, and Python, enabling FL training across a wide range of operating system (OS) and hardware specifications. The architecture decouples service management from the FL workflow, enabling a cloud service provider to deliver FL-as-a-service (FLaaS) to ML engineers and application developers. We present an overview of Florida, including a description of the architecture, sample code, and illustrative experiments demonstrating system capabilities.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> is a machine learning paradigm that enables multiple entities to collaboratively train a shared model without sharing their own data. This approach can protect the privacy and security of the data owners, and leverage the diversity and richness of distributed data sources. For example, federated learning can be used to train a speech recognition model across different devices, or a text prediction model across different end user smartphones <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> . Each entity/client locally trains a model on its own data, and periodically communicates with a central server that coordinates the model updates and aggregates them into a global model. This approach can offer benefits such as privacy preservation, bandwidth reduction, and scalability. However, implementing a platform to do federated learning also poses several challenges, such as:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p"><span id="S1.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Communication efficiency:</span> Federated learning requires frequent and reliable communication between the central server and the participating devices or nodes, which can incur high bandwidth and latency costs, especially for large-scale and mobile scenarios. The platform needs to optimize the communication protocols, compression techniques, and synchronization strategies to reduce the communication overhead and ensure the quality of service.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p"><span id="S1.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Client heterogeneity:</span> The clients may have different hardware, software, network, and power capabilities, which can affect the efficiency and reliability of the federated learning process. For example, some clients may have faster or more powerful devices than others, some clients may have different software versions or platforms, some clients may have unstable or limited network connections, and some clients may have low battery or high mobility. These factors can introduce latency, communication overhead, or failure in the federated learning process, and require careful design of the federated learning protocol, such as compression, synchronization, or fault-tolerant methods.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p"><span id="S1.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">Privacy and security:</span> Federated learning aims to protect the data privacy and security of the participants, but it also faces potential threats from malicious or compromised parties, such as data leakage, model poisoning and inference attacks. The platform needs to incorporate various privacy and security mechanisms, such as encryption, differential privacy, secure aggregation, and client attestation, to prevent or mitigate these attacks and ensure the trustworthiness of the federated learning process.</p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p id="S1.I1.i4.p1.1" class="ltx_p"><span id="S1.I1.i4.p1.1.1" class="ltx_text ltx_font_bold">Asynchrony:</span> FL workflows benefit from increased scale, which can lead to slow convergence when the training workflow is synchronously orchestrated. Asynchronous protocols such as Papaya <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, which enable the orchestrator to merge late-arriving results can enable scaling to millions or hundreds of millions of connected devices.</p>
</div>
</li>
</ul>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">To address these challenges we developed Project Florida, a cross-device federated learning platform that aims to facilitate the development, deployment, and evaluation of federated learning applications in various domains and scenarios. Florida is designed to decouple service deployment and management from the application and machine learning lifecycles, enabling cloud service providers to deliver Federated Learning as a Service (FLaaS) solutions to a variety of customers interested to deploy FL workflows. This decoupling was validated in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>, where a third-party speech verification system was deployed using a first-party managed Florida deployment for orchestration.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In the following sections, we will present the Florida architecture, describe each of its components in detail, and demonstrate the use of the platform to train a spam classification model. The main contributions of this work can be summarized as follows:</p>
</div>
<div id="S1.p4" class="ltx_para">
<ul id="S1.I2" class="ltx_itemize">
<li id="S1.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I2.i1.p1" class="ltx_para">
<p id="S1.I2.i1.p1.1" class="ltx_p">An overview of Florida, it’s architecture and main features.</p>
</div>
</li>
<li id="S1.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I2.i2.p1" class="ltx_para">
<p id="S1.I2.i2.p1.1" class="ltx_p">A breakdown of FLaaS tasks relative to application developer, service engineer, and data scientist personas, and how Florida cleanly separates these personas.</p>
</div>
</li>
<li id="S1.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I2.i3.p1" class="ltx_para">
<p id="S1.I2.i3.p1.1" class="ltx_p">Experimental validation of the platform, including model training and scale testing</p>
</div>
</li>
<li id="S1.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I2.i4.p1" class="ltx_para">
<p id="S1.I2.i4.p1.1" class="ltx_p">A discussion of future opportunities for FLaaS platforms.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Florida Platform</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Florida is a cross-device federated learning platform designed to support production-oriented scenarios where data privacy, efficiency and robustness are crucial. Florida provides cross-platform SDKs that enable heterogeneous devices to communicate with the server, train and evaluate models locally, and use cross-compatible cryptographic functions to protect model updates. It also offers back-end services that run on cloud infrastructure that securely orchestrate the devices and aggregate the incoming model updates. Additionally, it has user interfaces (CLI/GUI) that allow users to easily create, manage and monitor federated learning tasks.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">Florida provides a FLaaS solution that enables developers and ML researchers to create and deploy applications with federated learning capabilities. It abstracts the complexity of federated learning algorithms, communication protocols, and security mechanisms, and provides user-friendly APIs. Florida’s features include:</p>
</div>
<div id="S2.p3" class="ltx_para">
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.1" class="ltx_p"><span id="S2.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">ML Framework Agnostic:</span> Use the training and inference framework best suited to the application.</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.1" class="ltx_p"><span id="S2.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">General-purpose:</span> Support for typical weighted FL aggregation schemes such as FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, FedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, and DGA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>.</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p id="S2.I1.i3.p1.1" class="ltx_p"><span id="S2.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">Built-in Privacy and Security Features:</span> Differential Privacy and Secure Aggregation are included out-of-the-box.</p>
</div>
</li>
<li id="S2.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i4.p1" class="ltx_para">
<p id="S2.I1.i4.p1.1" class="ltx_p"><span id="S2.I1.i4.p1.1.1" class="ltx_text ltx_font_bold">Support for Heterogeneous Devices:</span> A fully cross-platform SDK with mutually compatible security primitives, enabling deployment of FL tasks across a heterogeneous device ecosystem. Currently supported languages include C#, Javascript/TypeScript, C++, Kotlin (Java) and Python.</p>
</div>
</li>
<li id="S2.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i5.p1" class="ltx_para">
<p id="S2.I1.i5.p1.1" class="ltx_p"><span id="S2.I1.i5.p1.1.1" class="ltx_text ltx_font_bold">Support for Synchronous or Asynchronous FL:</span> a Florida task can be configured for synchronous or asynchronous updates from clients, enabling straggler devices to contribute work.</p>
</div>
</li>
<li id="S2.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i6.p1" class="ltx_para">
<p id="S2.I1.i6.p1.1" class="ltx_p"><span id="S2.I1.i6.p1.1.1" class="ltx_text ltx_font_bold">Florida Dashboard and CLI:</span> a web UI that allows ML scientists to create, manage and monitor FL tasks. The UI also enables visualizing metrics such as accuracy, loss, etc; and a command-line interface for scripting service and workflow management.</p>
</div>
</li>
<li id="S2.I1.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i7.p1" class="ltx_para">
<p id="S2.I1.i7.p1.1" class="ltx_p"><span id="S2.I1.i7.p1.1.1" class="ltx_text ltx_font_bold">Security:</span> User access control and security group permissions to enable collaborative FL task management.</p>
</div>
</li>
<li id="S2.I1.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i8.p1" class="ltx_para">
<p id="S2.I1.i8.p1.1" class="ltx_p"><span id="S2.I1.i8.p1.1.1" class="ltx_text ltx_font_bold">Android Device Attestation:</span> Support to validate Google Play Integrity verdicts and Huawei SysIntegrity.</p>
</div>
</li>
</ul>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>User Personas</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">Florida is designed with a set of distinct user personas in mind. Production FL systems require a variety of development efforts that leverage widely different skill sets. Furthermore, the economics of building and deploying FL solutions suggests the need for reusable orchestration architecture which can span a range of applications and/or organizations. In principle, a single service deployment could service multiple independent customers with their own application provisioning and ML toolchains. Table <a href="#S2.T1" title="Table 1 ‣ 2.1 User Personas ‣ 2 Florida Platform ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> describes the three main personas in mind while designing Florida, and illustrates how development tasks are clearly delineated between the three. Florida is modularized such that service deployment and management can be completely decoupled from the application development life cycle. Furthermore, the platform minimizes requirements on any single ML framework, enabling the ML engineer to select the framework(s) that are best suited to the device capabilities and learning task.</p>
</div>
<figure id="S2.T1" class="ltx_table">
<table id="S2.T1.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S2.T1.1.1.1" class="ltx_tr">
<td id="S2.T1.1.1.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r ltx_border_t">
<span id="S2.T1.1.1.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.1.1.1.1.1.1" class="ltx_p" style="width:122.9pt;"><span id="S2.T1.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Devops Engineer</span></span>
</span>
</td>
<td id="S2.T1.1.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="S2.T1.1.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.1.1.1.2.1.1" class="ltx_p" style="width:122.9pt;"><span id="S2.T1.1.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Application Engineer</span></span>
</span>
</td>
<td id="S2.T1.1.1.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="S2.T1.1.1.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.1.1.1.3.1.1" class="ltx_p" style="width:122.9pt;"><span id="S2.T1.1.1.1.3.1.1.1" class="ltx_text ltx_font_bold">ML Engineer</span></span>
</span>
</td>
</tr>
<tr id="S2.T1.1.2.2" class="ltx_tr">
<td id="S2.T1.1.2.2.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r ltx_border_t">
<span id="S2.T1.1.2.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.1.2.2.1.1.1" class="ltx_p" style="width:122.9pt;">
<span id="S2.I2" class="ltx_itemize">
<span id="S2.I2.i1" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I2.i1.p1" class="ltx_para">
<span id="S2.I2.i1.p1.1" class="ltx_p">Build and manage service container images</span>
</span></span>
<span id="S2.I2.i2" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I2.i2.p1" class="ltx_para">
<span id="S2.I2.i2.p1.1" class="ltx_p">Configure compute, scale-out parameters</span>
</span></span>
<span id="S2.I2.i3" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I2.i3.p1" class="ltx_para">
<span id="S2.I2.i3.p1.1" class="ltx_p">Deploy services</span>
</span></span>
<span id="S2.I2.i4" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I2.i4.p1" class="ltx_para">
<span id="S2.I2.i4.p1.1" class="ltx_p">(optionally) manage metering and billing for 3P access</span>
</span></span>
</span></span>
</span>
</td>
<td id="S2.T1.1.2.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_r ltx_border_t">
<span id="S2.T1.1.2.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.1.2.2.2.1.1" class="ltx_p" style="width:122.9pt;">
<span id="S2.I3" class="ltx_itemize">
<span id="S2.I3.i1" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I3.i1.p1" class="ltx_para">
<span id="S2.I3.i1.p1.1" class="ltx_p">Responsible for application lifecycle (e.g. touch keyboard app)</span>
</span></span>
<span id="S2.I3.i2" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I3.i2.p1" class="ltx_para">
<span id="S2.I3.i2.p1.1" class="ltx_p">Manages app deployment to device ecosystem</span>
</span></span>
<span id="S2.I3.i3" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I3.i3.p1" class="ltx_para">
<span id="S2.I3.i3.p1.1" class="ltx_p">Defines app-dependent ML use case</span>
</span></span>
<span id="S2.I3.i4" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I3.i4.p1" class="ltx_para">
<span id="S2.I3.i4.p1.1" class="ltx_p">Sets task-, app-, or device-dependent criteria for triggering local training</span>
</span></span>
<span id="S2.I3.i5" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I3.i5.p1" class="ltx_para">
<span id="S2.I3.i5.p1.1" class="ltx_p">coordinates with ML engineer to define ML and data lifecycle components in the context of the app.</span>
</span></span>
</span></span>
</span>
</td>
<td id="S2.T1.1.2.2.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_r ltx_border_t">
<span id="S2.T1.1.2.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.1.2.2.3.1.1" class="ltx_p" style="width:122.9pt;">
<span id="S2.I4" class="ltx_itemize">
<span id="S2.I4.i1" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I4.i1.p1" class="ltx_para">
<span id="S2.I4.i1.p1.1" class="ltx_p">Develops on-device data pipeline, training loop</span>
</span></span>
<span id="S2.I4.i2" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I4.i2.p1" class="ltx_para">
<span id="S2.I4.i2.p1.1" class="ltx_p">Integrates training loop with Florida SDK</span>
</span></span>
<span id="S2.I4.i3" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I4.i3.p1" class="ltx_para">
<span id="S2.I4.i3.p1.1" class="ltx_p">Coordinates with application developer to deploy training code to devices via standard application deployment processes</span>
</span></span>
<span id="S2.I4.i4" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="S2.I4.i4.p1" class="ltx_para">
<span id="S2.I4.i4.p1.1" class="ltx_p">Configures and manages FL tasks in Florida service</span>
</span></span>
</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>FL activities by persona. Florida enables strict decoupling between roles such that, in particular, the devops role can be organizationally separated from that of the application and ML engineers.</figcaption>
</figure>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Florida Architecture</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">Florida’s design involves two high-level components (Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Florida Architecture ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>): a collection of cloud-based back-end services that provide orchestration, data processing and storage, and a local client service that runs on connected edge devices, such as smartphones, laptops, tablets, etc. Florida services are implemented in ASP.Net and containerized for deployment to scalable Kubernetes clusters. Task state is managed using a Redis cache.</p>
</div>
<figure id="S3.F1" class="ltx_figure"><img src="/html/2307.11899/assets/x1.png" id="S3.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="368" height="180" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Florida architecture.</figcaption>
</figure>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Back-end Services</h3>

<section id="S3.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.1 </span>Management Service</h4>

<div id="S3.SS1.SSS1.p1" class="ltx_para">
<p id="S3.SS1.SSS1.p1.1" class="ltx_p">The main component of Florida is the <span id="S3.SS1.SSS1.p1.1.1" class="ltx_text ltx_font_italic">Management Service</span>, which has two major roles:</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">User Interface API:</span> receive requests from administrator-facing interfaces to create, manage, and monitor federated learning tasks.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Task Orchestrator:</span> advertising the available tasks to the <span id="S3.I1.i2.p1.1.2" class="ltx_text ltx_font_italic">Selection Service</span>, sending requests to the Aggregator services to perform secure aggregation and central model update, and monitoring overall task progress.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S3.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.2 </span>Secure Aggregator</h4>

<div id="S3.SS1.SSS2.p1" class="ltx_para">
<p id="S3.SS1.SSS2.p1.2" class="ltx_p">Florida has a two-stage aggregation process similar to <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>. In the first stage, the <span id="S3.SS1.SSS2.p1.2.1" class="ltx_text ltx_font_italic">Secure Aggregator</span> groups clients into subsets called Virtual Groups (VGs). Then it sends instructions to the clients in each VG to negotiate secure aggregation steps using a secure multi-party computation (MPC) protocol <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. Finally, it receives the local updates from the clients and aggregates them, creating an interim result for each VG. (Section <a href="#S4.SS1" title="4.1 Secure Aggregation ‣ 4 Security and Privacy ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>). The purpose of aggregating in VGs is to address the performance cost of the secure MPC protocol, which scales with <math id="S3.SS1.SSS2.p1.1.m1.1" class="ltx_Math" alttext="O(n^{2})" display="inline"><semantics id="S3.SS1.SSS2.p1.1.m1.1a"><mrow id="S3.SS1.SSS2.p1.1.m1.1.1" xref="S3.SS1.SSS2.p1.1.m1.1.1.cmml"><mi id="S3.SS1.SSS2.p1.1.m1.1.1.3" xref="S3.SS1.SSS2.p1.1.m1.1.1.3.cmml">O</mi><mo lspace="0em" rspace="0em" id="S3.SS1.SSS2.p1.1.m1.1.1.2" xref="S3.SS1.SSS2.p1.1.m1.1.1.2.cmml">​</mo><mrow id="S3.SS1.SSS2.p1.1.m1.1.1.1.1" xref="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.SSS2.p1.1.m1.1.1.1.1.2" xref="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.cmml">(</mo><msup id="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1" xref="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.2" xref="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.2.cmml">n</mi><mn id="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.3" xref="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.3.cmml">2</mn></msup><mo stretchy="false" id="S3.SS1.SSS2.p1.1.m1.1.1.1.1.3" xref="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p1.1.m1.1b"><apply id="S3.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1"><times id="S3.SS1.SSS2.p1.1.m1.1.1.2.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1.2"></times><ci id="S3.SS1.SSS2.p1.1.m1.1.1.3.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1.3">𝑂</ci><apply id="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1.1.1">superscript</csymbol><ci id="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.2">𝑛</ci><cn type="integer" id="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS2.p1.1.m1.1.1.1.1.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p1.1.m1.1c">O(n^{2})</annotation></semantics></math>, where <math id="S3.SS1.SSS2.p1.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.SSS2.p1.2.m2.1a"><mi id="S3.SS1.SSS2.p1.2.m2.1.1" xref="S3.SS1.SSS2.p1.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p1.2.m2.1b"><ci id="S3.SS1.SSS2.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS2.p1.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p1.2.m2.1c">n</annotation></semantics></math> is the number of participating clients in a VG. VGs should be large enough to provide reasonable security and privacy guarantees while managing the quadratic cost of running the secure protocol.</p>
</div>
</section>
<section id="S3.SS1.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.3 </span>Master Aggregator</h4>

<div id="S3.SS1.SSS3.p1" class="ltx_para">
<p id="S3.SS1.SSS3.p1.1" class="ltx_p">The second aggregation stage involves the <span id="S3.SS1.SSS3.p1.1.1" class="ltx_text ltx_font_italic">Master Aggregator</span>. This component aggregates all the interim results that the Secure Aggregators generate in the first stage, where they aggregate the local updates from the clients. The Master Aggregator then updates the global model with the aggregated results, using the user-defined logic. The user-defined logic can be specified as python script, a Linux native executable file, or as an Azure ML pipeline API.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2307.11899/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="368" height="246" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Two-stage aggregation process.</figcaption>
</figure>
</section>
<section id="S3.SS1.SSS4" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.4 </span>Selection Service</h4>

<div id="S3.SS1.SSS4.p1" class="ltx_para">
<p id="S3.SS1.SSS4.p1.1" class="ltx_p">The <span id="S3.SS1.SSS4.p1.1.1" class="ltx_text ltx_font_italic">Selection Service</span> facilitates communication between clients and the server. It acts as an intermediary between the two, advertising available tasks to clients and registering them as participants when they meet the requirements. Once enough clients have registered, the Selection Service randomly selects a subset of participants and provides them with the task details. This ensures that the workload is distributed evenly among participants. Additionally, the Selection Service tracks the training status of the participants and provides additional instructions when necessary. It is responsible for ensuring that clients are matched with appropriate tasks that they can complete successfully,</p>
</div>
</section>
<section id="S3.SS1.SSS5" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.5 </span>Authentication Service</h4>

<div id="S3.SS1.SSS5.p1" class="ltx_para">
<p id="S3.SS1.SSS5.p1.1" class="ltx_p">The <span id="S3.SS1.SSS5.p1.1.1" class="ltx_text ltx_font_italic">Authentication Service</span> protects the system from malicious or compromised devices. Before a device can join a federated learning task, it must provide an attestation certificate to prove its integrity. This certificate contains information about the device’s hardware, software, and configuration, and is verified by a trusted third-party service. The Authentication Service is responsible for validating the attestation certificate and determines whether the device fulfills the criteria. This ensures that only devices that meet the required integrity standards are allowed to participate in the federated learning job. Currently, the Authentication Service provides out-of-the-box mechanisms to validate Google Play Integrity verdicts and Huawei SysIntegrity Responses <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>.</p>
</div>
</section>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Client SDK</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">The Florida SDK enables application developers to easily integrate their client-side training workflow with Florida. Language bindings are currently available for Python, Kotlin/Java, .NET, C++, and Javascript. Clients have the option to communicate with the Florida service using gRPC<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite> or REST. Crucially, the various client libraries employ mutually compatible cryptographic key derivation primitives, so that, for example, secret key negotiation for secure aggregation is successful across different languages and operating systems.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">Figure <a href="#S3.F3" title="Figure 3 ‣ 3.2 Client SDK ‣ 3 Florida Architecture ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> illustrates a simple client workflow implementation in python. The application developer can substitute the trainer for a full training loop, for example using scikit-learn <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>, PyTorch <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, ONNX <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>, or Tensorflow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>. Figure <a href="#S3.F4" title="Figure 4 ‣ 3.2 Client SDK ‣ 3 Florida Architecture ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> illustrates a toy example of 15 clients training in a Jupyter notebook. Individual client states are represented in each pane, and updated interactively using iPyWidgets.</p>
</div>
<figure id="S3.F3" class="ltx_figure">
<div id="S3.F3.1" class="ltx_listing ltx_minipage ltx_align_center ltx_align_middle ltx_listing" style="width:368.6pt;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CiMgRmxvcmlkYSBUYXNrIENvbmZpZ3VyYXRpb24KQVBQX05BTUUgPSAicHl0aG9uLWFwcCIKV09SS0ZMT1dfTkFNRSA9ICJweXRob24td29ya2Zsb3ciClxwYXIjIFRyYWluaW5nIEZ1bmN0aW9uCmRlZiB0cmFpbmVyKG1vZGVsOiBieXRlYXJyYXksIGl0ZXJhdGlvbl9pZCk6CiMgTW9kZWwgRmlsZSBMb2FkZWQgaW4gTWVtb3J5CnByaW50KCJcdFNpemVvZiB0aGUgbW9kZWwgZmlsZSBpcyIsIGxlbihtb2RlbCkpCiMgRkwgSXRlcmF0aW9uL0Vwb2NoIElkZW50aWZpZXIKcHJpbnQoIlx0SXRlcmF0aW9uaWQgaXMiLCBpdGVyYXRpb25faWQpCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBUT0RPOiAjCiMgLSBUcmFpbiBtb2RlbCAjCiMgLSBDYWxjdWxhdGUgdGhlIGRpZmZlcmVuY2UvZ3JhZGllbnQgKHRyYWluZWQgbW9kZWwgbWludXMgb3JpZ2luYWwgbW9kZWwpICMKIyAtIFJldHVybiBncmFkaWVudCBhcyBhIGxpc3Qgb2YgZmxvYXRzICMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpccGFyIyBSZXR1cm4gR3JhZGllbnQgRXhhbXBsZToKcmV0dXJuIFswLjIsIC0wLjEyLCAtMy43LCAyLjEsIC0xLjVdClxwYXIjIEZsb3JpZGEgVGFzayBEZWZpbml0aW9ucwp3b3JrX2RldGFpbHMgPSBGZWRlcmF0ZWRMZWFybmluZ0NsaWVudC5Xb3JrZmxvd0RldGFpbHMoCmFwcF9uYW1lPUFQUF9OQU1FLAp3b3JrZmxvd19uYW1lPVdPUktGTE9XX05BTUUsCnRyYWluZXI9dHJhaW5lciwKc2VsZWN0b3I9Tm9uZSwKKQpccGFyY2xpZW50ID0gRmVkZXJhdGVkTGVhcm5pbmdDbGllbnQuZ2V0X2luc3RhbmNlKCkKY2xpZW50LmV4ZWN1dGUoCmVuZHBvaW50PUVORFBPSU5ULApjZXJ0X3BhdGg9U1NMX0NFUlRfUEFUSCwKIyBUcnVlIHRvIHVzZSBIVFRQMS9SRVNUIG9yIEZhbHNlIHRvIHVzZSBIVFRQMi9HUlBDCmlzRW5kcG9pbnRIdHRwMT1GYWxzZSwKd29ya2Zsb3dzPVt3b3JrX2RldGFpbHNdLApsb2dnZXI9Q29uc29sZUxvZ2dlcigpLApldmVudD1Ob25lLAopCg==" download="">⬇</a></div>
<div id="lstnumberx1" class="ltx_listingline">
</div>
<div id="lstnumberx2" class="ltx_listingline">#<span id="lstnumberx2.1" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx2.2" class="ltx_text ltx_lst_identifier">Florida</span><span id="lstnumberx2.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx2.4" class="ltx_text ltx_lst_identifier">Task</span><span id="lstnumberx2.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx2.6" class="ltx_text ltx_lst_identifier">Configuration</span>
</div>
<div id="lstnumberx3" class="ltx_listingline">
<span id="lstnumberx3.1" class="ltx_text ltx_lst_identifier">APP_NAME</span><span id="lstnumberx3.2" class="ltx_text ltx_lst_space"> </span>=<span id="lstnumberx3.3" class="ltx_text ltx_lst_space"> </span>”<span id="lstnumberx3.4" class="ltx_text ltx_lst_identifier">python</span>-<span id="lstnumberx3.5" class="ltx_text ltx_lst_identifier">app</span>”
</div>
<div id="lstnumberx4" class="ltx_listingline">
<span id="lstnumberx4.1" class="ltx_text ltx_lst_identifier">WORKFLOW_NAME</span><span id="lstnumberx4.2" class="ltx_text ltx_lst_space"> </span>=<span id="lstnumberx4.3" class="ltx_text ltx_lst_space"> </span>”<span id="lstnumberx4.4" class="ltx_text ltx_lst_identifier">python</span>-<span id="lstnumberx4.5" class="ltx_text ltx_lst_identifier">workflow</span>”
</div>
<div id="lstnumberx5" class="ltx_listingline">\<span id="lstnumberx5.1" class="ltx_text ltx_lst_identifier">par</span>#<span id="lstnumberx5.2" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx5.3" class="ltx_text ltx_lst_identifier">Training</span><span id="lstnumberx5.4" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx5.5" class="ltx_text ltx_lst_identifier">Function</span>
</div>
<div id="lstnumberx6" class="ltx_listingline">
<span id="lstnumberx6.1" class="ltx_text ltx_lst_identifier">def</span><span id="lstnumberx6.2" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx6.3" class="ltx_text ltx_lst_identifier">trainer</span>(<span id="lstnumberx6.4" class="ltx_text ltx_lst_identifier">model</span>:<span id="lstnumberx6.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx6.6" class="ltx_text ltx_lst_identifier">bytearray</span>,<span id="lstnumberx6.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx6.8" class="ltx_text ltx_lst_identifier">iteration_id</span>):
</div>
<div id="lstnumberx7" class="ltx_listingline">#<span id="lstnumberx7.1" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.2" class="ltx_text ltx_lst_identifier">Model</span><span id="lstnumberx7.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.4" class="ltx_text ltx_lst_identifier">File</span><span id="lstnumberx7.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.6" class="ltx_text ltx_lst_identifier">Loaded</span><span id="lstnumberx7.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.8" class="ltx_text ltx_lst_identifier">in</span><span id="lstnumberx7.9" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.10" class="ltx_text ltx_lst_identifier">Memory</span>
</div>
<div id="lstnumberx8" class="ltx_listingline">
<span id="lstnumberx8.1" class="ltx_text ltx_lst_identifier">print</span>(”\<span id="lstnumberx8.2" class="ltx_text ltx_lst_identifier">tSizeof</span><span id="lstnumberx8.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx8.4" class="ltx_text ltx_lst_identifier">the</span><span id="lstnumberx8.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx8.6" class="ltx_text ltx_lst_identifier">model</span><span id="lstnumberx8.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx8.8" class="ltx_text ltx_lst_identifier">file</span><span id="lstnumberx8.9" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx8.10" class="ltx_text ltx_lst_identifier">is</span>”,<span id="lstnumberx8.11" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx8.12" class="ltx_text ltx_lst_identifier">len</span>(<span id="lstnumberx8.13" class="ltx_text ltx_lst_identifier">model</span>))
</div>
<div id="lstnumberx9" class="ltx_listingline">#<span id="lstnumberx9.1" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx9.2" class="ltx_text ltx_lst_identifier">FL</span><span id="lstnumberx9.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx9.4" class="ltx_text ltx_lst_identifier">Iteration</span>/<span id="lstnumberx9.5" class="ltx_text ltx_lst_identifier">Epoch</span><span id="lstnumberx9.6" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx9.7" class="ltx_text ltx_lst_identifier">Identifier</span>
</div>
<div id="lstnumberx10" class="ltx_listingline">
<span id="lstnumberx10.1" class="ltx_text ltx_lst_identifier">print</span>(”\<span id="lstnumberx10.2" class="ltx_text ltx_lst_identifier">tIterationid</span><span id="lstnumberx10.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx10.4" class="ltx_text ltx_lst_identifier">is</span>”,<span id="lstnumberx10.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx10.6" class="ltx_text ltx_lst_identifier">iteration_id</span>)
</div>
<div id="lstnumberx11" class="ltx_listingline">#####################################################################################
</div>
<div id="lstnumberx12" class="ltx_listingline">#<span id="lstnumberx12.1" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx12.2" class="ltx_text ltx_lst_identifier">TODO</span>:<span id="lstnumberx12.3" class="ltx_text ltx_lst_space"> </span>#
</div>
<div id="lstnumberx13" class="ltx_listingline">#<span id="lstnumberx13.1" class="ltx_text ltx_lst_space"> </span>-<span id="lstnumberx13.2" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx13.3" class="ltx_text ltx_lst_identifier">Train</span><span id="lstnumberx13.4" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx13.5" class="ltx_text ltx_lst_identifier">model</span><span id="lstnumberx13.6" class="ltx_text ltx_lst_space"> </span>#
</div>
<div id="lstnumberx14" class="ltx_listingline">#<span id="lstnumberx14.1" class="ltx_text ltx_lst_space"> </span>-<span id="lstnumberx14.2" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx14.3" class="ltx_text ltx_lst_identifier">Calculate</span><span id="lstnumberx14.4" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx14.5" class="ltx_text ltx_lst_identifier">the</span><span id="lstnumberx14.6" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx14.7" class="ltx_text ltx_lst_identifier">difference</span>/<span id="lstnumberx14.8" class="ltx_text ltx_lst_identifier">gradient</span><span id="lstnumberx14.9" class="ltx_text ltx_lst_space"> </span>(<span id="lstnumberx14.10" class="ltx_text ltx_lst_identifier">trained</span><span id="lstnumberx14.11" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx14.12" class="ltx_text ltx_lst_identifier">model</span><span id="lstnumberx14.13" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx14.14" class="ltx_text ltx_lst_identifier">minus</span><span id="lstnumberx14.15" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx14.16" class="ltx_text ltx_lst_identifier">original</span><span id="lstnumberx14.17" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx14.18" class="ltx_text ltx_lst_identifier">model</span>)<span id="lstnumberx14.19" class="ltx_text ltx_lst_space"> </span>#
</div>
<div id="lstnumberx15" class="ltx_listingline">#<span id="lstnumberx15.1" class="ltx_text ltx_lst_space"> </span>-<span id="lstnumberx15.2" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx15.3" class="ltx_text ltx_lst_identifier">Return</span><span id="lstnumberx15.4" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx15.5" class="ltx_text ltx_lst_identifier">gradient</span><span id="lstnumberx15.6" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx15.7" class="ltx_text ltx_lst_identifier">as</span><span id="lstnumberx15.8" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx15.9" class="ltx_text ltx_lst_identifier">a</span><span id="lstnumberx15.10" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx15.11" class="ltx_text ltx_lst_identifier">list</span><span id="lstnumberx15.12" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx15.13" class="ltx_text ltx_lst_identifier">of</span><span id="lstnumberx15.14" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx15.15" class="ltx_text ltx_lst_identifier">floats</span><span id="lstnumberx15.16" class="ltx_text ltx_lst_space"> </span>#
</div>
<div id="lstnumberx16" class="ltx_listingline">#####################################################################################
</div>
<div id="lstnumberx17" class="ltx_listingline">\<span id="lstnumberx17.1" class="ltx_text ltx_lst_identifier">par</span>#<span id="lstnumberx17.2" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx17.3" class="ltx_text ltx_lst_identifier">Return</span><span id="lstnumberx17.4" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx17.5" class="ltx_text ltx_lst_identifier">Gradient</span><span id="lstnumberx17.6" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx17.7" class="ltx_text ltx_lst_identifier">Example</span>:
</div>
<div id="lstnumberx18" class="ltx_listingline">
<span id="lstnumberx18.1" class="ltx_text ltx_lst_identifier">return</span><span id="lstnumberx18.2" class="ltx_text ltx_lst_space"> </span>[0.2,<span id="lstnumberx18.3" class="ltx_text ltx_lst_space"> </span>-0.12,<span id="lstnumberx18.4" class="ltx_text ltx_lst_space"> </span>-3.7,<span id="lstnumberx18.5" class="ltx_text ltx_lst_space"> </span>2.1,<span id="lstnumberx18.6" class="ltx_text ltx_lst_space"> </span>-1.5]
</div>
<div id="lstnumberx19" class="ltx_listingline">\<span id="lstnumberx19.1" class="ltx_text ltx_lst_identifier">par</span>#<span id="lstnumberx19.2" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx19.3" class="ltx_text ltx_lst_identifier">Florida</span><span id="lstnumberx19.4" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx19.5" class="ltx_text ltx_lst_identifier">Task</span><span id="lstnumberx19.6" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx19.7" class="ltx_text ltx_lst_identifier">Definitions</span>
</div>
<div id="lstnumberx20" class="ltx_listingline">
<span id="lstnumberx20.1" class="ltx_text ltx_lst_identifier">work_details</span><span id="lstnumberx20.2" class="ltx_text ltx_lst_space"> </span>=<span id="lstnumberx20.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx20.4" class="ltx_text ltx_lst_identifier">FederatedLearningClient</span>.<span id="lstnumberx20.5" class="ltx_text ltx_lst_identifier">WorkflowDetails</span>(
</div>
<div id="lstnumberx21" class="ltx_listingline">
<span id="lstnumberx21.1" class="ltx_text ltx_lst_identifier">app_name</span>=<span id="lstnumberx21.2" class="ltx_text ltx_lst_identifier">APP_NAME</span>,
</div>
<div id="lstnumberx22" class="ltx_listingline">
<span id="lstnumberx22.1" class="ltx_text ltx_lst_identifier">workflow_name</span>=<span id="lstnumberx22.2" class="ltx_text ltx_lst_identifier">WORKFLOW_NAME</span>,
</div>
<div id="lstnumberx23" class="ltx_listingline">
<span id="lstnumberx23.1" class="ltx_text ltx_lst_identifier">trainer</span>=<span id="lstnumberx23.2" class="ltx_text ltx_lst_identifier">trainer</span>,
</div>
<div id="lstnumberx24" class="ltx_listingline">
<span id="lstnumberx24.1" class="ltx_text ltx_lst_identifier">selector</span>=<span id="lstnumberx24.2" class="ltx_text ltx_lst_identifier">None</span>,
</div>
<div id="lstnumberx25" class="ltx_listingline">)
</div>
<div id="lstnumberx26" class="ltx_listingline">\<span id="lstnumberx26.1" class="ltx_text ltx_lst_identifier">parclient</span><span id="lstnumberx26.2" class="ltx_text ltx_lst_space"> </span>=<span id="lstnumberx26.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx26.4" class="ltx_text ltx_lst_identifier">FederatedLearningClient</span>.<span id="lstnumberx26.5" class="ltx_text ltx_lst_identifier">get_instance</span>()
</div>
<div id="lstnumberx27" class="ltx_listingline">
<span id="lstnumberx27.1" class="ltx_text ltx_lst_identifier">client</span>.<span id="lstnumberx27.2" class="ltx_text ltx_lst_identifier">execute</span>(
</div>
<div id="lstnumberx28" class="ltx_listingline">
<span id="lstnumberx28.1" class="ltx_text ltx_lst_identifier">endpoint</span>=<span id="lstnumberx28.2" class="ltx_text ltx_lst_identifier">ENDPOINT</span>,
</div>
<div id="lstnumberx29" class="ltx_listingline">
<span id="lstnumberx29.1" class="ltx_text ltx_lst_identifier">cert_path</span>=<span id="lstnumberx29.2" class="ltx_text ltx_lst_identifier">SSL_CERT_PATH</span>,
</div>
<div id="lstnumberx30" class="ltx_listingline">#<span id="lstnumberx30.1" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx30.2" class="ltx_text ltx_lst_identifier">True</span><span id="lstnumberx30.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx30.4" class="ltx_text ltx_lst_identifier">to</span><span id="lstnumberx30.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx30.6" class="ltx_text ltx_lst_identifier">use</span><span id="lstnumberx30.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx30.8" class="ltx_text ltx_lst_identifier">HTTP1</span>/<span id="lstnumberx30.9" class="ltx_text ltx_lst_identifier">REST</span><span id="lstnumberx30.10" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx30.11" class="ltx_text ltx_lst_identifier">or</span><span id="lstnumberx30.12" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx30.13" class="ltx_text ltx_lst_identifier">False</span><span id="lstnumberx30.14" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx30.15" class="ltx_text ltx_lst_identifier">to</span><span id="lstnumberx30.16" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx30.17" class="ltx_text ltx_lst_identifier">use</span><span id="lstnumberx30.18" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx30.19" class="ltx_text ltx_lst_identifier">HTTP2</span>/<span id="lstnumberx30.20" class="ltx_text ltx_lst_identifier">GRPC</span>
</div>
<div id="lstnumberx31" class="ltx_listingline">
<span id="lstnumberx31.1" class="ltx_text ltx_lst_identifier">isEndpointHttp1</span>=<span id="lstnumberx31.2" class="ltx_text ltx_lst_identifier">False</span>,
</div>
<div id="lstnumberx32" class="ltx_listingline">
<span id="lstnumberx32.1" class="ltx_text ltx_lst_identifier">workflows</span>=[<span id="lstnumberx32.2" class="ltx_text ltx_lst_identifier">work_details</span>],
</div>
<div id="lstnumberx33" class="ltx_listingline">
<span id="lstnumberx33.1" class="ltx_text ltx_lst_identifier">logger</span>=<span id="lstnumberx33.2" class="ltx_text ltx_lst_identifier">ConsoleLogger</span>(),
</div>
<div id="lstnumberx34" class="ltx_listingline">
<span id="lstnumberx34.1" class="ltx_text ltx_lst_identifier">event</span>=<span id="lstnumberx34.2" class="ltx_text ltx_lst_identifier">None</span>,
</div>
<div id="lstnumberx35" class="ltx_listingline">)
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Sample Python client.</figcaption>
</figure>
<figure id="S3.F4" class="ltx_figure"><img src="/html/2307.11899/assets/figures/notebook.png" id="S3.F4.g1" class="ltx_graphics ltx_centering ltx_img_square" width="479" height="537" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Jupyter noteboook example running 15 pytorch clients on a spam training task.</figcaption>
</figure>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>User Interfaces</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">Florida provides a web-based GUI or command line interface (CLI) for FL task management. The CLI enables the same functionality provided by the GUI while enabling task configuration through secured deployment environments. Below we summarize the features provided by the web UI.</p>
</div>
<section id="S3.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.3.1 </span>Florida Dashboard (WebUI)</h4>

<div id="S3.SS3.SSS1.p1" class="ltx_para">
<p id="S3.SS3.SSS1.p1.1" class="ltx_p">The Florida dashboard enables authenticated users to create and manage training workflows.</p>
</div>
<section id="S3.SS3.SSS1.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Task Creation:</h5>

<div id="S3.SS3.SSS1.Px1.p1" class="ltx_para">
<p id="S3.SS3.SSS1.Px1.p1.1" class="ltx_p">On creating a new task (Figure <a href="#S3.F5" title="Figure 5 ‣ Task Creation: ‣ 3.3.1 Florida Dashboard (WebUI) ‣ 3.3 User Interfaces ‣ 3 Florida Architecture ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>), the ML scientist specifies a task name, application name, and workflow as defined below, as well as the number of desired clients per round and total number of rounds to execute the workflow. The operator also uploads an initial model snapshot, and provides a python script or .NET executable for performing master aggregation. The operator can optionally also specify the security and privacy configuration, set selection criteria for device participation, and set task permissions to enable sharing with other ML scientists.</p>
</div>
<div id="S3.SS3.SSS1.Px1.p2" class="ltx_para">
<p id="S3.SS3.SSS1.Px1.p2.1" class="ltx_p">The text fields defining a task are defined as follows:</p>
<ul id="S3.I2" class="ltx_itemize">
<li id="S3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i1.p1" class="ltx_para">
<p id="S3.I2.i1.p1.1" class="ltx_p"><span id="S3.I2.i1.p1.1.1" class="ltx_text ltx_font_bold">Task name</span>: This name defines the current FL task and enables the ML scientist to differentiate between different configured tasks.</p>
</div>
</li>
<li id="S3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i2.p1" class="ltx_para">
<p id="S3.I2.i2.p1.1" class="ltx_p"><span id="S3.I2.i2.p1.1.1" class="ltx_text ltx_font_bold">Application name</span>: This name is application specific and used by connecting devices to associate the particular on-device application with available workflows.</p>
</div>
</li>
<li id="S3.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i3.p1" class="ltx_para">
<p id="S3.I2.i3.p1.1" class="ltx_p"><span id="S3.I2.i3.p1.1.1" class="ltx_text ltx_font_bold">Workflow name</span>: This name defines a particular workflow on the connected device. For instance a deployed application may have training workflows for next word prediction or preference ranking. This name enables the client-side application to choose the appropriate workflow for the task.</p>
</div>
</li>
</ul>
</div>
<figure id="S3.F5" class="ltx_figure"><img src="/html/2307.11899/assets/figures/task-create.png" id="S3.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="479" height="284" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Task creation interface.</figcaption>
</figure>
</section>
<section id="S3.SS3.SSS1.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Task Management:</h5>

<div id="S3.SS3.SSS1.Px2.p1" class="ltx_para">
<p id="S3.SS3.SSS1.Px2.p1.1" class="ltx_p">The task management interface (Figure <a href="#S3.F6" title="Figure 6 ‣ Task Management: ‣ 3.3.1 Florida Dashboard (WebUI) ‣ 3.3 User Interfaces ‣ 3 Florida Architecture ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>) is the default page and enables the operator to see at a glance the configured tasks and their state (running, paused, completed, etc). A brief summary of task properties is includes, such as number of rounds and connected devices. Clicking on any task launches the task view.</p>
</div>
<figure id="S3.F6" class="ltx_figure"><img src="/html/2307.11899/assets/figures/taskmanagement.png" id="S3.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="479" height="276" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Task management interface.</figcaption>
</figure>
</section>
<section id="S3.SS3.SSS1.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Task View:</h5>

<div id="S3.SS3.SSS1.Px3.p1" class="ltx_para">
<p id="S3.SS3.SSS1.Px3.p1.1" class="ltx_p">The task view (Figure <a href="#S3.F7" title="Figure 7 ‣ Task View: ‣ 3.3.1 Florida Dashboard (WebUI) ‣ 3.3 User Interfaces ‣ 3 Florida Architecture ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>) displays a selected task and its state. Results from any training round can be accessed, as well as drill-down to client- or server-side metrics describing convergence of the training process (the loss), model performance, and run-time performance of the training task. The task view also enables the operator to pause or cancel a running task.</p>
</div>
<figure id="S3.F7" class="ltx_figure"><img src="/html/2307.11899/assets/figures/taskview.png" id="S3.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="479" height="275" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Task view.</figcaption>
</figure>
</section>
<section id="S3.SS3.SSS1.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Metrics:</h5>

<div id="S3.SS3.SSS1.Px4.p1" class="ltx_para">
<p id="S3.SS3.SSS1.Px4.p1.1" class="ltx_p">Drilling down from the task view, the ML scientist can view training and run-time performance metrics (Figure <a href="#S3.F8" title="Figure 8 ‣ Metrics: ‣ 3.3.1 Florida Dashboard (WebUI) ‣ 3.3 User Interfaces ‣ 3 Florida Architecture ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>), as well as evaluation metrics such as model accuracy (Figure <a href="#S3.F9" title="Figure 9 ‣ Metrics: ‣ 3.3.1 Florida Dashboard (WebUI) ‣ 3.3 User Interfaces ‣ 3 Florida Architecture ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>). The task configuration can specify the interval at which to evaluate client- or server-side evaluation data.</p>
</div>
<figure id="S3.F8" class="ltx_figure"><img src="/html/2307.11899/assets/figures/statistics.png" id="S3.F8.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="479" height="273" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Training performance statistics.</figcaption>
</figure>
<figure id="S3.F9" class="ltx_figure"><img src="/html/2307.11899/assets/figures/chart-30.png" id="S3.F9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="479" height="275" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Task evaluation metrics.</figcaption>
</figure>
</section>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Security and Privacy</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Secure Aggregation</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.4" class="ltx_p">The security of federated learning depends on the integrity of the central orchestrator. Most FL schemes assume an “honest-but-curious” orchestrator, which implements the orchestration protocol honestly, but may attempt to recover private information from the uploaded model weights. One solution to securing the uploaded data is to apply a secure multi-party computation approach known as <span id="S4.SS1.p1.4.1" class="ltx_text ltx_font_italic">secure aggregation (SA)</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. SA operates by exchanging symmetric key pairs between pairs of clients using Diffie-Hellman key exchange, and generating a mask between each pair such that the sum of the masked model weights or pseudo-gradients from each client is equal to the sum of the model weights/pseudo-gradients itself. That is, to compute the sum <math id="S4.SS1.p1.1.m1.1" class="ltx_Math" alttext="\sum_{i}x_{i}" display="inline"><semantics id="S4.SS1.p1.1.m1.1a"><mrow id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><msub id="S4.SS1.p1.1.m1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.cmml"><mo id="S4.SS1.p1.1.m1.1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.1.2.cmml">∑</mo><mi id="S4.SS1.p1.1.m1.1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.1.3.cmml">i</mi></msub><msub id="S4.SS1.p1.1.m1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.2.cmml"><mi id="S4.SS1.p1.1.m1.1.1.2.2" xref="S4.SS1.p1.1.m1.1.1.2.2.cmml">x</mi><mi id="S4.SS1.p1.1.m1.1.1.2.3" xref="S4.SS1.p1.1.m1.1.1.2.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><apply id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1">subscript</csymbol><sum id="S4.SS1.p1.1.m1.1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1.2"></sum><ci id="S4.SS1.p1.1.m1.1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.1.3">𝑖</ci></apply><apply id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.2.1.cmml" xref="S4.SS1.p1.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.2.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2.2">𝑥</ci><ci id="S4.SS1.p1.1.m1.1.1.2.3.cmml" xref="S4.SS1.p1.1.m1.1.1.2.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">\sum_{i}x_{i}</annotation></semantics></math> of model weights <math id="S4.SS1.p1.2.m2.1" class="ltx_Math" alttext="x_{i}" display="inline"><semantics id="S4.SS1.p1.2.m2.1a"><msub id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml"><mi id="S4.SS1.p1.2.m2.1.1.2" xref="S4.SS1.p1.2.m2.1.1.2.cmml">x</mi><mi id="S4.SS1.p1.2.m2.1.1.3" xref="S4.SS1.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.1b"><apply id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.2.m2.1.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.p1.2.m2.1.1.2.cmml" xref="S4.SS1.p1.2.m2.1.1.2">𝑥</ci><ci id="S4.SS1.p1.2.m2.1.1.3.cmml" xref="S4.SS1.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.1c">x_{i}</annotation></semantics></math> from each client <math id="S4.SS1.p1.3.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS1.p1.3.m3.1a"><mi id="S4.SS1.p1.3.m3.1.1" xref="S4.SS1.p1.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.3.m3.1b"><ci id="S4.SS1.p1.3.m3.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.3.m3.1c">i</annotation></semantics></math>, transmit and compute instead the sum of masked payloads <math id="S4.SS1.p1.4.m4.1" class="ltx_Math" alttext="y_{i}" display="inline"><semantics id="S4.SS1.p1.4.m4.1a"><msub id="S4.SS1.p1.4.m4.1.1" xref="S4.SS1.p1.4.m4.1.1.cmml"><mi id="S4.SS1.p1.4.m4.1.1.2" xref="S4.SS1.p1.4.m4.1.1.2.cmml">y</mi><mi id="S4.SS1.p1.4.m4.1.1.3" xref="S4.SS1.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.4.m4.1b"><apply id="S4.SS1.p1.4.m4.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.4.m4.1.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS1.p1.4.m4.1.1.2.cmml" xref="S4.SS1.p1.4.m4.1.1.2">𝑦</ci><ci id="S4.SS1.p1.4.m4.1.1.3.cmml" xref="S4.SS1.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.4.m4.1c">y_{i}</annotation></semantics></math>:</p>
<table id="S4.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.Ex1.m1.4" class="ltx_Math" alttext="y_{i}=x_{i}+\sum_{i&lt;v}s_{i,v}-\sum_{i&gt;v}s_{i,v}" display="block"><semantics id="S4.Ex1.m1.4a"><mrow id="S4.Ex1.m1.4.5" xref="S4.Ex1.m1.4.5.cmml"><msub id="S4.Ex1.m1.4.5.2" xref="S4.Ex1.m1.4.5.2.cmml"><mi id="S4.Ex1.m1.4.5.2.2" xref="S4.Ex1.m1.4.5.2.2.cmml">y</mi><mi id="S4.Ex1.m1.4.5.2.3" xref="S4.Ex1.m1.4.5.2.3.cmml">i</mi></msub><mo id="S4.Ex1.m1.4.5.1" xref="S4.Ex1.m1.4.5.1.cmml">=</mo><mrow id="S4.Ex1.m1.4.5.3" xref="S4.Ex1.m1.4.5.3.cmml"><mrow id="S4.Ex1.m1.4.5.3.2" xref="S4.Ex1.m1.4.5.3.2.cmml"><msub id="S4.Ex1.m1.4.5.3.2.2" xref="S4.Ex1.m1.4.5.3.2.2.cmml"><mi id="S4.Ex1.m1.4.5.3.2.2.2" xref="S4.Ex1.m1.4.5.3.2.2.2.cmml">x</mi><mi id="S4.Ex1.m1.4.5.3.2.2.3" xref="S4.Ex1.m1.4.5.3.2.2.3.cmml">i</mi></msub><mo rspace="0.055em" id="S4.Ex1.m1.4.5.3.2.1" xref="S4.Ex1.m1.4.5.3.2.1.cmml">+</mo><mrow id="S4.Ex1.m1.4.5.3.2.3" xref="S4.Ex1.m1.4.5.3.2.3.cmml"><munder id="S4.Ex1.m1.4.5.3.2.3.1" xref="S4.Ex1.m1.4.5.3.2.3.1.cmml"><mo movablelimits="false" id="S4.Ex1.m1.4.5.3.2.3.1.2" xref="S4.Ex1.m1.4.5.3.2.3.1.2.cmml">∑</mo><mrow id="S4.Ex1.m1.4.5.3.2.3.1.3" xref="S4.Ex1.m1.4.5.3.2.3.1.3.cmml"><mi id="S4.Ex1.m1.4.5.3.2.3.1.3.2" xref="S4.Ex1.m1.4.5.3.2.3.1.3.2.cmml">i</mi><mo id="S4.Ex1.m1.4.5.3.2.3.1.3.1" xref="S4.Ex1.m1.4.5.3.2.3.1.3.1.cmml">&lt;</mo><mi id="S4.Ex1.m1.4.5.3.2.3.1.3.3" xref="S4.Ex1.m1.4.5.3.2.3.1.3.3.cmml">v</mi></mrow></munder><msub id="S4.Ex1.m1.4.5.3.2.3.2" xref="S4.Ex1.m1.4.5.3.2.3.2.cmml"><mi id="S4.Ex1.m1.4.5.3.2.3.2.2" xref="S4.Ex1.m1.4.5.3.2.3.2.2.cmml">s</mi><mrow id="S4.Ex1.m1.2.2.2.4" xref="S4.Ex1.m1.2.2.2.3.cmml"><mi id="S4.Ex1.m1.1.1.1.1" xref="S4.Ex1.m1.1.1.1.1.cmml">i</mi><mo id="S4.Ex1.m1.2.2.2.4.1" xref="S4.Ex1.m1.2.2.2.3.cmml">,</mo><mi id="S4.Ex1.m1.2.2.2.2" xref="S4.Ex1.m1.2.2.2.2.cmml">v</mi></mrow></msub></mrow></mrow><mo rspace="0.055em" id="S4.Ex1.m1.4.5.3.1" xref="S4.Ex1.m1.4.5.3.1.cmml">−</mo><mrow id="S4.Ex1.m1.4.5.3.3" xref="S4.Ex1.m1.4.5.3.3.cmml"><munder id="S4.Ex1.m1.4.5.3.3.1" xref="S4.Ex1.m1.4.5.3.3.1.cmml"><mo movablelimits="false" id="S4.Ex1.m1.4.5.3.3.1.2" xref="S4.Ex1.m1.4.5.3.3.1.2.cmml">∑</mo><mrow id="S4.Ex1.m1.4.5.3.3.1.3" xref="S4.Ex1.m1.4.5.3.3.1.3.cmml"><mi id="S4.Ex1.m1.4.5.3.3.1.3.2" xref="S4.Ex1.m1.4.5.3.3.1.3.2.cmml">i</mi><mo id="S4.Ex1.m1.4.5.3.3.1.3.1" xref="S4.Ex1.m1.4.5.3.3.1.3.1.cmml">&gt;</mo><mi id="S4.Ex1.m1.4.5.3.3.1.3.3" xref="S4.Ex1.m1.4.5.3.3.1.3.3.cmml">v</mi></mrow></munder><msub id="S4.Ex1.m1.4.5.3.3.2" xref="S4.Ex1.m1.4.5.3.3.2.cmml"><mi id="S4.Ex1.m1.4.5.3.3.2.2" xref="S4.Ex1.m1.4.5.3.3.2.2.cmml">s</mi><mrow id="S4.Ex1.m1.4.4.2.4" xref="S4.Ex1.m1.4.4.2.3.cmml"><mi id="S4.Ex1.m1.3.3.1.1" xref="S4.Ex1.m1.3.3.1.1.cmml">i</mi><mo id="S4.Ex1.m1.4.4.2.4.1" xref="S4.Ex1.m1.4.4.2.3.cmml">,</mo><mi id="S4.Ex1.m1.4.4.2.2" xref="S4.Ex1.m1.4.4.2.2.cmml">v</mi></mrow></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex1.m1.4b"><apply id="S4.Ex1.m1.4.5.cmml" xref="S4.Ex1.m1.4.5"><eq id="S4.Ex1.m1.4.5.1.cmml" xref="S4.Ex1.m1.4.5.1"></eq><apply id="S4.Ex1.m1.4.5.2.cmml" xref="S4.Ex1.m1.4.5.2"><csymbol cd="ambiguous" id="S4.Ex1.m1.4.5.2.1.cmml" xref="S4.Ex1.m1.4.5.2">subscript</csymbol><ci id="S4.Ex1.m1.4.5.2.2.cmml" xref="S4.Ex1.m1.4.5.2.2">𝑦</ci><ci id="S4.Ex1.m1.4.5.2.3.cmml" xref="S4.Ex1.m1.4.5.2.3">𝑖</ci></apply><apply id="S4.Ex1.m1.4.5.3.cmml" xref="S4.Ex1.m1.4.5.3"><minus id="S4.Ex1.m1.4.5.3.1.cmml" xref="S4.Ex1.m1.4.5.3.1"></minus><apply id="S4.Ex1.m1.4.5.3.2.cmml" xref="S4.Ex1.m1.4.5.3.2"><plus id="S4.Ex1.m1.4.5.3.2.1.cmml" xref="S4.Ex1.m1.4.5.3.2.1"></plus><apply id="S4.Ex1.m1.4.5.3.2.2.cmml" xref="S4.Ex1.m1.4.5.3.2.2"><csymbol cd="ambiguous" id="S4.Ex1.m1.4.5.3.2.2.1.cmml" xref="S4.Ex1.m1.4.5.3.2.2">subscript</csymbol><ci id="S4.Ex1.m1.4.5.3.2.2.2.cmml" xref="S4.Ex1.m1.4.5.3.2.2.2">𝑥</ci><ci id="S4.Ex1.m1.4.5.3.2.2.3.cmml" xref="S4.Ex1.m1.4.5.3.2.2.3">𝑖</ci></apply><apply id="S4.Ex1.m1.4.5.3.2.3.cmml" xref="S4.Ex1.m1.4.5.3.2.3"><apply id="S4.Ex1.m1.4.5.3.2.3.1.cmml" xref="S4.Ex1.m1.4.5.3.2.3.1"><csymbol cd="ambiguous" id="S4.Ex1.m1.4.5.3.2.3.1.1.cmml" xref="S4.Ex1.m1.4.5.3.2.3.1">subscript</csymbol><sum id="S4.Ex1.m1.4.5.3.2.3.1.2.cmml" xref="S4.Ex1.m1.4.5.3.2.3.1.2"></sum><apply id="S4.Ex1.m1.4.5.3.2.3.1.3.cmml" xref="S4.Ex1.m1.4.5.3.2.3.1.3"><lt id="S4.Ex1.m1.4.5.3.2.3.1.3.1.cmml" xref="S4.Ex1.m1.4.5.3.2.3.1.3.1"></lt><ci id="S4.Ex1.m1.4.5.3.2.3.1.3.2.cmml" xref="S4.Ex1.m1.4.5.3.2.3.1.3.2">𝑖</ci><ci id="S4.Ex1.m1.4.5.3.2.3.1.3.3.cmml" xref="S4.Ex1.m1.4.5.3.2.3.1.3.3">𝑣</ci></apply></apply><apply id="S4.Ex1.m1.4.5.3.2.3.2.cmml" xref="S4.Ex1.m1.4.5.3.2.3.2"><csymbol cd="ambiguous" id="S4.Ex1.m1.4.5.3.2.3.2.1.cmml" xref="S4.Ex1.m1.4.5.3.2.3.2">subscript</csymbol><ci id="S4.Ex1.m1.4.5.3.2.3.2.2.cmml" xref="S4.Ex1.m1.4.5.3.2.3.2.2">𝑠</ci><list id="S4.Ex1.m1.2.2.2.3.cmml" xref="S4.Ex1.m1.2.2.2.4"><ci id="S4.Ex1.m1.1.1.1.1.cmml" xref="S4.Ex1.m1.1.1.1.1">𝑖</ci><ci id="S4.Ex1.m1.2.2.2.2.cmml" xref="S4.Ex1.m1.2.2.2.2">𝑣</ci></list></apply></apply></apply><apply id="S4.Ex1.m1.4.5.3.3.cmml" xref="S4.Ex1.m1.4.5.3.3"><apply id="S4.Ex1.m1.4.5.3.3.1.cmml" xref="S4.Ex1.m1.4.5.3.3.1"><csymbol cd="ambiguous" id="S4.Ex1.m1.4.5.3.3.1.1.cmml" xref="S4.Ex1.m1.4.5.3.3.1">subscript</csymbol><sum id="S4.Ex1.m1.4.5.3.3.1.2.cmml" xref="S4.Ex1.m1.4.5.3.3.1.2"></sum><apply id="S4.Ex1.m1.4.5.3.3.1.3.cmml" xref="S4.Ex1.m1.4.5.3.3.1.3"><gt id="S4.Ex1.m1.4.5.3.3.1.3.1.cmml" xref="S4.Ex1.m1.4.5.3.3.1.3.1"></gt><ci id="S4.Ex1.m1.4.5.3.3.1.3.2.cmml" xref="S4.Ex1.m1.4.5.3.3.1.3.2">𝑖</ci><ci id="S4.Ex1.m1.4.5.3.3.1.3.3.cmml" xref="S4.Ex1.m1.4.5.3.3.1.3.3">𝑣</ci></apply></apply><apply id="S4.Ex1.m1.4.5.3.3.2.cmml" xref="S4.Ex1.m1.4.5.3.3.2"><csymbol cd="ambiguous" id="S4.Ex1.m1.4.5.3.3.2.1.cmml" xref="S4.Ex1.m1.4.5.3.3.2">subscript</csymbol><ci id="S4.Ex1.m1.4.5.3.3.2.2.cmml" xref="S4.Ex1.m1.4.5.3.3.2.2">𝑠</ci><list id="S4.Ex1.m1.4.4.2.3.cmml" xref="S4.Ex1.m1.4.4.2.4"><ci id="S4.Ex1.m1.3.3.1.1.cmml" xref="S4.Ex1.m1.3.3.1.1">𝑖</ci><ci id="S4.Ex1.m1.4.4.2.2.cmml" xref="S4.Ex1.m1.4.4.2.2">𝑣</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex1.m1.4c">y_{i}=x_{i}+\sum_{i&lt;v}s_{i,v}-\sum_{i&gt;v}s_{i,v}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.SS1.p1.8" class="ltx_p">where <math id="S4.SS1.p1.5.m1.2" class="ltx_Math" alttext="s_{u,v}" display="inline"><semantics id="S4.SS1.p1.5.m1.2a"><msub id="S4.SS1.p1.5.m1.2.3" xref="S4.SS1.p1.5.m1.2.3.cmml"><mi id="S4.SS1.p1.5.m1.2.3.2" xref="S4.SS1.p1.5.m1.2.3.2.cmml">s</mi><mrow id="S4.SS1.p1.5.m1.2.2.2.4" xref="S4.SS1.p1.5.m1.2.2.2.3.cmml"><mi id="S4.SS1.p1.5.m1.1.1.1.1" xref="S4.SS1.p1.5.m1.1.1.1.1.cmml">u</mi><mo id="S4.SS1.p1.5.m1.2.2.2.4.1" xref="S4.SS1.p1.5.m1.2.2.2.3.cmml">,</mo><mi id="S4.SS1.p1.5.m1.2.2.2.2" xref="S4.SS1.p1.5.m1.2.2.2.2.cmml">v</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.5.m1.2b"><apply id="S4.SS1.p1.5.m1.2.3.cmml" xref="S4.SS1.p1.5.m1.2.3"><csymbol cd="ambiguous" id="S4.SS1.p1.5.m1.2.3.1.cmml" xref="S4.SS1.p1.5.m1.2.3">subscript</csymbol><ci id="S4.SS1.p1.5.m1.2.3.2.cmml" xref="S4.SS1.p1.5.m1.2.3.2">𝑠</ci><list id="S4.SS1.p1.5.m1.2.2.2.3.cmml" xref="S4.SS1.p1.5.m1.2.2.2.4"><ci id="S4.SS1.p1.5.m1.1.1.1.1.cmml" xref="S4.SS1.p1.5.m1.1.1.1.1">𝑢</ci><ci id="S4.SS1.p1.5.m1.2.2.2.2.cmml" xref="S4.SS1.p1.5.m1.2.2.2.2">𝑣</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.5.m1.2c">s_{u,v}</annotation></semantics></math> is a randomly generated mask of the same dimension as <math id="S4.SS1.p1.6.m2.1" class="ltx_Math" alttext="x_{i}" display="inline"><semantics id="S4.SS1.p1.6.m2.1a"><msub id="S4.SS1.p1.6.m2.1.1" xref="S4.SS1.p1.6.m2.1.1.cmml"><mi id="S4.SS1.p1.6.m2.1.1.2" xref="S4.SS1.p1.6.m2.1.1.2.cmml">x</mi><mi id="S4.SS1.p1.6.m2.1.1.3" xref="S4.SS1.p1.6.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.6.m2.1b"><apply id="S4.SS1.p1.6.m2.1.1.cmml" xref="S4.SS1.p1.6.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.6.m2.1.1.1.cmml" xref="S4.SS1.p1.6.m2.1.1">subscript</csymbol><ci id="S4.SS1.p1.6.m2.1.1.2.cmml" xref="S4.SS1.p1.6.m2.1.1.2">𝑥</ci><ci id="S4.SS1.p1.6.m2.1.1.3.cmml" xref="S4.SS1.p1.6.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.6.m2.1c">x_{i}</annotation></semantics></math> which is shared between clients <math id="S4.SS1.p1.7.m3.1" class="ltx_Math" alttext="u" display="inline"><semantics id="S4.SS1.p1.7.m3.1a"><mi id="S4.SS1.p1.7.m3.1.1" xref="S4.SS1.p1.7.m3.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.7.m3.1b"><ci id="S4.SS1.p1.7.m3.1.1.cmml" xref="S4.SS1.p1.7.m3.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.7.m3.1c">u</annotation></semantics></math> and <math id="S4.SS1.p1.8.m4.1" class="ltx_Math" alttext="v" display="inline"><semantics id="S4.SS1.p1.8.m4.1a"><mi id="S4.SS1.p1.8.m4.1.1" xref="S4.SS1.p1.8.m4.1.1.cmml">v</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.8.m4.1b"><ci id="S4.SS1.p1.8.m4.1.1.cmml" xref="S4.SS1.p1.8.m4.1.1">𝑣</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.8.m4.1c">v</annotation></semantics></math>. Thus it can be shown that through cancellation</p>
<table id="S4.Ex2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.Ex2.m1.1" class="ltx_math_unparsed" alttext="\sum y_{i}==\sum x_{i}" display="block"><semantics id="S4.Ex2.m1.1a"><mrow id="S4.Ex2.m1.1b"><mo movablelimits="false" id="S4.Ex2.m1.1.1">∑</mo><msub id="S4.Ex2.m1.1.2"><mi id="S4.Ex2.m1.1.2.2">y</mi><mi id="S4.Ex2.m1.1.2.3">i</mi></msub><mo rspace="0em" id="S4.Ex2.m1.1.3">=</mo><mo lspace="0em" rspace="0.111em" id="S4.Ex2.m1.1.4">=</mo><mo movablelimits="false" id="S4.Ex2.m1.1.5">∑</mo><msub id="S4.Ex2.m1.1.6"><mi id="S4.Ex2.m1.1.6.2">x</mi><mi id="S4.Ex2.m1.1.6.3">i</mi></msub></mrow><annotation encoding="application/x-tex" id="S4.Ex2.m1.1c">\sum y_{i}==\sum x_{i}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">For secure aggregation to provide strong security it is important that pairs of clients generate cryptographically strong masks, which are applied using modular integer arithmetic. There are two consequences to this requirement: first the model must be quantized and transformed into an array of integers, an operation which can be only partially reversed after the weights are aggregated, and second we face the engineering challenge of generating random masks across heterogeneous operating system platforms. Note that for efficiency client pairs only negotiate a shared secret, and must compute the mask locally. Florida utilizes strong and cross-platform compatible key derivation functions (KDFs) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> to ensure consistent mask generation even across different device operating systems.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Differential Privacy</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.2" class="ltx_p">Differential privacy injects Gaussian noise into the training process to ensure the model is approximately invariant to the contributions of any single device <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>. We provide support for local or global differentially-private noise addition. On task configuration, the user specifies the local or global mechanism and the desired noise multiplier <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">\mu</annotation></semantics></math>. When DP is enabled, the user can access a Rényi-DP privacy accountant <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> in the dashboard to determine the current privacy loss <math id="S4.SS2.p1.2.m2.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S4.SS2.p1.2.m2.1a"><mi id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><ci id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">\epsilon</annotation></semantics></math>.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Secure Computing and Asynchronous FL</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">Confidential containers <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> enable developers to run secure workloads in untrusted cloud environments, and in the case of Federated Learning this can help mitigate the problem of relying on an “honest-but-curious” cloud provider. Furthermore, attested confidential containers can yield a much simplified approach to secure aggregation– provided that the container is vetted and trusted, clients can encrypt and upload model updates without negotiating paired keys with other clients in a virtual group <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>. This approach enables fast, asynchronous federation schemes. Florida supports asynchronous training and may be deployed using confidential containers to ensure the integrity of the aggregation step.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Experimental Results</h2>

<figure id="S5.F10" class="ltx_figure"><img src="/html/2307.11899/assets/figures/simulator_screenshot.png" id="S5.F10.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="359" height="212" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>End-to-end simulator on an Azure ML pipeline. The <em id="S5.F10.4.1" class="ltx_emph ltx_font_italic">Start Florida Job</em> component communicates with the server to create the task on the back end, while each of the <em id="S5.F10.5.2" class="ltx_emph ltx_font_italic">Florida Client Simulator</em> components have multiple clients running in parallel to execute the task. Finally, a <em id="S5.F10.6.3" class="ltx_emph ltx_font_italic">Run Florida Job</em> component (not in display above) is responsible for communicating with the server to fetch training status and metrics.</figcaption>
</figure>
<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">We now show how Florida can be used in practice for specific tasks.
For these experiments, we have the Florida back end services deployed on Azure, and are able to run the clients in a variety of basic test configurations. One possibility is to just run a few clients locally on a single machine, perhaps for an initial test. For this purpose, we have written a Jupyter notebook with widgets that make it easier to follow the training in each client (Figure <a href="#S3.F4" title="Figure 4 ‣ 3.2 Client SDK ‣ 3 Florida Architecture ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>). For running more than just a few clients, one might want to use our AzureML simulator, which has clients running inside multiple components of an AzureML pipeline (Figure <a href="#S5.F10" title="Figure 10 ‣ 5 Experimental Results ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>), while constantly communicating to the Florida server to fetch training status and metrics, which are communicated via a dashboard on AzureML.</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Spam Classification</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">Consider the (somewhat classic) problem of determining whether a given e-mail or text message is spam; this is usually done by training a binary classification model over a large database, which combines all users data. In some situations, however, it might be desirable to not use such a database, and we would instead train this model locally for each user. While a single user’s data might not be enough to provide a good performance, FL allows us to merge model updates from multiple users to build a global model.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.1" class="ltx_p">In this specific example, we use the Python SDK together with the HuggingFace transformers library<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. The model and dataset come from the HuggingFace Hub – the model is BERT Tiny<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> (<span id="S5.SS1.p2.1.1" class="ltx_text ltx_font_typewriter">prajjwal1/bert-tiny</span>), a small transformer obtained by distilling BERT, and the dataset Enron Spam (<span id="S5.SS1.p2.1.2" class="ltx_text ltx_font_typewriter">SetFit/enron-spam</span>), a curated version of the e-mails released during an investigation. For simplicity, we split the dataset in 100 subsets of same size, and each client has access to one of these subsets, picked at random. Each client has Python code for doing this training locally, which is then plugged to the Florida SDK by adding the lines in <a href="#S3.F3" title="Figure 3 ‣ 3.2 Client SDK ‣ 3 Florida Architecture ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.
We also need to send a script to the server with a recipe for aggregating model updates; in what follows, we have simply averaged them, as in the Federated Averaging scheme<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>.</p>
</div>
<div id="S5.SS1.p3" class="ltx_para">
<p id="S5.SS1.p3.1" class="ltx_p">We use the AzureML simulator with 8 <span id="S5.SS1.p3.1.1" class="ltx_text ltx_font_typewriter">Standard_DS11_v2</span> nodes containing 4 clients each, thus simulating 32 clients. At each of 10 iterations, each client accesses one of the 100 splits at random, and uses 20% of the data in the split to update the model (approximately 67 samples). We use the trainer provided by the transformers library with its default optimizer (AdamW), a learning rate of <math id="S5.SS1.p3.1.m1.1" class="ltx_Math" alttext="5\cdot 10^{-4}" display="inline"><semantics id="S5.SS1.p3.1.m1.1a"><mrow id="S5.SS1.p3.1.m1.1.1" xref="S5.SS1.p3.1.m1.1.1.cmml"><mn id="S5.SS1.p3.1.m1.1.1.2" xref="S5.SS1.p3.1.m1.1.1.2.cmml">5</mn><mo lspace="0.222em" rspace="0.222em" id="S5.SS1.p3.1.m1.1.1.1" xref="S5.SS1.p3.1.m1.1.1.1.cmml">⋅</mo><msup id="S5.SS1.p3.1.m1.1.1.3" xref="S5.SS1.p3.1.m1.1.1.3.cmml"><mn id="S5.SS1.p3.1.m1.1.1.3.2" xref="S5.SS1.p3.1.m1.1.1.3.2.cmml">10</mn><mrow id="S5.SS1.p3.1.m1.1.1.3.3" xref="S5.SS1.p3.1.m1.1.1.3.3.cmml"><mo id="S5.SS1.p3.1.m1.1.1.3.3a" xref="S5.SS1.p3.1.m1.1.1.3.3.cmml">−</mo><mn id="S5.SS1.p3.1.m1.1.1.3.3.2" xref="S5.SS1.p3.1.m1.1.1.3.3.2.cmml">4</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.1.m1.1b"><apply id="S5.SS1.p3.1.m1.1.1.cmml" xref="S5.SS1.p3.1.m1.1.1"><ci id="S5.SS1.p3.1.m1.1.1.1.cmml" xref="S5.SS1.p3.1.m1.1.1.1">⋅</ci><cn type="integer" id="S5.SS1.p3.1.m1.1.1.2.cmml" xref="S5.SS1.p3.1.m1.1.1.2">5</cn><apply id="S5.SS1.p3.1.m1.1.1.3.cmml" xref="S5.SS1.p3.1.m1.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p3.1.m1.1.1.3.1.cmml" xref="S5.SS1.p3.1.m1.1.1.3">superscript</csymbol><cn type="integer" id="S5.SS1.p3.1.m1.1.1.3.2.cmml" xref="S5.SS1.p3.1.m1.1.1.3.2">10</cn><apply id="S5.SS1.p3.1.m1.1.1.3.3.cmml" xref="S5.SS1.p3.1.m1.1.1.3.3"><minus id="S5.SS1.p3.1.m1.1.1.3.3.1.cmml" xref="S5.SS1.p3.1.m1.1.1.3.3"></minus><cn type="integer" id="S5.SS1.p3.1.m1.1.1.3.3.2.cmml" xref="S5.SS1.p3.1.m1.1.1.3.3.2">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.1.m1.1c">5\cdot 10^{-4}</annotation></semantics></math>, and a batch size of 8. Note that the model we use has approximately 16Mb when compressed. The performance of the federated training is measured in terms of accuracy on the test set and duration of each iteration.</p>
</div>
<div id="S5.SS1.p4" class="ltx_para">
<p id="S5.SS1.p4.2" class="ltx_p">Some variations of this experiment are attempted. First, we add user-level differential privacy (DP), by requesting the task to be created with local DP, a clipping norm of 0.5, and noise scale of 0.08; using the RDP accountant in Opacus, and considering there is a pool of 100 clients, we get a global <math id="S5.SS1.p4.1.m1.1" class="ltx_Math" alttext="\varepsilon" display="inline"><semantics id="S5.SS1.p4.1.m1.1a"><mi id="S5.SS1.p4.1.m1.1.1" xref="S5.SS1.p4.1.m1.1.1.cmml">ε</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.1.m1.1b"><ci id="S5.SS1.p4.1.m1.1.1.cmml" xref="S5.SS1.p4.1.m1.1.1">𝜀</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.1.m1.1c">\varepsilon</annotation></semantics></math> value of 2, with <math id="S5.SS1.p4.2.m2.1" class="ltx_Math" alttext="\delta=10^{-5}" display="inline"><semantics id="S5.SS1.p4.2.m2.1a"><mrow id="S5.SS1.p4.2.m2.1.1" xref="S5.SS1.p4.2.m2.1.1.cmml"><mi id="S5.SS1.p4.2.m2.1.1.2" xref="S5.SS1.p4.2.m2.1.1.2.cmml">δ</mi><mo id="S5.SS1.p4.2.m2.1.1.1" xref="S5.SS1.p4.2.m2.1.1.1.cmml">=</mo><msup id="S5.SS1.p4.2.m2.1.1.3" xref="S5.SS1.p4.2.m2.1.1.3.cmml"><mn id="S5.SS1.p4.2.m2.1.1.3.2" xref="S5.SS1.p4.2.m2.1.1.3.2.cmml">10</mn><mrow id="S5.SS1.p4.2.m2.1.1.3.3" xref="S5.SS1.p4.2.m2.1.1.3.3.cmml"><mo id="S5.SS1.p4.2.m2.1.1.3.3a" xref="S5.SS1.p4.2.m2.1.1.3.3.cmml">−</mo><mn id="S5.SS1.p4.2.m2.1.1.3.3.2" xref="S5.SS1.p4.2.m2.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.2.m2.1b"><apply id="S5.SS1.p4.2.m2.1.1.cmml" xref="S5.SS1.p4.2.m2.1.1"><eq id="S5.SS1.p4.2.m2.1.1.1.cmml" xref="S5.SS1.p4.2.m2.1.1.1"></eq><ci id="S5.SS1.p4.2.m2.1.1.2.cmml" xref="S5.SS1.p4.2.m2.1.1.2">𝛿</ci><apply id="S5.SS1.p4.2.m2.1.1.3.cmml" xref="S5.SS1.p4.2.m2.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p4.2.m2.1.1.3.1.cmml" xref="S5.SS1.p4.2.m2.1.1.3">superscript</csymbol><cn type="integer" id="S5.SS1.p4.2.m2.1.1.3.2.cmml" xref="S5.SS1.p4.2.m2.1.1.3.2">10</cn><apply id="S5.SS1.p4.2.m2.1.1.3.3.cmml" xref="S5.SS1.p4.2.m2.1.1.3.3"><minus id="S5.SS1.p4.2.m2.1.1.3.3.1.cmml" xref="S5.SS1.p4.2.m2.1.1.3.3"></minus><cn type="integer" id="S5.SS1.p4.2.m2.1.1.3.3.2.cmml" xref="S5.SS1.p4.2.m2.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.2.m2.1c">\delta=10^{-5}</annotation></semantics></math>. As we can see in Figure <a href="#S5.F11" title="Figure 11 ‣ 5.1 Spam Classification ‣ 5 Experimental Results ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a> (left), this leads to a slight decrease in accuracy, as well as convergence issues, which are expected when using DP and can be mitigated by adjusting the hyper-parameters.</p>
</div>
<div id="S5.SS1.p5" class="ltx_para">
<p id="S5.SS1.p5.1" class="ltx_p">We can also change the type of learning to asynchronous. In that case, the “iteration” concept is lost; we instead use a buffer of size 32, i.e., the model is updated after every 32 pseudo-gradients received by the server, which is repeated for 10 times. As we can see in Figure <a href="#S5.F11" title="Figure 11 ‣ 5.1 Spam Classification ‣ 5 Experimental Results ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a> (center), the average duration of each iteration decreases in that case, with similar accuracies obtained. We can also allow over-participation, by increasing the number of nodes to 16 instead of 8, which decreases the duration even further.</p>
</div>
<figure id="S5.F11" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3"><img src="/html/2307.11899/assets/x3.png" id="S5.F11.g1" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" width="147" height="108" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_3"><img src="/html/2307.11899/assets/x4.png" id="S5.F11.g2" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" width="147" height="108" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_3"><img src="/html/2307.11899/assets/x5.png" id="S5.F11.g3" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" width="147" height="108" alt="Refer to caption"></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 11: </span><em id="S5.F11.3.1" class="ltx_emph ltx_font_italic">Left and Center:</em> Accuracy and duration of each iteration, for the spam classification task. When using differential privacy, accuracy slightly decreases, and convergence is affected. Duration of each iteration is shown to be smaller for asynchronous approaches. <em id="S5.F11.4.2" class="ltx_emph ltx_font_italic">Right:</em> Scaling test showing the duration of each iteration for different numbers of concurrent clients, on a dummy task. Notice that the x-axis is not linear.</figcaption>
</figure>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Scaling Tests</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">Finally, we run a dummy task on varying numbers of clients. We use the AzureML simulator with varying numbers of nodes containing 32 clients each. The task consists in having each client generating an all-ones array of size 5 and sending it to the server, which then aggregates all the arrays. As we can see in Figure <a href="#S5.F11" title="Figure 11 ‣ 5.1 Spam Classification ‣ 5 Experimental Results ‣ Project Florida: Federated Learning Made Easy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a> (right), we can get to the order of one thousand clients communicating concurrently with the server, while still having the iteration processed in a reasonable time. By spacing out the clients and increasing the iteration timeout, we can easily process hundreds of thousands of clients per iteration.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.1" class="ltx_p">To date, Florida has been validated on production workloads of up to 70,000 connected devices, and our ongoing work is validating workloads of even greater capacity.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Related Work</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">Industrial applications of cross-device federated learning are largely represented by deployments from Google <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> and Apple <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>. Google has open-sourced TensorFlow Federated <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> which provides basic building blocks for building FL training workflows, mainly from the perspective of machine learning, as opposed to devops. Similarly, there are several platform vendors with an ML focus and use cases focused on cross-silo FL or collaborative learning, such as Flare from NVIDIA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>, PySyft <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> and FedML <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>. The Azure ML Platform also offers open source APIs for cross-silo FL based on the Azure platform <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>. Several research groups have released simulation platforms for enabling FL research, including FedML <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>, Flower <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>, and FLUTE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>.</p>
</div>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.1" class="ltx_p">There is extensive literature exploring real-world considerations in FL, such as resilience to attack or bias due to diurnal rhythms <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>, <a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>. Generally these explorations are conducted off-line in simulation. Google <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, Facebook <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, and Amazon <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> have all published work exploring real-world scaling and data bias considerations based on their experiences deploying real-world solutions.</p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Discussion</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">We have presented Florida, a cross-device orchestration platform for deploying FL solutions at scale, spanning heterogeneous device ecosystems. Florida is designed to simplify FL deployment tasks by decoupling the training workflow from the complexities of service management and device orchestration. Florida enables ML developers to focus on the local training and data life cycle and abstracts the necessary privacy and security tasks for securely aggregating the model. Florida has been validated to scale to tens of thousands of connected devices and we anticipate no serious difficulties scaling into the millions.</p>
</div>
<div id="S7.p2" class="ltx_para">
<p id="S7.p2.1" class="ltx_p">While Florida is fully-featured for many varieties of workloads, there are opportunities to add support for several enhancements: the aggregation approach, dependent as it is on secure aggregation, leaves limited room for novel aggregation approaches, such as clustered FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>, non-neural model architectures, or model architectures dependent on auxiliary metadata (for instance, updating and scaling min or max feature values). Furthermore, secure aggregation may prohibit gradient compression techniques that become important for workflow scaling. Our current work is exploring how these approaches can be more easily incorporated into secure aggregation schemes based on trusted enclaves, such as that proposed in  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>.</p>
</div>
<div id="S7.p3" class="ltx_para">
<p id="S7.p3.1" class="ltx_p">Testing real-world FL workflows is also an open challenge. In most cases our testing was limited by our ability to scale a test harness of simulated clients. We are continuing efforts in this area, to enable testing and validation at scales sufficient to deploy novel solutions to millions of connected devices.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera
y Arcas.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock">In <span id="bib.bib1.1.1" class="ltx_text ltx_font_italic">Artificial intelligence and statistics</span>, pages 1273–1282.
PMLR, 2017.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Tian Li, Anit Kumar Sahu, Manzil Zaheer, Maziar Sanjabi, Ameet Talwalkar, and
Virginia Smith.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks, 2018.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Sai Praneeth Karimireddy, Satyen Kale, Mehryar Mohri, Sashank J. Reddi,
Sebastian U. Stich, and Ananda Theertha Suresh.

</span>
<span class="ltx_bibblock">Scaffold: Stochastic controlled averaging for federated learning,
2019.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Hossein Hosseini, Hyunsin Park, Sungrack Yun, Christos Louizos, Joseph Soriaga,
and Max Welling.

</span>
<span class="ltx_bibblock">Federated learning of user verification models without sharing
embeddings.

</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text ltx_font_italic">ICML</span>, 2021.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Joel Stremmel and Arjun Singh.

</span>
<span class="ltx_bibblock">Pretraining federated text models for next word prediction, 2020.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Dzmitry Huba, John Nguyen, Kshitiz Malik, Ruiyu Zhu, Mike Rabbat, Ashkan
Yousefpour, Carole-Jean Wu, Hongyuan Zhan, Pavel Ustinov, Harish Srinivas,
Kaikai Wang, Anthony Shoumikhin, Jesik Min, and Mani Malek.

</span>
<span class="ltx_bibblock">Papaya: Practical, private, and scalable federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/2111.04877, 2021.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Prathamesh Mandke, Rachel Oberst, Matthias Reisser, Avijit Chakraborty,
Christos Louizos, Joseph Soriaga, Daniel Madrigal, Andre Manoel, Nalin
Singal, Jeff Omhover, and Robert Sim.

</span>
<span class="ltx_bibblock">Federated learning toolkit with voice-based user verification demo.

</span>
<span class="ltx_bibblock">In <span id="bib.bib7.1.1" class="ltx_text ltx_font_italic">Proceedings of INTERSPEECH 2023 (To Appear)</span>, 2023.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Anit Kumar Sahu, Tian Li, Maziar Sanjabi, Manzil Zaheer, Ameet Talwalkar, and
Virginia Smith.

</span>
<span class="ltx_bibblock">On the convergence of federated optimization in heterogeneous
networks.

</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1812.06127, 2018.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Dimitrios Dimitriadis, Ken’ichi Kumatani, Robert Gmyr, Yashesh Gaur, and
Sefik Emre Eskimez.

</span>
<span class="ltx_bibblock">Dynamic gradient aggregation for federated domain adaptation.

</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/2106.07578, 2021.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Keith Bonawitz, Hubert Eichner, Wolfgang Grieskamp, Dzmitry Huba, Alex
Ingerman, Vladimir Ivanov, Chloe Kiddon, Jakub Konečnỳ, Stefano
Mazzocchi, Brendan McMahan, et al.

</span>
<span class="ltx_bibblock">Towards federated learning at scale: System design.

</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text ltx_font_italic">Proceedings of machine learning and systems</span>, 1:374–388, 2019.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Kallista A. Bonawitz, Vladimir Ivanov, Ben Kreuter, Antonio Marcedone,
H. Brendan McMahan, Sarvar Patel, Daniel Ramage, Aaron Segal, and Karn Seth.

</span>
<span class="ltx_bibblock">Practical secure aggregation for federated learning on user-held
data.

</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1611.04482, 2016.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Google.

</span>
<span class="ltx_bibblock">Play integrity api.

</span>
<span class="ltx_bibblock">https://developer.android.com/google/play/integrity, 2023.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Huawei.

</span>
<span class="ltx_bibblock">Safety detect: Sysintegrity, urlcheck, appscheck, userdetect - huawei
developer.

</span>
<span class="ltx_bibblock">https://developer.huawei.com/consumer/en/hms/huawei-safetydetectkit,
2023.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Cloud Native Computing Foundation.

</span>
<span class="ltx_bibblock">gRPC: A high performance, open source universal rpc framework.

</span>
<span class="ltx_bibblock">https://grpc.io/.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
F. Pedregosa, G. Varoquaux, A. Gramfort, V. Michel, B. Thirion, O. Grisel,
M. Blondel, P. Prettenhofer, R. Weiss, V. Dubourg, J. Vanderplas, A. Passos,
D. Cournapeau, M. Brucher, M. Perrot, and E. Duchesnay.

</span>
<span class="ltx_bibblock">Scikit-learn: Machine learning in Python.

</span>
<span class="ltx_bibblock"><span id="bib.bib15.1.1" class="ltx_text ltx_font_italic">Journal of Machine Learning Research</span>, 12:2825–2830, 2011.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Adam Paszke, Sam Gross, Francisco Massa, Adam Lerer, James Bradbury, Gregory
Chanan, Trevor Killeen, Zeming Lin, Natalia Gimelshein, Luca Antiga, Alban
Desmaison, Andreas Kopf, Edward Yang, Zachary DeVito, Martin Raison, Alykhan
Tejani, Sasank Chilamkurthy, Benoit Steiner, Lu Fang, Junjie Bai, and Soumith
Chintala.

</span>
<span class="ltx_bibblock">Pytorch: An imperative style, high-performance deep learning library.

</span>
<span class="ltx_bibblock">In <span id="bib.bib16.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems 32</span>, pages
8024–8035. Curran Associates, Inc., 2019.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Microsoft Corp.

</span>
<span class="ltx_bibblock">Onnx runtime: Cross-platform accelerated machine learning.

</span>
<span class="ltx_bibblock">https://onnxruntime.ai/index.html, 2023.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
M. Abadi, P. Barham, J. Chen, Z. Chen, A. Davis, J. Dean, M Devin, S. Ghemawat,
G. Irving, M. Isard, M. Kudlur, J. Levenberg, R. Monga, S. Moore, D.G.
Murray, B. Steiner, P. Tucker, V. Vasudevan, P. Warden, M. Wicke, Y. Yu, and
X. Zheng.

</span>
<span class="ltx_bibblock">Tensorflow: A System for Large-Scale Machine Learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1605.08695</span>, 2016.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Wikipedia.

</span>
<span class="ltx_bibblock">https://en.wikipedia.org/wiki/Key_derivation_function, 2023.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Martin Abadi, Andy Chu, Ian Goodfellow, H. Brendan McMahan, Ilya Mironov, Kunal
Talwar, and Li Zhang.

</span>
<span class="ltx_bibblock">Deep learning with differential privacy.

</span>
<span class="ltx_bibblock">In <span id="bib.bib20.1.1" class="ltx_text ltx_font_italic">Proceedings of the 2016 ACM SIGSAC Conference on Computer
and Communications Security</span>. ACM, oct 2016.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Yu-Xiang Wang, Borja Balle, and Shiva Prasad Kasiviswanathan.

</span>
<span class="ltx_bibblock">Subsampled rényi differential privacy and analytical moments
accountant.

</span>
<span class="ltx_bibblock"><span id="bib.bib21.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1808.00087, 2018.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Cloud Native Computing Foundation.

</span>
<span class="ltx_bibblock">Confidential containers.

</span>
<span class="ltx_bibblock">https://github.com/confidential-containers, 2023.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Thomas Wolf, Lysandre Debut, Victor Sanh, Julien Chaumond, Clement Delangue,
Anthony Moi, Pierric Cistac, Tim Rault, Rémi Louf, Morgan Funtowicz,
et al.

</span>
<span class="ltx_bibblock">Huggingface’s transformers: State-of-the-art natural language
processing.

</span>
<span class="ltx_bibblock"><span id="bib.bib23.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1910.03771</span>, 2019.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Iulia Turc, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova.

</span>
<span class="ltx_bibblock">Well-read students learn better: On the importance of pre-training
compact models.

</span>
<span class="ltx_bibblock"><span id="bib.bib24.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1908.08962</span>, 2019.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Matthias Paulik, Matt Seigel, Henry Mason, Dominic Telaar, Joris Kluivers,
Rogier van Dalen, Chi Wai Lau, Luke Carlson, Filip Granqvist, Chris
Vandevelde, et al.

</span>
<span class="ltx_bibblock">Federated evaluation and tuning for on-device personalization: System
design &amp; applications.

</span>
<span class="ltx_bibblock"><span id="bib.bib25.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2102.08503</span>, 2021.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Holger R Roth, Yan Cheng, Yuhong Wen, Isaac Yang, Ziyue Xu, YuanTing Hsieh,
Kristopher Kersten, Ahmed Harouni, Can Zhao, Kevin Lu, et al.

</span>
<span class="ltx_bibblock">Nvidia flare: Federated learning from simulation to real-world.

</span>
<span class="ltx_bibblock">In <span id="bib.bib26.1.1" class="ltx_text ltx_font_italic">Workshop on Federated Learning: Recent Advances and New
Challenges (in Conjunction with NeurIPS 2022)</span>, 2022.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Alexander Ziller, Andrew Trask, Antonio Lopardo, Benjamin Szymkow, Bobby
Wagner, Emma Bluemke, Jean-Mickael Nounahon, Jonathan Passerat-Palmbach,
Kritika Prakash, Nick Rose, Théo Ryffel, Zarreen Naowal Reza, and
Georgios Kaissis.

</span>
<span class="ltx_bibblock"><span id="bib.bib27.1.1" class="ltx_text ltx_font_italic">PySyft: A Library for Easy Federated Learning</span>, pages 111–139.

</span>
<span class="ltx_bibblock">Springer International Publishing, Cham, 2021.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
Chaoyang He, Songze Li, Jinhyun So, Xiao Zeng, Mi Zhang, Hongyi Wang, Xiaoyang
Wang, Praneeth Vepakomma, Abhishek Singh, Hang Qiu, Xinghua Zhu, Jianzong
Wang, Li Shen, Peilin Zhao, Yan Kang, Yang Liu, Ramesh Raskar, Qiang Yang,
Murali Annavaram, and Salman Avestimehr.

</span>
<span class="ltx_bibblock">Fedml: A research library and benchmark for federated machine
learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib28.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2007.13518</span>, 2020.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
Microsoft Corp.

</span>
<span class="ltx_bibblock">Federated Learning in Azure ML, 2022.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
Daniel J. Beutel, Taner Topal, Akhil Mathur, Xinchi Qiu, Javier
Fernandez-Marques, Yan Gao, Lorenzo Sani, Kwing Hei Li, Titouan Parcollet,
Pedro Porto Buarque de Gusmão, and Nicholas D. Lane.

</span>
<span class="ltx_bibblock">Flower: A friendly federated learning research framework.

</span>
<span class="ltx_bibblock"><span id="bib.bib30.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2007.14390</span>, 2020.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
Mirian Hipolito Garcia, Andre Manoel, Daniel Madrigal Diaz, Fatemehsadat
Mireshghallah, Robert Sim, and Dimitrios Dimitriadis.

</span>
<span class="ltx_bibblock">Flute: A scalable, extensible framework for high-performance
federated learning simulations, 2022.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
Virat Shejwalkar, Amir Houmansadr, Peter Kairouz, and Daniel Ramage.

</span>
<span class="ltx_bibblock">Back to the drawing board: A critical evaluation of poisoning
attacks on federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib32.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/2108.10241, 2021.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
Chen Zhu, Zheng Xu, Mingqing Chen, Jakub Konečný, Andrew Hard, and Tom
Goldstein.

</span>
<span class="ltx_bibblock">Diurnal or nocturnal? federated learning of multi-branch networks
from periodically shifting distributions.

</span>
<span class="ltx_bibblock">In <span id="bib.bib33.1.1" class="ltx_text ltx_font_italic">International Conference on Learning Representations</span>, 2022.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
Christophe Dupuy, Tanya G. Roosta, Leo Long, Clement Chung, Rahul Gupta, and
Salman Avestimehr.

</span>
<span class="ltx_bibblock">Learnings from federated learning in the real world.

</span>
<span class="ltx_bibblock"><span id="bib.bib34.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/2202.03925, 2022.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
Felix Sattler, Klaus-Robert Müller, and Wojciech Samek.

</span>
<span class="ltx_bibblock">Clustered federated learning: Model-agnostic distributed multi-task
optimization under privacy constraints.

</span>
<span class="ltx_bibblock"><span id="bib.bib35.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1910.01991, 2019.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2307.11898" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2307.11899" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2307.11899">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2307.11899" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2307.11900" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Feb 28 17:03:54 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
