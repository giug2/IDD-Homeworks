<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Identifying Breakdowns in Conversational Recommender Systems using User Simulation</title>
<!--Generated on Fri May 24 14:40:57 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Conversational recommender systems; User simulation; Evaluation" lang="en" name="keywords"/>
<base href="/html/2405.14249v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S1" title="In Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S2" title="In Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3" title="In Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Detecting Conversational Breakdowns Using User Simulation</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3.SS1" title="In 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Problem Statement</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3.SS2" title="In 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Methodology</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3.SS3" title="In 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Conversational Breakdown Detection</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3.SS4" title="In 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Operationalization</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3.SS4.SSS0.Px1" title="In 3.4. Operationalization ‣ 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title">System failure</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3.SS4.SSS0.Px2" title="In 3.4. Operationalization ‣ 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title">Dialogue of the deaf</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3.SS4.SSS0.Px3" title="In 3.4. Operationalization ‣ 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title">Conversation flow discontinuation</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S4" title="In Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Case Study</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S5" title="In Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Discussion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S6" title="In Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Identifying Breakdowns in Conversational Recommender Systems using User Simulation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Nolwenn Bernard
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">University of Stavanger</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2">Stavanger</span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3">Norway</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:nolwenn.m.bernard@uis.no">nolwenn.m.bernard@uis.no</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Krisztian Balog
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">University of Stavanger</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2">Stavanger</span><span class="ltx_text ltx_affiliation_country" id="id6.3.id3">Norway</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:krisztian.balog@uis.no">krisztian.balog@uis.no</a>
</span></span></span>
</div>
<div class="ltx_dates">(2024)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id7.id1">We present a methodology to systematically test conversational recommender systems with regards to conversational breakdowns. It involves examining conversations generated between the system and simulated users for a set of pre-defined breakdown types, extracting responsible conversational paths, and characterizing them in terms of the underlying dialogue intents.
User simulation offers the advantages of simplicity, cost-effectiveness, and time efficiency for obtaining conversations where potential breakdowns can be identified.
The proposed methodology can be used as diagnostic tool as well as a development tool to improve conversational recommendation systems.
We apply our methodology in a case study with an existing conversational recommender system and user simulator, demonstrating that with just a few iterations, we can make the system more robust to conversational breakdowns.</p>
</div>
<div class="ltx_keywords">Conversational recommender systems; User simulation; Evaluation
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2024</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>ACM Conversational User Interfaces 2024; July 8–10, 2024; Luxembourg, Luxembourg</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>ACM Conversational User Interfaces 2024 (CUI ’24), July 8–10, 2024, Luxembourg, Luxembourg</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>10.1145/3640794.3665539</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id6"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>979-8-4007-0511-3/24/07</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id7"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Recommender systems</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Conversational recommender systems (CRSs) aim to provide personalized recommendations to user through multi-turn conversations <cite class="ltx_cite ltx_citemacro_citep">(Jannach
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib21" title="">2021</a>; Gao
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib13" title="">2021</a>)</cite>.
However, ensuring the robustness and effectiveness of these systems under any and all of the possible situations encountered while engaging with users remains a critical challenge <cite class="ltx_cite ltx_citemacro_citep">(Brabra et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib10" title="">2022</a>)</cite>.
We define a <em class="ltx_emph ltx_font_italic" id="S1.p1.1.1">breakdown</em> as a moment in the conversation where the flow discontinues or even stops. This includes system failures and unexpected/irrelevant replies from the CRS.
Examples include the CRS recommending an item without knowing what the user wants or prefers (i.e., recommendation before elicitation of the need and preferences) and the CRS repeating itself over and over.
Previously, the dialogue breakdown detection challenge <cite class="ltx_cite ltx_citemacro_citep">(Higashinaka et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib18" title="">2016</a>)</cite> motivated research on breakdown detection in chat-oriented dialogues. During the challenge, an annotated dialogue corpora was provided to the participants. Note that the set of labels used does not give information on the specific type of breakdown, despite the availability of at least one detailed breakdown taxonomy <cite class="ltx_cite ltx_citemacro_citep">(Higashinaka et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib17" title="">2015</a>)</cite>. Consequently, most of the proposed solutions were supervised classification approaches determining if a (potential) breakdown occurred or not.
Our work focuses on recommendation dialogues, i.e., task-oriented dialogues, that are not annotated. Furthermore, we aim to identify specific breakdowns in dialogues. Therefore, we propose a novel methodology to identify breakdowns and assess the robustness of an existing CRS via user simulation.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Leveraging user simulation has several advantages.
First, it is a simple, cost-effective, and efficient solution to test a CRS that supplements human evaluation <cite class="ltx_cite ltx_citemacro_citep">(Zhang and Balog, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib39" title="">2020</a>)</cite>.
Second, it allows for a comprehensive assessment of a CRS’s abilities in various scenarios and even allows for the simulation of the behavior of users with different characteristics (e.g., impatient, selective).
In particular, our methodology identifies conversational paths (i.e., sequences of intents) that lead to conversational breakdowns. To achieve this, a set of conversations between the CRS and simulated users is analyzed with regards to a set of pre-defined breakdowns.
As a starting point, we present detectors for three specific breakdowns to demonstrate our methodology: <em class="ltx_emph ltx_font_italic" id="S1.p2.1.1">system failure</em> (bugs), <em class="ltx_emph ltx_font_italic" id="S1.p2.1.2">dialogue of the deaf</em> (communication breakdowns between parties), and <em class="ltx_emph ltx_font_italic" id="S1.p2.1.3">conversational flow discontinuation</em> (disruptions with regards to a predefined interaction model).
The identification of breakdowns in the conversational flow can provide insights to improve the robustness and effectiveness of the CRS.
Furthermore, if changes to the behavior of the CRS can be made (e.g., either by updating the source code or providing it with further training examples), then the process can be repeated iteratively.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">To demonstrate the usefulness of our approach, we present a case study with an existing CRS and user simulator, in which the conversational breakdown detection is performed on four subsequent versions of the CRS. More specifically, after each breakdown detection, a modification is applied to the CRS based on insights extracted (i.e., conversational patterns) with the goal to reduce the number of breakdowns, hence, improve the CRS.
The results show that modifying the CRS with regards to one type of breakdown reduces its presence, while also affecting the number of other types of breakdowns detected.
Moreover, we note that some breakdowns stem from imperfections in the user simulator. We demonstrate that our methodology can help improve the user simulator, parallel to the CRS, thereby making it a more robust and effective tool.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">In summary, the main contributions of this work are twofold.
First, we propose a methodology to identify conversational breakdowns in CRSs.
Second, we present a case study where we apply this approach with an existing open-sourced CRS and user simulator. More specifically, we show how we improve the CRS based on the breakdowns identified.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">Conversational recommender systems can be built following task-oriented dialogue system architectures or as end-to-end trainable systems <cite class="ltx_cite ltx_citemacro_citep">(Gao
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib13" title="">2021</a>)</cite>.
In the former case, the <em class="ltx_emph ltx_font_italic" id="S2.p1.1.1">dialogue policy</em> is a central component, which determines the system’s response and action to a user utterance.
Hence, a well-designed dialogue policy allows the CRS to seamlessly handle different situation such as unexpected actions from users and misunderstandings.
The dialogue policy may be rule-based <cite class="ltx_cite ltx_citemacro_citep">(Ardissono
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib4" title="">2004</a>; Wärnestål, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib38" title="">2005</a>)</cite> or model-based, commonly trained using reinforcement learning <cite class="ltx_cite ltx_citemacro_citep">(Scheffler and
Young, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib33" title="">2001</a>; Mahmood and Ricci, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib27" title="">2009</a>; Sun and Zhang, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib34" title="">2018</a>; Lei
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib24" title="">2020</a>)</cite>.
Our methodology remains independent of the specific architecture of the CRS, and can be used with any of the aforementioned solutions.</p>
</div>
<figure class="ltx_table" id="S2.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S2.T1.7.2.1" style="font-size:90%;">Table 1</span>. </span><span class="ltx_text" id="S2.T1.2.1" style="font-size:90%;">Categorization of breakdowns identified from the references <cite class="ltx_cite ltx_citemacro_citep">(Higashinaka et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib17" title="">2015</a>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib16" title="">2021</a>; Möller et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib28" title="">2007</a>; Oulasvirta et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib30" title="">2006</a>)</cite>. The categories considered in this work are marked with <sup class="ltx_sup" id="S2.T1.2.1.1">†</sup>.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S2.T1.4">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S2.T1.4.3.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S2.T1.4.3.1.1">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.3.1.1.1">
<span class="ltx_p" id="S2.T1.4.3.1.1.1.1" style="width:43.4pt;"><span class="ltx_text ltx_font_bold" id="S2.T1.4.3.1.1.1.1.1">Category</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S2.T1.4.3.1.2">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.3.1.2.1">
<span class="ltx_p" id="S2.T1.4.3.1.2.1.1" style="width:182.1pt;"><span class="ltx_text ltx_font_bold" id="S2.T1.4.3.1.2.1.1.1">Description</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_t" id="S2.T1.4.3.1.3">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.3.1.3.1">
<span class="ltx_p" id="S2.T1.4.3.1.3.1.1" style="width:182.1pt;"><span class="ltx_text ltx_font_bold" id="S2.T1.4.3.1.3.1.1.1">Breakdowns</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S2.T1.4.4.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S2.T1.4.4.1.1">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.4.1.1.1">
<span class="ltx_p" id="S2.T1.4.4.1.1.1.1" style="width:43.4pt;">Linguistic</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S2.T1.4.4.1.2">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.4.1.2.1">
<span class="ltx_p" id="S2.T1.4.4.1.2.1.1" style="width:182.1pt;">Breakdowns occurring due to language issues in an utterance</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S2.T1.4.4.1.3">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.4.1.3.1">
<span class="ltx_p" id="S2.T1.4.4.1.3.1.1" style="width:182.1pt;">Syntactic error, semantic error, uninterpretable, wrong information, and command-level error</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S2.T1.3.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S2.T1.3.1.1">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.3.1.1.1">
<span class="ltx_p" id="S2.T1.3.1.1.1.1" style="width:43.4pt;">Contextual<sup class="ltx_sup" id="S2.T1.3.1.1.1.1.1">†</sup></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S2.T1.3.1.2">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.3.1.2.1">
<span class="ltx_p" id="S2.T1.3.1.2.1.1" style="width:182.1pt;">Breakdowns occurring when the utterance is not appropriate with regards to the context</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S2.T1.3.1.3">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.3.1.3.1">
<span class="ltx_p" id="S2.T1.3.1.3.1.1" style="width:182.1pt;">Excess/lack of information, non-understanding, no-relevance, unclear intention, misunderstanding, excess/lack of proposition, contradiction, self-contradiction, non-relevant topic, topic switch error, and repetition</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S2.T1.4.5.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S2.T1.4.5.2.1">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.5.2.1.1">
<span class="ltx_p" id="S2.T1.4.5.2.1.1.1" style="width:43.4pt;">Social</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S2.T1.4.5.2.2">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.5.2.2.1">
<span class="ltx_p" id="S2.T1.4.5.2.2.1.1" style="width:182.1pt;">Breakdowns related to social norms</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S2.T1.4.5.2.3">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.5.2.3.1">
<span class="ltx_p" id="S2.T1.4.5.2.3.1.1" style="width:182.1pt;">Lack of common ground, lack of common sense, and lack of sociality</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S2.T1.4.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_r ltx_border_t" id="S2.T1.4.2.1">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.2.1.1">
<span class="ltx_p" id="S2.T1.4.2.1.1.1" style="width:43.4pt;">Functional<sup class="ltx_sup" id="S2.T1.4.2.1.1.1.1">†</sup></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_r ltx_border_t" id="S2.T1.4.2.2">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.2.2.1">
<span class="ltx_p" id="S2.T1.4.2.2.1.1" style="width:182.1pt;">Breakdowns related to the absence of a function or the inability to perform a function</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_t" id="S2.T1.4.2.3">
<span class="ltx_inline-block ltx_align_top" id="S2.T1.4.2.3.1">
<span class="ltx_p" id="S2.T1.4.2.3.1.1" style="width:182.1pt;">Goal-level error, recognition-level error, and concept-level error</span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">Breakdowns in conversations have been studied in the field of dialogue systems and conversational analysis. It led to the development of different taxonomies of breakdowns <cite class="ltx_cite ltx_citemacro_citep">(Higashinaka et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib16" title="">2021</a>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib17" title="">2015</a>; Möller et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib28" title="">2007</a>; Oulasvirta et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib30" title="">2006</a>)</cite> and associated repair strategies <cite class="ltx_cite ltx_citemacro_citep">(Benner et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib9" title="">2021</a>)</cite>, i.e., strategies used to overcome a breakdown.
We group the breakdowns identified in <cite class="ltx_cite ltx_citemacro_citep">(Higashinaka et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib17" title="">2015</a>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib16" title="">2021</a>; Möller et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib28" title="">2007</a>; Oulasvirta et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib30" title="">2006</a>)</cite> into four categories which represent different aspects of a conversation (Table <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S2.T1" title="Table 1 ‣ 2. Related Work ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">1</span></a>).
In addition to these taxonomies, the BETOLD <cite class="ltx_cite ltx_citemacro_citep">(Terragni et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib35" title="">2022</a>)</cite> and Dialogue Breakdown Detection Challenge (DBDC) <cite class="ltx_cite ltx_citemacro_citep">(Higashinaka et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib18" title="">2016</a>)</cite> datasets were released to facilitate the development of breakdown detection methods. It is worth pointing out that these datasets are annotated with a small set of labels, which does not cover all types of breakdown mentioned in previous taxonomies. For example, in DBDC, there are three labels: not a breakdown, possible breakdown, and breakdown, which are given to each system utterance.
While, in BETOLD, the labels are binary and at the conversation level. The dialogue breakdown detection challenge <cite class="ltx_cite ltx_citemacro_citep">(Higashinaka et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib18" title="">2016</a>)</cite> ran for several years (between 2016 and 2019) and resulted in the development of different approaches to tackle this tasks in the context of chat-oriented dialogues most of them being based on supervised learning <cite class="ltx_cite ltx_citemacro_citep">(Hori et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib19" title="">2019</a>; Higashinaka et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib18" title="">2016</a>)</cite>, e.g., training of a recurrent neural network or support vector machine.
Instead, in this paper, we focus on task-oriented dialogues.
Although, chat-oriented and task-oriented dialogues have different characteristics, one can wonder if breakdown detection methods are generalizable. <cite class="ltx_cite ltx_citemacro_citet">Lopes (<a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib26" title="">2017</a>)</cite> studied this question by comparing the results of breakdown detection in task- and chat-oriented dialogues using the same set of features, e.g., cosine similarity between turns and bag-of-words representation of utterances. Based on this comparison, the author concludes that the hypothesis of a generic set of features to detect breakdowns “is true to a certain extent” due to the difference in interpretation of the features.
In this work, we take a step forward and propose a methodology to detect specific types of breakdown instead of merely identifying the (potential) presence of a breakdown.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">Breakdowns in conversational agents impact users’ satisfaction and their engagement <cite class="ltx_cite ltx_citemacro_citep">(Jain
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib20" title="">2018</a>)</cite>.
Previous work <cite class="ltx_cite ltx_citemacro_citep">(Ashktorab
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib5" title="">2019</a>; Lee et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib23" title="">2010</a>; Clausen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib11" title="">2023</a>)</cite> studied solutions to mitigate breakdowns in conversational agents, by focusing on strategies that can be applied by the conversational agent itself during the conversation to overcome breakdowns in a way that the user experience is impacted as little as possible.
These strategies include acknowledgment of failure, rephrasing, and clarifying that are common in human communication <cite class="ltx_cite ltx_citemacro_citep">(Ashktorab
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib5" title="">2019</a>)</cite>.
<cite class="ltx_cite ltx_citemacro_citet">Lee et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib23" title="">2010</a>)</cite> investigate the impact of different mitigation strategies, such as forewarning and apologizing, in the context of drink service by a robot. Their findings indicate that, in this particular context, each mitigation strategy may have a different influence on the users’ experience with the robot.
In <cite class="ltx_cite ltx_citemacro_citep">(Clausen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib11" title="">2023</a>)</cite>, the authors examine users’ feelings regarding different humorous repair strategies when performing a task with a smart speaker as the agent. The results of their user study show that the type of humor used by the repair strategy impacts users’ experience in terms of satisfaction, perceived intelligence, and likeability of the agent.
Repair strategies are also studied from a user perspective <cite class="ltx_cite ltx_citemacro_citep">(Beneteau et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib8" title="">2019</a>; Avdic and
Vermeulen, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib6" title="">2021</a>; Alloatti et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib3" title="">2024</a>)</cite>, i.e., the user is the one attempting to overcome the agent’s breakdowns. These types of studies commonly perform user studies to collect conversations that are manually analyzed to identify which repair strategies are used.
Unlike previous work on breakdown mitigation, our proposed method aims to automatically identify breakdowns and give insights on how to prevent them from happening, without the involvement of real users. Modifying the conversation agent based on these insights should reduce the use of repair strategies or even eliminate their need altogether.</p>
</div>
<div class="ltx_para" id="S2.p4">
<p class="ltx_p" id="S2.p4.1">User simulation can serve different purposes such as the optimization of a dialogue policy using reinforcement learning <cite class="ltx_cite ltx_citemacro_citep">(Tseng
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib36" title="">2021</a>; Scheffler and
Young, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib33" title="">2001</a>; Schatzmann et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib32" title="">2006</a>)</cite> and evaluation of conversational agents <cite class="ltx_cite ltx_citemacro_citep">(Zhang and Balog, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib39" title="">2020</a>; Griol
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib14" title="">2013</a>; Wang
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib37" title="">2023</a>)</cite>.
Different types of user simulators can be identified in the literature including model-based and data-driven <cite class="ltx_cite ltx_citemacro_citep">(Balog and Zhai, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib7" title="">2023</a>)</cite>.
User simulators for conversational recommendation are typically of the former type, commonly agenda-based <cite class="ltx_cite ltx_citemacro_citep">(Zhang and Balog, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib39" title="">2020</a>; Sun and Zhang, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib34" title="">2018</a>; Schatzmann et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib31" title="">2007</a>)</cite>, which allows for an explicit control over user behavior, i.e., what actions to perform with regards to a specific goal.
Nevertheless, data-driven approaches <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib25" title="">2021</a>; Kreyssig et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib22" title="">2018</a>)</cite> have gained attention in the past years mostly due to the increase of large-scale datasets available.
Our methodology is simulator-agnostic and can incorporate both solutions. However, due to their reliance on observed data, data-driven simulators have limitations when it comes to detecting breakdowns that happen along conversational paths that are less explored.</p>
</div>
<figure class="ltx_figure" id="S2.F1">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="120" id="S2.F1.g1" src="extracted/2405.14249v1/figures/methodology_flowchart2.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S2.F1.2.1.1" style="font-size:90%;">Figure 1</span>. </span><span class="ltx_text" id="S2.F1.3.2" style="font-size:90%;">Flowchart of the proposed methodology, with dashed arrows denoting transitions when the methodology is used as a development tool.</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S2.F1.4">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S2.F1.5">Flowchart displaying the four steps of the proposed methodology.</p>
</div>
</div>
</figure>
<div class="ltx_para" id="S2.p5">
<p class="ltx_p" id="S2.p5.1"><cite class="ltx_cite ltx_citemacro_citet">Möller et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib29" title="">2006</a>)</cite> proposed the MeMo system to automatically assess the usability of spoken dialogue systems. The system uses mental models to simulate users which can generate different types of errors. The generation of these errors is facilitated by the annotation of errors in historical dialogues. The aim of MeMo is to assess the impact of errors on the user experience rather than their detection. Indeed, the detection of errors is facilitated by the fact that they are generated by the user simulator.
In early work, <cite class="ltx_cite ltx_citemacro_citet">Eckert
et al<span class="ltx_text">.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib12" title="">1997</a>)</cite> used user simulation for both automatic debugging and evaluation of conversational agents. In particular, they assess spoken dialogue systems and demonstrate that shortcomings and bugs can be identified by analyzing the length of generated dialogues.
Differing from <cite class="ltx_cite ltx_citemacro_citep">(Eckert
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib12" title="">1997</a>)</cite>, our proposed methodology is more generic (can detect multiple types of breakdowns that can be captured heuristically) and provides a more refined analysis of the breakdowns (conversational patterns based on dialogue intents).
To the best of our knowledge, no other similar work on the debugging of conversational agents has been proposed more recently.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Detecting Conversational Breakdowns Using User Simulation</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">This section presents the proposed methodology for the detection of conversational breakdowns along with a description and operationalization of the breakdowns considered.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Problem Statement</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">The problem studied in this work considers a conversational recommender system (CRS), also referred to as <em class="ltx_emph ltx_font_italic" id="S3.SS1.p1.1.1">agent</em>, and a user simulator (US), also referred to simply as <em class="ltx_emph ltx_font_italic" id="S3.SS1.p1.1.2">user</em>, engaged in a conversation with the aim of finding items that match the user’s preferences.
Both the CRS and US are active <em class="ltx_emph ltx_font_italic" id="S3.SS1.p1.1.3">dialogue participants</em> in the recommendation process.
We assume that the CRS aims to provide personalized recommendations by processing each incoming utterance and replying to it. Similarly, the US is expected to communicate the user’s preferences toward specific properties or items in the form of declarations or replies to the CRS.
In our methodology, both the CRS and US are treated as ready-to-use components, i.e., no assumptions are made regarding their underlying architectures (e.g., component-based vs. end-to-end).
For our diagnostic purposes, a conversation between the CRS and the US is represented as a sequence of turns, each having an utterance accompanied by a corresponding <em class="ltx_emph ltx_font_italic" id="S3.SS1.p1.1.4">dialogue act</em>. A dialogue act comprises an intent and annotations taking the form of slot-value pairs (e.g., <span class="ltx_text ltx_font_typewriter" id="S3.SS1.p1.1.5">REVEAL(genre=action)</span> is the dialogue act corresponding to the utterance “I like action movies”).</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1">The objective of the proposed methodology is to identify conversational breakdowns in a CRS, that is, when the flow of a conversation is discontinued or stopped.
Our methodology is designed to be generic, therefore, both the CRS and US are treated as ready-to-use components.
The detection of conversational breakdowns is performed by a set of pre-defined breakdown detection components. These components indicate whether or not their associated breakdown occurs in a given conversation.
Thus, by processing a sample of conversations between the CRS and US, they can identify recurring conversational patterns causing breakdowns.
Based on the patterns identified as problematic, improvements may be made to the CRS to make it more robust and reliable.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Methodology</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">The proposed methodology considers three main components: the conversational recommender system, the user simulator, and breakdown detection.
Our method is divided into four steps with the last one being optional, depending on whether it is used as a diagnostic or a development tool; see Fig. <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S2.F1" title="Figure 1 ‣ 2. Related Work ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">1</span></a>:</p>
<ol class="ltx_enumerate" id="S3.I1">
<li class="ltx_item" id="S3.I1.i0" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(0)</span>
<div class="ltx_para" id="S3.I1.i0.p1">
<p class="ltx_p" id="S3.I1.i0.p1.1">Define conversational breakdowns to detect and implement the associated detection components. In this work, we consider three particular conversational breakdowns that are described in Section <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3.SS3" title="3.3. Conversational Breakdown Detection ‣ 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">3.3</span></a>.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.3">Generate a set of <math alttext="N" class="ltx_Math" display="inline" id="S3.I1.i1.p1.1.m1.1"><semantics id="S3.I1.i1.p1.1.m1.1a"><mi id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.1b"><ci id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.1.m1.1d">italic_N</annotation></semantics></math> conversations between the CRS and US. The choice of <math alttext="N" class="ltx_Math" display="inline" id="S3.I1.i1.p1.2.m2.1"><semantics id="S3.I1.i1.p1.2.m2.1a"><mi id="S3.I1.i1.p1.2.m2.1.1" xref="S3.I1.i1.p1.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.2.m2.1b"><ci id="S3.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.2.m2.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.2.m2.1d">italic_N</annotation></semantics></math> may depend on the use case or the complexity of the CRS evaluated. For example, interactions with a complex CRS can exhibit more conversational paths compared to a simpler CRS, hence, <math alttext="N" class="ltx_Math" display="inline" id="S3.I1.i1.p1.3.m3.1"><semantics id="S3.I1.i1.p1.3.m3.1a"><mi id="S3.I1.i1.p1.3.m3.1.1" xref="S3.I1.i1.p1.3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.3.m3.1b"><ci id="S3.I1.i1.p1.3.m3.1.1.cmml" xref="S3.I1.i1.p1.3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.3.m3.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.3.m3.1d">italic_N</annotation></semantics></math> should be high to explore as many paths as possible.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.1">Run breakdown detection on the generated conversations. Each breakdown detection component <math alttext="B_{i}" class="ltx_Math" display="inline" id="S3.I1.i2.p1.1.m1.1"><semantics id="S3.I1.i2.p1.1.m1.1a"><msub id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml"><mi id="S3.I1.i2.p1.1.m1.1.1.2" xref="S3.I1.i2.p1.1.m1.1.1.2.cmml">B</mi><mi id="S3.I1.i2.p1.1.m1.1.1.3" xref="S3.I1.i2.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.1b"><apply id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.I1.i2.p1.1.m1.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.1.1.2">𝐵</ci><ci id="S3.I1.i2.p1.1.m1.1.1.3.cmml" xref="S3.I1.i2.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.1c">B_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.1.m1.1d">italic_B start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> produces a summary that includes the number of breakdowns detected per conversational pattern.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S3.I1.i3.p1">
<p class="ltx_p" id="S3.I1.i3.p1.1">(If used as a development tool) Modify the CRS based on insights from the previous step.
Optionally, the system developer can repeat from step (1) depending on the number of breakdowns remaining.
In this step, it is recommended to address a single breakdown at a time (as opposed to implementing multiple changes simultaneously), as it allows for a more accurate analysis of the effect of a modification on the CRS during the next iteration.</p>
</div>
</li>
</ol>
<p class="ltx_p" id="S3.SS2.p1.2">This method can serve as a diagnostic tool when the CRS is a black box that cannot be modified, i.e., step (3) cannot be applied. Alternatively, it might serve as a development tool when the dialogue policy, more generally the CRS, can be modified (e.g., by updating the source code).
Indeed, by iteratively executing steps (1)–(3), one can investigate the impact of the modifications on the robustness and effectiveness of the CRS.
We note here that step (1) could be ignored if enough historical data (i.e., recorded conversations) are available.
Nonetheless, we advocate for the use of user simulation, as it provides the opportunity to quickly, inexpensively, and thoroughly assess the impact of the modifications made in step (3) through the generation of a large number of conversations, exploring diverse conversational paths.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Conversational Breakdown Detection</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">In this section, we describe the three specific conversational breakdowns considered in our use case. We note here that this set is by no means exhaustive and that our methodology is generic and extensible with other type of breakdowns that may be added in the future.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<ul class="ltx_itemize" id="S3.I2">
<li class="ltx_item" id="S3.I2.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math alttext="B_{1}" class="ltx_Math" display="inline" id="S3.I2.ix1.1.1.m1.1"><semantics id="S3.I2.ix1.1.1.m1.1b"><msub id="S3.I2.ix1.1.1.m1.1.1" xref="S3.I2.ix1.1.1.m1.1.1.cmml"><mi id="S3.I2.ix1.1.1.m1.1.1.2" xref="S3.I2.ix1.1.1.m1.1.1.2.cmml">B</mi><mn id="S3.I2.ix1.1.1.m1.1.1.3" xref="S3.I2.ix1.1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.I2.ix1.1.1.m1.1c"><apply id="S3.I2.ix1.1.1.m1.1.1.cmml" xref="S3.I2.ix1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I2.ix1.1.1.m1.1.1.1.cmml" xref="S3.I2.ix1.1.1.m1.1.1">subscript</csymbol><ci id="S3.I2.ix1.1.1.m1.1.1.2.cmml" xref="S3.I2.ix1.1.1.m1.1.1.2">𝐵</ci><cn id="S3.I2.ix1.1.1.m1.1.1.3.cmml" type="integer" xref="S3.I2.ix1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.ix1.1.1.m1.1d">B_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.ix1.1.1.m1.1e">italic_B start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math></span>
<div class="ltx_para" id="S3.I2.ix1.p1">
<p class="ltx_p" id="S3.I2.ix1.p1.1"><em class="ltx_emph ltx_font_bold ltx_font_italic" id="S3.I2.ix1.p1.1.1">System failure.</em> This detector simply verifies that no system errors are thrown during conversation generation between the agent and the user. This failure can help to identify underlying bugs that were not detected during integration tests.</p>
</div>
<figure class="ltx_figure" id="S3.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="354" id="S3.F2.g1" src="extracted/2405.14249v1/figures/example_dod.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F2.3.1.1" style="font-size:90%;">Figure 2</span>. </span><span class="ltx_text" id="S3.F2.4.2" style="font-size:90%;">Example of a conversation section illustrating a <em class="ltx_emph ltx_font_italic" id="S3.F2.4.2.1">dialogue of the deaf breakdown</em>. The green and blue bubbles represent user and agent utterances, respectively.</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S3.F2.5">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S3.F2.6">Example of conversation with 6 utterances between a user and an agent. The agent utterances are the same.</p>
</div>
</div>
</figure>
</li>
<li class="ltx_item" id="S3.I2.ix2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math alttext="B_{2}" class="ltx_Math" display="inline" id="S3.I2.ix2.1.1.m1.1"><semantics id="S3.I2.ix2.1.1.m1.1b"><msub id="S3.I2.ix2.1.1.m1.1.1" xref="S3.I2.ix2.1.1.m1.1.1.cmml"><mi id="S3.I2.ix2.1.1.m1.1.1.2" xref="S3.I2.ix2.1.1.m1.1.1.2.cmml">B</mi><mn id="S3.I2.ix2.1.1.m1.1.1.3" xref="S3.I2.ix2.1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.I2.ix2.1.1.m1.1c"><apply id="S3.I2.ix2.1.1.m1.1.1.cmml" xref="S3.I2.ix2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I2.ix2.1.1.m1.1.1.1.cmml" xref="S3.I2.ix2.1.1.m1.1.1">subscript</csymbol><ci id="S3.I2.ix2.1.1.m1.1.1.2.cmml" xref="S3.I2.ix2.1.1.m1.1.1.2">𝐵</ci><cn id="S3.I2.ix2.1.1.m1.1.1.3.cmml" type="integer" xref="S3.I2.ix2.1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.ix2.1.1.m1.1d">B_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.ix2.1.1.m1.1e">italic_B start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math></span>
<div class="ltx_para" id="S3.I2.ix2.p1">
<p class="ltx_p" id="S3.I2.ix2.p1.1"><em class="ltx_emph ltx_font_bold ltx_font_italic" id="S3.I2.ix2.p1.1.1">Dialogue of the deaf.</em> It identifies the agent’s utterances and dialogue acts that are identical and consecutive. This failure can indicate a pitfall in the dialogue policy from which the conversational agent cannot escape. Indeed, the goal of recommending an item to the user cannot be achieved if the agent keeps repeating the same utterance for multiple turns, i.e., the conversation does not progress. Moreover, such situations can easily frustrate users, who will most likely stop interacting with the agent. An example of this breakdown is presented in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3.F2" title="Figure 2 ‣ item B1 ‣ 3.3. Conversational Breakdown Detection ‣ 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">2</span></a>, where the agent fails to fill the slots “type of food” and “price range” with “thai” and “small budget,” respectively.
This breakdown can be linked to the context-level error labeled <em class="ltx_emph ltx_font_italic" id="S3.I2.ix2.p1.1.2">repetition</em> in <cite class="ltx_cite ltx_citemacro_citep">(Higashinaka et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib16" title="">2021</a>)</cite>, however, the definition of this error only mentions the textual similarity of utterances. The idea of repetition is also mentioned in <cite class="ltx_cite ltx_citemacro_citep">(Möller et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib28" title="">2007</a>; Oulasvirta et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib30" title="">2006</a>)</cite> but as a consequence of breakdown.</p>
</div>
</li>
<li class="ltx_item" id="S3.I2.ix3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math alttext="B_{3}" class="ltx_Math" display="inline" id="S3.I2.ix3.1.1.m1.1"><semantics id="S3.I2.ix3.1.1.m1.1b"><msub id="S3.I2.ix3.1.1.m1.1.1" xref="S3.I2.ix3.1.1.m1.1.1.cmml"><mi id="S3.I2.ix3.1.1.m1.1.1.2" xref="S3.I2.ix3.1.1.m1.1.1.2.cmml">B</mi><mn id="S3.I2.ix3.1.1.m1.1.1.3" xref="S3.I2.ix3.1.1.m1.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S3.I2.ix3.1.1.m1.1c"><apply id="S3.I2.ix3.1.1.m1.1.1.cmml" xref="S3.I2.ix3.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I2.ix3.1.1.m1.1.1.1.cmml" xref="S3.I2.ix3.1.1.m1.1.1">subscript</csymbol><ci id="S3.I2.ix3.1.1.m1.1.1.2.cmml" xref="S3.I2.ix3.1.1.m1.1.1.2">𝐵</ci><cn id="S3.I2.ix3.1.1.m1.1.1.3.cmml" type="integer" xref="S3.I2.ix3.1.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.ix3.1.1.m1.1d">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.ix3.1.1.m1.1e">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math></span>
<div class="ltx_para" id="S3.I2.ix3.p1">
<p class="ltx_p" id="S3.I2.ix3.p1.1"><em class="ltx_emph ltx_font_bold ltx_font_italic" id="S3.I2.ix3.p1.1.1">Conversation flow discontinuation.</em> This failure corresponds to an unexpected reply from either of the dialogue participants, more specifically a reply that affects negatively the naturalness of the conversation. It includes delayed replies, i.e., the participant replies to an utterance that was received at least two utterances before, and unexpected responses, i.e., a sequence of utterances with dialogue acts that should not follow each other.
For example, considering the simplified interaction model in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3.F3" title="Figure 3 ‣ 3.3. Conversational Breakdown Detection ‣ 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">3</span></a>, which defines the flow of recommendation in terms of user/system intents, it would be unexpected behavior from the CRS to provide information about an item that the user has previously rejected as a recommendation.
This breakdown may be classified as a task-level error by the taxonomies proposed in <cite class="ltx_cite ltx_citemacro_citep">(Möller et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib28" title="">2007</a>; Oulasvirta et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib30" title="">2006</a>)</cite>, as it indicates that an intent is invalid at a given state of the conversation. Additionally, we can consider the <em class="ltx_emph ltx_font_italic" id="S3.I2.ix3.p1.1.2">topic transition</em> error described in <cite class="ltx_cite ltx_citemacro_citep">(Higashinaka et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib16" title="">2021</a>)</cite> as a specific case of this breakdown because it includes delayed replies.</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_figure" id="S3.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="107" id="S3.F3.g1" src="extracted/2405.14249v1/figures/simplified_dialogue_flow.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F3.2.1.1" style="font-size:90%;">Figure 3</span>. </span><span class="ltx_text" id="S3.F3.3.2" style="font-size:90%;">Simplified interaction model for conversational recommendation (inspired by <cite class="ltx_cite ltx_citemacro_citep">(Habib
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib15" title="">2020</a>)</cite>). The blue and green states represent the agent and user, respectively.</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S3.F3.4">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S3.F3.5">Interaction model with 3 agent and 4 user states with arrows indicating possible transitions between the states.</p>
</div>
</div>
</figure>
<div class="ltx_para" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.1">Some breakdowns might be detected on the system level (<em class="ltx_emph ltx_font_italic" id="S3.SS3.p3.1.1">system failure</em>), while others require semantic annotations on the utterance level (<em class="ltx_emph ltx_font_italic" id="S3.SS3.p3.1.2">dialogue of the deaf</em> and <em class="ltx_emph ltx_font_italic" id="S3.SS3.p3.1.3">conversational flow discontinuation</em>).
Further, we categorize <em class="ltx_emph ltx_font_italic" id="S3.SS3.p3.1.4">system failure</em> as a functional breakdown, whereas <em class="ltx_emph ltx_font_italic" id="S3.SS3.p3.1.5">dialogue of the deaf</em> and <em class="ltx_emph ltx_font_italic" id="S3.SS3.p3.1.6">conversational flow discontinuation</em> are contextual breakdowns (cf. Table <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S2.T1" title="Table 1 ‣ 2. Related Work ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">1</span></a>).</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Operationalization</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">In this section, we present the logic behind the implementation of detectors for the selected conversational breakdowns.</p>
</div>
<section class="ltx_paragraph" id="S3.SS4.SSS0.Px1">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">System failure</h4>
<div class="ltx_para" id="S3.SS4.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS4.SSS0.Px1.p1.1">This detector simply checks the conversation’s error logs. In case an error different than <span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS0.Px1.p1.1.1">RecursionError<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_serif" id="footnote1.1.1.1">1</span></span><span class="ltx_text ltx_font_serif" id="footnote1.5">The naming is Python specific, it is also known as Stack Overflow error in other languagues such as Java and C++.</span></span></span></span></span> is retrieved, the conversational path is flagged as problematic. <span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS0.Px1.p1.1.2">Recursi-</span> <span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS0.Px1.p1.1.3">onError</span> is associated with the <em class="ltx_emph ltx_font_italic" id="S3.SS4.SSS0.Px1.p1.1.4">dialogue of the deaf</em> breakdown, that is, despite a large number of interaction the participants do not understand each other to accomplish the task.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS4.SSS0.Px2">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Dialogue of the deaf</h4>
<div class="ltx_para" id="S3.SS4.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS4.SSS0.Px2.p1.1">Similar to the previous detector, this one begins by checking if the conversation ended due to a <span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS0.Px2.p1.1.1">RecursionE-</span> <span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS0.Px2.p1.1.2">rror</span>, in which case, the conversational path is marked as problematic. In the absence of a <span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS0.Px2.p1.1.3">RecursionError</span>, it examines the agent’s utterances in sequence of length three to verify if their intents are identical and texts are near identical, indicating a breakdown. Note that using a slicing window of three utterances is an arbitrary choice and could be modified. This choice is motivated by the idea that the agent may repeat the same question twice in case of a misunderstanding, but should not persist in doing so. The pseudo-code for the detection of this breakdown is presented in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#alg1" title="Algorithm 1 ‣ Dialogue of the deaf ‣ 3.4. Operationalization ‣ 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.3.1.1">Algorithm 1</span> </span> Detect <em class="ltx_emph ltx_font_italic" id="alg1.4.2">dialogue of deaf</em> breakdown</figcaption>
<div class="ltx_listing ltx_listing" id="alg1.5">
<div class="ltx_listingline" id="alg1.l1">  <span class="ltx_text ltx_font_bold" id="alg1.l1.1">procedure</span> <span class="ltx_text ltx_font_smallcaps" id="alg1.l1.2">detect_failure</span>(<math alttext="dialogue:Dialogue" class="ltx_Math" display="inline" id="alg1.l1.m1.1"><semantics id="alg1.l1.m1.1a"><mrow id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mrow id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml"><mi id="alg1.l1.m1.1.1.2.2" xref="alg1.l1.m1.1.1.2.2.cmml">d</mi><mo id="alg1.l1.m1.1.1.2.1" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.3" xref="alg1.l1.m1.1.1.2.3.cmml">i</mi><mo id="alg1.l1.m1.1.1.2.1a" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.4" xref="alg1.l1.m1.1.1.2.4.cmml">a</mi><mo id="alg1.l1.m1.1.1.2.1b" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.5" xref="alg1.l1.m1.1.1.2.5.cmml">l</mi><mo id="alg1.l1.m1.1.1.2.1c" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.6" xref="alg1.l1.m1.1.1.2.6.cmml">o</mi><mo id="alg1.l1.m1.1.1.2.1d" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.7" xref="alg1.l1.m1.1.1.2.7.cmml">g</mi><mo id="alg1.l1.m1.1.1.2.1e" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.8" xref="alg1.l1.m1.1.1.2.8.cmml">u</mi><mo id="alg1.l1.m1.1.1.2.1f" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.9" xref="alg1.l1.m1.1.1.2.9.cmml">e</mi></mrow><mo id="alg1.l1.m1.1.1.1" lspace="0.278em" rspace="0.278em" xref="alg1.l1.m1.1.1.1.cmml">:</mo><mrow id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml"><mi id="alg1.l1.m1.1.1.3.2" xref="alg1.l1.m1.1.1.3.2.cmml">D</mi><mo id="alg1.l1.m1.1.1.3.1" xref="alg1.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.3.3" xref="alg1.l1.m1.1.1.3.3.cmml">i</mi><mo id="alg1.l1.m1.1.1.3.1a" xref="alg1.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.3.4" xref="alg1.l1.m1.1.1.3.4.cmml">a</mi><mo id="alg1.l1.m1.1.1.3.1b" xref="alg1.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.3.5" xref="alg1.l1.m1.1.1.3.5.cmml">l</mi><mo id="alg1.l1.m1.1.1.3.1c" xref="alg1.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.3.6" xref="alg1.l1.m1.1.1.3.6.cmml">o</mi><mo id="alg1.l1.m1.1.1.3.1d" xref="alg1.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.3.7" xref="alg1.l1.m1.1.1.3.7.cmml">g</mi><mo id="alg1.l1.m1.1.1.3.1e" xref="alg1.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.3.8" xref="alg1.l1.m1.1.1.3.8.cmml">u</mi><mo id="alg1.l1.m1.1.1.3.1f" xref="alg1.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.3.9" xref="alg1.l1.m1.1.1.3.9.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><ci id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1.1">:</ci><apply id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2"><times id="alg1.l1.m1.1.1.2.1.cmml" xref="alg1.l1.m1.1.1.2.1"></times><ci id="alg1.l1.m1.1.1.2.2.cmml" xref="alg1.l1.m1.1.1.2.2">𝑑</ci><ci id="alg1.l1.m1.1.1.2.3.cmml" xref="alg1.l1.m1.1.1.2.3">𝑖</ci><ci id="alg1.l1.m1.1.1.2.4.cmml" xref="alg1.l1.m1.1.1.2.4">𝑎</ci><ci id="alg1.l1.m1.1.1.2.5.cmml" xref="alg1.l1.m1.1.1.2.5">𝑙</ci><ci id="alg1.l1.m1.1.1.2.6.cmml" xref="alg1.l1.m1.1.1.2.6">𝑜</ci><ci id="alg1.l1.m1.1.1.2.7.cmml" xref="alg1.l1.m1.1.1.2.7">𝑔</ci><ci id="alg1.l1.m1.1.1.2.8.cmml" xref="alg1.l1.m1.1.1.2.8">𝑢</ci><ci id="alg1.l1.m1.1.1.2.9.cmml" xref="alg1.l1.m1.1.1.2.9">𝑒</ci></apply><apply id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3"><times id="alg1.l1.m1.1.1.3.1.cmml" xref="alg1.l1.m1.1.1.3.1"></times><ci id="alg1.l1.m1.1.1.3.2.cmml" xref="alg1.l1.m1.1.1.3.2">𝐷</ci><ci id="alg1.l1.m1.1.1.3.3.cmml" xref="alg1.l1.m1.1.1.3.3">𝑖</ci><ci id="alg1.l1.m1.1.1.3.4.cmml" xref="alg1.l1.m1.1.1.3.4">𝑎</ci><ci id="alg1.l1.m1.1.1.3.5.cmml" xref="alg1.l1.m1.1.1.3.5">𝑙</ci><ci id="alg1.l1.m1.1.1.3.6.cmml" xref="alg1.l1.m1.1.1.3.6">𝑜</ci><ci id="alg1.l1.m1.1.1.3.7.cmml" xref="alg1.l1.m1.1.1.3.7">𝑔</ci><ci id="alg1.l1.m1.1.1.3.8.cmml" xref="alg1.l1.m1.1.1.3.8">𝑢</ci><ci id="alg1.l1.m1.1.1.3.9.cmml" xref="alg1.l1.m1.1.1.3.9">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">dialogue:Dialogue</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.1d">italic_d italic_i italic_a italic_l italic_o italic_g italic_u italic_e : italic_D italic_i italic_a italic_l italic_o italic_g italic_u italic_e</annotation></semantics></math>)



</div>
<div class="ltx_listingline" id="alg1.l2">     <math alttext="path\leftarrow[]" class="ltx_Math" display="inline" id="alg1.l2.m1.1"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><mrow id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml"><mi id="alg1.l2.m1.1.1.2.2" xref="alg1.l2.m1.1.1.2.2.cmml">p</mi><mo id="alg1.l2.m1.1.1.2.1" xref="alg1.l2.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l2.m1.1.1.2.3" xref="alg1.l2.m1.1.1.2.3.cmml">a</mi><mo id="alg1.l2.m1.1.1.2.1a" xref="alg1.l2.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l2.m1.1.1.2.4" xref="alg1.l2.m1.1.1.2.4.cmml">t</mi><mo id="alg1.l2.m1.1.1.2.1b" xref="alg1.l2.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l2.m1.1.1.2.5" xref="alg1.l2.m1.1.1.2.5.cmml">h</mi></mrow><mo id="alg1.l2.m1.1.1.1" stretchy="false" xref="alg1.l2.m1.1.1.1.cmml">←</mo><mrow id="alg1.l2.m1.1.1.3.2" xref="alg1.l2.m1.1.1.cmml"><mo id="alg1.l2.m1.1.1.3.2.1" stretchy="false" xref="alg1.l2.m1.1.1.3.1.cmml">[</mo><mo id="alg1.l2.m1.1.1.3.2.2" stretchy="false" xref="alg1.l2.m1.1.1.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><ci id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1">←</ci><apply id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2"><times id="alg1.l2.m1.1.1.2.1.cmml" xref="alg1.l2.m1.1.1.2.1"></times><ci id="alg1.l2.m1.1.1.2.2.cmml" xref="alg1.l2.m1.1.1.2.2">𝑝</ci><ci id="alg1.l2.m1.1.1.2.3.cmml" xref="alg1.l2.m1.1.1.2.3">𝑎</ci><ci id="alg1.l2.m1.1.1.2.4.cmml" xref="alg1.l2.m1.1.1.2.4">𝑡</ci><ci id="alg1.l2.m1.1.1.2.5.cmml" xref="alg1.l2.m1.1.1.2.5">ℎ</ci></apply><list id="alg1.l2.m1.1.1.3.1.cmml" xref="alg1.l2.m1.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">path\leftarrow[]</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.1d">italic_p italic_a italic_t italic_h ← [ ]</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l3">     <span class="ltx_text ltx_font_bold" id="alg1.l3.1">if</span> <math alttext="dialogue" class="ltx_Math" display="inline" id="alg1.l3.m1.1"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mi id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">d</mi><mo id="alg1.l3.m1.1.1.1" xref="alg1.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml">i</mi><mo id="alg1.l3.m1.1.1.1a" xref="alg1.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.4" xref="alg1.l3.m1.1.1.4.cmml">a</mi><mo id="alg1.l3.m1.1.1.1b" xref="alg1.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.5" xref="alg1.l3.m1.1.1.5.cmml">l</mi><mo id="alg1.l3.m1.1.1.1c" xref="alg1.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.6" xref="alg1.l3.m1.1.1.6.cmml">o</mi><mo id="alg1.l3.m1.1.1.1d" xref="alg1.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.7" xref="alg1.l3.m1.1.1.7.cmml">g</mi><mo id="alg1.l3.m1.1.1.1e" xref="alg1.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.8" xref="alg1.l3.m1.1.1.8.cmml">u</mi><mo id="alg1.l3.m1.1.1.1f" xref="alg1.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.9" xref="alg1.l3.m1.1.1.9.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><times id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1"></times><ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">𝑑</ci><ci id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3">𝑖</ci><ci id="alg1.l3.m1.1.1.4.cmml" xref="alg1.l3.m1.1.1.4">𝑎</ci><ci id="alg1.l3.m1.1.1.5.cmml" xref="alg1.l3.m1.1.1.5">𝑙</ci><ci id="alg1.l3.m1.1.1.6.cmml" xref="alg1.l3.m1.1.1.6">𝑜</ci><ci id="alg1.l3.m1.1.1.7.cmml" xref="alg1.l3.m1.1.1.7">𝑔</ci><ci id="alg1.l3.m1.1.1.8.cmml" xref="alg1.l3.m1.1.1.8">𝑢</ci><ci id="alg1.l3.m1.1.1.9.cmml" xref="alg1.l3.m1.1.1.9">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">dialogue</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.1d">italic_d italic_i italic_a italic_l italic_o italic_g italic_u italic_e</annotation></semantics></math> ended due to a <span class="ltx_text ltx_font_typewriter" id="alg1.l3.2">RecursionError</span> <span class="ltx_text ltx_font_bold" id="alg1.l3.3">then</span>
</div>
<div class="ltx_listingline" id="alg1.l4">        <span class="ltx_text ltx_font_bold" id="alg1.l4.1">for</span> each <math alttext="utterance" class="ltx_Math" display="inline" id="alg1.l4.m1.1"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mi id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">u</mi><mo id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml">t</mi><mo id="alg1.l4.m1.1.1.1a" xref="alg1.l4.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m1.1.1.4" xref="alg1.l4.m1.1.1.4.cmml">t</mi><mo id="alg1.l4.m1.1.1.1b" xref="alg1.l4.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m1.1.1.5" xref="alg1.l4.m1.1.1.5.cmml">e</mi><mo id="alg1.l4.m1.1.1.1c" xref="alg1.l4.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m1.1.1.6" xref="alg1.l4.m1.1.1.6.cmml">r</mi><mo id="alg1.l4.m1.1.1.1d" xref="alg1.l4.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m1.1.1.7" xref="alg1.l4.m1.1.1.7.cmml">a</mi><mo id="alg1.l4.m1.1.1.1e" xref="alg1.l4.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m1.1.1.8" xref="alg1.l4.m1.1.1.8.cmml">n</mi><mo id="alg1.l4.m1.1.1.1f" xref="alg1.l4.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m1.1.1.9" xref="alg1.l4.m1.1.1.9.cmml">c</mi><mo id="alg1.l4.m1.1.1.1g" xref="alg1.l4.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m1.1.1.10" xref="alg1.l4.m1.1.1.10.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><times id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1"></times><ci id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2">𝑢</ci><ci id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">𝑡</ci><ci id="alg1.l4.m1.1.1.4.cmml" xref="alg1.l4.m1.1.1.4">𝑡</ci><ci id="alg1.l4.m1.1.1.5.cmml" xref="alg1.l4.m1.1.1.5">𝑒</ci><ci id="alg1.l4.m1.1.1.6.cmml" xref="alg1.l4.m1.1.1.6">𝑟</ci><ci id="alg1.l4.m1.1.1.7.cmml" xref="alg1.l4.m1.1.1.7">𝑎</ci><ci id="alg1.l4.m1.1.1.8.cmml" xref="alg1.l4.m1.1.1.8">𝑛</ci><ci id="alg1.l4.m1.1.1.9.cmml" xref="alg1.l4.m1.1.1.9">𝑐</ci><ci id="alg1.l4.m1.1.1.10.cmml" xref="alg1.l4.m1.1.1.10">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">utterance</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.1d">italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e</annotation></semantics></math> in <math alttext="dialogue" class="ltx_Math" display="inline" id="alg1.l4.m2.1"><semantics id="alg1.l4.m2.1a"><mrow id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml"><mi id="alg1.l4.m2.1.1.2" xref="alg1.l4.m2.1.1.2.cmml">d</mi><mo id="alg1.l4.m2.1.1.1" xref="alg1.l4.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3" xref="alg1.l4.m2.1.1.3.cmml">i</mi><mo id="alg1.l4.m2.1.1.1a" xref="alg1.l4.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.4" xref="alg1.l4.m2.1.1.4.cmml">a</mi><mo id="alg1.l4.m2.1.1.1b" xref="alg1.l4.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.5" xref="alg1.l4.m2.1.1.5.cmml">l</mi><mo id="alg1.l4.m2.1.1.1c" xref="alg1.l4.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.6" xref="alg1.l4.m2.1.1.6.cmml">o</mi><mo id="alg1.l4.m2.1.1.1d" xref="alg1.l4.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.7" xref="alg1.l4.m2.1.1.7.cmml">g</mi><mo id="alg1.l4.m2.1.1.1e" xref="alg1.l4.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.8" xref="alg1.l4.m2.1.1.8.cmml">u</mi><mo id="alg1.l4.m2.1.1.1f" xref="alg1.l4.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.9" xref="alg1.l4.m2.1.1.9.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b"><apply id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1"><times id="alg1.l4.m2.1.1.1.cmml" xref="alg1.l4.m2.1.1.1"></times><ci id="alg1.l4.m2.1.1.2.cmml" xref="alg1.l4.m2.1.1.2">𝑑</ci><ci id="alg1.l4.m2.1.1.3.cmml" xref="alg1.l4.m2.1.1.3">𝑖</ci><ci id="alg1.l4.m2.1.1.4.cmml" xref="alg1.l4.m2.1.1.4">𝑎</ci><ci id="alg1.l4.m2.1.1.5.cmml" xref="alg1.l4.m2.1.1.5">𝑙</ci><ci id="alg1.l4.m2.1.1.6.cmml" xref="alg1.l4.m2.1.1.6">𝑜</ci><ci id="alg1.l4.m2.1.1.7.cmml" xref="alg1.l4.m2.1.1.7">𝑔</ci><ci id="alg1.l4.m2.1.1.8.cmml" xref="alg1.l4.m2.1.1.8">𝑢</ci><ci id="alg1.l4.m2.1.1.9.cmml" xref="alg1.l4.m2.1.1.9">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.1c">dialogue</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m2.1d">italic_d italic_i italic_a italic_l italic_o italic_g italic_u italic_e</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l4.2">do</span>
</div>
<div class="ltx_listingline" id="alg1.l5">           <math alttext="path" class="ltx_Math" display="inline" id="alg1.l5.m1.1"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mi id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml">p</mi><mo id="alg1.l5.m1.1.1.1" xref="alg1.l5.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml">a</mi><mo id="alg1.l5.m1.1.1.1a" xref="alg1.l5.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m1.1.1.4" xref="alg1.l5.m1.1.1.4.cmml">t</mi><mo id="alg1.l5.m1.1.1.1b" xref="alg1.l5.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m1.1.1.5" xref="alg1.l5.m1.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><times id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1"></times><ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">𝑝</ci><ci id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3">𝑎</ci><ci id="alg1.l5.m1.1.1.4.cmml" xref="alg1.l5.m1.1.1.4">𝑡</ci><ci id="alg1.l5.m1.1.1.5.cmml" xref="alg1.l5.m1.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">path</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m1.1d">italic_p italic_a italic_t italic_h</annotation></semantics></math>.append(<math alttext="utterance.intent" class="ltx_Math" display="inline" id="alg1.l5.m2.2"><semantics id="alg1.l5.m2.2a"><mrow id="alg1.l5.m2.2.2.2" xref="alg1.l5.m2.2.2.3.cmml"><mrow id="alg1.l5.m2.1.1.1.1" xref="alg1.l5.m2.1.1.1.1.cmml"><mi id="alg1.l5.m2.1.1.1.1.2" xref="alg1.l5.m2.1.1.1.1.2.cmml">u</mi><mo id="alg1.l5.m2.1.1.1.1.1" xref="alg1.l5.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.1.1.3" xref="alg1.l5.m2.1.1.1.1.3.cmml">t</mi><mo id="alg1.l5.m2.1.1.1.1.1a" xref="alg1.l5.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.1.1.4" xref="alg1.l5.m2.1.1.1.1.4.cmml">t</mi><mo id="alg1.l5.m2.1.1.1.1.1b" xref="alg1.l5.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.1.1.5" xref="alg1.l5.m2.1.1.1.1.5.cmml">e</mi><mo id="alg1.l5.m2.1.1.1.1.1c" xref="alg1.l5.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.1.1.6" xref="alg1.l5.m2.1.1.1.1.6.cmml">r</mi><mo id="alg1.l5.m2.1.1.1.1.1d" xref="alg1.l5.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.1.1.7" xref="alg1.l5.m2.1.1.1.1.7.cmml">a</mi><mo id="alg1.l5.m2.1.1.1.1.1e" xref="alg1.l5.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.1.1.8" xref="alg1.l5.m2.1.1.1.1.8.cmml">n</mi><mo id="alg1.l5.m2.1.1.1.1.1f" xref="alg1.l5.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.1.1.9" xref="alg1.l5.m2.1.1.1.1.9.cmml">c</mi><mo id="alg1.l5.m2.1.1.1.1.1g" xref="alg1.l5.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.1.1.10" xref="alg1.l5.m2.1.1.1.1.10.cmml">e</mi></mrow><mo id="alg1.l5.m2.2.2.2.3" lspace="0em" rspace="0.167em" xref="alg1.l5.m2.2.2.3a.cmml">.</mo><mrow id="alg1.l5.m2.2.2.2.2" xref="alg1.l5.m2.2.2.2.2.cmml"><mi id="alg1.l5.m2.2.2.2.2.2" xref="alg1.l5.m2.2.2.2.2.2.cmml">i</mi><mo id="alg1.l5.m2.2.2.2.2.1" xref="alg1.l5.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l5.m2.2.2.2.2.3" xref="alg1.l5.m2.2.2.2.2.3.cmml">n</mi><mo id="alg1.l5.m2.2.2.2.2.1a" xref="alg1.l5.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l5.m2.2.2.2.2.4" xref="alg1.l5.m2.2.2.2.2.4.cmml">t</mi><mo id="alg1.l5.m2.2.2.2.2.1b" xref="alg1.l5.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l5.m2.2.2.2.2.5" xref="alg1.l5.m2.2.2.2.2.5.cmml">e</mi><mo id="alg1.l5.m2.2.2.2.2.1c" xref="alg1.l5.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l5.m2.2.2.2.2.6" xref="alg1.l5.m2.2.2.2.2.6.cmml">n</mi><mo id="alg1.l5.m2.2.2.2.2.1d" xref="alg1.l5.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l5.m2.2.2.2.2.7" xref="alg1.l5.m2.2.2.2.2.7.cmml">t</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m2.2b"><apply id="alg1.l5.m2.2.2.3.cmml" xref="alg1.l5.m2.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m2.2.2.3a.cmml" xref="alg1.l5.m2.2.2.2.3">formulae-sequence</csymbol><apply id="alg1.l5.m2.1.1.1.1.cmml" xref="alg1.l5.m2.1.1.1.1"><times id="alg1.l5.m2.1.1.1.1.1.cmml" xref="alg1.l5.m2.1.1.1.1.1"></times><ci id="alg1.l5.m2.1.1.1.1.2.cmml" xref="alg1.l5.m2.1.1.1.1.2">𝑢</ci><ci id="alg1.l5.m2.1.1.1.1.3.cmml" xref="alg1.l5.m2.1.1.1.1.3">𝑡</ci><ci id="alg1.l5.m2.1.1.1.1.4.cmml" xref="alg1.l5.m2.1.1.1.1.4">𝑡</ci><ci id="alg1.l5.m2.1.1.1.1.5.cmml" xref="alg1.l5.m2.1.1.1.1.5">𝑒</ci><ci id="alg1.l5.m2.1.1.1.1.6.cmml" xref="alg1.l5.m2.1.1.1.1.6">𝑟</ci><ci id="alg1.l5.m2.1.1.1.1.7.cmml" xref="alg1.l5.m2.1.1.1.1.7">𝑎</ci><ci id="alg1.l5.m2.1.1.1.1.8.cmml" xref="alg1.l5.m2.1.1.1.1.8">𝑛</ci><ci id="alg1.l5.m2.1.1.1.1.9.cmml" xref="alg1.l5.m2.1.1.1.1.9">𝑐</ci><ci id="alg1.l5.m2.1.1.1.1.10.cmml" xref="alg1.l5.m2.1.1.1.1.10">𝑒</ci></apply><apply id="alg1.l5.m2.2.2.2.2.cmml" xref="alg1.l5.m2.2.2.2.2"><times id="alg1.l5.m2.2.2.2.2.1.cmml" xref="alg1.l5.m2.2.2.2.2.1"></times><ci id="alg1.l5.m2.2.2.2.2.2.cmml" xref="alg1.l5.m2.2.2.2.2.2">𝑖</ci><ci id="alg1.l5.m2.2.2.2.2.3.cmml" xref="alg1.l5.m2.2.2.2.2.3">𝑛</ci><ci id="alg1.l5.m2.2.2.2.2.4.cmml" xref="alg1.l5.m2.2.2.2.2.4">𝑡</ci><ci id="alg1.l5.m2.2.2.2.2.5.cmml" xref="alg1.l5.m2.2.2.2.2.5">𝑒</ci><ci id="alg1.l5.m2.2.2.2.2.6.cmml" xref="alg1.l5.m2.2.2.2.2.6">𝑛</ci><ci id="alg1.l5.m2.2.2.2.2.7.cmml" xref="alg1.l5.m2.2.2.2.2.7">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m2.2c">utterance.intent</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m2.2d">italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e . italic_i italic_n italic_t italic_e italic_n italic_t</annotation></semantics></math>)

</div>
<div class="ltx_listingline" id="alg1.l6">        <span class="ltx_text ltx_font_bold" id="alg1.l6.1">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l6.2">for</span>
</div>
<div class="ltx_listingline" id="alg1.l7">        Return <math alttext="path" class="ltx_Math" display="inline" id="alg1.l7.m1.1"><semantics id="alg1.l7.m1.1a"><mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><mi id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml">p</mi><mo id="alg1.l7.m1.1.1.1" xref="alg1.l7.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml">a</mi><mo id="alg1.l7.m1.1.1.1a" xref="alg1.l7.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.4" xref="alg1.l7.m1.1.1.4.cmml">t</mi><mo id="alg1.l7.m1.1.1.1b" xref="alg1.l7.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.5" xref="alg1.l7.m1.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><times id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1"></times><ci id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2">𝑝</ci><ci id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">𝑎</ci><ci id="alg1.l7.m1.1.1.4.cmml" xref="alg1.l7.m1.1.1.4">𝑡</ci><ci id="alg1.l7.m1.1.1.5.cmml" xref="alg1.l7.m1.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">path</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m1.1d">italic_p italic_a italic_t italic_h</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l8">     <span class="ltx_text ltx_font_bold" id="alg1.l8.1">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l8.2">if</span>
</div>
<div class="ltx_listingline" id="alg1.l9">     <math alttext="agent\_utterances\leftarrow" class="ltx_Math" display="inline" id="alg1.l9.m1.1"><semantics id="alg1.l9.m1.1a"><mrow id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml"><mrow id="alg1.l9.m1.1.1.2" xref="alg1.l9.m1.1.1.2.cmml"><mi id="alg1.l9.m1.1.1.2.2" xref="alg1.l9.m1.1.1.2.2.cmml">a</mi><mo id="alg1.l9.m1.1.1.2.1" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.3" xref="alg1.l9.m1.1.1.2.3.cmml">g</mi><mo id="alg1.l9.m1.1.1.2.1a" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.4" xref="alg1.l9.m1.1.1.2.4.cmml">e</mi><mo id="alg1.l9.m1.1.1.2.1b" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.5" xref="alg1.l9.m1.1.1.2.5.cmml">n</mi><mo id="alg1.l9.m1.1.1.2.1c" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.6" xref="alg1.l9.m1.1.1.2.6.cmml">t</mi><mo id="alg1.l9.m1.1.1.2.1d" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.7" mathvariant="normal" xref="alg1.l9.m1.1.1.2.7.cmml">_</mi><mo id="alg1.l9.m1.1.1.2.1e" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.8" xref="alg1.l9.m1.1.1.2.8.cmml">u</mi><mo id="alg1.l9.m1.1.1.2.1f" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.9" xref="alg1.l9.m1.1.1.2.9.cmml">t</mi><mo id="alg1.l9.m1.1.1.2.1g" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.10" xref="alg1.l9.m1.1.1.2.10.cmml">t</mi><mo id="alg1.l9.m1.1.1.2.1h" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.11" xref="alg1.l9.m1.1.1.2.11.cmml">e</mi><mo id="alg1.l9.m1.1.1.2.1i" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.12" xref="alg1.l9.m1.1.1.2.12.cmml">r</mi><mo id="alg1.l9.m1.1.1.2.1j" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.13" xref="alg1.l9.m1.1.1.2.13.cmml">a</mi><mo id="alg1.l9.m1.1.1.2.1k" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.14" xref="alg1.l9.m1.1.1.2.14.cmml">n</mi><mo id="alg1.l9.m1.1.1.2.1l" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.15" xref="alg1.l9.m1.1.1.2.15.cmml">c</mi><mo id="alg1.l9.m1.1.1.2.1m" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.16" xref="alg1.l9.m1.1.1.2.16.cmml">e</mi><mo id="alg1.l9.m1.1.1.2.1n" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.17" xref="alg1.l9.m1.1.1.2.17.cmml">s</mi></mrow><mo id="alg1.l9.m1.1.1.1" stretchy="false" xref="alg1.l9.m1.1.1.1.cmml">←</mo><mi id="alg1.l9.m1.1.1.3" xref="alg1.l9.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.1b"><apply id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1"><ci id="alg1.l9.m1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1">←</ci><apply id="alg1.l9.m1.1.1.2.cmml" xref="alg1.l9.m1.1.1.2"><times id="alg1.l9.m1.1.1.2.1.cmml" xref="alg1.l9.m1.1.1.2.1"></times><ci id="alg1.l9.m1.1.1.2.2.cmml" xref="alg1.l9.m1.1.1.2.2">𝑎</ci><ci id="alg1.l9.m1.1.1.2.3.cmml" xref="alg1.l9.m1.1.1.2.3">𝑔</ci><ci id="alg1.l9.m1.1.1.2.4.cmml" xref="alg1.l9.m1.1.1.2.4">𝑒</ci><ci id="alg1.l9.m1.1.1.2.5.cmml" xref="alg1.l9.m1.1.1.2.5">𝑛</ci><ci id="alg1.l9.m1.1.1.2.6.cmml" xref="alg1.l9.m1.1.1.2.6">𝑡</ci><ci id="alg1.l9.m1.1.1.2.7.cmml" xref="alg1.l9.m1.1.1.2.7">_</ci><ci id="alg1.l9.m1.1.1.2.8.cmml" xref="alg1.l9.m1.1.1.2.8">𝑢</ci><ci id="alg1.l9.m1.1.1.2.9.cmml" xref="alg1.l9.m1.1.1.2.9">𝑡</ci><ci id="alg1.l9.m1.1.1.2.10.cmml" xref="alg1.l9.m1.1.1.2.10">𝑡</ci><ci id="alg1.l9.m1.1.1.2.11.cmml" xref="alg1.l9.m1.1.1.2.11">𝑒</ci><ci id="alg1.l9.m1.1.1.2.12.cmml" xref="alg1.l9.m1.1.1.2.12">𝑟</ci><ci id="alg1.l9.m1.1.1.2.13.cmml" xref="alg1.l9.m1.1.1.2.13">𝑎</ci><ci id="alg1.l9.m1.1.1.2.14.cmml" xref="alg1.l9.m1.1.1.2.14">𝑛</ci><ci id="alg1.l9.m1.1.1.2.15.cmml" xref="alg1.l9.m1.1.1.2.15">𝑐</ci><ci id="alg1.l9.m1.1.1.2.16.cmml" xref="alg1.l9.m1.1.1.2.16">𝑒</ci><ci id="alg1.l9.m1.1.1.2.17.cmml" xref="alg1.l9.m1.1.1.2.17">𝑠</ci></apply><csymbol cd="latexml" id="alg1.l9.m1.1.1.3.cmml" xref="alg1.l9.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.1c">agent\_utterances\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m1.1d">italic_a italic_g italic_e italic_n italic_t _ italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e italic_s ←</annotation></semantics></math> all agent utterances in <math alttext="dialogue" class="ltx_Math" display="inline" id="alg1.l9.m2.1"><semantics id="alg1.l9.m2.1a"><mrow id="alg1.l9.m2.1.1" xref="alg1.l9.m2.1.1.cmml"><mi id="alg1.l9.m2.1.1.2" xref="alg1.l9.m2.1.1.2.cmml">d</mi><mo id="alg1.l9.m2.1.1.1" xref="alg1.l9.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m2.1.1.3" xref="alg1.l9.m2.1.1.3.cmml">i</mi><mo id="alg1.l9.m2.1.1.1a" xref="alg1.l9.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m2.1.1.4" xref="alg1.l9.m2.1.1.4.cmml">a</mi><mo id="alg1.l9.m2.1.1.1b" xref="alg1.l9.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m2.1.1.5" xref="alg1.l9.m2.1.1.5.cmml">l</mi><mo id="alg1.l9.m2.1.1.1c" xref="alg1.l9.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m2.1.1.6" xref="alg1.l9.m2.1.1.6.cmml">o</mi><mo id="alg1.l9.m2.1.1.1d" xref="alg1.l9.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m2.1.1.7" xref="alg1.l9.m2.1.1.7.cmml">g</mi><mo id="alg1.l9.m2.1.1.1e" xref="alg1.l9.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m2.1.1.8" xref="alg1.l9.m2.1.1.8.cmml">u</mi><mo id="alg1.l9.m2.1.1.1f" xref="alg1.l9.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m2.1.1.9" xref="alg1.l9.m2.1.1.9.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m2.1b"><apply id="alg1.l9.m2.1.1.cmml" xref="alg1.l9.m2.1.1"><times id="alg1.l9.m2.1.1.1.cmml" xref="alg1.l9.m2.1.1.1"></times><ci id="alg1.l9.m2.1.1.2.cmml" xref="alg1.l9.m2.1.1.2">𝑑</ci><ci id="alg1.l9.m2.1.1.3.cmml" xref="alg1.l9.m2.1.1.3">𝑖</ci><ci id="alg1.l9.m2.1.1.4.cmml" xref="alg1.l9.m2.1.1.4">𝑎</ci><ci id="alg1.l9.m2.1.1.5.cmml" xref="alg1.l9.m2.1.1.5">𝑙</ci><ci id="alg1.l9.m2.1.1.6.cmml" xref="alg1.l9.m2.1.1.6">𝑜</ci><ci id="alg1.l9.m2.1.1.7.cmml" xref="alg1.l9.m2.1.1.7">𝑔</ci><ci id="alg1.l9.m2.1.1.8.cmml" xref="alg1.l9.m2.1.1.8">𝑢</ci><ci id="alg1.l9.m2.1.1.9.cmml" xref="alg1.l9.m2.1.1.9">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m2.1c">dialogue</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m2.1d">italic_d italic_i italic_a italic_l italic_o italic_g italic_u italic_e</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l10">     <span class="ltx_text ltx_font_bold" id="alg1.l10.1">for</span> each <math alttext="agent\_utterance" class="ltx_Math" display="inline" id="alg1.l10.m1.1"><semantics id="alg1.l10.m1.1a"><mrow id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml"><mi id="alg1.l10.m1.1.1.2" xref="alg1.l10.m1.1.1.2.cmml">a</mi><mo id="alg1.l10.m1.1.1.1" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.3" xref="alg1.l10.m1.1.1.3.cmml">g</mi><mo id="alg1.l10.m1.1.1.1a" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.4" xref="alg1.l10.m1.1.1.4.cmml">e</mi><mo id="alg1.l10.m1.1.1.1b" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.5" xref="alg1.l10.m1.1.1.5.cmml">n</mi><mo id="alg1.l10.m1.1.1.1c" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.6" xref="alg1.l10.m1.1.1.6.cmml">t</mi><mo id="alg1.l10.m1.1.1.1d" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.7" mathvariant="normal" xref="alg1.l10.m1.1.1.7.cmml">_</mi><mo id="alg1.l10.m1.1.1.1e" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.8" xref="alg1.l10.m1.1.1.8.cmml">u</mi><mo id="alg1.l10.m1.1.1.1f" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.9" xref="alg1.l10.m1.1.1.9.cmml">t</mi><mo id="alg1.l10.m1.1.1.1g" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.10" xref="alg1.l10.m1.1.1.10.cmml">t</mi><mo id="alg1.l10.m1.1.1.1h" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.11" xref="alg1.l10.m1.1.1.11.cmml">e</mi><mo id="alg1.l10.m1.1.1.1i" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.12" xref="alg1.l10.m1.1.1.12.cmml">r</mi><mo id="alg1.l10.m1.1.1.1j" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.13" xref="alg1.l10.m1.1.1.13.cmml">a</mi><mo id="alg1.l10.m1.1.1.1k" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.14" xref="alg1.l10.m1.1.1.14.cmml">n</mi><mo id="alg1.l10.m1.1.1.1l" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.15" xref="alg1.l10.m1.1.1.15.cmml">c</mi><mo id="alg1.l10.m1.1.1.1m" xref="alg1.l10.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l10.m1.1.1.16" xref="alg1.l10.m1.1.1.16.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.1b"><apply id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1"><times id="alg1.l10.m1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1"></times><ci id="alg1.l10.m1.1.1.2.cmml" xref="alg1.l10.m1.1.1.2">𝑎</ci><ci id="alg1.l10.m1.1.1.3.cmml" xref="alg1.l10.m1.1.1.3">𝑔</ci><ci id="alg1.l10.m1.1.1.4.cmml" xref="alg1.l10.m1.1.1.4">𝑒</ci><ci id="alg1.l10.m1.1.1.5.cmml" xref="alg1.l10.m1.1.1.5">𝑛</ci><ci id="alg1.l10.m1.1.1.6.cmml" xref="alg1.l10.m1.1.1.6">𝑡</ci><ci id="alg1.l10.m1.1.1.7.cmml" xref="alg1.l10.m1.1.1.7">_</ci><ci id="alg1.l10.m1.1.1.8.cmml" xref="alg1.l10.m1.1.1.8">𝑢</ci><ci id="alg1.l10.m1.1.1.9.cmml" xref="alg1.l10.m1.1.1.9">𝑡</ci><ci id="alg1.l10.m1.1.1.10.cmml" xref="alg1.l10.m1.1.1.10">𝑡</ci><ci id="alg1.l10.m1.1.1.11.cmml" xref="alg1.l10.m1.1.1.11">𝑒</ci><ci id="alg1.l10.m1.1.1.12.cmml" xref="alg1.l10.m1.1.1.12">𝑟</ci><ci id="alg1.l10.m1.1.1.13.cmml" xref="alg1.l10.m1.1.1.13">𝑎</ci><ci id="alg1.l10.m1.1.1.14.cmml" xref="alg1.l10.m1.1.1.14">𝑛</ci><ci id="alg1.l10.m1.1.1.15.cmml" xref="alg1.l10.m1.1.1.15">𝑐</ci><ci id="alg1.l10.m1.1.1.16.cmml" xref="alg1.l10.m1.1.1.16">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.1c">agent\_utterance</annotation><annotation encoding="application/x-llamapun" id="alg1.l10.m1.1d">italic_a italic_g italic_e italic_n italic_t _ italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e</annotation></semantics></math> in <math alttext="agent\_utterances[:-2]" class="ltx_math_unparsed" display="inline" id="alg1.l10.m2.1"><semantics id="alg1.l10.m2.1a"><mrow id="alg1.l10.m2.1b"><mi id="alg1.l10.m2.1.1">a</mi><mi id="alg1.l10.m2.1.2">g</mi><mi id="alg1.l10.m2.1.3">e</mi><mi id="alg1.l10.m2.1.4">n</mi><mi id="alg1.l10.m2.1.5">t</mi><mi id="alg1.l10.m2.1.6" mathvariant="normal">_</mi><mi id="alg1.l10.m2.1.7">u</mi><mi id="alg1.l10.m2.1.8">t</mi><mi id="alg1.l10.m2.1.9">t</mi><mi id="alg1.l10.m2.1.10">e</mi><mi id="alg1.l10.m2.1.11">r</mi><mi id="alg1.l10.m2.1.12">a</mi><mi id="alg1.l10.m2.1.13">n</mi><mi id="alg1.l10.m2.1.14">c</mi><mi id="alg1.l10.m2.1.15">e</mi><mi id="alg1.l10.m2.1.16">s</mi><mrow id="alg1.l10.m2.1.17"><mo id="alg1.l10.m2.1.17.1" stretchy="false">[</mo><mo id="alg1.l10.m2.1.17.2" rspace="0em">:</mo><mo id="alg1.l10.m2.1.17.3" lspace="0em">−</mo><mn id="alg1.l10.m2.1.17.4">2</mn><mo id="alg1.l10.m2.1.17.5" stretchy="false">]</mo></mrow></mrow><annotation encoding="application/x-tex" id="alg1.l10.m2.1c">agent\_utterances[:-2]</annotation><annotation encoding="application/x-llamapun" id="alg1.l10.m2.1d">italic_a italic_g italic_e italic_n italic_t _ italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e italic_s [ : - 2 ]</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l10.2">do</span>
</div>
<div class="ltx_listingline" id="alg1.l11">        <math alttext="b\_same\_intent\leftarrow" class="ltx_Math" display="inline" id="alg1.l11.m1.1"><semantics id="alg1.l11.m1.1a"><mrow id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml"><mrow id="alg1.l11.m1.1.1.2" xref="alg1.l11.m1.1.1.2.cmml"><mi id="alg1.l11.m1.1.1.2.2" xref="alg1.l11.m1.1.1.2.2.cmml">b</mi><mo id="alg1.l11.m1.1.1.2.1" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.3" mathvariant="normal" xref="alg1.l11.m1.1.1.2.3.cmml">_</mi><mo id="alg1.l11.m1.1.1.2.1a" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.4" xref="alg1.l11.m1.1.1.2.4.cmml">s</mi><mo id="alg1.l11.m1.1.1.2.1b" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.5" xref="alg1.l11.m1.1.1.2.5.cmml">a</mi><mo id="alg1.l11.m1.1.1.2.1c" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.6" xref="alg1.l11.m1.1.1.2.6.cmml">m</mi><mo id="alg1.l11.m1.1.1.2.1d" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.7" xref="alg1.l11.m1.1.1.2.7.cmml">e</mi><mo id="alg1.l11.m1.1.1.2.1e" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.8" mathvariant="normal" xref="alg1.l11.m1.1.1.2.8.cmml">_</mi><mo id="alg1.l11.m1.1.1.2.1f" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.9" xref="alg1.l11.m1.1.1.2.9.cmml">i</mi><mo id="alg1.l11.m1.1.1.2.1g" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.10" xref="alg1.l11.m1.1.1.2.10.cmml">n</mi><mo id="alg1.l11.m1.1.1.2.1h" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.11" xref="alg1.l11.m1.1.1.2.11.cmml">t</mi><mo id="alg1.l11.m1.1.1.2.1i" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.12" xref="alg1.l11.m1.1.1.2.12.cmml">e</mi><mo id="alg1.l11.m1.1.1.2.1j" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.13" xref="alg1.l11.m1.1.1.2.13.cmml">n</mi><mo id="alg1.l11.m1.1.1.2.1k" xref="alg1.l11.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l11.m1.1.1.2.14" xref="alg1.l11.m1.1.1.2.14.cmml">t</mi></mrow><mo id="alg1.l11.m1.1.1.1" stretchy="false" xref="alg1.l11.m1.1.1.1.cmml">←</mo><mi id="alg1.l11.m1.1.1.3" xref="alg1.l11.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><apply id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1"><ci id="alg1.l11.m1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1">←</ci><apply id="alg1.l11.m1.1.1.2.cmml" xref="alg1.l11.m1.1.1.2"><times id="alg1.l11.m1.1.1.2.1.cmml" xref="alg1.l11.m1.1.1.2.1"></times><ci id="alg1.l11.m1.1.1.2.2.cmml" xref="alg1.l11.m1.1.1.2.2">𝑏</ci><ci id="alg1.l11.m1.1.1.2.3.cmml" xref="alg1.l11.m1.1.1.2.3">_</ci><ci id="alg1.l11.m1.1.1.2.4.cmml" xref="alg1.l11.m1.1.1.2.4">𝑠</ci><ci id="alg1.l11.m1.1.1.2.5.cmml" xref="alg1.l11.m1.1.1.2.5">𝑎</ci><ci id="alg1.l11.m1.1.1.2.6.cmml" xref="alg1.l11.m1.1.1.2.6">𝑚</ci><ci id="alg1.l11.m1.1.1.2.7.cmml" xref="alg1.l11.m1.1.1.2.7">𝑒</ci><ci id="alg1.l11.m1.1.1.2.8.cmml" xref="alg1.l11.m1.1.1.2.8">_</ci><ci id="alg1.l11.m1.1.1.2.9.cmml" xref="alg1.l11.m1.1.1.2.9">𝑖</ci><ci id="alg1.l11.m1.1.1.2.10.cmml" xref="alg1.l11.m1.1.1.2.10">𝑛</ci><ci id="alg1.l11.m1.1.1.2.11.cmml" xref="alg1.l11.m1.1.1.2.11">𝑡</ci><ci id="alg1.l11.m1.1.1.2.12.cmml" xref="alg1.l11.m1.1.1.2.12">𝑒</ci><ci id="alg1.l11.m1.1.1.2.13.cmml" xref="alg1.l11.m1.1.1.2.13">𝑛</ci><ci id="alg1.l11.m1.1.1.2.14.cmml" xref="alg1.l11.m1.1.1.2.14">𝑡</ci></apply><csymbol cd="latexml" id="alg1.l11.m1.1.1.3.cmml" xref="alg1.l11.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">b\_same\_intent\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l11.m1.1d">italic_b _ italic_s italic_a italic_m italic_e _ italic_i italic_n italic_t italic_e italic_n italic_t ←</annotation></semantics></math> True if <math alttext="agent\_utterance.intent" class="ltx_Math" display="inline" id="alg1.l11.m2.2"><semantics id="alg1.l11.m2.2a"><mrow id="alg1.l11.m2.2.2.2" xref="alg1.l11.m2.2.2.3.cmml"><mrow id="alg1.l11.m2.1.1.1.1" xref="alg1.l11.m2.1.1.1.1.cmml"><mi id="alg1.l11.m2.1.1.1.1.2" xref="alg1.l11.m2.1.1.1.1.2.cmml">a</mi><mo id="alg1.l11.m2.1.1.1.1.1" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.3" xref="alg1.l11.m2.1.1.1.1.3.cmml">g</mi><mo id="alg1.l11.m2.1.1.1.1.1a" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.4" xref="alg1.l11.m2.1.1.1.1.4.cmml">e</mi><mo id="alg1.l11.m2.1.1.1.1.1b" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.5" xref="alg1.l11.m2.1.1.1.1.5.cmml">n</mi><mo id="alg1.l11.m2.1.1.1.1.1c" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.6" xref="alg1.l11.m2.1.1.1.1.6.cmml">t</mi><mo id="alg1.l11.m2.1.1.1.1.1d" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.7" mathvariant="normal" xref="alg1.l11.m2.1.1.1.1.7.cmml">_</mi><mo id="alg1.l11.m2.1.1.1.1.1e" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.8" xref="alg1.l11.m2.1.1.1.1.8.cmml">u</mi><mo id="alg1.l11.m2.1.1.1.1.1f" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.9" xref="alg1.l11.m2.1.1.1.1.9.cmml">t</mi><mo id="alg1.l11.m2.1.1.1.1.1g" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.10" xref="alg1.l11.m2.1.1.1.1.10.cmml">t</mi><mo id="alg1.l11.m2.1.1.1.1.1h" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.11" xref="alg1.l11.m2.1.1.1.1.11.cmml">e</mi><mo id="alg1.l11.m2.1.1.1.1.1i" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.12" xref="alg1.l11.m2.1.1.1.1.12.cmml">r</mi><mo id="alg1.l11.m2.1.1.1.1.1j" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.13" xref="alg1.l11.m2.1.1.1.1.13.cmml">a</mi><mo id="alg1.l11.m2.1.1.1.1.1k" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.14" xref="alg1.l11.m2.1.1.1.1.14.cmml">n</mi><mo id="alg1.l11.m2.1.1.1.1.1l" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.15" xref="alg1.l11.m2.1.1.1.1.15.cmml">c</mi><mo id="alg1.l11.m2.1.1.1.1.1m" xref="alg1.l11.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l11.m2.1.1.1.1.16" xref="alg1.l11.m2.1.1.1.1.16.cmml">e</mi></mrow><mo id="alg1.l11.m2.2.2.2.3" lspace="0em" rspace="0.167em" xref="alg1.l11.m2.2.2.3a.cmml">.</mo><mrow id="alg1.l11.m2.2.2.2.2" xref="alg1.l11.m2.2.2.2.2.cmml"><mi id="alg1.l11.m2.2.2.2.2.2" xref="alg1.l11.m2.2.2.2.2.2.cmml">i</mi><mo id="alg1.l11.m2.2.2.2.2.1" xref="alg1.l11.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l11.m2.2.2.2.2.3" xref="alg1.l11.m2.2.2.2.2.3.cmml">n</mi><mo id="alg1.l11.m2.2.2.2.2.1a" xref="alg1.l11.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l11.m2.2.2.2.2.4" xref="alg1.l11.m2.2.2.2.2.4.cmml">t</mi><mo id="alg1.l11.m2.2.2.2.2.1b" xref="alg1.l11.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l11.m2.2.2.2.2.5" xref="alg1.l11.m2.2.2.2.2.5.cmml">e</mi><mo id="alg1.l11.m2.2.2.2.2.1c" xref="alg1.l11.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l11.m2.2.2.2.2.6" xref="alg1.l11.m2.2.2.2.2.6.cmml">n</mi><mo id="alg1.l11.m2.2.2.2.2.1d" xref="alg1.l11.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l11.m2.2.2.2.2.7" xref="alg1.l11.m2.2.2.2.2.7.cmml">t</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m2.2b"><apply id="alg1.l11.m2.2.2.3.cmml" xref="alg1.l11.m2.2.2.2"><csymbol cd="ambiguous" id="alg1.l11.m2.2.2.3a.cmml" xref="alg1.l11.m2.2.2.2.3">formulae-sequence</csymbol><apply id="alg1.l11.m2.1.1.1.1.cmml" xref="alg1.l11.m2.1.1.1.1"><times id="alg1.l11.m2.1.1.1.1.1.cmml" xref="alg1.l11.m2.1.1.1.1.1"></times><ci id="alg1.l11.m2.1.1.1.1.2.cmml" xref="alg1.l11.m2.1.1.1.1.2">𝑎</ci><ci id="alg1.l11.m2.1.1.1.1.3.cmml" xref="alg1.l11.m2.1.1.1.1.3">𝑔</ci><ci id="alg1.l11.m2.1.1.1.1.4.cmml" xref="alg1.l11.m2.1.1.1.1.4">𝑒</ci><ci id="alg1.l11.m2.1.1.1.1.5.cmml" xref="alg1.l11.m2.1.1.1.1.5">𝑛</ci><ci id="alg1.l11.m2.1.1.1.1.6.cmml" xref="alg1.l11.m2.1.1.1.1.6">𝑡</ci><ci id="alg1.l11.m2.1.1.1.1.7.cmml" xref="alg1.l11.m2.1.1.1.1.7">_</ci><ci id="alg1.l11.m2.1.1.1.1.8.cmml" xref="alg1.l11.m2.1.1.1.1.8">𝑢</ci><ci id="alg1.l11.m2.1.1.1.1.9.cmml" xref="alg1.l11.m2.1.1.1.1.9">𝑡</ci><ci id="alg1.l11.m2.1.1.1.1.10.cmml" xref="alg1.l11.m2.1.1.1.1.10">𝑡</ci><ci id="alg1.l11.m2.1.1.1.1.11.cmml" xref="alg1.l11.m2.1.1.1.1.11">𝑒</ci><ci id="alg1.l11.m2.1.1.1.1.12.cmml" xref="alg1.l11.m2.1.1.1.1.12">𝑟</ci><ci id="alg1.l11.m2.1.1.1.1.13.cmml" xref="alg1.l11.m2.1.1.1.1.13">𝑎</ci><ci id="alg1.l11.m2.1.1.1.1.14.cmml" xref="alg1.l11.m2.1.1.1.1.14">𝑛</ci><ci id="alg1.l11.m2.1.1.1.1.15.cmml" xref="alg1.l11.m2.1.1.1.1.15">𝑐</ci><ci id="alg1.l11.m2.1.1.1.1.16.cmml" xref="alg1.l11.m2.1.1.1.1.16">𝑒</ci></apply><apply id="alg1.l11.m2.2.2.2.2.cmml" xref="alg1.l11.m2.2.2.2.2"><times id="alg1.l11.m2.2.2.2.2.1.cmml" xref="alg1.l11.m2.2.2.2.2.1"></times><ci id="alg1.l11.m2.2.2.2.2.2.cmml" xref="alg1.l11.m2.2.2.2.2.2">𝑖</ci><ci id="alg1.l11.m2.2.2.2.2.3.cmml" xref="alg1.l11.m2.2.2.2.2.3">𝑛</ci><ci id="alg1.l11.m2.2.2.2.2.4.cmml" xref="alg1.l11.m2.2.2.2.2.4">𝑡</ci><ci id="alg1.l11.m2.2.2.2.2.5.cmml" xref="alg1.l11.m2.2.2.2.2.5">𝑒</ci><ci id="alg1.l11.m2.2.2.2.2.6.cmml" xref="alg1.l11.m2.2.2.2.2.6">𝑛</ci><ci id="alg1.l11.m2.2.2.2.2.7.cmml" xref="alg1.l11.m2.2.2.2.2.7">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m2.2c">agent\_utterance.intent</annotation><annotation encoding="application/x-llamapun" id="alg1.l11.m2.2d">italic_a italic_g italic_e italic_n italic_t _ italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e . italic_i italic_n italic_t italic_e italic_n italic_t</annotation></semantics></math> is the same intent as the one of next two agent utterances

</div>
<div class="ltx_listingline" id="alg1.l12">        <math alttext="b\_similar\_text\leftarrow" class="ltx_Math" display="inline" id="alg1.l12.m1.1"><semantics id="alg1.l12.m1.1a"><mrow id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml"><mrow id="alg1.l12.m1.1.1.2" xref="alg1.l12.m1.1.1.2.cmml"><mi id="alg1.l12.m1.1.1.2.2" xref="alg1.l12.m1.1.1.2.2.cmml">b</mi><mo id="alg1.l12.m1.1.1.2.1" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.3" mathvariant="normal" xref="alg1.l12.m1.1.1.2.3.cmml">_</mi><mo id="alg1.l12.m1.1.1.2.1a" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.4" xref="alg1.l12.m1.1.1.2.4.cmml">s</mi><mo id="alg1.l12.m1.1.1.2.1b" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.5" xref="alg1.l12.m1.1.1.2.5.cmml">i</mi><mo id="alg1.l12.m1.1.1.2.1c" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.6" xref="alg1.l12.m1.1.1.2.6.cmml">m</mi><mo id="alg1.l12.m1.1.1.2.1d" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.7" xref="alg1.l12.m1.1.1.2.7.cmml">i</mi><mo id="alg1.l12.m1.1.1.2.1e" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.8" xref="alg1.l12.m1.1.1.2.8.cmml">l</mi><mo id="alg1.l12.m1.1.1.2.1f" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.9" xref="alg1.l12.m1.1.1.2.9.cmml">a</mi><mo id="alg1.l12.m1.1.1.2.1g" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.10" xref="alg1.l12.m1.1.1.2.10.cmml">r</mi><mo id="alg1.l12.m1.1.1.2.1h" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.11" mathvariant="normal" xref="alg1.l12.m1.1.1.2.11.cmml">_</mi><mo id="alg1.l12.m1.1.1.2.1i" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.12" xref="alg1.l12.m1.1.1.2.12.cmml">t</mi><mo id="alg1.l12.m1.1.1.2.1j" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.13" xref="alg1.l12.m1.1.1.2.13.cmml">e</mi><mo id="alg1.l12.m1.1.1.2.1k" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.14" xref="alg1.l12.m1.1.1.2.14.cmml">x</mi><mo id="alg1.l12.m1.1.1.2.1l" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.15" xref="alg1.l12.m1.1.1.2.15.cmml">t</mi></mrow><mo id="alg1.l12.m1.1.1.1" stretchy="false" xref="alg1.l12.m1.1.1.1.cmml">←</mo><mi id="alg1.l12.m1.1.1.3" xref="alg1.l12.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.1b"><apply id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1"><ci id="alg1.l12.m1.1.1.1.cmml" xref="alg1.l12.m1.1.1.1">←</ci><apply id="alg1.l12.m1.1.1.2.cmml" xref="alg1.l12.m1.1.1.2"><times id="alg1.l12.m1.1.1.2.1.cmml" xref="alg1.l12.m1.1.1.2.1"></times><ci id="alg1.l12.m1.1.1.2.2.cmml" xref="alg1.l12.m1.1.1.2.2">𝑏</ci><ci id="alg1.l12.m1.1.1.2.3.cmml" xref="alg1.l12.m1.1.1.2.3">_</ci><ci id="alg1.l12.m1.1.1.2.4.cmml" xref="alg1.l12.m1.1.1.2.4">𝑠</ci><ci id="alg1.l12.m1.1.1.2.5.cmml" xref="alg1.l12.m1.1.1.2.5">𝑖</ci><ci id="alg1.l12.m1.1.1.2.6.cmml" xref="alg1.l12.m1.1.1.2.6">𝑚</ci><ci id="alg1.l12.m1.1.1.2.7.cmml" xref="alg1.l12.m1.1.1.2.7">𝑖</ci><ci id="alg1.l12.m1.1.1.2.8.cmml" xref="alg1.l12.m1.1.1.2.8">𝑙</ci><ci id="alg1.l12.m1.1.1.2.9.cmml" xref="alg1.l12.m1.1.1.2.9">𝑎</ci><ci id="alg1.l12.m1.1.1.2.10.cmml" xref="alg1.l12.m1.1.1.2.10">𝑟</ci><ci id="alg1.l12.m1.1.1.2.11.cmml" xref="alg1.l12.m1.1.1.2.11">_</ci><ci id="alg1.l12.m1.1.1.2.12.cmml" xref="alg1.l12.m1.1.1.2.12">𝑡</ci><ci id="alg1.l12.m1.1.1.2.13.cmml" xref="alg1.l12.m1.1.1.2.13">𝑒</ci><ci id="alg1.l12.m1.1.1.2.14.cmml" xref="alg1.l12.m1.1.1.2.14">𝑥</ci><ci id="alg1.l12.m1.1.1.2.15.cmml" xref="alg1.l12.m1.1.1.2.15">𝑡</ci></apply><csymbol cd="latexml" id="alg1.l12.m1.1.1.3.cmml" xref="alg1.l12.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.1c">b\_similar\_text\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m1.1d">italic_b _ italic_s italic_i italic_m italic_i italic_l italic_a italic_r _ italic_t italic_e italic_x italic_t ←</annotation></semantics></math> True if <math alttext="agent\_utterance" class="ltx_Math" display="inline" id="alg1.l12.m2.1"><semantics id="alg1.l12.m2.1a"><mrow id="alg1.l12.m2.1.1" xref="alg1.l12.m2.1.1.cmml"><mi id="alg1.l12.m2.1.1.2" xref="alg1.l12.m2.1.1.2.cmml">a</mi><mo id="alg1.l12.m2.1.1.1" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.3" xref="alg1.l12.m2.1.1.3.cmml">g</mi><mo id="alg1.l12.m2.1.1.1a" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.4" xref="alg1.l12.m2.1.1.4.cmml">e</mi><mo id="alg1.l12.m2.1.1.1b" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.5" xref="alg1.l12.m2.1.1.5.cmml">n</mi><mo id="alg1.l12.m2.1.1.1c" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.6" xref="alg1.l12.m2.1.1.6.cmml">t</mi><mo id="alg1.l12.m2.1.1.1d" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.7" mathvariant="normal" xref="alg1.l12.m2.1.1.7.cmml">_</mi><mo id="alg1.l12.m2.1.1.1e" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.8" xref="alg1.l12.m2.1.1.8.cmml">u</mi><mo id="alg1.l12.m2.1.1.1f" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.9" xref="alg1.l12.m2.1.1.9.cmml">t</mi><mo id="alg1.l12.m2.1.1.1g" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.10" xref="alg1.l12.m2.1.1.10.cmml">t</mi><mo id="alg1.l12.m2.1.1.1h" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.11" xref="alg1.l12.m2.1.1.11.cmml">e</mi><mo id="alg1.l12.m2.1.1.1i" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.12" xref="alg1.l12.m2.1.1.12.cmml">r</mi><mo id="alg1.l12.m2.1.1.1j" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.13" xref="alg1.l12.m2.1.1.13.cmml">a</mi><mo id="alg1.l12.m2.1.1.1k" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.14" xref="alg1.l12.m2.1.1.14.cmml">n</mi><mo id="alg1.l12.m2.1.1.1l" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.15" xref="alg1.l12.m2.1.1.15.cmml">c</mi><mo id="alg1.l12.m2.1.1.1m" xref="alg1.l12.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m2.1.1.16" xref="alg1.l12.m2.1.1.16.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m2.1b"><apply id="alg1.l12.m2.1.1.cmml" xref="alg1.l12.m2.1.1"><times id="alg1.l12.m2.1.1.1.cmml" xref="alg1.l12.m2.1.1.1"></times><ci id="alg1.l12.m2.1.1.2.cmml" xref="alg1.l12.m2.1.1.2">𝑎</ci><ci id="alg1.l12.m2.1.1.3.cmml" xref="alg1.l12.m2.1.1.3">𝑔</ci><ci id="alg1.l12.m2.1.1.4.cmml" xref="alg1.l12.m2.1.1.4">𝑒</ci><ci id="alg1.l12.m2.1.1.5.cmml" xref="alg1.l12.m2.1.1.5">𝑛</ci><ci id="alg1.l12.m2.1.1.6.cmml" xref="alg1.l12.m2.1.1.6">𝑡</ci><ci id="alg1.l12.m2.1.1.7.cmml" xref="alg1.l12.m2.1.1.7">_</ci><ci id="alg1.l12.m2.1.1.8.cmml" xref="alg1.l12.m2.1.1.8">𝑢</ci><ci id="alg1.l12.m2.1.1.9.cmml" xref="alg1.l12.m2.1.1.9">𝑡</ci><ci id="alg1.l12.m2.1.1.10.cmml" xref="alg1.l12.m2.1.1.10">𝑡</ci><ci id="alg1.l12.m2.1.1.11.cmml" xref="alg1.l12.m2.1.1.11">𝑒</ci><ci id="alg1.l12.m2.1.1.12.cmml" xref="alg1.l12.m2.1.1.12">𝑟</ci><ci id="alg1.l12.m2.1.1.13.cmml" xref="alg1.l12.m2.1.1.13">𝑎</ci><ci id="alg1.l12.m2.1.1.14.cmml" xref="alg1.l12.m2.1.1.14">𝑛</ci><ci id="alg1.l12.m2.1.1.15.cmml" xref="alg1.l12.m2.1.1.15">𝑐</ci><ci id="alg1.l12.m2.1.1.16.cmml" xref="alg1.l12.m2.1.1.16">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m2.1c">agent\_utterance</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m2.1d">italic_a italic_g italic_e italic_n italic_t _ italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e</annotation></semantics></math> is highly similar to the next two agent utterances

</div>
<div class="ltx_listingline" id="alg1.l13">        <span class="ltx_text ltx_font_bold" id="alg1.l13.1">if</span> <math alttext="b\_same\_intent" class="ltx_Math" display="inline" id="alg1.l13.m1.1"><semantics id="alg1.l13.m1.1a"><mrow id="alg1.l13.m1.1.1" xref="alg1.l13.m1.1.1.cmml"><mi id="alg1.l13.m1.1.1.2" xref="alg1.l13.m1.1.1.2.cmml">b</mi><mo id="alg1.l13.m1.1.1.1" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.3" mathvariant="normal" xref="alg1.l13.m1.1.1.3.cmml">_</mi><mo id="alg1.l13.m1.1.1.1a" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.4" xref="alg1.l13.m1.1.1.4.cmml">s</mi><mo id="alg1.l13.m1.1.1.1b" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.5" xref="alg1.l13.m1.1.1.5.cmml">a</mi><mo id="alg1.l13.m1.1.1.1c" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.6" xref="alg1.l13.m1.1.1.6.cmml">m</mi><mo id="alg1.l13.m1.1.1.1d" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.7" xref="alg1.l13.m1.1.1.7.cmml">e</mi><mo id="alg1.l13.m1.1.1.1e" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.8" mathvariant="normal" xref="alg1.l13.m1.1.1.8.cmml">_</mi><mo id="alg1.l13.m1.1.1.1f" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.9" xref="alg1.l13.m1.1.1.9.cmml">i</mi><mo id="alg1.l13.m1.1.1.1g" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.10" xref="alg1.l13.m1.1.1.10.cmml">n</mi><mo id="alg1.l13.m1.1.1.1h" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.11" xref="alg1.l13.m1.1.1.11.cmml">t</mi><mo id="alg1.l13.m1.1.1.1i" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.12" xref="alg1.l13.m1.1.1.12.cmml">e</mi><mo id="alg1.l13.m1.1.1.1j" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.13" xref="alg1.l13.m1.1.1.13.cmml">n</mi><mo id="alg1.l13.m1.1.1.1k" xref="alg1.l13.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.14" xref="alg1.l13.m1.1.1.14.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l13.m1.1b"><apply id="alg1.l13.m1.1.1.cmml" xref="alg1.l13.m1.1.1"><times id="alg1.l13.m1.1.1.1.cmml" xref="alg1.l13.m1.1.1.1"></times><ci id="alg1.l13.m1.1.1.2.cmml" xref="alg1.l13.m1.1.1.2">𝑏</ci><ci id="alg1.l13.m1.1.1.3.cmml" xref="alg1.l13.m1.1.1.3">_</ci><ci id="alg1.l13.m1.1.1.4.cmml" xref="alg1.l13.m1.1.1.4">𝑠</ci><ci id="alg1.l13.m1.1.1.5.cmml" xref="alg1.l13.m1.1.1.5">𝑎</ci><ci id="alg1.l13.m1.1.1.6.cmml" xref="alg1.l13.m1.1.1.6">𝑚</ci><ci id="alg1.l13.m1.1.1.7.cmml" xref="alg1.l13.m1.1.1.7">𝑒</ci><ci id="alg1.l13.m1.1.1.8.cmml" xref="alg1.l13.m1.1.1.8">_</ci><ci id="alg1.l13.m1.1.1.9.cmml" xref="alg1.l13.m1.1.1.9">𝑖</ci><ci id="alg1.l13.m1.1.1.10.cmml" xref="alg1.l13.m1.1.1.10">𝑛</ci><ci id="alg1.l13.m1.1.1.11.cmml" xref="alg1.l13.m1.1.1.11">𝑡</ci><ci id="alg1.l13.m1.1.1.12.cmml" xref="alg1.l13.m1.1.1.12">𝑒</ci><ci id="alg1.l13.m1.1.1.13.cmml" xref="alg1.l13.m1.1.1.13">𝑛</ci><ci id="alg1.l13.m1.1.1.14.cmml" xref="alg1.l13.m1.1.1.14">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m1.1c">b\_same\_intent</annotation><annotation encoding="application/x-llamapun" id="alg1.l13.m1.1d">italic_b _ italic_s italic_a italic_m italic_e _ italic_i italic_n italic_t italic_e italic_n italic_t</annotation></semantics></math> and <math alttext="b\_similar\_text" class="ltx_Math" display="inline" id="alg1.l13.m2.1"><semantics id="alg1.l13.m2.1a"><mrow id="alg1.l13.m2.1.1" xref="alg1.l13.m2.1.1.cmml"><mi id="alg1.l13.m2.1.1.2" xref="alg1.l13.m2.1.1.2.cmml">b</mi><mo id="alg1.l13.m2.1.1.1" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.3" mathvariant="normal" xref="alg1.l13.m2.1.1.3.cmml">_</mi><mo id="alg1.l13.m2.1.1.1a" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.4" xref="alg1.l13.m2.1.1.4.cmml">s</mi><mo id="alg1.l13.m2.1.1.1b" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.5" xref="alg1.l13.m2.1.1.5.cmml">i</mi><mo id="alg1.l13.m2.1.1.1c" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.6" xref="alg1.l13.m2.1.1.6.cmml">m</mi><mo id="alg1.l13.m2.1.1.1d" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.7" xref="alg1.l13.m2.1.1.7.cmml">i</mi><mo id="alg1.l13.m2.1.1.1e" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.8" xref="alg1.l13.m2.1.1.8.cmml">l</mi><mo id="alg1.l13.m2.1.1.1f" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.9" xref="alg1.l13.m2.1.1.9.cmml">a</mi><mo id="alg1.l13.m2.1.1.1g" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.10" xref="alg1.l13.m2.1.1.10.cmml">r</mi><mo id="alg1.l13.m2.1.1.1h" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.11" mathvariant="normal" xref="alg1.l13.m2.1.1.11.cmml">_</mi><mo id="alg1.l13.m2.1.1.1i" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.12" xref="alg1.l13.m2.1.1.12.cmml">t</mi><mo id="alg1.l13.m2.1.1.1j" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.13" xref="alg1.l13.m2.1.1.13.cmml">e</mi><mo id="alg1.l13.m2.1.1.1k" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.14" xref="alg1.l13.m2.1.1.14.cmml">x</mi><mo id="alg1.l13.m2.1.1.1l" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.15" xref="alg1.l13.m2.1.1.15.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l13.m2.1b"><apply id="alg1.l13.m2.1.1.cmml" xref="alg1.l13.m2.1.1"><times id="alg1.l13.m2.1.1.1.cmml" xref="alg1.l13.m2.1.1.1"></times><ci id="alg1.l13.m2.1.1.2.cmml" xref="alg1.l13.m2.1.1.2">𝑏</ci><ci id="alg1.l13.m2.1.1.3.cmml" xref="alg1.l13.m2.1.1.3">_</ci><ci id="alg1.l13.m2.1.1.4.cmml" xref="alg1.l13.m2.1.1.4">𝑠</ci><ci id="alg1.l13.m2.1.1.5.cmml" xref="alg1.l13.m2.1.1.5">𝑖</ci><ci id="alg1.l13.m2.1.1.6.cmml" xref="alg1.l13.m2.1.1.6">𝑚</ci><ci id="alg1.l13.m2.1.1.7.cmml" xref="alg1.l13.m2.1.1.7">𝑖</ci><ci id="alg1.l13.m2.1.1.8.cmml" xref="alg1.l13.m2.1.1.8">𝑙</ci><ci id="alg1.l13.m2.1.1.9.cmml" xref="alg1.l13.m2.1.1.9">𝑎</ci><ci id="alg1.l13.m2.1.1.10.cmml" xref="alg1.l13.m2.1.1.10">𝑟</ci><ci id="alg1.l13.m2.1.1.11.cmml" xref="alg1.l13.m2.1.1.11">_</ci><ci id="alg1.l13.m2.1.1.12.cmml" xref="alg1.l13.m2.1.1.12">𝑡</ci><ci id="alg1.l13.m2.1.1.13.cmml" xref="alg1.l13.m2.1.1.13">𝑒</ci><ci id="alg1.l13.m2.1.1.14.cmml" xref="alg1.l13.m2.1.1.14">𝑥</ci><ci id="alg1.l13.m2.1.1.15.cmml" xref="alg1.l13.m2.1.1.15">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m2.1c">b\_similar\_text</annotation><annotation encoding="application/x-llamapun" id="alg1.l13.m2.1d">italic_b _ italic_s italic_i italic_m italic_i italic_l italic_a italic_r _ italic_t italic_e italic_x italic_t</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l13.2">then</span>
</div>
<div class="ltx_listingline" id="alg1.l14">           <span class="ltx_text ltx_font_bold" id="alg1.l14.1">for</span> each <math alttext="utterance" class="ltx_Math" display="inline" id="alg1.l14.m1.1"><semantics id="alg1.l14.m1.1a"><mrow id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml"><mi id="alg1.l14.m1.1.1.2" xref="alg1.l14.m1.1.1.2.cmml">u</mi><mo id="alg1.l14.m1.1.1.1" xref="alg1.l14.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.3" xref="alg1.l14.m1.1.1.3.cmml">t</mi><mo id="alg1.l14.m1.1.1.1a" xref="alg1.l14.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.4" xref="alg1.l14.m1.1.1.4.cmml">t</mi><mo id="alg1.l14.m1.1.1.1b" xref="alg1.l14.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.5" xref="alg1.l14.m1.1.1.5.cmml">e</mi><mo id="alg1.l14.m1.1.1.1c" xref="alg1.l14.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.6" xref="alg1.l14.m1.1.1.6.cmml">r</mi><mo id="alg1.l14.m1.1.1.1d" xref="alg1.l14.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.7" xref="alg1.l14.m1.1.1.7.cmml">a</mi><mo id="alg1.l14.m1.1.1.1e" xref="alg1.l14.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.8" xref="alg1.l14.m1.1.1.8.cmml">n</mi><mo id="alg1.l14.m1.1.1.1f" xref="alg1.l14.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.9" xref="alg1.l14.m1.1.1.9.cmml">c</mi><mo id="alg1.l14.m1.1.1.1g" xref="alg1.l14.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.10" xref="alg1.l14.m1.1.1.10.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b"><apply id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1"><times id="alg1.l14.m1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1"></times><ci id="alg1.l14.m1.1.1.2.cmml" xref="alg1.l14.m1.1.1.2">𝑢</ci><ci id="alg1.l14.m1.1.1.3.cmml" xref="alg1.l14.m1.1.1.3">𝑡</ci><ci id="alg1.l14.m1.1.1.4.cmml" xref="alg1.l14.m1.1.1.4">𝑡</ci><ci id="alg1.l14.m1.1.1.5.cmml" xref="alg1.l14.m1.1.1.5">𝑒</ci><ci id="alg1.l14.m1.1.1.6.cmml" xref="alg1.l14.m1.1.1.6">𝑟</ci><ci id="alg1.l14.m1.1.1.7.cmml" xref="alg1.l14.m1.1.1.7">𝑎</ci><ci id="alg1.l14.m1.1.1.8.cmml" xref="alg1.l14.m1.1.1.8">𝑛</ci><ci id="alg1.l14.m1.1.1.9.cmml" xref="alg1.l14.m1.1.1.9">𝑐</ci><ci id="alg1.l14.m1.1.1.10.cmml" xref="alg1.l14.m1.1.1.10">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">utterance</annotation><annotation encoding="application/x-llamapun" id="alg1.l14.m1.1d">italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e</annotation></semantics></math> in <math alttext="dialogue" class="ltx_Math" display="inline" id="alg1.l14.m2.1"><semantics id="alg1.l14.m2.1a"><mrow id="alg1.l14.m2.1.1" xref="alg1.l14.m2.1.1.cmml"><mi id="alg1.l14.m2.1.1.2" xref="alg1.l14.m2.1.1.2.cmml">d</mi><mo id="alg1.l14.m2.1.1.1" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.3" xref="alg1.l14.m2.1.1.3.cmml">i</mi><mo id="alg1.l14.m2.1.1.1a" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.4" xref="alg1.l14.m2.1.1.4.cmml">a</mi><mo id="alg1.l14.m2.1.1.1b" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.5" xref="alg1.l14.m2.1.1.5.cmml">l</mi><mo id="alg1.l14.m2.1.1.1c" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.6" xref="alg1.l14.m2.1.1.6.cmml">o</mi><mo id="alg1.l14.m2.1.1.1d" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.7" xref="alg1.l14.m2.1.1.7.cmml">g</mi><mo id="alg1.l14.m2.1.1.1e" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.8" xref="alg1.l14.m2.1.1.8.cmml">u</mi><mo id="alg1.l14.m2.1.1.1f" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.9" xref="alg1.l14.m2.1.1.9.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m2.1b"><apply id="alg1.l14.m2.1.1.cmml" xref="alg1.l14.m2.1.1"><times id="alg1.l14.m2.1.1.1.cmml" xref="alg1.l14.m2.1.1.1"></times><ci id="alg1.l14.m2.1.1.2.cmml" xref="alg1.l14.m2.1.1.2">𝑑</ci><ci id="alg1.l14.m2.1.1.3.cmml" xref="alg1.l14.m2.1.1.3">𝑖</ci><ci id="alg1.l14.m2.1.1.4.cmml" xref="alg1.l14.m2.1.1.4">𝑎</ci><ci id="alg1.l14.m2.1.1.5.cmml" xref="alg1.l14.m2.1.1.5">𝑙</ci><ci id="alg1.l14.m2.1.1.6.cmml" xref="alg1.l14.m2.1.1.6">𝑜</ci><ci id="alg1.l14.m2.1.1.7.cmml" xref="alg1.l14.m2.1.1.7">𝑔</ci><ci id="alg1.l14.m2.1.1.8.cmml" xref="alg1.l14.m2.1.1.8">𝑢</ci><ci id="alg1.l14.m2.1.1.9.cmml" xref="alg1.l14.m2.1.1.9">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m2.1c">dialogue</annotation><annotation encoding="application/x-llamapun" id="alg1.l14.m2.1d">italic_d italic_i italic_a italic_l italic_o italic_g italic_u italic_e</annotation></semantics></math> until <math alttext="agent\_utterance" class="ltx_Math" display="inline" id="alg1.l14.m3.1"><semantics id="alg1.l14.m3.1a"><mrow id="alg1.l14.m3.1.1" xref="alg1.l14.m3.1.1.cmml"><mi id="alg1.l14.m3.1.1.2" xref="alg1.l14.m3.1.1.2.cmml">a</mi><mo id="alg1.l14.m3.1.1.1" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.3" xref="alg1.l14.m3.1.1.3.cmml">g</mi><mo id="alg1.l14.m3.1.1.1a" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.4" xref="alg1.l14.m3.1.1.4.cmml">e</mi><mo id="alg1.l14.m3.1.1.1b" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.5" xref="alg1.l14.m3.1.1.5.cmml">n</mi><mo id="alg1.l14.m3.1.1.1c" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.6" xref="alg1.l14.m3.1.1.6.cmml">t</mi><mo id="alg1.l14.m3.1.1.1d" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.7" mathvariant="normal" xref="alg1.l14.m3.1.1.7.cmml">_</mi><mo id="alg1.l14.m3.1.1.1e" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.8" xref="alg1.l14.m3.1.1.8.cmml">u</mi><mo id="alg1.l14.m3.1.1.1f" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.9" xref="alg1.l14.m3.1.1.9.cmml">t</mi><mo id="alg1.l14.m3.1.1.1g" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.10" xref="alg1.l14.m3.1.1.10.cmml">t</mi><mo id="alg1.l14.m3.1.1.1h" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.11" xref="alg1.l14.m3.1.1.11.cmml">e</mi><mo id="alg1.l14.m3.1.1.1i" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.12" xref="alg1.l14.m3.1.1.12.cmml">r</mi><mo id="alg1.l14.m3.1.1.1j" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.13" xref="alg1.l14.m3.1.1.13.cmml">a</mi><mo id="alg1.l14.m3.1.1.1k" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.14" xref="alg1.l14.m3.1.1.14.cmml">n</mi><mo id="alg1.l14.m3.1.1.1l" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.15" xref="alg1.l14.m3.1.1.15.cmml">c</mi><mo id="alg1.l14.m3.1.1.1m" xref="alg1.l14.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m3.1.1.16" xref="alg1.l14.m3.1.1.16.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m3.1b"><apply id="alg1.l14.m3.1.1.cmml" xref="alg1.l14.m3.1.1"><times id="alg1.l14.m3.1.1.1.cmml" xref="alg1.l14.m3.1.1.1"></times><ci id="alg1.l14.m3.1.1.2.cmml" xref="alg1.l14.m3.1.1.2">𝑎</ci><ci id="alg1.l14.m3.1.1.3.cmml" xref="alg1.l14.m3.1.1.3">𝑔</ci><ci id="alg1.l14.m3.1.1.4.cmml" xref="alg1.l14.m3.1.1.4">𝑒</ci><ci id="alg1.l14.m3.1.1.5.cmml" xref="alg1.l14.m3.1.1.5">𝑛</ci><ci id="alg1.l14.m3.1.1.6.cmml" xref="alg1.l14.m3.1.1.6">𝑡</ci><ci id="alg1.l14.m3.1.1.7.cmml" xref="alg1.l14.m3.1.1.7">_</ci><ci id="alg1.l14.m3.1.1.8.cmml" xref="alg1.l14.m3.1.1.8">𝑢</ci><ci id="alg1.l14.m3.1.1.9.cmml" xref="alg1.l14.m3.1.1.9">𝑡</ci><ci id="alg1.l14.m3.1.1.10.cmml" xref="alg1.l14.m3.1.1.10">𝑡</ci><ci id="alg1.l14.m3.1.1.11.cmml" xref="alg1.l14.m3.1.1.11">𝑒</ci><ci id="alg1.l14.m3.1.1.12.cmml" xref="alg1.l14.m3.1.1.12">𝑟</ci><ci id="alg1.l14.m3.1.1.13.cmml" xref="alg1.l14.m3.1.1.13">𝑎</ci><ci id="alg1.l14.m3.1.1.14.cmml" xref="alg1.l14.m3.1.1.14">𝑛</ci><ci id="alg1.l14.m3.1.1.15.cmml" xref="alg1.l14.m3.1.1.15">𝑐</ci><ci id="alg1.l14.m3.1.1.16.cmml" xref="alg1.l14.m3.1.1.16">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m3.1c">agent\_utterance</annotation><annotation encoding="application/x-llamapun" id="alg1.l14.m3.1d">italic_a italic_g italic_e italic_n italic_t _ italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l14.2">do</span>
</div>
<div class="ltx_listingline" id="alg1.l15">              <math alttext="path" class="ltx_Math" display="inline" id="alg1.l15.m1.1"><semantics id="alg1.l15.m1.1a"><mrow id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml"><mi id="alg1.l15.m1.1.1.2" xref="alg1.l15.m1.1.1.2.cmml">p</mi><mo id="alg1.l15.m1.1.1.1" xref="alg1.l15.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3" xref="alg1.l15.m1.1.1.3.cmml">a</mi><mo id="alg1.l15.m1.1.1.1a" xref="alg1.l15.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.4" xref="alg1.l15.m1.1.1.4.cmml">t</mi><mo id="alg1.l15.m1.1.1.1b" xref="alg1.l15.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.5" xref="alg1.l15.m1.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m1.1b"><apply id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1"><times id="alg1.l15.m1.1.1.1.cmml" xref="alg1.l15.m1.1.1.1"></times><ci id="alg1.l15.m1.1.1.2.cmml" xref="alg1.l15.m1.1.1.2">𝑝</ci><ci id="alg1.l15.m1.1.1.3.cmml" xref="alg1.l15.m1.1.1.3">𝑎</ci><ci id="alg1.l15.m1.1.1.4.cmml" xref="alg1.l15.m1.1.1.4">𝑡</ci><ci id="alg1.l15.m1.1.1.5.cmml" xref="alg1.l15.m1.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m1.1c">path</annotation><annotation encoding="application/x-llamapun" id="alg1.l15.m1.1d">italic_p italic_a italic_t italic_h</annotation></semantics></math>.append(<math alttext="utterance.intent" class="ltx_Math" display="inline" id="alg1.l15.m2.2"><semantics id="alg1.l15.m2.2a"><mrow id="alg1.l15.m2.2.2.2" xref="alg1.l15.m2.2.2.3.cmml"><mrow id="alg1.l15.m2.1.1.1.1" xref="alg1.l15.m2.1.1.1.1.cmml"><mi id="alg1.l15.m2.1.1.1.1.2" xref="alg1.l15.m2.1.1.1.1.2.cmml">u</mi><mo id="alg1.l15.m2.1.1.1.1.1" xref="alg1.l15.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l15.m2.1.1.1.1.3" xref="alg1.l15.m2.1.1.1.1.3.cmml">t</mi><mo id="alg1.l15.m2.1.1.1.1.1a" xref="alg1.l15.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l15.m2.1.1.1.1.4" xref="alg1.l15.m2.1.1.1.1.4.cmml">t</mi><mo id="alg1.l15.m2.1.1.1.1.1b" xref="alg1.l15.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l15.m2.1.1.1.1.5" xref="alg1.l15.m2.1.1.1.1.5.cmml">e</mi><mo id="alg1.l15.m2.1.1.1.1.1c" xref="alg1.l15.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l15.m2.1.1.1.1.6" xref="alg1.l15.m2.1.1.1.1.6.cmml">r</mi><mo id="alg1.l15.m2.1.1.1.1.1d" xref="alg1.l15.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l15.m2.1.1.1.1.7" xref="alg1.l15.m2.1.1.1.1.7.cmml">a</mi><mo id="alg1.l15.m2.1.1.1.1.1e" xref="alg1.l15.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l15.m2.1.1.1.1.8" xref="alg1.l15.m2.1.1.1.1.8.cmml">n</mi><mo id="alg1.l15.m2.1.1.1.1.1f" xref="alg1.l15.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l15.m2.1.1.1.1.9" xref="alg1.l15.m2.1.1.1.1.9.cmml">c</mi><mo id="alg1.l15.m2.1.1.1.1.1g" xref="alg1.l15.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l15.m2.1.1.1.1.10" xref="alg1.l15.m2.1.1.1.1.10.cmml">e</mi></mrow><mo id="alg1.l15.m2.2.2.2.3" lspace="0em" rspace="0.167em" xref="alg1.l15.m2.2.2.3a.cmml">.</mo><mrow id="alg1.l15.m2.2.2.2.2" xref="alg1.l15.m2.2.2.2.2.cmml"><mi id="alg1.l15.m2.2.2.2.2.2" xref="alg1.l15.m2.2.2.2.2.2.cmml">i</mi><mo id="alg1.l15.m2.2.2.2.2.1" xref="alg1.l15.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l15.m2.2.2.2.2.3" xref="alg1.l15.m2.2.2.2.2.3.cmml">n</mi><mo id="alg1.l15.m2.2.2.2.2.1a" xref="alg1.l15.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l15.m2.2.2.2.2.4" xref="alg1.l15.m2.2.2.2.2.4.cmml">t</mi><mo id="alg1.l15.m2.2.2.2.2.1b" xref="alg1.l15.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l15.m2.2.2.2.2.5" xref="alg1.l15.m2.2.2.2.2.5.cmml">e</mi><mo id="alg1.l15.m2.2.2.2.2.1c" xref="alg1.l15.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l15.m2.2.2.2.2.6" xref="alg1.l15.m2.2.2.2.2.6.cmml">n</mi><mo id="alg1.l15.m2.2.2.2.2.1d" xref="alg1.l15.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l15.m2.2.2.2.2.7" xref="alg1.l15.m2.2.2.2.2.7.cmml">t</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m2.2b"><apply id="alg1.l15.m2.2.2.3.cmml" xref="alg1.l15.m2.2.2.2"><csymbol cd="ambiguous" id="alg1.l15.m2.2.2.3a.cmml" xref="alg1.l15.m2.2.2.2.3">formulae-sequence</csymbol><apply id="alg1.l15.m2.1.1.1.1.cmml" xref="alg1.l15.m2.1.1.1.1"><times id="alg1.l15.m2.1.1.1.1.1.cmml" xref="alg1.l15.m2.1.1.1.1.1"></times><ci id="alg1.l15.m2.1.1.1.1.2.cmml" xref="alg1.l15.m2.1.1.1.1.2">𝑢</ci><ci id="alg1.l15.m2.1.1.1.1.3.cmml" xref="alg1.l15.m2.1.1.1.1.3">𝑡</ci><ci id="alg1.l15.m2.1.1.1.1.4.cmml" xref="alg1.l15.m2.1.1.1.1.4">𝑡</ci><ci id="alg1.l15.m2.1.1.1.1.5.cmml" xref="alg1.l15.m2.1.1.1.1.5">𝑒</ci><ci id="alg1.l15.m2.1.1.1.1.6.cmml" xref="alg1.l15.m2.1.1.1.1.6">𝑟</ci><ci id="alg1.l15.m2.1.1.1.1.7.cmml" xref="alg1.l15.m2.1.1.1.1.7">𝑎</ci><ci id="alg1.l15.m2.1.1.1.1.8.cmml" xref="alg1.l15.m2.1.1.1.1.8">𝑛</ci><ci id="alg1.l15.m2.1.1.1.1.9.cmml" xref="alg1.l15.m2.1.1.1.1.9">𝑐</ci><ci id="alg1.l15.m2.1.1.1.1.10.cmml" xref="alg1.l15.m2.1.1.1.1.10">𝑒</ci></apply><apply id="alg1.l15.m2.2.2.2.2.cmml" xref="alg1.l15.m2.2.2.2.2"><times id="alg1.l15.m2.2.2.2.2.1.cmml" xref="alg1.l15.m2.2.2.2.2.1"></times><ci id="alg1.l15.m2.2.2.2.2.2.cmml" xref="alg1.l15.m2.2.2.2.2.2">𝑖</ci><ci id="alg1.l15.m2.2.2.2.2.3.cmml" xref="alg1.l15.m2.2.2.2.2.3">𝑛</ci><ci id="alg1.l15.m2.2.2.2.2.4.cmml" xref="alg1.l15.m2.2.2.2.2.4">𝑡</ci><ci id="alg1.l15.m2.2.2.2.2.5.cmml" xref="alg1.l15.m2.2.2.2.2.5">𝑒</ci><ci id="alg1.l15.m2.2.2.2.2.6.cmml" xref="alg1.l15.m2.2.2.2.2.6">𝑛</ci><ci id="alg1.l15.m2.2.2.2.2.7.cmml" xref="alg1.l15.m2.2.2.2.2.7">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m2.2c">utterance.intent</annotation><annotation encoding="application/x-llamapun" id="alg1.l15.m2.2d">italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e . italic_i italic_n italic_t italic_e italic_n italic_t</annotation></semantics></math>)

</div>
<div class="ltx_listingline" id="alg1.l16">           <span class="ltx_text ltx_font_bold" id="alg1.l16.1">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l16.2">for</span>
</div>
<div class="ltx_listingline" id="alg1.l17">           Return <math alttext="path" class="ltx_Math" display="inline" id="alg1.l17.m1.1"><semantics id="alg1.l17.m1.1a"><mrow id="alg1.l17.m1.1.1" xref="alg1.l17.m1.1.1.cmml"><mi id="alg1.l17.m1.1.1.2" xref="alg1.l17.m1.1.1.2.cmml">p</mi><mo id="alg1.l17.m1.1.1.1" xref="alg1.l17.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l17.m1.1.1.3" xref="alg1.l17.m1.1.1.3.cmml">a</mi><mo id="alg1.l17.m1.1.1.1a" xref="alg1.l17.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l17.m1.1.1.4" xref="alg1.l17.m1.1.1.4.cmml">t</mi><mo id="alg1.l17.m1.1.1.1b" xref="alg1.l17.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l17.m1.1.1.5" xref="alg1.l17.m1.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l17.m1.1b"><apply id="alg1.l17.m1.1.1.cmml" xref="alg1.l17.m1.1.1"><times id="alg1.l17.m1.1.1.1.cmml" xref="alg1.l17.m1.1.1.1"></times><ci id="alg1.l17.m1.1.1.2.cmml" xref="alg1.l17.m1.1.1.2">𝑝</ci><ci id="alg1.l17.m1.1.1.3.cmml" xref="alg1.l17.m1.1.1.3">𝑎</ci><ci id="alg1.l17.m1.1.1.4.cmml" xref="alg1.l17.m1.1.1.4">𝑡</ci><ci id="alg1.l17.m1.1.1.5.cmml" xref="alg1.l17.m1.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m1.1c">path</annotation><annotation encoding="application/x-llamapun" id="alg1.l17.m1.1d">italic_p italic_a italic_t italic_h</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l18">        <span class="ltx_text ltx_font_bold" id="alg1.l18.1">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l18.2">if</span>
</div>
<div class="ltx_listingline" id="alg1.l19">     <span class="ltx_text ltx_font_bold" id="alg1.l19.1">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l19.2">for</span>
</div>
<div class="ltx_listingline" id="alg1.l20">     If no failure is detected, return an empty path

</div>
<div class="ltx_listingline" id="alg1.l21">  <span class="ltx_text ltx_font_bold" id="alg1.l21.1">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l21.2">procedure</span>
</div>
</div>
</figure>
</section>
<section class="ltx_paragraph" id="S3.SS4.SSS0.Px3">
<h4 class="ltx_title ltx_font_bold ltx_title_paragraph">Conversation flow discontinuation</h4>
<div class="ltx_para" id="S3.SS4.SSS0.Px3.p1">
<p class="ltx_p" id="S3.SS4.SSS0.Px3.p1.1">This detector is initialized with an interaction model that can be represented as a directed graph, where nodes correspond to intents and edges to allowed transitions between two intents; see the example in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S3.F3" title="Figure 3 ‣ 3.3. Conversational Breakdown Detection ‣ 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">3</span></a>.
Then, following the conversation, the detector verifies if the conversational path up to the current utterance exists in this graph. For example, if the conversation has five utterances, the detector checks if the first two intents are connected, in which case, it continues by adding the third intent to the path and so on, until the last utterance. The pseudo-code in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#alg2" title="Algorithm 2 ‣ Conversation flow discontinuation ‣ 3.4. Operationalization ‣ 3. Detecting Conversational Breakdowns Using User Simulation ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">2</span></a> illustrates the logic behind this detector.</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg2.3.1.1">Algorithm 2</span> </span> Detect <em class="ltx_emph ltx_font_italic" id="alg2.4.2">flow discontinuation </em> breakdown</figcaption>
<div class="ltx_listing ltx_listing" id="alg2.5">
<div class="ltx_listingline" id="alg2.l1">  <span class="ltx_text ltx_font_bold" id="alg2.l1.1">procedure</span> <span class="ltx_text ltx_font_smallcaps" id="alg2.l1.2">detect_failure</span>(<math alttext="dialogue:Dialogue" class="ltx_Math" display="inline" id="alg2.l1.m1.1"><semantics id="alg2.l1.m1.1a"><mrow id="alg2.l1.m1.1.1" xref="alg2.l1.m1.1.1.cmml"><mrow id="alg2.l1.m1.1.1.2" xref="alg2.l1.m1.1.1.2.cmml"><mi id="alg2.l1.m1.1.1.2.2" xref="alg2.l1.m1.1.1.2.2.cmml">d</mi><mo id="alg2.l1.m1.1.1.2.1" xref="alg2.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.2.3" xref="alg2.l1.m1.1.1.2.3.cmml">i</mi><mo id="alg2.l1.m1.1.1.2.1a" xref="alg2.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.2.4" xref="alg2.l1.m1.1.1.2.4.cmml">a</mi><mo id="alg2.l1.m1.1.1.2.1b" xref="alg2.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.2.5" xref="alg2.l1.m1.1.1.2.5.cmml">l</mi><mo id="alg2.l1.m1.1.1.2.1c" xref="alg2.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.2.6" xref="alg2.l1.m1.1.1.2.6.cmml">o</mi><mo id="alg2.l1.m1.1.1.2.1d" xref="alg2.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.2.7" xref="alg2.l1.m1.1.1.2.7.cmml">g</mi><mo id="alg2.l1.m1.1.1.2.1e" xref="alg2.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.2.8" xref="alg2.l1.m1.1.1.2.8.cmml">u</mi><mo id="alg2.l1.m1.1.1.2.1f" xref="alg2.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.2.9" xref="alg2.l1.m1.1.1.2.9.cmml">e</mi></mrow><mo id="alg2.l1.m1.1.1.1" lspace="0.278em" rspace="0.278em" xref="alg2.l1.m1.1.1.1.cmml">:</mo><mrow id="alg2.l1.m1.1.1.3" xref="alg2.l1.m1.1.1.3.cmml"><mi id="alg2.l1.m1.1.1.3.2" xref="alg2.l1.m1.1.1.3.2.cmml">D</mi><mo id="alg2.l1.m1.1.1.3.1" xref="alg2.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.3.3" xref="alg2.l1.m1.1.1.3.3.cmml">i</mi><mo id="alg2.l1.m1.1.1.3.1a" xref="alg2.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.3.4" xref="alg2.l1.m1.1.1.3.4.cmml">a</mi><mo id="alg2.l1.m1.1.1.3.1b" xref="alg2.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.3.5" xref="alg2.l1.m1.1.1.3.5.cmml">l</mi><mo id="alg2.l1.m1.1.1.3.1c" xref="alg2.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.3.6" xref="alg2.l1.m1.1.1.3.6.cmml">o</mi><mo id="alg2.l1.m1.1.1.3.1d" xref="alg2.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.3.7" xref="alg2.l1.m1.1.1.3.7.cmml">g</mi><mo id="alg2.l1.m1.1.1.3.1e" xref="alg2.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.3.8" xref="alg2.l1.m1.1.1.3.8.cmml">u</mi><mo id="alg2.l1.m1.1.1.3.1f" xref="alg2.l1.m1.1.1.3.1.cmml">⁢</mo><mi id="alg2.l1.m1.1.1.3.9" xref="alg2.l1.m1.1.1.3.9.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l1.m1.1b"><apply id="alg2.l1.m1.1.1.cmml" xref="alg2.l1.m1.1.1"><ci id="alg2.l1.m1.1.1.1.cmml" xref="alg2.l1.m1.1.1.1">:</ci><apply id="alg2.l1.m1.1.1.2.cmml" xref="alg2.l1.m1.1.1.2"><times id="alg2.l1.m1.1.1.2.1.cmml" xref="alg2.l1.m1.1.1.2.1"></times><ci id="alg2.l1.m1.1.1.2.2.cmml" xref="alg2.l1.m1.1.1.2.2">𝑑</ci><ci id="alg2.l1.m1.1.1.2.3.cmml" xref="alg2.l1.m1.1.1.2.3">𝑖</ci><ci id="alg2.l1.m1.1.1.2.4.cmml" xref="alg2.l1.m1.1.1.2.4">𝑎</ci><ci id="alg2.l1.m1.1.1.2.5.cmml" xref="alg2.l1.m1.1.1.2.5">𝑙</ci><ci id="alg2.l1.m1.1.1.2.6.cmml" xref="alg2.l1.m1.1.1.2.6">𝑜</ci><ci id="alg2.l1.m1.1.1.2.7.cmml" xref="alg2.l1.m1.1.1.2.7">𝑔</ci><ci id="alg2.l1.m1.1.1.2.8.cmml" xref="alg2.l1.m1.1.1.2.8">𝑢</ci><ci id="alg2.l1.m1.1.1.2.9.cmml" xref="alg2.l1.m1.1.1.2.9">𝑒</ci></apply><apply id="alg2.l1.m1.1.1.3.cmml" xref="alg2.l1.m1.1.1.3"><times id="alg2.l1.m1.1.1.3.1.cmml" xref="alg2.l1.m1.1.1.3.1"></times><ci id="alg2.l1.m1.1.1.3.2.cmml" xref="alg2.l1.m1.1.1.3.2">𝐷</ci><ci id="alg2.l1.m1.1.1.3.3.cmml" xref="alg2.l1.m1.1.1.3.3">𝑖</ci><ci id="alg2.l1.m1.1.1.3.4.cmml" xref="alg2.l1.m1.1.1.3.4">𝑎</ci><ci id="alg2.l1.m1.1.1.3.5.cmml" xref="alg2.l1.m1.1.1.3.5">𝑙</ci><ci id="alg2.l1.m1.1.1.3.6.cmml" xref="alg2.l1.m1.1.1.3.6">𝑜</ci><ci id="alg2.l1.m1.1.1.3.7.cmml" xref="alg2.l1.m1.1.1.3.7">𝑔</ci><ci id="alg2.l1.m1.1.1.3.8.cmml" xref="alg2.l1.m1.1.1.3.8">𝑢</ci><ci id="alg2.l1.m1.1.1.3.9.cmml" xref="alg2.l1.m1.1.1.3.9">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m1.1c">dialogue:Dialogue</annotation><annotation encoding="application/x-llamapun" id="alg2.l1.m1.1d">italic_d italic_i italic_a italic_l italic_o italic_g italic_u italic_e : italic_D italic_i italic_a italic_l italic_o italic_g italic_u italic_e</annotation></semantics></math>)



</div>
<div class="ltx_listingline" id="alg2.l2">     <math alttext="path\leftarrow[]" class="ltx_Math" display="inline" id="alg2.l2.m1.1"><semantics id="alg2.l2.m1.1a"><mrow id="alg2.l2.m1.1.1" xref="alg2.l2.m1.1.1.cmml"><mrow id="alg2.l2.m1.1.1.2" xref="alg2.l2.m1.1.1.2.cmml"><mi id="alg2.l2.m1.1.1.2.2" xref="alg2.l2.m1.1.1.2.2.cmml">p</mi><mo id="alg2.l2.m1.1.1.2.1" xref="alg2.l2.m1.1.1.2.1.cmml">⁢</mo><mi id="alg2.l2.m1.1.1.2.3" xref="alg2.l2.m1.1.1.2.3.cmml">a</mi><mo id="alg2.l2.m1.1.1.2.1a" xref="alg2.l2.m1.1.1.2.1.cmml">⁢</mo><mi id="alg2.l2.m1.1.1.2.4" xref="alg2.l2.m1.1.1.2.4.cmml">t</mi><mo id="alg2.l2.m1.1.1.2.1b" xref="alg2.l2.m1.1.1.2.1.cmml">⁢</mo><mi id="alg2.l2.m1.1.1.2.5" xref="alg2.l2.m1.1.1.2.5.cmml">h</mi></mrow><mo id="alg2.l2.m1.1.1.1" stretchy="false" xref="alg2.l2.m1.1.1.1.cmml">←</mo><mrow id="alg2.l2.m1.1.1.3.2" xref="alg2.l2.m1.1.1.cmml"><mo id="alg2.l2.m1.1.1.3.2.1" stretchy="false" xref="alg2.l2.m1.1.1.3.1.cmml">[</mo><mo id="alg2.l2.m1.1.1.3.2.2" stretchy="false" xref="alg2.l2.m1.1.1.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l2.m1.1b"><apply id="alg2.l2.m1.1.1.cmml" xref="alg2.l2.m1.1.1"><ci id="alg2.l2.m1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1">←</ci><apply id="alg2.l2.m1.1.1.2.cmml" xref="alg2.l2.m1.1.1.2"><times id="alg2.l2.m1.1.1.2.1.cmml" xref="alg2.l2.m1.1.1.2.1"></times><ci id="alg2.l2.m1.1.1.2.2.cmml" xref="alg2.l2.m1.1.1.2.2">𝑝</ci><ci id="alg2.l2.m1.1.1.2.3.cmml" xref="alg2.l2.m1.1.1.2.3">𝑎</ci><ci id="alg2.l2.m1.1.1.2.4.cmml" xref="alg2.l2.m1.1.1.2.4">𝑡</ci><ci id="alg2.l2.m1.1.1.2.5.cmml" xref="alg2.l2.m1.1.1.2.5">ℎ</ci></apply><list id="alg2.l2.m1.1.1.3.1.cmml" xref="alg2.l2.m1.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m1.1c">path\leftarrow[]</annotation><annotation encoding="application/x-llamapun" id="alg2.l2.m1.1d">italic_p italic_a italic_t italic_h ← [ ]</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg2.l3">     <span class="ltx_text ltx_font_bold" id="alg2.l3.1">for</span> <math alttext="utterance" class="ltx_Math" display="inline" id="alg2.l3.m1.1"><semantics id="alg2.l3.m1.1a"><mrow id="alg2.l3.m1.1.1" xref="alg2.l3.m1.1.1.cmml"><mi id="alg2.l3.m1.1.1.2" xref="alg2.l3.m1.1.1.2.cmml">u</mi><mo id="alg2.l3.m1.1.1.1" xref="alg2.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m1.1.1.3" xref="alg2.l3.m1.1.1.3.cmml">t</mi><mo id="alg2.l3.m1.1.1.1a" xref="alg2.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m1.1.1.4" xref="alg2.l3.m1.1.1.4.cmml">t</mi><mo id="alg2.l3.m1.1.1.1b" xref="alg2.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m1.1.1.5" xref="alg2.l3.m1.1.1.5.cmml">e</mi><mo id="alg2.l3.m1.1.1.1c" xref="alg2.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m1.1.1.6" xref="alg2.l3.m1.1.1.6.cmml">r</mi><mo id="alg2.l3.m1.1.1.1d" xref="alg2.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m1.1.1.7" xref="alg2.l3.m1.1.1.7.cmml">a</mi><mo id="alg2.l3.m1.1.1.1e" xref="alg2.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m1.1.1.8" xref="alg2.l3.m1.1.1.8.cmml">n</mi><mo id="alg2.l3.m1.1.1.1f" xref="alg2.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m1.1.1.9" xref="alg2.l3.m1.1.1.9.cmml">c</mi><mo id="alg2.l3.m1.1.1.1g" xref="alg2.l3.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m1.1.1.10" xref="alg2.l3.m1.1.1.10.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l3.m1.1b"><apply id="alg2.l3.m1.1.1.cmml" xref="alg2.l3.m1.1.1"><times id="alg2.l3.m1.1.1.1.cmml" xref="alg2.l3.m1.1.1.1"></times><ci id="alg2.l3.m1.1.1.2.cmml" xref="alg2.l3.m1.1.1.2">𝑢</ci><ci id="alg2.l3.m1.1.1.3.cmml" xref="alg2.l3.m1.1.1.3">𝑡</ci><ci id="alg2.l3.m1.1.1.4.cmml" xref="alg2.l3.m1.1.1.4">𝑡</ci><ci id="alg2.l3.m1.1.1.5.cmml" xref="alg2.l3.m1.1.1.5">𝑒</ci><ci id="alg2.l3.m1.1.1.6.cmml" xref="alg2.l3.m1.1.1.6">𝑟</ci><ci id="alg2.l3.m1.1.1.7.cmml" xref="alg2.l3.m1.1.1.7">𝑎</ci><ci id="alg2.l3.m1.1.1.8.cmml" xref="alg2.l3.m1.1.1.8">𝑛</ci><ci id="alg2.l3.m1.1.1.9.cmml" xref="alg2.l3.m1.1.1.9">𝑐</ci><ci id="alg2.l3.m1.1.1.10.cmml" xref="alg2.l3.m1.1.1.10">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m1.1c">utterance</annotation><annotation encoding="application/x-llamapun" id="alg2.l3.m1.1d">italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e</annotation></semantics></math> in <math alttext="dialogue" class="ltx_Math" display="inline" id="alg2.l3.m2.1"><semantics id="alg2.l3.m2.1a"><mrow id="alg2.l3.m2.1.1" xref="alg2.l3.m2.1.1.cmml"><mi id="alg2.l3.m2.1.1.2" xref="alg2.l3.m2.1.1.2.cmml">d</mi><mo id="alg2.l3.m2.1.1.1" xref="alg2.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m2.1.1.3" xref="alg2.l3.m2.1.1.3.cmml">i</mi><mo id="alg2.l3.m2.1.1.1a" xref="alg2.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m2.1.1.4" xref="alg2.l3.m2.1.1.4.cmml">a</mi><mo id="alg2.l3.m2.1.1.1b" xref="alg2.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m2.1.1.5" xref="alg2.l3.m2.1.1.5.cmml">l</mi><mo id="alg2.l3.m2.1.1.1c" xref="alg2.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m2.1.1.6" xref="alg2.l3.m2.1.1.6.cmml">o</mi><mo id="alg2.l3.m2.1.1.1d" xref="alg2.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m2.1.1.7" xref="alg2.l3.m2.1.1.7.cmml">g</mi><mo id="alg2.l3.m2.1.1.1e" xref="alg2.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m2.1.1.8" xref="alg2.l3.m2.1.1.8.cmml">u</mi><mo id="alg2.l3.m2.1.1.1f" xref="alg2.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg2.l3.m2.1.1.9" xref="alg2.l3.m2.1.1.9.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l3.m2.1b"><apply id="alg2.l3.m2.1.1.cmml" xref="alg2.l3.m2.1.1"><times id="alg2.l3.m2.1.1.1.cmml" xref="alg2.l3.m2.1.1.1"></times><ci id="alg2.l3.m2.1.1.2.cmml" xref="alg2.l3.m2.1.1.2">𝑑</ci><ci id="alg2.l3.m2.1.1.3.cmml" xref="alg2.l3.m2.1.1.3">𝑖</ci><ci id="alg2.l3.m2.1.1.4.cmml" xref="alg2.l3.m2.1.1.4">𝑎</ci><ci id="alg2.l3.m2.1.1.5.cmml" xref="alg2.l3.m2.1.1.5">𝑙</ci><ci id="alg2.l3.m2.1.1.6.cmml" xref="alg2.l3.m2.1.1.6">𝑜</ci><ci id="alg2.l3.m2.1.1.7.cmml" xref="alg2.l3.m2.1.1.7">𝑔</ci><ci id="alg2.l3.m2.1.1.8.cmml" xref="alg2.l3.m2.1.1.8">𝑢</ci><ci id="alg2.l3.m2.1.1.9.cmml" xref="alg2.l3.m2.1.1.9">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m2.1c">dialogue</annotation><annotation encoding="application/x-llamapun" id="alg2.l3.m2.1d">italic_d italic_i italic_a italic_l italic_o italic_g italic_u italic_e</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg2.l3.2">do</span>
</div>
<div class="ltx_listingline" id="alg2.l4">        <math alttext="path" class="ltx_Math" display="inline" id="alg2.l4.m1.1"><semantics id="alg2.l4.m1.1a"><mrow id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml"><mi id="alg2.l4.m1.1.1.2" xref="alg2.l4.m1.1.1.2.cmml">p</mi><mo id="alg2.l4.m1.1.1.1" xref="alg2.l4.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l4.m1.1.1.3" xref="alg2.l4.m1.1.1.3.cmml">a</mi><mo id="alg2.l4.m1.1.1.1a" xref="alg2.l4.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l4.m1.1.1.4" xref="alg2.l4.m1.1.1.4.cmml">t</mi><mo id="alg2.l4.m1.1.1.1b" xref="alg2.l4.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l4.m1.1.1.5" xref="alg2.l4.m1.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l4.m1.1b"><apply id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1"><times id="alg2.l4.m1.1.1.1.cmml" xref="alg2.l4.m1.1.1.1"></times><ci id="alg2.l4.m1.1.1.2.cmml" xref="alg2.l4.m1.1.1.2">𝑝</ci><ci id="alg2.l4.m1.1.1.3.cmml" xref="alg2.l4.m1.1.1.3">𝑎</ci><ci id="alg2.l4.m1.1.1.4.cmml" xref="alg2.l4.m1.1.1.4">𝑡</ci><ci id="alg2.l4.m1.1.1.5.cmml" xref="alg2.l4.m1.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m1.1c">path</annotation><annotation encoding="application/x-llamapun" id="alg2.l4.m1.1d">italic_p italic_a italic_t italic_h</annotation></semantics></math>.append(<math alttext="utterance.intent" class="ltx_Math" display="inline" id="alg2.l4.m2.2"><semantics id="alg2.l4.m2.2a"><mrow id="alg2.l4.m2.2.2.2" xref="alg2.l4.m2.2.2.3.cmml"><mrow id="alg2.l4.m2.1.1.1.1" xref="alg2.l4.m2.1.1.1.1.cmml"><mi id="alg2.l4.m2.1.1.1.1.2" xref="alg2.l4.m2.1.1.1.1.2.cmml">u</mi><mo id="alg2.l4.m2.1.1.1.1.1" xref="alg2.l4.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg2.l4.m2.1.1.1.1.3" xref="alg2.l4.m2.1.1.1.1.3.cmml">t</mi><mo id="alg2.l4.m2.1.1.1.1.1a" xref="alg2.l4.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg2.l4.m2.1.1.1.1.4" xref="alg2.l4.m2.1.1.1.1.4.cmml">t</mi><mo id="alg2.l4.m2.1.1.1.1.1b" xref="alg2.l4.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg2.l4.m2.1.1.1.1.5" xref="alg2.l4.m2.1.1.1.1.5.cmml">e</mi><mo id="alg2.l4.m2.1.1.1.1.1c" xref="alg2.l4.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg2.l4.m2.1.1.1.1.6" xref="alg2.l4.m2.1.1.1.1.6.cmml">r</mi><mo id="alg2.l4.m2.1.1.1.1.1d" xref="alg2.l4.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg2.l4.m2.1.1.1.1.7" xref="alg2.l4.m2.1.1.1.1.7.cmml">a</mi><mo id="alg2.l4.m2.1.1.1.1.1e" xref="alg2.l4.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg2.l4.m2.1.1.1.1.8" xref="alg2.l4.m2.1.1.1.1.8.cmml">n</mi><mo id="alg2.l4.m2.1.1.1.1.1f" xref="alg2.l4.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg2.l4.m2.1.1.1.1.9" xref="alg2.l4.m2.1.1.1.1.9.cmml">c</mi><mo id="alg2.l4.m2.1.1.1.1.1g" xref="alg2.l4.m2.1.1.1.1.1.cmml">⁢</mo><mi id="alg2.l4.m2.1.1.1.1.10" xref="alg2.l4.m2.1.1.1.1.10.cmml">e</mi></mrow><mo id="alg2.l4.m2.2.2.2.3" lspace="0em" rspace="0.167em" xref="alg2.l4.m2.2.2.3a.cmml">.</mo><mrow id="alg2.l4.m2.2.2.2.2" xref="alg2.l4.m2.2.2.2.2.cmml"><mi id="alg2.l4.m2.2.2.2.2.2" xref="alg2.l4.m2.2.2.2.2.2.cmml">i</mi><mo id="alg2.l4.m2.2.2.2.2.1" xref="alg2.l4.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg2.l4.m2.2.2.2.2.3" xref="alg2.l4.m2.2.2.2.2.3.cmml">n</mi><mo id="alg2.l4.m2.2.2.2.2.1a" xref="alg2.l4.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg2.l4.m2.2.2.2.2.4" xref="alg2.l4.m2.2.2.2.2.4.cmml">t</mi><mo id="alg2.l4.m2.2.2.2.2.1b" xref="alg2.l4.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg2.l4.m2.2.2.2.2.5" xref="alg2.l4.m2.2.2.2.2.5.cmml">e</mi><mo id="alg2.l4.m2.2.2.2.2.1c" xref="alg2.l4.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg2.l4.m2.2.2.2.2.6" xref="alg2.l4.m2.2.2.2.2.6.cmml">n</mi><mo id="alg2.l4.m2.2.2.2.2.1d" xref="alg2.l4.m2.2.2.2.2.1.cmml">⁢</mo><mi id="alg2.l4.m2.2.2.2.2.7" xref="alg2.l4.m2.2.2.2.2.7.cmml">t</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l4.m2.2b"><apply id="alg2.l4.m2.2.2.3.cmml" xref="alg2.l4.m2.2.2.2"><csymbol cd="ambiguous" id="alg2.l4.m2.2.2.3a.cmml" xref="alg2.l4.m2.2.2.2.3">formulae-sequence</csymbol><apply id="alg2.l4.m2.1.1.1.1.cmml" xref="alg2.l4.m2.1.1.1.1"><times id="alg2.l4.m2.1.1.1.1.1.cmml" xref="alg2.l4.m2.1.1.1.1.1"></times><ci id="alg2.l4.m2.1.1.1.1.2.cmml" xref="alg2.l4.m2.1.1.1.1.2">𝑢</ci><ci id="alg2.l4.m2.1.1.1.1.3.cmml" xref="alg2.l4.m2.1.1.1.1.3">𝑡</ci><ci id="alg2.l4.m2.1.1.1.1.4.cmml" xref="alg2.l4.m2.1.1.1.1.4">𝑡</ci><ci id="alg2.l4.m2.1.1.1.1.5.cmml" xref="alg2.l4.m2.1.1.1.1.5">𝑒</ci><ci id="alg2.l4.m2.1.1.1.1.6.cmml" xref="alg2.l4.m2.1.1.1.1.6">𝑟</ci><ci id="alg2.l4.m2.1.1.1.1.7.cmml" xref="alg2.l4.m2.1.1.1.1.7">𝑎</ci><ci id="alg2.l4.m2.1.1.1.1.8.cmml" xref="alg2.l4.m2.1.1.1.1.8">𝑛</ci><ci id="alg2.l4.m2.1.1.1.1.9.cmml" xref="alg2.l4.m2.1.1.1.1.9">𝑐</ci><ci id="alg2.l4.m2.1.1.1.1.10.cmml" xref="alg2.l4.m2.1.1.1.1.10">𝑒</ci></apply><apply id="alg2.l4.m2.2.2.2.2.cmml" xref="alg2.l4.m2.2.2.2.2"><times id="alg2.l4.m2.2.2.2.2.1.cmml" xref="alg2.l4.m2.2.2.2.2.1"></times><ci id="alg2.l4.m2.2.2.2.2.2.cmml" xref="alg2.l4.m2.2.2.2.2.2">𝑖</ci><ci id="alg2.l4.m2.2.2.2.2.3.cmml" xref="alg2.l4.m2.2.2.2.2.3">𝑛</ci><ci id="alg2.l4.m2.2.2.2.2.4.cmml" xref="alg2.l4.m2.2.2.2.2.4">𝑡</ci><ci id="alg2.l4.m2.2.2.2.2.5.cmml" xref="alg2.l4.m2.2.2.2.2.5">𝑒</ci><ci id="alg2.l4.m2.2.2.2.2.6.cmml" xref="alg2.l4.m2.2.2.2.2.6">𝑛</ci><ci id="alg2.l4.m2.2.2.2.2.7.cmml" xref="alg2.l4.m2.2.2.2.2.7">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m2.2c">utterance.intent</annotation><annotation encoding="application/x-llamapun" id="alg2.l4.m2.2d">italic_u italic_t italic_t italic_e italic_r italic_a italic_n italic_c italic_e . italic_i italic_n italic_t italic_e italic_n italic_t</annotation></semantics></math>)

</div>
<div class="ltx_listingline" id="alg2.l5">        <span class="ltx_text ltx_font_bold" id="alg2.l5.1">if</span> <math alttext="path" class="ltx_Math" display="inline" id="alg2.l5.m1.1"><semantics id="alg2.l5.m1.1a"><mrow id="alg2.l5.m1.1.1" xref="alg2.l5.m1.1.1.cmml"><mi id="alg2.l5.m1.1.1.2" xref="alg2.l5.m1.1.1.2.cmml">p</mi><mo id="alg2.l5.m1.1.1.1" xref="alg2.l5.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l5.m1.1.1.3" xref="alg2.l5.m1.1.1.3.cmml">a</mi><mo id="alg2.l5.m1.1.1.1a" xref="alg2.l5.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l5.m1.1.1.4" xref="alg2.l5.m1.1.1.4.cmml">t</mi><mo id="alg2.l5.m1.1.1.1b" xref="alg2.l5.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l5.m1.1.1.5" xref="alg2.l5.m1.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l5.m1.1b"><apply id="alg2.l5.m1.1.1.cmml" xref="alg2.l5.m1.1.1"><times id="alg2.l5.m1.1.1.1.cmml" xref="alg2.l5.m1.1.1.1"></times><ci id="alg2.l5.m1.1.1.2.cmml" xref="alg2.l5.m1.1.1.2">𝑝</ci><ci id="alg2.l5.m1.1.1.3.cmml" xref="alg2.l5.m1.1.1.3">𝑎</ci><ci id="alg2.l5.m1.1.1.4.cmml" xref="alg2.l5.m1.1.1.4">𝑡</ci><ci id="alg2.l5.m1.1.1.5.cmml" xref="alg2.l5.m1.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.m1.1c">path</annotation><annotation encoding="application/x-llamapun" id="alg2.l5.m1.1d">italic_p italic_a italic_t italic_h</annotation></semantics></math> is not a valid path in the dialogue flow graph <span class="ltx_text ltx_font_bold" id="alg2.l5.2">then</span>
</div>
<div class="ltx_listingline" id="alg2.l6">           Return <math alttext="path" class="ltx_Math" display="inline" id="alg2.l6.m1.1"><semantics id="alg2.l6.m1.1a"><mrow id="alg2.l6.m1.1.1" xref="alg2.l6.m1.1.1.cmml"><mi id="alg2.l6.m1.1.1.2" xref="alg2.l6.m1.1.1.2.cmml">p</mi><mo id="alg2.l6.m1.1.1.1" xref="alg2.l6.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l6.m1.1.1.3" xref="alg2.l6.m1.1.1.3.cmml">a</mi><mo id="alg2.l6.m1.1.1.1a" xref="alg2.l6.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l6.m1.1.1.4" xref="alg2.l6.m1.1.1.4.cmml">t</mi><mo id="alg2.l6.m1.1.1.1b" xref="alg2.l6.m1.1.1.1.cmml">⁢</mo><mi id="alg2.l6.m1.1.1.5" xref="alg2.l6.m1.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l6.m1.1b"><apply id="alg2.l6.m1.1.1.cmml" xref="alg2.l6.m1.1.1"><times id="alg2.l6.m1.1.1.1.cmml" xref="alg2.l6.m1.1.1.1"></times><ci id="alg2.l6.m1.1.1.2.cmml" xref="alg2.l6.m1.1.1.2">𝑝</ci><ci id="alg2.l6.m1.1.1.3.cmml" xref="alg2.l6.m1.1.1.3">𝑎</ci><ci id="alg2.l6.m1.1.1.4.cmml" xref="alg2.l6.m1.1.1.4">𝑡</ci><ci id="alg2.l6.m1.1.1.5.cmml" xref="alg2.l6.m1.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l6.m1.1c">path</annotation><annotation encoding="application/x-llamapun" id="alg2.l6.m1.1d">italic_p italic_a italic_t italic_h</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg2.l7">        <span class="ltx_text ltx_font_bold" id="alg2.l7.1">end</span> <span class="ltx_text ltx_font_bold" id="alg2.l7.2">if</span>
</div>
<div class="ltx_listingline" id="alg2.l8">     <span class="ltx_text ltx_font_bold" id="alg2.l8.1">end</span> <span class="ltx_text ltx_font_bold" id="alg2.l8.2">for</span>
</div>
<div class="ltx_listingline" id="alg2.l9">     If no discontinuity is detected, return an empty path

</div>
<div class="ltx_listingline" id="alg2.l10">  <span class="ltx_text ltx_font_bold" id="alg2.l10.1">end</span> <span class="ltx_text ltx_font_bold" id="alg2.l10.2">procedure</span>
</div>
</div>
</figure>
</section>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Case Study</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">To demonstrate the feasibility and value of the proposed methodology, a case study is conducted with an existing open-sourced CRS and user simulator.
As the CRS is modifiable, we employ our methodology as a development tool to assess whether the modifications applied can decrease conversational breakdowns.</p>
</div>
<figure class="ltx_figure" id="S4.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_missing ltx_missing_image" id="S4.F4.sf1.g1" src=""/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F4.sf1.3.1.1" style="font-size:90%;">(a)</span> </span><em class="ltx_emph ltx_font_italic" id="S4.F4.sf1.4.2" style="font-size:90%;">IAI MovieBot</em></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_missing ltx_missing_image" id="S4.F4.sf2.g1" src=""/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F4.sf2.3.1.1" style="font-size:90%;">(b)</span> </span><em class="ltx_emph ltx_font_italic" id="S4.F4.sf2.4.2" style="font-size:90%;">UserSimCRS</em></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F4.4.1.1" style="font-size:90%;">Figure 4</span>. </span><span class="ltx_text" id="S4.F4.5.2" style="font-size:90%;">Architecture of dialogue participants: <em class="ltx_emph ltx_font_italic" id="S4.F4.5.2.1">IAI MovieBot</em> and <em class="ltx_emph ltx_font_italic" id="S4.F4.5.2.2">UserSimCRS</em>.</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S4.F4.6">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.F4.7">The subfigure labelled (a) and (b) present the architecture of IAI MoveiBot and UserSimCRS. Each comprises 4 components and arrows between them represents the circulation of an utterance upon reception. The components of IAI MoveiBot are: natural language understanding, dialogue manager, recommendation engine, and natural language generation. The components of UserSimCRS are: natural language understanding, response generation, preference model, and natural language generation.</p>
</div>
</div>
</figure>
<div class="ltx_para" id="S4.p2">
<p class="ltx_p" id="S4.p2.1"><em class="ltx_emph ltx_font_italic" id="S4.p2.1.1">IAI MovieBot</em> 
<cite class="ltx_cite ltx_citemacro_citep">(Habib
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib15" title="">2020</a>)</cite> is a conversational recommender system in the movie domain.
It has a component-based architecture with four core components (Fig. <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S4.F4.sf1" title="In Figure 4 ‣ 4. Case Study ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">4(a)</span></a>), namely, natural language understanding (NLU), dialogue manager (comprising dialogue policy and dialogue state tracking), recommendation engine, and natural language generation, that is very similar to the typical architecture found in <cite class="ltx_cite ltx_citemacro_citep">(Jannach
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib21" title="">2021</a>)</cite>.
The user utterance is processed by a rule-based NLU component. Then, the structured representation of the utterance is received by the dialogue manager that is responsible for deciding the next action of <em class="ltx_emph ltx_font_italic" id="S4.p2.1.2">IAI MovieBot</em> based on a pre-defined set of rules. It is connected to the recommendation engine, which is responsible for finding relevant items with regards to the dialogue state.
Finally, the natural language generation component sends a template-based response to the user based on the next action chosen by the dialogue manager.
For user simulation, we use <em class="ltx_emph ltx_font_italic" id="S4.p2.1.3">UserSimCRS</em> 
<cite class="ltx_cite ltx_citemacro_citep">(Afzali
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib2" title="">2023</a>)</cite> that is designed for evaluation of the CRSs and implements an agenda-based simulator. Its architecture is based on a typical task-oriented dialogue system (Fig. <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S4.F4.sf2" title="In Figure 4 ‣ 4. Case Study ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">4(b)</span></a>), and thus is relatively similar to that of <em class="ltx_emph ltx_font_italic" id="S4.p2.1.4">IAI MovieBot</em>, the main difference is the absence of recommendation engine.
Two practical differences with <em class="ltx_emph ltx_font_italic" id="S4.p2.1.5">IAI MovieBot</em> can be pointed out. First, the NLU component is trained on a small corpora of dialogues between users and <em class="ltx_emph ltx_font_italic" id="S4.p2.1.6">IAI MovieBot</em>. Second, although the NLG component also uses templates, they are extracted from the corpora of dialogues, as opposed to being pre-defined.
Agenda-based simulation assumes a Markovian state representation; additionally, the allowed state transitions are specified by an interaction model that is designed specifically for the task of conversational recommendations.
The simulator determines the next action based on the agenda and the current context of the conversation.</p>
</div>
<figure class="ltx_figure" id="S4.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_missing ltx_missing_image" id="S4.F5.g1" src=""/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F5.8.4.1" style="font-size:90%;">Figure 5</span>. </span><span class="ltx_text" id="S4.F5.6.3" style="font-size:90%;">Conversational breakdowns per type for each iteration (groups). <math alttext="B_{1}" class="ltx_Math" display="inline" id="S4.F5.4.1.m1.1"><semantics id="S4.F5.4.1.m1.1b"><msub id="S4.F5.4.1.m1.1.1" xref="S4.F5.4.1.m1.1.1.cmml"><mi id="S4.F5.4.1.m1.1.1.2" xref="S4.F5.4.1.m1.1.1.2.cmml">B</mi><mn id="S4.F5.4.1.m1.1.1.3" xref="S4.F5.4.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.F5.4.1.m1.1c"><apply id="S4.F5.4.1.m1.1.1.cmml" xref="S4.F5.4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.F5.4.1.m1.1.1.1.cmml" xref="S4.F5.4.1.m1.1.1">subscript</csymbol><ci id="S4.F5.4.1.m1.1.1.2.cmml" xref="S4.F5.4.1.m1.1.1.2">𝐵</ci><cn id="S4.F5.4.1.m1.1.1.3.cmml" type="integer" xref="S4.F5.4.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.4.1.m1.1d">B_{1}</annotation><annotation encoding="application/x-llamapun" id="S4.F5.4.1.m1.1e">italic_B start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="B_{2}" class="ltx_Math" display="inline" id="S4.F5.5.2.m2.1"><semantics id="S4.F5.5.2.m2.1b"><msub id="S4.F5.5.2.m2.1.1" xref="S4.F5.5.2.m2.1.1.cmml"><mi id="S4.F5.5.2.m2.1.1.2" xref="S4.F5.5.2.m2.1.1.2.cmml">B</mi><mn id="S4.F5.5.2.m2.1.1.3" xref="S4.F5.5.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.F5.5.2.m2.1c"><apply id="S4.F5.5.2.m2.1.1.cmml" xref="S4.F5.5.2.m2.1.1"><csymbol cd="ambiguous" id="S4.F5.5.2.m2.1.1.1.cmml" xref="S4.F5.5.2.m2.1.1">subscript</csymbol><ci id="S4.F5.5.2.m2.1.1.2.cmml" xref="S4.F5.5.2.m2.1.1.2">𝐵</ci><cn id="S4.F5.5.2.m2.1.1.3.cmml" type="integer" xref="S4.F5.5.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.5.2.m2.1d">B_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.F5.5.2.m2.1e">italic_B start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>, and <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.F5.6.3.m3.1"><semantics id="S4.F5.6.3.m3.1b"><msub id="S4.F5.6.3.m3.1.1" xref="S4.F5.6.3.m3.1.1.cmml"><mi id="S4.F5.6.3.m3.1.1.2" xref="S4.F5.6.3.m3.1.1.2.cmml">B</mi><mn id="S4.F5.6.3.m3.1.1.3" xref="S4.F5.6.3.m3.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.F5.6.3.m3.1c"><apply id="S4.F5.6.3.m3.1.1.cmml" xref="S4.F5.6.3.m3.1.1"><csymbol cd="ambiguous" id="S4.F5.6.3.m3.1.1.1.cmml" xref="S4.F5.6.3.m3.1.1">subscript</csymbol><ci id="S4.F5.6.3.m3.1.1.2.cmml" xref="S4.F5.6.3.m3.1.1.2">𝐵</ci><cn id="S4.F5.6.3.m3.1.1.3.cmml" type="integer" xref="S4.F5.6.3.m3.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.6.3.m3.1d">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.F5.6.3.m3.1e">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> represent system failure, dialogue of the deaf, and flow discontinuation, respectively. Colors indicate whether the breakdowns can be attributed to the CRS (purple), the US (green), or cannot be attributed (blue). Our aim in this work is to decrease the number of breakdowns especially those attributed to the CRS. The arrows between the iterations indicate which participant (CRS/US) was modified and what breakdown was targeted.</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S4.F5.9">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.F5.10">Bar chart of number of breakdowns per iteration and per breakdown. A description of the variation in number of breakdown per iteration is described in Section 4.</p>
</div>
</div>
</figure>
<div class="ltx_para" id="S4.p3">
<p class="ltx_p" id="S4.p3.5">For this case study, we generate <math alttext="N=100" class="ltx_Math" display="inline" id="S4.p3.1.m1.1"><semantics id="S4.p3.1.m1.1a"><mrow id="S4.p3.1.m1.1.1" xref="S4.p3.1.m1.1.1.cmml"><mi id="S4.p3.1.m1.1.1.2" xref="S4.p3.1.m1.1.1.2.cmml">N</mi><mo id="S4.p3.1.m1.1.1.1" xref="S4.p3.1.m1.1.1.1.cmml">=</mo><mn id="S4.p3.1.m1.1.1.3" xref="S4.p3.1.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.1.m1.1b"><apply id="S4.p3.1.m1.1.1.cmml" xref="S4.p3.1.m1.1.1"><eq id="S4.p3.1.m1.1.1.1.cmml" xref="S4.p3.1.m1.1.1.1"></eq><ci id="S4.p3.1.m1.1.1.2.cmml" xref="S4.p3.1.m1.1.1.2">𝑁</ci><cn id="S4.p3.1.m1.1.1.3.cmml" type="integer" xref="S4.p3.1.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.1.m1.1c">N=100</annotation><annotation encoding="application/x-llamapun" id="S4.p3.1.m1.1d">italic_N = 100</annotation></semantics></math> conversations per iteration<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>The generated conversations are made publicly available at: <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/NoB0/crs-breakdown-detection" title="">https://github.com/NoB0/crs-breakdown-detection</a></span></span></span> as the action space of <em class="ltx_emph ltx_font_italic" id="S4.p3.5.1">IAI MovieBot</em> is relatively simple (i.e., 10 possible actions 
<cite class="ltx_cite ltx_citemacro_citep">(Habib
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib15" title="">2020</a>)</cite>). We perform five iterations; in each, we update <em class="ltx_emph ltx_font_italic" id="S4.p3.5.2">IAI MovieBot</em> by addressing one specific type of breakdown. Additionally, we conduct an extra iteration where we use an updated version of <em class="ltx_emph ltx_font_italic" id="S4.p3.5.3">UserSimCRS</em>.
Fig. <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S4.F5" title="Figure 5 ‣ 4. Case Study ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">5</span></a> presents a summary of the different types of breakdowns detected in each iteration. Moreover, the figure provides an overview of the breakdowns addressed in each iteration.
We expect the number of breakdowns related to the one in focus to decrease. However, it is possible that the modifications applied lead to an increase or decrease in the other types of breakdowns.
Additionally, we attempt to attribute each breakdown to either the CRS or the US as indicated by color-coding in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S4.F5" title="Figure 5 ‣ 4. Case Study ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">5</span></a>.
By analyzing the logs, we can find the source of a <math alttext="B_{1}" class="ltx_Math" display="inline" id="S4.p3.2.m2.1"><semantics id="S4.p3.2.m2.1a"><msub id="S4.p3.2.m2.1.1" xref="S4.p3.2.m2.1.1.cmml"><mi id="S4.p3.2.m2.1.1.2" xref="S4.p3.2.m2.1.1.2.cmml">B</mi><mn id="S4.p3.2.m2.1.1.3" xref="S4.p3.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p3.2.m2.1b"><apply id="S4.p3.2.m2.1.1.cmml" xref="S4.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.p3.2.m2.1.1.1.cmml" xref="S4.p3.2.m2.1.1">subscript</csymbol><ci id="S4.p3.2.m2.1.1.2.cmml" xref="S4.p3.2.m2.1.1.2">𝐵</ci><cn id="S4.p3.2.m2.1.1.3.cmml" type="integer" xref="S4.p3.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.2.m2.1c">B_{1}</annotation><annotation encoding="application/x-llamapun" id="S4.p3.2.m2.1d">italic_B start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> breakdown, while for <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.p3.3.m3.1"><semantics id="S4.p3.3.m3.1a"><msub id="S4.p3.3.m3.1.1" xref="S4.p3.3.m3.1.1.cmml"><mi id="S4.p3.3.m3.1.1.2" xref="S4.p3.3.m3.1.1.2.cmml">B</mi><mn id="S4.p3.3.m3.1.1.3" xref="S4.p3.3.m3.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p3.3.m3.1b"><apply id="S4.p3.3.m3.1.1.cmml" xref="S4.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.p3.3.m3.1.1.1.cmml" xref="S4.p3.3.m3.1.1">subscript</csymbol><ci id="S4.p3.3.m3.1.1.2.cmml" xref="S4.p3.3.m3.1.1.2">𝐵</ci><cn id="S4.p3.3.m3.1.1.3.cmml" type="integer" xref="S4.p3.3.m3.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.3.m3.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.p3.3.m3.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math>, we investigate the conversational path, with regards to intents, leading to a breakdown to identify which participant made a “forbidden” transition, i.e., one that is not allowed by the interaction model. For example, the US accepts a recommendation (i.e., intent <span class="ltx_text ltx_font_typewriter" id="S4.p3.5.4">ACCEPT</span>) while the CRS is eliciting the US’s preferences (i.e., intent <span class="ltx_text ltx_font_typewriter" id="S4.p3.5.5">ELICIT</span>). The responsibility for <math alttext="B_{2}" class="ltx_Math" display="inline" id="S4.p3.4.m4.1"><semantics id="S4.p3.4.m4.1a"><msub id="S4.p3.4.m4.1.1" xref="S4.p3.4.m4.1.1.cmml"><mi id="S4.p3.4.m4.1.1.2" xref="S4.p3.4.m4.1.1.2.cmml">B</mi><mn id="S4.p3.4.m4.1.1.3" xref="S4.p3.4.m4.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p3.4.m4.1b"><apply id="S4.p3.4.m4.1.1.cmml" xref="S4.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S4.p3.4.m4.1.1.1.cmml" xref="S4.p3.4.m4.1.1">subscript</csymbol><ci id="S4.p3.4.m4.1.1.2.cmml" xref="S4.p3.4.m4.1.1.2">𝐵</ci><cn id="S4.p3.4.m4.1.1.3.cmml" type="integer" xref="S4.p3.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.4.m4.1c">B_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.p3.4.m4.1d">italic_B start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> cannot be attributed to a specific participant as both participants fail to escape the misunderstanding loop they are in despite rephrasing utterances.
We note here that the <em class="ltx_emph ltx_font_italic" id="S4.p3.5.6">UserSimCRS</em> is imperfect as illustrated in the responsibility distribution of <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.p3.5.m5.1"><semantics id="S4.p3.5.m5.1a"><msub id="S4.p3.5.m5.1.1" xref="S4.p3.5.m5.1.1.cmml"><mi id="S4.p3.5.m5.1.1.2" xref="S4.p3.5.m5.1.1.2.cmml">B</mi><mn id="S4.p3.5.m5.1.1.3" xref="S4.p3.5.m5.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p3.5.m5.1b"><apply id="S4.p3.5.m5.1.1.cmml" xref="S4.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S4.p3.5.m5.1.1.1.cmml" xref="S4.p3.5.m5.1.1">subscript</csymbol><ci id="S4.p3.5.m5.1.1.2.cmml" xref="S4.p3.5.m5.1.1.2">𝐵</ci><cn id="S4.p3.5.m5.1.1.3.cmml" type="integer" xref="S4.p3.5.m5.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.5.m5.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.p3.5.m5.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns.</p>
<ol class="ltx_enumerate" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(I)</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.3">First, we perform conversational breakdown detection with the original version of <em class="ltx_emph ltx_font_italic" id="S4.I1.i1.p1.3.1">IAI MovieBot</em>. For this iteration, we notice that both participants (i.e., <em class="ltx_emph ltx_font_italic" id="S4.I1.i1.p1.3.2">IAI MovieBot</em> and <em class="ltx_emph ltx_font_italic" id="S4.I1.i1.p1.3.3">UserSimCRS</em>) are free of system failure, while a significant number of <math alttext="B_{2}" class="ltx_Math" display="inline" id="S4.I1.i1.p1.1.m1.1"><semantics id="S4.I1.i1.p1.1.m1.1a"><msub id="S4.I1.i1.p1.1.m1.1.1" xref="S4.I1.i1.p1.1.m1.1.1.cmml"><mi id="S4.I1.i1.p1.1.m1.1.1.2" xref="S4.I1.i1.p1.1.m1.1.1.2.cmml">B</mi><mn id="S4.I1.i1.p1.1.m1.1.1.3" xref="S4.I1.i1.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.1.m1.1b"><apply id="S4.I1.i1.p1.1.m1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.1.m1.1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I1.i1.p1.1.m1.1.1.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2">𝐵</ci><cn id="S4.I1.i1.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.I1.i1.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.1.m1.1c">B_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.1.m1.1d">italic_B start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.I1.i1.p1.2.m2.1"><semantics id="S4.I1.i1.p1.2.m2.1a"><msub id="S4.I1.i1.p1.2.m2.1.1" xref="S4.I1.i1.p1.2.m2.1.1.cmml"><mi id="S4.I1.i1.p1.2.m2.1.1.2" xref="S4.I1.i1.p1.2.m2.1.1.2.cmml">B</mi><mn id="S4.I1.i1.p1.2.m2.1.1.3" xref="S4.I1.i1.p1.2.m2.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.2.m2.1b"><apply id="S4.I1.i1.p1.2.m2.1.1.cmml" xref="S4.I1.i1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.2.m2.1.1.1.cmml" xref="S4.I1.i1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.I1.i1.p1.2.m2.1.1.2.cmml" xref="S4.I1.i1.p1.2.m2.1.1.2">𝐵</ci><cn id="S4.I1.i1.p1.2.m2.1.1.3.cmml" type="integer" xref="S4.I1.i1.p1.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.2.m2.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.2.m2.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns are detected. Therefore, we first decide to focus on reducing the number <math alttext="B_{2}" class="ltx_Math" display="inline" id="S4.I1.i1.p1.3.m3.1"><semantics id="S4.I1.i1.p1.3.m3.1a"><msub id="S4.I1.i1.p1.3.m3.1.1" xref="S4.I1.i1.p1.3.m3.1.1.cmml"><mi id="S4.I1.i1.p1.3.m3.1.1.2" xref="S4.I1.i1.p1.3.m3.1.1.2.cmml">B</mi><mn id="S4.I1.i1.p1.3.m3.1.1.3" xref="S4.I1.i1.p1.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.3.m3.1b"><apply id="S4.I1.i1.p1.3.m3.1.1.cmml" xref="S4.I1.i1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.3.m3.1.1.1.cmml" xref="S4.I1.i1.p1.3.m3.1.1">subscript</csymbol><ci id="S4.I1.i1.p1.3.m3.1.1.2.cmml" xref="S4.I1.i1.p1.3.m3.1.1.2">𝐵</ci><cn id="S4.I1.i1.p1.3.m3.1.1.3.cmml" type="integer" xref="S4.I1.i1.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.3.m3.1c">B_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.3.m3.1d">italic_B start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns by modifying <em class="ltx_emph ltx_font_italic" id="S4.I1.i1.p1.3.4">IAI MovieBot</em>.
During the analysis of the simulated conversations, we note that this breakdown often appears when <em class="ltx_emph ltx_font_italic" id="S4.I1.i1.p1.3.5">IAI MovieBot</em> does not understand <em class="ltx_emph ltx_font_italic" id="S4.I1.i1.p1.3.6">UserSimCRS</em> and does not manage to find a way to pick up the conversation, as illustrated in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S4.F6" title="Figure 6 ‣ item (I) ‣ 4. Case Study ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">6</span></a>. Hence, we apply a straightforward modification that consists in <em class="ltx_emph ltx_font_italic" id="S4.I1.i1.p1.3.7">IAI MovieBot</em> proactively restarting the conversation, using a predefined message, when such situation happens.</p>
</div>
<figure class="ltx_figure" id="S4.F6">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" height="710" id="S4.F6.g1" src="extracted/2405.14249v1/figures/example_dod_study.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F6.9.2.1" style="font-size:90%;">Figure 6</span>. </span><span class="ltx_text" id="S4.F6.2.1" style="font-size:90%;">Excerpt of a conversation between <em class="ltx_emph ltx_font_italic" id="S4.F6.2.1.1">UserSimCRS</em> (in green) and <em class="ltx_emph ltx_font_italic" id="S4.F6.2.1.2">IAI MovieBot</em> (in blue) illustrating a <math alttext="B_{2}" class="ltx_Math" display="inline" id="S4.F6.2.1.m1.1"><semantics id="S4.F6.2.1.m1.1b"><msub id="S4.F6.2.1.m1.1.1" xref="S4.F6.2.1.m1.1.1.cmml"><mi id="S4.F6.2.1.m1.1.1.2" xref="S4.F6.2.1.m1.1.1.2.cmml">B</mi><mn id="S4.F6.2.1.m1.1.1.3" xref="S4.F6.2.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.F6.2.1.m1.1c"><apply id="S4.F6.2.1.m1.1.1.cmml" xref="S4.F6.2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.F6.2.1.m1.1.1.1.cmml" xref="S4.F6.2.1.m1.1.1">subscript</csymbol><ci id="S4.F6.2.1.m1.1.1.2.cmml" xref="S4.F6.2.1.m1.1.1.2">𝐵</ci><cn id="S4.F6.2.1.m1.1.1.3.cmml" type="integer" xref="S4.F6.2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F6.2.1.m1.1d">B_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.F6.2.1.m1.1e">italic_B start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> breakdown, i.e., <em class="ltx_emph ltx_font_italic" id="S4.F6.2.1.3">IAI MovieBot</em> does not understand that <em class="ltx_emph ltx_font_italic" id="S4.F6.2.1.4">UserSimCRS</em> asks for an additional recommendation. In the entire conversation, we count the <span class="ltx_text ltx_font_typewriter" id="S4.F6.2.1.5">CANT_HELP</span> intent 12 times in a row.</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S4.F6.10">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.F6.11">Excerpt of a conversation with five utterances from IAI MovieBot and four from UserSimCRS. The number of the utterance and its intent is display below its bubble text. Four out of the five utterances from IAI MovieBot have the intent CANT_HELP.</p>
</div>
</div>
</figure>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(II)</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.3">As expected, during the second iteration, we observe a decrease in the number of <math alttext="B_{2}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.1.m1.1"><semantics id="S4.I1.i2.p1.1.m1.1a"><msub id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml"><mi id="S4.I1.i2.p1.1.m1.1.1.2" xref="S4.I1.i2.p1.1.m1.1.1.2.cmml">B</mi><mn id="S4.I1.i2.p1.1.m1.1.1.3" xref="S4.I1.i2.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b"><apply id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p1.1.m1.1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I1.i2.p1.1.m1.1.1.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2">𝐵</ci><cn id="S4.I1.i2.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.I1.i2.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">B_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.1.m1.1d">italic_B start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns. However, we note that some <math alttext="B_{1}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.2.m2.1"><semantics id="S4.I1.i2.p1.2.m2.1a"><msub id="S4.I1.i2.p1.2.m2.1.1" xref="S4.I1.i2.p1.2.m2.1.1.cmml"><mi id="S4.I1.i2.p1.2.m2.1.1.2" xref="S4.I1.i2.p1.2.m2.1.1.2.cmml">B</mi><mn id="S4.I1.i2.p1.2.m2.1.1.3" xref="S4.I1.i2.p1.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.2.m2.1b"><apply id="S4.I1.i2.p1.2.m2.1.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p1.2.m2.1.1.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1">subscript</csymbol><ci id="S4.I1.i2.p1.2.m2.1.1.2.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2">𝐵</ci><cn id="S4.I1.i2.p1.2.m2.1.1.3.cmml" type="integer" xref="S4.I1.i2.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.2.m2.1c">B_{1}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.2.m2.1d">italic_B start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns are detected in <em class="ltx_emph ltx_font_italic" id="S4.I1.i2.p1.3.1">IAI MovieBot</em>. One possible explanation is that new conversational paths can be explored as <em class="ltx_emph ltx_font_italic" id="S4.I1.i2.p1.3.2">IAI MovieBot</em> is more robust to <math alttext="B_{2}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.3.m3.1"><semantics id="S4.I1.i2.p1.3.m3.1a"><msub id="S4.I1.i2.p1.3.m3.1.1" xref="S4.I1.i2.p1.3.m3.1.1.cmml"><mi id="S4.I1.i2.p1.3.m3.1.1.2" xref="S4.I1.i2.p1.3.m3.1.1.2.cmml">B</mi><mn id="S4.I1.i2.p1.3.m3.1.1.3" xref="S4.I1.i2.p1.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.3.m3.1b"><apply id="S4.I1.i2.p1.3.m3.1.1.cmml" xref="S4.I1.i2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p1.3.m3.1.1.1.cmml" xref="S4.I1.i2.p1.3.m3.1.1">subscript</csymbol><ci id="S4.I1.i2.p1.3.m3.1.1.2.cmml" xref="S4.I1.i2.p1.3.m3.1.1.2">𝐵</ci><cn id="S4.I1.i2.p1.3.m3.1.1.3.cmml" type="integer" xref="S4.I1.i2.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.3.m3.1c">B_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.3.m3.1d">italic_B start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns. After looking at the summary of the breakdowns and the logs, we decide to fix a bug that appears when <em class="ltx_emph ltx_font_italic" id="S4.I1.i2.p1.3.3">IAI MovieBot</em> tries to conclude the conversation.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(III)</span>
<div class="ltx_para" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.4">In this iteration, we observe a decrease in the number of <math alttext="B_{1}" class="ltx_Math" display="inline" id="S4.I1.i3.p1.1.m1.1"><semantics id="S4.I1.i3.p1.1.m1.1a"><msub id="S4.I1.i3.p1.1.m1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.cmml"><mi id="S4.I1.i3.p1.1.m1.1.1.2" xref="S4.I1.i3.p1.1.m1.1.1.2.cmml">B</mi><mn id="S4.I1.i3.p1.1.m1.1.1.3" xref="S4.I1.i3.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.1.m1.1b"><apply id="S4.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i3.p1.1.m1.1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I1.i3.p1.1.m1.1.1.2.cmml" xref="S4.I1.i3.p1.1.m1.1.1.2">𝐵</ci><cn id="S4.I1.i3.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.I1.i3.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.1.m1.1c">B_{1}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.1.m1.1d">italic_B start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns caused by <em class="ltx_emph ltx_font_italic" id="S4.I1.i3.p1.4.1">IAI MovieBot</em>. Interestingly, we find that the number of <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.I1.i3.p1.2.m2.1"><semantics id="S4.I1.i3.p1.2.m2.1a"><msub id="S4.I1.i3.p1.2.m2.1.1" xref="S4.I1.i3.p1.2.m2.1.1.cmml"><mi id="S4.I1.i3.p1.2.m2.1.1.2" xref="S4.I1.i3.p1.2.m2.1.1.2.cmml">B</mi><mn id="S4.I1.i3.p1.2.m2.1.1.3" xref="S4.I1.i3.p1.2.m2.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.2.m2.1b"><apply id="S4.I1.i3.p1.2.m2.1.1.cmml" xref="S4.I1.i3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I1.i3.p1.2.m2.1.1.1.cmml" xref="S4.I1.i3.p1.2.m2.1.1">subscript</csymbol><ci id="S4.I1.i3.p1.2.m2.1.1.2.cmml" xref="S4.I1.i3.p1.2.m2.1.1.2">𝐵</ci><cn id="S4.I1.i3.p1.2.m2.1.1.3.cmml" type="integer" xref="S4.I1.i3.p1.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.2.m2.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.2.m2.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> breakdown also decreases, while <math alttext="B_{2}" class="ltx_Math" display="inline" id="S4.I1.i3.p1.3.m3.1"><semantics id="S4.I1.i3.p1.3.m3.1a"><msub id="S4.I1.i3.p1.3.m3.1.1" xref="S4.I1.i3.p1.3.m3.1.1.cmml"><mi id="S4.I1.i3.p1.3.m3.1.1.2" xref="S4.I1.i3.p1.3.m3.1.1.2.cmml">B</mi><mn id="S4.I1.i3.p1.3.m3.1.1.3" xref="S4.I1.i3.p1.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.3.m3.1b"><apply id="S4.I1.i3.p1.3.m3.1.1.cmml" xref="S4.I1.i3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.I1.i3.p1.3.m3.1.1.1.cmml" xref="S4.I1.i3.p1.3.m3.1.1">subscript</csymbol><ci id="S4.I1.i3.p1.3.m3.1.1.2.cmml" xref="S4.I1.i3.p1.3.m3.1.1.2">𝐵</ci><cn id="S4.I1.i3.p1.3.m3.1.1.3.cmml" type="integer" xref="S4.I1.i3.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.3.m3.1c">B_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.3.m3.1d">italic_B start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns slightly increase. We continue to focus on <math alttext="B_{1}" class="ltx_Math" display="inline" id="S4.I1.i3.p1.4.m4.1"><semantics id="S4.I1.i3.p1.4.m4.1a"><msub id="S4.I1.i3.p1.4.m4.1.1" xref="S4.I1.i3.p1.4.m4.1.1.cmml"><mi id="S4.I1.i3.p1.4.m4.1.1.2" xref="S4.I1.i3.p1.4.m4.1.1.2.cmml">B</mi><mn id="S4.I1.i3.p1.4.m4.1.1.3" xref="S4.I1.i3.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.4.m4.1b"><apply id="S4.I1.i3.p1.4.m4.1.1.cmml" xref="S4.I1.i3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.I1.i3.p1.4.m4.1.1.1.cmml" xref="S4.I1.i3.p1.4.m4.1.1">subscript</csymbol><ci id="S4.I1.i3.p1.4.m4.1.1.2.cmml" xref="S4.I1.i3.p1.4.m4.1.1.2">𝐵</ci><cn id="S4.I1.i3.p1.4.m4.1.1.3.cmml" type="integer" xref="S4.I1.i3.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.4.m4.1c">B_{1}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.4.m4.1d">italic_B start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> breakdown, hence, we fix a new bug discovered when <em class="ltx_emph ltx_font_italic" id="S4.I1.i3.p1.4.2">IAI MovieBot</em> wants to remove a preference from the user model.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(IV)</span>
<div class="ltx_para" id="S4.I1.i4.p1">
<p class="ltx_p" id="S4.I1.i4.p1.5">During this iteration, we do not detect <math alttext="B_{1}" class="ltx_Math" display="inline" id="S4.I1.i4.p1.1.m1.1"><semantics id="S4.I1.i4.p1.1.m1.1a"><msub id="S4.I1.i4.p1.1.m1.1.1" xref="S4.I1.i4.p1.1.m1.1.1.cmml"><mi id="S4.I1.i4.p1.1.m1.1.1.2" xref="S4.I1.i4.p1.1.m1.1.1.2.cmml">B</mi><mn id="S4.I1.i4.p1.1.m1.1.1.3" xref="S4.I1.i4.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.1.m1.1b"><apply id="S4.I1.i4.p1.1.m1.1.1.cmml" xref="S4.I1.i4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i4.p1.1.m1.1.1.1.cmml" xref="S4.I1.i4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I1.i4.p1.1.m1.1.1.2.cmml" xref="S4.I1.i4.p1.1.m1.1.1.2">𝐵</ci><cn id="S4.I1.i4.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.I1.i4.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.1.m1.1c">B_{1}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i4.p1.1.m1.1d">italic_B start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> caused by <em class="ltx_emph ltx_font_italic" id="S4.I1.i4.p1.5.1">IAI MovieBot</em>. This shows that the previous modifications helped to improve its the robustness. Unlike the previous iteration, the number of <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.I1.i4.p1.2.m2.1"><semantics id="S4.I1.i4.p1.2.m2.1a"><msub id="S4.I1.i4.p1.2.m2.1.1" xref="S4.I1.i4.p1.2.m2.1.1.cmml"><mi id="S4.I1.i4.p1.2.m2.1.1.2" xref="S4.I1.i4.p1.2.m2.1.1.2.cmml">B</mi><mn id="S4.I1.i4.p1.2.m2.1.1.3" xref="S4.I1.i4.p1.2.m2.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.2.m2.1b"><apply id="S4.I1.i4.p1.2.m2.1.1.cmml" xref="S4.I1.i4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I1.i4.p1.2.m2.1.1.1.cmml" xref="S4.I1.i4.p1.2.m2.1.1">subscript</csymbol><ci id="S4.I1.i4.p1.2.m2.1.1.2.cmml" xref="S4.I1.i4.p1.2.m2.1.1.2">𝐵</ci><cn id="S4.I1.i4.p1.2.m2.1.1.3.cmml" type="integer" xref="S4.I1.i4.p1.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.2.m2.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i4.p1.2.m2.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns increases, while we detect less <math alttext="B_{2}" class="ltx_Math" display="inline" id="S4.I1.i4.p1.3.m3.1"><semantics id="S4.I1.i4.p1.3.m3.1a"><msub id="S4.I1.i4.p1.3.m3.1.1" xref="S4.I1.i4.p1.3.m3.1.1.cmml"><mi id="S4.I1.i4.p1.3.m3.1.1.2" xref="S4.I1.i4.p1.3.m3.1.1.2.cmml">B</mi><mn id="S4.I1.i4.p1.3.m3.1.1.3" xref="S4.I1.i4.p1.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.3.m3.1b"><apply id="S4.I1.i4.p1.3.m3.1.1.cmml" xref="S4.I1.i4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.I1.i4.p1.3.m3.1.1.1.cmml" xref="S4.I1.i4.p1.3.m3.1.1">subscript</csymbol><ci id="S4.I1.i4.p1.3.m3.1.1.2.cmml" xref="S4.I1.i4.p1.3.m3.1.1.2">𝐵</ci><cn id="S4.I1.i4.p1.3.m3.1.1.3.cmml" type="integer" xref="S4.I1.i4.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.3.m3.1c">B_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i4.p1.3.m3.1d">italic_B start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns.
For the last modification of <em class="ltx_emph ltx_font_italic" id="S4.I1.i4.p1.5.2">IAI MovieBot</em>, we shift our focus towards <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.I1.i4.p1.4.m4.1"><semantics id="S4.I1.i4.p1.4.m4.1a"><msub id="S4.I1.i4.p1.4.m4.1.1" xref="S4.I1.i4.p1.4.m4.1.1.cmml"><mi id="S4.I1.i4.p1.4.m4.1.1.2" xref="S4.I1.i4.p1.4.m4.1.1.2.cmml">B</mi><mn id="S4.I1.i4.p1.4.m4.1.1.3" xref="S4.I1.i4.p1.4.m4.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.4.m4.1b"><apply id="S4.I1.i4.p1.4.m4.1.1.cmml" xref="S4.I1.i4.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.I1.i4.p1.4.m4.1.1.1.cmml" xref="S4.I1.i4.p1.4.m4.1.1">subscript</csymbol><ci id="S4.I1.i4.p1.4.m4.1.1.2.cmml" xref="S4.I1.i4.p1.4.m4.1.1.2">𝐵</ci><cn id="S4.I1.i4.p1.4.m4.1.1.3.cmml" type="integer" xref="S4.I1.i4.p1.4.m4.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.4.m4.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i4.p1.4.m4.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns. The analysis of the simulated conversations from the previous iterations reveals that this type of breakdown can appear when <em class="ltx_emph ltx_font_italic" id="S4.I1.i4.p1.5.3">IAI MovieBot</em> fails to appropriately reply to <em class="ltx_emph ltx_font_italic" id="S4.I1.i4.p1.5.4">UserSimCRS</em>’s utterance accepting a recommendation that is different from the predefined message “I like this recommendation.” Some examples of such utterances are: “Sounds good I like it,” “Sounds good” and “Ok I like this recommendation.” Fig. <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S4.F7" title="Figure 7 ‣ item (IV) ‣ 4. Case Study ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">7</span></a> shows partial conversation flows after a recommendation is made; three out of the five flows observed are not allowed in the interaction model.
Our approach to reduce <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.I1.i4.p1.5.m5.1"><semantics id="S4.I1.i4.p1.5.m5.1a"><msub id="S4.I1.i4.p1.5.m5.1.1" xref="S4.I1.i4.p1.5.m5.1.1.cmml"><mi id="S4.I1.i4.p1.5.m5.1.1.2" xref="S4.I1.i4.p1.5.m5.1.1.2.cmml">B</mi><mn id="S4.I1.i4.p1.5.m5.1.1.3" xref="S4.I1.i4.p1.5.m5.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.5.m5.1b"><apply id="S4.I1.i4.p1.5.m5.1.1.cmml" xref="S4.I1.i4.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.I1.i4.p1.5.m5.1.1.1.cmml" xref="S4.I1.i4.p1.5.m5.1.1">subscript</csymbol><ci id="S4.I1.i4.p1.5.m5.1.1.2.cmml" xref="S4.I1.i4.p1.5.m5.1.1.2">𝐵</ci><cn id="S4.I1.i4.p1.5.m5.1.1.3.cmml" type="integer" xref="S4.I1.i4.p1.5.m5.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.5.m5.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i4.p1.5.m5.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns in the aforementioned situation is to improve the recognition of the <span class="ltx_text ltx_font_typewriter" id="S4.I1.i4.p1.5.5">ACCEPT</span> intent by the natural language understanding component of <em class="ltx_emph ltx_font_italic" id="S4.I1.i4.p1.5.6">IAI MovieBot</em>.</p>
</div>
<figure class="ltx_figure" id="S4.F7">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="143" id="S4.F7.g1" src="extracted/2405.14249v1/figures/flow_discontinuation_error.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F7.5.1.1" style="font-size:90%;">Figure 7</span>. </span><span class="ltx_text" id="S4.F7.6.2" style="font-size:90%;">Partial conversational flows observed in simulated conversations after a recommendation is made by <em class="ltx_emph ltx_font_italic" id="S4.F7.6.2.1">IAI MovieBot</em>. The intent of utterances from <em class="ltx_emph ltx_font_italic" id="S4.F7.6.2.2">IAI MovieBot</em> and <em class="ltx_emph ltx_font_italic" id="S4.F7.6.2.3">UserSimCRS</em> are represented in blue and green, respectively.</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S4.F7.7">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.F7.8">Flowchart representing the agent states observed after the transition RECOMMEND-ACCEPT. The transitions marked with red dash line are forbidden by the interaction model, while the ones in green lines are authorised.</p>
</div>
</div>
</figure>
</li>
<li class="ltx_item" id="S4.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(V)</span>
<div class="ltx_para" id="S4.I1.i5.p1">
<p class="ltx_p" id="S4.I1.i5.p1.3">The addition of new rules, i.e., patterns such as “like it,” “love it,” and “i like this,” to improve the recognition of the <span class="ltx_text ltx_font_typewriter" id="S4.I1.i5.p1.3.1">ACCEPT</span> intent results in a major drop of <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.I1.i5.p1.1.m1.1"><semantics id="S4.I1.i5.p1.1.m1.1a"><msub id="S4.I1.i5.p1.1.m1.1.1" xref="S4.I1.i5.p1.1.m1.1.1.cmml"><mi id="S4.I1.i5.p1.1.m1.1.1.2" xref="S4.I1.i5.p1.1.m1.1.1.2.cmml">B</mi><mn id="S4.I1.i5.p1.1.m1.1.1.3" xref="S4.I1.i5.p1.1.m1.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i5.p1.1.m1.1b"><apply id="S4.I1.i5.p1.1.m1.1.1.cmml" xref="S4.I1.i5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i5.p1.1.m1.1.1.1.cmml" xref="S4.I1.i5.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I1.i5.p1.1.m1.1.1.2.cmml" xref="S4.I1.i5.p1.1.m1.1.1.2">𝐵</ci><cn id="S4.I1.i5.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.I1.i5.p1.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i5.p1.1.m1.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i5.p1.1.m1.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns caused by <em class="ltx_emph ltx_font_italic" id="S4.I1.i5.p1.3.2">IAI MovieBot</em>. However, the number of breakdowns caused by <em class="ltx_emph ltx_font_italic" id="S4.I1.i5.p1.3.3">UserSimCRS</em> increases. Therefore, we update <em class="ltx_emph ltx_font_italic" id="S4.I1.i5.p1.3.4">UserSimCRS</em> with a focus on <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.I1.i5.p1.2.m2.1"><semantics id="S4.I1.i5.p1.2.m2.1a"><msub id="S4.I1.i5.p1.2.m2.1.1" xref="S4.I1.i5.p1.2.m2.1.1.cmml"><mi id="S4.I1.i5.p1.2.m2.1.1.2" xref="S4.I1.i5.p1.2.m2.1.1.2.cmml">B</mi><mn id="S4.I1.i5.p1.2.m2.1.1.3" xref="S4.I1.i5.p1.2.m2.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i5.p1.2.m2.1b"><apply id="S4.I1.i5.p1.2.m2.1.1.cmml" xref="S4.I1.i5.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I1.i5.p1.2.m2.1.1.1.cmml" xref="S4.I1.i5.p1.2.m2.1.1">subscript</csymbol><ci id="S4.I1.i5.p1.2.m2.1.1.2.cmml" xref="S4.I1.i5.p1.2.m2.1.1.2">𝐵</ci><cn id="S4.I1.i5.p1.2.m2.1.1.3.cmml" type="integer" xref="S4.I1.i5.p1.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i5.p1.2.m2.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i5.p1.2.m2.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns, more especially on <em class="ltx_emph ltx_font_italic" id="S4.I1.i5.p1.3.5">UserSimulation</em>’s agenda update.
Originally, an agenda is initialized for the entire conversation and the next action is pulled off when the CRS replies in an expected manner, otherwise it is sampled 
<cite class="ltx_cite ltx_citemacro_citep">(Afzali
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib2" title="">2023</a>)</cite>. However, we find that this could lead to <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.I1.i5.p1.3.m3.1"><semantics id="S4.I1.i5.p1.3.m3.1a"><msub id="S4.I1.i5.p1.3.m3.1.1" xref="S4.I1.i5.p1.3.m3.1.1.cmml"><mi id="S4.I1.i5.p1.3.m3.1.1.2" xref="S4.I1.i5.p1.3.m3.1.1.2.cmml">B</mi><mn id="S4.I1.i5.p1.3.m3.1.1.3" xref="S4.I1.i5.p1.3.m3.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i5.p1.3.m3.1b"><apply id="S4.I1.i5.p1.3.m3.1.1.cmml" xref="S4.I1.i5.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.I1.i5.p1.3.m3.1.1.1.cmml" xref="S4.I1.i5.p1.3.m3.1.1">subscript</csymbol><ci id="S4.I1.i5.p1.3.m3.1.1.2.cmml" xref="S4.I1.i5.p1.3.m3.1.1.2">𝐵</ci><cn id="S4.I1.i5.p1.3.m3.1.1.3.cmml" type="integer" xref="S4.I1.i5.p1.3.m3.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i5.p1.3.m3.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i5.p1.3.m3.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math>, even if <em class="ltx_emph ltx_font_italic" id="S4.I1.i5.p1.3.6">IAI MovieBot</em> responds appropriately. For example, the intent <span class="ltx_text ltx_font_typewriter" id="S4.I1.i5.p1.3.7">REVEAL</span> may be followed by <span class="ltx_text ltx_font_typewriter" id="S4.I1.i5.p1.3.8">ACCEPT</span> in the agenda; yet, it may happen that no results were found after <span class="ltx_text ltx_font_typewriter" id="S4.I1.i5.p1.3.9">REVEAL</span>, in which case it would not make sense to have <span class="ltx_text ltx_font_typewriter" id="S4.I1.i5.p1.3.10">ACCEPT</span> as the user response. Therefore, we update <em class="ltx_emph ltx_font_italic" id="S4.I1.i5.p1.3.11">UserSimCRS</em> such that the the next action is always sampled.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(VI)</span>
<div class="ltx_para" id="S4.I1.i6.p1">
<p class="ltx_p" id="S4.I1.i6.p1.3">In this extra iteration, we observe a minor increase of <math alttext="B_{2}" class="ltx_Math" display="inline" id="S4.I1.i6.p1.1.m1.1"><semantics id="S4.I1.i6.p1.1.m1.1a"><msub id="S4.I1.i6.p1.1.m1.1.1" xref="S4.I1.i6.p1.1.m1.1.1.cmml"><mi id="S4.I1.i6.p1.1.m1.1.1.2" xref="S4.I1.i6.p1.1.m1.1.1.2.cmml">B</mi><mn id="S4.I1.i6.p1.1.m1.1.1.3" xref="S4.I1.i6.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i6.p1.1.m1.1b"><apply id="S4.I1.i6.p1.1.m1.1.1.cmml" xref="S4.I1.i6.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i6.p1.1.m1.1.1.1.cmml" xref="S4.I1.i6.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I1.i6.p1.1.m1.1.1.2.cmml" xref="S4.I1.i6.p1.1.m1.1.1.2">𝐵</ci><cn id="S4.I1.i6.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.I1.i6.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i6.p1.1.m1.1c">B_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i6.p1.1.m1.1d">italic_B start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.I1.i6.p1.2.m2.1"><semantics id="S4.I1.i6.p1.2.m2.1a"><msub id="S4.I1.i6.p1.2.m2.1.1" xref="S4.I1.i6.p1.2.m2.1.1.cmml"><mi id="S4.I1.i6.p1.2.m2.1.1.2" xref="S4.I1.i6.p1.2.m2.1.1.2.cmml">B</mi><mn id="S4.I1.i6.p1.2.m2.1.1.3" xref="S4.I1.i6.p1.2.m2.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i6.p1.2.m2.1b"><apply id="S4.I1.i6.p1.2.m2.1.1.cmml" xref="S4.I1.i6.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I1.i6.p1.2.m2.1.1.1.cmml" xref="S4.I1.i6.p1.2.m2.1.1">subscript</csymbol><ci id="S4.I1.i6.p1.2.m2.1.1.2.cmml" xref="S4.I1.i6.p1.2.m2.1.1.2">𝐵</ci><cn id="S4.I1.i6.p1.2.m2.1.1.3.cmml" type="integer" xref="S4.I1.i6.p1.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i6.p1.2.m2.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i6.p1.2.m2.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns. Interestingly, <math alttext="B_{3}" class="ltx_Math" display="inline" id="S4.I1.i6.p1.3.m3.1"><semantics id="S4.I1.i6.p1.3.m3.1a"><msub id="S4.I1.i6.p1.3.m3.1.1" xref="S4.I1.i6.p1.3.m3.1.1.cmml"><mi id="S4.I1.i6.p1.3.m3.1.1.2" xref="S4.I1.i6.p1.3.m3.1.1.2.cmml">B</mi><mn id="S4.I1.i6.p1.3.m3.1.1.3" xref="S4.I1.i6.p1.3.m3.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i6.p1.3.m3.1b"><apply id="S4.I1.i6.p1.3.m3.1.1.cmml" xref="S4.I1.i6.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.I1.i6.p1.3.m3.1.1.1.cmml" xref="S4.I1.i6.p1.3.m3.1.1">subscript</csymbol><ci id="S4.I1.i6.p1.3.m3.1.1.2.cmml" xref="S4.I1.i6.p1.3.m3.1.1.2">𝐵</ci><cn id="S4.I1.i6.p1.3.m3.1.1.3.cmml" type="integer" xref="S4.I1.i6.p1.3.m3.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i6.p1.3.m3.1c">B_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i6.p1.3.m3.1d">italic_B start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> breakdowns caused by <em class="ltx_emph ltx_font_italic" id="S4.I1.i6.p1.3.1">UserSimCRS</em> are eliminated entirely after our last update.</p>
</div>
</li>
</ol>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T2.8.1.1" style="font-size:90%;">Table 2</span>. </span><span class="ltx_text" id="S4.T2.9.2" style="font-size:90%;">Analysis of conversational paths explored during each iteration. A conversation is deemed successful if at least one recommendation made by the CRS is accepted. Existing and new conversational paths are identified by comparison of conversational paths from the previous and current iterations. The average length of the conversations is calculated based on the number of utterances.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T2.6">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.6.7.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_t" id="S4.T2.6.7.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.6.7.1.2"><span class="ltx_text ltx_font_bold" id="S4.T2.6.7.1.2.1"># Unique conv. path</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.6.7.1.3"><span class="ltx_text ltx_font_bold" id="S4.T2.6.7.1.3.1">Avg. conv. length</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="2" id="S4.T2.6.7.1.4"><span class="ltx_text ltx_font_bold" id="S4.T2.6.7.1.4.1">Existing conv. path</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="2" id="S4.T2.6.7.1.5"><span class="ltx_text ltx_font_bold" id="S4.T2.6.7.1.5.1">New conv. path</span></th>
</tr>
<tr class="ltx_tr" id="S4.T2.6.8.2">
<th class="ltx_td ltx_th ltx_th_row" id="S4.T2.6.8.2.1"></th>
<th class="ltx_td ltx_th ltx_th_column" id="S4.T2.6.8.2.2"></th>
<th class="ltx_td ltx_th ltx_th_column" id="S4.T2.6.8.2.3"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.6.8.2.4">Success</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.6.8.2.5">Not Success</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.6.8.2.6">Success</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.6.8.2.7">Not Success</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.1.1.2">Iteration <span class="ltx_ERROR undefined" id="S4.T2.1.1.2.1">\@slowromancap</span>i@</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3">96</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.1">19.84 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T2.1.1.1.m1.1"><semantics id="S4.T2.1.1.1.m1.1a"><mo id="S4.T2.1.1.1.m1.1.1" xref="S4.T2.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T2.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.m1.1d">±</annotation></semantics></math> 14.45</td>
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.4"></td>
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.5"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.6">66</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.7">34</td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.2.2.2">Iteration <span class="ltx_ERROR undefined" id="S4.T2.2.2.2.1">\@slowromancap</span>ii@</th>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.3">92</td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.1">19.34 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T2.2.2.1.m1.1"><semantics id="S4.T2.2.2.1.m1.1a"><mo id="S4.T2.2.2.1.m1.1.1" xref="S4.T2.2.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.1.m1.1b"><csymbol cd="latexml" id="S4.T2.2.2.1.m1.1.1.cmml" xref="S4.T2.2.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.2.1.m1.1d">±</annotation></semantics></math> 11.02</td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.4">7</td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.5">2</td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.6">59</td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.7">32</td>
</tr>
<tr class="ltx_tr" id="S4.T2.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.3.3.2">Iteration <span class="ltx_ERROR undefined" id="S4.T2.3.3.2.1">\@slowromancap</span>iii@</th>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.3">93</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.1">19.29 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T2.3.3.1.m1.1"><semantics id="S4.T2.3.3.1.m1.1a"><mo id="S4.T2.3.3.1.m1.1.1" xref="S4.T2.3.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.1.m1.1b"><csymbol cd="latexml" id="S4.T2.3.3.1.m1.1.1.cmml" xref="S4.T2.3.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.3.1.m1.1d">±</annotation></semantics></math> 10.87</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.4">5</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.5">7</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.6">55</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.7">33</td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.4.4.2">Iteration <span class="ltx_ERROR undefined" id="S4.T2.4.4.2.1">\@slowromancap</span>iv@</th>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.3">98</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.1">19.42 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T2.4.4.1.m1.1"><semantics id="S4.T2.4.4.1.m1.1a"><mo id="S4.T2.4.4.1.m1.1.1" xref="S4.T2.4.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.1.m1.1b"><csymbol cd="latexml" id="S4.T2.4.4.1.m1.1.1.cmml" xref="S4.T2.4.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.4.1.m1.1d">±</annotation></semantics></math> 12.97</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.4">5</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.5">3</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.6">69</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.7">23</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.5.5.2">Iteration <span class="ltx_ERROR undefined" id="S4.T2.5.5.2.1">\@slowromancap</span>v@</th>
<td class="ltx_td ltx_align_center" id="S4.T2.5.5.3">78</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.5.1">17.6 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T2.5.5.1.m1.1"><semantics id="S4.T2.5.5.1.m1.1a"><mo id="S4.T2.5.5.1.m1.1.1" xref="S4.T2.5.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.1.m1.1b"><csymbol cd="latexml" id="S4.T2.5.5.1.m1.1.1.cmml" xref="S4.T2.5.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T2.5.5.1.m1.1d">±</annotation></semantics></math> 10.77</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.5.4">17</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.5.5">7</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.5.6">56</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.5.7">20</td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b" id="S4.T2.6.6.2">Iteration <span class="ltx_ERROR undefined" id="S4.T2.6.6.2.1">\@slowromancap</span>vi@</th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.6.6.3">76</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.6.6.1">15.04 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T2.6.6.1.m1.1"><semantics id="S4.T2.6.6.1.m1.1a"><mo id="S4.T2.6.6.1.m1.1.1" xref="S4.T2.6.6.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.1.m1.1b"><csymbol cd="latexml" id="S4.T2.6.6.1.m1.1.1.cmml" xref="S4.T2.6.6.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T2.6.6.1.m1.1d">±</annotation></semantics></math> 9.02</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.6.6.4">26</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.6.6.5">4</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.6.6.6">31</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.6.6.7">39</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para ltx_noindent" id="S4.p4">
<p class="ltx_p" id="S4.p4.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#S4.T2" title="Table 2 ‣ 4. Case Study ‣ Identifying Breakdowns in Conversational Recommender Systems using User Simulation"><span class="ltx_text ltx_ref_tag">2</span></a> provides an analysis of the conversational paths explored across different iterations.
We notice that in iterations I–IV there is a large number of number of unique conversational paths explored, which reduces later in iterations V and VI.
Moreover, we see that the length of the conversations follows a similar pattern, i.e., it decreases after iteration IV. While there is no direct explanation for this, one hypothesis is that the modifications applied lead to more direct conversations, that is, less back and forth between the participants to give feedback for a recommendation. Additionally, the high standard deviation of conversation length hints at the diversity of the conversational paths explored.
When examining the success of these conversational paths, i.e., both existing and new paths, we make three main observations.
First, there is a certain overlap between the conversational paths explored from one iteration to the next, but the majority of paths explored are new.
Second, in most cases, more successful conversational paths are kept from one iteration to the next. Indeed, there is a higher proportion of successful paths within the existing ones.
Third, we see that the number of new and unsuccessful paths decreases up until the last iteration. It indicates that the modifications applied to <em class="ltx_emph ltx_font_italic" id="S4.p4.1.1">IAI MovieBot</em> improve its ability to satisfy <em class="ltx_emph ltx_font_italic" id="S4.p4.1.2">UserSimCRS</em>’s needs. However, this is not the case after the update of <em class="ltx_emph ltx_font_italic" id="S4.p4.1.3">UserSimCRS</em> in the last iteration.
The aforementioned observations support the idea that <em class="ltx_emph ltx_font_italic" id="S4.p4.1.4">IAI MovieBot</em> is becoming more robust and better at satisfying <em class="ltx_emph ltx_font_italic" id="S4.p4.1.5">UserSimCRS</em>’s needs with each iteration. Indeed, the modifications applied to <em class="ltx_emph ltx_font_italic" id="S4.p4.1.6">IAI MovieBot</em> lead to the exploration of diverse and new conversational paths, while providing better recommendations in different contexts.</p>
</div>
<div class="ltx_para" id="S4.p5">
<p class="ltx_p" id="S4.p5.1">In summary, this case study demonstrates that our methodology can be used to trace down different types of conversational breakdowns and to make <em class="ltx_emph ltx_font_italic" id="S4.p5.1.1">IAI MovieBot</em> more robust to them in a few iterations.
Indeed, in two iterations (iterations <span class="ltx_ERROR undefined" id="S4.p5.1.2">\@slowromancap</span>ii@ and <span class="ltx_ERROR undefined" id="S4.p5.1.3">\@slowromancap</span>iii@), we eliminate the <em class="ltx_emph ltx_font_italic" id="S4.p5.1.4">system failures</em> caused by <em class="ltx_emph ltx_font_italic" id="S4.p5.1.5">IAI MovieBot</em>. Furthermore, the modifications applied during iterations <span class="ltx_ERROR undefined" id="S4.p5.1.6">\@slowromancap</span>i@ and <span class="ltx_ERROR undefined" id="S4.p5.1.7">\@slowromancap</span>iv@ illustrate that <em class="ltx_emph ltx_font_italic" id="S4.p5.1.8">IAI MovieBot</em> can be improved in a more straightforward manner thanks to the identification of problematic conversational flows.
It is noteworthy that each modification might also affect other types of breakdowns. For example, the modification applied to tackle <em class="ltx_emph ltx_font_italic" id="S4.p5.1.9">system failures</em> in iteration <span class="ltx_ERROR undefined" id="S4.p5.1.10">\@slowromancap</span>iii@ increases the number of <em class="ltx_emph ltx_font_italic" id="S4.p5.1.11">flow discontinuation</em> detected in iteration <span class="ltx_ERROR undefined" id="S4.p5.1.12">\@slowromancap</span>iv@. This can be explained by the fact that after a fix other conversational paths might be explored and new breakdowns can be uncovered.
The analysis of the conversational patterns leading to <em class="ltx_emph ltx_font_italic" id="S4.p5.1.13">flow discontinuation</em> breakdowns shows that <em class="ltx_emph ltx_font_italic" id="S4.p5.1.14">UserSimCRS</em> is responsible for a large number of breakdowns. This highlights that despite being used to evaluate one CRS, the proposed methodology may also benefit the user simulator in parallel to improve its robustness and expose its limitations. Indeed, the last iteration shows that improving the quality of <em class="ltx_emph ltx_font_italic" id="S4.p5.1.15">UserSimCRS</em> affects the results.
We note here that <em class="ltx_emph ltx_font_italic" id="S4.p5.1.16">flow discontinuation</em> breakdowns caused by <em class="ltx_emph ltx_font_italic" id="S4.p5.1.17">IAI MovieBot</em> are still detected, mostly in the situation where <em class="ltx_emph ltx_font_italic" id="S4.p5.1.18">UserSimCRS</em> acknowledges after an utterance from <em class="ltx_emph ltx_font_italic" id="S4.p5.1.19">IAI MovieBot</em>.</p>
</div>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Discussion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">One main concern related to the use of user simulation for the evaluation of CRSs regards its quality; that is, the user simulator is most likely imperfect (e.g., overly simplified user model or context). Indeed, in the case of evaluation, the quality of the user simulation can impact the interpretation of the results obtained as demonstrated in the case study.
Assuming that the user simulator can be controlled or modified (e.g., by updating its source code), it can be developed in parallel with the CRS to reduce the number of breakdowns and enhance its overall quality as previously argued in 
<cite class="ltx_cite ltx_citemacro_citep">(Afzali
et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib2" title="">2023</a>)</cite>.
Having a more robust user simulator can lead to the exploration of new conversational paths, therefore, ensuring a better coverage of breakdown-free interaction space.
We also note that our method would greatly benefit from future advances related to the open challenge of fairly representing all types of users in simulation <cite class="ltx_cite ltx_citemacro_citep">(Balog and Zhai, <a class="ltx_ref" href="https://arxiv.org/html/2405.14249v1#bib.bib7" title="">2023</a>)</cite>. Indeed, the analysis of conversational breakdown detection would be more comprehensive by simulating users outside the target user population as well.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">A discerning reader may also ask the following question: if the dialogue policy is trained using reinforcement learning (RL), which relies on user simulation, what benefits does simulation offer for diagnosis?
Even if the very same user simulator is employed in both cases, it can still serve as a diagnostic tool, ensuring that the dialogue policy has been trained sufficiently to handle various conversational paths effectively.
Nonetheless, there is no requirement to use an identical user simulator.
RL often employs data-driven user simulators, whereas we argue that a model-based simulator is more suitable for our objectives as it provides greater control over user behavior.</p>
</div>
<div class="ltx_para" id="S5.p3">
<p class="ltx_p" id="S5.p3.1">The conversational breakdown detectors described in this work are rather generic and are meant to provide a starting point to illustrate and validate our methodology.
Indeed, these detectors can be used to test any type of CRS agent (i.e., component-based and end-to-end) as long as semantic annotations are available for user and agent utterances.
One could also design new detectors that target more refined breakdowns, do not need semantic annotations, or are more specific to recommendation goals (e.g., recommending a single item vs. a set of items).
A possible approach to develop these new detectors is to exploit previous observations/feedback from experts, beta testers, or users (if the CRS is deployed). Then, one can devise heuristics to capture the identified issues automatically. For example, if a CRS works with slot-value pairs to represent preferences and the natural language understanding component shows some imperfections, a naive conversational breakdown could be the CRS asking preferences for the same slot over and over.</p>
</div>
<div class="ltx_para" id="S5.p4">
<p class="ltx_p" id="S5.p4.1">A major advantage of our methodology is that it is generic and can be used with any CRS architecture.
There are, however, differences across CRSs in how the detected breakdowns may be addressed. In case of component-based systems, the dialogue policy (or its equivalent that is responsible for the conversational behavior of the system) needs to be changed directly; in a rule-based system this entails updating the source code, while in an RL-based system with a learned policy, it requires a re-training of the policy with an updated user simulator. As for end-to-end systems, where the system’s behavior cannot be controlled directly but only via the training examples it is exposed to, addressing breakdowns might require the collection of new training examples (possibly with the help of user simulation) with the desired system behavior.</p>
</div>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this work, we have proposed a methodology that leverages user simulation to identify breakdowns in conversational recommender systems.
It consists of the definition of conversational breakdowns and the implementation of their associated detectors. These detectors extract conversational paths (i.e., sequence of dialogue intents) leading to the related breakdowns.
The detection of breakdowns is performed on a sample of conversations between the conversational recommender system (CRS) and user simulator (US). We capitalize on the fact that user simulation is a fast and cheap way of collecting a large sample of conversations to be analyzed.
The methodology can be used as a diagnostic or a development tool. In the latter case, one can iteratively improve the CRS to reduce the number of breakdowns, thereby making it more robust.
We have demonstrated this in a case study with an existing CRS and US. Indeed, in five iterations, we have successfully removed all <em class="ltx_emph ltx_font_italic" id="S6.p1.1.1">system failures</em> caused by the CRS and drastically reduced the number of other types of breakdowns.
The case study also highlights the fact that the US is imperfect and may be responsible for some portion of the conversational breakdowns detected. In an extra iteration, we have shown that the methodology can also be used to improve the robustness of the US in parallel with the CRS.</p>
</div>
<div class="ltx_para" id="S6.p2">
<p class="ltx_p" id="S6.p2.1">Future directions include the application of our method to other CRSs and USs to ensure its adaptability.
Furthermore, new conversational breakdown detectors can be created to provide a more extensive test of the CRS. This could include, for example, the detection of off-topic utterances that can disrupt the flow of the conversation.</p>
</div>
<div class="ltx_acknowledgements">
<h6 class="ltx_title ltx_title_acknowledgements">Acknowledgements.</h6>
This research was supported by the Norwegian Research Center for AI Innovation, NorwAI (Research Council of Norway, project number 309834).

</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Afzali
et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Jafar Afzali,
Aleksander Mark Drzewiecki, Krisztian
Balog, and Shuo Zhang. 2023.

</span>
<span class="ltx_bibblock">UserSimCRS: A User Simulation Toolkit for
Evaluating Conversational Recommender Systems. In
<em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">Proceedings of the Sixteenth ACM International
Conference on Web Search and Data Mining</em> <em class="ltx_emph ltx_font_italic" id="bib.bib2.4.2">(WSDM
’23)</em>. 1160–1163.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Alloatti et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Francesca Alloatti,
Francesca Grasso, Roger Ferrod,
Giovanni Siragusa, Luigi Di Caro, and
Federica Cena. 2024.

</span>
<span class="ltx_bibblock">A tag-based methodology for the detection of user
repair strategies in task-oriented conversational agents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">Computer Speech &amp; Language</em>
86 (2024), 101603.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ardissono
et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2004)</span>
<span class="ltx_bibblock">
Liliana Ardissono,
Giovanna Petrone, and Marino Segnan.
2004.

</span>
<span class="ltx_bibblock">A Conversational Approach to the Interaction With
Web Services.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">Computational Intelligence</em>
20, 4 (2004),
693–709.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ashktorab
et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Zahra Ashktorab, Mohit
Jain, Q. Vera Liao, and Justin D.
Weisz. 2019.

</span>
<span class="ltx_bibblock">Resilient Chatbots: Repair Strategy Preferences for
Conversational Breakdowns. In <em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">Proceedings of the
2019 CHI Conference on Human Factors in Computing Systems</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib5.4.2">(CHI ’19)</em>. 1–12.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Avdic and
Vermeulen (2021)</span>
<span class="ltx_bibblock">
Mirzel Avdic and Jo
Vermeulen. 2021.

</span>
<span class="ltx_bibblock">Intelligibility Issues Faced by Smart Speaker
Enthusiasts in Understanding What Their Devices Do and Why. In
<em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Proceedings of the 32nd Australian Conference on
Human-Computer Interaction</em> <em class="ltx_emph ltx_font_italic" id="bib.bib6.2.2">(OzCHI ’20)</em>.
314––328.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Balog and Zhai (2023)</span>
<span class="ltx_bibblock">
Krisztian Balog and
ChengXiang Zhai. 2023.

</span>
<span class="ltx_bibblock">User Simulation for Evaluating Information Access
Systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv</em> cs.HC/2306.08550
(2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Beneteau et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Erin Beneteau, Olivia K.
Richards, Mingrui Zhang, Julie A.
Kientz, Jason Yip, and Alexis
Hiniker. 2019.

</span>
<span class="ltx_bibblock">Communication Breakdowns Between Families and
Alexa. In <em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">Proceedings of the 2019 CHI Conference
on Human Factors in Computing Systems</em> <em class="ltx_emph ltx_font_italic" id="bib.bib8.4.2">(CHI ’19)</em>.
1––13.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Benner et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Dennis Benner, Edona
Elshan, Sofia Schöbel, and Andreas
Janson. 2021.

</span>
<span class="ltx_bibblock">What do you mean? A review on recovery strategies
to overcome conversational breakdowns of conversational agents. In
<em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">International Conference on Information Systems</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib9.4.2">(ICIS ’17)</em>. 1–17.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brabra et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Hayet Brabra, Marcos
Báez, Boualem Benatallah, Walid
Gaaloul, Sara Bouguelia, and Shayan
Zamanirad. 2022.

</span>
<span class="ltx_bibblock">Dialogue Management in Conversational Systems: A
Review of Approaches, Challenges, and Opportunities.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">IEEE Transactions on Cognitive and
Developmental Systems</em> 14, 3
(2022), 783–798.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Clausen et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Mikkel Clausen,
Mikkel Peter Kyhn, Eleftherios
Papachristos, and Timothy Merritt.
2023.

</span>
<span class="ltx_bibblock">Exploring Humor as a Repair Strategy During
Communication Breakdowns with Voice Assistants. In
<em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">Proceedings of the 5th International Conference on
Conversational User Interfaces</em> <em class="ltx_emph ltx_font_italic" id="bib.bib11.4.2">(CUI ’23)</em>.
1–9.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Eckert
et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (1997)</span>
<span class="ltx_bibblock">
W. Eckert, E. Levin,
and R. Pieraccini. 1997.

</span>
<span class="ltx_bibblock">User modeling for spoken dialogue system
evaluation. In <em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">1997 IEEE Workshop on Automatic
Speech Recognition and Understanding Proceedings</em>. 80–87.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao
et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Chongming Gao, Wenqiang
Lei, Xiangnan He, Maarten de Rijke,
and Tat-Seng Chua. 2021.

</span>
<span class="ltx_bibblock">Advances and challenges in conversational
recommender systems: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">AI Open</em> 2
(2021), 100–126.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Griol
et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2013)</span>
<span class="ltx_bibblock">
David Griol, Javier
Carbó, and José M. Molina.
2013.

</span>
<span class="ltx_bibblock">An Automatic Dialog Simulation Technique to Develop
and Evaluate Interactive Conversational Agents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">Applied Artificial Intelligence</em>
27, 9 (2013),
759–780.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Habib
et al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Javeria Habib, Shuo
Zhang, and Krisztian Balog.
2020.

</span>
<span class="ltx_bibblock">IAI MovieBot: A Conversational Movie Recommender
System. In <em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">Proceedings of the 29th ACM
International Conference on Information &amp; Knowledge Management</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib15.4.2">(CIKM ’20)</em>. 3405–3408.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Higashinaka et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Ryuichiro Higashinaka,
Masahiro Araki, Hiroshi Tsukahara, and
Masahiro Mizukami. 2021.

</span>
<span class="ltx_bibblock">Integrated taxonomy of errors in chat-oriented
dialogue systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">Proceedings of the 22nd
Annual Meeting of the Special Interest Group on Discourse and Dialogue</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib16.4.2">(SIGDIAL ’21)</em>. 89–98.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Higashinaka et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2015)</span>
<span class="ltx_bibblock">
Ryuichiro Higashinaka,
Kotaro Funakoshi, Masahiro Araki,
Hiroshi Tsukahara, Yuka Kobayashi, and
Masahiro Mizukami. 2015.

</span>
<span class="ltx_bibblock">Towards Taxonomy of Errors in Chat-oriented
Dialogue Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">Proceedings of the 16th
Annual Meeting of the Special Interest Group on Discourse and Dialogue</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib17.4.2">(SIGDIAL ’15)</em>. 87–95.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Higashinaka et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Ryuichiro Higashinaka,
Kotaro Funakoshi, Yuka Kobayashi, and
Michimasa Inaba. 2016.

</span>
<span class="ltx_bibblock">The dialogue breakdown detection challenge: Task
description, datasets, and evaluation metrics. In
<em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">Proceedings of the Tenth International Conference
on Language Resources and Evaluation</em> <em class="ltx_emph ltx_font_italic" id="bib.bib18.4.2">(LREC ’16)</em>.
3146–3150.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hori et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Chiori Hori, Julien
Perez, Ryuichiro Higashinaka, Takaaki
Hori, Y-Lan Boureau, Michimasa Inaba,
Yuiko Tsunomori, Tetsuro Takahashi,
Koichiro Yoshino, and Seokhwan Kim.
2019.

</span>
<span class="ltx_bibblock">Overview of the sixth dialog system technology
challenge: DSTC6.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">Computer Speech &amp; Language</em>
55 (2019), 1–25.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jain
et al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Mohit Jain, Pratyush
Kumar, Ramachandra Kota, and Shwetak N.
Patel. 2018.

</span>
<span class="ltx_bibblock">Evaluating and Informing the Design of Chatbots.
In <em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">Proceedings of the 2018 Designing Interactive
Systems Conference</em> <em class="ltx_emph ltx_font_italic" id="bib.bib20.4.2">(DIS ’18)</em>.
895–906.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jannach
et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Dietmar Jannach, Ahtsham
Manzoor, Wanling Cai, and Li Chen.
2021.

</span>
<span class="ltx_bibblock">A Survey on Conversational Recommender Systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">ACM Computing Survey</em> 54,
5 (2021), 1–36.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kreyssig et al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Florian Kreyssig,
Iñigo Casanueva, Paweł
Budzianowski, and Milica Gašić.
2018.

</span>
<span class="ltx_bibblock">Neural User Simulation for Corpus-based Policy
Optimisation of Spoken Dialogue Systems. In
<em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">Proceedings of the 19th Annual SIGdial Meeting on
Discourse and Dialogue</em> <em class="ltx_emph ltx_font_italic" id="bib.bib22.4.2">(SIGDIAL ’18)</em>.
60–69.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lee et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2010)</span>
<span class="ltx_bibblock">
Min Kyung Lee, Sara
Kielser, Jodi Forlizzi, Siddhartha
Srinivasa, and Paul Rybski.
2010.

</span>
<span class="ltx_bibblock">Gracefully Mitigating Breakdowns in Robotic
Services. In <em class="ltx_emph ltx_font_italic" id="bib.bib23.3.1">Proceedings of the 5th ACM/IEEE
International Conference on Human-Robot Interaction</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib23.4.2">(HRI ’10)</em>. 203–210.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lei
et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Wenqiang Lei, Xiangnan
He, Yisong Miao, Qingyun Wu,
Richang Hong, Min-Yen Kan, and
Tat-Seng Chua. 2020.

</span>
<span class="ltx_bibblock">Estimation-Action-Reflection: Towards Deep
Interaction Between Conversational and Recommender Systems. In
<em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">Proceedings of the 13th International Conference on
Web Search and Data Mining</em> <em class="ltx_emph ltx_font_italic" id="bib.bib24.4.2">(WSDM ’20)</em>.
304–312.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Hsien-chin Lin, Nurul
Lubis, Songbo Hu, Carel van Niekerk,
Christian Geishauser, Michael Heck,
Shutong Feng, and Milica Gasic.
2021.

</span>
<span class="ltx_bibblock">Domain-independent User Simulation with
Transformers for Task-oriented Dialogue Systems. In
<em class="ltx_emph ltx_font_italic" id="bib.bib25.3.1">Proceedings of the 22nd Annual Meeting of the
Special Interest Group on Discourse and Dialogue</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib25.4.2">(SIGDIAL ’21)</em>. 445–456.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lopes (2017)</span>
<span class="ltx_bibblock">
José Lopes.
2017.

</span>
<span class="ltx_bibblock">How generic can dialogue breakdown detection be?
the kth entry to dbdc3. In <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">Proceedings of dialog
system technology challenge</em> <em class="ltx_emph ltx_font_italic" id="bib.bib26.2.2">(DSTC6)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mahmood and Ricci (2009)</span>
<span class="ltx_bibblock">
Tariq Mahmood and
Francesco Ricci. 2009.

</span>
<span class="ltx_bibblock">Improving Recommender Systems with Adaptive
Conversational Strategies. In <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Proceedings of the
20th ACM Conference on Hypertext and Hypermedia</em> <em class="ltx_emph ltx_font_italic" id="bib.bib27.2.2">(HT
’09)</em>. 73–82.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Möller et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2007)</span>
<span class="ltx_bibblock">
Sebastian Möller,
Klaus-Peter Engelbrecht, and Antti
Oulasvirta. 2007.

</span>
<span class="ltx_bibblock">Analysis of Communication Failures for Spoken
Dialogue Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">INTERSPEECH 2007,
International Speech Communication Association (ISCA)</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib28.4.2">(INTERSPEECH ’07)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Möller et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2006)</span>
<span class="ltx_bibblock">
Sebastian Möller,
Roman Englert, Klaus-Peter Engelbrecht,
Verena Vanessa Hafner, Anthony Jameson,
Antti Oulasvirta, Alexander Raake, and
Norbert Reithinger. 2006.

</span>
<span class="ltx_bibblock">Memo: Towards automatic usability evaluation of
spoken dialogue services by user error simulations.. In
<em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">INTERSPEECH 2006 - ICSLP, Ninth International
Conference on Spoken Language Processing</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib29.4.2">(INTERSPEECH ’06)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Oulasvirta et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2006)</span>
<span class="ltx_bibblock">
Antti Oulasvirta,
Klaus-Peter Engelbrecht, Anthony Jameson,
and Sebastian Möller.
2006.

</span>
<span class="ltx_bibblock">The relationship between user errors and perceived
usability of a spoken dialogue system <em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">(PQS ’06)</em>.
61–67.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schatzmann et al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2007)</span>
<span class="ltx_bibblock">
Jost Schatzmann, Blaise
Thomson, Karl Weilhammer, Hui Ye, and
Steve Young. 2007.

</span>
<span class="ltx_bibblock">Agenda-Based User Simulation for Bootstrapping a
POMDP Dialogue System. In <em class="ltx_emph ltx_font_italic" id="bib.bib31.3.1">Human Language
Technologies 2007: The Conference of the North American Chapter of the
Association for Computational Linguistics; Companion Volume, Short Papers</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib31.4.2">(NAACL ’07)</em>. 149–152.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schatzmann et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2006)</span>
<span class="ltx_bibblock">
Jost Schatzmann, Karl
Weilhammer, Matt Stuttle, and Steve
Young. 2006.

</span>
<span class="ltx_bibblock">A survey of statistical user simulation techniques
for reinforcement-learning of dialogue management strategies.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">The Knowledge Engineering Review</em>
21, 2 (2006),
97–126.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Scheffler and
Young (2001)</span>
<span class="ltx_bibblock">
Konrad Scheffler and
Steve Young. 2001.

</span>
<span class="ltx_bibblock">Corpus-based dialogue simulation for automatic
strategy learning and evaluation. In <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Proceedings
of NAACL Workshop on Adaptation in Dialogue Systems</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib33.2.2">(NAACL ’01)</em>. 64–70.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun and Zhang (2018)</span>
<span class="ltx_bibblock">
Yueming Sun and Yi
Zhang. 2018.

</span>
<span class="ltx_bibblock">Conversational Recommender System. In
<em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">The 41st International ACM SIGIR Conference on
Research &amp; Development in Information Retrieval</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib34.2.2">(SIGIR ’18)</em>. 235–244.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Terragni et al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Silvia Terragni, Bruna
Guedes, Andre Manso, Modestas
Filipavicius, Nghia Khau, and Roland
Mathis. 2022.

</span>
<span class="ltx_bibblock">BETOLD: A Task-Oriented Dialog Dataset for
Breakdown Detection. In <em class="ltx_emph ltx_font_italic" id="bib.bib35.3.1">Proceedings of the Second
Workshop on When Creative AI Meets Conversational AI</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib35.4.2">(CAI ’22)</em>. 23–34.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tseng
et al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Bo-Hsiang Tseng, Yinpei
Dai, Florian Kreyssig, and Bill
Byrne. 2021.

</span>
<span class="ltx_bibblock">Transferable Dialogue Systems and User Simulators.
In <em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">Proceedings of the 59th Annual Meeting of the
Association for Computational Linguistics and the 11th International Joint
Conference on Natural Language Processing (Volume 1: Long Papers)</em>.
152–166.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang
et al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Xiaolei Wang, Xinyu Tang,
Wayne Xin Zhao, Jingyuan Wang, and
Ji-Rong Wen. 2023.

</span>
<span class="ltx_bibblock">Rethinking the Evaluation for Conversational
Recommendation in the Era of Large Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">arXiv</em> cs.CL/2305.13112
(2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wärnestål (2005)</span>
<span class="ltx_bibblock">
Pontus Wärnestål.
2005.

</span>
<span class="ltx_bibblock">Modeling a dialogue strategy for personalized movie
recommendations. In <em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">Beyond Personalization
Workshop</em>. 77–82.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang and Balog (2020)</span>
<span class="ltx_bibblock">
Shuo Zhang and Krisztian
Balog. 2020.

</span>
<span class="ltx_bibblock">Evaluating Conversational Recommender Systems via
User Simulation. In <em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">Proceedings of the 26th ACM
SIGKDD International Conference on Knowledge Discovery &amp; Data Mining</em>
<em class="ltx_emph ltx_font_italic" id="bib.bib39.2.2">(KDD ’20)</em>. 1512–1520.

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri May 24 14:40:57 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
