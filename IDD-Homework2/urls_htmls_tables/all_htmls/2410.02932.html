<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc.</title>
<!--Generated on Thu Oct  3 19:23:49 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2410.02932v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S1" title="In Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>INTRODUCTION</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S2" title="In Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>PRELIMINARIES</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S3" title="In Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>OVERALL PERFORMANCE INDEX</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4" title="In Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>EVALUATION</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.SS1" title="In 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Intrinsic Evaluation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.SS2" title="In 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Extrinsic Evaluation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.SS3" title="In 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Combining Multiple Retrievers</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S5" title="In Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>ANALYSIS</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S5.SS1" title="In 5 ANALYSIS ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Individual Retrievers</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S5.SS1.SSS1" title="In 5.1 Individual Retrievers ‣ 5 ANALYSIS ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1.1 </span>Individual logical relation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S5.SS1.SSS2" title="In 5.1 Individual Retrievers ‣ 5 ANALYSIS ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1.2 </span>Across all logical relations</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S5.SS2" title="In 5 ANALYSIS ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Performance of Various Combinations</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S5.SS2.SSS1" title="In 5.2 Performance of Various Combinations ‣ 5 ANALYSIS ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2.1 </span>Combinations vs. individuals</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S5.SS2.SSS2" title="In 5.2 Performance of Various Combinations ‣ 5 ANALYSIS ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2.2 </span>Combining algorithms vs. combining sentences</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S6" title="In Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>FINAL REMARKS</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Intrinsic Evaluation of RAG Systems for Deep-Logic Questions<span class="ltx_note ltx_role_thanks" id="id7.id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">thanks: </span>This work was supported in part by Librum Technologies, Inc.</span></span></span>
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Junyi (Edward) Hu
<img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="id1.1.g1" src="x1.png" width="16"/>
, You Zhou
<img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="id3.3.g2" src="x2.png" width="16"/>
 and Jie Wang
<img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="id5.5.g3" src="x3.png" width="16"/>
<br class="ltx_break"/>
<span class="ltx_inline-block ltx_minipage ltx_align_top" id="id8.7.id1" style="width:448.1pt;">
<span class="ltx_p" id="id8.7.id1.1"><span class="ltx_text ltx_font_italic" id="id8.7.id1.1.1">Miner School of Computer &amp; Information Sciences, University of Massachusetts, Lowell, MA, USA</span></span>
</span>
<br class="ltx_break"/>{<span class="ltx_text ltx_font_italic" id="id9.8.id2">junyi_hu, you_zhou1</span>}<span class="ltx_text ltx_font_italic" id="id10.9.id3">@student.uml.edu, jie_wang@uml.edu</span>
<br class="ltx_break"/>
</span><span class="ltx_author_notes"><img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="id2.2.g1" src="x4.png" width="16"/> https://orcid.org/0000-0001-8524-0123<img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="id4.4.g1" src="x5.png" width="16"/> https://orcid.org/0009-0005-0919-5793<img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="16" id="id6.6.g1" src="x6.png" width="16"/> https://orcid.org/0000-0003-1483-2783</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id11.id1">We introduce the Overall Performance Index (OPI), an intrinsic metric to evaluate retrieval-augmented generation (RAG) mechanisms for applications involving deep-logic queries. OPI is computed as the harmonic mean of two key metrics: the Logical-Relation Correctness Ratio and the average of BERT embedding similarity scores between ground-truth and generated answers.
We apply OPI to assess the performance of LangChain, a popular RAG tool, using a logical relations classifier fine-tuned from GPT-4o on the RAG-Dataset-12000 from Hugging Face. Our findings show a strong correlation between BERT embedding similarity scores and extrinsic evaluation scores. Among the commonly used retrievers, the cosine similarity retriever using BERT-based embeddings outperforms others, while the Euclidean distance-based retriever exhibits the weakest performance. Furthermore, we demonstrate that combining multiple retrievers, either algorithmically or by merging retrieved sentences, yields superior performance compared to using any single retriever alone.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>INTRODUCTION</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">A RAG system typically consists of two major components: Indexing and Retrieval.
The former is responsible for indexing a reference text document before any queries are made to it.
The latter is responsible for retrieving relevant data from the indexed document in response to a query and passing that information, along with the query, to a large language model (LLM) to generate an answer.
The Retrieval component is typically a framework that supports a variety of retrieval methods, each referred to as a retriever.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">To assess the effectiveness of a retriever in uncovering the logical relationship for an answer to a query with respect to the reference document, we introduce the Overall Performance Index (OPI). This metric measures both the correctness of the answers generated by an LLM and the accuracy of the logical relations produced by a classifier. The OPI is calculated as the harmonic mean of the BERT embedding similarity between ground-truth and generated answers, and the logical-relation correctness ratio.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">To demonstrate the effectiveness of the OPI metric, we use the RAG-Dataset-12000 provided by Hugging Face <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx8" title="">D.H., 2024</a>]</cite> as the training and testing dataset. We fine-tune GPT-4o to construct a classifier to generate logical relations between a query and an answer, with respect to the reference document.
We then evaluate LangChain <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx11" title="">LangChain, 2024</a>]</cite>, a popular RAG tool, with seven common retrievers, extracting relevant sentences from the reference document for each query. Using GPT-4o as the underlying LLM, we generate an answer to the query and use the fine-tuned GPT-4o classifier to generate a logical relation.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">To rank retrievers, we calculate the average OPI score across all 13 logical relations provided in RAG-Dataset-12000.
We then use OPI to analyze the strengths and weaknesses of individual retrievers.
Moreover, we demonstrate that several variations of combining multiple retrievers, either algorithmically or by merging retrieved sentences, outperform a single retriever alone.
</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>PRELIMINARIES</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">The technique of RAG was introduced by Lewis et al. (2020) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx13" title="">Lewis et al., 2020</a>]</cite>
a few years before the widespread adoption of LLMs.
The performance of a RAG system relies on the quality of the underlying retriever and the ability of the underlying LLM.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">LangChain is a popular RAG tool, which divides a reference document into overlapping text chunks of equal size. The suffix of each chunk overlaps with the prefix of the next.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">To the best of our knowledge, no previous research has comprehensively evaluated the performance of RAG systems in the context of deep-logic question answering.</p>
</div>
<div class="ltx_para" id="S2.p4">
<p class="ltx_p" id="S2.p4.1">Given below are seven common sentence retrievers supported by LangChain:</p>
</div>
<div class="ltx_para" id="S2.p5">
<p class="ltx_p" id="S2.p5.1"><span class="ltx_text ltx_font_bold" id="S2.p5.1.1">DPS</span> (dot-product similarity) converts a query and a text chunk as BERT-based <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx7" title="">Devlin et al., 2018</a>]</cite> embedding vectors and compute their dot product as a similarity score. It returns <math alttext="k" class="ltx_Math" display="inline" id="S2.p5.1.m1.1"><semantics id="S2.p5.1.m1.1a"><mi id="S2.p5.1.m1.1.1" xref="S2.p5.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p5.1.m1.1b"><ci id="S2.p5.1.m1.1.1.cmml" xref="S2.p5.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p5.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p5.1.m1.1d">italic_k</annotation></semantics></math> chunks with the highest scores to the query.
(DPS in LangChain is referred to as Cosine Similarity.)</p>
</div>
<div class="ltx_para" id="S2.p6">
<p class="ltx_p" id="S2.p6.2"><span class="ltx_text ltx_font_bold" id="S2.p6.2.1">kNN</span> (<math alttext="k" class="ltx_Math" display="inline" id="S2.p6.1.m1.1"><semantics id="S2.p6.1.m1.1a"><mi id="S2.p6.1.m1.1.1" xref="S2.p6.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p6.1.m1.1b"><ci id="S2.p6.1.m1.1.1.cmml" xref="S2.p6.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p6.1.m1.1d">italic_k</annotation></semantics></math>-Nearest Neighbors) in LangChain is the normalized dot-product similarity by the L2-norm, which is widely referred to as the cosine similarity. It returns <math alttext="k" class="ltx_Math" display="inline" id="S2.p6.2.m2.1"><semantics id="S2.p6.2.m2.1a"><mi id="S2.p6.2.m2.1.1" xref="S2.p6.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p6.2.m2.1b"><ci id="S2.p6.2.m2.1.1.cmml" xref="S2.p6.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p6.2.m2.1d">italic_k</annotation></semantics></math> chunks with the highest cosine similarity scores to the query.</p>
</div>
<div class="ltx_para" id="S2.p7">
<p class="ltx_p" id="S2.p7.12"><span class="ltx_text ltx_font_bold" id="S2.p7.12.1">BM25</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx16" title="">Robertson and Zaragoza, 2009</a>]</cite> is a probabilistic information retrieval model that ranks documents based on the term frequency in a chunk and the inverse chunk frequency in the reference document. Let <math alttext="q" class="ltx_Math" display="inline" id="S2.p7.1.m1.1"><semantics id="S2.p7.1.m1.1a"><mi id="S2.p7.1.m1.1.1" xref="S2.p7.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.p7.1.m1.1b"><ci id="S2.p7.1.m1.1.1.cmml" xref="S2.p7.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S2.p7.1.m1.1d">italic_q</annotation></semantics></math> be a query, <math alttext="T" class="ltx_Math" display="inline" id="S2.p7.2.m2.1"><semantics id="S2.p7.2.m2.1a"><mi id="S2.p7.2.m2.1.1" xref="S2.p7.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S2.p7.2.m2.1b"><ci id="S2.p7.2.m2.1.1.cmml" xref="S2.p7.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.2.m2.1c">T</annotation><annotation encoding="application/x-llamapun" id="S2.p7.2.m2.1d">italic_T</annotation></semantics></math> a chunk of text, <math alttext="f(t_{i},T)" class="ltx_Math" display="inline" id="S2.p7.3.m3.2"><semantics id="S2.p7.3.m3.2a"><mrow id="S2.p7.3.m3.2.2" xref="S2.p7.3.m3.2.2.cmml"><mi id="S2.p7.3.m3.2.2.3" xref="S2.p7.3.m3.2.2.3.cmml">f</mi><mo id="S2.p7.3.m3.2.2.2" xref="S2.p7.3.m3.2.2.2.cmml">⁢</mo><mrow id="S2.p7.3.m3.2.2.1.1" xref="S2.p7.3.m3.2.2.1.2.cmml"><mo id="S2.p7.3.m3.2.2.1.1.2" stretchy="false" xref="S2.p7.3.m3.2.2.1.2.cmml">(</mo><msub id="S2.p7.3.m3.2.2.1.1.1" xref="S2.p7.3.m3.2.2.1.1.1.cmml"><mi id="S2.p7.3.m3.2.2.1.1.1.2" xref="S2.p7.3.m3.2.2.1.1.1.2.cmml">t</mi><mi id="S2.p7.3.m3.2.2.1.1.1.3" xref="S2.p7.3.m3.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S2.p7.3.m3.2.2.1.1.3" xref="S2.p7.3.m3.2.2.1.2.cmml">,</mo><mi id="S2.p7.3.m3.1.1" xref="S2.p7.3.m3.1.1.cmml">T</mi><mo id="S2.p7.3.m3.2.2.1.1.4" stretchy="false" xref="S2.p7.3.m3.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p7.3.m3.2b"><apply id="S2.p7.3.m3.2.2.cmml" xref="S2.p7.3.m3.2.2"><times id="S2.p7.3.m3.2.2.2.cmml" xref="S2.p7.3.m3.2.2.2"></times><ci id="S2.p7.3.m3.2.2.3.cmml" xref="S2.p7.3.m3.2.2.3">𝑓</ci><interval closure="open" id="S2.p7.3.m3.2.2.1.2.cmml" xref="S2.p7.3.m3.2.2.1.1"><apply id="S2.p7.3.m3.2.2.1.1.1.cmml" xref="S2.p7.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.p7.3.m3.2.2.1.1.1.1.cmml" xref="S2.p7.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S2.p7.3.m3.2.2.1.1.1.2.cmml" xref="S2.p7.3.m3.2.2.1.1.1.2">𝑡</ci><ci id="S2.p7.3.m3.2.2.1.1.1.3.cmml" xref="S2.p7.3.m3.2.2.1.1.1.3">𝑖</ci></apply><ci id="S2.p7.3.m3.1.1.cmml" xref="S2.p7.3.m3.1.1">𝑇</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.3.m3.2c">f(t_{i},T)</annotation><annotation encoding="application/x-llamapun" id="S2.p7.3.m3.2d">italic_f ( italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_T )</annotation></semantics></math> the frequency of term <math alttext="t_{i}" class="ltx_Math" display="inline" id="S2.p7.4.m4.1"><semantics id="S2.p7.4.m4.1a"><msub id="S2.p7.4.m4.1.1" xref="S2.p7.4.m4.1.1.cmml"><mi id="S2.p7.4.m4.1.1.2" xref="S2.p7.4.m4.1.1.2.cmml">t</mi><mi id="S2.p7.4.m4.1.1.3" xref="S2.p7.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p7.4.m4.1b"><apply id="S2.p7.4.m4.1.1.cmml" xref="S2.p7.4.m4.1.1"><csymbol cd="ambiguous" id="S2.p7.4.m4.1.1.1.cmml" xref="S2.p7.4.m4.1.1">subscript</csymbol><ci id="S2.p7.4.m4.1.1.2.cmml" xref="S2.p7.4.m4.1.1.2">𝑡</ci><ci id="S2.p7.4.m4.1.1.3.cmml" xref="S2.p7.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.4.m4.1c">t_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.p7.4.m4.1d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in <math alttext="T" class="ltx_Math" display="inline" id="S2.p7.5.m5.1"><semantics id="S2.p7.5.m5.1a"><mi id="S2.p7.5.m5.1.1" xref="S2.p7.5.m5.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S2.p7.5.m5.1b"><ci id="S2.p7.5.m5.1.1.cmml" xref="S2.p7.5.m5.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.5.m5.1c">T</annotation><annotation encoding="application/x-llamapun" id="S2.p7.5.m5.1d">italic_T</annotation></semantics></math>, <math alttext="|T|" class="ltx_Math" display="inline" id="S2.p7.6.m6.1"><semantics id="S2.p7.6.m6.1a"><mrow id="S2.p7.6.m6.1.2.2" xref="S2.p7.6.m6.1.2.1.cmml"><mo id="S2.p7.6.m6.1.2.2.1" stretchy="false" xref="S2.p7.6.m6.1.2.1.1.cmml">|</mo><mi id="S2.p7.6.m6.1.1" xref="S2.p7.6.m6.1.1.cmml">T</mi><mo id="S2.p7.6.m6.1.2.2.2" stretchy="false" xref="S2.p7.6.m6.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p7.6.m6.1b"><apply id="S2.p7.6.m6.1.2.1.cmml" xref="S2.p7.6.m6.1.2.2"><abs id="S2.p7.6.m6.1.2.1.1.cmml" xref="S2.p7.6.m6.1.2.2.1"></abs><ci id="S2.p7.6.m6.1.1.cmml" xref="S2.p7.6.m6.1.1">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.6.m6.1c">|T|</annotation><annotation encoding="application/x-llamapun" id="S2.p7.6.m6.1d">| italic_T |</annotation></semantics></math> the size of <math alttext="T" class="ltx_Math" display="inline" id="S2.p7.7.m7.1"><semantics id="S2.p7.7.m7.1a"><mi id="S2.p7.7.m7.1.1" xref="S2.p7.7.m7.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S2.p7.7.m7.1b"><ci id="S2.p7.7.m7.1.1.cmml" xref="S2.p7.7.m7.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.7.m7.1c">T</annotation><annotation encoding="application/x-llamapun" id="S2.p7.7.m7.1d">italic_T</annotation></semantics></math>, <span class="ltx_text ltx_markedasmath" id="S2.p7.12.2">avgTL</span> the average chunk length, <math alttext="N" class="ltx_Math" display="inline" id="S2.p7.9.m9.1"><semantics id="S2.p7.9.m9.1a"><mi id="S2.p7.9.m9.1.1" xref="S2.p7.9.m9.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.p7.9.m9.1b"><ci id="S2.p7.9.m9.1.1.cmml" xref="S2.p7.9.m9.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.9.m9.1c">N</annotation><annotation encoding="application/x-llamapun" id="S2.p7.9.m9.1d">italic_N</annotation></semantics></math> the total number of chunks, and <math alttext="n(t_{i})" class="ltx_Math" display="inline" id="S2.p7.10.m10.1"><semantics id="S2.p7.10.m10.1a"><mrow id="S2.p7.10.m10.1.1" xref="S2.p7.10.m10.1.1.cmml"><mi id="S2.p7.10.m10.1.1.3" xref="S2.p7.10.m10.1.1.3.cmml">n</mi><mo id="S2.p7.10.m10.1.1.2" xref="S2.p7.10.m10.1.1.2.cmml">⁢</mo><mrow id="S2.p7.10.m10.1.1.1.1" xref="S2.p7.10.m10.1.1.1.1.1.cmml"><mo id="S2.p7.10.m10.1.1.1.1.2" stretchy="false" xref="S2.p7.10.m10.1.1.1.1.1.cmml">(</mo><msub id="S2.p7.10.m10.1.1.1.1.1" xref="S2.p7.10.m10.1.1.1.1.1.cmml"><mi id="S2.p7.10.m10.1.1.1.1.1.2" xref="S2.p7.10.m10.1.1.1.1.1.2.cmml">t</mi><mi id="S2.p7.10.m10.1.1.1.1.1.3" xref="S2.p7.10.m10.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S2.p7.10.m10.1.1.1.1.3" stretchy="false" xref="S2.p7.10.m10.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p7.10.m10.1b"><apply id="S2.p7.10.m10.1.1.cmml" xref="S2.p7.10.m10.1.1"><times id="S2.p7.10.m10.1.1.2.cmml" xref="S2.p7.10.m10.1.1.2"></times><ci id="S2.p7.10.m10.1.1.3.cmml" xref="S2.p7.10.m10.1.1.3">𝑛</ci><apply id="S2.p7.10.m10.1.1.1.1.1.cmml" xref="S2.p7.10.m10.1.1.1.1"><csymbol cd="ambiguous" id="S2.p7.10.m10.1.1.1.1.1.1.cmml" xref="S2.p7.10.m10.1.1.1.1">subscript</csymbol><ci id="S2.p7.10.m10.1.1.1.1.1.2.cmml" xref="S2.p7.10.m10.1.1.1.1.1.2">𝑡</ci><ci id="S2.p7.10.m10.1.1.1.1.1.3.cmml" xref="S2.p7.10.m10.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.10.m10.1c">n(t_{i})</annotation><annotation encoding="application/x-llamapun" id="S2.p7.10.m10.1d">italic_n ( italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math>
the number of chunks that contain <math alttext="t_{i}" class="ltx_Math" display="inline" id="S2.p7.11.m11.1"><semantics id="S2.p7.11.m11.1a"><msub id="S2.p7.11.m11.1.1" xref="S2.p7.11.m11.1.1.cmml"><mi id="S2.p7.11.m11.1.1.2" xref="S2.p7.11.m11.1.1.2.cmml">t</mi><mi id="S2.p7.11.m11.1.1.3" xref="S2.p7.11.m11.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p7.11.m11.1b"><apply id="S2.p7.11.m11.1.1.cmml" xref="S2.p7.11.m11.1.1"><csymbol cd="ambiguous" id="S2.p7.11.m11.1.1.1.cmml" xref="S2.p7.11.m11.1.1">subscript</csymbol><ci id="S2.p7.11.m11.1.1.2.cmml" xref="S2.p7.11.m11.1.1.2">𝑡</ci><ci id="S2.p7.11.m11.1.1.3.cmml" xref="S2.p7.11.m11.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.11.m11.1c">t_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.p7.11.m11.1d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>. Then BM25<math alttext="(q,T)" class="ltx_Math" display="inline" id="S2.p7.12.m12.2"><semantics id="S2.p7.12.m12.2a"><mrow id="S2.p7.12.m12.2.3.2" xref="S2.p7.12.m12.2.3.1.cmml"><mo id="S2.p7.12.m12.2.3.2.1" stretchy="false" xref="S2.p7.12.m12.2.3.1.cmml">(</mo><mi id="S2.p7.12.m12.1.1" xref="S2.p7.12.m12.1.1.cmml">q</mi><mo id="S2.p7.12.m12.2.3.2.2" xref="S2.p7.12.m12.2.3.1.cmml">,</mo><mi id="S2.p7.12.m12.2.2" xref="S2.p7.12.m12.2.2.cmml">T</mi><mo id="S2.p7.12.m12.2.3.2.3" stretchy="false" xref="S2.p7.12.m12.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p7.12.m12.2b"><interval closure="open" id="S2.p7.12.m12.2.3.1.cmml" xref="S2.p7.12.m12.2.3.2"><ci id="S2.p7.12.m12.1.1.cmml" xref="S2.p7.12.m12.1.1">𝑞</ci><ci id="S2.p7.12.m12.2.2.cmml" xref="S2.p7.12.m12.2.2">𝑇</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.12.m12.2c">(q,T)</annotation><annotation encoding="application/x-llamapun" id="S2.p7.12.m12.2d">( italic_q , italic_T )</annotation></semantics></math> is defined by</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S6.EGx1">
<tbody id="S2.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\text{BM25}(q,T)=" class="ltx_Math" display="inline" id="S2.Ex1.m1.2"><semantics id="S2.Ex1.m1.2a"><mrow id="S2.Ex1.m1.2.3" xref="S2.Ex1.m1.2.3.cmml"><mrow id="S2.Ex1.m1.2.3.2" xref="S2.Ex1.m1.2.3.2.cmml"><mtext id="S2.Ex1.m1.2.3.2.2" xref="S2.Ex1.m1.2.3.2.2a.cmml">BM25</mtext><mo id="S2.Ex1.m1.2.3.2.1" xref="S2.Ex1.m1.2.3.2.1.cmml">⁢</mo><mrow id="S2.Ex1.m1.2.3.2.3.2" xref="S2.Ex1.m1.2.3.2.3.1.cmml"><mo id="S2.Ex1.m1.2.3.2.3.2.1" stretchy="false" xref="S2.Ex1.m1.2.3.2.3.1.cmml">(</mo><mi id="S2.Ex1.m1.1.1" xref="S2.Ex1.m1.1.1.cmml">q</mi><mo id="S2.Ex1.m1.2.3.2.3.2.2" xref="S2.Ex1.m1.2.3.2.3.1.cmml">,</mo><mi id="S2.Ex1.m1.2.2" xref="S2.Ex1.m1.2.2.cmml">T</mi><mo id="S2.Ex1.m1.2.3.2.3.2.3" stretchy="false" xref="S2.Ex1.m1.2.3.2.3.1.cmml">)</mo></mrow></mrow><mo id="S2.Ex1.m1.2.3.1" xref="S2.Ex1.m1.2.3.1.cmml">=</mo><mi id="S2.Ex1.m1.2.3.3" xref="S2.Ex1.m1.2.3.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1.m1.2b"><apply id="S2.Ex1.m1.2.3.cmml" xref="S2.Ex1.m1.2.3"><eq id="S2.Ex1.m1.2.3.1.cmml" xref="S2.Ex1.m1.2.3.1"></eq><apply id="S2.Ex1.m1.2.3.2.cmml" xref="S2.Ex1.m1.2.3.2"><times id="S2.Ex1.m1.2.3.2.1.cmml" xref="S2.Ex1.m1.2.3.2.1"></times><ci id="S2.Ex1.m1.2.3.2.2a.cmml" xref="S2.Ex1.m1.2.3.2.2"><mtext id="S2.Ex1.m1.2.3.2.2.cmml" xref="S2.Ex1.m1.2.3.2.2">BM25</mtext></ci><interval closure="open" id="S2.Ex1.m1.2.3.2.3.1.cmml" xref="S2.Ex1.m1.2.3.2.3.2"><ci id="S2.Ex1.m1.1.1.cmml" xref="S2.Ex1.m1.1.1">𝑞</ci><ci id="S2.Ex1.m1.2.2.cmml" xref="S2.Ex1.m1.2.2">𝑇</ci></interval></apply><csymbol cd="latexml" id="S2.Ex1.m1.2.3.3.cmml" xref="S2.Ex1.m1.2.3.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1.m1.2c">\displaystyle\text{BM25}(q,T)=</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1.m1.2d">BM25 ( italic_q , italic_T ) =</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\sum_{i=1}^{n}\ln\left(\frac{N-n(t_{i})+0.5}{n(t_{i})+0.5}+1%
\right)\cdot" class="ltx_math_unparsed" display="inline" id="S2.Ex1.m2.3"><semantics id="S2.Ex1.m2.3a"><mrow id="S2.Ex1.m2.3b"><mstyle displaystyle="true" id="S2.Ex1.m2.3.4"><munderover id="S2.Ex1.m2.3.4a"><mo id="S2.Ex1.m2.3.4.2.2" movablelimits="false">∑</mo><mrow id="S2.Ex1.m2.3.4.2.3"><mi id="S2.Ex1.m2.3.4.2.3.2">i</mi><mo id="S2.Ex1.m2.3.4.2.3.1">=</mo><mn id="S2.Ex1.m2.3.4.2.3.3">1</mn></mrow><mi id="S2.Ex1.m2.3.4.3">n</mi></munderover></mstyle><mi id="S2.Ex1.m2.3.3">ln</mi><mrow id="S2.Ex1.m2.3.5"><mo id="S2.Ex1.m2.3.5.1">(</mo><mstyle displaystyle="true" id="S2.Ex1.m2.2.2"><mfrac id="S2.Ex1.m2.2.2a"><mrow id="S2.Ex1.m2.1.1.1"><mrow id="S2.Ex1.m2.1.1.1.1"><mi id="S2.Ex1.m2.1.1.1.1.3">N</mi><mo id="S2.Ex1.m2.1.1.1.1.2">−</mo><mrow id="S2.Ex1.m2.1.1.1.1.1"><mi id="S2.Ex1.m2.1.1.1.1.1.3">n</mi><mo id="S2.Ex1.m2.1.1.1.1.1.2">⁢</mo><mrow id="S2.Ex1.m2.1.1.1.1.1.1.1"><mo id="S2.Ex1.m2.1.1.1.1.1.1.1.2" stretchy="false">(</mo><msub id="S2.Ex1.m2.1.1.1.1.1.1.1.1"><mi id="S2.Ex1.m2.1.1.1.1.1.1.1.1.2">t</mi><mi id="S2.Ex1.m2.1.1.1.1.1.1.1.1.3">i</mi></msub><mo id="S2.Ex1.m2.1.1.1.1.1.1.1.3" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S2.Ex1.m2.1.1.1.2">+</mo><mn id="S2.Ex1.m2.1.1.1.3">0.5</mn></mrow><mrow id="S2.Ex1.m2.2.2.2"><mrow id="S2.Ex1.m2.2.2.2.1"><mi id="S2.Ex1.m2.2.2.2.1.3">n</mi><mo id="S2.Ex1.m2.2.2.2.1.2">⁢</mo><mrow id="S2.Ex1.m2.2.2.2.1.1.1"><mo id="S2.Ex1.m2.2.2.2.1.1.1.2" stretchy="false">(</mo><msub id="S2.Ex1.m2.2.2.2.1.1.1.1"><mi id="S2.Ex1.m2.2.2.2.1.1.1.1.2">t</mi><mi id="S2.Ex1.m2.2.2.2.1.1.1.1.3">i</mi></msub><mo id="S2.Ex1.m2.2.2.2.1.1.1.3" stretchy="false">)</mo></mrow></mrow><mo id="S2.Ex1.m2.2.2.2.2">+</mo><mn id="S2.Ex1.m2.2.2.2.3">0.5</mn></mrow></mfrac></mstyle><mo id="S2.Ex1.m2.3.5.2">+</mo><mn id="S2.Ex1.m2.3.5.3">1</mn><mo id="S2.Ex1.m2.3.5.4" rspace="0.055em">)</mo></mrow><mo id="S2.Ex1.m2.3.6">⋅</mo></mrow><annotation encoding="application/x-tex" id="S2.Ex1.m2.3c">\displaystyle\sum_{i=1}^{n}\ln\left(\frac{N-n(t_{i})+0.5}{n(t_{i})+0.5}+1%
\right)\cdot</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1.m2.3d">∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT roman_ln ( divide start_ARG italic_N - italic_n ( italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) + 0.5 end_ARG start_ARG italic_n ( italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) + 0.5 end_ARG + 1 ) ⋅</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\frac{(f(t_{i},T)\cdot(\kappa+1))}{f(t_{i},T)+\kappa\cdot(1-b+b%
\cdot\frac{|T|}{\text{avgTL}})}," class="ltx_Math" display="inline" id="S2.Ex2.m1.6"><semantics id="S2.Ex2.m1.6a"><mrow id="S2.Ex2.m1.6.7.2" xref="S2.Ex2.m1.6.6.cmml"><mstyle displaystyle="true" id="S2.Ex2.m1.6.6" xref="S2.Ex2.m1.6.6.cmml"><mfrac id="S2.Ex2.m1.6.6a" xref="S2.Ex2.m1.6.6.cmml"><mrow id="S2.Ex2.m1.2.2.2.2" xref="S2.Ex2.m1.2.2.2.2.1.cmml"><mo id="S2.Ex2.m1.2.2.2.2.2" stretchy="false" xref="S2.Ex2.m1.2.2.2.2.1.cmml">(</mo><mrow id="S2.Ex2.m1.2.2.2.2.1" xref="S2.Ex2.m1.2.2.2.2.1.cmml"><mrow id="S2.Ex2.m1.2.2.2.2.1.1" xref="S2.Ex2.m1.2.2.2.2.1.1.cmml"><mi id="S2.Ex2.m1.2.2.2.2.1.1.3" xref="S2.Ex2.m1.2.2.2.2.1.1.3.cmml">f</mi><mo id="S2.Ex2.m1.2.2.2.2.1.1.2" xref="S2.Ex2.m1.2.2.2.2.1.1.2.cmml">⁢</mo><mrow id="S2.Ex2.m1.2.2.2.2.1.1.1.1" xref="S2.Ex2.m1.2.2.2.2.1.1.1.2.cmml"><mo id="S2.Ex2.m1.2.2.2.2.1.1.1.1.2" stretchy="false" xref="S2.Ex2.m1.2.2.2.2.1.1.1.2.cmml">(</mo><msub id="S2.Ex2.m1.2.2.2.2.1.1.1.1.1" xref="S2.Ex2.m1.2.2.2.2.1.1.1.1.1.cmml"><mi id="S2.Ex2.m1.2.2.2.2.1.1.1.1.1.2" xref="S2.Ex2.m1.2.2.2.2.1.1.1.1.1.2.cmml">t</mi><mi id="S2.Ex2.m1.2.2.2.2.1.1.1.1.1.3" xref="S2.Ex2.m1.2.2.2.2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S2.Ex2.m1.2.2.2.2.1.1.1.1.3" xref="S2.Ex2.m1.2.2.2.2.1.1.1.2.cmml">,</mo><mi id="S2.Ex2.m1.1.1.1.1" xref="S2.Ex2.m1.1.1.1.1.cmml">T</mi><mo id="S2.Ex2.m1.2.2.2.2.1.1.1.1.4" rspace="0.055em" stretchy="false" xref="S2.Ex2.m1.2.2.2.2.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.Ex2.m1.2.2.2.2.1.3" rspace="0.222em" xref="S2.Ex2.m1.2.2.2.2.1.3.cmml">⋅</mo><mrow id="S2.Ex2.m1.2.2.2.2.1.2.1" xref="S2.Ex2.m1.2.2.2.2.1.2.1.1.cmml"><mo id="S2.Ex2.m1.2.2.2.2.1.2.1.2" stretchy="false" xref="S2.Ex2.m1.2.2.2.2.1.2.1.1.cmml">(</mo><mrow id="S2.Ex2.m1.2.2.2.2.1.2.1.1" xref="S2.Ex2.m1.2.2.2.2.1.2.1.1.cmml"><mi id="S2.Ex2.m1.2.2.2.2.1.2.1.1.2" xref="S2.Ex2.m1.2.2.2.2.1.2.1.1.2.cmml">κ</mi><mo id="S2.Ex2.m1.2.2.2.2.1.2.1.1.1" xref="S2.Ex2.m1.2.2.2.2.1.2.1.1.1.cmml">+</mo><mn id="S2.Ex2.m1.2.2.2.2.1.2.1.1.3" xref="S2.Ex2.m1.2.2.2.2.1.2.1.1.3.cmml">1</mn></mrow><mo id="S2.Ex2.m1.2.2.2.2.1.2.1.3" stretchy="false" xref="S2.Ex2.m1.2.2.2.2.1.2.1.1.cmml">)</mo></mrow></mrow><mo id="S2.Ex2.m1.2.2.2.2.3" stretchy="false" xref="S2.Ex2.m1.2.2.2.2.1.cmml">)</mo></mrow><mrow id="S2.Ex2.m1.6.6.6" xref="S2.Ex2.m1.6.6.6.cmml"><mrow id="S2.Ex2.m1.5.5.5.3" xref="S2.Ex2.m1.5.5.5.3.cmml"><mi id="S2.Ex2.m1.5.5.5.3.3" xref="S2.Ex2.m1.5.5.5.3.3.cmml">f</mi><mo id="S2.Ex2.m1.5.5.5.3.2" xref="S2.Ex2.m1.5.5.5.3.2.cmml">⁢</mo><mrow id="S2.Ex2.m1.5.5.5.3.1.1" xref="S2.Ex2.m1.5.5.5.3.1.2.cmml"><mo id="S2.Ex2.m1.5.5.5.3.1.1.2" stretchy="false" xref="S2.Ex2.m1.5.5.5.3.1.2.cmml">(</mo><msub id="S2.Ex2.m1.5.5.5.3.1.1.1" xref="S2.Ex2.m1.5.5.5.3.1.1.1.cmml"><mi id="S2.Ex2.m1.5.5.5.3.1.1.1.2" xref="S2.Ex2.m1.5.5.5.3.1.1.1.2.cmml">t</mi><mi id="S2.Ex2.m1.5.5.5.3.1.1.1.3" xref="S2.Ex2.m1.5.5.5.3.1.1.1.3.cmml">i</mi></msub><mo id="S2.Ex2.m1.5.5.5.3.1.1.3" xref="S2.Ex2.m1.5.5.5.3.1.2.cmml">,</mo><mi id="S2.Ex2.m1.4.4.4.2" xref="S2.Ex2.m1.4.4.4.2.cmml">T</mi><mo id="S2.Ex2.m1.5.5.5.3.1.1.4" stretchy="false" xref="S2.Ex2.m1.5.5.5.3.1.2.cmml">)</mo></mrow></mrow><mo id="S2.Ex2.m1.6.6.6.5" xref="S2.Ex2.m1.6.6.6.5.cmml">+</mo><mrow id="S2.Ex2.m1.6.6.6.4" xref="S2.Ex2.m1.6.6.6.4.cmml"><mi id="S2.Ex2.m1.6.6.6.4.3" xref="S2.Ex2.m1.6.6.6.4.3.cmml">κ</mi><mo id="S2.Ex2.m1.6.6.6.4.2" lspace="0.222em" rspace="0.222em" xref="S2.Ex2.m1.6.6.6.4.2.cmml">⋅</mo><mrow id="S2.Ex2.m1.6.6.6.4.1.1" xref="S2.Ex2.m1.6.6.6.4.1.1.1.cmml"><mo id="S2.Ex2.m1.6.6.6.4.1.1.2" stretchy="false" xref="S2.Ex2.m1.6.6.6.4.1.1.1.cmml">(</mo><mrow id="S2.Ex2.m1.6.6.6.4.1.1.1" xref="S2.Ex2.m1.6.6.6.4.1.1.1.cmml"><mrow id="S2.Ex2.m1.6.6.6.4.1.1.1.2" xref="S2.Ex2.m1.6.6.6.4.1.1.1.2.cmml"><mn id="S2.Ex2.m1.6.6.6.4.1.1.1.2.2" xref="S2.Ex2.m1.6.6.6.4.1.1.1.2.2.cmml">1</mn><mo id="S2.Ex2.m1.6.6.6.4.1.1.1.2.1" xref="S2.Ex2.m1.6.6.6.4.1.1.1.2.1.cmml">−</mo><mi id="S2.Ex2.m1.6.6.6.4.1.1.1.2.3" xref="S2.Ex2.m1.6.6.6.4.1.1.1.2.3.cmml">b</mi></mrow><mo id="S2.Ex2.m1.6.6.6.4.1.1.1.1" xref="S2.Ex2.m1.6.6.6.4.1.1.1.1.cmml">+</mo><mrow id="S2.Ex2.m1.6.6.6.4.1.1.1.3" xref="S2.Ex2.m1.6.6.6.4.1.1.1.3.cmml"><mi id="S2.Ex2.m1.6.6.6.4.1.1.1.3.2" xref="S2.Ex2.m1.6.6.6.4.1.1.1.3.2.cmml">b</mi><mo id="S2.Ex2.m1.6.6.6.4.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S2.Ex2.m1.6.6.6.4.1.1.1.3.1.cmml">⋅</mo><mfrac id="S2.Ex2.m1.3.3.3.1" xref="S2.Ex2.m1.3.3.3.1.cmml"><mrow id="S2.Ex2.m1.3.3.3.1.1.3" xref="S2.Ex2.m1.3.3.3.1.1.2.cmml"><mo id="S2.Ex2.m1.3.3.3.1.1.3.1" stretchy="false" xref="S2.Ex2.m1.3.3.3.1.1.2.1.cmml">|</mo><mi id="S2.Ex2.m1.3.3.3.1.1.1" xref="S2.Ex2.m1.3.3.3.1.1.1.cmml">T</mi><mo id="S2.Ex2.m1.3.3.3.1.1.3.2" stretchy="false" xref="S2.Ex2.m1.3.3.3.1.1.2.1.cmml">|</mo></mrow><mtext id="S2.Ex2.m1.3.3.3.1.3" xref="S2.Ex2.m1.3.3.3.1.3a.cmml">avgTL</mtext></mfrac></mrow></mrow><mo id="S2.Ex2.m1.6.6.6.4.1.1.3" stretchy="false" xref="S2.Ex2.m1.6.6.6.4.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle><mo id="S2.Ex2.m1.6.7.2.1" xref="S2.Ex2.m1.6.6.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex2.m1.6b"><apply id="S2.Ex2.m1.6.6.cmml" xref="S2.Ex2.m1.6.7.2"><divide id="S2.Ex2.m1.6.6.7.cmml" xref="S2.Ex2.m1.6.7.2"></divide><apply id="S2.Ex2.m1.2.2.2.2.1.cmml" xref="S2.Ex2.m1.2.2.2.2"><ci id="S2.Ex2.m1.2.2.2.2.1.3.cmml" xref="S2.Ex2.m1.2.2.2.2.1.3">⋅</ci><apply id="S2.Ex2.m1.2.2.2.2.1.1.cmml" xref="S2.Ex2.m1.2.2.2.2.1.1"><times id="S2.Ex2.m1.2.2.2.2.1.1.2.cmml" xref="S2.Ex2.m1.2.2.2.2.1.1.2"></times><ci id="S2.Ex2.m1.2.2.2.2.1.1.3.cmml" xref="S2.Ex2.m1.2.2.2.2.1.1.3">𝑓</ci><interval closure="open" id="S2.Ex2.m1.2.2.2.2.1.1.1.2.cmml" xref="S2.Ex2.m1.2.2.2.2.1.1.1.1"><apply id="S2.Ex2.m1.2.2.2.2.1.1.1.1.1.cmml" xref="S2.Ex2.m1.2.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex2.m1.2.2.2.2.1.1.1.1.1.1.cmml" xref="S2.Ex2.m1.2.2.2.2.1.1.1.1.1">subscript</csymbol><ci id="S2.Ex2.m1.2.2.2.2.1.1.1.1.1.2.cmml" xref="S2.Ex2.m1.2.2.2.2.1.1.1.1.1.2">𝑡</ci><ci id="S2.Ex2.m1.2.2.2.2.1.1.1.1.1.3.cmml" xref="S2.Ex2.m1.2.2.2.2.1.1.1.1.1.3">𝑖</ci></apply><ci id="S2.Ex2.m1.1.1.1.1.cmml" xref="S2.Ex2.m1.1.1.1.1">𝑇</ci></interval></apply><apply id="S2.Ex2.m1.2.2.2.2.1.2.1.1.cmml" xref="S2.Ex2.m1.2.2.2.2.1.2.1"><plus id="S2.Ex2.m1.2.2.2.2.1.2.1.1.1.cmml" xref="S2.Ex2.m1.2.2.2.2.1.2.1.1.1"></plus><ci id="S2.Ex2.m1.2.2.2.2.1.2.1.1.2.cmml" xref="S2.Ex2.m1.2.2.2.2.1.2.1.1.2">𝜅</ci><cn id="S2.Ex2.m1.2.2.2.2.1.2.1.1.3.cmml" type="integer" xref="S2.Ex2.m1.2.2.2.2.1.2.1.1.3">1</cn></apply></apply><apply id="S2.Ex2.m1.6.6.6.cmml" xref="S2.Ex2.m1.6.6.6"><plus id="S2.Ex2.m1.6.6.6.5.cmml" xref="S2.Ex2.m1.6.6.6.5"></plus><apply id="S2.Ex2.m1.5.5.5.3.cmml" xref="S2.Ex2.m1.5.5.5.3"><times id="S2.Ex2.m1.5.5.5.3.2.cmml" xref="S2.Ex2.m1.5.5.5.3.2"></times><ci id="S2.Ex2.m1.5.5.5.3.3.cmml" xref="S2.Ex2.m1.5.5.5.3.3">𝑓</ci><interval closure="open" id="S2.Ex2.m1.5.5.5.3.1.2.cmml" xref="S2.Ex2.m1.5.5.5.3.1.1"><apply id="S2.Ex2.m1.5.5.5.3.1.1.1.cmml" xref="S2.Ex2.m1.5.5.5.3.1.1.1"><csymbol cd="ambiguous" id="S2.Ex2.m1.5.5.5.3.1.1.1.1.cmml" xref="S2.Ex2.m1.5.5.5.3.1.1.1">subscript</csymbol><ci id="S2.Ex2.m1.5.5.5.3.1.1.1.2.cmml" xref="S2.Ex2.m1.5.5.5.3.1.1.1.2">𝑡</ci><ci id="S2.Ex2.m1.5.5.5.3.1.1.1.3.cmml" xref="S2.Ex2.m1.5.5.5.3.1.1.1.3">𝑖</ci></apply><ci id="S2.Ex2.m1.4.4.4.2.cmml" xref="S2.Ex2.m1.4.4.4.2">𝑇</ci></interval></apply><apply id="S2.Ex2.m1.6.6.6.4.cmml" xref="S2.Ex2.m1.6.6.6.4"><ci id="S2.Ex2.m1.6.6.6.4.2.cmml" xref="S2.Ex2.m1.6.6.6.4.2">⋅</ci><ci id="S2.Ex2.m1.6.6.6.4.3.cmml" xref="S2.Ex2.m1.6.6.6.4.3">𝜅</ci><apply id="S2.Ex2.m1.6.6.6.4.1.1.1.cmml" xref="S2.Ex2.m1.6.6.6.4.1.1"><plus id="S2.Ex2.m1.6.6.6.4.1.1.1.1.cmml" xref="S2.Ex2.m1.6.6.6.4.1.1.1.1"></plus><apply id="S2.Ex2.m1.6.6.6.4.1.1.1.2.cmml" xref="S2.Ex2.m1.6.6.6.4.1.1.1.2"><minus id="S2.Ex2.m1.6.6.6.4.1.1.1.2.1.cmml" xref="S2.Ex2.m1.6.6.6.4.1.1.1.2.1"></minus><cn id="S2.Ex2.m1.6.6.6.4.1.1.1.2.2.cmml" type="integer" xref="S2.Ex2.m1.6.6.6.4.1.1.1.2.2">1</cn><ci id="S2.Ex2.m1.6.6.6.4.1.1.1.2.3.cmml" xref="S2.Ex2.m1.6.6.6.4.1.1.1.2.3">𝑏</ci></apply><apply id="S2.Ex2.m1.6.6.6.4.1.1.1.3.cmml" xref="S2.Ex2.m1.6.6.6.4.1.1.1.3"><ci id="S2.Ex2.m1.6.6.6.4.1.1.1.3.1.cmml" xref="S2.Ex2.m1.6.6.6.4.1.1.1.3.1">⋅</ci><ci id="S2.Ex2.m1.6.6.6.4.1.1.1.3.2.cmml" xref="S2.Ex2.m1.6.6.6.4.1.1.1.3.2">𝑏</ci><apply id="S2.Ex2.m1.3.3.3.1.cmml" xref="S2.Ex2.m1.3.3.3.1"><divide id="S2.Ex2.m1.3.3.3.1.2.cmml" xref="S2.Ex2.m1.3.3.3.1"></divide><apply id="S2.Ex2.m1.3.3.3.1.1.2.cmml" xref="S2.Ex2.m1.3.3.3.1.1.3"><abs id="S2.Ex2.m1.3.3.3.1.1.2.1.cmml" xref="S2.Ex2.m1.3.3.3.1.1.3.1"></abs><ci id="S2.Ex2.m1.3.3.3.1.1.1.cmml" xref="S2.Ex2.m1.3.3.3.1.1.1">𝑇</ci></apply><ci id="S2.Ex2.m1.3.3.3.1.3a.cmml" xref="S2.Ex2.m1.3.3.3.1.3"><mtext id="S2.Ex2.m1.3.3.3.1.3.cmml" mathsize="70%" xref="S2.Ex2.m1.3.3.3.1.3">avgTL</mtext></ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex2.m1.6c">\displaystyle\frac{(f(t_{i},T)\cdot(\kappa+1))}{f(t_{i},T)+\kappa\cdot(1-b+b%
\cdot\frac{|T|}{\text{avgTL}})},</annotation><annotation encoding="application/x-llamapun" id="S2.Ex2.m1.6d">divide start_ARG ( italic_f ( italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_T ) ⋅ ( italic_κ + 1 ) ) end_ARG start_ARG italic_f ( italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_T ) + italic_κ ⋅ ( 1 - italic_b + italic_b ⋅ divide start_ARG | italic_T | end_ARG start_ARG avgTL end_ARG ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.p7.15">where <math alttext="\kappa" class="ltx_Math" display="inline" id="S2.p7.13.m1.1"><semantics id="S2.p7.13.m1.1a"><mi id="S2.p7.13.m1.1.1" xref="S2.p7.13.m1.1.1.cmml">κ</mi><annotation-xml encoding="MathML-Content" id="S2.p7.13.m1.1b"><ci id="S2.p7.13.m1.1.1.cmml" xref="S2.p7.13.m1.1.1">𝜅</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.13.m1.1c">\kappa</annotation><annotation encoding="application/x-llamapun" id="S2.p7.13.m1.1d">italic_κ</annotation></semantics></math> and <math alttext="b" class="ltx_Math" display="inline" id="S2.p7.14.m2.1"><semantics id="S2.p7.14.m2.1a"><mi id="S2.p7.14.m2.1.1" xref="S2.p7.14.m2.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S2.p7.14.m2.1b"><ci id="S2.p7.14.m2.1.1.cmml" xref="S2.p7.14.m2.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.14.m2.1c">b</annotation><annotation encoding="application/x-llamapun" id="S2.p7.14.m2.1d">italic_b</annotation></semantics></math> are parameters.
Return <math alttext="k" class="ltx_Math" display="inline" id="S2.p7.15.m3.1"><semantics id="S2.p7.15.m3.1a"><mi id="S2.p7.15.m3.1.1" xref="S2.p7.15.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p7.15.m3.1b"><ci id="S2.p7.15.m3.1.1.cmml" xref="S2.p7.15.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.15.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p7.15.m3.1d">italic_k</annotation></semantics></math> chunks of text with the highest BM25 scores to the query.</p>
</div>
<div class="ltx_para" id="S2.p8">
<p class="ltx_p" id="S2.p8.1"><span class="ltx_text ltx_font_bold" id="S2.p8.1.1">SVM</span> (Support Vector Machine) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx5" title="">Cortes and Vapnik, 1995</a>]</cite> is a supervised learning model that finds the hyperplane that best separates data points in a dataset. To use SVM as a retriever, first represent each chunk of text as a feature vector. This can be done using word embeddings, TF-IDF, or any other vectorization method. Then use the labeled dataset to train an SVM model. Convert the query into the same feature vector space as the chunks. Apply the SVM model to the query vector to produce a score that indicates how similar the query is to each chunk. Extract <math alttext="k" class="ltx_Math" display="inline" id="S2.p8.1.m1.1"><semantics id="S2.p8.1.m1.1a"><mi id="S2.p8.1.m1.1.1" xref="S2.p8.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p8.1.m1.1b"><ci id="S2.p8.1.m1.1.1.cmml" xref="S2.p8.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p8.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p8.1.m1.1d">italic_k</annotation></semantics></math> chunks with the highest scores.</p>
</div>
<div class="ltx_para" id="S2.p9">
<p class="ltx_p" id="S2.p9.8"><span class="ltx_text ltx_font_bold" id="S2.p9.8.1">TF-IDF</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx17" title="">Sammut and Webb, 2011</a>]</cite> measures the importance of a word in a chunk of text relative to the set of chunks in the reference document, combining term frequency and inverse chunk frequency. In particular,</p>
<table class="ltx_equation ltx_eqn_table" id="S2.Ex3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{TF-IDF}(t,T)=\text{TF}(t,T)\times\text{IDF}(t)," class="ltx_Math" display="block" id="S2.Ex3.m1.6"><semantics id="S2.Ex3.m1.6a"><mrow id="S2.Ex3.m1.6.6.1" xref="S2.Ex3.m1.6.6.1.1.cmml"><mrow id="S2.Ex3.m1.6.6.1.1" xref="S2.Ex3.m1.6.6.1.1.cmml"><mrow id="S2.Ex3.m1.6.6.1.1.2" xref="S2.Ex3.m1.6.6.1.1.2.cmml"><mtext id="S2.Ex3.m1.6.6.1.1.2.2" xref="S2.Ex3.m1.6.6.1.1.2.2a.cmml">TF-IDF</mtext><mo id="S2.Ex3.m1.6.6.1.1.2.1" xref="S2.Ex3.m1.6.6.1.1.2.1.cmml">⁢</mo><mrow id="S2.Ex3.m1.6.6.1.1.2.3.2" xref="S2.Ex3.m1.6.6.1.1.2.3.1.cmml"><mo id="S2.Ex3.m1.6.6.1.1.2.3.2.1" stretchy="false" xref="S2.Ex3.m1.6.6.1.1.2.3.1.cmml">(</mo><mi id="S2.Ex3.m1.1.1" xref="S2.Ex3.m1.1.1.cmml">t</mi><mo id="S2.Ex3.m1.6.6.1.1.2.3.2.2" xref="S2.Ex3.m1.6.6.1.1.2.3.1.cmml">,</mo><mi id="S2.Ex3.m1.2.2" xref="S2.Ex3.m1.2.2.cmml">T</mi><mo id="S2.Ex3.m1.6.6.1.1.2.3.2.3" stretchy="false" xref="S2.Ex3.m1.6.6.1.1.2.3.1.cmml">)</mo></mrow></mrow><mo id="S2.Ex3.m1.6.6.1.1.1" xref="S2.Ex3.m1.6.6.1.1.1.cmml">=</mo><mrow id="S2.Ex3.m1.6.6.1.1.3" xref="S2.Ex3.m1.6.6.1.1.3.cmml"><mrow id="S2.Ex3.m1.6.6.1.1.3.2" xref="S2.Ex3.m1.6.6.1.1.3.2.cmml"><mrow id="S2.Ex3.m1.6.6.1.1.3.2.2" xref="S2.Ex3.m1.6.6.1.1.3.2.2.cmml"><mtext id="S2.Ex3.m1.6.6.1.1.3.2.2.2" xref="S2.Ex3.m1.6.6.1.1.3.2.2.2a.cmml">TF</mtext><mo id="S2.Ex3.m1.6.6.1.1.3.2.2.1" xref="S2.Ex3.m1.6.6.1.1.3.2.2.1.cmml">⁢</mo><mrow id="S2.Ex3.m1.6.6.1.1.3.2.2.3.2" xref="S2.Ex3.m1.6.6.1.1.3.2.2.3.1.cmml"><mo id="S2.Ex3.m1.6.6.1.1.3.2.2.3.2.1" stretchy="false" xref="S2.Ex3.m1.6.6.1.1.3.2.2.3.1.cmml">(</mo><mi id="S2.Ex3.m1.3.3" xref="S2.Ex3.m1.3.3.cmml">t</mi><mo id="S2.Ex3.m1.6.6.1.1.3.2.2.3.2.2" xref="S2.Ex3.m1.6.6.1.1.3.2.2.3.1.cmml">,</mo><mi id="S2.Ex3.m1.4.4" xref="S2.Ex3.m1.4.4.cmml">T</mi><mo id="S2.Ex3.m1.6.6.1.1.3.2.2.3.2.3" rspace="0.055em" stretchy="false" xref="S2.Ex3.m1.6.6.1.1.3.2.2.3.1.cmml">)</mo></mrow></mrow><mo id="S2.Ex3.m1.6.6.1.1.3.2.1" rspace="0.222em" xref="S2.Ex3.m1.6.6.1.1.3.2.1.cmml">×</mo><mtext id="S2.Ex3.m1.6.6.1.1.3.2.3" xref="S2.Ex3.m1.6.6.1.1.3.2.3a.cmml">IDF</mtext></mrow><mo id="S2.Ex3.m1.6.6.1.1.3.1" xref="S2.Ex3.m1.6.6.1.1.3.1.cmml">⁢</mo><mrow id="S2.Ex3.m1.6.6.1.1.3.3.2" xref="S2.Ex3.m1.6.6.1.1.3.cmml"><mo id="S2.Ex3.m1.6.6.1.1.3.3.2.1" stretchy="false" xref="S2.Ex3.m1.6.6.1.1.3.cmml">(</mo><mi id="S2.Ex3.m1.5.5" xref="S2.Ex3.m1.5.5.cmml">t</mi><mo id="S2.Ex3.m1.6.6.1.1.3.3.2.2" stretchy="false" xref="S2.Ex3.m1.6.6.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S2.Ex3.m1.6.6.1.2" xref="S2.Ex3.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex3.m1.6b"><apply id="S2.Ex3.m1.6.6.1.1.cmml" xref="S2.Ex3.m1.6.6.1"><eq id="S2.Ex3.m1.6.6.1.1.1.cmml" xref="S2.Ex3.m1.6.6.1.1.1"></eq><apply id="S2.Ex3.m1.6.6.1.1.2.cmml" xref="S2.Ex3.m1.6.6.1.1.2"><times id="S2.Ex3.m1.6.6.1.1.2.1.cmml" xref="S2.Ex3.m1.6.6.1.1.2.1"></times><ci id="S2.Ex3.m1.6.6.1.1.2.2a.cmml" xref="S2.Ex3.m1.6.6.1.1.2.2"><mtext id="S2.Ex3.m1.6.6.1.1.2.2.cmml" xref="S2.Ex3.m1.6.6.1.1.2.2">TF-IDF</mtext></ci><interval closure="open" id="S2.Ex3.m1.6.6.1.1.2.3.1.cmml" xref="S2.Ex3.m1.6.6.1.1.2.3.2"><ci id="S2.Ex3.m1.1.1.cmml" xref="S2.Ex3.m1.1.1">𝑡</ci><ci id="S2.Ex3.m1.2.2.cmml" xref="S2.Ex3.m1.2.2">𝑇</ci></interval></apply><apply id="S2.Ex3.m1.6.6.1.1.3.cmml" xref="S2.Ex3.m1.6.6.1.1.3"><times id="S2.Ex3.m1.6.6.1.1.3.1.cmml" xref="S2.Ex3.m1.6.6.1.1.3.1"></times><apply id="S2.Ex3.m1.6.6.1.1.3.2.cmml" xref="S2.Ex3.m1.6.6.1.1.3.2"><times id="S2.Ex3.m1.6.6.1.1.3.2.1.cmml" xref="S2.Ex3.m1.6.6.1.1.3.2.1"></times><apply id="S2.Ex3.m1.6.6.1.1.3.2.2.cmml" xref="S2.Ex3.m1.6.6.1.1.3.2.2"><times id="S2.Ex3.m1.6.6.1.1.3.2.2.1.cmml" xref="S2.Ex3.m1.6.6.1.1.3.2.2.1"></times><ci id="S2.Ex3.m1.6.6.1.1.3.2.2.2a.cmml" xref="S2.Ex3.m1.6.6.1.1.3.2.2.2"><mtext id="S2.Ex3.m1.6.6.1.1.3.2.2.2.cmml" xref="S2.Ex3.m1.6.6.1.1.3.2.2.2">TF</mtext></ci><interval closure="open" id="S2.Ex3.m1.6.6.1.1.3.2.2.3.1.cmml" xref="S2.Ex3.m1.6.6.1.1.3.2.2.3.2"><ci id="S2.Ex3.m1.3.3.cmml" xref="S2.Ex3.m1.3.3">𝑡</ci><ci id="S2.Ex3.m1.4.4.cmml" xref="S2.Ex3.m1.4.4">𝑇</ci></interval></apply><ci id="S2.Ex3.m1.6.6.1.1.3.2.3a.cmml" xref="S2.Ex3.m1.6.6.1.1.3.2.3"><mtext id="S2.Ex3.m1.6.6.1.1.3.2.3.cmml" xref="S2.Ex3.m1.6.6.1.1.3.2.3">IDF</mtext></ci></apply><ci id="S2.Ex3.m1.5.5.cmml" xref="S2.Ex3.m1.5.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex3.m1.6c">\text{TF-IDF}(t,T)=\text{TF}(t,T)\times\text{IDF}(t),</annotation><annotation encoding="application/x-llamapun" id="S2.Ex3.m1.6d">TF-IDF ( italic_t , italic_T ) = TF ( italic_t , italic_T ) × IDF ( italic_t ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.p9.7">where <math alttext="t" class="ltx_Math" display="inline" id="S2.p9.1.m1.1"><semantics id="S2.p9.1.m1.1a"><mi id="S2.p9.1.m1.1.1" xref="S2.p9.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.p9.1.m1.1b"><ci id="S2.p9.1.m1.1.1.cmml" xref="S2.p9.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p9.1.m1.1c">t</annotation><annotation encoding="application/x-llamapun" id="S2.p9.1.m1.1d">italic_t</annotation></semantics></math> is a term, <math alttext="T" class="ltx_Math" display="inline" id="S2.p9.2.m2.1"><semantics id="S2.p9.2.m2.1a"><mi id="S2.p9.2.m2.1.1" xref="S2.p9.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S2.p9.2.m2.1b"><ci id="S2.p9.2.m2.1.1.cmml" xref="S2.p9.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p9.2.m2.1c">T</annotation><annotation encoding="application/x-llamapun" id="S2.p9.2.m2.1d">italic_T</annotation></semantics></math> is a chunk, and <math alttext="\text{IDF}(t)" class="ltx_Math" display="inline" id="S2.p9.3.m3.1"><semantics id="S2.p9.3.m3.1a"><mrow id="S2.p9.3.m3.1.2" xref="S2.p9.3.m3.1.2.cmml"><mtext id="S2.p9.3.m3.1.2.2" xref="S2.p9.3.m3.1.2.2a.cmml">IDF</mtext><mo id="S2.p9.3.m3.1.2.1" xref="S2.p9.3.m3.1.2.1.cmml">⁢</mo><mrow id="S2.p9.3.m3.1.2.3.2" xref="S2.p9.3.m3.1.2.cmml"><mo id="S2.p9.3.m3.1.2.3.2.1" stretchy="false" xref="S2.p9.3.m3.1.2.cmml">(</mo><mi id="S2.p9.3.m3.1.1" xref="S2.p9.3.m3.1.1.cmml">t</mi><mo id="S2.p9.3.m3.1.2.3.2.2" stretchy="false" xref="S2.p9.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p9.3.m3.1b"><apply id="S2.p9.3.m3.1.2.cmml" xref="S2.p9.3.m3.1.2"><times id="S2.p9.3.m3.1.2.1.cmml" xref="S2.p9.3.m3.1.2.1"></times><ci id="S2.p9.3.m3.1.2.2a.cmml" xref="S2.p9.3.m3.1.2.2"><mtext id="S2.p9.3.m3.1.2.2.cmml" xref="S2.p9.3.m3.1.2.2">IDF</mtext></ci><ci id="S2.p9.3.m3.1.1.cmml" xref="S2.p9.3.m3.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p9.3.m3.1c">\text{IDF}(t)</annotation><annotation encoding="application/x-llamapun" id="S2.p9.3.m3.1d">IDF ( italic_t )</annotation></semantics></math> is the inverse chunk frequency of <math alttext="t" class="ltx_Math" display="inline" id="S2.p9.4.m4.1"><semantics id="S2.p9.4.m4.1a"><mi id="S2.p9.4.m4.1.1" xref="S2.p9.4.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.p9.4.m4.1b"><ci id="S2.p9.4.m4.1.1.cmml" xref="S2.p9.4.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p9.4.m4.1c">t</annotation><annotation encoding="application/x-llamapun" id="S2.p9.4.m4.1d">italic_t</annotation></semantics></math>.
Given a query <math alttext="q" class="ltx_Math" display="inline" id="S2.p9.5.m5.1"><semantics id="S2.p9.5.m5.1a"><mi id="S2.p9.5.m5.1.1" xref="S2.p9.5.m5.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.p9.5.m5.1b"><ci id="S2.p9.5.m5.1.1.cmml" xref="S2.p9.5.m5.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p9.5.m5.1c">q</annotation><annotation encoding="application/x-llamapun" id="S2.p9.5.m5.1d">italic_q</annotation></semantics></math>, select <math alttext="k" class="ltx_Math" display="inline" id="S2.p9.6.m6.1"><semantics id="S2.p9.6.m6.1a"><mi id="S2.p9.6.m6.1.1" xref="S2.p9.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p9.6.m6.1b"><ci id="S2.p9.6.m6.1.1.cmml" xref="S2.p9.6.m6.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p9.6.m6.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p9.6.m6.1d">italic_k</annotation></semantics></math> chunks with the highest TF-IDF<math alttext="(q,T)" class="ltx_Math" display="inline" id="S2.p9.7.m7.2"><semantics id="S2.p9.7.m7.2a"><mrow id="S2.p9.7.m7.2.3.2" xref="S2.p9.7.m7.2.3.1.cmml"><mo id="S2.p9.7.m7.2.3.2.1" stretchy="false" xref="S2.p9.7.m7.2.3.1.cmml">(</mo><mi id="S2.p9.7.m7.1.1" xref="S2.p9.7.m7.1.1.cmml">q</mi><mo id="S2.p9.7.m7.2.3.2.2" xref="S2.p9.7.m7.2.3.1.cmml">,</mo><mi id="S2.p9.7.m7.2.2" xref="S2.p9.7.m7.2.2.cmml">T</mi><mo id="S2.p9.7.m7.2.3.2.3" stretchy="false" xref="S2.p9.7.m7.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p9.7.m7.2b"><interval closure="open" id="S2.p9.7.m7.2.3.1.cmml" xref="S2.p9.7.m7.2.3.2"><ci id="S2.p9.7.m7.1.1.cmml" xref="S2.p9.7.m7.1.1">𝑞</ci><ci id="S2.p9.7.m7.2.2.cmml" xref="S2.p9.7.m7.2.2">𝑇</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.p9.7.m7.2c">(q,T)</annotation><annotation encoding="application/x-llamapun" id="S2.p9.7.m7.2d">( italic_q , italic_T )</annotation></semantics></math> values.</p>
</div>
<div class="ltx_para" id="S2.p10">
<p class="ltx_p" id="S2.p10.1"><span class="ltx_text ltx_font_bold" id="S2.p10.1.1">MMR</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx3" title="">Carbonell and Goldstein, 1998</a>]</cite>
is a retrieval algorithm that balances relevance and diversity in the selection of <math alttext="k" class="ltx_Math" display="inline" id="S2.p10.1.m1.1"><semantics id="S2.p10.1.m1.1a"><mi id="S2.p10.1.m1.1.1" xref="S2.p10.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p10.1.m1.1b"><ci id="S2.p10.1.m1.1.1.cmml" xref="S2.p10.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p10.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p10.1.m1.1d">italic_k</annotation></semantics></math> chunks. It iteratively selects chunks that are both relevant to the query and minimally redundant with respect to the chunks already selected.</p>
</div>
<div class="ltx_para" id="S2.p11">
<p class="ltx_p" id="S2.p11.1"><span class="ltx_text ltx_font_bold" id="S2.p11.1.1">EDI</span> (Euclidean Distance) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx2" title="">Bishop, 2006</a>]</cite>
measures the straight-line distance between a query and a chunk, represented in bag-of-words vectors. Return <math alttext="k" class="ltx_Math" display="inline" id="S2.p11.1.m1.1"><semantics id="S2.p11.1.m1.1a"><mi id="S2.p11.1.m1.1.1" xref="S2.p11.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p11.1.m1.1b"><ci id="S2.p11.1.m1.1.1.cmml" xref="S2.p11.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p11.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p11.1.m1.1d">italic_k</annotation></semantics></math> chunks with the shortest distance to the query.</p>
</div>
<figure class="ltx_table" id="S2.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Information of logical relations</figcaption><img alt="[Uncaptioned image]" class="ltx_graphics ltx_centering ltx_img_landscape" height="244" id="S2.T1.g1" src="extracted/5899851/Tables1and2.png" width="620"/>
</figure>
<div class="ltx_para" id="S2.p12">
<p class="ltx_p" id="S2.p12.1">A data point in RAG-Database-12000 contains the following
attributes: ‘context’,
‘question’,
‘answer’,
‘retrieved_sentences’,
‘logical_relation’,
where ‘context’ is the reference document.
There are thirteen categories of logical reasoning in the dataset. Their names, abbreviations, descriptions, and the distribution of counts are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S2.T1" title="Table 1 ‣ 2 PRELIMINARIES ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">1</span></a>. All but the last category involve deep logical reasoning, meaning that arriving at the correct answer requires complex, multi-step processes involving multiple concepts, facts, or events extracted from the content. The table includes eleven specific types of deep reasoning, with an additional category for general deep reasoning, referred to as multi-hop reasoning.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>OVERALL PERFORMANCE INDEX</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.9">Let <math alttext="A" class="ltx_Math" display="inline" id="S3.p1.1.m1.1"><semantics id="S3.p1.1.m1.1a"><mi id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><ci id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">A</annotation><annotation encoding="application/x-llamapun" id="S3.p1.1.m1.1d">italic_A</annotation></semantics></math> and <math alttext="LR" class="ltx_Math" display="inline" id="S3.p1.2.m2.1"><semantics id="S3.p1.2.m2.1a"><mrow id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1.cmml"><mi id="S3.p1.2.m2.1.1.2" xref="S3.p1.2.m2.1.1.2.cmml">L</mi><mo id="S3.p1.2.m2.1.1.1" xref="S3.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.p1.2.m2.1.1.3" xref="S3.p1.2.m2.1.1.3.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.1b"><apply id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1"><times id="S3.p1.2.m2.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1"></times><ci id="S3.p1.2.m2.1.1.2.cmml" xref="S3.p1.2.m2.1.1.2">𝐿</ci><ci id="S3.p1.2.m2.1.1.3.cmml" xref="S3.p1.2.m2.1.1.3">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.1c">LR</annotation><annotation encoding="application/x-llamapun" id="S3.p1.2.m2.1d">italic_L italic_R</annotation></semantics></math> denote, respectively, the ground-truth answer and logical relation to the question with respect to the question <math alttext="Q" class="ltx_Math" display="inline" id="S3.p1.3.m3.1"><semantics id="S3.p1.3.m3.1a"><mi id="S3.p1.3.m3.1.1" xref="S3.p1.3.m3.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S3.p1.3.m3.1b"><ci id="S3.p1.3.m3.1.1.cmml" xref="S3.p1.3.m3.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.3.m3.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S3.p1.3.m3.1d">italic_Q</annotation></semantics></math>, the context <math alttext="C" class="ltx_Math" display="inline" id="S3.p1.4.m4.1"><semantics id="S3.p1.4.m4.1a"><mi id="S3.p1.4.m4.1.1" xref="S3.p1.4.m4.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.p1.4.m4.1b"><ci id="S3.p1.4.m4.1.1.cmml" xref="S3.p1.4.m4.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.4.m4.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.p1.4.m4.1d">italic_C</annotation></semantics></math>, and the retrieved sentences <math alttext="S" class="ltx_Math" display="inline" id="S3.p1.5.m5.1"><semantics id="S3.p1.5.m5.1a"><mi id="S3.p1.5.m5.1.1" xref="S3.p1.5.m5.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.p1.5.m5.1b"><ci id="S3.p1.5.m5.1.1.cmml" xref="S3.p1.5.m5.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.5.m5.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.p1.5.m5.1d">italic_S</annotation></semantics></math>. Let <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S3.p1.6.m6.1"><semantics id="S3.p1.6.m6.1a"><msup id="S3.p1.6.m6.1.1" xref="S3.p1.6.m6.1.1.cmml"><mi id="S3.p1.6.m6.1.1.2" xref="S3.p1.6.m6.1.1.2.cmml">A</mi><mo id="S3.p1.6.m6.1.1.3" xref="S3.p1.6.m6.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.p1.6.m6.1b"><apply id="S3.p1.6.m6.1.1.cmml" xref="S3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.p1.6.m6.1.1.1.cmml" xref="S3.p1.6.m6.1.1">superscript</csymbol><ci id="S3.p1.6.m6.1.1.2.cmml" xref="S3.p1.6.m6.1.1.2">𝐴</ci><ci id="S3.p1.6.m6.1.1.3.cmml" xref="S3.p1.6.m6.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.6.m6.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.6.m6.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="LR^{\prime}" class="ltx_Math" display="inline" id="S3.p1.7.m7.1"><semantics id="S3.p1.7.m7.1a"><mrow id="S3.p1.7.m7.1.1" xref="S3.p1.7.m7.1.1.cmml"><mi id="S3.p1.7.m7.1.1.2" xref="S3.p1.7.m7.1.1.2.cmml">L</mi><mo id="S3.p1.7.m7.1.1.1" xref="S3.p1.7.m7.1.1.1.cmml">⁢</mo><msup id="S3.p1.7.m7.1.1.3" xref="S3.p1.7.m7.1.1.3.cmml"><mi id="S3.p1.7.m7.1.1.3.2" xref="S3.p1.7.m7.1.1.3.2.cmml">R</mi><mo id="S3.p1.7.m7.1.1.3.3" xref="S3.p1.7.m7.1.1.3.3.cmml">′</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.7.m7.1b"><apply id="S3.p1.7.m7.1.1.cmml" xref="S3.p1.7.m7.1.1"><times id="S3.p1.7.m7.1.1.1.cmml" xref="S3.p1.7.m7.1.1.1"></times><ci id="S3.p1.7.m7.1.1.2.cmml" xref="S3.p1.7.m7.1.1.2">𝐿</ci><apply id="S3.p1.7.m7.1.1.3.cmml" xref="S3.p1.7.m7.1.1.3"><csymbol cd="ambiguous" id="S3.p1.7.m7.1.1.3.1.cmml" xref="S3.p1.7.m7.1.1.3">superscript</csymbol><ci id="S3.p1.7.m7.1.1.3.2.cmml" xref="S3.p1.7.m7.1.1.3.2">𝑅</ci><ci id="S3.p1.7.m7.1.1.3.3.cmml" xref="S3.p1.7.m7.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.7.m7.1c">LR^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.7.m7.1d">italic_L italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> denote, respectively, the answer and the logical relation generated by a RAG system with an LLM. We represent <math alttext="A" class="ltx_Math" display="inline" id="S3.p1.8.m8.1"><semantics id="S3.p1.8.m8.1a"><mi id="S3.p1.8.m8.1.1" xref="S3.p1.8.m8.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S3.p1.8.m8.1b"><ci id="S3.p1.8.m8.1.1.cmml" xref="S3.p1.8.m8.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.8.m8.1c">A</annotation><annotation encoding="application/x-llamapun" id="S3.p1.8.m8.1d">italic_A</annotation></semantics></math> and <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S3.p1.9.m9.1"><semantics id="S3.p1.9.m9.1a"><msup id="S3.p1.9.m9.1.1" xref="S3.p1.9.m9.1.1.cmml"><mi id="S3.p1.9.m9.1.1.2" xref="S3.p1.9.m9.1.1.2.cmml">A</mi><mo id="S3.p1.9.m9.1.1.3" xref="S3.p1.9.m9.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.p1.9.m9.1b"><apply id="S3.p1.9.m9.1.1.cmml" xref="S3.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.p1.9.m9.1.1.1.cmml" xref="S3.p1.9.m9.1.1">superscript</csymbol><ci id="S3.p1.9.m9.1.1.2.cmml" xref="S3.p1.9.m9.1.1.2">𝐴</ci><ci id="S3.p1.9.m9.1.1.3.cmml" xref="S3.p1.9.m9.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.9.m9.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.9.m9.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> using BERT embeddings and compute the cosine similarity of the embeddings.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.6">For a given dataset <math alttext="D" class="ltx_Math" display="inline" id="S3.p2.1.m1.1"><semantics id="S3.p2.1.m1.1a"><mi id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><ci id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.p2.1.m1.1d">italic_D</annotation></semantics></math> with respect to a particular logical relation <math alttext="LR" class="ltx_Math" display="inline" id="S3.p2.2.m2.1"><semantics id="S3.p2.2.m2.1a"><mrow id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml"><mi id="S3.p2.2.m2.1.1.2" xref="S3.p2.2.m2.1.1.2.cmml">L</mi><mo id="S3.p2.2.m2.1.1.1" xref="S3.p2.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.p2.2.m2.1.1.3" xref="S3.p2.2.m2.1.1.3.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><apply id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1"><times id="S3.p2.2.m2.1.1.1.cmml" xref="S3.p2.2.m2.1.1.1"></times><ci id="S3.p2.2.m2.1.1.2.cmml" xref="S3.p2.2.m2.1.1.2">𝐿</ci><ci id="S3.p2.2.m2.1.1.3.cmml" xref="S3.p2.2.m2.1.1.3">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">LR</annotation><annotation encoding="application/x-llamapun" id="S3.p2.2.m2.1d">italic_L italic_R</annotation></semantics></math>, let
BERTSim<sub class="ltx_sub" id="S3.p2.6.1"><span class="ltx_text ltx_font_italic" id="S3.p2.6.1.1">D</span></sub> denote the average BERT similarity scores of all <math alttext="(A,A^{\prime})" class="ltx_Math" display="inline" id="S3.p2.4.m4.2"><semantics id="S3.p2.4.m4.2a"><mrow id="S3.p2.4.m4.2.2.1" xref="S3.p2.4.m4.2.2.2.cmml"><mo id="S3.p2.4.m4.2.2.1.2" stretchy="false" xref="S3.p2.4.m4.2.2.2.cmml">(</mo><mi id="S3.p2.4.m4.1.1" xref="S3.p2.4.m4.1.1.cmml">A</mi><mo id="S3.p2.4.m4.2.2.1.3" xref="S3.p2.4.m4.2.2.2.cmml">,</mo><msup id="S3.p2.4.m4.2.2.1.1" xref="S3.p2.4.m4.2.2.1.1.cmml"><mi id="S3.p2.4.m4.2.2.1.1.2" xref="S3.p2.4.m4.2.2.1.1.2.cmml">A</mi><mo id="S3.p2.4.m4.2.2.1.1.3" xref="S3.p2.4.m4.2.2.1.1.3.cmml">′</mo></msup><mo id="S3.p2.4.m4.2.2.1.4" stretchy="false" xref="S3.p2.4.m4.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.2b"><interval closure="open" id="S3.p2.4.m4.2.2.2.cmml" xref="S3.p2.4.m4.2.2.1"><ci id="S3.p2.4.m4.1.1.cmml" xref="S3.p2.4.m4.1.1">𝐴</ci><apply id="S3.p2.4.m4.2.2.1.1.cmml" xref="S3.p2.4.m4.2.2.1.1"><csymbol cd="ambiguous" id="S3.p2.4.m4.2.2.1.1.1.cmml" xref="S3.p2.4.m4.2.2.1.1">superscript</csymbol><ci id="S3.p2.4.m4.2.2.1.1.2.cmml" xref="S3.p2.4.m4.2.2.1.1.2">𝐴</ci><ci id="S3.p2.4.m4.2.2.1.1.3.cmml" xref="S3.p2.4.m4.2.2.1.1.3">′</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.2c">(A,A^{\prime})</annotation><annotation encoding="application/x-llamapun" id="S3.p2.4.m4.2d">( italic_A , italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT )</annotation></semantics></math> pairs
and LRCR<sub class="ltx_sub" id="S3.p2.6.2"><span class="ltx_text ltx_font_italic" id="S3.p2.6.2.1">D</span></sub> (logical-relation correctness ratio) denote the proportion of data points where the predicted logical relation matches <math alttext="LR" class="ltx_Math" display="inline" id="S3.p2.6.m6.1"><semantics id="S3.p2.6.m6.1a"><mrow id="S3.p2.6.m6.1.1" xref="S3.p2.6.m6.1.1.cmml"><mi id="S3.p2.6.m6.1.1.2" xref="S3.p2.6.m6.1.1.2.cmml">L</mi><mo id="S3.p2.6.m6.1.1.1" xref="S3.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S3.p2.6.m6.1.1.3" xref="S3.p2.6.m6.1.1.3.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.6.m6.1b"><apply id="S3.p2.6.m6.1.1.cmml" xref="S3.p2.6.m6.1.1"><times id="S3.p2.6.m6.1.1.1.cmml" xref="S3.p2.6.m6.1.1.1"></times><ci id="S3.p2.6.m6.1.1.2.cmml" xref="S3.p2.6.m6.1.1.2">𝐿</ci><ci id="S3.p2.6.m6.1.1.3.cmml" xref="S3.p2.6.m6.1.1.3">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.6.m6.1c">LR</annotation><annotation encoding="application/x-llamapun" id="S3.p2.6.m6.1d">italic_L italic_R</annotation></semantics></math>. Namely,</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S6.EGx2">
<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\text{LRCR}_{D}" class="ltx_Math" display="inline" id="S3.E1.m1.1"><semantics id="S3.E1.m1.1a"><msub id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml"><mtext id="S3.E1.m1.1.1.2" xref="S3.E1.m1.1.1.2a.cmml">LRCR</mtext><mi id="S3.E1.m1.1.1.3" xref="S3.E1.m1.1.1.3.cmml">D</mi></msub><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.cmml" xref="S3.E1.m1.1.1">subscript</csymbol><ci id="S3.E1.m1.1.1.2a.cmml" xref="S3.E1.m1.1.1.2"><mtext id="S3.E1.m1.1.1.2.cmml" xref="S3.E1.m1.1.1.2">LRCR</mtext></ci><ci id="S3.E1.m1.1.1.3.cmml" xref="S3.E1.m1.1.1.3">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">\displaystyle\text{LRCR}_{D}</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.1d">LRCR start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\frac{{|\{d\in D\mid LR=LR^{\prime}\}|}}{|D|}" class="ltx_Math" display="inline" id="S3.E1.m2.2"><semantics id="S3.E1.m2.2a"><mrow id="S3.E1.m2.2.3" xref="S3.E1.m2.2.3.cmml"><mi id="S3.E1.m2.2.3.2" xref="S3.E1.m2.2.3.2.cmml"></mi><mo id="S3.E1.m2.2.3.1" xref="S3.E1.m2.2.3.1.cmml">=</mo><mstyle displaystyle="true" id="S3.E1.m2.2.2" xref="S3.E1.m2.2.2.cmml"><mfrac id="S3.E1.m2.2.2a" xref="S3.E1.m2.2.2.cmml"><mrow id="S3.E1.m2.1.1.1.1" xref="S3.E1.m2.1.1.1.2.cmml"><mo id="S3.E1.m2.1.1.1.1.2" stretchy="false" xref="S3.E1.m2.1.1.1.2.1.cmml">|</mo><mrow id="S3.E1.m2.1.1.1.1.1.2" xref="S3.E1.m2.1.1.1.1.1.3.cmml"><mo id="S3.E1.m2.1.1.1.1.1.2.3" stretchy="false" xref="S3.E1.m2.1.1.1.1.1.3.1.cmml">{</mo><mrow id="S3.E1.m2.1.1.1.1.1.1.1" xref="S3.E1.m2.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m2.1.1.1.1.1.1.1.2" xref="S3.E1.m2.1.1.1.1.1.1.1.2.cmml">d</mi><mo id="S3.E1.m2.1.1.1.1.1.1.1.1" xref="S3.E1.m2.1.1.1.1.1.1.1.1.cmml">∈</mo><mi id="S3.E1.m2.1.1.1.1.1.1.1.3" xref="S3.E1.m2.1.1.1.1.1.1.1.3.cmml">D</mi></mrow><mo fence="true" id="S3.E1.m2.1.1.1.1.1.2.4" lspace="0em" rspace="0em" xref="S3.E1.m2.1.1.1.1.1.3.1.cmml">∣</mo><mrow id="S3.E1.m2.1.1.1.1.1.2.2" xref="S3.E1.m2.1.1.1.1.1.2.2.cmml"><mrow id="S3.E1.m2.1.1.1.1.1.2.2.2" xref="S3.E1.m2.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E1.m2.1.1.1.1.1.2.2.2.2" xref="S3.E1.m2.1.1.1.1.1.2.2.2.2.cmml">L</mi><mo id="S3.E1.m2.1.1.1.1.1.2.2.2.1" xref="S3.E1.m2.1.1.1.1.1.2.2.2.1.cmml">⁢</mo><mi id="S3.E1.m2.1.1.1.1.1.2.2.2.3" xref="S3.E1.m2.1.1.1.1.1.2.2.2.3.cmml">R</mi></mrow><mo id="S3.E1.m2.1.1.1.1.1.2.2.1" xref="S3.E1.m2.1.1.1.1.1.2.2.1.cmml">=</mo><mrow id="S3.E1.m2.1.1.1.1.1.2.2.3" xref="S3.E1.m2.1.1.1.1.1.2.2.3.cmml"><mi id="S3.E1.m2.1.1.1.1.1.2.2.3.2" xref="S3.E1.m2.1.1.1.1.1.2.2.3.2.cmml">L</mi><mo id="S3.E1.m2.1.1.1.1.1.2.2.3.1" xref="S3.E1.m2.1.1.1.1.1.2.2.3.1.cmml">⁢</mo><msup id="S3.E1.m2.1.1.1.1.1.2.2.3.3" xref="S3.E1.m2.1.1.1.1.1.2.2.3.3.cmml"><mi id="S3.E1.m2.1.1.1.1.1.2.2.3.3.2" xref="S3.E1.m2.1.1.1.1.1.2.2.3.3.2.cmml">R</mi><mo id="S3.E1.m2.1.1.1.1.1.2.2.3.3.3" xref="S3.E1.m2.1.1.1.1.1.2.2.3.3.3.cmml">′</mo></msup></mrow></mrow><mo id="S3.E1.m2.1.1.1.1.1.2.5" stretchy="false" xref="S3.E1.m2.1.1.1.1.1.3.1.cmml">}</mo></mrow><mo id="S3.E1.m2.1.1.1.1.3" stretchy="false" xref="S3.E1.m2.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S3.E1.m2.2.2.2.3" xref="S3.E1.m2.2.2.2.2.cmml"><mo id="S3.E1.m2.2.2.2.3.1" stretchy="false" xref="S3.E1.m2.2.2.2.2.1.cmml">|</mo><mi id="S3.E1.m2.2.2.2.1" xref="S3.E1.m2.2.2.2.1.cmml">D</mi><mo id="S3.E1.m2.2.2.2.3.2" stretchy="false" xref="S3.E1.m2.2.2.2.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m2.2b"><apply id="S3.E1.m2.2.3.cmml" xref="S3.E1.m2.2.3"><eq id="S3.E1.m2.2.3.1.cmml" xref="S3.E1.m2.2.3.1"></eq><csymbol cd="latexml" id="S3.E1.m2.2.3.2.cmml" xref="S3.E1.m2.2.3.2">absent</csymbol><apply id="S3.E1.m2.2.2.cmml" xref="S3.E1.m2.2.2"><divide id="S3.E1.m2.2.2.3.cmml" xref="S3.E1.m2.2.2"></divide><apply id="S3.E1.m2.1.1.1.2.cmml" xref="S3.E1.m2.1.1.1.1"><abs id="S3.E1.m2.1.1.1.2.1.cmml" xref="S3.E1.m2.1.1.1.1.2"></abs><apply id="S3.E1.m2.1.1.1.1.1.3.cmml" xref="S3.E1.m2.1.1.1.1.1.2"><csymbol cd="latexml" id="S3.E1.m2.1.1.1.1.1.3.1.cmml" xref="S3.E1.m2.1.1.1.1.1.2.3">conditional-set</csymbol><apply id="S3.E1.m2.1.1.1.1.1.1.1.cmml" xref="S3.E1.m2.1.1.1.1.1.1.1"><in id="S3.E1.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m2.1.1.1.1.1.1.1.1"></in><ci id="S3.E1.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m2.1.1.1.1.1.1.1.2">𝑑</ci><ci id="S3.E1.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m2.1.1.1.1.1.1.1.3">𝐷</ci></apply><apply id="S3.E1.m2.1.1.1.1.1.2.2.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2"><eq id="S3.E1.m2.1.1.1.1.1.2.2.1.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.1"></eq><apply id="S3.E1.m2.1.1.1.1.1.2.2.2.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.2"><times id="S3.E1.m2.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.2.1"></times><ci id="S3.E1.m2.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.2.2">𝐿</ci><ci id="S3.E1.m2.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.2.3">𝑅</ci></apply><apply id="S3.E1.m2.1.1.1.1.1.2.2.3.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.3"><times id="S3.E1.m2.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.3.1"></times><ci id="S3.E1.m2.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.3.2">𝐿</ci><apply id="S3.E1.m2.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.3.3"><csymbol cd="ambiguous" id="S3.E1.m2.1.1.1.1.1.2.2.3.3.1.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.3.3">superscript</csymbol><ci id="S3.E1.m2.1.1.1.1.1.2.2.3.3.2.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.3.3.2">𝑅</ci><ci id="S3.E1.m2.1.1.1.1.1.2.2.3.3.3.cmml" xref="S3.E1.m2.1.1.1.1.1.2.2.3.3.3">′</ci></apply></apply></apply></apply></apply><apply id="S3.E1.m2.2.2.2.2.cmml" xref="S3.E1.m2.2.2.2.3"><abs id="S3.E1.m2.2.2.2.2.1.cmml" xref="S3.E1.m2.2.2.2.3.1"></abs><ci id="S3.E1.m2.2.2.2.1.cmml" xref="S3.E1.m2.2.2.2.1">𝐷</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m2.2c">\displaystyle=\frac{{|\{d\in D\mid LR=LR^{\prime}\}|}}{|D|}</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m2.2d">= divide start_ARG | { italic_d ∈ italic_D ∣ italic_L italic_R = italic_L italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT } | end_ARG start_ARG | italic_D | end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.p3">
<p class="ltx_p" id="S3.p3.3">The OPI for dataset <math alttext="D" class="ltx_Math" display="inline" id="S3.p3.1.m1.1"><semantics id="S3.p3.1.m1.1a"><mi id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><ci id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.p3.1.m1.1d">italic_D</annotation></semantics></math> is defined by the following parameterized harmonic mean of BERTSim<sub class="ltx_sub" id="S3.p3.3.1"><span class="ltx_text ltx_font_italic" id="S3.p3.3.1.1">D</span></sub> and LRCR<sub class="ltx_sub" id="S3.p3.3.2"><span class="ltx_text ltx_font_italic" id="S3.p3.3.2.1">D</span></sub>, similar to defining the F-measure <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx12" title="">Lewis and Gale, 1994</a>]</cite>.
</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S6.EGx3">
<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\text{OPI}(\beta)_{D}" class="ltx_Math" display="inline" id="S3.E2.m1.1"><semantics id="S3.E2.m1.1a"><mrow id="S3.E2.m1.1.2" xref="S3.E2.m1.1.2.cmml"><mtext id="S3.E2.m1.1.2.2" xref="S3.E2.m1.1.2.2a.cmml">OPI</mtext><mo id="S3.E2.m1.1.2.1" xref="S3.E2.m1.1.2.1.cmml">⁢</mo><msub id="S3.E2.m1.1.2.3" xref="S3.E2.m1.1.2.3.cmml"><mrow id="S3.E2.m1.1.2.3.2.2" xref="S3.E2.m1.1.2.3.cmml"><mo id="S3.E2.m1.1.2.3.2.2.1" stretchy="false" xref="S3.E2.m1.1.2.3.cmml">(</mo><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">β</mi><mo id="S3.E2.m1.1.2.3.2.2.2" stretchy="false" xref="S3.E2.m1.1.2.3.cmml">)</mo></mrow><mi id="S3.E2.m1.1.2.3.3" xref="S3.E2.m1.1.2.3.3.cmml">D</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.1b"><apply id="S3.E2.m1.1.2.cmml" xref="S3.E2.m1.1.2"><times id="S3.E2.m1.1.2.1.cmml" xref="S3.E2.m1.1.2.1"></times><ci id="S3.E2.m1.1.2.2a.cmml" xref="S3.E2.m1.1.2.2"><mtext id="S3.E2.m1.1.2.2.cmml" xref="S3.E2.m1.1.2.2">OPI</mtext></ci><apply id="S3.E2.m1.1.2.3.cmml" xref="S3.E2.m1.1.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.2.3.1.cmml" xref="S3.E2.m1.1.2.3">subscript</csymbol><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝛽</ci><ci id="S3.E2.m1.1.2.3.3.cmml" xref="S3.E2.m1.1.2.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.1c">\displaystyle\text{OPI}(\beta)_{D}</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.1d">OPI ( italic_β ) start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\frac{(1+\beta^{2})\cdot\text{BERTSim}_{D}\cdot\text{LRCR}_{D}}{%
(\beta^{2}\cdot\text{BERTSim}_{D})+\text{LRCR}_{D}}." class="ltx_Math" display="inline" id="S3.E2.m2.3"><semantics id="S3.E2.m2.3a"><mrow id="S3.E2.m2.3.3.1" xref="S3.E2.m2.3.3.1.1.cmml"><mrow id="S3.E2.m2.3.3.1.1" xref="S3.E2.m2.3.3.1.1.cmml"><mi id="S3.E2.m2.3.3.1.1.2" xref="S3.E2.m2.3.3.1.1.2.cmml"></mi><mo id="S3.E2.m2.3.3.1.1.1" xref="S3.E2.m2.3.3.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S3.E2.m2.2.2" xref="S3.E2.m2.2.2.cmml"><mfrac id="S3.E2.m2.2.2a" xref="S3.E2.m2.2.2.cmml"><mrow id="S3.E2.m2.1.1.1" xref="S3.E2.m2.1.1.1.cmml"><mrow id="S3.E2.m2.1.1.1.1.1" xref="S3.E2.m2.1.1.1.1.1.1.cmml"><mo id="S3.E2.m2.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m2.1.1.1.1.1.1" xref="S3.E2.m2.1.1.1.1.1.1.cmml"><mn id="S3.E2.m2.1.1.1.1.1.1.2" xref="S3.E2.m2.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E2.m2.1.1.1.1.1.1.1" xref="S3.E2.m2.1.1.1.1.1.1.1.cmml">+</mo><msup id="S3.E2.m2.1.1.1.1.1.1.3" xref="S3.E2.m2.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m2.1.1.1.1.1.1.3.2" xref="S3.E2.m2.1.1.1.1.1.1.3.2.cmml">β</mi><mn id="S3.E2.m2.1.1.1.1.1.1.3.3" xref="S3.E2.m2.1.1.1.1.1.1.3.3.cmml">2</mn></msup></mrow><mo id="S3.E2.m2.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S3.E2.m2.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E2.m2.1.1.1.2" rspace="0.222em" xref="S3.E2.m2.1.1.1.2.cmml">⋅</mo><msub id="S3.E2.m2.1.1.1.3" xref="S3.E2.m2.1.1.1.3.cmml"><mtext id="S3.E2.m2.1.1.1.3.2" xref="S3.E2.m2.1.1.1.3.2a.cmml">BERTSim</mtext><mi id="S3.E2.m2.1.1.1.3.3" xref="S3.E2.m2.1.1.1.3.3.cmml">D</mi></msub><mo id="S3.E2.m2.1.1.1.2a" lspace="0.222em" rspace="0.222em" xref="S3.E2.m2.1.1.1.2.cmml">⋅</mo><msub id="S3.E2.m2.1.1.1.4" xref="S3.E2.m2.1.1.1.4.cmml"><mtext id="S3.E2.m2.1.1.1.4.2" xref="S3.E2.m2.1.1.1.4.2a.cmml">LRCR</mtext><mi id="S3.E2.m2.1.1.1.4.3" xref="S3.E2.m2.1.1.1.4.3.cmml">D</mi></msub></mrow><mrow id="S3.E2.m2.2.2.2" xref="S3.E2.m2.2.2.2.cmml"><mrow id="S3.E2.m2.2.2.2.1.1" xref="S3.E2.m2.2.2.2.1.1.1.cmml"><mo id="S3.E2.m2.2.2.2.1.1.2" stretchy="false" xref="S3.E2.m2.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.E2.m2.2.2.2.1.1.1" xref="S3.E2.m2.2.2.2.1.1.1.cmml"><msup id="S3.E2.m2.2.2.2.1.1.1.2" xref="S3.E2.m2.2.2.2.1.1.1.2.cmml"><mi id="S3.E2.m2.2.2.2.1.1.1.2.2" xref="S3.E2.m2.2.2.2.1.1.1.2.2.cmml">β</mi><mn id="S3.E2.m2.2.2.2.1.1.1.2.3" xref="S3.E2.m2.2.2.2.1.1.1.2.3.cmml">2</mn></msup><mo id="S3.E2.m2.2.2.2.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.E2.m2.2.2.2.1.1.1.1.cmml">⋅</mo><msub id="S3.E2.m2.2.2.2.1.1.1.3" xref="S3.E2.m2.2.2.2.1.1.1.3.cmml"><mtext id="S3.E2.m2.2.2.2.1.1.1.3.2" xref="S3.E2.m2.2.2.2.1.1.1.3.2a.cmml">BERTSim</mtext><mi id="S3.E2.m2.2.2.2.1.1.1.3.3" xref="S3.E2.m2.2.2.2.1.1.1.3.3.cmml">D</mi></msub></mrow><mo id="S3.E2.m2.2.2.2.1.1.3" stretchy="false" xref="S3.E2.m2.2.2.2.1.1.1.cmml">)</mo></mrow><mo id="S3.E2.m2.2.2.2.2" xref="S3.E2.m2.2.2.2.2.cmml">+</mo><msub id="S3.E2.m2.2.2.2.3" xref="S3.E2.m2.2.2.2.3.cmml"><mtext id="S3.E2.m2.2.2.2.3.2" xref="S3.E2.m2.2.2.2.3.2a.cmml">LRCR</mtext><mi id="S3.E2.m2.2.2.2.3.3" xref="S3.E2.m2.2.2.2.3.3.cmml">D</mi></msub></mrow></mfrac></mstyle></mrow><mo id="S3.E2.m2.3.3.1.2" lspace="0em" xref="S3.E2.m2.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m2.3b"><apply id="S3.E2.m2.3.3.1.1.cmml" xref="S3.E2.m2.3.3.1"><eq id="S3.E2.m2.3.3.1.1.1.cmml" xref="S3.E2.m2.3.3.1.1.1"></eq><csymbol cd="latexml" id="S3.E2.m2.3.3.1.1.2.cmml" xref="S3.E2.m2.3.3.1.1.2">absent</csymbol><apply id="S3.E2.m2.2.2.cmml" xref="S3.E2.m2.2.2"><divide id="S3.E2.m2.2.2.3.cmml" xref="S3.E2.m2.2.2"></divide><apply id="S3.E2.m2.1.1.1.cmml" xref="S3.E2.m2.1.1.1"><ci id="S3.E2.m2.1.1.1.2.cmml" xref="S3.E2.m2.1.1.1.2">⋅</ci><apply id="S3.E2.m2.1.1.1.1.1.1.cmml" xref="S3.E2.m2.1.1.1.1.1"><plus id="S3.E2.m2.1.1.1.1.1.1.1.cmml" xref="S3.E2.m2.1.1.1.1.1.1.1"></plus><cn id="S3.E2.m2.1.1.1.1.1.1.2.cmml" type="integer" xref="S3.E2.m2.1.1.1.1.1.1.2">1</cn><apply id="S3.E2.m2.1.1.1.1.1.1.3.cmml" xref="S3.E2.m2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m2.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m2.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E2.m2.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m2.1.1.1.1.1.1.3.2">𝛽</ci><cn id="S3.E2.m2.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.E2.m2.1.1.1.1.1.1.3.3">2</cn></apply></apply><apply id="S3.E2.m2.1.1.1.3.cmml" xref="S3.E2.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m2.1.1.1.3.1.cmml" xref="S3.E2.m2.1.1.1.3">subscript</csymbol><ci id="S3.E2.m2.1.1.1.3.2a.cmml" xref="S3.E2.m2.1.1.1.3.2"><mtext id="S3.E2.m2.1.1.1.3.2.cmml" xref="S3.E2.m2.1.1.1.3.2">BERTSim</mtext></ci><ci id="S3.E2.m2.1.1.1.3.3.cmml" xref="S3.E2.m2.1.1.1.3.3">𝐷</ci></apply><apply id="S3.E2.m2.1.1.1.4.cmml" xref="S3.E2.m2.1.1.1.4"><csymbol cd="ambiguous" id="S3.E2.m2.1.1.1.4.1.cmml" xref="S3.E2.m2.1.1.1.4">subscript</csymbol><ci id="S3.E2.m2.1.1.1.4.2a.cmml" xref="S3.E2.m2.1.1.1.4.2"><mtext id="S3.E2.m2.1.1.1.4.2.cmml" xref="S3.E2.m2.1.1.1.4.2">LRCR</mtext></ci><ci id="S3.E2.m2.1.1.1.4.3.cmml" xref="S3.E2.m2.1.1.1.4.3">𝐷</ci></apply></apply><apply id="S3.E2.m2.2.2.2.cmml" xref="S3.E2.m2.2.2.2"><plus id="S3.E2.m2.2.2.2.2.cmml" xref="S3.E2.m2.2.2.2.2"></plus><apply id="S3.E2.m2.2.2.2.1.1.1.cmml" xref="S3.E2.m2.2.2.2.1.1"><ci id="S3.E2.m2.2.2.2.1.1.1.1.cmml" xref="S3.E2.m2.2.2.2.1.1.1.1">⋅</ci><apply id="S3.E2.m2.2.2.2.1.1.1.2.cmml" xref="S3.E2.m2.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m2.2.2.2.1.1.1.2.1.cmml" xref="S3.E2.m2.2.2.2.1.1.1.2">superscript</csymbol><ci id="S3.E2.m2.2.2.2.1.1.1.2.2.cmml" xref="S3.E2.m2.2.2.2.1.1.1.2.2">𝛽</ci><cn id="S3.E2.m2.2.2.2.1.1.1.2.3.cmml" type="integer" xref="S3.E2.m2.2.2.2.1.1.1.2.3">2</cn></apply><apply id="S3.E2.m2.2.2.2.1.1.1.3.cmml" xref="S3.E2.m2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m2.2.2.2.1.1.1.3.1.cmml" xref="S3.E2.m2.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E2.m2.2.2.2.1.1.1.3.2a.cmml" xref="S3.E2.m2.2.2.2.1.1.1.3.2"><mtext id="S3.E2.m2.2.2.2.1.1.1.3.2.cmml" xref="S3.E2.m2.2.2.2.1.1.1.3.2">BERTSim</mtext></ci><ci id="S3.E2.m2.2.2.2.1.1.1.3.3.cmml" xref="S3.E2.m2.2.2.2.1.1.1.3.3">𝐷</ci></apply></apply><apply id="S3.E2.m2.2.2.2.3.cmml" xref="S3.E2.m2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E2.m2.2.2.2.3.1.cmml" xref="S3.E2.m2.2.2.2.3">subscript</csymbol><ci id="S3.E2.m2.2.2.2.3.2a.cmml" xref="S3.E2.m2.2.2.2.3.2"><mtext id="S3.E2.m2.2.2.2.3.2.cmml" xref="S3.E2.m2.2.2.2.3.2">LRCR</mtext></ci><ci id="S3.E2.m2.2.2.2.3.3.cmml" xref="S3.E2.m2.2.2.2.3.3">𝐷</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m2.3c">\displaystyle=\frac{(1+\beta^{2})\cdot\text{BERTSim}_{D}\cdot\text{LRCR}_{D}}{%
(\beta^{2}\cdot\text{BERTSim}_{D})+\text{LRCR}_{D}}.</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m2.3d">= divide start_ARG ( 1 + italic_β start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ) ⋅ BERTSim start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ⋅ LRCR start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT end_ARG start_ARG ( italic_β start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ⋅ BERTSim start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ) + LRCR start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.p4">
<p class="ltx_p" id="S3.p4.6"><math alttext="\text{OPI}(1)_{D}" class="ltx_Math" display="inline" id="S3.p4.1.m1.1"><semantics id="S3.p4.1.m1.1a"><mrow id="S3.p4.1.m1.1.2" xref="S3.p4.1.m1.1.2.cmml"><mtext id="S3.p4.1.m1.1.2.2" xref="S3.p4.1.m1.1.2.2a.cmml">OPI</mtext><mo id="S3.p4.1.m1.1.2.1" xref="S3.p4.1.m1.1.2.1.cmml">⁢</mo><msub id="S3.p4.1.m1.1.2.3" xref="S3.p4.1.m1.1.2.3.cmml"><mrow id="S3.p4.1.m1.1.2.3.2.2" xref="S3.p4.1.m1.1.2.3.cmml"><mo id="S3.p4.1.m1.1.2.3.2.2.1" stretchy="false" xref="S3.p4.1.m1.1.2.3.cmml">(</mo><mn id="S3.p4.1.m1.1.1" xref="S3.p4.1.m1.1.1.cmml">1</mn><mo id="S3.p4.1.m1.1.2.3.2.2.2" stretchy="false" xref="S3.p4.1.m1.1.2.3.cmml">)</mo></mrow><mi id="S3.p4.1.m1.1.2.3.3" xref="S3.p4.1.m1.1.2.3.3.cmml">D</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.1.m1.1b"><apply id="S3.p4.1.m1.1.2.cmml" xref="S3.p4.1.m1.1.2"><times id="S3.p4.1.m1.1.2.1.cmml" xref="S3.p4.1.m1.1.2.1"></times><ci id="S3.p4.1.m1.1.2.2a.cmml" xref="S3.p4.1.m1.1.2.2"><mtext id="S3.p4.1.m1.1.2.2.cmml" xref="S3.p4.1.m1.1.2.2">OPI</mtext></ci><apply id="S3.p4.1.m1.1.2.3.cmml" xref="S3.p4.1.m1.1.2.3"><csymbol cd="ambiguous" id="S3.p4.1.m1.1.2.3.1.cmml" xref="S3.p4.1.m1.1.2.3">subscript</csymbol><cn id="S3.p4.1.m1.1.1.cmml" type="integer" xref="S3.p4.1.m1.1.1">1</cn><ci id="S3.p4.1.m1.1.2.3.3.cmml" xref="S3.p4.1.m1.1.2.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.1.m1.1c">\text{OPI}(1)_{D}</annotation><annotation encoding="application/x-llamapun" id="S3.p4.1.m1.1d">OPI ( 1 ) start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT</annotation></semantics></math> weighs answer accuracy and logical relation accuracy equally.
<math alttext="\text{OPI}(\beta)_{D}" class="ltx_Math" display="inline" id="S3.p4.2.m2.1"><semantics id="S3.p4.2.m2.1a"><mrow id="S3.p4.2.m2.1.2" xref="S3.p4.2.m2.1.2.cmml"><mtext id="S3.p4.2.m2.1.2.2" xref="S3.p4.2.m2.1.2.2a.cmml">OPI</mtext><mo id="S3.p4.2.m2.1.2.1" xref="S3.p4.2.m2.1.2.1.cmml">⁢</mo><msub id="S3.p4.2.m2.1.2.3" xref="S3.p4.2.m2.1.2.3.cmml"><mrow id="S3.p4.2.m2.1.2.3.2.2" xref="S3.p4.2.m2.1.2.3.cmml"><mo id="S3.p4.2.m2.1.2.3.2.2.1" stretchy="false" xref="S3.p4.2.m2.1.2.3.cmml">(</mo><mi id="S3.p4.2.m2.1.1" xref="S3.p4.2.m2.1.1.cmml">β</mi><mo id="S3.p4.2.m2.1.2.3.2.2.2" stretchy="false" xref="S3.p4.2.m2.1.2.3.cmml">)</mo></mrow><mi id="S3.p4.2.m2.1.2.3.3" xref="S3.p4.2.m2.1.2.3.3.cmml">D</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.2.m2.1b"><apply id="S3.p4.2.m2.1.2.cmml" xref="S3.p4.2.m2.1.2"><times id="S3.p4.2.m2.1.2.1.cmml" xref="S3.p4.2.m2.1.2.1"></times><ci id="S3.p4.2.m2.1.2.2a.cmml" xref="S3.p4.2.m2.1.2.2"><mtext id="S3.p4.2.m2.1.2.2.cmml" xref="S3.p4.2.m2.1.2.2">OPI</mtext></ci><apply id="S3.p4.2.m2.1.2.3.cmml" xref="S3.p4.2.m2.1.2.3"><csymbol cd="ambiguous" id="S3.p4.2.m2.1.2.3.1.cmml" xref="S3.p4.2.m2.1.2.3">subscript</csymbol><ci id="S3.p4.2.m2.1.1.cmml" xref="S3.p4.2.m2.1.1">𝛽</ci><ci id="S3.p4.2.m2.1.2.3.3.cmml" xref="S3.p4.2.m2.1.2.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.2.m2.1c">\text{OPI}(\beta)_{D}</annotation><annotation encoding="application/x-llamapun" id="S3.p4.2.m2.1d">OPI ( italic_β ) start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT</annotation></semantics></math> weighs answer accuracy more heavily when <math alttext="\beta&gt;1" class="ltx_Math" display="inline" id="S3.p4.3.m3.1"><semantics id="S3.p4.3.m3.1a"><mrow id="S3.p4.3.m3.1.1" xref="S3.p4.3.m3.1.1.cmml"><mi id="S3.p4.3.m3.1.1.2" xref="S3.p4.3.m3.1.1.2.cmml">β</mi><mo id="S3.p4.3.m3.1.1.1" xref="S3.p4.3.m3.1.1.1.cmml">&gt;</mo><mn id="S3.p4.3.m3.1.1.3" xref="S3.p4.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.3.m3.1b"><apply id="S3.p4.3.m3.1.1.cmml" xref="S3.p4.3.m3.1.1"><gt id="S3.p4.3.m3.1.1.1.cmml" xref="S3.p4.3.m3.1.1.1"></gt><ci id="S3.p4.3.m3.1.1.2.cmml" xref="S3.p4.3.m3.1.1.2">𝛽</ci><cn id="S3.p4.3.m3.1.1.3.cmml" type="integer" xref="S3.p4.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.3.m3.1c">\beta&gt;1</annotation><annotation encoding="application/x-llamapun" id="S3.p4.3.m3.1d">italic_β &gt; 1</annotation></semantics></math> (e.g.,
<math alttext="\beta=2" class="ltx_Math" display="inline" id="S3.p4.4.m4.1"><semantics id="S3.p4.4.m4.1a"><mrow id="S3.p4.4.m4.1.1" xref="S3.p4.4.m4.1.1.cmml"><mi id="S3.p4.4.m4.1.1.2" xref="S3.p4.4.m4.1.1.2.cmml">β</mi><mo id="S3.p4.4.m4.1.1.1" xref="S3.p4.4.m4.1.1.1.cmml">=</mo><mn id="S3.p4.4.m4.1.1.3" xref="S3.p4.4.m4.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.4.m4.1b"><apply id="S3.p4.4.m4.1.1.cmml" xref="S3.p4.4.m4.1.1"><eq id="S3.p4.4.m4.1.1.1.cmml" xref="S3.p4.4.m4.1.1.1"></eq><ci id="S3.p4.4.m4.1.1.2.cmml" xref="S3.p4.4.m4.1.1.2">𝛽</ci><cn id="S3.p4.4.m4.1.1.3.cmml" type="integer" xref="S3.p4.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.4.m4.1c">\beta=2</annotation><annotation encoding="application/x-llamapun" id="S3.p4.4.m4.1d">italic_β = 2</annotation></semantics></math>),
and weighs logical relation accuracy more heavily when <math alttext="\beta&lt;1" class="ltx_Math" display="inline" id="S3.p4.5.m5.1"><semantics id="S3.p4.5.m5.1a"><mrow id="S3.p4.5.m5.1.1" xref="S3.p4.5.m5.1.1.cmml"><mi id="S3.p4.5.m5.1.1.2" xref="S3.p4.5.m5.1.1.2.cmml">β</mi><mo id="S3.p4.5.m5.1.1.1" xref="S3.p4.5.m5.1.1.1.cmml">&lt;</mo><mn id="S3.p4.5.m5.1.1.3" xref="S3.p4.5.m5.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.5.m5.1b"><apply id="S3.p4.5.m5.1.1.cmml" xref="S3.p4.5.m5.1.1"><lt id="S3.p4.5.m5.1.1.1.cmml" xref="S3.p4.5.m5.1.1.1"></lt><ci id="S3.p4.5.m5.1.1.2.cmml" xref="S3.p4.5.m5.1.1.2">𝛽</ci><cn id="S3.p4.5.m5.1.1.3.cmml" type="integer" xref="S3.p4.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.5.m5.1c">\beta&lt;1</annotation><annotation encoding="application/x-llamapun" id="S3.p4.5.m5.1d">italic_β &lt; 1</annotation></semantics></math> (e.g.,
<math alttext="\beta=0.5" class="ltx_Math" display="inline" id="S3.p4.6.m6.1"><semantics id="S3.p4.6.m6.1a"><mrow id="S3.p4.6.m6.1.1" xref="S3.p4.6.m6.1.1.cmml"><mi id="S3.p4.6.m6.1.1.2" xref="S3.p4.6.m6.1.1.2.cmml">β</mi><mo id="S3.p4.6.m6.1.1.1" xref="S3.p4.6.m6.1.1.1.cmml">=</mo><mn id="S3.p4.6.m6.1.1.3" xref="S3.p4.6.m6.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.6.m6.1b"><apply id="S3.p4.6.m6.1.1.cmml" xref="S3.p4.6.m6.1.1"><eq id="S3.p4.6.m6.1.1.1.cmml" xref="S3.p4.6.m6.1.1.1"></eq><ci id="S3.p4.6.m6.1.1.2.cmml" xref="S3.p4.6.m6.1.1.2">𝛽</ci><cn id="S3.p4.6.m6.1.1.3.cmml" type="float" xref="S3.p4.6.m6.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.6.m6.1c">\beta=0.5</annotation><annotation encoding="application/x-llamapun" id="S3.p4.6.m6.1d">italic_β = 0.5</annotation></semantics></math>).</p>
</div>
<div class="ltx_para" id="S3.p5">
<p class="ltx_p" id="S3.p5.4">When there is no confusion in the context, the subscript <math alttext="D" class="ltx_Math" display="inline" id="S3.p5.1.m1.1"><semantics id="S3.p5.1.m1.1a"><mi id="S3.p5.1.m1.1.1" xref="S3.p5.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.p5.1.m1.1b"><ci id="S3.p5.1.m1.1.1.cmml" xref="S3.p5.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.p5.1.m1.1d">italic_D</annotation></semantics></math> is omitted. Denote <math alttext="\text{OPI}(1)" class="ltx_Math" display="inline" id="S3.p5.2.m2.1"><semantics id="S3.p5.2.m2.1a"><mrow id="S3.p5.2.m2.1.2" xref="S3.p5.2.m2.1.2.cmml"><mtext id="S3.p5.2.m2.1.2.2" xref="S3.p5.2.m2.1.2.2a.cmml">OPI</mtext><mo id="S3.p5.2.m2.1.2.1" xref="S3.p5.2.m2.1.2.1.cmml">⁢</mo><mrow id="S3.p5.2.m2.1.2.3.2" xref="S3.p5.2.m2.1.2.cmml"><mo id="S3.p5.2.m2.1.2.3.2.1" stretchy="false" xref="S3.p5.2.m2.1.2.cmml">(</mo><mn id="S3.p5.2.m2.1.1" xref="S3.p5.2.m2.1.1.cmml">1</mn><mo id="S3.p5.2.m2.1.2.3.2.2" stretchy="false" xref="S3.p5.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p5.2.m2.1b"><apply id="S3.p5.2.m2.1.2.cmml" xref="S3.p5.2.m2.1.2"><times id="S3.p5.2.m2.1.2.1.cmml" xref="S3.p5.2.m2.1.2.1"></times><ci id="S3.p5.2.m2.1.2.2a.cmml" xref="S3.p5.2.m2.1.2.2"><mtext id="S3.p5.2.m2.1.2.2.cmml" xref="S3.p5.2.m2.1.2.2">OPI</mtext></ci><cn id="S3.p5.2.m2.1.1.cmml" type="integer" xref="S3.p5.2.m2.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.2.m2.1c">\text{OPI}(1)</annotation><annotation encoding="application/x-llamapun" id="S3.p5.2.m2.1d">OPI ( 1 )</annotation></semantics></math> as OPI-1, <math alttext="\text{OPI}(2)" class="ltx_Math" display="inline" id="S3.p5.3.m3.1"><semantics id="S3.p5.3.m3.1a"><mrow id="S3.p5.3.m3.1.2" xref="S3.p5.3.m3.1.2.cmml"><mtext id="S3.p5.3.m3.1.2.2" xref="S3.p5.3.m3.1.2.2a.cmml">OPI</mtext><mo id="S3.p5.3.m3.1.2.1" xref="S3.p5.3.m3.1.2.1.cmml">⁢</mo><mrow id="S3.p5.3.m3.1.2.3.2" xref="S3.p5.3.m3.1.2.cmml"><mo id="S3.p5.3.m3.1.2.3.2.1" stretchy="false" xref="S3.p5.3.m3.1.2.cmml">(</mo><mn id="S3.p5.3.m3.1.1" xref="S3.p5.3.m3.1.1.cmml">2</mn><mo id="S3.p5.3.m3.1.2.3.2.2" stretchy="false" xref="S3.p5.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p5.3.m3.1b"><apply id="S3.p5.3.m3.1.2.cmml" xref="S3.p5.3.m3.1.2"><times id="S3.p5.3.m3.1.2.1.cmml" xref="S3.p5.3.m3.1.2.1"></times><ci id="S3.p5.3.m3.1.2.2a.cmml" xref="S3.p5.3.m3.1.2.2"><mtext id="S3.p5.3.m3.1.2.2.cmml" xref="S3.p5.3.m3.1.2.2">OPI</mtext></ci><cn id="S3.p5.3.m3.1.1.cmml" type="integer" xref="S3.p5.3.m3.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.3.m3.1c">\text{OPI}(2)</annotation><annotation encoding="application/x-llamapun" id="S3.p5.3.m3.1d">OPI ( 2 )</annotation></semantics></math> as OPI-2, and <math alttext="\text{OPI}(0.5)" class="ltx_Math" display="inline" id="S3.p5.4.m4.1"><semantics id="S3.p5.4.m4.1a"><mrow id="S3.p5.4.m4.1.2" xref="S3.p5.4.m4.1.2.cmml"><mtext id="S3.p5.4.m4.1.2.2" xref="S3.p5.4.m4.1.2.2a.cmml">OPI</mtext><mo id="S3.p5.4.m4.1.2.1" xref="S3.p5.4.m4.1.2.1.cmml">⁢</mo><mrow id="S3.p5.4.m4.1.2.3.2" xref="S3.p5.4.m4.1.2.cmml"><mo id="S3.p5.4.m4.1.2.3.2.1" stretchy="false" xref="S3.p5.4.m4.1.2.cmml">(</mo><mn id="S3.p5.4.m4.1.1" xref="S3.p5.4.m4.1.1.cmml">0.5</mn><mo id="S3.p5.4.m4.1.2.3.2.2" stretchy="false" xref="S3.p5.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p5.4.m4.1b"><apply id="S3.p5.4.m4.1.2.cmml" xref="S3.p5.4.m4.1.2"><times id="S3.p5.4.m4.1.2.1.cmml" xref="S3.p5.4.m4.1.2.1"></times><ci id="S3.p5.4.m4.1.2.2a.cmml" xref="S3.p5.4.m4.1.2.2"><mtext id="S3.p5.4.m4.1.2.2.cmml" xref="S3.p5.4.m4.1.2.2">OPI</mtext></ci><cn id="S3.p5.4.m4.1.1.cmml" type="float" xref="S3.p5.4.m4.1.1">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.4.m4.1c">\text{OPI}(0.5)</annotation><annotation encoding="application/x-llamapun" id="S3.p5.4.m4.1d">OPI ( 0.5 )</annotation></semantics></math> as OPI-0.5.</p>
</div>
<div class="ltx_para" id="S3.p6">
<p class="ltx_p" id="S3.p6.1">In addition to BERTSim, other metrics may be used to measure the similarity between the generated answer and the ground-truth answer, such as Hugging Face’s MoverScore, as applied in the study of content significance distributions of text blocks in a document <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx19" title="">Zhou and Wang, 2023</a>]</cite>. We choose BERTSim because MoverScore uses IDF to compute word weights, which is better suited for extractive answers but less appropriate for generative answers produced by LLMs.</p>
</div>
<div class="ltx_para" id="S3.p7">
<p class="ltx_p" id="S3.p7.1">Experimental results show that the BERTSim metric aligns well with the outcomes of extrinsic comparisons of the ground-truth answers with the generated answers (see Section <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.SS2" title="4.2 Extrinsic Evaluation ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">4.2</span></a> for details).</p>
</div>
<div class="ltx_para" id="S3.p8">
<p class="ltx_p" id="S3.p8.1">In what follows, we will use OPI-1 as the default intrinsic measure to study the performance of RAG systems for answering deep-logic questions.</p>
</div>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>EVALUATION</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">As seen in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S2.T1" title="Table 1 ‣ 2 PRELIMINARIES ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">1</span></a>, the data points in RAG-Dataset-12000 are unevenly distributed across the 13 logical relations, with significant disparities, such as only 106 data points in Fuzzy Reasoning compared to 6,920 data points in Direct Matching. To fine-tune GPT-4o and construct a classifier for identifying logical relations, a balanced dataset is preferred. To achieve this, we randomly select 100 data points from each logical relation category, forming a new dataset called RAG-QA-1300 that consists of 1,300 data points. This dataset is then split with an 80-20 ratio to create a training set and a test set.</p>
</div>
<div class="ltx_para" id="S4.p2">
<p class="ltx_p" id="S4.p2.1">Fine-tuning was performed by combining the context, question, and answer from each data point into a cohesive input text, labeled with its corresponding logical relation. The process involved approximately 800 training steps, resulting in a validation loss of <math alttext="10^{-4}" class="ltx_Math" display="inline" id="S4.p2.1.m1.1"><semantics id="S4.p2.1.m1.1a"><msup id="S4.p2.1.m1.1.1" xref="S4.p2.1.m1.1.1.cmml"><mn id="S4.p2.1.m1.1.1.2" xref="S4.p2.1.m1.1.1.2.cmml">10</mn><mrow id="S4.p2.1.m1.1.1.3" xref="S4.p2.1.m1.1.1.3.cmml"><mo id="S4.p2.1.m1.1.1.3a" xref="S4.p2.1.m1.1.1.3.cmml">−</mo><mn id="S4.p2.1.m1.1.1.3.2" xref="S4.p2.1.m1.1.1.3.2.cmml">4</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.p2.1.m1.1b"><apply id="S4.p2.1.m1.1.1.cmml" xref="S4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p2.1.m1.1.1.1.cmml" xref="S4.p2.1.m1.1.1">superscript</csymbol><cn id="S4.p2.1.m1.1.1.2.cmml" type="integer" xref="S4.p2.1.m1.1.1.2">10</cn><apply id="S4.p2.1.m1.1.1.3.cmml" xref="S4.p2.1.m1.1.1.3"><minus id="S4.p2.1.m1.1.1.3.1.cmml" xref="S4.p2.1.m1.1.1.3"></minus><cn id="S4.p2.1.m1.1.1.3.2.cmml" type="integer" xref="S4.p2.1.m1.1.1.3.2">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.1.m1.1c">10^{-4}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.1.m1.1d">10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT</annotation></semantics></math>. This specific checkpoint was selected for its optimal performance.</p>
</div>
<div class="ltx_para" id="S4.p3">
<p class="ltx_p" id="S4.p3.1">The fine-tuned GPT-4o classifier for logical relations significantly improves the accuracy to 75.77% on the test set, compared to 49.23% when using GPT-4o out-of-the-box without fine-tuning.</p>
</div>
<div class="ltx_para" id="S4.p4">
<p class="ltx_p" id="S4.p4.1">We used LangChain with the seven common retrievers mentioned in
Section <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S2" title="2 PRELIMINARIES ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">2</span></a>. We used GPT-4o to generate answers and the fine-tuned GPT-4o classifier to generate logical relations. LangChain supports a wide range of retrievers and allows for the seamless integration of pre-trained LLMs.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Intrinsic comparisons across all logical relations, where “Retr” is an abbreviation of Retriever, “B” stands for BERTSim, “L” for LRCR, and “O-1” for OPI-1</figcaption><img alt="[Uncaptioned image]" class="ltx_graphics ltx_centering ltx_img_landscape" height="340" id="S4.T2.g1" src="extracted/5899851/Comparisons.png" width="620"/>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Intrinsic Evaluation</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">We set the chunk size to 100 (words) with a chunk overlap of 20 % in the setting of LangChain, where paragraph breaks, line breaks, periods, question marks, and exclamation marks are set to be the separators.
These settings were fed into the LangChain function <code class="ltx_verbatim ltx_font_typewriter" id="S4.SS1.p1.1.1">RecursiveCharacterTextSplitter</code> to split a reference document into chunks, where each chunk contains up to 100 words, ending at a specified separator to break naturally such that the chunk is as large as possible, and adjacent chunks have a 20% overlap.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">We used the default settings for each retriever to return four chunks in the context with the best scores—highest for similarity and ranking measures, smallest for distance measures—from the underlying retriever as the most relevant to the query. We then converted the four chunks extracted by the retriever back into complete sentences as they appeared in the original article. These sentences and the query were then fed to GPT-4o to generate an answer. Moreover, we instructed GPT-4o to determine the logical relationship for the answer with respect to the input text.</p>
</div>
<div class="ltx_para" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.5">We consider the accuracy of the generated answers and logical relations to be equally important.
Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T2" title="Table 2 ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">2</span></a>
presents the evaluation results of OPI-1
on the test data of RAG-QA-1300. The OPI-1 score with respect to each retriever is calculated for each set of data points of the same logical relation.
The average OPI-1 score for each retriever across all logical relations is calculated by</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S6.EGx4">
<tbody id="S4.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><span class="ltx_text ltx_markedasmath" id="S4.E3.2.1.1.1">OPI-1</span></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\frac{2/|L|\cdot\sum_{\ell\in L}\text{BERTSim}_{\ell}\cdot\sum_{%
\ell\in L}\text{LRCR}_{\ell}}{\sum_{\ell\in L}\text{BERTSim}_{\ell}+\sum_{\ell%
\in L}\text{LRCR}_{\ell}}," class="ltx_Math" display="inline" id="S4.E3.m2.2"><semantics id="S4.E3.m2.2a"><mrow id="S4.E3.m2.2.2.1" xref="S4.E3.m2.2.2.1.1.cmml"><mrow id="S4.E3.m2.2.2.1.1" xref="S4.E3.m2.2.2.1.1.cmml"><mi id="S4.E3.m2.2.2.1.1.2" xref="S4.E3.m2.2.2.1.1.2.cmml"></mi><mo id="S4.E3.m2.2.2.1.1.1" xref="S4.E3.m2.2.2.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S4.E3.m2.1.1" xref="S4.E3.m2.1.1.cmml"><mfrac id="S4.E3.m2.1.1a" xref="S4.E3.m2.1.1.cmml"><mrow id="S4.E3.m2.1.1.1" xref="S4.E3.m2.1.1.1.cmml"><mrow id="S4.E3.m2.1.1.1.3" xref="S4.E3.m2.1.1.1.3.cmml"><mn id="S4.E3.m2.1.1.1.3.2" xref="S4.E3.m2.1.1.1.3.2.cmml">2</mn><mo id="S4.E3.m2.1.1.1.3.1" xref="S4.E3.m2.1.1.1.3.1.cmml">/</mo><mrow id="S4.E3.m2.1.1.1.3.3.2" xref="S4.E3.m2.1.1.1.3.3.1.cmml"><mo id="S4.E3.m2.1.1.1.3.3.2.1" stretchy="false" xref="S4.E3.m2.1.1.1.3.3.1.1.cmml">|</mo><mi id="S4.E3.m2.1.1.1.1" xref="S4.E3.m2.1.1.1.1.cmml">L</mi><mo id="S4.E3.m2.1.1.1.3.3.2.2" rspace="0.055em" stretchy="false" xref="S4.E3.m2.1.1.1.3.3.1.1.cmml">|</mo></mrow></mrow><mo id="S4.E3.m2.1.1.1.2" rspace="0.055em" xref="S4.E3.m2.1.1.1.2.cmml">⋅</mo><mrow id="S4.E3.m2.1.1.1.4" xref="S4.E3.m2.1.1.1.4.cmml"><msub id="S4.E3.m2.1.1.1.4.1" xref="S4.E3.m2.1.1.1.4.1.cmml"><mo id="S4.E3.m2.1.1.1.4.1.2" xref="S4.E3.m2.1.1.1.4.1.2.cmml">∑</mo><mrow id="S4.E3.m2.1.1.1.4.1.3" xref="S4.E3.m2.1.1.1.4.1.3.cmml"><mi id="S4.E3.m2.1.1.1.4.1.3.2" mathvariant="normal" xref="S4.E3.m2.1.1.1.4.1.3.2.cmml">ℓ</mi><mo id="S4.E3.m2.1.1.1.4.1.3.1" xref="S4.E3.m2.1.1.1.4.1.3.1.cmml">∈</mo><mi id="S4.E3.m2.1.1.1.4.1.3.3" xref="S4.E3.m2.1.1.1.4.1.3.3.cmml">L</mi></mrow></msub><mrow id="S4.E3.m2.1.1.1.4.2" xref="S4.E3.m2.1.1.1.4.2.cmml"><msub id="S4.E3.m2.1.1.1.4.2.2" xref="S4.E3.m2.1.1.1.4.2.2.cmml"><mtext id="S4.E3.m2.1.1.1.4.2.2.2" xref="S4.E3.m2.1.1.1.4.2.2.2a.cmml">BERTSim</mtext><mi id="S4.E3.m2.1.1.1.4.2.2.3" mathvariant="normal" xref="S4.E3.m2.1.1.1.4.2.2.3.cmml">ℓ</mi></msub><mo id="S4.E3.m2.1.1.1.4.2.1" lspace="0.222em" rspace="0.055em" xref="S4.E3.m2.1.1.1.4.2.1.cmml">⋅</mo><mrow id="S4.E3.m2.1.1.1.4.2.3" xref="S4.E3.m2.1.1.1.4.2.3.cmml"><msub id="S4.E3.m2.1.1.1.4.2.3.1" xref="S4.E3.m2.1.1.1.4.2.3.1.cmml"><mo id="S4.E3.m2.1.1.1.4.2.3.1.2" xref="S4.E3.m2.1.1.1.4.2.3.1.2.cmml">∑</mo><mrow id="S4.E3.m2.1.1.1.4.2.3.1.3" xref="S4.E3.m2.1.1.1.4.2.3.1.3.cmml"><mi id="S4.E3.m2.1.1.1.4.2.3.1.3.2" mathvariant="normal" xref="S4.E3.m2.1.1.1.4.2.3.1.3.2.cmml">ℓ</mi><mo id="S4.E3.m2.1.1.1.4.2.3.1.3.1" xref="S4.E3.m2.1.1.1.4.2.3.1.3.1.cmml">∈</mo><mi id="S4.E3.m2.1.1.1.4.2.3.1.3.3" xref="S4.E3.m2.1.1.1.4.2.3.1.3.3.cmml">L</mi></mrow></msub><msub id="S4.E3.m2.1.1.1.4.2.3.2" xref="S4.E3.m2.1.1.1.4.2.3.2.cmml"><mtext id="S4.E3.m2.1.1.1.4.2.3.2.2" xref="S4.E3.m2.1.1.1.4.2.3.2.2a.cmml">LRCR</mtext><mi id="S4.E3.m2.1.1.1.4.2.3.2.3" mathvariant="normal" xref="S4.E3.m2.1.1.1.4.2.3.2.3.cmml">ℓ</mi></msub></mrow></mrow></mrow></mrow><mrow id="S4.E3.m2.1.1.3" xref="S4.E3.m2.1.1.3.cmml"><mrow id="S4.E3.m2.1.1.3.2" xref="S4.E3.m2.1.1.3.2.cmml"><msub id="S4.E3.m2.1.1.3.2.1" xref="S4.E3.m2.1.1.3.2.1.cmml"><mo id="S4.E3.m2.1.1.3.2.1.2" xref="S4.E3.m2.1.1.3.2.1.2.cmml">∑</mo><mrow id="S4.E3.m2.1.1.3.2.1.3" xref="S4.E3.m2.1.1.3.2.1.3.cmml"><mi id="S4.E3.m2.1.1.3.2.1.3.2" mathvariant="normal" xref="S4.E3.m2.1.1.3.2.1.3.2.cmml">ℓ</mi><mo id="S4.E3.m2.1.1.3.2.1.3.1" xref="S4.E3.m2.1.1.3.2.1.3.1.cmml">∈</mo><mi id="S4.E3.m2.1.1.3.2.1.3.3" xref="S4.E3.m2.1.1.3.2.1.3.3.cmml">L</mi></mrow></msub><msub id="S4.E3.m2.1.1.3.2.2" xref="S4.E3.m2.1.1.3.2.2.cmml"><mtext id="S4.E3.m2.1.1.3.2.2.2" xref="S4.E3.m2.1.1.3.2.2.2a.cmml">BERTSim</mtext><mi id="S4.E3.m2.1.1.3.2.2.3" mathvariant="normal" xref="S4.E3.m2.1.1.3.2.2.3.cmml">ℓ</mi></msub></mrow><mo id="S4.E3.m2.1.1.3.1" rspace="0.055em" xref="S4.E3.m2.1.1.3.1.cmml">+</mo><mrow id="S4.E3.m2.1.1.3.3" xref="S4.E3.m2.1.1.3.3.cmml"><msub id="S4.E3.m2.1.1.3.3.1" xref="S4.E3.m2.1.1.3.3.1.cmml"><mo id="S4.E3.m2.1.1.3.3.1.2" xref="S4.E3.m2.1.1.3.3.1.2.cmml">∑</mo><mrow id="S4.E3.m2.1.1.3.3.1.3" xref="S4.E3.m2.1.1.3.3.1.3.cmml"><mi id="S4.E3.m2.1.1.3.3.1.3.2" mathvariant="normal" xref="S4.E3.m2.1.1.3.3.1.3.2.cmml">ℓ</mi><mo id="S4.E3.m2.1.1.3.3.1.3.1" xref="S4.E3.m2.1.1.3.3.1.3.1.cmml">∈</mo><mi id="S4.E3.m2.1.1.3.3.1.3.3" xref="S4.E3.m2.1.1.3.3.1.3.3.cmml">L</mi></mrow></msub><msub id="S4.E3.m2.1.1.3.3.2" xref="S4.E3.m2.1.1.3.3.2.cmml"><mtext id="S4.E3.m2.1.1.3.3.2.2" xref="S4.E3.m2.1.1.3.3.2.2a.cmml">LRCR</mtext><mi id="S4.E3.m2.1.1.3.3.2.3" mathvariant="normal" xref="S4.E3.m2.1.1.3.3.2.3.cmml">ℓ</mi></msub></mrow></mrow></mfrac></mstyle></mrow><mo id="S4.E3.m2.2.2.1.2" xref="S4.E3.m2.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m2.2b"><apply id="S4.E3.m2.2.2.1.1.cmml" xref="S4.E3.m2.2.2.1"><eq id="S4.E3.m2.2.2.1.1.1.cmml" xref="S4.E3.m2.2.2.1.1.1"></eq><csymbol cd="latexml" id="S4.E3.m2.2.2.1.1.2.cmml" xref="S4.E3.m2.2.2.1.1.2">absent</csymbol><apply id="S4.E3.m2.1.1.cmml" xref="S4.E3.m2.1.1"><divide id="S4.E3.m2.1.1.2.cmml" xref="S4.E3.m2.1.1"></divide><apply id="S4.E3.m2.1.1.1.cmml" xref="S4.E3.m2.1.1.1"><ci id="S4.E3.m2.1.1.1.2.cmml" xref="S4.E3.m2.1.1.1.2">⋅</ci><apply id="S4.E3.m2.1.1.1.3.cmml" xref="S4.E3.m2.1.1.1.3"><divide id="S4.E3.m2.1.1.1.3.1.cmml" xref="S4.E3.m2.1.1.1.3.1"></divide><cn id="S4.E3.m2.1.1.1.3.2.cmml" type="integer" xref="S4.E3.m2.1.1.1.3.2">2</cn><apply id="S4.E3.m2.1.1.1.3.3.1.cmml" xref="S4.E3.m2.1.1.1.3.3.2"><abs id="S4.E3.m2.1.1.1.3.3.1.1.cmml" xref="S4.E3.m2.1.1.1.3.3.2.1"></abs><ci id="S4.E3.m2.1.1.1.1.cmml" xref="S4.E3.m2.1.1.1.1">𝐿</ci></apply></apply><apply id="S4.E3.m2.1.1.1.4.cmml" xref="S4.E3.m2.1.1.1.4"><apply id="S4.E3.m2.1.1.1.4.1.cmml" xref="S4.E3.m2.1.1.1.4.1"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.1.4.1.1.cmml" xref="S4.E3.m2.1.1.1.4.1">subscript</csymbol><sum id="S4.E3.m2.1.1.1.4.1.2.cmml" xref="S4.E3.m2.1.1.1.4.1.2"></sum><apply id="S4.E3.m2.1.1.1.4.1.3.cmml" xref="S4.E3.m2.1.1.1.4.1.3"><in id="S4.E3.m2.1.1.1.4.1.3.1.cmml" xref="S4.E3.m2.1.1.1.4.1.3.1"></in><ci id="S4.E3.m2.1.1.1.4.1.3.2.cmml" xref="S4.E3.m2.1.1.1.4.1.3.2">ℓ</ci><ci id="S4.E3.m2.1.1.1.4.1.3.3.cmml" xref="S4.E3.m2.1.1.1.4.1.3.3">𝐿</ci></apply></apply><apply id="S4.E3.m2.1.1.1.4.2.cmml" xref="S4.E3.m2.1.1.1.4.2"><ci id="S4.E3.m2.1.1.1.4.2.1.cmml" xref="S4.E3.m2.1.1.1.4.2.1">⋅</ci><apply id="S4.E3.m2.1.1.1.4.2.2.cmml" xref="S4.E3.m2.1.1.1.4.2.2"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.1.4.2.2.1.cmml" xref="S4.E3.m2.1.1.1.4.2.2">subscript</csymbol><ci id="S4.E3.m2.1.1.1.4.2.2.2a.cmml" xref="S4.E3.m2.1.1.1.4.2.2.2"><mtext id="S4.E3.m2.1.1.1.4.2.2.2.cmml" xref="S4.E3.m2.1.1.1.4.2.2.2">BERTSim</mtext></ci><ci id="S4.E3.m2.1.1.1.4.2.2.3.cmml" xref="S4.E3.m2.1.1.1.4.2.2.3">ℓ</ci></apply><apply id="S4.E3.m2.1.1.1.4.2.3.cmml" xref="S4.E3.m2.1.1.1.4.2.3"><apply id="S4.E3.m2.1.1.1.4.2.3.1.cmml" xref="S4.E3.m2.1.1.1.4.2.3.1"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.1.4.2.3.1.1.cmml" xref="S4.E3.m2.1.1.1.4.2.3.1">subscript</csymbol><sum id="S4.E3.m2.1.1.1.4.2.3.1.2.cmml" xref="S4.E3.m2.1.1.1.4.2.3.1.2"></sum><apply id="S4.E3.m2.1.1.1.4.2.3.1.3.cmml" xref="S4.E3.m2.1.1.1.4.2.3.1.3"><in id="S4.E3.m2.1.1.1.4.2.3.1.3.1.cmml" xref="S4.E3.m2.1.1.1.4.2.3.1.3.1"></in><ci id="S4.E3.m2.1.1.1.4.2.3.1.3.2.cmml" xref="S4.E3.m2.1.1.1.4.2.3.1.3.2">ℓ</ci><ci id="S4.E3.m2.1.1.1.4.2.3.1.3.3.cmml" xref="S4.E3.m2.1.1.1.4.2.3.1.3.3">𝐿</ci></apply></apply><apply id="S4.E3.m2.1.1.1.4.2.3.2.cmml" xref="S4.E3.m2.1.1.1.4.2.3.2"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.1.4.2.3.2.1.cmml" xref="S4.E3.m2.1.1.1.4.2.3.2">subscript</csymbol><ci id="S4.E3.m2.1.1.1.4.2.3.2.2a.cmml" xref="S4.E3.m2.1.1.1.4.2.3.2.2"><mtext id="S4.E3.m2.1.1.1.4.2.3.2.2.cmml" xref="S4.E3.m2.1.1.1.4.2.3.2.2">LRCR</mtext></ci><ci id="S4.E3.m2.1.1.1.4.2.3.2.3.cmml" xref="S4.E3.m2.1.1.1.4.2.3.2.3">ℓ</ci></apply></apply></apply></apply></apply><apply id="S4.E3.m2.1.1.3.cmml" xref="S4.E3.m2.1.1.3"><plus id="S4.E3.m2.1.1.3.1.cmml" xref="S4.E3.m2.1.1.3.1"></plus><apply id="S4.E3.m2.1.1.3.2.cmml" xref="S4.E3.m2.1.1.3.2"><apply id="S4.E3.m2.1.1.3.2.1.cmml" xref="S4.E3.m2.1.1.3.2.1"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.3.2.1.1.cmml" xref="S4.E3.m2.1.1.3.2.1">subscript</csymbol><sum id="S4.E3.m2.1.1.3.2.1.2.cmml" xref="S4.E3.m2.1.1.3.2.1.2"></sum><apply id="S4.E3.m2.1.1.3.2.1.3.cmml" xref="S4.E3.m2.1.1.3.2.1.3"><in id="S4.E3.m2.1.1.3.2.1.3.1.cmml" xref="S4.E3.m2.1.1.3.2.1.3.1"></in><ci id="S4.E3.m2.1.1.3.2.1.3.2.cmml" xref="S4.E3.m2.1.1.3.2.1.3.2">ℓ</ci><ci id="S4.E3.m2.1.1.3.2.1.3.3.cmml" xref="S4.E3.m2.1.1.3.2.1.3.3">𝐿</ci></apply></apply><apply id="S4.E3.m2.1.1.3.2.2.cmml" xref="S4.E3.m2.1.1.3.2.2"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.3.2.2.1.cmml" xref="S4.E3.m2.1.1.3.2.2">subscript</csymbol><ci id="S4.E3.m2.1.1.3.2.2.2a.cmml" xref="S4.E3.m2.1.1.3.2.2.2"><mtext id="S4.E3.m2.1.1.3.2.2.2.cmml" xref="S4.E3.m2.1.1.3.2.2.2">BERTSim</mtext></ci><ci id="S4.E3.m2.1.1.3.2.2.3.cmml" xref="S4.E3.m2.1.1.3.2.2.3">ℓ</ci></apply></apply><apply id="S4.E3.m2.1.1.3.3.cmml" xref="S4.E3.m2.1.1.3.3"><apply id="S4.E3.m2.1.1.3.3.1.cmml" xref="S4.E3.m2.1.1.3.3.1"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.3.3.1.1.cmml" xref="S4.E3.m2.1.1.3.3.1">subscript</csymbol><sum id="S4.E3.m2.1.1.3.3.1.2.cmml" xref="S4.E3.m2.1.1.3.3.1.2"></sum><apply id="S4.E3.m2.1.1.3.3.1.3.cmml" xref="S4.E3.m2.1.1.3.3.1.3"><in id="S4.E3.m2.1.1.3.3.1.3.1.cmml" xref="S4.E3.m2.1.1.3.3.1.3.1"></in><ci id="S4.E3.m2.1.1.3.3.1.3.2.cmml" xref="S4.E3.m2.1.1.3.3.1.3.2">ℓ</ci><ci id="S4.E3.m2.1.1.3.3.1.3.3.cmml" xref="S4.E3.m2.1.1.3.3.1.3.3">𝐿</ci></apply></apply><apply id="S4.E3.m2.1.1.3.3.2.cmml" xref="S4.E3.m2.1.1.3.3.2"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.3.3.2.1.cmml" xref="S4.E3.m2.1.1.3.3.2">subscript</csymbol><ci id="S4.E3.m2.1.1.3.3.2.2a.cmml" xref="S4.E3.m2.1.1.3.3.2.2"><mtext id="S4.E3.m2.1.1.3.3.2.2.cmml" xref="S4.E3.m2.1.1.3.3.2.2">LRCR</mtext></ci><ci id="S4.E3.m2.1.1.3.3.2.3.cmml" xref="S4.E3.m2.1.1.3.3.2.3">ℓ</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m2.2c">\displaystyle=\frac{2/|L|\cdot\sum_{\ell\in L}\text{BERTSim}_{\ell}\cdot\sum_{%
\ell\in L}\text{LRCR}_{\ell}}{\sum_{\ell\in L}\text{BERTSim}_{\ell}+\sum_{\ell%
\in L}\text{LRCR}_{\ell}},</annotation><annotation encoding="application/x-llamapun" id="S4.E3.m2.2d">= divide start_ARG 2 / | italic_L | ⋅ ∑ start_POSTSUBSCRIPT roman_ℓ ∈ italic_L end_POSTSUBSCRIPT BERTSim start_POSTSUBSCRIPT roman_ℓ end_POSTSUBSCRIPT ⋅ ∑ start_POSTSUBSCRIPT roman_ℓ ∈ italic_L end_POSTSUBSCRIPT LRCR start_POSTSUBSCRIPT roman_ℓ end_POSTSUBSCRIPT end_ARG start_ARG ∑ start_POSTSUBSCRIPT roman_ℓ ∈ italic_L end_POSTSUBSCRIPT BERTSim start_POSTSUBSCRIPT roman_ℓ end_POSTSUBSCRIPT + ∑ start_POSTSUBSCRIPT roman_ℓ ∈ italic_L end_POSTSUBSCRIPT LRCR start_POSTSUBSCRIPT roman_ℓ end_POSTSUBSCRIPT end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS1.p3.4">where <math alttext="L" class="ltx_Math" display="inline" id="S4.SS1.p3.1.m1.1"><semantics id="S4.SS1.p3.1.m1.1a"><mi id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><ci id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.1.m1.1d">italic_L</annotation></semantics></math> is the set of the 13 logical relations, and <math alttext="\text{BERTSim}_{\ell}" class="ltx_Math" display="inline" id="S4.SS1.p3.2.m2.1"><semantics id="S4.SS1.p3.2.m2.1a"><msub id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml"><mtext id="S4.SS1.p3.2.m2.1.1.2" xref="S4.SS1.p3.2.m2.1.1.2a.cmml">BERTSim</mtext><mi id="S4.SS1.p3.2.m2.1.1.3" mathvariant="normal" xref="S4.SS1.p3.2.m2.1.1.3.cmml">ℓ</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b"><apply id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.2.m2.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.p3.2.m2.1.1.2a.cmml" xref="S4.SS1.p3.2.m2.1.1.2"><mtext id="S4.SS1.p3.2.m2.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.2">BERTSim</mtext></ci><ci id="S4.SS1.p3.2.m2.1.1.3.cmml" xref="S4.SS1.p3.2.m2.1.1.3">ℓ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">\text{BERTSim}_{\ell}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.2.m2.1d">BERTSim start_POSTSUBSCRIPT roman_ℓ end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\text{LRCR}_{\ell}" class="ltx_Math" display="inline" id="S4.SS1.p3.3.m3.1"><semantics id="S4.SS1.p3.3.m3.1a"><msub id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml"><mtext id="S4.SS1.p3.3.m3.1.1.2" xref="S4.SS1.p3.3.m3.1.1.2a.cmml">LRCR</mtext><mi id="S4.SS1.p3.3.m3.1.1.3" mathvariant="normal" xref="S4.SS1.p3.3.m3.1.1.3.cmml">ℓ</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.1b"><apply id="S4.SS1.p3.3.m3.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.3.m3.1.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1">subscript</csymbol><ci id="S4.SS1.p3.3.m3.1.1.2a.cmml" xref="S4.SS1.p3.3.m3.1.1.2"><mtext id="S4.SS1.p3.3.m3.1.1.2.cmml" xref="S4.SS1.p3.3.m3.1.1.2">LRCR</mtext></ci><ci id="S4.SS1.p3.3.m3.1.1.3.cmml" xref="S4.SS1.p3.3.m3.1.1.3">ℓ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.3.m3.1c">\text{LRCR}_{\ell}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.3.m3.1d">LRCR start_POSTSUBSCRIPT roman_ℓ end_POSTSUBSCRIPT</annotation></semantics></math> denote, respectively,
the corresponding BERTSim score and LRCR value for the logical relation
<math alttext="\ell" class="ltx_Math" display="inline" id="S4.SS1.p3.4.m4.1"><semantics id="S4.SS1.p3.4.m4.1a"><mi id="S4.SS1.p3.4.m4.1.1" mathvariant="normal" xref="S4.SS1.p3.4.m4.1.1.cmml">ℓ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.4.m4.1b"><ci id="S4.SS1.p3.4.m4.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1">ℓ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.4.m4.1c">\ell</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.4.m4.1d">roman_ℓ</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.1">An alternative is to calculate the average OPI-1 score across all logical relations. While this differs slightly from Formula (<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.E3" title="In 4.1 Intrinsic Evaluation ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">3</span></a>), the difference is minimal. We prefer Formula (<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.E3" title="In 4.1 Intrinsic Evaluation ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">3</span></a>) for practical efficiency, as it bypasses the need to compute individual OPI-1 scores for each logical relation when these scores are not needed in applications, streamlining the process and reducing unnecessary computations.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Extrinsic Evaluation</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.5">The extrinsic evaluation uses a 0-3-7, 3-point scoring system to score <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><msup id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mi id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml">A</mi><mo id="S4.SS2.p1.1.m1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">superscript</csymbol><ci id="S4.SS2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.SS2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> for each pair <math alttext="(A,A^{\prime})" class="ltx_Math" display="inline" id="S4.SS2.p1.2.m2.2"><semantics id="S4.SS2.p1.2.m2.2a"><mrow id="S4.SS2.p1.2.m2.2.2.1" xref="S4.SS2.p1.2.m2.2.2.2.cmml"><mo id="S4.SS2.p1.2.m2.2.2.1.2" stretchy="false" xref="S4.SS2.p1.2.m2.2.2.2.cmml">(</mo><mi id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml">A</mi><mo id="S4.SS2.p1.2.m2.2.2.1.3" xref="S4.SS2.p1.2.m2.2.2.2.cmml">,</mo><msup id="S4.SS2.p1.2.m2.2.2.1.1" xref="S4.SS2.p1.2.m2.2.2.1.1.cmml"><mi id="S4.SS2.p1.2.m2.2.2.1.1.2" xref="S4.SS2.p1.2.m2.2.2.1.1.2.cmml">A</mi><mo id="S4.SS2.p1.2.m2.2.2.1.1.3" xref="S4.SS2.p1.2.m2.2.2.1.1.3.cmml">′</mo></msup><mo id="S4.SS2.p1.2.m2.2.2.1.4" stretchy="false" xref="S4.SS2.p1.2.m2.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.2b"><interval closure="open" id="S4.SS2.p1.2.m2.2.2.2.cmml" xref="S4.SS2.p1.2.m2.2.2.1"><ci id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1">𝐴</ci><apply id="S4.SS2.p1.2.m2.2.2.1.1.cmml" xref="S4.SS2.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.2.2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.2.2.1.1">superscript</csymbol><ci id="S4.SS2.p1.2.m2.2.2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.2.2.1.1.2">𝐴</ci><ci id="S4.SS2.p1.2.m2.2.2.1.1.3.cmml" xref="S4.SS2.p1.2.m2.2.2.1.1.3">′</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.2c">(A,A^{\prime})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.2.m2.2d">( italic_A , italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT )</annotation></semantics></math>, where <math alttext="A" class="ltx_Math" display="inline" id="S4.SS2.p1.3.m3.1"><semantics id="S4.SS2.p1.3.m3.1a"><mi id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><ci id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.3.m3.1d">italic_A</annotation></semantics></math> is the ground-truth answer and <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.SS2.p1.4.m4.1"><semantics id="S4.SS2.p1.4.m4.1a"><msup id="S4.SS2.p1.4.m4.1.1" xref="S4.SS2.p1.4.m4.1.1.cmml"><mi id="S4.SS2.p1.4.m4.1.1.2" xref="S4.SS2.p1.4.m4.1.1.2.cmml">A</mi><mo id="S4.SS2.p1.4.m4.1.1.3" xref="S4.SS2.p1.4.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m4.1b"><apply id="S4.SS2.p1.4.m4.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.4.m4.1.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1">superscript</csymbol><ci id="S4.SS2.p1.4.m4.1.1.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2">𝐴</ci><ci id="S4.SS2.p1.4.m4.1.1.3.cmml" xref="S4.SS2.p1.4.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.4.m4.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.4.m4.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> is the answer generated directly by GPT-4o based on the question <math alttext="Q" class="ltx_Math" display="inline" id="S4.SS2.p1.5.m5.1"><semantics id="S4.SS2.p1.5.m5.1a"><mi id="S4.SS2.p1.5.m5.1.1" xref="S4.SS2.p1.5.m5.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.5.m5.1b"><ci id="S4.SS2.p1.5.m5.1.1.cmml" xref="S4.SS2.p1.5.m5.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.5.m5.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.5.m5.1d">italic_Q</annotation></semantics></math> and the extracted sentences in the corresponding data point. The scoring system works as follows:</p>
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.2"><math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I1.i1.p1.1.m1.1"><semantics id="S4.I1.i1.p1.1.m1.1a"><msup id="S4.I1.i1.p1.1.m1.1.1" xref="S4.I1.i1.p1.1.m1.1.1.cmml"><mi id="S4.I1.i1.p1.1.m1.1.1.2" xref="S4.I1.i1.p1.1.m1.1.1.2.cmml">A</mi><mo id="S4.I1.i1.p1.1.m1.1.1.3" xref="S4.I1.i1.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.1.m1.1b"><apply id="S4.I1.i1.p1.1.m1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.1.m1.1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I1.i1.p1.1.m1.1.1.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> receives 7 points if it exactly matches the meaning of <math alttext="A" class="ltx_Math" display="inline" id="S4.I1.i1.p1.2.m2.1"><semantics id="S4.I1.i1.p1.2.m2.1a"><mi id="S4.I1.i1.p1.2.m2.1.1" xref="S4.I1.i1.p1.2.m2.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.2.m2.1b"><ci id="S4.I1.i1.p1.2.m2.1.1.cmml" xref="S4.I1.i1.p1.2.m2.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.2.m2.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.2.m2.1d">italic_A</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.3"><math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.1.m1.1"><semantics id="S4.I1.i2.p1.1.m1.1a"><msup id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml"><mi id="S4.I1.i2.p1.1.m1.1.1.2" xref="S4.I1.i2.p1.1.m1.1.1.2.cmml">A</mi><mo id="S4.I1.i2.p1.1.m1.1.1.3" xref="S4.I1.i2.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b"><apply id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p1.1.m1.1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I1.i2.p1.1.m1.1.1.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.I1.i2.p1.1.m1.1.1.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> receives 3 points if it partially matches the meaning of <math alttext="A" class="ltx_Math" display="inline" id="S4.I1.i2.p1.2.m2.1"><semantics id="S4.I1.i2.p1.2.m2.1a"><mi id="S4.I1.i2.p1.2.m2.1.1" xref="S4.I1.i2.p1.2.m2.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.2.m2.1b"><ci id="S4.I1.i2.p1.2.m2.1.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.2.m2.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.2.m2.1d">italic_A</annotation></semantics></math>, with or without extra information not contained in <math alttext="A" class="ltx_Math" display="inline" id="S4.I1.i2.p1.3.m3.1"><semantics id="S4.I1.i2.p1.3.m3.1a"><mi id="S4.I1.i2.p1.3.m3.1.1" xref="S4.I1.i2.p1.3.m3.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.3.m3.1b"><ci id="S4.I1.i2.p1.3.m3.1.1.cmml" xref="S4.I1.i2.p1.3.m3.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.3.m3.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.3.m3.1d">italic_A</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.1"><math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I1.i3.p1.1.m1.1"><semantics id="S4.I1.i3.p1.1.m1.1a"><msup id="S4.I1.i3.p1.1.m1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.cmml"><mi id="S4.I1.i3.p1.1.m1.1.1.2" xref="S4.I1.i3.p1.1.m1.1.1.2.cmml">A</mi><mo id="S4.I1.i3.p1.1.m1.1.1.3" xref="S4.I1.i3.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.1.m1.1b"><apply id="S4.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i3.p1.1.m1.1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I1.i3.p1.1.m1.1.1.2.cmml" xref="S4.I1.i3.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.I1.i3.p1.1.m1.1.1.3.cmml" xref="S4.I1.i3.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> receives 0 points if there is no meaningful match.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S4.SS2.p1.6">This scoring system was designed to simplify extrinsic evaluation while widening the gaps between perfect, partial, and no matches, providing a more nuanced assessment compared to the traditional 1-2-3, 3-point scoring system. The intention is to create a ranking with greater discrepancy between scores, enabling clearer differentiation of performance levels and allowing for more meaningful comparisons.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">Given below are examples of each scenario.</p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<ul class="ltx_itemize" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.4">7 points: <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i1.p1.1.m1.1"><semantics id="S4.I2.i1.p1.1.m1.1a"><msup id="S4.I2.i1.p1.1.m1.1.1" xref="S4.I2.i1.p1.1.m1.1.1.cmml"><mi id="S4.I2.i1.p1.1.m1.1.1.2" xref="S4.I2.i1.p1.1.m1.1.1.2.cmml">A</mi><mo id="S4.I2.i1.p1.1.m1.1.1.3" xref="S4.I2.i1.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i1.p1.1.m1.1b"><apply id="S4.I2.i1.p1.1.m1.1.1.cmml" xref="S4.I2.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i1.p1.1.m1.1.1.1.cmml" xref="S4.I2.i1.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I2.i1.p1.1.m1.1.1.2.cmml" xref="S4.I2.i1.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.I2.i1.p1.1.m1.1.1.3.cmml" xref="S4.I2.i1.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.p1.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i1.p1.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> receives 7 points if <math alttext="A" class="ltx_Math" display="inline" id="S4.I2.i1.p1.2.m2.1"><semantics id="S4.I2.i1.p1.2.m2.1a"><mi id="S4.I2.i1.p1.2.m2.1.1" xref="S4.I2.i1.p1.2.m2.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i1.p1.2.m2.1b"><ci id="S4.I2.i1.p1.2.m2.1.1.cmml" xref="S4.I2.i1.p1.2.m2.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.p1.2.m2.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i1.p1.2.m2.1d">italic_A</annotation></semantics></math> and <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i1.p1.3.m3.1"><semantics id="S4.I2.i1.p1.3.m3.1a"><msup id="S4.I2.i1.p1.3.m3.1.1" xref="S4.I2.i1.p1.3.m3.1.1.cmml"><mi id="S4.I2.i1.p1.3.m3.1.1.2" xref="S4.I2.i1.p1.3.m3.1.1.2.cmml">A</mi><mo id="S4.I2.i1.p1.3.m3.1.1.3" xref="S4.I2.i1.p1.3.m3.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i1.p1.3.m3.1b"><apply id="S4.I2.i1.p1.3.m3.1.1.cmml" xref="S4.I2.i1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.I2.i1.p1.3.m3.1.1.1.cmml" xref="S4.I2.i1.p1.3.m3.1.1">superscript</csymbol><ci id="S4.I2.i1.p1.3.m3.1.1.2.cmml" xref="S4.I2.i1.p1.3.m3.1.1.2">𝐴</ci><ci id="S4.I2.i1.p1.3.m3.1.1.3.cmml" xref="S4.I2.i1.p1.3.m3.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.p1.3.m3.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i1.p1.3.m3.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> have exactly the same meaning, with neither additional nor missing information. For example, the following <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i1.p1.4.m4.1"><semantics id="S4.I2.i1.p1.4.m4.1a"><msup id="S4.I2.i1.p1.4.m4.1.1" xref="S4.I2.i1.p1.4.m4.1.1.cmml"><mi id="S4.I2.i1.p1.4.m4.1.1.2" xref="S4.I2.i1.p1.4.m4.1.1.2.cmml">A</mi><mo id="S4.I2.i1.p1.4.m4.1.1.3" xref="S4.I2.i1.p1.4.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i1.p1.4.m4.1b"><apply id="S4.I2.i1.p1.4.m4.1.1.cmml" xref="S4.I2.i1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.I2.i1.p1.4.m4.1.1.1.cmml" xref="S4.I2.i1.p1.4.m4.1.1">superscript</csymbol><ci id="S4.I2.i1.p1.4.m4.1.1.2.cmml" xref="S4.I2.i1.p1.4.m4.1.1.2">𝐴</ci><ci id="S4.I2.i1.p1.4.m4.1.1.3.cmml" xref="S4.I2.i1.p1.4.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.p1.4.m4.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i1.p1.4.m4.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> using DPS is a 7-point answer.</p>
<ul class="ltx_itemize" id="S4.I2.i1.I1">
<li class="ltx_item" id="S4.I2.i1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i1.I1.i1.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i1.I1.i1.p1">
<p class="ltx_p" id="S4.I2.i1.I1.i1.p1.1"><math alttext="Q" class="ltx_Math" display="inline" id="S4.I2.i1.I1.i1.p1.1.m1.1"><semantics id="S4.I2.i1.I1.i1.p1.1.m1.1a"><mi id="S4.I2.i1.I1.i1.p1.1.m1.1.1" xref="S4.I2.i1.I1.i1.p1.1.m1.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i1.I1.i1.p1.1.m1.1b"><ci id="S4.I2.i1.I1.i1.p1.1.m1.1.1.cmml" xref="S4.I2.i1.I1.i1.p1.1.m1.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.I1.i1.p1.1.m1.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i1.I1.i1.p1.1.m1.1d">italic_Q</annotation></semantics></math>: What is the debate about what Desmond said in the context?</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i1.I1.i2.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i1.I1.i2.p1">
<p class="ltx_p" id="S4.I2.i1.I1.i2.p1.1"><math alttext="A" class="ltx_Math" display="inline" id="S4.I2.i1.I1.i2.p1.1.m1.1"><semantics id="S4.I2.i1.I1.i2.p1.1.m1.1a"><mi id="S4.I2.i1.I1.i2.p1.1.m1.1.1" xref="S4.I2.i1.I1.i2.p1.1.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i1.I1.i2.p1.1.m1.1b"><ci id="S4.I2.i1.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I2.i1.I1.i2.p1.1.m1.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.I1.i2.p1.1.m1.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i1.I1.i2.p1.1.m1.1d">italic_A</annotation></semantics></math>: The debate is about what Desmond said to Locke, specifically whether he said “snowman” or “silhouette”.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i1.I1.i3.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i1.I1.i3.p1">
<p class="ltx_p" id="S4.I2.i1.I1.i3.p1.1"><math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i1.I1.i3.p1.1.m1.1"><semantics id="S4.I2.i1.I1.i3.p1.1.m1.1a"><msup id="S4.I2.i1.I1.i3.p1.1.m1.1.1" xref="S4.I2.i1.I1.i3.p1.1.m1.1.1.cmml"><mi id="S4.I2.i1.I1.i3.p1.1.m1.1.1.2" xref="S4.I2.i1.I1.i3.p1.1.m1.1.1.2.cmml">A</mi><mo id="S4.I2.i1.I1.i3.p1.1.m1.1.1.3" xref="S4.I2.i1.I1.i3.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i1.I1.i3.p1.1.m1.1b"><apply id="S4.I2.i1.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I2.i1.I1.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i1.I1.i3.p1.1.m1.1.1.1.cmml" xref="S4.I2.i1.I1.i3.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I2.i1.I1.i3.p1.1.m1.1.1.2.cmml" xref="S4.I2.i1.I1.i3.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.I2.i1.I1.i3.p1.1.m1.1.1.3.cmml" xref="S4.I2.i1.I1.i3.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.I1.i3.p1.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i1.I1.i3.p1.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>: The debate is about whether Desmond said “snowman” or “silhouette”.</p>
</div>
</li>
</ul>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1">3 points. <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i2.p1.1.m1.1"><semantics id="S4.I2.i2.p1.1.m1.1a"><msup id="S4.I2.i2.p1.1.m1.1.1" xref="S4.I2.i2.p1.1.m1.1.1.cmml"><mi id="S4.I2.i2.p1.1.m1.1.1.2" xref="S4.I2.i2.p1.1.m1.1.1.2.cmml">A</mi><mo id="S4.I2.i2.p1.1.m1.1.1.3" xref="S4.I2.i2.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p1.1.m1.1b"><apply id="S4.I2.i2.p1.1.m1.1.1.cmml" xref="S4.I2.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.p1.1.m1.1.1.1.cmml" xref="S4.I2.i2.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I2.i2.p1.1.m1.1.1.2.cmml" xref="S4.I2.i2.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.I2.i2.p1.1.m1.1.1.3.cmml" xref="S4.I2.i2.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p1.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p1.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> receives 3 points in either of the following two cases:</p>
</div>
<div class="ltx_para" id="S4.I2.i2.p2">
<p class="ltx_p" id="S4.I2.i2.p2.5">Case 1: Extra information. <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i2.p2.1.m1.1"><semantics id="S4.I2.i2.p2.1.m1.1a"><msup id="S4.I2.i2.p2.1.m1.1.1" xref="S4.I2.i2.p2.1.m1.1.1.cmml"><mi id="S4.I2.i2.p2.1.m1.1.1.2" xref="S4.I2.i2.p2.1.m1.1.1.2.cmml">A</mi><mo id="S4.I2.i2.p2.1.m1.1.1.3" xref="S4.I2.i2.p2.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p2.1.m1.1b"><apply id="S4.I2.i2.p2.1.m1.1.1.cmml" xref="S4.I2.i2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.p2.1.m1.1.1.1.cmml" xref="S4.I2.i2.p2.1.m1.1.1">superscript</csymbol><ci id="S4.I2.i2.p2.1.m1.1.1.2.cmml" xref="S4.I2.i2.p2.1.m1.1.1.2">𝐴</ci><ci id="S4.I2.i2.p2.1.m1.1.1.3.cmml" xref="S4.I2.i2.p2.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p2.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p2.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> matches the meaning of <math alttext="A" class="ltx_Math" display="inline" id="S4.I2.i2.p2.2.m2.1"><semantics id="S4.I2.i2.p2.2.m2.1a"><mi id="S4.I2.i2.p2.2.m2.1.1" xref="S4.I2.i2.p2.2.m2.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p2.2.m2.1b"><ci id="S4.I2.i2.p2.2.m2.1.1.cmml" xref="S4.I2.i2.p2.2.m2.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p2.2.m2.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p2.2.m2.1d">italic_A</annotation></semantics></math>, but includes additional information not present in <math alttext="A" class="ltx_Math" display="inline" id="S4.I2.i2.p2.3.m3.1"><semantics id="S4.I2.i2.p2.3.m3.1a"><mi id="S4.I2.i2.p2.3.m3.1.1" xref="S4.I2.i2.p2.3.m3.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p2.3.m3.1b"><ci id="S4.I2.i2.p2.3.m3.1.1.cmml" xref="S4.I2.i2.p2.3.m3.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p2.3.m3.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p2.3.m3.1d">italic_A</annotation></semantics></math>. For example, the following <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i2.p2.4.m4.1"><semantics id="S4.I2.i2.p2.4.m4.1a"><msup id="S4.I2.i2.p2.4.m4.1.1" xref="S4.I2.i2.p2.4.m4.1.1.cmml"><mi id="S4.I2.i2.p2.4.m4.1.1.2" xref="S4.I2.i2.p2.4.m4.1.1.2.cmml">A</mi><mo id="S4.I2.i2.p2.4.m4.1.1.3" xref="S4.I2.i2.p2.4.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p2.4.m4.1b"><apply id="S4.I2.i2.p2.4.m4.1.1.cmml" xref="S4.I2.i2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.p2.4.m4.1.1.1.cmml" xref="S4.I2.i2.p2.4.m4.1.1">superscript</csymbol><ci id="S4.I2.i2.p2.4.m4.1.1.2.cmml" xref="S4.I2.i2.p2.4.m4.1.1.2">𝐴</ci><ci id="S4.I2.i2.p2.4.m4.1.1.3.cmml" xref="S4.I2.i2.p2.4.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p2.4.m4.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p2.4.m4.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> using MMR receives 3 points for the reason that <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i2.p2.5.m5.1"><semantics id="S4.I2.i2.p2.5.m5.1a"><msup id="S4.I2.i2.p2.5.m5.1.1" xref="S4.I2.i2.p2.5.m5.1.1.cmml"><mi id="S4.I2.i2.p2.5.m5.1.1.2" xref="S4.I2.i2.p2.5.m5.1.1.2.cmml">A</mi><mo id="S4.I2.i2.p2.5.m5.1.1.3" xref="S4.I2.i2.p2.5.m5.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p2.5.m5.1b"><apply id="S4.I2.i2.p2.5.m5.1.1.cmml" xref="S4.I2.i2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.p2.5.m5.1.1.1.cmml" xref="S4.I2.i2.p2.5.m5.1.1">superscript</csymbol><ci id="S4.I2.i2.p2.5.m5.1.1.2.cmml" xref="S4.I2.i2.p2.5.m5.1.1.2">𝐴</ci><ci id="S4.I2.i2.p2.5.m5.1.1.3.cmml" xref="S4.I2.i2.p2.5.m5.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p2.5.m5.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p2.5.m5.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> contains extra information that the Ford GT40 was produced in limited runs from 1964 to 1969.</p>
<ul class="ltx_itemize" id="S4.I2.i2.I1">
<li class="ltx_item" id="S4.I2.i2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.I1.i1.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i2.I1.i1.p1">
<p class="ltx_p" id="S4.I2.i2.I1.i1.p1.1"><math alttext="Q" class="ltx_Math" display="inline" id="S4.I2.i2.I1.i1.p1.1.m1.1"><semantics id="S4.I2.i2.I1.i1.p1.1.m1.1a"><mi id="S4.I2.i2.I1.i1.p1.1.m1.1.1" xref="S4.I2.i2.I1.i1.p1.1.m1.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i2.I1.i1.p1.1.m1.1b"><ci id="S4.I2.i2.I1.i1.p1.1.m1.1.1.cmml" xref="S4.I2.i2.I1.i1.p1.1.m1.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.I1.i1.p1.1.m1.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.I1.i1.p1.1.m1.1d">italic_Q</annotation></semantics></math>: What was the reason behind the creation of the Ford GT40?</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.I1.i2.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i2.I1.i2.p1">
<p class="ltx_p" id="S4.I2.i2.I1.i2.p1.1"><math alttext="A" class="ltx_Math" display="inline" id="S4.I2.i2.I1.i2.p1.1.m1.1"><semantics id="S4.I2.i2.I1.i2.p1.1.m1.1a"><mi id="S4.I2.i2.I1.i2.p1.1.m1.1.1" xref="S4.I2.i2.I1.i2.p1.1.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i2.I1.i2.p1.1.m1.1b"><ci id="S4.I2.i2.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I2.i2.I1.i2.p1.1.m1.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.I1.i2.p1.1.m1.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.I1.i2.p1.1.m1.1d">italic_A</annotation></semantics></math>: The Ford GT40 was created as a result of a grudge between Henry Ford II and Enzo Ferrari. After a failed attempt to acquire Ferrari, Henry Ford II decided to compete against Ferrari in the prestigious 24 Hours of Le Mans race. To break Ferrari’s dominance in the race, Ford’s chief engineer, Roy Lunn, came up with the concept of the GT40.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.I1.i3.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i2.I1.i3.p1">
<p class="ltx_p" id="S4.I2.i2.I1.i3.p1.1"><math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i2.I1.i3.p1.1.m1.1"><semantics id="S4.I2.i2.I1.i3.p1.1.m1.1a"><msup id="S4.I2.i2.I1.i3.p1.1.m1.1.1" xref="S4.I2.i2.I1.i3.p1.1.m1.1.1.cmml"><mi id="S4.I2.i2.I1.i3.p1.1.m1.1.1.2" xref="S4.I2.i2.I1.i3.p1.1.m1.1.1.2.cmml">A</mi><mo id="S4.I2.i2.I1.i3.p1.1.m1.1.1.3" xref="S4.I2.i2.I1.i3.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i2.I1.i3.p1.1.m1.1b"><apply id="S4.I2.i2.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I2.i2.I1.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.I1.i3.p1.1.m1.1.1.1.cmml" xref="S4.I2.i2.I1.i3.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I2.i2.I1.i3.p1.1.m1.1.1.2.cmml" xref="S4.I2.i2.I1.i3.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.I2.i2.I1.i3.p1.1.m1.1.1.3.cmml" xref="S4.I2.i2.I1.i3.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.I1.i3.p1.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.I1.i3.p1.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>: The Ford GT40 was born out of a rivalry between Henry Ford II and Enzo Ferrari. After a failed attempt to acquire Ferrari, Henry Ford II resolved to challenge Ferrari in the prestigious 24 Hours of Le Mans race. To disrupt Ferrari’s dominance, Ford’s chief engineer, Roy Lunn, conceived the idea for the GT40. It was produced in limited runs from 1964 to 1969.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.I2.i2.p3">
<p class="ltx_p" id="S4.I2.i2.p3.4">Case 2: Partial match. The meaning of <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i2.p3.1.m1.1"><semantics id="S4.I2.i2.p3.1.m1.1a"><msup id="S4.I2.i2.p3.1.m1.1.1" xref="S4.I2.i2.p3.1.m1.1.1.cmml"><mi id="S4.I2.i2.p3.1.m1.1.1.2" xref="S4.I2.i2.p3.1.m1.1.1.2.cmml">A</mi><mo id="S4.I2.i2.p3.1.m1.1.1.3" xref="S4.I2.i2.p3.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p3.1.m1.1b"><apply id="S4.I2.i2.p3.1.m1.1.1.cmml" xref="S4.I2.i2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.p3.1.m1.1.1.1.cmml" xref="S4.I2.i2.p3.1.m1.1.1">superscript</csymbol><ci id="S4.I2.i2.p3.1.m1.1.1.2.cmml" xref="S4.I2.i2.p3.1.m1.1.1.2">𝐴</ci><ci id="S4.I2.i2.p3.1.m1.1.1.3.cmml" xref="S4.I2.i2.p3.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p3.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p3.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> partially overlaps with the meaning of <math alttext="A" class="ltx_Math" display="inline" id="S4.I2.i2.p3.2.m2.1"><semantics id="S4.I2.i2.p3.2.m2.1a"><mi id="S4.I2.i2.p3.2.m2.1.1" xref="S4.I2.i2.p3.2.m2.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p3.2.m2.1b"><ci id="S4.I2.i2.p3.2.m2.1.1.cmml" xref="S4.I2.i2.p3.2.m2.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p3.2.m2.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p3.2.m2.1d">italic_A</annotation></semantics></math>, but not fully. For example, the following <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i2.p3.3.m3.1"><semantics id="S4.I2.i2.p3.3.m3.1a"><msup id="S4.I2.i2.p3.3.m3.1.1" xref="S4.I2.i2.p3.3.m3.1.1.cmml"><mi id="S4.I2.i2.p3.3.m3.1.1.2" xref="S4.I2.i2.p3.3.m3.1.1.2.cmml">A</mi><mo id="S4.I2.i2.p3.3.m3.1.1.3" xref="S4.I2.i2.p3.3.m3.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p3.3.m3.1b"><apply id="S4.I2.i2.p3.3.m3.1.1.cmml" xref="S4.I2.i2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.p3.3.m3.1.1.1.cmml" xref="S4.I2.i2.p3.3.m3.1.1">superscript</csymbol><ci id="S4.I2.i2.p3.3.m3.1.1.2.cmml" xref="S4.I2.i2.p3.3.m3.1.1.2">𝐴</ci><ci id="S4.I2.i2.p3.3.m3.1.1.3.cmml" xref="S4.I2.i2.p3.3.m3.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p3.3.m3.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p3.3.m3.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> generated using BM25 receives 3 points. Reason: <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i2.p3.4.m4.1"><semantics id="S4.I2.i2.p3.4.m4.1a"><msup id="S4.I2.i2.p3.4.m4.1.1" xref="S4.I2.i2.p3.4.m4.1.1.cmml"><mi id="S4.I2.i2.p3.4.m4.1.1.2" xref="S4.I2.i2.p3.4.m4.1.1.2.cmml">A</mi><mo id="S4.I2.i2.p3.4.m4.1.1.3" xref="S4.I2.i2.p3.4.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p3.4.m4.1b"><apply id="S4.I2.i2.p3.4.m4.1.1.cmml" xref="S4.I2.i2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.p3.4.m4.1.1.1.cmml" xref="S4.I2.i2.p3.4.m4.1.1">superscript</csymbol><ci id="S4.I2.i2.p3.4.m4.1.1.2.cmml" xref="S4.I2.i2.p3.4.m4.1.1.2">𝐴</ci><ci id="S4.I2.i2.p3.4.m4.1.1.3.cmml" xref="S4.I2.i2.p3.4.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p3.4.m4.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p3.4.m4.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> clearly leaves out information that the Ford GT40 was conceived by Ford’s chief engineer, Roy Lunn.</p>
<ul class="ltx_itemize" id="S4.I2.i2.I2">
<li class="ltx_item" id="S4.I2.i2.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.I2.i1.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i2.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i2.I2.i1.p1.1"><math alttext="Q" class="ltx_Math" display="inline" id="S4.I2.i2.I2.i1.p1.1.m1.1"><semantics id="S4.I2.i2.I2.i1.p1.1.m1.1a"><mi id="S4.I2.i2.I2.i1.p1.1.m1.1.1" xref="S4.I2.i2.I2.i1.p1.1.m1.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i2.I2.i1.p1.1.m1.1b"><ci id="S4.I2.i2.I2.i1.p1.1.m1.1.1.cmml" xref="S4.I2.i2.I2.i1.p1.1.m1.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.I2.i1.p1.1.m1.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.I2.i1.p1.1.m1.1d">italic_Q</annotation></semantics></math>: What was the reason behind the creation of the Ford GT40?</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.I2.i2.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i2.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.I2.i2.p1.1"><math alttext="A" class="ltx_Math" display="inline" id="S4.I2.i2.I2.i2.p1.1.m1.1"><semantics id="S4.I2.i2.I2.i2.p1.1.m1.1a"><mi id="S4.I2.i2.I2.i2.p1.1.m1.1.1" xref="S4.I2.i2.I2.i2.p1.1.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i2.I2.i2.p1.1.m1.1b"><ci id="S4.I2.i2.I2.i2.p1.1.m1.1.1.cmml" xref="S4.I2.i2.I2.i2.p1.1.m1.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.I2.i2.p1.1.m1.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.I2.i2.p1.1.m1.1d">italic_A</annotation></semantics></math>: See Case 1 above.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.I2.i3.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i2.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i2.I2.i3.p1.1"><math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i2.I2.i3.p1.1.m1.1"><semantics id="S4.I2.i2.I2.i3.p1.1.m1.1a"><msup id="S4.I2.i2.I2.i3.p1.1.m1.1.1" xref="S4.I2.i2.I2.i3.p1.1.m1.1.1.cmml"><mi id="S4.I2.i2.I2.i3.p1.1.m1.1.1.2" xref="S4.I2.i2.I2.i3.p1.1.m1.1.1.2.cmml">A</mi><mo id="S4.I2.i2.I2.i3.p1.1.m1.1.1.3" xref="S4.I2.i2.I2.i3.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i2.I2.i3.p1.1.m1.1b"><apply id="S4.I2.i2.I2.i3.p1.1.m1.1.1.cmml" xref="S4.I2.i2.I2.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.I2.i3.p1.1.m1.1.1.1.cmml" xref="S4.I2.i2.I2.i3.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I2.i2.I2.i3.p1.1.m1.1.1.2.cmml" xref="S4.I2.i2.I2.i3.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.I2.i2.I2.i3.p1.1.m1.1.1.3.cmml" xref="S4.I2.i2.I2.i3.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.I2.i3.p1.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.I2.i3.p1.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>: The reason behind the creation of the Ford GT40 was to compete against Ferrari in racing events, as evidenced by Ford’s continued efforts to improve the GT40 and best the Italians.</p>
</div>
</li>
</ul>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.4">0 points: <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i3.p1.1.m1.1"><semantics id="S4.I2.i3.p1.1.m1.1a"><msup id="S4.I2.i3.p1.1.m1.1.1" xref="S4.I2.i3.p1.1.m1.1.1.cmml"><mi id="S4.I2.i3.p1.1.m1.1.1.2" xref="S4.I2.i3.p1.1.m1.1.1.2.cmml">A</mi><mo id="S4.I2.i3.p1.1.m1.1.1.3" xref="S4.I2.i3.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i3.p1.1.m1.1b"><apply id="S4.I2.i3.p1.1.m1.1.1.cmml" xref="S4.I2.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i3.p1.1.m1.1.1.1.cmml" xref="S4.I2.i3.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I2.i3.p1.1.m1.1.1.2.cmml" xref="S4.I2.i3.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.I2.i3.p1.1.m1.1.1.3.cmml" xref="S4.I2.i3.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.p1.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i3.p1.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> receive 0 points if <math alttext="A" class="ltx_Math" display="inline" id="S4.I2.i3.p1.2.m2.1"><semantics id="S4.I2.i3.p1.2.m2.1a"><mi id="S4.I2.i3.p1.2.m2.1.1" xref="S4.I2.i3.p1.2.m2.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i3.p1.2.m2.1b"><ci id="S4.I2.i3.p1.2.m2.1.1.cmml" xref="S4.I2.i3.p1.2.m2.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.p1.2.m2.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i3.p1.2.m2.1d">italic_A</annotation></semantics></math> and <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i3.p1.3.m3.1"><semantics id="S4.I2.i3.p1.3.m3.1a"><msup id="S4.I2.i3.p1.3.m3.1.1" xref="S4.I2.i3.p1.3.m3.1.1.cmml"><mi id="S4.I2.i3.p1.3.m3.1.1.2" xref="S4.I2.i3.p1.3.m3.1.1.2.cmml">A</mi><mo id="S4.I2.i3.p1.3.m3.1.1.3" xref="S4.I2.i3.p1.3.m3.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i3.p1.3.m3.1b"><apply id="S4.I2.i3.p1.3.m3.1.1.cmml" xref="S4.I2.i3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.I2.i3.p1.3.m3.1.1.1.cmml" xref="S4.I2.i3.p1.3.m3.1.1">superscript</csymbol><ci id="S4.I2.i3.p1.3.m3.1.1.2.cmml" xref="S4.I2.i3.p1.3.m3.1.1.2">𝐴</ci><ci id="S4.I2.i3.p1.3.m3.1.1.3.cmml" xref="S4.I2.i3.p1.3.m3.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.p1.3.m3.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i3.p1.3.m3.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> are distinct from each other with no overlap in meaning. For example, the following <math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i3.p1.4.m4.1"><semantics id="S4.I2.i3.p1.4.m4.1a"><msup id="S4.I2.i3.p1.4.m4.1.1" xref="S4.I2.i3.p1.4.m4.1.1.cmml"><mi id="S4.I2.i3.p1.4.m4.1.1.2" xref="S4.I2.i3.p1.4.m4.1.1.2.cmml">A</mi><mo id="S4.I2.i3.p1.4.m4.1.1.3" xref="S4.I2.i3.p1.4.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i3.p1.4.m4.1b"><apply id="S4.I2.i3.p1.4.m4.1.1.cmml" xref="S4.I2.i3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.I2.i3.p1.4.m4.1.1.1.cmml" xref="S4.I2.i3.p1.4.m4.1.1">superscript</csymbol><ci id="S4.I2.i3.p1.4.m4.1.1.2.cmml" xref="S4.I2.i3.p1.4.m4.1.1.2">𝐴</ci><ci id="S4.I2.i3.p1.4.m4.1.1.3.cmml" xref="S4.I2.i3.p1.4.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.p1.4.m4.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i3.p1.4.m4.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> generated through EDI receives 0 points.</p>
<ul class="ltx_itemize" id="S4.I2.i3.I1">
<li class="ltx_item" id="S4.I2.i3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i3.I1.i1.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i3.I1.i1.p1">
<p class="ltx_p" id="S4.I2.i3.I1.i1.p1.1"><math alttext="Q" class="ltx_Math" display="inline" id="S4.I2.i3.I1.i1.p1.1.m1.1"><semantics id="S4.I2.i3.I1.i1.p1.1.m1.1a"><mi id="S4.I2.i3.I1.i1.p1.1.m1.1.1" xref="S4.I2.i3.I1.i1.p1.1.m1.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i3.I1.i1.p1.1.m1.1b"><ci id="S4.I2.i3.I1.i1.p1.1.m1.1.1.cmml" xref="S4.I2.i3.I1.i1.p1.1.m1.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.I1.i1.p1.1.m1.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i3.I1.i1.p1.1.m1.1d">italic_Q</annotation></semantics></math>: What was the reason behind the creation of the Ford GT40?</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i3.I1.i2.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i3.I1.i2.p1">
<p class="ltx_p" id="S4.I2.i3.I1.i2.p1.1"><math alttext="A" class="ltx_Math" display="inline" id="S4.I2.i3.I1.i2.p1.1.m1.1"><semantics id="S4.I2.i3.I1.i2.p1.1.m1.1a"><mi id="S4.I2.i3.I1.i2.p1.1.m1.1.1" xref="S4.I2.i3.I1.i2.p1.1.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i3.I1.i2.p1.1.m1.1b"><ci id="S4.I2.i3.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I2.i3.I1.i2.p1.1.m1.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.I1.i2.p1.1.m1.1c">A</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i3.I1.i2.p1.1.m1.1d">italic_A</annotation></semantics></math>: See Case 1 above.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I2.i3.I1.i3.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I2.i3.I1.i3.p1">
<p class="ltx_p" id="S4.I2.i3.I1.i3.p1.1"><math alttext="A^{\prime}" class="ltx_Math" display="inline" id="S4.I2.i3.I1.i3.p1.1.m1.1"><semantics id="S4.I2.i3.I1.i3.p1.1.m1.1a"><msup id="S4.I2.i3.I1.i3.p1.1.m1.1.1" xref="S4.I2.i3.I1.i3.p1.1.m1.1.1.cmml"><mi id="S4.I2.i3.I1.i3.p1.1.m1.1.1.2" xref="S4.I2.i3.I1.i3.p1.1.m1.1.1.2.cmml">A</mi><mo id="S4.I2.i3.I1.i3.p1.1.m1.1.1.3" xref="S4.I2.i3.I1.i3.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I2.i3.I1.i3.p1.1.m1.1b"><apply id="S4.I2.i3.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I2.i3.I1.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i3.I1.i3.p1.1.m1.1.1.1.cmml" xref="S4.I2.i3.I1.i3.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I2.i3.I1.i3.p1.1.m1.1.1.2.cmml" xref="S4.I2.i3.I1.i3.p1.1.m1.1.1.2">𝐴</ci><ci id="S4.I2.i3.I1.i3.p1.1.m1.1.1.3.cmml" xref="S4.I2.i3.I1.i3.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.I1.i3.p1.1.m1.1c">A^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i3.I1.i3.p1.1.m1.1d">italic_A start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>: The Ford GT40 was created to take full advantage of the benefits associated with a mid-engine design, including a slinky aerodynamic shape and benign handling characteristics.”</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T3" title="Table 3 ‣ 4.2 Extrinsic Evaluation ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">3</span></a> shows the average scores of comparing answers by freelance annotators as well as the corresponding BERTSim scores. The integers in the row below the row of evaluation scores represent the respective rankings.</p>
</div>
<figure class="ltx_table" id="S4.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Evaluation scores by extrinsic evaluation and intrinsic BERTSim metric with rankings, where “Extr” stands for “extrinsic evaluation” and “Intr” for “intrisic evaluation”</figcaption><img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_landscape" height="157" id="S4.T3.g1" src="extracted/5899851/Similarity.png" width="598"/>
</figure>
<div class="ltx_para" id="S4.SS2.p5">
<p class="ltx_p" id="S4.SS2.p5.1">It is evident that the extrinsic evaluation scores align well with the BERTSim scores, demonstrating consistency in ranking. In particular, both evaluations are in complete agreement for the 2nd, 5th, 6th, and 7th places, with only minor variations in the other rankings. For instance, MMR is ranked 1st by extrinsic evaluation and 3rd by BERTSim, which is quite close. Similarly, TF-IDF is ranked 2nd by extrinsic evaluation and 4th by BERTSim. Notably, DPS, kNN, and TF-IDF all share the 2nd rank in extrinsic evaluation, likely due to the coarseness of human annotation. Since DPS and kNN are essentially the same measures, they should logically be ranked closer to each other than to TF-IDF. Therefore, the extrinsic rank of TF-IDF, while differing slightly from BERTSim, can still be considered reasonably aligned.
Overall, this suggests a strong correlation between the two evaluation methods.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Combining Multiple Retrievers</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">LangChain supports combining multiple retrievers into a new retriever. We use the default setting to return four chunks for each combination. This approach diversifies the retrieved content from the reference document, potentially improving overall performance.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">As examples, we combine all seven retrievers, denoted as A-Seven; three retrievers with the highest OPI-1 scores: kNN, DPS, and TF-IDF, plus MMR for its strength in balancing relevance and diversity, denoted as A-Four; and two retrievers with the highest OPI-1 scores: kNN and DPS, denoted as A-Two.</p>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1">We may also combine the sentences retrieved by individual retrievers, removing any duplicates, and use the remaining set of sentences with the corresponding questions to generate answers and logical relations. Let S-Seven, S-Four, and S-Two denote the sets of sentences obtained this way by the corresponding retrievers as in A-Seven, A-Four, and A-Two.</p>
</div>
<div class="ltx_para" id="S4.SS3.p4">
<p class="ltx_p" id="S4.SS3.p4.1">The experimental results of both types of combinations are shown in
Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T4" title="Table 4 ‣ 4.3 Combining Multiple Retrievers ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<figure class="ltx_table" id="S4.T4">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Evaluation results of various combinations of retrievers and sentences</figcaption><img alt="[Uncaptioned image]" class="ltx_graphics ltx_centering ltx_img_landscape" height="299" id="S4.T4.g1" src="extracted/5899851/Combinations.png" width="620"/>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>ANALYSIS</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">We first analyze the performance of individual retrievers, followed by examining the combinations of retrievers and the sentences retrieved by multiple retrievers.</p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Individual Retrievers</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">For each retriever, we first analyze the performance for each logical relation individually and then assess the overall performance across all logical relations.</p>
</div>
<section class="ltx_subsubsection" id="S5.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.1 </span>Individual logical relation</h4>
<div class="ltx_para" id="S5.SS1.SSS1.p1">
<p class="ltx_p" id="S5.SS1.SSS1.p1.1">We use the OPI-1 scores to help identify the strengths and weaknesses of individual retrievers across the 13 logical relations. For example, as seen in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T2" title="Table 2 ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">2</span></a>, almost all retrievers tend to perform the worst on adversarial reasoning, followed by fuzzy reasoning. For other logical relations, the performance of retrievers varies, indicating that certain retrievers may be more suited to specific types of reasoning tasks while struggling with others. For example,
even for the worst-performing retriever, EDI, which consistently ranks the lowest in both extrinsic and intrinsic evaluations of answer accuracy as seen in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T3" title="Table 3 ‣ 4.2 Extrinsic Evaluation ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">3</span></a>, it still performs best on deductive reasoning. This suggests that while EDI may generally be less effective across various logical relations, it has a particular strength in handling tasks that involve deductive reasoning. This example highlights the nuanced performance of retrievers, where even a generally weaker retriever can excel in specific logical tasks.
This variability in performance highlights the importance of selecting the appropriate retriever.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.2 </span>Across all logical relations</h4>
<div class="ltx_para" id="S5.SS1.SSS2.p1">
<p class="ltx_p" id="S5.SS1.SSS2.p1.1">The average OPI-1 scores provide a means to identify, across all 13 logical relations, which retrievers are more suitable for specific tasks and which retrievers should be avoided. For example, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T2" title="Table 2 ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">2</span></a>, EDI has the lowest and SVM the second-lowest average OPI-1 scores, indicating they should generally be avoided. This is likely due to the limitations of the underlying features used to compute SVM scores and the coarseness of L2-norms when representing text chunks as bag-of-word vectors, which may fail to capture the nuanced relationships required for deep logical reasoning tasks.</p>
</div>
<div class="ltx_para" id="S5.SS1.SSS2.p2">
<p class="ltx_p" id="S5.SS1.SSS2.p2.1">On the other hand, kNN has the highest and DPS the second-highest average OPI-1 scores, indicating that these retrievers would be the best choices for answering deep-logic questions. kNN (cosine similarity) and DPS are similar measures, with kNN being a normalized version of DPS, which explains their comparable performance. However, kNN takes slightly more time to compute than DPS, as DPS is the fastest among all seven retrievers—dot products are the simplest and quickest to compute compared to the operations used by other retrievers.</p>
</div>
<div class="ltx_para" id="S5.SS1.SSS2.p3">
<p class="ltx_p" id="S5.SS1.SSS2.p3.1">The MMR retriever allows GPT-4o to generate better answers across all logical relations, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T3" title="Table 3 ‣ 4.2 Extrinsic Evaluation ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">3</span></a>
. However, it does not perform as well in producing the correct logical relations. This discrepancy may be attributed to MMR’s focus on balancing relevance and diversity in retrieved content, which improves answer quality but doesn’t necessarily align with capturing accurate logical relations.</p>
</div>
<div class="ltx_para" id="S5.SS1.SSS2.p4">
<p class="ltx_p" id="S5.SS1.SSS2.p4.2">BM25 is in general more effective for retrieving longer documents in a document corpus with the default parameter values for <math alttext="\kappa" class="ltx_Math" display="inline" id="S5.SS1.SSS2.p4.1.m1.1"><semantics id="S5.SS1.SSS2.p4.1.m1.1a"><mi id="S5.SS1.SSS2.p4.1.m1.1.1" xref="S5.SS1.SSS2.p4.1.m1.1.1.cmml">κ</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p4.1.m1.1b"><ci id="S5.SS1.SSS2.p4.1.m1.1.1.cmml" xref="S5.SS1.SSS2.p4.1.m1.1.1">𝜅</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p4.1.m1.1c">\kappa</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS2.p4.1.m1.1d">italic_κ</annotation></semantics></math> and <math alttext="b" class="ltx_Math" display="inline" id="S5.SS1.SSS2.p4.2.m2.1"><semantics id="S5.SS1.SSS2.p4.2.m2.1a"><mi id="S5.SS1.SSS2.p4.2.m2.1.1" xref="S5.SS1.SSS2.p4.2.m2.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p4.2.m2.1b"><ci id="S5.SS1.SSS2.p4.2.m2.1.1.cmml" xref="S5.SS1.SSS2.p4.2.m2.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p4.2.m2.1c">b</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS2.p4.2.m2.1d">italic_b</annotation></semantics></math>. However, to retrieve sentences from an article, it was shown that BM25 would should use different parameter values <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx18" title="">Zhang et al., 2021</a>]</cite>.
This explains why BM25 is the second worse for generating answers as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T3" title="Table 3 ‣ 4.2 Extrinsic Evaluation ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">3</span></a> by both extrinsic and intrinsic evaluations. It is not clear, however, why it produces a relatively higher LRCR value.</p>
</div>
<div class="ltx_para" id="S5.SS1.SSS2.p5">
<p class="ltx_p" id="S5.SS1.SSS2.p5.1">TF-IDF’s performance falls in the middle range, which is expected. As a frequency-based approach, it may struggle to capture deeper semantic information, but it remains relatively effective because it retains lexical information, ensuring that important terms are still emphasized in the retrieval process.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Performance of Various Combinations</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">We first analyze the performance of combinations of retrievers versus individual retrievers, followed by an analysis of combining retrievers algorithmically versus combining sentences retrieved by individual retrievers within the combination.</p>
</div>
<section class="ltx_subsubsection" id="S5.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.2.1 </span>Combinations vs. individuals</h4>
<div class="ltx_para" id="S5.SS2.SSS1.p1">
<p class="ltx_p" id="S5.SS2.SSS1.p1.1">It can be seen from Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T4" title="Table 4 ‣ 4.3 Combining Multiple Retrievers ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">4</span></a> that A-Seven outperforms A-Four, which in turn outperforms A-Two. A similar ranking is observed with S-Seven, S-Four, and S-Two. Moreover, both A-Seven and A-Four are substantially better than the top performer, kNN, when only a single retriever is used (see both Tables <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T2" title="Table 2 ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">2</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T4" title="Table 4 ‣ 4.3 Combining Multiple Retrievers ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">4</span></a>). A similar result is observed with S-Seven and S-Four, where combining more retrieved sentences from different retrievers also enhances performance, reinforcing the benefits of increased diversity in the retrieval process.
These results all confirm the early suggestion that combining more retrievers generally enhances performance in both algorithmic and sentence-based combinations, supporting the idea that diverse retrieval methods contribute positively to the overall effectiveness of the RAG system.</p>
</div>
<div class="ltx_para" id="S5.SS2.SSS1.p2">
<p class="ltx_p" id="S5.SS2.SSS1.p2.1">However, we also observe that some combinations of retrievers may actually lead to poorer performance compared to using the individual retrievers alone. This is evident in the case of A-Two and S-Two, the algorithmic and sentence combinations of kNN and DPS, both result in slightly lower average OPI-1 scores than kNN alone. This is probably due to the fact that kNN and DPS are very similar measures, and combining them doesn’t significantly increase diversity. Worse, the extra information provided through their combination seems to have led to diminishing returns, negating the potential benefits of combining retrievers to improve performance. This phenomenon warrants further investigation.</p>
</div>
<div class="ltx_para" id="S5.SS2.SSS1.p3">
<p class="ltx_p" id="S5.SS2.SSS1.p3.1">Nevertheless, combining retrievers based on different retrieval methodologies could help increase diversity and, consequently, improve overall performance. This is evident in the case of A-Seven and S-Seven, which combine retrievers utilizing diverse retrieval methods, as well as in A-Four and S-Four, where MMR—a retrieval method that balances relevance and diversity—complements kNN. By leveraging varied retrieval techniques, we can ensure that a broader range of relevant content is retrieved, potentially leading to greater accuracy and more robust logical reasoning in the generated answers.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.2.2 </span>Combining algorithms vs. combining sentences</h4>
<div class="ltx_para" id="S5.SS2.SSS2.p1">
<p class="ltx_p" id="S5.SS2.SSS2.p1.1">We compare the outcomes of combining retrievers at the algorithm level versus the sentence level. Combining retrievers at the algorithm level is a feature supported by LangChain, which returns the same default number of chunks before sentences are extracted. In contrast, combining retrievers at the sentence level involves merging sentences retrieved by individual retrievers, which may include more sentences than the algorithmic combination, and so should lead to a slightly better performance. This is evident when comparing A-Four with S-Four and A-Two with S-Two (see Table <a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#S4.T4" title="Table 4 ‣ 4.3 Combining Multiple Retrievers ‣ 4 EVALUATION ‣ Intrinsic Evaluation of RAG Systems for Deep-Logic QuestionsThis work was supported in part by Librum Technologies, Inc."><span class="ltx_text ltx_ref_tag">4</span></a>).</p>
</div>
<div class="ltx_para" id="S5.SS2.SSS2.p2">
<p class="ltx_p" id="S5.SS2.SSS2.p2.1">However, having more sentences may not always lead to improvement, as it can introduce conflicting information. This is evident when comparing A-Seven with S-Seven, where S-Seven has a lower average OPI-1 score than A-Seven. This is likely because A-Seven has already saturated the useful sentences, while S-Seven introduces additional sentences that negatively impact the average OPI-1 score.</p>
</div>
<div class="ltx_para" id="S5.SS2.SSS2.p3">
<p class="ltx_p" id="S5.SS2.SSS2.p3.1">In summary, these analyses suggest that, when combining appropriate retrievers, both algorithmic and sentence-level approaches offer performance improvements, with each method providing distinct advantages in terms of retrieval diversity and the quality of generated answers. Selecting appropriate retrievers requires a deeper understanding of the underlying retrieval mechanisms, making this an interesting topic for further investigation.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>FINAL REMARKS</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">This paper presents an effective intrinsic evaluate method for the performance of RAG systems in connection to question-answering involving deep logical reasoning.</p>
</div>
<div class="ltx_para" id="S6.p2">
<p class="ltx_p" id="S6.p2.1">LangChain supports a wide range of retrievers and allows users to integrate custom retrievers. Additionally, there are numerous large language models (LLMs) such as the Gemini series <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx10" title="">Google, 2024</a>]</cite>, LlaMA series <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx15" title="">Meta, 2024</a>]</cite>, and Claude series <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx4" title="">Claude AI, 2024</a>]</cite>, among others, as well as various retrieval-augmented generation (RAG) tools like LLAMAINDEX <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx14" title="">LlamaIndex, 2024</a>]</cite>, HayStack <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx6" title="">Deepset, 2024</a>]</cite>, EmbedChain <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx9" title="">EmbedChain, 2024</a>]</cite>, and RAGatouille <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2410.02932v1#bib.bibx1" title="">AnswerDotAI, 2024</a>]</cite>.
Evaluating the performance of these models and tools, particularly for answering deep-logic questions where identifying logical relations is essential, represents an intriguing direction for future research.</p>
</div>
<div class="ltx_para" id="S6.p3">
<p class="ltx_p" id="S6.p3.1">Regularly reporting the findings of such investigations would significantly contribute to the advancement of RAG technologies. Furthermore, we aim to develop a tool that quantitatively assesses the depth of logical relations in question-answering systems relative to the underlying context. This effort would necessitate the creation of a new dataset that annotates the depth of each logical relation for every triple consisting of a question, an answer, and a set of reference sentences.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">REFERENCES</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bibx1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">AnswerDotAI, 2024</span>
<span class="ltx_bibblock">
AnswerDotAI (2024).

</span>
<span class="ltx_bibblock">Ragatouille.

</span>
<span class="ltx_bibblock">Accessed: 2024-09-06.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bishop, 2006</span>
<span class="ltx_bibblock">
Bishop, C. M. (2006).

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bibx2.1.1">Pattern Recognition and Machine Learning</span>.

</span>
<span class="ltx_bibblock">Springer.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carbonell and Goldstein, 1998</span>
<span class="ltx_bibblock">
Carbonell, J. and Goldstein, J. (1998).

</span>
<span class="ltx_bibblock">The use of mmr, diversity-based reranking for reordering documents and producing summaries.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bibx3.1.1">Proceedings of the 21st annual international ACM SIGIR conference on Research and development in information retrieval</span>, pages 335–336.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Claude AI, 2024</span>
<span class="ltx_bibblock">
Claude AI (2024).

</span>
<span class="ltx_bibblock">Claude.

</span>
<span class="ltx_bibblock">Accessed: 2024-09-06.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cortes and Vapnik, 1995</span>
<span class="ltx_bibblock">
Cortes, C. and Vapnik, V. (1995).

</span>
<span class="ltx_bibblock">Support-vector networks.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bibx5.1.1">Machine Learning</span>, 20(3):273–297.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deepset, 2024</span>
<span class="ltx_bibblock">
Deepset (2024).

</span>
<span class="ltx_bibblock">Haystack - deepset.

</span>
<span class="ltx_bibblock">Accessed: 2024-09-06.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devlin et al., 2018</span>
<span class="ltx_bibblock">
Devlin, J., Chang, M.-W., Lee, K., and Toutanova, K. (2018).

</span>
<span class="ltx_bibblock">Bert: Pre-training of deep bidirectional transformers for language understanding.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bibx7.1.1">arXiv preprint arXiv:1810.04805</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">D.H., 2024</span>
<span class="ltx_bibblock">
D.H., C. (2024).

</span>
<span class="ltx_bibblock">Rag dataset 12000.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">EmbedChain, 2024</span>
<span class="ltx_bibblock">
EmbedChain (2024).

</span>
<span class="ltx_bibblock">Embedchain.

</span>
<span class="ltx_bibblock">Accessed: 2024-09-06.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Google, 2024</span>
<span class="ltx_bibblock">
Google (2024).

</span>
<span class="ltx_bibblock">Gemini - google.

</span>
<span class="ltx_bibblock">Accessed: 2024-09-06.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">LangChain, 2024</span>
<span class="ltx_bibblock">
LangChain (2024).

</span>
<span class="ltx_bibblock">Langchain official website.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis and Gale, 1994</span>
<span class="ltx_bibblock">
Lewis, D. D. and Gale, W. A. (1994).

</span>
<span class="ltx_bibblock">A study of f-measure in information retrieval.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bibx12.1.1">Proceedings of the Third Annual Symposium on Document Analysis and Information Retrieval (SDAIR’94)</span>, pages 187–199. Citeseer.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al., 2020</span>
<span class="ltx_bibblock">
Lewis, P., Perez, E., Piktus, A., Petroni, F., Karpukhin, V., Goyal, N., Küttler, H., Lewis, M., tau Yih, W., Rocktäschel, T., et al. (2020).

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bibx13.1.1">arXiv preprint arXiv:2005.11401</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">LlamaIndex, 2024</span>
<span class="ltx_bibblock">
LlamaIndex (2024).

</span>
<span class="ltx_bibblock">Retrieval-augmented generation (rag) - llamaindex.

</span>
<span class="ltx_bibblock">Accessed: 2024-09-06.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Meta, 2024</span>
<span class="ltx_bibblock">
Meta (2024).

</span>
<span class="ltx_bibblock">Llama - meta.

</span>
<span class="ltx_bibblock">Accessed: 2024-09-06.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Robertson and Zaragoza, 2009</span>
<span class="ltx_bibblock">
Robertson, S. and Zaragoza, H. (2009).

</span>
<span class="ltx_bibblock">The probabilistic relevance framework: Bm25 and beyond.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bibx16.1.1">Foundations and Trends in Information Retrieval</span>, 3(4):333–389.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sammut and Webb, 2011</span>
<span class="ltx_bibblock">
Sammut, C. and Webb, G. I. (2011).

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bibx17.1.1">TF–IDF</span>.

</span>
<span class="ltx_bibblock">Springer.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al., 2021</span>
<span class="ltx_bibblock">
Zhang, H., Zhou, Y., and Wang, J. (2021).

</span>
<span class="ltx_bibblock">Contextual networks and unsupervised ranking of sentences.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bibx18.1.1">Proceedings of the 33rd IEEE International Conference on Tools with Artificial Intelligence (ICTAI 2021)</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bibx19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou and Wang, 2023</span>
<span class="ltx_bibblock">
Zhou, Y. and Wang, J. (2023).

</span>
<span class="ltx_bibblock">Content significance distributions of sub-text blocks in articles and its application to article-organization assessment.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bibx19.1.1">Proceedings of the 15th Knowledge Discovery and Information Retrieval (KDIR 2023)</span>.

</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Thu Oct  3 19:23:49 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
